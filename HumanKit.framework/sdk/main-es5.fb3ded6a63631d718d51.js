(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("ION/")},"ION/":function(e,t,n){"use strict";n.r(t);var l=n("CcnG"),i=function(e){return e.Loft="loft",e.Studio="studio",e.Viewer="viewer",e.All="",e}({}),o=function(e){return e.Bookmark="bookmark",e.Module="module",e}({}),a=function(e){return e.Local="Local",e.QA="QA",e.Staging="Staging",e.Production="Production",e}({}),r=function(e){return e.Web="web",e.SDK="sdk",e}({}),u={production:!0,assetDomain:"assets-human.biodigital.com",supportEmail:"support@biodigital.com",googleAuthKey:"66261904577-061oin26uo7sor0vrqc8dnn105irq82n.apps.googleusercontent.com",facebookAuthKey:"218801781466301",googleAnalyticsId:"UA-1141985-29",rollbarToken:"dd70f513aa0740668070fa3fd62b33a0",recaptchaKey:"6LdvZvcUAAAAAM0Z1St9WQXwvSYd__hMUY2WZ6um",application:i.Viewer,deploy:a.Production,platform:r.SDK,exportType:o.Bookmark},c=n("t/Na"),s=n("67Y/"),p=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e).pipe(Object(s.a)((function(e){return e instanceof c.h&&e.body&&e.body.hasOwnProperty("results")&&(e=e.clone({body:e.body.results})),e})))},e}(),d=n("ZYCi"),b=function(){function e(){}return e.prototype.parse=function(e){e=e.replace(/&amp;/g,"&");var t=(new d.c).parse(e);return this.ensureQueryParam(t.queryParams,"dk",e),this.ensureQueryParam(t.queryParams,"uaid",e),t},e.prototype.serialize=function(e){return(new d.c).serialize(e).replace(/%2F/g,"/")},e.prototype.ensureQueryParam=function(e,t,n){if(e.hasOwnProperty(t))return e;var l=this.getParameterByName(t,n);return null!==l&&(e[t]=l),e},e.prototype.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e}(),g=n("g5Ei"),h={accessToken:u.rollbarToken,captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:u.deploy},ignoredMessages:["asset not found","this._setCompressedTextureImage is not a function"],enabled:!1},m=new l.s("rollbar"),f=function(){function e(e){this.rollbar=e}return e.prototype.handleError=function(e){u.deploy!==a.Production&&console.error(e),this.rollbar.error(e.originalError||e)},e}();immer.enableAllPlugins(),immer.setUseProxies(u.platform===r.SDK);var y,x=function(){return new g(h)},_=function(){return function(){}}(),v=n("mrSG"),O=n("fdbx"),w=function(){return function(){}}(),C=function(){function e(e,t,n){this.hostingURL=e,this.embedded=t,this.widgetConfig=n}return e.type="[Widget] Setup Widget",e}(),j=function(){function e(e,t){this.interaction=e,this.source=t}return e.type="[Widget] Log Interaction",e}(),k=function(){function e(e,t){this.interaction=e,this.response=t}return e.type="[Widget] Log Interaction Success",e}(),S=function(){function e(e,t){this.interaction=e,this.response=t}return e.type="[Widget] Log Interaction Failure",e}(),P=function(){function e(){}return e.type="[Widget] Auth",e}(),M=function(){function e(e,t){this.userType=e,this.response=t}return e.type="[Widget] Auth Success",e}(),I=function(){function e(e,t){this.userType=e,this.response=t}return e.type="[Widget] Auth Failure",e}(),T=function(){function e(){}return e.type="[Widget] Reset",e}(),K=function(){function e(e){this.enabled=e}return e.type="[Widget] Set Input Enabled",e}(),z=function(){function e(e){this.config=e}return e.type="[Widget] Set API Config",e}(),U=n("F/XL"),E=n("9Z1F"),L=function(e){return e.InvalidUAID="analytic id does not exist",e.InvalidDeveloperId="Client id invalid",e.InvalidProductKey="app product key",e.MissingUAID="analytic id missing",e.WebOnlyAPI="Api key only compatible with Web Widget",e.AndroidOnlyAPI="Api key only compatible with Mobile Widget SDK for Android",e.IOSOnlyAPI="Api key only compatible with Mobile Widget SDK for iOS",e.MixedAPIKeys="Use of both an app product key and an app api key not allowed",e.ProductKeyNotRegistered='App product key "xxx" has not been registered or is incorrect.  Ensure it has been registered by the system admin',e.ProductKeyInvalidAppBundleID='The app product key "xxx" has not been authorized to be used for app bundle id "yyy".  Confirm the correct values are being used from the system admin',e.ProductKeyBundleIDWhitelist='Use of app product key "xxx" requires the affiliated app bundle id (app_domain) to be white-listed.  Ensure the system admin has white-listed "yyy"',e.ImproperProductKeyUsage='Improper use of app product key "xxx" detected. Contact the system admin if issue continues',e.InvalidPlatformSource="Invalid platform source",e.MissingSource="Missing source",e.MissingPlatform="Missing platform",e.MissingAppDomain="Missing app domain",e.APIKeyMissing="Api key missing",e.APIKeyInvalid="Api key invalid",e.DeveloperDeactivated="Developer account for api key is deactivated",e.BundleIDNotAllowed="App bundle id not allowed",e.BundleIDUnregistered="App bundle id unregistered",e}({}),A=function(){return function(){}}(),F=function(){return function(){}}(),D=n("b36G"),N=function(e){return e.Widget="widget",e.WidgetAPI="widgetapi",e}({}),R={headers:new c.g({"Content-Type":"application/json; charset=utf-8"})},B=function(){function e(e){this.http=e}return e.prototype.getAnalytic=function(e){var t=this;return this.http.get("/ws/user/analytics?analytic_id="+e).pipe(Object(s.a)((function(){return{success:!0}})),Object(E.a)((function(e){return Object(U.a)(t.parseError(e))})))},e.prototype.sendAnalytic=function(e){var t=this;return this.http.post(e instanceof F?"/ws/user/analytics":"/ws/developer/apps/access/key",e,R).pipe(Object(s.a)((function(){return{success:!0}})),Object(E.a)((function(e){return Object(U.a)(t.parseError(e))})))},e.prototype.buildDeveloperAnalytic=function(e,t,n,l){void 0===n&&(n=N.Widget);var i=e.widgetUrlConfig,o={platform:n,app_activity:t,app_productkey:i["app-productkey"],app_userid:i["app-userid"],app_apikey:i.dk,app_domain:e.parentUrl.domain,app_activity_data:l,widget_is_fullscreen:!e.embedded};return Object(D.plainToClass)(A,o)},e.prototype.parseError=function(e){var t=e.error.error,n=e.status,l=t&&t.message?t.message:"";return{success:n>=500&&n<=504,message:l,errorCode:Object.values(L).includes(l)?l:null}},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c))},token:e,providedIn:"root"}),e}(),H=function(){function e(e){this.analyticsService=e}return e.prototype.authDeveloper=function(e){return this.analyticsService.sendAnalytic(e)},e.prototype.authUser=function(e){return this.analyticsService.getAnalytic(e)},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(B))},token:e,providedIn:"root"}),e}(),V=n("2WpN"),$=function(){return function(){}}(),Q=function(e){return e[e.User=0]="User",e[e.Developer=1]="Developer",e}({}),W=function(e){return e.Init="init",e.View="view",e.ChanceInteraction="interactionc",e.FirstInteraction="interactionf",e.Call="call",e}({}),G=function(){return(G=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},q=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Y={userType:Q.User,authenticating:!1,authenticated:!1,widgetUrlConfig:{id:"",type:""},widgetApiConfig:null,parentUrl:{full:"",domain:""},embedded:!1,engineVersion:"",engineAPIVersion:"",inputEnabled:!0},X=function(){function e(e,t){this.authService=e,this.analyticsService=t}return e.getWidgetState=function(e){return e},e.getUserType=function(e){return e.userType},e.getWidgetAuthenticating=function(e){return e.authenticating},e.getWidgetAuthenticated=function(e){return e.authenticated},e.getInputEnabled=function(e){return e.inputEnabled},e.getEmbedded=function(e){return e.embedded},e.getParentURL=function(e){return e.parentUrl.full},e.getWidgetUrlConfig=function(e){return e.widgetUrlConfig},e.getWidgetApiUIConfig=function(e){return e.widgetApiConfig},e.prototype.setupWidget=function(e,t){var n=t.hostingURL,l=t.embedded,i=t.widgetConfig,o=n.match(/:\/\/(.[^/]+)/);e.patchState({userType:i.uaid?Q.User:Q.Developer,embedded:l,widgetUrlConfig:i,parentUrl:{full:n,domain:o&&o[1]?o[1]:n}})},e.prototype.authWidget=function(e,t){var n=e.getState(),l=n.userType,i=l===Q.User?this.authService.authUser(n.widgetUrlConfig.uaid):this.authService.authDeveloper(this.analyticsService.buildDeveloperAnalytic(n,W.Init,N.WidgetAPI,this.buildAppActivityData(n)));e.patchState({authenticating:!0}),i.pipe(Object(V.a)((function(){return e.patchState({authenticating:!1})}))).subscribe((function(t){var n=t.success;e.patchState({authenticated:n}),e.dispatch(n?new M(l,t):new I(l,t))}))},e.prototype.logWidgetInteraction=function(e,t){var n=t.interaction,l=t.source,i=e.getState(),o=i.userType===Q.User?this.buildUserAnalytic(i,n,l):this.analyticsService.buildDeveloperAnalytic(i,n,N.Widget,this.buildAppActivityData(i));this.analyticsService.sendAnalytic(o).subscribe((function(t){e.dispatch(t.success?new k(n,t):new S(n,t))}))},e.prototype.resetWidget=function(e,t){e.setState(Y)},e.prototype.buildAppActivityData=function(e){var t={engine_version:e.engineVersion,api_version:e.engineAPIVersion};return Object.entries(e.widgetUrlConfig).filter((function(e){return"dk"!==q(e,1)[0]})).forEach((function(e){var n=q(e,2);t["url_param_"+n[0]]=n[1]})),Object(D.plainToClass)($,t)},e.prototype.setInputEnabled=function(e,t){e.patchState({inputEnabled:t.enabled})},e.prototype.setWidgetApiConfig=function(e,t){e.patchState({widgetApiConfig:t.config})},e.prototype.buildUserAnalytic=function(e,t,n){var l,i=e.widgetUrlConfig.uaid,o=e.parentUrl.domain,a=G({},this.buildAppActivityData(e),((l={parent_analytic_identifier:i,referer_domain:o})[t+"_source"]=n,l)),r={analytic_platform:N.Widget,analytic_type:t,analytic_data:a};return Object(D.plainToClass)(F,r)},e.prototype.ngxsOnInit=function(e){e.patchState({engineVersion:Human.VERSION,engineAPIVersion:Human.API_VERSION})},Object(v.__decorate)([Object(O.a)(C),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,C]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setupWidget",null),Object(v.__decorate)([Object(O.a)(P),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,P]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"authWidget",null),Object(v.__decorate)([Object(O.a)(j),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,j]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"logWidgetInteraction",null),Object(v.__decorate)([Object(O.a)(T),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,T]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetWidget",null),Object(v.__decorate)([Object(O.a)(K),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,K]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setInputEnabled",null),Object(v.__decorate)([Object(O.a)(z),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,z]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setWidgetApiConfig",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetState",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getUserType",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetAuthenticating",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetAuthenticated",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getInputEnabled",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getEmbedded",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getParentURL",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetUrlConfig",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[w]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetApiUIConfig",null),Object(v.__decorate)([Object(O.g)({name:"widget",defaults:Y})],e)}(),Z=n("K9Ia"),J=n("6blF"),ee=n("ny24"),te=n("VnD/"),ne=function(e){return e[e.Basics=0]="Basics",e[e.All=1]="All",e[e.Shortcuts=2]="Shortcuts",e}({});!function(e){var t=function(){function e(e){this.canHover=e}return e.type="[View] Set Can Hover",e}();e.SetCanHover=t;var n=function(){function e(e){this.canTouch=e}return e.type="[View] Set Can Touch",e}();e.SetCanTouch=n;var l=function(){function e(e){this.canFullscreen=e}return e.type="[View] Set Can Fullscreen",e}();e.SetCanFullscreen=l;var i=function(){function e(e){this.layout=e}return e.type="[View] Set Layout",e}();e.SetLayout=i;var o=function(){function e(e){this.layout=e}return e.type="[View] Set Initial Layout",e}();e.SetInitialLayout=o;var a=function(){function e(e){this.enabled=e}return e.type="[View] Set Input Enabled",e}();e.SetInputEnabled=a;var r=function(){function e(e){this.mode=e}return e.type="[View] Set Search Display Mode",e}();e.SetSearchDisplayMode=r;var u=function(){function e(e){this.active=e}return e.type="[View] Toggle Presentation",e}();e.TogglePresentation=u;var c=function(){function e(e){this.interactType=e}return e.type="[View] Set Interact Type",e}();e.SetInteractType=c;var s=function(){function e(e){void 0===e&&(e=ne.Basics),this.tab=e}return e.type="[View] Toggle Help Tab",e}();e.ToggleHelpTab=s;var p=function(){function e(e){this.tutorial=e}return e.type="[View] Set Tutorial",e}();e.SetTutorial=p;var d=function(){function e(e){this.intro=e}return e.type="[View] Start Tutorial",e}();e.StartTutorial=d;var b=function(){function e(){}return e.type="[View] Tutorial Next",e}();e.TutorialNext=b;var g=function(){function e(){}return e.type="[View] Tutorial Previous",e}();e.TutorialPrevious=g;var h=function(){function e(e){this.show=e}return e.type="[View] Toggle Node Info",e}();e.ToggleNodeInfo=h;var m=function(){function e(e){this.enabled=e}return e.type="[View] Set multi pick mode enabled",e}();e.SetMultiPickModeEnabled=m;var f=function(){function e(e){this.labelsBreakpoint=e}return e.type="[View] Set Label Breakpoint",e}();e.SetLabelBreakpoint=f;var y=function(){function e(e){this.usePrintImage=e}return e.type="[View] Set Use Print Image",e}();e.SetUsePrintImage=y;var x=function(){function e(e){this.windows=e}return e.type="[View] Set Windows",e}();e.SetWindows=x;var _=function(){function e(e){this.window=e}return e.type="[View] Open Window",e}();e.OpenWindow=_;var v=function(){function e(e){this.window=e}return e.type="[View] Close Window",e}();e.CloseWindow=v;var O=function(){function e(e,t){this.window=e,this.show=t}return e.type="[View] Toggle Window",e}();e.ToggleWindow=O;var w=function(){function e(e){this.open=e}return e.type="[View] Toggle Menu",e}();e.ToggleMenu=w}(y||(y={}));var le=function(){function e(e,t,n){this.store=e,this.router=t,this.analyticsService=n,this.title="Biodigital Human",this.ngUnsubscribe=new Z.a,n.init(u.googleAnalyticsId)}return e.prototype.ngOnInit=function(){this.initPageAnalytics(),this.initInputObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initInputObserver=function(){var e=this;this.inputEnabled$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new y.SetInputEnabled(t))}))},e.prototype.initPageAnalytics=function(){var e=this;this.router.events.pipe(Object(te.a)((function(e){return e instanceof d.d})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.analyticsService.logPageView(t.urlAfterRedirects)}))},Object(v.__decorate)([Object(O.e)(X.getInputEnabled),Object(v.__metadata)("design:type",J.a)],e.prototype,"inputEnabled$",void 0),e}(),ie=n("t68o"),oe=n("NcP4"),ae=n("xYTU"),re=n("D2NE"),ue=n("pMnS"),ce=n("Ip0R"),se=function(){function e(){this.display="block",this.theme="dark",this.isCompact=!1}return e.prototype.ngOnInit=function(){},e}(),pe=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.field[_ngcontent-%COMP%]{padding-bottom:16px;display:block;width:100%}.field--light[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{color:#6a82a4}.field--dark[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{color:#96a8c0}.field--inline[_ngcontent-%COMP%]{display:inline-block;width:auto}.field--compact[_ngcontent-%COMP%]{padding-bottom:0}.field__help[_ngcontent-%COMP%]:not(:empty){padding-top:8px}"]],data:{}});function de(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"label",[["class","field__label text-uppercase text-10"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function be(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"field--light":0,"field--dark":1,"field--inline":2,"field--compact":3}),(e()(),l.ob(16777216,null,null,1,null,de)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(6,0,null,null,3,"div",[["class","field__input mt-1"]],null,null,null,null,null)),l.Jb(null,0),(e()(),l.yb(8,0,null,null,1,"div",[["class","field__help text-dim text-11"]],null,null,null,null,null)),l.Jb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"light"===n.theme,"dark"===n.theme,"inline"===n.display,n.isCompact);e(t,2,0,"field",l),e(t,5,0,n.label)}),null)}var ge=n("gIcY"),he=function(){function e(){}return Object.defineProperty(e.prototype,"iconClass",{get:function(){var e="fas fa-"+this.icon;return this.size&&(e+=" fa-"+this.size),e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),me=l.wb({encapsulation:2,styles:[[""]],data:{}});function fe(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"i",[],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{ngClass:[0,"ngClass"]},null)],(function(e,t){e(t,2,0,t.component.iconClass)}),null)}var ye=function(){function e(){}return e.prototype.onClick=function(e){e.stopPropagation(),e.stopImmediatePropagation()},e}(),xe=n("Z5h4"),_e=n("de3e"),ve=n("lLAP"),Oe=n("wFw1"),we=function(){function e(e){this.changeRef=e,this.toggleType="none",this.isCompact=!1,this.opened=new l.o,this.disabled=!1,this.onChange=function(){},this.onTouched=function(){},this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"open",{get:function(){return this._open},set:function(e){e!==this.open&&(this._open=e,this.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this.value&&(this._value=e,this.open=e,this.propagateChange(this.value),this.changeRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleClickHeader=function(){"none"===this.toggleType||this.disabled||(this.open=!this.open,this.opened.emit(this.open))},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e}(),Ce=l.wb({encapsulation:0,styles:[[".panel[_ngcontent-%COMP%]{border-top:1px solid #1c2a3f}.theme-light[_nghost-%COMP%]   .panel[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel[_ngcontent-%COMP%]{border-top:1px solid #eaeff5}.panel--static[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]:hover{cursor:default}.panel--open[_ngcontent-%COMP%]{box-shadow:inset 4px 0 #2d72dc}.theme-light[_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]{background-color:#fff}.panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#fff}.theme-light[_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#101823}.panel--open[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{display:block}.panel--closed[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{display:none}.panel--compact[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{padding:4px 12px 12px}.panel--compact[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]{padding:10px 8px}.panel__header[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;word-break:break-word;padding:12px 16px;-webkit-box-pack:justify;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.panel__header[_ngcontent-%COMP%]:hover{cursor:pointer}.panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%]{color:#fff}.theme-light[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%]{color:#101823}.panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__actions[_ngcontent-%COMP%], .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__toggle--arrow[_ngcontent-%COMP%]{visibility:visible}.panel__actions[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;white-space:nowrap;visibility:hidden}.panel__actions[_ngcontent-%COMP%] + .panel__toggle[_ngcontent-%COMP%]{margin-left:8px}.panel__label[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;color:#d7e0ea;-webkit-box-align:center;align-items:center}.theme-light[_nghost-%COMP%]   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#283853;font-weight:700}.panel__body[_ngcontent-%COMP%]{display:block;padding:12px 12px 16px}.panel__toggle[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 16px}.panel__toggle--arrow[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function je(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"div",[["class","panel__toggle panel__toggle--arrow rotate--animate"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"rotate-90":0,"rotate-0":1}),(e()(),l.yb(4,0,null,null,1,"app-icon",[["icon","angle-right"]],null,null,null,fe,me)),l.xb(5,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.open,!n.open);e(t,2,0,"panel__toggle panel__toggle--arrow rotate--animate",l),e(t,5,0,"angle-right")}),null)}function ke(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["appEventFence",""],["class","panel__toggle panel__toggle--checkbox"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.xb(1,16384,null,0,ye,[],null,null),(e()(),l.yb(2,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==(e.component.open=n.checked)&&l),l}),xe.b,xe.a)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(4,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],{checked:[0,"checked"],disabled:[1,"disabled"]},{change:"change"})],(function(e,t){var n=t.component;e(t,4,0,n.open,n.disabled)}),(function(e,t){e(t,2,0,l.Kb(t,4).id,null,l.Kb(t,4).indeterminate,l.Kb(t,4).checked,l.Kb(t,4).disabled,"before"==l.Kb(t,4).labelPosition,"NoopAnimations"===l.Kb(t,4)._animationMode)}))}function Se(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,null,null,null,null,null,null,null)),l.xb(1,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,je)),l.xb(3,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,ke)),l.xb(5,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,t.component.toggleType),e(t,3,0,"arrow"),e(t,5,0,"checkbox")}),null)}function Pe(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"div",[["class","panel__header"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClickHeader()&&l),l}),null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","panel__label text-12"]],[[1,"data-test",0]],null,null,null,null)),(e()(),l.Sb(2,null,["",""])),(e()(),l.yb(3,0,null,null,2,"div",[["appEventFence",""],["class","panel__actions"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,4).onClick(n,n.target)&&i),i}),null,null)),l.xb(4,16384,null,0,ye,[],null,null),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,Se)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,7,0,"none"!==t.component.toggleType)}),(function(e,t){var n=t.component;e(t,1,0,n.dataTestAttributeVal),e(t,2,0,n.label)}))}function Me(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,7,"div",[["class","panel"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"panel--static":0,"panel--disabled":1,"panel--open":2,"panel--closed":3,"panel--compact":4}),(e()(),l.ob(16777216,null,null,1,null,Pe)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(6,0,null,null,1,"div",[["class","panel__body"]],null,null,null,null,null)),l.Jb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"none"===n.toggleType,n.disabled,n.open,!1===n.open,n.isCompact);e(t,2,0,"panel",l),e(t,5,0,n.label)}),null)}var Ie=n("9It4"),Te=n("Ourk"),Ke=n("YlbQ"),ze=n("2Q+G"),Ue=n("mVsa"),Ee=function(){function e(e){this.changeDetector=e,this.hide=!1,this._isActive=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this._isActive=e,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),Le=n("26FU"),Ae=n("qyHS"),Fe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},De=function(){function e(e){this.changeDetector=e,this.display="normal",this.activeTabChange=new l.o,this._activeTab=new Le.a(0),this.tabSize="small",this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"activeTab",{get:function(){return this._activeTab.value},set:function(e){null!=e&&("string"==typeof e&&(e=e.toUpperCase()),this._activeTab.next(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabItems",{get:function(){return this._tabItems},set:function(e){this._tabItems=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){var e=this;this._tabs.changes.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.mapTabs(),e.changeDetector.markForCheck()})),this.mapTabs(),this._activeTab.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.showTab(t)})),this._activeTab.pipe(Object(Ae.a)(),Object(te.a)((function(e){var t=Fe(e,2);return t[0]!==t[1]})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Fe(t,2);e.activeTabChange.next(n[1])}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleTabSelect=function(e){this._activeTab.next(e.index)},e.prototype.mapTabs=function(){this.tabItems=this._tabs.map((function(e,t){return{index:t,label:e.label||"Item "+t,tab:e}}))},e.prototype.showTab=function(e){this._tabs.forEach((function(t,n){switch(typeof e){case"number":t.isActive=e===n;break;case"string":t.isActive=e.toString().toUpperCase()===t.label.toUpperCase()}})),this.changeDetector.markForCheck()},e.prototype.isTabActive=function(e){return("string"==typeof this._activeTab.value?e.label.toUpperCase():e.index)===this._activeTab.value},e}(),Ne=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tabs__labels[_ngcontent-%COMP%]{margin-bottom:8px}.tabs__label[_ngcontent-%COMP%]{color:#96a8c0;padding:2px 4px 4px;margin-right:8px;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.tabs__label[_ngcontent-%COMP%]:after{content:'';display:block;border-bottom:3px solid #0060c4;margin-top:4px;width:0;-webkit-transition:.25s;transition:.25s ease;position:absolute;bottom:0;left:0}.tabs__label[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.tabs__label--active[_ngcontent-%COMP%]{color:#fff}.tabs__label--active[_ngcontent-%COMP%]:after{width:100%}.tabs--medium[_ngcontent-%COMP%]   .tabs__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.tabs--medium[_ngcontent-%COMP%]   .tabs__label--active[_ngcontent-%COMP%]{border-bottom:2px solid #0060c4}.theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]{color:#374a68;font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:after, .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:after{border-color:#1c5ab9}.theme-light[_nghost-%COMP%]   .tabs__label--active[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .tabs__label--active[_ngcontent-%COMP%], .theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:hover, .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:hover{color:#283853}"]],data:{}});function Re(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"a",[["class","tabs__label"]],[[2,"tabs__label--active",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabSelect(e.parent.context.$implicit)&&l),l}),null,null)),(e()(),l.yb(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Sb(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.isTabActive(t.parent.context.$implicit)),e(t,2,0,t.parent.context.$implicit.label)}))}function Be(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Re)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.tab.linkExternal)}),null)}function He(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,8,"div",[["class","tabs"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"tabs--small":0,"tabs--medium":1}),(e()(),l.yb(4,0,null,null,2,"div",[["class","tabs__labels"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Be)),l.xb(6,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(7,0,null,null,1,"div",[["class","tabs__content"]],null,null,null,null,null)),l.Jb(null,0)],(function(e,t){var n=t.component,l=e(t,3,0,"small"==n.tabSize,"medium"==n.tabSize);e(t,2,0,"tabs",l),e(t,6,0,n.tabItems)}),null)}var Ve=l.wb({encapsulation:0,styles:[[""]],data:{}});function $e(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[],null,null,null,null,null)),l.Jb(null,0)],null,null)}function Qe(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,$e)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isActive)}),null)}var We=function(e){return e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e}({}),Ge=function(e){return e.Default="default",e.Flat="flat",e.Primary="primary",e.Outline="outline",e.Text="text",e}({}),qe=function(e){return e.Default="default",e.Circle="circle",e}({}),Ye=function(e){return e.Dark="dark",e.Light="light",e.Themed="themed",e}({}),Xe=function(e){return e.Left="left",e.Center="center",e}({}),Ze=function(){function e(){this.buttonSize=We.Medium,this.buttonType=Ge.Default,this.buttonTheme=Ye.Dark,this.buttonShape=qe.Default,this.buttonAlign=Xe.Center,this.uppercase=!0,this.selected=!1,this.expanded=!1,this.bordered=!0}return e.prototype.ngOnInit=function(){},e}(),Je=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-button]{border-color:transparent;background:0 0;border-width:0;padding:0;margin:0;outline:0}button[app-button]:not([disabled]):hover{cursor:pointer}button[app-button]:focus .app-button--themed{background:#e4ecf9;outline:0}.app-button{font-size:12px;letter-spacing:.3px;line-height:1.4em;-webkit-box-align:center;align-items:center;border-radius:4px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;padding:0 16px;position:relative;text-align:center;-webkit-transition:background-color .12s;transition:background-color .12s;width:100%}.app-button:after{content:\" \";background-color:#283853;border-radius:4px;display:block;position:absolute;left:0;top:0;bottom:0;right:0;opacity:0;z-index:1;-webkit-transition:opacity 60ms;transition:opacity 60ms}.app-button:not(.app-button--disabled):hover:after{opacity:.7}.app-button__container{position:relative;z-index:2;width:100%}.app-button--uppercase{text-transform:uppercase}.app-button--expanded{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.app-button--xsmall{height:24px;min-width:24px;padding:0 8px;font-size:10px;letter-spacing:.25px;line-height:1.4em}.app-button--small{height:32px;min-width:32px;padding:0 12px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-button--medium{height:36px;min-width:36px;padding:0 16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-button--large{height:48px;min-width:48px;padding:0 16px;font-size:14px;letter-spacing:.35px;line-height:1.4em}.app-button--no-border,.app-button--no-border:after{border-radius:0!important}.app-button--left{text-align:left}.app-button--themed{color:#374a68;color:var(--app-button-color)}.app-button--themed:hover{color:#1c2a3f;color:var(--app-button-color--hover)}.app-button--themed:after{background-color:#d7e0ea;background-color:var(--app-button-bg--hover)}.app-button--dark{color:#d7e0ea}.app-button--dark:hover{color:#fff}.app-button--dark:after{background-color:#283853}.app-button--dark.app-button--flat{background:#374a68}.app-button--dark.app-button--default{background:0 0}.app-button--dark.app-button--outline{background:0 0;border:1px solid #374a68;-webkit-transition:border-color .12s;transition:border-color .12s}.app-button--dark.app-button--outline:hover{border-color:#96a8c0}.app-button--dark.app-button--outline:hover:after{background-color:transparent;display:none}.app-button--dark.app-button--text{background:0 0;color:#d7e0ea}.app-button--dark.app-button--text:hover{color:#fff}.app-button--dark.app-button--text:hover:after{display:none}.app-button--dark.app-button--selected{background-color:#1c5ab9;color:#fff}.app-button--dark.app-button--selected:hover:after{display:none}.app-button--light{color:#283853}.app-button--light:hover{color:#1c2a3f}.app-button--light:after{background-color:#96a8c0}.app-button--light:not(.app-button--disabled):hover:after{opacity:.6}.app-button--light.app-button--flat{background:#d7e0ea;font-weight:500}.app-button--light.app-button--flat.app-button--selected{background-color:#96a8c0}.app-button--light.app-button--default{background:0 0;color:#131c2a}.app-button--light.app-button--default:not(.app-button--disabled):hover:after{opacity:.2}.app-button--light.app-button--outline{background:0 0;border:1px solid #96a8c0;color:#283853;-webkit-transition:border-color .12s;transition:border-color .12s}.app-button--light.app-button--outline:after{display:none}.app-button--light.app-button--outline:hover{background:rgba(55,74,104,.05);border-color:#374a68;color:#1c2a3f}.app-button--light.app-button--outline:hover:after{background-color:transparent}.app-button--light.app-button--selected{background-color:#eaeff5}.app-button--light.app-button--selected:hover:after{display:none}.app-button--light.app-button--text{color:#6a82a4}.app-button--light.app-button--text:hover{color:#1c2a3f}.app-button--light.app-button--text:hover:after{display:none}.app-button.app-button--primary{background:#de3838;color:#fff}.app-button.app-button--primary:after{background:#f9fafd}.app-button.app-button--primary:hover:after{opacity:.1}.app-button--selected{background-color:#1c5ab9}.app-button--disabled{opacity:.5}.app-button--circle{border-radius:50%}.app-button--circle.app-button--xsmall{width:24px}.app-button--circle.app-button--small{width:32px;padding:0 6px}.app-button--circle.app-button--medium{width:36px;padding:0 8px}.app-button--circle.app-button--large{width:48px}.app-button--circle:after{border-radius:50%}"]],data:{}});function et(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,5,"div",[["class","app-button"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"app-button--xsmall":0,"app-button--small":1,"app-button--medium":2,"app-button--large":3,"app-button--flat":4,"app-button--default":5,"app-button--primary":6,"app-button--outline":7,"app-button--text":8,"app-button--light":9,"app-button--dark":10,"app-button--themed":11,"app-button--circle":12,"app-button--selected":13,"app-button--uppercase":14,"app-button--disabled":15,"app-button--no-border":16,"app-button--expanded":17,"app-button--left":18}),(e()(),l.yb(4,0,null,null,1,"div",[["class","app-button__container"]],null,null,null,null,null)),l.Jb(null,0)],(function(e,t){var n=t.component,l=e(t,3,1,["xsmall"==n.buttonSize,"small"==n.buttonSize,"medium"==n.buttonSize,"large"==n.buttonSize,"flat"==n.buttonType,"default"==n.buttonType,"primary"==n.buttonType,"outline"==n.buttonType,"text"==n.buttonType,"light"==n.buttonTheme,"dark"==n.buttonTheme,"themed"==n.buttonTheme,"circle"==n.buttonShape,n.selected,n.uppercase,n.disabled,!n.bordered,n.expanded,"left"===n.buttonAlign]);e(t,2,0,"app-button",l)}),null)}var tt,nt=n("eDkP"),lt=n("Fzqc"),it=n("v9Dh"),ot=n("qAlS"),at=n("dWZg"),rt=n("ZYjt"),ut=n("P8j/"),ct=function(){return function(e,t,n,l){void 0===l&&(l=1),this.red=e,this.green=t,this.blue=n,this.alpha=l}}(),st=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},pt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(st(arguments[t]));return e};!function(e){var t=/(\s*[\d\.]+\s*,){2,15}\s*[\d\.]+\s*/g;function n(e){for(var t=0;t<3;t++)if(parseFloat(""+e[t])>1)return!0;return!1}function l(e){var t=document.createElement("div");t.style.backgroundColor=e,document.documentElement.appendChild(t);var n=window.getComputedStyle(t).backgroundColor.replace(/\s/g,"");return window.document.documentElement.removeChild(t),n}function i(e){var t=e.slice(0,4);3===t.length&&t.push(1);for(var n=0;n<4;n++)t[n]=parseFloat(""+t[n]),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255);return t[3]>1&&(t[3]=1),t}function o(e){var n;if(Array.isArray(e))n=i(e);else if("string"==typeof e){var o=e.match(t);o?n=i(o[0].split(",")):(o=l(e).match(t))&&(n=i(o[0].split(",")))}return n}function a(e){var t=o(e);if(!t)throw new TypeError("Invalid color input.");var l=r(t);return{1:n(t)?l:t,255:n(t)?t:l}}function r(e){for(var t=n(e),l=[],i=0;i<3;i++){var o=t?e[i]/255:255*e[i];o=t?Math.round(100*o)/100:Math.round(o),l.push(o)}return 4===e.length&&l.push(e[3]),l}function u(e,t){void 0===t&&(t=!1),e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,l){return[t,t,n,n,l,l].join("")})).replace(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,(function(e,t,n,l){return[t,n,l,"ff"].join("")}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),l=parseInt(n[1],16),i=parseInt(n[2],16),o=parseInt(n[3],16),a=parseInt(n[4],16)/255;if(t){var r=s([l,i,o]);return[r[0],r[1],r[2],a]}return[l,i,o,a]}function c(e){var t=st(e,3),n=t[0],l=t[1],i=t[2];return Math.sqrt(n*n*.299+l*l*.587+i*i*.114)}function s(e){return e.map((function(e){return e/255}))}function p(e){return e.map((function(e){return Math.round(255*e)}))}function d(e){return"#"+e.map((function(e){var t=e.toString(16);return t.length%2?"0"+t:t})).join("")}e.is255=n,e.isLight=function(e,t){return t||(t=pt(e)),(c(e)+c(t))/2>140.25},e.getComputedColor=l,e.convertChannels=i,e.convert=o,e.getColor=a,e.getColors=function(e){var n=[];if("string"==typeof e){var l=e.match(t);l&&(e=l.join(",")),e=e.split(",")}if(Array.isArray(e))if(Array.isArray(e[0])&&Array.isArray(e[1]))n=e;else if(e.length<=2)n=1===e.length?e.concat(e):e;else{var i=Math.floor(e.length/2);n=e.length>4?[e.slice(0,i),e.slice(i)]:[e,e]}return n.map((function(e){return a(e)}))},e.scaleColor=r,e.hexToRgba=u,e.hexToRgb=function(e,t){void 0===t&&(t=!1);var n=u(e,t);return[n[0],n[1],n[2]]},e.rgbToHex=function(e,t){return void 0===t&&(t=!1),d(t?p(e):e)},e.rgbToHSP=c,e.rgbaToHex=function(e,t){void 0===t&&(t=!1);var n=e[0],l=e[1],i=e[2],o=255*e[3];return d(t?pt(p([n,l,i]),[o]):[n,l,i,o])},e.rgbToDecimal=s,e.rgbFromDecimal=p}(tt||(tt={}));var dt=function(){function e(){this.size="normal",this.colorSelected=new l.o,this.colorHexSelected=new l.o}return Object.defineProperty(e.prototype,"colorHex",{get:function(){return this.getHexFromColor(this.color)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundCSS",{get:function(){if(this.color){var e=this.color;return"rgba("+255*e.red+", "+255*e.green+", "+255*e.blue+", "+e.alpha+")"}return""},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleColorPickerChange=function(e){var t=e?this.getColorFromHex(e):null;this.colorSelected.emit(t),this.colorHexSelected.emit(e)},e.prototype.getColorFromHex=function(e){var t=tt.hexToRgba(e,!0);return new ct(t[0],t[1],t[2],t[3])},e.prototype.getHexFromColor=function(e){return e?tt.rgbaToHex([e.red,e.green,e.blue,e.alpha],!0):""},e}(),bt=l.wb({encapsulation:0,styles:[[".picker[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;border-radius:50%;border:1px solid #6a82a4;background-color:transparent}.picker--small[_ngcontent-%COMP%]{width:24px;height:24px}.picker--large[_ngcontent-%COMP%]{width:48px;height:48px}"]],data:{}});function gt(e){return l.Ub(2,[(e()(),l.yb(0,16777216,null,null,1,"div",[["class","picker"]],[[2,"picker--small",null],[2,"picker--normal",null],[2,"picker--large",null],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1).handleClick()&&i),"focus"===t&&(i=!1!==l.Kb(e,1).handleFocus()&&i),"input"===t&&(i=!1!==l.Kb(e,1).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==o.handleColorPickerChange(n)&&i),i}),null,null)),l.xb(1,671744,null,0,ut.b,[l.t,l.k,l.g,l.T,l.l,ut.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"]},{colorPickerChange:"colorPickerChange"})],(function(e,t){var n=t.component;e(t,1,0,n.colorHex,"hex",n.alphaEnabled?"always":"disabled")}),(function(e,t){var n=t.component;e(t,0,0,"small"===n.size,"normal"===n.size,"large"===n.size,n.backgroundCSS)}))}var ht=function(){return function(){}}(),mt=function(){return ht},ft=function(){function e(){this.type=o.Bookmark,this.favorite=!1,this.unavailable=!1}return Object(v.__decorate)([Object(D.Type)(mt),Object(v.__metadata)("design:type",Array)],e.prototype,"group_access",void 0),e}(),yt=n("VNr4"),xt=function(){return(xt=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_t=function(){function e(){}return e.prototype.roundModel=function(e,t){var n=this,l=xt({},e);return Object.keys(e).filter((function(t){return"number"==typeof e[t]})).forEach((function(i){l[i]=n.roundNumber(e[i],t)})),l},e.prototype.roundNumber=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),vt=function(){function e(e){this.numberService=e,this.rotation={vx:0,vy:0},this.pan={x:0,y:0,z:0},this.zoom=0}return e.prototype.getEye=function(){return Human.renderer.camera.eye},e.prototype.setEye=function(e){Human.renderer.camera.setLookAt({eye:e})},e.prototype.getCamera=function(){return Human.renderer.camera.getLookAt()},e.prototype.getLookDirection=function(){var e=vec3.create();return Human.renderer.camera.getLookDir(e),e},e.prototype.setCamera=function(e){return Human.renderer.camera.setLookAt(e)},e.prototype.getCameraZoom=function(){return Human.renderer.camera.getZoom()},e.prototype.captureCamera=function(){return{lookAt:Human.renderer.camera.getLookAt(),zoom:Human.renderer.camera.getZoom()}},e.prototype.resetCamera=function(){return new J.a((function(e){Human.init.resetCamera((function(){e.next(),e.complete()}))}))},e.prototype.getDirection=function(e){var t=this.getEye(),n=vec3.create();return n[0]=t.x-e.worldPos[0],n[1]=t.y-e.worldPos[1],n[2]=t.z-e.worldPos[2],vec3.normalize(n,n),n},e.prototype.rotateCameraStatic=function(e,t){Human.renderer.camera.rotateX(e),Human.renderer.camera.rotateY(t)},e.prototype.panCameraStatic=function(e,t,n){Human.renderer.camera.pan({x:e,y:t,z:n})},e.prototype.setHumanZoom=function(e){Human.renderer.camera.zoom(e)},e.prototype.setHumanZoomFactor=function(e){Human.renderer.camera.setZoom(e)},e.prototype.setCameraRotation=function(e,t){this.rotation.vx=t,this.rotation.vy=-e},e.prototype.setCameraPan=function(e,t){this.pan.x=e,this.pan.y=t},e.prototype.setCameraZoom=function(e){this.zoom=.03*e},e.prototype.tickCameraRotation=function(){return this.rotation.vx=this.checkEpsilon(this.rotation.vx),this.rotation.vy=this.checkEpsilon(this.rotation.vy),this.rotation},e.prototype.tickCameraPan=function(){return this.pan.x=this.checkEpsilon(this.pan.x),this.pan.y=this.checkEpsilon(this.pan.y),this.pan.z=this.checkEpsilon(this.pan.z),this.pan},e.prototype.tickCameraZoom=function(){return this.zoom=this.checkEpsilon(this.zoom),this.zoom},e.prototype.areCamerasEqual=function(e,t){return this.compareXYZ(e.eye,t.eye)&&this.compareXYZ(e.look,t.look)&&this.compareXYZ(e.up,t.up)},e.prototype.compareXYZ=function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z},e.prototype.roundCamera=function(e,t){var n=e.look,l=e.up;return{eye:this.numberService.roundModel(e.eye,t),look:this.numberService.roundModel(n,t),up:this.numberService.roundModel(l,t)}},e.prototype.checkEpsilon=function(e){return Math.abs(e)<.001?0:e},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(_t))},token:e,providedIn:"root"}),e}(),Ot=function(){return function(){this.background={colors:null},this.uiAnnotations=!1,this.uiAudio=!1,this.uiInfo=!0,this.uiFullscreen=!0,this.uiScrubber=!1,this.uiHelp=!0,this.uiBd="",this.loadRotate=null,this.initial={button:!1,handHint:!1,play:!1},this.disableScroll={alert:!1,overlay:!1},this.uiTour=!1,this.uiNav=!0,this.uiSearch=!0,this.uiTools=!0,this.uiReset=!0,this.uiLabelList=!0,this.uiChapterList=!1,this.all=!1,this.collapseLabel=null,this.uiMenu=!0,this.uiAnatomyDescriptions=!1,this.uiTutorial=!1,this.uiLegend=!0}}(),wt=n("psW0"),Ct=n("a1DB"),jt=function(){function e(e){this.papa=e}return e.prototype.importCSV=function(e){var t=this;return new J.a((function(n){var l=t.papa.parse(e),i=l.data,o=l.errors;o.length?(n.error(o),n.complete()):(n.next(i),n.complete())}))},e.prototype.exportCSV=function(e,t,n){var l=this;void 0===n&&(n=!0);var i=[];return n&&i.push(t.map((function(e){return e.label}))),e.forEach((function(e){var n=t.map((function(t){return e[t.field]}));i.push(n)})),new J.a((function(e){var t=l.papa.unparse(i,{quotes:!0,header:!1});e.next(t),e.complete()}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(Ct.a))},token:e,providedIn:"root"}),e}(),kt=n("Iab2"),St=n("0/uQ"),Pt=n("wOnQ"),Mt=n.n(Pt),It=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Tt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(It(arguments[t]));return e},Kt=function(e){return e.JPEG="image/jpeg",e.PNG="image/png",e}({}),zt=function(){function e(){}return e.prototype.canvasToBlob=function(e,t,n){return new J.a((function(l){e.toBlob((function(e){l.next(e),l.complete()}),t,n)}))},e.prototype.fitCanvas=function(e,t){var n=t.width,l=t.height,i=document.createElement("canvas");i.width=n,i.height=l;var o=i.getContext("2d"),a=e.height,r=i.width/i.height*a,u=.5*(e.width-r);return new J.a((function(t){o.drawImage(e,u,0,r,a,0,0,i.width,i.height),t.next(i),t.complete()}))},e.prototype.elementToCanvas=function(e,t){void 0===t&&(t=!1);var n=t?{backgroundColor:"transparent"}:{};return Object(St.a)(Mt()(e,n))},e.prototype.combineCanvasElements=function(e){var t=Math.max.apply(Math,Tt([0],e.map((function(e){return e.width})))),n=Math.max.apply(Math,Tt([0],e.map((function(e){return e.height})))),l=document.createElement("canvas");l.width=t,l.height=n;var i=l.getContext("2d");return e.forEach((function(e){i.drawImage(e,0,0)})),l},e.prototype.base64ToBlob=function(e,t){for(var n=atob(e.split(",")[1]),l=new ArrayBuffer(n.length),i=new Uint8Array(l),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([l],{type:t})},e.prototype.blobToBase64=function(e){return new J.a((function(t){var n=new FileReader;n.addEventListener("load",(function(){t.next(n.result),t.complete()})),n.readAsDataURL(e)}))},e.prototype.blobToCanvas=function(e,t){var n=t.width,l=t.height;return new J.a((function(t){var i=document.createElement("canvas");i.width=n,i.height=l;var o=i.getContext("2d"),a=new Image;a.addEventListener("load",(function(){o.drawImage(a,0,0),t.next(i),t.complete()})),a.src=URL.createObjectURL(e)}))},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ut={title:"Desktop",type:"desktop",dimensions:{width:700,height:550},orientation:"vertical"},Et=n("LvDl"),Lt=function(){return(Lt=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},At=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ft={headers:new c.g({"Content-Type":"application/json; charset=utf-8"})},Dt=new Ot,Nt=function(e){return e.Single="share.widget.link",e.Bulk="share.widget.export",e}({}),Rt={id:"embedded-human",dimensions:Ut.dimensions,fullScreen:!0},Bt=function(){function e(e,t,n,l,i){this.http=e,this.cameraService=t,this.numberService=n,this.exportService=l,this.imageService=i}return e.prototype.exportImage=function(e,t,n){var l=this.imageService.base64ToBlob(e,t);return Object(kt.saveAs)(l,n),Object(U.a)(!0)},e.prototype.exportModels=function(e,t,n,l,i,o,a){var r=this;void 0===a&&(a=!1);var u=[{label:"Title",field:"title"},{label:"URL",field:"url"},{label:"iFrame",field:"iFrame"},{label:"Author",field:"author"},{label:"Thumbnail URL",field:"thumbnail_url"}];return a&&u.push({label:"Offline Package URL",field:"offline_url"}),this.getExportModels(e,t,n,l,i,o,a).pipe(Object(wt.a)((function(e){return r.exportService.exportCSV(e,u)})),Object(s.a)((function(e){var t="BioDigital-Widgets-"+(new Date).toISOString().split("T")[0]+"-export.csv",n=new Blob([e],{type:"text/csv;charset=utf-8"});return Object(kt.saveAs)(n,t),!0})))},e.prototype.getExportModels=function(e,t,n,l,i,o,a){var r=this;void 0===a&&(a=!1);var u=o?Object(U.a)(null):this.getUAID(Nt.Bulk),c=a?this.getDownloadURLs(e):Object(U.a)([]);return Object(yt.a)(u,c).pipe(Object(s.a)((function(a){var u=At(a,2),c=u[0],s=u[1];return e.map((function(e,a){var u=e.title,p=e.author,d=e.thumbnail_url,b=r.getWidgetURL(e,t,n,null,c,i,o);return{title:u,url:b,iFrame:r.getWidgetEmbed(b,l),author:p,thumbnail_url:r.buildThumbnailURL(d),offline_url:s[a]||""}}))})))},e.prototype.generateWidgetURL=function(e,t,n,l,i,o,a){var r=this;return(a||!i?Object(U.a)(null):this.getUAID(i)).pipe(Object(s.a)((function(i){return r.getWidgetURL(e,t,n,l,i,o,a)})))},e.prototype.getWidgetURL=function(e,t,n,l,i,o,a){var r=this;void 0===o&&(o="en"),n=n||Dt;var u="bookmark"===e.type,c={};c[u?"be":"m"]=""+(u?e.id:e.module_name);var s=Lt({},c,this.getParamsForUIOptions(n||Dt),this.getParamsForLoadingExperience(n||Dt),this.getParamsForScrollMode(n||Dt),this.getParamsForLoadRotate(n||Dt),this.getParamsForUIOptions(n||Dt)),p=Object(Et.get)(n,"background.colors");if(Array.isArray(p)&&p.length>=3){var d=p.slice(0,4).map((function(e){return r.numberService.roundNumber(e,3)}));s["background.colors"]=""+d}if(l){var b=this.cameraService.roundCamera(l,3),g=b.eye,h=b.look,m=b.up;s.camera=""+[g.x,g.y,g.z,h.x,h.y,h.z,m.x,m.y,m.z]}a?s.dk=a.app_apikey:i&&(s.uaid=i),o&&"en"!==o&&(s.lang=o);var f=this.isCustomWidget(e.embed_url_path)?e.embed_url_path:t;return this.buildWidgetURL(f,s)},e.prototype.generateWidgetEmbed=function(e,t,n,l,i,o,a,r){var u=this;return this.generateWidgetURL(e,t,n,i,o,a,r).pipe(Object(s.a)((function(e){return u.getWidgetEmbed(e,l)})))},e.prototype.getWidgetEmbed=function(e,t){var n=t||Rt.dimensions;return'<iframe\n  id="'+Rt.id+'"\n  frameBorder="0"\n  width="'+n.width+'"\n  height="'+n.height+'"\n  allowFullScreen="'+Rt.fullScreen+'"\n  src="'+e+'">\n</iframe>'},e.prototype.getImageEmbed=function(e,t,n){var l=("BioDigital Human: "+e).replace(/"/g,"&quot;");return'<a href="'+t+'" target="_blank"><img src="'+n+'" alt="'+l+'" title="'+l+'" /></a>'},e.prototype.getUAID=function(e){return this.http.post("/ws/user/analytics",{analytic_type:""+e,analytic_platform:"app"},Ft).pipe(Object(s.a)((function(e){return e.id})))},e.prototype.getDownloadURLs=function(e){var t=this,n=e.filter((function(e){return!e.favorite&&!e.unavailable})).map((function(e){return{type:e.type,id:"module"===e.type?e.module_name:e.id}}));return this.http.post("/ws/download/reserve",{content:n},{headers:{"Content-Type":"application/json"}}).pipe(Object(s.a)((function(n){var l=n.tokens;return e.map((function(e){var n=e.type,i="module"===e.type?e.module_name:e.id,o=l.find((function(e){return e.type===n&&e.id===i}));return o&&o.token?t.buildDownloadURL(o.token):""}))})),Object(E.a)((function(){return Object(U.a)(e.map((function(){return""})))})))},e.prototype.extendWidgetOptions=function(e,t){var n=this.expandWidgetOptions(t);return this.deepExtendWidgetOptions(e,n),e},e.prototype.getWidgetConfig=function(e){var t=this,n={};return Object.keys(e).forEach((function(l){var i=e[l];if(null!==i){var o=t.getConfigName(l);n[o]=i}})),n},e.prototype.getConfigName=function(e){var t=this.camelToDashCase(e).replace(/^ui-/g,"");return this.dashCaseToCamelCase(t)},e.prototype.getParamsForLoadingExperience=function(e){return e.initial.button?{"initial.button":!0}:e.initial.handHint?{"initial.hand":!0}:e.initial.play?{"initial.play":!0}:{}},e.prototype.getParamsForScrollMode=function(e){return e.disableScroll.alert?{"disable-scroll.alert":!0}:e.disableScroll.overlay?{"disable-scroll":!0}:{"disable-scroll":!1}},e.prototype.getParamsForLoadRotate=function(e){return"number"==typeof e.loadRotate?{"load-rotate":e.loadRotate}:{}},e.prototype.getParamsForUIOptions=function(e){return{"ui-info":e.uiInfo,"ui-search":e.uiSearch,"ui-reset":e.uiReset,"ui-fullscreen":e.uiFullscreen,"ui-nav":e.uiNav,"ui-tools":e.uiTools,"ui-help":e.uiHelp,"ui-chapter-list":e.uiChapterList,"ui-label-list":e.uiLabelList,"ui-anatomy-descriptions":e.uiAnatomyDescriptions,"ui-tutorial":e.uiTutorial}},e.prototype.camelToDashCase=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.prototype.dashCaseToCamelCase=function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},e.prototype.isCustomWidget=function(e){return/widgets\/([^\/]+)\//.test(e)},e.prototype.saveUserImage=function(e,t){return void 0===t&&(t="jpeg"),this.http.post("/ws/user/image/v1-0",{image_src:e,image_type:t},Ft).pipe(Object(s.a)((function(e){return e.url})))},e.prototype.buildWidgetURL=function(e,t){var n=Object.entries(t).map((function(e){var t=At(e,2);return t[0]+"="+t[1]})).join("&"),l=e.replace(/^\/|\/$/g,"");return window.location.origin+"/"+l+"/?"+n},e.prototype.buildThumbnailURL=function(e){return""+window.location.origin+e},e.prototype.buildDownloadURL=function(e){return window.location.origin+"/download?t="+e},e.prototype.deepExtendWidgetOptions=function(e,t){var n=this;Object.entries(e).forEach((function(l){var i=At(l,2),o=i[0],a=i[1],r=typeof a;[o,n.camelToDashCase(o),n.getConfigName(o)].forEach((function(l){if(t.hasOwnProperty(l)&&null!==t[l]){var i=t[l],u=typeof i;null===a?e[o]=i:r===u&&("object"===r?n.deepExtendWidgetOptions(a,i):e[o]=i)}}))}))},e.prototype.expandWidgetOptions=function(e){var t={};return Object.entries(e).forEach((function(n){var l=At(n,2),i=l[0],o=l[1],a=i.split(".");if(a.length>1){var r=a[0],u=a.slice(1).join(".");null!==t[r]&&"object"==typeof t[r]||(t[r]={}),t[r][u]=o}else t[i]=e[i]})),t},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c),l.Yb(vt),l.Yb(_t),l.Yb(jt),l.Yb(zt))},token:e,providedIn:"root"}),e}(),Ht=function(){return function(){}}(),Vt=function(){function e(e){this.widgetURL=e}return e.type="[Publish] Set Widget URL",e}(),$t=function(){function e(e){this.dimensions=e}return e.type="[Publish] Set Dimensions",e}(),Qt=function(){function e(e,t,n){this.model=e,this.widgetOptions=t,this.camera=n}return e.type="[Publish] Get iFrame",e}(),Wt=function(){function e(e){this.embed=e}return e.type="[Publish] Get iFrame Success",e}(),Gt=function(){function e(){}return e.type="[Publish] Get iFrame Fail",e}(),qt=function(){function e(e,t,n){this.model=e,this.widgetOptions=t,this.camera=n}return e.type="[Publish] Get URL",e}(),Yt=function(){function e(e,t){this.model=e,this.url=t}return e.type="[Publish] Get URL Success",e}(),Xt=function(){function e(e){this.model=e}return e.type="[Publish] Get URL Fail",e}(),Zt=function(){function e(e){this.publishing=e}return e.type="[Publish] Set Publishing",e}(),Jt=function(){function e(){}return e.type="[Publish] Reset Publishing",e}(),en=function(){function e(e,t){void 0===t&&(t="jpeg"),this.imageData=e,this.imageType=t}return e.type="[Publish] Save Publish Image",e}(),tn=function(){function e(e){this.imageURL=e}return e.type="[Publish] Save Publish Image Success",e}(),nn=function(){function e(){}return e.type="[Publish] Save Publish Image Fail",e}(),ln=function(){function e(e,t,n,l,i){this.model=e,this.imageData=t,this.fileType=n,this.widgetOptions=l,this.camera=i}return e.type="[Publish] Get Publish Image Code",e}(),on=function(){function e(e){this.embed=e}return e.type="[Publish] Get Publish Image Code Success",e}(),an=function(){function e(){}return e.type="[Publish] Get Publish Image Code Fail",e}(),rn=function(){return function(){}}(),un=function(){function e(){}return e.type="[Auth] Is Logged In",e}(),cn=function(){function e(){}return e.type="[Auth] Is Logged In Success",e}(),sn=function(){function e(){}return e.type="[Auth] Is Logged In Failure",e}(),pn=function(){function e(e){this.login=e}return e.type="[Auth] Login With Biodigital",e}(),dn=function(){function e(e){this.login=e}return e.type="[Auth] Login With Google",e}(),bn=function(){function e(e){this.login=e}return e.type="[Auth] Login With Facebook",e}(),gn=function(){function e(){}return e.type="[Auth] Login Success",e}(),hn=function(){function e(e,t){this.error=e,this.login=t}return e.type="[Auth] Login Failure",e}(),mn=function(){function e(){}return e.type="[Auth] Logout",e}(),fn=function(){function e(){}return e.type="[Auth] Logout Success",e}(),yn=function(){function e(){}return e.type="[Auth] Logout Failure",e}(),xn=function(){function e(){}return e.type="[Auth] Get Environment Settings",e}(),_n=function(){function e(e){this.environmentSettings=e}return e.type="[Auth] Get Environment Settings Success",e}(),vn=function(){function e(e){this.error=e}return e.type="[Auth] Get Environment Settings Failure",e}(),On=function(){function e(){}return e.type="[Auth] Get User Profile",e}(),wn=function(){function e(e){this.userProfile=e}return e.type="[Auth] Get User Profile Success",e}(),Cn=function(){function e(e){this.error=e}return e.type="[Auth] Get User Profile Failure",e}(),jn=function(){function e(e){this.email=e}return e.type="[Auth] Check Profile",e}(),kn=function(){function e(e){this.profile=e}return e.type="[Auth] Check Profile Success",e}(),Sn=function(){function e(e){this.error=e}return e.type="[Auth] Check Profile Failure",e}(),Pn=function(){function e(e){this.email=e}return e.type="[Auth] Reset Password",e}(),Mn=function(){function e(e){this.email=e}return e.type="[Auth] Reset Password Success",e}(),In=function(){function e(e){this.error=e}return e.type="[Auth] Reset Password Failure",e}(),Tn=function(){function e(){}return e.type="[Auth] Check Session",e}(),Kn=function(){function e(e){this.value=e}return e.type="[Auth] Sign Up",e}(),zn=function(){function e(){}return e.type="[Auth] Sign Up Success",e}(),Un=function(){function e(e){this.error=e}return e.type="[Auth] Sign Up Failure",e}(),En=function(){function e(e){this.locale=e}return e.type="[Auth] Set User Locale",e}(),Ln=function(){function e(e){this.locale=e}return e.type="[Auth] Set User Locale Success",e}(),An=function(){function e(){}return e.type="[Auth] Check Locale",e}(),Fn=function(){function e(){}return e.type="[Auth] Get User Apps",e}(),Dn=function(){function e(e){this.apps=e}return e.type="[Auth] Set User Apps",e}(),Nn=function(){function e(){}return e.type="[Auth] Check Selected App",e}(),Rn=function(){function e(e){this.appId=e}return e.type="[Auth] Set Selected User App",e}(),Bn=function(){function e(e,t){this.type=e,this.mode=t}return e.type="[Auth] Get User Message",e}(),Hn=function(){function e(e){this.message=e}return e.type="[Auth] Get User Message Success",e}(),Vn=function(){function e(e){this.type=e}return e.type="[Auth] Get User Message Fail",e}(),$n=function(){function e(e){this.messageSeenId=e}return e.type="[Auth] Set Message Viewed",e}(),Qn=function(){function e(){}return e.type="[Auth] Set Message Viewed Success",e}(),Wn=function(){function e(){}return e.type="[Auth] Set Message Viewed Fail",e}(),Gn=function(){function e(){}return e.type="[Auth] Verify Fail",e}(),qn=function(){function e(){}return e.type="[Auth] Reset",e}(),Yn=(n("BIUv"),n("z0F3"),function(){function e(e){this.organizations=e}return e.type="[Organizations] Set Organizations",e}()),Xn=function(){function e(e){this.organization=e}return e.type="[Organizations] Select Organization",e}(),Zn=function(){function e(e){this.collection=e}return e.type="[Organizations] Select Collection",e}(),Jn=function(){function e(e){this.organizationId=e}return e.type="[Organizations] Get Collections",e}(),el=function(){function e(e){this.collections=e}return e.type="[Organizations] Get Collections Success",e}(),tl=function(){function e(e){this.organization=e}return e.type="[Organizations] Join Organization",e}(),nl=function(){function e(e){this.organization=e}return e.type="[Organizations] Join Organization Success",e}(),ll=function(){function e(e){this.organization=e}return e.type="[Organizations] Join Organization Fail",e}(),il=function(){function e(){}return e.type="[Organizations] Reset",e}(),ol=n("xMyE"),al=function(e){return e.WidgetOptions="widgetOptions",e.Locale="locale",e.GroupRestriction="GroupRestriction",e.UserAppId="userAppId",e.RememberMeEmail="rememberMeEmail",e.LabelConversionSeen="labelConversionSeen",e.DefaultGroupEdit="defaultGroupEdit",e.DefaultCollectionId="defaultCollectionId",e.InternetExplorerWarning="internetExplorerWarning",e.GettingStartedTutorial="gettingStartedTutorial",e.AutoCapture="autoCapture",e}({}),rl=function(){function e(){this._data={}}return Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._data={}},e.prototype.getItem=function(e){return this._data[e]},e.prototype.key=function(e){return this.keys[e]},e.prototype.removeItem=function(e){delete this._data[e]},e.prototype.setItem=function(e,t){this._data[e]=t},e}(),ul=function(){function e(){this._localStorage=this.getStorage("localStorage"),this._sessionStorage=this.getStorage("sessionStorage")}return e.prototype.getLocalItem=function(e){return this._localStorage.getItem(""+e)},e.prototype.getLocalJSON=function(e){var t=this.getLocalItem(e);return t?JSON.parse(t):null},e.prototype.setLocalItem=function(e,t){var n="object"==typeof t?JSON.stringify(t):""+t;try{return this._localStorage.setItem(""+e,n),!0}catch(l){return!1}},e.prototype.removeLocalItem=function(e){this._localStorage.removeItem(""+e)},e.prototype.getSessionItem=function(e){var t=this._sessionStorage.getItem(""+e);return t?JSON.parse(t):null},e.prototype.setSessionItem=function(e,t){var n=JSON.stringify(t);try{return this._sessionStorage.setItem(""+e,n),!0}catch(l){return!1}},e.prototype.removeSessionItem=function(e){this._sessionStorage.removeItem(""+e)},e.prototype.clearStorage=function(){this.clearLocalStorage(),this.clearSessionStorage()},e.prototype.clearLocalStorage=function(){this._localStorage.clear()},e.prototype.clearSessionStorage=function(){this._sessionStorage.clear()},e.prototype.getStorage=function(e){try{return window[e]||new rl}catch(t){return new rl}},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),cl=n("2Yyj"),sl=n.n(cl),pl=n("Kd/A"),dl=n.n(pl),bl=n("Hfs6"),gl=n.n(bl),hl=n("VLs4"),ml=n.n(hl),fl=n("1IWC"),yl=n.n(fl),xl=n("Paii"),_l=n.n(xl),vl=n("vT00"),Ol={title:"English",lang:"en",id:"en-US"},wl=[Ol,{title:"Espa\xf1ol",lang:"es",id:"es-ES"},{title:"\u4e2d\u6587(\u7b80\u4f53)",lang:"zh",id:"zh-CN"},{title:"Fran\xe7ais",lang:"fr",id:"fr-FR"},{title:"Deutsch",lang:"de",id:"de-DE"},{title:"Italiano",lang:"it",id:"it-IT"},{title:"\u65e5\u672c\u8a9e",lang:"ja",id:"ja"},{title:"Portugu\xeas",lang:"pt",id:"pt-PT"}];function Cl(){var e="";try{e=localStorage.getItem("locale")}catch(t){}return(wl.find((function(t){return t.id===e}))||Ol).id}[sl.a,dl.a,gl.a,ml.a,yl.a,_l.a,n.n(vl).a].forEach((function(e){Object(ce.z)(e)}));var jl,kl=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[{provide:l.x,useFactory:Cl}]}},e}(),Sl=function(){function e(e){this.query=e}return e.type="[Bookmarks] Load",e}(),Pl=function(){function e(e){this.organizationId=e}return e.type="[Bookmarks] Load Organization Bookmarks",e}(),Ml=function(){function e(e,t){this.organizationId=e,this.collectionId=t}return e.type="[Bookmarks] Load Collection Bookmarks",e}(),Il=function(){function e(e,t){this.id=e,this.type=t}return e.type="[Bookmarks] Select Bookmark",e}(),Tl=function(){function e(e){this.bookmark=e}return e.type="[Bookmarks] Select Bookmark Success",e}(),Kl=function(){function e(e){this.result=e}return e.type="[Bookmarks] Load Success",e}(),zl=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Delete Bookmark",e}(),Ul=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Bookmark Delete Success",e}(),El=function(){function e(e,t){this.bookmarkId=e,this.message=t}return e.type="[Bookmarks] Bookmark Delete Fail",e}(),Ll=function(){function e(e,t,n){void 0===n&&(n=!0),this.bookmarkEntry=e,this.inplace=t,this.includeIndex=n}return e.type="[Bookmarks] Save Bookmark",e}(),Al=function(){function e(e,t,n){this.bookmark=e,this.story=t,this.method=n}return e.type="[Bookmarks] Bookmark Saved",e}(),Fl=function(){function e(e){this.bookmarkEntry=e}return e.type="[Bookmarks] Bookmark Save Failed",e}(),Dl=function(){function e(e){this.bookmark=e}return e.type="[Bookmarks] Delete Favorite",e}(),Nl=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Delete Favorite Success",e}(),Rl=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Delete Favorite Failed",e}(),Bl=function(){function e(e,t,n,l,i){this.method=e,this.bookmarkId=t,this.bookmarkEntry=n,this.thumbnails=l,this.chapterIdMap=i}return e.type="[Bookmarks] Save Bookmark Thumbnails",e}(),Hl=function(){function e(){}return e.type="[Bookmarks] Reset",e}(),Vl=function(){function e(){}return e.type="[Bookmarks] Clear Bookmarks",e}(),$l=function(){function e(e){this.sort=e}return e.type="[Bookmarks] Sort",e}(),Ql=function(){function e(e,t){this.id=e,this.checked=t}return e.type="[Bookmarks] Check Bookmark",e}(),Wl=function(){function e(e){this.ids=e}return e.type="[Bookmarks] Set Checked Bookmarks",e}(),Gl=function(){function e(e,t,n,l,i,o){this.bookmarks=e,this.widgetURL=t,this.userLanguage=n,this.userApp=l,this.widgetOptions=i,this.offlineEnabled=o}return e.type="[Bookmarks] Export Bookmarks",e}(),ql=function(){function e(e){this.bookmarks=e}return e.type="[Bookmarks] Export Bookmarks Success",e}(),Yl=function(){function e(e){this.bookmarks=e}return e.type="[Bookmarks] Export Bookmarks Error",e}(),Xl=function(){function e(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}return e.type="[Bookmarks] Update Bookmark Collection",e}(),Zl=function(){function e(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}return e.type="[Bookmarks] Update Bookmark Collection Success",e}(),Jl=function(){function e(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}return e.type="[Bookmarks] Update Bookmark Collection Error",e}(),ei=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Add Bookmark Collection Success",e}(),ti=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Add Bookmark Collection Error",e}(),ni=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Remove Bookmark Collection Success",e}(),li=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Remove Bookmark Collection Error",e}(),ii=function(){function e(e,t,n,l,i){void 0===n&&(n=Ol.lang),this.id=e,this.type=t,this.lang=n,this.groupAccess=l,this.collection=i}return e.type="[Bookmarks] Copy Bookmark",e}(),oi=function(){function e(e,t,n,l){this.newId=e,this.sourceId=t,this.groupAccess=n,this.collection=l}return e.type="[Bookmarks] Copy Bookmark Success",e}(),ai=function(){function e(e,t){this.id=e,this.error=t}return e.type="[Bookmarks] Copy Bookmark Failure",e}(),ri=function(){function e(e){this.title=e}return e.type="[Bookmarks] Set Bookmark Text",e}(),ui=function(){function e(e){this.category=e}return e.type="[Bookmarks] Set Selected Category",e}(),ci=function(){function e(e){this.view=e}return e.type="[Edit] Set view",e}(),si=function(){function e(){}return e.type="[Edit] Next view",e}(),pi=function(){function e(){}return e.type="[Edit] Previous view",e}(),di=function(){function e(e){this.show=e}return e.type="[Edit] Show columns",e}(),bi=function(){function e(e,t){this.column=e,this.show=t}return e.type="[Edit] Show column",e}(),gi=function(){function e(){}return e.type="[Edit] Reset",e}(),hi=function(){function e(e){this.layerOrderMode=e}return e.type="[Edit] Set Layer Order Mode",e}(),mi=function(){function e(e){this.show=e}return e.type="[Edit] Show Tree Node Ids",e}(),fi=function(){function e(e){this.size=e}return e.type="[Edit] Set Canvas Size",e}(),yi=function(){function e(e){this.enable=e}return e.type="[Edit] Auto Capture",e}(),xi=function(){function e(){}return e.type="[Engine] Load",e}(),_i=function(){function e(e){this.result=e}return e.type="[Engine] Load Success",e}(),vi=function(){function e(e){this.ready=e}return e.type="[Engine] Set Ready",e}(),Oi=function(){function e(e){this.display=e}return e.type="[Engine] Set Display of 3D Scene",e}(),wi=function(){function e(e){this.scrollMode=e}return e.type="[Engine] Set Zoom via scroll Allowed",e}(),Ci=function(){function e(e){this.shown=e}return e.type="[Engine] Set Scroll Alert Shwon",e}(),ji=function(){function e(e){this.visible=e}return e.type="[Engine] Set Visibility of 3D Scene",e}(),ki=function(){function e(e,t){this.color=e,this.duration=t}return e.type="[Engine] Fade",e}(),Si=function(){function e(){}return e.type="[Engine] Fade Complete",e}(),Pi=function(){function e(e){this.graph=e}return e.type="[Engine] Set Graph",e}(),Mi=function(){function e(){}return e.type="[Engine] Clear Graph",e}(),Ii=function(){function e(e){this.enabled=e}return e.type="[Engine] Set Xray Mode",e}(),Ti=function(){function e(e){this.chapterId=e}return e.type="[Engine] Set Engine Chapter",e}(),Ki=function(){function e(e){this.chapterInit=e}return e.type="[Eninge] Set Chapter Init",e}(),zi=function(){function e(e,t,n){this.node=e,this.event=t,this.hit=n}return e.type="[Engine] Click Node",e}(),Ui=function(){function e(e,t,n){void 0===t&&(t=!0),this.objectId=e,this.animate=t,this.animationDuration=n}return e.type="[Engine] Fly To Object",e}(),Ei=function(){function e(){}return e.type="[Engine] Center Camera on Visible Nodes",e}(),Li=function(){function e(e,t){this.leafVisibilityState=e,this.nodes=t}return e.type="[Engine] Synchronize Visible Nodes On Tree",e}(),Ai=function(){function e(e){this.leafRenderableState=e}return e.type="[Engine] Synchronize Renderable State of Nodes On Tree",e}(),Fi=function(){function e(e,t){this.leafPickableState=e,this.nodes=t}return e.type="[Engine] Synchronize Pickable State of Nodes On Tree",e}(),Di=function(){function e(e){this.show=e}return e.type="[Engine] Toggle Camera Bar",e}(),Ni=function(){function e(e){this.show=e}return e.type="[Engine] Toggle Progress Bar",e}(),Ri=function(){function e(e){this.show=e}return e.type="[Engine] Toggle Labels",e}(),Bi=function(){function e(e){this.tool=e}return e.type="[Engine] Set active tool",e}(),Hi=function(){function e(e,t){this.chapter=e,this.pause=t}return e.type="[Engine] Play chapter animation",e}(),Vi=function(){function e(e){void 0===e&&(e=!0),this.play=e}return e.type="[Engine] Play animation",e}(),$i=function(){function e(e){this.playing=e}return e.type="[Engine] Set animation playing",e}(),Qi=function(){function e(e){this.play=e}return e.type="[Engine] Play audio",e}(),Wi=function(){function e(){}return e.type="[Engine] Play chapter from start",e}(),Gi=function(){function e(e){this.enable=e}return e.type="[Engine] Set autoplay",e}(),qi=function(){function e(e,t){this.nodes=e,this.layer=t}return e.type="[Engine] Set object layer order",e}(),Yi=function(){function e(e,t){this.nodeId=e,this.displayName=t}return e.type="[Engine] Set object display name",e}(),Xi=function(){function e(){}return e.type="[Engine] Auto Sort object layer orders",e}(),Zi=function(){function e(){}return e.type="[Engine] Reset object layer orders",e}(),Ji=function(){function e(e){this.position=e}return e.type="[Engine] Set Engine Position",e}(),eo=function(){function e(){}return e.type="[Engine] Reset Engine Position",e}(),to=function(){function e(e){this.effects=e}return e.type="[Engine] Set Post Processing Effects",e}(),no=function(){function e(e){this.properties=e}return e.type="[Engine] Set Properties",e}(),lo=function(){function e(e){this.mode=e}return e.type="[Engine] Set Transparency Mode",e}(),io=function(){function e(e){this.node=e}return e.type="[Engine] Expand ViewTree Node",e}(),oo=function(){function e(e){this.node=e}return e.type="[Engine] Collapse ViewTree Node",e}(),ao=function(){function e(e,t){this.node=e,this.hit=t}return e.type="[Engine] Hover Node",e}(),ro=function(){function e(e){this.node=e}return e.type="[Engine] Set Label Edit Node",e}(),uo=function(){function e(e,t){this.node=e,this.description=t}return e.type="[Engine] Set Node Info",e}(),co=function(){function e(e){this.node=e}return e.type="[Engine] Query Node Info",e}(),so=function(){function e(e,t){this.node=e,this.description=t}return e.type="[Engine] Query Node Info Success",e}(),po=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Query Node Info Failure",e}(),bo=function(){function e(e){this.category=e}return e.type="[Explore] Load",e}(),go=function(){function e(e){this.query=e}return e.type="[Explore] Search",e}(),ho=function(){function e(e){this.searching=e}return e.type="[Explore] Set Searching",e}(),mo=function(){function e(e){this.searchResults=e}return e.type="[Explore] Load Success",e}(),fo=function(){function e(e){this.sort=e}return e.type="[Explore] Sort",e}(),yo=function(){function e(){}return e.type="[Explore] Reset Search Results",e}(),xo=function(){function e(e,t){this.id=e,this.checked=t}return e.type="[Explore] Check Search Result",e}(),_o=function(){function e(e){this.ids=e}return e.type="[Explore] Set Checked Search Results",e}(),vo=function(){function e(e){this.tag=e}return e.type="[Explore] Select Category",e}(),Oo=function(){function e(){}return e.type="[Explore] Reset",e}(),wo=function(e){return e.Toggle="toggle",e.None="none",e}({}),Co=function(){function e(e){this.patches=e}return e.type="[Story Labels] Patch Labels",e}(),jo=function(){function e(e,t){this.labelId=e,this.offset=t}return e.type="[Story Labels] Set label Offset",e}(),ko=function(){function e(e){this.labels=e}return e.type="[Story Labels] Set Labels",e}(),So=function(){function e(e){this.label=e}return e.type="[Story Labels] Add Label",e}(),Po=function(){function e(e){this.label=e}return e.type="[Story Labels] Set Contexdt Label",e}(),Mo=function(){function e(e,t){this.sourceChapter=e,this.targetChapter=t}return e.type="[Story Labels] Copy Labels",e}(),Io=function(){function e(e){this.label=e}return e.type="[Story Labels] Remove Label",e}(),To=function(){function e(){}return e.type="[Story Labels] Remove Context Label",e}(),Ko=function(){function e(e){this.chapter=e}return e.type="[Story Labels] Remove All Chapter Labels",e}(),zo=function(){function e(e,t){void 0===t&&(t=!1),this.label=e,this.record=t}return e.type="[Story Labels] Set Label",e}(),Uo=function(){function e(e,t){this.id=e,this.states=t}return e.type="[Story Labels] Set Label States",e}(),Eo=function(){function e(e){this.label=e}return e.type="[Story Labels] Select Label",e}(),Lo=function(){function e(){}return e.type="[Story Labels] Reset",e}(),Ao=function(){function e(e,t){this.labels=e,this.theme=t}return e.type="[Story Labels] Convert",e}(),Fo=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this.enable=e,this.enableInfo=t,this.enableActions=n}return e.type="[Story Labels] Enable Context Label",e}(),Do=function(){function e(e,t){this.labels=e,this.shown=t}return e.type="[Story Labels] Set Labels Shown",e}(),No=function(){function e(e){this.show=e}return e.type="[Story Labels] Set All Labels Shown",e}(),Ro=function(){function e(e,t){void 0===t&&(t=wo.None),this.collapsed=e,this.collapsedMode=t}return e.type="[Story Labels] Set Labels Collapsed",e}(),Bo=function(){function e(e){this.draggable=e}return e.type="[Story Labels] Set Draggable",e}(),Ho=function(){function e(e,t,n){void 0===n&&(n=Ol.lang),this.id=e,this.type=t,this.lang=n}return e.type="[Story] Load Current Story",e}(),Vo=function(){function e(e){this.story=e}return e.type="[Story] Replace the Story",e}(),$o=function(){function e(e){this.id=e}return e.type="[Story] Set the Story ID",e}(),Qo=function(){function e(e){this.displayName=e}return e.type="[Story] Set Story Text",e}(),Wo=function(){function e(e){this.tags=e}return e.type="[Story] Set Story Tags",e}(),Go=function(){function e(e,t,n){this.id=e,this.type=t,this.reset=n}return e.type="[Story] Set Incoming Story Id",e}(),qo=function(){function e(){}return e.type="[Story] Load Story Chunk",e}(),Yo=function(){function e(e){this.chapterId=e}return e.type="[Story] Reorder Load Chunks",e}(),Xo=function(){function e(e){this.chunk=e}return e.type="[Story] Load Story Chunk Success",e}(),Zo=function(){function e(e,t,n,l){this.id=e,this.story=t,this.type=n,this.chapterIdx=l}return e.type="[Story] Build Story In Engine From Story Model",e}(),Jo=function(){function e(e){this.lookup=e}return e.type="[Story] Set Tween Particle Lookup",e}(),ea=function(){function e(e,t,n){this.story=e,this.id=t,this.type=n}return e.type="[Story] Load Success",e}(),ta=function(){function e(e,t){this.id=e,this.type=t}return e.type="[Story] Load Fail",e}(),na=function(){function e(e,t,n){void 0===n&&(n=Ol.lang),this.id=e,this.type=t,this.lang=n}return e.type="[Story] Import",e}(),la=function(){function e(e,t,n){this.story=e,this.id=t,this.type=n}return e.type="[Story] Import Success",e}(),ia=function(){function e(){}return e.type="[Story] Clear",e}(),oa=function(){function e(){}return e.type="[Story] Synchronize Chapters",e}(),aa=function(){function e(){}return e.type="[Story] Human Ready (Web)",e}(),ra=function(){function e(){}return e.type="[Story] Human Ready (SDK)",e}(),ua=function(){function e(e){this.patches=e}return e.type="[Story Chapter] Apply Patch",e}(),ca=function(){function e(){}return e.type="[Story Chapter] Next Chapter",e}(),sa=function(){function e(){}return e.type="[Story Chapter] Previous Chapter",e}(),pa=function(){function e(){}return e.type="[Story Chapter] First Chapter",e}(),da=function(){function e(){}return e.type="[Story Chapter] Last Chapter",e}(),ba=function(){function e(e){this.chapter=e}return e.type="[Story Chapter] Select Chapter",e}(),ga=function(){function e(e){this.chapterId=e}return e.type="[Story Chapter] Select Chapter by chapter id",e}(),ha=function(){function e(e){this.chapters=e}return e.type="[Story Chapter] Set Chapters",e}(),ma=function(){function e(e,t){this.chapterId=e,this.cameraAction=t}return e.type="[Story Chapter] Set Chapter Camera Action",e}(),fa=function(){function e(e,t){this.chapterId=e,this.ui=t}return e.type="[Story Chapter] Set Chapter UI",e}(),ya=function(){function e(e,t){this.chapterId=e,this.info=t}return e.type="[Story Chapter] Set Chapter Info",e}(),xa=function(){function e(e,t){this.chapterId=e,this.legend=t}return e.type="[Story Chapter] Set Chapter Legend",e}(),_a=function(){function e(e,t){this.chapterId=e,this.legend=t}return e.type="[Story Chapter] Add To Chapter Legend",e}(),va=function(){function e(e,t){this.previousIndex=e,this.currentIndex=t}return e.type="[Story Chapter] Reorder Chapters",e}(),Oa=function(){function e(e,t){this.chapterId=e,this.readyState=t}return e.type="[Story Chapter] Set Readystate",e}(),wa=function(){function e(e,t,n){this.chapterId=e,this.effects=t,this.properties=n}return e.type="[Story Chapter] Set Chapter PostProcessing",e}(),Ca=function(){function e(e,t,n){this.chapterId=e,this.transition=t,this.key=n}return e.type="[Story Chapter] Set Chapter Transitions",e}(),ja=function(){function e(e,t){this.chapterId=e,this.transparencyMode=t}return e.type="[Story Chapter] Set Chapter Transparency Mode",e}(),ka=function(){function e(e,t,n,l){this.chapterId=e,this.clips=t,this.enabled=n,this.record=l}return e.type="[Story Chapter] Set Chapter Clipping Planes",e}(),Sa=function(){function e(e,t){this.chapterId=e,this.background=t}return e.type="[Story Chapter] Set Chapter Background",e}(),Pa=function(){function e(e){this.background=e}return e.type="[Story Chapter] Set All Chapters Background",e}(),Ma=function(){function e(){}return e.type="[Story Chapter] Reset Selected Chapter Background",e}(),Ia=function(){function e(e){this.background=e}return e.type="[Story Chapter] Set Selected Chapter Background",e}(),Ta=function(){function e(e,t){this.chapter=e,this.chapterId=t}return e.type="[Story Chapter] Duplicate An Existing Chapter",e}(),Ka=function(){function e(e){this.chapter=e}return e.type="[Story Chapter] Remove Chapter",e}(),za=function(){function e(){}return e.type="[Story Chapter] Reset",e}(),Ua=function(){function e(e){this.thumbnails=e}return e.type="[Story Chapters] Register thumbnail URLs from story",e}(),Ea=function(){function e(e,t){this.sourceChapter=e,this.targetChapter=t}return e.type="[Story Chapters] Copy Thumbnail From Chapter",e}(),La=function(){function e(e,t,n,l,i,o){void 0===t&&(t=Kt.JPEG),void 0===n&&(n=.92),this.chapterId=e,this.imageType=t,this.imageQuality=n,this.dimensions=l,this.includeLabels=i,this.includeCopyright=o}return e.type="[Story Chapters] Take picture",e}(),Aa=function(){function e(e,t,n){this.chapterId=e,this.blob=t,this.dimensions=n}return e.type="[Story Chapters] Take picture success",e}(),Fa=function(){function e(e,t){this.chapterId=e,this.camera=t}return e.type="[Story Chapters] Record Camera",e}(),Da=function(){function e(e){this.theme=e}return e.type="[Layout] Set theme",e}(),Na=function(){function e(){}return e.type="[Layout] Reset",e}(),Ra=function(){return function(e,t,n){this.category=e,this.message=t,this.log=n}}(),Ba=function(){function e(e){this.http=e}return e.prototype.logError=function(e){return this.http.post("/ws/human-error",e)},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c))},token:e,providedIn:"root"}),e}();!function(e){var t=function(){function e(e){this.searchMode=e}return e.type="[Gallery] Set Search Mode",e}();e.SetSearchMode=t;var n=function(){function e(e){this.viewMode=e}return e.type="[Gallery] Set View Mode",e}();e.SetViewMode=n;var l=function(){function e(e){this.sort=e}return e.type="[Gallery] Set Sort",e}();e.SetSort=l;var i=function(){function e(e){this.organizationId=e}return e.type="[Gallery] Get Studio Options",e}();e.GetStudioOptions=i;var o=function(){function e(e){this.options=e}return e.type="[Gallery] Get Studio Options Success",e}();e.GetStudioOptionsSuccess=o;var a=function(){function e(e,t,n){this.primaryCategory=e,this.secondaryCategory=t,this.name=n}return e.type="[Gallery] Search Loft",e}();e.SearchLoft=a;var r=function(){function e(e){this.bookmarks=e}return e.type="[Gallery] Search Loft Success",e}();e.SearchLoftSuccess=r;var u=function(){function e(e,t){this.category=e,this.query=t}return e.type="[Gallery] Search Studio",e}();e.SearchStudio=u;var c=function(){function e(e){this.bookmarks=e}return e.type="[Gallery] Search Studio Success",e}();e.SearchStudioSuccess=c;var s=function(){function e(e){this.bookmarks=e}return e.type="[Gallery] Search Success",e}();e.SearchSuccess=s;var p=function(){function e(e){this.result=e}return e.type="[Gallery] Select Bookmark",e}();e.SelectBookmark=p;var d=function(){function e(){}return e.type="[Gallery] Clear Results",e}();e.ClearResults=d;var b=function(){function e(){}return e.type="[Gallery] Reset",e}();e.Reset=b}(jl||(jl={}));var Ha={loading:!1,loggedIn:null,userLocale:null},Va=function(){function e(e,t,n,l,i,o){this.authService=e,this.userMessageService=t,this.storageService=n,this.localeId=l,this.store=i,this.errorService=o}return e.getLoggedIn=function(e){return e.loggedIn},e.getEnvironmentSettings=function(e){return e.environmentSettings},e.getUserProfile=function(e){return e.userProfile},e.getProfileCheck=function(e){return e.profileCheck},e.getLoading=function(e){return e.loading},e.getUserLocale=function(e){return e.userLocale},e.getUserLanguage=function(e){return Object(Et.get)(e,"userLocale.lang",Ol.lang)},e.getUserApps=function(e){return Object(Et.get)(e,"userApps",[])},e.getSelectedUserApp=function(e){return(e.userApps||[]).find((function(t){return t.id===e.selectedAppId}))},e.isPremiumUser=function(e){return!0===Object(Et.get)(e,"userProfile.premium_account_valid")},e.prototype.isLoggedIn=function(e,t){e.patchState({loading:!0}),this.authService.isLoggedIn().pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(t.signed_in?new cn:new sn)}))},e.prototype.isLoggedInSuccess=function(e,t){e.patchState({loggedIn:!0})},e.prototype.isLoggedInFailure=function(e,t){e.patchState({loggedIn:!1})},e.prototype.login=function(e,t){var n=this;e.patchState({loading:!0}),this.authService.isHuman("studio_login").pipe(Object(ol.a)((function(t){t||e.dispatch(new Gn)})),Object(te.a)((function(e){return e})),Object(wt.a)((function(){return n.authService.loginWithBiodigital(t.login)})),Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new gn)}),(function(l){n.logFailure("LOGIN_FAILURE",l),e.dispatch(new hn(l,t.login))}))},e.prototype.loginWithGoogle=function(e,t){var n=this;e.patchState({loading:!0}),this.authService.loginWithGoogle(t.login).pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new gn)}),(function(l){1!==t.login.groupCodeMode&&1!==t.login.groupInviteMode||n.logFailure("GOOGLE_SIGNUP_FAILURE",l),e.dispatch(new hn(l,t.login))}))},e.prototype.loginWithFacebook=function(e,t){e.patchState({loading:!0}),this.authService.loginWithFacebook(t.login).pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new gn)}),(function(n){e.dispatch(new hn(n,t.login))}))},e.prototype.loginSuccess=function(e,t){e.dispatch(new un),e.dispatch(new An)},e.prototype.logout=function(e,t){e.patchState({loading:!0}),this.authService.logout().pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){return e.dispatch(new fn)}),(function(){return e.dispatch(new yn)}))},e.prototype.logoutSuccess=function(e,t){e.setState(Ha),e.dispatch(new qn),e.dispatch(new Hl),e.dispatch(new gi),e.dispatch(new eo),e.dispatch(new Oo),e.dispatch(new Lo),e.dispatch(new Na),e.dispatch(new il),e.dispatch(new ia),e.dispatch(new za),e.dispatch(new jl.Reset),this.storageService.clearSessionStorage()},e.prototype.checkProfile=function(e,t){return e.patchState({loading:!0}),this.authService.checkProfile(t.email).pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new kn(t))}),(function(t){e.dispatch(new Sn(t))}))},e.prototype.checkProfileSuccess=function(e,t){e.patchState({profileCheck:t.profile})},e.prototype.getUserProfile=function(e,t){return e.patchState({loading:!0}),this.authService.getUserProfile().pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new wn(t))}),(function(t){e.dispatch(new Cn(t))}))},e.prototype.getUserProfileSuccess=function(e,t){e.patchState({userProfile:t.userProfile}),e.dispatch(new Yn(t.userProfile.organizations)),e.dispatch(new Fn),e.dispatch(new An)},e.prototype.getUserApps=function(e,t){this.authService.getUserApps().subscribe((function(t){e.dispatch(new Dn(t)),e.dispatch(new Nn)}),(function(e){}))},e.prototype.setUserApps=function(e,t){e.patchState({userApps:t.apps})},e.prototype.setSelectedUserApp=function(e,t){var n=t.appId;e.patchState({selectedAppId:n}),null!==n?this.storageService.setLocalItem(al.UserAppId,n):this.storageService.removeLocalItem(al.UserAppId)},e.prototype.checkSelectedUserApp=function(e,t){var n=e.getState().userApps,l=this.storageService.getLocalItem(al.UserAppId);if(l){var i=parseInt(l,10);e.dispatch(new Rn(i))}else n&&n.length&&e.dispatch(new Rn(n[0].id))},e.prototype.checkSession=function(e,t){e.patchState({loading:!0}),this.authService.isLoggedIn().pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){t.signed_in?(e.dispatch(new cn),e.dispatch(new On)):e.dispatch(new sn)}))},e.prototype.getEnvironmentSettings=function(e,t){return e.patchState({loading:!0}),this.authService.getEnvironmentSettings().pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new _n(t))}),(function(t){e.dispatch(new vn(t))}))},e.prototype.GetEnvironmentSettingsSuccess=function(e,t){e.patchState({environmentSettings:t.environmentSettings})},e.prototype.resetPassword=function(e,t){e.patchState({loading:!0}),this.authService.resetPassword(t.email).pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new Mn(t.email))}),(function(t){e.dispatch(new In(t))}))},e.prototype.signUp=function(e,t){var n=this;e.patchState({loading:!0}),this.authService.isHuman("studio_signup").pipe(Object(ol.a)((function(t){t||e.dispatch(new Gn)})),Object(te.a)((function(e){return e})),Object(wt.a)((function(){return n.authService.signUp(t.value)})),Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new zn)}),(function(t){e.dispatch(new Un(t))}))},e.prototype.signUpFailure=function(e,t){this.logFailure("BIODIGITAL_SIGNUP_FAILURE",t)},e.prototype.setUserLocale=function(e,t){var n=t.locale;this.storageService.setLocalItem(al.Locale,n.id),e.patchState({userLocale:n}),e.dispatch(new Ln(n))},e.prototype.checkLocale=function(e,t){var n=this,l=wl.find((function(e){return e.id===n.localeId}))||Ol;e.dispatch(new En(l))},e.prototype.getUserMessage=function(e,t){var n=t.type;this.userMessageService.getUserMessage(n,t.mode).subscribe((function(t){e.dispatch(new Hn(t))}),(function(){e.dispatch(new Vn(n))}))},e.prototype.setUserMessageViewed=function(e,t){this.userMessageService.setUserMessageViewed(t.messageSeenId).subscribe((function(){return e.dispatch(new Qn)}),(function(){return e.dispatch(new Wn)}))},e.prototype.resetAuth=function(e,t){e.setState(Ha)},e.prototype.logFailure=function(e,t){var n=Object(Et.get)(t,"message")||"",l=Object(Et.get)(t,"error.error.message")||"";this.errorService.logError(new Ra(e,n,l)).subscribe()},e.prototype.ngxsOnInit=function(e){e.dispatch(new Tn),e.dispatch(new An),e.dispatch(new Nn)},Object(v.__decorate)([Object(O.a)(un),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,un]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedIn",null),Object(v.__decorate)([Object(O.a)(cn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,cn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedInSuccess",null),Object(v.__decorate)([Object(O.a)(sn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,sn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedInFailure",null),Object(v.__decorate)([Object(O.a)(pn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,pn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"login",null),Object(v.__decorate)([Object(O.a)(dn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,dn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loginWithGoogle",null),Object(v.__decorate)([Object(O.a)(bn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,bn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loginWithFacebook",null),Object(v.__decorate)([Object(O.a)(gn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,gn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loginSuccess",null),Object(v.__decorate)([Object(O.a)(mn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,mn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"logout",null),Object(v.__decorate)([Object(O.a)(fn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,fn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"logoutSuccess",null),Object(v.__decorate)([Object(O.a)(jn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkProfile",null),Object(v.__decorate)([Object(O.a)(kn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,kn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkProfileSuccess",null),Object(v.__decorate)([Object(O.a)(On),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,On]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getUserProfile",null),Object(v.__decorate)([Object(O.a)(wn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,wn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getUserProfileSuccess",null),Object(v.__decorate)([Object(O.a)(Fn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Fn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getUserApps",null),Object(v.__decorate)([Object(O.a)(Dn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Dn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setUserApps",null),Object(v.__decorate)([Object(O.a)(Rn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Rn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedUserApp",null),Object(v.__decorate)([Object(O.a)(Nn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Nn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkSelectedUserApp",null),Object(v.__decorate)([Object(O.a)(Tn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Tn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkSession",null),Object(v.__decorate)([Object(O.a)(xn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,xn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getEnvironmentSettings",null),Object(v.__decorate)([Object(O.a)(_n),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,_n]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"GetEnvironmentSettingsSuccess",null),Object(v.__decorate)([Object(O.a)(Pn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Pn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetPassword",null),Object(v.__decorate)([Object(O.a)(Kn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Kn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"signUp",null),Object(v.__decorate)([Object(O.a)(Un),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Un]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"signUpFailure",null),Object(v.__decorate)([Object(O.a)(En),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,En]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setUserLocale",null),Object(v.__decorate)([Object(O.a)(An),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,An]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkLocale",null),Object(v.__decorate)([Object(O.a)(Bn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Bn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getUserMessage",null),Object(v.__decorate)([Object(O.a)($n),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,$n]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setUserMessageViewed",null),Object(v.__decorate)([Object(O.a)(qn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,qn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetAuth",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoggedIn",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getEnvironmentSettings",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getUserProfile",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getProfileCheck",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getUserLocale",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",String)],e,"getUserLanguage",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getUserApps",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedUserApp",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[rn]),Object(v.__metadata)("design:returntype",void 0)],e,"isPremiumUser",null),Object(v.__decorate)([Object(O.g)({name:"auth",defaults:Ha})],e)}(),$a={publishing:!1,widgetURL:"/viewer",dimensions:Ut.dimensions,minDimensions:{width:300,height:400}},Qa=function(){function e(e,t){this.publishService=e,this.store=t}return e.getDimensions=function(e){return e.dimensions},e.getMinDimensions=function(e){return e.minDimensions},e.getWidgetURL=function(e){return e.widgetURL},e.getPublishing=function(e){return e.publishing},e.prototype.setPublishWidgetURL=function(e,t){e.patchState({widgetURL:t.widgetURL||"/viewer"})},e.prototype.setPublishDimensions=function(e,t){e.patchState({dimensions:t.dimensions})},e.prototype.getPublishURL=function(e,t){var n=t.model,l=t.camera,i=t.widgetOptions,o=e.getState().widgetURL,a=this.store.selectSnapshot(Va.getUserLanguage),r=this.store.selectSnapshot(Va.getSelectedUserApp);this.publishService.generateWidgetURL(n,o,i,l,Nt.Single,a,r).subscribe((function(t){e.dispatch(new Yt(n,t))}),(function(){e.dispatch(new Xt(n))}))},e.prototype.getPublishIFrame=function(e,t){var n=t.model,l=t.camera,i=t.widgetOptions,o=e.getState(),a=o.widgetURL,r=o.dimensions,u=this.store.selectSnapshot(Va.getUserLanguage),c=this.store.selectSnapshot(Va.getSelectedUserApp);this.publishService.generateWidgetEmbed(n,a,i,r,l,Nt.Single,u,c).subscribe((function(t){e.dispatch(new Wt(t))}),(function(){e.dispatch(new Gt)}))},e.prototype.savePublishImage=function(e,t){this.publishService.saveUserImage(t.imageData,t.imageType).subscribe((function(t){e.dispatch(new tn(t))}),(function(){e.dispatch(new nn)}))},e.prototype.getPublishImage=function(e,t){var n=this,l=t.model,i=t.camera,o=t.widgetOptions,a=t.imageData,r=t.fileType,u=e.getState().widgetURL,c=this.store.selectSnapshot(Va.getUserLanguage),s=this.store.selectSnapshot(Va.getSelectedUserApp);Object(yt.a)(this.publishService.generateWidgetURL(l,u,o,i,Nt.Single,c,s),this.publishService.saveUserImage(a,r)).subscribe((function(t){var i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),o=n.publishService.getImageEmbed(l.title,i[0],i[1]);e.dispatch(new on(o))}),(function(){e.dispatch(new an)}))},e.prototype.setPublishing=function(e,t){e.patchState({publishing:t.publishing})},e.prototype.resetPublish=function(e,t){e.setState($a)},Object(v.__decorate)([Object(O.a)(Vt),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Vt]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setPublishWidgetURL",null),Object(v.__decorate)([Object(O.a)($t),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,$t]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setPublishDimensions",null),Object(v.__decorate)([Object(O.a)(qt),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,qt]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getPublishURL",null),Object(v.__decorate)([Object(O.a)(Qt),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Qt]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getPublishIFrame",null),Object(v.__decorate)([Object(O.a)(en),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,en]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"savePublishImage",null),Object(v.__decorate)([Object(O.a)(ln),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ln]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getPublishImage",null),Object(v.__decorate)([Object(O.a)(Zt),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Zt]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setPublishing",null),Object(v.__decorate)([Object(O.a)(Jt),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Jt]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetPublish",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Ht]),Object(v.__metadata)("design:returntype",void 0)],e,"getDimensions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Ht]),Object(v.__metadata)("design:returntype",void 0)],e,"getMinDimensions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Ht]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetURL",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Ht]),Object(v.__metadata)("design:returntype",void 0)],e,"getPublishing",null),Object(v.__decorate)([Object(O.g)({name:"publish",defaults:$a})],e)}(),Wa=function(){function e(e,t,n){this.store=e,this.publishService=t,this.sanitizer=n}return Object.defineProperty(e.prototype,"model",{set:function(e){var t=this.store.selectSnapshot(Qa.getWidgetURL),n=this.store.selectSnapshot(Va.getUserLanguage),l=this.publishService.getWidgetURL(e,t,this.params,null,null,n);this.src=this.sanitizer.bypassSecurityTrustResourceUrl(l)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),Ga=n("xXU7"),qa=n("H0e8"),Ya=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xa=function(e,t){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ya(arguments[t]));return e}(e);return t.forEach((function(e){n.push(void 0!==e?Number(e):1)})),n},Za=function(e){var t=/rgba?\((\d{1,3})\,\s*(\d{1,3})\,\s*(\d{1,3})\,?\s*(\d+\.\d{0,5})?\)/g,n=[],l=t.exec(e),i=t.exec(e);return n=Xa(n,l.slice(1,5)),Xa(n,i.slice(1,5))},Ja=function(){function e(e,t,n){this.colors=e,this.gradientType=t,this.colorStops=n}return e.equals=function(e,t){return e.gradientType===t.gradientType&&e.colors.length===t.colors.length&&e.colors.every((function(e,n){return e===t.colors[n]}))&&e.colorStops.length===t.colorStops.length&&e.colorStops.every((function(e,n){return e===t.colorStops[n]}))},e.deserialize=function(t){if(!Object.keys(t).length)return null;var n=[];"string"==typeof t.colors?n=Za(t.colors):Array.isArray(t.colors)&&8===t.colors.length&&(n=t.colors.map((function(e,t){return(t+1)%4&&e<=1?Math.round(255*e):e})));var l=/radial|linear/.test(t.gradientType)?t.gradientType:"radial",i=t.colorStops;return new e(n,l,Array.isArray(i)&&2===i.length?[i[0],i[1]]:[0,100])},e.toCSS=function(e){var t=e.colors,n="rgba("+t[0]+","+t[1]+", "+t[2]+", "+t[3]+") "+e.colorStops[0]+"%",l="rgba("+t[4]+","+t[5]+", "+t[6]+", "+t[7]+") "+e.colorStops[1]+"%";return"radial"===e.gradientType?"radial-gradient(circle, "+n+", "+l+")":"linear-gradient(180deg, "+n+", "+l+")"},e.fromCSS=function(t){var n=/radial-gradient/.test(t)?"radial":"linear",l=Za(t),i=/([0-9]+)\%/g,o=[0,100];return o[0]=Number(i.exec(t)[1]),o[1]=Number(i.exec(t)[1]),new e(l,n,o)},e.isTransparent=function(e){if(!e||!e.colors)return!1;var t=e.colors,n=t[3];return t.length<=4?0===n:0===n&&0===t[7]},e}(),er=function(e){return e.AnnotationsCreate="annotations.create",e.AnnotationsDestroy="annotations.destroy",e.AnnotationsInfo="annotations.info",e.AnnotationsSetDescription="annotations.setDescription",e.AnnotationsSetLabelsShown="annotations.setLabelsShown",e.AnnotationsSetTitle="annotations.setTitle",e.AnnotationsUpdate="annotations.update",e.AnnotationsSetEnabled="annotations.setEnabled",e.CameraInfo="camera.info",e.CameraOrbit="camera.orbit",e.CameraPan="camera.pan",e.CameraReset="camera.reset",e.CameraSet="camera.set",e.CameraZoom="camera.zoom",e.GetAnnotationInfo="annotations.info",e.HideAnnotations="annotations.hide",e.HideLabels="labels.hide",e.HotspotsCreate="hotspots.create",e.HotspotsDestroy="hotspots.destroy",e.HotspotsHide="hotspots.hide",e.HotspotsInfo="hotspots.info",e.HotspotsShow="hotspots.show",e.HotspotsTypes="hotspots.types",e.HotspotsUpdate="hotspots.update",e.HumanInfo="human.info",e.InputDisable="input.disable",e.InputEnable="input.enable",e.LabelsSetEnabled="labels.setEnabled",e.SceneMetaData="scene.metadata",e.SceneSetHighlightColor="scene.setHighlightColor",e.SceneColorObject="scene.colorObject",e.SceneDisableHighlight="scene.disableHighlight",e.SceneEnableHighlight="scene.enableHighlight",e.SceneGetColor="scene.getColor",e.SceneInfo="scene.info",e.SceneLoad="scene.load",e.ScenePick="scene.pick",e.SceneReset="scene.reset",e.SceneSelectObjects="scene.selectObjects",e.SceneShowObjects="scene.showObjects",e.SceneTransformObject="scene.transformObject",e.SceneUncolorObject="scene.uncolorObject",e.SceneSnapshot="scene.snapshot",e.SceneCapture="scene.capture",e.SceneRestore="scene.restore",e.SceneEnableXrayMode="scene.enableXray",e.SceneDisableXrayMode="scene.disableXray",e.ShowAnnotations="annotations.show",e.SetAnnotationsShown="annotations.setShown",e.ShowLabels="labels.show",e.TimelineInfo="timeline.info",e.TimelineQuery="timeline.query",e.TimelineNext="timeline.nextChapter",e.TimelinePause="timeline.pause",e.TimelinePlay="timeline.play",e.TimelinePrev="timeline.previousChapter",e.TimelineSet="timeline.set",e.UIGetBackground="ui.getBackground",e.UIGetDisplay="ui.getDisplay",e.UIGetWordPosition="ui.getWorldPosition",e.UISetBackground="ui.setBackground",e.UISetDisplay="ui.setDisplay",e.UIResetDisplay="ui.resetDisplay",e.UISnapshot="ui.snapshot",e.focusObject="focus.focusObject",e.dissectSetEnabled="dissect.setEnabled",e.pickSingleSetEnabled="pick.single.setEnabled",e.pickMultiSetEnabled="pick.multi.setEnabled",e.getCanvasPos="scene.getCanvasPos",e.sceneSetClickMode="scene.setClickMode",e.sceneGetClickMode="scene.getClickMode",e.IsolateObject="scene.isolateObject",e.setCameraMode="camera.setCameraMode",e.UISetLoadingExperience="ui.setLoadingExperience",e.UISetScrollCaptureMode="ui.setScrollCaptureMode",e.UISetTutorial="ui.setTutorial",e}({}),tr=function(e){return e.Started="started",e.Loaded="loaded",e.Tick="tick",e.HumanReady="human.ready",e.HumanStarted="started",e.Error="error",e.HumanError="human.error",e.LogDebug="_log.debug",e.LogError="_log.error",e.LogInfo="_log.info",e.LogWarn="_log.warn",e.SceneLoaded="scene.loaded",e.HumanProgress="human.progress",e.AnnotationsCreated="annotations.created",e.AnnotationsDestroyed="annotations.destroyed",e.AnnotationsHidden="annotations.hidden",e.AnnotationsShown="annotations.shown",e.AssetsLoadFinish="assets.load.finish",e.AssetsLoadProgress="assets.load.progress",e.AssetsLoadStart="assets.load.start",e.CameraRested="camera.rested",e.CameraUpdated="camera.updated",e.HotspotsDisplayUpdated="hotspots.displayUpdated",e.HotspotsEntered="hotspots.entered",e.HotspotsLeft="hotspots.left",e.HotspotsPicked="hotspots.picked",e.HotspotsPositionUpdated="hotspots.positionUpdated",e.LabelCreated="label.created",e.LabelDestroyed="label.destroyed",e.LabelsDestroyed="label.destroyed",e.LabelsHidden="labels.hidden",e.LabelsShown="labels.shown",e.ModuleInteractive="module.interactive",e.ModulesActivateFinish="modules.activate.finish",e.ModulesCreateFinish="modules.create.finish",e.ModulesDestroyFinish="modules.destroy.finish",e.PickPicked="pick.picked",e.SceneMarkersUpdated="scene.markers.updated",e.SceneObjectRenderable="scene.objectRenderable",e.SceneObjectsSelected="scene.objectsSelected",e.SceneObjectsShown="scene.objectsShown",e.ScenePicked="scene.picked",e.SceneRestored="scene.restored",e.SceneXrayEnabled="scene.xrayEnabled",e.SceneXrayDisabled="scene.xrayDisabled",e.Debug_SceneReady="debug.scene.ready",e.TimelineChaptersActivated="timeline.chapters.activated",e.TimelineChaptersActivateFinish="timeline.chapters.activate.finish",e.TimelineChaptersActivateStart="timeline.chapters.activate.start",e.TimelineChapterTransition="timeline.chapterTransition",e.TimelinePlaying="timeline.playing",e.TimelineScrubbed="timeline.scrubbed",e.TimelinePlayed="timeline.played",e.TimelineStopped="timeline.stopped",e.TimelinePaused="timeline.paused",e.TimelineUnpaused="timeline.unpaused",e.TimelineCompleted="timeline.completed",e.GraphAssetAttachFinish="graph.assetAttach.finish",e}({}),nr=function(e){return e.Play="play",e.Button="button",e.Hand="hand",e}({}),lr=function(e){return e.Capture="capture",e.DoNotCaptureShowMessage="do_not_capture_show_message",e.DoNotCapture="do_not_capture",e}({}),ir=function(){return(ir=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},or=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ar=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(or(arguments[t]));return e},rr=function(){function e(e,t,n){this.elRef=e,this.publishService=t,this.cameraService=n,this.scalable=!1,this.cameraUpdated=new l.o,this.ngUnsubscribe=new Z.a,this._ready=!1,this._enableUI=!0}return Object.defineProperty(e.prototype,"enableUI",{set:function(e){this._enableUI=e,this.setWidgetUIConfig(this._enableUI,this._params)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgColor",{set:function(e){this._bgColor=e,this._ready&&this.renderWidgetBGColor()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetParams",{set:function(e){this._params=e,this._rotateDegrees=e?e.loadRotate:0,this.setWidgetUIConfig(this._enableUI,this._params)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topOffset",{get:function(){var e=(this.elRef.nativeElement.offsetHeight-this.height)/2;return this.scaleFactor<1?e:Math.max(0,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftOffset",{get:function(){var e=(this.elRef.nativeElement.offsetWidth-this.width)/2;return this.scaleFactor<1?e:Math.max(0,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){if(this.scalable){var e=this.containerRef.nativeElement,t=Math.min(e.offsetWidth/this.width,e.offsetHeight/this.height,1);return 1===t?1:.95*t}return 1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._apiRef=new HumanAPI({iframeId:this.frameRef.nativeElement.id}),this.getAPIEvent(tr.HumanReady).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e._ready=!0,e.setupCameraTracking(),e.setupCameraRotation(),e.setWidgetUIConfig(e._enableUI,e._params),e.getCurrentBGColor().pipe(Object(ee.a)(e.ngUnsubscribe)).subscribe((function(t){e._defaultColor=t,e.renderWidgetBGColor()}))}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setWidgetUIConfig=function(e,t){if(this._apiRef&&t){if(e){var n=this.convertWidgetOptionsToDisplayParams(t);this.resetDisplay(),this.setUIDisplay(n)}else this.hideUIDisplay();var l=(r=t.initial).button?nr.Button:r.handHint?nr.Hand:r.play?nr.Play:void 0,i=(a=t.disableScroll).alert?lr.DoNotCaptureShowMessage:a.overlay?lr.DoNotCapture:lr.Capture,o={enabled:t.uiTutorial};this._apiRef.send(er.UISetLoadingExperience,l),this._apiRef.send(er.UISetScrollCaptureMode,i),this._apiRef.send(er.UISetTutorial,o)}var a,r},e.prototype.takeSnapshot=function(e,t){return void 0===e&&(e="jpeg"),this.getAPIData(er.UISnapshot,ir({width:this.width,height:this.height,fileType:e},t))},e.prototype.setCameraOrbit=function(e){this.sendAPIData(er.CameraOrbit,{yaw:e})},e.prototype.renderWidgetBGColor=function(){this.setWidgetBGColor(this._bgColor||this._defaultColor)},e.prototype.setWidgetBGColor=function(e){this._apiRef&&e&&this.sendAPIData(er.UISetBackground,e)},e.prototype.setupCameraTracking=function(){var e=this;this.getCurrentCamera().pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.setDefaultCamera(t),e.getCameraUpdates().pipe(Object(ee.a)(e.ngUnsubscribe)).subscribe((function(t){e.setUpdateCamera(t)}))}))},e.prototype.setupCameraRotation=function(){var e=this,t=performance.now();Object(Ga.a)(0,qa.animationFrame).pipe(Object(te.a)((function(){return!!e._rotateDegrees})),Object(s.a)((function(){return e._rotateDegrees*(performance.now()-t)*.001})),Object(ol.a)((function(){return t=performance.now()})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.setCameraOrbit(t)}))},e.prototype.setDefaultCamera=function(e){this._defaultCamera=e,this.setUpdateCamera(e)},e.prototype.setUpdateCamera=function(e){this._currentCamera=e;var t=this.cameraService.areCamerasEqual(this.cameraService.roundCamera(this._defaultCamera,3),this.cameraService.roundCamera(this._currentCamera,3));this.cameraUpdated.emit(t?null:this._currentCamera)},e.prototype.getAPIEvent=function(e){var t=this;return new J.a((function(n){t._apiRef.on(e,(function(e){n.next(e)}))}))},e.prototype.getAPIData=function(e,t){var n=this;return new J.a((function(l){n._apiRef.send(e,t,(function(e){l.next(e),l.complete()}))}))},e.prototype.sendAPIData=function(e,t){this._apiRef.send(e,t)},e.prototype.getCurrentCamera=function(){return this.getAPIData(er.CameraInfo).pipe(Object(s.a)((function(e){return{eye:e.position,look:e.target,up:e.up}})))},e.prototype.getCurrentBGColor=function(){return this.getAPIData(er.UIGetBackground).pipe(Object(s.a)((function(e){return e?new Ja(ar([].concat.apply([],ar(e.colors))),e.gradientType,e.colorStops):null})))},e.prototype.getCameraUpdates=function(){return this.getAPIEvent(tr.CameraUpdated).pipe(Object(s.a)((function(e){return{eye:e.position,look:e.target,up:e.up}})))},e.prototype.setUIDisplay=function(e){this._apiRef.send(er.UISetDisplay,e)},e.prototype.resetDisplay=function(){this._apiRef.send(er.UIResetDisplay)},e.prototype.hideUIDisplay=function(){this.setUIDisplay({all:!1})},e.prototype.convertWidgetOptionsToDisplayParams=function(e){return{info:e.uiInfo,search:e.uiSearch,reset:e.uiReset,fullscreen:e.uiFullscreen,nav:e.uiNav,tools:e.uiTools,help:e.uiHelp,chapterList:e.uiChapterList,labelList:e.uiLabelList,anatomyDescriptions:e.uiAnatomyDescriptions,legend:e.uiLegend}},e}(),ur=l.wb({encapsulation:0,styles:[[".widget[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:relative}.widget__container[_ngcontent-%COMP%]{position:absolute;padding:8px}.widget__frame[_ngcontent-%COMP%]{display:block;width:100%;height:100%;box-shadow:0 0 0 1px #eaeff5}"]],data:{}});function cr(e){return l.Ub(2,[l.Qb(402653184,1,{containerRef:0}),l.Qb(402653184,2,{frameRef:0}),(e()(),l.yb(2,0,[[1,0],["widgetContainer",1]],null,3,"div",[["class","widget"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,2,"div",[["class","widget__container"]],[[4,"width",null],[4,"height",null],[4,"top",null],[4,"left",null],[4,"transform",null]],null,null,null,null)),(e()(),l.yb(4,0,[[2,0],["widgetFrame",1]],null,1,"iframe",[["allowfullscreen",""],["appEmbedSrc",""],["class","widget__frame"],["id","widget-frame"]],[[8,"width",0],[8,"height",0],[4,"width",null],[4,"height",null],[8,"src",5]],null,null,null,null)),l.xb(5,81920,null,0,Wa,[O.i,Bt,rt.b],{model:[0,"model"],id:[1,"id"]},null)],(function(e,t){e(t,5,0,t.component.model,"widget-frame")}),(function(e,t){var n=t.component;e(t,3,0,n.width+"px",n.height+"px",n.topOffset+"px",n.leftOffset+"px","scale("+n.scaleFactor+")"),e(t,4,0,n.width,n.height,n.width+"px",n.height+"px",l.Kb(t,5).src)}))}var sr,pr=n("Gi3i"),dr=function(){return function(){}}(),br=function(){return function(){}}(),gr=n("XlPw"),hr=function(){return function(){}}(),mr=function(){return function(){}}(),fr=function(){return function(){}}(),yr=function(){return mr},xr=function(){function e(){}return Object(v.__decorate)([Object(D.Type)(yr),Object(v.__metadata)("design:type",String)],e.prototype,"objectId",void 0),e}(),_r=function(){return function(){}}(),vr=function(){return function(){}}(),Or=function(){return function(){}}(),wr=function(){return xr},Cr=function(){return Or},jr=function(){return _r},kr=function(){return vr},Sr=function(){function e(){}return Object(v.__decorate)([Object(D.Type)(wr),Object(D.Type)(Cr),Object(D.Type)(jr),Object(D.Type)(kr),Object(v.__metadata)("design:type",String)],e.prototype,"moduleId",void 0),e}(),Pr=function(){return function(){}}(),Mr=function(){return function(e){var t=this;this.shown=function(e){return!1},this.selected=function(e){return!1},this.pickable=function(e){return!0},e.forEach((function(e){t[e]=function(e){return!1}}))}}(),Ir=function(e){return e.Default="default",e.Plus="plus",e.Minus="minus",e.PlusMinus="plusMinus",e}({}),Tr=function(e){return e.Annotation="annotation",e.Classic="classic",e.StudioNext="studioNext",e.Context="context",e}({}),Kr=function(){return function(e){this.pinType=Ir.PlusMinus,this.theme=Tr.StudioNext,this.expandTag=!0,this.showDescription=!0,this.collapseDescription=!1,this.pinGlow=!1,this.hideWire=!1,this.hideTag=!1,this.title=e}}();!function(e){function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}e.getUuid=t,e.idWithPrefix=function(e){return e+"-"+t()}}(sr||(sr={}));var zr,Ur=function(){return function(){}}(),Er=function(e){return e.classicAnnotation="classic-annotation",e.classicHotspot="classic-hotspot",e.studioNext="studio-light",e}({}),Lr=function(){return function(){this.title=null,this.description=null,this.errands=[]}}(),Ar=function(e){return e.flyToChapter="flyToChapter",e.flyToObject="flyToObject",e.flyToCamera="flyToCamera",e}({}),Fr=function(){return function(e){this.type=Ar.flyToObject,this.value=e}}(),Dr=function(){return function(e){this.type=Ar.flyToCamera,this.value=e}}(),Nr=function(e){return e.Circle="circle",e.CirclePlus="circle-plus",e.CircleMinus="circle-minus",e.Label="label",e.CircleLabel="circle-label",e}({}),Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Br=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Hr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Br(arguments[t]));return e};!function(e){function t(e,t){e.nodes[t.id]||(e.nodes[t.id]=t)}function n(e,t){return e.nodes[t]||null}function l(e,t){return e.predecessors[t]||null}function i(e,t){return Hr(e.successors[t]||[])}function o(e){return Object.keys(e.roots)}e.addRootNode=function(e,l){t(e,l);var i=n(e,l.id);e.roots[i.id]=i},e.getNodes=function(e,t){var n=[];return t.forEach((function(t){e.nodes[t]&&n.push(e.nodes[t])})),n},e.getAncestors=function(e,t,n,l){void 0===n&&(n=!1),void 0===l&&(l="ascending");for(var i=n?[t]:[],o=e.predecessors[t];o;)i.push(o),o=e.predecessors[o];return"descending"===l&&i.reverse(),i},e.addNode=t,e.getNode=n,e.getAncestor=l,e.getAllAncestorsFromList=function(e,t){var n,i={};return t.forEach((function(t){(n=l(e,t))&&!i[n]&&(i[n]=!0)})),Object.keys(i)},e.getSuccessors=i,e.getState=function(e,t,l){var i={},o=n(e,t);return Object.entries(o.boolState).forEach((function(e){var t=Br(e,2),n=t[0],o=t[1];l&&l.includes(n)&&(i[n]=o)})),Object.entries(o.numState).forEach((function(e){var t=Br(e,2),n=t[0],o=t[1];l&&l.includes(n)&&(i[n]=o)})),i},e.isLeaf=function(e,t){return!!e.nodes[t]&&void 0===e.successors[t]},e.isRoot=function(e,t){return e.roots.hasOwnProperty(t)||!1},e.getRoots=o,e.depthFirst=function e(t,n,l){l?(n(l),i(t,l).forEach((function(l){e(t,n,l)}))):o(t).forEach((function(l){n(l),e(t,n,l)}))},e.createGraphFromSrc=function(e,t,n,l){void 0===t&&(t="objectId"),void 0===n&&(n="objects"),void 0===l&&(l={});var i={nodes:{},successors:{},predecessors:{},roots:{}};return e.forEach((function(e){!function e(t,n,l,i,o,a,r){var u={id:l[i],depth:0,boolState:{},numState:{}};u.depth=r,Object.entries(a).forEach((function(e){var t,n=Br(e,2),o=n[0],a=n[1];"string"==typeof a?t=l[a]:"function"==typeof a&&(t=a(l[i])),"boolean"==typeof t?u.boolState[o]=t:"number"==typeof t?u.numState[o]=t:u[o]=t})),t.nodes[u.id]=u,n?(t.successors[n]=Hr(t.successors[n]||[],[u.id]),t.predecessors[u.id]=n):t.roots[u.id]=u,r+=1,l[o].forEach((function(n){e(t,u.id,n,i,o,a,r)}))}(i,null,e,t,n,l,0)})),i},e.pruneHiddenObjects=function e(t,n,l){var i,o,a=[],r=function(t){var i=n[t.objectId],o=!0===i||!1!==i&&l,r=e(t.objects||[],n,o);if(o){var u=Rr({},t);u.objects=r,a.push(u)}else r.forEach((function(e){return a.push(e)}))};try{for(var u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(t),c=u.next();!c.done;c=u.next())r(c.value)}catch(s){i={error:s}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a}}(zr||(zr={}));var Vr,$r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Qr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($r(arguments[t]));return e};!function(e){function t(e,t){return e.reduce((function(e,n){return e[n]=t[n]||!1,e}),{})}e.createVoter=t,e.getInitialVoterState=function(e,n){return Object.keys(e).reduce((function(l,i){return l[i]=t(n,e[i]),l}),{})},e.getInitialElectionDepth=function(e,t){return Object.keys(e).reduce((function(e,n){return Math.max(e,zr.getNode(t,n).depth)}),0)-1},e.getEligibleElections=function(e,t,n){return zr.getAllAncestorsFromList(e,t).filter((function(t){return t&&zr.getNode(e,t).depth===n}))};var n={trueWins:function(e){return{result:e.votesFor.length>0,dissenters:Qr(e.votesAgainst)}},falseWins:function(e){return{result:e.votesAgainst.length>0,dissenters:Qr(e.votesFor)}},majorityWins:function(e){var t=e.votesFor.length>e.votesAgainst.length;return{result:t,dissenters:Qr(t?e.votesAgainst:e.votesFor)}}};function l(e,t,l){return Object.keys(t).reduce((function(i,o){var a=t[o],r=n[l[o]||"majorityWins"](a);return i[o]={id:e,result:r.result,dissenters:r.dissenters,voters:Qr(a.votesFor,a.votesAgainst)},i}),{})}e.buildElectionResult=l,e.getElectionResults=function(e,n,i,o){var a=n,r=Object.keys(o);return{results:i.reduce((function(i,u){var c=zr.getSuccessors(e,u),s=c.map((function(l){var i;return(i={})[l]=n[l]||t(r,zr.getState(e,l,r)),i}));c.forEach((function(e){delete a[e]}));var p=l(u,function(e,t){return Object.keys(e).reduce((function(e,n){var l=t.reduce((function(e,t){var l=Object.keys(t)[0];return t[l][n]?e.votesFor.push(l):e.votesAgainst.push(l),e}),{votesFor:[],votesAgainst:[]});return e[n]=l,e}),{})}(o,s),o);return a[u]=Object.entries(p).reduce((function(e,t){var n=$r(t,2);return e[n[0]]=n[1].result,e}),{}),i.results.push(p),i}),{results:[]}).results,remainingVoters:a}}}(Vr||(Vr={}));var Wr=function(){return function(){}}(),Gr=function(){return(Gr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},qr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Yr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qr(arguments[t]));return e},Xr=function(){function e(){}return e.prototype.serializeNode=function(e,t,n,l){var i=this;void 0===n&&(n={}),void 0===l&&(l=function(e){return!0});var o={};return o.id=t.id,Object.entries(t.boolState).forEach((function(e){var t=qr(e,2),l=t[0],i=t[1];n.hasOwnProperty(l)&&(o[l]=i)})),Object.entries(t.numState).forEach((function(e){var t=qr(e,2),l=t[0],i=t[1];n.hasOwnProperty(l)&&(o[l]=i)})),e.successors[t.id]&&(o.children=[],e.successors[t.id].forEach((function(t){l(t)&&o.children.push(i.serializeNode(e,e.nodes[t],n,l))}),this)),o},e.prototype.getAllSiblingsFromList=function(e,t,n){var l,i=[];for(l=0;l<t.length;l++)this.getSiblings(e,t[l],n).forEach((function(e){i.includes(e)||i.push(e)}));return i},e.prototype.getElectionResults=function(e,t,n,l){var i,o,a=this,r=function(e){function t(t,n){var l=e.call(this)||this;return Object.entries(t).forEach((function(e){var t=qr(e,2)[0];l[t]={votesFor:[],votesAgainst:[]},Object.entries(n).forEach((function(e){var n=qr(e,2),i=n[0];n[1][t]?l[t].votesFor.push(i):l[t].votesAgainst.push(i)}),l)}),l),l}return Object(v.__extends)(t,e),t}(Wr),u=Object.keys(l),c=[];return n.forEach((function(n){o={},zr.getSuccessors(e,n).forEach((function(n){o[n]=t[n]||Vr.createVoter(u,zr.getState(e,n,u)),delete t[n]}),a),i=new r(l,o);var s=Vr.buildElectionResult(n,i,l);c.push(s);var p={};Object.entries(s).forEach((function(e){var t=qr(e,2);p[t[0]]=t[1].result})),t[n]=p}),this),c},e.prototype.updateGraphStateRecord=function(e,t,n,l,i){void 0===i&&(i=!0),n.forEach((function(n){var o=n[l[0]].id,a=zr.getState(e,o,l),r={},u=!1;l.forEach((function(e){(i||n[e].result!==a[e])&&(r[e]=n[e].result,u=!0)})),u&&(t[o]=r)}),this)},e.prototype.nodeExists=function(e,t){return!!e.nodes[t]},e.prototype.getLeaves=function(e){var t=[];return Object.entries(e.nodes).forEach((function(n){var l=qr(n,2)[0];e.successors[l]||t.push(l)})),t},e.prototype.getDescendants=function(e,t,n){void 0===n&&(n=!1);var l=[];return function t(n){zr.getSuccessors(e,n).forEach((function(e){l.push(e),t(e)}))}(t),n&&l.push(t),l},e.prototype.getLeafDescendants=function(e,t,n){void 0===n&&(n=!1);var l=this.getDescendants(e,t,n).filter((function(t){return zr.isLeaf(e,t)}));return(zr.isLeaf(e,t)||n)&&l.push(t),l},e.prototype.getAllLeafDescendants=function(e,t){var n=this,l=[];return t.forEach((function(t){l=zr.isLeaf(e,t)?Yr(l,[t]):Yr(l,n.getLeafDescendants(e,t,!1))})),l.sort().reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[])},e.prototype.getInverseSelection=function(e,t){var n=this.getAllLeafDescendants(e,t);return this.getLeaves(e).filter((function(e){return n.indexOf(e)<0}))},e.prototype.getSiblings=function(e,t,n){void 0===n&&(n=!1);var l=e.predecessors[t],i=[];if(i=l?zr.getSuccessors(e,l):zr.getRoots(e),!n){var o=i.indexOf(t);o>=0&&i.splice(o,1)}return i},e.prototype.getNodes=function(e,t){var n=[];return t.forEach((function(t){e.nodes[t]&&n.push(e.nodes[t])})),n},e.prototype.setState=function(e,t,n){var l=zr.getNode(e,t),i={};return Object.entries(n).forEach((function(e){var t=qr(e,2),n=t[0],o=t[1];"boolean"==typeof o&&l.boolState[n]!==o?(l.boolState[n]=o,i[n]=o):"number"==typeof o&&l.numState[n]!==o&&(l.numState[n]=o,i[n]=o)})),i},e.prototype.synchronize=function(e,t,n){var l=this,i=this.calculateGraphStateMap(e,t,n);return Object.entries(i).forEach((function(t){var n=qr(t,2);l.setState(e,n[0],n[1])}),this),i},e.prototype.calculateGraphStateMap=function(e,t,n,l){void 0===l&&(l=!n);var i=[],o={},a=[],r={},u=Object.keys(t),c=0;for(n?Object.entries(n).forEach((function(t){var l=qr(t,2)[0];o[l]=Vr.createVoter(u,n[l]),r[l]=Gr({},o[l]),c=Math.max(c,zr.getNode(e,l).depth)}),this):this.getLeaves(e).forEach((function(t){o[t]=Vr.createVoter(u,zr.getNode(e,t).boolState),r[t]=Gr({},o[t]),c=Math.max(c,zr.getNode(e,t).depth)}),this),c-=1,i=Vr.getEligibleElections(e,Object.keys(o),c);c>=0;)a=this.getElectionResults(e,o,i,t),this.updateGraphStateRecord(e,r,a,u,l),c-=1,i=Vr.getEligibleElections(e,Object.keys(o),c);return r},e.prototype.filterGraphAccessors=function(e,t){var n=this,l=this.getNodes(e,t).sort((function(e,t){return e.depth-t.depth})),i=new Map;return l.filter((function(t){return!i.has(t.id)&&(n.getDescendants(e,t.id,!0).forEach((function(e){return i.set(e,!0)})),!0)})).map((function(e){return e.id}))},e.prototype.resetDepth=function(e){zr.depthFirst(e,(function(t){var n=0;e.predecessors[t]&&(n=zr.getNode(e,e.predecessors[t]).depth+1),zr.getNode(e,t).depth=n}))},e.prototype.deleteNode=function(e,t,n){var l=this;if(void 0===n&&(n=!0),this.nodeExists(e,t)){delete e.nodes[t];var i=e.predecessors[t];i&&(delete e.predecessors[t],e.successors[i]&&(e.successors[i]=e.successors[i].filter((function(e){return e!==t}))));var o=e.successors[t];o&&(delete e.successors[t],n&&o.forEach((function(t){l.deleteNode(e,t)}),this)),e.roots[t]&&delete e.roots[t]}},e.prototype.sanitizeNodeID=function(e){var t=new RegExp(/\|/,"gi");return e.replace(t,"_")},e.prototype.resetAsLeaf=function(e,t){var n=[];return e.nodes[t]&&!zr.isLeaf(e,t)&&(n=this.getDescendants(e,t),delete e.successors[t],n.forEach((function(t){delete e.nodes[t],delete e.successors[t],delete e.predecessors[t]}))),n},e.prototype.createGraphStateMapFromPropertyMaps=function(e){var t,n={};for(var l in e)for(var i in e[l])n[i]=Gr({},n[i]||{},((t={})[l]=e[l][i],t));return n},e.prototype.extractPropertymapFromGraphState=function(e,t){var n={};for(var l in e)e[l].hasOwnProperty(t)&&(n[l]=e[l][t]);return n},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Zr=function(){return(Zr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Jr(e,t,n){var l={},i={};return zr.depthFirst(e,(function(o){i[o]=zr.isRoot(e,o)?Zr({},zr.getState(e,o,n),t[o]||{}):Zr({},i[e.predecessors[o]],t[o]||{}),zr.isLeaf(e,o)&&(l[o]=i[o])})),l}var eu,tu,nu=function(){return(nu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},lu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},iu={shown:"shown",renderable:function(e){return Human.scene.objects[e].isRenderable()},pickable:"pickable",label:function(e){return Human.scene.objects[e].displayName},expanded:function(e){return!1},layer:"layer"},ou={shown:"trueWins",renderable:"falseWins",pickable:"trueWins"},au={trim:!0},ru=function(){return function(e){this.trim=e.trim||!1,this.terminal=e.terminal||[],this.root=e.root||{children:[],replace:!1},this.connect=e.connect||{},this.nodes=e.nodes||[]}}(),uu=function(){function e(e){var t=this;this.graphService=e,this.objectToNodeMap={},this.nodeToObjectMap={},this.events={},this.events=Object.values(tr).reduce((function(e,n){return e[n]=t.makeObservable(n),e}),{})}return e.prototype.makeObservable=function(e){return new J.a((function(t){Human.events.on(e,(function(e){t.next(e)}))}))},e.prototype.getCanvas=function(){return Human.renderer.canvas.canvas},e.prototype.getEvent=function(e){return this.events[e]},e.prototype.fireEvent=function(e,t){Human.events.fire(e,t)},e.prototype.getBoundaries=function(){return Human.scene.getBoundary()},e.prototype.pickScene=function(e){return Human.renderer.pick.pick(e.x,e.y,{rayPick:e.rayPick})},e.prototype.transformObject=function(e,t){var n=Human.scene.objects[e];n?n.setTransform(t):console.error("Scene object not found: '"+e+"'")},e.prototype.toggleNodes=function(e,t){var n=this,l={replace:!1,objects:{},fetchAssets:t};e.forEach((function(e){n.getObjects(e).forEach((function(e){l.objects[e]=t}))})),Human.scene.setEnabledObjects(l)},e.prototype.setNodesVisible=function(e,t){void 0===t&&(t=!1);var n={replace:t,objects:nu({},e),fetchAssets:!0};Human.scene.setEnabledObjects(n)},e.prototype.setNodesPickable=function(e){var t=this;Object.keys(e).forEach((function(n){(Human.scene.objects[n].isLeaf()?[n]:t.getLeafObjects(n)).forEach((function(t){Human.scene.objects[t].setPickable(e[n])}))}))},e.prototype.filterObjects=function(e,t){for(var n=e.length;n--;)switch(!0){case e[n]instanceof Human.scene.Group:e[n].objects=this.filterObjects(e[n].objects,t),0===e[n].objects.length&&e.splice(n,1);break;case e[n]instanceof Human.scene.Object:-1===e[n].displayName.toLowerCase().indexOf(t)&&e.splice(n,1)}return e},e.prototype.setObjectLayer=function(e,t){var n=Human.scene.objects[e];if(n.layer=t,n.renderables)for(var l=0;l<n.renderables.length;++l)n.renderables[l].setLayer(t);else n.hasOwnProperty("_layerNode")?n._layerNode.setPriority(t):n.hasOwnProperty("_propertiesNode")&&n._propertiesNode.setProperties({layer:t})},e.prototype.getObjectLayerValues=function(e){var t={},n=Human.scene.getBoundary();return e.forEach((function(e){var l=Human.scene.objects[e],i=l.getBoundary(),o=Math.min(i.xmin-n.xmin,n.xmax-i.xmax),a=2*Math.min(i.ymin-n.ymin,n.ymax-i.ymax),r=Math.min(i.zmin-n.zmin,n.zmax-i.zmax),u=l.layer;t[u]=t[u]||[],t[u].push({nodeId:e,value:Math.min(o,a,r)})})),t},e.prototype.getSceneGraph=function(e){var t=zr.createGraphFromSrc(e,"objectId","objects",iu);return this.graphService.synchronize(t,ou),t},e.prototype.createViewGraph=function(e,t){void 0===t&&(t=!0);var n=t?zr.pruneHiddenObjects(Human.scene.rootObjects,e):Human.scene.rootObjects,l=n.reduce((function(e,t){var n=t.objectId.includes("-root");return e[t.objectId]=!0!==n,n&&t.objects.forEach((function(t){e[t.objectId]=!0})),e}),{}),i=this.getSceneGraph(zr.pruneHiddenObjects(n,l));return this.graphService.resetDepth(i),i},e.prototype.getNode=function(e,t){return this.graphService.nodeExists(e,t)?zr.getNode(e,t):this.objectToNodeMap[t]?zr.getNode(e,this.objectToNodeMap[t]):null},e.prototype.getChapterGraphConfig=function(){var e=Human.timeline.activeRoot._nowBranch;return new ru(nu({},au,e.graph||{}))},e.prototype.getRootObjects=function(){return Human.scene.rootObjects},e.prototype.getAllSceneObjects=function(){return Human.scene.objects},e.prototype.getObjects=function(e){return this.nodeToObjectMap[e]?this.nodeToObjectMap[e]:[Human.scene.objects[e].objectId]||!1},e.prototype.getLeafObjects=function(e){if(e in this.nodeToObjectMap){var t={};return this.nodeToObjectMap[e].forEach((function(e){Human.scene.objects[e].isLeaf()?t[e]=!0:Human.scene.getLeaves(e).forEach((function(e){t[e]=!0}))})),Object.keys(t)}return e in Human.scene.objects?Human.scene.getLeaves(e):[]},e.prototype.getChapter=function(e){return Human.timeline.branchTimelines[e]||null},e.prototype.getActiveChapters=function(){return Human.timeline.activeRoot?Human.timeline.activeRoot._chapters:[]},e.prototype.getBoundaryFromObjects=function(e){return e=e.filter((function(e){return Human.scene.objects[e].isLeaf()})),Human.scene.getBoundary({objectIds:e,clipped:!0})},e.prototype.getLeaves=function(e){return Human.scene.getLeaves(e)},e.prototype.getVisibleLeaves=function(){return Human.scene.getEnabledLeaves()},e.prototype.getCameraLookAt=function(){return Object(D.plainToClass)(Or,Human.renderer.camera.getLookAt())},e.prototype.barycentricToWorld=function(e,t,n,l){void 0===l&&(l=0);var i=new Float32Array([0,0,0]);return Human.scene.objects[e].barycentricToWorldSpace(l,t,n,i),isNaN(i[0])?[0,0,0]:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lu(arguments[t]));return e}(Array.from(i))},e.prototype.setGraphState=function(e){Human.scene.setObjectProperties(e)},e.prototype.getAssetNamespaces=function(){var e={};return Object.keys(Human.assets.loadedAssets).map((function(e){return e.split("/")[0]})).forEach((function(t){e[t]=!0})),Object.keys(e)},e.prototype.queryShownObjects=function(e,t,n){void 0===n&&(n=!0);var l={};e.forEach((function(e){var n=Jr(t,e.synchronization,["shown"]);for(var i in n)n.hasOwnProperty(i)&&(l[i]=l[i]||n[i].shown)}));var i=l;if(n){var o=this.graphService.createGraphStateMapFromPropertyMaps({shown:l}),a=this.graphService.calculateGraphStateMap(t,{shown:"trueWins"},o,!0);i=this.graphService.extractPropertymapFromGraphState(a,"shown")}return i},e.prototype.loadGraphObject=function(e){var t=this.getObjects(e).map((function(e){return Human.scene.objects[e]}));return new J.a((function(e){Human.scene.graph.attachAssetSetsToSubtree(t,null,(function(){e.next(!0),e.complete()}))}))},e.prototype.setProperties=function(e){Human.properties.set(e)},e.prototype.setTransparencyMode=function(e){Human.renderer.setTransparencyMode(e)},e.prototype.setPostProcessingEnabled=function(e){e?Human.renderer.postprocess.enable():Human.renderer.postprocess.disable()},e.prototype.setPostProcessingFeatures=function(e){Human.renderer.postprocess.parse(e)},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(Xr))},token:e,providedIn:"root"}),e}(),cu=function(){return function(){this.type=Ar.flyToChapter,this.value=null}}(),su=function(){return(su=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},du={flyToCamera:"flyTo",flyToChapter:"flyTo"},bu=function(){function e(e){var t=this;this.engineService=e,this.convertActionToErrand=function(e,n,l){var i=new RegExp("^flyTo(Async)?"),o=new RegExp("^flyToObject(Async)?"),a=new RegExp("^flyTo[w.:]+currentChapter.[flyTo|jumpTo]"),r=l.split(":").slice(0,2),u=e,c=r[1];/currentChapter/.test(c)&&(c=c.replace("currentChapter","chapters["+n+"]"));var s=null;return o.test(r[0])?s=new Fr(t.objectAddress(u,c)):i.test(r[0])?s=new Dr(t.objectAddress(u,c)):a.test(r[0])&&(s=new cu),s},this.convertErrandToAction=function(e,n){var l=sr.idWithPrefix("errand").replace(/\-/g,"_"),i={},o="",a=function(e){return du[e]||e}(n.type);return n.type===Ar.flyToChapter?o=a+"Async:currentChapter."+t.engineService.getChapter(e.chapterId).camera.action:(o=a+"Async:currentChapter.customData."+l,i[l]=n.value),{action:o,data:i}},this.objectAddress=function(e,t){return t.split(".").reduce((function(e,t){if(null===e)return null;if(/\[+[0-9+]\]+/.test(t)){var n=t.split("["),l=Number(n[1].match(/[0-9]+/));return n[0]in e&&l in e[n[0]]?e[n[0]][l]:null}return t in e?e[t]:null}),e)}}return e.prototype.filterHotspot=function(e,t,n){var l=new RegExp("^(flyTo|flyToObject|hideHotspot|showHotspot|resetHotspots)"),i=this.getHotspotAction(e,n),o=i.filter((function(e){return l.test(e)}));return i.length===o.length},e.prototype.deserializeAnnotation=function(e,t,n){var l=new Kr(e.title||"");return l.id=e.annotationId||sr.idWithPrefix("label"),l.chapterId=t.id,l.expandTag=!0,l.showDescription=!0,l.collapseDescription=!1,l.pinGlow=!1,l.hideWire=!1,l.hideTag=!1,n===Tr.Annotation?(l.theme=Tr.Annotation,l.pinType=Ir.Default,l.flyTo=!1,l.states=[]):(l.theme=Tr.StudioNext,l.pinType=Ir.PlusMinus,l.flyTo=!0,l.states=[new Lr,new Lr],l.states[0].errands=[new Dr(t.camera.location)],l.states[1].errands=[new Fr(e.objectId)]),l.occludable=!1!==e.occludable,l.renderableIndex=e.renderableIndex||0,e.objectId&&e.hasOwnProperty("barycentric")?(l.objectId=e.objectId,l.primitiveIndex=e.primitiveIndex,l.barycentric=e.barycentric):e.hasOwnProperty("pos")&&(e.hasOwnProperty("objectId")&&(l.objectId=e.objectId),l.pos=e.pos),e.dir&&Array.isArray(e.dir)?l.dir=e.dir:e.dir&&e.dir instanceof Object&&(l.dir=Object.values(e.dir)),l.description=e.description||"",l.offset=e.labelOffset||[40,40],l.shown=!1!==e.shown,l.labelShown=!1!==e.labelShown,l},e.prototype.deserializeHotspots=function(e,t,n){for(var l=this,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=pu(i,2),r=a[0],u=a[1],c=new Kr(r.title||"");switch(c.id=sr.idWithPrefix("hotspot"),c.objectId=r.objectId,c.chapterId=t.id,c.description=r.description||"",c.pinType=/plus|minus/.test(r.className)?Ir.PlusMinus:Ir.Default,c.pinGlow=/pulse/.test(r.className),c.occludable=!0,c.shown=r.shown,c.offset=r.labelOffset?r.labelOffset:[22,-17],/left/.test(r.className)&&c.offset[0]>0?c.offset[0]*=-1:/right/.test(r.className)&&c.offset[0]<0&&(c.offset[0]*=-1),r.hasOwnProperty("barycentric")?(c.renderableIndex=r.renderableIndex||0,c.barycentric=r.barycentric,c.primitiveIndex=r.primitiveIndex):c.pos=r.pos,c.dir=r.dir,r.theme=r.theme?r.theme:Er.classicHotspot,r.theme){case Er.classicAnnotation:c.theme=Tr.Annotation,c.showDescription=!0,c.collapseDescription=/collapsible/g.test(r.className),c.expandTag=!0,c.hideTag=!1,c.hideWire=!/leader-line/.test(r.className);break;case Er.classicHotspot:c.theme=Tr.Classic,c.showDescription=/label/.test(r.className),c.expandTag=/label/.test(r.className),c.hideTag=!c.expandTag,c.collapseDescription=!1,c.hideWire=!/leader-line/.test(r.className);break;case Er.studioNext:c.theme=Tr.StudioNext,c.showDescription=!!r.description,c.collapseDescription=/collapsible/g.test(r.className),c.hideTag=!r.title,c.hideWire=!/leader-line/.test(r.className)}c.flyTo=!1,c.flyToTarget=null,c.states=[];var s=this.filterHotspotActions(this.getHotspotAction(e,r)),p=u?this.filterHotspotActions(this.getHotspotAction(e,u)):[],d=new Lr,b=new Lr;return s.length&&(d.errands=s.map((function(t){return l.convertActionToErrand(e,n,t)}))),p.length&&(b.errands=p.map((function(t){return l.convertActionToErrand(e,n,t)}))),c.states=[b,d],c},e.prototype.makeDefaultStudioLabel=function(e){var t=e?su({},e):new Kr("");return t.pinType=Ir.PlusMinus,t.theme=Tr.StudioNext,t.expandTag=!0,t.showDescription=!0,t.collapseDescription=!1,t.pinGlow=!1,t.hideWire=!1,t.hideTag=!1,t.states=[new Lr,new Lr],t},e.prototype.makeAnnotationLabel=function(e){var t=e?su({},e):new Kr("");return t.pinType=Ir.Default,t.theme=Tr.Annotation,t.expandTag=!0,t.showDescription=!0,t.collapseDescription=!1,t.pinGlow=!1,t.hideWire=!1,t.hideTag=!1,t.states=[],t},e.prototype.serializeLabel=function(e,t){var n=this,l=new Ur,i=Object(D.classToClass)(e),o=["circle","draggable"];l.shown=!0,e.objectId&&(l.objectId=i.objectId);try{e.primitiveIndex&&e.barycentric&&e.objectId?(l.renderableIndex=e.renderableIndex||0,l.primitiveIndex=e.primitiveIndex,l.barycentric=e.barycentric,l.pos=this.engineService.barycentricToWorld(e.objectId,e.primitiveIndex,e.barycentric)):l.pos=i.pos}catch(c){return{data:{},hotspots:[]}}switch(e.dir&&(l.dir=Array.prototype.slice.call(e.dir)),l.labelOffset=e.offset,e.theme){case Tr.Annotation:l.theme=Er.classicAnnotation;break;case Tr.Classic:l.theme=Er.classicHotspot;break;default:l.theme=Er.studioNext}""!==i.title?(l.title=i.title,l.description=i.description,l.type=Nr.CircleLabel):l.type=Nr.Circle,e.pinGlow&&o.push("pulse"),e.pinType===Ir.PlusMinus&&o.push("plus"),e.hideWire||o.push("leader-line"),e.hideTag||o.push("label"),e.collapseDescription&&o.push("collapsible collapsed"),l.className=o.join(" ");var a={};l.actions=[];var r=[l],u=e.states.length;return e.states.forEach((function(t,i){if(i===u-1)r[0].actions.push("resetHotspots"),t.errands.forEach((function(t){var l=n.convertErrandToAction(e,t);r[0].actions.push(l.action),a=su({},a,l.data)}));else{var o=Object(D.classToClass)(l);o.actions=[],o.className=o.className.replace("plus","minus"),t.errands.forEach((function(t){var l=n.convertErrandToAction(e,t);o.actions.push(l.action),a=su({},a,l.data)})),r.push(o)}})),2===r.length&&(r[0].actions.push("hideHotspots:currentChapter.hotspots["+t+"]"),r[0].actions.push("showHotspots:currentChapter.hotspots["+(t+1)+"]"),r[1].actions.push("hideHotspots:currentChapter.hotspots["+(t+1)+"]"),r[1].actions.push("showHotspots:currentChapter.hotspots["+t+"]"),r[0].shown=!0,r[1].shown=!1),2===r.length&&e.collapseDescription&&(r[1].className+=r[1].className.replace("collapsed","")),r.forEach((function(e){l.labelOffset[0]<0?e.className=e.className.replace("right","")+" left":l.labelOffset[0]>0&&(e.className=e.className.replace("left","")+" right")})),{data:a,hotspots:r}},e.prototype.setLabelContainer=function(e){this._labelContainer=e},e.prototype.getLabelContainer=function(){return this._labelContainer},e.prototype.getHotspotAction=function(e,t){var n=t.actionSrc?this.objectAddress(e,t.actionSrc):t.actions?t.actions:[];return n instanceof Array?n:[]},e.prototype.filterHotspotActions=function(e){var t=new RegExp("^(flyTo|flyToObject)");return e.filter((function(e){return t.test(e)}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(uu))},token:e,providedIn:"root"}),e}(),gu=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},hu=function(){return function(){}}();!function(e){var t=function(){function e(){}return e.type="[Engine Nodes] Reset",e}();e.Reset=t;var n=function(){function e(e){this.nodeState=e}return e.type="[Engine Nodes] init nodes",e}();e.InitNodeState=n;var l=function(){function e(e){this.patches=e}return e.type="[Engine Nodes] patch nodes",e}();e.ApplyPatch=l;var i=function(){function e(e){this.activeChapterId=e}return e.type="[Engine Nodes] set active chapter",e}();e.SetActiveChapter=i;var o=function(){function e(e,t){this.originalChapterId=e,this.copyChapterId=t}return e.type="[Engine Nodes] Duplicate node state",e}();e.DuplicateNodeState=o;var a=function(){function e(e,t,n,l){void 0===l&&(l=!0),this.show=e,this.objectIds=t,this.patch=n,this.record=l}return e.type="[Engine Nodes] update nodes shown",e}();e.UpdateNodesShown=a;var r=function(){function e(e){this.objectId=e}return e.type="[Engine Nodes] update nodes selected",e}();e.UpdateNodeSelected=r;var u=function(){function e(e,t,n){this.checked=e,this.objectIds=t,this.patch=n}return e.type="[Engine Nodes] update nodes checked",e}();e.UpdateNodesChecked=u;var c=function(){function e(e,t,n){this.pickable=e,this.objectIds=t,this.patch=n}return e.type="[Engine Nodes] update nodes pickable",e}();e.UpdateNodesPickable=c;var s=function(){function e(e,t,n){this.recipe=e,this.objectIds=t,this.patch=n}return e.type="[Engine Nodes] update nodes paint",e}();e.UpdateNodesPaint=s}(eu||(eu={})),function(e){var t=function(){function e(){}return e.type="[Undo] Reset",e}();e.Reset=t;var n=function(){function e(e){this.chapterId=e}return e.type="[Undo] Undo",e}();e.Undo=n;var l=function(){function e(e){this.chapterId=e}return e.type="[Undo] Undo All",e}();e.UndoAll=l;var i=function(){function e(e){this.chapterId=e}return e.type="[Undo] Redo",e}();e.Redo=i;var o=function(){function e(e){this.patches=e}return e.type="[Undo] Store Patches",e}();e.SavePatches=o}(tu||(tu={}));var mu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},yu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fu(arguments[t]));return e},xu={activeChapterId:void 0,nodeState:void 0,patches:[],patchesForChapter:{}},_u=function(){function e(){}var t;return t=e,e.getAllNodeState=function(e){return e.nodeState},e.getActiveChapter=function(e){return e.activeChapterId},e.getPatches=function(e){return e.patches},e.getNodes=function(e){return void 0===e.activeChapterId||void 0===e.nodeState?{}:e.nodeState[e.activeChapterId]||{}},e.getNodePaint=function(e){return function(t){return e.nodeState[e.activeChapterId][t].paint}},e.getNodeIds=function(e){return Object.keys(t.getNodes(e))},e.getCheckedNodeIds=function(e){return Object.values(t.getNodes(e)).filter((function(e){return e.checked})).map((function(e){return e.objectId}))},e.getCheckedNodes=function(e){return t.getCheckedNodeIds(e).map((function(t){return e.nodeState[e.activeChapterId][t]}))},e.getUncheckedNodeIds=function(e){return t.getNodeIds(e).filter((function(t){return!e.nodeState[e.activeChapterId][t].checked}))},e.getSelectedNode=function(e){var n=t.getNodeIds(e).find((function(t){return e.nodeState[e.activeChapterId][t].selected}));return n?e.nodeState[e.activeChapterId][n]:void 0},e.prototype.reset=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.activeChapterId=void 0,e.nodeState=void 0,e.patches=[],e.patchesForChapter={}})))},e.prototype.applyPatch=function(e,t){var n=immer.applyPatches(e.getState(),t.patches),l=immer.produce(n,(function(e){var n;(n=e.patchesForChapter[e.activeChapterId]).push.apply(n,yu(t.patches)),e.patches=t.patches}));e.patchState(l)},e.prototype.initNodeState=function(e,t){e.patchState({nodeState:t.nodeState})},e.prototype.setActiveChapter=function(e,t){var n=e.getState(),l=immer.produce(n,(function(e){e.activeChapterId=t.activeChapterId,e.patchesForChapter[t.activeChapterId]=e.patchesForChapter[t.activeChapterId]||[],e.patches=e.patchesForChapter[t.activeChapterId]}));e.patchState(l)},e.prototype.duplicateNodeState=function(e,t){var n=e.getState(),l=immer.produce(n,(function(e){e.nodeState[t.copyChapterId]=e.nodeState[t.originalChapterId],e.patchesForChapter[t.copyChapterId]=e.patchesForChapter[t.originalChapterId].map((function(e){return e.path[1]=t.copyChapterId,e}))}));e.patchState(l)},e.prototype.updateNodesShown=function(e,t){var n=this,l=e.getState();if(void 0!==l.activeChapterId&&void 0!==l.nodeState){var i=fu(immer.produceWithPatches(l,(function(e){var l=e.nodeState[e.activeChapterId],i=t.objectIds||Object.keys(l);t.patch?Object.entries(t.patch).forEach((function(e){var t=fu(e,2);l[t[0]].shown=t[1]})):i.forEach((function(e){l[e].shown=t.show,t.objectIds&&n.setAllChildren(e,l,"shown",t.show)}))})),3),o=i[1],a=i[2],r=immer.produce(i[0],(function(e){var t;e.patches=o,(t=e.patchesForChapter[e.activeChapterId]).push.apply(t,yu(o))}));e.patchState(r),t.record&&e.dispatch(new tu.SavePatches({forward:o,inverse:a,patchAction:eu.ApplyPatch}))}},e.prototype.updateNodesSelected=function(e,t){var n=e.getState(),l=immer.produce(n,(function(e){var n=e.nodeState[e.activeChapterId],l=Object.keys(n);switch(t.objectId){case void 0:l.forEach((function(e){return n[e].selected=!1}));break;default:l.forEach((function(e){return n[e].selected=!1})),n[t.objectId].selected=!0}}));e.patchState(l)},e.prototype.updateNodesChecked=function(e,t){var n=this,l=e.getState(),i=fu(immer.produceWithPatches(l,(function(e){var l=e.nodeState[e.activeChapterId];switch(t.patch){case void 0:(t.objectIds||Object.keys(l)).forEach((function(e){l[e].checked=t.checked,t.objectIds&&n.setAllChildren(e,l,"checked",t.checked)}));break;default:Object.entries(t.patch).forEach((function(e){var t=fu(e,2);return l[t[0]].checked=t[1]}))}})),3),o=i[1],a=immer.produce(i[0],(function(e){e.patches=o}));e.patchState(a)},e.prototype.updateNodesPickable=function(e,t){var n=this,l=e.getState(),i=fu(immer.produceWithPatches(l,(function(e){var l=e.nodeState[e.activeChapterId];t.patch?Object.entries(t.patch).forEach((function(e){var t=fu(e,2);return l[t[0]].pickable=t[1]})):(t.objectIds||Object.keys(l)).forEach((function(e){l[e].pickable=t.pickable,t.objectIds&&n.setAllChildren(e,l,"pickable",t.pickable)}))})),3),o=i[1],a=i[2],r=immer.produce(i[0],(function(e){var t;e.patches=o,(t=e.patchesForChapter[e.activeChapterId]).push.apply(t,yu(o))}));e.patchState(r),e.dispatch(new tu.SavePatches({forward:o,inverse:a,patchAction:eu.ApplyPatch}))},e.prototype.updateNodesPaint=function(e,t){var n=this,l=e.getState(),i=fu(immer.produceWithPatches(l,(function(e){var l=e.nodeState[e.activeChapterId],i=t.objectIds||Object.keys(l);t.patch?Object.entries(t.patch).forEach((function(e){var t=fu(e,2);return l[t[0]].paint=t[1]})):i.forEach((function(e){l[e].paint=t.recipe,t.objectIds&&n.setAllChildren(e,l,"paint",t.recipe)}))})),3),o=i[1],a=i[2],r=immer.produce(i[0],(function(e){var t;e.patches=o,(t=e.patchesForChapter[e.activeChapterId]).push.apply(t,yu(o))}));e.patchState(r),e.dispatch(new tu.SavePatches({forward:o,inverse:a,patchAction:eu.ApplyPatch}))},e.prototype.setAllChildren=function(e,t,n,l){(function e(t,n){var l=n.objects;return 0===l.length?[]:Object(Et.flattenDeep)(l.map((function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mu(arguments[t]));return e}([n.objectId],e(t,t.scene.objects[n.objectId]))})))})(Human,Human.scene.objects[e]).forEach((function(e){return t[e][n]=l}))},Object(v.__decorate)([Object(O.a)(eu.Reset),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.Reset]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"reset",null),Object(v.__decorate)([Object(O.a)(eu.ApplyPatch),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.ApplyPatch]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"applyPatch",null),Object(v.__decorate)([Object(O.a)(eu.InitNodeState),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.InitNodeState]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"initNodeState",null),Object(v.__decorate)([Object(O.a)(eu.SetActiveChapter),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.SetActiveChapter]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setActiveChapter",null),Object(v.__decorate)([Object(O.a)(eu.DuplicateNodeState),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.DuplicateNodeState]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"duplicateNodeState",null),Object(v.__decorate)([Object(O.a)(eu.UpdateNodesShown),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.UpdateNodesShown]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"updateNodesShown",null),Object(v.__decorate)([Object(O.a)(eu.UpdateNodeSelected),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.UpdateNodeSelected]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"updateNodesSelected",null),Object(v.__decorate)([Object(O.a)(eu.UpdateNodesChecked),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.UpdateNodesChecked]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"updateNodesChecked",null),Object(v.__decorate)([Object(O.a)(eu.UpdateNodesPickable),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.UpdateNodesPickable]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"updateNodesPickable",null),Object(v.__decorate)([Object(O.a)(eu.UpdateNodesPaint),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eu.UpdateNodesPaint]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"updateNodesPaint",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getAllNodeState",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getActiveChapter",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getPatches",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getNodes",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getNodePaint",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getNodeIds",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getCheckedNodeIds",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getCheckedNodes",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getUncheckedNodeIds",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[hu]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedNode",null),t=Object(v.__decorate)([Object(O.g)({name:"engineNodes",defaults:xu})],e)}(),vu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ou=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vu(arguments[t]));return e},wu=function(){function e(e){void 0===e&&(e={center:[0,0,0],edge:[1,1,1],centerBias:1,edgeBias:0,power:1});var t=e.center,n=e.centerBias,l=e.edgeBias,i=e.power;this.edge=e.edge,this.center=t,this.centerBias=n,this.edgeBias=l,this.power=i}return e.toEngine=function(e){var t=e.edge,n=e.centerBias,l=e.edgeBias,i=e.power;return[Ou(e.center),Ou(t),n,l,i]},e}(),Cu=function(){function e(e){void 0===e&&(e={center:0,edge:1,centerBias:1,edgeBias:0,power:1});var t=e.center,n=e.centerBias,l=e.edgeBias,i=e.power;this.edge=e.edge,this.center=t,this.centerBias=n,this.edgeBias=l,this.power=i}return e.toEngine=function(e){return[e.center,e.edge,e.centerBias,e.edgeBias,e.power]},e}(),ju=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ku=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ju(arguments[t]));return e};function Su(e,t){switch(!0){case void 0===e[t]:return;case!1===e[t]:return!1;case"number"==typeof e[t]:return 100*e[t];default:return new Cu({center:e[t][0],edge:e[t][1],centerBias:e[t][2],edgeBias:e[t][3],power:e[t][4]})}}var Pu=function(){function e(e){void 0===e&&(e={});var t=e.saturation,n=e.contrast,l=e.brightness,i=e.opacity;this.tintColor=e.tintColor,this.saturation=t,this.contrast=n,this.brightness=l,this.opacity=i}return e.fromEngine=function(t){return new e({tintColor:function(){switch(!0){case void 0===t.tintColor:return;case!1===t.tintColor:return!1;case Array.isArray(t.tintColor):return 3===t.tintColor.length?ku(t.tintColor):new wu({center:t.tintColor[0],edge:t.tintColor[1],centerBias:t.tintColor[2],edgeBias:t.tintColor[3],power:t.tintColor[4]})}}(),saturation:Su(t,"saturation"),brightness:Su(t,"brightness"),contrast:Su(t,"contrast"),opacity:Su(t,"opacity")})},e.toEngine=function(e){var t=!1!==e.tintColor&&void 0,n=!1!==e.saturation&&void 0,l=!1!==e.brightness&&void 0,i=!1!==e.contrast&&void 0,o=!1!==e.opacity&&void 0;return Array.isArray(e.tintColor)?t=ku(e.tintColor):e.tintColor&&e.tintColor instanceof wu&&(t=wu.toEngine(e.tintColor)),"number"==typeof e.saturation?n=e.saturation/100:e.saturation instanceof Cu&&(n=Cu.toEngine(e.saturation)),"number"==typeof e.brightness?l=e.brightness/100:e.brightness instanceof Cu&&(l=Cu.toEngine(e.brightness)),"number"==typeof e.contrast?i=e.contrast/100:e.contrast instanceof Cu&&(i=Cu.toEngine(e.contrast)),"number"==typeof e.opacity?o=e.opacity/100:e.opacity instanceof Cu&&(o=Cu.toEngine(e.opacity)),{tintColor:t,saturation:n,brightness:l,contrast:i,opacity:o}},e}(),Mu=function(){return(Mu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Iu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Tu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Iu(arguments[t]));return e};function Ku(){return Human.scene.colorRecipes?Human.scene.colorRecipes.getRecipes():[]}var zu,Uu=function(){return function(e){var t=this;this.shown="majorityWins",this.selected="majorityWins",this.pickable="majorityWins",e.forEach((function(e){t[e]="majorityWins"}))}}(),Eu=function(){function e(e,t,n){this.store=e,this.labelService=t,this.graphService=n}return e.prototype.getMinimumGraphSync=function(e,t,n){var l=this,i=Ku(),o=Object.keys(new Mr(i)),a=Jr(e,t,o),r=function(e,t,n){var l=Object.keys(t),i=Vr.getInitialVoterState(n,l),o=Vr.getInitialElectionDepth(n,e),a=Object(Et.range)(o,-1).reduce((function(n,l){var i=Vr.getEligibleElections(e,Object.keys(n.remainingVoters),l),o=Vr.getElectionResults(e,n.remainingVoters,i,t),a=function(e){return e.reduce((function(e,t){var n=Object.keys(t).map((function(e){return function(e,t,n,l){var i,o=l.reduce((function(t,l){var i;return t[l]=((i={})[e]=!n,i),t}),{});return o[t]=((i={})[e]=n,i),o}(e,t[e].id,t[e].result,t[e].dissenters)})).reduce((function(e,t){return Object(Et.merge)(e,t)}),{});return Object.keys(n).forEach((function(t){e[t]=n[t]})),e}),{})}(o.results);return Object.keys(a).forEach((function(e){n.syncGraph[e]=a[e]})),n.remainingVoters=o.remainingVoters,n}),{syncGraph:{},remainingVoters:i}).syncGraph;return function(e,t,n,l){var i,o,a=t.reduce((function(t,i){var o,a,r=e[i],u=e[l.predecessors[i]];try{for(var c=gu(n),s=c.next();!s.done;s=c.next()){var p=s.value;r[p]===u[p]&&t.push({successorId:i,prop:p})}}catch(d){o={error:d}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return t}),[]);try{for(var r=gu(a),u=r.next();!u.done;u=r.next()){var c=u.value;delete e[c.successorId][c.prop],0===Object.keys(e[c.successorId]).length&&delete e[c.successorId]}}catch(s){i={error:s}}finally{try{u&&!u.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return e}(a,Object.keys(a).filter((function(t){return!e.roots[t]&&!!e.successors[t]})),l,e)}(e,JSON.parse(JSON.stringify(new Uu(i))),a);Object.entries(t).forEach((function(e){var t=Iu(e,2),n=t[0],l=t[1],i=Object(Et.omit)(l,o);Object(Et.isEmpty)(i)||(r[n]=Mu({},r[n]||{},i))}));var u=new Pr;return Object.entries(r).forEach((function(e){var t=Iu(e,2),i=t[1];u[l.switchNamespace(t[0],n)]=i}),this),u},e.prototype.convertGraphSync=function(e){var t=this,n={},l={},i={},o={},a={},r=Ku();return Object.entries(e).forEach((function(e){var u=Iu(e,2),c=u[0];Object.entries(u[1]).forEach((function(e){var t,u,s=Iu(e,2),p=s[0],d=s[1];"shown"===p?n[c]=d:"selected"===p?l[c]=d:"pickable"===p?i[c]=!d:r.find((function(e){return e===p}))?o[p]=Mu({},o[p],((t={})[c]=d,t)):a[c]=Mu({},a[c]||{},((u={})[p]=d,u))}),t)}),this),{showObjects:n,selectObjects:l,pickThroughObjects:i,colorRecipeObjects:o,synchronization:a}},e.prototype.switchNamespace=function(e,t){return t[e]||e},e.prototype.serializeTimelineMaps=function(e,t){var n=this,l=e.timelineMap;return l.forEach((function(e){e.data.timeline=n.switchNamespace(e.data.timeline,t)})),l},e.prototype.serializeProperties=function(e){var t=Mu({},e.properties),n=Human.properties.properties["annotations.layout.type"];return"draggable"!==n&&(t["annotations.layout.type"]=n),t},e.prototype.serializeHotspots=function(e,t){var n=this,l=Tu(e.hotspots),i={};return t.filter((function(t){return t.chapterId===e.id})).forEach((function(e){var t=n.labelService.serializeLabel(e,l.length);l=Tu(l,t.hotspots),i=Mu({},i,t.data)})),{customData:i,hotspots:l}},e.prototype.serializeMedia=function(e){return e.media?Object.entries(e.media).reduce((function(e,t){var n=Iu(t,2);return e[n[0]]=Mu({},n[1].data),e}),{}):null},e.prototype.serializeBackground=function(e){return e?Object(D.classToClass)(e):{}},e.prototype.serializeUI=function(e,t){return Object(Et.isEmpty)(t)?{play:{count:1}}:t},e.prototype.calcMinimumPaintState=function(e,t){return Object.keys(e.roots).reduce((function(n,l){return Mu({},n,function n(l,i){var o;void 0===i&&(i=!0);var a=(e.successors[l]||[]).reduce((function(e,i){var o=!Object(Et.isEqual)(t[l],t[i]);return Mu({},e,n(i,o))}),{});return i?Mu(((o={})[l]=t[l],o),a):a}(l))}),{})},e.prototype.serializeChapter=function(e,t,n,l,i){var o,a=this.serializeHotspots(t,l),r=Mu({},t.customData,a.customData),u=((o={id:i[t.id],displayName:t.info.displayName,description:t.info.description})[t.camera.action]=t.camera.location,o.background=this.serializeBackground(t.background),o.hotspots=a.hotspots,o.clippingPlanes={clips:t.clippingPlanes.clips,boundary:t.clippingPlanes.boundary},o.ui=this.serializeUI(t,t.ui),o.media=this.serializeMedia(t),o.graph=t.graph||{},o.timelineMap=t.timelineMap||[],o.customData=r,o.viewModes=t.viewModes,o.lights=t.lights,o.recipes=t.recipes||{},o.transparencyMode=t.transparencyMode||"",o.fallbackTransparency=t.fallbackTransparency||"",o.properties=this.serializeProperties(t),o.effects=t.effects||{},o.options=t.options,o.transitions=t.transitions,o.environment=t.environment||{},o.legend=t.legend||[],o),c=this.store.selectSnapshot(_u.getAllNodeState)[t.id],s=Object.keys(c).reduce((function(e,t){var n=c[t];return e.boolState[t]={shown:n.shown,pickable:n.pickable},e.paintState[t]=Pu.toEngine(n.paint),e}),{boolState:{},paintState:{}}),p=this.getMinimumGraphSync(e,s.boolState,n);return Object.entries(this.convertGraphSync(p)).forEach((function(e){var t=Iu(e,2);u[t[0]]=t[1]})),u.synchronization=this.calcMinimumPaintState(e,s.paintState),u},e.prototype.serializeSingleChapter=function(e,t,n,l){void 0===t&&(t={});var i=new Mr(Ku()),o=zr.createGraphFromSrc(Object.values(Human.scene.rootObjects),"objectId","objects",i);return this.serializeChapter(o,e,t,n,l)},e.prototype.serialize=function(e,t,n,l){var i=this,o=new Mr(Ku()),a=zr.createGraphFromSrc(Object.values(Human.scene.rootObjects),"objectId","objects",o);return e.map((function(e){return i.serializeChapter(a,e,t,n,l)}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i),l.Yb(bu),l.Yb(Xr))},token:e,providedIn:"root"}),e}(),Lu=function(){return(Lu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Au=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Fu=1e-4;!function(e){function t(e,t){void 0===t&&(t=0),["x","y","z"].forEach((function(n){void 0!==e[n]&&Math.abs(e[n]-t)<Fu&&delete e[n]}))}function n(e){["translate","rotate","pivot"].forEach((function(n){void 0!==e[n]&&(t(e[n]),0===Object.keys(e[n]).length&&delete e[n])})),void 0!==e.scale&&(t(e.scale,1),0===Object.keys(e.scale).length&&delete e.scale)}function l(e,t){["backfaces","displayName","layer"].forEach((function(n){e[n]&&(t[n]=e[n])}))}function i(e,t){var l=new mr;l.translate=JSON.parse(JSON.stringify(e.translate)),l.rotate=JSON.parse(JSON.stringify(e.rotate)),l.scale=JSON.parse(JSON.stringify(e.scale)),l.pivot=JSON.parse(JSON.stringify(e.pivot)),n(l),Object.entries(l).forEach((function(e){var n=Au(e,2);t[n[0]]=JSON.parse(JSON.stringify(n[1]))})),t.transformId&&delete t.transformId}function o(e,t){var n=["geometryId","morphId","materialId"],l=[];return e.renderables&&e.renderables.forEach((function(e){var t=new hr;n.forEach((function(n){e[n]&&(t[n]=e[n])})),e.layer&&(t.layer=e.layer),l.push(t)})),1===l.length?t=Lu({},t,l[0]):l.length>1&&(t.renderables=l),t}e.filterTransformProperties=n,e.serializeObjectProperties=l,e.serializeTransformData=i,e.serializeRenderables=o,e.serializeHumanObject=function e(t,n){if(n[t.objectId])return null;var a=new fr;return a.objectId=t.objectId,l(t,a),i(t,a),a=o(t,a),t.objects&&t.objects.length&&(a.objects=[]),t.objects.forEach((function(t){var l=e(t,n);null!==l&&a.objects.push(l)}),this),a}}(zu||(zu={}));var Du,Nu=function(){return function(){this.firstTime=0,this.lastTime=1}}(),Ru=function(){return(Ru=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Bu=function(){function e(){}return e.prototype.getChapterLocalTimerange=function(e){var t=Human.timeline.activeRoot._chapters.find((function(t){return t.id===e}));return Object(D.plainToClass)(Nu,t.timeRange)},e.prototype.mapGlobalTimeToLocal=function(e,t){void 0===t&&(t={});var n=Human.timeline.activeRoot.mapGlobalTime(e,t);return n.time<0&&(n.time=0),n},e.prototype.mapLocalTimeToGlobal=function(e,t){var n=Human.timeline.activeRoot._chapters.find((function(t){return t.id===e}));return Human.timeline.activeRoot.mapBranchTime(n,t)},e.prototype.isChapterAnimated=function(e){return e.timelineMap.filter((function(e){return"dummy"!==Object(Et.get)(e,"data.timeline")&&"dummy"!==Object(Et.get)(e,"data.timeline.id")&&"dummy"!==Object(Et.get)(e,"data.timeline.id.id")})).length>0},e.prototype.isChapterLooped=function(e){return!0===Object(Et.get)(e,"loop")||-1===Object(Et.get)(e,"ui.play.count")},e.prototype.scrub=function(e){Human.timeline.scrub({time:e.time,borderCondition:{which:e.which?e.which:"first",direction:"forward"}})},e.prototype.getTimeFrame=function(){return Human.timeline.getTimeFrame()},e.prototype.getTime=function(){return Human.timeline.time},e.prototype.isPlaying=function(){return Human.timeline.playing},e.prototype.hasChapterFinished=function(e){var t=this.getChapterLocalTimerange(e);return this.mapGlobalTimeToLocal(Human.timeline.time).time===t.lastTime},e.prototype.play=function(e){this.playParams=Object.keys(e).reduce((function(e,t){return void 0===e[t]&&delete e[t],e}),Ru({},e)),Human.timeline.play(this.playParams)},e.prototype.rewind=function(e){var t=this.mapLocalTimeToGlobal(e,0);this.scrub({time:t,which:"second"})},e.prototype.unpause=function(e){this.hasChapterFinished(e)&&this.rewind(e),Human.timeline.unpause()},e.prototype.pause=function(){Human.timeline.pause()},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Hu=function(){return(Hu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e.updateChapterIds=function(e,t){return Object.keys(e).reduce((function(n,l){return n[t[l]]=e[l],n}),{})},e.duplicateChapter=function(e,t,n){var l;return Hu({},n,((l={})[t]=n[e],l))},e.deleteChapter=function(e,t){var n=Hu({},t);return delete n[e],n},e.refreshEngineLookup=function(e,t){Human.modules.moduleData[e].tweenParticleLookup=t}}(Du||(Du={}));var Vu,$u=function(){return($u=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(e){function t(e,t){return Object.entries(t).reduce((function(e,t){var n=Qu(t,2),l=n[0],i=n[1];if(e.startsWith(l)){var o=new RegExp("^"+l);e=e.replace(o,i)}return e}),e||"")}e.renamespaceValue=t,e.renamespaceKeys=function(e,n){return Object.entries(e).reduce((function(e,l){var i=Qu(l,2),o=i[1];return e[t(i[0],n)]=o,e}),{})},e.renamespaceAssetLibrary=function(e,n,l){if(!l)return e;var i=e.tweens.map((function(e){return t(e,n)})),o=e.reflections.map((function(e){return t(e,n)}));return $u({},e,{tweens:i,reflections:o})},e.renamespaceReflections=function(e,n,l){return l?Object(Et.mapValues)(e,(function(e){return t(e,n)})):e}}(Vu||(Vu={}));var Wu=function(){return(Wu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gu=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function qu(e,t){return{showObjects:Object(Et.mapKeys)(e.showObjects,(function(e,n){return Vu.renamespaceValue(n,t)})),selectObjects:Object(Et.mapKeys)(e.selectObjects,(function(e,n){return Vu.renamespaceValue(n,t)})),pickThroughObjects:Object(Et.mapKeys)(e.pickThroughObjects,(function(e,n){return Vu.renamespaceValue(n,t)})),synchronization:Object(Et.mapKeys)(e.synchronization,(function(e,n){return Vu.renamespaceValue(n,t)}))}}function Yu(e,t){return(e||[]).map((function(e){return Wu({},e,{objectId:Vu.renamespaceValue(e.objectId,t),states:e.states.map((function(e){return Wu({},e,{errands:(n=e.errands,n.map((function(e){return e.type===Ar.flyToChapter||e.type===Ar.flyToObject?Wu({},e,{value:Vu.renamespaceValue(e.value,t)}):e})))});var n}))})}))}function Xu(e,t){return(e||[]).map((function(e){return e.data.timeline=t[e.data.timeline]||e.data.timeline,e}))}function Zu(e,t){return(e||[]).map((function(e){return e.objectId&&(e.objectId=Vu.renamespaceValue(e.objectId,t)),e}))}function Ju(e,t){return e?{xray:Object(Et.mapKeys)(e.xray,(function(e,n){return Vu.renamespaceValue(n,t)})),highlight:Object(Et.mapKeys)(e.highlight,(function(e,n){return Vu.renamespaceValue(n,t)}))}:{}}function ec(e,t){var n=function(e,t){return"string"==typeof e?[t[e]||e]:e.map((function(e){return t[e]||e}))}(e.stateId,t),l=e.assetLibraries.tweens.map((function(e){return Vu.renamespaceValue(e,t)})),i=e.assetLibraries.reflections.map((function(e){return Vu.renamespaceValue(e,t)})),o=Object(Et.mapValues)(e.reflections,(function(e,n){return Vu.renamespaceValue(e,t)})),a=function(e,t){return e.map((function(e){return Wu({},e,qu(e,t),{colorRecipeObjects:Ju(e.colorRecipeObjects,t),timelineMap:Xu(e.timelineMap,t),labels:Yu(e.labels,t),hotspots:Zu(e.hotspots,t)})}))}(e.chapters,t),r=function e(t,n){var l,i,o=function(t){["objectId","displayName","geometryId","morphId","materialId"].forEach((function(e){t[e]&&(t[e]=Vu.renamespaceValue(t[e],n))})),e(t.objects||[],n)};try{for(var a=Gu(t),r=a.next();!r.done;r=a.next())o(r.value)}catch(u){l={error:u}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(l)throw l.error}}return t}(e.sceneGraph,t);return Wu({},e,{stateId:n},qu(e,t),{assetLibraries:Wu({},e.assetLibraries,{tweens:l,reflections:i}),reflections:o,chapters:a,sceneGraph:r})}var tc,nc=function(){return function(){}}(),lc=function(){return function(){}}(),ic=function(){return function(){}}(),oc=function(){return function(){}}(),ac=function(){return function(){}}(),rc=function(){return Kr},uc=function(){return ic},cc=function(){return Or},sc=function(){return oc},pc=function(){function e(){this[t]=!0}var t;return t=immer.immerable,Object(v.__decorate)([Object(D.Type)(rc),Object(D.Type)(uc),Object(D.Type)(cc),Object(D.Type)(sc),Object(D.Expose)(),Object(v.__metadata)("design:type",String)],e.prototype,"id",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"info",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Array)],e.prototype,"labels",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Array)],e.prototype,"hotspots",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",ic)],e.prototype,"synchronization",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Ja)],e.prototype,"background",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"lights",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Array)],e.prototype,"timelineMap",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"camera",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"transitions",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"properties",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Boolean)],e.prototype,"loop",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"customData",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"clippingPlanes",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",ac)],e.prototype,"ui",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",oc)],e.prototype,"graph",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"viewModes",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"recipes",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",String)],e.prototype,"transparencyMode",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"fallbackTransparency",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"effects",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"environment",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"pickThroughObjects",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"showObjects",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"options",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Object)],e.prototype,"media",void 0),Object(v.__decorate)([Object(D.Expose)(),Object(v.__metadata)("design:type",Array)],e.prototype,"legend",void 0),Object(v.__decorate)([Object(D.Exclude)()],e)}();(tc||(tc={})).makeChapterIdMap=function(e,t){return e.reduce((function(e,n){return e[n.id]=!0===t?sr.idWithPrefix("chapter"):n.id,e}),{})};var dc,bc=function(e){return e[e.LeftClip=0]="LeftClip",e[e.RightClip=1]="RightClip",e[e.BottomClip=2]="BottomClip",e[e.TopClip=3]="TopClip",e[e.FrontClip=4]="FrontClip",e[e.BackClip=5]="BackClip",e}({}),gc={0:"left",1:"right",2:"bottom",3:"top",4:"front",5:"back"},hc={enabled:!1,clips:{left:{clipId:bc.LeftClip,enabled:!1,fade:!1,fadeDistance:0,progress:0},right:{clipId:bc.RightClip,enabled:!1,fade:!1,fadeDistance:0,progress:0},back:{clipId:bc.BackClip,enabled:!1,fade:!1,fadeDistance:0,progress:0},front:{clipId:bc.FrontClip,enabled:!1,fade:!1,fadeDistance:0,progress:0},top:{clipId:bc.TopClip,enabled:!1,fade:!1,fadeDistance:0,progress:0},bottom:{clipId:bc.BottomClip,enabled:!1,fade:!1,fadeDistance:0,progress:0}}},mc=function(){return(mc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},yc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fc(arguments[t]));return e},xc=function(){function e(e,t){this.serializeChapterService=e,this.labelService=t}return e.prototype.addChapterToEngine=function(e,t){var n=tc.makeChapterIdMap([e],!1),l=this.serializeChapterService.serializeSingleChapter(e,{},[],n);l.synchronization=JSON.parse(JSON.stringify(e.synchronization));var i=new Human.timeline.BranchTimeline(l);Human.timeline.activeRoot.addChapter(i,{rebuild:!0,position:t})},e.prototype.removeChapterFromEngine=function(e){Human.timeline.activeRoot._chapters=Human.timeline.activeRoot._chapters.filter((function(t){return t.id!==e.id})),Human.timeline.activeRoot.build()},e.prototype.copyChapter=function(e,t){var n=Object(D.classToClass)(e);return n.id=t,n.labels.forEach((function(e){e.id=sr.idWithPrefix("label"),e.chapterId=n.id})),n.readyState={model:!0,animation:!0},n},e.prototype.getCurrentChapterId=function(){return Human.timeline.activeRoot._nowBranch.id},e.prototype.fromHumanChapter=function(e,t,n,l){var i=this,o=mc({},n),a=e.chapters[l];o.environment=mc({},a.environment),o.transitions=mc({},a.transitions),a.transparencyMode&&(o.transparencyMode=a.transparencyMode),o.showObjects=mc({},e.chapters[l].showObjects),o.pickThroughObjects=mc({},e.chapters[l].pickThroughObjects),o.id||(o.id=sr.idWithPrefix("chapter"));var r=!1;o.timelineMap=Object.values(n.maps).map((function(e){return"dummy"!==e.data.timeline.id&&(r=!0),{start:e.start,end:e.end,data:{timeline:e.data.timeline.id,start:e.data.start,end:e.data.end,fit:e.data.fit||!1,onEnd:e.data.onEnd}}})),delete o.maps;var u=0,c=!!n.animation&&n.animation.loop;r&&c?u=-1:r&&!c&&(u=1),o.ui=n.ui&&!Object(Et.isEmpty)(n.ui)?n.ui:{play:{count:u}};var s=Tr.Annotation,p=yc(o.annotations||[]).map((function(e){return i.labelService.deserializeAnnotation(e,o,s)})),d=[],b=this.groupHotspots(yc(o.hotspots||[]).filter((function(l){var o=i.labelService.filterHotspot(e,n,l);return o?l.theme||(l.theme="module"===t?Er.studioNext:Er.classicHotspot):d.push(l),o}))).map((function(t){var o;return(o=i.labelService).deserializeHotspots.apply(o,yc([e,n,l],t))}));o.labels=yc(p,b),delete o.annotations,o.background=Ja.deserialize(n.background);var g=Object(D.plainToClass)(pc,o);return g.hotspots=d,g.readyState={model:!1,animation:!1},g.clippingPlanes=Object(Et.isEmpty)(g.clippingPlanes)?hc:this.sanitizeClippingPlanes(g.clippingPlanes),g.legend=yc(a.legend||[]),g},e.prototype.sanitizeClippingPlanes=function(e){var t=Object.values(e.clips).some((function(e){return e.progress>0})),n=Object(Et.mapKeys)(e.clips,(function(e,t){return gc[t]||t}));return mc({},e,{clips:n,enabled:t})},e.prototype.groupHotspots=function(e){var t={},n=function(e){return e.primitiveIndex?e.primitiveIndex.toFixed(0):e.pos?e.pos.map((function(e){return e.toFixed(3)})).join(":"):Math.random().toFixed(3)};return e.forEach((function(e){var l,i=[(l=e.type,RegExp("^circle-(plus|minus)").test(l)?"pair":"single"),e.objectId,n(e)].join("|");i in t?t[i].push(e):t[i]=[e]})),Object.values(t)},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(Eu),l.Yb(bu))},token:e,providedIn:"root"}),e}(),_c=n("dEwP"),vc=n("F1hP"),Oc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},wc=function(){function e(e,t,n,l){this.engineService=e,this.imageService=t,this.labelsService=n,this.store=l}return e.prototype.localResize=function(e,t){var n=Human.renderer.canvas.canvas,l=Human.renderer.canvas.annotationCanvas,i=n.parentNode,o=i.clientWidth,a=i.clientHeight;return i.width=e,i.height=t,n.width=e,n.height=t,l.width=e,l.height=t,i.style.width=e+"px",i.style.height=t+"px",Human.renderer.canvas.init(),Human.renderer.viewportDirty=!0,Human.renderer.camera.updateCanvas(),Human.renderer.postprocess.updateCanvas(),Human.renderer.draw.updateCanvas(),Human.renderer.viewportDirty=!0,Human.renderer.prepareFrame(),Human.renderer.forceRenderFrame(),[o,a]},e.prototype.canvasToImage=function(e){var t=this.engineService.getCanvas(),n=t.width,l=t.height;l>n?l=n:n=l;var i=.5*(t.width-n),o=.5*(t.height-l);return new J.a((function(a){var r=e.getContext("2d");Human.renderer.forceRenderFrame(),r.drawImage(t,i,o,n,l,0,0,e.width,e.height),a.next(),a.complete()}))},e.prototype.canvasToImageWithResize=function(e){var t=this,n=this.engineService.getCanvas();n.style.opacity="0",this.store.dispatch(new Ri(!1));var l=Oc(this.localResize(e.width,e.height),2),i=l[0],o=l[1],a=e.getContext("2d");return new J.a((function(e){setTimeout((function(){Human.renderer.viewportDirty=!0,Human.renderer.prepareFrame(),Human.renderer.forceRenderFrame(),a.drawImage(n,0,0,n.width,n.height),t.localResize(i,o),document.getElementById("theCanvas").style.opacity="",t.store.dispatch(new Ri(!0)),e.next(),e.complete()}),10)}))},e.prototype.drawRadialGradient=function(e,t){var n=t.colors,l=Oc(t.colorStops.map((function(t){return function(e,t,n){var l=Oc([Math.pow(t/2,2),Math.pow(n/2,2)],2);return e/100*Math.pow(l[0]+l[1],.5)}(t,e.width,e.height)})),2),i=l[0],o=l[1],a=e.getContext("2d"),r=Oc([e.width/2,e.height/2],2),u=r[0],c=r[1],s=a.createRadialGradient(u,c,i,u,c,o);s.addColorStop(t.colorStops[0]/100,"rgba("+n.slice(0,4).join(",")+")"),s.addColorStop(t.colorStops[1]/100,"rgba("+n.slice(4,8).join(",")+")"),a.fillStyle=s,a.fillRect(0,0,e.width,e.height)},e.prototype.drawLinearGradient=function(e,t){var n=t.colors,l=e.getContext("2d"),i=Oc([e.width/2,e.height/2],2),o=i[0],a=l.createLinearGradient(o,i[1],o,e.height);a.addColorStop(t.colorStops[0]/100,"rgba("+n.slice(0,4).join(",")+")"),a.addColorStop(t.colorStops[1]/100,"rgba("+n.slice(4,8).join(",")+")"),l.fillStyle=a,l.fillRect(0,0,e.width,e.height)},e.prototype.takeSnapshot=function(e,t,n,l,i){var o=this,a=i.imageType,r=i.imageQuality,u=i.copyrightEnabled,c=document.createElement("canvas");c.width=e,c.height=t,"radial"===n.gradientType?this.drawRadialGradient(c,n):"linear"===n.gradientType&&this.drawLinearGradient(c,n);var p=this.engineService.getCanvas(),d=[],b=(c.height>p.height||c.width>p.width?this.canvasToImageWithResize(c):this.canvasToImage(c)).pipe(Object(s.a)((function(){return c})));d.push(b);var g=this.labelsService.getLabelContainer();if(l&&g){var h=this.imageService.elementToCanvas(g.nativeElement,!0).pipe(Object(wt.a)((function(n){return o.imageService.fitCanvas(n,{width:e,height:t})})));d.push(h)}return Object(_c.a)(d).pipe(Object(vc.a)(),Object(s.a)((function(e){return o.imageService.combineCanvasElements(e)})),Object(wt.a)((function(e){return u?o.writeLogoToCanvas(e,i):Object(U.a)(e)})),Object(wt.a)((function(e){return o.imageService.canvasToBlob(e,a,r)})))},e.prototype.writeLogoToCanvas=function(e,t){var n=this;return this.getLogoImage(t.copyrightImagePath).pipe(Object(s.a)((function(l){var i=l.width,o=l.height,a=e.width;.1*a>i&&(o=o/i*(i=.1*a));var r=n.getLogoPosition(a,e.height,i,o,t),u=r.xOffset,c=r.yOffset;return e.getContext("2d").drawImage(l,u,c,i,o),e})),Object(E.a)((function(){return Object(U.a)(e)})))},e.prototype.getLogoImage=function(e){return new J.a((function(t){var n=new Image;n.onload=function(){t.next(n),t.complete()},n.onerror=function(){return t.error()},n.src=e}))},e.prototype.getLogoPosition=function(e,t,n,l,i){var o,a,r=i.copyrightPosition,u=i.copyrightOffset;switch(r.x){case"right":o=e-n;break;case"center":o=e/2-n/2;break;default:o=0}switch(r.y){case"bottom":a=t-l;break;case"center":a=t/2-l/2;break;default:a=0}return{xOffset:o+u.x,yOffset:a+u.y}},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(uu),l.Yb(zt),l.Yb(bu),l.Yb(O.i))},token:e,providedIn:"root"}),e}(),Cc=function(){return function(){this[dc]=!0}}();dc=immer.immerable;var jc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},kc={colors:[245,245,245,1,245,245,245,1],gradientType:"radial",colorStops:[0,100]},Sc={colors:[255,255,255,0,255,255,255,0],gradientType:"linear",colorStops:[0,100]},Pc=[{colors:[0,0,0,1,0,0,0,1],gradientType:"linear",colorStops:[0,100]},{colors:[38,38,38,1,38,38,38,1],gradientType:"linear",colorStops:[0,100]},{colors:[77,77,77,1,77,77,77,1],gradientType:"linear",colorStops:[0,100]},{colors:[115,115,115,1,115,115,115,1],gradientType:"linear",colorStops:[0,100]},{colors:[153,153,153,1,153,153,153,1],gradientType:"linear",colorStops:[0,100]},{colors:[191,191,191,1,191,191,191,1],gradientType:"linear",colorStops:[0,100]},{colors:[230,230,230,1,230,230,230,1],gradientType:"linear",colorStops:[0,100]},{colors:[255,255,255,1,255,255,255,1],gradientType:"linear",colorStops:[0,100]},{colors:[128,128,128,1,0,0,0,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,38,38,38,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,77,77,77,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,115,115,115,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,153,153,153,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,191,191,191,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,230,230,230,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,255,255,255,1],gradientType:"radial",colorStops:[0,100]},{colors:[245,208,208,1,245,208,208,1],gradientType:"linear",colorStops:[0,100]},{colors:[253,236,219,1,253,236,219,1],gradientType:"linear",colorStops:[0,100]},{colors:[255,246,219,1,255,246,219,1],gradientType:"linear",colorStops:[0,100]},{colors:[220,236,213,1,220,236,213,1],gradientType:"linear",colorStops:[0,100]},{colors:[212,229,245,1,212,229,245,1],gradientType:"linear",colorStops:[0,100]},{colors:[219,212,235,1,219,212,235,1],gradientType:"linear",colorStops:[0,100]},{colors:[164,194,244,1,164,194,244,1],gradientType:"linear",colorStops:[0,100]},{colors:[118,165,175,1,118,165,175,1],gradientType:"linear",colorStops:[0,100]},{colors:[245,208,208,1,245,208,208,1],gradientType:"radial",colorStops:[0,100]},{colors:[253,236,219,1,240,169,99,1],gradientType:"radial",colorStops:[0,100]},{colors:[255,246,219,1,250,210,92,1],gradientType:"radial",colorStops:[0,100]},{colors:[220,236,213,1,147,188,129,1],gradientType:"radial",colorStops:[0,100]},{colors:[212,229,245,1,112,164,213,1],gradientType:"radial",colorStops:[0,100]},{colors:[219,212,235,1,145,128,187,1],gradientType:"radial",colorStops:[0,100]},{colors:[164,194,244,1,112,164,213,1],gradientType:"radial",colorStops:[0,100]},{colors:[211,211,211,1,118,165,175,1],gradientType:"radial",colorStops:[0,100]}],Mc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jc(arguments[t]));return e}(Pc,[{colors:[10,132,130,255,5,43,51,255],gradientType:"radial",colorStops:[0,68]},{colors:[0,28,84,1,0,0,0,1],gradientType:"radial",colorStops:[12,100]}]),Ic={small:{width:256,height:256},medium:{width:512,height:512},large:{width:1024,height:1024}},Tc=n("9Bt9"),Kc=function(){return(Kc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Uc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zc(arguments[t]));return e},Ec={imageType:Kt.JPEG,copyrightEnabled:!1,copyrightImagePath:"assets/images/powered-by-biodigital-color.svg",copyrightPosition:{x:"left",y:"bottom"},copyrightOffset:{x:12,y:-12},imageQuality:1},Lc={loading:!1,chapters:[],chaptersViewed:[],selectedChapter:null,isChapterAnimated:!1,thumbnails:new Map,patches:[],inversePatches:[]},Ac=function(){function e(e,t,n,l,i){this.chapterService=e,this.snapshotService=t,this.store=n,this.animationService=l,this.engineService=i}var t;return t=e,e.getStoryChapters=function(e){return e.chapters},e.getChaptersViewed=function(e){return e.chaptersViewed},e.getChapter=function(e){return Object(O.j)([t],(function(t){return t.chapters.find((function(t){return t.id===e}))}))},e.getSelectedChapterId=function(e){return e.selectedChapter},e.getSelectedChapter=function(e){return e.chapters.find((function(t){return t.id===e.selectedChapter}))||null},e.getNextChapter=function(e){var n=1+t.getSelectedChapterIndex(e);return e.chapters[n]},e.getPreviousChapter=function(e){var n=-1+t.getSelectedChapterIndex(e);return e.chapters[n]},e.getSelectedChapterIndex=function(e){return e.chapters.findIndex((function(t){return t.id===e.selectedChapter}))},e.getSelectedChapterTitle=function(e){return e.chapters.find((function(t){return t.id===e.selectedChapter})).info.displayName},e.getChapterCount=function(e){return e.chapters.length},e.getRegisteredThumbnails=function(e){return e.thumbnails},e.getIsChapterAnimated=function(e){return e.isChapterAnimated},e.getSelectedChapterReadyState=function(e){var n=t.findChapter(e.chapters,e.selectedChapter);return Object(Et.get)(n,"readyState")},e.getChaptersLoaded=function(e){return{count:e.chapters.length,modelChapters:e.chapters.filter((function(e){return e.readyState.model})),animationChapters:e.chapters.filter((function(e){return e.readyState.animation}))}},e.getAllChaptersModelsReady=function(e){return e.chapters.length>0&&e.chapters.every((function(e){return e.readyState.model}))},e.getAllChaptersAnimationsReady=function(e){return e.chapters.length>0&&e.chapters.every((function(e){return e.readyState.animation}))},e.getSelectedChapterBackground=function(e){var n=t.findChapter(e.chapters,e.selectedChapter);return Object(Et.get)(n,"background")||kc},e.getAllChaptersBackground=function(e){return e.chapters.map((function(e){return Object(Et.get)(e,"background")}))},e.getSelectedChapterAudio=function(e){var t=e.chapters.find((function(t){return t.id===e.selectedChapter}));return t&&t.media?Object.values(t.media).filter((function(e){return"audio"===e.data.streamType}))[0]:null},e.getSelectedChapterLegend=function(e){var n=t.findChapter(e.chapters,e.selectedChapter);return Object(Et.get)(n,"legend")||[]},e.getSelectedChapterClippingPlanes=function(e){var n=t.findChapter(e.chapters,e.selectedChapter);return Object(Et.get)(n,"clippingPlanes")},e.findChapter=function(e,t){return e.find((function(e){return e.id===t}))},e.prototype.setChapters=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters=t.chapters})))},e.prototype.SetChapterCameraAction=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).camera.action=t.cameraAction})))},e.prototype.setChapterUI=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).ui=t.ui})))},e.prototype.setChapterInfo=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).info=t.info})))},e.prototype.setChapterLegend=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).legend=t.legend})))},e.prototype.addToChapterLegend=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).legend.push(t.legend)})))},e.prototype.ReorderChapters=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){Object(Tc.g)(e.chapters,t.previousIndex,t.currentIndex)})))},e.prototype.SetChapterReadyState=function(e,t){var n=immer.produce(e.getState(),(function(e){if(t.chapterId){var n=e.chapters.find((function(e){return e.id===t.chapterId}));n.readyState=Kc({},n.readyState,t.readyState)}}));e.patchState(n)},e.prototype.SetChapterPostProcessing=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){var n=e.chapters.find((function(e){return e.id===t.chapterId})),l=n.properties||{};n.customData=Kc({},n.customData?n.customData:{},{postprocess:t.effects}),n.properties=Kc({},l,t.properties)})))},e.prototype.SetChapterTransitions=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){var n=e.chapters.find((function(e){return e.id===t.chapterId}));n.transitions=n.transitions||{},n.transitions[t.key]=t.transition})))},e.prototype.SetChapterTransparencyMode=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).transparencyMode=t.transparencyMode})))},e.prototype.applyChapterPatch=function(e,t){var n=immer.applyPatches(e.getState(),t.patches);e.patchState(immer.produce(n,(function(e){e.patches=[],e.inversePatches=[]})))},e.prototype.setChapterClippingPlane=function(e,t){var n=this,l=zc(immer.produceWithPatches(e.getState(),(function(e){var l=e.chapters.find((function(e){return e.id===t.chapterId}));l.clippingPlanes.clips=t.clips,l.clippingPlanes.enabled=t.enabled,l.clippingPlanes.boundary=l.clippingPlanes.boundary||JSON.parse(JSON.stringify(n.engineService.getBoundaries()))})),3),i=l[1],o=l[2],a=immer.produce(l[0],(function(e){var t,n;(t=e.patches).push.apply(t,Uc(i)),(n=e.inversePatches).push.apply(n,Uc(o))}));t.record&&e.dispatch(new tu.SavePatches({forward:a.patches,inverse:Uc(a.inversePatches).reverse(),patchAction:ua})),e.patchState(t.record?immer.produce(a,(function(e){e.patches=[],e.inversePatches=[]})):a)},e.prototype.setChapterBackground=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).background=t.background})))},e.prototype.setAllChaptersBackground=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.forEach((function(e){e.background=t.background}))})))},e.prototype.resetSelectedChapterBackground=function(e,t){var n=e.getState().selectedChapter;this.store.dispatch(new Sa(n,kc))},e.prototype.setSelectedChapterBackground=function(e,t){var n=t.background,l=e.getState().selectedChapter;this.store.dispatch(new Sa(l,n))},e.prototype.selectChapter=function(e,t){if(t.chapter){this.store.dispatch([new eu.UpdateNodesChecked(!1),new eu.UpdateNodeSelected]);var n=this.animationService.isChapterAnimated(t.chapter);this.store.dispatch(new ji(!!t.chapter));var l=immer.produce(e.getState(),(function(e){e.chaptersViewed.some((function(e){return t.chapter.id===e}))||e.chaptersViewed.push(t.chapter.id),e.selectedChapter=t.chapter?t.chapter.id:null,e.isChapterAnimated=n}));e.patchState(l)}},e.prototype.selectChapterById=function(e,t){var n=t.chapterId;this.store.dispatch(new ji(!0)),e.patchState({selectedChapter:n})},e.prototype.duplicateChapter=function(e,t){var n=t.chapter,l=this.chapterService.copyChapter(n,t.chapterId),i=e.getState().chapters.length;this.chapterService.addChapterToEngine(Object(Et.cloneDeep)(l),i),e.patchState(immer.produce(e.getState(),(function(e){e.chapters.push(l)}))),e.dispatch(new Mo(n,l)),e.dispatch(new Ea(n,l))},e.prototype.copyThumbnail=function(e,t){if(t.sourceChapter){var n=e.getState().thumbnails,l=immer.produce(e.getState(),(function(e){var l=n.get(t.sourceChapter.id),i=new Cc;i.storyId=l.storyId,i.chapterId=l.chapterId,i.urls={small:l.urls.small.replace(t.sourceChapter.id,t.targetChapter.id),large:l.urls.large.replace(t.sourceChapter.id,t.targetChapter.id)},i.snapshot=l.snapshot?l.snapshot:l.urls.large,e.thumbnails.set(t.targetChapter.id,i)}));e.patchState(l)}else e.dispatch(new La(t.targetChapter.id))},e.prototype.nextChapter=function(e,t){var n=e.getState().chapters,l=this.chapterService.getCurrentChapterId(),i=0;(i=n.findIndex((function(e){return e.id===l})))<n.length-1&&i++,e.dispatch(new ba(n[i]))},e.prototype.previousChapter=function(e,t){var n=e.getState().chapters,l=this.chapterService.getCurrentChapterId(),i=0;(i=n.findIndex((function(e){return e.id===l})))>0&&i--,e.dispatch(new ba(n[i]))},e.prototype.lastChapter=function(e,t){var n=e.getState().chapters;e.dispatch(new ba(n[n.length-1]))},e.prototype.firstChapter=function(e,t){var n=e.getState().chapters;e.dispatch(new ba(n[0]))},e.prototype.removeChapter=function(e,t){var n=e.getState(),l=n.chapters,i=n.selectedChapter;if(1!==l.length){this.chapterService.removeChapterFromEngine(t.chapter);var o=l.findIndex((function(e){return e.id===t.chapter.id}));e.patchState(immer.produce(e.getState(),(function(e){e.chapters.splice(o,1)}))),t.chapter.id===i&&(o===l.length-1&&o--,e.dispatch(new ba(l[o]))),e.dispatch(new Ko(t.chapter))}},e.prototype.resetStoryChaptersState=function(e,t){e.setState(Lc)},e.prototype.registerChapterThumbnails=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.thumbnails=new Map(t.thumbnails)})))},e.prototype.takeChapterPicture=function(e,n){var l,i=this,o=n.chapterId,a=n.includeLabels,r=n.includeCopyright,u=n.imageType,c=n.imageQuality,s=n.dimensions||Ic.large,p=s.width,d=s.height,b=this.store.selectSnapshot(t.getSelectedChapterBackground);switch(u){case Kt.PNG:l=b||kc;break;case Kt.JPEG:default:l=b&&!Ja.isTransparent(b)?b:kc}var g=b.colors.slice(0,3),h=tt.isLight(g),m=Kc({},Ec,{imageType:u,imageQuality:c,copyrightEnabled:r,copyrightImagePath:h?"assets/images/powered-by-biodigital-color.svg":"assets/images/powered-by-biodigital-white.svg"});setTimeout((function(){i.snapshotService.takeSnapshot(p,d,l,a,m).subscribe((function(t){e.dispatch(new Aa(o,t,s))}))}))},e.prototype.takeChapterPictureSuccess=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){var n=e.thumbnails.get(t.chapterId)||new Cc;n.snapshot=URL.createObjectURL(t.blob),e.thumbnails.set(t.chapterId,n)})))},e.prototype.RecordCamera=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.chapters.find((function(e){return e.id===t.chapterId})).camera.location=t.camera})))},Object(v.__decorate)([Object(O.a)(ha),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ha]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapters",null),Object(v.__decorate)([Object(O.a)(ma),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ma]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetChapterCameraAction",null),Object(v.__decorate)([Object(O.a)(fa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,fa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapterUI",null),Object(v.__decorate)([Object(O.a)(ya),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ya]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapterInfo",null),Object(v.__decorate)([Object(O.a)(xa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,xa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapterLegend",null),Object(v.__decorate)([Object(O.a)(_a),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,_a]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"addToChapterLegend",null),Object(v.__decorate)([Object(O.a)(va),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,va]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"ReorderChapters",null),Object(v.__decorate)([Object(O.a)(Oa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Oa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetChapterReadyState",null),Object(v.__decorate)([Object(O.a)(wa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,wa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetChapterPostProcessing",null),Object(v.__decorate)([Object(O.a)(Ca),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ca]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetChapterTransitions",null),Object(v.__decorate)([Object(O.a)(ja),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ja]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetChapterTransparencyMode",null),Object(v.__decorate)([Object(O.a)(ua),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ua]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"applyChapterPatch",null),Object(v.__decorate)([Object(O.a)(ka),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ka]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapterClippingPlane",null),Object(v.__decorate)([Object(O.a)(Sa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Sa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapterBackground",null),Object(v.__decorate)([Object(O.a)(Pa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Pa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setAllChaptersBackground",null),Object(v.__decorate)([Object(O.a)(Ma),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ma]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetSelectedChapterBackground",null),Object(v.__decorate)([Object(O.a)(Ia),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Object]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedChapterBackground",null),Object(v.__decorate)([Object(O.a)(ba),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ba]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectChapter",null),Object(v.__decorate)([Object(O.a)(ga),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Object]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectChapterById",null),Object(v.__decorate)([Object(O.a)(Ta),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ta]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"duplicateChapter",null),Object(v.__decorate)([Object(O.a)(Ea),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ea]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"copyThumbnail",null),Object(v.__decorate)([Object(O.a)(ca),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ca]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"nextChapter",null),Object(v.__decorate)([Object(O.a)(sa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,sa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"previousChapter",null),Object(v.__decorate)([Object(O.a)(da),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,da]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"lastChapter",null),Object(v.__decorate)([Object(O.a)(pa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,da]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"firstChapter",null),Object(v.__decorate)([Object(O.a)(Ka),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ka]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"removeChapter",null),Object(v.__decorate)([Object(O.a)(za),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,za]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetStoryChaptersState",null),Object(v.__decorate)([Object(O.a)(Ua),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ua]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"registerChapterThumbnails",null),Object(v.__decorate)([Object(O.a)(La),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,La]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"takeChapterPicture",null),Object(v.__decorate)([Object(O.a)(Aa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Aa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"takeChapterPictureSuccess",null),Object(v.__decorate)([Object(O.a)(Fa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Fa]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"RecordCamera",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getStoryChapters",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getChaptersViewed",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterId",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapter",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getNextChapter",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getPreviousChapter",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterIndex",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterTitle",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getChapterCount",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getRegisteredThumbnails",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getIsChapterAnimated",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterReadyState",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getChaptersLoaded",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getAllChaptersModelsReady",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getAllChaptersAnimationsReady",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterBackground",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getAllChaptersBackground",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterAudio",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterLegend",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedChapterClippingPlanes",null),t=Object(v.__decorate)([Object(O.g)({name:"storyChapters",defaults:Lc})],e)}(),Fc=function(){return(Fc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Dc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Nc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dc(arguments[t]));return e},Rc={enableContextLabel:{enable:!0,enableInfo:!0,enableActions:!0},loading:!1,labelsCollapsed:!1,labelsCollapsedMode:wo.None,labels:[],contextLabel:null,selectedLabel:null,draggable:{pin:!0,tag:!0}},Bc=function(){function e(e,t){this.store=e,this.labelsService=t}return e.getLabels=function(e){return e.labels},e.getLabelsCollapsed=function(e){return e.labelsCollapsed},e.getLabelsCollapsedMode=function(e){return e.labelsCollapsedMode},e.getSelectedLabelId=function(e){return e.selectedLabel},e.getSelectedLabel=function(e){return e.labels.find((function(t){return t.id===e.selectedLabel}))||null},e.getContextLabel=function(e){return e.contextLabel},e.getChapterLabels=function(e,t){return e.labels.filter((function(e){return e.chapterId===t.selectedChapter}))},e.getEnableContextLabel=function(e){return e.enableContextLabel.enable},e.getEnableContextLabelInfo=function(e){return e.enableContextLabel.enableInfo},e.getEnableContextLabelActions=function(e){return e.enableContextLabel.enableActions},e.getLabelsDraggable=function(e){return e.draggable},e.prototype.PatchLabels=function(e,t){var n=immer.applyPatches(e.getState(),t.patches);e.patchState(n)},e.prototype.setLabelOffset=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){e.labels.find((function(e){return e.id===t.labelId})).offset=t.offset})),3),l=n[1],i=n[2];e.patchState(n[0]),this.savePatches(l,i)},e.prototype.setLabels=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.labels=t.labels})))},e.prototype.setLabel=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){e.labels=e.labels.map((function(e){return e.id===t.label.id?t.label:e}))})),3),l=n[1],i=n[2];e.patchState(n[0]),t.record&&this.savePatches(l,i)},e.prototype.setLabelStates=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){e.labels.find((function(e){return e.id===t.id})).states=t.states})),3),l=n[1],i=n[2];e.patchState(n[0]),this.savePatches(l,i)},e.prototype.addLabel=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){var n=t.label.id||sr.idWithPrefix("label"),l=Fc({},t.label,{id:n});e.labels.push(l)})),3),l=n[1],i=n[2];e.patchState(n[0]),this.savePatches(l,i)},e.prototype.addContextLabel=function(e,t){var n=immer.produce(e.getState(),(function(e){e.contextLabel=Fc({},t.label,{id:"context-label"})}));e.patchState(n)},e.prototype.copyLabels=function(e,t){var n=e.getState().labels,l=n.filter((function(e){return e.chapterId===t.sourceChapter.id})).map((function(e){return Fc({},Object(Et.cloneDeep)(e),{id:sr.idWithPrefix("label"),chapterId:t.targetChapter.id})}));e.patchState({labels:Nc(n,l)})},e.prototype.removeLabel=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){e.labels=e.labels.filter((function(e){return e.id!==t.label.id}))})),3),l=n[1],i=n[2];e.patchState(n[0]),Human.scene.markers.delete(t.label.id),this.savePatches(l,i)},e.prototype.removeContextLabel=function(e,t){var n=immer.produce(e.getState(),(function(e){e.contextLabel=void 0}));Human.scene.markers.delete("context-label"),e.patchState(n)},e.prototype.removeAllChapterLabels=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){var n=Dc(Object(Et.partition)(e.labels,(function(e){return e.chapterId!==t.chapter.id})),2),l=n[0];n[1].forEach((function(e){return Human.scene.markers.delete(e.id)})),e.labels=l})),3),l=n[1],i=n[2];e.patchState(n[0]),this.savePatches(l,i)},e.prototype.selectLabel=function(e,t){e.patchState({selectedLabel:t.label?t.label.id:null})},e.prototype.resetLabels=function(e,t){var n=e.getState();Human.scene.markers.delete("context-label"),n.labels.forEach((function(e){Human.scene.markers.delete(e.id)})),e.setState(immer.produce(e.getState(),(function(e){})))},e.prototype.convertLabels=function(e,t){var n=Dc(immer.produceWithPatches(e.getState(),(function(e){t.labels.forEach((function(n){var l=e.labels.findIndex((function(e){return e.id===n.id}));e.labels[l].theme=t.theme}))})),3),l=n[1],i=n[2];e.setState(Fc({},n[0])),this.savePatches(l,i)},e.prototype.enableContextLabel=function(e,t){e.patchState({enableContextLabel:Fc({},t)})},e.prototype.setLabelsShown=function(e,t){var n=t.labels,l=t.shown,i=e.getState().labels.map((function(e){var t=n.some((function(t){return t.id===e.id}));return Fc({},e,{shown:t?l:e.shown})}));e.patchState({labels:Nc(i)})},e.prototype.setAllLabelsShown=function(e,t){var n=t.show,l=e.getState().labels;e.dispatch(new Do(l,n))},e.prototype.setLabelsCollapsed=function(e,t){e.patchState({labelsCollapsed:t.collapsed,labelsCollapsedMode:t.collapsedMode})},e.prototype.setLabelsDraggable=function(e,t){e.patchState({draggable:Fc({},t.draggable)})},e.prototype.savePatches=function(e,t){this.store.dispatch(new tu.SavePatches({forward:e,inverse:t,patchAction:Co}))},Object(v.__decorate)([Object(O.a)(Co),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Co]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"PatchLabels",null),Object(v.__decorate)([Object(O.a)(jo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelOffset",null),Object(v.__decorate)([Object(O.a)(ko),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ko]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabels",null),Object(v.__decorate)([Object(O.a)(zo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,zo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabel",null),Object(v.__decorate)([Object(O.a)(Uo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Uo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelStates",null),Object(v.__decorate)([Object(O.a)(So),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,So]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"addLabel",null),Object(v.__decorate)([Object(O.a)(Po),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Po]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"addContextLabel",null),Object(v.__decorate)([Object(O.a)(Mo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Mo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"copyLabels",null),Object(v.__decorate)([Object(O.a)(Io),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Io]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"removeLabel",null),Object(v.__decorate)([Object(O.a)(To),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,To]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"removeContextLabel",null),Object(v.__decorate)([Object(O.a)(Ko),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ko]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"removeAllChapterLabels",null),Object(v.__decorate)([Object(O.a)(Eo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Eo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectLabel",null),Object(v.__decorate)([Object(O.a)(Lo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Lo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetLabels",null),Object(v.__decorate)([Object(O.a)(Ao),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ao]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"convertLabels",null),Object(v.__decorate)([Object(O.a)(Fo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Fo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"enableContextLabel",null),Object(v.__decorate)([Object(O.a)(Do),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Do]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsShown",null),Object(v.__decorate)([Object(O.a)(No),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,No]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setAllLabelsShown",null),Object(v.__decorate)([Object(O.a)(Ro),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ro]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsCollapsed",null),Object(v.__decorate)([Object(O.a)(Bo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Bo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsDraggable",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLabels",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLabelsCollapsed",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLabelsCollapsedMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedLabelId",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedLabel",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getContextLabel",null),Object(v.__decorate)([Object(O.f)([Ac]),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc,lc]),Object(v.__metadata)("design:returntype",void 0)],e,"getChapterLabels",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getEnableContextLabel",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getEnableContextLabelInfo",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getEnableContextLabelActions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[nc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLabelsDraggable",null),Object(v.__decorate)([Object(O.g)({name:"labels",defaults:Rc})],e)}(),Hc=function(){return(Hc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Vc=function(){function e(e,t,n,l){this.store=e,this.engineService=t,this.chapterSerializer=n,this.animationService=l}return e.prototype.serializeUI=function(e){var t=Hc({},e.ui);return e.chapters.length>1&&(t.scrubber=!1,t.playPause=!1,t.tour={chapters:!0}),t},e.prototype.serializeAnimation=function(e){return this.animationService.isChapterAnimated(e)?{startTime:e.timelineMap[0].start,loop:!1!==e.loop,numChapters:1}:{}},e.prototype.getClippedObjects=function(){return 0===Human.renderer.clip.getActiveClips().length?{}:Human.scene.getLeaves().reduce((function(e,t){return Human.scene.objects[t].culledByClip&&(e[t]=!0),e}),{})},e.prototype.generateTrimObjectMap=function(e,t){var n=this.engineService.getSceneGraph(Human.scene.rootObjects),l={};t.graph.hidden&&(l=Hc({},l,this.engineService.queryShownObjects(e,n,!0)));var i={};for(var o in l)i[o]=!l[o];var a=t.graph.clipped?this.getClippedObjects():{};return Hc({},i,a)},e.prototype.serialize=function(e,t,n,l,i,o){void 0===n&&(n=!1);var a=this.generateTrimObjectMap(i,t),r=Object(Et.cloneDeep)(l),u=this.chapterSerializer.serialize(i,e,this.store.selectSnapshot(Bc.getLabels),o);r.chapters=u,r.tweenParticleLookup&&(r.tweenParticleLookup=Du.updateChapterIds(r.tweenParticleLookup,o));var c=Human.scene.rootObjects;return r.sceneGraph=function(e,t){var n=[];return Object.entries(e).forEach((function(e){var l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),i=zu.serializeHumanObject(l[1],t);null!==i&&n.push(i)}),this),n}(c,a),r.ui=this.serializeUI(r),r.animation=this.serializeAnimation(i[0]),{story:n?ec(r,e):r}},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i),l.Yb(uu),l.Yb(Eu),l.Yb(Bu))},token:e,providedIn:"root"}),e}(),$c=function(){return function(){this.graph={hidden:!1,clipped:!1,disabled:!1,transparent:!1}}}(),Qc={main:{title:"All Categories",image:"cat-all",translations:{es:{title:"Todas las Categor\xedas"},zh:{title:"\u6240\u6709\u7c7b\u522b"},fr:{title:"Toutes les cat\xe9gories"},de:{title:"Alle Kategorien"},it:{title:"Tutte le categorie"},ja:{title:"\u3059\u3079\u3066\u306e\u30ab\u30c6\u30b4\u30ea"},pt:{title:"Todas as categorias"}}},baseAnatomyCategories:[{title:"Male Complete Anatomy",image:"cat-complete-male",id:"production/maleAdult/male_complete_anatomy_10",translations:{es:{title:"Anatom\xeda Completa Masculina"},zh:{title:"\u7537\u6027\u5b8c\u6574\u89e3\u5256\u5b66"},fr:{title:"Anatomie compl\xe8te masculine"},de:{title:"M\xe4nnliche vollst\xe4ndige Anatomie"},it:{title:"Anatomia Completa Maschile"},ja:{title:"\u7537\u6027\u306e\u5b8c\u5168\u306a\u89e3\u5256\u5b66"},pt:{title:"Anatomia Completa Masculina"}}},{title:"Female Complete Anatomy",image:"cat-complete-female",id:"production/femaleAdult/female_complete_anatomy_10",translations:{es:{title:"Anatom\xeda Completa Femenina"},zh:{title:"\u5973\u6027\u5b8c\u6574\u89e3\u5256\u5b66"},fr:{title:"Anatomie compl\xe8te f\xe9minine"},de:{title:"Weibliche komplette Anatomie"},it:{title:"Anatomia Completa Femminile"},ja:{title:"\u5973\u6027\u89e3\u5256\u5b66"},pt:{title:"Anatomia Completa Feminina"}}}],categories:[{title:"Anatomy by Systems",id:"anatomy-by-system",image:"cat-anatomy",translations:{es:{title:"Anatom\xeda por Sistemas"},zh:{title:"\u6309\u7cfb\u7edf\u8fdb\u884c\u89e3\u5256\u5b66"},fr:{title:"Anatomie par syst\xe8mes"},de:{title:"Anatomie nach Systemen"},it:{title:"Anatomia per sistemi"},ja:{title:"\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u308b\u89e3\u5256\u5b66"},pt:{title:"Anatomia por Sistemas"}}},{title:"Anatomy by Regions",id:"regional",image:"cat-anatomy-region",translations:{es:{title:"Anatom\xeda por Regiones"},zh:{title:"\u6309\u5730\u533a\u5212\u5206\u7684\u89e3\u5256\u5b66"},fr:{title:"Anatomie par r\xe9gions"},de:{title:"Anatomie nach Regionen"},it:{title:"Anatomia per regioni"},ja:{title:"\u5730\u57df\u5225\u89e3\u5256\u5b66"},pt:{title:"Anatomia por Regi\xf5es"}}},{title:"Blood, Heart and Circulation",id:"Blood, Heart and Circulation",image:"cat-blood-heart",translations:{es:{title:"Sangre, Coraz\xf3n y Circulaci\xf3n"},zh:{title:"\u8840\u6db2\u3001\u5fc3\u810f\u548c\u8840\u6db2\u5faa\u73af"},fr:{title:"Sang, c\u0153ur et circulation sanguine"},de:{title:"Blut, Herz und Kreislauf"},it:{title:"Sangue, Cuore e Circolazione"},ja:{title:"\u8840\u6db2\u3001\u5fc3\u81d3\u3001\u5faa\u74b0"},pt:{title:"Sangue, Cora\xe7\xe3o e Circula\xe7\xe3o"}}},{title:"Bones, Joints and Muscles",id:"Bones, Joints and Muscles",image:"cat-bones-joints-muscles",translations:{es:{title:"Huesos, Articulaciones y M\xfascula"},zh:{title:"\u9aa8\u9abc\u3001\u5173\u8282\u548c\u808c\u8089"},fr:{title:"Os, articulations et muscles"},de:{title:"Knochen, Gelenke und Muskeln"},it:{title:"Ossa, articolazioni e muscoli"},ja:{title:"\u30dc\u30fc\u30f3\u3001\u30b8\u30e7\u30a4\u30f3\u30c8\u3001\u30de\u30c3\u30b9\u30eb"},pt:{title:"Ossos, articula\xe7\xf5es e m\xfasculos"}}},{title:"Brain and Nerves",id:"Brain and Nerves",image:"cat-brain-nerves",translations:{es:{title:"Cerebro y Nervios"},zh:{title:"\u5927\u8111\u548c\u795e\u7ecf"},fr:{title:"Cerveau et nerfs"},de:{title:"Gehirn und Nerven"},it:{title:"Cervello e nervi"},ja:{title:"\u8133\u3068\u795e\u7d4c"},pt:{title:"C\xe9rebro e Nervos"}}},{title:"Digestive System",id:"Digestive System",image:"cat-digestive-system",translations:{es:{title:"Sistema Digestivo"},zh:{title:"\u6d88\u5316\u7cfb\u7edf"},fr:{title:"Syst\xe8me digestif"},de:{title:"Verdauungssystem"},it:{title:"Apparato Digestivo"},ja:{title:"\u6d88\u5316\u5668\u7cfb"},pt:{title:"Sistema Digestivo"}}},{title:"Ear, Nose and Throat",id:"Ear, Nose and Throat",image:"cat-ear-nose-throat",translations:{es:{title:"O\xeddo, Nariz y Garganta"},zh:{title:"\u8033\u9f3b\u5589\u79d1"},fr:{title:"Oreille, Nez et Gorge"},de:{title:"Ohr, Nase und Hals"},it:{title:"Orecchio, naso e gola"},ja:{title:"\u8033\u30fb\u9f3b\u30fb\u5589"},pt:{title:"Orelha, nariz e garganta"}}},{title:"Endocrine System",id:"Endocrine System",image:"cat-endocrine-system",translations:{es:{title:"Sistema Endocrino"},zh:{title:"\u5185\u5206\u6ccc\u7cfb\u7edf"},fr:{title:"Syst\xe8me endocrinien"},de:{title:"Endokrine System"},it:{title:"Sistema Endocrino"},ja:{title:"\u5185\u5206\u6ccc\u7cfb"},pt:{title:"Sistema end\xf3crino"}}},{title:"Eyes and Vision",id:"Eyes and Vision",image:"cat-eyes-vision",translations:{es:{title:"Ojos y Visi\xf3n"},zh:{title:"\u773c\u775b\u548c\u89c6\u529b"},fr:{title:"Yeux et vision"},de:{title:"Augen und Sehkraft"},it:{title:"Occhi e Visione"},ja:{title:"\u76ee\u3068\u30d3\u30b8\u30e7\u30f3"},pt:{title:"Olhos e Vis\xe3o"}}},{title:"Immune System",id:"Immune System",image:"cat-immune-system",translations:{es:{title:"Sistema Inmunol\xf3gico"},zh:{title:"\u514d\u75ab\u7cfb\u7edf"},fr:{title:"Syst\xe8me immunitaire"},de:{title:"Immunsystem"},it:{title:"Sistema immunitario"},ja:{title:"\u514d\u75ab\u7cfb"},pt:{title:"Sistema Imunit\xe1rio"}}},{title:"Kidneys and Urinary System",id:"Kidneys and Urinary System",image:"cat-kidney-urinary",translations:{es:{title:"Ri\xf1ones y Sistema Urinario"},zh:{title:"\u80be\u810f\u548c\u6ccc\u5c3f\u7cfb\u7edf"},fr:{title:"Reins et syst\xe8me urinaire"},de:{title:"Nieren und Harnwege"},it:{title:"Reni e sistema urinario"},ja:{title:"\u814e\u81d3\u3068\u6ccc\u5c3f\u5668\u7cfb"},pt:{title:"Rins e Sistema Urin\xe1rio"}}},{title:"Lungs and Breathing",id:"Lungs and Breathing",image:"cat-lungs-breathing",translations:{es:{title:"Pulmones y Respiraci\xf3n"},zh:{title:"\u80ba\u548c\u547c\u5438"},fr:{title:"Poumons et respiration"},de:{title:"Lunge und Atmung"},it:{title:"Polmoni e Respirazione"},ja:{title:"\u80ba\u3068\u547c\u5438"},pt:{title:"Pulm\xf5es e respira\xe7\xe3o"}}},{title:"Mouth and Teeth",id:"Mouth and Teeth",image:"cat-mouth-teeth",translations:{es:{title:"Boca y Dientes"},zh:{title:"\u53e3\u8154\u548c\u7259\u9f7f"},fr:{title:"Bouche et dents"},de:{title:"Mund und Z\xe4hne"},it:{title:"Bocca e Denti"},ja:{title:"\u53e3\u3068\u6b6f"},pt:{title:"Boca e Dentes"}}},{title:"Skin, Hair and Nails",id:"Skin, Hair and Nails",image:"cat-skin-hair-nails",translations:{es:{title:"Piel, Pelo y U\xf1as"},zh:{title:"\u76ae\u80a4\u3001\u5934\u53d1\u548c\u6307\u7532"},fr:{title:"Peau, cheveux et ongles"},de:{title:"Haut, Haare und N\xe4gel"},it:{title:"Pelle, Capelli e Unghie"},ja:{title:"\u808c\u3001\u9aea\u3001\u722a"},pt:{title:"Pele, Cabelo e Unhas"}}},{title:"Female Reproductive System",id:"Female Reproductive System",image:"cat-female-reproductive",translations:{es:{title:"Sistema Reproductivo Femenino"},zh:{title:"\u5973\u6027\u751f\u6b96\u7cfb\u7edf"},fr:{title:"Syst\xe8me reproducteur f\xe9minin"},de:{title:"Weibliches Fortpflanzungssystem"},it:{title:"Sistema riproduttivo femminile"},ja:{title:"\u5973\u6027\u306e\u751f\u6b96\u5668\u7cfb"},pt:{title:"Sistema Reprodutivo Feminino"}}},{title:"Male Reproductive System",id:"Male Reproductive System",image:"cat-male-reproductive",translations:{es:{title:"Sistema Reproductivo Masculino"},zh:{title:"\u7537\u6027\u751f\u6b96\u7cfb\u7edf"},fr:{title:"Syst\xe8me reproducteur masculin"},de:{title:"M\xe4nnliches Fortpflanzungssystem"},it:{title:"Sistema riproduttivo maschile"},ja:{title:"\u751f\u6b96\u5668\u7cfb"},pt:{title:"Sistema Reprodutor Masculino"}}},{title:"Community Bookmarks",id:"public",image:"cat-community",translations:{es:{title:"Marcadores de la Comunidad"},zh:{title:"\u793e\u533a\u4e66\u7b7e"},fr:{title:"Signets de la communaut\xe9"},de:{title:"Community-Lesezeichen"},it:{title:"Segnalibri della Comunit\xe0"},ja:{title:"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30d6\u30c3\u30af\u30de\u30fc\u30af"},pt:{title:"Marcadores da Comunidade"}}}]},Wc=["web platform","!obsolete"],Gc=function(){function e(e){this.http=e}return e.prototype.search=function(e,t,n){var l=this;void 0===e&&(e=""),void 0===t&&(t=[]),void 0===n&&(n="en");var i=e.split(/[ ]+/).join("+"),o=Wc.concat(t).map((function(e){return'"'+e+'"'})).join("+");return this.http.get("/search?k="+i+"&t="+o+"&ol="+n+"&odns=true").pipe(Object(s.a)((function(e){return l.resultsToBookmarks(e)})))},e.prototype.getAnatomyCategory=function(e,t,n){return this.search(e,[t],n)},e.prototype.getConditionModel=function(e){var t=this,n=this.toDatabaseContentId(e);return this.http.get("/search/conditions?q="+n).pipe(Object(s.a)((function(e){return t.resultsToBookmarks(e)})),Object(s.a)((function(e){return e[0]})))},e.prototype.resultsToBookmarks=function(e){var t=this;return e.forEach((function(e){e.id=t.toAppContentId(e.id),e.tour=e.tags.indexOf("tour")>=0})),Object(D.plainToClass)(ft,e)},e.prototype.getBookmarkCategory=function(e){if(!e.tags)return null;var t=Qc.categories.map((function(e){return e.id.toLocaleLowerCase()}));return e.tags.find((function(e){return t.includes(e.toLocaleLowerCase())}))},e.prototype.getStoryCategory=function(e){if(!e.tags)return null;var t=Qc.categories.map((function(e){return e.id.toLocaleLowerCase()}));return e.tags.find((function(e){return t.includes(e.toLocaleLowerCase())}))},e.prototype.toAppContentId=function(e){return e.replace("Condition.content.","").replace(".json","").split(".").join("/")},e.prototype.toDatabaseContentId=function(e){return e.match("Condition.content")?e:"Condition.content."+e.replace(".json","").split("/").join(".")+".json"},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c))},token:e,providedIn:"root"}),e}(),qc=function(){return function(){}}(),Yc=function(){return function(){}}(),Xc=function(){return function(){}}(),Zc=function(){return function(){}}(),Jc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},es=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jc(arguments[t]));return e};function ts(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return new Promise((function(n){e.apply(void 0,es(t,[function(){n()}]))}))}}var ns=function(){return(ns=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ls=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},is=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ls(arguments[t]));return e},os=["reflections","lights"],as=["material","geometry","transform"],rs=["tweens","morph"],us=function(){function e(e,t,n){this.http=e,this.engineService=t,this.chapterService=n}return e.prototype.getShownObjectsFromChapter=function(e){var t=[];return Object.entries(e.synchronization).forEach((function(e){var n=ls(e,2);n[1].shown&&t.push(n[0])})),t},e.prototype.getChapterLoadChunks=function(e,t,n){var l=this.getShownObjectsFromChapter(t),i=new Yc;return i.activate=!1,i.chapterId=t.id,i.objects=l,i.storyId=e,i.assetTypes=is(as,rs,os),i.readyState={model:!0,animation:!0},[i]},e.prototype.getOnDemandLoadChunks=function(e,t){var n=this,l=[];return Human.timeline.rootTimelines[e]._chapters.forEach((function(i){var o=n.getChapterLoadChunks(e,i,t);l=i.id===t.targetChapterId?is(o,l):is(l,o)})),l},e.prototype.getChapterIndex=function(e,t){return Human.timeline.rootTimelines[e]?Human.timeline.rootTimelines[e]._chapters.findIndex((function(e){return e.id===t})):-1},e.prototype.getStory=function(e,t,n){var l=this;void 0===n&&(n="en");var i,a=t===o.Bookmark?this.getBookmark(e):this.getContent(e);return"en"===n?a:a.pipe(Object(wt.a)((function(o){return i=o,l.getStoryTranslation(e,t,n)}))).pipe(Object(s.a)((function(e){return l.translateStory(i,e)})),Object(E.a)((function(){return a})))},e.prototype.getContent=function(e){return this.http.get("/content/modules/"+e+".json").pipe(Object(s.a)((function(e){return e})))},e.prototype.getBookmark=function(e){return this.http.get("/search/bookmarks/data",{params:{be:e}}).pipe(Object(s.a)((function(e){return e.bookmark})))},e.prototype.getLoadConfig=function(e,t){void 0===t&&(t=0);var n=new Xc;return n.chapterAssetBundle=!0,n.targetChapterId=Human.timeline.rootTimelines[e]._chapters[t].id,n.targetChapterConfig={global:{clipping:!0,graph:!0,camera:!0,properties:!0,transparencyMode:!0,postprocess:!0},static:{labels:!0},dynamic:{timeline:!0,particles:!0}},n.sortBy="chapter",n},e.prototype.buildStory=function(e,t,n){Human.modules.moduleData[e]=t;var l=ns({},t);return l.moduleId=e,new J.a((function(t){Human.modules.create(e,l,(function(){n&&Human.modules.activate(e,0,{},(function(){})),t.next(!0),t.complete()}))}))},e.prototype.getStoryChapters=function(e,t){var n=this,l=Human.modules.moduleData[e];return Human.timeline.rootTimelines[e]._chapters.map((function(e,i){return n.chapterService.fromHumanChapter(l,t,e,i)}))},e.prototype.getStoryLoadChunks=function(e,t){return this.getOnDemandLoadChunks(e,t).map((function(e){return ns({},e,{chunkId:sr.idWithPrefix("chunk")})}))},e.prototype.loadStoryChunk=function(e,t){var n=e.objects.map((function(e){return Human.scene.objects[e]}));e.storyId?Human.modules.load(e.storyId,n,e.assetTypes,(function(){t()})):this.engineService.loadGraphObject(e.objects[0]).subscribe((function(){t()}))},e.prototype.unloadStory=function(e,t){var n=this;void 0===t&&(t=!0);var l=(e?[e]:Object.keys(Human.modules.modules)).map((function(e){return n.hardDeleteStory(e,t)}));return new J.a((function(e){l.length?Object(yt.a)(l).subscribe((function(){e.next(!0),e.complete()})):(e.next(!0),e.complete())}))},e.prototype.createLoadObjectChunk=function(e){var t=new Yc;return t.assetTypes=is(as,rs),t.objects=[e],t},e.prototype.hardDeleteStory=function(e,t){void 0===t&&(t=!0);var n=(e in Human.modules.modules?Human.modules.modules[e].sceneGraph:[]).map((function(e){return Human.scene.objects[e.objectId]})).filter((function(e){return!!e})),l=Object(Et.flatten)(n.map((function(e){return e.getLeafObjects()}))),i=ts(Human.modules.deactivate,e,{}),o=ts(Human.modules.unload,e,l,["geometries","morphs","reflections","tweens","lights","materials","transforms"]),a=ts(Human.modules.destroy,e);return new J.a((function(n){(Human.timeline.activeRoot&&Human.timeline.activeRoot.id===e?i():Promise.resolve({})).then((function(){return t?o():Promise.resolve({})})).then((function(){return a()})).then((function(){return n.next(),void n.complete()}))}))},e.prototype.getStoryTranslation=function(e,t,n){return this.http.get(t===o.Bookmark?"/search/bookmarks/tr/"+n+"/"+e:"/tr/"+n+"/"+e+".json").pipe(Object(s.a)((function(e){return Object(D.plainToClass)(Zc,e)})))},e.prototype.getStoryType=function(e){return e.indexOf("/")>=0?o.Module:o.Bookmark},e.prototype.translateStory=function(e,t){var n=this,l=e.chapters||[],i=e.sceneGraph||[],o=t.objects||{},a=t.chapters||[];return e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,i.forEach((function(e){(e.objects||[]).forEach((function(e){n.translateObject(e,o)}))})),l.forEach((function(e,t){var l=a[t];if(l){n.translateMetaInfo(e,l);var i=l.annotations||[];(e.annotations||[]).forEach((function(e,t){var l=i[t];l&&n.translateMetaInfo(e,l)}));var o=l.hotspots||[];(e.hotspots||[]).forEach((function(e,t){var l=o[t];l&&n.translateMetaInfo(e,l)}))}})),e},e.prototype.translateMetaInfo=function(e,t){var n=t.title,l=t.description;e.hasOwnProperty("displayName")&&(e.displayName=n),e.hasOwnProperty("title")&&(e.title=n),e.hasOwnProperty("description")&&(e.description=l)},e.prototype.translateObject=function(e,t){var n=this,l=t[e.objectId];l&&(e.displayName=l);var i=e.objects;i&&i.forEach((function(e){n.translateObject(e,t)}))},e.prototype.exportWrittenContent=function(e,t,n){var l=[];return l.push("\n"+e.displayName+"\n    "),t.forEach((function(e,t){l.push("\n---\n\n# Chapter "+(t+1)+": "+(e.info.displayName||"-No Title-")+"\n\n"+(e.info.description||"-No Description-")+"\n      "),e.legend.length&&(l.push("\n## Legend\n"),e.legend.forEach((function(e){l.push("\n* "+e.label+" ("+tt.rgbToHex(e.colors,!0)+")\n")})));var i=n.filter((function(t){return t.chapterId===e.id}));i.length&&(l.push("\n## Labels\n"),i.forEach((function(e){l.push("\n* "+e.title+"\n"),e.description&&l.push("\n  > "+e.description+"\n")})))})),l.join("")},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c),l.Yb(uu),l.Yb(xc))},token:e,providedIn:"root"}),e}(),cs=function(){return(cs=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ss=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},ps=function(){return(ps=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ds=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},bs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},gs=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bs(arguments[t]));return e};function hs(e,t,n){var l=function(e,t){var n,l,i,o,a={};try{for(var r=ds(e),u=r.next();!u.done;u=r.next()){var c=Object.keys(t[u.value]);try{for(var s=ds(c),p=s.next();!p.done;p=s.next())a[p.value]=!1}catch(d){i={error:d}}finally{try{p&&!p.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{u&&!u.done&&(l=r.return)&&l.call(r)}finally{if(n)throw n.error}}return a}(t,n);return e.map((function(e){return ps({},e,{showObjects:ps({},e.showObjects,l),selectObjects:ps({},e.selectObjects,l),pickThroughObjects:ps({},e.pickThroughObjects,l)})}))}var ms=function(){return(ms=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function fs(e){return e.split("/").length>1?o.Module:o.Bookmark}var ys=function(){return(ys=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},xs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_s=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xs(arguments[t]));return e},vs=function(){return(vs=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Os=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ws=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Os(arguments[t]));return e};function Cs(e,t){return e.map((function(e){if(!Object(Et.isEmpty)(e.lights))return e;var n={libraries:ws(t),lights:[]};return vs({},e,{lights:n})}))}var js=function(){return(js=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ks=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ss=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ks(arguments[t]));return e};function Ps(e){return e.split("_particle-")[0]}function Ms(e,t){return e.customData&&e.customData.particleSystems?e.customData.particleSystems.reduce((function(e,n){var l=Ps(n.id);return e[l]=l+"_"+t("particle"),e}),{}):{}}function Is(e,t){return e.customData&&e.customData.particleSystems?e.customData.particleSystems.map((function(e){var n=Ps(e.id);return js({},e,{id:t[n]})})):[]}function Ts(e,t){return e.map((function(e){return e.customData&&e.customData.particleSystems&&(e.customData.particleSystems=e.customData.particleSystems.map((function(e){return t[Ps(e)]}))),e}))}function Ks(e,t){return e.map((function(e){return e.id})).reduce((function(n,l){return e.some((function(e){return e.id===l&&Object(Et.get)(e,"customData.particleSystems",[]).length>0}))&&(n[l]=t),n}),{})}var zs,Us=function(){return(Us=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Es=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ls=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Es(arguments[t]));return e};function As(e,t,n,l,i,a){void 0===i&&(i=o.Bookmark),void 0===a&&(a=sr.idWithPrefix);var r,u,c,s=function(e,t){var n=function(e){return void 0!==e.objectId},l=bs(Object(Et.partition)(e,n),2),i=l[0],o=l[1],a=bs(Object(Et.partition)(t,n),2),r=a[0],u=function(e,t){return t.reduce((function(t,n){var l,i;try{for(var o=ds(e),a=o.next();!a.done;a=o.next()){var r=a.value;Object(Et.isEqual)(r,n)||t.push(n)}}catch(u){l={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(l)throw l.error}}return t}),e)}(o,a[1]),c=function(e,t){var n=e.reduce((function(e,t){return e[t.objectId]=t,e}),{}),l=t.reduce((function(e,t){if(void 0===e.nodes[t.objectId])return e.nodes[t.objectId]=t,e;if(!Object(Et.isEqual)(t,e.nodes[t.objectId])){var n=(l={},i={},{root:function e(t,n){var o,a,r,u,c,s,p,d;if(t.objectId!==n.objectId)return l[n.objectId]=!0,[t,n];if(void 0===t.objects&&n.objects){try{for(var b=ss(n.objects),g=b.next();!g.done;g=b.next())l[g.value.objectId]=!0}catch(j){o={error:j}}finally{try{g&&!g.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}return[cs({},n)]}if(t.objects&&void 0===n.objects){try{for(var h=ss(t.objects),m=h.next();!m.done;m=h.next())i[m.value.objectId]=!0}catch(k){r={error:k}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(r)throw r.error}}return[cs({},t)]}if(void 0===t.objects&&void 0===n.objects)return[cs({},t)];var f=[],y=function(t){var l=n.objects.find((function(e){return e.objectId===t.objectId}));l?f.push(e(t,l)):(i[t.objectId]=!0,f.push(t))};try{for(var x=ss(t.objects),_=x.next();!_.done;_=x.next())y(_.value)}catch(S){c={error:S}}finally{try{_&&!_.done&&(s=x.return)&&s.call(x)}finally{if(c)throw c.error}}var v=function(e){t.objects.find((function(t){return t.objectId===e.objectId}))||(l[e.objectId]=!0,f.push(e))};try{for(var O=ss(n.objects),w=O.next();!w.done;w=O.next())v(w.value)}catch(P){p={error:P}}finally{try{w&&!w.done&&(d=O.return)&&d.call(O)}finally{if(p)throw p.error}}var C=cs({},t);return C.objects=Object(Et.flatten)(f),[C]}(e.nodes[t.objectId],t),objectIdsUniqueToNew:l,objectIdsUniqueToOriginal:i});e.nodes[t.objectId]=n.root[0],e.graphsMerged.push(t.objectId),e.objectIdsUniqueToNew[t.objectId]=n.objectIdsUniqueToNew,e.objectIdsUniqueToOriginal[t.objectId]=n.objectIdsUniqueToOriginal}var l,i;return e}),{nodes:n,graphsMerged:[],objectIdsUniqueToNew:{},objectIdsUniqueToOriginal:{}});return{newSceneGraph:Object.keys(l.nodes).reduce((function(e,t){return e.push(l.nodes[t]),e}),[]),graphsMerged:l.graphsMerged,objectIdsUniqueToNew:l.objectIdsUniqueToNew,objectIdsUniqueToOriginal:l.objectIdsUniqueToOriginal}}(i,r),s=c.graphsMerged,p=c.objectIdsUniqueToNew,d=c.objectIdsUniqueToOriginal;return{sceneGraph:gs(u,c.newSceneGraph),graphsMerged:s,objectIdsUniqueToNew:p,objectIdsUniqueToOriginal:d}}(e.sceneGraph,n.sceneGraph),p=s.sceneGraph,d=s.graphsMerged,b=s.objectIdsUniqueToNew,g=s.objectIdsUniqueToOriginal,h={lights:(c=function(e,t){return Object(Et.uniq)(_s(e,t))})((r=e.assetLibraries).lights,(u=n.assetLibraries).lights),tweens:c(r.tweens,u.tweens),regionMaps:c(r.regionMaps,u.regionMaps),reflections:c(r.reflections,u.reflections)},m=function(e,t,n,l){e=e||{},t=t||{};var i=function(e,t){return t.includes("/")?t:function(e){return fs(e)===o.Bookmark?e:e.split("/").pop()}(e)+"/"+t};return ys({},Object(Et.mapKeys)(e,(function(e,t){return i(n,t)})),Object(Et.mapKeys)(t,(function(e,t){return i(l,t)})))}(e.reflections,n.reflections,t,l),f=function(e,t,n){e=e||{},t=t||{};var l=Object.keys(t).reduce((function(e,l){var i=n("color-recipe-"+l);return e.newColorRecipeIds[l]=i,e.colorRecipes[i]=t[l],e}),{colorRecipes:{},newColorRecipeIds:{}});return{colorRecipes:ms({},e,l.colorRecipes),newColorRecipeIds:l.newColorRecipeIds}}(e.colorRecipes,n.colorRecipes,a),y=f.colorRecipes,x=f.newColorRecipeIds,_=Cs(e.chapters,e.assetLibraries.lights),v=Cs(n.chapters,n.assetLibraries.lights),O=function(e,t,n,l,i){var o=Ms(e,i),a=Ms(t,i),r=Ss(Is(e,o),Is(t,a)),u=Ts(n,o),c=Ts(l,a),s=js({},Ks(u,o),Ks(c,a));return{mergedParticles:r,currentChapters:u,importedChapters:c,tweenParticleLookup:Object(Et.pickBy)(s,(function(e,t){return!Object(Et.isEmpty)(e)}))}}(e,n,hs(_,d,b),hs(v,d,g).map((function(e){return Us({},e,{id:a("chapter")})})),a),w=function(e,t){return e.map((function(e){if(Object(Et.isEmpty)(e.colorRecipeObjects))return e;var n=Object.keys(e.colorRecipeObjects).reduce((function(n,l){return n[t[l]]=e.colorRecipeObjects[l],n}),{});return e.colorRecipeObjects=n,e}))}(O.importedChapters,x),C=Ls(O.currentChapters,w),j=Us({},e.customData,{particleSystems:O.mergedParticles});return Us({},e,{assetLibraries:h,chapters:C,sceneGraph:p,customData:j,tags:"module"===i?e.tags:[],reflections:m,colorRecipes:y,stateId:Object(Et.uniq)(Ls(e.stateId,n.stateId)),tweenParticleLookup:O.tweenParticleLookup})}(zs||(zs={})).generateThumbnailUrls=function(e){return e.reduce((function(e,t){var n=t.originalChapterId,l=t.newChapterId,i=t.originalStoryId,a="/thumbs/"+(o.Bookmark===fs(i)?"bookmarks":"modules")+"/"+i.replace(".json",""),r=new Cc;return r.storyId=i,r.chapterId=n,r.urls={small:a+"/small/chapters/"+n+".jpg",large:a+"/large/chapters/"+n+".jpg"},e.set(l,r),e}),new Map)};var Fs=function(){return function(e,t,n,l){void 0===n&&(n="_color"),this.label=e,this.recipe=t,this.icon=n,this.group=l}}(),Ds=function(e){return e.Colors="Colors",e.Effects="Effects",e}({}),Ns=function(e){return e.Colors="_color",e.Effects="adjust",e}({}),Rs=new Fs("Original",new Pu({tintColor:!1,saturation:!1,contrast:!1,brightness:!1,opacity:!1}),"times-circle",Ds.Colors),Bs=new Fs("Red",{tintColor:[1,0,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1},Ns.Colors,Ds.Colors),Hs=(new Fs("Yellow",new Pu({tintColor:[1,1,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),Ns.Colors,Ds.Colors),new Fs("Green",new Pu({tintColor:[0,1,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),Ns.Colors,Ds.Colors),new Fs("Cyan",new Pu({tintColor:[0,1,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),Ns.Colors,Ds.Colors),new Fs("Blue",new Pu({tintColor:[0,0,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),Ns.Colors,Ds.Colors),new Fs("Pink",new Pu({tintColor:[1,0,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),Ns.Colors,Ds.Colors),new Fs("Grayscale",new Pu({tintColor:!1,saturation:-100,contrast:!1,brightness:!1,opacity:!1}),Ns.Effects,Ds.Effects),new Fs("Desaturated",new Pu({tintColor:!1,saturation:-50,contrast:!1,brightness:!1,opacity:!1}),Ns.Effects,Ds.Effects),new Fs("Fade",new Pu({tintColor:[0,0,0],contrast:!1,brightness:55,saturation:-100,opacity:new Cu({edge:1,center:0,edgeBias:0,centerBias:1,power:1})}),Ns.Effects,Ds.Effects)),Vs=function(){return function(e){void 0===e&&(e={});var t=e.saturation,n=e.contrast,l=e.brightness,i=e.opacity;this.tintColor=e.tintColor,this.saturation=t,this.contrast=n,this.brightness=l,this.opacity=i}}(),$s=function(){return($s=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ws=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qs(arguments[t]));return e},Gs={loading:!1,incoming:{id:void 0,type:void 0},storyId:void 0,storyType:void 0,loadingChunk:null,loadChunks:[],loadChunksRemaining:[],thumbnailLookup:[]},qs=function(){function e(e,t,n,l){this.store=e,this.storyService=t,this.engineService=n,this.serializeModuleService=l}var t;return t=e,e.getStory=function(e){return e.story},e.getStoryId=function(e){return e.storyId},e.getLoadingChunk=function(e){return e.loadingChunk},e.getLoadChunks=function(e){return e.loadChunks},e.getLoadChunksRemaining=function(e){return e.loadChunksRemaining},e.getStoryInfo=function(e){return{id:e.storyId,type:e.storyType}},e.getIncomingStoryInfo=function(e){return e.incoming},e.getStoryTags=function(e){return Object(Et.get)(e,"story.tags",[])},e.prototype.setStoryText=function(e,t){var n=e.getState().story;n&&e.patchState({story:$s({},n,{displayName:t.displayName})})},e.prototype.setStoryTags=function(e,t){var n=t.tags,l=e.getState().story;l&&e.patchState({story:$s({},l,{tags:n})})},e.prototype.setStory=function(e,t){e.patchState({story:t.story})},e.prototype.SetStoryId=function(e,t){e.patchState({storyId:t.id})},e.prototype.setIncomingStory=function(e,t){var n=e.getState(),l=t.id,i=t.reset;l!==n.storyId||i?e.patchState({incoming:{id:l,type:t.type}}):i&&e.dispatch(new Zo(t.id,n.story,t.type))},e.prototype.loadStory=function(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe((function(n){e.dispatch(new ea(n,t.id,t.type))}),(function(){e.dispatch(new ta(t.id,t.type))}))},e.prototype.loadStorySuccess=function(e,t){this.storyService.unloadStory(null).subscribe((function(){e.dispatch(new Zo(t.id,t.story,t.type))}))},e.prototype.buildStoryWorkflow=function(e,t,n,l,i,o){var a=this;void 0===i&&(i=0),void 0===o&&(o=new Map),this.storyService.buildStory(t,n,!0).subscribe((function(r){var u=a.storyService.getStoryChapters(t,l),c=[];u.forEach((function(e){c=Ws(c,e.labels)}));var s=a.storyService.getLoadConfig(t,i),p=a.storyService.getStoryLoadChunks(t,s);e.patchState({storyId:t,story:n,loadChunks:p,loadChunksRemaining:p,incoming:{id:void 0,type:void 0}});var d=a.engineService.getSceneGraph(Human.scene.rootObjects),b=u.reduce((function(e,t){return e[t.id]=function(e,t,n,l){return Object.keys(e.nodes).reduce((function(i,o){var a=function e(t,n,l){switch(l[n]){case!0:return!0;case!1:return!1;case void 0:var i=zr.getAncestor(t,n);return!!i&&e(t,i,l)}}(e,o,t)||function e(t,n,l){var i,o,a=zr.getSuccessors(t,n);if(0===a.length)return!1;try{for(var r=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(a),u=r.next();!u.done;u=r.next())if(!0===l[u.value])return!0}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return a.some((function(n){return e(t,n,l)}))}(e,o,t),r=function e(t,n,l){switch(l[n]){case!0:return!1;case!1:return!0;case void 0:var i=zr.getAncestor(t,n);return!i||e(t,i,l)}}(e,o,n),u=function e(t,n,l){if(l[n]&&("tintColor"in(i=l[n])||"opacity"in i))return Pu.fromEngine(new Vs(l[n]));var i,o=zr.getAncestor(t,n);return o?e(t,o,l):Rs.recipe}(e,o,l);return i[o]={objectId:o,checked:!1,selected:!1,paint:u,shown:a,pickable:r},i}),{})}(d,t.showObjects,t.pickThroughObjects,t.synchronization),e}),{});e.dispatch(new eu.InitNodeState(b)),e.dispatch(new eu.SetActiveChapter(u[i].id)),e.dispatch(new ha(u)),e.dispatch(new Ua(o)),e.dispatch(new ko(c)),e.dispatch(new ba(u[i])),e.dispatch(new ra),e.dispatch(new qo)}))},e.prototype.setTweenParticleLookup=function(e,t){e.patchState({story:$s({},e.getState().story,{tweenParticleLookup:t.lookup})})},e.prototype.importStorySuccess=function(e,n){var l=this,i=e.getState(),o=i.storyType,a=i.storyId,r=new $c,c=this.store.selectSnapshot(t.getStory),s=this.store.selectSnapshot(Ac.getStoryChapters),p=tc.makeChapterIdMap(s,!1),d=this.serializeModuleService.serialize({},r,!1,c,s,p).story,b=As(d,a,n.story,n.id,u.exportType),g=d.chapters.map((function(e,t){return{newChapterId:e.id,originalChapterId:e.id,originalStoryId:a}})),h=(i.thumbnailLookup||[]).concat(n.story.chapters.map((function(e,t){return{newChapterId:b.chapters[d.chapters.length+t].id,originalChapterId:e.id,originalStoryId:n.id}})));e.patchState({thumbnailLookup:h});var m=zs.generateThumbnailUrls(Ws(g,h)),f=this.store.selectSnapshot(Ac.getRegisteredThumbnails),y=new Map(Ws(f).filter((function(e){return e[1].snapshot}))),x=new Map(Ws(m,y));this.storyService.unloadStory(null,!0).subscribe((function(){l.buildStoryWorkflow(e,a,b,o,b.chapters.length-1,x)}))},e.prototype.buildStory=function(e,t){var n=t.story.chapters.map((function(e,n){return{newChapterId:e.id,originalChapterId:e.id,originalStoryId:t.id}})),l=zs.generateThumbnailUrls(n);this.buildStoryWorkflow(e,t.id,t.story,t.type,t.chapterIdx||0,l)},e.prototype.loadStoryChunk=function(e){var t=e.getState().loadChunksRemaining[0];t&&(e.patchState({loadingChunk:t}),this.storyService.loadStoryChunk(t,(function(){e.dispatch([new Xo(t),new qo])})))},e.prototype.reorderLoadChunks=function(e,t){var n=e.getState().loadChunksRemaining,l=Qs(Object(Et.partition)(n,(function(e){return e.chapterId===t.chapterId})),2);e.patchState({loadChunksRemaining:Ws(l[0],l[1])})},e.prototype.loadStoryChunkSuccess=function(e,t){var n=e.getState().loadChunksRemaining.filter((function(e){return e.chunkId!==t.chunk.chunkId}));e.patchState({loadingChunk:null,loadChunksRemaining:n}),e.dispatch(new Oa(t.chunk.chapterId,t.chunk.readyState))},e.prototype.synchronizeChapters=function(e){var t=this.store.selectSnapshot(Ac.getStoryChapters),n=e.getState().story;e.patchState({story:$s({},n,{chapters:Ws(t)})})},e.prototype.importStory=function(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe((function(n){e.dispatch(new la(n,t.id,t.type))}))},e.prototype.resetStory=function(e){e.setState(Gs)},Object(v.__decorate)([Object(O.a)(Qo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Qo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setStoryText",null),Object(v.__decorate)([Object(O.a)(Wo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Wo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setStoryTags",null),Object(v.__decorate)([Object(O.a)(Vo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Vo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setStory",null),Object(v.__decorate)([Object(O.a)($o),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,$o]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetStoryId",null),Object(v.__decorate)([Object(O.a)(Go),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Go]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setIncomingStory",null),Object(v.__decorate)([Object(O.a)(Ho),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ho]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadStory",null),Object(v.__decorate)([Object(O.a)(ea),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ea]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadStorySuccess",null),Object(v.__decorate)([Object(O.a)(Jo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Jo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setTweenParticleLookup",null),Object(v.__decorate)([Object(O.a)(la),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,la]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"importStorySuccess",null),Object(v.__decorate)([Object(O.a)(Zo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Zo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"buildStory",null),Object(v.__decorate)([Object(O.a)(qo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadStoryChunk",null),Object(v.__decorate)([Object(O.a)(Yo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Yo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"reorderLoadChunks",null),Object(v.__decorate)([Object(O.a)(Xo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Xo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadStoryChunkSuccess",null),Object(v.__decorate)([Object(O.a)(oa),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeChapters",null),Object(v.__decorate)([Object(O.a)(na),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,na]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"importStory",null),Object(v.__decorate)([Object(O.a)(ia),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetStory",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getStory",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getStoryId",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoadingChunk",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoadChunks",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoadChunksRemaining",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getStoryInfo",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getIncomingStoryInfo",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[qc]),Object(v.__metadata)("design:returntype",void 0)],e,"getStoryTags",null),t=Object(v.__decorate)([Object(O.g)({name:"story",defaults:Gs})],e)}(),Ys=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xs={headers:new c.g({"Content-Type":"application/json; charset=utf-8"})},Zs=function(e){return e.Private="private",e.Group="enterprise",e.Public="public",e}({}),Js=function(){function e(e,t,n,l,i){this.store=e,this.http=t,this.serializeModuleService=n,this.exploreService=l,this.storyService=i}return e.prototype.getBookmarkData=function(e){return this.http.get("/search/bookmarks/data?be="+e).pipe(Object(s.a)((function(e){return(e=e.bookmark).moduleId=e.customData?e.customData.moduleId:e.modules.activeModules[0],Object(D.plainToClass)(Sr,e)})))},e.prototype.getBookmarkModel=function(e){var t=this;return this.http.get("/ws/search/bookmarks?eid="+e).pipe(Object(s.a)((function(e){return Object(D.plainToClass)(ft,e.bookmark_info)})),Object(s.a)((function(e){return t.normalizeBookmarkModel(e)})))},e.prototype.getUserBookmarks=function(e,t){var n=this;return void 0===t&&(t=""),this.http.get("/ws/search/bookmarks/"+e+"?q="+t).pipe(Object(s.a)((function(e){return e.map((function(e){return Object(D.plainToClass)(ft,e)})).map((function(e){return n.normalizeBookmarkModel(e)}))})))},e.prototype.getUserConditions=function(e,t){var n=this,l="";switch(e){case Zs.Private:l="user";break;case Zs.Group:l="group"}return this.http.get("/ws/search/conditions/private").pipe(Object(s.a)((function(e){return e.filter((function(e){return e.module_accessor_level===l&&(!t||e.module_accessor_id===t)}))})),Object(s.a)((function(e){return Object(D.plainToClass)(ft,e)})),Object(s.a)((function(e){return e.map((function(e){return n.normalizeBookmarkModel(e)}))})))},e.prototype.getPrivateBookmarks=function(e){return void 0===e&&(e=""),this.getUserBookmarks(Zs.Private,e).pipe(Object(s.a)((function(e){return e.filter((function(e){return e.is_owner}))})))},e.prototype.getFavorites=function(){var e=this;return this.http.get("/ws/user/favorite").pipe(Object(s.a)((function(t){return Object.values(t).map((function(e){return Object(D.plainToClass)(ft,e)})).map((function(t){return e.normalizeBookmarkModel(t)}))})))},e.prototype.deleteFavorite=function(e,t){return this.http.delete("/ws/user/favorite?modelId="+e+"&category="+t)},e.prototype.getPrivateConditions=function(){return this.getUserConditions(Zs.Private)},e.prototype.getOrganizationBookmarks=function(e,t){return void 0===t&&(t=""),this.getUserBookmarks(Zs.Private,t).pipe(Object(s.a)((function(t){return t.filter((function(e){return e.tags.includes("enterprise")})).filter((function(t){return t.group_access.some((function(t){return t.group_id===e}))}))})))},e.prototype.getOrganizationConditions=function(e){return this.getUserConditions(Zs.Group,e)},e.prototype.getOrganizationContent=function(e,t){return void 0===t&&(t=""),Object(yt.a)(this.getOrganizationBookmarks(e,t),this.getOrganizationConditions(e)).pipe(Object(s.a)((function(e){var t=Ys(e,2);return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ys(arguments[t]));return e}(t[0],t[1])})))},e.prototype.createBookmarkStory=function(e){return this.serializeModuleService.serialize({},new $c,!1,this.store.selectSnapshot(qs.getStory),this.store.selectSnapshot(Ac.getStoryChapters),e)},e.prototype.getPublicBookmarks=function(e){return void 0===e&&(e=""),this.getUserBookmarks(Zs.Public,e)},e.prototype.saveBookmark=function(e){var t=this,n=this.getNormalizedBookmarkEntry(e);return this.http.post(e.id?"/ws/user/bookmark/v1/update":"/ws/user/bookmark/v1/save",n,Xs).pipe(Object(wt.a)((function(e){return t.getBookmarkModel(e.id)})))},e.prototype.deleteBookmark=function(e){return this.http.delete("/ws/user/bookmark/v1/delete?eid="+e).pipe(Object(E.a)((function(e){var t=e.error.error,n=t?t.message:"";return Object(gr.a)(n)})))},e.prototype.copyBookmark=function(e,t,n){var l=this;return void 0===n&&(n="en"),t!==o.Module||Object(Et.endsWith)(e,".json")||(e+=".json"),this.http.post("/ws/user/bookmark/v1/copy",{source_content_type:t,source_content_id:e}).pipe(Object(s.a)((function(e){return e.id})),Object(wt.a)((function(i){return"en"===n?Object(U.a)(i):l.translateBookmark(i,e,t,n)})))},e.prototype.atMaxFreeBookmarkCount=function(){return this.http.get("/ws/user/content/limit/check").pipe(Object(s.a)((function(){return!1})),Object(E.a)((function(e){return Object(U.a)(403===e.status)})))},e.prototype.saveBookmarkThumbnails=function(e,t,n,l){var i=this,o=t.index.chapters.reduce((function(t,o){var a=n.get(l[o.id]),r=Object(Et.get)(a,"snapshot");if(r)t.push(i.postThumbnail(e,o.id,r,!0));else if(o.id!==l[o.id]||a.chapterId!==o.id){var u=Object(Et.get)(a,"urls.large");if(u){var c=u.match(/(bookmarks\/)|(modules\/)/).index,s=u.slice(c);t.push(i.copyThumbnail(e,o.id,s))}}return t}),[]),a=n.get(l[t.index.chapters[0].id]),r=Object(Et.get)(a,"snapshot");if(r)o.push(this.postThumbnail(e,null,r,!0));else{var u=Object(Et.get)(a,"urls.large");u&&o.push(this.copyThumbnail(e,null,u))}return o},e.prototype.deleteBookmarkThumbnails=function(e,t,n,l){var i=this,o=t.index.chapters.map((function(e){return l[e.id]||e.id}));return Array.from(n.values()).filter((function(e){return o.indexOf(e.chapterId)<0})).map((function(t){return i.deleteThumbnail(e,t.chapterId)}))},e.prototype.filterByTags=function(e,t,n){return void 0===n&&(n=!1),e.filter((function(e){return n?t.every((function(t){return e.tags.includes(t)})):t.some((function(t){return e.tags.includes(t)}))}))},e.prototype.canEdit=function(e){return!!e.is_owner||!(!e.group_access||!e.group_access.length)&&e.group_access[0].member_edit},e.prototype.normalizeBookmarkModel=function(e){return"module"===e.type&&(e.id=this.exploreService.toAppContentId(e.id)),e.tour=e.tags.includes("tour"),e.animated=e.tags.includes("animated"),e},e.prototype.translateBookmark=function(e,t,n,l){var i=this,a=n===o.Module?t.replace(".json",""):t;return Object(yt.a)(this.storyService.getStory(e,o.Bookmark),this.storyService.getStoryTranslation(a,n,l)).pipe(Object(s.a)((function(e){var t=Ys(e,2);return i.storyService.translateStory(t[0],t[1])})),Object(wt.a)((function(t){return i.saveBookmark({isOwner:!0,title:t.displayName.substr(0,60),id:e,index:t})})),Object(s.a)((function(e){return e.id})),Object(E.a)((function(t){return 404===t.status?Object(U.a)(e):Object(gr.a)(t)})))},e.prototype.getNormalizedBookmarkEntry=function(e){var t,n,l,i=this,o=e.id,a=e.title,r=e.description,u=e.index,c=e.public_access,s=e.add_group_access,p=e.remove_group_access;if(e.isOwner&&(t=s?this.getGroupAccess(s):[],p&&p.forEach((function(e){var n=i.getNormalizeGroupAccess({group_id:e.group_id,remove:!0});t.push(n)})),n=this.getNormalizedBool(c),u)){l={},u.chapters&&(l.user_generated_tour=this.getNormalizedBool(u.chapters.length>1));var d=(u.tags||[]).includes("animated");l.animated=this.getNormalizedBool(d)}return{eid:o,name:a,description:r,index:u,group_access:t,public_access:n,flags:l}},e.prototype.getGroupAccess=function(e){var t=this;return e.map((function(e){return t.getNormalizeGroupAccess(e)}))},e.prototype.getNormalizeGroupAccess=function(e){var t=e.visible,n=e.remove;return{group_id:e.group_id,group_name:e.group_name,member_edit:this.getNormalizedBool(e.member_edit),visibility:this.getNormalizedBool(t),remove:this.getNormalizedBool(n)}},e.prototype.getNormalizedBool=function(e){return!0===e?"1":!1===e?"0":""},e.prototype.postThumbnail=function(e,t,n,l){var i=this;void 0===l&&(l=!1);var o=new Image;return o.src=n,new J.a((function(n){o.onload=function(){var a=document.createElement("canvas"),r=a.getContext("2d");a.width=o.naturalWidth,a.height=o.naturalHeight,r.drawImage(o,0,0);var u,s=a.toDataURL("image/jpeg",1);u=t?"/ws/thumbs/bookmarks/"+e+"/large/chapters/"+t+".jpg":"/ws/thumbs/bookmarks/"+e+"/large/index.jpg";var p=(new c.g).set("Content-Type","application/json");i.http.post(u,{image:s,invalidate:l},{headers:p,responseType:"text"}).subscribe((function(e){n.next(),n.complete()}))}}))},e.prototype.deleteThumbnail=function(e,t){return new J.a((function(n){var l=new Request("/ws/thumbs/bookmarks/"+e+"/large/chapters/"+t+".jpg",{method:"DELETE"});fetch(l).then((function(e){n.complete()}))}))},e.prototype.copyThumbnail=function(e,t,n){var l,i=this,o=n.replace("/thumbs/","");l=t?"bookmarks/"+e+"/large/chapters/"+t+".jpg":"bookmarks/"+e+"/large/index.jpg";var a=(new c.g).set("Content-Type","application/json");return new J.a((function(e){i.http.post("/ws/thumbs/copy",{src:o,dst:l},{headers:a,responseType:"text"}).subscribe((function(t){e.next(),e.complete()}))}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i),l.Yb(c.c),l.Yb(Vc),l.Yb(Gc),l.Yb(us))},token:e,providedIn:"root"}),e}(),ep="/ws/enterprise/collection",tp=function(){function e(e,t){this.http=e,this.bookmarkService=t}return e.prototype.getCollections=function(e){var t=this;return this.http.get(ep+"?group_id="+e).pipe(Object(s.a)((function(e){return Object(D.plainToClass)(br,e).map((function(e){return t.normalizeCollectionModel(e)}))})))},e.prototype.getCollectionsByContent=function(e,t,n){var l=this;return void 0===n&&(n=!1),this.http.get(ep+"?group_id="+e+"&content_type="+t.content_type+"&content_id="+t.content_id+"&include_content="+(n?1:0)).pipe(Object(s.a)((function(e){return Object(D.plainToClass)(br,e).map((function(e){return l.normalizeCollectionModel(e)}))})))},e.prototype.getCollectionContentId=function(e,t){var n=t.content_type,l=t.content_id;return this.getCollectionsByContent(e.group_id,t,!0).pipe(Object(s.a)((function(t){return t.find((function(t){return t.collection_id===e.collection_id}))})),Object(s.a)((function(e){var t;return e&&(t=e.collection_content.find((function(e){return"module"===n?l===e.module_name:l===e.id}))),t?t.collection_content_id:null})))},e.prototype.getCollection=function(e,t,n){var l=this;return this.http.get(ep+"?group_id="+e+"&collection_id="+t+"&include_content="+(n?1:0)).pipe(Object(s.a)((function(e){var t=e[0];return t?l.normalizeCollectionModel(t):t})))},e.prototype.getCollectionContent=function(e,t,n){void 0===n&&(n="");var l=n.toLocaleLowerCase().split(" ");return this.getCollection(e,t,!0).pipe(Object(s.a)((function(e){return e.collection_content.map((function(e){return Object(D.plainToClass)(ft,e)})).filter((function(e){var t=!0;return l.length&&e.title&&l.forEach((function(n){t=t&&e.title.toLocaleLowerCase().indexOf(n)>=0})),t=t&&!0!==e.unavailable}))})))},e.prototype.addToCollection=function(e,t){var n=this;return this.formPost(ep,{group_id:e.group_id,collection_id:e.collection_id,add_content:t}).pipe(Object(s.a)((function(e){return e.map((function(e){return n.normalizeCollectionModel(e)}))})))},e.prototype.removeFromCollection=function(e,t){var n=this;return this.formPost(ep,{group_id:e.group_id,collection_id:e.collection_id,remove_content:t}).pipe(Object(s.a)((function(e){return e.map((function(e){return n.normalizeCollectionModel(e)}))})))},e.prototype.getOrganizationAttribute=function(e,t,n){return e.find((function(e){return e.type===t&&e.name===n}))},e.prototype.addUserToOrganization=function(e){return this.http.post("/ws/enterprise/user/add",{group_eid:e})},e.prototype.addUserWithGroupCode=function(e){return this.http.post("/ws/enterprise/user/add",{group_code:e})},e.prototype.normalizeCollectionModel=function(e){var t=this;return e.collection_content&&e.collection_content.forEach((function(e){t.bookmarkService.normalizeBookmarkModel(e)})),e},e.prototype.formPost=function(e,t){var n={headers:new c.g({"Content-Type":"application/x-www-form-urlencoded"})},l=new URLSearchParams;return Object.keys(t).forEach((function(e){var n=t[e],i=""+(n instanceof Object?JSON.stringify(n):n);l.set(e,i)})),this.http.post(""+e,l.toString(),n).pipe(Object(s.a)((function(e){return e})))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c),l.Yb(Js))},token:e,providedIn:"root"}),e}(),np=function(){return(np=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},lp={},ip=function(){function e(e,t){this.organizationsService=e,this.publishService=t}return e.getOrganizations=function(e){return e.organizations},e.getOrganization=function(e){return e.organization},e.getSelectedOrganization=function(e){return e.selectedOrganization},e.getCollections=function(e){return e.collections},e.getSelectedCollection=function(e){return e.selectedCollection},e.getWidgetURL=function(e){return e.widgetURL},e.getWidgetOptions=function(e){return e.widgetOptions},e.getAppFeatures=function(e){return e.appFeatures},e.prototype.selectOrganization=function(e,t){e.patchState({selectedOrganization:t.organization,selectedCollection:null})},e.prototype.setOrganizations=function(e,t){var n,l=t.organizations||[],i=l[0],o=null,a=np({},e.getState().appFeatures);if(i&&i.group_attributes){var r=i.group_attributes,u=this.organizationsService.getOrganizationAttribute(r,"widget_settings","widget_custom_url_path");u&&u.value&&(n=u.value);var c=this.organizationsService.getOrganizationAttribute(r,"widget_settings","widget_url_params");c&&c.value&&(o=this.publishService.extendWidgetOptions(new Ot,c.value));var s=this.organizationsService.getOrganizationAttribute(r,"app_settings","web_app_features");s&&(a=np({},a,s.value))}e.patchState({organization:i,organizations:l,widgetURL:n,widgetOptions:o,appFeatures:a}),e.dispatch(new Vt(n))},e.prototype.joinOrganization=function(e,t){var n=t.organization;this.organizationsService.addUserToOrganization(n.eid).subscribe((function(){return e.dispatch(new nl(n))}),(function(t){return e.dispatch(new ll(n))}))},e.prototype.getCollections=function(e,t){this.organizationsService.getCollections(t.organizationId).subscribe((function(t){e.dispatch(new el(t))}))},e.prototype.getCollectionsSuccess=function(e,t){e.patchState({collections:t.collections})},e.prototype.selectCollection=function(e,t){var n=e.getState();e.patchState({selectedOrganization:n.selectedOrganization||n.organization,selectedCollection:t.collection})},e.prototype.resetOrganizations=function(e,t){e.setState(lp)},Object(v.__decorate)([Object(O.a)(Xn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Xn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectOrganization",null),Object(v.__decorate)([Object(O.a)(Yn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Yn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setOrganizations",null),Object(v.__decorate)([Object(O.a)(tl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,tl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"joinOrganization",null),Object(v.__decorate)([Object(O.a)(Jn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Jn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getCollections",null),Object(v.__decorate)([Object(O.a)(el),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,el]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getCollectionsSuccess",null),Object(v.__decorate)([Object(O.a)(Zn),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Zn]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectCollection",null),Object(v.__decorate)([Object(O.a)(il),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,il]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetOrganizations",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getOrganizations",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getOrganization",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedOrganization",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getCollections",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedCollection",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetURL",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getWidgetOptions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[dr]),Object(v.__metadata)("design:returntype",void 0)],e,"getAppFeatures",null),Object(v.__decorate)([Object(O.g)({name:"organizations",defaults:{}})],e)}(),op=function(){return(op=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ap=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},rp={title:"Small",type:"desktop",dimensions:{width:480,height:320},orientation:"horizontal"},up={title:"Medium",type:"desktop",dimensions:{width:700,height:550},orientation:"horizontal"},cp={title:"Large",type:"desktop",dimensions:{width:1920,height:1200},orientation:"horizontal"},sp={title:"Extra Large",type:"desktop",dimensions:{width:2560,height:1440},orientation:"horizontal"},pp={title:"Maximum",type:"desktop",dimensions:{width:5120,height:2880},orientation:"horizontal"},dp=function(){function e(e,t,n,l,i,o,a,r,u){var c=this;this.store=e,this.actions=t,this.publishService=n,this.storageService=l,this.clipboardService=i,this.dialogService=o,this.snackBar=a,this.formBuilder=r,this.ref=u,this.minSnapshotPixels={width:300,height:300},this.maxSnapshotPixels={width:5120,height:2880},this.minSnapshotInches={width:this.pixelsToInches(this.minSnapshotPixels.width),height:this.pixelsToInches(this.minSnapshotPixels.height)},this.maxSnapshotInches={width:this.pixelsToInches(this.maxSnapshotPixels.width),height:this.pixelsToInches(this.maxSnapshotPixels.height)},this.imageTypeEnum=Kt,this.snapshotSizes=[rp,up,cp,sp,pp],this.selectedSnapshotSize=up,this.ngUnsubscribe=new Z.a,this.defaultWidgetOptions=op({},new Ot,{loadRotate:10});var s=this.getWidgetOptions(),p=this.store.selectSnapshot(Qa.getDimensions),d=this.store.selectSnapshot(Qa.getMinDimensions),b=s.initial,g=b.button,h=b.handHint,m=b.play,f=s.disableScroll,y=f.alert,x=f.overlay;this.formModeGroup=this.formBuilder.group({mode:["3d",ge.x.required]});var _=this.selectedSnapshotSize.dimensions;this.formSnapshot=this.formBuilder.group({dimensions:this.formBuilder.group({width:[_.width,[ge.x.required,ge.x.min(this.minSnapshotPixels.width),ge.x.max(this.maxSnapshotPixels.width)]],height:[_.height,[ge.x.required,ge.x.min(this.minSnapshotPixels.height),ge.x.max(this.maxSnapshotPixels.height)]]}),inches:this.formBuilder.group({width:[this.pixelsToInches(_.width),[ge.x.required,ge.x.min(this.minSnapshotInches.width),ge.x.max(this.maxSnapshotInches.width)]],height:[this.pixelsToInches(_.height),[ge.x.required,ge.x.min(this.minSnapshotInches.height),ge.x.max(this.maxSnapshotInches.height)]]}),imageType:[Kt.JPEG,[ge.x.required]]}),this.form=this.formBuilder.group({dimensions:this.formBuilder.group({width:[p.width,[ge.x.min(d.width)]],height:[p.height,[ge.x.min(d.height)]]}),options:this.formBuilder.group(s),rotate:this.formBuilder.group({enabled:null!==s.loadRotate,value:s.loadRotate}),initial:this.formBuilder.group({enabled:g||h||m,mode:g?"button":h?m:""}),disableScroll:this.formBuilder.group({enabled:y||x,mode:y?"alert":x?"overlay":""})});var v=Object(Et.get)(s,"background.colors");v&&(this.bgColor=this.getBackgroundFromColor({red:v[0],green:v[1],blue:v[2],alpha:v.length>3?v[3]:1})),this.actions.pipe(Object(O.l)(Yt),Object(wt.a)((function(e){return c.copyToClipboard(e.url)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied URL to clipboard.":"Unable to copy URL to clipboard.")})),this.actions.pipe(Object(O.l)(Xt),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate URL.")})),this.actions.pipe(Object(O.l)(Wt),Object(wt.a)((function(e){return c.copyToClipboard(e.embed)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied embed code to clipboard.":"Unable to copy embed code to clipboard.")})),this.actions.pipe(Object(O.l)(Gt),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate embed code.")})),this.actions.pipe(Object(O.l)(tn),Object(wt.a)((function(e){return c.copyToClipboard(e.imageURL)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied image URL to clipboard.":"Unable to copy image URL to clipboard.")})),this.actions.pipe(Object(O.l)(nn),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate image URL.")})),this.actions.pipe(Object(O.l)(on),Object(wt.a)((function(e){return c.copyToClipboard(e.embed)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied image embed code to clipboard.":"Unable to copy image embed code to clipboard.")})),this.actions.pipe(Object(O.l)(an),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate embed code.")}))}return Object.defineProperty(e.prototype,"widgetOptions",{get:function(){return"2d"===this.mode?null:this.form.value.options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotateEnabled",{get:function(){return this.form.get("rotate").value.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this.formModeGroup.get("mode").value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetWidth",{get:function(){return"2d"===this.mode?this.selectedSnapshotSize.dimensions.width:this.store.selectSnapshot(Qa.getDimensions).width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetHeight",{get:function(){return"2d"===this.mode?this.selectedSnapshotSize.dimensions.height:this.store.selectSnapshot(Qa.getDimensions).height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetBGColor",{get:function(){return"2d"===this.mode?this.snapshotBGColor:this.bgColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetScalable",{get:function(){return"2d"===this.mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageType",{get:function(){return this.formSnapshot.get("imageType").value},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setupWidgetForm(),this.setupSnapshotForm(),this.store.dispatch(new Zt(!0))},e.prototype.ngOnDestroy=function(){this.store.dispatch(new Zt(!1)),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setupWidgetForm=function(){var e=this,t=this.form.get("options"),n=this.form.get("dimensions"),l=this.form.get("rotate"),i=this.form.get("initial"),o=this.form.get("disableScroll"),a=l.get("enabled"),r=l.get("value");a.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(n){n?r.patchValue("number"==typeof r.value?r.value:e.defaultWidgetOptions.loadRotate):t.patchValue({loadRotate:null})})),r.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){t.patchValue({loadRotate:e})})),i.get("enabled").valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){i.patchValue({mode:e?"button":""})})),i.get("mode").valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){i.patchValue({enabled:!!e},{emitEvent:!1}),t.patchValue({initial:{button:"button"===e,handHint:"handHint"===e,play:"play"===e}})})),o.get("enabled").valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){o.patchValue({mode:e?"alert":""})})),o.get("mode").valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){o.patchValue({enabled:!!e},{emitEvent:!1}),t.patchValue({disableScroll:{alert:"alert"===e,overlay:"overlay"===e}})})),n.valueChanges.pipe(Object(pr.a)(300),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.setScreenDimensions(t)})),this.dimensions$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){n.setValue(e,{emitEvent:!1})})),t.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.writeSavedOptions(t)}))},e.prototype.setupSnapshotForm=function(){var e=this,t=this.formSnapshot.get("dimensions"),n=this.formSnapshot.get("inches");n.valueChanges.pipe(Object(pr.a)(500),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){var l=n.value,i=l.height;n.valid&&t.patchValue({width:e.inchesToPixels(l.width),height:e.inchesToPixels(i)})})),t.valueChanges.pipe(Object(pr.a)(500),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){var n=t.value,l=n.width,i=n.height;if(t.valid){var o=e.snapshotSizes.find((function(e){return e.dimensions.width===l&&e.dimensions.height===i}));e.selectedSnapshotSize=op({},e.selectedSnapshotSize,{title:o?o.title:"Custom",dimensions:{width:l,height:i}}),e.ref.markForCheck()}}))},e.prototype.setScreenDimensions=function(e){this.store.dispatch(new $t(e))},e.prototype.handleGenerateIFrame=function(){this.generateIFrameCode()},e.prototype.handleGenerateURL=function(){this.generateURL()},e.prototype.handleCopyImageURL=function(){this.generateImageURL()},e.prototype.handleGenerateImage=function(){this.generateImageCode()},e.prototype.generateIFrameCode=function(){this.store.dispatch(new Qt(this.model,this.form.value.options,this.camera))},e.prototype.generateURL=function(){this.store.dispatch(new qt(this.model,this.form.value.options,this.camera))},e.prototype.generateImageURL=function(){var e=this,t=this.imageType===Kt.PNG?"png":"jpeg";this.publishWidget.takeSnapshot(t).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(n){e.store.dispatch(new en(n,t))}))},e.prototype.generateImageCode=function(){var e=this,t=this.imageType===Kt.PNG?"png":"jpeg";this.publishWidget.takeSnapshot(t).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(n){var l=new Ot;e.store.dispatch(new ln(e.model,n,t,l,e.camera))}))},e.prototype.handleSnapshotBGColorClick=function(e){this.snapshotBGColor=this.getBackgroundFromColor(e)},e.prototype.handleSnapshotSizeClick=function(e){this.selectedSnapshotSize=op({},e),this.formSnapshot.patchValue({dimensions:{width:e.dimensions.width,height:e.dimensions.height},inches:{width:this.pixelsToInches(e.dimensions.width),height:this.pixelsToInches(e.dimensions.height)}},{emitEvent:!1})},e.prototype.handleDownloadSnapClick=function(){var e=this;this.publishWidget.takeSnapshot(this.imageType===Kt.PNG?"png":"jpeg").pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.downloadImage(t)}))},e.prototype.handleCameraUpdated=function(e){this.camera=e},e.prototype.copyToClipboard=function(e){var t=this;return this.clipboardService.copyToClipboard(e).pipe(Object(wt.a)((function(n){return n?Object(U.a)(n):t.dialogService.openClipboardDialog(e).afterClosed()})))},e.prototype.formatScreenSizeText=function(e){var t=e.dimensions;return e.title+" ("+t.width+" x "+t.height+")"},e.prototype.getBackgroundFromColor=function(e){var t=e?[e.red,e.green,e.blue,e.alpha]:null;return t?new Ja(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ap(arguments[t]));return e}(t,t),"radial",[0,100]):null},e.prototype.getWidgetOptions=function(){var e=this.readSavedOptions(),t=this.store.selectSnapshot(ip.getWidgetOptions);if(e){var n=this.publishService.extendWidgetOptions(new Ot,e);return op({},n,{background:t?t.background:null})}return t||new Ot},e.prototype.readSavedOptions=function(){!function(e,t){var n=localStorage.getItem(al.WidgetOptions);if(null!==n){var l=JSON.parse(n);if(void 0!==l[e]&&(l[e].timestamp||0)<1573675067505){delete l[e];try{localStorage.setItem(al.WidgetOptions,JSON.stringify(l))}catch(i){}}}}(this.getStorageKey());var e=this.storageService.getLocalJSON(al.WidgetOptions);return e?e[this.getStorageKey()]:null},e.prototype.writeSavedOptions=function(e){var t=op({},e,{timestamp:Date.now()}),n=this.storageService.getLocalJSON(al.WidgetOptions)||{};n[this.getStorageKey()]=t,this.storageService.setLocalItem(al.WidgetOptions,n)},e.prototype.getStorageKey=function(){return this.store.selectSnapshot(Va.getUserProfile).eid},e.prototype.downloadImage=function(e){var t=this,n=(this.model.title||"snapshot").replace(/ /g,"_").replace(/\W/g,"");this.publishService.exportImage(e,this.imageType,n+"."+(this.imageType===Kt.PNG?"png":"jpg")).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){t.snackBar.open(e?"Successfuly downloaded image":"Unable to download image.")}))},e.prototype.pixelsToInches=function(e){return parseFloat((e/300).toFixed(2))},e.prototype.inchesToPixels=function(e){return 300*e},Object(v.__decorate)([Object(O.e)(Qa.getDimensions),Object(v.__metadata)("design:type",J.a)],e.prototype,"dimensions$",void 0),Object(v.__decorate)([Object(O.e)(Qa.getMinDimensions),Object(v.__metadata)("design:type",J.a)],e.prototype,"minDimensions$",void 0),e}(),bp=function(){function e(){}return e.prototype.getClipboardAPISupport=function(){return"clipboard"in navigator},e.prototype.getClipboardAPI=function(){return navigator.clipboard},e.prototype.copyToClipboard=function(e){if(this.getClipboardAPISupport()){var t=this.getClipboardAPI();return new J.a((function(n){t.writeText(e).then((function(){n.next(!0),n.complete()})).catch((function(e){n.next(!1),n.complete()}))}))}return Object(U.a)(!1)},e.prototype.copyInputFieldValue=function(e){e.select();var t=!1;try{t=document.execCommand("copy")}catch(n){t=!1}return t},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),gp=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),hp=function(){return(hp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},mp=function(e){return e.UpgradeSubscription="/legacy/upgrade-human.html",e.BuySubscription="/legacy/buy-subscription.html",e.MyProfile="/legacy/user-account.html",e}({}),fp=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.sanitizer=n,this.headerOffset=100,this.settings={type:null,dimensions:{width:100,height:100}},this.settings=hp({},this.settings,t);var l=t.dimensions;this.dialogRef.updateSize(l.width+"px",l.height+"px")}return Object.defineProperty(e.prototype,"height",{get:function(){return Math.max(200,this.settings.dimensions.height-this.headerOffset)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){var e=this.getURL();return e?this.sanitizer.bypassSecurityTrustResourceUrl(e):null},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.getURL=function(){var e=""+this.settings.type;if(Object.values(mp).includes(e)){var t=this.getURLParams();return t?e+"?"+t:e}return""},e.prototype.getURLParams=function(){var e=this.settings.options;return e?Object.entries(e).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2);return t[0]+"="+t[1]})).join("&"):""},e}(),yp=function(){return(yp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},xp=function(){function e(e,t){this.dialogRef=e,this.data=t,this.settings={titleText:"Confirm Action",bodyText:"",confirmText:"Confirm",confirmColor:"primary",cancelText:"Cancel",confirmEnabled:!0,cancelEnabled:!0,miscText:""},t&&(this.settings=yp({},this.settings,t))}return e.prototype.ngOnInit=function(){},e}(),_p=function(){return function(){}}(),vp=n("R+r5"),Op={label:"Most Recent",fields:["collection_content_createdate","update_date_time","create_date_time"],ascending:!1},wp={label:"Title (A-Z)",fields:["title"],ascending:!0},Cp=[Op,wp,{label:"Title (Z-A)",fields:["title"],ascending:!1},{label:"Author (A-Z)",fields:["author"],ascending:!0},{label:"Author (Z-A)",fields:["author"],ascending:!1}];function jp(e,t,n){var l=t.map((function(t){return e[t]})).filter((function(e){return!Object(Et.isNil)(e)}));return n?l.sort().shift():l.sort().pop()}function kp(e,t,n){var l=new Intl.Collator("en-US",{sensitivity:"base"});return e.sort((function(e,i){var o=jp(e,t,n)||"",a=jp(i,t,n)||"";return(n?1:-1)*l.compare(o.toString(),a.toString())}))}var Sp=function(){return(Sp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Pp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Mp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pp(arguments[t]));return e},Ip={loading:!0,exporting:!1,copying:!1,saving:!1,bookmarks:[],selectedBookmark:null,sort:Op,checkedBookmarks:[],selectedCategory:null},Tp=function(){function e(e,t,n,l,i,o){this.store=e,this.storyService=t,this.bookmarksService=n,this.exploreService=l,this.publishService=i,this.organizationsService=o}return e.getBookmarks=function(e){var t=e.sort;return kp(e.bookmarks,t.fields,t.ascending)},e.getCheckedBookmarks=function(e){return e.checkedBookmarks},e.getSelectedBookmark=function(e){return e.selectedBookmark},e.getLoading=function(e){return e.loading},e.getExporting=function(e){return e.exporting},e.getSaving=function(e){return e.saving},e.getCopying=function(e){return e.copying},e.getSort=function(e){return e.sort},e.getSelectedCategory=function(e){return e.selectedCategory},e.prototype.loadBookmarks=function(e,t){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),Object(yt.a)(this.bookmarksService.getPrivateBookmarks(t.query),this.bookmarksService.getPrivateConditions(),this.bookmarksService.getFavorites()).pipe(Object(V.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){var n=Pp(t,3);e.dispatch(new Kl(Mp(n[0],n[1],n[2])))}))},e.prototype.loadOrganizationBookmarks=function(e,t){var n=t.organizationId;e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),this.bookmarksService.getOrganizationContent(n).pipe(Object(V.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new Kl(t))}))},e.prototype.loadCollectionBookmarks=function(e,t){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),this.organizationsService.getCollectionContent(t.organizationId,t.collectionId).pipe(Object(V.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new Kl(t))}))},e.prototype.loadSuccess=function(e,t){(0,e.patchState)({bookmarks:t.result})},e.prototype.loadBookmark=function(e,t){var n=t.id;("bookmark"===t.type?this.bookmarksService.getBookmarkModel(n):this.exploreService.getConditionModel(n)).subscribe((function(t){e.dispatch(new Tl(t))}))},e.prototype.selectBookmarkSuccess=function(e,t){e.patchState({selectedBookmark:t.bookmark})},e.prototype.saveBookmark=function(e,t){var n,l=this,i=t.bookmarkEntry;e.patchState({saving:!0});var o=this.store.selectSnapshot(Ac.getStoryChapters),a=tc.makeChapterIdMap(o,!1===t.inplace);t.includeIndex&&(n=this.bookmarksService.createBookmarkStory(a),i.index=n.story);var r=i.id?"update":"save";this.bookmarksService.saveBookmark(i).pipe(Object(V.a)((function(){e.patchState({saving:!1})}))).subscribe((function(o){if(t.includeIndex){var u=l.store.selectSnapshot(Ac.getRegisteredThumbnails);e.dispatch(new Bl(r,o.id,i,u,Object(Et.invert)(a)))}(i.addCollection||i.removeCollection)&&e.dispatch(new Xl(o,i.addCollection,i.removeCollection)),e.dispatch(new Al(o,n?n.story:null,r))}),(function(t){e.dispatch(new Fl(i))}))},e.prototype.saveBookmarkSuccess=function(e,t){var n=t.bookmark,l=e.getState().bookmarks,i=l.findIndex((function(e){return e.id===n.id}));-1!==i&&(l[i]=n,e.patchState({bookmarks:Mp(l)})),"save"===t.method&&e.patchState({selectedBookmark:t.bookmark})},e.prototype.deleteBookmark=function(e,t){var n=t.bookmarkId;this.bookmarksService.deleteBookmark(n).subscribe((function(){e.dispatch(new Ul(n))}),(function(t){e.dispatch(new El(n,t))}))},e.prototype.deleteBookmarkSuccess=function(e,t){var n=e.getState().bookmarks.filter((function(e){return e.id!==t.bookmarkId}));e.patchState({bookmarks:Mp(n)})},e.prototype.deleteFavorite=function(e,t){var n=t.bookmark,l=n.id,i=Object(Et.get)(n,"category","bookmark"),o="bookmark"===i?l:this.exploreService.toDatabaseContentId(l);this.bookmarksService.deleteFavorite(o,i).subscribe((function(){e.dispatch(new Nl(l))}),(function(t){e.dispatch(new Rl(l))}))},e.prototype.deleteFavoriteSuccess=function(e,t){var n=e.getState().bookmarks.filter((function(e){return e.id!==t.bookmarkId}));e.patchState({bookmarks:Mp(n)})},e.prototype.sortBookmarks=function(e,t){var n=e.getState().bookmarks;e.patchState({sort:t.sort,bookmarks:Mp(n)})},e.prototype.clearBookmarks=function(e,t){e.patchState({bookmarks:[],checkedBookmarks:[]})},e.prototype.resetBookmarks=function(e,t){e.setState(Ip)},e.prototype.checkBookmark=function(e,t){var n=e.getState().checkedBookmarks,l=n.some((function(e){return e===t.id}));t.checked&&!l?n=Mp(n,[t.id]):t.checked||(n=n.filter((function(e){return e!==t.id}))),e.patchState({checkedBookmarks:n})},e.prototype.setCheckedBookmarks=function(e,t){e.patchState({checkedBookmarks:t.ids})},e.prototype.saveBookmarkThumbnails=function(e,t){var n,l,i=t.chapterIdMap,o=t.thumbnails,a=this.bookmarksService.saveBookmarkThumbnails(t.bookmarkId,t.bookmarkEntry,o,i);if("update"===t.method){var r=this.bookmarksService.deleteBookmarkThumbnails(t.bookmarkId,t.bookmarkEntry,o,i);try{for(var u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),c=u.next();!c.done;c=u.next())a.push(c.value)}catch(s){n={error:s}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(n)throw n.error}}}Object(yt.a)(a).subscribe((function(n){var l=t.bookmarkEntry.index.chapters.map((function(e){var n=e.id;return{originalStoryId:t.bookmarkId,newChapterId:n,originalChapterId:n}})),i=zs.generateThumbnailUrls(l);e.dispatch(new Ua(new Map)).subscribe((function(){e.dispatch(new Ua(i))}))}))},e.prototype.exportBookmarks=function(e,t){var n=t.bookmarks,l=t.widgetURL,i=t.offlineEnabled,o=t.widgetOptions||new Ot;e.patchState({exporting:!0}),this.publishService.exportModels(n,l,o,null,t.userLanguage,t.userApp,i).pipe(Object(V.a)((function(){e.patchState({exporting:!1})}))).subscribe((function(t){e.dispatch(t?new ql(n):new Yl(n))}))},e.prototype.updateBookmarkCollection=function(e,t){var n=this,l=t.bookmark,i=t.addCollection,o=t.removeCollection,a={content_type:l.type,content_id:l.id},r=[];o&&r.push(this.organizationsService.getCollectionContentId(o,a).pipe(Object(te.a)((function(e){return!!e})),Object(wt.a)((function(e){return n.organizationsService.removeFromCollection(o,[e])})),Object(ol.a)((function(){return e.dispatch(new ni(l,o))}),(function(){return e.dispatch(new li(l,o))})))),i&&r.push(this.organizationsService.addToCollection(i,[a]).pipe(Object(ol.a)((function(){return e.dispatch(new ei(l,o))}),(function(){return e.dispatch(new ti(l,o))})))),_c.a.apply(void 0,Mp(r)).subscribe((function(){return e.dispatch(new Zl(l,i,o))}),(function(){return e.dispatch(new Jl(l,i,o))}))},e.prototype.removeBookmarkCollectionSuccess=function(e,t){var n=e.getState();if("collection"===n.selectedCategory){var l=t.bookmark.id,i=n.bookmarks.filter((function(e){return e.id!==l}));e.patchState({bookmarks:Mp(i)})}},e.prototype.copyBookmark=function(e,t){var n=this,l=t.groupAccess,i=t.collection;e.patchState({copying:!0}),this.bookmarksService.copyBookmark(t.id,t.type,t.lang).pipe(Object(wt.a)((function(e){var t=[Object(U.a)(e)];return l&&(t.push(n.bookmarksService.saveBookmark({isOwner:!0,id:e,add_group_access:[l]})),i&&t.push(n.organizationsService.addToCollection(i,[{content_type:"bookmark",content_id:e}]))),_c.a.apply(void 0,Mp(t)).pipe(Object(vp.a)(),Object(s.a)((function(){return e})))})),Object(V.a)((function(){e.patchState({copying:!1})}))).subscribe((function(n){e.dispatch(new oi(n,t.id,l,i))}),(function(n){e.dispatch(new ai(t.id,n))}))},e.prototype.setBookmarkText=function(e,t){var n=e.getState().selectedBookmark;e.patchState({selectedBookmark:Sp({},n,{title:t.title})})},e.prototype.setSelectedCategory=function(e,t){e.patchState({selectedCategory:t.category||null})},Object(v.__decorate)([Object(O.a)(Sl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Sl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadBookmarks",null),Object(v.__decorate)([Object(O.a)(Pl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Pl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadOrganizationBookmarks",null),Object(v.__decorate)([Object(O.a)(Ml),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ml]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadCollectionBookmarks",null),Object(v.__decorate)([Object(O.a)(Kl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Kl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(v.__decorate)([Object(O.a)(Il),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Il]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadBookmark",null),Object(v.__decorate)([Object(O.a)(Tl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Tl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectBookmarkSuccess",null),Object(v.__decorate)([Object(O.a)(Ll),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ll]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmark",null),Object(v.__decorate)([Object(O.a)(Al),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Al]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmarkSuccess",null),Object(v.__decorate)([Object(O.a)(zl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,zl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"deleteBookmark",null),Object(v.__decorate)([Object(O.a)(Ul),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ul]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"deleteBookmarkSuccess",null),Object(v.__decorate)([Object(O.a)(Dl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Dl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"deleteFavorite",null),Object(v.__decorate)([Object(O.a)(Nl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Nl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"deleteFavoriteSuccess",null),Object(v.__decorate)([Object(O.a)($l),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,$l]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"sortBookmarks",null),Object(v.__decorate)([Object(O.a)(Vl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Vl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"clearBookmarks",null),Object(v.__decorate)([Object(O.a)(Hl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Hl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetBookmarks",null),Object(v.__decorate)([Object(O.a)(Ql),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ql]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkBookmark",null),Object(v.__decorate)([Object(O.a)(Wl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Wl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedBookmarks",null),Object(v.__decorate)([Object(O.a)(Bl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Bl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmarkThumbnails",null),Object(v.__decorate)([Object(O.a)(Gl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Gl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"exportBookmarks",null),Object(v.__decorate)([Object(O.a)(Xl),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Xl]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"updateBookmarkCollection",null),Object(v.__decorate)([Object(O.a)(ni),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ni]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"removeBookmarkCollectionSuccess",null),Object(v.__decorate)([Object(O.a)(ii),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ii]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"copyBookmark",null),Object(v.__decorate)([Object(O.a)(ri),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ri]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setBookmarkText",null),Object(v.__decorate)([Object(O.a)(ui),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ui]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedCategory",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getBookmarks",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getCheckedBookmarks",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedBookmark",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getExporting",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getSaving",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getCopying",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[_p]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedCategory",null),Object(v.__decorate)([Object(O.g)({name:"bookmarks",defaults:Ip})],e)}(),Kp=function(){return(Kp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zp=function(e){return e[e.SaveStory=0]="SaveStory",e[e.Manage=1]="Manage",e}({}),Up=function(){function e(e,t,n,l,i,o,a){var r=this;this.store=e,this.fb=t,this.dialogRef=n,this.data=l,this.snackBar=i,this.actions=o,this.organizationsService=a,this.saveDebounce=new Z.a,this.settings={mode:zp.SaveStory},this.ngUnsubscribe=new Z.a,this.settings=Kp({},this.settings,l),this.form=this.fb.group({title:["",[ge.x.required,ge.x.maxLength(60)]],collection:[null],groupAccess:[null],publicAccess:[!1]}),this.actions.pipe(Object(O.l)(Al),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){return r.handleSaveSuccess(e)})),this.actions.pipe(Object(O.l)(Fl),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){return r.handleSaveFailure(e)})),this.saveDebounce.pipe(Object(pr.a)(100),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){r.saveBookmark()}))}return Object.defineProperty(e.prototype,"dialogTitle",{get:function(){return this.settings.title||(this.settings.mode===zp.Manage?"Manage":"Save")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.store.selectSnapshot(ip.getOrganization);e&&this.store.dispatch(new Jn(e.id));var t=this.settings.bookmark,n=t?t.title:this.settings.bookmarkTitle?this.settings.bookmarkTitle:"",l=t?this.getGroupAccess(t):null,i=!1,o=!1;l?o=!(i=l.member_edit)&&l.visible:!t&&e&&(i=!1,o=!0);var a=!this.isGroupUser()&&t&&t.tags.includes("public");if(this.form.patchValue({title:n,groupAccess:i?"edit":o?"view":"",publicAccess:a}),this.isNew=!0,this.isOwner=!0,t)if(t.is_owner)this.isNew=!1,this.isOwner=!0;else{var r=t.group_access.some((function(e){return!0===e.member_edit}));this.isNew=!r,this.isOwner=this.isNew}this.initGroupAccess(),this.initCollections(),this.toggleGroupAccess(o,i)},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initGroupAccess=function(){var e=this;this.form.get("groupAccess").valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.toggleGroupAccess("view"===t,"edit"===t)}))},e.prototype.initCollections=function(){var e=this,t=this.settings.bookmark;this.form.get("collection").disable();var n=this.store.selectSnapshot(ip.getOrganization);n&&t&&this.organizationsService.getCollectionsByContent(n.id,{content_type:t.type,content_id:t.id}).pipe(Object(s.a)((function(e){return e[0]})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.currentCollection=t,e.form.patchValue({collection:e.currentCollection?e.currentCollection.collection_id:null})}))},e.prototype.toggleGroupAccess=function(e,t){var n=this.form.get("collection"),l=this.isOwner||this.isNew,i=e||t;i||n.setValue(null),l&&i?n.enable():n.disable()},e.prototype.handleSubmit=function(){this.form.valid&&this.saveDebounce.next()},e.prototype.saveBookmark=function(){var e=this.getBookmarkEntry();this.store.dispatch(new Ll(e,!1,this.settings.mode===zp.SaveStory))},e.prototype.handleSaveSuccess=function(e){var t=e.bookmark;this.snackBar.open(this.settings.mode===zp.Manage?'Your updates to "'+t.title+'" have been saved to your dashboard.':'"'+t.title+'" saved to your dashboard.'),this.dialogRef.close(t)},e.prototype.handleSaveFailure=function(e){this.snackBar.open('Unable to save bookmark "'+e.bookmarkEntry.title+'". Please try again.')},e.prototype.getBookmarkEntry=function(){var e,t,n=this.settings.bookmark,l=this.form.value,i=l.title,o=l.collection,a=l.groupAccess,r=l.publicAccess,u="view"===a,c="edit"===a,s=this.isGroupUser()?null:r,p=[],d=[];if(this.isOwner){var b=this.createGroupAccess(u,c);b?p=[b]:d=n?n.group_access:[];var g=this.store.selectSnapshot(ip.getCollections)||[],h=parseInt(o,10),m=g.find((function(e){return e.collection_id===h}));this.currentCollection?this.currentCollection.collection_id===h||(e=m,t=this.currentCollection):m&&(e=m)}return{isOwner:!n||n.is_owner,id:n?n.id:null,title:i,add_group_access:p,remove_group_access:d,addCollection:e,removeCollection:t,public_access:s}},e.prototype.getGroupAccess=function(e){var t=this.store.selectSnapshot(ip.getOrganization),n=null;if(t&&e.group_access){var l=t.id;n=e.group_access.find((function(e){return e.group_id===l}))}return n},e.prototype.createGroupAccess=function(e,t){var n=this.store.selectSnapshot(ip.getOrganization);return n&&(e||t)?{group_id:n.id,member_edit:t,visible:e||t}:null},e.prototype.isGroupUser=function(){return!!this.store.selectSnapshot(ip.getOrganization)},Object(v.__decorate)([Object(O.e)(ip.getOrganization),Object(v.__metadata)("design:type",J.a)],e.prototype,"organization$",void 0),Object(v.__decorate)([Object(O.e)(ip.getCollections),Object(v.__metadata)("design:type",J.a)],e.prototype,"collections$",void 0),Object(v.__decorate)([Object(O.e)(Tp.getSaving),Object(v.__metadata)("design:type",J.a)],e.prototype,"saving$",void 0),e}(),Ep=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.storageService=n,this.email=!1,this.ip=!1,this.supportEmail=u.supportEmail,this.organizationName=t.organizationName,this.email=t.email,this.ip=t.ip}return e.prototype.ngOnInit=function(){},e.prototype.handleDontShowClick=function(){var e=this.storageService.getLocalJSON(al.GroupRestriction)||{};e.dontShowDialog=!0,this.storageService.setLocalItem(al.GroupRestriction,e),this.dialogRef.close()},e}(),Lp=function(){return(Lp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ap=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.clipboardService=n,this.settings={title:"Copy to Clipboard",copyText:""},this.settings=Lp({},this.settings,t)}return Object.defineProperty(e.prototype,"rowCount",{get:function(){return this.settings.copyText.split(/\r?\n/).length+1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this.copyField.nativeElement;e.focus(),e.select()},e.prototype.handleCopyClick=function(){var e=this.clipboardService.copyInputFieldValue(this.copyField.nativeElement);this.close(e)},e.prototype.handleCancelClick=function(){this.close(!1)},e.prototype.close=function(e){this.dialogRef.close(e)},e}(),Fp=function(){return(Fp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Dp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Np=function(e){return e[e.NewUser=0]="NewUser",e[e.ExistingUser=1]="ExistingUser",e[e.Group=2]="Group",e}({}),Rp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dp(arguments[t]));return e}([{text:"We make it easy to visualize the human body<br/> for your educational needs - all in interactive 3D.",logo:"/assets/images/biodigital-logo.svg"}],[{title:"Explore",text:"Browse our digital library for 3D models to complement your curriculum.",image:"/assets/images/welcome-tour-explore.jpg"},{title:"Customize",text:"Use our authoring tools to create 3D views tailored to your educational goals.",image:"/assets/images/welcome-tour-customize.jpg"},{title:"Collaborate",text:"Share your saved 3D views with your team from a central Dashboard.",image:"/assets/images/welcome-tour-collaborate.jpg"},{title:"Integrate",text:"Publish your interactive 3D model and drop into your digital content.",image:"/assets/images/welcome-tour-integrate.jpg"}]),Bp=[{title:"Introducing Human Studio",text:"The first product for authoring custom interactive 3D models of anatomy, disease and treatments.",image:"/assets/images/studio-tour-studio.jpg"},{title:"Interactive Labels",text:"Quickly add anatomical labels to call out key learning objectives.",image:"/assets/images/studio-tour-labels.jpg"},{title:"Paint",text:"Customize the look and feel of your 3D model by applying different paint effects to anatomical structures.",image:"/assets/images/studio-tour-paint.jpg"},{title:"Tour Builder",text:"Tell an interactive story by stringing together different views of your 3D model.",image:"/assets/images/studio-tour-tour.jpg"},{title:"Text Manager",text:"Add or modify text from one dedicated place.",image:"/assets/images/studio-tour-text.jpg"}],Hp=function(){function e(e,t,n){switch(this.store=e,this.dialogRef=t,this.data=n,this.ngUnsubscribe=new Z.a,this.settings={userType:Np.NewUser},this.slides=[],this.selectedIndex=0,this.settings=Fp({},this.settings,n),this.settings.userType){case Np.NewUser:this.slides=Rp;break;case Np.ExistingUser:this.slides=Bp}}return Object.defineProperty(e.prototype,"isFirstSlide",{get:function(){return 0===this.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastSlide",{get:function(){return this.selectedIndex===this.slides.length-1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleCloseTour=function(){this.close()},e.prototype.close=function(){this.dialogRef.close()},e.prototype.handleSelectSlideClick=function(e){this.selectedIndex=e},e.prototype.handleNextClick=function(){this.incrementSelectedIndex(1)},e.prototype.handlePrevClick=function(){this.incrementSelectedIndex(-1)},e.prototype.incrementSelectedIndex=function(e){this.selectedIndex=Math.max(0,this.selectedIndex+e)%this.slides.length},e}(),Vp=function(){function e(e,t,n,l,i){this.store=e,this.dialogRef=t,this.data=n,this.actions=l,this.snackBar=i,this.ngUnsubscribe=new Z.a,this.organization=n.organization}return e.prototype.ngOnInit=function(){var e=this;this.actions.pipe(Object(O.l)(nl),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleJoinSuccess(t.organization)})),this.actions.pipe(Object(O.l)(ll),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleJoinFail(t.organization)}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleCancelClick=function(){this.close(!1)},e.prototype.handleJoinClick=function(){this.join()},e.prototype.handleJoinSuccess=function(e){this.snackBar.open('Successfully joined "'+e.name+'".'),this.close(!0)},e.prototype.handleJoinFail=function(e){this.snackBar.open('There was an error joining "'+e.name+'".')},e.prototype.join=function(){this.store.dispatch(new tl(this.organization))},e.prototype.close=function(e){this.dialogRef.close(e)},e}(),$p=function(){function e(e){this.dialogRef=e}return e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e}(),Qp=function(){return function(e){this.namespaceMap={},this.duplicate=!1,this.replace=!1,Object.assign(this,e)}}(),Wp=function(){function e(e,t,n){this.id=e,this.saveConfig=t,this.trimConfig=n}return e.type="[Modules] Save Module",e}(),Gp=function(){function e(e,t,n){void 0===n&&(n=!1),this.id=e,this.story=t,this.statesDuplicated=n}return e.type="[Modules] Save Module Success",e}(),qp=function(){function e(e){this.id=e}return e.type="[Modules] Save Module Failure",e}(),Yp=function(){function e(e){this.id=e}return e.type="[Modules] Duplicate Module Success",e}(),Xp=function(){function e(e){this.id=e}return e.type="[Modules] Duplicate Module Failure",e}(),Zp=function(){function e(e){this.module=e}return e.type="[Modules] Set Save Module",e}(),Jp=function(){function e(){}return e.type="[Modules] Get Primary Categories",e}(),ed=function(){function e(e){this.primaryCategory=e}return e.type="[Modules] Get Secondary Categories",e}(),td=function(){function e(){}return e.type="[Modules] Reset",e}(),nd=function(e){return e.Success="success",e.Fail="fail",e}({}),ld="cdb/content",id="cdb/copy/content",od={headers:new c.g({"Content-Type":"application/json; charset=utf-8"})},ad=["production","client","preview","internal_content","public_preview","demos","social","exports","real_data"],rd=function(){function e(e,t){this.http=e,this.serializeModuleService=t}return e.prototype.saveModule=function(e,t){t=this.formatModulePath(t);var n=[ld,"modules",t].join("/"),l=this.JSONStringify(e);return this.http.put(n,l,od).pipe(Object(s.a)((function(){return nd.Success})),Object(E.a)((function(e){var t=e.status;return t>=200&&t<=202?Object(U.a)(nd.Success):Object(U.a)(nd.Fail)})))},e.prototype.copyState=function(e,t){var n=[id,"states",t].join("/"),l={headers:new c.g({"Content-Type":"application/json; charset=utf-8","source-state":e})};return this.http.put(n,{},l)},e.prototype.listContents=function(e,t,n){var l=this.generateModulePath(e,t||"",n||"");return this.http.get("/cdb/ls/content/modules/"+l).pipe(Object(s.a)((function(e){return e.contents})))},e.prototype.getState=function(e){return this.http.get("/cdb/ls/content/states/"+e).pipe(Object(s.a)((function(e){return e.contents})))},e.prototype.getClients=function(){return this.http.get("/search/client").pipe(Object(s.a)((function(e){return e.clients})))},e.prototype.getUsedStates=function(){var e=this,t={};return Object.values(Human.scene.objects).reduce((function(n,l){return["transformId","morphId","geometryId","materialId"].forEach((function(n){var i=e.getPropertyState(l,n);i.length&&(t[i]=!0)})),l.hasOwnProperty("renderables")&&["morphId","geometryId","materialId"].forEach((function(n){l.renderables.forEach((function(l){var i=e.getPropertyState(l,n);i.length&&(t[i]=!0)}))})),n}),{}),Object.keys(t)},e.prototype.parseScenePath=function(e){var t=e.split("/");return 1===t.length?null:{fullPath:"https://qa.biodigital.com/content/modules/"+e,relativePath:t.slice(0,t.length-1).join("/"),sceneName:t[t.length-1]}},e.prototype.formatModulePath=function(e){var t=e;return/\.json$/.test(e)||(t+=".json"),t},e.prototype.getPrimaryCategories=function(){return Object(U.a)(ad)},e.prototype.getSecondaryCategories=function(e){switch(e){case"production":return Object(U.a)(["maleAdult","femaleAdult"]);case"client":return this.getClients();default:return Object(U.a)([])}},e.prototype.generateSaveModule=function(e){var t=this.parseScenePath(e),n=t.relativePath.split("/");return{id:e,name:t.sceneName,primaryCategory:n[0]||"",secondaryCategory:n[1]||""}},e.prototype.generateModulePath=function(e,t,n){var l=[];return e.length&&l.push(e),t.length&&l.push(t),n.length&&(n.indexOf(".json")<0&&(n+=".json"),l.push(n)),l.join("/")},e.prototype.getPropertyState=function(e,t){return null!=e[t]?e[t].split("/")[0]:""},e.prototype.JSONStringify=function(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c),l.Yb(Vc))},token:e,providedIn:"root"}),e}(),ud=((new c.g).set("Content-Type","application/json"),n("t9fZ")),cd=function(){return function(){}}(),sd=function(){return(sd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};(new $c).graph.hidden=!0;var dd,bd={primaryCategoryOptions:[],secondaryCategoryOptions:[],moduleExists:!1,saveModule:new cd,storyType:o.Module,saving:!1},gd=function(){function e(e,t,n,l,i){this.store=e,this.serializeModuleService=t,this.modulesService=n,this.modulesThumbnailService=l,this.storyService=i}var t;return t=e,e.getSaveModule=function(e){return e.saveModule},e.getPrimaryCategoryOptions=function(e){return Object(O.j)([t],(function(t){return"read"===e?t.primaryCategoryOptions:t.primaryCategoryOptions.filter((function(e){return"exports"!==e}))}))},e.getSecondaryCategoryOptions=function(e){return e.secondaryCategoryOptions},e.getSaving=function(e){return e.saving},e.prototype.saveModule=function(e,t){var n=this;e.patchState({saving:!0});var l=t.saveConfig,i=t.trimConfig?t.trimConfig:new $c,a=l.duplicate?t.saveConfig.namespaceMap:{},r=this.store.selectSnapshot(Ac.getStoryChapters),u=tc.makeChapterIdMap(r,!1===l.replace),c=this.serializeModuleService.serialize(a,i,t.saveConfig.duplicate,this.store.selectSnapshot(qs.getStory),this.store.selectSnapshot(Ac.getStoryChapters),u);if(this.modulesService.saveModule(c.story,t.id).pipe(Object(V.a)((function(){return e.patchState({saving:!1})}))).subscribe((function(i){if(i===nd.Success){var a=n.store.selectSnapshot(Ac.getRegisteredThumbnails),r=c.story.chapters[0].id,s=n.modulesThumbnailService.saveStoryThumbnails({storyId:t.id,storyType:o.Module,thumbnails:a,chapterIdMap:Object(Et.invert)(u),indexId:r,deleteUnused:l.replace});0===s.length?e.dispatch(new Gp(t.id,c.story,t.saveConfig.duplicate)):Object(yt.a)(s).subscribe((function(){e.dispatch(new Gp(t.id,c.story,t.saveConfig.duplicate))}))}else e.dispatch(new qp(t.id))})),l.duplicate){var s=[];Object.entries(a).forEach((function(e){var t=pd(e,2);s.push(n.modulesService.copyState(t[0],t[1]))})),Object(yt.a)(s).subscribe((function(n){e.dispatch(new Yp(t.id))}),(function(n){e.dispatch(new Xp(t.id))}))}},e.prototype.setSaveModule=function(e,t){e.patchState({saveModule:sd({},t.module)})},e.prototype.getModulePrimaryCategories=function(e,t){this.modulesService.getPrimaryCategories().subscribe((function(t){e.patchState({primaryCategoryOptions:t})}))},e.prototype.getModuleSecondaryCategories=function(e,t){this.modulesService.getSecondaryCategories(t.primaryCategory).subscribe((function(t){e.patchState({secondaryCategoryOptions:t})}))},e.prototype.resetModules=function(e,t){Object(yt.a)(this.modulesService.getPrimaryCategories(),this.modulesService.getSecondaryCategories("")).pipe(Object(ud.a)(1)).subscribe((function(t){var n=pd(t,2);e.patchState({primaryCategoryOptions:n[0],secondaryCategoryOptions:n[1]})}))},Object(v.__decorate)([Object(O.a)(Wp),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Wp]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"saveModule",null),Object(v.__decorate)([Object(O.a)(Zp),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Zp]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSaveModule",null),Object(v.__decorate)([Object(O.a)(Jp),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Jp]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getModulePrimaryCategories",null),Object(v.__decorate)([Object(O.a)(ed),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ed]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getModuleSecondaryCategories",null),Object(v.__decorate)([Object(O.a)(td),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,td]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetModules",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e,"getSaveModule",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e,"getSecondaryCategoryOptions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e,"getSaving",null),t=Object(v.__decorate)([Object(O.g)({name:"modules",defaults:bd})],e)}(),hd=n("dzgT"),md=n("p0ib"),fd=n("15JJ"),yd=function(){return(yd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},xd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_d=/^[0-9a-zA-Z_]+$/,vd=function(){function e(e,t,n,l,i,o,a,r){this.store=e,this.actions=t,this.formBuilder=n,this.modulesService=l,this.changeDetector=i,this.snackbar=o,this.dialogRef=a,this.data=r,this.saving=!1,this.moduleExists=!1,this.validating=!1,this.ngUnsubscribe=new Z.a,this.settings=yd({},r)}return Object.defineProperty(e.prototype,"formName",{get:function(){return this.form.get("name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formStates",{get:function(){return this.form.get("states")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formPrimaryCategory",{get:function(){return this.form.get("primaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formSecondaryCategory",{get:function(){return this.form.get("secondaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDuplicateStates",{get:function(){return this.form.get("duplicateStates")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formTrimShown",{get:function(){return this.form.get("trimShown")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formTrimClipped",{get:function(){return this.form.get("trimClipped")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formConfirmProduction",{get:function(){return this.form.get("confirmProduction")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.store.dispatch(new td),this.saveModule=this.generateSaveModule(),this.usedStates=this.modulesService.getUsedStates(),this.initApplicationListeners(),this.initForm(),this.setFormValidators(),this.initFormListeners(),this.setFormValues(this.saveModule),this.populateStateValues()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initApplicationListeners=function(){var e=this;this.actions.pipe(Object(O.l)(Gp),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleSaveSuccess(t.id)})),this.actions.pipe(Object(O.l)(qp),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleSaveFail(t.id)}))},e.prototype.initFormListeners=function(){var e=this;this.formPrimaryCategory.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new ed(t))})),Object(hd.b)(this.formPrimaryCategory.valueChanges,this.formSecondaryCategory.valueChanges,this.formName.valueChanges,this.formDuplicateStates.valueChanges).pipe(Object(ee.a)(this.ngUnsubscribe),Object(pr.a)(300)).subscribe((function(t){var n=xd(t,4);e.handleNameChange(n[0],n[1],n[2],n[3])})),Object(md.a)(this.formDuplicateStates.valueChanges,this.formStates.valueChanges).pipe(Object(ol.a)((function(){return e.validating=!0})),Object(pr.a)(300),Object(fd.a)((function(t){return e.checkStateGroups()})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.validating=!1,e.updateFormStates(t)}))},e.prototype.initForm=function(){this.form=this.formBuilder.group({primaryCategory:["",ge.x.required],secondaryCategory:[""],name:["",[ge.x.required,ge.x.pattern("[0-9a-zA-Z_]*")]],trimShown:[!1],trimClipped:[!1],duplicateStates:[!1],confirmProduction:[!1,this.validateProductionSave],states:this.formBuilder.array([this.initStateForm("")])},{validators:[this.validateProductionSave]})},e.prototype.initStateForm=function(e){return this.formBuilder.group({include:[!0],oldState:[e],newState:[e,[ge.x.required,ge.x.pattern("[0-9a-zA-Z_]*")]]})},e.prototype.handleReplaceClick=function(e){this.changeStatePrefix(e,"replace")},e.prototype.handlePrependClick=function(e){this.changeStatePrefix(e,"prepend")},e.prototype.handleSubmit=function(){this.form.valid&&this.save()},e.prototype.handleSaveSuccess=function(e){this.dialogRef.close(),this.snackbar.open('"'+e+'" successfully saved.')},e.prototype.handleSaveFail=function(e){this.dialogRef.close(),this.snackbar.open('There was an error saving "'+e+'".')},e.prototype.generateSaveModule=function(){return this.modulesService.generateSaveModule(this.settings.id)},e.prototype.populateStateValues=function(){for(var e=this;this.formStates.length>0;)this.formStates.removeAt(0);var t=[];this.modulesService.getUsedStates().forEach((function(n){var l={enabled:!0,state:n};e.formStates.push(e.initStateForm(l.state)),t.push(l)})),this.formStates.markAsDirty()},e.prototype.setFormValidators=function(){var e=this;this.formPrimaryCategory.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){switch(t){case"production":case"client":e.formSecondaryCategory.setValidators([ge.x.required]);break;default:e.formSecondaryCategory.setValidators(null),e.formSecondaryCategory.setValue("")}}))},e.prototype.setFormValues=function(e){this.form.patchValue({primaryCategory:"exports"===e.primaryCategory?"preview":e.primaryCategory||"preview",secondaryCategory:e.secondaryCategory||"",name:e.name||"",trimShown:!1,trimClipped:!1,duplicateStates:!1})},e.prototype.save=function(){var e=this.modulesService.generateModulePath(this.formPrimaryCategory.value,this.formSecondaryCategory.value,this.formName.value),t=new Qp;this.formDuplicateStates.value&&(t.duplicate=!0,this.formStates.value.map((function(e){e.include&&(t.namespaceMap[e.oldState]=e.newState)})));var n=new $c;n.graph.hidden=this.formTrimShown.value,n.graph.clipped=this.formTrimClipped.value,this.saving=!0,this.store.dispatch(new Wp(e,t,n))},e.prototype.handleNameChange=function(e,t,n,l){var i=this;if(this.modulePath=this.modulesService.generateModulePath(e,t,n),this.formName.errors){var o=this.formName.errors;if(o.pattern||o.required)return}this.modulePath&&n.length&&this.modulesService.listContents(e,t,n).subscribe((function(e){i.moduleExists=e.length>0;var t=l&&i.moduleExists,o=!_d.test(n);i.formName.setErrors(t||o?{invalid:!0}:null),i.formName.markAsDirty(),i.changeDetector.markForCheck()}))},e.prototype.validateProductionSave=function(e){var t=e.get("primaryCategory"),n=e.get("confirmProduction");return t&&n&&"production"===t.value&&!1===n.value?{confirmProduction:!0}:null},e.prototype.checkStateGroups=function(){var e=this,t=this.formStates.controls.map((function(t){return e.validateStateGroup(t)}));return t.length>0?hd.b.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xd(arguments[t]));return e}(t)):Object(U.a)([])},e.prototype.validateStateGroup=function(e){var t=!0===this.formDuplicateStates.value,n=e.get("newState"),l=e.get("include");return t&&!1!==l.value?n.errors||0===n.value.length?Object(U.a)({stateControl:n,valid:!1}):this.modulesService.getState(n.value).pipe(Object(s.a)((function(e){var t=_d.test(n.value);return{stateControl:n,valid:0===e.length&&t}}))):Object(U.a)({stateControl:n,valid:!0})},e.prototype.updateFormStates=function(e){e.forEach((function(e){e.valid?(e.stateControl.setErrors(null),e.stateControl.markAsDirty()):e.stateControl.setErrors({stateTaken:!0})})),this.changeDetector.markForCheck()},e.prototype.changeStatePrefix=function(e,t){this.formStates.controls.forEach((function(n){var l=n.get("newState");switch(t){case"prepend":l.setValue(e+"_"+l.value);break;case"replace":var i=new RegExp(/[^_]*/),o=l.value.replace(i,e);l.setValue(o)}}))},Object(v.__decorate)([Object(O.e)(gd.getSaveModule),Object(v.__metadata)("design:type",J.a)],e.prototype,"saveModule$",void 0),Object(v.__decorate)([Object(O.e)(gd.getPrimaryCategoryOptions("write")),Object(v.__metadata)("design:type",J.a)],e.prototype,"primaryCategoryOptions$",void 0),Object(v.__decorate)([Object(O.e)(gd.getSecondaryCategoryOptions),Object(v.__metadata)("design:type",J.a)],e.prototype,"secondaryCategoryOptions$",void 0),e}(),Od=function(){return(Od=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},wd=function(){function e(e,t,n,l){this.store=e,this.dialogRef=t,this.data=n,this.sanitizer=l;var i=this.store.selectSnapshot(Va.getUserProfile);this.settings=Od({surveyEmail:i?i.email:""},this.data)}return Object.defineProperty(e.prototype,"src",{get:function(){var e=this.settings;return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.research.net/r/BKTXJMC?Org="+e.surveyGroupName+"&Email="+e.surveyEmail)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e}(),Cd=function(){return function(){}}(),jd=function(e){return e[e.Query=0]="Query",e[e.Path=1]="Path",e}({}),kd=function(e){return e[e.List=0]="List",e[e.Cards=1]="Cards",e}({}),Sd=function(){return function(e,t,n,l){void 0===l&&(l=null),this.label=e,this.value=t,this.type=n,this.organizationId=l,this.id=n+"|"+(t||"")+"|"+(l||"")}}(),Pd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Md=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pd(arguments[t]));return e},Id={loading:!0,searchMode:jd.Query,viewMode:kd.Cards,sort:wp,sortOptions:Cp,studioOptions:[],studioQuery:"",studioCategoryId:"category||",searchResults:[],checkedResults:[]},Td=function(){function e(e,t,n,l){this.organizationsService=e,this.modulesService=t,this.exploreService=n,this.bookmarksService=l}return e.getLoading=function(e){return e.loading},e.getSearchMode=function(e){return e.searchMode},e.getViewMode=function(e){return e.viewMode},e.getSort=function(e){return e.sort},e.getSortOptions=function(e){return e.sortOptions},e.getStudioOptions=function(e){return e.studioOptions},e.getSearchResults=function(e){var t=e.sort;return kp(e.searchResults,t.fields,t.ascending)},e.getStudioCategoryId=function(e){return e.studioCategoryId},e.getStudioQuery=function(e){return e.studioQuery},e.prototype.setSearchMode=function(e,t){e.patchState({searchMode:t.searchMode})},e.prototype.setViewMode=function(e,t){e.patchState({viewMode:t.viewMode})},e.prototype.setSort=function(e,t){var n=e.getState().searchResults;e.patchState({sort:t.sort,searchResults:Md(n)})},e.prototype.getStudioCategories=function(e,t){var n=t.organizationId,l=Object(U.a)(Qc.categories),i=n?this.organizationsService.getCollections(n):Object(U.a)([]);Object(yt.a)(l,i).subscribe((function(t){var l=Pd(t,2),i=l[0],o=l[1],a=[];a=Md([new Sd("My Models","","user"),new Sd("Biodigital Models","","category")],i.map((function(e){return new Sd(e.title,e.id,"category")}))),n&&(a=Md(a,[new Sd("Team Models","","organization",n)],o.map((function(e){return new Sd(e.collection_name,e.collection_id.toString(),"collection",n)})))),e.dispatch(new jl.GetStudioOptionsSuccess(a))}))},e.prototype.getStudioOptionsSuccess=function(e,t){e.patchState({studioOptions:Md(t.options)})},e.prototype.searchStudio=function(e,t){var n=t.category,l=t.query,i=n.organizationId,o=n.value,a=n.type;e.patchState({loading:!0,studioQuery:l,studioCategoryId:n.id});var r=new J.a;switch(a){case"category":r="public"===o?this.bookmarksService.getPublicBookmarks(l):this.exploreService.getAnatomyCategory(l,o.toString());break;case"organization":r=this.bookmarksService.getOrganizationContent(i,l);break;case"collection":r=this.organizationsService.getCollectionContent(i,o,l);break;case"user":r=this.bookmarksService.getPrivateBookmarks(l)}r.pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new jl.SearchStudioSuccess(t))}))},e.prototype.searchStudioSuccess=function(e,t){e.dispatch(new jl.SearchSuccess(t.bookmarks))},e.prototype.searchLoft=function(e,t){e.patchState({loading:!0});var n=t.name.indexOf(".json")>0;this.modulesService.listContents(t.primaryCategory,t.secondaryCategory,n?t.name:"").pipe(Object(s.a)((function(e){return n?e:e.filter((function(e){return e.name.indexOf(t.name)>=0}))})),Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new jl.SearchLoftSuccess(t))}),(function(t){e.dispatch(new jl.SearchLoftSuccess([]))}))},e.prototype.searchLoftSuccess=function(e,t){var n=t.bookmarks.map((function(e){var t=e.name.replace("/content/modules/","").replace(".json",""),n=e.name.split("/").pop().replace("/content/modules","").replace(".json",""),l=new ft;return l.id=t,l.title=n,l.type=o.Module,l}));e.dispatch(new jl.SearchSuccess(n))},e.prototype.searchSuccess=function(e,t){e.patchState({searchResults:t.bookmarks})},e.prototype.clearResults=function(e,t){e.patchState({searchResults:[]})},e.prototype.resetGallery=function(e,t){e.patchState(Id)},Object(v.__decorate)([Object(O.a)(jl.SetSearchMode),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SetSearchMode]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSearchMode",null),Object(v.__decorate)([Object(O.a)(jl.SetViewMode),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SetViewMode]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setViewMode",null),Object(v.__decorate)([Object(O.a)(jl.SetSort),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SetSort]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSort",null),Object(v.__decorate)([Object(O.a)(jl.GetStudioOptions),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.GetStudioOptions]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getStudioCategories",null),Object(v.__decorate)([Object(O.a)(jl.GetStudioOptionsSuccess),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.GetStudioOptionsSuccess]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"getStudioOptionsSuccess",null),Object(v.__decorate)([Object(O.a)(jl.SearchStudio),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SearchStudio]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"searchStudio",null),Object(v.__decorate)([Object(O.a)(jl.SearchStudioSuccess),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SearchStudioSuccess]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"searchStudioSuccess",null),Object(v.__decorate)([Object(O.a)(jl.SearchLoft),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SearchLoft]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"searchLoft",null),Object(v.__decorate)([Object(O.a)(jl.SearchLoftSuccess),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SearchLoftSuccess]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"searchLoftSuccess",null),Object(v.__decorate)([Object(O.a)(jl.SearchSuccess),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.SearchSuccess]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"searchSuccess",null),Object(v.__decorate)([Object(O.a)(jl.ClearResults),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.ClearResults]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"clearResults",null),Object(v.__decorate)([Object(O.a)(jl.Reset),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,jl.Reset]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetGallery",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getSearchMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getViewMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getSortOptions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getStudioOptions",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getSearchResults",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getStudioCategoryId",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Cd]),Object(v.__metadata)("design:returntype",void 0)],e,"getStudioQuery",null),Object(v.__decorate)([Object(O.g)({name:"gallery",defaults:Id})],e)}();!function(e){var t=function(){function e(){}return e.type="[Dialog] Open Premium Content",e}();e.OpenPremiumContent=t;var n=function(){function e(e){this.confirmed=e}return e.type="[Dialog] Close Premium Content",e}();e.ClosePremiumContent=n;var l=function(){function e(){}return e.type="[Dialog] Open Upgrade",e}();e.OpenUpgrade=l;var i=function(){function e(){}return e.type="[Dialog] Close Upgrade",e}();e.CloseUpgrade=i}(dd||(dd={}));var Kd=function(){function e(e,t,n){this.store=e,this.dialogRef=t,this.changeDetectorRef=n,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){var e=this;this.results$.subscribe((function(t){e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.store.dispatch(new jl.ClearResults),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleSelect=function(e){!e.premium||this.store.selectSnapshot(Va.isPremiumUser)?(this.store.dispatch(new jl.SelectBookmark(e)),this.dialogRef.close(e)):this.store.dispatch(new dd.OpenPremiumContent)},Object(v.__decorate)([Object(O.e)(Td.getViewMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewMode$",void 0),Object(v.__decorate)([Object(O.e)(Td.getLoading),Object(v.__metadata)("design:type",J.a)],e.prototype,"loading$",void 0),Object(v.__decorate)([Object(O.e)(Td.getSearchResults),Object(v.__metadata)("design:type",J.a)],e.prototype,"results$",void 0),Object(v.__decorate)([Object(O.e)(Va.isPremiumUser),Object(v.__metadata)("design:type",J.a)],e.prototype,"isPremiumUser$",void 0),e}(),zd=function(){return(zd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ud=function(){function e(e,t,n,l,i,o,a){this.store=e,this.actions=t,this.formBuilder=n,this.dialogRef=l,this.snackBar=i,this.storageService=o,this.data=a,this.ngUnsubscribe=new Z.a,this.settings=zd({},a);var r=this.store.selectSnapshot(ip.getOrganization);r&&this.store.dispatch(new Jn(r.id))}return e.prototype.ngOnInit=function(){var e=this,t="true"===this.storageService.getLocalItem(al.DefaultGroupEdit),n=this.storageService.getLocalItem(al.DefaultCollectionId);this.form=this.formBuilder.group({groupEditEnabled:[""+t,ge.x.required],collectionId:[n]}),this.form.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.groupEditEnabled,l=t.collectionId;n?e.storageService.setLocalItem(al.DefaultGroupEdit,n):e.storageService.removeLocalItem(al.DefaultGroupEdit),l?e.storageService.setLocalItem(al.DefaultCollectionId,l):e.storageService.removeLocalItem(al.DefaultCollectionId)})),this.actions.pipe(Object(O.l)(oi),Object(te.a)((function(t){return t.sourceId===e.settings.bookmark.id&&!!t.groupAccess})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.dialogRef.close(t.newId)})),this.actions.pipe(Object(O.l)(ai),Object(te.a)((function(t){return t.id===e.settings.bookmark.id})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.snackBar.open("Adding "+e.settings.bookmark.title+" to your team models has failed. Please try again")}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleSubmit=function(){this.form.valid&&this.addTeamModel(this.settings.bookmark)},e.prototype.addTeamModel=function(e){var t=this.form.value,n=t.groupEditEnabled,l=t.collectionId,i=this.store.selectSnapshot(ip.getOrganization),o=this.store.selectSnapshot(ip.getCollections),a=this.store.selectSnapshot(Va.getUserLocale).lang,r={group_id:i.id,member_edit:"true"===n,visible:!0},u=o.find((function(e){return""+e.collection_id===l}));this.store.dispatch(new ii(e.id,e.type,a,r,u))},Object(v.__decorate)([Object(O.e)(ip.getCollections),Object(v.__metadata)("design:type",J.a)],e.prototype,"collections$",void 0),Object(v.__decorate)([Object(O.e)(Tp.getCopying),Object(v.__metadata)("design:type",J.a)],e.prototype,"copying$",void 0),e}(),Ed=function(e){return e.ClipboardDialog="ClipboardDialog",e.WelcomeTourDialog="WelcomeTourDialog",e.JoinDomainDialog="JoinDomainDialog",e.NpsSurveyDialog="NpsSurveyDialog",e.ConfirmDialog="ConfirmDialog",e.LimitDialog="LimitDialog",e.UpgradeDialog="UpgradeDialog",e.BuyDialog="BuyDialog",e.ProfileDialog="ProfileDialog",e.SaveModuleDialog="SaveModuleDialog",e.SaveBookmarkDialog="SaveBookmarkDialog",e.SaveAsBookmarkDialog="SaveAsBookmarkDialog",e.ManageDialog="ManageDialog",e.BookmarkAccessDialog="BookmarkAccessDialog",e.GroupRestrictionDialog="GroupRestrictionDialog",e.PremiumContentDialog="PremiumContentDialog",e.AboutDialog="AboutDialog",e.ImportDialog="ImportDialog",e.AddTeamModelDialog="AddTeamModelDialog",e}({}),Ld=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ad=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ld(arguments[t]));return e},Fd=function(){function e(e,t,n,l){this.store=e,this.actions=t,this.fb=n,this.snackBar=l,this.presetBackgrounds="module"===u.exportType?Object(D.plainToClass)(Ja,Mc):Object(D.plainToClass)(Ja,Pc),this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){var e=this;this.initPresets(),this.initForm(),this.actions.pipe(Object(O.k)(Pa),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.snackBar.open("Successfully applied color to all chapters.")}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initPresets=function(){var e=this;this.presetBackground=this.store.selectSnapshot(Ac.getSelectedChapterBackground),this.background$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.presetBackground=t})),this.allChapterBackgrounds$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.distinctBackgrounds=t.filter((function(n,l){return t.findIndex((function(t){return e.backgroundsEqual(n,t)}))===l}))}))},e.prototype.initForm=function(){var e=this,t=this.store.selectSnapshot(Ac.getSelectedChapterBackground);this.form=this.fb.group({type:["solid",[ge.x.required]],color1:["",[ge.x.required]],stop1:[0,[ge.x.required,ge.x.min(0),ge.x.max(100)]],color2:["",[ge.x.required]],stop2:[100,[ge.x.required,ge.x.min(0),ge.x.max(100)]]}),this.form.valueChanges.pipe(Object(te.a)((function(){return e.customTab.isActive})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.applyFromCustom()})),t&&this.setCustomColorForm(t)},e.prototype.handleFormColorSelected=function(e,t){this.form.get(e).setValue(t)},e.prototype.handlePresetSelected=function(e){this.presetBackground=e,this.store.dispatch(new Ia(e))},e.prototype.handleResetClick=function(){this.store.dispatch(new Ma)},e.prototype.handleTabChange=function(e){this.customTab.isActive&&this.presetBackground&&this.setCustomColorForm(this.presetBackground)},e.prototype.backgroundsEqual=function(e,t){return Object(Et.isEqual)(e,t)},e.prototype.getBackgroundHex=function(e){var t=e.colors;return tt.rgbToHex([t[0],t[1],t[2]])},e.prototype.getFormBackgroundHex=function(e){return this.form.get(e).value},e.prototype.applyAll=function(){var e=this.form.value.type;if(this.presetTab.isActive)this.store.dispatch(new Pa(this.presetBackground));else if(this.customTab.isActive){var t=this.formToBackgroundColor(e);t&&this.store.dispatch(new Pa(t))}},e.prototype.applyFromCustom=function(){var e=this.formToBackgroundColor(this.form.value.type);e&&this.store.dispatch(new Ia(e))},e.prototype.setCustomColorForm=function(e){var t,n,l,i=e.colors,o=e.gradientType,a=e.colorStops,r=[i[0],i[1],i[2]],u=i.length<8?r:[i[4],i[5],i[6]];t=tt.rgbToHex(r,!1),n=tt.rgbToHex(u,!1),l=Ja.isTransparent(e)?"transparent":Object(Et.isEqual)(r,u)?"solid":o,this.form.patchValue({type:l,color1:t,stop1:a[0],color2:n,stop2:a[1]})},e.prototype.formToBackgroundColor=function(e){var t=this.form.value,n=t.color1,l=t.color2,i=t.stop1,o=t.stop2;if("transparent"===e)return Sc;if(!this.form.valid)return null;var a=[],r="radial"===e?"radial":"linear";return n&&a.push.apply(a,Ad(tt.hexToRgb(n,!1),[1])),a.push.apply(a,l&&"solid"!==e?Ad(tt.hexToRgb(l,!1),[1]):Ad(a)),new Ja(a,r,[i,o])},Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterBackground),Object(v.__metadata)("design:type",J.a)],e.prototype,"background$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getAllChaptersBackground),Object(v.__metadata)("design:type",J.a)],e.prototype,"allChapterBackgrounds$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterIndex),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterIndex$",void 0),e}(),Dd=n("o3x0"),Nd=function(){return(Nd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Rd=function(){function e(e){this.dialog=e}return Object.defineProperty(e.prototype,"isMobile",{get:function(){return window.innerWidth<=768},enumerable:!0,configurable:!0}),e.prototype.openClipboardDialog=function(e,t){var n=Nd({data:{id:Ed.ClipboardDialog,copyText:e}},t);return this.dialog.open(Ap,n)},e.prototype.openWelcomeTourDialog=function(e,t){var n=Nd({id:Ed.WelcomeTourDialog,disableClose:!0,data:{userType:"updated_tour"===e?Np.ExistingUser:Np.NewUser}},t);return this.dialog.open(Hp,n)},e.prototype.openJoinDomainDialog=function(e,t){var n=Nd({id:Ed.JoinDomainDialog,data:{organization:e}},t);return this.dialog.open(Vp,n)},e.prototype.openNpsSurveyDialog=function(e,t){var n=Nd({id:Ed.NpsSurveyDialog,data:{surveyGroupName:e}},t);return this.dialog.open(wd,n)},e.prototype.openConfirmDialog=function(e){var t=Nd({id:Ed.ConfirmDialog},e);return this.dialog.open(xp,t)},e.prototype.openLimitDialog=function(){return this.dialog.closeAll(),this.dialog.open(gp,{id:Ed.LimitDialog,width:"480px"})},e.prototype.openUpgradeDialog=function(e){var t={width:925,height:700},n=Nd({id:Ed.UpgradeDialog},{width:t.width+"px",height:t.height+"px",data:{type:mp.UpgradeSubscription,dimensions:t}},e);return this.dialog.closeAll(),this.dialog.open(fp,n)},e.prototype.openBuyDialog=function(e){var t={width:550,height:650},n=Nd({id:Ed.BuyDialog},{width:t.width+"px",height:t.height+"px",data:{type:mp.BuySubscription,dimensions:t}},e);return this.dialog.closeAll(),this.dialog.open(fp,n)},e.prototype.openProfileDialog=function(e,t){void 0===t&&(t="");var n={width:750,height:600},l=Nd({id:Ed.ProfileDialog},{width:n.width+"px",height:n.height+"px",data:{type:mp.MyProfile,dimensions:n,options:{show_tab:t}}},e);return this.dialog.closeAll(),this.dialog.open(fp,l)},e.prototype.openSaveModuleDialog=function(e,t){this.dialog.closeAll();var n=Nd({id:Ed.SaveModuleDialog},{width:"480px",data:{id:e}},t);return this.dialog.open(vd,n)},e.prototype.openSaveBookmarkDialog=function(e,t){return this._openSaveBookmarkDialog(Nd({id:Ed.SaveBookmarkDialog,data:{bookmark:e,mode:zp.SaveStory}},t))},e.prototype.openSaveAsBookmarkDialog=function(e,t,n,l){return this._openSaveBookmarkDialog(Nd({id:Ed.SaveBookmarkDialog,data:{title:e,bookmarkTitle:t,message:n,mode:zp.SaveStory}},l))},e.prototype.openManageDialog=function(e,t){return this._openSaveBookmarkDialog(Nd({id:Ed.SaveBookmarkDialog,data:{bookmark:e,mode:zp.Manage}},t))},e.prototype.openBookmarkAccessDialog=function(e,t){var n=Nd({id:Ed.BookmarkAccessDialog,width:"480px",data:{model:e}},t);return this.dialog.closeAll(),this.dialog.open(Up,n)},e.prototype.openGroupRestrictionDialog=function(e){var t=Nd({id:Ed.GroupRestrictionDialog},{width:"480px",height:"auto"},e);return this.dialog.open(Ep,t)},e.prototype.openPremiumContentDialog=function(){return this.openConfirmDialog({id:Ed.PremiumContentDialog,data:{titleText:"Premium Content",bodyText:this.isMobile?"This is premium content. Visit us on desktop to upgrade to a premium plan.":"This is premium content. Upgrade to a Premium Plan for unlimited access.",confirmText:"Go Premium",confirmEnabled:!this.isMobile,cancelText:"OK",confirmColor:"warn"}})},e.prototype.openAboutDialog=function(){return this.dialog.closeAll(),this.dialog.open($p,{id:Ed.AboutDialog})},e.prototype.openImportDialog=function(){return this.dialog.closeAll(),this.dialog.open(Kd,{id:Ed.ImportDialog,maxWidth:"90vw",width:"90vw",height:"90vh"})},e.prototype.openAddTeamModelDialog=function(e){return this.dialog.open(Ud,{id:Ed.AddTeamModelDialog,data:{bookmark:e}})},e.prototype.openBackgroundColorDialog=function(){return this.dialog.open(Fd,{backdropClass:"backdropClass",data:{}})},e.prototype._openSaveBookmarkDialog=function(e){var t=Nd({mode:zp.SaveStory},e);return this.dialog.closeAll(),this.dialog.open(Up,t)},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(Dd.e))},token:e,providedIn:"root"}),e}(),Bd=n("vARd"),Hd=l.wb({encapsulation:0,styles:[[".publish[_ngcontent-%COMP%]{display:grid;grid-template-columns:320px auto;grid-template-rows:1fr auto;height:100%;grid-template-areas:'options embed' 'actions embed'}.publish__options[_ngcontent-%COMP%]{grid-area:options;overflow-y:scroll}.publish__screens[_ngcontent-%COMP%]{grid-area:screens;text-align:center}.publish__embed[_ngcontent-%COMP%]{grid-area:embed;background-color:#fff;border-left:1px solid #eaeff5;overflow:auto}.publish__actions[_ngcontent-%COMP%]{grid-area:actions}.publish__actions[_ngcontent-%COMP%]:before{content:' ';display:block;background-color:#fff;height:12px;box-shadow:inset 0 -12px 8px -10px rgba(150,168,192,.4)}.publish__actions-content[_ngcontent-%COMP%]{padding:0 20px 0 8px}.publish__group[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;-webkit-box-align:center;align-items:center}.publish__flex-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.publish__input[_ngcontent-%COMP%]{width:100px;min-height:28px;padding:6px 8px}.publish__picker[_ngcontent-%COMP%]{width:60px}"]],data:{}});function Vd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,22,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,be,pe)),l.xb(2,114688,null,0,se,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.yb(3,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,4)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,4).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,4)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,4)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,5).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,5).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,5).onTouched()&&i),i}),null,null)),l.xb(4,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(5,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(7,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(9,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(10,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(11,null,["Min. ","px"])),(e()(),l.yb(12,0,null,null,10,"app-form-field",[["display","inline"],["label","Height"],["theme","light"]],null,null,null,be,pe)),l.xb(13,114688,null,0,se,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.yb(14,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,15)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,15).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,15)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,15)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,16).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,16).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,16).onTouched()&&i),i}),null,null)),l.xb(15,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(16,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(18,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(20,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(21,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(22,null,["Min. ","px"]))],(function(e,t){e(t,2,0,"Width","inline","light",!0),e(t,7,0,"width"),e(t,13,0,"Height","inline","light",!0),e(t,18,0,"height")}),(function(e,t){e(t,3,0,l.Kb(t,9).ngClassUntouched,l.Kb(t,9).ngClassTouched,l.Kb(t,9).ngClassPristine,l.Kb(t,9).ngClassDirty,l.Kb(t,9).ngClassValid,l.Kb(t,9).ngClassInvalid,l.Kb(t,9).ngClassPending),e(t,11,0,t.context.ngIf.width),e(t,14,0,l.Kb(t,20).ngClassUntouched,l.Kb(t,20).ngClassTouched,l.Kb(t,20).ngClassPristine,l.Kb(t,20).ngClassDirty,l.Kb(t,20).ngClassValid,l.Kb(t,20).ngClassInvalid,l.Kb(t,20).ngClassPending),e(t,22,0,t.context.ngIf.height)}))}function $d(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"app-panel",[["formGroupName","dimensions"],["label","Size"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(2,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(4,16384,null,0,ge.p,[[4,ge.c]],null,null),l.xb(5,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.ob(16777216,null,1,2,null,Vd)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,"dimensions"),e(t,5,0,"Size"),e(t,7,0,l.Tb(t,7,0,l.Kb(t,8).transform(n.minDimensions$)))}),(function(e,t){e(t,0,0,l.Kb(t,4).ngClassUntouched,l.Kb(t,4).ngClassTouched,l.Kb(t,4).ngClassPristine,l.Kb(t,4).ngClassDirty,l.Kb(t,4).ngClassValid,l.Kb(t,4).ngClassInvalid,l.Kb(t,4).ngClassPending)}))}function Qd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"app-form-field",[["label","Degrees"],["theme","light"]],null,null,null,be,pe)),l.xb(1,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"],isCompact:[2,"isCompact"]},null),(e()(),l.yb(2,0,null,0,6,"input",[["class","publish__input input"],["formControlName","value"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,3)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,4).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,4).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,4).onTouched()&&i),i}),null,null)),l.xb(3,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(4,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(6,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(8,16384,null,0,ge.o,[[4,ge.n]],null,null)],(function(e,t){e(t,1,0,"Degrees","light",!0),e(t,6,0,"value")}),(function(e,t){e(t,2,0,l.Kb(t,8).ngClassUntouched,l.Kb(t,8).ngClassTouched,l.Kb(t,8).ngClassPristine,l.Kb(t,8).ngClassDirty,l.Kb(t,8).ngClassValid,l.Kb(t,8).ngClassInvalid,l.Kb(t,8).ngClassPending)}))}function Wd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,163,null,null,null,null,(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,1).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,1).onReset()&&i),i}),null,null)),l.xb(1,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(3,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.ob(16777216,null,null,2,null,$d)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(7,0,null,null,76,"app-panel",[["formGroupName","options"],["label","Display Options"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(9,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(11,16384,null,0,ge.p,[[4,ge.c]],null,null),l.xb(12,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.yb(13,0,null,1,70,"div",[["class","publish__group"]],null,null,null,null,null)),(e()(),l.yb(14,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiInfo"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(15,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(17,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(19,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Information Panel"])),(e()(),l.yb(21,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiNav"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(22,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(24,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(26,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["3D Navigation"])),(e()(),l.yb(28,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiSearch"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(29,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(31,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(33,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Search"])),(e()(),l.yb(35,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiTools"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(36,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(38,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(40,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Edit Toolbar"])),(e()(),l.yb(42,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiReset"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(43,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(45,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(47,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Reset"])),(e()(),l.yb(49,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiHelp"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(50,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(52,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(54,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Help"])),(e()(),l.yb(56,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiFullscreen"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(57,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(59,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(61,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Fullscreen"])),(e()(),l.yb(63,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiChapterList"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(64,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(66,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(68,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Chapter List"])),(e()(),l.yb(70,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiLabelList"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(71,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(73,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(75,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Label List"])),(e()(),l.yb(77,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiAnatomyDescriptions"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(78,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(80,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(82,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Anatomy Descriptions"])),(e()(),l.yb(84,0,null,null,79,"app-panel",[["label","Loading Experience"]],null,null,null,Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(86,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.yb(87,0,null,1,12,"div",[["class","mb-1"],["formGroupName","rotate"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(88,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(90,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(91,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(92,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(94,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(96,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Rotate 3D Model"])),(e()(),l.ob(16777216,null,null,1,null,Qd)),l.xb(99,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(100,0,null,1,27,"div",[["class","mb-2"],["formGroupName","initial"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(101,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(103,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(104,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(105,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(107,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(109,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,['Show "Click to Interact" hint'])),(e()(),l.yb(111,0,null,null,16,"div",[["class","m-1 ml-5"]],null,null,null,null,null)),(e()(),l.yb(112,0,null,null,15,"mat-radio-group",[["class","publish__group mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(113,1064960,null,1,Ie.c,[l.i],null,null),l.Qb(603979776,3,{_radios:1}),l.Pb(1024,null,ge.m,(function(e){return[e]}),[Ie.c]),l.xb(116,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(118,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(119,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","button"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,120)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(120,4440064,[[3,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Button"])),(e()(),l.yb(122,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","handHint"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,123)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(123,4440064,[[3,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Animated hand"])),(e()(),l.yb(125,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","play"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,126)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(126,4440064,[[3,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Play"])),(e()(),l.yb(128,0,null,1,10,"div",[["formGroupName","options"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(129,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(131,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(132,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiTutorial"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(133,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(135,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(137,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Getting Started Tutorial"])),(e()(),l.yb(139,0,null,1,24,"div",[["formGroupName","disableScroll"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(140,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(142,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(143,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(144,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(146,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(148,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.Sb(-1,0,["Disable scroll wheel zooming"])),(e()(),l.yb(150,0,null,null,13,"div",[["class","m-1 ml-5"]],null,null,null,null,null)),(e()(),l.yb(151,0,null,null,12,"mat-radio-group",[["class","publish__group mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(152,1064960,null,1,Ie.c,[l.i],null,null),l.Qb(603979776,4,{_radios:1}),l.Pb(1024,null,ge.m,(function(e){return[e]}),[Ie.c]),l.xb(155,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(157,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(158,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","alert"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,159)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(159,4440064,[[4,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Show alert"])),(e()(),l.yb(161,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","overlay"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,162)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(162,4440064,[[4,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Do not show alert"]))],(function(e,t){var n=t.component;e(t,1,0,n.form),e(t,5,0,l.Tb(t,5,0,l.Kb(t,6).transform(n.dimensions$))),e(t,9,0,"options"),e(t,12,0,"Display Options"),e(t,17,0,"uiInfo"),e(t,24,0,"uiNav"),e(t,31,0,"uiSearch"),e(t,38,0,"uiTools"),e(t,45,0,"uiReset"),e(t,52,0,"uiHelp"),e(t,59,0,"uiFullscreen"),e(t,66,0,"uiChapterList"),e(t,73,0,"uiLabelList"),e(t,80,0,"uiAnatomyDescriptions"),e(t,86,0,"Loading Experience"),e(t,88,0,"rotate"),e(t,94,0,"enabled"),e(t,99,0,n.rotateEnabled),e(t,101,0,"initial"),e(t,107,0,"enabled"),e(t,116,0,"mode"),e(t,120,0,"button"),e(t,123,0,"handHint"),e(t,126,0,"play"),e(t,129,0,"options"),e(t,135,0,"uiTutorial"),e(t,140,0,"disableScroll"),e(t,146,0,"enabled"),e(t,155,0,"mode"),e(t,159,0,"alert"),e(t,162,0,"overlay")}),(function(e,t){e(t,7,0,l.Kb(t,11).ngClassUntouched,l.Kb(t,11).ngClassTouched,l.Kb(t,11).ngClassPristine,l.Kb(t,11).ngClassDirty,l.Kb(t,11).ngClassValid,l.Kb(t,11).ngClassInvalid,l.Kb(t,11).ngClassPending),e(t,14,1,[l.Kb(t,15).id,null,l.Kb(t,15).indeterminate,l.Kb(t,15).checked,l.Kb(t,15).disabled,"before"==l.Kb(t,15).labelPosition,"NoopAnimations"===l.Kb(t,15)._animationMode,l.Kb(t,19).ngClassUntouched,l.Kb(t,19).ngClassTouched,l.Kb(t,19).ngClassPristine,l.Kb(t,19).ngClassDirty,l.Kb(t,19).ngClassValid,l.Kb(t,19).ngClassInvalid,l.Kb(t,19).ngClassPending]),e(t,21,1,[l.Kb(t,22).id,null,l.Kb(t,22).indeterminate,l.Kb(t,22).checked,l.Kb(t,22).disabled,"before"==l.Kb(t,22).labelPosition,"NoopAnimations"===l.Kb(t,22)._animationMode,l.Kb(t,26).ngClassUntouched,l.Kb(t,26).ngClassTouched,l.Kb(t,26).ngClassPristine,l.Kb(t,26).ngClassDirty,l.Kb(t,26).ngClassValid,l.Kb(t,26).ngClassInvalid,l.Kb(t,26).ngClassPending]),e(t,28,1,[l.Kb(t,29).id,null,l.Kb(t,29).indeterminate,l.Kb(t,29).checked,l.Kb(t,29).disabled,"before"==l.Kb(t,29).labelPosition,"NoopAnimations"===l.Kb(t,29)._animationMode,l.Kb(t,33).ngClassUntouched,l.Kb(t,33).ngClassTouched,l.Kb(t,33).ngClassPristine,l.Kb(t,33).ngClassDirty,l.Kb(t,33).ngClassValid,l.Kb(t,33).ngClassInvalid,l.Kb(t,33).ngClassPending]),e(t,35,1,[l.Kb(t,36).id,null,l.Kb(t,36).indeterminate,l.Kb(t,36).checked,l.Kb(t,36).disabled,"before"==l.Kb(t,36).labelPosition,"NoopAnimations"===l.Kb(t,36)._animationMode,l.Kb(t,40).ngClassUntouched,l.Kb(t,40).ngClassTouched,l.Kb(t,40).ngClassPristine,l.Kb(t,40).ngClassDirty,l.Kb(t,40).ngClassValid,l.Kb(t,40).ngClassInvalid,l.Kb(t,40).ngClassPending]),e(t,42,1,[l.Kb(t,43).id,null,l.Kb(t,43).indeterminate,l.Kb(t,43).checked,l.Kb(t,43).disabled,"before"==l.Kb(t,43).labelPosition,"NoopAnimations"===l.Kb(t,43)._animationMode,l.Kb(t,47).ngClassUntouched,l.Kb(t,47).ngClassTouched,l.Kb(t,47).ngClassPristine,l.Kb(t,47).ngClassDirty,l.Kb(t,47).ngClassValid,l.Kb(t,47).ngClassInvalid,l.Kb(t,47).ngClassPending]),e(t,49,1,[l.Kb(t,50).id,null,l.Kb(t,50).indeterminate,l.Kb(t,50).checked,l.Kb(t,50).disabled,"before"==l.Kb(t,50).labelPosition,"NoopAnimations"===l.Kb(t,50)._animationMode,l.Kb(t,54).ngClassUntouched,l.Kb(t,54).ngClassTouched,l.Kb(t,54).ngClassPristine,l.Kb(t,54).ngClassDirty,l.Kb(t,54).ngClassValid,l.Kb(t,54).ngClassInvalid,l.Kb(t,54).ngClassPending]),e(t,56,1,[l.Kb(t,57).id,null,l.Kb(t,57).indeterminate,l.Kb(t,57).checked,l.Kb(t,57).disabled,"before"==l.Kb(t,57).labelPosition,"NoopAnimations"===l.Kb(t,57)._animationMode,l.Kb(t,61).ngClassUntouched,l.Kb(t,61).ngClassTouched,l.Kb(t,61).ngClassPristine,l.Kb(t,61).ngClassDirty,l.Kb(t,61).ngClassValid,l.Kb(t,61).ngClassInvalid,l.Kb(t,61).ngClassPending]),e(t,63,1,[l.Kb(t,64).id,null,l.Kb(t,64).indeterminate,l.Kb(t,64).checked,l.Kb(t,64).disabled,"before"==l.Kb(t,64).labelPosition,"NoopAnimations"===l.Kb(t,64)._animationMode,l.Kb(t,68).ngClassUntouched,l.Kb(t,68).ngClassTouched,l.Kb(t,68).ngClassPristine,l.Kb(t,68).ngClassDirty,l.Kb(t,68).ngClassValid,l.Kb(t,68).ngClassInvalid,l.Kb(t,68).ngClassPending]),e(t,70,1,[l.Kb(t,71).id,null,l.Kb(t,71).indeterminate,l.Kb(t,71).checked,l.Kb(t,71).disabled,"before"==l.Kb(t,71).labelPosition,"NoopAnimations"===l.Kb(t,71)._animationMode,l.Kb(t,75).ngClassUntouched,l.Kb(t,75).ngClassTouched,l.Kb(t,75).ngClassPristine,l.Kb(t,75).ngClassDirty,l.Kb(t,75).ngClassValid,l.Kb(t,75).ngClassInvalid,l.Kb(t,75).ngClassPending]),e(t,77,1,[l.Kb(t,78).id,null,l.Kb(t,78).indeterminate,l.Kb(t,78).checked,l.Kb(t,78).disabled,"before"==l.Kb(t,78).labelPosition,"NoopAnimations"===l.Kb(t,78)._animationMode,l.Kb(t,82).ngClassUntouched,l.Kb(t,82).ngClassTouched,l.Kb(t,82).ngClassPristine,l.Kb(t,82).ngClassDirty,l.Kb(t,82).ngClassValid,l.Kb(t,82).ngClassInvalid,l.Kb(t,82).ngClassPending]),e(t,87,0,l.Kb(t,90).ngClassUntouched,l.Kb(t,90).ngClassTouched,l.Kb(t,90).ngClassPristine,l.Kb(t,90).ngClassDirty,l.Kb(t,90).ngClassValid,l.Kb(t,90).ngClassInvalid,l.Kb(t,90).ngClassPending),e(t,91,1,[l.Kb(t,92).id,null,l.Kb(t,92).indeterminate,l.Kb(t,92).checked,l.Kb(t,92).disabled,"before"==l.Kb(t,92).labelPosition,"NoopAnimations"===l.Kb(t,92)._animationMode,l.Kb(t,96).ngClassUntouched,l.Kb(t,96).ngClassTouched,l.Kb(t,96).ngClassPristine,l.Kb(t,96).ngClassDirty,l.Kb(t,96).ngClassValid,l.Kb(t,96).ngClassInvalid,l.Kb(t,96).ngClassPending]),e(t,100,0,l.Kb(t,103).ngClassUntouched,l.Kb(t,103).ngClassTouched,l.Kb(t,103).ngClassPristine,l.Kb(t,103).ngClassDirty,l.Kb(t,103).ngClassValid,l.Kb(t,103).ngClassInvalid,l.Kb(t,103).ngClassPending),e(t,104,1,[l.Kb(t,105).id,null,l.Kb(t,105).indeterminate,l.Kb(t,105).checked,l.Kb(t,105).disabled,"before"==l.Kb(t,105).labelPosition,"NoopAnimations"===l.Kb(t,105)._animationMode,l.Kb(t,109).ngClassUntouched,l.Kb(t,109).ngClassTouched,l.Kb(t,109).ngClassPristine,l.Kb(t,109).ngClassDirty,l.Kb(t,109).ngClassValid,l.Kb(t,109).ngClassInvalid,l.Kb(t,109).ngClassPending]),e(t,112,0,l.Kb(t,118).ngClassUntouched,l.Kb(t,118).ngClassTouched,l.Kb(t,118).ngClassPristine,l.Kb(t,118).ngClassDirty,l.Kb(t,118).ngClassValid,l.Kb(t,118).ngClassInvalid,l.Kb(t,118).ngClassPending),e(t,119,1,[l.Kb(t,120).checked,l.Kb(t,120).disabled,"NoopAnimations"===l.Kb(t,120)._animationMode,"primary"===l.Kb(t,120).color,"accent"===l.Kb(t,120).color,"warn"===l.Kb(t,120).color,-1,l.Kb(t,120).id,null,null,null]),e(t,122,1,[l.Kb(t,123).checked,l.Kb(t,123).disabled,"NoopAnimations"===l.Kb(t,123)._animationMode,"primary"===l.Kb(t,123).color,"accent"===l.Kb(t,123).color,"warn"===l.Kb(t,123).color,-1,l.Kb(t,123).id,null,null,null]),e(t,125,1,[l.Kb(t,126).checked,l.Kb(t,126).disabled,"NoopAnimations"===l.Kb(t,126)._animationMode,"primary"===l.Kb(t,126).color,"accent"===l.Kb(t,126).color,"warn"===l.Kb(t,126).color,-1,l.Kb(t,126).id,null,null,null]),e(t,128,0,l.Kb(t,131).ngClassUntouched,l.Kb(t,131).ngClassTouched,l.Kb(t,131).ngClassPristine,l.Kb(t,131).ngClassDirty,l.Kb(t,131).ngClassValid,l.Kb(t,131).ngClassInvalid,l.Kb(t,131).ngClassPending),e(t,132,1,[l.Kb(t,133).id,null,l.Kb(t,133).indeterminate,l.Kb(t,133).checked,l.Kb(t,133).disabled,"before"==l.Kb(t,133).labelPosition,"NoopAnimations"===l.Kb(t,133)._animationMode,l.Kb(t,137).ngClassUntouched,l.Kb(t,137).ngClassTouched,l.Kb(t,137).ngClassPristine,l.Kb(t,137).ngClassDirty,l.Kb(t,137).ngClassValid,l.Kb(t,137).ngClassInvalid,l.Kb(t,137).ngClassPending]),e(t,139,0,l.Kb(t,142).ngClassUntouched,l.Kb(t,142).ngClassTouched,l.Kb(t,142).ngClassPristine,l.Kb(t,142).ngClassDirty,l.Kb(t,142).ngClassValid,l.Kb(t,142).ngClassInvalid,l.Kb(t,142).ngClassPending),e(t,143,1,[l.Kb(t,144).id,null,l.Kb(t,144).indeterminate,l.Kb(t,144).checked,l.Kb(t,144).disabled,"before"==l.Kb(t,144).labelPosition,"NoopAnimations"===l.Kb(t,144)._animationMode,l.Kb(t,148).ngClassUntouched,l.Kb(t,148).ngClassTouched,l.Kb(t,148).ngClassPristine,l.Kb(t,148).ngClassDirty,l.Kb(t,148).ngClassValid,l.Kb(t,148).ngClassInvalid,l.Kb(t,148).ngClassPending]),e(t,151,0,l.Kb(t,157).ngClassUntouched,l.Kb(t,157).ngClassTouched,l.Kb(t,157).ngClassPristine,l.Kb(t,157).ngClassDirty,l.Kb(t,157).ngClassValid,l.Kb(t,157).ngClassInvalid,l.Kb(t,157).ngClassPending),e(t,158,1,[l.Kb(t,159).checked,l.Kb(t,159).disabled,"NoopAnimations"===l.Kb(t,159)._animationMode,"primary"===l.Kb(t,159).color,"accent"===l.Kb(t,159).color,"warn"===l.Kb(t,159).color,-1,l.Kb(t,159).id,null,null,null]),e(t,161,1,[l.Kb(t,162).checked,l.Kb(t,162).disabled,"NoopAnimations"===l.Kb(t,162)._animationMode,"primary"===l.Kb(t,162).color,"accent"===l.Kb(t,162).color,"warn"===l.Kb(t,162).color,-1,l.Kb(t,162).id,null,null,null])}))}function Gd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleSnapshotSizeClick(e.context.$implicit)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[6,4],[7,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(2,0,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null),e(t,2,0,n.formatScreenSizeText(t.context.$implicit))}))}function qd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,113,null,null,null,null,(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,1).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,1).onReset()&&i),i}),null,null)),l.xb(1,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(3,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(4,0,null,null,78,"app-panel",[["label","Size"]],null,null,null,Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(6,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.yb(7,0,null,1,75,"app-tabs",[],null,null,null,He,Ne)),l.xb(8,1294336,null,1,De,[l.i],null,null),l.Qb(603979776,5,{_tabs:1}),(e()(),l.yb(10,0,null,0,42,"app-tab",[["label","Pixels"]],null,null,null,Qe,Ve)),l.xb(11,114688,[[5,4]],0,Ee,[l.i],{label:[0,"label"]},null),(e()(),l.yb(12,16777216,null,0,5,"button",[["app-button",""],["aria-haspopup","true"],["buttonTheme","light"],["buttonType","outline"],["class","mt-2 mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Kb(e,13)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,13)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,13)._handleClick(n)&&i),i}),et,Je)),l.xb(13,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[8,null],[2,lt.b],ve.e],{menu:[0,"menu"]},null),l.xb(14,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],uppercase:[2,"uppercase"]},null),(e()(),l.Sb(15,0,[" "," "])),(e()(),l.yb(16,0,null,0,1,"app-icon",[["class","ml-1"],["icon","caret-down"]],null,null,null,fe,me)),l.xb(17,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(18,0,null,0,8,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(21,1294336,[["imageSizes",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,6,{_allItems:1}),l.Qb(603979776,7,{items:1}),l.Qb(603979776,8,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,Gd)),l.xb(26,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(27,0,null,0,25,"div",[["class","publish__flex-group mt-2"],["formGroupName","dimensions"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(28,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(30,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(31,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,be,pe)),l.xb(32,114688,null,0,se,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.yb(33,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,34)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,34).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,34)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,34)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,35).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,35).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,35).onTouched()&&i),i}),null,null)),l.xb(34,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(35,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(37,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(39,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(40,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(41,null,["","px to ","px"])),(e()(),l.yb(42,0,null,null,10,"app-form-field",[["display","inline"],["label","Height"],["theme","light"]],null,null,null,be,pe)),l.xb(43,114688,null,0,se,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.yb(44,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,45)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,45).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,45)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,45)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,46).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,46).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,46).onTouched()&&i),i}),null,null)),l.xb(45,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(46,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(48,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(50,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(51,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(52,null,["","px to ","px"])),(e()(),l.yb(53,0,null,0,29,"app-tab",[["label","Inches"]],null,null,null,Qe,Ve)),l.xb(54,114688,[[5,4]],0,Ee,[l.i],{label:[0,"label"]},null),(e()(),l.yb(55,0,null,0,25,"div",[["class","publish__flex-group mt-2"],["formGroupName","inches"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(56,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(58,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(59,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,be,pe)),l.xb(60,114688,null,0,se,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.yb(61,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["step",".01"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,62)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,62).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,62)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,62)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,63).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,63).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,63).onTouched()&&i),i}),null,null)),l.xb(62,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(63,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(65,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(67,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(68,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(69,null,["",'" to ','"'])),(e()(),l.yb(70,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Height"],["theme","light"]],null,null,null,be,pe)),l.xb(71,114688,null,0,se,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.yb(72,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["step",".01"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,73)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,73).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,73)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,73)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,74).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,74).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,74).onTouched()&&i),i}),null,null)),l.xb(73,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(74,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(76,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(78,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(79,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(80,null,["",'" to ','"'])),(e()(),l.yb(81,0,null,0,1,"div",[["class","pt-2 text-small text-dim"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Images are published at 300 dpi"])),(e()(),l.yb(83,0,null,null,18,"app-panel",[["label","Image Type"]],null,null,null,Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(85,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.yb(86,0,null,1,15,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.yb(87,0,null,null,14,"mat-radio-group",[["class","mat-radio-group"],["formControlName","imageType"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(88,1064960,null,1,Ie.c,[l.i],null,null),l.Qb(603979776,9,{_radios:1}),l.Pb(1024,null,ge.m,(function(e){return[e]}),[Ie.c]),l.xb(91,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(93,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(94,16777216,null,null,3,"mat-radio-button",[["class","mr-2 mat-radio-button"],["matTooltip","Smallest file size, best for most uses."]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,95)._inputElement.nativeElement.focus()&&i),"longpress"===t&&(i=!1!==l.Kb(e,96).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,96)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,96)._handleTouchend()&&i),i}),Te.b,Te.a)),l.xb(95,4440064,[[9,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),l.xb(96,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),(e()(),l.Sb(-1,0,["JPEG"])),(e()(),l.yb(98,16777216,null,null,3,"mat-radio-button",[["class","mat-radio-button"],["matTooltip","Highest quality, best for print and offline use."]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,99)._inputElement.nativeElement.focus()&&i),"longpress"===t&&(i=!1!==l.Kb(e,100).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,100)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,100)._handleTouchend()&&i),i}),Te.b,Te.a)),l.xb(99,4440064,[[9,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),l.xb(100,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),(e()(),l.Sb(-1,0,["PNG"])),(e()(),l.yb(102,0,null,null,8,"app-panel",[["label","Background Color"]],null,null,null,Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(104,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.yb(105,0,null,1,5,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.yb(106,0,null,null,1,"app-color-picker",[["alphaEnabled","false"],["class","publish__picker"],["size","normal"]],null,[[null,"colorSelected"]],(function(e,t,n){var l=!0;return"colorSelected"===t&&(l=!1!==e.component.handleSnapshotBGColorClick(n)&&l),l}),gt,bt)),l.xb(107,114688,null,0,dt,[],{color:[0,"color"],size:[1,"size"],alphaEnabled:[2,"alphaEnabled"]},{colorSelected:"colorSelected"}),(e()(),l.yb(108,0,null,null,2,"button",[["app-button",""],["buttonSize","xsmall"],["buttonTheme","light"],["buttonType","outline"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSnapshotBGColorClick(null)&&l),l}),et,Je)),l.xb(109,114688,null,0,Ze,[],{buttonSize:[0,"buttonSize"],buttonType:[1,"buttonType"],buttonTheme:[2,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Reset Color"])),(e()(),l.yb(111,0,null,null,2,"div",[["class","mt-4"]],null,null,null,null,null)),(e()(),l.yb(112,0,null,null,1,"a",[["class","text-link"],["href","https://www.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Read about our Terms of Use"]))],(function(e,t){var n=t.component;e(t,1,0,n.formSnapshot),e(t,6,0,"Size"),e(t,8,0),e(t,11,0,"Pixels"),e(t,13,0,l.Kb(t,21)),e(t,14,0,"outline","light",!1),e(t,17,0,"caret-down"),e(t,21,0),e(t,26,0,n.snapshotSizes),e(t,28,0,"dimensions"),e(t,32,0,"Width","inline","light",!0),e(t,37,0,"width"),e(t,43,0,"Height","inline","light",!0),e(t,48,0,"height"),e(t,54,0,"Inches"),e(t,56,0,"inches"),e(t,60,0,"Width","inline","light",!0),e(t,65,0,"width"),e(t,71,0,"Height","inline","light",!0),e(t,76,0,"height"),e(t,85,0,"Image Type"),e(t,91,0,"imageType"),e(t,95,0,n.imageTypeEnum.JPEG),e(t,96,0,"Smallest file size, best for most uses."),e(t,99,0,n.imageTypeEnum.PNG),e(t,100,0,"Highest quality, best for print and offline use."),e(t,104,0,"Background Color"),e(t,107,0,n.snapshotBGColor,"normal","false"),e(t,109,0,"xsmall","outline","light")}),(function(e,t){var n=t.component;e(t,12,0,l.Kb(t,13).menuOpen||null,l.Kb(t,14).disabled),e(t,15,0,n.formatScreenSizeText(n.selectedSnapshotSize)),e(t,27,0,l.Kb(t,30).ngClassUntouched,l.Kb(t,30).ngClassTouched,l.Kb(t,30).ngClassPristine,l.Kb(t,30).ngClassDirty,l.Kb(t,30).ngClassValid,l.Kb(t,30).ngClassInvalid,l.Kb(t,30).ngClassPending),e(t,33,0,n.minSnapshotPixels.width,n.maxSnapshotPixels.width,l.Kb(t,39).ngClassUntouched,l.Kb(t,39).ngClassTouched,l.Kb(t,39).ngClassPristine,l.Kb(t,39).ngClassDirty,l.Kb(t,39).ngClassValid,l.Kb(t,39).ngClassInvalid,l.Kb(t,39).ngClassPending),e(t,41,0,n.minSnapshotPixels.width,n.maxSnapshotPixels.width),e(t,44,0,n.minSnapshotPixels.height,n.maxSnapshotPixels.height,l.Kb(t,50).ngClassUntouched,l.Kb(t,50).ngClassTouched,l.Kb(t,50).ngClassPristine,l.Kb(t,50).ngClassDirty,l.Kb(t,50).ngClassValid,l.Kb(t,50).ngClassInvalid,l.Kb(t,50).ngClassPending),e(t,52,0,n.minSnapshotPixels.height,n.maxSnapshotPixels.height),e(t,55,0,l.Kb(t,58).ngClassUntouched,l.Kb(t,58).ngClassTouched,l.Kb(t,58).ngClassPristine,l.Kb(t,58).ngClassDirty,l.Kb(t,58).ngClassValid,l.Kb(t,58).ngClassInvalid,l.Kb(t,58).ngClassPending),e(t,61,0,n.minSnapshotInches.width,n.maxSnapshotInches.width,l.Kb(t,67).ngClassUntouched,l.Kb(t,67).ngClassTouched,l.Kb(t,67).ngClassPristine,l.Kb(t,67).ngClassDirty,l.Kb(t,67).ngClassValid,l.Kb(t,67).ngClassInvalid,l.Kb(t,67).ngClassPending),e(t,69,0,n.minSnapshotInches.width,n.maxSnapshotInches.width),e(t,72,0,n.minSnapshotInches.height,n.maxSnapshotInches.height,l.Kb(t,78).ngClassUntouched,l.Kb(t,78).ngClassTouched,l.Kb(t,78).ngClassPristine,l.Kb(t,78).ngClassDirty,l.Kb(t,78).ngClassValid,l.Kb(t,78).ngClassInvalid,l.Kb(t,78).ngClassPending),e(t,80,0,n.minSnapshotInches.height,n.maxSnapshotInches.height),e(t,87,0,l.Kb(t,93).ngClassUntouched,l.Kb(t,93).ngClassTouched,l.Kb(t,93).ngClassPristine,l.Kb(t,93).ngClassDirty,l.Kb(t,93).ngClassValid,l.Kb(t,93).ngClassInvalid,l.Kb(t,93).ngClassPending),e(t,94,1,[l.Kb(t,95).checked,l.Kb(t,95).disabled,"NoopAnimations"===l.Kb(t,95)._animationMode,"primary"===l.Kb(t,95).color,"accent"===l.Kb(t,95).color,"warn"===l.Kb(t,95).color,-1,l.Kb(t,95).id,null,null,null]),e(t,98,1,[l.Kb(t,99).checked,l.Kb(t,99).disabled,"NoopAnimations"===l.Kb(t,99)._animationMode,"primary"===l.Kb(t,99).color,"accent"===l.Kb(t,99).color,"warn"===l.Kb(t,99).color,-1,l.Kb(t,99).id,null,null,null]),e(t,108,0,l.Kb(t,109).disabled)}))}function Yd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","text-12 p-2 mt-2 mb-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Make this model available to anyone by publishing it to the web. "])),(e()(),l.yb(3,0,null,null,6,"div",[["class","publish__actions-content"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateIFrame()&&l),l}),et,Je)),l.xb(5,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Sb(-1,0,["Copy embed"])),(e()(),l.yb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateURL()&&l),l}),et,Je)),l.xb(8,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Sb(-1,0,["Copy URL"]))],(function(e,t){var n=t.component;e(t,5,0,"flat","light",!n.form.valid),e(t,8,0,"flat","light",!n.form.valid)}),(function(e,t){e(t,4,0,l.Kb(t,5).disabled),e(t,7,0,l.Kb(t,8).disabled)}))}function Xd(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","text-12 p-2 mt-2 mb-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Download this image or make it available to anyone by publishing it to the web. "])),(e()(),l.yb(3,0,null,null,9,"div",[["class","publish__actions-content"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDownloadSnapClick()&&l),l}),et,Je)),l.xb(5,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Sb(-1,0,["Download"])),(e()(),l.yb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCopyImageURL()&&l),l}),et,Je)),l.xb(8,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Sb(-1,0,["Copy URL"])),(e()(),l.yb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateImage()&&l),l}),et,Je)),l.xb(11,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Sb(-1,0,["Copy Embed"]))],(function(e,t){var n=t.component;e(t,5,0,"flat","light",!n.formSnapshot.valid),e(t,8,0,"flat","light",!n.formSnapshot.valid),e(t,11,0,"flat","light",!n.formSnapshot.valid)}),(function(e,t){e(t,4,0,l.Kb(t,5).disabled),e(t,7,0,l.Kb(t,8).disabled),e(t,10,0,l.Kb(t,11).disabled)}))}function Zd(e){return l.Ub(2,[l.Qb(402653184,1,{publishWidget:0}),(e()(),l.yb(1,0,null,null,33,"div",[["class","publish theme-light"]],null,null,null,null,null)),l.xb(2,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.yb(3,0,null,null,24,"div",[["class","publish__options text-12"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,19,"app-panel",[["label","Select a format to publish:"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,6).onReset()&&i),i}),Me,Ce)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[we]),l.xb(6,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(8,16384,null,0,ge.p,[[4,ge.c]],null,null),l.xb(9,114688,null,0,we,[l.i],{label:[0,"label"]},null),(e()(),l.yb(10,0,null,1,13,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.yb(11,0,null,null,12,"mat-radio-group",[["class","mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(12,1064960,null,1,Ie.c,[l.i],null,null),l.Qb(603979776,2,{_radios:1}),l.Pb(1024,null,ge.m,(function(e){return[e]}),[Ie.c]),l.xb(15,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(17,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(18,0,null,null,2,"mat-radio-button",[["class","mr-2 mat-radio-button"],["value","3d"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,19)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(19,4440064,[[2,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["3D Embeddable"])),(e()(),l.yb(21,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","2d"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,22)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(22,4440064,[[2,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Image"])),(e()(),l.ob(16777216,null,null,1,null,Wd)),l.xb(25,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,qd)),l.xb(27,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.yb(28,0,null,null,4,"div",[["class","publish__actions"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Yd)),l.xb(30,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Xd)),l.xb(32,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.yb(33,0,null,null,1,"app-publish-widget",[["class","publish__embed"]],null,[[null,"cameraUpdated"]],(function(e,t,n){var l=!0;return"cameraUpdated"===t&&(l=!1!==e.component.handleCameraUpdated(n)&&l),l}),cr,ur)),l.xb(34,245760,[[1,4],["publishWidget",4]],0,rr,[l.l,Bt,vt],{model:[0,"model"],width:[1,"width"],height:[2,"height"],scalable:[3,"scalable"],enableUI:[4,"enableUI"],bgColor:[5,"bgColor"],widgetParams:[6,"widgetParams"]},{cameraUpdated:"cameraUpdated"})],(function(e,t){var n=t.component;e(t,2,0,n.mode),e(t,6,0,n.formModeGroup),e(t,9,0,"Select a format to publish:"),e(t,15,0,"mode"),e(t,19,0,"3d"),e(t,22,0,"2d"),e(t,25,0,"3d"),e(t,27,0,"2d"),e(t,30,0,"3d"),e(t,32,0,"2d"),e(t,34,0,n.model,n.widgetWidth,n.widgetHeight,n.widgetScalable,"3d"===n.mode,n.widgetBGColor,n.widgetOptions)}),(function(e,t){e(t,4,0,l.Kb(t,8).ngClassUntouched,l.Kb(t,8).ngClassTouched,l.Kb(t,8).ngClassPristine,l.Kb(t,8).ngClassDirty,l.Kb(t,8).ngClassValid,l.Kb(t,8).ngClassInvalid,l.Kb(t,8).ngClassPending),e(t,11,0,l.Kb(t,17).ngClassUntouched,l.Kb(t,17).ngClassTouched,l.Kb(t,17).ngClassPristine,l.Kb(t,17).ngClassDirty,l.Kb(t,17).ngClassValid,l.Kb(t,17).ngClassInvalid,l.Kb(t,17).ngClassPending),e(t,18,1,[l.Kb(t,19).checked,l.Kb(t,19).disabled,"NoopAnimations"===l.Kb(t,19)._animationMode,"primary"===l.Kb(t,19).color,"accent"===l.Kb(t,19).color,"warn"===l.Kb(t,19).color,-1,l.Kb(t,19).id,null,null,null]),e(t,21,1,[l.Kb(t,22).checked,l.Kb(t,22).disabled,"NoopAnimations"===l.Kb(t,22)._animationMode,"primary"===l.Kb(t,22).color,"accent"===l.Kb(t,22).color,"warn"===l.Kb(t,22).color,-1,l.Kb(t,22).id,null,null,null])}))}var Jd=function(){function e(e,t){this.dialogRef=e,this.bookmark=t.bookmark}return e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e}(),eb=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}a[_ngcontent-%COMP%]{color:#de3838}a[_ngcontent-%COMP%]:hover{color:#c32020}.publish__contents[_ngcontent-%COMP%]{height:calc(90vh - 80px);border-top:1px solid #eaeff5;margin-top:12px}.publish__heading[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.publish__text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.publish__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.publish__close[_ngcontent-%COMP%]{cursor:pointer;color:#283853}.publish__close[_ngcontent-%COMP%]:hover{color:#1c2a3f}"]],data:{}});function tb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-publish",[],null,null,null,Zd,Hd)),l.xb(1,245760,null,0,dp,[O.i,O.b,Bt,ul,bp,Rd,Bd.c,ge.f,l.i],{model:[0,"model"]},null)],(function(e,t){e(t,1,0,t.component.bookmark)}),null)}function nb(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,9,"div",[["class","publish"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,5,"div",[["class","publish__heading"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,1,"h1",[["class","publish__title"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Publish "])),(e()(),l.yb(5,0,null,null,1,"app-icon",[["class","publish__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),fe,me)),l.xb(6,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(7,0,null,null,2,"div",[["class","publish__contents"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,tb)),l.xb(9,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,6,0,"times","lg"),e(t,9,0,n.bookmark)}),null)}function lb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-publish-dialog",[],null,null,null,nb,eb)),l.xb(1,114688,null,0,Jd,[Dd.l,Dd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var ib=l.ub("app-publish-dialog",Jd,lb,{},{},[]),ob=l.wb({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{color:#1c5ab9;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.modal[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.modal__close[_ngcontent-%COMP%]{cursor:pointer;color:#283853}.content[_ngcontent-%COMP%]{width:640px;position:relative;margin:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;padding:40px;text-align:center}@media (max-width:1024px){.content[_ngcontent-%COMP%]{width:100%}}"]],data:{}});function ab(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,30,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["class","modal__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(3,0,null,null,27,"div",[["class","text-12 content mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(4,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(5,0,null,null,0,"img",[["class","mb-2"],["src","assets/images/biodigital-logo.svg"],["width","190"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,1,"p",[["class","text-14 text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["The BioDgital Human Platform"])),(e()(),l.yb(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Version 4.0"])),(e()(),l.yb(10,0,null,null,5,"p",[["class","mb-3"]],null,null,null,null,null)),(e()(),l.yb(11,0,null,null,1,"a",[["href","https://wwww.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Terms of Service"])),(e()(),l.Sb(-1,null,[" | "])),(e()(),l.yb(14,0,null,null,1,"a",[["href","https://wwww.biodigital.com/privacy"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Privacy Policy"])),(e()(),l.yb(16,0,null,null,4,"p",[["class","mb-4"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Software and all 3D models \xa9 "])),(e()(),l.yb(18,0,null,null,1,"span",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["BioDigital, Inc 2019."])),(e()(),l.Sb(-1,null,[" All rights reserved."])),(e()(),l.yb(21,0,null,null,3,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["This program is protected by copyright law and international treaties. Unauthorized reproduction, distribution, reverse engineering or sale of the software is strictly prohibited. This software is not a diagnostic or clinical decision-making tool. The medical information is intended for background viewing and general interest. Content is asserted neither complete nor error free. Please consult your own licensed physician regarding diagnosis and treatment of any medical condition! Please see also our full "])),(e()(),l.yb(23,0,null,null,1,"a",[["href","https://wwww.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Terms of Service."])),(e()(),l.yb(25,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["The BioDigital Human is made possible through the expertise and dedication of our development team, advisors, investors and all who pioneered medical education before us. Thank you! "])),(e()(),l.yb(27,0,null,null,3,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["For licensing information contact "])),(e()(),l.yb(29,0,null,null,1,"span",[["class","text-medium"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["info@biodigital.com."]))],(function(e,t){e(t,2,0,"times","lg")}),null)}function rb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-about-dialog",[],null,null,null,ab,ob)),l.xb(1,114688,null,0,$p,[Dd.l],null,null)],(function(e,t){e(t,1,0)}),null)}var ub=l.ub("app-about-dialog",$p,rb,{},{},[]),cb=function(){return(cb=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},sb=function(){function e(e,t){this.dialogRef=e,this.data=t,this.settings={titleText:"Confirm Action"},t&&(this.settings=cb({},this.settings,t))}return e.prototype.ngOnInit=function(){},e}(),pb=l.wb({encapsulation:0,styles:[[""]],data:{}});function db(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(1,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(-1,null,[" View Only\n"])),(e()(),l.yb(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(4,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(5,0,null,null,1,"span",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["This content is currently set to view only, and changes made will be saved to a copy. "])),(e()(),l.yb(7,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(8,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(9,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""],["style","min-width: 100px;"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,10).dialogRef.close(l.Kb(e,10).dialogResult)&&i),i}),et,Je)),l.xb(10,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(11,114688,null,0,Ze,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Sb(-1,0,["OK"]))],(function(e,t){e(t,1,0),e(t,10,0,!0),e(t,11,0,"primary")}),(function(e,t){e(t,0,0,l.Kb(t,1).id),e(t,9,0,l.Kb(t,10).ariaLabel||null,l.Kb(t,10).type,l.Kb(t,11).disabled)}))}function bb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-access-dialog",[],null,null,null,db,pb)),l.xb(1,114688,null,0,sb,[Dd.l,Dd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var gb=l.ub("app-access-dialog",sb,bb,{},{},[]),hb=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e.Huge="huge",e}({}),mb=function(e){return e.Horizontal="horizontal",e.Vertical="vertical",e}({}),fb=function(e){return e.Inline="inline",e.Block="block",e.Fill="fill",e}({}),yb=function(){function e(){this.size=hb.Medium,this.label="",this.direction=mb.Horizontal,this.render=fb.Fill}return e.prototype.ngOnInit=function(){},e}(),xb=l.wb({encapsulation:0,styles:[['@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.spinner--small[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--small[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:11px;height:11px}.spinner--small[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:10px}.spinner--medium[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--medium[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:14px;height:14px}.spinner--medium[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:10px}.spinner--large[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--large[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:28px;height:28px}.spinner--large[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:14px}.spinner--huge[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--huge[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:44px;height:44px}.spinner--huge[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:16px}.spinner--horizontal[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.spinner--vertical[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.spinner--vertical[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{padding:8px 0 0}.spinner--inline[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex}.spinner--block[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.spinner--fill[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%}.spinner__circle[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;border:2px solid rgba(16,24,35,.1);position:relative}.spinner__circle[_ngcontent-%COMP%]:after{-webkit-animation:.4s linear infinite spinner;animation:.4s linear infinite spinner;content:" ";border-radius:50%;border:2px solid transparent;border-top-color:rgba(255,255,255,.2);border-right-color:rgba(16,24,35,.2);box-sizing:border-box;position:absolute;display:block;width:14px;height:14px;top:-2px;left:-2px}.spinner__label[_ngcontent-%COMP%]{padding-left:8px;font-size:14px;text-transform:uppercase}.theme-dark[_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%]{color:rgba(255,255,255,.2)}.theme-light[_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%]{color:rgba(16,24,35,.2)}']],data:{}});function _b(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","spinner__label"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function vb(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,6,"div",[["class","spinner spinner--horizontal"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Lb(3,3),(e()(),l.yb(4,0,null,null,0,"div",[["class","spinner__circle"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,_b)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,"spinner--"+n.size,"spinner--"+n.render,"spinner--"+n.direction);e(t,2,0,"spinner spinner--horizontal",l),e(t,6,0,n.label.length)}),null)}var Ob=l.wb({encapsulation:0,styles:[[".dialog__radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}@media (min-width:480px){.dialog[_ngcontent-%COMP%]{min-width:380px}}"]],data:{}});function wb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.collection_id),e(t,2,0,t.context.$implicit.collection_id)}),(function(e,t){e(t,3,0,t.context.$implicit.collection_name)}))}function Cb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,14,"app-form-field",[["class","mb-2"],["label","Collection (Optional)"],["theme","light"]],null,null,null,be,pe)),l.xb(1,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.yb(2,0,null,0,12,"select",[["class","input"],["formControlName","collectionId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,3).onTouched()&&i),i}),null,null)),l.xb(3,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(5,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(7,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(8,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(9,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(10,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(-1,null,["--"])),(e()(),l.ob(16777216,null,null,2,null,wb)),l.xb(13,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Collection (Optional)","light"),e(t,5,0,"collectionId"),e(t,9,0,null),e(t,10,0,null),e(t,13,0,l.Tb(t,13,0,l.Kb(t,14).transform(n.collections$)))}),(function(e,t){e(t,2,0,l.Kb(t,7).ngClassUntouched,l.Kb(t,7).ngClassTouched,l.Kb(t,7).ngClassPristine,l.Kb(t,7).ngClassDirty,l.Kb(t,7).ngClassValid,l.Kb(t,7).ngClassInvalid,l.Kb(t,7).ngClassPending)}))}function jb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-spinner",[["class","mr-1"],["render","inline"],["size","small"]],null,null,null,vb,xb)),l.xb(2,114688,null,0,yb,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),l.Sb(-1,null,[" Adding "]))],(function(e,t){e(t,2,0,"small","inline")}),null)}function kb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Add "]))],null,null)}function Sb(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(1,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(-1,null,[" Add to Team Models\n"])),(e()(),l.yb(3,0,null,null,24,"div",[["class","dialog mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(4,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(5,0,null,null,22,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==l.Kb(e,7).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,7).onReset()&&i),"submit"===t&&(i=!1!==o.handleSubmit()&&i),i}),null,null)),l.xb(6,16384,null,0,ge.C,[],null,null),l.xb(7,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(9,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(10,0,null,null,14,"app-form-field",[["class","mt-2 mb-2"],["label","Permissions"],["theme","light"]],null,null,null,be,pe)),l.xb(11,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.yb(12,0,null,0,12,"mat-radio-group",[["class","dialog__radio-group text-12 mt-2 mat-radio-group"],["formControlName","groupEditEnabled"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(13,1064960,null,1,Ie.c,[l.i],null,null),l.Qb(603979776,1,{_radios:1}),l.Pb(1024,null,ge.m,(function(e){return[e]}),[Ie.c]),l.xb(16,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(18,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(19,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value","false"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,20)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(20,4440064,[[1,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Team - View Only"])),(e()(),l.yb(22,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","true"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,23)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(23,4440064,[[1,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Team - View & Edit"])),(e()(),l.ob(16777216,null,null,2,null,Cb)),l.xb(26,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(28,0,null,null,14,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(29,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(30,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,31).dialogRef.close(l.Kb(e,31).dialogResult)&&i),i}),et,Je)),l.xb(31,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{type:[0,"type"]},null),l.xb(32,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Cancel"])),(e()(),l.yb(34,0,null,null,8,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSubmit()&&l),l}),et,Je)),l.xb(35,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],disabled:[1,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,jb)),l.xb(38,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,kb)),l.xb(41,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n,i=t.component;e(t,1,0),e(t,7,0,i.form),e(t,11,0,"Permissions","light"),e(t,16,0,"groupEditEnabled"),e(t,20,0,"false"),e(t,23,0,"true"),e(t,26,0,null==(n=l.Tb(t,26,0,l.Kb(t,27).transform(i.collections$)))?null:n.length),e(t,31,0,"button"),e(t,32,0,"light"),e(t,35,0,"primary",l.Tb(t,35,1,l.Kb(t,36).transform(i.copying$))),e(t,38,0,l.Tb(t,38,0,l.Kb(t,39).transform(i.copying$))),e(t,41,0,!l.Tb(t,41,0,l.Kb(t,42).transform(i.copying$)))}),(function(e,t){e(t,0,0,l.Kb(t,1).id),e(t,5,0,l.Kb(t,9).ngClassUntouched,l.Kb(t,9).ngClassTouched,l.Kb(t,9).ngClassPristine,l.Kb(t,9).ngClassDirty,l.Kb(t,9).ngClassValid,l.Kb(t,9).ngClassInvalid,l.Kb(t,9).ngClassPending),e(t,12,0,l.Kb(t,18).ngClassUntouched,l.Kb(t,18).ngClassTouched,l.Kb(t,18).ngClassPristine,l.Kb(t,18).ngClassDirty,l.Kb(t,18).ngClassValid,l.Kb(t,18).ngClassInvalid,l.Kb(t,18).ngClassPending),e(t,19,1,[l.Kb(t,20).checked,l.Kb(t,20).disabled,"NoopAnimations"===l.Kb(t,20)._animationMode,"primary"===l.Kb(t,20).color,"accent"===l.Kb(t,20).color,"warn"===l.Kb(t,20).color,-1,l.Kb(t,20).id,null,null,null]),e(t,22,1,[l.Kb(t,23).checked,l.Kb(t,23).disabled,"NoopAnimations"===l.Kb(t,23)._animationMode,"primary"===l.Kb(t,23).color,"accent"===l.Kb(t,23).color,"warn"===l.Kb(t,23).color,-1,l.Kb(t,23).id,null,null,null]),e(t,30,0,l.Kb(t,31).ariaLabel||null,l.Kb(t,31).type,l.Kb(t,32).disabled),e(t,34,0,l.Kb(t,35).disabled)}))}function Pb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-add-team-model-dialog",[],null,null,null,Sb,Ob)),l.xb(1,245760,null,0,Ud,[O.i,O.b,ge.f,Dd.l,Bd.c,ul,Dd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Mb=l.ub("app-add-team-model-dialog",Ud,Pb,{},{},[]),Ib=function(){function e(e){this.domSanitizer=e,this.size="medium"}return Object.defineProperty(e.prototype,"isTransparent",{get:function(){return this.color&&Ja.isTransparent(this.color)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.getBackgroundCSS=function(){if(this.color&&!this.isTransparent){var e=Ja.toCSS(this.color);return this.domSanitizer.bypassSecurityTrustStyle(e)}return null},e}(),Tb=l.wb({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]{border-radius:1px;cursor:pointer;border:1px solid #eaeff5}.item--small[_ngcontent-%COMP%]{width:12px;height:12px}.item--medium[_ngcontent-%COMP%]{width:24px;height:24px}.item--large[_ngcontent-%COMP%]{width:36px;height:36px}.item--selected[_ngcontent-%COMP%]{border-color:#1c5ab9;border-width:2px}.item--transparent[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f9fafd 48%,#de3838 50%,#f9fafd 52%)}"]],data:{}});function Kb(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,0,"div",[["class","item"]],[[2,"item--x-small",null],[2,"item--small",null],[2,"item--medium",null],[2,"item--large",null],[2,"item--x-large",null],[2,"item--selected",null],[2,"item--transparent",null],[4,"background-image",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,"x-small"===n.size,"small"===n.size,"medium"===n.size,"large"===n.size,"x-large"===n.size,n.selected,n.isTransparent,n.getBackgroundCSS())}))}var zb=function(){function e(){this.theme="dark",this.min=0,this.max=100,this.step=1,this._value=0,this.disabled=!1,this.blurred=new l.o,this.mouseUp=new l.o,this.onChange=function(){},this.onTouched=function(){},this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){null!=e&&(null==this._initialValue&&(this._initialValue=e),this._value=e,this.propagateChange(this.value))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleMouseUp=function(){this.mouseUp.emit()},e.prototype.handleBlur=function(){this.blurred.emit()},e.prototype.handleRangeDoubleClick=function(){this.value=this._initialValue},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e}(),Ub=l.wb({encapsulation:0,styles:[[".slider[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex}.slider__range[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 100%}.slider__input[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 64px;margin-left:8px}"]],data:{}});function Eb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,16,"div",[["class","slider"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,7,"div",[["class","slider__range"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,6,"input",[["class","range"],["type","range"]],[[2,"light",null],[2,"dark",null],[8,"min",0],[8,"max",0],[8,"step",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"dblclick"],[null,"mouseup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l.Kb(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,3)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,4).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,4).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,4).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.value=n)&&i),"dblclick"===t&&(i=!1!==o.handleRangeDoubleClick()&&i),"mouseup"===t&&(i=!1!==o.handleMouseUp()&&i),i}),null,null)),l.xb(3,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(4,16384,null,0,ge.t,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.t]),l.xb(6,671744,null,0,ge.q,[[8,null],[8,null],[8,null],[6,ge.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l.Pb(2048,null,ge.n,null,[ge.q]),l.xb(8,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(9,0,null,null,7,"div",[["class","slider__input"]],null,null,null,null,null)),(e()(),l.yb(10,0,null,null,6,"input",[["class","input"],["type","number"]],[[8,"min",0],[8,"max",0],[8,"step",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==l.Kb(e,11)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,11).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,11)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,11)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Kb(e,12).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Kb(e,12).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,12).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.value=n)&&i),"blur"===t&&(i=!1!==o.handleBlur()&&i),i}),null,null)),l.xb(11,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(12,16384,null,0,ge.s,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e,t){return[e,t]}),[ge.d,ge.s]),l.xb(14,671744,null,0,ge.q,[[8,null],[8,null],[8,null],[6,ge.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l.Pb(2048,null,ge.n,null,[ge.q]),l.xb(16,16384,null,0,ge.o,[[4,ge.n]],null,null)],(function(e,t){var n=t.component;e(t,6,0,n.disabled,n.value),e(t,14,0,n.disabled,n.value)}),(function(e,t){var n=t.component;e(t,2,1,["light"===n.theme,"dark"===n.theme,n.min,n.max,n.step,l.Kb(t,8).ngClassUntouched,l.Kb(t,8).ngClassTouched,l.Kb(t,8).ngClassPristine,l.Kb(t,8).ngClassDirty,l.Kb(t,8).ngClassValid,l.Kb(t,8).ngClassInvalid,l.Kb(t,8).ngClassPending]),e(t,10,0,n.min,n.max,n.step,l.Kb(t,16).ngClassUntouched,l.Kb(t,16).ngClassTouched,l.Kb(t,16).ngClassPristine,l.Kb(t,16).ngClassDirty,l.Kb(t,16).ngClassValid,l.Kb(t,16).ngClassInvalid,l.Kb(t,16).ngClassPending)}))}var Lb=function(e){return e.Danger="danger",e.Info="info",e}({}),Ab=function(){function e(){this.type=Lb.Info,this.theme="dark"}return e.prototype.ngOnInit=function(){},e}(),Fb=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}:host{display:block}.app-alert{border-radius:4px;padding:16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-alert--info{background:rgba(45,144,220,.15);border:1px solid rgba(45,144,220,.5)}.app-alert--danger{background:rgba(222,56,56,.15);border:1px solid rgba(222,56,56,.4)}.app-alert--light{color:#1c2a3f}.app-alert--light a,.app-alert--light a:visited{color:#283853}.app-alert--dark{color:#f9fafd}.app-alert--dark a,.app-alert--dark a:visited{color:#fff}"]],data:{}});function Db(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,3,"div",[["class","app-alert"]],[[2,"app-alert--dark",null],[2,"app-alert--light",null]],null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(null,0)],(function(e,t){e(t,2,0,"app-alert","app-alert--"+t.component.type)}),(function(e,t){var n=t.component;e(t,0,0,"dark"===n.theme,"light"===n.theme)}))}var Nb=l.wb({encapsulation:0,styles:[[".background[_ngcontent-%COMP%]{width:256px;min-height:280px}.background__section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.background__swatches[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap}"]],data:{}});function Rb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-swatch-item",[["class","m-1"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePresetSelected(e.context.$implicit)&&l),l}),Kb,Tb)),l.xb(1,114688,null,0,Ib,[rt.b],{color:[0,"color"],size:[1,"size"],selected:[2,"selected"]},null)],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,"medium",n.backgroundsEqual(t.context.$implicit,n.presetBackground))}),null)}function Bb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-swatch-item",[["class","m-1"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePresetSelected(e.context.$implicit)&&l),l}),Kb,Tb)),l.xb(1,114688,null,0,Ib,[rt.b],{color:[0,"color"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,t.context.$implicit,"medium")}),null)}function Hb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,3,"app-form-field",[["label","Color"]],null,null,null,be,pe)),l.xb(2,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,4).handleClick()&&i),"focus"===t&&(i=!1!==l.Kb(e,4).handleFocus()&&i),"input"===t&&(i=!1!==l.Kb(e,4).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==o.handleFormColorSelected("color1",n)&&i),i}),null,null)),l.xb(4,671744,null,0,ut.b,[l.t,l.k,l.g,l.T,l.l,ut.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"})],(function(e,t){var n=t.component;e(t,2,0,"Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left")}),(function(e,t){e(t,3,0,t.component.getFormBackgroundHex("color1"))}))}function Vb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,24,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,3,"app-form-field",[["label","Inner Color"]],null,null,null,be,pe)),l.xb(2,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,4).handleClick()&&i),"focus"===t&&(i=!1!==l.Kb(e,4).handleFocus()&&i),"input"===t&&(i=!1!==l.Kb(e,4).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==o.handleFormColorSelected("color1",n)&&i),i}),null,null)),l.xb(4,671744,null,0,ut.b,[l.t,l.k,l.g,l.T,l.l,ut.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.yb(5,0,null,null,7,"app-form-field",[["label","Inner Radius"]],null,null,null,be,pe)),l.xb(6,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(7,0,null,0,5,"app-slider",[["formControlName","stop1"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Eb,Ub)),l.xb(8,114688,null,0,zb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[zb]),l.xb(10,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(12,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(13,0,null,null,3,"app-form-field",[["label","Outer Color"]],null,null,null,be,pe)),l.xb(14,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(15,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,16).handleClick()&&i),"focus"===t&&(i=!1!==l.Kb(e,16).handleFocus()&&i),"input"===t&&(i=!1!==l.Kb(e,16).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==o.handleFormColorSelected("color2",n)&&i),i}),null,null)),l.xb(16,671744,null,0,ut.b,[l.t,l.k,l.g,l.T,l.l,ut.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.yb(17,0,null,null,7,"app-form-field",[["label","Outer Radius"]],null,null,null,be,pe)),l.xb(18,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(19,0,null,0,5,"app-slider",[["formControlName","stop2"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Eb,Ub)),l.xb(20,114688,null,0,zb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[zb]),l.xb(22,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(24,16384,null,0,ge.o,[[4,ge.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,"Inner Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left"),e(t,6,0,"Inner Radius"),e(t,8,0,"light",0,100),e(t,10,0,"stop1"),e(t,14,0,"Outer Color"),e(t,16,0,n.getFormBackgroundHex("color2"),"hex","disabled","left"),e(t,18,0,"Outer Radius"),e(t,20,0,"light",0,100),e(t,22,0,"stop2")}),(function(e,t){var n=t.component;e(t,3,0,n.getFormBackgroundHex("color1")),e(t,7,0,l.Kb(t,12).ngClassUntouched,l.Kb(t,12).ngClassTouched,l.Kb(t,12).ngClassPristine,l.Kb(t,12).ngClassDirty,l.Kb(t,12).ngClassValid,l.Kb(t,12).ngClassInvalid,l.Kb(t,12).ngClassPending),e(t,15,0,n.getFormBackgroundHex("color2")),e(t,19,0,l.Kb(t,24).ngClassUntouched,l.Kb(t,24).ngClassTouched,l.Kb(t,24).ngClassPristine,l.Kb(t,24).ngClassDirty,l.Kb(t,24).ngClassValid,l.Kb(t,24).ngClassInvalid,l.Kb(t,24).ngClassPending)}))}function $b(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,24,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,3,"app-form-field",[["label","Starting Color"]],null,null,null,be,pe)),l.xb(2,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,4).handleClick()&&i),"focus"===t&&(i=!1!==l.Kb(e,4).handleFocus()&&i),"input"===t&&(i=!1!==l.Kb(e,4).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==o.handleFormColorSelected("color1",n)&&i),i}),null,null)),l.xb(4,671744,null,0,ut.b,[l.t,l.k,l.g,l.T,l.l,ut.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.yb(5,0,null,null,7,"app-form-field",[["label","Starting Color Stop"]],null,null,null,be,pe)),l.xb(6,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(7,0,null,0,5,"app-slider",[["formControlName","stop1"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Eb,Ub)),l.xb(8,114688,null,0,zb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[zb]),l.xb(10,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(12,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(13,0,null,null,3,"app-form-field",[["label","Ending Color"]],null,null,null,be,pe)),l.xb(14,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(15,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,16).handleClick()&&i),"focus"===t&&(i=!1!==l.Kb(e,16).handleFocus()&&i),"input"===t&&(i=!1!==l.Kb(e,16).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==o.handleFormColorSelected("color2",n)&&i),i}),null,null)),l.xb(16,671744,null,0,ut.b,[l.t,l.k,l.g,l.T,l.l,ut.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.yb(17,0,null,null,7,"app-form-field",[["label","Ending Color Stop"]],null,null,null,be,pe)),l.xb(18,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(19,0,null,0,5,"app-slider",[["formControlName","stop2"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Eb,Ub)),l.xb(20,114688,null,0,zb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[zb]),l.xb(22,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(24,16384,null,0,ge.o,[[4,ge.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,"Starting Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left"),e(t,6,0,"Starting Color Stop"),e(t,8,0,"light",0,100),e(t,10,0,"stop1"),e(t,14,0,"Ending Color"),e(t,16,0,n.getFormBackgroundHex("color2"),"hex","disabled","left"),e(t,18,0,"Ending Color Stop"),e(t,20,0,"light",0,100),e(t,22,0,"stop2")}),(function(e,t){var n=t.component;e(t,3,0,n.getFormBackgroundHex("color1")),e(t,7,0,l.Kb(t,12).ngClassUntouched,l.Kb(t,12).ngClassTouched,l.Kb(t,12).ngClassPristine,l.Kb(t,12).ngClassDirty,l.Kb(t,12).ngClassValid,l.Kb(t,12).ngClassInvalid,l.Kb(t,12).ngClassPending),e(t,15,0,n.getFormBackgroundHex("color2")),e(t,19,0,l.Kb(t,24).ngClassUntouched,l.Kb(t,24).ngClassTouched,l.Kb(t,24).ngClassPristine,l.Kb(t,24).ngClassDirty,l.Kb(t,24).ngClassValid,l.Kb(t,24).ngClassInvalid,l.Kb(t,24).ngClassPending)}))}function Qb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,2,"app-alert",[["theme","light"],["type","info"]],null,null,null,Db,Fb)),l.xb(2,114688,null,0,Ab,[],{type:[0,"type"],theme:[1,"theme"]},null),(e()(),l.Sb(-1,0,[" The background of your application will appear behind the 3D model. "]))],(function(e,t){e(t,2,0,"info","light")}),null)}function Wb(e){return l.Ub(2,[l.Qb(402653184,1,{presetTab:0}),l.Qb(402653184,2,{customTab:0}),(e()(),l.yb(2,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(3,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(-1,null,[" Background Color\n"])),(e()(),l.yb(5,0,null,null,59,"div",[["class","background theme-light"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,58,"app-tabs",[],null,[[null,"activeTabChange"]],(function(e,t,n){var l=!0;return"activeTabChange"===t&&(l=!1!==e.component.handleTabChange(n)&&l),l}),He,Ne)),l.xb(7,1294336,null,1,De,[l.i],null,{activeTabChange:"activeTabChange"}),l.Qb(603979776,3,{_tabs:1}),(e()(),l.yb(9,0,null,0,15,"app-tab",[["label","Presets"]],null,null,null,Qe,Ve)),l.xb(10,114688,[[3,4],[1,4],["presetTab",4]],0,Ee,[l.i],{label:[0,"label"]},null),(e()(),l.yb(11,0,null,0,13,"div",[["class","background__section mt-3"]],null,null,null,null,null)),(e()(),l.yb(12,0,null,null,4,"app-form-field",[],null,null,null,be,pe)),l.xb(13,114688,null,0,se,[],null,null),(e()(),l.yb(14,0,null,0,2,"div",[["class","background__swatches"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Rb)),l.xb(16,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(17,0,null,null,2,"button",[["app-button",""],["buttonSize","small"],["buttonTheme","light"],["buttonType","outline"],["class","mb-4"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleResetClick()&&l),l}),et,Je)),l.xb(18,114688,null,0,Ze,[],{buttonSize:[0,"buttonSize"],buttonType:[1,"buttonType"],buttonTheme:[2,"buttonTheme"]},null),(e()(),l.Sb(-1,0,[" Revert to Original "])),(e()(),l.yb(20,0,null,null,4,"app-form-field",[["label","Currently Used"]],null,null,null,be,pe)),l.xb(21,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(22,0,null,0,2,"div",[["class","background__swatches"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Bb)),l.xb(24,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(25,0,null,0,39,"app-tab",[["label","Custom"]],null,null,null,Qe,Ve)),l.xb(26,114688,[[3,4],[2,4],["customTab",4]],0,Ee,[l.i],{label:[0,"label"]},null),(e()(),l.yb(27,0,null,0,37,"form",[["class","background__section mt-4"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,30).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,30).onReset()&&i),i}),null,null)),l.xb(28,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),l.xb(29,16384,null,0,ge.C,[],null,null),l.xb(30,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(32,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(33,0,null,null,23,"app-form-field",[["label","Type"]],null,null,null,be,pe)),l.xb(34,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(35,0,null,0,21,"select",[["class","input"],["formControlName","type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,36).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,36).onTouched()&&i),i}),null,null)),l.xb(36,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(38,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(40,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(41,0,null,null,3,"option",[["value","solid"]],null,null,null,null,null)),l.xb(42,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(43,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(-1,null,["Solid Color"])),(e()(),l.yb(45,0,null,null,3,"option",[["value","radial"]],null,null,null,null,null)),l.xb(46,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(47,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(-1,null,["Radial Gradient"])),(e()(),l.yb(49,0,null,null,3,"option",[["value","linear"]],null,null,null,null,null)),l.xb(50,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(51,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(-1,null,["Linear Gradient"])),(e()(),l.yb(53,0,null,null,3,"option",[["value","transparent"]],null,null,null,null,null)),l.xb(54,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(55,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(-1,null,["Transparent"])),(e()(),l.ob(16777216,null,null,1,null,Hb)),l.xb(58,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Vb)),l.xb(60,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,$b)),l.xb(62,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Qb)),l.xb(64,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.yb(65,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(66,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(67,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.applyAll()&&l),l}),et,Je)),l.xb(68,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Apply to All"])),(e()(),l.yb(70,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,71).dialogRef.close(l.Kb(e,71).dialogResult)&&i),i}),et,Je)),l.xb(71,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(72,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Done"]))],(function(e,t){var n=t.component;e(t,3,0),e(t,7,0),e(t,10,0,"Presets"),e(t,13,0),e(t,16,0,n.presetBackgrounds),e(t,18,0,"small","outline","light"),e(t,21,0,"Currently Used"),e(t,24,0,n.distinctBackgrounds),e(t,26,0,"Custom"),e(t,28,0,n.form.get("type").value),e(t,30,0,n.form),e(t,34,0,"Type"),e(t,38,0,"type"),e(t,42,0,"solid"),e(t,43,0,"solid"),e(t,46,0,"radial"),e(t,47,0,"radial"),e(t,50,0,"linear"),e(t,51,0,"linear"),e(t,54,0,"transparent"),e(t,55,0,"transparent"),e(t,58,0,"solid"),e(t,60,0,"radial"),e(t,62,0,"linear"),e(t,64,0,"transparent"),e(t,68,0,"light"),e(t,71,0,!0),e(t,72,0,"flat","light")}),(function(e,t){e(t,2,0,l.Kb(t,3).id),e(t,17,0,l.Kb(t,18).disabled),e(t,27,0,l.Kb(t,32).ngClassUntouched,l.Kb(t,32).ngClassTouched,l.Kb(t,32).ngClassPristine,l.Kb(t,32).ngClassDirty,l.Kb(t,32).ngClassValid,l.Kb(t,32).ngClassInvalid,l.Kb(t,32).ngClassPending),e(t,35,0,l.Kb(t,40).ngClassUntouched,l.Kb(t,40).ngClassTouched,l.Kb(t,40).ngClassPristine,l.Kb(t,40).ngClassDirty,l.Kb(t,40).ngClassValid,l.Kb(t,40).ngClassInvalid,l.Kb(t,40).ngClassPending),e(t,67,0,l.Kb(t,68).disabled),e(t,70,0,l.Kb(t,71).ariaLabel||null,l.Kb(t,71).type,l.Kb(t,72).disabled)}))}function Gb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-background-color-dialog",[],null,null,null,Wb,Nb)),l.xb(1,245760,null,0,Fd,[O.i,O.b,ge.f,Bd.c],null,null)],(function(e,t){e(t,1,0)}),null)}var qb=l.ub("app-background-color-dialog",Fd,Gb,{},{},[]),Yb=l.wb({encapsulation:0,styles:[[".copy[_ngcontent-%COMP%]{min-width:480px;display:-webkit-box;display:flex}.copy__input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}"]],data:{}});function Xb(e){return l.Ub(2,[l.Qb(402653184,1,{copyField:0}),(e()(),l.yb(1,0,null,null,2,"div",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(2,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(3,null,[" ","\n"])),(e()(),l.yb(4,0,null,null,3,"div",[["class","copy mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(5,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(6,0,[[1,0],["copyField",1]],null,1,"textarea",[["class","copy__input"]],[[8,"value",0],[8,"rows",0]],null,null,null,null)),(e()(),l.Sb(-1,null,["  "])),(e()(),l.yb(8,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(9,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),et,Je)),l.xb(11,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Cancel"])),(e()(),l.yb(13,0,null,null,2,"button",[["app-button",""],["buttonType","primary"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCopyClick()&&l),l}),et,Je)),l.xb(14,114688,null,0,Ze,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Sb(-1,0,["Copy to Clipboard"]))],(function(e,t){e(t,2,0),e(t,11,0,"light"),e(t,14,0,"primary")}),(function(e,t){var n=t.component;e(t,1,0,l.Kb(t,2).id),e(t,3,0,n.settings.title),e(t,6,0,n.settings.copyText,n.rowCount),e(t,10,0,l.Kb(t,11).disabled),e(t,13,0,l.Kb(t,14).disabled)}))}function Zb(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-clipboard-dialog",[],null,null,null,Xb,Yb)),l.xb(1,4308992,null,0,Ap,[Dd.l,Dd.a,bp],null,null)],(function(e,t){e(t,1,0)}),null)}var Jb=l.ub("app-clipboard-dialog",Ap,Zb,{},{},[]),eg=l.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.dialog__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.dialog__actions--compact[_ngcontent-%COMP%]{-webkit-box-pack:end;justify-content:flex-end}@media (min-width:480px){[_nghost-%COMP%]{min-width:320px}}"]],data:{}});function tg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).dialogRef.close(l.Kb(e,1).dialogResult)&&i),i}),et,Je)),l.xb(1,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],null,null),l.xb(2,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(3,0,["",""]))],(function(e,t){e(t,1,0),e(t,2,0,"light")}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).ariaLabel||null,l.Kb(t,1).type,l.Kb(t,2).disabled),e(t,3,0,n.settings.miscText)}))}function ng(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-1"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).dialogRef.close(l.Kb(e,1).dialogResult)&&i),i}),et,Je)),l.xb(1,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(2,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(3,0,["",""]))],(function(e,t){e(t,1,0,!1),e(t,2,0,"light")}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).ariaLabel||null,l.Kb(t,1).type,l.Kb(t,2).disabled),e(t,3,0,n.settings.cancelText)}))}function lg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).dialogRef.close(l.Kb(e,1).dialogResult)&&i),i}),et,Je)),l.xb(1,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(2,114688,null,0,Ze,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Sb(3,0,["",""]))],(function(e,t){e(t,1,0,!0),e(t,2,0,"primary")}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).ariaLabel||null,l.Kb(t,1).type,l.Kb(t,2).disabled),e(t,3,0,n.settings.confirmText)}))}function ig(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(1,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(2,null,[" ","\n"])),(e()(),l.yb(3,0,null,null,3,"div",[["class","pt-4 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(4,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(5,0,null,null,1,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Sb(6,null,["",""])),(e()(),l.yb(7,0,null,null,8,"div",[["class","dialog__actions pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],[[2,"dialog__actions--compact",null]],null,null,null,null)),l.xb(8,16384,null,0,Dd.f,[],null,null),(e()(),l.ob(16777216,null,null,1,null,tg)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(11,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,ng)),l.xb(13,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,lg)),l.xb(15,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,10,0,n.settings.miscText),e(t,13,0,n.settings.cancelEnabled),e(t,15,0,n.settings.confirmEnabled)}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).id),e(t,2,0,n.settings.titleText),e(t,6,0,n.settings.bodyText),e(t,7,0,!n.settings.miscText)}))}function og(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-confirm-dialog",[],null,null,null,ig,eg)),l.xb(1,114688,null,0,xp,[Dd.l,Dd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var ag=l.ub("app-confirm-dialog",xp,og,{},{},[]),rg=l.wb({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.welcome__close[_ngcontent-%COMP%]{cursor:pointer;align-self:flex-end}.welcome__button[_ngcontent-%COMP%]{margin:auto 8px}"]],data:{}});function ug(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["class","m-4"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.organization.group_logos.default)}))}function cg(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,14,"div",[["class","welcome"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["class","welcome__close"],["icon","times"],["size","lg"],["title","Close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(3,0,null,null,1,"div",[["class","m-4 text-16"]],null,null,null,null,null)),(e()(),l.Sb(4,null,[" Welcome to the "," Group Network! "])),(e()(),l.ob(16777216,null,null,1,null,ug)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(7,0,null,null,7,"div",[["class","m-4 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(8,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(9,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","welcome__button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),et,Je)),l.xb(10,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,[" No, thank you "])),(e()(),l.yb(12,0,null,null,2,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""],["class","welcome__button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleJoinClick()&&l),l}),et,Je)),l.xb(13,114688,null,0,Ze,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Sb(-1,0,[" Join Group "]))],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,6,0,n.organization.group_logos.default),e(t,10,0,"outline","light"),e(t,13,0,"primary")}),(function(e,t){e(t,4,0,t.component.organization.name),e(t,9,0,l.Kb(t,10).disabled),e(t,12,0,l.Kb(t,13).disabled)}))}function sg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-domain-join-dialog",[],null,null,null,cg,rg)),l.xb(1,245760,null,0,Vp,[O.i,Dd.l,Dd.a,O.b,Bd.c],null,null)],(function(e,t){e(t,1,0)}),null)}var pg=l.ub("app-domain-join-dialog",Vp,sg,{},{},[]),dg=l.wb({encapsulation:0,styles:[[""]],data:{}});function bg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" You must be within the "," network to access this group account. "])),(e()(),l.yb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),l.Sb(-1,null,["Contact us"])),(e()(),l.Sb(-1,null,[" if you have any questions regarding your group account. "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.organizationName),e(t,2,0,"mailto:"+n.supportEmail)}))}function gg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" You must be within the "," network to access this group account. "])),(e()(),l.yb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),l.Sb(-1,null,["Contact us"])),(e()(),l.Sb(-1,null,[" if you have any questions regarding your group account. "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.organizationName),e(t,2,0,"mailto:"+n.supportEmail)}))}function hg(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,4,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(1,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(-1,null,[" Oh no, you have no access to the "])),(e()(),l.yb(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.Sb(4,null,[""," group!\n"])),(e()(),l.yb(5,0,null,null,5,"div",[["class","pt-4 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(6,16384,null,0,Dd.j,[],null,null),(e()(),l.ob(16777216,null,null,1,null,bg)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,gg)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(11,0,null,null,8,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(12,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(13,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDontShowClick()&&l),l}),et,Je)),l.xb(14,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Don't show me this again"])),(e()(),l.yb(16,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,17).dialogRef.close(l.Kb(e,17).dialogResult)&&i),i}),et,Je)),l.xb(17,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(18,114688,null,0,Ze,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Sb(-1,0,["Close"]))],(function(e,t){var n=t.component;e(t,1,0),e(t,8,0,n.ip),e(t,10,0,n.email),e(t,14,0,"outline","light"),e(t,17,0,!0),e(t,18,0,"primary")}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).id),e(t,4,0,n.organizationName),e(t,13,0,l.Kb(t,14).disabled),e(t,16,0,l.Kb(t,17).ariaLabel||null,l.Kb(t,17).type,l.Kb(t,18).disabled)}))}function mg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-group-restriction-dialog",[],null,null,null,hg,dg)),l.xb(1,114688,null,0,Ep,[Dd.l,Dd.a,ul],null,null)],(function(e,t){e(t,1,0)}),null)}var fg=l.ub("app-group-restriction-dialog",Ep,mg,{},{},[]),yg=l.wb({encapsulation:0,styles:[[".modal[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.modal__close[_ngcontent-%COMP%]{margin-bottom:4px;align-self:flex-end;cursor:pointer}.modal__contents[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;height:100vh}.modal__frame[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex}"]],data:{}});function xg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"iframe",[["class","modal__frame"]],[[8,"src",5]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.src)}))}function _g(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,5,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["class","modal__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(3,0,null,null,2,"div",[["class","modal__contents"]],[[4,"height",null]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,xg)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,5,0,n.src)}),(function(e,t){e(t,3,0,t.component.height+"px")}))}function vg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-legacy-dialog",[],null,null,null,_g,yg)),l.xb(1,114688,null,0,fp,[Dd.l,Dd.a,rt.b],null,null)],(function(e,t){e(t,1,0)}),null)}var Og=l.ub("app-legacy-dialog",fp,vg,{},{},[]),wg=l.wb({encapsulation:0,styles:[[""]],data:{}});function Cg(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(1,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(-1,null,[" New Bookmark Limit Reached\n"])),(e()(),l.yb(3,0,null,null,5,"div",[["class","pt-1 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(4,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(5,0,null,null,1,"div",[["class","text-14 pb-3"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["You've reached your limit of 5 3D models in your dashboard. You can make changes to this model, but you will not be able to save as a new model."])),(e()(),l.yb(7,0,null,null,1,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Upgrade to a Premium Plan to save unlimited 3D models."])),(e()(),l.yb(9,0,null,null,9,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(10,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(11,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["cdkFocusInitial",""],["class","mr-2"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,12).dialogRef.close(l.Kb(e,12).dialogResult)&&i),i}),et,Je)),l.xb(12,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(13,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["OK"])),(e()(),l.yb(15,0,null,null,3,"button",[["app-button",""],["buttonType","primary"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,16).dialogRef.close(l.Kb(e,16).dialogResult)&&i),i}),et,Je)),l.xb(16,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{dialogResult:[0,"dialogResult"]},null),l.xb(17,114688,null,0,Ze,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Sb(-1,0,["Go Premium"]))],(function(e,t){e(t,1,0),e(t,12,0,!1),e(t,13,0,"light"),e(t,16,0,!0),e(t,17,0,"primary")}),(function(e,t){e(t,0,0,l.Kb(t,1).id),e(t,11,0,l.Kb(t,12).ariaLabel||null,l.Kb(t,12).type,l.Kb(t,13).disabled),e(t,15,0,l.Kb(t,16).ariaLabel||null,l.Kb(t,16).type,l.Kb(t,17).disabled)}))}function jg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-limit-dialog",[],null,null,null,Cg,wg)),l.xb(1,114688,null,0,gp,[],null,null)],(function(e,t){e(t,1,0)}),null)}var kg=l.ub("app-limit-dialog",gp,jg,{},{},[]),Sg=l.wb({encapsulation:0,styles:[[".survey[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:end;align-items:flex-end}.survey__close[_ngcontent-%COMP%]{cursor:pointer}.survey__frame[_ngcontent-%COMP%]{display:block;width:600px;height:520px}@media (max-width:760px){.survey__frame[_ngcontent-%COMP%]{display:block;width:100%}}"]],data:{}});function Pg(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,3,"div",[["class","survey"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["class","survey__close mb-2"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(3,0,null,null,0,"iframe",[["class","survey__frame"]],[[8,"src",5]],null,null,null,null))],(function(e,t){e(t,2,0,"times","lg")}),(function(e,t){e(t,3,0,t.component.src)}))}function Mg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-nps-dialog",[],null,null,null,Pg,Sg)),l.xb(1,114688,null,0,wd,[O.i,Dd.l,Dd.a,rt.b],null,null)],(function(e,t){e(t,1,0)}),null)}var Ig=l.ub("app-nps-dialog",wd,Mg,{},{},[]),Tg=n("seP3"),Kg=n("bne5"),zg=function(){function e(e){this.ref=e,this.ngUnsubscribe=new Z.a,this.display="block",this.mode="count"}return Object.defineProperty(e.prototype,"remainingCount",{get:function(){return this.max-this.count},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.count=0,this.max=this.field.maxLength||0},e.prototype.ngAfterViewInit=function(){var e=this;this.getValueChanges().pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.updateCount()}))},e.prototype.ngAfterContentChecked=function(){this.updateCount()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.updateCount=function(){var e=this.getValue().length;this.count!==e&&(this.count=e,this.ref.markForCheck())},e.prototype.getValueChanges=function(){return this.field.getValueChanges?this.field.getValueChanges():Object(Kg.a)(this.field,"input")},e.prototype.getValue=function(){return void 0!==this.field.textValue?this.field.textValue:this.field.value},e}(),Ug=l.wb({encapsulation:0,styles:[[".theme-light[_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%]{color:#1c2a3f}.theme-dark[_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%]{color:#96a8c0}.counter[_ngcontent-%COMP%]{display:block;width:100%;float:right;text-align:right}.counter--inline[_ngcontent-%COMP%]{display:inline-block;width:auto}"]],data:{}});function Eg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","counter__label"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[""," "," remaining"]))],null,(function(e,t){var n=t.component;e(t,1,0,n.remainingCount,1===n.remainingCount?"character":"characters")}))}function Lg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","counter__label"]],null,null,null,null,null)),(e()(),l.Sb(1,null,["","/",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.count,n.max)}))}function Ag(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"div",[["class","counter text-10 pt-1 pb-1"]],[[2,"counter--inline",null]],null,null,null,null)),l.xb(1,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,Eg)),l.xb(3,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Lg)),l.xb(5,16384,null,0,ce.s,[l.T,l.Q,ce.q],null,null)],(function(e,t){e(t,1,0,t.component.mode),e(t,3,0,"remaining")}),(function(e,t){e(t,0,0,"inline"===t.component.display)}))}function Fg(e){return l.Ub(0,[(e()(),l.ob(16777216,null,null,1,null,Ag)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.max)}),null)}var Dg=l.wb({encapsulation:0,styles:[[".save[_ngcontent-%COMP%]{min-width:380px}.save__message[_ngcontent-%COMP%]{color:#6a82a4;margin:12px auto;font-size:12px}.save__radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.save__permission[_ngcontent-%COMP%]{display:block;margin:4px auto}"]],data:{}});function Ng(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"p",[["class","save__message"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.settings.message)}))}function Rg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),l.xb(1,16384,null,0,Tg.a,[],null,null),(e()(),l.Sb(-1,null,["Please enter a valid title."]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).id)}))}function Bg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,17,"app-form-field",[["label","Permissions"],["theme","light"]],null,null,null,be,pe)),l.xb(1,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.yb(2,0,null,0,15,"mat-radio-group",[["class","save__radio-group text-12 mt-2 mat-radio-group"],["formControlName","groupAccess"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(3,1064960,null,1,Ie.c,[l.i],null,null),l.Qb(603979776,1,{_radios:1}),l.Pb(1024,null,ge.m,(function(e){return[e]}),[Ie.c]),l.xb(6,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(8,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(9,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value",""]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,10)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(10,4440064,[[1,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Private"])),(e()(),l.yb(12,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value","view"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,13)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(13,4440064,[[1,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Team - View Only"])),(e()(),l.yb(15,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","edit"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Kb(e,16)._inputElement.nativeElement.focus()&&i),i}),Te.b,Te.a)),l.xb(16,4440064,[[1,4]],0,Ie.b,[[2,Ie.c],l.l,l.i,ve.e,Ke.c,[2,Oe.a],[2,Ie.a]],{value:[0,"value"]},null),(e()(),l.Sb(-1,0,["Team - View & Edit"]))],(function(e,t){e(t,1,0,"Permissions","light"),e(t,6,0,"groupAccess"),e(t,10,0,""),e(t,13,0,"view"),e(t,16,0,"edit")}),(function(e,t){e(t,2,0,l.Kb(t,8).ngClassUntouched,l.Kb(t,8).ngClassTouched,l.Kb(t,8).ngClassPristine,l.Kb(t,8).ngClassDirty,l.Kb(t,8).ngClassValid,l.Kb(t,8).ngClassInvalid,l.Kb(t,8).ngClassPending),e(t,9,1,[l.Kb(t,10).checked,l.Kb(t,10).disabled,"NoopAnimations"===l.Kb(t,10)._animationMode,"primary"===l.Kb(t,10).color,"accent"===l.Kb(t,10).color,"warn"===l.Kb(t,10).color,-1,l.Kb(t,10).id,null,null,null]),e(t,12,1,[l.Kb(t,13).checked,l.Kb(t,13).disabled,"NoopAnimations"===l.Kb(t,13)._animationMode,"primary"===l.Kb(t,13).color,"accent"===l.Kb(t,13).color,"warn"===l.Kb(t,13).color,-1,l.Kb(t,13).id,null,null,null]),e(t,15,1,[l.Kb(t,16).checked,l.Kb(t,16).disabled,"NoopAnimations"===l.Kb(t,16)._animationMode,"primary"===l.Kb(t,16).color,"accent"===l.Kb(t,16).color,"warn"===l.Kb(t,16).color,-1,l.Kb(t,16).id,null,null,null])}))}function Hg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.collection_id),e(t,2,0,t.context.$implicit.collection_id)}),(function(e,t){e(t,3,0,t.context.$implicit.collection_name)}))}function Vg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,14,"app-form-field",[["label","Collection (Optional)"],["theme","light"]],null,null,null,be,pe)),l.xb(1,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.yb(2,0,null,0,12,"select",[["class","input"],["formControlName","collection"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,3).onTouched()&&i),i}),null,null)),l.xb(3,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(5,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(7,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(8,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(9,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(10,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(-1,null,["--"])),(e()(),l.ob(16777216,null,null,2,null,Hg)),l.xb(13,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Collection (Optional)","light"),e(t,5,0,"collection"),e(t,9,0,null),e(t,10,0,null),e(t,13,0,l.Tb(t,13,0,l.Kb(t,14).transform(n.collections$)))}),(function(e,t){e(t,2,0,l.Kb(t,7).ngClassUntouched,l.Kb(t,7).ngClassTouched,l.Kb(t,7).ngClassPristine,l.Kb(t,7).ngClassDirty,l.Kb(t,7).ngClassValid,l.Kb(t,7).ngClassInvalid,l.Kb(t,7).ngClassPending)}))}function $g(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Bg)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,Vg)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n,i=t.component;e(t,2,0,i.isNew||i.isOwner),e(t,4,0,(null==(n=l.Tb(t,4,0,l.Kb(t,5).transform(i.collections$)))?null:n.length)>0)}),null)}function Qg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,9,"app-form-field",[["label","Share"],["theme","light"]],null,null,null,be,pe)),l.xb(2,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.yb(3,0,null,0,7,"mat-checkbox",[["class","save__permission mat-checkbox"],["formControlName","publicAccess"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(4,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(6,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(8,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(9,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["With the BioDigital Community"]))],(function(e,t){e(t,2,0,"Share","light"),e(t,6,0,"publicAccess")}),(function(e,t){e(t,3,1,[l.Kb(t,4).id,null,l.Kb(t,4).indeterminate,l.Kb(t,4).checked,l.Kb(t,4).disabled,"before"==l.Kb(t,4).labelPosition,"NoopAnimations"===l.Kb(t,4)._animationMode,l.Kb(t,8).ngClassUntouched,l.Kb(t,8).ngClassTouched,l.Kb(t,8).ngClassPristine,l.Kb(t,8).ngClassDirty,l.Kb(t,8).ngClassValid,l.Kb(t,8).ngClassInvalid,l.Kb(t,8).ngClassPending])}))}function Wg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,vb,xb)),l.xb(1,114688,null,0,yb,[],{size:[0,"size"],render:[1,"render"]},null)],(function(e,t){e(t,1,0,"medium","inline")}),null)}function Gg(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,48,"div",[["class","save"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,47,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==l.Kb(e,3).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,3).onReset()&&i),"submit"===t&&(i=!1!==o.handleSubmit()&&i),i}),null,null)),l.xb(2,16384,null,0,ge.C,[],null,null),l.xb(3,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(5,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(6,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(7,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(8,null,[" "," "])),(e()(),l.ob(16777216,null,null,1,null,Ng)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(11,0,null,null,23,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(12,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(13,0,null,null,21,"div",[["class","theme-light"]],null,null,null,null,null)),(e()(),l.yb(14,0,null,null,14,"app-form-field",[["label","Title"],["theme","light"]],null,null,null,be,pe)),l.xb(15,114688,null,0,se,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.yb(16,0,[["title",1]],0,8,"input",[["autocomplete","off"],["class","input"],["formControlName","title"],["maxlength","60"],["name","title"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,17)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,17).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,17)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,17)._compositionEnd(n.target.value)&&i),i}),null,null)),l.xb(17,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.xb(18,16384,null,0,ge.v,[],{required:[0,"required"]},null),l.xb(19,540672,null,0,ge.k,[],{maxlength:[0,"maxlength"]},null),l.Pb(1024,null,ge.l,(function(e,t){return[e,t]}),[ge.v,ge.k]),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.d]),l.xb(22,671744,null,0,ge.g,[[3,ge.c],[6,ge.l],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(24,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(25,0,null,0,1,"app-character-counter",[],null,null,null,Fg,Ug)),l.xb(26,6537216,null,0,zg,[l.i],{field:[0,"field"]},null),(e()(),l.ob(16777216,null,0,1,null,Rg)),l.xb(28,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,$g)),l.xb(30,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,Qg)),l.xb(33,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(35,0,null,null,13,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(36,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(37,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,38).dialogRef.close(l.Kb(e,38).dialogResult)&&i),i}),et,Je)),l.xb(38,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{type:[0,"type"]},null),l.xb(39,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Cancel"])),(e()(),l.yb(41,0,null,null,7,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[8,"disabled",0]],null,null,et,Je)),l.xb(42,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],disabled:[1,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.Sb(44,0,[" "," "])),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,Wg)),l.xb(47,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,n.form),e(t,7,0),e(t,10,0,n.settings.message),e(t,15,0,"Title","light"),e(t,18,0,""),e(t,19,0,"60"),e(t,22,0,"title"),e(t,26,0,l.Kb(t,16)),e(t,28,0,!n.form.get("title").valid),e(t,30,0,l.Tb(t,30,0,l.Kb(t,31).transform(n.organization$))),e(t,33,0,!l.Tb(t,33,0,l.Kb(t,34).transform(n.organization$))),e(t,38,0,"button"),e(t,39,0,"light"),e(t,42,0,"primary",l.Tb(t,42,1,l.Kb(t,43).transform(n.saving$))),e(t,47,0,l.Tb(t,47,0,l.Kb(t,48).transform(n.saving$)))}),(function(e,t){var n=t.component;e(t,1,0,l.Kb(t,5).ngClassUntouched,l.Kb(t,5).ngClassTouched,l.Kb(t,5).ngClassPristine,l.Kb(t,5).ngClassDirty,l.Kb(t,5).ngClassValid,l.Kb(t,5).ngClassInvalid,l.Kb(t,5).ngClassPending),e(t,6,0,l.Kb(t,7).id),e(t,8,0,n.dialogTitle),e(t,16,0,l.Kb(t,18).required?"":null,l.Kb(t,19).maxlength?l.Kb(t,19).maxlength:null,l.Kb(t,24).ngClassUntouched,l.Kb(t,24).ngClassTouched,l.Kb(t,24).ngClassPristine,l.Kb(t,24).ngClassDirty,l.Kb(t,24).ngClassValid,l.Kb(t,24).ngClassInvalid,l.Kb(t,24).ngClassPending),e(t,37,0,l.Kb(t,38).ariaLabel||null,l.Kb(t,38).type,l.Kb(t,39).disabled),e(t,41,0,l.Kb(t,42).disabled),e(t,44,0,l.Tb(t,44,0,l.Kb(t,45).transform(n.saving$))?"Saving":"Save")}))}function qg(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-save-bookmark-dialog",[],null,null,null,Gg,Dg)),l.xb(1,245760,null,0,Up,[O.i,ge.f,Dd.l,Dd.a,Bd.c,O.b,tp],null,null)],(function(e,t){e(t,1,0)}),null)}var Yg=l.ub("app-save-bookmark-dialog",Up,qg,{},{},[]),Xg=n("TtEo"),Zg=n("LC5p"),Jg=l.wb({encapsulation:0,styles:[[""]],data:{}});function eh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","text-danger pt-2"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["icon","exclamation-circle"]],null,null,null,fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(3,0,null,null,1,"span",[["class","pl-2 text-12"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["The scene graph will be trimmed using the clipping planes of the currently active chapter. Objects shared with other chapters will be lost. A page reload is recommended."]))],(function(e,t){e(t,2,0,"exclamation-circle")}),null)}function th(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function nh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function lh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,10,"app-form-field",[["label","Secondary Category"]],null,null,null,be,pe)),l.xb(1,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(2,0,null,0,8,"select",[["class","input"],["data-test","secondaryCategory"],["formControlName","secondaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,3).onTouched()&&i),i}),null,null)),l.xb(3,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(5,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(7,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.ob(16777216,null,null,2,null,nh)),l.xb(9,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Secondary Category"),e(t,5,0,"secondaryCategory"),e(t,9,0,l.Tb(t,9,0,l.Kb(t,10).transform(n.secondaryCategoryOptions$)))}),(function(e,t){e(t,2,0,l.Kb(t,7).ngClassUntouched,l.Kb(t,7).ngClassTouched,l.Kb(t,7).ngClassPristine,l.Kb(t,7).ngClassDirty,l.Kb(t,7).ngClassValid,l.Kb(t,7).ngClassInvalid,l.Kb(t,7).ngClassPending)}))}function ih(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","text-info"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["icon","exclamation-triangle"]],null,null,null,fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),l.Sb(4,null,["",""])),(e()(),l.yb(5,0,null,null,1,"span",[["class","pl-2 text-bold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["(File exists)"]))],(function(e,t){e(t,2,0,"exclamation-triangle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function oh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["icon","exclamation-circle"]],null,null,null,fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),l.Sb(4,null,["",""])),(e()(),l.yb(5,0,null,null,1,"span",[["class","pl-2 text-bold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["(File exists and cannot be overwritten)"]))],(function(e,t){e(t,2,0,"exclamation-circle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function ah(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","text-success"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["icon","check-circle"]],null,null,null,fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),l.Sb(4,null,["",""]))],(function(e,t){e(t,2,0,"check-circle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function rh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","pt-2 text-12"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,ih)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,oh)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,ah)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.moduleExists&&!n.formDuplicateStates.value),e(t,4,0,n.moduleExists&&n.formDuplicateStates.value),e(t,6,0,!n.moduleExists)}),null)}function uh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,9,"app-form-field",[["label","Production Save"]],null,null,null,be,pe)),l.xb(1,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(2,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","confirmProduction"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(3,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(5,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(7,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(8,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["I intend to save to Production"]))],(function(e,t){e(t,1,0,"Production Save"),e(t,5,0,"confirmProduction")}),(function(e,t){e(t,2,1,[l.Kb(t,3).id,null,l.Kb(t,3).indeterminate,l.Kb(t,3).checked,l.Kb(t,3).disabled,"before"==l.Kb(t,3).labelPosition,"NoopAnimations"===l.Kb(t,3)._animationMode,l.Kb(t,7).ngClassUntouched,l.Kb(t,7).ngClassTouched,l.Kb(t,7).ngClassPristine,l.Kb(t,7).ngClassDirty,l.Kb(t,7).ngClassValid,l.Kb(t,7).ngClassInvalid,l.Kb(t,7).ngClassPending])}))}function ch(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,26,"div",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,25,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(2,212992,null,0,ge.i,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.i]),l.xb(4,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(5,0,null,null,21,"div",[["class","flex"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,7,"div",[["class","flex-shrink pr-2 pt-2"]],null,null,null,null,null)),(e()(),l.yb(7,16777216,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["data-test","includeState"],["formControlName","include"],["matTooltip","Include State"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0;return"longpress"===t&&(i=!1!==l.Kb(e,9).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,9)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,9)._handleTouchend()&&i),i}),xe.b,xe.a)),l.xb(8,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.xb(9,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(11,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(13,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(14,0,null,null,12,"div",[["class","flex-grow"]],null,null,null,null,null)),(e()(),l.yb(15,0,null,null,5,"input",[["class","input"],["data-test","oldState"],["formControlName","oldState"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,16)._compositionEnd(n.target.value)&&i),i}),null,null)),l.xb(16,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.d]),l.xb(18,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(20,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(21,0,null,null,5,"input",[["class","input"],["data-test","newState"],["formControlName","newState"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,22)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,22).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,22)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,22)._compositionEnd(n.target.value)&&i),i}),null,null)),l.xb(22,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.d]),l.xb(24,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(26,16384,null,0,ge.o,[[4,ge.n]],null,null)],(function(e,t){e(t,2,0,t.context.index),e(t,9,0,"Include State"),e(t,11,0,"include"),e(t,18,0,"oldState"),e(t,24,0,"newState")}),(function(e,t){e(t,1,0,l.Kb(t,4).ngClassUntouched,l.Kb(t,4).ngClassTouched,l.Kb(t,4).ngClassPristine,l.Kb(t,4).ngClassDirty,l.Kb(t,4).ngClassValid,l.Kb(t,4).ngClassInvalid,l.Kb(t,4).ngClassPending),e(t,7,1,[l.Kb(t,8).id,null,l.Kb(t,8).indeterminate,l.Kb(t,8).checked,l.Kb(t,8).disabled,"before"==l.Kb(t,8).labelPosition,"NoopAnimations"===l.Kb(t,8)._animationMode,l.Kb(t,13).ngClassUntouched,l.Kb(t,13).ngClassTouched,l.Kb(t,13).ngClassPristine,l.Kb(t,13).ngClassDirty,l.Kb(t,13).ngClassValid,l.Kb(t,13).ngClassInvalid,l.Kb(t,13).ngClassPending]),e(t,15,0,l.Kb(t,20).ngClassUntouched,l.Kb(t,20).ngClassTouched,l.Kb(t,20).ngClassPristine,l.Kb(t,20).ngClassDirty,l.Kb(t,20).ngClassValid,l.Kb(t,20).ngClassInvalid,l.Kb(t,20).ngClassPending),e(t,21,0,l.Kb(t,26).ngClassUntouched,l.Kb(t,26).ngClassTouched,l.Kb(t,26).ngClassPristine,l.Kb(t,26).ngClassDirty,l.Kb(t,26).ngClassValid,l.Kb(t,26).ngClassInvalid,l.Kb(t,26).ngClassPending)}))}function sh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,18,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"mat-divider",[["class","mv-4 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(2,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(3,0,null,null,15,"app-form-field",[["label","Prefix"]],null,null,null,be,pe)),l.xb(4,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(5,0,null,0,7,"div",[["class","flex"]],null,null,null,null,null)),(e()(),l.yb(6,0,[["prefix",1]],null,0,"input",[["class","input flex-25 w-25"],["pattern","[^ ]*"],["type","text"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","ml-2"],["data-test","prefixReplace"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleReplaceClick(l.Kb(e,6).value)&&i),i}),et,Je)),l.xb(8,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Replace"])),(e()(),l.yb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","ml-2"],["data-test","prefixPrepend"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handlePrependClick(l.Kb(e,6).value)&&i),i}),et,Je)),l.xb(11,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Prepend"])),(e()(),l.yb(13,0,null,0,5,"div",[["class","pv-4 text-12"],["formArrayName","states"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.xb(14,212992,null,0,ge.e,[[3,ge.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Pb(2048,null,ge.c,null,[ge.e]),l.xb(16,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.ob(16777216,null,null,1,null,ch)),l.xb(18,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"Prefix"),e(t,8,0,"outline","light"),e(t,11,0,"outline","light"),e(t,14,0,"states"),e(t,18,0,n.formStates.controls)}),(function(e,t){e(t,1,0,l.Kb(t,2).vertical?"vertical":"horizontal",l.Kb(t,2).vertical,!l.Kb(t,2).vertical,l.Kb(t,2).inset),e(t,7,0,l.Kb(t,8).disabled),e(t,10,0,l.Kb(t,11).disabled),e(t,13,0,l.Kb(t,16).ngClassUntouched,l.Kb(t,16).ngClassTouched,l.Kb(t,16).ngClassPristine,l.Kb(t,16).ngClassDirty,l.Kb(t,16).ngClassValid,l.Kb(t,16).ngClassInvalid,l.Kb(t,16).ngClassPending)}))}function ph(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,vb,xb)),l.xb(2,114688,null,0,yb,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),l.Sb(-1,null,[" Validating "]))],(function(e,t){e(t,2,0,"medium","inline")}),null)}function dh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,vb,xb)),l.xb(2,114688,null,0,yb,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),l.Sb(-1,null,[" Saving "]))],(function(e,t){e(t,2,0,"medium","inline")}),null)}function bh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Save Module "]))],null,null)}function gh(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.xb(1,81920,null,0,Dd.m,[[2,Dd.l],l.l,Dd.e],null,null),(e()(),l.Sb(-1,null,[" Save Module\n"])),(e()(),l.yb(3,0,null,null,68,"div",[["class","theme-light mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.xb(4,16384,null,0,Dd.j,[],null,null),(e()(),l.yb(5,0,null,null,66,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==l.Kb(e,7).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,7).onReset()&&i),"submit"===t&&(i=!1!==o.handleSubmit()&&i),i}),null,null)),l.xb(6,16384,null,0,ge.C,[],null,null),l.xb(7,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(9,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(10,0,null,null,11,"app-form-field",[],null,null,null,be,pe)),l.xb(11,114688,null,0,se,[],null,null),(e()(),l.yb(12,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["data-test","duplicateStates"],["formControlName","duplicateStates"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(13,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(15,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(17,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(18,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Duplicate Content States"])),(e()(),l.yb(20,0,null,1,1,"div",[["form-field-help",""]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" This requires that you specify the location for the new module, and new unused names for each of the content states. "])),(e()(),l.yb(22,0,null,null,19,"app-form-field",[],null,null,null,be,pe)),l.xb(23,114688,null,0,se,[],null,null),(e()(),l.yb(24,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","trimShown"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(25,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(27,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(29,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(30,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Trim Shown Objects"])),(e()(),l.yb(32,0,null,0,7,"mat-checkbox",[["class","ml-4 mat-checkbox"],["formControlName","trimClipped"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe.b,xe.a)),l.xb(33,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(35,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(37,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(38,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Trim Clipped Objects"])),(e()(),l.ob(16777216,null,0,1,null,eh)),l.xb(41,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(42,0,null,null,1,"mat-divider",[["class","mb-4 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(43,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(44,0,null,null,10,"app-form-field",[["label","Primary Category"]],null,null,null,be,pe)),l.xb(45,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(46,0,null,0,8,"select",[["class","input"],["data-test","primaryCategory"],["formControlName","primaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,47).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,47).onTouched()&&i),i}),null,null)),l.xb(47,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(49,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(51,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.ob(16777216,null,null,2,null,th)),l.xb(53,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,lh)),l.xb(56,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(58,0,null,null,9,"app-form-field",[["label","Name"]],null,null,null,be,pe)),l.xb(59,114688,null,0,se,[],{label:[0,"label"]},null),(e()(),l.yb(60,0,[["name",1]],0,5,"input",[["class","input w-100"],["data-test","moduleName"],["formControlName","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,61)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,61).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,61)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,61)._compositionEnd(n.target.value)&&i),i}),null,null)),l.xb(61,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.d]),l.xb(63,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(65,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.ob(16777216,null,0,1,null,rh)),l.xb(67,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,uh)),l.xb(69,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,sh)),l.xb(71,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(72,0,null,null,13,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.xb(73,16384,null,0,Dd.f,[],null,null),(e()(),l.yb(74,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,75).dialogRef.close(l.Kb(e,75).dialogResult)&&i),i}),et,Je)),l.xb(75,606208,null,0,Dd.g,[[2,Dd.l],l.l,Dd.e],{type:[0,"type"]},null),l.xb(76,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Cancel"])),(e()(),l.yb(78,0,null,null,7,"button",[["app-button",""],["buttonTheme","light"],["buttonType","primary"],["data-test","saveModuleSubmit"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSubmit()&&l),l}),et,Je)),l.xb(79,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.ob(16777216,null,0,1,null,ph)),l.xb(81,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,dh)),l.xb(83,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,bh)),l.xb(85,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n,i=t.component;e(t,1,0),e(t,7,0,i.form),e(t,11,0),e(t,15,0,"duplicateStates"),e(t,23,0),e(t,27,0,"trimShown"),e(t,35,0,"trimClipped"),e(t,41,0,i.formTrimClipped.value),e(t,45,0,"Primary Category"),e(t,49,0,"primaryCategory"),e(t,53,0,l.Tb(t,53,0,l.Kb(t,54).transform(i.primaryCategoryOptions$))),e(t,56,0,null==(n=l.Tb(t,56,0,l.Kb(t,57).transform(i.secondaryCategoryOptions$)))?null:n.length),e(t,59,0,"Name"),e(t,63,0,"name"),e(t,67,0,i.modulePath&&l.Kb(t,60).value.length),e(t,69,0,"production"===i.formPrimaryCategory.value),e(t,71,0,i.formDuplicateStates.value),e(t,75,0,"button"),e(t,76,0,"light"),e(t,79,0,"primary","light",i.saving||!i.form.valid||i.validating),e(t,81,0,i.validating),e(t,83,0,i.saving),e(t,85,0,!i.validating&&!i.saving)}),(function(e,t){e(t,0,0,l.Kb(t,1).id),e(t,5,0,l.Kb(t,9).ngClassUntouched,l.Kb(t,9).ngClassTouched,l.Kb(t,9).ngClassPristine,l.Kb(t,9).ngClassDirty,l.Kb(t,9).ngClassValid,l.Kb(t,9).ngClassInvalid,l.Kb(t,9).ngClassPending),e(t,12,1,[l.Kb(t,13).id,null,l.Kb(t,13).indeterminate,l.Kb(t,13).checked,l.Kb(t,13).disabled,"before"==l.Kb(t,13).labelPosition,"NoopAnimations"===l.Kb(t,13)._animationMode,l.Kb(t,17).ngClassUntouched,l.Kb(t,17).ngClassTouched,l.Kb(t,17).ngClassPristine,l.Kb(t,17).ngClassDirty,l.Kb(t,17).ngClassValid,l.Kb(t,17).ngClassInvalid,l.Kb(t,17).ngClassPending]),e(t,24,1,[l.Kb(t,25).id,null,l.Kb(t,25).indeterminate,l.Kb(t,25).checked,l.Kb(t,25).disabled,"before"==l.Kb(t,25).labelPosition,"NoopAnimations"===l.Kb(t,25)._animationMode,l.Kb(t,29).ngClassUntouched,l.Kb(t,29).ngClassTouched,l.Kb(t,29).ngClassPristine,l.Kb(t,29).ngClassDirty,l.Kb(t,29).ngClassValid,l.Kb(t,29).ngClassInvalid,l.Kb(t,29).ngClassPending]),e(t,32,1,[l.Kb(t,33).id,null,l.Kb(t,33).indeterminate,l.Kb(t,33).checked,l.Kb(t,33).disabled,"before"==l.Kb(t,33).labelPosition,"NoopAnimations"===l.Kb(t,33)._animationMode,l.Kb(t,37).ngClassUntouched,l.Kb(t,37).ngClassTouched,l.Kb(t,37).ngClassPristine,l.Kb(t,37).ngClassDirty,l.Kb(t,37).ngClassValid,l.Kb(t,37).ngClassInvalid,l.Kb(t,37).ngClassPending]),e(t,42,0,l.Kb(t,43).vertical?"vertical":"horizontal",l.Kb(t,43).vertical,!l.Kb(t,43).vertical,l.Kb(t,43).inset),e(t,46,0,l.Kb(t,51).ngClassUntouched,l.Kb(t,51).ngClassTouched,l.Kb(t,51).ngClassPristine,l.Kb(t,51).ngClassDirty,l.Kb(t,51).ngClassValid,l.Kb(t,51).ngClassInvalid,l.Kb(t,51).ngClassPending),e(t,60,0,l.Kb(t,65).ngClassUntouched,l.Kb(t,65).ngClassTouched,l.Kb(t,65).ngClassPristine,l.Kb(t,65).ngClassDirty,l.Kb(t,65).ngClassValid,l.Kb(t,65).ngClassInvalid,l.Kb(t,65).ngClassPending),e(t,74,0,l.Kb(t,75).ariaLabel||null,l.Kb(t,75).type,l.Kb(t,76).disabled),e(t,78,0,l.Kb(t,79).disabled)}))}function hh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-save-module-dialog",[],null,null,null,gh,Jg)),l.xb(1,245760,null,0,vd,[O.i,O.b,ge.f,rd,l.i,Bd.c,Dd.l,Dd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var mh=l.ub("app-save-module-dialog",vd,hh,{},{},[]),fh=l.wb({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.welcome__close[_ngcontent-%COMP%]{cursor:pointer}.slide[_ngcontent-%COMP%]{width:800px;height:600px;position:relative;margin:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.slide__item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;text-align:center}.slide__item--hidden[_ngcontent-%COMP%]{display:none}.slide__logo[_ngcontent-%COMP%]{width:300px;margin:160px 0 40px}.slide__image[_ngcontent-%COMP%]{-webkit-box-flex:2;flex:2;overflow:auto;width:100%}.slide__nav[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:16px;margin:12px 0}.slide__nav-arrow[_ngcontent-%COMP%]{cursor:pointer;margin:auto 12px;opacity:.8}.slide__nav-arrow[_ngcontent-%COMP%]:hover{opacity:1}.slide__nav-arrow--disabled[_ngcontent-%COMP%]{opacity:.25;pointer-events:none}.slide__nav-dots[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.slide__nav-dot[_ngcontent-%COMP%]{margin:auto 4px;cursor:pointer;display:-webkit-box;display:flex;background-color:rgba(28,42,63,.4);border-radius:50%;width:14px;height:14px;line-height:17px}.slide__nav-dot[_ngcontent-%COMP%]:hover{background-color:rgba(28,42,63,.6)}.slide__nav-dot--active[_ngcontent-%COMP%]{background-color:#2d72dc}@media (max-width:1024px){.slide[_ngcontent-%COMP%]{width:100%;height:80vh}}"]],data:{}});function yh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["class","slide__logo"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.logo)}))}function xh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","text-24 text-medium text-uppercase mt-4"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.title)}))}function _h(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","text-18 mt-4 mb-4"]],[[2,"text-22",null],[2,"text-medium",null],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.logo,t.parent.context.$implicit.logo,t.parent.context.$implicit.text)}))}function vh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["class","slide__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.image)}))}function Oh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"div",[["class","slide__item"]],[[2,"slide__item--hidden",null]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,yh)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,xh)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,_h)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,vh)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit.logo),e(t,4,0,t.context.$implicit.title),e(t,6,0,t.context.$implicit.text),e(t,8,0,t.context.$implicit.image)}),(function(e,t){e(t,0,0,t.component.selectedIndex!==t.context.index)}))}function wh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","slide__nav-dot"]],[[2,"slide__nav-dot--active",null],[1,"title",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSelectSlideClick(e.context.index)&&l),l}),null,null))],null,(function(e,t){e(t,0,0,t.component.selectedIndex===t.context.index,t.context.$implicit.title)}))}function Ch(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,13,"div",[["class","welcome"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["class","welcome__close"],["icon","times"],["size","lg"],["title","Close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseTour()&&l),l}),fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(3,0,null,null,10,"div",[["class","slide"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Oh)),l.xb(5,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(6,0,null,null,7,"div",[["class","slide__nav"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,1,"app-icon",[["class","slide__nav-arrow"],["icon","chevron-left"]],[[2,"slide__nav-arrow--disabled",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePrevClick()&&l),l}),fe,me)),l.xb(8,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(9,0,null,null,2,"div",[["class","slide__nav-dots"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,wh)),l.xb(11,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(12,0,null,null,1,"app-icon",[["class","slide__nav-arrow"],["icon","chevron-right"]],[[2,"slide__nav-arrow--disabled",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleNextClick()&&l),l}),fe,me)),l.xb(13,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,5,0,n.slides),e(t,8,0,"chevron-left"),e(t,11,0,n.slides),e(t,13,0,"chevron-right")}),(function(e,t){var n=t.component;e(t,7,0,n.isFirstSlide),e(t,12,0,n.isLastSlide)}))}function jh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-welcome-tour-dialog",[],null,null,null,Ch,fh)),l.xb(1,245760,null,0,Hp,[O.i,Dd.l,Dd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var kh=l.ub("app-welcome-tour-dialog",Hp,jh,{},{},[]),Sh=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Ph=l.wb({encapsulation:2,styles:[[""]],data:{}});function Mh(e){return l.Ub(2,[l.Jb(null,0)],null,null)}var Ih=function(e){return e.Default="default",e.Commafied="commafied",e.flat="flat",e}({}),Th=function(){function e(){this.listType=Ih.Default}return e.prototype.ngOnInit=function(){},e}(),Kh=l.wb({encapsulation:2,styles:[['.list{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.list--default app-list-item{display:list-item;margin-left:16px;list-style-type:disc}.list--commafied{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;padding:0 4px 4px 0}.list--commafied app-list-item:not(:last-child):after{content:", ";float:right;padding-right:4px}.list--flat app-list-item:not(:last-child){margin-bottom:4px}.list__item{display:block}']],data:{}});function zh(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,3,"div",[["class","list"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(null,0)],(function(e,t){e(t,2,0,"list","list--"+t.component.listType)}),null)}var Uh=function(){function e(e,t){this.store=e,this.formBuilder=t,this.gallerySearchMode=jd,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"primaryCategoryControl",{get:function(){return this.queryForm.get("primaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryCategoryControl",{get:function(){return this.queryForm.get("secondaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathControl",{get:function(){return this.pathForm.get("path")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initForms(),this.initFormListeners(),this.store.dispatch(new Jp),this.store.dispatch(new ed(this.primaryCategoryControl.value))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initForms=function(){this.queryForm=this.formBuilder.group({primaryCategory:["production"],secondaryCategory:["maleAdult"]}),this.pathForm=this.formBuilder.group({path:[]}),this.searchLoft(this.getQuery())},e.prototype.initFormListeners=function(){var e=this;this.primaryCategoryControl.valueChanges.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handlePrimaryUpdate(t)})),Object(md.a)(this.queryForm.valueChanges,this.pathForm.valueChanges).pipe(Object(pr.a)(300),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.searchLoft(e.getQuery())}))},e.prototype.toggleSearchMode=function(e){this.store.dispatch(new jl.SetSearchMode(e))},e.prototype.handlePrimaryUpdate=function(e){this.secondaryCategoryControl.setValue(""),this.store.dispatch(new ed(e))},e.prototype.searchLoft=function(e){this.store.dispatch(new jl.SearchLoft(e.primaryCategory,e.secondaryCategory,e.name))},e.prototype.getQuery=function(){var e={primaryCategory:"",secondaryCategory:"",name:""};switch(this.store.selectSnapshot(Td.getSearchMode)){case jd.Query:e.primaryCategory=this.primaryCategoryControl.value,e.secondaryCategory=this.secondaryCategoryControl.value;break;case jd.Path:var t=decodeURIComponent(this.pathControl.value||""),n=t.split("/"),l=t.match(/([A-Za-z_-\s0-9]*\/)/gi);null!=l&&(e.primaryCategory=(l[0]||"").replace("/",""),e.secondaryCategory=(l[1]||"").replace("/",""),e.name=n.pop())}return e},Object(v.__decorate)([Object(O.e)(gd.getPrimaryCategoryOptions("read")),Object(v.__metadata)("design:type",J.a)],e.prototype,"primaryCategoryOptions$",void 0),Object(v.__decorate)([Object(O.e)(gd.getSecondaryCategoryOptions),Object(v.__metadata)("design:type",J.a)],e.prototype,"secondaryCategoryOptions$",void 0),Object(v.__decorate)([Object(O.e)(Td.getSearchMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"searchMode$",void 0),e}(),Eh=l.wb({encapsulation:0,styles:[[".gallery-filters[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]],data:{}});function Lh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function Ah(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function Fh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"select",[["class","input mr-2 w-25"],["formControlName","secondaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,1).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,1).onTouched()&&i),i}),null,null)),l.xb(1,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(3,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(5,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.ob(16777216,null,null,2,null,Ah)),l.xb(7,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,"secondaryCategory"),e(t,7,0,l.Tb(t,7,0,l.Kb(t,8).transform(n.secondaryCategoryOptions$)))}),(function(e,t){e(t,0,0,l.Kb(t,5).ngClassUntouched,l.Kb(t,5).ngClassTouched,l.Kb(t,5).ngClassPristine,l.Kb(t,5).ngClassDirty,l.Kb(t,5).ngClassValid,l.Kb(t,5).ngClassInvalid,l.Kb(t,5).ngClassPending)}))}function Dh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,19,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,2).onReset()&&i),i}),null,null)),l.xb(1,16384,null,0,ge.C,[],null,null),l.xb(2,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(4,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(5,0,null,null,8,"select",[["autofocus",""],["class","input mr-2 w-25"],["formControlName","primaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,6).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,6).onTouched()&&i),i}),null,null)),l.xb(6,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(8,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(10,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.ob(16777216,null,null,2,null,Lh)),l.xb(12,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,Fh)),l.xb(15,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(17,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["data-test","specifyFilePath"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.toggleSearchMode(i.gallerySearchMode.Path)&&l),l}),et,Je)),l.xb(18,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["...or specify file path"]))],(function(e,t){var n,i=t.component;e(t,2,0,i.queryForm),e(t,8,0,"primaryCategory"),e(t,12,0,l.Tb(t,12,0,l.Kb(t,13).transform(i.primaryCategoryOptions$))),e(t,15,0,null==(n=l.Tb(t,15,0,l.Kb(t,16).transform(i.secondaryCategoryOptions$)))?null:n.length),e(t,18,0,"light")}),(function(e,t){e(t,0,0,l.Kb(t,4).ngClassUntouched,l.Kb(t,4).ngClassTouched,l.Kb(t,4).ngClassPristine,l.Kb(t,4).ngClassDirty,l.Kb(t,4).ngClassValid,l.Kb(t,4).ngClassInvalid,l.Kb(t,4).ngClassPending),e(t,5,0,l.Kb(t,10).ngClassUntouched,l.Kb(t,10).ngClassTouched,l.Kb(t,10).ngClassPristine,l.Kb(t,10).ngClassDirty,l.Kb(t,10).ngClassValid,l.Kb(t,10).ngClassInvalid,l.Kb(t,10).ngClassPending),e(t,17,0,l.Kb(t,18).disabled)}))}function Nh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,13,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,2).onReset()&&i),i}),null,null)),l.xb(1,16384,null,0,ge.C,[],null,null),l.xb(2,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(4,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(5,0,null,null,5,"input",[["class","input mr-2 w-75"],["data-test","moduleIdInput"],["formControlName","path"],["placeholder","primary/secondary/name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,6)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,6).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,6)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,6)._compositionEnd(n.target.value)&&i),i}),null,null)),l.xb(6,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.d]),l.xb(8,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(10,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.yb(11,0,null,null,2,"button",[["app-button",""],["autofocus",""],["buttonTheme","light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.toggleSearchMode(i.gallerySearchMode.Query)&&l),l}),et,Je)),l.xb(12,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Cancel"]))],(function(e,t){e(t,2,0,t.component.pathForm),e(t,8,0,"path"),e(t,12,0,"light")}),(function(e,t){e(t,0,0,l.Kb(t,4).ngClassUntouched,l.Kb(t,4).ngClassTouched,l.Kb(t,4).ngClassPristine,l.Kb(t,4).ngClassDirty,l.Kb(t,4).ngClassValid,l.Kb(t,4).ngClassInvalid,l.Kb(t,4).ngClassPending),e(t,5,0,l.Kb(t,10).ngClassUntouched,l.Kb(t,10).ngClassTouched,l.Kb(t,10).ngClassPristine,l.Kb(t,10).ngClassDirty,l.Kb(t,10).ngClassValid,l.Kb(t,10).ngClassInvalid,l.Kb(t,10).ngClassPending),e(t,11,0,l.Kb(t,12).disabled)}))}function Rh(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,2,null,Dh)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,Nh)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.searchMode$))===n.gallerySearchMode.Query),e(t,4,0,l.Tb(t,4,0,l.Kb(t,5).transform(n.searchMode$))===n.gallerySearchMode.Path)}),null)}var Bh=n("ad02"),Hh=function(){function e(e,t,n){this.store=e,this.changeDetectorRef=t,this.formBuilder=n,this.ngUnsubscribe=new Z.a,this.groupedOptions={}}return Object.defineProperty(e.prototype,"queryControl",{get:function(){return this.form.get("query")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryControl",{get:function(){return this.form.get("category")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initForm(),this.initFormListeners(),this.populateDropdown()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initForm=function(){var e=this.store.selectSnapshot(Td.getStudioCategoryId),t=this.store.selectSnapshot(Td.getStudioQuery);this.form=this.formBuilder.group({category:[e],query:[t]})},e.prototype.initFormListeners=function(){var e=this;this.form.valueChanges.pipe(Object(ol.a)((function(){e.category=e.store.selectSnapshot(Td.getStudioOptions).find((function(t){return t.id===e.categoryControl.value})),e.changeDetectorRef.markForCheck()})),Object(s.a)((function(e){return JSON.stringify(e)})),Object(Bh.a)(),Object(s.a)((function(e){return JSON.parse(e)})),Object(pr.a)(300),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new jl.SearchStudio(e.category,e.queryControl.value))}))},e.prototype.populateDropdown=function(){var e=this,t=this.store.selectSnapshot(ip.getOrganization);this.store.dispatch(new jl.GetStudioOptions(t?t.id:null)),this.store.select(Td.getStudioOptions).pipe(Object(te.a)((function(e){return e.length>0})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateOptions(t)}))},e.prototype.updateOptions=function(e){this.groupedOptions=Object(Et.groupBy)(e,(function(e){return e.type}));var t=this.store.selectSnapshot(Td.getStudioCategoryId);this.category=e.find((function(e){return e.id===t})),this.categoryControl.setValue(this.category.id),this.changeDetectorRef.markForCheck()},Object(v.__decorate)([Object(O.e)(Td.getStudioCategoryId),Object(v.__metadata)("design:type",J.a)],e.prototype,"categoryId$",void 0),Object(v.__decorate)([Object(O.e)(Td.getStudioQuery),Object(v.__metadata)("design:type",J.a)],e.prototype,"query$",void 0),e}(),Vh=l.wb({encapsulation:0,styles:[[".gallery-filters[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.gallery-filters__category[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 auto;position:relative}.gallery-filters__category-select[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;z-index:2}.gallery-filters__category-selection[_ngcontent-%COMP%]{background-color:#d7e0ea;border:1px solid #96a8c0;border-right:0;-webkit-box-flex:1;flex:1 1 auto;border-radius:4px 0 0 4px}.gallery-filters__query[_ngcontent-%COMP%]{border-radius:0 4px 4px 0}"]],data:{}});function $h(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","gallery-filters__category-selection"],["type","button"]],[[8,"disabled",0]],null,null,et,Je)),l.xb(1,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(2,0,[""," "])),(e()(),l.yb(3,0,null,0,1,"app-icon",[["icon","caret-down"]],null,null,null,fe,me)),l.xb(4,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"flat","light"),e(t,4,0,"caret-down")}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).disabled),e(t,2,0,n.category.label)}))}function Qh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,["\xa0\xa0"]))],null,null)}function Wh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.ob(16777216,null,null,1,null,Qh)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.Sb(5,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,""!==t.context.$implicit.value)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function Gh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.label)}))}function qh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,["\xa0\xa0"]))],null,null)}function Yh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.ob(16777216,null,null,1,null,qh)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.Sb(5,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,""!==t.context.$implicit.value)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function Xh(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.xb(1,147456,null,0,ge.r,[l.l,l.I,[2,ge.w]],{value:[0,"value"]},null),l.xb(2,147456,null,0,ge.B,[l.l,l.I,[8,null]],{value:[0,"value"]},null),(e()(),l.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.label)}))}function Zh(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,27,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Kb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Kb(e,2).onReset()&&i),i}),null,null)),l.xb(1,16384,null,0,ge.C,[],null,null),l.xb(2,540672,null,0,ge.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Pb(2048,null,ge.c,null,[ge.h]),l.xb(4,16384,null,0,ge.p,[[4,ge.c]],null,null),(e()(),l.yb(5,0,null,null,16,"div",[["class","gallery-filters__category"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,$h)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(8,0,null,null,13,"select",[["class","gallery-filters__category-select"],["formControlName","category"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Kb(e,9).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,9).onTouched()&&i),i}),null,null)),l.xb(9,16384,null,0,ge.w,[l.I,l.l],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.w]),l.xb(11,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(13,16384,null,0,ge.o,[[4,ge.n]],null,null),(e()(),l.ob(16777216,null,null,1,null,Wh)),l.xb(15,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ob(16777216,null,null,1,null,Gh)),l.xb(17,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ob(16777216,null,null,1,null,Yh)),l.xb(19,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ob(16777216,null,null,1,null,Xh)),l.xb(21,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(22,0,null,null,5,"input",[["class","input gallery-filters__query"],["formControlName","query"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Kb(e,23)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Kb(e,23).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Kb(e,23)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Kb(e,23)._compositionEnd(n.target.value)&&i),i}),null,null)),l.xb(23,16384,null,0,ge.d,[l.I,l.l,[2,ge.a]],null,null),l.Pb(1024,null,ge.m,(function(e){return[e]}),[ge.d]),l.xb(25,671744,null,0,ge.g,[[3,ge.c],[8,null],[8,null],[6,ge.m],[2,ge.A]],{name:[0,"name"]},null),l.Pb(2048,null,ge.n,null,[ge.g]),l.xb(27,16384,null,0,ge.o,[[4,ge.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,n.form),e(t,7,0,n.category),e(t,11,0,"category"),e(t,15,0,n.groupedOptions.category),e(t,17,0,n.groupedOptions.organization),e(t,19,0,n.groupedOptions.collection),e(t,21,0,n.groupedOptions.user),e(t,25,0,"query")}),(function(e,t){e(t,0,0,l.Kb(t,4).ngClassUntouched,l.Kb(t,4).ngClassTouched,l.Kb(t,4).ngClassPristine,l.Kb(t,4).ngClassDirty,l.Kb(t,4).ngClassValid,l.Kb(t,4).ngClassInvalid,l.Kb(t,4).ngClassPending),e(t,8,0,l.Kb(t,13).ngClassUntouched,l.Kb(t,13).ngClassTouched,l.Kb(t,13).ngClassPristine,l.Kb(t,13).ngClassDirty,l.Kb(t,13).ngClassValid,l.Kb(t,13).ngClassInvalid,l.Kb(t,13).ngClassPending),e(t,22,0,l.Kb(t,27).ngClassUntouched,l.Kb(t,27).ngClassTouched,l.Kb(t,27).ngClassPristine,l.Kb(t,27).ngClassDirty,l.Kb(t,27).ngClassValid,l.Kb(t,27).ngClassInvalid,l.Kb(t,27).ngClassPending)}))}var Jh=function(){function e(e,t){this.templateRef=e,this.viewContainer=t}return e.prototype.ngOnInit=function(){this.update()},e.prototype.update=function(){"module"===u.exportType?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()},e}(),em=function(){function e(e,t){this.templateRef=e,this.viewContainer=t}return e.prototype.ngOnInit=function(){this.update()},e.prototype.update=function(){"bookmark"===u.exportType?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()},e}(),tm=function(){function e(e){this.changeDetectorRef=e,this.sortOptions=[],this.sortChange=new l.o}return Object.defineProperty(e.prototype,"sort",{get:function(){return this._sort},set:function(e){this._sort=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSort=function(e){this.sortChange.emit(e)},e}(),nm=l.wb({encapsulation:0,styles:[[""]],data:{}});function lm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleSort(e.context.$implicit)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(2,0,[" "," "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null),e(t,2,0,t.context.$implicit.label)}))}function im(e){return l.Ub(2,[(e()(),l.yb(0,16777216,null,null,5,"button",[["app-button",""],["aria-haspopup","true"],["buttonTheme","light"],["buttonType","flat"],["class","mat-menu-trigger"]],[[8,"disabled",0],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Kb(e,2)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,2)._handleClick(n)&&i),i}),et,Je)),l.xb(1,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),l.xb(2,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[8,null],[2,lt.b],ve.e],{menu:[0,"menu"]},null),(e()(),l.Sb(3,0,[" "," "])),(e()(),l.yb(4,0,null,0,1,"app-icon",[["class","ml-1"],["icon","caret-down"]],null,null,null,fe,me)),l.xb(5,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(6,0,null,null,8,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(9,1294336,[["sortActions",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,1,{_allItems:1}),l.Qb(603979776,2,{items:1}),l.Qb(603979776,3,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,lm)),l.xb(14,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"flat","light"),e(t,2,0,l.Kb(t,9)),e(t,5,0,"caret-down"),e(t,9,0),e(t,14,0,n.sortOptions)}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).disabled,l.Kb(t,2).menuOpen||null),e(t,3,0,n.sort.label)}))}var om=function(e){return e.Inline="inline",e.Block="block",e}({}),am=function(){function e(){this.render=om.Inline}return e.prototype.ngOnInit=function(){},e}(),rm=l.wb({encapsulation:2,styles:[[".app-button-group{display:-webkit-inline-box;display:inline-flex;position:relative}.app-button-group--inline{display:-webkit-inline-box;display:inline-flex}.app-button-group--block{display:-webkit-box;display:flex}.app-button-group--expanded{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-pack:center;justify-content:center}.app-button-group button[app-button]{position:relative;z-index:1;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.app-button-group button[app-button]:hover{z-index:2}.app-button-group button[app-button]:first-child .app-button,.app-button-group button[app-button]:first-child .app-button:after{border-top-right-radius:0;border-bottom-right-radius:0}.app-button-group button[app-button]:last-child .app-button,.app-button-group button[app-button]:last-child .app-button:after{border-top-left-radius:0;border-bottom-left-radius:0}.app-button-group button[app-button]:last-child .app-button{margin-left:1px}.app-button-group button[app-button]:last-child .app-button--outline{margin-left:-1px}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button,.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button:after{border-radius:0}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button{margin-left:1px}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button--outline{margin-left:-1px}"]],data:{}});function um(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,4,"div",[["class","app-button-group"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Lb(3,1),l.Jb(null,0)],(function(e,t){var n=e(t,3,0,"app-button-group--"+t.component.render);e(t,2,0,"app-button-group",n)}),null)}var cm=function(){function e(e){this.store=e,this.galleryViewMode=kd}return e.prototype.ngOnInit=function(){},e.prototype.handleViewModeClick=function(e){this.store.dispatch(new jl.SetViewMode(e))},Object(v.__decorate)([Object(O.e)(Td.getViewMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewMode$",void 0),e}(),sm=l.wb({encapsulation:0,styles:[[""]],data:{}});function pm(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,11,"app-button-group",[],null,null,null,um,rm)),l.xb(1,114688,null,0,am,[],null,null),(e()(),l.yb(2,0,null,0,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleViewModeClick(i.galleryViewMode.Cards)&&l),l}),et,Je)),l.xb(3,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],selected:[2,"selected"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(5,0,null,0,1,"app-icon",[["icon","th"]],null,null,null,fe,me)),l.xb(6,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(7,0,null,0,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleViewModeClick(i.galleryViewMode.List)&&l),l}),et,Je)),l.xb(8,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],selected:[2,"selected"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(10,0,null,0,1,"app-icon",[["icon","bars"]],null,null,null,fe,me)),l.xb(11,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,3,0,"flat","light",l.Tb(t,3,2,l.Kb(t,4).transform(n.viewMode$))===n.galleryViewMode.Cards),e(t,6,0,"th"),e(t,8,0,"flat","light",l.Tb(t,8,2,l.Kb(t,9).transform(n.viewMode$))===n.galleryViewMode.List),e(t,11,0,"bars")}),(function(e,t){e(t,2,0,l.Kb(t,3).disabled),e(t,7,0,l.Kb(t,8).disabled)}))}var dm=function(){function e(e){this.store=e,this.galleryViewMode=kd}return e.prototype.ngOnInit=function(){},e.prototype.handleSort=function(e){this.store.dispatch(new jl.SetSort(e))},e.prototype.toggleView=function(e){this.store.dispatch(new jl.SetViewMode(e))},Object(v.__decorate)([Object(O.e)(Td.getViewMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewMode$",void 0),Object(v.__decorate)([Object(O.e)(Td.getSort),Object(v.__metadata)("design:type",J.a)],e.prototype,"sort$",void 0),Object(v.__decorate)([Object(O.e)(Td.getSortOptions),Object(v.__metadata)("design:type",J.a)],e.prototype,"sortOptions$",void 0),e}(),bm=l.wb({encapsulation:0,styles:[[""]],data:{}});function gm(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,3,"app-sort",[["class","mr-4"]],null,[[null,"sortChange"]],(function(e,t,n){var l=!0;return"sortChange"===t&&(l=!1!==e.component.handleSort(n)&&l),l}),im,nm)),l.xb(1,114688,null,0,tm,[l.i],{sort:[0,"sort"],sortOptions:[1,"sortOptions"]},{sortChange:"sortChange"}),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(4,0,null,null,1,"app-gallery-view-mode",[],null,null,null,pm,sm)),l.xb(5,114688,null,0,cm,[O.i],null,null)],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.sort$)),l.Tb(t,1,1,l.Kb(t,3).transform(n.sortOptions$))),e(t,5,0)}),null)}var hm=n("szML"),mm=n("52Qo"),fm=function(e){return e.Model="model",e.Tags="tags",e.CreatedBy="created-by",e.UpdatedBy="updated-by",e.Actions="actions",e}({}),ym=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},xm=function(){function e(e){this.changeDetectorRef=e,this.selectLabel="Select",this._columns=[fm.Model,fm.Tags,fm.CreatedBy,fm.UpdatedBy,fm.Actions],this.showActions=!1,this.checkable=!1,this.checkedResults=[],this.checkedChange=new l.o,this.selectBookmark=new l.o}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){var t=e.checked?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ym(arguments[t]));return e}(this.checkedResults,[e.source.value]):this.checkedResults.filter((function(t){return t!==e.source.value}));this.checkedChange.emit(t)},e.prototype.isChecked=function(e){return this.checkedResults.indexOf(e)>=0},e}(),_m=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{display:block;height:100%;width:100%}.gallery[_ngcontent-%COMP%]{width:100%;height:100%}.gallery__table[_ngcontent-%COMP%]{width:100%}.gallery__row[_ngcontent-%COMP%]:nth-child(even){background:#f9fafd}.gallery__row[_ngcontent-%COMP%]:hover{background:#eaeff5;cursor:pointer}.gallery__row[_ngcontent-%COMP%]:hover   .gallery__actions[_ngcontent-%COMP%], .gallery__row[_ngcontent-%COMP%]:hover   .gallery__checkbox[_ngcontent-%COMP%]{visibility:visible}.gallery__row--checked[_ngcontent-%COMP%]:nth-child(even), .gallery__row--checked[_ngcontent-%COMP%]:nth-child(odd){background:#d7e0ea}.gallery__row--checked[_ngcontent-%COMP%]   .gallery__checkbox[_ngcontent-%COMP%]{visibility:visible}.gallery__cell[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;padding:8px;vertical-align:middle}.gallery__cell--header[_ngcontent-%COMP%]{background:#f9fafd;box-shadow:0 1px 0 #d7e0ea;padding:8px;color:#96a8c0;text-align:left;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.gallery__cell--meta[_ngcontent-%COMP%]{color:#f9fafd}.gallery__cell--tags[_ngcontent-%COMP%]{width:180px}.gallery__cell--author[_ngcontent-%COMP%]{color:#96a8c0;width:120px}.gallery__cell--updated[_ngcontent-%COMP%]{color:#96a8c0;width:160px}.gallery__cell--checkbox[_ngcontent-%COMP%]{width:32px}.gallery__cell--actions[_ngcontent-%COMP%]{width:80px}.gallery__model[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-flex:1;flex:1 1 auto}.gallery__image-container[_ngcontent-%COMP%]{background:url(/assets/images/logo-dark-transparent.svg) center center/75% no-repeat #f9fafd;border-radius:4px;border:1px solid #d7e0ea;-webkit-box-flex:0;flex:0 0 36px;height:36px;margin-right:8px}.gallery__image[_ngcontent-%COMP%]{border-radius:4px;width:100%;height:100%;background-size:cover}.gallery__label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:500;word-break:break-word}.gallery__actions[_ngcontent-%COMP%]{visibility:hidden;white-space:nowrap}.gallery__checkbox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;visibility:hidden}"]],data:{}});function vm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","gallery__image"]],null,null,null,null,null)),l.Pb(512,null,ce.C,ce.D,[l.l,l.w,l.I]),l.xb(2,278528,null,0,ce.p,[ce.C],{ngStyle:[0,"ngStyle"]},null),l.Nb(3,{"background-image":0})],(function(e,t){var n=e(t,3,0,"url("+t.parent.context.$implicit.thumbnail_url+")");e(t,2,0,n)}),null)}function Om(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function wm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," on "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.last_editor_first_name||t.parent.context.$implicit.last_editor)}))}function Cm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["appEventFence",""],["class","gallery__checkbox hide-sm"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.xb(1,16384,null,0,ye,[],null,null),(e()(),l.yb(2,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.handleCheckedChange(n)&&l),l}),xe.b,xe.a)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(4,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],{value:[0,"value"],checked:[1,"checked"]},{change:"change"})],(function(e,t){e(t,4,0,t.parent.parent.context.$implicit.id,t.component.isChecked(t.parent.parent.context.$implicit.id))}),(function(e,t){e(t,2,0,l.Kb(t,4).id,null,l.Kb(t,4).indeterminate,l.Kb(t,4).checked,l.Kb(t,4).disabled,"before"==l.Kb(t,4).labelPosition,"NoopAnimations"===l.Kb(t,4)._animationMode)}))}function jm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"td",[["appEventFence",""],["class","gallery__cell gallery__cell--checkbox hide-md"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.xb(1,16384,null,0,ye,[],null,null),(e()(),l.ob(16777216,null,null,1,null,Cm)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.checkable)}),null)}function km(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Sm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"td",[["appEventFence",""],["class","gallery__cell gallery__cell--actions hide-md"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.xb(1,16384,null,0,ye,[],null,null),(e()(),l.yb(2,0,null,null,3,"div",[["class","gallery__actions"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,km)),l.xb(4,540672,null,0,ce.t,[l.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Nb(5,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,5,0,t.parent.context.$implicit);e(t,4,0,l,n.galleryActionsTemplate)}),null)}function Pm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,26,"tr",[["class","gallery__row"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSelect(e.context.$implicit)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"gallery__row--checked":0}),(e()(),l.yb(4,0,null,null,6,"td",[["class","gallery__cell gallery__cell--model"]],null,null,null,null,null)),(e()(),l.yb(5,0,null,null,5,"div",[["class","gallery__model"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,2,"div",[["class","gallery__image-container"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,vm)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(9,0,null,null,1,"div",[["class","gallery__label"]],null,null,null,null,null)),(e()(),l.Sb(10,null,["",""])),(e()(),l.yb(11,0,null,null,4,"td",[["class","gallery__cell gallery__cell--tags hide-md"]],null,null,null,null,null)),(e()(),l.yb(12,0,null,null,3,"span",[["class","text-10 text-uppercase text-medium text-dim"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,Om)),l.xb(14,540672,null,0,ce.t,[l.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Nb(15,{$implicit:0}),(e()(),l.yb(16,0,null,null,1,"td",[["class","gallery__cell gallery__cell--author hide-md"]],null,null,null,null,null)),(e()(),l.Sb(17,null,[" "," "])),(e()(),l.yb(18,0,null,null,4,"td",[["class","gallery__cell gallery__cell--updated hide-md"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,wm)),l.xb(20,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.Sb(21,null,[" "," "])),l.Ob(22,2),(e()(),l.ob(16777216,null,null,1,null,jm)),l.xb(24,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Sm)),l.xb(26,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.isChecked(t.context.$implicit.id));e(t,2,0,"gallery__row",l),e(t,8,0,t.context.$implicit.thumbnail_url);var i=e(t,15,0,t.context.$implicit);e(t,14,0,i,n.galleryTagsTemplate),e(t,20,0,null==t.context.$implicit.editor?null:t.context.$implicit.editor.name),e(t,24,0,n.checkable),e(t,26,0,n.showActions)}),(function(e,t){e(t,10,0,t.context.$implicit.title),e(t,17,0,t.context.$implicit.author_first_name||t.context.$implicit.author);var n=l.Tb(t,21,0,e(t,22,0,l.Kb(t.parent,0),t.context.$implicit.update_date_time||t.context.$implicit.create_date_time,"shortDate"));e(t,21,0,n)}))}function Mm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"td",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null))],null,null)}function Im(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null))],null,null)}function Tm(e){return l.Ub(0,[l.Mb(0,ce.e,[l.x]),(e()(),l.yb(1,0,null,null,20,"virtual-scroller",[["bufferAmount","20"],["class","gallery"]],[[2,"horizontal",null],[2,"vertical",null],[2,"selfScroll",null]],null,null,hm.b,hm.a)),l.xb(2,1032192,[["scroll",4]],2,mm.b,[l.l,l.I,l.C,l.i,l.E,[2,"virtual-scroller-default-options"]],{stripedTable:[0,"stripedTable"],bufferAmount:[1,"bufferAmount"],items:[2,"items"]},null),l.Qb(603979776,1,{headerElementRef:0}),l.Qb(603979776,2,{containerElementRef:0}),(e()(),l.yb(5,0,null,0,16,"table",[["class","gallery__table"]],null,null,null,null,null)),(e()(),l.yb(6,0,[[2,0],["container",1]],null,2,"tbody",[],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Pm)),l.xb(8,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),(e()(),l.yb(9,0,[[1,0],["header",1]],null,12,"thead",[],null,null,null,null,null)),(e()(),l.yb(10,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Model"])),(e()(),l.yb(12,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Tags"])),(e()(),l.yb(14,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Author"])),(e()(),l.yb(16,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Updated"])),(e()(),l.ob(16777216,null,null,1,null,Mm)),l.xb(19,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Im)),l.xb(21,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!0,"20",n.results),e(t,8,0,l.Kb(t,2).viewPortItems),e(t,19,0,n.checkable),e(t,21,0,n.showActions)}),(function(e,t){e(t,1,0,l.Kb(t,2).horizontal,!l.Kb(t,2).horizontal,!l.Kb(t,2).parentScroll)}))}var Km=function(){function e(e){this.changeDetectorRef=e,this.galleryColumns=fm,this.selectLabel="Select",this._columns=[fm.Model,fm.Tags,fm.CreatedBy,fm.UpdatedBy,fm.Actions],this.checkable=!1,this.checked=!1,this.showActions=!1,this.selectBookmark=new l.o,this.checkedChange=new l.o}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},set:function(e){this._result=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.hasColumns=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.some((function(t){return e.hasColumn(t)}))},e.prototype.hasColumn=function(e){return this.columns.some((function(t){return t===e}))},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){this.checkedChange.emit({id:e.source.value,checked:e.checked})},e}(),zm=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{padding:1px}[_nghost-%COMP%]:focus{outline:0}.gallery-card[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 -1px 1px 0 rgba(16,24,35,.15),0 1px 2px 0 rgba(16,24,35,.2);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;width:100%;height:100%;position:relative;overflow:hidden}.gallery-card[_ngcontent-%COMP%]:hover{cursor:pointer}.gallery-card[_ngcontent-%COMP%]:hover   .gallery-card__hover[_ngcontent-%COMP%]{display:block;opacity:1}.gallery-card[_ngcontent-%COMP%]:hover   .gallery-card__actions[_ngcontent-%COMP%]{opacity:1}.gallery-card--checked[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #0060c4}.gallery-card__image-container[_ngcontent-%COMP%]{background:url(/assets/images/logo-dark-transparent.svg) center center/30% no-repeat #eaeff5;border-radius:4px 4px 0 0;position:relative;-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex}.gallery-card__image[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;position:relative;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;background-size:cover;background-position:top center}.gallery-card__body[_ngcontent-%COMP%]{color:#283853;background:#fff;padding:12px;word-break:break-word;-webkit-box-flex:0;flex:0 1 72px}.gallery-card__label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:500}.gallery-card__hover[_ngcontent-%COMP%]{color:#fff;left:0;right:0;top:0;bottom:0;opacity:0;position:absolute;background:rgba(28,42,63,.9);-webkit-transition:opacity .25s;transition:opacity .25s;z-index:2}.gallery-card__action[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border:1px solid #fff;border-radius:4px;position:absolute;left:30%;top:40%;right:30%;text-align:center;padding:10px 12px}.gallery-card__meta[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em;color:#d7e0ea;padding:12px;position:absolute;bottom:0}.gallery-card__header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:8px 8px 8px 16px;min-height:36px}.gallery-card__check[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.gallery-card__actions[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;float:right;text-align:right;margin:-8px -8px 0 0;-webkit-transition:opacity 250ms;transition:opacity 250ms}"]],data:{}});function Um(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","gallery-card__image"]],null,null,null,null,null)),l.Pb(512,null,ce.C,ce.D,[l.l,l.w,l.I]),l.xb(2,278528,null,0,ce.p,[ce.C],{ngStyle:[0,"ngStyle"]},null),l.Nb(3,{"background-image":0})],(function(e,t){var n=e(t,3,0,"url("+t.component.result.thumbnail_url+")");e(t,2,0,n)}),null)}function Em(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Sb(1,null,["Created by ",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.result.author_first_name||n.result.author)}))}function Lm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.Sb(1,null,["Updated by "," on ",""])),l.Ob(2,2)],null,(function(e,t){var n=t.component,i=n.result.last_editor_first_name||n.result.last_editor,o=l.Tb(t,1,1,e(t,2,0,l.Kb(t.parent,0),n.result.update_date_time||n.result.create_date_time,"shortDate"));e(t,1,0,i,o)}))}function Am(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","gallery-card__check theme-ghost"]],[[2,"card__check--checked",null]],null,null,null,null)),(e()(),l.yb(1,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.handleCheckedChange(n)&&l),l}),xe.b,xe.a)),l.Pb(5120,null,ge.m,(function(e){return[e]}),[_e.b]),l.xb(3,8568832,null,0,_e.b,[l.l,l.i,ve.e,l.C,[8,null],[2,_e.a],[2,Oe.a]],{value:[0,"value"],checked:[1,"checked"]},{change:"change"})],(function(e,t){var n=t.component;e(t,3,0,n.result.id,n.checked)}),(function(e,t){e(t,0,0,t.component.checked),e(t,1,0,l.Kb(t,3).id,null,l.Kb(t,3).indeterminate,l.Kb(t,3).checked,l.Kb(t,3).disabled,"before"==l.Kb(t,3).labelPosition,"NoopAnimations"===l.Kb(t,3)._animationMode)}))}function Fm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Dm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Nm(e){return l.Ub(2,[l.Mb(0,ce.e,[l.x]),(e()(),l.yb(1,0,null,null,30,"div",[["class","gallery-card"],["data-test","galleryCard"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleSelect(i.result)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"gallery-card--checked":0}),(e()(),l.yb(5,0,null,null,14,"div",[["class","gallery-card__image-container"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Um)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(8,0,null,null,11,"div",[["class","gallery-card__hover hide-sm"]],null,null,null,null,null)),(e()(),l.yb(9,0,null,null,4,"div",[["class","gallery-card__meta"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Em)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Lm)),l.xb(13,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(14,0,null,null,1,"div",[["class","gallery-card__action"]],null,null,null,null,null)),(e()(),l.Sb(15,null,[" "," "])),(e()(),l.yb(16,0,null,null,3,"div",[["appEventFence",""],["class","gallery-card__header"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,17).onClick(n,n.target)&&i),i}),null,null)),l.xb(17,16384,null,0,ye,[],null,null),(e()(),l.ob(16777216,null,null,1,null,Am)),l.xb(19,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(20,0,null,null,11,"div",[["class","gallery-card__body"]],null,null,null,null,null)),(e()(),l.yb(21,0,null,null,4,"div",[["appEventFence",""],["class","gallery-card__actions hide-sm"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,22).onClick(n,n.target)&&i),i}),null,null)),l.xb(22,16384,null,0,ye,[],null,null),(e()(),l.ob(16777216,null,null,2,null,Fm)),l.xb(24,540672,null,0,ce.t,[l.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Nb(25,{$implicit:0}),(e()(),l.yb(26,0,null,null,1,"div",[["class","gallery-card__label"]],null,null,null,null,null)),(e()(),l.Sb(27,null,["",""])),(e()(),l.yb(28,0,null,null,3,"div",[["class","text-10 text-uppercase text-medium text-dim mt-2"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,Dm)),l.xb(30,540672,null,0,ce.t,[l.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Nb(31,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,4,0,n.checked);e(t,3,0,"gallery-card",l),e(t,7,0,n.result.thumbnail_url),e(t,11,0,n.hasColumn(n.galleryColumns.CreatedBy)&&n.result.author),e(t,13,0,n.hasColumn(n.galleryColumns.UpdatedBy)&&n.result.last_editor),e(t,19,0,n.checkable);var i=e(t,25,0,n.result);e(t,24,0,i,n.galleryActionsTemplate);var o=e(t,31,0,n.result);e(t,30,0,o,n.galleryTagsTemplate)}),(function(e,t){var n=t.component;e(t,15,0,n.selectLabel),e(t,27,0,n.result.title)}))}var Rm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Bm=function(){function e(){this.galleryColumns=fm,this.selectLabel="Select",this._columns=[fm.Model,fm.Tags,fm.CreatedBy,fm.UpdatedBy,fm.Actions],this.checkable=!1,this.checkedResults=[],this.showActions=!1,this.checkedChange=new l.o,this.selectBookmark=new l.o}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){var t=e.checked?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rm(arguments[t]));return e}(this.checkedResults,[e.id]):this.checkedResults.filter((function(t){return t!==e.id}));this.checkedChange.emit(t)},e.prototype.isChecked=function(e){return this.checkedResults.indexOf(e)>=0},e}(),Hm=l.wb({encapsulation:2,styles:[[":host{display:block;height:100%;width:100%}.gallery-cards{display:block;height:100%;width:100%}.gallery-cards__loading{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:20vh}.gallery-cards__content{display:block;padding:1px;height:100%}.gallery-cards__content .scrollable-content{display:grid;padding:1px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));grid-auto-rows:364px;grid-auto-flow:row;-webkit-box-pack:center;justify-content:center}.gallery-cards__content .scrollable-content app-gallery-card{padding:16px}"]],data:{}});function Vm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-gallery-card",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),Nm,zm)),l.xb(1,114688,null,2,Km,[l.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],result:[4,"result"],checkable:[5,"checkable"],checked:[6,"checked"],showActions:[7,"showActions"]},{selectBookmark:"selectBookmark",checkedChange:"checkedChange"}),l.Qb(335544320,3,{galleryActionsTemplate:0}),l.Qb(335544320,4,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,t.context.$implicit,n.checkable,n.isChecked(t.context.$implicit.id),n.showActions)}),null)}function $m(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,6,"div",[["class","gallery-cards"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,5,"virtual-scroller",[["class","gallery-cards__content"]],[[2,"horizontal",null],[2,"vertical",null],[2,"selfScroll",null]],null,null,hm.b,hm.a)),l.xb(2,1032192,[["scroll",4]],2,mm.b,[l.l,l.I,l.C,l.i,l.E,[2,"virtual-scroller-default-options"]],{items:[0,"items"]},null),l.Qb(603979776,1,{headerElementRef:0}),l.Qb(603979776,2,{containerElementRef:0}),(e()(),l.ob(16777216,null,0,1,null,Vm)),l.xb(6,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results),e(t,6,0,l.Kb(t,2).viewPortItems)}),(function(e,t){e(t,1,0,l.Kb(t,2).horizontal,!l.Kb(t,2).horizontal,!l.Kb(t,2).parentScroll)}))}var Qm=function(){function e(e){this.changeDetectorRef=e,this.galleryViewMode=kd,this.loading=!1,this.viewMode=kd.Cards,this.selectLabel="Select",this.checkable=!1,this.showActions=!1,this.checkedResults=[],this.selectBookmark=new l.o,this.checkedChange=new l.o}return Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){switch(u.exportType){case"bookmark":this.columns=[fm.Model,fm.Tags,fm.CreatedBy,fm.UpdatedBy,fm.Actions];break;case"module":this.columns=[fm.Model,fm.Actions]}},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){this.checkedChange.emit(e)},e}(),Wm=l.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:100%;position:relative}.no-results[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%;width:100%;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;left:0;top:0}"]],data:{}});function Gm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-gallery-list",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),Tm,_m)),l.xb(1,114688,null,2,xm,[l.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],results:[4,"results"],showActions:[5,"showActions"],checkable:[6,"checkable"],checkedResults:[7,"checkedResults"]},{checkedChange:"checkedChange",selectBookmark:"selectBookmark"}),l.Qb(335544320,1,{galleryActionsTemplate:0}),l.Qb(335544320,2,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,n.results,n.showActions,n.checkable,n.checkedResults)}),null)}function qm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-gallery-cards",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),$m,Hm)),l.xb(1,114688,null,2,Bm,[],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],results:[4,"results"],checkable:[5,"checkable"],checkedResults:[6,"checkedResults"],showActions:[7,"showActions"]},{checkedChange:"checkedChange",selectBookmark:"selectBookmark"}),l.Qb(335544320,3,{galleryActionsTemplate:0}),l.Qb(335544320,4,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,n.results,n.checkable,n.checkedResults,n.showActions)}),null)}function Ym(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-spinner",[["label","Loading..."],["size","large"]],null,null,null,vb,xb)),l.xb(1,114688,null,0,yb,[],{size:[0,"size"],label:[1,"label"]},null)],(function(e,t){e(t,1,0,"large","Loading...")}),null)}function Xm(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","no-results text-dim text-14 text-uppercase text-light"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["No Models Found"]))],null,null)}function Zm(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,Gm)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,qm)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Ym)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Xm)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.viewMode===n.galleryViewMode.List&&!n.loading&&n.results),e(t,3,0,n.viewMode===n.galleryViewMode.Cards&&!n.loading&&n.results),e(t,5,0,n.loading),e(t,7,0,!n.loading&&n.results&&0===(null==n.results?null:n.results.length))}),null)}var Jm=function(){function e(e){this.changeDetectorRef=e,this.viewMode=kd.Cards,this.checkedResults=[],this.loading=!1,this.selectLabel="Select",this.checkable=!0,this.showActions=!0,this.selectBookmark=new l.o}return Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e}(),ef=l.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;height:100%}.gallery-container[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;display:grid;grid-template-areas:'filters controls' 'body body';grid-template-columns:1fr auto;grid-template-rows:auto 1fr}.gallery-container__filters[_ngcontent-%COMP%]{grid-area:filters;padding:8px 8px 8px 0}.gallery-container__controls[_ngcontent-%COMP%]{grid-area:controls;padding:8px 0}.gallery-container__body[_ngcontent-%COMP%]{grid-area:body;padding:8px 0;overflow-y:hidden}"]],data:{}});function tf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-gallery-filters-loft",[],null,null,null,Rh,Eh)),l.xb(1,245760,null,0,Uh,[O.i,ge.f],null,null)],(function(e,t){e(t,1,0)}),null)}function nf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-gallery-filters-studio",[],null,null,null,Zh,Vh)),l.xb(1,245760,null,0,Hh,[O.i,l.i,ge.f],null,null)],(function(e,t){e(t,1,0)}),null)}function lf(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,13,"div",[["class","gallery-container theme-light"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,4,"div",[["class","gallery-container__filters"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,tf)),l.xb(3,81920,null,0,Jh,[l.Q,l.T],null,null),(e()(),l.ob(16777216,null,null,1,null,nf)),l.xb(5,81920,null,0,em,[l.Q,l.T],null,null),(e()(),l.yb(6,0,null,null,2,"div",[["class","gallery-container__controls"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,1,"app-gallery-controls",[],null,null,null,gm,bm)),l.xb(8,114688,null,0,dm,[O.i],null,null),(e()(),l.yb(9,0,null,null,4,"div",[["class","gallery-container__body"]],null,null,null,null,null)),(e()(),l.yb(10,0,null,null,3,"app-gallery-results",[],null,[[null,"selectBookmark"]],(function(e,t,n){var l=!0;return"selectBookmark"===t&&(l=!1!==e.component.handleSelect(n)&&l),l}),Zm,Wm)),l.xb(11,114688,null,2,Qm,[l.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],loading:[2,"loading"],viewMode:[3,"viewMode"],selectLabel:[4,"selectLabel"],results:[5,"results"],checkable:[6,"checkable"],showActions:[7,"showActions"],checkedResults:[8,"checkedResults"]},{selectBookmark:"selectBookmark"}),l.Qb(335544320,1,{galleryActionsTemplate:0}),l.Qb(335544320,2,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,3,0),e(t,5,0),e(t,8,0),e(t,11,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.loading,n.viewMode,n.selectLabel,n.results,n.checkable,n.showActions,n.checkedResults)}),null)}var of=l.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:calc(90vh - 48px);width:calc(90vw - 48px)}"]],data:{}});function af(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"app-list-item",[],null,null,null,Mh,Ph)),l.xb(1,114688,null,0,Sh,[],null,null),(e()(),l.yb(2,0,null,0,1,"app-icon",[["icon","lock"]],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,0,[" Premium "]))],(function(e,t){e(t,1,0),e(t,3,0,"lock")}),null)}function rf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"app-list-item",[],null,null,null,Mh,Ph)),l.xb(1,114688,null,0,Sh,[],null,null),(e()(),l.Sb(-1,0,[" Animated "]))],(function(e,t){e(t,1,0)}),null)}function uf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"app-list-item",[],null,null,null,Mh,Ph)),l.xb(1,114688,null,0,Sh,[],null,null),(e()(),l.Sb(-1,0,[" Tour "]))],(function(e,t){e(t,1,0)}),null)}function cf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"app-list",[["listType","commafied"]],null,null,null,zh,Kh)),l.xb(1,114688,null,0,Th,[],{listType:[0,"listType"]},null),(e()(),l.ob(16777216,null,0,2,null,af)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,1,null,rf)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,uf)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"commafied"),e(t,3,0,t.context.$implicit.premium&&!l.Tb(t,3,0,l.Kb(t,4).transform(n.isPremiumUser$))),e(t,6,0,t.context.$implicit.animated),e(t,8,0,t.context.$implicit.tour)}),null)}function sf(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,1,"div",[["class","import__header"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Import Chapters\n"])),(e()(),l.yb(2,0,null,null,7,"app-gallery-container",[["class","import__content"],["selectLabel","Import"]],null,[[null,"selectBookmark"]],(function(e,t,n){var l=!0;return"selectBookmark"===t&&(l=!1!==e.component.handleSelect(n)&&l),l}),lf,ef)),l.xb(3,114688,null,2,Jm,[l.i],{viewMode:[0,"viewMode"],loading:[1,"loading"],selectLabel:[2,"selectLabel"],checkable:[3,"checkable"],showActions:[4,"showActions"],results:[5,"results"]},{selectBookmark:"selectBookmark"}),l.Qb(335544320,1,{galleryActionsTemplate:0}),l.Qb(335544320,2,{galleryTagsTemplate:0}),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,[[2,2],["galleryTags",2]],null,0,null,cf))],(function(e,t){var n=t.component;e(t,3,0,l.Tb(t,3,0,l.Kb(t,6).transform(n.viewMode$)),l.Tb(t,3,1,l.Kb(t,7).transform(n.loading$)),"Import",!1,!1,l.Tb(t,3,5,l.Kb(t,8).transform(n.results$)))}),null)}function pf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-import-model-dialog",[],null,null,null,sf,of)),l.xb(1,245760,null,0,Kd,[O.i,Dd.l,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}var df=l.ub("app-import-model-dialog",Kd,pf,{},{},[]),bf=function(){function e(e,t,n){var l=this;this.overlay=e,this.content=t,this.data=n,this.afterClosed=new Z.a,this.afterClosed$=this.afterClosed.asObservable(),e.backdropClick().subscribe((function(){return l._close("backdropClick",n)}))}return e.prototype.close=function(e){this._close("close",e)},e.prototype._close=function(e,t){this.overlay.dispose(),this.afterClosed.next({type:e,data:t}),this.afterClosed.complete()},e}(),gf=function(){function e(e){this.popupRef=e,this.renderMethod="component"}return e.prototype.ngOnInit=function(){this.content=this.popupRef.content,"string"==typeof this.content?this.renderMethod="text":this.content instanceof l.Q&&(this.renderMethod="template",this.context={close:this.popupRef.close.bind(this.popupRef)})},e}(),hf=l.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;height:100%}.popup[_ngcontent-%COMP%]{background:#fff;border-radius:4px;padding:8px;overflow-y:auto;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3)}"]],data:{}});function mf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.content)}))}function ff(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function yf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,ff)),l.xb(2,540672,null,0,ce.t,[l.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.context,n.content)}),null)}function xf(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function _f(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,xf)),l.xb(2,671744,null,0,ce.k,[l.T],{ngComponentOutlet:[0,"ngComponentOutlet"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,2,0,t.component.content)}),null)}function vf(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,8,"div",[["class","popup"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,7,null,null,null,null,null,null,null)),l.xb(2,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,mf)),l.xb(4,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,yf)),l.xb(6,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,_f)),l.xb(8,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){e(t,2,0,t.component.renderMethod),e(t,4,0,"text"),e(t,6,0,"template"),e(t,8,0,"component")}),null)}function Of(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-popup",[],null,null,null,vf,hf)),l.xb(1,114688,null,0,gf,[bf],null,null)],(function(e,t){e(t,1,0)}),null)}var wf=l.ub("app-popup",gf,Of,{},{},[]),Cf=n("JbCa");function jf(e){if(null==e)return"";var t=new RegExp(/[^a-zA-Z0-9_]/,"gi");return e.replace(t,"_")}var kf,Sf=function(){function e(){}return e.prototype.transform=function(e,t){return jf(e)},e}(),Pf=n("Rney"),Mf=function(){function e(e,t,n){this.store=e,this.viewService=t,this.changeDetectorRef=n,this.defaultImage="/assets/images/view-chapter-thumbnail-placeholder.png",this.autoscroll=!0,this.ngUnsubscribe=new Z.a,this.nextChapter=null}return e.prototype.ngOnInit=function(){this.initChaptersObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.ngAfterViewInit=function(){this.initScrollObserver()},e.prototype.initChaptersObserver=function(){var e=this;Object(hd.b)([this.store.select(Ac.getStoryChapters),this.store.select(Ac.getSelectedChapterIndex)]).pipe(Object(Pf.a)(300),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),l=n[0],i=n[1]+1;e.nextChapter=i>=l.length?null:l[i],e.changeDetectorRef.markForCheck()}))},e.prototype.initScrollObserver=function(){var e=this;this.selectedChapterId$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.scrollChapterIntoView(t)}))},e.prototype.handleChapterClick=function(e){this.viewService.selectChapter(e)},e.prototype.handleNextChapterClick=function(){this.viewService.nextChapter()},e.prototype.getChapterThumb=function(e){var t=this.store.selectSnapshot(Ac.getRegisteredThumbnails).get(e);return t?t.snapshot||t.urls.small:""},e.prototype.scrollChapterIntoView=function(e){var t=jf(e);if(t){var n=this.chapterList.nativeElement.querySelector("[data-chapter-id="+t+"]");n&&this.autoscroll&&"scrollBehavior"in document.documentElement.style&&n.scrollIntoView({behavior:"auto",block:"nearest"})}},e.prototype.isViewed=function(e){return this.store.selectSnapshot(Ac.getChaptersViewed).some((function(t){return t===e}))},Object(v.__decorate)([Object(O.e)(Ac.getStoryChapters),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapters$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterId),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterId$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterIndex),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterIndex$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getRegisteredThumbnails),Object(v.__metadata)("design:type",J.a)],e.prototype,"thumbnails$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getChaptersViewed),Object(v.__metadata)("design:type",J.a)],e.prototype,"chaptersViewed$",void 0),e}(),If=function(){return function(){}}(),Tf=function(){return function(e,t,n,l,i){this.left=e,this.top=t,this.width=n,this.height=l,this.visibility=i}}(),Kf=function(e){return e[e.Hidden=-1]="Hidden",e[e.Shown=1]="Shown",e}({}),zf=function(){return function(){}}(),Uf=function(){function e(e){this.id=e}return e.type="[Engine Camera] Clear Camera",e}(),Ef=function(){function e(e,t){this.id=e,this.camera=t}return e.type="[Engine Camera] Store Camera",e}(),Lf=function(){function e(e,t,n){void 0===t&&(t=!0),this.camera=e,this.animate=t,this.animationDuration=n}return e.type="[Engine Camera] Set Camera",e}(),Af=function(){function e(){}return e.type="[Engine Camera] Set Camera Success",e}(),Ff=function(){function e(e){this.cameraMotion=e}return e.type="[Engine Camera] Move Camera",e}(),Df=function(){function e(){}return e.type="[Engine Camera] Reset Camera",e}(),Nf=function(){function e(e){this.value=e}return e.type="[Engine Camera] Zoom Camera",e}(),Rf=function(){function e(e){this.value=e}return e.type="[Engine Camera] Zoom Camera Static",e}(),Bf=function(){function e(e){this.value=e}return e.type="[Engine Camera] Pan Camera X",e}(),Hf=function(){function e(e){this.value=e}return e.type="[Engine Camera] Pan Camera Y",e}(),Vf=function(){function e(e,t,n){this.x=e,this.y=t,this.z=n}return e.type="[Engine Camera] Pan Camera Static",e}(),$f=function(){function e(e){this.value=e}return e.type="[Engine Camera] Rotate Camera X",e}(),Qf=function(){function e(e){this.value=e}return e.type="[Engine Camera] Rotate Camera Y",e}(),Wf=function(){function e(e,t){this.x=e,this.y=t}return e.type="[Engine Camera] Rotate Camera Static",e}(),Gf=function(){function e(e){this.mode=e}return e.type="[Engine Camera] Set Camera Mode",e}(),qf=function(){function e(e){this.zoomed=e}return e.type="[Engine Camera] Set Zoomed",e}(),Yf=function(){function e(e){this.lock=e}return e.type="[Engine Camera] Lock camera",e}(),Xf=function(){return function(e,t,n,l,i,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===l&&(l=0),void 0===i&&(i=0),void 0===o&&(o=!1),this.zoom=e,this.panX=t,this.panY=n,this.rotateX=l,this.rotateY=i,this.applyFriction=o}}(),Zf=function(){return(Zf=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Jf={storedCameras:{},cameraMotion:new Xf,panMode:"rotate",zoomed:!1,lockCamera:!1},ey=function(){function e(e){this.cameraService=e}var t;return t=e,e.getStoredCamera=function(e){return Object(O.j)([t],(function(t){return t.storedCameras[e]||null}))},e.getCameraMotion=function(e){return e.cameraMotion},e.getPanMode=function(e){return e.panMode},e.getZoomed=function(e){return e.zoomed},e.getLockCamera=function(e){return e.lockCamera},e.prototype.storeCamera=function(e,t){var n=t.camera||this.cameraService.getCamera(),l=e.getState().storedCameras;l[t.id]=Zf({},n),e.patchState({storedCameras:Zf({},l)})},e.prototype.clearCamera=function(e,t){var n=e.getState().storedCameras;delete n[t.id],e.patchState({storedCameras:Zf({},n)})},e.prototype.moveCamera=function(e,t){e.patchState({cameraMotion:Zf({},t.cameraMotion)})},e.prototype.resetCamera=function(e,t){return this.cameraService.resetCamera().pipe(Object(ol.a)((function(){e.patchState({cameraMotion:new Xf})})))},e.prototype.zoomCamera=function(e,t){var n=e.getState().cameraMotion;n.zoom=t.value,e.patchState({cameraMotion:Zf({},n)})},e.prototype.panCameraX=function(e,t){var n=e.getState().cameraMotion;n.panX=t.value,e.patchState({cameraMotion:Zf({},n)})},e.prototype.panCameraY=function(e,t){var n=e.getState().cameraMotion;n.panY=t.value,e.patchState({cameraMotion:Zf({},n)})},e.prototype.rotateCameraX=function(e,t){var n=e.getState().cameraMotion;e.patchState({cameraMotion:Zf({},n,{rotateX:t.value})})},e.prototype.rotateCameraY=function(e,t){var n=e.getState().cameraMotion;n.rotateY=t.value,e.patchState({cameraMotion:Zf({},n)})},e.prototype.SetCameraMode=function(e,t){e.patchState({panMode:t.mode})},e.prototype.setZoomed=function(e,t){e.patchState({zoomed:t.zoomed})},e.prototype.lockCamera=function(e,t){e.patchState({lockCamera:t.lock})},Object(v.__decorate)([Object(O.a)(Ef),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ef]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"storeCamera",null),Object(v.__decorate)([Object(O.a)(Uf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Uf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"clearCamera",null),Object(v.__decorate)([Object(O.a)(Ff),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ff]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"moveCamera",null),Object(v.__decorate)([Object(O.a)(Df),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Df]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetCamera",null),Object(v.__decorate)([Object(O.a)(Nf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Nf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"zoomCamera",null),Object(v.__decorate)([Object(O.a)(Bf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Bf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"panCameraX",null),Object(v.__decorate)([Object(O.a)(Hf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Hf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"panCameraY",null),Object(v.__decorate)([Object(O.a)($f),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,$f]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"rotateCameraX",null),Object(v.__decorate)([Object(O.a)(Qf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Qf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"rotateCameraY",null),Object(v.__decorate)([Object(O.a)(Gf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Gf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetCameraMode",null),Object(v.__decorate)([Object(O.a)(qf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,qf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setZoomed",null),Object(v.__decorate)([Object(O.a)(Yf),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Yf]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"lockCamera",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[zf]),Object(v.__metadata)("design:returntype",void 0)],e,"getCameraMotion",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[zf]),Object(v.__metadata)("design:returntype",void 0)],e,"getPanMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[zf]),Object(v.__metadata)("design:returntype",void 0)],e,"getZoomed",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[zf]),Object(v.__metadata)("design:returntype",void 0)],e,"getLockCamera",null),t=Object(v.__decorate)([Object(O.g)({name:"engineCamera",defaults:Jf})],e)}(),ty=function(e){return e.Select="Select",e.Hide="Hide",e.Paint="Paint",e.Label="Label",e.Isolate="Isolate",e.Fade="Fade",e.Position="Position",e}({}),ny=function(){function e(e){this.http=e,this.wikiCache=new Map}return e.prototype.getWikiText=function(e,t){var n=this;if(void 0===t&&(t=!0),t&&this.wikiCache.has(e)){var l=this.wikiCache.get(e);return Object(U.a)(l)}return this.http.get("/search/wiki?name="+e).pipe(Object(s.a)((function(e){return e.description})),Object(E.a)((function(e){return 404===e.status?Object(U.a)(""):Object(gr.a)(e)})),Object(ol.a)((function(t){return n.wikiCache.set(e,t)})))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(c.c))},token:e,providedIn:"root"}),e}(),ly=function(){return(ly=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},iy=new Tf(0,0,0,0,Kf.Hidden),oy=function(){function e(e,t,n,l,i){this.store=e,this.graphService=t,this.engineService=n,this.wikiService=l,this.animationService=i}var t;return t=e,e.getEngine=function(e){return e.engine},e.getReady=function(e){return e.ready},e.getDisplay=function(e){return e.display},e.getScrollMode=function(e){return e.scrollMode},e.getVisible=function(e){return e.visible},e.getViewGraph=function(e){return e.viewGraph},e.getViewGraphNode=function(e){return function(t){return e.viewGraph.nodes[t]}},e.getEnginePosition=function(e){return e.enginePosition},e.getChapter=function(e){return e.chapter},e.getActiveTool=function(e){return e.activeTool},e.getShowCameraBar=function(e){return e.showCameraBar},e.getShowProgressBar=function(e){return e.showProgressBar},e.getShowLabels=function(e){return e.showLabels},e.getChapterInit=function(e){return e.chapterInit},e.getAnimationPlaying=function(e){return e.animationPlaying},e.getPlayAudio=function(e){return e.playAudio},e.getAutoplay=function(e){return e.autoplay},e.getXrayModeEnabled=function(e){return e.xrayModeEnabled},e.getHoveredNode=function(e){return e.hoveredNode},e.getLabelEditNode=function(e){return e.labelEditNode},e.getQuerying=function(e){return e.queryingWiki},e.prototype.load=function(e,t){e.dispatch(new _i("engine"))},e.prototype.loadSuccess=function(e,t){(0,e.patchState)({engine:t.result})},e.prototype.setReady=function(e,t){e.patchState({ready:t.ready})},e.prototype.setDisplay=function(e,t){e.patchState({display:t.display})},e.prototype.setZoomViaScrollAllowed=function(e,t){e.patchState({scrollMode:t.scrollMode})},e.prototype.setVisible=function(e,t){e.patchState({visible:t.visible})},e.prototype.setEnginePosition=function(e,t){e.patchState({enginePosition:ly({},t.position,{right:t.position.left+t.position.width,bottom:t.position.top+t.position.height})})},e.prototype.resetEnginePosition=function(e,t){e.patchState({enginePosition:iy})},e.prototype.setChapter=function(e,t){e.patchState({chapter:t.chapterId})},e.prototype.setChapterInit=function(e,t){e.patchState({chapterInit:t.chapterInit})},e.prototype.setActiveTool=function(e,t){e.patchState({activeTool:t.tool})},e.prototype.setGraph=function(e,t){e.patchState({viewGraph:ly({},t.graph)})},e.prototype.clearGraph=function(e,t){e.patchState({viewGraph:{nodes:{},successors:{},predecessors:{},roots:{}}})},e.prototype.setXrayMode=function(e,t){e.patchState({xrayModeEnabled:t.enabled})},e.prototype.centerCameraOnVisible=function(e,t){var n=this.engineService.getVisibleLeaves(),l=this.engineService.getBoundaryFromObjects(n),i=this.engineService.getCameraLookAt();i.look={x:(l.xmin+l.xmax)/2,y:(l.ymin+l.ymax)/2,z:(l.zmin+l.zmax)/2},Human.renderer.camera.fly.flyTo(i)},e.prototype.toggleProgressBar=function(e,t){e.patchState({showProgressBar:t.show})},e.prototype.toggleCameraBar=function(e,t){e.patchState({showCameraBar:t.show})},e.prototype.toggleLabels=function(e,t){var n=null!=t.show?t.show:!e.getState().showLabels;e.patchState({showLabels:n})},e.prototype.synchronizeVisibleNodes=function(e,t){var n=this,l=e.getState().viewGraph,i=this.stateMapToNodeIds(l,t.leafVisibilityState),o={};i.forEach((function(e){var l=n.engineService.getLeafObjects(e).reduce((function(e,n){return e||t.nodes[n].shown}),!1);o[e]={shown:l}})),this.graphService.synchronize(ly({},l),{shown:"trueWins"},o),e.patchState({viewGraph:ly({},l)})},e.prototype.synchronizeRenderableNodes=function(e,t){var n=e.getState().viewGraph,l=this.stateMapToNodeIds(n,t.leafRenderableState),i={};l.forEach((function(e){i[e]={renderable:!0}})),this.graphService.synchronize(n,{renderable:"falseWins"},i)},e.prototype.synchronizePickableNodes=function(e,t){var n=this,l=e.getState().viewGraph,i=this.stateMapToNodeIds(l,t.leafPickableState),o={};i.forEach((function(e){var t=n.engineService.getLeafObjects(e).reduce((function(e,t){return e||Human.scene.objects[t].pickable}),!1);o[e]={pickable:t}})),this.graphService.synchronize(l,{pickable:"trueWins"},o),e.patchState({viewGraph:ly({},l)})},e.prototype.playChapterAnimation=function(e,t){var n=this.store.selectSnapshot(Ac.getSelectedChapter),l=Object(Et.get)(n,"ui.play.count",0);this.animationService.play({startChapterId:n.id,loop:-1===l,numChapters:1,queue:!1}),e.getState().animationPlaying||this.animationService.pause()},e.prototype.toggleAnimation=function(e,t){var n=this.store.selectSnapshot(Ac.getSelectedChapterId);t.play?this.animationService.unpause(n):this.animationService.pause()},e.prototype.setAnimationPlaying=function(e,t){e.patchState({animationPlaying:t.playing})},e.prototype.playAudio=function(e,t){e.patchState({playAudio:t.play})},e.prototype.setAutoplay=function(e,t){e.patchState({autoplay:t.enable})},e.prototype.setObjectLayerOrder=function(e,t){var n=this,l=e.getState().viewGraph,i=isNaN(t.layer)?0:t.layer,o=[];t.nodes.forEach((function(e){var t=n.graphService.getDescendants(l,e.id,!0);o=o.concat(t)})),o.forEach((function(e){n.engineService.setObjectLayer(e,i),n.graphService.setState(l,e,{layer:i})})),e.patchState({viewGraph:ly({},l)})},e.prototype.setObjectDisplayName=function(e,t){var n=Human.scene.objects[t.nodeId];n&&(n.displayName=t.displayName)},e.prototype.autoSortObjectLayers=function(e,t){var n=this,l=e.getState().viewGraph,i=0,o=Human.scene.getEnabledLeaves(),a=this.engineService.getObjectLayerValues(o);Object.keys(a).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e-t})).forEach((function(e){a[e].sort((function(e,t){return t.value-e.value})).forEach((function(e){var t=20*i;n.engineService.setObjectLayer(e.nodeId,t),n.graphService.setState(l,e.nodeId,{layer:t}),i++}))})),e.patchState({viewGraph:ly({},l)})},e.prototype.resetObjectLayers=function(e,t){var n=this,l=e.getState().viewGraph;Human.scene.getEnabledLeaves().forEach((function(e){n.engineService.setObjectLayer(e,0),n.graphService.setState(l,e,{layer:0})})),e.patchState({viewGraph:ly({},l)})},e.prototype.setPostProcessingEffects=function(e,t){this.engineService.setPostProcessingFeatures(t.effects)},e.prototype.setProperties=function(e,t){this.engineService.setProperties(ly({},t.properties))},e.prototype.setTransparencyMode=function(e,t){this.engineService.setTransparencyMode(t.mode)},e.prototype.expandNode=function(e,n){var l=this.store.selectSnapshot(t.getViewGraph);zr.getAncestors(l,n.node.id,!0).forEach((function(e){l.nodes[e].boolState.expanded=!0})),this.store.dispatch(new Pi(l))},e.prototype.collapseNode=function(e,n){var l=this.store.selectSnapshot(t.getViewGraph);l.nodes[n.node.id].boolState.expanded=!1,this.store.dispatch(new Pi(l))},e.prototype.hoverNode=function(e,t){e.patchState({hoveredNode:t.node})},e.prototype.setLabelEditNode=function(e,t){e.patchState({labelEditNode:t.node})},e.prototype.queryNodeInfo=function(e,t){var n=t.node;e.patchState({queryingWiki:!0}),this.wikiService.getWikiText(n.label).pipe(Object(V.a)((function(){return e.patchState({queryingWiki:!1})}))).subscribe((function(t){return e.dispatch(new so(n,t))}),(function(){return e.dispatch(new po(n))}))},e.prototype.queryNodeInfoSuccess=function(e,t){e.dispatch(new uo(t.node,t.description))},e.prototype.setNodeInfo=function(e,n){var l=n.node,i=n.description,o=this.store.selectSnapshot(t.getViewGraph),a=o.nodes[l.id];a&&(a.description=i,this.store.dispatch(new Pi(o)))},e.prototype.stateMapToNodeIds=function(e,t){var n=this,l=Object.keys(t).map((function(t){return n.engineService.getNode(e,t)})).filter((function(e){return!!e})).map((function(e){return e.id}));return new Set(l)},Object(v.__decorate)([Object(O.a)(xi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,xi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"load",null),Object(v.__decorate)([Object(O.a)(_i),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,_i]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(v.__decorate)([Object(O.a)(vi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,vi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setReady",null),Object(v.__decorate)([Object(O.a)(Oi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Oi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setDisplay",null),Object(v.__decorate)([Object(O.a)(wi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,wi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setZoomViaScrollAllowed",null),Object(v.__decorate)([Object(O.a)(ji),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ji]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setVisible",null),Object(v.__decorate)([Object(O.a)(Ji),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ji]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setEnginePosition",null),Object(v.__decorate)([Object(O.a)(eo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,eo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetEnginePosition",null),Object(v.__decorate)([Object(O.a)(Ti),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ti]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapter",null),Object(v.__decorate)([Object(O.a)(Ki),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ki]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setChapterInit",null),Object(v.__decorate)([Object(O.a)(Bi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Bi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setActiveTool",null),Object(v.__decorate)([Object(O.a)(Pi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Pi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setGraph",null),Object(v.__decorate)([Object(O.a)(Mi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Pi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"clearGraph",null),Object(v.__decorate)([Object(O.a)(Ii),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ii]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setXrayMode",null),Object(v.__decorate)([Object(O.a)(Ei),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ei]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"centerCameraOnVisible",null),Object(v.__decorate)([Object(O.a)(Ni),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ni]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleProgressBar",null),Object(v.__decorate)([Object(O.a)(Di),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Di]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleCameraBar",null),Object(v.__decorate)([Object(O.a)(Ri),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ri]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleLabels",null),Object(v.__decorate)([Object(O.a)(Li),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Li]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeVisibleNodes",null),Object(v.__decorate)([Object(O.a)(Ai),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ai]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeRenderableNodes",null),Object(v.__decorate)([Object(O.a)(Fi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Fi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"synchronizePickableNodes",null),Object(v.__decorate)([Object(O.a)(Hi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Hi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"playChapterAnimation",null),Object(v.__decorate)([Object(O.a)(Vi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Vi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleAnimation",null),Object(v.__decorate)([Object(O.a)($i),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,$i]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setAnimationPlaying",null),Object(v.__decorate)([Object(O.a)(Qi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Qi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"playAudio",null),Object(v.__decorate)([Object(O.a)(Gi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Gi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setAutoplay",null),Object(v.__decorate)([Object(O.a)(qi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,qi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setObjectLayerOrder",null),Object(v.__decorate)([Object(O.a)(Yi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Yi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setObjectDisplayName",null),Object(v.__decorate)([Object(O.a)(Xi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Xi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"autoSortObjectLayers",null),Object(v.__decorate)([Object(O.a)(Zi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Zi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetObjectLayers",null),Object(v.__decorate)([Object(O.a)(to),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,to]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setPostProcessingEffects",null),Object(v.__decorate)([Object(O.a)(no),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,no]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setProperties",null),Object(v.__decorate)([Object(O.a)(lo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,lo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setTransparencyMode",null),Object(v.__decorate)([Object(O.a)(io),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,io]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"expandNode",null),Object(v.__decorate)([Object(O.a)(oo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,oo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"collapseNode",null),Object(v.__decorate)([Object(O.a)(ao),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ao]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"hoverNode",null),Object(v.__decorate)([Object(O.a)(ro),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ro]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelEditNode",null),Object(v.__decorate)([Object(O.a)(co),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,co]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"queryNodeInfo",null),Object(v.__decorate)([Object(O.a)(so),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,so]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"queryNodeInfoSuccess",null),Object(v.__decorate)([Object(O.a)(uo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,uo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setNodeInfo",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getEngine",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getReady",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getDisplay",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getScrollMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getVisible",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getViewGraph",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getViewGraphNode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getEnginePosition",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getChapter",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getActiveTool",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowCameraBar",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowProgressBar",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowLabels",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getChapterInit",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getAnimationPlaying",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getPlayAudio",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getAutoplay",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getXrayModeEnabled",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getHoveredNode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getLabelEditNode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[If]),Object(v.__metadata)("design:returntype",void 0)],e,"getQuerying",null),t=Object(v.__decorate)([Object(O.g)({name:"engine",defaults:{loading:!1,ready:!1,viewGraph:{nodes:{},successors:{},predecessors:{},roots:{}},hoveredNode:void 0,labelEditNode:void 0,queryingWiki:!1,engine:"",chapter:"",chapterInit:{id:"",init:!1,camera:!1,annotations:!1,graph:!1,properties:!1,particles:!1,clips:!1,postprocessing:!1,transparency:!1},showProgressBar:!0,showCameraBar:!0,showLabels:!0,activeTool:ty.Select,animationPlaying:!0,autoplay:!0,playAudio:!1,display:!0,visible:!0,scrollMode:lr.Capture,xrayModeEnabled:!1},children:[ey]})],e)}(),ay=function(e){return e.Hide="hide",e.Show="show",e.Collapse="collapse",e}({}),ry=function(e){return e.None="none",e.Small="small",e.Full="full",e}({}),uy=function(e){return e.None="none",e.Circle="circle",e.Bar="bar",e}({}),cy=function(){return function(e,t){void 0===e&&(e=ay.Hide),void 0===t&&(t=!0),this.status=e,this.enable=t}}(),sy=function(e){function t(t){void 0===t&&(t=!0);var n=e.call(this)||this;return n.isHyperLink=t,n}return Object(v.__extends)(t,e),t}(cy),py=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.isExpandedInitially=t,n}return Object(v.__extends)(t,e),t}(cy),dy=function(e){function t(t){void 0===t&&(t=ry.Small);var n=e.call(this)||this;return n.template=t,n}return Object(v.__extends)(t,e),t}(cy),by=function(e){function t(t){void 0===t&&(t=uy.Bar);var n=e.call(this)||this;return n.template=t,n}return Object(v.__extends)(t,e),t}(cy),gy=n("qpAl"),hy=n.n(gy),my=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(e){function t(t){if(i()){if(t||(t=document.body),e.isFullscreen())return;hy.a.prefixed("requestFullscreen",document.body)()}}function n(){i()&&hy.a.prefixed("exitFullscreen",document)()}function l(){return hy.a.fullscreen&&hy.a.prefixed("fullscreenEnabled",document)}function i(){return!!l()||(console.warn("Fullscreen is not enabled"),!1)}function o(){return hy.a.prefixed("fullscreenElement",document)}e.toggleFullscreen=function(e){null===o()?t(e):n()},e.requestFullscreen=t,e.exitFullscreen=n,e.canFullscreen=l,e.checkFullscreenSupport=i,e.getFullscreenElement=o,e.isFullscreen=function(){return null!=o()},e.onFullscreenChange=function(){var e="mozfullscreenchange webkitfullscreenchange MSFullscreenChange fullscreenchange".split(" ").map((function(e){return Object(Kg.a)(document.body,e)}));return md.a.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(my(arguments[t]));return e}(e))}}(kf||(kf={}));var fy=function(e){return e.Light="light",e.Dark="dark",e.Themed="themed",e}({}),yy=function(){function e(e,t){this.store=e,this.graphService=t,this.theme=fy.Dark,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){var e=this;this.store.select(_u.getCheckedNodes).pipe(Object(te.a)((function(e){return 1===e.length})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){setTimeout((function(){e.scrollNodeIntoView(t[0])}))}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.scrollNodeIntoView=function(e){var t=this.graphService.sanitizeNodeID(e.objectId),n=document.querySelector("[data-id="+t+"]");n&&"scrollBehavior"in document.documentElement.style&&n.scrollIntoView({behavior:"smooth",block:"nearest"})},Object(v.__decorate)([Object(O.e)(oy.getViewGraph),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewGraph$",void 0),e}(),xy=n("C9yA"),_y=function(e){return e[e.List=0]="List",e[e.Tree=1]="Tree",e}({}),vy=function(){function e(e,t,n,i,o){this.renderer=e,this.changeDetectorRef=t,this.elementRef=n,this.engineService=i,this.store=o,this._query="",this._displayMode=_y.List,this.displayModeChange=new l.o,this.theme=fy.Dark,this.treeSearchDisplayMode=_y,this.searchResults=[],this.searchHeight=0,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"query",{get:function(){return this._query},set:function(e){this._query=e||"",this.handleQueryChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMode",{get:function(){return this._displayMode},set:function(e){null!=e&&(this._displayMode=e,this.handleQueryChange(),this.displayModeChange.emit(this.displayMode))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewGraph",{get:function(){return this._viewGraph},set:function(e){this._viewGraph=e,this.leafNodes=this.engineService.getLeaves(),this.buildPrunedViewGraph(this.displayMode),this.handleQueryChange(),this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.buildPrunedViewGraph=function(e){var t=this.store.selectSnapshot(Ac.getSelectedChapter),n=this.engineService.createViewGraph(t.showObjects,!0);this.prunedViewGraph=n},e.prototype.ngAfterViewInit=function(){var e=this;this.renderer.listen("window","resize",(function(t){e.resize()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleQueryChange=function(){var e=this.search(this._query,this.displayMode===_y.List?this.prunedViewGraph:this.viewGraph);this.displayMode===_y.Tree&&(this.searchGraph=function(e,t){return t.reduce((function(t,n){return function e(t,n,l){zr.addNode(t,n);var i=zr.getAncestor(l,n.id);if(i){var o=t.successors[i]||[];return o.push(n.id),t.successors[i]=Object(Et.uniq)(o),t.predecessors[n.id]=i,e(t,zr.getNode(l,i),l)}return zr.addRootNode(t,n),t}(t,n,e)}),{nodes:{},successors:{},predecessors:{},roots:{}})}(this.viewGraph,e)),this.searchResults=e,this.resize()},e.prototype.resize=function(){var e=this;this.getSearchHeight().pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.searchHeight=t,e.changeDetectorRef.markForCheck()}))},e.prototype.getSearchHeight=function(){var e=this;return new J.a((function(t){setTimeout((function(){var n=e.elementRef.nativeElement.offsetHeight;null!=n&&(t.next(n),t.complete())}))}))},e.prototype.search=function(e,t){return void 0===t?[]:(e=e.toLowerCase(),Object.values(t.nodes).filter((function(t){return 0===e.length||Object(xy.remove)(t.label.toLowerCase()).indexOf(e)>=0})).sort((function(e,t){return e.label.localeCompare(t.label)})))},e.prototype.trackTreeNode=function(e,t){return t.id},e}(),Oy=function(e){return e[e.Interact=0]="Interact",e[e.Loader=1]="Loader",e[e.Tutorial=2]="Tutorial",e[e.Help=3]="Help",e}({}),wy=function(){return(wy=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Cy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},jy=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cy(arguments[t]));return e},ky=function(){return function(){}}(),Sy={audio:new cy,camera:new cy(ay.Show,!0),chapterList:new cy(ay.Show,!1),column:new cy,description:new cy,drawer:new py,fullscreen:new cy,help:new cy,labelInfo:new cy,labelList:new cy(ay.Show,!1),loader:new by,logo:new sy,media:new dy,menu:new cy,nodeInfo:new cy(ay.Hide,!1),pagination:new cy,presenter:new cy(ay.Hide,!1),reset:new cy,search:new cy,titleOnly:new cy,toolbar:new cy,tools:new cy,anatomyLabels:new cy,tutorial:new cy(ay.Hide,!1),internetExplorerWarning:new cy,legend:new cy},Py={labelsBreakpoint:480,inputEnabled:!0,fullscreenActive:!1,presentationActive:!1,drawerCoversContent:!1,searchDisplayMode:_y.Tree,showNodeInfo:!1,interactType:nr.Play,help:{tab:ne.Basics},usePrintImage:!1,multiPickModeEnabled:!1,canHover:!1,canTouch:!1,canFullscreen:!1,layout:Sy,initialLayout:Sy,openWindows:[Oy.Loader],tutorial:{pageSize:0,pageIndex:-1},menuOpen:!1},My=function(){function e(){}var t;return t=e,e.getLayout=function(e){return e.layout},e.getInitialLayout=function(e){return e.initialLayout},e.getLabelsBreakpoint=function(e){return e.labelsBreakpoint},e.getInputEnabled=function(e){return e.inputEnabled},e.getFullscreenActive=function(e){return e.fullscreenActive},e.getPresentationActive=function(e){return e.presentationActive},e.getDrawerCoversContent=function(e){return e.drawerCoversContent},e.getShowNodeInfo=function(e){return e.showNodeInfo},e.getInteractType=function(e){return e.interactType},e.getShowHelpTab=function(e){return e.help.tab},e.getTutorial=function(e){return e.tutorial},e.getCanTouch=function(e){return e.canTouch},e.getCanHover=function(e){return e.canHover},e.getMultiPickModeEnabled=function(e){return e.multiPickModeEnabled},e.getSearchDisplayMode=function(e){return e.searchDisplayMode},e.getUsePrintImage=function(e){return e.usePrintImage},e.getOpenWindow=function(e){return e.openWindows.length>0?e.openWindows.sort()[0]:null},e.getMenuOpen=function(e){return e.menuOpen},e.shouldWindowOpen=function(e){return Object(O.j)([t],(function(t){return t.openWindows.indexOf(e)>=0}))},e.prototype.setLayout=function(e,t){var n=e.getState().layout;e.patchState({layout:wy({},n,t.layout)})},e.prototype.setInitialLayout=function(e,t){e.patchState({initialLayout:t.layout})},e.prototype.setInputEnabled=function(e,t){e.patchState({inputEnabled:t.enabled})},e.prototype.setCanHover=function(e,t){e.patchState({canHover:t.canHover})},e.prototype.setCanTouch=function(e,t){e.patchState({canTouch:t.canTouch})},e.prototype.setCanFullscreen=function(e,t){e.patchState({canFullscreen:t.canFullscreen})},e.prototype.setSearchDisplayMode=function(e,t){e.patchState({searchDisplayMode:t.mode})},e.prototype.toggleNodeInfo=function(e,t){e.patchState({showNodeInfo:t.show})},e.prototype.togglePresentation=function(e,t){e.patchState({presentationActive:t.active})},e.prototype.toggleHelp=function(e,t){e.patchState({help:{tab:t.tab}})},e.prototype.setLoaderType=function(e,t){e.patchState({interactType:t.interactType})},e.prototype.setTutorial=function(e,t){var n=e.getState().tutorial;e.patchState({tutorial:wy({},n,t.tutorial)})},e.prototype.startTutorial=function(e,t){e.patchState({tutorial:wy({},e.getState().tutorial,{pageIndex:t.intro?-1:0})})},e.prototype.tutorialPrevious=function(e,t){var n=e.getState().tutorial,l=Math.max(n.pageIndex-1,0);e.dispatch(new y.SetTutorial(wy({},n,{pageIndex:l})))},e.prototype.tutorialNext=function(e,t){var n=e.getState().tutorial,l=Math.min(n.pageIndex+1,n.pageSize-1);e.dispatch(new y.SetTutorial(wy({},n,{pageIndex:l})))},e.prototype.setMultiPickModeEnabled=function(e,t){e.patchState({multiPickModeEnabled:t.enabled})},e.prototype.setLabelBreakpoint=function(e,t){e.patchState({labelsBreakpoint:t.labelsBreakpoint})},e.prototype.setUsePrintImage=function(e,t){e.patchState({usePrintImage:t.usePrintImage})},e.prototype.setWindows=function(e,t){e.patchState({openWindows:t.windows})},e.prototype.openWindow=function(e,t){var n=e.getState().openWindows;n.indexOf(t.window)<0&&e.patchState({openWindows:jy([t.window],n)})},e.prototype.closeWindow=function(e,t){var n=e.getState().openWindows;null!=t.window?n=n.filter((function(e){return e!==t.window})):n.shift(),e.patchState({openWindows:jy(n)})},e.prototype.toggleWindow=function(e,t){var n=e.getState().openWindows.indexOf(t.window)>=0;e.dispatch((null!=t.show?t.show:!n)?new y.OpenWindow(t.window):new y.CloseWindow(t.window))},e.prototype.toggleMenu=function(e,t){e.patchState({menuOpen:t.open})},e.prototype.ngxsOnInit=function(e){kf.onFullscreenChange().subscribe((function(t){e.patchState({fullscreenActive:kf.isFullscreen()})}))},Object(v.__decorate)([Object(O.a)(y.SetLayout),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetLayout]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLayout",null),Object(v.__decorate)([Object(O.a)(y.SetInitialLayout),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetInitialLayout]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setInitialLayout",null),Object(v.__decorate)([Object(O.a)(y.SetInputEnabled),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetInputEnabled]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setInputEnabled",null),Object(v.__decorate)([Object(O.a)(y.SetCanHover),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetCanHover]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setCanHover",null),Object(v.__decorate)([Object(O.a)(y.SetCanTouch),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetCanTouch]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setCanTouch",null),Object(v.__decorate)([Object(O.a)(y.SetCanFullscreen),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetCanFullscreen]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setCanFullscreen",null),Object(v.__decorate)([Object(O.a)(y.SetSearchDisplayMode),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetSearchDisplayMode]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSearchDisplayMode",null),Object(v.__decorate)([Object(O.a)(y.ToggleNodeInfo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.ToggleNodeInfo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleNodeInfo",null),Object(v.__decorate)([Object(O.a)(y.TogglePresentation),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.TogglePresentation]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"togglePresentation",null),Object(v.__decorate)([Object(O.a)(y.ToggleHelpTab),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.ToggleHelpTab]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleHelp",null),Object(v.__decorate)([Object(O.a)(y.SetInteractType),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetInteractType]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLoaderType",null),Object(v.__decorate)([Object(O.a)(y.SetTutorial),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetTutorial]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setTutorial",null),Object(v.__decorate)([Object(O.a)(y.StartTutorial),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.StartTutorial]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"startTutorial",null),Object(v.__decorate)([Object(O.a)(y.TutorialPrevious),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.TutorialPrevious]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"tutorialPrevious",null),Object(v.__decorate)([Object(O.a)(y.TutorialNext),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.TutorialNext]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"tutorialNext",null),Object(v.__decorate)([Object(O.a)(y.SetMultiPickModeEnabled),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetMultiPickModeEnabled]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setMultiPickModeEnabled",null),Object(v.__decorate)([Object(O.a)(y.SetLabelBreakpoint),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetLabelBreakpoint]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setLabelBreakpoint",null),Object(v.__decorate)([Object(O.a)(y.SetUsePrintImage),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetUsePrintImage]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setUsePrintImage",null),Object(v.__decorate)([Object(O.a)(y.SetWindows),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.SetWindows]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setWindows",null),Object(v.__decorate)([Object(O.a)(y.OpenWindow),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.OpenWindow]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"openWindow",null),Object(v.__decorate)([Object(O.a)(y.CloseWindow),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.CloseWindow]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"closeWindow",null),Object(v.__decorate)([Object(O.a)(y.ToggleWindow),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.ToggleWindow]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleWindow",null),Object(v.__decorate)([Object(O.a)(y.ToggleMenu),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,y.ToggleMenu]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"toggleMenu",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getLayout",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getInitialLayout",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getLabelsBreakpoint",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getInputEnabled",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getFullscreenActive",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getPresentationActive",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getDrawerCoversContent",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowNodeInfo",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getInteractType",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowHelpTab",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getTutorial",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getCanTouch",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getCanHover",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getMultiPickModeEnabled",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getSearchDisplayMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getUsePrintImage",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getOpenWindow",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[ky]),Object(v.__metadata)("design:returntype",void 0)],e,"getMenuOpen",null),t=Object(v.__decorate)([Object(O.g)({name:"view",defaults:Py})],e)}(),Iy=function(e){return e[e.Content=0]="Content",e[e.Label=1]="Label",e[e.Tools=2]="Tools",e[e.Search=3]="Search",e[e.Help=4]="Help",e[e.NodeInfo=5]="NodeInfo",e[e.LabelInfo=6]="LabelInfo",e}({}),Ty=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ky=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ty(arguments[t]));return e},zy=Ky(["ui-bd.class","ui-play-pause","ui-camera-mode","ui-center","ui-cross-section","ui-dissect","ui-fs","ui-tools-display","ui-tree","ui-zoom","ui-zoom-in","ui-zoom-out","ui-pan","ui-share","ui-keys","ui-slider"],["o","background.color-stops","background.gradient-type","dd","dn","image-display","imageDisplay","imageSrc","pre","referrer"]);function Uy(e){var t=e.id,n=e.s,l=e.m,i=e.be,o=e.b,a="";if(t)a=t;else if(i)a=i;else if(o){var r=parseInt(o,10);a=Number.isNaN(r)?"":function(e){for(var t,n,l=[],i=e;i>0;)i=(t=Ty((n=i,[Math.floor(n/62),n%62]),2))[0],l.unshift("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[t[1]]);return l.join("")}(r)}else l&&(a=function(e,t){return void 0===t&&(t="male"),e.includes("/")?e:"production/"+t+"Adult/"+e}(l,"female"===n?"female":"male"));return a.replace(/\.json$/,"")}function Ey(e){return Uy(e).includes("/")?"module":"bookmark"}var Ly={type:function(e){return Ey(e)},id:function(e){return Uy(e)},background:function(e){return e.bgstd||e["background.colors"]||e.background}};function Ay(e){return 3===e.length?{x:e[0],y:e[1],z:e[2]}:null}var Fy={camera:function(e){var t=e.split(",").map((function(e){return parseFloat(e)}));if(t.length%3==0&&!t.some((function(e){return Number.isNaN(e)}))){var n=t.slice(0,3),l=t.slice(3,6),i=t.slice(6,9);return{eye:Ay(n),look:Ay(l),up:Ay(i)}}return null},background:function(e){var t=tt.getColors(e);if(t){var n=Ky(t[0][255],t[1][255]);return new Ja(n,"radial",[0,100])}return null}};function Dy(e){var t,n=function(e){var t=Object.keys(e),n=t.filter((function(e){return zy.includes(e)}));if(n.length>0){var l=['The following URL parameters have been deprecated: "'+n.join('", "')+'"',"Please contact support@biodigital.com for more information."];console.warn(l.join("\n"))}return t.reduce((function(e,t){return zy.includes(t)&&delete e[t],e}),e)}(e);return function(e){var t=function(e){if(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(t)))return Number(t)}return e};return Object.keys(e).reduce((function(n,l){var i=(Fy[l]||t)(e[l]);return"load-rotate"===l&&isNaN(Number(i))?n:(n[l]=i,n)}),{})}((t=n,Object.keys(Ly).filter((function(e){return void 0===t[e]})).reduce((function(e,n){var l=(0,Ly[n])(t);return void 0!==l&&(e[n]=l),e}),t)))}var Ny,Ry=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},By=function(){function e(e){this.store=e}return e.prototype.chapterHasTransition=function(e,t){var n=t?"transitions.pre":"transitions.post",l=Object(Et.get)(e,n);return!!l&&(t?l.onPrevious:l.onNext)},e.prototype.searchChapterTransitions=function(e,t,n){var l=this,i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ry(arguments[t]));return e}(n),o=i.findIndex((function(t){return t.id===e})),a=i.findIndex((function(e){return e.id===t})),r=a<o;if(r&&(o=(i=i.reverse()).findIndex((function(t){return t.id===e})),a=i.findIndex((function(e){return e.id===t}))),o<0||a<0||o===a)return null;var u=i.slice(o,a).find((function(e){return l.chapterHasTransition(e,r)}));return u?r?u.transitions.pre:u.transitions.post:null},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i))},token:e,providedIn:"root"}),e}(),Hy=function(e){return e.JumpTo="jumpTo",e.FlyTo="flyTo",e}({});!function(e){var t=function(){function e(e){this.breakpoint=e}return e.type="[View] Set Breakpoint",e}();e.SetBreakpoint=t}(Ny||(Ny={}));var Vy=function(e){return e[e.XSmall=0]="XSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large",e[e.XLarge=4]="XLarge",e}({}),$y=function(){return function(){}}(),Qy=function(){function e(e,t){this.breakpointObserver=e,this.store=t}return e.getBreakpoint=function(e){return e.breakpoint},e.prototype.setBreakpoint=function(e,t){e.patchState({breakpoint:t.breakpoint})},e.prototype.ngxsOnInit=function(e){var t=this.breakpointObserver.observe(["(max-width: 374px)"]),n=this.breakpointObserver.observe(["(max-width: 599px)"]),l=this.breakpointObserver.observe(["(max-width: 959px)"]),i=this.breakpointObserver.observe(["(max-width: 1439px)"]),o=this.breakpointObserver.observe(["(min-width: 1440px)"]);Object(hd.b)(t,n,l,i,o).pipe(Object(s.a)((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,5);return t[0].matches?Vy.XSmall:t[1].matches?Vy.Small:t[2].matches?Vy.Medium:t[3].matches?Vy.Large:t[4].matches?Vy.XLarge:null})),Object(Bh.a)(),Object(te.a)((function(e){return null!=e}))).subscribe((function(t){e.dispatch(new Ny.SetBreakpoint(t))}))},Object(v.__decorate)([Object(O.a)(Ny.SetBreakpoint),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Ny.SetBreakpoint]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setBreakpoint",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[$y]),Object(v.__metadata)("design:returntype",void 0)],e,"getBreakpoint",null),Object(v.__decorate)([Object(O.g)({name:"breakpoint",defaults:{breakpoint:null}})],e)}(),Wy=function(e){return e.Column="column",e.ColumnToggle="column-toggle",e.Drawer="drawer",e.TitleOnly="title-only",e.Tools="tools",e.Toolbar="toolbar",e.Camera="camera",e.Media="media",e.Mediabar="mediabar",e.Reset="reset",e.Audio="audio",e.Menu="menu",e.Pagination="pagination",e.Fullscreen="fullscreen",e.Help="help",e.Description="description",e.NodeInfo="nodeInfo",e.Search="search",e.Presenter="presenter",e.Logo="logo",e.LabelList="labelList",e.ChapterList="chapterList",e.AnatomyLabels="anatomyLabels",e.Tutorial="tutorial",e.InternetExplorerWarning="internetExplorerWarning",e.Legend="legend",e.Loader="loader",e}({}),Gy=function(){function e(e){this.store=e,this.layout=null,this.breakpoint=null}return e.prototype.getBase=function(){return{layout:this.store.selectSnapshot(My.getLayout),breakpoint:this.store.selectSnapshot(Qy.getBreakpoint),hideUI:this.isUIHidden()}},e.prototype.isUIHidden=function(){var e=this.store.selectSnapshot(My.getOpenWindow),t=this.store.selectSnapshot(Ac.getSelectedChapterIndex),n=this.store.selectSnapshot(My.getLayout);return e===Oy.Loader&&t<=0&&n.loader.template===uy.Circle||e===Oy.Interact||e===Oy.Tutorial},e.prototype.isDrawerVisible=function(){var e=this.getBase(),t=e.layout;return!e.hideUI&&!(e.breakpoint>=Vy.Large)&&(u.application!==i.Viewer||t.drawer.enable&&"none"!==this.getVisibleContent()||t.nodeInfo.status===ay.Show||t.labelInfo.status===ay.Show)},e.prototype.isColumnVisible=function(){var e=this.getBase(),t=e.layout;return!e.hideUI&&!(e.breakpoint<Vy.Large)&&t.column.status!==ay.Collapse&&(u.application!==i.Viewer||t.column.enable&&"full"===this.getVisibleContent())},e.prototype.isColumnToggleVisible=function(){var e=this.getBase();return!e.hideUI&&!(e.breakpoint<Vy.Large)&&e.layout.column.enable&&"full"===this.getVisibleContent()},e.prototype.isTitleOnlyVisible=function(){var e=this.getBase();return!e.hideUI&&!(e.breakpoint<Vy.Large)&&e.layout.titleOnly.enable&&"titleOnly"===this.getVisibleContent()},e.prototype.isToolsVisible=function(){return!this.getBase().hideUI&&this.isLayoutVisible(Wy.Tools)},e.prototype.isToolbarVisible=function(){var e=this.getBase();return!e.hideUI&&e.layout.toolbar.enable},e.prototype.isLogoVisible=function(){return this.getBase().layout.logo.enable},e.prototype.isCameraVisible=function(){var e=this.getBase();return!e.hideUI&&e.layout.camera.enable},e.prototype.isPaginationVisible=function(){var e=this.getBase();return!e.hideUI&&e.layout.pagination.enable},e.prototype.isMediaVisible=function(){var e=this.getBase(),t=e.layout;return!e.hideUI&&this.store.selectSnapshot(Ac.getIsChapterAnimated)&&t.media.enable},e.prototype.isMediabarVisible=function(){if(this.getBase().hideUI)return!1;var e=this.isMediaVisible(),t=this.isAudioVisible();return e||t},e.prototype.isMenuVisible=function(){var e=this.getBase();return!e.hideUI&&e.layout.menu.enable},e.prototype.isNodeInfoColumnVisible=function(){var e=this.getBase(),t=e.layout,n=e.breakpoint;return!e.hideUI&&(!!(n>=Vy.Large&&this.isLayoutVisible(Wy.NodeInfo))||(n<Vy.Large?!t.drawer.enable&&this.isLayoutVisible(Wy.NodeInfo):void 0))},e.prototype.isNodeInfoVisible=function(e){var t=this.getBase(),n=t.breakpoint;return!t.hideUI&&(n>=Vy.Large&&"column"===e?this.isLayoutVisible(Wy.NodeInfo):n<Vy.Large&&"drawer"===e&&this.isLayoutVisible(Wy.NodeInfo))},e.prototype.isAudioVisible=function(){var e=this.getBase().layout,t=null!=this.store.selectSnapshot(Ac.getSelectedChapterAudio);return e.audio.enable&&t},e.prototype.isSearchColumnVisible=function(){return!this.getBase().hideUI&&this.isLayoutVisible(Wy.Search)},e.prototype.isVisible=function(e){switch(e){case Wy.Audio:return this.isAudioVisible();case Wy.Camera:return this.isCameraVisible();case Wy.Column:return this.isColumnVisible();case Wy.ColumnToggle:return this.isColumnToggleVisible();case Wy.Drawer:return this.isDrawerVisible();case Wy.Logo:return this.isLogoVisible();case Wy.Media:return this.isMediaVisible();case Wy.Mediabar:return this.isMediabarVisible();case Wy.Menu:return this.isMenuVisible();case Wy.Pagination:return this.isPaginationVisible();case Wy.Search:return this.isSearchColumnVisible();case Wy.TitleOnly:return this.isTitleOnlyVisible();case Wy.Tools:return this.isToolsVisible();case Wy.Toolbar:return this.isToolbarVisible();default:return this.isLayoutVisible(e)}},e.prototype.isLayoutVisible=function(e){var t=this.getBase(),n=t.layout;return n[e]?!t.hideUI&&n[e].enable&&n[e].status!==ay.Hide:(console.warn("Attempting to check visibility of a non-existent element: ${element}"),!1)},e.prototype.isLayoutEnabled=function(e){return this.getBase().layout[e].enable},e.prototype.getVisibleContent=function(){var e=this.getBase().layout,t=this.store.selectSnapshot(Bc.getChapterLabels),n=this.store.selectSnapshot(Ac.getChapterCount),l=this.store.selectSnapshot(Ac.getSelectedChapter),i=Object(Et.get)(l,"info.description"),o=Object(Et.get)(l,"info.displayName"),a=Object(Et.get)(l,"legend",[]),r=e.labelList.enable&&t.length>0,u=e.chapterList.enable&&n>1,c=null!=i&&Object(Et.trim)(i).length>0,s=null!=o&&Object(Et.trim)(o).length>0;return r||u||c||e.legend.enable&&a.length>0?"full":s?"titleOnly":"none"},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i))},token:e,providedIn:"root"}),e}(),qy=function(){return(qy=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Yy=function(e,t,n,l){return new(n||(n=Promise))((function(i,o){function a(e){try{u(l.next(e))}catch(t){o(t)}}function r(e){try{u(l.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,r)}u((l=l.apply(e,t||[])).next())}))},Xy=function(e,t){var n,l,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,l&&(i=2&o[0]?l.return:o[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,o[1])).done)return i;switch(l=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,l=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(r){o=[6,r],l=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},Zy=function(){function e(e,t,n,l,i){this.store=e,this.location=t,this.engineService=n,this.transitionService=l,this.layoutService=i}return e.prototype.initStory=function(e,t,n){var l=this;this.store.dispatch(new Go(e,t,!0));var i=this.store.select(oy.getReady),o=this.store.select(qs.getIncomingStoryInfo);Object(hd.b)(i,o).pipe(Object(te.a)((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2);return t[0]&&!!t[1].id})),Object(ud.a)(1)).subscribe((function(){l.store.dispatch(new ba),l.store.dispatch(new Ho(e,t,n))}))},e.prototype.nextChapter=function(){var e=this.store.selectSnapshot(Ac.getSelectedChapterIndex),t=this.store.selectSnapshot(Ac.getStoryChapters)[e+1];t&&this.selectChapter(t)},e.prototype.previousChapter=function(){var e=this.store.selectSnapshot(Ac.getSelectedChapterIndex),t=this.store.selectSnapshot(Ac.getStoryChapters)[e-1];t&&this.selectChapter(t)},e.prototype.selectChapter=function(e){return Yy(this,void 0,void 0,(function(){var t,n,l,i;return Xy(this,(function(o){switch(o.label){case 0:return t=this.store.selectSnapshot(Ac.getSelectedChapterId),n=e.id,l=this.store.selectSnapshot(Ac.getStoryChapters),(i=this.transitionService.searchChapterTransitions(t,n,l))?[4,this.chapterTransition(i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.store.dispatch([new Yo(e.id),new ba(e)]),[2]}}))}))},e.prototype.chapterTransition=function(e){var t=this;return new Promise((function(n){e.camera&&t.store.dispatch(new Lf(e.camera,!0,e.duration)),e.fadeColor&&t.store.dispatch(new ki(e.fadeColor,e.duration)),setTimeout((function(){n(!0)}),1e3*e.duration)}))},e.prototype.hideSelectedStructures=function(){var e=this.store.selectSnapshot(_u.getCheckedNodeIds);this.store.dispatch(new eu.UpdateNodesShown(!1,e))},e.prototype.selectTool=function(e){this.store.dispatch(new Bi(e))},e.prototype.toggleColumn=function(e){var t=this.store.selectSnapshot(My.getLayout);t.column.status=(e=null==e?!(t.column.status===ay.Show):e)?ay.Show:ay.Collapse,this.store.dispatch(new y.SetLayout(t))},e.prototype.togglePresentation=function(){this.store.selectSnapshot(My.getPresentationActive)?this.stopPresentation():this.startPresentation()},e.prototype.startPresentation=function(){this.store.dispatch(new y.TogglePresentation(!0))},e.prototype.stopPresentation=function(){this.store.dispatch(new y.TogglePresentation(!1))},e.prototype.toggleHelp=function(e,t){void 0===t&&(t=ne.Basics),this.store.dispatch(new y.ToggleWindow(Oy.Help,e)),this.store.dispatch(new y.ToggleHelpTab(t))},e.prototype.toggleInteract=function(e){this.store.dispatch(new y.ToggleWindow(Oy.Interact,e))},e.prototype.toggleTutorial=function(e){this.store.dispatch(new y.ToggleWindow(Oy.Tutorial,e)),e&&this.store.dispatch(new y.StartTutorial(!0))},e.prototype.toggleLabels=function(e){this.store.dispatch(new Ri(e))},e.prototype.toggleSearch=function(e){var t=this.store.selectSnapshot(Qy.getBreakpoint),n=this.store.selectSnapshot(My.getLayout);n.search.status=(e=null==e?!(n.search.status===ay.Show):e)?ay.Show:ay.Hide,(t===Vy.Medium||t===Vy.Small||t>=Vy.Large&&e)&&this.toggleColumn(e),e&&(n.nodeInfo.status=ay.Hide),this.store.dispatch(new y.SetLayout(n))},e.prototype.toggleNodeInfo=function(e){this.toggleInfoLayout("nodeInfo",e)},e.prototype.toggleLabelInfo=function(e){this.toggleInfoLayout("labelInfo",e)},e.prototype.toggleInfoLayout=function(e,t){var n=this.store.selectSnapshot(My.getLayout);(t=null==t?n[e].status===ay.Hide:t)?(n[e].status=ay.Show,["nodeInfo","labelInfo"].filter((function(t){return t!==e})).forEach((function(e){return n[e].status=ay.Hide}))):n[e].status=ay.Hide,this.store.dispatch(new y.SetLayout(n))},e.prototype.delegateNodeClick=function(e,t){if(this.clearSelectedLabel(),e||t.srcEvent.shiftKey)if(t.srcEvent.shiftKey||this.store.selectSnapshot(My.getMultiPickModeEnabled))this.checkNode(e);else switch(this.store.selectSnapshot(oy.getActiveTool)){case ty.Hide:this.hideNode(e);break;case ty.Select:this.selectNode(e);break;case ty.Isolate:this.isolateNode(e);break;case ty.Fade:this.fadeNode(e)}else this.clearSelectedNodes()},e.prototype.clearSelectedLabel=function(){this.store.dispatch(new Eo)},e.prototype.clearSelectedNodes=function(){this.store.dispatch(new eu.UpdateNodeSelected),this.store.dispatch(new eu.UpdateNodesChecked(!1))},e.prototype.checkNode=function(e,t){void 0!==e&&(null==t&&(t=this.store.selectSnapshot(_u.getNodes)[e.id].checked),this.store.dispatch(new eu.UpdateNodesChecked(!t,[e.id])),this.store.dispatch(new eu.UpdateNodeSelected(e.id)))},e.prototype.fadeNode=function(e){this.store.dispatch(new eu.UpdateNodesPaint(Hs.recipe,[e.id]))},e.prototype.isolateNode=function(e){this.store.dispatch(new eu.UpdateNodesShown(!1)),this.store.dispatch(new eu.UpdateNodesShown(!0,[e.id]))},e.prototype.selectNode=function(e){var t=!this.store.selectSnapshot(_u.getNodes)[e.id].checked;this.store.dispatch(new eu.UpdateNodesChecked(!1)),t&&(this.store.dispatch(new eu.UpdateNodesChecked(!0,[e.id])),this.store.dispatch(new eu.UpdateNodeSelected(e.id))),this.store.dispatch(new io(e)),this.store.dispatch(new co(e))},e.prototype.hideNode=function(e){this.store.dispatch(new eu.UpdateNodesShown(!1,[e.id])),this.store.dispatch(new eu.UpdateNodesChecked(!1))},e.prototype.selectLabel=function(e,t){void 0===t&&(t=!1);var n=e.objectId,l=e.states;this.store.dispatch(new Eo(e)),t&&n&&0===l.length&&this.store.dispatch(new Ui(n,!0))},e.prototype.initChapter=function(e){return Yy(this,void 0,void 0,(function(){var t;return Xy(this,(function(n){return t=this.engineService.createViewGraph({},!1),this.store.dispatch(new Pi(t)),this.store.dispatch(new Lf(e.camera.location,e.camera.action===Hy.FlyTo)),[2]}))}))},e.prototype.playChapterFromStart=function(){this.store.dispatch(new Wi)},e.prototype.resetCamera=function(){var e=this.store.selectSnapshot(Ac.getSelectedChapter);e&&this.store.dispatch(new Lf(e.camera.location))},e.prototype.resetChapter=function(){this.resetCamera();var e=this.store.selectSnapshot(Ac.getSelectedChapterId);this.store.dispatch(new tu.UndoAll(e)),this.store.dispatch(new eu.UpdateNodesChecked(!1)),this.store.dispatch(new To)},e.prototype.resetLayout=function(){var e=this.store.selectSnapshot(My).layout;this.layoutService.isUIHidden()?Object.keys(e).forEach((function(t){e[t].status=ay.Hide})):(Object.keys(e).forEach((function(t){e[t].status=ay.Show})),e.search.status=ay.Hide,e.tools.status=ay.Hide,e.nodeInfo.status=ay.Hide,e.labelInfo.status=ay.Hide,e.media.status=ay.Hide),this.store.dispatch(new y.SetLayout(e))},e.prototype.undo=function(){this.store.dispatch(new tu.Undo(this.store.selectSnapshot(Ac.getSelectedChapterId)))},e.prototype.redo=function(){this.store.dispatch(new tu.Redo(this.store.selectSnapshot(Ac.getSelectedChapterId)))},e.prototype.toggleAnimation=function(){var e=!this.store.selectSnapshot(oy.getAnimationPlaying);this.store.dispatch(new Vi(e))},e.prototype.toggleAudio=function(){var e=this.store.selectSnapshot(oy.getPlayAudio);this.store.dispatch(new Qi(!e))},e.prototype.normalizeQueryParams=function(e){var t=qy({},e);return{id:Uy(t),type:Ey(t),lang:e.lang}},e.prototype.sanitizeRouteId=function(e){return e=e.replace(/\.json$/,""),this.location.replaceState("view","?id="+e),e},e.prototype.openInNewTab=function(){var e=window.document.location.href;window.open(e)},e.prototype.getComputedTransform=function(e){var t=getComputedStyle(e).transform.replace("matrix3d","").replace("matrix","").replace("(","").replace(")","").split(",").map((function(e){return e.trim()})).map((function(e){return parseInt(e,10)})),n=16===t.length?t[12]:t[4],l=16===t.length?t[13]:t[5];return Number.isNaN(n)||Number.isNaN(l)?null:{x:n,y:l}},e.prototype.inferDrawerMode=function(e){var t=Iy.Content;return e.nodeInfo.status===ay.Show?t=Iy.NodeInfo:e.labelInfo.status===ay.Show&&(t=Iy.LabelInfo),t},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i),l.Yb(ce.h),l.Yb(uu),l.Yb(By),l.Yb(Gy))},token:e,providedIn:"root"}),e}(),Jy=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-chapters{max-height:320px;overflow:auto}.view-chapters__header{border-top:var(--view-chapters-border);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:16px 0;margin-top:16px}.view-chapters__next{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-style:italic;padding:8px;border-radius:4px;-webkit-box-flex:1;flex-grow:1}.view-chapters__next:hover{background:var(--view-chapters-bg--hover);color:var(--view-chapters-color--hover);cursor:pointer}.view-chapters__toggle{-webkit-box-pack:end;justify-content:flex-end;flex-shrink:1;text-align:right;margin-left:4px}.view-chapters__item{font-size:14px;letter-spacing:.35px;line-height:1.4em;display:-webkit-box;display:flex;padding:8px;margin:4px;border-radius:2px;border-left:4px solid transparent;background-color:transparent;color:#131c2a;border-left:var(--view-chapters-border);background-color:var(--view-chapters-bg);color:var(--view-chapters-color);-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-chapters__item:hover{cursor:pointer;background:var(--view-chapters-bg--hover)}.view-chapters__item:focus{background:#e4ecf9;outline:0}.view-chapters__item--selected{border-left:4px solid #2d72dc;background-color:#f1f5fc;background:var(--view-chapters-bg--selected);border-left:var(--view-chapters-border--selected)}.view-chapters__index{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 32px;-webkit-box-pack:center;justify-content:center}.view-chapters__thumb{background-color:#f9fafd;background-color:var(--view-chapters-thumb-bg);border-radius:4px;background-repeat:no-repeat;-webkit-box-flex:0;flex:0 0 56px;height:56px;width:56px;-webkit-transition:border-color .1s;transition:border-color .1s;background-size:cover}.view-chapters__title{word-wrap:break-word;overflow-wrap:break-word;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding-right:4px}"]],data:{}});function ex(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,11,"li",[["class","view-chapters__item"],["role","button"],["tabindex","0"]],[[1,"aria-label",0],[1,"data-chapter-id",0]],[[null,"click"],[null,"keyup.enter"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleChapterClick(e.context.$implicit)&&l),"keyup.enter"===t&&(l=!1!==i.handleChapterClick(e.context.$implicit)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Mb(131072,ce.b,[l.i]),l.Nb(4,{"view-chapters__item--viewed":0,"view-chapters__item--selected":1}),l.Ob(5,1),(e()(),l.yb(6,0,null,null,1,"div",[["class","view-chapters__index"]],null,null,null,null,null)),(e()(),l.Sb(7,null,["","."])),(e()(),l.yb(8,0,null,null,1,"div",[["class","view-chapters__title"]],null,null,null,null,null)),(e()(),l.Sb(9,null,["",""])),(e()(),l.yb(10,0,null,null,1,"div",[["class","view-chapters__thumb"]],null,null,null,null,null)),l.xb(11,1720320,null,0,Cf.a,[l.l,l.C,l.E,[2,"options"]],{lazyImage:[0,"lazyImage"],defaultImage:[1,"defaultImage"]},null)],(function(e,t){var n=t.component,i=e(t,4,0,n.isViewed(t.context.$implicit.id),t.context.$implicit.id===l.Tb(t,2,1,l.Kb(t,3).transform(n.selectedChapterId$)));e(t,2,0,"view-chapters__item",i),e(t,11,0,n.getChapterThumb(t.context.$implicit.id),n.defaultImage)}),(function(e,t){var n=t.context.$implicit.info.displayName,i=l.Tb(t,0,1,e(t,5,0,l.Kb(t.parent,0),t.context.$implicit.id));e(t,0,0,n,i),e(t,7,0,t.context.index+1),e(t,9,0,t.context.$implicit.info.displayName)}))}function tx(e){return l.Ub(2,[l.Mb(0,Sf,[]),l.Qb(671088640,1,{chapterList:0}),(e()(),l.yb(2,0,[[1,0],["chapterList",1]],null,5,"nav",[["aria-label","Chapters"],["class","view-chapters"],["role","navigation"]],[[8,"hidden",0]],null,null,null,null)),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(4,0,null,null,3,"ol",[],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,ex)),l.xb(6,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,6,0,l.Tb(t,6,0,l.Kb(t,7).transform(n.chapters$)))}),(function(e,t){var n,i=t.component;e(t,2,0,1===(null==(n=l.Tb(t,2,0,l.Kb(t,3).transform(i.chapters$)))?null:n.length))}))}function nx(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-chapters",[],null,null,null,tx,Jy)),l.xb(1,4440064,null,0,Mf,[O.i,Zy,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}var lx=l.ub("app-view-chapters",Mf,nx,{defaultImage:"defaultImage",autoscroll:"autoscroll"},{},[]),ix=function(){function e(){this.selectable=!1,this.size="medium",this.buttonType="default",this.direction="column",this._selected=!1,this.disabled=!1,this.selectedChange=new l.o}return Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e,this.selectedChange=new l.o},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleClick=function(){this.disabled||this.selectable&&(this.selected=!this.selected)},e}(),ox=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-pin-button]{border-color:transparent;background:0 0;border-width:0;padding:0;outline:0;margin:0;pointer-events:all}button[app-pin-button]::-moz-focus-inner{border:0}button[app-pin-button]:not([disabled]):hover{cursor:pointer}button[app-pin-button]:focus :not(.pin-button--selected) .pin-button__pin{background:#e4ecf9;outline:0}.pin-button{display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;-webkit-box-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.pin-button:hover{cursor:pointer}.pin-button:hover:not(.pin-button--selected):not(.pin-button--disabled) .pin-button__pin{background:#d7e0ea;background:var(--pin-button-pin-background--hover)}.pin-button:not(.pin-button--selected):active:hover .pin-button__pin{background:#d7e0ea;background:var(--pin-button-pin-background--active)}.pin-button--selected .pin-button__pin{background-color:#2d72dc;background-color:var(--pin-button-pin-background--selected);color:#fff;color:var(--pin-button-pin-color--selected)}.pin-button--selected .pin-button__label{color:#2d72dc;color:var(--pin-button-label-color--selected);font-weight:600}.pin-button--small .pin-button__pin{border-radius:14px;min-width:28px;height:28px}.pin-button--small .pin-button__label{margin-top:0}.pin-button--large .pin-button__pin{font-size:20px;letter-spacing:.5px;line-height:1.4em}.pin-button--row{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.pin-button--row .pin-button__label{margin:0 0 0 4px}.pin-button--ghost:not(.pin-button--selected) .pin-button__pin{background:0 0}.pin-button--outline:not(.pin-button--selected) .pin-button__pin{background:0 0;border:var(--pin-button-pin-border)}.pin-button--primary .pin-button__pin{background:var(--pin-button-pin-background--primary);color:#fff}.pin-button--primary:not(.pin-button--selected):not(.pin-button--disabled) .pin-button__pin{background:var(--pin-button-pin-background--primary)!important;color:#fff!important}.pin-button--disabled{opacity:.2}.pin-button--disabled:hover{cursor:auto}.pin-button--floating .pin-button__pin{background-color:#fff;background-color:var(--pin-button-pin-background--floating);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);box-shadow:var(--pin-button-shadow)}.pin-button--dark .pin-button__pin{color:#fff;color:var(--pin-button-pin-color--dark);background-color:#fff;background-color:var(--pin-button-pin-background--dark)!important;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);box-shadow:var(--pin-button-shadow)}.pin-button__pin{border-radius:18px;display:-webkit-box;display:flex;font-size:12px;float:left;min-width:36px;height:36px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;background-color:#eaeff5;color:#1c2a3f;background-color:var(--pin-button-pin-background);color:var(--pin-button-pin-color);-webkit-transition:background-color 125ms;transition:background-color 125ms}.pin-button__label{font-size:10px;letter-spacing:.25px;line-height:1.4em;color:#1c2a3f;color:var(--pin-button-label-color);padding:2px 0 4px}.pin-button__image{width:100%;height:100%;background-size:50%;background-repeat:no-repeat;background-position:center}"]],data:{}});function ax(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,t.component.icon)}),null)}function rx(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"span",[["class","pin-button__image"]],[[4,"backgroundImage",null]],null,null,null,null))],null,(function(e,t){e(t,0,0,"url("+t.component.src+")")}))}function ux(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","pin-button__label"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function cx(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,11,"div",[["class","pin-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClick()&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"pin-button--selected":0,"pin-button--disabled":1,"pin-button--small":2,"pin-button--medium":3,"pin-button--large":4,"pin-button--ghost":5,"pin-button--primary":6,"pin-button--outline":7,"pin-button--floating":8,"pin-button--dark":9,"pin-button--row":10}),(e()(),l.yb(4,0,null,null,5,"div",[["class","pin-button__pin"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,ax)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,rx)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,ux)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,1,[n.selected,n.disabled,"small"===n.size,"medium"===n.size,"large"===n.size,"ghost"===n.buttonType,"primary"===n.buttonType,"outline"===n.buttonType,"floating"===n.buttonType,"dark"===n.buttonType,"row"===n.direction]);e(t,2,0,"pin-button",l),e(t,6,0,n.icon),e(t,8,0,n.src),e(t,11,0,n.label)}),null)}var sx=n("AJqF"),px=function(){return(px=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},dx=function(){function e(e,t,n,l,i,o){this.engineService=e,this.animationService=t,this.renderer=n,this.viewService=l,this.changeDetectorRef=i,this.store=o,this.showHandle=!0,this.ngUnsubscribe=new Z.a,this.trackWidth=0,this.dragPosition={x:16,y:0},this.dragMove=new Z.a}return e.prototype.ngOnInit=function(){this.initChapterListener(),this.initTimelineListener(),this.initDragListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initChapterListener=function(){var e=this;this.selectedChapterId$.pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.timerange=e.animationService.getChapterLocalTimerange(t)}))},e.prototype.initTimelineListener=function(){var e=this;this.engineService.getEvent(tr.TimelinePlaying).pipe(Object(sx.a)(20),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){return e.tick(t.time)})),this.engineService.getEvent(tr.TimelineScrubbed).pipe(Object(sx.a)(20),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.calcScrubbedPercent(t.time);e.setScrubberBar(n)}))},e.prototype.initDragListener=function(){var e=this;this.dragMove.pipe(Object(Pf.a)(20),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.calculateHandlePercent();e.scrubToPercent(n)}))},e.prototype.handleDragMoved=function(e){this.dragMove.next(e)},e.prototype.tick=function(e){if(this.timerange){var t=this.calcScrubbedPercent(e);this.setScrubberBar(t),0===this.trackWidth&&(this.trackWidth=this.track.nativeElement.offsetWidth),this.showHandle&&(this.dragPosition=px({},this.dragPosition,{x:16+this.trackWidth*(t/100)}),this.changeDetectorRef.markForCheck())}},e.prototype.calculateHandlePercent=function(){var e=this.scrubber.nativeElement.getBoundingClientRect(),t=e.left,n=e.right-t-32;return(this.handle.nativeElement.getBoundingClientRect().left-t)/n*100},e.prototype.scrubToPercent=function(e){var t=e/100*this.timerange.lastTime,n=0===e?"second":"first",l=this.store.selectSnapshot(Ac.getSelectedChapterId),i=this.animationService.mapLocalTimeToGlobal(l,t);this.animationService.scrub({time:i,which:n})},e.prototype.handlePlayClick=function(){this.viewService.toggleAnimation()},e.prototype.setScrubberBar=function(e){this.renderer.setStyle(this.bar.nativeElement,"width",e+"%")},e.prototype.calcScrubbedPercent=function(e){var t=this.timerange,n=t.firstTime,l=t.lastTime,i=this.animationService.mapGlobalTimeToLocal(e).time,o=Math.max(n,Math.min(i,l));return Math.round(o/l*100)},Object(v.__decorate)([Object(O.e)(oy.getAnimationPlaying),Object(v.__metadata)("design:type",J.a)],e.prototype,"animationPlaying$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterId),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterId$",void 0),Object(v.__decorate)([Object(O.e)(My.getCanTouch),Object(v.__metadata)("design:type",J.a)],e.prototype,"canTouch$",void 0),e}(),bx=l.wb({encapsulation:2,styles:[['.view-scrubber{position:relative;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:28px;width:100%}.view-scrubber:hover .view-scrubber__handle:after{opacity:1}.view-scrubber--draggable .view-scrubber__track{left:16px;right:16px}.view-scrubber__track{position:absolute;background:rgba(28,42,63,.5);background:var(--scrubber-track-bg);z-index:1;height:3px;left:0;right:0}.view-scrubber__bar{position:absolute;background:var(--scrubber-track-color);height:3px;z-index:2;width:0;left:0}.view-scrubber__handle{width:28px;height:28px;margin-left:-16px;left:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;z-index:2}.view-scrubber__handle--hide{display:none}.view-scrubber__handle:after{opacity:0;-webkit-transition:opacity 250ms;transition:opacity 250ms;content:"";width:8px;height:8px;border-radius:4px;background:var(--scrubber-handle-color);box-shadow:var(--scrubber-handle-shadow)}.view-scrubber__handle:hover:after{opacity:1;background:var(--scrubber-handle-color--hover)}.view-scrubber__handle-touch:after{opacity:1}']],data:{}});function gx(e){return l.Ub(2,[l.Qb(402653184,1,{scrubber:0}),l.Qb(402653184,2,{track:0}),l.Qb(402653184,3,{bar:0}),l.Qb(402653184,4,{handle:0}),(e()(),l.yb(4,0,[[1,0],["scrubber",1]],null,15,"div",[["class","view-scrubber"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(6,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(7,{"view-scrubber--draggable":0}),(e()(),l.yb(8,0,[[2,0],["track",1]],null,1,"div",[["class","view-scrubber__track"]],null,null,null,null,null)),(e()(),l.yb(9,0,[[3,0],["bar",1]],null,0,"div",[["class","view-scrubber__bar"]],null,null,null,null,null)),(e()(),l.yb(10,16777216,[[4,0],["handle",1]],null,9,"div",[["cdkDrag",""],["cdkDragBoundary",".view-scrubber"],["cdkDragLockAxis","x"],["class","view-scrubber__handle cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],[[null,"cdkDragMoved"]],(function(e,t,n){var l=!0;return"cdkDragMoved"===t&&(l=!1!==e.component.handleDragMoved(n)&&l),l}),null,null)),l.Pb(6144,null,Tc.h,null,[Tc.c]),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(13,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Mb(131072,ce.b,[l.i]),l.Nb(15,{"view-scrubber__handle--hide":0,"view-scrubber__handle-touch":1}),l.xb(16,4866048,null,3,Tc.c,[l.l,[3,Tc.b],ce.d,l.C,l.T,Tc.a,[2,lt.b],Tc.d,l.i],{lockAxis:[0,"lockAxis"],boundaryElement:[1,"boundaryElement"],freeDragPosition:[2,"freeDragPosition"]},{moved:"cdkDragMoved"}),l.Qb(603979776,5,{_handles:1}),l.Qb(603979776,6,{_previewTemplate:0}),l.Qb(603979776,7,{_placeholderTemplate:0})],(function(e,t){var n=t.component,i=e(t,7,0,n.showHandle);e(t,6,0,"view-scrubber",i);var o=e(t,15,0,!n.showHandle,l.Tb(t,13,1,l.Kb(t,14).transform(n.canTouch$)));e(t,13,0,"view-scrubber__handle",o),e(t,16,0,"x",".view-scrubber",n.dragPosition)}),(function(e,t){e(t,10,0,l.Kb(t,16).disabled,l.Kb(t,16)._dragRef.isDragging())}))}var hx=function(){function e(e,t,n){this.animationService=e,this.viewService=t,this.layoutService=n,this.viewLayout=Wy,this.size="small",this.showPlayPause=!0,this.showScrubber=!0,this.showBar=!0,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(e){this._template=e,this.updateLayoutProperties(this.template)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initChapterListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initChapterListener=function(){var e=this;this.selectedChapterId$.pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.timerange=e.animationService.getChapterLocalTimerange(t)}))},e.prototype.updateLayoutProperties=function(e){this.showBar=e!==ry.None,this.showScrubber=e===ry.Full,this.showPlayPause=e!==ry.None},e.prototype.handlePlayClick=function(){this.viewService.toggleAnimation()},e.prototype.handleAudioClick=function(){this.viewService.toggleAudio()},e.prototype.handlePlayChapterFromStartClick=function(){this.viewService.playChapterFromStart()},e.prototype.isVisible=function(e){return this.layoutService.isVisible(e)},Object(v.__decorate)([Object(O.e)(oy.getAnimationPlaying),Object(v.__metadata)("design:type",J.a)],e.prototype,"animationPlaying$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterId),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterId$",void 0),Object(v.__decorate)([Object(O.e)(oy.getPlayAudio),Object(v.__metadata)("design:type",J.a)],e.prototype,"playAudio$",void 0),e}(),mx=l.wb({encapsulation:2,styles:[[".view-media-bar{display:-webkit-box;display:flex}.view-media-bar__scrubber{width:120px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]],data:{}});function fx(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["data-test","Play/Pause__small"],["matTooltipPosition","above"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handlePlayClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"above",l.Tb(t,1,1,l.Kb(t,2).transform(n.animationPlaying$))?"Pause":"Play"),e(t,3,0,l.Tb(t,3,0,l.Kb(t,4).transform(n.animationPlaying$))?"pause":"play","ghost")}),null)}function yx(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","step-backward"],["matTooltip","Play Chapter from Start"],["matTooltipPosition","above"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handlePlayChapterFromStartClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"above","Play Chapter from Start"),e(t,2,0,"step-backward","ghost")}),null)}function xx(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-scrubber",[["class","view-media-bar__scrubber"],["data-test","Scrub__small"]],null,null,null,gx,bx)),l.xb(1,245760,null,0,dx,[uu,Bu,l.I,Zy,l.i,O.i],null,null)],(function(e,t){e(t,1,0)}),null)}function _x(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleAudioClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.playAudio$))?"Mute Audio":"Play Audio"),e(t,3,0,l.Tb(t,3,0,l.Kb(t,4).transform(n.playAudio$))?"volume":"volume-slash","ghost")}),null)}function vx(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"div",[["class","view-media-bar"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,fx)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,yx)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,xx)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,_x)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showPlayPause),e(t,4,0,n.showPlayPause),e(t,6,0,n.showScrubber),e(t,8,0,n.isVisible(n.viewLayout.Audio))}),null)}function Ox(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,vx)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.showBar)}),null)}function wx(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-media-bar",[],null,null,null,Ox,mx)),l.xb(1,245760,null,0,hx,[Bu,Zy,Gy],null,null)],(function(e,t){e(t,1,0)}),null)}var Cx=l.ub("app-view-media-bar",hx,wx,{template:"template",size:"size"},{},[]),jx=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),kx=l.wb({encapsulation:2,styles:[[".message{background-color:#0060c4;color:#fff}@media print{.message{display:none}}"]],data:{}});function Sx(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,1,"div",[["class","message p-4 text-12"]],null,null,null,null,null)),l.Jb(null,0)],null,null)}var Px=function(){return window.navigator.userAgent.includes("Trident")},Mx=function(){function e(e,t){this.changeDetector=e,this.storageService=t,this.show=!1,this.message="For the full interactive 3D experience please try loading this content in Chrome or Firefox.",this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){this.initLayoutListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleDismissClick=function(){this.show=!1,this.storageService.setLocalItem(al.InternetExplorerWarning,!0)},e.prototype.shouldShow=function(e){var t=this.storageService.getLocalItem(al.InternetExplorerWarning);return Px()&&!t&&e.internetExplorerWarning.enable},e.prototype.initLayoutListener=function(){var e=this;this.layout$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.show=e.shouldShow(t),e.changeDetector.markForCheck()}))},Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),e}(),Ix=l.wb({encapsulation:0,styles:[[".warning[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.warning__text[_ngcontent-%COMP%]{text-align:center;-webkit-box-flex:1;flex:1}.warning__close[_ngcontent-%COMP%]{cursor:pointer;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex;width:32px;height:32px}"]],data:{}});function Tx(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"app-warning-message",[],null,null,null,Sx,kx)),l.xb(1,114688,null,0,jx,[],null,null),(e()(),l.yb(2,0,null,0,6,"div",[["class","warning"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,1,"div",[["class","warning__text"]],null,null,null,null,null)),(e()(),l.Sb(4,null,[" "," "])),(e()(),l.yb(5,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,2,"div",[["class","warning__close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDismissClick()&&l),l}),null,null)),(e()(),l.yb(7,0,null,null,1,"app-icon",[["icon","times"],["size","lg"],["title","Close"]],null,null,null,fe,me)),l.xb(8,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0),e(t,8,0,"times","lg")}),(function(e,t){e(t,4,0,t.component.message)}))}function Kx(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,Tx)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,!0===t.component.show)}),null)}var zx,Ux=function(){function e(e,t){this.el=e,this.renderer=t}return e.prototype.ngOnInit=function(){Px()||this.renderer.setStyle(this.el.nativeElement,"display","none")},e}(),Ex=function(){function e(e,t,n){this.templateRef=e,this.viewContainer=t,this.router=n,this._appFlagApplicationMode="include"}return Object.defineProperty(e.prototype,"appFlagApplication",{get:function(){return this._appFlagApplication},set:function(e){this._appFlagApplication=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appFlagApplicationMode",{get:function(){return this._appFlagApplicationMode},set:function(e){this._appFlagApplicationMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appFlagApplicationPage",{get:function(){return this._appFlagApplicationPage},set:function(e){this._appFlagApplicationPage=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appFlagApplicationPlatform",{get:function(){return this._appFlagApplicationPlatform},set:function(e){this._appFlagApplicationPlatform=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.update()},e.prototype.update=function(){var e,t=!1,n=!1,l=!1;if(""===this.appFlagApplication?t=!0:Array.isArray(this.appFlagApplication)?t=this.appFlagApplication.some((function(e){return e===u.application})):"string"==typeof this.appFlagApplication&&(t=this.appFlagApplication===u.application),null==this.appFlagApplicationPage)n=!0;else{var i=this.router.url;Array.isArray(this.appFlagApplicationPage)?n=this.appFlagApplicationPage.some((function(e){return i.indexOf(e)>=0})):"string"==typeof this.appFlagApplicationPage&&(n=i.indexOf(this.appFlagApplicationPage)>=0)}if(null==this.appFlagApplicationPlatform)l=!0;else{var o=u.platform;Array.isArray(this.appFlagApplicationPlatform)?l=this.appFlagApplicationPlatform.some((function(e){return o.indexOf(e)>=0})):"string"==typeof this.appFlagApplicationPlatform&&(l=o.indexOf(this.appFlagApplicationPlatform)>=0)}(e=t&&n&&l)&&"include"===this.appFlagApplicationMode||!e&&"exclude"===this.appFlagApplicationMode?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()},e}(),Lx=n("0GsU");(zx||(zx={})).getColorRecipe=function(e,t){var n=e.scene.objects[t];if(n instanceof e.scene.Object){var l=n.getProperties();return{tintColor:Object(Et.get)(l,"tintColor")?l.tintColor:[1,1,1],brightness:l.brightness,saturation:l.saturation,contrast:l.contrast,opacity:l.opacity}}return null};var Ax=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Fx=function(){function e(e,t,n){this.store=e,this.graphService=t,this.engineService=n,this.highlightDisabled=!1}return e.prototype.colorObject=function(e,t){var n=t.tintColor,l=t.saturation,i=t.brightness,o=t.contrast,a=t.opacity,r=Human.scene.objects[e];r instanceof Human.scene.Object&&(Object(Et.isNil)(n)||r.setTintColor(n),Object(Et.isNil)(l)||r.setSaturation(l),Object(Et.isNil)(i)||r.setBrightness(i),Object(Et.isNil)(o)||r.setContrast(o),Object(Et.isNil)(a)||r.setOpacity(a))},e.prototype.getColor=function(e){return zx.getColorRecipe(Human,e)},e.prototype.uncolorObject=function(e){var t=Human.scene.objects[e];t instanceof Human.scene.Object&&(t.clearColorModifiers(),t.clearOpacityModifiers())},e.prototype.unpaint=function(e){var t=this,n=this.store.selectSnapshot(oy.getViewGraph);this.graphService.getLeafDescendants(n,e.id).forEach((function(e){t.engineService.getObjects(e).forEach((function(e){var t=Human.scene.objects[e];t instanceof Human.scene.Object&&(t.clearColorModProperties(),t.clearOpacityModProperties())}))}))},e.prototype.paint=function(e,t){var n=this,l=this.store.selectSnapshot(oy.getViewGraph),i=Pu.toEngine(t);this.graphService.getLeafDescendants(l,e).forEach((function(e){n.engineService.getObjects(e).forEach((function(e){n.colorObject(e,i)}))}))},e.prototype.highlight=function(e,t){var n=this;if(!1===this.highlightDisabled||!1===t){var l=this.store.selectSnapshot(oy.getViewGraph);this.graphService.getLeafDescendants(l,e).forEach((function(e){n.engineService.getObjects(e).forEach((function(e){var n=Human.scene.objects[e];n instanceof Human.scene.Object&&n.setHighlight(t)}))}))}},e.prototype.xRay=function(e,t){Human.scene.objects[e.id].setXRay(t)},e.prototype.paintAll=function(e,t){var n=this;e.forEach((function(e){return n.paint(e,t)}))},e.prototype.unpaintAll=function(e){var t=this;e.forEach((function(e){t.unpaint(e)}))},e.prototype.highlightAll=function(e,t){var n=this;e.forEach((function(e){return n.highlight(e,t)}))},e.prototype.disableHighlight=function(){this.highlightDisabled=!0},e.prototype.enableHighlight=function(){this.highlightDisabled=!1},e.prototype.setHighlightColor=function(e){Human.renderer.highlightColor=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ax(arguments[t]));return e}(e)},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i),l.Yb(Xr),l.Yb(uu))},token:e,providedIn:"root"}),e}(),Dx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Nx=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dx(arguments[t]));return e};function Rx(e){var t=e.actionFn,n=e.aliases,l=e.mapFnIn,i=e.mapFnOut,o=function(e){var n=this,o=l?l(e):e,a=t(o);if(void 0!==a)if(a instanceof J.a)a.subscribe((function(e){var t=i?i(e):e;n.setResult(t)}));else{var r=i?i(a):a;n.setResult(r)}};Nx([e.procName],void 0===n?[]:n).forEach((function(e){return Human.rpc.define(e,o)}))}function Bx(e){var t=e.captureCamera();return{position:t.lookAt.eye,target:t.lookAt.look,up:t.lookAt.up,zoom:t.zoom}}var Hx,Vx,$x=n("P6uZ"),Qx=n("IOcx");function Wx(e,t){return e.dispatch(new Ii(!1)),t.fireEvent(tr.SceneXrayDisabled,void 0),!0}(Hx||(Hx={})).getCanvasPos=function(e,t,n,l,i){n&&Qx.a.add(t,n,t);var o=e.renderer.getViewMat(),a=e.renderer.getProjMat(),r=Qx.b.create();Qx.a.transformMat4(r,t,o),r[3]=1,Qx.b.transformMat4(r,r,a);var u=r[1],c=r[3];return[Math.round((1+r[0]/c)*l/2),Math.round((1-u/c)*i/2)]},function(e){e.isLegacyCaptureFormat=function(e){return void 0!==e.engineVersion},e.convertCaptureFormat=function(e){var t=Object.keys(e.objects).reduce((function(e,t){return e.push({objectId:t,selected:!1,hidden:!1}),e}),[]);return{storyId:e.timeline.rootName.replace(".json",""),camera:{lookAt:e.camera,zoom:void 0},labels:[],objects:t,background:[],activeChapterId:e.timeline.scrub?e.timeline.scrub.chapterId:void 0}}}(Vx||(Vx={}));var Gx=function(){return(Gx=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},qx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Yx=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qx(arguments[t]));return e},Xx=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function Zx(e){if(!e)return null;var t=e.canvasPos,n=e.worldPos;return{objectId:e.objectId||void 0,canvasPosition:t?{x:t[0],y:t[1]}:void 0,mode:"query",position:n?{x:n[0],y:n[1],z:n[2]}:void 0}}function Jx(e,t){var n=Human.scene.objects[t].parent;return null!==n&&(e[n.objectId].checked||Jx(e,n.objectId))}function e_(e,t){var n=t.includes("/")?o.Module:o.Bookmark;e.dispatch(new Ho(t,n))}function t_(e,t){return e.dispatch(new Ii(!0)),t.fireEvent(tr.SceneXrayEnabled,void 0),!0}function n_(e,t,n){Human.rpc.defineEvent(e,{events:t||[e],map:n||function(e){return e}})}var l_,i_=function(){return(i_=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o_=n("I65S"),a_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},r_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a_(arguments[t]));return e},u_=Py.layout,c_=function(){return function(){}}(),s_=function(e,t){return void 0===e?t:e};function p_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!e.some((function(e){return!0===e}))||!e.some((function(e){return!1===e}))&&void 0}function d_(e,t,n){return Object.values(ry).indexOf(n)>=0?n:!1===e?ry.None:null!=t?t?ry.Full:ry.Small:null}!function(e){function t(e){var t;return(t={})[Wy.Loader]=uy.Bar,t[Wy.Column]=e,t[Wy.Drawer]=e,t[Wy.Tools]=e,t[Wy.Toolbar]=e,t[Wy.Fullscreen]=e,t[Wy.Help]=e,t[Wy.Camera]=e,t[Wy.Search]=e,t[Wy.Presenter]=e,t[Wy.Menu]=e,t[Wy.Audio]=e,t[Wy.Pagination]=e,t[Wy.NodeInfo]=e,t[Wy.Reset]=e,t[Wy.LabelList]=e,t[Wy.ChapterList]=e,t[Wy.Media]=e?ry.Full:ry.None,t[Wy.TitleOnly]=e,t.all=e,t.drawerExpandedInitially=null,t.logoIsHyperLink=null,t[Wy.AnatomyLabels]=null,t[Wy.Logo]=!0,t[Wy.Tutorial]=null,t[Wy.InternetExplorerWarning]=!0,t[Wy.Legend]=!0,t}function n(e,t){return null==t?e:Object(Et.uniq)(r_(Object.keys(e),Object.keys(t))).reduce((function(n,l){return n[l]=null!=e[l]?e[l]:t[l],n}),new c_)}e.convertAPIUIConfigToUIConfig=function(e){var l,i=null!=e.all?t(e.all):new c_;return n(((l={all:e.all})[Wy.Loader]=e.loader,l[Wy.Help]=p_(e.help,e.help),l[Wy.Tools]=p_(e.tools,e.tools),l[Wy.Toolbar]=e.toolbar,l[Wy.Fullscreen]=p_(e.fullscreen,e.fullscreen),l[Wy.Search]=p_(e.objectTree,e.search),l[Wy.Audio]=e.audio,l[Wy.Media]=d_(e.playPause,p_(e.scrubber,e["scrubber.chapters"]),e.media),l[Wy.Camera]=p_(e.nav,e.cameraMode,e.center,e.zoomIn,e.zoomOut,e.nav),l[Wy.Pagination]=p_(e.tour,e["tour.chapters"]),l[Wy.Reset]=e.reset,l[Wy.Column]=p_(e.info,e.info),l[Wy.Drawer]=p_(e.info,e.info),l[Wy.TitleOnly]=p_(e.info,e.info),l[Wy.LabelList]=e.labelList,l[Wy.ChapterList]=e.chapterList,l[Wy.NodeInfo]=e.anatomyDescriptions,l[Wy.Legend]=e.legend,l[Wy.Menu]=e.menu,l[Wy.InternetExplorerWarning]=void 0,l[Wy.Logo]=void 0,l[Wy.Presenter]=void 0,l.logoIsHyperLink=void 0,l.drawerExpandedInitially=void 0,l[Wy.Tutorial]=void 0,l[Wy.AnatomyLabels]=p_(e.anatomyLabels,e.anatomyLabels),l),i)},e.convertUrlUIConfigToUIConfig=function(e){var l,i=null!=e["ui-all"]?t(e["ui-all"]):new c_;return n(((l={})[Wy.Loader]=e["ui-loader"],l[Wy.NodeInfo]=e["ui-anatomy-descriptions"],l[Wy.Tools]=e["ui-tools"],l[Wy.Toolbar]=e["ui-toolbar"],l[Wy.Media]=d_(null,p_(e["ui-scrubber"],e["ui-scrubber.chapters"],e["ui-scrubber.tour"]),e["ui-media-controls"]),l[Wy.Reset]=e["ui-reset"],l[Wy.Audio]=e["ui-audio"],l[Wy.Fullscreen]=e["ui-fullscreen"],l[Wy.Help]=e["ui-help"],l[Wy.Camera]=e["ui-nav"],l[Wy.Presenter]=e["ui-presenter"],l[Wy.Menu]=e["ui-menu"],l[Wy.Pagination]=e["ui-tour"],l[Wy.Search]=p_(e["ui-search"],e["ui-object-tree"]),l[Wy.Column]=p_(e["ui-info"],e["ui-panel"]),l[Wy.Drawer]=p_(e["ui-info"],e["ui-panel"]),l[Wy.Description]=p_(e["ui-info"]),l[Wy.TitleOnly]=p_(e["ui-info"]),l[Wy.Logo]=p_(e["ui-bd"],e["ui-logo"]),l.logoIsHyperLink=p_(e["ui-bd.link"],e["ui-logo.islink"]),l[Wy.LabelList]=e["ui-label-list"],l[Wy.ChapterList]=e["ui-chapter-list"],l[Wy.InternetExplorerWarning]=e["ie-warning"],l.all=e["ui-all"],l.drawerExpandedInitially=e["ui-info-expand"],l[Wy.AnatomyLabels]=p_(e["ui-anatomy-labels"]),l[Wy.Tutorial]=p_(e["ui-tutorial"]),l[Wy.Legend]=p_(e["ui-legend"]),l),i)},e.convertChapterToUIConfig=function(e){var t=e.ui;if(!t||!t.config)return null;var n=new c_;return n[Wy.Column]=t.config.info,n[Wy.Drawer]=t.config.info,n[Wy.Fullscreen]=t.config.fullscreen,n[Wy.Search]=t.config.objectTree,n[Wy.Camera]=t.config.nav,n[Wy.Loader]=t.config.loader,n[Wy.Media]=d_(t.config.playPause,t.config.scrubber,t.config.mediaControls),n},e.generateUIAllConfig=t,e.mergeUIConfigs=n,e.createLayoutFromConfig=function(e,t){var n=JSON.parse(JSON.stringify(e));return n.loader.enable=s_(t[Wy.Loader]!==uy.None,u_.loader.enable),null!=t[Wy.Loader]&&(n.loader.template=t[Wy.Loader]),n.nodeInfo.enable=s_(t[Wy.NodeInfo],u_.nodeInfo.enable),n.pagination.enable=s_(t[Wy.Pagination],u_.pagination.enable),n.drawer.isExpandedInitially=s_(t.drawerExpandedInitially,u_.drawer.isExpandedInitially),n.tools.enable=s_(t[Wy.Tools],u_.tools.enable),n.toolbar.enable=s_(t[Wy.Toolbar],u_.toolbar.enable),n.media.enable=s_(t[Wy.Media]!==ry.None,u_.media.enable),n.media.template=t[Wy.Media],n.fullscreen.enable=s_(t[Wy.Fullscreen],u_.fullscreen.enable),n.help.enable=s_(t[Wy.Help],u_.help.enable),n.description.enable=s_(t[Wy.Description],u_.description.enable),n.titleOnly.enable=s_(t[Wy.TitleOnly],u_.titleOnly.enable),n.camera.enable=s_(t[Wy.Camera],u_.camera.enable),n.search.enable=s_(t[Wy.Search],u_.search.enable),n.presenter.enable=s_(t[Wy.Presenter],u_.presenter.enable),n.menu.enable=s_(t[Wy.Menu],u_.menu.enable),n.logo.enable=s_(t[Wy.Logo],u_.logo.enable),n.logo.isHyperLink=s_(t.logoIsHyperLink,u_.logo.isHyperLink),n.internetExplorerWarning.enable=s_(t.internetExplorerWarning,u_.internetExplorerWarning.enable),n.labelList.enable=s_(t[Wy.LabelList],u_.labelList.enable),n.chapterList.enable=s_(t[Wy.ChapterList],u_.chapterList.enable),n.audio.enable=s_(t[Wy.Audio],u_.audio.enable),n.reset.enable=s_(t[Wy.Reset],u_.reset.enable),n.column.enable=s_(t[Wy.Column],u_.column.enable),n.drawer.enable=s_(t[Wy.Drawer],u_.drawer.enable),n.anatomyLabels.enable=s_(t[Wy.AnatomyLabels],u_.anatomyLabels.enable),n.tutorial.enable=s_(t[Wy.Tutorial],u_.tutorial.enable),n},e.getScrollSetting=function(e){return e["disable-scroll"]?lr.DoNotCapture:e["disable-scroll.alert"]||e["disable-scroll.overlay"]?lr.DoNotCaptureShowMessage:lr.Capture},e.getUsePrintImage=function(e){return!0===e["ui-print-image"]},e.getInteractType=function(e,t,n){var l=e["initial.play"]||e.initial||e["initial.button"]||e["initial.hand"]||e["initial.hand-hint"]||t;return{interactType:function(){switch(!0){case e.initial:case e["initial.button"]:return nr.Button;case e["initial.hand"]:case e["initial.hand-hint"]:return nr.Hand;case e["initial.play"]:return nr.Play;default:return n}}(),isInteractActive:l}}}(l_||(l_={}));var b_=function(){return(b_=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},g_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},h_=function(){return(h_=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},m_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},f_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m_(arguments[t]));return e};function y_(e){return e.selectSnapshot(Bc.getChapterLabels)}function x_(e,t){return function(e,t){return e.find((function(e){return t===e.id}))}(y_(e),t)}function __(e,t){var n=function(e,t){return e.scene.markers.markers[t]}(e,t.id);return{annotationId:t.id,objectId:t.objectId||null,title:t.title,description:t.description,shown:t.shown,occludable:t.occludable,position:n?{x:n.pos[0],y:n.pos[1],z:n.pos[2]}:null,canvasPosition:n?{x:n.canvasPos[0],y:n.canvasPos[1]}:null}}function v_(e,t){var n=x_(e,t.annotationId);return n?h_({},n,t):null}function O_(e,t){return t&&e.dispatch(new zo(t)),!0}function w_(e,t){return e.dispatch(new No(t)),!0}function C_(e,t){return e.reduce((function(e,n){var l;return h_({},e,((l={})[""+n]=t,l))}),{})}function j_(e,t){return function(e,n){return Object.entries(e).filter((function(e){return m_(e,2)[1]===t})).reduce((function(e,t){var n,l=m_(t,2);return h_({},e,((n={})[""+l[0]]=l[1],n))}),{})}(e)}function k_(e,t){return Object.keys(j_(e,t))}function S_(e,t,n){return function(e,t){return e.filter((function(e){return t.includes(e.id)}))}(e,k_(t,n))}function P_(e,t,n){var l=k_(t,n).map((function(t){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var l,i=t.map((function(t){return e.filter((function(e){return t===e.objectId}))})),o=[].concat.apply([],f_(i));return l=new Set(o),Array.from(l.values())}(e,t)})).map((function(e){return e.map((function(e){return e.id}))}));return C_([].concat.apply([],f_(l)),n)}var M_=function(){return(M_=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},I_={};function T_(e,t){t.hasOwnProperty("data")&&(t[e]=t.data)}var K_={hotspotSeedId:0,hotspotIdMap:new Map,getHotspotMap:function(e){var t=K_.hotspotIdMap,n=K_.createHotspotId;return e.selectSnapshot(Bc.getLabels).forEach((function(e){var l=e.id;void 0===t.get(l)&&n(l)})),t},createHotspotId:function(e){return K_.hotspotSeedId++,K_.hotspotIdMap.set(e,K_.hotspotSeedId),K_.hotspotSeedId},getHotspotIdByLabel:function(e,t,n){var l=K_.createHotspotId,i=(0,K_.getHotspotMap)(e).get(t);return n&&void 0===i?l(t):i},getLabelIdByHotspotId:function(e,t){var n=K_.getHotspotMap(e),l=Array.from(n).find((function(e){return function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2)[1]===t}));return l?l[0]:null}};function z_(e,t){var n=e.selectSnapshot(Bc.getLabels);return void 0!==t?n.filter((function(e){return e.chapterId===t})):n}function U_(e,t){var n=z_(e),l=K_.getLabelIdByHotspotId(e,t);return n.find((function(e){return e.id===l}))}function E_(e){return e===Nr.CirclePlus?Ir.Plus:e===Nr.CircleMinus?Ir.Minus:Ir.Default}function L_(e,t){return K_.getHotspotIdByLabel(e,t)}function A_(e,t){return M_({},t,{id:L_(e,t.id)})}function F_(e,t,n){var l=t.selectSnapshot(Ac.getStoryChapters);return n.map((function(n){return function(e,t,n,l){var i,o=l.id,a=l.chapterId,r=l.title,u=l.objectId,c=n.findIndex((function(e){return a===e.id})),s=K_.getHotspotIdByLabel(t,o,!0),p=function(e,t){return e.scene.markers.markers[t]}(e,o);return{id:s,title:r,objectId:u,position:p?D_(p.pos):null,direction:p?D_(p.dir):null,canvasPosition:p?(i=p.canvasPos,{x:i[0],y:i[1]}):null,chapterScope:c,type:l.pinType===Ir.PlusMinus?Nr.CirclePlus:Nr.Circle,shown:l.shown,data:I_[l.id]}}(e,t,l,n)}))}function D_(e){return{x:e[0],y:e[1],z:e[2]}}function N_(e){return[e.x,e.y,e.z]}function R_(e,t,n){return e.dispatch(new Do(t,n)),!0}function B_(e,t){if("number"==typeof t){var n=U_(e,t);return n?[n]:[]}return z_(e)}var H_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},V_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(H_(arguments[t]));return e};var $_=function(){function e(e,t,n,l,i,o,a,r,u,c,s){this.store=e,this.actions=t,this.cameraService=n,this.engineService=l,this.animationService=i,this.imageService=o,this.paintService=a,this.labelsService=r,this.graphService=u,this.viewService=c,this.widgetAnalyticsService=s,this.webGLInfo=SceneJS.WEBGL_INFO}return e.prototype.listen=function(){this.initProcedures(),this.initEvents(),a.Production&&this.logAPIUsage()},e.prototype.logAPIUsage=function(){var e=this;setInterval((function(){var t=Human.rpc.getLog(),n=Object(Et.uniqBy)(t,(function(e){return e.identifier}));if(n.length>0){var l=JSON.stringify(n),i=e.store.selectSnapshot(X.getWidgetState),o=e.widgetAnalyticsService.buildDeveloperAnalytic(i,W.Call,N.WidgetAPI,l);e.widgetAnalyticsService.sendAnalytic(o).subscribe({next:function(e){},error:function(e){throw new Error(e)}}),Human.rpc.resetLog()}}),1e4)},e.prototype.initEvents=function(){var e,t,n;n_(tr.HumanProgress,void 0,(function(e){return e})),[{eventName:tr.HumanReady,aliasEvents:[tr.HumanStarted]},{eventName:tr.Error,aliasEvents:[tr.HumanError],mapFn:function(e){return e}}].forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)})),[{eventName:tr.SceneLoaded,mapFn:function(e){return e}},{eventName:tr.ScenePicked,aliasEvents:[tr.PickPicked],mapFn:Zx},{eventName:tr.SceneObjectsSelected,mapFn:function(e){return e.selectedObjectsUpdate}},{eventName:tr.SceneObjectsShown,mapFn:function(e){return e.enabledObjectsUpdate}},{eventName:tr.Debug_SceneReady,aliasEvents:[tr.Started]},{eventName:tr.SceneRestored,mapFn:function(){return!0}},{eventName:tr.SceneXrayEnabled,mapFn:function(){return!0}},{eventName:tr.SceneXrayDisabled,mapFn:function(){return!0}}].forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)})),(e=this.cameraService,[{eventName:tr.CameraUpdated,aliasEvents:[tr.CameraRested],mapFn:function(){return Bx(e)}}]).forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)})),[{eventName:tr.TimelinePlaying,mapFn:function(e){return e}},{eventName:tr.TimelineCompleted,mapFn:function(e){return!0}},{eventName:tr.TimelineChapterTransition,aliasEvents:[tr.TimelineChaptersActivated],mapFn:function(e){return{previousChapter:e.oldChapterIndex,currentChapter:e.newChapterIndex,time:e.time}}}].forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)})),[].forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)})),[].forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)})),(t=Human,n=this.store,V_(function(e,t){return[{eventName:tr.AnnotationsCreated,aliasEvents:[tr.LabelCreated],mapFn:function(t){return __(e,t)}},{eventName:tr.AnnotationsDestroyed,aliasEvents:[tr.LabelDestroyed],mapFn:function(e){return{annotationId:e.id}}},{eventName:tr.AnnotationsShown,aliasEvents:[tr.LabelsShown],mapFn:function(){return!0}},{eventName:tr.AnnotationsHidden,aliasEvents:[tr.LabelsHidden],mapFn:function(){return!0}}]}(t),function(e,t){return[{eventName:tr.HotspotsEntered,mapFn:function(e){return A_(t,e)}},{eventName:tr.HotspotsLeft,mapFn:function(e){return A_(t,e)}},{eventName:tr.HotspotsPicked,mapFn:function(e){return A_(t,e)}},{eventName:tr.HotspotsDisplayUpdated,mapFn:function(e){return A_(t,e)}},{eventName:tr.HotspotsPositionUpdated,mapFn:function(e){return function(e,t){var n=t.canvasPos,l=n.x,i=n.y;return{id:L_(e,t.id),canvasPosition:{x:l,y:i,0:l,1:i},occluded:t.occluded}}(t,e)}}]}(0,n))).forEach((function(e){n_(e.eventName,e.aliasEvents,e.mapFn)}))},e.prototype.initProcedures=function(){var e,t,n,l;(e=Human,t=this.webGLInfo,[{procName:er.HumanInfo,actionFn:function(){return{version:e.VERSION,webglInfo:t,apiFunctions:e.rpc.getProcedures().sort(),apiEvents:e.rpc.getEvents().sort()}}}]).forEach((function(e){Rx(e)})),function(e,t,n,l,i,o,a){return[{procName:er.SceneMetaData,actionFn:function(){var t=e.selectSnapshot(qs.getStory),n=e.selectSnapshot(Ac.getStoryChapters);return{title:t.displayName,description:t.description,chapters:n.map((function(e){return{id:e.id,title:e.info.displayName,description:e.info.description,isAnimated:o.isChapterAnimated(e),loops:o.isChapterLooped(e),duration:o.getChapterLocalTimerange(e.id)}}))}}},{procName:er.focusObject,actionFn:function(n){return function(e,t,n){e.select&&e.xray?t_(t,n):Wx(t,n),e.select&&t.dispatch(new eu.UpdateNodesChecked(!0,[e.objectId])),t.dispatch(new Ui(e.objectId,!0,1))}(n,e,t),!0}},{procName:er.dissectSetEnabled,actionFn:function(t){return e.dispatch(new Bi(t.enable?ty.Hide:ty.Select)),!0}},{procName:er.sceneSetClickMode,actionFn:function(t){return e.dispatch(new Bi("select"===t?ty.Select:"hide"===t?ty.Hide:"fade"===t?ty.Fade:ty.Select)),!0}},{procName:er.sceneGetClickMode,actionFn:function(){return e.selectSnapshot(oy.getActiveTool)}},{procName:er.pickSingleSetEnabled,actionFn:function(t){var n=function(){switch(t.enable){case void 0:return!e.selectSnapshot(My.getMultiPickModeEnabled);case!0:return!1;case!1:return!0}}();return e.dispatch(new y.SetMultiPickModeEnabled(n)),!0}},{procName:er.pickMultiSetEnabled,actionFn:function(t){var n=function(){switch(t.enable){case void 0:return!e.selectSnapshot(My.getMultiPickModeEnabled);default:return t.enable}}();return e.dispatch(new y.SetMultiPickModeEnabled(n)),!0}},{procName:er.getCanvasPos,actionFn:function(e){var n=t.getCanvas();return Hx.getCanvasPos(Human,e.worldPos,e.offset,n.width,n.height)}},{procName:er.SceneCapture,actionFn:function(){return function(e,t){var n=t.captureCamera(),l=e.selectSnapshot(_u.getNodes),i=Object.keys(l).map((function(e){return{objectId:e,selected:l[e].checked||Jx(l,e),hidden:!l[e].shown}})),o=e.selectSnapshot(Ac.getStoryChapters).map((function(e){return{chapterId:e.id,background:e.background||kc}})),a=e.selectSnapshot(qs.getStoryId);return{camera:n,labels:e.selectSnapshot(Bc.getLabels),storyId:a,objects:i,background:o,activeChapterId:e.selectSnapshot(Ac.getSelectedChapterId)}}(e,l)}},{procName:er.SceneRestore,actionFn:function(n){var l=Vx.isLegacyCaptureFormat(n);return function(e,t,n,l){return new J.a((function(i){n.getEvent(tr.HumanStarted).pipe(Object($x.a)()).subscribe((function(){(function(e,t,n){return void 0===n&&(n=!1),new Promise((function(l){t.selectSnapshot(oy.getViewGraph);var i=e.objects.filter((function(e){return!0===e.selected})).map((function(e){return e.objectId})),o=n?Human.scene.getLeaves().filter((function(t){return void 0===e.objects.find((function(e){return e.objectId===t}))})):e.objects.filter((function(e){return!0===e.hidden})).map((function(e){return e.objectId})),a=e.background.map((function(e){return new Sa(e.chapterId,e.background)})),r=e.activeChapterId?[new ga(e.activeChapterId)]:[],u=void 0!==e.camera.zoom?[new Rf(e.camera.zoom)]:[];setTimeout((function(){t.dispatch(Yx([new Lf(e.camera.lookAt,!1),new ko(e.labels),new eu.UpdateNodesShown(!1,o),new eu.UpdateNodesChecked(!0,i)],u,r,a)),l()}))}))})(e,t,l).then((function(){n.fireEvent(tr.SceneRestored,void 0),i.next(!0),i.complete()}))})),e_(t,e.storyId)}))}(l?Vx.convertCaptureFormat(n):n,e,t,l)}},{procName:er.SceneEnableXrayMode,actionFn:function(){return t_(e,t)}},{procName:er.SceneDisableXrayMode,actionFn:function(){return Wx(e,t)}},{procName:er.SceneLoad,actionFn:function(t){return e_(e,t),!0}},{procName:er.SceneReset,actionFn:function(){return a.resetChapter(),!0}},{procName:er.SceneInfo,actionFn:function(t){var n=t&&t.objectId?[t.objectId]:Object.keys(Human.scene.objects);return function(e,t,n){var l=n.selectSnapshot(_u.getNodes);return{name:e,objects:t.reduce((function(e,t){return e[t]=function(e){var t=Human.scene.objects[e],n=t.isLeaf()?l[e].checked||Jx(l,e):void 0;return{objectId:t.objectId,name:t.displayName,description:t.description||"",shown:t.shown,selected:n,children:t.objects.map((function(e){return e.objectId})),parent:t.parent?t.parent.objectId:null}}(t),e}),{})}}(e.selectSnapshot(qs.getStory).displayName,n,e)}},{procName:er.ScenePick,actionFn:function(e){return Zx(t.pickScene({x:e.x,y:e.y,rayPick:!0}))}},{procName:er.SceneSelectObjects,actionFn:function(t){var n=!0===t.replace,l=t;return delete l.replace,n&&e.dispatch(new eu.UpdateNodesChecked(!1)),e.dispatch(new eu.UpdateNodesChecked(!1,[],l)),!0}},{procName:er.SceneShowObjects,actionFn:function(t){delete t.replace;var n=function(e,l){var i,o,a,r=Human.scene.objects[e].objects,u=((i={})[e]=l,i);try{for(var c=Xx(r),s=c.next();!s.done;s=c.next()){var p=s.value;void 0!==t[p.objectId]||(u[p.objectId]=l,u=Gx({},u,n(p.objectId,l)))}}catch(d){o={error:d}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return u},l=Object.entries(t).reduce((function(e,t){var l=qx(t,2);return Gx({},e,n(l[0],l[1]))}),{});return e.dispatch(new eu.UpdateNodesShown(!1,[],l)),!0}},{procName:er.IsolateObject,actionFn:function(t){var n="string"==typeof t?[t]:t,l=e.selectSnapshot(oy.getViewGraph),o=i.getInverseSelection(l,n),a=i.getNodes(l,o);return e.dispatch(new eu.UpdateNodesShown(!1,a.map((function(e){return e.id})))),!0}},{procName:er.SceneTransformObject,actionFn:function(e){return t.transformObject(e.objectId,e),!0}},{procName:er.SceneColorObject,actionFn:function(t){var n=t.objectId;return e.dispatch(new eu.UpdateNodesPaint(Pu.fromEngine({tintColor:t.tintColor,saturation:t.saturation,contrast:t.contrast,brightness:t.brightness,opacity:t.opacity}),[n])),!0}},{procName:er.SceneGetColor,actionFn:function(t){var n=e.selectSnapshot(_u.getNodePaint)(t.objectId);return Pu.toEngine(n)}},{procName:er.SceneUncolorObject,actionFn:function(t){return e.dispatch(new eu.UpdateNodesPaint(Rs.recipe,[t.objectId])),!0}},{procName:er.SceneDisableHighlight,actionFn:function(){return n.disableHighlight(),!0}},{procName:er.SceneEnableHighlight,actionFn:function(){return n.enableHighlight(),!0}},{procName:er.SceneSetHighlightColor,actionFn:function(e){return n.setHighlightColor(e),!0}}]}(this.store,this.engineService,this.paintService,this.cameraService,this.graphService,this.animationService,this.viewService).forEach((function(e){Rx(e)})),(n=this.store,l=this.cameraService,[{procName:er.CameraInfo,actionFn:function(){return Bx(l)}},{procName:er.CameraOrbit,actionFn:function(e){return n.dispatch(new Wf(void 0===e.pitch?0:e.pitch,void 0===e.yaw?0:e.yaw)),!0}},{procName:er.CameraPan,actionFn:function(e){return n.dispatch(new Vf(void 0===e.x?0:e.x,void 0===e.y?0:e.y,void 0===e.z?0:e.z)),!0}},{procName:er.CameraReset,actionFn:function(){return n.dispatch(new Df)}},{procName:er.CameraSet,actionFn:function(e){var t=e.animate||!1;if(e.objectId)return n.dispatch(new Ui(e.objectId,t,e.animationDuration)),!0;var i=Bx(l);return n.dispatch(new Lf({eye:e.position||i.position,look:e.target||i.target,up:e.up||i.up},t)),!0}},{procName:er.CameraZoom,actionFn:function(e){return n.dispatch(new Rf(e||0)),!0}},{procName:er.setCameraMode,actionFn:function(e){return n.dispatch(new Gf("pan"===e?"pan":"rotate")),!0}}]).forEach((function(e){Rx(e)})),function(e,t,n,l){return[{procName:er.TimelineQuery,actionFn:function(){return{chapters:e.selectSnapshot(Ac.getStoryChapters).map((function(e){var t=e.info;return{description:t.description,displayName:t.displayName,annotations:e.labels.map((function(e){return{title:e.title,description:e.description}}))}}))}}},{procName:er.TimelineInfo,actionFn:function(){return function(e,t){var n=t.getTimeFrame();return{time:t.getTime(),startTime:n.firstTime,endTime:n.lastTime,chapters:e.selectSnapshot(Ac.getStoryChapters).map((function(e){return e.id})),playing:t.isPlaying()}}(e,n)}},{procName:er.TimelinePlay,actionFn:function(l){var i=l.loop||!1;if(void 0===l.time&&void 0===l.chapterId){var o=e.selectSnapshot(Ac.getSelectedChapterId);return n.play({numChapters:1,loop:i,queue:!1,startChapterId:o}),!0}var a=Math.max(0,l.time),r=n.getTimeFrame().lastTime,u=Math.min(a,r-.001);return new J.a((function(o){t.pipe(Object(O.k)(ga),Object(ud.a)(1)).subscribe((function(){n.play(i_({},{numChapters:1,queue:!1,loop:i},void 0!==l.time?{startTime:u}:{startChapterId:l.chapterId})),o.next(!0),o.complete()}));var a=l.chapterId?l.chapterId:n.mapGlobalTimeToLocal(u,{tie:"later"}).branch.id;e.dispatch(new ga(a))}))}},{procName:er.TimelinePause,actionFn:function(){return n.pause(),!0}},{procName:er.TimelineSet,actionFn:function(l){if(void 0===l.time&&void 0===l.chapterId)return!0;if(void 0!==l.chapterId)return e.dispatch(new ga(l.chapterId)),!0;var i=Math.max(0,l.time),o=n.getTimeFrame().lastTime,a=Math.min(i,o);return new J.a((function(l){t.pipe(Object(O.k)(ga),Object(ud.a)(1)).subscribe((function(){n.scrub({time:a,which:0===a?"second":"first"}),l.next(!0),l.complete()}));var i=n.mapGlobalTimeToLocal(a,0===a?{tie:"later"}:{});e.dispatch(new ga(i.branch.id))}))}},{procName:er.TimelineNext,actionFn:function(){return l.nextChapter(),!0}},{procName:er.TimelinePrev,actionFn:function(){return l.previousChapter(),!0}}]}(this.store,this.actions,this.animationService,this.viewService).forEach((function(e){Rx(e)})),function(e){return[{procName:er.InputEnable,actionFn:function(){return e.dispatch(new K(!0)),!0}},{procName:er.InputDisable,actionFn:function(){return e.dispatch(new K(!1)),!0}}]}(this.store).forEach((function(e){Rx(e)})),function(e,t,n,l,i){return[{procName:er.UIGetBackground,actionFn:function(){var e,n;return{colors:[[(n=(e=t.selectSnapshot(Ac.getSelectedChapterBackground)).colors)[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]]],gradientType:e.gradientType,colorStops:e.colorStops}}},{procName:er.UISetBackground,mapFnIn:function(e){var t,n=e.colors,l=e.colorStops,i=e.gradientType;return{colors:n?(t=n,tt.getColors(t).map((function(e){return e[255]}))):n,gradientType:i,colorStops:l}},actionFn:function(e){if(e){var n=t.selectSnapshot(Ac.getSelectedChapterBackground),l=n.colors,i=n.colorStops,o=n.gradientType,a=e.colors?[].concat.apply([],function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g_(arguments[t]));return e}(e.colors)):l,r=new Ja(a,e.gradientType||o,e.colorStops||i);t.dispatch(new Ia(r))}}},{procName:er.UIGetWordPosition,actionFn:function(t){var n=e.renderer.pick.pick(t.x,t.y,{rayPick:!0}).worldPos;return n?{x:n[0],y:n[1],z:n[2]}:null}},{procName:er.UISetLoadingExperience,actionFn:function(e){return Object(Et.isEmpty)(e)?t.dispatch(new y.CloseWindow(Oy.Interact)):t.dispatch([new y.SetInteractType(e),new y.OpenWindow(Oy.Interact)]),!0}},{procName:er.UISetScrollCaptureMode,actionFn:function(e){return t.dispatch(new wi(e)),!0}},{procName:er.UISetTutorial,actionFn:function(e){return t.dispatch([new y.ToggleWindow(Oy.Tutorial,e.enabled),new y.StartTutorial(e.enabled)]),!0}},{procName:er.UIGetDisplay,actionFn:function(){var e=t.selectSnapshot(My.getLayout);return{audio:e.audio.enable,fullscreen:e.fullscreen.enable,help:e.help.enable,nav:e.camera.enable,cameraMode:e.camera.enable,center:e.camera.enable,zoomIn:e.camera.enable,zoomOut:e.camera.enable,info:e.column.enable||e.drawer.enable,playPause:e.media.enable,scrubber:e.media.enable,"scrubber.chapters":e.media.enable,tools:e.tools.enable,"tools-display":e.tools.enable,tour:e.pagination.enable,"tour.chapters":e.pagination.enable,objectTree:e.search.enable,anatomyLabels:e.anatomyLabels.enable,share:!1,dissect:!1,xray:!1,annotations:!1}}},{procName:er.UISetDisplay,actionFn:function(e){var n=l_.convertAPIUIConfigToUIConfig(e);t.dispatch(new z(n))}},{procName:er.UIResetDisplay,actionFn:function(){var e=t.selectSnapshot(My.getInitialLayout);t.dispatch(new y.SetLayout(e))}},{procName:er.UISnapshot,aliases:[er.SceneSnapshot],mapFnIn:function(e){var t=l.getCanvas();return b_({width:t.width,height:t.height,openInTab:!1,fileType:"jpeg",quality:.92},e)},actionFn:function(e){var l=e.width,o=e.height,a=e.openInTab,r=e.fileType,u=t.selectSnapshot(Ac.getSelectedChapterId);return t.dispatch(new La(u,"jpeg"===r?Kt.JPEG:Kt.PNG,.92,{width:l,height:o},!0,!0)).pipe(Object(wt.a)((function(){return n.pipe(Object(O.l)(Aa),Object(ud.a)(1))})),Object(wt.a)((function(e){return i.blobToBase64(e.blob)})),Object(ol.a)((function(e){a&&e&&function(e){var t=window.open("","_blank");if(t){var n=t.document.createElement("iframe");n.src=e,t.document.body.style.margin="0",n.style.border="none",n.style.height="100%",n.style.width="100%",t.document.body.appendChild(n)}}(e)})),Object(E.a)((function(){return Object(o_.of)(null)})))}}]}(Human,this.store,this.actions,this.engineService,this.imageService).forEach((function(e){Rx(e)})),function(e,t,n){return V_(function(e,t,n){return[{procName:er.AnnotationsInfo,actionFn:function(){return y_(t)},mapFnOut:function(t){return function(e,t){return t.reduce((function(t,n){return t[n.id]=__(e,n),t}),{})}(e,t)}},{procName:er.AnnotationsCreate,mapFnIn:function(l){return function(e,t,n,l){var i=t.selectSnapshot(Ac.getSelectedChapter),o={annotationId:l.annotationId,title:l.title,description:l.description,objectId:e.scene.objects[l.objectId]?l.objectId:void 0,pos:l.position,occludable:l.occludable,labelOffset:l.labelOffset,shown:l.shown,labelShown:l.shown};return o.objectId&&void 0===o.pos&&(o.pos=e.scene.objects[o.objectId].center),n.deserializeAnnotation(o,i,Tr.Annotation)}(e,t,n,l)},actionFn:function(e){return function(e,t){return t.objectId||t.pos?(e.dispatch(new So(t)),t):null}(t,e)},mapFnOut:function(t){return t?__(e,t):null}},{procName:er.AnnotationsUpdate,mapFnIn:function(e){return v_(t,e)},actionFn:function(e){return O_(t,e)}},{procName:er.AnnotationsSetTitle,mapFnIn:function(e){return v_(t,e)},actionFn:function(e){return O_(t,e)}},{procName:er.AnnotationsSetDescription,mapFnIn:function(e){return v_(t,e)},actionFn:function(e){return O_(t,e)}},{procName:er.AnnotationsDestroy,mapFnIn:function(e){return x_(t,e)},actionFn:function(e){return function(e,t){return t&&e.dispatch(new Io(t)),!0}(t,e)}},{procName:er.ShowAnnotations,aliases:[er.SetAnnotationsShown],actionFn:function(){return w_(t,!0)}},{procName:er.HideAnnotations,actionFn:function(){return w_(t,!1)}},{procName:er.AnnotationsSetLabelsShown,mapFnIn:function(e){return function(e,t){var n=t.replace,l=t.annotations||{},i=t.objects||{},o=y_(e),a=h_({},j_(l,!0),j_(l,!1),P_(o,i,!0),P_(o,i,!1));return n?h_({},C_(o.map((function(e){return e.id})),!1),a):a}(t,e)},actionFn:function(e){return function(e,t){var n=y_(e),l=S_(n,t,!1),i=S_(n,t,!0);e.dispatch(new Do(i,!0)),e.dispatch(new Do(l,!1))}(t,e)}}]}(e,t,n),function(e,t,n){return[{procName:er.HotspotsInfo,actionFn:function(n){var l="number"==typeof n?n:void 0;if(void 0!==l){var i=U_(t,l);return F_(e,t,[i])[0]}var o=B_(t,l);return F_(e,t,o)}},{procName:er.HotspotsTypes,mapFnIn:function(){return Object.values(Nr).map((function(e){return""+e}))},actionFn:function(e){return e}},{procName:er.HotspotsCreate,mapFnIn:function(e){return function(e,t,n){var l=n.title,i=n.objectId,o=n.position,a=n.direction,r=n.chapterScope,u=n.type,c=e.selectSnapshot(Ac.getStoryChapters),s=e.selectSnapshot(Ac.getSelectedChapter),p=e.selectSnapshot(Ac.getSelectedChapterIndex),d="number"==typeof r?r:p,b=c[d]||s,g=!1!==n.shown,h=g&&!!l,m={title:l,type:u||Nr.CircleLabel,objectId:i,pos:o?N_(o):null,dir:a?N_(a):null,shown:g,symbol:"",className:""},f=t.deserializeHotspots({},b,d,m);return f.title=l,f.expandTag=!0,f.flyTo=!1,f.flyToTarget=null,f.occludable=!0,f.pinGlow=!1,f.pinType=Ir.PlusMinus,f.shown=g,f.hideTag=!h,f.hideWire=!0,f.theme=Tr.StudioNext,f.pinType=E_(u),T_(f.id,n),f}(t,n,e)},actionFn:function(e){return function(e,t){return t.objectId||t.pos?(e.dispatch(new So(t)),t):null}(t,e)},mapFnOut:function(e){return e?L_(t,e.id):null}},{procName:er.HotspotsUpdate,mapFnIn:function(e){return function(e,t){var n=U_(e,t.id);return n?function(e,t){var n=e.direction,l=e.position,i=e.type,o=M_({},t,{title:e.title,objectId:e.objectId,shown:e.shown,pos:l?N_(l):null,dir:n?N_(n):null,pinType:i?E_(i):null});return T_(t.id,e),M_({},t,Object(Et.omitBy)(o,Et.isNil))}(t,n):null}(t,e)},actionFn:function(e){return e?function(e,t){return e.dispatch(new zo(t)),t}(t,e):null}},{procName:er.HotspotsDestroy,mapFnIn:function(e){return U_(t,e)},actionFn:function(e){return e?function(e,t){return e.dispatch(new Io(t)),t}(t,e):null}},{procName:er.HotspotsShow,mapFnIn:function(e){return B_(t,e)},actionFn:function(e){return R_(t,e,!0)}},{procName:er.HotspotsHide,mapFnIn:function(e){return B_(t,e)},actionFn:function(e){return R_(t,e,!1)}}]}(e,t,n),[{procName:er.LabelsSetEnabled,aliases:[er.AnnotationsSetEnabled],actionFn:function(e){t.dispatch(new Ri(e.enable))}}])}(Human,this.store,this.labelsService).forEach((function(e){Rx(e)}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(O.i),l.Yb(O.b),l.Yb(vt),l.Yb(uu),l.Yb(Bu),l.Yb(zt),l.Yb(Fx),l.Yb(bu),l.Yb(Xr),l.Yb(Zy),l.Yb(B))},token:e,providedIn:"root"}),e}(),Q_=function(e){return e.Content="content",e.Engine="engine",e.Auth="auth",e}({}),W_=n("yLV6"),G_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},q_=function(){function e(e,t,n,l,o,a,u,c,s,p,d){this.locationStrategy=e,this.router=t,this.store=n,this.actions=l,this.activatedRoute=o,this.widgetAPIHandler=a,this.errorService=u,this.engineService=c,this.cameraService=s,this.storageService=p,this.renderer=d,this.title="Biodigital Human",this.environmentApplication=i,this.environmentPlatform=r,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){this.initErrorHandling(),this.initInteractions();var e=this.activatedRoute.snapshot.data.widgetUrlConfig;this.initWidgetBreakpoints(e),this.initWidgetSetup(e),this.initWidgetAuth(),this.initViewAnalytics(),this.initInteractionAnalytics(),this.initBackgroundFromWidget(e),this.initBackgroundFromChapter(),this.initCamera(e),this.initRotation(e),this.widgetAPIHandler.listen(),this.initChaptersReadyListener(),this.initHumanReadyListener(),this.initDynamicLayout()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initWidgetSetup=function(e){var t=window!==window.top,n=t?BD_DOCUMENT_REFERRER:window.location.href;this.store.dispatch(new C(n,t,e));var l=this.store.selectSnapshot(My.getLayout),i=l_.convertUrlUIConfigToUIConfig(e),o=l_.createLayoutFromConfig(l,i);this.store.dispatch(new y.SetLayout(o)),this.store.dispatch(new y.SetInitialLayout(o));var a=l_.getScrollSetting(e);this.store.dispatch(new wi(a));var r=l_.getUsePrintImage(e),u=l_.getInteractType(e,this.store.selectSnapshot(My.shouldWindowOpen(Oy.Interact)),this.store.selectSnapshot(My.getInteractType)),c=u.interactType,s=u.isInteractActive,p=this.storageService.getLocalItem(al.GettingStartedTutorial),d=!0===i.tutorial&&p!==""+!0;this.store.dispatch([new y.SetInteractType(c),new y.ToggleWindow(Oy.Interact,s),new y.ToggleWindow(Oy.Tutorial,d),new y.StartTutorial(d),new y.SetUsePrintImage(r)])},e.prototype.initWidgetAuth=function(){this.store.selectSnapshot(X.getEmbedded)&&this.store.dispatch(new P)},e.prototype.initViewAnalytics=function(){var e=this,t=["loaded","interactive","complete"].includes(document.readyState);(t?Object(U.a)(t):Object(Kg.a)(document,"DOMContentLoaded")).pipe(Object(ud.a)(1),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new j(W.View))}))},e.prototype.initInteractionAnalytics=function(){var e=this;this.interactionChance$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new j(W.ChanceInteraction))})),this.firstInteraction$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new j(W.FirstInteraction))}))},e.prototype.initErrorHandling=function(){var e=this;this.actions.pipe(Object(O.l)(ta),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleContentErrors()})),this.engineService.getEvent(tr.Error).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleEngineErrors(t)})),this.actions.pipe(Object(O.l)(I),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleAuthErrors(t)}))},e.prototype.initWidgetBreakpoints=function(e){var t=[e["ui-collapse-label"],e["annotation-collapse"]].find((function(e){return!Object(Et.isNil)(e)}));Object(Et.isNil)(t)||this.store.dispatch(new y.SetLabelBreakpoint(t))},e.prototype.initInteractions=function(){var e=this.getCanvasInteraction(),t=this.actions.pipe(Object(O.l)(eu.UpdateNodeSelected,eu.UpdateNodesChecked,eu.UpdateNodesShown,eu.UpdateNodesPickable,eu.UpdateNodesPaint));this.interactionReady$=this.store.select(Ac.getSelectedChapter).pipe(Object(te.a)((function(e){return e&&e.readyState.model})),Object(ud.a)(1));var n=this.engineService.getCanvas();this.interactionChance$=Object(yt.a)(this.interactionReady$,this.getIntersectionObserver(n,.75)).pipe(Object(ud.a)(1)),this.firstInteraction$=Object(md.a)(e,t).pipe(Object(Lx.a)(this.interactionReady$),Object(ud.a)(1))},e.prototype.initBackgroundFromWidget=function(e){var t=this,n=e.background;n&&(this.setWidgetTransparent(Ja.isTransparent(n)),this.actions.pipe(Object(O.k)(ha),Object(ud.a)(1),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){t.store.dispatch(new Pa(n))})))},e.prototype.initBackgroundFromChapter=function(){var e=this;this.store.select(Ac.getSelectedChapter).pipe(Object(te.a)((function(e){return null!=e})),Object(s.a)((function(e){return Ja.isTransparent(e.background)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.setWidgetTransparent(t)}))},e.prototype.initCamera=function(e){var t=this,n=e.camera;n&&this.actions.pipe(Object(O.l)(Xo),Object(ud.a)(1),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){t.store.dispatch(new Lf(n,!1))}))},e.prototype.initRotation=function(e){var t=this,n=e["load-rotate"];if(n){var l=performance.now();Object(Ga.a)(0,qa.animationFrame).pipe(Object(s.a)((function(){return n*(performance.now()-l)*.001})),Object(ol.a)((function(){return l=performance.now()})),Object(ee.a)(this.firstInteraction$),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){t.cameraService.rotateCameraStatic(0,e)})),this.firstInteraction$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){var e=t.store.selectSnapshot(Ac.getSelectedChapter),n=Object(Et.get)(e,"camera.location");n&&t.store.dispatch(new Lf(n,!0,2))}))}},e.prototype.initHumanReadyListener=function(){var e=this;this.actions.pipe(Object(O.l)(u.platform===r.SDK?ra:aa)).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.engineService.fireEvent(tr.Started,null)}))},e.prototype.initChaptersReadyListener=function(){var e=this;this.store.select(Ac.getAllChaptersModelsReady).pipe(Object(te.a)((function(e){return!0===e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new aa),e.engineService.fireEvent(tr.TimelineChaptersActivated,{oldChapterIndex:0,newChapterIndex:0,time:0})}))},e.prototype.initDynamicLayout=function(){var e=this;Object(hd.b)(this.store.select(X.getWidgetApiUIConfig),this.store.select(X.getWidgetUrlConfig),this.store.select(Ac.getSelectedChapter)).pipe(Object(te.a)((function(e){var t=G_(e,3);return null!=t[2]&&null!=t[1]})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=G_(t,3),l=n[0],i=n[2],o=l_.convertUrlUIConfigToUIConfig(n[1]),a=l_.convertChapterToUIConfig(i),r=new c_;r=l_.mergeUIConfigs(r,l),r=l_.mergeUIConfigs(r,o),r=l_.mergeUIConfigs(r,a);var u=e.store.selectSnapshot(My.getLayout),c=l_.createLayoutFromConfig(u,r);e.store.dispatch(new y.SetLayout(c))}))},e.prototype.handleContentErrors=function(){this.store.dispatch(new Go(null,null)),this.redirectToErrorPage(Q_.Content)},e.prototype.handleEngineErrors=function(e){var t={category:e.name,log:JSON.stringify({log:e.log,stack:e.stack,webglInfo:e.webglInfo}),message:e.message};this.errorService.logError(t).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe(),this.redirectToErrorPage(Q_.Engine,e.name)},e.prototype.handleAuthErrors=function(e){this.redirectToErrorPage(Q_.Auth,e.response.errorCode)},e.prototype.redirectToErrorPage=function(e,t){if(!(this.router.url||"").match("/error")){var n=this.locationStrategy.getBaseHref(),l=this.router.createUrlTree([n+"/error"],{queryParams:{errorType:e,errorCode:t,errorUrl:this.router.url}}),i=this.router.serializeUrl(l);window.location.href=i}},e.prototype.getCanvasInteraction=function(){var e,t=this;return new J.a((function(n){var l=t.engineService.getCanvas();(e=new W_.Manager(l)).add([new W_.Tap({event:"singletap"}),new W_.Tap({event:"doubletap",taps:2}),new W_.Pan({event:"pan",direction:W_.DIRECTION_ALL,threshold:0})]);var i=(function(){return n.next()}).bind(t);e.on("panstart",i),e.on("singletap",i)})).pipe(Object(V.a)((function(){e&&(e.destroy(),e=null)})),Object(ee.a)(this.ngUnsubscribe))},e.prototype.getIntersectionObserver=function(e,t){return new J.a((function(n){var l=new IntersectionObserver((function(i){i[0].intersectionRatio>=t&&(n.next(e),n.complete(),l.unobserve(e))}),{root:null,threshold:t});l.observe(e)}))},e.prototype.setWidgetTransparent=function(e){e?this.renderer.setStyle(document.body,"background","none transparent"):this.renderer.removeStyle(document.body,"background")},e}(),Y_=l.wb({encapsulation:0,styles:[[".widget__messages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;left:0;right:0;z-index:101}.widget-shell[_ngcontent-%COMP%]{pointer-events:none;position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;border:var(--widget-shell-border)}"]],data:{}});function X_(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","widget-shell"]],null,null,null,null,null))],null,null)}function Z_(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","widget theme-light"]],null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.xb(2,212992,null,0,d.q,[d.b,l.T,l.k,[8,null],l.i],null,null),(e()(),l.yb(3,0,null,null,3,"div",[["class","widget__messages pt-2 pr-2 pl-2"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,2,"app-ie-warning",[["appShowIE11",""]],null,null,null,Kx,Ix)),l.xb(5,81920,null,0,Ux,[l.l,l.I],null,null),l.xb(6,245760,null,0,Mx,[l.i,ul],null,null),(e()(),l.ob(16777216,null,null,1,null,X_)),l.xb(8,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPlatform:[2,"appFlagApplicationPlatform"]},null)],(function(e,t){var n=t.component;e(t,2,0),e(t,5,0),e(t,6,0),e(t,8,0,n.environmentApplication.All,"exclude",n.environmentPlatform.SDK)}),null)}function J_(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-widget-master",[],null,null,null,Z_,Y_)),l.xb(1,245760,null,0,q_,[ce.i,d.m,O.i,O.b,d.a,$_,Ba,uu,vt,ul,l.I],null,null)],(function(e,t){e(t,1,0)}),null)}var ev=l.ub("app-widget-master",q_,J_,{},{},[]),tv=function(){function e(){}return e.prototype.transform=function(e,t){return Object(Et.lowerCase)(e).split(" ").map((function(e){return Object(Et.upperFirst)(e)})).join(" ")},e}(),nv=function(){function e(){this.iconType="solid",this.iconPlacement="bottom",this.arrow="",this.color="",this.labelSize="medium",this.label=""}return e.prototype.ngOnInit=function(){},e}(),lv=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{white-space:nowrap}.button-icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.button-icon__label[_ngcontent-%COMP%]{color:#d7e0ea}.theme-light[_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{color:#1c2a3f}.theme-dark[_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{color:#d7e0ea}.button-icon__label--light[_ngcontent-%COMP%]{color:#d7e0ea!important}.button-icon__label--dark[_ngcontent-%COMP%]{color:#1c2a3f!important}.button-icon--left[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{padding-right:4px}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--small[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--medium[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--large[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__icon[_ngcontent-%COMP%]{margin-right:8px}.button-icon--bottom[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{margin-top:4px}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--small[_ngcontent-%COMP%]{font-size:6px;letter-spacing:.36px;line-height:1.25em;text-transform:uppercase}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--medium[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--large[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.button-icon__arrow[_ngcontent-%COMP%]{display:inline-block;margin-left:4px}"]],data:{}});function iv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[["class","button-icon__arrow"],["icon","angle-down"],["size","sm"]],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"angle-down","sm")}),null)}function ov(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[["class","button-icon__arrow"],["icon","angle-up"],["size","sm"]],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"angle-up","sm")}),null)}function av(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,14,"div",[["class","button-icon"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.yb(3,0,null,null,6,"div",[["class","button-icon__icon"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,1,"app-icon",[],null,null,null,fe,me)),l.xb(5,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.ob(16777216,null,null,1,null,iv)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,ov)),l.xb(9,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(10,0,null,null,4,"div",[["class","button-icon__label"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(12,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(13,{"button-icon__label--light":0,"button-icon__label--dark":1,"button-icon__label--small":2,"button-icon__label--medium":3,"button-icon__label--large":4}),(e()(),l.Sb(14,null,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,"button-icon","button-icon--"+n.iconPlacement),e(t,5,0,n.icon),e(t,7,0,"down"===n.arrow),e(t,9,0,"up"===n.arrow);var l=e(t,13,0,"light"===n.color,"dark"===n.color,"small"===n.labelSize,"medium"===n.labelSize,"large"===n.labelSize);e(t,12,0,"button-icon__label",l)}),(function(e,t){e(t,14,0,t.component.label)}))}var rv=function(e){return e.View="view",e.Edit="edit",e.Manage="manage",e.Embed="embed",e.Delete="delete",e.CopyLink="copy-link",e.CopyBookmark="copy-bookmark",e.CopyTeamBookmark="copy-team-bookmark",e}({}),uv=function(){function e(e,t,n,a,r,u,c,s,p){this.dialog=e,this.dialogService=t,this.store=n,this.actions=a,this.snackbar=r,this.clipboardService=u,this.bookmarksService=c,this.exploreService=s,this.changeDetectorRef=p,this.bookmarkActionsEnum=rv,this.application=i,this.bookmarkSubject=new Le.a(null),this.bookmarkType=o.Module,this.bookmarkEmbedTypes=[o.Bookmark],this.theme="dark",this.bookmarkActions=[rv.View,rv.Edit,rv.Manage,rv.Embed,rv.Delete,rv.CopyLink],this.otherActions=[],this.otherClick=new l.o,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"bookmark",{get:function(){return this._bookmark},set:function(e){null!=e&&this.bookmarkSubject.next(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.bookmarkSubject.pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e._bookmark=t,e.bookmarkId=t.id,e.bindApplicationEvents(),e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.bindApplicationEvents=function(){var e=this;this.actions.pipe(Object(O.l)(Ul,Nl),Object(te.a)((function(t){return t.bookmarkId===e.bookmark.id})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.handleDeleteSuccess()})),this.actions.pipe(Object(O.l)(El,Rl),Object(te.a)((function(t){return t.bookmarkId===e.bookmark.id})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.handleDeleteFailure()})),this.actions.pipe(Object(O.l)(Yt),Object(te.a)((function(){return!e.store.selectSnapshot(Qa.getPublishing)})),Object(te.a)((function(t){return t.model.id===e.bookmark.id})),Object(wt.a)((function(t){return e.copyToClipboard(t.url)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.snackbar.open(t?"Successfully copied link to clipboard.":"Unable to copy link to clipboard.")})),this.actions.pipe(Object(O.l)(Xt),Object(te.a)((function(t){return t.model.id===e.bookmark.id})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.snackbar.open("Unable to generate URL.")})),this.actions.pipe(Object(O.l)(oi),Object(te.a)((function(t){return t.sourceId===e.bookmark.id})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleCopySuccess(t)})),this.actions.pipe(Object(O.l)(ai),Object(te.a)((function(t){return t.id===e.bookmark.id})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleCopyFailure(t.error)}))},e.prototype.handleDeleteSuccess=function(){this.snackbar.open("Successfully deleted 3D model")},e.prototype.handleDeleteFailure=function(){this.snackbar.open("There was an error deleting the 3D model")},e.prototype.handleManageClick=function(){this.dialogService.openManageDialog(this.bookmark)},e.prototype.handleMenuOpened=function(){var e=this;this.bookmarkSubject.value||(this.bookmarkType===o.Module?this.exploreService.getConditionModel(this.bookmarkId).subscribe((function(t){e.bookmarkSubject.next(t),e.bookmarkSubject.complete()})):this.bookmarksService.getBookmarkModel(this.bookmarkId).subscribe((function(t){e.bookmarkSubject.next(t),e.bookmarkSubject.complete()})))},e.prototype.handleDeleteClick=function(){this.delete()},e.prototype.handleCopySuccess=function(e){var t=e.collection,n=this.bookmark.title;this.snackbar.open(t?n+' was successfully added to the "'+t.collection_name+'" collection.':e.groupAccess?n+" was successfully added to Team Models.":n+" was successfully added to My Models")},e.prototype.handleCopyFailure=function(e){var t=this;switch(Object(Et.get)(e,"error.error.message")){case"Action forbidden.  Your account content limit has been reached":this.dialogService.openLimitDialog().afterClosed().subscribe((function(e){e&&t.dialogService.openUpgradeDialog()}));break;default:this.snackbar.open("There was an error adding to My Models")}},e.prototype.handleEmbedModel=function(){this.dialog.open(Jd,{width:"90vw",height:"95vh",data:{bookmark:this.bookmark}})},e.prototype.handleCopyLinkClick=function(){this.copyLink()},e.prototype.handleCopyBookmarkClick=function(){this.copyBookmark()},e.prototype.handleAddTeamModelClick=function(){this.dialogService.openAddTeamModelDialog(this.bookmark)},e.prototype.handleOtherClick=function(e){this.otherClick.emit(e)},e.prototype.copyToClipboard=function(e){var t=this;return this.clipboardService.copyToClipboard(e).pipe(Object(wt.a)((function(n){return n?Object(U.a)(n):t.dialogService.openClipboardDialog(e).afterClosed()})))},e.prototype.hasActions=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.some((function(t){return e.hasAction(t)}))},e.prototype.hasAction=function(e){var t=this.bookmarkActions.some((function(t){return t===e}));if(!t)return t;switch(e){case rv.Delete:return this.bookmark&&this.bookmark.is_owner||this.bookmark.favorite;case rv.Embed:return this.bookmarkEmbedTypes.includes(this.bookmarkType);case rv.CopyBookmark:return this.bookmark&&!this.bookmark.is_owner&&!this.bookmark.favorite&&!this.bookmark.unavailable;default:return t}},e.prototype.delete=function(){var e=this;this.dialogService.openConfirmDialog({data:{titleText:"Delete 3D model",bodyText:"Are you sure you want to delete this 3D model?",confirmText:"Delete",confirmColor:"warn"}}).afterClosed().pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){t&&e.store.dispatch(e.bookmark.favorite?new Dl(e.bookmark):new zl(e.bookmarkId))}))},e.prototype.copyLink=function(){var e=this.store.selectSnapshot(ip.getWidgetOptions)||new Ot;this.store.dispatch(new qt(this.bookmark,e))},e.prototype.copyBookmark=function(){var e=this.store.selectSnapshot(Va.getUserLocale).lang;this.store.dispatch(new ii(this.bookmarkId,this.bookmarkType,e))},e}(),cv=l.wb({encapsulation:0,styles:[[""]],data:{}});function sv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-spinner",[],null,null,null,vb,xb)),l.xb(2,114688,null,0,yb,[],null,null)],(function(e,t){e(t,2,0)}),null)}function pv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==l.Kb(e,2).onClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(2,16384,null,0,d.n,[d.m,d.a,[8,null],l.I,l.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l.Nb(3,{id:0}),l.Lb(4,1),(e()(),l.Sb(-1,0,[" View "]))],(function(e,t){var n=e(t,3,0,t.component.bookmarkId),l=e(t,4,0,"/view");e(t,2,0,n,l)}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function dv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,["Edit in Studio"]))],null,null)}function bv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,["Edit in Loft"]))],null,null)}function gv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==l.Kb(e,2).onClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(2,16384,null,0,d.n,[d.m,d.a,[8,null],l.I,l.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l.Nb(3,{id:0}),l.Lb(4,1),(e()(),l.ob(16777216,null,0,1,null,dv)),l.xb(6,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"]},null),(e()(),l.ob(16777216,null,0,1,null,bv)),l.xb(8,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.bookmarkId),i=e(t,4,0,"/edit");e(t,2,0,l,i),e(t,6,0,n.application.Studio),e(t,8,0,n.application.Loft)}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function hv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(1,49152,null,0,Zg.a,[],null,null)],null,(function(e,t){e(t,0,0,l.Kb(t,1).vertical?"vertical":"horizontal",l.Kb(t,1).vertical,!l.Kb(t,1).vertical,l.Kb(t,1).inset)}))}function mv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleCopyLinkClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,[" Copy URL "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function fv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleEmbedModel()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,[" Publish... "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function yv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(1,49152,null,0,Zg.a,[],null,null)],null,(function(e,t){e(t,0,0,l.Kb(t,1).vertical?"vertical":"horizontal",l.Kb(t,1).vertical,!l.Kb(t,1).vertical,l.Kb(t,1).inset)}))}function xv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleManageClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,[" Manage... "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function _v(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleDeleteClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,[" Delete... "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function vv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(1,49152,null,0,Zg.a,[],null,null)],null,(function(e,t){e(t,0,0,l.Kb(t,1).vertical?"vertical":"horizontal",l.Kb(t,1).vertical,!l.Kb(t,1).vertical,l.Kb(t,1).inset)}))}function Ov(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleCopyBookmarkClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,[" Add to My Models "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function wv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleAddTeamModelClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,[" Add to Team Models "]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function Cv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,vv)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Ov)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,wv)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.hasActions(n.bookmarkActionsEnum.CopyBookmark)),e(t,4,0,n.hasActions(n.bookmarkActionsEnum.CopyBookmark)),e(t,6,0,n.hasActions(n.bookmarkActionsEnum.CopyTeamBookmark))}),null)}function jv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,18,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,pv)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,gv)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,hv)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,mv)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,fv)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,yv)),l.xb(12,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,xv)),l.xb(14,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,_v)),l.xb(16,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Cv)),l.xb(18,81920,null,0,em,[l.Q,l.T],null,null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.hasActions(n.bookmarkActionsEnum.View)),e(t,4,0,n.hasActions(n.bookmarkActionsEnum.Edit)),e(t,6,0,n.hasActions(n.bookmarkActionsEnum.View,n.bookmarkActionsEnum.Edit)),e(t,8,0,n.hasActions(n.bookmarkActionsEnum.CopyLink)),e(t,10,0,n.hasActions(n.bookmarkActionsEnum.Embed)),e(t,12,0,n.hasActions(n.bookmarkActionsEnum.Manage,n.bookmarkActionsEnum.Delete)),e(t,14,0,n.hasActions(n.bookmarkActionsEnum.Manage)),e(t,16,0,n.hasActions(n.bookmarkActionsEnum.Delete)),e(t,18,0)}),null)}function kv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,16,null,null,null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,4,"button",[["app-button",""],["aria-haspopup","true"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"menuOpened"],[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"mousedown"===t&&(i=!1!==l.Kb(e,2)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,2)._handleClick(n)&&i),"menuOpened"===t&&(i=!1!==o.handleMenuOpened()&&i),i}),et,Je)),l.xb(2,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[8,null],[2,lt.b],ve.e],{menu:[0,"menu"]},{menuOpened:"menuOpened"}),l.xb(3,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.yb(4,0,null,0,1,"app-icon",[["icon","ellipsis-v"]],null,null,null,fe,me)),l.xb(5,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(6,0,null,null,10,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(9,1294336,[["mainMenu",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,1,{_allItems:1}),l.Qb(603979776,2,{items:1}),l.Qb(603979776,3,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,sv)),l.xb(14,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,jv)),l.xb(16,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,l.Kb(t,9)),e(t,3,0,n.theme),e(t,5,0,"ellipsis-v"),e(t,9,0),e(t,14,0,!n.bookmark),e(t,16,0,n.bookmark)}),(function(e,t){e(t,1,0,l.Kb(t,2).menuOpen||null,l.Kb(t,3).disabled)}))}function Sv(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,kv)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.bookmarkId)}),null)}var Pv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Mv=function(){function e(e,t,n,l,o){this.activatedRoute=e,this.store=t,this.changeDetectorRef=n,this.exploreService=l,this.storyService=o,this.ngUnsubscribe=new Z.a,this.id="",this.type="",this.category="",this.isLoft=u.application===i.Loft}return e.prototype.ngOnInit=function(){var e=this;this.story$.pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.id=e.activatedRoute.snapshot.queryParams.id,e.type=e.storyService.getStoryType(e.activatedRoute.snapshot.queryParams.id),e.category=e.exploreService.getStoryCategory(t),e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},Object.defineProperty(e.prototype,"bookmarkActions",{get:function(){var e=this.store.selectSnapshot(ip.getOrganization);return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pv(arguments[t]));return e}([rv.CopyLink,rv.Embed,rv.CopyBookmark],e?[rv.CopyTeamBookmark]:[])},enumerable:!0,configurable:!0}),Object(v.__decorate)([Object(O.e)(qs.getStory),Object(v.__metadata)("design:type",J.a)],e.prototype,"story$",void 0),e}(),Iv=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-internal-header{padding:12px 12px 0;border-bottom:1px solid #eaeff5;border-bottom:var(--view-internal-header-border)}.view-internal-header__controls{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;padding-bottom:8px}.view-internal-header__logo{background:url(logo-color.e5306d37dd40b7ac98d4.svg) center center no-repeat rgba(215,224,234,.3);background-size:24px 24px;border-radius:4px;border:1px solid #eaeff5;border-bottom:var(--view-internal-header-border);width:36px;height:36px;-webkit-transition:background-color 250ms,background-image 250ms;transition:background-color 250ms,background-image 250ms;-webkit-box-flex:0;flex:0 0 36px}.view-internal-header__logo:hover{background-color:rgba(215,224,234,.6)}.view-internal-header__breadcrumb{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;cursor:pointer;display:inline-block;margin:16px 0;color:#6a82a4;color:var(--view-internal-header-breadcrumb-color);text-decoration:none}.view-internal-header__breadcrumb:hover{text-decoration:underline}"]],data:{}});function Tv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"a",[["class","view-internal-header__breadcrumb"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),l.xb(1,671744,null,0,d.o,[d.m,d.a,ce.i],{routerLink:[0,"routerLink"]},null),l.Lb(2,2),(e()(),l.yb(3,0,null,null,1,"app-icon",[["icon","caret-left"]],null,null,null,fe,me)),l.xb(4,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(5,null,[" "," "])),l.Ob(6,1)],(function(e,t){var n=e(t,2,0,"/explore",t.component.category);e(t,1,0,n),e(t,4,0,"caret-left")}),(function(e,t){var n=t.component;e(t,0,0,l.Kb(t,1).target,l.Kb(t,1).href);var i=l.Tb(t,5,0,e(t,6,0,l.Kb(t.parent,0),n.category));e(t,5,0,i)}))}function Kv(e){return l.Ub(2,[l.Mb(0,tv,[]),(e()(),l.yb(1,0,null,null,16,"div",[["class","view-internal-header"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,13,"div",[["class","view-internal-header__controls"]],null,null,null,null,null)),(e()(),l.yb(3,16777216,null,null,2,"a",[["class","view-internal-header__logo"],["matTooltip","Back to Dashboard"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"longpress"===t&&(i=!1!==l.Kb(e,5).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,5)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,5)._handleTouchend()&&i),i}),null,null)),l.xb(4,671744,null,0,d.o,[d.m,d.a,ce.i],{routerLink:[0,"routerLink"]},null),l.xb(5,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),(e()(),l.yb(6,0,null,null,9,"div",[["class","panel__actions hide-sm"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,6,"button",[["app-button",""],["buttonTheme","light"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,8).onClick()&&i),i}),et,Je)),l.xb(8,16384,null,0,d.n,[d.m,d.a,[8,null],l.I,l.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l.Nb(9,{id:0}),l.Lb(10,1),l.xb(11,114688,null,0,Ze,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.yb(12,0,null,0,1,"app-button-icon",[["icon","pen"],["iconPlacement","left"]],null,null,null,av,lv)),l.xb(13,114688,null,0,nv,[],{icon:[0,"icon"],iconPlacement:[1,"iconPlacement"],label:[2,"label"]},null),(e()(),l.yb(14,0,null,null,1,"app-bookmark-actions",[["theme","light"]],null,null,null,Sv,cv)),l.xb(15,245760,null,0,uv,[Dd.e,Rd,O.i,O.b,Bd.c,bp,Js,Gc,l.i],{bookmarkId:[0,"bookmarkId"],bookmarkType:[1,"bookmarkType"],theme:[2,"theme"],bookmarkActions:[3,"bookmarkActions"]},null),(e()(),l.ob(16777216,null,null,1,null,Tv)),l.xb(17,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"/"),e(t,5,0,"Back to Dashboard");var l=e(t,9,0,n.id),i=e(t,10,0,"/edit");e(t,8,0,l,i),e(t,11,0,"light"),e(t,13,0,"pen","left",n.isLoft?"Edit in Loft":"Edit in Studio"),e(t,15,0,n.id,n.type,"light",n.bookmarkActions),e(t,17,0,"module"===n.type&&n.category)}),(function(e,t){e(t,3,0,l.Kb(t,4).target,l.Kb(t,4).href),e(t,7,0,l.Kb(t,11).disabled)}))}var zv=function(){function e(){this.unpadded=!1,this.placement="left"}return e.prototype.ngOnInit=function(){},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.viewColumn.nativeElement.style.setProperty("--vh",e+"px")},e}(),Uv=l.wb({encapsulation:0,styles:[[".view-column[_ngcontent-%COMP%]{pointer-events:initial;background:#fff;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background:var(--view-column-background);box-shadow:var(--view-column-toggle-shadow);color:var(--view-column-color);width:320px;height:100%;position:absolute;z-index:30}.view-column--left[_ngcontent-%COMP%]{left:0}.view-column--right[_ngcontent-%COMP%]{right:0;box-shadow:0 -1px 24px rgba(0,0,0,.4)}.view-column--unpadded[_ngcontent-%COMP%]   .view-column__body[_ngcontent-%COMP%]{padding:0}.view-column__inner[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #eaeff5;background:var(--view-column-background);border-right:var(--view-column-border);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;width:320px;position:absolute;left:0;z-index:10}.view-column__header[_ngcontent-%COMP%]{flex-shrink:1;background:var(--view-column-background)}.view-column__header[_ngcontent-%COMP%]:empty{display:none}.view-column__body[_ngcontent-%COMP%]{overflow-y:auto;-webkit-box-flex:1;flex-grow:1;height:100%;padding:16px 12px}"]],data:{}});function Ev(e){return l.Ub(2,[l.Qb(671088640,1,{viewColumn:0}),(e()(),l.yb(1,0,[[1,0],["viewColumn",1]],null,8,"div",[["class","view-column"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"view-column--unpadded":0,"view-column--left":1,"view-column--right":2}),(e()(),l.yb(5,0,null,null,4,"div",[["class","view-column__inner"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,1,"div",[["class","view-column__header"]],null,null,null,null,null)),l.Jb(null,0),(e()(),l.yb(8,0,null,null,1,"div",[["class","view-column__body"]],null,null,null,null,null)),l.Jb(null,1)],(function(e,t){var n=t.component,l=e(t,4,0,n.unpadded,"left"===n.placement,"right"===n.placement);e(t,3,0,"view-column",l)}),null)}var Lv=function(){function e(){this.label="",this.showHeader=!0,this.padding="normal"}return e.prototype.ngOnInit=function(){},e}(),Av=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-panel{padding:0 0 32px;margin-bottom:16px;border-bottom:var(--view-panel-border)}.view-panel--padding-none{padding:0;margin:0}.view-panel--padding-dense{padding:0 0 8px;margin:0 0 8px}.view-panel__label{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;color:var(--view-panel-color);font-weight:600;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;min-height:28px}.view-panel__header{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:16px}"]],data:{}});function Fv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","view-panel__header"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","view-panel__label"]],null,null,null,null,null)),(e()(),l.Sb(2,null,[" "," "])),l.Jb(null,0)],null,(function(e,t){e(t,2,0,t.component.label)}))}function Dv(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,6,"div",[["class","view-panel"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"view-panel--padding-none":0,"view-panel--padding-dense":1}),(e()(),l.ob(16777216,null,null,1,null,Fv)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Jb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"none"===n.padding,"dense"===n.padding);e(t,2,0,"view-panel",l),e(t,5,0,n.showHeader)}),null)}var Nv,Rv=function(){function e(e,t){this.domSanitizer=e,this.markdownService=t}return Object.defineProperty(e.prototype,"html",{set:function(e){this.safeHTML=this.domSanitizer.bypassSecurityTrustHtml(e||"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markdownText",{set:function(e){this.html=this.markdownService.compile(e,!0)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),Bv=n("LOpI"),Hv=l.wb({encapsulation:2,styles:[[""]],data:{}});function Vv(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,0,"div",[["class","html"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.safeHTML)}))}!function(e){e.normalize=function(e){return(""+(e||"")).replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/(&.+;)/gi,(function(e,t){return String.fromCharCode(e.charCodeAt(0))}))}}(Nv||(Nv={}));var $v=function(){function e(){}return e.prototype.transform=function(e,t){return Nv.normalize(""+(e||""))},e}(),Qv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Wv=function(){function e(e,t){this.layoutService=e,this.changeDetectorRef=t,this._isPopulated=!1,this.isPopulatedChange=new l.o,this.viewLayout=Wy,this.ngUnsubscribe=new Z.a,this.chapterTitle="",this.chapterAudio=null}return Object.defineProperty(e.prototype,"isPopulated",{get:function(){return this._isPopulated},set:function(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initContentListener(),this.initLayoutListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.initContentListener=function(){var e=this;Object(hd.b)(this.chapter$,this.selectedChapterAudio$).pipe(Object(te.a)((function(e){return null!=Qv(e,2)[0]})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Qv(t,2),l=n[1];e.chapterTitle=Nv.normalize(n[0].info.displayName),e.chapterAudio=l,e.isPopulated=!!e.chapterTitle||null!=e.chapterAudio}))},e.prototype.initLayoutListener=function(){var e=this;this.layout$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.changeDetectorRef.markForCheck()}))},e.prototype.handleAudioPlayClick=function(){this.audio.playing?this.audio.pause():this.audio.play()},Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterAudio),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterAudio$",void 0),Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),e}(),Gv=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-title{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;font-weight:600;color:var(--view-title-color);text-align:left}.view-title--center{text-align:center}.view-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em}"]],data:{}});function qv(e){return l.Ub(2,[l.Mb(0,$v,[]),l.Qb(671088640,1,{audio:0}),(e()(),l.yb(2,0,null,null,6,"header",[["class","view-title"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(4,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(5,{"view-title--center":0,"view-title--large":1}),(e()(),l.yb(6,0,null,null,2,"h1",[["id","view-chapter-title"]],null,null,null,null,null)),(e()(),l.Sb(7,null,["",""])),l.Ob(8,1)],(function(e,t){var n=t.component,l=e(t,5,0,"center"===n.alignTitle,"large"===n.size);e(t,4,0,"view-title",l)}),(function(e,t){var n=t.component,i=l.Tb(t,7,0,e(t,8,0,l.Kb(t,0),n.chapterTitle));e(t,7,0,i)}))}var Yv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xv=function(){function e(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.viewLayout=Wy,this.ngUnsubscribe=new Z.a,this.storyTitle="",this.chapterTitle="",this.chapterDescription="",this.chapterAudio=null,this.layout="drawer",this._isPopulated=!1,this.isPopulatedChange=new l.o}return Object.defineProperty(e.prototype,"isPopulated",{get:function(){return this._isPopulated},set:function(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initContentListener(),this.initLayoutListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.initContentListener=function(){var e=this;Object(hd.b)(this.story$,this.chapter$,this.selectedChapterAudio$).pipe(Object(te.a)((function(e){var t=Yv(e,3);return null!=t[0]&&null!=t[1]})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Yv(t,3),l=n[1],o=n[2];e.storyTitle=u.application!==i.Viewer?Nv.normalize(n[0].displayName):"",e.chapterTitle=Nv.normalize(l.info.displayName),e.chapterDescription=Object(Et.trim)(l.info.description),e.chapterAudio=o,e.isPopulated=""!==e.storyTitle||!!e.chapterTitle||!!e.chapterDescription||null!=e.chapterAudio}))},e.prototype.initLayoutListener=function(){var e=this;this.layout$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.changeDetectorRef.markForCheck()}))},e.prototype.handlePreviousChapterClick=function(){this.viewService.previousChapter()},e.prototype.handleNextChapterClick=function(){this.viewService.nextChapter()},e.prototype.handleAudioPlayClick=function(){this.audio.playing?this.audio.pause():this.audio.play()},Object(v.__decorate)([Object(O.e)(qs.getStory),Object(v.__metadata)("design:type",J.a)],e.prototype,"story$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterIndex),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterIndex$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getChapterCount),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterCount$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterAudio),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterAudio$",void 0),Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),e}(),Zv=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-description{color:var(--view-description-primary-color);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:left;justify-content:left}.view-description--layout-column .view-description__chapter-title{font-size:18px;letter-spacing:.45px;line-height:1.4em}.view-description--layout-column .view-description__body{padding-top:12px}.view-description--layout-drawer .view-description__story-title{text-align:center}.view-description--layout-drawer .view-description__story-title--large{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-description--layout-drawer .view-description__body,.view-description--layout-drawer .view-description__header{padding-top:4px}.view-description__inner{-webkit-box-flex:1;flex:1 0 auto}.view-description__story-title{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;word-wrap:break-word;overflow-wrap:break-word;-webkit-box-flex:1;flex-grow:1;font-weight:600;color:var(--view-description-secondary-color)}.view-description__story-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em;text-transform:initial}.view-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;padding-top:8px;color:var(--view-description-secondary-color)}"]],data:{}});function Jv(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-description__story-title"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"view-description__story-title--large":0}),(e()(),l.Sb(4,null,[" "," "]))],(function(e,t){var n=e(t,3,0,!t.component.chapterTitle);e(t,2,0,"view-description__story-title",n)}),(function(e,t){e(t,4,0,t.component.storyTitle)}))}function eO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-description__body"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-view-html",[],null,null,null,Vv,Hv)),l.xb(2,114688,null,0,Rv,[rt.b,Bv.c],{markdownText:[0,"markdownText"]},null)],(function(e,t){e(t,2,0,t.component.chapterDescription)}),null)}function tO(e){return l.Ub(2,[l.Qb(671088640,1,{audio:0}),(e()(),l.yb(1,0,null,null,12,"div",[["class","view-description"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"view-description--layout-column":0,"view-description--layout-drawer":1}),(e()(),l.yb(5,0,null,null,8,"div",[["class","view-description__inner"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,7,"article",[],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,4,"header",[["class","view-description__header"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Jv)),l.xb(9,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(10,0,null,null,1,"app-view-title",[],null,null,null,qv,Gv)),l.xb(11,245760,null,0,Wv,[Gy,l.i],{size:[0,"size"],alignTitle:[1,"alignTitle"]},null),(e()(),l.ob(16777216,null,null,1,null,eO)),l.xb(13,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,"column"===n.layout,"drawer"===n.layout);e(t,3,0,"view-description",l),e(t,9,0,n.storyTitle&&n.storyTitle!=n.chapterTitle),e(t,11,0,"column"===n.layout?"large":"medium","column"===n.layout?"left":"center"),e(t,13,0,n.chapterDescription)}),null)}var nO=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.getComputedColor=function(e){return tt.rgbToHex(e,!0)},e}(),lO=l.wb({encapsulation:2,styles:[[".view-legend{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-legend__item{padding:8px 0;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:start;align-items:flex-start}.view-legend__content{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-legend__color{content:' ';display:block;-webkit-box-flex:0;flex:0 0 16px;width:16px;height:16px;border-radius:50%}.view-legend__color::after{content:' '}"]],data:{}});function iO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","mv-2"]],null,null,null,null,null)),(e()(),l.Sb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.description)}))}function oO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"li",[["class","view-legend__item"],["tabindex","0"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,0,"div",[["class","view-legend__color mh-2"]],[[4,"background-color",null]],null,null,null,null)),(e()(),l.yb(2,0,null,null,4,"div",[["class","view-legend__content text-14"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Sb(4,null,["",""])),(e()(),l.ob(16777216,null,null,1,null,iO)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,6,0,t.context.$implicit.description)}),(function(e,t){e(t,1,0,t.component.getComputedColor(t.context.$implicit.colors)),e(t,4,0,t.context.$implicit.label)}))}function aO(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"ul",[["aria-label","Legend"],["class","view-legend"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,oO)),l.xb(2,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.legend)}),null)}var rO=function(){function e(e){this.viewService=e,this.labelPinType=Ir}return e.prototype.ngOnInit=function(){},e.prototype.handleLabelClick=function(e){this.viewService.selectLabel(e,!0)},Object(v.__decorate)([Object(O.e)(Bc.getChapterLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"labels$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getSelectedLabel),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedLabel$",void 0),e}(),uO=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-labels__item{border-left:4px solid transparent;border-left:var(--view-labels-border);border-radius:2px;display:-webkit-box;display:flex;padding:12px 8px;margin-bottom:4px;cursor:pointer;-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-labels__item:focus{background:#e4ecf9;outline:0}.view-labels__item:hover{background:#f1f5fc;background:var(--view-labels-bg--hover)}.view-labels__item--selected{background:#f1f5fc;border-left:4px solid #2d72dc;background:var(--view-labels-bg--selected);border-left:var(--view-labels-border--selected)}.view-labels__pre{-webkit-box-flex:0;flex:0 0 32px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.view-labels__pin{width:16px;height:16px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.view-labels__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-labels__description{color:#374a68;color:var(--view-labels-description-color);padding-top:4px;font-size:14px;letter-spacing:.35px;line-height:1.4em}"]],data:{}});function cO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["alt",""],["draggable","false"],["src","/assets/images/labels/circle-plus.svg"]],null,null,null,null,null))],null,null)}function sO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["alt",""],["draggable","false"],["src","/assets/images/labels/circle.svg"]],null,null,null,null,null))],null,null)}function pO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","view-labels__description html"]],[[8,"innerHTML",1]],null,null,null,null)),l.Ob(1,1)],null,(function(e,t){var n=l.Tb(t,0,0,e(t,1,0,l.Kb(t.parent.parent,0),t.parent.context.$implicit.description));e(t,0,0,n)}))}function dO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,15,"li",[["class","view-labels__item"],["role","button"],["tabindex","0"]],[[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleLabelClick(e.context.$implicit)&&l),"keyup.enter"===t&&(l=!1!==i.handleLabelClick(e.context.$implicit)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Mb(131072,ce.b,[l.i]),l.Nb(4,{"view-labels__item--selected":0}),(e()(),l.yb(5,0,null,null,6,"div",[["class","view-labels__pre"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,5,"div",[["class","view-labels__pin"]],null,null,null,null,null)),l.xb(7,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,cO)),l.xb(9,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,sO)),l.xb(11,16384,null,0,ce.s,[l.T,l.Q,ce.q],null,null),(e()(),l.yb(12,0,null,null,3,"div",[["class","view-labels__body"]],null,null,null,null,null)),(e()(),l.yb(13,0,null,null,0,"div",[["class","view-labels__title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,pO)),l.xb(15,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n,i=t.component,o=e(t,4,0,(null==(n=l.Tb(t,2,1,l.Kb(t,3).transform(i.selectedLabel$)))?null:n.id)===t.context.$implicit.id);e(t,2,0,"view-labels__item",o),e(t,7,0,t.context.$implicit.pinType===i.labelPinType.PlusMinus),e(t,9,0,!0),e(t,15,0,t.context.$implicit.description)}),(function(e,t){e(t,0,0,t.context.$implicit.title),e(t,13,0,t.context.$implicit.title)}))}function bO(e){return l.Ub(2,[l.Mb(0,Bv.b,[l.l,Bv.c,l.C]),(e()(),l.yb(1,0,null,null,3,"ul",[["aria-label","Labels"],["class","view-labels"],["role","complementary"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,dO)),l.xb(3,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,l.Tb(t,3,0,l.Kb(t,4).transform(n.labels$)))}),null)}var gO=function(){function e(e,t,n,l){this.store=e,this.viewService=t,this.layoutService=n,this.changeDetectorRef=l,this.ngUnsubscribe=new Z.a,this.layout="column",this.viewLayout=Wy}return e.prototype.ngOnInit=function(){var e=this;this.store.select(My.getLayout).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isVisible=function(e){return this.layoutService.isLayoutVisible(e)},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.handlePrevClick=function(){this.selectLabel(-1)},e.prototype.handleNextClick=function(){this.selectLabel(1)},e.prototype.selectLabel=function(e){var t=this.store.selectSnapshot(Bc.getChapterLabels),n=t.length,l=this.store.selectSnapshot(Bc.getSelectedLabelId),i=t.findIndex((function(e){return e.id===l})),o=t[((-1!==i?i+e:0)%n+n)%n];o&&this.viewService.selectLabel(o,!0)},Object(v.__decorate)([Object(O.e)(Ac.getStoryChapters),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapters$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getChapterLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"labels$",void 0),e}(),hO=l.wb({encapsulation:0,styles:[[".view-content-mode[_ngcontent-%COMP%]{padding-bottom:24px}"]],data:{}});function mO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-view-panel",[],[[8,"hidden",0]],null,null,Dv,Av)),l.xb(1,114688,null,0,Lv,[],{showHeader:[0,"showHeader"]},null),(e()(),l.yb(2,0,null,1,1,"app-view-description",[],null,[[null,"isPopulatedChange"]],(function(e,t,n){var l=!0;return"isPopulatedChange"===t&&(l=!1!==(e.component.isPopulated=n)&&l),l}),tO,Zv)),l.xb(3,245760,null,0,Xv,[Zy,Gy,l.i],{layout:[0,"layout"],isPopulated:[1,"isPopulated"]},{isPopulatedChange:"isPopulatedChange"})],(function(e,t){var n=t.component;e(t,1,0,!1),e(t,3,0,n.layout,n.isPopulated)}),(function(e,t){e(t,0,0,!t.component.isPopulated)}))}function fO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"app-view-panel",[["label","Legend"]],null,null,null,Dv,Av)),l.xb(1,114688,null,0,Lv,[],{label:[0,"label"]},null),(e()(),l.yb(2,0,null,1,2,"app-view-legend",[],null,null,null,aO,lO)),l.xb(3,114688,null,0,nO,[],{legend:[0,"legend"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Legend"),e(t,3,0,l.Tb(t,3,0,l.Kb(t,4).transform(n.chapter$)).legend)}),null)}function yO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["actions",""],["class","flex"]],null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","chevron-left"],["matTooltip","Previous Label"],["size","small"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handlePrevClick()&&i),i}),cx,ox)),l.xb(2,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.yb(4,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","chevron-right"],["matTooltip","Next Label"],["size","small"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,5).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,5)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,5)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleNextClick()&&i),i}),cx,ox)),l.xb(5,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(6,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null)],(function(e,t){e(t,2,0,"Previous Label"),e(t,3,0,"chevron-left","small","ghost"),e(t,5,0,"Next Label"),e(t,6,0,"chevron-right","small","ghost")}),null)}function xO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"app-view-panel",[["label","Labels"]],null,null,null,Dv,Av)),l.xb(1,114688,null,0,Lv,[],{label:[0,"label"]},null),(e()(),l.ob(16777216,null,0,2,null,yO)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(5,0,null,1,1,"app-view-labels",[],null,null,null,bO,uO)),l.xb(6,114688,null,0,rO,[Zy],null,null)],(function(e,t){var n,i=t.component;e(t,1,0,"Labels"),e(t,3,0,(null==(n=l.Tb(t,3,0,l.Kb(t,4).transform(i.labels$)))?null:n.length)>1),e(t,6,0)}),null)}function _O(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-view-panel",[["label","Chapters"]],null,null,null,Dv,Av)),l.xb(1,114688,null,0,Lv,[],{label:[0,"label"]},null),(e()(),l.yb(2,0,null,1,1,"app-view-chapters",[],null,null,null,tx,Jy)),l.xb(3,4440064,null,0,Mf,[O.i,Zy,l.i],{autoscroll:[0,"autoscroll"]},null)],(function(e,t){e(t,1,0,"Chapters"),e(t,3,0,!1)}),null)}function vO(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,12,"div",[["class","view-content-mode"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,mO)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,3,null,fO)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,xO)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,_O)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,n.isVisible(n.viewLayout.Description));var i,o,a=null;e(t,4,0,(null==(a=l.Tb(t,4,0,l.Kb(t,5).transform(n.chapter$)))?null:a.legend)&&(null==(a=l.Tb(t,4,0,l.Kb(t,6).transform(n.chapter$)))?null:a.legend.length)>0&&n.isVisible(n.viewLayout.Legend)),e(t,8,0,(null==(i=l.Tb(t,8,0,l.Kb(t,9).transform(n.labels$)))?null:i.length)&&n.isVisible(n.viewLayout.LabelList)),e(t,11,0,(null==(o=l.Tb(t,11,0,l.Kb(t,12).transform(n.chapters$)))?null:o.length)>1&&n.isVisible(n.viewLayout.ChapterList)&&"drawer"!=n.layout)}),null)}var OO=function(){function e(e){this.el=e}return e.prototype.ngAfterContentInit=function(){var e=this;setTimeout((function(){e.el.nativeElement.focus()}),0)},e}(),wO=function(){function e(){}return e.prototype.onClick=function(e,t){t.select()},e}(),CO=function(){function e(e,t){this.graphService=e,this.store=t,this.treeTheme=fy,this.graphSubject=new Le.a(null),this.theme=fy.Dark,this.nodes=[],this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"graph",{get:function(){return this._graph},set:function(e){e&&(this._graph=e,this.graphSubject.next(e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.graphSubject.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){t&&e.getNodes()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.getNodes=function(){var e=this.node?zr.getSuccessors(this.graph,this.node.id):zr.getRoots(this.graph);this.nodes=this.graphService.getNodes(this.graph,e)},e.prototype.countChildren=function(e){return zr.getSuccessors(this.graph,e.id).length},e.prototype.hasChildren=function(e){return this.countChildren(e)>0},e.prototype.trackTreeNode=function(e,t){return t.id},e.prototype.handleExpandClick=function(e,t){this.store.dispatch(t?new oo(e):new io(e))},e}(),jO=function(){function e(e,t,n,l,o){this.store=e,this.graphService=t,this.changeDetectorRef=n,this.clipboardService=l,this.snackbar=o,this.application=i,this.shortId="",this.theme="dark"}return Object.defineProperty(e.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e;var t=this.node.id.split("-");this.shortId=2===t.length?t[1]:t[0]},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.isNodeChecked=function(e){return this.store.selectSnapshot(_u.getNodes)[e].checked},e.prototype.isNodeShown=function(e){return this.store.selectSnapshot(_u.getNodes)[e].shown},e.prototype.checkNode=function(e,t){var n=void 0===t?!this.isNodeChecked(e.id):t;this.store.dispatch(new eu.UpdateNodesChecked(n,[e.id]))},e.prototype.checkInverse=function(e){this.store.dispatch(new eu.UpdateNodesChecked(!0)),this.store.dispatch(new eu.UpdateNodesChecked(!1,[e.id]))},e.prototype.setCheckedNodes=function(e,t){this.store.dispatch(new eu.UpdateNodesChecked(!1));var n=void 0===t?!this.isNodeChecked(e.id):t;this.store.dispatch(new eu.UpdateNodesChecked(n,[e.id]))},e.prototype.flyToNode=function(e){this.store.dispatch(new Ui(e.id))},e.prototype.hideNode=function(e){this.store.dispatch(new eu.UpdateNodesShown(!1,[e.id]))},e.prototype.hideInverse=function(e){var t=this.store.selectSnapshot(oy.getViewGraph),n=this.graphService.getInverseSelection(t,[e.id]);this.store.dispatch(new eu.UpdateNodesShown(!1,n))},e.prototype.showNode=function(e){this.store.dispatch(new eu.UpdateNodesShown(!0,[e.id])),this.changeDetectorRef.markForCheck()},e.prototype.toggleVisible=function(e,t){var n=void 0===t?this.isNodeShown(e.id):t;this.store.dispatch(new eu.UpdateNodesShown(n,[e.id])),this.changeDetectorRef.markForCheck()},e.prototype.togglePickable=function(e,t){this.store.dispatch(new eu.UpdateNodesPickable(t,[e.id])),this.changeDetectorRef.markForCheck()},e.prototype.makeEverythingElseUnpickale=function(e){this.store.dispatch(new eu.UpdateNodesPickable(!1)),this.store.dispatch(new eu.UpdateNodesPickable(!0,[e.id]))},e.prototype.fadeInverseNodes=function(e){var t=this.store.selectSnapshot(oy.getViewGraph),n=this.graphService.getInverseSelection(t,[e.id]),l=this.graphService.getNodes(t,n);this.store.dispatch(new eu.UpdateNodesPaint(Hs.recipe,l.map((function(e){return e.id}))))},e.prototype.fadeNode=function(e){this.store.dispatch(new eu.UpdateNodesPaint(Hs.recipe,[e.id]))},e.prototype.editNodeLabel=function(e){this.store.dispatch(new ro(e))},e.prototype.copy=function(e){var t=this;this.clipboardService.copyToClipboard(e).subscribe((function(){t.snackbar.open("Copied "+e+" to clipboard.")}))},e}(),kO=l.wb({encapsulation:0,styles:[[""]],data:{}});function SO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,2)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,2)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Kb(e,3)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,3)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,3)._handleClick(n)&&i),i}),ze.c,ze.a)),l.xb(2,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(3,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[6,Ue.e],[2,lt.b],ve.e],{menu:[0,"menu"]},null),(e()(),l.Sb(-1,0,["Select"])),(e()(),l.yb(5,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(6,49152,null,0,Zg.a,[],null,null)],(function(e,t){e(t,3,0,l.Kb(t.parent,39))}),(function(e,t){e(t,1,0,l.Kb(t,2).role,l.Kb(t,2)._highlighted,l.Kb(t,2)._triggersSubmenu,l.Kb(t,2)._getTabIndex(),l.Kb(t,2).disabled.toString(),l.Kb(t,2).disabled||null,l.Kb(t,3).menuOpen||null),e(t,5,0,l.Kb(t,6).vertical?"vertical":"horizontal",l.Kb(t,6).vertical,!l.Kb(t,6).vertical,l.Kb(t,6).inset)}))}function PO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsShow"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.toggleVisible(o.node,!0)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Show"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function MO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsHide"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.toggleVisible(o.node,!1)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Hide"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function IO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(2,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(3,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["data-test","nodeActionsPickableTrigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,4)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,4)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Kb(e,5)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,5)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,5)._handleClick(n)&&i),i}),ze.c,ze.a)),l.xb(4,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(5,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[6,Ue.e],[2,lt.b],ve.e],{menu:[0,"menu"]},null),(e()(),l.Sb(-1,0,["Pickable / Unpickable"])),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,5,0,l.Kb(t.parent,83))}),(function(e,t){e(t,1,0,l.Kb(t,2).vertical?"vertical":"horizontal",l.Kb(t,2).vertical,!l.Kb(t,2).vertical,l.Kb(t,2).inset),e(t,3,0,l.Kb(t,4).role,l.Kb(t,4)._highlighted,l.Kb(t,4)._triggersSubmenu,l.Kb(t,4)._getTabIndex(),l.Kb(t,4).disabled.toString(),l.Kb(t,4).disabled||null,l.Kb(t,5).menuOpen||null)}))}function TO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(2,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(3,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsEditName"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,4)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,4)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.editNodeLabel(o.node)&&i),i}),ze.c,ze.a)),l.xb(4,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Edit Object Name"]))],null,(function(e,t){e(t,1,0,l.Kb(t,2).vertical?"vertical":"horizontal",l.Kb(t,2).vertical,!l.Kb(t,2).vertical,l.Kb(t,2).inset),e(t,3,0,l.Kb(t,4).role,l.Kb(t,4)._highlighted,l.Kb(t,4)._triggersSubmenu,l.Kb(t,4)._getTabIndex(),l.Kb(t,4).disabled.toString(),l.Kb(t,4).disabled||null)}))}function KO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(2,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(3,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["data-test","nodeActionsCopyTrigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,4)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,4)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Kb(e,5)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,5)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,5)._handleClick(n)&&i),i}),ze.c,ze.a)),l.xb(4,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(5,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[6,Ue.e],[2,lt.b],ve.e],{menu:[0,"menu"]},null),(e()(),l.Sb(-1,0,["Copy"])),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,5,0,l.Kb(t.parent,97))}),(function(e,t){e(t,1,0,l.Kb(t,2).vertical?"vertical":"horizontal",l.Kb(t,2).vertical,!l.Kb(t,2).vertical,l.Kb(t,2).inset),e(t,3,0,l.Kb(t,4).role,l.Kb(t,4)._highlighted,l.Kb(t,4)._triggersSubmenu,l.Kb(t,4)._getTabIndex(),l.Kb(t,4).disabled.toString(),l.Kb(t,4).disabled||null,l.Kb(t,5).menuOpen||null)}))}function zO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsShowThis"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.toggleVisible(o.node,!0)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[10,4],[11,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Show This"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function UO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsShowEverythingElse"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.toggleVisible(o.node,!1)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[10,4],[11,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Hide This"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function EO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsPickable"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.togglePickable(o.node,!1)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[13,4],[14,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Make Unpickable"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function LO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsUnpickable"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.togglePickable(o.node,!0)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[13,4],[14,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Make Pickable"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function AO(e){return l.Ub(2,[(e()(),l.yb(0,16777216,null,null,4,"button",[["app-button",""],["aria-haspopup","true"],["buttonSize","xsmall"],["class","mat-menu-trigger"],["data-test","nodeActionsTrigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Kb(e,1)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,1)._handleClick(n)&&i),i}),et,Je)),l.xb(1,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[8,null],[2,lt.b],ve.e],{menu:[0,"menu"]},null),l.xb(2,114688,null,0,Ze,[],{buttonSize:[0,"buttonSize"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.yb(3,0,null,0,1,"app-icon",[["icon","ellipsis-v"]],null,null,null,fe,me)),l.xb(4,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(5,0,null,null,32,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(8,1294336,[["nodeActions",4]],3,Ue.h,[l.l,l.C,Ue.a],{overlapTrigger:[0,"overlapTrigger"]},null),l.Qb(603979776,1,{_allItems:1}),l.Qb(603979776,2,{items:1}),l.Qb(603979776,3,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,SO)),l.xb(13,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),l.ob(16777216,null,0,1,null,PO)),l.xb(15,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,MO)),l.xb(17,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(18,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsIsolate"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,19)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,19)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.hideInverse(o.node)&&i),i}),ze.c,ze.a)),l.xb(19,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Isolate"])),(e()(),l.yb(21,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(22,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(23,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["data-test","nodeActionsFadeTrigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,24)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,24)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Kb(e,25)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,25)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,25)._handleClick(n)&&i),i}),ze.c,ze.a)),l.xb(24,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(25,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[6,Ue.e],[2,lt.b],ve.e],{menu:[0,"menu"]},null),(e()(),l.Sb(-1,0,["Fade"])),(e()(),l.ob(16777216,null,0,1,null,IO)),l.xb(28,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"]},null),(e()(),l.yb(29,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(30,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(31,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsFlyTo"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,32)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,32)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.flyToNode(o.node)&&i),i}),ze.c,ze.a)),l.xb(32,180224,[[1,4],[2,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Fly To"])),(e()(),l.ob(16777216,null,0,1,null,TO)),l.xb(35,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),l.ob(16777216,null,0,1,null,KO)),l.xb(37,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),l.yb(38,0,null,null,12,"mat-menu",[],null,null,null,ze.d,ze.b)),l.xb(39,1294336,[["selectActions",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,4,{_allItems:1}),l.Qb(603979776,5,{items:1}),l.Qb(603979776,6,{lazyContent:0}),l.Pb(2048,null,Ue.d,null,[Ue.h]),l.Pb(2048,null,Ue.b,null,[Ue.d]),(e()(),l.yb(45,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsSelectThis"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,46)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,46)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.checkNode(o.node,!0)&&i),i}),ze.c,ze.a)),l.xb(46,180224,[[4,4],[5,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Select This"])),(e()(),l.yb(48,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsSelectEverythingElse"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,49)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,49)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.checkInverse(o.node)&&i),i}),ze.c,ze.a)),l.xb(49,180224,[[4,4],[5,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Select Everything Else"])),(e()(),l.yb(51,0,null,null,12,"mat-menu",[],null,null,null,ze.d,ze.b)),l.xb(52,1294336,[["fadeActions",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,7,{_allItems:1}),l.Qb(603979776,8,{items:1}),l.Qb(603979776,9,{lazyContent:0}),l.Pb(2048,null,Ue.d,null,[Ue.h]),l.Pb(2048,null,Ue.b,null,[Ue.d]),(e()(),l.yb(58,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsFadeThis"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,59)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,59)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.fadeNode(o.node)&&i),i}),ze.c,ze.a)),l.xb(59,180224,[[7,4],[8,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Fade This"])),(e()(),l.yb(61,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsFadeEverythingElse"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,62)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,62)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.fadeInverseNodes(o.node)&&i),i}),ze.c,ze.a)),l.xb(62,180224,[[7,4],[8,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Fade Everything Else"])),(e()(),l.yb(64,0,null,null,15,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(67,1294336,[["showHideActions",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,10,{_allItems:1}),l.Qb(603979776,11,{items:1}),l.Qb(603979776,12,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,zO)),l.xb(72,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,UO)),l.xb(74,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(75,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(76,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(77,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,78)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,78)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.hideInverse(o.node)&&i),i}),ze.c,ze.a)),l.xb(78,180224,[[10,4],[11,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Hide Everything Else"])),(e()(),l.yb(80,0,null,null,15,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(83,1294336,[["pickableActions",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,13,{_allItems:1}),l.Qb(603979776,14,{items:1}),l.Qb(603979776,15,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,EO)),l.xb(88,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,LO)),l.xb(90,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(91,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(92,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(93,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsEverythingElseUnpickable"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,94)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,94)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.makeEverythingElseUnpickale(o.node)&&i),i}),ze.c,ze.a)),l.xb(94,180224,[[13,4],[14,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Make Everything Else Unpickable"])),(e()(),l.yb(96,0,null,null,17,"mat-menu",[],null,null,null,ze.d,ze.b)),l.xb(97,1294336,[["copyActions",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,16,{_allItems:1}),l.Qb(603979776,17,{items:1}),l.Qb(603979776,18,{lazyContent:0}),l.Pb(2048,null,Ue.d,null,[Ue.h]),l.Pb(2048,null,Ue.b,null,[Ue.d]),(e()(),l.yb(103,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsCopyShortID"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,104)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,104)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.copy(o.shortId)&&i),i}),ze.c,ze.a)),l.xb(104,180224,[[16,4],[17,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Copy Short ID"])),(e()(),l.yb(106,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsCopyFullID"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,107)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,107)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.copy(o.node.id)&&i),i}),ze.c,ze.a)),l.xb(107,180224,[[16,4],[17,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Copy Full ID"])),(e()(),l.yb(109,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(110,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(111,0,null,0,2,"button",[["class","mat-menu-item"],["data-test","nodeActionsCopyDisplayName"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,112)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,112)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.copy(o.node.label)&&i),i}),ze.c,ze.a)),l.xb(112,180224,[[16,4],[17,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Copy Display Name"]))],(function(e,t){var n=t.component;e(t,1,0,l.Kb(t,8)),e(t,2,0,"xsmall",n.theme),e(t,4,0,"ellipsis-v"),e(t,8,0,!0),e(t,13,0,n.application.All,"include","/edit"),e(t,15,0,!n.node.boolState.shown),e(t,17,0,n.node.boolState.shown),e(t,25,0,l.Kb(t,52)),e(t,28,0,n.application.Loft),e(t,35,0,n.application.Loft,"include","/edit"),e(t,37,0,n.application.Loft,"include","/edit"),e(t,39,0),e(t,52,0),e(t,67,0),e(t,72,0,!n.node.boolState.shown),e(t,74,0,n.node.boolState.shown),e(t,83,0),e(t,88,0,n.node.boolState.pickable),e(t,90,0,!n.node.boolState.pickable),e(t,97,0)}),(function(e,t){e(t,0,0,l.Kb(t,1).menuOpen||null,l.Kb(t,2).disabled),e(t,18,0,l.Kb(t,19).role,l.Kb(t,19)._highlighted,l.Kb(t,19)._triggersSubmenu,l.Kb(t,19)._getTabIndex(),l.Kb(t,19).disabled.toString(),l.Kb(t,19).disabled||null),e(t,21,0,l.Kb(t,22).vertical?"vertical":"horizontal",l.Kb(t,22).vertical,!l.Kb(t,22).vertical,l.Kb(t,22).inset),e(t,23,0,l.Kb(t,24).role,l.Kb(t,24)._highlighted,l.Kb(t,24)._triggersSubmenu,l.Kb(t,24)._getTabIndex(),l.Kb(t,24).disabled.toString(),l.Kb(t,24).disabled||null,l.Kb(t,25).menuOpen||null),e(t,29,0,l.Kb(t,30).vertical?"vertical":"horizontal",l.Kb(t,30).vertical,!l.Kb(t,30).vertical,l.Kb(t,30).inset),e(t,31,0,l.Kb(t,32).role,l.Kb(t,32)._highlighted,l.Kb(t,32)._triggersSubmenu,l.Kb(t,32)._getTabIndex(),l.Kb(t,32).disabled.toString(),l.Kb(t,32).disabled||null),e(t,45,0,l.Kb(t,46).role,l.Kb(t,46)._highlighted,l.Kb(t,46)._triggersSubmenu,l.Kb(t,46)._getTabIndex(),l.Kb(t,46).disabled.toString(),l.Kb(t,46).disabled||null),e(t,48,0,l.Kb(t,49).role,l.Kb(t,49)._highlighted,l.Kb(t,49)._triggersSubmenu,l.Kb(t,49)._getTabIndex(),l.Kb(t,49).disabled.toString(),l.Kb(t,49).disabled||null),e(t,58,0,l.Kb(t,59).role,l.Kb(t,59)._highlighted,l.Kb(t,59)._triggersSubmenu,l.Kb(t,59)._getTabIndex(),l.Kb(t,59).disabled.toString(),l.Kb(t,59).disabled||null),e(t,61,0,l.Kb(t,62).role,l.Kb(t,62)._highlighted,l.Kb(t,62)._triggersSubmenu,l.Kb(t,62)._getTabIndex(),l.Kb(t,62).disabled.toString(),l.Kb(t,62).disabled||null),e(t,75,0,l.Kb(t,76).vertical?"vertical":"horizontal",l.Kb(t,76).vertical,!l.Kb(t,76).vertical,l.Kb(t,76).inset),e(t,77,0,l.Kb(t,78).role,l.Kb(t,78)._highlighted,l.Kb(t,78)._triggersSubmenu,l.Kb(t,78)._getTabIndex(),l.Kb(t,78).disabled.toString(),l.Kb(t,78).disabled||null),e(t,91,0,l.Kb(t,92).vertical?"vertical":"horizontal",l.Kb(t,92).vertical,!l.Kb(t,92).vertical,l.Kb(t,92).inset),e(t,93,0,l.Kb(t,94).role,l.Kb(t,94)._highlighted,l.Kb(t,94)._triggersSubmenu,l.Kb(t,94)._getTabIndex(),l.Kb(t,94).disabled.toString(),l.Kb(t,94).disabled||null),e(t,103,0,l.Kb(t,104).role,l.Kb(t,104)._highlighted,l.Kb(t,104)._triggersSubmenu,l.Kb(t,104)._getTabIndex(),l.Kb(t,104).disabled.toString(),l.Kb(t,104).disabled||null),e(t,106,0,l.Kb(t,107).role,l.Kb(t,107)._highlighted,l.Kb(t,107)._triggersSubmenu,l.Kb(t,107)._getTabIndex(),l.Kb(t,107).disabled.toString(),l.Kb(t,107).disabled||null),e(t,109,0,l.Kb(t,110).vertical?"vertical":"horizontal",l.Kb(t,110).vertical,!l.Kb(t,110).vertical,l.Kb(t,110).inset),e(t,111,0,l.Kb(t,112).role,l.Kb(t,112)._highlighted,l.Kb(t,112)._triggersSubmenu,l.Kb(t,112)._getTabIndex(),l.Kb(t,112).disabled.toString(),l.Kb(t,112).disabled||null)}))}var FO=function(){return function(){}}(),DO=function(e){return e.Chapter="chapter",e.Label="label",e.Paint="paint",e.Position="position",e}({}),NO=function(){return function(){}}(),RO=function(){function e(e){this.colorRecipe=e}return e.type="[Edit Paint] Set Color Recipe",e}(),BO=function(){function e(e){this.brushMode=e}return e.type="[Edit Paint] Set Paint Brush Mode",e}(),HO=function(){function e(){}return e.type="[Edit Paint] Clear Color Recipe",e}(),VO=function(){function e(){}return e.type="[Edit Paint] Reset Paint",e}(),$O={colorRecipe:Bs.recipe,brushMode:function(e){return e[e.Modify=0]="Modify",e[e.Replace=1]="Replace",e}({}).Modify},QO=function(){function e(){}return e.getColorRecipe=function(e){return e.colorRecipe},e.getPaintBrushMode=function(e){return e.brushMode},e.prototype.setColorRecipe=function(e,t){e.patchState({colorRecipe:t.colorRecipe})},e.prototype.setBrushMode=function(e,t){e.patchState({brushMode:t.brushMode})},e.prototype.clearColorRecipe=function(e,t){e.patchState({colorRecipe:null})},e.prototype.resetPaint=function(e,t){e.setState($O)},Object(v.__decorate)([Object(O.a)(RO),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,RO]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setColorRecipe",null),Object(v.__decorate)([Object(O.a)(BO),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,BO]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setBrushMode",null),Object(v.__decorate)([Object(O.a)(HO),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,HO]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"clearColorRecipe",null),Object(v.__decorate)([Object(O.a)(VO),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,VO]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetPaint",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[NO]),Object(v.__metadata)("design:returntype",void 0)],e,"getColorRecipe",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[NO]),Object(v.__metadata)("design:returntype",void 0)],e,"getPaintBrushMode",null),Object(v.__decorate)([Object(O.g)({name:"editPaint",defaults:$O})],e)}(),WO=function(){return function(e,t,n){this.label=e,this.width=t,this.height=n}}(),GO=new WO("Don't Resize",-1,-1),qO=(new WO("Common (Mobile)",360,640),new WO("Common (Minimum)",300,300),new WO("Common (Publish Default)",700,550),new WO("iPhone X",375,812),new WO("iPad (Portrait)",768,1024),new WO("iPad (Landscape)",1024,768),{view:DO.Chapter,showColumns:!0,showLeftColumn:!0,showRightColumn:!0,showHeader:!0,showFooter:!0,autoCapture:u.application!==i.Loft,record:!0,layerOrderMode:!1,showTreeNodeIds:!1,canvasSize:GO,canvasSettings:{emulateDrawer:!0,emulateColumn:!0}}),YO=function(){function e(e){this.storageService=e}return e.getView=function(e){return e.view},e.getShowColumns=function(e){return e.showColumns},e.getShowLeftColumn=function(e){return e.showLeftColumn},e.getShowRightColumn=function(e){return e.showRightColumn},e.getShowHeader=function(e){return e.showHeader},e.getShowFooter=function(e){return e.showFooter},e.getRecord=function(e){return e.record},e.getLayerOrderMode=function(e){return e.layerOrderMode},e.getShowTreeNodeIds=function(e){return e.showTreeNodeIds},e.getCanvasSize=function(e){return e.canvasSize},e.getCanvasSettings=function(e){return e.canvasSettings},e.getAutoCapture=function(e){return e.autoCapture},e.prototype.SetLayerOrderMode=function(e,t){e.patchState({layerOrderMode:t.layerOrderMode})},e.prototype.ShowTreeNodeIds=function(e,t){var n=null!=t.show?t.show:!e.getState().showTreeNodeIds;e.patchState({showTreeNodeIds:n})},e.prototype.setView=function(e,t){e.patchState({view:t.view})},e.prototype.nextView=function(e,t){var n=e.getState().view,l=Object.values(DO),i=l[l.indexOf(n)+1]||l[0];e.patchState({view:i})},e.prototype.previousView=function(e,t){var n=e.getState().view,l=Object.values(DO),i=l[l.indexOf(n)-1]||l[l.length-1];e.patchState({view:i})},e.prototype.showColumns=function(e,t){e.patchState({showColumns:t.show})},e.prototype.showColumn=function(e,t){switch(t.column){case"left":e.patchState({showLeftColumn:t.show});break;case"right":e.patchState({showRightColumn:t.show});break;case"header":e.patchState({showHeader:t.show});break;case"footer":e.patchState({showFooter:t.show})}},e.prototype.resetEditPage=function(e,t){e.setState(qO),e.dispatch(new VO)},e.prototype.setCanvasSize=function(e,t){e.patchState({canvasSize:t.size})},e.prototype.autoCapture=function(e,t){e.patchState({autoCapture:t.enable}),u.application===i.Studio&&this.storageService.setLocalItem(al.AutoCapture,t.enable)},e.prototype.ngxsOnInit=function(e){var t=this;setTimeout((function(){t.initAutoCapture(e)}))},e.prototype.initAutoCapture=function(e){if(u.application===i.Studio){var t=this.storageService.getLocalJSON(al.AutoCapture);"boolean"==typeof t&&e.patchState({autoCapture:t})}},Object(v.__decorate)([Object(O.a)(hi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,hi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"SetLayerOrderMode",null),Object(v.__decorate)([Object(O.a)(mi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,mi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"ShowTreeNodeIds",null),Object(v.__decorate)([Object(O.a)(ci),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ci]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setView",null),Object(v.__decorate)([Object(O.a)(si),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,si]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"nextView",null),Object(v.__decorate)([Object(O.a)(pi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,si]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"previousView",null),Object(v.__decorate)([Object(O.a)(di),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,di]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"showColumns",null),Object(v.__decorate)([Object(O.a)(bi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,bi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"showColumn",null),Object(v.__decorate)([Object(O.a)(gi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,gi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetEditPage",null),Object(v.__decorate)([Object(O.a)(fi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,fi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setCanvasSize",null),Object(v.__decorate)([Object(O.a)(yi),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,yi]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"autoCapture",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getView",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowColumns",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowLeftColumn",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowRightColumn",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowHeader",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowFooter",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getRecord",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getLayerOrderMode",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getShowTreeNodeIds",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getCanvasSize",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getCanvasSettings",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[FO]),Object(v.__metadata)("design:returntype",void 0)],e,"getAutoCapture",null),Object(v.__decorate)([Object(O.g)({name:"edit",defaults:qO,children:[QO]})],e)}(),XO=function(){function e(e,t,n,l){this.store=e,this.graphService=t,this.router=n,this.changeDetection=l,this.treeTheme=fy,this.isLoft="module"===u.exportType,this.nested=!0,this.theme=fy.Dark,this.checked=!1,this.hasChildren=!1,this.editLabelMode=!1,this.sanitizedID="",this.parentId="",this.shortId="",this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e,this.sanitizedID=this.graphService.sanitizeNodeID(this.node.id),this.checked=this.isNodeChecked(this.node.id);var t=this.node.id.split("-");2===t.length?(this.parentId=t[0],this.shortId=t[1]):(this.shortId=t[0],this.parentId=""),this.shortId=this.shortId.replace(/_/g," "),this.hasChildren=zr.getSuccessors(this.graph,this.node.id).length>0,this.changeDetection.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.isNodeChecked=function(e){return this.store.selectSnapshot(_u.getNodes)[e].checked},e.prototype.isNodeShown=function(e){return this.store.selectSnapshot(_u.getNodes)[e].shown},e.prototype.ngOnInit=function(){var e=this;this.checkedNodesIds$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.checked=t.some((function(t){return t===e.node.id})),e.changeDetection.markForCheck()})),this.labelEditNode$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.editLabelMode=t===e.node})),this.isEditMode=this.router.url.indexOf("/edit")>=0},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleExpandClick=function(e,t){this.store.dispatch(t?new oo(e):new io(e))},e.prototype.handleNodeClick=function(e,t){e.shiftKey?this.checkNode(t):(this.setCheckedNodes(t),this.isEditMode||this.store.dispatch(new Ui(t.id)),this.handleExpandClick(t,!t.boolState.expanded))},e.prototype.toggleVisible=function(e,t){var n=void 0===t?!this.isNodeShown(e.id):t;this.store.dispatch(new eu.UpdateNodesShown(n,[e.id])),this.changeDetection.markForCheck()},e.prototype.handleLayerOrder=function(e,t){var n=parseInt(e.target.value,10);this.setLayerOrder(t,n)},e.prototype.checkNode=function(e,t){var n=void 0===t?!this.isNodeChecked(e.id):t;this.store.dispatch(new eu.UpdateNodesChecked(n,[e.id]))},e.prototype.setCheckedNodes=function(e,t){this.store.dispatch(new eu.UpdateNodesChecked(!1));var n=void 0===t?!this.isNodeChecked(e.id):t;this.store.dispatch(new eu.UpdateNodesChecked(n,[e.id]))},e.prototype.setLayerOrder=function(e,t){this.store.dispatch(new qi([e],t)),this.changeDetection.markForCheck()},e.prototype.handleLabel=function(e){var t=e.target;e instanceof KeyboardEvent?("enter"===e.key.toLowerCase()&&(this.setLabel(t.value),this.setEditLabelMode(!1)),"escape"===e.key.toLowerCase()&&this.setEditLabelMode(!1)):e instanceof FocusEvent&&"blur"===e.type&&(this.setLabel(t.value),this.setEditLabelMode(!1))},e.prototype.setLabel=function(e){this.node.label=e,this.store.dispatch(new Yi(this.node.id,e))},e.prototype.setEditLabelMode=function(e){u.application===i.Loft&&this.isEditMode&&this.store.dispatch(new ro(e?this.node:null))},Object(v.__decorate)([Object(O.e)(_u.getCheckedNodeIds),Object(v.__metadata)("design:type",J.a)],e.prototype,"checkedNodesIds$",void 0),Object(v.__decorate)([Object(O.e)(YO.getLayerOrderMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"layerOrderMode$",void 0),Object(v.__decorate)([Object(O.e)(oy.getLabelEditNode),Object(v.__metadata)("design:type",J.a)],e.prototype,"labelEditNode$",void 0),Object(v.__decorate)([Object(O.e)(YO.getShowTreeNodeIds),Object(v.__metadata)("design:type",J.a)],e.prototype,"showTreeNodeIds$",void 0),e}(),ZO=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}:host{display:block}.tree-node{margin:4px 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:100%;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:200px;-webkit-transition:background-color .12s;transition:background-color .12s}.tree-node:hover{cursor:pointer}.tree-node:hover .tree-node__actions,.tree-node:hover .tree-node__visible{visibility:visible}.tree-node:hover .tree-node__label{color:#fff}.tree-node--themed{padding-right:12px;border-radius:2px;border-left:var(--tree-node-border)}.tree-node--themed:focus{background:#e4ecf9;outline:0}.tree-node--themed:hover{cursor:pointer;background:var(--tree-node-bg--hover)}.tree-node--themed:hover .tree-node__label{color:#131c2a;color:var(--tree-node-color--hover)}.tree-node--themed .tree-node__label{color:#131c2a;color:var(--tree-node-color);font-size:13px;letter-spacing:.325px;line-height:1.4em}.tree-node--themed.tree-node--selected{border-left:4px solid #2d72dc;background-color:#f1f5fc;background:var(--tree-node-bg--selected);border-left:var(--tree-node-border--selected)}.tree-node--themed.tree-node--selected:hover{background-color:#f1f5fc;background-color:var(--tree-node-bg--selected)}.tree-node--themed.tree-node--selected .tree-node__actions,.tree-node--themed.tree-node--selected .tree-node__label{color:#131c2a;color:var(--tree-node-color--selected)}.tree-node--themed.tree-node--selected .tree-node__actions,.tree-node--themed.tree-node--selected .tree-node__expand,.tree-node--themed.tree-node--selected .tree-node__visible{background-color:#f1f5fc;color:#131c2a;background-color:var(--tree-node-button-bg--selected);color:var(--tree-node-button-color--selected)}.tree-node--themed.tree-node--selected .tree-node__actions:hover,.tree-node--themed.tree-node--selected .tree-node__expand:hover,.tree-node--themed.tree-node--selected .tree-node__visible:hover{background-color:var(--tree-node-button-bg--hover);color:var(--tree-node-button-color--hover)}.tree-node--themed.tree-node--unpickable{border:1px dashed #d7e0ea}.tree-node--themed.tree-node--hidden .tree-node__label{color:#96a8c0;color:var(--tree-node-color--hidden)}.tree-node--themed .tree-node__actions,.tree-node--themed .tree-node__expand,.tree-node--themed .tree-node__visible{background-color:transparent;background-color:var(--tree-node-button-bg);color:#96a8c0;color:var(--tree-node-button-color);border-radius:4px}.tree-node--themed .tree-node__actions:hover,.tree-node--themed .tree-node__expand:hover,.tree-node--themed .tree-node__visible:hover{background-color:transparent;color:inherit;background-color:var(--tree-node-button-bg--hover);color:var(--tree-node-button-color--hover)}.tree-node--light:hover{background:rgba(234,239,245,.5)}.tree-node--light:hover .tree-node__label{color:#131c2a}.tree-node--light .tree-node__label{color:#283853;font-weight:400;font-size:14px;line-height:1.33em}.tree-node--light.tree-node--selected:hover{background:#2d72dc}.tree-node--light.tree-node--selected .tree-node__actions,.tree-node--light.tree-node--selected .tree-node__expand,.tree-node--light.tree-node--selected .tree-node__label,.tree-node--light.tree-node--selected .tree-node__visible{color:#fff}.tree-node--light.tree-node--selected .tree-node__actions:hover,.tree-node--light.tree-node--selected .tree-node__expand:hover,.tree-node--light.tree-node--selected .tree-node__visible:hover{color:#f9fafd}.tree-node--light.tree-node--unpickable{border:1px dashed #d7e0ea}.tree-node--light.tree-node--hidden .tree-node__label{color:#96a8c0;font-weight:300}.tree-node--light .tree-node__actions,.tree-node--light .tree-node__expand,.tree-node--light .tree-node__visible{color:#6a82a4;border-radius:4px}.tree-node--light .tree-node__actions:hover,.tree-node--light .tree-node__expand:hover,.tree-node--light .tree-node__visible:hover{background-color:#eaeff5;color:#131c2a}.tree-node.tree-node--hidden.tree-node--selected .tree-node__label{color:#96a8c0}.tree-node--selected{background-color:#2d72dc}.tree-node--selected .tree-node__label{color:#fff}.tree-node--unpickable{border:1px dashed #6a82a4}.tree-node--hidden .tree-node__actions,.tree-node--hidden .tree-node__expand,.tree-node--hidden .tree-node__label,.tree-node--hidden .tree-node__visible{color:#6a82a4}.tree-node--hidden .tree-node__visible{visibility:visible}.tree-node__label{font-size:12px;letter-spacing:.3px;letter-spacing:.5px;font-weight:400;line-height:1.3em;color:#d7e0ea;padding:8px 4px 8px 12px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-flex:1;flex:1 1 100%;min-height:28px}.tree-node__label--padded{padding-left:32px}.tree-node__expand i{-webkit-transition:-webkit-transform .12s;transition:-webkit-transform .12s;transition:transform .12s;transition:transform .12s,-webkit-transform .12s}.tree-node__expand--open app-icon{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.tree-node .tree-node__expand+.tree-node__label{margin-left:-8px}.tree-node__actions,.tree-node__expand,.tree-node__visible{border-radius:4px;color:#d7e0ea;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 30px;height:30px;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.tree-node__actions:hover,.tree-node__expand:hover,.tree-node__visible:hover{background-color:#1c2a3f;color:#fff;cursor:pointer}.tree-node--selected .tree-node__actions:hover,.tree-node--selected .tree-node__expand:hover,.tree-node--selected .tree-node__visible:hover{background-color:#2d72dc}.tree-node__actions,.tree-node__visible{visibility:hidden}.tree-node__layer-order{font-size:10px;-webkit-box-flex:0;flex:0 0 56px;min-height:28px;height:28px;padding:4px;margin:2px;text-align:center}.tree-node .tree-node__eye,.tree-node .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__eye-slash,.tree-node:hover .tree-node__eye-slash{display:inline}.tree-node.tree-node--hidden .tree-node__visible:hover .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__visible:hover .tree-node__eye{display:inline}"]],data:{}});function JO(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["appEventFence",""],["class","tree-node__expand"],["data-test","treeNodeExpand"]],[[2,"tree-node__expand--open",null]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n,n.target)&&i),"click"===t&&(i=!1!==o.handleExpandClick(o.node,o.node.boolState.expanded)&&i),i}),null,null)),l.xb(1,16384,null,0,ye,[],null,null),(e()(),l.yb(2,0,null,null,1,"app-icon",[["icon","caret-right"]],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,3,0,"caret-right")}),(function(e,t){e(t,0,0,t.component.node.boolState.expanded)}))}function ew(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","text-10 text-uppercase"],["data-test","treeNodeId"],["style","opacity: 0.7;"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.shortId)}))}function tw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,9,"div",[["class","tree-node__label"]],null,[[null,"dblclick"]],(function(e,t,n){var l=!0;return"dblclick"===t&&(l=!1!==e.component.setEditLabelMode(!0)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"tree-node__label--padded":0}),(e()(),l.yb(4,0,null,null,5,"div",[["class","flex flex-column"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,ew)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(8,0,null,null,1,"div",[["data-test","treeNodeLabel"]],null,null,null,null,null)),(e()(),l.Sb(9,null,[" "," "]))],(function(e,t){var n=t.component,i=e(t,3,0,!n.hasChildren&&n.nested);e(t,2,0,"tree-node__label",i),e(t,6,0,l.Tb(t,6,0,l.Kb(t,7).transform(n.showTreeNodeIds$)))}),(function(e,t){e(t,9,0,t.component.node.label)}))}function nw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"input",[["appAutoFocus",""],["appEventFence",""],["class","input"],["data-test","treeNodeEditLabel"],["type","text"]],[[8,"value",0]],[[null,"blur"],[null,"keyup"],[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,2).onClick(n,n.target)&&i),"blur"===t&&(i=!1!==o.handleLabel(n)&&i),"keyup"===t&&(i=!1!==o.handleLabel(n)&&i),i}),null,null)),l.xb(1,1064960,null,0,OO,[l.l],null,null),l.xb(2,16384,null,0,ye,[],null,null)],null,(function(e,t){e(t,0,0,t.component.node.label)}))}function lw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"input",[["appEventFence",""],["class","input input--small tree-node__layer-order"],["data-test","treeNodeLayerOrder"],["type","text"]],[[8,"value",0]],[[null,"change"],[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1).onClick(n,n.target)&&i),"change"===t&&(i=!1!==o.handleLayerOrder(n,o.node)&&i),i}),null,null)),l.xb(1,16384,null,0,ye,[],null,null)],null,(function(e,t){e(t,0,0,t.component.node.numState.layer)}))}function iw(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,21,"div",[["class","tree-node"],["data-test","treeNode"],["tabindex","0"]],[[1,"data-id",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"keyup.enter"===t&&(l=!1!==i.handleNodeClick(n,i.node)&&l),"click"===t&&(l=!1!==i.handleNodeClick(n,i.node)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"tree-node--light":0,"tree-node--themed":1,"tree-node--hidden":2,"tree-node--selected":3,"tree-node--unpickable":4}),(e()(),l.ob(16777216,null,null,1,null,JO)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,tw)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,nw)),l.xb(9,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,lw)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(13,0,null,null,5,"div",[["appEventFence",""],["class","tree-node__visible"],["data-test","treeNodeVisible"]],null,[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,14).onClick(n,n.target)&&i),"click"===t&&(i=!1!==o.toggleVisible(o.node)&&i),i}),null,null)),l.xb(14,16384,null,0,ye,[],null,null),(e()(),l.yb(15,0,null,null,1,"app-icon",[["class","tree-node__eye"],["data-test","treeNodeVisibleTrue"],["icon","eye"],["size","xs"]],null,null,null,fe,me)),l.xb(16,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(17,0,null,null,1,"app-icon",[["class","tree-node__eye-slash"],["data-test","treeNodeVisibleFalse"],["icon","eye-slash"],["size","xs"]],null,null,null,fe,me)),l.xb(18,114688,null,0,he,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(19,0,null,null,2,"app-node-actions",[["appEventFence",""]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,21).onClick(n,n.target)&&i),i}),AO,kO)),l.xb(20,114688,null,0,jO,[O.i,Xr,l.i,bp,Bd.c],{node:[0,"node"],theme:[1,"theme"]},null),l.xb(21,16384,null,0,ye,[],null,null)],(function(e,t){var n=t.component,i=e(t,3,0,n.theme===n.treeTheme.Light,n.theme===n.treeTheme.Themed,!n.node.boolState.shown,n.checked,!n.node.boolState.pickable&&n.isLoft);e(t,2,0,"tree-node",i),e(t,5,0,n.nested&&n.hasChildren),e(t,7,0,!n.editLabelMode),e(t,9,0,n.editLabelMode),e(t,11,0,l.Tb(t,11,0,l.Kb(t,12).transform(n.layerOrderMode$))),e(t,16,0,"eye","xs"),e(t,18,0,"eye-slash","xs"),e(t,20,0,n.node,n.theme)}),(function(e,t){e(t,0,0,t.component.sanitizedID)}))}var ow=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tree-group[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:var(--tree-node-collapse-color)}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:0 0}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:var(--tree-node-collapse-color--hover)}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:#eaeff5}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:0 0}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#d7e0ea}.tree-group__children[_ngcontent-%COMP%]{padding-left:20px;position:relative}.tree-group__collapse[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:20px;z-index:1}.tree-group__collapse[_ngcontent-%COMP%]:after{content:\" \";display:block;position:absolute;width:1px;left:10px;top:0;bottom:0;background:#1c2a3f}.tree-group__collapse[_ngcontent-%COMP%]:hover{cursor:pointer}.tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#283853}"]],data:{}});function aw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","tree-group__collapse"]],[[8,"title",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleExpandClick(e.parent.parent.context.$implicit,!0)&&l),l}),null,null))],null,(function(e,t){e(t,0,0,t.parent.parent.context.$implicit.label)}))}function rw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","tree-group__children"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,aw)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(3,0,null,null,1,"app-tree-group",[],null,[[null,"clickNode"]],(function(e,t,n){var l=!0;return"clickNode"===t&&(l=!1!==e.component.handleNodeClick(n)&&l),l}),cw,ow)),l.xb(4,245760,null,0,CO,[Xr,O.i],{graph:[0,"graph"],theme:[1,"theme"],node:[2,"node"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.hasChildren(t.parent.context.$implicit)),e(t,4,0,n.graph,n.theme,t.parent.context.$implicit)}),null)}function uw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"div",[["class","tree-group"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"tree-group--light":0,"tree-group--themed":1}),(e()(),l.yb(4,0,null,null,1,"app-tree-nested-node",[],null,null,null,iw,ZO)),l.xb(5,245760,null,0,XO,[O.i,Xr,d.m,l.i],{graph:[0,"graph"],node:[1,"node"],theme:[2,"theme"]},null),(e()(),l.ob(16777216,null,null,1,null,rw)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.theme===n.treeTheme.Light,n.theme===n.treeTheme.Themed);e(t,2,0,"tree-group",l),e(t,5,0,n.graph,t.context.$implicit,n.theme),e(t,7,0,t.context.$implicit.boolState.expanded)}),null)}function cw(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,uw)),l.xb(1,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.nodes,n.trackTreeNode)}),null)}var sw=l.wb({encapsulation:0,styles:[[""]],data:{}});function pw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"app-tree-group",[],null,null,null,cw,ow)),l.xb(1,245760,null,0,CO,[Xr,O.i],{graph:[0,"graph"],theme:[1,"theme"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,n.searchGraph?n.searchGraph:l.Tb(t,1,0,l.Kb(t,2).transform(n.viewGraph$)),n.theme)}),null)}var dw=n("Wucu"),bw=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.tree-search{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;height:100%}.tree-search__tree{-webkit-box-flex:1;flex-grow:1;width:100%}.tree-search__empty{font-size:14px;letter-spacing:.35px;line-height:1.4em;padding:12px;font-style:italic;margin-top:12px}.tree-search cdk-virtual-scroll-viewport{-webkit-box-flex:1;flex:1 1 auto}.tree-search cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{padding-right:12px}"]],data:{}});function gw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","tree-search__empty"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" No results "]))],null,null)}function hw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","pr-3 pv-3"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-tree",[["class","tree-search__tree"]],null,null,null,pw,sw)),l.xb(2,245760,null,0,yy,[O.i,Xr],{theme:[0,"theme"],searchGraph:[1,"searchGraph"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.theme,n.searchGraph)}),null)}function mw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-tree-nested-node",[["class","mr-3"],["style","height: 64px;"]],null,null,null,iw,ZO)),l.xb(2,245760,null,0,XO,[O.i,Xr,d.m,l.i],{graph:[0,"graph"],node:[1,"node"],nested:[2,"nested"],theme:[3,"theme"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.prunedViewGraph,t.context.$implicit,!1,n.theme)}),null)}function fw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","pv-3 cdk-virtual-scroll-viewport"]],[[4,"height","px"],[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,dw.b,dw.a)),l.Pb(6144,null,ot.b,null,[ot.d]),l.xb(2,540672,null,0,ot.a,[],{itemSize:[0,"itemSize"]},null),l.Pb(1024,null,ot.i,ot.k,[ot.a]),l.xb(4,245760,null,0,ot.d,[l.l,l.i,l.C,[2,ot.i],[2,lt.b],ot.f],null,null),(e()(),l.ob(16777216,null,0,1,null,mw)),l.xb(6,409600,null,0,ot.c,[l.T,l.Q,l.v,[1,ot.d],l.C],{cdkVirtualForOf:[0,"cdkVirtualForOf"],cdkVirtualForTrackBy:[1,"cdkVirtualForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,2,0,64),e(t,4,0),e(t,6,0,n.searchResults,n.trackTreeNode)}),(function(e,t){e(t,0,0,t.component.searchHeight,"horizontal"===l.Kb(t,4).orientation,"horizontal"!==l.Kb(t,4).orientation)}))}function yw(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,6,"div",[["class","tree-search"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,gw)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,hw)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,fw)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,0===n.searchResults.length),e(t,4,0,n.displayMode===n.treeSearchDisplayMode.Tree),e(t,6,0,n.displayMode===n.treeSearchDisplayMode.List)}),null)}var xw=function(){function e(e,t){this.viewService=e,this.store=t,this.query="",this.treeTheme=fy,this.treeSearchDisplayMode=_y}return e.prototype.ngOnInit=function(){},e.prototype.handleSearchKeyup=function(e,t){"Escape"===e.key&&(this.handleExitClick(),this.searchInput.nativeElement.blur()),this.query=t},e.prototype.handleExitClick=function(){this.query="",this.viewService.toggleSearch(!1)},e.prototype.toggleDisplayMode=function(){var e=this.store.selectSnapshot(My.getSearchDisplayMode);this.setDisplayMode(e=e===_y.List?_y.Tree:_y.List)},e.prototype.setDisplayMode=function(e){this.store.dispatch(new y.SetSearchDisplayMode(e))},Object(v.__decorate)([Object(O.e)(oy.getViewGraph),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewGraph$",void 0),Object(v.__decorate)([Object(O.e)(My.getSearchDisplayMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"searchDisplayMode$",void 0),e}(),_w=l.wb({encapsulation:2,styles:[[".view-search{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}@-webkit-keyframes appear{from{background-color:transparent}}@keyframes appear{from{background-color:transparent}}.view-search__header{background-color:#2d72dc;background-color:var(--view-search-header-bg);-webkit-box-flex:0;flex:0 0 auto;display:-webkit-box;display:flex;padding:12px 12px 16px;-webkit-animation:250ms ease-out appear;animation:250ms ease-out appear}.view-search__input-container{background-color:#fff;background-color:var(--view-search-input-bg);display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;border-radius:4px}.view-search__input{color:#131c2a;color:var(--view-search-active-color);background:0 0;border:1px solid transparent;outline:0;-webkit-box-flex:1;flex:1 0 auto;padding:8px 12px;font-size:13px;font-family:'Inter UI',\"Font Awesome 5 Pro\"!important}.view-search__input::-ms-clear{display:none}.view-search__input::-webkit-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::-moz-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input:-ms-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::-ms-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__action{background:0 0;border:0;color:#96a8c0;color:var(--view-search-inactive-color);cursor:pointer;width:36px;height:36px;outline:0}.view-search__action:hover{color:#131c2a;color:var(--view-search-active-color)}.view-search__divider{border-right:1px solid #96a8c0;border-right:1px solid var(--view-search-divider-color);margin:8px 0}.view-search__body{-webkit-box-flex:1;flex:1 1 100%;overflow-y:scroll;padding-left:12px}.view-search__actions{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.view-search__input{font-size:16px;padding:4px 8px;width:0}}}"]],data:{}});function vw(e){return l.Ub(2,[l.Qb(671088640,1,{searchInput:0}),(e()(),l.yb(1,0,null,null,21,"div",[["class","view-search"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,15,"div",[["class","view-search__header"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,14,"div",[["class","view-search__input-container"]],null,null,null,null,null)),(e()(),l.yb(4,0,[[1,0],["searchInput",1]],null,2,"input",[["appAutoFocus",""],["appSelectOnFocus",""],["aria-label","Search Anatomy"],["class","view-search__input"],["placeholder","Search Anatomy"],["role","search"],["type","text"]],[[8,"value",0]],[[null,"keyup"],[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,6).onClick(n,n.target)&&i),"keyup"===t&&(i=!1!==o.handleSearchKeyup(n,l.Kb(e,4).value)&&i),i}),null,null)),l.xb(5,1064960,null,0,OO,[l.l],null,null),l.xb(6,16384,null,0,wO,[],null,null),(e()(),l.yb(7,16777216,null,null,5,"button",[["class","view-search__action"],["type","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,8).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,8)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,8)._handleTouchend()&&i),"click"===t&&(i=!1!==o.toggleDisplayMode()&&i),i}),null,null)),l.xb(8,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(10,0,null,null,2,"app-icon",[["aria-hidden","true"]],null,null,null,fe,me)),l.xb(11,114688,null,0,he,[],{icon:[0,"icon"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(13,0,null,null,0,"div",[["class","view-search__divider"]],null,null,null,null,null)),(e()(),l.yb(14,16777216,null,null,3,"button",[["class","view-search__action"],["matTooltip","Close Search"],["type","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,15).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,15)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,15)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleExitClick()&&i),i}),null,null)),l.xb(15,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),(e()(),l.yb(16,0,null,null,1,"app-icon",[["icon","times"]],null,null,null,fe,me)),l.xb(17,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(18,0,null,null,4,"div",[["class","view-search__body"]],null,null,null,null,null)),(e()(),l.yb(19,0,null,null,3,"app-tree-search",[],null,null,null,yw,bw)),l.xb(20,4440064,null,0,vy,[l.I,l.i,l.l,uu,O.i],{query:[0,"query"],displayMode:[1,"displayMode"],viewGraph:[2,"viewGraph"],theme:[3,"theme"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,8,0,l.Tb(t,8,0,l.Kb(t,9).transform(n.searchDisplayMode$))===n.treeSearchDisplayMode.List?"Switch to Anatomy Tree":"Switch to Anatomy List"),e(t,11,0,l.Tb(t,11,0,l.Kb(t,12).transform(n.searchDisplayMode$))===n.treeSearchDisplayMode.List?"sitemap":"list"),e(t,15,0,"Close Search"),e(t,17,0,"times"),e(t,20,0,n.query,l.Tb(t,20,1,l.Kb(t,21).transform(n.searchDisplayMode$)),l.Tb(t,20,2,l.Kb(t,22).transform(n.viewGraph$)),n.treeTheme.Themed)}),(function(e,t){e(t,4,0,t.component.query)}))}var Ow=function(){function e(e,t,n){this.store=e,this.actions=t,this.changeRef=n,this.layout="drawer",this.showClose=!0,this.isOpen=!1,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){var e=this;this.initInfoListeners(),this.store.select(_u.getSelectedNode).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){void 0!==t&&(e.node=e.store.selectSnapshot(oy.getViewGraphNode)(t.objectId))}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleHideClick=function(e){this.store.dispatch(new eu.UpdateNodesShown(!1,[e.id]))},e.prototype.handleCloseClick=function(){var e=this.store.selectSnapshot(My.getLayout);e.nodeInfo.status=ay.Hide,this.store.dispatch(new y.SetLayout(e))},e.prototype.initInfoListeners=function(){var e=this;this.actions.pipe(Object(O.k)(so,po,uo),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.isOpen=!0,e.changeRef.markForCheck()}))},e.prototype.formatHTML=function(e){return e.trim().replace(new RegExp("\r?\n","g"),"<br><br>")},Object(v.__decorate)([Object(O.e)(oy.getQuerying),Object(v.__metadata)("design:type",J.a)],e.prototype,"querying$",void 0),e}(),ww=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-node-description{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-node-description--layout-drawer .view-node-description__body{margin-top:8px}.view-node-description--layout-column .view-node-description__body{margin-top:4px}.view-node-description__header{display:-webkit-box;display:flex}.view-node-description__title{font-size:18px;letter-spacing:.45px;line-height:1.4em;-webkit-box-flex:1;flex:1 1 auto;font-weight:600;align-self:center}.view-node-description--layout-drawer .view-node-description__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-node-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;color:var(--view-description-secondary-color)}.view-node-description__attribution{color:var(--view-description-secondary-color);margin-top:16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.view-node-description__actions{cursor:pointer;outline:0;border:none;background:0 0;padding:4px 8px}"]],data:{}});function Cw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"button",[["app-pin-button",""],["class","mr-1 mt-1"],["icon","arrow-left"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),cx,ox)),l.xb(1,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"arrow-left","small")}),null)}function jw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","view-node-description__body"]],[[2,"text-italic",null],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,!(null!=n.node&&n.node.description),n.formatHTML((null==n.node?null:n.node.description)||"No description available"))}))}function kw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","view-node-description__attribution"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Source: "])),(e()(),l.yb(2,0,null,null,1,"span",[["class","text-italic"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Wikipedia"]))],null,null)}function Sw(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,13,"div",[["class","view-node-description"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"view-node-description--layout-column":0,"view-node-description--layout-drawer":1}),(e()(),l.yb(4,0,null,null,4,"div",[["class","view-node-description__header"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Cw)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(7,0,null,null,1,"div",[["class","view-node-description__title"]],null,null,null,null,null)),(e()(),l.Sb(8,null,["",""])),(e()(),l.ob(16777216,null,null,2,null,jw)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,1,null,kw)),l.xb(13,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,"column"===n.layout,"drawer"===n.layout);e(t,2,0,"view-node-description",i),e(t,6,0,n.showClose),e(t,10,0,!l.Tb(t,10,0,l.Kb(t,11).transform(n.querying$))),e(t,13,0,null==n.node?null:n.node.description)}),(function(e,t){var n=t.component;e(t,8,0,null==n.node?null:n.node.label)}))}var Pw=function(){function e(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.ngUnsubscribe=new Z.a,this.viewLayout=Wy,this.application=i}return e.prototype.ngOnInit=function(){this.initLayoutObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initLayoutObserver=function(){var e=this;Object(hd.b)(this.layout$,this.chapter$).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.changeDetectorRef.markForCheck()}))},e.prototype.isVisible=function(e){return this.layoutService.isVisible(e)},e.prototype.handleSearchClick=function(){this.viewService.toggleSearch(!0)},Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),e}(),Mw=l.wb({encapsulation:2,styles:[[".view-column-container{pointer-events:none;height:100%;width:320px;position:fixed;left:0;top:0;z-index:30}.view-column-container app-view-column{position:absolute;left:0;top:0;height:100%;z-index:40}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-320px)"},offset:null},{type:4,styles:{type:6,styles:{transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-320px)"},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function Iw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-internal-header",[],null,null,null,Kv,Iv)),l.xb(1,245760,null,0,Mv,[d.a,O.i,l.i,Gc,us],null,null)],(function(e,t){e(t,1,0)}),null)}function Tw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,Ev,Uv)),l.xb(1,114688,null,0,zv,[],null,null),(e()(),l.yb(2,0,null,0,2,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Iw)),l.xb(4,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"]},null),(e()(),l.yb(5,0,null,1,2,null,null,null,null,null,null,null)),(e()(),l.yb(6,0,null,null,1,"app-view-content-mode",[["layout","column"]],null,null,null,vO,hO)),l.xb(7,245760,null,0,gO,[O.i,Zy,Gy,l.i],{layout:[0,"layout"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0,n.application.Viewer,"exclude"),e(t,7,0,"column")}),(function(e,t){e(t,0,0,void 0)}))}function Kw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,Ev,Uv)),l.xb(1,114688,null,0,zv,[],{unpadded:[0,"unpadded"]},null),(e()(),l.yb(2,0,null,1,1,"app-view-search",[],null,null,null,vw,_w)),l.xb(3,114688,null,0,xw,[Zy,O.i],null,null)],(function(e,t){e(t,1,0,!0),e(t,3,0)}),(function(e,t){e(t,0,0,void 0)}))}function zw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,Ev,Uv)),l.xb(1,114688,null,0,zv,[],null,null),(e()(),l.yb(2,0,null,1,1,"app-view-node-description",[["layout","column"]],null,null,null,Sw,ww)),l.xb(3,245760,null,0,Ow,[O.i,O.b,l.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,1,0),e(t,3,0,"column")}),(function(e,t){e(t,0,0,void 0)}))}function Uw(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,6,"div",[["class","view-column-container"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Tw)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Kw)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,zw)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isVisible(n.viewLayout.Column)),e(t,4,0,n.isVisible(n.viewLayout.Search)),e(t,6,0,n.isVisible(n.viewLayout.NodeInfo))}),null)}var Ew=function(){function e(){this.canExit=!1,this.padding="normal",this.orientation="horizontal",this.name="",this.exit=new l.o}return e.prototype.ngOnInit=function(){},e.prototype.handleExitClick=function(){this.exit.emit()},e}(),Lw=l.wb({encapsulation:2,styles:[[".pillbox{border-radius:32px;background-color:rgba(255,255,255,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background-color:var(--pillbox-bg);box-shadow:var(--pillbox-shadow);color:var(--pillbox-color);padding:6px 16px;display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;overflow:hidden;-webkit-transition:padding 150ms;transition:padding 150ms}.pillbox--padding-dense{padding:4px}.pillbox--padding-none{padding:0}.pillbox--vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.pillbox__divider{border-right:1px solid rgba(0,0,0,.1);border-right:var(--pillbox-border);height:18px;margin:0 8px}"]],data:{}});function Aw(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,0,"div",[["class","pillbox__divider"]],null,null,null,null,null)),(e()(),l.yb(2,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","times"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,4).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,4)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,4)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleExitClick()&&i),i}),cx,ox)),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.xb(4,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,3,0,"times","ghost"),e(t,4,0,"Close "+n.name)}),null)}function Fw(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,6,"div",[["class","pillbox"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"pillbox--padding-dense":0,"pillbox--padding-none":1,"pillbox--vertical":2}),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,Aw)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,"dense"===n.padding,"none"===n.padding,"vertical"===n.orientation);e(t,2,0,"pillbox",l),e(t,6,0,n.canExit)}),null)}var Dw,Nw=function(){function e(e,t){this.el=e,this.renderer=t}return e.prototype.ngOnInit=function(){Px()&&this.renderer.setStyle(this.el.nativeElement,"display","none")},e}(),Rw=n("4c35"),Bw=function(e){return e.Above="above",e.Below="below",e.Left="left",e.Right="right",e}({}),Hw=((Dw={})[Bw.Above]={originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-12},Dw[Bw.Below]={originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:12},Dw[Bw.Left]={originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-12},Dw[Bw.Right]={originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:12},Dw),Vw=function(){function e(e,t){this.overlay=e,this.injector=t}return e.prototype.open=function(e){var t=e.content,n=e.data,l=this.overlay.create(this.getOverlayConfig({origin:e.origin,width:e.width,height:e.height})),i=new bf(l,t,n),o=this.createInjector(i,this.injector);return l.attach(new Rw.c(gf,null,o)),i},e.prototype.createInjector=function(e,t){var n=new WeakMap([[bf,e]]);return new Rw.e(t,n)},e.prototype.getPositionStrategy=function(e,t){return this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t))},e.prototype.getOverlayConfig=function(e){return new nt.b({width:e.width,height:e.height,hasBackdrop:!0,backdropClass:"popup-scrim",positionStrategy:this.getOverlayPosition(e.origin),scrollStrategy:this.overlay.scrollStrategies.reposition()})},e.prototype.getOverlayPosition=function(e,t){return t=t||[Bw.Above,Bw.Below,Bw.Left,Bw.Right],this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t)).withPush(!0)},e.prototype.getPositions=function(e){return e.map((function(e){return Hw[e]}))},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(nt.a),l.Yb(l.q))},token:e,providedIn:"root"}),e}(),$w=function(e){return e[e.Main=0]="Main",e[e.Media=1]="Media",e[e.Tools=2]="Tools",e[e.Empty=3]="Empty",e}({}),Qw=function(e){return e[e.ViewToolbarMain=0]="ViewToolbarMain",e[e.ViewToolsPlay=1]="ViewToolsPlay",e[e.ViewToolsNewTab=2]="ViewToolsNewTab",e[e.ViewToolsFullscreen=3]="ViewToolsFullscreen",e[e.ViewToolsTools=4]="ViewToolsTools",e[e.ViewToolsSearch=5]="ViewToolsSearch",e[e.ViewToolsMediaBarToggle=6]="ViewToolsMediaBarToggle",e[e.ViewToolsPreviousChapter=7]="ViewToolsPreviousChapter",e[e.ViewToolsNextChapter=8]="ViewToolsNextChapter",e[e.ViewToolsChapterCount=9]="ViewToolsChapterCount",e[e.ViewToolsMore=10]="ViewToolsMore",e[e.EngineCameraBar=11]="EngineCameraBar",e}({}),Ww=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Gw=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ww(arguments[t]));return e},qw={stacksForChapter:{}},Yw=function(){function e(e){this.store=e}return e.canUndo=function(e,t){return e.stacksForChapter[t.selectedChapter].undoStack.length>0},e.canRedo=function(e,t){return e.stacksForChapter[t.selectedChapter].redoStack.length>0},e.prototype.reset=function(e,t){e.patchState(immer.produce(e.getState(),(function(e){e.stacksForChapter={}})))},e.prototype.undoAll=function(e,t){var n=e.getState();if(void 0!==n.stacksForChapter[t.chapterId]){var l=Gw(n.stacksForChapter[t.chapterId].undoStack).reverse(),i=l.reduce((function(e,t){return void 0===e[t.patchAction]&&(e[t.patchAction]={action:t.patchAction,patches:[]}),e[t.patchAction].patches=Gw(e[t.patchAction].patches,t.inverse),e}),{});Object.keys(i).forEach((function(t){e.dispatch(new i[t].action(i[t].patches))}));var o=immer.produce(n,(function(e){e.stacksForChapter[t.chapterId].undoStack=[],e.stacksForChapter[t.chapterId].redoStack=l}));e.patchState(o)}},e.prototype.preserveState=function(e,t){var n=this.store.selectSnapshot(Ac.getSelectedChapterId),l=immer.produce(e.getState(),(function(e){0===t.patches.forward.length&&0===t.patches.inverse.length||(void 0===e.stacksForChapter[n]&&(e.stacksForChapter[n]={redoStack:[],undoStack:[]}),e.stacksForChapter[n].redoStack=[],e.stacksForChapter[n].undoStack.push(t.patches))}));e.patchState(l)},e.prototype.redo=function(e,t){var n=e.getState(),l=Object(Et.get)(n.stacksForChapter[t.chapterId],"redoStack",[]);if(0!==l.length){var i=l[l.length-1],o=immer.produce(n,(function(e){e.stacksForChapter[t.chapterId].redoStack.pop(),e.stacksForChapter[t.chapterId].undoStack.push(i)}));e.patchState(o),e.dispatch(new i.patchAction(i.forward))}},e.prototype.undo=function(e,t){var n=e.getState(),l=Object(Et.get)(n.stacksForChapter[t.chapterId],"undoStack",[]);if(0!==l.length){var i=l[l.length-1],o=immer.produce(n,(function(e){e.stacksForChapter[t.chapterId].undoStack.pop(),e.stacksForChapter[t.chapterId].redoStack.push(i)}));e.patchState(o),e.dispatch(new i.patchAction(i.inverse))}},Object(v.__decorate)([Object(O.a)(tu.Reset),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,tu.Reset]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"reset",null),Object(v.__decorate)([Object(O.a)(tu.UndoAll),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,tu.UndoAll]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"undoAll",null),Object(v.__decorate)([Object(O.a)(tu.SavePatches),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,tu.SavePatches]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"preserveState",null),Object(v.__decorate)([Object(O.a)(tu.Redo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,tu.Redo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"redo",null),Object(v.__decorate)([Object(O.a)(tu.Undo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,tu.Undo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"undo",null),Object(v.__decorate)([Object(O.f)([Ac]),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,lc]),Object(v.__metadata)("design:returntype",Boolean)],e,"canUndo",null),Object(v.__decorate)([Object(O.f)([Ac]),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,lc]),Object(v.__metadata)("design:returntype",Boolean)],e,"canRedo",null),Object(v.__decorate)([Object(O.g)({name:"undo",defaults:qw})],e)}(),Xw=function(){function e(e,t,n,i,o){this.viewService=e,this.layoutService=t,this.store=n,this.changeDetectorRef=i,this.popupService=o,this.viewToolsMode=$w,this.viewLayout=Wy,this.breakpointEnum=Vy,this.testSelectors=Qw,this.canFullscreen=!0,this.isFullscreen=!1,this.toolEnum=ty,this.mediaControlsEnum=ry,this.ngUnsubscribe=new Z.a,this.animate=!0,this._mode=$w.Main,this.collapsePagination=!1,this.modeChange=new l.o}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.canFullscreen=kf.canFullscreen(),this.initLayoutListener(),this.initBreakpointListener(),this.initChapterListener(),this.initFullscreenListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initLayoutListener=function(){var e=this;this.store.select(My.getLayout).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.mediaTemplate=t.media.template,e.changeDetectorRef.markForCheck()}))},e.prototype.initBreakpointListener=function(){var e=this;this.store.select(Qy.getBreakpoint).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.breakpoint=t,e.changeDetectorRef.markForCheck()}))},e.prototype.initChapterListener=function(){var e=this;this.store.select(Ac.getSelectedChapterIndex).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.chaptersPopup&&e.chaptersPopup.close()}))},e.prototype.initFullscreenListener=function(){var e=this;this.fullscreen$=kf.onFullscreenChange(),this.fullscreen$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.isFullscreen=kf.isFullscreen(),e.changeDetectorRef.markForCheck()}))},e.prototype.handleSelectTool=function(e){this.viewService.selectTool(e)},e.prototype.handleUndoClick=function(){this.viewService.undo()},e.prototype.handleRedoClick=function(){this.viewService.redo()},e.prototype.handleToggleLabelsClick=function(){this.viewService.toggleLabels()},e.prototype.handleFullscreenClick=function(){kf.toggleFullscreen()},e.prototype.handleSearchClick=function(){this.viewService.toggleSearch()},e.prototype.handlePlayClick=function(){this.viewService.toggleAnimation()},e.prototype.handleAudioClick=function(){this.viewService.toggleAudio()},e.prototype.handlePresentClick=function(){this.viewService.togglePresentation()},e.prototype.handleTutorialClick=function(){this.viewService.toggleTutorial(!0)},e.prototype.handleHelpBasicsClick=function(){this.viewService.toggleHelp(!0,ne.Basics)},e.prototype.handleHelpShortcutsClick=function(){this.viewService.toggleHelp(!0,ne.Shortcuts)},e.prototype.handleMenuClick=function(){this.store.dispatch(new y.ToggleMenu(!0))},e.prototype.handleNewTabClick=function(){this.viewService.openInNewTab()},e.prototype.handlePreviousClick=function(){this.viewService.previousChapter()},e.prototype.handleNextClick=function(){this.viewService.nextChapter()},e.prototype.handleChapterCountClick=function(){this.toggleChaptersPopup()},e.prototype.handleMediaClick=function(){this.toggleMediaPopup()},e.prototype.toggleChaptersPopup=function(){var e=this;this.chaptersPopup?this.chaptersPopup.close():(this.chaptersPopup=this.popupService.open({origin:this.chapterCount.nativeElement,content:Mf,width:"300px"}),this.chaptersPopup.afterClosed$.pipe(Object(ee.a)(this.ngUnsubscribe),Object(ud.a)(1)).subscribe((function(t){e.chaptersPopup=null})))},e.prototype.toggleMediaPopup=function(){var e=this;this.mediaPopup?this.mediaPopup.close():(this.mediaPopup=this.popupService.open({origin:this.mediaToggle.nativeElement,content:hx,width:"300px"}),this.mediaPopup.afterClosed$.pipe(Object(ee.a)(this.ngUnsubscribe),Object(ud.a)(1)).subscribe((function(t){e.mediaPopup=null})))},e.prototype.toggleToolbar=function(e){var t=this.store.selectSnapshot(My.getLayout);t.media.status=ay.Hide,t.tools.status=ay.Hide,t.toolbar.status=ay.Hide,t[e].status=ay.Show,this.store.dispatch(new y.SetLayout(t))},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.isVisible=function(e){return this.layoutService.isVisible(e)},Object(v.__decorate)([Object(O.e)(oy.getActiveTool),Object(v.__metadata)("design:type",J.a)],e.prototype,"activeTool$",void 0),Object(v.__decorate)([Object(O.e)(My.getPresentationActive),Object(v.__metadata)("design:type",J.a)],e.prototype,"presentationActive$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getIsChapterAnimated),Object(v.__metadata)("design:type",J.a)],e.prototype,"isChapterAnimated$",void 0),Object(v.__decorate)([Object(O.e)(oy.getShowLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"showLabels$",void 0),Object(v.__decorate)([Object(O.e)(oy.getAnimationPlaying),Object(v.__metadata)("design:type",J.a)],e.prototype,"animationPlaying$",void 0),Object(v.__decorate)([Object(O.e)(oy.getPlayAudio),Object(v.__metadata)("design:type",J.a)],e.prototype,"playAudio$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getChapterLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"labels$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterTitle),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterTitle$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterIndex),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterIndex$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getNextChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"nextChapter$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getPreviousChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"previousChapter$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getChapterCount),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterCount$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterAudio),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterAudio$",void 0),Object(v.__decorate)([Object(O.e)(Yw.canUndo),Object(v.__metadata)("design:type",J.a)],e.prototype,"canUndo$",void 0),Object(v.__decorate)([Object(O.e)(Yw.canRedo),Object(v.__metadata)("design:type",J.a)],e.prototype,"canRedo$",void 0),Object(v.__decorate)([Object(O.e)(My.getCanTouch),Object(v.__metadata)("design:type",J.a)],e.prototype,"canTouch$",void 0),e}(),Zw=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-tools{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;overflow:hidden}@-webkit-keyframes viewToolsToggle{0%,100%{opacity:1}50%{opacity:0}}@keyframes viewToolsToggle{0%,100%{opacity:1}50%{opacity:0}}.view-tools--swap{-webkit-animation:.3s ease-in-out viewToolsToggle;animation:.3s ease-in-out viewToolsToggle}.view-tools--dense .view-tools__divider{margin:4px}.view-tools__inner{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.view-tools__group{border-right:var(--view-tools-border);padding:0 8px;display:-webkit-box;display:flex}.view-tools__group:empty{display:none}.view-tools__group:empty:first-of-type+.view-tools__group:not(:empty),.view-tools__group:first-of-type{padding-left:0}.view-tools__group:last-of-type{border-right:none;padding-right:0}.view-tools__item{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.view-tools__item:not(:last-child){margin-right:4px}.view-tools__divider{border-right:var(--view-tools-border);margin:4px 8px}.view-tools__count{font-size:12px;letter-spacing:.3px;line-height:1.4em;white-space:nowrap}"]],data:{}});function Jw(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Open Explore Tools"],["buttonType","ghost"],["class","view-tools__item"],["icon","pen"],["matTooltip","Open Explore Tools"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.toggleToolbar("tools")&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open Explore Tools"),e(t,2,0,"pen","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsTools)}))}function eC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Open Search"],["buttonType","ghost"],["class","view-tools__item"],["icon","search"],["matTooltip","Open Search"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleSearchClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open Search"),e(t,2,0,"search","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsSearch)}))}function tC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","expand"]],[[1,"data-test",0],[1,"aria-label",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleFullscreenClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,t.component.isFullscreen?"Exit Fullscreen":"Enter Fullscreen"),e(t,2,0,"expand","ghost")}),(function(e,t){var n=t.component;e(t,0,0,n.testSelectors.ViewToolsFullscreen,n.isFullscreen?"Exit Fullscreen":"Enter Fullscreen")}))}function nC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Open in New Tab"],["buttonType","ghost"],["class","view-tools__item"],["icon","external-link"],["matTooltip","Open in New Tab"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleNewTabClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open in New Tab"),e(t,2,0,"external-link","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsNewTab)}))}function lC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Jw)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,eC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,tC)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,nC)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isEnabled(n.viewLayout.Tools)),e(t,4,0,n.isEnabled(n.viewLayout.Search)),e(t,6,0,n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen)),e(t,8,0,!n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen))}),null)}function iC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["aria-label","Open Media Bar"],["buttonType","ghost"],["class","view-tools__item"],["matTooltip","Open Media Bar"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.toggleToolbar("media")&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(2,114688,null,0,ix,[],{buttonType:[0,"buttonType"]},null),(e()(),l.yb(3,0,null,0,1,"app-view-scrubber",[["style","width: 16px"]],null,null,null,gx,bx)),l.xb(4,245760,null,0,dx,[uu,Bu,l.I,Zy,l.i,O.i],{showHandle:[0,"showHandle"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open Media Bar"),e(t,2,0,"ghost"),e(t,4,0,!1)}),null)}function oC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleAudioClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.playAudio$))?"Mute Audio":"Play Audio"),e(t,3,0,l.Tb(t,3,0,l.Kb(t,4).transform(n.playAudio$))?"volume":"volume-slash","ghost")}),null)}function aC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,10,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,5,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"]],[[1,"data-test",0],[1,"aria-label",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handlePlayClick()&&i),i}),cx,ox)),l.xb(2,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(4,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,1,null,iC)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,oC)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,l.Tb(t,2,0,l.Kb(t,3).transform(n.animationPlaying$))?"Pause Animation":"Play Animation"),e(t,4,0,l.Tb(t,4,0,l.Kb(t,5).transform(n.animationPlaying$))?"pause":"play","ghost"),e(t,8,0,n.mediaTemplate===n.mediaControlsEnum.Full),e(t,10,0,n.isVisible(n.viewLayout.Audio))}),(function(e,t){var n=t.component;e(t,1,0,n.testSelectors.ViewToolsPlay,l.Tb(t,1,1,l.Kb(t,6).transform(n.animationPlaying$))?"Pause Animation":"Play Animation")}))}function rC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,10,"button",[["app-pin-button",""],["aria-label","Toggle Chapter List"],["buttonType","ghost"]],[[1,"data-test",0],[1,"visible",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleChapterCountClick()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(2,114688,null,0,ix,[],{buttonType:[0,"buttonType"]},null),(e()(),l.yb(3,0,null,0,3,"div",[["aria-hidden","true"],["class","ph-2 text-bold"],["style","white-space: nowrap;"]],null,null,null,null,null)),(e()(),l.Sb(4,null,[" "," / "," "])),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(7,0,null,0,3,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Sb(8,null,[" Toggle Chapter List, Chapter "," of "," "])),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,t.component.chaptersPopup?"Close Chapter List":"Open Chapter List"),e(t,2,0,"ghost")}),(function(e,t){var n=t.component;e(t,0,0,n.testSelectors.ViewToolsChapterCount,n.breakpoint!==n.breakpointEnum.Small),e(t,4,0,l.Tb(t,4,0,l.Kb(t,5).transform(n.chapterIndex$))+1,l.Tb(t,4,1,l.Kb(t,6).transform(n.chapterCount$))),e(t,8,0,l.Tb(t,8,0,l.Kb(t,9).transform(n.chapterIndex$))+1,l.Tb(t,8,1,l.Kb(t,10).transform(n.chapterCount$)))}))}function uC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,19,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,6,"button",[["app-pin-button",""],["aria-label","Previous Chapter"],["buttonType","ghost"],["class","view-tools__item"],["icon","arrow-left"]],[[1,"data-test",0],[1,"aria-disabled",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handlePreviousClick()&&i),i}),cx,ox)),l.xb(2,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.xb(5,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(8,0,[[1,0],["chapterCount",1]],null,2,"div",[["class","view-tools__item"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,rC)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(11,16777216,null,null,8,"button",[["app-pin-button",""],["aria-label","Next Chapter"],["buttonType","ghost"],["class","view-tools__item"],["icon","arrow-right"]],[[1,"data-test",0],[1,"aria-disabled",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,12).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,12)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,12)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleNextClick()&&i),i}),cx,ox)),l.xb(12,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.xb(15,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component,i=null;e(t,2,0,l.Tb(t,2,0,l.Kb(t,3).transform(n.previousChapter$))?"Previous: "+(null==(i=l.Tb(t,2,0,l.Kb(t,4).transform(n.previousChapter$)))?null:i.info.displayName):""),e(t,5,0,"arrow-left","ghost",0===l.Tb(t,5,2,l.Kb(t,6).transform(n.chapterIndex$))),e(t,10,0,!n.collapsePagination);var o=null;e(t,12,0,l.Tb(t,12,0,l.Kb(t,13).transform(n.nextChapter$))?"Next: "+(null==(o=l.Tb(t,12,0,l.Kb(t,14).transform(n.nextChapter$)))?null:o.info.displayName):""),e(t,15,0,"arrow-right","ghost",l.Tb(t,15,2,l.Kb(t,16).transform(n.chapterIndex$))===l.Tb(t,15,2,l.Kb(t,17).transform(n.chapterCount$))-1)}),(function(e,t){var n=t.component;e(t,1,0,n.testSelectors.ViewToolsPreviousChapter,0===l.Tb(t,1,1,l.Kb(t,7).transform(n.chapterIndex$))),e(t,11,0,n.testSelectors.ViewToolsNextChapter,l.Tb(t,11,1,l.Kb(t,18).transform(n.chapterIndex$))===l.Tb(t,11,1,l.Kb(t,19).transform(n.chapterCount$))-1)}))}function cC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,3,"button",[["app-pin-button",""],["aria-haspopup","true"],["aria-label","More Options"],["buttonType","ghost"],["class","view-tools__item mat-menu-trigger"],["icon","ellipsis-v"],["matTooltip","More Options"]],[[1,"data-test",0],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"],[null,"longpress"],[null,"touchend"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Kb(e,2)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,2)._handleClick(n)&&i),"longpress"===t&&(i=!1!==l.Kb(e,3).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,3)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,3)._handleTouchend()&&i),i}),cx,ox)),l.xb(2,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[8,null],[2,lt.b],ve.e],{menu:[0,"menu"]},null),l.xb(3,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(4,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null)],(function(e,t){e(t,2,0,l.Kb(t.parent.parent,10)),e(t,3,0,"More Options"),e(t,4,0,"ellipsis-v","ghost")}),(function(e,t){e(t,1,0,t.component.testSelectors.ViewToolsMore,l.Kb(t,2).menuOpen||null)}))}function sC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,lC)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,aC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,uC)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,1,null,cC)),l.xb(9,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.breakpoint>=n.breakpointEnum.Large),e(t,4,0,n.isVisible(n.viewLayout.Mediabar)),e(t,6,0,l.Tb(t,6,0,l.Kb(t,7).transform(n.chapterCount$))>1&&n.isEnabled(n.viewLayout.Pagination)),e(t,9,0,n.isEnabled(n.viewLayout.Menu))}),null)}function pC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,14,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,13,"div",[["class","flex"],["role","radiogroup"]],null,null,null,null,null)),(e()(),l.yb(2,16777216,null,null,3,"button",[["app-pin-button",""],["aria-label","Select"],["buttonType","ghost"],["class","view-tools__item"],["icon","mouse-pointer"],["matTooltip","Select"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,3).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,3)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,3)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleSelectTool(o.toolEnum.Select)&&i),i}),cx,ox)),l.xb(3,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(4,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(6,16777216,null,null,3,"button",[["app-pin-button",""],["aria-label","Hide"],["buttonType","ghost"],["class","view-tools__item"],["icon","eye-slash"],["matTooltip","Hide"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,7).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,7)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,7)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleSelectTool(o.toolEnum.Hide)&&i),i}),cx,ox)),l.xb(7,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(8,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(10,16777216,null,null,4,"button",[["app-pin-button",""],["appHideIE11",""],["aria-label","Fade"],["buttonType","ghost"],["class","view-tools__item"],["icon","adjust"],["matTooltip","Fade"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,11).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,11)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,11)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleSelectTool(o.toolEnum.Fade)&&i),i}),cx,ox)),l.xb(11,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{message:[0,"message"]},null),l.xb(12,114688,null,0,ix,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(14,81920,null,0,Nw,[l.l,l.I],null,null)],(function(e,t){var n=t.component;e(t,3,0,"Select"),e(t,4,0,"mouse-pointer","ghost",l.Tb(t,4,2,l.Kb(t,5).transform(n.activeTool$))===n.toolEnum.Select),e(t,7,0,"Hide"),e(t,8,0,"eye-slash","ghost",l.Tb(t,8,2,l.Kb(t,9).transform(n.activeTool$))===n.toolEnum.Hide),e(t,11,0,"Fade"),e(t,12,0,"adjust","ghost",l.Tb(t,12,2,l.Kb(t,13).transform(n.activeTool$))===n.toolEnum.Fade),e(t,14,0)}),null)}function dC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Kb(e,2)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Kb(e,2)._handleClick(n)&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),l.xb(2,1196032,null,0,Ue.g,[nt.a,l.l,l.T,Ue.c,[2,Ue.d],[6,Ue.e],[2,lt.b],ve.e],{menu:[0,"menu"]},null),(e()(),l.Sb(-1,0,[" Help "])),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,2,0,l.Kb(t.parent,40))}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null,l.Kb(t,2).menuOpen||null)}))}function bC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,["Hide labels"]))],null,null)}function gC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,["Show labels"]))],null,null)}function hC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.toggleToolbar("tools")&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.yb(2,0,null,0,1,"app-icon",[["icon","pen"]],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Open Explore Tools"]))],(function(e,t){e(t,3,0,"pen")}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function mC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleSearchClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.yb(2,0,null,0,1,"app-icon",[["icon","search"]],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Open Search"]))],(function(e,t){e(t,3,0,"search")}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function fC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Exit Fullscreen"]))],null,null)}function yC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Enter Fullscreen"]))],null,null)}function xC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleFullscreenClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.yb(2,0,null,0,1,"app-icon",[["icon","expand"]],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.ob(16777216,null,0,1,null,fC)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,0,1,null,yC)),l.xb(7,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,"expand"),e(t,5,0,n.isFullscreen),e(t,7,0,!n.isFullscreen)}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function _C(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleNewTabClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.yb(2,0,null,0,1,"app-icon",[["icon","external-link"]],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Open in New Tab"]))],(function(e,t){e(t,3,0,"external-link")}),(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function vC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(2,49152,null,0,Zg.a,[],null,null),(e()(),l.ob(16777216,null,null,1,null,xC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,_C)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,4,0,n.canFullscreen),e(t,6,0,!n.canFullscreen)}),(function(e,t){e(t,1,0,l.Kb(t,2).vertical?"vertical":"horizontal",l.Kb(t,2).vertical,!l.Kb(t,2).vertical,l.Kb(t,2).inset)}))}function OC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(2,49152,null,0,Zg.a,[],null,null),(e()(),l.ob(16777216,null,null,1,null,hC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,mC)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,vC)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,4,0,n.isEnabled(n.viewLayout.Tools)),e(t,6,0,n.isEnabled(n.viewLayout.Search)),e(t,8,0,n.isEnabled(n.viewLayout.Fullscreen))}),(function(e,t){e(t,1,0,l.Kb(t,2).vertical?"vertical":"horizontal",l.Kb(t,2).vertical,!l.Kb(t,2).vertical,l.Kb(t,2).inset)}))}function wC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleHelpShortcutsClick()&&i),i}),ze.c,ze.a)),l.xb(1,180224,[[6,4],[7,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Keyboard Shortcuts"]))],null,(function(e,t){e(t,0,0,l.Kb(t,1).role,l.Kb(t,1)._highlighted,l.Kb(t,1)._triggersSubmenu,l.Kb(t,1)._getTabIndex(),l.Kb(t,1).disabled.toString(),l.Kb(t,1).disabled||null)}))}function CC(e){return l.Ub(2,[l.Qb(671088640,1,{chapterCount:0}),l.Qb(671088640,2,{mediaToggle:0}),(e()(),l.yb(2,0,null,null,4,"div",[["aria-label","Tools"],["class","view-tools"],["role","toolbar"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,sC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,pC)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(7,0,null,null,31,"mat-menu",[],null,null,null,ze.d,ze.b)),l.Pb(6144,null,Ue.d,null,[Ue.h]),l.Pb(6144,null,Ue.b,null,[Ue.d]),l.xb(10,1294336,[["moreMenu",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,3,{_allItems:1}),l.Qb(603979776,4,{items:1}),l.Qb(603979776,5,{lazyContent:0}),(e()(),l.ob(16777216,null,0,1,null,dC)),l.xb(15,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(16,0,null,0,8,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,17)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,17)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleToggleLabelsClick()&&i),i}),ze.c,ze.a)),l.xb(17,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],{disabled:[0,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,bC)),l.xb(20,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,gC)),l.xb(23,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(25,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Xg.b,Xg.a)),l.xb(26,49152,null,0,Zg.a,[],null,null),(e()(),l.yb(27,0,null,0,4,"button",[["class","mat-menu-item"],["data-test","undo-btn"],["mat-menu-item",""]],[[1,"aria-disabled",0],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,28)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,28)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleUndoClick()&&i),i}),ze.c,ze.a)),l.xb(28,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],{disabled:[0,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.Sb(-1,0,["Undo"])),(e()(),l.yb(32,0,null,0,4,"button",[["class","mat-menu-item"],["data-test","redo-btn"],["mat-menu-item",""]],[[1,"aria-disabled",0],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,33)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,33)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleRedoClick()&&i),i}),ze.c,ze.a)),l.xb(33,180224,[[3,4],[4,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],{disabled:[0,"disabled"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.Sb(-1,0,["Redo"])),(e()(),l.ob(16777216,null,0,1,null,OC)),l.xb(38,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(39,0,null,null,15,"mat-menu",[],null,null,null,ze.d,ze.b)),l.xb(40,1294336,[["helpMenu",4]],3,Ue.h,[l.l,l.C,Ue.a],null,null),l.Qb(603979776,6,{_allItems:1}),l.Qb(603979776,7,{items:1}),l.Qb(603979776,8,{lazyContent:0}),l.Pb(2048,null,Ue.d,null,[Ue.h]),l.Pb(2048,null,Ue.b,null,[Ue.d]),(e()(),l.yb(46,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,47)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,47)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleTutorialClick()&&i),i}),ze.c,ze.a)),l.xb(47,180224,[[6,4],[7,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["Launch Tutorial"])),(e()(),l.yb(49,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==l.Kb(e,50)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Kb(e,50)._handleMouseEnter()&&i),"click"===t&&(i=!1!==o.handleHelpBasicsClick()&&i),i}),ze.c,ze.a)),l.xb(50,180224,[[6,4],[7,4]],0,Ue.e,[l.l,ce.d,ve.e,[2,Ue.b]],null,null),(e()(),l.Sb(-1,0,["3D Navigation Basics"])),(e()(),l.ob(16777216,null,0,2,null,wC)),l.xb(53,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n,i=t.component;e(t,4,0,i.mode===i.viewToolsMode.Main),e(t,6,0,i.mode===i.viewToolsMode.Tools),e(t,10,0),e(t,15,0,i.isEnabled(i.viewLayout.Help)),e(t,17,0,!(null!=(n=l.Tb(t,17,0,l.Kb(t,18).transform(i.labels$)))&&n.length)),e(t,20,0,l.Tb(t,20,0,l.Kb(t,21).transform(i.showLabels$))),e(t,23,0,!l.Tb(t,23,0,l.Kb(t,24).transform(i.showLabels$))),e(t,28,0,!l.Tb(t,28,0,l.Kb(t,29).transform(i.canUndo$))),e(t,33,0,!l.Tb(t,33,0,l.Kb(t,34).transform(i.canRedo$))),e(t,38,0,i.breakpoint<=i.breakpointEnum.Medium),e(t,40,0),e(t,53,0,!l.Tb(t,53,0,l.Kb(t,54).transform(i.canTouch$)))}),(function(e,t){var n=t.component;e(t,16,0,l.Kb(t,17).role,l.Kb(t,17)._highlighted,l.Kb(t,17)._triggersSubmenu,l.Kb(t,17)._getTabIndex(),l.Kb(t,17).disabled.toString(),l.Kb(t,17).disabled||null),e(t,25,0,l.Kb(t,26).vertical?"vertical":"horizontal",l.Kb(t,26).vertical,!l.Kb(t,26).vertical,l.Kb(t,26).inset),e(t,27,0,!l.Tb(t,27,0,l.Kb(t,30).transform(n.canUndo$)),l.Kb(t,28).role,l.Kb(t,28)._highlighted,l.Kb(t,28)._triggersSubmenu,l.Kb(t,28)._getTabIndex(),l.Kb(t,28).disabled.toString(),l.Kb(t,28).disabled||null),e(t,32,0,!l.Tb(t,32,0,l.Kb(t,35).transform(n.canRedo$)),l.Kb(t,33).role,l.Kb(t,33)._highlighted,l.Kb(t,33)._triggersSubmenu,l.Kb(t,33)._getTabIndex(),l.Kb(t,33).disabled.toString(),l.Kb(t,33).disabled||null),e(t,46,0,l.Kb(t,47).role,l.Kb(t,47)._highlighted,l.Kb(t,47)._triggersSubmenu,l.Kb(t,47)._getTabIndex(),l.Kb(t,47).disabled.toString(),l.Kb(t,47).disabled||null),e(t,49,0,l.Kb(t,50).role,l.Kb(t,50)._highlighted,l.Kb(t,50)._triggersSubmenu,l.Kb(t,50)._getTabIndex(),l.Kb(t,50).disabled.toString(),l.Kb(t,50).disabled||null)}))}var jC=function(){function e(e,t,n,l){this.store=e,this.changeDetectorRef=t,this.layoutService=n,this.viewService=l,this.canExit=!0,this.mode=$w.Main,this.lockMode=!1,this.position="center",this.ngUnsubscribe=new Z.a,this.breakpoint=Vy,this.viewToolsMode=$w,this.viewLayout=Wy,this.testSelectors=Qw,this.collapsePagination=!1}return e.prototype.ngOnInit=function(){this.initLayoutListener(),this.initBreakpointListener()},e.prototype.initLayoutListener=function(){var e=this;this.store.select(My.getLayout).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.lockMode||(e.mode=$w.Main,e.layoutService.isLayoutVisible(Wy.Media)&&(e.mediaTemplate=t.media.template,e.mode=$w.Media),e.layoutService.isToolsVisible()&&(e.mode=$w.Tools),e.changeDetectorRef.markForCheck())}))},e.prototype.initBreakpointListener=function(){var e=this;this.store.select(Qy.getBreakpoint).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.collapsePagination=t<Vy.Small,e.changeDetectorRef.markForCheck()}))},e.prototype.handleExitClick=function(){var e=this.store.selectSnapshot(My.getLayout);e.media.status=ay.Hide,e.tools.status=ay.Hide,this.viewService.selectTool(ty.Select),this.store.dispatch(new y.SetLayout(e))},e}(),kC=l.wb({encapsulation:2,styles:[[".view-toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:0}"]],data:{animation:[{type:7,name:"inOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(200px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateY(200px)",opacity:0},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function SC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"div",[["class","view-toolbar"]],[[1,"data-test",0],[24,"@inOutAnimation",0]],null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.yb(3,0,null,null,4,"app-pillbox",[["name","Primary Toolbar"],["padding","dense"]],null,null,null,Fw,Lw)),l.xb(4,114688,null,0,Ew,[],{padding:[0,"padding"],name:[1,"name"]},null),(e()(),l.yb(5,0,null,0,2,"app-view-tools",[],null,[[null,"modeChange"]],(function(e,t,n){var l=!0;return"modeChange"===t&&(l=!1!==e.component.handleModeChange(n)&&l),l}),CC,Zw)),l.Pb(512,null,Vw,Vw,[nt.a,l.t]),l.xb(7,245760,null,0,Xw,[Zy,Gy,O.i,l.i,Vw],{mode:[0,"mode"],collapsePagination:[1,"collapsePagination"]},{modeChange:"modeChange"})],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,"dense","Primary Toolbar"),e(t,7,0,n.viewToolsMode.Main,n.collapsePagination)}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolbarMain,void 0)}))}function PC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","view-toolbar"]],[[24,"@inOutAnimation",0]],null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.yb(3,0,null,null,3,"app-pillbox",[["name","Media Bar"],["padding","dense"]],null,[[null,"exit"]],(function(e,t,n){var l=!0;return"exit"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),Fw,Lw)),l.xb(4,114688,null,0,Ew,[],{canExit:[0,"canExit"],padding:[1,"padding"],name:[2,"name"]},{exit:"exit"}),(e()(),l.yb(5,0,null,0,1,"app-view-media-bar",[],null,null,null,Ox,mx)),l.xb(6,245760,null,0,hx,[Bu,Zy,Gy],{template:[0,"template"]},null)],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,n.canExit,"dense","Media Bar"),e(t,6,0,n.mediaTemplate)}),(function(e,t){e(t,0,0,void 0)}))}function MC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"div",[["class","view-toolbar"]],[[24,"@inOutAnimation",0]],null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.yb(3,0,null,null,4,"app-pillbox",[["name","Explore Tools"],["padding","dense"]],null,[[null,"exit"]],(function(e,t,n){var l=!0;return"exit"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),Fw,Lw)),l.xb(4,114688,null,0,Ew,[],{canExit:[0,"canExit"],padding:[1,"padding"],name:[2,"name"]},{exit:"exit"}),(e()(),l.yb(5,0,null,0,2,"app-view-tools",[],null,null,null,CC,Zw)),l.Pb(512,null,Vw,Vw,[nt.a,l.t]),l.xb(7,245760,null,0,Xw,[Zy,Gy,O.i,l.i,Vw],{mode:[0,"mode"]},null)],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,n.canExit,"dense","Explore Tools"),e(t,7,0,n.viewToolsMode.Tools)}),(function(e,t){e(t,0,0,void 0)}))}function IC(e){return l.Ub(2,[l.Qb(671088640,1,{viewToolbar:0}),(e()(),l.yb(1,0,null,null,7,null,null,null,null,null,null,null)),l.xb(2,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,SC)),l.xb(4,16384,null,0,ce.s,[l.T,l.Q,ce.q],null,null),(e()(),l.ob(16777216,null,null,1,null,PC)),l.xb(6,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,MC)),l.xb(8,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.mode),e(t,6,0,n.viewToolsMode.Media),e(t,8,0,n.viewToolsMode.Tools)}),null)}var TC=function(){function e(){this.logoSize="full",this.logoColor="color",this.isLight=!0,this.breakpoint=Vy,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){},Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterBackground),Object(v.__metadata)("design:type",J.a)],e.prototype,"background$",void 0),Object(v.__decorate)([Object(O.e)(Qy.getBreakpoint),Object(v.__metadata)("design:type",J.a)],e.prototype,"breakpoint$",void 0),e}(),KC=l.wb({encapsulation:2,styles:[[".view-logo--small-color{width:28px;height:44px;background:url(logo-color.e5306d37dd40b7ac98d4.svg) center center no-repeat}.view-logo--full-color{width:112px;height:44px;background:url(powered-by-biodigital-color.1af4a9f2cdc7d71b94c9.svg) center center no-repeat}.view-logo--small-white{width:28px;height:44px;background:url(logo-white.6874afd084344cc1654d.svg) center center no-repeat}.view-logo--full-white{width:112px;height:44px;background:url(powered-by-biodigital-white.30ab6344e33c0a48a1fa.svg) center center no-repeat}.view-logo:not([hidden]){display:-webkit-box;display:flex}.view-logo[href]:hover{cursor:pointer}"]],data:{}});function zC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,5,"a",[["class","view-logo"],["href","https://www.biodigital.com"],["tabindex","-1"],["target","_blank"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"view-logo--full-color":0,"view-logo--full-white":1,"view-logo--small-color":2,"view-logo--small-white":3}),(e()(),l.yb(5,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Powered by Biodigital"]))],(function(e,t){var n=t.component,l=e(t,4,0,"color"===n.logoColor&&"full"===n.logoSize,"white"===n.logoColor&&"full"===n.logoSize,"color"===n.logoColor&&"small"===n.logoSize,"white"===n.logoColor&&"small"===n.logoSize);e(t,3,0,"view-logo",l)}),null)}function UC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,5,"span",[["class","view-logo"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"view-logo--full-color":0,"view-logo--full-white":1,"view-logo--small-color":2,"view-logo--small-white":3}),(e()(),l.yb(5,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Powered by Biodigital"]))],(function(e,t){var n=t.component,l=e(t,4,0,"color"===n.logoColor&&"full"===n.logoSize,"white"===n.logoColor&&"full"===n.logoSize,"color"===n.logoColor&&"small"===n.logoSize,"white"===n.logoColor&&"small"===n.logoSize);e(t,3,0,"view-logo",l)}),null)}function EC(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,2,null,zC)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,UC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n,i,o=t.component;e(t,1,0,null==(n=l.Tb(t,1,0,l.Kb(t,2).transform(o.layout$)))?null:n.logo.isHyperLink),e(t,4,0,!(null!=(i=l.Tb(t,4,0,l.Kb(t,5).transform(o.layout$)))&&i.logo.isHyperLink))}),null)}var LC=function(){function e(e){this.store=e,this.showNav=!0,this.showZoom=!0,this.showPan=!0,this.showResetPosition=!0,this.showResetScene=!0,this.viewLayout=Wy,this.toolEnum=ty,this.testSelectors=Qw,this.expandNav=!1,this.breakpointEnum=Vy,this.padding="none",this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setZoom=function(e){var t=""===e?0:8;this.store.dispatch(new Nf(t="in"===e?-t:t))},e.prototype.returnToChapterCamera=function(){var e=this.store.selectSnapshot(Ac.getSelectedChapter);this.store.dispatch(new Lf(e.camera.location))},e.prototype.resetChapter=function(){this.returnToChapterCamera();var e=this.store.selectSnapshot(Ac.getSelectedChapterId);this.store.dispatch(new tu.UndoAll(e)),this.store.dispatch(new eu.UpdateNodesChecked(!1)),this.store.dispatch(new To)},e.prototype.centerCamera=function(){this.store.dispatch(new Ei)},e.prototype.togglePan=function(){var e="pan"===this.store.selectSnapshot(ey.getPanMode)?"rotate":"pan";this.store.dispatch(new Gf(e))},e.prototype.toggleNav=function(){this.expandNav=!this.expandNav},Object(v.__decorate)([Object(O.e)(ey.getPanMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"panMode$",void 0),Object(v.__decorate)([Object(O.e)(Yw.canUndo),Object(v.__metadata)("design:type",J.a)],e.prototype,"canResetChapter$",void 0),Object(v.__decorate)([Object(O.e)(Qy.getBreakpoint),Object(v.__metadata)("design:type",J.a)],e.prototype,"breakpoint$",void 0),e}(),AC=l.wb({encapsulation:2,styles:[[":host{position:relative}.camera-bar{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.camera-bar button:not(:first-child){margin-top:4px}.camera-bar__nav{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow:hidden;-webkit-transition:height 150ms ease-in-out;transition:height 150ms ease-in-out;-webkit-box-pack:justify;justify-content:space-between}"]],data:{animation:[{type:7,name:"expand",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:0},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"150ms ease-in-out"}],options:null}],options:null},{type:1,expr:":leave",animation:[{type:2,steps:[{type:4,styles:{type:6,styles:{height:"0"},offset:null},timings:"150ms ease-in-out"}],options:null}],options:null}],options:{}},{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"125ms ease-in-out"}],options:null}],options:null},{type:1,expr:":leave",animation:[{type:2,steps:[{type:4,styles:{type:6,styles:{height:"0"},offset:null},timings:"125ms 125ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function FC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,5,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","arrows-alt"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0],[1,"aria-label",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.togglePan()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],selected:[3,"selected"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"left","pan"===l.Tb(t,1,1,l.Kb(t,2).transform(n.panMode$))?"Switch to Rotate Mode":"Switch to Pan Mode"),e(t,3,0,"arrows-alt","medium","ghost","pan"===l.Tb(t,3,3,l.Kb(t,4).transform(n.panMode$)))}),(function(e,t){var n=t.component;e(t,0,0,n.expandNav?0:-1,"pan"===l.Tb(t,0,1,l.Kb(t,5).transform(n.panMode$))?"Switch to Rotate Mode":"Switch to Pan Mode")}))}function DC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Zoom In"],["buttonType","ghost"],["icon","plus"],["matTooltip","Zoom In"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"mouseup"],[null,"mouseleave"],[null,"longpress"],[null,"keydown"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"touchstart"===t&&(i=!1!==o.setZoom("in")&&i),"mousedown"===t&&(i=!1!==o.setZoom("in")&&i),"touchend"===t&&(i=!1!==o.setZoom("")&&i),"mouseup"===t&&(i=!1!==o.setZoom("")&&i),"mouseleave"===t&&(i=!1!==o.setZoom("")&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"left","Zoom In"),e(t,2,0,"plus","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function NC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Zoom Out"],["buttonType","ghost"],["icon","minus"],["matTooltip","Zoom Out"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"mouseup"],[null,"mouseleave"],[null,"longpress"],[null,"keydown"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"touchstart"===t&&(i=!1!==o.setZoom("out")&&i),"mousedown"===t&&(i=!1!==o.setZoom("out")&&i),"touchend"===t&&(i=!1!==o.setZoom("")&&i),"mouseup"===t&&(i=!1!==o.setZoom("")&&i),"mouseleave"===t&&(i=!1!==o.setZoom("")&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"left","Zoom Out"),e(t,2,0,"minus","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function RC(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Recenter 3D model"],["buttonType","ghost"],["icon","dot-circle"],["matTooltip","Recenter 3D model"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.returnToChapterCamera()&&i),i}),cx,ox)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(2,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"left","Recenter 3D model"),e(t,2,0,"dot-circle","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function BC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"div",[["class","camera-bar__nav"]],[[24,"@expand",0]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,FC)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,DC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,NC)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,RC)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showPan),e(t,4,0,n.showZoom),e(t,6,0,n.showZoom),e(t,8,0,n.showResetPosition)}),(function(e,t){e(t,0,0,void 0)}))}function HC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"app-pillbox",[["orientation","vertical"],["padding","dense"]],[[1,"data-test",0]],null,null,Fw,Lw)),l.xb(1,114688,null,0,Ew,[],{padding:[0,"padding"],orientation:[1,"orientation"]},null),(e()(),l.ob(16777216,null,0,1,null,BC)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(4,16777216,null,0,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","location-arrow"],["matTooltipPosition","left"],["size","medium"],["tabindex","0"]],[[1,"aria-label",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,5).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,5)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,5)._handleTouchend()&&i),"click"===t&&(i=!1!==o.toggleNav()&&i),i}),cx,ox)),l.xb(5,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(6,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],selected:[3,"selected"]},null)],(function(e,t){var n=t.component;e(t,1,0,"dense","vertical"),e(t,3,0,n.expandNav),e(t,5,0,"left",n.expandNav?"Close 3D controls":"Expand 3D controls"),e(t,6,0,"location-arrow","medium","ghost",n.expandNav)}),(function(e,t){var n=t.component;e(t,0,0,n.testSelectors.EngineCameraBar),e(t,4,0,n.expandNav?"Close 3D controls":"Expand 3D controls")}))}function VC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,4,"app-pillbox",[["padding","dense"],["style","margin-top: 8px"]],[[24,"@show",0]],null,null,Fw,Lw)),l.xb(2,114688,null,0,Ew,[],{padding:[0,"padding"]},null),(e()(),l.yb(3,16777216,null,0,2,"button",[["app-pin-button",""],["aria-label","Reset Chapter"],["buttonType","ghost"],["data-test","resetChapterBtn"],["icon","sync-alt"],["matTooltip","Reset Chapter"],["matTooltipPosition","left"],["size","medium"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,4).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,4)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,4)._handleTouchend()&&i),"click"===t&&(i=!1!==o.resetChapter()&&i),i}),cx,ox)),l.xb(4,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(5,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null)],(function(e,t){e(t,2,0,"dense"),e(t,4,0,"left","Reset Chapter"),e(t,5,0,"sync-alt","medium","ghost")}),(function(e,t){e(t,1,0,void 0)}))}function $C(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,5,"div",[["class","camera-bar"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,HC)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,VC)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,n.showNav),e(t,4,0,n.showResetScene&&l.Tb(t,4,0,l.Kb(t,5).transform(n.canResetChapter$)))}),null)}var QC,WC,GC=n("ihYY");(WC=QC||(QC={})).slideTransition=Object(GC.g)([Object(GC.m)({transform:"translateY({{ from }}%)",opacity:0}),Object(GC.e)("{{ duration }}ms ease-out",Object(GC.m)({transform:"translateY({{ to }})",opacity:1}))]),WC.fadeIn=Object(GC.g)([Object(GC.m)({opacity:"*"}),Object(GC.e)("{{ duration }}ms ease-out",Object(GC.m)({opacity:1}))]),WC.fadeOut=Object(GC.g)([Object(GC.m)({opacity:"*"}),Object(GC.e)("{{ duration }}ms ease-in",Object(GC.m)({opacity:0}))]);var qC=function(){function e(e){this.viewService=e,this.layout="drawer"}return e.prototype.ngOnInit=function(){},e.prototype.handleCloseClick=function(){this.viewService.clearSelectedLabel()},Object(v.__decorate)([Object(O.e)(Bc.getSelectedLabel),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedLabel$",void 0),e}(),YC=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-label-description{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-label-description__header{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start}.view-label-description .view-label-description__title{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-weight:700;align-self:center}.view-label-description .view-label-description__body{margin-top:8px;font-size:12px;letter-spacing:.3px;line-height:1.4em}"]],data:{animation:[{type:7,name:"refresh",definitions:[{type:1,expr:":enter",animation:[{type:10,animation:QC.slideTransition,options:{params:{duration:300,from:50,to:0}}}],options:null}],options:{}}]}});function XC(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-label-description__body"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "])),l.Mb(131072,ce.b,[l.i])],null,(function(e,t){var n,i=t.component;e(t,1,0,null==(n=l.Tb(t,1,0,l.Kb(t,2).transform(i.selectedLabel$)))?null:n.description)}))}function ZC(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,12,"div",[["class","view-label-description"]],[[24,"@refresh",0]],null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"view-label-description--layout-column":0,"view-label-description--layout-drawer":1}),(e()(),l.yb(4,0,null,null,5,"div",[["class","view-label-description__header"]],null,null,null,null,null)),(e()(),l.yb(5,0,null,null,1,"button",[["app-pin-button",""],["class","mr-1"],["icon","arrow-left"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),cx,ox)),l.xb(6,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.yb(7,0,null,null,2,"div",[["class","view-label-description__title"]],null,null,null,null,null)),(e()(),l.Sb(8,null,[" "," "])),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,XC)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n,i=t.component,o=e(t,3,0,"column"===i.layout,"drawer"===i.layout);e(t,2,0,"view-label-description",o),e(t,6,0,"arrow-left","small"),e(t,11,0,null==(n=l.Tb(t,11,0,l.Kb(t,12).transform(i.selectedLabel$)))?null:n.description)}),(function(e,t){var n,i=t.component;e(t,0,0,void 0),e(t,8,0,null==(n=l.Tb(t,8,0,l.Kb(t,9).transform(i.selectedLabel$)))?null:n.title)}))}var JC=function(){function e(e,t,n,i,o){this.renderer=e,this.changeDetectorRef=t,this.viewService=n,this.store=i,this.layoutService=o,this.offsetYChange=new l.o,this.breakpoints={minimumDrawer:{velocity:1/0,point:0},halfDrawer:{velocity:1,point:0}},this.ngUnsubscribe=new Z.a,this.viewMode=Iy,this.viewToolsMode=$w,this.mode=Iy.Content,this.open=!1}return Object.defineProperty(e.prototype,"expandable",{get:function(){return"full"===this.layoutService.getVisibleContent()||this.mode===Iy.LabelInfo||this.mode===Iy.NodeInfo||this.open},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initWindowSizeObserver(),this.initLayoutObserver()},e.prototype.ngAfterViewInit=function(){this.refresh(this.store.selectSnapshot(My.getLayout).drawer.isExpandedInitially)},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initWindowSizeObserver=function(){var e=this;this.renderer.listen("window","resize",(function(){e.refresh(!1)}))},e.prototype.initLayoutObserver=function(){var e=this;this.layout$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateMode(t)}))},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.viewDrawer.nativeElement.style.setProperty("--vh",e+"px")},e.prototype.updateStops=function(){var e=window.innerHeight;this.breakpoints.minimumDrawer.point=-64,this.breakpoints.halfDrawer.point=Math.floor(-.4*e)},e.prototype.updateMode=function(e){this.mode=this.viewService.inferDrawerMode(e),this.changeDetectorRef.markForCheck()},e.prototype.resetDrawerPosition=function(e){var t=this;setTimeout((function(){t.slideDrawerToPoint(e?t.breakpoints.halfDrawer.point:t.breakpoints.minimumDrawer.point)}))},e.prototype.refresh=function(e){var t=this;setTimeout((function(){t.updateViewHeight(),t.updateStops(),t.resetDrawerPosition(e)}))},e.prototype.handleClick=function(){!this.open&&this.expandable&&this.toggleDrawer(!0)},e.prototype.handleToggleClick=function(){this.toggleDrawer()},e.prototype.toggleDrawer=function(e){null==e&&(e=!this.open),this.slideDrawerToPoint((e?this.breakpoints.halfDrawer:this.breakpoints.minimumDrawer).point),this.open=e},e.prototype.slideDrawerToPoint=function(e){this.renderer.setStyle(this.viewDrawer.nativeElement,"transform","translate3d(0, "+e+"px, 0)"),this.offsetYChange.emit(e)},e.prototype.getDrawerY=function(){if(this.viewDrawer){var e=this.viewService.getComputedTransform(this.viewDrawer.nativeElement);return e?e.y:null}return null},Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterIndex),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterIndex$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getChapterCount),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterCount$",void 0),e}(),ej=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-drawer{border-top:rgba(234,239,245,.8);box-shadow:0 -1px 0 0 rgba(28,42,63,.16);background:rgba(255,255,255,.8);color:#131c2a;border-top:var(--view-drawer-border);box-shadow:var(--view-drawer-shadow);background:var(--view-drawer-background);color:var(--view-drawer-color);left:0;min-height:100vh;right:0;position:absolute;z-index:20;top:100vh;top:calc(var(--vh,1vh) * 100);-webkit-transform:translate3d(0,-64px,0);transform:translate3d(0,-64px,0);-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.view-drawer--animate{-webkit-transition:background-color 1s ease-in-out;transition:background-color 1s ease-in-out}.view-drawer--active{background-color:#fff;background-color:var(--view-drawer-background--active)}.view-drawer--active .view-drawer__toggle{height:40px}.view-drawer--closed{background-color:#fff;background-color:var(--view-drawer-background--closed);-webkit-transition:background-color 150ms;transition:background-color 150ms}.view-drawer--scrollable{min-height:0}.view-drawer--scrollable .view-drawer__outer{height:40vh;height:calc(var(--vh,1vh) * 40);overflow-y:scroll}.view-drawer--fixed{height:64px;overflow:hidden}.view-drawer--fixed .view-drawer__inner{height:64px;padding:0 16px}.view-drawer--fixed .view-drawer__content{-webkit-box-pack:center;justify-content:center;padding-top:0}.view-drawer__toggle{position:absolute;left:0;top:0;right:0;height:64px;margin:0 48px;z-index:10;font-size:14px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;color:#d7e0ea;color:var(--view-drawer-toggle-color)}.view-drawer__toggle:hover{cursor:pointer;color:#101823;color:var(--view-drawer-toggle-color--hover)}.view-drawer__toggle-bar{background-color:#fff;height:16px;width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;pointer-events:none}.view-drawer__inner{position:relative;padding:0 16px}.view-drawer__content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;max-width:600px;min-height:64px;margin:0 auto}"]],data:{}});function tj(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,1,"div",[["class","view-drawer__toggle"],["matTooltipPosition","above"],["role","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleToggleClick()&&i),i}),null,null)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){e(t,1,0,"above",t.component.open?"Collapse Description":"Expand Description")}),null)}function nj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[["icon","caret-up"]],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"caret-up")}),null)}function lj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[["icon","caret-down"]],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"caret-down")}),null)}function ij(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-drawer__toggle-bar"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,nj)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,lj)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.open),e(t,4,0,n.open)}),null)}function oj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-view-node-description",[["layout","drawer"]],null,null,null,Sw,ww)),l.xb(2,245760,null,0,Ow,[O.i,O.b,l.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,2,0,"drawer")}),null)}function aj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-view-label-description",[["layout","drawer"]],null,null,null,ZC,YC)),l.xb(2,114688,null,0,qC,[Zy],{layout:[0,"layout"]},null)],(function(e,t){e(t,2,0,"drawer")}),null)}function rj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-content-mode",[["layout","drawer"]],null,null,null,vO,hO)),l.xb(1,245760,null,0,gO,[O.i,Zy,Gy,l.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,1,0,"drawer")}),null)}function uj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-title",[["alignTitle","center"]],null,null,null,qv,Gv)),l.xb(1,245760,null,0,Wv,[Gy,l.i],{alignTitle:[0,"alignTitle"]},null)],(function(e,t){e(t,1,0,"center")}),null)}function cj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,rj)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,uj)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.expandable),e(t,4,0,!n.expandable)}),null)}function sj(e){return l.Ub(2,[l.Qb(671088640,1,{viewDrawer:0}),(e()(),l.yb(1,0,[[1,0],["viewDrawer",1]],null,16,"div",[["class","view-drawer"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"view-drawer--closed":0,"view-drawer--active":1,"view-drawer--scrollable":2,"view-drawer--fixed":3}),(e()(),l.ob(16777216,null,null,1,null,tj)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,ij)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(9,0,null,null,8,"div",[["class","view-drawer__outer"]],null,null,null,null,null)),(e()(),l.yb(10,0,null,null,7,"div",[["class","view-drawer__inner"]],null,null,null,null,null)),l.xb(11,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,oj)),l.xb(13,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,aj)),l.xb(15,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,cj)),l.xb(17,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,!n.open,n.open,n.open,!n.expandable);e(t,3,0,"view-drawer",l),e(t,6,0,n.expandable),e(t,8,0,n.expandable),e(t,11,0,n.mode),e(t,13,0,n.viewMode.NodeInfo),e(t,15,0,n.viewMode.LabelInfo),e(t,17,0,n.viewMode.Content)}),null)}var pj=function(e){return e.Left="\u2190",e.Right="\u2192",e.Up="\u2191",e.Down="\u2193",e.Command="\u2318",e}({}),dj=function(){function e(){this.shortcutGroups=[{label:"Navigation",shortcuts:[{keys:[",","Pg-Up"],label:"Previous chapter"},{keys:[".","Pg-Down"],label:"Next chapter"},{keys:["/"],label:"Open Search"},{keys:["Ctrl + Enter"],label:"Enter Fullscreen"}]},{label:"Tools",shortcuts:[{keys:["1"],label:'Use "Select" tool'},{keys:["2"],label:'Use "Hide" tool'},{keys:["3"],label:'Use "Fade" tool'},{keys:["del","backspace"],label:"Hide selected structure"},{keys:["Shift + R"],label:"Reset chapter"},{keys:["Ctrl/Cmd + Z"],label:"Undo"},{keys:["Ctrl/Cmd + Shift + Z","Ctrl/Cmd + Y"],label:"Redo"}]},{label:"Pan",shortcuts:[{keys:["W"],label:"Pan up"},{keys:["S"],label:"Pan down"},{keys:["A"],label:"Pan left"},{keys:["D"],label:"Pan right"},{keys:["Shift + W"],label:"Slow pan up"},{keys:["Shift + S"],label:"Slow pan down"},{keys:["Shift + A"],label:"Slow pan left"},{keys:["Shift + D"],label:"Slow pan right"}]},{label:"Rotate",shortcuts:[{keys:[pj.Up],label:"Rotate up"},{keys:[pj.Down],label:"Rotate down"},{keys:[pj.Left],label:"Rotate left"},{keys:[pj.Right],label:"Rotate right"},{keys:["Shift + "+pj.Up],label:"Slow rotate up"},{keys:["Shift + "+pj.Down],label:"Slow rotate down"},{keys:["Shift + "+pj.Left],label:"Slow rotate left"},{keys:["Shift + "+pj.Right],label:"Slow rotate right"}]},{label:"Zoom",shortcuts:[{keys:["C","="],label:"Zoom in"},{keys:["E","-"],label:"Zoom out"},{keys:["Shift + C","Shift + ="],label:"Slow zoom in"},{keys:["Shift + E","Shift + -"],label:"Slow zoom out"}]}]}return e.prototype.ngOnInit=function(){},e}(),bj=l.wb({encapsulation:0,styles:[[".view-shortcuts[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-shortcuts__group[_ngcontent-%COMP%]{width:100%;padding-bottom:32px;margin-top:32px}.view-shortcuts__label[_ngcontent-%COMP%]{padding:8px 0 12px}.view-shortcuts__table[_ngcontent-%COMP%]{width:100%}.view-shortcuts__cell[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid rgba(255,255,255,.3);width:50%}.view-shortcuts__key[_ngcontent-%COMP%]{border-radius:4px;display:-webkit-inline-box;display:inline-flex;padding:4px;margin-right:4px;background:#000;color:#fff;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;font-family:monospace;font-size:16px}"]],data:{}});function gj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"kbd",[["class","view-shortcuts__key"]],null,null,null,null,null)),(e()(),l.Sb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function hj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"tr",[["class","view-shortcuts__row"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"td",[["class","view-shortcuts__cell view-shortcuts__cell--label"]],null,null,null,null,null)),(e()(),l.Sb(2,null,["",""])),(e()(),l.yb(3,0,null,null,2,"td",[["class","view-shortcuts__cell view-shortcuts__cell--key"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,gj)),l.xb(5,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.context.$implicit.keys)}),(function(e,t){e(t,2,0,t.context.$implicit.label)}))}function mj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","view-shortcuts__group"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"h2",[["class","view-shortcuts__label text-bold"]],null,null,null,null,null)),(e()(),l.Sb(2,null,["",""])),(e()(),l.yb(3,0,null,null,3,"table",[["class","view-shortcuts__table"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,hj)),l.xb(6,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,6,0,t.context.$implicit.shortcuts)}),(function(e,t){e(t,2,0,t.context.$implicit.label)}))}function fj(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-shortcuts"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,mj)),l.xb(2,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.shortcutGroups)}),null)}var yj=function(){function e(e,t){this.renderer=e,this.viewService=t,this.helpTypeEnum=ne,this.activeTab=ne.Basics}return e.prototype.ngOnInit=function(){this.initWindowSizeObserver()},e.prototype.ngAfterViewInit=function(){this.updateViewHeight()},e.prototype.initWindowSizeObserver=function(){var e=this;this.renderer.listen("window","resize",(function(){e.updateViewHeight()}))},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.viewHelp.nativeElement.style.setProperty("--vh",e+"px")},e.prototype.handleCloseClick=function(){this.viewService.toggleHelp(!1)},e.prototype.handleTabClick=function(e){this.activeTab=e},Object(v.__decorate)([Object(O.e)(My.getCanTouch),Object(v.__metadata)("design:type",J.a)],e.prototype,"canTouch$",void 0),e}(),xj=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-help{background-color:rgba(16,24,35,.9);color:#fff;background-color:var(--view-help-bg);color:var(--view-help-color);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;left:0;right:0;z-index:10000;height:100vh;height:calc(var(--vh,1vh) * 100);max-height:100vh;overflow:auto}.view-help__inner{width:100%;max-width:1140px;height:99vh;height:calc(var(--vh,1vh) * 99);padding:32px;position:relative}.view-help__close{width:40px;height:40px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:fixed;right:8px;top:8px}.view-help__close:hover{cursor:pointer}.view-help__header{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border-bottom:1px solid rgba(255,255,255,.3);border-bottom:var(--view-help-border);font-weight:600;padding-bottom:12px;margin-top:32px}.view-help__label{font-size:12px;letter-spacing:.3px;line-height:1.4em;font-weight:600;margin-bottom:12px}.view-help__group{display:-webkit-box;display:flex;justify-content:space-around;flex-wrap:wrap}.view-help__item{font-size:12px;letter-spacing:.3px;line-height:1.4em;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;text-align:center;padding:20px;-webkit-box-flex:0;flex:0 1 180px}.view-help__image{margin-bottom:16px;width:160px;height:100px;background-position:center center;background-repeat:no-repeat}.view-help__icon{font-size:24px;margin-bottom:16px}.view-help__tabs{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.view-help__tab{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border-bottom:2px solid transparent;padding:12px;text-align:center}.view-help__tab:after{content:'';display:block;border-bottom:3px solid #2d72dc;border-bottom:var(--view-help-tab-border);margin-top:4px;width:0;-webkit-transition:250ms;transition:250ms ease}.view-help__tab:hover{cursor:pointer}.view-help__tab--active:after{width:100%}"]],data:{}});function _j(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-help__tab"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleTabClick(i.helpTypeEnum.Shortcuts)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"view-help__tab--active":0}),(e()(),l.Sb(-1,null,[" Keyboard Shortcuts "]))],(function(e,t){var n=t.component,l=e(t,3,0,n.activeTab===n.helpTypeEnum.Shortcuts);e(t,2,0,"view-help__tab",l)}),null)}function vj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,20,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(3,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Rotate the model"])),(e()(),l.Sb(-1,null,[" Click and drag to rotate and view from other angles "])),(e()(),l.yb(6,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(8,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Pan the model"])),(e()(),l.Sb(-1,null,[" Use the W, A, S, D keys to move side to side or up and down "])),(e()(),l.yb(11,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(12,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(13,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Zoom in and out"])),(e()(),l.Sb(-1,null,[" Use your scroll wheel or trackpad to zoom in and out "])),(e()(),l.yb(16,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(18,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Explore the anatomy"])),(e()(),l.Sb(-1,null,[" Click on an anatomical structure or label to learn more "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-rotate.svg)"),e(t,7,0,"url(assets/images/widget/help-pan.svg)"),e(t,12,0,"url(assets/images/widget/help-zoom.svg)"),e(t,17,0,"url(assets/images/widget/help-learn.svg)")}))}function Oj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,20,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(3,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Rotate the model"])),(e()(),l.Sb(-1,null,[" Use one finger to rotate "])),(e()(),l.yb(6,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(8,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Pan the model"])),(e()(),l.Sb(-1,null,[" Use two fingers to move up and down or side to side "])),(e()(),l.yb(11,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(12,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(13,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Zoom in and out"])),(e()(),l.Sb(-1,null,[" Pinch or expand to zoom in and out "])),(e()(),l.yb(16,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.yb(18,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Explore the anatomy"])),(e()(),l.Sb(-1,null,[" Tap a label to learn more and get a closer look "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-rotate.svg)"),e(t,7,0,"url(assets/images/widget/help-pan.svg)"),e(t,12,0,"url(assets/images/widget/help-zoom.svg)"),e(t,17,0,"url(assets/images/widget/help-learn.svg)")}))}function wj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,vj)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,Oj)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,!l.Tb(t,2,0,l.Kb(t,3).transform(n.canTouch$))),e(t,5,0,l.Tb(t,5,0,l.Kb(t,6).transform(n.canTouch$)))}),null)}function Cj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Mouse "]))],null,null)}function jj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,15,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Hold left button to rotate "])),(e()(),l.yb(4,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(5,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Hold right button to pan "])),(e()(),l.yb(7,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(8,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Single-click left button to select a structure "])),(e()(),l.yb(10,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(11,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Double-click left button to auto-focus on a structure "])),(e()(),l.yb(13,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(14,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Long-click to fly to a structure "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-mouse-hold-left.svg)"),e(t,5,0,"url(assets/images/widget/help-mouse-hold-right.svg)"),e(t,8,0,"url(assets/images/widget/help-mouse-single-click-left.svg)"),e(t,11,0,"url(assets/images/widget/help-mouse-double-click-left.svg)"),e(t,14,0,"url(assets/images/widget/help-mouse-long-press-left.svg)")}))}function kj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Keyboard "]))],null,null)}function Sj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,12,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Rotate with arrows "])),(e()(),l.yb(4,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(5,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Pan up (W), left (A), down (S), right(D) "])),(e()(),l.yb(7,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(8,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Zoom out (-, C) and zoom in (+, E) "])),(e()(),l.yb(10,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(11,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Hold with any previous key to slow down motion "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-keyboard-rotate.svg)"),e(t,5,0,"url(assets/images/widget/help-keyboard-pan.svg)"),e(t,8,0,"url(assets/images/widget/help-keyboard-zoom.svg)"),e(t,11,0,"url(assets/images/widget/help-keyboard-slow-motion.svg)")}))}function Pj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Scroll up and down to zoom "]))],null,(function(e,t){e(t,1,0,"url(assets/images/widget/help-trackpad-scroll.svg)")}))}function Mj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,46,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,Cj)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,jj)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,kj)),l.xb(8,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,Sj)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(13,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Trackpad "])),(e()(),l.yb(15,0,null,null,12,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.yb(16,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Single-tap to auto-focus a structure "])),(e()(),l.yb(19,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(20,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Double-tap to select a structure "])),(e()(),l.yb(22,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(23,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Sb(-1,null,[" Long-press to fly to a structure "])),(e()(),l.ob(16777216,null,null,2,null,Pj)),l.xb(26,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(28,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" In-App "])),(e()(),l.yb(30,0,null,null,16,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.yb(31,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(32,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","plus"]],null,null,null,fe,me)),l.xb(33,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,null,[" Zoom in "])),(e()(),l.yb(35,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(36,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","minus"]],null,null,null,fe,me)),l.xb(37,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,null,[" Zoom out "])),(e()(),l.yb(39,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(40,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","dot-circle"]],null,null,null,fe,me)),l.xb(41,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,null,[" Recenter 3D model "])),(e()(),l.yb(43,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.yb(44,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","arrows"]],null,null,null,fe,me)),l.xb(45,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,null,[" Pan "]))],(function(e,t){var n=t.component;e(t,2,0,!l.Tb(t,2,0,l.Kb(t,3).transform(n.canTouch$))),e(t,5,0,!l.Tb(t,5,0,l.Kb(t,6).transform(n.canTouch$))),e(t,8,0,!l.Tb(t,8,0,l.Kb(t,9).transform(n.canTouch$))),e(t,11,0,!l.Tb(t,11,0,l.Kb(t,12).transform(n.canTouch$))),e(t,26,0,!l.Tb(t,26,0,l.Kb(t,27).transform(n.canTouch$))),e(t,33,0,"plus"),e(t,37,0,"minus"),e(t,41,0,"dot-circle"),e(t,45,0,"arrows")}),(function(e,t){e(t,17,0,"url(assets/images/widget/help-trackpad-single-tap.svg)"),e(t,20,0,"url(assets/images/widget/help-trackpad-double-tap.svg)"),e(t,23,0,"url(assets/images/widget/help-trackpad-long-press.svg)")}))}function Ij(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-shortcuts",[],null,null,null,fj,bj)),l.xb(1,114688,null,0,dj,[],null,null)],(function(e,t){e(t,1,0)}),null)}function Tj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,Ij)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,!l.Tb(t,2,0,l.Kb(t,3).transform(n.canTouch$)))}),null)}function Kj(e){return l.Ub(2,[l.Qb(402653184,1,{viewHelp:0}),(e()(),l.yb(1,0,[[1,0],["viewHelp",1]],null,25,"div",[["class","view-help"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,24,"div",[["class","view-help__inner"]],null,null,null,null,null)),l.xb(3,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.yb(4,0,null,null,2,"div",[["class","view-help__close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),null,null)),(e()(),l.yb(5,0,null,null,1,"app-icon",[["icon","times"]],null,null,null,fe,me)),l.xb(6,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(7,0,null,null,13,"div",[["class","view-help__tabs"]],null,null,null,null,null)),(e()(),l.yb(8,0,null,null,4,"div",[["class","view-help__tab"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleTabClick(i.helpTypeEnum.Basics)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(10,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(11,{"view-help__tab--active":0}),(e()(),l.Sb(-1,null,[" Navigation Basics "])),(e()(),l.yb(13,0,null,null,4,"div",[["class","view-help__tab"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleTabClick(i.helpTypeEnum.All)&&l),l}),null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(15,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(16,{"view-help__tab--active":0}),(e()(),l.Sb(-1,null,[" All Controls "])),(e()(),l.ob(16777216,null,null,2,null,_j)),l.xb(19,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,1,null,wj)),l.xb(22,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Mj)),l.xb(24,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Tj)),l.xb(26,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.activeTab),e(t,6,0,"times");var i=e(t,11,0,n.activeTab===n.helpTypeEnum.Basics);e(t,10,0,"view-help__tab",i);var o=e(t,16,0,n.activeTab===n.helpTypeEnum.All);e(t,15,0,"view-help__tab",o),e(t,19,0,!l.Tb(t,19,0,l.Kb(t,20).transform(n.canTouch$))),e(t,22,0,n.helpTypeEnum.Basics),e(t,24,0,n.helpTypeEnum.All),e(t,26,0,n.helpTypeEnum.Shortcuts)}),null)}var zj=function(){function e(e,t){this.renderer=e,this.changeDetectorRef=t,this.ngUnsubscribe=new Z.a,this._show=!1,this._percent=0,this._label=""}return Object.defineProperty(e.prototype,"show",{get:function(){return this._show},set:function(e){var t=this;setTimeout((function(){t._show=e,t.changeDetectorRef.markForCheck()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percent",{get:function(){return Math.floor(this._percent)},set:function(e){null!=e&&(this._percent=e,this.setProgress(this.percent))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initSizeObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.ngAfterViewInit=function(){this.updateDimensions()},e.prototype.initSizeObserver=function(){var e=this;Object(Kg.a)(window,"resize").pipe(Object(pr.a)(10),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.updateDimensions()}))},e.prototype.calculateRadius=function(){return this.getCircleWidth()/2},e.prototype.getCircleWidth=function(){return this.circleRef.nativeElement.offsetWidth},e.prototype.getRadius=function(){return this.progressCircleRef.nativeElement.r.baseVal.value},e.prototype.getCircumference=function(){return 2*this.getRadius()*Math.PI},e.prototype.getOffset=function(e){void 0===e&&(e=100);var t=this.getCircumference();return t-e/100*t},e.prototype.setProgress=function(e){e>=100&&(e=100);var t=this.getCircumference(),n=this.getOffset(e);this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",t+" "+t),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n)},e.prototype.updateDimensions=function(){var e=this,t=this.calculateRadius();this.renderer.setAttribute(this.progressContainerRef.nativeElement,"width",""+2*t),this.renderer.setAttribute(this.progressContainerRef.nativeElement,"height",""+2*t),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"r",""+(t-6)),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cx",""+t),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cy",""+t);var n=this.getCircumference();this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",n+" "+n),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n),setTimeout((function(){e.renderer.setStyle(e.progressCircleRef.nativeElement,"transition","stroke-dashoffset 300ms")}))},e}(),Uj=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.view-progress[_ngcontent-%COMP%]{--circleSize:35vw;pointer-events:none;position:absolute;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;left:0;right:0;top:0;bottom:0;z-index:1000;-webkit-transition:background-color 150ms;transition:background-color 150ms}.view-progress--active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}.view-progress__circle[_ngcontent-%COMP%]{-webkit-transform:scale(0);transform:scale(0);width:var(--circleSize);height:var(--circleSize);border-radius:50%;background-color:var(--view-progress-bg);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative}.view-progress__count[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em;color:var(--view-progress-primary-color);font-weight:700}.view-progress__label[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em;color:var(--view-progress-secondary-color)}.view-progress__ring[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;stroke-dashoffset:0;stroke-width:4;stroke:var(--view-progress-secondary-color);fill:transparent;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@media (min-width:600px){.view-progress__circle[_ngcontent-%COMP%]{width:160px;height:160px}}"]],data:{animation:[{type:7,name:"isOpen",definitions:[{type:0,name:"open",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:0,name:"closed",styles:{type:6,styles:{transform:"scale(0)"},offset:null},options:void 0},{type:1,expr:"closed => open",animation:[{type:4,styles:null,timings:"300ms ease-out"}],options:null},{type:1,expr:"open => closed",animation:[{type:4,styles:null,timings:"150ms ease-in"}],options:null}],options:{}}]}});function Ej(e){return l.Ub(2,[l.Qb(402653184,1,{circleRef:0}),l.Qb(402653184,2,{progressCircleRef:0}),l.Qb(402653184,3,{progressContainerRef:0}),(e()(),l.yb(3,0,null,null,10,"div",[["class","view-progress"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(5,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(6,{"view-progress--active":0}),(e()(),l.yb(7,0,[[1,0],["circle",1]],null,6,"div",[["class","view-progress__circle"]],[[24,"@isOpen",0]],null,null,null,null)),(e()(),l.yb(8,0,[[3,0],["progressContainer",1]],null,1,":svg:svg",[["class","view-progress__ring"]],null,null,null,null,null)),(e()(),l.yb(9,0,[[2,0],["progressCircle",1]],null,0,":svg:circle",[["class","view-progress__ring-inner"]],null,null,null,null,null)),(e()(),l.yb(10,0,null,null,1,"div",[["class","view-progress__count"]],null,null,null,null,null)),(e()(),l.Sb(11,null,[" ","% "])),(e()(),l.yb(12,0,null,null,1,"div",[["class","view-progress__label"]],null,null,null,null,null)),(e()(),l.Sb(13,null,[" "," "]))],(function(e,t){var n=e(t,6,0,t.component.show);e(t,5,0,"view-progress",n)}),(function(e,t){var n=t.component;e(t,7,0,n.show?"open":"closed"),e(t,11,0,n.percent),e(t,13,0,n.label)}))}var Lj=function(){function e(e){this.renderer=e,this.ngUnsubscribe=new Z.a,this._percent=0}return Object.defineProperty(e.prototype,"percent",{get:function(){return this._percent},set:function(e){null!=e&&(this._percent=e,this.setProgress(this.percent))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initSizeObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.ngAfterViewInit=function(){this.updateDimensions()},e.prototype.initSizeObserver=function(){var e=this;Object(Kg.a)(window,"resize").pipe(Object(pr.a)(10),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.updateDimensions()}))},e.prototype.calculateRadius=function(){return this.getCircleWidth()/2},e.prototype.getCircleWidth=function(){return this.circleRef.nativeElement.offsetWidth},e.prototype.getRadius=function(){return this.progressCircleRef.nativeElement.r.baseVal.value},e.prototype.getCircumference=function(){return 2*this.getRadius()*Math.PI},e.prototype.getOffset=function(e){void 0===e&&(e=100);var t=this.getCircumference();return t-e/100*t},e.prototype.setProgress=function(e){void 0===e&&(e=0),e>=100&&(e=100);var t=this.getCircumference(),n=this.getOffset(e);this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",t+" "+t),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n)},e.prototype.updateDimensions=function(){var e=this,t=this.calculateRadius();this.renderer.setAttribute(this.progressContainerRef.nativeElement,"width",""+2*t),this.renderer.setAttribute(this.progressContainerRef.nativeElement,"height",""+2*t),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"r",""+(t-6)),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cx",""+t),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cy",""+t);var n=this.getCircumference();this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",n+" "+n),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n),setTimeout((function(){e.renderer.setStyle(e.progressCircleRef.nativeElement,"transition","stroke-dashoffset 300ms")}))},e}(),Aj=l.wb({encapsulation:0,styles:[[".play-loader[_ngcontent-%COMP%]{--buttonSize:35vw;background:rgba(0,0,0,.2);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.play-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__circle[_ngcontent-%COMP%]{background:var(--view-loader-button-bg--hover);color:var(--view-loader-circle-color--hover);-webkit-transform:scale(1.1);transform:scale(1.1)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__icon[_ngcontent-%COMP%]{color:var(--view-loader-icon-color--hover);-webkit-transform:scale(1.2);transform:scale(1.2)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__label[_ngcontent-%COMP%]{color:var(--view-loader-label-color--hover)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__ring[_ngcontent-%COMP%]{stroke:var(--view-loader-progress-color--hover)}.play-loader__circle[_ngcontent-%COMP%]{width:var(--buttonSize);height:var(--buttonSize);border-radius:50%;background-color:var(--view-loader-button-bg);color:var(--view-loader-circle-color);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;-webkit-transition:background-color 250ms,color 250ms,-webkit-transform 250ms;transition:background-color 250ms,color 250ms,-webkit-transform 250ms;transition:background-color 250ms,color 250ms,transform 250ms;transition:background-color 250ms,color 250ms,transform 250ms,-webkit-transform 250ms}.play-loader__icon[_ngcontent-%COMP%]{font-size:calc(var(--buttonSize)/ 2);color:var(--view-loader-icon-color);-webkit-transition:color 250ms,-webkit-transform 250ms;transition:color 250ms,-webkit-transform 250ms;transition:color 250ms,transform 250ms;transition:color 250ms,transform 250ms,-webkit-transform 250ms;margin-right:-10%}.play-loader__label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;z-index:2;font-weight:600}.play-loader__ring[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;stroke-width:4;stroke:var(--view-loader-progress-color);fill:transparent;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@media (min-width:600px){.play-loader__circle[_ngcontent-%COMP%]{width:160px;height:160px}.play-loader__icon[_ngcontent-%COMP%]{font-size:80px}}"]],data:{}});function Fj(e){return l.Ub(2,[l.Qb(402653184,1,{circleRef:0}),l.Qb(402653184,2,{progressCircleRef:0}),l.Qb(402653184,3,{progressContainerRef:0}),(e()(),l.yb(3,0,null,null,7,"div",[["class","play-loader"]],null,null,null,null,null)),(e()(),l.yb(4,0,[[1,0],["circle",1]],null,6,"div",[["class","play-loader__circle"]],null,null,null,null,null)),(e()(),l.yb(5,0,[[3,0],["progressContainer",1]],null,1,":svg:svg",[["class","play-loader__ring"]],null,null,null,null,null)),(e()(),l.yb(6,0,[[2,0],["progressCircle",1]],null,0,":svg:circle",[["class","play-loader__ring-inner"]],null,null,null,null,null)),(e()(),l.yb(7,0,null,null,1,"app-icon",[["class","play-loader__icon"],["icon","play"]],null,null,null,fe,me)),l.xb(8,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(9,0,null,null,1,"div",[["class","play-loader__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["3D"]))],(function(e,t){e(t,8,0,"play")}),null)}var Dj=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Nj=l.wb({encapsulation:0,styles:[[".m-1[_ngcontent-%COMP%]{margin:4px!important}.mv-1[_ngcontent-%COMP%]{margin-top:4px!important;margin-bottom:4px!important}.mh-1[_ngcontent-%COMP%]{margin-left:4px!important;margin-right:4px!important}.mt-1[_ngcontent-%COMP%]{margin-top:4px!important}.mr-1[_ngcontent-%COMP%]{margin-right:4px!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px!important}.ml-1[_ngcontent-%COMP%]{margin-left:4px!important}.p-1[_ngcontent-%COMP%]{padding:4px!important}.pv-1[_ngcontent-%COMP%]{padding-top:4px!important;padding-bottom:4px!important}.ph-1[_ngcontent-%COMP%]{padding-left:4px!important;padding-right:4px!important}.pt-1[_ngcontent-%COMP%]{padding-top:4px!important}.pr-1[_ngcontent-%COMP%]{padding-right:4px!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px!important}.pl-1[_ngcontent-%COMP%]{padding-left:4px!important}.m-2[_ngcontent-%COMP%]{margin:8px!important}.mv-2[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.mh-2[_ngcontent-%COMP%]{margin-left:8px!important;margin-right:8px!important}.mt-2[_ngcontent-%COMP%]{margin-top:8px!important}.mr-2[_ngcontent-%COMP%]{margin-right:8px!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px!important}.ml-2[_ngcontent-%COMP%]{margin-left:8px!important}.p-2[_ngcontent-%COMP%]{padding:8px!important}.pv-2[_ngcontent-%COMP%]{padding-top:8px!important;padding-bottom:8px!important}.ph-2[_ngcontent-%COMP%]{padding-left:8px!important;padding-right:8px!important}.pt-2[_ngcontent-%COMP%]{padding-top:8px!important}.pr-2[_ngcontent-%COMP%]{padding-right:8px!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px!important}.pl-2[_ngcontent-%COMP%]{padding-left:8px!important}.m-3[_ngcontent-%COMP%]{margin:12px!important}.mv-3[_ngcontent-%COMP%]{margin-top:12px!important;margin-bottom:12px!important}.mh-3[_ngcontent-%COMP%]{margin-left:12px!important;margin-right:12px!important}.mt-3[_ngcontent-%COMP%]{margin-top:12px!important}.mr-3[_ngcontent-%COMP%]{margin-right:12px!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.ml-3[_ngcontent-%COMP%]{margin-left:12px!important}.p-3[_ngcontent-%COMP%]{padding:12px!important}.pv-3[_ngcontent-%COMP%]{padding-top:12px!important;padding-bottom:12px!important}.ph-3[_ngcontent-%COMP%]{padding-left:12px!important;padding-right:12px!important}.pt-3[_ngcontent-%COMP%]{padding-top:12px!important}.pr-3[_ngcontent-%COMP%]{padding-right:12px!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px!important}.pl-3[_ngcontent-%COMP%]{padding-left:12px!important}.m-4[_ngcontent-%COMP%]{margin:16px!important}.mv-4[_ngcontent-%COMP%]{margin-top:16px!important;margin-bottom:16px!important}.mh-4[_ngcontent-%COMP%]{margin-left:16px!important;margin-right:16px!important}.mt-4[_ngcontent-%COMP%]{margin-top:16px!important}.mr-4[_ngcontent-%COMP%]{margin-right:16px!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px!important}.ml-4[_ngcontent-%COMP%]{margin-left:16px!important}.p-4[_ngcontent-%COMP%]{padding:16px!important}.pv-4[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important}.ph-4[_ngcontent-%COMP%]{padding-left:16px!important;padding-right:16px!important}.pt-4[_ngcontent-%COMP%]{padding-top:16px!important}.pr-4[_ngcontent-%COMP%]{padding-right:16px!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px!important}.pl-4[_ngcontent-%COMP%]{padding-left:16px!important}.m-5[_ngcontent-%COMP%]{margin:20px!important}.mv-5[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important}.mh-5[_ngcontent-%COMP%]{margin-left:20px!important;margin-right:20px!important}.mt-5[_ngcontent-%COMP%]{margin-top:20px!important}.mr-5[_ngcontent-%COMP%]{margin-right:20px!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px!important}.ml-5[_ngcontent-%COMP%]{margin-left:20px!important}.p-5[_ngcontent-%COMP%]{padding:20px!important}.pv-5[_ngcontent-%COMP%]{padding-top:20px!important;padding-bottom:20px!important}.ph-5[_ngcontent-%COMP%]{padding-left:20px!important;padding-right:20px!important}.pt-5[_ngcontent-%COMP%]{padding-top:20px!important}.pr-5[_ngcontent-%COMP%]{padding-right:20px!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px!important}.pl-5[_ngcontent-%COMP%]{padding-left:20px!important}.m-6[_ngcontent-%COMP%]{margin:24px!important}.mv-6[_ngcontent-%COMP%]{margin-top:24px!important;margin-bottom:24px!important}.mh-6[_ngcontent-%COMP%]{margin-left:24px!important;margin-right:24px!important}.mt-6[_ngcontent-%COMP%]{margin-top:24px!important}.mr-6[_ngcontent-%COMP%]{margin-right:24px!important}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px!important}.ml-6[_ngcontent-%COMP%]{margin-left:24px!important}.p-6[_ngcontent-%COMP%]{padding:24px!important}.pv-6[_ngcontent-%COMP%]{padding-top:24px!important;padding-bottom:24px!important}.ph-6[_ngcontent-%COMP%]{padding-left:24px!important;padding-right:24px!important}.pt-6[_ngcontent-%COMP%]{padding-top:24px!important}.pr-6[_ngcontent-%COMP%]{padding-right:24px!important}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px!important}.pl-6[_ngcontent-%COMP%]{padding-left:24px!important}.m-7[_ngcontent-%COMP%]{margin:28px!important}.mv-7[_ngcontent-%COMP%]{margin-top:28px!important;margin-bottom:28px!important}.mh-7[_ngcontent-%COMP%]{margin-left:28px!important;margin-right:28px!important}.mt-7[_ngcontent-%COMP%]{margin-top:28px!important}.mr-7[_ngcontent-%COMP%]{margin-right:28px!important}.mb-7[_ngcontent-%COMP%]{margin-bottom:28px!important}.ml-7[_ngcontent-%COMP%]{margin-left:28px!important}.p-7[_ngcontent-%COMP%]{padding:28px!important}.pv-7[_ngcontent-%COMP%]{padding-top:28px!important;padding-bottom:28px!important}.ph-7[_ngcontent-%COMP%]{padding-left:28px!important;padding-right:28px!important}.pt-7[_ngcontent-%COMP%]{padding-top:28px!important}.pr-7[_ngcontent-%COMP%]{padding-right:28px!important}.pb-7[_ngcontent-%COMP%]{padding-bottom:28px!important}.pl-7[_ngcontent-%COMP%]{padding-left:28px!important}.m-8[_ngcontent-%COMP%]{margin:32px!important}.mv-8[_ngcontent-%COMP%]{margin-top:32px!important;margin-bottom:32px!important}.mh-8[_ngcontent-%COMP%]{margin-left:32px!important;margin-right:32px!important}.mt-8[_ngcontent-%COMP%]{margin-top:32px!important}.mr-8[_ngcontent-%COMP%]{margin-right:32px!important}.mb-8[_ngcontent-%COMP%]{margin-bottom:32px!important}.ml-8[_ngcontent-%COMP%]{margin-left:32px!important}.p-8[_ngcontent-%COMP%]{padding:32px!important}.pv-8[_ngcontent-%COMP%]{padding-top:32px!important;padding-bottom:32px!important}.ph-8[_ngcontent-%COMP%]{padding-left:32px!important;padding-right:32px!important}.pt-8[_ngcontent-%COMP%]{padding-top:32px!important}.pr-8[_ngcontent-%COMP%]{padding-right:32px!important}.pb-8[_ngcontent-%COMP%]{padding-bottom:32px!important}.pl-8[_ngcontent-%COMP%]{padding-left:32px!important}.m-9[_ngcontent-%COMP%]{margin:36px!important}.mv-9[_ngcontent-%COMP%]{margin-top:36px!important;margin-bottom:36px!important}.mh-9[_ngcontent-%COMP%]{margin-left:36px!important;margin-right:36px!important}.mt-9[_ngcontent-%COMP%]{margin-top:36px!important}.mr-9[_ngcontent-%COMP%]{margin-right:36px!important}.mb-9[_ngcontent-%COMP%]{margin-bottom:36px!important}.ml-9[_ngcontent-%COMP%]{margin-left:36px!important}.p-9[_ngcontent-%COMP%]{padding:36px!important}.pv-9[_ngcontent-%COMP%]{padding-top:36px!important;padding-bottom:36px!important}.ph-9[_ngcontent-%COMP%]{padding-left:36px!important;padding-right:36px!important}.pt-9[_ngcontent-%COMP%]{padding-top:36px!important}.pr-9[_ngcontent-%COMP%]{padding-right:36px!important}.pb-9[_ngcontent-%COMP%]{padding-bottom:36px!important}.pl-9[_ngcontent-%COMP%]{padding-left:36px!important}.m-10[_ngcontent-%COMP%]{margin:40px!important}.mv-10[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:40px!important}.mh-10[_ngcontent-%COMP%]{margin-left:40px!important;margin-right:40px!important}.mt-10[_ngcontent-%COMP%]{margin-top:40px!important}.mr-10[_ngcontent-%COMP%]{margin-right:40px!important}.mb-10[_ngcontent-%COMP%]{margin-bottom:40px!important}.ml-10[_ngcontent-%COMP%]{margin-left:40px!important}.p-10[_ngcontent-%COMP%]{padding:40px!important}.pv-10[_ngcontent-%COMP%]{padding-top:40px!important;padding-bottom:40px!important}.ph-10[_ngcontent-%COMP%]{padding-left:40px!important;padding-right:40px!important}.pt-10[_ngcontent-%COMP%]{padding-top:40px!important}.pr-10[_ngcontent-%COMP%]{padding-right:40px!important}.pb-10[_ngcontent-%COMP%]{padding-bottom:40px!important}.pl-10[_ngcontent-%COMP%]{padding-left:40px!important}.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.button-loader[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.button-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}@media print{.button-loader[_ngcontent-%COMP%]{display:none}}.button-loader[_ngcontent-%COMP%]:hover   .button-loader__button[_ngcontent-%COMP%]{background-color:var(--view-loader-icon-color--hover);-webkit-transform:scale(1.1);transform:scale(1.1)}.button-loader[_ngcontent-%COMP%]:hover   .button-loader__3d-arrow[_ngcontent-%COMP%]{-webkit-transform:scale(1.2);transform:scale(1.2)}.button-loader__button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:12px 28px;border-radius:32px;-webkit-box-align:center;align-items:center;-webkit-transition:background-color 250ms,-webkit-transform 250ms;transition:background-color 250ms,-webkit-transform 250ms;transition:transform 250ms,background-color 250ms;transition:transform 250ms,background-color 250ms,-webkit-transform 250ms;background-color:var(--view-loader-button-bg)}.button-loader__3d-arrow[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;transition:transform 250ms;transition:transform 250ms,-webkit-transform 250ms;margin-right:4px}.button-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;margin-left:4px}"]],data:{}});function Rj(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,4,"div",[["class","button-loader"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,3,"div",[["class","button-loader__button"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"img",[["class","button-loader__3d-arrow"],["src","assets/images/widget/loading_experience/interact-in-3d-arrow.svg"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,1,"div",[["class","button-loader__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Interact in 3D"]))],null,null)}var Bj=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Hj=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.hand-loader[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.hand-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}@-webkit-keyframes handKeyframes{0%,100%,60%{-webkit-transform:scale(1.2);transform:scale(1.2)}25%,40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes handKeyframes{0%,100%,60%{-webkit-transform:scale(1.2);transform:scale(1.2)}25%,40%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes circleKeyframes{0%{-webkit-transform:scale(0);transform:scale(0)}20%{-webkit-transform:scale(0);transform:scale(0);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0}}@keyframes circleKeyframes{0%{-webkit-transform:scale(0);transform:scale(0)}20%{-webkit-transform:scale(0);transform:scale(0);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.hand-loader__container[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.hand-loader__circle[_ngcontent-%COMP%]{background-color:#fff;position:absolute;left:50%;margin-left:-40.5px;margin-top:-1.5px;width:70px;height:70px;border-radius:50%;-webkit-animation:2s infinite circleKeyframes;animation:2s infinite circleKeyframes}.hand-loader__3d-hand[_ngcontent-%COMP%]{-webkit-animation:2s ease-in-out infinite handKeyframes;animation:2s ease-in-out infinite handKeyframes;position:absolute;height:96px;width:86px;left:50%;margin-left:-43px;margin-top:27px}.hand-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:600;color:#fff;text-shadow:0 1px 5px #000;bottom:40px;position:absolute;text-align:center;width:100%}"]],data:{}});function Vj(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,5,"div",[["class","hand-loader"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,4,"div",[["class","hand-loader__container"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"div",[["class","hand-loader__circle"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,0,"img",[["class","hand-loader__3d-hand"],["src","assets/images/widget/loading_experience/interact-in-3d-hand.svg"]],null,null,null,null,null)),(e()(),l.yb(4,0,null,null,1,"div",[["class","hand-loader__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Interact in 3D"]))],null,null)}var $j=function(){function e(e,t,n){this.renderer=e,this.viewService=t,this.actions=n,this.ngUnsubscribe=new Z.a}return e.prototype.handleClick=function(){var e=this;this.renderer.addClass(this.viewLoaderRef.nativeElement,"view-loader--disappear"),setTimeout((function(){e.viewService.toggleInteract(!1)}),250)},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e}(),Qj=l.wb({encapsulation:2,styles:[[""]],data:{}});function Wj(e){return l.Ub(2,[l.Qb(402653184,1,{viewLoaderRef:0}),(e()(),l.yb(1,0,[[1,0],["viewLoader",1]],null,1,"div",[["class","view-loader"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClick()&&l),l}),null,null)),l.Jb(null,0)],null,null)}var Gj=function(){function e(){this.buttonType="outline"}return e.prototype.ngOnInit=function(){},e}(),qj=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-view-rounded-button]{border-color:transparent;background:0 0;border-width:0;padding:0;outline:0;margin:0;pointer-events:all}.view-rounded-button{cursor:pointer;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:12px 16px;border-radius:24px;color:#f9fafd;border:1px solid #f9fafd}.view-rounded-button__label{font-size:16px;letter-spacing:.4px;line-height:1.4em}.view-rounded-button--solid{color:#060502;border-color:#060502;background:#f9fafd}.view-rounded-button--shadow{box-shadow:0 0 8px rgba(0,0,0,.32)}"]],data:{}});function Yj(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[["class","view-rounded-button__icon mh-1"]],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,t.component.icon)}),null)}function Xj(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-rounded-button"]],[[2,"view-rounded-button--outline",null],[2,"view-rounded-button--solid",null],[2,"view-rounded-button--shadow",null]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Yj)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(3,0,null,null,1,"div",[["class","view-rounded-button__label mh-1"]],null,null,null,null,null)),(e()(),l.Sb(4,null,["",""]))],(function(e,t){e(t,2,0,t.component.icon)}),(function(e,t){var n=t.component;e(t,0,0,"outline"===n.buttonType,"solid"===n.buttonType,n.shadow),e(t,4,0,n.label)}))}var Zj=function(){function e(e,t){this.store=e,this.changeRef=t,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.tutorial$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.setPageShown(t.pageIndex)})),this.store.dispatch(new y.SetTutorial({pageSize:this.pages.length,pageIndex:0}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handlePrevClick=function(){this.store.dispatch(new y.TutorialPrevious)},e.prototype.handleNextClick=function(){this.store.dispatch(new y.TutorialNext)},e.prototype.handleExitClick=function(){this.store.dispatch(new y.ToggleWindow(Oy.Tutorial,!1))},e.prototype.setPageShown=function(e){this.pages.forEach((function(t,n){t.shown=n===e})),this.changeRef.markForCheck()},Object(v.__decorate)([Object(O.e)(My.getTutorial),Object(v.__metadata)("design:type",J.a)],e.prototype,"tutorial$",void 0),e}(),Jj=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.pages[_ngcontent-%COMP%]{pointer-events:none;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin:20px auto 48px;max-width:600px;position:relative;background:rgba(16,24,35,.8);border-radius:16px;padding:24px 28px 20px}.pages--opaquer[_ngcontent-%COMP%]{background:rgba(16,24,35,.9)}.pages__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:500}.pages__close[_ngcontent-%COMP%]{z-index:1;position:absolute;top:8px;right:8px;align-self:flex-end;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.pages__contents[_ngcontent-%COMP%]{padding:16px 0}@media (max-width:768px){.pages[_ngcontent-%COMP%]{margin:16px 12% 48px;border-radius:10px;padding:18px 22px 14px}.pages__contents[_ngcontent-%COMP%]{padding:24px 0}.pages__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.pages__nav[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}}@media (max-width:480px){.pages[_ngcontent-%COMP%]{margin:12px 10% 48px;border-radius:8px;padding:24px 20px 12px}.pages__footer[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.pages__nav[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}}"]],data:{}});function ek(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"div",[["class","pages__footer"]],null,null,null,null,null)),(e()(),l.yb(1,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Previous Tutorial Step"],["buttonType","dark"],["class","pages__nav"],["icon","angle-left"],["matTooltip","Previous Tutorial Step"],["matTooltipPosition","left"],["size","large"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handlePrevClick()&&i),i}),cx,ox)),l.xb(2,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(3,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],disabled:[3,"disabled"]},null),(e()(),l.yb(4,0,null,null,1,"div",[["class","mh-8"]],null,null,null,null,null)),(e()(),l.Sb(5,null,[" "," / "," "])),(e()(),l.yb(6,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Next Tutorial Step"],["buttonType","dark"],["class","pages__nav"],["icon","angle-right"],["matTooltip"," Next Tutorial Step"],["matTooltipPosition","right"],["size","large"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,7).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,7)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,7)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleNextClick()&&i),i}),cx,ox)),l.xb(7,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(8,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],disabled:[3,"disabled"]},null)],(function(e,t){e(t,2,0,"left","Previous Tutorial Step"),e(t,3,0,"angle-left","large","dark",t.parent.context.$implicit.pageIndex<1),e(t,7,0,"right"," Next Tutorial Step"),e(t,8,0,"angle-right","large","dark",t.parent.context.$implicit.pageIndex===t.parent.context.$implicit.pageSize-1)}),(function(e,t){e(t,5,0,t.parent.context.$implicit.pageIndex+1,t.parent.context.$implicit.pageSize)}))}function tk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,10,"div",[["class","pages"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"pages--opaquer":0}),(e()(),l.yb(4,16777216,null,null,2,"button",[["app-pin-button",""],["aria-label","Exit Tutorial"],["buttonType","dark"],["class","pages__close"],["icon","times"],["matTooltip","Exit Tutorial"],["matTooltipPosition","right"],["size","medium"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,5).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,5)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,5)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleExitClick()&&i),i}),cx,ox)),l.xb(5,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),l.xb(6,114688,null,0,ix,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.yb(7,0,null,null,1,"div",[["class","pages__contents"]],null,null,null,null,null)),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,ek)),l.xb(10,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,3,0,t.context.$implicit.pageIndex==t.context.$implicit.pageSize-1);e(t,2,0,"pages",n),e(t,5,0,"right","Exit Tutorial"),e(t,6,0,"times","medium","dark"),e(t,10,0,t.context.$implicit.pageIndex<t.context.$implicit.pageSize-1)}),null)}function nk(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,2,null,tk)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.tutorial$)))}),null)}var lk=function(e){return e.CameraZoom="camera-zoom",e.CameraRotate="camera-rotate",e.CameraPan="camera-pan",e.NodeSelection="node-selection",e}({}),ik=n("p0Sj"),ok=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function ak(e,t,n,l){return void 0===n&&(n=1e3),void 0===l&&(l=.001),ck(e).pipe(Object(ik.a)(t.getCameraZoom()),Object(s.a)((function(){return t.getCameraZoom()})),Object(Ae.a)(),Object(s.a)((function(e){var t=ok(e,2);return t[1]-t[0]})),Object(te.a)((function(e){return Math.abs(e)>l})),Object(pr.a)(n))}function rk(e,t,n){return void 0===n&&(n=125),ck(e).pipe(Object(ik.a)(t.getLookDirection()),Object(s.a)((function(){return t.getLookDirection()})),Object(Ae.a)(),Object(s.a)((function(e){var t=ok(e,2);return Qx.a.angle(t[0],t[1])>.001})),Object(te.a)((function(e){return e})),Object(pr.a)(n))}function uk(e){return{camera:e.getCamera(),zoom:e.getCameraZoom()}}function ck(e){return e.getEvent(tr.CameraRested)}function sk(e){var t=e.eye,n=e.look,l=[t.x,t.y,t.z],i=[n.x,n.y,n.z],o=Qx.a.create();return Qx.a.sub(o,l,i),o}var pk=n("vubp"),dk=function(){function e(e,t,n,i,o){this.store=e,this.actions=t,this.engineService=n,this.cameraService=i,this.changeRef=o,this.spacing="compact",this.exitEnabled=!0,this.triggerDelay=300,this.triggerComplete=new l.o,this._shown=!1,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"shown",{get:function(){return this._shown},set:function(e){this._shown=e,this.initTrigger(),this.changeRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.initTrigger()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initTrigger=function(){var e=this;if(this.ngUnsubscribe.next(),this.shown&&this.trigger){var t=this.resetCamera(),n=this.store.selectSnapshot(My.getCanTouch);(function(e,t,n,l,i){switch(e){case lk.CameraZoom:return i?ak(n,l):function(e,t,n,l){void 0===n&&(n=1e3),void 0===l&&(l=.001);var i=e.getCanvas(),o=Object(Kg.a)(i,"wheel"),a=Object(Kg.a)(i,"touchmove").pipe(Object(te.a)((function(e){return 2===e.touches.length}))),r=ak(e,t,n,l);return Object(md.a)(o,a).pipe(Object(wt.a)((function(){return r})))}(n,l);case lk.CameraPan:return function(e,t,n){void 0===n&&(n=125);var l=e.getCanvas(),i=Object(Kg.a)(l,"mousemove").pipe(Object(te.a)((function(e){return 1===e.buttons&&e.shiftKey||2===e.buttons||4===e.buttons}))),o=Object(Kg.a)(l,"touchmove").pipe(Object(te.a)((function(e){return 2===e.touches.length}))),a=function(e,t,n){return void 0===n&&(n=125),ck(e).pipe(Object(ik.a)(uk(t)),Object(s.a)((function(){return uk(t)})),Object(pr.a)(n),Object(Ae.a)(),Object(s.a)((function(e){var t=ok(e,2);return function(e,t){var n=sk(e.camera),l=sk(t.camera),i=Qx.a.create();Qx.a.sub(i,n,l);var o=i.reduce((function(e,t){return e+t})),a=t.zoom-e.zoom;return(0!==a||0!==o)&&Math.abs(o)<1&&Math.abs(a)<.001}(t[0],t[1])})),Object(te.a)((function(e){return e})))}(e,t,n);return Object(md.a)(i,o).pipe(Object(wt.a)((function(){return a})))}(n,l);case lk.CameraRotate:return i?rk(n,l):function(e,t,n,l){void 0===l&&(l=1e3);var i=t.getCanvas(),o=Object(Kg.a)(i,"mousemove").pipe(Object(te.a)((function(e){return 1===e.buttons}))),a=Object(Kg.a)(i,"touchmove").pipe(Object(te.a)((function(e){return 1===e.touches.length}))),r=rk(t,n,l);return Object(md.a)(o,a).pipe(Object(wt.a)((function(){return r})),Object(te.a)((function(){return"rotate"===e.selectSnapshot(ey.getPanMode)})),Object(pr.a)(125))}(t,n,l);case lk.NodeSelection:return function(e){return e.select(_u.getCheckedNodes).pipe(Object(Ae.a)(),Object(te.a)((function(e){return ok(e,2)[1].length>0})))}(t)}})(this.trigger,this.store,this.engineService,this.cameraService,n).pipe(Object(Lx.a)(t),Object(pk.a)(this.triggerDelay),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.triggerComplete.next()}))}},e.prototype.resetCamera=function(){var e=this,t=this.store.selectSnapshot(Ac.getSelectedChapter);return this.store.dispatch(new Lf(t.camera.location,!0)).pipe(Object(wt.a)((function(){return e.actions.pipe(Object(O.l)(Af))})),Object(ud.a)(1))},e}(),bk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},gk=function(){function e(e){this.changeRef=e,this.selectedSlideIndex=0,this._shown=!1,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"shown",{get:function(){return this._shown},set:function(e){this._shown=e,this.setSelectedSlide(0)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.initListeners(),setTimeout((function(){e.setSlideShown(e.selectedSlideIndex)}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.goToPrevSlide=function(){this.setSelectedSlide(this.selectedSlideIndex-1)},e.prototype.goToNextSlide=function(){this.setSelectedSlide(this.selectedSlideIndex+1)},e.prototype.setSelectedSlide=function(e){if(this.selectedSlideIndex=e,this.slides){var t=Math.max(0,Math.min(this.slides.length-1,e));this.selectedSlideIndex=t}this.setSlideShown(this.selectedSlideIndex)},e.prototype.initListeners=function(){var e=this;md.a.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bk(arguments[t]));return e}(this.slides.map((function(e){return e.triggerComplete.asObservable()})))).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.goToNextSlide()}))},e.prototype.setSlideShown=function(e){this.slides&&this.slides.forEach((function(t,n){t.shown=n===e})),this.changeRef.markForCheck()},e}(),hk=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.page[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.page__contents[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}@media (max-width:768px){.page__contents[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}}@media (max-width:480px){.page__contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"]],data:{}});function mk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","page"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","page__contents"]],null,null,null,null,null)),l.Jb(null,0)],null,null)}function fk(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,mk)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.shown)}),null)}var yk=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.slide[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;text-align:center}.slide__title[_ngcontent-%COMP%]{margin-bottom:16px;font-weight:600;font-size:18px;letter-spacing:.45px;line-height:1.4em}.slide__content[_ngcontent-%COMP%]{margin-bottom:16px;font-size:16px;letter-spacing:.4px;line-height:1.5em;max-width:600px}.slide__image[_ngcontent-%COMP%]{margin:24px auto;width:100%}.slide__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-weight:500;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.slide--expanded[_ngcontent-%COMP%]   .slide__title[_ngcontent-%COMP%]{margin:16px}.slide--expanded[_ngcontent-%COMP%]   .slide__content[_ngcontent-%COMP%]{margin:48px}.slide--expanded[_ngcontent-%COMP%]   .slide__image[_ngcontent-%COMP%]{margin:48px auto}@media (max-width:768px){.slide__image[_ngcontent-%COMP%]{max-width:400px auto;margin:16px}.slide__title[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em;margin-bottom:12px}.slide__content[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;margin-bottom:12px}.slide__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}}@media (max-width:480px){.slide__title[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;margin-bottom:8px}.slide__content[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em;margin-bottom:8px}.slide__image[_ngcontent-%COMP%]{margin:4px auto}.slide__footer[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"]],data:{animation:[{type:7,name:"refresh",definitions:[{type:1,expr:":enter",animation:[{type:10,animation:QC.slideTransition,options:{params:{duration:500,from:100,to:0}}}],options:null}],options:{}}]}});function xk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"h1",[["class","slide__title"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.title)}))}function _k(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["class","slide__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.image)}))}function vk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,8,"div",[["class","slide"]],[[24,"@refresh",0],[2,"slide--expanded",null]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,xk)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(3,0,null,null,1,"article",[["class","slide__content"]],null,null,null,null,null)),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,_k)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(7,0,null,null,1,"div",[["class","slide__footer"]],null,null,null,null,null)),l.Jb(null,1)],(function(e,t){var n=t.component;e(t,2,0,n.title),e(t,6,0,n.image)}),(function(e,t){e(t,0,0,void 0,"expanded"===t.component.spacing)}))}function Ok(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,vk)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.shown)}),null)}var wk=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Ck=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-tour-success{width:52px;height:52px;display:-webkit-box;display:flex;background-color:#1bbc66;border-radius:50%;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.view-tour-success__icon{font-size:36px;letter-spacing:.9px;line-height:1.4em;color:#fff}.view-tour-success--inline{display:-webkit-inline-box;display:inline-flex;width:32px;height:32px}.view-tour-success--inline .view-tour-success__icon{font-size:18px;letter-spacing:.45px;line-height:1.4em}@media (max-width:768px){.view-tour-success{width:36px;height:36px}.view-tour-success__icon{font-size:20px;letter-spacing:.5px;line-height:1.4em}.view-tour-success--inline{display:-webkit-inline-box;display:inline-flex;width:24px;height:24px}.view-tour-success--inline .view-tour-success__icon{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"]],data:{}});function jk(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-tour-success"]],[[2,"view-tour-success--inline",null]],null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["class","view-tour-success__icon"],["icon","check"]],null,null,null,fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,2,0,"check")}),(function(e,t){e(t,0,0,t.component.inline)}))}var kk=function(){function e(e){this.viewService=e,this.triggers=lk}return e.prototype.ngOnInit=function(){},e.prototype.handleStartClick=function(){this.viewService.toggleTutorial(!1)},e}(),Sk=l.wb({encapsulation:0,styles:[[""]],data:{}});function Pk(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,56,"app-view-tour-pages",[],null,null,null,nk,Jj)),l.xb(1,4440064,null,1,Zj,[O.i,l.i],null,null),l.Qb(603979776,1,{pages:1}),(e()(),l.yb(3,0,null,0,9,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(4,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,2,{slides:1}),(e()(),l.yb(6,0,null,0,2,"app-view-tour-slide",[["title","Rotate"]],null,null,null,Ok,yk)),l.xb(7,4440064,[[2,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Tap and drag with one finger to change the viewing angle. "])),(e()(),l.yb(9,0,null,0,3,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(10,4440064,[[2,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(11,0,null,0,1,"app-view-tour-success",[],null,null,null,jk,Ck)),l.xb(12,114688,null,0,wk,[],null,null),(e()(),l.yb(13,0,null,0,9,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(14,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,3,{slides:1}),(e()(),l.yb(16,0,null,0,2,"app-view-tour-slide",[["title","Zoom"]],null,null,null,Ok,yk)),l.xb(17,4440064,[[3,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Pinch with two fingers to zoom in or out. "])),(e()(),l.yb(19,0,null,0,3,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(20,4440064,[[3,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(21,0,null,0,1,"app-view-tour-success",[],null,null,null,jk,Ck)),l.xb(22,114688,null,0,wk,[],null,null),(e()(),l.yb(23,0,null,0,9,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(24,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,4,{slides:1}),(e()(),l.yb(26,0,null,0,2,"app-view-tour-slide",[["title","Pan"]],null,null,null,Ok,yk)),l.xb(27,4440064,[[4,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Use two fingers to adjust the model's position. "])),(e()(),l.yb(29,0,null,0,3,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(30,4440064,[[4,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(31,0,null,0,1,"app-view-tour-success",[],null,null,null,jk,Ck)),l.xb(32,114688,null,0,wk,[],null,null),(e()(),l.yb(33,0,null,0,14,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(34,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,5,{slides:1}),(e()(),l.yb(36,0,null,0,2,"app-view-tour-slide",[["title","Explore the Anatomy"]],null,null,null,Ok,yk)),l.xb(37,4440064,[[5,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Tap on an individual part of the model to highlight anatomy. "])),(e()(),l.yb(39,0,null,0,8,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(40,4440064,[[5,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(41,0,null,0,6,"div",[["class","flex justify-start items-center"]],null,null,null,null,null)),(e()(),l.yb(42,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l.yb(43,0,null,null,1,"app-view-tour-success",[["class","mr-2"]],null,null,null,jk,Ck)),l.xb(44,114688,null,0,wk,[],{inline:[0,"inline"]},null),(e()(),l.yb(45,0,null,null,1,"strong",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Tip:"])),(e()(),l.Sb(-1,null,[" Double-tap to zoom in on specific structures. "])),(e()(),l.yb(48,0,null,0,8,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(49,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,6,{slides:1}),(e()(),l.yb(51,0,null,0,5,"app-view-tour-slide",[["image","assets/images/tutorial/tutorial-toolbar@3x.png"],["title","Toolbar"]],null,null,null,Ok,yk)),l.xb(52,4440064,[[6,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],image:[1,"image"]},null),(e()(),l.Sb(-1,0,[" Use the toolbar to navigate through the 3D experience, launch deeper exploration tools, and relaunch this tutorial. "])),(e()(),l.yb(54,0,null,1,2,"div",[["class","flex flex-column items-center justify-center"],["slide-footer",""]],null,null,null,null,null)),(e()(),l.yb(55,0,null,null,1,"button",[["app-view-rounded-button",""],["aria-label","Start Exploring"],["buttonType","solid"],["class","mt-4"],["label","Start Exploring!"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleStartClick()&&l),l}),Xj,qj)),l.xb(56,114688,null,0,Gj,[],{label:[0,"label"],buttonType:[1,"buttonType"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0),e(t,7,0,"Rotate","camera-rotate"),e(t,10,0),e(t,12,0),e(t,14,0),e(t,17,0,"Zoom",n.triggers.CameraZoom),e(t,20,0),e(t,22,0),e(t,24,0),e(t,27,0,"Pan",n.triggers.CameraPan),e(t,30,0),e(t,32,0),e(t,34,0),e(t,37,0,"Explore the Anatomy",n.triggers.NodeSelection),e(t,40,0),e(t,44,0,!0),e(t,49,0),e(t,52,0,"Toolbar","assets/images/tutorial/tutorial-toolbar@3x.png"),e(t,56,0,"Start Exploring!","solid")}),null)}var Mk=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Ik=l.wb({encapsulation:2,styles:[[".view-tour-tip-button{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;vertical-align:middle;color:#131c2a;background-color:#fff;border-radius:2px;font-weight:700;padding:4px;width:24px;height:24px}@media (max-width:768px){.view-tour-tip-button{width:20px;height:20px}}"]],data:{}});function Tk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-icon",[],null,null,null,fe,me)),l.xb(1,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,t.component.icon)}),null)}function Kk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Sb(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function zk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Tk)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Kk)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.icon),e(t,4,0,n.icon)}),null)}function Uk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function Ek(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,5,"div",[["class","view-tour-tip-button mv-1 mh-1"]],null,null,null,null,null)),l.xb(1,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.ob(16777216,null,null,1,null,zk)),l.xb(3,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,null,1,null,Uk)),l.xb(5,16384,null,0,ce.s,[l.T,l.Q,ce.q],null,null)],(function(e,t){e(t,1,0,!!t.component.icon),e(t,3,0,!0)}),null)}var Lk=function(){function e(e){this.viewService=e,this.triggers=lk}return e.prototype.ngOnInit=function(){this.captureScroll$=this.scrollMode$.pipe(Object(s.a)((function(e){return e===lr.Capture})))},e.prototype.handleStartClick=function(){this.viewService.toggleTutorial(!1)},Object(v.__decorate)([Object(O.e)(oy.getScrollMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"scrollMode$",void 0),e}(),Ak=l.wb({encapsulation:0,styles:[[""]],data:{}});function Fk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Hold the control key and scroll up and down to zoom in or out. "]))],null,null)}function Dk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Scroll up and down to zoom in or out. "]))],null,null)}function Nk(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,100,"app-view-tour-pages",[],null,null,null,nk,Jj)),l.xb(1,4440064,null,1,Zj,[O.i,l.i],null,null),l.Qb(603979776,1,{pages:1}),(e()(),l.yb(3,0,null,0,23,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(4,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,2,{slides:1}),(e()(),l.yb(6,0,null,0,2,"app-view-tour-slide",[["title","Rotate"]],null,null,null,Ok,yk)),l.xb(7,4440064,[[2,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Click and drag the model to change the viewing angle. "])),(e()(),l.yb(9,0,null,0,17,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(10,4440064,[[2,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(11,0,null,0,15,"div",[["class","flex justify-start items-center"]],null,null,null,null,null)),(e()(),l.yb(12,0,null,null,14,"div",[],null,null,null,null,null)),(e()(),l.yb(13,0,null,null,1,"app-view-tour-success",[["class","mr-2"]],null,null,null,jk,Ck)),l.xb(14,114688,null,0,wk,[],{inline:[0,"inline"]},null),(e()(),l.yb(15,0,null,null,1,"strong",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Tip:"])),(e()(),l.Sb(-1,null,[" You can also use the arrow keys "])),(e()(),l.yb(18,0,null,null,1,"app-view-tour-tip-button",[["icon","caret-up"],["label","up"]],null,null,null,Ek,Ik)),l.xb(19,114688,null,0,Mk,[],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),l.yb(20,0,null,null,1,"app-view-tour-tip-button",[["icon","caret-down"],["label","down"]],null,null,null,Ek,Ik)),l.xb(21,114688,null,0,Mk,[],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),l.yb(22,0,null,null,1,"app-view-tour-tip-button",[["icon","caret-left"],["label","left"]],null,null,null,Ek,Ik)),l.xb(23,114688,null,0,Mk,[],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),l.yb(24,0,null,null,1,"app-view-tour-tip-button",[["icon","caret-right"],["label","right"]],null,null,null,Ek,Ik)),l.xb(25,114688,null,0,Mk,[],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),l.Sb(-1,null,[" to rotate. "])),(e()(),l.yb(27,0,null,0,25,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(28,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,3,{slides:1}),(e()(),l.yb(30,0,null,0,7,"app-view-tour-slide",[["title","Zoom"]],null,null,null,Ok,yk)),l.xb(31,16384,null,0,ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),l.Mb(131072,ce.b,[l.i]),l.xb(33,4440064,[[3,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.ob(16777216,null,0,1,null,Fk)),l.xb(35,278528,null,0,ce.r,[l.T,l.Q,ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.ob(16777216,null,0,1,null,Dk)),l.xb(37,16384,null,0,ce.s,[l.T,l.Q,ce.q],null,null),(e()(),l.yb(38,0,null,0,14,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(39,4440064,[[3,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(40,0,null,0,12,"div",[["class","flex justify-start items-center"]],null,null,null,null,null)),(e()(),l.yb(41,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),l.yb(42,0,null,null,1,"app-view-tour-success",[["class","mr-2"]],null,null,null,jk,Ck)),l.xb(43,114688,null,0,wk,[],{inline:[0,"inline"]},null),(e()(),l.yb(44,0,null,null,1,"strong",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Tip:"])),(e()(),l.Sb(-1,null,[" You can also use "])),(e()(),l.yb(47,0,null,null,1,"app-view-tour-tip-button",[["label","+"]],null,null,null,Ek,Ik)),l.xb(48,114688,null,0,Mk,[],{label:[0,"label"]},null),(e()(),l.Sb(-1,null,[" to zoom in and "])),(e()(),l.yb(50,0,null,null,1,"app-view-tour-tip-button",[["label","-"]],null,null,null,Ek,Ik)),l.xb(51,114688,null,0,Mk,[],{label:[0,"label"]},null),(e()(),l.Sb(-1,null,[" to zoom out. "])),(e()(),l.yb(53,0,null,0,23,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(54,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,4,{slides:1}),(e()(),l.yb(56,0,null,0,2,"app-view-tour-slide",[["title","Pan"]],null,null,null,Ok,yk)),l.xb(57,4440064,[[4,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Hold the shift key and drag to move the model's position. "])),(e()(),l.yb(59,0,null,0,17,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(60,4440064,[[4,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(61,0,null,0,15,"div",[["class","flex justify-start items-center"]],null,null,null,null,null)),(e()(),l.yb(62,0,null,null,14,"div",[],null,null,null,null,null)),(e()(),l.yb(63,0,null,null,1,"app-view-tour-success",[["class","mr-2"]],null,null,null,jk,Ck)),l.xb(64,114688,null,0,wk,[],{inline:[0,"inline"]},null),(e()(),l.yb(65,0,null,null,1,"strong",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Tip:"])),(e()(),l.Sb(-1,null,[" You can also use the "])),(e()(),l.yb(68,0,null,null,1,"app-view-tour-tip-button",[["label","W"]],null,null,null,Ek,Ik)),l.xb(69,114688,null,0,Mk,[],{label:[0,"label"]},null),(e()(),l.yb(70,0,null,null,1,"app-view-tour-tip-button",[["label","A"]],null,null,null,Ek,Ik)),l.xb(71,114688,null,0,Mk,[],{label:[0,"label"]},null),(e()(),l.yb(72,0,null,null,1,"app-view-tour-tip-button",[["label","S"]],null,null,null,Ek,Ik)),l.xb(73,114688,null,0,Mk,[],{label:[0,"label"]},null),(e()(),l.yb(74,0,null,null,1,"app-view-tour-tip-button",[["label","D"]],null,null,null,Ek,Ik)),l.xb(75,114688,null,0,Mk,[],{label:[0,"label"]},null),(e()(),l.Sb(-1,null,[" keys to pan. "])),(e()(),l.yb(77,0,null,0,14,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(78,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,5,{slides:1}),(e()(),l.yb(80,0,null,0,2,"app-view-tour-slide",[["title","Explore the Anatomy"]],null,null,null,Ok,yk)),l.xb(81,4440064,[[5,4]],0,dk,[O.i,O.b,uu,vt,l.i],{title:[0,"title"],trigger:[1,"trigger"]},null),(e()(),l.Sb(-1,0,[" Click on an individual part of the model to highlight anatomy. "])),(e()(),l.yb(83,0,null,0,8,"app-view-tour-slide",[],null,null,null,Ok,yk)),l.xb(84,4440064,[[5,4]],0,dk,[O.i,O.b,uu,vt,l.i],null,null),(e()(),l.yb(85,0,null,0,6,"div",[["class","flex justify-start items-center"]],null,null,null,null,null)),(e()(),l.yb(86,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l.yb(87,0,null,null,1,"app-view-tour-success",[["class","mr-2"]],null,null,null,jk,Ck)),l.xb(88,114688,null,0,wk,[],{inline:[0,"inline"]},null),(e()(),l.yb(89,0,null,null,1,"strong",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Tip:"])),(e()(),l.Sb(-1,null,[" Double-click to zoom in on specific structures. "])),(e()(),l.yb(92,0,null,0,8,"app-view-tour-page",[],null,null,null,fk,hk)),l.xb(93,4440064,[[1,4]],1,gk,[l.i],null,null),l.Qb(603979776,6,{slides:1}),(e()(),l.yb(95,0,null,0,5,"app-view-tour-slide",[["image","assets/images/tutorial/tutorial-toolbar@3x.png"]],null,null,null,Ok,yk)),l.xb(96,4440064,[[6,4]],0,dk,[O.i,O.b,uu,vt,l.i],{image:[0,"image"]},null),(e()(),l.Sb(-1,0,[" Use the toolbar to navigate through the 3D experience, launch deeper exploration tools, and relaunch this tutorial. "])),(e()(),l.yb(98,0,null,1,2,"div",[["class","flex flex-column items-center justify-center"],["slide-footer",""]],null,null,null,null,null)),(e()(),l.yb(99,0,null,null,1,"button",[["app-view-rounded-button",""],["aria-label","Start Exploring"],["buttonType","solid"],["class","mt-4"],["label","Start Exploring!"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleStartClick()&&l),l}),Xj,qj)),l.xb(100,114688,null,0,Gj,[],{label:[0,"label"],buttonType:[1,"buttonType"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0),e(t,7,0,"Rotate",n.triggers.CameraRotate),e(t,10,0),e(t,14,0,!0),e(t,19,0,"up","caret-up"),e(t,21,0,"down","caret-down"),e(t,23,0,"left","caret-left"),e(t,25,0,"right","caret-right"),e(t,28,0),e(t,31,0,l.Tb(t,31,0,l.Kb(t,32).transform(n.captureScroll$))),e(t,33,0,"Zoom",n.triggers.CameraZoom),e(t,35,0,!1),e(t,39,0),e(t,43,0,!0),e(t,48,0,"+"),e(t,51,0,"-"),e(t,54,0),e(t,57,0,"Pan",n.triggers.CameraPan),e(t,60,0),e(t,64,0,!0),e(t,69,0,"W"),e(t,71,0,"A"),e(t,73,0,"S"),e(t,75,0,"D"),e(t,78,0),e(t,81,0,"Explore the Anatomy",n.triggers.NodeSelection),e(t,84,0),e(t,88,0,!0),e(t,93,0),e(t,96,0,"assets/images/tutorial/tutorial-toolbar@3x.png"),e(t,100,0,"Start Exploring!","solid")}),null)}var Rk=function(){function e(e,t,n,l,i){this.store=e,this.viewService=t,this.engineService=n,this.storageService=l,this.renderer=i,this.tourStarted=!1,this.tourEnded=!1,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){this.initListeners(),this.storageService.setLocalItem(al.GettingStartedTutorial,!0)},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initListeners=function(){var e=this;this.tutorial$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.pageIndex,l=t.pageSize;e.tourStarted=n>-1,e.tourEnded=n===l-1})),Object(Kg.a)(window,"keyup").pipe(Object(te.a)((function(e){return"Escape"===e.key})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.exit()}))},e.prototype.handleExitClick=function(){this.exit()},e.prototype.handleStartClick=function(){this.store.dispatch(new y.StartTutorial(!1))},e.prototype.exit=function(){this.viewService.toggleTutorial(!1)},Object(v.__decorate)([Object(O.e)(My.getCanTouch),Object(v.__metadata)("design:type",J.a)],e.prototype,"canTouch$",void 0),Object(v.__decorate)([Object(O.e)(My.getTutorial),Object(v.__metadata)("design:type",J.a)],e.prototype,"tutorial$",void 0),e}(),Bk=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tour[_ngcontent-%COMP%]{color:#fff;position:fixed;top:0;right:0;bottom:0;left:0;z-index:100;pointer-events:none;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;overflow:auto}.tour__title[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.tour__welcome[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;margin:16px auto 32px}.tour__intro[_ngcontent-%COMP%]{background:rgba(16,24,35,.9);border-radius:16px;margin:auto;padding:28px 32px;text-align:center}.tour__header[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:none;align-self:flex-end;justify-self:flex-start;margin:24px}.tour__contents[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:end;justify-content:flex-end;width:100%}.tour__footer[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.tour__nav-arrow[_ngcontent-%COMP%]{font-size:32px;letter-spacing:.8px;line-height:1.4em;cursor:pointer}.tour--ended[_ngcontent-%COMP%]   .tour__contents[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}@media (max-width:768px){.tour__intro[_ngcontent-%COMP%]{border-radius:12px;padding:20px 24px;margin:auto 12%}.tour__intro__title[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.tour__intro__content[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;max-width:80%}.tour__header[_ngcontent-%COMP%]{margin:12px;font-size:14px;letter-spacing:.35px;line-height:1.4em}.tour__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.tour__nav-arrow[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}}@media (max-width:480px){.tour__intro[_ngcontent-%COMP%]{border-radius:8px;padding:16px 20px;margin:auto 10%}.tour__intro__title[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.tour__intro__content[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em;margin:12px auto 16px}.tour__header[_ngcontent-%COMP%]{margin:12px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.tour__footer[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.tour__nav-arrow[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}}"]],data:{animation:[{type:7,name:"refresh",definitions:[{type:1,expr:":enter",animation:[{type:10,animation:QC.slideTransition,options:{params:{duration:500,from:100,to:0}}}],options:null}],options:{}}]}});function Hk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,9,"div",[["class","tour__intro"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"h1",[["class","tour__title"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Getting Started"])),(e()(),l.yb(3,0,null,null,1,"p",[["class","tour__welcome"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Welcome! This tutorial will teach you how to navigate and explore in 3D. "])),(e()(),l.yb(5,0,null,null,4,"div",[["class","tour__footer"]],null,null,null,null,null)),(e()(),l.yb(6,0,null,null,1,"button",[["app-view-rounded-button",""],["aria-label","Exit Tutorial"],["buttonType","outline"],["class","mr-3 text-medium"],["label","No, Thanks."]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),Xj,qj)),l.xb(7,114688,null,0,Gj,[],{label:[0,"label"],buttonType:[1,"buttonType"]},null),(e()(),l.yb(8,0,null,null,1,"button",[["app-view-rounded-button",""],["aria-label","Start Tutorial"],["buttonType","solid"],["class","ml-3 text-medium"],["label","Start Tutorial"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleStartClick()&&l),l}),Xj,qj)),l.xb(9,114688,null,0,Gj,[],{label:[0,"label"],buttonType:[1,"buttonType"]},null)],(function(e,t){e(t,7,0,"No, Thanks.","outline"),e(t,9,0,"Start Tutorial","solid")}),null)}function Vk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-tour-mobile",[],null,null,null,Pk,Sk)),l.xb(1,114688,null,0,kk,[Zy],null,null)],(function(e,t){e(t,1,0)}),null)}function $k(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-tour-desktop",[],null,null,null,Nk,Ak)),l.xb(1,114688,null,0,Lk,[Zy],null,null)],(function(e,t){e(t,1,0)}),null)}function Qk(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,"div",[["class","tour__contents"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,Vk)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,$k)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,l.Tb(t,2,0,l.Kb(t,3).transform(n.canTouch$))),e(t,5,0,!l.Tb(t,5,0,l.Kb(t,6).transform(n.canTouch$)))}),null)}function Wk(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,4,"div",[["class","tour"]],[[24,"@refresh",0],[2,"tour--started",null],[2,"tour--ended",null]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,Hk)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,Qk)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.tourStarted),e(t,4,0,n.tourStarted)}),(function(e,t){var n=t.component;e(t,0,0,void 0,n.tourStarted,n.tourEnded)}))}var Gk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qk=function(){function e(e,t){this.store=e,this.changeDetectorRef=t,this.ngUnsubscribe=new Z.a,this.visible=!1}return e.prototype.beforePrint=function(e){this.visible=!0,this.changeDetectorRef.markForCheck()},e.prototype.afterPrint=function(e){this.visible=!1,this.changeDetectorRef.markForCheck()},e.prototype.ngOnInit=function(){this.initImageUrlListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initImageUrlListener=function(){var e=this;Object(hd.b)(this.storyChapters$,this.store.select(Ac.getRegisteredThumbnails)).pipe(Object(te.a)((function(e){var t=Gk(e,2);return t[0].length>0&&t[1].size>0})),Object(s.a)((function(e){var t=Gk(e,2);return t[1].get(t[0][0].id).urls.large})),Object(Bh.a)(),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.imageUrl=t,e.changeDetectorRef.markForCheck()}))},Object(v.__decorate)([Object(O.e)(Ac.getStoryChapters),Object(v.__metadata)("design:type",J.a)],e.prototype,"storyChapters$",void 0),e}(),Yk=l.wb({encapsulation:0,styles:[[".view-print[_ngcontent-%COMP%]{background-color:#fff;display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10000;justify-content:space-around;margin:auto;margin-top:0!important}@media print{.view-print[_ngcontent-%COMP%]{display:-webkit-box;display:flex}}.view-print__scrim[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.view-print__image[_ngcontent-%COMP%]{display:block;-webkit-box-flex:1;flex:1 1 auto;-o-object-fit:contain;object-fit:contain;margin:0 auto;z-index:1}"]],data:{}});function Xk(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-print"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,0,"img",[["class","view-print__scrim"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"img",[["class","view-print__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,2,0,t.component.imageUrl)}))}var Zk=function(){function e(){this.selected=!1}return e.prototype.ngOnInit=function(){},e}(),Jk=l.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}[app-view-list-item]{border-color:transparent;background:0 0;border-width:0;padding:0;outline:0;margin:0;pointer-events:all;display:-webkit-box;display:flex;width:100%}[app-view-list-item]::-moz-focus-inner{border:0}[app-view-list-item]:not([disabled]):hover{cursor:pointer}.view-list-item{font-size:14px;letter-spacing:.35px;line-height:1.4em;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;padding:12px;border-radius:2px;border-left:4px solid transparent;background-color:transparent;color:#131c2a;border-left:var(--view-chapters-border);background-color:var(--view-chapters-bg);color:var(--view-chapters-color);-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-list-item:hover{cursor:pointer;background:var(--view-chapters-bg--hover)}.view-list-item:focus{background:#e4ecf9;outline:0}.view-list-item--selected{border-left:4px solid #2d72dc;background-color:#f1f5fc;background:var(--view-chapters-bg--selected);border-left:var(--view-chapters-border--selected)}.view-list-item__index{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 32px;-webkit-box-pack:center;justify-content:center}.view-list-item__title{word-wrap:break-word;overflow-wrap:break-word;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding-right:4px}.view-list-item__thumb{background-color:#f9fafd;background-color:var(--view-chapters-thumb-bg);background-size:cover;border-radius:4px;background-repeat:no-repeat;-webkit-box-flex:0;flex:0 0 56px;height:56px;width:56px;-webkit-transition:border-color .1s;transition:border-color .1s}"]],data:{}});function eS(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,4,"div",[["class","view-list-item"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"view-list-item--selected":0}),l.Jb(null,0)],(function(e,t){var n=e(t,3,0,t.component.selected);e(t,2,0,"view-list-item",n)}),null)}var tS=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),nS=l.wb({encapsulation:2,styles:[[".view-list-container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"]],data:{}});function lS(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,1,"div",[["class","view-list-container"]],null,null,null,null,null)),l.Jb(null,0)],null,null)}var iS=function(){function e(e,t){this.store=e,this.viewService=t}return e.prototype.ngOnInit=function(){},e.prototype.handleCloseClick=function(){this.store.dispatch(new y.ToggleMenu(!1))},e.prototype.handleToggleLabelsClick=function(){this.viewService.toggleLabels()},e.prototype.handleFullscreenClick=function(){this.handleCloseClick(),kf.toggleFullscreen()},e.prototype.handleNewTabClick=function(){this.handleCloseClick(),this.viewService.openInNewTab()},e.prototype.handleSearchClick=function(){this.handleCloseClick(),this.viewService.toggleSearch()},e.prototype.handleTutorialClick=function(){this.handleCloseClick(),this.viewService.toggleTutorial(!0)},e.prototype.handleHelpBasicsClick=function(){this.handleCloseClick(),this.viewService.toggleHelp(!0,ne.Basics)},e.prototype.handleHelpShortcutsClick=function(){this.handleCloseClick(),this.viewService.toggleHelp(!0,ne.Shortcuts)},e.prototype.handleToggleToolbar=function(e){this.handleCloseClick();var t=this.store.selectSnapshot(My.getLayout);t.media.status=ay.Hide,t.tools.status=ay.Hide,t.toolbar.status=ay.Hide,t[e].status=ay.Show,this.store.dispatch(new y.SetLayout(t))},Object(v.__decorate)([Object(O.e)(My.getMenuOpen),Object(v.__metadata)("design:type",J.a)],e.prototype,"menuOpen$",void 0),Object(v.__decorate)([Object(O.e)(My.getCanTouch),Object(v.__metadata)("design:type",J.a)],e.prototype,"canTouch$",void 0),Object(v.__decorate)([Object(O.e)(oy.getShowLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"showLabels$",void 0),e}(),oS=l.wb({encapsulation:0,styles:[[".view-menu-column[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:10000;height:100%}.view-menu-scrim[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.view-menu-scrim[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(320px)"},offset:null},{type:4,styles:{type:6,styles:{transform:"*"},offset:null},timings:"200ms ease-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(320px)"},offset:null},timings:"200ms"}],options:null}],options:{}}]}});function aS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","view-menu-scrim"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),null,null))],null,null)}function rS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","text-dim"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["(On)"]))],null,null)}function uS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"span",[["class","text-dim"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["(Off)"]))],null,null)}function cS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleHelpShortcutsClick()&&l),l}),eS,Jk)),l.xb(1,114688,null,0,Zk,[],null,null),(e()(),l.Sb(-1,0,["Keyboard Shortcuts"]))],(function(e,t){e(t,1,0)}),null)}function sS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,61,"app-view-column",[["class","view-menu-column"],["placement","right"]],[[24,"@slideInOut",0]],null,null,Ev,Uv)),l.xb(1,114688,null,0,zv,[],{placement:[0,"placement"]},null),(e()(),l.yb(2,0,null,1,59,"nav",[["app-view-list-container",""]],null,null,null,lS,nS)),l.xb(3,114688,null,0,tS,[],null,null),(e()(),l.yb(4,0,null,0,3,"app-view-panel",[["padding","dense"]],null,null,null,Dv,Av)),l.xb(5,114688,null,0,Lv,[],{showHeader:[0,"showHeader"],padding:[1,"padding"]},null),(e()(),l.yb(6,0,null,1,1,"app-view-logo",[],null,null,null,EC,KC)),l.xb(7,114688,null,0,TC,[],null,null),(e()(),l.yb(8,0,null,0,4,"app-view-panel",[["padding","dense"]],null,null,null,Dv,Av)),l.xb(9,114688,null,0,Lv,[],{showHeader:[0,"showHeader"],padding:[1,"padding"]},null),(e()(),l.yb(10,0,null,1,2,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),eS,Jk)),l.xb(11,114688,null,0,Zk,[],null,null),(e()(),l.Sb(-1,0,[" Close "])),(e()(),l.yb(13,0,null,0,16,"app-view-panel",[["padding","dense"]],null,null,null,Dv,Av)),l.xb(14,114688,null,0,Lv,[],{showHeader:[0,"showHeader"],padding:[1,"padding"]},null),(e()(),l.yb(15,0,null,1,4,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleToggleToolbar("tools")&&l),l}),eS,Jk)),l.xb(16,114688,null,0,Zk,[],null,null),(e()(),l.yb(17,0,null,0,1,"app-icon",[["class","mr-3"],["icon","pen"]],null,null,null,fe,me)),l.xb(18,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,0,[" Open Explore Tools "])),(e()(),l.yb(20,0,null,1,4,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleToggleToolbar("media")&&l),l}),eS,Jk)),l.xb(21,114688,null,0,Zk,[],null,null),(e()(),l.yb(22,0,null,0,1,"app-icon",[["class","mr-3"],["icon","play"]],null,null,null,fe,me)),l.xb(23,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,0,[" Open Media Controls "])),(e()(),l.yb(25,0,null,1,4,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSearchClick()&&l),l}),eS,Jk)),l.xb(26,114688,null,0,Zk,[],null,null),(e()(),l.yb(27,0,null,0,1,"app-icon",[["class","mr-3"],["icon","search"]],null,null,null,fe,me)),l.xb(28,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,0,[" Search Anatomy "])),(e()(),l.yb(30,0,null,0,6,"app-view-panel",[["padding","dense"]],null,null,null,Dv,Av)),l.xb(31,114688,null,0,Lv,[],{showHeader:[0,"showHeader"],padding:[1,"padding"]},null),(e()(),l.yb(32,0,null,1,4,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleFullscreenClick()&&l),l}),eS,Jk)),l.xb(33,114688,null,0,Zk,[],null,null),(e()(),l.yb(34,0,null,0,1,"app-icon",[["class","mr-3"],["icon","expand"]],null,null,null,fe,me)),l.xb(35,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.Sb(-1,0,[" Enter Fullscreen "])),(e()(),l.yb(37,0,null,0,13,"app-view-panel",[["padding","dense"]],null,null,null,Dv,Av)),l.xb(38,114688,null,0,Lv,[],{showHeader:[0,"showHeader"],padding:[1,"padding"]},null),(e()(),l.yb(39,0,null,1,11,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleToggleLabelsClick()&&l),l}),eS,Jk)),l.xb(40,114688,null,0,Zk,[],null,null),(e()(),l.yb(41,0,null,0,1,"app-icon",[["class","mr-3"],["icon","tag"]],null,null,null,fe,me)),l.xb(42,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.yb(43,0,null,0,1,"span",[["class","mr-3"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,["Toggle Labels"])),(e()(),l.ob(16777216,null,0,2,null,rS)),l.xb(46,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,uS)),l.xb(49,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(51,0,null,0,10,"app-view-panel",[["padding","dense"]],null,null,null,Dv,Av)),l.xb(52,114688,null,0,Lv,[],{showHeader:[0,"showHeader"],padding:[1,"padding"]},null),(e()(),l.yb(53,0,null,1,2,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTutorialClick()&&l),l}),eS,Jk)),l.xb(54,114688,null,0,Zk,[],null,null),(e()(),l.Sb(-1,0,["Launch Tutorial"])),(e()(),l.yb(56,0,null,1,2,"button",[["app-view-list-item",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleHelpBasicsClick()&&l),l}),eS,Jk)),l.xb(57,114688,null,0,Zk,[],null,null),(e()(),l.Sb(-1,0,["3D Navigation Basics"])),(e()(),l.ob(16777216,null,1,2,null,cS)),l.xb(60,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"right"),e(t,3,0),e(t,5,0,!1,"dense"),e(t,7,0),e(t,9,0,!1,"dense"),e(t,11,0),e(t,14,0,!1,"dense"),e(t,16,0),e(t,18,0,"pen"),e(t,21,0),e(t,23,0,"play"),e(t,26,0),e(t,28,0,"search"),e(t,31,0,!1,"dense"),e(t,33,0),e(t,35,0,"expand"),e(t,38,0,!1,"dense"),e(t,40,0),e(t,42,0,"tag"),e(t,46,0,l.Tb(t,46,0,l.Kb(t,47).transform(n.showLabels$))),e(t,49,0,!l.Tb(t,49,0,l.Kb(t,50).transform(n.showLabels$))),e(t,52,0,!1,"dense"),e(t,54,0),e(t,57,0),e(t,60,0,!l.Tb(t,60,0,l.Kb(t,61).transform(n.canTouch$)))}),(function(e,t){e(t,0,0,void 0)}))}function pS(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,2,null,aS)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,sS)),l.xb(4,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.menuOpen$))),e(t,4,0,l.Tb(t,4,0,l.Kb(t,5).transform(n.menuOpen$)))}),null)}var dS=function(){function e(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.ngUnsubscribe=new Z.a,this.isIn=!1}return e.prototype.ngOnInit=function(){var e=this;Object(hd.b)(this.chapter$,this.layout$).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2);e.isIn=n[1].column.status===ay.Collapse,e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isVisible=function(){return this.layoutService.isVisible(Wy.ColumnToggle)},e.prototype.handleToggleClick=function(){this.viewService.toggleColumn(),this.viewService.toggleSearch(!1),this.viewService.toggleNodeInfo(!1),this.viewService.toggleLabelInfo(!1),this.changeDetectorRef.markForCheck()},Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),e}(),bS=l.wb({encapsulation:2,styles:[[".view-column-toggle{background:#fff;color:#131c2a;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);background:var(--view-column-toggle-background);box-shadow:var(--view-column-toggle-shadow);color:var(--view-column-toggle-color);border-radius:0 4px 4px 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:24px;height:48px}.view-column-toggle:hover{background-color:#131c2a;background-color:var(--view-column-toggle-background--hover);cursor:pointer}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateX(-32px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-32px)",opacity:0},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function gS(e){return l.Ub(0,[(e()(),l.yb(0,16777216,null,null,3,"div",[["class","view-column-toggle"],["matTooltipPosition","right"]],[[24,"@show",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,o=e.component;return"longpress"===t&&(i=!1!==l.Kb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Kb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Kb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==o.handleToggleClick()&&i),i}),null,null)),l.xb(1,212992,null,0,it.d,[nt.a,l.l,ot.f,l.T,l.C,at.a,ve.c,ve.e,it.b,[2,lt.b],[2,it.a],[2,rt.f]],{position:[0,"position"],message:[1,"message"]},null),(e()(),l.yb(2,0,null,null,1,"app-icon",[],null,null,null,fe,me)),l.xb(3,114688,null,0,he,[],{icon:[0,"icon"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"right",n.isIn?"Show Column":"Hide Column"),e(t,3,0,n.isIn?"caret-right":"caret-left")}),(function(e,t){e(t,0,0,void 0)}))}function hS(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,gS)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isVisible())}),null)}var mS=n("imBb"),fS=n("7sSR"),yS=function(){function e(e,t){this.storyLoadProgress=e,this.chunkLoadProgress=t}return e.type="[Engine Progress] set progress",e}(),xS={storyLoadProgress:0,chunkLoadProgress:0},_S=function(){function e(e){this.store=e}return e.getStoryLoadProgress=function(e){return e.storyLoadProgress},e.getChunkLoadProgress=function(e){return e.chunkLoadProgress},e.prototype.setProgress=function(e,t){e.patchState({storyLoadProgress:t.storyLoadProgress,chunkLoadProgress:t.chunkLoadProgress})},Object(v.__decorate)([Object(O.a)(yS),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,yS]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setProgress",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e,"getStoryLoadProgress",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object]),Object(v.__metadata)("design:returntype",void 0)],e,"getChunkLoadProgress",null),Object(v.__decorate)([Object(O.g)({name:"engineProgress",defaults:xS})],e)}(),vS=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},OS=function(){function e(e,t,n,l,i,o,a,r,u){this.activatedRoute=e,this.renderer=t,this.store=n,this.viewService=l,this.changeDetectorRef=i,this.actions=o,this.layoutService=a,this.engineService=r,this.title=u,this.breakpoint=Vy,this.viewLayoutStatus=ay,this.viewMode=Iy,this.viewLayout=Wy,this.viewWindow=Oy,this.columnLayoutStatus=ay.Hide,this.drawerExpandable=!0,this.drawerOpen=!1,this.drawerY=0,this.loadLabel="",this.loadProgress=0,this.isBackgroundLight=!0,this.selectedChapterLoading=!1,this.viewToolsMode=$w,this.testSelectors=Qw,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){this.resetScene();var e=this.viewService.normalizeQueryParams(this.activatedRoute.snapshot.queryParams);this.viewService.initStory(e.id,e.type,e.lang)},e.prototype.ngAfterViewInit=function(){this.store.dispatch(new Bo({tag:!0,pin:!1})),this.store.dispatch(new Gi(!0));var e=this.store.selectSnapshot(My.getLayout).loader.template===uy.Bar;this.store.dispatch(new Ni(e)),this.checkCapabilities(),this.initSizeObservers(),this.initLayoutObserver(),this.initBreakpointObservers(),this.initKeyboardObserver(),this.initLoadProgressObserver(),this.initWindowObserver(),this.initBackgroundColorObserver(),this.initResponsiveLabels(),this.initNodeObserver(),this.initChapterObserver(),this.positionRelativeElements(this.drawerY)},e.prototype.ngOnDestroy=function(){this.store.dispatch(new Oi(!1)),this.store.dispatch(new yS(0,0)),kf.isFullscreen()&&kf.exitFullscreen(),this.unbindKeyboard(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.checkCapabilities=function(){var e=this,t=this.renderer.listen("window","mouseover",(function(){t(),e.store.dispatch(new y.SetCanHover(!0))})),n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.store.dispatch(new y.SetCanTouch(n)),this.store.dispatch(new y.SetCanFullscreen(kf.canFullscreen()))},e.prototype.initBreakpointObservers=function(){var e=this;this.breakpoint$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.handleResize()}))},e.prototype.initResponsiveLabels=function(){var e=this,t=Object(Kg.a)(window,"resize").pipe(Object(pr.a)(100)),n=this.store.select(My.getLabelsBreakpoint),l=this.store.select(Bc.getSelectedLabel),i=this.store.select(Bc.getLabelsCollapsed);l.pipe(Object(te.a)((function(){return e.store.selectSnapshot(Bc.getLabelsCollapsed)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.toggleLabelInfo(!!t)})),i.pipe(Object(te.a)((function(){return!!e.store.selectSnapshot(Bc.getSelectedLabel)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.toggleLabelInfo(t)})),Object(hd.b)(t,n).pipe(Object(te.a)((function(e){var t=vS(e,2)[1];return!Object(Et.isNil)(t)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.checkLabelsCollapsed()})),this.checkLabelsCollapsed()},e.prototype.initSizeObservers=function(){var e=this,t=fS({strategy:"scroll"});Object(Kg.a)(window,"resize").pipe(Object(pr.a)(10),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.updateViewHeight()})),new J.a((function(n){t.listenTo(e.engineContainer.nativeElement,(function(){n.next()}))})).pipe(Object(pr.a)(10)).subscribe((function(){e.resizeEngineContainer()}))},e.prototype.initLayoutObserver=function(){var e=this;this.layout$.pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.refreshLayout()}))},e.prototype.initKeyboardObserver=function(){var e=this;this.inputEnabled$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){t?e.bindKeyboard():e.unbindKeyboard()}))},e.prototype.initNodeObserver=function(){var e=this;this.actions.pipe(Object(O.l)(zi),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.delegateNodeClick(t.node,t.event)})),this.store.select(_u.getSelectedNode).pipe(Object(Ae.a)(),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=vS(t,2),l=n[0],i=n[1],o=Object(Et.get)(l,"objectId",void 0),a=Object(Et.get)(i,"objectId",void 0);void 0!==i&&o===a||e.viewService.toggleNodeInfo(!1)}))},e.prototype.initChapterObserver=function(){var e=this;this.store.select(Ac.getSelectedChapterId).pipe(Object(te.a)((function(e){return null!=e})),Object(s.a)((function(){return e.store.selectSnapshot(Ac.getSelectedChapter)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.initChapter(t),e.setPageTitle(t),e.refreshLayout()}))},e.prototype.initLoadProgressObserver=function(){var e=this,t=this.store.select(_S.getChunkLoadProgress),n=this.store.select(qs.getLoadingChunk);Object(hd.b)(t,n).pipe(Object(te.a)((function(){var t=e.store.selectSnapshot(qs.getLoadChunks);return null!==t&&t.length>0})),Object(Ae.a)(),Object(te.a)((function(e){var t=vS(e,2);return vS(t[0],2)[0]!==vS(t[1],2)[0]})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=vS(t,2)[1],l=n[0],i=n[1];e.selectedChapterLoading=null!==i&&i.chapterId===e.store.selectSnapshot(Ac.getSelectedChapterId),e.loadProgress=e.selectedChapterLoading?100*l:100,e.store.dispatch(new y.ToggleWindow(Oy.Loader,e.selectedChapterLoading)),e.engineService.fireEvent(tr.HumanProgress,{progress:e.loadProgress}),e.changeDetectorRef.markForCheck()}))},e.prototype.initWindowObserver=function(){var e=this;this.viewWindow$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.resetLayout(),t===Oy.Tutorial?(e.viewService.resetChapter(),e.viewService.toggleLabels(!1)):e.viewService.toggleLabels(!0)}))},e.prototype.initBackgroundColorObserver=function(){var e=this;this.background$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){if(t.colors){var n=t.colors.slice(0,3);e.isBackgroundLight=tt.isLight([n[0],n[1],n[2]]),e.changeDetectorRef.markForCheck()}}))},e.prototype.handleColumnToggle=function(){this.viewService.toggleColumn(),this.changeDetectorRef.markForCheck()},e.prototype.handleDrawerOffsetChange=function(e){this.drawerY=e,this.drawerOpen=-64!==e,this.positionRelativeElements(this.drawerY)},e.prototype.checkLabelsCollapsed=function(){var e=this.store.selectSnapshot(Qy.getBreakpoint),t=this.store.selectSnapshot(My.getLabelsBreakpoint),n=this.isLabelBreaking(t);this.store.dispatch(new Ro(n,e>=Vy.Large?wo.Toggle:wo.None))},e.prototype.isLabelBreaking=function(e){return window.innerWidth<e},e.prototype.bindKeyboard=function(){var e=this;mS.bind("1",(function(){return e.viewService.selectTool(ty.Select)})),mS.bind("2",(function(){return e.viewService.selectTool(ty.Hide)})),mS.bind("3",(function(){return e.viewService.selectTool(ty.Fade)})),mS.bind("mod+,",(function(t){t.preventDefault(),e.viewService.toggleColumn(),e.changeDetectorRef.markForCheck()})),mS.bind(["command+enter","ctrl+enter","command+p"],(function(e){e.preventDefault(),kf.toggleFullscreen()})),mS.bind("meta+z",(function(t){t.preventDefault(),e.viewService.undo()})),mS.bind(["meta+y","meta+shift+z"],(function(t){t.preventDefault(),e.viewService.redo()})),mS.bind([".","pagedown"],(function(){return e.viewService.nextChapter()})),mS.bind([",","pageup"],(function(){return e.viewService.previousChapter()})),mS.bind(["del","backspace"],(function(t){t.preventDefault(),e.viewService.hideSelectedStructures()})),mS.bind("R",(function(t){t.preventDefault(),e.viewService.resetChapter()})),mS.bind("/",(function(){return e.viewService.toggleSearch()})),mS.bind("?",(function(){return e.viewService.toggleHelp()})),mS.bind("space",(function(t){t.preventDefault(),e.viewService.toggleAnimation()}))},e.prototype.unbindKeyboard=function(){mS.reset()},e.prototype.resizeEngineContainer=function(){var e=this.engineContainer.nativeElement,t=new Tf(e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight,Kf.Shown);this.store.dispatch(new Ji(t))},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.view.nativeElement.style.setProperty("--vh",e+"px")},e.prototype.handleResize=function(){this.viewService.resetLayout()},e.prototype.resetScene=function(){var e=this;this.store.dispatch(new Oi(!0)),this.store.dispatch(new ji(!1)),this.engineService.getEvent(tr.AssetsLoadProgress).pipe(Object(ud.a)(1),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new ji(!0))}))},e.prototype.refreshLayout=function(){var e=this,t=this.store.selectSnapshot(My.getLayout);this.columnLayoutStatus=t.column.status,this.updateViewHeight(),this.resizeEngineContainer(),this.store.dispatch(new Fo(!1!==t.anatomyLabels.enable,!1!==t.nodeInfo.enable,!0)),setTimeout((function(){e.drawer?e.positionRelativeElements(e.drawerY):e.positionRelativeElements()}))},e.prototype.positionRelativeElements=function(e){void 0===e&&(e=0);var t=this.store.selectSnapshot(Qy.getBreakpoint),n=this.isVisible(Wy.Drawer),l=this.isVisible(Wy.Camera);this.isVisible(Wy.Menu),null!=this.viewCameraBar&&l&&this.renderer.setStyle(this.viewCameraBar.nativeElement,"transform","translate3d(-4px, 0px, 0)"),this.renderer.setStyle(this.viewToolbar.nativeElement,"transform","translate3d("+(l?-60:-8)+"px, 0, 0)"),this.renderer.setStyle(this.viewSceneBase.nativeElement,"transform","translate3d(0, "+(t>Vy.Medium?-8:n?e+64-8:-8)+"px, 0)")},e.prototype.isVisible=function(e){return this.layoutService.isVisible(e)},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.setPageTitle=function(e){var t=Object(Et.get)(e,"info.displayName");this.title.setTitle((t?t+" | ":"")+"BioDigital Human Platform")},Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),Object(v.__decorate)([Object(O.e)(My.getInputEnabled),Object(v.__metadata)("design:type",J.a)],e.prototype,"inputEnabled$",void 0),Object(v.__decorate)([Object(O.e)(My.getFullscreenActive),Object(v.__metadata)("design:type",J.a)],e.prototype,"fullscreenActive$",void 0),Object(v.__decorate)([Object(O.e)(My.getDrawerCoversContent),Object(v.__metadata)("design:type",J.a)],e.prototype,"drawerCoversContent$",void 0),Object(v.__decorate)([Object(O.e)(My.getInteractType),Object(v.__metadata)("design:type",J.a)],e.prototype,"interactType$",void 0),Object(v.__decorate)([Object(O.e)(My.getShowHelpTab),Object(v.__metadata)("design:type",J.a)],e.prototype,"showHelpTab$",void 0),Object(v.__decorate)([Object(O.e)(My.getUsePrintImage),Object(v.__metadata)("design:type",J.a)],e.prototype,"usePrintImage$",void 0),Object(v.__decorate)([Object(O.e)(My.getOpenWindow),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewWindow$",void 0),Object(v.__decorate)([Object(O.e)(_S.getStoryLoadProgress),Object(v.__metadata)("design:type",J.a)],e.prototype,"loadProgress$",void 0),Object(v.__decorate)([Object(O.e)(Qy.getBreakpoint),Object(v.__metadata)("design:type",J.a)],e.prototype,"breakpoint$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getChaptersLoaded),Object(v.__metadata)("design:type",J.a)],e.prototype,"chaptersLoaded$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterBackground),Object(v.__metadata)("design:type",J.a)],e.prototype,"background$",void 0),e}(),wS=l.wb({encapsulation:2,styles:[[".view-page{border:var(--view-page-border);width:100vw;height:100vh;height:calc(var(--vh,1vh) * 100);max-height:100vh;overflow:hidden;-webkit-transition:padding-left 250ms;transition:padding-left 250ms}.view-page--column-in{padding-left:320px}.view-page--column-out{padding-left:0}.view-page--drawer-push{padding-bottom:64px}.view-page__column{height:100%}.view-page__column-toggle{position:absolute;top:50%;margin-top:-18px;left:0;z-index:10}.view-page__engine{width:100%;height:100%;position:relative}.view-page__menu{position:absolute;right:8px;bottom:0;z-index:30}.view-page__camera-bar{position:absolute;bottom:0;right:0;z-index:20;width:52px}.view-page__logo{display:inline-block;position:absolute;left:16px;bottom:0;z-index:10}.view-page__menubar{position:absolute;top:0;left:0;right:0;z-index:20}.view-page__media-bar{position:absolute;left:50%;margin-left:-100px;width:200px;bottom:0;z-index:10;-webkit-box-pack:center;justify-content:center}.view-page__media-bar:not([hidden]){display:-webkit-box;display:flex}.view-page__title-only{position:fixed;top:8px;left:8px;max-width:304px;z-index:10;padding:12px;border-radius:4px;background:rgba(255,255,255,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background-color:var(--view-title-background);box-shadow:var(--view-title-shadow)}.view-page__scene-base{position:absolute;left:0;bottom:0;right:0;z-index:10;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.view-page__toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:0;-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;transition:transform 250ms;transition:transform 250ms,-webkit-transform 250ms}.view-page__undo{position:absolute;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;left:0;top:8px;z-index:20;width:100%}.view-block-input{position:fixed;top:0;bottom:0;left:0;right:0;z-index:10000}"]],data:{}});function CS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-column-container",[],null,null,null,Uw,Mw)),l.xb(1,245760,null,0,Pw,[Zy,Gy,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}function jS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","view-page__title-only"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-view-title",[["layout","column"]],null,null,null,qv,Gv)),l.xb(2,245760,null,0,Wv,[Gy,l.i],null,null)],(function(e,t){e(t,2,0)}),null)}function kS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-toolbar",[["position","right"]],null,null,null,IC,kC)),l.xb(1,114688,null,0,jC,[O.i,l.i,Gy,Zy],{position:[0,"position"]},null)],(function(e,t){e(t,1,0,"right")}),null)}function SS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","view-page__logo"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,2,"app-view-logo",[],null,null,null,EC,KC)),l.xb(2,114688,null,0,TC,[],{logoSize:[0,"logoSize"],logoColor:[1,"logoColor"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,l.Tb(t,2,0,l.Kb(t,3).transform(n.breakpoint$))>n.breakpoint.Small?"full":"small",n.isBackgroundLight?"color":"white")}),null)}function PS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-engine-camera-bar",[],null,null,null,$C,AC)),l.xb(1,245760,null,0,LC,[O.i],{showNav:[0,"showNav"],showResetScene:[1,"showResetScene"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.isVisible(n.viewLayout.Camera),n.isVisible(n.viewLayout.Reset))}),null)}function MS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-view-drawer",[],null,[[null,"atMinimumChange"],[null,"offsetYChange"]],(function(e,t,n){var l=!0,i=e.component;return"atMinimumChange"===t&&(l=!1!==i.handleDrawerMinimumChange(n)&&l),"offsetYChange"===t&&(l=!1!==i.handleDrawerOffsetChange(n)&&l),l}),sj,ej)),l.xb(2,4440064,[[8,4],["drawer",4]],0,JC,[l.I,l.i,Zy,O.i,Gy],null,{offsetYChange:"offsetYChange"})],(function(e,t){e(t,2,0)}),null)}function IS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","view-block-input"]],null,null,null,null,null))],null,null)}function TS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"app-view-help",[],null,null,null,Kj,xj)),l.xb(1,4308992,null,0,yj,[l.I,Zy],{activeTab:[0,"activeTab"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.showHelpTab$)))}),null)}function KS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"app-view-progress",[["label","Loading..."]],null,null,null,Ej,Uj)),l.xb(1,4440064,null,0,zj,[l.I,l.i],{show:[0,"show"],percent:[1,"percent"],label:[2,"label"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.viewWindow$))===n.viewWindow.Loader,n.loadProgress,"Loading...")}),null)}function zS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-play-loader",[],null,null,null,Fj,Aj)),l.xb(1,4440064,null,0,Lj,[l.I],{percent:[0,"percent"]},null)],(function(e,t){e(t,1,0,t.component.loadProgress)}),null)}function US(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-button-loader",[],null,null,null,Rj,Nj)),l.xb(1,114688,null,0,Dj,[],null,null)],(function(e,t){e(t,1,0)}),null)}function ES(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-hand-loader",[],null,null,null,Vj,Hj)),l.xb(1,114688,null,0,Bj,[],null,null)],(function(e,t){e(t,1,0)}),null)}function LS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,10,"app-view-loader",[],null,null,null,Wj,Qj)),l.xb(1,180224,null,0,$j,[l.I,Zy,O.b],null,null),(e()(),l.ob(16777216,null,0,2,null,zS)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,US)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,0,2,null,ES)),l.xb(9,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,"play"===l.Tb(t,3,0,l.Kb(t,4).transform(n.interactType$))),e(t,6,0,"button"===l.Tb(t,6,0,l.Kb(t,7).transform(n.interactType$))),e(t,9,0,"hand"===l.Tb(t,9,0,l.Kb(t,10).transform(n.interactType$)))}),null)}function AS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-tour",[],null,null,null,Wk,Bk)),l.xb(1,4440064,null,0,Rk,[O.i,Zy,uu,ul,l.I],null,null)],(function(e,t){e(t,1,0)}),null)}function FS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-print",[],null,[["window","beforeprint"],["window","afterprint"]],(function(e,t,n){var i=!0;return"window:beforeprint"===t&&(i=!1!==l.Kb(e,1).beforePrint()&&i),"window:afterprint"===t&&(i=!1!==l.Kb(e,1).afterPrint()&&i),i}),Xk,Yk)),l.xb(1,245760,null,0,qk,[O.i,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}function DS(e){return l.Ub(2,[l.Qb(402653184,1,{engineContainer:0}),l.Qb(402653184,2,{viewContainer:0}),l.Qb(402653184,3,{view:0}),l.Qb(671088640,4,{viewCameraBar:0}),l.Qb(671088640,5,{viewLogo:0}),l.Qb(402653184,6,{viewSceneBase:0}),l.Qb(671088640,7,{viewToolbar:0}),l.Qb(671088640,8,{drawer:0}),(e()(),l.yb(8,0,[[2,0],["viewContainer",1]],null,26,"div",[],null,null,null,null,null)),(e()(),l.yb(9,0,[[3,0],["view",1]],null,25,"div",[["class","view-page"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(11,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(12,{"view-page--column-in":0,"view-page--column-out":1,"view-page--drawer-push":2}),(e()(),l.ob(16777216,null,null,1,null,CS)),l.xb(14,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(15,0,null,null,1,"app-view-menu-column",[],null,null,null,pS,oS)),l.xb(16,114688,null,0,iS,[O.i,Zy],null,null),(e()(),l.ob(16777216,null,null,2,null,jS)),l.xb(18,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(20,0,[[1,0],["engineContainer",1]],null,14,"div",[["class","view-page__engine"]],null,null,null,null,null)),(e()(),l.yb(21,0,null,null,2,"div",[["class","view-page__column-toggle"]],null,null,null,null,null)),(e()(),l.yb(22,0,null,null,1,"app-view-column-toggle",[],null,null,null,hS,bS)),l.xb(23,245760,null,0,dS,[Zy,Gy,l.i],null,null),(e()(),l.yb(24,0,[[6,0],["viewSceneBase",1]],null,8,"div",[["class","view-page__scene-base"]],null,null,null,null,null)),(e()(),l.yb(25,0,[[7,0],["viewToolbar",1]],null,2,"div",[["class","view-page__toolbar"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,kS)),l.xb(27,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,SS)),l.xb(29,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(30,0,[[4,0],["viewCameraBar",1]],null,2,"div",[["class","view-page__camera-bar"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,PS)),l.xb(32,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,1,null,MS)),l.xb(34,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,IS)),l.xb(36,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,TS)),l.xb(39,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,KS)),l.xb(42,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,LS)),l.xb(45,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,AS)),l.xb(48,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,2,null,FS)),l.xb(51,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component,i=e(t,12,0,n.isVisible(n.viewLayout.Column),!n.isVisible(n.viewLayout.Column),n.isVisible(n.viewLayout.Drawer));e(t,11,0,"view-page",i),e(t,14,0,n.isVisible(n.viewLayout.Column)||n.isVisible(n.viewLayout.Search)||n.isVisible(n.viewLayout.NodeInfo)),e(t,16,0);var o,a=null;e(t,18,0,n.isVisible(n.viewLayout.TitleOnly)&&(null==(a=l.Tb(t,18,0,l.Kb(t,19).transform(n.chapter$)))?null:a.info.displayName)),e(t,23,0),e(t,27,0,n.isVisible(n.viewLayout.Toolbar)),e(t,29,0,n.isVisible(n.viewLayout.Logo)),e(t,32,0,n.isVisible(n.viewLayout.Camera)),e(t,34,0,n.isVisible(n.viewLayout.Drawer)),e(t,36,0,!l.Tb(t,36,0,l.Kb(t,37).transform(n.inputEnabled$))),e(t,39,0,l.Tb(t,39,0,l.Kb(t,40).transform(n.viewWindow$))===n.viewWindow.Help),e(t,42,0,"circle"===(null==(o=l.Tb(t,42,0,l.Kb(t,43).transform(n.layout$)))?null:o.loader.template)),e(t,45,0,l.Tb(t,45,0,l.Kb(t,46).transform(n.viewWindow$))===n.viewWindow.Interact),e(t,48,0,l.Tb(t,48,0,l.Kb(t,49).transform(n.viewWindow$))===n.viewWindow.Tutorial),e(t,51,0,l.Tb(t,51,0,l.Kb(t,52).transform(n.usePrintImage$)))}),null)}function NS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-view-page",[],null,null,null,DS,wS)),l.xb(1,4440064,null,0,OS,[d.a,l.I,O.i,Zy,l.i,O.b,Gy,uu,rt.h],null,null)],(function(e,t){e(t,1,0)}),null)}var RS,BS,HS=l.ub("app-view-page",OS,NS,{},{},[]),VS={title:"We're unable to find the model you're looking for.",description:'Please check your URL or visit the <a href="/" target="_blank">BioDigital Human</a> to see what\'s available in our 3D model library.'},$S={title:"Your BioDigital Human embed requires proper authentication.",description:""},QS=((RS={})[L.InvalidUAID]={title:"Authentication Issues",description:"Your Human Widget has invalid user credentials.",url:"https://support.biodigital.com"},RS),WS={title:"WebGL Error",description:"It appears your browser isn't supporting WebGL, the HTML standard used to view 3D graphics."},GS=((BS={})[function(e){return e[e.Error=1]="Error",e[e.ModernizerNoWebGL=2]="ModernizerNoWebGL",e[e.WebGLNotSupported=3]="WebGLNotSupported",e[e.ShaderCompilationFailure=4]="ShaderCompilationFailure",e[e.ShaderLinkFailure=5]="ShaderLinkFailure",e[e.OutOfVRAM=6]="OutOfVRAM",e[e.WebGLContentLost=7]="WebGLContentLost",e}({}).WebGLNotSupported]={title:"WebGL Unsupported",description:"It appears your browser isn't supporting WebGL, the HTML standard used to view 3D graphics."},BS),qS={title:"We're unable to find the page you're looking for.",description:'Please check your URL or return to our <a href="/">homepage</a>.'},YS=function(){function e(e,t){this.route=e,this.snackBar=t,this.errorTypeEnum=Q_,this.supportURL="https://support.biodigital.com",this.errorType=Q_.Content}return Object.defineProperty(e.prototype,"widgetError",{get:function(){var e;switch(this.errorType){case Q_.Auth:e=QS[this.errorCode]||$S;break;case Q_.Engine:e=GS[this.errorCode]||WS;break;case Q_.Content:e=VS;break;default:e=qS}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return Object(Et.get)(this.widgetError,"title",qS.title)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return Object(Et.get)(this.widgetError,"description",qS.description)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return Object(Et.get)(this.widgetError,"url",qS.url)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initErrorHandling()},e.prototype.initErrorHandling=function(){var e=this.route.snapshot.queryParams,t=e.errorCode;this.errorType=e.errorType,this.errorCode=t},e.prototype.handleActionClick=function(e){window.open(e)||this.snackBar.open("Unable to open link in new window, please check your pop-up settings.")},e}(),XS=l.wb({encapsulation:2,styles:[[".error{margin:120px auto;width:640px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;color:#283853}.error__description a,.error__description a:visited{color:#283853}.error__actions{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.error__action-button{margin-right:12px!important}.error__logo{margin-top:80px;width:240px}@media (max-width:800px),(max-height:480px){.error{margin:80px;width:auto}}@media (max-width:480px),(max-height:360px){.error{margin:40px;width:auto}.error__logo{margin-top:40px;width:160px}}@media (max-width:360px){.error{margin:16px;width:auto}}@media (max-width:300px){.error{margin:8px;width:auto}.error__actions{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.error__action-button{margin-bottom:8px!important}.error__logo{margin-top:16px;width:80%}}"]],data:{}});function ZS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.url)&&l),l}),et,Je)),l.xb(2,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Read More"])),(e()(),l.yb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.supportURL)&&l),l}),et,Je)),l.xb(5,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Contact Us"]))],(function(e,t){e(t,2,0,"outline","light"),e(t,5,0,"flat","light")}),(function(e,t){e(t,1,0,l.Kb(t,2).disabled),e(t,4,0,l.Kb(t,5).disabled)}))}function JS(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.supportURL)&&l),l}),et,Je)),l.xb(1,114688,null,0,Ze,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Sb(-1,0,["Contact Us"]))],(function(e,t){e(t,1,0,"outline","light")}),(function(e,t){e(t,0,0,l.Kb(t,1).disabled)}))}function eP(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,8,"div",[["class","error"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","error__title text-24 text-bold"]],null,null,null,null,null)),(e()(),l.Sb(2,null,[" "," "])),(e()(),l.yb(3,0,null,null,0,"div",[["class","error__description text-16 mt-8"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.yb(4,0,null,null,3,"div",[["class","error__actions mt-8"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,ZS)),l.xb(6,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.ob(0,[["defaultActions",2]],null,0,null,JS)),(e()(),l.yb(8,0,null,null,0,"img",[["class","error__logo mt-16"],["src","assets/images/biodigital-logo.svg"]],null,null,null,null,null))],(function(e,t){e(t,6,0,t.component.url,l.Kb(t,7))}),(function(e,t){var n=t.component;e(t,2,0,n.title),e(t,3,0,n.description)}))}function tP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-widget-error",[],null,null,null,eP,XS)),l.xb(1,114688,null,0,YS,[d.a,Bd.c],null,null)],(function(e,t){e(t,1,0)}),null)}var nP=l.ub("app-widget-error",YS,tP,{},{},[]),lP=function(){function e(e,t){this.router=e,this.changeDetector=t,this.total=100,this._value=0,this.percentWidth=0,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.percentWidth=this.value/this.total*100,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.router.events.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){t instanceof d.e&&(e.value=0)}))},e.prototype.ngOnDestroy=function(){this.changeDetector.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e}(),iP=l.wb({encapsulation:0,styles:[["@-webkit-keyframes progressSuccess{0%{width:100%!important;background:#38de38}50%{opacity:1;background:#38de38}100%{opacity:0}}@keyframes progressSuccess{0%{width:100%!important;background:#38de38}50%{opacity:1;background:#38de38}100%{opacity:0}}.progress[_ngcontent-%COMP%]{border-radius:0 1px 1px 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:4px;width:100%}.progress__bar[_ngcontent-%COMP%]{background:#de3838;height:100%;width:0}.progress__bar--complete[_ngcontent-%COMP%]{-webkit-animation:2s linear forwards progressSuccess;animation:2s linear forwards progressSuccess}"]],data:{}});function oP(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,7,"div",[["class","progress"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,6,"div",[["class","progress__bar"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(3,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(4,{"progress__bar--complete":0}),l.Pb(512,null,ce.C,ce.D,[l.l,l.w,l.I]),l.xb(6,278528,null,0,ce.p,[ce.C],{ngStyle:[0,"ngStyle"]},null),l.Nb(7,{width:0})],(function(e,t){var n=t.component,l=e(t,4,0,100===n.percentWidth);e(t,3,0,"progress__bar",l);var i=e(t,7,0,n.percentWidth+"%");e(t,6,0,i)}),null)}var aP=function(){function e(e,t){this.store=e,this.changeDetectorRef=t,this.ngUnsubscribe=new Z.a,this.storyLoadProgress=0}return e.prototype.ngOnInit=function(){var e=this,t=this.store.select(_S.getChunkLoadProgress),n=this.store.select(qs.getLoadingChunk);Object(hd.b)(t,n).pipe(Object(te.a)((function(){var t=e.store.selectSnapshot(qs.getLoadChunks);return null!==t&&t.length>0})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),l=n[0],i=n[1],o=null!==i&&i.chapterId===e.store.selectSnapshot(Ac.getSelectedChapterId);e.storyLoadProgress=o?l:1,e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e}(),rP=l.wb({encapsulation:0,styles:[[".engine-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:2;pointer-events:none}"]],data:{}});function uP(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,1,"app-progress",[["class","engine-progress"],["data-test","engineProgress"]],null,null,null,oP,iP)),l.xb(1,245760,null,0,lP,[d.m,l.i],{total:[0,"total"],value:[1,"value"]},null)],(function(e,t){e(t,1,0,1,t.component.storyLoadProgress)}),null)}var cP=function(){function e(e,t){this.engineService=e,this.changeDetectionRef=t,this.camera={x:0,y:0,z:0,dist:0}}return e.prototype.ngOnInit=function(){this.initCameraListener()},e.prototype.initCameraListener=function(){var e=this;this.engineService.getEvent(tr.CameraUpdated).pipe(Object(Pf.a)(50)).subscribe((function(t){e.camera={x:t.eye.x.toFixed(0),y:t.eye.y.toFixed(0),z:t.eye.z.toFixed(0),dist:t.dist.toFixed(0)},e.changeDetectionRef.markForCheck()}))},e}(),sP=l.wb({encapsulation:0,styles:[[".engine-camera-position[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#fff;font-size:10px;text-shadow:0 0 2px rgba(0,0,0,.8);z-index:10}"]],data:{}});function pP(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,1,"div",[["class","engine-camera-position"]],null,null,null,null,null)),(e()(),l.Sb(1,null,[" X:"," Y:"," Z:"," Dist:","\n"]))],null,(function(e,t){var n=t.component;e(t,1,0,null==n.camera?null:n.camera.x,null==n.camera?null:n.camera.y,null==n.camera?null:n.camera.z,null==n.camera?null:n.camera.dist)}))}var dP=function(){return(dP=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},bP=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},gP=function(){function e(e,t,n,l,i,o,a){this.renderer=e,this.labelsService=t,this.engineService=n,this.cameraService=l,this.store=i,this.actions=o,this.changeDetection=a,this.labelPinType=Ir,this.collapsed=!1,this.collapsedMode=wo.None,this.theme="classic",this.pinDraggable=!0,this.tagDraggable=!0,this.emitEvents=!0,this.enginePosition=null,this.isSelected=!1,this.isBackgroundDark=!1,this.descriptionCollapsed=!1,this.tagCollapsed=!1,this.scale=1,this.pinDragging=!1,this.screenshotMode=!1,this.hammerManagers=[],this.displayUpdated$=new Z.a,this.positionUpdated$=new Z.a,this.ngUnsubscribe=new Z.a,this.isIE11=Px()}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){var t=0===Object.keys(e).length,n=null==this.label||0===Object.keys(this.label).length;t&&!n?(this._label=dP({},e),this.destroyLabel()):t||(this._label=dP({},e),this.initLabel(this.label))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.collapsedMode===wo.Toggle?this.collapsed&&!this.isSelected:this.collapsed},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initListeners()},e.prototype.ngAfterViewInit=function(){this.bindTagEvents(),this.bindPinEvents(),this.bindHoverEvents()},e.prototype.ngOnDestroy=function(){this.destroyLabel(),this.emitDisplayUpdated({id:this.label.id,inView:!1,shown:!1,objectShown:this.objectShown}),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.destroyLabel=function(){this.hammerManagers.forEach((function(e){return e.destroy})),this.hammerManagers=[],this.deleteMarker(this.marker)},e.prototype.initListeners=function(){var e=this;this.selectedLabel$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleLabelSelected(t)})),this.enginePosition$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.enginePosition=t})),this.engineService.getEvent(tr.SceneMarkersUpdated).pipe(Object(te.a)((function(){return null!=e.label&&null!=e.enginePosition})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.setCanvasPos()})),this.displayUpdated$.pipe(Object(Bh.a)((function(e,t){return Object(Et.isEqual)(e,t)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.emitEngineEvent(tr.HotspotsDisplayUpdated,t)})),this.positionUpdated$.pipe(Object(Bh.a)((function(e,t){return Object(Et.isEqual)(e,t)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.emitEngineEvent(tr.HotspotsPositionUpdated,t)})),this.background$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.colors.slice(0,3),l=t.colors.slice(4,7);e.isBackgroundDark=!tt.isLight(n,l),e.changeDetection.markForCheck()})),this.actions.pipe(Object(O.l)(La),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.screenshotMode=!0,e.changeDetection.detectChanges()})),this.actions.pipe(Object(O.k)(Aa),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.screenshotMode=!1,e.changeDetection.markForCheck()}))},e.prototype.bindTagEvents=function(){var e=this,t=new W_(this.tagRef.nativeElement,{domEvents:!0});t.get("pan").set({direction:W_.DIRECTION_ALL,threshold:3}),t.on("pan",(function(t){if(e.tagDraggable){t.srcEvent.stopPropagation(),e.cachedTagOffset||(e.cachedTagOffset=e.label.offset);var n=[e.cachedTagOffset[0]+t.deltaX,e.cachedTagOffset[1]+t.deltaY];e.label.offset=n,t.isFinal&&(e.cachedTagOffset=null,e.store.dispatch(new jo(e.label.id,n)))}})),t.on("tap",(function(t){t.srcEvent.preventDefault(),t.srcEvent.stopPropagation(),"BUTTON"===t.target.parentNode.nodeName?e.toggleDescription():e.selectLabel()})),this.hammerManagers.push(t)},e.prototype.bindPinEvents=function(){var e=this,t=new W_(this.pinRef.nativeElement);t.get("pan").set({direction:W_.DIRECTION_ALL,threshold:4}),t.on("pan",(function(t){if(e.pinDraggable){t.srcEvent.stopPropagation(),e.pinDragging=!0;var n=t.changedPointers[0],l=n.layerX,i=n.layerY;if(l-=16,i-=16,e.marker&&e.deleteMarker(e.marker),e.renderer.setStyle(e.labelContainerRef.nativeElement,"transform","translate("+l+"px, "+i+"px)"),t.isFinal){e.pinDragging=!1;var o=dP({},e.label),a=Human.renderer.pick.pick({canvasPos:[l,i],rayPick:!0}),r="string"==typeof a.objectId;r&&(o.dir=e.cameraService.getDirection(a),o.objectId=a.objectId,o.barycentric=[a.barycentric[0],a.barycentric[1],a.barycentric[2]],o.pos=[a.worldPos[0],a.worldPos[1],a.worldPos[2]],o.primitiveIndex=a.primitiveIndex),e.store.dispatch(new zo(o,r))}}})),t.on("tap",(function(t){t.srcEvent.preventDefault(),t.srcEvent.stopImmediatePropagation(),e.selectLabel()})),this.hammerManagers.push(t)},e.prototype.bindHoverEvents=function(){var e=this,t=this.labelRef.nativeElement;this.renderer.listen(t,"mouseenter",(function(){e.emitEngineEvent(tr.HotspotsEntered,{id:e.label.id})})),this.renderer.listen(t,"mouseleave",(function(){e.emitEngineEvent(tr.HotspotsLeft,{id:e.label.id})}))},e.prototype.initLabel=function(e){this.initMarker(e),this.ensureObjectId(e),this.initObjectSubscription(e),this.descriptionCollapsed=e.collapseDescription,this.tagCollapsed=e.hideTag},e.prototype.initMarker=function(e){this.marker&&this.deleteMarker(this.marker),this.marker=Human.scene.markers.create({id:e.id,pos:e.pos,dir:e.dir,objectId:e.objectId,primitiveIndex:e.primitiveIndex,barycentric:e.barycentric,renderableIndex:e.renderableIndex||0})},e.prototype.checkLabelDisplay=function(){return{id:this.label.id,shown:this.label.shown,inView:this.isOnCanvas(),objectShown:!0}},e.prototype.ensureObjectId=function(e){if(!e.objectId){var t=Human.renderer.pick.pick({canvasPos:[this.marker.canvasPos[0],this.marker.canvasPos[1]],rayPick:!0});t.objectId&&(e.objectId=t.objectId,e.states.forEach((function(e){e.errands.forEach((function(e){e.type===Ar.flyToObject&&(e.value=t.objectId)}))})),this.store.dispatch(new zo(e)))}},e.prototype.initObjectSubscription=function(e){var t=this;this.object$&&this.object$.unsubscribe(),e.objectId&&(this.object$=this.store.select(oy.getViewGraphNode).pipe(Object(s.a)((function(t){return t(e.objectId)})),Object(te.a)((function(e){return!!e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){t.objectShown=e.boolState.shown})))},e.prototype.deleteMarker=function(e){Human.scene.markers.delete(e.id),this.marker=null},e.prototype.toggleDescription=function(e){this.descriptionCollapsed=e=void 0===e?!this.descriptionCollapsed:e},e.prototype.handleLabelSelected=function(e){var t=this;this.isSelected=e&&e.id===this.label.id;var n=Object(Et.get)(e,"states[1].errands"),l=this.store.selectSnapshot(ey.getLockCamera);this.isSelected&&n&&!l&&n.forEach((function(e){switch(e.type){case Ar.flyToObject:t.flyToObject(e.value);break;case Ar.flyToCamera:t.flyToPosition(e.value)}t.store.dispatch(new qf(!0))})),this.tagCollapsed=!(this.label.title||this.label.description)||(this.label.expandTag&&this.label.hideTag?!this.isSelected:this.label.hideTag),this.descriptionCollapsed=this.label.showDescription&&this.label.collapseDescription?!this.isSelected:this.label.collapseDescription},e.prototype.flyToObject=function(e){this.store.dispatch(new Ui(e))},e.prototype.flyToPosition=function(e){this.store.dispatch(new Lf(e))},e.prototype.setCanvasPos=function(){if(!this.pinDragging&&this.marker){this.depth=-this.marker.viewPos[2];var e=this.isOccluded(),t=this.isOnCanvas(),n=void 0===this.objectShown?t:t&&this.objectShown;n!==this.shown&&(this.shown=n,this.setDisplay(n)),this.setOpacity(e),this.setElementPosition(),this.setElementScale(),this.setTagPosition(),this.setWirePosition();var l=this.marker.canvasPos;this.positionUpdated$.next({id:this.label.id,canvasPos:{x:l[0],y:l[1]},occluded:e})}},e.prototype.selectLabel=function(){var e=this.store.selectSnapshot(Bc.getSelectedLabel);this.store.dispatch(new Eo(e&&e.id===this.label.id?null:this.label)),this.emitEngineEvent(tr.HotspotsPicked,{id:this.label.id})},e.prototype.isOccluded=function(){return!this.isSelected&&this.label.occludable&&(Math.abs(this.marker.viewAngle)>100||this.marker.occluded||this.depth<0)},e.prototype.isOnCanvas=function(){var e=this.labelsService.getLabelContainer().nativeElement,t=e.offsetWidth,n=e.offsetHeight,l=bP(this.marker.canvasPos,2),i=l[0],o=l[1];return i>0&&o>0&&i<t&&o<n},e.prototype.setDisplay=function(e){this.renderer.setStyle(this.labelRef.nativeElement,"visibility",e?"visible":"hidden"),this.emitDisplayUpdated({id:this.label.id,inView:this.isOnCanvas(),shown:e,objectShown:this.objectShown})},e.prototype.setOpacity=function(e){var t=1;e?(this.marker.viewAngle>=80&&(t=Math.max(1-(this.marker.viewAngle-80)/20*1,0)),this.renderer.setStyle(this.labelContainerRef.nativeElement,"opacity",t)):this.renderer.setStyle(this.labelContainerRef.nativeElement,"opacity",1)},e.prototype.setElementPosition=function(){var e=this.marker.canvasPos;this.renderer.setStyle(this.labelContainerRef.nativeElement,"transform","translate("+e[0]+"px, "+e[1]+"px)")},e.prototype.setElementScale=function(){var e=this.store.selectSnapshot(oy.getEnginePosition).width;this.scale=e>1440?e/1440:1;var t=32*this.scale-32;this.renderer.setStyle(this.labelRef.nativeElement,"transform-origin","top left"),this.renderer.setStyle(this.labelRef.nativeElement,"transform","translate(-"+t/2+"px, -"+t/2+"px) scale("+this.scale+", "+this.scale+")")},e.prototype.setTagPosition=function(){var e=this.label.offset,t=this.tagRef.nativeElement.offsetWidth;switch(this.label.offset[0]>0?"left":"right"){case"left":this.renderer.setStyle(this.tagRef.nativeElement,"transform","translate("+(16+e[0])+"px, "+e[1]+"px)");break;case"right":this.renderer.setStyle(this.tagRef.nativeElement,"transform","translate("+(16+e[0]-t)+"px, "+e[1]+"px)")}},e.prototype.setWirePosition=function(){var e=bP(this.label.offset,2),t=e[0],n=e[1];switch(this.label.theme){case Tr.Annotation:case Tr.Classic:n+=this.titleRef.nativeElement.offsetHeight-16-2}var l=Math.sqrt(t*t+n*n);this.renderer.setStyle(this.wireRef.nativeElement,"width",l+"px"),this.renderer.setStyle(this.wireRef.nativeElement,"transform","rotate("+Math.atan2(n,t)+"rad)")},e.prototype.emitDisplayUpdated=function(e){"context-label"!==this.label.id&&null!=e.inView&&null!=e.shown&&this.displayUpdated$.next(e)},e.prototype.emitEngineEvent=function(e,t){this.emitEvents&&this.engineService.fireEvent(e,t)},Object(v.__decorate)([Object(O.e)(oy.getEnginePosition),Object(v.__metadata)("design:type",J.a)],e.prototype,"enginePosition$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getSelectedLabel),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedLabel$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterBackground),Object(v.__metadata)("design:type",J.a)],e.prototype,"background$",void 0),e}(),hP=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}@-webkit-keyframes fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}100%{opacity:1;display:block}}@keyframes fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}100%{opacity:1;display:block}}@-webkit-keyframes fadeOut{0%{display:block;opacity:1}99%{opacity:0}100%{opacity:0;display:none}}@keyframes fadeOut{0%{display:block;opacity:1}99%{opacity:0}100%{opacity:0;display:none}}@-webkit-keyframes glow{0%,100%{box-shadow:0 0 0 rgba(255,255,255,.5)}50%{box-shadow:0 0 8px 2px rgba(255,255,255,.5)}}@keyframes glow{0%,100%{box-shadow:0 0 0 rgba(255,255,255,.5)}50%{box-shadow:0 0 8px 2px rgba(255,255,255,.5)}}@-webkit-keyframes classic-glow{0%,10%,100%,90%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}50%{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes classic-glow{0%,10%,100%,90%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}50%{-webkit-transform:scale(1,1);transform:scale(1,1)}}.label-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block;position:absolute;z-index:10;width:160px;pointer-events:all;pointer-events:none}.label-container[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]:hover{z-index:11}.label-container[_ngcontent-%COMP%]{left:-16px;top:-16px}.label[_ngcontent-%COMP%]{display:block;overflow:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:32px}.label--screenshot-mode[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after, .label--screenshot-mode[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before, .label--screenshot-mode[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{box-shadow:none!important}.label--screenshot-mode[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:none!important}.label__pin-type[_ngcontent-%COMP%]{display:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;z-index:2}.label__glow[_ngcontent-%COMP%]{display:none;position:absolute;width:32px;height:32px;border-radius:50%;z-index:0;top:0;left:0}.label--selected[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.label__more[_ngcontent-%COMP%]{color:#374a68;display:none;-webkit-box-flex:0;flex:0 0 16px;height:16px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out,-webkit-transform 150ms ease-in-out}.label__pin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:32px;height:32px;border-radius:50%;position:absolute;pointer-events:all;-webkit-transition:background-color .12s;transition:background-color .12s;z-index:10}.label__pin[_ngcontent-%COMP%]:hover{cursor:pointer}.label__pin--draggable[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.label__pin--draggable[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.label__wire[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;height:0;-webkit-transform-origin:0 100%;transform-origin:0 100%;pointer-events:none;z-index:1}.label__wire--collapse[_ngcontent-%COMP%]{display:none}.label__tag[_ngcontent-%COMP%]{display:inline-block;left:16px;top:0;z-index:10;max-width:160px;pointer-events:all}.label__tag[_ngcontent-%COMP%]:hover{cursor:pointer}.label__tag--draggable[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.label__tag--draggable[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.label__tag--collapse[_ngcontent-%COMP%]{display:none}.label__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.label__title[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:140%;overflow-x:hidden;align-self:center}.label__body[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.label__body--collapse[_ngcontent-%COMP%]{display:none}.label__icon[_ngcontent-%COMP%]{margin:0 -4px 0 4px}.label__actions[_ngcontent-%COMP%]{padding-left:4px}.label--studio.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#2d72dc;box-shadow:0 0 0 1px rgba(45,114,220,.7)}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:#2d72dc}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background-color:#fff;border-color:#2d72dc;box-shadow:0 0 0 1px rgba(45,114,220,.7)}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600}.label--studio.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';border:2px solid transparent;border-radius:50%;box-shadow:0 0 16px rgba(16,24,35,.5);box-sizing:border-box;display:block;position:absolute;height:18px;width:18px;top:7px;left:7px}.label--studio.label[_ngcontent-%COMP%]   .label__pin--circle[_ngcontent-%COMP%]   .label__pin-type--circle[_ngcontent-%COMP%], .label--studio.label[_ngcontent-%COMP%]   .label__pin--minus[_ngcontent-%COMP%]   .label__pin-type--minus[_ngcontent-%COMP%], .label--studio.label[_ngcontent-%COMP%]   .label__pin--plus[_ngcontent-%COMP%]   .label__pin-type--plus[_ngcontent-%COMP%]{display:block;left:7px;top:7px}.label--studio.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid rgba(16,24,35,.5)}.label--studio.label[_ngcontent-%COMP%]   .label__wire--collapse[_ngcontent-%COMP%]{display:none}.label--studio.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background:rgba(255,255,255,.55);border:1px solid rgba(16,24,35,.5);box-shadow:0 0 24px rgba(16,24,35,.1);padding:4px 8px;border-radius:4px}.label--studio.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.8)}.label--studio.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:#101823;-webkit-box-flex:1;flex:1 1 auto;overflow-x:visible}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{color:#374a68;overflow-x:hidden;padding-top:4px}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}.label--studio.label[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.label--studio.label.label--invert[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:rgba(255,255,255,.5)}.label--annotation.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.25);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow;top:-1px;left:-1px}.label--annotation.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{background-color:#2d72dc}.label--annotation.label[_ngcontent-%COMP%]   .label__pin-type[_ngcontent-%COMP%]{width:16px;height:16px;top:7px;left:7px;z-index:3}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:50%;position:absolute;z-index:2;cursor:pointer}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';background-color:rgba(0,0,0,.25);border-radius:50%;display:block;width:22px;height:22px;position:absolute;z-index:1;top:4px;left:4px}.label--annotation.label[_ngcontent-%COMP%]   .label__pin--circle[_ngcontent-%COMP%]   .label__pin-type--circle[_ngcontent-%COMP%], .label--annotation.label[_ngcontent-%COMP%]   .label__pin--minus[_ngcontent-%COMP%]   .label__pin-type--minus[_ngcontent-%COMP%], .label--annotation.label[_ngcontent-%COMP%]   .label__pin--plus[_ngcontent-%COMP%]   .label__pin-type--plus[_ngcontent-%COMP%]{display:block}.label--annotation.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid #666}.label--annotation.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{text-shadow:0 0 2px rgba(255,255,255,.5);min-width:10px;color:#eee}.label--annotation.label[_ngcontent-%COMP%]   .label__tag--collapsible[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:-webkit-box;display:flex;color:#000}.label--annotation.label[_ngcontent-%COMP%]   .label__tag--floating[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-bottom:none}.label--annotation.label[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-bottom:1px solid #666}.label--annotation.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600;min-height:18px;width:100%;padding-bottom:4px;margin-bottom:-2px;color:#000}.label--annotation.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{padding-top:4px;color:#333}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]{text-shadow:0 0 2px rgba(0,0,0,.6)}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:#eee}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{text-shadow:none}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__tag--collapsible[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:-webkit-box;display:flex;color:#fff}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:#fff}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-color:#eee}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{color:#eee}.label--classic.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:50%;position:absolute;z-index:2;cursor:pointer}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';background-color:rgba(0,0,0,.25);border-radius:50%;display:block;width:32px;height:32px;z-index:1;box-sizing:border-box}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{content:' ';display:block;width:18px;height:18px;background-color:rgba(0,0,0,.75);border:1px solid #ccc;border-radius:50%;position:absolute;z-index:2;box-sizing:border-box;top:6px;left:6px}.label--classic.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid #666}.label--classic.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{min-width:10px;color:#eee}.label--classic.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{border-bottom:1px solid #666;min-height:18px;width:100%;padding-bottom:4px;color:#000}.label--classic.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{padding-top:4px;color:#333}.label--context.label[_ngcontent-%COMP%]{pointer-events:none}.label--context.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--context.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%], .label--context.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{display:none}.label--context.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);border:1px solid rgba(16,24,35,.5);box-shadow:0 0 24px rgba(16,24,35,.1);padding:4px 8px;border-radius:4px}.label--context.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.8);cursor:-webkit-grab;cursor:grab}.label--context.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600;color:#101823;overflow-x:hidden}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid #eaeff5;color:#101823;overflow-x:hidden;padding-top:8px}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}"]],data:{}});function mP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,0,"img",[["alt",""],["class","label__pin-type label__pin-type--circle"],["draggable","false"],["src","/assets/images/labels/circle-dark.svg"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"img",[["alt",""],["class","label__pin-type label__pin-type--plus"],["draggable","false"],["src","/assets/images/labels/circle-plus-dark.svg"]],null,null,null,null,null)),(e()(),l.yb(3,0,null,null,0,"img",[["alt",""],["class","label__pin-type label__pin-type--minus"],["draggable","false"],["src","/assets/images/labels/circle-minus-dark.svg"]],null,null,null,null,null))],null,null)}function fP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"img",[["alt",""],["class","label__pin-type label__pin-type--circle"],["draggable","false"],["src","/assets/images/labels/circle.svg"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,0,"img",[["alt",""],["class","label__pin-type label__pin-type--plus"],["draggable","false"],["src","/assets/images/labels/circle-plus.svg"]],null,null,null,null,null)),(e()(),l.yb(2,0,null,null,0,"img",[["alt",""],["class","label__pin-type label__pin-type--minus"],["draggable","false"],["src","/assets/images/labels/circle-minus.svg"]],null,null,null,null,null))],null,null)}function yP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","label__more"]],null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-icon",[["icon","caret-right"]],null,null,null,fe,me)),l.xb(2,114688,null,0,he,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,2,0,"caret-right")}),null)}function xP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,4,"div",[["class","label__body html"]],[[8,"innerHTML",1]],null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(2,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(3,{"label__body--collapse":0}),l.Ob(4,1)],(function(e,t){var n=t.component,l=e(t,3,0,n.isCollapsed||n.descriptionCollapsed);e(t,2,0,"label__body html",l)}),(function(e,t){var n=t.component,i=l.Tb(t,0,0,e(t,4,0,l.Kb(t.parent,0),n.label.description));e(t,0,0,i)}))}function _P(e){return l.Ub(2,[l.Mb(0,Bv.b,[l.l,Bv.c,l.C]),l.Qb(402653184,1,{labelContainerRef:0}),l.Qb(402653184,2,{labelRef:0}),l.Qb(402653184,3,{wireRef:0}),l.Qb(402653184,4,{tagRef:0}),l.Qb(402653184,5,{pinRef:0}),l.Qb(402653184,6,{titleRef:0}),(e()(),l.yb(7,0,[[1,0],["labelContainerEl",1]],null,33,"div",[["aria-hidden","true"],["class","label-container"]],null,null,null,null,null)),(e()(),l.yb(8,0,[[2,0],["labelEl",1]],null,32,"div",[["class","label"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(10,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Mb(131072,ce.b,[l.i]),l.Nb(12,{"label--selected":0,"label--glow":1,"label--annotation":2,"label--classic":3,"label--invert":4,"label--studio":5,"label--context":6,"label--screenshot-mode":7}),(e()(),l.yb(13,0,[[5,0],["pin",1]],null,9,"div",[["class","label__pin"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(15,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Nb(18,{"label__pin--circle":0,"label__pin--plus":1,"label__pin--minus":2,"label__pin--draggable":3}),(e()(),l.ob(16777216,null,null,1,null,mP)),l.xb(20,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.ob(0,[["lightPins",2]],null,0,null,fP)),(e()(),l.yb(22,0,null,null,0,"div",[["class","label__glow"]],null,null,null,null,null)),(e()(),l.yb(23,0,[[3,0],["wire",1]],null,3,"div",[["class","label__wire"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(25,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(26,{"label__wire--collapse":0}),(e()(),l.yb(27,0,[[4,0],["tag",1]],null,13,"div",[["class","label__tag"]],null,null,null,null,null)),l.Pb(512,null,ce.A,ce.B,[l.v,l.w,l.l,l.I]),l.xb(29,278528,null,0,ce.j,[ce.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Nb(30,{"label__tag--collapse":0,"label__tag--collapsible":1,"label__tag--floating":2,"label__tag--draggable":3}),(e()(),l.yb(31,0,null,null,6,"div",[["class","label__header"]],null,null,null,null,null)),(e()(),l.yb(32,0,[[6,0],["title",1]],null,0,"div",[["class","label__title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,yP)),l.xb(34,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.yb(35,0,null,null,2,"div",[["appEventFence",""],["class","label__actions"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Kb(e,36).onClick(n,n.target)&&i),i}),null,null)),l.xb(36,16384,null,0,ye,[],null,null),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,xP)),l.xb(39,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Jb(null,1)],(function(e,t){var n,i=t.component,o=e(t,12,0,(null==(n=l.Tb(t,10,1,l.Kb(t,11).transform(i.selectedLabel$)))?null:n.id)===i.label.id,i.label.pinGlow,"annotation"===i.label.theme,"classic"===i.label.theme,i.isBackgroundDark,"studioNext"===i.label.theme,"context"===i.label.theme,i.screenshotMode);e(t,10,0,"label",o);var a=null,r=e(t,18,0,i.label.pinType==i.labelPinType.Default,i.label.pinType===i.labelPinType.Plus||i.label.pinType===i.labelPinType.PlusMinus&&(null==(a=l.Tb(t,15,1,l.Kb(t,16).transform(i.selectedLabel$)))?null:a.id)!==i.label.id,i.label.pinType===i.labelPinType.Minus||i.label.pinType===i.labelPinType.PlusMinus&&(null==(a=l.Tb(t,15,1,l.Kb(t,17).transform(i.selectedLabel$)))?null:a.id)===i.label.id,i.pinDraggable);e(t,15,0,"label__pin",r),e(t,20,0,"annotation"===i.label.theme,l.Kb(t,21));var u=e(t,26,0,i.isCollapsed||i.tagCollapsed||i.label.hideWire);e(t,25,0,"label__wire",u);var c=e(t,30,0,i.isCollapsed||i.tagCollapsed,i.label.collapseDescription,i.label.hideWire,i.tagDraggable);e(t,29,0,"label__tag",c),e(t,34,0,i.label.description&&i.label.collapseDescription),e(t,39,0,i.label.description)}),(function(e,t){e(t,32,0,t.component.label.title)}))}var vP=function(){function e(e,t,n,l,i){this.store=e,this.actions=t,this.engineService=n,this.viewService=l,this.changeDetectorRef=i,this.ngUnsubscribe=new Z.a}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e,this.setLabelNode()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initInfoListeners()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setLabelNode=function(){var e=Object(Et.get)(this.label,"objectId");if(e){var t=this.store.selectSnapshot(oy.getViewGraph);this.node=this.engineService.getNode(t,e)}else this.node=null;this.changeDetectorRef.markForCheck()},e.prototype.initInfoListeners=function(){var e=this;this.actions.pipe(Object(O.k)(uo),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.setLabelNode()}))},e.prototype.handleReadMoreClick=function(){this.node&&this.viewService.toggleNodeInfo(!0)},Object(v.__decorate)([Object(O.e)(oy.getQuerying),Object(v.__metadata)("design:type",J.a)],e.prototype,"querying$",void 0),e}(),OP=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.context-label__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.context-label__action[_ngcontent-%COMP%]{cursor:pointer}.context-label__action--selected[_ngcontent-%COMP%]{color:#0060c4}.context-label__more[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;cursor:pointer;display:block;line-height:24px;overflow:hidden}.context-label__more[_ngcontent-%COMP%]:hover{text-decoration:underline}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"125ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function wP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-node-actions",[["theme","light"]],null,null,null,AO,kO)),l.xb(1,114688,null,0,jO,[O.i,Xr,l.i,bp,Bd.c],{node:[0,"node"],theme:[1,"theme"]},null)],(function(e,t){e(t,1,0,t.component.node,"light")}),null)}function CP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,3,"div",[["class","context-label__actions"],["label-actions",""]],null,null,null,null,null)),l.Jb(null,0),(e()(),l.ob(16777216,null,null,1,null,wP)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.enableActions)}),null)}function jP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"a",[["class","context-label__more"]],[[24,"@show",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleReadMoreClick()&&l),l}),null,null)),(e()(),l.Sb(-1,null,["Read More..."]))],null,(function(e,t){e(t,0,0,void 0)}))}function kP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.ob(16777216,null,null,1,null,jP)),l.xb(2,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.node&&n.node.description)}),null)}function SP(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,5,"app-label",[["class","context-label"]],null,null,null,_P,hP)),l.xb(1,4440064,null,0,gP,[l.I,bu,uu,vt,O.i,O.b,l.i],{label:[0,"label"],emitEvents:[1,"emitEvents"]},null),(e()(),l.ob(16777216,null,0,1,null,CP)),l.xb(3,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,1,1,null,kP)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.label,!1),e(t,3,0,n.node),e(t,5,0,n.enableInfo)}),null)}var PP=function(){function e(e,t,n,l,i,o,a){this.store=e,this.action$=t,this.engineService=n,this.cameraService=l,this.changeDetector=i,this.labelsService=o,this.elRef=a,this.interactive=!1,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){this.bindEngineEvents(),this.bindApplicationEvents(),this.labelsService.setLabelContainer(this.elRef)},e.prototype.ngOnDestroy=function(){this.labelsService.setLabelContainer(null),this.changeDetector.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.bindApplicationEvents=function(){var e=this;this.action$.pipe(Object(O.l)(zi),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleClickNode(t)})),this.labels$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.changeDetector.markForCheck()})),this.selectedLabel$.pipe(Object(te.a)((function(e){return null==e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){var t=e.store.selectSnapshot(ey.getZoomed),n=e.store.selectSnapshot(ey.getLockCamera);t&&!n&&e.resetCamera()})),this.store.select(Ac.getSelectedChapterReadyState).pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.interactive=t.model}))},e.prototype.bindEngineEvents=function(){var e=this;this.action$.pipe(Object(O.l)(Ri,No),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(t.show?tr.LabelsShown:tr.LabelsHidden,null)})),this.action$.pipe(Object(O.l)(So),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(tr.LabelCreated,t.label)})),this.action$.pipe(Object(O.l)(Io),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(tr.LabelDestroyed,t.label)}))},e.prototype.handleClickNode=function(e){var t=this,n=this.store.selectSnapshot(oy.getActiveTool);null!=e.node?n===ty.Label?this.addLabel(e.hit,e.node):setTimeout((function(){t.toggleContextLabel(e.hit,e.node)})):(this.store.dispatch(new Eo(null)),this.store.dispatch(new To))},e.prototype.addLabel=function(e,t){var n=this.cameraService.getDirection(e),l=this.getLabelDefaults(e.objectId),i=l.hideWire?20:32;l.title=t.label,l.offset=[i,0],l.objectId=e.objectId,l.barycentric=[e.barycentric[0],e.barycentric[1],e.barycentric[2]],l.pos=[e.worldPos[0],e.worldPos[1],e.worldPos[2]],l.primitiveIndex=e.primitiveIndex,l.renderableIndex=e.renderableIndex||0,l.dir=n,l.chapterId=this.store.selectSnapshot(Ac.getSelectedChapter).id,l.occludable=!0,l.shown=!0,this.store.dispatch(new So(l)),this.store.dispatch(new Eo(l))},e.prototype.toggleContextLabel=function(e,t){if(this.store.selectSnapshot(_u.getCheckedNodeIds).some((function(e){return e===t.id}))){var n=this.cameraService.getDirection(e),l=this.labelsService.makeDefaultStudioLabel();l.theme=Tr.Context,l.title=t.label,l.offset=[4,0],l.objectId=e.objectId,l.barycentric=[e.barycentric[0],e.barycentric[1],e.barycentric[2]],l.pos=[e.worldPos[0],e.worldPos[1],e.worldPos[2]],l.primitiveIndex=e.primitiveIndex,l.dir=n,l.occludable=!1,this.store.dispatch(new Po(l))}else this.store.dispatch(new To)},e.prototype.getLabelDefaults=function(e){var t=this.store.selectSnapshot(Bc.getSelectedLabel);if(null==t){var n=this.store.selectSnapshot(Bc.getChapterLabels);n&&0!==n.length||(n=this.store.selectSnapshot(Bc.getLabels)),n.length&&(t=Object(Et.cloneDeep)(n[n.length-1]))}if(null!=t){var l;switch((l=this.labelsService.makeDefaultStudioLabel()).hideWire=t.hideWire,l.pinGlow=t.pinGlow,l.pinType=t.pinType,l.theme=t.theme,l.states[0].errands[0]=new cu,Object(Et.get)(t,"states[1].errands[0].type")){case Ar.flyToObject:case Ar.flyToCamera:l.states[1].errands[0]=new Fr(e)}return l}return(l=this.labelsService.makeDefaultStudioLabel()).states[0].errands[0]=new cu,l.states[1].errands[0]=new Fr(e),l},e.prototype.trackLabel=function(e,t){return""+t.id+t.shown+t.theme},e.prototype.resetCamera=function(){var e=this.store.selectSnapshot(Ac.getSelectedChapter);Object(Et.get)(e,"camera.location")&&this.store.dispatch(new Lf(e.camera.location))},Object(v.__decorate)([Object(O.e)(My.getLayout),Object(v.__metadata)("design:type",J.a)],e.prototype,"layout$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getChapterLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"labels$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapter$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getSelectedLabel),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedLabel$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getLabelsCollapsed),Object(v.__metadata)("design:type",J.a)],e.prototype,"labelsCollapsed$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getLabelsCollapsedMode),Object(v.__metadata)("design:type",J.a)],e.prototype,"labelsCollapsedMode$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getContextLabel),Object(v.__metadata)("design:type",J.a)],e.prototype,"contextLabel$",void 0),Object(v.__decorate)([Object(O.e)(oy.getShowLabels),Object(v.__metadata)("design:type",J.a)],e.prototype,"showLabels$",void 0),Object(v.__decorate)([Object(O.e)(ey.getZoomed),Object(v.__metadata)("design:type",J.a)],e.prototype,"zoomed$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getEnableContextLabel),Object(v.__metadata)("design:type",J.a)],e.prototype,"enableContextLabel$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getEnableContextLabelInfo),Object(v.__metadata)("design:type",J.a)],e.prototype,"enableContextLabelInfo$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getEnableContextLabelActions),Object(v.__metadata)("design:type",J.a)],e.prototype,"enableContextLabelActions$",void 0),Object(v.__decorate)([Object(O.e)(Bc.getLabelsDraggable),Object(v.__metadata)("design:type",J.a)],e.prototype,"draggable$",void 0),e}(),MP=l.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;height:100%;display:block;position:relative}.labels[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:2;pointer-events:none}.labels__label--hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function IP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,5,"app-label",[["class","labels__label"]],[[2,"labels__label--hidden",null]],null,null,_P,hP)),l.xb(2,4440064,null,0,gP,[l.I,bu,uu,vt,O.i,O.b,l.i],{label:[0,"label"],collapsed:[1,"collapsed"],collapsedMode:[2,"collapsedMode"],pinDraggable:[3,"pinDraggable"],tagDraggable:[4,"tagDraggable"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n,i,o=t.component;e(t,2,0,t.context.$implicit,l.Tb(t,2,1,l.Kb(t,3).transform(o.labelsCollapsed$)),l.Tb(t,2,2,l.Kb(t,4).transform(o.labelsCollapsedMode$)),null==(n=l.Tb(t,2,3,l.Kb(t,5).transform(o.draggable$)))?null:n.pin,null==(i=l.Tb(t,2,4,l.Kb(t,6).transform(o.draggable$)))?null:i.tag)}),(function(e,t){e(t,1,0,!t.context.$implicit.shown)}))}function TP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,5,"app-context-label",[],null,null,null,SP,OP)),l.xb(1,245760,null,0,vP,[O.i,O.b,uu,Zy,l.i],{label:[0,"label"],enableInfo:[1,"enableInfo"],enableActions:[2,"enableActions"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component,i=null;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.contextLabel$)),l.Tb(t,1,1,l.Kb(t,3).transform(n.enableContextLabelInfo$))&&(null==(i=l.Tb(t,1,1,l.Kb(t,4).transform(n.layout$)))?null:i.nodeInfo.enable),l.Tb(t,1,2,l.Kb(t,5).transform(n.enableContextLabelActions$)))}),null)}function KP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,7,"div",[["class","labels"]],null,null,null,null,null)),(e()(),l.ob(16777216,null,null,2,null,IP)),l.xb(2,278528,null,0,ce.l,[l.T,l.Q,l.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.ob(16777216,null,null,3,null,TP)),l.xb(5,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,l.Tb(t,2,0,l.Kb(t,3).transform(n.labels$)),n.trackLabel),e(t,5,0,l.Tb(t,5,0,l.Kb(t,6).transform(n.enableContextLabel$))&&l.Tb(t,5,0,l.Kb(t,7).transform(n.contextLabel$)))}),null)}function zP(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,2,null,KP)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,n.interactive&&l.Tb(t,1,0,l.Kb(t,2).transform(n.showLabels$)))}),null)}var UP=function(){function e(e,t){this.actions=e,this.changeDetectorRef=t,this.ngUnsubscribe=new Z.a,this.show=!1}return e.prototype.ngOnInit=function(){var e=this;this.actions.pipe(Object(O.l)(Ci),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.show=!0,e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.onShowDone=function(){this.show=!1},e}(),EP=l.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.engine-scroll[_ngcontent-%COMP%]{display:-webkit-box;display:flex;position:absolute;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;z-index:10000;opacity:0;pointer-events:none}.engine-scroll__label[_ngcontent-%COMP%]{background:rgba(16,24,35,.5);font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;padding:24px 32px;border-radius:40px}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{opacity:"*"},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms ease-in-out"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms 2000ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function LP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,"div",[["class","engine-scroll"],["data-test","engineScroll"]],[[24,"@show",0]],[[null,"@show.done"]],(function(e,t,n){var l=!0;return"@show.done"===t&&(l=!1!==e.component.onShowDone(n)&&l),l}),null,null)),(e()(),l.yb(1,0,null,null,1,"div",[["class","engine-scroll__label"]],null,null,null,null,null)),(e()(),l.Sb(-1,null,[" Use control + scroll to zoom "]))],null,(function(e,t){e(t,0,0,void 0)}))}function AP(e){return l.Ub(2,[(e()(),l.ob(16777216,null,null,1,null,LP)),l.xb(1,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.show)}),null)}Object(GC.g)([Object(GC.m)({opacity:"0",backgroundColor:"*"}),Object(GC.k)([Object(GC.e)("{{ duration }}ms {{ easing }}",Object(GC.m)({opacity:1,backgroundColor:"{{ backgroundColor }}"})),Object(GC.e)("250ms 500ms ease-in",Object(GC.m)({opacity:0}))])],{params:{duration:2e3,backgroundColor:"#ffffff",easing:"ease-out"}});var FP=function(){function e(e,t,n){this.actions=e,this.changeDetectorRef=t,this.store=n,this.color="#FFFFFF",this.duration=2e3,this.isVisible=!1,this.ngUnsubscribe=new Z.a}return e.prototype.ngOnInit=function(){this.initFadeListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initFadeListener=function(){var e=this;this.actions.pipe(Object(O.l)(ki),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.fadeIn(t.color,t.duration)}))},e.prototype.handleFadeComplete=function(){this.store.dispatch(new Si),this.isVisible=!1,this.changeDetectorRef.markForCheck()},e.prototype.fadeIn=function(e,t){this.isVisible=!0,this.color=e,this.duration=1e3*t,this.changeDetectorRef.markForCheck()},e}(),DP=l.wb({encapsulation:2,styles:[[".engine-fade{pointer-events:none;display:block;position:absolute;left:0;right:0;top:0;bottom:0;z-index:10000}"]],data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:"* => true",animation:{type:10,animation:{type:8,animation:[{type:6,styles:{opacity:"0",backgroundColor:"*"},offset:null},{type:2,steps:[{type:4,styles:{type:6,styles:{opacity:1,backgroundColor:"{{ backgroundColor }}"},offset:null},timings:"{{ duration }}ms {{ easing }}"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"250ms 500ms ease-in"}],options:null}],options:{params:{duration:2e3,backgroundColor:"#ffffff",easing:"ease-out"}}},options:null},options:null}],options:{}}]}});function NP(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"div",[["class","engine-fade"]],[[24,"@fade",0]],[[null,"@fade.done"]],(function(e,t,n){var l=!0;return"@fade.done"===t&&(l=!1!==e.component.handleFadeComplete()&&l),l}),null,null)),l.Nb(1,{backgroundColor:0,duration:1}),l.Nb(2,{value:0,params:1})],null,(function(e,t){var n=t.component,l=e(t,2,0,n.isVisible,e(t,1,0,n.color,n.duration));e(t,0,0,l)}))}var RP=n("b7Yd"),BP=n("+gEr"),HP=n("HlzF"),VP=function(){return(VP=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},QP=function(e){return e[e.Pan=.4]="Pan",e[e.PanSlow=.04]="PanSlow",e[e.Zoom=5]="Zoom",e[e.ZoomSlow=1]="ZoomSlow",e[e.Rotate=.3]="Rotate",e[e.RotateSlow=.03]="RotateSlow",e}({}),WP=function(e){return e[e.Rotate=6]="Rotate",e[e.Pan=1.75]="Pan",e[e.Zoom=2.5]="Zoom",e}({}),GP=function(e){return e[e.Zoom=-6]="Zoom",e[e.Pan=1.25]="Pan",e[e.Rotate=1.5]="Rotate",e[e.Friction=.85]="Friction",e[e.ZoomFriction=.85]="ZoomFriction",e[e.FrictionThreshold=.002]="FrictionThreshold",e}({}),qP=function(e){return e.Hide="engine--cursor-hide",e.Label="engine--cursor-label",e.Paint="engine--cursor-paint",e.Crosshair="engine--cursor-crosshair",e.Default="",e}({}),YP=function(e){return e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.LeftAndRight=4]="LeftAndRight",e}({}),XP=function(){function e(e,t,l,o,a,r,c,s,p){this.actions=e,this.animationService=t,this.cameraService=l,this.changeDetecton=o,this.engineService=a,this.paintService=r,this.renderer=c,this.store=s,this.graphService=p,this.flyCamera=!0,this.chapterActivating=!1,this.visible=!1,this.application=i,this.cursorClass=qP.Default,this.audioPlayers=new Map,this.mouseDelta=null,this.ngUnsubscribe=new Z.a,this.display=!1,this.engineVisible=!0,this.ctrlPressed=!1,this.scrollType=null,this.scrollTimeout=null,this.zoomVelocity=0,this.touchZoomVelocity=0,this.pinchTicks=0,this.deltaTime=window.performance.now(),this.pinchMode="",this.inputEnabled=!0,u.application===i.Loft&&n.e(4).then(n.t.bind(null,"16wW",7)).then((function(e){window.pako=e}))}return Object.defineProperty(e.prototype,"isTransparentBackground",{get:function(){return!!this.background&&Ja.isTransparent(this.background)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBackgroundCheckered",{get:function(){return u.application!==i.Viewer&&this.isTransparentBackground},enumerable:!0,configurable:!0}),e.prototype.wheel=function(e){var t=this.store.selectSnapshot(oy.getScrollMode),n=this.ctrlPressed;t!==lr.DoNotCaptureShowMessage||n||this.store.dispatch(new Ci(!0)),(t===lr.Capture||n)&&(e.preventDefault(),this.handleWheel(e))},e.prototype.contextmenu=function(e){this.handleContextMenu(e)},e.prototype.mouseout=function(){this.handleMouseOut()},e.prototype.convertToLeafStateMap=function(e,t){var n={};return Object.entries(t).forEach((function(t){var l=$P(t,2),i=l[0],o=l[1];n[i]={},n[i][e]=o})),n},e.prototype.ngOnInit=function(){var e=this;this.bindEngineEvents(),this.bindApplicationEvents(),this.bindChapterChangeEvents(),this.bindCameraEvents(),this.bindToolEvents(),this.bindMouseEvents(),this.bindKeyEvents(),this.bindHumanInteractions(),this.renderer.listen(window,"keydown",(function(t){"Control"===t.key&&(e.ctrlPressed=!0)})),this.renderer.listen(window,"keyup",(function(t){"Control"===t.key&&(e.ctrlPressed=!1)})),this.initChangeListener(),this.initChapterAudio(),Human.properties.set({assetDomain:u.assetDomain}),Human.workers.setPath("/engine/studio/workers"),Human.init.init()},e.prototype.ngOnDestroy=function(){this.changeDetecton.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initEventListeners=function(){},e.prototype.bindEngineEvents=function(){var e=this;this.engineService.getEvent(tr.LogError).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){throw new Error(e)})),this.engineService.getEvent(tr.Loaded).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new vi(!0))})),this.engineService.getEvent(tr.TimelineChaptersActivateStart).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.chapterActivating=!0})),this.engineService.getEvent(tr.TimelineChaptersActivateFinish).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.chapterActivating=!1;var n=Human.timeline.activeRoot._nowBranch,l={id:n.id,init:!0,camera:n.initializedCamera,annotations:n.initializedAnnotations,graph:n.initializedGraph,properties:n.initializedProperties,particles:n.initializedParticles,clips:n.initializedClippingPlanes,postprocessing:n.initializedPostprocess,transparency:n.initializedTransparencyMode};e.store.dispatch(new Ti(t.chapterId)),e.store.dispatch(new Ki(l))})),Object(md.a)(this.engineService.getEvent(tr.TimelinePlayed),this.engineService.getEvent(tr.TimelinePaused)).pipe(Object(ee.a)(this.ngUnsubscribe),Object(te.a)((function(){return null!=e.store.selectSnapshot(Ac.getSelectedChapterId)})),Object(pr.a)(50),Object(s.a)((function(){return Human.timeline.playing}))).subscribe((function(t){e.store.dispatch(new $i(t))})),this.engineService.getEvent(tr.Tick).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.visible&&(e.inputEnabled&&e.handleMouseInputEngineTick(),e.handleCameraTick(),e.deltaTime=window.performance.now())})),this.engineService.getEvent(tr.SceneObjectsShown).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.enabledObjectsUpdate;if(!e.chapterActivating){var l=Object.keys(n).filter((function(e){return!0===n[e]})),i=Object.keys(n).filter((function(e){return!1===n[e]}));l.length>0&&e.store.dispatch(new eu.UpdateNodesShown(!0,l,void 0,!1)),i.length>0&&e.store.dispatch(new eu.UpdateNodesShown(!1,i,void 0,!1))}})),this.engineService.getEvent(tr.SceneObjectRenderable).pipe(Object(RP.a)(1e3),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){if(t.length){var n={};t.forEach((function(e){n[e.objectId]={renderable:!0}})),e.store.dispatch(new Ai(n))}})),this.engineService.getEvent(tr.AssetsLoadProgress).pipe(Object(ee.a)(this.ngUnsubscribe),Object(BP.b)((function(){return Object(Ga.a)(250)}))).subscribe((function(t){var n=e.store.selectSnapshot(qs.getLoadChunks).length,l=e.store.selectSnapshot(qs.getLoadChunksRemaining).length,i=t.receivedAssets/t.requestedAssets,o=1/n;e.store.dispatch(new yS(i*o+(n-l)*o,i))})),this.actions.pipe(Object(O.k)(Xo),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){0===e.store.selectSnapshot(qs.getLoadChunksRemaining).length&&e.store.dispatch(new yS(1,1))}))},e.prototype.bindApplicationEvents=function(){var e=this;this.enginePosition$.pipe(Object(te.a)((function(e){return null!=e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.repositionEngine(t)})),this.store.select(oy.getXrayModeEnabled).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.store.selectSnapshot(_u.getCheckedNodes),l=e.store.selectSnapshot(_u.getNodes);!1===t?(Object.keys(l||[]).forEach((function(t){e.paintService.paint(t,l[t].paint)})),n.forEach((function(t){return e.paintService.highlight(t.objectId,!0)}))):(e.paintService.paintAll(Object.keys(l),Hs.recipe),e.paintService.paintAll(n.map((function(e){return e.objectId})),Rs.recipe))})),this.background$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.background=t})),this.actions.pipe(Object(O.l)(Wi),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(){e.playChapterFromStart()})),this.engineDisplay$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.display=t,e.changeDetecton.markForCheck()})),this.engineVisible$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineVisible=t,e.changeDetecton.markForCheck()}))},e.prototype.bindChapterChangeEvents=function(){var e=this;this.selectedChapter$.pipe(Object(te.a)((function(e){return null!=e})),Object(Ae.a)(),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=$P(t,2),l=n[1];n[0].id!==l.id&&(e.store.dispatch(new eu.SetActiveChapter(l.id)),Wx(e.store,e.engineService),e.background=e.store.selectSnapshot(Ac.getSelectedChapterBackground),Human.timeline.scrub({chapterId:l.id}))})),this.clippingPlanes$.pipe(Object(te.a)((function(e){return void 0!==e})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(e){var t=Object.values(e.clips).filter((function(e){return e.enabled}));Human.renderer.clip.reset(),t.forEach((function(t){return Human.renderer.clip.setClip(VP({boundary:e.boundary},t))}))})),this.background$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.background=t})),this.activeTool$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){switch(Object.values(qP).forEach((function(t){t&&e.renderer.removeClass(e.engineElement.nativeElement,t)})),t){case ty.Hide:e.renderer.addClass(e.engineElement.nativeElement,qP.Hide);break;case ty.Label:e.renderer.addClass(e.engineElement.nativeElement,qP.Label);break;case ty.Paint:e.renderer.addClass(e.engineElement.nativeElement,qP.Paint);break;case ty.Isolate:case ty.Fade:e.renderer.addClass(e.engineElement.nativeElement,qP.Crosshair)}})),this.selectedChapter$.pipe(Object(te.a)((function(e){return null!=e&&e.readyState.animation})),Object(Bh.a)((function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.store.selectSnapshot(oy.getAutoplay),l=Object(Et.get)(t,"ui.play.autoplay",!0);e.store.dispatch(new Hi(t)),e.store.dispatch(new Vi(n&&l))}))},e.prototype.bindCameraEvents=function(){var e=this;this.actions.pipe(Object(O.l)(Lf),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){t.animate?e.flyToPoint(t.camera,t.animationDuration):e.jumpToPoint(t.camera)})),this.actions.pipe(Object(O.l)(Vf),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.cameraService.panCameraStatic(t.x,t.y,t.z)})),this.actions.pipe(Object(O.l)(Wf),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.cameraService.rotateCameraStatic(t.x,t.y)})),this.actions.pipe(Object(O.l)(Rf),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.cameraService.setHumanZoomFactor(t.value)})),this.actions.pipe(Object(O.l)(Ui),Object(te.a)((function(e){return!!e.objectId})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){t.animate?e.flyToObject(t.objectId,t.animationDuration):e.jumpToObject(t.objectId)}))},e.prototype.bindToolEvents=function(){var e=this;this.activeTool$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){switch(Object.values(qP).forEach((function(t){t&&e.renderer.removeClass(e.engineElement.nativeElement,t)})),t){case ty.Hide:e.renderer.addClass(e.engineElement.nativeElement,qP.Hide);break;case ty.Label:e.renderer.addClass(e.engineElement.nativeElement,qP.Label);break;case ty.Paint:e.renderer.addClass(e.engineElement.nativeElement,qP.Paint);break;case ty.Isolate:case ty.Fade:e.renderer.addClass(e.engineElement.nativeElement,qP.Crosshair)}}))},e.prototype.bindMouseEvents=function(){var e=this;this.mouseMove$=Object(Kg.a)(this.engineElement.nativeElement,"mousemove"),this.mouseMove$.pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleMousePan(t)})),this.mouseMove$.pipe(Object(pr.a)(10),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleMouseHover(t)}))},e.prototype.bindKeyEvents=function(){var e,t=this,n=["w","a","s","d","e","c","=","-","+","_","arrowleft","arrowright","arrowup","arrowdown","shiftKey"].reduce((function(e,t){return e[t]=!1,e}),{}),l=new Le.a(n);this.renderer.listen(window,"keydown",(function(e){var t;if(!(e.repeat||e.metaKey||e.ctrlKey)){var n=e.target.nodeName.toLowerCase();["input","textarea","select","option"].indexOf(n)>=0||l.next(VP({},l.value,((t={})[e.key.toLowerCase()]=!0,t.shiftKey=e.shiftKey,t.hasMomentum=!1,t)))}})),this.renderer.listen(window,"keyup",(function(n){var i,o;n.key&&(1===Object.values(e).filter((function(e){return!0===e})).length?(t.applyMotion(e,!0),l.next(VP({},l.value,((i={})[n.key.toLowerCase()]=!1,i.shiftKey=n.shiftKey,i.hasMomentum=!1===e.shiftKey,i)))):l.next(VP({},l.value,((o={})[n.key.toLowerCase()]=!1,o.shiftKey=n.shiftKey,o.hasMomentum=!1,o))))})),l.pipe(Object(te.a)((function(){return t.inputEnabled})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(n){e=n,!1===n.hasMomentum&&t.applyMotion(n,!1)}))},e.prototype.applyMotion=function(e,t){var n=new Xf,l=e.shiftKey?QP.ZoomSlow:QP.Zoom,i=e.shiftKey?QP.PanSlow:QP.Pan,o=e.shiftKey?QP.RotateSlow:QP.Rotate;n.zoom+=e.c||e["-"]||e._?l:0,n.zoom-=e.e||e["="]||e["+"]?l:0,n.panX-=e.d?i:0,n.panX+=e.a?i:0,n.panY+=e.w?i:0,n.panY-=e.s?i:0,n.rotateX-=e.arrowright?o:0,n.rotateX+=e.arrowleft?o:0,n.rotateY+=e.arrowup?o:0,n.rotateY-=e.arrowdown?o:0,n.applyFriction=t,this.store.dispatch(new Ff(n))},e.prototype.initChangeListener=function(){var e=this;this.store.select(_u.getPatches).pipe(Object(te.a)((function(e){return e.length>0})),Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.reduce((function(e,t){return e[t.path[t.path.length-1]].push(t),e}),{shown:[],checked:[],paint:[],pickable:[]}),l=function(e){return n[e].reduce((function(e,t){return e[t.path[2]]=t.value,e}),{})},i=l("checked"),o=l("shown"),a=l("paint"),r=l("pickable");if(!Object(Et.isEmpty)(o)){var u=e.store.selectSnapshot(_u.getNodes),c=Object.values(u).reduce((function(e,t){return e[t.objectId]=t.shown,e}),{});e.engineService.setNodesVisible(c);var s=e.convertToLeafStateMap("shown",c);e.store.dispatch(new Li(s,u))}if(!Object(Et.isEmpty)(i)){e.engineService.fireEvent(tr.SceneObjectsSelected,{selectedObjectsUpdate:i});var p=e.store.selectSnapshot(oy.getXrayModeEnabled)?function(t,n){return e.paintService.paint(t,!0===n?Rs.recipe:Hs.recipe)}:function(t,n){return e.paintService.highlight(t,n)};Object.entries(i).forEach((function(e){var t=$P(e,2);p(t[0],t[1])}))}if(!Object(Et.isEmpty)(a)){u=e.store.selectSnapshot(_u.getNodes);var d=Object.values(u).reduce((function(e,t){return e[t.objectId]=t.paint,e}),{});Object.entries(d).forEach((function(t){return e.paintService.paint(t[0],t[1])}))}if(!Object(Et.isEmpty)(r)){u=e.store.selectSnapshot(_u.getNodes);var b=Object.values(u).reduce((function(e,t){return e[t.objectId]=t.pickable,e}),{});e.engineService.setNodesPickable(b),e.store.dispatch(new Fi(e.convertToLeafStateMap("pickable",b),u))}}))},e.prototype.initChapterAudio=function(){var e=this;Object(hd.b)(this.selectedChapterId$,this.playAudio$).pipe(Object(ee.a)(this.ngUnsubscribe)).subscribe((function(t){var n=$P(t,2);e.playAudio(n[0],n[1])}))},e.prototype.repositionEngine=function(e){this.renderer.setStyle(this.engineElement.nativeElement,"left",e.left+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"top",e.top+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"width",e.width+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"height",e.height+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"zIndex",""+e.visibility),this.renderer.setStyle(this.engineElement.nativeElement,"visibility",e.visibility===Kf.Shown?"visible":"hidden"),this.visible=e.visibility===Kf.Shown,Human.renderer.resize()},e.prototype.bindHumanInteractions=function(){var e=this,t=new W_.Manager(this.engineCanvasElement.nativeElement);t.add(new W_.Tap({event:"doubletap",taps:2})),t.add(new W_.Tap({event:"singletap"})),t.add(new W_.Pan({event:"pan",pointers:0})),t.add(new W_.Pinch({event:"pinch"})),t.add(new W_.Press({time:500})),t.on("singletap",(function(t){e.handleTap(t)})),t.on("panstart",(function(t){e.handlePanStart(t)})),t.on("panend",(function(t){e.handlePanEnd(t)})),t.on("pinchend",(function(t){e.handlePinchEnd(t)})),t.on("doubletap",(function(t){e.handleDoubleTap(t)})),t.on("press",(function(t){e.handlePress(t)})),t.on("pan",(function(t){t.preventDefault(),e.handlePan(t)}));var n=0,l=0;t.on("pinchstart",(function(t){n=t.scale,e.pinchMode=""})),t.on("pinchmove",(function(t){if(!(e.pinchTicks>0)){console.log("pinchmove");var i=Math.abs(t.deltaX)>60||Math.abs(t.deltaY)>60,o=t.scale>1.25||t.scale<.75;e.pinchMode?("pan"===e.pinchMode&&o&&!i&&(e.pinchMode="pinch"),"pinch"===e.pinchMode&&i&&!o&&(e.pinchMode="pan")):e.pinchMode=o?"pinch":"pan";var a=t.scale-n;n=t.scale;var r=l;l=0===a?0:a>0?1:-1,e.cameraService.setCameraPan(t.velocityX*GP.Pan,t.velocityY*GP.Pan),l+r!==0&&e.cameraService.setHumanZoom(a*GP.Zoom)}}))},e.prototype.handleMouseHover=function(e){if(e.buttons===YP.None){var t=Human.renderer.pick.pick(e.offsetX,e.offsetY);if(t.objectId){var n=this.store.selectSnapshot(oy.getViewGraph),l=this.engineService.getNode(n,t.objectId),i=this.store.selectSnapshot(oy.getHoveredNode);i&&i.id===l.id||this.store.dispatch(new ao(l,t))}else null!=this.store.selectSnapshot(oy.getHoveredNode)&&this.store.dispatch(new ao(null))}},e.prototype.handleMousePan=function(e){if(2===e.buttons||4===e.buttons){var t=e.movementX,n=e.movementY;this.cameraService.setCameraPan(t/=20,n/=20)}},e.prototype.handleMouseOut=function(){this.store.dispatch(new ao(null))},e.prototype.handleWheel=function(e){var t=this,n=0;switch(e.deltaMode){case 0:null===this.scrollType&&(this.scrollType=Math.abs(e.deltaY)<10?"trackpad":"wheel"),console.log("scroll type "+this.scrollType),n="trackpad"===this.scrollType?1.66667*Math.sign(e.deltaY):10*Math.sign(e.deltaY);break;default:this.scrollType="wheel",n=10*Math.sign(e.deltaY)}clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){t.scrollType=null}),500),Math.abs(n)>40&&(n=40*Math.sign(n),console.log("max zoom")),"trackpad"===this.scrollType?this.cameraService.setCameraZoom(n):this.zoomWithVelocity(n)},e.prototype.zoomWithVelocity=function(e){var t=this;this.cameraService.setCameraZoom(e),requestAnimationFrame((function(){e*=.85,Math.abs(e)>1&&t.zoomWithVelocity(e)}))},e.prototype.handleContextMenu=function(e){e.preventDefault();var t=this.getHit(e.offsetX,e.offsetY);this.getNodeFromHit(t)},e.prototype.handlePanStart=function(e){},e.prototype.handlePanEnd=function(e){var t=this.store.selectSnapshot(ey.getCameraMotion);if(!(this.pinchTicks>0||t.panX===e.velocityX&&t.panY===e.velocityY)){var n=this.store.selectSnapshot(ey.getPanMode);e.srcEvent.shiftKey||"pan"===n?(t.panX=e.velocityX*GP.Pan,t.panY=e.velocityY*GP.Pan):(t.rotateX=e.velocityX*GP.Rotate,t.rotateY=e.velocityY*GP.Rotate),t.applyFriction=!0,this.store.dispatch(new Ff(t))}},e.prototype.handlePinchEnd=function(e){var t=this.store.selectSnapshot(ey.getCameraMotion);if("pan"===this.pinchMode)t.panX=e.velocityX*GP.Pan,t.panY=e.velocityY*GP.Pan;else{var n=e.velocity>0?1:-1;t.zoom=Math.sqrt(e.velocityX*e.velocityX+e.velocityY*e.velocityY)*-n*GP.Zoom}t.applyFriction=!0,this.store.dispatch(new Ff(t)),this.pinchTicks=10},e.prototype.handleTap=function(e){var t=this.getOffset(e),n=this.getHit(t.offsetX,t.offsetY),l=this.getNodeFromHit(n);this.store.dispatch(new zi(l,e,n))},e.prototype.handleDoubleTap=function(e){var t=this.getOffset(e),n=this.getHit(t.offsetX,t.offsetY),l=this.getNodeFromHit(n);l&&this.store.dispatch(new Ui(l.id))},e.prototype.handlePress=function(e){var t=this.getOffset(e),n=this.getHit(t.offsetX,t.offsetY),l=this.getNodeFromHit(n);l&&this.store.dispatch(new Ui(l.id))},e.prototype.handlePan=function(e){if(!(this.pinchTicks>0)){var t=this.store.selectSnapshot(ey.getPanMode),n=e.velocityX,l=e.velocityY;e.srcEvent.shiftKey||"pan"===t?this.cameraService.setCameraPan(n*GP.Pan,l*GP.Pan):this.cameraService.setCameraRotation(n*GP.Rotate,l*GP.Rotate)}},e.prototype.handleMouseInputEngineTick=function(){var e=this.cameraService.tickCameraRotation(),t=this.cameraService.tickCameraPan(),n=this.cameraService.tickCameraZoom(),l=(window.performance.now()-this.deltaTime)/(1e3/60);if((e.vx||e.vy)&&this.cameraService.rotateCameraStatic(0!==e.vx?l*e.vx*WP.Rotate:0,0!==e.vy?l*e.vy*WP.Rotate:0),t.x||t.y){var i=Math.max(Human.renderer.camera.lookDistance/80,.01);this.cameraService.panCameraStatic(l*t.x*i*WP.Pan,l*t.y*i*WP.Pan,l*t.z*i*WP.Pan)}0!==n&&this.cameraService.setHumanZoom(l*n*WP.Zoom)},e.prototype.handleCameraTick=function(){this.pinchTicks>0&&this.pinchTicks--,this.applyFriction();var e=this.store.selectSnapshot(ey.getCameraMotion);this.cameraService.setCameraPan(e.panX,e.panY),this.cameraService.setCameraRotation(e.rotateX,e.rotateY),this.cameraService.setCameraZoom(e.zoom)},e.prototype.applyFriction=function(){var e=this.store.selectSnapshot(ey.getCameraMotion);if(!0===e.applyFriction){var t=(window.performance.now()-this.deltaTime)/(1e3/60);0===e.rotateX&&0===e.rotateY||(e.rotateX=e.rotateX*(GP.Friction+.1*(1-t)),e.rotateY=e.rotateY*(GP.Friction+.1*(1-t)),Math.abs(e.rotateX)<GP.FrictionThreshold&&(e.rotateX=0),Math.abs(e.rotateY)<.002&&(e.rotateY=0)),0===e.panX&&0===e.panY||(e.panX=e.panX*(GP.Friction+.1*(1-t)),e.panY=e.panY*(GP.Friction+.1*(1-t)),Math.abs(e.panX)<GP.FrictionThreshold&&(e.panX=0),Math.abs(e.panY)<GP.FrictionThreshold&&(e.panY=0)),0!==e.zoom&&(e.zoom=e.zoom*(GP.ZoomFriction+.1*(1-t)),Math.abs(e.zoom)<GP.FrictionThreshold&&(e.zoom=0)),0===e.rotateX&&0===e.rotateY&&0===e.panX&&0===e.panY&&0===e.zoom&&(e.applyFriction=!1),this.store.dispatch(new Ff(e))}},e.prototype.flyToObject=function(e,t){Human.renderer.camera.fly.flyTo({objectId:e,animationDuration:t})},e.prototype.jumpToObject=function(e){Human.renderer.camera.fly.jumpTo({objectId:e})},e.prototype.flyToPoint=function(e,t){var n=this;Human.renderer.camera.fly.flyTo(VP({},e,{animationDuration:t}),(function(){n.store.dispatch(new Af)}))},e.prototype.jumpToPoint=function(e){Human.renderer.camera.fly.jumpTo(e)},e.prototype.getNodeFromHit=function(e){var t;if(e.objectId){var n=this.store.selectSnapshot(oy.getViewGraph);t=this.engineService.getNode(n,e.objectId)}return t},e.prototype.getHit=function(e,t){return Human.renderer.pick.pick(e,t,{rayPick:!0})},e.prototype.getContainerStyles=function(){var e={};return this.background&&!this.isTransparentBackground&&(e["background-image"]=Ja.toCSS(this.background)),this.display||(e.display="none"),this.engineVisible||(e.opacity=0),e},e.prototype.getOffset=function(e){var t=0,n=0;e.center?(t=e.center.x,n=e.center.y):(t=e.clientX,n=e.clientY);var l=this.engineElement.nativeElement.getBoundingClientRect();return{offsetX:t-l.left,offsetY:n-l.top}},e.prototype.playAudio=function(e,t,n){void 0===n&&(n=!1),null==e&&(e=this.store.selectSnapshot(Ac.getSelectedChapterId)),null==t&&(t=this.store.selectSnapshot(oy.getPlayAudio));var l=this.audioPlayers.get(e);if(!l){var i=this.store.selectSnapshot(Ac.getSelectedChapterAudio);if(i){var o=Object(Et.get)(i,"data.fullUrl");if(!o)return;l=new HP.Howl({src:["/content/states/"+o]}),this.audioPlayers.set(this.store.selectSnapshot(Ac.getSelectedChapterId),l)}}this.audioPlayers.forEach((function(e){e.stop()})),l&&(t?l.play():l.stop())},e.prototype.playChapterFromStart=function(){var e=this.store.selectSnapshot(Ac.getSelectedChapter);this.playAudio(),this.store.dispatch(new Hi(e)),this.store.dispatch(new Vi(!0))},Object(v.__decorate)([Object(O.e)(oy.getReady),Object(v.__metadata)("design:type",J.a)],e.prototype,"ready$",void 0),Object(v.__decorate)([Object(O.e)(oy.getViewGraph),Object(v.__metadata)("design:type",J.a)],e.prototype,"viewGraph$",void 0),Object(v.__decorate)([Object(O.e)(oy.getEnginePosition),Object(v.__metadata)("design:type",J.a)],e.prototype,"enginePosition$",void 0),Object(v.__decorate)([Object(O.e)(oy.getHoveredNode),Object(v.__metadata)("design:type",J.a)],e.prototype,"hoveredNode$",void 0),Object(v.__decorate)([Object(O.e)(oy.getChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapter$",void 0),Object(v.__decorate)([Object(O.e)(oy.getChapterInit),Object(v.__metadata)("design:type",J.a)],e.prototype,"chapterInit$",void 0),Object(v.__decorate)([Object(O.e)(oy.getActiveTool),Object(v.__metadata)("design:type",J.a)],e.prototype,"activeTool$",void 0),Object(v.__decorate)([Object(O.e)(oy.getAnimationPlaying),Object(v.__metadata)("design:type",J.a)],e.prototype,"animationPlaying$",void 0),Object(v.__decorate)([Object(O.e)(oy.getPlayAudio),Object(v.__metadata)("design:type",J.a)],e.prototype,"playAudio$",void 0),Object(v.__decorate)([Object(O.e)(oy.getDisplay),Object(v.__metadata)("design:type",J.a)],e.prototype,"engineDisplay$",void 0),Object(v.__decorate)([Object(O.e)(oy.getVisible),Object(v.__metadata)("design:type",J.a)],e.prototype,"engineVisible$",void 0),Object(v.__decorate)([Object(O.e)(oy.getShowProgressBar),Object(v.__metadata)("design:type",J.a)],e.prototype,"showProgressBar$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapter),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapter$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterId),Object(v.__metadata)("design:type",J.a)],e.prototype,"selectedChapterId$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterClippingPlanes),Object(v.__metadata)("design:type",J.a)],e.prototype,"clippingPlanes$",void 0),Object(v.__decorate)([Object(O.e)(ey.getCameraMotion),Object(v.__metadata)("design:type",J.a)],e.prototype,"cameraMotion$",void 0),Object(v.__decorate)([Object(O.e)(Ac.getSelectedChapterBackground),Object(v.__metadata)("design:type",J.a)],e.prototype,"background$",void 0),e}(),ZP=l.wb({encapsulation:0,styles:[[".engine[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;position:fixed;width:100vw;height:100vh;overflow:hidden;visibility:hidden;z-index:-1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.engine__canvas[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;z-index:1}.engine__annotations[_ngcontent-%COMP%]{display:none}.engine--cursor-paint[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-paint.png) 7 20,pointer}.engine--cursor-hide[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-hide.png) 7 20,pointer}.engine--cursor-label[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-label.png) 7 20,pointer}.engine--cursor-crosshair[_ngcontent-%COMP%]:hover{cursor:crosshair}.engine--checkered[_ngcontent-%COMP%]{background-color:#fff;background-size:24px 24px;background-position:0 0,12px 12px;background-image:linear-gradient(45deg,#d7e0ea 25%,transparent 25%,transparent 75%,#d7e0ea 75%,#d7e0ea),linear-gradient(45deg,#d7e0ea 25%,transparent 25%,transparent 75%,#d7e0ea 75%,#d7e0ea)}.engine__controls[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:16px;z-index:2}.engine__progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:2}.engine__progress--hide[_ngcontent-%COMP%]{display:none}.engine__input-blocking[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:3}@media (max-width:768px){.engine__controls[_ngcontent-%COMP%]{bottom:96px}}"]],data:{}});function JP(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,0,"div",[["class","engine__input-blocking"],["data-test","engineInputBlocker"]],null,null,null,null,null))],null,null)}function eM(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-engine-progress",[],null,null,null,uP,rP)),l.xb(1,245760,null,0,aP,[O.i,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}function tM(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.yb(1,0,null,null,1,"app-engine-camera-position",[],null,null,null,pP,sP)),l.xb(2,114688,null,0,cP,[uu,l.i],null,null)],(function(e,t){e(t,2,0)}),null)}function nM(e){return l.Ub(2,[l.Qb(402653184,1,{engineElement:0}),l.Qb(402653184,2,{engineCanvasElement:0}),l.Qb(402653184,3,{engineAnnotationsElement:0}),(e()(),l.yb(3,0,[[1,0],["engine",1]],null,17,"div",[["class","engine"],["data-test","engine"],["id","container"],["role","main"]],[[2,"engine--checkered",null]],null,null,null,null)),l.Pb(512,null,ce.C,ce.D,[l.l,l.w,l.I]),l.xb(5,278528,null,0,ce.p,[ce.C],{ngStyle:[0,"ngStyle"]},null),(e()(),l.yb(6,0,[[2,0],["engineCanvas",1]],null,0,"canvas",[["class","engine__canvas"],["data-test","engineCanvas"],["id","theCanvas"]],null,null,null,null,null)),(e()(),l.yb(7,0,[[3,0],["engineAnnotations",1]],null,0,"canvas",[["class","engine__annotations"],["id","annotationCanvas"]],null,null,null,null,null)),(e()(),l.yb(8,0,null,null,1,"app-labels",[],null,null,null,zP,MP)),l.xb(9,245760,null,0,PP,[O.i,O.b,uu,vt,l.i,bu,l.l],null,null),(e()(),l.ob(16777216,null,null,1,null,JP)),l.xb(11,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),(e()(),l.ob(16777216,null,null,2,null,eM)),l.xb(13,16384,null,0,ce.m,[l.T,l.Q],{ngIf:[0,"ngIf"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(15,0,null,null,1,"app-engine-scroll",[],null,null,null,AP,EP)),l.xb(16,245760,null,0,UP,[O.b,l.i],null,null),(e()(),l.yb(17,0,null,null,1,"app-engine-fade",[],null,null,null,NP,DP)),l.xb(18,245760,null,0,FP,[O.b,l.i,O.i],null,null),(e()(),l.ob(16777216,null,null,1,null,tM)),l.xb(20,81920,null,0,Ex,[l.Q,l.T,d.m],{appFlagApplication:[0,"appFlagApplication"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.getContainerStyles()),e(t,9,0),e(t,11,0,!n.inputEnabled),e(t,13,0,l.Tb(t,13,0,l.Kb(t,14).transform(n.showProgressBar$))),e(t,16,0),e(t,18,0),e(t,20,0,n.application.Loft)}),(function(e,t){e(t,3,0,t.component.isBackgroundCheckered)}))}var lM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},iM=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lM(arguments[t]));return e},oM=function(e){return e.JS="js",e.Config="config",e.Event="event",e}({}),aM=function(){function e(){var e=window;e.gtag||(e.dataLayer=e.dataLayer||[],e.gtag=function(){e.dataLayer.push(arguments)})}return e.prototype.init=function(e){this.analyticsId=e,this.gtag(oM.JS,new Date),this.gtag(oM.Config,e,{send_page_view:!1})},e.prototype.logPageView=function(e){this.gtag(oM.Config,this.analyticsId,{page_path:e})},e.prototype.logEvent=function(e,t){this.gtag(oM.Event,e,t)},e.prototype.gtag=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=window).gtag.apply(e,iM(t))},e.ngInjectableDef=l.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),rM=l.wb({encapsulation:0,styles:[[""]],data:{}});function uM(e){return l.Ub(2,[(e()(),l.yb(0,0,null,null,2,"app-engine",[],null,[[null,"wheel"],[null,"contextmenu"],[null,"mouseout"]],(function(e,t,n){var i=!0;return"wheel"===t&&(i=!1!==l.Kb(e,1).wheel(n)&&i),"contextmenu"===t&&(i=!1!==l.Kb(e,1).contextmenu(n)&&i),"mouseout"===t&&(i=!1!==l.Kb(e,1).mouseout(n)&&i),i}),nM,ZP)),l.xb(1,245760,null,0,XP,[O.b,Bu,vt,l.i,uu,Fx,l.I,O.i,Xr],{inputEnabled:[0,"inputEnabled"]},null),l.Mb(131072,ce.b,[l.i]),(e()(),l.yb(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.xb(4,212992,null,0,d.q,[d.b,l.T,l.k,[8,null],l.i],null,null)],(function(e,t){var n=t.component;e(t,1,0,l.Tb(t,1,0,l.Kb(t,2).transform(n.inputEnabled$))),e(t,4,0)}),null)}function cM(e){return l.Ub(0,[(e()(),l.yb(0,0,null,null,1,"app-root",[],null,null,null,uM,rM)),l.xb(1,245760,null,0,le,[O.i,d.m,aM],null,null)],(function(e,t){e(t,1,0)}),null)}var sM=l.ub("app-root",le,cM,{},{},[]),pM=n("vGXY");function dM(){var e=new Bv.e;return e.link=function(e,t,n){var l;return'<a href="'+((l=e).match(/^(?:(?:(?:ht)tps?):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i)?l:"")+'" target="_blank" rel="noreferrer nofollow">'+n+"</a>"},e.paragraph=function(e){return"<p>"+e+"</p>"},e.image=function(e,t,n){return""},{renderer:e,gfm:!1}}var bM=function(){return function(){}}(),gM=n("Wf4p"),hM=n("NSYL"),mM=n("M2Lx"),fM=n("uGex"),yM=n("OBdK"),xM=function(){return function(){}}(),_M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accountUrl="biodigital.zendesk.com",t}return Object(v.__extends)(t,e),t.prototype.beforePageLoad=function(e){e.setLocale("en"),e.hide()},t}(xM),vM=function(){return function(){}}();function OM(){return window}var wM=function(){function e(e){var t=this;if(!e.accountUrl)throw new Error("Missing accountUrl. Please set in app config via ZendeskWidgetProvider");this.window=OM();var n=this.window;n.zEmbed||function(t,l){var i,o,a,r,u=[],c=document.createElement("iframe");n.zEmbed=function(){u.push(arguments)},n.zE=n.zE||n.zEmbed,c.src="javascript:false",c.title="",c.style.cssText="display: none",(a=(a=document.getElementsByTagName("script"))[a.length-1]).parentNode.insertBefore(c,a),r=c.contentWindow.document;try{o=r}catch(t){i=document.domain,c.src='javascript:var d=document.open();d.domain="'+i+'";void(0);',o=r}o.open()._l=function(){var t=this.createElement("script");i&&(this.domain=i),t.id="js-iframe-async",t.src="https://assets.zendesk.com/embeddable_framework/main.js",this.t=+new Date,this.zendeskHost=e.accountUrl,this.zEQueue=u,this.body.appendChild(t)},o.write('<body onload="document._l();">'),o.close()}(),this.window.zE((function(){e.beforePageLoad(t.window.zE)}))}return e.prototype.setLocale=function(e){var t=this;this.window.zE((function(){t.window.zE.setLocale(e)}))},e.prototype.identify=function(e){var t=this;this.window.zE((function(){t.window.zE.identify(e)}))},e.prototype.hide=function(){var e=this;this.window.zE((function(){e.window.zE.hide()}))},e.prototype.show=function(){var e=this;this.window.zE((function(){e.window.zE.show()}))},e.prototype.activate=function(e){var t=this;this.window.zE((function(){t.window.zE.activate(e)}))},e.prototype.setHelpCenterSuggestions=function(e){var t=this;this.window.zE((function(){t.window.zE.setHelpCenterSuggestions(e)}))},e.prototype.setSettings=function(e){this.window.zESettings=e},e.ngInjectableDef=l.Xb({factory:function(){return new e(l.Yb(xM))},token:e,providedIn:"root"}),e}(),CM=function(){return function(){}}(),jM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},kM=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jM(arguments[t]));return e},SM=Qc.categories,PM={query:"",loading:!0,searching:!1,searchResults:[],sort:wp,checkedSearchResults:[],selectedCategory:null},MM=function(){function e(e,t,n){this.exploreService=e,this.bookmarksService=t,this.store=n}return e.getSearchResults=function(e){var t=e.searchResults;if(e.searching)return t;var n=e.sort;return kp(t,n.fields,n.ascending)},e.getCheckedSearchResults=function(e){return e.checkedSearchResults},e.getLoading=function(e){return e.loading},e.getSort=function(e){return e.sort},e.getSelectedCategory=function(e){return e.selectedCategory},e.getSearchQuery=function(e){return e.query},e.prototype.load=function(e,t){var n=t.category;e.patchState({loading:!0});var l=this.store.selectSnapshot(Va.getUserLanguage);(n===Zs.Public?this.bookmarksService.getPublicBookmarks():this.exploreService.getAnatomyCategory("",n,l)).pipe(Object(V.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){t.forEach((function(e){"module"===e.type&&(e.id=e.module_name.replace(".json",""))})),e.dispatch(new mo(t))}))},e.prototype.search=function(e,t){var n=t.query;e.patchState({query:n,searching:!0,loading:!0});var l=this.store.selectSnapshot(Va.getUserLanguage);this.exploreService.search(n,[],l).pipe(Object(V.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){return e.dispatch(new mo(t))}))},e.prototype.setSearching=function(e,t){e.patchState({searching:t.searching})},e.prototype.loadSuccess=function(e,t){(0,e.patchState)({searchResults:t.searchResults})},e.prototype.sortSearchResults=function(e,t){var n=e.getState().searchResults;e.patchState({sort:t.sort,searchResults:kM(n)})},e.prototype.resetSearchResults=function(e,t){e.patchState({searchResults:[],checkedSearchResults:[]})},e.prototype.checkSearchResult=function(e,t){var n=e.getState().checkedSearchResults,l=n.some((function(e){return e===t.id}));t.checked&&!l?n=kM(n,[t.id]):t.checked||(n=n.filter((function(e){return e!==t.id}))),e.patchState({checkedSearchResults:n})},e.prototype.setCheckedSearchResults=function(e,t){e.patchState({checkedSearchResults:t.ids})},e.prototype.selectCategory=function(e,t){var n=t.tag?t.tag.toLowerCase():"";e.patchState({selectedCategory:SM.find((function(e){return e.id.toLowerCase()===n}))})},e.prototype.resetExplore=function(e,t){e.setState(PM)},Object(v.__decorate)([Object(O.a)(bo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,bo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"load",null),Object(v.__decorate)([Object(O.a)(go),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,go]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"search",null),Object(v.__decorate)([Object(O.a)(ho),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,ho]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setSearching",null),Object(v.__decorate)([Object(O.a)(mo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,mo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(v.__decorate)([Object(O.a)(fo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,fo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"sortSearchResults",null),Object(v.__decorate)([Object(O.a)(yo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,yo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetSearchResults",null),Object(v.__decorate)([Object(O.a)(xo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,xo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"checkSearchResult",null),Object(v.__decorate)([Object(O.a)(_o),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,_o]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedSearchResults",null),Object(v.__decorate)([Object(O.a)(vo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,vo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"selectCategory",null),Object(v.__decorate)([Object(O.a)(Oo),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Oo]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetExplore",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[CM]),Object(v.__metadata)("design:returntype",void 0)],e,"getSearchResults",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[CM]),Object(v.__metadata)("design:returntype",void 0)],e,"getCheckedSearchResults",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[CM]),Object(v.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[CM]),Object(v.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[CM]),Object(v.__metadata)("design:returntype",void 0)],e,"getSelectedCategory",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[CM]),Object(v.__metadata)("design:returntype",void 0)],e,"getSearchQuery",null),Object(v.__decorate)([Object(O.g)({name:"explore",defaults:PM})],e)}(),IM=function(){return function(){}}(),TM={theme:function(e){return e.Light="theme-light",e.Dark="theme-dark",e}({}).Light},KM=function(){function e(){}return e.getTheme=function(e){return e.theme},e.prototype.setTheme=function(e,t){(0,e.patchState)({theme:t.theme})},e.prototype.resetLayout=function(e,t){e.setState(TM)},Object(v.__decorate)([Object(O.a)(Da),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Da]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"setTheme",null),Object(v.__decorate)([Object(O.a)(Na),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,Na]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"resetLayout",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[IM]),Object(v.__metadata)("design:returntype",void 0)],e,"getTheme",null),Object(v.__decorate)([Object(O.g)({name:"layout",defaults:TM})],e)}(),zM=function(){return function(){}}(),UM=function(){function e(e){this.dialogService=e}return e.getOpenDialog=function(e){return e.openDialog},e.prototype.openPremiumContent=function(e,t){this.dialogService.openPremiumContentDialog().afterClosed().subscribe((function(t){e.dispatch(new dd.ClosePremiumContent(t))}))},e.prototype.closePremiumContent=function(e,t){t.confirmed&&e.dispatch(new dd.OpenUpgrade)},e.prototype.openUpgrade=function(e,t){this.dialogService.openUpgradeDialog()},Object(v.__decorate)([Object(O.a)(dd.OpenPremiumContent),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,dd.OpenPremiumContent]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"openPremiumContent",null),Object(v.__decorate)([Object(O.a)(dd.ClosePremiumContent),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,dd.ClosePremiumContent]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"closePremiumContent",null),Object(v.__decorate)([Object(O.a)(dd.OpenUpgrade),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[Object,dd.OpenUpgrade]),Object(v.__metadata)("design:returntype",void 0)],e.prototype,"openUpgrade",null),Object(v.__decorate)([Object(O.f)(),Object(v.__metadata)("design:type",Function),Object(v.__metadata)("design:paramtypes",[zM]),Object(v.__metadata)("design:returntype",void 0)],e,"getOpenDialog",null),Object(v.__decorate)([Object(O.g)({name:"dialog",defaults:{openDialog:null}})],e)}(),EM=function(){return(EM=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},LM=function(){function e(){}return e.prototype.resolve=function(e){var t=EM({},e.queryParams);return Dy(Object.keys(t).reduce((function(e,n){var l=Array.isArray(t[n]);return e[n]=l?Object(Et.last)(t[n]):t[n],e}),{}))},e}(),AM=n("1mzF"),FM=function(){return function(){}}(),DM=function(){return function(){}}(),NM=n("y4qS"),RM=n("UodH"),BM=n("8mMr"),HM=n("u7R8"),VM=n("/dO6"),$M={duration:3e3},QM={disabled:!0,animation:{enterDuration:0,exitDuration:0}},WM=function(){return function(){}}(),GM=function(){return function(){}}(),qM=function(){return function(){}}(),YM=function(){return function(){}}(),XM=function(){return function(){}}(),ZM=function(){return function(){}}(),JM=function(){return function(){}}(),eI=function(){return function(){}}(),tI=function(){return function(){}}(),nI=function(){return function(){}}(),lI=function(){return function(){}}(),iI=function(){return function(){}}(),oI=function(){return function(){}}(),aI=function(){return function(){}}(),rI=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:t,useClass:t},{provide:wM,useClass:wM,deps:[t]}]}},e}(),uI=function(){return function(){}}(),cI=function(){return function(){}}(),sI=function(){return function(){}}(),pI=function(){return function(){}}(),dI=function(){return function(){}}(),bI=function(){return function(){}}(),gI=function(){return function(){}}(),hI=function(){return function(){}}(),mI=function(){return function(){}}(),fI=function(){return function(){}}(),yI=function(){return function(){}}(),xI=function(){return function(){}}(),_I=function(){return function(){}}(),vI=function(){return function(){}}(),OI=function(){return function(){}}(),wI=function(){return function(){}}(),CI=function(){return function(){}}(),jI=function(){return function(){}}(),kI=function(){return function(){}}(),SI=function(){return function(){}}(),PI=function(){return function(){}}(),MI=function(){return function(){}}(),II=function(){return function(){}}(),TI=function(){return function(){}}(),KI=function(){return function(){}}(),zI=function(){return function(){}}(),UI=function(){return function(){}}(),EI=function(){return function(){}}(),LI=function(){return function(){}}(),AI=function(){return function(){}}(),FI=function(){return function(){}}(),DI=n("YSh2"),NI=l.vb(_,[le],(function(e){return l.Hb([l.Ib(512,l.k,l.hb,[[8,[ie.a,oe.a,ae.a,ae.b,re.a,ue.a,ib,ub,gb,Mb,qb,Jb,ag,pg,fg,Og,kg,Ig,Yg,mh,kh,df,wf,lx,Cx,ev,HS,nP,sM]],[3,l.k],l.A]),l.Ib(5120,l.x,Cl,[]),l.Ib(4608,ce.o,ce.n,[l.x,[2,ce.F]]),l.Ib(4608,Qy,Qy,[pM.a,O.i]),l.Ib(4608,c.m,c.m,[]),l.Ib(6144,c.k,null,[c.m]),l.Ib(4608,c.i,c.i,[c.k]),l.Ib(6144,c.b,null,[c.i]),l.Ib(4608,c.f,c.l,[c.b,l.t]),l.Ib(4608,c.c,c.c,[c.f]),l.Ib(4608,rt.b,rt.l,[ce.d]),l.Ib(5120,Bv.d,dM,[]),l.Ib(4608,Bv.c,Bv.c,[l.E,[2,c.c],rt.b,Bv.d]),l.Ib(5120,l.pb,l.tb,[l.C]),l.Ib(5120,l.c,l.qb,[]),l.Ib(5120,l.v,l.rb,[]),l.Ib(5120,l.w,l.sb,[]),l.Ib(6144,l.L,null,[rt.b]),l.Ib(4608,rt.e,gM.b,[[2,gM.d],[2,gM.f]]),l.Ib(5120,rt.c,(function(e,t,n,l,i,o,a,r){return[new rt.j(e,t,n),new rt.o(l),new rt.n(i,o,a,r)]}),[ce.d,l.C,l.E,ce.d,ce.d,rt.e,l.ib,[2,rt.f]]),l.Ib(4608,rt.d,rt.d,[rt.c,l.C]),l.Ib(135680,rt.m,rt.m,[ce.d]),l.Ib(4608,rt.k,rt.k,[rt.d,rt.m,l.c]),l.Ib(5120,hM.a,Oe.e,[]),l.Ib(5120,hM.c,Oe.f,[]),l.Ib(4608,hM.b,Oe.d,[ce.d,hM.a,hM.c]),l.Ib(5120,l.J,Oe.g,[rt.k,hM.b,l.C]),l.Ib(6144,rt.p,null,[rt.m]),l.Ib(4608,l.R,l.R,[l.C]),l.Ib(4608,GC.b,Oe.c,[l.J,ce.d]),l.Ib(4608,c.j,c.p,[ce.d,l.E,c.n]),l.Ib(4608,c.q,c.q,[c.j,c.o]),l.Ib(5120,c.a,(function(e){return[e,new p]}),[c.q]),l.Ib(4608,Tc.d,Tc.d,[ce.d,l.C,ot.j,Tc.f]),l.Ib(4608,mM.c,mM.c,[]),l.Ib(4608,nt.a,nt.a,[nt.g,nt.c,l.k,nt.f,nt.d,l.t,l.C,ce.d,lt.b,[2,ce.h]]),l.Ib(5120,nt.h,nt.i,[nt.a]),l.Ib(5120,fM.a,fM.b,[nt.a]),l.Ib(5120,Ue.c,Ue.j,[nt.a]),l.Ib(4608,gM.a,gM.a,[]),l.Ib(5120,Dd.c,Dd.d,[nt.a]),l.Ib(135680,Dd.e,Dd.e,[nt.a,l.t,[2,ce.h],[2,Dd.b],Dd.c,[3,Dd.e],nt.c]),l.Ib(5120,it.b,it.c,[nt.a]),l.Ib(135680,ve.e,ve.e,[l.C,at.a]),l.Ib(4608,yM.b,yM.b,[l.Q]),l.Ib(4608,ge.z,ge.z,[]),l.Ib(4608,ut.d,ut.d,[]),l.Ib(4608,Ct.a,Ct.a,[[2,"PapaParseGlobalConfig"]]),l.Ib(4608,ge.f,ge.f,[]),l.Ib(4608,_M,_M,[]),l.Ib(4608,wM,wM,[_M]),l.Ib(4608,qs,qs,[O.i,us,uu,Vc]),l.Ib(4608,Ac,Ac,[xc,wc,O.i,Bu,uu]),l.Ib(4608,Bc,Bc,[O.i,bu]),l.Ib(4608,oy,oy,[O.i,Xr,uu,ny,Bu]),l.Ib(4608,ey,ey,[vt]),l.Ib(4608,_u,_u,[]),l.Ib(4608,_S,_S,[O.i]),l.Ib(4608,Qa,Qa,[Bt,O.i]),l.Ib(4608,Tp,Tp,[O.i,us,Js,Gc,Bt,tp]),l.Ib(4608,MM,MM,[Gc,Js,O.i]),l.Ib(4608,KM,KM,[]),l.Ib(4608,ip,ip,[tp,Bt]),l.Ib(4608,Yw,Yw,[O.i]),l.Ib(5120,"virtual-scroller-default-options",mm.a,[]),l.Ib(4608,Td,Td,[tp,rd,Gc,Js]),l.Ib(4608,UM,UM,[Rd]),l.Ib(4608,My,My,[]),l.Ib(4608,X,X,[H,B]),l.Ib(4608,LM,LM,[]),l.Ib(5120,d.a,d.A,[d.m]),l.Ib(4608,d.f,d.f,[]),l.Ib(6144,d.h,null,[d.f]),l.Ib(135680,d.r,d.r,[d.m,l.z,l.j,l.t,d.h]),l.Ib(4608,d.g,d.g,[]),l.Ib(5120,d.F,d.w,[d.m,ce.w,d.i]),l.Ib(5120,d.j,d.D,[d.B]),l.Ib(5120,l.b,(function(e,t){return[e,O.d.appBootstrapListenerFactory(t)]}),[d.j,AM.c]),l.Ib(4608,O.b,O.b,[O.m,O.A]),l.Ib(256,O.d.ROOT_OPTIONS,{},[]),l.Ib(1024,O.r,O.d.ngxsConfigFactory,[O.d.ROOT_OPTIONS]),l.Ib(512,O.m,O.m,[]),l.Ib(512,O.v,O.v,[]),l.Ib(512,O.h,O.h,[]),l.Ib(1024,m,x,[]),l.Ib(512,l.n,f,[m]),l.Ib(512,O.z,O.z,[[3,O.z],[2,O.c]]),l.Ib(512,O.s,O.G,[l.C,l.E]),l.Ib(512,O.A,O.A,[O.s]),l.Ib(512,O.w,O.w,[l.n,O.m,O.v,O.z,O.h,O.A]),l.Ib(1024,O.q,O.d.isAngularInTestMode,[]),l.Ib(1024,O.p,O.d.isAngularDevMode,[]),l.Ib(512,O.C,O.C,[O.q,O.p]),l.Ib(512,O.B,O.B,[O.C,O.r]),l.Ib(512,O.y,O.y,[O.h,O.w,O.r,O.B]),l.Ib(512,O.x,O.x,[O.y]),l.Ib(1024,AM.a,O.d.getInitialState,[]),l.Ib(512,O.u,O.u,[l.t,O.r,[3,O.u],O.m,O.v,O.x,[2,AM.a]]),l.Ib(512,O.i,O.i,[O.h,O.y,O.r,O.A,[2,AM.a]]),l.Ib(512,O.D,O.D,[O.i,O.r]),l.Ib(256,O.n,[],[]),l.Ib(512,AM.c,AM.c,[]),l.Ib(512,O.E,O.E,[O.y,O.x,AM.c]),l.Ib(1073742336,O.t,O.t,[O.u,O.y,O.i,O.D,[2,O.n],O.r,O.E]),l.Ib(1024,O.o,(function(){return[[Qy],[qs,Ac,Bc],[oy,ey,_u,_S],[Qa],[Tp],[MM,KM],[ip],[Yw],[Td],[UM],[My],[X]]}),[]),l.Ib(1073742336,O.F,O.F,[O.i,O.y,O.u,[2,O.o],O.E]),l.Ib(1073742336,ce.c,ce.c,[]),l.Ib(1073742336,FM,FM,[]),l.Ib(1073742336,kl,kl,[]),l.Ib(1073742336,Bv.a,Bv.a,[]),l.Ib(1073742336,bM,bM,[]),l.Ib(1024,l.B,(function(){return[d.v()]}),[]),l.Ib(512,d.B,d.B,[l.t]),l.Ib(1024,l.d,(function(e,t){return[rt.q(e),d.C(t)]}),[[2,l.B],d.B]),l.Ib(512,l.e,l.e,[[2,l.d]]),l.Ib(131584,l.g,l.g,[l.C,l.ib,l.t,l.n,l.k,l.e]),l.Ib(1073742336,l.f,l.f,[l.g]),l.Ib(1073742336,rt.a,rt.a,[[3,rt.a]]),l.Ib(1073742336,Oe.b,Oe.b,[]),l.Ib(1073742336,c.e,c.e,[]),l.Ib(1073742336,c.d,c.d,[]),l.Ib(1073742336,DM,DM,[]),l.Ib(1073742336,Tc.e,Tc.e,[]),l.Ib(1073742336,NM.a,NM.a,[]),l.Ib(1073742336,lt.a,lt.a,[]),l.Ib(1073742336,gM.f,gM.f,[[2,gM.c],[2,rt.f]]),l.Ib(1073742336,at.b,at.b,[]),l.Ib(1073742336,gM.j,gM.j,[]),l.Ib(1073742336,mM.d,mM.d,[]),l.Ib(1073742336,_e.d,_e.d,[]),l.Ib(1073742336,_e.c,_e.c,[]),l.Ib(1073742336,RM.c,RM.c,[]),l.Ib(1073742336,Ie.d,Ie.d,[]),l.Ib(1073742336,Rw.f,Rw.f,[]),l.Ib(1073742336,ot.g,ot.g,[]),l.Ib(1073742336,nt.e,nt.e,[]),l.Ib(1073742336,gM.h,gM.h,[]),l.Ib(1073742336,gM.g,gM.g,[]),l.Ib(1073742336,Tg.b,Tg.b,[]),l.Ib(1073742336,fM.c,fM.c,[]),l.Ib(1073742336,Ue.i,Ue.i,[]),l.Ib(1073742336,Ue.f,Ue.f,[]),l.Ib(1073742336,BM.a,BM.a,[]),l.Ib(1073742336,HM.a,HM.a,[]),l.Ib(1073742336,VM.b,VM.b,[]),l.Ib(1073742336,Dd.k,Dd.k,[]),l.Ib(1073742336,ve.a,ve.a,[]),l.Ib(1073742336,it.e,it.e,[]),l.Ib(1073742336,Bd.f,Bd.f,[]),l.Ib(1073742336,Zg.b,Zg.b,[]),l.Ib(1073742336,yM.a,yM.a,[]),l.Ib(1073742336,WM,WM,[]),l.Ib(1073742336,ge.y,ge.y,[]),l.Ib(1073742336,ge.j,ge.j,[]),l.Ib(1073742336,GM,GM,[]),l.Ib(1073742336,qM,qM,[]),l.Ib(1073742336,Cf.b,Cf.b,[]),l.Ib(1073742336,YM,YM,[]),l.Ib(1073742336,XM,XM,[]),l.Ib(1073742336,ut.c,ut.c,[]),l.Ib(1073742336,ZM,ZM,[]),l.Ib(1073742336,JM,JM,[]),l.Ib(1073742336,eI,eI,[]),l.Ib(1073742336,tI,tI,[]),l.Ib(1073742336,Ct.b,Ct.b,[]),l.Ib(1073742336,nI,nI,[]),l.Ib(1073742336,lI,lI,[]),l.Ib(1073742336,ge.u,ge.u,[]),l.Ib(1073742336,iI,iI,[]),l.Ib(1073742336,oI,oI,[]),l.Ib(1073742336,aI,aI,[]),l.Ib(1073742336,rI,rI,[]),l.Ib(1073742336,vM,vM,[]),l.Ib(1073742336,uI,uI,[]),l.Ib(1073742336,cI,cI,[]),l.Ib(1073742336,sI,sI,[]),l.Ib(1024,d.u,d.y,[[3,d.m]]),l.Ib(512,d.t,b,[]),l.Ib(512,d.b,d.b,[]),l.Ib(256,d.i,{},[]),l.Ib(1024,ce.i,d.x,[ce.v,[2,ce.a],d.i]),l.Ib(512,ce.h,ce.h,[ce.i,ce.v]),l.Ib(512,l.j,l.j,[]),l.Ib(512,l.z,l.O,[l.j,[2,l.P]]),l.Ib(1024,d.k,(function(){return[[],[{path:"",component:q_,resolve:{widgetUrlConfig:LM},children:[{path:"",component:OS},{path:"error",component:YS}]}]]}),[]),l.Ib(1024,d.m,d.z,[l.g,d.t,d.b,ce.h,l.t,l.z,l.j,d.k,d.i,[2,d.s],[2,d.l]]),l.Ib(1073742336,d.p,d.p,[[2,d.u],[2,d.m]]),l.Ib(1073742336,pI,pI,[]),l.Ib(1073742336,dI,dI,[]),l.Ib(1073742336,bI,bI,[]),l.Ib(1073742336,gI,gI,[]),l.Ib(1073742336,hI,hI,[]),l.Ib(1073742336,mI,mI,[]),l.Ib(1073742336,fI,fI,[]),l.Ib(1073742336,yI,yI,[]),l.Ib(1073742336,xI,xI,[]),l.Ib(1073742336,_I,_I,[]),l.Ib(1073742336,vI,vI,[]),l.Ib(1073742336,OI,OI,[]),l.Ib(1073742336,wI,wI,[]),l.Ib(1073742336,CI,CI,[]),l.Ib(1073742336,jI,jI,[]),l.Ib(1073742336,kI,kI,[]),l.Ib(1073742336,SI,SI,[]),l.Ib(1073742336,PI,PI,[]),l.Ib(1073742336,MI,MI,[]),l.Ib(1073742336,mm.c,mm.c,[]),l.Ib(1073742336,II,II,[]),l.Ib(1073742336,TI,TI,[]),l.Ib(1073742336,KI,KI,[]),l.Ib(1073742336,zI,zI,[]),l.Ib(1073742336,UI,UI,[]),l.Ib(1073742336,EI,EI,[]),l.Ib(1073742336,LI,LI,[]),l.Ib(1073742336,AI,AI,[]),l.Ib(1073742336,FI,FI,[]),l.Ib(1073742336,_,_,[]),l.Ib(256,l.gb,!0,[]),l.Ib(256,Oe.a,"BrowserAnimations",[]),l.Ib(256,c.n,"XSRF-TOKEN",[]),l.Ib(256,c.o,"X-XSRF-TOKEN",[]),l.Ib(256,VM.a,{separatorKeyCodes:[DI.f]},[]),l.Ib(256,Bd.b,$M,[]),l.Ib(256,gM.e,QM,[]),l.Ib(256,"options",{preset:Cf.c},[])])}));u.production&&Object(l.Y)(),rt.i().bootstrapModuleFactory(NI).catch((function(e){return console.error(e)}))},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},qpAl:function(e,t){!function(t){var n="Modernizr"in t,l=t.Modernizr;!function(e,t,n){function l(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):x?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(e,n,l,i){var a,r,u,c,s="modernizr",p=o("div"),d=function(){var e=t.body;return e||((e=o(x?"svg":"body")).fake=!0),e}();if(parseInt(l,10))for(;l--;)(u=o("div")).id=i?i[l]:s+(l+1),p.appendChild(u);return(a=o("style")).type="text/css",a.id="s"+s,(d.fake?d:p).appendChild(a),d.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),p.id=s,d.fake&&(d.style.background="",d.style.overflow="hidden",c=y.style.overflow,y.style.overflow="hidden",y.appendChild(d)),r=n(p,e),d.fake?(d.parentNode.removeChild(d),y.style.overflow=c):p.parentNode.removeChild(p),!!r}function r(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function u(t,n,l){var i;if("getComputedStyle"in e){i=getComputedStyle.call(e,t,n);var o=e.console;null!==i?l&&(i=i.getPropertyValue(l)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!n&&t.currentStyle&&t.currentStyle[l];return i}function c(t,l){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(r(t[i]),l))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];i--;)o.push("("+r(t[i])+":"+l+")");return a("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===u(e,null,"position")}))}return n}function s(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function p(e,t,a,r){function u(){d&&(delete w.style,delete w.modElem)}if(r=!l(r,"undefined")&&r,!l(a,"undefined")){var p=c(e,a);if(!l(p,"undefined"))return p}for(var d,b,g,h,m,f=["modernizr","tspan","samp"];!w.style&&f.length;)d=!0,w.modElem=o(f.shift()),w.style=w.modElem.style;for(g=e.length,b=0;b<g;b++)if(m=w.style[h=e[b]],i(h,"-")&&(h=s(h)),w.style[h]!==n){if(r||l(a,"undefined"))return u(),"pfx"!==t||h;try{w.style[h]=a}catch(e){}if(w.style[h]!==m)return u(),"pfx"!==t||h}return u(),!1}function d(e,t){return function(){return e.apply(t,arguments)}}function b(e,t,n,i,o){var a=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+v.join(a+" ")+a).split(" ");return l(t,"string")||l(t,"undefined")?p(r,t,i,o):function(e,t,n){var i;for(var o in e)if(e[o]in t)return!1===n?e[o]:l(i=t[e[o]],"function")?d(i,n||t):i;return!1}(r=(e+" "+C.join(a+" ")+a).split(" "),t,n)}var g=[],h={_version:"3.8.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},m=function(){};m.prototype=h,m=new m;var f=[],y=t.documentElement,x="svg"===y.nodeName.toLowerCase(),_="Moz O ms Webkit",v=h._config.usePrefixes?_.split(" "):[];h._cssomPrefixes=v;var O={elem:o("modernizr")};m._q.push((function(){delete O.elem}));var w={style:O.elem.style};m._q.unshift((function(){delete w.style}));var C=h._config.usePrefixes?_.toLowerCase().split(" "):[];h._domPrefixes=C,h.testAllProps=b;var j=function(t){var l,i=prefixes.length,o=e.CSSRule;if(void 0===o)return n;if(!t)return!1;if((l=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+t;for(var a=0;a<i;a++){var r=prefixes[a];if(r.toUpperCase()+"_"+l in o)return"@-"+r.toLowerCase()+"-"+t}return!1};h.atRule=j;var k=h.prefixed=function(e,t,n){return 0===e.indexOf("@")?j(e):(-1!==e.indexOf("-")&&(e=s(e)),t?b(e,t,n):b(e,"pfx"))};m.addTest("fullscreen",!(!k("exitFullscreen",t,!1)&&!k("cancelFullScreen",t,!1))),function(){var e,t,n,i,o,a;for(var r in g)if(g.hasOwnProperty(r)){if(e=[],(t=g[r]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=l(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(a=e[o].split(".")).length?m[a[0]]=i:(m[a[0]]&&(!m[a[0]]||m[a[0]]instanceof Boolean)||(m[a[0]]=new Boolean(m[a[0]])),m[a[0]][a[1]]=i),f.push((i?"":"no-")+a.join("-"))}}(),function(e){var t=y.className,n=m._config.classPrefix||"";if(x&&(t=t.baseVal),m._config.enableJSClass){var l=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(l,"$1"+n+"js$2")}m._config.enableClasses&&(e.length>0&&(t+=" "+n+e.join(" "+n)),x?y.className.baseVal=t:y.className=t)}(f),delete h.addTest,delete h.addAsyncTest;for(var S=0;S<m._q.length;S++)m._q[S]();e.Modernizr=m}(t,document),e.exports=t.Modernizr,n?t.Modernizr=l:delete t.Modernizr}(window)}},[[0,0,3]]]);