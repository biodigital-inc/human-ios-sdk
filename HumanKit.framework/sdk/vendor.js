(self.webpackChunkviewer=self.webpackChunkviewer||[]).push([[502,449,76],{28638:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{Constants:()=>y,MotionController:()=>M,fetchProfile:()=>L,fetchProfilesList:()=>x});var r=w(28407);const y={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};function u(A){return v.apply(this,arguments)}function v(){return(v=(0,r.A)(function*(A){const ue=yield fetch(A);if(ue.ok)return ue.json();throw new Error(ue.statusText)})).apply(this,arguments)}function x(A){return d.apply(this,arguments)}function d(){return(d=(0,r.A)(function*(A){if(!A)throw new Error("No basePath supplied");return yield u(`${A}/profilesList.json`)})).apply(this,arguments)}function L(A,ue){return F.apply(this,arguments)}function F(){return(F=(0,r.A)(function*(A,ue,z=null,X=!0){if(!A)throw new Error("No xrInputSource supplied");if(!ue)throw new Error("No basePath supplied");const re=yield x(ue);let Z;if(A.profiles.some(Ce=>{const K=re[Ce];return K&&(Z={profileId:Ce,profilePath:`${ue}/${K.path}`,deprecated:!!K.deprecated}),!!Z}),!Z){if(!z)throw new Error("No matching profile name found");const Ce=re[z];if(!Ce)throw new Error(`No matching profile name found and default profile "${z}" missing.`);Z={profileId:z,profilePath:`${ue}/${Ce.path}`,deprecated:!!Ce.deprecated}}const Re=yield u(Z.profilePath);let oe;if(X){let Ce;if(Ce="any"===A.handedness?Re.layouts[Object.keys(Re.layouts)[0]]:Re.layouts[A.handedness],!Ce)throw new Error(`No matching handedness, ${A.handedness}, in profile ${Z.profileId}`);Ce.assetPath&&(oe=Z.profilePath.replace("profile.json",Ce.assetPath))}return{profile:Re,assetPath:oe}})).apply(this,arguments)}const S={xAxis:0,yAxis:0,button:0,state:y.ComponentState.DEFAULT};class O{constructor(ue){this.componentProperty=ue.componentProperty,this.states=ue.states,this.valueNodeName=ue.valueNodeName,this.valueNodeProperty=ue.valueNodeProperty,this.valueNodeProperty===y.VisualResponseProperty.TRANSFORM&&(this.minNodeName=ue.minNodeName,this.maxNodeName=ue.maxNodeName),this.value=0,this.updateFromComponent(S)}updateFromComponent({xAxis:ue,yAxis:z,button:X,state:re}){const{normalizedXAxis:Z,normalizedYAxis:Re}=function U(A=0,ue=0){let z=A,X=ue;if(Math.sqrt(A*A+ue*ue)>1){const Re=Math.atan2(ue,A);z=Math.cos(Re),X=Math.sin(Re)}return{normalizedXAxis:.5*z+.5,normalizedYAxis:.5*X+.5}}(ue,z);switch(this.componentProperty){case y.ComponentProperty.X_AXIS:this.value=this.states.includes(re)?Z:.5;break;case y.ComponentProperty.Y_AXIS:this.value=this.states.includes(re)?Re:.5;break;case y.ComponentProperty.BUTTON:this.value=this.states.includes(re)?X:0;break;case y.ComponentProperty.STATE:this.value=this.valueNodeProperty===y.VisualResponseProperty.VISIBILITY?this.states.includes(re):this.states.includes(re)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class b{constructor(ue,z){if(!(ue&&z&&z.visualResponses&&z.gamepadIndices&&0!==Object.keys(z.gamepadIndices).length))throw new Error("Invalid arguments supplied");this.id=ue,this.type=z.type,this.rootNodeName=z.rootNodeName,this.touchPointNodeName=z.touchPointNodeName,this.visualResponses={},Object.keys(z.visualResponses).forEach(X=>{const re=new O(z.visualResponses[X]);this.visualResponses[X]=re}),this.gamepadIndices=Object.assign({},z.gamepadIndices),this.values={state:y.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(ue){if(this.values.state=y.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&ue.buttons.length>this.gamepadIndices.button){const z=ue.buttons[this.gamepadIndices.button];this.values.button=z.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,z.pressed||1===this.values.button?this.values.state=y.ComponentState.PRESSED:(z.touched||this.values.button>y.ButtonTouchThreshold)&&(this.values.state=y.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&ue.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=ue.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===y.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>y.AxisTouchThreshold&&(this.values.state=y.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&ue.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=ue.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===y.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>y.AxisTouchThreshold&&(this.values.state=y.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(z=>{z.updateFromComponent(this.values)})}}class M{constructor(ue,z,X){if(!ue)throw new Error("No xrInputSource supplied");if(!z)throw new Error("No profile supplied");this.xrInputSource=ue,this.assetUrl=X,this.id=z.profileId,this.layoutDescription=z.layouts[ue.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(re=>{this.components[re]=new b(re,this.layoutDescription.components[re])}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const ue=[];return Object.values(this.components).forEach(z=>{ue.push(z.data)}),ue}updateFromGamepad(){Object.values(this.components).forEach(ue=>{ue.updateFromGamepad(this.xrInputSource.gamepad)})}}},46733:(ln,ye,w)=>{"use strict";var r=w(20741);function y(){var u={},v=0,x=0,d=0;return{add:function L(U,O){O||(O=U,U=0),U>x?x=U:U<d&&(d=U),u[U]||(u[U]=[]),u[U].push(O),v++},process:function F(){for(var U=d;U<=x;U++)for(var O=u[U],b=0;b<O.length;b++)(0,O[b])()},size:function S(){return v}}}ln.exports=function(v){var x=(v=v||{}).reporter,d=r.getOption(v,"async",!0),L=r.getOption(v,"auto",!0);L&&!d&&(x&&x.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),d=!0);var S,F=y(),U=!1;function b(){for(U=!0;F.size();){var re=F;F=y(),re.process()}U=!1}function A(){S=function X(re){return setTimeout(re,0)}(b)}return{add:function O(re,Z){!U&&L&&d&&0===F.size()&&A(),F.add(re,Z)},force:function M(re){U||(void 0===re&&(re=d),S&&(function z(re){clearTimeout(re)}(S),S=null),re?A():b())}}}},20741:ln=>{"use strict";(ln.exports={}).getOption=function w(r,y,u){var v=r[y];return null==v&&void 0!==u?u:v}},64680:(ln,ye,w)=>{"use strict";var r=w(89222),y=w(85924),u=y(r("String.prototype.indexOf"));ln.exports=function(x,d){var L=r(x,!!d);return"function"==typeof L&&u(x,".prototype.")>-1?y(L):L}},85924:(ln,ye,w)=>{"use strict";var r=w(82988),y=w(89222),u=w(93330),v=w(63698),x=y("%Function.prototype.apply%"),d=y("%Function.prototype.call%"),L=y("%Reflect.apply%",!0)||r.call(d,x),F=w(82182),S=y("%Math.max%");ln.exports=function(b){if("function"!=typeof b)throw new v("a function is required");var M=L(r,d,arguments);return u(M,1+S(0,b.length-(arguments.length-1)),!0)};var U=function(){return L(r,x,arguments)};F?F(ln.exports,"apply",{value:U}):ln.exports.apply=U},67092:(ln,ye)=>{"use strict";ye.r=function A(Z,Re){var oe=Z.slice(0,33);return new Promise(function(Ce,K){var R=new FileReader;R.onload=function(){var ce=new Uint8Array(R.result),$=Z.slice(33),Fe=function re(Z,Re,oe,Ce){if(oe===d)return Z[13]=1,Z[14]=Re>>8,Z[15]=255&Re,Z[16]=Re>>8,Z[17]=255&Re,Z;if(oe===x){var K=new Uint8Array(13);Re*=39.3701,K[0]=U,K[1]=O,K[2]=b,K[3]=M,K[4]=Re>>>24,K[5]=Re>>>16,K[6]=Re>>>8,K[7]=255&Re,K[8]=K[4],K[9]=K[5],K[10]=K[6],K[11]=K[7],K[12]=1;var R=function u(Z){var Re=-1;v||(v=function y(){for(var Z=new Int32Array(256),Re=0;Re<256;Re++){for(var oe=Re,Ce=0;Ce<8;Ce++)oe=1&oe?3988292384^oe>>>1:oe>>>1;Z[Re]=oe}return Z}());for(var oe=0;oe<Z.length;oe++)Re=v[255&(Re^Z[oe])]^Re>>>8;return~Re}(K),ce=new Uint8Array(4);if(ce[0]=R>>>24,ce[1]=R>>>16,ce[2]=R>>>8,ce[3]=255&R,Ce){var $=function X(Z){for(var oe=Z.length-1;oe>=4;oe--)if(9===Z[oe-4]&&Z[oe-3]===U&&Z[oe-2]===O&&Z[oe-1]===b&&Z[oe]===M)return oe-3}(Z);return Z.set(K,$),Z.set(ce,$+13),Z}var Fe=new Uint8Array(4);Fe[0]=0,Fe[1]=0,Fe[2]=0,Fe[3]=9;var je=new Uint8Array(54);return je.set(Z,0),je.set(Fe,33),je.set(K,37),je.set(ce,50),je}}(ce,Re,Z.type);Ce(new Blob([Fe,$],{type:Z.type}))},R.readAsArrayBuffer(oe)})};var v=void 0,x="image/png",d="image/jpeg",U=112,O=72,b=89,M=115},16938:(ln,ye,w)=>{"use strict";w.d(ye,{Z:()=>y});var r=w(49727);function y(u,v={}){return function(x,d){const L=Reflect.getMetadata("design:type",x,d);r.s.addTypeMetadata({target:x.constructor,propertyName:d,reflectedType:L,typeFunction:u,options:v})}}},55460:(ln,ye,w)=>{"use strict";w.d(ye,{_:()=>r});var r=function(y){return y[y.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",y[y.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",y[y.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",y}(r||{})},40470:(ln,ye,w)=>{"use strict";w.d(ye,{uK:()=>z,bj:()=>A});var r=w(49727),y=w(55460);class d{constructor(Ce,K){this.transformationType=Ce,this.options=K,this.recursionStack=new Set}transform(Ce,K,R,ce,$,Fe=0){if(Array.isArray(K)||K instanceof Set){const je=ce&&this.transformationType===y._.PLAIN_TO_CLASS?function x(oe){const Ce=new oe;return Ce instanceof Set||"push"in Ce?Ce:[]}(ce):[];return K.forEach((Ve,lt)=>{const pt=Ce?Ce[lt]:void 0;if(this.options.enableCircularCheck&&this.isCircular(Ve))this.transformationType===y._.CLASS_TO_CLASS&&(je instanceof Set?je.add(Ve):je.push(Ve));else{let St;if("function"!=typeof R&&R&&R.options&&R.options.discriminator&&R.options.discriminator.property&&R.options.discriminator.subTypes){if(this.transformationType===y._.PLAIN_TO_CLASS){St=R.options.discriminator.subTypes.find(De=>De.name===Ve[R.options.discriminator.property]);const ee=R.typeFunction({newObject:je,object:Ve,property:void 0});St=void 0===St?ee:St.value,R.options.keepDiscriminatorProperty||delete Ve[R.options.discriminator.property]}this.transformationType===y._.CLASS_TO_CLASS&&(St=Ve.constructor),this.transformationType===y._.CLASS_TO_PLAIN&&(Ve[R.options.discriminator.property]=R.options.discriminator.subTypes.find(G=>G.value===Ve.constructor).name)}else St=R;const Rn=this.transform(pt,Ve,St,void 0,Ve instanceof Map,Fe+1);je instanceof Set?je.add(Rn):je.push(Rn)}}),je}if(R===String&&!$)return null==K?K:String(K);if(R===Number&&!$)return null==K?K:Number(K);if(R===Boolean&&!$)return null==K?K:!!K;if((R===Date||K instanceof Date)&&!$)return K instanceof Date?new Date(K.valueOf()):null==K?K:new Date(K);if(function u(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0}().Buffer&&(R===Buffer||K instanceof Buffer)&&!$)return null==K?K:Buffer.from(K);if(function v(oe){return null!==oe&&"object"==typeof oe&&"function"==typeof oe.then}(K)&&!$)return new Promise((je,Ve)=>{K.then(lt=>je(this.transform(void 0,lt,R,void 0,void 0,Fe+1)),Ve)});if(!$&&null!==K&&"object"==typeof K&&"function"==typeof K.then)return K;if("object"==typeof K&&null!==K){!R&&K.constructor!==Object&&(!Array.isArray(K)&&K.constructor===Array||(R=K.constructor)),!R&&Ce&&(R=Ce.constructor),this.options.enableCircularCheck&&this.recursionStack.add(K);const je=this.getKeys(R,K,$);let Ve=Ce||{};!Ce&&(this.transformationType===y._.PLAIN_TO_CLASS||this.transformationType===y._.CLASS_TO_CLASS)&&(Ve=$?new Map:R?new R:{});for(const lt of je){if("__proto__"===lt||"constructor"===lt)continue;const pt=lt;let G,St=lt,Rn=lt;if(!this.options.ignoreDecorators&&R)if(this.transformationType===y._.PLAIN_TO_CLASS){const ut=r.s.findExposeMetadataByCustomName(R,lt);ut&&(Rn=ut.propertyName,St=ut.propertyName)}else if(this.transformationType===y._.CLASS_TO_PLAIN||this.transformationType===y._.CLASS_TO_CLASS){const ut=r.s.findExposeMetadata(R,lt);ut&&ut.options&&ut.options.name&&(St=ut.options.name)}G=this.transformationType===y._.PLAIN_TO_CLASS?K[pt]:K instanceof Map?K.get(pt):K[pt]instanceof Function?K[pt]():K[pt];let ee,De=G instanceof Map;if(R&&$)ee=R;else if(R){const ut=r.s.findTypeMetadata(R,Rn);if(ut){const Dt=ut.typeFunction?ut.typeFunction({newObject:Ve,object:K,property:Rn}):ut.reflectedType;ut.options&&ut.options.discriminator&&ut.options.discriminator.property&&ut.options.discriminator.subTypes?K[pt]instanceof Array?ee=ut:(this.transformationType===y._.PLAIN_TO_CLASS&&(ee=ut.options.discriminator.subTypes.find(Le=>{if(G&&G instanceof Object&&ut.options.discriminator.property in G)return Le.name===G[ut.options.discriminator.property]}),ee=void 0===ee?Dt:ee.value,ut.options.keepDiscriminatorProperty||G&&G instanceof Object&&ut.options.discriminator.property in G&&delete G[ut.options.discriminator.property]),this.transformationType===y._.CLASS_TO_CLASS&&(ee=G.constructor),this.transformationType===y._.CLASS_TO_PLAIN&&G&&(G[ut.options.discriminator.property]=ut.options.discriminator.subTypes.find(Le=>Le.value===G.constructor).name)):ee=Dt,De=De||ut.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(bt=>bt.target===R&&!!bt.properties[Rn]).forEach(bt=>ee=bt.properties[Rn]);else if(this.options.enableImplicitConversion&&this.transformationType===y._.PLAIN_TO_CLASS){const bt=Reflect.getMetadata("design:type",R.prototype,Rn);bt&&(ee=bt)}}const Ge=Array.isArray(K[pt])?this.getReflectedType(R,Rn):void 0,Ze=Ce?Ce[pt]:void 0;if(Ve.constructor.prototype){const ut=Object.getOwnPropertyDescriptor(Ve.constructor.prototype,St);if((this.transformationType===y._.PLAIN_TO_CLASS||this.transformationType===y._.CLASS_TO_CLASS)&&(ut&&!ut.set||Ve[St]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(G)){if(this.transformationType===y._.CLASS_TO_CLASS){let ut=G;ut=this.applyCustomTransformations(ut,R,lt,K,this.transformationType),(void 0!==ut||this.options.exposeUnsetFields)&&(Ve instanceof Map?Ve.set(St,ut):Ve[St]=ut)}}else{const ut=this.transformationType===y._.PLAIN_TO_CLASS?St:lt;let bt;this.transformationType===y._.CLASS_TO_PLAIN?(bt=K[ut],bt=this.applyCustomTransformations(bt,R,ut,K,this.transformationType),bt=K[ut]===bt?G:bt,bt=this.transform(Ze,bt,ee,Ge,De,Fe+1)):void 0===G&&this.options.exposeDefaultValues?bt=Ve[St]:(bt=this.transform(Ze,G,ee,Ge,De,Fe+1),bt=this.applyCustomTransformations(bt,R,ut,K,this.transformationType)),(void 0!==bt||this.options.exposeUnsetFields)&&(Ve instanceof Map?Ve.set(St,bt):Ve[St]=bt)}}return this.options.enableCircularCheck&&this.recursionStack.delete(K),Ve}return K}applyCustomTransformations(Ce,K,R,ce,$){let Fe=r.s.findTransformMetadatas(K,R,this.transformationType);return void 0!==this.options.version&&(Fe=Fe.filter(je=>!je.options||this.checkVersion(je.options.since,je.options.until))),Fe=Fe.filter(this.options.groups&&this.options.groups.length?je=>!je.options||this.checkGroups(je.options.groups):je=>!je.options||!je.options.groups||!je.options.groups.length),Fe.forEach(je=>{Ce=je.transformFn({value:Ce,key:R,obj:ce,type:$,options:this.options})}),Ce}isCircular(Ce){return this.recursionStack.has(Ce)}getReflectedType(Ce,K){if(!Ce)return;const R=r.s.findTypeMetadata(Ce,K);return R?R.reflectedType:void 0}getKeys(Ce,K,R){let ce=r.s.getStrategy(Ce);"none"===ce&&(ce=this.options.strategy||"exposeAll");let $=[];if(("exposeAll"===ce||R)&&($=K instanceof Map?Array.from(K.keys()):Object.keys(K)),R)return $;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&Ce&&($=[...r.s.getExposedProperties(Ce,this.transformationType),...r.s.getExcludedProperties(Ce,this.transformationType)]),!this.options.ignoreDecorators&&Ce){let Fe=r.s.getExposedProperties(Ce,this.transformationType);this.transformationType===y._.PLAIN_TO_CLASS&&(Fe=Fe.map(Ve=>{const lt=r.s.findExposeMetadata(Ce,Ve);return lt&&lt.options&&lt.options.name?lt.options.name:Ve})),$=this.options.excludeExtraneousValues?Fe:$.concat(Fe);const je=r.s.getExcludedProperties(Ce,this.transformationType);je.length>0&&($=$.filter(Ve=>!je.includes(Ve))),void 0!==this.options.version&&($=$.filter(Ve=>{const lt=r.s.findExposeMetadata(Ce,Ve);return!lt||!lt.options||this.checkVersion(lt.options.since,lt.options.until)})),$=$.filter(this.options.groups&&this.options.groups.length?Ve=>{const lt=r.s.findExposeMetadata(Ce,Ve);return!lt||!lt.options||this.checkGroups(lt.options.groups)}:Ve=>{const lt=r.s.findExposeMetadata(Ce,Ve);return!(lt&&lt.options&&lt.options.groups&&lt.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&($=$.filter(Fe=>this.options.excludePrefixes.every(je=>Fe.substr(0,je.length)!==je))),$=$.filter((Fe,je,Ve)=>Ve.indexOf(Fe)===je),$}checkVersion(Ce,K){let R=!0;return R&&Ce&&(R=this.options.version>=Ce),R&&K&&(R=this.options.version<K),R}checkGroups(Ce){return!Ce||this.options.groups.some(K=>Ce.includes(K))}}const L={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},S=new class F{instanceToPlain(Ce,K){return new d(y._.CLASS_TO_PLAIN,{...L,...K}).transform(void 0,Ce,void 0,void 0,void 0,void 0)}classToPlainFromExist(Ce,K,R){return new d(y._.CLASS_TO_PLAIN,{...L,...R}).transform(K,Ce,void 0,void 0,void 0,void 0)}plainToInstance(Ce,K,R){return new d(y._.PLAIN_TO_CLASS,{...L,...R}).transform(void 0,K,Ce,void 0,void 0,void 0)}plainToClassFromExist(Ce,K,R){return new d(y._.PLAIN_TO_CLASS,{...L,...R}).transform(Ce,K,void 0,void 0,void 0,void 0)}instanceToInstance(Ce,K){return new d(y._.CLASS_TO_CLASS,{...L,...K}).transform(void 0,Ce,void 0,void 0,void 0,void 0)}classToClassFromExist(Ce,K,R){return new d(y._.CLASS_TO_CLASS,{...L,...R}).transform(K,Ce,void 0,void 0,void 0,void 0)}serialize(Ce,K){return JSON.stringify(this.instanceToPlain(Ce,K))}deserialize(Ce,K,R){const ce=JSON.parse(K);return this.plainToInstance(Ce,ce,R)}deserializeArray(Ce,K,R){const ce=JSON.parse(K);return this.plainToInstance(Ce,ce,R)}};function A(oe,Ce,K){return S.plainToInstance(oe,Ce,K)}function z(oe,Ce){return S.instanceToInstance(oe,Ce)}},49727:(ln,ye,w)=>{"use strict";w.d(ye,{s:()=>u});var r=w(55460);const u=new class y{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(x){this._typeMetadatas.has(x.target)||this._typeMetadatas.set(x.target,new Map),this._typeMetadatas.get(x.target).set(x.propertyName,x)}addTransformMetadata(x){this._transformMetadatas.has(x.target)||this._transformMetadatas.set(x.target,new Map),this._transformMetadatas.get(x.target).has(x.propertyName)||this._transformMetadatas.get(x.target).set(x.propertyName,[]),this._transformMetadatas.get(x.target).get(x.propertyName).push(x)}addExposeMetadata(x){this._exposeMetadatas.has(x.target)||this._exposeMetadatas.set(x.target,new Map),this._exposeMetadatas.get(x.target).set(x.propertyName,x)}addExcludeMetadata(x){this._excludeMetadatas.has(x.target)||this._excludeMetadatas.set(x.target,new Map),this._excludeMetadatas.get(x.target).set(x.propertyName,x)}findTransformMetadatas(x,d,L){return this.findMetadatas(this._transformMetadatas,x,d).filter(F=>!F.options||!0===F.options.toClassOnly&&!0===F.options.toPlainOnly||(!0===F.options.toClassOnly?L===r._.CLASS_TO_CLASS||L===r._.PLAIN_TO_CLASS:!0!==F.options.toPlainOnly||L===r._.CLASS_TO_PLAIN))}findExcludeMetadata(x,d){return this.findMetadata(this._excludeMetadatas,x,d)}findExposeMetadata(x,d){return this.findMetadata(this._exposeMetadatas,x,d)}findExposeMetadataByCustomName(x,d){return this.getExposedMetadatas(x).find(L=>L.options&&L.options.name===d)}findTypeMetadata(x,d){return this.findMetadata(this._typeMetadatas,x,d)}getStrategy(x){const d=this._excludeMetadatas.get(x),L=d&&d.get(void 0),F=this._exposeMetadatas.get(x),S=F&&F.get(void 0);return L&&S||!L&&!S?"none":L?"excludeAll":"exposeAll"}getExposedMetadatas(x){return this.getMetadata(this._exposeMetadatas,x)}getExcludedMetadatas(x){return this.getMetadata(this._excludeMetadatas,x)}getExposedProperties(x,d){return this.getExposedMetadatas(x).filter(L=>!L.options||!0===L.options.toClassOnly&&!0===L.options.toPlainOnly||(!0===L.options.toClassOnly?d===r._.CLASS_TO_CLASS||d===r._.PLAIN_TO_CLASS:!0!==L.options.toPlainOnly||d===r._.CLASS_TO_PLAIN)).map(L=>L.propertyName)}getExcludedProperties(x,d){return this.getExcludedMetadatas(x).filter(L=>!L.options||!0===L.options.toClassOnly&&!0===L.options.toPlainOnly||(!0===L.options.toClassOnly?d===r._.CLASS_TO_CLASS||d===r._.PLAIN_TO_CLASS:!0!==L.options.toPlainOnly||d===r._.CLASS_TO_PLAIN)).map(L=>L.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(x,d){const L=x.get(d);let F;L&&(F=Array.from(L.values()).filter(U=>void 0!==U.propertyName));const S=[];for(const U of this.getAncestors(d)){const O=x.get(U);if(O){const b=Array.from(O.values()).filter(M=>void 0!==M.propertyName);S.push(...b)}}return S.concat(F||[])}findMetadata(x,d,L){const F=x.get(d);if(F){const S=F.get(L);if(S)return S}for(const S of this.getAncestors(d)){const U=x.get(S);if(U){const O=U.get(L);if(O)return O}}}findMetadatas(x,d,L){const F=x.get(d);let S;F&&(S=F.get(L));const U=[];for(const O of this.getAncestors(d)){const b=x.get(O);b&&b.has(L)&&U.push(...b.get(L))}return U.slice().reverse().concat((S||[]).slice().reverse())}getAncestors(x){if(!x)return[];if(!this._ancestorsMap.has(x)){const d=[];for(let L=Object.getPrototypeOf(x.prototype.constructor);typeof L.prototype<"u";L=Object.getPrototypeOf(L.prototype.constructor))d.push(L);this._ancestorsMap.set(x,d)}return this._ancestorsMap.get(x)}}},2948:(ln,ye,w)=>{"use strict";var r=w(82182),y=w(35097),u=w(63698),v=w(99234);ln.exports=function(d,L,F){if(!d||"object"!=typeof d&&"function"!=typeof d)throw new u("`obj` must be an object or a function`");if("string"!=typeof L&&"symbol"!=typeof L)throw new u("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new u("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new u("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new u("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new u("`loose`, if provided, must be a boolean");var S=arguments.length>3?arguments[3]:null,U=arguments.length>4?arguments[4]:null,O=arguments.length>5?arguments[5]:null,b=arguments.length>6&&arguments[6],M=!!v&&v(d,L);if(r)r(d,L,{configurable:null===O&&M?M.configurable:!O,enumerable:null===S&&M?M.enumerable:!S,value:F,writable:null===U&&M?M.writable:!U});else{if(!b&&(S||U||O))throw new y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");d[L]=F}}},78851:(ln,ye)=>{ye.TF=function d(L){return L.replace(/[^\u0000-\u007e]/g,function(F){return y[F]||F})};for(var r=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],y={},u=0;u<r.length;u+=1)for(var v=r[u].chars,x=0;x<v.length;x+=1)y[v[x]]=r[u].base},37764:ln=>{"use strict";var ye=ln.exports={};ye.isIE=function(w){return!(!function r(){var u=navigator.userAgent.toLowerCase();return-1!==u.indexOf("msie")||-1!==u.indexOf("trident")||-1!==u.indexOf(" edge/")}()||w&&w!==function(){var v=3,x=document.createElement("div"),d=x.getElementsByTagName("i");do{x.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e"}while(d[0]);return v>4?v:void 0}())},ye.isLegacyOpera=function(){return!!window.opera}},36565:ln=>{"use strict";(ln.exports={}).forEach=function(w,r){for(var y=0;y<w.length;y++){var u=r(w[y]);if(u)return u}}},67618:(ln,ye,w)=>{"use strict";var r=w(37764);ln.exports=function(y){var u=(y=y||{}).reporter,v=y.batchProcessor,x=y.stateHandler.getState;if(!u)throw new Error("Missing required dependency: reporter.");function S(O){return x(O).object}return{makeDetectable:function F(O,b,M){M||(M=b,b=O,O=null),O=O||{},r.isIE(8)?M(b):function ue(z,X){var re=function L(O){var b=y.important?" !important; ":"; ";return(O.join(b)+b).trim()}(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),Z=!1,Re=window.getComputedStyle(z),oe=z.offsetWidth,Ce=z.offsetHeight;function K(){function R(){if("static"===Re.position){z.style.setProperty("position","relative",O.important?"important":"");var Fe=function(je,Ve,lt,pt){var Rn=lt[pt];"auto"!==Rn&&"0"!==function St(G){return G.replace(/[^-\d\.]/g,"")}(Rn)&&(je.warn("An element that is positioned static has style."+pt+"="+Rn+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+pt+" will be set to 0. Element: ",Ve),Ve.style.setProperty(pt,"0",O.important?"important":""))};Fe(u,z,Re,"top"),Fe(u,z,Re,"right"),Fe(u,z,Re,"bottom"),Fe(u,z,Re,"left")}}""!==Re.position&&(R(),Z=!0);var $=document.createElement("object");$.style.cssText=re,$.tabIndex=-1,$.type="text/html",$.setAttribute("aria-hidden","true"),$.onload=function ce(){Z||R(),function Fe(Ve,lt){if(!Ve.contentDocument){var pt=x(Ve);return pt.checkForObjectDocumentTimeoutId&&window.clearTimeout(pt.checkForObjectDocumentTimeoutId),void(pt.checkForObjectDocumentTimeoutId=setTimeout(function(){pt.checkForObjectDocumentTimeoutId=0,Fe(Ve,lt)},100))}lt(Ve.contentDocument)}(this,function(lt){X(z)})},r.isIE()||($.data="about:blank"),x(z)&&(z.appendChild($),x(z).object=$,r.isIE()&&($.data="about:blank"))}x(z).startSize={width:oe,height:Ce},v?v.add(K):K()}(b,M)},addListener:function d(O,b){function M(){b(O)}if(r.isIE(8))x(O).object={proxy:M},O.attachEvent("onresize",M);else{var A=S(O);if(!A)throw new Error("Element is not detectable by this strategy.");A.contentDocument.defaultView.addEventListener("resize",M)}},uninstall:function U(O){if(x(O)){var b=S(O);b&&(r.isIE(8)?O.detachEvent("onresize",b.proxy):O.removeChild(b),x(O).checkForObjectDocumentTimeoutId&&window.clearTimeout(x(O).checkForObjectDocumentTimeoutId),delete x(O).object)}}}}},47728:(ln,ye,w)=>{"use strict";var r=w(36565).forEach;ln.exports=function(y){var u=(y=y||{}).reporter,v=y.batchProcessor,x=y.stateHandler.getState,L=y.idHandler;if(!v)throw new Error("Missing required dependency: batchProcessor");if(!u)throw new Error("Missing required dependency: reporter.");var F=function M(){var ce=document.createElement("div");ce.style.cssText=b(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var $=document.createElement("div");$.style.cssText=b(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),$.appendChild(ce),document.body.insertBefore($,document.body.firstChild);var Fe=500-$.clientWidth,je=500-$.clientHeight;return document.body.removeChild($),{width:Fe,height:je}}(),U="erd_scroll_detection_container";function O(K){!function A(K,R,ce){if(!K.getElementById(R)){var Fe=ce+"_animation",je=ce+"_animation_active",Ve="/* Created by the element-resize-detector library. */\n";Ve+="."+ce+" > div::-webkit-scrollbar { "+b(["display: none"])+" }\n\n",Ve+="."+je+" { "+b(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+Fe,"animation-name: "+Fe])+" }\n",Ve+="@-webkit-keyframes "+Fe+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function $(lt,pt){pt=pt||function(Rn){K.head.appendChild(Rn)};var St=K.createElement("style");return St.innerHTML=lt,St.id=R,pt(St),St}(Ve+="@keyframes "+Fe+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(K,"erd_scroll_detection_scrollbar_style",U)}function b(K){var R=y.important?" !important; ":"; ";return(K.join(R)+R).trim()}function z(K,R,ce){if(K.addEventListener)K.addEventListener(R,ce);else{if(!K.attachEvent)return u.error("[scroll] Don't know how to add event listeners.");K.attachEvent("on"+R,ce)}}function X(K,R,ce){if(K.removeEventListener)K.removeEventListener(R,ce);else{if(!K.detachEvent)return u.error("[scroll] Don't know how to remove event listeners.");K.detachEvent("on"+R,ce)}}function re(K){return x(K).container.childNodes[0].childNodes[0].childNodes[0]}function Z(K){return x(K).container.childNodes[0].childNodes[0].childNodes[1]}return O(window.document),{makeDetectable:function oe(K,R,ce){function $(){if(K.debug){var T=Array.prototype.slice.call(arguments);if(T.unshift(L.get(R),"Scroll: "),u.log.apply)u.log.apply(null,T);else for(var J=0;J<T.length;J++)u.log(T[J])}}function je(T){var J=x(T).container.childNodes[0],W=window.getComputedStyle(J);return!W.width||-1===W.width.indexOf("px")}function Ve(){var T=window.getComputedStyle(R),J={};return J.position=T.position,J.width=R.offsetWidth,J.height=R.offsetHeight,J.top=T.top,J.right=T.right,J.bottom=T.bottom,J.left=T.left,J.widthCSS=T.width,J.heightCSS=T.height,J}function St(){if($("storeStyle invoked."),x(R)){var T=Ve();x(R).style=T}else $("Aborting because element has been uninstalled")}function Rn(T,J,W){x(T).lastWidth=J,x(T).lastHeight=W}function ee(){return 2*F.width+1}function De(){return 2*F.height+1}function Ge(T){return T+10+ee()}function Ze(T){return T+10+De()}function Dt(T,J,W){var ve=re(T),ne=Z(T),p=Ge(J),H=Ze(W),B=function ut(T){return 2*T+ee()}(J),Ie=function bt(T){return 2*T+De()}(W);ve.scrollLeft=p,ve.scrollTop=H,ne.scrollLeft=B,ne.scrollTop=Ie}function Le(){var T=x(R).container;if(!T){(T=document.createElement("div")).className=U,T.style.cssText=b(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),x(R).container=T,function ue(K){K.className+=" "+U+"_animation_active"}(T),R.appendChild(T);var J=function(){x(R).onRendered&&x(R).onRendered()};z(T,"animationstart",J),x(R).onAnimationStart=J}return T}function Ae(){if($("Injecting elements"),x(R)){!function T(){var Ct=x(R).style;if("static"===Ct.position){R.style.setProperty("position","relative",K.important?"important":"");var mt=function(Vt,at,We,ke){var xt=We[ke];"auto"!==xt&&"0"!==function et(Zt){return Zt.replace(/[^-\d\.]/g,"")}(xt)&&(Vt.warn("An element that is positioned static has style."+ke+"="+xt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+ke+" will be set to 0. Element: ",at),at.style[ke]=0)};mt(u,R,Ct,"top"),mt(u,R,Ct,"right"),mt(u,R,Ct,"bottom"),mt(u,R,Ct,"left")}}();var W=x(R).container;W||(W=Le());var ve=F.width,ne=F.height,p=b(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),H=b(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function J(Ct,mt,Vt,at){return["left: "+(Ct=Ct?Ct+"px":"0"),"top: "+(mt=mt?mt+"px":"0"),"right: "+(at=at?at+"px":"0"),"bottom: "+(Vt=Vt?Vt+"px":"0")]}(-(1+ve),-(1+ne),-ne,-ve))),B=b(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Ie=b(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),$e=b(["position: absolute","left: 0","top: 0"]),ft=b(["position: absolute","width: 200%","height: 200%"]),kt=document.createElement("div"),jt=document.createElement("div"),Ye=document.createElement("div"),ct=document.createElement("div"),It=document.createElement("div"),Ke=document.createElement("div");kt.dir="ltr",kt.style.cssText=p,kt.className=U,jt.className=U,jt.style.cssText=H,Ye.style.cssText=B,ct.style.cssText=$e,It.style.cssText=Ie,Ke.style.cssText=ft,Ye.appendChild(ct),It.appendChild(Ke),jt.appendChild(Ye),jt.appendChild(It),kt.appendChild(jt),W.appendChild(kt),z(Ye,"scroll",wt),z(It,"scroll",rt),x(R).onExpandScroll=wt,x(R).onShrinkScroll=rt}else $("Aborting because element has been uninstalled");function wt(){var Ct=x(R);Ct&&Ct.onExpand?Ct.onExpand():$("Aborting expand scroll handler: element has been uninstalled")}function rt(){var Ct=x(R);Ct&&Ct.onShrink?Ct.onShrink():$("Aborting shrink scroll handler: element has been uninstalled")}}function se(){function T(B,Ie,$e){var ft=function G(T){return re(T).childNodes[0]}(B),kt=Ge(Ie),jt=Ze($e);ft.style.setProperty("width",kt+"px",K.important?"important":""),ft.style.setProperty("height",jt+"px",K.important?"important":"")}function J(B){var Ie=R.offsetWidth,$e=R.offsetHeight,ft=Ie!==x(R).lastWidth||$e!==x(R).lastHeight;$("Storing current size",Ie,$e),Rn(R,Ie,$e),v.add(0,function(){if(ft){if(!x(R))return void $("Aborting because element has been uninstalled");if(!W())return void $("Aborting because element container has not been initialized");K.debug&&(R.offsetWidth!==Ie||R.offsetHeight!==$e)&&u.warn(L.get(R),"Scroll: Size changed before updating detector elements."),T(R,Ie,$e)}}),v.add(1,function(){x(R)?W()?Dt(R,Ie,$e):$("Aborting because element container has not been initialized"):$("Aborting because element has been uninstalled")}),ft&&B&&v.add(2,function(){x(R)?W()?B():$("Aborting because element container has not been initialized"):$("Aborting because element has been uninstalled")})}function W(){return!!x(R).container}function ve(){$("notifyListenersIfNeeded invoked");var Ie=x(R);return function B(){return void 0===x(R).lastNotifiedWidth}()&&Ie.lastWidth===Ie.startSize.width&&Ie.lastHeight===Ie.startSize.height?$("Not notifying: Size is the same as the start size, and there has been no notification yet."):Ie.lastWidth===Ie.lastNotifiedWidth&&Ie.lastHeight===Ie.lastNotifiedHeight?$("Not notifying: Size already notified"):($("Current size not notified, notifying..."),Ie.lastNotifiedWidth=Ie.lastWidth,Ie.lastNotifiedHeight=Ie.lastHeight,void r(x(R).listeners,function($e){$e(R)}))}function p(){$("Scroll detected."),je(R)?$("Scroll event fired while unrendered. Ignoring..."):J(ve)}if($("registerListenersAndPositionElements invoked."),x(R)){x(R).onRendered=function ne(){if($("startanimation triggered."),je(R))$("Ignoring since element is still unrendered...");else{$("Element rendered.");var B=re(R),Ie=Z(R);(0===B.scrollLeft||0===B.scrollTop||0===Ie.scrollLeft||0===Ie.scrollTop)&&($("Scrollbars out of sync. Updating detector elements..."),J(ve))}},x(R).onExpand=p,x(R).onShrink=p;var H=x(R).style;T(R,H.width,H.height)}else $("Aborting because element has been uninstalled")}function Me(){if($("finalizeDomMutation invoked."),x(R)){var T=x(R).style;Rn(R,T.width,T.height),Dt(R,T.width,T.height)}else $("Aborting because element has been uninstalled")}function Ee(){ce(R)}function C(){$("Installing..."),function pt(){x(R).listeners=[]}(),function lt(){var T=Ve();x(R).startSize={width:T.width,height:T.height},$("Element start size",x(R).startSize)}(),v.add(0,St),v.add(1,Ae),v.add(2,se),v.add(3,Me),v.add(4,Ee)}ce||(ce=R,R=K,K=null),K=K||{},$("Making detectable..."),function Fe(T){return!function J(W){var ve=W.getRootNode&&W.getRootNode().contains(W);return W===W.ownerDocument.body||W.ownerDocument.body.contains(W)||ve}(T)||null===window.getComputedStyle(T)}(R)?($("Element is detached"),Le(),$("Waiting until element is attached..."),x(R).onRendered=function(){$("Element is now attached"),C()}):C()},addListener:function Re(K,R){if(!x(K).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");x(K).listeners.push(R)},uninstall:function Ce(K){var R=x(K);R&&(R.onExpandScroll&&X(re(K),"scroll",R.onExpandScroll),R.onShrinkScroll&&X(Z(K),"scroll",R.onShrinkScroll),R.onAnimationStart&&X(R.container,"animationstart",R.onAnimationStart),R.container&&K.removeChild(R.container))},initDocument:O}}},38465:(ln,ye,w)=>{"use strict";var r=w(36565).forEach,y=w(6861),u=w(49216),v=w(36100),x=w(1157),d=w(68816),L=w(37764),F=w(46733),S=w(43133),U=w(67618),O=w(47728);function b(z){return Array.isArray(z)||void 0!==z.length}function M(z){if(Array.isArray(z))return z;var X=[];return r(z,function(re){X.push(re)}),X}function A(z){return z&&1===z.nodeType}function ue(z,X,re){var Z=z[X];return null==Z&&void 0!==re?re:Z}ln.exports=function(z){var X;if((z=z||{}).idHandler)X={get:function(G){return z.idHandler.get(G,!0)},set:z.idHandler.set};else{var re=v(),Z=x({idGenerator:re,stateHandler:S});X=Z}var Re=z.reporter;Re||(Re=d(!1===Re));var Ce=ue(z,"batchProcessor",F({reporter:Re})),K={};K.callOnAdd=!!ue(z,"callOnAdd",!0),K.debug=!!ue(z,"debug",!1);var $,R=u(X),ce=y({stateHandler:S}),Fe=ue(z,"strategy","object"),je=ue(z,"important",!1),Ve={reporter:Re,batchProcessor:Ce,stateHandler:S,idHandler:X,important:je};if("scroll"===Fe&&(L.isLegacyOpera()?(Re.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),Fe="object"):L.isIE(9)&&(Re.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),Fe="object")),"scroll"===Fe)$=O(Ve);else{if("object"!==Fe)throw new Error("Invalid strategy name: "+Fe);$=U(Ve)}var lt={};return{listenTo:function pt(G,ee,De){function Ge(Ae){var se=R.get(Ae);r(se,function(Ee){Ee(Ae)})}function Ze(Ae,se,Me){R.add(se,Me),Ae&&Me(se)}if(De||(De=ee,ee=G,G={}),!ee)throw new Error("At least one element required.");if(!De)throw new Error("Listener required.");if(A(ee))ee=[ee];else{if(!b(ee))return Re.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");ee=M(ee)}var ut=0,bt=ue(G,"callOnAdd",K.callOnAdd),Dt=ue(G,"onReady",function(){}),Le=ue(G,"debug",K.debug);r(ee,function(se){S.getState(se)||(S.initState(se),X.set(se));var Me=X.get(se);if(Le&&Re.log("Attaching listener to element",Me,se),!ce.isDetectable(se))return Le&&Re.log(Me,"Not detectable."),ce.isBusy(se)?(Le&&Re.log(Me,"System busy making it detectable"),Ze(bt,se,De),lt[Me]=lt[Me]||[],void lt[Me].push(function(){++ut===ee.length&&Dt()})):(Le&&Re.log(Me,"Making detectable..."),ce.markBusy(se,!0),$.makeDetectable({debug:Le,important:je},se,function(C){if(Le&&Re.log(Me,"onElementDetectable"),S.getState(C)){ce.markAsDetectable(C),ce.markBusy(C,!1),$.addListener(C,Ge),Ze(bt,C,De);var T=S.getState(C);T&&T.startSize&&(T.startSize.width!==C.offsetWidth||T.startSize.height!==C.offsetHeight)&&Ge(C),lt[Me]&&r(lt[Me],function(ve){ve()})}else Le&&Re.log(Me,"Element uninstalled before being detectable.");delete lt[Me],++ut===ee.length&&Dt()}));Le&&Re.log(Me,"Already detecable, adding listener."),Ze(bt,se,De),ut++}),ut===ee.length&&Dt()},removeListener:R.removeListener,removeAllListeners:R.removeAllListeners,uninstall:function St(G){if(!G)return Re.error("At least one element is required.");if(A(G))G=[G];else{if(!b(G))return Re.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");G=M(G)}r(G,function(ee){R.removeAllListeners(ee),$.uninstall(ee),S.cleanState(ee)})},initDocument:function Rn(G){$.initDocument&&$.initDocument(G)}}}},6861:ln=>{"use strict";ln.exports=function(ye){var w=ye.stateHandler.getState;return{isDetectable:function r(x){var d=w(x);return d&&!!d.isDetectable},markAsDetectable:function y(x){w(x).isDetectable=!0},isBusy:function u(x){return!!w(x).busy},markBusy:function v(x,d){w(x).busy=!!d}}}},36100:ln=>{"use strict";ln.exports=function(){var ye=1;return{generate:function w(){return ye++}}}},1157:ln=>{"use strict";ln.exports=function(ye){var w=ye.idGenerator,r=ye.stateHandler.getState;return{get:function y(v){var x=r(v);return x&&void 0!==x.id?x.id:null},set:function u(v){var x=r(v);if(!x)throw new Error("setId required the element to have a resize detection state.");var d=w.generate();return x.id=d,d}}}},49216:ln=>{"use strict";ln.exports=function(ye){var w={};function r(x){var d=ye.get(x);return void 0===d?[]:w[d]||[]}return{get:r,add:function y(x,d){var L=ye.get(x);w[L]||(w[L]=[]),w[L].push(d)},removeListener:function u(x,d){for(var L=r(x),F=0,S=L.length;F<S;++F)if(L[F]===d){L.splice(F,1);break}},removeAllListeners:function v(x){var d=r(x);d&&(d.length=0)}}}},68816:ln=>{"use strict";ln.exports=function(ye){function w(){}var r={log:w,warn:w,error:w};if(!ye&&window.console){var y=function(u,v){u[v]=function(){var d=console[v];if(d.apply)d.apply(console,arguments);else for(var L=0;L<arguments.length;L++)d(arguments[L])}};y(r,"log"),y(r,"warn"),y(r,"error")}return r}},43133:ln=>{"use strict";var ye="_erd";function r(u){return u[ye]}ln.exports={initState:function w(u){return u[ye]={},r(u)},getState:r,cleanState:function y(u){delete u[ye]}}},82182:(ln,ye,w)=>{"use strict";var y=w(89222)("%Object.defineProperty%",!0)||!1;if(y)try{y({},"a",{value:1})}catch{y=!1}ln.exports=y},21776:ln=>{"use strict";ln.exports=EvalError},52276:ln=>{"use strict";ln.exports=Error},63433:ln=>{"use strict";ln.exports=RangeError},42025:ln=>{"use strict";ln.exports=ReferenceError},35097:ln=>{"use strict";ln.exports=SyntaxError},63698:ln=>{"use strict";ln.exports=TypeError},87378:ln=>{"use strict";ln.exports=URIError},37678:function(ln,ye){var w,y;void 0!==(y="function"==typeof(w=function(){"use strict";function v(U,O,b){var M=new XMLHttpRequest;M.open("GET",U),M.responseType="blob",M.onload=function(){S(M.response,O,b)},M.onerror=function(){console.error("could not download file")},M.send()}function x(U){var O=new XMLHttpRequest;O.open("HEAD",U,!1);try{O.send()}catch{}return 200<=O.status&&299>=O.status}function d(U){try{U.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),U.dispatchEvent(O)}}var L="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=L.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),S=L.saveAs||("object"!=typeof window||window!==L?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(U,O,b){var M=L.URL||L.webkitURL,A=document.createElement("a");A.download=O=O||U.name||"download",A.rel="noopener","string"==typeof U?(A.href=U,A.origin===location.origin?d(A):x(A.href)?v(U,O,b):d(A,A.target="_blank")):(A.href=M.createObjectURL(U),setTimeout(function(){M.revokeObjectURL(A.href)},4e4),setTimeout(function(){d(A)},0))}:"msSaveOrOpenBlob"in navigator?function(U,O,b){if(O=O||U.name||"download","string"!=typeof U)navigator.msSaveOrOpenBlob(function u(U,O){return typeof O>"u"?O={autoBom:!1}:"object"!=typeof O&&(console.warn("Deprecated: Expected third argument to be a object"),O={autoBom:!O}),O.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(U.type)?new Blob(["\ufeff",U],{type:U.type}):U}(U,b),O);else if(x(U))v(U,O,b);else{var M=document.createElement("a");M.href=U,M.target="_blank",setTimeout(function(){d(M)})}}:function(U,O,b,M){if((M=M||open("","_blank"))&&(M.document.title=M.document.body.innerText="downloading..."),"string"==typeof U)return v(U,O,b);var A="application/octet-stream"===U.type,ue=/constructor/i.test(L.HTMLElement)||L.safari,z=/CriOS\/[\d]+/.test(navigator.userAgent);if((z||A&&ue||F)&&typeof FileReader<"u"){var X=new FileReader;X.onloadend=function(){var Re=X.result;Re=z?Re:Re.replace(/^data:[^;]*;/,"data:attachment/file;"),M?M.location.href=Re:location=Re,M=null},X.readAsDataURL(U)}else{var re=L.URL||L.webkitURL,Z=re.createObjectURL(U);M?M.location=Z:location.href=Z,M=null,setTimeout(function(){re.revokeObjectURL(Z)},4e4)}});L.saveAs=S.saveAs=S,ln.exports=S})?w.apply(ye,[]):w)&&(ln.exports=y)},94864:ln=>{"use strict";var w=Object.prototype.toString,r=Math.max,u=function(L,F){for(var S=[],U=0;U<L.length;U+=1)S[U]=L[U];for(var O=0;O<F.length;O+=1)S[O+L.length]=F[O];return S};ln.exports=function(L){var F=this;if("function"!=typeof F||"[object Function]"!==w.apply(F))throw new TypeError("Function.prototype.bind called on incompatible "+F);for(var U,S=function(L){for(var S=[],U=1,O=0;U<L.length;U+=1,O+=1)S[O]=L[U];return S}(arguments),b=r(0,F.length-S.length),M=[],A=0;A<b;A++)M[A]="$"+A;if(U=Function("binder","return function ("+function(d){for(var F="",S=0;S<d.length;S+=1)F+=d[S],S+1<d.length&&(F+=",");return F}(M)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof U){var z=F.apply(this,u(S,arguments));return Object(z)===z?z:this}return F.apply(L,u(S,arguments))}),F.prototype){var ue=function(){};ue.prototype=F.prototype,U.prototype=new ue,ue.prototype=null}return U}},82988:(ln,ye,w)=>{"use strict";var r=w(94864);ln.exports=Function.prototype.bind||r},89222:(ln,ye,w)=>{"use strict";var r,y=w(52276),u=w(21776),v=w(63433),x=w(42025),d=w(35097),L=w(63698),F=w(87378),S=Function,U=function(G){try{return S('"use strict"; return ('+G+").constructor;")()}catch{}},O=Object.getOwnPropertyDescriptor;if(O)try{O({},"")}catch{O=null}var b=function(){throw new L},M=O?function(){try{return b}catch{try{return O(arguments,"callee").get}catch{return b}}}():b,A=w(17528)(),ue=w(88003)(),z=Object.getPrototypeOf||(ue?function(G){return G.__proto__}:null),X={},re=typeof Uint8Array>"u"||!z?r:z(Uint8Array),Z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":A&&z?z([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":X,"%AsyncGenerator%":X,"%AsyncGeneratorFunction%":X,"%AsyncIteratorPrototype%":X,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":y,"%eval%":eval,"%EvalError%":u,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":X,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&z?z(z([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A||!z?r:z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":v,"%ReferenceError%":x,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A||!z?r:z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&z?z(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":d,"%ThrowTypeError%":M,"%TypedArray%":re,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(z)try{null.error}catch(G){var Re=z(z(G));Z["%Error.prototype%"]=Re}var oe=function G(ee){var De;if("%AsyncFunction%"===ee)De=U("async function () {}");else if("%GeneratorFunction%"===ee)De=U("function* () {}");else if("%AsyncGeneratorFunction%"===ee)De=U("async function* () {}");else if("%AsyncGenerator%"===ee){var Ge=G("%AsyncGeneratorFunction%");Ge&&(De=Ge.prototype)}else if("%AsyncIteratorPrototype%"===ee){var Ze=G("%AsyncGenerator%");Ze&&z&&(De=z(Ze.prototype))}return Z[ee]=De,De},Ce={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=w(82988),R=w(58252),ce=K.call(Function.call,Array.prototype.concat),$=K.call(Function.apply,Array.prototype.splice),Fe=K.call(Function.call,String.prototype.replace),je=K.call(Function.call,String.prototype.slice),Ve=K.call(Function.call,RegExp.prototype.exec),lt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pt=/\\(\\)?/g,Rn=function(ee,De){var Ze,Ge=ee;if(R(Ce,Ge)&&(Ge="%"+(Ze=Ce[Ge])[0]+"%"),R(Z,Ge)){var ut=Z[Ge];if(ut===X&&(ut=oe(Ge)),typeof ut>"u"&&!De)throw new L("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:Ze,name:Ge,value:ut}}throw new d("intrinsic "+ee+" does not exist!")};ln.exports=function(ee,De){if("string"!=typeof ee||0===ee.length)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof De)throw new L('"allowMissing" argument must be a boolean');if(null===Ve(/^%?[^%]*%?$/,ee))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ge=function(ee){var De=je(ee,0,1),Ge=je(ee,-1);if("%"===De&&"%"!==Ge)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===Ge&&"%"!==De)throw new d("invalid intrinsic syntax, expected opening `%`");var Ze=[];return Fe(ee,lt,function(ut,bt,Dt,Le){Ze[Ze.length]=Dt?Fe(Le,pt,"$1"):bt||ut}),Ze}(ee),Ze=Ge.length>0?Ge[0]:"",ut=Rn("%"+Ze+"%",De),bt=ut.name,Dt=ut.value,Le=!1,Ae=ut.alias;Ae&&(Ze=Ae[0],$(Ge,ce([0,1],Ae)));for(var se=1,Me=!0;se<Ge.length;se+=1){var Ee=Ge[se],C=je(Ee,0,1),T=je(Ee,-1);if(('"'===C||"'"===C||"`"===C||'"'===T||"'"===T||"`"===T)&&C!==T)throw new d("property names with quotes must have matching quotes");if(("constructor"===Ee||!Me)&&(Le=!0),R(Z,bt="%"+(Ze+="."+Ee)+"%"))Dt=Z[bt];else if(null!=Dt){if(!(Ee in Dt)){if(!De)throw new L("base intrinsic for "+ee+" exists, but the property is not available.");return}if(O&&se+1>=Ge.length){var J=O(Dt,Ee);Dt=(Me=!!J)&&"get"in J&&!("originalValue"in J.get)?J.get:Dt[Ee]}else Me=R(Dt,Ee),Dt=Dt[Ee];Me&&!Le&&(Z[bt]=Dt)}}return Dt}},9818:(ln,ye,w)=>{"use strict";w.d(ye,{Ov:()=>u,p8:()=>r,tb:()=>y});var r=1e-6,y=typeof Float32Array<"u"?Float32Array:Array,u=Math.random;Math,Math.hypot||(Math.hypot=function(){for(var F=0,S=arguments.length;S--;)F+=arguments[S]*arguments[S];return Math.sqrt(F)})},7928:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{add:()=>$,adjoint:()=>O,clone:()=>v,copy:()=>x,create:()=>y,determinant:()=>b,equals:()=>pt,exactEquals:()=>lt,frob:()=>ce,fromMat2d:()=>Re,fromMat4:()=>u,fromQuat:()=>oe,fromRotation:()=>re,fromScaling:()=>Z,fromTranslation:()=>X,fromValues:()=>d,identity:()=>F,invert:()=>U,mul:()=>St,multiply:()=>M,multiplyScalar:()=>je,multiplyScalarAndAdd:()=>Ve,normalFromMat4:()=>Ce,projection:()=>K,rotate:()=>ue,scale:()=>z,set:()=>L,str:()=>R,sub:()=>Rn,subtract:()=>Fe,translate:()=>A,transpose:()=>S});var r=w(9818);function y(){var G=new r.tb(9);return r.tb!=Float32Array&&(G[1]=0,G[2]=0,G[3]=0,G[5]=0,G[6]=0,G[7]=0),G[0]=1,G[4]=1,G[8]=1,G}function u(G,ee){return G[0]=ee[0],G[1]=ee[1],G[2]=ee[2],G[3]=ee[4],G[4]=ee[5],G[5]=ee[6],G[6]=ee[8],G[7]=ee[9],G[8]=ee[10],G}function v(G){var ee=new r.tb(9);return ee[0]=G[0],ee[1]=G[1],ee[2]=G[2],ee[3]=G[3],ee[4]=G[4],ee[5]=G[5],ee[6]=G[6],ee[7]=G[7],ee[8]=G[8],ee}function x(G,ee){return G[0]=ee[0],G[1]=ee[1],G[2]=ee[2],G[3]=ee[3],G[4]=ee[4],G[5]=ee[5],G[6]=ee[6],G[7]=ee[7],G[8]=ee[8],G}function d(G,ee,De,Ge,Ze,ut,bt,Dt,Le){var Ae=new r.tb(9);return Ae[0]=G,Ae[1]=ee,Ae[2]=De,Ae[3]=Ge,Ae[4]=Ze,Ae[5]=ut,Ae[6]=bt,Ae[7]=Dt,Ae[8]=Le,Ae}function L(G,ee,De,Ge,Ze,ut,bt,Dt,Le,Ae){return G[0]=ee,G[1]=De,G[2]=Ge,G[3]=Ze,G[4]=ut,G[5]=bt,G[6]=Dt,G[7]=Le,G[8]=Ae,G}function F(G){return G[0]=1,G[1]=0,G[2]=0,G[3]=0,G[4]=1,G[5]=0,G[6]=0,G[7]=0,G[8]=1,G}function S(G,ee){if(G===ee){var De=ee[1],Ge=ee[2],Ze=ee[5];G[1]=ee[3],G[2]=ee[6],G[3]=De,G[5]=ee[7],G[6]=Ge,G[7]=Ze}else G[0]=ee[0],G[1]=ee[3],G[2]=ee[6],G[3]=ee[1],G[4]=ee[4],G[5]=ee[7],G[6]=ee[2],G[7]=ee[5],G[8]=ee[8];return G}function U(G,ee){var De=ee[0],Ge=ee[1],Ze=ee[2],ut=ee[3],bt=ee[4],Dt=ee[5],Le=ee[6],Ae=ee[7],se=ee[8],Me=se*bt-Dt*Ae,Ee=-se*ut+Dt*Le,C=Ae*ut-bt*Le,T=De*Me+Ge*Ee+Ze*C;return T?(G[0]=Me*(T=1/T),G[1]=(-se*Ge+Ze*Ae)*T,G[2]=(Dt*Ge-Ze*bt)*T,G[3]=Ee*T,G[4]=(se*De-Ze*Le)*T,G[5]=(-Dt*De+Ze*ut)*T,G[6]=C*T,G[7]=(-Ae*De+Ge*Le)*T,G[8]=(bt*De-Ge*ut)*T,G):null}function O(G,ee){var De=ee[0],Ge=ee[1],Ze=ee[2],ut=ee[3],bt=ee[4],Dt=ee[5],Le=ee[6],Ae=ee[7],se=ee[8];return G[0]=bt*se-Dt*Ae,G[1]=Ze*Ae-Ge*se,G[2]=Ge*Dt-Ze*bt,G[3]=Dt*Le-ut*se,G[4]=De*se-Ze*Le,G[5]=Ze*ut-De*Dt,G[6]=ut*Ae-bt*Le,G[7]=Ge*Le-De*Ae,G[8]=De*bt-Ge*ut,G}function b(G){var Ze=G[3],ut=G[4],bt=G[5],Dt=G[6],Le=G[7],Ae=G[8];return G[0]*(Ae*ut-bt*Le)+G[1]*(-Ae*Ze+bt*Dt)+G[2]*(Le*Ze-ut*Dt)}function M(G,ee,De){var Ge=ee[0],Ze=ee[1],ut=ee[2],bt=ee[3],Dt=ee[4],Le=ee[5],Ae=ee[6],se=ee[7],Me=ee[8],Ee=De[0],C=De[1],T=De[2],J=De[3],W=De[4],ve=De[5],ne=De[6],p=De[7],H=De[8];return G[0]=Ee*Ge+C*bt+T*Ae,G[1]=Ee*Ze+C*Dt+T*se,G[2]=Ee*ut+C*Le+T*Me,G[3]=J*Ge+W*bt+ve*Ae,G[4]=J*Ze+W*Dt+ve*se,G[5]=J*ut+W*Le+ve*Me,G[6]=ne*Ge+p*bt+H*Ae,G[7]=ne*Ze+p*Dt+H*se,G[8]=ne*ut+p*Le+H*Me,G}function A(G,ee,De){var Ge=ee[0],Ze=ee[1],ut=ee[2],bt=ee[3],Dt=ee[4],Le=ee[5],Ae=ee[6],se=ee[7],Me=ee[8],Ee=De[0],C=De[1];return G[0]=Ge,G[1]=Ze,G[2]=ut,G[3]=bt,G[4]=Dt,G[5]=Le,G[6]=Ee*Ge+C*bt+Ae,G[7]=Ee*Ze+C*Dt+se,G[8]=Ee*ut+C*Le+Me,G}function ue(G,ee,De){var Ge=ee[0],Ze=ee[1],ut=ee[2],bt=ee[3],Dt=ee[4],Le=ee[5],Ae=ee[6],se=ee[7],Me=ee[8],Ee=Math.sin(De),C=Math.cos(De);return G[0]=C*Ge+Ee*bt,G[1]=C*Ze+Ee*Dt,G[2]=C*ut+Ee*Le,G[3]=C*bt-Ee*Ge,G[4]=C*Dt-Ee*Ze,G[5]=C*Le-Ee*ut,G[6]=Ae,G[7]=se,G[8]=Me,G}function z(G,ee,De){var Ge=De[0],Ze=De[1];return G[0]=Ge*ee[0],G[1]=Ge*ee[1],G[2]=Ge*ee[2],G[3]=Ze*ee[3],G[4]=Ze*ee[4],G[5]=Ze*ee[5],G[6]=ee[6],G[7]=ee[7],G[8]=ee[8],G}function X(G,ee){return G[0]=1,G[1]=0,G[2]=0,G[3]=0,G[4]=1,G[5]=0,G[6]=ee[0],G[7]=ee[1],G[8]=1,G}function re(G,ee){var De=Math.sin(ee),Ge=Math.cos(ee);return G[0]=Ge,G[1]=De,G[2]=0,G[3]=-De,G[4]=Ge,G[5]=0,G[6]=0,G[7]=0,G[8]=1,G}function Z(G,ee){return G[0]=ee[0],G[1]=0,G[2]=0,G[3]=0,G[4]=ee[1],G[5]=0,G[6]=0,G[7]=0,G[8]=1,G}function Re(G,ee){return G[0]=ee[0],G[1]=ee[1],G[2]=0,G[3]=ee[2],G[4]=ee[3],G[5]=0,G[6]=ee[4],G[7]=ee[5],G[8]=1,G}function oe(G,ee){var De=ee[0],Ge=ee[1],Ze=ee[2],ut=ee[3],bt=De+De,Dt=Ge+Ge,Le=Ze+Ze,Ae=De*bt,se=Ge*bt,Me=Ge*Dt,Ee=Ze*bt,C=Ze*Dt,T=Ze*Le,J=ut*bt,W=ut*Dt,ve=ut*Le;return G[0]=1-Me-T,G[3]=se-ve,G[6]=Ee+W,G[1]=se+ve,G[4]=1-Ae-T,G[7]=C-J,G[2]=Ee-W,G[5]=C+J,G[8]=1-Ae-Me,G}function Ce(G,ee){var De=ee[0],Ge=ee[1],Ze=ee[2],ut=ee[3],bt=ee[4],Dt=ee[5],Le=ee[6],Ae=ee[7],se=ee[8],Me=ee[9],Ee=ee[10],C=ee[11],T=ee[12],J=ee[13],W=ee[14],ve=ee[15],ne=De*Dt-Ge*bt,p=De*Le-Ze*bt,H=De*Ae-ut*bt,B=Ge*Le-Ze*Dt,Ie=Ge*Ae-ut*Dt,$e=Ze*Ae-ut*Le,ft=se*J-Me*T,kt=se*W-Ee*T,jt=se*ve-C*T,Ye=Me*W-Ee*J,ct=Me*ve-C*J,It=Ee*ve-C*W,Ke=ne*It-p*ct+H*Ye+B*jt-Ie*kt+$e*ft;return Ke?(G[0]=(Dt*It-Le*ct+Ae*Ye)*(Ke=1/Ke),G[1]=(Le*jt-bt*It-Ae*kt)*Ke,G[2]=(bt*ct-Dt*jt+Ae*ft)*Ke,G[3]=(Ze*ct-Ge*It-ut*Ye)*Ke,G[4]=(De*It-Ze*jt+ut*kt)*Ke,G[5]=(Ge*jt-De*ct-ut*ft)*Ke,G[6]=(J*$e-W*Ie+ve*B)*Ke,G[7]=(W*H-T*$e-ve*p)*Ke,G[8]=(T*Ie-J*H+ve*ne)*Ke,G):null}function K(G,ee,De){return G[0]=2/ee,G[1]=0,G[2]=0,G[3]=0,G[4]=-2/De,G[5]=0,G[6]=-1,G[7]=1,G[8]=1,G}function R(G){return"mat3("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+", "+G[4]+", "+G[5]+", "+G[6]+", "+G[7]+", "+G[8]+")"}function ce(G){return Math.hypot(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8])}function $(G,ee,De){return G[0]=ee[0]+De[0],G[1]=ee[1]+De[1],G[2]=ee[2]+De[2],G[3]=ee[3]+De[3],G[4]=ee[4]+De[4],G[5]=ee[5]+De[5],G[6]=ee[6]+De[6],G[7]=ee[7]+De[7],G[8]=ee[8]+De[8],G}function Fe(G,ee,De){return G[0]=ee[0]-De[0],G[1]=ee[1]-De[1],G[2]=ee[2]-De[2],G[3]=ee[3]-De[3],G[4]=ee[4]-De[4],G[5]=ee[5]-De[5],G[6]=ee[6]-De[6],G[7]=ee[7]-De[7],G[8]=ee[8]-De[8],G}function je(G,ee,De){return G[0]=ee[0]*De,G[1]=ee[1]*De,G[2]=ee[2]*De,G[3]=ee[3]*De,G[4]=ee[4]*De,G[5]=ee[5]*De,G[6]=ee[6]*De,G[7]=ee[7]*De,G[8]=ee[8]*De,G}function Ve(G,ee,De,Ge){return G[0]=ee[0]+De[0]*Ge,G[1]=ee[1]+De[1]*Ge,G[2]=ee[2]+De[2]*Ge,G[3]=ee[3]+De[3]*Ge,G[4]=ee[4]+De[4]*Ge,G[5]=ee[5]+De[5]*Ge,G[6]=ee[6]+De[6]*Ge,G[7]=ee[7]+De[7]*Ge,G[8]=ee[8]+De[8]*Ge,G}function lt(G,ee){return G[0]===ee[0]&&G[1]===ee[1]&&G[2]===ee[2]&&G[3]===ee[3]&&G[4]===ee[4]&&G[5]===ee[5]&&G[6]===ee[6]&&G[7]===ee[7]&&G[8]===ee[8]}function pt(G,ee){var De=G[0],Ge=G[1],Ze=G[2],ut=G[3],bt=G[4],Dt=G[5],Le=G[6],Ae=G[7],se=G[8],Me=ee[0],Ee=ee[1],C=ee[2],T=ee[3],J=ee[4],W=ee[5],ve=ee[6],ne=ee[7],p=ee[8];return Math.abs(De-Me)<=r.p8*Math.max(1,Math.abs(De),Math.abs(Me))&&Math.abs(Ge-Ee)<=r.p8*Math.max(1,Math.abs(Ge),Math.abs(Ee))&&Math.abs(Ze-C)<=r.p8*Math.max(1,Math.abs(Ze),Math.abs(C))&&Math.abs(ut-T)<=r.p8*Math.max(1,Math.abs(ut),Math.abs(T))&&Math.abs(bt-J)<=r.p8*Math.max(1,Math.abs(bt),Math.abs(J))&&Math.abs(Dt-W)<=r.p8*Math.max(1,Math.abs(Dt),Math.abs(W))&&Math.abs(Le-ve)<=r.p8*Math.max(1,Math.abs(Le),Math.abs(ve))&&Math.abs(Ae-ne)<=r.p8*Math.max(1,Math.abs(Ae),Math.abs(ne))&&Math.abs(se-p)<=r.p8*Math.max(1,Math.abs(se),Math.abs(p))}var St=M,Rn=Fe},65133:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{add:()=>Me,adjoint:()=>U,clone:()=>u,copy:()=>v,create:()=>y,determinant:()=>O,equals:()=>W,exactEquals:()=>J,frob:()=>se,fromQuat:()=>St,fromQuat2:()=>$,fromRotation:()=>oe,fromRotationTranslation:()=>ce,fromRotationTranslationScale:()=>lt,fromRotationTranslationScaleOrigin:()=>pt,fromScaling:()=>Re,fromTranslation:()=>Z,fromValues:()=>x,fromXRotation:()=>Ce,fromYRotation:()=>K,fromZRotation:()=>R,frustum:()=>Rn,getRotation:()=>Ve,getScaling:()=>je,getTranslation:()=>Fe,identity:()=>L,invert:()=>S,lookAt:()=>Dt,mul:()=>ve,multiply:()=>b,multiplyScalar:()=>C,multiplyScalarAndAdd:()=>T,ortho:()=>ut,orthoNO:()=>Ze,orthoZO:()=>bt,perspective:()=>ee,perspectiveFromFieldOfView:()=>Ge,perspectiveNO:()=>G,perspectiveZO:()=>De,rotate:()=>ue,rotateX:()=>z,rotateY:()=>X,rotateZ:()=>re,scale:()=>A,set:()=>d,str:()=>Ae,sub:()=>ne,subtract:()=>Ee,targetTo:()=>Le,translate:()=>M,transpose:()=>F});var r=w(9818);function y(){var p=new r.tb(16);return r.tb!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p}function u(p){var H=new r.tb(16);return H[0]=p[0],H[1]=p[1],H[2]=p[2],H[3]=p[3],H[4]=p[4],H[5]=p[5],H[6]=p[6],H[7]=p[7],H[8]=p[8],H[9]=p[9],H[10]=p[10],H[11]=p[11],H[12]=p[12],H[13]=p[13],H[14]=p[14],H[15]=p[15],H}function v(p,H){return p[0]=H[0],p[1]=H[1],p[2]=H[2],p[3]=H[3],p[4]=H[4],p[5]=H[5],p[6]=H[6],p[7]=H[7],p[8]=H[8],p[9]=H[9],p[10]=H[10],p[11]=H[11],p[12]=H[12],p[13]=H[13],p[14]=H[14],p[15]=H[15],p}function x(p,H,B,Ie,$e,ft,kt,jt,Ye,ct,It,Ke,wt,rt,Ct,mt){var Vt=new r.tb(16);return Vt[0]=p,Vt[1]=H,Vt[2]=B,Vt[3]=Ie,Vt[4]=$e,Vt[5]=ft,Vt[6]=kt,Vt[7]=jt,Vt[8]=Ye,Vt[9]=ct,Vt[10]=It,Vt[11]=Ke,Vt[12]=wt,Vt[13]=rt,Vt[14]=Ct,Vt[15]=mt,Vt}function d(p,H,B,Ie,$e,ft,kt,jt,Ye,ct,It,Ke,wt,rt,Ct,mt,Vt){return p[0]=H,p[1]=B,p[2]=Ie,p[3]=$e,p[4]=ft,p[5]=kt,p[6]=jt,p[7]=Ye,p[8]=ct,p[9]=It,p[10]=Ke,p[11]=wt,p[12]=rt,p[13]=Ct,p[14]=mt,p[15]=Vt,p}function L(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function F(p,H){if(p===H){var B=H[1],Ie=H[2],$e=H[3],ft=H[6],kt=H[7],jt=H[11];p[1]=H[4],p[2]=H[8],p[3]=H[12],p[4]=B,p[6]=H[9],p[7]=H[13],p[8]=Ie,p[9]=ft,p[11]=H[14],p[12]=$e,p[13]=kt,p[14]=jt}else p[0]=H[0],p[1]=H[4],p[2]=H[8],p[3]=H[12],p[4]=H[1],p[5]=H[5],p[6]=H[9],p[7]=H[13],p[8]=H[2],p[9]=H[6],p[10]=H[10],p[11]=H[14],p[12]=H[3],p[13]=H[7],p[14]=H[11],p[15]=H[15];return p}function S(p,H){var B=H[0],Ie=H[1],$e=H[2],ft=H[3],kt=H[4],jt=H[5],Ye=H[6],ct=H[7],It=H[8],Ke=H[9],wt=H[10],rt=H[11],Ct=H[12],mt=H[13],Vt=H[14],at=H[15],We=B*jt-Ie*kt,ke=B*Ye-$e*kt,et=B*ct-ft*kt,xt=Ie*Ye-$e*jt,Zt=Ie*ct-ft*jt,vn=$e*ct-ft*Ye,kn=It*mt-Ke*Ct,tr=It*Vt-wt*Ct,dn=It*at-rt*Ct,nn=Ke*Vt-wt*mt,Ht=Ke*at-rt*mt,Xt=wt*at-rt*Vt,Nn=We*Xt-ke*Ht+et*nn+xt*dn-Zt*tr+vn*kn;return Nn?(p[0]=(jt*Xt-Ye*Ht+ct*nn)*(Nn=1/Nn),p[1]=($e*Ht-Ie*Xt-ft*nn)*Nn,p[2]=(mt*vn-Vt*Zt+at*xt)*Nn,p[3]=(wt*Zt-Ke*vn-rt*xt)*Nn,p[4]=(Ye*dn-kt*Xt-ct*tr)*Nn,p[5]=(B*Xt-$e*dn+ft*tr)*Nn,p[6]=(Vt*et-Ct*vn-at*ke)*Nn,p[7]=(It*vn-wt*et+rt*ke)*Nn,p[8]=(kt*Ht-jt*dn+ct*kn)*Nn,p[9]=(Ie*dn-B*Ht-ft*kn)*Nn,p[10]=(Ct*Zt-mt*et+at*We)*Nn,p[11]=(Ke*et-It*Zt-rt*We)*Nn,p[12]=(jt*tr-kt*nn-Ye*kn)*Nn,p[13]=(B*nn-Ie*tr+$e*kn)*Nn,p[14]=(mt*ke-Ct*xt-Vt*We)*Nn,p[15]=(It*xt-Ke*ke+wt*We)*Nn,p):null}function U(p,H){var B=H[0],Ie=H[1],$e=H[2],ft=H[3],kt=H[4],jt=H[5],Ye=H[6],ct=H[7],It=H[8],Ke=H[9],wt=H[10],rt=H[11],Ct=H[12],mt=H[13],Vt=H[14],at=H[15];return p[0]=jt*(wt*at-rt*Vt)-Ke*(Ye*at-ct*Vt)+mt*(Ye*rt-ct*wt),p[1]=-(Ie*(wt*at-rt*Vt)-Ke*($e*at-ft*Vt)+mt*($e*rt-ft*wt)),p[2]=Ie*(Ye*at-ct*Vt)-jt*($e*at-ft*Vt)+mt*($e*ct-ft*Ye),p[3]=-(Ie*(Ye*rt-ct*wt)-jt*($e*rt-ft*wt)+Ke*($e*ct-ft*Ye)),p[4]=-(kt*(wt*at-rt*Vt)-It*(Ye*at-ct*Vt)+Ct*(Ye*rt-ct*wt)),p[5]=B*(wt*at-rt*Vt)-It*($e*at-ft*Vt)+Ct*($e*rt-ft*wt),p[6]=-(B*(Ye*at-ct*Vt)-kt*($e*at-ft*Vt)+Ct*($e*ct-ft*Ye)),p[7]=B*(Ye*rt-ct*wt)-kt*($e*rt-ft*wt)+It*($e*ct-ft*Ye),p[8]=kt*(Ke*at-rt*mt)-It*(jt*at-ct*mt)+Ct*(jt*rt-ct*Ke),p[9]=-(B*(Ke*at-rt*mt)-It*(Ie*at-ft*mt)+Ct*(Ie*rt-ft*Ke)),p[10]=B*(jt*at-ct*mt)-kt*(Ie*at-ft*mt)+Ct*(Ie*ct-ft*jt),p[11]=-(B*(jt*rt-ct*Ke)-kt*(Ie*rt-ft*Ke)+It*(Ie*ct-ft*jt)),p[12]=-(kt*(Ke*Vt-wt*mt)-It*(jt*Vt-Ye*mt)+Ct*(jt*wt-Ye*Ke)),p[13]=B*(Ke*Vt-wt*mt)-It*(Ie*Vt-$e*mt)+Ct*(Ie*wt-$e*Ke),p[14]=-(B*(jt*Vt-Ye*mt)-kt*(Ie*Vt-$e*mt)+Ct*(Ie*Ye-$e*jt)),p[15]=B*(jt*wt-Ye*Ke)-kt*(Ie*wt-$e*Ke)+It*(Ie*Ye-$e*jt),p}function O(p){var H=p[0],B=p[1],Ie=p[2],$e=p[3],ft=p[4],kt=p[5],jt=p[6],Ye=p[7],ct=p[8],It=p[9],Ke=p[10],wt=p[11],rt=p[12],Ct=p[13],mt=p[14],Vt=p[15];return(H*kt-B*ft)*(Ke*Vt-wt*mt)-(H*jt-Ie*ft)*(It*Vt-wt*Ct)+(H*Ye-$e*ft)*(It*mt-Ke*Ct)+(B*jt-Ie*kt)*(ct*Vt-wt*rt)-(B*Ye-$e*kt)*(ct*mt-Ke*rt)+(Ie*Ye-$e*jt)*(ct*Ct-It*rt)}function b(p,H,B){var Ie=H[0],$e=H[1],ft=H[2],kt=H[3],jt=H[4],Ye=H[5],ct=H[6],It=H[7],Ke=H[8],wt=H[9],rt=H[10],Ct=H[11],mt=H[12],Vt=H[13],at=H[14],We=H[15],ke=B[0],et=B[1],xt=B[2],Zt=B[3];return p[0]=ke*Ie+et*jt+xt*Ke+Zt*mt,p[1]=ke*$e+et*Ye+xt*wt+Zt*Vt,p[2]=ke*ft+et*ct+xt*rt+Zt*at,p[3]=ke*kt+et*It+xt*Ct+Zt*We,p[4]=(ke=B[4])*Ie+(et=B[5])*jt+(xt=B[6])*Ke+(Zt=B[7])*mt,p[5]=ke*$e+et*Ye+xt*wt+Zt*Vt,p[6]=ke*ft+et*ct+xt*rt+Zt*at,p[7]=ke*kt+et*It+xt*Ct+Zt*We,p[8]=(ke=B[8])*Ie+(et=B[9])*jt+(xt=B[10])*Ke+(Zt=B[11])*mt,p[9]=ke*$e+et*Ye+xt*wt+Zt*Vt,p[10]=ke*ft+et*ct+xt*rt+Zt*at,p[11]=ke*kt+et*It+xt*Ct+Zt*We,p[12]=(ke=B[12])*Ie+(et=B[13])*jt+(xt=B[14])*Ke+(Zt=B[15])*mt,p[13]=ke*$e+et*Ye+xt*wt+Zt*Vt,p[14]=ke*ft+et*ct+xt*rt+Zt*at,p[15]=ke*kt+et*It+xt*Ct+Zt*We,p}function M(p,H,B){var kt,jt,Ye,ct,It,Ke,wt,rt,Ct,mt,Vt,at,Ie=B[0],$e=B[1],ft=B[2];return H===p?(p[12]=H[0]*Ie+H[4]*$e+H[8]*ft+H[12],p[13]=H[1]*Ie+H[5]*$e+H[9]*ft+H[13],p[14]=H[2]*Ie+H[6]*$e+H[10]*ft+H[14],p[15]=H[3]*Ie+H[7]*$e+H[11]*ft+H[15]):(jt=H[1],Ye=H[2],ct=H[3],It=H[4],Ke=H[5],wt=H[6],rt=H[7],Ct=H[8],mt=H[9],Vt=H[10],at=H[11],p[0]=kt=H[0],p[1]=jt,p[2]=Ye,p[3]=ct,p[4]=It,p[5]=Ke,p[6]=wt,p[7]=rt,p[8]=Ct,p[9]=mt,p[10]=Vt,p[11]=at,p[12]=kt*Ie+It*$e+Ct*ft+H[12],p[13]=jt*Ie+Ke*$e+mt*ft+H[13],p[14]=Ye*Ie+wt*$e+Vt*ft+H[14],p[15]=ct*Ie+rt*$e+at*ft+H[15]),p}function A(p,H,B){var Ie=B[0],$e=B[1],ft=B[2];return p[0]=H[0]*Ie,p[1]=H[1]*Ie,p[2]=H[2]*Ie,p[3]=H[3]*Ie,p[4]=H[4]*$e,p[5]=H[5]*$e,p[6]=H[6]*$e,p[7]=H[7]*$e,p[8]=H[8]*ft,p[9]=H[9]*ft,p[10]=H[10]*ft,p[11]=H[11]*ft,p[12]=H[12],p[13]=H[13],p[14]=H[14],p[15]=H[15],p}function ue(p,H,B,Ie){var Ye,ct,It,Ke,wt,rt,Ct,mt,Vt,at,We,ke,et,xt,Zt,vn,kn,tr,dn,nn,Ht,Xt,Nn,Ot,$e=Ie[0],ft=Ie[1],kt=Ie[2],jt=Math.hypot($e,ft,kt);return jt<r.p8?null:($e*=jt=1/jt,ft*=jt,kt*=jt,Ye=Math.sin(B),ct=Math.cos(B),wt=H[1],rt=H[2],Ct=H[3],Vt=H[5],at=H[6],We=H[7],et=H[9],xt=H[10],Zt=H[11],dn=$e*ft*(It=1-ct)-kt*Ye,nn=ft*ft*It+ct,Ht=kt*ft*It+$e*Ye,Xt=$e*kt*It+ft*Ye,Nn=ft*kt*It-$e*Ye,Ot=kt*kt*It+ct,p[0]=(Ke=H[0])*(vn=$e*$e*It+ct)+(mt=H[4])*(kn=ft*$e*It+kt*Ye)+(ke=H[8])*(tr=kt*$e*It-ft*Ye),p[1]=wt*vn+Vt*kn+et*tr,p[2]=rt*vn+at*kn+xt*tr,p[3]=Ct*vn+We*kn+Zt*tr,p[4]=Ke*dn+mt*nn+ke*Ht,p[5]=wt*dn+Vt*nn+et*Ht,p[6]=rt*dn+at*nn+xt*Ht,p[7]=Ct*dn+We*nn+Zt*Ht,p[8]=Ke*Xt+mt*Nn+ke*Ot,p[9]=wt*Xt+Vt*Nn+et*Ot,p[10]=rt*Xt+at*Nn+xt*Ot,p[11]=Ct*Xt+We*Nn+Zt*Ot,H!==p&&(p[12]=H[12],p[13]=H[13],p[14]=H[14],p[15]=H[15]),p)}function z(p,H,B){var Ie=Math.sin(B),$e=Math.cos(B),ft=H[4],kt=H[5],jt=H[6],Ye=H[7],ct=H[8],It=H[9],Ke=H[10],wt=H[11];return H!==p&&(p[0]=H[0],p[1]=H[1],p[2]=H[2],p[3]=H[3],p[12]=H[12],p[13]=H[13],p[14]=H[14],p[15]=H[15]),p[4]=ft*$e+ct*Ie,p[5]=kt*$e+It*Ie,p[6]=jt*$e+Ke*Ie,p[7]=Ye*$e+wt*Ie,p[8]=ct*$e-ft*Ie,p[9]=It*$e-kt*Ie,p[10]=Ke*$e-jt*Ie,p[11]=wt*$e-Ye*Ie,p}function X(p,H,B){var Ie=Math.sin(B),$e=Math.cos(B),ft=H[0],kt=H[1],jt=H[2],Ye=H[3],ct=H[8],It=H[9],Ke=H[10],wt=H[11];return H!==p&&(p[4]=H[4],p[5]=H[5],p[6]=H[6],p[7]=H[7],p[12]=H[12],p[13]=H[13],p[14]=H[14],p[15]=H[15]),p[0]=ft*$e-ct*Ie,p[1]=kt*$e-It*Ie,p[2]=jt*$e-Ke*Ie,p[3]=Ye*$e-wt*Ie,p[8]=ft*Ie+ct*$e,p[9]=kt*Ie+It*$e,p[10]=jt*Ie+Ke*$e,p[11]=Ye*Ie+wt*$e,p}function re(p,H,B){var Ie=Math.sin(B),$e=Math.cos(B),ft=H[0],kt=H[1],jt=H[2],Ye=H[3],ct=H[4],It=H[5],Ke=H[6],wt=H[7];return H!==p&&(p[8]=H[8],p[9]=H[9],p[10]=H[10],p[11]=H[11],p[12]=H[12],p[13]=H[13],p[14]=H[14],p[15]=H[15]),p[0]=ft*$e+ct*Ie,p[1]=kt*$e+It*Ie,p[2]=jt*$e+Ke*Ie,p[3]=Ye*$e+wt*Ie,p[4]=ct*$e-ft*Ie,p[5]=It*$e-kt*Ie,p[6]=Ke*$e-jt*Ie,p[7]=wt*$e-Ye*Ie,p}function Z(p,H){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=H[0],p[13]=H[1],p[14]=H[2],p[15]=1,p}function Re(p,H){return p[0]=H[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=H[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=H[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function oe(p,H,B){var jt,Ye,ct,Ie=B[0],$e=B[1],ft=B[2],kt=Math.hypot(Ie,$e,ft);return kt<r.p8?null:(Ie*=kt=1/kt,$e*=kt,ft*=kt,jt=Math.sin(H),Ye=Math.cos(H),p[0]=Ie*Ie*(ct=1-Ye)+Ye,p[1]=$e*Ie*ct+ft*jt,p[2]=ft*Ie*ct-$e*jt,p[3]=0,p[4]=Ie*$e*ct-ft*jt,p[5]=$e*$e*ct+Ye,p[6]=ft*$e*ct+Ie*jt,p[7]=0,p[8]=Ie*ft*ct+$e*jt,p[9]=$e*ft*ct-Ie*jt,p[10]=ft*ft*ct+Ye,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p)}function Ce(p,H){var B=Math.sin(H),Ie=Math.cos(H);return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=Ie,p[6]=B,p[7]=0,p[8]=0,p[9]=-B,p[10]=Ie,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function K(p,H){var B=Math.sin(H),Ie=Math.cos(H);return p[0]=Ie,p[1]=0,p[2]=-B,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=B,p[9]=0,p[10]=Ie,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function R(p,H){var B=Math.sin(H),Ie=Math.cos(H);return p[0]=Ie,p[1]=B,p[2]=0,p[3]=0,p[4]=-B,p[5]=Ie,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function ce(p,H,B){var Ie=H[0],$e=H[1],ft=H[2],kt=H[3],jt=Ie+Ie,Ye=$e+$e,ct=ft+ft,It=Ie*jt,Ke=Ie*Ye,wt=Ie*ct,rt=$e*Ye,Ct=$e*ct,mt=ft*ct,Vt=kt*jt,at=kt*Ye,We=kt*ct;return p[0]=1-(rt+mt),p[1]=Ke+We,p[2]=wt-at,p[3]=0,p[4]=Ke-We,p[5]=1-(It+mt),p[6]=Ct+Vt,p[7]=0,p[8]=wt+at,p[9]=Ct-Vt,p[10]=1-(It+rt),p[11]=0,p[12]=B[0],p[13]=B[1],p[14]=B[2],p[15]=1,p}function $(p,H){var B=new r.tb(3),Ie=-H[0],$e=-H[1],ft=-H[2],kt=H[3],jt=H[4],Ye=H[5],ct=H[6],It=H[7],Ke=Ie*Ie+$e*$e+ft*ft+kt*kt;return Ke>0?(B[0]=2*(jt*kt+It*Ie+Ye*ft-ct*$e)/Ke,B[1]=2*(Ye*kt+It*$e+ct*Ie-jt*ft)/Ke,B[2]=2*(ct*kt+It*ft+jt*$e-Ye*Ie)/Ke):(B[0]=2*(jt*kt+It*Ie+Ye*ft-ct*$e),B[1]=2*(Ye*kt+It*$e+ct*Ie-jt*ft),B[2]=2*(ct*kt+It*ft+jt*$e-Ye*Ie)),ce(p,H,B),p}function Fe(p,H){return p[0]=H[12],p[1]=H[13],p[2]=H[14],p}function je(p,H){var ft=H[4],kt=H[5],jt=H[6],Ye=H[8],ct=H[9],It=H[10];return p[0]=Math.hypot(H[0],H[1],H[2]),p[1]=Math.hypot(ft,kt,jt),p[2]=Math.hypot(Ye,ct,It),p}function Ve(p,H){var B=new r.tb(3);je(B,H);var Ie=1/B[0],$e=1/B[1],ft=1/B[2],kt=H[0]*Ie,jt=H[1]*$e,Ye=H[2]*ft,ct=H[4]*Ie,It=H[5]*$e,Ke=H[6]*ft,wt=H[8]*Ie,rt=H[9]*$e,Ct=H[10]*ft,mt=kt+It+Ct,Vt=0;return mt>0?(Vt=2*Math.sqrt(mt+1),p[3]=.25*Vt,p[0]=(Ke-rt)/Vt,p[1]=(wt-Ye)/Vt,p[2]=(jt-ct)/Vt):kt>It&&kt>Ct?(Vt=2*Math.sqrt(1+kt-It-Ct),p[3]=(Ke-rt)/Vt,p[0]=.25*Vt,p[1]=(jt+ct)/Vt,p[2]=(wt+Ye)/Vt):It>Ct?(Vt=2*Math.sqrt(1+It-kt-Ct),p[3]=(wt-Ye)/Vt,p[0]=(jt+ct)/Vt,p[1]=.25*Vt,p[2]=(Ke+rt)/Vt):(Vt=2*Math.sqrt(1+Ct-kt-It),p[3]=(jt-ct)/Vt,p[0]=(wt+Ye)/Vt,p[1]=(Ke+rt)/Vt,p[2]=.25*Vt),p}function lt(p,H,B,Ie){var $e=H[0],ft=H[1],kt=H[2],jt=H[3],Ye=$e+$e,ct=ft+ft,It=kt+kt,Ke=$e*Ye,wt=$e*ct,rt=$e*It,Ct=ft*ct,mt=ft*It,Vt=kt*It,at=jt*Ye,We=jt*ct,ke=jt*It,et=Ie[0],xt=Ie[1],Zt=Ie[2];return p[0]=(1-(Ct+Vt))*et,p[1]=(wt+ke)*et,p[2]=(rt-We)*et,p[3]=0,p[4]=(wt-ke)*xt,p[5]=(1-(Ke+Vt))*xt,p[6]=(mt+at)*xt,p[7]=0,p[8]=(rt+We)*Zt,p[9]=(mt-at)*Zt,p[10]=(1-(Ke+Ct))*Zt,p[11]=0,p[12]=B[0],p[13]=B[1],p[14]=B[2],p[15]=1,p}function pt(p,H,B,Ie,$e){var ft=H[0],kt=H[1],jt=H[2],Ye=H[3],ct=ft+ft,It=kt+kt,Ke=jt+jt,wt=ft*ct,rt=ft*It,Ct=ft*Ke,mt=kt*It,Vt=kt*Ke,at=jt*Ke,We=Ye*ct,ke=Ye*It,et=Ye*Ke,xt=Ie[0],Zt=Ie[1],vn=Ie[2],kn=$e[0],tr=$e[1],dn=$e[2],nn=(1-(mt+at))*xt,Ht=(rt+et)*xt,Xt=(Ct-ke)*xt,Nn=(rt-et)*Zt,Ot=(1-(wt+at))*Zt,Mn=(Vt+We)*Zt,Bn=(Ct+ke)*vn,Pn=(Vt-We)*vn,Dn=(1-(wt+mt))*vn;return p[0]=nn,p[1]=Ht,p[2]=Xt,p[3]=0,p[4]=Nn,p[5]=Ot,p[6]=Mn,p[7]=0,p[8]=Bn,p[9]=Pn,p[10]=Dn,p[11]=0,p[12]=B[0]+kn-(nn*kn+Nn*tr+Bn*dn),p[13]=B[1]+tr-(Ht*kn+Ot*tr+Pn*dn),p[14]=B[2]+dn-(Xt*kn+Mn*tr+Dn*dn),p[15]=1,p}function St(p,H){var B=H[0],Ie=H[1],$e=H[2],ft=H[3],kt=B+B,jt=Ie+Ie,Ye=$e+$e,ct=B*kt,It=Ie*kt,Ke=Ie*jt,wt=$e*kt,rt=$e*jt,Ct=$e*Ye,mt=ft*kt,Vt=ft*jt,at=ft*Ye;return p[0]=1-Ke-Ct,p[1]=It+at,p[2]=wt-Vt,p[3]=0,p[4]=It-at,p[5]=1-ct-Ct,p[6]=rt+mt,p[7]=0,p[8]=wt+Vt,p[9]=rt-mt,p[10]=1-ct-Ke,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function Rn(p,H,B,Ie,$e,ft,kt){var jt=1/(B-H),Ye=1/($e-Ie),ct=1/(ft-kt);return p[0]=2*ft*jt,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=2*ft*Ye,p[6]=0,p[7]=0,p[8]=(B+H)*jt,p[9]=($e+Ie)*Ye,p[10]=(kt+ft)*ct,p[11]=-1,p[12]=0,p[13]=0,p[14]=kt*ft*2*ct,p[15]=0,p}function G(p,H,B,Ie,$e){var kt,ft=1/Math.tan(H/2);return p[0]=ft/B,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=ft,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,null!=$e&&$e!==1/0?(p[10]=($e+Ie)*(kt=1/(Ie-$e)),p[14]=2*$e*Ie*kt):(p[10]=-1,p[14]=-2*Ie),p}var ee=G;function De(p,H,B,Ie,$e){var kt,ft=1/Math.tan(H/2);return p[0]=ft/B,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=ft,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,null!=$e&&$e!==1/0?(p[10]=$e*(kt=1/(Ie-$e)),p[14]=$e*Ie*kt):(p[10]=-1,p[14]=-Ie),p}function Ge(p,H,B,Ie){var $e=Math.tan(H.upDegrees*Math.PI/180),ft=Math.tan(H.downDegrees*Math.PI/180),kt=Math.tan(H.leftDegrees*Math.PI/180),jt=Math.tan(H.rightDegrees*Math.PI/180),Ye=2/(kt+jt),ct=2/($e+ft);return p[0]=Ye,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=ct,p[6]=0,p[7]=0,p[8]=-(kt-jt)*Ye*.5,p[9]=($e-ft)*ct*.5,p[10]=Ie/(B-Ie),p[11]=-1,p[12]=0,p[13]=0,p[14]=Ie*B/(B-Ie),p[15]=0,p}function Ze(p,H,B,Ie,$e,ft,kt){var jt=1/(H-B),Ye=1/(Ie-$e),ct=1/(ft-kt);return p[0]=-2*jt,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*Ye,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*ct,p[11]=0,p[12]=(H+B)*jt,p[13]=($e+Ie)*Ye,p[14]=(kt+ft)*ct,p[15]=1,p}var ut=Ze;function bt(p,H,B,Ie,$e,ft,kt){var jt=1/(H-B),Ye=1/(Ie-$e),ct=1/(ft-kt);return p[0]=-2*jt,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*Ye,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=ct,p[11]=0,p[12]=(H+B)*jt,p[13]=($e+Ie)*Ye,p[14]=ft*ct,p[15]=1,p}function Dt(p,H,B,Ie){var $e,ft,kt,jt,Ye,ct,It,Ke,wt,rt,Ct=H[0],mt=H[1],Vt=H[2],at=Ie[0],We=Ie[1],ke=Ie[2],et=B[0],xt=B[1],Zt=B[2];return Math.abs(Ct-et)<r.p8&&Math.abs(mt-xt)<r.p8&&Math.abs(Vt-Zt)<r.p8?L(p):(It=Ct-et,Ke=mt-xt,wt=Vt-Zt,$e=We*(wt*=rt=1/Math.hypot(It,Ke,wt))-ke*(Ke*=rt),ft=ke*(It*=rt)-at*wt,kt=at*Ke-We*It,(rt=Math.hypot($e,ft,kt))?($e*=rt=1/rt,ft*=rt,kt*=rt):($e=0,ft=0,kt=0),jt=Ke*kt-wt*ft,Ye=wt*$e-It*kt,ct=It*ft-Ke*$e,(rt=Math.hypot(jt,Ye,ct))?(jt*=rt=1/rt,Ye*=rt,ct*=rt):(jt=0,Ye=0,ct=0),p[0]=$e,p[1]=jt,p[2]=It,p[3]=0,p[4]=ft,p[5]=Ye,p[6]=Ke,p[7]=0,p[8]=kt,p[9]=ct,p[10]=wt,p[11]=0,p[12]=-($e*Ct+ft*mt+kt*Vt),p[13]=-(jt*Ct+Ye*mt+ct*Vt),p[14]=-(It*Ct+Ke*mt+wt*Vt),p[15]=1,p)}function Le(p,H,B,Ie){var $e=H[0],ft=H[1],kt=H[2],jt=Ie[0],Ye=Ie[1],ct=Ie[2],It=$e-B[0],Ke=ft-B[1],wt=kt-B[2],rt=It*It+Ke*Ke+wt*wt;rt>0&&(It*=rt=1/Math.sqrt(rt),Ke*=rt,wt*=rt);var Ct=Ye*wt-ct*Ke,mt=ct*It-jt*wt,Vt=jt*Ke-Ye*It;return(rt=Ct*Ct+mt*mt+Vt*Vt)>0&&(Ct*=rt=1/Math.sqrt(rt),mt*=rt,Vt*=rt),p[0]=Ct,p[1]=mt,p[2]=Vt,p[3]=0,p[4]=Ke*Vt-wt*mt,p[5]=wt*Ct-It*Vt,p[6]=It*mt-Ke*Ct,p[7]=0,p[8]=It,p[9]=Ke,p[10]=wt,p[11]=0,p[12]=$e,p[13]=ft,p[14]=kt,p[15]=1,p}function Ae(p){return"mat4("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+", "+p[6]+", "+p[7]+", "+p[8]+", "+p[9]+", "+p[10]+", "+p[11]+", "+p[12]+", "+p[13]+", "+p[14]+", "+p[15]+")"}function se(p){return Math.hypot(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}function Me(p,H,B){return p[0]=H[0]+B[0],p[1]=H[1]+B[1],p[2]=H[2]+B[2],p[3]=H[3]+B[3],p[4]=H[4]+B[4],p[5]=H[5]+B[5],p[6]=H[6]+B[6],p[7]=H[7]+B[7],p[8]=H[8]+B[8],p[9]=H[9]+B[9],p[10]=H[10]+B[10],p[11]=H[11]+B[11],p[12]=H[12]+B[12],p[13]=H[13]+B[13],p[14]=H[14]+B[14],p[15]=H[15]+B[15],p}function Ee(p,H,B){return p[0]=H[0]-B[0],p[1]=H[1]-B[1],p[2]=H[2]-B[2],p[3]=H[3]-B[3],p[4]=H[4]-B[4],p[5]=H[5]-B[5],p[6]=H[6]-B[6],p[7]=H[7]-B[7],p[8]=H[8]-B[8],p[9]=H[9]-B[9],p[10]=H[10]-B[10],p[11]=H[11]-B[11],p[12]=H[12]-B[12],p[13]=H[13]-B[13],p[14]=H[14]-B[14],p[15]=H[15]-B[15],p}function C(p,H,B){return p[0]=H[0]*B,p[1]=H[1]*B,p[2]=H[2]*B,p[3]=H[3]*B,p[4]=H[4]*B,p[5]=H[5]*B,p[6]=H[6]*B,p[7]=H[7]*B,p[8]=H[8]*B,p[9]=H[9]*B,p[10]=H[10]*B,p[11]=H[11]*B,p[12]=H[12]*B,p[13]=H[13]*B,p[14]=H[14]*B,p[15]=H[15]*B,p}function T(p,H,B,Ie){return p[0]=H[0]+B[0]*Ie,p[1]=H[1]+B[1]*Ie,p[2]=H[2]+B[2]*Ie,p[3]=H[3]+B[3]*Ie,p[4]=H[4]+B[4]*Ie,p[5]=H[5]+B[5]*Ie,p[6]=H[6]+B[6]*Ie,p[7]=H[7]+B[7]*Ie,p[8]=H[8]+B[8]*Ie,p[9]=H[9]+B[9]*Ie,p[10]=H[10]+B[10]*Ie,p[11]=H[11]+B[11]*Ie,p[12]=H[12]+B[12]*Ie,p[13]=H[13]+B[13]*Ie,p[14]=H[14]+B[14]*Ie,p[15]=H[15]+B[15]*Ie,p}function J(p,H){return p[0]===H[0]&&p[1]===H[1]&&p[2]===H[2]&&p[3]===H[3]&&p[4]===H[4]&&p[5]===H[5]&&p[6]===H[6]&&p[7]===H[7]&&p[8]===H[8]&&p[9]===H[9]&&p[10]===H[10]&&p[11]===H[11]&&p[12]===H[12]&&p[13]===H[13]&&p[14]===H[14]&&p[15]===H[15]}function W(p,H){var B=p[0],Ie=p[1],$e=p[2],ft=p[3],kt=p[4],jt=p[5],Ye=p[6],ct=p[7],It=p[8],Ke=p[9],wt=p[10],rt=p[11],Ct=p[12],mt=p[13],Vt=p[14],at=p[15],We=H[0],ke=H[1],et=H[2],xt=H[3],Zt=H[4],vn=H[5],kn=H[6],tr=H[7],dn=H[8],nn=H[9],Ht=H[10],Xt=H[11],Nn=H[12],Ot=H[13],Mn=H[14],Bn=H[15];return Math.abs(B-We)<=r.p8*Math.max(1,Math.abs(B),Math.abs(We))&&Math.abs(Ie-ke)<=r.p8*Math.max(1,Math.abs(Ie),Math.abs(ke))&&Math.abs($e-et)<=r.p8*Math.max(1,Math.abs($e),Math.abs(et))&&Math.abs(ft-xt)<=r.p8*Math.max(1,Math.abs(ft),Math.abs(xt))&&Math.abs(kt-Zt)<=r.p8*Math.max(1,Math.abs(kt),Math.abs(Zt))&&Math.abs(jt-vn)<=r.p8*Math.max(1,Math.abs(jt),Math.abs(vn))&&Math.abs(Ye-kn)<=r.p8*Math.max(1,Math.abs(Ye),Math.abs(kn))&&Math.abs(ct-tr)<=r.p8*Math.max(1,Math.abs(ct),Math.abs(tr))&&Math.abs(It-dn)<=r.p8*Math.max(1,Math.abs(It),Math.abs(dn))&&Math.abs(Ke-nn)<=r.p8*Math.max(1,Math.abs(Ke),Math.abs(nn))&&Math.abs(wt-Ht)<=r.p8*Math.max(1,Math.abs(wt),Math.abs(Ht))&&Math.abs(rt-Xt)<=r.p8*Math.max(1,Math.abs(rt),Math.abs(Xt))&&Math.abs(Ct-Nn)<=r.p8*Math.max(1,Math.abs(Ct),Math.abs(Nn))&&Math.abs(mt-Ot)<=r.p8*Math.max(1,Math.abs(mt),Math.abs(Ot))&&Math.abs(Vt-Mn)<=r.p8*Math.max(1,Math.abs(Vt),Math.abs(Mn))&&Math.abs(at-Bn)<=r.p8*Math.max(1,Math.abs(at),Math.abs(Bn))}var ve=b,ne=Ee},9556:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{add:()=>Ve,calculateW:()=>A,clone:()=>ce,conjugate:()=>oe,copy:()=>Fe,create:()=>x,dot:()=>St,equals:()=>bt,exactEquals:()=>ut,exp:()=>ue,fromEuler:()=>K,fromMat3:()=>Ce,fromValues:()=>$,getAngle:()=>S,getAxisAngle:()=>F,identity:()=>d,invert:()=>Re,len:()=>ee,length:()=>G,lerp:()=>Rn,ln:()=>z,mul:()=>lt,multiply:()=>U,normalize:()=>Ze,pow:()=>X,random:()=>Z,rotateX:()=>O,rotateY:()=>b,rotateZ:()=>M,rotationTo:()=>Dt,scale:()=>pt,set:()=>je,setAxes:()=>Ae,setAxisAngle:()=>L,slerp:()=>re,sqlerp:()=>Le,sqrLen:()=>Ge,squaredLength:()=>De,str:()=>R});var r=w(9818),y=w(7928),u=w(38472),v=w(34525);function x(){var se=new r.tb(4);return r.tb!=Float32Array&&(se[0]=0,se[1]=0,se[2]=0),se[3]=1,se}function d(se){return se[0]=0,se[1]=0,se[2]=0,se[3]=1,se}function L(se,Me,Ee){Ee*=.5;var C=Math.sin(Ee);return se[0]=C*Me[0],se[1]=C*Me[1],se[2]=C*Me[2],se[3]=Math.cos(Ee),se}function F(se,Me){var Ee=2*Math.acos(Me[3]),C=Math.sin(Ee/2);return C>r.p8?(se[0]=Me[0]/C,se[1]=Me[1]/C,se[2]=Me[2]/C):(se[0]=1,se[1]=0,se[2]=0),Ee}function S(se,Me){var Ee=St(se,Me);return Math.acos(2*Ee*Ee-1)}function U(se,Me,Ee){var C=Me[0],T=Me[1],J=Me[2],W=Me[3],ve=Ee[0],ne=Ee[1],p=Ee[2],H=Ee[3];return se[0]=C*H+W*ve+T*p-J*ne,se[1]=T*H+W*ne+J*ve-C*p,se[2]=J*H+W*p+C*ne-T*ve,se[3]=W*H-C*ve-T*ne-J*p,se}function O(se,Me,Ee){Ee*=.5;var C=Me[0],T=Me[1],J=Me[2],W=Me[3],ve=Math.sin(Ee),ne=Math.cos(Ee);return se[0]=C*ne+W*ve,se[1]=T*ne+J*ve,se[2]=J*ne-T*ve,se[3]=W*ne-C*ve,se}function b(se,Me,Ee){Ee*=.5;var C=Me[0],T=Me[1],J=Me[2],W=Me[3],ve=Math.sin(Ee),ne=Math.cos(Ee);return se[0]=C*ne-J*ve,se[1]=T*ne+W*ve,se[2]=J*ne+C*ve,se[3]=W*ne-T*ve,se}function M(se,Me,Ee){Ee*=.5;var C=Me[0],T=Me[1],J=Me[2],W=Me[3],ve=Math.sin(Ee),ne=Math.cos(Ee);return se[0]=C*ne+T*ve,se[1]=T*ne-C*ve,se[2]=J*ne+W*ve,se[3]=W*ne-J*ve,se}function A(se,Me){var Ee=Me[0],C=Me[1],T=Me[2];return se[0]=Ee,se[1]=C,se[2]=T,se[3]=Math.sqrt(Math.abs(1-Ee*Ee-C*C-T*T)),se}function ue(se,Me){var Ee=Me[0],C=Me[1],T=Me[2],J=Me[3],W=Math.sqrt(Ee*Ee+C*C+T*T),ve=Math.exp(J),ne=W>0?ve*Math.sin(W)/W:0;return se[0]=Ee*ne,se[1]=C*ne,se[2]=T*ne,se[3]=ve*Math.cos(W),se}function z(se,Me){var Ee=Me[0],C=Me[1],T=Me[2],J=Me[3],W=Math.sqrt(Ee*Ee+C*C+T*T),ve=W>0?Math.atan2(W,J)/W:0;return se[0]=Ee*ve,se[1]=C*ve,se[2]=T*ve,se[3]=.5*Math.log(Ee*Ee+C*C+T*T+J*J),se}function X(se,Me,Ee){return z(se,Me),pt(se,se,Ee),ue(se,se),se}function re(se,Me,Ee,C){var Ie,$e,ft,kt,jt,T=Me[0],J=Me[1],W=Me[2],ve=Me[3],ne=Ee[0],p=Ee[1],H=Ee[2],B=Ee[3];return($e=T*ne+J*p+W*H+ve*B)<0&&($e=-$e,ne=-ne,p=-p,H=-H,B=-B),1-$e>r.p8?(Ie=Math.acos($e),ft=Math.sin(Ie),kt=Math.sin((1-C)*Ie)/ft,jt=Math.sin(C*Ie)/ft):(kt=1-C,jt=C),se[0]=kt*T+jt*ne,se[1]=kt*J+jt*p,se[2]=kt*W+jt*H,se[3]=kt*ve+jt*B,se}function Z(se){var Me=r.Ov(),Ee=r.Ov(),C=r.Ov(),T=Math.sqrt(1-Me),J=Math.sqrt(Me);return se[0]=T*Math.sin(2*Math.PI*Ee),se[1]=T*Math.cos(2*Math.PI*Ee),se[2]=J*Math.sin(2*Math.PI*C),se[3]=J*Math.cos(2*Math.PI*C),se}function Re(se,Me){var Ee=Me[0],C=Me[1],T=Me[2],J=Me[3],W=Ee*Ee+C*C+T*T+J*J,ve=W?1/W:0;return se[0]=-Ee*ve,se[1]=-C*ve,se[2]=-T*ve,se[3]=J*ve,se}function oe(se,Me){return se[0]=-Me[0],se[1]=-Me[1],se[2]=-Me[2],se[3]=Me[3],se}function Ce(se,Me){var C,Ee=Me[0]+Me[4]+Me[8];if(Ee>0)C=Math.sqrt(Ee+1),se[3]=.5*C,se[0]=(Me[5]-Me[7])*(C=.5/C),se[1]=(Me[6]-Me[2])*C,se[2]=(Me[1]-Me[3])*C;else{var T=0;Me[4]>Me[0]&&(T=1),Me[8]>Me[3*T+T]&&(T=2);var J=(T+1)%3,W=(T+2)%3;C=Math.sqrt(Me[3*T+T]-Me[3*J+J]-Me[3*W+W]+1),se[T]=.5*C,se[3]=(Me[3*J+W]-Me[3*W+J])*(C=.5/C),se[J]=(Me[3*J+T]+Me[3*T+J])*C,se[W]=(Me[3*W+T]+Me[3*T+W])*C}return se}function K(se,Me,Ee,C){var T=.5*Math.PI/180;Me*=T,Ee*=T,C*=T;var J=Math.sin(Me),W=Math.cos(Me),ve=Math.sin(Ee),ne=Math.cos(Ee),p=Math.sin(C),H=Math.cos(C);return se[0]=J*ne*H-W*ve*p,se[1]=W*ve*H+J*ne*p,se[2]=W*ne*p-J*ve*H,se[3]=W*ne*H+J*ve*p,se}function R(se){return"quat("+se[0]+", "+se[1]+", "+se[2]+", "+se[3]+")"}var se,Me,Ee,ce=v.clone,$=v.fromValues,Fe=v.copy,je=v.set,Ve=v.add,lt=U,pt=v.scale,St=v.dot,Rn=v.lerp,G=v.length,ee=G,De=v.squaredLength,Ge=De,Ze=v.normalize,ut=v.exactEquals,bt=v.equals,Dt=(se=u.create(),Me=u.fromValues(1,0,0),Ee=u.fromValues(0,1,0),function(C,T,J){var W=u.dot(T,J);return W<-.999999?(u.cross(se,Me,T),u.len(se)<1e-6&&u.cross(se,Ee,T),u.normalize(se,se),L(C,se,Math.PI),C):W>.999999?(C[0]=0,C[1]=0,C[2]=0,C[3]=1,C):(u.cross(se,T,J),C[0]=se[0],C[1]=se[1],C[2]=se[2],C[3]=1+W,Ze(C,C))}),Le=function(){var se=x(),Me=x();return function(Ee,C,T,J,W,ve){return re(se,C,W,ve),re(Me,T,J,ve),re(Ee,se,Me,2*ve*(1-ve)),Ee}}(),Ae=function(){var se=y.create();return function(Me,Ee,C,T){return se[0]=C[0],se[3]=C[1],se[6]=C[2],se[1]=T[0],se[4]=T[1],se[7]=T[2],se[2]=-Ee[0],se[5]=-Ee[1],se[8]=-Ee[2],Ze(Me,Ce(Me,se))}}()},30559:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{add:()=>L,angle:()=>G,ceil:()=>O,clone:()=>u,copy:()=>x,create:()=>y,cross:()=>$,dist:()=>Ae,distance:()=>re,div:()=>Le,divide:()=>U,dot:()=>ce,equals:()=>Ze,exactEquals:()=>Ge,floor:()=>b,forEach:()=>Ee,fromValues:()=>v,inverse:()=>K,len:()=>ut,length:()=>Re,lerp:()=>Fe,max:()=>A,min:()=>M,mul:()=>Dt,multiply:()=>S,negate:()=>Ce,normalize:()=>R,random:()=>je,rotate:()=>Rn,round:()=>ue,scale:()=>z,scaleAndAdd:()=>X,set:()=>d,sqrDist:()=>se,sqrLen:()=>Me,squaredDistance:()=>Z,squaredLength:()=>oe,str:()=>De,sub:()=>bt,subtract:()=>F,transformMat2:()=>Ve,transformMat2d:()=>lt,transformMat3:()=>pt,transformMat4:()=>St,zero:()=>ee});var r=w(9818);function y(){var C=new r.tb(2);return r.tb!=Float32Array&&(C[0]=0,C[1]=0),C}function u(C){var T=new r.tb(2);return T[0]=C[0],T[1]=C[1],T}function v(C,T){var J=new r.tb(2);return J[0]=C,J[1]=T,J}function x(C,T){return C[0]=T[0],C[1]=T[1],C}function d(C,T,J){return C[0]=T,C[1]=J,C}function L(C,T,J){return C[0]=T[0]+J[0],C[1]=T[1]+J[1],C}function F(C,T,J){return C[0]=T[0]-J[0],C[1]=T[1]-J[1],C}function S(C,T,J){return C[0]=T[0]*J[0],C[1]=T[1]*J[1],C}function U(C,T,J){return C[0]=T[0]/J[0],C[1]=T[1]/J[1],C}function O(C,T){return C[0]=Math.ceil(T[0]),C[1]=Math.ceil(T[1]),C}function b(C,T){return C[0]=Math.floor(T[0]),C[1]=Math.floor(T[1]),C}function M(C,T,J){return C[0]=Math.min(T[0],J[0]),C[1]=Math.min(T[1],J[1]),C}function A(C,T,J){return C[0]=Math.max(T[0],J[0]),C[1]=Math.max(T[1],J[1]),C}function ue(C,T){return C[0]=Math.round(T[0]),C[1]=Math.round(T[1]),C}function z(C,T,J){return C[0]=T[0]*J,C[1]=T[1]*J,C}function X(C,T,J,W){return C[0]=T[0]+J[0]*W,C[1]=T[1]+J[1]*W,C}function re(C,T){return Math.hypot(T[0]-C[0],T[1]-C[1])}function Z(C,T){var J=T[0]-C[0],W=T[1]-C[1];return J*J+W*W}function Re(C){return Math.hypot(C[0],C[1])}function oe(C){var T=C[0],J=C[1];return T*T+J*J}function Ce(C,T){return C[0]=-T[0],C[1]=-T[1],C}function K(C,T){return C[0]=1/T[0],C[1]=1/T[1],C}function R(C,T){var J=T[0],W=T[1],ve=J*J+W*W;return ve>0&&(ve=1/Math.sqrt(ve)),C[0]=T[0]*ve,C[1]=T[1]*ve,C}function ce(C,T){return C[0]*T[0]+C[1]*T[1]}function $(C,T,J){var W=T[0]*J[1]-T[1]*J[0];return C[0]=C[1]=0,C[2]=W,C}function Fe(C,T,J,W){var ve=T[0],ne=T[1];return C[0]=ve+W*(J[0]-ve),C[1]=ne+W*(J[1]-ne),C}function je(C,T){T=T||1;var J=2*r.Ov()*Math.PI;return C[0]=Math.cos(J)*T,C[1]=Math.sin(J)*T,C}function Ve(C,T,J){var W=T[0],ve=T[1];return C[0]=J[0]*W+J[2]*ve,C[1]=J[1]*W+J[3]*ve,C}function lt(C,T,J){var W=T[0],ve=T[1];return C[0]=J[0]*W+J[2]*ve+J[4],C[1]=J[1]*W+J[3]*ve+J[5],C}function pt(C,T,J){var W=T[0],ve=T[1];return C[0]=J[0]*W+J[3]*ve+J[6],C[1]=J[1]*W+J[4]*ve+J[7],C}function St(C,T,J){var W=T[0],ve=T[1];return C[0]=J[0]*W+J[4]*ve+J[12],C[1]=J[1]*W+J[5]*ve+J[13],C}function Rn(C,T,J,W){var ve=T[0]-J[0],ne=T[1]-J[1],p=Math.sin(W),H=Math.cos(W);return C[0]=ve*H-ne*p+J[0],C[1]=ve*p+ne*H+J[1],C}function G(C,T){var J=C[0],W=C[1],ve=T[0],ne=T[1],p=Math.sqrt(J*J+W*W)*Math.sqrt(ve*ve+ne*ne);return Math.acos(Math.min(Math.max(p&&(J*ve+W*ne)/p,-1),1))}function ee(C){return C[0]=0,C[1]=0,C}function De(C){return"vec2("+C[0]+", "+C[1]+")"}function Ge(C,T){return C[0]===T[0]&&C[1]===T[1]}function Ze(C,T){var J=C[0],W=C[1],ve=T[0],ne=T[1];return Math.abs(J-ve)<=r.p8*Math.max(1,Math.abs(J),Math.abs(ve))&&Math.abs(W-ne)<=r.p8*Math.max(1,Math.abs(W),Math.abs(ne))}var C,ut=Re,bt=F,Dt=S,Le=U,Ae=re,se=Z,Me=oe,Ee=(C=y(),function(T,J,W,ve,ne,p){var H,B;for(J||(J=2),W||(W=0),B=ve?Math.min(ve*J+W,T.length):T.length,H=W;H<B;H+=J)C[0]=T[H],C[1]=T[H+1],ne(C,C,p),T[H]=C[0],T[H+1]=C[1];return T})},38472:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{add:()=>F,angle:()=>Ge,bezier:()=>Ve,ceil:()=>b,clone:()=>u,copy:()=>d,create:()=>y,cross:()=>$,dist:()=>Me,distance:()=>Z,div:()=>se,divide:()=>O,dot:()=>ce,equals:()=>Dt,exactEquals:()=>bt,floor:()=>M,forEach:()=>J,fromValues:()=>x,hermite:()=>je,inverse:()=>K,len:()=>C,length:()=>v,lerp:()=>Fe,max:()=>ue,min:()=>A,mul:()=>Ae,multiply:()=>U,negate:()=>Ce,normalize:()=>R,random:()=>lt,rotateX:()=>G,rotateY:()=>ee,rotateZ:()=>De,round:()=>z,scale:()=>X,scaleAndAdd:()=>re,set:()=>L,sqrDist:()=>Ee,sqrLen:()=>T,squaredDistance:()=>Re,squaredLength:()=>oe,str:()=>ut,sub:()=>Le,subtract:()=>S,transformMat3:()=>St,transformMat4:()=>pt,transformQuat:()=>Rn,zero:()=>Ze});var r=w(9818);function y(){var W=new r.tb(3);return r.tb!=Float32Array&&(W[0]=0,W[1]=0,W[2]=0),W}function u(W){var ve=new r.tb(3);return ve[0]=W[0],ve[1]=W[1],ve[2]=W[2],ve}function v(W){return Math.hypot(W[0],W[1],W[2])}function x(W,ve,ne){var p=new r.tb(3);return p[0]=W,p[1]=ve,p[2]=ne,p}function d(W,ve){return W[0]=ve[0],W[1]=ve[1],W[2]=ve[2],W}function L(W,ve,ne,p){return W[0]=ve,W[1]=ne,W[2]=p,W}function F(W,ve,ne){return W[0]=ve[0]+ne[0],W[1]=ve[1]+ne[1],W[2]=ve[2]+ne[2],W}function S(W,ve,ne){return W[0]=ve[0]-ne[0],W[1]=ve[1]-ne[1],W[2]=ve[2]-ne[2],W}function U(W,ve,ne){return W[0]=ve[0]*ne[0],W[1]=ve[1]*ne[1],W[2]=ve[2]*ne[2],W}function O(W,ve,ne){return W[0]=ve[0]/ne[0],W[1]=ve[1]/ne[1],W[2]=ve[2]/ne[2],W}function b(W,ve){return W[0]=Math.ceil(ve[0]),W[1]=Math.ceil(ve[1]),W[2]=Math.ceil(ve[2]),W}function M(W,ve){return W[0]=Math.floor(ve[0]),W[1]=Math.floor(ve[1]),W[2]=Math.floor(ve[2]),W}function A(W,ve,ne){return W[0]=Math.min(ve[0],ne[0]),W[1]=Math.min(ve[1],ne[1]),W[2]=Math.min(ve[2],ne[2]),W}function ue(W,ve,ne){return W[0]=Math.max(ve[0],ne[0]),W[1]=Math.max(ve[1],ne[1]),W[2]=Math.max(ve[2],ne[2]),W}function z(W,ve){return W[0]=Math.round(ve[0]),W[1]=Math.round(ve[1]),W[2]=Math.round(ve[2]),W}function X(W,ve,ne){return W[0]=ve[0]*ne,W[1]=ve[1]*ne,W[2]=ve[2]*ne,W}function re(W,ve,ne,p){return W[0]=ve[0]+ne[0]*p,W[1]=ve[1]+ne[1]*p,W[2]=ve[2]+ne[2]*p,W}function Z(W,ve){return Math.hypot(ve[0]-W[0],ve[1]-W[1],ve[2]-W[2])}function Re(W,ve){var ne=ve[0]-W[0],p=ve[1]-W[1],H=ve[2]-W[2];return ne*ne+p*p+H*H}function oe(W){var ve=W[0],ne=W[1],p=W[2];return ve*ve+ne*ne+p*p}function Ce(W,ve){return W[0]=-ve[0],W[1]=-ve[1],W[2]=-ve[2],W}function K(W,ve){return W[0]=1/ve[0],W[1]=1/ve[1],W[2]=1/ve[2],W}function R(W,ve){var ne=ve[0],p=ve[1],H=ve[2],B=ne*ne+p*p+H*H;return B>0&&(B=1/Math.sqrt(B)),W[0]=ve[0]*B,W[1]=ve[1]*B,W[2]=ve[2]*B,W}function ce(W,ve){return W[0]*ve[0]+W[1]*ve[1]+W[2]*ve[2]}function $(W,ve,ne){var p=ve[0],H=ve[1],B=ve[2],Ie=ne[0],$e=ne[1],ft=ne[2];return W[0]=H*ft-B*$e,W[1]=B*Ie-p*ft,W[2]=p*$e-H*Ie,W}function Fe(W,ve,ne,p){var H=ve[0],B=ve[1],Ie=ve[2];return W[0]=H+p*(ne[0]-H),W[1]=B+p*(ne[1]-B),W[2]=Ie+p*(ne[2]-Ie),W}function je(W,ve,ne,p,H,B){var Ie=B*B,$e=Ie*(2*B-3)+1,ft=Ie*(B-2)+B,kt=Ie*(B-1),jt=Ie*(3-2*B);return W[0]=ve[0]*$e+ne[0]*ft+p[0]*kt+H[0]*jt,W[1]=ve[1]*$e+ne[1]*ft+p[1]*kt+H[1]*jt,W[2]=ve[2]*$e+ne[2]*ft+p[2]*kt+H[2]*jt,W}function Ve(W,ve,ne,p,H,B){var Ie=1-B,$e=Ie*Ie,ft=B*B,kt=$e*Ie,jt=3*B*$e,Ye=3*ft*Ie,ct=ft*B;return W[0]=ve[0]*kt+ne[0]*jt+p[0]*Ye+H[0]*ct,W[1]=ve[1]*kt+ne[1]*jt+p[1]*Ye+H[1]*ct,W[2]=ve[2]*kt+ne[2]*jt+p[2]*Ye+H[2]*ct,W}function lt(W,ve){ve=ve||1;var ne=2*r.Ov()*Math.PI,p=2*r.Ov()-1,H=Math.sqrt(1-p*p)*ve;return W[0]=Math.cos(ne)*H,W[1]=Math.sin(ne)*H,W[2]=p*ve,W}function pt(W,ve,ne){var p=ve[0],H=ve[1],B=ve[2],Ie=ne[3]*p+ne[7]*H+ne[11]*B+ne[15];return W[0]=(ne[0]*p+ne[4]*H+ne[8]*B+ne[12])/(Ie=Ie||1),W[1]=(ne[1]*p+ne[5]*H+ne[9]*B+ne[13])/Ie,W[2]=(ne[2]*p+ne[6]*H+ne[10]*B+ne[14])/Ie,W}function St(W,ve,ne){var p=ve[0],H=ve[1],B=ve[2];return W[0]=p*ne[0]+H*ne[3]+B*ne[6],W[1]=p*ne[1]+H*ne[4]+B*ne[7],W[2]=p*ne[2]+H*ne[5]+B*ne[8],W}function Rn(W,ve,ne){var p=ne[0],H=ne[1],B=ne[2],$e=ve[0],ft=ve[1],kt=ve[2],jt=H*kt-B*ft,Ye=B*$e-p*kt,ct=p*ft-H*$e,It=H*ct-B*Ye,Ke=B*jt-p*ct,wt=p*Ye-H*jt,rt=2*ne[3];return Ye*=rt,ct*=rt,Ke*=2,wt*=2,W[0]=$e+(jt*=rt)+(It*=2),W[1]=ft+Ye+Ke,W[2]=kt+ct+wt,W}function G(W,ve,ne,p){var H=[],B=[];return H[0]=ve[0]-ne[0],H[1]=ve[1]-ne[1],H[2]=ve[2]-ne[2],B[0]=H[0],B[1]=H[1]*Math.cos(p)-H[2]*Math.sin(p),B[2]=H[1]*Math.sin(p)+H[2]*Math.cos(p),W[0]=B[0]+ne[0],W[1]=B[1]+ne[1],W[2]=B[2]+ne[2],W}function ee(W,ve,ne,p){var H=[],B=[];return H[0]=ve[0]-ne[0],H[1]=ve[1]-ne[1],H[2]=ve[2]-ne[2],B[0]=H[2]*Math.sin(p)+H[0]*Math.cos(p),B[1]=H[1],B[2]=H[2]*Math.cos(p)-H[0]*Math.sin(p),W[0]=B[0]+ne[0],W[1]=B[1]+ne[1],W[2]=B[2]+ne[2],W}function De(W,ve,ne,p){var H=[],B=[];return H[0]=ve[0]-ne[0],H[1]=ve[1]-ne[1],H[2]=ve[2]-ne[2],B[0]=H[0]*Math.cos(p)-H[1]*Math.sin(p),B[1]=H[0]*Math.sin(p)+H[1]*Math.cos(p),B[2]=H[2],W[0]=B[0]+ne[0],W[1]=B[1]+ne[1],W[2]=B[2]+ne[2],W}function Ge(W,ve){var ne=W[0],p=W[1],H=W[2],B=ve[0],Ie=ve[1],$e=ve[2],jt=Math.sqrt(ne*ne+p*p+H*H)*Math.sqrt(B*B+Ie*Ie+$e*$e),Ye=jt&&ce(W,ve)/jt;return Math.acos(Math.min(Math.max(Ye,-1),1))}function Ze(W){return W[0]=0,W[1]=0,W[2]=0,W}function ut(W){return"vec3("+W[0]+", "+W[1]+", "+W[2]+")"}function bt(W,ve){return W[0]===ve[0]&&W[1]===ve[1]&&W[2]===ve[2]}function Dt(W,ve){var ne=W[0],p=W[1],H=W[2],B=ve[0],Ie=ve[1],$e=ve[2];return Math.abs(ne-B)<=r.p8*Math.max(1,Math.abs(ne),Math.abs(B))&&Math.abs(p-Ie)<=r.p8*Math.max(1,Math.abs(p),Math.abs(Ie))&&Math.abs(H-$e)<=r.p8*Math.max(1,Math.abs(H),Math.abs($e))}var W,Le=S,Ae=U,se=O,Me=Z,Ee=Re,C=v,T=oe,J=(W=y(),function(ve,ne,p,H,B,Ie){var $e,ft;for(ne||(ne=3),p||(p=0),ft=H?Math.min(H*ne+p,ve.length):ve.length,$e=p;$e<ft;$e+=ne)W[0]=ve[$e],W[1]=ve[$e+1],W[2]=ve[$e+2],B(W,W,Ie),ve[$e]=W[0],ve[$e+1]=W[1],ve[$e+2]=W[2];return ve})},34525:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{add:()=>L,ceil:()=>O,clone:()=>u,copy:()=>x,create:()=>y,cross:()=>$,dist:()=>Ze,distance:()=>re,div:()=>Ge,divide:()=>U,dot:()=>ce,equals:()=>G,exactEquals:()=>Rn,floor:()=>b,forEach:()=>Le,fromValues:()=>v,inverse:()=>K,len:()=>bt,length:()=>Re,lerp:()=>Fe,max:()=>A,min:()=>M,mul:()=>De,multiply:()=>S,negate:()=>Ce,normalize:()=>R,random:()=>je,round:()=>ue,scale:()=>z,scaleAndAdd:()=>X,set:()=>d,sqrDist:()=>ut,sqrLen:()=>Dt,squaredDistance:()=>Z,squaredLength:()=>oe,str:()=>St,sub:()=>ee,subtract:()=>F,transformMat4:()=>Ve,transformQuat:()=>lt,zero:()=>pt});var r=w(9818);function y(){var Ae=new r.tb(4);return r.tb!=Float32Array&&(Ae[0]=0,Ae[1]=0,Ae[2]=0,Ae[3]=0),Ae}function u(Ae){var se=new r.tb(4);return se[0]=Ae[0],se[1]=Ae[1],se[2]=Ae[2],se[3]=Ae[3],se}function v(Ae,se,Me,Ee){var C=new r.tb(4);return C[0]=Ae,C[1]=se,C[2]=Me,C[3]=Ee,C}function x(Ae,se){return Ae[0]=se[0],Ae[1]=se[1],Ae[2]=se[2],Ae[3]=se[3],Ae}function d(Ae,se,Me,Ee,C){return Ae[0]=se,Ae[1]=Me,Ae[2]=Ee,Ae[3]=C,Ae}function L(Ae,se,Me){return Ae[0]=se[0]+Me[0],Ae[1]=se[1]+Me[1],Ae[2]=se[2]+Me[2],Ae[3]=se[3]+Me[3],Ae}function F(Ae,se,Me){return Ae[0]=se[0]-Me[0],Ae[1]=se[1]-Me[1],Ae[2]=se[2]-Me[2],Ae[3]=se[3]-Me[3],Ae}function S(Ae,se,Me){return Ae[0]=se[0]*Me[0],Ae[1]=se[1]*Me[1],Ae[2]=se[2]*Me[2],Ae[3]=se[3]*Me[3],Ae}function U(Ae,se,Me){return Ae[0]=se[0]/Me[0],Ae[1]=se[1]/Me[1],Ae[2]=se[2]/Me[2],Ae[3]=se[3]/Me[3],Ae}function O(Ae,se){return Ae[0]=Math.ceil(se[0]),Ae[1]=Math.ceil(se[1]),Ae[2]=Math.ceil(se[2]),Ae[3]=Math.ceil(se[3]),Ae}function b(Ae,se){return Ae[0]=Math.floor(se[0]),Ae[1]=Math.floor(se[1]),Ae[2]=Math.floor(se[2]),Ae[3]=Math.floor(se[3]),Ae}function M(Ae,se,Me){return Ae[0]=Math.min(se[0],Me[0]),Ae[1]=Math.min(se[1],Me[1]),Ae[2]=Math.min(se[2],Me[2]),Ae[3]=Math.min(se[3],Me[3]),Ae}function A(Ae,se,Me){return Ae[0]=Math.max(se[0],Me[0]),Ae[1]=Math.max(se[1],Me[1]),Ae[2]=Math.max(se[2],Me[2]),Ae[3]=Math.max(se[3],Me[3]),Ae}function ue(Ae,se){return Ae[0]=Math.round(se[0]),Ae[1]=Math.round(se[1]),Ae[2]=Math.round(se[2]),Ae[3]=Math.round(se[3]),Ae}function z(Ae,se,Me){return Ae[0]=se[0]*Me,Ae[1]=se[1]*Me,Ae[2]=se[2]*Me,Ae[3]=se[3]*Me,Ae}function X(Ae,se,Me,Ee){return Ae[0]=se[0]+Me[0]*Ee,Ae[1]=se[1]+Me[1]*Ee,Ae[2]=se[2]+Me[2]*Ee,Ae[3]=se[3]+Me[3]*Ee,Ae}function re(Ae,se){return Math.hypot(se[0]-Ae[0],se[1]-Ae[1],se[2]-Ae[2],se[3]-Ae[3])}function Z(Ae,se){var Me=se[0]-Ae[0],Ee=se[1]-Ae[1],C=se[2]-Ae[2],T=se[3]-Ae[3];return Me*Me+Ee*Ee+C*C+T*T}function Re(Ae){return Math.hypot(Ae[0],Ae[1],Ae[2],Ae[3])}function oe(Ae){var se=Ae[0],Me=Ae[1],Ee=Ae[2],C=Ae[3];return se*se+Me*Me+Ee*Ee+C*C}function Ce(Ae,se){return Ae[0]=-se[0],Ae[1]=-se[1],Ae[2]=-se[2],Ae[3]=-se[3],Ae}function K(Ae,se){return Ae[0]=1/se[0],Ae[1]=1/se[1],Ae[2]=1/se[2],Ae[3]=1/se[3],Ae}function R(Ae,se){var Me=se[0],Ee=se[1],C=se[2],T=se[3],J=Me*Me+Ee*Ee+C*C+T*T;return J>0&&(J=1/Math.sqrt(J)),Ae[0]=Me*J,Ae[1]=Ee*J,Ae[2]=C*J,Ae[3]=T*J,Ae}function ce(Ae,se){return Ae[0]*se[0]+Ae[1]*se[1]+Ae[2]*se[2]+Ae[3]*se[3]}function $(Ae,se,Me,Ee){var C=Me[0]*Ee[1]-Me[1]*Ee[0],T=Me[0]*Ee[2]-Me[2]*Ee[0],J=Me[0]*Ee[3]-Me[3]*Ee[0],W=Me[1]*Ee[2]-Me[2]*Ee[1],ve=Me[1]*Ee[3]-Me[3]*Ee[1],ne=Me[2]*Ee[3]-Me[3]*Ee[2],p=se[0],H=se[1],B=se[2],Ie=se[3];return Ae[0]=H*ne-B*ve+Ie*W,Ae[1]=-p*ne+B*J-Ie*T,Ae[2]=p*ve-H*J+Ie*C,Ae[3]=-p*W+H*T-B*C,Ae}function Fe(Ae,se,Me,Ee){var C=se[0],T=se[1],J=se[2],W=se[3];return Ae[0]=C+Ee*(Me[0]-C),Ae[1]=T+Ee*(Me[1]-T),Ae[2]=J+Ee*(Me[2]-J),Ae[3]=W+Ee*(Me[3]-W),Ae}function je(Ae,se){var Me,Ee,C,T,J,W;se=se||1;do{J=(Me=2*r.Ov()-1)*Me+(Ee=2*r.Ov()-1)*Ee}while(J>=1);do{W=(C=2*r.Ov()-1)*C+(T=2*r.Ov()-1)*T}while(W>=1);var ve=Math.sqrt((1-J)/W);return Ae[0]=se*Me,Ae[1]=se*Ee,Ae[2]=se*C*ve,Ae[3]=se*T*ve,Ae}function Ve(Ae,se,Me){var Ee=se[0],C=se[1],T=se[2],J=se[3];return Ae[0]=Me[0]*Ee+Me[4]*C+Me[8]*T+Me[12]*J,Ae[1]=Me[1]*Ee+Me[5]*C+Me[9]*T+Me[13]*J,Ae[2]=Me[2]*Ee+Me[6]*C+Me[10]*T+Me[14]*J,Ae[3]=Me[3]*Ee+Me[7]*C+Me[11]*T+Me[15]*J,Ae}function lt(Ae,se,Me){var Ee=se[0],C=se[1],T=se[2],J=Me[0],W=Me[1],ve=Me[2],ne=Me[3],p=ne*Ee+W*T-ve*C,H=ne*C+ve*Ee-J*T,B=ne*T+J*C-W*Ee,Ie=-J*Ee-W*C-ve*T;return Ae[0]=p*ne+Ie*-J+H*-ve-B*-W,Ae[1]=H*ne+Ie*-W+B*-J-p*-ve,Ae[2]=B*ne+Ie*-ve+p*-W-H*-J,Ae[3]=se[3],Ae}function pt(Ae){return Ae[0]=0,Ae[1]=0,Ae[2]=0,Ae[3]=0,Ae}function St(Ae){return"vec4("+Ae[0]+", "+Ae[1]+", "+Ae[2]+", "+Ae[3]+")"}function Rn(Ae,se){return Ae[0]===se[0]&&Ae[1]===se[1]&&Ae[2]===se[2]&&Ae[3]===se[3]}function G(Ae,se){var Me=Ae[0],Ee=Ae[1],C=Ae[2],T=Ae[3],J=se[0],W=se[1],ve=se[2],ne=se[3];return Math.abs(Me-J)<=r.p8*Math.max(1,Math.abs(Me),Math.abs(J))&&Math.abs(Ee-W)<=r.p8*Math.max(1,Math.abs(Ee),Math.abs(W))&&Math.abs(C-ve)<=r.p8*Math.max(1,Math.abs(C),Math.abs(ve))&&Math.abs(T-ne)<=r.p8*Math.max(1,Math.abs(T),Math.abs(ne))}var Ae,ee=F,De=S,Ge=U,Ze=re,ut=Z,bt=Re,Dt=oe,Le=(Ae=y(),function(se,Me,Ee,C,T,J){var W,ve;for(Me||(Me=4),Ee||(Ee=0),ve=C?Math.min(C*Me+Ee,se.length):se.length,W=Ee;W<ve;W+=Me)Ae[0]=se[W],Ae[1]=se[W+1],Ae[2]=se[W+2],Ae[3]=se[W+3],T(Ae,Ae,J),se[W]=Ae[0],se[W+1]=Ae[1],se[W+2]=Ae[2],se[W+3]=Ae[3];return se})},99234:(ln,ye,w)=>{"use strict";var y=w(89222)("%Object.getOwnPropertyDescriptor%",!0);if(y)try{y([],"length")}catch{y=null}ln.exports=y},28931:(ln,ye,w)=>{var r;!function(y,u,v,x){"use strict";var z,d=["","webkit","Moz","MS","ms","o"],L=u.createElement("div"),F="function",S=Math.round,U=Math.abs,O=Date.now;function b($t,Se,At){return setTimeout(Re($t,At),Se)}function M($t,Se,At){return!!Array.isArray($t)&&(A($t,At[Se],At),!0)}function A($t,Se,At){var en;if($t)if($t.forEach)$t.forEach(Se,At);else if($t.length!==x)for(en=0;en<$t.length;)Se.call(At,$t[en],en,$t),en++;else for(en in $t)$t.hasOwnProperty(en)&&Se.call(At,$t[en],en,$t)}function ue($t,Se,At){var en="DEPRECATED METHOD: "+Se+"\n"+At+" AT \n";return function(){var Sn=new Error("get-stack-trace"),ir=Sn&&Sn.stack?Sn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Vr=y.console&&(y.console.warn||y.console.log);return Vr&&Vr.call(y.console,en,ir),$t.apply(this,arguments)}}z="function"!=typeof Object.assign?function(Se){if(Se===x||null===Se)throw new TypeError("Cannot convert undefined or null to object");for(var At=Object(Se),en=1;en<arguments.length;en++){var Sn=arguments[en];if(Sn!==x&&null!==Sn)for(var ir in Sn)Sn.hasOwnProperty(ir)&&(At[ir]=Sn[ir])}return At}:Object.assign;var X=ue(function(Se,At,en){for(var Sn=Object.keys(At),ir=0;ir<Sn.length;)(!en||en&&Se[Sn[ir]]===x)&&(Se[Sn[ir]]=At[Sn[ir]]),ir++;return Se},"extend","Use `assign`."),re=ue(function(Se,At){return X(Se,At,!0)},"merge","Use `assign`.");function Z($t,Se,At){var Sn,en=Se.prototype;(Sn=$t.prototype=Object.create(en)).constructor=$t,Sn._super=en,At&&z(Sn,At)}function Re($t,Se){return function(){return $t.apply(Se,arguments)}}function oe($t,Se){return typeof $t==F?$t.apply(Se&&Se[0]||x,Se):$t}function Ce($t,Se){return $t===x?Se:$t}function K($t,Se,At){A(Fe(Se),function(en){$t.addEventListener(en,At,!1)})}function R($t,Se,At){A(Fe(Se),function(en){$t.removeEventListener(en,At,!1)})}function ce($t,Se){for(;$t;){if($t==Se)return!0;$t=$t.parentNode}return!1}function $($t,Se){return $t.indexOf(Se)>-1}function Fe($t){return $t.trim().split(/\s+/g)}function je($t,Se,At){if($t.indexOf&&!At)return $t.indexOf(Se);for(var en=0;en<$t.length;){if(At&&$t[en][At]==Se||!At&&$t[en]===Se)return en;en++}return-1}function Ve($t){return Array.prototype.slice.call($t,0)}function lt($t,Se,At){for(var en=[],Sn=[],ir=0;ir<$t.length;){var Vr=Se?$t[ir][Se]:$t[ir];je(Sn,Vr)<0&&en.push($t[ir]),Sn[ir]=Vr,ir++}return At&&(en=Se?en.sort(function(Wr,Gi){return Wr[Se]>Gi[Se]}):en.sort()),en}function pt($t,Se){for(var At,en,Sn=Se[0].toUpperCase()+Se.slice(1),ir=0;ir<d.length;){if((en=(At=d[ir])?At+Sn:Se)in $t)return en;ir++}return x}var St=1;function G($t){var Se=$t.ownerDocument||$t;return Se.defaultView||Se.parentWindow||y}var De="ontouchstart"in y,Ge=pt(y,"PointerEvent")!==x,Ze=De&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ut="touch",Dt="mouse",Ae=25,se=1,Ee=4,C=8,T=1,J=2,W=4,ve=8,ne=16,p=J|W,H=ve|ne,B=p|H,Ie=["x","y"],$e=["clientX","clientY"];function ft($t,Se){var At=this;this.manager=$t,this.callback=Se,this.element=$t.element,this.target=$t.options.inputTarget,this.domHandler=function(en){oe($t.options.enable,[$t])&&At.handler(en)},this.init()}function jt($t,Se,At){var en=At.pointers.length,Sn=At.changedPointers.length,ir=Se&se&&en-Sn==0,Vr=Se&(Ee|C)&&en-Sn==0;At.isFirst=!!ir,At.isFinal=!!Vr,ir&&($t.session={}),At.eventType=Se,function Ye($t,Se){var At=$t.session,en=Se.pointers,Sn=en.length;At.firstInput||(At.firstInput=Ke(Se)),Sn>1&&!At.firstMultiple?At.firstMultiple=Ke(Se):1===Sn&&(At.firstMultiple=!1);var ir=At.firstInput,Vr=At.firstMultiple,Oi=Vr?Vr.center:ir.center,Wr=Se.center=wt(en);Se.timeStamp=O(),Se.deltaTime=Se.timeStamp-ir.timeStamp,Se.angle=Vt(Oi,Wr),Se.distance=mt(Oi,Wr),function ct($t,Se){var At=Se.center,en=$t.offsetDelta||{},Sn=$t.prevDelta||{},ir=$t.prevInput||{};(Se.eventType===se||ir.eventType===Ee)&&(Sn=$t.prevDelta={x:ir.deltaX||0,y:ir.deltaY||0},en=$t.offsetDelta={x:At.x,y:At.y}),Se.deltaX=Sn.x+(At.x-en.x),Se.deltaY=Sn.y+(At.y-en.y)}(At,Se),Se.offsetDirection=Ct(Se.deltaX,Se.deltaY);var Gi=rt(Se.deltaTime,Se.deltaX,Se.deltaY);Se.overallVelocityX=Gi.x,Se.overallVelocityY=Gi.y,Se.overallVelocity=U(Gi.x)>U(Gi.y)?Gi.x:Gi.y,Se.scale=Vr?function We($t,Se){return mt(Se[0],Se[1],$e)/mt($t[0],$t[1],$e)}(Vr.pointers,en):1,Se.rotation=Vr?function at($t,Se){return Vt(Se[1],Se[0],$e)+Vt($t[1],$t[0],$e)}(Vr.pointers,en):0,Se.maxPointers=At.prevInput?Se.pointers.length>At.prevInput.maxPointers?Se.pointers.length:At.prevInput.maxPointers:Se.pointers.length,function It($t,Se){var Sn,ir,Vr,Oi,At=$t.lastInterval||Se,en=Se.timeStamp-At.timeStamp;if(Se.eventType!=C&&(en>Ae||At.velocity===x)){var Wr=Se.deltaX-At.deltaX,Gi=Se.deltaY-At.deltaY,Ro=rt(en,Wr,Gi);ir=Ro.x,Vr=Ro.y,Sn=U(Ro.x)>U(Ro.y)?Ro.x:Ro.y,Oi=Ct(Wr,Gi),$t.lastInterval=Se}else Sn=At.velocity,ir=At.velocityX,Vr=At.velocityY,Oi=At.direction;Se.velocity=Sn,Se.velocityX=ir,Se.velocityY=Vr,Se.direction=Oi}(At,Se);var Ro=$t.element;ce(Se.srcEvent.target,Ro)&&(Ro=Se.srcEvent.target),Se.target=Ro}($t,At),$t.emit("hammer.input",At),$t.recognize(At),$t.session.prevInput=At}function Ke($t){for(var Se=[],At=0;At<$t.pointers.length;)Se[At]={clientX:S($t.pointers[At].clientX),clientY:S($t.pointers[At].clientY)},At++;return{timeStamp:O(),pointers:Se,center:wt(Se),deltaX:$t.deltaX,deltaY:$t.deltaY}}function wt($t){var Se=$t.length;if(1===Se)return{x:S($t[0].clientX),y:S($t[0].clientY)};for(var At=0,en=0,Sn=0;Sn<Se;)At+=$t[Sn].clientX,en+=$t[Sn].clientY,Sn++;return{x:S(At/Se),y:S(en/Se)}}function rt($t,Se,At){return{x:Se/$t||0,y:At/$t||0}}function Ct($t,Se){return $t===Se?T:U($t)>=U(Se)?$t<0?J:W:Se<0?ve:ne}function mt($t,Se,At){At||(At=Ie);var en=Se[At[0]]-$t[At[0]],Sn=Se[At[1]]-$t[At[1]];return Math.sqrt(en*en+Sn*Sn)}function Vt($t,Se,At){return At||(At=Ie),180*Math.atan2(Se[At[1]]-$t[At[1]],Se[At[0]]-$t[At[0]])/Math.PI}ft.prototype={handler:function(){},init:function(){this.evEl&&K(this.element,this.evEl,this.domHandler),this.evTarget&&K(this.target,this.evTarget,this.domHandler),this.evWin&&K(G(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(G(this.element),this.evWin,this.domHandler)}};var ke={mousedown:se,mousemove:2,mouseup:Ee},et="mousedown",xt="mousemove mouseup";function Zt(){this.evEl=et,this.evWin=xt,this.pressed=!1,ft.apply(this,arguments)}Z(Zt,ft,{handler:function(Se){var At=ke[Se.type];At&se&&0===Se.button&&(this.pressed=!0),2&At&&1!==Se.which&&(At=Ee),this.pressed&&(At&Ee&&(this.pressed=!1),this.callback(this.manager,At,{pointers:[Se],changedPointers:[Se],pointerType:Dt,srcEvent:Se}))}});var vn={pointerdown:se,pointermove:2,pointerup:Ee,pointercancel:C,pointerout:C},kn={2:ut,3:"pen",4:Dt,5:"kinect"},tr="pointerdown",dn="pointermove pointerup pointercancel";function nn(){this.evEl=tr,this.evWin=dn,ft.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y.MSPointerEvent&&!y.PointerEvent&&(tr="MSPointerDown",dn="MSPointerMove MSPointerUp MSPointerCancel"),Z(nn,ft,{handler:function(Se){var At=this.store,en=!1,Sn=Se.type.toLowerCase().replace("ms",""),ir=vn[Sn],Vr=kn[Se.pointerType]||Se.pointerType,Oi=Vr==ut,Wr=je(At,Se.pointerId,"pointerId");ir&se&&(0===Se.button||Oi)?Wr<0&&(At.push(Se),Wr=At.length-1):ir&(Ee|C)&&(en=!0),!(Wr<0)&&(At[Wr]=Se,this.callback(this.manager,ir,{pointers:At,changedPointers:[Se],pointerType:Vr,srcEvent:Se}),en&&At.splice(Wr,1))}});var Ht={touchstart:se,touchmove:2,touchend:Ee,touchcancel:C};function Ot(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,ft.apply(this,arguments)}function Mn($t,Se){var At=Ve($t.touches),en=Ve($t.changedTouches);return Se&(Ee|C)&&(At=lt(At.concat(en),"identifier",!0)),[At,en]}Z(Ot,ft,{handler:function(Se){var At=Ht[Se.type];if(At===se&&(this.started=!0),this.started){var en=Mn.call(this,Se,At);At&(Ee|C)&&en[0].length-en[1].length==0&&(this.started=!1),this.callback(this.manager,At,{pointers:en[0],changedPointers:en[1],pointerType:ut,srcEvent:Se})}}});var Bn={touchstart:se,touchmove:2,touchend:Ee,touchcancel:C},Pn="touchstart touchmove touchend touchcancel";function Dn(){this.evTarget=Pn,this.targetIds={},ft.apply(this,arguments)}function tn($t,Se){var At=Ve($t.touches),en=this.targetIds;if(Se&(2|se)&&1===At.length)return en[At[0].identifier]=!0,[At,At];var Sn,ir,Vr=Ve($t.changedTouches),Oi=[],Wr=this.target;if(ir=At.filter(function(Gi){return ce(Gi.target,Wr)}),Se===se)for(Sn=0;Sn<ir.length;)en[ir[Sn].identifier]=!0,Sn++;for(Sn=0;Sn<Vr.length;)en[Vr[Sn].identifier]&&Oi.push(Vr[Sn]),Se&(Ee|C)&&delete en[Vr[Sn].identifier],Sn++;return Oi.length?[lt(ir.concat(Oi),"identifier",!0),Oi]:void 0}Z(Dn,ft,{handler:function(Se){var At=Bn[Se.type],en=tn.call(this,Se,At);en&&this.callback(this.manager,At,{pointers:en[0],changedPointers:en[1],pointerType:ut,srcEvent:Se})}});var bn=2500;function _e(){ft.apply(this,arguments);var $t=Re(this.handler,this);this.touch=new Dn(this.manager,$t),this.mouse=new Zt(this.manager,$t),this.primaryTouch=null,this.lastTouches=[]}function he($t,Se){$t&se?(this.primaryTouch=Se.changedPointers[0].identifier,Be.call(this,Se)):$t&(Ee|C)&&Be.call(this,Se)}function Be($t){var Se=$t.changedPointers[0];if(Se.identifier===this.primaryTouch){var At={x:Se.clientX,y:Se.clientY};this.lastTouches.push(At);var en=this.lastTouches;setTimeout(function(){var ir=en.indexOf(At);ir>-1&&en.splice(ir,1)},bn)}}function ht($t){for(var Se=$t.srcEvent.clientX,At=$t.srcEvent.clientY,en=0;en<this.lastTouches.length;en++){var Sn=this.lastTouches[en],ir=Math.abs(Se-Sn.x),Vr=Math.abs(At-Sn.y);if(ir<=25&&Vr<=25)return!0}return!1}Z(_e,ft,{handler:function(Se,At,en){var ir=en.pointerType==Dt;if(!(ir&&en.sourceCapabilities&&en.sourceCapabilities.firesTouchEvents)){if(en.pointerType==ut)he.call(this,At,en);else if(ir&&ht.call(this,en))return;this.callback(Se,At,en)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var zt=pt(L.style,"touchAction"),on=zt!==x,Hn="compute",Ir="manipulation",ti="none",Yr="pan-x",Ki="pan-y",mi=function Ei(){if(!on)return!1;var $t={},Se=y.CSS&&y.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(At){$t[At]=!Se||y.CSS.supports("touch-action",At)}),$t}();function er($t,Se){this.manager=$t,this.set(Se)}er.prototype={set:function($t){$t==Hn&&($t=this.compute()),on&&this.manager.element.style&&mi[$t]&&(this.manager.element.style[zt]=$t),this.actions=$t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var $t=[];return A(this.manager.recognizers,function(Se){oe(Se.options.enable,[Se])&&($t=$t.concat(Se.getTouchAction()))}),function ur($t){if($($t,ti))return ti;var Se=$($t,Yr),At=$($t,Ki);return Se&&At?ti:Se||At?Se?Yr:Ki:$($t,Ir)?Ir:"auto"}($t.join(" "))},preventDefaults:function($t){var Se=$t.srcEvent,At=$t.offsetDirection;if(!this.manager.session.prevented){var en=this.actions,Sn=$(en,ti)&&!mi[ti],ir=$(en,Ki)&&!mi[Ki],Vr=$(en,Yr)&&!mi[Yr];if(Sn&&1===$t.pointers.length&&$t.distance<2&&$t.deltaTime<250)return;return Vr&&ir||!(Sn||ir&&At&p||Vr&&At&H)?void 0:this.preventSrc(Se)}Se.preventDefault()},preventSrc:function($t){this.manager.session.prevented=!0,$t.preventDefault()}};var Ni=1;function Mt($t){this.options=z({},this.defaults,$t||{}),this.id=function Rn(){return St++}(),this.manager=null,this.options.enable=Ce(this.options.enable,!0),this.state=Ni,this.simultaneous={},this.requireFail=[]}function te($t){return 16&$t?"cancel":8&$t?"end":4&$t?"move":2&$t?"start":""}function ze($t){return $t==ne?"down":$t==ve?"up":$t==J?"left":$t==W?"right":""}function Yt($t,Se){var At=Se.manager;return At?At.get($t):$t}function An(){Mt.apply(this,arguments)}function Kn(){An.apply(this,arguments),this.pX=null,this.pY=null}function sr(){An.apply(this,arguments)}function Pr(){Mt.apply(this,arguments),this._timer=null,this._input=null}function Sr(){An.apply(this,arguments)}function Ur(){An.apply(this,arguments)}function ri(){Mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ri($t,Se){return(Se=Se||{}).recognizers=Ce(Se.recognizers,Ri.defaults.preset),new Yi($t,Se)}function Yi($t,Se){this.options=z({},Ri.defaults,Se||{}),this.options.inputTarget=this.options.inputTarget||$t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$t,this.input=function kt($t){return new($t.options.inputClass||(Ge?nn:Ze?Dn:De?_e:Zt))($t,jt)}(this),this.touchAction=new er(this,this.options.touchAction),no(this,!0),A(this.options.recognizers,function(At){var en=this.add(new At[0](At[1]));At[2]&&en.recognizeWith(At[2]),At[3]&&en.requireFailure(At[3])},this)}function no($t,Se){var en,At=$t.element;At.style&&(A($t.options.cssProps,function(Sn,ir){en=pt(At.style,ir),Se?($t.oldCssProps[en]=At.style[en],At.style[en]=Sn):At.style[en]=$t.oldCssProps[en]||""}),Se||($t.oldCssProps={}))}Mt.prototype={defaults:{},set:function($t){return z(this.options,$t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function($t){if(M($t,"recognizeWith",this))return this;var Se=this.simultaneous;return Se[($t=Yt($t,this)).id]||(Se[$t.id]=$t,$t.recognizeWith(this)),this},dropRecognizeWith:function($t){return M($t,"dropRecognizeWith",this)||($t=Yt($t,this),delete this.simultaneous[$t.id]),this},requireFailure:function($t){if(M($t,"requireFailure",this))return this;var Se=this.requireFail;return-1===je(Se,$t=Yt($t,this))&&(Se.push($t),$t.requireFailure(this)),this},dropRequireFailure:function($t){if(M($t,"dropRequireFailure",this))return this;$t=Yt($t,this);var Se=je(this.requireFail,$t);return Se>-1&&this.requireFail.splice(Se,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function($t){return!!this.simultaneous[$t.id]},emit:function($t){var Se=this,At=this.state;function en(Sn){Se.manager.emit(Sn,$t)}At<8&&en(Se.options.event+te(At)),en(Se.options.event),$t.additionalEvent&&en($t.additionalEvent),At>=8&&en(Se.options.event+te(At))},tryEmit:function($t){if(this.canEmit())return this.emit($t);this.state=32},canEmit:function(){for(var $t=0;$t<this.requireFail.length;){if(!(this.requireFail[$t].state&(32|Ni)))return!1;$t++}return!0},recognize:function($t){var Se=z({},$t);if(!oe(this.options.enable,[this,Se]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Ni),this.state=this.process(Se),30&this.state&&this.tryEmit(Se)},process:function($t){},getTouchAction:function(){},reset:function(){}},Z(An,Mt,{defaults:{pointers:1},attrTest:function($t){var Se=this.options.pointers;return 0===Se||$t.pointers.length===Se},process:function($t){var Se=this.state,At=$t.eventType,en=6&Se,Sn=this.attrTest($t);return en&&(At&C||!Sn)?16|Se:en||Sn?At&Ee?8|Se:2&Se?4|Se:2:32}}),Z(Kn,An,{defaults:{event:"pan",threshold:10,pointers:1,direction:B},getTouchAction:function(){var $t=this.options.direction,Se=[];return $t&p&&Se.push(Ki),$t&H&&Se.push(Yr),Se},directionTest:function($t){var Se=this.options,At=!0,en=$t.distance,Sn=$t.direction,ir=$t.deltaX,Vr=$t.deltaY;return Sn&Se.direction||(Se.direction&p?(Sn=0===ir?T:ir<0?J:W,At=ir!=this.pX,en=Math.abs($t.deltaX)):(Sn=0===Vr?T:Vr<0?ve:ne,At=Vr!=this.pY,en=Math.abs($t.deltaY))),$t.direction=Sn,At&&en>Se.threshold&&Sn&Se.direction},attrTest:function($t){return An.prototype.attrTest.call(this,$t)&&(2&this.state||!(2&this.state)&&this.directionTest($t))},emit:function($t){this.pX=$t.deltaX,this.pY=$t.deltaY;var Se=ze($t.direction);Se&&($t.additionalEvent=this.options.event+Se),this._super.emit.call(this,$t)}}),Z(sr,An,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ti]},attrTest:function($t){return this._super.attrTest.call(this,$t)&&(Math.abs($t.scale-1)>this.options.threshold||2&this.state)},emit:function($t){1!==$t.scale&&($t.additionalEvent=this.options.event+($t.scale<1?"in":"out")),this._super.emit.call(this,$t)}}),Z(Pr,Mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function($t){var Se=this.options,At=$t.pointers.length===Se.pointers,en=$t.distance<Se.threshold,Sn=$t.deltaTime>Se.time;if(this._input=$t,!en||!At||$t.eventType&(Ee|C)&&!Sn)this.reset();else if($t.eventType&se)this.reset(),this._timer=b(function(){this.state=8,this.tryEmit()},Se.time,this);else if($t.eventType&Ee)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function($t){8===this.state&&($t&&$t.eventType&Ee?this.manager.emit(this.options.event+"up",$t):(this._input.timeStamp=O(),this.manager.emit(this.options.event,this._input)))}}),Z(Sr,An,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ti]},attrTest:function($t){return this._super.attrTest.call(this,$t)&&(Math.abs($t.rotation)>this.options.threshold||2&this.state)}}),Z(Ur,An,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:p|H,pointers:1},getTouchAction:function(){return Kn.prototype.getTouchAction.call(this)},attrTest:function($t){var At,Se=this.options.direction;return Se&(p|H)?At=$t.overallVelocity:Se&p?At=$t.overallVelocityX:Se&H&&(At=$t.overallVelocityY),this._super.attrTest.call(this,$t)&&Se&$t.offsetDirection&&$t.distance>this.options.threshold&&$t.maxPointers==this.options.pointers&&U(At)>this.options.velocity&&$t.eventType&Ee},emit:function($t){var Se=ze($t.offsetDirection);Se&&this.manager.emit(this.options.event+Se,$t),this.manager.emit(this.options.event,$t)}}),Z(ri,Mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ir]},process:function($t){var Se=this.options,At=$t.pointers.length===Se.pointers,en=$t.distance<Se.threshold,Sn=$t.deltaTime<Se.time;if(this.reset(),$t.eventType&se&&0===this.count)return this.failTimeout();if(en&&Sn&&At){if($t.eventType!=Ee)return this.failTimeout();var ir=!this.pTime||$t.timeStamp-this.pTime<Se.interval,Vr=!this.pCenter||mt(this.pCenter,$t.center)<Se.posThreshold;if(this.pTime=$t.timeStamp,this.pCenter=$t.center,Vr&&ir?this.count+=1:this.count=1,this._input=$t,0==this.count%Se.taps)return this.hasRequireFailures()?(this._timer=b(function(){this.state=8,this.tryEmit()},Se.interval,this),2):8}return 32},failTimeout:function(){return this._timer=b(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ri.VERSION="2.0.7",Ri.defaults={domEvents:!1,touchAction:Hn,enable:!0,inputTarget:null,inputClass:null,preset:[[Sr,{enable:!1}],[sr,{enable:!1},["rotate"]],[Ur,{direction:p}],[Kn,{direction:p},["swipe"]],[ri],[ri,{event:"doubletap",taps:2},["tap"]],[Pr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Yi.prototype={set:function($t){return z(this.options,$t),$t.touchAction&&this.touchAction.update(),$t.inputTarget&&(this.input.destroy(),this.input.target=$t.inputTarget,this.input.init()),this},stop:function($t){this.session.stopped=$t?2:1},recognize:function($t){var Se=this.session;if(!Se.stopped){this.touchAction.preventDefaults($t);var At,en=this.recognizers,Sn=Se.curRecognizer;(!Sn||Sn&&8&Sn.state)&&(Sn=Se.curRecognizer=null);for(var ir=0;ir<en.length;)At=en[ir],2===Se.stopped||Sn&&At!=Sn&&!At.canRecognizeWith(Sn)?At.reset():At.recognize($t),!Sn&&14&At.state&&(Sn=Se.curRecognizer=At),ir++}},get:function($t){if($t instanceof Mt)return $t;for(var Se=this.recognizers,At=0;At<Se.length;At++)if(Se[At].options.event==$t)return Se[At];return null},add:function($t){if(M($t,"add",this))return this;var Se=this.get($t.options.event);return Se&&this.remove(Se),this.recognizers.push($t),$t.manager=this,this.touchAction.update(),$t},remove:function($t){if(M($t,"remove",this))return this;if($t=this.get($t)){var Se=this.recognizers,At=je(Se,$t);-1!==At&&(Se.splice(At,1),this.touchAction.update())}return this},on:function($t,Se){if($t!==x&&Se!==x){var At=this.handlers;return A(Fe($t),function(en){At[en]=At[en]||[],At[en].push(Se)}),this}},off:function($t,Se){if($t!==x){var At=this.handlers;return A(Fe($t),function(en){Se?At[en]&&At[en].splice(je(At[en],Se),1):delete At[en]}),this}},emit:function($t,Se){this.options.domEvents&&function yo($t,Se){var At=u.createEvent("Event");At.initEvent($t,!0,!0),At.gesture=Se,Se.target.dispatchEvent(At)}($t,Se);var At=this.handlers[$t]&&this.handlers[$t].slice();if(At&&At.length){Se.type=$t,Se.preventDefault=function(){Se.srcEvent.preventDefault()};for(var en=0;en<At.length;)At[en](Se),en++}},destroy:function(){this.element&&no(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},z(Ri,{INPUT_START:se,INPUT_MOVE:2,INPUT_END:Ee,INPUT_CANCEL:C,STATE_POSSIBLE:Ni,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:T,DIRECTION_LEFT:J,DIRECTION_RIGHT:W,DIRECTION_UP:ve,DIRECTION_DOWN:ne,DIRECTION_HORIZONTAL:p,DIRECTION_VERTICAL:H,DIRECTION_ALL:B,Manager:Yi,Input:ft,TouchAction:er,TouchInput:Dn,MouseInput:Zt,PointerEventInput:nn,TouchMouseInput:_e,SingleTouchInput:Ot,Recognizer:Mt,AttrRecognizer:An,Tap:ri,Pan:Kn,Swipe:Ur,Pinch:sr,Rotate:Sr,Press:Pr,on:K,off:R,each:A,merge:re,extend:X,assign:z,inherit:Z,bindFn:Re,prefixed:pt}),(typeof y<"u"?y:typeof self<"u"?self:{}).Hammer=Ri,(r=function(){return Ri}.call(ye,w,ye,ln))!==x&&(ln.exports=r)}(window,document)},70401:(ln,ye,w)=>{"use strict";var r=w(82182),y=function(){return!!r};y.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch{return!0}},ln.exports=y},88003:ln=>{"use strict";var ye={__proto__:null,foo:{}},w=Object;ln.exports=function(){return{__proto__:ye}.foo===ye.foo&&!(ye instanceof w)}},17528:(ln,ye,w)=>{"use strict";var r=typeof Symbol<"u"&&Symbol,y=w(16138);ln.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&y()}},16138:ln=>{"use strict";ln.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var w={},r=Symbol("test"),y=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(y))return!1;for(r in w[r]=42,w)return!1;if("function"==typeof Object.keys&&0!==Object.keys(w).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(w).length)return!1;var v=Object.getOwnPropertySymbols(w);if(1!==v.length||v[0]!==r||!Object.prototype.propertyIsEnumerable.call(w,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var x=Object.getOwnPropertyDescriptor(w,r);if(42!==x.value||!0!==x.enumerable)return!1}return!0}},58252:(ln,ye,w)=>{"use strict";var r=Function.prototype.call,y=Object.prototype.hasOwnProperty,u=w(82988);ln.exports=u.call(r,y)},97953:(ln,ye)=>{var r;!function(){"use strict";var y=function(){this.init()};y.prototype={init:function(){var b=this||u;return b._counter=1e3,b._html5AudioPool=[],b.html5PoolSize=10,b._codecs={},b._howls=[],b._muted=!1,b._volume=1,b._canPlayEvent="canplaythrough",b._navigator=typeof window<"u"&&window.navigator?window.navigator:null,b.masterGain=null,b.noAudio=!1,b.usingWebAudio=!0,b.autoSuspend=!0,b.ctx=null,b.autoUnlock=!0,b._setup(),b},volume:function(b){var M=this||u;if(b=parseFloat(b),M.ctx||O(),typeof b<"u"&&b>=0&&b<=1){if(M._volume=b,M._muted)return M;M.usingWebAudio&&M.masterGain.gain.setValueAtTime(b,u.ctx.currentTime);for(var A=0;A<M._howls.length;A++)if(!M._howls[A]._webAudio)for(var ue=M._howls[A]._getSoundIds(),z=0;z<ue.length;z++){var X=M._howls[A]._soundById(ue[z]);X&&X._node&&(X._node.volume=X._volume*b)}return M}return M._volume},mute:function(b){var M=this||u;M.ctx||O(),M._muted=b,M.usingWebAudio&&M.masterGain.gain.setValueAtTime(b?0:M._volume,u.ctx.currentTime);for(var A=0;A<M._howls.length;A++)if(!M._howls[A]._webAudio)for(var ue=M._howls[A]._getSoundIds(),z=0;z<ue.length;z++){var X=M._howls[A]._soundById(ue[z]);X&&X._node&&(X._node.muted=!!b||X._muted)}return M},stop:function(){for(var b=this||u,M=0;M<b._howls.length;M++)b._howls[M].stop();return b},unload:function(){for(var b=this||u,M=b._howls.length-1;M>=0;M--)b._howls[M].unload();return b.usingWebAudio&&b.ctx&&typeof b.ctx.close<"u"&&(b.ctx.close(),b.ctx=null,O()),b},codecs:function(b){return(this||u)._codecs[b.replace(/^x-/,"")]},_setup:function(){var b=this||u;if(b.state=b.ctx&&b.ctx.state||"suspended",b._autoSuspend(),!b.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(b._canPlayEvent="canplay")}catch{b.noAudio=!0}else b.noAudio=!0;try{(new Audio).muted&&(b.noAudio=!0)}catch{}return b.noAudio||b._setupCodecs(),b},_setupCodecs:function(){var b=this||u,M=null;try{M=typeof Audio<"u"?new Audio:null}catch{return b}if(!M||"function"!=typeof M.canPlayType)return b;var A=M.canPlayType("audio/mpeg;").replace(/^no$/,""),ue=b._navigator?b._navigator.userAgent:"",z=ue.match(/OPR\/(\d+)/g),X=z&&parseInt(z[0].split("/")[1],10)<33,re=-1!==ue.indexOf("Safari")&&-1===ue.indexOf("Chrome"),Z=ue.match(/Version\/(.*?) /),Re=re&&Z&&parseInt(Z[1],10)<15;return b._codecs={mp3:!(X||!A&&!M.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!A,opus:!!M.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!M.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!M.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(M.canPlayType('audio/wav; codecs="1"')||M.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!M.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!M.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(M.canPlayType("audio/x-m4a;")||M.canPlayType("audio/m4a;")||M.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(M.canPlayType("audio/x-m4b;")||M.canPlayType("audio/m4b;")||M.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(M.canPlayType("audio/x-mp4;")||M.canPlayType("audio/mp4;")||M.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Re||!M.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Re||!M.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!M.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(M.canPlayType("audio/x-flac;")||M.canPlayType("audio/flac;")).replace(/^no$/,"")},b},_unlockAudio:function(){var b=this||u;if(!b._audioUnlocked&&b.ctx){b._audioUnlocked=!1,b.autoUnlock=!1,!b._mobileUnloaded&&44100!==b.ctx.sampleRate&&(b._mobileUnloaded=!0,b.unload()),b._scratchBuffer=b.ctx.createBuffer(1,1,22050);var M=function(A){for(;b._html5AudioPool.length<b.html5PoolSize;)try{var ue=new Audio;ue._unlocked=!0,b._releaseHtml5Audio(ue)}catch{b.noAudio=!0;break}for(var z=0;z<b._howls.length;z++)if(!b._howls[z]._webAudio)for(var X=b._howls[z]._getSoundIds(),re=0;re<X.length;re++){var Z=b._howls[z]._soundById(X[re]);Z&&Z._node&&!Z._node._unlocked&&(Z._node._unlocked=!0,Z._node.load())}b._autoResume();var Re=b.ctx.createBufferSource();Re.buffer=b._scratchBuffer,Re.connect(b.ctx.destination),typeof Re.start>"u"?Re.noteOn(0):Re.start(0),"function"==typeof b.ctx.resume&&b.ctx.resume(),Re.onended=function(){Re.disconnect(0),b._audioUnlocked=!0,document.removeEventListener("touchstart",M,!0),document.removeEventListener("touchend",M,!0),document.removeEventListener("click",M,!0),document.removeEventListener("keydown",M,!0);for(var oe=0;oe<b._howls.length;oe++)b._howls[oe]._emit("unlock")}};return document.addEventListener("touchstart",M,!0),document.addEventListener("touchend",M,!0),document.addEventListener("click",M,!0),document.addEventListener("keydown",M,!0),b}},_obtainHtml5Audio:function(){var b=this||u;if(b._html5AudioPool.length)return b._html5AudioPool.pop();var M=(new Audio).play();return M&&typeof Promise<"u"&&(M instanceof Promise||"function"==typeof M.then)&&M.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(b){var M=this||u;return b._unlocked&&M._html5AudioPool.push(b),M},_autoSuspend:function(){var b=this;if(b.autoSuspend&&b.ctx&&!(typeof b.ctx.suspend>"u")&&u.usingWebAudio){for(var M=0;M<b._howls.length;M++)if(b._howls[M]._webAudio)for(var A=0;A<b._howls[M]._sounds.length;A++)if(!b._howls[M]._sounds[A]._paused)return b;return b._suspendTimer&&clearTimeout(b._suspendTimer),b._suspendTimer=setTimeout(function(){if(b.autoSuspend){b._suspendTimer=null,b.state="suspending";var ue=function(){b.state="suspended",b._resumeAfterSuspend&&(delete b._resumeAfterSuspend,b._autoResume())};b.ctx.suspend().then(ue,ue)}},3e4),b}},_autoResume:function(){var b=this;if(b.ctx&&!(typeof b.ctx.resume>"u")&&u.usingWebAudio)return"running"===b.state&&"interrupted"!==b.ctx.state&&b._suspendTimer?(clearTimeout(b._suspendTimer),b._suspendTimer=null):"suspended"===b.state||"running"===b.state&&"interrupted"===b.ctx.state?(b.ctx.resume().then(function(){b.state="running";for(var M=0;M<b._howls.length;M++)b._howls[M]._emit("resume")}),b._suspendTimer&&(clearTimeout(b._suspendTimer),b._suspendTimer=null)):"suspending"===b.state&&(b._resumeAfterSuspend=!0),b}};var u=new y,v=function(b){b.src&&0!==b.src.length?this.init(b):console.error("An array of source files must be passed with any new Howl.")};v.prototype={init:function(b){var M=this;return u.ctx||O(),M._autoplay=b.autoplay||!1,M._format="string"!=typeof b.format?b.format:[b.format],M._html5=b.html5||!1,M._muted=b.mute||!1,M._loop=b.loop||!1,M._pool=b.pool||5,M._preload="boolean"!=typeof b.preload&&"metadata"!==b.preload||b.preload,M._rate=b.rate||1,M._sprite=b.sprite||{},M._src="string"!=typeof b.src?b.src:[b.src],M._volume=void 0!==b.volume?b.volume:1,M._xhr={method:b.xhr&&b.xhr.method?b.xhr.method:"GET",headers:b.xhr&&b.xhr.headers?b.xhr.headers:null,withCredentials:!(!b.xhr||!b.xhr.withCredentials)&&b.xhr.withCredentials},M._duration=0,M._state="unloaded",M._sounds=[],M._endTimers={},M._queue=[],M._playLock=!1,M._onend=b.onend?[{fn:b.onend}]:[],M._onfade=b.onfade?[{fn:b.onfade}]:[],M._onload=b.onload?[{fn:b.onload}]:[],M._onloaderror=b.onloaderror?[{fn:b.onloaderror}]:[],M._onplayerror=b.onplayerror?[{fn:b.onplayerror}]:[],M._onpause=b.onpause?[{fn:b.onpause}]:[],M._onplay=b.onplay?[{fn:b.onplay}]:[],M._onstop=b.onstop?[{fn:b.onstop}]:[],M._onmute=b.onmute?[{fn:b.onmute}]:[],M._onvolume=b.onvolume?[{fn:b.onvolume}]:[],M._onrate=b.onrate?[{fn:b.onrate}]:[],M._onseek=b.onseek?[{fn:b.onseek}]:[],M._onunlock=b.onunlock?[{fn:b.onunlock}]:[],M._onresume=[],M._webAudio=u.usingWebAudio&&!M._html5,typeof u.ctx<"u"&&u.ctx&&u.autoUnlock&&u._unlockAudio(),u._howls.push(M),M._autoplay&&M._queue.push({event:"play",action:function(){M.play()}}),M._preload&&"none"!==M._preload&&M.load(),M},load:function(){var b=this,M=null;if(u.noAudio)b._emit("loaderror",null,"No audio support.");else{"string"==typeof b._src&&(b._src=[b._src]);for(var A=0;A<b._src.length;A++){var ue,z;if(b._format&&b._format[A])ue=b._format[A];else{if("string"!=typeof(z=b._src[A])){b._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(ue=/^data:audio\/([^;,]+);/i.exec(z))||(ue=/\.([^.]+)$/.exec(z.split("?",1)[0])),ue&&(ue=ue[1].toLowerCase())}if(ue||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ue&&u.codecs(ue)){M=b._src[A];break}}if(M)return b._src=M,b._state="loading","https:"===window.location.protocol&&"http:"===M.slice(0,5)&&(b._html5=!0,b._webAudio=!1),new x(b),b._webAudio&&L(b),b;b._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(b,M){var A=this,ue=null;if("number"==typeof b)ue=b,b=null;else{if("string"==typeof b&&"loaded"===A._state&&!A._sprite[b])return null;if(typeof b>"u"&&(b="__default",!A._playLock)){for(var z=0,X=0;X<A._sounds.length;X++)A._sounds[X]._paused&&!A._sounds[X]._ended&&(z++,ue=A._sounds[X]._id);1===z?b=null:ue=null}}var re=ue?A._soundById(ue):A._inactiveSound();if(!re)return null;if(ue&&!b&&(b=re._sprite||"__default"),"loaded"!==A._state){re._sprite=b,re._ended=!1;var Z=re._id;return A._queue.push({event:"play",action:function(){A.play(Z)}}),Z}if(ue&&!re._paused)return M||A._loadQueue("play"),re._id;A._webAudio&&u._autoResume();var Re=Math.max(0,re._seek>0?re._seek:A._sprite[b][0]/1e3),oe=Math.max(0,(A._sprite[b][0]+A._sprite[b][1])/1e3-Re),Ce=1e3*oe/Math.abs(re._rate),K=A._sprite[b][0]/1e3,R=(A._sprite[b][0]+A._sprite[b][1])/1e3;re._sprite=b,re._ended=!1;var ce=function(){re._paused=!1,re._seek=Re,re._start=K,re._stop=R,re._loop=!(!re._loop&&!A._sprite[b][2])};if(!(Re>=R)){var $=re._node;if(A._webAudio){var Fe=function(){A._playLock=!1,ce(),A._refreshBuffer(re),$.gain.setValueAtTime(re._muted||A._muted?0:re._volume,u.ctx.currentTime),re._playStart=u.ctx.currentTime,typeof $.bufferSource.start>"u"?$.bufferSource.noteGrainOn(0,Re,re._loop?86400:oe):$.bufferSource.start(0,Re,re._loop?86400:oe),Ce!==1/0&&(A._endTimers[re._id]=setTimeout(A._ended.bind(A,re),Ce)),M||setTimeout(function(){A._emit("play",re._id),A._loadQueue()},0)};"running"===u.state&&"interrupted"!==u.ctx.state?Fe():(A._playLock=!0,A.once("resume",Fe),A._clearTimer(re._id))}else{var je=function(){$.currentTime=Re,$.muted=re._muted||A._muted||u._muted||$.muted,$.volume=re._volume*u.volume(),$.playbackRate=re._rate;try{var pt=$.play();if(pt&&typeof Promise<"u"&&(pt instanceof Promise||"function"==typeof pt.then)?(A._playLock=!0,ce(),pt.then(function(){A._playLock=!1,$._unlocked=!0,M?A._loadQueue():A._emit("play",re._id)}).catch(function(){A._playLock=!1,A._emit("playerror",re._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),re._ended=!0,re._paused=!0})):M||(A._playLock=!1,ce(),A._emit("play",re._id)),$.playbackRate=re._rate,$.paused)return void A._emit("playerror",re._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==b||re._loop?A._endTimers[re._id]=setTimeout(A._ended.bind(A,re),Ce):(A._endTimers[re._id]=function(){A._ended(re),$.removeEventListener("ended",A._endTimers[re._id],!1)},$.addEventListener("ended",A._endTimers[re._id],!1))}catch(St){A._emit("playerror",re._id,St)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===$.src&&($.src=A._src,$.load());var Ve=window&&window.ejecta||!$.readyState&&u._navigator.isCocoonJS;if($.readyState>=3||Ve)je();else{A._playLock=!0,A._state="loading";var lt=function(){A._state="loaded",je(),$.removeEventListener(u._canPlayEvent,lt,!1)};$.addEventListener(u._canPlayEvent,lt,!1),A._clearTimer(re._id)}}return re._id}A._ended(re)},pause:function(b){var M=this;if("loaded"!==M._state||M._playLock)return M._queue.push({event:"pause",action:function(){M.pause(b)}}),M;for(var A=M._getSoundIds(b),ue=0;ue<A.length;ue++){M._clearTimer(A[ue]);var z=M._soundById(A[ue]);if(z&&!z._paused&&(z._seek=M.seek(A[ue]),z._rateSeek=0,z._paused=!0,M._stopFade(A[ue]),z._node))if(M._webAudio){if(!z._node.bufferSource)continue;typeof z._node.bufferSource.stop>"u"?z._node.bufferSource.noteOff(0):z._node.bufferSource.stop(0),M._cleanBuffer(z._node)}else(!isNaN(z._node.duration)||z._node.duration===1/0)&&z._node.pause();arguments[1]||M._emit("pause",z?z._id:null)}return M},stop:function(b,M){var A=this;if("loaded"!==A._state||A._playLock)return A._queue.push({event:"stop",action:function(){A.stop(b)}}),A;for(var ue=A._getSoundIds(b),z=0;z<ue.length;z++){A._clearTimer(ue[z]);var X=A._soundById(ue[z]);X&&(X._seek=X._start||0,X._rateSeek=0,X._paused=!0,X._ended=!0,A._stopFade(ue[z]),X._node&&(A._webAudio?X._node.bufferSource&&(typeof X._node.bufferSource.stop>"u"?X._node.bufferSource.noteOff(0):X._node.bufferSource.stop(0),A._cleanBuffer(X._node)):(!isNaN(X._node.duration)||X._node.duration===1/0)&&(X._node.currentTime=X._start||0,X._node.pause(),X._node.duration===1/0&&A._clearSound(X._node))),M||A._emit("stop",X._id))}return A},mute:function(b,M){var A=this;if("loaded"!==A._state||A._playLock)return A._queue.push({event:"mute",action:function(){A.mute(b,M)}}),A;if(typeof M>"u"){if("boolean"!=typeof b)return A._muted;A._muted=b}for(var ue=A._getSoundIds(M),z=0;z<ue.length;z++){var X=A._soundById(ue[z]);X&&(X._muted=b,X._interval&&A._stopFade(X._id),A._webAudio&&X._node?X._node.gain.setValueAtTime(b?0:X._volume,u.ctx.currentTime):X._node&&(X._node.muted=!!u._muted||b),A._emit("mute",X._id))}return A},volume:function(){var A,ue,re,b=this,M=arguments;if(0===M.length)return b._volume;if(1===M.length||2===M.length&&typeof M[1]>"u"?b._getSoundIds().indexOf(M[0])>=0?ue=parseInt(M[0],10):A=parseFloat(M[0]):M.length>=2&&(A=parseFloat(M[0]),ue=parseInt(M[1],10)),!(typeof A<"u"&&A>=0&&A<=1))return(re=ue?b._soundById(ue):b._sounds[0])?re._volume:0;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"volume",action:function(){b.volume.apply(b,M)}}),b;typeof ue>"u"&&(b._volume=A),ue=b._getSoundIds(ue);for(var Z=0;Z<ue.length;Z++)(re=b._soundById(ue[Z]))&&(re._volume=A,M[2]||b._stopFade(ue[Z]),b._webAudio&&re._node&&!re._muted?re._node.gain.setValueAtTime(A,u.ctx.currentTime):re._node&&!re._muted&&(re._node.volume=A*u.volume()),b._emit("volume",re._id));return b},fade:function(b,M,A,ue){var z=this;if("loaded"!==z._state||z._playLock)return z._queue.push({event:"fade",action:function(){z.fade(b,M,A,ue)}}),z;b=Math.min(Math.max(0,parseFloat(b)),1),M=Math.min(Math.max(0,parseFloat(M)),1),A=parseFloat(A),z.volume(b,ue);for(var X=z._getSoundIds(ue),re=0;re<X.length;re++){var Z=z._soundById(X[re]);if(Z){if(ue||z._stopFade(X[re]),z._webAudio&&!Z._muted){var Re=u.ctx.currentTime,oe=Re+A/1e3;Z._volume=b,Z._node.gain.setValueAtTime(b,Re),Z._node.gain.linearRampToValueAtTime(M,oe)}z._startFadeInterval(Z,b,M,A,X[re],typeof ue>"u")}}return z},_startFadeInterval:function(b,M,A,ue,z,X){var re=this,Z=M,Re=A-M,oe=Math.abs(Re/.01),Ce=Math.max(4,oe>0?ue/oe:ue),K=Date.now();b._fadeTo=A,b._interval=setInterval(function(){var R=(Date.now()-K)/ue;K=Date.now(),Z+=Re*R,Z=Math.round(100*Z)/100,Z=Re<0?Math.max(A,Z):Math.min(A,Z),re._webAudio?b._volume=Z:re.volume(Z,b._id,!0),X&&(re._volume=Z),(A<M&&Z<=A||A>M&&Z>=A)&&(clearInterval(b._interval),b._interval=null,b._fadeTo=null,re.volume(A,b._id),re._emit("fade",b._id))},Ce)},_stopFade:function(b){var M=this,A=M._soundById(b);return A&&A._interval&&(M._webAudio&&A._node.gain.cancelScheduledValues(u.ctx.currentTime),clearInterval(A._interval),A._interval=null,M.volume(A._fadeTo,b),A._fadeTo=null,M._emit("fade",b)),M},loop:function(){var A,ue,z,b=this,M=arguments;if(0===M.length)return b._loop;if(1===M.length){if("boolean"!=typeof M[0])return!!(z=b._soundById(parseInt(M[0],10)))&&z._loop;b._loop=A=M[0]}else 2===M.length&&(A=M[0],ue=parseInt(M[1],10));for(var X=b._getSoundIds(ue),re=0;re<X.length;re++)(z=b._soundById(X[re]))&&(z._loop=A,b._webAudio&&z._node&&z._node.bufferSource&&(z._node.bufferSource.loop=A,A&&(z._node.bufferSource.loopStart=z._start||0,z._node.bufferSource.loopEnd=z._stop,b.playing(X[re])&&(b.pause(X[re],!0),b.play(X[re],!0)))));return b},rate:function(){var A,ue,re,b=this,M=arguments;if(0===M.length?ue=b._sounds[0]._id:1===M.length?b._getSoundIds().indexOf(M[0])>=0?ue=parseInt(M[0],10):A=parseFloat(M[0]):2===M.length&&(A=parseFloat(M[0]),ue=parseInt(M[1],10)),"number"!=typeof A)return(re=b._soundById(ue))?re._rate:b._rate;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"rate",action:function(){b.rate.apply(b,M)}}),b;typeof ue>"u"&&(b._rate=A),ue=b._getSoundIds(ue);for(var Z=0;Z<ue.length;Z++)if(re=b._soundById(ue[Z])){b.playing(ue[Z])&&(re._rateSeek=b.seek(ue[Z]),re._playStart=b._webAudio?u.ctx.currentTime:re._playStart),re._rate=A,b._webAudio&&re._node&&re._node.bufferSource?re._node.bufferSource.playbackRate.setValueAtTime(A,u.ctx.currentTime):re._node&&(re._node.playbackRate=A);var Re=b.seek(ue[Z]),Ce=1e3*((b._sprite[re._sprite][0]+b._sprite[re._sprite][1])/1e3-Re)/Math.abs(re._rate);(b._endTimers[ue[Z]]||!re._paused)&&(b._clearTimer(ue[Z]),b._endTimers[ue[Z]]=setTimeout(b._ended.bind(b,re),Ce)),b._emit("rate",re._id)}return b},seek:function(){var A,ue,b=this,M=arguments;if(0===M.length?b._sounds.length&&(ue=b._sounds[0]._id):1===M.length?b._getSoundIds().indexOf(M[0])>=0?ue=parseInt(M[0],10):b._sounds.length&&(ue=b._sounds[0]._id,A=parseFloat(M[0])):2===M.length&&(A=parseFloat(M[0]),ue=parseInt(M[1],10)),typeof ue>"u")return 0;if("number"==typeof A&&("loaded"!==b._state||b._playLock))return b._queue.push({event:"seek",action:function(){b.seek.apply(b,M)}}),b;var re=b._soundById(ue);if(re){if(!("number"==typeof A&&A>=0)){if(b._webAudio){var Ce=b.playing(ue)?u.ctx.currentTime-re._playStart:0;return re._seek+((re._rateSeek?re._rateSeek-re._seek:0)+Ce*Math.abs(re._rate))}return re._node.currentTime}var Z=b.playing(ue);Z&&b.pause(ue,!0),re._seek=A,re._ended=!1,b._clearTimer(ue),!b._webAudio&&re._node&&!isNaN(re._node.duration)&&(re._node.currentTime=A);var Re=function(){Z&&b.play(ue,!0),b._emit("seek",ue)};if(Z&&!b._webAudio){var oe=function(){b._playLock?setTimeout(oe,0):Re()};setTimeout(oe,0)}else Re()}return b},playing:function(b){var M=this;if("number"==typeof b){var A=M._soundById(b);return!!A&&!A._paused}for(var ue=0;ue<M._sounds.length;ue++)if(!M._sounds[ue]._paused)return!0;return!1},duration:function(b){var M=this,A=M._duration,ue=M._soundById(b);return ue&&(A=M._sprite[ue._sprite][1]/1e3),A},state:function(){return this._state},unload:function(){for(var b=this,M=b._sounds,A=0;A<M.length;A++)M[A]._paused||b.stop(M[A]._id),b._webAudio||(b._clearSound(M[A]._node),M[A]._node.removeEventListener("error",M[A]._errorFn,!1),M[A]._node.removeEventListener(u._canPlayEvent,M[A]._loadFn,!1),M[A]._node.removeEventListener("ended",M[A]._endFn,!1),u._releaseHtml5Audio(M[A]._node)),delete M[A]._node,b._clearTimer(M[A]._id);var ue=u._howls.indexOf(b);ue>=0&&u._howls.splice(ue,1);var z=!0;for(A=0;A<u._howls.length;A++)if(u._howls[A]._src===b._src||b._src.indexOf(u._howls[A]._src)>=0){z=!1;break}return d&&z&&delete d[b._src],u.noAudio=!1,b._state="unloaded",b._sounds=[],b=null,null},on:function(b,M,A,ue){return"function"==typeof M&&this["_on"+b].push(ue?{id:A,fn:M,once:ue}:{id:A,fn:M}),this},off:function(b,M,A){var ue=this,z=ue["_on"+b],X=0;if("number"==typeof M&&(A=M,M=null),M||A)for(X=0;X<z.length;X++){var re=A===z[X].id;if(M===z[X].fn&&re||!M&&re){z.splice(X,1);break}}else if(b)ue["_on"+b]=[];else{var Z=Object.keys(ue);for(X=0;X<Z.length;X++)0===Z[X].indexOf("_on")&&Array.isArray(ue[Z[X]])&&(ue[Z[X]]=[])}return ue},once:function(b,M,A){return this.on(b,M,A,1),this},_emit:function(b,M,A){for(var ue=this,z=ue["_on"+b],X=z.length-1;X>=0;X--)(!z[X].id||z[X].id===M||"load"===b)&&(setTimeout(function(re){re.call(this,M,A)}.bind(ue,z[X].fn),0),z[X].once&&ue.off(b,z[X].fn,z[X].id));return ue._loadQueue(b),ue},_loadQueue:function(b){var M=this;if(M._queue.length>0){var A=M._queue[0];A.event===b&&(M._queue.shift(),M._loadQueue()),b||A.action()}return M},_ended:function(b){var M=this,A=b._sprite;if(!M._webAudio&&b._node&&!b._node.paused&&!b._node.ended&&b._node.currentTime<b._stop)return setTimeout(M._ended.bind(M,b),100),M;var ue=!(!b._loop&&!M._sprite[A][2]);if(M._emit("end",b._id),!M._webAudio&&ue&&M.stop(b._id,!0).play(b._id),M._webAudio&&ue){M._emit("play",b._id),b._seek=b._start||0,b._rateSeek=0,b._playStart=u.ctx.currentTime;var z=1e3*(b._stop-b._start)/Math.abs(b._rate);M._endTimers[b._id]=setTimeout(M._ended.bind(M,b),z)}return M._webAudio&&!ue&&(b._paused=!0,b._ended=!0,b._seek=b._start||0,b._rateSeek=0,M._clearTimer(b._id),M._cleanBuffer(b._node),u._autoSuspend()),!M._webAudio&&!ue&&M.stop(b._id,!0),M},_clearTimer:function(b){var M=this;if(M._endTimers[b]){if("function"!=typeof M._endTimers[b])clearTimeout(M._endTimers[b]);else{var A=M._soundById(b);A&&A._node&&A._node.removeEventListener("ended",M._endTimers[b],!1)}delete M._endTimers[b]}return M},_soundById:function(b){for(var M=this,A=0;A<M._sounds.length;A++)if(b===M._sounds[A]._id)return M._sounds[A];return null},_inactiveSound:function(){var b=this;b._drain();for(var M=0;M<b._sounds.length;M++)if(b._sounds[M]._ended)return b._sounds[M].reset();return new x(b)},_drain:function(){var b=this,M=b._pool,A=0,ue=0;if(!(b._sounds.length<M)){for(ue=0;ue<b._sounds.length;ue++)b._sounds[ue]._ended&&A++;for(ue=b._sounds.length-1;ue>=0;ue--){if(A<=M)return;b._sounds[ue]._ended&&(b._webAudio&&b._sounds[ue]._node&&b._sounds[ue]._node.disconnect(0),b._sounds.splice(ue,1),A--)}}},_getSoundIds:function(b){if(typeof b>"u"){for(var A=[],ue=0;ue<this._sounds.length;ue++)A.push(this._sounds[ue]._id);return A}return[b]},_refreshBuffer:function(b){return b._node.bufferSource=u.ctx.createBufferSource(),b._node.bufferSource.buffer=d[this._src],b._node.bufferSource.connect(b._panner?b._panner:b._node),b._node.bufferSource.loop=b._loop,b._loop&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop||0),b._node.bufferSource.playbackRate.setValueAtTime(b._rate,u.ctx.currentTime),this},_cleanBuffer:function(b){var A=u._navigator&&u._navigator.vendor.indexOf("Apple")>=0;if(!b.bufferSource)return this;if(u._scratchBuffer&&b.bufferSource&&(b.bufferSource.onended=null,b.bufferSource.disconnect(0),A))try{b.bufferSource.buffer=u._scratchBuffer}catch{}return b.bufferSource=null,this},_clearSound:function(b){/MSIE |Trident\//.test(u._navigator&&u._navigator.userAgent)||(b.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var x=function(b){this._parent=b,this.init()};x.prototype={init:function(){var b=this,M=b._parent;return b._muted=M._muted,b._loop=M._loop,b._volume=M._volume,b._rate=M._rate,b._seek=0,b._paused=!0,b._ended=!0,b._sprite="__default",b._id=++u._counter,M._sounds.push(b),b.create(),b},create:function(){var b=this,M=b._parent,A=u._muted||b._muted||b._parent._muted?0:b._volume;return M._webAudio?(b._node=typeof u.ctx.createGain>"u"?u.ctx.createGainNode():u.ctx.createGain(),b._node.gain.setValueAtTime(A,u.ctx.currentTime),b._node.paused=!0,b._node.connect(u.masterGain)):u.noAudio||(b._node=u._obtainHtml5Audio(),b._errorFn=b._errorListener.bind(b),b._node.addEventListener("error",b._errorFn,!1),b._loadFn=b._loadListener.bind(b),b._node.addEventListener(u._canPlayEvent,b._loadFn,!1),b._endFn=b._endListener.bind(b),b._node.addEventListener("ended",b._endFn,!1),b._node.src=M._src,b._node.preload=!0===M._preload?"auto":M._preload,b._node.volume=A*u.volume(),b._node.load()),b},reset:function(){var b=this,M=b._parent;return b._muted=M._muted,b._loop=M._loop,b._volume=M._volume,b._rate=M._rate,b._seek=0,b._rateSeek=0,b._paused=!0,b._ended=!0,b._sprite="__default",b._id=++u._counter,b},_errorListener:function(){var b=this;b._parent._emit("loaderror",b._id,b._node.error?b._node.error.code:0),b._node.removeEventListener("error",b._errorFn,!1)},_loadListener:function(){var b=this,M=b._parent;M._duration=Math.ceil(10*b._node.duration)/10,0===Object.keys(M._sprite).length&&(M._sprite={__default:[0,1e3*M._duration]}),"loaded"!==M._state&&(M._state="loaded",M._emit("load"),M._loadQueue()),b._node.removeEventListener(u._canPlayEvent,b._loadFn,!1)},_endListener:function(){var b=this,M=b._parent;M._duration===1/0&&(M._duration=Math.ceil(10*b._node.duration)/10,M._sprite.__default[1]===1/0&&(M._sprite.__default[1]=1e3*M._duration),M._ended(b)),b._node.removeEventListener("ended",b._endFn,!1)}};var d={},L=function(b){var M=b._src;if(d[M])return b._duration=d[M].duration,void U(b);if(/^data:[^;]+;base64,/.test(M)){for(var A=atob(M.split(",")[1]),ue=new Uint8Array(A.length),z=0;z<A.length;++z)ue[z]=A.charCodeAt(z);S(ue.buffer,b)}else{var X=new XMLHttpRequest;X.open(b._xhr.method,M,!0),X.withCredentials=b._xhr.withCredentials,X.responseType="arraybuffer",b._xhr.headers&&Object.keys(b._xhr.headers).forEach(function(re){X.setRequestHeader(re,b._xhr.headers[re])}),X.onload=function(){var re=(X.status+"")[0];"0"===re||"2"===re||"3"===re?S(X.response,b):b._emit("loaderror",null,"Failed loading audio file with status: "+X.status+".")},X.onerror=function(){b._webAudio&&(b._html5=!0,b._webAudio=!1,b._sounds=[],delete d[M],b.load())},F(X)}},F=function(b){try{b.send()}catch{b.onerror()}},S=function(b,M){var A=function(){M._emit("loaderror",null,"Decoding audio data failed.")},ue=function(z){z&&M._sounds.length>0?(d[M._src]=z,U(M,z)):A()};typeof Promise<"u"&&1===u.ctx.decodeAudioData.length?u.ctx.decodeAudioData(b).then(ue).catch(A):u.ctx.decodeAudioData(b,ue,A)},U=function(b,M){M&&!b._duration&&(b._duration=M.duration),0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1e3*b._duration]}),"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue())},O=function(){if(u.usingWebAudio){try{typeof AudioContext<"u"?u.ctx=new AudioContext:typeof webkitAudioContext<"u"?u.ctx=new webkitAudioContext:u.usingWebAudio=!1}catch{u.usingWebAudio=!1}u.ctx||(u.usingWebAudio=!1);var b=/iP(hone|od|ad)/.test(u._navigator&&u._navigator.platform),M=u._navigator&&u._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),A=M?parseInt(M[1],10):null;if(b&&A&&A<9){var ue=/safari/.test(u._navigator&&u._navigator.userAgent.toLowerCase());u._navigator&&!ue&&(u.usingWebAudio=!1)}u.usingWebAudio&&(u.masterGain=typeof u.ctx.createGain>"u"?u.ctx.createGainNode():u.ctx.createGain(),u.masterGain.gain.setValueAtTime(u._muted?0:u._volume,u.ctx.currentTime),u.masterGain.connect(u.ctx.destination)),u._setup()}};void 0!==(r=function(){return{Howler:u,Howl:v}}.apply(ye,[]))&&(ln.exports=r),ye.Howler=u,ye.Howl=v,typeof global<"u"?(global.HowlerGlobal=y,global.Howler=u,global.Howl=v,global.Sound=x):typeof window<"u"&&(window.HowlerGlobal=y,window.Howler=u,window.Howl=v,window.Sound=x)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(u){var v=this;if(!v.ctx||!v.ctx.listener)return v;for(var x=v._howls.length-1;x>=0;x--)v._howls[x].stereo(u);return v},HowlerGlobal.prototype.pos=function(u,v,x){var d=this;return d.ctx&&d.ctx.listener?"number"!=typeof u?d._pos:(d._pos=[u,v="number"!=typeof v?d._pos[1]:v,x="number"!=typeof x?d._pos[2]:x],typeof d.ctx.listener.positionX<"u"?(d.ctx.listener.positionX.setTargetAtTime(d._pos[0],Howler.ctx.currentTime,.1),d.ctx.listener.positionY.setTargetAtTime(d._pos[1],Howler.ctx.currentTime,.1),d.ctx.listener.positionZ.setTargetAtTime(d._pos[2],Howler.ctx.currentTime,.1)):d.ctx.listener.setPosition(d._pos[0],d._pos[1],d._pos[2]),d):d},HowlerGlobal.prototype.orientation=function(u,v,x,d,L,F){var S=this;if(!S.ctx||!S.ctx.listener)return S;var U=S._orientation;return"number"!=typeof u?U:(S._orientation=[u,v="number"!=typeof v?U[1]:v,x="number"!=typeof x?U[2]:x,d="number"!=typeof d?U[3]:d,L="number"!=typeof L?U[4]:L,F="number"!=typeof F?U[5]:F],typeof S.ctx.listener.forwardX<"u"?(S.ctx.listener.forwardX.setTargetAtTime(u,Howler.ctx.currentTime,.1),S.ctx.listener.forwardY.setTargetAtTime(v,Howler.ctx.currentTime,.1),S.ctx.listener.forwardZ.setTargetAtTime(x,Howler.ctx.currentTime,.1),S.ctx.listener.upX.setTargetAtTime(d,Howler.ctx.currentTime,.1),S.ctx.listener.upY.setTargetAtTime(L,Howler.ctx.currentTime,.1),S.ctx.listener.upZ.setTargetAtTime(F,Howler.ctx.currentTime,.1)):S.ctx.listener.setOrientation(u,v,x,d,L,F),S)},Howl.prototype.init=function(u){return function(v){var x=this;return x._orientation=v.orientation||[1,0,0],x._stereo=v.stereo||null,x._pos=v.pos||null,x._pannerAttr={coneInnerAngle:typeof v.coneInnerAngle<"u"?v.coneInnerAngle:360,coneOuterAngle:typeof v.coneOuterAngle<"u"?v.coneOuterAngle:360,coneOuterGain:typeof v.coneOuterGain<"u"?v.coneOuterGain:0,distanceModel:typeof v.distanceModel<"u"?v.distanceModel:"inverse",maxDistance:typeof v.maxDistance<"u"?v.maxDistance:1e4,panningModel:typeof v.panningModel<"u"?v.panningModel:"HRTF",refDistance:typeof v.refDistance<"u"?v.refDistance:1,rolloffFactor:typeof v.rolloffFactor<"u"?v.rolloffFactor:1},x._onstereo=v.onstereo?[{fn:v.onstereo}]:[],x._onpos=v.onpos?[{fn:v.onpos}]:[],x._onorientation=v.onorientation?[{fn:v.onorientation}]:[],u.call(this,v)}}(Howl.prototype.init),Howl.prototype.stereo=function(u,v){var x=this;if(!x._webAudio)return x;if("loaded"!==x._state)return x._queue.push({event:"stereo",action:function(){x.stereo(u,v)}}),x;var d=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof v>"u"){if("number"!=typeof u)return x._stereo;x._stereo=u,x._pos=[u,0,0]}for(var L=x._getSoundIds(v),F=0;F<L.length;F++){var S=x._soundById(L[F]);if(S){if("number"!=typeof u)return S._stereo;S._stereo=u,S._pos=[u,0,0],S._node&&(S._pannerAttr.panningModel="equalpower",(!S._panner||!S._panner.pan)&&y(S,d),"spatial"===d?typeof S._panner.positionX<"u"?(S._panner.positionX.setValueAtTime(u,Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):S._panner.setPosition(u,0,0):S._panner.pan.setValueAtTime(u,Howler.ctx.currentTime)),x._emit("stereo",S._id)}}return x},Howl.prototype.pos=function(u,v,x,d){var L=this;if(!L._webAudio)return L;if("loaded"!==L._state)return L._queue.push({event:"pos",action:function(){L.pos(u,v,x,d)}}),L;if(v="number"!=typeof v?0:v,x="number"!=typeof x?-.5:x,typeof d>"u"){if("number"!=typeof u)return L._pos;L._pos=[u,v,x]}for(var F=L._getSoundIds(d),S=0;S<F.length;S++){var U=L._soundById(F[S]);if(U){if("number"!=typeof u)return U._pos;U._pos=[u,v,x],U._node&&((!U._panner||U._panner.pan)&&y(U,"spatial"),typeof U._panner.positionX<"u"?(U._panner.positionX.setValueAtTime(u,Howler.ctx.currentTime),U._panner.positionY.setValueAtTime(v,Howler.ctx.currentTime),U._panner.positionZ.setValueAtTime(x,Howler.ctx.currentTime)):U._panner.setPosition(u,v,x)),L._emit("pos",U._id)}}return L},Howl.prototype.orientation=function(u,v,x,d){var L=this;if(!L._webAudio)return L;if("loaded"!==L._state)return L._queue.push({event:"orientation",action:function(){L.orientation(u,v,x,d)}}),L;if(v="number"!=typeof v?L._orientation[1]:v,x="number"!=typeof x?L._orientation[2]:x,typeof d>"u"){if("number"!=typeof u)return L._orientation;L._orientation=[u,v,x]}for(var F=L._getSoundIds(d),S=0;S<F.length;S++){var U=L._soundById(F[S]);if(U){if("number"!=typeof u)return U._orientation;U._orientation=[u,v,x],U._node&&(U._panner||(U._pos||(U._pos=L._pos||[0,0,-.5]),y(U,"spatial")),typeof U._panner.orientationX<"u"?(U._panner.orientationX.setValueAtTime(u,Howler.ctx.currentTime),U._panner.orientationY.setValueAtTime(v,Howler.ctx.currentTime),U._panner.orientationZ.setValueAtTime(x,Howler.ctx.currentTime)):U._panner.setOrientation(u,v,x)),L._emit("orientation",U._id)}}return L},Howl.prototype.pannerAttr=function(){var x,d,L,u=this,v=arguments;if(!u._webAudio)return u;if(0===v.length)return u._pannerAttr;if(1===v.length){if("object"!=typeof v[0])return(L=u._soundById(parseInt(v[0],10)))?L._pannerAttr:u._pannerAttr;x=v[0],typeof d>"u"&&(x.pannerAttr||(x.pannerAttr={coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor,panningModel:x.panningModel}),u._pannerAttr={coneInnerAngle:typeof x.pannerAttr.coneInnerAngle<"u"?x.pannerAttr.coneInnerAngle:u._coneInnerAngle,coneOuterAngle:typeof x.pannerAttr.coneOuterAngle<"u"?x.pannerAttr.coneOuterAngle:u._coneOuterAngle,coneOuterGain:typeof x.pannerAttr.coneOuterGain<"u"?x.pannerAttr.coneOuterGain:u._coneOuterGain,distanceModel:typeof x.pannerAttr.distanceModel<"u"?x.pannerAttr.distanceModel:u._distanceModel,maxDistance:typeof x.pannerAttr.maxDistance<"u"?x.pannerAttr.maxDistance:u._maxDistance,refDistance:typeof x.pannerAttr.refDistance<"u"?x.pannerAttr.refDistance:u._refDistance,rolloffFactor:typeof x.pannerAttr.rolloffFactor<"u"?x.pannerAttr.rolloffFactor:u._rolloffFactor,panningModel:typeof x.pannerAttr.panningModel<"u"?x.pannerAttr.panningModel:u._panningModel})}else 2===v.length&&(x=v[0],d=parseInt(v[1],10));for(var F=u._getSoundIds(d),S=0;S<F.length;S++)if(L=u._soundById(F[S])){var U=L._pannerAttr;U={coneInnerAngle:typeof x.coneInnerAngle<"u"?x.coneInnerAngle:U.coneInnerAngle,coneOuterAngle:typeof x.coneOuterAngle<"u"?x.coneOuterAngle:U.coneOuterAngle,coneOuterGain:typeof x.coneOuterGain<"u"?x.coneOuterGain:U.coneOuterGain,distanceModel:typeof x.distanceModel<"u"?x.distanceModel:U.distanceModel,maxDistance:typeof x.maxDistance<"u"?x.maxDistance:U.maxDistance,refDistance:typeof x.refDistance<"u"?x.refDistance:U.refDistance,rolloffFactor:typeof x.rolloffFactor<"u"?x.rolloffFactor:U.rolloffFactor,panningModel:typeof x.panningModel<"u"?x.panningModel:U.panningModel};var O=L._panner;O||(L._pos||(L._pos=u._pos||[0,0,-.5]),y(L,"spatial"),O=L._panner),O.coneInnerAngle=U.coneInnerAngle,O.coneOuterAngle=U.coneOuterAngle,O.coneOuterGain=U.coneOuterGain,O.distanceModel=U.distanceModel,O.maxDistance=U.maxDistance,O.refDistance=U.refDistance,O.rolloffFactor=U.rolloffFactor,O.panningModel=U.panningModel}return u},Sound.prototype.init=function(u){return function(){var v=this,x=v._parent;v._orientation=x._orientation,v._stereo=x._stereo,v._pos=x._pos,v._pannerAttr=x._pannerAttr,u.call(this),v._stereo?x.stereo(v._stereo):v._pos&&x.pos(v._pos[0],v._pos[1],v._pos[2],v._id)}}(Sound.prototype.init),Sound.prototype.reset=function(u){return function(){var v=this,x=v._parent;return v._orientation=x._orientation,v._stereo=x._stereo,v._pos=x._pos,v._pannerAttr=x._pannerAttr,v._stereo?x.stereo(v._stereo):v._pos?x.pos(v._pos[0],v._pos[1],v._pos[2],v._id):v._panner&&(v._panner.disconnect(0),v._panner=void 0,x._refreshBuffer(v)),u.call(this)}}(Sound.prototype.reset);var y=function(u,v){"spatial"===(v=v||"spatial")?(u._panner=Howler.ctx.createPanner(),u._panner.coneInnerAngle=u._pannerAttr.coneInnerAngle,u._panner.coneOuterAngle=u._pannerAttr.coneOuterAngle,u._panner.coneOuterGain=u._pannerAttr.coneOuterGain,u._panner.distanceModel=u._pannerAttr.distanceModel,u._panner.maxDistance=u._pannerAttr.maxDistance,u._panner.refDistance=u._pannerAttr.refDistance,u._panner.rolloffFactor=u._pannerAttr.rolloffFactor,u._panner.panningModel=u._pannerAttr.panningModel,typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(u._pos[0],Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(u._pos[1],Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(u._pos[2],Howler.ctx.currentTime)):u._panner.setPosition(u._pos[0],u._pos[1],u._pos[2]),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(u._orientation[0],Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(u._orientation[1],Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(u._orientation[2],Howler.ctx.currentTime)):u._panner.setOrientation(u._orientation[0],u._orientation[1],u._orientation[2])):(u._panner=Howler.ctx.createStereoPanner(),u._panner.pan.setValueAtTime(u._stereo,Howler.ctx.currentTime)),u._panner.connect(u._node),u._paused||u._parent.pause(u._id,!0).play(u._id,!0)}}()},7662:(ln,ye,w)=>{"use strict";w.d(ye,{mo:()=>on});var r=w(28407);const u=(()=>{let rn=0;return()=>(rn+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${rn}`)})();function x(rn){const En=[];for(let ar=0,Er=rn.length;ar<Er;ar++)En.push(rn[ar]);return En}function d(rn,En){const Er=(rn.ownerDocument.defaultView||window).getComputedStyle(rn).getPropertyValue(En);return Er?parseFloat(Er.replace("px","")):0}function S(rn,En={}){const ar=En.width||function L(rn){const En=d(rn,"border-left-width"),ar=d(rn,"border-right-width");return rn.clientWidth+En+ar}(rn),Er=En.height||function F(rn){const En=d(rn,"border-top-width"),ar=d(rn,"border-bottom-width");return rn.clientHeight+En+ar}(rn);return{width:ar,height:Er}}const O=16384;function A(rn){return new Promise((En,ar)=>{const Er=new Image;Er.decode=()=>En(Er),Er.onload=()=>En(Er),Er.onerror=ar,Er.crossOrigin="anonymous",Er.decoding="async",Er.src=rn})}function z(){return(z=(0,r.A)(function*(rn){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(rn)).then(encodeURIComponent).then(En=>`data:image/svg+xml;charset=utf-8,${En}`)})).apply(this,arguments)}function re(){return re=(0,r.A)(function*(rn,En,ar){const Er="http://www.w3.org/2000/svg",Hr=document.createElementNS(Er,"svg"),vr=document.createElementNS(Er,"foreignObject");return Hr.setAttribute("width",`${En}`),Hr.setAttribute("height",`${ar}`),Hr.setAttribute("viewBox",`0 0 ${En} ${ar}`),vr.setAttribute("width","100%"),vr.setAttribute("height","100%"),vr.setAttribute("x","0"),vr.setAttribute("y","0"),vr.setAttribute("externalResourcesRequired","true"),Hr.appendChild(vr),vr.appendChild(rn),function ue(rn){return z.apply(this,arguments)}(Hr)}),re.apply(this,arguments)}const Z=(rn,En)=>{if(rn instanceof En)return!0;const ar=Object.getPrototypeOf(rn);return null!==ar&&(ar.constructor.name===En.name||Z(ar,En))};function K(rn,En,ar){const Er=window.getComputedStyle(rn,ar),Hr=Er.getPropertyValue("content");if(""===Hr||"none"===Hr)return;const vr=u();try{En.className=`${En.className} ${vr}`}catch{return}const Mt=document.createElement("style");Mt.appendChild(function Ce(rn,En,ar){const Er=`.${rn}:${En}`,Hr=ar.cssText?function Re(rn){const En=rn.getPropertyValue("content");return`${rn.cssText} content: '${En.replace(/'|"/g,"")}';`}(ar):function oe(rn){return x(rn).map(En=>`${En}: ${rn.getPropertyValue(En)}${rn.getPropertyPriority(En)?" !important":""};`).join(" ")}(ar);return document.createTextNode(`${Er}{${Hr}}`)}(vr,ar,Er)),En.appendChild(Mt)}const ce="application/font-woff",$="image/jpeg",Fe={woff:ce,woff2:ce,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:$,jpeg:$,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ve(rn){const En=function je(rn){const En=/\.([^./]*?)$/g.exec(rn);return En?En[1]:""}(rn).toLowerCase();return Fe[En]||""}function pt(rn){return-1!==rn.search(/^(data:)/)}function St(rn,En){return`data:${En};base64,${rn}`}function Rn(rn,En,ar){return G.apply(this,arguments)}function G(){return(G=(0,r.A)(function*(rn,En,ar){const Er=yield fetch(rn,En);if(404===Er.status)throw new Error(`Resource "${Er.url}" not found`);const Hr=yield Er.blob();return new Promise((vr,Mt)=>{const te=new FileReader;te.onerror=Mt,te.onloadend=()=>{try{vr(ar({res:Er,result:te.result}))}catch(ze){Mt(ze)}},te.readAsDataURL(Hr)})})).apply(this,arguments)}const ee={};function Ge(rn,En,ar){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.A)(function*(rn,En,ar){const Er=function De(rn,En,ar){let Er=rn.replace(/\?.*/,"");return ar&&(Er=rn),/ttf|otf|eot|woff2?/i.test(Er)&&(Er=Er.replace(/.*\//,"")),En?`[${En}]${Er}`:Er}(rn,En,ar.includeQueryParams);if(null!=ee[Er])return ee[Er];let Hr;ar.cacheBust&&(rn+=(/\?/.test(rn)?"&":"?")+(new Date).getTime());try{const vr=yield Rn(rn,ar.fetchRequestInit,({res:Mt,result:te})=>(En||(En=Mt.headers.get("Content-Type")||""),function lt(rn){return rn.split(/,/)[1]}(te)));Hr=St(vr,En)}catch(vr){Hr=ar.imagePlaceholder||"";let Mt=`Failed to fetch resource: ${rn}`;vr&&(Mt="string"==typeof vr?vr:vr.message),Mt&&console.warn(Mt)}return ee[Er]=Hr,Hr})).apply(this,arguments)}function bt(){return(bt=(0,r.A)(function*(rn){const En=rn.toDataURL();return"data:,"===En?rn.cloneNode(!1):A(En)})).apply(this,arguments)}function Le(){return(Le=(0,r.A)(function*(rn,En){if(rn.currentSrc){const vr=document.createElement("canvas"),Mt=vr.getContext("2d");return vr.width=rn.clientWidth,vr.height=rn.clientHeight,Mt?.drawImage(rn,0,0,vr.width,vr.height),A(vr.toDataURL())}const ar=rn.poster,Er=Ve(ar);return A(yield Ge(ar,Er,En))})).apply(this,arguments)}function se(){return(se=(0,r.A)(function*(rn){var En;try{if(null!==(En=rn?.contentDocument)&&void 0!==En&&En.body)return yield Ie(rn.contentDocument.body,{},!0)}catch{}return rn.cloneNode(!1)})).apply(this,arguments)}function Ee(){return Ee=(0,r.A)(function*(rn,En){return Z(rn,HTMLCanvasElement)?function ut(rn){return bt.apply(this,arguments)}(rn):Z(rn,HTMLVideoElement)?function Dt(rn,En){return Le.apply(this,arguments)}(rn,En):Z(rn,HTMLIFrameElement)?function Ae(rn){return se.apply(this,arguments)}(rn):rn.cloneNode(!1)}),Ee.apply(this,arguments)}const C=rn=>null!=rn.tagName&&"SLOT"===rn.tagName.toUpperCase();function J(){return(J=(0,r.A)(function*(rn,En,ar){var Er,Hr;let vr=[];return vr=C(rn)&&rn.assignedNodes?x(rn.assignedNodes()):Z(rn,HTMLIFrameElement)&&null!==(Er=rn.contentDocument)&&void 0!==Er&&Er.body?x(rn.contentDocument.body.childNodes):x((null!==(Hr=rn.shadowRoot)&&void 0!==Hr?Hr:rn).childNodes),0===vr.length||Z(rn,HTMLVideoElement)||(yield vr.reduce((Mt,te)=>Mt.then(()=>Ie(te,ar)).then(ze=>{ze&&En.appendChild(ze)}),Promise.resolve())),En})).apply(this,arguments)}function B(){return(B=(0,r.A)(function*(rn,En){const ar=rn.querySelectorAll?rn.querySelectorAll("use"):[];if(0===ar.length)return rn;const Er={};for(let vr=0;vr<ar.length;vr++){const te=ar[vr].getAttribute("xlink:href");if(te){const ze=rn.querySelector(te),Yt=document.querySelector(te);!ze&&Yt&&!Er[te]&&(Er[te]=yield Ie(Yt,En,!0))}}const Hr=Object.values(Er);if(Hr.length){const vr="http://www.w3.org/1999/xhtml",Mt=document.createElementNS(vr,"svg");Mt.setAttribute("xmlns",vr),Mt.style.position="absolute",Mt.style.width="0",Mt.style.height="0",Mt.style.overflow="hidden",Mt.style.display="none";const te=document.createElementNS(vr,"defs");Mt.appendChild(te);for(let ze=0;ze<Hr.length;ze++)te.appendChild(Hr[ze]);rn.appendChild(Mt)}return rn})).apply(this,arguments)}function Ie(rn,En,ar){return $e.apply(this,arguments)}function $e(){return $e=(0,r.A)(function*(rn,En,ar){return ar||!En.filter||En.filter(rn)?Promise.resolve(rn).then(Er=>function Me(rn,En){return Ee.apply(this,arguments)}(Er,En)).then(Er=>function T(rn,En,ar){return J.apply(this,arguments)}(rn,Er,En)).then(Er=>function p(rn,En){return Z(En,Element)&&(function W(rn,En){const ar=En.style;if(!ar)return;const Er=window.getComputedStyle(rn);Er.cssText?(ar.cssText=Er.cssText,ar.transformOrigin=Er.transformOrigin):x(Er).forEach(Hr=>{let vr=Er.getPropertyValue(Hr);"font-size"===Hr&&vr.endsWith("px")&&(vr=Math.floor(parseFloat(vr.substring(0,vr.length-2)))-.1+"px"),Z(rn,HTMLIFrameElement)&&"display"===Hr&&"inline"===vr&&(vr="block"),"d"===Hr&&En.getAttribute("d")&&(vr=`path(${En.getAttribute("d")})`),ar.setProperty(Hr,vr,Er.getPropertyPriority(Hr))})}(rn,En),function R(rn,En){K(rn,En,":before"),K(rn,En,":after")}(rn,En),function ve(rn,En){Z(rn,HTMLTextAreaElement)&&(En.innerHTML=rn.value),Z(rn,HTMLInputElement)&&En.setAttribute("value",rn.value)}(rn,En),function ne(rn,En){if(Z(rn,HTMLSelectElement)){const Er=Array.from(En.children).find(Hr=>rn.value===Hr.getAttribute("value"));Er&&Er.setAttribute("selected","")}}(rn,En)),En}(rn,Er)).then(Er=>function H(rn,En){return B.apply(this,arguments)}(Er,En)):null}),$e.apply(this,arguments)}const ft=/url\((['"]?)([^'"]+?)\1\)/g,kt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,jt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ke(){return(Ke=(0,r.A)(function*(rn,En,ar,Er,Hr){try{const vr=ar?function y(rn,En){if(rn.match(/^[a-z]+:\/\//i))return rn;if(rn.match(/^\/\//))return window.location.protocol+rn;if(rn.match(/^[a-z]+:/i))return rn;const ar=document.implementation.createHTMLDocument(),Er=ar.createElement("base"),Hr=ar.createElement("a");return ar.head.appendChild(Er),ar.body.appendChild(Hr),En&&(Er.href=En),Hr.href=rn,Hr.href}(En,ar):En,Mt=Ve(En);let te;return te=Hr?St(yield Hr(vr),Mt):yield Ge(vr,Mt,Er),rn.replace(function Ye(rn){const En=rn.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${En})(['"]?\\))`,"g")}(En),`$1${te}$3`)}catch{}return rn})).apply(this,arguments)}function rt(rn){return-1!==rn.search(ft)}function Ct(rn,En,ar){return mt.apply(this,arguments)}function mt(){return mt=(0,r.A)(function*(rn,En,ar){if(!rt(rn))return rn;const Er=function wt(rn,{preferredFontFormat:En}){return En?rn.replace(jt,ar=>{for(;;){const[Er,,Hr]=kt.exec(ar)||[];if(!Hr)return"";if(Hr===En)return`src: ${Er};`}}):rn}(rn,ar);return function ct(rn){const En=[];return rn.replace(ft,(ar,Er,Hr)=>(En.push(Hr),ar)),En.filter(ar=>!pt(ar))}(Er).reduce((vr,Mt)=>vr.then(te=>function It(rn,En,ar,Er,Hr){return Ke.apply(this,arguments)}(te,Mt,En,ar)),Promise.resolve(Er))}),mt.apply(this,arguments)}function Vt(rn,En,ar){return at.apply(this,arguments)}function at(){return(at=(0,r.A)(function*(rn,En,ar){var Er;const Hr=null===(Er=En.style)||void 0===Er?void 0:Er.getPropertyValue(rn);if(Hr){const vr=yield Ct(Hr,null,ar);return En.style.setProperty(rn,vr,En.style.getPropertyPriority(rn)),!0}return!1})).apply(this,arguments)}function ke(){return(ke=(0,r.A)(function*(rn,En){(yield Vt("background",rn,En))||(yield Vt("background-image",rn,En)),(yield Vt("mask",rn,En))||(yield Vt("mask-image",rn,En))})).apply(this,arguments)}function xt(){return(xt=(0,r.A)(function*(rn,En){const ar=Z(rn,HTMLImageElement);if((!ar||pt(rn.src))&&(!Z(rn,SVGImageElement)||pt(rn.href.baseVal)))return;const Er=ar?rn.src:rn.href.baseVal,Hr=yield Ge(Er,Ve(Er),En);yield new Promise((vr,Mt)=>{rn.onload=vr,rn.onerror=Mt;const te=rn;te.decode&&(te.decode=vr),"lazy"===te.loading&&(te.loading="eager"),ar?(rn.srcset="",rn.src=Hr):rn.href.baseVal=Hr})})).apply(this,arguments)}function vn(){return(vn=(0,r.A)(function*(rn,En){const Er=x(rn.childNodes).map(Hr=>kn(Hr,En));yield Promise.all(Er).then(()=>rn)})).apply(this,arguments)}function kn(rn,En){return tr.apply(this,arguments)}function tr(){return tr=(0,r.A)(function*(rn,En){Z(rn,Element)&&(yield function We(rn,En){return ke.apply(this,arguments)}(rn,En),yield function et(rn,En){return xt.apply(this,arguments)}(rn,En),yield function Zt(rn,En){return vn.apply(this,arguments)}(rn,En))}),tr.apply(this,arguments)}const nn={};function Ht(rn){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,r.A)(function*(rn){let En=nn[rn];return null!=En||(En={url:rn,cssText:yield(yield fetch(rn)).text()},nn[rn]=En),En})).apply(this,arguments)}function Nn(rn,En){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,r.A)(function*(rn,En){let ar=rn.cssText;const Er=/url\(["']?([^"')]+)["']?\)/g,vr=(ar.match(/url\([^)]+\)/g)||[]).map(function(){var Mt=(0,r.A)(function*(te){let ze=te.replace(Er,"$1");return ze.startsWith("https://")||(ze=new URL(ze,rn.url).href),Rn(ze,En.fetchRequestInit,({result:Yt})=>(ar=ar.replace(te,`url(${Yt})`),[te,Yt]))});return function(te){return Mt.apply(this,arguments)}}());return Promise.all(vr).then(()=>ar)}),Ot.apply(this,arguments)}function Mn(rn){if(null==rn)return[];const En=[];let Er=rn.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const Hr=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const ze=Hr.exec(Er);if(null===ze)break;En.push(ze[0])}Er=Er.replace(Hr,"");const vr=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,te=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let ze=vr.exec(Er);if(null===ze){if(ze=te.exec(Er),null===ze)break;vr.lastIndex=te.lastIndex}else te.lastIndex=vr.lastIndex;En.push(ze[0])}return En}function Pn(){return(Pn=(0,r.A)(function*(rn,En){const ar=[],Er=[];return rn.forEach(Hr=>{if("cssRules"in Hr)try{x(Hr.cssRules||[]).forEach((vr,Mt)=>{if(vr.type===CSSRule.IMPORT_RULE){let te=Mt+1;const Yt=Ht(vr.href).then(An=>Nn(An,En)).then(An=>Mn(An).forEach(Kn=>{try{Hr.insertRule(Kn,Kn.startsWith("@import")?te+=1:Hr.cssRules.length)}catch(sr){console.error("Error inserting rule from remote css",{rule:Kn,error:sr})}})).catch(An=>{console.error("Error loading remote css",An.toString())});Er.push(Yt)}})}catch(vr){const Mt=rn.find(te=>null==te.href)||document.styleSheets[0];null!=Hr.href&&Er.push(Ht(Hr.href).then(te=>Nn(te,En)).then(te=>Mn(te).forEach(ze=>{Mt.insertRule(ze,Hr.cssRules.length)})).catch(te=>{console.error("Error loading remote stylesheet",te)})),console.error("Error inlining remote css file",vr)}}),Promise.all(Er).then(()=>(rn.forEach(Hr=>{if("cssRules"in Hr)try{x(Hr.cssRules||[]).forEach(vr=>{ar.push(vr)})}catch(vr){console.error(`Error while reading CSS rules from ${Hr.href}`,vr)}}),ar))})).apply(this,arguments)}function bn(){return bn=(0,r.A)(function*(rn,En){if(null==rn.ownerDocument)throw new Error("Provided element is not within a Document");const ar=x(rn.ownerDocument.styleSheets),Er=yield function Bn(rn,En){return Pn.apply(this,arguments)}(ar,En);return function Dn(rn){return rn.filter(En=>En.type===CSSRule.FONT_FACE_RULE).filter(En=>rt(En.style.getPropertyValue("src")))}(Er)}),bn.apply(this,arguments)}function _e(){return _e=(0,r.A)(function*(rn,En){const ar=yield function tn(rn,En){return bn.apply(this,arguments)}(rn,En);return(yield Promise.all(ar.map(Hr=>Ct(Hr.cssText,Hr.parentStyleSheet?Hr.parentStyleSheet.href:null,En)))).join("\n")}),_e.apply(this,arguments)}function Be(){return Be=(0,r.A)(function*(rn,En){const ar=null!=En.fontEmbedCSS?En.fontEmbedCSS:En.skipFonts?null:yield function yt(rn,En){return _e.apply(this,arguments)}(rn,En);if(ar){const Er=document.createElement("style"),Hr=document.createTextNode(ar);Er.appendChild(Hr),rn.firstChild?rn.insertBefore(Er,rn.firstChild):rn.appendChild(Er)}}),Be.apply(this,arguments)}function zt(){return zt=(0,r.A)(function*(rn,En={}){const{width:ar,height:Er}=S(rn,En),Hr=yield Ie(rn,En,!0);return yield function he(rn,En){return Be.apply(this,arguments)}(Hr,En),yield kn(Hr,En),function dn(rn,En){const{style:ar}=rn;En.backgroundColor&&(ar.backgroundColor=En.backgroundColor),En.width&&(ar.width=`${En.width}px`),En.height&&(ar.height=`${En.height}px`);const Er=En.style;null!=Er&&Object.keys(Er).forEach(Hr=>{ar[Hr]=Er[Hr]})}(Hr,En),yield function X(rn,En,ar){return re.apply(this,arguments)}(Hr,ar,Er)}),zt.apply(this,arguments)}function on(rn){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,r.A)(function*(rn,En={}){const{width:ar,height:Er}=S(rn,En),Hr=yield function ht(rn){return zt.apply(this,arguments)}(rn,En),vr=yield A(Hr),Mt=document.createElement("canvas"),te=Mt.getContext("2d"),ze=En.pixelRatio||function U(){let rn,En;try{En=process}catch{}const ar=En&&En.env?En.env.devicePixelRatio:null;return ar&&(rn=parseInt(ar,10),Number.isNaN(rn)&&(rn=1)),rn||window.devicePixelRatio||1}(),Yt=En.canvasWidth||ar,An=En.canvasHeight||Er;return Mt.width=Yt*ze,Mt.height=An*ze,En.skipAutoScale||function b(rn){(rn.width>O||rn.height>O)&&(rn.width>O&&rn.height>O?rn.width>rn.height?(rn.height*=O/rn.width,rn.width=O):(rn.width*=O/rn.height,rn.height=O):rn.width>O?(rn.height*=O/rn.width,rn.width=O):(rn.width*=O/rn.height,rn.height=O))}(Mt),Mt.style.width=`${Yt}`,Mt.style.height=`${An}`,En.backgroundColor&&(te.fillStyle=En.backgroundColor,te.fillRect(0,0,Mt.width,Mt.height)),te.drawImage(vr,0,0,Mt.width,Mt.height),Mt}),Hn.apply(this,arguments)}},49204:function(ln,ye,w){var r;ln=w.nmd(ln),function(){var y,d="Expected a function",F="__lodash_hash_undefined__",U="__lodash_placeholder__",K=128,Rn=1/0,G=9007199254740991,Ge=4294967295,bt=[["ary",K],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Dt="[object Arguments]",Le="[object Array]",se="[object Boolean]",Me="[object Date]",C="[object Error]",T="[object Function]",J="[object GeneratorFunction]",W="[object Map]",ve="[object Number]",p="[object Object]",H="[object Promise]",Ie="[object RegExp]",$e="[object Set]",ft="[object String]",kt="[object Symbol]",Ye="[object WeakMap]",It="[object ArrayBuffer]",Ke="[object DataView]",wt="[object Float32Array]",rt="[object Float64Array]",Ct="[object Int8Array]",mt="[object Int16Array]",Vt="[object Int32Array]",at="[object Uint8Array]",We="[object Uint8ClampedArray]",ke="[object Uint16Array]",et="[object Uint32Array]",xt=/\b__p \+= '';/g,Zt=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kn=/&(?:amp|lt|gt|quot|#39);/g,tr=/[&<>"']/g,dn=RegExp(kn.source),nn=RegExp(tr.source),Ht=/<%-([\s\S]+?)%>/g,Xt=/<%([\s\S]+?)%>/g,Nn=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mn=/^\w*$/,Bn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pn=/[\\^$.*+?()[\]{}|]/g,Dn=RegExp(Pn.source),tn=/^\s+/,bn=/\s/,yt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_e=/\{\n\/\* \[wrapped with (.+)\] \*/,he=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,zt=/\\(\\)?/g,on=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hn=/\w*$/,Ar=/^[-+]0x[0-9a-f]+$/i,Ir=/^0b[01]+$/i,ti=/^\[object .+?Constructor\]$/,Yr=/^0o[0-7]+$/i,Ki=/^(?:0|[1-9]\d*)$/,mi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,er=/($^)/,ur=/['\n\r\u2028\u2029\\]/g,Ei="\\ud800-\\udfff",ar="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Er="\\u2700-\\u27bf",Hr="a-z\\xdf-\\xf6\\xf8-\\xff",Yt="A-Z\\xc0-\\xd6\\xd8-\\xde",An="\\ufe0e\\ufe0f",Kn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pr="["+Ei+"]",Sr="["+Kn+"]",Ur="["+ar+"]",ri="\\d+",Ri="["+Er+"]",ji="["+Hr+"]",$i="[^"+Ei+Kn+ri+Er+Hr+Yt+"]",Yi="\\ud83c[\\udffb-\\udfff]",yo="[^"+Ei+"]",Fo="(?:\\ud83c[\\udde6-\\uddff]){2}",$t="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="["+Yt+"]",en="(?:"+ji+"|"+$i+")",Sn="(?:"+Se+"|"+$i+")",ir="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Vr="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Oi="(?:"+Ur+"|"+Yi+")?",Wr="["+An+"]?",xs=Wr+Oi+"(?:\\u200d(?:"+[yo,Fo,$t].join("|")+")"+Wr+Oi+")*",da="(?:"+[Ri,Fo,$t].join("|")+")"+xs,Os="(?:"+[yo+Ur+"?",Ur,Fo,$t,Pr].join("|")+")",Lo=RegExp("['\u2019]","g"),ps=RegExp(Ur,"g"),Xo=RegExp(Yi+"(?="+Yi+")|"+Os+xs,"g"),Ns=RegExp([Se+"?"+ji+"+"+ir+"(?="+[Sr,Se,"$"].join("|")+")",Sn+"+"+Vr+"(?="+[Sr,Se+en,"$"].join("|")+")",Se+"?"+en+"+"+ir,Se+"+"+Vr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ri,da].join("|"),"g"),zn=RegExp("[\\u200d"+Ei+ar+An+"]"),Wn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],li=-1,hi={};hi[wt]=hi[rt]=hi[Ct]=hi[mt]=hi[Vt]=hi[at]=hi[We]=hi[ke]=hi[et]=!0,hi[Dt]=hi[Le]=hi[It]=hi[se]=hi[Ke]=hi[Me]=hi[C]=hi[T]=hi[W]=hi[ve]=hi[p]=hi[Ie]=hi[$e]=hi[ft]=hi[Ye]=!1;var ni={};ni[Dt]=ni[Le]=ni[It]=ni[Ke]=ni[se]=ni[Me]=ni[wt]=ni[rt]=ni[Ct]=ni[mt]=ni[Vt]=ni[W]=ni[ve]=ni[p]=ni[Ie]=ni[$e]=ni[ft]=ni[kt]=ni[at]=ni[We]=ni[ke]=ni[et]=!0,ni[C]=ni[T]=ni[Ye]=!1;var Ui={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},os=parseFloat,es=parseInt,rs="object"==typeof global&&global&&global.Object===Object&&global,Ps="object"==typeof self&&self&&self.Object===Object&&self,Oo=rs||Ps||Function("return this")(),Ts=ye&&!ye.nodeType&&ye,gs=Ts&&ln&&!ln.nodeType&&ln,ha=gs&&gs.exports===Ts,Es=ha&&rs.process,Vo=function(){try{return gs&&gs.require&&gs.require("util").types||Es&&Es.binding&&Es.binding("util")}catch{}}(),Ls=Vo&&Vo.isArrayBuffer,_s=Vo&&Vo.isDate,ea=Vo&&Vo.isMap,us=Vo&&Vo.isRegExp,Gn=Vo&&Vo.isSet,Yn=Vo&&Vo.isTypedArray;function or(an,Ln,In){switch(In.length){case 0:return an.call(Ln);case 1:return an.call(Ln,In[0]);case 2:return an.call(Ln,In[0],In[1]);case 3:return an.call(Ln,In[0],In[1],In[2])}return an.apply(Ln,In)}function Cr(an,Ln,In,rr){for(var Zr=-1,xi=null==an?0:an.length;++Zr<xi;){var Li=an[Zr];Ln(rr,Li,In(Li),an)}return rr}function fi(an,Ln){for(var In=-1,rr=null==an?0:an.length;++In<rr&&!1!==Ln(an[In],In,an););return an}function Fi(an,Ln){for(var In=null==an?0:an.length;In--&&!1!==Ln(an[In],In,an););return an}function so(an,Ln){for(var In=-1,rr=null==an?0:an.length;++In<rr;)if(!Ln(an[In],In,an))return!1;return!0}function Co(an,Ln){for(var In=-1,rr=null==an?0:an.length,Zr=0,xi=[];++In<rr;){var Li=an[In];Ln(Li,In,an)&&(xi[Zr++]=Li)}return xi}function eo(an,Ln){return!(null==an||!an.length)&&ao(an,Ln,0)>-1}function Wt(an,Ln,In){for(var rr=-1,Zr=null==an?0:an.length;++rr<Zr;)if(In(Ln,an[rr]))return!0;return!1}function mn(an,Ln){for(var In=-1,rr=null==an?0:an.length,Zr=Array(rr);++In<rr;)Zr[In]=Ln(an[In],In,an);return Zr}function _n(an,Ln){for(var In=-1,rr=Ln.length,Zr=an.length;++In<rr;)an[Zr+In]=Ln[In];return an}function fr(an,Ln,In,rr){var Zr=-1,xi=null==an?0:an.length;for(rr&&xi&&(In=an[++Zr]);++Zr<xi;)In=Ln(In,an[Zr],Zr,an);return In}function Tr(an,Ln,In,rr){var Zr=null==an?0:an.length;for(rr&&Zr&&(In=an[--Zr]);Zr--;)In=Ln(In,an[Zr],Zr,an);return In}function lr(an,Ln){for(var In=-1,rr=null==an?0:an.length;++In<rr;)if(Ln(an[In],In,an))return!0;return!1}var Br=Po("length");function Jr(an,Ln,In){var rr;return In(an,function(Zr,xi,Li){if(Ln(Zr,xi,Li))return rr=xi,!1}),rr}function Wi(an,Ln,In,rr){for(var Zr=an.length,xi=In+(rr?1:-1);rr?xi--:++xi<Zr;)if(Ln(an[xi],xi,an))return xi;return-1}function ao(an,Ln,In){return Ln==Ln?function Rt(an,Ln,In){for(var rr=In-1,Zr=an.length;++rr<Zr;)if(an[rr]===Ln)return rr;return-1}(an,Ln,In):Wi(an,_o,In)}function vo(an,Ln,In,rr){for(var Zr=In-1,xi=an.length;++Zr<xi;)if(rr(an[Zr],Ln))return Zr;return-1}function _o(an){return an!=an}function wo(an,Ln){var In=null==an?0:an.length;return In?Qt(an,Ln)/In:NaN}function Po(an){return function(Ln){return null==Ln?y:Ln[an]}}function xo(an){return function(Ln){return null==an?y:an[Ln]}}function Qo(an,Ln,In,rr,Zr){return Zr(an,function(xi,Li,Ii){In=rr?(rr=!1,xi):Ln(In,xi,Li,Ii)}),In}function Qt(an,Ln){for(var In,rr=-1,Zr=an.length;++rr<Zr;){var xi=Ln(an[rr]);xi!==y&&(In=In===y?xi:In+xi)}return In}function He(an,Ln){for(var In=-1,rr=Array(an);++In<an;)rr[In]=Ln(In);return rr}function pe(an){return an&&an.slice(0,Qn(an)+1).replace(tn,"")}function k(an){return function(Ln){return an(Ln)}}function le(an,Ln){return mn(Ln,function(In){return an[In]})}function q(an,Ln){return an.has(Ln)}function Je(an,Ln){for(var In=-1,rr=an.length;++In<rr&&ao(Ln,an[In],0)>-1;);return In}function Ut(an,Ln){for(var In=an.length;In--&&ao(Ln,an[In],0)>-1;);return In}var gr=xo({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Xi=xo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function to(an){return"\\"+Ui[an]}function Qr(an){return zn.test(an)}function Nt(an){var Ln=-1,In=Array(an.size);return an.forEach(function(rr,Zr){In[++Ln]=[Zr,rr]}),In}function N(an,Ln){return function(In){return an(Ln(In))}}function V(an,Ln){for(var In=-1,rr=an.length,Zr=0,xi=[];++In<rr;){var Li=an[In];(Li===Ln||Li===U)&&(an[In]=U,xi[Zr++]=In)}return xi}function Oe(an){var Ln=-1,In=Array(an.size);return an.forEach(function(rr){In[++Ln]=rr}),In}function gn(an){return Qr(an)?function mr(an){for(var Ln=Xo.lastIndex=0;Xo.test(an);)++Ln;return Ln}(an):Br(an)}function jn(an){return Qr(an)?function Or(an){return an.match(Xo)||[]}(an):function jr(an){return an.split("")}(an)}function Qn(an){for(var Ln=an.length;Ln--&&bn.test(an.charAt(Ln)););return Ln}var yr=xo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Vi=function an(Ln){var c,In=(Ln=null==Ln?Oo:Vi.defaults(Oo.Object(),Ln,Vi.pick(Oo,Nr))).Array,rr=Ln.Date,Zr=Ln.Error,xi=Ln.Function,Li=Ln.Math,Ii=Ln.Object,Ti=Ln.RegExp,Ko=Ln.String,Ji=Ln.TypeError,No=In.prototype,ts=Ii.prototype,Ms=Ln["__core-js_shared__"],Yo=xi.prototype.toString,jo=ts.hasOwnProperty,Ea=0,js=(c=/[^.]+$/.exec(Ms&&Ms.keys&&Ms.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",oa=ts.toString,Sa=Yo.call(Ii),Za=Oo._,gc=Ti("^"+Yo.call(jo).replace(Pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$a=ha?Ln.Buffer:y,Pa=Ln.Symbol,ro=Ln.Uint8Array,bo=$a?$a.allocUnsafe:y,Bo=N(Ii.getPrototypeOf,Ii),Fs=Ii.create,as=ts.propertyIsEnumerable,sa=No.splice,Ds=Pa?Pa.isConcatSpreadable:y,ks=Pa?Pa.iterator:y,ms=Pa?Pa.toStringTag:y,_=function(){try{var c=pu(Ii,"defineProperty");return c({},"",{}),c}catch{}}(),Q=Ln.clearTimeout!==Oo.clearTimeout&&Ln.clearTimeout,P=rr&&rr.now!==Oo.Date.now&&rr.now,ae=Ln.setTimeout!==Oo.setTimeout&&Ln.setTimeout,nt=Li.ceil,Pt=Li.floor,sn=Ii.getOwnPropertySymbols,cr=$a?$a.isBuffer:y,Xr=Ln.isFinite,oi=No.join,gi=N(Ii.keys,Ii),qr=Li.max,vi=Li.min,ki=rr.now,si=Ln.parseInt,fo=Li.random,ds=No.reverse,Us=pu(Ln,"DataView"),As=pu(Ln,"Map"),ta=pu(Ln,"Promise"),aa=pu(Ln,"Set"),hs=pu(Ln,"WeakMap"),Bs=pu(Ii,"create"),ya=hs&&new hs,Go={},ll=Hc(Us),uc=Hc(As),Aa=Hc(ta),Ws=Hc(aa),_c=Hc(hs),vc=Pa?Pa.prototype:y,ka=vc?vc.valueOf:y,Bc=vc?vc.toString:y;function yn(c){if(_a(c)&&!Fr(c)&&!(c instanceof zi)){if(c instanceof va)return c;if(jo.call(c,"__wrapped__"))return Hd(c)}return new va(c)}var dc=function(){function c(){}return function(E){if(!la(E))return{};if(Fs)return Fs(E);c.prototype=E;var me=new c;return c.prototype=y,me}}();function Nc(){}function va(c,E){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=y}function zi(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ge,this.__views__=[]}function yc(c){var E=-1,me=null==c?0:c.length;for(this.clear();++E<me;){var dt=c[E];this.set(dt[0],dt[1])}}function tc(c){var E=-1,me=null==c?0:c.length;for(this.clear();++E<me;){var dt=c[E];this.set(dt[0],dt[1])}}function Dc(c){var E=-1,me=null==c?0:c.length;for(this.clear();++E<me;){var dt=c[E];this.set(dt[0],dt[1])}}function Zc(c){var E=-1,me=null==c?0:c.length;for(this.__data__=new Dc;++E<me;)this.add(c[E])}function Qe(c){var E=this.__data__=new tc(c);this.size=E.size}function zr(c,E){var me=Fr(c),dt=!me&&Di(c),qt=!me&&!dt&&ns(c),On=!me&&!dt&&!qt&&Oc(c),nr=me||dt||qt||On,Zn=nr?He(c.length,Ko):[],kr=Zn.length;for(var Bi in c)(E||jo.call(c,Bi))&&(!nr||!("length"==Bi||qt&&("offset"==Bi||"parent"==Bi)||On&&("buffer"==Bi||"byteLength"==Bi||"byteOffset"==Bi)||Il(Bi,kr)))&&Zn.push(Bi);return Zn}function Dr(c){var E=c.length;return E?c[Ga(0,E-1)]:y}function uo(c,E){return Gd(Ic(c),pc(E,0,c.length))}function Uo(c){return Gd(Ic(c))}function qo(c,E,me){(me!==y&&!ei(c[E],me)||me===y&&!(E in c))&&Ia(c,E,me)}function Ks(c,E,me){var dt=c[E];(!jo.call(c,E)||!ei(dt,me)||me===y&&!(E in c))&&Ia(c,E,me)}function na(c,E){for(var me=c.length;me--;)if(ei(c[me][0],E))return me;return-1}function Gs(c,E,me,dt){return Jc(c,function(qt,On,nr){E(dt,qt,me(qt),nr)}),dt}function Uc(c,E){return c&&Gc(E,Mr(E),c)}function Ia(c,E,me){"__proto__"==E&&_?_(c,E,{configurable:!0,enumerable:!0,value:me,writable:!0}):c[E]=me}function ul(c,E){for(var me=-1,dt=E.length,qt=In(dt),On=null==c;++me<dt;)qt[me]=On?y:Sd(c,E[me]);return qt}function pc(c,E,me){return c==c&&(me!==y&&(c=c<=me?c:me),E!==y&&(c=c>=E?c:E)),c}function mc(c,E,me,dt,qt,On){var nr,Zn=1&E,kr=2&E,Bi=4&E;if(me&&(nr=qt?me(c,dt,qt,On):me(c)),nr!==y)return nr;if(!la(c))return c;var Pi=Fr(c);if(Pi){if(nr=function Qa(c){var E=c.length,me=new c.constructor(E);return E&&"string"==typeof c[0]&&jo.call(c,"index")&&(me.index=c.index,me.input=c.input),me}(c),!Zn)return Ic(c,nr)}else{var qi=ic(c),Mo=qi==T||qi==J;if(ns(c))return ls(c,Zn);if(qi==p||qi==Dt||Mo&&!qt){if(nr=kr||Mo?{}:xh(c),!Zn)return kr?function Nd(c,E){return Gc(c,If(c),E)}(c,function Ra(c,E){return c&&Gc(E,co(E),c)}(nr,c)):function ud(c,E){return Gc(c,Wl(c),E)}(c,Uc(nr,c))}else{if(!ni[qi])return qt?c:{};nr=function Of(c,E,me){var dt=c.constructor;switch(E){case It:return fa(c);case se:case Me:return new dt(+c);case Ke:return function Cc(c,E){var me=E?fa(c.buffer):c.buffer;return new c.constructor(me,c.byteOffset,c.byteLength)}(c,me);case wt:case rt:case Ct:case mt:case Vt:case at:case We:case ke:case et:return Tf(c,me);case W:return new dt;case ve:case ft:return new dt(c);case Ie:return function jp(c){var E=new c.constructor(c.source,Hn.exec(c));return E.lastIndex=c.lastIndex,E}(c);case $e:return new dt;case kt:return function gh(c){return ka?Ii(ka.call(c)):{}}(c)}}(c,qi,Zn)}}On||(On=new Qe);var zo=On.get(c);if(zo)return zo;On.set(c,nr),Td(c)?c.forEach(function(ss){nr.add(mc(ss,E,me,ss,c,On))}):Pl(c)&&c.forEach(function(ss,Vs){nr.set(Vs,mc(ss,E,me,Vs,c,On))});var ys=Pi?y:(Bi?kr?hu:$l:kr?co:Mr)(c);return fi(ys||c,function(ss,Vs){ys&&(ss=c[Vs=ss]),Ks(nr,Vs,mc(ss,E,me,Vs,c,On))}),nr}function od(c,E,me){var dt=me.length;if(null==c)return!dt;for(c=Ii(c);dt--;){var qt=me[dt],nr=c[qt];if(nr===y&&!(qt in c)||!(0,E[qt])(nr))return!1}return!0}function sd(c,E,me){if("function"!=typeof c)throw new Ji(d);return iu(function(){c.apply(y,me)},E)}function qc(c,E,me,dt){var qt=-1,On=eo,nr=!0,Zn=c.length,kr=[],Bi=E.length;if(!Zn)return kr;me&&(E=mn(E,k(me))),dt?(On=Wt,nr=!1):E.length>=200&&(On=q,nr=!1,E=new Zc(E));e:for(;++qt<Zn;){var Pi=c[qt],qi=null==me?Pi:me(Pi);if(Pi=dt||0!==Pi?Pi:0,nr&&qi==qi){for(var Mo=Bi;Mo--;)if(E[Mo]===qi)continue e;kr.push(Pi)}else On(E,qi,dt)||kr.push(Pi)}return kr}yn.templateSettings={escape:Ht,evaluate:Xt,interpolate:Nn,variable:"",imports:{_:yn}},(yn.prototype=Nc.prototype).constructor=yn,(va.prototype=dc(Nc.prototype)).constructor=va,(zi.prototype=dc(Nc.prototype)).constructor=zi,yc.prototype.clear=function Ua(){this.__data__=Bs?Bs(null):{},this.size=0},yc.prototype.delete=function ma(c){var E=this.has(c)&&delete this.__data__[c];return this.size-=E?1:0,E},yc.prototype.get=function Ll(c){var E=this.__data__;if(Bs){var me=E[c];return me===F?y:me}return jo.call(E,c)?E[c]:y},yc.prototype.has=function Zo(c){var E=this.__data__;return Bs?E[c]!==y:jo.call(E,c)},yc.prototype.set=function Ma(c,E){var me=this.__data__;return this.size+=this.has(c)?0:1,me[c]=Bs&&E===y?F:E,this},tc.prototype.clear=function Lc(){this.__data__=[],this.size=0},tc.prototype.delete=function Ho(c){var E=this.__data__,me=na(E,c);return!(me<0||(me==E.length-1?E.pop():sa.call(E,me,1),--this.size,0))},tc.prototype.get=function bc(c){var E=this.__data__,me=na(E,c);return me<0?y:E[me][1]},tc.prototype.has=function nc(c){return na(this.__data__,c)>-1},tc.prototype.set=function rc(c,E){var me=this.__data__,dt=na(me,c);return dt<0?(++this.size,me.push([c,E])):me[dt][1]=E,this},Dc.prototype.clear=function Ul(){this.size=0,this.__data__={hash:new yc,map:new(As||tc),string:new yc}},Dc.prototype.delete=function au(c){var E=md(this,c).delete(c);return this.size-=E?1:0,E},Dc.prototype.get=function rd(c){return md(this,c).get(c)},Dc.prototype.has=function fc(c){return md(this,c).has(c)},Dc.prototype.set=function id(c,E){var me=md(this,c),dt=me.size;return me.set(c,E),this.size+=me.size==dt?0:1,this},Zc.prototype.add=Zc.prototype.push=function Fd(c){return this.__data__.set(c,F),this},Zc.prototype.has=function be(c){return this.__data__.has(c)},Qe.prototype.clear=function we(){this.__data__=new tc,this.size=0},Qe.prototype.delete=function qe(c){var E=this.__data__,me=E.delete(c);return this.size=E.size,me},Qe.prototype.get=function Ft(c){return this.__data__.get(c)},Qe.prototype.has=function pn(c){return this.__data__.has(c)},Qe.prototype.set=function Vn(c,E){var me=this.__data__;if(me instanceof tc){var dt=me.__data__;if(!As||dt.length<199)return dt.push([c,E]),this.size=++me.size,this;me=this.__data__=new Dc(dt)}return me.set(c,E),this.size=me.size,this};var Jc=_h(Wa),Sc=_h(Vc,!0);function Pu(c,E){var me=!0;return Jc(c,function(dt,qt,On){return me=!!E(dt,qt,On)}),me}function tu(c,E,me){for(var dt=-1,qt=c.length;++dt<qt;){var On=c[dt],nr=E(On);if(null!=nr&&(Zn===y?nr==nr&&!Ka(nr):me(nr,Zn)))var Zn=nr,kr=On}return kr}function Fu(c,E){var me=[];return Jc(c,function(dt,qt,On){E(dt,qt,On)&&me.push(dt)}),me}function Ca(c,E,me,dt,qt){var On=-1,nr=c.length;for(me||(me=Mh),qt||(qt=[]);++On<nr;){var Zn=c[On];E>0&&me(Zn)?E>1?Ca(Zn,E-1,me,dt,qt):_n(qt,Zn):dt||(qt[qt.length]=Zn)}return qt}var Va=Df(),ku=Df(!0);function Wa(c,E){return c&&Va(c,E,Mr)}function Vc(c,E){return c&&ku(c,E,Mr)}function ja(c,E){return Co(E,function(me){return ra(c[me])})}function jc(c,E){for(var me=0,dt=(E=dl(E,c)).length;null!=c&&me<dt;)c=c[il(E[me++])];return me&&me==dt?c:y}function Rc(c,E,me){var dt=E(c);return Fr(c)?dt:_n(dt,me(c))}function qa(c){return null==c?c===y?"[object Undefined]":"[object Null]":ms&&ms in Ii(c)?function jd(c){var E=jo.call(c,ms),me=c[ms];try{c[ms]=y;var dt=!0}catch{}var qt=oa.call(c);return dt&&(E?c[ms]=me:delete c[ms]),qt}(c):function kf(c){return oa.call(c)}(c)}function Ja(c,E){return c>E}function Cl(c,E){return null!=c&&jo.call(c,E)}function Bu(c,E){return null!=c&&E in Ii(c)}function m(c,E,me){for(var dt=me?Wt:eo,qt=c[0].length,On=c.length,nr=On,Zn=In(On),kr=1/0,Bi=[];nr--;){var Pi=c[nr];nr&&E&&(Pi=mn(Pi,k(E))),kr=vi(Pi.length,kr),Zn[nr]=!me&&(E||qt>=120&&Pi.length>=120)?new Zc(nr&&Pi):y}Pi=c[0];var qi=-1,Mo=Zn[0];e:for(;++qi<qt&&Bi.length<kr;){var zo=Pi[qi],is=E?E(zo):zo;if(zo=me||0!==zo?zo:0,!(Mo?q(Mo,is):dt(Bi,is,me))){for(nr=On;--nr;){var ys=Zn[nr];if(!(ys?q(ys,is):dt(c[nr],is,me)))continue e}Mo&&Mo.push(is),Bi.push(zo)}}return Bi}function Xe(c,E,me){var dt=null==(c=ru(c,E=dl(E,c)))?c:c[il(Na(E))];return null==dt?y:or(dt,c,me)}function gt(c){return _a(c)&&qa(c)==Dt}function cn(c,E,me,dt,qt){return c===E||(null==c||null==E||!_a(c)&&!_a(E)?c!=c&&E!=E:function Un(c,E,me,dt,qt,On){var nr=Fr(c),Zn=Fr(E),kr=nr?Le:ic(c),Bi=Zn?Le:ic(E),Pi=(kr=kr==Dt?p:kr)==p,qi=(Bi=Bi==Dt?p:Bi)==p,Mo=kr==Bi;if(Mo&&ns(c)){if(!ns(E))return!1;nr=!0,Pi=!1}if(Mo&&!Pi)return On||(On=new Qe),nr||Oc(c)?tl(c,E,me,dt,qt,On):function Hp(c,E,me,dt,qt,On,nr){switch(me){case Ke:if(c.byteLength!=E.byteLength||c.byteOffset!=E.byteOffset)return!1;c=c.buffer,E=E.buffer;case It:return!(c.byteLength!=E.byteLength||!On(new ro(c),new ro(E)));case se:case Me:case ve:return ei(+c,+E);case C:return c.name==E.name&&c.message==E.message;case Ie:case ft:return c==E+"";case W:var Zn=Nt;case $e:if(Zn||(Zn=Oe),c.size!=E.size&&!(1&dt))return!1;var Bi=nr.get(c);if(Bi)return Bi==E;dt|=2,nr.set(c,E);var Pi=tl(Zn(c),Zn(E),dt,qt,On,nr);return nr.delete(c),Pi;case kt:if(ka)return ka.call(c)==ka.call(E)}return!1}(c,E,kr,me,dt,qt,On);if(!(1&me)){var zo=Pi&&jo.call(c,"__wrapped__"),is=qi&&jo.call(E,"__wrapped__");if(zo||is){var ys=zo?c.value():c,ss=is?E.value():E;return On||(On=new Qe),qt(ys,ss,me,dt,On)}}return!!Mo&&(On||(On=new Qe),function zl(c,E,me,dt,qt,On){var nr=1&me,Zn=$l(c),kr=Zn.length;if(kr!=$l(E).length&&!nr)return!1;for(var qi=kr;qi--;){var Mo=Zn[qi];if(!(nr?Mo in E:jo.call(E,Mo)))return!1}var zo=On.get(c),is=On.get(E);if(zo&&is)return zo==E&&is==c;var ys=!0;On.set(c,E),On.set(E,c);for(var ss=nr;++qi<kr;){var Vs=c[Mo=Zn[qi]],Js=E[Mo];if(dt)var Qc=nr?dt(Js,Vs,Mo,E,c,On):dt(Vs,Js,Mo,c,E,On);if(!(Qc===y?Vs===Js||qt(Vs,Js,me,dt,On):Qc)){ys=!1;break}ss||(ss="constructor"==Mo)}if(ys&&!ss){var xc=c.constructor,Yc=E.constructor;xc!=Yc&&"constructor"in c&&"constructor"in E&&!("function"==typeof xc&&xc instanceof xc&&"function"==typeof Yc&&Yc instanceof Yc)&&(ys=!1)}return On.delete(c),On.delete(E),ys}(c,E,me,dt,qt,On))}(c,E,me,dt,cn,qt))}function _r(c,E,me,dt){var qt=me.length,On=qt,nr=!dt;if(null==c)return!On;for(c=Ii(c);qt--;){var Zn=me[qt];if(nr&&Zn[2]?Zn[1]!==c[Zn[0]]:!(Zn[0]in c))return!1}for(;++qt<On;){var kr=(Zn=me[qt])[0],Bi=c[kr],Pi=Zn[1];if(nr&&Zn[2]){if(Bi===y&&!(kr in c))return!1}else{var qi=new Qe;if(dt)var Mo=dt(Bi,Pi,kr,c,E,qi);if(!(Mo===y?cn(Pi,Bi,3,dt,qi):Mo))return!1}}return!0}function Kr(c){return!(!la(c)||function ml(c){return!!js&&js in c}(c))&&(ra(c)?gc:ti).test(Hc(c))}function Qi(c){return"function"==typeof c?c:null==c?kc:"object"==typeof c?Fr(c)?ko(c[0],c[1]):So(c):Tm(c)}function ai(c){if(!Xl(c))return gi(c);var E=[];for(var me in Ii(c))jo.call(c,me)&&"constructor"!=me&&E.push(me);return E}function $o(c,E){return c<E}function Io(c,E){var me=-1,dt=wi(c)?In(c.length):[];return Jc(c,function(qt,On,nr){dt[++me]=E(qt,On,nr)}),dt}function So(c){var E=Vd(c);return 1==E.length&&E[0][2]?Rh(E[0][0],E[0][1]):function(me){return me===c||_r(me,c,E)}}function ko(c,E){return _u(c)&&Pf(E)?Rh(il(c),E):function(me){var dt=Sd(me,c);return dt===y&&dt===E?Rd(me,c):cn(E,dt,3)}}function br(c,E,me,dt,qt){c!==E&&Va(E,function(On,nr){if(qt||(qt=new Qe),la(On))!function To(c,E,me,dt,qt,On,nr){var Zn=vd(c,me),kr=vd(E,me),Bi=nr.get(kr);if(Bi)qo(c,me,Bi);else{var Pi=On?On(Zn,kr,me+"",c,E,nr):y,qi=Pi===y;if(qi){var Mo=Fr(kr),zo=!Mo&&ns(kr),is=!Mo&&!zo&&Oc(kr);Pi=kr,Mo||zo||is?Fr(Zn)?Pi=Zn:po(Zn)?Pi=Ic(Zn):zo?(qi=!1,Pi=ls(kr,!0)):is?(qi=!1,Pi=Tf(kr,!0)):Pi=[]:vl(kr)||Di(kr)?(Pi=Zn,Di(Zn)?Pi=ef(Zn):(!la(Zn)||ra(Zn))&&(Pi=xh(kr))):qi=!1}qi&&(nr.set(kr,Pi),qt(Pi,kr,dt,On,nr),nr.delete(kr)),qo(c,me,Pi)}}(c,E,nr,me,br,dt,qt);else{var Zn=dt?dt(vd(c,nr),On,nr+"",c,E,qt):y;Zn===y&&(Zn=On),qo(c,nr,Zn)}},co)}function Ss(c,E){var me=c.length;if(me)return Il(E+=E<0?me:0,me)?c[E]:y}function zs(c,E,me){E=E.length?mn(E,function(On){return Fr(On)?function(nr){return jc(nr,1===On.length?On[0]:On)}:On}):[kc];var dt=-1;return E=mn(E,k(Jo())),function tt(an,Ln){var In=an.length;for(an.sort(Ln);In--;)an[In]=an[In].value;return an}(Io(c,function(On,nr,Zn){return{criteria:mn(E,function(Bi){return Bi(On)}),index:++dt,value:On}}),function(On,nr){return function Mf(c,E,me){for(var dt=-1,qt=c.criteria,On=E.criteria,nr=qt.length,Zn=me.length;++dt<nr;){var kr=Bd(qt[dt],On[dt]);if(kr)return dt>=Zn?kr:kr*("desc"==me[dt]?-1:1)}return c.index-E.index}(On,nr,me)})}function ga(c,E,me){for(var dt=-1,qt=E.length,On={};++dt<qt;){var nr=E[dt],Zn=jc(c,nr);me(Zn,nr)&&Vl(On,dl(nr,c),Zn)}return On}function Cs(c,E,me,dt){var qt=dt?vo:ao,On=-1,nr=E.length,Zn=c;for(c===E&&(E=Ic(E)),me&&(Zn=mn(c,k(me)));++On<nr;)for(var kr=0,Bi=E[On],Pi=me?me(Bi):Bi;(kr=qt(Zn,Pi,kr,dt))>-1;)Zn!==c&&sa.call(Zn,kr,1),sa.call(c,kr,1);return c}function cs(c,E){for(var me=c?E.length:0,dt=me-1;me--;){var qt=E[me];if(me==dt||qt!==On){var On=qt;Il(qt)?sa.call(c,qt,1):ca(c,qt)}}return c}function Ga(c,E){return c+Pt(fo()*(E-c+1))}function nu(c,E){var me="";if(!c||E<1||E>G)return me;do{E%2&&(me+=c),(E=Pt(E/2))&&(c+=c)}while(E);return me}function Rs(c,E){return Gu(Ih(c,E,kc),c+"")}function ad(c){return Dr(af(c))}function Cf(c,E){var me=af(c);return Gd(me,pc(E,0,me.length))}function Vl(c,E,me,dt){if(!la(c))return c;for(var qt=-1,On=(E=dl(E,c)).length,nr=On-1,Zn=c;null!=Zn&&++qt<On;){var kr=il(E[qt]),Bi=me;if("__proto__"===kr||"constructor"===kr||"prototype"===kr)return c;if(qt!=nr){var Pi=Zn[kr];(Bi=dt?dt(Pi,kr,Zn):y)===y&&(Bi=la(Pi)?Pi:Il(E[qt+1])?[]:{})}Ks(Zn,kr,Bi),Zn=Zn[kr]}return c}var Xa=ya?function(c,E){return ya.set(c,E),c}:kc,xl=_?function(c,E){return _(c,"toString",{configurable:!0,enumerable:!1,value:ap(E),writable:!0})}:kc;function wf(c){return Gd(af(c))}function Fa(c,E,me){var dt=-1,qt=c.length;E<0&&(E=-E>qt?0:qt+E),(me=me>qt?qt:me)<0&&(me+=qt),qt=E>me?0:me-E>>>0,E>>>=0;for(var On=In(qt);++dt<qt;)On[dt]=c[dt+E];return On}function jl(c,E){var me;return Jc(c,function(dt,qt,On){return!(me=E(dt,qt,On))}),!!me}function Ec(c,E,me){var dt=0,qt=null==c?dt:c.length;if("number"==typeof E&&E==E&&qt<=2147483647){for(;dt<qt;){var On=dt+qt>>>1,nr=c[On];null!==nr&&!Ka(nr)&&(me?nr<=E:nr<E)?dt=On+1:qt=On}return qt}return cd(c,E,kc,me)}function cd(c,E,me,dt){var qt=0,On=null==c?0:c.length;if(0===On)return 0;for(var nr=(E=me(E))!=E,Zn=null===E,kr=Ka(E),Bi=E===y;qt<On;){var Pi=Pt((qt+On)/2),qi=me(c[Pi]),Mo=qi!==y,zo=null===qi,is=qi==qi,ys=Ka(qi);if(nr)var ss=dt||is;else ss=Bi?is&&(dt||Mo):Zn?is&&Mo&&(dt||!zo):kr?is&&Mo&&!zo&&(dt||!ys):!zo&&!ys&&(dt?qi<=E:qi<E);ss?qt=Pi+1:On=Pi}return vi(On,4294967294)}function ph(c,E){for(var me=-1,dt=c.length,qt=0,On=[];++me<dt;){var nr=c[me],Zn=E?E(nr):nr;if(!me||!ei(Zn,kr)){var kr=Zn;On[qt++]=0===nr?0:nr}}return On}function xf(c){return"number"==typeof c?c:Ka(c)?NaN:+c}function Ac(c){if("string"==typeof c)return c;if(Fr(c))return mn(c,Ac)+"";if(Ka(c))return Bc?Bc.call(c):"";var E=c+"";return"0"==E&&1/c==-Rn?"-0":E}function Tl(c,E,me){var dt=-1,qt=eo,On=c.length,nr=!0,Zn=[],kr=Zn;if(me)nr=!1,qt=Wt;else if(On>=200){var Bi=E?null:du(c);if(Bi)return Oe(Bi);nr=!1,qt=q,kr=new Zc}else kr=E?[]:Zn;e:for(;++dt<On;){var Pi=c[dt],qi=E?E(Pi):Pi;if(Pi=me||0!==Pi?Pi:0,nr&&qi==qi){for(var Mo=kr.length;Mo--;)if(kr[Mo]===qi)continue e;E&&kr.push(qi),Zn.push(Pi)}else qt(kr,qi,me)||(kr!==Zn&&kr.push(qi),Zn.push(Pi))}return Zn}function ca(c,E){return null==(c=ru(c,E=dl(E,c)))||delete c[il(Na(E))]}function Gl(c,E,me,dt){return Vl(c,E,me(jc(c,E)),dt)}function Ml(c,E,me,dt){for(var qt=c.length,On=dt?qt:-1;(dt?On--:++On<qt)&&E(c[On],On,c););return me?Fa(c,dt?0:On,dt?On+1:qt):Fa(c,dt?On+1:0,dt?qt:On)}function ld(c,E){var me=c;return me instanceof zi&&(me=me.value()),fr(E,function(dt,qt){return qt.func.apply(qt.thisArg,_n([dt],qt.args))},me)}function Nu(c,E,me){var dt=c.length;if(dt<2)return dt?Tl(c[0]):[];for(var qt=-1,On=In(dt);++qt<dt;)for(var nr=c[qt],Zn=-1;++Zn<dt;)Zn!=qt&&(On[qt]=qc(On[qt]||nr,c[Zn],E,me));return Tl(Ca(On,1),E,me)}function mh(c,E,me){for(var dt=-1,qt=c.length,On=E.length,nr={};++dt<qt;)me(nr,c[dt],dt<On?E[dt]:y);return nr}function kd(c){return po(c)?c:[]}function Lu(c){return"function"==typeof c?c:kc}function dl(c,E){return Fr(c)?c:_u(c,E)?[c]:yd(ia(c))}var el=Rs;function hl(c,E,me){var dt=c.length;return me=me===y?dt:me,!E&&me>=dt?c:Fa(c,E,me)}var Ba=Q||function(c){return Oo.clearTimeout(c)};function ls(c,E){if(E)return c.slice();var me=c.length,dt=bo?bo(me):new c.constructor(me);return c.copy(dt),dt}function fa(c){var E=new c.constructor(c.byteLength);return new ro(E).set(new ro(c)),E}function Tf(c,E){var me=E?fa(c.buffer):c.buffer;return new c.constructor(me,c.byteOffset,c.length)}function Bd(c,E){if(c!==E){var me=c!==y,dt=null===c,qt=c==c,On=Ka(c),nr=E!==y,Zn=null===E,kr=E==E,Bi=Ka(E);if(!Zn&&!Bi&&!On&&c>E||On&&nr&&kr&&!Zn&&!Bi||dt&&nr&&kr||!me&&kr||!qt)return 1;if(!dt&&!On&&!Bi&&c<E||Bi&&me&&qt&&!dt&&!On||Zn&&me&&qt||!nr&&qt||!kr)return-1}return 0}function fl(c,E,me,dt){for(var qt=-1,On=c.length,nr=me.length,Zn=-1,kr=E.length,Bi=qr(On-nr,0),Pi=In(kr+Bi),qi=!dt;++Zn<kr;)Pi[Zn]=E[Zn];for(;++qt<nr;)(qi||qt<On)&&(Pi[me[qt]]=c[qt]);for(;Bi--;)Pi[Zn++]=c[qt++];return Pi}function pl(c,E,me,dt){for(var qt=-1,On=c.length,nr=-1,Zn=me.length,kr=-1,Bi=E.length,Pi=qr(On-Zn,0),qi=In(Pi+Bi),Mo=!dt;++qt<Pi;)qi[qt]=c[qt];for(var zo=qt;++kr<Bi;)qi[zo+kr]=E[kr];for(;++nr<Zn;)(Mo||qt<On)&&(qi[zo+me[nr]]=c[qt++]);return qi}function Ic(c,E){var me=-1,dt=c.length;for(E||(E=In(dt));++me<dt;)E[me]=c[me];return E}function Gc(c,E,me,dt){var qt=!me;me||(me={});for(var On=-1,nr=E.length;++On<nr;){var Zn=E[On],kr=dt?dt(me[Zn],c[Zn],Zn,me,c):y;kr===y&&(kr=c[Zn]),qt?Ia(me,Zn,kr):Ks(me,Zn,kr)}return me}function Uu(c,E){return function(me,dt){var qt=Fr(me)?Cr:Gs,On=E?E():{};return qt(me,c,Jo(dt,2),On)}}function cu(c){return Rs(function(E,me){var dt=-1,qt=me.length,On=qt>1?me[qt-1]:y,nr=qt>2?me[2]:y;for(On=c.length>3&&"function"==typeof On?(qt--,On):y,nr&&ec(me[0],me[1],nr)&&(On=qt<3?y:On,qt=1),E=Ii(E);++dt<qt;){var Zn=me[dt];Zn&&c(E,Zn,dt,On)}return E})}function _h(c,E){return function(me,dt){if(null==me)return me;if(!wi(me))return c(me,dt);for(var qt=me.length,On=E?qt:-1,nr=Ii(me);(E?On--:++On<qt)&&!1!==dt(nr[On],On,nr););return me}}function Df(c){return function(E,me,dt){for(var qt=-1,On=Ii(E),nr=dt(E),Zn=nr.length;Zn--;){var kr=nr[c?Zn:++qt];if(!1===me(On[kr],kr,On))break}return E}}function Hl(c){return function(E){var me=Qr(E=ia(E))?jn(E):y,dt=me?me[0]:E.charAt(0),qt=me?hl(me,1).join(""):E.slice(1);return dt[c]()+qt}}function Dl(c){return function(E){return fr(Cm(Ag(E).replace(Lo,"")),c,"")}}function Sl(c){return function(){var E=arguments;switch(E.length){case 0:return new c;case 1:return new c(E[0]);case 2:return new c(E[0],E[1]);case 3:return new c(E[0],E[1],E[2]);case 4:return new c(E[0],E[1],E[2],E[3]);case 5:return new c(E[0],E[1],E[2],E[3],E[4]);case 6:return new c(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new c(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var me=dc(c.prototype),dt=c.apply(me,E);return la(dt)?dt:me}}function yh(c){return function(E,me,dt){var qt=Ii(E);if(!wi(E)){var On=Jo(me,3);E=Mr(E),me=function(Zn){return On(qt[Zn],Zn,qt)}}var nr=c(E,me,dt);return nr>-1?qt[On?E[nr]:nr]:y}}function Sf(c){return nl(function(E){var me=E.length,dt=me,qt=va.prototype.thru;for(c&&E.reverse();dt--;){var On=E[dt];if("function"!=typeof On)throw new Ji(d);if(qt&&!nr&&"wrapper"==pd(On))var nr=new va([],!0)}for(dt=nr?dt:me;++dt<me;){var Zn=pd(On=E[dt]),kr="wrapper"==Zn?ju(On):y;nr=kr&&vu(kr[0])&&424==kr[1]&&!kr[4].length&&1==kr[9]?nr[pd(kr[0])].apply(nr,kr[3]):1==On.length&&vu(On)?nr[Zn]():nr.thru(On)}return function(){var Bi=arguments,Pi=Bi[0];if(nr&&1==Bi.length&&Fr(Pi))return nr.plant(Pi).value();for(var qi=0,Mo=me?E[qi].apply(this,Bi):Pi;++qi<me;)Mo=E[qi].call(this,Mo);return Mo}})}function dd(c,E,me,dt,qt,On,nr,Zn,kr,Bi){var Pi=E&K,qi=1&E,Mo=2&E,zo=24&E,is=512&E,ys=Mo?y:Sl(c);return function ss(){for(var Vs=arguments.length,Js=In(Vs),Qc=Vs;Qc--;)Js[Qc]=arguments[Qc];if(zo)var xc=fu(ss),Yc=function Xn(an,Ln){for(var In=an.length,rr=0;In--;)an[In]===Ln&&++rr;return rr}(Js,xc);if(dt&&(Js=fl(Js,dt,qt,zo)),On&&(Js=pl(Js,On,nr,zo)),Vs-=Yc,zo&&Vs<Bi){var za=V(Js,xc);return uu(c,E,dd,ss.placeholder,me,Js,za,Zn,kr,Bi-Vs)}var bl=qi?me:this,Su=Mo?bl[c]:c;return Vs=Js.length,Zn?Js=function _d(c,E){for(var me=c.length,dt=vi(E.length,me),qt=Ic(c);dt--;){var On=E[dt];c[dt]=Il(On,me)?qt[On]:y}return c}(Js,Zn):is&&Vs>1&&Js.reverse(),Pi&&kr<Vs&&(Js.length=kr),this&&this!==Oo&&this instanceof ss&&(Su=ys||Sl(Su)),Su.apply(bl,Js)}}function Gp(c,E){return function(me,dt){return function ie(c,E,me,dt){return Wa(c,function(qt,On,nr){E(dt,me(qt),On,nr)}),dt}(me,c,E(dt),{})}}function Ld(c,E){return function(me,dt){var qt;if(me===y&&dt===y)return E;if(me!==y&&(qt=me),dt!==y){if(qt===y)return dt;"string"==typeof me||"string"==typeof dt?(me=Ac(me),dt=Ac(dt)):(me=xf(me),dt=xf(dt)),qt=c(me,dt)}return qt}}function hd(c){return nl(function(E){return E=mn(E,k(Jo())),Rs(function(me){var dt=this;return c(E,function(qt){return or(qt,dt,me)})})})}function Rl(c,E){var me=(E=E===y?" ":Ac(E)).length;if(me<2)return me?nu(E,c):E;var dt=nu(E,nt(c/gn(E)));return Qr(E)?hl(jn(dt),0,c).join(""):dt.slice(0,c)}function lu(c){return function(E,me,dt){return dt&&"number"!=typeof dt&&ec(E,me,dt)&&(me=dt=y),E=Kc(E),me===y?(me=E,E=0):me=Kc(me),function wl(c,E,me,dt){for(var qt=-1,On=qr(nt((E-c)/(me||1)),0),nr=In(On);On--;)nr[dt?On:++qt]=c,c+=me;return nr}(E,me,dt=dt===y?E<me?1:-1:Kc(dt),c)}}function Ud(c){return function(E,me){return"string"==typeof E&&"string"==typeof me||(E=zc(E),me=zc(me)),c(E,me)}}function uu(c,E,me,dt,qt,On,nr,Zn,kr,Bi){var Pi=8&E;E|=Pi?32:64,4&(E&=~(Pi?64:32))||(E&=-4);var ys=[c,E,qt,Pi?On:y,Pi?nr:y,Pi?y:On,Pi?y:nr,Zn,kr,Bi],ss=me.apply(y,ys);return vu(c)&&Oa(ss,ys),ss.placeholder=dt,Oh(ss,c,E)}function Eh(c){var E=Li[c];return function(me,dt){if(me=zc(me),(dt=null==dt?0:vi(Is(dt),292))&&Xr(me)){var qt=(ia(me)+"e").split("e");return+((qt=(ia(E(qt[0]+"e"+(+qt[1]+dt)))+"e").split("e"))[0]+"e"+(+qt[1]-dt))}return E(me)}}var du=aa&&1/Oe(new aa([,-0]))[1]==Rn?function(c){return new aa(c)}:xm;function fd(c){return function(E){var me=ic(E);return me==W?Nt(E):me==$e?function st(an){var Ln=-1,In=Array(an.size);return an.forEach(function(rr){In[++Ln]=[rr,rr]}),In}(E):function j(an,Ln){return mn(Ln,function(In){return[In,an[In]]})}(E,c(E))}}function Kl(c,E,me,dt,qt,On,nr,Zn){var kr=2&E;if(!kr&&"function"!=typeof c)throw new Ji(d);var Bi=dt?dt.length:0;if(Bi||(E&=-97,dt=qt=y),nr=nr===y?nr:qr(Is(nr),0),Zn=Zn===y?Zn:Is(Zn),Bi-=qt?qt.length:0,64&E){var Pi=dt,qi=qt;dt=qt=y}var Mo=kr?y:ju(c),zo=[c,E,me,dt,qt,Pi,qi,On,nr,Zn];if(Mo&&function Ff(c,E){var me=c[1],dt=E[1],qt=me|dt;if(!(qt<131)&&!(dt==K&&8==me||dt==K&&256==me&&c[7].length<=E[8]||384==dt&&E[7].length<=E[8]&&8==me))return c;1&dt&&(c[2]=E[2],qt|=1&me?0:4);var Zn=E[3];if(Zn){var kr=c[3];c[3]=kr?fl(kr,Zn,E[4]):Zn,c[4]=kr?V(c[3],U):E[4]}(Zn=E[5])&&(c[5]=(kr=c[5])?pl(kr,Zn,E[6]):Zn,c[6]=kr?V(c[5],U):E[6]),(Zn=E[7])&&(c[7]=Zn),dt&K&&(c[8]=null==c[8]?E[8]:vi(c[8],E[8])),null==c[9]&&(c[9]=E[9]),c[0]=E[0],c[1]=qt}(zo,Mo),c=zo[0],E=zo[1],me=zo[2],dt=zo[3],qt=zo[4],!(Zn=zo[9]=zo[9]===y?kr?0:c.length:qr(zo[9]-Bi,0))&&24&E&&(E&=-25),E&&1!=E)is=8==E||16==E?function vh(c,E,me){var dt=Sl(c);return function qt(){for(var On=arguments.length,nr=In(On),Zn=On,kr=fu(qt);Zn--;)nr[Zn]=arguments[Zn];var Bi=On<3&&nr[0]!==kr&&nr[On-1]!==kr?[]:V(nr,kr);return(On-=Bi.length)<me?uu(c,E,dd,qt.placeholder,y,nr,Bi,y,y,me-On):or(this&&this!==Oo&&this instanceof qt?dt:c,this,nr)}}(c,E,Zn):32!=E&&33!=E||qt.length?dd.apply(y,zo):function bh(c,E,me,dt){var qt=1&E,On=Sl(c);return function nr(){for(var Zn=-1,kr=arguments.length,Bi=-1,Pi=dt.length,qi=In(Pi+kr),Mo=this&&this!==Oo&&this instanceof nr?On:c;++Bi<Pi;)qi[Bi]=dt[Bi];for(;kr--;)qi[Bi++]=arguments[++Zn];return or(Mo,qt?me:this,qi)}}(c,E,me,dt);else var is=function Vu(c,E,me){var dt=1&E,qt=Sl(c);return function On(){return(this&&this!==Oo&&this instanceof On?qt:c).apply(dt?me:this,arguments)}}(c,E,me);return Oh((Mo?Xa:Oa)(is,zo),c,E)}function Ah(c,E,me,dt){return c===y||ei(c,ts[me])&&!jo.call(dt,me)?E:c}function Ch(c,E,me,dt,qt,On){return la(c)&&la(E)&&(On.set(E,c),br(c,E,y,Ch,On),On.delete(E)),c}function Rf(c){return vl(c)?y:c}function tl(c,E,me,dt,qt,On){var nr=1&me,Zn=c.length,kr=E.length;if(Zn!=kr&&!(nr&&kr>Zn))return!1;var Bi=On.get(c),Pi=On.get(E);if(Bi&&Pi)return Bi==E&&Pi==c;var qi=-1,Mo=!0,zo=2&me?new Zc:y;for(On.set(c,E),On.set(E,c);++qi<Zn;){var is=c[qi],ys=E[qi];if(dt)var ss=nr?dt(ys,is,qi,E,c,On):dt(is,ys,qi,c,E,On);if(ss!==y){if(ss)continue;Mo=!1;break}if(zo){if(!lr(E,function(Vs,Js){if(!q(zo,Js)&&(is===Vs||qt(is,Vs,me,dt,On)))return zo.push(Js)})){Mo=!1;break}}else if(is!==ys&&!qt(is,ys,me,dt,On)){Mo=!1;break}}return On.delete(c),On.delete(E),Mo}function nl(c){return Gu(Ih(c,y,Eu),c+"")}function $l(c){return Rc(c,Mr,Wl)}function hu(c){return Rc(c,co,If)}var ju=ya?function(c){return ya.get(c)}:xm;function pd(c){for(var E=c.name+"",me=Go[E],dt=jo.call(Go,E)?me.length:0;dt--;){var qt=me[dt],On=qt.func;if(null==On||On==c)return qt.name}return E}function fu(c){return(jo.call(yn,"placeholder")?yn:c).placeholder}function Jo(){var c=yn.iteratee||lf;return c=c===lf?Qi:c,arguments.length?c(arguments[0],arguments[1]):c}function md(c,E){var me=c.__data__;return function Dh(c){var E=typeof c;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==c:null===c}(E)?me["string"==typeof E?"string":"hash"]:me.map}function Vd(c){for(var E=Mr(c),me=E.length;me--;){var dt=E[me],qt=c[dt];E[me]=[dt,qt,Pf(qt)]}return E}function pu(c,E){var me=function _i(an,Ln){return null==an?y:an[Ln]}(c,E);return Kr(me)?me:y}var Wl=sn?function(c){return null==c?[]:(c=Ii(c),Co(sn(c),function(E){return as.call(c,E)}))}:hf,If=sn?function(c){for(var E=[];c;)_n(E,Wl(c)),c=Bo(c);return E}:hf,ic=qa;function gu(c,E,me){for(var dt=-1,qt=(E=dl(E,c)).length,On=!1;++dt<qt;){var nr=il(E[dt]);if(!(On=null!=c&&me(c,nr)))break;c=c[nr]}return On||++dt!=qt?On:!!(qt=null==c?0:c.length)&&Ya(qt)&&Il(nr,qt)&&(Fr(c)||Di(c))}function xh(c){return"function"!=typeof c.constructor||Xl(c)?{}:dc(Bo(c))}function Mh(c){return Fr(c)||Di(c)||!!(Ds&&c&&c[Ds])}function Il(c,E){var me=typeof c;return!!(E=E??G)&&("number"==me||"symbol"!=me&&Ki.test(c))&&c>-1&&c%1==0&&c<E}function ec(c,E,me){if(!la(me))return!1;var dt=typeof E;return!!("number"==dt?wi(me)&&Il(E,me.length):"string"==dt&&E in me)&&ei(me[E],c)}function _u(c,E){if(Fr(c))return!1;var me=typeof c;return!("number"!=me&&"symbol"!=me&&"boolean"!=me&&null!=c&&!Ka(c))||Mn.test(c)||!Ot.test(c)||null!=E&&c in Ii(E)}function vu(c){var E=pd(c),me=yn[E];if("function"!=typeof me||!(E in zi.prototype))return!1;if(c===me)return!0;var dt=ju(me);return!!dt&&c===dt[0]}(Us&&ic(new Us(new ArrayBuffer(1)))!=Ke||As&&ic(new As)!=W||ta&&ic(ta.resolve())!=H||aa&&ic(new aa)!=$e||hs&&ic(new hs)!=Ye)&&(ic=function(c){var E=qa(c),me=E==p?c.constructor:y,dt=me?Hc(me):"";if(dt)switch(dt){case ll:return Ke;case uc:return W;case Aa:return H;case Ws:return $e;case _c:return Ye}return E});var Sh=Ms?ra:Dm;function Xl(c){var E=c&&c.constructor;return c===("function"==typeof E&&E.prototype||ts)}function Pf(c){return c==c&&!la(c)}function Rh(c,E){return function(me){return null!=me&&me[c]===E&&(E!==y||c in Ii(me))}}function Ih(c,E,me){return E=qr(E===y?c.length-1:E,0),function(){for(var dt=arguments,qt=-1,On=qr(dt.length-E,0),nr=In(On);++qt<On;)nr[qt]=dt[E+qt];qt=-1;for(var Zn=In(E+1);++qt<E;)Zn[qt]=dt[qt];return Zn[E]=me(nr),or(c,this,Zn)}}function ru(c,E){return E.length<2?c:jc(c,Fa(E,0,-1))}function vd(c,E){if(("constructor"!==E||"function"!=typeof c[E])&&"__proto__"!=E)return c[E]}var Oa=Ph(Xa),iu=ae||function(c,E){return Oo.setTimeout(c,E)},Gu=Ph(xl);function Oh(c,E,me){var dt=E+"";return Gu(c,function Th(c,E){var me=E.length;if(!me)return c;var dt=me-1;return E[dt]=(me>1?"& ":"")+E[dt],E=E.join(me>2?", ":" "),c.replace(yt,"{\n/* [wrapped with "+E+"] */\n")}(dt,function Kp(c,E){return fi(bt,function(me){var dt="_."+me[0];E&me[1]&&!eo(c,dt)&&c.push(dt)}),c.sort()}(function mu(c){var E=c.match(_e);return E?E[1].split(he):[]}(dt),me)))}function Ph(c){var E=0,me=0;return function(){var dt=ki(),qt=16-(dt-me);if(me=dt,qt>0){if(++E>=800)return arguments[0]}else E=0;return c.apply(y,arguments)}}function Gd(c,E){var me=-1,dt=c.length,qt=dt-1;for(E=E===y?dt:E;++me<E;){var On=Ga(me,qt),nr=c[On];c[On]=c[me],c[me]=nr}return c.length=E,c}var yd=function rl(c){var E=Ue(c,function(dt){return 500===me.size&&me.clear(),dt}),me=E.cache;return E}(function(c){var E=[];return 46===c.charCodeAt(0)&&E.push(""),c.replace(Bn,function(me,dt,qt,On){E.push(qt?On.replace(zt,"$1"):dt||me)}),E});function il(c){if("string"==typeof c||Ka(c))return c;var E=c+"";return"0"==E&&1/c==-Rn?"-0":E}function Hc(c){if(null!=c){try{return Yo.call(c)}catch{}try{return c+""}catch{}}return""}function Hd(c){if(c instanceof zi)return c.clone();var E=new va(c.__wrapped__,c.__chain__);return E.__actions__=Ic(c.__actions__),E.__index__=c.__index__,E.__values__=c.__values__,E}var ol=Rs(function(c,E){return po(c)?qc(c,Ca(E,1,po,!0)):[]}),zd=Rs(function(c,E){var me=Na(E);return po(me)&&(me=y),po(c)?qc(c,Ca(E,1,po,!0),Jo(me,2)):[]}),bu=Rs(function(c,E){var me=Na(E);return po(me)&&(me=y),po(c)?qc(c,Ca(E,1,po,!0),y,me):[]});function wa(c,E,me){var dt=null==c?0:c.length;if(!dt)return-1;var qt=null==me?0:Is(me);return qt<0&&(qt=qr(dt+qt,0)),Wi(c,Jo(E,3),qt)}function Nf(c,E,me){var dt=null==c?0:c.length;if(!dt)return-1;var qt=dt-1;return me!==y&&(qt=Is(me),qt=me<0?qr(dt+qt,0):vi(qt,dt-1)),Wi(c,Jo(E,3),qt,!0)}function Eu(c){return null!=c&&c.length?Ca(c,1):[]}function Cu(c){return c&&c.length?c[0]:y}var Lf=Rs(function(c){var E=mn(c,kd);return E.length&&E[0]===c[0]?m(E):[]}),Ol=Rs(function(c){var E=Na(c),me=mn(c,kd);return E===Na(me)?E=y:me.pop(),me.length&&me[0]===c[0]?m(me,Jo(E,2)):[]}),Xd=Rs(function(c){var E=Na(c),me=mn(c,kd);return(E="function"==typeof E?E:y)&&me.pop(),me.length&&me[0]===c[0]?m(me,y,E):[]});function Na(c){var E=null==c?0:c.length;return E?c[E-1]:y}var Qp=Rs(Vf);function Vf(c,E){return c&&c.length&&E&&E.length?Cs(c,E):c}var Zp=nl(function(c,E){var me=null==c?0:c.length,dt=ul(c,E);return cs(c,mn(E,function(qt){return Il(qt,me)?+qt:qt}).sort(Bd)),dt});function Ql(c){return null==c?c:ds.call(c)}var tm=Rs(function(c){return Tl(Ca(c,1,po,!0))}),Kf=Rs(function(c){var E=Na(c);return po(E)&&(E=y),Tl(Ca(c,1,po,!0),Jo(E,2))}),Uh=Rs(function(c){var E=Na(c);return E="function"==typeof E?E:y,Tl(Ca(c,1,po,!0),y,E)});function Ad(c){if(!c||!c.length)return[];var E=0;return c=Co(c,function(me){if(po(me))return E=qr(me.length,E),!0}),He(E,function(me){return mn(c,Po(me))})}function Qu(c,E){if(!c||!c.length)return[];var me=Ad(c);return null==E?me:mn(me,function(dt){return or(E,y,dt)})}var vg=Rs(function(c,E){return po(c)?qc(c,E):[]}),zf=Rs(function(c){return Nu(Co(c,po))}),oc=Rs(function(c){var E=Na(c);return po(E)&&(E=y),Nu(Co(c,po),Jo(E,2))}),xu=Rs(function(c){var E=Na(c);return E="function"==typeof E?E:y,Nu(Co(c,po),y,E)}),jh=Rs(Ad),Gh=Rs(function(c){var E=c.length,me=E>1?c[E-1]:y;return me="function"==typeof me?(c.pop(),me):y,Qu(c,me)});function Yd(c){var E=yn(c);return E.__chain__=!0,E}function qd(c,E){return E(c)}var Hh=nl(function(c){var E=c.length,me=E?c[0]:0,dt=this.__wrapped__,qt=function(On){return ul(On,c)};return!(E>1||this.__actions__.length)&&dt instanceof zi&&Il(me)?((dt=dt.slice(me,+me+(E?1:0))).__actions__.push({func:qd,args:[qt],thisArg:y}),new va(dt,this.__chain__).thru(function(On){return E&&!On.length&&On.push(y),On})):this.thru(qt)}),Cd=Uu(function(c,E,me){jo.call(c,me)?++c[me]:Ia(c,me,1)}),Xf=yh(wa),wd=yh(Nf);function Qf(c,E){return(Fr(c)?fi:Jc)(c,Jo(E,3))}function Zh(c,E){return(Fr(c)?Fi:Sc)(c,Jo(E,3))}var am=Uu(function(c,E,me){jo.call(c,me)?c[me].push(E):Ia(c,me,[E])}),cm=Rs(function(c,E,me){var dt=-1,qt="function"==typeof E,On=wi(c)?In(c.length):[];return Jc(c,function(nr){On[++dt]=qt?or(E,nr,me):Xe(nr,E,me)}),On}),lm=Uu(function(c,E,me){Ia(c,me,E)});function Jd(c,E){return(Fr(c)?mn:Io)(c,Jo(E,3))}var qh=Uu(function(c,E,me){c[me?0:1].push(E)},function(){return[[],[]]}),hm=Rs(function(c,E){if(null==c)return[];var me=E.length;return me>1&&ec(c,E[0],E[1])?E=[]:me>2&&ec(E[0],E[1],E[2])&&(E=[E[0]]),zs(c,Ca(E,1),[])}),nh=P||function(){return Oo.Date.now()};function s(c,E,me){return E=me?y:E,Kl(c,K,y,y,y,y,E=c&&null==E?c.length:E)}function h(c,E){var me;if("function"!=typeof E)throw new Ji(d);return c=Is(c),function(){return--c>0&&(me=E.apply(this,arguments)),c<=1&&(E=y),me}}var f=Rs(function(c,E,me){var dt=1;if(me.length){var qt=V(me,fu(f));dt|=32}return Kl(c,dt,E,me,qt)}),D=Rs(function(c,E,me){var dt=3;if(me.length){var qt=V(me,fu(D));dt|=32}return Kl(E,dt,c,me,qt)});function de(c,E,me){var dt,qt,On,nr,Zn,kr,Bi=0,Pi=!1,qi=!1,Mo=!0;if("function"!=typeof c)throw new Ji(d);function zo(za){var bl=dt,Su=qt;return dt=qt=y,Bi=za,nr=c.apply(Su,bl)}function ss(za){var bl=za-kr;return kr===y||bl>=E||bl<0||qi&&za-Bi>=On}function Vs(){var za=nh();if(ss(za))return Js(za);Zn=iu(Vs,function ys(za){var jg=E-(za-kr);return qi?vi(jg,On-(za-Bi)):jg}(za))}function Js(za){return Zn=y,Mo&&dt?zo(za):(dt=qt=y,nr)}function Yc(){var za=nh(),bl=ss(za);if(dt=arguments,qt=this,kr=za,bl){if(Zn===y)return function is(za){return Bi=za,Zn=iu(Vs,E),Pi?zo(za):nr}(kr);if(qi)return Ba(Zn),Zn=iu(Vs,E),zo(kr)}return Zn===y&&(Zn=iu(Vs,E)),nr}return E=zc(E)||0,la(me)&&(Pi=!!me.leading,On=(qi="maxWait"in me)?qr(zc(me.maxWait)||0,E):On,Mo="trailing"in me?!!me.trailing:Mo),Yc.cancel=function Qc(){Zn!==y&&Ba(Zn),Bi=0,dt=kr=qt=Zn=y},Yc.flush=function xc(){return Zn===y?nr:Js(nh())},Yc}var xe=Rs(function(c,E){return sd(c,1,E)}),Te=Rs(function(c,E,me){return sd(c,zc(E)||0,me)});function Ue(c,E){if("function"!=typeof c||null!=E&&"function"!=typeof E)throw new Ji(d);var me=function(){var dt=arguments,qt=E?E.apply(this,dt):dt[0],On=me.cache;if(On.has(qt))return On.get(qt);var nr=c.apply(this,dt);return me.cache=On.set(qt,nr)||On,nr};return me.cache=new(Ue.Cache||Dc),me}function it(c){if("function"!=typeof c)throw new Ji(d);return function(){var E=arguments;switch(E.length){case 0:return!c.call(this);case 1:return!c.call(this,E[0]);case 2:return!c.call(this,E[0],E[1]);case 3:return!c.call(this,E[0],E[1],E[2])}return!c.apply(this,E)}}Ue.Cache=Dc;var Et=el(function(c,E){var me=(E=1==E.length&&Fr(E[0])?mn(E[0],k(Jo())):mn(Ca(E,1),k(Jo()))).length;return Rs(function(dt){for(var qt=-1,On=vi(dt.length,me);++qt<On;)dt[qt]=E[qt].call(this,dt[qt]);return or(c,this,dt)})}),Lt=Rs(function(c,E){var me=V(E,fu(Lt));return Kl(c,32,y,E,me)}),Tt=Rs(function(c,E){var me=V(E,fu(Tt));return Kl(c,64,y,E,me)}),Gt=nl(function(c,E){return Kl(c,256,y,y,y,E)});function ei(c,E){return c===E||c!=c&&E!=E}var yi=Ud(Ja),Zi=Ud(function(c,E){return c>=E}),Di=gt(function(){return arguments}())?gt:function(c){return _a(c)&&jo.call(c,"callee")&&!as.call(c,"callee")},Fr=In.isArray,Si=Ls?k(Ls):function Kt(c){return _a(c)&&qa(c)==It};function wi(c){return null!=c&&Ya(c.length)&&!ra(c)}function po(c){return _a(c)&&wi(c)}var ns=cr||Dm,bi=_s?k(_s):function un(c){return _a(c)&&qa(c)==Me};function $s(c){if(!_a(c))return!1;var E=qa(c);return E==C||"[object DOMException]"==E||"string"==typeof c.message&&"string"==typeof c.name&&!vl(c)}function ra(c){if(!la(c))return!1;var E=qa(c);return E==T||E==J||"[object AsyncFunction]"==E||"[object Proxy]"==E}function Ha(c){return"number"==typeof c&&c==Is(c)}function Ya(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=G}function la(c){var E=typeof c;return null!=c&&("object"==E||"function"==E)}function _a(c){return null!=c&&"object"==typeof c}var Pl=ea?k(ea):function Jn(c){return _a(c)&&ic(c)==W};function Fl(c){return"number"==typeof c||_a(c)&&qa(c)==ve}function vl(c){if(!_a(c)||qa(c)!=p)return!1;var E=Bo(c);if(null===E)return!0;var me=jo.call(E,"constructor")&&E.constructor;return"function"==typeof me&&me instanceof me&&Yo.call(me)==Sa}var xa=us?k(us):function Gr(c){return _a(c)&&qa(c)==Ie},Td=Gn?k(Gn):function $r(c){return _a(c)&&ic(c)==$e};function sl(c){return"string"==typeof c||!Fr(c)&&_a(c)&&qa(c)==ft}function Ka(c){return"symbol"==typeof c||_a(c)&&qa(c)==kt}var Oc=Yn?k(Yn):function ci(c){return _a(c)&&Ya(c.length)&&!!hi[qa(c)]},Yl=Ud($o),Tu=Ud(function(c,E){return c<=E});function np(c){if(!c)return[];if(wi(c))return sl(c)?jn(c):Ic(c);if(ks&&c[ks])return function hn(an){for(var Ln,In=[];!(Ln=an.next()).done;)In.push(Ln.value);return In}(c[ks]());var E=ic(c);return(E==W?Nt:E==$e?Oe:af)(c)}function Kc(c){return c?(c=zc(c))===Rn||c===-Rn?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Is(c){var E=Kc(c),me=E%1;return E==E?me?E-me:E:0}function Mu(c){return c?pc(Is(c),0,Ge):0}function zc(c){if("number"==typeof c)return c;if(Ka(c))return NaN;if(la(c)){var E="function"==typeof c.valueOf?c.valueOf():c;c=la(E)?E+"":E}if("string"!=typeof c)return 0===c?c:+c;c=pe(c);var me=Ir.test(c);return me||Yr.test(c)?es(c.slice(2),me?2:8):Ar.test(c)?NaN:+c}function ef(c){return Gc(c,co(c))}function ia(c){return null==c?"":Ac(c)}var rp=cu(function(c,E){if(Xl(E)||wi(E))Gc(E,Mr(E),c);else for(var me in E)jo.call(E,me)&&Ks(c,me,E[me])}),nf=cu(function(c,E){Gc(E,co(E),c)}),Md=cu(function(c,E,me,dt){Gc(E,co(E),c,dt)}),ih=cu(function(c,E,me,dt){Gc(E,Mr(E),c,dt)}),Zl=nl(ul),rf=Rs(function(c,E){c=Ii(c);var me=-1,dt=E.length,qt=dt>2?E[2]:y;for(qt&&ec(E[0],E[1],qt)&&(dt=1);++me<dt;)for(var On=E[me],nr=co(On),Zn=-1,kr=nr.length;++Zn<kr;){var Bi=nr[Zn],Pi=c[Bi];(Pi===y||ei(Pi,ts[Bi])&&!jo.call(c,Bi))&&(c[Bi]=On[Bi])}return c}),sf=Rs(function(c){return c.push(y,Ch),or(qs,y,c)});function Sd(c,E,me){var dt=null==c?y:jc(c,E);return dt===y?me:dt}function Rd(c,E){return null!=c&&gu(c,E,Bu)}var _m=Gp(function(c,E,me){null!=E&&"function"!=typeof E.toString&&(E=oa.call(E)),c[E]=me},ap(kc)),vm=Gp(function(c,E,me){null!=E&&"function"!=typeof E.toString&&(E=oa.call(E)),jo.call(c,E)?c[E].push(me):c[E]=[me]},Jo),ym=Rs(Xe);function Mr(c){return wi(c)?zr(c):ai(c)}function co(c){return wi(c)?zr(c,!0):function Do(c){if(!la(c))return function gd(c){var E=[];if(null!=c)for(var me in Ii(c))E.push(me);return E}(c);var E=Xl(c),me=[];for(var dt in c)"constructor"==dt&&(E||!jo.call(c,dt))||me.push(dt);return me}(c)}var Ta=cu(function(c,E,me){br(c,E,me)}),qs=cu(function(c,E,me,dt){br(c,E,me,dt)}),ws=nl(function(c,E){var me={};if(null==c)return me;var dt=!1;E=mn(E,function(On){return On=dl(On,c),dt||(dt=On.length>1),On}),Gc(c,hu(c),me),dt&&(me=mc(me,7,Rf));for(var qt=E.length;qt--;)ca(me,E[qt]);return me}),al=nl(function(c,E){return null==c?{}:function mo(c,E){return ga(c,E,function(me,dt){return Rd(c,dt)})}(c,E)});function Pc(c,E){if(null==c)return{};var me=mn(hu(c),function(dt){return[dt]});return E=Jo(E),ga(c,me,function(dt,qt){return E(dt,qt[0])})}var Wc=fd(Mr),cl=fd(co);function af(c){return null==c?[]:le(c,Mr(c))}var H_=Dl(function(c,E,me){return E=E.toLowerCase(),c+(me?bm(E):E)});function bm(c){return Xc(ia(c).toLowerCase())}function Ag(c){return(c=ia(c))&&c.replace(mi,gr).replace(ps,"")}var W_=Dl(function(c,E,me){return c+(me?"-":"")+E.toLowerCase()}),X_=Dl(function(c,E,me){return c+(me?" ":"")+E.toLowerCase()}),Em=Hl("toLowerCase"),cb=Dl(function(c,E,me){return c+(me?"_":"")+E.toLowerCase()}),Q_=Dl(function(c,E,me){return c+(me?" ":"")+Xc(E)}),yl=Dl(function(c,E,me){return c+(me?" ":"")+E.toUpperCase()}),Xc=Hl("toUpperCase");function Cm(c,E,me){return c=ia(c),(E=me?y:E)===y?function ot(an){return Wn.test(an)}(c)?function xr(an){return an.match(Ns)||[]}(c):function ui(an){return an.match(Be)||[]}(c):c.match(E)||[]}var Y_=Rs(function(c,E){try{return or(c,y,E)}catch(me){return $s(me)?me:new Zr(me)}}),Z_=nl(function(c,E){return fi(E,function(me){me=il(me),Ia(c,me,f(c[me],c))}),c});function ap(c){return function(){return c}}var hb=Sf(),cp=Sf(!0);function kc(c){return c}function lf(c){return Qi("function"==typeof c?c:mc(c,1))}var wm=Rs(function(c,E){return function(me){return Xe(me,c,E)}}),Rg=Rs(function(c,E){return function(me){return Xe(c,me,E)}});function uf(c,E,me){var dt=Mr(E),qt=ja(E,dt);null==me&&(!la(E)||!qt.length&&dt.length)&&(me=E,E=c,c=this,qt=ja(E,Mr(E)));var On=!(la(me)&&"chain"in me&&!me.chain),nr=ra(c);return fi(qt,function(Zn){var kr=E[Zn];c[Zn]=kr,nr&&(c.prototype[Zn]=function(){var Bi=this.__chain__;if(On||Bi){var Pi=c(this.__wrapped__);return(Pi.__actions__=Ic(this.__actions__)).push({func:kr,args:arguments,thisArg:c}),Pi.__chain__=Bi,Pi}return kr.apply(c,_n([this.value()],arguments))})}),c}function xm(){}var Ig=hd(mn),ev=hd(so),tv=hd(lr);function Tm(c){return _u(c)?Po(il(c)):function Qs(c){return function(E){return jc(E,c)}}(c)}var df=lu(),up=lu(!0);function hf(){return[]}function Dm(){return!1}var Rm=Ld(function(c,E){return c+E},0),rv=Eh("ceil"),kg=Ld(function(c,E){return c/E},1),Bg=Eh("floor"),Om=Ld(function(c,E){return c*E},1),ff=Eh("round"),Vg=Ld(function(c,E){return c-E},0);return yn.after=function l(c,E){if("function"!=typeof E)throw new Ji(d);return c=Is(c),function(){if(--c<1)return E.apply(this,arguments)}},yn.ary=s,yn.assign=rp,yn.assignIn=nf,yn.assignInWith=Md,yn.assignWith=ih,yn.at=Zl,yn.before=h,yn.bind=f,yn.bindAll=Z_,yn.bindKey=D,yn.castArray=function $n(){if(!arguments.length)return[];var c=arguments[0];return Fr(c)?c:[c]},yn.chain=Yd,yn.chunk=function yu(c,E,me){E=(me?ec(c,E,me):E===y)?1:qr(Is(E),0);var dt=null==c?0:c.length;if(!dt||E<1)return[];for(var qt=0,On=0,nr=In(nt(dt/E));qt<dt;)nr[On++]=Fa(c,qt,qt+=E);return nr},yn.compact=function zp(c){for(var E=-1,me=null==c?0:c.length,dt=0,qt=[];++E<me;){var On=c[E];On&&(qt[dt++]=On)}return qt},yn.concat=function Kd(){var c=arguments.length;if(!c)return[];for(var E=In(c-1),me=arguments[0],dt=c;dt--;)E[dt-1]=arguments[dt];return _n(Fr(me)?Ic(me):[me],Ca(E,1))},yn.cond=function ub(c){var E=null==c?0:c.length,me=Jo();return c=E?mn(c,function(dt){if("function"!=typeof dt[1])throw new Ji(d);return[me(dt[0]),dt[1]]}):[],Rs(function(dt){for(var qt=-1;++qt<E;){var On=c[qt];if(or(On[0],this,dt))return or(On[1],this,dt)}})},yn.conforms=function db(c){return function eu(c){var E=Mr(c);return function(me){return od(me,c,E)}}(mc(c,1))},yn.constant=ap,yn.countBy=Cd,yn.create=function Du(c,E){var me=dc(c);return null==E?me:Uc(me,E)},yn.curry=function Y(c,E,me){var dt=Kl(c,8,y,y,y,y,y,E=me?y:E);return dt.placeholder=Y.placeholder,dt},yn.curryRight=function fe(c,E,me){var dt=Kl(c,16,y,y,y,y,y,E=me?y:E);return dt.placeholder=fe.placeholder,dt},yn.debounce=de,yn.defaults=rf,yn.defaultsDeep=sf,yn.defer=xe,yn.delay=Te,yn.difference=ol,yn.differenceBy=zd,yn.differenceWith=bu,yn.drop=function Bf(c,E,me){var dt=null==c?0:c.length;return dt?Fa(c,(E=me||E===y?1:Is(E))<0?0:E,dt):[]},yn.dropRight=function _g(c,E,me){var dt=null==c?0:c.length;return dt?Fa(c,0,(E=dt-(E=me||E===y?1:Is(E)))<0?0:E):[]},yn.dropRightWhile=function Fh(c,E){return c&&c.length?Ml(c,Jo(E,3),!0,!0):[]},yn.dropWhile=function $d(c,E){return c&&c.length?Ml(c,Jo(E,3),!0):[]},yn.fill=function $p(c,E,me,dt){var qt=null==c?0:c.length;return qt?(me&&"number"!=typeof me&&ec(c,E,me)&&(me=0,dt=qt),function Xs(c,E,me,dt){var qt=c.length;for((me=Is(me))<0&&(me=-me>qt?0:qt+me),(dt=dt===y||dt>qt?qt:Is(dt))<0&&(dt+=qt),dt=me>dt?0:Mu(dt);me<dt;)c[me++]=E;return c}(c,E,me,dt)):[]},yn.filter=function Wh(c,E){return(Fr(c)?Co:Fu)(c,Jo(E,3))},yn.flatMap=function Xh(c,E){return Ca(Jd(c,E),1)},yn.flatMapDeep=function Qh(c,E){return Ca(Jd(c,E),Rn)},yn.flatMapDepth=function Yh(c,E,me){return me=me===y?1:Is(me),Ca(Jd(c,E),me)},yn.flatten=Eu,yn.flattenDeep=function kh(c){return null!=c&&c.length?Ca(c,Rn):[]},yn.flattenDepth=function Wp(c,E){return null!=c&&c.length?Ca(c,E=E===y?1:Is(E)):[]},yn.flip=function Ne(c){return Kl(c,512)},yn.flow=hb,yn.flowRight=cp,yn.fromPairs=function Au(c){for(var E=-1,me=null==c?0:c.length,dt={};++E<me;){var qt=c[E];dt[qt[0]]=qt[1]}return dt},yn.functions=function mm(c){return null==c?[]:ja(c,Mr(c))},yn.functionsIn=function gm(c){return null==c?[]:ja(c,co(c))},yn.groupBy=am,yn.initial=function Hu(c){return null!=c&&c.length?Fa(c,0,-1):[]},yn.intersection=Lf,yn.intersectionBy=Ol,yn.intersectionWith=Xd,yn.invert=_m,yn.invertBy=vm,yn.invokeMap=cm,yn.iteratee=lf,yn.keyBy=lm,yn.keys=Mr,yn.keysIn=co,yn.map=Jd,yn.mapKeys=function pa(c,E){var me={};return E=Jo(E,3),Wa(c,function(dt,qt,On){Ia(me,E(dt,qt,On),dt)}),me},yn.mapValues=function Hs(c,E){var me={};return E=Jo(E,3),Wa(c,function(dt,qt,On){Ia(me,qt,E(dt,qt,On))}),me},yn.matches=function q_(c){return So(mc(c,1))},yn.matchesProperty=function ch(c,E){return ko(c,mc(E,1))},yn.memoize=Ue,yn.merge=Ta,yn.mergeWith=qs,yn.method=wm,yn.methodOf=Rg,yn.mixin=uf,yn.negate=it,yn.nthArg=function J_(c){return c=Is(c),Rs(function(E){return Ss(E,c)})},yn.omit=ws,yn.omitBy=function La(c,E){return Pc(c,it(Jo(E)))},yn.once=function vt(c){return h(2,c)},yn.orderBy=function Zf(c,E,me,dt){return null==c?[]:(Fr(E)||(E=null==E?[]:[E]),Fr(me=dt?y:me)||(me=null==me?[]:[me]),zs(c,E,me))},yn.over=Ig,yn.overArgs=Et,yn.overEvery=ev,yn.overSome=tv,yn.partial=Lt,yn.partialRight=Tt,yn.partition=qh,yn.pick=al,yn.pickBy=Pc,yn.property=Tm,yn.propertyOf=function Mm(c){return function(E){return null==c?y:jc(c,E)}},yn.pull=Qp,yn.pullAll=Vf,yn.pullAllBy=function jf(c,E,me){return c&&c.length&&E&&E.length?Cs(c,E,Jo(me,2)):c},yn.pullAllWith=function Yp(c,E,me){return c&&c.length&&E&&E.length?Cs(c,E,y,me):c},yn.pullAt=Zp,yn.range=df,yn.rangeRight=up,yn.rearg=Gt,yn.reject=function gl(c,E){return(Fr(c)?Co:Fu)(c,it(Jo(E,3)))},yn.remove=function qp(c,E){var me=[];if(!c||!c.length)return me;var dt=-1,qt=[],On=c.length;for(E=Jo(E,3);++dt<On;){var nr=c[dt];E(nr,dt,c)&&(me.push(nr),qt.push(dt))}return cs(c,qt),me},yn.rest=function Cn(c,E){if("function"!=typeof c)throw new Ji(d);return Rs(c,E=E===y?E:Is(E))},yn.reverse=Ql,yn.sampleSize=function dm(c,E,me){return E=(me?ec(c,E,me):E===y)?1:Is(E),(Fr(c)?uo:Cf)(c,E)},yn.set=function $c(c,E,me){return null==c?c:Vl(c,E,me)},yn.setWith=function Fc(c,E,me,dt){return dt="function"==typeof dt?dt:y,null==c?c:Vl(c,E,me,dt)},yn.shuffle=function qf(c){return(Fr(c)?Uo:wf)(c)},yn.slice=function zu(c,E,me){var dt=null==c?0:c.length;return dt?(me&&"number"!=typeof me&&ec(c,E,me)?(E=0,me=dt):(E=null==E?0:Is(E),me=me===y?dt:Is(me)),Fa(c,E,me)):[]},yn.sortBy=hm,yn.sortedUniq=function Nh(c){return c&&c.length?ph(c):[]},yn.sortedUniqBy=function Wu(c,E){return c&&c.length?ph(c,Jo(E,2)):[]},yn.split=function lb(c,E,me){return me&&"number"!=typeof me&&ec(c,E,me)&&(E=me=y),(me=me===y?Ge:me>>>0)?(c=ia(c))&&("string"==typeof E||null!=E&&!xa(E))&&!(E=Ac(E))&&Qr(c)?hl(jn(c),0,me):c.split(E,me):[]},yn.spread=function fn(c,E){if("function"!=typeof c)throw new Ji(d);return E=null==E?0:qr(Is(E),0),Rs(function(me){var dt=me[E],qt=hl(me,0,E);return dt&&_n(qt,dt),or(c,this,qt)})},yn.tail=function wu(c){var E=null==c?0:c.length;return E?Fa(c,1,E):[]},yn.take=function Xu(c,E,me){return c&&c.length?Fa(c,0,(E=me||E===y?1:Is(E))<0?0:E):[]},yn.takeRight=function Lh(c,E,me){var dt=null==c?0:c.length;return dt?Fa(c,(E=dt-(E=me||E===y?1:Is(E)))<0?0:E,dt):[]},yn.takeRightWhile=function Hf(c,E){return c&&c.length?Ml(c,Jo(E,3),!1,!0):[]},yn.takeWhile=function em(c,E){return c&&c.length?Ml(c,Jo(E,3)):[]},yn.tap=function Zd(c,E){return E(c),c},yn.throttle=function xn(c,E,me){var dt=!0,qt=!0;if("function"!=typeof c)throw new Ji(d);return la(me)&&(dt="leading"in me?!!me.leading:dt,qt="trailing"in me?!!me.trailing:qt),de(c,E,{leading:dt,maxWait:E,trailing:qt})},yn.thru=qd,yn.toArray=np,yn.toPairs=Wc,yn.toPairsIn=cl,yn.toPath=function Pg(c){return Fr(c)?mn(c,il):Ka(c)?[c]:Ic(yd(ia(c)))},yn.toPlainObject=ef,yn.transform=function sh(c,E,me){var dt=Fr(c),qt=dt||ns(c)||Oc(c);if(E=Jo(E,4),null==me){var On=c&&c.constructor;me=qt?dt?new On:[]:la(c)&&ra(On)?dc(Bo(c)):{}}return(qt?fi:Wa)(c,function(nr,Zn,kr){return E(me,nr,Zn,kr)}),me},yn.unary=function wn(c){return s(c,1)},yn.union=tm,yn.unionBy=Kf,yn.unionWith=Uh,yn.uniq=function nm(c){return c&&c.length?Tl(c):[]},yn.uniqBy=function wc(c,E){return c&&c.length?Tl(c,Jo(E,2)):[]},yn.uniqWith=function Vh(c,E){return E="function"==typeof E?E:y,c&&c.length?Tl(c,y,E):[]},yn.unset=function U_(c,E){return null==c||ca(c,E)},yn.unzip=Ad,yn.unzipWith=Qu,yn.update=function V_(c,E,me){return null==c?c:Gl(c,E,Lu(me))},yn.updateWith=function Eg(c,E,me,dt){return dt="function"==typeof dt?dt:y,null==c?c:Gl(c,E,Lu(me),dt)},yn.values=af,yn.valuesIn=function nb(c){return null==c?[]:le(c,co(c))},yn.without=vg,yn.words=Cm,yn.wrap=function Fn(c,E){return Lt(Lu(E),c)},yn.xor=zf,yn.xorBy=oc,yn.xorWith=xu,yn.zip=jh,yn.zipObject=function Qd(c,E){return mh(c||[],E||[],Ks)},yn.zipObjectDeep=function rm(c,E){return mh(c||[],E||[],Vl)},yn.zipWith=Gh,yn.entries=Wc,yn.entriesIn=cl,yn.extend=nf,yn.extendWith=Md,uf(yn,yn),yn.add=Rm,yn.attempt=Y_,yn.camelCase=H_,yn.capitalize=bm,yn.ceil=rv,yn.clamp=function cf(c,E,me){return me===y&&(me=E,E=y),me!==y&&(me=(me=zc(me))==me?me:0),E!==y&&(E=(E=zc(E))==E?E:0),pc(zc(c),E,me)},yn.clone=function pr(c){return mc(c,4)},yn.cloneDeep=function wr(c){return mc(c,5)},yn.cloneDeepWith=function di(c,E){return mc(c,5,E="function"==typeof E?E:y)},yn.cloneWith=function hr(c,E){return mc(c,4,E="function"==typeof E?E:y)},yn.conformsTo=function Ai(c,E){return null==E||od(c,E,Mr(E))},yn.deburr=Ag,yn.defaultTo=function Sg(c,E){return null==c||c!=c?E:c},yn.divide=kg,yn.endsWith=function K_(c,E,me){c=ia(c),E=Ac(E);var dt=c.length,qt=me=me===y?dt:pc(Is(me),0,dt);return(me-=E.length)>=0&&c.slice(me,qt)==E},yn.eq=ei,yn.escape=function z_(c){return(c=ia(c))&&nn.test(c)?c.replace(tr,Xi):c},yn.escapeRegExp=function $_(c){return(c=ia(c))&&Dn.test(c)?c.replace(Pn,"\\$&"):c},yn.every=function Wf(c,E,me){var dt=Fr(c)?so:Pu;return me&&ec(c,E,me)&&(E=y),dt(c,Jo(E,3))},yn.find=Xf,yn.findIndex=wa,yn.findKey=function Dd(c,E){return Jr(c,Jo(E,3),Wa)},yn.findLast=wd,yn.findLastIndex=Nf,yn.findLastKey=function bg(c,E){return Jr(c,Jo(E,3),Vc)},yn.floor=Bg,yn.forEach=Qf,yn.forEachRight=Zh,yn.forIn=function fm(c,E){return null==c?c:Va(c,Jo(E,3),co)},yn.forInRight=function pm(c,E){return null==c?c:ku(c,Jo(E,3),co)},yn.forOwn=function Zu(c,E){return c&&Wa(c,Jo(E,3))},yn.forOwnRight=function oh(c,E){return c&&Vc(c,Jo(E,3))},yn.get=Sd,yn.gt=yi,yn.gte=Zi,yn.has=function ip(c,E){return null!=c&&gu(c,E,Cl)},yn.hasIn=Rd,yn.head=Cu,yn.identity=kc,yn.includes=function Yf(c,E,me,dt){c=wi(c)?c:af(c),me=me&&!dt?Is(me):0;var qt=c.length;return me<0&&(me=qr(qt+me,0)),sl(c)?me<=qt&&c.indexOf(E,me)>-1:!!qt&&ao(c,E,me)>-1},yn.indexOf=function Wd(c,E,me){var dt=null==c?0:c.length;if(!dt)return-1;var qt=null==me?0:Is(me);return qt<0&&(qt=qr(dt+qt,0)),ao(c,E,qt)},yn.inRange=function j_(c,E,me){return E=Kc(E),me===y?(me=E,E=0):me=Kc(me),function i(c,E,me){return c>=vi(E,me)&&c<qr(E,me)}(c=zc(c),E,me)},yn.invoke=ym,yn.isArguments=Di,yn.isArray=Fr,yn.isArrayBuffer=Si,yn.isArrayLike=wi,yn.isArrayLikeObject=po,yn.isBoolean=function io(c){return!0===c||!1===c||_a(c)&&qa(c)==se},yn.isBuffer=ns,yn.isDate=bi,yn.isElement=function Lr(c){return _a(c)&&1===c.nodeType&&!vl(c)},yn.isEmpty=function pi(c){if(null==c)return!0;if(wi(c)&&(Fr(c)||"string"==typeof c||"function"==typeof c.splice||ns(c)||Oc(c)||Di(c)))return!c.length;var E=ic(c);if(E==W||E==$e)return!c.size;if(Xl(c))return!ai(c).length;for(var me in c)if(jo.call(c,me))return!1;return!0},yn.isEqual=function ho(c,E){return cn(c,E)},yn.isEqualWith=function vs(c,E,me){var dt=(me="function"==typeof me?me:y)?me(c,E):y;return dt===y?cn(c,E,y,me):!!dt},yn.isError=$s,yn.isFinite=function Ys(c){return"number"==typeof c&&Xr(c)},yn.isFunction=ra,yn.isInteger=Ha,yn.isLength=Ya,yn.isMap=Pl,yn.isMatch=function ba(c,E){return c===E||_r(c,E,Vd(E))},yn.isMatchWith=function Zs(c,E,me){return me="function"==typeof me?me:y,_r(c,E,Vd(E),me)},yn.isNaN=function _l(c){return Fl(c)&&c!=+c},yn.isNative=function Yu(c){if(Sh(c))throw new Zr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Kr(c)},yn.isNil=function rh(c){return null==c},yn.isNull=function xd(c){return null===c},yn.isNumber=Fl,yn.isObject=la,yn.isObjectLike=_a,yn.isPlainObject=vl,yn.isRegExp=xa,yn.isSafeInteger=function ou(c){return Ha(c)&&c>=-G&&c<=G},yn.isSet=Td,yn.isString=sl,yn.isSymbol=Ka,yn.isTypedArray=Oc,yn.isUndefined=function Jf(c){return c===y},yn.isWeakMap=function ep(c){return _a(c)&&ic(c)==Ye},yn.isWeakSet=function tp(c){return _a(c)&&"[object WeakSet]"==qa(c)},yn.join=function Xp(c,E){return null==c?"":oi.call(c,E)},yn.kebabCase=W_,yn.last=Na,yn.lastIndexOf=function Ku(c,E,me){var dt=null==c?0:c.length;if(!dt)return-1;var qt=dt;return me!==y&&(qt=(qt=Is(me))<0?qr(dt+qt,0):vi(qt,dt-1)),E==E?function Jt(an,Ln,In){for(var rr=In+1;rr--;)if(an[rr]===Ln)return rr;return rr}(c,E,qt):Wi(c,_o,qt,!0)},yn.lowerCase=X_,yn.lowerFirst=Em,yn.lt=Yl,yn.lte=Tu,yn.max=function Ng(c){return c&&c.length?tu(c,kc,Ja):y},yn.maxBy=function Im(c,E){return c&&c.length?tu(c,Jo(E,2),Ja):y},yn.mean=function Lg(c){return wo(c,kc)},yn.meanBy=function dp(c,E){return wo(c,Jo(E,2))},yn.min=function Od(c){return c&&c.length?tu(c,kc,$o):y},yn.minBy=function Ug(c,E){return c&&c.length?tu(c,Jo(E,2),$o):y},yn.stubArray=hf,yn.stubFalse=Dm,yn.stubObject=function nv(){return{}},yn.stubString=function Sm(){return""},yn.stubTrue=function Og(){return!0},yn.multiply=Om,yn.nth=function Uf(c,E){return c&&c.length?Ss(c,Is(E)):y},yn.noConflict=function lp(){return Oo._===this&&(Oo._=Za),this},yn.noop=xm,yn.now=nh,yn.pad=function rb(c,E,me){c=ia(c);var dt=(E=Is(E))?gn(c):0;if(!E||dt>=E)return c;var qt=(E-dt)/2;return Rl(Pt(qt),me)+c+Rl(nt(qt),me)},yn.padEnd=function ib(c,E,me){c=ia(c);var dt=(E=Is(E))?gn(c):0;return E&&dt<E?c+Rl(E-dt,me):c},yn.padStart=function Am(c,E,me){c=ia(c);var dt=(E=Is(E))?gn(c):0;return E&&dt<E?Rl(E-dt,me)+c:c},yn.parseInt=function ob(c,E,me){return me||null==E?E=0:E&&(E=+E),si(ia(c).replace(tn,""),E||0)},yn.random=function G_(c,E,me){if(me&&"boolean"!=typeof me&&ec(c,E,me)&&(E=me=y),me===y&&("boolean"==typeof E?(me=E,E=y):"boolean"==typeof c&&(me=c,c=y)),c===y&&E===y?(c=0,E=1):(c=Kc(c),E===y?(E=c,c=0):E=Kc(E)),c>E){var dt=c;c=E,E=dt}if(me||c%1||E%1){var qt=fo();return vi(c+qt*(E-c+os("1e-"+((qt+"").length-1))),E)}return Ga(c,E)},yn.reduce=function Jh(c,E,me){var dt=Fr(c)?fr:Qo,qt=arguments.length<3;return dt(c,Jo(E,4),me,qt,Jc)},yn.reduceRight=function um(c,E,me){var dt=Fr(c)?Tr:Qo,qt=arguments.length<3;return dt(c,Jo(E,4),me,qt,Sc)},yn.repeat=function sb(c,E,me){return E=(me?ec(c,E,me):E===y)?1:Is(E),nu(ia(c),E)},yn.replace=function ab(){var c=arguments,E=ia(c[0]);return c.length<3?E:E.replace(c[1],c[2])},yn.result=function qu(c,E,me){var dt=-1,qt=(E=dl(E,c)).length;for(qt||(qt=1,c=y);++dt<qt;){var On=null==c?y:c[il(E[dt])];On===y&&(dt=qt,On=me),c=ra(On)?On.call(c):On}return c},yn.round=ff,yn.runInContext=an,yn.sample=function eh(c){return(Fr(c)?Dr:ad)(c)},yn.size=function th(c){if(null==c)return 0;if(wi(c))return sl(c)?gn(c):c.length;var E=ic(c);return E==W||E==$e?c.size:ai(c).length},yn.snakeCase=cb,yn.some=function yg(c,E,me){var dt=Fr(c)?lr:jl;return me&&ec(c,E,me)&&(E=y),dt(c,Jo(E,3))},yn.sortedIndex=function Bh(c,E){return Ec(c,E)},yn.sortedIndexBy=function Gf(c,E,me){return cd(c,E,Jo(me,2))},yn.sortedIndexOf=function bd(c,E){var me=null==c?0:c.length;if(me){var dt=Ec(c,E);if(dt<me&&ei(c[dt],E))return dt}return-1},yn.sortedLastIndex=function $u(c,E){return Ec(c,E,!0)},yn.sortedLastIndexBy=function Jp(c,E,me){return cd(c,E,Jo(me,2),!0)},yn.sortedLastIndexOf=function Ed(c,E){if(null!=c&&c.length){var dt=Ec(c,E,!0)-1;if(ei(c[dt],E))return dt}return-1},yn.startCase=Q_,yn.startsWith=function op(c,E,me){return c=ia(c),me=null==me?0:pc(Is(me),0,c.length),E=Ac(E),c.slice(me,me+E.length)==E},yn.subtract=Vg,yn.sum=function Pm(c){return c&&c.length?Qt(c,kc):0},yn.sumBy=function hp(c,E){return c&&c.length?Qt(c,Jo(E,2)):0},yn.template=function sp(c,E,me){var dt=yn.templateSettings;me&&ec(c,E,me)&&(E=y),c=ia(c),E=Md({},E,dt,Ah);var Zn,kr,qt=Md({},E.imports,dt.imports,Ah),On=Mr(qt),nr=le(qt,On),Bi=0,Pi=E.interpolate||er,qi="__p += '",Mo=Ti((E.escape||er).source+"|"+Pi.source+"|"+(Pi===Nn?on:er).source+"|"+(E.evaluate||er).source+"|$","g"),zo="//# sourceURL="+(jo.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++li+"]")+"\n";c.replace(Mo,function(ss,Vs,Js,Qc,xc,Yc){return Js||(Js=Qc),qi+=c.slice(Bi,Yc).replace(ur,to),Vs&&(Zn=!0,qi+="' +\n__e("+Vs+") +\n'"),xc&&(kr=!0,qi+="';\n"+xc+";\n__p += '"),Js&&(qi+="' +\n((__t = ("+Js+")) == null ? '' : __t) +\n'"),Bi=Yc+ss.length,ss}),qi+="';\n";var is=jo.call(E,"variable")&&E.variable;if(is){if(ht.test(is))throw new Zr("Invalid `variable` option passed into `_.template`")}else qi="with (obj) {\n"+qi+"\n}\n";qi=(kr?qi.replace(xt,""):qi).replace(Zt,"$1").replace(vn,"$1;"),qi="function("+(is||"obj")+") {\n"+(is?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Zn?", __e = _.escape":"")+(kr?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+qi+"return __p\n}";var ys=Y_(function(){return xi(On,zo+"return "+qi).apply(y,nr)});if(ys.source=qi,$s(ys))throw ys;return ys},yn.times=function Id(c,E){if((c=Is(c))<1||c>G)return[];var me=Ge,dt=vi(c,Ge);E=Jo(E),c-=Ge;for(var qt=He(dt,E);++me<c;)E(me);return qt},yn.toFinite=Kc,yn.toInteger=Is,yn.toLength=Mu,yn.toLower=function Cg(c){return ia(c).toLowerCase()},yn.toNumber=zc,yn.toSafeInteger=function tf(c){return c?pc(Is(c),-G,G):0===c?c:0},yn.toString=ia,yn.toUpper=function wg(c){return ia(c).toUpperCase()},yn.trim=function xg(c,E,me){if((c=ia(c))&&(me||E===y))return pe(c);if(!c||!(E=Ac(E)))return c;var dt=jn(c),qt=jn(E);return hl(dt,Je(dt,qt),Ut(dt,qt)+1).join("")},yn.trimEnd=function Tg(c,E,me){if((c=ia(c))&&(me||E===y))return c.slice(0,Qn(c)+1);if(!c||!(E=Ac(E)))return c;var dt=jn(c);return hl(dt,0,Ut(dt,jn(E))+1).join("")},yn.trimStart=function Mg(c,E,me){if((c=ia(c))&&(me||E===y))return c.replace(tn,"");if(!c||!(E=Ac(E)))return c;var dt=jn(c);return hl(dt,Je(dt,jn(E))).join("")},yn.truncate=function Dg(c,E){var me=30,dt="...";if(la(E)){var qt="separator"in E?E.separator:qt;me="length"in E?Is(E.length):me,dt="omission"in E?Ac(E.omission):dt}var On=(c=ia(c)).length;if(Qr(c)){var nr=jn(c);On=nr.length}if(me>=On)return c;var Zn=me-gn(dt);if(Zn<1)return dt;var kr=nr?hl(nr,0,Zn).join(""):c.slice(0,Zn);if(qt===y)return kr+dt;if(nr&&(Zn+=kr.length-Zn),xa(qt)){if(c.slice(Zn).search(qt)){var Bi,Pi=kr;for(qt.global||(qt=Ti(qt.source,ia(Hn.exec(qt))+"g")),qt.lastIndex=0;Bi=qt.exec(Pi);)var qi=Bi.index;kr=kr.slice(0,qi===y?Zn:qi)}}else if(c.indexOf(Ac(qt),Zn)!=Zn){var Mo=kr.lastIndexOf(qt);Mo>-1&&(kr=kr.slice(0,Mo))}return kr+dt},yn.unescape=function ah(c){return(c=ia(c))&&dn.test(c)?c.replace(kn,yr):c},yn.uniqueId=function Fg(c){var E=++Ea;return ia(c)+E},yn.upperCase=yl,yn.upperFirst=Xc,yn.each=Qf,yn.eachRight=Zh,yn.first=Cu,uf(yn,function(){var c={};return Wa(yn,function(E,me){jo.call(yn.prototype,me)||(c[me]=E)}),c}(),{chain:!1}),yn.VERSION="4.17.21",fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){yn[c].placeholder=yn}),fi(["drop","take"],function(c,E){zi.prototype[c]=function(me){me=me===y?1:qr(Is(me),0);var dt=this.__filtered__&&!E?new zi(this):this.clone();return dt.__filtered__?dt.__takeCount__=vi(me,dt.__takeCount__):dt.__views__.push({size:vi(me,Ge),type:c+(dt.__dir__<0?"Right":"")}),dt},zi.prototype[c+"Right"]=function(me){return this.reverse()[c](me).reverse()}}),fi(["filter","map","takeWhile"],function(c,E){var me=E+1,dt=1==me||3==me;zi.prototype[c]=function(qt){var On=this.clone();return On.__iteratees__.push({iteratee:Jo(qt,3),type:me}),On.__filtered__=On.__filtered__||dt,On}}),fi(["head","last"],function(c,E){var me="take"+(E?"Right":"");zi.prototype[c]=function(){return this[me](1).value()[0]}}),fi(["initial","tail"],function(c,E){var me="drop"+(E?"":"Right");zi.prototype[c]=function(){return this.__filtered__?new zi(this):this[me](1)}}),zi.prototype.compact=function(){return this.filter(kc)},zi.prototype.find=function(c){return this.filter(c).head()},zi.prototype.findLast=function(c){return this.reverse().find(c)},zi.prototype.invokeMap=Rs(function(c,E){return"function"==typeof c?new zi(this):this.map(function(me){return Xe(me,c,E)})}),zi.prototype.reject=function(c){return this.filter(it(Jo(c)))},zi.prototype.slice=function(c,E){c=Is(c);var me=this;return me.__filtered__&&(c>0||E<0)?new zi(me):(c<0?me=me.takeRight(-c):c&&(me=me.drop(c)),E!==y&&(me=(E=Is(E))<0?me.dropRight(-E):me.take(E-c)),me)},zi.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},zi.prototype.toArray=function(){return this.take(Ge)},Wa(zi.prototype,function(c,E){var me=/^(?:filter|find|map|reject)|While$/.test(E),dt=/^(?:head|last)$/.test(E),qt=yn[dt?"take"+("last"==E?"Right":""):E],On=dt||/^find/.test(E);qt&&(yn.prototype[E]=function(){var nr=this.__wrapped__,Zn=dt?[1]:arguments,kr=nr instanceof zi,Bi=Zn[0],Pi=kr||Fr(nr),qi=function(Vs){var Js=qt.apply(yn,_n([Vs],Zn));return dt&&Mo?Js[0]:Js};Pi&&me&&"function"==typeof Bi&&1!=Bi.length&&(kr=Pi=!1);var Mo=this.__chain__,is=On&&!Mo,ys=kr&&!this.__actions__.length;if(!On&&Pi){nr=ys?nr:new zi(this);var ss=c.apply(nr,Zn);return ss.__actions__.push({func:qd,args:[qi],thisArg:y}),new va(ss,Mo)}return is&&ys?c.apply(this,Zn):(ss=this.thru(qi),is?dt?ss.value()[0]:ss.value():ss)})}),fi(["pop","push","shift","sort","splice","unshift"],function(c){var E=No[c],me=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",dt=/^(?:pop|shift)$/.test(c);yn.prototype[c]=function(){var qt=arguments;if(dt&&!this.__chain__){var On=this.value();return E.apply(Fr(On)?On:[],qt)}return this[me](function(nr){return E.apply(Fr(nr)?nr:[],qt)})}}),Wa(zi.prototype,function(c,E){var me=yn[E];if(me){var dt=me.name+"";jo.call(Go,dt)||(Go[dt]=[]),Go[dt].push({name:E,func:me})}}),Go[dd(y,2).name]=[{name:"wrapper",func:y}],zi.prototype.clone=function Jl(){var c=new zi(this.__wrapped__);return c.__actions__=Ic(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Ic(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Ic(this.__views__),c},zi.prototype.reverse=function fs(){if(this.__filtered__){var c=new zi(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},zi.prototype.value=function hc(){var c=this.__wrapped__.value(),E=this.__dir__,me=Fr(c),dt=E<0,qt=me?c.length:0,On=function wh(c,E,me){for(var dt=-1,qt=me.length;++dt<qt;){var On=me[dt],nr=On.size;switch(On.type){case"drop":c+=nr;break;case"dropRight":E-=nr;break;case"take":E=vi(E,c+nr);break;case"takeRight":c=qr(c,E-nr)}}return{start:c,end:E}}(0,qt,this.__views__),nr=On.start,Zn=On.end,kr=Zn-nr,Bi=dt?Zn:nr-1,Pi=this.__iteratees__,qi=Pi.length,Mo=0,zo=vi(kr,this.__takeCount__);if(!me||!dt&&qt==kr&&zo==kr)return ld(c,this.__actions__);var is=[];e:for(;kr--&&Mo<zo;){for(var ys=-1,ss=c[Bi+=E];++ys<qi;){var Vs=Pi[ys],Qc=Vs.type,xc=(0,Vs.iteratee)(ss);if(2==Qc)ss=xc;else if(!xc){if(1==Qc)continue e;break e}}is[Mo++]=ss}return is},yn.prototype.at=Hh,yn.prototype.chain=function im(){return Yd(this)},yn.prototype.commit=function om(){return new va(this.value(),this.__chain__)},yn.prototype.next=function sm(){this.__values__===y&&(this.__values__=np(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?y:this.__values__[this.__index__++]}},yn.prototype.plant=function Kh(c){for(var E,me=this;me instanceof Nc;){var dt=Hd(me);dt.__index__=0,dt.__values__=y,E?qt.__wrapped__=dt:E=dt;var qt=dt;me=me.__wrapped__}return qt.__wrapped__=c,E},yn.prototype.reverse=function zh(){var c=this.__wrapped__;if(c instanceof zi){var E=c;return this.__actions__.length&&(E=new zi(this)),(E=E.reverse()).__actions__.push({func:qd,args:[Ql],thisArg:y}),new va(E,this.__chain__)}return this.thru(Ql)},yn.prototype.toJSON=yn.prototype.valueOf=yn.prototype.value=function $h(){return ld(this.__wrapped__,this.__actions__)},yn.prototype.first=yn.prototype.head,ks&&(yn.prototype[ks]=function $f(){return this}),yn}();Oo._=Vi,(r=function(){return Vi}.call(ye,w,ye,ln))!==y&&(ln.exports=r)}.call(this)},73828:(ln,ye,w)=>{var r;!function(y,u){if(y){for(var S,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},F={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},U=1;U<20;++U)x[111+U]="f"+U;for(U=0;U<=9;++U)x[U+96]=U.toString();K.prototype.bind=function(R,ce,$){return this._bindMultiple.call(this,R=R instanceof Array?R:[R],ce,$),this},K.prototype.unbind=function(R,ce){return this.bind.call(this,R,function(){},ce)},K.prototype.trigger=function(R,ce){var $=this;return $._directMap[R+":"+ce]&&$._directMap[R+":"+ce]({},R),$},K.prototype.reset=function(){var R=this;return R._callbacks={},R._directMap={},R},K.prototype.stopCallback=function(R,ce){if((" "+ce.className+" ").indexOf(" mousetrap ")>-1||Ce(ce,this.target))return!1;if("composedPath"in R&&"function"==typeof R.composedPath){var Fe=R.composedPath()[0];Fe!==R.target&&(ce=Fe)}return"INPUT"==ce.tagName||"SELECT"==ce.tagName||"TEXTAREA"==ce.tagName||ce.isContentEditable},K.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},K.addKeycodes=function(R){for(var ce in R)R.hasOwnProperty(ce)&&(x[ce]=R[ce]);S=null},K.init=function(){var R=K(u);for(var ce in R)"_"!==ce.charAt(0)&&(K[ce]=function($){return function(){return R[$].apply(R,arguments)}}(ce))},K.init(),y.Mousetrap=K,ln.exports&&(ln.exports=K),void 0!==(r=function(){return K}.call(ye,w,ye,ln))&&(ln.exports=r)}function O(R,ce,$){R.addEventListener?R.addEventListener(ce,$,!1):R.attachEvent("on"+ce,$)}function b(R){if("keypress"==R.type){var ce=String.fromCharCode(R.which);return R.shiftKey||(ce=ce.toLowerCase()),ce}return x[R.which]?x[R.which]:d[R.which]?d[R.which]:String.fromCharCode(R.which).toLowerCase()}function M(R,ce){return R.sort().join(",")===ce.sort().join(",")}function X(R){return"shift"==R||"ctrl"==R||"alt"==R||"meta"==R}function Z(R,ce,$){return $||($=function re(){if(!S)for(var R in S={},x)R>95&&R<112||x.hasOwnProperty(R)&&(S[x[R]]=R);return S}()[R]?"keydown":"keypress"),"keypress"==$&&ce.length&&($="keydown"),$}function oe(R,ce){var $,Fe,je,Ve=[];for($=function Re(R){return"+"===R?["+"]:(R=R.replace(/\+{2}/g,"+plus")).split("+")}(R),je=0;je<$.length;++je)F[Fe=$[je]]&&(Fe=F[Fe]),ce&&"keypress"!=ce&&L[Fe]&&(Fe=L[Fe],Ve.push("shift")),X(Fe)&&Ve.push(Fe);return{key:Fe,modifiers:Ve,action:ce=Z(Fe,Ve,ce)}}function Ce(R,ce){return null!==R&&R!==u&&(R===ce||Ce(R.parentNode,ce))}function K(R){var ce=this;if(R=R||u,!(ce instanceof K))return new K(R);ce.target=R,ce._callbacks={},ce._directMap={};var Fe,$={},je=!1,Ve=!1,lt=!1;function pt(Ze){Ze=Ze||{};var bt,ut=!1;for(bt in $)Ze[bt]?ut=!0:$[bt]=0;ut||(lt=!1)}function St(Ze,ut,bt,Dt,Le,Ae){var se,Me,Ee=[],C=bt.type;if(!ce._callbacks[Ze])return[];for("keyup"==C&&X(Ze)&&(ut=[Ze]),se=0;se<ce._callbacks[Ze].length;++se)Me=ce._callbacks[Ze][se],!Dt&&Me.seq&&$[Me.seq]!=Me.level||C!=Me.action||("keypress"!=C||bt.metaKey||bt.ctrlKey)&&!M(ut,Me.modifiers)||((!Dt&&Me.combo==Le||Dt&&Me.seq==Dt&&Me.level==Ae)&&ce._callbacks[Ze].splice(se,1),Ee.push(Me));return Ee}function Rn(Ze,ut,bt,Dt){ce.stopCallback(ut,ut.target||ut.srcElement,bt,Dt)||!1===Ze(ut,bt)&&(function ue(R){R.preventDefault?R.preventDefault():R.returnValue=!1}(ut),function z(R){R.stopPropagation?R.stopPropagation():R.cancelBubble=!0}(ut))}function G(Ze){"number"!=typeof Ze.which&&(Ze.which=Ze.keyCode);var ut=b(Ze);if(ut){if("keyup"==Ze.type&&je===ut)return void(je=!1);ce.handleKey(ut,function A(R){var ce=[];return R.shiftKey&&ce.push("shift"),R.altKey&&ce.push("alt"),R.ctrlKey&&ce.push("ctrl"),R.metaKey&&ce.push("meta"),ce}(Ze),Ze)}}function Ge(Ze,ut,bt,Dt,Le){ce._directMap[Ze+":"+bt]=ut;var se,Ae=(Ze=Ze.replace(/\s+/g," ")).split(" ");Ae.length>1?function De(Ze,ut,bt,Dt){function Le(C){return function(){lt=C,++$[Ze],function ee(){clearTimeout(Fe),Fe=setTimeout(pt,1e3)}()}}function Ae(C){Rn(bt,C,Ze),"keyup"!==Dt&&(je=b(C)),setTimeout(pt,10)}$[Ze]=0;for(var se=0;se<ut.length;++se){var Ee=se+1===ut.length?Ae:Le(Dt||oe(ut[se+1]).action);Ge(ut[se],Ee,Dt,Ze,se)}}(Ze,Ae,ut,bt):(se=oe(Ze,bt),ce._callbacks[se.key]=ce._callbacks[se.key]||[],St(se.key,se.modifiers,{type:se.action},Dt,Ze,Le),ce._callbacks[se.key][Dt?"unshift":"push"]({callback:ut,modifiers:se.modifiers,action:se.action,seq:Dt,level:Le,combo:Ze}))}ce._handleKey=function(Ze,ut,bt){var Le,Dt=St(Ze,ut,bt),Ae={},se=0,Me=!1;for(Le=0;Le<Dt.length;++Le)Dt[Le].seq&&(se=Math.max(se,Dt[Le].level));for(Le=0;Le<Dt.length;++Le)if(Dt[Le].seq){if(Dt[Le].level!=se)continue;Me=!0,Ae[Dt[Le].seq]=1,Rn(Dt[Le].callback,bt,Dt[Le].combo,Dt[Le].seq)}else Me||Rn(Dt[Le].callback,bt,Dt[Le].combo);var Ee="keypress"==bt.type&&Ve;bt.type==lt&&!X(Ze)&&!Ee&&pt(Ae),Ve=Me&&"keydown"==bt.type},ce._bindMultiple=function(Ze,ut,bt){for(var Dt=0;Dt<Ze.length;++Dt)Ge(Ze[Dt],ut,bt)},O(R,"keypress",G),O(R,"keydown",G),O(R,"keyup",G)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},24434:function(ln,ye,w){"use strict";var r=this&&this.__createBinding||(Object.create?function(L,F,S,U){void 0===U&&(U=S);var O=Object.getOwnPropertyDescriptor(F,S);(!O||("get"in O?!F.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return F[S]}}),Object.defineProperty(L,U,O)}:function(L,F,S,U){void 0===U&&(U=S),L[U]=F[S]}),y=this&&this.__setModuleDefault||(Object.create?function(L,F){Object.defineProperty(L,"default",{enumerable:!0,value:F})}:function(L,F){L.default=F}),u=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var F={};if(null!=L)for(var S in L)"default"!==S&&Object.prototype.hasOwnProperty.call(L,S)&&r(F,L,S);return y(F,L),F};Object.defineProperty(ye,"__esModule",{value:!0}),ye.objectSorter=void 0;const v=u(w(69209)),x=w(91921);ye.objectSorter=L=>{const{sort:F,coerce:S,trim:U}={sort:!0,coerce:!0,trim:!1,...L},O_array="boolean"==typeof F?F:F?.array??!1,O_typedArray="boolean"!=typeof F&&(F?.typedArray??!1),O_object="boolean"==typeof F?F:F?.object??!1,O_set="boolean"==typeof F?F:F?.set??!1,O_map="boolean"==typeof F?F:F?.map??!1,b_boolean="boolean"==typeof S?S:S?.boolean??!1,b_number="boolean"==typeof S?S:S?.number??!1,b_bigint="boolean"==typeof S?S:S?.bigint??!1,b_string="boolean"==typeof S?S:S?.string??!1,b_undefined="boolean"==typeof S?S:S?.undefined??!1,b_null="boolean"==typeof S?S:S?.null??!1,b_symbol="boolean"==typeof S?S:S?.symbol??!1,b_function="boolean"==typeof S?S:S?.function??!1,b_date="boolean"==typeof S?S:S?.date??!1,b_set="boolean"==typeof S?S:S?.set??!1,M_string="boolean"==typeof U?U:U?.string??!1,M_function="boolean"==typeof U?U:U?.function??!1,A={unknown:function(X){return`<:${X.constructor?.name??"unknonw"}>:${"function"==typeof X.toString?X.toString():"unknown"}`}};return A.hashable=v._hashable.bind(A),A.string=M_string?b_string?v._stringTrimCoerce.bind(A):v._stringTrim.bind(A):b_string?v._stringCoerce.bind(A):v._string.bind(A),A.number=b_number?v._numberCoerce.bind(A):v._number.bind(A),A.bigint=b_bigint?v._bigIntCoerce.bind(A):v._bigInt.bind(A),A.boolean=b_boolean?v._booleanCoerce.bind(A):v._boolean.bind(A),A.symbol=b_symbol?v._symbolCoerce.bind(A):v._symbol.bind(A),A.undefined=b_undefined?v._undefinedCoerce.bind(A):v._undefined.bind(A),A.null=b_null?v._nullCoerce.bind(A):v._null.bind(A),A.function=M_function?b_function?v._functionTrimCoerce.bind(A):v._functionTrim.bind(A):b_function?v._functionCoerce.bind(A):v._function.bind(A),A.date=b_date?v._dateCoerce.bind(A):v._date.bind(A),A.array=O_array?v._arraySort.bind(A):v._array.bind(A),A.typedarray=O_typedArray?v._typedArraySort.bind(A):v._typedArray.bind(A),A.set=O_set?b_set?v._setSortCoerce.bind(A):v._setSort.bind(A):b_set?v._setCoerce.bind(A):v._set.bind(A),A.object=O_object?v._objectSort.bind(A):v._object.bind(A),A.map=O_map?v._mapSort.bind(A):v._map.bind(A),function ue(z){return A[(0,x.guessType)(z)](z)}}},69209:(ln,ye,w)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye._mapSort=ye._map=ye._objectSort=ye._object=ye._setCoerce=ye._set=ye._setSort=ye._setSortCoerce=ye._typedArray=ye._typedArraySort=ye._array=ye._arraySort=ye._date=ye._dateCoerce=ye._functionTrim=ye._functionTrimCoerce=ye._function=ye._functionCoerce=ye._null=ye._nullCoerce=ye._undefined=ye._undefinedCoerce=ye._symbol=ye._symbolCoerce=ye._boolean=ye._booleanCoerce=ye._bigInt=ye._bigIntCoerce=ye._number=ye._numberCoerce=ye._stringTrim=ye._stringTrimCoerce=ye._string=ye._stringCoerce=ye._hashable=ye.PREFIX=void 0;const r=w(91921);function ce(Ge){const Ze=this;return"["+Ge.map(ut=>Ze[(0,r.guessType)(ut)](ut)).sort().toString()+"]"}function $(Ge){const Ze=this;return"["+Ge.map(ut=>Ze[(0,r.guessType)(ut)](ut)).toString()+"]"}ye.PREFIX={string:"<:s>",number:"<:n>",bigint:"<:bi>",boolean:"<:b>",symbol:"<:smbl>",undefined:"<:undf>",null:"<:null>",function:"<:func>",array:"",date:"<:date>",set:"<:set>",map:"<:map>"},ye._hashable=function y(Ge){return Ge.toHashableString()},ye._stringCoerce=function u(Ge){return Ge},ye._string=function v(Ge){return ye.PREFIX.string+":"+Ge},ye._stringTrimCoerce=function x(Ge){return Ge.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ye._stringTrim=function d(Ge){return ye.PREFIX.string+":"+Ge.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ye._numberCoerce=function L(Ge){return Ge.toString()},ye._number=function F(Ge){return`${ye.PREFIX.number}:${Ge}`},ye._bigIntCoerce=function S(Ge){return Ge.toString()},ye._bigInt=function U(Ge){return`${ye.PREFIX.bigint}:${Ge.toString()}`},ye._booleanCoerce=function O(Ge){return Ge?"1":"0"},ye._boolean=function b(Ge){return ye.PREFIX.boolean+":"+Ge.toString()},ye._symbolCoerce=function M(){return ye.PREFIX.symbol},ye._symbol=function A(Ge){return ye.PREFIX.symbol+":"+Ge.toString()},ye._undefinedCoerce=function ue(){return""},ye._undefined=function z(){return ye.PREFIX.undefined},ye._nullCoerce=function X(){return""},ye._null=function re(){return ye.PREFIX.null},ye._functionCoerce=function Z(Ge){return Ge.name+"=>"+Ge.toString()},ye._function=function Re(Ge){return ye.PREFIX.function+":"+Ge.name+"=>"+Ge.toString()},ye._functionTrimCoerce=function oe(Ge){return Ge.name+"=>"+Ge.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ye._functionTrim=function Ce(Ge){return ye.PREFIX.function+":"+Ge.name+"=>"+Ge.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ye._dateCoerce=function K(Ge){return Ge.toISOString()},ye._date=function R(Ge){return ye.PREFIX.date+":"+Ge.toISOString()},ye._arraySort=ce,ye._array=$,ye._typedArraySort=function Fe(Ge){const Ze=this;return"["+Array.prototype.slice.call(Ge).map(bt=>Ze[(0,r.guessType)(bt)](bt)).sort().toString()+"]"},ye._typedArray=function je(Ge){const Ze=this;return"["+Array.prototype.slice.call(Ge).map(bt=>Ze[(0,r.guessType)(bt)](bt)).toString()+"]"},ye._setSortCoerce=function Ve(Ge){return ce.call(this,Array.from(Ge))},ye._setSort=function lt(Ge){return`${ye.PREFIX.set}:${ce.call(this,Array.from(Ge))}`},ye._set=function pt(Ge){return`${ye.PREFIX.set}:${$.call(this,Array.from(Ge))}`},ye._setCoerce=function St(Ge){return $.call(this,Array.from(Ge))},ye._object=function Rn(Ge){const Ze=this,ut=Object.keys(Ge),bt=[];for(const Dt of ut){const Le=Ge[Dt],Ae=(0,r.guessType)(Le);bt.push(Dt+":"+Ze[Ae](Le))}return"{"+bt.toString()+"}"},ye._objectSort=function G(Ge){const Ze=this,ut=Object.keys(Ge).sort(),bt=[];for(const Dt of ut){const Le=Ge[Dt],Ae=(0,r.guessType)(Le);bt.push(Dt+":"+Ze[Ae](Le))}return"{"+bt.toString()+"}"},ye._map=function ee(Ge){const Ze=this,ut=Array.from(Ge),bt=[];for(const Dt of ut){const[Le,Ae]=Dt;bt.push([Ze[(0,r.guessType)(Le)](Le),Ze[(0,r.guessType)(Ae)](Ae)])}return"["+bt.join(";")+"]"},ye._mapSort=function De(Ge){const Ze=this,ut=Array.from(Ge),bt=[];for(const Dt of ut){const[Le,Ae]=Dt;bt.push([Ze[(0,r.guessType)(Le)](Le),Ze[(0,r.guessType)(Ae)](Ae)])}return"["+bt.sort().join(";")+"]"}},91921:(ln,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.instanceOfHashable=ye.guessType=ye.guessObjectType=ye.TYPE_MAP=void 0,ye.TYPE_MAP={Array:"array",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",BigUint64Array:"typedarray",BigInt64Array:"typedarray",Buffer:"typedarray",Map:"map",Set:"set",Date:"date",String:"string",Number:"number",BigInt:"bigint",Boolean:"boolean",Object:"object"},ye.guessObjectType=u=>null===u?"null":(0,ye.instanceOfHashable)(u)?"hashable":ye.TYPE_MAP[u?.constructor?.name??"unknown"]||"unknown",ye.guessType=u=>{const v=typeof u;return"object"!==v?v:(0,ye.guessObjectType)(u)},ye.instanceOfHashable=u=>"function"==typeof u.toHashableString},92298:(ln,ye,w)=>{var r="function"==typeof Map&&Map.prototype,y=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,u=r&&y&&"function"==typeof y.get?y.get:null,v=r&&Map.prototype.forEach,x="function"==typeof Set&&Set.prototype,d=Object.getOwnPropertyDescriptor&&x?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=x&&d&&"function"==typeof d.get?d.get:null,F=x&&Set.prototype.forEach,U="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,b="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,A="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ue=Boolean.prototype.valueOf,z=Object.prototype.toString,X=Function.prototype.toString,re=String.prototype.match,Z=String.prototype.slice,Re=String.prototype.replace,oe=String.prototype.toUpperCase,Ce=String.prototype.toLowerCase,K=RegExp.prototype.test,R=Array.prototype.concat,ce=Array.prototype.join,$=Array.prototype.slice,Fe=Math.floor,je="function"==typeof BigInt?BigInt.prototype.valueOf:null,Ve=Object.getOwnPropertySymbols,lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,pt="function"==typeof Symbol&&"object"==typeof Symbol.iterator,St="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Rn=Object.prototype.propertyIsEnumerable,G=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ke){return ke.__proto__}:null);function ee(ke,et){if(ke===1/0||ke===-1/0||ke!=ke||ke&&ke>-1e3&&ke<1e3||K.call(/e/,et))return et;var xt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof ke){var Zt=ke<0?-Fe(-ke):Fe(ke);if(Zt!==ke){var vn=String(Zt),kn=Z.call(et,vn.length+1);return Re.call(vn,xt,"$&_")+"."+Re.call(Re.call(kn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Re.call(et,xt,"$&_")}var De=w(42634),Ge=De.custom,Ze=W(Ge)?Ge:null,ut={__proto__:null,double:'"',single:"'"},bt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Dt(ke,et,xt){var vn=ut[xt.quoteStyle||et];return vn+ke+vn}function Le(ke){return Re.call(String(ke),/"/g,"&quot;")}function Ae(ke){return!("[object Array]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}function Me(ke){return!("[object RegExp]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}function W(ke){if(pt)return ke&&"object"==typeof ke&&ke instanceof Symbol;if("symbol"==typeof ke)return!0;if(!ke||"object"!=typeof ke||!lt)return!1;try{return lt.call(ke),!0}catch{}return!1}ln.exports=function ke(et,xt,Zt,vn){var kn=xt||{};if(p(kn,"quoteStyle")&&!p(ut,kn.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(p(kn,"maxStringLength")&&("number"==typeof kn.maxStringLength?kn.maxStringLength<0&&kn.maxStringLength!==1/0:null!==kn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var tr=!p(kn,"customInspect")||kn.customInspect;if("boolean"!=typeof tr&&"symbol"!==tr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(p(kn,"indent")&&null!==kn.indent&&"\t"!==kn.indent&&!(parseInt(kn.indent,10)===kn.indent&&kn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(p(kn,"numericSeparator")&&"boolean"!=typeof kn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var dn=kn.numericSeparator;if(typeof et>"u")return"undefined";if(null===et)return"null";if("boolean"==typeof et)return et?"true":"false";if("string"==typeof et)return It(et,kn);if("number"==typeof et){if(0===et)return 1/0/et>0?"0":"-0";var nn=String(et);return dn?ee(et,nn):nn}if("bigint"==typeof et){var Ht=String(et)+"n";return dn?ee(et,Ht):Ht}var Xt=typeof kn.depth>"u"?5:kn.depth;if(typeof Zt>"u"&&(Zt=0),Zt>=Xt&&Xt>0&&"object"==typeof et)return Ae(et)?"[Array]":"[Object]";var Nn=function Vt(ke,et){var xt;if("\t"===ke.indent)xt="\t";else{if(!("number"==typeof ke.indent&&ke.indent>0))return null;xt=ce.call(Array(ke.indent+1)," ")}return{base:xt,prev:ce.call(Array(et+1),xt)}}(kn,Zt);if(typeof vn>"u")vn=[];else if(Ie(vn,et)>=0)return"[Circular]";function Ot(ti,Yr,Ki){if(Yr&&(vn=$.call(vn)).push(Yr),Ki){var mi={depth:kn.depth};return p(kn,"quoteStyle")&&(mi.quoteStyle=kn.quoteStyle),ke(ti,mi,Zt+1,vn)}return ke(ti,kn,Zt+1,vn)}if("function"==typeof et&&!Me(et)){var Mn=function B(ke){if(ke.name)return ke.name;var et=re.call(X.call(ke),/^function\s*([\w$]+)/);return et?et[1]:null}(et),Bn=We(et,Ot);return"[Function"+(Mn?": "+Mn:" (anonymous)")+"]"+(Bn.length>0?" { "+ce.call(Bn,", ")+" }":"")}if(W(et)){var Pn=pt?Re.call(String(et),/^(Symbol\(.*\))_[^)]*$/,"$1"):lt.call(et);return"object"!=typeof et||pt?Pn:wt(Pn)}if(function ct(ke){return!(!ke||"object"!=typeof ke)&&(typeof HTMLElement<"u"&&ke instanceof HTMLElement||"string"==typeof ke.nodeName&&"function"==typeof ke.getAttribute)}(et)){for(var Dn="<"+Ce.call(String(et.nodeName)),tn=et.attributes||[],bn=0;bn<tn.length;bn++)Dn+=" "+tn[bn].name+"="+Dt(Le(tn[bn].value),"double",kn);return Dn+=">",et.childNodes&&et.childNodes.length&&(Dn+="..."),Dn+"</"+Ce.call(String(et.nodeName))+">"}if(Ae(et)){if(0===et.length)return"[]";var yt=We(et,Ot);return Nn&&!function mt(ke){for(var et=0;et<ke.length;et++)if(Ie(ke[et],"\n")>=0)return!1;return!0}(yt)?"["+at(yt,Nn)+"]":"[ "+ce.call(yt,", ")+" ]"}if(function Ee(ke){return!("[object Error]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}(et)){var _e=We(et,Ot);return"cause"in Error.prototype||!("cause"in et)||Rn.call(et,"cause")?0===_e.length?"["+String(et)+"]":"{ ["+String(et)+"] "+ce.call(_e,", ")+" }":"{ ["+String(et)+"] "+ce.call(R.call("[cause]: "+Ot(et.cause),_e),", ")+" }"}if("object"==typeof et&&tr){if(Ze&&"function"==typeof et[Ze]&&De)return De(et,{depth:Xt-Zt});if("symbol"!==tr&&"function"==typeof et.inspect)return et.inspect()}if(function $e(ke){if(!u||!ke||"object"!=typeof ke)return!1;try{u.call(ke);try{L.call(ke)}catch{return!0}return ke instanceof Map}catch{}return!1}(et)){var he=[];return v&&v.call(et,function(ti,Yr){he.push(Ot(Yr,et,!0)+" => "+Ot(ti,et))}),Ct("Map",u.call(et),he,Nn)}if(function jt(ke){if(!L||!ke||"object"!=typeof ke)return!1;try{L.call(ke);try{u.call(ke)}catch{return!0}return ke instanceof Set}catch{}return!1}(et)){var Be=[];return F&&F.call(et,function(ti){Be.push(Ot(ti,et))}),Ct("Set",L.call(et),Be,Nn)}if(function ft(ke){if(!U||!ke||"object"!=typeof ke)return!1;try{U.call(ke,U);try{b.call(ke,b)}catch{return!0}return ke instanceof WeakMap}catch{}return!1}(et))return rt("WeakMap");if(function Ye(ke){if(!b||!ke||"object"!=typeof ke)return!1;try{b.call(ke,b);try{U.call(ke,U)}catch{return!0}return ke instanceof WeakSet}catch{}return!1}(et))return rt("WeakSet");if(function kt(ke){if(!A||!ke||"object"!=typeof ke)return!1;try{return A.call(ke),!0}catch{}return!1}(et))return rt("WeakRef");if(function T(ke){return!("[object Number]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}(et))return wt(Ot(Number(et)));if(function ve(ke){if(!ke||"object"!=typeof ke||!je)return!1;try{return je.call(ke),!0}catch{}return!1}(et))return wt(Ot(je.call(et)));if(function J(ke){return!("[object Boolean]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}(et))return wt(ue.call(et));if(function C(ke){return!("[object String]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}(et))return wt(Ot(String(et)));if(typeof window<"u"&&et===window)return"{ [object Window] }";if(typeof globalThis<"u"&&et===globalThis||typeof global<"u"&&et===global)return"{ [object globalThis] }";if(!function se(ke){return!("[object Date]"!==H(ke)||St&&"object"==typeof ke&&St in ke)}(et)&&!Me(et)){var ht=We(et,Ot),zt=G?G(et)===Object.prototype:et instanceof Object||et.constructor===Object,on=et instanceof Object?"":"null prototype",Hn=!zt&&St&&Object(et)===et&&St in et?Z.call(H(et),8,-1):on?"Object":"",Ir=(zt||"function"!=typeof et.constructor?"":et.constructor.name?et.constructor.name+" ":"")+(Hn||on?"["+ce.call(R.call([],Hn||[],on||[]),": ")+"] ":"");return 0===ht.length?Ir+"{}":Nn?Ir+"{"+at(ht,Nn)+"}":Ir+"{ "+ce.call(ht,", ")+" }"}return String(et)};var ne=Object.prototype.hasOwnProperty||function(ke){return ke in this};function p(ke,et){return ne.call(ke,et)}function H(ke){return z.call(ke)}function Ie(ke,et){if(ke.indexOf)return ke.indexOf(et);for(var xt=0,Zt=ke.length;xt<Zt;xt++)if(ke[xt]===et)return xt;return-1}function It(ke,et){if(ke.length>et.maxStringLength){var xt=ke.length-et.maxStringLength,Zt="... "+xt+" more character"+(xt>1?"s":"");return It(Z.call(ke,0,et.maxStringLength),et)+Zt}var vn=bt[et.quoteStyle||"single"];return vn.lastIndex=0,Dt(Re.call(Re.call(ke,vn,"\\$1"),/[\x00-\x1f]/g,Ke),"single",et)}function Ke(ke){var et=ke.charCodeAt(0),xt={8:"b",9:"t",10:"n",12:"f",13:"r"}[et];return xt?"\\"+xt:"\\x"+(et<16?"0":"")+oe.call(et.toString(16))}function wt(ke){return"Object("+ke+")"}function rt(ke){return ke+" { ? }"}function Ct(ke,et,xt,Zt){return ke+" ("+et+") {"+(Zt?at(xt,Zt):ce.call(xt,", "))+"}"}function at(ke,et){if(0===ke.length)return"";var xt="\n"+et.prev+et.base;return xt+ce.call(ke,","+xt)+"\n"+et.prev}function We(ke,et){var xt=Ae(ke),Zt=[];if(xt){Zt.length=ke.length;for(var vn=0;vn<ke.length;vn++)Zt[vn]=p(ke,vn)?et(ke[vn],ke):""}var tr,kn="function"==typeof Ve?Ve(ke):[];if(pt){tr={};for(var dn=0;dn<kn.length;dn++)tr["$"+kn[dn]]=kn[dn]}for(var nn in ke)p(ke,nn)&&(xt&&String(Number(nn))===nn&&nn<ke.length||pt&&tr["$"+nn]instanceof Symbol||(K.call(/[^\w$]/,nn)?Zt.push(et(nn,ke)+": "+et(ke[nn],ke)):Zt.push(nn+": "+et(ke[nn],ke))));if("function"==typeof Ve)for(var Ht=0;Ht<kn.length;Ht++)Rn.call(ke,kn[Ht])&&Zt.push("["+et(kn[Ht])+"]: "+et(ke[kn[Ht]],ke));return Zt}},91677:ln=>{"use strict";var ye=Object.prototype.hasOwnProperty,w="~";function r(){}function y(d,L,F){this.fn=d,this.context=L,this.once=F||!1}function u(d,L,F,S,U){if("function"!=typeof F)throw new TypeError("The listener must be a function");var O=new y(F,S||d,U),b=w?w+L:L;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],O]:d._events[b].push(O):(d._events[b]=O,d._eventsCount++),d}function v(d,L){0==--d._eventsCount?d._events=new r:delete d._events[L]}function x(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(w=!1)),x.prototype.eventNames=function(){var F,S,L=[];if(0===this._eventsCount)return L;for(S in F=this._events)ye.call(F,S)&&L.push(w?S.slice(1):S);return Object.getOwnPropertySymbols?L.concat(Object.getOwnPropertySymbols(F)):L},x.prototype.listeners=function(L){var S=this._events[w?w+L:L];if(!S)return[];if(S.fn)return[S.fn];for(var U=0,O=S.length,b=new Array(O);U<O;U++)b[U]=S[U].fn;return b},x.prototype.listenerCount=function(L){var S=this._events[w?w+L:L];return S?S.fn?1:S.length:0},x.prototype.emit=function(L,F,S,U,O,b){var M=w?w+L:L;if(!this._events[M])return!1;var z,X,A=this._events[M],ue=arguments.length;if(A.fn){switch(A.once&&this.removeListener(L,A.fn,void 0,!0),ue){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,F),!0;case 3:return A.fn.call(A.context,F,S),!0;case 4:return A.fn.call(A.context,F,S,U),!0;case 5:return A.fn.call(A.context,F,S,U,O),!0;case 6:return A.fn.call(A.context,F,S,U,O,b),!0}for(X=1,z=new Array(ue-1);X<ue;X++)z[X-1]=arguments[X];A.fn.apply(A.context,z)}else{var Z,re=A.length;for(X=0;X<re;X++)switch(A[X].once&&this.removeListener(L,A[X].fn,void 0,!0),ue){case 1:A[X].fn.call(A[X].context);break;case 2:A[X].fn.call(A[X].context,F);break;case 3:A[X].fn.call(A[X].context,F,S);break;case 4:A[X].fn.call(A[X].context,F,S,U);break;default:if(!z)for(Z=1,z=new Array(ue-1);Z<ue;Z++)z[Z-1]=arguments[Z];A[X].fn.apply(A[X].context,z)}}return!0},x.prototype.on=function(L,F,S){return u(this,L,F,S,!1)},x.prototype.once=function(L,F,S){return u(this,L,F,S,!0)},x.prototype.removeListener=function(L,F,S,U){var O=w?w+L:L;if(!this._events[O])return this;if(!F)return v(this,O),this;var b=this._events[O];if(b.fn)b.fn===F&&(!U||b.once)&&(!S||b.context===S)&&v(this,O);else{for(var M=0,A=[],ue=b.length;M<ue;M++)(b[M].fn!==F||U&&!b[M].once||S&&b[M].context!==S)&&A.push(b[M]);A.length?this._events[O]=1===A.length?A[0]:A:v(this,O)}return this},x.prototype.removeAllListeners=function(L){var F;return L?this._events[F=w?w+L:L]&&v(this,F):(this._events=new r,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=w,x.EventEmitter=x,ln.exports=x},5442:function(ln,ye){var w,y;w=function u(){"use strict";var v=typeof self<"u"?self:typeof window<"u"?window:void 0!==v?v:{},x=!v.document&&!!v.postMessage,d=v.IS_PAPA_WORKER||!1,L={},F=0,S={parse:function(ce,$){var Fe=($=$||{}).dynamicTyping||!1;if(R(Fe)&&($.dynamicTypingFunction=Fe,Fe={}),$.dynamicTyping=Fe,$.transform=!!R($.transform)&&$.transform,$.worker&&S.WORKERS_SUPPORTED){var je=function(){if(!S.WORKERS_SUPPORTED)return!1;var St,Rn,lt=(St=v.URL||v.webkitURL||null,Rn=u.toString(),S.BLOB_URL||(S.BLOB_URL=St.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Rn,")();"],{type:"text/javascript"})))),pt=new v.Worker(lt);return pt.onmessage=Z,pt.id=F++,L[pt.id]=pt}();return je.userStep=$.step,je.userChunk=$.chunk,je.userComplete=$.complete,je.userError=$.error,$.step=R($.step),$.chunk=R($.chunk),$.complete=R($.complete),$.error=R($.error),delete $.worker,void je.postMessage({input:ce,config:$,workerId:je.id})}var lt,Ve=null;return"string"==typeof ce?(ce=65279===(lt=ce).charCodeAt(0)?lt.slice(1):lt,Ve=$.download?new b($):new A($)):!0===ce.readable&&R(ce.read)&&R(ce.on)?Ve=new ue($):(v.File&&ce instanceof File||ce instanceof Object)&&(Ve=new M($)),Ve.stream(ce)},unparse:function(ce,$){var Fe=!1,je=!0,Ve=",",lt="\r\n",pt='"',St=pt+pt,Rn=!1,G=null,ee=!1;!function(){if("object"==typeof $){if("string"!=typeof $.delimiter||S.BAD_DELIMITERS.filter(function(ut){return-1!==$.delimiter.indexOf(ut)}).length||(Ve=$.delimiter),("boolean"==typeof $.quotes||"function"==typeof $.quotes||Array.isArray($.quotes))&&(Fe=$.quotes),"boolean"!=typeof $.skipEmptyLines&&"string"!=typeof $.skipEmptyLines||(Rn=$.skipEmptyLines),"string"==typeof $.newline&&(lt=$.newline),"string"==typeof $.quoteChar&&(pt=$.quoteChar),"boolean"==typeof $.header&&(je=$.header),Array.isArray($.columns)){if(0===$.columns.length)throw new Error("Option columns is empty");G=$.columns}void 0!==$.escapeChar&&(St=$.escapeChar+pt),("boolean"==typeof $.escapeFormulae||$.escapeFormulae instanceof RegExp)&&(ee=$.escapeFormulae instanceof RegExp?$.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var De=new RegExp(X(pt),"g");if("string"==typeof ce&&(ce=JSON.parse(ce)),Array.isArray(ce)){if(!ce.length||Array.isArray(ce[0]))return Ge(null,ce,Rn);if("object"==typeof ce[0])return Ge(G||Object.keys(ce[0]),ce,Rn)}else if("object"==typeof ce)return"string"==typeof ce.data&&(ce.data=JSON.parse(ce.data)),Array.isArray(ce.data)&&(ce.fields||(ce.fields=ce.meta&&ce.meta.fields||G),ce.fields||(ce.fields=Array.isArray(ce.data[0])?ce.fields:"object"==typeof ce.data[0]?Object.keys(ce.data[0]):[]),Array.isArray(ce.data[0])||"object"==typeof ce.data[0]||(ce.data=[ce.data])),Ge(ce.fields||[],ce.data||[],Rn);throw new Error("Unable to serialize unrecognized input");function Ge(ut,bt,Dt){var Le="";"string"==typeof ut&&(ut=JSON.parse(ut)),"string"==typeof bt&&(bt=JSON.parse(bt));var Ae=Array.isArray(ut)&&0<ut.length,se=!Array.isArray(bt[0]);if(Ae&&je){for(var Me=0;Me<ut.length;Me++)0<Me&&(Le+=Ve),Le+=Ze(ut[Me],Me);0<bt.length&&(Le+=lt)}for(var Ee=0;Ee<bt.length;Ee++){var C=Ae?ut.length:bt[Ee].length,T=!1,J=Ae?0===Object.keys(bt[Ee]).length:0===bt[Ee].length;if(Dt&&!Ae&&(T="greedy"===Dt?""===bt[Ee].join("").trim():1===bt[Ee].length&&0===bt[Ee][0].length),"greedy"===Dt&&Ae){for(var W=[],ve=0;ve<C;ve++)W.push(bt[Ee][se?ut[ve]:ve]);T=""===W.join("").trim()}if(!T){for(var p=0;p<C;p++)0<p&&!J&&(Le+=Ve),Le+=Ze(bt[Ee][Ae&&se?ut[p]:p],p);Ee<bt.length-1&&(!Dt||0<C&&!J)&&(Le+=lt)}}return Le}function Ze(ut,bt){if(null==ut)return"";if(ut.constructor===Date)return JSON.stringify(ut).slice(1,25);var Dt=!1;ee&&"string"==typeof ut&&ee.test(ut)&&(ut="'"+ut,Dt=!0);var Le=ut.toString().replace(De,St);return(Dt=Dt||!0===Fe||"function"==typeof Fe&&Fe(ut,bt)||Array.isArray(Fe)&&Fe[bt]||function(Ae,se){for(var Me=0;Me<se.length;Me++)if(-1<Ae.indexOf(se[Me]))return!0;return!1}(Le,S.BAD_DELIMITERS)||-1<Le.indexOf(Ve)||" "===Le.charAt(0)||" "===Le.charAt(Le.length-1))?pt+Le+pt:Le}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(S.BAD_DELIMITERS=["\r","\n",'"',S.BYTE_ORDER_MARK],S.WORKERS_SUPPORTED=!x&&!!v.Worker,S.NODE_STREAM_INPUT=1,S.LocalChunkSize=10485760,S.RemoteChunkSize=5242880,S.DefaultDelimiter=",",S.Parser=re,S.ParserHandle=z,S.NetworkStreamer=b,S.FileStreamer=M,S.StringStreamer=A,S.ReadableStreamStreamer=ue,v.jQuery){var U=v.jQuery;U.fn.parse=function(ce){var $=ce.config||{},Fe=[];return this.each(function(lt){if("INPUT"!==U(this).prop("tagName").toUpperCase()||"file"!==U(this).attr("type").toLowerCase()||!v.FileReader||!this.files||0===this.files.length)return!0;for(var pt=0;pt<this.files.length;pt++)Fe.push({file:this.files[pt],inputElem:this,instanceConfig:U.extend({},$)})}),je(),this;function je(){if(0!==Fe.length){var pt,St,Rn,G=Fe[0];if(R(ce.before)){var ee=ce.before(G.file,G.inputElem);if("object"==typeof ee){if("abort"===ee.action)return pt=G.file,St=G.inputElem,Rn=ee.reason,void(R(ce.error)&&ce.error({name:"AbortError"},pt,St,Rn));if("skip"===ee.action)return void Ve();"object"==typeof ee.config&&(G.instanceConfig=U.extend(G.instanceConfig,ee.config))}else if("skip"===ee)return void Ve()}var De=G.instanceConfig.complete;G.instanceConfig.complete=function(Ge){R(De)&&De(Ge,G.file,G.inputElem),Ve()},S.parse(G.file,G.instanceConfig)}else R(ce.complete)&&ce.complete()}function Ve(){Fe.splice(0,1),je()}}}function O(ce){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function($){var Fe=Ce($);Fe.chunkSize=parseInt(Fe.chunkSize),$.step||$.chunk||(Fe.chunkSize=null),this._handle=new z(Fe),(this._handle.streamer=this)._config=Fe}.call(this,ce),this.parseChunk=function($,Fe){if(this.isFirstChunk&&R(this._config.beforeFirstChunk)){var je=this._config.beforeFirstChunk($);void 0!==je&&($=je)}this.isFirstChunk=!1,this._halted=!1;var Ve=this._partialLine+$;this._partialLine="";var lt=this._handle.parse(Ve,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var pt=lt.meta.cursor;this._finished||(this._partialLine=Ve.substring(pt-this._baseIndex),this._baseIndex=pt),lt&&lt.data&&(this._rowCount+=lt.data.length);var St=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(d)v.postMessage({results:lt,workerId:S.WORKER_ID,finished:St});else if(R(this._config.chunk)&&!Fe){if(this._config.chunk(lt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);lt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(lt.data),this._completeResults.errors=this._completeResults.errors.concat(lt.errors),this._completeResults.meta=lt.meta),this._completed||!St||!R(this._config.complete)||lt&&lt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),St||lt&&lt.meta.paused||this._nextChunk(),lt}this._halted=!0},this._sendError=function($){R(this._config.error)?this._config.error($):d&&this._config.error&&v.postMessage({workerId:S.WORKER_ID,error:$,finished:!1})}}function b(ce){var $;(ce=ce||{}).chunkSize||(ce.chunkSize=S.RemoteChunkSize),O.call(this,ce),this._nextChunk=x?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Fe){this._input=Fe,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if($=new XMLHttpRequest,this._config.withCredentials&&($.withCredentials=this._config.withCredentials),x||($.onload=K(this._chunkLoaded,this),$.onerror=K(this._chunkError,this)),$.open(this._config.downloadRequestBody?"POST":"GET",this._input,!x),this._config.downloadRequestHeaders){var Fe=this._config.downloadRequestHeaders;for(var je in Fe)$.setRequestHeader(je,Fe[je])}this._config.chunkSize&&$.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{$.send(this._config.downloadRequestBody)}catch(lt){this._chunkError(lt.message)}x&&0===$.status&&this._chunkError()}},this._chunkLoaded=function(){var je;4===$.readyState&&($.status<200||400<=$.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:$.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(je=$.getResponseHeader("Content-Range"))?-1:parseInt(je.substring(je.lastIndexOf("/")+1))),this.parseChunk($.responseText)))},this._chunkError=function(Fe){this._sendError(new Error($.statusText||Fe))}}function M(ce){var $,Fe;(ce=ce||{}).chunkSize||(ce.chunkSize=S.LocalChunkSize),O.call(this,ce);var je=typeof FileReader<"u";this.stream=function(Ve){this._input=Ve,Fe=Ve.slice||Ve.webkitSlice||Ve.mozSlice,je?(($=new FileReader).onload=K(this._chunkLoaded,this),$.onerror=K(this._chunkError,this)):$=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Ve=this._input;if(this._config.chunkSize){var lt=Math.min(this._start+this._config.chunkSize,this._input.size);Ve=Fe.call(Ve,this._start,lt)}var pt=$.readAsText(Ve,this._config.encoding);je||this._chunkLoaded({target:{result:pt}})},this._chunkLoaded=function(Ve){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Ve.target.result)},this._chunkError=function(){this._sendError($.error)}}function A(ce){var $;O.call(this,ce=ce||{}),this.stream=function(Fe){return $=Fe,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Fe,je=this._config.chunkSize;return je?(Fe=$.substring(0,je),$=$.substring(je)):(Fe=$,$=""),this._finished=!$,this.parseChunk(Fe)}}}function ue(ce){O.call(this,ce=ce||{});var $=[],Fe=!0,je=!1;this.pause=function(){O.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){O.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Ve){this._input=Ve,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){je&&1===$.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),$.length?this.parseChunk($.shift()):Fe=!0},this._streamData=K(function(Ve){try{$.push("string"==typeof Ve?Ve:Ve.toString(this._config.encoding)),Fe&&(Fe=!1,this._checkIsFinished(),this.parseChunk($.shift()))}catch(lt){this._streamError(lt)}},this),this._streamError=K(function(Ve){this._streamCleanUp(),this._sendError(Ve)},this),this._streamEnd=K(function(){this._streamCleanUp(),je=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function z(ce){var $,Fe,je,Ve=Math.pow(2,53),lt=-Ve,pt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,St=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Rn=this,G=0,ee=0,De=!1,Ge=!1,Ze=[],ut={data:[],errors:[],meta:{}};if(R(ce.step)){var bt=ce.step;ce.step=function(Ee){if(ut=Ee,Ae())Le();else{if(Le(),0===ut.data.length)return;G+=Ee.data.length,ce.preview&&G>ce.preview?Fe.abort():(ut.data=ut.data[0],bt(ut,Rn))}}}function Dt(Ee){return"greedy"===ce.skipEmptyLines?""===Ee.join("").trim():1===Ee.length&&0===Ee[0].length}function Le(){return ut&&je&&(Me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+S.DefaultDelimiter+"'"),je=!1),ce.skipEmptyLines&&(ut.data=ut.data.filter(function(Ee){return!Dt(Ee)})),Ae()&&function(){if(ut)if(Array.isArray(ut.data[0])){for(var C=0;Ae()&&C<ut.data.length;C++)ut.data[C].forEach(Ee);ut.data.splice(0,1)}else ut.data.forEach(Ee);function Ee(T,J){R(ce.transformHeader)&&(T=ce.transformHeader(T,J)),Ze.push(T)}}(),function(){if(!ut||!ce.header&&!ce.dynamicTyping&&!ce.transform)return ut;function Ee(T,J){var W,ve=ce.header?{}:[];for(W=0;W<T.length;W++){var ne=W,p=T[W];ce.header&&(ne=W>=Ze.length?"__parsed_extra":Ze[W]),ce.transform&&(p=ce.transform(p,ne)),p=se(ne,p),"__parsed_extra"===ne?(ve[ne]=ve[ne]||[],ve[ne].push(p)):ve[ne]=p}return ce.header&&(W>Ze.length?Me("FieldMismatch","TooManyFields","Too many fields: expected "+Ze.length+" fields but parsed "+W,ee+J):W<Ze.length&&Me("FieldMismatch","TooFewFields","Too few fields: expected "+Ze.length+" fields but parsed "+W,ee+J)),ve}var C=1;return!ut.data.length||Array.isArray(ut.data[0])?(ut.data=ut.data.map(Ee),C=ut.data.length):ut.data=Ee(ut.data,0),ce.header&&ut.meta&&(ut.meta.fields=Ze),ee+=C,ut}()}function Ae(){return ce.header&&0===Ze.length}function se(Ee,C){return T=Ee,ce.dynamicTypingFunction&&void 0===ce.dynamicTyping[T]&&(ce.dynamicTyping[T]=ce.dynamicTypingFunction(T)),!0===(ce.dynamicTyping[T]||ce.dynamicTyping)?"true"===C||"TRUE"===C||"false"!==C&&"FALSE"!==C&&(function(J){if(pt.test(J)){var W=parseFloat(J);if(lt<W&&W<Ve)return!0}return!1}(C)?parseFloat(C):St.test(C)?new Date(C):""===C?null:C):C;var T}function Me(Ee,C,T,J){var W={type:Ee,code:C,message:T};void 0!==J&&(W.row=J),ut.errors.push(W)}this.parse=function(Ee,C,T){if(ce.newline||(ce.newline=function(ne,p){ne=ne.substring(0,1048576);var H=new RegExp(X(p)+"([^]*?)"+X(p),"gm"),B=(ne=ne.replace(H,"")).split("\r"),Ie=ne.split("\n");if(1===B.length||1<Ie.length&&Ie[0].length<B[0].length)return"\n";for(var ft=0,kt=0;kt<B.length;kt++)"\n"===B[kt][0]&&ft++;return ft>=B.length/2?"\r\n":"\r"}(Ee,ce.quoteChar||'"')),je=!1,ce.delimiter)R(ce.delimiter)&&(ce.delimiter=ce.delimiter(Ee),ut.meta.delimiter=ce.delimiter);else{var W=function(ne,p,H,B,Ie){var $e,ft,kt,jt;Ie=Ie||[",","\t","|",";",S.RECORD_SEP,S.UNIT_SEP];for(var Ye=0;Ye<Ie.length;Ye++){var ct=Ie[Ye],It=0,Ke=0,wt=0;kt=void 0;for(var rt=new re({comments:B,delimiter:ct,newline:p,preview:10}).parse(ne),Ct=0;Ct<rt.data.length;Ct++)if(H&&Dt(rt.data[Ct]))wt++;else{var mt=rt.data[Ct].length;Ke+=mt,void 0!==kt?0<mt&&(It+=Math.abs(mt-kt),kt=mt):kt=mt}0<rt.data.length&&(Ke/=rt.data.length-wt),(void 0===ft||It<=ft)&&(void 0===jt||jt<Ke)&&1.99<Ke&&(ft=It,$e=ct,jt=Ke)}return{successful:!!(ce.delimiter=$e),bestDelimiter:$e}}(Ee,ce.newline,ce.skipEmptyLines,ce.comments,ce.delimitersToGuess);W.successful?ce.delimiter=W.bestDelimiter:(je=!0,ce.delimiter=S.DefaultDelimiter),ut.meta.delimiter=ce.delimiter}var ve=Ce(ce);return ce.preview&&ce.header&&ve.preview++,$=Ee,Fe=new re(ve),ut=Fe.parse($,C,T),Le(),De?{meta:{paused:!0}}:ut||{meta:{paused:!1}}},this.paused=function(){return De},this.pause=function(){De=!0,Fe.abort(),$=R(ce.chunk)?"":$.substring(Fe.getCharIndex())},this.resume=function(){Rn.streamer._halted?(De=!1,Rn.streamer.parseChunk($,!0)):setTimeout(Rn.resume,3)},this.aborted=function(){return Ge},this.abort=function(){Ge=!0,Fe.abort(),ut.meta.aborted=!0,R(ce.complete)&&ce.complete(ut),$=""}}function X(ce){return ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function re(ce){var $,Fe=(ce=ce||{}).delimiter,je=ce.newline,Ve=ce.comments,lt=ce.step,pt=ce.preview,St=ce.fastMode,Rn=$=null==ce.quoteChar?'"':ce.quoteChar;if(void 0!==ce.escapeChar&&(Rn=ce.escapeChar),("string"!=typeof Fe||-1<S.BAD_DELIMITERS.indexOf(Fe))&&(Fe=","),Ve===Fe)throw new Error("Comment character same as delimiter");!0===Ve?Ve="#":("string"!=typeof Ve||-1<S.BAD_DELIMITERS.indexOf(Ve))&&(Ve=!1),"\n"!==je&&"\r"!==je&&"\r\n"!==je&&(je="\n");var G=0,ee=!1;this.parse=function(De,Ge,Ze){if("string"!=typeof De)throw new Error("Input must be a string");var ut=De.length,bt=Fe.length,Dt=je.length,Le=Ve.length,Ae=R(lt),se=[],Me=[],Ee=[],C=G=0;if(!De)return Vt();if(ce.header&&!Ge){var T=De.split(je)[0].split(Fe),J=[],W={},ve=!1;for(var ne in T){var p=T[ne];R(ce.transformHeader)&&(p=ce.transformHeader(p,ne));var H=p,B=W[p]||0;for(0<B&&(ve=!0,H=p+"_"+B),W[p]=B+1;J.includes(H);)H=H+"_"+B;J.push(H)}if(ve){var Ie=De.split(je);Ie[0]=J.join(Fe),De=Ie.join(je)}}if(St||!1!==St&&-1===De.indexOf($)){for(var $e=De.split(je),ft=0;ft<$e.length;ft++){if(G+=(Ee=$e[ft]).length,ft!==$e.length-1)G+=je.length;else if(Ze)return Vt();if(!Ve||Ee.substring(0,Le)!==Ve){if(Ae){if(se=[],wt(Ee.split(Fe)),at(),ee)return Vt()}else wt(Ee.split(Fe));if(pt&&pt<=ft)return se=se.slice(0,pt),Vt(!0)}}return Vt()}for(var kt=De.indexOf(Fe,G),jt=De.indexOf(je,G),Ye=new RegExp(X(Rn)+X($),"g"),ct=De.indexOf($,G);;)if(De[G]!==$)if(Ve&&0===Ee.length&&De.substring(G,G+Le)===Ve){if(-1===jt)return Vt();jt=De.indexOf(je,G=jt+Dt),kt=De.indexOf(Fe,G)}else if(-1!==kt&&(kt<jt||-1===jt))Ee.push(De.substring(G,kt)),kt=De.indexOf(Fe,G=kt+bt);else{if(-1===jt)break;if(Ee.push(De.substring(G,jt)),mt(jt+Dt),Ae&&(at(),ee))return Vt();if(pt&&se.length>=pt)return Vt(!0)}else for(ct=G,G++;;){if(-1===(ct=De.indexOf($,ct+1)))return Ze||Me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:G}),Ct();if(ct===ut-1)return Ct(De.substring(G,ct).replace(Ye,$));if($!==Rn||De[ct+1]!==Rn){if($===Rn||0===ct||De[ct-1]!==Rn){-1!==kt&&kt<ct+1&&(kt=De.indexOf(Fe,ct+1)),-1!==jt&&jt<ct+1&&(jt=De.indexOf(je,ct+1));var It=rt(-1===jt?kt:Math.min(kt,jt));if(De.substr(ct+1+It,bt)===Fe){Ee.push(De.substring(G,ct).replace(Ye,$)),De[G=ct+1+It+bt]!==$&&(ct=De.indexOf($,G)),kt=De.indexOf(Fe,G),jt=De.indexOf(je,G);break}var Ke=rt(jt);if(De.substring(ct+1+Ke,ct+1+Ke+Dt)===je){if(Ee.push(De.substring(G,ct).replace(Ye,$)),mt(ct+1+Ke+Dt),kt=De.indexOf(Fe,G),ct=De.indexOf($,G),Ae&&(at(),ee))return Vt();if(pt&&se.length>=pt)return Vt(!0);break}Me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:G}),ct++}}else ct++}return Ct();function wt(We){se.push(We),C=G}function rt(We){var ke=0;if(-1!==We){var et=De.substring(ct+1,We);et&&""===et.trim()&&(ke=et.length)}return ke}function Ct(We){return Ze||(void 0===We&&(We=De.substring(G)),Ee.push(We),G=ut,wt(Ee),Ae&&at()),Vt()}function mt(We){G=We,wt(Ee),Ee=[],jt=De.indexOf(je,G)}function Vt(We){return{data:se,errors:Me,meta:{delimiter:Fe,linebreak:je,aborted:ee,truncated:!!We,cursor:C+(Ge||0)}}}function at(){lt(Vt()),se=[],Me=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return G}}function Z(ce){var $=ce.data,Fe=L[$.workerId],je=!1;if($.error)Fe.userError($.error,$.file);else if($.results&&$.results.data){var Ve={abort:function(){je=!0,Re($.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:oe,resume:oe};if(R(Fe.userStep)){for(var lt=0;lt<$.results.data.length&&(Fe.userStep({data:$.results.data[lt],errors:$.results.errors,meta:$.results.meta},Ve),!je);lt++);delete $.results}else R(Fe.userChunk)&&(Fe.userChunk($.results,Ve,$.file),delete $.results)}$.finished&&!je&&Re($.workerId,$.results)}function Re(ce,$){var Fe=L[ce];R(Fe.userComplete)&&Fe.userComplete($),Fe.terminate(),delete L[ce]}function oe(){throw new Error("Not implemented.")}function Ce(ce){if("object"!=typeof ce||null===ce)return ce;var $=Array.isArray(ce)?[]:{};for(var Fe in ce)$[Fe]=Ce(ce[Fe]);return $}function K(ce,$){return function(){ce.apply($,arguments)}}function R(ce){return"function"==typeof ce}return d&&(v.onmessage=function(ce){var $=ce.data;if(void 0===S.WORKER_ID&&$&&(S.WORKER_ID=$.workerId),"string"==typeof $.input)v.postMessage({workerId:S.WORKER_ID,results:S.parse($.input,$.config),finished:!0});else if(v.File&&$.input instanceof File||$.input instanceof Object){var Fe=S.parse($.input,$.config);Fe&&v.postMessage({workerId:S.WORKER_ID,results:Fe,finished:!0})}}),(b.prototype=Object.create(O.prototype)).constructor=b,(M.prototype=Object.create(O.prototype)).constructor=M,(A.prototype=Object.create(A.prototype)).constructor=A,(ue.prototype=Object.create(O.prototype)).constructor=ue,S},void 0!==(y=w.apply(ye,[]))&&(ln.exports=y)},11724:(ln,ye,w)=>{var r=w(31049).default;(()=>{"use strict";var y={493:l=>{l.exports=w(71245)}},u={};function v(l){var s=u[l];if(void 0!==s)return s.exports;var h=u[l]={exports:{}};return y[l](h,h.exports,v),h.exports}v.n=l=>{var s=l&&l.__esModule?()=>l.default:()=>l;return v.d(s,{a:s}),s},v.d=(l,s)=>{for(var h in s)v.o(s,h)&&!v.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:s[h]})},v.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),v.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var x={};v.r(x),v.d(x,{AABB:()=>ml,AbstractTexture:()=>ut,AmbientLightNode:()=>j,Animation:()=>rs,AnimationSystem:()=>vo,BIODIGITAL_HIGHLIGHT_COLOR:()=>lt,BIODIGITAL_PARTICLE_SCALE:()=>$,BIODIGITAL_SCENE_SCALE:()=>ce,BioDigitalAnatomyObject:()=>Ao,BioDigitalAnatomySceneGraph:()=>Ms,BioDigitalAnimationPlayer:()=>Zp,BioDigitalChapter:()=>Or,BioDigitalEngine:()=>jf,BioDigitalFileServer:()=>lm,BioDigitalGeometry:()=>mt,BioDigitalMarker:()=>Gf,BioDigitalMeshNode:()=>vn,BioDigitalRenderer:()=>Dh,BioDigitalScreenMarker:()=>Ed,BioDigitalStory:()=>Bo,BioDigitalWebSocketServer:()=>Zh,BioDigitalXR:()=>Wf,COMMIT:()=>yg,CameraController:()=>De,CameraNode:()=>ot,CameraOrbiter:()=>Jh,CameraTween:()=>_n,ClipId:()=>Qo,CubeTexture:()=>ne,DEFAULT_TONE_MAP_MODE:()=>St,DirectionalLightNode:()=>pe,ENABLE_COMPRESSED_TEXTURES:()=>pt,EPSILON:()=>z,EmitterMap:()=>Zt,EventEmitter:()=>A,FogModeNumericEnum:()=>tt,FresnelTween:()=>mn,Geometry:()=>Ct,LegacyLightNode:()=>Qt,LegacyMaterial:()=>Ht,LightNode:()=>He,MAX_ANIMATION_TICK:()=>Ve,MAX_FLOAT32:()=>X,MAX_SIMULATION_TICK:()=>je,Material:()=>tr,MaterialTween:()=>or,MeshNode:()=>at,MeshTopology:()=>kt,MultiKeyMap:()=>bt,ObjectAttributeSwitch:()=>Br,ObjectAttributeTween:()=>Co,OrthographicCameraNode:()=>Yp,PARTICLE_WORKERS:()=>Fe,ParticleComponentTween:()=>ui,ParticleSystem:()=>kn,ParticleSystemDebugView:()=>um,ParticleSystemTween:()=>jr,PerspectiveCameraNode:()=>hn,PhysicalMaterial:()=>Hn,PointLightNode:()=>k,Pool:()=>K,ResourceCache:()=>Yo,SceneGraphMonitor:()=>Fs,SceneNode:()=>Ce,SpotLightNode:()=>le,StoryAssetLoader:()=>bo,Switch:()=>fr,TIMESTAMP:()=>hm,Texture:()=>jo,TextureFilter:()=>Ge,TextureTween:()=>fi,TextureWrap:()=>Ze,TransformTween:()=>Es,TransparencyModeEnum:()=>xo,Tween:()=>Oo,UnlitMaterial:()=>on,VERSION:()=>nh,XR:()=>th,XRGrabber:()=>Nh,XRInputCollection:()=>Kh,XRTrackedInput:()=>$f,applyTransform:()=>Ii,atos:()=>Wh,autoCameraRange:()=>Na,barycentricCoord:()=>qp,bigEnoughUintArray:()=>jt,boundsRayDistance:()=>Sh,boundsSphereDistance:()=>uo,boxIntersectsPlaneBounds:()=>tl,boxRayDistance:()=>Xl,boxSphereDistance:()=>Uo,buildRotationScaleMat3:()=>En,canvasSpace:()=>$u,cartesianCoord:()=>Ql,clamp:()=>re,cloneSceneNode:()=>Gh,cloneSceneTree:()=>Yd,colorArray:()=>Xt,copyBox:()=>ct,deepFreeze:()=>xt,emptyBox:()=>Ye,eulerXYZFromMatrix:()=>dm,eulerZYXFromMatrix:()=>Z,fetchAssetLibrary:()=>Qh,fill:()=>Qn,findAllTransfers:()=>gl,findSceneNode:()=>wu,findSceneNodeByName:()=>Xu,floatString:()=>Cl,get:()=>wd,getTranslation:()=>S,getTrianglePositions:()=>Xd,gltfBuildLegacyMaterial:()=>zh,gltfBuildPhysicalMaterial:()=>Cd,gltfBuildUnlitMaterial:()=>$h,gltfGeometry:()=>oc,isPowerOfTwo:()=>Gl,isTypedArray:()=>U,joinPath:()=>p,loadCompressedTexture:()=>Ea,loadGLTF:()=>jh,loadImage:()=>H,loadImageBlobTexture:()=>oa,lookAtObject:()=>Qr,makeClippingPlanes:()=>os,makeWorker:()=>Wn,makeWorkerService:()=>an,memoize:()=>Dt,meshAlphaMode:()=>eu,normalizePlane:()=>zr,objectKey:()=>sd,objectLookAt:()=>_i,partial:()=>gr,pixelFormats:()=>J,planeDistanceToPoint:()=>Vn,positionFromArray:()=>Ol,processGLTF:()=>xu,projectScreenSpace:()=>bd,quatFromEulerXYZ:()=>qf,quatFromEulerZYX:()=>ue,rayIntersectTriangle:()=>Lf,registerWorker:()=>zn,serveWorker:()=>eh,setFrustumPlanesFromMatrix:()=>Dr,setGeometryBounds:()=>It,setVectorOption:()=>O,shaderOptionsKey:()=>qc,textureMipLevels:()=>B,traverseSceneNodes:()=>mr,triangleNormal:()=>zu,vec3Equals:()=>vu,vec3Pool:()=>R,vertexCount:()=>sa});const d=w(38472),L=w(9556),F=w(65133);function S(l,s,h){if(l[0]=s[12],l[1]=s[13],l[2]=s[14],h){const f=h[0],D=h[1],Y=h[2];l[0]+=s[0]*f+s[4]*D+s[8]*Y-f,l[1]+=s[1]*f+s[5]*D+s[9]*Y-D,l[2]+=s[2]*f+s[6]*D+s[10]*Y-Y}return l}function U(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function O(l,s){if(s)if((Array.isArray(s)||U(s))&&s.length>=3)(0,d.copy)(l,s);else{if(Array.isArray(s)||"object"!=typeof s)throw new Error("setVectorOption: unknown source format");{const{x:h,y:f,z:D}=s;(0,d.set)(l,h,f,D)}}return l}const b=w(17225);var M=v.n(b);class A{on;off;emit;destroy;constructor(){const{all:s,on:h,off:f,emit:D}=M()();this.on=h,this.off=f,this.emit=D,this.destroy=()=>s.clear()}}function ue(l,s,h,f){s*=.5,f*=.5,h*=.5;const D=Math.sin(s),Y=Math.cos(s),fe=Math.sin(h),de=Math.cos(h),xe=Math.sin(f),Te=Math.cos(f);return l[0]=D*de*Te-Y*fe*xe,l[1]=Y*fe*Te+D*de*xe,l[2]=Y*de*xe-D*fe*Te,l[3]=Y*de*Te+D*fe*xe,l}const z=1e-6,X=170141185e30,re=(l,s=0,h=1)=>Math.max(s,Math.min(h,l));function Z(l,s){const h=s[0],f=s[1],D=s[2],Y=s[4],fe=s[5],de=s[6],xe=s[8],Te=s[9],Ne=s[10];let Ue=h,it=f,vt=D,Et=Y,Lt=fe,Tt=de,Gt=Ne;const Cn=h*h+f*f+D*D,fn=Y*Y+fe*fe+de*de;if(Math.abs(Cn-1)>z){const wn=Math.sqrt(Cn);Ue/=wn,Et/=wn}if(Math.abs(fn-1)>z){const wn=Math.sqrt(fn);it/=wn,Lt/=wn}const xn=xe*xe+Te*Te+Ne*Ne;if(Math.abs(xn-1)>z){const wn=Math.sqrt(xn);vt/=wn,Tt/=wn,Gt/=wn}return l[1]=Math.asin(-re(vt,-1,1)),Math.abs(vt)<.9999999?(l[0]=Math.atan2(Tt,Gt),l[2]=Math.atan2(it,Ue)):(l[0]=0,l[2]=Math.atan2(-Et,Lt)),l}class Re{constructor(s,h){const{deleteProperty:f,set:D,get:Y,...fe}=h,de={...fe};return Y&&(de.get=(xe,Te,Ne)=>{if(!/^\d+$/.test(Te))return Reflect.get(xe,Te,Ne);const Ue=parseInt(Te,10);return Y(xe,Ue,Ne)}),D&&(de.set=(xe,Te,Ne,Ue)=>{if("length"===Te){for(let vt=xe.length-1;vt>=Ne;vt--)void 0!==xe[vt]&&Ue.pop();return xe.length=Ne,!0}const it="string"==typeof Te&&/^\d+$/.test(Te)?parseInt(Te,10):Ne;return"number"==typeof it&&it>=0?D(xe,it,Ne,Ue):(xe[Te]=Ne,!0)}),f&&(de.deleteProperty=(xe,Te)=>{const Ne="string"==typeof Te&&/^\d+$/.test(Te)&&parseInt(Te,10);return"number"==typeof Ne?f(xe,Ne):(Reflect.deleteProperty(xe,Te),!0)}),new Proxy(s,de)}}const oe=class extends Re{#e=new A;constructor(l){const s=l?[...l]:[];super(s,{set:(f,D,Y)=>{if(Y===s[D])return!0;const fe=s[D];return s[D]=Y,this.#e.emit("change",{index:D,value:Y,previous:fe}),void 0===fe&&this.#e.emit("add",{index:D,value:Y}),!0},deleteProperty:(f,D)=>{if(D>=s.length)return!0;const Y=s[D];return s[D]=void 0,this.#e.emit("change",{index:D,value:void 0,previous:Y}),this.#e.emit("delete",{index:D,previous:Y}),!0}});const h=this.#e;Object.defineProperties(this,{on:{value:h.on,enumerable:!1},off:{value:h.off,enumerable:!1},emit:{value:h.emit,enumerable:!1},destroy:{value:h.destroy,enumerable:!1}})}};class Ce extends A{name;parent;children;position;origin;scale;quaternion;rotation;matrix;worldMatrix;rotationSource;dirty;matrixDirty;worldMatrixDirty;constraints;updateWorldMatrix;dirtyMatrix;dirtyWorldMatrix;updateMatrix;setMatrix;setWorldMatrix;constructor(s={}){super();const{arrays:h,name:f}=s;let D=null;if(this.name=f||"",this.children=new Set,this.position=h?.position||(0,d.create)(),O(this.position,s?.position||[0,0,0]),this.origin=h?.origin||(0,d.create)(),O(this.origin,s?.origin||[0,0,0]),this.scale=h?.scale||(0,d.create)(),O(this.scale,s?.scale||[1,1,1]),this.quaternion=h?.quaternion||(0,L.create)(),s?.quaternion)if(4===s.quaternion.length)(0,L.copy)(this.quaternion,s.quaternion);else if("object"==typeof s.quaternion){const{x:Ne,y:Ue,z:it,w:vt}=s.quaternion;(0,L.set)(this.quaternion,Ne,Ue,it,vt)}this.rotation=h?.rotation||(0,d.create)(),O(this.rotation,s?.rotation||[0,0,0]),this.matrix=h?.matrix||(0,F.create)(),this.worldMatrix=h?.worldMatrix||(0,F.create)(),this.constraints=new oe(s?.constraints),this.constraints.on("change",()=>{this.emit("change",{node:this,property:"constraints"})});let Y=!0,fe=!0,de="euler"===s.rotationSource||"quaternion"===s.rotationSource?s.rotationSource:s.rotation&&!s.quaternion?"euler":"quaternion",xe="euler"===de;this.dirtyMatrix=()=>{Y=!0,this.dirtyWorldMatrix()},this.dirtyWorldMatrix=()=>{if(!fe){fe=!0;for(const Ne of this.children)Ne.dirtyWorldMatrix();this.emit("dirty",{node:this})}},this.updateMatrix=()=>{if(Y){const Ne=this.matrix,{position:Ue,origin:it,quaternion:vt,rotation:Et,scale:Lt}=this;if(xe){const[Tt,Gt,Cn]=Et;ue(vt,Tt,Gt,Cn)}(0,F.fromRotationTranslationScaleOrigin)(Ne,vt,Ue,Lt,it),xe||Z(Et,Ne),Y=!1,this.emit("updateMatrix",{node:this})}},this.updateWorldMatrix=Ne=>{this.updateMatrix(),fe&&(this.parent?(this.parent.updateWorldMatrix(),(0,F.multiply)(this.worldMatrix,this.parent.worldMatrix,this.matrix)):(0,F.copy)(this.worldMatrix,this.matrix),Ne&&Ne(),fe=!1,this.emit("updateWorldMatrix",{node:this}))},this.setMatrix=Ne=>{Ne!==this.matrix&&(0,F.copy)(this.matrix,Ne),S(this.position,this.matrix,this.origin),(0,F.getRotation)(this.quaternion,this.matrix),Z(this.rotation,this.matrix),(0,F.getScaling)(this.scale,this.matrix),Y=!1,this.dirtyWorldMatrix()},this.setWorldMatrix=Ne=>{if(Ne!==this.worldMatrix&&(0,F.copy)(this.worldMatrix,Ne),this.parent){this.parent.updateWorldMatrix();const Ue=this.matrix;(0,F.invert)(Ue,this.parent.worldMatrix),(0,F.multiply)(this.matrix,Ue,this.worldMatrix)}else(0,F.copy)(this.matrix,this.worldMatrix);this.setMatrix(this.matrix)};const Te=this.destroy;this.destroy=()=>{this.parent=null,this.children.forEach(Ne=>this.remove(Ne)),this.emit("destroy",{node:this}),Te()},Object.defineProperties(this,{rotationSource:{get:()=>de,set(Ne){Ne!==de&&(de=Ne,xe="euler"===de,this.dirtyMatrix())}},dirty:{get:()=>Y||fe},matrixDirty:{get:()=>Y},worldMatrixDirty:{get:()=>fe},parent:{get:()=>D,set:(Ne=null)=>{if(D===Ne)return;let Ue=null;D&&(D.children.delete(this),Ue=D),Ne&&Ne.children.add(this),D=Ne,Ue&&Ue.emit("remove",{node:Ue,child:this}),Ne&&Ne.emit("add",{node:Ne,child:this}),this.emit("parent",{node:this,parent:Ne}),this.dirtyWorldMatrix()}}})}add(s){s&&!this.children.has(s)&&(s.parent=this)}remove(s){s&&this.children.has(s)&&(s.parent=null)}}class K{activeCount;size;get;release;constructor(s,h,f=100){const D=[];let Y=0;Object.defineProperties(this,{activeCount:{get:()=>Y},size:{get:()=>D.length}}),this.get=()=>(Y++,D.length?D.pop():s()),this.release=fe=>{if(Y<=0)throw new Error("Pool: too many objects released.");Y--,D.length<f&&(h&&h(fe),D.push(fe))}}}const R=new K(()=>(0,d.create)(),l=>(0,d.set)(l,0,0,0)),ce=.01,$=.001,Fe=!1,je=40,Ve=300,lt=[0,.8,1],pt=!0,St="granTurismo",Rn=24*ce,G=new Float32Array([0,1,0]),ee=(0,F.create)();class De{minDistance;maxDistance;zoom;dollyScale;camera;position;target;up;center;distance;orbit;dolly;pan;setPosition;setTarget;setUp;setCamera;constructor(s,h){const f=(0,d.create)(),D=(0,d.create)(),Y=(0,d.create)(),fe=s.up;let de=h?.distance??80*ce,xe=h?.minDistance??.01*ce,Te=h?.maxDistance??150*ce;function Ne(Ue){s.parent?(s.updateWorldMatrix(),s.worldMatrix[12]=Ue[0],s.worldMatrix[13]=Ue[1],s.worldMatrix[14]=Ue[2],s.setWorldMatrix(s.worldMatrix)):((0,d.copy)(s.position,Ue),s.dirtyMatrix())}this.dollyScale=h?.dollyScale??Rn,s.updateWorldMatrix(),h?.position?(O(f,h.position),Ne(f)):(0,F.getTranslation)(f,s.worldMatrix),h?.target?(O(D,h.target),s.lookAt(D),de=(0,d.distance)(f,D)):((0,d.transformMat4)(D,[0,0,-1],s.worldMatrix),(0,d.normalize)(D,D),(0,d.scale)(D,D,de)),h?.up&&(O(fe,h.up),(0,d.normalize)(fe,fe)),O(Y,h?.center||D),this.orbit=(Ue=0,it=0)=>{if(!Ue&&!it)return;const vt=R.get(),Et=R.get(),Lt=R.get(),Tt=R.get();if((0,d.subtract)(vt,f,Y),(0,d.subtract)(Et,D,Y),(0,d.subtract)(Lt,Et,vt),(0,d.normalize)(Lt,Lt),(0,d.cross)(Tt,fe,Lt),it){const Gt=Math.sign(fe[1])||1;(0,F.fromRotation)(ee,Gt*it,G)}else(0,F.identity)(ee);Ue&&(0,F.rotate)(ee,ee,Ue,Tt),(0,d.transformMat4)(vt,vt,ee),(0,d.transformMat4)(Et,Et,ee),(0,d.transformMat4)(fe,fe,ee),(0,d.normalize)(fe,fe),(0,d.add)(f,vt,Y),(0,d.add)(D,Et,Y),Ne(f),s.lookAt(D),R.release(vt),R.release(Et),R.release(Lt),R.release(Tt)},this.pan=(Ue,it,vt=0)=>{if(!Ue&&!it&&!vt)return;const Et=R.get(),Lt=R.get(),Tt=R.get();(0,d.set)(Et,0,0,0),(Ue||vt)&&(0,d.subtract)(Lt,f,D),Ue&&((0,d.cross)(Tt,Lt,fe),(0,d.normalize)(Tt,Tt),(0,d.scale)(Et,Tt,Ue)),it&&(0,d.scaleAndAdd)(Et,Et,fe,it),vt&&((0,d.normalize)(Lt,Lt),(0,d.scaleAndAdd)(Et,Et,Lt,-vt)),(0,d.add)(f,f,Et),(0,d.add)(D,D,Et),Ne(f),s.lookAt(D),R.release(Et),R.release(Lt),R.release(Tt)},this.dolly=(Ue=0)=>{Ue&&(this.distance=xe&&Te?Math.abs(de+Ue*de*this.dollyScale/Te):Math.abs(de+Ue))},this.setPosition=(Ue,it,vt)=>{"number"==typeof Ue?(0,d.set)(f,Ue,it,vt):(0,d.copy)(f,Ue),de=(0,d.distance)(f,D),Ne(f),(de<xe||de>Te)&&(this.distance=de),s.lookAt(D)},this.setTarget=(Ue,it,vt)=>{"number"==typeof Ue?(0,d.set)(D,Ue,it,vt):(0,d.copy)(D,Ue),de=(0,d.distance)(f,D),(de<xe||de>Te)&&(this.distance=de),s.lookAt(D)},this.setCamera=(Ue,it,vt)=>{(0,d.copy)(f,Ue),(0,d.copy)(D,it),vt&&(0,d.copy)(fe,vt),de=(0,d.distance)(f,D),Ne(f),(de<xe||de>Te)&&(this.distance=de),s.lookAt(D)},this.setUp=(Ue,it,vt)=>{"number"==typeof Ue?(0,d.set)(fe,Ue,it,vt):(0,d.copy)(fe,Ue),s.lookAt(D)},Object.defineProperties(this,{camera:{writable:!1,value:s},position:{writable:!1,value:f},target:{writable:!1,value:D},center:{writable:!1,value:Y},up:{writable:!1,value:fe},distance:{get:()=>de,set:Ue=>{if((Ue=re(Ue,xe,Te))!==de){de=Ue;const it=R.get();(0,d.subtract)(it,f,D),(0,d.normalize)(it,it),(0,d.scaleAndAdd)(f,D,it,de),R.release(it),Ne(f)}}},zoom:{get:()=>1-(de-xe)/(Te-xe),set:Ue=>{this.distance=xe+(1-Ue)*(Te-xe)}},minDistance:{get:()=>xe,set:Ue=>{xe=Ue,this.distance=de}},maxDistance:{get:()=>Te,set:Ue=>{Te=Ue,this.distance=de}}})}}let Ge=((l={}).Nearest="nearest",l.Linear="linear",l),Ze=function(l){return l.ClampToEdge="clamp-to-edge",l.Repeat="repeat",l.MirrorRepeat="mirror-repeat",l}({});var l;class ut extends A{width;height;min;mag;mipmapFilter;wrapU;wrapV;rowOrder;anisotropy;name;constructor(s){super(),this.min=s?.min||s?.minMag||Ge.Linear,this.mag=s?.mag||s?.minMag||Ge.Linear,this.mipmapFilter=s?.mipmapFilter||Ge.Nearest,this.wrapU=s?.wrapU||s?.wrap||Ze.Repeat,this.wrapV=s?.wrapV||s?.wrap||Ze.Repeat,this.rowOrder=s?.rowOrder||"bottom-up",this.anisotropy=s?.anisotropy||1,this.name=s?.name||"";const h=this.destroy;return this.destroy=()=>{this.emit("destroy",{texture:this}),h()},new Proxy(this,{set:(f,D,Y)=>(f[D]!==Y&&(f[D]=Y,f.emit("change",{texture:f,property:D})),!0)})}}class bt{size;has;get;set;delete;clear;forEach;[Symbol.iterator];constructor(s){const h={value:void 0,map:null};let f=0;function D(de){let xe=h;for(let Te=0;Te<de.length;Te++){const Ne=xe.map?.get(de[Te]);if(!Ne)return null;xe=Ne}return xe}function Y(de,xe){if(!xe.length){const it=void 0!==de.value;return it&&(de.value=void 0,f--),it}const[Te,...Ne]=xe,Ue=de.map?.get(Te);if(Ue){const it=Y(Ue,Ne);return void 0!==Ue.value||Ue.map?.size||de.map.delete(Te),de.map.size||(de.map=null),it}return!1}function fe(de,xe,Te,Ne=[]){void 0!==de.value&&xe.call(Te,de.value,...Ne),de.map?.forEach((Ue,it)=>{fe(Ue,xe,Te,[...Ne,it])},Te)}this.has=(...de)=>{const xe=D(de);return null!==xe&&void 0!==xe.value},this.get=(...de)=>{const xe=D(de);return null===xe?void 0:xe.value},this.set=(...de)=>{const xe=de.pop();let Te=h;for(let Ne=0;Ne<de.length;Ne++){const Ue=de[Ne];let it;Te.map?it=Te.map.get(Ue):Te.map=new Map,it||(it={value:void 0,map:null},Te.map.set(Ue,it)),Te=it}return void 0===Te.value&&f++,Te.value=xe,this},this.delete=(...de)=>Y(h,de),this.clear=()=>(h.map=null,f=0,this),this.forEach=(de,xe=this)=>fe(h,de,xe),this[Symbol.iterator]=()=>{const de=[];return fe(h,(xe,...Te)=>de.push([Te,xe]),this),de[Symbol.iterator]()},Object.defineProperty(this,"size",{get:()=>f}),s&&s.forEach(de=>this.set(...de))}}function Dt(l){const s=new bt;return(...h)=>{let f=s.get(...h);return f||(f=l(...h),s.set(...h,f)),f}}const Le=Dt(function(l,s){const h=l-1,f=s-1;return function(D,Y){return Math.floor((D+h)/l)*Math.floor((Y+f)/s)*16}});function Ae(l,s){return Math.floor((l+3)/4)*Math.floor((s+3)/4)*8}function se(l,s){return Math.floor((l+3)/4)*Math.floor((s+3)/4)*16}function Me(l,s){return(l=Math.max(l,16))*(s=Math.max(s,8))/4}function Ee(l,s){return(l=Math.max(l,8))*(s=Math.max(s,8))/2}function C(l,s){return Math.ceil(l/4)*Math.ceil(s/4)*8}function T(l,s){return Math.ceil(l/4)*Math.ceil(s/4)*16}const J={r8unorm:{channels:1,compressed:!1,bits:8},r8snorm:{channels:1,compressed:!1,bits:8},r8uint:{channels:1,compressed:!1,bits:8},r8sint:{channels:1,compressed:!1,bits:8},r16uint:{channels:1,compressed:!1,bits:16},r16sint:{channels:1,compressed:!1,bits:16},r16float:{channels:1,compressed:!1,bits:16},rg8unorm:{channels:2,compressed:!1,bits:16},rg8snorm:{channels:2,compressed:!1,bits:16},rg8uint:{channels:2,compressed:!1,bits:16},rg8sint:{channels:2,compressed:!1,bits:16},r32uint:{channels:1,compressed:!1,bits:32},r32sint:{channels:1,compressed:!1,bits:32},r32float:{channels:1,compressed:!1,bits:32},rg16uint:{channels:2,compressed:!1,bits:32},rg16sint:{channels:2,compressed:!1,bits:32},rg16float:{channels:2,compressed:!1,bits:32},rgba8unorm:{channels:4,compressed:!1,bits:32},"rgba8unorm-srgb":{channels:4,compressed:!1,bits:32},rgba8snorm:{channels:4,compressed:!1,bits:32},rgba8uint:{channels:4,compressed:!1,bits:32},rgba8sint:{channels:4,compressed:!1,bits:32},bgra8unorm:{channels:4,compressed:!1,bits:32},"bgra8unorm-srgb":{channels:4,compressed:!1,bits:32},rgb9e5ufloat:{channels:3,compressed:!1,bits:32},rgb10a2uint:{channels:3,compressed:!1,bits:32},rgb10a2unorm:{channels:3,compressed:!1,bits:32},rg11b10ufloat:{channels:4,compressed:!1,bits:32},rg32uint:{channels:2,compressed:!1,bits:64},rg32sint:{channels:2,compressed:!1,bits:64},rg32float:{channels:2,compressed:!1,bits:64},rgba16uint:{channels:4,compressed:!1,bits:64},rgba16sint:{channels:4,compressed:!1,bits:64},rgba16float:{channels:4,compressed:!1,bits:64},rgba32uint:{channels:4,compressed:!1,bits:128},rgba32sint:{channels:4,compressed:!1,bits:128},rgba32float:{channels:4,compressed:!1,bits:128},stencil8:{channels:1,compressed:!1,bits:8},depth16unorm:{channels:1,compressed:!1,bits:8},depth24plus:{channels:1,compressed:!1,bits:24},"depth24plus-stencil8":{channels:2,compressed:!1,bits:32},depth32float:{channels:1,compressed:!1,bits:32},"depth32float-stencil8":{channels:2,compressed:!1,bits:40},"bc1-rgba-unorm":{channels:4,compressed:!0,size:Ae},"bc1-rgba-unorm-srgb":{channels:4,compressed:!0,size:Ae},"bc2-rgba-unorm":{channels:4,compressed:!0,size:se},"bc2-rgba-unorm-srgb":{channels:4,compressed:!0,size:se},"bc3-rgba-unorm":{channels:4,compressed:!0,size:se},"bc3-rgba-unorm-srgb":{channels:4,compressed:!0,size:se},"bc4-r-unorm":{channels:1,compressed:!0,size:C},"bc4-r-snorm":{channels:1,compressed:!0,size:C},"bc5-rg-unorm":{channels:2,compressed:!0,size:T},"bc5-rg-snorm":{channels:2,compressed:!0,size:T},"bc6h-rgb-ufloat":{channels:3,compressed:!0,size:T},"bc6h-rgb-float":{channels:3,compressed:!0,size:T},"bc7-rgba-unorm":{channels:4,compressed:!0,size:T},"bc7-rgba-unorm-srgb":{channels:4,compressed:!0,size:T},"etc2-rgb8unorm":{channels:3,compressed:!0,size:Ae},"etc2-rgb8unorm-srgb":{channels:3,compressed:!0,size:Ae},"etc2-rgb8a1unorm":{channels:4,compressed:!0,size:Ae},"etc2-rgb8a1unorm-srgb":{channels:4,compressed:!0,size:Ae},"etc2-rgba8unorm":{channels:4,compressed:!0,size:se},"etc2-rgba8unorm-srgb":{channels:4,compressed:!0,size:se},"eac-r11unorm":{channels:1,compressed:!0,size:Ae},"eac-r11snorm":{channels:1,compressed:!0,size:Ae},"eac-rg11unorm":{channels:2,compressed:!0,size:se},"eac-rg11snorm":{channels:2,compressed:!0,size:se},"astc-4x4-unorm":{channels:4,compressed:!0,size:Le(4,4)},"astc-4x4-unorm-srgb":{channels:4,compressed:!0,size:Le(4,4)},"astc-5x4-unorm":{channels:4,compressed:!0,size:Le(5,4)},"astc-5x4-unorm-srgb":{channels:4,compressed:!0,size:Le(5,4)},"astc-5x5-unorm":{channels:4,compressed:!0,size:Le(5,5)},"astc-5x5-unorm-srgb":{channels:4,compressed:!0,size:Le(5,5)},"astc-6x5-unorm":{channels:4,compressed:!0,size:Le(6,5)},"astc-6x5-unorm-srgb":{channels:4,compressed:!0,size:Le(6,5)},"astc-6x6-unorm":{channels:4,compressed:!0,size:Le(6,6)},"astc-6x6-unorm-srgb":{channels:4,compressed:!0,size:Le(6,6)},"astc-8x5-unorm":{channels:4,compressed:!0,size:Le(8,5)},"astc-8x5-unorm-srgb":{channels:4,compressed:!0,size:Le(8,5)},"astc-8x6-unorm":{channels:4,compressed:!0,size:Le(8,6)},"astc-8x6-unorm-srgb":{channels:4,compressed:!0,size:Le(8,6)},"astc-8x8-unorm":{channels:4,compressed:!0,size:Le(8,8)},"astc-8x8-unorm-srgb":{channels:4,compressed:!0,size:Le(8,8)},"astc-10x5-unorm":{channels:4,compressed:!0,size:Le(10,5)},"astc-10x5-unorm-srgb":{channels:4,compressed:!0,size:Le(10,5)},"astc-10x6-unorm":{channels:4,compressed:!0,size:Le(10,6)},"astc-10x6-unorm-srgb":{channels:4,compressed:!0,size:Le(10,6)},"astc-10x8-unorm":{channels:4,compressed:!0,size:Le(10,8)},"astc-10x8-unorm-srgb":{channels:4,compressed:!0,size:Le(10,8)},"astc-10x10-unorm":{channels:4,compressed:!0,size:Le(10,10)},"astc-10x10-unorm-srgb":{channels:4,compressed:!0,size:Le(10,10)},"astc-12x10-unorm":{channels:4,compressed:!0,size:Le(12,10)},"astc-12x10-unorm-srgb":{channels:4,compressed:!0,size:Le(12,10)},"astc-12x12-unorm":{channels:4,compressed:!0,size:Le(12,12)},"astc-12x12-unorm-srgb":{channels:4,compressed:!0,size:Le(12,12)},"astc-4x4-hdr":{channels:4,compressed:!0,size:Le(4,4)},"astc-5x4-hdr":{channels:4,compressed:!0,size:Le(5,4)},"astc-5x5-hdr":{channels:4,compressed:!0,size:Le(5,5)},"astc-6x5-hdr":{channels:4,compressed:!0,size:Le(6,5)},"astc-6x6-hdr":{channels:4,compressed:!0,size:Le(6,6)},"astc-8x5-hdr":{channels:4,compressed:!0,size:Le(8,5)},"astc-8x6-hdr":{channels:4,compressed:!0,size:Le(8,6)},"astc-8x8-hdr":{channels:4,compressed:!0,size:Le(8,8)},"astc-10x5-hdr":{channels:4,compressed:!0,size:Le(10,5)},"astc-10x6-hdr":{channels:4,compressed:!0,size:Le(10,6)},"astc-10x8-hdr":{channels:4,compressed:!0,size:Le(10,8)},"astc-10x10-hdr":{channels:4,compressed:!0,size:Le(10,10)},"astc-12x10-hdr":{channels:4,compressed:!0,size:Le(12,10)},"astc-12x12-hdr":{channels:4,compressed:!0,size:Le(12,12)},"pvrtc-rgb4unorm":{channels:3,compressed:!0,size:Ee},"pvrtc-rgb2unorm":{channels:3,compressed:!0,size:Me},"pvrtc-rgba4unorm":{channels:4,compressed:!0,size:Ee},"pvrtc-rgba2unorm":{channels:4,compressed:!0,size:Me}},W=new Map([[Uint8Array,"rgba8unorm"],[Uint8ClampedArray,"rgba8unorm"],[Uint16Array,"rgba16uint"],[Uint32Array,"rgba32uint"],[Int8Array,"rgba8sint"],[Int16Array,"rgba16sint"],[Int32Array,"rgba32sint"],[Float32Array,"rgba32float"]]);class ve extends A{source;data;levels;format;sizeDynamic;dynamic;width;height;valid;update;constructor(s,h){super();let f=0,D=0,Y=null,fe=null,de=!1,xe=!1,Te=!1,Ne=!0;const Ue=h?.format||W.get(s.constructor)||"rgba8unorm";if(typeof ImageData<"u"&&s instanceof ImageData)f=s.width,D=s.height,Y=s.data,de=!0,Te=!0;else if(typeof ImageBitmap<"u"&&s instanceof ImageBitmap)f=s.width,D=s.height;else if(typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(f=s.naturalWidth,D=s.naturalHeight,!s.naturalWidth){xe=!0,de=!0,Ne=!1;const vt=()=>{f=s.naturalWidth,D=s.naturalHeight,xe=!1,de=!1,s.removeEventListener("load",vt),Ne=!0,this.emit("resize",{source:this}),this.emit("update",{source:this})};s.addEventListener("load",vt),this.on("destroy",()=>{s.removeEventListener("load",vt)})}}else if(typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement){f=s.width,D=s.height,xe=!0,de=!0,Te=!0;const vt=new MutationObserver(()=>{f=s.width,D=s.height,this.emit("resize",{source:this}),this.update()});vt.observe(s,{subtree:!1,childList:!1,attributes:!0,attributeFilter:["width","height"]}),this.on("destroy",()=>{vt.disconnect()})}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement){if(f=s.videoWidth,D=s.videoHeight,xe=!1,de=!0,Te=!0,s.readyState<s.HAVE_METADATA){xe=!0;const vt=()=>{f=s.videoWidth,D=s.videoHeight,xe=!1,Ne=!0,s.removeEventListener("loadedmetadata",vt),this.emit("resize",{source:this}),this.update()};s.addEventListener("loadedmetadata",vt),this.on("destroy",()=>{s.removeEventListener("loadedmetadata",vt)})}}else if(Array.isArray(s)&&s.length&&s[0].src)fe=s.slice().sort((vt,Et)=>vt.level-Et.level),f=fe[0].width,D=fe[0].height,Y=fe[0].src;else{if(!U(s))throw new Error("Texture: unknown texture source format");{de=!0,Te=!0,f=h?.width||0,D=h?.height||0;const vt=J[Ue];if(!0===vt.compressed){if(vt.size(f,D)!==s.byteLength)throw new Error("Texture: height and width do not match array size.")}else{const Et=vt.bits/8;if(!(f>0&&D>0)){const Tt=Math.sqrt(s.byteLength/Et);Tt===Math.floor(Tt)&&(f=D=Tt)}if(!(f>0&&D>0))throw new Error("Texture: typed array texture requires width and height options or square image.");const Lt=f*D;if(s.length%Lt!=0||s.byteLength/Lt>Et)throw new Error("Texture: height and width do not match array size.")}Y=s}}Object.defineProperties(this,{source:{value:s,writable:!1},data:{value:Y,writable:!1},levels:{value:fe,writable:!1},format:{value:Ue,writable:!1}}),Object.defineProperties(this,xe?{width:{get:()=>f},height:{get:()=>D},sizeDynamic:{get:()=>xe},valid:{get:()=>Ne}}:{width:{value:f,writable:!1},height:{value:D,writable:!1},sizeDynamic:{value:xe,writable:!1},valid:{value:Ne,writable:!1}}),this.update=Te?()=>this.emit("update",{source:this}):()=>{};const it=this.destroy;this.destroy=()=>{this.emit("destroy"),it()},Object.defineProperties(this,de?{dynamic:{get:()=>de}}:{dynamic:{value:de,writable:!1}})}}class ne extends ut{sources;levels;format;constructor(s,h){if(6!==s?.length)throw new Error("CubeTexture must have exactly 6 images");const f=s.map(Ne=>new ve(Ne,h)),D=f[0],Y=D.format;let fe=!1;const de=()=>{const{width:Ne,height:Ue,valid:it}=D;if(!it||!Ne||!Ue)return!1;if(Ne!==Ue)throw new Error("CubeTexture sources must be square.");for(let vt=1;vt<f.length;vt++){const Et=f[vt];if(!Et.valid||Et.width!==Ne||Et.height!==Ue)return!1}return!0};for(let Ne=1;Ne<f.length;Ne++)if(f[Ne].format!==D.format)throw new Error("CubeTexture must have the same format for all sources");fe=de(),super({mipmapFilter:Ge.Linear,wrap:Ze.ClampToEdge,...h}),s=s.slice(),Object.freeze(s),f.forEach(Ne=>{Ne.on("resize",()=>{fe=de(),this.emit("resize")}),Ne.on("update",()=>{fe=de(),this.emit("update")})});let xe=f.map(Ne=>Ne.levels);xe.some(Ne=>!Ne)&&(xe=null);const Te=this.destroy;this.destroy=()=>{f.forEach(Ne=>{Ne.destroy()}),Te()},Object.defineProperties(this,{sources:{value:s,writable:!1},levels:{value:xe,writable:!1},format:{value:Y,writable:!1},width:{get:()=>D.width},height:{get:()=>D.height},valid:{get:()=>fe},sizeDynamic:{get:()=>D.sizeDynamic},dynamic:{value:D.dynamic,writable:!1}})}}function p(l,...s){let h=l||"";return s.forEach(f=>{f&&(f.startsWith("/")&&(f=f.substring(1)),h.endsWith("/")?h+=f:h+="/"+f)}),h}function H(l){return new Promise((s,h)=>{const f=new Image;f.onload=()=>{f.onload=f.onerror=null,s(f)},f.onerror=()=>{f.onload=f.onerror=null,h(new Error("Error loading image"))},f.src=l})}function B(l,s){return Math.floor(Math.log2(Math.max(l,s)))+1}const Ie=typeof createImageBitmap<"u";function $e(l,s,h,f){return ft.apply(this,arguments)}function ft(){return ft=r(function*(l,s,h,f){const D=/(.+)\.([^.]+)$/.exec(h);if(!D)throw new Error(`Invalid asset id: '${h}'`);const Y=D[1],fe=D[2],de=yield l("reflections",Y,"outline");if(!de[fe])return console.error(`Reflection not found: ${Y}[${fe}]`),null;const{src:xe,intensity:Te,space:Ne}=de[fe],Ue=function(Gt,Cn){const fn=Cn.split("/");return p(Gt,"content/states",fn[0],"reflections",fn[1]+"/")}(s,Y),it=[],vt=[],Et=yield Promise.all(xe.map(function(){var Gt=r(function*(Cn){if(Cn=Ue+Cn,f?.loadImage){const Fn=yield f.loadImage(Cn);if(Fn)return Fn}const fn=yield f.fetch(Cn,"environment"),xn=yield fn.blob();if(Ie){const Fn=yield createImageBitmap(xn);return it.push(Fn),Fn}const wn=URL.createObjectURL(xn);try{const Fn=H(wn);return vt.push(wn),Fn}catch(Fn){throw URL.revokeObjectURL(wn),Fn}});return function(Cn){return Gt.apply(this,arguments)}}())).catch(Gt=>(console.warn("Error loading environment asset: "+h,Gt),null));if(!Et)return null;const Lt=new ne(Et,{wrap:Ze.ClampToEdge,mag:Ge.Linear,min:Ge.Linear}),Tt=B(Lt.width,Lt.height);return it.length?Lt.on("destroy",()=>{it.forEach(Gt=>{Gt.close()})}):vt.length&&Lt.on("destroy",()=>{vt.forEach(Gt=>{URL.revokeObjectURL(Gt)})}),{space:Ne,texture:Lt,intensity:Te,mipLevels:Tt}}),ft.apply(this,arguments)}let kt=function(l){return l.points="points",l.lines="lines",l.lineLoop="line-loop",l.lineStrip="line-strip",l.triangles="triangles",l.triangleStrip="triangle-strip",l.triangleFan="triangle-fan",l}({});const jt=function(l,s,h,f){const D=l<256?Uint8Array:l<65536?Uint16Array:Uint32Array;return"number"==typeof s?new D(s):new D(s,h,f)};function Ye(){return{min:(0,d.fromValues)(1/0,1/0,1/0),max:(0,d.fromValues)(-1/0,-1/0,-1/0)}}function ct(l,s){(0,d.copy)(l.min,s.min),(0,d.copy)(l.max,s.max)}function It(l,s){const{min:h,max:f}=l;(0,d.set)(h,1/0,1/0,1/0),(0,d.set)(f,-1/0,-1/0,-1/0);for(let D=0;D<s.length;D++){const Y=D%3,fe=s[D];fe<h[Y]&&(h[Y]=fe),fe>f[Y]&&(f[Y]=fe)}}const Ke=/coord|texture|\buvs?\b/i,wt=/colou?r/i;class Ct extends A{attributes;indices;topology;bounds;name;offset;count;constructor(s,h){super(),this.attributes=function rt(l){const s={};return Object.keys(l).forEach(h=>{if("indices"===h)return;const f=l[h],D=U(f)?{data:f}:Array.isArray(f)?{data:new Float32Array(f)}:{...f},Y=D.name||h;if(D.value){if(!Array.isArray(D.value)&&!U(D.value))throw new Error("array.value is not array or TypedArray");return void(s[Y]={value:D.value})}const fe=function(Te){if(U(Te.data))return Te.data;let Ne=Te.type;return Ne||(Ne=Float32Array),new Ne(Te.data)}(D),de=D.numComponents||function(Te,Ne){let Ue=3;if(Ke.test(Te)?Ue=2:wt.test(Te)&&(Ue=4),Ne%Ue>0)throw new Error(`Can not guess numComponents for attribute '${Te}'. Tried ${Ue} but ${Ne} values is not evenly divisible by ${Ue}. You should specify it.`);return Ue}(h,U(fe)||Array.isArray(fe)?fe.length:0);var xe;s[Y]={data:fe,numComponents:de,normalize:D.normalize?D.normalize:(xe=fe,xe instanceof Int8Array||xe instanceof Uint8Array),stride:D.stride||0,offset:D.offset||0,decodeMat:D.decodeMat||null,drawType:D.drawType||35044},void 0!==D.divisor&&(s[Y]=D.divisor)}),s}(s),this.indices=null,s.indices&&(this.indices=U(s.indices)?s.indices:this.attributes.position?jt(this.attributes.position.data.length/3,s.indices):new Uint32Array(s.indices)),this.bounds=Ye(),this.name="",h?ct(this.bounds,h):this.attributes.position&&It(this.bounds,this.attributes.position.data);let f=kt.triangles,D=this.indices?this.indices.length:(this.attributes.position?.data?.length||0)/3,Y=0;const fe=this.destroy;this.destroy=()=>{fe();for(const de in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,de)&&(this.attributes[de]=null)},Object.defineProperties(this,{count:{get:()=>D,set:de=>{D!==de&&(D=de,this.emit("change",{geometry:this,property:"count"}))}},offset:{get:()=>Y,set:de=>{Y!==de&&(Y=de,this.emit("change",{geometry:this,property:"offset"}))}},topology:{get:()=>f,set:de=>{f!==de&&(f=de,this.emit("change",{geometry:this,property:"topology"}))}}})}}class mt extends Ct{morphKeys;constructor(s,h){super(s,h),this.morphKeys=[]}}const Vt=(0,d.create)();class at extends Ce{geometry;material;normalMatrix;castShadow;receiveShadow;reflected;renderable;worldBoundsDirty;worldBounds;dirtyWorldBounds;updateWorldBounds;constructor(s,h,f){const{castShadow:D=!0,receiveShadow:Y=!0,...fe}=f||{};super(fe);let de=1,xe=!1,Te=!0,Ne=D,Ue=Y,it=!0;this.normalMatrix=(0,F.create)(),this.worldBounds=Ye();const vt=this.updateWorldMatrix;this.updateWorldMatrix=()=>vt(()=>{const{worldMatrix:Gt,normalMatrix:Cn}=this;(0,F.invert)(Cn,Gt),(0,F.transpose)(Cn,Cn),de=(0,F.determinant)(Gt),xe=de<0,Te=!!(h&&s&&de)}),this.dirtyWorldBounds=()=>{it||(it=!0,this.emit("dirty",{node:this}))},this.updateWorldBounds=()=>{if(this.updateWorldMatrix(),it){let Gt=1/0,Cn=1/0,fn=1/0,xn=-1/0,wn=-1/0,Fn=-1/0;if(this.geometry){const{worldMatrix:$n}=this,{bounds:pr}=this.geometry;for(let hr=0;hr<8;hr++){Vt[0]=1&hr?pr.min[0]:pr.max[0],Vt[1]=2&hr?pr.min[1]:pr.max[1],Vt[2]=4&hr?pr.min[2]:pr.max[2],(0,d.transformMat4)(Vt,Vt,$n);const wr=Vt[0],di=Vt[1],Ai=Vt[2];wr<Gt&&(Gt=wr),di<Cn&&(Cn=di),Ai<fn&&(fn=Ai),wr>xn&&(xn=wr),di>wn&&(wn=di),Ai>Fn&&(Fn=Ai)}}(0,d.set)(this.worldBounds.min,Gt,Cn,fn),(0,d.set)(this.worldBounds.max,xn,wn,Fn),it=!1,this.emit("updateWorldBounds",{node:this})}};const Et=Gt=>this.emit("change",{node:this,property:Gt}),Lt=Gt=>this.emit("change",{node:this,property:"material",detail:Gt?.property}),Tt=Gt=>{this.dirtyWorldBounds(),this.emit("change",{node:this,property:"geometry",detail:Gt?.property})};h&&h.on("change",Lt),s&&s.on("change",Tt),this.on("dirty",()=>{it=!0}),Object.defineProperties(this,{dirty:{get:()=>it||this.matrixDirty||this.worldMatrixDirty},worldBoundsDirty:{get:()=>it},reflected:{get:()=>xe},renderable:{get:()=>Te},material:{get:()=>h,set:Gt=>{Gt||(Gt=null),Gt!==h&&(h&&h.off("change",Lt),(h=Gt)&&h.on("change",Lt),Te=!!(h&&s&&de),Lt())}},geometry:{get:()=>s,set:Gt=>{Gt||(Gt=null),Gt!==s&&(s&&s.off("change",Tt),(s=Gt)&&s.on("change",Tt),Te=!!(h&&s&&de),Tt())}},castShadow:{get:()=>Ne,set:Gt=>{(Gt=!!Gt)!==Ne&&(Ne=Gt,Et("castShadow"))}},receiveShadow:{get:()=>Ue,set:Gt=>{(Gt=!!Gt)!==Ue&&(Ue=Gt,Et("receiveShadow"))}}})}}const We=w(29685);var ke=v.n(We);function et(l){if(!l)return l;const s=l.constructor;if(s===String||s===Number)return l;if(s===Object){const h={};for(const f in l)Object.prototype.hasOwnProperty.call(l,f)&&(h[f]=et(l[f]));return h}if(Array.isArray(l))return l.map(et);if(l instanceof Set){const h=new Set;return l.forEach(f=>h.add(et(f))),h}if(l instanceof Map){const h=new Map;return l.forEach((f,D)=>h.set(D,et(f))),h}return U(l)?new globalThis[l.constructor.name](l):ke()(l)}function xt(l){if(!l||"object"!=typeof l)return l;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&xt(l[s]);return Object.freeze(l)}class Zt extends A{clear;delete;forEach;get;has;set;size;entries;keys;values;[Symbol.iterator];[Symbol.toStringTag];constructor(s,h){super();const f=new Map,D=!!(h?.clone??1),Y=D&&!!(h?.freeze??D);this.forEach=(de,xe)=>(f.forEach((Te,Ne)=>de.call(xe,Te,Ne,this)),this),this.get=de=>f.get(de),this.has=de=>f.has(de),this.entries=()=>f.entries(),this.keys=()=>f.keys(),this.values=()=>f.values(),this[Symbol.iterator]=()=>f[Symbol.iterator](),this[Symbol.toStringTag]=f[Symbol.toStringTag],this.clear=()=>{const de=Array.from(f.keys());f.clear();for(const xe of de)this.emit("change",xe),this.emit("delete",xe);return this},this.delete=de=>!!f.has(de)&&(f.delete(de),this.emit("change",de),this.emit("delete",de),!0),this.set=(de,xe)=>{if(xe===f.get(de))return this;D&&(xe=et(xe)),Y&&xt(xe);const Te=f.has(de);return f.set(de,xe),Te||this.emit("add",de),this.emit("change",de),this};const fe=this.destroy;if(this.destroy=()=>{this.clear(),fe()},Object.defineProperties(this,{size:{get:()=>f.size}}),s)for(const[de,xe]of s)this.set(de,xe)}}class vn extends at{layer;renderOrder;clippable;modifiers;morphKeyIndex;morphFactor;depthMask;visible;constructor(s,h,f){const{layer:D,visible:Y,depthMask:fe,renderOrder:de,clippable:xe,...Te}=f||{};super(s,h,{rotationSource:"euler",...Te});let Ne=Y??!0,Ue=D||0,it=xe??!0,vt=de||0,Et=fe??!0,Lt=-1,Tt=0,Gt=new Zt(void 0,{clone:!1});const Cn=new Set,fn=()=>{this.emit("change",{node:this,property:"modifier",detail:"value"})},xn=()=>{const $n=new Set(Cn);Cn.clear(),Gt.forEach(pr=>{"range"in pr&&pr.parent&&Cn.add(pr.parent)}),$n.forEach(pr=>{Cn.has(pr)||pr.off("dirty",fn)}),Cn.forEach(pr=>{$n.has(pr)||pr.on("dirty",fn)}),fn()};Gt.on("change",xn);const wn=()=>{this.emit("change",{node:this,property:"modifier"})};Gt.on("add",wn),Gt.on("delete",wn);const Fn=this.destroy;this.destroy=()=>{Gt&&Gt.off("change",xn),Fn()},Object.defineProperties(this,{visible:{get:()=>Ne,set:$n=>{Ne!==$n&&(Ne=$n,this.emit("change",{node:this,property:"visible"}))}},layer:{get:()=>Ue,set:$n=>{Ue!==$n&&(Ue=$n,this.emit("change",{node:this,property:"layer"}))}},clippable:{get:()=>it,set:$n=>{it!==$n&&(it=$n,this.emit("change",{node:this,property:"clippable"}))}},depthMask:{get:()=>Et,set:$n=>{Et!==$n&&(Et=$n,this.emit("change",{node:this,property:"depthMask"}))}},morphKeyIndex:{get:()=>Lt,set:$n=>{Lt!==$n&&(Lt=$n,this.emit("change",{node:this,property:"morphKeyIndex"}))}},morphFactor:{get:()=>Tt,set:$n=>{Tt!==$n&&(Tt=$n,this.emit("change",{node:this,property:"morphFactor"}))}},modifiers:{get:()=>Gt,set:$n=>{const pr=Gt?.size||0;Gt!==$n&&(Gt&&(Gt.off("change",xn),Gt.off("add",wn),Gt.off("delete",wn)),Gt=$n,Gt&&(Gt.on("change",xn),Gt.on("add",wn),Gt.on("delete",wn)),(Gt?.size||pr)&&wn())}},renderOrder:{get:()=>vt,set:$n=>{vt!==$n&&(vt=$n,this.emit("change",{node:this,property:"renderOrder"}))}}})}}class kn extends vn{playBackRate;emissionAverage;emissionVariance;pointSize;perspectivePoints;roundPoints;pointUVScale;id;name;loaded;subSystemIds}class tr extends A{transparent;opacity;type;name;blendMode;constructor(s){const{transparent:h=!1,opacity:f=1,type:D="",name:Y=""}=s||{};super();let fe=h,de=f,xe=D,Te=s?.blendMode||"normal";this.name=Y;const Ne=this.destroy;this.destroy=()=>{this.emit("destroy",{material:this}),Ne()},Object.defineProperties(this,{transparent:{get:()=>fe,set:Ue=>{Ue!==fe&&(fe=Ue,this.emit("change",{material:this,property:"transparent"}))}},opacity:{get:()=>de,set:Ue=>{Ue!==de&&(de=Ue,this.emit("change",{material:this,property:"opacity"}))}},blendMode:{get:()=>Te,set:Ue=>{Ue!==Te&&(Te=Ue,this.emit("change",{material:this,property:"blendMode"}))}},type:{get:()=>xe,set:Ue=>{Ue!==xe&&(xe=Ue,this.emit("change",{material:this,property:"type"}))}}})}}function dn(l){return l?et(l):null}function nn(l,s){const h=new Float32Array(s);if(l)for(let f=0;f<l.length;f++)h[f]=l[f];return h}class Ht extends tr{baseColor;emitColor;metallic;roughness;specularf0;specularColor;shine;glassFactor;murkiness;textures;baseFresnel;emitFresnel;specularFresnel;transparencyFresnel;alphaFresnel;reflectionFresnel;reflectionMap;constructor(s){const{baseColor:h,emitColor:f,metallic:D,roughness:Y,specularf0:fe,specularColor:de,shine:xe,glassFactor:Te,murkiness:Ne,textures:Ue,baseFresnel:it,emitFresnel:vt,specularFresnel:Et,transparencyFresnel:Lt,alphaFresnel:Tt,reflectionFresnel:Gt,reflectionMap:Cn,...fn}=s||{};var Fn;super(fn),this.type=fn.type||"phong",this.baseColor=nn(h,[1,1,1]),this.emitColor=nn(f,[1,1,1,0]),this.metallic=D??1,this.roughness=Y??1,this.specularf0=fe??.1,this.specularColor=nn(de,[1,1,1]),this.shine=xe??70,this.glassFactor=Te??0,this.murkiness=Ne??1,this.textures=function(Fn){if(!Fn)return[];if(!Array.isArray(Fn))throw new Error("textures option must an array of texture layers.");const $n=[];return Fn.forEach(pr=>{const{texture:hr,applyTo:wr,blendMode:di,blendFactor:Ai=1}=pr;$n.push({texture:hr,applyTo:wr,blendMode:di,blendFactor:Ai})}),$n}(Ue),this.baseFresnel=dn(it),this.emitFresnel=dn(vt),this.specularFresnel=dn(Et),this.transparencyFresnel=dn(Lt),this.alphaFresnel=dn(Tt),this.reflectionFresnel=dn(Gt),this.reflectionMap=(Fn=Cn)?Object.assign({},Fn):null;const xn=()=>{this.emit("change",{material:this,property:"texture"})};this.textures.forEach(Fn=>{Fn.texture.on("change",xn),Fn.texture.on("resize",xn),Fn.texture.on("update",xn)});const wn=this.destroy;this.destroy=()=>{this.textures.forEach(Fn=>{Fn.texture.off("change",xn),Fn.texture.off("resize",xn),Fn.texture.off("update",xn)}),this.textures.length=0,wn()}}}const Xt=function(l){if(null==l)return;if("number"==typeof l)return[l,l,l];const{r:s,g:h,b:f,a:D}=l;return void 0===D?[s,h,f]:[s,h,f,D]},Nn=/^([^/]+)\/([^/.]+)/;function Ot(l){const s=Nn.exec(l);if(!s)throw new Error(`Unable to parse material id "${l}"`);const[,h,f]=s;return"content/states/"+h+"/materials/"+f+"/"}const Mn={metallic:new Set(["specular","shine"]),phong:new Set(["metallic","roughness"])},Bn=["alphaFresnel","reflectionFresnel","transparencyFresnel"],Pn=["baseFresnel","emitFresnel","specularFresnel"],Dn={blendMode:"multiply",power:1},tn={alphaFresnel:0,reflectionFresnel:1,transparencyFresnel:0,baseFresnel:1,specularFresnel:0,emitFresnel:0},bn=new Set(["add","multiply"]),yt=new Set(["add","multiply","forceAdd","over"]);function he(){return he=r(function*(l,s,h){const f=!!l.nodes?.some(Tt=>"flags"===Tt.type&&!0===Tt.flags.transparent),D=l.alpha??1,Y=Xt(l.baseColor),fe=l.emit||0,de=l.emitColor?Xt({...l.emitColor,a:fe}):[1,1,1,fe],xe=[],Te={transparent:f,opacity:D,name:l.id||s,baseColor:Y,emitColor:de,textures:xe};l.nodes?.some(Tt=>"flags"===Tt.type&&!0===Tt.flags.addBlend)&&(Te.blendMode="add");const Ne="workflow"in l?l.workflow:"phong";var Tt;"workflow"in l?"metallic"===l.workflow&&Object.assign(Te,function(Tt){const{metallic:Gt,roughness:Cn,specularf0:fn}=Tt,xn={type:"metallic",metallic:Gt,roughness:Cn,specularf0:fn};return"reflectionId"in Tt&&console.warn("Material reflection maps are not supported on metallic/PBR materials."),xn}(l)):Object.assign(Te,yield(Tt=r(function*(Gt,Cn,fn){const{shine:xn,glassFactor:wn=1,murkiness:Fn}=Gt,$n={type:"phong",shine:xn,glassFactor:wn,murkiness:Fn,specularColor:Gt.specularColor?Xt(Gt.specularColor):[1,1,1]};if(Gt.reflectionId){if(!fn.getAssetLibrary&&!fn.server)throw new Error("Unable to load reflection asset without getAssetLibrary or server option");const pr=Cn.replace(/\/materials\..*/,"/reflections."+Gt.reflectionId);try{const hr=fn.baseUrl||"",wr=fn.getAssetLibrary||((Ai,ei,yi)=>fn.server.getAssetLibrary(hr,Ai,ei,yi)),di=yield $e(wr,hr,pr,fn.server);di&&($n.reflectionMap={texture:di.texture,intensity:di.intensity,mipLevels:di.mipLevels})}catch(hr){console.warn("Unable to load reflection asset "+pr+" for material "+Cn,hr)}}return $n}),function(Gt,Cn,fn){return Tt.apply(this,arguments)})(l,s,h));const Ue=l.nodes?.find(Tt=>"texture"===Tt.type&&Tt?.layers.length>0),it=[],vt=new Set,Et=Symbol(s);if(Ue?.layers.length){const Tt=Ot(s),Gt=Dt(fn=>h.textureCache.get(Et,fn)),Cn=Mn[Ne];Ue.layers.forEach(fn=>{let xn=fn.blendMode||"over",wn=fn.applyTo;if("add"===xn?xn="over":"forceAdd"===xn&&(xn="add"),!yt.has(xn))throw new Error("Texture has invalid blend mode: "+xn);if("color"===wn&&(wn="baseColor"),Cn.has(wn))return void console.warn(`"${wn}" texture channels are not supported on ${Ne} materials.`);const Fn={texture:null,applyTo:wn,blendMode:xn,blendFactor:fn.blendFactor??1};xe.push(Fn);const pr=p(h.baseUrl||"",fn.src||Tt+(fn.uri||""));vt.add(pr),it.push(Gt(pr).then(hr=>{if(Fn.texture=hr,!hr)throw new Error("Failed to load texture")}).catch(hr=>{console.warn("Error loading image",pr,hr);const wr=xe.indexOf(Fn);wr>=0&&xe.splice(wr,1)}))})}Bn.forEach(Tt=>{const Gt=l[Tt];if(Gt){if(Gt.blendMode&&!bn.has(Gt.blendMode))throw new Error(`Fresnel (${Tt}) has invalid blend mode: ${Gt.blendMode}`);const Cn=tn[Tt],fn=1-Cn;if("gradientStops"in Gt){const xn=Gt.gradientStops.map(wn=>({value:wn.value,position:wn.position,power:wn.power}));Te[Tt]={gradientStops:xn,blendMode:Gt.blendMode}}else Te[Tt]={...Dn,edge:Cn,center:fn,...Gt}}}),Pn.forEach(Tt=>{const Gt=l[Tt];if(Gt){if(Gt.blendMode&&!bn.has(Gt.blendMode))throw new Error(`Fresnel (${Tt}) has invalid blend mode: ${Gt.blendMode}`);const Cn=tn[Tt],fn=1-Cn;if("gradientStops"in Gt){const xn=Gt.gradientStops.map(wn=>({color:Xt(wn.color),position:wn.position,power:wn.power}));Te[Tt]={gradientStops:xn,blendMode:Gt.blendMode}}else Te[Tt]={...Dn,...Gt,center:Xt(Gt.center?Gt.center:fn),edge:Xt(Gt.edge?Gt.edge:Cn)}}}),yield Promise.all(it);const Lt=new Ht(Te);return Lt.on("destroy",()=>{vt.forEach(Tt=>h.textureCache.release(Et,Tt))}),Lt}),he.apply(this,arguments)}const Be=l=>l?.map(({blendFactor:s=1,blendMode:h="over",...f})=>({...f,blendFactor:s,blendMode:h}))||[],ht=l=>l?.map(({blendFactor:s=1,blendMode:h="over",channel:f="r",invert:D=!1,...Y})=>({...Y,blendFactor:s,blendMode:h,channel:f,invert:D}))||[];class zt extends tr{baseColor;baseColorMaps;opacityMaps;baseColorFresnel;opacityFresnel;constructor(s){const{blendMode:h,baseColor:f,baseColorMaps:D,opacityMaps:Y,baseColorFresnel:fe,opacityFresnel:de,...xe}=s||{};super(xe),this.blendMode=h||"normal",this.baseColor=nn(f,[1,1,1]),this.baseColorMaps=Be(D),this.opacityMaps=ht(Y),this.baseColorFresnel=dn(fe),this.opacityFresnel=dn(de);const Te=()=>{this.emit("change",{material:this,property:"texture"})},Ne=new Set([...this.baseColorMaps,...this.opacityMaps].map(({texture:it})=>it));Ne.forEach(it=>{it.on("change",Te),it.on("resize",Te),it.on("update",Te)});const Ue=this.destroy;this.destroy=()=>{Ne.forEach(it=>{it.off("change",Te),it.off("resize",Te),it.off("update",Te)}),this.baseColorMaps.length=0,this.opacityMaps.length=0,Ue()}}}class on extends zt{constructor(s){super({...s,type:"unlit"})}}class Hn extends zt{normalMaps;metallic;metallicMaps;occlusionMaps;roughness;roughnessMaps;emissive;emissiveMaps;ior;specularFactor;specularFactorMaps;specularColor;specularColorMaps;emissiveFresnel;constructor(s){const{normalMaps:h,metallic:f,metallicMaps:D,occlusionMaps:Y,roughness:fe,roughnessMaps:de,emissive:xe,emissiveMaps:Te,ior:Ne,specularFactor:Ue,specularFactorMaps:it,specularColor:vt,specularColorMaps:Et,emissiveFresnel:Lt,...Tt}=s||{};super({...Tt,type:"physical"});let Gt=f??0,Cn=Ne??1.5,fn=fe??1,xn=Ue??1;var wn;this.normalMaps=(wn=h,wn?.map(({blendFactor:hr=1,blendMode:wr="over",...di})=>({...di,blendFactor:hr,blendMode:wr}))||[]),this.metallicMaps=ht(D),this.roughnessMaps=ht(de),this.occlusionMaps=ht(Y),this.emissive=nn(xe,[0,0,0]),this.emissiveMaps=Be(Te),this.specularFactorMaps=ht(it),this.specularColor=nn(vt,[1,1,1]),this.specularColorMaps=Be(Et),this.emissiveFresnel=dn(Lt);const Fn=()=>{this.emit("change",{material:this,property:"texture"})},$n=new Set([...this.metallicMaps,...this.roughnessMaps,...this.occlusionMaps,...this.emissiveMaps].map(({texture:hr})=>hr));$n.forEach(hr=>{hr.on("change",Fn),hr.on("resize",Fn),hr.on("update",Fn)});const pr=this.destroy;this.destroy=()=>{$n.forEach(hr=>{hr.off("change",Fn),hr.off("resize",Fn),hr.off("update",Fn)}),this.emissiveMaps.length=0,this.specularColorMaps.length=0,this.normalMaps.length=0,this.metallicMaps.length=0,this.occlusionMaps.length=0,this.roughnessMaps.length=0,this.specularFactorMaps.length=0,pr()},Object.defineProperties(this,{metallic:{get:()=>Gt,set:hr=>{hr!==Gt&&(Gt=hr,this.emit("change",{material:this,property:"metallic"}))}},roughness:{get:()=>fn,set:hr=>{hr!==fn&&(fn=hr,this.emit("change",{material:this,property:"roughness"}))}},ior:{get:()=>Cn,set:hr=>{hr!==Cn&&(Cn=hr,this.emit("change",{material:this,property:"ior"}))}},specularFactor:{get:()=>xn,set:hr=>{hr!==xn&&(xn=hr,this.emit("change",{material:this,property:"specularFactor"}))}}})}}function Ar(l,s){return{name:l.id||s,baseColor:Xt(l.baseColor)}}const Ir=new Set(["add","multiply"]),ti=(l,s,h,f,D)=>function(){var Y=r(function*(fe,de,xe){const Te={...Ar(fe,de),...s(fe)},Ne=Symbol(de),Ue=Ot(de),it=[];yield Promise.all(h.map(function(){var Et=r(function*(Lt){const Tt=fe[Lt];if(Tt){const Gt=yield Promise.all(Tt.map(function(){var Cn=r(function*(fn){const{uri:xn,...wn}=fn,$n=p(xe.baseUrl||"",Ue+(xn||""));try{const pr=yield(hr=$n,xe.textureCache.get(Ne,hr));return it.push($n),{...wn,texture:pr}}catch(pr){return console.warn("Error loading image",$n,pr),null}var hr});return function(fn){return Cn.apply(this,arguments)}}()));Te[Lt]=Gt.filter(Cn=>!!Cn)}});return function(Lt){return Et.apply(this,arguments)}}())),f.forEach(Et=>{const Lt=fe[Et];if(Lt){if(Lt.blendMode&&!Ir.has(Lt.blendMode))throw new Error(`Fresnel (${Et}) has invalid blend mode: ${Lt.blendMode}`);if("gradientStops"in Lt){const Tt=Lt.gradientStops.map(Gt=>({value:Gt.value,position:Gt.position,power:Gt.power}));Te[Et]={gradientStops:Tt,blendMode:Lt.blendMode}}else Te[Et]={...Lt}}}),D.forEach(Et=>{const Lt=fe[Et];if(Lt){if(Lt.blendMode&&!Ir.has(Lt.blendMode))throw new Error(`Fresnel (${Et}) has invalid blend mode: ${Lt.blendMode}`);if("gradientStops"in Lt){const Tt=Lt.gradientStops.map(Gt=>({color:Xt(Gt.color),position:Gt.position,power:Gt.power}));Te[Et]={gradientStops:Tt,blendMode:Lt.blendMode}}else Te[Et]={...Lt,center:Xt(Lt.center),edge:Xt(Lt.edge)}}});const vt=new l(Te);return vt.on("destroy",()=>{it.forEach(Et=>xe.textureCache.release(Ne,Et))}),vt});return function(fe,de,xe){return Y.apply(this,arguments)}}(),Yr=ti(on,function(l){const{opacity:s,blendMode:h}=l;return{opacity:s,blendMode:h}},["baseColorMaps","opacityMaps"],["opacityFresnel"],["baseColorFresnel"]),Ki=ti(Hn,function(l){const{opacity:s,blendMode:h,ior:f,metallic:D,roughness:Y,specularFactor:fe}=l;return{opacity:s,blendMode:h,emissive:Xt(l.emissive),ior:f,metallic:D,roughness:Y,specularColor:Xt(l.specularColor),specularFactor:fe}},["baseColorMaps","emissiveMaps","metallicMaps","normalMaps","occlusionMaps","opacityMaps","roughnessMaps","specularColorMaps","specularFactorMaps"],["opacityFresnel"],["baseColorFresnel","emissiveFresnel"]);function mi(l,s,h){return"workflow"in l&&"metallic"!==l.workflow?"physical"===l.workflow?Ki(l,s,h):"unlit"===l.workflow?Yr(l,s,h):null:function _e(l,s,h){return he.apply(this,arguments)}(l,s,h)}function er(l,s){return ur.apply(this,arguments)}function ur(){return ur=r(function*(l,s){if("materialId"in l)return s.loadMaterial(l.materialId,s);if(void 0!==l.material&&"workflow"in l.material)return mi(l.material,l.material.id,s);const h=l.material?.baseColor?Xt(l.material.baseColor):null,f=l.material&&"alpha"in l.material&&void 0!==l.material.alpha?l.material?.alpha:1,D=Symbol("particle material:"+l.id),Y=[],fe={transparent:!0,opacity:f,baseColor:h,textures:Y,name:l.id},de=[],xe=new Set;if("textures"in l){const Ne=l.textures?.length&&Dt(Ue=>s.textureCache.get(D,Ue));for(let Ue=0,it=l.textures?.length||0;Ue<it;Ue++){const vt=l.textures[Ue],{src:Et}=vt;let Lt=vt.applyTo||"baseColor";"color"===Lt&&(Lt="baseColor");const Tt={texture:null,applyTo:Lt,blendMode:"over",blendFactor:1};Y.push(Tt);const Gt=p(s?.baseUrl||"",Et.startsWith("/")?""+Et:"/content/states/"+Et);xe.add(Gt),de.push(Ne(Gt).then(Cn=>{Tt.texture=Cn}).catch(Cn=>{console.warn("Error loading image",Gt,Cn);const fn=Y.indexOf(Tt);fn>=0&&Y.splice(fn,1)}))}yield Promise.all(de)}const Te=new Ht(fe);return Te.on("destroy",()=>{xe.forEach(Ne=>s.textureCache.release(D,Ne))}),Te}),ur.apply(this,arguments)}const Ei=w(7928),Ni=(0,F.create)(),rn=(0,F.create)();function En(l,s,h){if(h?(0,F.fromScaling)(rn,h):(0,F.identity)(rn),s){const f=s[0],D=s[1],Y=s[2];f&&((0,F.fromXRotation)(Ni,f),(0,F.multiply)(rn,Ni,rn)),D&&((0,F.fromYRotation)(Ni,D),(0,F.multiply)(rn,Ni,rn)),Y&&((0,F.fromZRotation)(Ni,Y),(0,F.multiply)(rn,Ni,rn))}return(0,Ei.fromMat4)(l,rn)}const ar=(0,d.create)(),Er=Math.PI/180,Hr=(0,d.create)(),vr=Math.PI/180,Mt=2*Math.PI,te=(0,d.create)(),ze=Math.PI/180,Yt=Math.PI/180,An=(0,d.create)(),Kn=(0,d.create)(),sr=Math.PI/180,Pr=Math.PI,Sr=2*Pr,Ur=Math.PI/180;class ri{translate;rotate;scale;xform;inverseXform;normalXform;dirty}const Ri={shapeTranslate:"translate",shapeRotate:"rotate",shapeScale:"scale"};function ji(l,s,h,f,D){const Y=Ri[s],fe=Y&&l[Y];return"shapeRotate"===s&&(h*=Ur,f*=Ur,D*=Ur),!!fe&&(fe[0]=h,fe[1]=f,fe[2]=D,l.dirty=!0,!0)}class $i extends ri{constructor(s){super(),this.translate=s?.translate?(0,d.clone)(s.translate):null,this.xform=s?.scale||s?.rotate?(0,Ei.create)():null,this.xform?(this.rotate=(0,d.fromValues)(0,0,0),s?.rotate&&(0,d.scale)(this.rotate,s.rotate,Ur),this.scale=(0,d.fromValues)(1,1,1),s?.scale&&(0,d.copy)(this.scale,s.scale),this.inverseXform=(0,Ei.create)(),this.normalXform=(0,Ei.create)(),this.dirty=!0,this.updateXform()):(this.rotate=null,this.scale=null,this.inverseXform=null,this.normalXform=null,this.dirty=!1)}updateXform(){this.xform&&this.dirty&&(En(this.xform,this.rotate,this.scale),(0,Ei.invert)(this.inverseXform,this.xform),(0,Ei.transpose)(this.normalXform,this.inverseXform)),this.dirty=!1}}const Yi=Math.PI/180,no=(0,Ei.create)();function yo(l,s){return s[0]*l.normal[0]+s[1]*l.normal[1]+s[2]*l.normal[2]}function Fo(l){const s=l[0],h=l[1],f=l[2];return s*s+h*h+f*f}const $t={Cube:class extends $i{in(l){const s=l[0],h=l[1],f=l[2];return s>=-.5&&s<=.5&&h>=-.5&&h<=.5&&f>=-.5&&f<=.5}out(l){const s=l[0],h=l[1],f=l[2];return s<=-.5||s>=.5||h<=-.5||h>=.5||f<=-.5||f>=.5}surfaceProjection(l,s,h){let f=l[0],D=l[1],Y=l[2];const fe=Math.abs(f+.5),de=Math.abs(f-.5),xe=Math.abs(D+.5),Te=Math.abs(D-.5),Ne=Math.abs(Y+.5),Ue=Math.abs(Y-.5);fe<de&&fe<xe&&fe<Te&&fe<Ne&&fe<Ue?(f=-.5,(0,d.set)(h,-1,0,0)):de<xe&&de<Te&&de<Ne&&de<Ue?(f=.5,(0,d.set)(h,1,0,0)):xe<Te&&xe<Ne&&xe<Ue?(D=-.5,(0,d.set)(h,0,-1,0)):Te<Ne&&Te<Ue?(D=.5,(0,d.set)(h,0,1,0)):Ne<Ue?(Y=-.5,(0,d.set)(h,0,0,-1)):(Y=.5,(0,d.set)(h,0,0,1)),s[0]=re(f,-.5,.5),s[1]=re(D,-.5,.5),s[2]=re(Y,-.5,.5),this.xform&&(this.updateXform(),(0,d.transformMat3)(s,s,this.xform),(0,d.transformMat3)(h,h,this.normalXform),(0,d.normalize)(h,h)),this.translate&&(0,d.add)(s,s,this.translate)}},Cylinder:class extends $i{in(l){const s=l[0],h=l[1],f=l[2];return s*s+f*f<=1&&h>=-1&&h<=1}out(l){const s=l[0],h=l[1],f=l[2];return s*s+f*f>=1||h<=-1||h>=1}surfaceProjection(l,s,h){let f=l[0],D=l[1],Y=l[2];if(D<=-1)(0,d.set)(h,0,-1,0),D=-1;else if(D>=1)(0,d.set)(h,0,1,0),D=1;else{const fe=Math.sqrt(f*f+Y*Y);fe>=1||1-Math.abs(D)>=1-fe?(f/=fe,Y/=fe,(0,d.set)(h,f,0,Y)):(D=Math.sign(D),(0,d.set)(h,0,D,0))}s[0]=f,s[1]=D,s[2]=Y,this.xform&&(this.updateXform(),(0,d.transformMat3)(s,s,this.xform),(0,d.transformMat3)(h,h,this.normalXform),(0,d.normalize)(h,h)),this.translate&&(0,d.add)(s,s,this.translate)}},Plane:class extends ri{translate;rotate;normal;distance;xform;dirty=!0;constructor(l){super(),this.translate=(0,d.clone)(l.translate||[0,0,0]),this.rotate=(0,d.clone)(l.rotate||[0,0,0]),l.rotate&&(0,d.scale)(this.rotate,l.rotate,Yi),this.normal=(0,d.create)(),this.distance=0,this.updateXform()}updateXform(){this.dirty&&(this.normal[0]=0,this.normal[1]=1,this.normal[2]=0,En(no,this.rotate),(0,d.transformMat3)(this.normal,this.normal,no),this.distance=(0,d.dot)(this.translate,this.normal),this.dirty=!1)}in(l){return this.updateXform(),yo(this,l)<=this.distance}out(l){return this.updateXform(),yo(this,l)>=this.distance}surfaceProjection(l,s,h){this.updateXform(),h[0]=this.normal[0],h[1]=this.normal[1],h[2]=this.normal[2];const f=R.get();(0,d.scale)(f,h,this.distance-(0,d.dot)(l,h)),(0,d.add)(s,l,f),R.release(f)}},Sphere:class extends $i{in(l){return Fo(l)<=1}out(l){return Fo(l)>=1}surfaceProjection(l,s,h){(0,d.normalize)(s,l),U(h)?h.set(s):(0,d.copy)(h,s),this.xform&&(this.updateXform(),(0,d.transformMat3)(s,s,this.xform),(0,d.transformMat3)(h,h,this.normalXform),(0,d.normalize)(h,h)),this.translate&&(0,d.add)(s,s,this.translate)}}},Se=$t;function At(l,s,h,f){const D=3*f;return l[0]=h[D],l[1]=h[D+1],l[2]=h[D+2],s?.translate&&(l[0]-=s.translate[0],l[1]-=s.translate[1],l[2]-=s.translate[2]),s?.inverseXform&&(s instanceof $i&&s.updateXform(),(0,d.transformMat3)(l,l,s.inverseXform)),l}const en=(0,d.create)(),Sn=(0,d.create)(),ir=(0,d.create)(),Vr=(0,d.create)(),Oi=(0,d.create)(),Wr=(0,d.create)(),Gi=(0,d.create)(),Ro=je/1e3,Wo={CubePosition:function(l){const s=l.translate?(0,d.clone)(l.translate):null,h=l.scale||l.rotate?(0,Ei.create)():null,f=h?(0,d.create)():null;l.rotate&&(0,d.scale)(f,l.rotate,Er);const D={scale:h?(0,d.clone)(l.scale)||(0,d.fromValues)(1,1,1):null,rotate:f,translate:s};let Y=!0;return{set(fe,de,xe,Te){"rotate"===fe?(0,d.set)(f,de*Er,xe*Er,Te*Er):fe in D&&(0,d.set)(D[fe],de,xe,Te),Y=!0},update(fe,de,xe){const Te=fe.get("position");h&&Y&&(En(h,f,D.scale),Y=!1);for(let Ne=de,Ue=3*Ne;Ne<xe;Ne++,Ue+=3)ar[0]=Math.random()-.5,ar[1]=Math.random()-.5,ar[2]=Math.random()-.5,h&&(0,d.transformMat3)(ar,ar,h),s&&(0,d.add)(ar,ar,s),Te.set(ar,Ue)}}},CylinderPosition:function(l){const s=l.translate?(0,d.clone)(l.translate):null,h=l.scale||l.rotate?(0,Ei.create)():null,f=h?(0,d.create)():null;l.rotate&&(0,d.scale)(f,l.rotate,vr);const D={scale:h?(0,d.clone)(l.scale)||(0,d.fromValues)(1,1,1):null,rotate:f,translate:s};let Y=!0;return{set(fe,de,xe,Te){"rotate"===fe?(0,d.set)(f,de*vr,xe*vr,Te*vr):fe in D&&(0,d.set)(D[fe],de,xe,Te),Y=!0},update(fe,de,xe){const Te=fe.get("position");h&&Y&&(En(h,f,D.scale),Y=!1);for(let Ne=de,Ue=3*Ne;Ne<xe;Ne++,Ue+=3){const it=Math.random()*Mt,vt=Math.random(),Et=2*Math.random()-1;Hr[0]=vt*Math.cos(it),Hr[1]=Et,Hr[2]=vt*Math.sin(it),h&&(0,d.transformMat3)(Hr,Hr,h),s&&(0,d.add)(Hr,Hr,s),Te.set(Hr,Ue)}}}},DirectionalVelocity:function(l){const s=(0,d.clone)(l.directionAverage);(0,d.normalize)(s,s);const h={directionAverage:s},f={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,directionVariance:l.directionVariance||0};return{components:["velocity"],set(D,Y,fe,de){D in h?(0,d.set)(h[D],Y,fe,de):D in f&&(f[D]=Y)},update(D,Y,fe){const de=D.get("velocity"),{forceAverage:xe,forceVariance:Te,directionVariance:Ne}=f;for(let Ue=Y,it=3*Ue;Ue<fe;Ue++,it+=3){const vt=xe+2*Math.random()*Te-Te;te[0]=s[0]+2*Math.random()*Ne-Ne,te[1]=s[1]+2*Math.random()*Ne-Ne,te[2]=s[2]+2*Math.random()*Ne-Ne,(0,d.normalize)(te,te),de[it]+=te[0]*vt,de[it+1]+=te[1]*vt,de[it+2]+=te[2]*vt}}}},Lifetime:function(l){const s={average:l.average,variance:l.variance||0};return{components:["lifetime","age"],set(h,f){h in s&&(s[h]=f)},update(h,f,D){const Y=h.get("age"),fe=h.get("lifetime");let{average:de,variance:xe}=s;xe>de&&(de=xe=(de+xe)/2);for(let Te=f;Te<D;Te++)Y[Te]=0,fe[Te]=de,xe>0&&(fe[Te]+=2*Math.random()*xe-xe)}}},PointPosition:function(l){const s=(0,d.clone)(l.position),h={position:s};return{set(f,D,Y,fe){f in h&&(0,d.set)(h[f],D,Y,fe)},update(f,D,Y){const fe=f.get("position");for(let de=D,xe=3*de;de<Y;de++,xe+=3)fe.set(s,xe)}}},RandomRotation:function(l){const s={average:l.average*ze,variance:(l.variance||0)*ze};return{components:["uvRotate"],set(h,f){h in s&&(s[h]=f*ze)},update(h,f,D){const Y=h.get("uvRotate"),{average:fe,variance:de}=s;for(let xe=f;xe<D;xe++){let Te=fe;de>0&&(Te+=2*Math.random()*de-de),Y[xe]=Te}}}},RandomRotationSpeed:function(l){const s={average:l.average*Yt,variance:(l.variance||0)*Yt};return{components:["rotationSpeed","uvRotate"],set(h,f){h in s&&(s[h]=f*Yt)},update(h,f,D){const Y=h.get("rotationSpeed"),{average:fe,variance:de}=s;for(let xe=f;xe<D;xe++){let Te=fe;de>0&&(Te+=2*Math.random()*de-de),Y[xe]=Te}}}},RandomScale:function(l){const s={average:l.average,variance:l.variance||0};return{components:["scale"],set(h,f){h in s&&(s[h]=f)},update(h,f,D){const Y=h.get("scale");let{average:fe,variance:de}=s;de>fe&&(fe=de=(fe+de)/2);for(let xe=f;xe<D;xe++){let Te=fe;de>0&&(Te+=2*Math.random()*de-de),Y[xe]=Te}}}},RandomVelocity:function(l){const s={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0};return{components:["velocity"],set(h,f){h in s&&(s[h]=f)},update(h,f,D){const Y=h.get("velocity"),{forceAverage:fe,forceVariance:de}=s;for(let xe=f,Te=3*xe;xe<D;xe++,Te+=3){const Ne=fe+2*Math.random()*de-de;An[0]=2*Math.random()-1,An[1]=2*Math.random()-1,An[2]=2*Math.random()-1,(0,d.normalize)(An,An),Y[Te]+=An[0]*Ne,Y[Te+1]+=An[1]*Ne,Y[Te+2]+=An[2]*Ne}}}},SpherePosition:function(l){const s=l.translate?(0,d.clone)(l.translate):null,h=l.scale||l.rotate?(0,Ei.create)():null,f=h?(0,d.create)():null;l.rotate&&(0,d.scale)(f,l.rotate,sr);const D={scale:h?(0,d.clone)(l.scale)||(0,d.fromValues)(1,1,1):null,rotate:f,translate:s};let Y=!0;return{set(fe,de,xe,Te){"rotate"===fe?(0,d.set)(f,de*sr,xe*sr,Te*sr):fe in D&&(0,d.set)(D[fe],de,xe,Te),Y=!0},update(fe,de,xe){const Te=fe.get("position");h&&Y&&(En(h,f,D.scale),Y=!1);for(let Ne=de,Ue=3*Ne;Ne<xe;Ne++,Ue+=3){const it=Math.random()*Pr,vt=Math.random()*Sr,Et=Math.random(),Lt=Math.sin(it);Kn[0]=Et*Lt*Math.sin(vt),Kn[1]=Et*Math.cos(it),Kn[2]=Et*Lt*Math.cos(vt),h&&(0,d.transformMat3)(Kn,Kn,h),s&&(0,d.add)(Kn,Kn,s),Te.set(Kn,Ue)}}}},SpriteAnimationDuration:function(l,s,h){const f={average:l.average,variance:l.variance||0,startFrame:h.spriteStartFrame||0,endFrame:h.spriteEndFrame||Math.max(0,h.spriteCols*h.spriteCols-1)};return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],set(D,Y){D in f&&(f[D]=Y)},update(D,Y,fe){const de=D.get("spriteFrameDuration"),xe=D.get("spriteCurrentTime"),{startFrame:Te,endFrame:Ne}=f,Ue=Ne-Te;let{average:it,variance:vt}=f;vt>it&&(it=vt=(it+vt)/2);for(let Et=Y;Et<fe;Et++){let Lt=it;vt>0&&(Lt+=2*Math.random()*vt-vt),xe[Et]=0,de[Et]=Ue?Math.max(Lt/Ue,0):0}}}}},xs={AgeColorBlend:function(l){const s=[];for(let Y=0,fe=l.colors.length;Y<fe;Y++)s[Y]=new Uint8Array(l.colors[Y]);const h=l.shape?new Se[l.shape.type](l.shape):null,D=h?h[l.shape?.direction||"in"].bind(h):null;return{components:["position","age","lifetime","color"],set(Y,fe,de,xe){ji(h,Y,fe,de,xe)},update(Y,fe,de){const xe=Y.get("position"),Te=Y.get("age"),Ne=Y.get("lifetime"),Ue=Y.get("color"),it=s.length-1,vt=h?R.get():null;for(let Et=fe,Lt=4*Et;Et<de;Et++,Lt+=4)if(!D||D(At(vt,h,xe,Et))){const Tt=Ne[Et]?Te[Et]/Ne[Et]*it:0,Gt=Math.floor(Tt),fn=s[Gt],xn=s[Gt+1]||s[Gt],wn=Tt-Gt,Fn=1-wn;Ue[Lt]=Fn*fn[0]+wn*xn[0],Ue[Lt+1]=Fn*fn[1]+wn*xn[1],Ue[Lt+2]=Fn*fn[2]+wn*xn[2],Ue[Lt+3]=Fn*fn[3]+wn*xn[3]}vt&&R.release(vt)}}},AxisForce:function(l){const s=l.forceAverage,h=l.forceVariance||0,f=(0,d.clone)(l.position),D=(0,d.clone)(l.direction);(0,d.normalize)(D,D);const Y=l.shape?new Se[l.shape.type](l.shape):null,de=Y?Y[l.shape?.direction||"in"].bind(Y):null,xe={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0};return{components:["velocity","position"],set(Te,Ne,Ue,it){"shapeTranslate"===Te||"shapeRotate"===Te||"shapeScale"===Te?ji(Y,Te,Ne,Ue,it):Te in xe&&(xe[Te]=Ne)},update(Te,Ne,Ue,it){const vt=Te.get("position"),Et=Te.get("velocity"),Lt=s*it,Tt=h*it,Gt=Y?R.get():null,Cn=R.get(),fn=R.get(),xn=R.get(),wn=R.get();for(let Fn=Ne,$n=3*Fn;Fn<Ue;Fn++,$n+=3)if(!de||de(At(Gt,Y,vt,Fn))){const pr=$n+1,hr=$n+2;let wr=Lt;Tt>0&&(wr+=2*Math.random()*Tt-Tt),Cn[0]=vt[$n],Cn[1]=vt[pr],Cn[2]=vt[hr],(0,d.subtract)(wn,Cn,f);const di=(0,d.dot)(wn,D);(0,d.scale)(xn,D,di),(0,d.add)(fn,xn,f),(0,d.subtract)(fn,Cn,fn),(0,d.normalize)(fn,fn),Et[$n]+=fn[0]*wr,Et[pr]+=fn[1]*wr,Et[hr]+=fn[2]*wr}Gt&&R.release(Gt),R.release(Cn),R.release(fn),R.release(xn),R.release(wn)}}},BrownianMotion:function(l){const s=l.shape?new Se[l.shape.type](l.shape):null,f=s?s[l.shape?.direction||"in"].bind(s):null,D={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,frequency:l.frequency};return{components:["velocity","position"],set(Y,fe,de,xe){"shapeTranslate"===Y||"shapeRotate"===Y||"shapeScale"===Y?ji(s,Y,fe,de,xe):Y in D&&(D[Y]=fe)},update(Y,fe,de,xe){const Te=Y.get("position"),Ne=Y.get("velocity"),Ue=D.frequency*xe,it=D.forceAverage*xe,vt=D.forceVariance*xe,Et=s?R.get():null,Lt=R.get();for(let Tt=fe,Gt=3*Tt;Tt<de;Tt++,Gt+=3)if((!f||f(At(Et,s,Te,Tt)))&&Math.random()<Ue){let Cn=it;vt>0&&(Cn+=2*Math.random()*vt-vt),Lt[0]=2*Math.random()-1,Lt[1]=2*Math.random()-1,Lt[2]=2*Math.random()-1,(0,d.normalize)(Lt,Lt),Ne[Gt]+=Lt[0]*Cn,Ne[Gt+1]+=Lt[1]*Cn,Ne[Gt+2]+=Lt[2]*Cn}Et&&R.release(Et),R.release(Lt)}}},Gravity:function(l){const s=(0,d.clone)(l.position),h=l.shape?new Se[l.shape.type](l.shape):null,D=h?h[l.shape?.direction||"in"].bind(h):null,Y={position:s},fe={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,radius:l.radius};return{components:["velocity","position"],set(de,xe,Te,Ne){"shapeTranslate"===de||"shapeRotate"===de||"shapeScale"===de?ji(h,de,xe,Te,Ne):de in Y?(0,d.set)(Y[de],xe,Te,Ne):de in fe&&(fe[de]=xe)},update(de,xe,Te,Ne){const{forceAverage:Ue,forceVariance:it,radius:vt}=fe;if(0===vt)return;const Et=de.get("position"),Lt=de.get("velocity"),Tt=Ue*Ne,Gt=it*Ne,Cn=h?R.get():null,fn=Y.position,xn=R.get();for(let wn=xe,Fn=3*wn;wn<Te;wn++,Fn+=3)if(!D||D(At(Cn,h,Et,wn))){let $n=Tt;Gt>0&&($n+=2*Math.random()*Gt-Gt);const pr=Fn+1,hr=Fn+2;xn[0]=fn[0]-Et[Fn],xn[1]=fn[1]-Et[pr],xn[2]=fn[2]-Et[hr];const wr=1/Math.max((0,d.length)(xn),vt);(0,d.scale)(xn,xn,wr),$n*=wr*wr,Lt[Fn]+=xn[0]*$n,Lt[Fn+1]+=xn[1]*$n,Lt[Fn+2]+=xn[2]*$n}Cn&&R.release(Cn),R.release(xn)}}},Friction:function(l){const s=l.shape?new Se[l.shape.type](l.shape):null,f=s?s[l.shape?.direction||"in"].bind(s):null,D={friction:1-l.friction};return{components:["velocity","position"],set(Y,fe,de,xe){"shapeTranslate"===Y||"shapeRotate"===Y||"shapeScale"===Y?ji(s,Y,fe,de,xe):Y in D&&(D[Y]=1-fe)},update(Y,fe,de,xe){const Te=Y.get("position"),Ne=Y.get("velocity"),Ue=Math.pow(D.friction,xe),it=s?R.get():null;for(let vt=fe,Et=3*vt;vt<de;vt++,Et+=3)f&&!f(At(it,s,Te,vt))||(Ne[Et]*=Ue,Ne[Et+1]*=Ue,Ne[Et+2]*=Ue);it&&R.release(it)}}},Path:function(l,s){const h=function(fe){const de=[];return fe.forEach(({position:xe,radius:Te,forceAverage:Ne,forceVariance:Ue},it)=>{const vt=(0,d.clone)(xe),Et=it?(0,d.subtract)((0,d.create)(),vt,de[it-1].position):null,Lt=it?(0,d.length)(Et):0,Tt={position:vt,radiusSquared:Te?Te*Te:0,forceVariance:Ue||0,forceAverage:Ne,vec:Et,dir:it?(0,d.scale)((0,d.create)(),Et,1/Lt):null,length:Lt};de.push(Tt)}),de}(l.nodes);s.path=h;const f=l.shape?new Se[l.shape.type](l.shape):null,Y=f?f[l.shape?.direction||"in"].bind(f):null;return{components:["velocity","position","pathIndex"],set(fe,de,xe,Te){ji(f,fe,de,xe,Te)},update(fe,de,xe,Te){const Ne=fe.get("position"),Ue=fe.get("velocity"),it=fe.get("pathIndex"),vt=f?R.get():null,Et=R.get(),Lt=R.get(),Tt=R.get();for(let Gt=de,Cn=3*Gt;Gt<xe;Gt++,Cn+=3)if(!Y||Y(At(vt,f,Ne,Gt))){const fn=it[Gt];let xn=h[fn];if(xn){const wn=Cn+1,Fn=Cn+2;Et[0]=Ne[Cn],Et[1]=Ne[wn],Et[2]=Ne[Fn];let $n=null;if(fn){if((0,d.subtract)(Lt,Et,h[fn-1].position),(0,d.dot)(Lt,xn.dir)>xn.length){const hr=fn+1;if(it[Gt]=hr,xn=h[hr],xn){Tt[0]=Ue[Cn],Tt[1]=Ue[wn],Tt[2]=Ue[Fn];const wr=(0,d.length)(Tt);(0,d.scale)(Tt,xn.dir,wr),Ue.set(Tt,Cn)}}xn&&($n=xn.dir)}else{if((0,d.squaredDistance)(Et,xn.position)<xn.radiusSquared){const pr=fn+1;it[Gt]=pr,xn=h[pr]}xn&&((0,d.subtract)(Lt,xn.position,Et),$n=(0,d.normalize)(Lt,Lt))}if(xn){const hr=xn.forceVariance*Te;let wr=xn.forceAverage*Te;hr>0&&(wr+=2*Math.random()*hr-hr),Ue[Cn]+=$n[0]*wr,Ue[wn]+=$n[1]*wr,Ue[Fn]+=$n[2]*wr}}}vt&&R.release(vt),R.release(Et),R.release(Lt),R.release(Tt)}}},RadialForce:function(l){const s=(0,d.clone)(l.position),h=l.shape?new Se[l.shape.type](l.shape):null,D=h?h[l.shape?.direction||"in"].bind(h):null,Y={position:s},fe={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0};return{components:["velocity","position"],set(de,xe,Te,Ne){"shapeTranslate"===de||"shapeRotate"===de||"shapeScale"===de?ji(h,de,xe,Te,Ne):de in Y?(0,d.set)(Y[de],xe,Te,Ne):de in fe&&(fe[de]=xe)},update(de,xe,Te,Ne){const Ue=de.get("position"),it=de.get("velocity"),vt=fe.forceAverage*Ne,Et=fe.forceVariance*Ne,Lt=h?R.get():null,Tt=R.get();for(let Gt=xe,Cn=3*Gt;Gt<Te;Gt++,Cn+=3)if(!D||D(At(Lt,h,Ue,Gt))){let fn=vt;Et>0&&(fn+=2*Math.random()*Et-Et);const xn=Cn+1,wn=Cn+2;Tt[0]=Ue[Cn]-s[0],Tt[1]=Ue[xn]-s[1],Tt[2]=Ue[wn]-s[2],(0,d.normalize)(Tt,Tt),it[Cn]+=Tt[0]*fn,it[xn]+=Tt[1]*fn,it[wn]+=Tt[2]*fn}Lt&&R.release(Lt),R.release(Tt)}}},SpriteAnimation:function(l,s,h){const f=h.spriteRows||0,D=h.spriteCols||1,Y=h.spriteStartFrame||0,fe=(h.spriteEndFrame||Math.max(0,f*D-1))-Y;return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],update(de,xe,Te,Ne){const Ue=de.get("uvTranslate"),it=de.get("spriteFrameDuration"),vt=de.get("spriteCurrentTime");for(let Et=xe,Lt=2*Et,Tt=Et+1;Et<Te;Et++,Lt+=2,Tt+=2){vt[Et]=(vt[Et]+Ne)%(fe*it[Et]);const Cn=Math.floor(vt[Et]/it[Et]);Ue[Lt]=Cn%D/D;const xn=Math.floor(Cn/D)+1;Ue[Tt]=-xn/f}}}},UniformForce:function(l){const s=(0,d.clone)(l.directionAverage),h=l.shape?new Se[l.shape.type](l.shape):null,D=h?h[l.shape?.direction||"in"].bind(h):null,Y={directionAverage:s},fe={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,directionVariance:l.directionVariance||0};return{components:["velocity","position"],set(de,xe,Te,Ne){"shapeTranslate"===de||"shapeRotate"===de||"shapeScale"===de?ji(h,de,xe,Te,Ne):de in Y?(0,d.set)(Y[de],xe,Te,Ne):de in fe&&(fe[de]=xe)},update(de,xe,Te,Ne){const Ue=de.get("position"),it=de.get("velocity"),{forceAverage:vt,forceVariance:Et,directionVariance:Lt}=fe,Tt=vt*Ne,Gt=Et*Ne,Cn=h?R.get():null,fn=R.get();for(let xn=xe,wn=3*xn;xn<Te;xn++,wn+=3)if(!D||D(At(Cn,h,Ue,xn))){let Fn=Tt;Gt>0&&(Fn+=2*Math.random()*Gt-Gt),(0,d.copy)(fn,s),Lt&&(fn[0]+=2*Math.random()*Lt-Lt,fn[1]+=2*Math.random()*Lt-Lt,fn[2]+=2*Math.random()*Lt-Lt,(0,d.normalize)(fn,fn)),it[wn]+=fn[0]*Fn,it[wn+1]+=fn[1]*Fn,it[wn+2]+=fn[2]*Fn}Cn&&R.release(Cn),R.release(fn)}}}},da={LifetimeKill:function(){return{components:["lifetime","age","dead"],update(l,s,h){const f=l.get("age"),D=l.get("lifetime"),Y=l.get("dead");for(let fe=s;fe<h;fe++)f[fe]>=D[fe]&&(Y[fe]=!0)}}},LifetimeStop:function(){return{components:["lifetime","age","stopped"],update(l,s,h){const f=l.get("age"),D=l.get("lifetime"),Y=l.get("stopped");for(let fe=s;fe<h;fe++)f[fe]>=D[fe]&&(Y[fe]=!0)}}},PathRadius:function(l,s){const{path:h=[]}=s;return{components:["position","pathIndex"],update(f,D,Y){const fe=f.get("position"),de=f.get("pathIndex");for(let xe=D,Te=3*xe;xe<Y;xe++,Te+=3){const Ne=de[xe],Ue=Ne>0?h[Ne]:null;if(Ue){const it=Te+1,vt=Te+2;en[0]=fe[Te],en[1]=fe[it],en[2]=fe[vt],(0,d.subtract)(Sn,en,h[Ne-1].position);const Lt=(0,d.dot)(Sn,Ue.dir);(0,d.scale)(ir,Ue.dir,Lt),(0,d.subtract)(ir,Sn,ir);const Tt=(0,d.squaredLength)(ir);if(Tt>Ue.radiusSquared){(0,d.normalize)(ir,ir);const Gt=(0,d.scale)(ir,ir,Math.sqrt(Ue.radiusSquared)-Math.sqrt(Tt));fe[Te]=Gt[0],fe[it]=Gt[1],fe[vt]=Gt[2]}}}}}},PathKill:function(l,s){const{path:h=[]}=s,f=h.length;return{components:["position","path","pathIndex","dead"],update(D,Y,fe){const de=D.get("pathIndex"),xe=D.get("dead");for(let Te=Y;Te<fe;Te++)de[Te]>=f&&(xe[Te]=!0)}}},PathStop:function(l,s){const{path:h=[]}=s,f=h.length;return{components:["position","path","pathIndex","stopped"],update(D,Y,fe){const de=D.get("pathIndex"),xe=D.get("stopped");for(let Te=Y;Te<fe;Te++)de[Te]>=f&&(xe[Te]=!0)}}},ShapeBounce:function(l,s){const h=new Se[l.shape.type](l.shape),f=l.shape.direction||"in",D=!!l.trap,Y=s.trapId||0;D&&(s.trapId=Y+1);const fe=1<<Y,de=["position","velocity"];D&&de.push("trap");const xe=h[f].bind(h);return{components:de,set(Te,Ne,Ue,it){ji(h,Te,Ne,Ue,it)},update(Te,Ne,Ue){const it=Te.get("position"),vt=Te.get("velocity"),Et=D?Te.get("trap"):null,Lt=R.get();for(let Tt=Ne;Tt<Ue;Tt++)if(At(Lt,h,it,Tt),xe(Lt)){if(!D||Et[Tt]&fe){const Gt=3*Tt;h.surfaceProjection(Lt,Vr,Oi),it.set(Vr,Gt),Wr[0]=vt[Gt],Wr[1]=vt[Gt+1],Wr[2]=vt[Gt+2];const Cn=(0,d.length)(Wr);if(Cn){Wr[0]/=Cn,Wr[1]/=Cn,Wr[2]/=Cn;const fn=(0,d.dot)(Wr,Oi);(0,d.scale)(Gi,Oi,2*fn),(0,d.subtract)(Gi,Wr,Gi),(0,d.scale)(Gi,Gi,Cn)}else Gi[0]=0,Gi[1]=0,Gi[2]=0;vt.set(Gi,Gt)}}else D&&(Et[Tt]|=fe);R.release(Lt)}}},ShapeKill:function(l,s){const h=new Se[l.shape.type](l.shape),f=l.shape.direction||"in",D=!!l.trap,Y=s.trapId||0;D&&(s.trapId=Y+1);const fe=1<<Y,de=["position","dead"];D&&de.push("trap");const xe=h[f].bind(h);return{components:de,set(Te,Ne,Ue,it){ji(h,Te,Ne,Ue,it)},update(Te,Ne,Ue){const it=Te.get("position"),vt=Te.get("dead"),Et=D?Te.get("trap"):null,Lt=R.get();for(let Tt=Ne;Tt<Ue;Tt++)At(Lt,h,it,Tt),xe(Lt)?(!D||Et[Tt]&fe)&&(vt[Tt]=!0):D&&(Et[Tt]|=fe);R.release(Lt)}}},ShapeStop:function(l,s){const h=new Se[l.shape.type](l.shape),f=l.shape.direction||"in",D=!!l.trap,Y=s.trapId||0;D&&(s.trapId=Y+1);const fe=1<<Y,de=["position","stopped"];D&&de.push("trap");const xe=h[f].bind(h);return{components:de,set(Te,Ne,Ue,it){ji(h,Te,Ne,Ue,it)},update(Te,Ne,Ue){const it=Te.get("position"),vt=Te.get("stopped"),Et=D?Te.get("trap"):null,Lt=R.get();for(let Tt=Ne;Tt<Ue;Tt++)At(Lt,h,it,Tt),xe(Lt)?(!D||Et[Tt]&fe)&&(vt[Tt]=!0):D&&(Et[Tt]|=fe);R.release(Lt)}}}},Os={position:{construct:Float32Array,size:3},velocity:{construct:Float32Array,size:3},color:{construct:Uint8Array,size:4,geometry:!0},scale:{construct:Float32Array,size:1,geometry:!0,init:1},uvRotate:{construct:Float32Array,size:1,geometry:!0},uvTranslate:{construct:Float32Array,size:2,geometry:2,init(l,s,h,f){const{spriteRows:D=0,spriteCols:Y=1,spriteStartFrame:fe=0}=f,de=fe%Y/Y,xe=(D-1-Math.floor(fe/Y))/D;for(let Te=2*s,Ne=2*h;Te<Ne;Te+=2)l[Te]=de,l[Te+1]=xe}},dead:{init:!1},stopped:{init:!1}},Lo=(0,d.create)();class ps{playBackRate;emissionAverage;emissionVariance;bounds=Ye();arrays;particles;active;subSystemIds;update;reset;set;constructor(s){const{numParticles:h}=s,f=new Float32Array(3*h),D=new Float32Array(3*h),Y={position:{data:f,numComponents:3,drawType:35048}},fe=new Map([["position",f],["velocity",D]]),de={},xe=new Map;function Te(xn){return"function"==typeof xn?xn:(xn.components&&xn.components.forEach(wn=>{if(!fe.has(wn)){const Fn=Os[wn],$n=Fn?.construct||Array,pr=Fn?.size||1,hr=new $n(h*pr);fe.set(wn,hr),Fn?.geometry&&(Y[wn]={data:hr,drawType:35048,numComponents:pr})}}),xn.update)}const Ne=[];s.creators.filter(xn=>!!Wo[xn.type]||(console.error(`Undefined particle system creator: '${xn.type}'`,xn),!1)).forEach(xn=>{const wn=Wo[xn.type](xn,de,s),Fn=Te(wn);Ne.push(Fn),xn.id&&("function"!=typeof wn?xe.set(xn.id,wn):console.error("Cannot update component",xn.type))});const Ue=[];s.updaters?.filter(xn=>!!xs[xn.type]||(console.error(`Undefined particle system updater: '${xn.type}'`,xn),!1)).map(xn=>{const wn=xs[xn.type](xn,de,s),Fn=Te(wn);Ue.push(Fn),xn.id&&("function"!=typeof wn?xe.set(xn.id,wn):console.error("Cannot update component",xn.type))});const it=[];s.constraints?.filter(xn=>!!da[xn.type]||(console.error(`Undefined particle system constraint: '${xn.type}'`,xn),!1)).map(xn=>{const wn=da[xn.type](xn,de,s),Fn=Te(wn);it.push(Fn),xn.id&&("function"!=typeof wn?xe.set(xn.id,wn):console.error("Cannot update component",xn.type))});const vt=s.maxSpeed||0,Et=vt*vt;this.playBackRate=1,this.emissionAverage=s.emissionAverage??1,this.emissionVariance=s.emissionVariance||0,this.subSystemIds=new Set(xe.keys());let Lt=1/0,Tt=0,Gt=0;function Cn(xn){const wn=Tt-1;Tt--,xn!==wn&&fe.forEach((Fn,$n)=>{const pr=Os[$n];if(pr?.copy)return void pr.copy(Fn,wn,xn);const hr=pr?.size||1;if(1===hr)Fn[xn]=Fn[wn];else for(let wr=0,di=wn*hr,Ai=xn*hr;wr<hr;wr++,di++,Ai++)Fn[Ai]=Fn[di]})}function fn(xn){const wn=Gt;Gt++,xn!==wn&&fe.forEach((Fn,$n)=>{const pr=Os[$n];if(pr?.swap)return void pr.swap(Fn,wn,xn);const hr=pr?.size||1;if(1===hr){const wr=Fn[xn];Fn[xn]=Fn[wn],Fn[wn]=wr}else for(let wr=0,di=wn*hr,Ai=xn*hr;wr<hr;wr++,di++,Ai++){const ei=Fn[Ai];Fn[Ai]=Fn[di],Fn[di]=ei}})}this.update=xn=>{const wn=re(xn-Lt,0,Ro)*this.playBackRate;Lt=xn;let Fn=!1;if(Tt<h){const Di=this.emissionVariance*wn;let Fr=Math.max(this.emissionAverage*wn+2*Math.random()*Di-Di,0);if(Fr=Fr>=1?Math.floor(Fr):Math.random()<Fr?1:0,Fr>0){const Si=Math.min(Tt+Fr,h);fe.forEach((wi,po)=>{const io=Os[po];if("function"==typeof io?.init)return void io.init(wi,Tt,Si,s);const ns=io?.size||1,bi=io?.init??0;if(U(wi))wi.fill(bi,Tt*ns,Si*ns);else if(Array.isArray(wi))if(1===ns)for(let Lr=Tt;Lr<Si;Lr++)wi[Lr]=bi;else for(let Lr=Tt*ns,pi=Si*ns;Lr<pi;Lr++)wi[Lr]=bi}),Ne.forEach(wi=>{wi(fe,Tt,Si,wn)}),Tt=Si,Fn=!0}}if(Tt>Gt){Ue.forEach(Si=>{Si(fe,Gt,Tt,wn)});for(let Si=Gt,wi=3*Si,po=wi+1,io=wi+2;Si<Tt;Si++,wi+=3,po+=3,io+=3){if(Lo[0]=D[wi]*wn,Lo[1]=D[po]*wn,Lo[2]=D[io]*wn,Et>0){const ns=Lo[0]*Lo[0]+Lo[1]*Lo[1]+Lo[2]*Lo[2];if(ns>Et){const bi=Math.sqrt(ns);(0,d.scale)(Lo,Lo,vt/bi),D.set(Lo,wi)}}f[wi]+=Lo[0],f[po]+=Lo[1],f[io]+=Lo[2]}const Zi=fe.get("rotationSpeed");if(Zi){const Si=fe.get("uvRotate");for(let wi=Gt;wi<Tt;wi++)Si[wi]+=Zi[wi]*wn}const Di=fe.get("age"),Fr=fe.get("lifetime");if(Di&&Fr)for(let Si=Gt;Si<Tt;Si++)Di[Si]=Math.min(Di[Si]+wn,Fr[Si]);it.forEach(Si=>{Si(fe,Gt,Tt,wn)}),Fn=!0}const $n=fe.get("dead"),pr=fe.get("stopped");if($n||pr)for(let Zi=Tt-1;Zi>=Gt;Zi--)$n&&$n[Zi]?(Cn(Zi),Fn=!0):pr&&pr[Zi]&&(fn(Zi),Fn=!0);let hr=1/0,wr=1/0,di=1/0,Ai=-1/0,ei=-1/0,yi=-1/0;for(let Zi=0,Di=3*Zi,Fr=Di+1,Si=Di+2;Zi<Tt;Zi++,Di+=3,Fr+=3,Si+=3){const wi=f[Di],po=f[Fr],io=f[Si];wi<hr&&(hr=wi),po<wr&&(wr=po),io<di&&(di=io),wi>Ai&&(Ai=wi),po>ei&&(ei=po),io>yi&&(yi=io)}return(0,d.set)(this.bounds.min,hr,wr,di),(0,d.set)(this.bounds.max,Ai,ei,yi),Fn},this.reset=()=>{Tt=0,Gt=0},this.set=(xn,wn,Fn,$n,pr)=>{const hr=xe.get(xn);hr&&hr.set&&hr.set(wn,Fn,$n,pr)},Object.defineProperties(this,{arrays:{get:()=>Y},particles:{get:()=>Tt},active:{get:()=>Tt-Gt}})}}class Xo extends kn{#e=!1;#t;subSystemIds;update;load;start;pause;reset;set;get;constructor(s,h){var f;super(null,null),f=this,this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/(s.spriteCols||1),1/(s.spriteRows||1)],this.#t=new bt;const D=new ps(s),Y=this.geometry=new mt(D.arrays,D.bounds);Y.name=s.id,Y.topology=kt.points,Y.count=D.particles;let fe=null;this.load=()=>(fe||(fe=er(s,h).then(xe=>{this.material=xe})),fe),this.update=xe=>{this.#e||D.update(xe)&&(Y.count=D.particles,(0,d.copy)(Y.bounds.min,D.bounds.min),(0,d.copy)(Y.bounds.max,D.bounds.max),Y.emit("change",{geometry:Y,property:"attributes"}))},this.start=()=>{this.#e=!1},this.pause=()=>{this.#e=!0},this.reset=()=>{D.reset(),this.geometry.count=D.particles},this.set=(xe,Te,Ne,Ue,it)=>{D.set(xe,Te,Ne,Ue,it),void 0===Ue&&void 0===it?this.#t.set(xe,Te,Ne):this.#t.set(xe,Te,[Ne,Ue,it])},this.get=(xe,Te)=>this.#t.get(xe,Te);const de=this.destroy;this.destroy=r(function*(){f.geometry?.destroy(),f.geometry=null,de(),!f.material&&fe&&(yield fe),f.material?.destroy(),f.material=null}),Object.defineProperties(this,{id:{writable:!1,value:s.id},name:{writable:!1,value:s.name||""},subSystemIds:{writable:!1,value:D.subSystemIds},loaded:{get:()=>!!this.material},playBackRate:{get:()=>D.playBackRate,set:xe=>{if(xe<=0)throw new Error("Negative or zero playback rate not supported");D.playBackRate=xe}},emissionAverage:{get:()=>D.emissionAverage,set(xe){D.emissionAverage=xe}},emissionVariance:{get:()=>D.emissionVariance,set(xe){D.emissionVariance=xe}}})}}const Ns={};function zn(l,s){Ns[l]&&console.warn(`Worker '${l}' is already registered`,Ns[l]),Ns[l]=s}function Wn(l){const s=Ns[l];if(!s)throw new Error(`Worker ${l} is not registered.`);return s()}class Nr extends A{arrays={};particles=0;bounds=Ye()}class li{add;remove;start;pause;reset;setPlayBackRate;setEmissionAverage;setEmissionVariance;set;destroy;constructor(){let s=null,h=0;const f=new Map;function D(){if(s){if(!f.size)return clearTimeout(h),void(h=setTimeout(D,5e3));s.terminate(),s.onmessage=null,s=null}}function Y(de){const{id:xe,particles:Te,arrays:Ne,bounds:Ue}=de.data,{emitter:it}=f.get(xe);it.particles=Te,(0,d.copy)(it.bounds.min,Ue.min),(0,d.copy)(it.bounds.max,Ue.max);const vt=[],Et=[];Object.keys(Ne).forEach(Lt=>{const{data:Tt,...Gt}=Ne[Lt];if(it.arrays[Lt]){if(Te>0){const Cn=Te*(Gt.numComponents||3),fn=Tt.subarray(0,Cn);it.arrays[Lt].data.subarray(0,Cn).set(fn)}}else it.arrays[Lt]={...Gt,data:Tt.slice()};Et.push(Tt),vt.push(Tt.buffer)}),it.emit("update"),s&&s.postMessage({command:"returnArrays",arrays:Et},vt)}function fe(de){const{command:xe,id:Te}=de.data;if("update"===xe)Y(de);else if("create"===xe){const Ne=f.get(Te);Y(de),Ne.resolved||(Ne.resolved=!0,Ne.resolve(Ne.emitter))}}this.add=de=>{const{id:xe}=de;if(f.has(xe))return console.warn(`Simulation worker manager: Simulation already exists: '${xe}'`),f.get(xe).promise;let Te,Ne;const Ue=new Promise((it,vt)=>{Te=it,Ne=vt});return(s||(s=Wn("simulation"),s.onmessage=fe),s).postMessage({command:"create",id:xe,def:de}),f.set(xe,{emitter:new Nr,resolve:Te,reject:Ne,promise:Ue,resolved:!1}),Ue},this.remove=de=>{f.has(de)?(f.delete(de),s&&(s.postMessage({command:"destroy",id:de}),f.size||(clearTimeout(h),h=setTimeout(D,5e3)))):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.start=de=>{f.has(de)?s&&s.postMessage({command:"start",id:de}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.pause=de=>{f.has(de)?s&&s.postMessage({command:"pause",id:de}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.reset=de=>{f.has(de)?s&&s.postMessage({command:"reset",id:de}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.setPlayBackRate=(de,xe)=>{f.has(de)?s&&s.postMessage({command:"playBackRate",id:de,value:xe}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.setEmissionAverage=(de,xe)=>{f.has(de)?s&&s.postMessage({command:"emissionAverage",id:de,value:xe}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.setEmissionVariance=(de,xe)=>{f.has(de)?s&&s.postMessage({command:"emissionVariance",id:de,value:xe}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.set=(de,xe,Te,Ne,Ue,it)=>{f.has(de)?s&&s.postMessage({command:"set",id:de,componentId:xe,key:Te,x:Ne,y:Ue,z:it}):console.warn(`Simulation worker manager: Simulation not found: '${de}'`)},this.destroy=()=>{f.forEach(de=>{de.resolved||de.reject(new Error("Simulation worker manager terminated."))}),f.clear(),D()}}}class hi extends kn{subSystemIds;#e;update;load;start;pause;reset;set;get;constructor(s,h,f){var D;super(null,null),D=this;const{id:Y,name:fe}=s;let de=null;this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/s.spriteCols||1,1/s.spriteRows||1],this.subSystemIds=new Set([...s.creators.map(vt=>vt.id),...s.updaters?.map(vt=>vt.id)||[],...s.constraints?.map(vt=>vt.id)||[]].filter(vt=>"string"==typeof vt)),this.#e=new bt;let xe=null;this.load=()=>(xe||(xe=Promise.all([er(s,f),h.add(s)]).then(([vt,Et])=>{this.material=vt,de=Et;const Lt=new mt(Et.arrays,Et.bounds);Lt.name=s.id,Lt.topology=kt.points,Lt.count=Et.particles,de.on("update",()=>{Lt.count=Et.particles,(0,d.copy)(Lt.bounds.min,Et.bounds.min),(0,d.copy)(Lt.bounds.max,Et.bounds.max),Lt.emit("change",{geometry:Lt,property:"attributes"})}),this.geometry=Lt})),xe),this.update=()=>{},this.start=()=>h.start(Y),this.pause=()=>h.pause(Y),this.reset=()=>{h.reset(Y),this.geometry&&(this.geometry.count=0)},this.set=(vt,Et,Lt,Tt,Gt)=>{h.set(Y,vt,Et,Lt,Tt,Gt),void 0===Tt&&void 0===Gt?this.#e.set(vt,Et,Lt):this.#e.set(vt,Et,[Lt,Tt,Gt])},this.get=(vt,Et)=>this.#e.get(vt,Et);const Te=this.destroy;this.destroy=r(function*(){D.pause(),h.remove(Y),Te(),xe&&(yield xe,D.geometry?.destroy(),D.geometry=null,D.material?.destroy(),D.material=null)});let Ne=this.playBackRate,Ue=this.emissionAverage,it=this.emissionVariance;Object.defineProperties(this,{id:{writable:!1,value:Y},name:{writable:!1,value:fe||""},loaded:{get:()=>!!this.material},playBackRate:{get:()=>Ne,set:vt=>{if(vt<=0)throw new Error("Negative or zero playback rate not supported");Ne=vt,h.setPlayBackRate(Y,Ne)}},emissionAverage:{get:()=>Ue,set(vt){Ue=vt,h.setEmissionAverage(Y,Ue)}},emissionVariance:{get:()=>it,set(vt){it=vt,h.setEmissionVariance(Y,it)}}})}}const ni={lights:[{lightId:"light0",params:{mode:"ambient",color:{r:.2,g:.2,b:.2,diffuse:!0}}},{lightId:"light1",params:{mode:"dir",dir:{x:1,y:0,z:-.5},color:{r:.1,g:.1,b:.2},diffuse:!0,specular:!0,space:"view"}},{lightId:"light2",params:{mode:"dir",dir:{x:-1,y:0,z:1},color:{r:.55,g:.5,b:.5},diffuse:!0,specular:!0,space:"view"}},{lightId:"light3",params:{mode:"dir",dir:{x:.25,y:0,z:-1},color:{r:.9,g:.9,b:.9},diffuse:!0,specular:!1,space:"view"}}]},Hi=w(34525);function oo(l,s,h){return l+h*(s-l)}function Eo(l,s,h,f){const D=1-f;return s+D*D*(l-s)+f*f*(h-s)}const Ui=[{name:"left",dim:0,direction:1},{name:"right",dim:0,direction:-1},{name:"bottom",dim:1,direction:1},{name:"top",dim:1,direction:-1},{name:"front",dim:2,direction:1},{name:"back",dim:2,direction:-1}];function os({clips:l,boundary:s,enabled:h}){if(!l||!1===h)return[];const{xmin:f=-1/0,xmax:D=1/0,ymin:Y=-1/0,ymax:fe=1/0,zmin:de=-1/0,zmax:xe=1/0}=s||{},Te=[D,fe,xe],Ne=[f,Y,de],Ue=[];return Ui.forEach(({name:it,dim:vt,direction:Et})=>{const Lt=l[it];if(!Lt?.enabled||!Lt?.progress&&!Lt?.fadeDistance)return;const Tt=(0,Hi.create)();Tt[vt]=Et;const Gt=Lt.fade&&Lt.fadeDistance||0,fn=oo(Ne[vt],Te[vt],Et>0?Lt.progress:1-Lt.progress)-Gt*Et;Tt[3]=-Et*fn,Ue.push({plane:Tt,fade:Gt})}),Ue.sort((it,vt)=>it.fade-vt.fade),Ue}function es(l,s,h){if(!l.length)return 0;const f=Math.max(l.length-1,0);let D=re(h,0,f);for(;D>0&&l[D].time>s;)D--;let Y=D+1;for(;Y<=f&&l[Y].time<=s;)Y++;return D=Y-1,D}class rs{keyFrames=[];value={};targetData;keyFrameIndex=0;constructor(s){this.targetData=s}update(s){const{keyFrames:h}=this;if(!h.length)return;this.keyFrameIndex=re(es(h,s,this.keyFrameIndex),0,h.length-1);const{operations:f}=h[this.keyFrameIndex];for(const D in f)if(Object.prototype.hasOwnProperty.call(f,D)){const Y=f[D];if(Array.isArray(Y)){const fe=Y;for(let de=0;de<fe.length;de++){const xe=fe[de],Te={};for(const Ne of Object.keys(xe))if("function"==typeof xe[Ne])Te[Ne]=xe[Ne](s);else{Te[Ne]={};for(const Ue of Object.keys(xe[Ne]))Te[Ne][Ue]=xe[Ne][Ue](s)}this.value[D][de]=Te}}else{const fe=this.value[D];for(const de in Y)if(Object.prototype.hasOwnProperty.call(Y,de)){const xe=Y[de](s);fe[de]=xe}}}}}function Ps(l,s,h,f){const D=s-l;if("object"!=typeof f){if(!D)return()=>f;const Te=f,Ne="object"==typeof h?h.value:h;return Ue=>{const it=re((Ue-l)/D,0,1);return oo(Ne,Te,it)}}const Y=f.value,fe="object"==typeof h?h.value:h,[de,xe]=f.controlPoints.y;return Te=>{const Ne=re((Te-l)/D,0,1);return Et=Y,(1-(Lt=Ne))*Eo(fe,it=de,vt=xe,Lt)+Lt*Eo(it,vt,Et,Lt);var it,vt,Et,Lt}}class Oo extends rs{constructor(s,h){super(s);const{keyFrames:f}=this,{targets:D,keys:Y}=s;if(D.length<2)console.warn("Animations require at least two keyframes"+(h?`(${h})`:""));else for(let fe=0,de=1;de<D.length;fe++,de++){const xe=Y[fe],Te=Y[de],Ne=D[de],Ue=D[fe],it=f[fe]={time:xe,endTime:Te,operations:{}};for(const vt in Ne)if(Object.prototype.hasOwnProperty.call(Ne,vt)){const Et=Ne[vt];if(Et){const Lt=Array.isArray(Et);if(this.value[vt]=Lt?[]:{},Lt){const Tt=Ne[vt],Gt=Ue[vt],Cn=it.operations[vt]=[];for(let fn=0;fn<Et.length;fn++){const xn={},wn=Et[fn];for(const Fn of Object.keys(wn))if(xn[Fn]={},"number"==typeof Tt[fn][Fn])xn[Fn]=Ps(xe,Te,Gt[fn][Fn],Tt[fn][Fn]);else if("object"==typeof Tt[fn][Fn])for(const $n of Object.keys(wn[Fn]))xn[Fn][$n]=Ps(xe,Te,Gt[fn][Fn][$n],Tt[fn][Fn][$n]);Cn.push(xn)}}else{const Tt=Ne[vt],Gt=Ue[vt],Cn=it.operations[vt]={};for(const fn in Et)Object.prototype.hasOwnProperty.call(Et,fn)&&(Cn[fn]=Ps(xe,Te,Gt[fn],Tt[fn]))}}}}}}const Ts={x:0,y:1,z:2},gs=Math.PI/180,ha={translate(l,s,h){const f=Ts[s];return l.position[f]!==h&&(l.position[f]=h,!0)},scale(l,s,h){const f=Ts[s];return l.scale[f]!==h&&(l.scale[f]=h,!0)},pivot(l,s,h){const f=Ts[s];return l.origin[f]!==h&&(l.origin[f]=h,!0)},rotate(l,s,h){const f=Ts[s];return l.rotation[f]!==(h*=gs)&&(l.rotation[f]=h,!0)}};class Es extends Oo{sceneNode;constructor(s,h,f,D){super(s,f);const Y=/[.-]/.test(s.objectId)?s.objectId:D+"-"+s.objectId,fe=h.story.anatomySceneGraph.anatomyObjects.get(Y);this.sceneNode=fe?.sceneNode||null}update(s){if(this.sceneNode){super.update(s);for(const h in this.value)if(Object.prototype.hasOwnProperty.call(this.value,h)){const f=this.value[h],D=ha[h],Y=this.value[h];for(const fe in f)Object.prototype.hasOwnProperty.call(f,fe)&&D(this.sceneNode,fe,Y[fe])&&this.sceneNode.dirtyMatrix()}}}}function Vo(l,s){l[0]=s.r,l[1]=s.g,l[2]=s.b}const Ls=(l,s)=>{Vo(l.baseColor,s),l.emit("change",{material:l,property:"baseColor"})},_s=(l,s)=>{l.opacity=s.float},ea={baseColor:Ls,opacity:_s},us={baseColor:Ls,opacity:_s,metallic(l,s){l.metallic=s.float},roughness(l,s){l.roughness=s.float},ior(l,s){l.ior=s.float},specularFactor(l,s){l.specularFactor=s.float},emissive(l,s){Vo(l.emissive,s),l.emit("change",{material:l,property:"emissive"})},specularColor(l,s){Vo(l.specularColor,s),l.emit("change",{material:l,property:"specularColor"})}},Gn={alphaColor(l,s){l.opacity=s.float},baseColor:Ls,emitColor(l,s){Vo(l.emitColor,s),l.emit("change",{material:l,property:"emitColor"})},specularColor(l,s){Vo(l.specularColor,s),l.emit("change",{material:l,property:"specularColor"})}};function Yn(l,s,h){for(const f in h)Object.prototype.hasOwnProperty.call(h,f)&&(0,l[f])(s,h[f])}class or extends Oo{materialId;story;constructor(s,h,f,D){super(s,f),this.materialId=D+"/"+s.targetId,this.story=h.story}update(s){const h=this.story.materials.get(this.materialId);h&&(super.update(s),h instanceof on?Yn(ea,h,this.value):h instanceof Hn?Yn(us,h,this.value):h instanceof Ht&&Yn(Gn,h,this.value))}}const Cr={blend:(l,s)=>l.blendFactor!==s.factor&&(l.blendFactor=s.factor,!0)};class fi extends Oo{materialId;story;textureLayer;textureMapType;constructor(s,h,f,D){super(s,f),this.materialId=D+"/"+s.materialId,this.story=h.story,this.textureLayer=s.targetLayer,this.textureMapType=s.textureMapType||""}update(s){const h=this.story.materials.get(this.materialId);if(!h)return;const f=h instanceof Ht?h.textures[this.textureLayer]:h[this.textureMapType]?.[this.textureLayer];if(f){super.update(s);for(const D in this.value)Object.prototype.hasOwnProperty.call(this.value,D)&&(0,Cr[D])(f,this.value[D])&&h.emit("change",{material:h,property:"textures.blendFactor"})}}}const Fi=l=>(s,h,f,D)=>{const{x:Y,y:fe,z:de,val:xe,rmin:Te,rmax:Ne}=h;void 0===Y||isNaN(xe)?s.modifiers.delete(f):s.modifiers.set(f,{applyTo:l,value:xe,range:{center:[Y,fe,de],minRadius:Te,maxRadius:Ne},parent:D,priority:0})},so={tnt(l,s,h,f){const{x:D,y:Y,z:fe,r:de,g:xe,b:Te,rmin:Ne,rmax:Ue}=s;void 0===D||isNaN(de)?l.modifiers.delete(h):l.modifiers.set(h,{applyTo:"tintColor",value:[de,xe,Te],range:{center:[D,Y,fe],minRadius:Ne,maxRadius:Ue},parent:f,priority:0})},brt:Fi("brightness"),sat:Fi("saturation"),o:Fi("opacity"),cst:Fi("contrast")};class Co extends Oo{id;chapter;objects;constructor(s,h,f,D){super(s,f),this.id=f,this.objects=[],this.chapter=h;const{anatomyObjects:Y}=h.story.anatomySceneGraph;(Array.isArray(s.objectIds)?s.objectIds:[s.objectId||""]).forEach(fe=>{const de=/[.-]/.test(fe)?fe:D+"-"+fe,xe=Y.get(de);xe?this.objects.push(xe):console.warn("missing tween target object: "+fe)})}update(s){if(this.objects.length){super.update(s);for(const h in this.value)if(Object.prototype.hasOwnProperty.call(this.value,h)){const f=so[h],D=this.value[h],Y=h+"-"+this.id;this.objects.forEach(fe=>{f(fe,D,Y,this.chapter.contentNode)})}}}}const eo={alphaFresnel:!0,transparencyFresnel:!0,reflectionFresnel:!0,opacityFresnel:!0},Wt={bias(l,s,h){const f=l[h];let D=!1;return f&&(isNaN(s.center)||f.biasCenter===s.center||(f.biasCenter=s.center,D=!0),isNaN(s.edge)||f.biasEdge===s.edge||(f.biasEdge=s.edge,D=!0),isNaN(s.power)||f.power===s.power||(f.power=s.power,D=!0)),D},center(l,s,h){const f=l[h];if(f)if(h in eo)f.center=s.r;else if("number"!=typeof s){const D=f.center;D[0]=s.r,D[1]=s.g,D[2]=s.b}},edge(l,s,h){const f=l[h];if(f)if(h in eo)f.edge="number"==typeof s?s:s.r;else if("number"!=typeof s){const D=f.edge;D[0]=s.r,D[1]=s.g,D[2]=s.b}},gradientStops(l,s,h){const f=l[h];if(!f)return;const{gradientStops:D}=f;if(D)for(let Y=0;Y<D.length;Y++){const fe=s[Y],de=D[Y];"color"in fe?(de.color[0]=fe.color.r,de.color[1]=fe.color.g,de.color[2]=fe.color.b):de.value=fe.value,de.position=fe.position,de.power=fe.power}}};class mn extends Oo{fresnelType;materialId;story;constructor(s,h,f,D){super(s,f),this.fresnelType=s.fresnelType,this.materialId=D+"/"+s.materialId,this.story=h.story}update(s){const h=this.story.materials.get(this.materialId);if(h){(f=h)[D=this.fresnelType]||(f[D]=eo[D]?{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:0,edge:0}:{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:(0,d.create)(),edge:(0,d.create)()},f.emit("change",{material:f})),super.update(s);for(const f in this.value)Object.prototype.hasOwnProperty.call(this.value,f)&&!1!==(0,Wt[f])(h,this.value[f],this.fresnelType)&&h.emit("change",{material:h,property:"fresnel"})}var f,D}}class _n extends Oo{story;textureLayer;constructor(s,h,f){super(s,f),this.story=h.story}update(s){const{cameraController:h}=this.story;if(!h)return;super.update(s);const{eye:f,look:D,up:Y}=this.value;if(f){const{x:fe,y:de,z:xe}=f;h.setPosition(fe*ce,de*ce,xe*ce)}if(D){const{x:fe,y:de,z:xe}=D;h.setTarget(fe*ce,de*ce,xe*ce),(0,d.copy)(h.center,h.target)}if(Y){const{x:fe,y:de,z:xe}=Y;h.setUp(fe,de,xe)}}}class fr extends rs{constructor(s,h){super(s);const{keyFrames:f}=this,{targets:D,keys:Y}=s;if(D.length<2)console.warn("Animations require at least two keyframes"+(h?`(${h})`:""));else for(let fe=0,de=1;de<D.length;fe++,de++){const Te=Y[de],Ne=D[fe],Ue=D[de],it=f[fe]={time:Y[fe],endTime:Te,operations:{}},vt=de+1===D.length;for(const Et in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Et)){const Lt=Ne[Et];if(Lt){this.value[Et]={};const Tt=it.operations[Et]={},Gt=Ue[Et],Cn=Ne[Et];for(const fn in Lt)if(Object.prototype.hasOwnProperty.call(Lt,fn)){const xn=Cn[fn];if(vt){const wn=Gt[fn];Tt[fn]=Fn=>Fn>=Te?wn:xn}else Tt[fn]=()=>xn}}}}}}function Tr(l,s){s(l);for(let h=0;h<l.children.length;h++)Tr(l.children[h],s)}const lr={shown(l,s,h,f){const{showObjects:D}=f;Tr(l,Y=>{!1!==D?.[Y.objectId]&&h.push([Y,s])})},pickable(l,s){Tr(l,h=>h.pickable=s)}};class Br extends fr{chapterDef;object;constructor(s,h,f,D){super(s,f);const Y=/[.-]/.test(s.objectId)?s.objectId:D+"-"+s.objectId,{anatomyObjects:fe}=h.story.anatomySceneGraph;this.chapterDef=h.definition,this.object=fe.get(Y)||null}update(s,h){if(!this.object||!this.value.attr)return;h&&!h.shownChanges&&(h.shownChanges=[]),super.update(s);const{attr:f}=this.value;for(const D in f)Object.prototype.hasOwnProperty.call(f,D)&&(0,lr[D])(this.object,f[D],h.shownChanges,this.chapterDef)}}class jr extends Oo{chapter;particleSystemId;constructor(s,h,f){super(s,f);const D=h.id,Y=h.story.module.tweenParticleLookup?.[D];this.particleSystemId=Y?.[s.particleSystemId]||s.particleSystemId,this.chapter=h}update(s){const h=this.chapter.particleSystems.get(this.particleSystemId);if(h){super.update(s);for(const f in this.value.attr)Object.prototype.hasOwnProperty.call(this.value.attr,f)&&(h[f]=this.value.attr[f])}}}class ui extends Oo{chapter;particleSystemId;subSystemId;constructor(s,h,f){super(s,f);const D=h.id,Y=h.story.module.tweenParticleLookup?.[D];this.particleSystemId=Y?.[s.particleSystemId]||s.particleSystemId,this.chapter=h,this.subSystemId=s.componentId;const fe=this.chapter.particleSystems.get(this.particleSystemId);fe&&!fe.subSystemIds.has(this.subSystemId)&&console.warn("Unknown particle sub-system",this.particleSystemId,this.subSystemId)}update(s){const h=this.chapter.particleSystems.get(this.particleSystemId);if(h){super.update(s);for(const f in this.value)if(Object.prototype.hasOwnProperty.call(this.value,f))if("attr"===f){const D=this.value.attr;for(const Y in D)Object.prototype.hasOwnProperty.call(D,Y)&&h.set(this.subSystemId,Y,D[Y])}else{const D=this.value[f];void 0!==D.x&&h.set(this.subSystemId,f,D.x,D.y,D.z)}}}}const Jr={objectXForm:Es,material:or,texture:fi,objectAttr:Co,fresnel:mn,particleSystem:jr,particleComponent:ui,camera:_n},Wi={tween:Jr,lerp:Jr,switch:{objectAttr:Br}},ao={switch:{objectAttr:function(l){const{shownChanges:s}=l;if(s){const h=new Map;for(let f=0;f<s.length;f++){const[D,Y]=s[f];Y&&h.has(D)||h.set(D,Y)}h.forEach((f,D)=>{D.shown=f}),s.length=0}}}};class vo{currentTime;root;duration;destroy;constructor(s){const{story:h,timelineMap:f}=s,{anatomyObjects:D}=s.story.anatomySceneGraph;let Y=0,fe=0;this.root=h.contentNode;const de={},xe={},Te=new Map,Ne=()=>{Y=Array.from(Te.values()).reduce((fn,xn)=>Math.max(fn,xn.end),0),fe>Y&&(fe=Y)},Ue={},it=new Set;function vt(fn){xe[fn.timelineId]?.forEach(wn=>{Object.entries(wn.tweens||{}).forEach(([Fn,$n])=>{const[pr,hr]=$n.type.split(":");if(Wi[pr]){const wr=Wi[pr][hr];if(!wr)throw new Error("Unsupported tween type: "+hr);const di=ao[pr]?.[hr];di&&it.add(di);const Ai=new wr($n,s,Fn,fn.timelineId);fn.tweens.push(Ai)}else console.warn(`"${pr}" animations not implemented yet.`,$n)})})}function Et(fn,xn){const{start:wn,end:Fn,data:$n}=fn,{start:pr,end:hr,fit:wr,onEnd:di}=$n,Ai={start:wn,end:Fn,inPoint:pr,outPoint:hr,fit:wr,onEnd:di,tweens:[],timelineId:$n.timeline,morphRenderables:de[$n.timeline]||null};Te.set(xn,Ai),vt(Ai)}function Lt(){Object.keys(s.tweens).forEach(fn=>{const xn=fn.replace(/\/.*/,"");let wn=xe[xn];xe[xn]||(wn=xe[xn]=[]),wn.push(s.tweens[fn])}),Te.forEach(vt),s.active&&Tt()}function Tt(){Te.forEach(fn=>{const{fit:xn,onEnd:wn,start:Fn,end:$n,inPoint:pr,outPoint:hr}=fn;if(fe<Fn||fe>$n)return;const wr=hr-pr,di=xn?wr/($n-Fn):1;let Ai=(fe-Fn)*di+pr;const ei=di>=0?hr:pr,yi=di>=0?pr:hr;var Zi,Di;Ai>ei&&(Ai="loop"===wn?(Di=wr,(Zi=Ai-yi)-Math.floor(Zi/Di)*Di+yi):ei),fn.tweens.forEach(Fr=>Fr.update(Ai,Ue)),it.forEach(Fr=>Fr(Ue)),fn.morphRenderables&&fn.morphRenderables.forEach(Fr=>{const{meshNode:Si}=Fr;if(!Si)return;const{morphKeys:wi}=Si.geometry;if(!wi.length)return console.warn(`Animation clip ${fn.timelineId} is missing morph data for ${Fr.morphId}`),void fn.morphRenderables.delete(Fr);const po=re(es(wi,Ai,Si.morphKeyIndex),0,wi.length-2),io=wi[po].time,bi=re((Ai-io)/(wi[po+1].time-io),0,1);Si.morphKeyIndex=po,Si.morphFactor=bi})})}function Gt(){s.tweens&&(s.off("progress",Gt),Lt())}function Cn(fn){const xn=Te.has(fn),wn=f.get(fn);wn?Et(wn,fn):xn&&Te.delete(fn),xn?Ne():Y=Math.max(Y,wn.end),Tt()}D.forEach(fn=>{fn.renderables.forEach(xn=>{const{morphId:wn}=xn;if(wn){const Fn=wn.replace(/\/.*$/,"");de[Fn]||(de[Fn]=new Set),de[Fn].add(xn)}})}),s.tweens?Lt():s.on("progress",Gt),s.on("activate",Tt),f.on("change",Cn),f.forEach(Et),Ne(),Object.defineProperties(this,{currentTime:{get:()=>fe,set(fn){(fn=re(fn,0,this.duration))!==fe&&(fe=fn,s.active&&Tt())}},duration:{get:()=>Y}}),this.destroy=()=>{f.off("change",Cn),s.off("progress",Gt),s.off("activate",Tt)},Tt()}}function _o(l,s,h){if("string"==typeof s&&(s=s.split(".")),!s.length)return l;const[f,...D]=s;if(!D.length)return l[f]=h,l;let Y=l[f];return Y||(Y=l[f]={}),_o(Y,D,h),l}function wo(l,s={}){return l&&Object.keys(l).forEach(h=>{_o(s,h,l[h])}),s}const Po={"annotations.margins":{top:80,left:50,right:50,bottom:50},"annotations.labelWidth":120,"annotations.horizontalLines":!1,"annotations.fadeoutAngle":100,"annotation.layout.labelWidth":100,"annotations.layout.type":"draggable","camera.optics.near":.1,"camera.optics.far":5e3,"camera.optics.fov":55,"camera.zoomLimits":{max:300,min:.01},"fog.color":[1,1,1],"fog.density":.01,"fog.enabled":!1,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.mode":1,"fog.start":0,"timeline.autoPlay.enabled":!1,"timeline.autoPlay.type":"play","timeline.chapterCamerasEnabled":!0,"timeline.prevNextMode":"scrub","ui.mouseWheel.capture":!0,"ui.zoom.mouseWheel.enabled":!0};let xo=function(l){return l.Alpha="alpha",l.ImprovedAlpha="improvedAlpha",l.AddAlpha="addAlpha",l.AlphaToCoverage="alphaToCoverage",l}({}),Qo=function(l){return l[l.LeftClip=0]="LeftClip",l[l.RightClip=1]="RightClip",l[l.BottomClip=2]="BottomClip",l[l.TopClip=3]="TopClip",l[l.FrontClip=4]="FrontClip",l[l.BackClip=5]="BackClip",l}({}),tt=function(l){return l[l.Linear=1]="Linear",l[l.Exponential=2]="Exponential",l[l.ExponentialSquared=3]="ExponentialSquared",l}({});class Qt extends Ce{castShadow;type;color;diffuse;specular;innerCone;outerCone;constantAttenuation;linearAttenuation;quadraticAttenuation;viewSpace;constructor(s){const{castShadow:h=!0,type:f="dir",color:D,diffuse:Y,specular:fe,innerCone:de,outerCone:xe,constantAttenuation:Te,linearAttenuation:Ne,quadraticAttenuation:Ue,...it}=s||{};super(it),this.castShadow=h,this.type=f,this.color=void 0===D?(0,d.fromValues)(1,1,1):(0,d.clone)(D),this.diffuse=Y??!0,this.specular=fe??!0,this.innerCone=de??.25,this.outerCone=xe??0,this.constantAttenuation=Te??0,this.linearAttenuation=Ne??0,this.quadraticAttenuation=Ue??0,this.viewSpace=it.viewSpace||!1}}class He extends Ce{castShadow;type="";intensity;color;constructor(s){const{castShadow:h=!0,intensity:f,color:D,...Y}=s||{};super(Y),this.castShadow=h,this.intensity=f??1,this.color=void 0===D?(0,d.fromValues)(1,1,1):(0,d.clone)(D)}}class j extends He{constructor(s){super(s),this.type="ambient"}}class pe extends He{constructor(s){super(s),this.type="directional"}}class k extends He{constructor(s){super(s),this.type="point"}}class le extends He{outerConeAngle;penumbraAngle;constructor(s){const{outerConeAngle:h,penumbraAngle:f,...D}=s||{};super(D),this.type="spot",this.outerConeAngle=h??Math.PI/4,this.penumbraAngle=f??0}}const q={ambient:j,directional:pe,point:k,spot:le},Je=Math.PI/180;function Xn(){let l,s;return{promise:new Promise((h,f)=>{l=h,s=f}),resolve:l,reject:s}}function gr(l,...s){return(...h)=>l(...s,...h)}const Xi=(0,F.create)(),to=(0,F.create)();function _i(l,s,h){l.updateWorldMatrix();const f=R.get();(0,d.add)(f,l.position,l.origin),l.parent&&(0,d.transformMat4)(f,f,l.parent.worldMatrix),(0,F.targetTo)(Xi,f,s,h),l.parent&&((0,F.invert)(to,l.parent.worldMatrix),(0,F.multiply)(Xi,to,Xi)),R.release(f),(0,F.getRotation)(l.quaternion,Xi),(0,L.normalize)(l.quaternion,l.quaternion),"euler"===l.rotationSource&&Z(l.rotation,Xi),l.dirtyMatrix(),l.updateWorldMatrix()}function Qr(l,s,h){if(s.parent){const f=R.get();s.updateWorldMatrix(),(0,F.getTranslation)(f,s.worldMatrix),_i(l,f,h),R.release(f)}else _i(l,s.position,h)}class ot extends Ce{up;near;far;projectionMatrix;worldMatrixInverse;projectionDirty;dirtyProjection;updateProjectionMatrix;constructor(s={}){const{up:h,near:f,far:D,...Y}=s;super(Y),this.up=(0,d.create)(),O(this.up,h||[0,1,0]),this.near=f??.5,this.far=D??100,this.projectionMatrix=(0,F.create)(),this.worldMatrixInverse=(0,F.create)();const fe=this.updateWorldMatrix;this.updateWorldMatrix=()=>fe(()=>{(0,F.invert)(this.worldMatrixInverse,this.worldMatrix)})}lookAt(s){_i(this,s,this.up)}}class hn extends ot{aspect;fov;constructor(s={}){const{aspect:h,fov:f,...D}=s;super(D),this.aspect=h??1,this.fov=f??30*Math.PI/180;let Y=!0;this.dirtyProjection=()=>{Y=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{Y&&(0,F.perspective)(this.projectionMatrix,this.fov,this.aspect,this.near,this.far),Y=!1},Object.defineProperties(this,{dirty:{get:()=>Y||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>Y}})}}function Nt(l,s=l.properties){const{cameraController:h,camera:f}=l.story,{optics:D,zoomLimits:Y}=s.camera;f instanceof hn&&(f.fov=D.fov*Math.PI/180),f.far=D.far*ce,f.near=D.near*ce,f.dirtyProjection(),h.minDistance=Y.min*ce,h.maxDistance=Y.max*ce}function N(l,s){return V.apply(this,arguments)}function V(){return(V=r(function*(l,s){yield Promise.all(Array.from(s).map(h=>h.load()))})).apply(this,arguments)}class Oe extends A{clear;forEach;has;add;delete;size;entries;keys;values;[Symbol.iterator];[Symbol.toStringTag];constructor(s,h){super();const f=new Set,D=!!(h?.clone??1),Y=D&&!!(h?.freeze??D);if(this.forEach=(fe,de)=>(f.forEach((xe,Te)=>fe.call(de,xe,Te,this)),this),this.has=fe=>f.has(fe),this.entries=()=>f.entries(),this.keys=()=>f.keys(),this.values=()=>f.values(),this[Symbol.iterator]=()=>f[Symbol.iterator](),this[Symbol.toStringTag]=f[Symbol.toStringTag],this.clear=()=>{const fe=Array.from(f.keys());f.clear();for(const de of fe)this.emit("delete",de);return this},this.delete=fe=>!!f.has(fe)&&(f.delete(fe),this.emit("delete",fe),!0),this.add=fe=>(f.has(fe)||(D&&(fe=et(fe)),Y&&xt(fe),f.add(fe),this.emit("add",fe)),this),Object.defineProperties(this,{size:{get:()=>f.size}}),s)for(const fe of s)this.add(fe)}}const st=new Set(["transform"]),Rt=new Map([["shown",{tableProp:"showObjects",defaultValue:!1}],["pickable",{tableProp:"pickThroughObjects",transform:l=>!l,defaultValue:!0}],["occludesMarkers",{tableProp:"labelOccludingObjects",defaultValue:"auto",transform:l=>!0===l?"always":!1===l?"never":"auto"}]]),Jt=["opacity","saturation","brightness","contrast","tintColor"];function gn(l,s,h,f,D,Y=null){let fe=!1;return h?.forEach(de=>{const{objectId:xe}=de,Te={};l.set(xe,Te);const Ne=f?.[xe];Rt.forEach(({tableProp:Ue,transform:it,defaultValue:vt},Et)=>{const Lt=s[Ue]||D?.[Ue],Tt=Lt&&xe in Lt?it?it(Lt[xe]):Lt[xe]:Ne?.[Et]??st.has(Et)?void 0:Y?.[Et];Tt!==vt&&void 0!==Tt&&(Te[Et]=Tt)}),Jt.forEach(Ue=>{const it=Ne?.[Ue]??Y?.[Ue];(it||0===it)&&(Te[Ue]=it)}),gn(l,s,de.objects,f,D,Te)&&(Te.shown=!0),fe=fe||!0===Te.shown}),fe}function jn(l,s){const h=new Map;return gn(h,s,l.sceneGraph,s.synchronization,l),h}function Qn(l,s){const h=[];for(let f=0;f<l;f++)h.push(s(f));return h}class yr extends A{irradianceMode;intensity;quaternion;irradianceCoefficients;specularTexture;irradianceTexture;constructor(s){super();let h=s?.intensity??1,f=s?.specularTexture||null,D=s?.irradianceTexture||null,Y=s?.irradianceMode||(s.irradianceTexture?"image":"parametric");this.quaternion=(0,L.create)(),s?.quaternion&&(0,Hi.copy)(this.quaternion,s.quaternion),this.irradianceCoefficients=Qn(9,d.create),s?.irradianceCoefficients&&s.irradianceCoefficients.forEach((fe,de)=>{(0,d.copy)(this.irradianceCoefficients[de],fe)}),Object.defineProperties(this,{intensity:{get:()=>h,set:fe=>{fe!==h&&(h=fe,this.emit("change",{property:"intensity"}))}},irradianceMode:{get:()=>Y,set:fe=>{fe!==Y&&(Y=fe,this.emit("change",{property:"irradianceMode"}))}},specularTexture:{get:()=>f,set:fe=>{fe!==f&&(f=fe,this.emit("change",{property:"specularTexture"}))}},irradianceTexture:{get:()=>D,set:fe=>{fe!==D&&(D=fe,this.emit("change",{property:"irradianceTexture"}))}}})}update(s){this.emit("change",s?{property:s}:{})}}function mr(l,s){s(l),l.children.forEach(h=>mr(h,s))}class Or extends A{id;name;description;index;story;contentNode;environmentNode;properties;background;transparencyMode;fallbackTransparency;ui;clippingPlanes;definition;environment={};tweens=null;particleSystemIds;particleSystems;timelineMap;postProcess;loadProgress;active;animationSystem;physicalImageLight;toneMapping;load;activate;deactivate;reset;start;stop;update;cancelLoading;constructor(s,h,f,D){var Y;super(),Y=this,this.name=h.displayName||"Chapter"+(D??""),this.description=h.description||"",this.id=h.id||(s.module.moduleId||"chapter")+(D??""),this.index=D??-1,this.definition=h;const fe=new Set,de=new Set,xe=this.contentNode=new Ce({name:this.name+": content"}),Te=this.environmentNode=new Ce({name:this.name+": environment"});this.properties=function(Lr,pi={}){return wo(Po,pi),wo(Lr,pi),pi}(h.properties),this.clippingPlanes=new oe(os(h.clippingPlanes||{})),this.background=et(h.background||null),this.transparencyMode=h.transparencyMode||xo.Alpha,this.fallbackTransparency=h.fallbackTransparency||xo.Alpha,this.timelineMap=new Zt(h.timelineMap?.map((Lr,pi)=>[Lr.id||String(pi),Lr])),this.postProcess=et(h.customData?.postprocess||[]);const Ne=this.particleSystems=new Map,Ue=this.particleSystemIds=new Oe(h.customData?.particleSystems),it=new Set(h.timelineMap?.map(({data:Lr})=>Lr.timeline));this.ui=et(h.ui||{}),this.ui.play||(this.ui.play={}),"count"in this.ui.play||(this.ui.play.count=it.size>0?s.module.animation?.loop?-1:1:0);let vt,Et,Lt=!1,Tt=!1,Gt=null,Cn=!1,fn=0,xn=0,wn=null,Fn=St,$n=s.anatomySceneGraph.anatomyObjects.size;function pr(Lr){Et&&Et(Lr),Et=void 0,vt=void 0,Gt=null}Object.defineProperties(this,{loadProgress:{get:()=>fn},active:{get:()=>Lt},physicalImageLight:{get:()=>wn},toneMapping:{get:()=>Fn},story:{value:s,writable:!1}});const hr=()=>{const Lr=de.size,pi=de.size-fe.size,ho=Ne.size,vs=Array.from(Ne.values()).filter(_a=>_a.loaded).length,$s="environment"in h&&Object.keys(h.environment||{}).length||0,Ys=this.environment?$s:0,ra=s.module.assetLibraries?.tweens?.length||0,Ha=this.tweens?ra:0,Ya=Lr+ho+$s+ra+("lights"in h&&h.lights?.libraries?.length||1),la=Ya?(pi+vs+Ys+Ha+xn)/Ya:1;fn!==la&&(fn=la,this.emit("progress"))};function wr(Lr){return di.apply(this,arguments)}function di(){return di=r(function*(Lr){const pi="default"===Lr?ni:yield f.getAssetLibrary("lights",Lr,"outline");if(pi.lights.forEach(ho=>{(function(l){const{displayName:s,lightId:h}=l,f=s||h;if("params"in l){const{params:fe}=l,{color:de,dir:xe,pos:Te,mode:Ne,space:Ue,...it}=fe,vt=new Qt({name:f,...it,type:Ne});if(de){const{r:Et,g:Lt,b:Tt}=de;(0,d.set)(vt.color,Et,Lt,Tt)}if("dir"===Ne){if(xe){const{x:Et,y:Lt,z:Tt}=xe;(0,d.set)(vt.position,-Et,-Lt,-Tt),vt.dirtyMatrix()}}else{if(Te){const{x:Et,y:Lt,z:Tt}=Te;(0,d.set)(vt.position,Et,Lt,Tt),vt.dirtyMatrix()}if("spot"===Ne&&xe){const Et=[0,0,0],Lt=[0,0,0],Tt=[0,0,-1],{x:Gt,y:Cn,z:fn}=xe;(0,d.set)(Lt,Gt,Cn,fn),(0,d.normalize)(Lt,Lt),(0,d.cross)(Et,Tt,Lt),Math.abs((0,d.dot)(Et,Et))<z&&(0,d.set)(Et,0,1,0);const xn=Math.acos((0,d.dot)(Tt,Lt));(0,L.setAxisAngle)(vt.quaternion,Et,xn)}}return vt.viewSpace="view"===Ue,vt}const D=Xt(l.color),Y=l.rotation?{x:l.rotation.x*Je,y:l.rotation.y*Je,z:l.rotation.z*Je}:void 0;return new q[l.type]({...l,name:f,color:D,rotation:Y})}(ho)).parent=Te}),"physicalImageLight"in pi&&pi.physicalImageLight){const{imageLightId:ho,intensity:vs,rotation:$s}=pi.physicalImageLight,Ys=yield f.loadImageLight(ho);if(Ys&&(wn=new yr({...Ys,intensity:vs}),$s)){const{x:ra,y:Ha,z:Ya}=$s;(0,L.fromEuler)(wn.quaternion,ra,Ha,Ya),wn.update("quaternion")}}Fn="toneMapping"in pi?pi.toneMapping:St,xn++,hr()}),di.apply(this,arguments)}const Ai=function(){var Lr=r(function*(){if("lightLibraryId"in h)return void(h.lightLibraryId&&(yield wr(h.lightLibraryId)));const pi=new Set(h.lights?.libraries||[]);!pi.size&&s.module.assetLibraries?.lights&&s.module.assetLibraries?.lights.forEach(ho=>pi.add(ho)),pi.size||pi.add("default"),yield Promise.all([f.loadReflections(h.environment).then(ho=>{Y.environment=ho,hr()}),...Array.from(pi).map(wr)])});return function(){return Lr.apply(this,arguments)}}(),ei=gr(N,this,fe),yi=new Map;function Zi(Lr){const pi=Ue.has(Lr)&&s.particleSystemDefs.get(Lr),ho=f.createParticleSystem(pi);yi.has(Lr)||yi.set(Lr,$n++),ho.renderOrder=yi.get(Lr),Ne.set(Lr,ho),Cn&&ho.load().then(()=>{ho.parent=xe,hr()}),Tt&&ho.start()}function Di(Lr){const pi=Ne.get(Lr);pi&&(pi.destroy(),Ne.delete(Lr)),s.particleSystemDefs.has(Lr)?Ue.has(Lr)&&Zi(Lr):Ue.delete(Lr),hr(),Ne.forEach(ho=>ho.reset())}s.particleSystemDefs.on("change",Di),Ue.on("add",Lr=>{if(!s.particleSystemDefs.has(Lr))throw new Error(`Unknown particle system '${Lr}'`);Di(Lr)}),Ue.on("delete",Di);const Fr=jn(s.module,h),Si=Lr=>{const{object:pi}=Lr;pi.loaded&&(pi.off("load",Si),fe.delete(pi),hr())},wi=Lr=>{const{property:pi,object:ho}=Lr;"shown"!==pi&&"variant"!==pi||(ho.shown?(de.add(ho),ho.loaded||(fe.add(ho),ho.on("load",Si),hr(),Cn&&ho.load())):(de.delete(ho),fe.delete(ho)))};s.anatomySceneGraph.anatomyObjects.forEach(Lr=>{Lr.on("load",Si),!0===Fr.get(Lr.objectId)?.shown&&(fe.add(Lr),de.add(Lr))}),s.module.customData?.particleSystems?.forEach(Lr=>{Ue.has(Lr.id)&&Zi(Lr.id)});const po=new vo(this);Object.defineProperty(this,"animationSystem",{value:po,writable:!1});const io=function(){var Lr=r(function*(){try{yield Promise.all([f.loadTweenLibraries().then(pi=>{Y.tweens=pi,hr()}),ei(),Promise.all(Array.from(Ne.values()).map(pi=>pi.load().then(()=>{pi.parent=xe,hr()}))),Ai()]),hr(),vt()}catch(pi){pr(pi)}});return function(){return Lr.apply(this,arguments)}}(),ns=gr(Nt,this);this.load=()=>{if(!Gt){Cn=!0;const{promise:Lr,resolve:pi,reject:ho}=Xn();Gt=Lr,vt=pi,Et=ho,xn=0,Te.children.forEach(vs=>{(vs instanceof Qt||vs instanceof He)&&Te.remove(vs)}),io()}return Gt},this.cancelLoading=()=>{Cn&&(Cn=!1,pr(new Error("Loading canceled")))},this.reset=()=>{s.anatomySceneGraph.anatomyObjects.forEach(Lr=>Lr.reset(Fr.get(Lr.objectId))),this.particleSystems.forEach(Lr=>Lr.reset()),ns(),this.animationSystem.currentTime=0},this.activate=()=>{Lt||(Lt=!0,this.reset(),s.anatomySceneGraph.anatomyObjects.forEach(Lr=>Lr.on("change",wi)),this.emit("activate"))},this.deactivate=()=>{Lt&&(this.stop(),s.anatomySceneGraph.anatomyObjects.forEach(Lr=>Lr.off("change",wi)),Lt=!1,this.emit("deactivate"))},this.start=()=>{Tt||(Tt=!0,Lt&&Ne.forEach(Lr=>Lr.start()))},this.stop=()=>{Tt&&(Tt=!1,Ne.forEach(Lr=>Lr.pause()))},this.update=Lr=>{Ne.forEach(pi=>pi.update(Lr))};const bi=this.destroy;this.destroy=()=>{this.deactivate(),this.cancelLoading(),wn?.destroy(),wn=null,mr(Te,Lr=>{Lr.destroy()}),po.destroy(),xe.destroy(),Te.destroy(),this.clippingPlanes.destroy(),fe.clear(),de.clear(),s.anatomySceneGraph.anatomyObjects.forEach(Lr=>Lr.off("change",Si)),s.particleSystemDefs.off("change",Di),this.particleSystems.forEach(Lr=>Lr.destroy()),this.particleSystems.clear(),this.environment=null,this.tweens=null,this.emit("destroy"),bi()}}}function xr(l){return l}function ii(l,s,h=xr){return Dt((f,...D)=>l.getAsset(s,f).then(Y=>Y?h(Y,f,...D):null))}function Vi(l){return l instanceof ArrayBuffer?[l]:[]}function an(l,s=Vi){let h,f=0,D=0,Y=0;const fe={};function de(){if(clearTimeout(Y),h){if(D)return void(Y=setTimeout(de,8e3));h.terminate(),h.onmessage=null,h=null}}const xe=Te=>{const Ne=Te.data;if(!Ne)return;const Ue=fe[Ne.requestId];Ue&&(delete fe[Ne.requestId],D--,Ne.error?(console.error("Web Worker error",Ne.error.stack),Ue.reject(new Error(Ne.error.message))):Ue.resolve(Ne.resource))};return function(Te){h||(h=l(),h.onmessage=xe);const Ne=new Promise((it,vt)=>{fe[f]={resolve:it,reject:vt}}),Ue=s(Te);return h.postMessage({requestId:f,options:Te},Ue),f++,D++,clearTimeout(Y),Y=setTimeout(de,8e3),Ne}}const Ln=an(()=>Wn("geometry"));function rr(){return rr=r(function*(l,s){const h=yield(Y=l,fe=s,Ln({...Y,options:fe})),f={...h.attributes};var Y,fe;h.indices&&(f.indices=h.indices);const D=new mt(f,h.boundary);return D.name=l.geometryId,D.topology=h.primitive||kt.triangles,"morphKeys"in h?D.morphKeys=h.morphKeys:l.morphId&&console.warn("Morph asset not found: "+l.morphId),D}),rr.apply(this,arguments)}class Zr{#e=new Map;inc(s){const h=this.get(s)+1;return this.#e.set(s,h),h}dec(s){const h=this.get(s)-1;if(h<0)throw new Error("Count is below zero");return h?this.#e.set(s,h):this.#e.delete(s),h}get(s){return this.#e.get(s)||0}delete(s){this.#e.delete(s)}}const xi=Math.PI/180;function Li(l,{x:s=0,y:h=0,z:f=0}){(0,d.set)(l,s,h,f)}function Ii(l,s){let h=!1;if(s?.rotate){const{x:f,y:D,z:Y}=s.rotate;Y&&(h=!0,l.rotation[2]=Y*xi),D&&(h=!0,l.rotation[1]=D*xi),f&&(h=!0,l.rotation[0]=f*xi)}s?.scale&&(h=!0,function(f,{x:D=1,y:Y=1,z:fe=1}){(0,d.set)(f,D,Y,fe)}(l.scale,s.scale)),s?.translate&&(h=!0,Li(l.position,s.translate)),s?.pivot&&(h=!0,Li(l.origin,s.pivot)),s?.constraints?.copyRotation&&l.constraints.push({type:"copyRotation"}),s?.constraints?.copyPosition&&l.constraints.push({type:"copyPosition"}),h&&l.dirtyMatrix()}const Ti=["opacity","saturation","brightness","contrast","tintColor"];function Ji(){return Ji=r(function*({materialId:l,geometryId:s,morphId:h,layer:f},D){const{loadMaterial:Y,loadObjectGeometry:fe,timelineIds:de,materialOptions:xe,loadAllMorphs:Te}=D;if(h&&!Te){const Ne=h.replace(/\/.*$/,"");de.has(Ne)||(h="")}try{const[Ne,Ue]=yield Promise.all([Y(l,xe),fe(s,h||"")]);if(!Ue)return console.warn("Geometry asset not found: "+s),null;if(!Ne)return console.warn("Material asset not found: "+l),null;const it=new vn(Ue,Ne);return f&&(it.layer=f),function(vt){const Et=[];return"textures"in vt.material&&vt.material.textures.length&&vt.geometry.topology!==kt.points&&!vt.geometry.attributes.texcoord&&Et.push("Material has textures that cannot be displayed without UV coordinates."),Et}(it).forEach(vt=>console.warn(vt,it)),it}catch(Ne){return console.warn("Error loading renderable",Ne),null}}),Ji.apply(this,arguments)}function No(l){return 0!==l[0]||0!==l[1]||0!==l[2]}class Ao extends A{objectId;displayName;layer;renderOrder=0;shown;selected;pickable=!0;occludesMarkers="auto";transformId;children;parent=null;sceneNode;renderables;variants;modifiers;variant;variantCount;loaded;transformLoaded;loadTransform;load;reset;constructor(s,h){var f;super(),f=this;let D=!1,Y=!1,fe=!1,de=!1,xe=s.layer||0,Te=null,Ne=new Zt(void 0,{clone:!1}),Ue=0;const it=[],{loadTransform:vt,...Et}=h;if(this.objectId=s.objectId,this.displayName=s.displayName||"",this.transformId=s.transformId||"",this.children=[],this.sceneNode=new Ce({name:this.displayName,rotationSource:"euler"}),this.variants=[],s.variants)s.variants.forEach(Fn=>{this.variants.push(Fn.map($n=>({meshNode:null,...$n})))});else if(this.variants.push(s.renderables?.map(Fn=>({meshNode:null,...Fn}))||[]),s.geometryId){const{geometryId:Fn,materialId:$n,morphId:pr}=s;this.variants[0].unshift({geometryId:Fn,materialId:$n,morphId:pr,meshNode:null})}this.variants.forEach((Fn,$n)=>{it[$n]=!1});const Lt=(Fn,$n,pr)=>{const{meshNode:hr}=Fn;if(hr){if(!pr||"modifier"===pr){hr.modifiers.clear();for(const[di,Ai]of this.modifiers)hr.modifiers.set(di,Ai)}if(hr.layer=Fn.layer??xe,hr.visible=D,hr.parent=$n===Ue?this.sceneNode:null,(!pr||"selected"===pr||"modifier"===pr)&&hr.modifiers.has("__HIGHLIGHT:contrast")!==Y)if(Y){let di=1e7;hr.modifiers.set("__HIGHLIGHT:contrast",{applyTo:"contrast",value:-.5,priority:di++}),hr.modifiers.set("__HIGHLIGHT:brightness",{applyTo:"brightness",value:.15,priority:di++}),hr.modifiers.set("__HIGHLIGHT:saturation",{applyTo:"saturation",value:-1,priority:di++}),hr.modifiers.set("__HIGHLIGHT:tintColor",{applyTo:"tintColor",value:lt,priority:di++})}else hr.modifiers.delete("__HIGHLIGHT:tintColor"),hr.modifiers.delete("__HIGHLIGHT:saturation"),hr.modifiers.delete("__HIGHLIGHT:brightness"),hr.modifiers.delete("__HIGHLIGHT:contrast")}},Tt=Fn=>{const $n="variant"===Fn;this.variants.forEach((pr,hr)=>{pr.forEach(wr=>{Lt(wr,hr,$n?"":Fn)})})},Gt=Dt(r(function*(){Te=yield vt(f.transformId),Ii(f.sceneNode,Te)}));this.loadTransform=r(function*(){const Fn=[];f.transformId&&Fn.push(Gt()),f.parent&&Fn.push(f.parent.loadTransform()),yield Promise.all(Fn),fe=!0,f.variants.forEach(($n,pr)=>{$n?.length||(it[pr]=!0)}),f.emit("loadtransform",{object:f})});const Cn=Dt(function(){var Fn=r(function*($n){const pr=f.variants[$n];if(!pr)throw new Error("Variant index out of range");const hr=yield Promise.all(pr.map(wr=>function Ko(l,s){return Ji.apply(this,arguments)}(wr,Et)));hr.forEach((wr,di)=>{wr&&(wr.name=di||1!==pr.length?f.displayName+" "+di:f.displayName,f.sceneNode.add(wr),pr[di].meshNode=wr,wr.renderOrder=f.renderOrder+di/hr.length,Lt(pr[di],$n))}),it[$n]=!0,f.emit("load",{object:f})});return function($n){return Fn.apply(this,arguments)}}()),fn=()=>Cn(Ue);this.load=r(function*(){de=!0,yield f.loadTransform(),yield fn()}),this.reset=Fn=>{!function(wr,di){wr.modifiers||(wr.modifiers=new Zt(void 0,{clone:!1}));const{modifiers:Ai}=wr;Ti.forEach(ei=>{const yi=di[ei];if(void 0!==yi)if("object"==typeof yi&&!Array.isArray(yi)&&"priority"in yi)Ai.set(ei,"value"in yi?{applyTo:ei,priority:yi.priority,value:"number"==typeof yi.value?yi.value:[yi.value.r,yi.value.g,yi.value.b]}:{applyTo:ei,priority:yi.priority,fresnel:{center:"number"==typeof yi.center?yi.center:[yi.center.r,yi.center.g,yi.center.b],edge:"number"==typeof yi.edge?yi.edge:[yi.edge.r,yi.edge.g,yi.edge.b],centerBias:yi.centerBias,edgeBias:yi.edgeBias,power:yi.power}});else if(Array.isArray(yi)&&5===yi.length){const[Zi,Di,Fr,Si,wi]=yi;Ai.set(ei,{applyTo:ei,fresnel:{center:Zi,edge:Di,centerBias:Fr,edgeBias:Si,power:wi}})}else Ai.set(ei,{applyTo:ei,value:yi});else Ai.delete(ei)}),wr.shown=di.shown??!1,wr.pickable=di.pickable??!0,wr.selected=di.selected??!1,wr.occludesMarkers=di.occludesMarkers??"auto"}(this,Fn);const{sceneNode:$n}=this;var pr,hr;No($n.position)&&((0,d.zero)($n.position),$n.dirtyMatrix()),(1!==(pr=$n.scale)[0]||1!==pr[1]||1!==pr[2])&&((0,d.set)($n.scale,1,1,1),$n.dirtyMatrix()),"euler"===$n.rotationSource?No($n.rotation)&&((0,d.zero)($n.rotation),$n.dirtyMatrix()):(0!==(hr=$n.quaternion)[0]||0!==hr[1]||0!==hr[2]||1!==hr[3])&&((0,L.identity)($n.quaternion),$n.dirtyMatrix()),Ii($n,s),Te&&Ii($n,Te),this.variants.forEach(wr=>{wr.forEach(di=>{di.meshNode&&(di.meshNode.morphFactor=0,di.meshNode.morphKeyIndex=-1)})})};const xn=this.destroy;this.destroy=()=>{this.variants.forEach(Fn=>{Fn.forEach($n=>$n?.meshNode?.destroy())}),this.sceneNode.destroy(),this.parent=null,this.emit("destroy",{object:this}),xn()};const wn=Fn=>{const $n=Ne.get(Fn);this.variants[Ue].forEach($n?hr=>hr.meshNode?.modifiers.set(Fn,$n):hr=>hr.meshNode?.modifiers.delete(Fn)),this.emit("change",{object:this,property:"modifier"})};Ne.on("change",wn),Object.defineProperties(this,{shown:{get:()=>D,set:Fn=>{D!==Fn&&(D=Fn,Tt("shown"),this.emit("change",{object:this,property:"shown"}))}},layer:{get:()=>xe,set:Fn=>{xe!==Fn&&(xe=Fn,Tt("layer"),this.emit("change",{object:this,property:"layer"}))}},selected:{get:()=>Y,set:Fn=>{Y!==Fn&&(Y=Fn,Tt("selected"),this.emit("change",{object:this,property:"selected"}))}},variant:{get:()=>Ue,set:Fn=>{Ue!==Fn&&(Ue=Fn,Tt("variant"),de&&fn(),this.emit("change",{object:this,property:"variant"}))}},variantCount:{writable:!1,value:this.variants.length},renderables:{get:()=>this.variants[Ue]},modifiers:{get:()=>Ne,set:Fn=>{Ne!==Fn&&(Ne&&Ne.off("change",wn),Ne=Fn,Ne&&Ne.on("change",wn),Tt("modifier"))}},loaded:{get:()=>fe&&it[Ue]},transformLoaded:{get:()=>fe}}),Tt(),Ii(this.sceneNode,s)}}function ts(l,s,h=null,f=0){for(let D=0;D<l.length;D++){const Y=l[D],fe=s(Y,h,f++);Y.objects&&(f=ts(Y.objects,s,fe,f))}return f}class Ms{name;anatomyRoots;anatomyObjects;sceneNode;findAnatomyObject;destroy;constructor(s,h){const{name:f,...D}=h;this.name=f||"",this.anatomyRoots=[];const Y=this.anatomyObjects=new Map,fe=new Map,de=this.sceneNode=new Ce({name:this.name||"Anatomy Scene Graph"});ts(s.sceneGraph,(xe,Te,Ne)=>{const{objectId:Ue}=xe,it=new Ao(xe,D);return Y.set(Ue,it),it.renderOrder=Ne,fe.set(it.sceneNode,it),it.parent=Te,it.sceneNode.parent=Te?Te.sceneNode:de,Te?Te?.children.push(it):this.anatomyRoots.push(it),void 0===xe.layer&&Te&&(it.layer=Te.layer),it}),this.findAnatomyObject=xe=>xe instanceof at?this.findAnatomyObject(xe.parent):fe.get(xe)||null,this.destroy=()=>{de.destroy(),Y.forEach(xe=>xe.destroy()),Y.clear(),fe.clear(),this.anatomyRoots.length=0}}}class Yo{get;release;destroy;constructor(s){const{release:h,create:f,key:D,timeout:Y=5e3}=s,fe=new Map,de=new bt,xe=new Map,Te=new Map,Ne=new Set,Ue=new Set;let it=0;function vt(){clearTimeout(it),Ne.forEach(Et=>{fe.delete(Et.key),Ne.delete(Et),h&&(D?h(Et.resource,Et.key):h(Et.resource,...xe.get(Et.key)))}),Ue.forEach(Et=>{const Lt=xe.get(Et);Lt&&(de.delete(...Lt),xe.delete(Et))}),Ue.clear(),it=0}this.get=(...Et)=>{let Lt=de.get(...Et);Lt||(Lt=Symbol(),de.set(...Et,Lt),xe.set(Lt,Et)),Ue.delete(Lt);const Tt=D?D(...Et):Lt;let Gt=fe.get(Tt);return Gt?(Ne.delete(Gt),it&&!Ne.size&&(clearTimeout(it),it=0)):(Gt={key:Tt,clients:new Set,resource:f(...Et)},fe.set(Tt,Gt)),Gt.clients.add(Lt),Te.set(Lt,Gt),Gt.resource},this.release=(...Et)=>{const Lt=de.get(...Et);if(!Lt)return;const Tt=Te.get(Lt);Tt&&(Tt.clients.delete(Lt),Te.delete(Lt),D&&de.delete(...Et),Ue.add(Lt),Tt.clients.size||(Ne.add(Tt),it||(it=setTimeout(vt,Y))))},this.destroy=()=>{de.forEach((Et,...Lt)=>{this.release(...Lt)}),vt()}}}class jo extends ut{source;data;levels;format;sizeDynamic;dynamic;valid;update;constructor(s,h){super(h);const f=new ve(s,h);Object.defineProperties(this,{source:{value:f.source,writable:!1},data:{value:f.data,writable:!1},levels:{value:f.levels,writable:!1},format:{value:f.format,writable:!1},width:{get:()=>f.width},height:{get:()=>f.height},sizeDynamic:{get:()=>f.sizeDynamic},dynamic:{get:()=>f.dynamic},valid:{get:()=>f.valid}}),f.on("resize",()=>{this.emit("resize",{texture:this})}),f.on("update",()=>{this.emit("update",{texture:this})}),f.on("destroy",()=>{this.emit("destroy",{texture:this})}),this.update=f.update;const D=this.destroy;this.destroy=()=>{f.destroy(),D()}}}const Ea=an(()=>Wn("texture")),js=typeof createImageBitmap<"u";function oa(l,s){return Sa.apply(this,arguments)}function Sa(){return Sa=r(function*(l,s){if(js)try{const f="bottom-up"===s.rowOrder,D=f?void 0:"flipY",Y=yield createImageBitmap(l,{imageOrientation:D}),fe=new jo(Y,{...s,rowOrder:f?"bottom-up":"top-down"});return fe.on("destroy",()=>{Y.close()}),fe}catch{}const h=URL.createObjectURL(l);try{const f=yield H(h),D=new jo(f,{rowOrder:s.rowOrder||"bottom-up",...s});return D.on("destroy",()=>{URL.revokeObjectURL(h)}),D}catch(f){console.warn("Failed to load uncompressed texture",f),URL.revokeObjectURL(h)}return null}),Sa.apply(this,arguments)}const Za=[{format:"bc1-rgba-unorm",fileExtension:"dds",fileNamePostfix:"-dxt1.dds"},{format:"pvrtc-rgb4unorm",fileExtension:"pvr",fileNamePostfix:"-pvrtc.pvr"},{format:"etc2-rgb8unorm",fileExtension:"pvr",fileNamePostfix:"-etc1.pvr"}];class gc extends A{get;release;constructor(s){super();const{timeout:h,...f}=s,D=new WeakMap,Y=new Yo({key:(de,xe)=>xe,create:(de,xe)=>{const Te=(Ne=r(function*(Ue,it){const{textureFormats:vt,server:Et,...Lt}=it||{};if(Et?.loadImage){const Cn=yield Et.loadImage(Ue);if(Cn)return new jo(Cn,{name:Ue,...Lt,rowOrder:"bottom-up"})}const Tt=Ue.replace(/(\.jpg|\.jpeg|\.png)$/,"");for(let Cn=0;Cn<Za.length&&pt;Cn++){const{fileExtension:fn,format:xn,fileNamePostfix:wn}=Za[Cn];if(vt?.includes(xn)){const Fn=Tt+wn;try{const $n=yield Et.fetch(Fn,"texture"),pr=yield $n.blob(),hr=yield Ea({blob:pr,type:fn});if(hr){const{levels:wr,format:di}=hr;return"top-down"===Lt.rowOrder&&console.warn("Compressed textures cannot be flipped"),new jo(wr,{name:Ue,...Lt,rowOrder:"bottom-up",format:di})}}catch($n){console.warn("Failed to load texture",$n)}}}const Gt=yield Et.fetch(Ue,"texture");return oa(yield Gt.blob(),{name:Ue,...Lt})}),function(Ue,it){return Ne.apply(this,arguments)})(xe,f);var Ne;return Te.then(Ne=>{D.set(Te,Ne),Ne&&this.emit("create",{texture:Ne})}),Te},release:de=>{const xe=de?D.get(de):null;xe&&(xe.destroy(),D.delete(de),this.emit("release",{texture:xe}))},timeout:h});this.get=Y.get,this.release=Y.release;const fe=this.destroy;this.destroy=()=>{Y.destroy(),fe()}}}const $a=[{format:"astc-6x6-hdr",fileNamePostfix:"-astc-6x6-hdr.pvr"},{format:"bc6h-rgb-ufloat",fileNamePostfix:"-bc6h.ktx2"},{format:"rgb9e5ufloat",fileNamePostfix:"-rgb9e5.pvr"},{format:"rgba16float",fileNamePostfix:"-rgbd.pvr"}],Pa=function(){var l=r(function*(s,h,f=(D=>D.replace(/.*\.([\w\d]+)$/,"$1"))(h)||"pvr"){const D=yield s.fetch(h,"image-light"),Y=yield D.blob(),fe=yield Ea({blob:Y,type:f}),{faces:de,format:xe}=fe;if(!de||6!==de.length)throw new Error("Cube maps need exactly six faces.");return new ne(de,{name:h,format:xe})});return function(h,f){return l.apply(this,arguments)}}();class ro extends A{get;release;constructor(s){super();let h=!1;const{server:f,timeout:D,textureFormats:Y}=s,fe=new WeakMap,de=new Yo({create:Te=>{const Ne=(Ue=r(function*(it,vt,Et){const Lt=yield Promise.all(["specular","diffuse-irradiance"].map(function(){var Cn=r(function*(fn){const xn=`/content/states/${vt.replace(/\.hdr$/,"")}-${fn}`;for(let wn=0;wn<$a.length;wn++){const{format:Fn,fileNamePostfix:$n}=$a[wn];try{if(Et.includes(Fn))return yield Pa(it,xn+$n)}catch(pr){console.warn("Failed to load environment light image",pr)}}return null});return function(fn){return Cn.apply(this,arguments)}}())),[Tt,Gt]=Lt;return Tt&&Gt?{specularTexture:Tt,irradianceTexture:Gt}:(console.warn("Missing image-based light component"),null)}),function(it,vt,Et){return Ue.apply(this,arguments)})(f,Te,Y);var Ue;return Ne.then(Ue=>{if(h)throw Ue?.irradianceTexture.destroy(),Ue?.specularTexture.destroy(),new Error("Canceled loading image light textures.");fe.set(Ne,Ue),this.emit("create",Ue)}),Ne},release:Te=>{const Ne=Te?fe.get(Te):null;Ne&&(Ne.irradianceTexture.destroy(),Ne.specularTexture.destroy(),fe.delete(Te),this.emit("release",Ne))},timeout:D});this.get=de.get,this.release=de.release;const xe=this.destroy;this.destroy=()=>{h=!0,de.destroy(),xe()}}}class bo{loadReflections;loadObjectGeometry;createParticleSystem;loadTweenLibraries;loadTransform;getAssetLibrary;loadImageLight}class Bo extends A{contentNode;environmentNode;anatomySceneGraph;materials;activeChapter;activeChapterIndex;module;chapters;server;camera;cameraController;particleSystemDefs;variants;playBackRate;activateChapter;createChapter;start;stop;update;constructor(s,h,f){let D=!1;super(),this.server=s,this.contentNode=new Ce({scale:[ce,ce,ce],name:"BioDigitalStory content",rotationSource:"euler"}),this.environmentNode=new Ce({scale:[ce,ce,ce],name:"BioDigitalStory environment",rotationSource:"euler"});const{camera:Y,textureFormats:fe,baseUrl:de,loadAllMorphs:xe,...Te}=f||{};this.camera=Y||new hn,this.cameraController=new De(this.camera),Y||this.environmentNode.add(this.camera);let Ne=1,Ue=-1,it=null,vt=!1,Et=null;this.module=h;const Lt=this.materials=new Map,Tt=new gc({server:s,textureFormats:fe}),Gt=new ro({server:s,textureFormats:fe}),Cn=ii(s,"transform"),fn=Dt((bi,Lr,pi)=>s.getAssetLibrary(f?.baseUrl||"",bi,Lr,pi)),xn={baseUrl:de,server:s,textureCache:Tt,getAssetLibrary:fn},wn=ii(s,"material",function(){var bi=r(function*(Lr,pi){const ho=yield mi(Lr,pi,xn);return Lt.set(pi,ho),ho.on("destroy",()=>Lt.delete(pi)),ho});return function(Lr,pi){return bi.apply(this,arguments)}}()),Fn=Dt(bi=>$e(fn,de||"",bi,s)),$n=Dt(function(bi,Lr){const pi=ii(bi,"geometry"),ho=ii(bi,"morph");return function(){var vs=r(function*($s,Ys){const ra=[pi($s,Lr).catch(Ya=>(console.error("Error loading geometry "+$s,Ya),null))];Ys&&ra.push(ho(Ys,Lr).catch(Ya=>(console.error("Error loading morph "+Ys,Ya),null)));const Ha=yield Promise.all(ra);return Ha?.[0]?function In(l,s){return rr.apply(this,arguments)}({geometryId:$s,morphId:Ys,buffers:{geometry:Ha[0],morph:Ha[1]||null}},Lr):null});return function($s,Ys){return vs.apply(this,arguments)}}()}(s,Te));let pr=null;const hr=new Set;this.particleSystemDefs=new Zt(h.customData?.particleSystems?.map(bi=>[bi.id,bi]));const wr=bi=>{hr.delete(bi.node),bi.node.off("destroy",wr),!hr.size&&pr&&(pr.destroy(),pr=null)},di=(bi,Lr)=>{const pi=h.variantSchemas?.[bi];if(!pi)throw new Error(`Missing variant schema '${bi}'`);const ho=pi.themes[Lr];if(!ho)throw new Error(`Invalid index for variant schema '${bi}'`);for(const vs in ho.objectVariants)if(Object.prototype.hasOwnProperty.call(ho.objectVariants,vs)){const $s=ho.objectVariants[vs],Ys=this.anatomySceneGraph.anatomyObjects.get(vs);Ys&&(Ys.variant=$s)}};let Ai=null;const ei={loadReflections:(bi=r(function*(Lr){const pi={lightMap:null,reflectionMap:null};return yield Promise.all(["lightMap","reflectionMap"].map(function(){var ho=r(function*(vs){const $s=Lr?.[vs],Ys=$s?.[0];if(Ys)try{pi[vs]=yield Fn(Ys)}catch(ra){console.error("Error loading reflection map: "+vs,ra)}});return function(vs){return ho.apply(this,arguments)}}())),pi}),function(pi){return bi.apply(this,arguments)}),loadObjectGeometry:$n,createParticleSystem:bi=>{let Lr=null;const pi={...xn,loadMaterial:wn};return Fe?(pr||(pr=new li),Lr=new hi(bi,pr,pi)):Lr=new Xo(bi,pi),hr.add(Lr),Lr.on("destroy",wr),Lr},loadTweenLibraries:()=>{if(!Ai)if(h.assetLibraries?.tweens){const bi={};Ai=Promise.all(h.assetLibraries.tweens.map(Lr=>s.getAssetLibrary(de||"","animations",Lr,"manifest").then(pi=>{bi[Lr]=pi}).catch(pi=>{console.error("Error loading tween library: "+Lr,pi)}))).then(()=>bi)}else Ai=Promise.resolve({});return Ai},loadTransform:Cn,getAssetLibrary:fn,loadImageLight:bi=>Gt.get(bi)},yi=new Set(h.chapters.map(bi=>bi.timelineMap?.map(({data:Lr})=>Lr.timeline)).reduce((bi,Lr)=>Lr?[...bi,...Lr]:bi,[]));var bi;this.anatomySceneGraph=new Ms(h,{loadTransform:ei.loadTransform,loadObjectGeometry:ei.loadObjectGeometry,loadMaterial:wn,timelineIds:yi,loadAllMorphs:xe,materialOptions:xn}),this.variants=new Zt(Object.entries(h.variantSchemas||{}).map(([bi,Lr])=>[bi,Lr.defaultSelection||0])),this.variants.on("change",bi=>{di(bi,this.variants.get(bi)??0)}),this.variants.forEach((bi,Lr)=>{di(Lr,bi)});const Zi=[],Di=new Set,Fr=bi=>{bi.deactivate(),this.contentNode.remove(bi.contentNode),this.environmentNode.remove(bi.environmentNode)},Si=new Zr,wi=bi=>{Si.dec(bi)||(it===bi&&(this.anatomySceneGraph.sceneNode.parent=null,Fr(bi),it=null,Ue=-1),bi.index=-1)},po=new Re(Zi,{deleteProperty:(bi,Lr)=>(wi(bi[Lr]),bi[Lr]=void 0,!0),set:(bi,Lr,pi)=>{if(pi===bi[Lr])return!0;if(!pi||Lr>bi.length)throw new Error("Missing elements in chapters array is not allowed");if(!Di.has(pi))throw new Error("Attempt to insert invalid chapter into array");const ho=bi[Lr];return bi[Lr]=pi,pi.index=Lr,Si.inc(pi),ho&&wi(ho),it===pi&&(Ue=Lr),!0}}),io=bi=>{const Lr=Zi[bi];if(Lr===it)return Ue=bi,void(it=Lr);const pi=Ue>=0&&Zi[Ue]||null;pi&&(Fr(pi),this.contentNode.remove(pi.contentNode),this.environmentNode.remove(pi.environmentNode)),Lr?(this.contentNode.add(this.anatomySceneGraph.sceneNode),this.contentNode.add(Lr.contentNode),this.environmentNode.add(Lr.environmentNode),Ue=bi,it=Lr,Lr.activate(),vt&&Lr.start()):(this.contentNode.remove(this.anatomySceneGraph.sceneNode),Ue=-1,it=null),pi!==Lr&&this.emit("changechapter",Ue)};this.activateChapter=function(){var bi=r(function*(Lr){if(!(Lr>=0)||Lr>=Zi.length)throw new Error(`BioDigitalStory: chapter index ${Lr} not found.`);const pi=Zi[Lr];return Et=pi,yield pi.load(),D||Et!==pi||io(pi.index),pi});return function(Lr){return bi.apply(this,arguments)}}(),this.createChapter=(bi,Lr=Zi.length)=>{if(Lr>Zi.length)throw new Error("Missing elements in chapters array is not allowed.");const pi=new Or(this,bi,ei,Lr);return pi.on("destroy",()=>{const ho=Zi.indexOf(pi);ho>=0&&this.chapters.splice(ho,1),Di.delete(pi)}),Di.add(pi),this.chapters.splice(Lr,0,pi),Lr},this.start=()=>{vt||(vt=!0,it?.start())},this.stop=()=>{vt&&(vt=!1,it?.stop())},this.update=bi=>{it?.update(bi)};const ns=this.destroy;this.destroy=()=>{D||(this.stop(),D=!0,Ue=-1,Zi.length=0,Di.forEach(bi=>bi.destroy()),hr.forEach(bi=>bi.destroy()),hr.clear(),this.particleSystemDefs.destroy(),this.variants.destroy(),pr&&(pr.destroy(),pr=null),this.anatomySceneGraph.destroy(),Y||this.camera.destroy(),Lt.forEach(bi=>bi.destroy()),Lt.clear(),Tt.destroy(),Gt.destroy(),this.emit("destroy"),ns())},Object.defineProperties(this,{chapters:{writable:!1,value:po},playBackRate:{get:()=>Ne,set:bi=>{if(bi<=0)throw new Error("Negative or zero playback rate not supported");Ne=bi,hr.forEach(Lr=>Lr.playBackRate=Ne)}},activeChapterIndex:{get:()=>Ue},activeChapter:{get:()=>it}}),h.chapters.forEach((bi,Lr)=>{this.createChapter(bi,Lr)})}}class Fs extends A{root;has;size;constructor(s=null){super();const h=new Set,{emit:f}=this;function D(Te){Te.parent&&h.has(Te.parent)||de(Te.node)}function Y(Te){fe(Te.child)}function fe(Te){Te&&!h.has(Te)&&(Te.on("parent",D),Te.on("add",Y),h.add(Te),Te.children.forEach(fe),f("add",Te))}function de(Te){Te&&h.has(Te)&&!h.has(Te.parent)&&(Te.off("parent",D),Te.off("add",Y),h.delete(Te),Te.children.forEach(de),f("remove",Te))}Object.defineProperties(this,{root:{get:()=>s,set:Te=>{Te!==s&&(de(s),fe(s=Te))}},size:{get:()=>h.size}}),this.has=Te=>h.has(Te);const xe=this.destroy;this.destroy=()=>{this.root=null,xe()},fe(s)}}class as{dirty;sortDirty;filterDirty;size;filteredSize;queued;has;add;delete;update;dirtySort;dirtyFilter;clear;[Symbol.iterator];constructor(s={}){const{sort:h,sortCallback:f,filter:D,autoUpdate:Y=!0}=s,fe=new Set,de=new Set,xe=[];let Te=!1,Ne=!1;this.has=Ue=>fe.has(Ue),this.queued=Ue=>(Y&&this.update(),de.has(Ue)),this.add=Ue=>{fe.has(Ue)||(fe.add(Ue),D&&!D(Ue)||(xe.push(Ue),de.add(Ue),Te=!0))},this.delete=Ue=>{fe.has(Ue)&&(fe.delete(Ue),de.delete(Ue))},this.update=(...Ue)=>{if(D&&Ne)for(const it of fe)D(it,...Ue)?de.has(it)||(xe.push(it),de.add(it),Te=!0):de.delete(it);for(let it=xe.length-1;it>=0&&xe.length>de.size;it--){const vt=xe[it];fe.has(vt)&&de.has(vt)||xe.splice(it,1)}Ne=!1,Te&&(h?h(xe,...Ue):f&&xe.sort(f),Te=!1)},this[Symbol.iterator]=()=>(Y&&this.update(),xe[Symbol.iterator]()),this.dirtySort=()=>{Te=!0},this.dirtyFilter=()=>{Ne=!0},this.clear=()=>{fe.clear(),de.clear(),xe.length=0,Te=!1,Ne=!1},Object.defineProperties(this,{dirty:{get:()=>Te||Ne},sortDirty:{get:()=>Te},filterDirty:{get:()=>Ne},size:{get:()=>fe.size},filteredSize:{get:()=>(Y&&this.update(),de.size)}})}}function sa(l,s){if(!l)return 0;const h=l?.attributes?.position?.data?.length||0,{indices:f}=l;if(f&&(!1!==s||l.count!==f.length)){const D=new Set;for(let Y=l.offset,fe=l.offset+l.count;Y<fe;Y++)D.add(f[Y]);return D.size}return Math.min(h/3,l.count)}const Ds=w(30559),ks=6408,_=5120,Q=5121,P=5122,ae=5123,nt=5124,Pt=5125,sn=5126,cr=36249,Xr=33319,oi=33320,qr=36244,va={bool:35670,int:nt,uint:Pt,float:sn,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676},zi=l=>Array.isArray(l)?l:[l],Jl=/^\s*uniform(?:\s+(lowp|mediump|highp))?\s+([\w_][\w\d_]+)\s+([\w_][\w\d_]+)(?:\[((?:0x)?\d)+u?\])?;$/i;let fs=function(l){return l.vert="vert",l.frag="frag",l}({});function hc(l,s,h,f={}){const D={vert:new Map,frag:new Map},Y={vert:{extensions:[],declare:[],main:[]},frag:{extensions:[],declare:[],main:[]}},fe={};function de(Et){return(Lt,Tt,Gt)=>Te(Gt||Et,Lt,Tt)}const xe={vert:de(fs.vert),frag:de(fs.frag)};function Te(Et,Lt,Tt){const Gt=isNaN(Tt)?Lt:`${Lt}[${Tt}]`;if(D[Et].has(Gt))return D[Et].get(Gt)||"key";let Cn=l[Lt];if(!Cn)throw new Error(`Unknown reference: '${Lt}'`);"function"==typeof Cn&&(Cn=Cn(Et,Tt,f,xe[Et])||{}),"string"==typeof Cn&&(Cn={declare:[Cn]});const fn=Cn.symbol||Gt;if(D[Et].set(Gt,fn),Cn.requires&&zi(Cn.requires).forEach(xn=>{xn!==Lt&&Te(Et,xn)}),Cn.extensions){const xn=zi(Cn.extensions);Y[Et].extensions.push(...xn)}if(Cn.declare&&zi(Cn.declare).forEach(xn=>{"string"==typeof xn&&(xn={define:xn});const{define:wn,type:Fn,...$n}=xn,pr=wn&&Jl.exec(wn),hr=xn.uniform||pr&&pr[3];if(hr){const wr=void 0!==xn.count?xn.count:pr&&pr[4]?parseInt(pr[4]):1,di=Fn||pr&&pr[2];fe[hr]={name:hr,...$n,count:wr,typeName:di},"string"==typeof di&&va[di]&&(fe[hr].type=va[di])}wn&&Y[Et].declare.push(wn)}),Cn.main){const xn=zi(Cn.main);Y[Et].main.push(...xn)}return fn}const Ne=s[fs.vert](xe.vert),Ue=s[fs.frag](xe.frag),it=zi(Ne),vt=zi(Ue);return Y.vert.main.push(...it),Y.frag.main.push(...vt),{vert:h(Y.vert),frag:h(Y.frag),uniforms:fe}}const yc={webGlVersion:2,precision:"highp",textureLODext:!1};function Ua(l,s,h){return(f,D,Y)=>({declare:`${Y?.webGlVersion>=2?void 0!==h?`layout(location = ${h}) in`:"in":"attribute"} ${l} ${s};`,symbol:s})}function ma(l){return l.replace(/^(\w)/,s=>"v"+s.toUpperCase())}function Ll(l,s,h,f,D){const Y=f?.webGlVersion>=2?l===fs.frag?"in":"out":"varying";return void 0===D&&/^((u?int)|ivec[2-4])$/.test(s)&&(D="flat"),D&&(D+=" "),`${D||""}${Y} ${s} ${h};`}function Zo(l,s,h=ma(s),f){return function(D,Y,fe,de){const xe=isNaN(Y)?h:h+Y;return D===fs.frag?{declare:[Ll(D,l,xe,fe,f)],symbol:de(h,Y,fs.vert)}:{declare:[Ll(D,l,xe,fe,f)],main:[`${xe} = ${de(s,Y)};`]}}}const Ma={uint:"x",int:"x",float:"r",vec2:"rg",vec3:"rgb",vec4:"rgba"},tc={};function Lc(l){const s=`sampleBatchMatrix${l}`,h="vec"+l,f=Ma[h];return{[s]:`mat${l} ${s}(sampler2D sampler, uint index, uint offset) {\n\t\t\t\t${Qn(l,D=>`\n\t\t\t\t\tivec2 coord${D} = ivec2(offset + ${D}u, index);\n\t\t\t\t\t${h} row${D} = texelFetch(sampler, coord${D}, 0).${f};\n\t\t\t\t`).join("\n")}\n\t\t\t\treturn mat${l}(${Qn(l,D=>"row"+D).join(", ")});\n\t\t\t}`}}function Ho(l,s,h=!0,f=s,D){const Y=/^mat([2-4])$/.exec(l),fe=/\[\d+\]$/.test(s),de=Y&&parseInt(Y[1],10),xe=h?"MaterialSampler":"ModelSampler",Te=Y?`vec${de}${xe}`:l+xe,Ne=f+"SamplerOffset",Ue=s.replace(/\[\d+\]$/,"");return D||(D=ma(Ue)),{[D]:Zo(l,Ue,D),[Ne]:{declare:{define:`uniform uint ${Ne};`,samplerOffsetTarget:f}},[f]:(it,vt,Et,Lt)=>{const Tt=isNaN(vt)||fe?Ue:Ue+vt,Gt=fe?s:Tt;if(Et?.multiDraw&&(!h||Et?.multiMaterial)){if(Y){if(it===fs.frag)return{symbol:Lt(D,vt)};const fn=Lt(h?"materialId":"gl_DrawID");return{declare:{uniform:Gt,type:l,multiDraw:h?"material":"model"},main:`${l} ${Tt} = ${Lt(`sampleBatchMatrix${de}`)}(${Lt(Te)}, ${fn}, ${Lt(Ne)});`}}const Cn=Lt(h?"materialSampleOffset":"modelSampleOffset");return{declare:{uniform:Gt,type:l,multiDraw:h?"material":"model"},symbol:`texelFetch(${Lt(Te)}, ivec2(${Lt(Ne)}, ${Cn}), 0).${Ma[l]}`}}return{declare:`uniform ${l} ${Gt};`,symbol:Tt}}}}Object.keys(Ma).forEach(l=>{const s=l+"ModelSampler";tc[s]=`uniform sampler2D ${s};`;const h=l+"MaterialSampler";tc[h]=`uniform sampler2D ${h};`});const bc={vDrawId:Zo("uint","gl_DrawID","vDrawId","flat"),gl_DrawID:(l,s,h,f)=>h?.multiDraw?l===fs.frag?{symbol:f("vDrawId")}:{extensions:"#extension GL_ANGLE_multi_draw : require",symbol:"uint(gl_DrawID)"}:{symbol:"0"},vMaterialId:Zo("uint","materialId","vMaterialId","flat"),materialId:(l,s,h,f)=>h?.multiDraw?l===fs.frag?{symbol:f("vMaterialId")}:{declare:"uniform mediump usampler2D materialId;",symbol:`texelFetch(materialId, ivec2(0, ${f("modelSampleOffset")}), 0).x`}:{symbol:"0"},vModelSampleOffset:Zo("uint","modelSampleOffset"),modelSampleOffset:(l,s,h,f)=>l===fs.frag?{symbol:f("vModelSampleOffset")}:{main:[`uint modelSampleOffset = ${f("gl_DrawID")};`]},vMaterialSampleOffset:Zo("uint","materialSampleOffset"),materialSampleOffset:(l,s,h,f)=>l===fs.frag?{symbol:f("vMaterialSampleOffset")}:{symbol:f("materialId")},...tc,...Lc(2),...Lc(3),...Lc(4)};let nc=function(l){return l.add="add",l.multiply="multiply",l}({});const rc={value:"GradientValue",position:"GradientPosition",power:"GradientPower",size:"GradientStopsLength"},Dc={baseColorFresnel:!1,baseColorFresnelBlendMode:nc.multiply,baseColorFresnelLength:0,opacityFresnel:!1,opacityFresnelBlendMode:nc.multiply,opacityColorFresnelLength:0},Ul=(l,s,h,f,D,Y)=>{const fe=[],de=[],xe=[];for(let Et=0;Et<f;Et++){const Lt=Y(`${l}${rc.value}`,Et),Tt=Y(`${l}${rc.position}`,Et),Gt=Y(`${l}${rc.power}`,Et);fe.push(Lt),de.push(Tt),xe.push(Gt)}const Ne=[],Ue=[],it=[`${s} result = ${fe[0]};`];for(let Et=1;Et<fe.length;Et++){const Tt=`t${Et} = pow(t${Et}, ${xe[Et-1]});`,Gt=`result = mix(result, ${fe[Et]}, t${Et});`;Ne.push(`float t${Et} = clamp((nDotV - ${de[Et-1]}) / (${de[Et]} - ${de[Et-1]}), 0.0, 1.0);`),Ue.push(Tt),it.push(Gt)}const vt="add"===D[l+"BlendMode"]?"+":"*";return`${s} ${h}(in ${s} value, in vec3 eyeDir, in vec3 viewNormal) {\n\t\tfloat nDotV = abs(dot(viewNormal, eyeDir));\n\t\t${Ne.join("\n\t\t")}\n\t\t${Ue.join("\n\t\t")}\n\t\t${it.join("\n\t\t")}\n\t\treturn value ${vt} result;\n\t}`},au=(l,s,h,f,D)=>{const Y="float"===s?"":".rgb",fe="add"===f[l+"BlendMode"]?"+":"*",de=`${l}BiasEdge`,xe=`${l}BiasCenter`,Te=`${l}Power`,Ne=`${l}Edge`,Ue=`${l}Center`;return`${s} ${h}(${s} value, vec3 eyeDir, vec3 viewNormal) {\n\t\tfloat amount = ${D("fresnel")}(eyeDir, viewNormal, ${D(de)}, ${D(xe)}, ${D(Te)});\n\t\treturn value${Y} ${fe} mix(${D(Ne)}${Y}, ${D(Ue)}${Y}, amount);\n\t}`};function rd(l,s,h){return(f,D,Y,fe)=>{const de=Y[l+rc.size];return de>0?Ul(l,s,h,de,Y,fe):au(l,s,h,Y,fe)}}function fc(l,s){const h="float"===s?`${l}Value`:`${l}Color`;return{[h]:rd(l,s,h),...Ho(s,l+"Center"),...Ho(s,l+"Edge"),...Ho("float",l+"BiasCenter"),...Ho("float",l+"BiasEdge"),...Ho("float",l+"Power"),...Ho(s,l+rc.value),...Ho("float",l+rc.position),...Ho("float",l+rc.power)}}const id={...fc("baseColorFresnel","vec3"),...fc("opacityFresnel","float"),fresnel:"float fresnel(vec3 eyeDir, vec3 normal, float edgeBias, float centerBias, float power) {\n\t\tfloat fr = abs(dot(eyeDir, normal));\n\t\tfloat finalFr = clamp((fr - edgeBias) / (centerBias - edgeBias), 0.0, 1.0);\n\t\treturn pow(finalFr, power);\n\t}"},Zc={modifiers:[]},Fd={...id,...Ho("vec3","modifierCenter",!1),...Ho("vec2","modifierRadius",!1),...Ho("vec3","modifierColorValue",!1),...Ho("float","modifierValue",!1),...Ho("vec3","modifierFresnelCenter",!1),...Ho("vec3","modifierFresnelEdge",!1),...Ho("float","modifierFresnelBiasCenter",!1),...Ho("float","modifierFresnelBiasEdge",!1),...Ho("float","modifierFresnelPower",!1),modifierFactor:(l,s,h,f)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${f("worldPosition")} - ${f("modifierCenter",s)}) - ${f("modifierRadius",s)}.x) /\n\t\t\t\t${f("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},be={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function Qe(l,s){const h=(l.priority||0)-(s.priority||0);if(h)return h;const f=(be[l.applyTo]||1/0)-(be[s.applyTo]||1/0);if(f)return f;const D="range"in l,Y="range"in s;return D!==Y?Number(D)-Number(Y):+("fresnel"in l)-+("fresnel"in s)}const we=l=>(s,h,f)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${f("fresnel")}(${f("surfaceToView")}, ${f("texturedViewNormal")}, ${f("modifierFresnelBiasEdge",h)}, ${f("modifierFresnelBiasCenter",h)}, ${f("modifierFresnelPower",h)});\n\t\t\t\tfloat value = mix(${f("modifierFresnelEdge",h)}.r, ${f("modifierFresnelCenter",h)}.r, fresnelAmount);\n\t\t\t`:`float value = ${f("modifierValue",h)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${f("modifierFactor",h)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${l}\n\t\t}`,qe={tintColor:(l,s,h)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${h("fresnel")}(${h("surfaceToView")}, ${h("texturedViewNormal")}, ${h("modifierFresnelBiasEdge",s)}, ${h("modifierFresnelBiasCenter",s)}, ${h("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${h("modifierFresnelEdge",s)}.rgb, ${h("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${h("modifierColorValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${h("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(l,s,h)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${h("fresnel")}(${h("surfaceToView")}, ${h("texturedViewNormal")}, ${h("modifierFresnelBiasEdge",s)}, ${h("modifierFresnelBiasCenter",s)}, ${h("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${h("modifierFresnelEdge",s)}.r, ${h("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${h("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${h("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:we("fragColor.a *= value;"),contrast:we("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(l,s,h)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${h("fresnel")}(${h("surfaceToView")}, ${h("texturedViewNormal")}, ${h("modifierFresnelBiasEdge",s)}, ${h("modifierFresnelBiasCenter",s)}, ${h("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${h("modifierFresnelEdge",s)}.r, ${h("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${h("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${h("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`};function Ft(l,s){return s.modifiers?.map((h,f)=>{if("opacity"!==h.applyTo){const D=qe[h.applyTo];if(D)return D(h,f,l,s);console.warn("modifier not implemented",h.applyTo)}return""}).join("\n\t")}function pn(l,s){return s.modifiers?.map((h,f)=>"opacity"===h.applyTo?(0,qe[h.applyTo])(h,f,l,s):"").join("\n\t")}function Vn(l,s){return(0,d.dot)(l,s)+l[3]}function zr(l,s=l){let h=(0,d.length)(l);return h>0&&(h=1/h),(0,Hi.scale)(s,l,h),s}function Dr(l,s){const h=s[0],f=s[1],D=s[2],Y=s[3],fe=s[4],de=s[5],xe=s[6],Te=s[7],Ne=s[8],Ue=s[9],it=s[10],vt=s[11],Et=s[12],Lt=s[13],Tt=s[14],Gt=s[15];zr((0,Hi.set)(l[0],Y-h,Te-fe,vt-Ne,Gt-Et)),zr((0,Hi.set)(l[1],Y+h,Te+fe,vt+Ne,Gt+Et)),zr((0,Hi.set)(l[2],Y+f,Te+de,vt+Ue,Gt+Lt)),zr((0,Hi.set)(l[3],Y-f,Te-de,vt-Ue,Gt-Lt)),zr((0,Hi.set)(l[4],Y-D,Te-xe,vt-it,Gt-Tt)),zr((0,Hi.set)(l[5],Y+D,Te+xe,vt+it,Gt+Tt))}function uo(l,s,h,f,D=0,Y=0){const fe=f*f;let de=0;for(let xe=0;xe<3;xe++){const Te=h[xe],Ne=Math.max(l[xe+D],Math.min(s[xe+Y],Te))-Te;if(de+=Ne*Ne,de>fe)return-1/0}return Math.sqrt(de)}function Uo(l,s,h){return l&&h>=0?uo(l.min,l.max,s,h):-1/0}const qo={...yc,multiDraw:!1,multiMaterial:!1,topology:kt.triangles,quantizedPositions:!1,octNormals:!1,quantizedUVs:!1,vertexColors:!1,morphTarget:!1,normals:!0,tangents:!1},Ks={...Ho("mat4","modelMatrix",!1),...Ho("mat4","normalMatrix",!1),...Ho("mat4","decodePositions",!1),...Ho("mat3","decodeUVs",!1),...Ho("float","morphFactor",!1),...Ho("mat4","decodeMorphPositions",!1),"attr:position":Ua("vec3","position",0),"attr:normal":Ua("vec3","normal",1),"attr:tangent":Ua("vec3","tangent",4),"attr:color":Ua("vec4","color",3),"attr:texcoord":Ua("vec2","texcoord",2),"attr:morphPosition":Ua("vec3","morphPosition"),"attr:morphNormal":Ua("vec3","morphNormal"),"attr:morphTangent":Ua("vec3","morphTangent"),vModelPosition:Zo("vec3","modelPosition"),modelPosition(l,s,h,f){if(l===fs.frag)return{symbol:f("vModelPosition")};const D=h?.quantizedPositions,Y=[`vec3 modelPosition = ${D?`${f("transformMat4")}(${f("decodePositions")}, ${f("attr:position")})`:f("attr:position")};`];return h.morphTarget&&Y.push(`vec3 morphModelPosition = ${D?`${f("transformMat4")}(${f("decodeMorphPositions")}, ${f("attr:morphPosition")})`:f("attr:morphPosition")};`,`modelPosition = mix(modelPosition, morphModelPosition, ${f("morphFactor")});`),{main:Y}},vNormal:Zo("vec3","normal"),normal(l,s,h,f){if(!h.normals)return{symbol:"vec3(0.0)"};if(l===fs.frag)return{main:[`vec3 normal = normalize(${f("vNormal")});`]};const D=h?.octNormals,Y=[D?`vec3 decodedNormal = ${f("octDecode")}(${f("attr:normal")}.xy);`:`vec3 decodedNormal = ${f("attr:normal")};`];return h.morphTarget&&Y.push(D?`vec3 decodedMorphNormal = ${f("octDecode")}(${f("attr:morphNormal")}.xy);`:`vec3 decodedMorphNormal = ${f("attr:morphNormal")};`,`decodedNormal = mix(decodedNormal, decodedMorphNormal, ${f("morphFactor")});`),Y.push(`vec3 modelNormal = ${f("transformMat4")}(${f("normalMatrix")}, decodedNormal);`),{main:Y,symbol:"modelNormal"}},vTangent:Zo("vec3","tangent"),tangent:(l,s,h,f)=>l===fs.frag?{main:[`vec3 tangent = ${f("vTangent")};`]}:{main:h.morphTarget?`vec3 modelTangent = mix(${f("attr:tangent")}, ${f("attr:morphTangent")}, ${f("morphFactor")});`:`vec3 modelTangent = ${f("attr:tangent")};`,symbol:"modelTangent"},vTexCoord:Zo("vec2","texCoord"),texCoord:(l,s,h,f)=>l===fs.frag?{symbol:f("vTexCoord")}:{main:[`vec2 texCoord = ${h?.quantizedUVs?`(${f("decodeUVs")} * vec3(${f("attr:texcoord")}, 1.0)).uv`:f("attr:texcoord")};`]},vVertexColor:Zo("vec4","vertexColor"),vertexColor:(l,s,h,f)=>l===fs.frag?{symbol:f("vVertexColor")}:{symbol:f("attr:color")},octDecode:"vec3 octDecode(vec2 oct) {\n\t\tvec3 v = vec3(oct.xy, 1.0 - abs(oct.x) - abs(oct.y));\n\t\tif (v.z < 0.0) {\n\t\t\tv.xy = (1.0 - abs(v.yx)) * vec2(v.x >= 0.0 ? 1.0 : -1.0, v.y >= 0.0 ? 1.0 : -1.0);\n\t\t}\n\t\treturn normalize(v);\n\t}"},na={screenResolution:"uniform vec2 screenResolution;",viewIndex(l,s,h){if(l!==fs.vert)throw new Error("multiview viewIndex only allowed in vertex shader");return h.multiView?{extensions:["#extension GL_OVR_multiview : require"],declare:"layout(num_views=2) in;",symbol:"gl_ViewID_OVR"}:"0"},projectionMatrixArray:"uniform mat4 projectionMatrix[2];",projectionMatrix:(l,s,h,f)=>h.multiView?{requires:"projectionMatrixArray",symbol:`projectionMatrix[${f("viewIndex")}]`}:"uniform mat4 projectionMatrix;",viewMatrixInverseArray:"uniform mat4 viewMatrixInverse[2];",vViewMatrixInverse:Zo("mat4","viewMatrixInverse","vViewMatrixInverse"),viewMatrixInverse:(l,s,h,f)=>h.multiView?l===fs.vert?{requires:"viewMatrixInverseArray",symbol:`viewMatrixInverse[${f("viewIndex")}]`}:{symbol:f("vViewMatrixInverse")}:"uniform mat4 viewMatrixInverse;",cameraPositionArray:"uniform vec3 cameraPosition[2];",vCameraPosition:Zo("vec3","cameraPosition","vCameraPosition"),cameraPosition:(l,s,h,f)=>h.multiView?l===fs.vert?{requires:"cameraPositionArray",symbol:`cameraPosition[${f("viewIndex")}]`}:{symbol:f("vCameraPosition")}:"uniform vec3 cameraPosition;",viewMatrixArray:"uniform mat4 viewMatrix[2];",vViewMatrix:Zo("mat4","viewMatrix","vViewMatrix"),viewMatrix:(l,s,h,f)=>h.multiView?l===fs.vert?{requires:"viewMatrixArray",symbol:`viewMatrix[${f("viewIndex")}]`}:{symbol:f("vViewMatrix")}:"uniform mat4 viewMatrix;"},Gs={...qo,multiView:!1,...yc},Uc={...Ks,...na,...bc,...Ho("mat4","modelViewMatrix[2]",!1,"modelViewMatrixArray"),vModelViewMatrix:Zo("mat4","modelViewMatrix","vModelViewMatrix"),modelViewMatrixSamplerOffset:(l,s,h)=>h?.multiView?{declare:{define:"uniform uint modelViewMatrixSamplerOffset[2];",samplerOffsetTarget:"modelViewMatrix"}}:{declare:{define:"uniform uint modelViewMatrixSamplerOffset;",samplerOffsetTarget:"modelViewMatrix"}},modelViewMatrix:(l,s,h,f)=>(h?.multiDraw||h?.multiView)&&l===fs.frag?{symbol:f("vModelViewMatrix")}:h?.multiView?h?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model",count:2},main:`mat4 modelViewMatrix = ${f("sampleBatchMatrix4")}(${f("vec4ModelSampler")}, ${f("gl_DrawID")}, ${f("modelViewMatrixSamplerOffset")}[${f("viewIndex")}]);`}:{symbol:`${f("modelViewMatrixArray")}[${f("viewIndex")}]`}:h?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model"},main:`mat4 modelViewMatrix = ${f("sampleBatchMatrix4")}(${f("vec4ModelSampler")}, ${f("gl_DrawID")}, ${f("modelViewMatrixSamplerOffset")});`}:"uniform mat4 modelViewMatrix;",vScreenPosition:Zo("vec4","screenPosition"),screenPosition:(l,s,h,f)=>l===fs.frag?{symbol:f("vScreenPosition")}:{main:[`vec4 screenPosition = ${f("projectionMatrix")} * ${f("modelViewMatrix")} * vec4(${f("modelPosition")}, 1.0);`]},vWorldPosition:Zo("vec3","worldPosition"),worldPosition:(l,s,h,f)=>l===fs.frag&&h.topology!==kt.points?{symbol:f("vWorldPosition")}:{main:[`vec3 worldPosition = ${f("transformMat4")}(${f("modelMatrix")}, ${f("modelPosition")});`]},vViewPosition:Zo("vec3","viewPosition"),viewPosition:(l,s,h,f)=>l===fs.frag?{symbol:f("vViewPosition")}:{main:[`vec3 viewPosition = ${f("transformMat4")}(${f("viewMatrix")}, ${f("worldPosition")});`]},normalizedViewPosition:(l,s,h,f)=>({main:`vec3 normalizedViewPosition = normalize(${f("viewPosition")});`}),vSurfaceToView:Zo("vec3","surfaceToView"),surfaceToView:(l,s,h,f)=>l===fs.frag?{main:[`vec3 surfaceToView = normalize(${f("vSurfaceToView")});`]}:{main:[`vec3 surfaceToView = ${f("transformMat4")}(${f("viewMatrix")}, ${f("cameraPosition")}) - ${f("viewPosition")};`]}};let Ra=function(l){return l.opaque="opaque",l.blend="blend",l.test="test",l.hidden="hidden",l}({});const Ia={...Gs,alphaMode:Ra.opaque,textureLODext:!1};function ul(l,s,h="baseColor",f="a"){const D=f?h+"."+f:h;return s.alphaMode===Ra.test?`\n\t\tif (${D} <= 0.0) {\n\t\t\tdiscard;\n\t\t}\n\t\tif (${l("discardOpaque")} && ${D} >= 1.0) {\n\t\t\tdiscard;\n\t\t} else if (!${l("discardOpaque")} && ${D} < 1.0) {\n\t\t\tdiscard;\n\t\t}`:""}const pc={...Uc,discardOpaque:"uniform bool discardOpaque;",...Ho("float","opacity"),ambientLightColor:"uniform vec3 ambientLightColor;",gl_FragColor:(l,s,h)=>h.webGlVersion>=2?{declare:"out vec4 outputFragColor;",symbol:"outputFragColor"}:{symbol:"gl_FragColor"},extStandardDerivatives:(l,s,h)=>h.webGlVersion>=2?{}:{extensions:"#extension GL_OES_standard_derivatives : enable"},texture2D:(l,s,h)=>({symbol:h.webGlVersion>=2?"texture":"texture2D"}),textureCube:(l,s,h)=>({symbol:h.webGlVersion>=2?"texture":"textureCube"}),textureCubeLod:(l,s,h)=>h.webGlVersion>=2?{symbol:"textureLod"}:h?.textureLODext?{extensions:"#extension GL_EXT_shader_texture_lod : enable",symbol:"textureCubeLodEXT"}:{symbol:"textureCube"},PI:"#define PI 3.141592653589793",RECIPROCAL_PI:"#define RECIPROCAL_PI 0.3183098861837907",EPSILON:"#define EPSILON 1e-6",saturate:"#define saturate(a) clamp( a, 0.0, 1.0 )",pow2:"#define pow2(n) (n * n)",pow5:"\n\t\tfloat pow5(float n) {\n\t\t\tfloat n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\tvec3 pow5(vec3 n) {\n\t\t\tvec3 n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\t",transformMat4:"vec3 transformMat4(mat4 m, vec3 v) {\n\t\tvec4 v4 = m * vec4(v, 1.0);\n\t\treturn v4.xyz;\n\t}",isnan:(l,s,h)=>h.webGlVersion>=2?{symbol:"isnan"}:["bool isnan(float val) {\n\t\t\t\treturn !(val < 0.0 || 0.0 < val || val == 0.0);\n\t\t\t}","bvec2 isnan(vec2 v) { return bvec2(isnan(v.x), isnan(v.y)); }","bvec3 isnan(vec3 v) { return bvec3(isnan(v.xy), isnan(v.z)); }","bvec4 isnan(vec4 v) { return bvec4(isnan(v.xyz), isnan(v.w)); }"].join("\n"),isinf:(l,s,h)=>h.webGlVersion>=2?{symbol:"isinf"}:["bool isinf( float val ) {\n\t\t\t\tconst float inf = 1.0/0.0;\n\t\t\t\treturn abs(val) == inf;\n\t\t\t}","bvec2 isinf(vec2 v) { return bvec2(isinf(v.x), isinf(v.y)); }","bvec3 isinf(vec3 v) { return bvec3(isinf(v.xy), isinf(v.z)); }","bvec4 isinf(vec4 v) { return bvec4(isinf(v.xyz), isinf(v.w)); }"].join("\n")},mc=l=>{const s="gradientStops"in l?l.gradientStops.map(h=>h.value):[l.center,l.edge];return{min:Math.min(...s),max:Math.max(...s)}};function eu(l,s,h){if(!l.visible||!l.geometry.count||(l.updateWorldMatrix(),!l.renderable))return Ra.hidden;const{twoPass:f=!1,maxClipDistances:D=0}=h||{},{opacity:Y}=l.material,{opaque:fe,blend:de,hidden:xe}=Ra;let Te=Ra.opaque;const Ne=!f,Ue=Ra.test,it=Ne?de:Ue;l.updateWorldBounds();const{min:vt,max:Et}=l.worldBounds,Lt=R.get(),Tt=R.get();for(let wn=0,Fn=l.clippable&&s?.length||0;wn<Fn;wn++){const{plane:$n,fade:pr}=s[wn];if(Tt[0]=$n[0]>0?Et[0]:vt[0],Tt[1]=$n[1]>0?Et[1]:vt[1],Tt[2]=$n[2]>0?Et[2]:vt[2],Vn($n,Tt)<=0)return xe;Te===fe&&(pr>0||wn>=D)&&(Lt[0]=$n[0]<0?Et[0]:vt[0],Lt[1]=$n[1]<0?Et[1]:vt[1],Lt[2]=$n[2]<0?Et[2]:vt[2],Vn($n,Lt)<pr&&(Te=it))}R.release(Lt),R.release(Tt);const{material:Gt}=l;let Cn=Y,fn=Y;if(Y<1&&Gt instanceof Ht&&l.geometry.attributes.normal){const{glassFactor:wn,murkiness:Fn}=Gt,$n=wn*Fn,pr=wn*(Fn-1),hr=Math.min($n,pr),wr=Math.max($n,pr);Cn=Math.max(hr,Cn),fn=Math.max(wr,fn)}if(Te!==it)if(Gt instanceof Ht){for(const wn of Gt.textures)if("alpha"===wn.applyTo||"transparency"===wn.applyTo){Te=it,Cn=0,fn=1;break}}else Gt.opacityMaps.length&&(Te=it,Cn=0,fn=1);if("transparencyFresnel"in Gt&&Gt.transparencyFresnel){const{transparencyFresnel:wn}=Gt;let Fn=1-fn,$n=1-Cn;const{min:pr,max:hr}=mc(wn);if("add"===wn.blendMode?($n+=hr,Fn+=pr):($n*=hr,Fn*=pr),fn=re(1-Fn),Cn=re(1-$n),0===fn)return xe}if("alphaFresnel"in Gt&&Gt.alphaFresnel){const{alphaFresnel:wn}=Gt,{min:Fn,max:$n}=mc(wn);if("add"===wn.blendMode?(fn=re(fn+$n),Cn=re(Cn+Fn)):(fn=re(fn*$n),Cn=re(Cn*Fn)),0===fn)return xe}if("opacityFresnel"in Gt&&Gt.opacityFresnel){const{opacityFresnel:wn}=Gt,{min:Fn,max:$n}=mc(wn);if("add"===wn.blendMode?(fn=re(fn+$n),Cn=re(Cn+Fn)):(fn=re(fn*$n),Cn=re(Cn*Fn)),0===fn)return xe}const{geometry:xn}=l;if(xn.attributes?.color&&(Te=de),l.modifiers.forEach(wn=>{if("opacity"===wn.applyTo){let Fn=0,$n=1;if("range"in wn){let pr=wn.value,hr=1,wr=wn.range.minRadius,di=wn.range.maxRadius;const Ai=R.get();if(wn.parent){wn.parent.updateWorldMatrix();const ei=R.get();(0,F.getScaling)(ei,wn.parent.worldMatrix);const yi=(ei[0]+ei[1]+ei[2])/3;wr*=yi,di*=yi,R.release(ei),(0,d.transformMat4)(Ai,wn.range.center,wn.parent.worldMatrix)}else(0,d.copy)(Ai,wn.range.center);if(wr>di&&(hr=pr,pr=1,wr=di,di=wn.range.minRadius),Uo(l.worldBounds,Ai,1/0)>=di)Fn=hr,$n=hr;else{const ei=wr*wr;(0,d.squaredDistance)(Ai,vt)<=ei&&(0,d.squaredDistance)(Ai,Et)<=ei?(Fn=pr,$n=pr):(Fn=Math.min(wn.value,1),$n=Math.max(wn.value,1))}R.release(Ai)}else"fresnel"in wn?(Fn=Math.min(wn.fresnel.center,wn.fresnel.edge),$n=Math.max(wn.fresnel.center,wn.fresnel.edge)):(Fn=wn.value,$n=wn.value);fn*=$n,Cn*=Fn}}),fn<=0)return xe;if(Cn<1){if(Ne||fn<1)return de;Te=Ue}return Te}const od=(0,w(24434).objectSorter)({sort:{array:!1,typedArray:!1,map:!0,object:!0,set:!0}});function sd(l){return od(l)}function qc(l){const s=Object.keys(l).sort();return function(h){const f=[];for(let D=0;D<s.length;D++){const Y=s[D],fe=h[Y];void 0!==fe&&f.push(Y+":"+sd(fe))}return"{"+f.toString()+"}"}}const Jc={clips:0,maxClipDistances:0};function Sc(l,s){return Qn(Math.min(s.clips,s.maxClipDistances),h=>`{\n\t\tvec4 plane = ${l("clippingPlane",h)}.plane;\n\t\t${l("gl_ClipDistance",h)} = dot(${l("worldPosition4")}, plane);\n\t}`).join("\n\t")}const Pu={ClippingPlane:"struct ClippingPlane {\n\t\tvec4 plane;\n\t\tfloat fade;\n\t};",worldPosition4:(l,s,h,f)=>({main:[`vec4 worldPosition4 = vec4(${f("worldPosition")}, 1.0);`]}),gl_ClipDistance:(l,s)=>({extensions:"#extension GL_ANGLE_clip_cull_distance : require",symbol:`gl_ClipDistance[${s}]`}),clippingPlane(l,s){const h=`clippingPlane${s}`;return{requires:["ClippingPlane"],declare:`uniform ClippingPlane ${h};`,symbol:h}},clippingPlaneAlpha:(l,s,h,f)=>({main:`float clippingPlaneAlpha = 1.0; {\n\t\t\tfloat distTransparency = 0.0;\n\t\t\t${Qn(h.clips,D=>`{\n\t\t\t\tvec4 plane = ${f("clippingPlane",D)}.plane;\n\t\t\t\tfloat fade = ${f("clippingPlane",D)}.fade;\n\t\t\t\tfloat planeDistance = dot(${f("worldPosition4")}, plane);\n\t\t\t\tfloat fadeAmount = fade == 0.0 ? -sign(planeDistance) : 1.0 - clamp(planeDistance / fade, 0.0, 1.0);\n\t\t\t\tdistTransparency = max(distTransparency, fadeAmount);\n\t\t\t}`).join("\n\t")}\n\t\t\tclippingPlaneAlpha = 1.0 - distTransparency;\n\t\t}`})},tu={struct:-1,attribute:1,in:2,uniform:3,varying:4,out:5,const:6},Xs=/^\s*(struct|attribute|uniform|varying|in|out|const)\s+/,Fu=(l,s)=>{const[h,f]=l,[D,Y]=s,fe=h.startsWith("#define")?-1:1,de=D.startsWith("#define")?-1:1;if(fe!==de)return fe-de;const xe=Xs.exec(h),Te=xe&&tu[xe[1]]||1/0,Ne=Xs.exec(D),Ue=Ne&&tu[Ne[1]]||1/0;return Te!==Ue?Te-Ue:f-Y},Ca=l=>({extensions:s,declare:h,main:f})=>{const D=l?.webGlVersion>=2?"#version 300 es\n":"",Y=l?.precision||"highp",fe=h.map((de,xe)=>[de,xe]).sort(Fu).map(([de])=>de);return D+`${s.join("\n").trim()}\n\n\t${"highp"===Y?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif":`precision ${Y} float;`}\n\n\t${fe.join("\n").trim()}\n\tvoid main() {\n\t${f.map(de=>"\t"+de).join("\n")}\n\t}`},Va={acesNarkowicz:"ACESNarkowicz",linear:"",granTurismo:"GranTurismoToneMap",pbrNeutral:"PBRNeutralToneMapping"},ku={linearToGamma:"vec4 linearToGamma( in vec4 value, in float gammaFactor ) {\n\t\treturn vec4( pow( max(vec3(0.0), value.rgb), vec3( 1.0 / gammaFactor ) ), value.a );\n\t}",sRGBToLinear:"vec4 sRGBToLinear( in vec4 value ) {\n\t\treturn vec4(\n\t\t\tmix(\n\t\t\t\tpow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ),\n\t\t\t\tvalue.rgb * 0.0773993808,\n\t\t\t\tvec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) )\n\t\t\t),\n\t\t\tvalue.w\n\t\t);\n\t}",ACESNarkowicz:"vec3 ACESNarkowicz(vec3 color) {\n\t\tconst float A = 2.51;\n\t\tconst float B = 0.03;\n\t\tconst float C = 2.43;\n\t\tconst float D = 0.59;\n\t\tconst float E = 0.14;\n\t\treturn clamp((color * (A * color + B)) / (color * (C * color + D) + E), 0.0, 1.0);\n\t}",GranTurismoToneMap:"vec3 GranTurismoToneMap(vec3 color) {\n\t\tconst float P = 1.0;  \n\t\tconst float a = 1.0;  \n\t\tconst float m = 0.22; \n\t\tconst float l = 0.4;  \n\t\tconst float c = 1.33; \n\t\tconst float b = 0.0;  \n\t\tconst vec3 P3 = vec3(P);\n\t\tconst vec3 m3 = vec3(m);\n\t\tconst vec3 c3 = vec3(c);\n\t\tfloat l0 = ((P - m) * l) / a;\n\t\tfloat L0 = m - m / a;\n\t\tfloat L1 = m + (1.0 - m) / a;\n\t\tfloat S0 = m + l0;\n\t\tfloat S1 = m + a * l0;\n\t\tfloat C2 = (a * P) / (P - S1);\n\t\tfloat CP = -C2 / P;\n\t\tvec3 w0 = 1.0 - smoothstep(0.0, m, color);\n\t\tvec3 w2 = step(m + l0, color);\n\t\tvec3 w1 = 1.0 - w0 - w2;\n\t\tvec3 T = m3 * pow(color / m3, c3) + vec3(b);\n\t\tvec3 S = P3 - (P3 - vec3(S1)) * exp(vec3(CP) * (color - vec3(S0)));\n\t\tvec3 L = m3 + vec3(a) * (color - m3);\n\t\treturn T * w0 + L * w1 + S * w2;\n\t}",PBRNeutralToneMapping:"vec3 PBRNeutralToneMapping( vec3 color ) {\n\t\tconst float startCompression = 0.8 - 0.04;\n\t\tconst float desaturation = 0.15;\n\n\t\tfloat x = min(color.r, min(color.g, color.b));\n\t\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\t\tcolor -= offset;\n\n\t\tfloat peak = max(color.r, max(color.g, color.b));\n\t\tif (peak < startCompression) return color;\n\n\t\tconst float d = 1. - startCompression;\n\t\tfloat newPeak = 1. - d * d / (peak + d - startCompression);\n\t\tcolor *= newPeak / peak;\n\n\t\tfloat g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);\n\t\treturn mix(color, newPeak * vec3(1, 1, 1), g);\n\t}",toneMap(l,s,h,f){const D=Va[h?.toneMap];return`vec3 toneMap(vec3 color) {\n\t\t\t${D?`color = ${f(D)}(color);`:""}\n\t\t\treturn color;\n\t\t}`}};function Wa(l){return l.replace(/^(\w)/,s=>s.toUpperCase())}const Vc={...Ia,uvScale:!1,uvRotate:!1,uvTranslate:!1};function ja(l,s,h,f,D){const{blendMode:Y}=f,fe=`sample${Wa(l)}Texture`,de=D(l+"TextureBlendFactor",h);return`{\n\t\tvec3 texSample = ${D("sRGBToLinear")}(${D(fe,h)}).rgb;\n\t\t${"multiply"===Y?`${s} *= 1.0 - ${de} * (1.0 - texSample);`:"over"===Y?`${s} = mix(${s}, texSample, ${de});`:`${s} += ${de} * texSample;`}\n\t}`}function jc(l,s,h,f,D){const{blendMode:Y,channel:fe,invert:de}=f,xe=`sample${Wa(l)}Texture`,Te=D(l+"TextureBlendFactor",h);return`{\n\t\tfloat texSample = (${D(xe,h)}).${fe};\n\t\t${de?"texSample = 1.0 - texSample;":""}\n\t\t${"over"===Y?`${s} = mix(${s}, texSample, ${Te});`:"multiply"===Y?`${s} *= 1.0 - ${Te} * (1.0 - texSample);`:`${s} += ${Te} * texSample;`}\n\t}`}function Rc(l){const s=`${l}TextureLayers`,h=`${l}TextureBlendFactor`;return{[`sample${Wa(l)}Texture`]:(D,Y,fe,de)=>({symbol:de("textureSample",fe[s][Y].samplerIndex)}),[h](D,Y){const fe=h+Y;return{declare:`uniform float ${fe};`,symbol:fe}}}}function qa(l,s,h){return`{\n\t\t${h} *=  ${s("pointUVScale")};\n\t\t${l.uvTranslate?`${h} += ${s("uvTranslate")};`:""}\n\t\t${l.uvRotate?`\n\t\t\tvec2 centerCoord = ${l.uvTranslate?`${s("uvTranslate")} + ${s("pointUVScale")} * 0.5`:"vec2(0.5)"};\n\t\t\tvec2 pivot = ${h} - centerCoord;\n\t\t\tfloat c = ${s("cosPointRotation")};\n\t\t\tfloat s = ${s("sinPointRotation")};\n\t\t\t${h}.x = c * pivot.x + s * pivot.y + centerCoord.x;\n\t\t\t${h}.y = c * pivot.y - s * pivot.x + centerCoord.y;\n\t\t`:""}\n\t}`}const Ja={"attr:uvTranslate":Ua("vec2","uvTranslate"),"attr:uvRotate":Ua("float","uvRotate"),...Ho("vec2","pointUVScale"),vUvTranslate:Zo("vec2","uvTranslate"),uvTranslate:(l,s,h,f)=>l===fs.frag?{symbol:f("vUvTranslate")}:{symbol:f("attr:uvTranslate")},texCoord:(l,s,h,f)=>l===fs.frag&&h.topology===kt.points?{main:["vec2 pointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",qa(h,f,"pointTexCoord")],symbol:"pointTexCoord"}:l===fs.frag?{symbol:f("vTexCoord")}:{main:[`vec2 texCoord = ${h?.quantizedUVs?`(${f("decodeUVs")} * vec3(${f("attr:texcoord")}, 1.0)).xy`:f("attr:texcoord")};`]},vFlippedTexCoord:Zo("vec2","flippedTexCoord"),flippedTexCoord:(l,s,h,f)=>l===fs.frag?h.topology===kt.points?{main:["vec2 flippedPointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",qa(h,f,"flippedPointTexCoord"),"flippedPointTexCoord.y = 1.0 - flippedPointTexCoord.y;"],symbol:"flippedPointTexCoord"}:{symbol:f("vFlippedTexCoord")}:{main:`vec2 flippedTexCoord = vec2(${f("texCoord")}.x, 1.0 - ${f("texCoord")}.y);`,symbol:"flippedTexCoord"},vCosPointRotation:Zo("float","cosPointRotation"),cosPointRotation:(l,s,h,f)=>l===fs.frag?{symbol:f("vCosPointRotation")}:{main:[`float cosPointRotation = cos(${f("attr:uvRotate")});`]},vSinPointRotation:Zo("float","sinPointRotation"),sinPointRotation:(l,s,h,f)=>l===fs.frag?{symbol:f("vSinPointRotation")}:{main:[`float sinPointRotation = sin(${f("attr:uvRotate")});`]}};function Cl(l){return Math.floor(l)===l&&l!==1/0&&l!==-1/0?l+".0":String(l)}const Bu={roundPoints:!1,maxPointSize:256,perspectivePoints:!1,scaleAttr:!1},i={"attr:scale":Ua("float","scale"),...Ho("float","pointSize"),glPointSize(l,s,h,f){if(l!==fs.vert||h.topology!==kt.points)return"0.0";const D=Cl(Math.floor(h.maxPointSize)),Y=Cl(20*ce),fe=Cl($);return{main:`\n\t\t\t\t\tfloat glPointSize = ${h.perspectivePoints?`${f("pointSize")} * ${Y} / length(${f("viewPosition")})`:f("pointSize")};\n\t\t\t\t\t${h.scaleAttr?`glPointSize *= ${f("attr:scale")};`:""}\n\t\t\t\t\tglPointSize *= ${fe} * ${f("screenResolution")}.y;\n\t\t\t\t\tglPointSize = clamp(glPointSize, 0.0, ${D});\n\t\t\t\t`,symbol:"glPointSize"}}},m={...qo,...Vc,...Dc,samplers:[],baseColorTextureLayers:[],opacityTextureLayers:[]},ie={...id,...Ho("vec3","baseColor"),...Rc("baseColor"),...Rc("opacity"),textureSample(l,s,h,f){const D="textureSample"+s,Y="textureSampler"+s,fe=f("bottom-up"===h.samplers[s].rowOrder?"flippedTexCoord":"texCoord");return{symbol:D,declare:`uniform sampler2D ${Y};`,main:[`vec4 ${D} = ${f("texture2D")}(${Y}, ${fe});`]}},vViewNormal:Zo("vec3","viewNormal"),viewNormal:(l,s,h,f)=>l===fs.frag?{main:[`vec3 viewNormal = normalize(${f("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${f("viewMatrix")} * vec4(${f("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(l,s,h,f)=>({symbol:f("viewNormal")}),color:(l,s,h,f)=>({main:`\n\t\t\t\tvec3 color = ${f("baseColor")}.rgb;\n\t\t\t\t${h.vertexColors?`color *= ${f("vertexColor")}.rgb;`:""}\n\t\t\t\t${h.baseColorTextureLayers.map((D,Y)=>ja("baseColor","color",Y,D,f)).join("\n")}\n\t\t\t\t${h.baseColorFresnel?`color = ${f("baseColorFresnelColor")}(color, ${f("surfaceToView")}, ${f("texturedViewNormal")});`:""}\n\t\t\t`}),alpha:(l,s,h,f)=>({main:`\n\t\t\tfloat alpha = ${f("opacity")};\n\t\t\t${h.vertexColors?`alpha *= ${f("vertexColor")}.a;`:""}\n\t\t\t${h.opacityTextureLayers.map((D,Y)=>jc("opacity","alpha",Y,D,f)).join("\n")}\n\t\t\t${h.opacityFresnel?`alpha = ${f("opacityFresnelValue")}(alpha, ${f("surfaceToView")}, ${f("texturedViewNormal")});`:""}\n\t\t\t`})},Xe={...Ia,...m,...Vc,...Zc,...Bu,...Jc,baseColorTextureLayers:[],opacityTextureLayers:[]},gt={...pc,...ie,...Pu,...Fd,...ku,...Ja,...i,Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};"};function Kt(l,s){const h={};return s.forEach(f=>{const D=l[f],Y=String(f);D&&(h[Y]=!0,h[Y+"BlendMode"]=D.blendMode||"multiply","gradientStops"in D&&(h[Y+rc.size]=D.gradientStops.length))}),h}function un(l,s){const h={};return s.forEach(f=>{const D=l[f],Y=String(f);D&&("gradientStops"in D?D.gradientStops.sort((fe,de)=>fe.position-de.position).forEach((fe,de)=>{h[`${Y}${rc.position}${de}`]=fe.position,h[`${Y}${rc.power}${de}`]=fe.power,h[`${Y}${rc.value}${de}`]="color"in fe?fe.color:fe.value}):["biasCenter","biasEdge","power","center","edge"].forEach(fe=>{h[Y+Wa(fe)]=D[fe]}))}),h}const cn=["baseColorFresnel","opacityFresnel"],Un=["baseColorMaps","opacityMaps"],Jn=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"]],_r={Fog:"struct Fog {\n\t\tvec3 color;\n\t\tfloat density;\n\t\tfloat start;\n\t\tfloat end;\n\t\tfloat min;\n\t\tfloat max;\n\t};",fog:{requires:["Fog"],declare:["uniform Fog fog;"]},applyFog(l,s,h,f){const D=h.fog;return`vec3 applyFog(vec3 color) {\n\t\t\t${f("Fog")} f = ${f("fog")};\n\n\t\t\tfloat fogDistance = length(${f("viewPosition")}.xyz) - f.start;\n\n\t\t\t${"linear"===D?"\n\t\t\t\tfloat fogAmount = fogDistance / (f.end - f.start);":`\n\n\t\t\t\tfloat fogAttenuation = f.density * max(fogDistance, 0.0);\n\t\t\t\t${"exp2"===D?"fogAttenuation *= fogAttenuation;":""}\n\t\t\t\tfloat fogAmount = 1.0 - exp(-fogAttenuation);`}\n\n\t\t\tfogAmount = clamp(fogAmount, f.min, f.max);\n\t\t\treturn mix(color, f.color, fogAmount);\n\t\t}`}},Kr={baseFresnel:!1,baseFresnelBlendMode:nc.multiply,baseFresnelGradientStopsLength:0,alphaFresnel:!1,alphaFresnelBlendMode:nc.multiply,alphaFresnelGradientStopsLength:0,specularFresnel:!1,specularFresnelBlendMode:nc.multiply,specularFresnelGradientStopsLength:0,emitFresnel:!1,emitFresnelBlendMode:nc.multiply,emitFresnelGradientStopsLength:0,transparencyFresnel:!1,transparencyFresnelBlendMode:nc.multiply,transparencyFresnelGradientStopsLength:0,reflectionFresnel:!1,reflectionFresnelBlendMode:nc.multiply,reflectionFresnelGradientStopsLength:0},Gr={...id,...fc("baseFresnel","vec3"),...fc("alphaFresnel","float"),...fc("specularFresnel","vec3"),...fc("emitFresnel","vec3"),...fc("transparencyFresnel","float"),...fc("reflectionFresnel","float")};function $r(l,s,h,f,D,Y){const fe=h("textureBlendFactor",D),de=h("bottom-up"===f.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\tvec4 texSample = ${h("texture2D")}(${h("textureSampler",D)}, ${de});\n\t\t${Y||"over"===f.blendMode?`${l} = mix(${l}, texSample.${s}, ${fe});`:"multiply"===f.blendMode?`${l} *= 1.0 - ${fe} * (1.0 - texSample.${s});`:`${l} += ${fe} * texSample.${s};`}\n\t}`}const ci={transparency:"alpha"},Qi={transparency:(l,s,h,f)=>$r("transparency","r",f,l,s,h),occlusion:(l,s,h,f)=>$r(f("occlusion"),"r",f,l,s,h),metallic:(l,s,h,f)=>$r(f("metallic"),"r",f,l,s,h),roughness:(l,s,h,f)=>$r(f("roughness"),"r",f,l,s,h),shine:(l,s,h,f)=>$r(f("shine"),"r",f,l,s,h),specular:(l,s,h,f)=>$r(f("specular"),"r",f,l,s,h),baseColor(l,s,h,f,D){if(D.metallicMaterial||D.gammaInputPhong){const Y=f("textureBlendFactor",s),fe=f("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${f("sRGBToLinear")}(${f("texture2D")}(${f("textureSampler",s)}, ${fe}));\n\t\t\t\t${h||"over"===l.blendMode?`color = mix(color, texSample.rgb, ${Y});`:"multiply"===l.blendMode?`color *= 1.0 - ${Y} * (1.0 - texSample.rgb);`:`color += ${Y} * texSample.rgb;`}\n\t\t\t}`}return $r("color","rgb",f,l,s,h)},emit(l,s,h,f,D){if(D.metallicMaterial||D.gammaInputPhong){const Y=f("textureBlendFactor",s),fe=f("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${f("sRGBToLinear")}(${f("texture2D")}(${f("textureSampler",s)}, ${fe}));\n\t\t\t\t${h||"over"===l.blendMode?`emitRGB = mix(emitRGB, texSample.rgb, ${Y});`:"multiply"===l.blendMode?`emitRGB *= 1.0 - ${Y} * (1.0 - texSample.rgb);`:`emitRGB += ${Y} * texSample.rgb;`}\n\t\t\t}`}return $r("emitRGB","rgb",f,l,s,h)},alpha(l,s,h,f){const D=f("textureBlendFactor",s),Y=f("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord"),fe=`${f("texture2D")}(${f("textureSampler",s)}, ${Y})`;return h?`transparency = mix(transparency, 1.0 - ${fe}.r, ${D});`:`{\n\t\t\tvec4 texSample = ${fe};\n\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t${"over"===l.blendMode?`alpha = mix(alpha, texSample.r, ${D});`:"multiply"===l.blendMode?`alpha *= 1.0 - ${D} * (1.0 - texSample.r);`:`alpha += ${D} * texSample.r;`}\n\t\t\ttransparency = 1.0 - alpha;\n\t\t}`},normals(l,s,h,f,D){const Y=f("textureBlendFactor",s),fe=h?"=":"+=",de=f("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\tvec4 texSample = ${f("texture2D")}(${f("textureSampler",s)}, ${de});\n\t\t\tvec3 sampledValue = ${D.tangents?`${f("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);`:`${f("perturbNormal2Arb")}(texSample.xyz, ${f("viewPosition")}, ${f("viewNormal")}, ${de});`}\n\t\t\t${"add"===l.blendMode?`${f("texturedViewNormal")} ${fe} sampledValue * ${Y};`:`${f("texturedViewNormal")} = mix(${f("texturedViewNormal")}, sampledValue, ${Y});`}\n\t\t}`}},ai={...Gr,...Ho("vec3","modifierCenter",!1),...Ho("vec2","modifierRadius",!1),...Ho("vec3","modifierColorValue",!1),...Ho("float","modifierValue",!1),...Ho("vec3","modifierFresnelCenter",!1),...Ho("vec3","modifierFresnelEdge",!1),...Ho("float","modifierFresnelBiasCenter",!1),...Ho("float","modifierFresnelBiasEdge",!1),...Ho("float","modifierFresnelPower",!1),modifierFactor:(l,s,h,f)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${f("worldPosition")} - ${f("modifierCenter",s)}) - ${f("modifierRadius",s)}.x) /\n\t\t\t\t${f("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},Do={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function $o(l,s){const h=(l.priority||0)-(s.priority||0);if(h)return h;const f=(Do[l.applyTo]||1/0)-(Do[s.applyTo]||1/0);if(f)return f;const D="range"in l,Y="range"in s;return D!==Y?Number(D)-Number(Y):+("fresnel"in l)-+("fresnel"in s)}const Io=l=>(s,h,f)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${f("fresnel")}(${f("surfaceToView")}, ${f("texturedViewNormal")}, ${f("modifierFresnelBiasEdge",h)}, ${f("modifierFresnelBiasCenter",h)}, ${f("modifierFresnelPower",h)});\n\t\t\t\tfloat value = mix(${f("modifierFresnelEdge",h)}.r, ${f("modifierFresnelCenter",h)}.r, fresnelAmount);\n\t\t\t`:`float value = ${f("modifierValue",h)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${f("modifierFactor",h)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${l}\n\t\t}`,So={tintColor:(l,s,h)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${h("fresnel")}(${h("surfaceToView")}, ${h("texturedViewNormal")}, ${h("modifierFresnelBiasEdge",s)}, ${h("modifierFresnelBiasCenter",s)}, ${h("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${h("modifierFresnelEdge",s)}.rgb, ${h("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${h("modifierColorValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${h("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(l,s,h)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${h("fresnel")}(${h("surfaceToView")}, ${h("texturedViewNormal")}, ${h("modifierFresnelBiasEdge",s)}, ${h("modifierFresnelBiasCenter",s)}, ${h("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${h("modifierFresnelEdge",s)}.r, ${h("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${h("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${h("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Io("fragColor.a *= value;"),contrast:Io("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(l,s,h)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${h("fresnel")}(${h("surfaceToView")}, ${h("texturedViewNormal")}, ${h("modifierFresnelBiasEdge",s)}, ${h("modifierFresnelBiasCenter",s)}, ${h("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${h("modifierFresnelEdge",s)}.r, ${h("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${h("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${h("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`},ko={...Ia,...Vc,...Kr,...Bu,modifiers:[],...Jc,metallicMaterial:!1,gammaInputPhong:!1,textureLayers:[],reflectionMap:!1,environmentReflectionMap:!1,lightMapSpace:"",lights:0,fog:""},br={dir:0,point:1,spot:2},To={...pc,...Ja,...Pu,..._r,...Gr,...ai,...ku,...i,Light:"struct Light {\n\t\tint type;\n\t\tvec3 direction;\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tvec3 attenuation;\n\t\tfloat innerCone;\n\t\tfloat outerCone;\n\n\t\t\n\t\tbool diffuse;\n\t\tbool specular;\n\n\t\t\n\t\tbool viewSpace;\n\t};",lightSource(l,s){const h=`legacyLightSource${s}`;return{requires:"Light",declare:`uniform Light ${h};`,symbol:h}},IncidentLight:"struct IncidentLight {\n\t\tvec3 color;\n\t\tvec3 direction;\n\t};",ReflectedLight:"struct ReflectedLight {\n\t\tvec3 diffuse;\n\t\tvec3 specular;\n\t};",Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};",...Ho("vec3","baseColor"),...Ho("vec4","emitColor"),...Ho("vec3","specularColor"),...Ho("vec3","metalRoughSpecularf0"),...Ho("float","phongShine"),...Ho("float","glassFactor"),...Ho("float","murkiness"),ambientLightColor:{declare:"uniform vec3 legacyAmbientLightColor;",symbol:"legacyAmbientLightColor"},reflectionMap:"uniform samplerCube reflectionMap;",...Ho("float","reflectionMapIntensity"),...Ho("float","reflectionMapMaxMipLevel"),lightMap:"uniform samplerCube lightMap;",...Ho("float","lightMapIntensity"),textureSampler(l,s){const h=`textureSampler${s}`;return{declare:`uniform sampler2D ${h};`,symbol:h}},textureBlendFactor(l,s){const h=`textureBlendFactor${s}`;return{declare:`uniform float ${h};`,symbol:h}},specularF0:(l,s,h,f)=>({symbol:`${f("metalRoughSpecularf0")}.b`}),metallic:(l,s,h,f)=>({main:[`float metallic = ${f("metalRoughSpecularf0")}.r;`]}),roughness:(l,s,h,f)=>({main:[`float roughness = ${f("metalRoughSpecularf0")}.g;`]}),specular:()=>({main:["float specular = 1.0;"]}),occlusion:()=>({main:["float occlusion = 1.0;"]}),shine:(l,s,h,f)=>({main:[`float shine = ${f("phongShine")};`]}),vViewNormal:Zo("vec3","viewNormal"),viewNormal:(l,s,h,f)=>l===fs.frag?{main:[`vec3 viewNormal = normalize(${f("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${f("viewMatrix")} * vec4(${f("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(l,s,h,f)=>({main:[`vec3 texturedViewNormal = ${h.textureLayers?.some(Y=>"normals"===Y.applyTo)?"vec3(0.0)":f("viewNormal")};`]}),vTBN:Zo("mat3","TBN"),TBN:(l,s,h,f)=>({main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tmat3 mat = mat3(${f("modelViewMatrix")});\n\t\t\t\t\tvec3 tangentW = normalize(vec3(mat * ${f("tangent")}));\n\t\t\t\t\tvec3 bitangentW = cross(${f("viewNormal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${f("viewNormal")});\n\t\t\t\t}\n\t\t\t`}),perturbNormal2Arb:{requires:["extStandardDerivatives"],declare:"vec3 perturbNormal2Arb( vec3 texSample, vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( uv.st );\n\t\t\tvec2 st1 = dFdy( uv.st );\n\t\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\t\t\n\t\t\tvec3 N = surf_norm;\n\t\t\tvec3 mapN = texSample * 2.0 - 1.0;\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}"},F_Schlick:"\n\t\tvec3 F_Schlick(const in vec3 specularColor, const in float dotLH) {\n\t\t\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\t\t\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\t\t}",G_GGX_SmithCorrelated:(l,s,h,f)=>`\n\t\tfloat G_GGX_SmithCorrelated(const in float alpha, const in float dotNL, const in float dotNV) {\n\t\t\tfloat a2 = ( alpha * alpha );\n\t\t\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * ( dotNV * dotNV ) );\n\t\t\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * ( dotNL * dotNL ) );\n\t\t\treturn 0.5 / max( gv + gl, ${f("EPSILON")} );\n\t\t}`,D_GGX:(l,s,h,f)=>`\n\t\tfloat D_GGX(const in float alpha, const in float dotNH) {\n\t\t\tfloat a2 = alpha * alpha;\n\t\t\tfloat denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n\t\t\treturn ${f("RECIPROCAL_PI")} * a2 / ( denom * denom );\n\t\t}`,BRDF_Specular_GGX:(l,s,h,f)=>`\n\t\tvec3 BRDF_Specular_GGX(const in IncidentLight incidentLight, const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat alpha = roughness * roughness;\n\t\t\tvec3 halfDir = normalize(incidentLight.direction + geometry.viewEyeDir);\n\t\t\tfloat dotNL = ${f("saturate")}( dot( geometry.viewNormal, incidentLight.direction ) );\n\t\t\tfloat dotNV = ${f("saturate")}( dot( geometry.viewNormal, geometry.viewEyeDir ) );\n\t\t\tfloat dotNH = ${f("saturate")}( dot( geometry.viewNormal, halfDir ) );\n\t\t\tfloat dotLH = ${f("saturate")}( dot( incidentLight.direction, halfDir ) );\n\t\t\tvec3  F = ${f("F_Schlick")}( specularColor, dotLH );\n\t\t\tfloat G = ${f("G_GGX_SmithCorrelated")}( alpha, dotNL, dotNV );\n\t\t\tfloat D = ${f("D_GGX")}( alpha, dotNH );\n\t\t\treturn F * (G * D);\n\t\t}`,computePBRLighting:(l,s,h,f)=>`\n\t\tvoid computePBRLighting(const in IncidentLight incidentLight, const in Geometry geometry, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\tfloat dotNL = ${f("saturate")}(dot(geometry.viewNormal, incidentLight.direction));\n\t\t\tvec3 irradianceOverPi = dotNL * incidentLight.color;\n\t\t\treflectedLight.diffuse += irradianceOverPi * material.diffuseColor;\n\t\t\treflectedLight.specular += irradianceOverPi * ${f("PI")} * ${f("BRDF_Specular_GGX")}(incidentLight, geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular = max(reflectedLight.specular, 0.0);\n\t\t}`,inverseTransformDirection:"vec3 inverseTransformDirection(in vec3 dir, in mat4 matrix) {\n\t\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\t}",GGXRoughnessToBlinnExponent:"float GGXRoughnessToBlinnExponent(const in float ggxRoughness) {\n\t\tfloat r = ggxRoughness + 0.0001;\n\t\treturn (2.0 / (r * r) - 2.0);\n\t}",getSpecularMIPLevel:"float getSpecularMIPLevel(const in float blinnShininessExponent, float maxMipLevels) {\n\t\tfloat desiredMIPLevel = maxMipLevels - 0.79248 - 0.5 * log2(blinnShininessExponent * blinnShininessExponent + 1.0);\n\t\treturn clamp(desiredMIPLevel, 0.0, maxMipLevels);\n\t}",getLightProbeIndirectRadiance:(l,s,h,f)=>`vec3 getLightProbeIndirectRadiance(const in samplerCube reflectMap, const in vec3 reflectVec, const in float blinnShininessExponent, float maxMipLevels) {\n\t\t\tfloat mipLevel = ${f("getSpecularMIPLevel")}(blinnShininessExponent, maxMipLevels); \n\t\t\tvec3 envMapColor = ${f("sRGBToLinear")}(${f("textureCubeLod")}(reflectMap, reflectVec, mipLevel)).rgb;\n\t\t\treturn envMapColor;\n\t\t}`,BRDF_Specular_GGX_Environment:(l,s,h,f)=>`vec3 BRDF_Specular_GGX_Environment(const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat dotNV = ${f("saturate")}(dot(geometry.viewNormal, geometry.viewEyeDir));\n\t\t\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022);\n\t\t\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04);\n\t\t\tvec4 r = roughness * c0 + c1;\n\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * dotNV)) * r.x + r.y;\n\t\t\tvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\treturn specularColor * AB.x + AB.y;\n\t\t}`,computePBRReflectionMapping:(l,s,h,f)=>`void computePBRReflectionMapping(\n\t\t\t\tconst in samplerCube reflectMap,\n\t\t\t\tconst in float intensity,\n\t\t\t\tconst in mat4 viewMatrix,\n\t\t\t\tconst in Geometry geometry,\n\t\t\t\tconst in Material material,\n\t\t\t\tinout ReflectedLight reflectedLight,\n\t\t\t\tfloat maxMipLevel\n\t\t) {\n\t\t\tvec3 reflectVec = reflect(-geometry.viewEyeDir, geometry.viewNormal);\n\t\t\treflectVec = ${f("inverseTransformDirection")}(reflectVec, viewMatrix);\n\t\t\tfloat blinnExpFromRoughness = ${f("GGXRoughnessToBlinnExponent")}(material.specularRoughness);\n\t\t\tvec3 radiance = ${f("getLightProbeIndirectRadiance")}(reflectMap, reflectVec, blinnExpFromRoughness, maxMipLevel);\n\t\t\tvec3 specularBRDFContrib = ${f("BRDF_Specular_GGX_Environment")}(geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular += radiance * specularBRDFContrib * intensity;\n\t\t}`,computePBRLightMapping:(l,s,h,f)=>`void computePBRLightMapping(const in samplerCube lightMap, const in float intensity, const in vec3 normal, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\treflectedLight.diffuse += ${f("sRGBToLinear")}(${f("textureCube")}(lightMap, normal)).rgb * material.diffuseColor * intensity;\n\t\t}`},Ss=["baseFresnel","emitFresnel","alphaFresnel","reflectionFresnel","specularFresnel","transparencyFresnel"],zs=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","metallic","roughness"]),mo=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","specular","shine"]),ga={emissiveFresnel:!1,emissiveFresnelBlendMode:nc.multiply,emissiveFresnelLength:0},Qs={...fc("emissiveFresnel","vec3")},Cs=Math.pow(2,-126),cs=Math.max(.045,Math.pow(Cs,.25)),Ga={directional:0,point:1,spot:2},wl={...Ia,...m,...ga,...Zc,...Bu,...Jc,baseColorTextureLayers:[],opacityTextureLayers:[],metallicTextureLayers:[],occlusionTextureLayers:[],roughnessTextureLayers:[],emissiveTextureLayers:[],specularFactorTextureLayers:[],specularColorTextureLayers:[],normalTextureLayers:[],lights:0,imageLightSpecularTexture:!1,imageLightIrradianceMode:"",computeBRDF:!1,fog:"",toneMap:"linear"},nu={...pc,...ie,...Pu,...i,...Qs,...Fd,..._r,...ku,...Ja,LightSource:"struct LightSource {\n\t\tint type;\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat intensity;\n\t\tfloat innerConeCos;\n\t\tfloat outerConeCos;\n\t};",ComputedLight:"struct ComputedLight {\n\t\tvec3 intensity;\n\t\tfloat NdotL;\n\t\tfloat NdotH;\n\t\tfloat VdotH;\n\t};",NormalInfo:"struct NormalInfo {\n\t\tvec3 ng; \n\t\tvec3 t; \n\t\tvec3 b; \n\t\tvec3 n; \n\t};",lightSource(l,s){const h=`lightSource${s}`;return{requires:"LightSource",declare:`uniform LightSource ${h};`,symbol:h}},irradianceCoefficients:"uniform vec3 irradianceCoefficients[9];",imageLightLODScale:"uniform float imageLightLODScale;",imageLightSpecularTexture:"uniform samplerCube imageLightSpecularTexture;",imageLightIrradianceTexture:"uniform samplerCube imageLightIrradianceTexture;",imageLightIntensity:"uniform float imageLightIntensity;",imageLightRotation:"uniform mat3 imageLightRotation;",brdfLookUpTexture:"uniform sampler2D brdfLookUpTexture;",...Ho("float","metallic"),...Ho("float","roughness"),...Ho("vec3","emissive"),...Ho("float","ior"),...Ho("float","specularFactor"),...Ho("vec3","specularColor"),...Rc("metallic"),...Rc("roughness"),...Rc("occlusion"),...Rc("emissive"),...Rc("specularFactor"),...Rc("specularColor"),...Rc("normal"),EPSILON:`#define EPSILON ${Math.max(1e-6,Cs)}`,f90:"const vec3 f90 = vec3(1.0);",clampedDot:"float clampedDot(vec3 x, vec3 y) {\n\t\treturn clamp(dot(x, y), 0.0, 1.0);\n\t}",getSpotAttenuation:"float getSpotAttenuation(vec3 pointToLightDirection, vec3 spotDirection, float outerConeCos, float innerConeCos) {\n\t\tfloat actualCos = dot(spotDirection, -pointToLightDirection);\n\t\tif (actualCos > outerConeCos) {\n\t\t\tif (actualCos < innerConeCos) {\n\t\t\t\treturn smoothstep(outerConeCos, innerConeCos, actualCos);\n\t\t\t}\n\t\t\treturn 1.0;\n\t\t}\n\t\treturn 0.0;\n\t}",getLightIntensity:(l,s,h,f)=>`vec3 getLightIntensity(LightSource light, vec3 pointToLight, vec3 pointToLightDirection) {\n\t\t\tfloat rangeAttenuation = 1.0;\n\t\t\tfloat spotAttenuation = 1.0;\n\t\t\tif (light.type != ${Ga.directional}) {\n\t\t\t\t\n\t\t\t\tfloat lenSq = dot(pointToLight, pointToLight);\n\t\t\t\trangeAttenuation = 1.0 / max(lenSq, ${f("EPSILON")});\n\t\t\t}\n\t\t\tif (light.type == ${Ga.spot}) {\n\t\t\t\tspotAttenuation = ${f("getSpotAttenuation")}(pointToLightDirection, light.direction, light.outerConeCos, light.innerConeCos);\n\t\t\t}\n\t\t\treturn rangeAttenuation * spotAttenuation * light.intensity * light.color;\n\t\t}`,fresnelSchlick:(l,s,h,f)=>`\n\t\tvec3 fresnelSchlick(vec3 f0, vec3 f90, float VdotH) {\n\t\t\tvec3 x = vec3(1.0) - VdotH;\n\t\t\treturn f0 + (f90 - f0) * ${f("pow5")}(x);\n\t\t}`,BRDF_Lambertian:(l,s,h,f)=>`\n\t\tvec3 BRDF_Lambertian(vec3 f0, vec3 f90, vec3 diffuseColor, float specularWeight, float VdotH) {\n\t\t\treturn (1.0 - specularWeight * ${f("fresnelSchlick")}(f0, f90, VdotH)) * (diffuseColor / ${f("PI")});\n\t\t}`,V_GGX:"\n\t\tfloat V_GGX(float NdotL, float NdotV, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat GGXV = NdotL * sqrt(NdotV * NdotV * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGXL = NdotV * sqrt(NdotL * NdotL * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGX = GGXV + GGXL;\n\t\t\tif (GGX > 0.0) {\n\t\t\t\treturn 0.5 / GGX;\n\t\t\t}\n\t\t\treturn 0.0;\n\t\t}",D_GGX:(l,s,h,f)=>`\n\t\tfloat D_GGX(float NdotH, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat f = (NdotH * NdotH) * (alphaRoughnessSq - 1.0) + 1.0;\n\t\t\treturn alphaRoughnessSq / (${f("PI")} * f * f);\n\t\t}`,BRDF_specularGGX:(l,s,h,f)=>`\n\t\tvec3 BRDF_specularGGX(vec3 f0, vec3 f90, float alphaRoughness, float specularWeight, float NdotV, ${f("ComputedLight")} light) {\n\t\t\tvec3 F = ${f("fresnelSchlick")}(f0, f90, light.VdotH);\n\t\t\tfloat Vis = ${f("V_GGX")}(light.NdotL, NdotV, alphaRoughness);\n\t\t\tfloat D = ${f("D_GGX")}(light.NdotH, alphaRoughness);\n\t\t\treturn specularWeight * F * Vis * D;\n\t\t}`,sampleSphericalHarmonic:"vec3 sampleSphericalHarmonic(in vec3 normal, in vec3 shCoefficients[9]) {\n\t\tfloat x = normal.x, y = normal.y, z = normal.z;\n\t\t// return shCoefficients[ 0 ] +\n\t\t// \t+ shCoefficients[ 1 ] * y;\n\t\t// \t+ shCoefficients[ 2 ] * z;\n\t\t// \t+ shCoefficients[ 3 ] * x;\n\t\t// \t+ shCoefficients[ 4 ] * x * y;\n\t\t// \t+ shCoefficients[ 5 ] * y * z;\n\t\t// \t+ shCoefficients[ 6 ] * (3.0 * z * z - 1.0);\n\t\t// \t+ shCoefficients[ 7 ] * x * z;\n\t\t// \t+ shCoefficients[ 8 ] * (x * x - y * y);\n\t\treturn shCoefficients[ 0 ] * 0.886227 +\n\t\t\t+ shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\t\t\t+ shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\t\t\t+ shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\t\t\t+ shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\t\t\t+ shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\t\t\t+ shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\t\t\t+ shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\t\t\t+ shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\t}",getSpecularSample:(l,s,h,f)=>`\n\tvec4 getSpecularSample(vec3 reflection, float roughness) {\n\t\tfloat lod = roughness * (2.0 - roughness) * ${f("imageLightLODScale")};\n\t\treturn ${f("textureCubeLod")}(${f("imageLightSpecularTexture")}, ${f("imageLightRotation")} * reflection, lod) * ${f("imageLightIntensity")};\n\t}`,vSurfaceToCamera:Zo("vec3","surfaceToCamera"),surfaceToCamera:(l,s,h,f)=>l===fs.frag?{main:[`vec3 surfaceToCamera = normalize(${f("vSurfaceToCamera")});`]}:{main:[`vec3 surfaceToCamera = normalize(${f("cameraPosition")} - ${f("worldPosition")});`]},vCosPointNegRotation:Zo("float","cosPointNegRotation"),cosPointNegRotation:(l,s,h,f)=>l===fs.frag?{symbol:f("vCosPointNegRotation")}:{main:[`float cosPointNegRotation = cos(-${f("attr:uvRotate")});`]},vSinPointNegRotation:Zo("float","sinPointNegRotation"),sinPointNegRotation:(l,s,h,f)=>l===fs.frag?{symbol:f("vSinPointNegRotation")}:{main:[`float sinPointNegRotation = sin(-${f("attr:uvRotate")});`]},vTBN:Zo("mat3","TBN"),TBN(l,s,h,f){if(l===fs.frag)return h.topology===kt.points?{main:`\n\t\t\t\t\t\tmat3 TBN; {\n\t\t\t\t\t\t\tfloat c = ${f("cosPointNegRotation")};\n\t\t\t\t\t\t\tfloat s = ${f("sinPointNegRotation")};\n\t\t\t\t\t\t\tmat3 tmpRotation = mat3(\n\t\t\t\t\t\t\t\tc, s, 0,\n\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tTBN = tmpRotation * mat3(${f("viewMatrixInverse")}) * mat3(\n\t\t\t\t\t\t\t\t1.0 , 0.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, -1.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, 0.0, 1.0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t`}:h.tangents&&h.normals?{main:[`mat3 TBN = mat3(\n\t\t\t\t\t\t\tnormalize(${f("vTBN")}[0]),\n\t\t\t\t\t\t\tnormalize(${f("vTBN")}[1]),\n\t\t\t\t\t\t\tnormalize(${f("vTBN")}[2])\n\t\t\t\t\t\t);`]}:{requires:["extStandardDerivatives"],main:[`mat3 TBN;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 UV = ${f("texCoord")};\n\t\t\t\t\t\tvec2 uv_dx = dFdx(UV);\n\t\t\t\t\t\tvec2 uv_dy = dFdy(UV);\n\t\t\t\t\t\tif (length(uv_dx) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dx = vec2(1.0, 0.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (length(uv_dy) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dy = vec2(0.0, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 t_ = (uv_dy.t * dFdx(${f("worldPosition")}) - uv_dx.t * dFdy(${f("worldPosition")})) /\n\t\t\t\t\t\t(uv_dx.s * uv_dy.t - uv_dy.s * uv_dx.t);`,h.normals?`vec3 ng = ${f("normal")};`:`vec3 ng = normalize(cross(dFdx(${f("worldPosition")}), dFdy(${f("worldPosition")})));`,"\n\t\t\t\t\t\tTBN[0] = normalize(t_ - ng * dot(ng, t_));\n\t\t\t\t\t\tTBN[1] = cross(ng, TBN[0]);\n\t\t\t\t\t\tTBN[2] = ng;\n\t\t\t\t\t}"]};if(!h.tangents)throw new Error("Unable to compute TBN matrix in vertex shader without geometry tangents.");return{main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tvec3 tangentW = normalize(vec3(${f("modelMatrix")} * vec4(${f("tangent")}, 0.0)));\n\t\t\t\t\tvec3 bitangentW = cross(${f("normal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${f("normal")});\n\t\t\t\t}\n\t\t\t`}},iorOutside:{symbol:"1.0"},f0:(l,s,h,f)=>({main:`\n\t\t\tvec3 f0 = vec3(\n\t\t\t\t${f("saturate")}(\n\t\t\t\t\t${f("pow2")}(\n\t\t\t\t\t\t(${f("ior")} - ${f("iorOutside")}) /\n\t\t\t\t\t\t(${f("ior")} + ${f("iorOutside")})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) * ${f("specularColor")};\n\t\t\t${h.specularColorTextureLayers.map((D,Y)=>ja("specularColor","f0",Y,D,f)).join("\n")}\n\n\t\t\t\n\t\t\tf0 = mix(f0, ${f("color")}, ${f("metalness")});\n\n\t\t\t\n\t\t`}),diffuseColor:(l,s,h,f)=>({main:`vec3 diffuseColor = mix(${f("color")}, vec3(0.0), ${f("metalness")});`}),specularWeight:(l,s,h,f)=>({main:`\n\t\t\tfloat specularWeight = ${f("specularFactor")};\n\t\t\t${h.specularFactorTextureLayers.map((D,Y)=>jc("specularFactor","specularWeight",Y,D,f)).join("\n")}\n\n\t\t\t\n\t\t\tspecularWeight = mix(specularWeight, 1.0, ${f("metalness")});\n\t\t\t`}),metalness:(l,s,h,f)=>({main:`\n\t\t\tfloat metalness = ${f("metallic")};\n\t\t\t${h.metallicTextureLayers.map((D,Y)=>jc("metallic","metalness",Y,D,f)).join("\n")}\n\t\t\t`}),perceptualRoughness:(l,s,h,f)=>({main:`float perceptualRoughness = ${f("roughness")}; {\n\t\t\t\t${h.roughnessTextureLayers.map((D,Y)=>jc("roughness","perceptualRoughness",Y,D,f)).join("\n")}\n\t\t\t\tperceptualRoughness = clamp(perceptualRoughness, ${cs}, 1.0);\n\t\t\t}`}),alphaRoughness:(l,s,h,f)=>({main:`\n\t\t\t\tfloat alphaRoughness = ${f("perceptualRoughness")} * ${f("perceptualRoughness")};\n\t\t\t`}),ambientOcclusion:(l,s,h,f)=>({main:`\n\t\t\t\tfloat ambientOcclusion = 1.0;\n\t\t\t\t${h.occlusionTextureLayers.map((D,Y)=>jc("occlusion","ambientOcclusion",Y,D,f)).join("\n")}\n\t\t\t`}),emissiveOutput:(l,s,h,f)=>({main:`\n\t\t\t\tvec3 emissiveOutput = ${f("emissive")};\n\t\t\t\t${h.emissiveTextureLayers.map((D,Y)=>ja("emissive","emissiveOutput",Y,D,f)).join("\n")}\n\t\t\t\t${h.emissiveFresnel?`emissiveOutput = ${f("emissiveFresnelColor")}(emissiveOutput, ${f("surfaceToView")}, ${f("texturedViewNormal")});`:""}\n\t\t\t`}),sphericalHarmonicAmbient:(l,s,h,f)=>({main:`\n\t\t\t\tvec3 sphericalHarmonicAmbient = ${f("sampleSphericalHarmonic")}(${f("N")}, ${f("irradianceCoefficients")}) / ${f("PI")} * ${f("imageLightIntensity")};\n\t\t\t`}),irradianceSample:(l,s,h,f)=>({main:`\n\t\t\t\tvec3 irradianceSample = ${f("textureCube")}(${f("imageLightIrradianceTexture")}, ${f("imageLightRotation")} * ${f("N")}).rgb * ${f("imageLightIntensity")};\n\t\t\t`}),environmentBRDF:(l,s,h,f)=>({main:h.computeBRDF?`vec2 environmentBRDF; {\n\t\t\t\tconst vec4 c0 = vec4(-1, -0.0275, -0.572, 0.022);\n\t\t\t\tconst vec4 c1 = vec4(1, 0.0425, 1.04, -0.04);\n\t\t\t\tvec4 r = ${f("perceptualRoughness")} * c0 + c1;\n\t\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * ${f("NdotV")})) * r.x + r.y;\n\t\t\t\tenvironmentBRDF = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\t}`:`vec2 environmentBRDF; {\n\t\t\t\tvec2 brdfSamplePoint = clamp(vec2(${f("NdotV")}, ${f("perceptualRoughness")}), vec2(0.0, 0.0), vec2(1.0, 1.0));\n\t\t\t\tenvironmentBRDF = ${f("texture2D")}(${f("brdfLookUpTexture")}, brdfSamplePoint).rg;\n\t\t\t}`}),FssEss:(l,s,h,f)=>({main:`vec3 FssEss; {\n\t\t\tvec3 Fr = max(vec3(1.0 - ${f("perceptualRoughness")}), ${f("f0")}) - ${f("f0")};\n\t\t\tvec3 k_S = ${f("f0")} + Fr * ${f("pow5")}(1.0 - ${f("NdotV")});\n\t\t\tFssEss = k_S * ${f("environmentBRDF")}.x + ${f("environmentBRDF")}.y;\n\t\t}`}),iblRadianceLambertian:(l,s,h,f)=>({main:`\n\t\t\tvec3 iblRadianceLambertian;\n\t\t\t{\n\t\t\t\tvec3 irradiance = ${f("ambientLightColor")};\n\t\t\t\t${h.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t\t${f("parametric"===h.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t\t`:""}\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t\tvec3 weightedFssEss = ${f("specularWeight")} * ${f("FssEss")};\n\n\t\t\t\t\n\t\t\t\tfloat Ems = (1.0 - (${f("environmentBRDF")}.x + ${f("environmentBRDF")}.y));\n\t\t\t\tvec3 F_avg = ${f("specularWeight")} * (${f("f0")} + (1.0 - ${f("f0")}) / 21.0);\n\t\t\t\tvec3 FmsEms = Ems * weightedFssEss * F_avg / (1.0 - F_avg * Ems);\n\t\t\t\tvec3 k_D = ${f("diffuseColor")} * (1.0 - weightedFssEss + FmsEms); \n\n\t\t\t\tiblRadianceLambertian = (FmsEms + k_D) * irradiance;\n\t\t\t}`}),iblDiffuse:(l,s,h,f)=>({main:`vec3 iblDiffuse; {\n\t\t\tvec3 irradiance = ${f("ambientLightColor")};\n\t\t\t${h.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t${f("parametric"===h.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t`:""}\n\t\t\tiblDiffuse = irradiance * ${f("diffuseColor")};\n\t\t}`}),iblRadianceGGX:(l,s,h,f)=>({main:`vec3 iblRadianceGGX; {\n\t\t\tvec3 reflection = reflect(-${f("surfaceToCamera")}, ${f("N")});\n\t\t\tvec4 specularSample = ${f("getSpecularSample")}(reflection, ${f("perceptualRoughness")});\n\t\t\tvec3 specularLight = specularSample.rgb;\n\n\t\t\t\n\n\t\t\tiblRadianceGGX = ${f("specularWeight")} * specularLight * ${f("FssEss")};\n\t\t}`}),diffuseAmbient:(l,s,h,f)=>({main:`\n\t\t\t\tvec3 diffuseAmbient; {\n\t\t\t\t\tdiffuseAmbient = ${f("iblDiffuse")};\n\t\t\t\t\tdiffuseAmbient *= ${f("ambientOcclusion")};\n\t\t\t\t}\n\t\t\t`}),normalInfo:(l,s,h,f)=>({symbol:"normalInfo",main:[`${f("NormalInfo")} normalInfo; {\n\t\t\t\t\tnormalInfo.t = ${f("TBN")}[0];\n\t\t\t\t\tnormalInfo.b = ${f("TBN")}[1];\n\t\t\t\t\tvec3 ng = ${f("TBN")}[2];\n\t\t\t\t\tnormalInfo.ng = ng;\n\t\t\t\t\tnormalInfo.n = ng;\n\t\t\t\t`,...h.normalTextureLayers.length?[...h.normalTextureLayers.map((D,Y)=>function(fe,de,xe){const{blendMode:Te}=fe,Ne=xe("normalTextureBlendFactor",de);return`{\n\t\tvec4 texSample = ${xe("sampleNormalTexture",de)};\n\t\tvec3 sampledNormal = ${xe("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);\n\t\t${"over"===Te?`normalInfo.n = mix(normalInfo.n, sampledNormal, ${Ne});`:`normalInfo.n += ${Ne} * sampledNormal;`}\n\t}`}(D,Y,f)),"normalInfo.n = normalize(normalInfo.n);"]:[],"}"]}),N:(l,s,h,f)=>({symbol:`${f("normalInfo")}.n`}),texturedViewNormal:(l,s,h,f)=>({main:`vec3 texturedViewNormal = (${f("viewMatrix")} * vec4(${f("N")}, 0.0)).xyz;`}),NdotV:(l,s,h,f)=>({main:`float NdotV = ${f("clampedDot")}(${f("N")}, ${f("surfaceToCamera")});`}),punctualLight(l,s,h,f){const D=`punctualLight${s}`;return{symbol:D,main:`\n\t\t\t\t${f("ComputedLight")} ${D};\n\t\t\t\t{\n\t\t\t\t\t${f("ComputedLight")} light;\n\t\t\t\t\t${f("LightSource")} lightSource = ${f("lightSource",s)};\n\t\t\t\t\tvec3 pointToLight = lightSource.type == ${Ga.directional} ?\n\t\t\t\t\t\t-lightSource.direction :\n\t\t\t\t\t\tlightSource.position - ${f("worldPosition")} ;\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 L = normalize(pointToLight);\n\n\t\t\t\t\t\n\n\t\t\t\t\tvec3 H = normalize(L + ${f("surfaceToCamera")});\n\n\t\t\t\t\tvec3 n = ${f("normalInfo")}.n;\n\n\t\t\t\t\tlight.intensity = ${f("getLightIntensity")}(lightSource, pointToLight, L);\n\t\t\t\t\tlight.NdotL = ${f("clampedDot")}(${f("N")}, L);\n\t\t\t\t\tlight.NdotH = ${f("clampedDot")}(${f("N")}, H);\n\t\t\t\t\tlight.VdotH = ${f("clampedDot")}(${f("surfaceToCamera")}, H);\n\t\t\t\t\t${D} = light;\n\t\t\t\t}\n\t\t\t`}},diffuse:(l,s,h,f)=>({main:[`vec3 diffuse = ${f("diffuseAmbient")};`,...Qn(h.lights,D=>`{\n\t\t\t\t\tdiffuse += ${f("punctualLight",D)}.intensity * ${f("punctualLight",D)}.NdotL * ${f("BRDF_Lambertian")}(${f("f0")}, ${f("f90")}, ${f("diffuseColor")}, ${f("specularWeight")}, ${f("punctualLight",D)}.VdotH);\n\t\t\t\t}`)]}),specular:(l,s,h,f)=>({main:["vec3 specular = vec3(0.0);",h.imageLightSpecularTexture?`specular += ${f("iblRadianceGGX")} * ${f("ambientOcclusion")};`:"",...Qn(h.lights,D=>`{\n\t\t\t\t\tspecular += ${f("punctualLight",D)}.intensity * ${f("punctualLight",D)}.NdotL * ${f("BRDF_specularGGX")}(${f("f0")}, ${f("f90")}, ${f("alphaRoughness")}, ${f("specularWeight")}, ${f("NdotV")}, ${f("punctualLight",D)});\n\t\t\t\t}`)]})},Rs=["baseColorFresnel","opacityFresnel","emissiveFresnel"],ad=["baseColorMaps","opacityMaps","metallicMaps","roughnessMaps","occlusionMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"],Cf=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"],["metallicMaps","metallicTexture"],["roughnessMaps","roughnessTexture"],["occlusionMaps","occlusionTexture"],["emissiveMaps","emissiveTexture"],["specularFactorMaps","specularFactorTexture"],["specularColorMaps","specularColorTexture"],["normalMaps","normalTexture"]],Vl=new Map;Vl.set(Hn,{options:function(l){const{material:s}=l;if(!s||!l.geometry)return null;const{attributes:h,morphKeys:f,topology:D}=l.geometry,Y=f.length>1&&l.morphKeyIndex>=0,fe=Object.assign({},wl,{normals:!!h.normal,vertexColors:!!h.color,tangents:!(!h.tangent||Y&&f.length&&!f[0].attributes.tangent),uvRotate:!!h.uvRotate,scaleAttr:!!h.scale,uvTranslate:!!h.uvTranslate,topology:D,roundPoints:l instanceof kn&&l.roundPoints,perspectivePoints:l instanceof kn&&l.perspectivePoints,modifiers:l.modifiers?Array.from(l.modifiers.values()).sort(Qe).map(xe=>({applyTo:xe.applyTo,range:"range"in xe,fresnel:"fresnel"in xe})):[],octNormals:2===h.normal?.numComponents,quantizedPositions:!!h.position?.decodeMat,quantizedUVs:!!h.texcoord?.decodeMat,morphTarget:Y});if(h.texcoord||D===kt.points){const xe=new Map;fe.samplers=[];const Te=Ne=>{const{texture:Ue,...it}=Ne;return{...it,samplerIndex:xe.get(Ue)}};ad.forEach(Ne=>{s[Ne].filter(({texture:Ue})=>!!Ue).forEach(Ue=>{xe.has(Ue.texture)||(xe.set(Ue.texture,xe.size),fe.samplers.push({rowOrder:Ue.texture.rowOrder}))})}),Object.assign(fe,{baseColorTextureLayers:s.baseColorMaps.map(Te),opacityTextureLayers:s.opacityMaps.map(Te),metallicTextureLayers:s.metallicMaps.map(Te),roughnessTextureLayers:s.roughnessMaps.map(Te),occlusionTextureLayers:s.occlusionMaps.map(Te),emissiveTextureLayers:s.emissiveMaps.map(Te),specularFactorTextureLayers:s.specularFactorMaps.map(Te),specularColorTextureLayers:s.specularColorMaps.map(Te),normalTextureLayers:s.normalMaps.map(Te)})}const de=Kt(s,Rs);for(const xe of Object.keys(de))fe[xe]=de[xe];return fe},key:qc(wl),shader:function(l){const s=Object.assign({},wl,l);return hc(nu,{vert:h=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${h("glPointSize")};`:""}\n\t\t\tgl_Position = ${h("screenPosition")};\n\t\t\t${Sc(h,s)}\n\t\t`,frag:h=>`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${h("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\t\t\tfragColor.rgb = ${h("emissiveOutput")} + ${h("diffuse")} + ${h("specular")};\n\n\t\t\tfragColor.a = ${h("alpha")};\n\n\t\t\t\n\t\t\t${pn(h,s)}\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${h("clippingPlaneAlpha")};`:""}\n\n\t\t\tfragColor.a = clamp(fragColor.a, 0.0, 1.0);\n\n\t\t\t\n\t\t\t${ul(h,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${Ft(h,s)}\n\n\t\t\t${s.fog?`fragColor.rgb = ${h("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${function(f,D,Y){const fe=Va[D.toneMap];return fe?`${Y} = ${f(fe)}(${Y});`:""}(h,s,"fragColor.rgb")}\n\t\t\tfragColor = ${h("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${h("gl_FragColor")} = fragColor;\n\t\t`},Ca(s),s)},setMaterialUniforms:function(l,s,h){l.baseColor=s.baseColor,l.opacity=s.opacity,l.metallic=s.metallic,l.roughness=s.roughness,l.emissive=s.emissive,l.ior=s.ior,l.specularFactor=s.specularFactor,l.specularColor=s.specularColor;const f=new Set;Cf.forEach(([Y,fe])=>{s[Y].forEach(({texture:de,blendFactor:xe},Te)=>{if(l[fe+"BlendFactor"+Te]=xe,!f.has(de)){const Ne=f.size;f.add(de);const Ue=h?.get(de);Ue?(Ue.update(),l["textureSampler"+Ne]=Ue.webglTexture):delete l[fe+"Sampler"+Te]}})});const D=un(s,Rs);for(const Y of Object.keys(D))l[Y]=D[Y]},textureKeys:["baseColorMaps","opacityMaps","metallicMaps","occlusionMaps","roughnessMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"]}),Vl.set(on,{options:function(l){const{material:s}=l;if(!s||!l.geometry)return null;const{attributes:h,morphKeys:f,topology:D}=l.geometry,Y=f.length>1&&l.morphKeyIndex>=0,fe=Object.assign({},Xe,{vertexColors:!!h.color,uvRotate:!!h.uvRotate,scaleAttr:!!h.scale,uvTranslate:!!h.uvTranslate,topology:D,roundPoints:l instanceof kn&&l.roundPoints,perspectivePoints:l instanceof kn&&l.perspectivePoints,modifiers:l.modifiers?Array.from(l.modifiers.values()).sort(Qe).map(xe=>({applyTo:xe.applyTo,range:"range"in xe,fresnel:"fresnel"in xe})):[],octNormals:2===h.normal?.numComponents,quantizedPositions:!!h.position?.decodeMat,quantizedUVs:!!h.texcoord?.decodeMat,morphTarget:Y});if(h.texcoord||D===kt.points){const xe=new Map;fe.samplers=[];const Te=Ne=>{const{texture:Ue,...it}=Ne;return{...it,samplerIndex:xe.get(Ue)}};Un.forEach(Ne=>{s[Ne].filter(({texture:Ue})=>!!Ue).forEach(Ue=>{xe.has(Ue.texture)||(xe.set(Ue.texture,xe.size),fe.samplers.push({rowOrder:Ue.texture.rowOrder}))})}),Object.assign(fe,{baseColorTextureLayers:s.baseColorMaps.map(Te),opacityTextureLayers:s.opacityMaps.map(Te)})}const de=Kt(s,cn);for(const xe of Object.keys(de))fe[xe]=de[xe];return fe},key:qc(Xe),shader:function(l){const s=Object.assign({},Xe,l);return hc(gt,{vert:h=>`\n\t\t${"points"===s.topology?`gl_PointSize = ${h("glPointSize")};`:""}\n\t\tgl_Position = ${h("screenPosition")};\n\t\t`,frag:h=>`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${h("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\n\t\t\tfragColor = vec4(\n\t\t\t\t${h("color")},\n\t\t\t\t${h("alpha")}\n\t\t\t);\n\n\t\t\t\n\t\t\t${pn(h,s)}\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${h("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${ul(h,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${Ft(h,s)}\n\n\t\t\tfragColor = ${h("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${h("gl_FragColor")} = fragColor;\n\t\t`},Ca(s),s)},setMaterialUniforms:function(l,s,h){l.opacity=s.opacity,l.baseColor=s.baseColor;const f=new Set;Jn.forEach(([Y,fe])=>{s[Y].forEach(({texture:de,blendFactor:xe},Te)=>{if(l[fe+"BlendFactor"+Te]=xe,!f.has(de)){const Ne=f.size;f.add(de);const Ue=h?.get(de);Ue?(Ue.update(),l["textureSampler"+Ne]=Ue.webglTexture):delete l[fe+"Sampler"+Te]}})});const D=un(s,cn);for(const Y of Object.keys(D))l[Y]=D[Y]},textureKeys:["baseColorMaps","opacityMaps"]}),Vl.set(Ht,{options:function(l){const{material:s}=l;if(!s||!l.geometry)return null;const{attributes:h,morphKeys:f,topology:D}=l.geometry,Y="metallic"===s.type,fe=Y?zs:mo,de=(h.texcoord||D===kt.points)&&s.textures?.filter(Ue=>fe.has(Ue.applyTo)).map(Ue=>({applyTo:Ue.applyTo,blendMode:Ue.blendMode,rowOrder:Ue.texture?.rowOrder||"top-down"}))||[],xe=f.length>1&&l.morphKeyIndex>=0,Te=Object.assign({},ko,{metallicMaterial:Y,normals:!!h.normal,vertexColors:!!h.color,tangents:!(!h.tangent||xe&&f.length&&!f[0].attributes.tangent),uvRotate:!!h.uvRotate,scaleAttr:!!h.scale,uvTranslate:!!h.uvTranslate,topology:D,textureLayers:de,modifiers:l.modifiers?Array.from(l.modifiers.values()).sort($o).map(Ue=>({applyTo:Ue.applyTo,range:"range"in Ue,fresnel:"fresnel"in Ue})):[],octNormals:2===h.normal?.numComponents,quantizedPositions:!!h.position?.decodeMat,quantizedUVs:!!h.texcoord?.decodeMat,roundPoints:l instanceof kn&&l.roundPoints,perspectivePoints:l instanceof kn&&l.perspectivePoints,morphTarget:xe,reflectionMap:!!s.reflectionMap}),Ne=Kt(s,Ss);for(const Ue of Object.keys(Ne))Te[Ue]=Ne[Ue];return Te},key:qc(ko),shader:function(l){const s=Object.assign({},ko,l);return hc(To,{vert:h=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${h("glPointSize")};`:""}\n\t\t\tgl_Position = ${h("screenPosition")};\n\t\t\t${Sc(h,s)}\n\t\t`,frag:h=>{return`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t\n\t\t\tvec3 color = ${h(s.vertexColors?"vertexColor":"baseColor")}.rgb;\n\t\t\tfloat alpha = ${"opaque"===s.alphaMode?"1.0":h("opacity")};\n\t\t\t${s.vertexColors?`alpha *= ${h("vertexColor")}.a;`:""}\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${h("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tfloat emit = ${h("emitColor")}.a;\n\t\t\tvec3 emitRGB = ${h("emitColor")}.rgb;\n\n\t\t\tfloat transparency = 1.0 - alpha;\n\n\t\t\t${s.normals&&"opaque"!==s.alphaMode?`\n\t\t\tif (transparency > 0.0) {\n\t\t\t\tfloat gf = ${h("glassFactor")} * (${h("murkiness")} - abs(dot(${h("viewNormal")}, vec3(0.0, 0.0, -1.0))));\n\t\t\t\talpha = max(alpha, gf);\n\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t}\n\t\t\t`:""}\n\n\t\t\t\n\t\t\t${function(f,D,Y){const fe={};let de=!1,xe=f.map((Te,Ne)=>{const Ue=Qi[Te.applyTo];if(de=de||"normals"===Te.applyTo,Ue){const it=ci[Te.applyTo]||Te.applyTo,vt=!fe[it];return fe[it]=!0,Ue(Te,Ne,vt,D,Y)}return""}).join("\n\t");return de&&(xe+=`\n${D("texturedViewNormal")} = normalize(${D("texturedViewNormal")});`),xe}(s.textureLayers,h,s)}\n\n\t\t\tvec4 fragColor;\n\n\t\t\t\n\t\t\t${s.normals?`\n\t\t\t\t${s.metallicMaterial?`\n\t\t\t\t\t\n\t\t\t\t\t${h("Material")} material;\n\t\t\t\t\t${h("Geometry")} geometry;\n\t\t\t\t\t${h("ReflectedLight")} reflectedLight = ReflectedLight(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));\n\n\t\t\t\t\tfloat dielectricSpecular = 0.16 * ${h("specularF0")} * ${h("specularF0")};\n\t\t\t\t\tmaterial.diffuseColor = (1.0 - dielectricSpecular) * (1.0 - ${h("metallic")}) * color;\n\n\t\t\t\t\t\n\t\t\t\t\tmaterial.specularRoughness = clamp(sqrt(${h("roughness")}), 0.04, 1.0);\n\t\t\t\t\tmaterial.specularColor = mix(vec3(dielectricSpecular), color, ${h("metallic")});\n\n\t\t\t\t\t\n\t\t\t\t\tgeometry.position = ${h("viewPosition")};\n\t\t\t\t\tgeometry.viewNormal = ${h("texturedViewNormal")};\n\t\t\t\t\tgeometry.viewEyeDir = -${h("normalizedViewPosition")};\n\n\t\t\t\t\t\n\t\t\t\t\t${s.environmentReflectionMap?`${h("computePBRReflectionMapping")}(\n\t\t\t\t\t\t${h("reflectionMap")},\n\t\t\t\t\t\t${h("reflectionMapIntensity")},\n\t\t\t\t\t\t${h("viewMatrix")},\n\t\t\t\t\t\tgeometry,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight,\n\t\t\t\t\t\t${h("reflectionMapMaxMipLevel")}\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\t\t\t\t\t${s.lightMapSpace?`${h("computePBRLightMapping")}(\n\t\t\t\t\t\t${h("lightMap")},\n\t\t\t\t\t\t${h("lightMapIntensity")},\n\t\t\t\t\t\tgeometry.${"world"===s.lightMapSpace?"worldNormal":"viewNormal"},\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${Qn(s.lights,f=>`{\n\t\t\t\t\t\t${h("IncidentLight")} light;\n\t\t\t\t\t\tlight.color = ${h("lightSource",f)}.color;\n\n\t\t\t\t\t\tif (${h("lightSource",f)}.type == ${br.dir}) {\n\t\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\t\tviewLightVec = normalize(${h("lightSource",f)}.position);\n\t\t\t\t\t\t\tif (!${h("lightSource",f)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = (${h("viewMatrix")} * vec4(viewLightVec, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlight.direction = viewLightVec;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${h("lightSource",f)}.position - ${h("worldPosition")};\n\t\t\t\t\t\t\tvec3 viewLightVec = ${h("lightSource",f)}.viewSpace ?\n\t\t\t\t\t\t\t\t(${h("viewMatrix")} * vec4(pointToLight, 0.0)).xyz :\n\t\t\t\t\t\t\t\tpointToLight;\n\t\t\t\t\t\t\tlight.direction = normalize(viewLightVec);\n\n\t\t\t\t\t\t\tfloat lightDist = ${h("lightSource",f)}.type == ${br.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tfloat attenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${h("lightSource",f)}.attenuation.x +\n\t\t\t\t\t\t\t\t${h("lightSource",f)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${h("lightSource",f)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${h("lightSource",f)}.type == ${br.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${h("viewMatrix")} * vec4(${h("lightSource",f)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), normalize(-viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${h("lightSource",f)}.innerCone) / max(${h("lightSource",f)}.outerCone - ${h("lightSource",f)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlight.color *= attenuation;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t${h("computePBRLighting")}(light, geometry, material, reflectedLight);\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${s.baseFresnel?`reflectedLight.diffuse = ${h("baseFresnelColor")}(reflectedLight.diffuse, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.specularFresnel?`reflectedLight.specular = ${h("specularFresnelColor")}(reflectedLight.specular, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${h("alphaFresnelValue")}(alpha, ${h("surfaceToView")}, ${h("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${s.transparencyFresnel?`transparency = ${h("transparencyFresnelValue")}(transparency, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.emitFresnel?`emitRGB = ${h("emitFresnelColor")}(emitRGB, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 outgoingLight = ${h("occlusion")} * (reflectedLight.diffuse + reflectedLight.specular) +\n\t\t\t\t\t\temit * emitRGB;\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(outgoingLight, alpha);\n\t\t\t\t`:`\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t${s.reflectionMap?`\n\t\t\t\t\t\tfloat reflectFactor = 1.0;\n\t\t\t\t\t\t${s.reflectionFresnel?`reflectFactor = ${h("reflectionFresnelValue")}(reflectFactor, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t\tvec3 envLookup = reflect(-${h("surfaceToView")}, ${h("texturedViewNormal")}); \n\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec4 envColor = ${h("textureCube")}(${h("reflectionMap")}, envLookup);\n\t\t\t\t\t\tcolor = mix(color, envColor.rgb, reflectFactor * ${h("specular")} * ${h("reflectionMapIntensity")});\n\t\t\t\t\t`:""}\n\n\t\t\t\t\tvec3 lightValue = vec3(0.0, 0.0, 0.0);\n\t\t\t\t\tvec3 specularValue = vec3(0.0, 0.0, 0.0);\n\n\t\t\t\t\t\n\t\t\t\t\t${Qn(s.lights,f=>`{\n\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\tfloat attenuation = 1.0;\n\n\t\t\t\t\t\tif (${h("lightSource",f)}.type == ${br.dir}) {\n\t\t\t\t\t\t\tif (${h("lightSource",f)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = ${h("lightSource",f)}.position;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvec3 pointToLight = normalize(-${h("lightSource",f)}.position);\n\t\t\t\t\t\t\t\tviewLightVec = -(${h("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${h("lightSource",f)}.position - ${h("worldPosition")};\n\t\t\t\t\t\t\tviewLightVec = ${h("lightSource",f)}.viewSpace ?\n\t\t\t\t\t\t\t\tpointToLight :\n\t\t\t\t\t\t\t\t(${h("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\n\t\t\t\t\t\t\tfloat lightDist = ${h("lightSource",f)}.type == ${br.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tattenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${h("lightSource",f)}.attenuation.x +\n\t\t\t\t\t\t\t\t${h("lightSource",f)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${h("lightSource",f)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${h("lightSource",f)}.type == ${br.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${h("viewMatrix")} * vec4(${h("lightSource",f)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), -normalize(viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${h("lightSource",f)}.innerCone) / max(${h("lightSource",f)}.outerCone - ${h("lightSource",f)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tviewLightVec = normalize(viewLightVec);\n\n\t\t\t\t\t\tfloat dotN = max(dot(${h("texturedViewNormal")}, viewLightVec), 0.0);\n\t\t\t\t\t\tif (${h("lightSource",f)}.diffuse) {\n\t\t\t\t\t\t\tlightValue += dotN * attenuation * ${h("lightSource",f)}.color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (${h("lightSource",f)}.specular) {\n\t\t\t\t\t\t\tfloat specularScale = ${h("specular")} * pow(max(dot(reflect(-viewLightVec, -${h("texturedViewNormal")}), -${h("normalizedViewPosition")}), 0.0), ${h("shine")}) * attenuation;\n\t\t\t\t\t\t\tspecularValue += ${h("specularColor")} * ${h("lightSource",f)}.color * specularScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${s.baseFresnel?`color.rgb = ${h("baseFresnelColor")}(color.rgb, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.specularFresnel?`specularValue.rgb = ${h("specularFresnelColor")}(specularValue.rgb, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${h("alphaFresnelValue")}(alpha, ${h("surfaceToView")}, ${h("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${s.transparencyFresnel?`transparency = ${h("transparencyFresnelValue")}(transparency, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.emitFresnel?`emitRGB = ${h("emitFresnelColor")}(emitRGB, ${h("surfaceToView")}, ${h("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(\n\t\t\t\t\t\tspecularValue +\n\t\t\t\t\t\t\tcolor * (lightValue + ${h("ambientLightColor")}) +\n\t\t\t\t\t\t\temit * emitRGB,\n\t\t\t\t\t\talpha\n\t\t\t\t\t);\n\t\t\t\t`}\n\t\t\t`:`\n\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\tfragColor = vec4(\n\t\t\t\t\t(color.rgb + (emit * color.rgb)) * (vec3(1.0) +\n\t\t\t\t\t\t${h("ambientLightColor")}),\n\t\t\t\t\talpha\n\t\t\t\t);\n\t\t\t`}\n\n\t\t\t\n\t\t\t${f=h,D=s,D.modifiers?.map((Y,fe)=>"opacity"===Y.applyTo?(0,So[Y.applyTo])(Y,fe,f,D):"").join("\n\t")}\n\n\t\t\t\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${h("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${ul(h,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${function(f,D){return D.modifiers?.map((Y,fe)=>{if("opacity"!==Y.applyTo){const de=So[Y.applyTo];if(de)return de(Y,fe,f,D);console.warn("modifier not implemented",Y.applyTo)}return""}).join("\n\t")}(h,s)}\n\n\t\t\t${s.fog?`fragColor.rgb = ${h("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${s.metallicMaterial?`fragColor = ${h("linearToGamma")}(fragColor, 2.2);`:""}\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${h("gl_FragColor")} = fragColor;\n\t\t`;var f,D}},Ca(s),s)},setMaterialUniforms:function(l,s,h){if(l.opacity=s.opacity,l.baseColor=s.baseColor,l.emitColor=s.emitColor,l.glassFactor=s.glassFactor,l.murkiness=s.murkiness,"metallic"===s.type){let Y=l.metalRoughSpecularf0;Y||(Y=l.metalRoughSpecularf0=new Float32Array(3)),Y[0]=s.metallic,Y[1]=s.roughness,Y[2]=s.specularf0}else l.specularColor=s.specularColor,l.phongShine=s.shine;s.textures.forEach((Y,fe)=>{l["textureBlendFactor"+fe]=Y.blendFactor;const de=h?.get(Y.texture);de?(de.update(),l["textureSampler"+fe]=de.webglTexture):delete l["textureSampler"+fe]});const f=un(s,Ss);for(const Y of Object.keys(f))l[Y]=f[Y];const{reflectionMap:D}=s;D&&(l.reflectionMapIntensity=D.intensity,l.reflectionMapMaxMipLevel=Math.max(0,D.mipLevels-1))},textureKeys:["textures"]});const Xa=l=>Vl.get(l.constructor),xl=["shader","geometry","morph","vertexCount","transparency"],wf={geometry:["shader","morph","vertexCount"],"geometry.*":["geometry","morph","shader"],"geometry.count":["transparency","vertexCount"],"geometry.offset":["vertexCount"],modifier:["shader","transparency"],"modifier.value":["transparency"],material:["shader"],"material.transparent":["transparency"],"material.clippable":["transparency"],"material.opacity":["transparency"],"material.fresnel":["transparency"],visible:["transparency"],morphKeyIndex:["morph"]};class Fa extends A{programInfo=null;bufferInfo=null;vertexArrayInfo=null;baseBufferInfo=null;morphBufferInfo=[];baseVertexArrayInfo=null;morphVAOs=[];uniforms;screenPosition;clockwise=!1;mesh;worldMatrix;vertexCount;layer;renderOrder;depthMask;blendMode;alphaMode;dirty;topology;offset;count;update;setDirty;constructor(s,{geometryBufferCache:h,shaderResourceCache:f,geometryUniformsCache:D,materialUniformsCache:Y,vaoCache:fe,alphaModeOptions:de,clippingPlanes:xe,textureResourceCache:Te}){super();let Ne=null,Ue=null,it=!0,vt=!1,Et=s.renderable,Lt=null;this.mesh=s;const Tt={shader:!0,geometry:!0,vertexCount:!0,transparency:!0,morph:!0},Gt={modelMatrix:s.worldMatrix,normalMatrix:s.normalMatrix},Cn=new Map;this.uniforms=[null,null,Gt],this.worldMatrix=s.worldMatrix,this.screenPosition=(0,d.create)(),this.clockwise=s.reflected,this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,this.alphaMode=eu(s,xe,de);const fn=()=>{if(Ne){if(Ne.morphKeys.length>1){const wr=this.morphBufferInfo;for(let di=0;di<wr.length;di++)fe?.release(s,this.programInfo,wr[di]),h.release(this,Ne,di);this.morphVAOs.length=0}fe?.release(s,this.programInfo,this.baseBufferInfo),h.release(this,Ne),this.baseBufferInfo=null,this.bufferInfo=null,this.morphBufferInfo.length=0,D.release(s,Ne),this.uniforms[1]=null,Ne=null}},xn=wr=>{if(wr!==Ne){if(Ne&&fn(),Ne=wr,Ne){if(Ne.morphKeys.length>1){const di=this.morphBufferInfo;for(let Ai=0,ei=Ne.morphKeys.length-1;Ai<ei;Ai++)di.push(h.get(this,Ne,Ai))}this.baseBufferInfo=h.get(this,Ne),this.uniforms[1]=D.get(s,Ne),this.setDirty("geometry")}else this.uniforms[1]=null;vt=!!Ne&&s.morphKeyIndex>=0&&Ne.morphKeys.length>1}},wn=()=>{Cn.forEach((wr,di)=>{Te.release(this,di)}),Cn.clear(),Y.release(s,Ue),this.uniforms[0]=null,Ue=null,Lt=null},Fn=wr=>{wr!==Ue&&(Ue&&wn(),Ue=wr,Lt=Xa(wr),Lt.textureKeys.forEach(di=>{Ue[di].forEach(({texture:Ai})=>{const ei=Te?.get(this,Ai);ei&&(ei.update(),Cn.set(Ai,ei))})}),this.uniforms[0]=Y.get(s,Ue))},$n=wr=>{if(this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,!wr.property)return void this.setDirty();const di=[wr.property+".*"];di.push(wr.detail?wr.property+"."+wr.detail:wr.property);for(let ei=0;ei<di.length;ei++){const yi=di[ei];wf[yi]?.forEach(this.setDirty)}const Ai=vt;vt=!!Ne&&s.morphKeyIndex>=0&&Ne.morphKeys.length>1,vt!==Ai&&this.setDirty("shader"),"geometry"===wr.property?xn(s.geometry):"material"===wr.property&&Fn(s.material),it=!0},pr=()=>{this.clockwise=s.reflected,Et!==s.renderable&&(Et=s.renderable,this.setDirty("transparency"))};s.on("change",$n),s.on("updateWorldMatrix",pr),this.update=()=>{if(!it)return!1;if(Tt.transparency){const ei=eu(s,xe,de);ei!==this.alphaMode&&(this.alphaMode=ei,Tt.shader=!0),Tt.transparency=!1}const wr=this.programInfo;wr&&!Tt.shader||(wr&&f.release(s),this.programInfo=f.get(s),Tt.shader=!1);let Ai=Tt.morph;if(Ne&&(Tt.geometry||wr!==this.programInfo)){const{morphBufferInfo:ei,morphVAOs:yi}=this;if(fe){for(let Zi=0;Zi<yi.length;Zi++)fe.release(s,wr,ei[Zi]);if(yi.length=0,fe.release(s,wr,this.baseBufferInfo),vt){for(let Zi=0;Zi<ei.length;Zi++)yi[Zi]=fe.get(s,this.programInfo,ei[Zi])||null;this.baseVertexArrayInfo=null}else this.baseVertexArrayInfo=fe.get(s,this.programInfo,this.baseBufferInfo)||null;Ai=!0}}if(Ai){if(vt){const{morphKeyIndex:ei}=s;this.bufferInfo=this.morphBufferInfo[ei],this.vertexArrayInfo=fe?this.morphVAOs[ei]:null}else this.bufferInfo=this.baseBufferInfo,this.vertexArrayInfo=this.baseVertexArrayInfo;Tt.morph=!1}return Tt.geometry=!1,Tt.vertexCount&&(this.vertexCount=sa(Ne,!1),Tt.vertexCount=!1),this.uniforms[0]&&Lt.setMaterialUniforms(this.uniforms[0],Ue,Cn),function(ei,yi){yi.modifiers&&Array.from(yi.modifiers.values()).sort(Qe).forEach((Di,Fr)=>{if("range"in Di){const Si="modifierCenter"+Fr,wi="modifierRadius"+Fr;if(ei[Si]||(ei[Si]=(0,d.create)()),ei[wi]||(ei[wi]=(0,Ds.create)()),Di.parent){Di.parent.updateWorldMatrix(),(0,d.transformMat4)(ei[Si],Di.range.center,Di.parent.worldMatrix);const po=R.get();(0,F.getScaling)(po,Di.parent.worldMatrix);const io=(po[0]+po[1]+po[2])/3;R.release(po);const ns=Di.range.minRadius*io;(0,Ds.set)(ei[wi],ns,Di.range.maxRadius*io-ns)}else(0,d.copy)(ei[Si],Di.range.center),(0,Ds.set)(ei[wi],Di.range.minRadius,Di.range.maxRadius-Di.range.minRadius)}else"fresnel"in Di&&(Array.isArray(Di.fresnel.center)?(ei["modifierFresnelCenter"+Fr]=[...Di.fresnel.center],ei["modifierFresnelEdge"+Fr]=[...Di.fresnel.edge]):(ei["modifierFresnelCenter"+Fr]=[Di.fresnel.center,0,0],ei["modifierFresnelEdge"+Fr]=[Di.fresnel.edge,0,0]),ei["modifierFresnelBiasCenter"+Fr]=Di.fresnel.centerBias,ei["modifierFresnelBiasEdge"+Fr]=Di.fresnel.edgeBias,ei["modifierFresnelPower"+Fr]=Di.fresnel.power);"value"in Di&&(Array.isArray(Di.value)?ei["modifierColorValue"+Fr]=Di.value:ei["modifierValue"+Fr]="contrast"===Di.applyTo?Di.value+1:Di.value)});const{geometry:Zi}=yi;if(Zi?.morphKeys.length>1&&yi.morphKeyIndex>=0){const{morphKeyIndex:Di}=yi;ei.morphFactor=yi.morphFactor,ei.decodePositions=Zi.morphKeys[Di].attributes.position?.decodeMat,ei.decodeMorphPositions=Zi.morphKeys[Di+1].attributes.position?.decodeMat}else delete ei.decodePositions,delete ei.decodeMorphPositions;yi instanceof kn&&(ei.pointSize=yi.pointSize,ei.pointUVScale=yi.pointUVScale)}(Gt,s),it=!1,!0},this.setDirty=wr=>{if(wr)Tt[wr]||(Tt[wr]=!0,it=!0,this.emit("dirty",wr));else for(let di=0;di<xl.length;di++)this.setDirty(xl[di])};const hr=this.destroy;this.destroy=()=>{s.off("change",$n),s.off("updateWorldMatrix",pr),f.release(s),wn(),fn(),hr()},Object.defineProperties(this,{topology:{get:()=>Ne?.topology||kt.triangles},offset:{get:()=>Ne?.offset||0},count:{get:()=>Ne?.count||0},dirty:{get:()=>it},blendMode:{get:()=>Ue.blendMode}}),xn(s.geometry),Fn(s.material)}}const jl=typeof WebGL2RenderingContext<"u";function Ec(l){return jl&&l instanceof WebGL2RenderingContext}const cd=[["blendColor","BLEND_COLOR"],["clearColor","COLOR_CLEAR_VALUE"],["colorMask","COLOR_WRITEMASK"],["depthRange","DEPTH_RANGE"],["scissor","SCISSOR_BOX"],["viewport","VIEWPORT"],["blendEquationSeparate",["BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA"]],["blendFuncSeparate",["BLEND_SRC_RGB","BLEND_SRC_ALPHA","BLEND_DST_RGB","BLEND_DST_ALPHA"]],["polygonOffset",["POLYGON_OFFSET_FACTOR","POLYGON_OFFSET_UNITS"]],["sampleCoverage",["SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT"]]],ph=[["clearDepth","DEPTH_CLEAR_VALUE"],["clearStencil","STENCIL_CLEAR_VALUE"],["cullFace","CULL_FACE_MODE"],["depthFunc","DEPTH_FUNC"],["frontFace","FRONT_FACE"]],xf=[3042,2884,2929,3024,32823,32926,32928,3089,2960,35977],Ac=new Set([35977]),Tl=class{constructor(l){const s=new Map,h={},f={};let D=null,Y=!1;function fe(){xf.forEach(de=>{Ac.has(de)&&!Ec(l)||s.set(de,l.isEnabled(de))}),ph.forEach(([de,xe])=>{h[de]=l.getParameter(l[xe])}),Y=l.getParameter(l.DEPTH_WRITEMASK),cd.forEach(([de,xe])=>{"string"==typeof xe?f[de]=l.getParameter(l[xe]):Array.isArray(xe)&&(f[de]=[],xe.forEach((Te,Ne)=>{f[de][Ne]=l.getParameter(l[Te])}))}),D=null,l.useProgram(null)}this.disable=de=>{s.get(de)&&(l.disable(de),s.set(de,!1))},this.enable=de=>{s.get(de)||(l.enable(de),s.set(de,!0))},this.useProgram=de=>{de!==D&&(D=de,l.useProgram(D))},ph.forEach(([de])=>{this[de]=xe=>{h[de]!==xe&&(h[de]=xe,l[de](xe))}}),this.depthMask=de=>{Y!==de&&(Y=de,l.depthMask(de))},cd.forEach(([de])=>{this[de]=(...xe)=>{const Te=f[de];let Ne=!0;for(let Ue=0,it=Te.length;Ue<it;Ue++){const vt=xe[Ue];Ne=Te[Ue]===vt&&Ne,Te[Ue]=vt}Ne||l[de].apply(l,xe)}}),fe(),this.reset=fe,Object.defineProperties(this,{gl:{get:()=>l,set(de){de!==l&&(l=de,fe())}}})}blendEquation(l){this.blendEquationSeparate(l,l)}blendFunc(l,s){this.blendFuncSeparate(l,s,l,s)}},ca=w(5662),Gl=l=>!(l&l-1)&&l>0;var Ml=function(l){return l[l.Nearest=9728]="Nearest",l[l.Linear=9729]="Linear",l[l.NearestMipMapNearest=9984]="NearestMipMapNearest",l[l.LinearMipMapNearest=9985]="LinearMipMapNearest",l[l.NearestMipMapLinear=9986]="NearestMipMapLinear",l[l.LinearMipMapLinear=9987]="LinearMipMapLinear",l}(Ml||{});const ld={[Ge.Nearest]:Ml.Nearest,[Ge.Linear]:Ml.Linear},Nu={[Ze.ClampToEdge]:33071,[Ze.Repeat]:10497,[Ze.MirrorRepeat]:33648},mh={[Ge.Nearest]:{[Ge.Nearest]:Ml.NearestMipMapNearest,[Ge.Linear]:Ml.NearestMipMapLinear},[Ge.Linear]:{[Ge.Nearest]:Ml.LinearMipMapNearest,[Ge.Linear]:Ml.LinearMipMapLinear}};function kd(l,s,h){const{width:f,height:D}=s;h||(h=B(f,D));const Y=Ec(l)||Gl(f)&&Gl(D),fe=Y&&h>=2?mh[s.min][s.mipmapFilter]:ld[s.min];return Y?{width:f,height:D,min:fe,mag:ld[s.mag],wrapS:Nu[s.wrapU],wrapT:Nu[s.wrapV]}:{width:f,height:D,min:fe,mag:ld[s.mag],wrap:l.CLAMP_TO_EDGE}}const Lu="WEBGL_compressed_texture_s3tc",dl="WEBGL_compressed_texture_s3tc_srgb",el="WEBGL_compressed_texture_etc",hl="WEBGL_compressed_texture_pvrtc",Ba="EXT_texture_compression_rgtc",ls="WEBGL_compressed_texture_astc",fa="EXT_texture_compression_bptc",Cc=l=>l.getExtension("WEBGL_compressed_texture_astc")?.getSupportedProfiles().includes("hdr"),jp=new Map([[_,[Int8Array]],[Q,[Uint8Array,Uint8ClampedArray]],[P,[Int16Array]],[ae,[Uint16Array]],[32819,[Uint16Array]],[32820,[Uint16Array]],[33635,[Uint16Array]],[nt,[Int32Array]],[Pt,[Uint32Array]],[35902,[Uint32Array]],[33640,[Uint32Array]],[35899,[Uint32Array]],[34042,[Uint32Array]],[36193,[Uint16Array]],[5131,[Uint16Array]],[sn,[Float32Array]]]),gh=[["rgba8unorm",{format:ks,internalFormat:ks,type:Q}],["rgba16uint",{format:ks,internalFormat:ks,type:32819}]],Tf=[["etc2-rgb8unorm",{format:36196,extension:"WEBGL_compressed_texture_etc1"}],["rgba16float",{format:ks,internalFormat:ks,type:36193,extension:"OES_texture_half_float"}],["rgba32float",{format:ks,internalFormat:ks,type:sn,extension:"OES_texture_float"}]],Bd=[["bc1-rgba-unorm",{format:33776,extension:Lu}],["bc1-rgba-unorm-srgb",{format:35916,extension:dl}],["bc2-rgba-unorm",{format:33778,extension:Lu}],["bc2-rgba-unorm-srgb",{format:35918,extension:dl}],["bc3-rgba-unorm",{format:33779,extension:Lu}],["bc3-rgba-unorm-srgb",{format:35919,extension:dl}],["bc4-r-unorm",{format:36283,extension:Ba}],["bc4-r-snorm",{format:36284,extension:Ba}],["bc5-rg-unorm",{format:36285,extension:Ba}],["bc5-rg-snorm",{format:36286,extension:Ba}],["bc6h-rgb-ufloat",{format:36495,extension:fa}],["bc6h-rgb-float",{format:36494,extension:fa}],["bc7-rgba-unorm",{format:36492,extension:fa}],["bc7-rgba-unorm-srgb",{format:36493,extension:fa}],["etc2-rgb8unorm",{format:37492,extension:el}],["etc2-rgb8unorm-srgb",{format:37493,extension:el}],["etc2-rgb8a1unorm",{format:37494,extension:el}],["etc2-rgb8a1unorm-srgb",{format:37495,extension:el}],["etc2-rgba8unorm",{format:37496,extension:el}],["etc2-rgba8unorm-srgb",{format:37497,extension:el}],["eac-r11unorm",{format:37488,extension:el}],["eac-r11snorm",{format:37489,extension:el}],["eac-rg11unorm",{format:37490,extension:el}],["eac-rg11snorm",{format:37491,extension:el}],["astc-4x4-unorm",{format:37808,extension:ls}],["astc-5x4-unorm",{format:37809,extension:ls}],["astc-5x5-unorm",{format:37810,extension:ls}],["astc-6x5-unorm",{format:37811,extension:ls}],["astc-6x6-unorm",{format:37812,extension:ls}],["astc-8x5-unorm",{format:37813,extension:ls}],["astc-8x6-unorm",{format:37814,extension:ls}],["astc-8x8-unorm",{format:37815,extension:ls}],["astc-10x5-unorm",{format:37816,extension:ls}],["astc-10x6-unorm",{format:37817,extension:ls}],["astc-10x8-unorm",{format:37818,extension:ls}],["astc-10x10-unorm",{format:37819,extension:ls}],["astc-12x10-unorm",{format:37820,extension:ls}],["astc-12x12-unorm",{format:37821,extension:ls}],["astc-4x4-unorm-srgb",{format:37840,extension:ls}],["astc-5x4-unorm-srgb",{format:37841,extension:ls}],["astc-5x5-unorm-srgb",{format:37842,extension:ls}],["astc-6x5-unorm-srgb",{format:37843,extension:ls}],["astc-6x6-unorm-srgb",{format:37844,extension:ls}],["astc-8x5-unorm-srgb",{format:37845,extension:ls}],["astc-8x6-unorm-srgb",{format:37846,extension:ls}],["astc-8x8-unorm-srgb",{format:37847,extension:ls}],["astc-10x5-unorm-srgb",{format:37848,extension:ls}],["astc-10x6-unorm-srgb",{format:37849,extension:ls}],["astc-10x8-unorm-srgb",{format:37850,extension:ls}],["astc-10x10-unorm-srgb",{format:37851,extension:ls}],["astc-12x10-unorm-srgb",{format:37852,extension:ls}],["astc-12x12-unorm-srgb",{format:37853,extension:ls}],["astc-4x4-hdr",{format:37808,extension:ls,supported:Cc}],["astc-5x4-hdr",{format:37809,extension:ls,supported:Cc}],["astc-5x5-hdr",{format:37810,extension:ls,supported:Cc}],["astc-6x5-hdr",{format:37811,extension:ls,supported:Cc}],["astc-6x6-hdr",{format:37812,extension:ls,supported:Cc}],["astc-8x5-hdr",{format:37813,extension:ls,supported:Cc}],["astc-8x6-hdr",{format:37814,extension:ls,supported:Cc}],["astc-8x8-hdr",{format:37815,extension:ls,supported:Cc}],["astc-10x5-hdr",{format:37816,extension:ls,supported:Cc}],["astc-10x6-hdr",{format:37817,extension:ls,supported:Cc}],["astc-10x8-hdr",{format:37818,extension:ls,supported:Cc}],["astc-10x10-hdr",{format:37819,extension:ls,supported:Cc}],["astc-12x10-hdr",{format:37820,extension:ls,supported:Cc}],["astc-12x12-hdr",{format:37821,extension:ls,supported:Cc}],["pvrtc-rgb4unorm",{format:35840,extension:hl}],["pvrtc-rgb2unorm",{format:35841,extension:hl}],["pvrtc-rgba4unorm",{format:35842,extension:hl}],["pvrtc-rgba2unorm",{format:35843,extension:hl}]],Mf=[["rgba8unorm",{format:ks,internalFormat:32856,type:Q}],["rgba8snorm",{format:ks,internalFormat:36759,type:_}],["rgba8unorm-srgb",{format:ks,internalFormat:35907,type:Q}],["rgba16uint",{format:cr,internalFormat:36214,type:ae}],["r8unorm",{format:6403,internalFormat:33321,type:Q}],["r8snorm",{format:6403,internalFormat:36756,type:_}],["r8uint",{format:qr,internalFormat:33330,type:Q}],["r8sint",{format:qr,internalFormat:33329,type:_}],["r16uint",{format:qr,internalFormat:33332,type:ae}],["r16sint",{format:qr,internalFormat:33331,type:P}],["r16float",{format:6403,internalFormat:33325,type:5131}],["rg8unorm",{format:Xr,internalFormat:33323,type:Q}],["rg8snorm",{format:Xr,internalFormat:36757,type:_}],["rg8uint",{format:Xr,internalFormat:oi,type:Q}],["rg8sint",{format:Xr,internalFormat:oi,type:_}],["r32uint",{format:qr,internalFormat:33334,type:Pt}],["r32sint",{format:qr,internalFormat:33326,type:nt}],["r32float",{format:6403,internalFormat:33326,type:sn}],["rg16uint",{format:oi,internalFormat:33338,type:ae}],["rg16sint",{format:oi,internalFormat:33337,type:P}],["rg16float",{format:Xr,internalFormat:33327,type:5131}],["rgba8uint",{format:cr,internalFormat:36220,type:Q}],["rgba8sint",{format:cr,internalFormat:36238,type:_}],["rgb9e5ufloat",{format:6407,internalFormat:35901,type:35902}],["rgb10a2uint",{format:cr,internalFormat:36975,type:33640}],["rgb10a2unorm",{format:ks,internalFormat:32857,type:33640}],["rg11b10ufloat",{format:6407,internalFormat:35898,type:35899}],["rg32uint",{format:oi,internalFormat:33340,type:Pt}],["rg32sint",{format:oi,internalFormat:33339,type:nt}],["rg32float",{format:Xr,internalFormat:33328,type:sn}],["rgba16sint",{format:cr,internalFormat:36232,type:P}],["rgba16float",{format:ks,internalFormat:34842,type:5131}],["rgba32uint",{format:cr,internalFormat:36208,type:Pt}],["rgba32sint",{format:cr,internalFormat:36226,type:nt}],["rgba32float",{format:ks,internalFormat:34836,type:sn}],["depth16unorm",{format:6402,internalFormat:33189,type:ae}],["depth24plus",{format:6402,internalFormat:33190,type:Pt}],["depth24plus-stencil8",{format:34041,internalFormat:35056,type:34042}],["depth32float",{format:6402,internalFormat:36012,type:sn}],["depth32float-stencil8",{format:34041,internalFormat:36013,type:36269}]],fl={webgl1:new Map([...gh,...Bd,...Tf]),webgl2:new Map([...gh,...Bd,...Mf])},pl=typeof ImageBitmap<"u",Ic=typeof ImageData<"u",Gc=[34069,34070,34071,34072,34073,34074];class ud{webglTexture;texture;update;destroy;constructor(s,h){this.texture=h;const f=Ec(s),D=h instanceof ne,Y=D?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,fe=D?h.sources:[h.source],de=D?h.levels:h.levels?[h.levels]:null,xe=h.format,Te=J[xe],Ne=(f?fl.webgl2:fl.webgl1).get(xe);if(!Ne)throw new Error(`Unsupported texture format: ${xe}`);const{format:Ue,extension:it}=Ne;if(it&&!s.getExtension(it)||Ne.supported&&!Ne.supported(s))throw new Error(`Texture format ${xe} not available, missing ${it} extension.`);const vt="internalFormat"in Ne?Ne.internalFormat:Ue,Et="type"in Ne?Ne.type:Ue,Lt=f;fe.forEach(Zi=>{if(U(Zi)){const Di=jp.get(Et);if(Di&&!Di.some(Fr=>Zi instanceof Fr))throw new Error(`Invalid typed array for texture data type 0x${Ue.toString(16)}`)}});let Tt=Lt?null:s.createTexture(),Gt=!0,Cn=!0,fn=!0,xn=!0,wn=!1,Fn=!1,$n=0,pr=0,hr=0,wr=0,di=0;function Ai(){Cn=!0,xn=!0,fn=!0,Gt=!0}function ei(Zi){xn=!0,Gt=!0;const{property:Di}=Zi;"min"!==Di&&"mag"!==Di&&"mipmapFilter"!==Di||(fn=!0)}function yi(){fn=!0,Gt=!0}h.on("change",ei),h.on("resize",Ai),h.on("update",yi),this.update=()=>{if(!Gt)return;Tt&&s.bindTexture(Y,Tt);const{width:Zi,height:Di}=h;Cn&&(!Lt||wr===Zi&&di===Di||(Tt&&s.deleteTexture(Tt),Tt=s.createTexture(),s.bindTexture(Y,Tt)),wn=f||Gl(Zi)&&Gl(Di),wn?de?.[0].length?(pr=de[0].reduce((Si,{level:wi})=>Math.min(Si,wi),1/0),hr=de[0].reduce((Si,{level:wi})=>Math.max(Si,wi),pr),$n=hr-pr+1):($n=B(Zi,Di),pr=0,hr=$n-1):($n=1,pr=0,hr=0),Lt&&(s.texStorage2D(Y,$n,vt,Zi,Di),wr=Zi,di=Di));const Fr={...kd(s,h,$n),target:Y,auto:!1};if(f&&(Fr.minLod=pr,Fr.maxLod=hr),xn&&((0,ca.setTextureParameters)(s,Tt,Fr),h.anisotropy>1)){const Si=s.getExtension("EXT_texture_filter_anisotropic");if(Si){const wi=Math.min(s.getParameter(Si.MAX_TEXTURE_MAX_ANISOTROPY_EXT),h.anisotropy);s.texParameterf(Y,Si.TEXTURE_MAX_ANISOTROPY_EXT,wi)}}if(fn){for(let Si=0;Si<fe.length;Si++){const wi=fe[Si],po=de?.[Si],io=D?Gc[Si]:s.TEXTURE_2D;if(po){Fn=!0;for(let ns=0;ns<$n;ns++){const{src:bi,width:Lr,height:pi,level:ho}=po[ns];Te.compressed?Lt?s.compressedTexSubImage2D(io,ho,0,0,Lr,pi,vt,bi):s.compressedTexImage2D(io,ho,vt,Lr,pi,0,bi):Lt?s.texSubImage2D(io,ho,0,0,Lr,pi,Ue,Et,bi,0):s.texImage2D(io,ho,vt,Lr,pi,0,Ue,Et,bi)}if(!f){const ns=po[po.length-1];let{width:bi,height:Lr,level:pi}=ns;for(;bi>1||Lr>1;)if(bi=Math.ceil(bi/2),Lr=Math.ceil(Lr/2),pi++,Te.compressed){const ho=Te.size(bi,Lr),vs=new Uint8Array(ho);s.compressedTexImage2D(io,pi,vt,bi,Lr,0,vs)}else s.texImage2D(io,pi,vt,bi,Lr,0,Ue,Et,null)}}else if(wi instanceof HTMLImageElement||wi instanceof HTMLCanvasElement||wi instanceof HTMLVideoElement||Ic&&wi instanceof ImageData||pl&&wi instanceof ImageBitmap)Lt?s.texSubImage2D(io,0,0,0,Zi,Di,Ue,Et,wi):s.texImage2D(io,0,vt,Ue,Et,wi);else{if(!U(wi))throw s.deleteTexture(Tt),new Error("Unknown texture source");Te.compressed?Lt?s.compressedTexSubImage2D(io,0,0,0,Zi,Di,vt,wi):s.compressedTexImage2D(io,0,vt,Zi,Di,0,wi):Lt?s.texSubImage2D(io,0,0,0,Zi,Di,Ue,Et,wi,0):s.texImage2D(io,0,vt,Zi,Di,0,Ue,Et,wi)}}wn&&!Fn&&Fr.min!==s.LINEAR&&Fr.min!==s.NEAREST&&s.generateMipmap(Y)}s.bindTexture(Y,null),Cn=!1,xn=!1,fn=!1,Gt=!1},this.destroy=()=>{h.off("change",ei),h.off("resize",Ai),h.off("update",yi),s.deleteTexture(Tt)},Object.defineProperties(this,{webglTexture:{get:()=>Tt}})}}class Nd extends A{get;release;constructor(s){super();const h=new Yo({key:(D,Y)=>Y,create:(D,Y)=>Y?(this.emit("create",{texture:Y}),new ud(s,Y)):null,release:D=>{D&&(D.destroy(),this.emit("release",{binding:D}))}});this.get=h.get,this.release=h.release;const f=this.destroy;this.destroy=()=>{h.destroy(),f()}}}class Uu extends A{get;release;constructor(s){super();const h=new Yo({key:(D,Y)=>Y,create:(D,Y)=>(this.emit("create",{texture:Y}),new ud(s,Y)),release:D=>{D.destroy(),this.emit("release",{binding:D})}});this.get=h.get,this.release=h.release;const f=this.destroy;this.destroy=()=>{h.destroy(),f()}}}class cu extends A{get;release;constructor(s){super();const h=new Map,f=new bt,D=new Map,Y=new Yo({key:(Te,Ne,Ue)=>((it,vt)=>{let Et=f.get(it,vt);return Et||(Et=Symbol(),f.set(it,vt,Et),D.set(Et,{geometry:it,morphIndex:vt})),Et})(Ne,Ue),create:(Te,Ne,Ue)=>{if(!Ne.attributes)return null;const{position:it,normal:vt,tangent:Et,...Lt}=Ne.attributes;let Tt=h.get(Ne);if(!Tt){const xn={...Lt};if(Ne.indices&&(xn.indices=Ne.indices),Tt={indicesBuffer:void 0,numElements:void 0,elementType:void 0,attribBuffers:void 0,morphAttribBuffers:new Map,keysUsed:new Set},Object.keys(xn).length){const wn=(0,ca.createBufferInfoFromArrays)(s,xn),{indices:Fn,numElements:$n,elementType:pr,attribs:hr}=wn;Object.assign(Tt,{indicesBuffer:Fn,numElements:$n,elementType:pr,attribBuffers:hr})}h.set(Ne,Tt),Ne.on("change",de)}const Gt=Tt.attribBuffers?{...Tt.attribBuffers}:{},Cn=Ue>=0&&Tt.morphAttribBuffers.get(Ue);if(Cn){const{position:xn,normal:wn,tangent:Fn}=Cn;xn&&(Gt.position=xn),wn&&(Gt.normal=wn),Fn&&(Gt.tangent=Fn)}else{const xn=Ue<0?Ne.attributes:Ne.morphKeys[Ue].attributes;for(const[wn,Fn]of Object.entries(xn))Gt[wn]||(Gt[wn]=Fn)}if(Ue>=0){const xn=Tt.morphAttribBuffers.get(Ue+1)??Ne.morphKeys[Ue+1].attributes;xn.position&&(Gt.morphPosition=xn.position),xn.normal&&(Gt.morphNormal=xn.normal),xn.tangent&&(Gt.morphTangent=xn.tangent),Tt.keysUsed.add(Ue)}const fn=(0,ca.createBufferInfoFromArrays)(s,Gt,{indices:Tt?.indicesBuffer,elementType:Tt?.elementType,numElements:Tt?.numElements});return Tt.morphAttribBuffers.set(Ue,{position:fn.attribs.position,normal:fn.attribs.normal,tangent:fn.attribs.tangent}),Ue>=0&&fn.attribs.morphPosition&&Tt.morphAttribBuffers.set(Ue+1,{position:fn.attribs.morphPosition,normal:fn.attribs.morphNormal,tangent:fn.attribs.morphTangent}),this.emit("create",{geometry:Ne,morphIndex:Ue}),fn},release:(Te,Ne)=>{const{geometry:Ue,morphIndex:it}=D.get(Ne);f.delete(Ue,it),D.delete(Ne);const vt=h.get(Ue);if(vt){const{keysUsed:Et}=vt;Et.delete(it);for(let Lt=it,Tt=it+1;Lt<=Tt;Lt++)if(!Et.has(Lt)&&!Et.has(Lt-1)){const Gt=vt.morphAttribBuffers.get(Lt);if(Gt){for(const Cn of Object.values(Gt))Cn?.buffer&&s.deleteBuffer(Cn.buffer);vt.morphAttribBuffers.delete(Lt)}}if(!vt.morphAttribBuffers.size){vt.indicesBuffer&&s.deleteBuffer(vt.indicesBuffer);for(const Lt of Object.values(vt.attribBuffers||{}))s.deleteBuffer(Lt.buffer)}}vt?.morphAttribBuffers.size||(h.delete(Ue),Ue.off("change",de)),this.emit("release",{bufferInfo:Te,geometry:Ue})}});function fe(Te,Ne){const Ue=h.get(Te);for(const vt in Ue.attribBuffers)Object.prototype.hasOwnProperty.call(Ue.attribBuffers,vt)&&(0,ca.setAttribInfoBufferFromArray)(s,Ue.attribBuffers[vt],Te.attributes[vt].data);const it=Ue?.morphAttribBuffers.get(Ne);if(it){const vt=Ne<0?Te.attributes:Te.morphKeys[Ne].attributes;for(const Et in it)Object.prototype.hasOwnProperty.call(it,Et)&&it[Et]&&(0,ca.setAttribInfoBufferFromArray)(s,it[Et],vt[Et].data)}}function de(Te){const{geometry:Ne,property:Ue,morphIndex:it}=Te;"attributes"===Ue?fe(Ne,-1):"morphKey"===Ue&&fe(Ne,it)}this.get=(Te,Ne,Ue=-1)=>Y.get(Te,Ne,Ue),this.release=(Te,Ne,Ue=-1)=>Y.release(Te,Ne,Ue);const xe=this.destroy;this.destroy=()=>{Y.destroy(),xe()}}}class _h extends A{get;release;constructor(s){super();const h=s instanceof WebGLRenderingContext&&s.getExtension("OES_vertex_array_object"),f=Ec(s)?de=>s.deleteVertexArray(de):h?de=>h.deleteVertexArrayOES(de):()=>{},D=new bt,Y=new Yo({key:(de,xe,Te)=>((Ne,Ue)=>{let it=D.get(Ne,Ue);return it||(it=Symbol(),D.set(Ne,Ue,it)),it})(xe,Te),create:(de,xe,Te)=>de&&xe&&Te?(this.emit("create",{programInfo:xe,bufferInfo:Te}),(0,ca.createVertexArrayInfo)(s,xe,Te)):null,release:(de,xe,Te,Ne)=>{de&&f(de.vertexArrayObject),D.delete(Te,Ne),de&&this.emit("release",{vertexArrayInfo:de})}});this.get=Y.get,this.release=Y.release;const fe=this.destroy;this.destroy=()=>{Y.destroy(),fe()}}}const Df=l=>{console.log(l);const s=l.split("\n").filter(h=>h.toLocaleLowerCase().includes("error")).map((h,f)=>`${f+1}. ${h}`).join("\n\n");console.log("%c"+s,"color: #ff474c; font-weight: bold;")};class Vu extends A{get;release;constructor(s,h){function f(fe){const de=fe.material&&Xa(fe.material),xe=de?.options(fe)||null;return h?h(fe,xe):xe}super();const D=new Yo({key:fe=>{const de=fe.material?.type||"",xe=de&&f(fe),Te=fe.material&&Xa(fe.material);return xe?de+"::"+Te.key(xe):""},create:fe=>{if(!fe||!fe.material)return null;const de=f(fe),xe=Xa(fe.material).shader(de);if(!xe)return null;const{vert:Te,frag:Ne}=xe,Ue=(0,ca.createProgramInfo)(s,[Te,Ne],Df);return this.emit("create",{programInfo:Ue}),Ue},release:fe=>{fe&&s.deleteProgram(fe.program),this.emit("release",{programInfo:fe})},timeout:18e5});this.get=fe=>D.get(fe),this.release=fe=>D.release(fe);const Y=this.destroy;this.destroy=()=>{D.destroy(),Y()}}}const Hl={[kt.points]:0,[kt.lines]:1,[kt.lineLoop]:2,[kt.lineStrip]:3,[kt.triangles]:4,[kt.triangleStrip]:5,[kt.triangleFan]:6};function Dl(l,s,h){return void 0===s?l:"function"==typeof s?s(h):s}function Sl(l,s,h={}){const{beforeRender:f,glState:D=l}=h,Y=!Ec(l)&&l.getExtension("OES_vertex_array_object")||null,fe=Ec(l)||!!Y;return function(de,xe,...Te){let Ne=null,Ue=null,it=null,vt=!1;D.frontFace(l.CCW);const Et=[];for(const Lt of de){const Tt=Dl(Lt.programInfo,h.programInfo,Lt),Gt=Dl(Lt.bufferInfo,h.bufferInfo,Lt),Cn=Dl(Lt.vertexArrayInfo,h.vertexArrayInfo,Lt),fn=Dl(Lt.uniforms,h.uniforms,Lt),xn=!!Dl(Lt.clockwise,h.clockwise,Lt),wn=Tt!==Ne;if(wn&&(Ne=Tt,D.useProgram(Tt.program),xe&&((0,ca.setUniforms)(Tt,xe),Et.length=0)),xn!==vt&&(vt=xn,D.frontFace(xn?l.CW:l.CCW)),Cn&&fe&&Tt===Lt.programInfo?Cn!==it&&((0,ca.setBuffersAndAttributes)(l,Tt,Cn),it=Cn):(wn||Gt!==Ue)&&(Ue=Gt,(0,ca.setBuffersAndAttributes)(l,Tt,Gt)),f&&f(Lt,Tt,Cn||Gt,fn,...Te),Array.isArray(fn))for(let Fn=0;Fn<fn.length;Fn++){const $n=fn[Fn];(Fn>=Et.length||$n!==Et[Fn])&&(Et.length=Fn,Et[Fn]=$n,$n&&(0,ca.setUniforms)(Tt,$n))}else fn&&(0,ca.setUniforms)(Tt,fn);s(Lt,Tt,Cn||Gt,fn,...Te)}fe&&(Y?Y.bindVertexArrayOES(null):l.bindVertexArray(null))}}function vh(l,s){return Sl(l,(h,f,D)=>{0!==h.count&&(0,ca.drawBufferInfo)(l,D,Hl[h.topology],h.count,h.offset)},s)}const yh=l=>({blurCoefficient:l.blur??.1,texelOffset:new Float32Array([0,0])}),Sf={passes:[{shader:"blur",uniforms:yh,sourceTexture:"source",resize(l,s){l.texelOffset[0]=1/s}},{shader:"blur",uniforms:yh,sourceTexture:"source",resize(l,s,h){l.texelOffset[1]=1/h}}],shaders:{blur:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0), MAX_BLUR);\n\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\tfloat count = 0.0;\n\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tcolor /= count;\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},dd=l=>({focusStart:l.focusStart??90*ce,focusEnd:l.focusEnd??130*ce,blurCoefficient:l.blur??.1,texelOffset:new Float32Array([0,0]),depthRange:new Float32Array([0,0])}),Gp={passes:[{shader:"dof",uniforms:dd,sourceTexture:"source",depthTexture:"depthTex",resize(l,s){l.texelOffset[0]=1/s}},{shader:"dof",uniforms:dd,sourceTexture:"source",depthTexture:"depthTex",resize(l,s,h){l.texelOffset[1]=1/h}}],camera(l,s){l.depthRange[0]=s.near,l.depthRange[1]=s.far},shaders:{dof:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float focusStart;\n\t\tuniform float focusEnd;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform sampler2D depthTex;\n\t\tuniform vec2 texelOffset;\n\t\tuniform vec2 depthRange;\n\t\tvoid main() {\n\t\t\t\n\t\t\tfloat ndc = 2.0 * texture2D(depthTex, uv).r - 1.0;\n\t\t\tfloat depth = -(2.0 * depthRange.y * depthRange.x) / (ndc * (depthRange.y - depthRange.x) - depthRange.y - depthRange.x);\n\t\t\tfloat deltaDepth = max(depth - focusEnd, 0.0) + max(focusStart - depth, 0.0);\n\t\t\t\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tif (ndc < 1.0 && deltaDepth > 0.0) {\n\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * deltaDepth), MAX_BLUR);\n\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\tfloat count = 0.0;\n\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tcolor /= count;\n\t\t\t} else {\n\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t}\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},Ld=l=>({blurParams:new Float32Array([l.center?.[0]||0,l.center?.[1]||0,l.radius??.2,l.blur??.1]),texelParams:new Float32Array([0,0,0])}),hd={passes:[{shader:"radialBlur",uniforms:Ld,sourceTexture:"source",resize(l,s,h){const f=s/h;l.texelParams[0]=f/s,l.texelParams[2]=f}},{shader:"radialBlur",uniforms:Ld,sourceTexture:"source",resize(l,s,h){const f=s/h;l.texelParams[1]=1/h,l.texelParams[2]=f}}],shaders:{radialBlur:"\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\t#define MAX_BLUR 20.0\n\t\t\tvarying vec2 uv;\n\t\t\tuniform sampler2D source;\n\t\t\tuniform vec4 blurParams;\n\t\t\tuniform vec3 texelParams;\n\t\t\tvoid main() {\n\t\t\t\tvec2 center = blurParams.xy;\n\t\t\t\tfloat radius = blurParams.z;\n\t\t\t\tfloat blurCoefficient = blurParams.w;\n\t\t\t\tvec2 texelOffset = texelParams.xy;\n\t\t\t\tfloat aspect = texelParams.z;\n\t\t\t\tvec2 pos = uv * 2.0 - 1.0;\n\t\t\t\tpos.x *= aspect;\n\t\t\t\tfloat r = length(pos - center);\n\t\t\t\tfloat deltaR = max(r - radius, 0.0);\n\t\t\t\t\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tif (deltaR > 0.0) {\n\t\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0 * deltaR), MAX_BLUR);\n\t\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\t\tfloat count = 0.0;\n\t\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t\tcolor /= count;\n\t\t\t\t} else {\n\t\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t\t}\n\t\t\t\tgl_FragColor = color;\n\t\t\t}".replace(/\n\t{3}/g,"\n").trim()}},Rl=new Map([[10,[1.5,3,12]],[11,[1,1.5,3,12]],[12,[1,1.5,2,4,12]],[13,[1,1.5,2,2,4,12]],[14,[1,1.5,2,2,2,4,12]],[15,[1,1.5,2,2,2,2,4,12]],[20,[1.5,2,8]],[21,[1,1.5,2,8]],[22,[1,1.5,2,2,8]],[23,[1,1.5,2,2,2,8]],[24,[1,1.5,2,2,2,3,8]],[25,[1,1.5,2,2,2,2,4,8]],[26,[1,1.5,2,2,2,2,2,4,8]],[27,[1,1.5,2,2,2,2,2,2,4,8]],[28,[1,1.5,2,2,2,2,2,2,2,4,8]],[29,[1,1.5,2,2,2,2,2,2,2,2,4,8]],[39,[1,1,1,1,1,1.5,2,2,2,2,4,8]]]),bh={passes:[{shader:"fxaa",uniforms:()=>({texelOffset:new Float32Array([0,0])}),sourceTexture:"source"}],shaders:{fxaa:function(l=25){const s=Rl.get(l);if(!s)throw new Error("Undefined FXAA quality preset "+l);const[h,f,...D]=s;return`\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\n\t\tvarying vec2 uv;\n\n\t\tconst float fxaaQualitySubpix = 0.75;\n\t\tconst float fxaaQualityEdgeThreshold = 0.125;\n\t\tconst float fxaaQualityEdgeThresholdMin = 0.0;\n\n\t\t#define FxaaBool bool\n\t\t#define FxaaFloat float\n\t\t#define FxaaFloat2 vec2\n\t\t#define FxaaFloat3 vec3\n\t\t#define FxaaFloat4 vec4\n\t\t#define FxaaHalf float\n\t\t#define FxaaHalf2 vec2\n\t\t#define FxaaHalf3 vec3\n\t\t#define FxaaHalf4 vec4\n\t\t#define FxaaInt2 vec2\n\t\t#define FxaaTex sampler2D\n\n\t\t#define FxaaSat(x) clamp(x, 0.0, 1.0)\n\t\t#define FxaaTexTop(t, p) texture2D(t, p)\n\t\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\n\t\t#define lumaM rgbyM.y\n\n\t\t#define FXAA_QUALITY_P0 ${Cl(h)}\n\t\t#define FXAA_QUALITY_P1 ${Cl(f)}\n\n\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\n\t\tFxaaFloat4 FxaaPixelShader(\n\t\t\n\t\tFxaaFloat2 pos,\n\t\t\n\t\tFxaaTex tex,\n\t\t\n\t\tFxaaFloat2 fxaaQualityRcpFrame,\n\t\t\n\t\tFxaaFloat fxaaQualitySubpix,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThreshold,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThresholdMin\n\t\t) {\n\t\t\t\n\t\t\tFxaaFloat2 posM;\n\t\t\tposM.x = pos.x;\n\t\t\tposM.y = pos.y;\n\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat maxSM = max(lumaS, lumaM);\n\t\t\tFxaaFloat minSM = min(lumaS, lumaM);\n\t\t\tFxaaFloat maxESM = max(lumaE, maxSM);\n\t\t\tFxaaFloat minESM = min(lumaE, minSM);\n\t\t\tFxaaFloat maxWN = max(lumaN, lumaW);\n\t\t\tFxaaFloat minWN = min(lumaN, lumaW);\n\t\t\tFxaaFloat rangeMax = max(maxWN, maxESM);\n\t\t\tFxaaFloat rangeMin = min(minWN, minESM);\n\t\t\tFxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n\t\t\tFxaaFloat range = rangeMax - rangeMin;\n\t\t\tFxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n\t\t\tFxaaBool earlyExit = range < rangeMaxClamped;\n\t\t\t\n\t\t\tif(earlyExit)\n\t\t\t\treturn rgbyM;\n\t\t\t\n\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat lumaNS = lumaN + lumaS;\n\t\t\tFxaaFloat lumaWE = lumaW + lumaE;\n\t\t\tFxaaFloat subpixRcpRange = 1.0/range;\n\t\t\tFxaaFloat subpixNSWE = lumaNS + lumaWE;\n\t\t\tFxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n\t\t\tFxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n\t\t\t\n\t\t\tFxaaFloat lumaNESE = lumaNE + lumaSE;\n\t\t\tFxaaFloat lumaNWNE = lumaNW + lumaNE;\n\t\t\tFxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n\t\t\tFxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n\t\t\t\n\t\t\tFxaaFloat lumaNWSW = lumaNW + lumaSW;\n\t\t\tFxaaFloat lumaSWSE = lumaSW + lumaSE;\n\t\t\tFxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n\t\t\tFxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n\t\t\tFxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n\t\t\tFxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n\t\t\tFxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n\t\t\tFxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n\t\t\t\n\t\t\tFxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n\t\t\tFxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n\t\t\tFxaaBool horzSpan = edgeHorz >= edgeVert;\n\t\t\tFxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n\t\t\t\n\t\t\tif(!horzSpan) lumaN = lumaW;\n\t\t\tif(!horzSpan) lumaS = lumaE;\n\t\t\tif(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n\t\t\tFxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n\t\t\t\n\t\t\tFxaaFloat gradientN = lumaN - lumaM;\n\t\t\tFxaaFloat gradientS = lumaS - lumaM;\n\t\t\tFxaaFloat lumaNN = lumaN + lumaM;\n\t\t\tFxaaFloat lumaSS = lumaS + lumaM;\n\t\t\tFxaaBool pairN = abs(gradientN) >= abs(gradientS);\n\t\t\tFxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n\t\t\tif(pairN) lengthSign = -lengthSign;\n\t\t\tFxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n\t\t\t\n\t\t\tFxaaFloat2 posB;\n\t\t\tposB.x = posM.x;\n\t\t\tposB.y = posM.y;\n\t\t\tFxaaFloat2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\t\t\tif(!horzSpan) posB.x += lengthSign * 0.5;\n\t\t\tif( horzSpan) posB.y += lengthSign * 0.5;\n\t\t\t\n\t\t\tFxaaFloat2 posN;\n\t\t\tposN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n\t\t\tposN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat2 posP;\n\t\t\tposP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n\t\t\tposP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n\t\t\tFxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n\t\t\tFxaaFloat subpixE = subpixC * subpixC;\n\t\t\tFxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n\t\t\t\n\t\t\tif(!pairN) lumaNN = lumaSS;\n\t\t\tFxaaFloat gradientScaled = gradient * 1.0/4.0;\n\t\t\tFxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n\t\t\tFxaaFloat subpixF = subpixD * subpixE;\n\t\t\tFxaaBool lumaMLTZero = lumaMM < 0.0;\n\t\t\t\n\t\t\tlumaEndN -= lumaNN * 0.5;\n\t\t\tlumaEndP -= lumaNN * 0.5;\n\t\t\tFxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tFxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n\t\t\tFxaaBool doneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n\t\t\t${function Y(fe){if(!fe.length)return"";const[de,...xe]=fe,Te=Cl(de);return`if(doneNP) {\n\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * ${Te};\n\t\t\tif(!doneN) posN.y -= offNP.y * ${Te};\n\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * ${Te};\n\t\t\tif(!doneP) posP.y += offNP.y * ${Te};\n\t\t\t${Y(xe)}\n\t\t}\n`}(D)}\n\t\t\tFxaaFloat dstN = posM.x - posN.x;\n\t\t\tFxaaFloat dstP = posP.x - posM.x;\n\t\t\tif(!horzSpan) dstN = posM.y - posN.y;\n\t\t\tif(!horzSpan) dstP = posP.y - posM.y;\n\t\t\t\n\t\t\tFxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLength = (dstP + dstN);\n\t\t\tFxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLengthRcp = 1.0/spanLength;\n\t\t\t\n\t\t\tFxaaBool directionN = dstN < dstP;\n\t\t\tFxaaFloat dst = min(dstN, dstP);\n\t\t\tFxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n\t\t\tFxaaFloat subpixG = subpixF * subpixF;\n\t\t\tFxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n\t\t\tFxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n\t\t\t\n\t\t\tFxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n\t\t\tFxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n\t\t\tif(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n\t\t\tif( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n\t\t\treturn FxaaTexTop(tex, posM);\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tuv,\n\t\t\t\t\tsource,\n\t\t\t\t\ttexelOffset,\n\t\t\t\t\tfxaaQualitySubpix,\n\t\t\t\t\tfxaaQualityEdgeThreshold,\n\t\t\t\t\tfxaaQualityEdgeThresholdMin);\n\t\t}\n\t`.replace(/\n\t{2}/g,"\n").trim()}(25)}},lu=["VERTEX_SHADER","FRAGMENT_SHADER"],Ud=/ERROR:\s*\d+:(\d+)/gi;function uu(l,s){const h=s.map((D,Y)=>{const de=l.createShader(l[lu[Y]]);return l.shaderSource(de,D),l.compileShader(de),de}),f=l.createProgram();if(h.forEach(D=>{l.attachShader(f,D)}),l.linkProgram(f),!l.getProgramParameter(f,l.LINK_STATUS)){let D=!1;if(h.forEach((Y,fe)=>{if(!l.getShaderParameter(Y,l.COMPILE_STATUS)){D=!0;const de=l.getShaderInfoLog(Y),xe="Error compiling: "+lu[fe]+":\n"+de+"\n"+function(Te,Ne=""){const Ue=[...Ne.matchAll(Ud)],it=new Map(Ue.map((vt,Et)=>{const Lt=parseInt(vt[1],10),Tt=Ue[Et+1];return[Lt-1,Ne.substring(vt.index,Tt?Tt.index:Ne.length)]}));return Te.split("\n").map((vt,Et)=>{const Lt=it.get(Et);return`${Et+1}: ${vt}${Lt?`\n\n^^^ ${Lt}`:""}`}).join("\n")}(l.getShaderSource(Y));console.error(xe)}l.deleteShader(Y)}),!D){const Y=l.getProgramInfoLog(f);console.error(`Error in program linking: ${Y}`)}return l.deleteProgram(f),h.forEach(Y=>{l.deleteShader(Y)}),null}return(0,ca.createProgramInfoFromProgram)(l,f)}const Eh={blur:Sf,dof:Gp,radialBlur:hd,fxaa:bh};function du(l){l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE)}class fd{enabled=!0;setPipeline;begin;render;destroy;constructor(s,h){const f=h?.glState||s,D=Ec(s),Y=D||!!s.getExtension("WEBGL_depth_texture")||!!s.getExtension("WEBKIT_WEBGL_depth_texture"),fe=s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT,de=(0,ca.createBufferInfoFromArrays)(s,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),xe=new bt,Te=[],Ne=[],Ue=D&&s.getParameter(s.MAX_SAMPLES)||1;let it=null,vt=0,Et=0,Lt=!0,Tt=!1,Gt=null,Cn=null,fn=null,xn=null,wn=null,Fn=null;function $n(){for(;Te.length;){const{frameBuffer:Ai,texture:ei}=Te.pop();s.deleteFramebuffer(Ai),s.deleteTexture(ei)}}function pr(){Gt&&(s.deleteFramebuffer(Gt),Gt=null),xn&&(s.deleteFramebuffer(xn),xn=null),Cn&&(s.deleteRenderbuffer(Cn),Cn=null),wn&&(s.deleteRenderbuffer(wn),wn=null),fn&&(s.deleteTexture(fn),fn=null),Fn&&(s.deleteTexture(Fn),Fn=null),$n(),xe.forEach(Ai=>{s.deleteProgram(Ai.program)}),xe.clear()}const hr=()=>{this.setPipeline(it)};s.canvas.addEventListener("webglcontextlost",pr,!1),s.canvas.addEventListener("webglcontextrestored",hr,!1);let wr=0;const di=vh(s,{beforeRender(Ai,ei,yi,Zi){const Di=Te.length?(wr+1)%Te.length:0;Ai.sourceTexture&&(Zi[Ai.sourceTexture]=Ai.first?fn:Te[wr].texture),Ai.depthTexture&&(Zi[Ai.depthTexture]=Fn),s.bindFramebuffer(s.FRAMEBUFFER,Ai.last?null:Te[Di].frameBuffer),f.viewport(0,0,vt,Et),f.depthMask(!0),s.clear(fe),f.depthMask(!1),wr=Di},glState:f});this.setPipeline=Ai=>{it=Ai,Ne.length=0,Lt=!0,Tt=Y&&!D,it?.forEach(ei=>{const yi=Eh[ei.effect];if(!yi)return void console.warn("Unknown postprocess effect: "+ei.effect);if("fxaa"===ei.effect&&D)return;const Zi=yi.passes.some(({depthTexture:Di})=>!!Di);!Zi||Y?(Zi&&(Tt=!0),yi.passes.forEach(Di=>{let Fr=xe.get(ei.effect,Di.shader);Fr||(Fr=uu(s,["\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n\tuv = position * vec2(0.5) + vec2(0.5);\n\tgl_Position = vec4(position, 0.0, 1.0);\n}",yi.shaders[Di.shader]]),xe.set(ei.effect,Di.shader,Fr));const Si="function"==typeof Di.uniforms?Di.uniforms(ei):Object.assign({},Di.uniforms),wi=Di.resize||yi.resize;wi&&wi(Si,vt,Et);const po=Di.camera||yi.camera,{sourceTexture:io,depthTexture:ns}=Di;Ne.push({bufferInfo:de,programInfo:Fr,uniforms:Si,topology:kt.triangles,resize:wi,camera:po,sourceTexture:io,depthTexture:ns,first:!1,last:!1})})):console.warn("Unsupported postprocess effect: "+ei.effect)}),Ne.length&&(Ne[0].first=!0,Ne[Ne.length-1].last=!0)},this.begin=()=>{if(!Ne.length||!this.enabled)return;const Ai=s.drawingBufferWidth,ei=s.drawingBufferHeight,yi=vt!==Ai||Et!==ei;(yi||Lt)&&(vt=Ai,Et=ei,Lt=!1,Gt||(Gt=s.createFramebuffer(),D&&(Cn=s.createRenderbuffer(),xn=s.createFramebuffer()),fn=s.createTexture()),Tt?(Fn||(Fn=s.createTexture()),D||(s.deleteRenderbuffer(wn),wn=null)):Fn&&(s.deleteTexture(Fn),Fn=null),wn||Tt&&!D||(wn=s.createRenderbuffer()),s.bindFramebuffer(s.FRAMEBUFFER,Gt),D?(s.bindRenderbuffer(s.RENDERBUFFER,wn),s.renderbufferStorageMultisample(s.RENDERBUFFER,Ue,s.DEPTH_COMPONENT24,vt,Et),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,wn),s.bindRenderbuffer(s.RENDERBUFFER,Cn),s.renderbufferStorageMultisample(s.RENDERBUFFER,Ue,s.RGBA8,vt,Et),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,Cn),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,xn),s.bindTexture(s.TEXTURE_2D,fn),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,vt,Et,0,s.RGBA,s.UNSIGNED_BYTE,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,fn,0),Tt&&(s.bindTexture(s.TEXTURE_2D,Fn),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT24,vt,Et,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Fn,0))):(s.bindTexture(s.TEXTURE_2D,fn),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,vt,Et,0,s.RGBA,s.UNSIGNED_BYTE,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,fn,0),s.bindTexture(s.TEXTURE_2D,null),Tt?(s.bindTexture(s.TEXTURE_2D,Fn),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT,vt,Et,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Fn,0),s.bindTexture(s.TEXTURE_2D,null)):(s.bindRenderbuffer(s.RENDERBUFFER,wn),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_COMPONENT16,vt,Et),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,wn),s.bindRenderbuffer(s.RENDERBUFFER,null))),Ne.forEach(Zi=>{Zi.resize&&Zi.resize(Zi.uniforms,vt,Et)}),yi&&$n()),s.bindFramebuffer(s.FRAMEBUFFER,Gt)},this.render=Ai=>{if(!Ne.length||!this.enabled)return;const ei=Math.min(2,Ne.length-1);for(let yi=Te.length;yi<ei;yi++){const Zi=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,Zi);const Di=s.createTexture();s.bindTexture(s.TEXTURE_2D,Di),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,vt,Et,0,s.RGBA,s.UNSIGNED_BYTE,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Di,0),s.bindTexture(s.TEXTURE_2D,null),Te.push({frameBuffer:Zi,texture:Di})}if(Ne.forEach(yi=>{yi.camera&&yi.camera(yi.uniforms,Ai)}),wr=0,D){const yi=Tt?fe:s.COLOR_BUFFER_BIT;s.bindFramebuffer(s.READ_FRAMEBUFFER,Gt),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,xn),s.blitFramebuffer(0,0,vt,Et,0,0,vt,Et,yi,s.NEAREST),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}f.disable(s.CULL_FACE),f.disable(s.DEPTH_TEST),di(Ne),s.bindFramebuffer(s.FRAMEBUFFER,null)},this.destroy=()=>{s.canvas.removeEventListener("webglcontextlost",pr,!1),s.canvas.removeEventListener("webglcontextrestored",hr,!1),pr()}}}const Kl=["lightMap","reflectionMap"];class Ah extends A{fog;lightMap;reflectionMap;release;restore;constructor(s,h){super();const f={lightMap:null,reflectionMap:null};["lightMap","reflectionMap"].forEach(fe=>{const de={},xe=fe+"Intensity",Te=fe+"MaxMipLevel";s[xe]=0,s[Te]=0;let Ne="world";Object.defineProperties(de,{texture:{get:()=>f[fe],set:Ue=>{const it=f[fe],vt=!!it;if(it&&(h.release(fe,it),s[fe]=null),f[fe]=Ue||null,Ue){const Et=h.get(fe,Ue);Et.update(),s[fe]=Et.webglTexture}vt!==!!Ue&&this.emit("change",{property:fe})}},intensity:{get:()=>s[xe],set:Ue=>{s[xe]=Ue}},mipLevels:{get:()=>s[Te],set:Ue=>{s[Te]=Math.max(0,Ue-1)}},space:{get:()=>Ne,set:Ue=>{Ue!==Ne&&(Ne=Ue,this.emit("change",{property:fe}))}}}),Object.defineProperty(this,fe,{writable:!1,value:de})});const D={mode:"",color:new Float32Array([1,1,1]),density:.01,start:0,end:1e3,min:0,max:1};Object.keys(D).forEach(fe=>{s["fog."+fe]=D[fe]}),Object.defineProperty(this,"fog",{writable:!1,value:new Proxy(D,{set:(fe,de,xe)=>{let Te=!1;return"color"===de?((0,d.copy)(s["fog.color"],xe),Te=!0):de in fe&&fe[de]!==xe&&(fe[de]=xe,s["fog."+de]=xe,Te=!0),Te&&this.emit("change",{property:"fog",detail:de}),!0}})}),this.release=()=>{Kl.forEach(fe=>{const de=f[fe];de&&h.release(fe,de)})},this.restore=()=>{Kl.forEach(fe=>{const de=f[fe];if(de){const xe=h.get(fe,de);xe.update(),s[fe]=xe.webglTexture}})};const Y=this.destroy;this.destroy=()=>{this.release(),Y()}}}const Ch={antialias:!0,powerPreference:"high-performance"};function Rf(l,s){const{contextName:h,...f}=s||{},D=h?[h]:["webgl2","webgl","experimental-webgl"];let Y=null,fe="";function de(Te){fe=Te.statusMessage||""}l.addEventListener("webglcontextcreationerror",de);for(let Te=0;Te<D.length;++Te)if(Y=l.getContext(D[Te],{...Ch,...f}),Y){(0,ca.addExtensionsToContext)(Y);break}if(l.removeEventListener("webglcontextcreationerror",de),!Y)throw new Error("Unable to initialize WebGL: "+(fe||"unknown error"));return Y}function tl(l,s){const h=R.get(),{min:f,max:D}=s;for(let Y=0;Y<l.length;Y++){const fe=l[Y];if(h[0]=fe[0]>0?D[0]:f[0],h[1]=fe[1]>0?D[1]:f[1],h[2]=fe[2]>0?D[2]:f[2],Vn(fe,h)<0)return R.release(h),!1}return R.release(h),!0}function Hp(l,s,h){const f=l.get(h);return!!f?.renderable&&tl(s,f.worldBounds)}function zl(l,s){return l.has(s)||l.set(s,l.size),l.get(s)}function nl(l){const s=new Map,h=new Map,f=new Map;return l.sort((D,Y)=>{if(D.vertexArrayInfo&&Y.vertexArrayInfo){if(D.vertexArrayInfo!==Y.vertexArrayInfo){const fe=zl(f,D.vertexArrayInfo),de=zl(f,Y.vertexArrayInfo);if(fe!==de)return fe-de}}else{if(D.programInfo!==Y.programInfo){const fe=zl(s,D.programInfo),de=zl(s,Y.programInfo);if(fe!==de)return fe-de}if(D.bufferInfo!==Y.bufferInfo){const fe=zl(h,D.bufferInfo),de=zl(h,Y.bufferInfo);if(fe!==de)return fe-de}}return D.screenPosition[2]-Y.screenPosition[2]}),l}function $l(l,s){return l.has(s)||l.set(s,l.size),l.get(s)}const hu={alpha:{noDepthMask:!1,orderDependent:!0,twoPass:!1},addAlpha:{noDepthMask:!0,orderDependent:!1,twoPass:!1},improvedAlpha:{noDepthMask:!0,orderDependent:!0,twoPass:!0}};function ju(l,...s){let h=xo.Alpha;for(let Y=0;Y<s.length;Y++){const fe=s[Y];if(fe===xo.Alpha||fe===xo.AddAlpha||fe===xo.ImprovedAlpha){h=fe;break}}let f=!1;const D=hu[h];for(const Y in D)Object.prototype.hasOwnProperty.call(D,Y)&&l[Y]!==D[Y]&&(l[Y]=D[Y],f=!0);return f}const pd=(0,L.create)();function fu(l,s,h=0){let f=0;l.forEach(Y=>{"ambient"!==Y.type&&f++});let D=0;(0,d.set)(s.legacyAmbientLightColor,0,0,0);for(const Y of l){const{type:fe,color:de}=Y;if("ambient"===fe)(0,d.add)(s.legacyAmbientLightColor,s.legacyAmbientLightColor,de);else{Y.updateWorldMatrix();const xe="legacyLightSource"+D;s[xe+".type"]=br[fe],s[xe+".viewSpace"]=!!Y.viewSpace;const Te=xe+".position";s[Te]||(s[Te]=(0,d.create)()),(0,F.getTranslation)(s[Te],Y.worldMatrix);const Ne=xe+".color";s[Ne]?(0,d.copy)(s[Ne],de):s[Ne]=(0,d.clone)(de);const Ue=xe+".attenuation";if(s[Ue]||(s[Ue]=new Float32Array(3)),s[Ue][0]=Y.constantAttenuation,s[Ue][1]=Y.linearAttenuation,s[Ue][2]=Y.quadraticAttenuation,s[xe+".diffuse"]=Y.diffuse,s[xe+".specular"]=Y.specular,"spot"===fe){const it=xe+".direction";s[it]?(0,d.set)(s[it],0,0,-1):(s[it]=(0,d.create)(),s[it][2]=-1),(0,F.getRotation)(pd,Y.worldMatrix),(0,d.transformQuat)(s[it],s[it],pd),s[xe+".outerCone"]=Y.outerCone,s[xe+".innerCone"]=Y.innerCone}else s[xe+".direction"]=[0,0,0],s[xe+".outerCone"]=0,s[xe+".innerCone"]=0;D++}}for(;D<h;D++){const Y="legacyLightSource"+D;delete s[Y+".type"],delete s[Y+".intensity"],delete s[Y+".range"],delete s[Y+".color"],delete s[Y+".position"],delete s[Y+".direction"],delete s[Y+".outerCone"],delete s[Y+".innerCone"]}return f}const Jo=(0,L.create)();function md(l,s,h=0){let f=0;l.forEach(Y=>{Y instanceof j||f++});let D=0;(0,d.set)(s.ambientLightColor,0,0,0);for(const Y of l){const{type:fe,color:de}=Y;if(Y instanceof j)(0,d.scaleAndAdd)(s.ambientLightColor,s.ambientLightColor,de,Y.intensity);else{Y.updateWorldMatrix();const xe="lightSource"+D;s[xe+".type"]=Ga[fe];const Te=xe+".position";s[Te]||(s[Te]=(0,d.create)()),(0,F.getTranslation)(s[Te],Y.worldMatrix);const Ne=xe+".color";s[Ne]?(0,d.copy)(s[Ne],de):s[Ne]=(0,d.clone)(de),s[xe+".intensity"]=Y.intensity;const Ue=xe+".direction";if(s[Ue]||(s[Ue]=(0,d.create)()),(0,F.getRotation)(Jo,Y.worldMatrix),(0,d.set)(s[Ue],0,0,-1),(0,d.transformQuat)(s[Ue],s[Ue],Jo),Y instanceof le){const it=Math.cos(Y.outerConeAngle),vt=Math.cos(Y.outerConeAngle-Y.penumbraAngle);s[xe+".outerConeCos"]=it,s[xe+".innerConeCos"]=vt}else s[xe+".outerCone"]=0,s[xe+".innerCone"]=0;D++}}for(;D<h;D++){const Y="lightSource"+D;delete s[Y+".type"],delete s[Y+".intensity"],delete s[Y+".color"],delete s[Y+".position"],delete s[Y+".direction"],delete s[Y+".outerConeCos"],delete s[Y+".innerConeCos"]}return f}function Vd(l,s,h,f,D){if(l.imageLightIntensity=h?.intensity??1,h?(l.imageLightRotation||(l.imageLightRotation=(0,Ei.create)()),(0,Ei.fromQuat)(l.imageLightRotation,h.quaternion)):delete l.imageLightRotation,"parametric"===h?.irradianceMode&&h.irradianceCoefficients){l.irradianceCoefficients||(l.irradianceCoefficients=new Float32Array(27));for(let Y=0,fe=0;Y<9;Y++){const de=h.irradianceCoefficients[Y];l.irradianceCoefficients[fe++]=de[0],l.irradianceCoefficients[fe++]=de[1],l.irradianceCoefficients[fe++]=de[2]}}else delete l.irradianceCoefficients;if(f&&(s.release("imageLightSpecular",f),delete l.imageLightSpecularTexture),h?.specularTexture){const Y=s.get("imageLightSpecular",h.specularTexture);Y.update(),l.imageLightSpecularTexture=Y.webglTexture,l.imageLightLODScale=h.specularTexture.levels[0].length-1}if(D&&(s.release("imageLightIrradiance",D),l.imageLightIrradianceTexture=null),h?.irradianceTexture&&"image"===h.irradianceMode){const Y=s.get("imageLightIrradiance",h.irradianceTexture);Y.update(),l.imageLightIrradianceTexture=Y.webglTexture}}function pu(l,s,h,f){const D=l.get(f);if(!D.update())return;const{alphaMode:Y}=D;!f.visible||"opaque"!==Y&&"test"!==Y?s.delete(D):s.add(D),f.visible&&"opaque"!==Y&&"hidden"!==Y?h.add(D):h.delete(D)}function jd(l,s,h,f,D,Y,fe,de,xe,Te){const{worldMatrix:Ne}=Y;fe.uniformSetters.modelViewMatrix&&(0,F.multiply)(l.modelViewMatrix,Te.worldMatrixInverse,Ne),(0,ca.setUniforms)(fe,l);const{maxClipDistances:Ue}=h,it=Math.min(Ue,f.length);for(let Et=0,Lt=12288;Et<Ue;Et++,Lt++)Et<it?D.enable(Lt):D.disable(Lt);const vt="add"===Y.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;D.blendFunc(1,vt),s.drawCalls++,s.drawVertices+=Y.vertexCount}const Wl=(l,s,h,f,D)=>{const Y=h?null:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,cameraPosition:(0,d.create)()},fe=h?[l.modelViewMatrix.subarray(0,16),l.modelViewMatrix.subarray(16,32)]:null;return(de,xe,Te,Ne,Ue,it)=>{if(0===de.count)return;const{worldMatrix:vt}=de,Et="add"===de.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;if(f.blendFunc(1,Et),fe){if(xe.uniformSetters.modelViewMatrix)for(let Lt=0;Lt<it.length;Lt++)(0,F.multiply)(fe[Lt],it[Lt].transform.inverse.matrix,vt);(0,ca.setUniforms)(xe,l),D(de,xe,Te,Ne,Ue,it)}else for(const Lt of it){const Tt=Ue.getViewport(Lt);f.viewport(Tt.x,Tt.y,Tt.width,Tt.height),Y.projectionMatrix=Lt.projectionMatrix,Y.viewMatrixInverse=Lt.transform.matrix;const{x:Gt,y:Cn,z:fn}=Lt.transform.position;(0,d.set)(Y.cameraPosition,Gt,Cn,fn);const xn=Lt.transform.inverse.matrix;Y.viewMatrix=xn,xe.uniformSetters.modelViewMatrix&&(0,F.multiply)(l.modelViewMatrix,xn,vt),(0,ca.setUniforms)(xe,l),(0,ca.setUniforms)(xe,Y),D(de,xe,Te,Ne,Ue,it)}s.drawCalls++,s.drawVertices+=2*de.vertexCount}};function If(l,s,h){const f=s.length,D=h.length;for(let Y=f;Y>D;Y--){s.pop();const fe="clippingPlane"+Y;delete l[fe+".plane"],delete l[fe+".fade"]}for(let Y=s.length;Y<D;Y++)s[Y]={plane:(0,Hi.create)(),fade:0};return h.forEach(({plane:Y,fade:fe},de)=>{const{plane:xe}=s[de];(0,Hi.copy)(xe,Y),s[de].fade=fe;const Te="clippingPlane"+de;l[Te+".plane"]=xe,l[Te+".fade"]=fe}),f!==D}class ic extends A{get;release;destroy;constructor({cubeTextureCache:s}){super();const h=new Yo({key:(f,D)=>D,create:(f,D)=>{if(D){const Y={};if(D instanceof Ht&&D.reflectionMap){const fe=s.get(D,D.reflectionMap.texture);fe.update(),Y.reflectionMap=fe.webglTexture}return this.emit("create",{material:D}),Y}return null},release:(f,D)=>{D&&(D instanceof Ht&&D.reflectionMap&&s.release(D,D.reflectionMap.texture),this.emit("release",{material:D}))}});this.get=h.get,this.release=h.release,this.destroy=h.destroy}}const wh=["ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","ALPHA_BITS","BLUE_BITS","DEPTH_BITS","GREEN_BITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","RED_BITS","SAMPLE_COVERAGE_VALUE","SAMPLES","STENCIL_BITS","SUBPIXEL_BITS","VENDOR","RENDERER","VERSION","SHADING_LANGUAGE_VERSION","COMPRESSED_TEXTURE_FORMATS","SAMPLE_BUFFERS"],mu_webgl=wh,mu_webgl2=[...wh,"MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET"],gu=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Qa={OES_standard_derivatives:(l,s)=>({FRAGMENT_SHADER_DERIVATIVE_HINT_OES:l.getParameter(s.FRAGMENT_SHADER_DERIVATIVE_HINT_OES)}),WEBGL_draw_buffers:(l,s)=>({MAX_COLOR_ATTACHMENTS_WEBGL:l.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL),MAX_DRAW_BUFFERS_WEBGL:l.getParameter(s.MAX_DRAW_BUFFERS_WEBGL)}),WEBGL_debug_renderer_info:(l,s)=>({UNMASKED_VENDOR_WEBGL:l.getParameter(s.UNMASKED_VENDOR_WEBGL),UNMASKED_RENDERER_WEBGL:l.getParameter(s.UNMASKED_RENDERER_WEBGL)}),WEBGL_compressed_texture_astc:(l,s)=>({supportedProfiles:s.getSupportedProfiles&&s.getSupportedProfiles()||null}),EXT_texture_filter_anisotropic:(l,s)=>({anisotropy:l.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}),WEBGL_clip_cull_distance:(l,s)=>({MAX_CLIP_DISTANCES_WEBGL:l.getParameter(s.MAX_CLIP_DISTANCES_WEBGL),MAX_CULL_DISTANCES_WEBGL:l.getParameter(s.MAX_CULL_DISTANCES_WEBGL),MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL:l.getParameter(s.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL)})};function xh(l,s){const h={};return gu.forEach(f=>{const D=l.getShaderPrecisionFormat(s,l[f]);h[f]={rangeMin:D?.rangeMin||0,rangeMax:D?.rangeMax||0,precision:D?.precision||0}}),h}const Of=["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxBindingsPerBindGroup","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxUniformBufferBindingSize","maxStorageBufferBindingSize","minUniformBufferOffsetAlignment","minStorageBufferOffsetAlignment","maxVertexBuffers","maxBufferSize","maxVertexAttributes","maxVertexBufferArrayStride","maxInterStageShaderComponents","maxInterStageShaderVariables","maxColorAttachments","maxColorAttachmentBytesPerSample","maxComputeWorkgroupStorageSize","maxComputeInvocationsPerWorkgroup","maxComputeWorkgroupSizeX","maxComputeWorkgroupSizeY","maxComputeWorkgroupSizeZ","maxComputeWorkgroupsPerDimension"];function Mh(){return Mh=r(function*(l){const s=r(function*(){if(!navigator.gpu)return null;const D=navigator.gpu.getPreferredCanvasFormat(),Y=yield navigator.gpu.requestAdapter({powerPreference:"high-performance"});if(!Y)return null;const{architecture:fe,vendor:de}=Y.info;return{canvasFormat:D,architecture:fe,vendor:de,perfCaveat:Y.isFallbackAdapter,features:Array.from(Y.features.keys()).sort(),limits:Of.reduce((xe,Te)=>(xe[Te]=Y.limits[Te],xe),{})}})();let h=!1;if(!Ec(l)){const D=document.createElement("canvas");let Y=D.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0});Y||(Y=D.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1})),Y&&(h=!0,l=Y)}const f=function(D){const Y=D.getContextAttributes();if(!Y)return null;const fe={},de=Ec(D);(de?mu_webgl2:mu_webgl).forEach(it=>{const Et=D.getParameter(D[it]);if(Et&&Et.BYTES_PER_ELEMENT){if(Et.length){fe[it]=[];for(let Lt=0;Lt<Et.length;Lt++)fe[it].push(Et[Lt])}}else fe[it]=Et});const xe=D.getSupportedExtensions()||[],Te={};xe.forEach(it=>{const vt=Qa[it];if(vt){const Et=D.getExtension(it);Et&&(Te[it]=vt(D,Et))}});const Ne=!0!==Y.failIfMajorPerformanceCaveat,Ue={version:de?2:1,antialias:Y.antialias||!1,perfCaveat:Ne,params:fe,extensions:{supported:xe,capabilities:Te}};if(!Ne){const it=Ue.extensions.capabilities.WEBGL_debug_renderer_info?.UNMASKED_RENDERER_WEBGL;it&&/\bSwiftRenderer\b/.test(it)&&(Ue.perfCaveat=!0)}return Ue.shaderPrecision={vertex:xh(D,D.VERTEX_SHADER),fragment:xh(D,D.FRAGMENT_SHADER)},Ue}(l);return h&&l.getExtension("WEBGL_lose_context")?.loseContext(),{webgl:f,webgpu:yield s}}),Mh.apply(this,arguments)}const Il=["rg16float","rgba16float"],ec=new Set(Object.keys(hu)),_u=(0,F.create)();class Dh extends A{transparencyMode;root;camera;xrSession;xrRefSpace=null;maxDevicePixelRatio=1;maxCanvasDimension=1/0;minDevicePixelRatio=1;physicalImageLight;toneMapping;clippingPlanes;canvas;environment;extensions;textureFormats;running;stats;getGPUCapabilities;setXRClearColor;setPostProcessingPipeline;setClippingPlanes;start;stop;render;constructor(s){var h;super(),h=this;const f=s?.gl||function(Mr){if(typeof WebGLRenderingContext>"u")throw new Error("Browser does not support WebGL");const{canvas:co,...pa}=Mr||{},Hs=co||document.createElement("canvas");try{return Rf(Hs,{...pa,failIfMajorPerformanceCaveat:!0})}catch{}return Rf(Hs,{...pa,failIfMajorPerformanceCaveat:!1})}(s),D=new Tl(f),Y=f.canvas;if(!(Y instanceof HTMLCanvasElement))throw new Error(`canvas type ${Y?.constructor?.name||"unknown"} not supported.`);Object.assign(Y.style,{width:"100%",height:"100%",position:"absolute"}),this.getGPUCapabilities=Dt(()=>function Th(l){return Mh.apply(this,arguments)}(f));const fe=f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT,de=Ec(f),xe=de||!!f.getExtension("OES_vertex_array_object"),Te=de&&!1!==s?.optimizations?.enableMultiView?f.getExtension("OCULUS_multiview"):null,Ne=de?f.getParameter(f.MAX_SAMPLES):1,{preserveDrawingBuffer:Ue=!1}=f.getContextAttributes()||{},it=!1!==s?.optimizations?.enableHardwarePlaneClipping&&f.getExtension("WEBGL_clip_cull_distance")?f.getParameter(3378):0,vt=new Map,Et=new Map,Lt=new Set,Tt=new Set,Gt=new Set,Cn=[0,0,0,0],fn={webGlVersion:de?2:1,vaoSupported:xe,textureLODext:!!f.getExtension("EXT_shader_texture_lod"),maxPointSize:f.getParameter(f.ALIASED_POINT_SIZE_RANGE)?.[1]||32,maxClipDistances:it,multiView:!!Te,preserveDrawingBuffer:Ue};let xn=0,wn=0,Fn=xo.Alpha,$n="linear",pr=0,hr=!1,wr=null,di=!0,Ai=!0,ei=!0,yi=null,Zi=null,Di=null,Fr=s?.optimizations?.computeBRDF??!f.getExtension(de?"EXT_color_buffer_float":"WEBGL_color_buffer_float");const Si={noDepthMask:!1,orderDependent:!1,twoPass:!1,maxClipDistances:it},wi=[],po=[],io={geometries:0,meshes:0,materials:0,vaos:0,textures:0,materialTypes:{unlit:0,phong:0,metallic:0,physical:0},drawCalls:0,drawVertices:0,cpuTime:0,gpuTime:0,postProcessTime:0},Lr=gr(Hp,Et,wi),pi=new as({sort:nl,filter:Lr}),ho=new as({sort:Mr=>Si.orderDependent?function(co){const pa=new Map,Hs=new Map,Ta=new Map;return co.sort((qs,ws)=>{if(qs.layer!==ws.layer)return qs.layer-ws.layer;if(qs.renderOrder!==ws.renderOrder)return qs.renderOrder-ws.renderOrder;if(qs.vertexArrayInfo&&ws.vertexArrayInfo){if(qs.vertexArrayInfo!==ws.vertexArrayInfo){const La=$l(Ta,qs.vertexArrayInfo),al=$l(Ta,ws.vertexArrayInfo);if(La!==al)return La-al}}else{if(qs.programInfo!==ws.programInfo){const La=$l(pa,qs.programInfo),al=$l(pa,ws.programInfo);if(La!==al)return La-al}if(qs.bufferInfo!==ws.bufferInfo)return $l(Hs,qs.bufferInfo)-$l(Hs,ws.bufferInfo)}return qs.screenPosition[2]-ws.screenPosition[2]}),co}(Mr):nl(Mr),filter:Lr}),vs=new Nd(f),$s=new Uu(f),Ys=new cu(f),ra=xe?new _h(f):null,Ha=new ic({cubeTextureCache:$s}),Ya=new Vu(f,function(Mr,co){return co?Object.assign({},co,{alphaMode:eu(Mr,po,Si),lights:Mr.material instanceof Ht?wn:xn,clips:Mr.clippable?po.length:0,fog:Oc.fog.mode,environmentReflectionMap:!!Oc.reflectionMap.texture,lightMapSpace:Oc.lightMap.texture&&Oc.lightMap.space||"",imageLightIrradianceMode:yi?.irradianceMode||"",imageLightSpecularTexture:yi?.specularTexture,toneMap:$n,computeBRDF:Fr},fn):null}),la=new Yo({key:(Mr,co)=>co,create:(Mr,co)=>({decodePositions:co.attributes.position.decodeMat||null,decodeUVs:co.attributes.texcoord?.decodeMat||null})}),_a={geometryBufferCache:Ys,shaderResourceCache:Ya,geometryUniformsCache:la,materialUniformsCache:Ha,vaoCache:ra,alphaModeOptions:Si,clippingPlanes:po,textureResourceCache:vs},Pl=new fd(f,{glState:D});Pl.enabled=!0;const ba={ambientLightColor:(0,d.fromValues)(.1,.1,.1),legacyAmbientLightColor:(0,d.fromValues)(.1,.1,.1),"fog.color":(0,d.fromValues)(1,1,1),"fog.density":.01,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.start":0},Zs=Te?{projectionMatrix:new Float32Array(32),viewMatrixInverse:new Float32Array(32),viewMatrix:new Float32Array(32),screenResolution:new Float32Array([1024,1024]),cameraPosition:new Float32Array(6)}:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,screenResolution:new Float32Array([1024,1024]),cameraPosition:(0,d.create)()},_l=Te&&[Zs.projectionMatrix.subarray(0,16),Zs.projectionMatrix.subarray(16,32)],Yu=Te&&[Zs.viewMatrixInverse.subarray(0,16),Zs.viewMatrixInverse.subarray(16,32)],xd=Te&&[Zs.cameraPosition.subarray(0,3),Zs.cameraPosition.subarray(3,6)],rh=Te&&[Zs.viewMatrix.subarray(0,16),Zs.viewMatrix.subarray(16,32)],Fl={modelViewMatrix:Te?new Float32Array(32):(0,F.create)(),discardOpaque:!1},vl=new Fs;let xa=null,ou=null,Td=null,sl=null,Ka=null;const Oc=new Ah(ba,$s),Jf=gr(Wl,Fl,io,!!Te,D),ep=gr(fu,Tt,ba),tp=gr(md,Gt,ba),Yl=gr(Vd,ba,$s),Tu=gr(pu,vt,pi,ho),np=gr(If,ba,po);function Kc(Mr){const co="fog"!==Mr?.property||"mode"===Mr?.detail;vt.forEach(pa=>{co&&pa.setDirty("shader"),pa.setDirty("transparency")}),ei=!0}function Is(){io.materialTypes.physical>0&&!Fr?ba.brdfLookUpTexture||(ba.brdfLookUpTexture=function(Mr,co=512,pa=Mr){const Hs=Ec(Mr),Ta=Hs?fl.webgl2:fl.webgl1,qs=(Hs?!!Mr.getExtension("EXT_color_buffer_float"):!!Mr.getExtension("WEBGL_color_buffer_float"))&&Il.find(Wc=>{const cl=Ta.get(Wc);return!(!cl||cl.extension&&!Mr.getExtension(cl.extension))})||"rgba8unorm",ws=Ta.get(qs),La="internalFormat"in ws?ws.internalFormat:ws.format,al="type"in ws?ws.type:ws.format,Pc=(0,ca.createBufferInfoFromArrays)(Mr,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),qu=uu(Mr,[`${Hs?"#version 300 es":""}\n\t\t${Hs?"in":"attribute"} vec2 position;\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(position, 0.0, 1.0);\n\t\t}`,`${Hs?"#version 300 es":""}\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#define SAMPLE_NUMBER 1024${Hs?"u":""}\n#define PI 3.14159265358979\n\n${Hs?"out vec4 fragColor;":""}\n\nuniform vec2 viewportSize;\n\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\n\n${Hs?"\nvec2 hammersley(uint i, uint N) {\n\t\n\tuint bits = (i << 16u) | (i >> 16u);\n\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\tfloat rdi = float(bits) * 2.3283064365386963e-10;\n\treturn vec2(float(i) /float(N), rdi);\n}":"\nvec2 hammersley(int i, int N) {\n\tfloat invBase = 1.0 / 2.0;\n\tfloat denom = 1.0;\n\tfloat vanDerCorput = 0.0;\n\tint n = i;\n\n\tfor(int b = 0; b < 32; b++) {\n\t\tif(n > 0) {\n\t\t\tdenom = mod(float(n), 2.0);\n\t\t\tvanDerCorput += denom * invBase;\n\t\t\tinvBase = invBase / 2.0;\n\t\t\tn = int(float(n) / 2.0);\n\t\t}\n\t}\n\n\treturn vec2(float(i) / float(N));\n}\n"}\n\n\nfloat G_Smith(float NoV, float NoL, float roughness) {\n\tfloat k = (roughness * roughness) / 2.0;\n\tfloat GGXL = NoL / (NoL * (1.0 - k) + k);\n\tfloat GGXV = NoV / (NoV * (1.0 - k) + k);\n\treturn GGXL * GGXV;\n}\n\n\nfloat V_SmithGGXCorrelated(float NoV, float NoL, float roughness) {\n\tfloat a2 = pow(roughness, 4.0);\n\tfloat GGXV = NoL * sqrt(NoV * NoV * (1.0 - a2) + a2);\n\tfloat GGXL = NoV * sqrt(NoL * NoL * (1.0 - a2) + a2);\n\treturn 0.5 / (GGXV + GGXL);\n}\n\n\nvec3 importanceSampleGGX(vec2 Xi, float roughness, vec3 N) {\n\tfloat a = roughness * roughness;\n\n\t\n\tfloat Phi = 2.0 * PI * Xi.x;\n\tfloat CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n\tfloat SinTheta = sqrt(1.0 - CosTheta * CosTheta);\n\n\t\n\tvec3 H;\n\tH.x = SinTheta * cos(Phi);\n\tH.y = SinTheta * sin(Phi);\n\tH.z = CosTheta;\n\t\n\t\n\tvec3 UpVector = abs(N.z) < 0.999 ? vec3(0.,0.,1.0) : vec3(1.0,0.,0.);\n\tvec3 TangentX = normalize(cross(UpVector, N));\n\tvec3 TangentY = cross(N, TangentX);\n\treturn TangentX * H.x + TangentY * H.y + N * H.z;\n}\n\n\n\nvec2 integrateBRDF(float roughness, float NoV) {\n\tvec3 V;\n\tV.x = sqrt(1.0 - NoV * NoV); \n\tV.y = 0.0;\n\tV.z = NoV; \n\t\n\t\n\tconst vec3 N = vec3(0.0, 0.0, 1.0);\n\t\n\tfloat A = 0.0;\n\tfloat B = 0.0;\n\t\n\tfor (${Hs?"uint i = 0u; i < SAMPLE_NUMBER; i++":"int i = 0; i < SAMPLE_NUMBER; i++"}) {\n\t\tvec2 Xi = hammersley(i, SAMPLE_NUMBER);\n\n\t\t\n\t\tvec3 H = importanceSampleGGX(Xi, roughness, N);\n\t\t\n\t\t\n\t\tvec3 L = 2.0 * dot(V, H) * H - V;\n\t\t\n\t\tfloat NoL = saturate(dot(N, L));\n\t\tfloat NoH = saturate(dot(N, H));\n\t\tfloat VoH = saturate(dot(V, H));\n\t\t\n\t\tif(NoL > 0.0) {\n\t\t\tfloat V_pdf = V_SmithGGXCorrelated(NoV, NoL, roughness) * VoH * NoL / NoH;\n\t\t\tfloat Fc = pow(1.0 - VoH, 5.0);\n\t\t\tA += (1.0 - Fc) * V_pdf;\n\t\t\tB += Fc * V_pdf;\n\t\t}\n\t}\n\n\treturn 4.0 * vec2(A, B) / float(SAMPLE_NUMBER);\n}\n\nvoid main() {\n\t\n\tvec2 uv = gl_FragCoord.xy / viewportSize;\n\tfloat a = uv.y;\n\tfloat mu = uv.x;\n\n\t\n\tvec2 res = integrateBRDF(a, mu);\n\t\n\t\n\t${Hs?"fragColor":"gl_FragColor"} = vec4(res.x, res.y, 0.0, 1.0);\n}`]),$c=Mr.createFramebuffer();Mr.bindFramebuffer(Mr.FRAMEBUFFER,$c);const Fc=Mr.createTexture();return Mr.bindTexture(Mr.TEXTURE_2D,Fc),Mr.texImage2D(Mr.TEXTURE_2D,0,La,co,co,0,ws.format,al,null),Mr.texParameteri(Mr.TEXTURE_2D,Mr.TEXTURE_MAG_FILTER,Mr.LINEAR),Mr.texParameteri(Mr.TEXTURE_2D,Mr.TEXTURE_MIN_FILTER,Mr.LINEAR),Mr.texParameteri(Mr.TEXTURE_2D,Mr.TEXTURE_WRAP_S,Mr.CLAMP_TO_EDGE),Mr.texParameteri(Mr.TEXTURE_2D,Mr.TEXTURE_WRAP_T,Mr.CLAMP_TO_EDGE),Mr.framebufferTexture2D(Mr.FRAMEBUFFER,Mr.COLOR_ATTACHMENT0,Mr.TEXTURE_2D,Fc,0),Mr.bindTexture(Mr.TEXTURE_2D,null),Mr.bindFramebuffer(Mr.FRAMEBUFFER,$c),pa.viewport(0,0,co,co),pa.disable(Mr.CULL_FACE),pa.disable(Mr.DEPTH_TEST),pa.depthMask(!1),pa.frontFace(Mr.CCW),pa.useProgram(qu.program),(0,ca.setUniforms)(qu,{viewportSize:[co,co]}),(0,ca.setBuffersAndAttributes)(Mr,qu,Pc),(0,ca.drawBufferInfo)(Mr,Pc,Mr.TRIANGLES,3,0),Mr.bindFramebuffer(Mr.FRAMEBUFFER,null),Fc}(f,512,D)):ba.brdfLookUpTexture&&(f.deleteTexture(ba.brdfLookUpTexture),delete ba.brdfLookUpTexture)}function Mu(){Yl(yi,Zi,Di),Zi=yi?.specularTexture||null,Di="image"===yi?.irradianceMode&&yi.irradianceTexture||null,Kc()}function zc(){Ai=!0,ei=!0}function ef(Mr){const co=vt.get(Mr.node);co&&(pi.has(co)&&(pi.dirtyFilter(),pi.dirtySort()),ho.has(co)&&(ho.dirtyFilter(),ho.dirtySort()),po.length&&Mr.node.clippable&&co.setDirty("transparency")),ei=!0}function tf(Mr){"material"===Mr.property&&(di=!0),"layer"!==Mr.property&&"renderOrder"!==Mr.property||ho.dirtySort(),ei=!0}function ia(){ei=!0}function rp(Mr){if(f.isContextLost())return;const co=new Fa(Mr,_a);vt.set(Mr,co),Et.set(co,Mr),Mr.on("updateWorldBounds",ef),Mr.on("dirty",ia),Mr.on("change",tf),co.on("dirty",ia),io.meshes++,di=!0,ei=!0}function nf(Mr){const co=vt.get(Mr);vt.delete(Mr),Et.delete(co),pi.delete(co),ho.delete(co),co.destroy(),Mr.off("updateWorldBounds",ef),Mr.off("dirty",ia),Mr.off("change",tf),co.off("dirty",ia),io.meshes--,di=!0,ei=!0}const Md=gr(jd,Fl,io,fn,po,D),ih=vh(f,{beforeRender:Md,glState:D}),Zl=Sl(f,({bufferInfo:Mr,topology:co,offset:pa,count:Hs,depthMask:Ta})=>{if(0===Hs)return;const qs=Hl[co];D.depthMask(!(Si.noDepthMask||!Ta)),D.cullFace(f.BACK),(0,ca.drawBufferInfo)(f,Mr,qs,Hs,pa)},{beforeRender:Md,glState:D});let Du=!1,rf=-1/0;const sf=(Mr=!1)=>{if(f.isContextLost()||!wr)return;const co=performance.now();if(function(Ta,qs=1,ws=1/0,La=0){qs=Math.max(0,qs),ws=Math.max(1,ws),La=Math.max(0,La);const al=0|Math.max(Ta.clientWidth*La,Math.min(ws,Ta.clientWidth*qs)),Pc=0|Math.max(Ta.clientHeight*La,Math.min(ws,Ta.clientHeight*qs));return(Ta.width!==al||Ta.height!==Pc)&&(Ta.width=al,Ta.height=Pc,!0)}(Y,Math.min(window.devicePixelRatio,this.maxDevicePixelRatio),this.maxCanvasDimension,this.minDevicePixelRatio)&&(ei=!0,this.emit("resize")),!ei&&!Mr&&Du&&co-rf<6)return;Du=!0,rf=co,this.emit("begin",co),io.drawCalls=0,io.drawVertices=0,this.emit("animate",co);const Hs=Y.clientWidth/Y.clientHeight;if(wr&&Hs!==wr.aspect&&(wr.aspect=Hs,wr.dirtyProjection()),Mr||ei){for(const ws of Lt)ws.updateWorldBounds();wr.updateWorldMatrix(),wr.projectionDirty&&wr.updateProjectionMatrix(),Gt.forEach(ws=>ws.updateWorldMatrix()),Tt.forEach(ws=>ws.updateWorldMatrix()),this.emit("update"),(Ai||wr.dirty)&&(wr.updateWorldMatrix(),wr.updateProjectionMatrix(),(0,F.multiply)(_u,wr.projectionMatrix,wr.worldMatrixInverse),Dr(wi,_u),Te&&((0,F.copy)(_l[0],wr.projectionMatrix),(0,F.copy)(Yu[0],wr.worldMatrix),(0,F.copy)(rh[0],wr.worldMatrixInverse),(0,F.getTranslation)(xd[0],wr.worldMatrix)),Array.isArray(Zs.cameraPosition)&&(0,F.getTranslation)(Zs.cameraPosition,wr.worldMatrix),pi.dirtySort(),ho.dirtySort(),pi.dirtyFilter(),ho.dirtyFilter());const Ta=tp(),qs=ep();Ta===xn&&qs===wn||(xn=Ta,wn=qs,Kc());for(const ws of Lt){const La=vt.get(ws);(La.dirty||Ai)&&((0,F.getTranslation)(La.screenPosition,ws.worldMatrix),(0,d.transformMat4)(La.screenPosition,La.screenPosition,_u)),Tu(ws)}Ai=!1,Pl.begin(),D.viewport(0,0,Y.width,Y.height),Zs.screenResolution[0]=f.drawingBufferWidth,Zs.screenResolution[1]=f.drawingBufferHeight,D.depthMask(!0),D.clearColor(0,0,0,0),f.clear(fe),D.enable(f.DEPTH_TEST),D.enable(f.CULL_FACE),D.disable(f.BLEND),D.depthMask(!0),Fl.discardOpaque=!1,ih(pi,[ba,Zs],wr),ho.filteredSize&&(D.enable(f.BLEND),Fl.discardOpaque=!0,Zl(ho,[ba,Zs],wr)),Pl.render(wr),ei=!1}di&&(di=!1),io.cpuTime=performance.now()-co,this.emit("end")};function Dd(){sf(!1),Du=Ue,hr&&(pr=requestAnimationFrame(Dd))}const bg=Sl(f,Jf((Mr,co,pa)=>{(0,ca.drawBufferInfo)(f,pa,Hl[Mr.topology],Mr.count,Mr.offset)}),{glState:D}),fm=Sl(f,Jf((Mr,co,pa)=>{D.depthMask(!(Si.noDepthMask||!Mr.depthMask)),D.cullFace(f.BACK),(0,ca.drawBufferInfo)(f,pa,Hl[Mr.topology],Mr.count,Mr.offset)}),{glState:D}),pm=function(){var Mr=r(function*(){if(xa&&!f.isContextLost()){try{yield Promise.all([f.makeXRCompatible(),xa.requestReferenceSpace("local").then(co=>{Td=co})])}catch{}if(!f.isContextLost())if(Te){ou=f.createFramebuffer(),sl=new XRWebGLBinding(xa,f);const co=sl.createProjectionLayer({textureType:"texture-array",depthFormat:de?f.DEPTH_COMPONENT24:f.DEPTH_COMPONENT});xa.updateRenderState({layers:[co]})}else{const co=new XRWebGLLayer(xa,f);yield xa.updateRenderState({baseLayer:co}),ou=co.framebuffer}}});return function(){return Mr.apply(this,arguments)}}(),Zu=(Mr,co)=>{const pa=performance.now();this.emit("begin",pa),io.drawCalls=0,io.drawVertices=0;const Hs=co.getViewerPose(this.xrRefSpace||Td);this.emit("xrframe",{frame:co,viewerPose:Hs}),this.emit("animate",co.predictedDisplayTime||Mr),tp(),ep(),this.emit("update");const Ta=co.session;if(hr&&(pr=Ta.requestAnimationFrame(Zu)),Hs&&Hs.views.length){const qs=Hs.views[0];(0,F.multiply)(_u,qs.projectionMatrix,qs.transform.inverse.matrix),Dr(wi,_u);for(const $c of Lt){const Fc=vt.get($c);$c.dirty&&$c.updateWorldBounds(),(0,F.getTranslation)(Fc.screenPosition,$c.worldMatrix),(0,d.transformMat4)(Fc.screenPosition,Fc.screenPosition,qs.projectionMatrix),Tu($c)}pi.dirtySort(),pi.dirtyFilter(),ho.dirtySort(),ho.dirtyFilter();const ws=Ta.renderState.baseLayer;if(f.bindFramebuffer(f.FRAMEBUFFER,ou),Te){const Fc=sl.getViewSubImage(Ta.renderState.layers[0],qs);f.bindFramebuffer(f.FRAMEBUFFER,ou);const Wc=Fc.viewport;Te.framebufferTextureMultisampleMultiviewOVR(f.DRAW_FRAMEBUFFER,f.COLOR_ATTACHMENT0,Fc.colorTexture,0,Ne,0,2),null===Fc.depthStencilTexture?null===Ka&&(Ka=f.createTexture(),f.bindTexture(f.TEXTURE_2D_ARRAY,Ka),f.texStorage3D(f.TEXTURE_2D_ARRAY,1,f.DEPTH_COMPONENT24,Wc.width,Wc.height,2)):Ka=Fc.depthStencilTexture,Te.framebufferTextureMultisampleMultiviewOVR(f.DRAW_FRAMEBUFFER,f.DEPTH_ATTACHMENT,Ka,0,Ne,0,2);for(let cl=0;cl<Hs.views.length;cl++){const sh=Hs.views[cl];(0,F.copy)(_l[cl],sh.projectionMatrix),(0,F.copy)(Yu[cl],sh.transform.matrix),(0,F.copy)(rh[cl],sh.transform.inverse.matrix),(0,F.getTranslation)(xd[cl],sh.transform.matrix)}D.viewport(Wc.x,Wc.y,Wc.width,Wc.height),Zs.screenResolution[0]=Wc.width,Zs.screenResolution[1]=Wc.height}else{D.viewport(0,0,ws.framebufferWidth,ws.framebufferHeight);const $c=ws.getViewport(qs);Zs.screenResolution[0]=$c.width,Zs.screenResolution[1]=$c.height}D.disable(f.SCISSOR_TEST),D.enable(f.DEPTH_TEST),D.enable(f.CULL_FACE),D.disable(f.BLEND),D.depthMask(!0),Fl.discardOpaque=!1;const[La,al,Pc,qu]=Cn;D.clearColor(La,al,Pc,qu),D.depthMask(!0),f.clear(fe),bg(pi,[ba,Zs],ws,Hs.views),ho.filteredSize&&(D.enable(f.BLEND),Fl.discardOpaque=!0,fm(ho,[ba,Zs],ws,Hs.views)),fm(ho,[ba,Zs],ws,Hs.views)}this.emit("end")};function oh(){Oc.release(),Lt.forEach(Mr=>nf(Mr)),Ys.destroy(),Ya.destroy(),vs.destroy(),$s.destroy(),Ha.destroy(),ra?.destroy(),cancelAnimationFrame(pr)}function mm(Mr){Ec(f)?(console.log("WebGL context lost. Attempting to recover.",Mr),Mr?.preventDefault(),oh()):console.warn("WebGL context lost.")}function gm(Mr){console.log("Restoring lost WebGL context.",Mr),(0,ca.addExtensionsToContext)(f),f.getExtension("WEBGL_clip_cull_distance"),f.getExtension("OCULUS_multiview"),D.reset(),Oc.restore(),Mu(),Lt.forEach(rp),Y.style.left="1px",setTimeout(r(function*(){Y.style.left="",xa?(yield pm(),hr&&(pr=xa.requestAnimationFrame(Zu))):hr&&(pr=requestAnimationFrame(Dd))}),0)}const Sd=function(){var Mr=r(function*(co){co!==xa&&(xa&&(xa.cancelAnimationFrame(pr),xa.removeEventListener("end",ip),co||(Ka&&(f.deleteTexture(Ka),Ka=null),ou&&Te&&f.deleteFramebuffer(ou),ou=null)),Td=null,xa=co||null,xa?(xa.addEventListener("end",ip),yield pm(),cancelAnimationFrame(pr),hr&&!f.isContextLost()&&(pr=xa.requestAnimationFrame(Zu))):(h.xrRefSpace=null,f.bindFramebuffer(f.FRAMEBUFFER,null),wr?.dirtyMatrix(),hr&&(pr=requestAnimationFrame(Dd))),ei=!0)});return function(pa){return Mr.apply(this,arguments)}}();function ip(Mr){const{session:co}=Mr;co===xa&&Sd(null)}for(let Mr=0;Mr<6;Mr++)wi.push((0,Hi.create)());ju(Si,Fn),Te&&[_l,Yu,xd,rh].forEach(Mr=>Mr.forEach(F.identity)),vs.on("create",()=>io.textures++),vs.on("release",()=>io.textures--),$s.on("create",()=>io.textures++),$s.on("release",()=>io.textures--),Ys.on("create",({geometry:Mr})=>{Mr&&io.geometries++}),Ys.on("release",({geometry:Mr})=>{Mr&&io.geometries--}),ra&&(ra.on("create",()=>io.vaos++),ra.on("release",()=>io.vaos--)),vl.on("add",Mr=>{Mr instanceof vn?(Lt.add(Mr),Mr.updateWorldBounds(),rp(Mr)):Mr instanceof He?Gt.add(Mr):Mr instanceof Qt&&Tt.add(Mr),this.emit("add",Mr)}),vl.on("remove",Mr=>{Mr instanceof vn?(Lt.delete(Mr),nf(Mr)):Mr instanceof He?Gt.delete(Mr):Mr instanceof Qt&&Tt.delete(Mr),this.emit("remove",Mr)}),Ha.on("create",({material:Mr})=>{io.materials++,io.materialTypes[Mr.type]++,Is()}),Ha.on("release",({material:Mr})=>{io.materials--,io.materialTypes[Mr.type]--,Is()}),Oc.on("change",Kc),Y.addEventListener("webglcontextlost",mm,!1),Y.addEventListener("webglcontextrestored",gm,!1);const Rd=f.getSupportedExtensions()||[];Object.freeze(Rd),void 0!==s?.optimizations?.computeBRDF||Fr||this.getGPUCapabilities().then(({webgl:Mr})=>{Fr=Mr.perfCaveat});const _m=de?fl.webgl2:fl.webgl1,vm=Array.from(Object.keys(J)).filter(Mr=>{const co=_m.get(Mr);return!(!co||"extension"in co&&!Rd.includes(co.extension)||co.supported&&!co.supported(f))});Object.defineProperties(this,{canvas:{value:Y,writable:!1},root:{get:()=>vl.root,set(Mr){vl.root=Mr}},camera:{get:()=>wr,set(Mr){wr!==Mr&&(wr&&wr.off("dirty",zc),Te||(Zs.projectionMatrix=null,Zs.viewMatrixInverse=null,Zs.cameraPosition=null,Zs.viewMatrix=null),wr=Mr,wr&&(wr.on("dirty",zc),Te||(Zs.projectionMatrix=wr.projectionMatrix,Zs.viewMatrixInverse=wr.worldMatrix,Zs.viewMatrix=wr.worldMatrixInverse,Zs.cameraPosition=wr.worldMatrix instanceof Float32Array?wr.worldMatrix.subarray(12,15):(0,d.create)())))}},transparencyMode:{get:()=>Fn,set(Mr){if(!this.supportsTransparencyMode(Mr))throw new Error(`Unsupported transparency mode: ${Mr}`);Mr!==Fn&&(Fn=Mr,ju(Si,Mr),Kc())}},toneMapping:{get:()=>$n,set(Mr){Mr!==$n&&($n=Mr,Kc())}},physicalImageLight:{get:()=>yi,set(Mr){Mr!==yi&&(yi?.off("change",Mu),yi=Mr,yi?.on("change",Mu),Mu())}},xrSession:{set:Sd,get:()=>xa},clippingPlanes:{value:po,writable:!1},environment:{value:Oc,writable:!1},extensions:{value:Rd,writable:!1},textureFormats:{value:vm,writable:!1},stats:{value:io,writable:!1},running:{get:()=>hr}}),this.setXRClearColor=(Mr,co,pa,Hs)=>{Cn[0]=Mr,Cn[1]=co,Cn[2]=pa,Cn[3]=Hs},this.setPostProcessingPipeline=Pl.setPipeline,this.setClippingPlanes=Mr=>{const co=np(Mr);vt.forEach(pa=>{pa.mesh?.clippable&&(co&&pa.setDirty("shader"),pa.setDirty("transparency"))})},this.start=()=>{hr||(hr=!0,cancelAnimationFrame(pr),pr=xa?xa.requestAnimationFrame(Zu):requestAnimationFrame(Dd),this.emit("start"))},this.stop=()=>{hr&&(hr=!1,xa?xa.cancelAnimationFrame(pr):cancelAnimationFrame(pr),this.emit("stop"))},this.render=()=>sf(!0);const ym=this.destroy;this.destroy=()=>{this.stop(),this.xrSession=null,Y.removeEventListener("webglcontextlost",mm,!1),Y.removeEventListener("webglcontextrestored",gm,!1),oh(),Pl.destroy(),Oc.destroy(),vl.destroy(),vt.clear(),Et.clear(),Lt.clear(),Tt.clear(),Gt.clear(),pi.clear(),ho.clear(),yi&&(yi.off("change",Mu),yi=null,Mu()),ba.imageLightSpecularTexture&&(f.deleteTexture(ba.imageLightSpecularTexture),delete ba.imageLightSpecularTexture),ba.imageLightIrradianceTexture&&(f.deleteTexture(ba.imageLightIrradianceTexture),delete ba.imageLightIrradianceTexture),this.root=null,this.camera=null,this.xrRefSpace=null,f!==s?.gl&&f.getExtension("WEBGL_lose_context")?.loseContext(),ym()}}supportsTransparencyMode(s){return ec.has(s)}}function vu(l,s){const h=l[0],f=s[0],D=Math.abs(h-f);if((isNaN(D)||D===1/0)&&h!==f||D>z*Math.max(1,Math.abs(h),Math.abs(f)))return!1;const Y=s[1],fe=l[1],de=Math.abs(fe-Y);if((isNaN(de)||de===1/0)&&fe!==Y||de>z*Math.max(1,Math.abs(fe),Math.abs(Y)))return!1;const xe=l[2],Te=s[2],Ne=Math.abs(xe-Te);return!((isNaN(Ne)||Ne===1/0)&&xe!==Te||Ne>z*Math.max(1,Math.abs(xe),Math.abs(Te)))}class ml{min=(0,d.fromValues)(1/0,1/0,1/0);max=(0,d.fromValues)(-1/0,-1/0,-1/0);expand(s){return s.min[0]<this.min[0]&&(this.min[0]=s.min[0]),s.min[1]<this.min[1]&&(this.min[1]=s.min[1]),s.min[2]<this.min[2]&&(this.min[2]=s.min[2]),s.max[0]>this.max[0]&&(this.max[0]=s.max[0]),s.max[1]>this.max[1]&&(this.max[1]=s.max[1]),s.max[2]>this.max[2]&&(this.max[2]=s.max[2]),this}expandPoint(s){return s[0]<this.min[0]&&(this.min[0]=s[0]),s[1]<this.min[1]&&(this.min[1]=s[1]),s[2]<this.min[2]&&(this.min[2]=s[2]),s[0]>this.max[0]&&(this.max[0]=s[0]),s[1]>this.max[1]&&(this.max[1]=s[1]),s[2]>this.max[2]&&(this.max[2]=s[2]),this}equals(s){return vu(this.min,s.min)&&vu(this.max,s.max)}clear(){return(0,d.set)(this.min,1/0,1/0,1/0),(0,d.set)(this.max,-1/0,-1/0,-1/0),this}copy(s){return ct(this,s),this}}function Sh(l,s,h,f,D=0,Y=0){const[fe,de,xe]=h,[Te,Ne,Ue]=f;let it=l[0+D]-fe,vt=s[0+Y]-fe,Et=l[1+D]-de,Lt=s[1+Y]-de,Tt=l[2+D]-xe,Gt=s[2+Y]-xe;Te||it?it/=Te:it=1/Te,Te||vt?vt/=Te:vt=1/Te,Ne||Et?Et/=Ne:Et=1/Ne,Ne||Lt?Lt/=Ne:Lt=1/Ne,Ue||Tt?Tt/=Ue:Tt=1/Ue,Ue||Gt?Gt/=Ue:Gt=1/Ue;const Cn=Math.min(Math.max(it,vt),Math.max(Et,Lt),Math.max(Tt,Gt));if(Cn<0)return Cn;const fn=Math.max(Math.min(it,vt),Math.min(Et,Lt),Math.min(Tt,Gt));return fn>Cn?-1/0:Math.max(0,fn)}function Xl(l,s,h){return l?Sh(l.min,l.max,s,h):-1/0}const Pf=w(68023);var Rh=v.n(Pf);const rl=new K(()=>new ml,l=>l.clear());class Ff{getBounds;box=new ml;centroid=(0,d.create)();object;node;constructor(s,h){this.getBounds=s,this.object=h,this.update()}update(){const{centroid:s,box:h}=this;this.getBounds(h,this.object),s[0]=(h.min[0]+h.max[0])/2,s[1]=(h.min[1]+h.max[1])/2,s[2]=(h.min[2]+h.max[2])/2}}let gd=function(l){return l.Center="center",l.EqualCounts="equal",l.SurfaceArea="sah",l}({});function kf(l,s){return(l.min[s]+l.max[s])/2}function Ih(l,s=l.axis){return kf(l.box,s)}function ru(l){const{min:s,max:h}=l,f=Math.max(0,h[0]-s[0]),D=Math.max(0,h[1]-s[1]),Y=Math.max(0,h[2]-s[2]);return 2*(f*D+f*Y+D*Y)}function _d(l){return ru(l.box)}function vd(l){const s=rl.get();for(let f=0,D=l.length;f<D;f++)s.expand(l[f].box);const h=ru(s);return rl.release(s),h}function Oa(l,s=!0){do{const{left:h,right:f}=l;l.box.copy(h.box).expand(f.box),l=l.parent}while(s&&l)}class iu{box;parent=null;left=null;right=null;objects=null;adapter;axis;depth;constructor(s,h,f,D=0){this.box=new ml,this.axis=0,this.parent=h,this.depth=D,this.objects=f?Array.from(f):[],this.adapter=s,s.bvh.maxDepth<D&&(s.bvh.maxDepth=D);let Y=null,fe=null;if(Object.defineProperties(this,{left:{get:()=>Y,set:de=>{Y=de,de&&(de.parent=this)}},right:{get:()=>fe,set:de=>{fe=de,de&&(de.parent=this)}}}),this.objects.length<=this.adapter.maxLeafObjects){for(let de=0,xe=this.objects.length;de<xe;de++)this.objects[de].node=this;Gu(this),yd(this)}else Gu(this),Gd(this),Oa(this,!1)}add(s){!function(h,f){const D=ru(f.box),Y=rl.get();for(;!h.objects;){const{left:fe,right:de}=h,xe=_d(fe);Y.copy(fe.box).expand(f.box);const Te=xe+ru(Y),Ne=_d(de);Y.copy(de.box).expand(f.box);const Ue=Ne+ru(Y);if(Y.copy(fe.box).expand(de.box),ru(Y)+D<.3*Math.min(Te,Ue))return Ph(h,f),void rl.release(Y);h=Te<Ue?fe:de}rl.release(Y),h.objects.push(f),f.node=h,Oh(h),yd(h)}(this,s)}delete(s){s.node=null;const h=this.objects.indexOf(s);h>=0&&this.objects.splice(h,1),this.objects.length>0?Oh(this):this.parent&&(this.objects=null,function(f){const D=f.parent,Y=f===D.left?D.right:D.left;if(D.box.copy(Y.box),D.left=Y.left,D.right=Y.right,D.objects=Y.objects,D.objects)for(let fe=0,de=D.objects.length;fe<de;fe++)D.objects[fe].node=D;else D.left.parent=D,D.right.parent=D,D.setDepth();D.parent&&Oa(D.parent)}(this),this.parent=null)}setDepth(s=this.depth){if(this.depth=s,s>this.adapter.bvh.maxDepth&&(this.adapter.bvh.maxDepth=s),!this.objects){const h=s+1;this.left.setDepth(h),this.right.setDepth(h)}}size(){return this.objects?this.left.size()+this.right.size():1}}function Gu(l){if(l.box.clear(),l.objects)for(let s=0,h=l.objects.length;s<h;s++)l.box.expand(l.objects[s].box)}function Oh(l){const s=rl.get();s.copy(l.box),Gu(l);const h=!s.equals(l.box);return h&&l.parent&&Oa(l.parent),rl.release(s),h}function Ph(l,s){const{left:h,right:f}=l,D=new iu(l.adapter,l);D.left=h,D.right=f,D.objects=null,h.parent=D,f.parent=D,Oa(D,!1);const Y=new iu(l.adapter,l);Y.objects.push(s),s.node=Y,Gu(Y),l.left=D,l.right=Y,l.setDepth(),Oa(l)}function Gd(l){for(let Y=0,fe=l.objects.length;Y<fe;Y++)l.objects[Y].node=null;const s=l.objects,{splitMethod:h}=l.adapter;let f=null;if(h===gd.SurfaceArea){const Y=Math.floor(l.objects.length/2);let fe=1/0;for(let de=0;de<3;de++){Rh()(s,Y,0,s.length-1,(Ue,it)=>Ue.centroid[de]-it.centroid[de]);const xe=s.slice(0,Y),Te=s.slice(Y),Ne=vd(xe)*xe.length+vd(Te)*Te.length;if(Ne<fe&&(fe=Ne,f={axis:de,left:xe,right:Te},0===Ne))break}}else{const Y=rl.get();for(let Ne=0;Ne<s.length;Ne++)Y.expandPoint(s[Ne].centroid);let fe=-1,de=-1/0;for(let Ne=0;Ne<3;Ne++){const Ue=Y.max[Ne]-Y.min[Ne];Ue>de&&(fe=Ne,de=Ue)}const xe=kf(Y,fe);rl.release(Y);const Te=function(Ne,Ue){let it=-1,vt=Ne.length;for(;;){do{it++}while(it<vt&&Ue(Ne[it])<=0);do{vt--}while(vt>=0&&Ue(Ne[vt])>0);if(it>=vt)return vt+1;const Et=Ne[it];Ne[it]=Ne[vt],Ne[vt]=Et}}(s,Ne=>Ne.centroid[fe]-xe);if(h===gd.Center&&Te>0&&Te<s.length-1){const Ne=s.slice(0,Te),Ue=s.slice(Te);f={axis:fe,left:Ne,right:Ue}}if(!f){const Ne=Math.floor(s.length/2);Rh()(s,Ne,0,s.length-1,(vt,Et)=>vt.centroid[fe]-Et.centroid[fe]);const Ue=s.slice(0,Ne),it=s.slice(Ne);f={axis:fe,left:Ue,right:it}}}l.objects=null;const D=l.depth+1;l.axis=f.axis,l.left=new iu(l.adapter,l,f.left,D),l.right=new iu(l.adapter,l,f.right,D)}function yd(l){l.objects&&l.objects.length>l.adapter.maxLeafObjects&&Gd(l)}const il=[[l=>l.right?.left,[l=>l.left,l=>l.right?.right]],[l=>l.right?.right,[l=>l.right?.left,l=>l.left]],[[l=>l.right,l=>l.left?.right],l=>l.left?.left],[[l=>l.left?.left,l=>l.right],l=>l.left?.right],[[l=>l.right?.right,l=>l.left?.right],[l=>l.right?.left,l=>l.left?.left]],[[l=>l.right?.left,l=>l.left?.right],[l=>l.left?.left,l=>l.right?.right]]];function Hc(l,s){if(Array.isArray(s)){const f=s[0](l),D=s[1](l);if(!f||!D)return 1/0;const Y=rl.get();Y.copy(f.box).expand(D.box);const fe=ru(Y);return rl.release(Y),fe}const h=s(l);return h?ru(h.box):1/0}function Kp(l){const{left:s,right:h,adapter:f}=l,{refitNodes:D}=f;if(l.parent&&s?.objects&&h?.objects)return void D.add(l.parent);const Y=_d(s)+_d(h);let fe=null,de=Y;for(let fn=0,xn=il.length;fn<xn;fn++){const wn=il[fn],Fn=Hc(l,wn[0])+Hc(l,wn[1]);Fn<de&&(de=Fn,fe=wn)}if(!fe)return void(l.parent&&D.add(l.parent));if(l.parent&&D.add(l.parent),(Y-de)/Y<.3)return;const[xe,Te]=fe;let Ne=!1;const Ue=Array.isArray(xe),it=Array.isArray(Te),vt=Ue?s:xe(l),Et=it?h:Te(l);let Lt,Tt,Gt,Cn;Ue?(Lt=xe[0](l),Tt=xe[1](l)):(Lt=s.left,Tt=s.right,Ne=!0),l.left=vt,vt.left=Lt,vt.right=Tt,it?(Gt=Te[0](l),Cn=Te[1](l)):(Gt=h.left,Cn=h.right,Ne=!0),l.right=Et,Et.left=Gt,Et.right=Cn,Ue&&Oa(vt,!1),it&&Oa(Et,!1),Ne&&l.setDepth()}function Hd(l,s,h=1/0,...f){const{origin:D,direction:Y,inspect:fe,filter:de}=s,xe=s.near||0;let Te=null;const Ne=Y?Xl(l.box,D,Y):Uo(l.box,D,h);if(Ne<0||Ne>h)return null;if(l.objects){for(const Lt of l.objects)if(!de||de(Lt.object)){let Tt=Ne;if(l.objects.length>1&&(Tt=Y?Xl(Lt.box,D,Y):Uo(Lt.box,D,h)),Tt<=h+z)if(fe){const Gt=fe(Lt.object,D,Tt,h,s,...f);Gt&&(Te&&Gt.distance<Te.distance||Gt.distance<=h)&&Gt.distance>=xe-z&&(Te=Gt,h=Te.distance)}else Tt>=xe-z&&(h=Tt,Te={object:Lt.object,distance:Tt})}return Te}let Ue=!0;if(Y)Ue=Y[l.axis]>0;else{const Lt=l.left?Ih(l.left,l.axis):-1/0,Tt=l.right?Ih(l.right,l.axis):1/0,Gt=D[l.axis];Ue=Math.abs(Lt-Gt)<=Math.abs(Tt-Gt)}const vt=Ue?l.right:l.left,Et=Hd(Ue?l.left:l.right,s,h,...f);if(Et&&(Te=Et,h=Te.distance),!Te||h>xe){const Lt=Hd(vt,s,h,...f);Lt&&(Te=Lt)}return Te}class yu{maxDepth=0;root;size;bounds;maxLeafObjects;add;delete;clear;optimize;query;forEach;constructor(s,h,f){const D=f?.maxLeafObjects||1,Y=new Set,fe={bvh:this,bounds:s,refitNodes:Y,maxLeafObjects:D,splitMethod:gd.SurfaceArea},de=new Map;let xe=null;if(h){xe=new Set;const Ne=new Set;for(const Ue of h)if(!Ne.has(Ue)){Ne.add(Ue);const it=new Ff(s,Ue);xe.add(it),de.set(Ue,it)}xe.size&&(fe.splitMethod=gd.Center)}const Te=new iu(fe,null,xe);this.add=Ne=>{let Ue=de.get(Ne);Ue?Ue.update():Ue=new Ff(s,Ne),de.set(Ne,Ue),Ue.node?Oh(Ue.node)&&Ue.node.parent&&Y.add(Ue.node.parent):Te.add(Ue)},this.delete=Ne=>{const Ue=de.get(Ne);Ue&&Ue.node&&(Ue.node.delete(Ue),de.delete(Ne))},this.clear=()=>{if(de.clear(),Te.objects)for(let Ne=0,Ue=Te.objects.length;Ne<Ue;Ne++)Te.delete(Te.objects[Ne]);else Te.left=null,Te.right=null,Te.box.clear(),Te.objects=[];this.maxDepth=0},this.query=(Ne,...Ue)=>{const it=isNaN(Ne.radius)?1/0:Ne.radius;return Hd(Te,Ne,it,...Ue)},this.optimize=()=>{if(1===D)for(;Y.size;){let Ne=0;for(const it of Y)Ne=Math.max(Ne,it.depth);const Ue=new Set;for(const it of Y)it.depth===Ne&&(Ue.add(it),Y.delete(it));for(const it of Ue)Kp(it)}else console.warn("Optimize only works if maxLeafObjects = 1")},this.forEach=Ne=>{de.forEach(Ue=>Ne(Ue.object))},Object.defineProperties(this,{root:{get:()=>Te},size:{get:()=>de.size},maxLeafObjects:{get:()=>D},bounds:{get:()=>Te.box}})}}function zp(l,s=l.axis){return((h=l.box).min[f=s]+h.max[f])/2;var h,f}class Kd{box;parent=null;left=null;right=null;objects=null;axis;depth;constructor(s,h,f,D=0,Y=0){this.box=new ml,this.parent=h,this.axis=D,this.depth=Y,this.objects=f?Array.from(f):[],s.tree.maxDepth<Y&&(s.tree.maxDepth=Y);for(let de=0,xe=this.objects.length;de<xe;de++){const Te=s.boundingBoxes.get(this.objects[de]);this.box.expand(Te)}if(Y>=s.maxNodeDepth||this.objects.length<=s.maxLeafObjects)return;const{maxLeafObjects:fe}=s;for(let de=0;de<3;de++){const xe=(this.box.min[D]+this.box.max[D])/2,Te=[],Ne=[];for(let Ue=0,it=this.objects.length;Ue<it;Ue++){const vt=this.objects[Ue];s.boundingBoxes.get(vt).min[D]<=xe?Te.push(vt):Ne.push(vt)}if(Te.length>=fe&&Ne.length>=fe){this.axis=D,this.objects=null;const Ue=(D+1)%3,it=Y+1;return this.left=new Kd(s,this,Te,Ue,it),void(this.right=new Kd(s,this,Ne,Ue,it))}D=(D+1)%3}}size(){return this.left&&this.right?this.left.size()+this.right.size():1}}function ol(l,s,h,f=1/0,...D){const{origin:Y,direction:fe,inspect:de,filter:xe}=s,Te=s.near||0;let Ne=null;const Ue=fe?Xl(l.box,Y,fe):Uo(l.box,Y,f);if(Ue<0||Ue>f)return null;if(l.objects){for(const Tt of l.objects)if(!xe||xe(Tt)){let Gt=Ue;if(l.objects.length>1&&!de){const Cn=h.get(Tt);Gt=fe?Xl(Cn,Y,fe):Uo(Cn,Y,f)}if(Gt<=f+z)if(de){const Cn=de(Tt,Y,Gt,f,s,...D);Cn&&(Ne&&Cn.distance<Ne.distance||Cn.distance<=f)&&Cn.distance>=Te-z&&(Ne=Cn,f=Ne.distance)}else Gt>=Te-z&&(f=Gt,Ne={object:Tt,distance:Gt})}return Ne}let it=!0;if(fe)it=fe[l.axis]>0;else{const Tt=l.left?zp(l.left,l.axis):-1/0,Gt=l.right?zp(l.right,l.axis):1/0,Cn=Y[l.axis];it=Math.abs(Tt-Cn)<=Math.abs(Gt-Cn)}const Et=it?l.right:l.left,Lt=ol(it?l.left:l.right,s,h,f,...D);if(Lt&&(Ne=Lt,f=Lt.distance),!Ne||f>Te){const Tt=ol(Et,s,h,f,...D);Tt&&(Ne=Tt)}return Ne}class zd{maxDepth=0;root;size;bounds;maxLeafObjects;query;forEach;constructor(s,h,f){const D=f?.maxLeafObjects||1,Y=f?.maxNodeDepth||1/0,fe=new Map,{preserveBounds:de=!0}=f||{},xe={tree:this,bounds:s,maxLeafObjects:D,maxNodeDepth:Y,boundingBoxes:fe},Te=new Set(h);Te.forEach(Ue=>{const it=new ml;s(it,Ue),fe.set(Ue,it)});const Ne=new Kd(xe,null,Te);!1===de&&fe.clear(),this.query=(Ue,...it)=>{if(!Ue.inspect&&!1===de)throw new Error("KdTree queries without preserved object bounds require an inspect callback function.");const vt=isNaN(Ue.radius)?1/0:Ue.radius;return ol(Ne,Ue,xe.boundingBoxes,vt,...it)},this.forEach=Ue=>{Te.forEach(it=>Ue(it))},Object.defineProperties(this,{root:{get:()=>Ne},size:{get:()=>Te.size},maxLeafObjects:{get:()=>D},bounds:{get:()=>Ne.box}})}}function bu(l,s,h,f){const D=3*h,Y=D+1;let de=s[D],xe=s[Y],Te=s[Y+1];f&&(de=de*f[0]+f[12],xe=xe*f[5]+f[13],Te=Te*f[10]+f[14]),de<l.min[0]&&(l.min[0]=de),xe<l.min[1]&&(l.min[1]=xe),Te<l.min[2]&&(l.min[2]=Te),de>l.max[0]&&(l.max[0]=de),xe>l.max[1]&&(l.max[1]=xe),Te>l.max[2]&&(l.max[2]=Te)}function Bf(l,s,h,f,D){l.clear();const Y=s.attributes.position.data,fe=s.attributes.position.decodeMat;bu(l,Y,h,fe),bu(l,Y,f,fe),bu(l,Y,D,fe)}function _g(l,s,h,f,D){l.clear();for(let Y=0,fe=s.morphKeys.length;Y<fe;Y++){const de=s.morphKeys[Y],xe=de.attributes.position.data,Te=de.attributes.position.decodeMat;bu(l,xe,h,Te),bu(l,xe,f,Te),bu(l,xe,D,Te)}}class $d extends A{get;release;constructor(){super();const s=new Yo({create:f=>{if(f.attributes&&f.topology===kt.triangles){const D=f.morphKeys?.length?_g:Bf,Y=f.indices?(xe,Te)=>{const{index:Ne,geometry:Ue}=Te,it=Ne+1;return D(xe,Ue,Ue.indices[Ne],Ue.indices[it],Ue.indices[it+1])}:(xe,Te)=>{const{index:Ne,geometry:Ue}=Te,it=Ne+3;return D(xe,Ue,Ne,it,it+3)},fe=[];if(f.indices)for(let xe=0,Te=f.indices.length;xe<Te;xe+=3)fe.push({geometry:f,index:xe});else for(let xe=0,Te=f.attributes.position.data.length;xe<Te;xe+=9)fe.push({geometry:f,index:xe});const de=new zd(Y,fe,{maxLeafObjects:8,preserveBounds:!1});return this.emit("create",{geometry:f}),de}return null},release:()=>{}});this.get=f=>s.get(f),this.release=f=>s.release(f);const h=this.destroy;this.destroy=()=>{s.destroy(),h()}}}function $p(){const l=(0,L.create)(),s=(0,d.create)(),h=(0,d.create)();return{frame(f){(0,F.getRotation)(l,f)},update(f){f.updateWorldMatrix(),(0,F.getTranslation)(s,f.worldMatrix),(0,F.getScaling)(h,f.worldMatrix),(0,F.fromRotationTranslationScale)(f.worldMatrix,l,s,h),f.setWorldMatrix(f.worldMatrix)}}}function wa(){const l=(0,d.create)();return{frame(s){(0,F.getTranslation)(l,s)},update(s){s.updateWorldMatrix();const[h,f,D]=l;s.worldMatrix[12]=h,s.worldMatrix[13]=f,s.worldMatrix[14]=D,s.setWorldMatrix(s.worldMatrix)}}}class Nf{update;destroy;constructor(s){const h=new Set,f={copyPosition:wa(),copyRotation:$p()};function D(de){de.constraints.length?h.add(de):h.delete(de)}function Y(de){"constraints"===de.property&&D(de.node)}const fe=new Fs;fe.on("add",function(de){de.on("change",Y),D(de)}),fe.on("remove",function(de){de.off("change",Y),h.delete(de)}),fe.root=s,this.update=de=>{const xe={};h.forEach(Te=>{Te.constraints.forEach(Ne=>{const Ue=Ne.type;if(Ue in f){const it=f[Ue];xe[Ue]||(xe[Ue]=!0,it.frame?.(de)),it.update(Te,Ne)}})})},this.destroy=()=>{fe.destroy(),h.clear()}}}const Eu=(0,F.create)();function kh(l,s,h){return l*l+s*s+h*h}function Wp(l,s){const h=(0,d.create)(),f={origin:(0,d.create)(),direction:h,radius:1/0,near:0,inspect:s};return(D,Y,fe,de,{direction:xe},...Te)=>{if(D.geometry.topology!==kt.triangles)return null;const Ne=l(D.geometry);if(!Ne){const vt=[0,0,0];return(0,d.scaleAndAdd)(vt,Y,xe,fe),{object:D,distance:fe,intersection:vt}}let Ue=null;const{worldMatrix:it}=D;if((0,F.invert)(Eu,it),(0,d.transformMat4)(f.origin,Y,Eu),xe)f.direction=h,de<1/0?((0,d.scaleAndAdd)(h,Y,xe,de),(0,d.transformMat4)(h,h,Eu),(0,d.subtract)(h,h,f.origin),f.radius=(0,d.length)(h),(0,d.scale)(h,h,1/f.radius)):((0,d.add)(h,Y,xe),(0,d.transformMat4)(h,h,Eu),(0,d.subtract)(h,h,f.origin),(0,d.normalize)(h,h),f.radius=1/0),Ue=Ne.query(f,D,...Te);else{f.direction=null;const vt=kh(it[0],it[1],it[2]),Et=kh(it[4],it[5],it[6]),Lt=kh(it[8],it[9],it[10]),Tt=Math.sqrt(Math.max(vt,Et,Lt));f.radius=Math.max(1e-4,de/Tt),Ue=Ne.query(f,D,...Te)}if(Ue){const{object:vt,intersection:Et,...Lt}=Ue;(0,d.transformMat4)(Et,Et,it);let Tt=(0,d.distance)(Y,Et);if(Tt>=fe-z&&Tt<=de+z)return Tt=re(Tt,fe,de),{object:D,...Lt,intersection:Et,distance:Tt,triIndex:vt.index}}return null}}const Au=(0,d.create)(),Cu=(0,d.create)(),Wd=(0,d.create)(),Hu=(0,d.create)();function Lf(l,s,h,f,D,Y){(0,d.subtract)(Au,D,f),(0,d.subtract)(Cu,Y,f),(0,d.cross)(Wd,Au,Cu);const fe=-(0,d.dot)(h,Wd);if(fe<0||0===fe)return!1;(0,d.subtract)(Hu,s,f),(0,d.cross)(Cu,Hu,Cu);const de=-(0,d.dot)(h,Cu);if(de<0)return!1;(0,d.cross)(Au,Au,Hu);const xe=-(0,d.dot)(h,Au);if(xe<0||de+xe>fe)return!1;const Te=(0,d.dot)(Hu,Wd);return!(Te<0)&&((0,d.scaleAndAdd)(l,s,h,Te/fe),!0)}function Ol(l,s,h,f){let fe=s[h],de=s[h+1],xe=s[h+2];f&&(fe=fe*f[0]+f[12],de=de*f[5]+f[13],xe=xe*f[10]+f[14]),l[0]=fe,l[1]=de,l[2]=xe}function Xd(l,s,h,f,D){const{geometry:Y}=l,{indices:fe}=Y,de=s+1,xe=de+1,{morphKeyIndex:Te,morphFactor:Ne}=l;if(Te>=0&&Y.morphKeys.length){const Ue=Y.morphKeys[Te],it=Ue.attributes.position.data,vt=Ue.attributes.position.decodeMat;if(Ol(h,it,3*fe[s],vt),Ol(f,it,3*fe[de],vt),Ol(D,it,3*fe[xe],vt),Ne>0){const Et=Y.morphKeys[Te+1],Lt=Et.attributes.position.data,Tt=Et.attributes.position.decodeMat,Gt=R.get();Ol(Gt,Lt,3*fe[s],Tt),(0,d.lerp)(h,h,Gt,Ne),Ol(Gt,Lt,3*fe[de],Tt),(0,d.lerp)(f,f,Gt,Ne),Ol(Gt,Lt,3*fe[xe],Tt),(0,d.lerp)(D,D,Gt,Ne),R.release(Gt)}}else{const Ue=Y.attributes.position.decodeMat,it=Y.attributes.position.data;Ol(h,it,3*fe[s],Ue),Ol(f,it,3*fe[de],Ue),Ol(D,it,3*fe[xe],Ue)}}const Xp=(l,s,h,f,{direction:D},Y)=>{const fe=R.get(),de=R.get(),xe=R.get(),Te=R.get(),{index:Ne}=l;Xd(Y,Ne,fe,de,xe);const Ue=D?Lf(Te,s,D,fe,de,xe):function(vt,Et,Lt,Tt,Gt,Cn){const fn=Lt*Lt,xn=R.get(),wn=R.get(),Fn=R.get();(0,d.subtract)(xn,Gt,Tt),(0,d.subtract)(wn,Cn,Tt),(0,d.subtract)(Fn,Et,Tt);const $n=(0,d.dot)(xn,Fn),pr=(0,d.dot)(wn,Fn);if(R.release(Fn),$n<=0&&pr<=0)return(0,d.copy)(vt,Tt),R.release(xn),R.release(wn),(0,d.squaredDistance)(Et,vt)<=fn;const hr=R.get();(0,d.subtract)(hr,Et,Gt);const wr=(0,d.dot)(xn,hr),di=(0,d.dot)(wn,hr);if(R.release(hr),wr>=0&&di>=wr)return(0,d.copy)(vt,Gt),R.release(xn),R.release(wn),(0,d.squaredDistance)(Et,vt)<=fn;const Ai=$n*di-wr*pr;if(Ai<=0&&$n>=0&&wr<=0)return(0,d.scaleAndAdd)(vt,Tt,xn,$n/($n-wr)),R.release(xn),R.release(wn),(0,d.squaredDistance)(Et,vt)<=fn;const ei=R.get();(0,d.subtract)(ei,Et,Cn);const yi=(0,d.dot)(xn,ei),Zi=(0,d.dot)(wn,ei);if(R.release(ei),Zi>=0&&yi<=Zi)return(0,d.copy)(vt,Cn),R.release(xn),R.release(wn),(0,d.squaredDistance)(Et,vt)<=fn;const Di=yi*pr-$n*Zi;if(Di<=0&&pr>=0&&Zi<=0)return(0,d.scaleAndAdd)(vt,Tt,wn,pr/(pr-Zi)),R.release(xn),R.release(wn),(0,d.squaredDistance)(Et,vt)<=fn;const Fr=wr*Zi-yi*di;if(Fr<=0&&di-wr>=0&&yi-Zi>=0){const io=R.get();return(0,d.scaleAndAdd)(vt,Gt,io,(di-wr)/(di-wr+(yi-Zi))),R.release(xn),R.release(wn),R.release(io),(0,d.squaredDistance)(Et,vt)<=fn}const Si=1/(Fr+Di+Ai),po=Ai*Si;return(0,d.scaleAndAdd)(vt,Tt,xn,Di*Si),(0,d.scaleAndAdd)(vt,vt,wn,po),R.release(xn),R.release(wn),(0,d.squaredDistance)(Et,vt)<=fn}(Te,s,f,fe,de,xe);R.release(fe),R.release(de),R.release(xe);let it=null;return Ue&&(it={object:l,distance:(0,d.distance)(s,Te),intersection:Array.from(Te)}),R.release(Te),it};function Na(l,s,h=z){const[f,D,Y]=s.min,[fe,de,xe]=s.max,Te=l.worldMatrixInverse,Ne=Te[2],Ue=Te[6],it=Te[10],vt=Te[14],Et=fe-f,Lt=de-D,Tt=xe-Y,Gt=Math.sqrt(Et*Et+Lt*Lt+Tt*Tt);let Cn=f*Ne+D*Ue+Y*it+vt;if(isFinite(Cn)){Cn=Math.max(Cn,fe*Ne+D*Ue+Y*it+vt),Cn=Math.max(Cn,f*Ne+de*Ue+Y*it+vt),Cn=Math.max(Cn,f*Ne+D*Ue+xe*it+vt),Cn=Math.max(Cn,fe*Ne+de*Ue+Y*it+vt),Cn=Math.max(Cn,fe*Ne+D*Ue+xe*it+vt),Cn=Math.max(Cn,f*Ne+de*Ue+xe*it+vt),Cn=Math.max(Cn,fe*Ne+de*Ue+xe*it+vt);const{near:fn,far:xn}=l;l.near=Math.max(-Cn,h),l.far=Math.max(Gt-Cn,l.near+h),fn===l.near&&xn===l.far||l.dirtyProjection()}}const Ku=(0,Hi.create)();function Uf(l,s,h){(0,Hi.transformMat4)(l.plane,s.plane,h),zr(l.plane),s.fade?((0,d.copy)(Ku,s.plane),Ku[3]=s.plane[3]+s.fade,(0,Hi.transformMat4)(Ku,Ku,h),zr(Ku),l.fade=Ku[3]-l.plane[3]):l.fade=0}const Qp=new Map([["bc1-rgba-unorm","s3"],["bc2-rgba-unorm","s3"],["bc3-rgba-unorm","s3"],["bc1-rgba-unorm-srgb","s3"],["bc2-rgba-unorm-srgb","s3"],["bc3-rgba-unorm-srgb","s3"],["bc4-r-unorm","rgtc"],["bc4-r-snorm","rgtc"],["bc5-rg-unorm","rgtc"],["bc5-rg-snorm","rgtc"],["bc6h-rgb-ufloat","bptc"],["bc6h-rgb-float","bptc"],["bc7-rgba-unorm","bptc"],["bc7-rgba-unorm-srgb","bptc"],["etc2-rgb8unorm","etc"],["etc2-rgb8unorm-srgb","etc"],["etc2-rgb8a1unorm","etc"],["etc2-rgb8a1unorm-srgb","etc"],["etc2-rgba8unorm","etc"],["etc2-rgba8unorm-srgb","etc"],["eac-r11unorm","etc"],["eac-r11snorm","etc"],["eac-rg11unorm","etc"],["eac-rg11snorm","etc"],["etc2-rgb8unorm","etc1"],["astc-4x4-unorm","astc"],["astc-5x4-unorm","astc"],["astc-5x5-unorm","astc"],["astc-6x5-unorm","astc"],["astc-6x6-unorm","astc"],["astc-8x5-unorm","astc"],["astc-8x6-unorm","astc"],["astc-8x8-unorm","astc"],["astc-10x5-unorm","astc"],["astc-10x6-unorm","astc"],["astc-10x8-unorm","astc"],["astc-10x10-unorm","astc"],["astc-12x10-unorm","astc"],["astc-12x12-unorm","astc"],["astc-4x4-unorm-srgb","astc"],["astc-5x4-unorm-srgb","astc"],["astc-5x5-unorm-srgb","astc"],["astc-6x5-unorm-srgb","astc"],["astc-6x6-unorm-srgb","astc"],["astc-8x5-unorm-srgb","astc"],["astc-8x6-unorm-srgb","astc"],["astc-8x8-unorm-srgb","astc"],["astc-10x5-unorm-srgb","astc"],["astc-10x6-unorm-srgb","astc"],["astc-10x8-unorm-srgb","astc"],["astc-10x10-unorm-srgb","astc"],["astc-12x10-unorm-srgb","astc"],["astc-12x12-unorm-srgb","astc"],["pvrtc-rgb4unorm","pvrtc"],["pvrtc-rgb2unorm","pvrtc"],["pvrtc-rgba4unorm","pvrtc"],["pvrtc-rgba2unorm","pvrtc"]]),Vf=new Map([[tt.Linear,"linear"],[tt.Exponential,"exp"],[tt.ExponentialSquared,"exp2"]]);class jf extends A{renderer;rootNode;contentNode;environmentNode;camera;started;story;bounds=new ml;setStory;rayCast;rayCastCamera;searchNearestObject;start;stop;constructor(s,h){let f;super();let D=null,Y=!1;const{baseUrl:fe,queryFilter:de}=h,xe=new Dh({canvas:h.canvas,contextName:h.contextName,optimizations:h.optimizations}),Te=new yu((Fr,Si)=>ct(Fr,Si.worldBounds)),Ne=new ml,Ue=new Set;let it=!0;const vt=[],Et=new hn;Et.name="camera",Et.near=.001,Et.dirtyProjection(),Et.updateWorldMatrix();const Lt=Fr=>!(Fr instanceof kn)&&(!de||de(Fr)),Tt=Fr=>{const{visible:Si}=Fr,wi=Lt(Fr);Si&&wi?Te.add(Fr):Te.delete(Fr);const po=Ue.has(Fr),io=Si&&!wi;io?Ue.add(Fr):Ue.delete(Fr),(io||po)&&(it=!0)};function Gt(Fr){"geometry"!==Fr.property&&"visible"!==Fr.property||Tt(Fr.node)}function Cn(Fr){Tt(Fr.node)}xe.on("add",Fr=>{Fr instanceof vn&&(Fr.on("updateWorldBounds",Cn),Fr.on("change",Gt),Fr.visible&&!Lt(Fr)&&Ue.add(Fr))}),xe.on("remove",Fr=>{Fr instanceof vn&&(Fr.off("updateWorldBounds",Cn),Fr.off("change",Gt),Te.delete(Fr),Ue.delete(Fr))}),xe.on("xrframe",({viewerPose:Fr})=>{Fr&&(f=Fr.transform.matrix)});const fn=new Ce({name:"BioDigitalEngine"});fn.add(Et),xe.root=fn;const xn=new Ce({name:"BioDigitalEngine environment"});xn.parent=fn;const wn=new Ce({name:"BioDigitalEngine content"});wn.parent=fn,xe.camera=Et;const Fn=new Nf(fn);xe.on("animate",function(Fr){const Si=Fr/1e3;D?.update(Si),xe.xrSession||(Et.updateWorldMatrix(),f=Et.worldMatrix),Fn.update(f,fn)}),xe.on("update",()=>{it&&(Ne.clear(),Ue.forEach(Fr=>{Ne.expand(Fr.worldBounds)}),it=!1),this.bounds.copy(Te.bounds).expand(Ne),xe.xrSession||Na(Et,this.bounds,.1*ce)});const $n=(0,F.create)();function pr(){const Fr=D?.activeChapter,Si=Fr?.clippingPlanes||[];for(let wi=vt.length;wi<Si.length;wi++)vt.push({plane:(0,Hi.create)(),fade:0});if(vt.length=Si.length,Fr){Fr.contentNode.updateWorldMatrix(),(0,F.invert)($n,Fr.contentNode.worldMatrix),(0,F.transpose)($n,$n);for(let wi=0;wi<Si.length;wi++){const po=Si[wi];po&&Uf(vt[wi],po,$n)}}xe.setClippingPlanes(vt)}const hr=()=>{if(D){const Fr=D;D=null,wn.remove(Fr.contentNode),xn.remove(Fr.environmentNode),xe.environment.fog.mode="",xe.environment.lightMap.texture=null,xe.environment.reflectionMap.texture=null,xe.physicalImageLight=null,Fr.destroy()}},wr=Fr=>Te.query(Fr)||null,di=new $d,Ai={origin:(0,d.create)(),direction:(0,d.create)(),near:0,radius:1/0,inspect:Wp(Fr=>di.get(Fr),Xp)},ei={origin:null,near:0,radius:1/0,inspect:Ai.inspect},yi=(0,F.create)();this.rayCastCamera=(Fr,Si,wi,po)=>{const{canvas:io}=xe,ns=Fr/io.width*2-1,bi=-Si/io.height*2+1,Lr=po?po.transform.matrix:Et.worldMatrix,pi=po?po.projectionMatrix:Et.projectionMatrix,{origin:ho,direction:vs}=Ai;return Ai.near=wi?.near??pi[14]/(pi[10]-1),Ai.filter=wi?.filter||void 0,Ai.radius=wi?.radius??pi[14]/(pi[10]+1),(0,F.getTranslation)(ho,Lr),(0,d.set)(vs,ns,bi,.5),(0,F.invert)(yi,pi),(0,d.transformMat4)(vs,vs,yi),(0,d.transformMat4)(vs,vs,Lr),(0,d.subtract)(vs,vs,ho),(0,d.normalize)(vs,vs),wr(Ai)},this.rayCast=(Fr,Si)=>{const{origin:wi,direction:po}=Ai;return(0,F.getTranslation)(wi,Fr),(0,d.set)(po,0,0,-1),(0,d.transformMat4)(po,po,Fr),(0,d.subtract)(po,po,wi),(0,d.normalize)(po,po),Ai.near=void 0===Si?.near?Et.near:Si.near,Ai.filter=Si?.filter||void 0,Ai.radius=Si?.radius?Si.radius:1/0,wr(Ai)},this.searchNearestObject=(Fr,Si)=>(ei.origin=Fr,Ai.near=void 0===Si?.near?Et.near:Si.near,Ai.filter=Si?.filter||void 0,Ai.radius=Si?.radius?Si.radius:1/0,wr(Ai));const Zi=(Fr=xe.textureFormats,Si=h?.disableTextureCompression,Si?Fr.filter(wi=>!0===Si?!Qp.has(wi):!Si[Qp.get(wi)||wi]):Fr);var Fr,Si;this.setStory=Fr=>{if(hr(),!Fr)return;const Si=D=new Bo(s,Fr,{decompressNormals:!1,decompressPositions:!1,computeTangents:!0,textureFormats:Zi,baseUrl:fe,loadAllMorphs:h.loadAllMorphs,camera:Et});let wi=Si.activeChapter;Si.on("changechapter",po=>{const io=Si.chapters[po];var ns;ns=io.environment,Object.assign(xe.environment.lightMap,ns?.lightMap||{texture:null}),Object.assign(xe.environment.reflectionMap,ns?.reflectionMap||{texture:null}),function(bi){const{enabled:Lr,mode:pi,start:ho=0,end:vs=1e3,density:$s=.01,...Ys}=bi||{},ra=Lr&&Vf.get(pi)||"";Object.assign(xe.environment.fog,Ys),xe.environment.fog.start=ho*ce,xe.environment.fog.end=vs*ce,xe.environment.fog.density=$s/ce,xe.environment.fog.mode=ra}(io.properties.fog),pr(),xe.physicalImageLight=io.physicalImageLight,xe.toneMapping=io.toneMapping,xe.transparencyMode=[io.transparencyMode,io.fallbackTransparency,xo.Alpha].find(bi=>bi&&xe.supportsTransparencyMode(bi)),xe.setPostProcessingPipeline(io.postProcess),wi!==io&&(io.clippingPlanes.on("change",pr),io.contentNode.on("dirty",pr),wi?.clippingPlanes.off("change",pr),wi?.contentNode.off("dirty",pr),wi=io),this.emit("changechapter",po)}),Si.on("destroy",()=>{hr()}),wn.add(D.contentNode),xn.add(D.environmentNode),Y&&Si.start(),this.emit("changestory")},this.start=()=>{Y||(Y=!0,D?.start(),xe.start(),this.emit("start"))},this.stop=()=>{Y&&(Y=!1,xe.stop(),D?.stop(),this.emit("stop"))};const Di=this.destroy;this.destroy=()=>{hr(),di.destroy(),xe.destroy(),this.emit("destroy"),Di()},Object.defineProperties(this,{renderer:{value:xe,writable:!1},rootNode:{value:fn,writable:!1},environmentNode:{value:xn,writable:!1},contentNode:{value:wn,writable:!1},camera:{value:Et,writable:!1},story:{get:()=>D},started:{get:()=>Y}})}}class Yp extends ot{left;right;top;bottom;constructor(s={}){const{left:h,right:f,top:D,bottom:Y,...fe}=s;super(fe),this.left=h??-1,this.right=f??1,this.top=D??1,this.bottom=Y??-1;let de=!0;this.dirtyProjection=()=>{de=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{de&&(0,F.ortho)(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),de=!1},Object.defineProperties(this,{dirty:{get:()=>de||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>de}})}}class Zp extends A{play;pause;update;loop;currentTime;playBackRate;animationSystem;paused;duration;constructor(s,h){super();const f=!!h?.autoAnimate,D=Math.max(1e3/60,h?.maxDelta||Ve);let Y=!0,fe=!1,de=1,xe=0,Te=1/0,Ne=0;const Ue=()=>{if(Y)return;const vt=performance.now(),Et=vt-Ne;Et>D&&(Te-=D-Et),Ne=vt;const Lt=(vt-Te)*de/1e3,Tt=s.currentTime,{duration:Gt}=s;if(Lt>=Gt)if(fe&&Gt>0)s.currentTime=Lt%Gt;else{const Cn=s.currentTime!==Gt;s.currentTime=Gt,this.pause(),Cn&&this.emit("ended",this)}else s.currentTime=Lt;Lt!==Tt&&this.emit("timeupdate",this),!Y&&f&&(xe=requestAnimationFrame(Ue))};this.update=Ue,this.play=()=>{if(!Y)return;const vt=s.currentTime;let Et=s.currentTime;Et>=s.duration&&(s.currentTime=Et=0);const Lt=performance.now();Te=Lt-1e3*Et/de,Ne=Lt,Y=!1,f&&(xe=requestAnimationFrame(Ue)),this.emit("play",this),Et!==vt&&this.emit("timeupdate",this)},this.pause=()=>{Y||(Y=!0,cancelAnimationFrame(xe),this.emit("pause",this))};const it=this.destroy;this.destroy=()=>{this.pause(),it()},Object.defineProperties(this,{loop:{get:()=>fe,set(vt){fe=vt}},currentTime:{get:()=>s.currentTime,set(vt){if(vt<0||vt>s.duration||isNaN(vt))throw new Error("Invalid animation system time: "+vt);vt!==s.currentTime&&(s.currentTime=vt,this.emit("timeupdate",this))}},playBackRate:{get:()=>de,set(vt){if(!(vt>0))throw new Error("Negative or zero playback rate not supported");de!==vt&&(de=vt,Te=performance.now()-1e3*s.currentTime/de,this.emit("ratechange",this))}},paused:{get:()=>Y},duration:{get:()=>s.duration},animationSystem:{value:s,writable:!1}})}}function qp(l,s,h,f,D){const Y=R.get(),fe=R.get(),de=R.get();(0,d.subtract)(Y,D,h),(0,d.subtract)(fe,f,h),(0,d.subtract)(de,s,h);const xe=(0,d.dot)(Y,Y),Te=(0,d.dot)(Y,fe),Ne=(0,d.dot)(Y,de),Ue=(0,d.dot)(fe,fe),it=(0,d.dot)(fe,de);R.release(Y),R.release(fe),R.release(de);const vt=xe*Ue-Te*Te;if(0===vt)return null;const Et=1/vt,Lt=(Ue*Ne-Te*it)*Et,Tt=(xe*it-Te*Ne)*Et;return(0,d.set)(l,1-Lt-Tt,Tt,Lt),l}function Ql(l,s,h,f,D){const Y=s[0],fe=s[1],de=s[2];return l[0]=h[0]*Y+f[0]*fe+D[0]*de,l[1]=h[1]*Y+f[1]*fe+D[1]*de,l[2]=h[2]*Y+f[2]*fe+D[2]*de,l}function zu(l,s,h,f){const D=R.get(),Y=R.get();(0,d.subtract)(D,f,h),(0,d.subtract)(Y,s,h),(0,d.cross)(D,D,Y),R.release(Y);const fe=(0,d.squaredLength)(D);return fe>0?((0,d.scale)(l,D,1/Math.sqrt(fe)),R.release(D),l):(R.release(D),null)}const Bh=(0,F.create)();class Gf{title;shown;trackingMode;renderableIndex;primitiveIndex;variantIndex;anatomyObject;barycenter;direction=(0,d.fromValues)(0,0,1);position=(0,d.create)();visible;update;destroy;constructor(s,h){const{object:f,trackingMode:D,renderableIndex:Y=-1,primitiveIndex:fe=-1,variantIndex:de=0}=h,xe="primitive"===D&&h.barycenter?(0,d.copy)((0,d.create)(),h.barycenter):null;if("primitive"===D){if(!(Y>=0))throw new Error("Primitive-tracked marker must have a renderableIndex >= 0.");if(!(fe>=0))throw new Error("Primitive-tracked marker must have a primitiveIndex >= 0.");if(!(de>=0))throw new Error("Primitive-tracked marker must have a variantIndex >= 0.");if(!(de<f.variantCount))throw new Error("Primitive-tracked marker must have a variantIndex < object variant count.");if(!xe)throw new Error("Primitive-tracked marker must have a barycenter.")}else{if("object"!==D)throw new Error("Unknown marker tracking mode: "+D);if(!h.worldPosition)throw new Error("Object-tracked marker must have a position.")}this.title=h.title||"";let Te=h.shown??!0,Ne=!0,Ue=!0,it=null;const{sceneNode:vt}=f,Et=(0,d.create)(),Lt=()=>{if(Ue&&Ne){if("primitive"===D){if(!it)return;it.updateWorldMatrix();const xn=fe,wn=R.get(),Fn=R.get(),$n=R.get();Xd(it,xn,wn,Fn,$n),Ql(this.position,this.barycenter,wn,Fn,$n),(0,d.transformMat4)(this.position,this.position,it.worldMatrix),(0,d.transformMat4)(wn,wn,it.worldMatrix),(0,d.transformMat4)(Fn,Fn,it.worldMatrix),(0,d.transformMat4)($n,$n,it.worldMatrix),zu(this.direction,wn,Fn,$n),R.release(wn),R.release(Fn),R.release($n)}else vt.updateWorldMatrix(),(0,d.transformMat4)(this.position,Et,vt.worldMatrix);Ne=!1}},Tt=()=>{const xn=Ue;Ue=Te&&f.shown&&s.active&&f.transformLoaded&&f.variant===de&&("primitive"!==D||!!it?.visible),Ue&&!xn&&Lt()},Gt=()=>{Ne=!0},Cn=()=>{f.transformLoaded&&s.active&&(vt.updateWorldMatrix(),(0,F.invert)(Bh,vt.worldMatrix),(0,d.transformMat4)(Et,h.worldPosition,Bh),vt.on("updateWorldMatrix",Gt),f.off("loadtransform",Cn),s.off("activate",Cn),Tt(),Ne=!0)},fn=()=>{if(f.loaded&&f.variant===de){if(f.off("load",fn),it=f.variants[de][Y]?.meshNode||null,!it)return console.warn("Missing meshNode on marker target object",f,Y),void(Ue=!1);it.on("updateWorldMatrix",Gt),it.on("change",Gt),Tt(),Ne=!0}};this.update=()=>{Lt()},this.destroy=()=>{s.off("activate",Tt),s.off("deactivate",Tt),f.off("load",fn),f.off("loadtransform",Cn),f.off("change",Tt),s.off("activate",Cn),vt.off("updateWorldMatrix",Gt),it?.off("updateWorldMatrix",Gt),it?.off("change",Gt)},Object.defineProperties(this,{shown:{get:()=>Te,set:xn=>{Te!==xn&&(Te=xn,Tt())}},visible:{get:()=>Ue},trackingMode:{writable:!1,value:D},anatomyObject:{writable:!1,value:f},renderableIndex:{writable:!1,value:Y},primitiveIndex:{writable:!1,value:fe},variantIndex:{writable:!1,value:de},barycenter:{writable:!1,value:xe}}),"primitive"===D?f.loaded?fn():f.on("load",fn):f.transformLoaded&&s.active?Cn():(f.on("loadtransform",Cn),s.on("activate",Cn)),f.on("change",Tt),s.on("activate",Tt),s.on("deactivate",Tt),Tt(),Lt()}}function bd(l,s,h){return s.updateWorldMatrix(),s.updateProjectionMatrix(),(0,d.transformMat4)(l,h,s.worldMatrixInverse),(0,d.transformMat4)(l,l,s.projectionMatrix),l}function $u(l,s,h){const{clientWidth:f,clientHeight:D}=s;return l[0]=(h[0]*f+f)/2,l[1]=(-h[1]*D+D)/2,l}const Jp=.5*ce;class Ed{id;title;visible;clipped;occluded;position=(0,d.create)();viewPosition=(0,d.create)();screenPosition=(0,Ds.create)();anatomyObject;marker3D;update;destroy;static meshOccludesMarkers(s,h){const f=h.story.anatomySceneGraph.findAnatomyObject(s);return!!f&&("auto"===f.occludesMarkers?eu(s)===Ra.opaque:"always"===f.occludesMarkers)}constructor(s,h,f,D,Y){let fe=!1,de=!1,xe=!1;const Te=new Gf(h,f),{camera:Ne}=h.story;this.update=Ue=>{if(Te.update(),fe=Te.visible,!fe)return de=!0,void(xe=!0);const it=Ue?Ue.transform.matrix:Ne.worldMatrix,vt=Ue?Ue.transform.inverse.matrix:Ne.worldMatrixInverse,Et=Ue?Ue.projectionMatrix:Ne.projectionMatrix;(0,d.transformMat4)(this.viewPosition,Te.position,vt),Ue?((0,d.transformMat4)(this.position,Te.position,vt),(0,d.transformMat4)(this.position,this.position,Et)):bd(this.position,Ne,Te.position),$u(this.screenPosition,Y||s.renderer.canvas,this.position);const[Lt,Tt]=this.position;if(de=Lt<-1||Lt>1||Tt<-1||Tt>1||this.viewPosition[2]>0,de)return void(xe=!0);const Gt=R.get(),Cn=R.get();(0,F.getTranslation)(Gt,it),(0,d.subtract)(Cn,Gt,Te.position);const fn=(0,d.length)(Cn);R.release(Cn);const xn=Math.min(.1*fn,Jp),[wn,Fn]=this.screenPosition;xe=!!s.rayCastCamera(wn,Fn,{filter:pr=>Ed.meshOccludesMarkers(pr,s),radius:Math.max(0,fn-xn)},Ue),R.release(Gt)},this.destroy=()=>{Te.destroy()},Object.defineProperties(this,{visible:{get:()=>fe},clipped:{get:()=>de},occluded:{get:()=>xe},id:{writable:!1,value:D},anatomyObject:{writable:!1,value:Te.anatomyObject},marker3D:{writable:!1,value:Te},title:{writable:!1,value:Te.title}})}}class Nh extends A{object;target;update;grab;release;constructor(s,h){let f,D;super();const Y=(0,F.create)(),fe=(0,F.create)(),de=fe;this.update=(Te,Ne)=>{const it=Te.getPose(h.inputSource.targetRaySpace,Ne);if(it)if(D)(0,F.multiply)(D.worldMatrix,it.transform.matrix,fe),D.setWorldMatrix(D.worldMatrix);else{const vt=s(it)||null;vt?(f=vt.object,h.distance=vt.distance,(0,F.copy)(Y,it.transform.matrix)):(f=null,h.distance=1/0)}},this.grab=()=>!(D||!f||(D=f,this.emit("grab",{object:D}),D.updateWorldMatrix(),(0,F.invert)(de,Y),(0,F.multiply)(fe,de,D.worldMatrix),0)),this.release=()=>{if(D){const Te=D;return D=null,this.emit("release",{object:Te}),!0}return!1};const xe=this.destroy;this.destroy=()=>{this.release(),this.emit("destroy"),xe()},Object.defineProperties(this,{object:{get:()=>D},target:{get:()=>D||f}})}}const Wu=w(28638);function wu(l,s){if(!l)return null;if(s(l))return l;for(const h of l.children){const f=wu(h,s);if(f)return f}return null}function Xu(l,s){return wu(l,h=>h.name===s)}const Lh=w(79258),Hf=w(13128),em=w(36848),tm=10240,Kf=10241,Uh=10242,nm=10243,wc=new Map([[9728,Ge.Nearest],[9729,Ge.Linear],[9984,Ge.Nearest],[9985,Ge.Linear],[9986,Ge.Nearest],[9987,Ge.Linear]]),Vh=new Map([[9728,Ge.Nearest],[9729,Ge.Nearest],[9984,Ge.Nearest],[9985,Ge.Nearest],[9986,Ge.Linear],[9987,Ge.Linear]]),Ad=new Map([[33071,Ze.ClampToEdge],[10497,Ze.Repeat],[33648,Ze.MirrorRepeat]]);function Qu(l,s,h){const{name:f,children:D,mesh:Y,light:fe,matrix:de,translation:xe,scale:Te,rotation:Ne}=l,Ue=new Ce(Object.assign({name:f},de?null:{position:xe,scale:Te,quaternion:Ne}));if(de&&Ue.setMatrix(de),Y){const it=s[Y.id];if(it.parent)throw new Error("Duplicate mesh parent");Ue.add(it)}if(void 0!==fe&&h){const it=h[fe];if(it.parent)throw new Error("Duplicate mesh parent");Ue.add(it)}if(D)for(let it=0;it<D.length;it++){const vt=Qu(D[it],s,h);Ue.add(vt)}return Ue}const vg={TEXCOORD_0:"texcoord",COLOR_0:"color"};function zf(l,s){return s===_?new Float32Array(l).map(h=>Math.max(h/127,-1)):s===Q?new Float32Array(l).map(h=>h/255):s===P?new Float32Array(l).map(h=>Math.max(h/32767,-1)):s===ae?new Float32Array(l).map(h=>h/65535):l}function oc(l,s){const{attributes:h,indices:f,mode:D=4}=l;4!==D&&console.warn("Unknown primitive mode: "+D);const Y={};f?.value&&(Y.indices=f.value);for(const[xe,Te]of Object.entries(h)){const{value:Ne,components:Ue,normalized:it,componentType:vt}=Te,Et=it?zf(Ne,vt):Ne;Y[vg[xe]||xe.toLocaleLowerCase()]={numComponents:Ue,data:Et}}const fe=h.POSITION.min&&h.POSITION?.normalized?zf(h.POSITION.min,h.POSITION.componentType):h.POSITION.min,de=h.POSITION.max&&h.POSITION?.normalized?zf(h.POSITION.max,h.POSITION.componentType):h.POSITION.max;return s(Y,fe&&de?{min:fe,max:de}:void 0)}function xu(l,s){const h={},f=[],D={};let Y=null;const fe=s.makeMaterial({id:"-no-material-",name:"<missing material>"},f),{makeMaterial:de,makeGeometry:xe=(it,vt)=>new Ct(it,vt),makeMeshNode:Te=(it,vt,Et)=>new at(it,vt,Et)}=s;l.textures?.forEach((it,vt)=>{f[vt]=function(Et){const{sampler:Lt,source:Tt}=Et,{image:Gt}=Tt,Cn=Lt.parameters||Lt,fn=Lt.minFilter||Cn[Kf],xn=Lt.magFilter||Cn[tm],wn=Cn[Uh],Fn=Cn[nm];return new jo(Gt,{name:Et.source.name||Et.id,min:wc.get(fn)||Ge.Linear,mag:wc.get(xn)||Ge.Linear,mipmapFilter:Vh.get(fn)||Ge.Nearest,wrapU:Ad.get(wn)||Ze.Repeat,wrapV:Ad.get(Fn)||Ze.Repeat,rowOrder:"top-down"})}(it)}),l.materials?.forEach(it=>{h[it.id]=de(it,f)}),l.meshes?.forEach(it=>{const vt=new Ce({name:it.name||it.id});D[it.id]=vt,it.primitives.forEach((Et,Lt)=>{const{material:Tt}=Et,Gt=Tt&&h[Tt.id]||fe,Cn=oc(Et,xe),fn=Te(Cn,Gt,{name:vt.name+":"+Lt});fn.name=it.name||it.id,Cn.name=fn.name,vt.add(fn)})}),s.makeLight&&l.lights&&(Y=l.lights.map(s.makeLight));const Ne=l.scene||l.scenes[0],Ue=new Ce({name:Ne?.name||Ne?.id||"GLTF Scene"});return Ne.nodes.forEach(it=>{Ue.add(Qu(it,D,Y))}),Ue}function jh(l,s){return Qd.apply(this,arguments)}function Qd(){return Qd=r(function*(l,s){const h=yield(0,Lh.load)(l,Hf.GLTFLoader,{DracoLoader:em.DracoLoader});return{node:xu((0,Hf.postProcessGLTF)(h),s),gltf:h}}),Qd.apply(this,arguments)}const rm={position:{numComponents:3,normalized:!1,data:new Float32Array([0,-.01,0,0,-.01,-4,.00866,.005,0,.00866,.005,-4,-.00866,.005,0,-.00866,.005,-4].map(l=>.25*l))},indices:[1,2,0,3,4,2,5,0,4,1,3,2,3,5,4,5,1,0]};function Gh(l){return new Ce(l)}function Yd(l,s=Gh){const h=s(l);for(const f of l.children)h.add(Yd(f,s));return h}const Zd=Math.PI,qd=2*Zd,Hh=new Map,im=typeof WeakMap<"u"?new WeakMap:new Map,om=typeof WeakMap<"u"?new WeakMap:new Map;function sm(l){return l instanceof vn?new vn(l.geometry,l.material,l):new Ce(l)}class $f extends Ce{inputSource;pointer;distance;load;update;constructor(s,h){super(h);let f=null,D=null,Y=!1,fe=X;const de=new Map,xe=new Ce;this.add(xe);let Te=im.get(h.makeGeometry);Te||(Te=h.makeGeometry(rm));const Ne=h.makeMeshNode(Te,h.lineMaterial,{name:"line",rotationSource:"euler"});Ne.scale[2]=fe,Ne.dirtyMatrix(),xe.add(Ne);let Ue=null,it=null;const vt=[];if(s.hand){Ue=new Float32Array(400),it=new Float32Array(25),D=new Ce({name:`hand.${s.handedness}`});let Tt=om.get(h.makeGeometry);if(!Tt){const Cn=function(fn){const xn=fn?.radius||1,wn=Math.max(3,Math.floor(fn?.widthSegments||32)),Fn=Math.max(2,fn?.heightSegments||32),$n=void 0!==fn?.phiStart?fn?.phiStart:0,pr=void 0!==fn?.phiLength?fn?.phiLength:qd,hr=void 0!==fn?.thetaStart?fn?.thetaStart:0,wr=void 0!==fn?.thetaLength?fn?.thetaLength:Zd,di=void 0!==fn?.uOffset?fn?.uOffset:0,Ai=void 0!==fn?.vOffset?fn?.vOffset:0,ei=void 0!==fn?.uScale?fn?.uScale:1,yi=void 0!==fn?.vScale?fn?.vScale:1,Zi=hr+wr,Di=(wn+1)*(Fn+1),Fr=new Float32Array(3*Di),Si=new Float32Array(3*Di),wi=new Float32Array(2*Di),po=[],io={min:(0,d.fromValues)(-xn,-xn,-xn),max:(0,d.fromValues)(xn,xn,xn)};let ns=0,bi=0,Lr=0;for(let ho=0;ho<=Fn;ho++){const vs=[],$s=ho/Fn,Ys=$s*wr,ra=Math.sin(hr+Ys),Ha=Math.cos(hr+Ys),Ya=Ha*xn,la=Ai+yi*(1-$s);for(let _a=0;_a<=wn;_a++){const Pl=_a/wn,ba=di+ei*Pl,Zs=Pl*pr,_l=-Math.cos($n+Zs)*ra,Yu=Math.sin($n+Zs)*ra,rh=Yu*xn;Fr[bi]=_l*xn,Si[bi++]=_l,Fr[bi]=Ya,Si[bi++]=Ha,Fr[bi]=rh,Si[bi++]=Yu,wi[Lr++]=ba,wi[Lr++]=la,vs.push(ns),ns++}po.push(vs)}const pi=[];for(let ho=0;ho<Fn;ho++){const vs=po[ho],$s=po[ho+1];for(let Ys=0;Ys<wn;Ys++){const Ha=vs[Ys],Ya=$s[Ys],la=$s[Ys+1];(ho||hr>0)&&pi.push(vs[Ys+1],Ha,la),(ho!==Fn-1||Zi<Zd)&&pi.push(Ha,Ya,la)}}return{arrays:{position:Fr,normal:Si,texcoord:wi,indices:jt(Di,pi)},bounds:io}}({widthSegments:4,heightSegments:3});Tt=h.makeGeometry(Cn.arrays),ct(Tt.bounds,Cn.bounds)}let Gt=0;s.hand.forEach((Cn,fn)=>{const xn=h.makeMeshNode(Tt,h.handMaterial,{name:fn,arrays:{matrix:Ue.subarray(Gt,Gt+=16)}});xn.parent=D,vt.push(xn)}),this.load=()=>Promise.resolve()}else{const Tt=r(function*(){const{profile:Gt,assetPath:Cn=""}=yield(0,Wu.fetchProfile)(s,"https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles");if(Y)return;f=new Wu.MotionController(s,Gt,Cn);const{rootNodeName:fn}=f.layoutDescription;let xn=Hh.get(Cn);xn||(xn=jh(Cn,h).then(({node:Fn})=>Xu(Fn,fn)||Fn),Hh.set(Cn,xn));const wn=yield xn;Y||(wn?(D=Yd(wn,sm),Object.values(f.components).forEach(Fn=>{Object.values(Fn.visualResponses).forEach($n=>{const pr=Xu(D,$n.valueNodeName);if(!pr)return void console.warn("Missing controller visual response object: "+$n.valueNodeName);const hr={visualResponse:$n,valueNode:pr,parentNode:pr.parent};de.set($n.valueNodeName,hr),"transform"===$n.valueNodeProperty&&(hr.minNode=Xu(D,$n.minNodeName),hr.maxNode=Xu(D,$n.maxNodeName))})})):console.warn("Missing controller root "+fn))})();this.load=()=>Tt}const Et=(Tt,Gt)=>{const Cn=Tt.getPose(s.gripSpace,Gt);if(!Cn)return xe.parent=null,void(D&&(D.parent=null));this.setWorldMatrix(Cn.transform.matrix),xe.parent=this;let fn=null;try{fn=Tt.getPose(s.targetRaySpace,s.gripSpace)||Cn}catch{fn=Cn}xe.setMatrix(fn.transform.matrix),D&&(!1===h.renderOpaque&&"opaque"!==Tt.session.environmentBlendMode||!s.gripSpace?D.parent=null:(D.parent=this,s.hand&&(Tt.fillPoses(s.hand.values(),s.gripSpace,Ue),Tt.fillJointRadii(s.hand.values(),it),vt.forEach((xn,wn)=>{xn.setMatrix(xn.matrix);const Fn=it[wn];(0,d.set)(xn.scale,Fn,Fn,Fn),xn.dirtyMatrix()})),de.forEach(({valueNode:xn,parentNode:wn,minNode:Fn,maxNode:$n,visualResponse:pr})=>{"visibility"===pr.valueNodeProperty?xn.parent=pr.value?wn:null:"transform"===pr.valueNodeProperty&&((0,L.slerp)(xn.quaternion,Fn.quaternion,$n.quaternion,pr.value),(0,d.lerp)(xn.position,Fn.position,$n.position,pr.value),xn.dirtyMatrix())})))};this.update=(Tt,Gt)=>{Et(Tt,Gt),D&&f&&f.updateFromGamepad()};const Lt=this.destroy;this.destroy=()=>{Y=!0,xe.destroy(),Ne&&Ne.destroy(),D&&(D.destroy(),D=null),Lt()},Object.defineProperties(this,{pointer:{value:xe,writable:!1},inputSource:{value:s,writable:!1},distance:{get:()=>fe,set(Tt){const Gt=fe!==Tt;fe=re(Tt,-X,X),Ne&&Gt&&(Ne.scale[2]=fe,Ne.dirtyMatrix())}}})}}class Kh extends A{session;trackedInputs;inputs;get;update;destroy;constructor(s){super();const{sceneRoot:h,...f}=s,D=new Set,Y=new Map,fe=new Set;let de=null;const xe=Ue=>{for(const it of Ue){D.add(it);const vt={input:it};if("tracked-pointer"===it.targetRayMode&&it.gamepad){let Et=Y.get(it);Et||(Et=new $f(it,f),Y.set(it,Et)),fe.add(Et),h.add(Et),vt.visual=Et}this.emit("add",vt)}},Te=Ue=>{for(const it of Ue){const vt={input:it},Et=Y.get(it);Et&&(Y.delete(it),fe.delete(Et),Et.parent=null),this.emit("remove",vt)}};function Ne(Ue){xe(Ue.added),Te(Ue.removed)}this.get=Ue=>{const it=Y.get(Ue);return fe.has(it)?it:null},this.update=(Ue,it)=>{fe.forEach(vt=>vt.update(Ue,it))},this.destroy=()=>{this.session=null,Y.forEach(Ue=>Ue.destroy()),Y.clear(),fe.clear()},Object.defineProperties(this,{controllers:{value:fe,writable:!1},session:{get:()=>de,set(Ue){Ue!==de&&(de&&Te(Y.keys()),de=Ue,de&&(de.addEventListener("inputsourceschange",Ne),xe(de.inputSources)))}}})}}function zh(l,s){const h=[],f=(de,xe)=>{if(de){const Te=s[de.index];if(!Te)return void console.warn(`Texture '${de.index}' missing from GLTF`);h.push({texture:Te,applyTo:xe,blendMode:"over",blendFactor:1})}},D={name:l.name,textures:h};if(l.emissiveFactor){const[de,xe,Te]=l.emissiveFactor;D.emitColor=[de,xe,Te,1]}const{pbrMetallicRoughness:Y}=l;if(Y&&(D.type="metallic"),Y?.baseColorFactor){const[de,xe,Te,Ne]=Y.baseColorFactor;D.baseColor=[de,xe,Te],D.opacity=Ne}D.metallic=Y?.metallicFactor??1,D.roughness=Y?.roughnessFactor??1,f(l.emissiveTexture,"emit"),f(l.normalTexture,"normals"),f(l.occlusionTexture,"occlusion"),f(Y?.baseColorTexture,"baseColor");const fe=l.extensions?.KHR_materials_specular;return fe&&(fe.specularFactor<1&&console.warn(`GLTF specularFactor (${fe.specularFactor}) not supported`),fe.specularColorFactor&&(D.specularColor=fe.specularColorFactor),fe.specularTexture&&console.warn("GLTF specularTexture not supported"),f(fe.specularColorTexture,"specular")),new Ht(D)}function $h(l,s){const h={name:l.name},{pbrMetallicRoughness:f}=l;if(f?.baseColorFactor){const[D,Y,fe,de]=f.baseColorFactor;h.baseColor=[D,Y,fe],h.opacity=de}if(f?.baseColorTexture){const D=s[f.baseColorTexture.index];D?(h.baseColorMaps=[{texture:D,blendMode:"multiply",blendFactor:1}],"image/jpeg"===f.baseColorTexture.texture?.source.mimeType||D.source instanceof HTMLImageElement&&/\.jpg$/i.test(D.source.src)||(h.opacityMaps=[{texture:D,blendMode:"multiply",channel:"a"}])):console.warn(`Texture [${f.baseColorTexture.index}] missing from GLTF`)}return new on(h)}function Cd(l,s){const h={name:l.name},f=(fe,de,xe)=>{if(de){const Te=s[de.index];if(!Te)return void console.warn(`Texture '${de.index}' missing from GLTF`);de.texCoord>0&&console.warn(`Texture '${de.index}' unsupported multiple UVs`),de.extensions?.KHR_texture_transform&&console.warn(`Texture '${de.index}' unsupported KHR_texture_transform`);const Ne={texture:Te,blendFactor:1};xe&&Object.assign(Ne,xe),h[fe]=[Ne]}};l.emissiveFactor&&(h.emissive=l.emissiveFactor);const{pbrMetallicRoughness:D}=l;if(D?.baseColorFactor){const[fe,de,xe,Te]=D.baseColorFactor;h.baseColor=[fe,de,xe],h.opacity=Te}h.metallic=D?.metallicFactor??1,h.roughness=D?.roughnessFactor??1,l.extensions?.KHR_materials_ior&&(h.ior=l.extensions.KHR_materials_ior.ior),f("baseColorMaps",D?.baseColorTexture),f("opacityMaps",D?.baseColorTexture,{channel:"a"}),f("normalMaps",l.normalTexture,{blendMode:"over"}),f("emissiveMaps",l.emissiveTexture),f("occlusionMaps",l.occlusionTexture),f("metallicMaps",D?.metallicRoughnessTexture,{blendMode:"multiply",channel:"b"}),f("roughnessMaps",D?.metallicRoughnessTexture,{blendMode:"multiply",channel:"g"}),"BLEND"!==l.alphaMode&&"MASK"!==l.alphaMode||f("baseColorMaps",D?.baseColorTexture,{blendMode:"multiply",channel:"a"});const Y=l.extensions?.KHR_materials_specular;return Y&&(isNaN(Y.specularFactor)||(h.specularFactor=Y.specularFactor),Y.specularColorFactor&&(h.specularColor=Y.specularColorFactor),f("specularFactorMaps",Y.specularTexture,{blendMode:"multiply",channel:"a"}),f("specularColorMaps",Y.specularColorTexture,{blendMode:"multiply"})),new Hn(h)}class Wf{session;isGrabbable;destroy;constructor(s){const{renderer:h,engine:f,materialMode:D}=s,Y=new on({baseColor:[.6,.6,.7],opacity:.8}),fe=new on({baseColor:[.6,.6,.6]}),de=new Kh({sceneRoot:f.rootNode,makeMaterial:(Tt,Gt)=>"unlit"===D||Tt.unlit||Tt.extensions?.KHR_materials_unlit?$h(Tt,Gt):"physical"===D?Cd(Tt,Gt):zh(Tt,Gt),makeGeometry:(Tt,Gt)=>new mt(Tt,Gt),makeMeshNode:(Tt,Gt,Cn)=>new vn(Tt,Gt,{clippable:!1,...Cn}),lineMaterial:Y,handMaterial:fe,renderOpaque:!1}),xe=new Map,Te=new Map,Ne=new Set;let Ue=null;function it({frame:Tt}){const{xrRefSpace:Gt}=h;de?.update(Tt,Gt),Te.forEach(Cn=>Cn.update(Tt,Gt))}function vt(Tt){const Gt=f.rayCast(Tt.transform.matrix,{near:0}),Cn=Gt?.object,fn=Cn&&f.story.anatomySceneGraph.findAnatomyObject(Cn),xn=fn?.sceneNode||Cn;return!xn||Ne.has(xn)?null:{object:xn,distance:Gt.distance}}function Et(Tt){const Gt=de.get(Tt.inputSource),Cn=Gt&&Te.get(Gt);Cn&&Cn.grab()}function Lt(Tt){const Gt=de.get(Tt.inputSource),Cn=Gt&&Te.get(Gt);Cn&&Cn.release()}de.on("add",({visual:Tt})=>{if(!Tt)return;if("tracked-pointer"===Tt.inputSource.targetRayMode){const Cn=new Nh(vt,Tt);Cn.on("grab",({object:fn})=>Ne.add(fn)),Cn.on("release",({object:fn})=>Ne.delete(fn)),Te.set(Tt,Cn)}const Gt=new Fs(Tt);xe.set(Tt,Gt)}),de.on("remove",({visual:Tt})=>{if(!Tt)return;const Gt=Te.get(Tt);Gt&&(Te.delete(Tt),Gt.destroy());const Cn=xe.get(Tt);Cn&&(xe.delete(Tt),Cn.destroy())}),h.on("xrframe",it),this.isGrabbable=Tt=>{for(const[,Gt]of xe)if(Gt.has(Tt))return!1;return!0},this.destroy=()=>{h.off("xrframe",it),this.session=null,xe.forEach(Tt=>Tt.destroy()),xe.clear(),Te.forEach(Tt=>Tt.destroy()),Te.clear(),de.destroy()},Object.defineProperties(this,{session:{get:()=>Ue,set(Tt){Tt!==Ue&&(Ue&&(Ue.removeEventListener("selectstart",Et),Ue.removeEventListener("selectend",Lt)),Ue=Tt,de.session=Ue,Ue&&(Ue.addEventListener("selectstart",Et),Ue.addEventListener("selectend",Lt)))}}})}}function Wh(l,s,h,f="utf-8"){s=s||0,h=h||l.byteLength;const D=new Uint8Array(l,s,h);return new TextDecoder(f).decode(D)}const Xf=globalThis.fetch;function wd(){return Xh.apply(this,arguments)}function Xh(){return Xh=r(function*(...l){const s=yield Xf(...l);if(!s.ok&&!/^file:\/\//.test(s.url))throw new Error(s.statusText?`Fetch [code ${s.status}]: '${s.statusText}'`:`Fetch request failed: '${s.status||"unknown status"}'`);return s}),Xh.apply(this,arguments)}function Qh(l,s,h,f){return Yh.apply(this,arguments)}function Yh(){return Yh=r(function*(l,s,h,f){const D=h.split("/"),Y=p(l,"content/states",D[0],s,D[1],f);try{return(yield wd(Y)).json()}catch(fe){throw new Error(`Error loading asset library: ${fe.message}`)}}),Yh.apply(this,arguments)}const Qf={geometry:"geometry"};class Zh{getAsset;getAssetLibrary;fetch(s,h){var f=this;return r(function*(){const D=yield wd(s),Y=D.clone(),fe=yield Y.blob();return f.dataSize[h]=f.dataSize[h]+fe.size,D})()}destroy;dataSize={material:0,morph:0,geometry:0,transform:0,texture:0,"image-light":0,environment:0};constructor(s,h={}){const{timeout:f=12e3,sendInterval:D=5,reconnectInterval:Y=500,socketProtocol:fe="wss",makeSocket:de=$n=>new WebSocket($n)}=h,xe=new Map,Te=[],Ne=fe+"://"+s+"/assets/ws3",{dataSize:Ue}=this;let it=null,vt=1/0,Et=0,Lt=0,Tt=0;function Gt(){Date.now()-vt>=f&&wn("Asset server connection timed out")}function Cn(){vt=Date.now(),clearTimeout(Tt),Tt=setTimeout(Gt,f)}function fn(){return!(!it||it.readyState!==it.OPEN||(Te.length&&(it.send(JSON.stringify({assets:Te})),Te.length=0),Cn(),0))}function xn(){clearTimeout(Lt),Lt=0,it&&it.readyState!==it.CLOSING&&it.readyState!==it.CLOSED||(it=function(){const $n=de(Ne);return $n.binaryType="arraybuffer",$n.addEventListener("open",()=>{fn()}),$n.addEventListener("close",pr=>{it===$n&&(it=null,Te.length&&(Lt=setTimeout(xn,Y))),Gt()}),$n.addEventListener("message",pr=>{const hr=pr.data;let wr,di,Ai=0;if(Cn(),"string"==typeof hr){if("\u{1f37a}"===hr)return;const yi=JSON.parse(hr);di=yi.id,Ai=new Blob([hr]).size,wr=yi.error||!yi.asset?null:yi.asset}else{wr=hr;const yi=new DataView(wr),Zi=yi.getUint32(0,!0);let Di;const Fr=yi.getUint32(4,!0);Ai=hr.byteLength,Di=17===Zi?11*Uint32Array.BYTES_PER_ELEMENT:yi.getUint32(12,!0),di=Wh(wr,Di,Fr).trim()}const ei=xe.get(di);xe.delete(di),ei&&(Ue[ei.type]+=Ai,ei.resolve(wr))}),$n}())}function wn($n){xe.forEach((pr,hr)=>{if(pr){const{reject:wr}=pr;xe.delete(hr),wr(new Error($n))}})}function Fn(){clearTimeout(Et),Et=0,fn()||(Gt(),xn())}xn(),this.getAsset=($n,pr)=>{const hr=pr.split("/");if(2!==hr.length&&3!==hr.length)throw new Error("Incorrectly formattted asset id: "+pr);const Ai=hr[2];let ei=hr[0]+"/"+(Qf[$n]||$n+"s")+"/"+hr[1];Ai&&(ei+="/"+Ai);let yi=xe.get(ei);yi||(yi={...Xn(),type:$n},xe.set(ei,yi),Te.push(ei));const Zi=yi.promise;return Et||(Et=setTimeout(Fn,D)),Zi},this.getAssetLibrary=Qh,this.destroy=()=>{clearTimeout(Et),Et=0,clearTimeout(Lt),Lt=0,clearTimeout(Tt),Tt=0,wn("Asset server connection destroyed"),xe.clear(),Te.length=0,it&&it.readyState!==it.CLOSING&&it.readyState!==it.CLOSED&&it.close(),it=null}}}const am=(l,s)=>p(l,"assets",s.replaceAll(":",";").replaceAll("|","/")+".bda"),Yf=/\.[\w\d]+$/,cm={material:(l,s,h)=>r(function*(){const f=am(s,h);return(yield(yield fetch(f,{signal:l})).json()).asset})(),morph(l,s,h){const f=am(s,h);return fetch(f,{signal:l}).then(D=>D.arrayBuffer())},geometry:(l,s,h,f,D)=>{return(Y=de=>fetch(de,{signal:l}).then(xe=>xe.json()),fe=de=>fetch(de,{signal:l}).then(xe=>xe.arrayBuffer()),function(){var de=r(function*(xe,Te,Ne,Ue){Ue.geometry||(Ue.geometry={index:null,blocks:new Map});const{blocks:it}=Ue.geometry;let vt=Ue.geometry.index;if(!vt){const Fn=p(xe,"blocks/geometry/modules/models",Ne,"index.json");vt=Y(Fn),Ue.geometry.index=vt}const Et=yield vt,{block:Lt,offlen:Tt}=Et[Te],Gt=Ne+"/"+Lt;let Cn=it.get(Gt);if(!Cn){const Fn=p(xe,"blocks/geometry/modules/models",Ne,Lt);Cn=fe(Fn),it.set(Gt,Cn)}const fn=yield Cn,[xn,wn]=Tt;return fn.slice(xn,xn+wn)});return function(xe,Te,Ne,Ue){return de.apply(this,arguments)}}())(s,h,f,D);var Y,fe},transform:(l,s,h,f,D)=>r(function*(){if(!D.transform){const fe=p(s,"transforms/modules",f+".json");D.transform=fetch(fe,{signal:l}).then(de=>de.json())}return(yield D.transform)[h]?.asset})()};class lm{getAsset;getAssetLibrary;fetch(s){return wd(s)}destroy;moduleId;requiresFileExtensions=!1;constructor(s,h=""){this.moduleId=h;const f={},D=typeof AbortController>"u"?null:new bt;this.getAsset=Dt((fe,de)=>{const xe=cm[fe];if(!xe)throw new Error("BioDigitalFileServer: Unsupported type '$type'");let Te=null;D&&(Te=new AbortController,D.set(fe,de,Te));let Ne=xe(Te?.signal,s,de,this.moduleId,f);return D&&(Ne=Ne.then(Ue=>(D?.delete(fe,de),Ue))),Ne});const Y=Dt(Qh);this.getAssetLibrary=(fe,de,xe,Te)=>{return Y(fe,de,xe,this.requiresFileExtensions?Yf.test(Ne=Te)?Ne:Ne+".json":Te);var Ne},this.destroy=()=>{D&&(D.forEach(fe=>fe.abort()),D.clear())}}}const Jd=Math.PI/2,Zf=l=>!!(1&l.buttons),qh=l=>!!(6&l.buttons);class Jh{camera;target;minPolarAngle;maxPolarAngle;minAzimuthAngle;maxAzimuthAngle;minDistance;maxDistance;azimuthRate;polarRate;zoomRate;attach;detach;constructor(s,h=(0,d.create)()){this.camera=s,this.target=h,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minPolarAngle=-Jd,this.maxPolarAngle=Jd,this.minDistance=.1,this.maxDistance=1/0,this.azimuthRate=.005,this.polarRate=.01,this.zoomRate=.002;let f=null,D=-1,Y=!1,fe=!1,de=0,xe=0;function Te(Et){Y=Zf(Et),fe=!Y&&qh(Et)}const Ne=Et=>{!Et.isPrimary||D>=0||(Zf(Et)||qh(Et))&&(D=Et.pointerId,Te(Et),de=Et.pageX,xe=Et.pageY)},Ue=Et=>{if(Et.isPrimary&&D===Et.pointerId&&(Te(Et),Y)){const Lt=Et.pageX-de,Tt=Et.pageY-xe;de=Et.pageX,xe=Et.pageY,this.panZoom(this.azimuthRate*Lt,this.polarRate*Tt)}};function it(Et){Et.isPrimary&&D===Et.pointerId&&(Te(Et),Y||fe||(D=-1))}const vt=Et=>{this.panZoom(0,0,Et.deltaY*this.zoomRate)};this.attach=Et=>{f&&this.detach(),f=Et,Et.addEventListener("pointerdown",Ne),window.addEventListener("pointermove",Ue),window.addEventListener("pointerup",it),window.addEventListener("pointercancel",it),window.addEventListener("wheel",vt)},this.detach=()=>{f&&f.removeEventListener("pointerdown",Ne),window.removeEventListener("pointermove",Ue),window.removeEventListener("pointerup",it),window.removeEventListener("pointercancel",it),window.removeEventListener("wheel",vt)}}panZoom(s=0,h=0,f=0){const{camera:D,target:Y}=this,fe=R.get();if(D.parent){const Lt=R.get();D.updateWorldMatrix(),(0,F.getTranslation)(Lt,D.worldMatrix),(0,d.subtract)(fe,Lt,Y),R.release(Lt)}else(0,d.subtract)(fe,D.position,Y);const de=(0,d.length)(fe),xe=de?Math.asin(fe[1]/de):0,Te=Math.atan2(fe[2],fe[0]),Ne=this.minAzimuthAngle<=this.maxAzimuthAngle?this.minAzimuthAngle:this.minAzimuthAngle-Math.PI,Ue=this.minAzimuthAngle<=this.maxAzimuthAngle?this.maxAzimuthAngle:this.minAzimuthAngle+this.minAzimuthAngle-this.maxAzimuthAngle,it=re(de*(1+f),this.minDistance,this.maxDistance),vt=re(xe+h,this.minPolarAngle,this.maxPolarAngle),Et=re(Te+s,Ne,Ue);if(it!==de||vt!==xe||Et!==Te){const Lt=it?Math.sin(vt)*it:0,Tt=Lt?Math.cos(vt)*it:it,Gt=Tt?Math.cos(Et)*Tt:0,Cn=Tt?Math.sin(Et)*Tt:0;D.parent?(D.worldMatrix[12]=Gt+Y[0],D.worldMatrix[13]=Lt+Y[1],D.worldMatrix[14]=Cn+Y[2],D.setWorldMatrix(D.worldMatrix)):(fe[0]=Gt,fe[1]=Lt,fe[2]=Cn,(0,d.add)(D.position,fe,Y),D.dirtyMatrix())}D.lookAt(Y),R.release(fe)}update(){this.panZoom(0,0,0)}}let um=(()=>{class l{enabled;rootNode;parentNode;#e;#t=null;#n;#s;#a;#l;#r;#c;static creatorColor=[0,1,0];static warningColor=[1,1,0];constructor(h){this.rootNode=new Ce({scale:[ce,ce,ce],name:"BioDigitalEngine particle system debug view",rotationSource:"euler"}),this.parentNode=h.rootNode,this.#n=new bt,this.#i(),this.#d(),this.#o();let f=!1;Object.defineProperties(this,{enabled:{get:()=>f,set:D=>{this.rootNode.parent=D?this.parentNode:null,f=D}}}),this.enabled=!0}get size(){return this.#n.size}destroy(){this.enabled=!1,this.chapter=null,this.#s.destroy(),this.#a.destroy(),this.#l.destroy(),this.#r.destroy(),this.#c.destroy(),this.rootNode.destroy()}get chapter(){return this.#t}set chapter(h){this.#t!==h&&(this.rootNode.children.forEach(f=>f.destroy()),this.#t=h,this.#n.clear(),h?.particleSystemIds.forEach(f=>{const D=h.story.particleSystemDefs.get(f),Y=[];for(let fe=0;fe<D.creators.length;fe++){const de=D.creators[fe];if(void 0!==this.#e[de.type]){const xe=this.#e[de.type],Te=this.#a;let Ne;if("translate"in de?Ne={position:new Float32Array(de.translate),rotation:de.rotate,scale:de.scale}:"position"in de&&(Ne={position:new Float32Array(de.position)}),void 0!==Ne){const Ue=new vn(xe,Te,Ne);Y.push({psId:f,creatorId:de.id,meshNode:Ue})}}}Y.length>0&&(Y.at(-1).meshNode.material=this.#s);for(let fe=0;fe<Y.length;fe++){const{psId:de,creatorId:xe,meshNode:Te}=Y[fe];this.#n.set(de,xe,Te),this.rootNode.add(Te)}}))}update(){this.enabled&&this.#n.forEach((h,f,D)=>{const Y=this.#t.particleSystems.get(f),fe=Y.get(D,"translate")||Y.get(D,"position"),de=Y.get(D,"rotate"),xe=Y.get(D,"scale");fe&&(0,d.copy)(h.position,fe),de&&(0,d.copy)(h.rotation,de),xe&&(0,d.copy)(h.scale,xe),(fe||de||xe)&&h.dirtyMatrix()})}#i(){this.#s=new on({baseColor:l.creatorColor}),this.#a=new on({baseColor:l.warningColor})}#d(){const{arrays:h,bounds:f}=function(xe={}){const Te=xe.width??1,Ne=xe.height??1,Ue=xe.depth??1,it=new Float32Array(24),vt=Te/2,Et=Ne/2,Lt=Ue/2;it[0]=vt,it[1]=Et,it[2]=-Lt,it[3]=-vt,it[4]=Et,it[5]=-Lt,it[6]=-vt,it[7]=-Et,it[8]=-Lt,it[9]=vt,it[10]=-Et,it[11]=-Lt,it[12]=vt,it[13]=Et,it[14]=Lt,it[15]=-vt,it[16]=Et,it[17]=Lt,it[18]=-vt,it[19]=-Et,it[20]=Lt,it[21]=vt,it[22]=-Et,it[23]=Lt;const Tt={min:(0,d.fromValues)(-vt,-Et,-Lt),max:(0,d.fromValues)(vt,Et,Lt)};return{arrays:{position:it,indices:jt(8,[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])},bounds:Tt}}();this.#l=new mt(h,f),this.#l.topology=kt.lines;const{arrays:D,bounds:Y}=function(xe={}){const Te=xe.radius??1,Ne=xe.radialSegments??32,Ue=3*Ne,it=new Float32Array(3*Ue),vt=[],Et=2*Math.PI/Ne;let Lt=0,Tt=0,Gt=3*Ne;for(let fn=0;fn<Gt;fn+=3){const xn=fn+0,wn=fn+1,Fn=fn+2;Lt+=Et;const $n=Math.cos(Lt)*Te,pr=Math.sin(Lt)*Te,hr=0;it[xn]=$n,it[wn]=pr,it[Fn]=hr}Tt=0,Gt=Ne;for(let fn=Tt;fn<Gt;fn++)vt.push(fn,(fn+1)%Gt==0?Tt:(fn+1)%Gt);Lt=0,Tt=3*Ne,Gt=3*(Ne+Ne);for(let fn=Tt;fn<Gt;fn+=3){const xn=fn+0,wn=fn+1,Fn=fn+2;Lt+=Et;const $n=Math.cos(Lt)*Te,pr=0,hr=Math.sin(Lt)*Te;it[xn]=$n,it[wn]=pr,it[Fn]=hr}Tt=Ne,Gt=Ne+Ne;for(let fn=Tt;fn<Gt;fn++)vt.push(fn,(fn+1)%Gt==0?Tt:(fn+1)%Gt);Lt=0,Tt=3*(Ne+Ne),Gt=3*(Ne+Ne+Ne);for(let fn=Tt;fn<Gt;fn+=3){const xn=fn+0,wn=fn+1,Fn=fn+2;Lt+=Et;const $n=0,pr=Math.sin(Lt)*Te,hr=Math.cos(Lt)*Te;it[xn]=$n,it[wn]=pr,it[Fn]=hr}Tt=Ne+Ne,Gt=Ne+Ne+Ne;for(let fn=Tt;fn<Gt;fn++)vt.push(fn,(fn+1)%Gt==0?Tt:(fn+1)%Gt);const Cn={min:(0,d.fromValues)(-Te,-Te,-Te),max:(0,d.fromValues)(Te,Te,Te)};return{arrays:{position:it,indices:jt(Ue,vt)},bounds:Cn}}();this.#r=new mt(D,Y),this.#r.topology=kt.lines;const{arrays:fe,bounds:de}=function(xe={}){const Te=xe.radius??1,Ne=xe.height??1,Ue=xe.radialSegments??32,it=2*Ue+2,vt=new Float32Array(3*it),Et=[],Lt=2*Math.PI/Ue;let Tt=0,Gt=0,Cn=3*Ue;for(let wn=Gt;wn<Cn;wn+=3){const Fn=wn+0,$n=wn+1,pr=wn+2;Tt+=Lt;const hr=Math.cos(Tt)*Te,wr=Ne,di=Math.sin(Tt)*Te;vt[Fn]=hr,vt[$n]=wr,vt[pr]=di}Gt=0,Cn=Ue;for(let wn=Gt;wn<Cn;wn++)Et.push(wn,(wn+1)%Cn==0?Gt:(wn+1)%Cn);Tt=0,Gt=3*Ue,Cn=3*(Ue+Ue);for(let wn=Gt;wn<Cn;wn+=3){const Fn=wn+0,$n=wn+1,pr=wn+2;Tt+=Lt;const hr=Math.cos(Tt)*Te,wr=-Ne,di=Math.sin(Tt)*Te;vt[Fn]=hr,vt[$n]=wr,vt[pr]=di}Gt=Ue,Cn=Ue+Ue;for(let wn=Gt;wn<Cn;wn++)Et.push(wn,(wn+1)%Cn==0?Gt:(wn+1)%Cn);for(let wn=0;wn<Ue;wn+=4)Et.push(wn,wn+Ue);const fn=3*(Ue+Ue);vt[fn+0]=0,vt[fn+1]=Ne,vt[fn+2]=0,vt[fn+3]=0,vt[fn+4]=-Ne,vt[fn+5]=0;for(let wn=0;wn<Ue;wn+=4)Et.push(wn,it-2),Et.push(wn+Ue,it-1);const xn={min:(0,d.fromValues)(-Te,-Ne,-Te),max:(0,d.fromValues)(Te,Ne,Te)};return{arrays:{position:vt,indices:jt(it,Et)},bounds:xn}}();this.#c=new mt(fe,de),this.#c.topology=kt.lines}#o(){this.#e={PointPosition:this.#r,SpherePosition:this.#r,CylinderPosition:this.#c,CubePosition:this.#l}}}return l})();function gl(l,s=new Set){if(Array.isArray(l))l.forEach(h=>gl(h,s));else if(l?.buffer instanceof ArrayBuffer)s.add(l.buffer);else if(l&&"object"==typeof l)for(const h in l)Object.prototype.hasOwnProperty.call(l,h)&&gl(l[h],s);return s}function eh(l,s){self.onmessage=function(){var h=r(function*(f){const{requestId:D,options:Y}=f.data;try{let fe=l(Y);fe instanceof Promise&&(fe=yield fe),function(de,xe){const Te=s?s(xe):gl(xe);self.postMessage({requestId:de,resource:xe},Array.from(Te))}(D,fe)}catch(fe){!function(de,xe){const{message:Te,stack:Ne}=xe;self.postMessage({requestId:de,error:{message:Te,stack:Ne}})}(D,fe)}});return function(f){return h.apply(this,arguments)}}()}function dm(l,s){const h=s[0],f=s[4],D=s[8],Y=s[5],fe=s[9],de=s[6],xe=s[10];return l[1]=Math.asin(re(D,-1,1)),Math.abs(D)<.9999999?(l[0]=Math.atan2(-fe,xe),l[2]=Math.atan2(-f,h)):(l[0]=Math.atan2(de,Y),l[2]=0),l}function qf(l,s,h,f){s*=.5,f*=.5,h*=.5;const D=Math.sin(s),Y=Math.cos(s),fe=Math.sin(h),de=Math.cos(h),xe=Math.sin(f),Te=Math.cos(f);return l[0]=D*de*Te+Y*fe*xe,l[1]=Y*fe*Te-D*de*xe,l[2]=Y*de*xe+D*fe*Te,l[3]=Y*de*Te-D*fe*xe,l}class th extends A{enter;exit;session;lastSession;supported;presenting;sessionMode;constructor(s,h={optionalFeatures:["local-floor"]}){super();let f=!1,D=!1,Y=!1,fe=null,de=null;this.enter=()=>Promise.reject(new Error(`XR Session mode '${s}' Not Supported`)),this.exit=()=>{},this.destroy=()=>{Y=!0},Object.defineProperties(this,{sessionMode:{writable:!1,value:s},session:{get:()=>fe},lastSession:{get:()=>de},supported:{get:()=>f},presenting:{get:()=>D}});const xe=navigator?.xr;if(!xe||!("isSessionSupported"in xe))return void setTimeout(()=>this.emit("disable"),10);let Te=null;const Ne=()=>{Y||(f=!0,this.emit("enable"))},Ue=()=>{Y||(f=!1,this.emit("disable"))},it=()=>{fe&&fe.removeEventListener("end",it),fe=null,D=!1,this.emit("exit",de)},vt=Gt=>(fe=Gt,de=Gt,D=!0,fe.addEventListener("end",it),this.emit("enter",fe),fe),Et=()=>{xe.isSessionSupported(s).then(Gt=>{Y||(Gt?Ne():Ue())}).catch(Ue)},Lt=()=>{this.emit("devicechange"),Et()};this.enter=()=>fe?Te||Promise.resolve(fe):(Te=xe.requestSession(s,h).then(vt),Te),this.exit=()=>{Te=Promise.resolve(null),fe&&(fe.end(),fe=null)};const Tt=this.destroy;this.destroy=()=>{this.exit(),Y=!0,xe.removeEventListener("devicechange",Lt),Tt()},Et(),xe.addEventListener("devicechange",Lt)}}const yg="b9ee240c",hm="2024-12-03T15:37:01.000Z",nh="1.1.3";ln.exports=x})()},84288:ln=>{"use strict";var ye=String.prototype.replace,w=/%20/g;ln.exports={default:"RFC3986",formatters:{RFC1738:function(y){return ye.call(y,w,"+")},RFC3986:function(y){return String(y)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},69984:(ln,ye,w)=>{"use strict";var r=w(26413),y=w(67875),u=w(84288);ln.exports={formats:u,parse:y,stringify:r}},67875:(ln,ye,w)=>{"use strict";var r=w(57369),y=Object.prototype.hasOwnProperty,u=Array.isArray,v={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},d=function(M,A){return M&&"string"==typeof M&&A.comma&&M.indexOf(",")>-1?M.split(","):M},O=function(A,ue,z,X){if(A){var re=z.allowDots?A.replace(/\.([^.[]+)/g,"[$1]"):A,Re=/(\[[^[\]]*])/g,oe=z.depth>0&&/(\[[^[\]]*])/.exec(re),Ce=oe?re.slice(0,oe.index):re,K=[];if(Ce){if(!z.plainObjects&&y.call(Object.prototype,Ce)&&!z.allowPrototypes)return;K.push(Ce)}for(var R=0;z.depth>0&&null!==(oe=Re.exec(re))&&R<z.depth;){if(R+=1,!z.plainObjects&&y.call(Object.prototype,oe[1].slice(1,-1))&&!z.allowPrototypes)return;K.push(oe[1])}if(oe){if(!0===z.strictDepth)throw new RangeError("Input depth exceeded depth option of "+z.depth+" and strictDepth is true");K.push("["+re.slice(oe.index)+"]")}return function(M,A,ue,z){for(var X=z?A:d(A,ue),re=M.length-1;re>=0;--re){var Z,Re=M[re];if("[]"===Re&&ue.parseArrays)Z=ue.allowEmptyArrays&&(""===X||ue.strictNullHandling&&null===X)?[]:[].concat(X);else{Z=ue.plainObjects?{__proto__:null}:{};var oe="["===Re.charAt(0)&&"]"===Re.charAt(Re.length-1)?Re.slice(1,-1):Re,Ce=ue.decodeDotInKeys?oe.replace(/%2E/g,"."):oe,K=parseInt(Ce,10);ue.parseArrays||""!==Ce?!isNaN(K)&&Re!==Ce&&String(K)===Ce&&K>=0&&ue.parseArrays&&K<=ue.arrayLimit?(Z=[])[K]=X:"__proto__"!==Ce&&(Z[Ce]=X):Z={0:X}}X=Z}return X}(K,ue,z,X)}};ln.exports=function(M,A){var ue=function(A){if(!A)return v;if(typeof A.allowEmptyArrays<"u"&&"boolean"!=typeof A.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.decodeDotInKeys<"u"&&"boolean"!=typeof A.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==A.decoder&&typeof A.decoder<"u"&&"function"!=typeof A.decoder)throw new TypeError("Decoder has to be a function.");if(typeof A.charset<"u"&&"utf-8"!==A.charset&&"iso-8859-1"!==A.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ue=typeof A.charset>"u"?v.charset:A.charset,z=typeof A.duplicates>"u"?v.duplicates:A.duplicates;if("combine"!==z&&"first"!==z&&"last"!==z)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof A.allowDots>"u"?!0===A.decodeDotInKeys||v.allowDots:!!A.allowDots,allowEmptyArrays:"boolean"==typeof A.allowEmptyArrays?!!A.allowEmptyArrays:v.allowEmptyArrays,allowPrototypes:"boolean"==typeof A.allowPrototypes?A.allowPrototypes:v.allowPrototypes,allowSparse:"boolean"==typeof A.allowSparse?A.allowSparse:v.allowSparse,arrayLimit:"number"==typeof A.arrayLimit?A.arrayLimit:v.arrayLimit,charset:ue,charsetSentinel:"boolean"==typeof A.charsetSentinel?A.charsetSentinel:v.charsetSentinel,comma:"boolean"==typeof A.comma?A.comma:v.comma,decodeDotInKeys:"boolean"==typeof A.decodeDotInKeys?A.decodeDotInKeys:v.decodeDotInKeys,decoder:"function"==typeof A.decoder?A.decoder:v.decoder,delimiter:"string"==typeof A.delimiter||r.isRegExp(A.delimiter)?A.delimiter:v.delimiter,depth:"number"==typeof A.depth||!1===A.depth?+A.depth:v.depth,duplicates:z,ignoreQueryPrefix:!0===A.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof A.interpretNumericEntities?A.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:"number"==typeof A.parameterLimit?A.parameterLimit:v.parameterLimit,parseArrays:!1!==A.parseArrays,plainObjects:"boolean"==typeof A.plainObjects?A.plainObjects:v.plainObjects,strictDepth:"boolean"==typeof A.strictDepth?!!A.strictDepth:v.strictDepth,strictNullHandling:"boolean"==typeof A.strictNullHandling?A.strictNullHandling:v.strictNullHandling}}(A);if(""===M||null===M||typeof M>"u")return ue.plainObjects?{__proto__:null}:{};for(var z="string"==typeof M?function(A,ue){var oe,z={__proto__:null},X=ue.ignoreQueryPrefix?A.replace(/^\?/,""):A,Z=(X=X.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(ue.delimiter,ue.parameterLimit===1/0?void 0:ue.parameterLimit),Re=-1,Ce=ue.charset;if(ue.charsetSentinel)for(oe=0;oe<Z.length;++oe)0===Z[oe].indexOf("utf8=")&&("utf8=%E2%9C%93"===Z[oe]?Ce="utf-8":"utf8=%26%2310003%3B"===Z[oe]&&(Ce="iso-8859-1"),Re=oe,oe=Z.length);for(oe=0;oe<Z.length;++oe)if(oe!==Re){var $,Fe,K=Z[oe],R=K.indexOf("]="),ce=-1===R?K.indexOf("="):R+1;-1===ce?($=ue.decoder(K,v.decoder,Ce,"key"),Fe=ue.strictNullHandling?null:""):($=ue.decoder(K.slice(0,ce),v.decoder,Ce,"key"),Fe=r.maybeMap(d(K.slice(ce+1),ue),function(Ve){return ue.decoder(Ve,v.decoder,Ce,"value")})),Fe&&ue.interpretNumericEntities&&"iso-8859-1"===Ce&&(Fe=String(Fe).replace(/&#(\d+);/g,function(A,ue){return String.fromCharCode(parseInt(ue,10))})),K.indexOf("[]=")>-1&&(Fe=u(Fe)?[Fe]:Fe);var je=y.call(z,$);je&&"combine"===ue.duplicates?z[$]=r.combine(z[$],Fe):(!je||"last"===ue.duplicates)&&(z[$]=Fe)}return z}(M,ue):M,X=ue.plainObjects?{__proto__:null}:{},re=Object.keys(z),Z=0;Z<re.length;++Z){var Re=re[Z],oe=O(Re,z[Re],ue,"string"==typeof M);X=r.merge(X,oe,ue)}return!0===ue.allowSparse?X:r.compact(X)}},26413:(ln,ye,w)=>{"use strict";var r=w(68241),y=w(57369),u=w(84288),v=Object.prototype.hasOwnProperty,x={brackets:function(X){return X+"[]"},comma:"comma",indices:function(X,re){return X+"["+re+"]"},repeat:function(X){return X}},d=Array.isArray,L=Array.prototype.push,F=function(z,X){L.apply(z,d(X)?X:[X])},S=Date.prototype.toISOString,U=u.default,O={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:y.encode,encodeValuesOnly:!1,filter:void 0,format:U,formatter:u.formatters[U],indices:!1,serializeDate:function(X){return S.call(X)},skipNulls:!1,strictNullHandling:!1},M={},A=function z(X,re,Z,Re,oe,Ce,K,R,ce,$,Fe,je,Ve,lt,pt,St,Rn,G){for(var ee=X,De=G,Ge=0,Ze=!1;void 0!==(De=De.get(M))&&!Ze;){var ut=De.get(X);if(Ge+=1,typeof ut<"u"){if(ut===Ge)throw new RangeError("Cyclic object value");Ze=!0}typeof De.get(M)>"u"&&(Ge=0)}if("function"==typeof $?ee=$(re,ee):ee instanceof Date?ee=Ve(ee):"comma"===Z&&d(ee)&&(ee=y.maybeMap(ee,function(ne){return ne instanceof Date?Ve(ne):ne})),null===ee){if(Ce)return ce&&!St?ce(re,O.encoder,Rn,"key",lt):re;ee=""}if(function(X){return"string"==typeof X||"number"==typeof X||"boolean"==typeof X||"symbol"==typeof X||"bigint"==typeof X}(ee)||y.isBuffer(ee))return ce?[pt(St?re:ce(re,O.encoder,Rn,"key",lt))+"="+pt(ce(ee,O.encoder,Rn,"value",lt))]:[pt(re)+"="+pt(String(ee))];var Le,Dt=[];if(typeof ee>"u")return Dt;if("comma"===Z&&d(ee))St&&ce&&(ee=y.maybeMap(ee,ce)),Le=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(d($))Le=$;else{var Ae=Object.keys(ee);Le=Fe?Ae.sort(Fe):Ae}var se=R?String(re).replace(/\./g,"%2E"):String(re),Me=Re&&d(ee)&&1===ee.length?se+"[]":se;if(oe&&d(ee)&&0===ee.length)return Me+"[]";for(var Ee=0;Ee<Le.length;++Ee){var C=Le[Ee],T="object"==typeof C&&C&&typeof C.value<"u"?C.value:ee[C];if(!K||null!==T){var J=je&&R?String(C).replace(/\./g,"%2E"):String(C),W=d(ee)?"function"==typeof Z?Z(Me,J):Me:Me+(je?"."+J:"["+J+"]");G.set(X,Ge);var ve=r();ve.set(M,G),F(Dt,z(T,W,Z,Re,oe,Ce,K,R,"comma"===Z&&St&&d(ee)?null:ce,$,Fe,je,Ve,lt,pt,St,Rn,ve))}}return Dt};ln.exports=function(z,X){var Re,re=z,Z=function(X){if(!X)return O;if(typeof X.allowEmptyArrays<"u"&&"boolean"!=typeof X.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof X.encodeDotInKeys<"u"&&"boolean"!=typeof X.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==X.encoder&&typeof X.encoder<"u"&&"function"!=typeof X.encoder)throw new TypeError("Encoder has to be a function.");var re=X.charset||O.charset;if(typeof X.charset<"u"&&"utf-8"!==X.charset&&"iso-8859-1"!==X.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Z=u.default;if(typeof X.format<"u"){if(!v.call(u.formatters,X.format))throw new TypeError("Unknown format option provided.");Z=X.format}var Ce,Re=u.formatters[Z],oe=O.filter;if(("function"==typeof X.filter||d(X.filter))&&(oe=X.filter),Ce=X.arrayFormat in x?X.arrayFormat:"indices"in X?X.indices?"indices":"repeat":O.arrayFormat,"commaRoundTrip"in X&&"boolean"!=typeof X.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof X.addQueryPrefix?X.addQueryPrefix:O.addQueryPrefix,allowDots:typeof X.allowDots>"u"?!0===X.encodeDotInKeys||O.allowDots:!!X.allowDots,allowEmptyArrays:"boolean"==typeof X.allowEmptyArrays?!!X.allowEmptyArrays:O.allowEmptyArrays,arrayFormat:Ce,charset:re,charsetSentinel:"boolean"==typeof X.charsetSentinel?X.charsetSentinel:O.charsetSentinel,commaRoundTrip:!!X.commaRoundTrip,delimiter:typeof X.delimiter>"u"?O.delimiter:X.delimiter,encode:"boolean"==typeof X.encode?X.encode:O.encode,encodeDotInKeys:"boolean"==typeof X.encodeDotInKeys?X.encodeDotInKeys:O.encodeDotInKeys,encoder:"function"==typeof X.encoder?X.encoder:O.encoder,encodeValuesOnly:"boolean"==typeof X.encodeValuesOnly?X.encodeValuesOnly:O.encodeValuesOnly,filter:oe,format:Z,formatter:Re,serializeDate:"function"==typeof X.serializeDate?X.serializeDate:O.serializeDate,skipNulls:"boolean"==typeof X.skipNulls?X.skipNulls:O.skipNulls,sort:"function"==typeof X.sort?X.sort:null,strictNullHandling:"boolean"==typeof X.strictNullHandling?X.strictNullHandling:O.strictNullHandling}}(X);"function"==typeof Z.filter?re=(0,Z.filter)("",re):d(Z.filter)&&(Re=Z.filter);var Ce=[];if("object"!=typeof re||null===re)return"";var K=x[Z.arrayFormat],R="comma"===K&&Z.commaRoundTrip;Re||(Re=Object.keys(re)),Z.sort&&Re.sort(Z.sort);for(var ce=r(),$=0;$<Re.length;++$){var Fe=Re[$],je=re[Fe];Z.skipNulls&&null===je||F(Ce,A(je,Fe,K,R,Z.allowEmptyArrays,Z.strictNullHandling,Z.skipNulls,Z.encodeDotInKeys,Z.encode?Z.encoder:null,Z.filter,Z.sort,Z.allowDots,Z.serializeDate,Z.format,Z.formatter,Z.encodeValuesOnly,Z.charset,ce))}var Ve=Ce.join(Z.delimiter),lt=!0===Z.addQueryPrefix?"?":"";return Z.charsetSentinel&&(lt+="iso-8859-1"===Z.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Ve.length>0?lt+Ve:""}},57369:(ln,ye,w)=>{"use strict";var r=w(84288),y=Object.prototype.hasOwnProperty,u=Array.isArray,v=function(){for(var X=[],re=0;re<256;++re)X.push("%"+((re<16?"0":"")+re.toString(16)).toUpperCase());return X}(),d=function(re,Z){for(var Re=Z&&Z.plainObjects?{__proto__:null}:{},oe=0;oe<re.length;++oe)typeof re[oe]<"u"&&(Re[oe]=re[oe]);return Re},U=1024;ln.exports={arrayToObject:d,assign:function(re,Z){return Object.keys(Z).reduce(function(Re,oe){return Re[oe]=Z[oe],Re},re)},combine:function(re,Z){return[].concat(re,Z)},compact:function(re){for(var Z=[{obj:{o:re},prop:"o"}],Re=[],oe=0;oe<Z.length;++oe)for(var Ce=Z[oe],K=Ce.obj[Ce.prop],R=Object.keys(K),ce=0;ce<R.length;++ce){var $=R[ce],Fe=K[$];"object"==typeof Fe&&null!==Fe&&-1===Re.indexOf(Fe)&&(Z.push({obj:K,prop:$}),Re.push(Fe))}return function(re){for(;re.length>1;){var Z=re.pop(),Re=Z.obj[Z.prop];if(u(Re)){for(var oe=[],Ce=0;Ce<Re.length;++Ce)typeof Re[Ce]<"u"&&oe.push(Re[Ce]);Z.obj[Z.prop]=oe}}}(Z),re},decode:function(X,re,Z){var Re=X.replace(/\+/g," ");if("iso-8859-1"===Z)return Re.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Re)}catch{return Re}},encode:function(re,Z,Re,oe,Ce){if(0===re.length)return re;var K=re;if("symbol"==typeof re?K=Symbol.prototype.toString.call(re):"string"!=typeof re&&(K=String(re)),"iso-8859-1"===Re)return escape(K).replace(/%u[0-9a-f]{4}/gi,function(lt){return"%26%23"+parseInt(lt.slice(2),16)+"%3B"});for(var R="",ce=0;ce<K.length;ce+=U){for(var $=K.length>=U?K.slice(ce,ce+U):K,Fe=[],je=0;je<$.length;++je){var Ve=$.charCodeAt(je);45===Ve||46===Ve||95===Ve||126===Ve||Ve>=48&&Ve<=57||Ve>=65&&Ve<=90||Ve>=97&&Ve<=122||Ce===r.RFC1738&&(40===Ve||41===Ve)?Fe[Fe.length]=$.charAt(je):Ve<128?Fe[Fe.length]=v[Ve]:Ve<2048?Fe[Fe.length]=v[192|Ve>>6]+v[128|63&Ve]:Ve<55296||Ve>=57344?Fe[Fe.length]=v[224|Ve>>12]+v[128|Ve>>6&63]+v[128|63&Ve]:(Ve=65536+((1023&Ve)<<10|1023&$.charCodeAt(je+=1)),Fe[Fe.length]=v[240|Ve>>18]+v[128|Ve>>12&63]+v[128|Ve>>6&63]+v[128|63&Ve])}R+=Fe.join("")}return R},isBuffer:function(re){return!(!re||"object"!=typeof re||!(re.constructor&&re.constructor.isBuffer&&re.constructor.isBuffer(re)))},isRegExp:function(re){return"[object RegExp]"===Object.prototype.toString.call(re)},maybeMap:function(re,Z){if(u(re)){for(var Re=[],oe=0;oe<re.length;oe+=1)Re.push(Z(re[oe]));return Re}return Z(re)},merge:function X(re,Z,Re){if(!Z)return re;if("object"!=typeof Z&&"function"!=typeof Z){if(u(re))re.push(Z);else{if(!re||"object"!=typeof re)return[re,Z];(Re&&(Re.plainObjects||Re.allowPrototypes)||!y.call(Object.prototype,Z))&&(re[Z]=!0)}return re}if(!re||"object"!=typeof re)return[re].concat(Z);var oe=re;return u(re)&&!u(Z)&&(oe=d(re,Re)),u(re)&&u(Z)?(Z.forEach(function(Ce,K){if(y.call(re,K)){var R=re[K];R&&"object"==typeof R&&Ce&&"object"==typeof Ce?re[K]=X(R,Ce,Re):re.push(Ce)}else re[K]=Ce}),re):Object.keys(Z).reduce(function(Ce,K){var R=Z[K];return Ce[K]=y.call(Ce,K)?X(Ce[K],R,Re):R,Ce},oe)}}},68023:(ln,ye,w)=>{"use strict";function r(x,d,L,F,S){y(x,d,L||0,F||x.length-1,S||v)}function y(x,d,L,F,S){for(;F>L;){if(F-L>600){var U=F-L+1,O=d-L+1,b=Math.log(U),M=.5*Math.exp(2*b/3),A=.5*Math.sqrt(b*M*(U-M)/U)*(O-U/2<0?-1:1);y(x,d,Math.max(L,Math.floor(d-O*M/U+A)),Math.min(F,Math.floor(d+(U-O)*M/U+A)),S)}var X=x[d],re=L,Z=F;for(u(x,L,d),S(x[F],X)>0&&u(x,L,F);re<Z;){for(u(x,re,Z),re++,Z--;S(x[re],X)<0;)re++;for(;S(x[Z],X)>0;)Z--}0===S(x[L],X)?u(x,L,Z):u(x,++Z,F),Z<=d&&(L=Z+1),d<=Z&&(F=Z-1)}}function u(x,d,L){var F=x[d];x[d]=x[L],x[L]=F}function v(x,d){return x<d?-1:x>d?1:0}w.r(ye),w.d(ye,{default:()=>r})},64090:(ln,ye,w)=>{ln.exports=w(23420)},23420:(ln,ye,w)=>{var r=w(12418);ye.operation=function(y){var u=ye.timeouts(y);return new r(u,{forever:y&&(y.forever||y.retries===1/0),unref:y&&y.unref,maxRetryTime:y&&y.maxRetryTime})},ye.timeouts=function(y){if(y instanceof Array)return[].concat(y);var u={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var v in y)u[v]=y[v];if(u.minTimeout>u.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var x=[],d=0;d<u.retries;d++)x.push(this.createTimeout(d,u));return y&&y.forever&&!x.length&&x.push(this.createTimeout(d,u)),x.sort(function(L,F){return L-F}),x},ye.createTimeout=function(y,u){var v=u.randomize?Math.random()+1:1,x=Math.round(v*Math.max(u.minTimeout,1)*Math.pow(u.factor,y));return Math.min(x,u.maxTimeout)},ye.wrap=function(y,u,v){if(u instanceof Array&&(v=u,u=null),!v)for(var x in v=[],y)"function"==typeof y[x]&&v.push(x);for(var d=0;d<v.length;d++){var L=v[d];y[L]=function(U){var O=ye.operation(u),b=Array.prototype.slice.call(arguments,1),M=b.pop();b.push(function(A){O.retry(A)||(A&&(arguments[0]=O.mainError()),M.apply(this,arguments))}),O.attempt(function(){U.apply(y,b)})}.bind(y,y[L]),y[L].options=u}}},12418:ln=>{function ye(w,r){"boolean"==typeof r&&(r={forever:r}),this._originalTimeouts=JSON.parse(JSON.stringify(w)),this._timeouts=w,this._options=r||{},this._maxRetryTime=r&&r.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}ln.exports=ye,ye.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},ye.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},ye.prototype.retry=function(w){if(this._timeout&&clearTimeout(this._timeout),!w)return!1;var r=(new Date).getTime();if(w&&r-this._operationStart>=this._maxRetryTime)return this._errors.push(w),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(w);var y=this._timeouts.shift();if(void 0===y){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),y=this._cachedTimeouts.slice(-1)}var u=this;return this._timer=setTimeout(function(){u._attempts++,u._operationTimeoutCb&&(u._timeout=setTimeout(function(){u._operationTimeoutCb(u._attempts)},u._operationTimeout),u._options.unref&&u._timeout.unref()),u._fn(u._attempts)},y),this._options.unref&&this._timer.unref(),!0},ye.prototype.attempt=function(w,r){this._fn=w,r&&(r.timeout&&(this._operationTimeout=r.timeout),r.cb&&(this._operationTimeoutCb=r.cb));var y=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){y._operationTimeoutCb()},y._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},ye.prototype.try=function(w){console.log("Using RetryOperation.try() is deprecated"),this.attempt(w)},ye.prototype.start=function(w){console.log("Using RetryOperation.start() is deprecated"),this.attempt(w)},ye.prototype.start=ye.prototype.try,ye.prototype.errors=function(){return this._errors},ye.prototype.attempts=function(){return this._attempts},ye.prototype.mainError=function(){if(0===this._errors.length)return null;for(var w={},r=null,y=0,u=0;u<this._errors.length;u++){var v=this._errors[u],x=v.message,d=(w[x]||0)+1;w[x]=d,d>=y&&(r=v,y=d)}return r}},77015:function(ln){var w;w=()=>{return ye={276:function(){!function(r){"use strict";r.console||(r.console={});for(var y,u,v=r.console,x=function(){},d=["memory"],L="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");y=d.pop();)v[y]||(v[y]={});for(;u=L.pop();)v[u]||(v[u]=x)}(typeof window>"u"?this:window)},180:function(r,y,u){var v,x,d;!function(){"use strict";x=[u(124)],void 0===(d="function"==typeof(v=function(S){var U=/(^|@)\S+:\d+/,O=/^\s*at .*(\S+:\d+|\(native\))/m,b=/^(eval@)?(\[native code])?$/;return{parse:function(M){if(void 0!==M.stacktrace||void 0!==M["opera#sourceloc"])return this.parseOpera(M);if(M.stack&&M.stack.match(O))return this.parseV8OrIE(M);if(M.stack)return this.parseFFOrSafari(M);throw new Error("Cannot parse given Error object")},extractLocation:function(M){if(-1===M.indexOf(":"))return[M];var A=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(M.replace(/[()]/g,""));return[A[1],A[2]||void 0,A[3]||void 0]},parseV8OrIE:function(M){return M.stack.split("\n").filter(function(A){return!!A.match(O)},this).map(function(A){A.indexOf("(eval ")>-1&&(A=A.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var ue=A.replace(/^\s+/,"").replace(/\(eval code/g,"("),z=ue.match(/ (\((.+):(\d+):(\d+)\)$)/),X=(ue=z?ue.replace(z[0],""):ue).split(/\s+/).slice(1),re=this.extractLocation(z?z[1]:X.pop()),Z=X.join(" ")||void 0,Re=["eval","<anonymous>"].indexOf(re[0])>-1?void 0:re[0];return new S({functionName:Z,fileName:Re,lineNumber:re[1],columnNumber:re[2],source:A})},this)},parseFFOrSafari:function(M){return M.stack.split("\n").filter(function(A){return!A.match(b)},this).map(function(A){if(A.indexOf(" > eval")>-1&&(A=A.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===A.indexOf("@")&&-1===A.indexOf(":"))return new S({functionName:A});var ue=/((.*".+"[^@]*)?[^@]*)(?:@)/,z=A.match(ue),X=z&&z[1]?z[1]:void 0,re=this.extractLocation(A.replace(ue,""));return new S({functionName:X,fileName:re[0],lineNumber:re[1],columnNumber:re[2],source:A})},this)},parseOpera:function(M){return!M.stacktrace||M.message.indexOf("\n")>-1&&M.message.split("\n").length>M.stacktrace.split("\n").length?this.parseOpera9(M):M.stack?this.parseOpera11(M):this.parseOpera10(M)},parseOpera9:function(M){for(var A=/Line (\d+).*script (?:in )?(\S+)/i,ue=M.message.split("\n"),z=[],X=2,re=ue.length;X<re;X+=2){var Z=A.exec(ue[X]);Z&&z.push(new S({fileName:Z[2],lineNumber:Z[1],source:ue[X]}))}return z},parseOpera10:function(M){for(var A=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,ue=M.stacktrace.split("\n"),z=[],X=0,re=ue.length;X<re;X+=2){var Z=A.exec(ue[X]);Z&&z.push(new S({functionName:Z[3]||void 0,fileName:Z[2],lineNumber:Z[1],source:ue[X]}))}return z},parseOpera11:function(M){return M.stack.split("\n").filter(function(A){return!!A.match(U)&&!A.match(/^Error created at/)},this).map(function(A){var ue,z=A.split("@"),X=this.extractLocation(z.pop()),re=z.shift()||"",Z=re.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;re.match(/\(([^)]*)\)/)&&(ue=re.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var Re=void 0===ue||"[arguments not available]"===ue?void 0:ue.split(",");return new S({functionName:Z,args:Re,fileName:X[0],lineNumber:X[1],columnNumber:X[2],source:A})},this)}}})?v.apply(y,x):v)||(r.exports=d)}()},124:function(r,y){var u,v,x;!function(){"use strict";v=[],void 0===(x="function"==typeof(u=function(){function F(oe){return!isNaN(parseFloat(oe))&&isFinite(oe)}function S(oe){return oe.charAt(0).toUpperCase()+oe.substring(1)}function U(oe){return function(){return this[oe]}}var O=["isConstructor","isEval","isNative","isToplevel"],b=["columnNumber","lineNumber"],M=["fileName","functionName","source"],z=O.concat(b,M,["args"],["evalOrigin"]);function X(oe){if(oe)for(var Ce=0;Ce<z.length;Ce++)void 0!==oe[z[Ce]]&&this["set"+S(z[Ce])](oe[z[Ce]])}X.prototype={getArgs:function(){return this.args},setArgs:function(oe){if("[object Array]"!==Object.prototype.toString.call(oe))throw new TypeError("Args must be an Array");this.args=oe},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(oe){if(oe instanceof X)this.evalOrigin=oe;else{if(!(oe instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new X(oe)}},toString:function(){var oe=this.getFileName()||"",Ce=this.getLineNumber()||"",K=this.getColumnNumber()||"",R=this.getFunctionName()||"";return this.getIsEval()?oe?"[eval] ("+oe+":"+Ce+":"+K+")":"[eval]:"+Ce+":"+K:R?R+" ("+oe+":"+Ce+":"+K+")":oe+":"+Ce+":"+K}},X.fromString=function(oe){var Ce=oe.indexOf("("),K=oe.lastIndexOf(")"),R=oe.substring(0,Ce),ce=oe.substring(Ce+1,K).split(","),$=oe.substring(K+1);if(0===$.indexOf("@"))var Fe=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec($,""),je=Fe[1],Ve=Fe[2],lt=Fe[3];return new X({functionName:R,args:ce||void 0,fileName:je,lineNumber:Ve||void 0,columnNumber:lt||void 0})};for(var re=0;re<O.length;re++)X.prototype["get"+S(O[re])]=U(O[re]),X.prototype["set"+S(O[re])]=function(oe){return function(Ce){this[oe]=!!Ce}}(O[re]);for(var Z=0;Z<b.length;Z++)X.prototype["get"+S(b[Z])]=U(b[Z]),X.prototype["set"+S(b[Z])]=function(oe){return function(Ce){if(!F(Ce))throw new TypeError(oe+" must be a Number");this[oe]=Number(Ce)}}(b[Z]);for(var Re=0;Re<M.length;Re++)X.prototype["get"+S(M[Re])]=U(M[Re]),X.prototype["set"+S(M[Re])]=function(oe){return function(Ce){this[oe]=String(Ce)}}(M[Re]);return X})?u.apply(y,v):u)||(r.exports=x)}()},815:(r,y,u)=>{"use strict";var v=u(702),x=u(817),d={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function L(S,U,O,b,M){this.options=S,this.transport=U,this.url=O,this.truncation=b,this.jsonBackup=M,this.accessToken=S.accessToken,this.transportOptions=F(S,O)}function F(S,U){return x.getTransportFromOptions(S,d,U)}L.prototype.postItem=function(S,U){var O=x.transportOptions(this.transportOptions,"POST"),b=x.buildPayload(this.accessToken,S,this.jsonBackup),M=this;setTimeout(function(){M.transport.post(M.accessToken,O,b,U)},0)},L.prototype.buildJsonPayload=function(S,U){var O,b=x.buildPayload(this.accessToken,S,this.jsonBackup);return(O=this.truncation?this.truncation.truncate(b):v.stringify(b)).error?(U&&U(O.error),null):O.value},L.prototype.postJsonPayload=function(S,U){var O=x.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,O,S,U)},L.prototype.configure=function(S){return this.options=v.merge(this.oldOptions,S),this.transportOptions=F(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},r.exports=L},817:(r,y,u)=>{"use strict";var v=u(702);r.exports={buildPayload:function(x,d,L){if(!v.isType(d.context,"string")){var F=v.stringify(d.context,L);d.context=F.error?"Error: could not serialize 'context'":F.value||"",d.context.length>255&&(d.context=d.context.substr(0,255))}return{access_token:x,data:d}},getTransportFromOptions:function(x,d,L){var re,Z,F=d.hostname,S=d.protocol,U=d.port,O=d.path,b=d.search,M=x.timeout,A=(re=typeof window<"u"&&window||typeof self<"u"&&self,Z=x.defaultTransport||"xhr",void 0===re.fetch&&(Z="xhr"),void 0===re.XMLHttpRequest&&(Z="fetch"),Z),ue=x.proxy;if(x.endpoint){var z=L.parse(x.endpoint);F=z.hostname,S=z.protocol,U=z.port,O=z.pathname,b=z.search}return{timeout:M,hostname:F,protocol:S,port:U,path:O,search:b,proxy:ue,transport:A}},transportOptions:function(x,d){var L=x.protocol||"https:",F=x.port||("http:"===L?80:"https:"===L?443:void 0),S=x.hostname,U=x.path;return x.search&&(U+=x.search),x.proxy&&(U=L+"//"+S+U,S=x.proxy.host||x.proxy.hostname,F=x.proxy.port,L=x.proxy.protocol||L),{timeout:x.timeout,protocol:L,hostname:S,path:U,port:F,method:d,transport:x.transport}},appendPathToPath:function(x,d){var L=/\/$/.test(x),F=/^\//.test(d);return L&&F?d=d.substring(1):L||F||(d="/"+d),x+d}}},409:(r,y,u)=>{"use strict";var v=u(343),x=typeof window<"u"&&window._rollbarConfig,d=x&&x.globalAlias||"Rollbar",L=typeof window<"u"&&window[d]&&"function"==typeof window[d].shimId&&void 0!==window[d].shimId();if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!L&&x){var F=new v(x);window[d]=F}else typeof window<"u"?(window.rollbar=v,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=v,self._rollbarDidLoad=!0);r.exports=v},403:(r,y,u)=>{"use strict";var v=u(562),x=u(702),d=u(815),L=u(802),F=u(349),S=u(477),U=u(509),O=u(860),b=u(417),M=u(172),A=u(61),ue=u(303);function z(R,ce){this.options=x.handleOptions(K,R,null,L),this.options._configuredOptions=R;var $=this.components.telemeter,Fe=this.components.instrumenter,je=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var Ve=this.components.truncation,lt=new S(Ve),pt=new d(this.options,lt,U,Ve);$&&(this.telemeter=new $(this.options)),this.client=ce||new v(this.options,pt,L,this.telemeter,"browser");var De,St=Re(),Rn=typeof document<"u"&&document;this.isChrome=St.chrome&&St.chrome.runtime,this.anonymousErrorsPending=0,De=St,this.client.notifier.addTransform(O.handleDomException).addTransform(O.handleItemWithError).addTransform(O.ensureItemHasSomethingToSay).addTransform(O.addBaseInfo).addTransform(O.addRequestInfo(De)).addTransform(O.addClientInfo(De)).addTransform(O.addPluginInfo(De)).addTransform(O.addBody).addTransform(b.addMessageWithError).addTransform(b.addTelemetryData).addTransform(b.addConfigToPayload).addTransform(O.addScrubber(this.scrub)).addTransform(b.addPayloadOptions).addTransform(b.userTransform(L)).addTransform(b.addConfiguredOptions).addTransform(b.addDiagnosticKeys).addTransform(b.itemToPayload),this.client.queue.addPredicate(A.checkLevel).addPredicate(M.checkIgnore).addPredicate(A.userCheckIgnore(L)).addPredicate(A.urlIsNotBlockListed(L)).addPredicate(A.urlIsSafeListed(L)).addPredicate(A.messageIsIgnored(L)),this.setupUnhandledCapture(),Fe&&(this.instrumenter=new Fe(this.options,this.client.telemeter,this,St,Rn),this.instrumenter.instrument()),x.setupJSON(je),this.rollbar=this}var X=null;function re(R){var ce="Rollbar is not initialized";L.error(ce),R&&R(new Error(ce))}function Z(R){for(var ce=0,$=R.length;ce<$;++ce)if(x.isFunction(R[ce]))return R[ce]}function Re(){return typeof window<"u"&&window||typeof self<"u"&&self}z.init=function(R,ce){return X?X.global(R).configure(R):X=new z(R,ce)},z.prototype.components={},z.setComponents=function(R){z.prototype.components=R},z.prototype.global=function(R){return this.client.global(R),this},z.global=function(R){if(X)return X.global(R);re()},z.prototype.configure=function(R,ce){var $=this.options,Fe={};return ce&&(Fe={payload:ce}),this.options=x.handleOptions($,R,Fe,L),this.options._configuredOptions=x.handleOptions($._configuredOptions,R,Fe),this.client.configure(this.options,ce),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},z.configure=function(R,ce){if(X)return X.configure(R,ce);re()},z.prototype.lastError=function(){return this.client.lastError},z.lastError=function(){if(X)return X.lastError();re()},z.prototype.log=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.log(R),{uuid:ce}},z.log=function(){if(X)return X.log.apply(X,arguments);re(Z(arguments))},z.prototype.debug=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.debug(R),{uuid:ce}},z.debug=function(){if(X)return X.debug.apply(X,arguments);re(Z(arguments))},z.prototype.info=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.info(R),{uuid:ce}},z.info=function(){if(X)return X.info.apply(X,arguments);re(Z(arguments))},z.prototype.warn=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.warn(R),{uuid:ce}},z.warn=function(){if(X)return X.warn.apply(X,arguments);re(Z(arguments))},z.prototype.warning=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.warning(R),{uuid:ce}},z.warning=function(){if(X)return X.warning.apply(X,arguments);re(Z(arguments))},z.prototype.error=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.error(R),{uuid:ce}},z.error=function(){if(X)return X.error.apply(X,arguments);re(Z(arguments))},z.prototype.critical=function(){var R=this._createItem(arguments),ce=R.uuid;return this.client.critical(R),{uuid:ce}},z.critical=function(){if(X)return X.critical.apply(X,arguments);re(Z(arguments))},z.prototype.buildJsonPayload=function(R){return this.client.buildJsonPayload(R)},z.buildJsonPayload=function(){if(X)return X.buildJsonPayload.apply(X,arguments);re()},z.prototype.sendJsonPayload=function(R){return this.client.sendJsonPayload(R)},z.sendJsonPayload=function(){if(X)return X.sendJsonPayload.apply(X,arguments);re()},z.prototype.setupUnhandledCapture=function(){var R=Re();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(F.captureUncaughtExceptions(R,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(R,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(F.captureUnhandledRejections(R,this),this.unhandledRejectionsInitialized=!0)},z.prototype.handleUncaughtException=function(R,ce,$,Fe,je,Ve){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===je&&""===ce)return"anonymous";var lt,pt=x.makeUnhandledStackInfo(R,ce,$,Fe,je,"onerror","uncaught exception",ue);x.isError(je)?(lt=this._createItem([R,je,Ve]))._unhandledStackInfo=pt:x.isError(ce)?(lt=this._createItem([R,ce,Ve]))._unhandledStackInfo=pt:(lt=this._createItem([R,Ve])).stackInfo=pt,lt.level=this.options.uncaughtErrorLevel,lt._isUncaught=!0,this.client.log(lt)}},z.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var R=this;try{Error.prepareStackTrace=function(ce,$){if(R.options.inspectAnonymousErrors&&R.anonymousErrorsPending){if(R.anonymousErrorsPending-=1,!ce)return;ce._isAnonymous=!0,R.handleUncaughtException(ce.message,null,null,null,ce)}return ce.stack}}catch(ce){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",ce)}}},z.prototype.handleUnhandledRejection=function(R,ce){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var $="unhandled rejection was null or undefined!";if(R)if(R.message)$=R.message;else{var Fe=x.stringify(R);Fe.value&&($=Fe.value)}var je,Ve=R&&R._rollbarContext||ce&&ce._rollbarContext;x.isError(R)?je=this._createItem([$,R,Ve]):(je=this._createItem([$,R,Ve])).stackInfo=x.makeUnhandledStackInfo($,"",0,0,null,"unhandledrejection","",ue),je.level=this.options.uncaughtErrorLevel,je._isUncaught=!0,je._originalArgs=je._originalArgs||[],je._originalArgs.push(ce),this.client.log(je)}},z.prototype.wrap=function(R,ce,$){try{var Fe;if(Fe=x.isFunction(ce)?ce:function(){return ce||{}},!x.isFunction(R)||R._isWrap)return R;if(!R._rollbar_wrapped&&(R._rollbar_wrapped=function(){$&&x.isFunction($)&&$.apply(this,arguments);try{return R.apply(this,arguments)}catch(lt){var Ve=lt;throw Ve&&window._rollbarWrappedError!==Ve&&(x.isType(Ve,"string")&&(Ve=new String(Ve)),Ve._rollbarContext=Fe()||{},Ve._rollbarContext._wrappedSource=R.toString(),window._rollbarWrappedError=Ve),Ve}},R._rollbar_wrapped._isWrap=!0,R.hasOwnProperty))for(var je in R)R.hasOwnProperty(je)&&"_rollbar_wrapped"!==je&&(R._rollbar_wrapped[je]=R[je]);return R._rollbar_wrapped}catch{return R}},z.wrap=function(R,ce){if(X)return X.wrap(R,ce);re()},z.prototype.captureEvent=function(){var R=x.createTelemetryEvent(arguments);return this.client.captureEvent(R.type,R.metadata,R.level)},z.captureEvent=function(){if(X)return X.captureEvent.apply(X,arguments);re()},z.prototype.captureDomContentLoaded=function(R,ce){return ce||(ce=new Date),this.client.captureDomContentLoaded(ce)},z.prototype.captureLoad=function(R,ce){return ce||(ce=new Date),this.client.captureLoad(ce)},z.prototype.loadFull=function(){L.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},z.prototype._createItem=function(R){return x.createItem(R,L,this)};var oe=u(948),Ce=u(677),K={version:oe.version,scrubFields:Ce.scrubFields,logLevel:oe.logLevel,reportLevel:oe.reportLevel,uncaughtErrorLevel:oe.uncaughtErrorLevel,endpoint:oe.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};r.exports=z},677:r=>{"use strict";r.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},616:r=>{"use strict";r.exports={ieVersion:function(){var u;if(typeof document>"u")return u;for(var v=3,x=document.createElement("div"),d=x.getElementsByTagName("i");x.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e",d[0];);return v>4?v:u}}},300:r=>{"use strict";function y(x){return(x.getAttribute("type")||"").toLowerCase()}function u(x){if(!x||!x.tagName)return"";var d=[x.tagName];x.id&&d.push("#"+x.id),x.classes&&d.push("."+x.classes.join("."));for(var L=0;L<x.attributes.length;L++)d.push("["+x.attributes[L].key+'="'+x.attributes[L].value+'"]');return d.join("")}function v(x){if(!x||!x.tagName)return null;var d,L,F,S,U={};U.tagName=x.tagName.toLowerCase(),x.id&&(U.id=x.id),(d=x.className)&&"string"==typeof d&&(U.classes=d.split(/\s+/));var O=["type","name","title","alt"];for(U.attributes=[],S=0;S<O.length;S++)(F=x.getAttribute(L=O[S]))&&U.attributes.push({key:L,value:F});return U}r.exports={describeElement:v,descriptionToString:u,elementArrayToString:function(x){for(var d,F=[],S=0,U=x.length-1;U>=0;U--){if(d=u(x[U]),U<x.length-1&&S+3*F.length+d.length>=83){F.unshift("...");break}F.unshift(d),S+=d.length}return F.join(" > ")},treeToArray:function(x){for(var d,L=[],F=0;x&&F<5&&"html"!==(d=v(x)).tagName;F++)L.unshift(d),x=x.parentNode;return L},getElementFromEvent:function(x,d){return x.target?x.target:d&&d.elementFromPoint?d.elementFromPoint(x.clientX,x.clientY):void 0},isDescribedElement:function(x,d,L){if(x.tagName.toLowerCase()!==d.toLowerCase())return!1;if(!L)return!0;x=y(x);for(var F=0;F<L.length;F++)if(L[F]===x)return!0;return!1},getElementType:y}},349:r=>{"use strict";r.exports={captureUncaughtExceptions:function(y,u,v){if(y){var x;if("function"==typeof u._rollbarOldOnError)x=u._rollbarOldOnError;else if(y.onerror){for(x=y.onerror;x._rollbarOldOnError;)x=x._rollbarOldOnError;u._rollbarOldOnError=x}u.handleAnonymousErrors();var d=function(){var L=Array.prototype.slice.call(arguments,0);!function(F,S,U,O){F._rollbarWrappedError&&(O[4]||(O[4]=F._rollbarWrappedError),O[5]||(O[5]=F._rollbarWrappedError._rollbarContext),F._rollbarWrappedError=null);var b=S.handleUncaughtException.apply(S,O);U&&U.apply(F,O),"anonymous"===b&&(S.anonymousErrorsPending+=1)}(y,u,x,L)};v&&(d._rollbarOldOnError=x),y.onerror=d}},captureUnhandledRejections:function(y,u,v){if(y){"function"==typeof y._rollbarURH&&y._rollbarURH.belongsToShim&&y.removeEventListener("unhandledrejection",y._rollbarURH);var x=function(d){var L,F,S;try{L=d.reason}catch{L=void 0}try{F=d.promise}catch{F="[unhandledrejection] error getting `promise` from event"}try{S=d.detail,!L&&S&&(L=S.reason,F=S.promise)}catch{}L||(L="[unhandledrejection] error getting `reason` from event"),u&&u.handleUnhandledRejection&&u.handleUnhandledRejection(L,F)};x.belongsToShim=v,y._rollbarURH=x,y.addEventListener("unhandledrejection",x)}}}},802:(r,y,u)=>{"use strict";u(276);var v=u(616),x=u(702);r.exports={error:function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("Rollbar:"),v.ieVersion()<=8?console.error(x.formatArgsAsString(d)):console.error.apply(console,d)},info:function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("Rollbar:"),v.ieVersion()<=8?console.info(x.formatArgsAsString(d)):console.info.apply(console,d)},log:function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("Rollbar:"),v.ieVersion()<=8?console.log(x.formatArgsAsString(d)):console.log.apply(console,d)}}},172:(r,y,u)=>{"use strict";var v=u(702);r.exports={checkIgnore:function(x,d){return!v.get(d,"plugins.jquery.ignoreAjaxErrors")||!v.get(x,"body.message.extra.isAjax")}}},343:(r,y,u)=>{"use strict";var v=u(403),x=u(773),d=u(568),L=u(876),F=u(965),S=u(369),U=u(473);v.setComponents({telemeter:x,instrumenter:d,polyfillJSON:L,wrapGlobals:F,scrub:S,truncation:U}),r.exports=v},568:(r,y,u)=>{"use strict";var v=u(702),x=u(650),d=u(297),L=u(369),F=u(509),S=u(300),U={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function O(A,ue){for(var z;A[ue].length;)(z=A[ue].shift())[0][z[1]]=z[2]}function b(A,ue,z,X,re){this.options=A;var Z=A.autoInstrument;!1===A.enabled||!1===Z?this.autoInstrument={}:(v.isType(Z,"object")||(Z=U),this.autoInstrument=v.merge(U,Z)),this.scrubTelemetryInputs=!!A.scrubTelemetryInputs,this.telemetryScrubber=A.telemetryScrubber,this.defaultValueScrubber=function(Re){for(var oe=[],Ce=0;Ce<Re.length;++Ce)oe.push(new RegExp(Re[Ce],"i"));return function(K){var R=function($){if(!$||!$.attributes)return null;for(var Fe=$.attributes,je=0;je<Fe.length;++je)if("name"===Fe[je].key)return Fe[je].value;return null}(K);if(!R)return!1;for(var ce=0;ce<oe.length;++ce)if(oe[ce].test(R))return!0;return!1}}(A.scrubFields),this.telemeter=ue,this.rollbar=z,this.diagnostic=z.client.notifier.diagnostic,this._window=X||{},this._document=re||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}function M(A){return typeof URL<"u"&&A instanceof URL}b.prototype.configure=function(A){this.options=v.merge(this.options,A);var ue=A.autoInstrument,z=v.merge(this.autoInstrument);!1===A.enabled||!1===ue?this.autoInstrument={}:(v.isType(ue,"object")||(ue=U),this.autoInstrument=v.merge(U,ue)),this.instrument(z),void 0!==A.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!A.scrubTelemetryInputs),void 0!==A.telemetryScrubber&&(this.telemetryScrubber=A.telemetryScrubber)},b.prototype.instrument=function(A){!this.autoInstrument.network||A&&A.network?!this.autoInstrument.network&&A&&A.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||A&&A.log?!this.autoInstrument.log&&A&&A.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||A&&A.dom?!this.autoInstrument.dom&&A&&A.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||A&&A.navigation?!this.autoInstrument.navigation&&A&&A.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||A&&A.connectivity?!this.autoInstrument.connectivity&&A&&A.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||A&&A.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&A&&A.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},b.prototype.deinstrumentNetwork=function(){O(this.replacements,"network")},b.prototype.instrumentNetwork=function(){var A=this;function ue(X,re){X in re&&v.isFunction(re[X])&&d(re,X,function(Z){return A.rollbar.wrap(Z)})}if("XMLHttpRequest"in this._window){var z=this._window.XMLHttpRequest.prototype;d(z,"open",function(X){return function(re,Z){var Re=M(Z);return(v.isType(Z,"string")||Re)&&(Z=Re?Z.toString():Z,this.__rollbar_xhr?(this.__rollbar_xhr.method=re,this.__rollbar_xhr.url=Z,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=v.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:re,url:Z,status_code:null,start_time_ms:v.now(),end_time_ms:null}),X.apply(this,arguments)}},this.replacements,"network"),d(z,"setRequestHeader",function(X){return function(re,Z){return this.__rollbar_xhr||(this.__rollbar_xhr={}),v.isType(re,"string")&&v.isType(Z,"string")&&(A.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[re]=Z),"content-type"===re.toLowerCase()&&(this.__rollbar_xhr.request_content_type=Z)),X.apply(this,arguments)}},this.replacements,"network"),d(z,"send",function(X){return function(re){var Z=this;function Re(){if(Z.__rollbar_xhr&&(null===Z.__rollbar_xhr.status_code&&(Z.__rollbar_xhr.status_code=0,A.autoInstrument.networkRequestBody&&(Z.__rollbar_xhr.request=re),Z.__rollbar_event=A.captureNetwork(Z.__rollbar_xhr,"xhr",void 0)),Z.readyState<2&&(Z.__rollbar_xhr.start_time_ms=v.now()),Z.readyState>3)){Z.__rollbar_xhr.end_time_ms=v.now();var oe=null;if(Z.__rollbar_xhr.response_content_type=Z.getResponseHeader("Content-Type"),A.autoInstrument.networkResponseHeaders){var Ce=A.autoInstrument.networkResponseHeaders;oe={};try{var K,R;if(!0===Ce){var ce=Z.getAllResponseHeaders();if(ce){var $,Fe,je=ce.trim().split(/[\r\n]+/);for(R=0;R<je.length;R++)K=($=je[R].split(": ")).shift(),Fe=$.join(": "),oe[K]=Fe}}else for(R=0;R<Ce.length;R++)oe[K=Ce[R]]=Z.getResponseHeader(K)}catch{}}var Ve=null;if(A.autoInstrument.networkResponseBody)try{Ve=Z.responseText}catch{}var lt=null;(Ve||oe)&&(lt={},Ve&&(lt.body=A.isJsonContentType(Z.__rollbar_xhr.response_content_type)?A.scrubJson(Ve):Ve),oe&&(lt.headers=oe)),lt&&(Z.__rollbar_xhr.response=lt);try{var pt=Z.status;Z.__rollbar_xhr.status_code=pt=1223===pt?204:pt,Z.__rollbar_event.level=A.telemeter.levelFromStatus(pt),A.errorOnHttpStatus(Z.__rollbar_xhr)}catch{}}}return ue("onload",Z),ue("onerror",Z),ue("onprogress",Z),"onreadystatechange"in Z&&v.isFunction(Z.onreadystatechange)?d(Z,"onreadystatechange",function(oe){return A.rollbar.wrap(oe,void 0,Re)}):Z.onreadystatechange=Re,Z.__rollbar_xhr&&A.trackHttpErrors()&&(Z.__rollbar_xhr.stack=(new Error).stack),X.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&d(this._window,"fetch",function(X){return function(re,Z){for(var Re=new Array(arguments.length),oe=0,Ce=Re.length;oe<Ce;oe++)Re[oe]=arguments[oe];var K,R=Re[0],ce="GET",$=M(R);v.isType(R,"string")||$?K=$?R.toString():R:R&&(K=R.url,R.method&&(ce=R.method)),Re[1]&&Re[1].method&&(ce=Re[1].method);var Fe={method:ce,url:K,status_code:null,start_time_ms:v.now(),end_time_ms:null};if(Re[1]&&Re[1].headers){var je=x(Re[1].headers);Fe.request_content_type=je.get("Content-Type"),A.autoInstrument.networkRequestHeaders&&(Fe.request_headers=A.fetchHeaders(je,A.autoInstrument.networkRequestHeaders))}return A.autoInstrument.networkRequestBody&&(Re[1]&&Re[1].body?Fe.request=Re[1].body:Re[0]&&!v.isType(Re[0],"string")&&Re[0].body&&(Fe.request=Re[0].body)),A.captureNetwork(Fe,"fetch",void 0),A.trackHttpErrors()&&(Fe.stack=(new Error).stack),X.apply(this,Re).then(function(Ve){Fe.end_time_ms=v.now(),Fe.status_code=Ve.status,Fe.response_content_type=Ve.headers.get("Content-Type");var lt=null;A.autoInstrument.networkResponseHeaders&&(lt=A.fetchHeaders(Ve.headers,A.autoInstrument.networkResponseHeaders));var pt=null;return A.autoInstrument.networkResponseBody&&"function"==typeof Ve.text&&(pt=Ve.clone().text()),(lt||pt)&&(Fe.response={},pt&&("function"==typeof pt.then?pt.then(function(St){Fe.response.body=St&&A.isJsonContentType(Fe.response_content_type)?A.scrubJson(St):St}):Fe.response.body=pt),lt&&(Fe.response.headers=lt)),A.errorOnHttpStatus(Fe),Ve})}},this.replacements,"network")},b.prototype.captureNetwork=function(A,ue,z){return A.request&&this.isJsonContentType(A.request_content_type)&&(A.request=this.scrubJson(A.request)),this.telemeter.captureNetwork(A,ue,z)},b.prototype.isJsonContentType=function(A){return!!(A&&v.isType(A,"string")&&A.toLowerCase().includes("json"))},b.prototype.scrubJson=function(A){return JSON.stringify(L(JSON.parse(A),this.options.scrubFields))},b.prototype.fetchHeaders=function(A,ue){var z={};try{var X;if(!0===ue){if("function"==typeof A.entries)for(var re=A.entries(),Z=re.next();!Z.done;)z[Z.value[0]]=Z.value[1],Z=re.next()}else for(X=0;X<ue.length;X++){var Re=ue[X];z[Re]=A.get(Re)}}catch{}return z},b.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},b.prototype.errorOnHttpStatus=function(A){var ue=A.status_code;if(ue>=500&&this.autoInstrument.networkErrorOnHttp5xx||ue>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===ue&&this.autoInstrument.networkErrorOnHttp0){var z=new Error("HTTP request failed with Status "+ue);z.stack=A.stack,this.rollbar.error(z,{skipFrames:1})}},b.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var A;this.replacements.log.length;)A=this.replacements.log.shift(),this._window.console[A[0]]=A[1]},b.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var A=this,ue=this._window.console,z=["debug","info","warn","error","log"];try{for(var X=0,re=z.length;X<re;X++)Z(z[X])}catch(Re){this.diagnostic.instrumentConsole={error:Re.message}}}function Z(Re){var oe=ue[Re],Ce=ue,K="warn"===Re?"warning":Re;ue[Re]=function(){var R=Array.prototype.slice.call(arguments),ce=v.formatArgsAsString(R);A.telemeter.captureLog(ce,K),oe&&Function.prototype.apply.call(oe,Ce,R)},A.replacements.log.push([Re,oe])}},b.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},b.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var A=this.handleClick.bind(this),ue=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",A,!0),this.addListener("dom",this._window,"blur","onfocusout",ue,!0)}},b.prototype.handleClick=function(A){try{var ue=S.getElementFromEvent(A,this._document),z=ue&&ue.tagName,X=S.isDescribedElement(ue,"a")||S.isDescribedElement(ue,"button");z&&(X||S.isDescribedElement(ue,"input",["button","submit"]))?this.captureDomEvent("click",ue):S.isDescribedElement(ue,"input",["checkbox","radio"])&&this.captureDomEvent("input",ue,ue.value,ue.checked)}catch{}},b.prototype.handleBlur=function(A){try{var ue=S.getElementFromEvent(A,this._document);ue&&ue.tagName&&(S.isDescribedElement(ue,"textarea")?this.captureDomEvent("input",ue,ue.value):S.isDescribedElement(ue,"select")&&ue.options&&ue.options.length?this.handleSelectInputChanged(ue):S.isDescribedElement(ue,"input")&&!S.isDescribedElement(ue,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",ue,ue.value))}catch{}},b.prototype.handleSelectInputChanged=function(A){if(A.multiple)for(var ue=0;ue<A.options.length;ue++)A.options[ue].selected&&this.captureDomEvent("input",A,A.options[ue].value);else A.selectedIndex>=0&&A.options[A.selectedIndex]&&this.captureDomEvent("input",A,A.options[A.selectedIndex].value)},b.prototype.captureDomEvent=function(A,ue,z,X){if(void 0!==z)if(this.scrubTelemetryInputs||"password"===S.getElementType(ue))z="[scrubbed]";else{var re=S.describeElement(ue);this.telemetryScrubber?this.telemetryScrubber(re)&&(z="[scrubbed]"):this.defaultValueScrubber(re)&&(z="[scrubbed]")}var Z=S.elementArrayToString(S.treeToArray(ue));this.telemeter.captureDom(A,Z,z,X)},b.prototype.deinstrumentNavigation=function(){var A=this._window.chrome;!(A&&A.app&&A.app.runtime)&&this._window.history&&this._window.history.pushState&&O(this.replacements,"navigation")},b.prototype.instrumentNavigation=function(){var A=this._window.chrome;if(!(A&&A.app&&A.app.runtime)&&this._window.history&&this._window.history.pushState){var ue=this;d(this._window,"onpopstate",function(z){return function(){ue.handleUrlChange(ue._lastHref,ue._location.href),z&&z.apply(this,arguments)}},this.replacements,"navigation"),d(this._window.history,"pushState",function(z){return function(){var X=arguments.length>2?arguments[2]:void 0;return X&&ue.handleUrlChange(ue._lastHref,X+""),z.apply(this,arguments)}},this.replacements,"navigation")}},b.prototype.handleUrlChange=function(A,ue){var z=F.parse(this._location.href),X=F.parse(ue),re=F.parse(A);this._lastHref=ue,z.protocol===X.protocol&&z.host===X.host&&(ue=X.path+(X.hash||"")),z.protocol===re.protocol&&z.host===re.host&&(A=re.path+(re.hash||"")),this.telemeter.captureNavigation(A,ue)},b.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):O(this.replacements,"connectivity"))},b.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var A=this;d(this._document.body,"ononline",function(ue){return function(){A.telemeter.captureConnectivityChange("online"),ue&&ue.apply(this,arguments)}},this.replacements,"connectivity"),d(this._document.body,"onoffline",function(ue){return function(){A.telemeter.captureConnectivityChange("offline"),ue&&ue.apply(this,arguments)}},this.replacements,"connectivity")}},b.prototype.handleCspEvent=function(A){var ue="Security Policy Violation: blockedURI: "+A.blockedURI+", violatedDirective: "+A.violatedDirective+", effectiveDirective: "+A.effectiveDirective+", ";A.sourceFile&&(ue+="location: "+A.sourceFile+", line: "+A.lineNumber+", col: "+A.columnNumber+", "),this.telemeter.captureLog(ue+="originalPolicy: "+A.originalPolicy,"error"),this.handleCspError(ue)},b.prototype.handleCspError=function(A){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(A)},b.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},b.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var A=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,A,!1)}},b.prototype.addListener=function(A,ue,z,X,re,Z){ue.addEventListener?(ue.addEventListener(z,re,Z),this.eventRemovers[A].push(function(){ue.removeEventListener(z,re,Z)})):X&&(ue.attachEvent(X,re),this.eventRemovers[A].push(function(){ue.detachEvent(X,re)}))},b.prototype.removeListeners=function(A){for(;this.eventRemovers[A].length;)this.eventRemovers[A].shift()()},r.exports=b},860:(r,y,u)=>{"use strict";var v=u(702),x=u(303),d=u(802);function L(O,b,M){var A=O.message,ue=O.custom;A||(A="Item sent with null or missing arguments.");var z={body:A};ue&&(z.extra=v.merge(ue)),v.set(O,"data.body",{message:z}),M(null,O)}function F(O){var b=O.stackInfo.stack;return b&&0===b.length&&O._unhandledStackInfo&&O._unhandledStackInfo.stack&&(b=O._unhandledStackInfo.stack),b}function S(O,b,M){var A=O&&O.data.description,ue=O&&O.custom,z=F(O),X=x.guessErrorClass(b.message),re={exception:{class:U(b,X[0],M),message:X[1]}};if(A&&(re.exception.description=A),z){var Z,Re,oe,Ce,K,R,ce,$;for(0===z.length&&(re.exception.stack=b.rawStack,re.exception.raw=String(b.rawException)),re.frames=[],ce=0;ce<z.length;++ce)Re={filename:(Z=z[ce]).url?v.sanitizeUrl(Z.url):"(unknown)",lineno:Z.line||null,method:Z.func&&"?"!==Z.func?Z.func:"[anonymous]",colno:Z.column},M.sendFrameUrl&&(Re.url=Z.url),Re.method&&Re.method.endsWith&&Re.method.endsWith("_rollbar_wrapped")||(oe=Ce=K=null,(R=Z.context?Z.context.length:0)&&($=Math.floor(R/2),Ce=Z.context.slice(0,$),oe=Z.context[$],K=Z.context.slice($)),oe&&(Re.code=oe),(Ce||K)&&(Re.context={},Ce&&Ce.length&&(Re.context.pre=Ce),K&&K.length&&(Re.context.post=K)),Z.args&&(Re.args=Z.args),re.frames.push(Re));re.frames.reverse(),ue&&(re.extra=v.merge(ue))}return re}function U(O,b,M){return O.name?O.name:M.guessErrorClass?b:"(unknown)"}r.exports={handleDomException:function(O,b,M){if(O.err&&"DOMException"===x.Stack(O.err).name){var A=new Error;A.name=O.err.name,A.message=O.err.message,A.stack=O.err.stack,A.nested=O.err,O.err=A}M(null,O)},handleItemWithError:function(O,b,M){if(O.data=O.data||{},O.err)try{O.stackInfo=O.err._savedStackTrace||x.parse(O.err,O.skipFrames),b.addErrorContext&&function(A){var ue=[],z=A.err;for(ue.push(z);z.nested||z.cause;)ue.push(z=z.nested||z.cause);v.addErrorContext(A,ue)}(O)}catch(A){d.error("Error while parsing the error object.",A);try{O.message=O.err.message||O.err.description||O.message||String(O.err)}catch(ue){O.message=String(O.err)||String(ue)}delete O.err}M(null,O)},ensureItemHasSomethingToSay:function(O,b,M){O.message||O.stackInfo||O.custom||M(new Error("No message, stack info, or custom data"),null),M(null,O)},addBaseInfo:function(O,b,M){O.data=v.merge(O.data,{environment:b.payload&&b.payload.environment||b.environment,level:O.level,endpoint:b.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:O.uuid,notifier:{name:"rollbar-browser-js",version:b.version},custom:O.custom}),M(null,O)},addRequestInfo:function(O){return function(b,M,A){var ue={};O&&O.location&&(ue.url=O.location.href,ue.query_string=O.location.search);var z="$remote_ip";M.captureIp?!0!==M.captureIp&&(z+="_anonymize"):z=null,z&&(ue.user_ip=z),Object.keys(ue).length>0&&v.set(b,"data.request",ue),A(null,b)}},addClientInfo:function(O){return function(b,M,A){if(!O)return A(null,b);var ue=O.navigator||{},z=O.screen||{};v.set(b,"data.client",{runtime_ms:b.timestamp-O._rollbarStartTime,timestamp:Math.round(b.timestamp/1e3),javascript:{browser:ue.userAgent,language:ue.language,cookie_enabled:ue.cookieEnabled,screen:{width:z.width,height:z.height}}}),A(null,b)}},addPluginInfo:function(O){return function(b,M,A){if(!O||!O.navigator)return A(null,b);for(var ue,z=[],X=O.navigator.plugins||[],re=0,Z=X.length;re<Z;++re)z.push({name:(ue=X[re]).name,description:ue.description});v.set(b,"data.client.javascript.plugins",z),A(null,b)}},addBody:function(O,b,M){O.stackInfo?O.stackInfo.traceChain?function(A,ue,z){for(var X=A.stackInfo.traceChain,re=[],Z=X.length,Re=0;Re<Z;Re++){var oe=S(A,X[Re],ue);re.push(oe)}v.set(A,"data.body",{trace_chain:re}),z(null,A)}(O,b,M):function(A,ue,z){if(F(A)){var re=S(A,A.stackInfo,ue);v.set(A,"data.body",{trace:re}),z(null,A)}else{var Z=A.stackInfo,Re=x.guessErrorClass(Z.message),oe=U(Z,Re[0],ue);A.message=oe+": "+Re[1],L(A,0,z)}}(O,b,M):L(O,0,M)},addScrubber:function(O){return function(b,M,A){O&&(b.data=O(b.data,M.scrubFields||[],M.scrubPaths||[])),A(null,b)}}}},477:(r,y,u)=>{"use strict";var v=u(702),x=u(656),d=u(86);function L(F){this.truncation=F}L.prototype.get=function(F,S,U,O,b){O&&v.isFunction(O)||(O=function(){}),v.addParamsAndAccessTokenToPath(F,S,U);var M=v.formatUrl(S);this._makeZoneRequest(F,M,"GET",null,O,b,S.timeout,S.transport)},L.prototype.post=function(F,S,U,O,b){if(O&&v.isFunction(O)||(O=function(){}),!U)return O(new Error("Cannot send empty request"));var M;if((M=this.truncation?this.truncation.truncate(U):v.stringify(U)).error)return O(M.error);var A=M.value,ue=v.formatUrl(S);this._makeZoneRequest(F,ue,"POST",A,O,b,S.timeout,S.transport)},L.prototype.postJsonPayload=function(F,S,U,O,b){O&&v.isFunction(O)||(O=function(){});var M=v.formatUrl(S);this._makeZoneRequest(F,M,"POST",U,O,b,S.timeout,S.transport)},L.prototype._makeZoneRequest=function(){var F=typeof window<"u"&&window||void 0!==b&&b,S=F&&F.Zone&&F.Zone.current,U=Array.prototype.slice.call(arguments);if(S&&"angular"===S._name){var b=this;S._parent.run(function(){b._makeRequest.apply(void 0,U)})}else this._makeRequest.apply(void 0,U)},L.prototype._makeRequest=function(F,S,U,O,b,M,A,ue){if(typeof RollbarProxy<"u")return z=O,X=b,void(new RollbarProxy).sendJsonPayload(z,function(re){},function(re){X(new Error(re))});var z,X;"fetch"===ue?x(F,S,U,O,b,A):d(F,S,U,O,b,M,A)},r.exports=L},656:(r,y,u)=>{"use strict";var v=u(802),x=u(702);r.exports=function(d,L,F,S,U,O){var b,M;x.isFiniteNumber(O)&&(b=new AbortController,M=setTimeout(function(){b.abort()},O)),fetch(L,{method:F,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":d,signal:b&&b.signal},body:S}).then(function(A){return M&&clearTimeout(M),A.json()}).then(function(A){U(null,A)}).catch(function(A){v.error(A.message),U(A)})}},86:(r,y,u)=>{"use strict";var v=u(702),x=u(802);function d(L,F){var S=new Error(L);return S.code=F||"ENOTFOUND",S}r.exports=function(L,F,S,U,O,b,M){var A;if(!(A=b?b():function(){var X,re,Z=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],Re=Z.length;for(re=0;re<Re;re++)try{X=Z[re]();break}catch{}return X}()))return O(new Error("No way to send a request"));try{try{var ue=function(){try{if(ue&&4===A.readyState){ue=void 0;var X=v.jsonParse(A.responseText);if((Re=A)&&Re.status&&200===Re.status)return void O(X.error,X.value);(oe=A)&&v.isType(oe.status,"number")&&oe.status>=400&&oe.status<600?(403===A.status&&x.error(X.value&&X.value.message),O(new Error(String(A.status)))):O(d("XHR response had no status code (likely connection failure)"))}}catch(oe){var Z;Z=oe&&oe.stack?oe:new Error(oe),O(Z)}var oe,Re};A.open(S,F,!0),A.setRequestHeader&&(A.setRequestHeader("Content-Type","application/json"),A.setRequestHeader("X-Rollbar-Access-Token",L)),v.isFiniteNumber(M)&&(A.timeout=M),A.onreadystatechange=ue,A.send(U)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return O(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===F.substring(0,5)&&(F="http"+F.substring(5));var z=new XDomainRequest;z.onprogress=function(){},z.ontimeout=function(){O(d("Request timed out","ETIMEDOUT"))},z.onerror=function(){O(new Error("Error during request"))},z.onload=function(){var re=v.jsonParse(z.responseText);O(re.error,re.value)},z.open(S,F,!0),z.send(U)}else O(new Error("Cannot find a method to transport a request"))}}catch(X){O(X)}}},509:r=>{"use strict";r.exports={parse:function(y){var u,v,x={protocol:null,auth:null,host:null,path:null,hash:null,href:y,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(u=y.indexOf("//"))?(x.protocol=y.substring(0,u),v=u+2):v=0,-1!==(u=y.indexOf("@",v))&&(x.auth=y.substring(v,u),v=u+1),-1===(u=y.indexOf("/",v))){if(-1===(u=y.indexOf("?",v)))return-1===(u=y.indexOf("#",v))?x.host=y.substring(v):(x.host=y.substring(v,u),x.hash=y.substring(u)),x.hostname=x.host.split(":")[0],x.port=x.host.split(":")[1],x.port&&(x.port=parseInt(x.port,10)),x;x.host=y.substring(v,u),x.hostname=x.host.split(":")[0],x.port=x.host.split(":")[1],x.port&&(x.port=parseInt(x.port,10)),v=u}else x.host=y.substring(v,u),x.hostname=x.host.split(":")[0],x.port=x.host.split(":")[1],x.port&&(x.port=parseInt(x.port,10)),v=u;if(-1===(u=y.indexOf("#",v))?x.path=y.substring(v):(x.path=y.substring(v,u),x.hash=y.substring(u)),x.path){var d=x.path.split("?");x.pathname=d[0],x.query=d[1],x.search=x.query?"?"+x.query:null}return x}}},965:r=>{"use strict";function y(u,v,x){if(v.hasOwnProperty&&v.hasOwnProperty("addEventListener")){for(var d=v.addEventListener;d._rollbarOldAdd&&d.belongsToShim;)d=d._rollbarOldAdd;var L=function(U,O,b){d.call(this,U,u.wrap(O),b)};L._rollbarOldAdd=d,L.belongsToShim=x,v.addEventListener=L;for(var F=v.removeEventListener;F._rollbarOldRemove&&F.belongsToShim;)F=F._rollbarOldRemove;var S=function(U,O,b){F.call(this,U,O&&O._rollbar_wrapped||O,b)};S._rollbarOldRemove=F,S.belongsToShim=x,v.removeEventListener=S}}r.exports=function(u,v,x){if(u){var d,L,F="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(d=0;d<F.length;++d)u[L=F[d]]&&u[L].prototype&&y(v,u[L].prototype,x)}}},948:r=>{"use strict";r.exports={version:"2.26.4",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},303:(r,y,u)=>{"use strict";var v=u(180),x=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function L(S){var U={};return U._stackFrame=S,U.url=S.fileName,U.line=S.lineNumber,U.func=S.functionName,U.column=S.columnNumber,U.args=S.args,U.context=null,U}function F(S,U){return{stack:function(){var A=[];U=U||0;try{A=v.parse(S)}catch{A=[]}for(var ue=[],z=U;z<A.length;z++)ue.push(new L(A[z]));return ue}(),message:S.message,name:(O=S,b=O.name&&O.name.length&&O.name,M=O.constructor.name&&O.constructor.name.length&&O.constructor.name,b&&M?"Error"===b?M:b:b||M),rawStack:S.stack,rawException:S};var O,b,M}r.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(S){if(!S||!S.match)return["Unknown error. There was no error message to display.",""];var U=S.match(x),O="(unknown)";return U&&(S=(S=S.replace((U[U.length-2]||"")+(O=U[U.length-1])+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[O,S]},gatherContext:function d(){return null},parse:function(S,U){var O=S;if(O.nested||O.cause){for(var b=[];O;)b.push(new F(O,U)),O=O.nested||O.cause,U=0;return b[0].traceChain=b,b[0]}return new F(O,U)},Stack:F,Frame:L}},420:r=>{"use strict";var y=Object.prototype.hasOwnProperty,u=Object.prototype.toString,v=function(x){if(!x||"[object Object]"!==u.call(x))return!1;var d,L=y.call(x,"constructor"),F=x.constructor&&x.constructor.prototype&&y.call(x.constructor.prototype,"isPrototypeOf");if(x.constructor&&!L&&!F)return!1;for(d in x);return void 0===d||y.call(x,d)};r.exports=function x(){var d,L,F,S,U,O={},b=null,M=arguments.length;for(d=0;d<M;d++)if(null!=(b=arguments[d]))for(U in b)L=O[U],O!==(F=b[U])&&(F&&v(F)?(S=L&&v(L)?L:{},O[U]=x(S,F)):void 0!==F&&(O[U]=F));return O}},314:(r,y,u)=>{"use strict";var v=u(702);function x(d,L){this.queue=d,this.options=L,this.transforms=[],this.diagnostic={}}x.prototype.configure=function(d){return this.queue&&this.queue.configure(d),this.options=v.merge(this.options,d),this},x.prototype.addTransform=function(d){return v.isFunction(d)&&this.transforms.push(d),this},x.prototype.log=function(d,L){if(L&&v.isFunction(L)||(L=function(){}),!this.options.enabled)return L(new Error("Rollbar is not enabled"));this.queue.addPendingItem(d);var F=d.err;this._applyTransforms(d,function(S,U){if(S)return this.queue.removePendingItem(d),L(S,null);this.queue.addItem(U,L,F,d)}.bind(this))},x.prototype._applyTransforms=function(d,L){var F=-1,S=this.transforms.length,U=this.transforms,O=this.options,b=function(M,A){M?L(M,null):++F!==S?U[F](A,O,b):L(null,A)};b(null,d)},r.exports=x},61:(r,y,u)=>{"use strict";var v=u(702);function x(L,F,S){if(!L)return!S;var U,b=L.frames;if(!b||0===b.length)return!S;for(var M=F.length,A=b.length,ue=0;ue<A;ue++){if(!v.isType(U=b[ue].filename,"string"))return!S;for(var z=0;z<M;z++)if(new RegExp(F[z]).test(U))return!0}return!1}function d(L,F,S,U){var O,b,M=!1;"blocklist"===S&&(M=!0);try{if(O=M?F.hostBlockList:F.hostSafeList,b=v.get(L,"body.trace_chain")||[v.get(L,"body.trace")],!O||0===O.length||0===b.length||!b[0])return!M;for(var A=b.length,ue=0;ue<A;ue++)if(x(b[ue],O,M))return!0}catch(X){M?F.hostBlockList=null:F.hostSafeList=null;var z=M?"hostBlockList":"hostSafeList";return U.error("Error while reading your configuration's "+z+" option. Removing custom "+z+".",X),!M}return!1}r.exports={checkLevel:function(L,F){return!((v.LEVELS[L.level]||0)<(v.LEVELS[F.reportLevel]||0))},userCheckIgnore:function(L){return function(F,S){var U=!!F._isUncaught;delete F._isUncaught;var O=F._originalArgs;delete F._originalArgs;try{v.isFunction(S.onSendCallback)&&S.onSendCallback(U,O,F)}catch(b){S.onSendCallback=null,L.error("Error while calling onSendCallback, removing",b)}try{if(v.isFunction(S.checkIgnore)&&S.checkIgnore(U,O,F))return!1}catch(b){S.checkIgnore=null,L.error("Error while calling custom checkIgnore(), removing",b)}return!0}},urlIsNotBlockListed:function(L){return function(F,S){return!d(F,S,"blocklist",L)}},urlIsSafeListed:function(L){return function(F,S){return d(F,S,"safelist",L)}},messageIsIgnored:function(L){return function(F,S){var U,O,b,M,A,ue;try{if(!(b=S.ignoredMessages)||0===b.length||0===(ue=function(z){var X=z.body,re=[];if(X.trace_chain)for(var Z=X.trace_chain,Re=0;Re<Z.length;Re++)re.push(v.get(Z[Re],"exception.message"));return X.trace&&re.push(v.get(X,"trace.exception.message")),X.message&&re.push(v.get(X,"message.body")),re}(F)).length)return!0;for(M=b.length,U=0;U<M;U++)for(A=new RegExp(b[U],"gi"),O=0;O<ue.length;O++)if(A.test(ue[O]))return!1}catch{S.ignoredMessages=null,L.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},358:(r,y,u)=>{"use strict";var v=u(702);function x(L,F,S,U){this.rateLimiter=L,this.api=F,this.logger=S,this.options=U,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}x.prototype.configure=function(L){return this.api&&this.api.configure(L),this.options=v.merge(this.options,L),this},x.prototype.addPredicate=function(L){return v.isFunction(L)&&this.predicates.push(L),this},x.prototype.addPendingItem=function(L){this.pendingItems.push(L)},x.prototype.removePendingItem=function(L){var F=this.pendingItems.indexOf(L);-1!==F&&this.pendingItems.splice(F,1)},x.prototype.addItem=function(L,F,S,U){F&&v.isFunction(F)||(F=function(){});var O=this._applyPredicates(L);if(O.stop)return this.removePendingItem(U),void F(O.err);if(this._maybeLog(L,S),this.removePendingItem(U),this.options.transmit){this.pendingRequests.push(L);try{this._makeApiRequest(L,function(b,M){this._dequeuePendingRequest(L),F(b,M)}.bind(this))}catch(b){this._dequeuePendingRequest(L),F(b)}}else F(new Error("Transmit disabled"))},x.prototype.wait=function(L){v.isFunction(L)&&(this.waitCallback=L,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},x.prototype._applyPredicates=function(L){for(var F=null,S=0,U=this.predicates.length;S<U;S++)if(!(F=this.predicates[S](L,this.options))||void 0!==F.err)return{stop:!0,err:F.err};return{stop:!1,err:null}},x.prototype._makeApiRequest=function(L,F){var S=this.rateLimiter.shouldSend(L);S.shouldSend?this.api.postItem(L,function(U,O){U?this._maybeRetry(U,L,F):F(U,O)}.bind(this)):S.error?F(S.error):this.api.postItem(S.payload,F)};var d=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];x.prototype._maybeRetry=function(L,F,S){var U=!1;if(this.options.retryInterval){for(var O=0,b=d.length;O<b;O++)if(L.code===d[O]){U=!0;break}U&&v.isFiniteNumber(this.options.maxRetries)&&(F.retries=F.retries?F.retries+1:1,F.retries>this.options.maxRetries&&(U=!1))}U?this._retryApiRequest(F,S):S(L)},x.prototype._retryApiRequest=function(L,F){this.retryQueue.push({item:L,callback:F}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var S=this.retryQueue.shift();this._makeApiRequest(S.item,S.callback)}}.bind(this),this.options.retryInterval))},x.prototype._dequeuePendingRequest=function(L){var F=this.pendingRequests.indexOf(L);-1!==F&&(this.pendingRequests.splice(F,1),this._maybeCallWait())},x.prototype._maybeLog=function(L,F){if(this.logger&&this.options.verbose){var S=F;if(S=(S=S||v.get(L,"body.trace.exception.message"))||v.get(L,"body.trace_chain.0.exception.message"))return void this.logger.error(S);(S=v.get(L,"body.message.body"))&&this.logger.log(S)}},x.prototype._maybeCallWait=function(){return!(!v.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},r.exports=x},790:(r,y,u)=>{"use strict";var v=u(702);function x(F){this.startTime=v.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(F)}function d(F,S,U){return!F.ignoreRateLimit&&S>=1&&U>S}function L(F,S,U,O,b,M,A){var z,X,Ce,ue=null;return U&&(U=new Error(U)),U||O||(Ce={body:{message:{body:A?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:b,itemsPerMinute:M}}},language:"javascript",environment:(X=S).environment||X.payload&&X.payload.environment,notifier:{version:X.notifier&&X.notifier.version||X.version}},"browser"===(z=F)?(Ce.platform="browser",Ce.framework="browser-js",Ce.notifier.name="rollbar-browser-js"):"server"===z?(Ce.framework=X.framework||"node-js",Ce.notifier.name=X.notifier.name):"react-native"===z&&(Ce.framework=X.framework||"react-native",Ce.notifier.name=X.notifier.name),ue=Ce),{error:U,shouldSend:O,payload:ue}}x.globalSettings={startTime:v.now(),maxItems:void 0,itemsPerMinute:void 0},x.prototype.configureGlobal=function(F){void 0!==F.startTime&&(x.globalSettings.startTime=F.startTime),void 0!==F.maxItems&&(x.globalSettings.maxItems=F.maxItems),void 0!==F.itemsPerMinute&&(x.globalSettings.itemsPerMinute=F.itemsPerMinute)},x.prototype.shouldSend=function(F,S){var U=(S=S||v.now())-this.startTime;(U<0||U>=6e4)&&(this.startTime=S,this.perMinCounter=0);var O=x.globalSettings.maxItems,b=x.globalSettings.itemsPerMinute;if(d(F,O,this.counter))return L(this.platform,this.platformOptions,O+" max items reached",!1);if(d(F,b,this.perMinCounter))return L(this.platform,this.platformOptions,b+" items per minute reached",!1);this.counter++,this.perMinCounter++;var M=!d(F,O,this.counter),A=M;return M=M&&!d(F,b,this.perMinCounter),L(this.platform,this.platformOptions,null,M,O,b,A)},x.prototype.setPlatformOptions=function(F,S){this.platform=F,this.platformOptions=S},r.exports=x},562:(r,y,u)=>{"use strict";var v=u(790),x=u(358),d=u(314),L=u(702);function F(O,b,M,A,ue){this.options=L.merge(O),this.logger=M,F.rateLimiter.configureGlobal(this.options),F.rateLimiter.setPlatformOptions(ue,this.options),this.api=b,this.queue=new x(F.rateLimiter,b,M,this.options);var z=this.options.tracer||null;U(z)?(this.tracer=z,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new d(this.queue,this.options),this.telemeter=A,S(O),this.lastError=null,this.lastErrorHash="none"}function S(O){O.stackTraceLimit&&(Error.stackTraceLimit=O.stackTraceLimit)}function U(O){if(!O||!O.scope||"function"!=typeof O.scope)return!1;var b=O.scope();return!(!b||!b.active||"function"!=typeof b.active)}F.rateLimiter=new v({maxItems:0,itemsPerMinute:60}),F.prototype.global=function(O){return F.rateLimiter.configureGlobal(O),this},F.prototype.configure=function(O,b){var A={};b&&(A={payload:b}),this.options=L.merge(this.options,O,A);var ue=this.options.tracer||null;return U(ue)?(this.tracer=ue,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),S(O),this.global(this.options),U(O.tracer)&&(this.tracer=O.tracer),this},F.prototype.log=function(O){var b=this._defaultLogLevel();return this._log(b,O)},F.prototype.debug=function(O){this._log("debug",O)},F.prototype.info=function(O){this._log("info",O)},F.prototype.warn=function(O){this._log("warning",O)},F.prototype.warning=function(O){this._log("warning",O)},F.prototype.error=function(O){this._log("error",O)},F.prototype.critical=function(O){this._log("critical",O)},F.prototype.wait=function(O){this.queue.wait(O)},F.prototype.captureEvent=function(O,b,M){return this.telemeter&&this.telemeter.captureEvent(O,b,M)},F.prototype.captureDomContentLoaded=function(O){return this.telemeter&&this.telemeter.captureDomContentLoaded(O)},F.prototype.captureLoad=function(O){return this.telemeter&&this.telemeter.captureLoad(O)},F.prototype.buildJsonPayload=function(O){return this.api.buildJsonPayload(O)},F.prototype.sendJsonPayload=function(O){this.api.postJsonPayload(O)},F.prototype._log=function(O,b){var M;if(b.callback&&(M=b.callback,delete b.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(b)){if(M){var A=new Error("ignored identical item");A.item=b,M(A)}}else try{this._addTracingInfo(b),b.level=b.level||O,this.telemeter&&this.telemeter._captureRollbarItem(b),b.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(b,M)}catch(ue){M&&M(ue),this.logger.error(ue)}},F.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},F.prototype._sameAsLastError=function(O){if(!O._isUncaught)return!1;var M,b=((M=O).message||"")+"::"+((M.err||{}).stack||String(M.err));return this.lastErrorHash===b||(this.lastError=O.err,this.lastErrorHash=b,!1)},F.prototype._addTracingInfo=function(O){if(this.tracer){var b=this.tracer.scope().active();if(function(ue){if(!ue||!ue.context||"function"!=typeof ue.context)return!1;var z=ue.context();return!!(z&&z.toSpanId&&z.toTraceId&&"function"==typeof z.toSpanId&&"function"==typeof z.toTraceId)}(b)){b.setTag("rollbar.error_uuid",O.uuid),b.setTag("rollbar.has_error",!0),b.setTag("error",!0),b.setTag("rollbar.item_url",`https://rollbar.com/item/uuid/?uuid=${O.uuid}`),b.setTag("rollbar.occurrence_url",`https://rollbar.com/occurrence/uuid/?uuid=${O.uuid}`);var M=b.context().toSpanId(),A=b.context().toTraceId();O.custom?(O.custom.opentracing_span_id=M,O.custom.opentracing_trace_id=A):O.custom={opentracing_span_id:M,opentracing_trace_id:A}}}},r.exports=F},369:(r,y,u)=>{"use strict";var v=u(702),x=u(267);function d(L,F){var S=F.split("."),U=S.length-1;try{for(var O=0;O<=U;++O)O<U?L=L[S[O]]:L[S[O]]=v.redact()}catch{}}r.exports=function(L,F,S){if(F=F||[],S)for(var U=0;U<S.length;++U)d(L,S[U]);var O=function(A){for(var z=[],X=0;X<A.length;++X)z.push(new RegExp("^\\[?(%5[bB])?"+A[X]+"\\[?(%5[bB])?\\]?(%5[dD])?$","i"));return z}(F),b=function(A){for(var z=[],X=0;X<A.length;++X)z.push(new RegExp("(\\[?(%5[bB])?"+A[X]+"\\[?(%5[bB])?\\]?(%5[dD])?=)([^&\\n]+)","igm"));return z}(F);function M(A,ue){return ue+v.redact()}return x(L,function A(ue,z,X){var re=function(Z,Re){var oe;for(oe=0;oe<O.length;++oe)if(O[oe].test(Z)){Re=v.redact();break}return Re}(ue,z);return re===z?v.isType(z,"object")||v.isType(z,"array")?x(z,A,X):function(Z){var Re;if(v.isType(Z,"string"))for(Re=0;Re<b.length;++Re)Z=Z.replace(b[Re],M);return Z}(re):re})}},773:(r,y,u)=>{"use strict";var v=u(702),x=100;function d(F){this.queue=[],this.options=v.merge(F),this.maxQueueSize=Math.max(0,Math.min(this.options.maxTelemetryEvents||x,x))}function L(F,S){return S||{error:"error",manual:"info"}[F]||"info"}d.prototype.configure=function(F){this.options=v.merge(this.options,F);var O=Math.max(0,Math.min(this.options.maxTelemetryEvents||x,x)),b=0;this.queue.length>O&&(b=this.queue.length-O),this.maxQueueSize=O,this.queue.splice(0,b)},d.prototype.copyEvents=function(){var F=Array.prototype.slice.call(this.queue,0);if(v.isFunction(this.options.filterTelemetry))try{for(var S=F.length;S--;)this.options.filterTelemetry(F[S])&&F.splice(S,1)}catch{this.options.filterTelemetry=null}return F},d.prototype.capture=function(F,S,U,O,b){var M={level:L(F,U),type:F,timestamp_ms:b||v.now(),body:S,source:"client"};O&&(M.uuid=O);try{if(v.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(M))return!1}catch{this.options.filterTelemetry=null}return this.push(M),M},d.prototype.captureEvent=function(F,S,U,O){return this.capture(F,S,U,O)},d.prototype.captureError=function(F,S,U,O){var b={message:F.message||String(F)};return F.stack&&(b.stack=F.stack),this.capture("error",b,S,U,O)},d.prototype.captureLog=function(F,S,U,O){return this.capture("log",{message:F},S,U,O)},d.prototype.captureNetwork=function(F,S,U,O){S=S||"xhr",F.subtype=F.subtype||S,O&&(F.request=O);var b=this.levelFromStatus(F.status_code);return this.capture("network",F,b,U)},d.prototype.levelFromStatus=function(F){return F>=200&&F<400?"info":0===F||F>=400?"error":"info"},d.prototype.captureDom=function(F,S,U,O,b){var M={subtype:F,element:S};return void 0!==U&&(M.value=U),void 0!==O&&(M.checked=O),this.capture("dom",M,"info",b)},d.prototype.captureNavigation=function(F,S,U){return this.capture("navigation",{from:F,to:S},"info",U)},d.prototype.captureDomContentLoaded=function(F){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,F&&F.getTime())},d.prototype.captureLoad=function(F){return this.capture("navigation",{subtype:"load"},"info",void 0,F&&F.getTime())},d.prototype.captureConnectivityChange=function(F,S){return this.captureNetwork({change:F},"connectivity",S)},d.prototype._captureRollbarItem=function(F){if(this.options.includeItemsInTelemetry)return F.err?this.captureError(F.err,F.level,F.uuid,F.timestamp):F.message?this.captureLog(F.message,F.level,F.uuid,F.timestamp):F.custom?this.capture("log",F.custom,F.level,F.uuid,F.timestamp):void 0},d.prototype.push=function(F){this.queue.push(F),this.queue.length>this.maxQueueSize&&this.queue.shift()},r.exports=d},417:(r,y,u)=>{"use strict";var v=u(702);function x(d,L){v.isFunction(d[L])&&(d[L]=d[L].toString())}r.exports={itemToPayload:function(d,L,F){var S=d.data;d._isUncaught&&(S._isUncaught=!0),d._originalArgs&&(S._originalArgs=d._originalArgs),F(null,S)},addPayloadOptions:function(d,L,F){var S=L.payload||{};S.body&&delete S.body,d.data=v.merge(d.data,S),F(null,d)},addTelemetryData:function(d,L,F){d.telemetryEvents&&v.set(d,"data.body.telemetry",d.telemetryEvents),F(null,d)},addMessageWithError:function(d,L,F){if(d.message){var S="data.body.trace_chain.0",U=v.get(d,S);if(U||(U=v.get(d,S="data.body.trace")),U){if(!U.exception||!U.exception.description)return v.set(d,S+".exception.description",d.message),void F(null,d);var O=v.get(d,S+".extra")||{},b=v.merge(O,{message:d.message});v.set(d,S+".extra",b)}F(null,d)}else F(null,d)},userTransform:function(d){return function(L,F,S){var U=v.merge(L),O=null;try{v.isFunction(F.transform)&&(O=F.transform(U.data,L))}catch(b){return F.transform=null,d.error("Error while calling custom transform() function. Removing custom transform().",b),void S(null,L)}v.isPromise(O)?O.then(function(b){b&&(U.data=b),S(null,U)},function(b){S(b,L)}):S(null,U)}},addConfigToPayload:function(d,L,F){if(!L.sendConfig)return F(null,d);var S=v.get(d,"data.custom")||{};S._rollbarConfig=L,d.data.custom=S,F(null,d)},addConfiguredOptions:function(d,L,F){var S=L._configuredOptions;x(S,"transform"),x(S,"checkIgnore"),x(S,"onSendCallback"),delete S.accessToken,d.data.notifier.configured_options=S,F(null,d)},addDiagnosticKeys:function(d,L,F){var S=v.merge(d.notifier.client.notifier.diagnostic,d.diagnostic);if(v.get(d,"err._isAnonymous")&&(S.is_anonymous=!0),d._isUncaught&&(S.is_uncaught=d._isUncaught),d.err)try{S.raw_error={message:d.err.message,name:d.err.name,constructor_name:d.err.constructor&&d.err.constructor.name,filename:d.err.fileName,line:d.err.lineNumber,column:d.err.columnNumber,stack:d.err.stack}}catch(U){S.raw_error={failed:String(U)}}d.data.notifier.diagnostic=v.merge(d.data.notifier.diagnostic,S),F(null,d)}}},473:(r,y,u)=>{"use strict";var v=u(702),x=u(267);function d(A,ue){return[A,v.stringify(A,ue)]}function L(A,ue){var z=A.length;return z>2*ue?A.slice(0,ue).concat(A.slice(z-ue)):A}function F(A,ue,z){z=void 0===z?30:z;var X,re=A.data.body;if(re.trace_chain)for(var Z=re.trace_chain,Re=0;Re<Z.length;Re++)X=L(X=Z[Re].frames,z),Z[Re].frames=X;else re.trace&&(X=L(X=re.trace.frames,z),re.trace.frames=X);return[A,v.stringify(A,ue)]}function S(A,ue){return ue&&ue.length>A?ue.slice(0,A-3).concat("..."):ue}function U(A,ue,z){return[ue=x(ue,function X(re,Z,Re){switch(v.typeName(Z)){case"string":return S(A,Z);case"object":case"array":return x(Z,X,Re);default:return Z}}),v.stringify(ue,z)]}function O(A){return A.exception&&(delete A.exception.description,A.exception.message=S(255,A.exception.message)),A.frames=L(A.frames,1),A}function b(A,ue){var z=A.data.body;if(z.trace_chain)for(var X=z.trace_chain,re=0;re<X.length;re++)X[re]=O(X[re]);else z.trace&&(z.trace=O(z.trace));return[A,v.stringify(A,ue)]}function M(A,ue){return v.maxByteSize(A)>ue}r.exports={truncate:function(A,ue,z){z=void 0===z?524288:z;for(var X,re,Z,Re=[d,F,U.bind(null,1024),U.bind(null,512),U.bind(null,256),b];X=Re.shift();)if(A=(re=X(A,ue))[0],(Z=re[1]).error||!M(Z.value,z))return Z;return Z},raw:d,truncateFrames:F,truncateStrings:U,maybeTruncateValue:S}},702:(r,y,u)=>{"use strict";var v=u(420),x={};function d(Re,oe){return oe===L(Re)}function L(Re){var oe=typeof Re;return"object"!==oe?oe:Re?Re instanceof Error?"error":{}.toString.call(Re).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function F(Re){return d(Re,"function")}function S(Re){var oe=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),Ce=RegExp("^"+oe+"$");return U(Re)&&Ce.test(Re)}function U(Re){var oe=typeof Re;return null!=Re&&("object"==oe||"function"==oe)}function O(){var Re=Z();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(oe){var Ce=(Re+16*Math.random())%16|0;return Re=Math.floor(Re/16),("x"===oe?Ce:7&Ce|8).toString(16)})}var b={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function M(Re,oe){var Ce,K;try{Ce=x.stringify(Re)}catch(R){if(oe&&F(oe))try{Ce=oe(Re)}catch(ce){K=ce}else K=R}return{error:K,value:Ce}}function A(Re,oe){return function(Ce,K){try{oe(Ce,K)}catch(R){Re.error(R)}}}function ue(Re){return function oe(Ce,K){var R,ce,$,Fe={};try{for(ce in Ce)(R=Ce[ce])&&(d(R,"object")||d(R,"array"))?K.includes(R)?Fe[ce]="Removed circular reference: "+L(R):(($=K.slice()).push(R),Fe[ce]=oe(R,$)):Fe[ce]=R}catch(je){Fe="Failed cloning custom data: "+je.message}return Fe}(Re,[Re])}var z=["log","network","dom","navigation","error","manual"],X=["critical","error","warning","info","debug"];function re(Re,oe){for(var Ce=0;Ce<Re.length;++Ce)if(Re[Ce]===oe)return!0;return!1}function Z(){return Date.now?+Date.now():+new Date}r.exports={addParamsAndAccessTokenToPath:function(Re,oe,Ce){(Ce=Ce||{}).access_token=Re;var K,R=[];for(K in Ce)Object.prototype.hasOwnProperty.call(Ce,K)&&R.push([K,Ce[K]].join("="));var ce="?"+R.sort().join("&");(oe=oe||{}).path=oe.path||"";var $,Fe=oe.path.indexOf("?"),je=oe.path.indexOf("#");oe.path=-1!==Fe&&(-1===je||je>Fe)?($=oe.path).substring(0,Fe)+ce+"&"+$.substring(Fe+1):-1!==je?($=oe.path).substring(0,je)+ce+$.substring(je):oe.path+ce},createItem:function(Re,oe,Ce,K,R){for(var ce,$,Fe,je,Ve,lt,pt=[],St=[],Rn=0,G=Re.length;Rn<G;++Rn){var ee=L(lt=Re[Rn]);switch(St.push(ee),ee){case"undefined":break;case"string":ce?pt.push(lt):ce=lt;break;case"function":je=A(oe,lt);break;case"date":pt.push(lt);break;case"error":case"domexception":case"exception":$?pt.push(lt):$=lt;break;case"object":case"array":if(lt instanceof Error||typeof DOMException<"u"&&lt instanceof DOMException){$?pt.push(lt):$=lt;break}if(K&&"object"===ee&&!Ve){for(var De=0,Ge=K.length;De<Ge;++De)if(void 0!==lt[K[De]]){Ve=lt;break}if(Ve)break}Fe?pt.push(lt):Fe=lt;break;default:if(lt instanceof Error||typeof DOMException<"u"&&lt instanceof DOMException){$?pt.push(lt):$=lt;break}pt.push(lt)}}Fe&&(Fe=ue(Fe)),pt.length>0&&(Fe||(Fe=ue({})),Fe.extraArgs=ue(pt));var ut,bt,Ze={message:ce,err:$,custom:Fe,timestamp:Z(),callback:je,notifier:Ce,diagnostic:{},uuid:O()};return ut=Ze,(bt=Fe)&&void 0!==bt.level&&(ut.level=bt.level,delete bt.level),bt&&void 0!==bt.skipFrames&&(ut.skipFrames=bt.skipFrames,delete bt.skipFrames),K&&Ve&&(Ze.request=Ve),R&&(Ze.lambdaContext=R),Ze._originalArgs=Re,Ze.diagnostic.original_arg_types=St,Ze},addErrorContext:function(Re,oe){var Ce=Re.data.custom||{},K=!1;try{for(var R=0;R<oe.length;++R)oe[R].hasOwnProperty("rollbarContext")&&(Ce=v(Ce,ue(oe[R].rollbarContext)),K=!0);K&&(Re.data.custom=Ce)}catch(ce){Re.diagnostic.error_context="Failed: "+ce.message}},createTelemetryEvent:function(Re){for(var oe,Ce,K,R,ce=0,$=Re.length;ce<$;++ce)switch(L(R=Re[ce])){case"string":!oe&&re(z,R)?oe=R:!K&&re(X,R)&&(K=R);break;case"object":Ce=R}return{type:oe||"manual",metadata:Ce||{},level:K}},filterIp:function(Re,oe){if(Re&&Re.user_ip&&!0!==oe){var Ce=Re.user_ip;if(oe)try{var K;if(-1!==Ce.indexOf("."))(K=Ce.split(".")).pop(),K.push("0"),Ce=K.join(".");else if(-1!==Ce.indexOf(":")){if((K=Ce.split(":")).length>2){var R=K.slice(0,3),ce=R[2].indexOf("/");-1!==ce&&(R[2]=R[2].substring(0,ce)),Ce=R.concat("0000:0000:0000:0000:0000").join(":")}}else Ce=null}catch{Ce=null}else Ce=null;Re.user_ip=Ce}},formatArgsAsString:function(Re){var oe,Ce,K,R=[];for(oe=0,Ce=Re.length;oe<Ce;++oe){switch(L(K=Re[oe])){case"object":(K=(K=M(K)).error||K.value).length>500&&(K=K.substr(0,497)+"...");break;case"null":K="null";break;case"undefined":K="undefined";break;case"symbol":K=K.toString()}R.push(K)}return R.join(" ")},formatUrl:function(Re,oe){if(!(oe=oe||Re.protocol)&&Re.port&&(80===Re.port?oe="http:":443===Re.port&&(oe="https:")),!Re.hostname)return null;var Ce=(oe=oe||"https:")+"//"+Re.hostname;return Re.port&&(Ce=Ce+":"+Re.port),Re.path&&(Ce+=Re.path),Ce},get:function(Re,oe){if(Re){var Ce=oe.split("."),K=Re;try{for(var R=0,ce=Ce.length;R<ce;++R)K=K[Ce[R]]}catch{K=void 0}return K}},handleOptions:function(Re,oe,Ce,K){var ce,$,R=v(Re,oe,Ce);return $=K,(ce=R).hostWhiteList&&!ce.hostSafeList&&(ce.hostSafeList=ce.hostWhiteList,ce.hostWhiteList=void 0,$&&$.log("hostWhiteList is deprecated. Use hostSafeList.")),ce.hostBlackList&&!ce.hostBlockList&&(ce.hostBlockList=ce.hostBlackList,ce.hostBlackList=void 0,$&&$.log("hostBlackList is deprecated. Use hostBlockList.")),R=ce,!oe||oe.overwriteScrubFields||oe.scrubFields&&(R.scrubFields=(Re.scrubFields||[]).concat(oe.scrubFields)),R},isError:function(Re){return d(Re,"error")||d(Re,"exception")},isFiniteNumber:function(Re){return Number.isFinite(Re)},isFunction:F,isIterable:function(Re){var oe=L(Re);return"object"===oe||"array"===oe},isNativeFunction:S,isObject:U,isString:function(Re){return"string"==typeof Re||Re instanceof String},isType:d,isPromise:function(Re){return U(Re)&&d(Re.then,"function")},jsonParse:function(Re){var oe,Ce;try{oe=x.parse(Re)}catch(K){Ce=K}return{error:Ce,value:oe}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(Re,oe,Ce,K,R,ce,$,Fe){var je={url:oe||"",line:Ce,column:K};je.func=Fe.guessFunctionName(je.url,je.line),je.context=Fe.gatherContext(je.url,je.line);var Ve=typeof document<"u"&&document&&document.location&&document.location.href,lt=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:ce,message:R?String(R):Re||$,url:Ve,stack:[je],useragent:lt}},merge:v,now:Z,redact:function(){return"********"},RollbarJSON:x,sanitizeUrl:function(Re){var oe=function(Ce){if(d(Ce,"string")){for(var K=b,R=K.parser[K.strictMode?"strict":"loose"].exec(Ce),ce={},$=0,Fe=K.key.length;$<Fe;++$)ce[K.key[$]]=R[$]||"";return ce[K.q.name]={},ce[K.key[12]].replace(K.q.parser,function(je,Ve,lt){Ve&&(ce[K.q.name][Ve]=lt)}),ce}}(Re);return oe?(""===oe.anchor&&(oe.source=oe.source.replace("#","")),Re=oe.source.replace("?"+oe.query,"")):"(unknown)"},set:function(Re,oe,Ce){if(Re){var K=oe.split("."),R=K.length;if(!(R<1))if(1!==R)try{for(var ce=Re[K[0]]||{},$=ce,Fe=1;Fe<R-1;++Fe)ce[K[Fe]]=ce[K[Fe]]||{},ce=ce[K[Fe]];ce[K[R-1]]=Ce,Re[K[0]]=$}catch{return}else Re[K[0]]=Ce}},setupJSON:function(Re){F(x.stringify)&&F(x.parse)||(d(JSON,"undefined")||(Re?(S(JSON.stringify)&&(x.stringify=JSON.stringify),S(JSON.parse)&&(x.parse=JSON.parse)):(F(JSON.stringify)&&(x.stringify=JSON.stringify),F(JSON.parse)&&(x.parse=JSON.parse))),F(x.stringify)&&F(x.parse)||Re&&Re(x))},stringify:M,maxByteSize:function(Re){for(var oe=0,Ce=Re.length,K=0;K<Ce;K++){var R=Re.charCodeAt(K);R<128?oe+=1:R<2048?oe+=2:R<65536&&(oe+=3)}return oe},typeName:L,uuid4:O}},650:r=>{"use strict";function y(v){return"string"!=typeof v&&(v=String(v)),v.toLowerCase()}function u(v){this.map={},v instanceof u?v.forEach(function(x,d){this.append(d,x)},this):Array.isArray(v)?v.forEach(function(x){this.append(x[0],x[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(x){this.append(x,v[x])},this)}u.prototype.append=function(v,x){var L;v=y(v),"string"!=typeof(L=x)&&(L=String(L)),x=L;var d=this.map[v];this.map[v]=d?d+", "+x:x},u.prototype.get=function(v){return v=y(v),this.has(v)?this.map[v]:null},u.prototype.has=function(v){return this.map.hasOwnProperty(y(v))},u.prototype.forEach=function(v,x){for(var d in this.map)this.map.hasOwnProperty(d)&&v.call(x,this.map[d],d,this)},u.prototype.entries=function(){var v=[];return this.forEach(function(x,d){v.push([d,x])}),function(x){return{next:function(){var d=x.shift();return{done:void 0===d,value:d}}}}(v)},r.exports=function(v){return typeof Headers>"u"?new u(v):new Headers(v)}},876:(r,y,u)=>{"use strict";var v=u(708);r.exports=v},297:r=>{"use strict";r.exports=function(y,u,v,x,d){var L=y[u];y[u]=v(L),x&&x[d].push([y,u,L])}},267:(r,y,u)=>{"use strict";var v=u(702);r.exports=function(x,d,L){var F,S,U,O,b=v.isType(x,"object"),M=v.isType(x,"array"),A=[];if(L=L||{obj:[],mapped:[]},b){if(O=L.obj.indexOf(x),b&&-1!==O)return L.mapped[O]||L.obj[O];L.obj.push(x),O=L.obj.length-1}if(b)for(F in x)Object.prototype.hasOwnProperty.call(x,F)&&A.push(F);else if(M)for(U=0;U<x.length;++U)A.push(U);var ue=b?{}:[],z=!0;for(U=0;U<A.length;++U)S=x[F=A[U]],ue[F]=d(F,S,L),z=z&&ue[F]===x[F];return b&&!z&&(L.mapped[O]=ue),z?x:ue}},708:r=>{r.exports=function(y){var u,v,x,d,L,F,S,U,O,b,M,A,ue,z=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function X(oe){return oe<10?"0"+oe:oe}function re(){return this.valueOf()}function Z(oe){return z.lastIndex=0,z.test(oe)?'"'+oe.replace(z,function(Ce){var K=x[Ce];return"string"==typeof K?K:"\\u"+("0000"+Ce.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+oe+'"'}function Re(oe,Ce){var K,R,ce,$,Fe,je=u,Ve=Ce[oe];switch(Ve&&"object"==typeof Ve&&"function"==typeof Ve.toJSON&&(Ve=Ve.toJSON(oe)),"function"==typeof d&&(Ve=d.call(Ce,oe,Ve)),typeof Ve){case"string":return Z(Ve);case"number":return isFinite(Ve)?String(Ve):"null";case"boolean":case"null":return String(Ve);case"object":if(!Ve)return"null";if(u+=v,Fe=[],"[object Array]"===Object.prototype.toString.apply(Ve)){for($=Ve.length,K=0;K<$;K+=1)Fe[K]=Re(K,Ve)||"null";return ce=0===Fe.length?"[]":u?"[\n"+u+Fe.join(",\n"+u)+"\n"+je+"]":"["+Fe.join(",")+"]",u=je,ce}if(d&&"object"==typeof d)for($=d.length,K=0;K<$;K+=1)"string"==typeof d[K]&&(ce=Re(R=d[K],Ve))&&Fe.push(Z(R)+(u?": ":":")+ce);else for(R in Ve)Object.prototype.hasOwnProperty.call(Ve,R)&&(ce=Re(R,Ve))&&Fe.push(Z(R)+(u?": ":":")+ce);return ce=0===Fe.length?"{}":u?"{\n"+u+Fe.join(",\n"+u)+"\n"+je+"}":"{"+Fe.join(",")+"}",u=je,ce}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+X(this.getUTCMonth()+1)+"-"+X(this.getUTCDate())+"T"+X(this.getUTCHours())+":"+X(this.getUTCMinutes())+":"+X(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=re,Number.prototype.toJSON=re,String.prototype.toJSON=re),"function"!=typeof y.stringify&&(x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y.stringify=function(oe,Ce,K){var R;if(u="",v="","number"==typeof K)for(R=0;R<K;R+=1)v+=" ";else"string"==typeof K&&(v=K);if(d=Ce,Ce&&"function"!=typeof Ce&&("object"!=typeof Ce||"number"!=typeof Ce.length))throw new Error("JSON.stringify");return Re("",{"":oe})}),"function"!=typeof y.parse&&(y.parse=(b={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},M={go:function(){L="ok"},firstokey:function(){U=O,L="colon"},okey:function(){U=O,L="colon"},ovalue:function(){L="ocomma"},firstavalue:function(){L="acomma"},avalue:function(){L="acomma"}},A={go:function(){L="ok"},ovalue:function(){L="ocomma"},firstavalue:function(){L="acomma"},avalue:function(){L="acomma"}},ue={"{":{go:function(){F.push({state:"ok"}),S={},L="firstokey"},ovalue:function(){F.push({container:S,state:"ocomma",key:U}),S={},L="firstokey"},firstavalue:function(){F.push({container:S,state:"acomma"}),S={},L="firstokey"},avalue:function(){F.push({container:S,state:"acomma"}),S={},L="firstokey"}},"}":{firstokey:function(){var oe=F.pop();O=S,S=oe.container,U=oe.key,L=oe.state},ocomma:function(){var oe=F.pop();S[U]=O,O=S,S=oe.container,U=oe.key,L=oe.state}},"[":{go:function(){F.push({state:"ok"}),S=[],L="firstavalue"},ovalue:function(){F.push({container:S,state:"ocomma",key:U}),S=[],L="firstavalue"},firstavalue:function(){F.push({container:S,state:"acomma"}),S=[],L="firstavalue"},avalue:function(){F.push({container:S,state:"acomma"}),S=[],L="firstavalue"}},"]":{firstavalue:function(){var oe=F.pop();O=S,S=oe.container,U=oe.key,L=oe.state},acomma:function(){var oe=F.pop();S.push(O),O=S,S=oe.container,U=oe.key,L=oe.state}},":":{colon:function(){if(Object.hasOwnProperty.call(S,U))throw new SyntaxError("Duplicate key '"+U+'"');L="ovalue"}},",":{ocomma:function(){S[U]=O,L="okey"},acomma:function(){S.push(O),L="avalue"}},true:{go:function(){O=!0,L="ok"},ovalue:function(){O=!0,L="ocomma"},firstavalue:function(){O=!0,L="acomma"},avalue:function(){O=!0,L="acomma"}},false:{go:function(){O=!1,L="ok"},ovalue:function(){O=!1,L="ocomma"},firstavalue:function(){O=!1,L="acomma"},avalue:function(){O=!1,L="acomma"}},null:{go:function(){O=null,L="ok"},ovalue:function(){O=null,L="ocomma"},firstavalue:function(){O=null,L="acomma"},avalue:function(){O=null,L="acomma"}}},function(oe,Ce){var K,ce=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;L="go",F=[];try{for(;K=ce.exec(oe);)K[1]?ue[K[1]][L]():K[2]?(O=+K[2],A[L]()):(O=K[3].replace(/\\(?:u(.{4})|([^u]))/g,function($,Fe,je){return Fe?String.fromCharCode(parseInt(Fe,16)):b[je]}),M[L]()),oe=oe.slice(K[0].length)}catch($){L=$}if("ok"!==L||/[^\u0020\t\n\r]/.test(oe))throw L instanceof SyntaxError?L:new SyntaxError("JSON");return"function"==typeof Ce?function $(Fe,je){var Ve,lt,pt=Fe[je];if(pt&&"object"==typeof pt)for(Ve in O)Object.prototype.hasOwnProperty.call(pt,Ve)&&(void 0!==(lt=$(pt,Ve))?pt[Ve]=lt:delete pt[Ve]);return Ce.call(Fe,je,pt)}({"":O},""):O}))}}},w={},function r(y){var u=w[y];if(void 0!==u)return u.exports;var v=w[y]={exports:{}};return ye[y].call(v.exports,v,v.exports,r),v.exports}(409);var ye,w},ln.exports=w()},29160:(ln,ye,w)=>{"use strict";w.d(ye,{t:()=>y});var r=w(85052);class y extends r.B{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const x=super._subscribe(v);return!x.closed&&v.next(this._value),x}getValue(){const{hasError:v,thrownError:x,_value:d}=this;if(v)throw x;return this._throwIfClosed(),d}next(v){super.next(this._value=v)}}},2573:(ln,ye,w)=>{"use strict";w.d(ye,{c:()=>F});var r=w(36567),y=w(81027),u=w(76138),v=w(37479),x=w(8502),d=w(34403),L=w(32926);let F=(()=>{class b{constructor(A){A&&(this._subscribe=A)}lift(A){const ue=new b;return ue.source=this,ue.operator=A,ue}subscribe(A,ue,z){const X=function O(b){return b&&b instanceof r.vU||function U(b){return b&&(0,d.T)(b.next)&&(0,d.T)(b.error)&&(0,d.T)(b.complete)}(b)&&(0,y.Uv)(b)}(A)?A:new r.Ms(A,ue,z);return(0,L.Y)(()=>{const{operator:re,source:Z}=this;X.add(re?re.call(X,Z):Z?this._subscribe(X):this._trySubscribe(X))}),X}_trySubscribe(A){try{return this._subscribe(A)}catch(ue){A.error(ue)}}forEach(A,ue){return new(ue=S(ue))((z,X)=>{const re=new r.Ms({next:Z=>{try{A(Z)}catch(Re){X(Re),re.unsubscribe()}},error:X,complete:z});this.subscribe(re)})}_subscribe(A){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(A)}[u.s](){return this}pipe(...A){return(0,v.m)(A)(this)}toPromise(A){return new(A=S(A))((ue,z)=>{let X;this.subscribe(re=>X=re,re=>z(re),()=>ue(X))})}}return b.create=M=>new b(M),b})();function S(b){var M;return null!==(M=b??x.$.Promise)&&void 0!==M?M:Promise}},60391:(ln,ye,w)=>{"use strict";w.d(ye,{m:()=>u});var r=w(85052),y=w(59309);class u extends r.B{constructor(x=1/0,d=1/0,L=y.U){super(),this._bufferSize=x,this._windowTime=d,this._timestampProvider=L,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=d===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,d)}next(x){const{isStopped:d,_buffer:L,_infiniteTimeWindow:F,_timestampProvider:S,_windowTime:U}=this;d||(L.push(x),!F&&L.push(S.now()+U)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const d=this._innerSubscribe(x),{_infiniteTimeWindow:L,_buffer:F}=this,S=F.slice();for(let U=0;U<S.length&&!x.closed;U+=L?1:2)x.next(S[U]);return this._checkFinalizedStatuses(x),d}_trimBuffer(){const{_bufferSize:x,_timestampProvider:d,_buffer:L,_infiniteTimeWindow:F}=this,S=(F?1:2)*x;if(x<1/0&&S<L.length&&L.splice(0,L.length-S),!F){const U=d.now();let O=0;for(let b=1;b<L.length&&L[b]<=U;b+=2)O=b;O&&L.splice(0,O+1)}}}},85052:(ln,ye,w)=>{"use strict";w.d(ye,{B:()=>L});var r=w(2573),y=w(81027);const v=(0,w(87385).L)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=w(67584),d=w(32926);let L=(()=>{class S extends r.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const b=new F(this,this);return b.operator=O,b}_throwIfClosed(){if(this.closed)throw new v}next(O){(0,d.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const b of this.currentObservers)b.next(O)}})}error(O){(0,d.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:b}=this;for(;b.length;)b.shift().error(O)}})}complete(){(0,d.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:b,isStopped:M,observers:A}=this;return b||M?y.Kn:(this.currentObservers=null,A.push(O),new y.yU(()=>{this.currentObservers=null,(0,x.o)(A,O)}))}_checkFinalizedStatuses(O){const{hasError:b,thrownError:M,isStopped:A}=this;b?O.error(M):A&&O.complete()}asObservable(){const O=new r.c;return O.source=this,O}}return S.create=(U,O)=>new F(U,O),S})();class F extends L{constructor(U,O){super(),this.destination=U,this.source=O}next(U){var O,b;null===(b=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===b||b.call(O,U)}error(U){var O,b;null===(b=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===b||b.call(O,U)}complete(){var U,O;null===(O=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===O||O.call(U)}_subscribe(U){var O,b;return null!==(b=null===(O=this.source)||void 0===O?void 0:O.subscribe(U))&&void 0!==b?b:y.Kn}}},36567:(ln,ye,w)=>{"use strict";w.d(ye,{Ms:()=>z,vU:()=>b});var r=w(34403),y=w(81027),u=w(8502),v=w(46642),x=w(19827);const d=S("C",void 0,void 0);function S(oe,Ce,K){return{kind:oe,value:Ce,error:K}}var U=w(12386),O=w(32926);class b extends y.yU{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,y.Uv)(Ce)&&Ce.add(this)):this.destination=Re}static create(Ce,K,R){return new z(Ce,K,R)}next(Ce){this.isStopped?Z(function F(oe){return S("N",oe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Z(function L(oe){return S("E",void 0,oe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Z(d,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function A(oe,Ce){return M.call(oe,Ce)}class ue{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:K}=this;if(K.next)try{K.next(Ce)}catch(R){X(R)}}error(Ce){const{partialObserver:K}=this;if(K.error)try{K.error(Ce)}catch(R){X(R)}else X(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(K){X(K)}}}class z extends b{constructor(Ce,K,R){let ce;if(super(),(0,r.T)(Ce)||!Ce)ce={next:Ce??void 0,error:K??void 0,complete:R??void 0};else{let $;this&&u.$.useDeprecatedNextContext?($=Object.create(Ce),$.unsubscribe=()=>this.unsubscribe(),ce={next:Ce.next&&A(Ce.next,$),error:Ce.error&&A(Ce.error,$),complete:Ce.complete&&A(Ce.complete,$)}):ce=Ce}this.destination=new ue(ce)}}function X(oe){u.$.useDeprecatedSynchronousErrorHandling?(0,O.l)(oe):(0,v.m)(oe)}function Z(oe,Ce){const{onStoppedNotification:K}=u.$;K&&U.f.setTimeout(()=>K(oe,Ce))}const Re={closed:!0,next:x.l,error:function re(oe){throw oe},complete:x.l}},81027:(ln,ye,w)=>{"use strict";w.d(ye,{Kn:()=>d,yU:()=>x,Uv:()=>L});var r=w(34403);const u=(0,w(87385).L)(S=>function(O){S(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((b,M)=>`${M+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var v=w(67584);class x{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const A of O)A.remove(this);else O.remove(this);const{initialTeardown:b}=this;if((0,r.T)(b))try{b()}catch(A){U=A instanceof u?A.errors:[A]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const A of M)try{F(A)}catch(ue){U=U??[],ue instanceof u?U=[...U,...ue.errors]:U.push(ue)}}if(U)throw new u(U)}}add(U){var O;if(U&&U!==this)if(this.closed)F(U);else{if(U instanceof x){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(U)}}_hasParent(U){const{_parentage:O}=this;return O===U||Array.isArray(O)&&O.includes(U)}_addParent(U){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(U),O):O?[O,U]:U}_removeParent(U){const{_parentage:O}=this;O===U?this._parentage=null:Array.isArray(O)&&(0,v.o)(O,U)}remove(U){const{_finalizers:O}=this;O&&(0,v.o)(O,U),U instanceof x&&U._removeParent(this)}}x.EMPTY=(()=>{const S=new x;return S.closed=!0,S})();const d=x.EMPTY;function L(S){return S instanceof x||S&&"closed"in S&&(0,r.T)(S.remove)&&(0,r.T)(S.add)&&(0,r.T)(S.unsubscribe)}function F(S){(0,r.T)(S)?S():S.unsubscribe()}},8502:(ln,ye,w)=>{"use strict";w.d(ye,{$:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},40215:(ln,ye,w)=>{"use strict";w.d(ye,{_:()=>u});var r=w(50330),y=w(36567);function u(v,x){const d="object"==typeof x;return new Promise((L,F)=>{const S=new y.Ms({next:U=>{L(U),S.unsubscribe()},error:F,complete:()=>{d?L(x.defaultValue):F(new r.G)}});v.subscribe(S)})}},7221:(ln,ye,w)=>{"use strict";w.d(ye,{G:()=>d});var r=w(2573),y=w(81027),u=w(44710),v=w(66196),x=w(15210);class d extends r.c{constructor(F,S){super(),this.source=F,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(F)&&(this.lift=F.lift)}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:F}=this;this._subject=this._connection=null,F?.unsubscribe()}connect(){let F=this._connection;if(!F){F=this._connection=new y.yU;const S=this.getSubject();F.add(this.source.subscribe((0,v._)(S,void 0,()=>{this._teardown(),S.complete()},U=>{this._teardown(),S.error(U)},()=>this._teardown()))),F.closed&&(this._connection=null,F=y.yU.EMPTY)}return F}refCount(){return(0,u.B)()(this)}}},82656:(ln,ye,w)=>{"use strict";w.d(ye,{z:()=>U});var r=w(2573),y=w(15437),u=w(21472),v=w(19577),x=w(7694),d=w(17106),L=w(25436),F=w(66196),S=w(82733);function U(...M){const A=(0,d.lI)(M),ue=(0,d.ms)(M),{args:z,keys:X}=(0,y.D)(M);if(0===z.length)return(0,u.H)([],A);const re=new r.c(function O(M,A,ue=v.D){return z=>{b(A,()=>{const{length:X}=M,re=new Array(X);let Z=X,Re=X;for(let oe=0;oe<X;oe++)b(A,()=>{const Ce=(0,u.H)(M[oe],A);let K=!1;Ce.subscribe((0,F._)(z,R=>{re[oe]=R,K||(K=!0,Re--),Re||z.next(ue(re.slice()))},()=>{--Z||z.complete()}))},z)},z)}}(z,A,X?Z=>(0,L.e)(X,Z):v.D));return ue?re.pipe((0,x.I)(ue)):re}function b(M,A,ue){M?(0,S.N)(ue,M,A):A()}},35892:(ln,ye,w)=>{"use strict";w.d(ye,{x:()=>v});var r=w(26727),y=w(17106),u=w(21472);function v(...x){return(0,r.K)()((0,u.H)(x,(0,y.lI)(x)))}},45946:(ln,ye,w)=>{"use strict";w.d(ye,{v:()=>u});var r=w(2573),y=w(81954);function u(v){return new r.c(x=>{(0,y.Tg)(v()).subscribe(x)})}},26047:(ln,ye,w)=>{"use strict";w.d(ye,{d:()=>v});var r=w(2573);const y={now:()=>(y.delegate||performance).now(),delegate:void 0};var u=w(40812);function v(L){return L?x(L):d}function x(L){return new r.c(F=>{const S=L||y,U=S.now();let O=0;const b=()=>{F.closed||(O=u.H.requestAnimationFrame(M=>{O=0;const A=S.now();F.next({timestamp:L?A:M,elapsed:A-U}),b()}))};return b(),()=>{O&&u.H.cancelAnimationFrame(O)}})}const d=x()},2515:(ln,ye,w)=>{"use strict";w.d(ye,{I:()=>u,w:()=>y});var r=w(2573);const y=new r.c(x=>x.complete());function u(x){return x?function v(x){return new r.c(d=>x.schedule(()=>d.complete()))}(x):y}},46104:(ln,ye,w)=>{"use strict";w.d(ye,{p:()=>F});var r=w(2573),y=w(15437),u=w(81954),v=w(17106),x=w(66196),d=w(7694),L=w(25436);function F(...S){const U=(0,v.ms)(S),{args:O,keys:b}=(0,y.D)(S),M=new r.c(A=>{const{length:ue}=O;if(!ue)return void A.complete();const z=new Array(ue);let X=ue,re=ue;for(let Z=0;Z<ue;Z++){let Re=!1;(0,u.Tg)(O[Z]).subscribe((0,x._)(A,oe=>{Re||(Re=!0,re--),z[Z]=oe},()=>X--,void 0,()=>{(!X||!Re)&&(re||A.next(b?(0,L.e)(b,z):z),A.complete())}))}});return U?M.pipe((0,d.I)(U)):M}},21472:(ln,ye,w)=>{"use strict";w.d(ye,{H:()=>u});var r=w(7974),y=w(81954);function u(v,x){return x?(0,r.c)(v,x):(0,y.Tg)(v)}},35426:(ln,ye,w)=>{"use strict";w.d(ye,{R:()=>U});var r=w(81954),y=w(2573),u=w(11756),v=w(48629),x=w(34403),d=w(7694);const L=["addListener","removeListener"],F=["addEventListener","removeEventListener"],S=["on","off"];function U(ue,z,X,re){if((0,x.T)(X)&&(re=X,X=void 0),re)return U(ue,z,X).pipe((0,d.I)(re));const[Z,Re]=function A(ue){return(0,x.T)(ue.addEventListener)&&(0,x.T)(ue.removeEventListener)}(ue)?F.map(oe=>Ce=>ue[oe](z,Ce,X)):function b(ue){return(0,x.T)(ue.addListener)&&(0,x.T)(ue.removeListener)}(ue)?L.map(O(ue,z)):function M(ue){return(0,x.T)(ue.on)&&(0,x.T)(ue.off)}(ue)?S.map(O(ue,z)):[];if(!Z&&(0,v.X)(ue))return(0,u.Z)(oe=>U(oe,z,X))((0,r.Tg)(ue));if(!Z)throw new TypeError("Invalid event target");return new y.c(oe=>{const Ce=(...K)=>oe.next(1<K.length?K:K[0]);return Z(Ce),()=>Re(Ce)})}function O(ue,z){return X=>re=>ue[X](z,re)}},81954:(ln,ye,w)=>{"use strict";w.d(ye,{Tg:()=>M});var r=w(31635),y=w(48629),u=w(67854),v=w(2573),x=w(69531),d=w(97757),L=w(5835),F=w(34401),S=w(18432),U=w(34403),O=w(46642),b=w(76138);function M(oe){if(oe instanceof v.c)return oe;if(null!=oe){if((0,x.l)(oe))return function A(oe){return new v.c(Ce=>{const K=oe[b.s]();if((0,U.T)(K.subscribe))return K.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,y.X)(oe))return function ue(oe){return new v.c(Ce=>{for(let K=0;K<oe.length&&!Ce.closed;K++)Ce.next(oe[K]);Ce.complete()})}(oe);if((0,u.y)(oe))return function z(oe){return new v.c(Ce=>{oe.then(K=>{Ce.closed||(Ce.next(K),Ce.complete())},K=>Ce.error(K)).then(null,O.m)})}(oe);if((0,d.T)(oe))return re(oe);if((0,F.x)(oe))return function X(oe){return new v.c(Ce=>{for(const K of oe)if(Ce.next(K),Ce.closed)return;Ce.complete()})}(oe);if((0,S.U)(oe))return function Z(oe){return re((0,S.C)(oe))}(oe)}throw(0,L.L)(oe)}function re(oe){return new v.c(Ce=>{(function Re(oe,Ce){var K,R,ce,$;return(0,r.sH)(this,void 0,void 0,function*(){try{for(K=(0,r.xN)(oe);!(R=yield K.next()).done;)if(Ce.next(R.value),Ce.closed)return}catch(Fe){ce={error:Fe}}finally{try{R&&!R.done&&($=K.return)&&(yield $.call(K))}finally{if(ce)throw ce.error}}Ce.complete()})})(oe,Ce).catch(K=>Ce.error(K))})}},96513:(ln,ye,w)=>{"use strict";w.d(ye,{Y:()=>u});var r=w(8360),y=w(43654);function u(v=0,x=r.E){return v<0&&(v=0),(0,y.O)(v,v,x)}},76718:(ln,ye,w)=>{"use strict";w.d(ye,{h:()=>d});var r=w(98297),y=w(81954),u=w(2515),v=w(17106),x=w(21472);function d(...L){const F=(0,v.lI)(L),S=(0,v.R0)(L,1/0),U=L;return U.length?1===U.length?(0,y.Tg)(U[0]):(0,r.U)(S)((0,x.H)(U,F)):u.w}},15877:(ln,ye,w)=>{"use strict";w.d(ye,{of:()=>u});var r=w(17106),y=w(21472);function u(...v){const x=(0,r.lI)(v);return(0,y.H)(v,x)}},45326:(ln,ye,w)=>{"use strict";w.d(ye,{$:()=>u});var r=w(2573),y=w(34403);function u(v,x){const d=(0,y.T)(v)?v:()=>v,L=F=>F.error(d());return new r.c(x?F=>x.schedule(L,0,F):L)}},43654:(ln,ye,w)=>{"use strict";w.d(ye,{O:()=>x});var r=w(2573),y=w(8360),u=w(41498);function x(d=0,L,F=y.b){let S=-1;return null!=L&&((0,u.m)(L)?F=L:S=L),new r.c(U=>{let O=function v(d){return d instanceof Date&&!isNaN(d)}(d)?+d-F.now():d;O<0&&(O=0);let b=0;return F.schedule(function(){U.closed||(U.next(b++),0<=S?this.schedule(void 0,S):U.complete())},O)})}},66196:(ln,ye,w)=>{"use strict";w.d(ye,{_:()=>y});var r=w(36567);function y(v,x,d,L,F){return new u(v,x,d,L,F)}class u extends r.vU{constructor(x,d,L,F,S,U){super(x),this.onFinalize=S,this.shouldUnsubscribe=U,this._next=d?function(O){try{d(O)}catch(b){x.error(b)}}:super._next,this._error=F?function(O){try{F(O)}catch(b){x.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(O){x.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:d}=this;super.unsubscribe(),!d&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},9065:(ln,ye,w)=>{"use strict";w.d(ye,{Z:()=>L});var r=w(8360),y=w(15210),u=w(81954),v=w(66196),d=w(43654);function L(F,S=r.E){return function x(F){return(0,y.N)((S,U)=>{let O=!1,b=null,M=null,A=!1;const ue=()=>{if(M?.unsubscribe(),M=null,O){O=!1;const X=b;b=null,U.next(X)}A&&U.complete()},z=()=>{M=null,A&&U.complete()};S.subscribe((0,v._)(U,X=>{O=!0,b=X,M||(0,u.Tg)(F(X)).subscribe(M=(0,v._)(U,ue,z))},()=>{A=!0,(!O||!M||M.closed)&&U.complete()}))})}(()=>(0,d.O)(F,S))}},66017:(ln,ye,w)=>{"use strict";w.d(ye,{S:()=>v});var r=w(15210),y=w(66196),u=w(67584);function v(x,d=null){return d=d??x,(0,r.N)((L,F)=>{let S=[],U=0;L.subscribe((0,y._)(F,O=>{let b=null;U++%d==0&&S.push([]);for(const M of S)M.push(O),x<=M.length&&(b=b??[],b.push(M));if(b)for(const M of b)(0,u.o)(S,M),F.next(M)},()=>{for(const O of S)F.next(O);F.complete()},void 0,()=>{S=null}))})}},83609:(ln,ye,w)=>{"use strict";w.d(ye,{w:()=>F});var r=w(81027),y=w(15210),u=w(66196),v=w(67584),x=w(8360),d=w(17106),L=w(82733);function F(S,...U){var O,b;const M=null!==(O=(0,d.lI)(U))&&void 0!==O?O:x.E,A=null!==(b=U[0])&&void 0!==b?b:null,ue=U[1]||1/0;return(0,y.N)((z,X)=>{let re=[],Z=!1;const Re=K=>{const{buffer:R,subs:ce}=K;ce.unsubscribe(),(0,v.o)(re,K),X.next(R),Z&&oe()},oe=()=>{if(re){const K=new r.yU;X.add(K);const ce={buffer:[],subs:K};re.push(ce),(0,L.N)(K,M,()=>Re(ce),S)}};null!==A&&A>=0?(0,L.N)(X,M,oe,A,!0):Z=!0,oe();const Ce=(0,u._)(X,K=>{const R=re.slice();for(const ce of R){const{buffer:$}=ce;$.push(K),ue<=$.length&&Re(ce)}},()=>{for(;re?.length;)X.next(re.shift().buffer);Ce?.unsubscribe(),X.complete(),X.unsubscribe()},void 0,()=>re=null);z.subscribe(Ce)})}},28577:(ln,ye,w)=>{"use strict";w.d(ye,{W:()=>v});var r=w(81954),y=w(66196),u=w(15210);function v(x){return(0,u.N)((d,L)=>{let U,F=null,S=!1;F=d.subscribe((0,y._)(L,void 0,void 0,O=>{U=(0,r.Tg)(x(O,v(x)(d))),F?(F.unsubscribe(),F=null,U.subscribe(L)):S=!0})),S&&(F.unsubscribe(),F=null,U.subscribe(L))})}},98837:(ln,ye,w)=>{"use strict";w.d(ye,{p:()=>b});var r=w(82656),y=w(19577),u=w(7694),v=w(37479),x=w(11756),d=w(84968),L=w(15210);const F=(M,A)=>(M.push(A),M);const b=function O(M){return function U(M,A){return(0,v.F)(function S(){return(0,L.N)((M,A)=>{(0,d.T)(F,[])(M).subscribe(A)})}(),(0,x.Z)(ue=>M(ue)),A?(0,u.I)(A):y.D)}(r.z,M)}},26727:(ln,ye,w)=>{"use strict";w.d(ye,{K:()=>y});var r=w(98297);function y(){return(0,r.U)(1)}},26758:(ln,ye,w)=>{"use strict";w.d(ye,{H:()=>u});var r=w(11756),y=w(34403);function u(v,x){return(0,y.T)(x)?(0,r.Z)(v,x,1):(0,r.Z)(v,1)}},15913:(ln,ye,w)=>{"use strict";w.d(ye,{s:()=>x});var r=w(15210),y=w(19827),u=w(66196),v=w(81954);function x(d){return(0,r.N)((L,F)=>{let S=!1,U=null,O=null;const b=()=>{if(O?.unsubscribe(),O=null,S){S=!1;const M=U;U=null,F.next(M)}};L.subscribe((0,u._)(F,M=>{O?.unsubscribe(),S=!0,U=M,O=(0,u._)(F,b,y.l),(0,v.Tg)(d(M)).subscribe(O)},()=>{b(),F.complete()},void 0,()=>{U=O=null}))})}},87996:(ln,ye,w)=>{"use strict";w.d(ye,{B:()=>v});var r=w(8360),y=w(15210),u=w(66196);function v(x,d=r.E){return(0,y.N)((L,F)=>{let S=null,U=null,O=null;const b=()=>{if(S){S.unsubscribe(),S=null;const A=U;U=null,F.next(A)}};function M(){const A=O+x,ue=d.now();if(ue<A)return S=this.schedule(void 0,A-ue),void F.add(S);b()}L.subscribe((0,u._)(F,A=>{U=A,O=d.now(),S||(S=d.schedule(M,x),F.add(S))},()=>{b(),F.complete()},void 0,()=>{U=S=null}))})}},47369:(ln,ye,w)=>{"use strict";w.d(ye,{U:()=>u});var r=w(15210),y=w(66196);function u(v){return(0,r.N)((x,d)=>{let L=!1;x.subscribe((0,y._)(d,F=>{L=!0,d.next(F)},()=>{L||d.next(v),d.complete()}))})}},19833:(ln,ye,w)=>{"use strict";w.d(ye,{c:()=>b});var r=w(8360),y=w(35892),u=w(17365),v=w(15210),x=w(66196),d=w(19827),F=w(99539),S=w(11756);function U(M,A){return A?ue=>(0,y.x)(A.pipe((0,u.s)(1),function L(){return(0,v.N)((M,A)=>{M.subscribe((0,x._)(A,d.l))})}()),ue.pipe(U(M))):(0,S.Z)((ue,z)=>M(ue,z).pipe((0,u.s)(1),(0,F.u)(ue)))}var O=w(43654);function b(M,A=r.E){const ue=(0,O.O)(M,A);return U(()=>ue)}},21082:(ln,ye,w)=>{"use strict";w.d(ye,{F:()=>v});var r=w(19577),y=w(15210),u=w(66196);function v(d,L=r.D){return d=d??x,(0,y.N)((F,S)=>{let U,O=!0;F.subscribe((0,u._)(S,b=>{const M=L(b);(O||!d(U,M))&&(O=!1,U=M,S.next(b))}))})}function x(d,L){return d===L}},14264:(ln,ye,w)=>{"use strict";w.d(ye,{p:()=>u});var r=w(15210),y=w(66196);function u(v,x){return(0,r.N)((d,L)=>{let F=0;d.subscribe((0,y._)(L,S=>v.call(x,S,F++)&&L.next(S)))})}},15152:(ln,ye,w)=>{"use strict";w.d(ye,{j:()=>y});var r=w(15210);function y(u){return(0,r.N)((v,x)=>{try{v.subscribe(x)}finally{x.add(u)}})}},60830:(ln,ye,w)=>{"use strict";w.d(ye,{$:()=>L});var r=w(50330),y=w(14264),u=w(17365),v=w(47369),x=w(67074),d=w(19577);function L(F,S){const U=arguments.length>=2;return O=>O.pipe(F?(0,y.p)((b,M)=>F(b,M,O)):d.D,(0,u.s)(1),U?(0,v.U)(S):(0,x.v)(()=>new r.G))}},38399:(ln,ye,w)=>{"use strict";w.d(ye,{q:()=>y});const y=w(11756).Z},36110:(ln,ye,w)=>{"use strict";w.d(ye,{T:()=>u});var r=w(15210),y=w(66196);function u(v,x){return(0,r.N)((d,L)=>{let F=0;d.subscribe((0,y._)(L,S=>{L.next(v.call(x,S,F++))}))})}},99539:(ln,ye,w)=>{"use strict";w.d(ye,{u:()=>y});var r=w(36110);function y(u){return(0,r.T)(()=>u)}},98297:(ln,ye,w)=>{"use strict";w.d(ye,{U:()=>u});var r=w(11756),y=w(19577);function u(v=1/0){return(0,r.Z)(y.D,v)}},11756:(ln,ye,w)=>{"use strict";w.d(ye,{Z:()=>F});var r=w(36110),y=w(81954),u=w(15210),v=w(82733),x=w(66196),L=w(34403);function F(S,U,O=1/0){return(0,L.T)(U)?F((b,M)=>(0,r.T)((A,ue)=>U(b,A,M,ue))((0,y.Tg)(S(b,M))),O):("number"==typeof U&&(O=U),(0,u.N)((b,M)=>function d(S,U,O,b,M,A,ue,z){const X=[];let re=0,Z=0,Re=!1;const oe=()=>{Re&&!X.length&&!re&&U.complete()},Ce=R=>re<b?K(R):X.push(R),K=R=>{A&&U.next(R),re++;let ce=!1;(0,y.Tg)(O(R,Z++)).subscribe((0,x._)(U,$=>{M?.($),A?Ce($):U.next($)},()=>{ce=!0},void 0,()=>{if(ce)try{for(re--;X.length&&re<b;){const $=X.shift();ue?(0,v.N)(U,ue,()=>K($)):K($)}oe()}catch($){U.error($)}}))};return S.subscribe((0,x._)(U,Ce,()=>{Re=!0,oe()})),()=>{z?.()}}(b,M,S,O)))}},1670:(ln,ye,w)=>{"use strict";w.d(ye,{J:()=>u});var r=w(15210),y=w(66196);function u(){return(0,r.N)((v,x)=>{let d,L=!1;v.subscribe((0,y._)(x,F=>{const S=d;d=F,L&&x.next([S,F]),L=!0}))})}},84968:(ln,ye,w)=>{"use strict";w.d(ye,{T:()=>u});var r=w(95773),y=w(15210);function u(v,x){return(0,y.N)((0,r.S)(v,x,arguments.length>=2,!1,!0))}},44710:(ln,ye,w)=>{"use strict";w.d(ye,{B:()=>u});var r=w(15210),y=w(66196);function u(){return(0,r.N)((v,x)=>{let d=null;v._refCount++;const L=(0,y._)(x,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(d=null);const F=v._connection,S=d;d=null,F&&(!S||F===S)&&F.unsubscribe(),x.unsubscribe()});v.subscribe(L),L.closed||(d=v.connect())})}},64346:(ln,ye,w)=>{"use strict";w.d(ye,{l:()=>v});var r=w(85052),y=w(15210),u=w(66196);function v(x){return(0,y.N)((d,L)=>{let F,U,S=!1;const O=()=>{F=d.subscribe((0,u._)(L,void 0,void 0,b=>{U||(U=new r.B,x(U).subscribe((0,u._)(L,()=>F?O():S=!0))),U&&U.next(b)})),S&&(F.unsubscribe(),F=null,S=!1,O())};O()})}},95773:(ln,ye,w)=>{"use strict";w.d(ye,{S:()=>y});var r=w(66196);function y(u,v,x,d,L){return(F,S)=>{let U=x,O=v,b=0;F.subscribe((0,r._)(S,M=>{const A=b++;O=U?u(O,M,A):(U=!0,M),d&&S.next(O)},L&&(()=>{U&&S.next(O),S.complete()})))}}},20075:(ln,ye,w)=>{"use strict";w.d(ye,{u:()=>x});var r=w(81954),y=w(85052),u=w(36567),v=w(15210);function x(L={}){const{connector:F=()=>new y.B,resetOnError:S=!0,resetOnComplete:U=!0,resetOnRefCountZero:O=!0}=L;return b=>{let M,A,ue,z=0,X=!1,re=!1;const Z=()=>{A?.unsubscribe(),A=void 0},Re=()=>{Z(),M=ue=void 0,X=re=!1},oe=()=>{const Ce=M;Re(),Ce?.unsubscribe()};return(0,v.N)((Ce,K)=>{z++,!re&&!X&&Z();const R=ue=ue??F();K.add(()=>{z--,0===z&&!re&&!X&&(A=d(oe,O))}),R.subscribe(K),!M&&z>0&&(M=new u.Ms({next:ce=>R.next(ce),error:ce=>{re=!0,Z(),A=d(Re,S,ce),R.error(ce)},complete:()=>{X=!0,Z(),A=d(Re,U),R.complete()}}),(0,r.Tg)(Ce).subscribe(M))})(b)}}function d(L,F,...S){if(!0===F)return void L();if(!1===F)return;const U=new u.Ms({next:()=>{U.unsubscribe(),L()}});return F(...S).subscribe(U)}},49784:(ln,ye,w)=>{"use strict";w.d(ye,{t:()=>u});var r=w(60391),y=w(20075);function u(v,x,d){let L,F=!1;return v&&"object"==typeof v?({bufferSize:L=1/0,windowTime:x=1/0,refCount:F=!1,scheduler:d}=v):L=v??1/0,(0,y.u)({connector:()=>new r.m(L,x,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:F})}},87145:(ln,ye,w)=>{"use strict";w.d(ye,{i:()=>y});var r=w(14264);function y(u){return(0,r.p)((v,x)=>u<=x)}},68545:(ln,ye,w)=>{"use strict";w.d(ye,{U:()=>x});var r=w(15210),y=w(66196),u=w(81954),v=w(19827);function x(d){return(0,r.N)((L,F)=>{let S=!1;const U=(0,y._)(F,()=>{U?.unsubscribe(),S=!0},v.l);(0,u.Tg)(d).subscribe(U),L.subscribe((0,y._)(F,O=>S&&F.next(O)))})}},35160:(ln,ye,w)=>{"use strict";w.d(ye,{Z:()=>v});var r=w(35892),y=w(17106),u=w(15210);function v(...x){const d=(0,y.lI)(x);return(0,u.N)((L,F)=>{(d?(0,r.x)(x,L,d):(0,r.x)(x,L)).subscribe(F)})}},32914:(ln,ye,w)=>{"use strict";w.d(ye,{n:()=>v});var r=w(81954),y=w(15210),u=w(66196);function v(x,d){return(0,y.N)((L,F)=>{let S=null,U=0,O=!1;const b=()=>O&&!S&&F.complete();L.subscribe((0,u._)(F,M=>{S?.unsubscribe();let A=0;const ue=U++;(0,r.Tg)(x(M,ue)).subscribe(S=(0,u._)(F,z=>F.next(d?d(M,z,ue,A++):z),()=>{S=null,b()}))},()=>{O=!0,b()}))})}},17365:(ln,ye,w)=>{"use strict";w.d(ye,{s:()=>v});var r=w(2515),y=w(15210),u=w(66196);function v(x){return x<=0?()=>r.w:(0,y.N)((d,L)=>{let F=0;d.subscribe((0,u._)(L,S=>{++F<=x&&(L.next(S),x<=F&&L.complete())}))})}},37925:(ln,ye,w)=>{"use strict";w.d(ye,{Q:()=>x});var r=w(15210),y=w(66196),u=w(81954),v=w(19827);function x(d){return(0,r.N)((L,F)=>{(0,u.Tg)(d).subscribe((0,y._)(F,()=>F.complete(),v.l)),!F.closed&&L.subscribe(F)})}},39705:(ln,ye,w)=>{"use strict";w.d(ye,{M:()=>x});var r=w(34403),y=w(15210),u=w(66196),v=w(19577);function x(d,L,F){const S=(0,r.T)(d)||L||F?{next:d,error:L,complete:F}:d;return S?(0,y.N)((U,O)=>{var b;null===(b=S.subscribe)||void 0===b||b.call(S);let M=!0;U.subscribe((0,u._)(O,A=>{var ue;null===(ue=S.next)||void 0===ue||ue.call(S,A),O.next(A)},()=>{var A;M=!1,null===(A=S.complete)||void 0===A||A.call(S),O.complete()},A=>{var ue;M=!1,null===(ue=S.error)||void 0===ue||ue.call(S,A),O.error(A)},()=>{var A,ue;M&&(null===(A=S.unsubscribe)||void 0===A||A.call(S)),null===(ue=S.finalize)||void 0===ue||ue.call(S)}))}):v.D}},2094:(ln,ye,w)=>{"use strict";w.d(ye,{c:()=>F});var r=w(8360),y=w(15210),u=w(66196),v=w(81954);const x={leading:!0,trailing:!1};var L=w(43654);function F(S,U=r.E,O=x){const b=(0,L.O)(S,U);return function d(S,U=x){return(0,y.N)((O,b)=>{const{leading:M,trailing:A}=U;let ue=!1,z=null,X=null,re=!1;const Z=()=>{X?.unsubscribe(),X=null,A&&(Ce(),re&&b.complete())},Re=()=>{X=null,re&&b.complete()},oe=K=>X=(0,v.Tg)(S(K)).subscribe((0,u._)(b,Z,Re)),Ce=()=>{if(ue){ue=!1;const K=z;z=null,b.next(K),!re&&oe(K)}};O.subscribe((0,u._)(b,K=>{ue=!0,z=K,(!X||X.closed)&&(M?Ce():oe(K))},()=>{re=!0,(!(A&&ue&&X)||X.closed)&&b.complete()}))})}(()=>b,O)}},67074:(ln,ye,w)=>{"use strict";w.d(ye,{v:()=>v});var r=w(50330),y=w(15210),u=w(66196);function v(d=x){return(0,y.N)((L,F)=>{let S=!1;L.subscribe((0,u._)(F,U=>{S=!0,F.next(U)},()=>S?F.complete():F.error(d())))})}function x(){return new r.G}},94909:(ln,ye,w)=>{"use strict";w.d(ye,{E:()=>L});var r=w(15210),y=w(66196),u=w(81954),v=w(19577),x=w(19827),d=w(17106);function L(...F){const S=(0,d.ms)(F);return(0,r.N)((U,O)=>{const b=F.length,M=new Array(b);let A=F.map(()=>!1),ue=!1;for(let z=0;z<b;z++)(0,u.Tg)(F[z]).subscribe((0,y._)(O,X=>{M[z]=X,!ue&&!A[z]&&(A[z]=!0,(ue=A.every(v.D))&&(A=null))},x.l));U.subscribe((0,y._)(O,z=>{if(ue){const X=[z,...M];O.next(S?S(...X):X)}}))})}},7974:(ln,ye,w)=>{"use strict";w.d(ye,{c:()=>K});var r=w(81954),y=w(82733),u=w(15210),v=w(66196);function x(R,ce=0){return(0,u.N)(($,Fe)=>{$.subscribe((0,v._)(Fe,je=>(0,y.N)(Fe,R,()=>Fe.next(je),ce),()=>(0,y.N)(Fe,R,()=>Fe.complete(),ce),je=>(0,y.N)(Fe,R,()=>Fe.error(je),ce)))})}function d(R,ce=0){return(0,u.N)(($,Fe)=>{Fe.add(R.schedule(()=>$.subscribe(Fe),ce))})}var S=w(2573),O=w(1301),b=w(34403);function A(R,ce){if(!R)throw new Error("Iterable cannot be null");return new S.c($=>{(0,y.N)($,ce,()=>{const Fe=R[Symbol.asyncIterator]();(0,y.N)($,ce,()=>{Fe.next().then(je=>{je.done?$.complete():$.next(je.value)})},0,!0)})})}var ue=w(69531),z=w(67854),X=w(48629),re=w(34401),Z=w(97757),Re=w(5835),oe=w(18432);function K(R,ce){if(null!=R){if((0,ue.l)(R))return function L(R,ce){return(0,r.Tg)(R).pipe(d(ce),x(ce))}(R,ce);if((0,X.X)(R))return function U(R,ce){return new S.c($=>{let Fe=0;return ce.schedule(function(){Fe===R.length?$.complete():($.next(R[Fe++]),$.closed||this.schedule())})})}(R,ce);if((0,z.y)(R))return function F(R,ce){return(0,r.Tg)(R).pipe(d(ce),x(ce))}(R,ce);if((0,Z.T)(R))return A(R,ce);if((0,re.x)(R))return function M(R,ce){return new S.c($=>{let Fe;return(0,y.N)($,ce,()=>{Fe=R[O.l](),(0,y.N)($,ce,()=>{let je,Ve;try{({value:je,done:Ve}=Fe.next())}catch(lt){return void $.error(lt)}Ve?$.complete():$.next(je)},0,!0)}),()=>(0,b.T)(Fe?.return)&&Fe.return()})}(R,ce);if((0,oe.U)(R))return function Ce(R,ce){return A((0,oe.C)(R),ce)}(R,ce)}throw(0,Re.L)(R)}},44726:(ln,ye,w)=>{"use strict";w.d(ye,{R:()=>x});var r=w(81027);class y extends r.yU{constructor(L,F){super()}schedule(L,F=0){return this}}const u={setInterval(d,L,...F){const{delegate:S}=u;return S?.setInterval?S.setInterval(d,L,...F):setInterval(d,L,...F)},clearInterval(d){const{delegate:L}=u;return(L?.clearInterval||clearInterval)(d)},delegate:void 0};var v=w(67584);class x extends y{constructor(L,F){super(L,F),this.scheduler=L,this.work=F,this.pending=!1}schedule(L,F=0){var S;if(this.closed)return this;this.state=L;const U=this.id,O=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(O,U,F)),this.pending=!0,this.delay=F,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(O,this.id,F),this}requestAsyncId(L,F,S=0){return u.setInterval(L.flush.bind(L,this),S)}recycleAsyncId(L,F,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return F;null!=F&&u.clearInterval(F)}execute(L,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(L,F);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,F){let U,S=!1;try{this.work(L)}catch(O){S=!0,U=O||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:L,scheduler:F}=this,{actions:S}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.o)(S,this),null!=L&&(this.id=this.recycleAsyncId(F,L,null)),this.delay=null,super.unsubscribe()}}}},25474:(ln,ye,w)=>{"use strict";w.d(ye,{q:()=>u});var r=w(59309);class y{constructor(x,d=y.now){this.schedulerActionCtor=x,this.now=d}schedule(x,d=0,L){return new this.schedulerActionCtor(this,x).schedule(L,d)}}y.now=r.U.now;class u extends y{constructor(x,d=y.now){super(x,d),this.actions=[],this._active=!1}flush(x){const{actions:d}=this;if(this._active)return void d.push(x);let L;this._active=!0;do{if(L=x.execute(x.state,x.delay))break}while(x=d.shift());if(this._active=!1,L){for(;x=d.shift();)x.unsubscribe();throw L}}}},40798:(ln,ye,w)=>{"use strict";w.d(ye,{X:()=>d});var r=w(44726),y=w(40812),v=w(25474);const d=new class x extends v.q{flush(S){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:O}=this;let b;S=S||O.shift();do{if(b=S.execute(S.state,S.delay))break}while((S=O[0])&&S.id===U&&O.shift());if(this._active=!1,b){for(;(S=O[0])&&S.id===U&&O.shift();)S.unsubscribe();throw b}}}(class u extends r.R{constructor(S,U){super(S,U),this.scheduler=S,this.work=U}requestAsyncId(S,U,O=0){return null!==O&&O>0?super.requestAsyncId(S,U,O):(S.actions.push(this),S._scheduled||(S._scheduled=y.H.requestAnimationFrame(()=>S.flush(void 0))))}recycleAsyncId(S,U,O=0){var b;if(null!=O?O>0:this.delay>0)return super.recycleAsyncId(S,U,O);const{actions:M}=S;null!=U&&(null===(b=M[M.length-1])||void 0===b?void 0:b.id)!==U&&(y.H.cancelAnimationFrame(U),S._scheduled=void 0)}})},40812:(ln,ye,w)=>{"use strict";w.d(ye,{H:()=>y});var r=w(81027);const y={schedule(u){let v=requestAnimationFrame,x=cancelAnimationFrame;const{delegate:d}=y;d&&(v=d.requestAnimationFrame,x=d.cancelAnimationFrame);const L=v(F=>{x=void 0,u(F)});return new r.yU(()=>x?.(L))},requestAnimationFrame(...u){const{delegate:v}=y;return(v?.requestAnimationFrame||requestAnimationFrame)(...u)},cancelAnimationFrame(...u){const{delegate:v}=y;return(v?.cancelAnimationFrame||cancelAnimationFrame)(...u)},delegate:void 0}},82755:(ln,ye,w)=>{"use strict";w.d(ye,{$:()=>A});var r=w(44726);let u,y=1;const v={};function x(z){return z in v&&(delete v[z],!0)}const d={setImmediate(z){const X=y++;return v[X]=!0,u||(u=Promise.resolve()),u.then(()=>x(X)&&z()),X},clearImmediate(z){x(z)}},{setImmediate:F,clearImmediate:S}=d,U={setImmediate(...z){const{delegate:X}=U;return(X?.setImmediate||F)(...z)},clearImmediate(z){const{delegate:X}=U;return(X?.clearImmediate||S)(z)},delegate:void 0};var b=w(25474);const A=new class M extends b.q{flush(X){this._active=!0;const re=this._scheduled;this._scheduled=void 0;const{actions:Z}=this;let Re;X=X||Z.shift();do{if(Re=X.execute(X.state,X.delay))break}while((X=Z[0])&&X.id===re&&Z.shift());if(this._active=!1,Re){for(;(X=Z[0])&&X.id===re&&Z.shift();)X.unsubscribe();throw Re}}}(class O extends r.R{constructor(X,re){super(X,re),this.scheduler=X,this.work=re}requestAsyncId(X,re,Z=0){return null!==Z&&Z>0?super.requestAsyncId(X,re,Z):(X.actions.push(this),X._scheduled||(X._scheduled=U.setImmediate(X.flush.bind(X,void 0))))}recycleAsyncId(X,re,Z=0){var Re;if(null!=Z?Z>0:this.delay>0)return super.recycleAsyncId(X,re,Z);const{actions:oe}=X;null!=re&&(null===(Re=oe[oe.length-1])||void 0===Re?void 0:Re.id)!==re&&(U.clearImmediate(re),X._scheduled=void 0)}})},8360:(ln,ye,w)=>{"use strict";w.d(ye,{E:()=>u,b:()=>v});var r=w(44726);const u=new(w(25474).q)(r.R),v=u},59309:(ln,ye,w)=>{"use strict";w.d(ye,{U:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},63831:(ln,ye,w)=>{"use strict";w.d(ye,{T:()=>x});var r=w(44726),u=w(25474);const x=new class v extends u.q{}(class y extends r.R{constructor(F,S){super(F,S),this.scheduler=F,this.work=S}schedule(F,S=0){return S>0?super.schedule(F,S):(this.delay=S,this.state=F,this.scheduler.flush(this),this)}execute(F,S){return S>0||this.closed?super.execute(F,S):this._execute(F,S)}requestAsyncId(F,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(F,S,U):(F.flush(this),0)}})},12386:(ln,ye,w)=>{"use strict";w.d(ye,{f:()=>r});const r={setTimeout(y,u,...v){const{delegate:x}=r;return x?.setTimeout?x.setTimeout(y,u,...v):setTimeout(y,u,...v)},clearTimeout(y){const{delegate:u}=r;return(u?.clearTimeout||clearTimeout)(y)},delegate:void 0}},1301:(ln,ye,w)=>{"use strict";w.d(ye,{l:()=>y});const y=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},76138:(ln,ye,w)=>{"use strict";w.d(ye,{s:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},50330:(ln,ye,w)=>{"use strict";w.d(ye,{G:()=>y});const y=(0,w(87385).L)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},17106:(ln,ye,w)=>{"use strict";w.d(ye,{R0:()=>d,lI:()=>x,ms:()=>v});var r=w(34403),y=w(41498);function u(L){return L[L.length-1]}function v(L){return(0,r.T)(u(L))?L.pop():void 0}function x(L){return(0,y.m)(u(L))?L.pop():void 0}function d(L,F){return"number"==typeof u(L)?L.pop():F}},15437:(ln,ye,w)=>{"use strict";w.d(ye,{D:()=>x});const{isArray:r}=Array,{getPrototypeOf:y,prototype:u,keys:v}=Object;function x(L){if(1===L.length){const F=L[0];if(r(F))return{args:F,keys:null};if(function d(L){return L&&"object"==typeof L&&y(L)===u}(F)){const S=v(F);return{args:S.map(U=>F[U]),keys:S}}}return{args:L,keys:null}}},67584:(ln,ye,w)=>{"use strict";function r(y,u){if(y){const v=y.indexOf(u);0<=v&&y.splice(v,1)}}w.d(ye,{o:()=>r})},87385:(ln,ye,w)=>{"use strict";function r(y){const v=y(x=>{Error.call(x),x.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}w.d(ye,{L:()=>r})},25436:(ln,ye,w)=>{"use strict";function r(y,u){return y.reduce((v,x,d)=>(v[x]=u[d],v),{})}w.d(ye,{e:()=>r})},32926:(ln,ye,w)=>{"use strict";w.d(ye,{Y:()=>u,l:()=>v});var r=w(8502);let y=null;function u(x){if(r.$.useDeprecatedSynchronousErrorHandling){const d=!y;if(d&&(y={errorThrown:!1,error:null}),x(),d){const{errorThrown:L,error:F}=y;if(y=null,L)throw F}}else x()}function v(x){r.$.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=x)}},82733:(ln,ye,w)=>{"use strict";function r(y,u,v,x=0,d=!1){const L=u.schedule(function(){v(),d?y.add(this.schedule(null,x)):this.unsubscribe()},x);if(y.add(L),!d)return L}w.d(ye,{N:()=>r})},19577:(ln,ye,w)=>{"use strict";function r(y){return y}w.d(ye,{D:()=>r})},48629:(ln,ye,w)=>{"use strict";w.d(ye,{X:()=>r});const r=y=>y&&"number"==typeof y.length&&"function"!=typeof y},97757:(ln,ye,w)=>{"use strict";w.d(ye,{T:()=>y});var r=w(34403);function y(u){return Symbol.asyncIterator&&(0,r.T)(u?.[Symbol.asyncIterator])}},34403:(ln,ye,w)=>{"use strict";function r(y){return"function"==typeof y}w.d(ye,{T:()=>r})},69531:(ln,ye,w)=>{"use strict";w.d(ye,{l:()=>u});var r=w(76138),y=w(34403);function u(v){return(0,y.T)(v[r.s])}},34401:(ln,ye,w)=>{"use strict";w.d(ye,{x:()=>u});var r=w(1301),y=w(34403);function u(v){return(0,y.T)(v?.[r.l])}},28454:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});var r=w(2573),y=w(34403);function u(v){return!!v&&(v instanceof r.c||(0,y.T)(v.lift)&&(0,y.T)(v.subscribe))}},67854:(ln,ye,w)=>{"use strict";w.d(ye,{y:()=>y});var r=w(34403);function y(u){return(0,r.T)(u?.then)}},18432:(ln,ye,w)=>{"use strict";w.d(ye,{C:()=>u,U:()=>v});var r=w(31635),y=w(34403);function u(x){return(0,r.AQ)(this,arguments,function*(){const L=x.getReader();try{for(;;){const{value:F,done:S}=yield(0,r.N3)(L.read());if(S)return yield(0,r.N3)(void 0);yield yield(0,r.N3)(F)}}finally{L.releaseLock()}})}function v(x){return(0,y.T)(x?.getReader)}},41498:(ln,ye,w)=>{"use strict";w.d(ye,{m:()=>y});var r=w(34403);function y(u){return u&&(0,r.T)(u.schedule)}},15210:(ln,ye,w)=>{"use strict";w.d(ye,{N:()=>u,S:()=>y});var r=w(34403);function y(v){return(0,r.T)(v?.lift)}function u(v){return x=>{if(y(x))return x.lift(function(d){try{return v(d,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7694:(ln,ye,w)=>{"use strict";w.d(ye,{I:()=>v});var r=w(36110);const{isArray:y}=Array;function v(x){return(0,r.T)(d=>function u(x,d){return y(d)?x(...d):x(d)}(x,d))}},19827:(ln,ye,w)=>{"use strict";function r(){}w.d(ye,{l:()=>r})},37479:(ln,ye,w)=>{"use strict";w.d(ye,{F:()=>y,m:()=>u});var r=w(19577);function y(...v){return u(v)}function u(v){return 0===v.length?r.D:1===v.length?v[0]:function(d){return v.reduce((L,F)=>F(L),d)}}},46642:(ln,ye,w)=>{"use strict";w.d(ye,{m:()=>u});var r=w(8502),y=w(12386);function u(v){y.f.setTimeout(()=>{const{onUnhandledError:x}=r.$;if(!x)throw v;x(v)})}},5835:(ln,ye,w)=>{"use strict";function r(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(ye,{L:()=>r})},93330:(ln,ye,w)=>{"use strict";var r=w(89222),y=w(2948),u=w(70401)(),v=w(99234),x=w(63698),d=r("%Math.floor%");ln.exports=function(F,S){if("function"!=typeof F)throw new x("`fn` is not a function");if("number"!=typeof S||S<0||S>4294967295||d(S)!==S)throw new x("`length` must be a positive 32-bit integer");var U=arguments.length>2&&!!arguments[2],O=!0,b=!0;if("length"in F&&v){var M=v(F,"length");M&&!M.configurable&&(O=!1),M&&!M.writable&&(b=!1)}return(O||b||!U)&&(u?y(F,"length",S,!0,!0):y(F,"length",S)),F}},68241:(ln,ye,w)=>{"use strict";var r=w(89222),y=w(64680),u=w(92298),v=w(63698),x=r("%WeakMap%",!0),d=r("%Map%",!0),L=y("WeakMap.prototype.get",!0),F=y("WeakMap.prototype.set",!0),S=y("WeakMap.prototype.has",!0),U=y("Map.prototype.get",!0),O=y("Map.prototype.set",!0),b=y("Map.prototype.has",!0),M=function(X,re){for(var Re,Z=X;null!==(Re=Z.next);Z=Re)if(Re.key===re)return Z.next=Re.next,Re.next=X.next,X.next=Re,Re};ln.exports=function(){var re,Z,Re,oe={assert:function(Ce){if(!oe.has(Ce))throw new v("Side channel does not contain "+u(Ce))},get:function(Ce){if(x&&Ce&&("object"==typeof Ce||"function"==typeof Ce)){if(re)return L(re,Ce)}else if(d){if(Z)return U(Z,Ce)}else if(Re)return function(X,re){var Z=M(X,re);return Z&&Z.value}(Re,Ce)},has:function(Ce){if(x&&Ce&&("object"==typeof Ce||"function"==typeof Ce)){if(re)return S(re,Ce)}else if(d){if(Z)return b(Z,Ce)}else if(Re)return function(X,re){return!!M(X,re)}(Re,Ce);return!1},set:function(Ce,K){x&&Ce&&("object"==typeof Ce||"function"==typeof Ce)?(re||(re=new x),F(re,Ce,K)):d?(Z||(Z=new d),O(Z,Ce,K)):(Re||(Re={key:{},next:null}),function(X,re,Z){var Re=M(X,re);Re?Re.value=Z:X.next={key:re,next:X.next,value:Z}}(Re,Ce,K))}};return oe}},5662:function(ln){var r;typeof self<"u"&&self,r=()=>(()=>{"use strict";var ye={"./src/attributes.js":
/*!***************************!*\
                !*** ./src/attributes.js ***!
                \***************************/(u,v,x)=>{function d(W){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(W)}v.__esModule=!0,v.createAttribsFromArrays=Dt,v.createBufferFromArray=T,v.createBufferFromTypedArray=Fe,v.createBufferInfoFromArrays=function C(W,ve,ne){var p=Dt(W,ve),H=Object.assign({},ne||{});H.attribs=Object.assign({},ne?ne.attribs:{},p);var B=ve.indices;if(B){var Ie=ee(B,"indices");H.indices=Fe(W,Ie,M),H.numElements=Ie.length,H.elementType=L.getGLTypeForTypedArray(Ie)}else H.numElements||(H.numElements=function Ee(W,ve){var ne,p;for(p=0;p<se.length&&!((ne=se[p])in ve)&&!((ne=K.attribPrefix+ne)in ve);++p);p===se.length&&(ne=Object.keys(ve)[0]);var H=ve[ne];if(!H.buffer)return 1;W.bindBuffer(b,H.buffer);var B=W.getBufferParameter(b,A);W.bindBuffer(b,null);var Ie=function Ae(W,ve){return ve===ue||ve===z?1:ve===X||ve===re?2:ve===Z||ve===Re||ve===oe?4:0}(0,H.type),ft=H.numComponents||H.size,kt=B/Ie/ft;if(kt%1!=0)throw new Error("numComponents ".concat(ft," not correct for length ").concat(length));return kt}(W,H.attribs));return H},v.createBuffersFromArrays=function J(W,ve){var ne={};return Object.keys(ve).forEach(function(p){ne[p]=T(W,ve[p],p)}),ve.indices?(ne.numElements=ve.indices.length,ne.elementType=L.getGLTypeForTypedArray(ee(ve.indices),"indices")):ne.numElements=function Me(W){var ve,ne;for(ne=0;ne<se.length&&!((ve=se[ne])in W);++ne);ne===se.length&&(ve=Object.keys(W)[0]);var p=W[ve],H=lt(p).length;if(void 0===H)return 1;var B=G(p,ve),Ie=H/B;if(H%B>0)throw new Error("numComponents ".concat(B," not correct for length ").concat(H));return Ie}(ve),ne},v.getArray_=lt,v.getNumComponents_=G,v.setAttribInfoBufferFromArray=function Le(W,ve,ne,p){ne=ee(ne),void 0!==p?(W.bindBuffer(b,ve.buffer),W.bufferSubData(b,p,ne)):$(W,b,ve.buffer,ne,ve.drawType)},v.setAttributeDefaults_=function ce(W){F.copyExistingProperties(W,K)},v.setAttributePrefix=function R(W){K.attribPrefix=W};var L=U(x(
/*! ./typedarrays.js */
"./src/typedarrays.js")),F=U(x(
/*! ./helper.js */
"./src/helper.js"));function S(W){if("function"!=typeof WeakMap)return null;var ve=new WeakMap,ne=new WeakMap;return(S=function(H){return H?ne:ve})(W)}function U(W,ve){if(!ve&&W&&W.__esModule)return W;if(null===W||"object"!=d(W)&&"function"!=typeof W)return{default:W};var ne=S(ve);if(ne&&ne.has(W))return ne.get(W);var p={__proto__:null},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in W)if("default"!==B&&Object.prototype.hasOwnProperty.call(W,B)){var Ie=H?Object.getOwnPropertyDescriptor(W,B):null;Ie&&(Ie.get||Ie.set)?Object.defineProperty(p,B,Ie):p[B]=W[B]}return p.default=W,ne&&ne.set(W,p),p}var O=35044,b=34962,M=34963,A=34660,ue=5120,z=5121,X=5122,re=5123,Z=5124,Re=5125,oe=5126,K={attribPrefix:""};function $(W,ve,ne,p,H){W.bindBuffer(ve,ne),W.bufferData(ve,p,H||O)}function Fe(W,ve,ne,p){if(F.isBuffer(W,ve))return ve;ne=ne||b;var H=W.createBuffer();return $(W,ne,H,ve,p),H}function je(W){return"indices"===W}function lt(W){return W.length?W:W.data}var pt=/coord|texture/i,St=/color|colour/i;function G(W,ve,ne){return W.numComponents||W.size||function Rn(W,ve){var ne;if(ve%(ne=pt.test(W)?2:St.test(W)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(W,"'. Tried ").concat(ne," but ").concat(ve," values is not evenly divisible by ").concat(ne,". You should specify it."));return ne}(ve,ne||lt(W).length)}function ee(W,ve){if(L.isArrayBuffer(W))return W;if(L.isArrayBuffer(W.data))return W.data;Array.isArray(W)&&(W={data:W});var ne=W.type?Ge(W.type):void 0;return ne||(ne=je(ve)?Uint16Array:Float32Array),new ne(W.data)}function De(W){return"number"==typeof W?W:W?L.getGLTypeForTypedArrayType(W):oe}function Ge(W){return"number"==typeof W?L.getTypedArrayTypeForGLType(W):W||Float32Array}function Ze(W,ve){return{buffer:ve.buffer,numValues:24,type:De(ve.type),arrayType:Ge(ve.type)}}function ut(W,ve){var ne=ve.data||ve,p=Ge(ve.type),H=ne*p.BYTES_PER_ELEMENT,B=W.createBuffer();return W.bindBuffer(b,B),W.bufferData(b,H,ve.drawType||O),{buffer:B,numValues:ne,type:L.getGLTypeForTypedArrayType(p),arrayType:p}}function bt(W,ve,ne){var p=ee(ve,ne);return{arrayType:p.constructor,buffer:Fe(W,p,void 0,ve.drawType),type:L.getGLTypeForTypedArray(p),numValues:0}}function Dt(W,ve){var ne={};return Object.keys(ve).forEach(function(p){if(!je(p)){var H=ve[p],B=H.attrib||H.name||H.attribName||K.attribPrefix+p;if(H.value){if(!Array.isArray(H.value)&&!L.isArrayBuffer(H.value))throw new Error("array.value is not array or typedarray");ne[B]={value:H.value}}else{var $e=(H.buffer&&H.buffer instanceof WebGLBuffer?Ze:"number"==typeof H||"number"==typeof H.data?ut:bt)(W,H,p),ft=$e.buffer,kt=$e.type,jt=$e.numValues,ct=void 0!==H.normalize?H.normalize:function Ve(W){return W===Int8Array||W===Uint8Array}($e.arrayType),It=G(H,p,jt);ne[B]={buffer:ft,numComponents:It,type:kt,normalize:ct,stride:H.stride||0,offset:H.offset||0,divisor:void 0===H.divisor?void 0:H.divisor,drawType:H.drawType}}}}),W.bindBuffer(b,null),ne}var se=["position","positions","a_position"];function T(W,ve,ne){var p="indices"===ne?M:b;return Fe(W,ee(ve,ne),p)}},"./src/draw.js":
/*!*********************!*\
                !*** ./src/draw.js ***!
                \*********************/(u,v,x)=>{function d(A){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(A)}v.__esModule=!0,v.drawBufferInfo=b,v.drawObjectList=function M(A,ue){var z=null,X=null;ue.forEach(function(re){if(!1!==re.active){var Z=re.programInfo,Re=re.vertexArrayInfo||re.bufferInfo,oe=!1,Ce=void 0===re.type?U:re.type;Z!==z&&(z=Z,A.useProgram(Z.program),oe=!0),(oe||Re!==X)&&(X&&X.vertexArrayObject&&!Re.vertexArrayObject&&A.bindVertexArray(null),X=Re,L.setBuffersAndAttributes(A,Z,Re)),L.setUniforms(Z,re.uniforms),b(A,Re,Ce,re.count,re.offset,re.instanceCount)}}),X&&X.vertexArrayObject&&A.bindVertexArray(null)};var L=function S(A,ue){if(!ue&&A&&A.__esModule)return A;if(null===A||"object"!=d(A)&&"function"!=typeof A)return{default:A};var z=F(ue);if(z&&z.has(A))return z.get(A);var X={__proto__:null},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in A)if("default"!==Z&&Object.prototype.hasOwnProperty.call(A,Z)){var Re=re?Object.getOwnPropertyDescriptor(A,Z):null;Re&&(Re.get||Re.set)?Object.defineProperty(X,Z,Re):X[Z]=A[Z]}return X.default=A,z&&z.set(A,X),X}(x(
/*! ./programs.js */
"./src/programs.js"));function F(A){if("function"!=typeof WeakMap)return null;var ue=new WeakMap,z=new WeakMap;return(F=function(re){return re?z:ue})(A)}var U=4,O=5123;function b(A,ue,z,X,re,Z){z=void 0===z?U:z;var oe=ue.elementType,Ce=void 0===X?ue.numElements:X;re=void 0===re?0:re,oe||ue.indices?void 0!==Z?A.drawElementsInstanced(z,Ce,void 0===oe?O:ue.elementType,re,Z):A.drawElements(z,Ce,void 0===oe?O:ue.elementType,re):void 0!==Z?A.drawArraysInstanced(z,re,Ce,Z):A.drawArrays(z,re,Ce)}},"./src/framebuffers.js":
/*!*****************************!*\
                !*** ./src/framebuffers.js ***!
                \*****************************/(u,v,x)=>{function d(Me){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ee){return typeof Ee}:function(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Me)}v.__esModule=!0,v.bindFramebufferInfo=function se(Me,Ee,C){C=C||b,Ee?(Me.bindFramebuffer(C,Ee.framebuffer),Me.viewport(0,0,Ee.width,Ee.height)):(Me.bindFramebuffer(C,null),Me.viewport(0,0,Me.drawingBufferWidth,Me.drawingBufferHeight))},v.createFramebufferInfo=function Le(Me,Ee,C,T){var J=b,W=Me.createFramebuffer();Me.bindFramebuffer(J,W);var ve=[],ne={framebuffer:W,attachments:[],width:C=C||Me.drawingBufferWidth,height:T=T||Me.drawingBufferHeight};return(Ee=Ee||ee).forEach(function(p,H){var B=p.attachment,Ie=p.samples,$e=p.format,ft=p.attachmentPoint||function Ge(Me,Ee){return De[Me]||De[Ee]}($e,p.internalFormat);if(ft||(ft=Ve+H),function Dt(Me){return Me>=Ve&&Me<Ve+bt}(ft)&&ve.push(ft),!B)if(void 0!==Ie||function ut(Me){return Ze[Me]}($e))B=Me.createRenderbuffer(),Me.bindRenderbuffer(M,B),Ie>1?Me.renderbufferStorageMultisample(M,Ie,$e,C,T):Me.renderbufferStorage(M,$e,C,T);else{var kt=Object.assign({},p);kt.width=C,kt.height=T,void 0===kt.auto&&(kt.auto=!1,kt.min=kt.min||kt.minMag||G,kt.mag=kt.mag||kt.minMag||G,kt.wrapS=kt.wrapS||kt.wrap||Rn,kt.wrapT=kt.wrapT||kt.wrap||Rn),B=L.createTexture(Me,kt)}if(F.isRenderbuffer(Me,B))Me.framebufferRenderbuffer(J,ft,M,B);else{if(!F.isTexture(Me,B))throw new Error("unknown attachment type");void 0!==p.layer?Me.framebufferTextureLayer(J,ft,B,p.level||0,p.layer):Me.framebufferTexture2D(J,ft,p.target||A,B,p.level||0)}ne.attachments.push(B)}),Me.drawBuffers&&Me.drawBuffers(ve),ne},v.resizeFramebufferInfo=function Ae(Me,Ee,C,T,J){J=J||Me.drawingBufferHeight,Ee.width=T=T||Me.drawingBufferWidth,Ee.height=J,(C=C||ee).forEach(function(W,ve){var ne=Ee.attachments[ve],p=W.format,H=W.samples;if(void 0!==H||F.isRenderbuffer(Me,ne))Me.bindRenderbuffer(M,ne),H>1?Me.renderbufferStorageMultisample(M,H,p,T,J):Me.renderbufferStorage(M,p,T,J);else{if(!F.isTexture(Me,ne))throw new Error("unknown attachment type");L.resizeTexture(Me,ne,W,T,J)}})};var L=U(x(
/*! ./textures.js */
"./src/textures.js")),F=U(x(
/*! ./helper.js */
"./src/helper.js"));function S(Me){if("function"!=typeof WeakMap)return null;var Ee=new WeakMap,C=new WeakMap;return(S=function(J){return J?C:Ee})(Me)}function U(Me,Ee){if(!Ee&&Me&&Me.__esModule)return Me;if(null===Me||"object"!=d(Me)&&"function"!=typeof Me)return{default:Me};var C=S(Ee);if(C&&C.has(Me))return C.get(Me);var T={__proto__:null},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in Me)if("default"!==W&&Object.prototype.hasOwnProperty.call(Me,W)){var ve=J?Object.getOwnPropertyDescriptor(Me,W):null;ve&&(ve.get||ve.set)?Object.defineProperty(T,W,ve):T[W]=Me[W]}return T.default=Me,C&&C.set(Me,T),T}var b=36160,M=36161,A=3553,Ve=36064,lt=36096,Rn=33071,G=9729,ee=[{format:6408,type:5121,min:G,wrap:Rn},{format:34041}],De={34041:33306,6401:36128,36168:36128};De[6402]=lt,De[33189]=lt,De[33190]=lt,De[36012]=lt,De[35056]=33306,De[36013]=33306;var Ze={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},bt=32},"./src/helper.js":
/*!***********************!*\
                !*** ./src/helper.js ***!
                \***********************/(u,v)=>{function x(X){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(X)}v.__esModule=!0,v.copyExistingProperties=function L(X,re){Object.keys(re).forEach(function(Z){re.hasOwnProperty(Z)&&X.hasOwnProperty(Z)&&(re[Z]=X[Z])})},v.copyNamedProperties=function d(X,re,Z){X.forEach(function(Re){var oe=re[Re];void 0!==oe&&(Z[Re]=oe)})},v.error=function F(){var X;(X=console).error.apply(X,arguments)},v.isBuffer=function b(X,re){return typeof WebGLBuffer<"u"&&O(re,"WebGLBuffer")},v.isRenderbuffer=function M(X,re){return typeof WebGLRenderbuffer<"u"&&O(re,"WebGLRenderbuffer")},v.isSampler=function z(X,re){return typeof WebGLSampler<"u"&&O(re,"WebGLSampler")},v.isShader=function A(X,re){return typeof WebGLShader<"u"&&O(re,"WebGLShader")},v.isTexture=function ue(X,re){return typeof WebGLTexture<"u"&&O(re,"WebGLTexture")},v.warn=function S(){var X;(X=console).warn.apply(X,arguments)};var U=new Map;function O(X,re){if(!X||"object"!==x(X))return!1;var Z=U.get(re);Z||U.set(re,Z=new WeakMap);var Re=Z.get(X);if(void 0===Re){var oe=Object.prototype.toString.call(X);Re=oe.substring(8,oe.length-1)===re,Z.set(X,Re)}return Re}},"./src/programs.js":
/*!*************************!*\
                !*** ./src/programs.js ***!
                \*************************/(u,v,x)=>{function d(Wt){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(mn){return typeof mn}:function(mn){return mn&&"function"==typeof Symbol&&mn.constructor===Symbol&&mn!==Symbol.prototype?"symbol":typeof mn})(Wt)}v.__esModule=!0,v.bindTransformFeedbackInfo=Eo,v.bindUniformBlock=gs,v.createAttributeSetters=ea,v.createProgram=Ro,v.createProgramAsync=void 0,v.createProgramFromScripts=function zn(Wt,mn,_n,fr,Tr){var ui,lr=Sn(_n,fr,Tr),Br=[],jr=K(mn);try{for(jr.s();!(ui=jr.n()).done;){var Jr=ui.value,Wi=St(Jr);if(!Wi)return At(lr,"unknown script element: ".concat(Jr));Br.push(Wi.text)}}catch(ao){jr.e(ao)}finally{jr.f()}return Ro(Wt,Br,lr)},v.createProgramFromSources=Wn,v.createProgramInfo=Cr,v.createProgramInfoAsync=void 0,v.createProgramInfoFromProgram=Yn,v.createProgramInfos=so,v.createProgramInfosAsync=void 0,v.createPrograms=Fi,v.createProgramsAsync=void 0,v.createTransformFeedback=function Ui(Wt,mn,_n){var fr=Wt.createTransformFeedback();return Wt.bindTransformFeedback(ut,fr),Wt.useProgram(mn.program),Eo(Wt,mn,_n),Wt.bindTransformFeedback(ut,null),fr},v.createTransformFeedbackInfo=oo,v.createUniformBlockInfo=function Ts(Wt,mn,_n){return Oo(Wt,mn.program,mn.uniformBlockSpec,_n)},v.createUniformBlockInfoFromProgram=Oo,v.createUniformBlockSpecFromProgram=os,v.createUniformSetters=Hi,v.setAttributes=us,v.setBlockUniforms=function Es(Wt,mn){var _n=Wt.setters;for(var fr in mn){var Tr=_n[fr];Tr&&Tr(mn[fr])}},v.setBuffersAndAttributes=function Gn(Wt,mn,_n){_n.vertexArrayObject?Wt.bindVertexArray(_n.vertexArrayObject):(us(mn.attribSetters||mn,_n.attribs),_n.indices&&Wt.bindBuffer(De,_n.indices))},v.setUniformBlock=function ha(Wt,mn,_n){gs(Wt,mn,_n)&&Wt.bufferData(Ge,_n.array,G)},v.setUniforms=Ls,v.setUniformsAndBindTextures=void 0;var L=U(x(
/*! ./utils.js */
"./src/utils.js")),F=U(x(
/*! ./helper.js */
"./src/helper.js"));function S(Wt){if("function"!=typeof WeakMap)return null;var mn=new WeakMap,_n=new WeakMap;return(S=function(Tr){return Tr?_n:mn})(Wt)}function U(Wt,mn){if(!mn&&Wt&&Wt.__esModule)return Wt;if(null===Wt||"object"!=d(Wt)&&"function"!=typeof Wt)return{default:Wt};var _n=S(mn);if(_n&&_n.has(Wt))return _n.get(Wt);var fr={__proto__:null},Tr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lr in Wt)if("default"!==lr&&Object.prototype.hasOwnProperty.call(Wt,lr)){var Br=Tr?Object.getOwnPropertyDescriptor(Wt,lr):null;Br&&(Br.get||Br.set)?Object.defineProperty(fr,lr,Br):fr[lr]=Wt[lr]}return fr.default=Wt,_n&&_n.set(Wt,fr),fr}function O(){O=function(){return mn};var Wt,mn={},_n=Object.prototype,fr=_n.hasOwnProperty,Tr=Object.defineProperty||function(_i,Qr,ot){_i[Qr]=ot.value},lr="function"==typeof Symbol?Symbol:{},Br=lr.iterator||"@@iterator",jr=lr.asyncIterator||"@@asyncIterator",ui=lr.toStringTag||"@@toStringTag";function Jr(_i,Qr,ot){return Object.defineProperty(_i,Qr,{value:ot,enumerable:!0,configurable:!0,writable:!0}),_i[Qr]}try{Jr({},"")}catch{Jr=function(ot,hn,Nt){return ot[hn]=Nt}}function Wi(_i,Qr,ot,hn){var N=Object.create((Qr&&Qr.prototype instanceof Qo?Qr:Qo).prototype),V=new Xi(hn||[]);return Tr(N,"_invoke",{value:Je(_i,ot,V)}),N}function ao(_i,Qr,ot){try{return{type:"normal",arg:_i.call(Qr,ot)}}catch(hn){return{type:"throw",arg:hn}}}mn.wrap=Wi;var vo="suspendedStart",_o="suspendedYield",wo="executing",Po="completed",xo={};function Qo(){}function tt(){}function Qt(){}var He={};Jr(He,Br,function(){return this});var j=Object.getPrototypeOf,pe=j&&j(j(to([])));pe&&pe!==_n&&fr.call(pe,Br)&&(He=pe);var k=Qt.prototype=Qo.prototype=Object.create(He);function le(_i){["next","throw","return"].forEach(function(Qr){Jr(_i,Qr,function(ot){return this._invoke(Qr,ot)})})}function q(_i,Qr){function ot(Nt,N,V,Oe){var st=ao(_i[Nt],_i,N);if("throw"!==st.type){var Rt=st.arg,Jt=Rt.value;return Jt&&"object"==d(Jt)&&fr.call(Jt,"__await")?Qr.resolve(Jt.__await).then(function(gn){ot("next",gn,V,Oe)},function(gn){ot("throw",gn,V,Oe)}):Qr.resolve(Jt).then(function(gn){Rt.value=gn,V(Rt)},function(gn){return ot("throw",gn,V,Oe)})}Oe(st.arg)}var hn;Tr(this,"_invoke",{value:function(N,V){function Oe(){return new Qr(function(st,Rt){ot(N,V,st,Rt)})}return hn=hn?hn.then(Oe,Oe):Oe()}})}function Je(_i,Qr,ot){var hn=vo;return function(Nt,N){if(hn===wo)throw new Error("Generator is already running");if(hn===Po){if("throw"===Nt)throw N;return{value:Wt,done:!0}}for(ot.method=Nt,ot.arg=N;;){var V=ot.delegate;if(V){var Oe=Ut(V,ot);if(Oe){if(Oe===xo)continue;return Oe}}if("next"===ot.method)ot.sent=ot._sent=ot.arg;else if("throw"===ot.method){if(hn===vo)throw hn=Po,ot.arg;ot.dispatchException(ot.arg)}else"return"===ot.method&&ot.abrupt("return",ot.arg);hn=wo;var st=ao(_i,Qr,ot);if("normal"===st.type){if(hn=ot.done?Po:_o,st.arg===xo)continue;return{value:st.arg,done:ot.done}}"throw"===st.type&&(hn=Po,ot.method="throw",ot.arg=st.arg)}}}function Ut(_i,Qr){var ot=Qr.method,hn=_i.iterator[ot];if(hn===Wt)return Qr.delegate=null,"throw"===ot&&_i.iterator.return&&(Qr.method="return",Qr.arg=Wt,Ut(_i,Qr),"throw"===Qr.method)||"return"!==ot&&(Qr.method="throw",Qr.arg=new TypeError("The iterator does not provide a '"+ot+"' method")),xo;var Nt=ao(hn,_i.iterator,Qr.arg);if("throw"===Nt.type)return Qr.method="throw",Qr.arg=Nt.arg,Qr.delegate=null,xo;var N=Nt.arg;return N?N.done?(Qr[_i.resultName]=N.value,Qr.next=_i.nextLoc,"return"!==Qr.method&&(Qr.method="next",Qr.arg=Wt),Qr.delegate=null,xo):N:(Qr.method="throw",Qr.arg=new TypeError("iterator result is not an object"),Qr.delegate=null,xo)}function Xn(_i){var Qr={tryLoc:_i[0]};1 in _i&&(Qr.catchLoc=_i[1]),2 in _i&&(Qr.finallyLoc=_i[2],Qr.afterLoc=_i[3]),this.tryEntries.push(Qr)}function gr(_i){var Qr=_i.completion||{};Qr.type="normal",delete Qr.arg,_i.completion=Qr}function Xi(_i){this.tryEntries=[{tryLoc:"root"}],_i.forEach(Xn,this),this.reset(!0)}function to(_i){if(_i||""===_i){var Qr=_i[Br];if(Qr)return Qr.call(_i);if("function"==typeof _i.next)return _i;if(!isNaN(_i.length)){var ot=-1,hn=function Nt(){for(;++ot<_i.length;)if(fr.call(_i,ot))return Nt.value=_i[ot],Nt.done=!1,Nt;return Nt.value=Wt,Nt.done=!0,Nt};return hn.next=hn}}throw new TypeError(d(_i)+" is not iterable")}return tt.prototype=Qt,Tr(k,"constructor",{value:Qt,configurable:!0}),Tr(Qt,"constructor",{value:tt,configurable:!0}),tt.displayName=Jr(Qt,ui,"GeneratorFunction"),mn.isGeneratorFunction=function(_i){var Qr="function"==typeof _i&&_i.constructor;return!!Qr&&(Qr===tt||"GeneratorFunction"===(Qr.displayName||Qr.name))},mn.mark=function(_i){return Object.setPrototypeOf?Object.setPrototypeOf(_i,Qt):(_i.__proto__=Qt,Jr(_i,ui,"GeneratorFunction")),_i.prototype=Object.create(k),_i},mn.awrap=function(_i){return{__await:_i}},le(q.prototype),Jr(q.prototype,jr,function(){return this}),mn.AsyncIterator=q,mn.async=function(_i,Qr,ot,hn,Nt){void 0===Nt&&(Nt=Promise);var N=new q(Wi(_i,Qr,ot,hn),Nt);return mn.isGeneratorFunction(Qr)?N:N.next().then(function(V){return V.done?V.value:N.next()})},le(k),Jr(k,ui,"Generator"),Jr(k,Br,function(){return this}),Jr(k,"toString",function(){return"[object Generator]"}),mn.keys=function(_i){var Qr=Object(_i),ot=[];for(var hn in Qr)ot.push(hn);return ot.reverse(),function Nt(){for(;ot.length;){var N=ot.pop();if(N in Qr)return Nt.value=N,Nt.done=!1,Nt}return Nt.done=!0,Nt}},mn.values=to,Xi.prototype={constructor:Xi,reset:function(Qr){if(this.prev=0,this.next=0,this.sent=this._sent=Wt,this.done=!1,this.delegate=null,this.method="next",this.arg=Wt,this.tryEntries.forEach(gr),!Qr)for(var ot in this)"t"===ot.charAt(0)&&fr.call(this,ot)&&!isNaN(+ot.slice(1))&&(this[ot]=Wt)},stop:function(){this.done=!0;var Qr=this.tryEntries[0].completion;if("throw"===Qr.type)throw Qr.arg;return this.rval},dispatchException:function(Qr){if(this.done)throw Qr;var ot=this;function hn(Rt,Jt){return V.type="throw",V.arg=Qr,ot.next=Rt,Jt&&(ot.method="next",ot.arg=Wt),!!Jt}for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var N=this.tryEntries[Nt],V=N.completion;if("root"===N.tryLoc)return hn("end");if(N.tryLoc<=this.prev){var Oe=fr.call(N,"catchLoc"),st=fr.call(N,"finallyLoc");if(Oe&&st){if(this.prev<N.catchLoc)return hn(N.catchLoc,!0);if(this.prev<N.finallyLoc)return hn(N.finallyLoc)}else if(Oe){if(this.prev<N.catchLoc)return hn(N.catchLoc,!0)}else{if(!st)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return hn(N.finallyLoc)}}}},abrupt:function(Qr,ot){for(var hn=this.tryEntries.length-1;hn>=0;--hn){var Nt=this.tryEntries[hn];if(Nt.tryLoc<=this.prev&&fr.call(Nt,"finallyLoc")&&this.prev<Nt.finallyLoc){var N=Nt;break}}N&&("break"===Qr||"continue"===Qr)&&N.tryLoc<=ot&&ot<=N.finallyLoc&&(N=null);var V=N?N.completion:{};return V.type=Qr,V.arg=ot,N?(this.method="next",this.next=N.finallyLoc,xo):this.complete(V)},complete:function(Qr,ot){if("throw"===Qr.type)throw Qr.arg;return"break"===Qr.type||"continue"===Qr.type?this.next=Qr.arg:"return"===Qr.type?(this.rval=this.arg=Qr.arg,this.method="return",this.next="end"):"normal"===Qr.type&&ot&&(this.next=ot),xo},finish:function(Qr){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var hn=this.tryEntries[ot];if(hn.finallyLoc===Qr)return this.complete(hn.completion,hn.afterLoc),gr(hn),xo}},catch:function(Qr){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var hn=this.tryEntries[ot];if(hn.tryLoc===Qr){var Nt=hn.completion;if("throw"===Nt.type){var N=Nt.arg;gr(hn)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(Qr,ot,hn){return this.delegate={iterator:to(Qr),resultName:ot,nextLoc:hn},"next"===this.method&&(this.arg=Wt),xo}},mn}function b(Wt,mn){var _n=Object.keys(Wt);if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(Wt);mn&&(fr=fr.filter(function(Tr){return Object.getOwnPropertyDescriptor(Wt,Tr).enumerable})),_n.push.apply(_n,fr)}return _n}function M(Wt){for(var mn=1;mn<arguments.length;mn++){var _n=null!=arguments[mn]?arguments[mn]:{};mn%2?b(Object(_n),!0).forEach(function(fr){A(Wt,fr,_n[fr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wt,Object.getOwnPropertyDescriptors(_n)):b(Object(_n)).forEach(function(fr){Object.defineProperty(Wt,fr,Object.getOwnPropertyDescriptor(_n,fr))})}return Wt}function A(Wt,mn,_n){return mn=function ue(Wt){var mn=function z(Wt,mn){if("object"!=d(Wt)||!Wt)return Wt;var _n=Wt[Symbol.toPrimitive];if(void 0!==_n){var fr=_n.call(Wt,mn||"default");if("object"!=d(fr))return fr;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===mn?String:Number)(Wt)}(Wt,"string");return"symbol"==d(mn)?mn:String(mn)}(mn),mn in Wt?Object.defineProperty(Wt,mn,{value:_n,enumerable:!0,configurable:!0,writable:!0}):Wt[mn]=_n,Wt}function X(Wt,mn,_n,fr,Tr,lr,Br){try{var jr=Wt[lr](Br),ui=jr.value}catch(Jr){return void _n(Jr)}jr.done?mn(ui):Promise.resolve(ui).then(fr,Tr)}function re(Wt){return function(){var mn=this,_n=arguments;return new Promise(function(fr,Tr){var lr=Wt.apply(mn,_n);function Br(ui){X(lr,fr,Tr,Br,jr,"next",ui)}function jr(ui){X(lr,fr,Tr,Br,jr,"throw",ui)}Br(void 0)})}}function Z(Wt,mn){return function Ce(Wt){if(Array.isArray(Wt))return Wt}(Wt)||function oe(Wt,mn){var _n=null==Wt?null:typeof Symbol<"u"&&Wt[Symbol.iterator]||Wt["@@iterator"];if(null!=_n){var fr,Tr,lr,Br,jr=[],ui=!0,Jr=!1;try{if(lr=(_n=_n.call(Wt)).next,0===mn){if(Object(_n)!==_n)return;ui=!1}else for(;!(ui=(fr=lr.call(_n)).done)&&(jr.push(fr.value),jr.length!==mn);ui=!0);}catch(Wi){Jr=!0,Tr=Wi}finally{try{if(!ui&&null!=_n.return&&(Br=_n.return(),Object(Br)!==Br))return}finally{if(Jr)throw Tr}}return jr}}(Wt,mn)||$(Wt,mn)||function Re(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(Wt,mn){var _n=typeof Symbol<"u"&&Wt[Symbol.iterator]||Wt["@@iterator"];if(!_n){if(Array.isArray(Wt)||(_n=$(Wt))||mn&&Wt&&"number"==typeof Wt.length){_n&&(Wt=_n);var fr=0,Tr=function(){};return{s:Tr,n:function(){return fr>=Wt.length?{done:!0}:{done:!1,value:Wt[fr++]}},e:function(Jr){throw Jr},f:Tr}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var jr,lr=!0,Br=!1;return{s:function(){_n=_n.call(Wt)},n:function(){var Jr=_n.next();return lr=Jr.done,Jr},e:function(Jr){Br=!0,jr=Jr},f:function(){try{!lr&&null!=_n.return&&_n.return()}finally{if(Br)throw jr}}}}function $(Wt,mn){if(Wt){if("string"==typeof Wt)return Ve(Wt,mn);var _n=Object.prototype.toString.call(Wt).slice(8,-1);if("Object"===_n&&Wt.constructor&&(_n=Wt.constructor.name),"Map"===_n||"Set"===_n)return Array.from(Wt);if("Arguments"===_n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_n))return Ve(Wt,mn)}}function Ve(Wt,mn){(null==mn||mn>Wt.length)&&(mn=Wt.length);for(var _n=0,fr=new Array(mn);_n<mn;_n++)fr[_n]=Wt[_n];return fr}var lt=F.error,pt=F.warn;function St(Wt){return typeof document<"u"&&document.getElementById?document.getElementById(Wt):null}var Rn=33984,G=35048,ee=34962,De=34963,Ge=35345,Ze=35982,ut=36386,bt=35713,Dt=35714,Le=35632,Ae=35633,se=35981,Me=35718,Ee=35721,C=35971,T=35382,J=35396,W=35398,ve=35392,ne=35395,p=5126,Be=34067,zt=35866,on={};function Hn(Wt,mn){return on[mn].bindPoint}function mi(Wt,mn){return function(_n){Wt.uniform1i(mn,_n)}}function er(Wt,mn){return function(_n){Wt.uniform1iv(mn,_n)}}function ur(Wt,mn){return function(_n){Wt.uniform2iv(mn,_n)}}function Ei(Wt,mn){return function(_n){Wt.uniform3iv(mn,_n)}}function Ni(Wt,mn){return function(_n){Wt.uniform4iv(mn,_n)}}function Sr(Wt,mn,_n,fr){var Tr=Hn(0,mn);return L.isWebGL2(Wt)?function(lr){var Br,jr;!lr||F.isTexture(Wt,lr)?(Br=lr,jr=null):(Br=lr.texture,jr=lr.sampler),Wt.uniform1i(fr,_n),Wt.activeTexture(Rn+_n),Wt.bindTexture(Tr,Br),Wt.bindSampler(_n,jr)}:function(lr){Wt.uniform1i(fr,_n),Wt.activeTexture(Rn+_n),Wt.bindTexture(Tr,lr)}}function Ur(Wt,mn,_n,fr,Tr){for(var lr=Hn(0,mn),Br=new Int32Array(Tr),jr=0;jr<Tr;++jr)Br[jr]=_n+jr;return L.isWebGL2(Wt)?function(ui){Wt.uniform1iv(fr,Br),ui.forEach(function(Jr,Wi){var ao,vo;Wt.activeTexture(Rn+Br[Wi]),!Jr||F.isTexture(Wt,Jr)?(ao=Jr,vo=null):(ao=Jr.texture,vo=Jr.sampler),Wt.bindSampler(_n,vo),Wt.bindTexture(lr,ao)})}:function(ui){Wt.uniform1iv(fr,Br),ui.forEach(function(Jr,Wi){Wt.activeTexture(Rn+Br[Wi]),Wt.bindTexture(lr,Jr)})}}function ri(Wt,mn){return function(_n){if(_n.value)switch(Wt.disableVertexAttribArray(mn),_n.value.length){case 4:Wt.vertexAttrib4fv(mn,_n.value);break;case 3:Wt.vertexAttrib3fv(mn,_n.value);break;case 2:Wt.vertexAttrib2fv(mn,_n.value);break;case 1:Wt.vertexAttrib1fv(mn,_n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else Wt.bindBuffer(ee,_n.buffer),Wt.enableVertexAttribArray(mn),Wt.vertexAttribPointer(mn,_n.numComponents||_n.size,_n.type||p,_n.normalize||!1,_n.stride||0,_n.offset||0),Wt.vertexAttribDivisor&&Wt.vertexAttribDivisor(mn,_n.divisor||0)}}function Ri(Wt,mn){return function(_n){if(_n.value){if(Wt.disableVertexAttribArray(mn),4!==_n.value.length)throw new Error("The length of an integer constant value must be 4!");Wt.vertexAttrib4iv(mn,_n.value)}else Wt.bindBuffer(ee,_n.buffer),Wt.enableVertexAttribArray(mn),Wt.vertexAttribIPointer(mn,_n.numComponents||_n.size,_n.type||5124,_n.stride||0,_n.offset||0),Wt.vertexAttribDivisor&&Wt.vertexAttribDivisor(mn,_n.divisor||0)}}function ji(Wt,mn){return function(_n){if(_n.value){if(Wt.disableVertexAttribArray(mn),4!==_n.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");Wt.vertexAttrib4uiv(mn,_n.value)}else Wt.bindBuffer(ee,_n.buffer),Wt.enableVertexAttribArray(mn),Wt.vertexAttribIPointer(mn,_n.numComponents||_n.size,_n.type||5125,_n.stride||0,_n.offset||0),Wt.vertexAttribDivisor&&Wt.vertexAttribDivisor(mn,_n.divisor||0)}}function $i(Wt,mn,_n){var fr=_n.size,Tr=_n.count;return function(lr){Wt.bindBuffer(ee,lr.buffer);for(var Br=lr.size||lr.numComponents||fr,jr=Br/Tr,ui=lr.type||p,Wi=on[ui].size*Br,ao=lr.normalize||!1,vo=lr.offset||0,_o=Wi/Tr,wo=0;wo<Tr;++wo)Wt.enableVertexAttribArray(mn+wo),Wt.vertexAttribPointer(mn+wo,jr,ui,ao,Wi,vo+_o*wo),Wt.vertexAttribDivisor&&Wt.vertexAttribDivisor(mn+wo,lr.divisor||0)}}on[p]={Type:Float32Array,size:4,setter:function Ar(Wt,mn){return function(_n){Wt.uniform1f(mn,_n)}},arraySetter:function Ir(Wt,mn){return function(_n){Wt.uniform1fv(mn,_n)}}},on[35664]={Type:Float32Array,size:8,setter:function ti(Wt,mn){return function(_n){Wt.uniform2fv(mn,_n)}},cols:2},on[35665]={Type:Float32Array,size:12,setter:function Yr(Wt,mn){return function(_n){Wt.uniform3fv(mn,_n)}},cols:3},on[35666]={Type:Float32Array,size:16,setter:function Ki(Wt,mn){return function(_n){Wt.uniform4fv(mn,_n)}},cols:4},on[5124]={Type:Int32Array,size:4,setter:mi,arraySetter:er},on[35667]={Type:Int32Array,size:8,setter:ur,cols:2},on[35668]={Type:Int32Array,size:12,setter:Ei,cols:3},on[35669]={Type:Int32Array,size:16,setter:Ni,cols:4},on[5125]={Type:Uint32Array,size:4,setter:function rn(Wt,mn){return function(_n){Wt.uniform1ui(mn,_n)}},arraySetter:function En(Wt,mn){return function(_n){Wt.uniform1uiv(mn,_n)}}},on[36294]={Type:Uint32Array,size:8,setter:function ar(Wt,mn){return function(_n){Wt.uniform2uiv(mn,_n)}},cols:2},on[36295]={Type:Uint32Array,size:12,setter:function Er(Wt,mn){return function(_n){Wt.uniform3uiv(mn,_n)}},cols:3},on[36296]={Type:Uint32Array,size:16,setter:function Hr(Wt,mn){return function(_n){Wt.uniform4uiv(mn,_n)}},cols:4},on[35670]={Type:Uint32Array,size:4,setter:mi,arraySetter:er},on[35671]={Type:Uint32Array,size:8,setter:ur,cols:2},on[35672]={Type:Uint32Array,size:12,setter:Ei,cols:3},on[35673]={Type:Uint32Array,size:16,setter:Ni,cols:4},on[35674]={Type:Float32Array,size:32,setter:function vr(Wt,mn){return function(_n){Wt.uniformMatrix2fv(mn,!1,_n)}},rows:2,cols:2},on[35675]={Type:Float32Array,size:48,setter:function Mt(Wt,mn){return function(_n){Wt.uniformMatrix3fv(mn,!1,_n)}},rows:3,cols:3},on[35676]={Type:Float32Array,size:64,setter:function te(Wt,mn){return function(_n){Wt.uniformMatrix4fv(mn,!1,_n)}},rows:4,cols:4},on[35685]={Type:Float32Array,size:32,setter:function ze(Wt,mn){return function(_n){Wt.uniformMatrix2x3fv(mn,!1,_n)}},rows:2,cols:3},on[35686]={Type:Float32Array,size:32,setter:function An(Wt,mn){return function(_n){Wt.uniformMatrix2x4fv(mn,!1,_n)}},rows:2,cols:4},on[35687]={Type:Float32Array,size:48,setter:function Yt(Wt,mn){return function(_n){Wt.uniformMatrix3x2fv(mn,!1,_n)}},rows:3,cols:2},on[35688]={Type:Float32Array,size:48,setter:function sr(Wt,mn){return function(_n){Wt.uniformMatrix3x4fv(mn,!1,_n)}},rows:3,cols:4},on[35689]={Type:Float32Array,size:64,setter:function Kn(Wt,mn){return function(_n){Wt.uniformMatrix4x2fv(mn,!1,_n)}},rows:4,cols:2},on[35690]={Type:Float32Array,size:64,setter:function Pr(Wt,mn){return function(_n){Wt.uniformMatrix4x3fv(mn,!1,_n)}},rows:4,cols:3},on[35678]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:3553},on[35680]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:Be},on[35679]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:32879},on[35682]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:3553},on[36289]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:zt},on[36292]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:zt},on[36293]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:Be},on[36298]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:3553},on[36299]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:32879},on[36300]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:Be},on[36303]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:zt},on[36306]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:3553},on[36307]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:32879},on[36308]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:Be},on[36311]={Type:null,size:0,setter:Sr,arraySetter:Ur,bindPoint:zt};var Yi={};Yi[p]={size:4,setter:ri},Yi[35664]={size:8,setter:ri},Yi[35665]={size:12,setter:ri},Yi[35666]={size:16,setter:ri},Yi[5124]={size:4,setter:Ri},Yi[35667]={size:8,setter:Ri},Yi[35668]={size:12,setter:Ri},Yi[35669]={size:16,setter:Ri},Yi[5125]={size:4,setter:ji},Yi[36294]={size:8,setter:ji},Yi[36295]={size:12,setter:ji},Yi[36296]={size:16,setter:ji},Yi[35670]={size:4,setter:Ri},Yi[35671]={size:8,setter:Ri},Yi[35672]={size:12,setter:Ri},Yi[35673]={size:16,setter:Ri},Yi[35674]={size:4,setter:$i,count:2},Yi[35675]={size:9,setter:$i,count:3},Yi[35676]={size:16,setter:$i,count:4};var yo=/ERROR:\s*\d+:(\d+)/gi,$t=/^[ \t]*\n/;function Se(Wt){var mn=0;return $t.test(Wt)&&(mn=1,Wt=Wt.replace($t,"")),{lineOffset:mn,shaderSource:Wt}}function At(Wt,mn){return Wt.errorCallback(mn),Wt.callback&&setTimeout(function(){Wt.callback("".concat(mn,"\n").concat(Wt.errors.join("\n")))}),null}function en(Wt,mn,_n,fr){if(fr=fr||lt,!Wt.getShaderParameter(_n,bt)){var lr=Wt.getShaderInfoLog(_n),Br=Se(Wt.getShaderSource(_n)),Jr="".concat(function Fo(Wt){var mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,fr=function R(Wt){return function je(Wt){if(Array.isArray(Wt))return Ve(Wt)}(Wt)||function Fe(Wt){if(typeof Symbol<"u"&&null!=Wt[Symbol.iterator]||null!=Wt["@@iterator"])return Array.from(Wt)}(Wt)||$(Wt)||function ce(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(mn.matchAll(yo)),Tr=new Map(fr.map(function(lr,Br){var jr=parseInt(lr[1]),ui=fr[Br+1];return[jr-1,mn.substring(lr.index,ui?ui.index:mn.length)]}));return Wt.split("\n").map(function(lr,Br){var jr=Tr.get(Br);return"".concat(Br+1+_n,": ").concat(lr).concat(jr?"\n\n^^^ ".concat(jr):"")}).join("\n")}(Br.shaderSource,lr,Br.lineOffset),"\nError compiling ").concat(L.glEnumToString(Wt,mn),": ").concat(lr);return fr(Jr),Jr}return""}function Sn(Wt,mn,_n){var fr,Tr,lr;if("function"==typeof mn&&(_n=mn,mn=void 0),"function"==typeof Wt)_n=Wt,Wt=void 0;else if(Wt&&!Array.isArray(Wt)){var Br=Wt;_n=Br.errorCallback,Wt=Br.attribLocations,fr=Br.transformFeedbackVaryings,Tr=Br.transformFeedbackMode,lr=Br.callback}var jr=_n||lt,ui=[],Jr={errorCallback:function(vo){ui.push(vo);for(var _o=arguments.length,wo=new Array(_o>1?_o-1:0),Po=1;Po<_o;Po++)wo[Po-1]=arguments[Po];jr.apply(void 0,[vo].concat(wo))},transformFeedbackVaryings:fr,transformFeedbackMode:Tr,callback:lr,errors:ui},Wi={};return Array.isArray(Wt)?Wt.forEach(function(ao,vo){Wi[ao]=mn?mn[vo]:vo}):Wi=Wt||{},Jr.attribLocations=Wi,Jr}var ir=["VERTEX_SHADER","FRAGMENT_SHADER"];function Vr(Wt,mn){return mn.indexOf("frag")>=0?Le:mn.indexOf("vert")>=0?Ae:void 0}var Wr=function(){var mn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(_n){return setTimeout(_n,mn)})};function Gi(Wt,mn,_n){for(var fr=Wt.createProgram(),Tr=Sn(_n),lr=Tr.attribLocations,Br=Tr.transformFeedbackVaryings,jr=Tr.transformFeedbackMode,ui=0;ui<mn.length;++ui){var Jr=mn[ui];if("string"==typeof Jr){var Wi=St(Jr),ao=Wi?Wi.text:Jr,vo=Wt[ir[ui]];Wi&&Wi.type&&(vo=Vr(0,Wi.type)||vo),Jr=Wt.createShader(vo),Wt.shaderSource(Jr,Se(ao).shaderSource),Wt.compileShader(Jr),Wt.attachShader(fr,Jr)}}Object.entries(lr).forEach(function(wo){var Po=Z(wo,2);return Wt.bindAttribLocation(fr,Po[1],Po[0])});var _o=Br;return _o&&(_o.attribs&&(_o=_o.attribs),Array.isArray(_o)||(_o=Object.keys(_o)),Wt.transformFeedbackVaryings(fr,_o,jr||se)),Wt.linkProgram(fr),fr}function Ro(Wt,mn,_n,fr,Tr){var lr=Sn(_n,fr,Tr),Br=new Set(mn),jr=Gi(Wt,mn,lr);function ui(Jr,Wi){var ao=Ns(Jr,Wi,lr.errorCallback);return ao&&function Oi(Wt,mn,_n){var lr,Tr=K(Wt.getAttachedShaders(mn));try{for(Tr.s();!(lr=Tr.n()).done;){var Br=lr.value;_n.has(Br)&&Wt.deleteShader(Br)}}catch(jr){Tr.e(jr)}finally{Tr.f()}Wt.deleteProgram(mn)}(Jr,Wi,Br),ao}if(!lr.callback)return ui(Wt,jr)?void 0:jr;Os(Wt,jr).then(function(){var Jr=ui(Wt,jr);lr.callback(Jr,Jr?void 0:jr)})}function Wo(Wt){return function(mn,_n){for(var fr=arguments.length,Tr=new Array(fr>2?fr-2:0),lr=2;lr<fr;lr++)Tr[lr-2]=arguments[lr];return new Promise(function(Br,jr){var ui=Sn.apply(void 0,Tr);ui.callback=function(Jr,Wi){Jr?jr(Jr):Br(Wi)},Wt(mn,_n,ui)})}}function Os(Wt,mn){return Lo.apply(this,arguments)}function Lo(){return(Lo=re(O().mark(function Wt(mn,_n){var fr,Tr,lr;return O().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:fr=mn.getExtension("KHR_parallel_shader_compile"),Tr=fr?function(ui,Jr){return ui.getProgramParameter(Jr,fr.COMPLETION_STATUS_KHR)}:function(){return!0},lr=0;case 3:return jr.next=5,Wr(lr);case 5:lr=16.666666666666668;case 6:if(!Tr(mn,_n)){jr.next=3;break}case 7:case"end":return jr.stop()}},Wt)}))).apply(this,arguments)}function Xo(){return(Xo=re(O().mark(function Wt(mn,_n){var fr,Tr,lr;return O().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:fr=0,Tr=Object.values(_n);case 1:if(!(fr<Tr.length)){jr.next=8;break}return lr=Tr[fr],jr.next=5,Os(mn,lr);case 5:fr++,jr.next=1;break;case 8:case"end":return jr.stop()}},Wt)}))).apply(this,arguments)}function Ns(Wt,mn,_n){if(_n=_n||lt,!Wt.getProgramParameter(mn,Dt)){var Tr=Wt.getProgramInfoLog(mn);_n("Error in program linking: ".concat(Tr));var Br=Wt.getAttachedShaders(mn).map(function(jr){return en(Wt,Wt.getShaderParameter(jr,Wt.SHADER_TYPE),jr,_n)});return"".concat(Tr,"\n").concat(Br.filter(function(jr){return jr}).join("\n"))}}function Wn(Wt,mn,_n,fr,Tr){return Ro(Wt,mn,_n,fr,Tr)}function Nr(Wt){var mn=Wt.name;return mn.startsWith("gl_")||mn.startsWith("webgl_")}v.createProgramAsync=Wo(Ro),v.createProgramInfoAsync=Wo(Cr);var li=/(\.|\[|]|\w+)/g,hi=function(mn){return mn>="0"&&mn<="9"};function ni(Wt,mn,_n,fr){for(var Tr=Wt.split(li).filter(function(wo){return""!==wo}),lr=0,Br="";;){var jr=Tr[lr++];Br+=jr;var ui=hi(jr[0]),Jr=ui?parseInt(jr):jr;if(ui&&(Br+=Tr[lr++]),lr===Tr.length){_n[Jr]=mn;break}var ao=Tr[lr++],_o=_n[Jr]||("["===ao?[]:{});_n[Jr]=_o,_n=_o,fr[Br]=fr[Br]||function(wo){return function(Po){Vo(wo,Po)}}(_o),Br+=ao}}function Hi(Wt,mn){var _n=0;function fr(vo,_o,wo){var tt,Po=_o.name.endsWith("[0]"),xo=_o.type,Qo=on[xo];if(!Qo)throw new Error("unknown type: 0x".concat(xo.toString(16)));if(Qo.bindPoint){var Qt=_n;_n+=_o.size,tt=Po?Qo.arraySetter(Wt,xo,Qt,wo,_o.size):Qo.setter(Wt,xo,Qt,wo,_o.size)}else tt=Qo.arraySetter&&Po?Qo.arraySetter(Wt,wo):Qo.setter(Wt,wo);return tt.location=wo,tt}for(var Tr={},lr={},Br=Wt.getProgramParameter(mn,Me),jr=0;jr<Br;++jr){var ui=Wt.getActiveUniform(mn,jr);if(!Nr(ui)){var Jr=ui.name;Jr.endsWith("[0]")&&(Jr=Jr.substr(0,Jr.length-3));var Wi=Wt.getUniformLocation(mn,ui.name);if(Wi){var ao=fr(0,ui,Wi);Tr[Jr]=ao,ni(Jr,ao,lr,Tr)}}}return Tr}function oo(Wt,mn){for(var _n={},fr=Wt.getProgramParameter(mn,C),Tr=0;Tr<fr;++Tr){var lr=Wt.getTransformFeedbackVarying(mn,Tr);_n[lr.name]={index:Tr,type:lr.type,size:lr.size}}return _n}function Eo(Wt,mn,_n){for(var fr in mn.transformFeedbackInfo&&(mn=mn.transformFeedbackInfo),_n.attribs&&(_n=_n.attribs),_n){var Tr=mn[fr];if(Tr){var lr=_n[fr];lr.offset?Wt.bindBufferRange(Ze,Tr.index,lr.buffer,lr.offset,lr.size):Wt.bindBufferBase(Ze,Tr.index,lr.buffer)}}}function os(Wt,mn){for(var _n=Wt.getProgramParameter(mn,Me),fr=[],Tr=[],lr=0;lr<_n;++lr){Tr.push(lr),fr.push({});var Br=Wt.getActiveUniform(mn,lr);fr[lr].name=Br.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(vo){var wo=vo[1];Wt.getActiveUniforms(mn,Tr,Wt[vo[0]]).forEach(function(Po,xo){fr[xo][wo]=Po})});for(var jr={},ui=Wt.getProgramParameter(mn,T),Jr=0;Jr<ui;++Jr){var Wi=Wt.getActiveUniformBlockName(mn,Jr),ao={index:Wt.getUniformBlockIndex(mn,Wi),usedByVertexShader:Wt.getActiveUniformBlockParameter(mn,Jr,J),usedByFragmentShader:Wt.getActiveUniformBlockParameter(mn,Jr,W),size:Wt.getActiveUniformBlockParameter(mn,Jr,ve),uniformIndices:Wt.getActiveUniformBlockParameter(mn,Jr,ne)};ao.used=ao.usedByVertexShader||ao.usedByFragmentShader,jr[Wi]=ao}return{blockSpecs:jr,uniformData:fr}}var es=/\[\d+\]\.$/,rs=function(mn,_n){return((mn+(_n-1))/_n|0)*_n};function Oo(Wt,mn,_n,fr){var lr=_n.uniformData,Br=_n.blockSpecs[fr];if(!Br)return pt("no uniform block object named:",fr),{name:fr,uniforms:{}};var jr=new ArrayBuffer(Br.size),ui=Wt.createBuffer(),Jr=Br.index;Wt.bindBuffer(Ge,ui),Wt.uniformBlockBinding(mn,Br.index,Jr);var Wi=fr+".";es.test(Wi)&&(Wi=Wi.replace(es,"."));var ao={},vo={},_o={};return Br.uniformIndices.forEach(function(wo){var Po=lr[wo],xo=Po.name;xo.startsWith(Wi)&&(xo=xo.substr(Wi.length));var Qo=xo.endsWith("[0]");Qo&&(xo=xo.substr(0,xo.length-3));var tt=on[Po.type],Qt=tt.Type,He=Qo?rs(tt.size,16)*Po.size:tt.size*Po.size,j=new Qt(jr,Po.offset,He/Qt.BYTES_PER_ELEMENT);ao[xo]=j;var pe=function Ps(Wt,mn,_n,fr){if(mn||_n){fr=fr||1;var lr=Wt.length/4;return function(Br){for(var jr=0,ui=0,Jr=0;Jr<lr;++Jr){for(var Wi=0;Wi<fr;++Wi)Wt[jr++]=Br[ui++];jr+=4-fr}}}return function(Br){Br.length?Wt.set(Br):Wt[0]=Br}}(j,Qo,tt.rows,tt.cols);vo[xo]=pe,ni(xo,pe,_o,vo)}),{name:fr,array:jr,asFloat:new Float32Array(jr),buffer:ui,uniforms:ao,setters:vo}}function gs(Wt,mn,_n){var Tr=(mn.uniformBlockSpec||mn).blockSpecs[_n.name];return!!Tr&&(Wt.bindBufferRange(Ge,Tr.index,_n.buffer,_n.offset||0,_n.array.byteLength),!0)}function Vo(Wt,mn){for(var _n in mn){var fr=Wt[_n];"function"==typeof fr?fr(mn[_n]):Vo(Wt[_n],mn[_n])}}function Ls(Wt){for(var mn=Wt.uniformSetters||Wt,_n=arguments.length<=1?0:arguments.length-1,fr=0;fr<_n;++fr){var Tr=fr+1<1||arguments.length<=fr+1?void 0:arguments[fr+1];if(Array.isArray(Tr))for(var lr=Tr.length,Br=0;Br<lr;++Br)Ls(mn,Tr[Br]);else for(var jr in Tr){var ui=mn[jr];ui&&ui(Tr[jr])}}}function ea(Wt,mn){for(var _n={},fr=Wt.getProgramParameter(mn,Ee),Tr=0;Tr<fr;++Tr){var lr=Wt.getActiveAttrib(mn,Tr);if(!Nr(lr)){var Br=Wt.getAttribLocation(mn,lr.name),jr=Yi[lr.type],ui=jr.setter(Wt,Br,jr);ui.location=Br,_n[lr.name]=ui}}return _n}function us(Wt,mn){for(var _n in mn){var fr=Wt[_n];fr&&fr(mn[_n])}}function Yn(Wt,mn){var Tr={program:mn,uniformSetters:Hi(Wt,mn),attribSetters:ea(Wt,mn)};return L.isWebGL2(Wt)&&(Tr.uniformBlockSpec=os(Wt,mn),Tr.transformFeedbackInfo=oo(Wt,mn)),Tr}v.setUniformsAndBindTextures=Ls;var or=/\s|{|}|;/;function Cr(Wt,mn,_n,fr,Tr){var lr=Sn(_n,fr,Tr),Br=[];if(mn=mn.map(function(Jr){if(!or.test(Jr)){var Wi=St(Jr);if(Wi)Jr=Wi.text;else{var ao="no element with id: ".concat(Jr);lr.errorCallback(ao),Br.push(ao)}}return Jr}),Br.length)return At(lr,"");var jr=lr.callback;jr&&(lr.callback=function(Jr,Wi){jr(Jr,Jr?void 0:Yn(Wt,Wi))});var ui=Wn(Wt,mn,lr);return ui?Yn(Wt,ui):null}function fi(Wt,mn,_n,fr,Tr){for(var lr=0,Br=Object.entries(mn);lr<Br.length;lr++){var jr=Z(Br[lr],2),ui=jr[0],Jr=jr[1],Wi=M({},Tr),ao=_n[ui];Array.isArray(ao)||Object.assign(Wi,ao);var vo=Ns(Wt,Jr,Wi.errorCallback);if(vo){for(var _o=0,wo=Object.values(mn);_o<wo.length;_o++){var Po=wo[_o],xo=Wt.getAttachedShaders(Po);Wt.deleteProgram(Po);var tt,Qo=K(xo);try{for(Qo.s();!(tt=Qo.n()).done;){var Qt=tt.value;fr.has(Qt)||Wt.deleteShader(Qt)}}catch(He){Qo.e(He)}finally{Qo.f()}}return vo}}}function Fi(Wt,mn){var _n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fr=new Set,Tr=Object.fromEntries(Object.entries(mn).map(function(Br){var jr=Z(Br,2),ui=jr[0],Jr=jr[1],Wi=M({},_n),ao=Array.isArray(Jr)?Jr:Jr.shaders;return Array.isArray(Jr)||Object.assign(Wi,Jr),ao.forEach(fr.add,fr),[ui,Gi(Wt,ao,Wi)]}));if(!_n.callback)return fi(Wt,Tr,mn,fr,_n)?void 0:Tr;(function ps(Wt,mn){return Xo.apply(this,arguments)})(Wt,Tr).then(function(){var Br=fi(Wt,Tr,mn,fr,_n);_n.callback(Br,Br?void 0:Tr)})}function so(Wt,mn,_n){function fr(Br,jr){return Object.fromEntries(Object.entries(jr).map(function(ui){var Jr=Z(ui,2);return[Jr[0],Yn(Br,Jr[1])]}))}var Tr=(_n=Sn(_n)).callback;Tr&&(_n.callback=function(Br,jr){Tr(Br,Br?void 0:fr(Wt,jr))});var lr=Fi(Wt,mn,_n);if(!Tr&&lr)return fr(Wt,lr)}v.createProgramsAsync=Wo(Fi),v.createProgramInfosAsync=Wo(so)},"./src/textures.js":
/*!*************************!*\
                !*** ./src/textures.js ***!
                \*************************/(u,v,x)=>{function d(Gn){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Yn){return typeof Yn}:function(Yn){return Yn&&"function"==typeof Symbol&&Yn.constructor===Symbol&&Yn!==Symbol.prototype?"symbol":typeof Yn})(Gn)}v.__esModule=!0,v.canFilter=Wr,v.canGenerateMipmap=Oi,v.createSampler=zn,v.createSamplers=function Wn(Gn,Yn){var or={};return Object.keys(Yn).forEach(function(Cr){or[Cr]=zn(Gn,Yn[Cr])}),or},v.createTexture=Ls,v.createTextures=function us(Gn,Yn,or){or=or||Eo;var Cr=0,fi=[],Fi={},so={};function Co(){0===Cr&&setTimeout(function(){or(fi.length?fi:void 0,Fi,so)},0)}return Object.keys(Yn).forEach(function(eo){var mn,Wt=Yn[eo];(function ea(Gn){return"string"==typeof Gn||Array.isArray(Gn)&&"string"==typeof Gn[0]})(Wt.src)&&(mn=function(fr,Tr,lr){so[eo]=lr,--Cr,fr&&fi.push(fr),Co()},++Cr),Fi[eo]=Ls(Gn,Wt,mn)}),Co(),Fi},v.getBytesPerElementForInternalFormat=Sn,v.getFormatAndTypeForInternalFormat=ir,v.getNumComponentsForFormat=function Gi(Gn){var Yn=$t[Gn];if(!Yn)throw"unknown format: "+Gn;return Yn.numColorComponents},v.loadTextureFromUrl=Ts,v.resizeTexture=function _s(Gn,Yn,or,Cr,fi,Fi){Cr=Cr||or.width,fi=fi||or.height,Fi=Fi||or.depth;var so=or.target||$;Gn.bindTexture(so,Yn);var _n,Co=or.level||0,eo=or.internalFormat||or.format||re,Wt=ir(eo),mn=or.format||Wt.format,fr=or.src;if(_n=fr&&(A(fr)||Array.isArray(fr)&&"number"==typeof fr[0])?or.type||Ro(0,fr,Wt.type):or.type||Wt.type,so===Fe)for(var Tr=0;Tr<6;++Tr)Gn.texImage2D(lt+Tr,Co,eo,Cr,fi,0,mn,_n,null);else so===je||so===Ve?Gn.texImage3D(so,Co,eo,Cr,fi,Fi,0,mn,_n,null):Gn.texImage2D(so,Co,eo,Cr,fi,0,mn,_n,null)},v.setDefaultTextureColor=xs,v.setEmptyTexture=Vo,v.setSamplerParameters=Ns,v.setTextureDefaults_=function da(Gn){S.copyExistingProperties(Gn,M),Gn.textureColor&&xs(Gn.textureColor)},v.setTextureFilteringForSize=li,v.setTextureFromArray=Es,v.setTextureFromElement=oo,v.setTextureParameters=Xo;var L=O(x(
/*! ./utils.js */
"./src/utils.js")),F=O(x(
/*! ./typedarrays.js */
"./src/typedarrays.js")),S=O(x(
/*! ./helper.js */
"./src/helper.js"));function U(Gn){if("function"!=typeof WeakMap)return null;var Yn=new WeakMap,or=new WeakMap;return(U=function(fi){return fi?or:Yn})(Gn)}function O(Gn,Yn){if(!Yn&&Gn&&Gn.__esModule)return Gn;if(null===Gn||"object"!=d(Gn)&&"function"!=typeof Gn)return{default:Gn};var or=U(Yn);if(or&&or.has(Gn))return or.get(Gn);var Cr={__proto__:null},fi=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Fi in Gn)if("default"!==Fi&&Object.prototype.hasOwnProperty.call(Gn,Fi)){var so=fi?Object.getOwnPropertyDescriptor(Gn,Fi):null;so&&(so.get||so.set)?Object.defineProperty(Cr,Fi,so):Cr[Fi]=Gn[Fi]}return Cr.default=Gn,or&&or.set(Gn,Cr),Cr}var At,M={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},A=F.isArrayBuffer,ue=function(){var Gn;return function(){return Gn=Gn||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null)}}(),z=6406,X=6407,re=6408,Z=6409,Re=6410,oe=6402,Ce=34041,K=33071,R=9728,ce=9729,$=3553,Fe=34067,je=32879,Ve=35866,lt=34069,pt=34070,St=34071,Rn=34072,G=34073,ee=34074,De=10241,Ge=10240,Ze=10242,ut=10243,bt=32882,Dt=33082,Le=33083,Ae=33084,se=33085,Me=34892,Ee=34893,C=3317,T=3314,J=32878,W=3316,ve=3315,ne=32877,p=37443,H=37441,B=37440,Ie=33321,$e=36756,ft=33325,kt=33326,jt=33330,Ye=33329,ct=33338,It=33337,Ke=33340,wt=33339,rt=33323,Ct=36757,mt=33327,Vt=33328,at=33336,We=33335,ke=33332,et=33331,xt=33334,Zt=33333,vn=32849,kn=35905,tr=36194,dn=36758,nn=35898,Ht=35901,Xt=34843,Nn=34837,Ot=36221,Mn=36239,Bn=36215,Pn=36233,Dn=36209,tn=36227,bn=32856,yt=35907,_e=36759,he=32855,Be=32854,ht=32857,zt=34842,on=34836,Hn=36220,Ar=36238,Ir=36975,ti=36214,Yr=36232,Ki=36226,mi=36208,er=33189,ur=33190,Ei=36012,Ni=36013,rn=35056,En=5120,ar=5121,Er=5122,Hr=5123,vr=5124,Mt=5125,te=5126,ze=32819,Yt=32820,An=33635,Kn=5131,sr=36193,Pr=33640,Sr=35899,Ur=35902,ri=36269,Ri=34042,ji=33319,$i=33320,Yi=6403,no=36244,yo=36248,Fo=36249,$t={},Se=$t;function en(Gn){if(!At){var Yn={};Yn[z]={textureFormat:z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[ar,Kn,sr,te]},Yn[Z]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[ar,Kn,sr,te]},Yn[Re]={textureFormat:Re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[ar,Kn,sr,te]},Yn[X]={textureFormat:X,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[ar,Kn,sr,te,An]},Yn[re]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[ar,Kn,sr,te,ze,Yt]},Yn[oe]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Mt,Hr]},Yn[Ie]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[ar]},Yn[$e]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[En]},Yn[ft]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[te,Kn]},Yn[kt]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[te]},Yn[jt]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[ar]},Yn[Ye]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[En]},Yn[ke]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Hr]},Yn[et]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Er]},Yn[xt]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mt]},Yn[Zt]={textureFormat:no,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[vr]},Yn[rt]={textureFormat:ji,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[ar]},Yn[Ct]={textureFormat:ji,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[En]},Yn[mt]={textureFormat:ji,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[te,Kn]},Yn[Vt]={textureFormat:ji,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[te]},Yn[at]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[ar]},Yn[We]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[En]},Yn[ct]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Hr]},Yn[It]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Er]},Yn[Ke]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Mt]},Yn[wt]={textureFormat:$i,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[vr]},Yn[vn]={textureFormat:X,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[ar]},Yn[kn]={textureFormat:X,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[ar]},Yn[tr]={textureFormat:X,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[ar,An]},Yn[dn]={textureFormat:X,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[En]},Yn[nn]={textureFormat:X,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[te,Kn,Sr]},Yn[Ht]={textureFormat:X,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[te,Kn,Ur]},Yn[Xt]={textureFormat:X,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[te,Kn]},Yn[Nn]={textureFormat:X,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[te]},Yn[Ot]={textureFormat:yo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[ar]},Yn[Mn]={textureFormat:yo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[En]},Yn[Bn]={textureFormat:yo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Hr]},Yn[Pn]={textureFormat:yo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Er]},Yn[Dn]={textureFormat:yo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Mt]},Yn[tn]={textureFormat:yo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[vr]},Yn[bn]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[ar]},Yn[yt]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[ar]},Yn[_e]={textureFormat:re,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[En]},Yn[he]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[ar,Yt,Pr]},Yn[Be]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[ar,ze]},Yn[ht]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Pr]},Yn[zt]={textureFormat:re,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[te,Kn]},Yn[on]={textureFormat:re,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[te]},Yn[Hn]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ar]},Yn[Ar]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[En]},Yn[Ir]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pr]},Yn[ti]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Hr]},Yn[Yr]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Er]},Yn[Ki]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[vr]},Yn[mi]={textureFormat:Fo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Mt]},Yn[er]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Hr,Mt]},Yn[ur]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mt]},Yn[Ei]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[te]},Yn[rn]={textureFormat:Ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ri]},Yn[Ni]={textureFormat:Ce,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ri]},Object.keys(Yn).forEach(function(or){var Cr=Yn[or];Cr.bytesPerElementMap={},Cr.bytesPerElement.forEach(function(fi,Fi){Cr.bytesPerElementMap[Cr.type[Fi]]=fi})}),At=Yn}return At[Gn]}function Sn(Gn,Yn){var or=en(Gn);if(!or)throw"unknown internal format";var Cr=or.bytesPerElementMap[Yn];if(void 0===Cr)throw"unknown internal format";return Cr}function ir(Gn){var Yn=en(Gn);if(!Yn)throw"unknown internal format";return{format:Yn.textureFormat,type:Yn.type[0]}}function Vr(Gn){return!(Gn&Gn-1)}function Oi(Gn,Yn,or,Cr){if(!L.isWebGL2(Gn))return Vr(Yn)&&Vr(or);var fi=en(Cr);if(!fi)throw"unknown internal format";return fi.colorRenderable&&fi.textureFilterable}function Wr(Gn){var Yn=en(Gn);if(!Yn)throw"unknown internal format";return Yn.textureFilterable}function Ro(Gn,Yn,or){return A(Yn)?F.getGLTypeForTypedArray(Yn):or||ar}function Wo(Gn,Yn,or,Cr,fi){if(fi%1!=0)throw"can't guess dimensions";if(or||Cr){if(Cr){if(!or&&(or=fi/Cr)%1)throw"can't guess dimensions"}else if((Cr=fi/or)%1)throw"can't guess dimensions"}else{var Fi=Math.sqrt(fi/(Yn===Fe?6:1));Fi%1==0?(or=Fi,Cr=Fi):(or=fi,Cr=1)}return{width:or,height:Cr}}function xs(Gn){M.textureColor=new Uint8Array([255*Gn[0],255*Gn[1],255*Gn[2],255*Gn[3]])}function Os(Gn,Yn){void 0!==Yn.colorspaceConversion&&Gn.pixelStorei(p,Yn.colorspaceConversion),void 0!==Yn.premultiplyAlpha&&Gn.pixelStorei(H,Yn.premultiplyAlpha),void 0!==Yn.flipY&&Gn.pixelStorei(B,Yn.flipY)}function Lo(Gn){Gn.pixelStorei(C,4),L.isWebGL2(Gn)&&(Gn.pixelStorei(T,0),Gn.pixelStorei(J,0),Gn.pixelStorei(W,0),Gn.pixelStorei(ve,0),Gn.pixelStorei(ne,0))}function ps(Gn,Yn,or,Cr){Cr.minMag&&(or.call(Gn,Yn,De,Cr.minMag),or.call(Gn,Yn,Ge,Cr.minMag)),Cr.min&&or.call(Gn,Yn,De,Cr.min),Cr.mag&&or.call(Gn,Yn,Ge,Cr.mag),Cr.wrap&&(or.call(Gn,Yn,Ze,Cr.wrap),or.call(Gn,Yn,ut,Cr.wrap),(Yn===je||S.isSampler(Gn,Yn))&&or.call(Gn,Yn,bt,Cr.wrap)),Cr.wrapR&&or.call(Gn,Yn,bt,Cr.wrapR),Cr.wrapS&&or.call(Gn,Yn,Ze,Cr.wrapS),Cr.wrapT&&or.call(Gn,Yn,ut,Cr.wrapT),void 0!==Cr.minLod&&or.call(Gn,Yn,Dt,Cr.minLod),void 0!==Cr.maxLod&&or.call(Gn,Yn,Le,Cr.maxLod),void 0!==Cr.baseLevel&&or.call(Gn,Yn,Ae,Cr.baseLevel),void 0!==Cr.maxLevel&&or.call(Gn,Yn,se,Cr.maxLevel),void 0!==Cr.compareFunc&&or.call(Gn,Yn,Ee,Cr.compareFunc),void 0!==Cr.compareMode&&or.call(Gn,Yn,Me,Cr.compareMode)}function Xo(Gn,Yn,or){var Cr=or.target||$;Gn.bindTexture(Cr,Yn),ps(Gn,Cr,Gn.texParameteri,or)}function Ns(Gn,Yn,or){ps(Gn,Yn,Gn.samplerParameteri,or)}function zn(Gn,Yn){var or=Gn.createSampler();return Ns(Gn,or,Yn),or}function li(Gn,Yn,or,Cr,fi,Fi){Fi=Fi||re;var so=(or=or||M.textureOptions).target||$;if(Cr=Cr||or.width,fi=fi||or.height,Gn.bindTexture(so,Yn),Oi(Gn,Cr,fi,Fi))Gn.generateMipmap(so);else{var Co=Wr(Fi)?ce:R;Gn.texParameteri(so,De,Co),Gn.texParameteri(so,Ge,Co),Gn.texParameteri(so,Ze,K),Gn.texParameteri(so,ut,K)}}function hi(Gn){return!0===Gn.auto||void 0===Gn.auto&&void 0===Gn.level}function ni(Gn,Yn){return(Yn=Yn||{}).cubeFaceOrder||[lt,pt,St,Rn,G,ee]}function Hi(Gn,Yn){var Cr=ni(0,Yn).map(function(fi,Fi){return{face:fi,ndx:Fi}});return Cr.sort(function(fi,Fi){return fi.face-Fi.face}),Cr}function oo(Gn,Yn,or,Cr){var fi=(Cr=Cr||M.textureOptions).target||$,Fi=Cr.level||0,so=or.width,Co=or.height,eo=Cr.internalFormat||Cr.format||re,Wt=ir(eo),mn=Cr.format||Wt.format,_n=Cr.type||Wt.type;if(Os(Gn,Cr),Gn.bindTexture(fi,Yn),fi===Fe){var lr,Br,fr=or.width,Tr=or.height;if(fr/6===Tr)lr=Tr,Br=[0,0,1,0,2,0,3,0,4,0,5,0];else if(Tr/6===fr)lr=fr,Br=[0,0,0,1,0,2,0,3,0,4,0,5];else if(fr/3==Tr/2)lr=fr/3,Br=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(fr/2!=Tr/3)throw"can't figure out cube map from element: "+(or.src?or.src:or.nodeName);lr=fr/2,Br=[0,0,1,0,0,1,1,1,0,2,1,2]}var jr=ue();jr?(jr.canvas.width=lr,jr.canvas.height=lr,so=lr,Co=lr,Hi(0,Cr).forEach(function(xo){jr.drawImage(or,Br[2*xo.ndx+0]*lr,Br[2*xo.ndx+1]*lr,lr,lr,0,0,lr,lr),Gn.texImage2D(xo.face,Fi,eo,mn,_n,jr.canvas)}),jr.canvas.width=1,jr.canvas.height=1):typeof createImageBitmap<"u"&&(so=lr,Co=lr,Hi(0,Cr).forEach(function(xo){var Qo=Br[2*xo.ndx+0]*lr,tt=Br[2*xo.ndx+1]*lr;Gn.texImage2D(xo.face,Fi,eo,lr,lr,0,mn,_n,null),createImageBitmap(or,Qo,tt,lr,lr,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(Qt){Os(Gn,Cr),Gn.bindTexture(fi,Yn),Gn.texImage2D(xo.face,Fi,eo,mn,_n,Qt),hi(Cr)&&li(Gn,Yn,Cr,so,Co,eo)})}))}else if(fi===je||fi===Ve){var ui=Math.min(or.width,or.height),Jr=Math.max(or.width,or.height),Wi=Jr/ui;if(Wi%1!=0)throw"can not compute 3D dimensions of element";var ao=or.width===Jr?1:0,vo=or.height===Jr?1:0;Gn.pixelStorei(C,1),Gn.pixelStorei(T,or.width),Gn.pixelStorei(J,0),Gn.pixelStorei(ne,0),Gn.texImage3D(fi,Fi,eo,ui,ui,ui,0,mn,_n,null);for(var _o=0;_o<Wi;++_o){var Po=_o*ui*vo;Gn.pixelStorei(W,_o*ui*ao),Gn.pixelStorei(ve,Po),Gn.texSubImage3D(fi,Fi,0,0,_o,ui,ui,1,mn,_n,or)}Lo(Gn)}else Gn.texImage2D(fi,Fi,eo,mn,_n,or);hi(Cr)&&li(Gn,Yn,Cr,so,Co,eo),Xo(Gn,Yn,Cr)}function Eo(){}function rs(Gn){return typeof ImageBitmap<"u"&&Gn instanceof ImageBitmap||typeof ImageData<"u"&&Gn instanceof ImageData||typeof HTMLElement<"u"&&Gn instanceof HTMLElement}function Ps(Gn,Yn,or){return rs(Gn)?(setTimeout(function(){or(null,Gn)}),Gn):function es(Gn,Yn,or){var Cr;if(or=or||Eo,Yn=function os(Gn,Yn){return void 0!==Yn||function Ui(Gn){if(typeof document<"u"){var Yn=document.createElement("a");return Yn.href=Gn,Yn.hostname===location.hostname&&Yn.port===location.port&&Yn.protocol===location.protocol}var or=new URL(location.href).origin;return new URL(Gn,location.href).origin===or}(Gn)?Yn:"anonymous"}(Gn,Yn=void 0!==Yn?Yn:M.crossOrigin),typeof Image<"u"){Cr=new Image,void 0!==Yn&&(Cr.crossOrigin=Yn);var fi=function(){Cr.removeEventListener("error",Fi),Cr.removeEventListener("load",so),Cr=null},Fi=function(){var fr="couldn't load image: "+Gn;S.error(fr),or(fr,Cr),fi()},so=function(){or(null,Cr),fi()};return Cr.addEventListener("error",Fi),Cr.addEventListener("load",so),Cr.src=Gn,Cr}if(typeof ImageBitmap<"u"){var Co,eo,Wt=function(){or(Co,eo)},mn={};Yn&&(mn.mode="cors"),fetch(Gn,mn).then(function(_n){if(!_n.ok)throw _n;return _n.blob()}).then(function(_n){return createImageBitmap(_n,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(_n){eo=_n,setTimeout(Wt)}).catch(function(_n){Co=_n,setTimeout(Wt)}),Cr=null}return Cr}(Gn,Yn,or)}function Oo(Gn,Yn,or){var Cr=(or=or||M.textureOptions).target||$;if(Gn.bindTexture(Cr,Yn),!1!==or.color){var fi=function Nr(Gn){return A(Gn=Gn||M.textureColor)?Gn:new Uint8Array([255*Gn[0],255*Gn[1],255*Gn[2],255*Gn[3]])}(or.color);if(Cr===Fe)for(var Fi=0;Fi<6;++Fi)Gn.texImage2D(lt+Fi,0,re,1,1,0,re,ar,fi);else Cr===je||Cr===Ve?Gn.texImage3D(Cr,0,re,1,1,1,0,re,ar,fi):Gn.texImage2D(Cr,0,re,1,1,0,re,ar,fi)}}function Ts(Gn,Yn,or,Cr){return Cr=Cr||Eo,Oo(Gn,Yn,or=or||M.textureOptions),Ps((or=Object.assign({},or)).src,or.crossOrigin,function(Fi,so){Fi?Cr(Fi,Yn,so):(oo(Gn,Yn,so,or),Cr(null,Yn,so))})}function Es(Gn,Yn,or,Cr){var fi=(Cr=Cr||M.textureOptions).target||$;Gn.bindTexture(fi,Yn);var Fi=Cr.width,so=Cr.height,Co=Cr.depth,eo=Cr.level||0,Wt=Cr.internalFormat||Cr.format||re,mn=ir(Wt),_n=Cr.format||mn.format,fr=Cr.type||Ro(0,or,mn.type);if(A(or))or instanceof Uint8ClampedArray&&(or=new Uint8Array(or.buffer));else{var Tr=F.getTypedArrayTypeForGLType(fr);or=new Tr(or)}var jr,lr=Sn(Wt,fr),Br=or.byteLength/lr;if(Br%1)throw"length wrong size for format: "+L.glEnumToString(Gn,_n);if(fi===je||fi===Ve)if(Fi||so||Co)!Fi||so&&Co?!so||Fi&&Co?(jr=Wo(0,fi,Fi,so,Br/Co),Fi=jr.width,so=jr.height):(jr=Wo(0,fi,Fi,Co,Br/so),Fi=jr.width,Co=jr.height):(jr=Wo(0,fi,so,Co,Br/Fi),so=jr.width,Co=jr.height);else{var ui=Math.cbrt(Br);if(ui%1!=0)throw"can't guess cube size of array of numElements: "+Br;Fi=ui,so=ui,Co=ui}else jr=Wo(0,fi,Fi,so,Br),Fi=jr.width,so=jr.height;if(Lo(Gn),Gn.pixelStorei(C,Cr.unpackAlignment||1),Os(Gn,Cr),fi===Fe){var Wi=Br/6*(lr/or.BYTES_PER_ELEMENT);Hi(0,Cr).forEach(function(ao){var vo=Wi*ao.ndx,_o=or.subarray(vo,vo+Wi);Gn.texImage2D(ao.face,eo,Wt,Fi,so,0,_n,fr,_o)})}else fi===je||fi===Ve?Gn.texImage3D(fi,eo,Wt,Fi,so,Co,0,_n,fr,or):Gn.texImage2D(fi,eo,Wt,Fi,so,0,_n,fr,or);return{width:Fi,height:so,depth:Co,type:fr}}function Vo(Gn,Yn,or){var Cr=or.target||$;Gn.bindTexture(Cr,Yn);var fi=or.level||0,Fi=or.internalFormat||or.format||re,so=ir(Fi),Co=or.format||so.format,eo=or.type||so.type;if(Os(Gn,or),Cr===Fe)for(var Wt=0;Wt<6;++Wt)Gn.texImage2D(lt+Wt,fi,Fi,or.width,or.height,0,Co,eo,null);else Cr===je||Cr===Ve?Gn.texImage3D(Cr,fi,Fi,or.width,or.height,or.depth,0,Co,eo,null):Gn.texImage2D(Cr,fi,Fi,or.width,or.height,0,Co,eo,null)}function Ls(Gn,Yn,or){or=or||Eo,Yn=Yn||M.textureOptions;var Cr=Gn.createTexture(),fi=Yn.target||$,Fi=Yn.width||1,so=Yn.height||1,Co=Yn.internalFormat||re;Gn.bindTexture(fi,Cr),fi===Fe&&(Gn.texParameteri(fi,Ze,K),Gn.texParameteri(fi,ut,K));var eo=Yn.src;if(eo)if("function"==typeof eo&&(eo=eo(Gn,Yn)),"string"==typeof eo)Ts(Gn,Cr,Yn,or);else if(A(eo)||Array.isArray(eo)&&("number"==typeof eo[0]||Array.isArray(eo[0])||A(eo[0]))){var Wt=Es(Gn,Cr,eo,Yn);Fi=Wt.width,so=Wt.height}else Array.isArray(eo)&&("string"==typeof eo[0]||rs(eo[0]))?fi===Fe?function gs(Gn,Yn,or,Cr){Cr=Cr||Eo;var fi=or.src;if(6!==fi.length)throw"there must be 6 urls for a cubemap";var Fi=or.level||0,so=or.internalFormat||or.format||re,Co=ir(so),eo=or.format||Co.format,Wt=or.type||ar,mn=or.target||$;if(mn!==Fe)throw"target must be TEXTURE_CUBE_MAP";Oo(Gn,Yn,or),or=Object.assign({},or);var lr,_n=6,fr=[],Tr=ni(0,or);lr=fi.map(function(jr,ui){return Ps(jr,or.crossOrigin,function Br(jr){return function(ui,Jr){--_n,ui?fr.push(ui):Jr.width!==Jr.height?fr.push("cubemap face img is not a square: "+Jr.src):(Os(Gn,or),Gn.bindTexture(mn,Yn),5===_n?ni().forEach(function(Wi){Gn.texImage2D(Wi,Fi,so,eo,Wt,Jr)}):Gn.texImage2D(jr,Fi,so,eo,Wt,Jr),hi(or)&&Gn.generateMipmap(mn)),0===_n&&Cr(fr.length?fr:void 0,Yn,lr)}}(Tr[ui]))})}(Gn,Cr,Yn,or):function ha(Gn,Yn,or,Cr){Cr=Cr||Eo;var fi=or.src,Fi=or.internalFormat||or.format||re,so=ir(Fi),Co=or.format||so.format,eo=or.type||ar,Wt=or.target||Ve;if(Wt!==je&&Wt!==Ve)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Oo(Gn,Yn,or),or=Object.assign({},or);var fr,mn=fi.length,_n=[],Tr=or.level||0,lr=or.width,Br=or.height,jr=fi.length,ui=!0;fr=fi.map(function(Wi,ao){return Ps(Wi,or.crossOrigin,function Jr(Wi){return function(ao,vo){if(--mn,ao)_n.push(ao);else{if(Os(Gn,or),Gn.bindTexture(Wt,Yn),ui){ui=!1,Gn.texImage3D(Wt,Tr,Fi,lr=or.width||vo.width,Br=or.height||vo.height,jr,0,Co,eo,null);for(var _o=0;_o<jr;++_o)Gn.texSubImage3D(Wt,Tr,0,0,_o,lr,Br,1,Co,eo,vo)}else{var Po,wo=vo;(vo.width!==lr||vo.height!==Br)&&(wo=(Po=ue()).canvas,Po.canvas.width=lr,Po.canvas.height=Br,Po.drawImage(vo,0,0,lr,Br)),Gn.texSubImage3D(Wt,Tr,0,0,Wi,lr,Br,1,Co,eo,wo),Po&&wo===Po.canvas&&(Po.canvas.width=0,Po.canvas.height=0)}hi(or)&&Gn.generateMipmap(Wt)}0===mn&&Cr(_n.length?_n:void 0,Yn,fr)}}(ao))})}(Gn,Cr,Yn,or):(oo(Gn,Cr,eo,Yn),Fi=eo.width,so=eo.height);else Vo(Gn,Cr,Yn);return hi(Yn)&&li(Gn,Cr,Yn,Fi,so,Co),Xo(Gn,Cr,Yn),Cr}Se[z]={numColorComponents:1},Se[Z]={numColorComponents:1},Se[Re]={numColorComponents:2},Se[X]={numColorComponents:3},Se[re]={numColorComponents:4},Se[Yi]={numColorComponents:1},Se[no]={numColorComponents:1},Se[ji]={numColorComponents:2},Se[$i]={numColorComponents:2},Se[X]={numColorComponents:3},Se[yo]={numColorComponents:3},Se[re]={numColorComponents:4},Se[Fo]={numColorComponents:4},Se[oe]={numColorComponents:1},Se[Ce]={numColorComponents:2}},"./src/twgl-base.js":
/*!**************************!*\
                !*** ./src/twgl-base.js ***!
                \**************************/(u,v,x)=>{v.__esModule=!0;var d=x(
/*! ./twgl.js */
"./src/twgl.js");Object.keys(d).forEach(function(L){"default"===L||"__esModule"===L||L in v&&v[L]===d[L]||(v[L]=d[L])})},"./src/twgl.js":
/*!*********************!*\
                !*** ./src/twgl.js ***!
                \*********************/(u,v,x)=>{function d(pt){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(St){return typeof St}:function(St){return St&&"function"==typeof Symbol&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St})(pt)}v.__esModule=!0;var L={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};v.addExtensionsToContext=ce,v.framebuffers=v.draw=v.attributes=void 0,v.getContext=function Ve(pt,St){return function je(pt,St){for(var Rn=["webgl2","webgl","experimental-webgl"],G=null,ee=0;ee<Rn.length;++ee)if(G=pt.getContext(Rn[ee],St)){Re.addExtensionsToContext&&ce(G);break}return G}(pt,St)},v.getWebGLContext=function Fe(pt,St){return function $(pt,St){for(var Rn=["webgl","experimental-webgl"],G=null,ee=0;ee<Rn.length;++ee)if(G=pt.getContext(Rn[ee],St)){Re.addExtensionsToContext&&ce(G);break}return G}(pt,St)},v.programs=void 0,v.resizeCanvasToDisplaySize=function lt(pt,St){St=St||1,St=Math.max(0,St);var Rn=pt.clientWidth*St|0,G=pt.clientHeight*St|0;return(pt.width!==Rn||pt.height!==G)&&(pt.width=Rn,pt.height=G,!0)},v.setDefaults=function oe(pt){U.copyExistingProperties(pt,Re),F.setAttributeDefaults_(pt),S.setTextureDefaults_(pt)},v.vertexArrays=v.utils=v.typedarrays=v.textures=void 0;var F=re(x(
/*! ./attributes.js */
"./src/attributes.js"));v.attributes=F,Object.keys(F).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===F[pt]||(v[pt]=F[pt])});var S=re(x(
/*! ./textures.js */
"./src/textures.js"));v.textures=S,Object.keys(S).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===S[pt]||(v[pt]=S[pt])});var U=re(x(
/*! ./helper.js */
"./src/helper.js")),O=re(x(
/*! ./utils.js */
"./src/utils.js"));v.utils=O,Object.keys(O).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===O[pt]||(v[pt]=O[pt])});var b=re(x(
/*! ./draw.js */
"./src/draw.js"));v.draw=b,Object.keys(b).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===b[pt]||(v[pt]=b[pt])});var M=re(x(
/*! ./framebuffers.js */
"./src/framebuffers.js"));v.framebuffers=M,Object.keys(M).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===M[pt]||(v[pt]=M[pt])});var A=re(x(
/*! ./programs.js */
"./src/programs.js"));v.programs=A,Object.keys(A).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===A[pt]||(v[pt]=A[pt])});var ue=re(x(
/*! ./typedarrays.js */
"./src/typedarrays.js"));v.typedarrays=ue,Object.keys(ue).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===ue[pt]||(v[pt]=ue[pt])});var z=re(x(
/*! ./vertex-arrays.js */
"./src/vertex-arrays.js"));function X(pt){if("function"!=typeof WeakMap)return null;var St=new WeakMap,Rn=new WeakMap;return(X=function(ee){return ee?Rn:St})(pt)}function re(pt,St){if(!St&&pt&&pt.__esModule)return pt;if(null===pt||"object"!=d(pt)&&"function"!=typeof pt)return{default:pt};var Rn=X(St);if(Rn&&Rn.has(pt))return Rn.get(pt);var G={__proto__:null},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var De in pt)if("default"!==De&&Object.prototype.hasOwnProperty.call(pt,De)){var Ge=ee?Object.getOwnPropertyDescriptor(pt,De):null;Ge&&(Ge.get||Ge.set)?Object.defineProperty(G,De,Ge):G[De]=pt[De]}return G.default=pt,Rn&&Rn.set(pt,G),G}v.vertexArrays=z,Object.keys(z).forEach(function(pt){"default"===pt||"__esModule"===pt||Object.prototype.hasOwnProperty.call(L,pt)||pt in v&&v[pt]===z[pt]||(v[pt]=z[pt])});var Re={addExtensionsToContext:!0},Ce=/^(.*?)_/;function K(pt,St){O.glEnumToString(pt,0);var Rn=pt.getExtension(St);if(Rn){var G={},ee=Ce.exec(St)[1],De="_"+ee;for(var Ge in Rn){var Ze=Rn[Ge],ut="function"==typeof Ze,bt=ut?ee:De,Dt=Ge;Ge.endsWith(bt)&&(Dt=Ge.substring(0,Ge.length-bt.length)),void 0!==pt[Dt]?!ut&&pt[Dt]!==Ze&&U.warn(Dt,pt[Dt],Ze,Ge):ut?pt[Dt]=function(Le){return function(){return Le.apply(Rn,arguments)}}(Ze):(pt[Dt]=Ze,G[Dt]=Ze)}G.constructor={name:Rn.constructor.name},O.glEnumToString(G,0)}return Rn}var R=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function ce(pt){for(var St=0;St<R.length;++St)K(pt,R[St])}},"./src/typedarrays.js":
/*!****************************!*\
                !*** ./src/typedarrays.js ***!
                \****************************/(u,v)=>{v.__esModule=!0,v.getGLTypeForTypedArray=function R(je){if(je instanceof Int8Array)return d;if(je instanceof Uint8Array||je instanceof Uint8ClampedArray)return L;if(je instanceof Int16Array)return F;if(je instanceof Uint16Array)return S;if(je instanceof Int32Array)return U;if(je instanceof Uint32Array)return O;if(je instanceof Float32Array)return b;throw new Error("unsupported typed array type")},v.getGLTypeForTypedArrayType=function ce(je){if(je===Int8Array)return d;if(je===Uint8Array||je===Uint8ClampedArray)return L;if(je===Int16Array)return F;if(je===Uint16Array)return S;if(je===Int32Array)return U;if(je===Uint32Array)return O;if(je===Float32Array)return b;throw new Error("unsupported typed array type")},v.getTypedArrayTypeForGLType=function $(je){var Ve=Ce[je];if(!Ve)throw new Error("unknown gl type");return Ve},v.isArrayBuffer=void 0;var d=5120,L=5121,F=5122,S=5123,U=5124,O=5125,b=5126,Ce={},K=Ce;K[d]=Int8Array,K[L]=Uint8Array,K[F]=Int16Array,K[S]=Uint16Array,K[U]=Int32Array,K[O]=Uint32Array,K[b]=Float32Array,K[32819]=Uint16Array,K[32820]=Uint16Array,K[33635]=Uint16Array,K[5131]=Uint16Array,K[33640]=Uint32Array,K[35899]=Uint32Array,K[35902]=Uint32Array,K[36269]=Uint32Array,K[34042]=Uint32Array,v.isArrayBuffer=typeof SharedArrayBuffer<"u"?function(Ve){return Ve&&Ve.buffer&&(Ve.buffer instanceof ArrayBuffer||Ve.buffer instanceof SharedArrayBuffer)}:function(Ve){return Ve&&Ve.buffer&&Ve.buffer instanceof ArrayBuffer}},"./src/utils.js":
/*!**********************!*\
                !*** ./src/utils.js ***!
                \**********************/(u,v)=>{v.__esModule=!0,v.glEnumToString=void 0,v.isWebGL1=function d(F){return!F.texStorage2D},v.isWebGL2=function x(F){return!!F.texStorage2D},v.glEnumToString=function(){var F={},S={};return function(b,M){return function U(O){var b=O.constructor.name;if(!F[b]){for(var M in O)if("number"==typeof O[M]){var A=S[O[M]];S[O[M]]=A?"".concat(A," | ").concat(M):M}F[b]=!0}}(b),S[M]||("number"==typeof M?"0x".concat(M.toString(16)):M)}}()},"./src/vertex-arrays.js":
/*!******************************!*\
                !*** ./src/vertex-arrays.js ***!
                \******************************/(u,v,x)=>{function d(A){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(A)}v.__esModule=!0,v.createVAOAndSetAttributes=b,v.createVAOFromBufferInfo=function M(A,ue,z){return b(A,ue.attribSetters||ue,z.attribs,z.indices)},v.createVertexArrayInfo=function O(A,ue,z){var X=A.createVertexArray();return A.bindVertexArray(X),ue.length||(ue=[ue]),ue.forEach(function(re){L.setBuffersAndAttributes(A,re,z)}),A.bindVertexArray(null),{numElements:z.numElements,elementType:z.elementType,vertexArrayObject:X}};var L=function S(A,ue){if(!ue&&A&&A.__esModule)return A;if(null===A||"object"!=d(A)&&"function"!=typeof A)return{default:A};var z=F(ue);if(z&&z.has(A))return z.get(A);var X={__proto__:null},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in A)if("default"!==Z&&Object.prototype.hasOwnProperty.call(A,Z)){var Re=re?Object.getOwnPropertyDescriptor(A,Z):null;Re&&(Re.get||Re.set)?Object.defineProperty(X,Z,Re):X[Z]=A[Z]}return X.default=A,z&&z.set(A,X),X}(x(
/*! ./programs.js */
"./src/programs.js"));function F(A){if("function"!=typeof WeakMap)return null;var ue=new WeakMap,z=new WeakMap;return(F=function(re){return re?z:ue})(A)}var U=34963;function b(A,ue,z,X){var re=A.createVertexArray();return A.bindVertexArray(re),L.setAttributes(ue,z),X&&A.bindBuffer(U,X),A.bindVertexArray(null),re}}},w={},y=function r(u){var v=w[u];if(void 0!==v)return v.exports;var x=w[u]={exports:{}};return ye[u](x,x.exports,r),x.exports}("./src/twgl-base.js");return y})(),ln.exports=r()},71245:(ln,ye,w)=>{"use strict";w.r(ye),w.d(ye,{DOMException:()=>R,Headers:()=>S,Request:()=>Z,Response:()=>Ce,fetch:()=>ce});var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},y={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(y.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function($){return $&&v.indexOf(Object.prototype.toString.call($))>-1};function d($){if("string"!=typeof $&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||""===$)throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function L($){return"string"!=typeof $&&($=String($)),$}function F($){var Fe={next:function(){var je=$.shift();return{done:void 0===je,value:je}}};return y.iterable&&(Fe[Symbol.iterator]=function(){return Fe}),Fe}function S($){this.map={},$ instanceof S?$.forEach(function(Fe,je){this.append(je,Fe)},this):Array.isArray($)?$.forEach(function(Fe){if(2!=Fe.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Fe.length);this.append(Fe[0],Fe[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(Fe){this.append(Fe,$[Fe])},this)}function U($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function O($){return new Promise(function(Fe,je){$.onload=function(){Fe($.result)},$.onerror=function(){je($.error)}})}function b($){var Fe=new FileReader,je=O(Fe);return Fe.readAsArrayBuffer($),je}function ue($){if($.slice)return $.slice(0);var Fe=new Uint8Array($.byteLength);return Fe.set(new Uint8Array($)),Fe.buffer}function z(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?"string"==typeof $?this._bodyText=$:y.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:y.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:y.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():y.arrayBuffer&&y.blob&&function u($){return $&&DataView.prototype.isPrototypeOf($)}($)?(this._bodyArrayBuffer=ue($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||x($))?this._bodyArrayBuffer=ue($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof $?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var $=U(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return U(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(y.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")},this.text=function(){var $=U(this);if($)return $;if(this._bodyBlob)return function M($){var Fe=new FileReader,je=O(Fe),Ve=/charset=([A-Za-z0-9_-]+)/.exec($.type);return Fe.readAsText($,Ve?Ve[1]:"utf-8"),je}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function A($){for(var Fe=new Uint8Array($),je=new Array(Fe.length),Ve=0;Ve<Fe.length;Ve++)je[Ve]=String.fromCharCode(Fe[Ve]);return je.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(Re)}),this.json=function(){return this.text().then(JSON.parse)},this}S.prototype.append=function($,Fe){$=d($),Fe=L(Fe);var je=this.map[$];this.map[$]=je?je+", "+Fe:Fe},S.prototype.delete=function($){delete this.map[d($)]},S.prototype.get=function($){return $=d($),this.has($)?this.map[$]:null},S.prototype.has=function($){return this.map.hasOwnProperty(d($))},S.prototype.set=function($,Fe){this.map[d($)]=L(Fe)},S.prototype.forEach=function($,Fe){for(var je in this.map)this.map.hasOwnProperty(je)&&$.call(Fe,this.map[je],je,this)},S.prototype.keys=function(){var $=[];return this.forEach(function(Fe,je){$.push(je)}),F($)},S.prototype.values=function(){var $=[];return this.forEach(function(Fe){$.push(Fe)}),F($)},S.prototype.entries=function(){var $=[];return this.forEach(function(Fe,je){$.push([je,Fe])}),F($)},y.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);var X=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Z($,Fe){if(!(this instanceof Z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var je=(Fe=Fe||{}).body;if($ instanceof Z){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,Fe.headers||(this.headers=new S($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!je&&null!=$._bodyInit&&(je=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=Fe.credentials||this.credentials||"same-origin",(Fe.headers||!this.headers)&&(this.headers=new S(Fe.headers)),this.method=function re($){var Fe=$.toUpperCase();return X.indexOf(Fe)>-1?Fe:$}(Fe.method||this.method||"GET"),this.mode=Fe.mode||this.mode||null,this.signal=Fe.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&je)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(je),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==Fe.cache&&"no-cache"!==Fe.cache)){var Ve=/([?&])_=[^&]*/;Ve.test(this.url)?this.url=this.url.replace(Ve,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function Re($){var Fe=new FormData;return $.trim().split("&").forEach(function(je){if(je){var Ve=je.split("="),lt=Ve.shift().replace(/\+/g," "),pt=Ve.join("=").replace(/\+/g," ");Fe.append(decodeURIComponent(lt),decodeURIComponent(pt))}}),Fe}function oe($){var Fe=new S;return $.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(Ve){return 0===Ve.indexOf("\n")?Ve.substr(1,Ve.length):Ve}).forEach(function(Ve){var lt=Ve.split(":"),pt=lt.shift().trim();if(pt){var St=lt.join(":").trim();try{Fe.append(pt,St)}catch(Rn){console.warn("Response "+Rn.message)}}}),Fe}function Ce($,Fe){if(!(this instanceof Ce))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Fe||(Fe={}),this.type="default",this.status=void 0===Fe.status?200:Fe.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===Fe.statusText?"":""+Fe.statusText,this.headers=new S(Fe.headers),this.url=Fe.url||"",this._initBody($)}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})},z.call(Z.prototype),z.call(Ce.prototype),Ce.prototype.clone=function(){return new Ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},Ce.error=function(){var $=new Ce(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var K=[301,302,303,307,308];Ce.redirect=function($,Fe){if(-1===K.indexOf(Fe))throw new RangeError("Invalid status code");return new Ce(null,{status:Fe,headers:{location:$}})};var R=r.DOMException;try{new R}catch{(R=function(Fe,je){this.message=Fe,this.name=je;var Ve=Error(Fe);this.stack=Ve.stack}).prototype=Object.create(Error.prototype),R.prototype.constructor=R}function ce($,Fe){return new Promise(function(je,Ve){var lt=new Z($,Fe);if(lt.signal&&lt.signal.aborted)return Ve(new R("Aborted","AbortError"));var pt=new XMLHttpRequest;function St(){pt.abort()}if(pt.onload=function(){var ee={statusText:pt.statusText,headers:oe(pt.getAllResponseHeaders()||"")};ee.status=0===lt.url.indexOf("file://")&&(pt.status<200||pt.status>599)?200:pt.status,ee.url="responseURL"in pt?pt.responseURL:ee.headers.get("X-Request-URL");var De="response"in pt?pt.response:pt.responseText;setTimeout(function(){je(new Ce(De,ee))},0)},pt.onerror=function(){setTimeout(function(){Ve(new TypeError("Network request failed"))},0)},pt.ontimeout=function(){setTimeout(function(){Ve(new TypeError("Network request timed out"))},0)},pt.onabort=function(){setTimeout(function(){Ve(new R("Aborted","AbortError"))},0)},pt.open(lt.method,function Rn(ee){try{return""===ee&&r.location.href?r.location.href:ee}catch{return ee}}(lt.url),!0),"include"===lt.credentials?pt.withCredentials=!0:"omit"===lt.credentials&&(pt.withCredentials=!1),"responseType"in pt&&(y.blob?pt.responseType="blob":y.arrayBuffer&&(pt.responseType="arraybuffer")),Fe&&"object"==typeof Fe.headers&&!(Fe.headers instanceof S||r.Headers&&Fe.headers instanceof r.Headers)){var G=[];Object.getOwnPropertyNames(Fe.headers).forEach(function(ee){G.push(d(ee)),pt.setRequestHeader(ee,L(Fe.headers[ee]))}),lt.headers.forEach(function(ee,De){-1===G.indexOf(De)&&pt.setRequestHeader(De,ee)})}else lt.headers.forEach(function(ee,De){pt.setRequestHeader(De,ee)});lt.signal&&(lt.signal.addEventListener("abort",St),pt.onreadystatechange=function(){4===pt.readyState&&lt.signal.removeEventListener("abort",St)}),pt.send(typeof lt._bodyInit>"u"?null:lt._bodyInit)})}ce.polyfill=!0,r.fetch||(r.fetch=ce,r.Headers=S,r.Request=Z,r.Response=Ce)},75067:()=>{"use strict";const ln=globalThis;function ye(We){return(ln.__Zone_symbol_prefix||"__zone_symbol__")+We}const y=Object.getOwnPropertyDescriptor,u=Object.defineProperty,v=Object.getPrototypeOf,x=Object.create,d=Array.prototype.slice,L="addEventListener",F="removeEventListener",S=ye(L),U=ye(F),O="true",b="false",M=ye("");function A(We,ke){return Zone.current.wrap(We,ke)}function ue(We,ke,et,xt,Zt){return Zone.current.scheduleMacroTask(We,ke,et,xt,Zt)}const z=ye,X=typeof window<"u",re=X?window:void 0,Z=X&&re||globalThis,Re="removeAttribute";function oe(We,ke){for(let et=We.length-1;et>=0;et--)"function"==typeof We[et]&&(We[et]=A(We[et],ke+"_"+et));return We}function K(We){return!We||!1!==We.writable&&!("function"==typeof We.get&&typeof We.set>"u")}const R=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ce=!("nw"in Z)&&typeof Z.process<"u"&&"[object process]"===Z.process.toString(),$=!ce&&!R&&!(!X||!re.HTMLElement),Fe=typeof Z.process<"u"&&"[object process]"===Z.process.toString()&&!R&&!(!X||!re.HTMLElement),je={},Ve=z("enable_beforeunload"),lt=function(We){if(!(We=We||Z.event))return;let ke=je[We.type];ke||(ke=je[We.type]=z("ON_PROPERTY"+We.type));const et=this||We.target||Z,xt=et[ke];let Zt;return $&&et===re&&"error"===We.type?(Zt=xt&&xt.call(this,We.message,We.filename,We.lineno,We.colno,We.error),!0===Zt&&We.preventDefault()):(Zt=xt&&xt.apply(this,arguments),"beforeunload"===We.type&&Z[Ve]&&"string"==typeof Zt?We.returnValue=Zt:null!=Zt&&!Zt&&We.preventDefault()),Zt};function pt(We,ke,et){let xt=y(We,ke);if(!xt&&et&&y(et,ke)&&(xt={enumerable:!0,configurable:!0}),!xt||!xt.configurable)return;const Zt=z("on"+ke+"patched");if(We.hasOwnProperty(Zt)&&We[Zt])return;delete xt.writable,delete xt.value;const vn=xt.get,kn=xt.set,tr=ke.slice(2);let dn=je[tr];dn||(dn=je[tr]=z("ON_PROPERTY"+tr)),xt.set=function(nn){let Ht=this;!Ht&&We===Z&&(Ht=Z),Ht&&("function"==typeof Ht[dn]&&Ht.removeEventListener(tr,lt),kn&&kn.call(Ht,null),Ht[dn]=nn,"function"==typeof nn&&Ht.addEventListener(tr,lt,!1))},xt.get=function(){let nn=this;if(!nn&&We===Z&&(nn=Z),!nn)return null;const Ht=nn[dn];if(Ht)return Ht;if(vn){let Xt=vn.call(this);if(Xt)return xt.set.call(this,Xt),"function"==typeof nn[Re]&&nn.removeAttribute(ke),Xt}return null},u(We,ke,xt),We[Zt]=!0}function St(We,ke,et){if(ke)for(let xt=0;xt<ke.length;xt++)pt(We,"on"+ke[xt],et);else{const xt=[];for(const Zt in We)"on"==Zt.slice(0,2)&&xt.push(Zt);for(let Zt=0;Zt<xt.length;Zt++)pt(We,xt[Zt],et)}}const Rn=z("originalInstance");function G(We){const ke=Z[We];if(!ke)return;Z[z(We)]=ke,Z[We]=function(){const Zt=oe(arguments,We);switch(Zt.length){case 0:this[Rn]=new ke;break;case 1:this[Rn]=new ke(Zt[0]);break;case 2:this[Rn]=new ke(Zt[0],Zt[1]);break;case 3:this[Rn]=new ke(Zt[0],Zt[1],Zt[2]);break;case 4:this[Rn]=new ke(Zt[0],Zt[1],Zt[2],Zt[3]);break;default:throw new Error("Arg list too long.")}},Ge(Z[We],ke);const et=new ke(function(){});let xt;for(xt in et)"XMLHttpRequest"===We&&"responseBlob"===xt||function(Zt){"function"==typeof et[Zt]?Z[We].prototype[Zt]=function(){return this[Rn][Zt].apply(this[Rn],arguments)}:u(Z[We].prototype,Zt,{set:function(vn){"function"==typeof vn?(this[Rn][Zt]=A(vn,We+"."+Zt),Ge(this[Rn][Zt],vn)):this[Rn][Zt]=vn},get:function(){return this[Rn][Zt]}})}(xt);for(xt in ke)"prototype"!==xt&&ke.hasOwnProperty(xt)&&(Z[We][xt]=ke[xt])}function ee(We,ke,et){let xt=We;for(;xt&&!xt.hasOwnProperty(ke);)xt=v(xt);!xt&&We[ke]&&(xt=We);const Zt=z(ke);let vn=null;if(xt&&(!(vn=xt[Zt])||!xt.hasOwnProperty(Zt))&&(vn=xt[Zt]=xt[ke],K(xt&&y(xt,ke)))){const tr=et(vn,Zt,ke);xt[ke]=function(){return tr(this,arguments)},Ge(xt[ke],vn)}return vn}function De(We,ke,et){let xt=null;function Zt(vn){const kn=vn.data;return kn.args[kn.cbIdx]=function(){vn.invoke.apply(this,arguments)},xt.apply(kn.target,kn.args),vn}xt=ee(We,ke,vn=>function(kn,tr){const dn=et(kn,tr);return dn.cbIdx>=0&&"function"==typeof tr[dn.cbIdx]?ue(dn.name,tr[dn.cbIdx],dn,Zt):vn.apply(kn,tr)})}function Ge(We,ke){We[z("OriginalDelegate")]=ke}let Ze=!1,ut=!1;function Dt(){if(Ze)return ut;Ze=!0;try{const We=re.navigator.userAgent;(-1!==We.indexOf("MSIE ")||-1!==We.indexOf("Trident/")||-1!==We.indexOf("Edge/"))&&(ut=!0)}catch{}return ut}function Le(We){return"function"==typeof We}function Ae(We){return"number"==typeof We}let se=!1;if(typeof window<"u")try{const We=Object.defineProperty({},"passive",{get:function(){se=!0}});window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{se=!1}const Me={useG:!0},Ee={},C={},T=new RegExp("^"+M+"(\\w+)(true|false)$"),J=z("propagationStopped");function W(We,ke){const et=(ke?ke(We):We)+b,xt=(ke?ke(We):We)+O,Zt=M+et,vn=M+xt;Ee[We]={},Ee[We][b]=Zt,Ee[We][O]=vn}function ve(We,ke,et,xt){const Zt=xt&&xt.add||L,vn=xt&&xt.rm||F,kn=xt&&xt.listeners||"eventListeners",tr=xt&&xt.rmAll||"removeAllListeners",dn=z(Zt),nn="."+Zt+":",Ht="prependListener",Xt="."+Ht+":",Nn=function(tn,bn,yt){if(tn.isRemoved)return;const _e=tn.callback;let he;"object"==typeof _e&&_e.handleEvent&&(tn.callback=ht=>_e.handleEvent(ht),tn.originalDelegate=_e);try{tn.invoke(tn,bn,[yt])}catch(ht){he=ht}const Be=tn.options;return Be&&"object"==typeof Be&&Be.once&&bn[vn].call(bn,yt.type,tn.originalDelegate?tn.originalDelegate:tn.callback,Be),he};function Ot(tn,bn,yt){if(!(bn=bn||We.event))return;const _e=tn||bn.target||We,he=_e[Ee[bn.type][yt?O:b]];if(he){const Be=[];if(1===he.length){const ht=Nn(he[0],_e,bn);ht&&Be.push(ht)}else{const ht=he.slice();for(let zt=0;zt<ht.length&&(!bn||!0!==bn[J]);zt++){const on=Nn(ht[zt],_e,bn);on&&Be.push(on)}}if(1===Be.length)throw Be[0];for(let ht=0;ht<Be.length;ht++){const zt=Be[ht];ke.nativeScheduleMicroTask(()=>{throw zt})}}}const Mn=function(tn){return Ot(this,tn,!1)},Bn=function(tn){return Ot(this,tn,!0)};function Pn(tn,bn){if(!tn)return!1;let yt=!0;bn&&void 0!==bn.useG&&(yt=bn.useG);const _e=bn&&bn.vh;let he=!0;bn&&void 0!==bn.chkDup&&(he=bn.chkDup);let Be=!1;bn&&void 0!==bn.rt&&(Be=bn.rt);let ht=tn;for(;ht&&!ht.hasOwnProperty(Zt);)ht=v(ht);if(!ht&&tn[Zt]&&(ht=tn),!ht||ht[dn])return!1;const zt=bn&&bn.eventNameToString,on={},Hn=ht[dn]=ht[Zt],Ar=ht[z(vn)]=ht[vn],Ir=ht[z(kn)]=ht[kn],ti=ht[z(tr)]=ht[tr];let Yr;bn&&bn.prepend&&(Yr=ht[z(bn.prepend)]=ht[bn.prepend]);const rn=yt?function(ze){if(!on.isExisting)return Hn.call(on.target,on.eventName,on.capture?Bn:Mn,on.options)}:function(ze){return Hn.call(on.target,on.eventName,ze.invoke,on.options)},En=yt?function(ze){if(!ze.isRemoved){const Yt=Ee[ze.eventName];let An;Yt&&(An=Yt[ze.capture?O:b]);const Kn=An&&ze.target[An];if(Kn)for(let sr=0;sr<Kn.length;sr++)if(Kn[sr]===ze){Kn.splice(sr,1),ze.isRemoved=!0,ze.removeAbortListener&&(ze.removeAbortListener(),ze.removeAbortListener=null),0===Kn.length&&(ze.allRemoved=!0,ze.target[An]=null);break}}if(ze.allRemoved)return Ar.call(ze.target,ze.eventName,ze.capture?Bn:Mn,ze.options)}:function(ze){return Ar.call(ze.target,ze.eventName,ze.invoke,ze.options)},Er=bn&&bn.diff?bn.diff:function(ze,Yt){const An=typeof Yt;return"function"===An&&ze.callback===Yt||"object"===An&&ze.originalDelegate===Yt},Hr=Zone[z("UNPATCHED_EVENTS")],vr=We[z("PASSIVE_EVENTS")],te=function(ze,Yt,An,Kn,sr=!1,Pr=!1){return function(){const Sr=this||We;let Ur=arguments[0];bn&&bn.transferEventName&&(Ur=bn.transferEventName(Ur));let ri=arguments[1];if(!ri)return ze.apply(this,arguments);if(ce&&"uncaughtException"===Ur)return ze.apply(this,arguments);let Ri=!1;if("function"!=typeof ri){if(!ri.handleEvent)return ze.apply(this,arguments);Ri=!0}if(_e&&!_e(ze,ri,Sr,arguments))return;const ji=se&&!!vr&&-1!==vr.indexOf(Ur),$i=function Mt(ze){if("object"==typeof ze&&null!==ze){const Yt={...ze};return ze.signal&&(Yt.signal=ze.signal),Yt}return ze}(function Ki(ze,Yt){return!se&&"object"==typeof ze&&ze?!!ze.capture:se&&Yt?"boolean"==typeof ze?{capture:ze,passive:!0}:ze?"object"==typeof ze&&!1!==ze.passive?{...ze,passive:!0}:ze:{passive:!0}:ze}(arguments[2],ji)),Yi=$i?.signal;if(Yi?.aborted)return;if(Hr)for(let Gi=0;Gi<Hr.length;Gi++)if(Ur===Hr[Gi])return ji?ze.call(Sr,Ur,ri,$i):ze.apply(this,arguments);const no=!!$i&&("boolean"==typeof $i||$i.capture),yo=!(!$i||"object"!=typeof $i)&&$i.once,Fo=Zone.current;let $t=Ee[Ur];$t||(W(Ur,zt),$t=Ee[Ur]);const Se=$t[no?O:b];let Sn,At=Sr[Se],en=!1;if(At){if(en=!0,he)for(let Gi=0;Gi<At.length;Gi++)if(Er(At[Gi],ri))return}else At=Sr[Se]=[];const ir=Sr.constructor.name,Vr=C[ir];Vr&&(Sn=Vr[Ur]),Sn||(Sn=ir+Yt+(zt?zt(Ur):Ur)),on.options=$i,yo&&(on.options.once=!1),on.target=Sr,on.capture=no,on.eventName=Ur,on.isExisting=en;const Oi=yt?Me:void 0;Oi&&(Oi.taskData=on),Yi&&(on.options.signal=void 0);const Wr=Fo.scheduleEventTask(Sn,ri,Oi,An,Kn);if(Yi){on.options.signal=Yi;const Gi=()=>Wr.zone.cancelTask(Wr);ze.call(Yi,"abort",Gi,{once:!0}),Wr.removeAbortListener=()=>Yi.removeEventListener("abort",Gi)}return on.target=null,Oi&&(Oi.taskData=null),yo&&(on.options.once=!0),!se&&"boolean"==typeof Wr.options||(Wr.options=$i),Wr.target=Sr,Wr.capture=no,Wr.eventName=Ur,Ri&&(Wr.originalDelegate=ri),Pr?At.unshift(Wr):At.push(Wr),sr?Sr:void 0}};return ht[Zt]=te(Hn,nn,rn,En,Be),Yr&&(ht[Ht]=te(Yr,Xt,function(ze){return Yr.call(on.target,on.eventName,ze.invoke,on.options)},En,Be,!0)),ht[vn]=function(){const ze=this||We;let Yt=arguments[0];bn&&bn.transferEventName&&(Yt=bn.transferEventName(Yt));const An=arguments[2],Kn=!!An&&("boolean"==typeof An||An.capture),sr=arguments[1];if(!sr)return Ar.apply(this,arguments);if(_e&&!_e(Ar,sr,ze,arguments))return;const Pr=Ee[Yt];let Sr;Pr&&(Sr=Pr[Kn?O:b]);const Ur=Sr&&ze[Sr];if(Ur)for(let ri=0;ri<Ur.length;ri++){const Ri=Ur[ri];if(Er(Ri,sr))return Ur.splice(ri,1),Ri.isRemoved=!0,0!==Ur.length||(Ri.allRemoved=!0,ze[Sr]=null,Kn||"string"!=typeof Yt)||(ze[M+"ON_PROPERTY"+Yt]=null),Ri.zone.cancelTask(Ri),Be?ze:void 0}return Ar.apply(this,arguments)},ht[kn]=function(){const ze=this||We;let Yt=arguments[0];bn&&bn.transferEventName&&(Yt=bn.transferEventName(Yt));const An=[],Kn=ne(ze,zt?zt(Yt):Yt);for(let sr=0;sr<Kn.length;sr++){const Pr=Kn[sr];An.push(Pr.originalDelegate?Pr.originalDelegate:Pr.callback)}return An},ht[tr]=function(){const ze=this||We;let Yt=arguments[0];if(Yt){bn&&bn.transferEventName&&(Yt=bn.transferEventName(Yt));const An=Ee[Yt];if(An){const Pr=ze[An[b]],Sr=ze[An[O]];if(Pr){const Ur=Pr.slice();for(let ri=0;ri<Ur.length;ri++){const Ri=Ur[ri];this[vn].call(this,Yt,Ri.originalDelegate?Ri.originalDelegate:Ri.callback,Ri.options)}}if(Sr){const Ur=Sr.slice();for(let ri=0;ri<Ur.length;ri++){const Ri=Ur[ri];this[vn].call(this,Yt,Ri.originalDelegate?Ri.originalDelegate:Ri.callback,Ri.options)}}}}else{const An=Object.keys(ze);for(let Kn=0;Kn<An.length;Kn++){const Pr=T.exec(An[Kn]);let Sr=Pr&&Pr[1];Sr&&"removeListener"!==Sr&&this[tr].call(this,Sr)}this[tr].call(this,"removeListener")}if(Be)return this},Ge(ht[Zt],Hn),Ge(ht[vn],Ar),ti&&Ge(ht[tr],ti),Ir&&Ge(ht[kn],Ir),!0}let Dn=[];for(let tn=0;tn<et.length;tn++)Dn[tn]=Pn(et[tn],xt);return Dn}function ne(We,ke){if(!ke){const vn=[];for(let kn in We){const tr=T.exec(kn);let dn=tr&&tr[1];if(dn&&(!ke||dn===ke)){const nn=We[kn];if(nn)for(let Ht=0;Ht<nn.length;Ht++)vn.push(nn[Ht])}}return vn}let et=Ee[ke];et||(W(ke),et=Ee[ke]);const xt=We[et[b]],Zt=We[et[O]];return xt?Zt?xt.concat(Zt):xt.slice():Zt?Zt.slice():[]}function p(We,ke){const et=We.Event;et&&et.prototype&&ke.patchMethod(et.prototype,"stopImmediatePropagation",xt=>function(Zt,vn){Zt[J]=!0,xt&&xt.apply(Zt,vn)})}const B=z("zoneTask");function Ie(We,ke,et,xt){let Zt=null,vn=null;et+=xt;const kn={};function tr(nn){const Ht=nn.data;Ht.args[0]=function(){return nn.invoke.apply(this,arguments)};const Xt=Zt.apply(We,Ht.args);return Ae(Xt)?Ht.handleId=Xt:(Ht.handle=Xt,Ht.isRefreshable=Le(Xt.refresh)),nn}function dn(nn){const{handle:Ht,handleId:Xt}=nn.data;return vn.call(We,Ht??Xt)}Zt=ee(We,ke+=xt,nn=>function(Ht,Xt){if(Le(Xt[0])){const Nn={isRefreshable:!1,isPeriodic:"Interval"===xt,delay:"Timeout"===xt||"Interval"===xt?Xt[1]||0:void 0,args:Xt},Ot=Xt[0];Xt[0]=function(){try{return Ot.apply(this,arguments)}finally{const{handle:yt,handleId:_e,isPeriodic:he,isRefreshable:Be}=Nn;!he&&!Be&&(_e?delete kn[_e]:yt&&(yt[B]=null))}};const Mn=ue(ke,Xt[0],Nn,tr,dn);if(!Mn)return Mn;const{handleId:Bn,handle:Pn,isRefreshable:Dn,isPeriodic:tn}=Mn.data;if(Bn)kn[Bn]=Mn;else if(Pn&&(Pn[B]=Mn,Dn&&!tn)){const bn=Pn.refresh;Pn.refresh=function(){const{zone:yt,state:_e}=Mn;return"notScheduled"===_e?(Mn._state="scheduled",yt._updateTaskCount(Mn,1)):"running"===_e&&(Mn._state="scheduling"),bn.call(this)}}return Pn??Bn??Mn}return nn.apply(We,Xt)}),vn=ee(We,et,nn=>function(Ht,Xt){const Nn=Xt[0];let Ot;Ae(Nn)?(Ot=kn[Nn],delete kn[Nn]):(Ot=Nn?.[B],Ot?Nn[B]=null:Ot=Nn),Ot?.type?Ot.cancelFn&&Ot.zone.cancelTask(Ot):nn.apply(We,Xt)})}function jt(We,ke,et){if(!et||0===et.length)return ke;const xt=et.filter(vn=>vn.target===We);if(!xt||0===xt.length)return ke;const Zt=xt[0].ignoreProperties;return ke.filter(vn=>-1===Zt.indexOf(vn))}function Ye(We,ke,et,xt){We&&St(We,jt(We,ke,et),xt)}function ct(We){return Object.getOwnPropertyNames(We).filter(ke=>ke.startsWith("on")&&ke.length>2).map(ke=>ke.substring(2))}function Ct(We,ke,et,xt,Zt){const vn=Zone.__symbol__(xt);if(ke[vn])return;const kn=ke[vn]=ke[xt];ke[xt]=function(tr,dn,nn){return dn&&dn.prototype&&Zt.forEach(function(Ht){const Xt=`${et}.${xt}::`+Ht,Nn=dn.prototype;try{if(Nn.hasOwnProperty(Ht)){const Ot=We.ObjectGetOwnPropertyDescriptor(Nn,Ht);Ot&&Ot.value?(Ot.value=We.wrapWithCurrentZone(Ot.value,Xt),We._redefineProperty(dn.prototype,Ht,Ot)):Nn[Ht]&&(Nn[Ht]=We.wrapWithCurrentZone(Nn[Ht],Xt))}else Nn[Ht]&&(Nn[Ht]=We.wrapWithCurrentZone(Nn[Ht],Xt))}catch{}}),kn.call(ke,tr,dn,nn)},We.attachOriginToPatched(ke[xt],kn)}const at=function r(){const We=globalThis,ke=!0===We[ye("forceDuplicateZoneCheck")];if(We.Zone&&(ke||"function"!=typeof We.Zone.__symbol__))throw new Error("Zone already loaded.");return We.Zone??=function w(){const We=ln.performance;function ke(Ki){We&&We.mark&&We.mark(Ki)}function et(Ki,mi){We&&We.measure&&We.measure(Ki,mi)}ke("Zone");let xt=(()=>{class Ki{static#e=this.__symbol__=ye;static assertZonePatched(){if(ln.Promise!==on.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let er=Ki.current;for(;er.parent;)er=er.parent;return er}static get current(){return Ar.zone}static get currentTask(){return Ir}static __load_patch(er,ur,Ei=!1){if(on.hasOwnProperty(er)){const Ni=!0===ln[ye("forceDuplicateZoneCheck")];if(!Ei&&Ni)throw Error("Already loaded patch: "+er)}else if(!ln["__Zone_disable_"+er]){const Ni="Zone:"+er;ke(Ni),on[er]=ur(ln,Ki,Hn),et(Ni,Ni)}}get parent(){return this._parent}get name(){return this._name}constructor(er,ur){this._parent=er,this._name=ur?ur.name||"unnamed":"<root>",this._properties=ur&&ur.properties||{},this._zoneDelegate=new vn(this,this._parent&&this._parent._zoneDelegate,ur)}get(er){const ur=this.getZoneWith(er);if(ur)return ur._properties[er]}getZoneWith(er){let ur=this;for(;ur;){if(ur._properties.hasOwnProperty(er))return ur;ur=ur._parent}return null}fork(er){if(!er)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,er)}wrap(er,ur){if("function"!=typeof er)throw new Error("Expecting function got: "+er);const Ei=this._zoneDelegate.intercept(this,er,ur),Ni=this;return function(){return Ni.runGuarded(Ei,this,arguments,ur)}}run(er,ur,Ei,Ni){Ar={parent:Ar,zone:this};try{return this._zoneDelegate.invoke(this,er,ur,Ei,Ni)}finally{Ar=Ar.parent}}runGuarded(er,ur=null,Ei,Ni){Ar={parent:Ar,zone:this};try{try{return this._zoneDelegate.invoke(this,er,ur,Ei,Ni)}catch(rn){if(this._zoneDelegate.handleError(this,rn))throw rn}}finally{Ar=Ar.parent}}runTask(er,ur,Ei){if(er.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(er.zone||Pn).name+"; Execution: "+this.name+")");const Ni=er,{type:rn,data:{isPeriodic:En=!1,isRefreshable:ar=!1}={}}=er;if(er.state===Dn&&(rn===zt||rn===ht))return;const Er=er.state!=yt;Er&&Ni._transitionTo(yt,bn);const Hr=Ir;Ir=Ni,Ar={parent:Ar,zone:this};try{rn==ht&&er.data&&!En&&!ar&&(er.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Ni,ur,Ei)}catch(vr){if(this._zoneDelegate.handleError(this,vr))throw vr}}finally{const vr=er.state;if(vr!==Dn&&vr!==he)if(rn==zt||En||ar&&vr===tn)Er&&Ni._transitionTo(bn,yt,tn);else{const Mt=Ni._zoneDelegates;this._updateTaskCount(Ni,-1),Er&&Ni._transitionTo(Dn,yt,Dn),ar&&(Ni._zoneDelegates=Mt)}Ar=Ar.parent,Ir=Hr}}scheduleTask(er){if(er.zone&&er.zone!==this){let Ei=this;for(;Ei;){if(Ei===er.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${er.zone.name}`);Ei=Ei.parent}}er._transitionTo(tn,Dn);const ur=[];er._zoneDelegates=ur,er._zone=this;try{er=this._zoneDelegate.scheduleTask(this,er)}catch(Ei){throw er._transitionTo(he,tn,Dn),this._zoneDelegate.handleError(this,Ei),Ei}return er._zoneDelegates===ur&&this._updateTaskCount(er,1),er.state==tn&&er._transitionTo(bn,tn),er}scheduleMicroTask(er,ur,Ei,Ni){return this.scheduleTask(new kn(Be,er,ur,Ei,Ni,void 0))}scheduleMacroTask(er,ur,Ei,Ni,rn){return this.scheduleTask(new kn(ht,er,ur,Ei,Ni,rn))}scheduleEventTask(er,ur,Ei,Ni,rn){return this.scheduleTask(new kn(zt,er,ur,Ei,Ni,rn))}cancelTask(er){if(er.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(er.zone||Pn).name+"; Execution: "+this.name+")");if(er.state===bn||er.state===yt){er._transitionTo(_e,bn,yt);try{this._zoneDelegate.cancelTask(this,er)}catch(ur){throw er._transitionTo(he,_e),this._zoneDelegate.handleError(this,ur),ur}return this._updateTaskCount(er,-1),er._transitionTo(Dn,_e),er.runCount=-1,er}}_updateTaskCount(er,ur){const Ei=er._zoneDelegates;-1==ur&&(er._zoneDelegates=null);for(let Ni=0;Ni<Ei.length;Ni++)Ei[Ni]._updateTaskCount(er.type,ur)}}return Ki})();const Zt={name:"",onHasTask:(Ki,mi,er,ur)=>Ki.hasTask(er,ur),onScheduleTask:(Ki,mi,er,ur)=>Ki.scheduleTask(er,ur),onInvokeTask:(Ki,mi,er,ur,Ei,Ni)=>Ki.invokeTask(er,ur,Ei,Ni),onCancelTask:(Ki,mi,er,ur)=>Ki.cancelTask(er,ur)};class vn{get zone(){return this._zone}constructor(mi,er,ur){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=mi,this._parentDelegate=er,this._forkZS=ur&&(ur&&ur.onFork?ur:er._forkZS),this._forkDlgt=ur&&(ur.onFork?er:er._forkDlgt),this._forkCurrZone=ur&&(ur.onFork?this._zone:er._forkCurrZone),this._interceptZS=ur&&(ur.onIntercept?ur:er._interceptZS),this._interceptDlgt=ur&&(ur.onIntercept?er:er._interceptDlgt),this._interceptCurrZone=ur&&(ur.onIntercept?this._zone:er._interceptCurrZone),this._invokeZS=ur&&(ur.onInvoke?ur:er._invokeZS),this._invokeDlgt=ur&&(ur.onInvoke?er:er._invokeDlgt),this._invokeCurrZone=ur&&(ur.onInvoke?this._zone:er._invokeCurrZone),this._handleErrorZS=ur&&(ur.onHandleError?ur:er._handleErrorZS),this._handleErrorDlgt=ur&&(ur.onHandleError?er:er._handleErrorDlgt),this._handleErrorCurrZone=ur&&(ur.onHandleError?this._zone:er._handleErrorCurrZone),this._scheduleTaskZS=ur&&(ur.onScheduleTask?ur:er._scheduleTaskZS),this._scheduleTaskDlgt=ur&&(ur.onScheduleTask?er:er._scheduleTaskDlgt),this._scheduleTaskCurrZone=ur&&(ur.onScheduleTask?this._zone:er._scheduleTaskCurrZone),this._invokeTaskZS=ur&&(ur.onInvokeTask?ur:er._invokeTaskZS),this._invokeTaskDlgt=ur&&(ur.onInvokeTask?er:er._invokeTaskDlgt),this._invokeTaskCurrZone=ur&&(ur.onInvokeTask?this._zone:er._invokeTaskCurrZone),this._cancelTaskZS=ur&&(ur.onCancelTask?ur:er._cancelTaskZS),this._cancelTaskDlgt=ur&&(ur.onCancelTask?er:er._cancelTaskDlgt),this._cancelTaskCurrZone=ur&&(ur.onCancelTask?this._zone:er._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Ei=ur&&ur.onHasTask;(Ei||er&&er._hasTaskZS)&&(this._hasTaskZS=Ei?ur:Zt,this._hasTaskDlgt=er,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,ur.onScheduleTask||(this._scheduleTaskZS=Zt,this._scheduleTaskDlgt=er,this._scheduleTaskCurrZone=this._zone),ur.onInvokeTask||(this._invokeTaskZS=Zt,this._invokeTaskDlgt=er,this._invokeTaskCurrZone=this._zone),ur.onCancelTask||(this._cancelTaskZS=Zt,this._cancelTaskDlgt=er,this._cancelTaskCurrZone=this._zone))}fork(mi,er){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,mi,er):new xt(mi,er)}intercept(mi,er,ur){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,mi,er,ur):er}invoke(mi,er,ur,Ei,Ni){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,mi,er,ur,Ei,Ni):er.apply(ur,Ei)}handleError(mi,er){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,mi,er)}scheduleTask(mi,er){let ur=er;if(this._scheduleTaskZS)this._hasTaskZS&&ur._zoneDelegates.push(this._hasTaskDlgtOwner),ur=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,mi,er),ur||(ur=er);else if(er.scheduleFn)er.scheduleFn(er);else{if(er.type!=Be)throw new Error("Task is missing scheduleFn.");Mn(er)}return ur}invokeTask(mi,er,ur,Ei){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,mi,er,ur,Ei):er.callback.apply(ur,Ei)}cancelTask(mi,er){let ur;if(this._cancelTaskZS)ur=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,mi,er);else{if(!er.cancelFn)throw Error("Task is not cancelable");ur=er.cancelFn(er)}return ur}hasTask(mi,er){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,mi,er)}catch(ur){this.handleError(mi,ur)}}_updateTaskCount(mi,er){const ur=this._taskCounts,Ei=ur[mi],Ni=ur[mi]=Ei+er;if(Ni<0)throw new Error("More tasks executed then were scheduled.");0!=Ei&&0!=Ni||this.hasTask(this._zone,{microTask:ur.microTask>0,macroTask:ur.macroTask>0,eventTask:ur.eventTask>0,change:mi})}}class kn{constructor(mi,er,ur,Ei,Ni,rn){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=mi,this.source=er,this.data=Ei,this.scheduleFn=Ni,this.cancelFn=rn,!ur)throw new Error("callback is not defined");this.callback=ur;const En=this;this.invoke=mi===zt&&Ei&&Ei.useG?kn.invokeTask:function(){return kn.invokeTask.call(ln,En,this,arguments)}}static invokeTask(mi,er,ur){mi||(mi=this),ti++;try{return mi.runCount++,mi.zone.runTask(mi,er,ur)}finally{1==ti&&Bn(),ti--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Dn,tn)}_transitionTo(mi,er,ur){if(this._state!==er&&this._state!==ur)throw new Error(`${this.type} '${this.source}': can not transition to '${mi}', expecting state '${er}'${ur?" or '"+ur+"'":""}, was '${this._state}'.`);this._state=mi,mi==Dn&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const tr=ye("setTimeout"),dn=ye("Promise"),nn=ye("then");let Nn,Ht=[],Xt=!1;function Ot(Ki){if(Nn||ln[dn]&&(Nn=ln[dn].resolve(0)),Nn){let mi=Nn[nn];mi||(mi=Nn.then),mi.call(Nn,Ki)}else ln[tr](Ki,0)}function Mn(Ki){0===ti&&0===Ht.length&&Ot(Bn),Ki&&Ht.push(Ki)}function Bn(){if(!Xt){for(Xt=!0;Ht.length;){const Ki=Ht;Ht=[];for(let mi=0;mi<Ki.length;mi++){const er=Ki[mi];try{er.zone.runTask(er,null,null)}catch(ur){Hn.onUnhandledError(ur)}}}Hn.microtaskDrainDone(),Xt=!1}}const Pn={name:"NO ZONE"},Dn="notScheduled",tn="scheduling",bn="scheduled",yt="running",_e="canceling",he="unknown",Be="microTask",ht="macroTask",zt="eventTask",on={},Hn={symbol:ye,currentZoneFrame:()=>Ar,onUnhandledError:Yr,microtaskDrainDone:Yr,scheduleMicroTask:Mn,showUncaughtError:()=>!xt[ye("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Yr,patchMethod:()=>Yr,bindArguments:()=>[],patchThen:()=>Yr,patchMacroTask:()=>Yr,patchEventPrototype:()=>Yr,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Yr,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Yr,wrapWithCurrentZone:()=>Yr,filterProperties:()=>[],attachOriginToPatched:()=>Yr,_redefineProperty:()=>Yr,patchCallbacks:()=>Yr,nativeScheduleMicroTask:Ot};let Ar={parent:null,zone:new xt(null,null)},Ir=null,ti=0;function Yr(){}return et("Zone","Zone"),xt}(),We.Zone}();(function Vt(We){(function wt(We){We.__load_patch("ZoneAwarePromise",(ke,et,xt)=>{const Zt=Object.getOwnPropertyDescriptor,vn=Object.defineProperty,tr=xt.symbol,dn=[],nn=!1!==ke[tr("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Ht=tr("Promise"),Xt=tr("then"),Nn="__creationTrace__";xt.onUnhandledError=Mt=>{if(xt.showUncaughtError()){const te=Mt&&Mt.rejection;te?console.error("Unhandled Promise rejection:",te instanceof Error?te.message:te,"; Zone:",Mt.zone.name,"; Task:",Mt.task&&Mt.task.source,"; Value:",te,te instanceof Error?te.stack:void 0):console.error(Mt)}},xt.microtaskDrainDone=()=>{for(;dn.length;){const Mt=dn.shift();try{Mt.zone.runGuarded(()=>{throw Mt.throwOriginal?Mt.rejection:Mt})}catch(te){Mn(te)}}};const Ot=tr("unhandledPromiseRejectionHandler");function Mn(Mt){xt.onUnhandledError(Mt);try{const te=et[Ot];"function"==typeof te&&te.call(this,Mt)}catch{}}function Bn(Mt){return Mt&&Mt.then}function Pn(Mt){return Mt}function Dn(Mt){return En.reject(Mt)}const tn=tr("state"),bn=tr("value"),yt=tr("finally"),_e=tr("parentPromiseValue"),he=tr("parentPromiseState"),Be="Promise.then",ht=null,zt=!0,on=!1,Hn=0;function Ar(Mt,te){return ze=>{try{Ki(Mt,te,ze)}catch(Yt){Ki(Mt,!1,Yt)}}}const Ir=function(){let Mt=!1;return function(ze){return function(){Mt||(Mt=!0,ze.apply(null,arguments))}}},ti="Promise resolved with itself",Yr=tr("currentTaskTrace");function Ki(Mt,te,ze){const Yt=Ir();if(Mt===ze)throw new TypeError(ti);if(Mt[tn]===ht){let An=null;try{("object"==typeof ze||"function"==typeof ze)&&(An=ze&&ze.then)}catch(Kn){return Yt(()=>{Ki(Mt,!1,Kn)})(),Mt}if(te!==on&&ze instanceof En&&ze.hasOwnProperty(tn)&&ze.hasOwnProperty(bn)&&ze[tn]!==ht)er(ze),Ki(Mt,ze[tn],ze[bn]);else if(te!==on&&"function"==typeof An)try{An.call(ze,Yt(Ar(Mt,te)),Yt(Ar(Mt,!1)))}catch(Kn){Yt(()=>{Ki(Mt,!1,Kn)})()}else{Mt[tn]=te;const Kn=Mt[bn];if(Mt[bn]=ze,Mt[yt]===yt&&te===zt&&(Mt[tn]=Mt[he],Mt[bn]=Mt[_e]),te===on&&ze instanceof Error){const sr=et.currentTask&&et.currentTask.data&&et.currentTask.data[Nn];sr&&vn(ze,Yr,{configurable:!0,enumerable:!1,writable:!0,value:sr})}for(let sr=0;sr<Kn.length;)ur(Mt,Kn[sr++],Kn[sr++],Kn[sr++],Kn[sr++]);if(0==Kn.length&&te==on){Mt[tn]=Hn;let sr=ze;try{throw new Error("Uncaught (in promise): "+function kn(Mt){return Mt&&Mt.toString===Object.prototype.toString?(Mt.constructor&&Mt.constructor.name||"")+": "+JSON.stringify(Mt):Mt?Mt.toString():Object.prototype.toString.call(Mt)}(ze)+(ze&&ze.stack?"\n"+ze.stack:""))}catch(Pr){sr=Pr}nn&&(sr.throwOriginal=!0),sr.rejection=ze,sr.promise=Mt,sr.zone=et.current,sr.task=et.currentTask,dn.push(sr),xt.scheduleMicroTask()}}}return Mt}const mi=tr("rejectionHandledHandler");function er(Mt){if(Mt[tn]===Hn){try{const te=et[mi];te&&"function"==typeof te&&te.call(this,{rejection:Mt[bn],promise:Mt})}catch{}Mt[tn]=on;for(let te=0;te<dn.length;te++)Mt===dn[te].promise&&dn.splice(te,1)}}function ur(Mt,te,ze,Yt,An){er(Mt);const Kn=Mt[tn],sr=Kn?"function"==typeof Yt?Yt:Pn:"function"==typeof An?An:Dn;te.scheduleMicroTask(Be,()=>{try{const Pr=Mt[bn],Sr=!!ze&&yt===ze[yt];Sr&&(ze[_e]=Pr,ze[he]=Kn);const Ur=te.run(sr,void 0,Sr&&sr!==Dn&&sr!==Pn?[]:[Pr]);Ki(ze,!0,Ur)}catch(Pr){Ki(ze,!1,Pr)}},ze)}const Ni=function(){},rn=ke.AggregateError;class En{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(te){return te instanceof En?te:Ki(new this(null),zt,te)}static reject(te){return Ki(new this(null),on,te)}static withResolvers(){const te={};return te.promise=new En((ze,Yt)=>{te.resolve=ze,te.reject=Yt}),te}static any(te){if(!te||"function"!=typeof te[Symbol.iterator])return Promise.reject(new rn([],"All promises were rejected"));const ze=[];let Yt=0;try{for(let sr of te)Yt++,ze.push(En.resolve(sr))}catch{return Promise.reject(new rn([],"All promises were rejected"))}if(0===Yt)return Promise.reject(new rn([],"All promises were rejected"));let An=!1;const Kn=[];return new En((sr,Pr)=>{for(let Sr=0;Sr<ze.length;Sr++)ze[Sr].then(Ur=>{An||(An=!0,sr(Ur))},Ur=>{Kn.push(Ur),Yt--,0===Yt&&(An=!0,Pr(new rn(Kn,"All promises were rejected")))})})}static race(te){let ze,Yt,An=new this((Pr,Sr)=>{ze=Pr,Yt=Sr});function Kn(Pr){ze(Pr)}function sr(Pr){Yt(Pr)}for(let Pr of te)Bn(Pr)||(Pr=this.resolve(Pr)),Pr.then(Kn,sr);return An}static all(te){return En.allWithCallback(te)}static allSettled(te){return(this&&this.prototype instanceof En?this:En).allWithCallback(te,{thenCallback:Yt=>({status:"fulfilled",value:Yt}),errorCallback:Yt=>({status:"rejected",reason:Yt})})}static allWithCallback(te,ze){let Yt,An,Kn=new this((Ur,ri)=>{Yt=Ur,An=ri}),sr=2,Pr=0;const Sr=[];for(let Ur of te){Bn(Ur)||(Ur=this.resolve(Ur));const ri=Pr;try{Ur.then(Ri=>{Sr[ri]=ze?ze.thenCallback(Ri):Ri,sr--,0===sr&&Yt(Sr)},Ri=>{ze?(Sr[ri]=ze.errorCallback(Ri),sr--,0===sr&&Yt(Sr)):An(Ri)})}catch(Ri){An(Ri)}sr++,Pr++}return sr-=2,0===sr&&Yt(Sr),Kn}constructor(te){const ze=this;if(!(ze instanceof En))throw new Error("Must be an instanceof Promise.");ze[tn]=ht,ze[bn]=[];try{const Yt=Ir();te&&te(Yt(Ar(ze,zt)),Yt(Ar(ze,on)))}catch(Yt){Ki(ze,!1,Yt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return En}then(te,ze){let Yt=this.constructor?.[Symbol.species];(!Yt||"function"!=typeof Yt)&&(Yt=this.constructor||En);const An=new Yt(Ni),Kn=et.current;return this[tn]==ht?this[bn].push(Kn,An,te,ze):ur(this,Kn,An,te,ze),An}catch(te){return this.then(null,te)}finally(te){let ze=this.constructor?.[Symbol.species];(!ze||"function"!=typeof ze)&&(ze=En);const Yt=new ze(Ni);Yt[yt]=yt;const An=et.current;return this[tn]==ht?this[bn].push(An,Yt,te,te):ur(this,An,Yt,te,te),Yt}}En.resolve=En.resolve,En.reject=En.reject,En.race=En.race,En.all=En.all;const ar=ke[Ht]=ke.Promise;ke.Promise=En;const Er=tr("thenPatched");function Hr(Mt){const te=Mt.prototype,ze=Zt(te,"then");if(ze&&(!1===ze.writable||!ze.configurable))return;const Yt=te.then;te[Xt]=Yt,Mt.prototype.then=function(An,Kn){return new En((Pr,Sr)=>{Yt.call(this,Pr,Sr)}).then(An,Kn)},Mt[Er]=!0}return xt.patchThen=Hr,ar&&(Hr(ar),ee(ke,"fetch",Mt=>function vr(Mt){return function(te,ze){let Yt=Mt.apply(te,ze);if(Yt instanceof En)return Yt;let An=Yt.constructor;return An[Er]||Hr(An),Yt}}(Mt))),Promise[et.__symbol__("uncaughtPromiseErrors")]=dn,En})})(We),function rt(We){We.__load_patch("toString",ke=>{const et=Function.prototype.toString,xt=z("OriginalDelegate"),Zt=z("Promise"),vn=z("Error"),kn=function(){if("function"==typeof this){const Ht=this[xt];if(Ht)return"function"==typeof Ht?et.call(Ht):Object.prototype.toString.call(Ht);if(this===Promise){const Xt=ke[Zt];if(Xt)return et.call(Xt)}if(this===Error){const Xt=ke[vn];if(Xt)return et.call(Xt)}}return et.call(this)};kn[xt]=et,Function.prototype.toString=kn;const tr=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":tr.call(this)}})}(We),function mt(We){We.__load_patch("util",(ke,et,xt)=>{const Zt=ct(ke);xt.patchOnProperties=St,xt.patchMethod=ee,xt.bindArguments=oe,xt.patchMacroTask=De;const vn=et.__symbol__("BLACK_LISTED_EVENTS"),kn=et.__symbol__("UNPATCHED_EVENTS");ke[kn]&&(ke[vn]=ke[kn]),ke[vn]&&(et[vn]=et[kn]=ke[vn]),xt.patchEventPrototype=p,xt.patchEventTarget=ve,xt.isIEOrEdge=Dt,xt.ObjectDefineProperty=u,xt.ObjectGetOwnPropertyDescriptor=y,xt.ObjectCreate=x,xt.ArraySlice=d,xt.patchClass=G,xt.wrapWithCurrentZone=A,xt.filterProperties=jt,xt.attachOriginToPatched=Ge,xt._redefineProperty=Object.defineProperty,xt.patchCallbacks=Ct,xt.getGlobalObjects=()=>({globalSources:C,zoneSymbolEventNames:Ee,eventNames:Zt,isBrowser:$,isMix:Fe,isNode:ce,TRUE_STR:O,FALSE_STR:b,ZONE_SYMBOL_PREFIX:M,ADD_EVENT_LISTENER_STR:L,REMOVE_EVENT_LISTENER_STR:F})})}(We)})(at),function Ke(We){We.__load_patch("legacy",ke=>{const et=ke[We.__symbol__("legacyPatch")];et&&et()}),We.__load_patch("timers",ke=>{const xt="clear";Ie(ke,"set",xt,"Timeout"),Ie(ke,"set",xt,"Interval"),Ie(ke,"set",xt,"Immediate")}),We.__load_patch("requestAnimationFrame",ke=>{Ie(ke,"request","cancel","AnimationFrame"),Ie(ke,"mozRequest","mozCancel","AnimationFrame"),Ie(ke,"webkitRequest","webkitCancel","AnimationFrame")}),We.__load_patch("blocking",(ke,et)=>{const xt=["alert","prompt","confirm"];for(let Zt=0;Zt<xt.length;Zt++)ee(ke,xt[Zt],(kn,tr,dn)=>function(nn,Ht){return et.current.run(kn,ke,Ht,dn)})}),We.__load_patch("EventTarget",(ke,et,xt)=>{(function kt(We,ke){ke.patchEventPrototype(We,ke)})(ke,xt),function ft(We,ke){if(Zone[ke.symbol("patchEventTarget")])return;const{eventNames:et,zoneSymbolEventNames:xt,TRUE_STR:Zt,FALSE_STR:vn,ZONE_SYMBOL_PREFIX:kn}=ke.getGlobalObjects();for(let dn=0;dn<et.length;dn++){const nn=et[dn],Nn=kn+(nn+vn),Ot=kn+(nn+Zt);xt[nn]={},xt[nn][vn]=Nn,xt[nn][Zt]=Ot}const tr=We.EventTarget;tr&&tr.prototype&&ke.patchEventTarget(We,ke,[tr&&tr.prototype])}(ke,xt);const Zt=ke.XMLHttpRequestEventTarget;Zt&&Zt.prototype&&xt.patchEventTarget(ke,xt,[Zt.prototype])}),We.__load_patch("MutationObserver",(ke,et,xt)=>{G("MutationObserver"),G("WebKitMutationObserver")}),We.__load_patch("IntersectionObserver",(ke,et,xt)=>{G("IntersectionObserver")}),We.__load_patch("FileReader",(ke,et,xt)=>{G("FileReader")}),We.__load_patch("on_property",(ke,et,xt)=>{!function It(We,ke){if(ce&&!Fe||Zone[We.symbol("patchEvents")])return;const et=ke.__Zone_ignore_on_properties;let xt=[];if($){const Zt=window;xt=xt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const vn=function bt(){try{const We=re.navigator.userAgent;if(-1!==We.indexOf("MSIE ")||-1!==We.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Zt,ignoreProperties:["error"]}]:[];Ye(Zt,ct(Zt),et&&et.concat(vn),v(Zt))}xt=xt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Zt=0;Zt<xt.length;Zt++){const vn=ke[xt[Zt]];vn&&vn.prototype&&Ye(vn.prototype,ct(vn.prototype),et)}}(xt,ke)}),We.__load_patch("customElements",(ke,et,xt)=>{!function $e(We,ke){const{isBrowser:et,isMix:xt}=ke.getGlobalObjects();(et||xt)&&We.customElements&&"customElements"in We&&ke.patchCallbacks(ke,We.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(ke,xt)}),We.__load_patch("XHR",(ke,et)=>{!function nn(Ht){const Xt=Ht.XMLHttpRequest;if(!Xt)return;const Nn=Xt.prototype;let Mn=Nn[S],Bn=Nn[U];if(!Mn){const Hn=Ht.XMLHttpRequestEventTarget;if(Hn){const Ar=Hn.prototype;Mn=Ar[S],Bn=Ar[U]}}const Pn="readystatechange",Dn="scheduled";function tn(Hn){const Ar=Hn.data,Ir=Ar.target;Ir[kn]=!1,Ir[dn]=!1;const ti=Ir[vn];Mn||(Mn=Ir[S],Bn=Ir[U]),ti&&Bn.call(Ir,Pn,ti);const Yr=Ir[vn]=()=>{if(Ir.readyState===Ir.DONE)if(!Ar.aborted&&Ir[kn]&&Hn.state===Dn){const mi=Ir[et.__symbol__("loadfalse")];if(0!==Ir.status&&mi&&mi.length>0){const er=Hn.invoke;Hn.invoke=function(){const ur=Ir[et.__symbol__("loadfalse")];for(let Ei=0;Ei<ur.length;Ei++)ur[Ei]===Hn&&ur.splice(Ei,1);!Ar.aborted&&Hn.state===Dn&&er.call(Hn)},mi.push(Hn)}else Hn.invoke()}else!Ar.aborted&&!1===Ir[kn]&&(Ir[dn]=!0)};return Mn.call(Ir,Pn,Yr),Ir[xt]||(Ir[xt]=Hn),zt.apply(Ir,Ar.args),Ir[kn]=!0,Hn}function bn(){}function yt(Hn){const Ar=Hn.data;return Ar.aborted=!0,on.apply(Ar.target,Ar.args)}const _e=ee(Nn,"open",()=>function(Hn,Ar){return Hn[Zt]=0==Ar[2],Hn[tr]=Ar[1],_e.apply(Hn,Ar)}),Be=z("fetchTaskAborting"),ht=z("fetchTaskScheduling"),zt=ee(Nn,"send",()=>function(Hn,Ar){if(!0===et.current[ht]||Hn[Zt])return zt.apply(Hn,Ar);{const Ir={target:Hn,url:Hn[tr],isPeriodic:!1,args:Ar,aborted:!1},ti=ue("XMLHttpRequest.send",bn,Ir,tn,yt);Hn&&!0===Hn[dn]&&!Ir.aborted&&ti.state===Dn&&ti.invoke()}}),on=ee(Nn,"abort",()=>function(Hn,Ar){const Ir=function Ot(Hn){return Hn[xt]}(Hn);if(Ir&&"string"==typeof Ir.type){if(null==Ir.cancelFn||Ir.data&&Ir.data.aborted)return;Ir.zone.cancelTask(Ir)}else if(!0===et.current[Be])return on.apply(Hn,Ar)})}(ke);const xt=z("xhrTask"),Zt=z("xhrSync"),vn=z("xhrListener"),kn=z("xhrScheduled"),tr=z("xhrURL"),dn=z("xhrErrorBeforeScheduled")}),We.__load_patch("geolocation",ke=>{ke.navigator&&ke.navigator.geolocation&&function Ce(We,ke){const et=We.constructor.name;for(let xt=0;xt<ke.length;xt++){const Zt=ke[xt],vn=We[Zt];if(vn){if(!K(y(We,Zt)))continue;We[Zt]=(tr=>{const dn=function(){return tr.apply(this,oe(arguments,et+"."+Zt))};return Ge(dn,tr),dn})(vn)}}}(ke.navigator.geolocation,["getCurrentPosition","watchPosition"])}),We.__load_patch("PromiseRejectionEvent",(ke,et)=>{function xt(Zt){return function(vn){ne(ke,Zt).forEach(tr=>{const dn=ke.PromiseRejectionEvent;if(dn){const nn=new dn(Zt,{promise:vn.promise,reason:vn.rejection});tr.invoke(nn)}})}}ke.PromiseRejectionEvent&&(et[z("unhandledPromiseRejectionHandler")]=xt("unhandledrejection"),et[z("rejectionHandledHandler")]=xt("rejectionhandled"))}),We.__load_patch("queueMicrotask",(ke,et,xt)=>{!function H(We,ke){ke.patchMethod(We,"queueMicrotask",et=>function(xt,Zt){Zone.current.scheduleMicroTask("queueMicrotask",Zt[0])})}(ke,xt)})}(at)},79258:(ln,ye,w)=>{"use strict";var tt,r=w(31049).default,y=w(88429).default,u=w(57909).default,v=w(47604).default,x=w(88322).default,d=Object.defineProperty,L=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,M={};((tt,Qt)=>{for(var He in Qt)d(tt,He,{get:Qt[He],enumerable:!0})})(M,{FetchError:()=>St,JSONLoader:()=>jr.JSONLoader,NullLoader:()=>lr,NullWorkerLoader:()=>Tr,RequestScheduler:()=>mn.RequestScheduler,_BrowserFileSystem:()=>_o,_fetchProgress:()=>ui,_selectSource:()=>Co,_unregisterLoaders:()=>Pn,assert:()=>Po.assert,concatenateArrayBuffersAsync:()=>xo.concatenateArrayBuffersAsync,createDataSource:()=>fi,document:()=>wo.document,encode:()=>Ts,encodeInBatches:()=>_s,encodeSync:()=>ha,encodeTable:()=>oo,encodeTableAsText:()=>Ui,encodeTableInBatches:()=>es,encodeText:()=>Es,encodeTextSync:()=>Ls,encodeURLtoURL:()=>ea,fetchFile:()=>$e,forEach:()=>xo.forEach,getLoaderOptions:()=>ke,getPathPrefix:()=>Wt.getPathPrefix,global:()=>wo.global,isAsyncIterable:()=>oe,isBrowser:()=>wo.isBrowser,isIterable:()=>Re,isIterator:()=>Ce,isPromise:()=>Z,isPureObject:()=>re,isReadableStream:()=>lt,isResponse:()=>K,isWorker:()=>wo.isWorker,isWritableStream:()=>pt,load:()=>Wn,loadInBatches:()=>li,makeIterator:()=>Pr,makeLineIterator:()=>Qo.makeLineIterator,makeNumberedLineIterator:()=>Qo.makeNumberedLineIterator,makeStream:()=>_n,makeTextDecoderIterator:()=>Qo.makeTextDecoderIterator,makeTextEncoderIterator:()=>Qo.makeTextEncoderIterator,parse:()=>Se,parseInBatches:()=>Gi,parseSync:()=>ir,readArrayBuffer:()=>kt,registerLoaders:()=>Mn,resolvePath:()=>Wt.resolvePath,selectLoader:()=>bn,selectLoaderSync:()=>_e,self:()=>wo.self,setLoaderOptions:()=>et,setPathPrefix:()=>Wt.setPathPrefix,window:()=>wo.window}),ln.exports=(tt=M,((tt,Qt,He,j)=>{if(Qt&&"object"==typeof Qt||"function"==typeof Qt)for(let pe of F(Qt))!S.call(tt,pe)&&undefined!==pe&&d(tt,pe,{get:()=>Qt[pe],enumerable:!(j=L(Qt,pe))||j.enumerable});return tt})(d({},"__esModule",{value:!0}),tt));var A=w(28690),ue=tt=>"boolean"==typeof tt,z=tt=>"function"==typeof tt,X=tt=>null!==tt&&"object"==typeof tt,re=tt=>X(tt)&&tt.constructor==={}.constructor,Z=tt=>X(tt)&&z(tt.then),Re=tt=>!!tt&&"function"==typeof tt[Symbol.iterator],oe=tt=>tt&&"function"==typeof tt[Symbol.asyncIterator],Ce=tt=>tt&&z(tt.next),K=tt=>typeof Response<"u"&&tt instanceof Response||tt&&tt.arrayBuffer&&tt.text&&tt.json,R=tt=>typeof Blob<"u"&&tt instanceof Blob,ce=tt=>tt&&"object"==typeof tt&&tt.isBuffer,lt=tt=>(tt=>typeof ReadableStream<"u"&&tt instanceof ReadableStream||X(tt)&&z(tt.tee)&&z(tt.cancel)&&z(tt.getReader))(tt)||(tt=>X(tt)&&z(tt.read)&&z(tt.pipe)&&ue(tt.readable))(tt),pt=tt=>(tt=>X(tt)&&z(tt.abort)&&z(tt.getWriter))(tt)||(tt=>X(tt)&&z(tt.end)&&z(tt.write)&&ue(tt.writable))(tt),St=class extends Error{constructor(tt,Qt){super(tt),this.reason=Qt.reason,this.url=Qt.url,this.response=Qt.response}reason;url;response},Rn=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,G=/^([-\w.]+\/[-\w.+]+)/;function ee(tt,Qt){return tt.toLowerCase()===Qt.toLowerCase()}function Ge(tt){const Qt=Rn.exec(tt);return Qt?Qt[1]:""}var Ze=/\?.*/;function bt(tt){return tt.replace(Ze,"")}function Le(tt){return K(tt)?tt.url:R(tt)?tt.name||"":"string"==typeof tt?tt:""}function Ae(tt){if(K(tt)){const Qt=tt,He=Qt.headers.get("content-type")||"",j=bt(Qt.url);return function De(tt){const Qt=G.exec(tt);return Qt?Qt[1]:tt}(He)||Ge(j)}return R(tt)?tt.type||"":"string"==typeof tt?Ge(tt):""}function Me(tt){return Ee.apply(this,arguments)}function Ee(){return Ee=r(function*(tt){if(K(tt))return tt;const Qt={},He=function se(tt){return K(tt)?tt.headers["content-length"]||-1:R(tt)?tt.size:"string"==typeof tt?tt.length:tt instanceof ArrayBuffer||ArrayBuffer.isView(tt)?tt.byteLength:-1}(tt);He>=0&&(Qt["content-length"]=String(He));const j=Le(tt),pe=Ae(tt);pe&&(Qt["content-type"]=pe);const k=yield function ve(tt){return ne.apply(this,arguments)}(tt);k&&(Qt["x-first-bytes"]=k),"string"==typeof tt&&(tt=(new TextEncoder).encode(tt));const le=new Response(tt,{headers:Qt});return Object.defineProperty(le,"url",{value:j}),le}),Ee.apply(this,arguments)}function C(tt){return T.apply(this,arguments)}function T(){return T=r(function*(tt){if(!tt.ok)throw yield function J(tt){return W.apply(this,arguments)}(tt)}),T.apply(this,arguments)}function W(){return W=r(function*(tt){const Qt=function Dt(tt){if(tt.length<50)return tt;const Qt=tt.slice(tt.length-15);return`${tt.substr(0,32)}...${Qt}`}(tt.url);let He=`Failed to fetch resource (${tt.status}) ${tt.statusText}: ${Qt}`;He=He.length>100?`${He.slice(0,100)}...`:He;const j={reason:tt.statusText,url:tt.url,response:tt};try{const pe=tt.headers.get("Content-Type");j.reason=!tt.bodyUsed&&pe?.includes("application/json")?yield tt.json():yield tt.text()}catch{}return new St(He,j)}),W.apply(this,arguments)}function ne(){return ne=r(function*(tt){if("string"==typeof tt)return`data:,${tt.slice(0,5)}`;if(tt instanceof Blob){const He=tt.slice(0,5);return yield new Promise(j=>{const pe=new FileReader;pe.onload=k=>{var le;return j(null==(le=k?.target)?void 0:le.result)},pe.readAsDataURL(He)})}return tt instanceof ArrayBuffer?`data:base64,${function p(tt){let Qt="";const He=new Uint8Array(tt);for(let j=0;j<He.byteLength;j++)Qt+=String.fromCharCode(He[j]);return btoa(Qt)}(tt.slice(0,5))}`:null}),ne.apply(this,arguments)}function $e(tt,Qt){return ft.apply(this,arguments)}function ft(){return ft=r(function*(tt,Qt){var He,j;if("string"==typeof tt){const pe=(0,A.resolvePath)(tt);return function H(tt){return!function B(tt){return tt.startsWith("http:")||tt.startsWith("https:")}(tt)&&!function Ie(tt){return tt.startsWith("data:")}(tt)}(pe)&&null!=(He=globalThis.loaders)&&He.fetchNode?null==(j=globalThis.loaders)?void 0:j.fetchNode(pe,Qt):yield fetch(pe,Qt)}return yield Me(tt)}),ft.apply(this,arguments)}function kt(tt,Qt,He){return jt.apply(this,arguments)}function jt(){return jt=r(function*(tt,Qt,He){tt instanceof Blob||(tt=new Blob([tt]));const j=tt.slice(Qt,Qt+He);return yield function Ye(tt){return ct.apply(this,arguments)}(j)}),jt.apply(this,arguments)}function ct(){return ct=r(function*(tt){return yield new Promise((Qt,He)=>{const j=new FileReader;j.onload=pe=>{var k;return Qt(null==(k=pe?.target)?void 0:k.result)},j.onerror=pe=>He(pe),j.readAsArrayBuffer(tt)})}),ct.apply(this,arguments)}var It=w(28690),wt=new(w(69243).Log)({id:"loaders.gl"}),rt=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},mt=w(28690),Vt={fetch:null,mimeType:void 0,nothrow:!1,log:new class{console;constructor(){this.console=console}log(...tt){return this.console.log.bind(this.console,...tt)}info(...tt){return this.console.info.bind(this.console,...tt)}warn(...tt){return this.console.warn.bind(this.console,...tt)}error(...tt){return this.console.error.bind(this.console,...tt)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:mt.isBrowser,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},at={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function We(){globalThis.loaders=globalThis.loaders||{};const{loaders:tt}=globalThis;return tt._state||(tt._state={}),tt._state}function ke(){const tt=We();return tt.globalOptions=tt.globalOptions||{...Vt},tt.globalOptions}function et(tt){const Qt=We(),He=ke();Qt.globalOptions=tr(He,tt),(0,It.registerJSModules)(tt.modules)}function xt(tt,Qt,He,j){return He=He||[],function Zt(tt,Qt){vn(tt,null,Vt,at,Qt);for(const He of Qt)vn(tt&&tt[He.id]||{},He.id,He.options&&He.options[He.id]||{},He.deprecatedOptions&&He.deprecatedOptions[He.id]||{},Qt)}(tt,He=Array.isArray(He)?He:[He]),tr(Qt,tt,j)}function vn(tt,Qt,He,j,pe){const k=Qt||"Top level",le=Qt?`${Qt}.`:"";for(const q in tt){const Je=!Qt&&X(tt[q]);if(!(q in He)&&("baseUri"!==q||Qt)&&("workerUrl"!==q||!Qt))if(q in j)wt.warn(`${k} loader option '${le}${q}' no longer supported, use '${j[q]}'`)();else if(!Je){const gr=kn(q,pe);wt.warn(`${k} loader option '${le}${q}' not recognized. ${gr}`)()}}}function kn(tt,Qt){const He=tt.toLowerCase();let j="";for(const pe of Qt)for(const k in pe.options){if(tt===k)return`Did you mean '${pe.id}.${k}'?`;const le=k.toLowerCase();(He.startsWith(le)||le.startsWith(He))&&(j=j||`Did you mean '${pe.id}.${k}'?`)}return j}function tr(tt,Qt,He){const pe={...tt.options||{}};return function nn(tt,Qt){Qt&&!("baseUri"in tt)&&(tt.baseUri=Qt)}(pe,He),null===pe.log&&(pe.log=new rt),dn(pe,ke()),dn(pe,Qt),pe}function dn(tt,Qt){for(const He in Qt)He in Qt&&(tt[He]=re(Qt[He])&&re(tt[He])?{...tt[He],...Qt[He]}:Qt[He])}var Ht=w(28690);function Xt(tt){return!!tt&&(Array.isArray(tt)&&(tt=tt[0]),Array.isArray(tt?.extensions))}function Nn(tt){let Qt;return(0,Ht.assert)(tt,"null loader"),(0,Ht.assert)(Xt(tt),"invalid loader"),Array.isArray(tt)&&(Qt=tt[1],tt=tt[0],tt={...tt,options:{...tt.options,...Qt}}),(tt?.parseTextSync||tt?.parseText)&&(tt.text=!0),tt.text||(tt.binary=!0),tt}var Ot=()=>{const tt=We();return tt.loaderRegistry=tt.loaderRegistry||[],tt.loaderRegistry};function Mn(tt){const Qt=Ot();tt=Array.isArray(tt)?tt:[tt];for(const He of tt){const j=Nn(He);Qt.find(pe=>j===pe)||Qt.unshift(j)}}function Pn(){We().loaderRegistry=[]}var Dn=w(28690),tn=/\.([^.]+)$/;function bn(tt){return yt.apply(this,arguments)}function yt(){return yt=r(function*(tt,Qt=[],He,j){if(!Be(tt))return null;let pe=_e(tt,Qt,{...He,nothrow:!0},j);if(pe)return pe;if(R(tt)&&(pe=_e(tt=yield tt.slice(0,10).arrayBuffer(),Qt,He,j)),!pe&&!He?.nothrow)throw new Error(ht(tt));return pe}),yt.apply(this,arguments)}function _e(tt,Qt=[],He,j){if(!Be(tt))return null;if(Qt&&!Array.isArray(Qt))return Nn(Qt);let pe=[];Qt&&(pe=pe.concat(Qt)),He?.ignoreRegisteredLoaders||pe.push(...function Bn(){return Ot()}()),function zt(tt){for(const Qt of tt)Nn(Qt)}(pe);const k=function he(tt,Qt,He,j){const pe=Le(tt),k=Ae(tt),le=bt(pe)||j?.url;let q=null,Je="";return He?.mimeType&&(q=Ar(Qt,He?.mimeType),Je=`match forced by supplied MIME type ${He?.mimeType}`),q=q||function on(tt,Qt){const He=Qt&&tn.exec(Qt),j=He&&He[1];return j?function Hn(tt,Qt){Qt=Qt.toLowerCase();for(const He of tt)for(const j of He.extensions)if(j.toLowerCase()===Qt)return He;return null}(tt,j):null}(Qt,le),Je=Je||(q?`matched url ${le}`:""),q=q||Ar(Qt,k),Je=Je||(q?`matched MIME type ${k}`:""),q=q||function Ir(tt,Qt){if(!Qt)return null;for(const He of tt)if("string"==typeof Qt){if(ti(Qt,He))return He}else if(ArrayBuffer.isView(Qt)){if(Yr(Qt.buffer,Qt.byteOffset,He))return He}else if(Qt instanceof ArrayBuffer&&Yr(Qt,0,He))return He;return null}(Qt,tt),Je=Je||(q?`matched initial data ${mi(tt)}`:""),He?.fallbackMimeType&&(q=q||Ar(Qt,He?.fallbackMimeType),Je=Je||(q?`matched fallback MIME type ${k}`:"")),Je&&Dn.log.log(1,`selectLoader selected ${q?.name}: ${Je}.`),q}(tt,pe,He,j);if(!k&&!He?.nothrow)throw new Error(ht(tt));return k}function Be(tt){return!(tt instanceof Response&&204===tt.status)}function ht(tt){const Qt=Le(tt),He=Ae(tt);let j="No valid loader found (";j+=Qt?`${Dn.path.filename(Qt)}, `:"no url provided, ",j+=`MIME type: ${He?`"${He}"`:"not provided"}, `;const pe=tt?mi(tt):"";return j+=pe?` first bytes: "${pe}"`:"first bytes: not available",j+=")",j}function Ar(tt,Qt){var He;for(const j of tt)if(null!=(He=j.mimeTypes)&&He.some(pe=>ee(Qt,pe))||ee(Qt,`application/x.${j.id}`))return j;return null}function ti(tt,Qt){return Qt.testText?Qt.testText(tt):(Array.isArray(Qt.tests)?Qt.tests:[Qt.tests]).some(j=>tt.startsWith(j))}function Yr(tt,Qt,He){return(Array.isArray(He.tests)?He.tests:[He.tests]).some(pe=>function Ki(tt,Qt,He,j){if(j instanceof ArrayBuffer)return(0,Dn.compareArrayBuffers)(j,tt,j.byteLength);switch(typeof j){case"function":return j(tt);case"string":return j===er(tt,Qt,j.length);default:return!1}}(tt,Qt,0,pe))}function mi(tt,Qt=5){return"string"==typeof tt?tt.slice(0,Qt):ArrayBuffer.isView(tt)?er(tt.buffer,tt.byteOffset,Qt):tt instanceof ArrayBuffer?er(tt,0,Qt):""}function er(tt,Qt,He){if(tt.byteLength<Qt+He)return"";const j=new DataView(tt);let pe="";for(let k=0;k<He;k++)pe+=String.fromCharCode(j.getUint8(Qt+k));return pe}var ur=w(28690),Ei=w(13827),Ni=w(28690),rn=262144,ar=262144,Hr=1048576;function Mt(){return Mt=x(function*(tt,Qt){const He=Qt?.chunkSize||Hr;let j=0;for(;j<tt.size;){const pe=j+He,k=yield v(tt.slice(j,pe).arrayBuffer());j=pe,yield k}}),Mt.apply(this,arguments)}var te=w(28690);function ze(tt,Qt){return te.isBrowser?function Yt(tt,Qt){return An.apply(this,arguments)}(tt,Qt):function Kn(tt,Qt){return sr.apply(this,arguments)}(tt,Qt)}function An(){return An=x(function*(tt,Qt){const He=tt.getReader();let j;try{for(;;){const pe=j||He.read();Qt?._streamReadAhead&&(j=He.read());const{done:k,value:le}=yield v(pe);if(k)return;yield(0,te.toArrayBuffer)(le)}}catch{He.releaseLock()}}),An.apply(this,arguments)}function sr(){return sr=x(function*(tt,Qt){var pe,He=!1,j=!1;try{for(var le,k=u(tt);He=!(le=yield v(k.next())).done;He=!1){const q=le.value;yield(0,te.toArrayBuffer)(q)}}catch(q){j=!0,pe=q}finally{try{He&&null!=k.return&&(yield v(k.return()))}finally{if(j)throw pe}}}),sr.apply(this,arguments)}function Pr(tt,Qt){if("string"==typeof tt)return function*En(tt,Qt){const He=Qt?.chunkSize||rn;let j=0;const pe=new TextEncoder;for(;j<tt.length;){const k=Math.min(tt.length-j,He),le=tt.slice(j,j+k);j+=k,yield pe.encode(le)}}(tt,Qt);if(tt instanceof ArrayBuffer)return function*Er(tt,Qt={}){const{chunkSize:He=ar}=Qt;let j=0;for(;j<tt.byteLength;){const pe=Math.min(tt.byteLength-j,He),k=new ArrayBuffer(pe),le=new Uint8Array(tt,j,pe);new Uint8Array(k).set(le),j+=pe,yield k}}(tt,Qt);if(R(tt))return function vr(tt,Qt){return Mt.apply(this,arguments)}(tt,Qt);if(lt(tt))return ze(tt,Qt);if(K(tt))return ze(tt.body,Qt);throw new Error("makeIterator")}var Sr="Cannot convert supplied data type";function Ur(tt,Qt,He){if(Qt.text&&"string"==typeof tt)return tt;if(ce(tt)&&(tt=tt.buffer),tt instanceof ArrayBuffer){const j=tt;return Qt.text&&!Qt.binary?new TextDecoder("utf8").decode(j):j}if(ArrayBuffer.isView(tt)){if(Qt.text&&!Qt.binary)return new TextDecoder("utf8").decode(tt);let j=tt.buffer;const pe=tt.byteLength||tt.length;return(0!==tt.byteOffset||pe!==j.byteLength)&&(j=j.slice(tt.byteOffset,tt.byteOffset+pe)),j}throw new Error(Sr)}function Ri(){return Ri=r(function*(tt,Qt,He){const j=tt instanceof ArrayBuffer||ArrayBuffer.isView(tt);if("string"==typeof tt||j)return Ur(tt,Qt);if(R(tt)&&(tt=yield Me(tt)),K(tt)){const pe=tt;return yield C(pe),Qt.binary?yield pe.arrayBuffer():yield pe.text()}if(lt(tt)&&(tt=Pr(tt,He)),Re(tt)||oe(tt))return(0,Ni.concatenateArrayBuffersAsync)(tt);throw new Error(Sr)}),Ri.apply(this,arguments)}function $i(){return $i=r(function*(tt,Qt){if(Ce(tt))return tt;if(K(tt)){const He=tt;return yield C(He),Pr(yield He.body,Qt)}return R(tt)||lt(tt)?Pr(tt,Qt):oe(tt)?tt:function Yi(tt){if(ArrayBuffer.isView(tt))return function*(){yield tt.buffer}();if(tt instanceof ArrayBuffer)return function*(){yield tt}();if(Ce(tt))return tt;if(Re(tt))return tt[Symbol.iterator]();throw new Error(Sr)}(tt)}),$i.apply(this,arguments)}function no(tt,Qt){const He=ke(),j=tt||He;return"function"==typeof j.fetch?j.fetch:X(j.fetch)?pe=>$e(pe,j.fetch):Qt?.fetch?Qt?.fetch:$e}var yo=w(28690);function Fo(tt,Qt,He){if(He)return He;const j={fetch:no(Qt,tt),...tt};if(j.url){const pe=bt(j.url);j.baseUrl=pe,j.queryString=function ut(tt){const Qt=tt.match(Ze);return Qt&&Qt[0]}(j.url),j.filename=yo.path.filename(pe),j.baseUrl=yo.path.dirname(pe)}return Array.isArray(j.loaders)||(j.loaders=null),j}function $t(tt,Qt){if(tt&&!Array.isArray(tt))return tt;let He;if(tt&&(He=Array.isArray(tt)?tt:[tt]),Qt&&Qt.loaders){const j=Array.isArray(Qt.loaders)?Qt.loaders:[Qt.loaders];He=He?[...He,...j]:j}return He&&He.length?He:void 0}function Se(tt,Qt,He,j){return At.apply(this,arguments)}function At(){return At=r(function*(tt,Qt,He,j){Qt&&!Array.isArray(Qt)&&!Xt(Qt)&&(j=void 0,He=Qt,Qt=void 0),He=He||{};const pe=Le(tt=yield tt),le=$t(Qt,j),q=yield bn(tt,le,He);return q?(j=Fo({url:pe,_parse:Se,loaders:le},He=xt(He,q,le,pe),j||null),yield function en(tt,Qt,He,j){return Sn.apply(this,arguments)}(q,tt,He,j)):null}),At.apply(this,arguments)}function Sn(){return Sn=r(function*(tt,Qt,He,j){if((0,Ei.validateWorkerVersion)(tt),He=(0,ur.mergeLoaderOptions)(tt.options,He),K(Qt)){const k=Qt,{ok:le,redirected:q,status:Je,statusText:Ut,type:Xn,url:gr}=k,Xi=Object.fromEntries(k.headers.entries());j.response={headers:Xi,ok:le,redirected:q,status:Je,statusText:Ut,type:Xn,url:gr}}Qt=yield function ri(tt,Qt,He){return Ri.apply(this,arguments)}(Qt,tt,He);const pe=tt;if(pe.parseTextSync&&"string"==typeof Qt)return pe.parseTextSync(Qt,He,j);if((0,ur.canParseWithWorker)(tt,He))return yield(0,ur.parseWithWorker)(tt,Qt,He,j,Se);if(pe.parseText&&"string"==typeof Qt)return yield pe.parseText(Qt,He,j);if(pe.parse)return yield pe.parse(Qt,He,j);throw(0,Ei.assert)(!pe.parseSync),new Error(`${tt.id} loader - no parser found and worker is disabled`)}),Sn.apply(this,arguments)}function ir(tt,Qt,He,j){!Array.isArray(Qt)&&!Xt(Qt)&&(j=void 0,He=Qt,Qt=void 0),He=He||{};const k=$t(Qt,j),le=_e(tt,k,He);if(!le)return null;const Je=()=>{throw new Error("parseSync called parse (which is async")};return function Vr(tt,Qt,He,j){if(Qt=Ur(Qt,tt),tt.parseTextSync&&"string"==typeof Qt)return tt.parseTextSync(Qt,He);if(tt.parseSync&&Qt instanceof ArrayBuffer)return tt.parseSync(Qt,He,j);throw new Error(`${tt.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${j.url||""}`)}(le,tt,He=xt(He,le,k),j=Fo({url:Le(tt),_parseSync:Je,_parse:Je,loaders:Qt},He,j||null))}var Oi=w(47526),Wr=w(28690);function Gi(tt,Qt,He,j){return Ro.apply(this,arguments)}function Ro(){return Ro=r(function*(tt,Qt,He,j){const pe=Array.isArray(Qt)?Qt:void 0;!Array.isArray(Qt)&&!Xt(Qt)&&(j=void 0,He=Qt,Qt=void 0),He=He||{};const k=Le(tt=yield tt),le=yield bn(tt,Qt,He);return le?(j=Fo({url:k,_parseInBatches:Gi,_parse:Se,loaders:pe},He=xt(He,le,pe,k),j||null),yield function Wo(tt,Qt,He,j){return xs.apply(this,arguments)}(le,tt,He,j)):[]}),Ro.apply(this,arguments)}function xs(){return xs=r(function*(tt,Qt,He,j){const pe=yield function da(tt,Qt,He,j){return Os.apply(this,arguments)}(tt,Qt,He,j);if(!He.metadata)return pe;const k={shape:"metadata",batchType:"metadata",metadata:{_loader:tt,_context:j},data:[],bytesUsed:0};function q(){return(q=x(function*(Je){yield k,yield*y(u(Je),v)})).apply(this,arguments)}return function le(Je){return q.apply(this,arguments)}(pe)}),xs.apply(this,arguments)}function Os(){return Os=r(function*(tt,Qt,He,j){const pe=yield function ji(tt,Qt){return $i.apply(this,arguments)}(Qt,He),k=yield function Ns(tt){return zn.apply(this,arguments)}(pe,He?.transforms||[]);return tt.parseInBatches?tt.parseInBatches(k,He,j):function Lo(tt,Qt,He,j){return ps.apply(this,arguments)}(k,tt,He,j)}),Os.apply(this,arguments)}function ps(){return ps=x(function*(tt,Qt,He,j){const pe=yield v((0,Wr.concatenateArrayBuffersAsync)(tt)),k=yield v(Se(pe,Qt,{...He,mimeType:Qt.mimeTypes[0]},j));yield function Xo(tt,Qt){const He=(0,Oi.isTable)(tt)?(0,Oi.makeBatchFromTable)(tt):{shape:"unknown",batchType:"data",data:tt,length:Array.isArray(tt)?tt.length:1};return He.mimeType=Qt.mimeTypes[0],He}(k,Qt)}),ps.apply(this,arguments)}function zn(){return zn=r(function*(tt,Qt=[]){let He=tt;var k,j=!1,pe=!1;try{for(var q,le=u(Qt);j=!(q=yield le.next()).done;j=!1)He=(0,q.value)(He)}catch(Je){pe=!0,k=Je}finally{try{j&&null!=le.return&&(yield le.return())}finally{if(pe)throw k}}return He}),zn.apply(this,arguments)}function Wn(tt,Qt,He,j){return Nr.apply(this,arguments)}function Nr(){return Nr=r(function*(tt,Qt,He,j){let pe,k;Array.isArray(Qt)||Xt(Qt)?(pe=Qt,k=He):(pe=[],k=Qt);const le=no(k);let q=tt;return"string"==typeof tt&&(q=yield le(tt)),R(tt)&&(q=yield le(tt)),Array.isArray(pe),yield Se(q,pe,k)}),Nr.apply(this,arguments)}function li(tt,Qt,He,j){let pe;Array.isArray(Qt)||Xt(Qt)?pe=Qt:(He=Qt,pe=void 0);const k=no(He||{});return Array.isArray(tt)?tt.map(q=>hi(q,pe,He||{},k)):hi(tt,pe,He||{},k)}function hi(tt,Qt,He,j){return ni.apply(this,arguments)}function ni(){return ni=r(function*(tt,Qt,He,j){if("string"==typeof tt){const k=yield j(tt);return Array.isArray(Qt),yield Gi(k,Qt,He)}return Array.isArray(Qt),yield Gi(tt,Qt,He)}),ni.apply(this,arguments)}var Hi=w(28690);function oo(tt,Qt,He){return Eo.apply(this,arguments)}function Eo(){return Eo=r(function*(tt,Qt,He){if(Qt.encode)return yield Qt.encode(tt,He);if(Qt.encodeText){const Je=yield Qt.encodeText(tt,He);return(new TextEncoder).encode(Je)}if(Qt.encodeInBatches){const Je=es(tt,Qt,He),Ut=[];var k,j=!1,pe=!1;try{for(var q,le=u(Je);j=!(q=yield le.next()).done;j=!1)Ut.push(q.value)}catch(Xn){pe=!0,k=Xn}finally{try{j&&null!=le.return&&(yield le.return())}finally{if(pe)throw k}}return(0,Hi.concatenateArrayBuffers)(...Ut)}throw new Error("Writer could not encode data")}),Eo.apply(this,arguments)}function Ui(tt,Qt,He){return os.apply(this,arguments)}function os(){return os=r(function*(tt,Qt,He){if(Qt.text&&Qt.encodeText)return yield Qt.encodeText(tt,He);if(Qt.text){const j=yield oo(tt,Qt,He);return(new TextDecoder).decode(j)}throw new Error(`Writer ${Qt.name} could not encode data as text`)}),os.apply(this,arguments)}function es(tt,Qt,He){if(Qt.encodeInBatches){const j=function rs(tt){return[{...tt,start:0,end:tt.length}]}(tt);return Qt.encodeInBatches(j,He)}throw new Error("Writer could not encode data in batches")}var Ps=w(28690),Oo=w(13827);function Ts(tt,Qt,He){return gs.apply(this,arguments)}function gs(){return gs=r(function*(tt,Qt,He){const pe={...ke(),...He};return Qt.encodeURLtoURL?function Gn(tt,Qt,He){return Yn.apply(this,arguments)}(Qt,tt,pe):(0,Ps.canEncodeWithWorker)(Qt,pe)?yield(0,Oo.processOnWorker)(Qt,tt,pe):yield Qt.encode(tt,pe)}),gs.apply(this,arguments)}function ha(tt,Qt,He){if(Qt.encodeSync)return Qt.encodeSync(tt,He);if(Qt.encodeTextSync)return(new TextEncoder).encode(Qt.encodeTextSync(tt,He));throw new Error(`Writer ${Qt.name} could not synchronously encode data`)}function Es(tt,Qt,He){return Vo.apply(this,arguments)}function Vo(){return Vo=r(function*(tt,Qt,He){if(Qt.encodeText)return yield Qt.encodeText(tt,He);if(Qt.encodeTextSync)return Qt.encodeTextSync(tt,He);if(Qt.text){const j=yield Qt.encode(tt,He);return(new TextDecoder).decode(j)}throw new Error(`Writer ${Qt.name} could not encode data as text`)}),Vo.apply(this,arguments)}function Ls(tt,Qt,He){if(Qt.encodeTextSync)return Qt.encodeTextSync(tt,He);if(Qt.text&&Qt.encodeSync){const j=ha(tt,Qt,He);return(new TextDecoder).decode(j)}throw new Error(`Writer ${Qt.name} could not encode data as text`)}function _s(tt,Qt,He){if(Qt.encodeInBatches){const j=function or(tt){return[{...tt,start:0,end:tt.length}]}(tt);return Qt.encodeInBatches(j,He)}throw new Error(`Writer ${Qt.name} could not encode in batches`)}function ea(tt,Qt,He,j){return us.apply(this,arguments)}function us(){return us=r(function*(tt,Qt,He,j){if(tt=(0,Ps.resolvePath)(tt),Qt=(0,Ps.resolvePath)(Qt),Ps.isBrowser||!He.encodeURLtoURL)throw new Error;return yield He.encodeURLtoURL(tt,Qt,j)}),us.apply(this,arguments)}function Yn(){return Yn=r(function*(tt,Qt,He){if(Ps.isBrowser)throw new Error(`Writer ${tt.name} not supported in browser`);const j=Cr("input");yield new Ps.NodeFile(j,"w").write(Qt);const k=Cr("output"),le=yield ea(j,k,tt,He);return(yield $e(le)).arrayBuffer()}),Yn.apply(this,arguments)}function Cr(tt){return`/tmp/${tt}`}function fi(tt,Qt,He){const{type:j="auto"}=He,pe="auto"===j?function Fi(tt,Qt){for(const He of Qt)if(He.testURL&&He.testURL(tt))return He;return null}(tt,Qt):function so(tt,Qt){for(const He of Qt)if(He.type===tt)return He;return null}(j,Qt);if(!pe)throw new Error("Not a valid image source type");return pe.createDataSource(tt,He)}function Co(tt,Qt,He){const j=He?.type||"auto";let pe=null;if("auto"===j){for(const k of Qt)if("string"==typeof tt&&k.testURL&&k.testURL(tt))return k}else pe=function eo(tt,Qt){for(const He of Qt)if(He.type===tt)return He;return null}(j,Qt);if(!pe&&!He?.nothrow)throw new Error("Not a valid image source type");return pe}var Wt=w(28690),mn=w(28690);function _n(tt,Qt){if(globalThis.loaders.makeNodeStream)return globalThis.loaders.makeNodeStream(tt,Qt);const He=tt[Symbol.asyncIterator]?tt[Symbol.asyncIterator]():tt[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:j=>r(function*(){try{const{done:pe,value:k}=yield He.next();pe?j.close():j.enqueue(new Uint8Array(k))}catch(pe){j.error(pe)}})(),cancel:()=>r(function*(){var j;yield null==(j=He?.return)?void 0:j.call(He)})()},{highWaterMark:2**24,...Qt})}var Tr={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.3.1",worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[()=>!1],options:{null:{}}},lr={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.3.1",mimeTypes:["application/x.empty"],extensions:["null"],parse:function(){var tt=r(function*(Qt,He,j){return null});return function(He,j,pe){return tt.apply(this,arguments)}}(),parseSync:function Br(tt,Qt,He){return null},parseInBatches:function(){var tt=x(function*(He,j,pe){var q,k=!1,le=!1;try{for(var Je=u(He);k=!(yield v(Je.next())).done;k=!1)yield null}catch(Xn){le=!0,q=Xn}finally{try{k&&null!=Je.return&&(yield v(Je.return()))}finally{if(le)throw q}}});return function Qt(He,j,pe){return tt.apply(this,arguments)}}(),tests:[()=>!1],options:{null:{}}};var jr=w(28690);function ui(tt,Qt){return Jr.apply(this,arguments)}function Jr(){return Jr=r(function*(tt,Qt,He=()=>{},j=()=>{}){if(!(tt=yield tt).ok)return tt;const pe=tt.body;if(!pe)return tt;const k=tt.headers.get("content-length")||0,le=k?parseInt(k):0;if(!(le>0)||typeof ReadableStream>"u"||!pe.getReader)return tt;const q=new ReadableStream({start:Je=>r(function*(){const Ut=pe.getReader();yield Wi(Je,Ut,0,le,Qt,He,j)})()});return new Response(q)}),Jr.apply(this,arguments)}function Wi(tt,Qt,He,j,pe,k,le){return ao.apply(this,arguments)}function ao(){return ao=r(function*(tt,Qt,He,j,pe,k,le){try{const{done:q,value:Je}=yield Qt.read();if(q)return k(),void tt.close();He+=Je.byteLength,pe(Math.round(He/j*100),{loadedBytes:He,totalBytes:j}),tt.enqueue(Je),yield Wi(tt,Qt,He,j,pe,k,le)}catch(q){tt.error(q),le(q)}}),ao.apply(this,arguments)}var vo=w(28690),_o=class{_fetch;files={};lowerCaseFiles={};usedFiles={};constructor(tt,Qt){this._fetch=Qt?.fetch||fetch;for(let He=0;He<tt.length;++He){const j=tt[He];this.files[j.name]=j,this.lowerCaseFiles[j.name.toLowerCase()]=j,this.usedFiles[j.name]=!1}this.fetch=this.fetch.bind(this)}fetch(tt,Qt){var He=this;return r(function*(){if(tt.includes("://"))return He._fetch(tt,Qt);const j=He.files[tt];if(!j)return new Response(tt,{status:400,statusText:"NOT FOUND"});const k=new Headers(Qt?.headers).get("Range"),le=k&&/bytes=($1)-($2)/.exec(k);if(le){const Je=parseInt(le[1]),Ut=parseInt(le[2]),Xn=yield j.slice(Je,Ut).arrayBuffer(),gr=new Response(Xn);return Object.defineProperty(gr,"url",{value:tt}),gr}const q=new Response(j);return Object.defineProperty(q,"url",{value:tt}),q})()}readdir(tt){var Qt=this;return r(function*(){const He=[];for(const j in Qt.files)He.push(j);return He})()}stat(tt,Qt){var He=this;return r(function*(){const j=He.files[tt];if(!j)throw new Error(tt);return{size:j.size}})()}unlink(tt){var Qt=this;return r(function*(){delete Qt.files[tt],delete Qt.lowerCaseFiles[tt],Qt.usedFiles[tt]=!0})()}openReadableFile(tt,Qt){var He=this;return r(function*(){return new vo.BlobFile(He.files[tt])})()}_getFile(tt,Qt){const He=this.files[tt]||this.lowerCaseFiles[tt];return He&&Qt&&(this.usedFiles[tt]=!0),He}},wo=w(28690),Po=w(28690),xo=w(28690),Qo=w(28690)},36848:(ln,ye,w)=>{"use strict";var B,r=w(31049).default,y=Object.defineProperty,u=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,S={};((B,Ie)=>{for(var $e in Ie)y(B,$e,{get:Ie[$e],enumerable:!0})})(S,{DRACO_EXTERNAL_LIBRARIES:()=>Ve,DRACO_EXTERNAL_LIBRARY_URLS:()=>lt,DracoLoader:()=>ne,DracoWorkerLoader:()=>O,DracoWriter:()=>T,DracoWriterWorker:()=>ve}),ln.exports=(B=S,((B,Ie,$e,ft)=>{if(Ie&&"object"==typeof Ie||"function"==typeof Ie)for(let kt of v(Ie))!x.call(B,kt)&&undefined!==kt&&y(B,kt,{get:()=>Ie[kt],enumerable:!(ft=u(Ie,kt))||ft.enumerable});return B})(y({},"__esModule",{value:!0}),B));var U="4.3.1",O={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:U,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},b=w(47526),M=w(47526);function z(B,Ie,$e){const ft=$e?X($e.metadata):void 0;return(0,M.deduceMeshField)(B,Ie,ft)}function X(B){Object.entries(B);const Ie={};for(const $e in B)Ie[`${$e}.string`]=JSON.stringify(B[$e]);return Ie}var pt,St,re={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Z={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},oe=class{draco;decoder;metadataQuerier;constructor(B){this.draco=B,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(B,Ie={}){const $e=new this.draco.DecoderBuffer;$e.Init(new Int8Array(B),B.byteLength),this._disableAttributeTransforms(Ie);const ft=this.decoder.GetEncodedGeometryType($e),kt=ft===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let jt;switch(ft){case this.draco.TRIANGULAR_MESH:jt=this.decoder.DecodeBufferToMesh($e,kt);break;case this.draco.POINT_CLOUD:jt=this.decoder.DecodeBufferToPointCloud($e,kt);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!jt.ok()||!kt.ptr){const rt=`DRACO decompression failed: ${jt.error_msg()}`;throw new Error(rt)}const Ye=this._getDracoLoaderData(kt,ft,Ie),ct=this._getMeshData(kt,Ye,Ie),It=(0,b.getMeshBoundingBox)(ct.attributes),Ke=function A(B,Ie,$e){const ft=X(Ie.metadata),kt=[],jt=function ue(B){const Ie={};for(const $e in B){const ft=B[$e];Ie[ft.name||"undefined"]=ft}return Ie}(Ie.attributes);for(const Ye in B){const It=z(Ye,B[Ye],jt[Ye]);kt.push(It)}if($e){const Ye=z("indices",$e);kt.push(Ye)}return{fields:kt,metadata:ft}}(ct.attributes,Ye,ct.indices);return{loader:"draco",loaderData:Ye,header:{vertexCount:kt.num_points(),boundingBox:It},...ct,schema:Ke}}finally{this.draco.destroy($e),kt&&this.draco.destroy(kt)}}_getDracoLoaderData(B,Ie,$e){const ft=this._getTopLevelMetadata(B),kt=this._getDracoAttributes(B,$e);return{geometry_type:Ie,num_attributes:B.num_attributes(),num_points:B.num_points(),num_faces:B instanceof this.draco.Mesh?B.num_faces():0,metadata:ft,attributes:kt}}_getDracoAttributes(B,Ie){const $e={};for(let ft=0;ft<B.num_attributes();ft++){const kt=this.decoder.GetAttribute(B,ft),jt=this._getAttributeMetadata(B,ft);$e[kt.unique_id()]={unique_id:kt.unique_id(),attribute_type:kt.attribute_type(),data_type:kt.data_type(),num_components:kt.num_components(),byte_offset:kt.byte_offset(),byte_stride:kt.byte_stride(),normalized:kt.normalized(),attribute_index:ft,metadata:jt};const Ye=this._getQuantizationTransform(kt,Ie);Ye&&($e[kt.unique_id()].quantization_transform=Ye);const ct=this._getOctahedronTransform(kt,Ie);ct&&($e[kt.unique_id()].octahedron_transform=ct)}return $e}_getMeshData(B,Ie,$e){const ft=this._getMeshAttributes(Ie,B,$e);if(!ft.POSITION)throw new Error("DRACO: No position attribute found.");return B instanceof this.draco.Mesh?"triangle-strip"===$e.topology?{topology:"triangle-strip",mode:4,attributes:ft,indices:{value:this._getTriangleStripIndices(B),size:1}}:{topology:"triangle-list",mode:5,attributes:ft,indices:{value:this._getTriangleListIndices(B),size:1}}:{topology:"point-list",mode:0,attributes:ft}}_getMeshAttributes(B,Ie,$e){const ft={};for(const kt of Object.values(B.attributes)){const jt=this._deduceAttributeName(kt,$e);kt.name=jt;const Ye=this._getAttributeValues(Ie,kt);if(Ye){const{value:ct,size:It}=Ye;ft[jt]={value:ct,size:It,byteOffset:kt.byte_offset,byteStride:kt.byte_stride,normalized:kt.normalized}}}return ft}_getTriangleListIndices(B){const $e=3*B.num_faces(),ft=4*$e,kt=this.draco._malloc(ft);try{return this.decoder.GetTrianglesUInt32Array(B,ft,kt),new Uint32Array(this.draco.HEAPF32.buffer,kt,$e).slice()}finally{this.draco._free(kt)}}_getTriangleStripIndices(B){const Ie=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(B,Ie),function R(B){const Ie=B.size(),$e=new Int32Array(Ie);for(let ft=0;ft<Ie;ft++)$e[ft]=B.GetValue(ft);return $e}(Ie)}finally{this.draco.destroy(Ie)}}_getAttributeValues(B,Ie){const $e=Z[Ie.data_type];if(!$e)return console.warn(`DRACO: Unsupported attribute type ${Ie.data_type}`),null;const ft=Ie.num_components,jt=B.num_points()*ft,Ye=jt*$e.BYTES_PER_ELEMENT,ct=function Ce(B,Ie){switch(Ie){case Float32Array:return B.DT_FLOAT32;case Int8Array:return B.DT_INT8;case Int16Array:return B.DT_INT16;case Int32Array:return B.DT_INT32;case Uint8Array:return B.DT_UINT8;case Uint16Array:return B.DT_UINT16;case Uint32Array:return B.DT_UINT32;default:return B.DT_INVALID}}(this.draco,$e);let It;const Ke=this.draco._malloc(Ye);try{const wt=this.decoder.GetAttribute(B,Ie.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(B,wt,ct,Ye,Ke),It=new $e(this.draco.HEAPF32.buffer,Ke,jt).slice()}finally{this.draco._free(Ke)}return{value:It,size:ft}}_deduceAttributeName(B,Ie){const $e=B.unique_id;for(const[jt,Ye]of Object.entries(Ie.extraAttributes||{}))if(Ye===$e)return jt;const ft=B.attribute_type;for(const jt in re)if(this.draco[jt]===ft)return re[jt];const kt=Ie.attributeNameEntry||"name";return B.metadata[kt]?B.metadata[kt].string:`CUSTOM_ATTRIBUTE_${$e}`}_getTopLevelMetadata(B){const Ie=this.decoder.GetMetadata(B);return this._getDracoMetadata(Ie)}_getAttributeMetadata(B,Ie){const $e=this.decoder.GetAttributeMetadata(B,Ie);return this._getDracoMetadata($e)}_getDracoMetadata(B){if(!B||!B.ptr)return{};const Ie={},$e=this.metadataQuerier.NumEntries(B);for(let ft=0;ft<$e;ft++){const kt=this.metadataQuerier.GetEntryName(B,ft);Ie[kt]=this._getDracoMetadataField(B,kt)}return Ie}_getDracoMetadataField(B,Ie){const $e=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(B,Ie,$e);const ft=function K(B){const Ie=B.size(),$e=new Int32Array(Ie);for(let ft=0;ft<Ie;ft++)$e[ft]=B.GetValue(ft);return $e}($e);return{int:this.metadataQuerier.GetIntEntry(B,Ie),string:this.metadataQuerier.GetStringEntry(B,Ie),double:this.metadataQuerier.GetDoubleEntry(B,Ie),intArray:ft}}finally{this.draco.destroy($e)}}_disableAttributeTransforms(B){const{quantizedAttributes:Ie=[],octahedronAttributes:$e=[]}=B,ft=[...Ie,...$e];for(const kt of ft)this.decoder.SkipAttributeTransform(this.draco[kt])}_getQuantizationTransform(B,Ie){const{quantizedAttributes:$e=[]}=Ie,ft=B.attribute_type();if($e.map(jt=>this.decoder[jt]).includes(ft)){const jt=new this.draco.AttributeQuantizationTransform;try{if(jt.InitFromAttribute(B))return{quantization_bits:jt.quantization_bits(),range:jt.range(),min_values:new Float32Array([1,2,3]).map(Ye=>jt.min_value(Ye))}}finally{this.draco.destroy(jt)}}return null}_getOctahedronTransform(B,Ie){const{octahedronAttributes:$e=[]}=Ie,ft=B.attribute_type();if($e.map(jt=>this.decoder[jt]).includes(ft)){const jt=new this.draco.AttributeQuantizationTransform;try{if(jt.InitFromAttribute(B))return{quantization_bits:jt.quantization_bits()}}finally{this.draco.destroy(jt)}}return null}},ce=w(13827),je="https://www.gstatic.com/draco/versioned/decoders/1.5.6",Ve={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},lt={[Ve.DECODER]:`${je}/${Ve.DECODER}`,[Ve.DECODER_WASM]:`${je}/${Ve.DECODER_WASM}`,[Ve.FALLBACK_DECODER]:`${je}/${Ve.FALLBACK_DECODER}`,[Ve.ENCODER]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${Ve.ENCODER}`};function G(){return G=r(function*(B){const Ie=B.modules||{};return pt||=Ie.draco3d?Ie.draco3d.createDecoderModule({}).then($e=>({draco:$e})):function Ge(B){return Ze.apply(this,arguments)}(B),yield pt}),G.apply(this,arguments)}function De(){return De=r(function*(B){const Ie=B.modules||{};return St||=Ie.draco3d?Ie.draco3d.createEncoderModule({}).then($e=>({draco:$e})):function bt(B){return Dt.apply(this,arguments)}(B),yield St}),De.apply(this,arguments)}function Ze(){return Ze=r(function*(B){let Ie,$e;return"js"===(B.draco&&B.draco.decoderType)?Ie=yield(0,ce.loadLibrary)(lt[Ve.FALLBACK_DECODER],"draco",B,Ve.FALLBACK_DECODER):[Ie,$e]=yield Promise.all([yield(0,ce.loadLibrary)(lt[Ve.DECODER],"draco",B,Ve.DECODER),yield(0,ce.loadLibrary)(lt[Ve.DECODER_WASM],"draco",B,Ve.DECODER_WASM)]),Ie=Ie||globalThis.DracoDecoderModule,yield function ut(B,Ie){const $e={};return Ie&&($e.wasmBinary=Ie),new Promise(ft=>{B({...$e,onModuleLoaded:kt=>ft({draco:kt})})})}(Ie,$e)}),Ze.apply(this,arguments)}function Dt(){return Dt=r(function*(B){let Ie=yield(0,ce.loadLibrary)(lt[Ve.ENCODER],"draco",B,Ve.ENCODER);return Ie=Ie||globalThis.DracoEncoderModule,new Promise($e=>{Ie({onModuleLoaded:ft=>$e({draco:ft})})})}),Dt.apply(this,arguments)}var Le={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},Ae=()=>{},se=class{draco;dracoEncoder;dracoMeshBuilder;dracoMetadataBuilder;log;constructor(B){this.draco=B,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}destroy(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}destroyEncodedObject(B){B&&this.draco.destroy(B)}encodeSync(B,Ie={}){return this.log=Ae,this._setOptions(Ie),Ie.pointcloud?this._encodePointCloud(B,Ie):this._encodeMesh(B,Ie)}_getAttributesFromMesh(B){const Ie={...B,...B.attributes};return B.indices&&(Ie.indices=B.indices),Ie}_encodePointCloud(B,Ie){const $e=new this.draco.PointCloud;Ie.metadata&&this._addGeometryMetadata($e,Ie.metadata);const ft=this._getAttributesFromMesh(B);this._createDracoPointCloud($e,ft,Ie);const kt=new this.draco.DracoInt8Array;try{const jt=this.dracoEncoder.EncodePointCloudToDracoBuffer($e,!1,kt);if(!(jt>0))throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${$e.num_points()} points\n        with ${$e.num_attributes()} attributes into ${jt} bytes`),Me(kt)}finally{this.destroyEncodedObject(kt),this.destroyEncodedObject($e)}}_encodeMesh(B,Ie){const $e=new this.draco.Mesh;Ie.metadata&&this._addGeometryMetadata($e,Ie.metadata);const ft=this._getAttributesFromMesh(B);this._createDracoMesh($e,ft,Ie);const kt=new this.draco.DracoInt8Array;try{const jt=this.dracoEncoder.EncodeMeshToDracoBuffer($e,kt);if(jt<=0)throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${$e.num_points()} points\n        with ${$e.num_attributes()} attributes into ${jt} bytes`),Me(kt)}finally{this.destroyEncodedObject(kt),this.destroyEncodedObject($e)}}_setOptions(B){if("speed"in B&&this.dracoEncoder.SetSpeedOptions(...B.speed),"method"in B&&this.dracoEncoder.SetEncodingMethod(this.draco[B.method||"MESH_SEQUENTIAL_ENCODING"]),"quantization"in B)for(const Ie in B.quantization)this.dracoEncoder.SetAttributeQuantization(this.draco[Ie],B.quantization[Ie])}_createDracoMesh(B,Ie,$e){const ft=$e.attributesMetadata||{};try{const kt=this._getPositionAttribute(Ie);if(!kt)throw new Error("positions");const jt=kt.length/3;for(let Ye in Ie){const ct=Ie[Ye];Ye=Le[Ye]||Ye;const It=this._addAttributeToMesh(B,Ye,ct,jt);-1!==It&&this._addAttributeMetadata(B,It,{name:Ye,...ft[Ye]||{}})}}catch(kt){throw this.destroyEncodedObject(B),kt}return B}_createDracoPointCloud(B,Ie,$e){const ft=$e.attributesMetadata||{};try{const kt=this._getPositionAttribute(Ie);if(!kt)throw new Error("positions");const jt=kt.length/3;for(let Ye in Ie){const ct=Ie[Ye];Ye=Le[Ye]||Ye;const It=this._addAttributeToMesh(B,Ye,ct,jt);-1!==It&&this._addAttributeMetadata(B,It,{name:Ye,...ft[Ye]||{}})}}catch(kt){throw this.destroyEncodedObject(B),kt}return B}_addAttributeToMesh(B,Ie,$e,ft){if(!ArrayBuffer.isView($e))return-1;const kt=this._getDracoAttributeType(Ie),jt=$e.length/ft;if("indices"===kt){const It=$e.length/3;return this.log(`Adding attribute ${Ie}, size ${It}`),this.dracoMeshBuilder.AddFacesToMesh(B,It,$e),-1}this.log(`Adding attribute ${Ie}, size ${jt}`);const Ye=this.dracoMeshBuilder,{buffer:ct}=$e;switch($e.constructor){case Int8Array:return Ye.AddInt8Attribute(B,kt,ft,jt,new Int8Array(ct));case Int16Array:return Ye.AddInt16Attribute(B,kt,ft,jt,new Int16Array(ct));case Int32Array:return Ye.AddInt32Attribute(B,kt,ft,jt,new Int32Array(ct));case Uint8Array:case Uint8ClampedArray:return Ye.AddUInt8Attribute(B,kt,ft,jt,new Uint8Array(ct));case Uint16Array:return Ye.AddUInt16Attribute(B,kt,ft,jt,new Uint16Array(ct));case Uint32Array:return Ye.AddUInt32Attribute(B,kt,ft,jt,new Uint32Array(ct));case Float32Array:return Ye.AddFloatAttribute(B,kt,ft,jt,new Float32Array(ct));default:return console.warn("Unsupported attribute type",$e),-1}}_getDracoAttributeType(B){switch(B.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}_getPositionAttribute(B){for(const Ie in B){const $e=B[Ie];if(this._getDracoAttributeType(Ie)===this.draco.POSITION)return $e}return null}_addGeometryMetadata(B,Ie){const $e=new this.draco.Metadata;this._populateDracoMetadata($e,Ie),this.dracoMeshBuilder.AddMetadata(B,$e)}_addAttributeMetadata(B,Ie,$e){const ft=new this.draco.Metadata;this._populateDracoMetadata(ft,$e),this.dracoMeshBuilder.SetMetadataForAttribute(B,Ie,ft)}_populateDracoMetadata(B,Ie){for(const[$e,ft]of function Ee(B){return B.entries&&!B.hasOwnProperty("entries")?B.entries():Object.entries(B)}(Ie))switch(typeof ft){case"number":Math.trunc(ft)===ft?this.dracoMetadataBuilder.AddIntEntry(B,$e,ft):this.dracoMetadataBuilder.AddDoubleEntry(B,$e,ft);break;case"object":ft instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(B,$e,ft,ft.length);break;default:this.dracoMetadataBuilder.AddStringEntry(B,$e,ft)}}};function Me(B){const Ie=B.size(),$e=new ArrayBuffer(Ie),ft=new Int8Array($e);for(let kt=0;kt<Ie;++kt)ft[kt]=B.GetValue(kt);return $e}var T={name:"DRACO",id:"draco",module:"draco",version:U,extensions:["drc"],options:{draco:{pointcloud:!1,attributeNameEntry:"name"}},encode:function J(B){return W.apply(this,arguments)}};function W(){return W=r(function*(B,Ie={}){const{draco:$e}=yield function ee(B){return De.apply(this,arguments)}(Ie),ft=new se($e);try{return ft.encodeSync(B,Ie.draco)}finally{ft.destroy()}}),W.apply(this,arguments)}var ve={id:"draco-writer",name:"Draco compressed geometry writer",module:"draco",version:U,worker:!0,options:{draco:{},source:null}},ne={...O,parse:function p(B,Ie){return H.apply(this,arguments)}};function H(){return H=r(function*(B,Ie){const{draco:$e}=yield function Rn(B){return G.apply(this,arguments)}(Ie),ft=new oe($e);try{return ft.parseSync(B,Ie?.draco)}finally{ft.destroy()}}),H.apply(this,arguments)}},13128:(ln,ye,w)=>{"use strict";var _,r=w(31049).default,y=Object.defineProperty,u=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,d=(_,Q)=>{for(var P in Q)y(_,P,{get:Q[P],enumerable:!0})},S={};d(S,{EXT_FEATURE_METADATA:()=>_e,EXT_MESH_FEATURES:()=>C,EXT_STRUCTURAL_METADATA:()=>kt,GLBLoader:()=>js,GLBWriter:()=>gc,GLTFLoader:()=>xi,GLTFScenegraph:()=>lt,GLTFWriter:()=>jo,_getMemoryUsageGLTF:()=>$,createExtMeshFeatures:()=>H,createExtStructuralMetadata:()=>Xt,postProcessGLTF:()=>ms}),ln.exports=(_=S,((_,Q,P,ae)=>{if(Q&&"object"==typeof Q||"function"==typeof Q)for(let nt of v(Q))!x.call(_,nt)&&undefined!==nt&&y(_,nt,{get:()=>Q[nt],enumerable:!(ae=u(Q,nt))||ae.enumerable});return _})(y({},"__esModule",{value:!0}),_));var U={};d(U,{createExtMeshFeatures:()=>H,decode:()=>T,encode:()=>W,name:()=>C});var O=w(14315),b=w(28690);function M(_,Q){if(!_)throw new Error(Q||"assert failed: gltf")}var A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ue={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},z=1.33,X=["SCALAR","VEC2","VEC3","VEC4"],re=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],Z=new Map(re),Re={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},oe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ce={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function K(_){return X[_-1]||X[0]}function R(_){const Q=Z.get(_.constructor);if(!Q)throw new Error("Illegal typed array");return Q}function ce(_,Q){const P=Ce[_.componentType],ae=Re[_.type],Pt=_.count*ae,sn=_.count*ae*oe[_.componentType];return M(sn>=0&&sn<=Q.byteLength),{ArrayType:P,length:Pt,byteLength:sn,componentByteSize:ue[_.componentType],numberOfComponentsInElement:A[_.type]}}function $(_){let{images:Q,bufferViews:P}=_;Q=Q||[],P=P||[];const ae=Q.map(sn=>sn.bufferView);P=P.filter(sn=>!ae.includes(sn));const nt=P.reduce((sn,cr)=>sn+cr.byteLength,0),Pt=Q.reduce((sn,cr)=>{const{width:Xr,height:oi}=cr.image;return sn+Xr*oi},0);return nt+Math.ceil(4*Pt*z)}var lt=class{gltf;sourceBuffers;byteLength;constructor(_){this.gltf={json:_?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:_?.buffers||[],images:_?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(_){return this.json[_]}getExtraData(_){return(this.json.extras||{})[_]}hasExtension(_){const Q=this.getUsedExtensions().find(ae=>ae===_),P=this.getRequiredExtensions().find(ae=>ae===_);return"string"==typeof Q||"string"==typeof P}getExtension(_){return this.getUsedExtensions().find(ae=>ae===_)?(this.json.extensions||{})[_]:null}getRequiredExtension(_){return this.getRequiredExtensions().find(P=>P===_)?this.getExtension(_):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(_,Q){return(_.extensions||{})[Q]}getScene(_){return this.getObject("scenes",_)}getNode(_){return this.getObject("nodes",_)}getSkin(_){return this.getObject("skins",_)}getMesh(_){return this.getObject("meshes",_)}getMaterial(_){return this.getObject("materials",_)}getAccessor(_){return this.getObject("accessors",_)}getTexture(_){return this.getObject("textures",_)}getSampler(_){return this.getObject("samplers",_)}getImage(_){return this.getObject("images",_)}getBufferView(_){return this.getObject("bufferViews",_)}getBuffer(_){return this.getObject("buffers",_)}getObject(_,Q){if("object"==typeof Q)return Q;const P=this.json[_]&&this.json[_][Q];if(!P)throw new Error(`glTF file error: Could not find ${_}[${Q}]`);return P}getTypedArrayForBufferView(_){_=this.getBufferView(_);const P=this.gltf.buffers[_.buffer];return M(P),new Uint8Array(P.arrayBuffer,(_.byteOffset||0)+P.byteOffset,_.byteLength)}getTypedArrayForAccessor(_){const Q=this.getAccessor(_);return function je(_,Q,P){var ae,nt;const Pt="number"==typeof P?null==(ae=_.accessors)?void 0:ae[P]:P;if(!Pt)throw new Error(`No gltf accessor ${JSON.stringify(P)}`);const sn=null==(nt=_.bufferViews)?void 0:nt[Pt.bufferView||0];if(!sn)throw new Error(`No gltf buffer view for accessor ${sn}`);const{arrayBuffer:cr,byteOffset:Xr}=Q[sn.buffer],oi=(Xr||0)+(Pt.byteOffset||0)+(sn.byteOffset||0),{ArrayType:gi,length:qr,componentByteSize:vi,numberOfComponentsInElement:ki}=ce(Pt,sn),si=vi*ki,fo=sn.byteStride||si;if(typeof sn.byteStride>"u"||sn.byteStride===si)return new gi(cr,oi,qr);const ds=new gi(qr);for(let Us=0;Us<Pt.count;Us++){const As=new gi(cr,oi+Us*fo,ki);ds.set(As,Us*ki)}return ds}(this.gltf.json,this.gltf.buffers,Q)}getTypedArrayForImageData(_){_=this.getAccessor(_);const Q=this.getBufferView(_.bufferView),ae=this.getBuffer(Q.buffer).data;return new Uint8Array(ae,Q.byteOffset||0,Q.byteLength)}addApplicationData(_,Q){return this.json[_]=Q,this}addExtraData(_,Q){return this.json.extras=this.json.extras||{},this.json.extras[_]=Q,this}addObjectExtension(_,Q,P){return _.extensions=_.extensions||{},_.extensions[Q]=P,this.registerUsedExtension(Q),this}setObjectExtension(_,Q,P){(_.extensions||{})[Q]=P}removeObjectExtension(_,Q){const P=_?.extensions||{};if(P[Q]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const ae=this.json.extensionsRemoved;ae.includes(Q)||ae.push(Q)}delete P[Q]}addExtension(_,Q={}){return M(Q),this.json.extensions=this.json.extensions||{},this.json.extensions[_]=Q,this.registerUsedExtension(_),Q}addRequiredExtension(_,Q={}){return M(Q),this.addExtension(_,Q),this.registerRequiredExtension(_),Q}registerUsedExtension(_){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(Q=>Q===_)||this.json.extensionsUsed.push(_)}registerRequiredExtension(_){this.registerUsedExtension(_),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(Q=>Q===_)||this.json.extensionsRequired.push(_)}removeExtension(_){var Q;if(null!=(Q=this.json.extensions)&&Q[_]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const P=this.json.extensionsRemoved;P.includes(_)||P.push(_)}this.json.extensions&&delete this.json.extensions[_],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,_),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,_)}setDefaultScene(_){this.json.scene=_}addScene(_){const{nodeIndices:Q}=_;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:Q}),this.json.scenes.length-1}addNode(_){const{meshIndex:Q,matrix:P}=_;this.json.nodes=this.json.nodes||[];const ae={mesh:Q};return P&&(ae.matrix=P),this.json.nodes.push(ae),this.json.nodes.length-1}addMesh(_){const{attributes:Q,indices:P,material:ae,mode:nt=4}=_,sn={primitives:[{attributes:this._addAttributes(Q),mode:nt}]};if(P){const cr=this._addIndices(P);sn.primitives[0].indices=cr}return Number.isFinite(ae)&&(sn.primitives[0].material=ae),this.json.meshes=this.json.meshes||[],this.json.meshes.push(sn),this.json.meshes.length-1}addPointCloud(_){const P={primitives:[{attributes:this._addAttributes(_),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(P),this.json.meshes.length-1}addImage(_,Q){const P=(0,O.getBinaryImageMetadata)(_),ae=Q||P?.mimeType,Pt={bufferView:this.addBufferView(_),mimeType:ae};return this.json.images=this.json.images||[],this.json.images.push(Pt),this.json.images.length-1}addBufferView(_,Q=0,P=this.byteLength){const ae=_.byteLength;M(Number.isFinite(ae)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(_);const nt={buffer:Q,byteOffset:P,byteLength:ae};return this.byteLength+=(0,b.padToNBytes)(ae,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(nt),this.json.bufferViews.length-1}addAccessor(_,Q){const P={bufferView:_,type:K(Q.size),componentType:Q.componentType,count:Q.count,max:Q.max,min:Q.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(P),this.json.accessors.length-1}addBinaryBuffer(_,Q={size:3}){const P=this.addBufferView(_);let ae={min:Q.min,max:Q.max};(!ae.min||!ae.max)&&(ae=this._getAccessorMinMax(_,Q.size));const nt={size:Q.size,componentType:R(_),count:Math.round(_.length/Q.size),min:ae.min,max:ae.max};return this.addAccessor(P,Object.assign(nt,Q))}addTexture(_){const{imageIndex:Q}=_,P={source:Q};return this.json.textures=this.json.textures||[],this.json.textures.push(P),this.json.textures.length-1}addMaterial(_){return this.json.materials=this.json.materials||[],this.json.materials.push(_),this.json.materials.length-1}createBinaryChunk(){var _,Q;const P=this.byteLength,ae=new ArrayBuffer(P),nt=new Uint8Array(ae);let Pt=0;for(const sn of this.sourceBuffers||[])Pt=(0,b.copyToArray)(sn,nt,Pt);null!=(Q=null==(_=this.json)?void 0:_.buffers)&&Q[0]?this.json.buffers[0].byteLength=P:this.json.buffers=[{byteLength:P}],this.gltf.binary=ae,this.sourceBuffers=[ae],this.gltf.buffers=[{arrayBuffer:ae,byteOffset:0,byteLength:ae.byteLength}]}_removeStringFromArray(_,Q){let P=!0;for(;P;){const ae=_.indexOf(Q);ae>-1?_.splice(ae,1):P=!1}}_addAttributes(_={}){const Q={};for(const P in _){const ae=_[P],nt=this._getGltfAttributeName(P),Pt=this.addBinaryBuffer(ae.value,ae);Q[nt]=Pt}return Q}_addIndices(_){return this.addBinaryBuffer(_,{size:1})}_getGltfAttributeName(_){switch(_.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return _}}_getAccessorMinMax(_,Q){const P={min:null,max:null};if(_.length<Q)return P;P.min=[],P.max=[];const ae=_.subarray(0,Q);for(const nt of ae)P.min.push(nt),P.max.push(nt);for(let nt=Q;nt<_.length;nt+=Q)for(let Pt=0;Pt<Q;Pt++)P.min[0+Pt]=Math.min(P.min[0+Pt],_[nt+Pt]),P.max[0+Pt]=Math.max(P.max[0+Pt],_[nt+Pt]);return P}},pt=w(14315);function St(_){return(_%1+1)%1}var Rn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},G={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},ee={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function De(_,Q){return ee[Q]*Rn[_]}function Ge(_,Q,P,ae){if("UINT8"!==P&&"UINT16"!==P&&"UINT32"!==P&&"UINT64"!==P)return null;const Pt=Ze(_.getTypedArrayForBufferView(Q),"SCALAR",P,ae+1);return Pt instanceof BigInt64Array||Pt instanceof BigUint64Array?null:Pt}function Ze(_,Q,P,ae=1){const Pt=G[P],sn=ee[P],cr=ae*Rn[Q],Xr=cr*sn;let oi=_.buffer,gi=_.byteOffset;return gi%sn!=0&&(oi=new Uint8Array(oi).slice(gi,gi+Xr).buffer,gi=0),new Pt(oi,gi,cr)}function ut(_,Q,P){var ae,nt,Pt,sn,cr;const gi=_.getTypedArrayForAccessor(P.attributes[`TEXCOORD_${Q.texCoord||0}`]),qr=_.gltf.json,ki=null==(nt=null==(ae=qr.textures)?void 0:ae[Q.index])?void 0:nt.source;if(typeof ki<"u"){const si=null==(sn=null==(Pt=qr.images)?void 0:Pt[ki])?void 0:sn.mimeType,fo=null==(cr=_.gltf.images)?void 0:cr[ki];if(fo&&typeof fo.width<"u"){const ds=[];for(let Us=0;Us<gi.length;Us+=2){const As=Dt(fo,si,gi,Us,Q.channels);ds.push(As)}return ds}}return[]}function bt(_,Q,P,ae,nt){if(!P?.length)return;const Pt=[];for(const gi of P){let qr=ae.findIndex(vi=>vi===gi);-1===qr&&(qr=ae.push(gi)-1),Pt.push(qr)}const sn=new Uint32Array(Pt),cr=_.gltf.buffers.push({arrayBuffer:sn.buffer,byteOffset:sn.byteOffset,byteLength:sn.byteLength})-1,Xr=_.addBufferView(sn,cr,0),oi=_.addAccessor(Xr,{size:1,componentType:R(sn),count:sn.length});nt.attributes[Q]=oi}function Dt(_,Q,P,ae,nt=[0]){const Pt={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},sn=P[ae],cr=P[ae+1];let Xr=1;Q&&(-1!==Q.indexOf("image/jpeg")||-1!==Q.indexOf("image/png"))&&(Xr=4);const oi=function Le(_,Q,P,ae=1){const nt=P.width,Pt=St(_)*(nt-1),sn=Math.round(Pt),cr=P.height,Xr=St(Q)*(cr-1);return(Math.round(Xr)*nt+sn)*(P.components?P.components:ae)}(sn,cr,_,Xr);let gi=0;for(const qr of nt){const vi="number"==typeof qr?Object.values(Pt)[qr]:Pt[qr],ki=oi+vi.offset,si=(0,pt.getImageData)(_);if(si.data.length<=ki)throw new Error(`${si.data.length} <= ${ki}`);gi|=si.data[ki]<<vi.shift}return gi}function Ae(_,Q,P,ae,nt){const Pt=[];for(let sn=0;sn<Q;sn++){const cr=P[sn],Xr=P[sn+1]-P[sn];if(Xr+cr>ae)break;const oi=cr/nt;Pt.push(_.slice(oi,oi+Xr/nt))}return Pt}function se(_,Q,P){const ae=[];for(let nt=0;nt<Q;nt++){const Pt=nt*P;ae.push(_.slice(Pt,Pt+P))}return ae}function Me(_,Q,P,ae){if(P)throw new Error("Not implemented - arrayOffsets for strings is specified");if(ae){const nt=[],Pt=new TextDecoder("utf8");let sn=0;for(let cr=0;cr<_;cr++){const Xr=ae[cr+1]-ae[cr];if(Xr+sn<=Q.length){const oi=Q.subarray(sn,Xr+sn),gi=Pt.decode(oi);nt.push(gi),sn+=Xr}}return nt}return[]}var Ee="EXT_mesh_features",C=Ee;function T(_,Q){return J.apply(this,arguments)}function J(){return J=r(function*(_,Q){!function ve(_,Q){const P=_.gltf.json;if(P.meshes)for(const ae of P.meshes)for(const nt of ae.primitives)ne(_,nt,Q)}(new lt(_),Q)}),J.apply(this,arguments)}function W(_,Q){const P=new lt(_);return function p(_){const P=_.gltf.json.meshes;if(P)for(const ae of P)for(const nt of ae.primitives)B(_,nt)}(P),P.createBinaryChunk(),P.gltf}function ne(_,Q,P){var ae,nt,Pt;if(null==(ae=P?.gltf)||!ae.loadBuffers)return;const sn=null==(nt=Q.extensions)?void 0:nt[Ee],cr=sn?.featureIds;if(cr)for(const Xr of cr){let oi;oi=typeof Xr.attribute<"u"?_.getTypedArrayForAccessor(Q.attributes[`_FEATURE_ID_${Xr.attribute}`]):typeof Xr.texture<"u"&&null!=(Pt=P?.gltf)&&Pt.loadImages?ut(_,Xr.texture,Q):[],Xr.data=oi}}function H(_,Q,P,ae){Q.extensions||(Q.extensions={});let nt=Q.extensions[Ee];nt||(nt={featureIds:[]},Q.extensions[Ee]=nt);const{featureIds:Pt}=nt;Pt.push({featureCount:P.length,propertyTable:ae,data:P}),_.addObjectExtension(Q,Ee,nt)}function B(_,Q){var P;const ae=null==(P=Q.extensions)?void 0:P[Ee];if(!ae)return;const nt=ae.featureIds;nt.forEach((Pt,sn)=>{if(Pt.data){const{accessorKey:cr,index:Xr}=function Ie(_){const Q="_FEATURE_ID_",P=Object.keys(_).filter(Pt=>0===Pt.indexOf(Q));let ae=-1;for(const Pt of P){const sn=Number(Pt.substring(12));sn>ae&&(ae=sn)}return ae++,{accessorKey:`${Q}${ae}`,index:ae}}(Q.attributes),oi=new Uint32Array(Pt.data);nt[sn]={featureCount:oi.length,propertyTable:Pt.propertyTable,attribute:Xr},_.gltf.buffers.push({arrayBuffer:oi.buffer,byteOffset:oi.byteOffset,byteLength:oi.byteLength});const gi=_.addBufferView(oi),qr=_.addAccessor(gi,{size:1,componentType:R(oi),count:oi.length});Q.attributes[cr]=qr}})}var $e={};d($e,{createExtStructuralMetadata:()=>Xt,decode:()=>jt,encode:()=>ct,name:()=>kt});var ft="EXT_structural_metadata",kt=ft;function jt(_,Q){return Ye.apply(this,arguments)}function Ye(){return Ye=r(function*(_,Q){!function It(_,Q){var P,ae;if(null==(P=Q.gltf)||!P.loadBuffers)return;const nt=_.getExtension(ft);nt&&(null!=(ae=Q.gltf)&&ae.loadImages&&function Ke(_,Q){const P=Q.propertyTextures,ae=_.gltf.json;if(P&&ae.meshes)for(const nt of ae.meshes)for(const Pt of nt.primitives)Ct(_,P,Pt,Q)}(_,nt),function wt(_,Q){const P=Q.schema;if(!P)return;const ae=P.classes,nt=Q.propertyTables;if(ae&&nt)for(const Pt in ae){const sn=rt(nt,Pt);sn&&Vt(_,P,sn)}}(_,nt))}(new lt(_),Q)}),Ye.apply(this,arguments)}function ct(_,Q){const P=new lt(_);return function nn(_){var P,ae;const nt=_.getExtension(ft);if(nt&&nt.propertyTables)for(const Pt of nt.propertyTables){const cr=null==(ae=null==(P=nt.schema)?void 0:P.classes)?void 0:ae[Pt.class];Pt.properties&&cr&&Ht(Pt,cr,_)}}(P),P.createBinaryChunk(),P.gltf}function rt(_,Q){for(const P of _)if(P.class===Q)return P;return null}function Ct(_,Q,P,ae){var nt;if(!Q)return;const Pt=null==(nt=P.extensions)?void 0:nt[ft],sn=Pt?.propertyTextures;if(sn)for(const cr of sn)mt(_,Q[cr],P,ae)}function mt(_,Q,P,ae){var nt;if(!Q.properties)return;ae.dataAttributeNames||(ae.dataAttributeNames=[]);const Pt=Q.class;for(const sn in Q.properties){const cr=`${Pt}_${sn}`,Xr=null==(nt=Q.properties)?void 0:nt[sn];if(!Xr)continue;Xr.data||(Xr.data=[]);const oi=Xr.data,gi=ut(_,Xr,P);null!==gi&&(bt(_,cr,gi,oi,P),Xr.data=oi,ae.dataAttributeNames.push(cr))}}function Vt(_,Q,P){var ae,nt;const Pt=null==(ae=Q.classes)?void 0:ae[P.class];if(!Pt)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${P.class}`);const sn=P.count;for(const cr in Pt.properties){const oi=null==(nt=P.properties)?void 0:nt[cr];if(oi){const gi=at(_,Q,Pt.properties[cr],sn,oi);oi.data=gi}}}function at(_,Q,P,ae,nt){let Pt=[];const cr=_.getTypedArrayForBufferView(nt.values),Xr=function We(_,Q,P,ae){return Q.array&&typeof Q.count>"u"&&typeof P.arrayOffsets<"u"?Ge(_,P.arrayOffsets,P.arrayOffsetType||"UINT32",ae):null}(_,P,nt,ae),oi=function ke(_,Q,P){return typeof Q.stringOffsets<"u"?Ge(_,Q.stringOffsets,Q.stringOffsetType||"UINT32",P):null}(_,nt,ae);switch(P.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":Pt=function et(_,Q,P,ae){const nt=_.array,Pt=_.count,sn=De(_.type,_.componentType);let Xr;return Xr=_.componentType?Ze(P,_.type,_.componentType,P.byteLength/sn):P,nt?ae?Ae(Xr,Q,ae,P.length,sn):Pt?se(Xr,Q,Pt):[]:Xr}(P,ae,cr,Xr);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${P.type}`);case"STRING":Pt=Me(ae,cr,Xr,oi);break;case"ENUM":Pt=function xt(_,Q,P,ae,nt){var Pt;const sn=Q.enumType;if(!sn)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const cr=null==(Pt=_.enums)?void 0:Pt[sn];if(!cr)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${sn}`);const Xr=cr.valueType||"UINT16",oi=De(Q.type,Xr);let qr=Ze(ae,Q.type,Xr,ae.byteLength/oi);if(qr||(qr=ae),Q.array){if(nt)return function Zt(_){const{valuesData:Q,numberOfElements:P,arrayOffsets:ae,valuesDataBytesLength:nt,elementSize:Pt,enumEntry:sn}=_,cr=[];for(let Xr=0;Xr<P;Xr++){const oi=ae[Xr],gi=ae[Xr+1]-ae[Xr];if(gi+oi>nt)break;const ki=kn(Q,oi/Pt,gi/Pt,sn);cr.push(ki)}return cr}({valuesData:qr,numberOfElements:P,arrayOffsets:nt,valuesDataBytesLength:ae.length,elementSize:oi,enumEntry:cr});const vi=Q.count;return vi?function vn(_,Q,P,ae){const nt=[];for(let Pt=0;Pt<Q;Pt++){const cr=kn(_,P*Pt,P,ae);nt.push(cr)}return nt}(qr,P,vi,cr):[]}return kn(qr,0,P,cr)}(Q,P,ae,cr,Xr);break;default:throw new Error(`Unknown classProperty type ${P.type}`)}return Pt}function kn(_,Q,P,ae){const nt=[];for(let Pt=0;Pt<P;Pt++)if(_ instanceof BigInt64Array||_ instanceof BigUint64Array)nt.push("");else{const cr=tr(ae,_[Q+Pt]);nt.push(cr?cr.name:"")}return nt}function tr(_,Q){for(const P of _.values)if(P.value===Q)return P;return null}var dn="schemaClassId";function Ht(_,Q,P){for(const ae in _.properties){const nt=_.properties[ae].data;if(nt){const Pt=Q.properties[ae];if(Pt){const sn=Mn(nt,Pt,P);_.properties[ae]=sn}}}}function Xt(_,Q,P=dn){let ae=_.getExtension(ft);ae||(ae=_.addExtension(ft)),ae.schema=function Nn(_,Q,P){const ae=P??{id:"schema_id"},nt={properties:{}};for(const Pt of _)nt.properties[Pt.name]={type:Pt.elementType,componentType:Pt.componentType};return ae.classes={},ae.classes[Q]=nt,ae}(Q,P,ae.schema);const nt=function Ot(_,Q,P){var ae;const nt={class:Q,count:0};let Pt=0;const sn=null==(ae=P.classes)?void 0:ae[Q];for(const cr of _){if(0===Pt&&(Pt=cr.values.length),Pt!==cr.values.length&&cr.values.length)throw new Error("Illegal values in attributes");sn?.properties[cr.name]&&(nt.properties||(nt.properties={}),nt.properties[cr.name]={values:0,data:cr.values})}return nt.count=Pt,nt}(Q,P,ae.schema);return ae.propertyTables||(ae.propertyTables=[]),ae.propertyTables.push(nt)-1}function Mn(_,Q,P){const ae={values:0};if("STRING"===Q.type){const{stringData:nt,stringOffsets:Pt}=function Dn(_){const Q=new TextEncoder,P=[];let ae=0;for(const Xr of _){const oi=Q.encode(Xr);ae+=oi.length,P.push(oi)}const nt=new Uint8Array(ae),Pt=[];let sn=0;for(const Xr of P)nt.set(Xr,sn),Pt.push(sn),sn+=Xr.length;Pt.push(sn);return{stringData:nt,stringOffsets:new Uint32Array(Pt)}}(_);ae.stringOffsets=tn(Pt,P),ae.values=tn(nt,P)}else if("SCALAR"===Q.type&&Q.componentType){const nt=function Pn(_,Q){const P=[];for(const nt of _)P.push(Number(nt));const ae=Bn[Q];if(!ae)throw new Error("Illegal component type");return new ae(P)}(_,Q.componentType);ae.values=tn(nt,P)}return ae}var Bn={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function tn(_,Q){return Q.gltf.buffers.push({arrayBuffer:_.buffer,byteOffset:_.byteOffset,byteLength:_.byteLength}),Q.addBufferView(_)}var bn={};d(bn,{decode:()=>he,name:()=>_e});var yt="EXT_feature_metadata",_e=yt;function he(_,Q){return Be.apply(this,arguments)}function Be(){return Be=r(function*(_,Q){!function ht(_,Q){var P,ae;if(null==(P=Q.gltf)||!P.loadBuffers)return;const nt=_.getExtension(yt);nt&&(null!=(ae=Q.gltf)&&ae.loadImages&&function zt(_,Q){const P=Q.schema;if(!P)return;const ae=P.classes,{featureTextures:nt}=Q;if(ae&&nt)for(const Pt in ae){const sn=ae[Pt],cr=Ar(nt,Pt);cr&&ti(_,cr,sn)}}(_,nt),function on(_,Q){const P=Q.schema;if(!P)return;const ae=P.classes,nt=Q.featureTables;if(ae&&nt)for(const Pt in ae){const sn=Hn(nt,Pt);sn&&Ir(_,P,sn)}}(_,nt))}(new lt(_),Q)}),Be.apply(this,arguments)}function Hn(_,Q){for(const P in _){const ae=_[P];if(ae.class===Q)return ae}return null}function Ar(_,Q){for(const P in _){const ae=_[P];if(ae.class===Q)return ae}return null}function Ir(_,Q,P){var ae,nt;if(!P.class)return;const Pt=null==(ae=Q.classes)?void 0:ae[P.class];if(!Pt)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${P.class}`);const sn=P.count;for(const cr in Pt.properties){const oi=null==(nt=P.properties)?void 0:nt[cr];if(oi){const gi=Yr(_,0,Pt.properties[cr],sn,oi);oi.data=gi}}}function ti(_,Q,P){var ae;const nt=Q.class;for(const Pt in P.properties){const sn=null==(ae=Q?.properties)?void 0:ae[Pt];if(sn){const cr=Ei(_,sn,nt);sn.data=cr}}}function Yr(_,Q,P,ae,nt){let Pt=[];const cr=_.getTypedArrayForBufferView(nt.bufferView),Xr=function Ki(_,Q,P,ae){return"ARRAY"===Q.type&&typeof Q.componentCount>"u"&&typeof P.arrayOffsetBufferView<"u"?Ge(_,P.arrayOffsetBufferView,P.offsetType||"UINT32",ae):null}(_,P,nt,ae),oi=function mi(_,Q,P,ae){return typeof P.stringOffsetBufferView<"u"?Ge(_,P.stringOffsetBufferView,P.offsetType||"UINT32",ae):null}(_,0,nt,ae);return"STRING"===P.type||"STRING"===P.componentType?Pt=Me(ae,cr,Xr,oi):function er(_){const Q=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return Q.includes(_.type)||typeof _.componentType<"u"&&Q.includes(_.componentType)}(P)&&(Pt=function ur(_,Q,P,ae){const nt="ARRAY"===_.type,Pt=_.componentCount,cr=_.componentType||_.type,Xr=De("SCALAR",cr),gi=Ze(P,"SCALAR",cr,P.byteLength/Xr);return nt?ae?Ae(gi,Q,ae,P.length,Xr):Pt?se(gi,Q,Pt):[]:gi}(P,ae,cr,Xr)),Pt}function Ei(_,Q,P){const ae=_.gltf.json;if(!ae.meshes)return[];const nt=[];for(const Pt of ae.meshes)for(const sn of Pt.primitives)Ni(_,P,Q,nt,sn);return nt}function Ni(_,Q,P,ae,nt){const sn=ut(_,{channels:P.channels,...P.texture},nt);sn&&bt(_,Q,sn,ae,nt)}var rn="4.3.1",En=w(28690),ar=w(14315),Er=w(74389),Hr=w(28690),vr=!0,Mt=1735152710,te=12,ze=8,Yt=1313821514,An=5130562,Kn=0,sr=0,Pr=1;function ri(_,Q,P=0,ae={}){const nt=new DataView(Q),Pt=function Sr(_,Q=0){return`${String.fromCharCode(_.getUint8(Q+0))}${String.fromCharCode(_.getUint8(Q+1))}${String.fromCharCode(_.getUint8(Q+2))}${String.fromCharCode(_.getUint8(Q+3))}`}(nt,P+0),sn=nt.getUint32(P+4,vr),cr=nt.getUint32(P+8,vr);switch(Object.assign(_,{header:{byteOffset:P,byteLength:cr,hasBinChunk:!1},type:Pt,version:sn,json:{},binChunks:[]}),P+=te,_.version){case 1:return function Ri(_,Q,P){(0,Hr.assert)(_.header.byteLength>te+ze);const ae=Q.getUint32(P+0,vr),nt=Q.getUint32(P+4,vr);return P+=ze,(0,Hr.assert)(nt===Kn),Yi(_,Q,P,ae),P+=ae,P+=no(_,Q,P,_.header.byteLength)}(_,nt,P);case 2:return function ji(_,Q,P,ae){return(0,Hr.assert)(_.header.byteLength>te+ze),function $i(_,Q,P,ae){for(;P+8<=_.header.byteLength;){const nt=Q.getUint32(P+0,vr),Pt=Q.getUint32(P+4,vr);switch(P+=ze,Pt){case Yt:Yi(_,Q,P,nt);break;case An:no(_,Q,P,nt);break;case sr:ae.strict||Yi(_,Q,P,nt);break;case Pr:ae.strict||no(_,Q,P,nt)}P+=(0,Hr.padToNBytes)(nt,4)}}(_,Q,P,ae),P+_.header.byteLength}(_,nt,P,{});default:throw new Error(`Invalid GLB version ${_.version}. Only supports version 1 and 2.`)}}function Yi(_,Q,P,ae){const nt=new Uint8Array(Q.buffer,P,ae),sn=new TextDecoder("utf8").decode(nt);return _.json=JSON.parse(sn),(0,Hr.padToNBytes)(ae,4)}function no(_,Q,P,ae){return _.header.hasBinChunk=!0,_.binChunks.push({byteOffset:P,byteLength:ae,arrayBuffer:Q.buffer}),(0,Hr.padToNBytes)(ae,4)}function yo(_,Q){if(_.startsWith("data:")||_.startsWith("http:")||_.startsWith("https:"))return _;const ae=Q.baseUri||Q.uri;if(!ae)throw new Error(`'baseUri' must be provided to resolve relative url ${_}`);return ae.substr(0,ae.lastIndexOf("/")+1)+_}var Fo={};d(Fo,{decode:()=>Xo,name:()=>ps});var Wr,$t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Se="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",At=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),en=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Sn={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ir={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function Oi(){return Oi=r(function*(_,Q,P,ae,nt,Pt="NONE"){const sn=yield function Gi(){return Ro.apply(this,arguments)}();!function Os(_,Q,P,ae,nt,Pt,sn){const cr=_.exports.sbrk,Xr=ae+3&-4,oi=cr(Xr*nt),gi=cr(Pt.length),qr=new Uint8Array(_.exports.memory.buffer);qr.set(Pt,gi);const vi=Q(oi,ae,nt,gi,Pt.length);if(0===vi&&sn&&sn(oi,Xr,nt),P.set(qr.subarray(oi,oi+ae*nt)),cr(oi-cr(0)),0!==vi)throw new Error(`Malformed buffer data: ${vi}`)}(sn,sn.exports[ir[nt]],_,Q,P,ae,sn.exports[Sn[Pt||"NONE"]])}),Oi.apply(this,arguments)}function Ro(){return Ro=r(function*(){return Wr||(Wr=function Wo(){return xs.apply(this,arguments)}()),Wr}),Ro.apply(this,arguments)}function xs(){return xs=r(function*(){let _=$t;WebAssembly.validate(At)&&(_=Se,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const Q=yield WebAssembly.instantiate(function da(_){const Q=new Uint8Array(_.length);for(let ae=0;ae<_.length;++ae){const nt=_.charCodeAt(ae);Q[ae]=nt>96?nt-71:nt>64?nt-65:nt>47?nt+4:nt>46?63:62}let P=0;for(let ae=0;ae<_.length;++ae)Q[P++]=Q[ae]<60?en[Q[ae]]:64*(Q[ae]-60)+Q[++ae];return Q.buffer.slice(0,P)}(_),{});return yield Q.instance.exports.__wasm_call_ctors(),Q.instance}),xs.apply(this,arguments)}var Lo="EXT_meshopt_compression",ps=Lo;function Xo(_,Q){return Ns.apply(this,arguments)}function Ns(){return Ns=r(function*(_,Q){var P,ae;const nt=new lt(_);if(null==(P=Q?.gltf)||!P.decompressMeshes||null==(ae=Q.gltf)||!ae.loadBuffers)return;const Pt=[];for(const sn of _.json.bufferViews||[])Pt.push(zn(nt,sn));yield Promise.all(Pt),nt.removeExtension(Lo)}),Ns.apply(this,arguments)}function zn(_,Q){return Wn.apply(this,arguments)}function Wn(){return Wn=r(function*(_,Q){const P=_.getObjectExtension(Q,Lo);if(P){const{byteOffset:ae=0,byteLength:nt=0,byteStride:Pt,count:sn,mode:cr,filter:Xr="NONE",buffer:oi}=P,gi=_.gltf.buffers[oi],qr=new Uint8Array(gi.arrayBuffer,gi.byteOffset+ae,nt),vi=new Uint8Array(_.gltf.buffers[Q.buffer].arrayBuffer,Q.byteOffset,Q.byteLength);yield function Vr(_,Q,P,ae,nt){return Oi.apply(this,arguments)}(vi,sn,Pt,qr,cr,Xr),_.removeObjectExtension(Q,Lo)}}),Wn.apply(this,arguments)}var Nr={};d(Nr,{name:()=>ni,preprocess:()=>Hi});var li=w(14315),hi="EXT_texture_webp",ni=hi;function Hi(_,Q){const P=new lt(_);if(!(0,li.isImageFormatSupported)("image/webp")){if(P.getRequiredExtensions().includes(hi))throw new Error(`gltf: Required extension ${hi} not supported by browser`);return}const{json:ae}=P;for(const nt of ae.textures||[]){const Pt=P.getObjectExtension(nt,hi);Pt&&(nt.source=Pt.source),P.removeObjectExtension(nt,hi)}P.removeExtension(hi)}var oo={};d(oo,{name:()=>Ui,preprocess:()=>os});var Eo="KHR_texture_basisu",Ui=Eo;function os(_,Q){const P=new lt(_),{json:ae}=P;for(const nt of ae.textures||[]){const Pt=P.getObjectExtension(nt,Eo);Pt&&(nt.source=Pt.source,P.removeObjectExtension(nt,Eo))}P.removeExtension(Eo)}var es={};d(es,{decode:()=>_s,encode:()=>us,name:()=>Vo,preprocess:()=>Ls});var rs=w(28690),Ps=w(36848);function Ts(_){const{buffer:Q,size:P,count:ae}=function gs(_){let Q=_,P=1,ae=0;return _&&_.value&&(Q=_.value,P=_.size||1),Q&&(ArrayBuffer.isView(Q)||(Q=function ha(_,Q,P=!1){return _?Array.isArray(_)?new Q(_):!P||_ instanceof Q?_:new Q(_):null}(Q,Float32Array)),ae=Q.length/P),{buffer:Q,size:P,count:ae}}(_);return{value:Q,size:P,byteOffset:0,count:ae,type:K(P),componentType:R(Q)}}var Es="KHR_draco_mesh_compression",Vo=Es;function Ls(_,Q,P){const ae=new lt(_);for(const nt of fi(ae))ae.getObjectExtension(nt,Es)}function _s(_,Q,P){return ea.apply(this,arguments)}function ea(){return ea=r(function*(_,Q,P){var ae;if(null==(ae=Q?.gltf)||!ae.decompressMeshes)return;const nt=new lt(_),Pt=[];for(const sn of fi(nt))nt.getObjectExtension(sn,Es)&&Pt.push(Gn(nt,sn,Q,P));yield Promise.all(Pt),nt.removeExtension(Es)}),ea.apply(this,arguments)}function us(_,Q={}){const P=new lt(_);for(const ae of P.json.meshes||[])or(ae),P.addRequiredExtension(Es)}function Gn(_,Q,P,ae){return Yn.apply(this,arguments)}function Yn(){return Yn=r(function*(_,Q,P,ae){const nt=_.getObjectExtension(Q,Es);if(!nt)return;const Pt=_.getTypedArrayForBufferView(nt.bufferView),sn=(0,rs.sliceArrayBuffer)(Pt.buffer,Pt.byteOffset),cr={...P};delete cr["3d-tiles"];const Xr=yield(0,rs.parseFromContext)(sn,Ps.DracoLoader,cr,ae),oi=function Oo(_){const Q={};for(const P in _)if("indices"!==P){const nt=Ts(_[P]);Q[P]=nt}return Q}(Xr.attributes);for(const[gi,qr]of Object.entries(oi))if(gi in Q.attributes){const ki=_.getAccessor(Q.attributes[gi]);ki?.min&&ki?.max&&(qr.min=ki.min,qr.max=ki.max)}Q.attributes=oi,Xr.indices&&(Q.indices=Ts(Xr.indices)),_.removeObjectExtension(Q,Es),function Cr(_){if(!_.attributes&&Object.keys(_.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(Q)}),Yn.apply(this,arguments)}function or(_,Q,P=4,ae,nt){var Pt;if(!ae.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const sn=ae.DracoWriter.encodeSync({attributes:_}),cr=null==(Pt=nt?.parseSync)?void 0:Pt.call(nt,{attributes:_}),Xr=ae._addFauxAttributes(cr.attributes),oi=ae.addBufferView(sn);return{primitives:[{attributes:Xr,mode:P,extensions:{[Es]:{bufferView:oi,attributes:Xr}}}]}}function*fi(_){for(const Q of _.json.meshes||[])for(const P of Q.primitives)yield P}var Fi={};d(Fi,{decode:()=>fr,name:()=>eo});var so=w(87974),Co="KHR_texture_transform",eo=Co,Wt=new so.Vector3,mn=new so.Matrix3,_n=new so.Matrix3;function fr(_,Q){return Tr.apply(this,arguments)}function Tr(){return Tr=r(function*(_,Q){var P;if(!new lt(_).hasExtension(Co)||null==(P=Q.gltf)||!P.loadBuffers)return;const Pt=_.json.materials||[];for(let sn=0;sn<Pt.length;sn++)lr(sn,_)}),Tr.apply(this,arguments)}function lr(_,Q){var P,ae,nt,Pt;const sn=null==(P=Q.json.materials)?void 0:P[_],cr=[null==(ae=sn?.pbrMetallicRoughness)?void 0:ae.baseColorTexture,sn?.emissiveTexture,sn?.normalTexture,sn?.occlusionTexture,null==(nt=sn?.pbrMetallicRoughness)?void 0:nt.metallicRoughnessTexture],Xr=[];for(const oi of cr)oi&&null!=(Pt=oi?.extensions)&&Pt[Co]&&Br(Q,_,oi,Xr)}function Br(_,Q,P,ae){const nt=function jr(_,Q){var P;const ae=null==(P=_.extensions)?void 0:P[Co],{texCoord:nt=0}=_,{texCoord:Pt=nt}=ae;if(-1===Q.findIndex(([cr,Xr])=>cr===nt&&Xr===Pt)){const cr=function ao(_){const{offset:Q=[0,0],rotation:P=0,scale:ae=[1,1]}=_,nt=(new so.Matrix3).set(1,0,0,0,1,0,Q[0],Q[1],1),Pt=mn.set(Math.cos(P),Math.sin(P),0,-Math.sin(P),Math.cos(P),0,0,0,1),sn=_n.set(ae[0],0,0,0,ae[1],0,0,0,1);return nt.multiplyRight(Pt).multiplyRight(sn)}(ae);return nt!==Pt&&(_.texCoord=Pt),Q.push([nt,Pt]),{originalTexCoord:nt,texCoord:Pt,matrix:cr}}return null}(P,ae);if(!nt)return;const Pt=_.json.meshes||[];for(const sn of Pt)for(const cr of sn.primitives){const Xr=cr.material;Number.isFinite(Xr)&&Q===Xr&&ui(_,cr,nt)}}function ui(_,Q,P){var ae,nt;const{originalTexCoord:Pt,texCoord:sn,matrix:cr}=P,Xr=Q.attributes[`TEXCOORD_${Pt}`];if(Number.isFinite(Xr)){const oi=null==(ae=_.json.accessors)?void 0:ae[Xr];if(oi&&oi.bufferView){const gi=null==(nt=_.json.bufferViews)?void 0:nt[oi.bufferView];if(gi){const{arrayBuffer:qr,byteOffset:vi}=_.buffers[gi.buffer],ki=(vi||0)+(oi.byteOffset||0)+(gi.byteOffset||0),{ArrayType:si,length:fo}=ce(oi,gi),Us=A[oi.type],As=gi.byteStride||ue[oi.componentType]*Us,ta=new Float32Array(fo);for(let aa=0;aa<oi.count;aa++){const hs=new si(qr,ki+aa*As,2);Wt.set(hs[0],hs[1],1),Wt.transformByMatrix3(cr),ta.set([Wt[0],Wt[1]],aa*Us)}Pt===sn?function Jr(_,Q,P,ae){_.componentType=5126,P.push({arrayBuffer:ae.buffer,byteOffset:0,byteLength:ae.buffer.byteLength}),Q.buffer=P.length-1,Q.byteLength=ae.buffer.byteLength,Q.byteOffset=0,delete Q.byteStride}(oi,gi,_.buffers,ta):function Wi(_,Q,P,ae,nt){ae.buffers.push({arrayBuffer:nt.buffer,byteOffset:0,byteLength:nt.buffer.byteLength});const Pt=ae.json.bufferViews;if(!Pt)return;Pt.push({buffer:ae.buffers.length-1,byteLength:nt.buffer.byteLength,byteOffset:0});const sn=ae.json.accessors;sn&&(sn.push({bufferView:Pt?.length-1,byteOffset:0,componentType:5126,count:Q.count,type:"VEC2"}),P.attributes[`TEXCOORD_${_}`]=sn.length-1)}(sn,oi,Q,_,ta)}}}}var vo={};d(vo,{decode:()=>Po,encode:()=>Qo,name:()=>wo});var _o="KHR_lights_punctual",wo=_o;function Po(_){return xo.apply(this,arguments)}function xo(){return xo=r(function*(_){const Q=new lt(_),{json:P}=Q,ae=Q.getExtension(_o);ae&&(Q.json.lights=ae.lights,Q.removeExtension(_o));for(const nt of P.nodes||[]){const Pt=Q.getObjectExtension(nt,_o);Pt&&(nt.light=Pt.light),Q.removeObjectExtension(nt,_o)}}),xo.apply(this,arguments)}function Qo(_){return tt.apply(this,arguments)}function tt(){return tt=r(function*(_){const Q=new lt(_),{json:P}=Q;if(P.lights){const ae=Q.addExtension(_o);M(!ae.lights),ae.lights=P.lights,delete P.lights}if(Q.json.lights){for(const ae of Q.json.lights)Q.addObjectExtension(ae.node,_o,ae);delete Q.json.lights}}),tt.apply(this,arguments)}var Qt={};d(Qt,{decode:()=>pe,encode:()=>le,name:()=>j});var He="KHR_materials_unlit",j=He;function pe(_){return k.apply(this,arguments)}function k(){return k=r(function*(_){const Q=new lt(_),{json:P}=Q;for(const ae of P.materials||[])ae.extensions&&ae.extensions.KHR_materials_unlit&&(ae.unlit=!0),Q.removeObjectExtension(ae,He);Q.removeExtension(He)}),k.apply(this,arguments)}function le(_){const Q=new lt(_),{json:P}=Q;if(Q.materials)for(const ae of P.materials||[])ae.unlit&&(delete ae.unlit,Q.addObjectExtension(ae,He,{}),Q.addExtension(He))}var q={};d(q,{decode:()=>Xn,encode:()=>Xi,name:()=>Ut});var Je="KHR_techniques_webgl",Ut=Je;function Xn(_){return gr.apply(this,arguments)}function gr(){return gr=r(function*(_){const Q=new lt(_),{json:P}=Q,ae=Q.getExtension(Je);if(ae){const nt=function _i(_,Q){const{programs:P=[],shaders:ae=[],techniques:nt=[]}=_,Pt=new TextDecoder;return ae.forEach(sn=>{if(!Number.isFinite(sn.bufferView))throw new Error("KHR_techniques_webgl: no shader code");sn.code=Pt.decode(Q.getTypedArrayForBufferView(sn.bufferView))}),P.forEach(sn=>{sn.fragmentShader=ae[sn.fragmentShader],sn.vertexShader=ae[sn.vertexShader]}),nt.forEach(sn=>{sn.program=P[sn.program]}),nt}(ae,Q);for(const Pt of P.materials||[]){const sn=Q.getObjectExtension(Pt,Je);sn&&(Pt.technique=Object.assign({},sn,nt[sn.technique]),Pt.technique.values=Qr(Pt.technique,Q)),Q.removeObjectExtension(Pt,Je)}Q.removeExtension(Je)}}),gr.apply(this,arguments)}function Xi(_,Q){return to.apply(this,arguments)}function to(){return(to=r(function*(_,Q){})).apply(this,arguments)}function Qr(_,Q){const P=Object.assign({},_.values);return Object.keys(_.uniforms||{}).forEach(ae=>{_.uniforms[ae].value&&!(ae in P)&&(P[ae]=_.uniforms[ae].value)}),Object.keys(P).forEach(ae=>{"object"==typeof P[ae]&&void 0!==P[ae].index&&(P[ae].texture=Q.getTexture(P[ae].index))}),P}var ot=[$e,U,Fo,Nr,oo,es,vo,Qt,q,Fi,bn],hn=[$e,U];function V(){return V=r(function*(_,Q={},P){var ae;const nt=ot.filter(Pt=>st(Pt.name,Q));for(const Pt of nt)yield null==(ae=Pt.decode)?void 0:ae.call(Pt,_,Q,P)}),V.apply(this,arguments)}function st(_,Q){var P;const ae=(null==(P=Q?.gltf)?void 0:P.excludeExtensions)||{};return!(_ in ae&&!ae[_])}var Rt="KHR_binary_glTF",gn={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},jn={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Qn=class{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(_,Q){this.json=_.json;const P=_.json;switch(P.asset&&P.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${P.asset.version}`)}if(!Q.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(P),this._convertTopLevelObjectsToArrays(P),function Jt(_){const Q=new lt(_),{json:P}=Q;for(const ae of P.images||[]){const nt=Q.getObjectExtension(ae,Rt);nt&&Object.assign(ae,nt),Q.removeObjectExtension(ae,Rt)}P.buffers&&P.buffers[0]&&delete P.buffers[0].uri,Q.removeExtension(Rt)}(_),this._convertObjectIdsToArrayIndices(P),this._updateObjects(P),this._updateMaterial(P)}_addAsset(_){_.asset=_.asset||{},_.asset.version="2.0",_.asset.generator=_.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(_){for(const Q in gn)this._convertTopLevelObjectToArray(_,Q)}_convertTopLevelObjectToArray(_,Q){const P=_[Q];if(P&&!Array.isArray(P)){_[Q]=[];for(const ae in P){const nt=P[ae];nt.id=nt.id||ae;const Pt=_[Q].length;_[Q].push(nt),this.idToIndexMap[Q][ae]=Pt}}}_convertObjectIdsToArrayIndices(_){for(const Q in gn)this._convertIdsToIndices(_,Q);"scene"in _&&(_.scene=this._convertIdToIndex(_.scene,"scene"));for(const Q of _.textures)this._convertTextureIds(Q);for(const Q of _.meshes)this._convertMeshIds(Q);for(const Q of _.nodes)this._convertNodeIds(Q);for(const Q of _.scenes)this._convertSceneIds(Q)}_convertTextureIds(_){_.source&&(_.source=this._convertIdToIndex(_.source,"image"))}_convertMeshIds(_){for(const Q of _.primitives){const{attributes:P,indices:ae,material:nt}=Q;for(const Pt in P)P[Pt]=this._convertIdToIndex(P[Pt],"accessor");ae&&(Q.indices=this._convertIdToIndex(ae,"accessor")),nt&&(Q.material=this._convertIdToIndex(nt,"material"))}}_convertNodeIds(_){_.children&&(_.children=_.children.map(Q=>this._convertIdToIndex(Q,"node"))),_.meshes&&(_.meshes=_.meshes.map(Q=>this._convertIdToIndex(Q,"mesh")))}_convertSceneIds(_){_.nodes&&(_.nodes=_.nodes.map(Q=>this._convertIdToIndex(Q,"node")))}_convertIdsToIndices(_,Q){_[Q]||(console.warn(`gltf v1: json doesn't contain attribute ${Q}`),_[Q]=[]);for(const P of _[Q])for(const ae in P){const Pt=this._convertIdToIndex(P[ae],ae);P[ae]=Pt}}_convertIdToIndex(_,Q){const P=jn[Q];if(P in this.idToIndexMap){const ae=this.idToIndexMap[P][_];if(!Number.isFinite(ae))throw new Error(`gltf v1: failed to resolve ${Q} with id ${_}`);return ae}return _}_updateObjects(_){for(const Q of this.json.buffers)delete Q.type}_updateMaterial(_){var Q,P,ae;for(const nt of _.materials){nt.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const Pt=(null==(Q=nt.values)?void 0:Q.tex)||(null==(P=nt.values)?void 0:P.texture2d_0)||(null==(ae=nt.values)?void 0:ae.diffuseTex),sn=_.textures.findIndex(cr=>cr.id===Pt);-1!==sn&&(nt.pbrMetallicRoughness.baseColorTexture={index:sn})}}};function Or(){return Or=r(function*(_,Q,P=0,ae,nt){var Pt,sn,cr;return function xr(_,Q,P,ae){if(ae.uri&&(_.baseUri=ae.uri),Q instanceof ArrayBuffer&&!function Ur(_,Q=0,P={}){const ae=new DataView(_),{magic:nt=Mt}=P,Pt=ae.getUint32(Q,!1);return Pt===nt||Pt===Mt}(Q,P,ae)&&(Q=(new TextDecoder).decode(Q)),"string"==typeof Q)_.json=(0,En.parseJSON)(Q);else if(Q instanceof ArrayBuffer){const sn={};P=ri(sn,Q,P,ae.glb),M("glTF"===sn.type,`Invalid GLB magic string ${sn.type}`),_._glb=sn,_.json=sn.json}else M(!1,"GLTF: must be ArrayBuffer or string");if(_.buffers=new Array((_.json.buffers||[]).length).fill(null),_._glb&&_._glb.header.hasBinChunk){const{binChunks:sn}=_._glb;_.buffers[0]={arrayBuffer:sn[0].arrayBuffer,byteOffset:sn[0].byteOffset,byteLength:sn[0].byteLength}}_.images=new Array((_.json.images||[]).length).fill({})}(_,Q,P,ae),function yr(_,Q={}){(new Qn).normalize(_,Q)}(_,{normalize:null==(Pt=ae?.gltf)?void 0:Pt.normalize}),function Nt(_,Q={},P){var ae;const nt=ot.filter(Pt=>st(Pt.name,Q));for(const Pt of nt)null==(ae=Pt.preprocess)||ae.call(Pt,_,Q,P)}(_,ae,nt),null!=(sn=ae?.gltf)&&sn.loadBuffers&&_.json.buffers&&(yield function ii(_,Q,P){return Vi.apply(this,arguments)}(_,ae,nt)),null!=(cr=ae?.gltf)&&cr.loadImages&&(yield function an(_,Q,P){return Ln.apply(this,arguments)}(_,ae,nt)),yield function N(_){return V.apply(this,arguments)}(_,ae,nt),_}),Or.apply(this,arguments)}function Vi(){return Vi=r(function*(_,Q,P){var ae,nt;const Pt=_.json.buffers||[];for(let sn=0;sn<Pt.length;++sn){const cr=Pt[sn];if(cr.uri){const{fetch:Xr}=P;M(Xr);const oi=yo(cr.uri,Q),gi=yield null==(ae=P?.fetch)?void 0:ae.call(P,oi),qr=yield null==(nt=gi?.arrayBuffer)?void 0:nt.call(gi);_.buffers[sn]={arrayBuffer:qr,byteOffset:0,byteLength:qr.byteLength},delete cr.uri}else null===_.buffers[sn]&&(_.buffers[sn]={arrayBuffer:new ArrayBuffer(cr.byteLength),byteOffset:0,byteLength:cr.byteLength})}}),Vi.apply(this,arguments)}function Ln(){return Ln=r(function*(_,Q,P){const ae=function In(_){const Q=new Set,P=_.json.textures||[];for(const ae of P)void 0!==ae.source&&Q.add(ae.source);return Array.from(Q).sort()}(_),nt=_.json.images||[],Pt=[];for(const sn of ae)Pt.push(rr(_,nt[sn],sn,Q,P));return yield Promise.all(Pt)}),Ln.apply(this,arguments)}function rr(_,Q,P,ae,nt){return Zr.apply(this,arguments)}function Zr(){return Zr=r(function*(_,Q,P,ae,nt){let Pt;if(Q.uri&&!Q.hasOwnProperty("bufferView")){const cr=yo(Q.uri,ae),{fetch:Xr}=nt;Pt=yield(yield Xr(cr)).arrayBuffer(),Q.bufferView={data:Pt}}if(Number.isFinite(Q.bufferView)){const cr=function Fe(_,Q,P){const ae=_.bufferViews[P];M(ae);const Pt=Q[ae.buffer];return M(Pt),new Uint8Array(Pt.arrayBuffer,(ae.byteOffset||0)+Pt.byteOffset,ae.byteLength)}(_.json,_.buffers,Q.bufferView);Pt=(0,En.sliceArrayBuffer)(cr.buffer,cr.byteOffset,cr.byteLength)}M(Pt,"glTF image has no data");let sn=yield(0,En.parseFromContext)(Pt,[ar.ImageLoader,Er.BasisLoader],{...ae,mimeType:Q.mimeType,basis:ae.basis||{format:(0,Er.selectSupportedBasisFormat)()}},nt);sn&&sn[0]&&(sn={compressed:!0,mipmaps:!1,width:sn[0].width,height:sn[0].height,data:sn[0]}),_.images=_.images||[],_.images[P]=sn}),Zr.apply(this,arguments)}var xi={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:rn,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function Li(_){return Ii.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};function Ii(){return Ii=r(function*(_,Q={},P){(Q={...xi.options,...Q}).gltf={...xi.options.gltf,...Q.gltf};const{byteOffset:ae=0}=Q;return yield function mr(_,Q){return Or.apply(this,arguments)}({},_,ae,Q,P)}),Ii.apply(this,arguments)}var Ti=w(28690),Ko=1179937895,Ji=1313821514,No=5130562,Ao=!0;function ts(_,Q,P=0,ae={}){const{magic:nt=Ko,version:Pt=2,json:sn={},binary:cr}=_,Xr=P;Q&&(Q.setUint32(P+0,nt,Ao),Q.setUint32(P+4,Pt,Ao),Q.setUint32(P+8,0,Ao));const oi=P+8,gi=P+=12;Q&&(Q.setUint32(P+0,0,Ao),Q.setUint32(P+4,Ji,Ao)),P+=8;const qr=JSON.stringify(sn);if(P=(0,Ti.copyPaddedStringToDataView)(Q,P,qr,4),Q&&Q.setUint32(gi+0,P-gi-8,Ao),cr){const vi=P;Q&&(Q.setUint32(P+0,0,Ao),Q.setUint32(P+4,No,Ao)),P=(0,Ti.copyPaddedArrayBufferToDataView)(Q,P+=8,cr,4),Q&&Q.setUint32(vi+0,P-vi-8,Ao)}return Q&&Q.setUint32(oi,P-Xr,Ao),P}function Ms(_,Q,P,ae){return function Yo(_){if(_.buffers&&_.buffers.length>1)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(_),ts(_,Q,P,ae)}var jo={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:rn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{gltf:{}},encode:function(){var _=r(function*(Q,P={}){return Ea(Q,P)});return function(P){return _.apply(this,arguments)}}(),encodeSync:Ea};function Ea(_,Q={}){const{byteOffset:P=0}=Q,ae=function Oe(_,Q={}){var P;for(const ae of hn)_=(null==(P=ae.encode)?void 0:P.call(ae,_,Q))??_;return _}(_),nt=Ms(ae,null,P,Q),Pt=new ArrayBuffer(nt);return Ms(ae,new DataView(Pt),P,Q),Pt}var js={dataType:null,batchType:null,name:"GLB",id:"glb",module:"gltf",version:rn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:function oa(_,Q){return Sa.apply(this,arguments)},parseSync:Za,options:{glb:{strict:!1}}};function Sa(){return Sa=r(function*(_,Q){return Za(_,Q)}),Sa.apply(this,arguments)}function Za(_,Q){const{byteOffset:P=0}=Q||{},ae={};return ri(ae,_,P,Q?.glb),ae}var gc={name:"GLB",id:"glb",module:"gltf",version:rn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{glb:{}},encode:function(){var _=r(function*(Q,P={}){return $a(Q,P)});return function(P){return _.apply(this,arguments)}}(),encodeSync:$a};function $a(_,Q){const{byteOffset:P=0}=Q??{},ae=ts(_,null,P,Q),nt=new ArrayBuffer(ae);return ts(_,new DataView(nt),P,Q),nt}var Pa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ro={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},bo_TEXTURE_MAG_FILTER=10240,bo_TEXTURE_MIN_FILTER=10241,bo_TEXTURE_WRAP_S=10242,bo_TEXTURE_WRAP_T=10243,Bo={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},Fs={[bo_TEXTURE_MAG_FILTER]:9729,[bo_TEXTURE_MIN_FILTER]:9986,[bo_TEXTURE_WRAP_S]:10497,[bo_TEXTURE_WRAP_T]:10497},ks=class{baseUri="";jsonUnprocessed;json;buffers=[];images=[];postProcess(_,Q={}){const{json:P,buffers:ae=[],images:nt=[]}=_,{baseUri:Pt=""}=_;return M(P),this.baseUri=Pt,this.buffers=ae,this.images=nt,this.jsonUnprocessed=P,this.json=this._resolveTree(_.json,Q),this.json}_resolveTree(_,Q={}){const P={..._};return this.json=P,_.bufferViews&&(P.bufferViews=_.bufferViews.map((ae,nt)=>this._resolveBufferView(ae,nt))),_.images&&(P.images=_.images.map((ae,nt)=>this._resolveImage(ae,nt))),_.samplers&&(P.samplers=_.samplers.map((ae,nt)=>this._resolveSampler(ae,nt))),_.textures&&(P.textures=_.textures.map((ae,nt)=>this._resolveTexture(ae,nt))),_.accessors&&(P.accessors=_.accessors.map((ae,nt)=>this._resolveAccessor(ae,nt))),_.materials&&(P.materials=_.materials.map((ae,nt)=>this._resolveMaterial(ae,nt))),_.meshes&&(P.meshes=_.meshes.map((ae,nt)=>this._resolveMesh(ae,nt))),_.nodes&&(P.nodes=_.nodes.map((ae,nt)=>this._resolveNode(ae,nt)),P.nodes=P.nodes.map((ae,nt)=>this._resolveNodeChildren(ae))),_.skins&&(P.skins=_.skins.map((ae,nt)=>this._resolveSkin(ae,nt))),_.scenes&&(P.scenes=_.scenes.map((ae,nt)=>this._resolveScene(ae,nt))),"number"==typeof this.json.scene&&P.scenes&&(P.scene=P.scenes[this.json.scene]),P}getScene(_){return this._get(this.json.scenes,_)}getNode(_){return this._get(this.json.nodes,_)}getSkin(_){return this._get(this.json.skins,_)}getMesh(_){return this._get(this.json.meshes,_)}getMaterial(_){return this._get(this.json.materials,_)}getAccessor(_){return this._get(this.json.accessors,_)}getCamera(_){return this._get(this.json.cameras,_)}getTexture(_){return this._get(this.json.textures,_)}getSampler(_){return this._get(this.json.samplers,_)}getImage(_){return this._get(this.json.images,_)}getBufferView(_){return this._get(this.json.bufferViews,_)}getBuffer(_){return this._get(this.json.buffers,_)}_get(_,Q){if("object"==typeof Q)return Q;const P=_&&_[Q];return P||console.warn(`glTF file error: Could not find ${_}[${Q}]`),P}_resolveScene(_,Q){return{..._,id:_.id||`scene-${Q}`,nodes:(_.nodes||[]).map(P=>this.getNode(P))}}_resolveNode(_,Q){const P={..._,id:_?.id||`node-${Q}`};return void 0!==_.mesh&&(P.mesh=this.getMesh(_.mesh)),void 0!==_.camera&&(P.camera=this.getCamera(_.camera)),void 0!==_.skin&&(P.skin=this.getSkin(_.skin)),void 0!==_.meshes&&_.meshes.length&&(P.mesh=_.meshes.reduce((ae,nt)=>{const Pt=this.getMesh(nt);return ae.id=Pt.id,ae.primitives=ae.primitives.concat(Pt.primitives),ae},{primitives:[]})),P}_resolveNodeChildren(_){return _.children&&(_.children=_.children.map(Q=>this.getNode(Q))),_}_resolveSkin(_,Q){const P="number"==typeof _.inverseBindMatrices?this.getAccessor(_.inverseBindMatrices):void 0;return{..._,id:_.id||`skin-${Q}`,inverseBindMatrices:P}}_resolveMesh(_,Q){const P={..._,id:_.id||`mesh-${Q}`,primitives:[]};return _.primitives&&(P.primitives=_.primitives.map(ae=>{const nt={...ae,attributes:{},indices:void 0,material:void 0},Pt=ae.attributes;for(const sn in Pt)nt.attributes[sn]=this.getAccessor(Pt[sn]);return void 0!==ae.indices&&(nt.indices=this.getAccessor(ae.indices)),void 0!==ae.material&&(nt.material=this.getMaterial(ae.material)),nt})),P}_resolveMaterial(_,Q){const P={..._,id:_.id||`material-${Q}`};if(P.normalTexture&&(P.normalTexture={...P.normalTexture},P.normalTexture.texture=this.getTexture(P.normalTexture.index)),P.occlusionTexture&&(P.occlusionTexture={...P.occlusionTexture},P.occlusionTexture.texture=this.getTexture(P.occlusionTexture.index)),P.emissiveTexture&&(P.emissiveTexture={...P.emissiveTexture},P.emissiveTexture.texture=this.getTexture(P.emissiveTexture.index)),P.emissiveFactor||(P.emissiveFactor=P.emissiveTexture?[1,1,1]:[0,0,0]),P.pbrMetallicRoughness){P.pbrMetallicRoughness={...P.pbrMetallicRoughness};const ae=P.pbrMetallicRoughness;ae.baseColorTexture&&(ae.baseColorTexture={...ae.baseColorTexture},ae.baseColorTexture.texture=this.getTexture(ae.baseColorTexture.index)),ae.metallicRoughnessTexture&&(ae.metallicRoughnessTexture={...ae.metallicRoughnessTexture},ae.metallicRoughnessTexture.texture=this.getTexture(ae.metallicRoughnessTexture.index))}return P}_resolveAccessor(_,Q){const P=function sa(_){return ro[_]}(_.componentType),ae=function Ds(_){return Pa[_]}(_.type),nt=P*ae,Pt={..._,id:_.id||`accessor-${Q}`,bytesPerComponent:P,components:ae,bytesPerElement:nt,value:void 0,bufferView:void 0,sparse:void 0};if(void 0!==_.bufferView&&(Pt.bufferView=this.getBufferView(_.bufferView)),Pt.bufferView){const sn=Pt.bufferView.buffer,{ArrayType:cr,byteLength:Xr}=ce(Pt,Pt.bufferView),oi=(Pt.bufferView.byteOffset||0)+(Pt.byteOffset||0)+sn.byteOffset;let gi=sn.arrayBuffer.slice(oi,oi+Xr);Pt.bufferView.byteStride&&(gi=this._getValueFromInterleavedBuffer(sn,oi,Pt.bufferView.byteStride,Pt.bytesPerElement,Pt.count)),Pt.value=new cr(gi)}return Pt}_getValueFromInterleavedBuffer(_,Q,P,ae,nt){const Pt=new Uint8Array(nt*ae);for(let sn=0;sn<nt;sn++){const cr=Q+sn*P;Pt.set(new Uint8Array(_.arrayBuffer.slice(cr,cr+ae)),sn*ae)}return Pt.buffer}_resolveTexture(_,Q){return{..._,id:_.id||`texture-${Q}`,sampler:"number"==typeof _.sampler?this.getSampler(_.sampler):{id:"default-sampler",parameters:Fs},source:"number"==typeof _.source?this.getImage(_.source):void 0}}_resolveSampler(_,Q){const P={id:_.id||`sampler-${Q}`,..._,parameters:{}};for(const ae in P){const nt=this._enumSamplerParameter(ae);void 0!==nt&&(P.parameters[nt]=P[ae])}return P}_enumSamplerParameter(_){return Bo[_]}_resolveImage(_,Q){const P={..._,id:_.id||`image-${Q}`,image:null,bufferView:void 0!==_.bufferView?this.getBufferView(_.bufferView):void 0},ae=this.images[Q];return ae&&(P.image=ae),P}_resolveBufferView(_,Q){const P=_.buffer,ae=this.buffers[P].arrayBuffer;let nt=this.buffers[P].byteOffset||0;return _.byteOffset&&(nt+=_.byteOffset),{id:`bufferView-${Q}`,..._,buffer:this.buffers[P],data:new Uint8Array(ae,nt,_.byteLength)}}_resolveCamera(_,Q){return{..._,id:_.id||`camera-${Q}`}}};function ms(_,Q){return(new ks).postProcess(_,Q)}},14315:(ln,ye,w)=>{"use strict";var _e,r=w(31049).default,y=Object.defineProperty,u=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,S={};((_e,he)=>{for(var Be in he)y(_e,Be,{get:he[Be],enumerable:!0})})(S,{ImageLoader:()=>rt,ImageWriter:()=>Zt,getBinaryImageMetadata:()=>W,getDefaultImageType:()=>Re,getImageData:()=>R,getImageSize:()=>K,getImageType:()=>Ce,getSupportedImageFormats:()=>dn,isImage:()=>oe,isImageFormatSupported:()=>Xt,isImageTypeSupported:()=>Z,loadImage:()=>yt}),ln.exports=(_e=S,((_e,he,Be,ht)=>{if(he&&"object"==typeof he||"function"==typeof he)for(let zt of v(he))!x.call(_e,zt)&&undefined!==zt&&y(_e,zt,{get:()=>he[zt],enumerable:!(ht=u(he,zt))||ht.enumerable});return _e})(y({},"__esModule",{value:!0}),_e));var M,U="4.3.1",O=w(28690),b=w(28690),A=null==(M=globalThis.loaders)?void 0:M.parseImageNode,ue=typeof Image<"u",z=typeof ImageBitmap<"u",re=!!b.isBrowser||!!A;function Z(_e){switch(_e){case"auto":return z||ue||re;case"imagebitmap":return z;case"image":return ue;case"data":return re;default:throw new Error(`@loaders.gl/images: image ${_e} not supported in this environment`)}}function Re(){if(z)return"imagebitmap";if(ue)return"image";if(re)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function oe(_e){return!!ce(_e)}function Ce(_e){const he=ce(_e);if(!he)throw new Error("Not an image");return he}function K(_e){return R(_e)}function R(_e){switch(Ce(_e)){case"data":return _e;case"image":case"imagebitmap":const he=document.createElement("canvas"),Be=he.getContext("2d");if(!Be)throw new Error("getImageData");return he.width=_e.width,he.height=_e.height,Be.drawImage(_e,0,0),Be.getImageData(0,0,_e.width,_e.height);default:throw new Error("getImageData")}}function ce(_e){return typeof ImageBitmap<"u"&&_e instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&_e instanceof Image?"image":_e&&"object"==typeof _e&&_e.data&&_e.width&&_e.height?"data":null}var $=/^data:image\/svg\+xml/,Fe=/\.svg((\?|#).*)?$/;function je(_e){return _e&&($.test(_e)||Fe.test(_e))}function lt(_e,he){if(je(he))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(_e)])}function pt(_e,he,Be){return St.apply(this,arguments)}function St(){return St=r(function*(_e,he,Be){const ht=function Ve(_e,he){if(je(he)){let ht=(new TextDecoder).decode(_e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(ht=unescape(encodeURIComponent(ht)))}catch(on){throw new Error(on.message)}return`data:image/svg+xml;base64,${btoa(ht)}`}return lt(_e,he)}(_e,Be),zt=self.URL||self.webkitURL,on="string"!=typeof ht&&zt.createObjectURL(ht);try{return yield function Rn(_e,he){return G.apply(this,arguments)}(on||ht,he)}finally{on&&zt.revokeObjectURL(on)}}),St.apply(this,arguments)}function G(){return G=r(function*(_e,he){const Be=new Image;return Be.src=_e,he.image&&he.image.decode&&Be.decode?(yield Be.decode(),Be):yield new Promise((ht,zt)=>{try{Be.onload=()=>ht(Be),Be.onerror=on=>{const Hn=on instanceof Error?on.message:"error";zt(new Error(Hn))}}catch(on){zt(on)}})}),G.apply(this,arguments)}var ee={},De=!0;function Ze(){return Ze=r(function*(_e,he,Be){let ht;ht=je(Be)?yield pt(_e,he,Be):lt(_e,Be);const zt=he&&he.imagebitmap;return yield function ut(_e){return bt.apply(this,arguments)}(ht,zt)}),Ze.apply(this,arguments)}function bt(){return bt=r(function*(_e,he=null){if((function Dt(_e){for(const he in _e||ee)return!1;return!0}(he)||!De)&&(he=null),he)try{return yield createImageBitmap(_e,he)}catch(Be){console.warn(Be),De=!1}return yield createImageBitmap(_e)}),bt.apply(this,arguments)}var Le=w(28690);var T=!1,J=!0;function W(_e){const he=$e(_e);return function ne(_e){const he=$e(_e);return he.byteLength>=24&&2303741511===he.getUint32(0,T)?{mimeType:"image/png",width:he.getUint32(16,T),height:he.getUint32(20,T)}:null}(he)||function B(_e){const he=$e(_e);if(!(he.byteLength>=3&&65496===he.getUint16(0,T)&&255===he.getUint8(2)))return null;const{tableMarkers:ht,sofMarkers:zt}=function Ie(){const _e=new Set([65499,65476,65484,65501,65534]);for(let Be=65504;Be<65520;++Be)_e.add(Be);return{tableMarkers:_e,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let on=2;for(;on+9<he.byteLength;){const Hn=he.getUint16(on,T);if(zt.has(Hn))return{mimeType:"image/jpeg",height:he.getUint16(on+5,T),width:he.getUint16(on+7,T)};if(!ht.has(Hn))return null;on+=2,on+=he.getUint16(on,T)}return null}(he)||function p(_e){const he=$e(_e);return he.byteLength>=10&&1195984440===he.getUint32(0,T)?{mimeType:"image/gif",width:he.getUint16(6,J),height:he.getUint16(8,J)}:null}(he)||function H(_e){const he=$e(_e);return he.byteLength>=14&&16973===he.getUint16(0,T)&&he.getUint32(2,J)===he.byteLength?{mimeType:"image/bmp",width:he.getUint32(18,J),height:he.getUint32(22,J)}:null}(he)||function ve(_e){const Be=function Ae(_e){return function C(_e,he,Be=0){const ht=function Ee(_e){return[..._e].map(he=>he.charCodeAt(0))}(he);for(let zt=0;zt<ht.length;++zt)if(ht[zt]!==_e[zt+Be])return!1;return!0}(_e,"ftyp",4)&&96&_e[8]?function se(_e){switch(function Me(_e,he,Be){return String.fromCharCode(..._e.slice(he,Be))}(_e,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(_e):null}(new Uint8Array(_e instanceof DataView?_e.buffer:_e));return Be?{mimeType:Be.mimeType,width:0,height:0}:null}(he)}function $e(_e){if(_e instanceof DataView)return _e;if(ArrayBuffer.isView(_e))return new DataView(_e.buffer);if(_e instanceof ArrayBuffer)return new DataView(_e);throw new Error("toDataView")}function kt(){return kt=r(function*(_e,he){var Be;const{mimeType:ht}=W(_e)||{},zt=null==(Be=globalThis.loaders)?void 0:Be.parseImageNode;return(0,Le.assert)(zt),yield zt(_e,ht)}),kt.apply(this,arguments)}function Ye(){return Ye=r(function*(_e,he,Be){const zt=((he=he||{}).image||{}).type||"auto",{url:on}=Be||{},Hn=function ct(_e){switch(_e){case"auto":case"data":return Re();default:return Z(_e),_e}}(zt);let Ar;switch(Hn){case"imagebitmap":Ar=yield function Ge(_e,he,Be){return Ze.apply(this,arguments)}(_e,he,on);break;case"image":Ar=yield pt(_e,he,on);break;case"data":Ar=yield function ft(_e,he){return kt.apply(this,arguments)}(_e,he);break;default:(0,O.assert)(!1)}return"data"===zt&&(Ar=R(Ar)),Ar}),Ye.apply(this,arguments)}var Ct,rt={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:U,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function jt(_e,he,Be){return Ye.apply(this,arguments)},tests:[_e=>!!W(new DataView(_e))],options:{image:{type:"auto",decode:!0}}},mt=null==(Ct=globalThis.loaders)?void 0:Ct.encodeImageNode;function at(){return at=r(function*(_e,he){return(he=he||{}).image=he.image||{},mt?mt(_e,{type:he.image.mimeType}):function ke(_e,he){return et.apply(this,arguments)}(_e,he)}),at.apply(this,arguments)}var We=!0;function et(){return et=r(function*(_e,he){const{mimeType:Be,jpegQuality:ht}=he.image,{width:zt,height:on}=K(_e),Hn=document.createElement("canvas");Hn.width=zt,Hn.height=on,function xt(_e,he,Be=0,ht=0){if(0===Be&&0===ht&&typeof ImageBitmap<"u"&&_e instanceof ImageBitmap){const on=he.getContext("bitmaprenderer");if(on)return on.transferFromImageBitmap(_e),he}const zt=he.getContext("2d");if(_e.data){const on=new Uint8ClampedArray(_e.data),Hn=new ImageData(on,_e.width,_e.height);return zt.putImageData(Hn,0,0),he}zt.drawImage(_e,0,0)}(_e,Hn);const Ar=yield new Promise(Ir=>{if(ht&&We)try{return void Hn.toBlob(Ir,Be,ht)}catch{We=!1}Hn.toBlob(Ir,Be)});if(!Ar)throw new Error("image encoding failed");return yield Ar.arrayBuffer()}),et.apply(this,arguments)}var Zt={name:"Images",id:"image",module:"images",version:U,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:function Vt(_e,he){return at.apply(this,arguments)}},vn=w(28690),kn=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/tiff","image/svg","image/svg+xml","image/bmp","image/vnd.microsoft.icon"],tr=null;function dn(){return nn.apply(this,arguments)}function nn(){return nn=r(function*(){if(tr)return yield tr;const _e=new Set;for(const he of kn)(vn.isBrowser?yield Bn(he):Nn(he))&&_e.add(he);return _e}),nn.apply(this,arguments)}var Ht={};function Xt(_e){if(void 0===Ht[_e]){const he=vn.isBrowser?function Ot(_e){switch(_e){case"image/avif":case"image/webp":return function Dn(_e){try{return 0===document.createElement("canvas").toDataURL(_e).indexOf(`data:${_e}`)}catch{return!1}}(_e);default:return!0}}(_e):Nn(_e);Ht[_e]=he}return Ht[_e]}function Nn(_e){var he,Be;const zt=(null==(he=globalThis.loaders)?void 0:he.imageFormatsNode)||["image/png","image/jpeg","image/gif"];return!!(null==(Be=globalThis.loaders)?void 0:Be.parseImageNode)&&zt.includes(_e)}var Mn={"image/avif":"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=","image/webp":"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"};function Bn(_e){return Pn.apply(this,arguments)}function Pn(){return Pn=r(function*(_e){const he=Mn[_e];return!he||(yield function tn(_e){return bn.apply(this,arguments)}(he))}),Pn.apply(this,arguments)}function bn(){return bn=r(function*(_e){return new Promise(he=>{const Be=new Image;Be.src=_e,Be.onload=()=>he(Be.height>0),Be.onerror=()=>he(!1)})}),bn.apply(this,arguments)}function yt(){throw new Error("loadImage has moved to @loaders.gl/textures")}},28690:(ln,ye,w)=>{"use strict";var Se,r=w(31049).default,y=w(47604).default,u=w(88322).default,v=w(57909).default,x=Object.defineProperty,d=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,U=(Se,At)=>{for(var en in At)x(Se,en,{get:At[en],enumerable:!0})},M=(Se,At,en)=>(((Se,At,en)=>{At in Se?x(Se,At,{enumerable:!0,configurable:!0,writable:!0,value:en}):Se[At]=en})(Se,"symbol"!=typeof At?At+"":At,en),en),A={};function ue(Se,At,en,Sn){return z.apply(this,arguments)}function z(){return z=r(function*(Se,At,en,Sn){return Sn._parse(Se,At,en,Sn)}),z.apply(this,arguments)}function X(Se,At,en,Sn){if(!Sn._parseSync)throw new Error("parseSync");return Sn._parseSync(Se,At,en,Sn)}function re(Se,At,en,Sn){return Z.apply(this,arguments)}function Z(){return Z=r(function*(Se,At,en,Sn){if(!Sn._parseInBatches)throw new Error("parseInBatches");return Sn._parseInBatches(Se,At,en,Sn)}),Z.apply(this,arguments)}function Re(Se,At){if(!Se)throw new Error(At||"loader assertion failed.")}U(A,{BlobFile:()=>An,DataSource:()=>no,DataViewFile:()=>Yi,FileHandleFile:()=>ji,FileProvider:()=>Ri,HttpFile:()=>Kn,ImageSource:()=>Fo,JSONLoader:()=>Ar,NodeFile:()=>Pr,NodeFilesystem:()=>Ur,RequestScheduler:()=>yt,VectorSource:()=>$t,_addAliases:()=>zt,assert:()=>Re,canEncodeWithWorker:()=>B,canParseWithWorker:()=>J,checkJSModule:()=>Ze,compareArrayBuffers:()=>kt,concatenateArrayBuffers:()=>jt,concatenateArrayBuffersAsync:()=>Xt,concatenateArrayBuffersFromArray:()=>Ye,concatenateTypedArrays:()=>ct,copyArrayBuffer:()=>wt,copyBinaryToDataView:()=>Vt,copyPaddedArrayBufferToDataView:()=>at,copyPaddedStringToDataView:()=>We,copyStringToDataView:()=>mt,copyToArray:()=>rt,createLoaderWorker:()=>Ae,document:()=>ce,forEach:()=>nn,getFirstCharacters:()=>Ie,getJSModule:()=>ut,getJSModuleOrNull:()=>bt,getMagicString:()=>$e,getPathPrefix:()=>ht,global:()=>R,isBrowser:()=>$,isBuffer:()=>Ki,isFileProvider:()=>ri,isWorker:()=>Fe,log:()=>G,makeLineIterator:()=>vn,makeNumberedLineIterator:()=>tr,makeTextDecoderIterator:()=>ke,makeTextEncoderIterator:()=>xt,mergeLoaderOptions:()=>ee,nodeVersion:()=>Ve,padStringToByteAlignment:()=>Ct,padToNBytes:()=>Ke,parseFromContext:()=>ue,parseInBatchesFromContext:()=>re,parseJSON:()=>ft,parseSyncFromContext:()=>X,parseWithWorker:()=>W,path:()=>Ni,promisify1:()=>ur,promisify2:()=>Ei,registerJSModules:()=>Ge,resolvePath:()=>on,self:()=>Ce,setPathPrefix:()=>Be,sliceArrayBuffer:()=>It,stream:()=>ze,toArrayBuffer:()=>er,toBuffer:()=>mi,window:()=>K}),ln.exports=(Se=A,((Se,At,en,Sn)=>{if(At&&"object"==typeof At||"function"==typeof At)for(let ir of L(At))!F.call(Se,ir)&&undefined!==ir&&x(Se,ir,{get:()=>At[ir],enumerable:!(Sn=d(At,ir))||Sn.enumerable});return Se})(x({},"__esModule",{value:!0}),Se));var oe={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},Ce=oe.self||oe.window||oe.global||{},K=oe.window||oe.self||oe.global||{},R=oe.global||oe.self||oe.window||{},ce=oe.document||{},$=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),Fe="function"==typeof importScripts,je=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),Ve=je&&parseFloat(je[1])||0,lt=w(69243),pt="4.3.1",St=pt[0]>="0"&&pt[0]<="9"?`v${pt}`:"",G=function Rn(){const Se=new lt.Log({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=Se,globalThis.loaders.version=St,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=Se,Se}();function ee(Se,At){return De(Se||{},At)}function De(Se,At,en=0){if(en>3)return At;const Sn={...Se};for(const[ir,Vr]of Object.entries(At))Sn[ir]=Vr&&"object"==typeof Vr&&!Array.isArray(Vr)?De(Sn[ir]||{},At[ir],en+1):At[ir];return Sn}function Ge(Se){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,Se)}function Ze(Se,At){var en,Sn;(null==(Sn=null==(en=globalThis.loaders)?void 0:en.modules)?void 0:Sn[Se])||G.warn(`${At}: ${Se} library not installed`)()}function ut(Se,At){var en,Sn;const ir=null==(Sn=null==(en=globalThis.loaders)?void 0:en.modules)?void 0:Sn[Se];if(!ir)throw new Error(`${At}: ${Se} library not installed`);return ir}function bt(Se){var At,en;return(null==(en=null==(At=globalThis.loaders)?void 0:At.modules)?void 0:en[Se])||null}var Dt=w(13827),Le=0;function Ae(Se){return se.apply(this,arguments)}function se(){return se=r(function*(Se){(yield Dt.WorkerBody.inWorkerThread())&&(Dt.WorkerBody.onmessage=function(){var At=r(function*(en,Sn){if("process"===en)try{const{input:ir,options:Vr={},context:Oi={}}=Sn,Wr=yield function Ee(Se){return C.apply(this,arguments)}({loader:Se,arrayBuffer:ir,options:Vr,context:{...Oi,_parse:Me}});Dt.WorkerBody.postMessage("done",{result:Wr})}catch(ir){const Vr=ir instanceof Error?ir.message:"";Dt.WorkerBody.postMessage("error",{error:Vr})}});return function(en,Sn){return At.apply(this,arguments)}}())}),se.apply(this,arguments)}function Me(Se,At,en,Sn){return new Promise((ir,Vr)=>{const Oi=Le++,Wr=(Ro,Wo)=>{if(Wo.id===Oi)switch(Ro){case"done":Dt.WorkerBody.removeEventListener(Wr),ir(Wo.result);break;case"error":Dt.WorkerBody.removeEventListener(Wr),Vr(Wo.error)}};Dt.WorkerBody.addEventListener(Wr),Dt.WorkerBody.postMessage("process",{id:Oi,input:Se,options:en})})}function C(){return C=r(function*({loader:Se,arrayBuffer:At,options:en,context:Sn}){let ir,Vr;if(Se.parseSync||Se.parse)ir=At,Vr=Se.parseSync||Se.parse;else{if(!Se.parseTextSync)throw new Error(`Could not load data with ${Se.name} loader`);ir=(new TextDecoder).decode(At),Vr=Se.parseTextSync}return en={...en,modules:Se&&Se.options&&Se.options.modules||{},worker:!1},yield Vr(ir,{...en},Sn,Se)}),C.apply(this,arguments)}var T=w(13827);function J(Se,At){return!(!T.WorkerFarm.isSupported()||!T.isBrowser&&!At?._nodeWorkers)&&Se.worker&&At?.worker}function W(Se,At,en,Sn,ir){return ve.apply(this,arguments)}function ve(){return ve=r(function*(Se,At,en,Sn,ir){const Vr=Se.id,Oi=(0,T.getWorkerURL)(Se,en),Gi=T.WorkerFarm.getWorkerFarm(en).getWorkerPool({name:Vr,url:Oi});en=JSON.parse(JSON.stringify(en)),Sn=JSON.parse(JSON.stringify(Sn||{}));const Ro=yield Gi.startJob("process-on-worker",ne.bind(null,ir));return Ro.postMessage("process",{input:At,options:en,context:Sn}),yield(yield Ro.result).result}),ve.apply(this,arguments)}function ne(Se,At,en,Sn){return p.apply(this,arguments)}function p(){return p=r(function*(Se,At,en,Sn){switch(en){case"done":At.done(Sn);break;case"error":At.error(new Error(Sn.error));break;case"process":const{id:ir,input:Vr,options:Oi}=Sn;try{const Wr=yield Se(Vr,Oi);At.postMessage("done",{id:ir,result:Wr})}catch(Wr){const Gi=Wr instanceof Error?Wr.message:"unknown error";At.postMessage("error",{id:ir,error:Gi})}break;default:console.warn(`parse-with-worker unknown message ${en}`)}}),p.apply(this,arguments)}var H=w(13827);function B(Se,At){return!(!H.WorkerFarm.isSupported()||!$&&!At?._nodeWorkers)&&Se.worker&&At?.worker}function Ie(Se,At=5){return"string"==typeof Se?Se.slice(0,At):ArrayBuffer.isView(Se)?$e(Se.buffer,Se.byteOffset,At):Se instanceof ArrayBuffer?$e(Se,0,At):""}function $e(Se,At,en){if(Se.byteLength<=At+en)return"";const Sn=new DataView(Se);let ir="";for(let Vr=0;Vr<en;Vr++)ir+=String.fromCharCode(Sn.getUint8(At+Vr));return ir}function ft(Se){try{return JSON.parse(Se)}catch{throw new Error(`Failed to parse JSON from data starting with "${Ie(Se)}"`)}}function kt(Se,At,en){if(Se.byteLength<(en=en||Se.byteLength)||At.byteLength<en)return!1;const Sn=new Uint8Array(Se),ir=new Uint8Array(At);for(let Vr=0;Vr<Sn.length;++Vr)if(Sn[Vr]!==ir[Vr])return!1;return!0}function jt(...Se){return Ye(Se)}function Ye(Se){const At=Se.map(Vr=>Vr instanceof ArrayBuffer?new Uint8Array(Vr):Vr),en=At.reduce((Vr,Oi)=>Vr+Oi.byteLength,0),Sn=new Uint8Array(en);let ir=0;for(const Vr of At)Sn.set(Vr,ir),ir+=Vr.byteLength;return Sn.buffer}function ct(...Se){const At=Se,en=At&&At.length>1&&At[0].constructor||null;if(!en)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');const ir=new en(At.reduce((Oi,Wr)=>Oi+Wr.length,0));let Vr=0;for(const Oi of At)ir.set(Oi,Vr),Vr+=Oi.length;return ir}function It(Se,At,en){const Sn=void 0!==en?new Uint8Array(Se).subarray(At,At+en):new Uint8Array(Se).subarray(At);return new Uint8Array(Sn).buffer}function Ke(Se,At){return Re(Se>=0),Re(At>0),Se+(At-1)&~(At-1)}function wt(Se,At,en,Sn=At.byteLength){const ir=new Uint8Array(Se,en,Sn),Vr=new Uint8Array(At);return ir.set(Vr),Se}function rt(Se,At,en){let Sn;return Sn=Se instanceof ArrayBuffer?new Uint8Array(Se):new Uint8Array(Se.buffer||Se.arrayBuffer,Se.byteOffset,Se.byteLength),At.set(Sn,en),en+Ke(Sn.byteLength,4)}function Ct(Se,At){const en=Se.length,ir=Math.ceil(en/At)*At-en;let Vr="";for(let Oi=0;Oi<ir;++Oi)Vr+=" ";return Se+Vr}function mt(Se,At,en,Sn){if(Se)for(let ir=0;ir<Sn;ir++)Se.setUint8(At+ir,en.charCodeAt(ir));return At+Sn}function Vt(Se,At,en,Sn){if(Se)for(let ir=0;ir<Sn;ir++)Se.setUint8(At+ir,en[ir]);return At+Sn}function at(Se,At,en,Sn){const ir=Ke(en.byteLength,Sn),Vr=ir-en.byteLength;if(Se){const Oi=new Uint8Array(Se.buffer,Se.byteOffset+At,en.byteLength),Wr=new Uint8Array(en);Oi.set(Wr);for(let Gi=0;Gi<Vr;++Gi)Se.setUint8(At+en.byteLength+Gi,32)}return At+ir}function We(Se,At,en,Sn){return at(Se,At,(new TextEncoder).encode(en),Sn)}function ke(Se){return et.apply(this,arguments)}function et(){return et=u(function*(Se,At={}){const en=new TextDecoder(void 0,At);var Vr,Sn=!1,ir=!1;try{for(var Wr,Oi=v(Se);Sn=!(Wr=yield y(Oi.next())).done;Sn=!1){const Gi=Wr.value;yield"string"==typeof Gi?Gi:en.decode(Gi,{stream:!0})}}catch(Gi){ir=!0,Vr=Gi}finally{try{Sn&&null!=Oi.return&&(yield y(Oi.return()))}finally{if(ir)throw Vr}}}),et.apply(this,arguments)}function xt(Se){return Zt.apply(this,arguments)}function Zt(){return Zt=u(function*(Se){const At=new TextEncoder;var ir,en=!1,Sn=!1;try{for(var Oi,Vr=v(Se);en=!(Oi=yield y(Vr.next())).done;en=!1){const Wr=Oi.value;yield"string"==typeof Wr?At.encode(Wr):Wr}}catch(Wr){Sn=!0,ir=Wr}finally{try{en&&null!=Vr.return&&(yield y(Vr.return()))}finally{if(Sn)throw ir}}}),Zt.apply(this,arguments)}function vn(Se){return kn.apply(this,arguments)}function kn(){return kn=u(function*(Se){let At="";var ir,en=!1,Sn=!1;try{for(var Oi,Vr=v(Se);en=!(Oi=yield y(Vr.next())).done;en=!1){let Gi;for(At+=Oi.value;(Gi=At.indexOf("\n"))>=0;){const Ro=At.slice(0,Gi+1);At=At.slice(Gi+1),yield Ro}}}catch(Wr){Sn=!0,ir=Wr}finally{try{en&&null!=Vr.return&&(yield y(Vr.return()))}finally{if(Sn)throw ir}}At.length>0&&(yield At)}),kn.apply(this,arguments)}function tr(Se){return dn.apply(this,arguments)}function dn(){return dn=u(function*(Se){let At=1;var ir,en=!1,Sn=!1;try{for(var Oi,Vr=v(Se);en=!(Oi=yield y(Vr.next())).done;en=!1){const Wr=Oi.value;yield{counter:At,line:Wr},At++}}catch(Wr){Sn=!0,ir=Wr}finally{try{en&&null!=Vr.return&&(yield y(Vr.return()))}finally{if(Sn)throw ir}}}),dn.apply(this,arguments)}function nn(Se,At){return Ht.apply(this,arguments)}function Ht(){return Ht=r(function*(Se,At){for(;;){const{done:en,value:Sn}=yield Se.next();if(en)return void Se.return();if(At(Sn))return}}),Ht.apply(this,arguments)}function Xt(Se){return Nn.apply(this,arguments)}function Nn(){return Nn=r(function*(Se){const At=[];var ir,en=!1,Sn=!1;try{for(var Oi,Vr=v(Se);en=!(Oi=yield Vr.next()).done;en=!1)At.push(Oi.value)}catch(Wr){Sn=!0,ir=Wr}finally{try{en&&null!=Vr.return&&(yield Vr.return())}finally{if(Sn)throw ir}}return jt(...At)}),Nn.apply(this,arguments)}var Ot=w(750),bn={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0},yt=class{props;stats;activeRequestCount=0;requestQueue=[];requestMap=new Map;updateTimer=null;constructor(Se={}){this.props={...bn,...Se},this.stats=new Ot.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(Se,At=()=>0){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(Se))return this.requestMap.get(Se);const en={handle:Se,priority:0,getPriority:At},Sn=new Promise(ir=>(en.resolve=ir,en));return this.requestQueue.push(en),this.requestMap.set(Se,Sn),this._issueNewRequests(),Sn}_issueRequest(Se){const{handle:At,resolve:en}=Se;let Sn=!1;const ir=()=>{Sn||(Sn=!0,this.requestMap.delete(At),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,en?en({done:ir}):Promise.resolve({done:ir})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const Se=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==Se){this._updateAllRequests();for(let At=0;At<Se;++At){const en=this.requestQueue.shift();en&&this._issueRequest(en)}}}_updateAllRequests(){const Se=this.requestQueue;for(let At=0;At<Se.length;++At){const en=Se[At];this._updateRequest(en)||(Se.splice(At,1),this.requestMap.delete(en.handle),At--)}Se.sort((At,en)=>At.priority-en.priority)}_updateRequest(Se){return Se.priority=Se.getPriority(Se.handle),!(Se.priority<0&&(Se.resolve(null),1))}},_e="",he={};function Be(Se){_e=Se}function ht(){return _e}function zt(Se){Object.assign(he,Se)}function on(Se){for(const At in he)Se.startsWith(At)&&(Se=Se.replace(At,he[At]));return!Se.startsWith("http://")&&!Se.startsWith("https://")&&(Se=`${_e}${Se}`),Se}var Ar={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:"4.3.1",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:Ir,parse:function(){var Se=r(function*(At){return Ir((new TextDecoder).decode(At))});return function(en){return Se.apply(this,arguments)}}(),options:{}};function Ir(Se){return JSON.parse(Se)}function Yr(Se){throw new Error("Buffer not supported in browser")}function Ki(Se){return Se&&"object"==typeof Se&&Se.isBuffer}function mi(Se){return Yr?Yr():Se}function er(Se){if(Ki(Se))return Se;if(Se instanceof ArrayBuffer)return Se;if(ArrayBuffer.isView(Se))return 0===Se.byteOffset&&Se.byteLength===Se.buffer.byteLength?Se.buffer:Se.buffer.slice(Se.byteOffset,Se.byteOffset+Se.byteLength);if("string"==typeof Se){const At=Se;return(new TextEncoder).encode(At).buffer}if(Se&&"object"==typeof Se&&Se._toArrayBuffer)return Se._toArrayBuffer();throw new Error("toArrayBuffer")}function ur(Se){return At=>new Promise((en,Sn)=>Se(At,(ir,Vr)=>ir?Sn(ir):en(Vr)))}function Ei(Se){return(At,en)=>new Promise((Sn,ir)=>Se(At,en,(Vr,Oi)=>Vr?ir(Vr):Sn(Oi)))}var Ni={};function rn(){var Se;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const At=null==(Se=window.location)?void 0:Se.pathname;return At?.slice(0,At.lastIndexOf("/")+1)||""}function En(Se){const At=Se?Se.lastIndexOf("/"):-1;return At>=0?Se.substr(At+1):""}function ar(Se){const At=Se?Se.lastIndexOf("/"):-1;return At>=0?Se.substr(0,At):""}function Er(...Se){return(Se=Se.map((en,Sn)=>(Sn&&(en=en.replace(new RegExp("^/"),"")),Sn!==Se.length-1&&(en=en.replace(new RegExp("/$"),"")),en))).join("/")}function Hr(...Se){const At=[];for(let Vr=0;Vr<Se.length;Vr++)At[Vr]=Se[Vr];let ir,en="",Sn=!1;for(let Vr=At.length-1;Vr>=-1&&!Sn;Vr--){let Oi;Vr>=0?Oi=At[Vr]:(void 0===ir&&(ir=rn()),Oi=ir),0!==Oi.length&&(en=`${Oi}/${en}`,Sn=Oi.charCodeAt(0)===vr)}return en=function te(Se,At){let Vr,en="",Sn=-1,ir=0,Oi=!1;for(let Wr=0;Wr<=Se.length;++Wr){if(Wr<Se.length)Vr=Se.charCodeAt(Wr);else{if(Vr===vr)break;Vr=vr}if(Vr===vr){if(Sn!==Wr-1&&1!==ir)if(Sn!==Wr-1&&2===ir){if(en.length<2||!Oi||en.charCodeAt(en.length-1)!==Mt||en.charCodeAt(en.length-2)!==Mt)if(en.length>2){const Gi=en.length-1;let Ro=Gi;for(;Ro>=0&&en.charCodeAt(Ro)!==vr;--Ro);if(Ro!==Gi){en=-1===Ro?"":en.slice(0,Ro),Sn=Wr,ir=0,Oi=!1;continue}}else if(2===en.length||1===en.length){en="",Sn=Wr,ir=0,Oi=!1;continue}At&&(en.length>0?en+="/..":en="..",Oi=!0)}else{const Gi=Se.slice(Sn+1,Wr);en.length>0?en+=`/${Gi}`:en=Gi,Oi=!1}Sn=Wr,ir=0}else Vr===Mt&&-1!==ir?++ir:ir=-1}return en}(en,!Sn),Sn?`/${en}`:en.length>0?en:"."}U(Ni,{dirname:()=>ar,filename:()=>En,join:()=>Er,resolve:()=>Hr});var vr=47,Mt=46,ze={};U(ze,{isSupported:()=>Yt});var Yt=!1,An=class{handle;size;bigsize;url;constructor(Se){this.handle=Se instanceof ArrayBuffer?new Blob([Se]):Se,this.size=Se instanceof ArrayBuffer?Se.byteLength:Se.size,this.bigsize=BigInt(this.size),this.url=Se instanceof File?Se.name:""}close(){return r(function*(){})()}stat(){var Se=this;return r(function*(){return{size:Se.handle.size,bigsize:BigInt(Se.handle.size),isDirectory:!1}})()}read(Se,At){var en=this;return r(function*(){return yield en.handle.slice(Se,Se+At).arrayBuffer()})()}},Kn=class{handle;size=0;bigsize=0n;url;constructor(Se){this.handle=Se,this.url=Se}close(){return r(function*(){})()}stat(){var Se=this;return r(function*(){const At=yield fetch(Se.handle,{method:"HEAD"});if(!At.ok)throw new Error(`Failed to fetch HEAD ${Se.handle}`);const en=parseInt(At.headers.get("Content-Length")||"0");return{size:en,bigsize:BigInt(en),isDirectory:!1}})()}read(Se,At){var en=this;return r(function*(){return yield(yield en.fetchRange(Se,At)).arrayBuffer()})()}fetchRange(Se,At,en){var Sn=this;return r(function*(){const ir=Number(Se),Vr=Number(At);let Oi;en||(Oi=new AbortController,en=Oi.signal);const Wr=Sn.handle;let Gi=yield fetch(Wr,{signal:en,headers:{Range:`bytes=${ir}-${ir+Vr-1}`}});switch(Gi.status){case 206:break;case 200:const Ro=Gi.headers.get("Content-Length");if(!Ro||Number(Ro)>At)throw Oi&&Oi.abort(),Error("content-length header missing or exceeding request. Server must support HTTP Byte Serving.");case 416:if(0===Se){const Wo=Gi.headers.get("Content-Range");if(!Wo||!Wo.startsWith("bytes *"))throw Error("Missing content-length on 416 response");const xs=Number(Wo.substr(8));Gi=yield fetch(Sn.url,{signal:en,headers:{Range:"bytes=0-"+(xs-1)}})}break;default:if(Gi.status>=300)throw Error(`Bad response code: ${Gi.status}`)}return Gi})()}},sr=new Error("Not implemented"),Pr=class{handle;size=0;bigsize=0n;url="";constructor(Se,At,en){var Sn;if(null!=(Sn=globalThis.loaders)&&Sn.NodeFile)return new globalThis.loaders.NodeFile(Se,At,en);throw $?new Error("Can't instantiate NodeFile in browser."):new Error("Can't instantiate NodeFile. Make sure to import @loaders.gl/polyfills first.")}read(Se,At){return r(function*(){throw sr})()}write(Se,At,en){return r(function*(){throw sr})()}stat(){return r(function*(){throw sr})()}truncate(Se){return r(function*(){throw sr})()}append(Se){return r(function*(){throw sr})()}close(){return r(function*(){})()}},Sr=new Error("Not implemented"),Ur=class{constructor(Se){var At;if(null!=(At=globalThis.loaders)&&At.NodeFileSystem)return new globalThis.loaders.NodeFileSystem(Se);throw $?new Error("Can't instantiate NodeFileSystem in browser."):new Error("Can't instantiate NodeFileSystem. Make sure to import @loaders.gl/polyfills first.")}readable=!0;writable=!0;openReadableFile(Se,At){return r(function*(){throw Sr})()}openWritableFile(Se,At,en){return r(function*(){throw Sr})()}readdir(Se=".",At){return r(function*(){throw Sr})()}stat(Se,At){return r(function*(){throw Sr})()}unlink(Se){return r(function*(){throw Sr})()}fetch(Se,At){return r(function*(){throw Sr})()}},ri=Se=>Se?.getUint8&&Se?.slice&&Se?.length,Ri=class{file;size;constructor(Se,At){this.file=Se,this.size=BigInt(At)}static create(Se){return r(function*(){var At;let en=0n;if(Se.bigsize>0n)en=Se.bigsize;else if(Se.size>0)en=Se.size;else{const Sn=yield null==(At=Se.stat)?void 0:At.call(Se);en=Sn?.bigsize??0n}return new Ri(Se,en)})()}truncate(Se){return r(function*(){throw new Error("file loaded via range requests cannot be changed")})()}append(Se){return r(function*(){throw new Error("file loaded via range requests cannot be changed")})()}destroy(){return r(function*(){throw new Error("file loaded via range requests cannot be changed")})()}getUint8(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,1),Sn=new Uint8Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}getUint16(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,2),Sn=new Uint16Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}getUint32(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,4),Sn=new Uint32Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}getBigUint64(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,8),Sn=new BigInt64Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}slice(Se,At){var en=this;return r(function*(){const Sn=BigInt(At)-BigInt(Se);if(Sn>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const ir=Number(Sn);return yield en.file.read(Se,ir)})()}get length(){return this.size}},ji=class{file;constructor(Se,At=!1){this.file=new Pr(Se,At?"a+":"r")}truncate(Se){var At=this;return r(function*(){yield At.file.truncate(Se)})()}append(Se){var At=this;return r(function*(){yield At.file.append(Se)})()}destroy(){var Se=this;return r(function*(){yield Se.file.close()})()}getUint8(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,1),Sn=new Uint8Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}getUint16(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,2),Sn=new Uint16Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}getUint32(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,4),Sn=new Uint32Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}getBigUint64(Se){var At=this;return r(function*(){const en=yield At.file.read(Se,8),Sn=new BigInt64Array(en).at(0);if(void 0===Sn)throw new Error("something went wrong");return Sn})()}slice(Se,At){var en=this;return r(function*(){const Sn=At-Se;if(Sn>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const ir=Number(Sn);return yield en.file.read(Se,ir)})()}get length(){return this.file.bigsize}},$i=Se=>{if(Se>Number.MAX_SAFE_INTEGER)throw new Error("Offset is out of bounds");return Number(Se)},Yi=class{file;constructor(Se){this.file=Se}destroy(){return r(function*(){})()}getUint8(Se){var At=this;return r(function*(){return At.file.getUint8($i(Se))})()}getUint16(Se){var At=this;return r(function*(){return At.file.getUint16($i(Se),!0)})()}getUint32(Se){var At=this;return r(function*(){return At.file.getUint32($i(Se),!0)})()}getBigUint64(Se){var At=this;return r(function*(){return At.file.getBigUint64($i(Se),!0)})()}slice(Se,At){var en=this;return r(function*(){return en.file.buffer.slice($i(Se),$i(At))})()}get length(){return BigInt(this.file.byteLength)}},no=class{fetch;loadOptions;_needsRefresh=!0;props;constructor(Se){this.props={...Se},this.loadOptions={...Se.loadOptions},this.fetch=function yo(Se){const At=Se?.fetch;if(At&&"function"==typeof At)return(Sn,ir)=>At(Sn,ir);const en=Se?.fetch;return en&&"function"!=typeof en?Sn=>fetch(Sn,en):Sn=>fetch(Sn)}(this.loadOptions)}setProps(Se){this.props=Object.assign(this.props,Se),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(Se=!0){const At=this._needsRefresh;return Se&&(this._needsRefresh=!1),At}},Fo=class extends no{};M(Fo,"type","template"),M(Fo,"testURL",Se=>!1);var $t=class extends no{};M($t,"type","template"),M($t,"testURL",Se=>!1)},47526:(ln,ye,w)=>{"use strict";var te,r=w(31049).default,y=w(57909).default,u=Object.defineProperty,v=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,b={};function M(te,ze="float32"){return te instanceof Date?"date-millisecond":te instanceof Number?ze:"string"==typeof te?"utf8":"null"}function A(te){let ze=ue(te);return"null"!==ze?{type:ze,nullable:!1}:te.length>0?(ze=M(te[0]),{type:ze,nullable:!0}):{type:"null",nullable:!0}}function ue(te){switch(te.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function z(te,ze){if(!ze)switch(te){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array}return Array}((te,ze)=>{for(var Yt in ze)u(te,Yt,{get:ze[Yt],enumerable:!0})})(b,{ArrowLikeDataType:()=>et,ArrowLikeField:()=>se,ArrowLikeSchema:()=>Me,ArrowLikeTable:()=>H,AsyncQueue:()=>Mt,Binary:()=>bn,Bool:()=>Zt,ColumnarTableBatchAggregator:()=>$,Date:()=>he,DateDay:()=>Be,DateMillisecond:()=>ht,FixedSizeList:()=>rn,Float:()=>Bn,Float16:()=>Pn,Float32:()=>Dn,Float64:()=>tn,Int:()=>vn,Int16:()=>tr,Int32:()=>dn,Int64:()=>nn,Int8:()=>kn,Interval:()=>ur,IntervalDayTime:()=>Ei,IntervalYearMonth:()=>Ni,Null:()=>xt,RowTableBatchAggregator:()=>R,Struct:()=>En,TableBatchBuilder:()=>lt,Time:()=>on,TimeMillisecond:()=>Ar,TimeSecond:()=>Hn,Timestamp:()=>Ir,TimestampMicrosecond:()=>Ki,TimestampMillisecond:()=>Yr,TimestampNanosecond:()=>mi,TimestampSecond:()=>ti,Uint16:()=>Xt,Uint32:()=>Nn,Uint64:()=>Ot,Uint8:()=>Ht,Utf8:()=>yt,convertTable:()=>Ye,convertToArrayRow:()=>Re,convertToObjectRow:()=>Z,deduceMeshField:()=>Vt,deduceMeshSchema:()=>mt,deduceTableSchema:()=>C,getArrayTypeFromDataType:()=>z,getDataTypeFromArray:()=>A,getMeshBoundingBox:()=>Ct,getMeshSize:()=>rt,getTableCell:()=>G,getTableCellAt:()=>ee,getTableColumnIndex:()=>Ge,getTableColumnName:()=>Ze,getTableLength:()=>St,getTableNumCols:()=>Rn,getTableRowAsArray:()=>bt,getTableRowAsObject:()=>ut,getTableRowShape:()=>De,getTypeInfo:()=>ar,isTable:()=>pt,makeArrayRowIterator:()=>Le,makeBatchFromTable:()=>$e,makeMeshAttributeMetadata:()=>We,makeObjectRowIterator:()=>Ae,makeRowIterator:()=>Dt,makeTableFromBatches:()=>ft,makeTableFromData:()=>B}),ln.exports=(te=b,((te,ze,Yt,An)=>{if(ze&&"object"==typeof ze||"function"==typeof ze)for(let Kn of x(ze))!d.call(te,Kn)&&undefined!==Kn&&u(te,Kn,{get:()=>ze[Kn],enumerable:!(An=v(ze,Kn))||An.enumerable});return te})(u({},"__esModule",{value:!0}),te));var re=class{schema;options;shape;length=0;rows=null;cursor=0;_headers=[];constructor(te,ze){if(this.options=ze,this.schema=te,!Array.isArray(te)){this._headers=[];for(const Yt in te)this._headers[te[Yt].index]=te[Yt].name}}rowCount(){return this.length}addArrayRow(te,ze){Number.isFinite(ze)&&(this.cursor=ze),this.shape="array-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=te,this.length++}addObjectRow(te,ze){Number.isFinite(ze)&&(this.cursor=ze),this.shape="object-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=te,this.length++}getBatch(){let te=this.rows;return te?(te=te.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:te,length:this.length,schema:this.schema,cursor:this.cursor}):null}};function Z(te,ze){if(!te)throw new Error("null row");const Yt={};if(ze)for(let An=0;An<ze.length;An++)Yt[ze[An]]=te[An];else for(let An=0;An<te.length;An++)Yt[`column-${An}`]=te[An];return Yt}function Re(te,ze){if(!te)throw new Error("null row");if(ze){const Yt=new Array(ze.length);for(let An=0;An<ze.length;An++)Yt[An]=te[ze[An]];return Yt}return Object.values(te)}var R=class{schema;options;length=0;objectRows=null;arrayRows=null;cursor=0;_headers=null;constructor(te,ze){if(this.options=ze,this.schema=te,te){this._headers=[];for(const Yt in te)this._headers[te[Yt].index]=te[Yt].name}}rowCount(){return this.length}addArrayRow(te,ze){switch(Number.isFinite(ze)&&(this.cursor=ze),this._headers||=function oe(te){const ze=[];for(let Yt=0;Yt<te.length;Yt++)ze.push(`column-${Yt}`);return ze}(te),this.options.shape){case"object-row-table":const Yt=Z(te,this._headers);this.addObjectRow(Yt,ze);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=te,this.length++}}addObjectRow(te,ze){switch(Number.isFinite(ze)&&(this.cursor=ze),this._headers||=function Ce(te){return Object.keys(te)}(te),this.options.shape){case"array-row-table":const Yt=Re(te,this._headers);this.addArrayRow(Yt,ze);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=te,this.length++}}getBatch(){let te=this.arrayRows||this.objectRows;return te?(te=te.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:te,length:this.length,schema:this.schema,cursor:this.cursor}):null}},$=class{schema;length=0;allocated=0;columns={};constructor(te,ze){this.schema=te,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(te){this._reallocateColumns();let ze=0;for(const Yt in this.columns)this.columns[Yt][this.length]=te[ze++];this.length++}addObjectRow(te){this._reallocateColumns();for(const ze in te)this.columns[ze][this.length]=te[ze];this.length++}getBatch(){this._pruneColumns();const te=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const Yt in this.schema){const An=this.schema[Yt];te[An.name]=this.columns[An.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:te,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const te in this.schema){const ze=this.schema[te],Yt=ze.type||Float32Array,An=this.columns[ze.index];if(An&&ArrayBuffer.isView(An)){const Kn=new Yt(this.allocated);Kn.set(An),this.columns[ze.index]=Kn}else An?(An.length=this.allocated,this.columns[ze.index]=An):this.columns[ze.index]=new Yt(this.allocated)}}}_pruneColumns(){for(const[te,ze]of Object.entries(this.columns))this.columns[te]=ze.slice(0,this.length)}},Fe={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},Ve=class{schema;options;aggregator=null;batchCount=0;bytesUsed=0;isChunkComplete=!1;lastBatchEmittedMs=Date.now();totalLength=0;totalBytes=0;rowBytes=0;constructor(te,ze){this.schema=te,this.options={...Fe,...ze}}limitReached(){var te,ze;return!!(null!=(te=this.options)&&te.limit&&this.totalLength>=this.options.limit||null!=(ze=this.options)&&ze._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(te){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(te),this.totalBytes+=this.rowBytes,Array.isArray(te)?this.addArrayRow(te):this.addObjectRow(te))}addArrayRow(te){if(!this.aggregator){const ze=this._getTableBatchType();this.aggregator=new ze(this.schema,this.options)}this.aggregator.addArrayRow(te)}addObjectRow(te){if(!this.aggregator){const ze=this._getTableBatchType();this.aggregator=new ze(this.schema,this.options)}this.aggregator.addObjectRow(te)}chunkComplete(te){te instanceof ArrayBuffer&&(this.bytesUsed+=te.byteLength),"string"==typeof te&&(this.bytesUsed+=te.length),this.isChunkComplete=!0}getFullBatch(te){return this._isFull()?this._getBatch(te):null}getFinalBatch(te){return this._getBatch(te)}_estimateRowMB(te){return Array.isArray(te)?8*te.length:8*Object.keys(te).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}_getBatch(te){if(!this.aggregator)return null;te?.bytesUsed&&(this.bytesUsed=te.bytesUsed);const ze=this.aggregator.getBatch();return ze.count=this.batchCount,ze.bytesUsed=this.bytesUsed,Object.assign(ze,te),this.batchCount++,this.aggregator=null,ze}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return R;case"columnar-table":return $;case"arrow-table":if(!Ve.ArrowBatch)throw new Error("TableBatchBuilder");return Ve.ArrowBatch;default:return re}}},lt=Ve;function pt(te){var ze;switch("object"==typeof te&&te?.shape){case"array-row-table":case"object-row-table":return Array.isArray(te.data);case"geojson-table":return Array.isArray(te.features);case"columnar-table":return te.data&&"object"==typeof te.data;case"arrow-table":return void 0!==(null==(ze=te?.data)?void 0:ze.numRows);default:return!1}}function St(te){switch(te.shape){case"array-row-table":case"object-row-table":return te.data.length;case"geojson-table":return te.features.length;case"arrow-table":return te.data.numRows;case"columnar-table":for(const Yt of Object.values(te.data))return Yt.length||0;return 0;default:throw new Error("table")}}function Rn(te){if(te.schema)return te.schema.fields.length;if(0===St(te))throw new Error("empty table");switch(te.shape){case"array-row-table":return te.data[0].length;case"object-row-table":return Object.keys(te.data[0]).length;case"geojson-table":return Object.keys(te.features[0]).length;case"columnar-table":return Object.keys(te.data).length;case"arrow-table":return te.data.numCols;default:throw new Error("table")}}function G(te,ze,Yt){var An;switch(te.shape){case"array-row-table":const Kn=Ge(te,Yt);return te.data[ze][Kn];case"object-row-table":return te.data[ze][Yt];case"geojson-table":return te.features[ze][Yt];case"columnar-table":return te.data[Yt][ze];case"arrow-table":const Pr=te.data,Sr=Pr.schema.fields.findIndex(Ur=>Ur.name===Yt);return null==(An=Pr.getChildAt(Sr))?void 0:An.get(ze);default:throw new Error("todo")}}function ee(te,ze,Yt){var An;switch(te.shape){case"array-row-table":return te.data[ze][Yt];case"object-row-table":const Kn=Ze(te,Yt);return te.data[ze][Kn];case"geojson-table":const sr=Ze(te,Yt);return te.features[ze][sr];case"columnar-table":const Pr=Ze(te,Yt);return te.data[Pr][ze];case"arrow-table":return null==(An=te.data.getChildAt(Yt))?void 0:An.get(ze);default:throw new Error("todo")}}function De(te){switch(te.shape){case"array-row-table":case"object-row-table":return te.shape;case"geojson-table":return"object-row-table";default:throw new Error("Not a row table")}}function Ge(te,ze){var Yt;const An=null==(Yt=te.schema)?void 0:Yt.fields.findIndex(Kn=>Kn.name===ze);if(void 0===An)throw new Error(ze);return An}function Ze(te,ze){var Yt,An;const Kn=null==(An=null==(Yt=te.schema)?void 0:Yt.fields[ze])?void 0:An.name;if(!Kn)throw new Error(`${ze}`);return Kn}function ut(te,ze,Yt,An){switch(te.shape){case"object-row-table":return An?Object.fromEntries(Object.entries(te.data[ze])):te.data[ze];case"array-row-table":if(te.schema){const Ur=Yt||{};for(let ri=0;ri<te.schema.fields.length;ri++)Ur[te.schema.fields[ri].name]=te.data[ze][ri];return Ur}throw new Error("no schema");case"geojson-table":if(te.schema){const Ur=Yt||{};for(let ri=0;ri<te.schema.fields.length;ri++)Ur[te.schema.fields[ri].name]=te.features[ze][ri];return Ur}throw new Error("no schema");case"columnar-table":if(te.schema){const Ur=Yt||{};for(let ri=0;ri<te.schema.fields.length;ri++)Ur[te.schema.fields[ri].name]=te.data[te.schema.fields[ri].name][ze];return Ur}{const Ur=Yt||{};for(const[ri,Ri]of Object.entries(te.data))Ur[ri]=Ri[ze];return Ur}case"arrow-table":const Kn=te.data,sr=Yt||{},Pr=Kn.get(ze),Sr=Kn.schema;for(let Ur=0;Ur<Sr.fields.length;Ur++)sr[Sr.fields[Ur].name]=Pr?.[Sr.fields[Ur].name];return sr;default:throw new Error("shape")}}function bt(te,ze,Yt,An){switch(te.shape){case"array-row-table":return An?Array.from(te.data[ze]):te.data[ze];case"object-row-table":if(te.schema){const Ur=Yt||[];for(let ri=0;ri<te.schema.fields.length;ri++)Ur[ri]=te.data[ze][te.schema.fields[ri].name];return Ur}return Object.values(te.data[ze]);case"geojson-table":if(te.schema){const Ur=Yt||[];for(let ri=0;ri<te.schema.fields.length;ri++)Ur[ri]=te.features[ze][te.schema.fields[ri].name];return Ur}return Object.values(te.features[ze]);case"columnar-table":if(te.schema){const Ur=Yt||[];for(let ri=0;ri<te.schema.fields.length;ri++)Ur[ri]=te.data[te.schema.fields[ri].name][ze];return Ur}{const Ur=Yt||[];let ri=0;for(const Ri of Object.values(te.data))Ur[ri]=Ri[ze],ri++;return Ur}case"arrow-table":const Kn=te.data,sr=Yt||[],Pr=Kn.get(ze),Sr=Kn.schema;for(let Ur=0;Ur<Sr.fields.length;Ur++)sr[Ur]=Pr?.[Sr.fields[Ur].name];return sr;default:throw new Error("shape")}}function*Dt(te,ze){switch(ze){case"array-row-table":yield*Le(te);break;case"object-row-table":yield*Ae(te);break;default:throw new Error(`Unknown row type ${ze}`)}}function*Le(te,ze=[]){const Yt=St(te);for(let An=0;An<Yt;An++)yield bt(te,An,ze)}function*Ae(te,ze={}){const Yt=St(te);for(let An=0;An<Yt;An++)yield ut(te,An,ze)}(te=>{((te,ze,Yt)=>{"ArrowBatch"in te?u(te,"ArrowBatch",{enumerable:!0,configurable:!0,writable:!0,value:Yt}):te.ArrowBatch=Yt})(te,0,void 0)})(lt);var se=class{name;type;nullable;metadata;constructor(te,ze,Yt=!1,An=new Map){this.name=te,this.type=ze,this.nullable=Yt,this.metadata=An}get typeId(){return this.type&&this.type.typeId}clone(){return new se(this.name,this.type,this.nullable,this.metadata)}compareTo(te){return this.name===te.name&&this.type===te.type&&this.nullable===te.nullable&&this.metadata===te.metadata}toString(){return`${JSON.stringify(this.type)}${this.nullable?", nullable":""}${this.metadata?`, metadata: ${JSON.stringify(this.metadata)}`:""}`}},Me=class{fields;metadata;constructor(te,ze=new Map){this.fields=te.map(Yt=>new se(Yt.name,Yt.type,Yt.nullable,Yt.metadata)),this.metadata=ze instanceof Map?ze:new Map(Object.entries(ze))}compareTo(te){if(this.metadata!==te.metadata||this.fields.length!==te.fields.length)return!1;for(let ze=0;ze<this.fields.length;++ze)if(!this.fields[ze].compareTo(te.fields[ze]))return!1;return!0}select(...te){const ze=Object.create(null);for(const An of te)ze[An]=!0;const Yt=this.fields.filter(An=>ze[An.name]);return new Me(Yt,this.metadata)}selectAt(...te){const ze=te.map(Yt=>this.fields[Yt]).filter(Boolean);return new Me(ze,this.metadata)}assign(te){let ze,Yt=this.metadata;if(te instanceof Me){const sr=te;ze=sr.fields,Yt=Ee(Ee(new Map,this.metadata),sr.metadata)}else ze=te;const An=Object.create(null);for(const sr of this.fields)An[sr.name]=sr;for(const sr of ze)An[sr.name]=sr;const Kn=Object.values(An);return new Me(Kn,Yt)}};function Ee(te,ze){return new Map([...te||new Map,...ze||new Map])}function C(te){switch(te.shape){case"array-row-table":case"object-row-table":return function J(te){if(!te.length)throw new Error("deduce from empty table");const ze=[],Yt=te[0];for(const[An,Kn]of Object.entries(Yt))ze.push(ne(Kn,An));return{fields:ze,metadata:{}}}(te.data);case"geojson-table":return function W(te){if(!te.length)throw new Error("deduce from empty table");const ze=[],Yt=te[0].properties||{};for(const[An,Kn]of Object.entries(Yt))ze.push(ne(Kn,An));return{fields:ze,metadata:{}}}(te.features);case"columnar-table":return function T(te){const ze=[];for(const[Yt,An]of Object.entries(te)){const Kn=ve(An,Yt);ze.push(Kn)}return{fields:ze,metadata:{}}}(te.data);default:throw new Error("Deduce schema")}}function ve(te,ze){if(ArrayBuffer.isView(te)){const Yt=A(te);return{name:ze,type:Yt.type||"null",nullable:Yt.nullable}}if(Array.isArray(te)&&te.length>0)return{name:ze,type:M(te[0]),nullable:!0};throw new Error("empty table")}function ne(te,ze){return{name:ze,type:M(te),nullable:!0}}var p=class{table;columnName;constructor(te,ze){this.table=te,this.columnName=ze}get(te){return G(this.table,te,this.columnName)}toArray(){var te;switch(this.table.shape){case"arrow-table":return null==(te=this.table.data.getChild(this.columnName))?void 0:te.toArray();case"columnar-table":return this.table.data[this.columnName];default:throw new Error(this.table.shape)}}},H=class{schema;table;constructor(te){const ze=te.schema||C(te);this.schema=new Me(ze.fields,ze.metadata),this.table={...te,schema:ze}}get data(){return"geojson-table"===this.table.shape?this.table.features:this.table.data}get numCols(){return Rn(this.table)}get length(){return St(this.table)}getChild(te){return new p(this.table,te)}};function B(te){let ze;switch(function Ie(te){if(Array.isArray(te)){if(0===te.length)throw new Error("cannot deduce type of empty table");const ze=te[0];if(Array.isArray(ze))return"array-row-table";if(ze&&"object"==typeof ze)return"object-row-table"}if(te&&"object"==typeof te)return"columnar-table";throw new Error("invalid table")}(te)){case"array-row-table":ze={shape:"array-row-table",data:te};break;case"object-row-table":ze={shape:"object-row-table",data:te};break;case"columnar-table":ze={shape:"columnar-table",data:te};break;default:throw new Error("table")}const Yt=C(ze);return{...ze,schema:Yt}}function $e(te){return{...te,length:St(te),batchType:"data"}}function ft(te){return kt.apply(this,arguments)}function kt(){return kt=r(function*(te){let ze,Yt,An,sr,Kn=null;var Ur,Pr=!1,Sr=!1;try{for(var Ri,ri=y(te);Pr=!(Ri=yield ri.next()).done;Pr=!1){const ji=Ri.value;switch(Kn=Kn||ji.shape,sr=sr||ji.schema,ji.shape){case"array-row-table":ze=ze||[];for(let $i=0;$i<St(ji);$i++)ze.push(ji.data[$i]);break;case"object-row-table":Yt=Yt||[];for(let $i=0;$i<St(ji);$i++)Yt.push(ji.data[$i]);break;case"geojson-table":An=An||[];for(let $i=0;$i<St(ji);$i++)An.push(ji.features[$i]);break;default:throw new Error("shape")}}}catch(ji){Sr=!0,Ur=ji}finally{try{Pr&&null!=ri.return&&(yield ri.return())}finally{if(Sr)throw Ur}}if(!Kn)return null;switch(Kn){case"array-row-table":return{shape:"array-row-table",data:ze,schema:sr};case"object-row-table":return{shape:"object-row-table",data:Yt,schema:sr};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:An,schema:sr};default:return null}}),kt.apply(this,arguments)}function jt(te,ze){return new(z(te.type,te.nullable))(ze)}function Ye(te,ze){switch(ze){case"object-row-table":return function wt(te){if("object-row-table"===te.shape)return te;const ze=St(te),Yt=new Array(ze);for(let An=0;An<ze;An++)Yt[An]=ut(te,An);return{shape:"object-row-table",schema:te.schema,data:Yt}}(te);case"array-row-table":return function Ke(te){if("array-row-table"===te.shape)return te;const ze=St(te),Yt=new Array(ze);for(let An=0;An<ze;An++)Yt[An]=bt(te,An);return{shape:"array-row-table",schema:te.schema,data:Yt}}(te);case"columnar-table":return function It(te){var ze;const Yt=te.schema||C(te),An=(null==(ze=te.schema)?void 0:ze.fields)||[];if("columnar-table"===te.shape)return{...te,schema:Yt};const Kn=St(te),sr={};for(const Pr of An){const Sr=jt(Pr,Kn);sr[Pr.name]=Sr;for(let Ur=0;Ur<Kn;Ur++)Sr[Ur]=G(te,Ur,Pr.name)}return{shape:"columnar-table",schema:Yt,data:sr}}(te);case"arrow-table":return function ct(te){var ze;const Yt=null==(ze=globalThis.__loaders)?void 0:ze._makeArrowTable;if(!Yt)throw new Error("");return Yt(te)}(te);default:throw new Error(ze)}}function rt(te){let ze=0;for(const Yt in te){const An=te[Yt];ArrayBuffer.isView(An)&&(ze+=An.byteLength*An.BYTES_PER_ELEMENT)}return ze}function Ct(te){let ze=1/0,Yt=1/0,An=1/0,Kn=-1/0,sr=-1/0,Pr=-1/0;const Sr=te.POSITION?te.POSITION.value:[],Ur=Sr&&Sr.length;for(let ri=0;ri<Ur;ri+=3){const Ri=Sr[ri],ji=Sr[ri+1],$i=Sr[ri+2];ze=Ri<ze?Ri:ze,Yt=ji<Yt?ji:Yt,An=$i<An?$i:An,Kn=Ri>Kn?Ri:Kn,sr=ji>sr?ji:sr,Pr=$i>Pr?$i:Pr}return[[ze,Yt,An],[Kn,sr,Pr]]}function mt(te,ze={}){return{fields:at(te),metadata:ze}}function Vt(te,ze,Yt){const An=ue(ze.value),Kn=Yt||We(ze);return{name:te,type:{type:"fixed-size-list",listSize:ze.size,children:[{name:"value",type:An}]},nullable:!1,metadata:Kn}}function at(te){const ze=[];for(const Yt in te)ze.push(Vt(Yt,te[Yt]));return ze}function We(te){const ze={};return"byteOffset"in te&&(ze.byteOffset=te.byteOffset.toString(10)),"byteStride"in te&&(ze.byteStride=te.byteStride.toString(10)),"normalized"in te&&(ze.normalized=te.normalized.toString()),ze}var ke=function(te){return te[te.NONE=0]="NONE",te[te.Null=1]="Null",te[te.Int=2]="Int",te[te.Float=3]="Float",te[te.Binary=4]="Binary",te[te.Utf8=5]="Utf8",te[te.Bool=6]="Bool",te[te.Decimal=7]="Decimal",te[te.Date=8]="Date",te[te.Time=9]="Time",te[te.Timestamp=10]="Timestamp",te[te.Interval=11]="Interval",te[te.List=12]="List",te[te.Struct=13]="Struct",te[te.Union=14]="Union",te[te.FixedSizeBinary=15]="FixedSizeBinary",te[te.FixedSizeList=16]="FixedSizeList",te[te.Map=17]="Map",te[te.Dictionary=-1]="Dictionary",te[te.Int8=-2]="Int8",te[te.Int16=-3]="Int16",te[te.Int32=-4]="Int32",te[te.Int64=-5]="Int64",te[te.Uint8=-6]="Uint8",te[te.Uint16=-7]="Uint16",te[te.Uint32=-8]="Uint32",te[te.Uint64=-9]="Uint64",te[te.Float16=-10]="Float16",te[te.Float32=-11]="Float32",te[te.Float64=-12]="Float64",te[te.DateDay=-13]="DateDay",te[te.DateMillisecond=-14]="DateMillisecond",te[te.TimestampSecond=-15]="TimestampSecond",te[te.TimestampMillisecond=-16]="TimestampMillisecond",te[te.TimestampMicrosecond=-17]="TimestampMicrosecond",te[te.TimestampNanosecond=-18]="TimestampNanosecond",te[te.TimeSecond=-19]="TimeSecond",te[te.TimeMillisecond=-20]="TimeMillisecond",te[te.TimeMicrosecond=-21]="TimeMicrosecond",te[te.TimeNanosecond=-22]="TimeNanosecond",te[te.DenseUnion=-23]="DenseUnion",te[te.SparseUnion=-24]="SparseUnion",te[te.IntervalDayTime=-25]="IntervalDayTime",te[te.IntervalYearMonth=-26]="IntervalYearMonth",te}(ke||{}),et=class{static isNull(te){return te&&te.typeId===ke.Null}static isInt(te){return te&&te.typeId===ke.Int}static isFloat(te){return te&&te.typeId===ke.Float}static isBinary(te){return te&&te.typeId===ke.Binary}static isUtf8(te){return te&&te.typeId===ke.Utf8}static isBool(te){return te&&te.typeId===ke.Bool}static isDecimal(te){return te&&te.typeId===ke.Decimal}static isDate(te){return te&&te.typeId===ke.Date}static isTime(te){return te&&te.typeId===ke.Time}static isTimestamp(te){return te&&te.typeId===ke.Timestamp}static isInterval(te){return te&&te.typeId===ke.Interval}static isList(te){return te&&te.typeId===ke.List}static isStruct(te){return te&&te.typeId===ke.Struct}static isUnion(te){return te&&te.typeId===ke.Union}static isFixedSizeBinary(te){return te&&te.typeId===ke.FixedSizeBinary}static isFixedSizeList(te){return te&&te.typeId===ke.FixedSizeList}static isMap(te){return te&&te.typeId===ke.Map}static isDictionary(te){return te&&te.typeId===ke.Dictionary}get typeId(){return ke.NONE}compareTo(te){return this===te}},xt=class extends et{get typeId(){return ke.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}},Zt=class extends et{get typeId(){return ke.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}},vn=class extends et{isSigned;bitWidth;constructor(te,ze){super(),this.isSigned=te,this.bitWidth=ze}get typeId(){return ke.Int}get[Symbol.toStringTag](){return"Int"}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}},kn=class extends vn{constructor(){super(!0,8)}},tr=class extends vn{constructor(){super(!0,16)}},dn=class extends vn{constructor(){super(!0,32)}},nn=class extends vn{constructor(){super(!0,64)}},Ht=class extends vn{constructor(){super(!1,8)}},Xt=class extends vn{constructor(){super(!1,16)}},Nn=class extends vn{constructor(){super(!1,32)}},Ot=class extends vn{constructor(){super(!1,64)}},Bn=class extends et{precision;constructor(te){super(),this.precision=te}get typeId(){return ke.Float}get[Symbol.toStringTag](){return"Float"}toString(){return`Float${this.precision}`}},Pn=class extends Bn{constructor(){super(16)}},Dn=class extends Bn{constructor(){super(32)}},tn=class extends Bn{constructor(){super(64)}},bn=class extends et{constructor(){super()}get typeId(){return ke.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}},yt=class extends et{get typeId(){return ke.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}},_e={DAY:0,MILLISECOND:1},he=class extends et{unit;constructor(te){super(),this.unit=te}get typeId(){return ke.Date}get[Symbol.toStringTag](){return"Date"}toString(){return`Date${32*(this.unit+1)}<${_e[this.unit]}>`}},Be=class extends he{constructor(){super(_e.DAY)}},ht=class extends he{constructor(){super(_e.MILLISECOND)}},zt={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9},on=class extends et{unit;bitWidth;constructor(te,ze){super(),this.unit=te,this.bitWidth=ze}get typeId(){return ke.Time}toString(){return`Time${this.bitWidth}<${zt[this.unit]}>`}get[Symbol.toStringTag](){return"Time"}},Hn=class extends on{constructor(){super(zt.SECOND,32)}},Ar=class extends on{constructor(){super(zt.MILLISECOND,32)}},Ir=class extends et{unit;timezone;constructor(te,ze=null){super(),this.unit=te,this.timezone=ze}get typeId(){return ke.Timestamp}get[Symbol.toStringTag](){return"Timestamp"}toString(){return`Timestamp<${zt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}},ti=class extends Ir{constructor(te=null){super(zt.SECOND,te)}},Yr=class extends Ir{constructor(te=null){super(zt.MILLISECOND,te)}},Ki=class extends Ir{constructor(te=null){super(zt.MICROSECOND,te)}},mi=class extends Ir{constructor(te=null){super(zt.NANOSECOND,te)}},er={DAY_TIME:0,YEAR_MONTH:1},ur=class extends et{unit;constructor(te){super(),this.unit=te}get typeId(){return ke.Interval}get[Symbol.toStringTag](){return"Interval"}toString(){return`Interval<${er[this.unit]}>`}},Ei=class extends ur{constructor(){super(er.DAY_TIME)}},Ni=class extends ur{constructor(){super(er.YEAR_MONTH)}},rn=class extends et{listSize;children;constructor(te,ze){super(),this.listSize=te,this.children=[ze]}get typeId(){return ke.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Symbol.toStringTag](){return"FixedSizeList"}toString(){return`FixedSizeList[${this.listSize}]<${JSON.stringify(this.valueType)}>`}},En=class extends et{children;constructor(te){super(),this.children=te}get typeId(){return ke.Struct}toString(){return`Struct<{${this.children.map(te=>`${te.name}:${JSON.stringify(te.type)}`).join(", ")}}>`}get[Symbol.toStringTag](){return"Struct"}};function ar(te){return{typeId:te.typeId,ArrayType:te.ArrayType,typeName:te.toString(),typeEnumName:Hr(te.typeId),precision:te.precision}}var Er=null;function Hr(te){if(!Er){Er={};for(const ze in ke)Er[ke[ze]]=ze}return Er[te]}var vr=class extends Array{enqueue(te){return this.push(te)}dequeue(){return this.shift()}},Mt=class{_values;_settlers;_closed;constructor(){this._values=new vr,this._settlers=new vr,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(te){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const ze=this._settlers.dequeue();te instanceof Error?ze.reject(te):ze.resolve({value:te})}else this._values.enqueue(te)}next(){if(this._values.length>0){const te=this._values.dequeue();return te instanceof Error?Promise.reject(te):Promise.resolve({value:te})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((te,ze)=>{this._settlers.enqueue({resolve:te,reject:ze})})}}},74389:(ln,ye,w)=>{"use strict";var zn,r=w(31049).default,y=Object.defineProperty,u=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,S={};((zn,Wn)=>{for(var Nr in Wn)y(zn,Nr,{get:Wn[Nr],enumerable:!0})})(S,{BASIS_EXTERNAL_LIBRARIES:()=>M,BasisLoader:()=>ve,BasisWorkerLoader:()=>W,CRUNCH_EXTERNAL_LIBRARIES:()=>Yr,CompressedTextureLoader:()=>Dn,CompressedTextureWorkerLoader:()=>Pn,CompressedTextureWriter:()=>ur,CrunchLoader:()=>tn,CrunchWorkerLoader:()=>tn,GL_EXTENSIONS_CONSTANTS:()=>$,KTX2BasisWriter:()=>rn,KTX2BasisWriterWorker:()=>Ns,NPYLoader:()=>Ar,NPYWorkerLoader:()=>Hn,getSupportedGPUTextureFormats:()=>lt,loadImageTexture:()=>ji,loadImageTextureArray:()=>At,loadImageTextureCube:()=>ps,selectSupportedBasisFormat:()=>J}),ln.exports=(zn=S,((zn,Wn,Nr,li)=>{if(Wn&&"object"==typeof Wn||"function"==typeof Wn)for(let hi of v(Wn))!x.call(zn,hi)&&undefined!==hi&&y(zn,hi,{get:()=>Wn[hi],enumerable:!(li=u(Wn,hi))||li.enumerable});return zn})(y({},"__esModule",{value:!0}),zn));var A,Re,U="4.3.1",O=w(28690),b=w(13827),M={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};function ue(zn){return z.apply(this,arguments)}function z(){return z=r(function*(zn){return(0,O.registerJSModules)(zn.modules),(0,O.getJSModuleOrNull)("basis")||(A||=function X(zn){return re.apply(this,arguments)}(zn),yield A)}),z.apply(this,arguments)}function re(){return re=r(function*(zn){let Wn=null,Nr=null;return[Wn,Nr]=yield Promise.all([yield(0,b.loadLibrary)(M.TRANSCODER,"textures",zn),yield(0,b.loadLibrary)(M.TRANSCODER_WASM,"textures",zn)]),Wn=Wn||globalThis.BASIS,yield function Z(zn,Wn){const Nr={};return Wn&&(Nr.wasmBinary=Wn),new Promise(li=>{zn(Nr).then(hi=>{const{BasisFile:ni,initializeBasis:Hi}=hi;Hi(),li({BasisFile:ni})})})}(Wn,Nr)}),re.apply(this,arguments)}function oe(zn){return Ce.apply(this,arguments)}function Ce(){return Ce=r(function*(zn){const Wn=zn.modules||{};return Wn.basisEncoder?Wn.basisEncoder:(Re=Re||function K(zn){return R.apply(this,arguments)}(zn),yield Re)}),Ce.apply(this,arguments)}function R(){return R=r(function*(zn){let Wn=null,Nr=null;return[Wn,Nr]=yield Promise.all([yield(0,b.loadLibrary)(M.ENCODER,"textures",zn),yield(0,b.loadLibrary)(M.ENCODER_WASM,"textures",zn)]),Wn=Wn||globalThis.BASIS,yield function ce(zn,Wn){const Nr={};return Wn&&(Nr.wasmBinary=Wn),new Promise(li=>{zn(Nr).then(hi=>{const{BasisFile:ni,KTX2File:Hi,initializeBasis:oo,BasisEncoder:Eo}=hi;oo(),li({BasisFile:ni,KTX2File:Hi,BasisEncoder:Eo})})})}(Wn,Nr)}),R.apply(this,arguments)}var $={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},Fe=["","WEBKIT_","MOZ_"],je={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Ve=null;function lt(zn){if(!Ve){zn=zn||function pt(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,Ve=new Set;for(const Wn of Fe)for(const Nr in je)zn&&zn.getExtension(`${Wn}${Nr}`)&&Ve.add(je[Nr])}return Ve}var St=w(54167);function Rn(zn,Wn){const Nr=new Array(Wn.mipMapLevels);let li=Wn.width,hi=Wn.height,ni=0;for(let Hi=0;Hi<Wn.mipMapLevels;++Hi){const oo=ee(Wn,li,hi,zn,Hi),Eo=G(zn,Hi,ni,oo);Nr[Hi]={compressed:!0,format:Wn.internalFormat,data:Eo,width:li,height:hi,levelSize:oo},li=Math.max(1,li>>1),hi=Math.max(1,hi>>1),ni+=oo}return Nr}function G(zn,Wn,Nr,li){return Array.isArray(zn)?zn[Wn].levelData:new Uint8Array(zn.buffer,zn.byteOffset+Nr,li)}function ee(zn,Wn,Nr,li,hi){return Array.isArray(li)?zn.sizeFunction(li[hi]):zn.sizeFunction(Wn,Nr)}var De={131:$.COMPRESSED_RGB_S3TC_DXT1_EXT,132:$.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:$.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:$.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:$.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:$.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:$.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:$.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:$.COMPRESSED_RED_RGTC1_EXT,140:$.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:$.COMPRESSED_RED_GREEN_RGTC2_EXT,142:$.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:$.COMPRESSED_RGB8_ETC2,148:$.COMPRESSED_SRGB8_ETC2,149:$.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:$.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:$.COMPRESSED_RGBA8_ETC2_EAC,152:$.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:$.COMPRESSED_R11_EAC,154:$.COMPRESSED_SIGNED_R11_EAC,155:$.COMPRESSED_RG11_EAC,156:$.COMPRESSED_SIGNED_RG11_EAC,157:$.COMPRESSED_RGBA_ASTC_4x4_KHR,158:$.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:$.COMPRESSED_RGBA_ASTC_5x4_KHR,160:$.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:$.COMPRESSED_RGBA_ASTC_5x5_KHR,162:$.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:$.COMPRESSED_RGBA_ASTC_6x5_KHR,164:$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:$.COMPRESSED_RGBA_ASTC_6x6_KHR,166:$.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:$.COMPRESSED_RGBA_ASTC_8x5_KHR,168:$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:$.COMPRESSED_RGBA_ASTC_8x6_KHR,170:$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:$.COMPRESSED_RGBA_ASTC_8x8_KHR,172:$.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:$.COMPRESSED_RGBA_ASTC_10x5_KHR,174:$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:$.COMPRESSED_RGBA_ASTC_10x6_KHR,176:$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:$.COMPRESSED_RGBA_ASTC_10x8_KHR,178:$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:$.COMPRESSED_RGBA_ASTC_10x10_KHR,180:$.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:$.COMPRESSED_RGBA_ASTC_12x10_KHR,182:$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:$.COMPRESSED_RGBA_ASTC_12x12_KHR,184:$.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:$.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:$.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:$.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:$.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:$.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:$.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:$.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:$.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:$.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:$.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:$.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:$.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:$.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:$.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:$.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:$.COMPRESSED_RGBA_ASTC_12x12_KHR},Ze=[171,75,84,88,32,50,48,187,13,10,26,10];function ut(zn){const Wn=new Uint8Array(zn);return!(Wn.byteLength<Ze.length||Wn[0]!==Ze[0]||Wn[1]!==Ze[1]||Wn[2]!==Ze[2]||Wn[3]!==Ze[3]||Wn[4]!==Ze[4]||Wn[5]!==Ze[5]||Wn[6]!==Ze[6]||Wn[7]!==Ze[7]||Wn[8]!==Ze[8]||Wn[9]!==Ze[9]||Wn[10]!==Ze[10]||Wn[11]!==Ze[11])}var Dt={etc1:{basisFormat:0,compressed:!0,format:$.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:$.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:$.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:$.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:$.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:$.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function Le(zn,Wn){return Ae.apply(this,arguments)}function Ae(){return Ae=r(function*(zn,Wn){if("auto"===Wn.basis.containerFormat){if(ut(zn))return Ee((yield oe(Wn)).KTX2File,zn,Wn);const{BasisFile:Nr}=yield ue(Wn);return se(Nr,zn,Wn)}if("encoder"===Wn.basis.module){const Nr=yield oe(Wn);return"ktx2"===Wn.basis.containerFormat?Ee(Nr.KTX2File,zn,Wn):se(Nr.BasisFile,zn,Wn)}{const{BasisFile:li}=yield ue(Wn);return se(li,zn,Wn)}}),Ae.apply(this,arguments)}function se(zn,Wn,Nr){const li=new zn(new Uint8Array(Wn));try{if(!li.startTranscoding())throw new Error("Failed to start basis transcoding");const hi=li.getNumImages(),ni=[];for(let Hi=0;Hi<hi;Hi++){const oo=li.getNumLevels(Hi),Eo=[];for(let Ui=0;Ui<oo;Ui++)Eo.push(Me(li,Hi,Ui,Nr));ni.push(Eo)}return ni}finally{li.close(),li.delete()}}function Me(zn,Wn,Nr,li){const hi=zn.getImageWidth(Wn,Nr),ni=zn.getImageHeight(Wn,Nr),Hi=zn.getHasAlpha(),{compressed:oo,format:Eo,basisFormat:Ui}=T(li,Hi),os=zn.getImageTranscodedSizeInBytes(Wn,Nr,Ui),es=new Uint8Array(os);if(!zn.transcodeImage(es,Wn,Nr,Ui,0,0))throw new Error("failed to start Basis transcoding");return{width:hi,height:ni,data:es,compressed:oo,format:Eo,hasAlpha:Hi}}function Ee(zn,Wn,Nr){const li=new zn(new Uint8Array(Wn));try{if(!li.startTranscoding())throw new Error("failed to start KTX2 transcoding");const hi=li.getLevels(),ni=[];for(let Hi=0;Hi<hi;Hi++)ni.push(C(li,Hi,Nr));return[ni]}finally{li.close(),li.delete()}}function C(zn,Wn,Nr){const{alphaFlag:li,height:hi,width:ni}=zn.getImageLevelInfo(Wn,0,0),{compressed:Hi,format:oo,basisFormat:Eo}=T(Nr,li),Ui=zn.getImageTranscodedSizeInBytes(Wn,0,0,Eo),os=new Uint8Array(Ui);if(!zn.transcodeImage(os,Wn,0,0,Eo,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:ni,height:hi,data:os,compressed:Hi,levelSize:Ui,hasAlpha:li,format:oo}}function T(zn,Wn){let Nr=zn&&zn.basis&&zn.basis.format;return"auto"===Nr&&(Nr=J()),"object"==typeof Nr&&(Nr=Wn?Nr.alpha:Nr.noAlpha),Nr=Nr.toLowerCase(),Dt[Nr]}function J(){const zn=lt();return zn.has("astc")?"astc-4x4":zn.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:zn.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:zn.has("etc1")?"etc1":zn.has("etc2")?"etc2":"rgb565"}var W={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:U,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},ve={...W,parse:Le},ne=w(28690),p={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},H={DXT1:$.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:$.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:$.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":$.COMPRESSED_RGB_ATC_WEBGL,ATCA:$.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:$.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},ft={DXT1:Ye,DXT3:ct,DXT5:ct,"ATC ":Ye,ATCA:ct,ATCI:ct};function Ye(zn,Wn){return(zn+3>>2)*(Wn+3>>2)*8}function ct(zn,Wn){return(zn+3>>2)*(Wn+3>>2)*16}var Ke_MAGIC_NUMBER=55727696,Ke_MAGIC_NUMBER_EXTRA=1347834371,Ke_HEADER_LENGTH=13,Ke_HEADER_SIZE=52,Ke_MAGIC_NUMBER_INDEX=0,Ke_PIXEL_FORMAT_INDEX=2,Ke_COLOUR_SPACE_INDEX=4,Ke_HEIGHT_INDEX=6,Ke_WIDTH_INDEX=7,Ke_MIPMAPCOUNT_INDEX=11,Ke_METADATA_SIZE_INDEX=12,wt={0:[$.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[$.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[$.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[$.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[$.COMPRESSED_RGB_ETC1_WEBGL],7:[$.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[$.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[$.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[$.COMPRESSED_RGB8_ETC2],23:[$.COMPRESSED_RGBA8_ETC2_EAC],24:[$.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[$.COMPRESSED_R11_EAC],26:[$.COMPRESSED_RG11_EAC],27:[$.COMPRESSED_RGBA_ASTC_4X4_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[$.COMPRESSED_RGBA_ASTC_5X4_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[$.COMPRESSED_RGBA_ASTC_5X5_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[$.COMPRESSED_RGBA_ASTC_6X5_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[$.COMPRESSED_RGBA_ASTC_6X6_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[$.COMPRESSED_RGBA_ASTC_8X5_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[$.COMPRESSED_RGBA_ASTC_8X6_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[$.COMPRESSED_RGBA_ASTC_8X8_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[$.COMPRESSED_RGBA_ASTC_10X5_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[$.COMPRESSED_RGBA_ASTC_10X6_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[$.COMPRESSED_RGBA_ASTC_10X8_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[$.COMPRESSED_RGBA_ASTC_10X10_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[$.COMPRESSED_RGBA_ASTC_12X10_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[$.COMPRESSED_RGBA_ASTC_12X12_KHR,$.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},rt={0:Vt,1:Vt,2:at,3:at,6:We,7:We,9:ke,11:ke,22:We,23:ke,24:We,25:We,26:ke,27:ke,28:function et(zn,Wn){return Math.floor((zn+4)/5)*Math.floor((Wn+3)/4)*16},29:function xt(zn,Wn){return Math.floor((zn+4)/5)*Math.floor((Wn+4)/5)*16},30:function Zt(zn,Wn){return Math.floor((zn+5)/6)*Math.floor((Wn+4)/5)*16},31:function vn(zn,Wn){return Math.floor((zn+5)/6)*Math.floor((Wn+5)/6)*16},32:function kn(zn,Wn){return Math.floor((zn+7)/8)*Math.floor((Wn+4)/5)*16},33:function tr(zn,Wn){return Math.floor((zn+7)/8)*Math.floor((Wn+5)/6)*16},34:function dn(zn,Wn){return Math.floor((zn+7)/8)*Math.floor((Wn+7)/8)*16},35:function nn(zn,Wn){return Math.floor((zn+9)/10)*Math.floor((Wn+4)/5)*16},36:function Ht(zn,Wn){return Math.floor((zn+9)/10)*Math.floor((Wn+5)/6)*16},37:function Xt(zn,Wn){return Math.floor((zn+9)/10)*Math.floor((Wn+7)/8)*16},38:function Nn(zn,Wn){return Math.floor((zn+9)/10)*Math.floor((Wn+9)/10)*16},39:function Ot(zn,Wn){return Math.floor((zn+11)/12)*Math.floor((Wn+9)/10)*16},40:function Mn(zn,Wn){return Math.floor((zn+11)/12)*Math.floor((Wn+11)/12)*16}};function Vt(zn,Wn){return(zn=Math.max(zn,16))*(Wn=Math.max(Wn,8))/4}function at(zn,Wn){return(zn=Math.max(zn,8))*(Wn=Math.max(Wn,8))/2}function We(zn,Wn){return Math.floor((zn+3)/4)*Math.floor((Wn+3)/4)*8}function ke(zn,Wn){return Math.floor((zn+3)/4)*Math.floor((Wn+3)/4)*16}function Bn(zn){if(ut(zn))return function bt(zn){const Wn=new Uint8Array(zn),Nr=(0,St.read)(Wn),li=Math.max(1,Nr.levels.length),hi=Nr.pixelWidth,ni=Nr.pixelHeight,Hi=function Ge(zn){return De[zn]}(Nr.vkFormat);return Rn(Nr.levels,{mipMapLevels:li,width:hi,height:ni,sizeFunction:oo=>oo.uncompressedByteLength,internalFormat:Hi})}(zn);if(function kt(zn){return new Uint32Array(zn,0,p.HEADER_LENGTH)[p.MAGIC_NUMBER_INDEX]===p.MAGIC_NUMBER}(zn))return function jt(zn){const Wn=new Int32Array(zn,0,p.HEADER_LENGTH),Nr=Wn[p.HEADER_PF_FOURCC_INDEX];(0,ne.assert)(!!(Wn[p.HEADER_PF_FLAGS_INDEX]&p.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const li=function It(zn){return String.fromCharCode(255&zn,zn>>8&255,zn>>16&255,zn>>24&255)}(Nr),hi=H[li],ni=ft[li];(0,ne.assert)(hi&&ni,`DDS: Unknown pixel format ${Nr}`);let Hi=1;Wn[p.HEADER_FLAGS_INDEX]&p.DDSD_MIPMAPCOUNT&&(Hi=Math.max(1,Wn[p.MIPMAPCOUNT_INDEX]));const oo=Wn[p.HEADER_WIDTH_INDEX],Eo=Wn[p.HEADER_HEIGHT_INDEX];return Rn(new Uint8Array(zn,Wn[p.HEADER_SIZE_INDEX]+4),{mipMapLevels:Hi,width:oo,height:Eo,sizeFunction:ni,internalFormat:hi})}(zn);if(function Ct(zn){const Nr=new Uint32Array(zn,0,Ke_HEADER_LENGTH)[Ke_MAGIC_NUMBER_INDEX];return Nr===Ke_MAGIC_NUMBER||Nr===Ke_MAGIC_NUMBER_EXTRA}(zn))return function mt(zn){const Wn=new Uint32Array(zn,0,Ke_HEADER_LENGTH),Nr=Wn[Ke_PIXEL_FORMAT_INDEX],hi=wt[Nr]||[],ni=hi.length>1&&Wn[Ke_COLOUR_SPACE_INDEX]?hi[1]:hi[0],Hi=rt[Nr],oo=Wn[Ke_MIPMAPCOUNT_INDEX],Eo=Wn[Ke_WIDTH_INDEX],Ui=Wn[Ke_HEIGHT_INDEX];return Rn(new Uint8Array(zn,Ke_HEADER_SIZE+Wn[Ke_METADATA_SIZE_INDEX]),{mipMapLevels:oo,width:Eo,height:Ui,sizeFunction:Hi,internalFormat:ni})}(zn);throw new Error("Texture container format not recognized")}var Pn={dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:U,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},Dn={...Pn,parse:function(){var zn=r(function*(Wn,Nr){var li;return null!=(li=Nr?.["compressed-texture"])&&li.useBasis?(Nr.basis={format:{alpha:"BC3",noAlpha:"BC1"},...Nr.basis,containerFormat:"ktx2",module:"encoder"},(yield Le(Wn,Nr))[0]):Bn(Wn)});return function(Nr,li){return zn.apply(this,arguments)}}()},tn={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:U,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}},bn=new Uint32Array([305419896]),he=18!==new Uint8Array(bn.buffer,bn.byteOffset,bn.byteLength)[0],Be={u1:Uint8Array,i1:Int8Array,u2:Uint16Array,i2:Int16Array,u4:Uint32Array,i4:Int32Array,f4:Float32Array,f8:Float64Array};function ht(zn,Wn){var Nr;const li=new DataView(zn),{header:hi,headerEndOffset:ni}=function zt(zn){const Wn=zn.getUint8(6);let li,Nr=8;Wn>=2?(li=zn.getUint32(Nr,!0),Nr+=4):(li=zn.getUint16(Nr,!0),Nr+=2);const ni=new TextDecoder(Wn<=2?"latin1":"utf-8"),Hi=new Uint8Array(zn.buffer,Nr,li),oo=ni.decode(Hi);return Nr+=li,{header:JSON.parse(oo.replace(/'/g,'"').replace("False","false").replace("(","[").replace(/,*\),*/g,"]")),headerEndOffset:Nr}}(li),Hi=hi.descr,oo=Be[Hi.slice(1,3)];if(!oo)throw new Error(`Unimplemented type ${Hi}`);const Ui=(null==(Nr=hi.shape)?void 0:Nr.reduce((es,rs)=>es*rs))*oo.BYTES_PER_ELEMENT;if(zn.byteLength<ni+Ui)throw new Error("Buffer overflow");const os=new oo(zn.slice(ni,ni+Ui));if(">"===Hi[0]&&he||"<"===Hi[0]&&!he)throw new Error("Incorrect endianness");return{data:os,header:hi}}var Hn={dataType:null,batchType:null,name:"NPY",id:"npy",module:"textures",version:U,worker:!0,extensions:["npy"],mimeTypes:[],tests:[new Uint8Array([147,78,85,77,80,89]).buffer],options:{npy:{}}},Ar={...Hn,parseSync:ht,parse:function(){var zn=r(function*(Wn,Nr){return ht(Wn)});return function(Nr,li){return zn.apply(this,arguments)}}()},Yr=(w(28690),w(13827),{DECODER:"crunch.js"}),Ki=w(13827);function er(){return er=r(function*(zn,Wn,Nr){const li=["texture-compressor","--type","s3tc","--compression","DXT1","--quality","normal","--input",zn,"--output",Wn];return yield(new Ki.ChildProcessProxy).start({command:"npx",arguments:li,spawn:Nr}),Wn}),er.apply(this,arguments)}var ur={name:"DDS Texture Container",id:"dds",module:"textures",version:U,extensions:["dds"],options:{texture:{format:"auto",compression:"auto",quality:"auto",mipmap:!1,flipY:!1,toolFlags:""}},encodeURLtoURL:function mi(zn,Wn,Nr){return er.apply(this,arguments)},encode(){throw new Error("Not implemented")}};function Ni(){return Ni=r(function*(zn,Wn={}){const{useSRGB:Nr=!1,qualityLevel:li=10,encodeUASTC:hi=!1,mipmaps:ni=!1}=Wn?.["ktx2-basis-writer"]||{},{BasisEncoder:Hi}=yield oe(Wn),oo=new Hi;try{const Eo=new Uint8Array(zn.width*zn.height*4);oo.setCreateKTX2File(!0),oo.setKTX2UASTCSupercompression(!0),oo.setKTX2SRGBTransferFunc(!0),oo.setSliceSourceImage(0,zn.data,zn.width,zn.height,!1),oo.setPerceptual(Nr),oo.setMipSRGB(Nr),oo.setQualityLevel(li),oo.setUASTC(hi),oo.setMipGen(ni);const Ui=oo.encode(Eo);return Eo.subarray(0,Ui).buffer}catch(Eo){throw console.error("Basis Universal Supercompressed GPU Texture encoder Error: ",Eo),Eo}finally{oo.delete()}}),Ni.apply(this,arguments)}var rn={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:U,extensions:["ktx2"],options:{"ktx2-basis-writer":{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}},encode:function Ei(zn){return Ni.apply(this,arguments)}},En=w(28690),ar=w(14315),Er=w(28690);function Hr(zn,Wn,Nr){let li="function"==typeof zn?zn({...Wn,...Nr}):zn;const hi=Wn.baseUrl;return hi&&(li="/"===hi[hi.length-1]?`${hi}${li}`:`${hi}/${li}`),(0,Er.resolvePath)(li)}var vr=zn=>zn&&"object"==typeof zn;function te(){return te=r(function*(zn,Wn,Nr={}){return yield ze(zn,Wn,Nr)}),te.apply(this,arguments)}function ze(zn,Wn,Nr){return Yt.apply(this,arguments)}function Yt(){return Yt=r(function*(zn,Wn,Nr){return Array.isArray(zn)?yield function sr(zn,Wn){return Pr.apply(this,arguments)}(zn,Wn,Nr):vr(zn)?yield function An(zn,Wn,Nr){return Kn.apply(this,arguments)}(zn,Wn,Nr):yield Wn(zn,Nr)}),Yt.apply(this,arguments)}function Kn(){return Kn=r(function*(zn,Wn,Nr){const li=[],hi={};for(const ni in zn){const oo=ze(zn[ni],Wn,Nr).then(Eo=>{hi[ni]=Eo});li.push(oo)}return yield Promise.all(li),hi}),Kn.apply(this,arguments)}function Pr(){return Pr=r(function*(zn,Wn,Nr={}){const li=zn.map(hi=>ze(hi,Wn,Nr));return yield Promise.all(li)}),Pr.apply(this,arguments)}function Sr(zn,Wn,Nr){return Ur.apply(this,arguments)}function Ur(){return Ur=r(function*(zn,Wn,Nr){return yield function Mt(zn,Wn){return te.apply(this,arguments)}(zn,li=>ri(li,Wn,Nr))}),Ur.apply(this,arguments)}function ri(zn,Wn,Nr){return Ri.apply(this,arguments)}function Ri(){return Ri=r(function*(zn,Wn,Nr){const hi=yield(yield fetch(zn,Nr.fetch)).arrayBuffer();return yield Wn(hi,Nr)}),Ri.apply(this,arguments)}function ji(zn){return $i.apply(this,arguments)}function $i(){return $i=r(function*(zn,Wn={}){const Nr=yield Yi(zn,Wn);return yield Sr(Nr,ar.ImageLoader.parse,Wn)}),$i.apply(this,arguments)}function Yi(zn,Wn){return no.apply(this,arguments)}function no(){return no=r(function*(zn,Wn,Nr={}){const li=Wn&&Wn.image&&Wn.image.mipLevels||0;return 0!==li?yield function yo(zn,Wn,Nr,li){return Fo.apply(this,arguments)}(zn,li,Wn,Nr):Hr(zn,Wn,Nr)}),no.apply(this,arguments)}function Fo(){return Fo=r(function*(zn,Wn,Nr,li){const hi=[];if("auto"===Wn){const ni=Hr(zn,Nr,{...li,lod:0}),Hi=yield ri(ni,ar.ImageLoader.parse,Nr),{width:oo,height:Eo}=(0,ar.getImageSize)(Hi);Wn=function $t(zn){return 1+Math.floor(Math.log2(Math.max(zn.width,zn.height)))}({width:oo,height:Eo}),hi.push(ni)}(0,En.assert)(Wn>0);for(let ni=hi.length;ni<Wn;++ni){const Hi=Hr(zn,Nr,{...li,lod:ni});hi.push(Hi)}return hi}),Fo.apply(this,arguments)}var Se=w(14315);function At(zn,Wn){return en.apply(this,arguments)}function en(){return en=r(function*(zn,Wn,Nr={}){const li=yield function Sn(zn,Wn){return ir.apply(this,arguments)}(zn,Wn,Nr);return yield Sr(li,Se.ImageLoader.parse,Nr)}),en.apply(this,arguments)}function ir(){return ir=r(function*(zn,Wn,Nr={}){const li=[];for(let hi=0;hi<zn;hi++){const ni=Yi(Wn,Nr,{index:hi});li.push(ni)}return yield Promise.all(li)}),ir.apply(this,arguments)}var Vr=w(14315),da=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function Lo(){return Lo=r(function*(zn,Wn){const Nr={},li=[];let hi=0;for(let ni=0;ni<da.length;++ni){const Hi=da[hi],oo=Yi(zn,Wn,{...Hi,index:hi++}).then(Eo=>{Nr[Hi.face]=Eo});li.push(oo)}return yield Promise.all(li),Nr}),Lo.apply(this,arguments)}function ps(zn){return Xo.apply(this,arguments)}function Xo(){return Xo=r(function*(zn,Wn={}){const Nr=yield function Os(zn,Wn){return Lo.apply(this,arguments)}(zn,Wn);return yield Sr(Nr,Vr.ImageLoader.parse,Wn)}),Xo.apply(this,arguments)}var Ns={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:U,extensions:["ktx2"],worker:!0,options:{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}}},13827:(ln,ye,w)=>{"use strict";var Ot,r=w(31049).default,y=w(57909).default,u=Object.create,v=Object.defineProperty,x=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,L=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,O=(Ot,Mn,Bn,Pn)=>{if(Mn&&"object"==typeof Mn||"function"==typeof Mn)for(let Dn of d(Mn))!F.call(Ot,Dn)&&Dn!==Bn&&v(Ot,Dn,{get:()=>Mn[Dn],enumerable:!(Pn=x(Mn,Dn))||Pn.enumerable});return Ot},b=(Ot,Mn,Bn)=>(Bn=null!=Ot?u(L(Ot)):{},O(!Mn&&Ot&&Ot.__esModule?Bn:v(Bn,"default",{value:Ot,enumerable:!0}),Ot)),ue={};((Ot,Mn)=>{for(var Bn in Mn)v(Ot,Bn,{get:Mn[Bn],enumerable:!0})})(ue,{AsyncQueue:()=>kt,ChildProcessProxy:()=>Xt,NullWorker:()=>Nn,WorkerBody:()=>W,WorkerFarm:()=>Ee,WorkerJob:()=>lt,WorkerPool:()=>Ae,WorkerThread:()=>Le,assert:()=>Z,canProcessOnWorker:()=>H,createWorker:()=>It,getLibraryUrl:()=>at,getTransferList:()=>Ze,getTransferListForWriter:()=>bt,getWorkerURL:()=>p,isBrowser:()=>ce,isWorker:()=>$,loadLibrary:()=>mt,processOnWorker:()=>B,validateWorkerVersion:()=>rt}),ln.exports=(Ot=ue,O(v({},"__esModule",{value:!0}),Ot));var z="latest",re=function X(){var Ot;return null!=(Ot=globalThis._loadersgl_)&&Ot.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.1"),globalThis._loadersgl_.version}();function Z(Ot,Mn){if(!Ot)throw new Error(Mn||"loaders.gl assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;var ce="object"!=typeof process||"[object process]"!==String(process)||process.browser,$="function"==typeof importScripts,Fe=typeof window<"u"&&typeof window.orientation<"u",je=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),lt=(je&&parseFloat(je[1]),class{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(Ot,Mn){this.name=Ot,this.workerThread=Mn,this.result=new Promise((Bn,Pn)=>{this._resolve=Bn,this._reject=Pn})}postMessage(Ot,Mn){this.workerThread.postMessage({source:"loaders.gl",type:Ot,payload:Mn})}done(Ot){Z(this.isRunning),this.isRunning=!1,this._resolve(Ot)}error(Ot){Z(this.isRunning),this.isRunning=!1,this._reject(Ot)}}),pt=class{terminate(){}},St=null,Rn=new Map;function De(Ot){const Mn=new Blob([Ot],{type:"application/javascript"});return URL.createObjectURL(Mn)}function Ze(Ot,Mn=!0,Bn){const Pn=Bn||new Set;if(Ot)if(ut(Ot))Pn.add(Ot);else if(ut(Ot.buffer))Pn.add(Ot.buffer);else if(!ArrayBuffer.isView(Ot)&&Mn&&"object"==typeof Ot)for(const Dn in Ot)Ze(Ot[Dn],Mn,Pn);return void 0===Bn?Array.from(Pn):[]}function ut(Ot){return!!Ot&&(Ot instanceof ArrayBuffer||typeof MessagePort<"u"&&Ot instanceof MessagePort||typeof ImageBitmap<"u"&&Ot instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&Ot instanceof OffscreenCanvas)}function bt(Ot){if(null===Ot)return{};const Mn=Object.assign({},Ot);return Object.keys(Mn).forEach(Bn=>{Mn[Bn]="object"!=typeof Ot[Bn]||ArrayBuffer.isView(Ot[Bn])||Ot[Bn]instanceof Array?"function"==typeof Mn[Bn]||Mn[Bn]instanceof RegExp?{}:Ot[Bn]:bt(Ot[Bn])}),Mn}var Dt=()=>{},Le=class{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&ce||typeof pt<"u"&&!ce}constructor(Ot){const{name:Mn,source:Bn,url:Pn}=Ot;Z(Bn||Pn),this.name=Mn,this.source=Bn,this.url=Pn,this.onMessage=Dt,this.onError=Dn=>console.log(Dn),this.worker=ce?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Dt,this.onError=Dt,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(Ot,Mn){Mn=Mn||Ze(Ot),this.worker.postMessage(Ot,Mn)}_getErrorFromErrorEvent(Ot){let Mn="Failed to load ";return Mn+=`worker ${this.name} from ${this.url}. `,Ot.message&&(Mn+=`${Ot.message} in `),Ot.lineno&&(Mn+=`:${Ot.lineno}:${Ot.colno}`),new Error(Mn)}_createBrowserWorker(){this._loadableURL=function G(Ot){Z(Ot.source&&!Ot.url||!Ot.source&&Ot.url);let Mn=Rn.get(Ot.source||Ot.url);return Mn||(Ot.url&&(Mn=function ee(Ot){if(!Ot.startsWith("http"))return Ot;const Mn=function Ge(Ot){return`try {\n  importScripts('${Ot}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`}(Ot);return De(Mn)}(Ot.url),Rn.set(Ot.url,Mn)),Ot.source&&(Mn=De(Ot.source),Rn.set(Ot.source,Mn))),Z(Mn),Mn}({source:this.source,url:this.url});const Ot=new Worker(this._loadableURL,{name:this.name});return Ot.onmessage=Mn=>{Mn.data?this.onMessage(Mn.data):this.onError(new Error("No data received"))},Ot.onerror=Mn=>{this.onError(this._getErrorFromErrorEvent(Mn)),this.terminated=!0},Ot.onmessageerror=Mn=>console.error(Mn),Ot}_createNodeWorker(){let Ot;if(this.url){const Bn=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;Ot=new pt(Bn,{eval:!1})}else{if(!this.source)throw new Error("no worker");Ot=new pt(this.source,{eval:!0})}return Ot.on("message",Mn=>{this.onMessage(Mn)}),Ot.on("error",Mn=>{this.onError(Mn)}),Ot.on("exit",Mn=>{}),Ot}},Ae=class{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return Le.isSupported()}constructor(Ot){this.source=Ot.source,this.url=Ot.url,this.setProps(Ot)}destroy(){this.idleQueue.forEach(Ot=>Ot.destroy()),this.isDestroyed=!0}setProps(Ot){this.props={...this.props,...Ot},void 0!==Ot.name&&(this.name=Ot.name),void 0!==Ot.maxConcurrency&&(this.maxConcurrency=Ot.maxConcurrency),void 0!==Ot.maxMobileConcurrency&&(this.maxMobileConcurrency=Ot.maxMobileConcurrency),void 0!==Ot.reuseWorkers&&(this.reuseWorkers=Ot.reuseWorkers),void 0!==Ot.onDebug&&(this.onDebug=Ot.onDebug)}startJob(Ot,Mn=(Pn,Dn,tn)=>Pn.done(tn),Bn=(Pn,Dn)=>Pn.error(Dn)){var Pn=this;return r(function*(){const Dn=new Promise(tn=>(Pn.jobQueue.push({name:Ot,onMessage:Mn,onError:Bn,onStart:tn}),Pn));return Pn._startQueuedJob(),yield Dn})()}_startQueuedJob(){var Ot=this;return r(function*(){if(!Ot.jobQueue.length)return;const Mn=Ot._getAvailableWorker();if(!Mn)return;const Bn=Ot.jobQueue.shift();if(Bn){Ot.onDebug({message:"Starting job",name:Bn.name,workerThread:Mn,backlog:Ot.jobQueue.length});const Pn=new lt(Bn.name,Mn);Mn.onMessage=Dn=>Bn.onMessage(Pn,Dn.type,Dn.payload),Mn.onError=Dn=>Bn.onError(Pn,Dn),Bn.onStart(Pn);try{yield Pn.result}catch(Dn){console.error(`Worker exception: ${Dn}`)}finally{Ot.returnWorkerToQueue(Mn)}}})()}returnWorkerToQueue(Ot){!ce||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Ot.destroy(),this.count--):this.idleQueue.push(Ot),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Ot=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new Le({name:Ot,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Fe?this.maxMobileConcurrency:this.maxConcurrency}},se={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Me=class{props;workerPools=new Map;static isSupported(){return Le.isSupported()}static getWorkerFarm(Ot={}){return Me._workerFarm=Me._workerFarm||new Me({}),Me._workerFarm.setProps(Ot),Me._workerFarm}constructor(Ot){this.props={...se},this.setProps(Ot),this.workerPools=new Map}destroy(){for(const Ot of this.workerPools.values())Ot.destroy();this.workerPools=new Map}setProps(Ot){this.props={...this.props,...Ot};for(const Mn of this.workerPools.values())Mn.setProps(this._getWorkerPoolProps())}getWorkerPool(Ot){const{name:Mn,source:Bn,url:Pn}=Ot;let Dn=this.workerPools.get(Mn);return Dn||(Dn=new Ae({name:Mn,source:Bn,url:Pn}),Dn.setProps(this._getWorkerPoolProps()),this.workerPools.set(Mn,Dn)),Dn}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}},Ee=Me;function C(){return T.apply(this,arguments)}function T(){return(T=r(function*(){return St})).apply(this,arguments)}(Ot=>{((Ot,Mn,Bn)=>{"_workerFarm"in Ot?v(Ot,"_workerFarm",{enumerable:!0,configurable:!0,writable:!0,value:Bn}):Ot._workerFarm=Bn})(Ot,0,void 0)})(Ee);var J=new Map,W=class{static inWorkerThread(){return r(function*(){return typeof self<"u"||!!(yield C())})()}static set onmessage(Ot){function Mn(Pn){return Bn.apply(this,arguments)}function Bn(){return(Bn=r(function*(Pn){const Dn=yield C(),{type:tn,payload:bn}=Dn?Pn:Pn.data;Ot(tn,bn)})).apply(this,arguments)}C().then(Pn=>{Pn?(Pn.on("message",Dn=>{Mn(Dn)}),Pn.on("exit",()=>console.debug("Node worker closing"))):globalThis.onmessage=Mn})}static addEventListener(Ot){return r(function*(){let Mn=J.get(Ot);Mn||(Mn=function(){var Pn=r(function*(Dn){if(!function ve(Ot){const{type:Mn,data:Bn}=Ot;return"message"===Mn&&Bn&&"string"==typeof Bn.source&&Bn.source.startsWith("loaders.gl")}(Dn))return;const tn=yield C(),{type:bn,payload:yt}=tn?Dn:Dn.data;Ot(bn,yt)});return function(tn){return Pn.apply(this,arguments)}}()),(yield C())?console.error("not implemented"):globalThis.addEventListener("message",Mn)})()}static removeEventListener(Ot){return r(function*(){const Mn=J.get(Ot);J.delete(Ot),(yield C())?console.error("not implemented"):globalThis.removeEventListener("message",Mn)})()}static postMessage(Ot,Mn){return r(function*(){const Bn={source:"loaders.gl",type:Ot,payload:Mn},Pn=Ze(Mn),Dn=yield C();Dn?Dn.postMessage(Bn,Pn):globalThis.postMessage(Bn,Pn)})()}};function p(Ot,Mn={}){const Pn=ce?`${Ot.id}-worker.js`:`${Ot.id}-worker-node.js`;let Dn=(Mn[Ot.id]||{}).workerUrl;if(!Dn&&"compression"===Ot.id&&(Dn=Mn.workerUrl),"test"===Mn._workerType&&(Dn=ce?`modules/${Ot.module}/dist/${Pn}`:`modules/${Ot.module}/src/workers/${Ot.id}-worker-node.ts`),!Dn){let tn=Ot.version;"latest"===tn&&(tn=z),Dn=`https://unpkg.com/@loaders.gl/${Ot.module}${tn?`@${tn}`:""}/dist/${Pn}`}return Z(Dn),Dn}function H(Ot,Mn){return!!Ee.isSupported()&&Ot.worker&&Mn?.worker}function B(Ot,Mn){return Ie.apply(this,arguments)}function Ie(){return Ie=r(function*(Ot,Mn,Bn={},Pn={}){const Dn=function ne(Ot){return`${Ot.name}@${Ot.version}${Ot.version!==re?` (worker-utils@${re})`:""}`}(Ot),tn=Ee.getWorkerFarm(Bn),{source:bn}=Bn,yt={name:Dn,source:bn};bn||(yt.url=p(Ot,Bn));const _e=tn.getWorkerPool(yt),he=Bn.jobName||Ot.name,Be=yield _e.startJob(he,$e.bind(null,Pn)),ht=bt(Bn);return Be.postMessage("process",{input:Mn,options:ht}),(yield Be.result).result}),Ie.apply(this,arguments)}function $e(Ot,Mn,Bn,Pn){return ft.apply(this,arguments)}function ft(){return ft=r(function*(Ot,Mn,Bn,Pn){switch(Bn){case"done":Mn.done(Pn);break;case"error":Mn.error(new Error(Pn.error));break;case"process":const{id:Dn,input:tn,options:bn}=Pn;try{if(!Ot.process)return void Mn.postMessage("error",{id:Dn,error:"Worker not set up to process on main thread"});const yt=yield Ot.process(tn,bn);Mn.postMessage("done",{id:Dn,result:yt})}catch(yt){const _e=yt instanceof Error?yt.message:"unknown error";Mn.postMessage("error",{id:Dn,error:_e})}break;default:console.warn(`process-on-worker: unknown message ${Bn}`)}}),ft.apply(this,arguments)}var Ye,kt=class{_values;_settlers;_closed;constructor(){this._values=[],this._settlers=[],this._closed=!1}[Symbol.asyncIterator](){return this}push(Ot){return this.enqueue(Ot)}enqueue(Ot){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Mn=this._settlers.shift();Ot instanceof Error?Mn.reject(Ot):Mn.resolve({value:Ot})}else this._values.push(Ot)}close(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}next(){if(this._values.length>0){const Ot=this._values.shift();return Ot instanceof Error?Promise.reject(Ot):Promise.resolve({done:!1,value:Ot})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((Ot,Mn)=>{this._settlers.push({resolve:Ot,reject:Mn})})}},jt=0;function It(Ot,Mn){return Ke.apply(this,arguments)}function Ke(){return Ke=r(function*(Ot,Mn){if(!(yield W.inWorkerThread()))return;const Bn={process:wt};W.onmessage=function(){var Pn=r(function*(Dn,tn){try{switch(Dn){case"process":if(!Ot)throw new Error("Worker does not support atomic processing");const ht=yield Ot(tn.input,tn.options||{},Bn);W.postMessage("done",{result:ht});break;case"process-in-batches":if(!Mn)throw new Error("Worker does not support batched processing");Ye=new kt;const zt=Mn(Ye,tn.options||{},Bn);var _e,bn=!1,yt=!1;try{for(var Be,he=y(zt);bn=!(Be=yield he.next()).done;bn=!1)W.postMessage("output-batch",{result:Be.value})}catch(on){yt=!0,_e=on}finally{try{bn&&null!=he.return&&(yield he.return())}finally{if(yt)throw _e}}W.postMessage("done",{});break;case"input-batch":Ye.push(tn.input);break;case"input-done":Ye.close()}}catch(ht){const zt=ht instanceof Error?ht.message:"";W.postMessage("error",{error:zt})}});return function(Dn,tn){return Pn.apply(this,arguments)}}()}),Ke.apply(this,arguments)}function wt(Ot,Mn={}){return new Promise((Bn,Pn)=>{const Dn=jt++,tn=(yt,_e)=>{if(_e.id===Dn)switch(yt){case"done":W.removeEventListener(tn),Bn(_e.result);break;case"error":W.removeEventListener(tn),Pn(_e.error)}};W.addEventListener(tn),W.postMessage("process",{id:Dn,input:Ot,options:Mn})})}function rt(Ot,Mn=re){return Z(Ot,"no worker provided"),!(!Mn||!Ot.version)}var Ct={};function mt(Ot){return Vt.apply(this,arguments)}function Vt(){return Vt=r(function*(Ot,Mn=null,Bn={},Pn=null){return Mn&&(Ot=at(Ot,Mn,Bn,Pn)),Ct[Ot]=Ct[Ot]||function We(Ot){return ke.apply(this,arguments)}(Ot),yield Ct[Ot]}),Vt.apply(this,arguments)}function at(Ot,Mn,Bn={},Pn=null){if(!Bn.useLocalLibraries&&Ot.startsWith("http"))return Ot;const Dn=Bn.modules||{};return Dn[Pn=Pn||Ot]?Dn[Pn]:ce?Bn.CDN?(Z(Bn.CDN.startsWith("http")),`${Bn.CDN}/${Mn}@${re}/dist/libs/${Pn}`):$?`../src/libs/${Pn}`:`modules/${Mn}/src/libs/${Pn}`:`modules/${Mn}/dist/libs/${Pn}`}function ke(){return ke=r(function*(Ot){if(Ot.endsWith("wasm"))return yield function xt(Ot){return Zt.apply(this,arguments)}(Ot);if(!ce)try{const{requireFromFile:Bn}=globalThis.loaders||{};return yield Bn?.(Ot)}catch(Bn){return console.error(Bn),null}if($)return importScripts(Ot);const Mn=yield function vn(Ot){return kn.apply(this,arguments)}(Ot);return function et(Ot,Mn){if(!ce){const{requireFromString:Pn}=globalThis.loaders||{};return Pn?.(Ot,Mn)}if($)return eval.call(globalThis,Ot),null;const Bn=document.createElement("script");Bn.id=Mn;try{Bn.appendChild(document.createTextNode(Ot))}catch{Bn.text=Ot}return document.body.appendChild(Bn),null}(Mn,Ot)}),ke.apply(this,arguments)}function Zt(){return Zt=r(function*(Ot){const{readFileAsArrayBuffer:Mn}=globalThis.loaders||{};return ce||!Mn||Ot.startsWith("http")?yield(yield fetch(Ot)).arrayBuffer():yield Mn(Ot)}),Zt.apply(this,arguments)}function kn(){return kn=r(function*(Ot){const{readFileAsText:Mn}=globalThis.loaders||{};return ce||!Mn||Ot.startsWith("http")?yield(yield fetch(Ot)).text():yield Mn(Ot)}),kn.apply(this,arguments)}var tr=b(w(95904),1),dn=b(w(95904),1),Ht={command:"",arguments:[],port:5e3,autoPort:!0,wait:2e3,onSuccess:Ot=>{console.log(`Started ${Ot.props.command}`)}},Xt=class{id;props={...Ht};childProcess=null;port=0;successTimer;constructor({id:Ot="browser-driver"}={}){this.id=Ot}start(Ot){var Mn=this;return r(function*(){Ot={...Ht,...Ot},Mn.props=Ot;const Bn=[...Ot.arguments];return Mn.port=Number(Ot.port),Ot.portArg&&(Ot.autoPort&&(Mn.port=yield function nn(Ot=3e3){return new Promise(Mn=>{dn.default.exec("lsof -i -P -n | grep LISTEN",(Bn,Pn)=>{if(Bn)return void Mn(Ot);const Dn=[],tn=/:(\d+) \(LISTEN\)/;Pn.split("\n").forEach(yt=>{const _e=tn.exec(yt);_e&&Dn.push(Number(_e[1]))});let bn=Ot;for(;Dn.includes(bn);)bn++;Mn(bn)})})}(Ot.port)),Bn.push(Ot.portArg,String(Mn.port))),yield new Promise((Pn,Dn)=>{try{Mn._setTimeout(()=>{Ot.onSuccess&&Ot.onSuccess(Mn),Pn({})}),console.log(`Spawning ${Ot.command} ${Ot.arguments.join(" ")}`);const tn=tr.spawn(Ot.command,Bn,Ot.spawn);Mn.childProcess=tn,tn.stdout.on("data",bn=>{console.log(bn.toString())}),tn.stderr.on("data",bn=>{console.log(`Child process wrote to stderr: "${bn}".`),Ot.ignoreStderr||(Mn._clearTimeout(),Dn(new Error(bn)))}),tn.on("error",bn=>{console.log(`Child process errored with ${bn}`),Mn._clearTimeout(),Dn(bn)}),tn.on("close",bn=>{console.log(`Child process exited with ${bn}`),Mn.childProcess=null,Mn._clearTimeout(),Pn({})})}catch(tn){Dn(tn)}})})()}stop(){var Ot=this;return r(function*(){Ot.childProcess&&(Ot.childProcess.kill(),Ot.childProcess=null)})()}exit(Ot=0){var Mn=this;return r(function*(){try{yield Mn.stop(),process.exit(Ot)}catch(Bn){console.error(Bn.message||Bn),process.exit(1)}})()}_setTimeout(Ot){Number(this.props.wait)>0&&(this.successTimer=setTimeout(Ot,this.props.wait))}_clearTimeout(){this.successTimer&&clearTimeout(this.successTimer)}},Nn={id:"null",name:"null",module:"worker-utils",version:re,options:{null:{}}}},87974:ln=>{var i,ye=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,u=(i,m)=>{for(var ie in m)ye(i,ie,{get:m[ie],enumerable:!0})},d={};u(d,{Euler:()=>Gs,Matrix3:()=>_n,Matrix4:()=>Bs,Pose:()=>Ia,Quaternion:()=>zr,SphericalCoordinates:()=>Uo,Vector2:()=>ht,Vector3:()=>Lo,Vector4:()=>Xo,_Euler:()=>Gs,_MathUtils:()=>ul,_Pose:()=>Ia,_SphericalCoordinates:()=>Uo,acos:()=>K,asin:()=>Ce,assert:()=>Ge,atan:()=>R,clamp:()=>ce,clone:()=>A,config:()=>U,configure:()=>O,cos:()=>Re,degrees:()=>re,equals:()=>Fe,exactEquals:()=>je,formatValue:()=>b,isArray:()=>M,lerp:()=>$,mat3:()=>zn,mat4:()=>jr,quat:()=>_c,radians:()=>X,sin:()=>Z,tan:()=>oe,toDegrees:()=>z,toRadians:()=>ue,vec2:()=>ut,vec3:()=>zt,vec4:()=>Ti,withEpsilon:()=>Ve}),ln.exports=(i=d,((i,m,ie,Xe)=>{if(m&&"object"==typeof m||"function"==typeof m)for(let gt of r(m))!y.call(i,gt)&&undefined!==gt&&ye(i,gt,{get:()=>m[gt],enumerable:!(Xe=w(m,gt))||Xe.enumerable});return i})(ye({},"__esModule",{value:!0}),i));var L=1/Math.PI*180,F=1/180*Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};var U=globalThis.mathgl.config;function O(i){return Object.assign(U,i),U}function b(i,{precision:m=U.precision}={}){return i=function lt(i){return Math.round(i/U.EPSILON)*U.EPSILON}(i),`${parseFloat(i.toPrecision(m))}`}function M(i){return Array.isArray(i)||ArrayBuffer.isView(i)&&!(i instanceof DataView)}function A(i){return"clone"in i?i.clone():i.slice()}function ue(i){return X(i)}function z(i){return re(i)}function X(i,m){return St(i,ie=>ie*F,m)}function re(i,m){return St(i,ie=>ie*L,m)}function Z(i,m){return St(i,ie=>Math.sin(ie),m)}function Re(i,m){return St(i,ie=>Math.cos(ie),m)}function oe(i,m){return St(i,ie=>Math.tan(ie),m)}function Ce(i,m){return St(i,ie=>Math.asin(ie),m)}function K(i,m){return St(i,ie=>Math.acos(ie),m)}function R(i,m){return St(i,ie=>Math.atan(ie),m)}function ce(i,m,ie){return St(i,Xe=>Math.max(m,Math.min(ie,Xe)))}function $(i,m,ie){return M(i)?i.map((Xe,gt)=>$(Xe,m[gt],ie)):ie*m+(1-ie)*i}function Fe(i,m,ie){const Xe=U.EPSILON;ie&&(U.EPSILON=ie);try{if(i===m)return!0;if(M(i)&&M(m)){if(i.length!==m.length)return!1;for(let gt=0;gt<i.length;++gt)if(!Fe(i[gt],m[gt]))return!1;return!0}return i&&i.equals?i.equals(m):m&&m.equals?m.equals(i):"number"==typeof i&&"number"==typeof m&&Math.abs(i-m)<=U.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))}finally{U.EPSILON=Xe}}function je(i,m){if(i===m)return!0;if(i&&"object"==typeof i&&m&&"object"==typeof m){if(i.constructor!==m.constructor)return!1;if(i.exactEquals)return i.exactEquals(m)}if(M(i)&&M(m)){if(i.length!==m.length)return!1;for(let ie=0;ie<i.length;++ie)if(!je(i[ie],m[ie]))return!1;return!0}return!1}function Ve(i,m){const ie=U.EPSILON;let Xe;U.EPSILON=i;try{Xe=m()}finally{U.EPSILON=ie}return Xe}function St(i,m,ie){if(M(i)){const Xe=i;ie=ie||function pt(i){return i.clone?i.clone():new Array(i.length)}(Xe);for(let gt=0;gt<ie.length&&gt<Xe.length;++gt)ie[gt]=m("number"==typeof i?i:i[gt],gt,ie);return ie}return m(i)}var Rn=class extends Array{clone(){return(new this.constructor).copy(this)}fromArray(i,m=0){for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]=i[ie+m];return this.check()}toArray(i=[],m=0){for(let ie=0;ie<this.ELEMENTS;++ie)i[m+ie]=this[ie];return i}toObject(i){return i}from(i){return Array.isArray(i)?this.copy(i):this.fromObject(i)}to(i){return i===this?this:M(i)?this.toArray(i):this.toObject(i)}toTarget(i){return i?this.to(i):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(U)}formatString(i){let m="";for(let ie=0;ie<this.ELEMENTS;++ie)m+=(ie>0?", ":"")+b(this[ie],i);return`${i.printTypes?this.constructor.name:""}[${m}]`}equals(i){if(!i||this.length!==i.length)return!1;for(let m=0;m<this.ELEMENTS;++m)if(!Fe(this[m],i[m]))return!1;return!0}exactEquals(i){if(!i||this.length!==i.length)return!1;for(let m=0;m<this.ELEMENTS;++m)if(this[m]!==i[m])return!1;return!0}negate(){for(let i=0;i<this.ELEMENTS;++i)this[i]=-this[i];return this.check()}lerp(i,m,ie){if(void 0===ie)return this.lerp(this,i,m);for(let Xe=0;Xe<this.ELEMENTS;++Xe){const gt=i[Xe];this[Xe]=gt+ie*(("number"==typeof m?m:m[Xe])-gt)}return this.check()}min(i){for(let m=0;m<this.ELEMENTS;++m)this[m]=Math.min(i[m],this[m]);return this.check()}max(i){for(let m=0;m<this.ELEMENTS;++m)this[m]=Math.max(i[m],this[m]);return this.check()}clamp(i,m){for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]=Math.min(Math.max(this[ie],i[ie]),m[ie]);return this.check()}add(...i){for(const m of i)for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]+=m[ie];return this.check()}subtract(...i){for(const m of i)for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]-=m[ie];return this.check()}scale(i){if("number"==typeof i)for(let m=0;m<this.ELEMENTS;++m)this[m]*=i;else for(let m=0;m<this.ELEMENTS&&m<i.length;++m)this[m]*=i[m];return this.check()}multiplyByScalar(i){for(let m=0;m<this.ELEMENTS;++m)this[m]*=i;return this.check()}check(){if(U.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let i=this.length===this.ELEMENTS;for(let m=0;m<this.ELEMENTS;++m)i=i&&Number.isFinite(this[m]);return i}sub(i){return this.subtract(i)}setScalar(i){for(let m=0;m<this.ELEMENTS;++m)this[m]=i;return this.check()}addScalar(i){for(let m=0;m<this.ELEMENTS;++m)this[m]+=i;return this.check()}subScalar(i){return this.addScalar(-i)}multiplyScalar(i){for(let m=0;m<this.ELEMENTS;++m)this[m]*=i;return this.check()}divideScalar(i){return this.multiplyByScalar(1/i)}clampScalar(i,m){for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]=Math.min(Math.max(this[ie],i),m);return this.check()}get elements(){return this}};function ee(i){if(!Number.isFinite(i))throw new Error(`Invalid number ${JSON.stringify(i)}`);return i}function De(i,m,ie=""){if(U.debug&&!function G(i,m){if(i.length!==m)return!1;for(let ie=0;ie<i.length;++ie)if(!Number.isFinite(i[ie]))return!1;return!0}(i,m))throw new Error(`math.gl: ${ie} some fields set to invalid numbers'`);return i}function Ge(i,m){if(!i)throw new Error(`math.gl assertion ${m}`)}var Ze=class extends Rn{get x(){return this[0]}set x(i){this[0]=ee(i)}get y(){return this[1]}set y(i){this[1]=ee(i)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let i=0;for(let m=0;m<this.ELEMENTS;++m)i+=this[m]*this[m];return i}magnitudeSquared(){return this.lengthSquared()}distance(i){return Math.sqrt(this.distanceSquared(i))}distanceSquared(i){let m=0;for(let ie=0;ie<this.ELEMENTS;++ie){const Xe=this[ie]-i[ie];m+=Xe*Xe}return ee(m)}dot(i){let m=0;for(let ie=0;ie<this.ELEMENTS;++ie)m+=this[ie]*i[ie];return ee(m)}normalize(){const i=this.magnitude();if(0!==i)for(let m=0;m<this.ELEMENTS;++m)this[m]/=i;return this.check()}multiply(...i){for(const m of i)for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]*=m[ie];return this.check()}divide(...i){for(const m of i)for(let ie=0;ie<this.ELEMENTS;++ie)this[ie]/=m[ie];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(i){return this.distance(i)}distanceToSquared(i){return this.distanceSquared(i)}getComponent(i){return Ge(i>=0&&i<this.ELEMENTS,"index is out of range"),ee(this[i])}setComponent(i,m){return Ge(i>=0&&i<this.ELEMENTS,"index is out of range"),this[i]=m,this.check()}addVectors(i,m){return this.copy(i).add(m)}subVectors(i,m){return this.copy(i).subtract(m)}multiplyVectors(i,m){return this.copy(i).multiply(m)}addScaledVector(i,m){return this.add(new this.constructor(i).multiplyScalar(m))}},ut={};u(ut,{add:()=>W,angle:()=>kn,ceil:()=>H,clone:()=>Ee,copy:()=>T,create:()=>Me,cross:()=>Vt,dist:()=>Bn,distance:()=>Ye,div:()=>Mn,divide:()=>p,dot:()=>mt,equals:()=>Ht,exactEquals:()=>nn,floor:()=>B,forEach:()=>tn,fromValues:()=>C,inverse:()=>rt,len:()=>Xt,length:()=>It,lerp:()=>at,max:()=>$e,min:()=>Ie,mul:()=>Ot,multiply:()=>ne,negate:()=>wt,normalize:()=>Ct,random:()=>We,rotate:()=>vn,round:()=>ft,scale:()=>kt,scaleAndAdd:()=>jt,set:()=>J,sqrDist:()=>Pn,sqrLen:()=>Dn,squaredDistance:()=>ct,squaredLength:()=>Ke,str:()=>dn,sub:()=>Nn,subtract:()=>ve,transformMat2:()=>ke,transformMat2d:()=>et,transformMat3:()=>xt,transformMat4:()=>Zt,zero:()=>tr});var bt=1e-6,Dt=typeof Float32Array<"u"?Float32Array:Array,Le=Math.random;function Ae(i){return i>=0?Math.round(i):i%.5==0?Math.floor(i):Math.round(i)}function Me(){const i=new Dt(2);return Dt!=Float32Array&&(i[0]=0,i[1]=0),i}function Ee(i){const m=new Dt(2);return m[0]=i[0],m[1]=i[1],m}function C(i,m){const ie=new Dt(2);return ie[0]=i,ie[1]=m,ie}function T(i,m){return i[0]=m[0],i[1]=m[1],i}function J(i,m,ie){return i[0]=m,i[1]=ie,i}function W(i,m,ie){return i[0]=m[0]+ie[0],i[1]=m[1]+ie[1],i}function ve(i,m,ie){return i[0]=m[0]-ie[0],i[1]=m[1]-ie[1],i}function ne(i,m,ie){return i[0]=m[0]*ie[0],i[1]=m[1]*ie[1],i}function p(i,m,ie){return i[0]=m[0]/ie[0],i[1]=m[1]/ie[1],i}function H(i,m){return i[0]=Math.ceil(m[0]),i[1]=Math.ceil(m[1]),i}function B(i,m){return i[0]=Math.floor(m[0]),i[1]=Math.floor(m[1]),i}function Ie(i,m,ie){return i[0]=Math.min(m[0],ie[0]),i[1]=Math.min(m[1],ie[1]),i}function $e(i,m,ie){return i[0]=Math.max(m[0],ie[0]),i[1]=Math.max(m[1],ie[1]),i}function ft(i,m){return i[0]=Ae(m[0]),i[1]=Ae(m[1]),i}function kt(i,m,ie){return i[0]=m[0]*ie,i[1]=m[1]*ie,i}function jt(i,m,ie,Xe){return i[0]=m[0]+ie[0]*Xe,i[1]=m[1]+ie[1]*Xe,i}function Ye(i,m){const ie=m[0]-i[0],Xe=m[1]-i[1];return Math.sqrt(ie*ie+Xe*Xe)}function ct(i,m){const ie=m[0]-i[0],Xe=m[1]-i[1];return ie*ie+Xe*Xe}function It(i){const m=i[0],ie=i[1];return Math.sqrt(m*m+ie*ie)}function Ke(i){const m=i[0],ie=i[1];return m*m+ie*ie}function wt(i,m){return i[0]=-m[0],i[1]=-m[1],i}function rt(i,m){return i[0]=1/m[0],i[1]=1/m[1],i}function Ct(i,m){const ie=m[0],Xe=m[1];let gt=ie*ie+Xe*Xe;return gt>0&&(gt=1/Math.sqrt(gt)),i[0]=m[0]*gt,i[1]=m[1]*gt,i}function mt(i,m){return i[0]*m[0]+i[1]*m[1]}function Vt(i,m,ie){const Xe=m[0]*ie[1]-m[1]*ie[0];return i[0]=i[1]=0,i[2]=Xe,i}function at(i,m,ie,Xe){const gt=m[0],Kt=m[1];return i[0]=gt+Xe*(ie[0]-gt),i[1]=Kt+Xe*(ie[1]-Kt),i}function We(i,m){m=void 0===m?1:m;const ie=2*Le()*Math.PI;return i[0]=Math.cos(ie)*m,i[1]=Math.sin(ie)*m,i}function ke(i,m,ie){const Xe=m[0],gt=m[1];return i[0]=ie[0]*Xe+ie[2]*gt,i[1]=ie[1]*Xe+ie[3]*gt,i}function et(i,m,ie){const Xe=m[0],gt=m[1];return i[0]=ie[0]*Xe+ie[2]*gt+ie[4],i[1]=ie[1]*Xe+ie[3]*gt+ie[5],i}function xt(i,m,ie){const Xe=m[0],gt=m[1];return i[0]=ie[0]*Xe+ie[3]*gt+ie[6],i[1]=ie[1]*Xe+ie[4]*gt+ie[7],i}function Zt(i,m,ie){const Xe=m[0],gt=m[1];return i[0]=ie[0]*Xe+ie[4]*gt+ie[12],i[1]=ie[1]*Xe+ie[5]*gt+ie[13],i}function vn(i,m,ie,Xe){const gt=m[0]-ie[0],Kt=m[1]-ie[1],un=Math.sin(Xe),cn=Math.cos(Xe);return i[0]=gt*cn-Kt*un+ie[0],i[1]=gt*un+Kt*cn+ie[1],i}function kn(i,m){const ie=i[0],Xe=i[1],gt=m[0],Kt=m[1],un=Math.sqrt((ie*ie+Xe*Xe)*(gt*gt+Kt*Kt));return Math.acos(Math.min(Math.max(un&&(ie*gt+Xe*Kt)/un,-1),1))}function tr(i){return i[0]=0,i[1]=0,i}function dn(i){return`vec2(${i[0]}, ${i[1]})`}function nn(i,m){return i[0]===m[0]&&i[1]===m[1]}function Ht(i,m){const ie=i[0],Xe=i[1],gt=m[0],Kt=m[1];return Math.abs(ie-gt)<=bt*Math.max(1,Math.abs(ie),Math.abs(gt))&&Math.abs(Xe-Kt)<=bt*Math.max(1,Math.abs(Xe),Math.abs(Kt))}Math;var Xt=It,Nn=ve,Ot=ne,Mn=p,Bn=Ye,Pn=ct,Dn=Ke,tn=function(){const i=Me();return function(m,ie,Xe,gt,Kt,un){let cn,Un;for(ie||(ie=2),Xe||(Xe=0),Un=gt?Math.min(gt*ie+Xe,m.length):m.length,cn=Xe;cn<Un;cn+=ie)i[0]=m[cn],i[1]=m[cn+1],Kt(i,i,un),m[cn]=i[0],m[cn+1]=i[1];return m}}();function bn(i,m,ie){const Xe=m[0],gt=m[1],Kt=ie[3]*Xe+ie[7]*gt||1;return i[0]=(ie[0]*Xe+ie[4]*gt)/Kt,i[1]=(ie[1]*Xe+ie[5]*gt)/Kt,i}function yt(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=ie[3]*Xe+ie[7]*gt+ie[11]*Kt||1;return i[0]=(ie[0]*Xe+ie[4]*gt+ie[8]*Kt)/un,i[1]=(ie[1]*Xe+ie[5]*gt+ie[9]*Kt)/un,i[2]=(ie[2]*Xe+ie[6]*gt+ie[10]*Kt)/un,i}function Be(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2];return i[0]=ie[0]*Xe+ie[3]*gt+ie[6]*Kt,i[1]=ie[1]*Xe+ie[4]*gt+ie[7]*Kt,i[2]=ie[2]*Xe+ie[5]*gt+ie[8]*Kt,i[3]=m[3],i}var ht=class extends Ze{constructor(i=0,m=0){super(2),M(i)&&1===arguments.length?this.copy(i):(U.debug&&(ee(i),ee(m)),this[0]=i,this[1]=m)}set(i,m){return this[0]=i,this[1]=m,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this.check()}fromObject(i){return U.debug&&(ee(i.x),ee(i.y)),this[0]=i.x,this[1]=i.y,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return Zt(this,this,i),this.check()}transformAsVector(i){return bn(this,this,i),this.check()}transformByMatrix3(i){return xt(this,this,i),this.check()}transformByMatrix2x3(i){return et(this,this,i),this.check()}transformByMatrix2(i){return ke(this,this,i),this.check()}},zt={};function on(){const i=new Dt(3);return Dt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function Hn(i){const m=new Dt(3);return m[0]=i[0],m[1]=i[1],m[2]=i[2],m}function Ar(i){const m=i[0],ie=i[1],Xe=i[2];return Math.sqrt(m*m+ie*ie+Xe*Xe)}function Ir(i,m,ie){const Xe=new Dt(3);return Xe[0]=i,Xe[1]=m,Xe[2]=ie,Xe}function ti(i,m){return i[0]=m[0],i[1]=m[1],i[2]=m[2],i}function Yr(i,m,ie,Xe){return i[0]=m,i[1]=ie,i[2]=Xe,i}function Ki(i,m,ie){return i[0]=m[0]+ie[0],i[1]=m[1]+ie[1],i[2]=m[2]+ie[2],i}function mi(i,m,ie){return i[0]=m[0]-ie[0],i[1]=m[1]-ie[1],i[2]=m[2]-ie[2],i}function er(i,m,ie){return i[0]=m[0]*ie[0],i[1]=m[1]*ie[1],i[2]=m[2]*ie[2],i}function ur(i,m,ie){return i[0]=m[0]/ie[0],i[1]=m[1]/ie[1],i[2]=m[2]/ie[2],i}function Ei(i,m){return i[0]=Math.ceil(m[0]),i[1]=Math.ceil(m[1]),i[2]=Math.ceil(m[2]),i}function Ni(i,m){return i[0]=Math.floor(m[0]),i[1]=Math.floor(m[1]),i[2]=Math.floor(m[2]),i}function rn(i,m,ie){return i[0]=Math.min(m[0],ie[0]),i[1]=Math.min(m[1],ie[1]),i[2]=Math.min(m[2],ie[2]),i}function En(i,m,ie){return i[0]=Math.max(m[0],ie[0]),i[1]=Math.max(m[1],ie[1]),i[2]=Math.max(m[2],ie[2]),i}function ar(i,m){return i[0]=Ae(m[0]),i[1]=Ae(m[1]),i[2]=Ae(m[2]),i}function Er(i,m,ie){return i[0]=m[0]*ie,i[1]=m[1]*ie,i[2]=m[2]*ie,i}function Hr(i,m,ie,Xe){return i[0]=m[0]+ie[0]*Xe,i[1]=m[1]+ie[1]*Xe,i[2]=m[2]+ie[2]*Xe,i}function vr(i,m){const ie=m[0]-i[0],Xe=m[1]-i[1],gt=m[2]-i[2];return Math.sqrt(ie*ie+Xe*Xe+gt*gt)}function Mt(i,m){const ie=m[0]-i[0],Xe=m[1]-i[1],gt=m[2]-i[2];return ie*ie+Xe*Xe+gt*gt}function te(i){const m=i[0],ie=i[1],Xe=i[2];return m*m+ie*ie+Xe*Xe}function ze(i,m){return i[0]=-m[0],i[1]=-m[1],i[2]=-m[2],i}function Yt(i,m){return i[0]=1/m[0],i[1]=1/m[1],i[2]=1/m[2],i}function An(i,m){const ie=m[0],Xe=m[1],gt=m[2];let Kt=ie*ie+Xe*Xe+gt*gt;return Kt>0&&(Kt=1/Math.sqrt(Kt)),i[0]=m[0]*Kt,i[1]=m[1]*Kt,i[2]=m[2]*Kt,i}function Kn(i,m){return i[0]*m[0]+i[1]*m[1]+i[2]*m[2]}function sr(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=ie[0],cn=ie[1],Un=ie[2];return i[0]=gt*Un-Kt*cn,i[1]=Kt*un-Xe*Un,i[2]=Xe*cn-gt*un,i}function Pr(i,m,ie,Xe){const gt=m[0],Kt=m[1],un=m[2];return i[0]=gt+Xe*(ie[0]-gt),i[1]=Kt+Xe*(ie[1]-Kt),i[2]=un+Xe*(ie[2]-un),i}function Sr(i,m,ie,Xe){const gt=Math.acos(Math.min(Math.max(Kn(m,ie),-1),1)),Kt=Math.sin(gt),un=Math.sin((1-Xe)*gt)/Kt,cn=Math.sin(Xe*gt)/Kt;return i[0]=un*m[0]+cn*ie[0],i[1]=un*m[1]+cn*ie[1],i[2]=un*m[2]+cn*ie[2],i}function Ur(i,m,ie,Xe,gt,Kt){const un=Kt*Kt,cn=un*(2*Kt-3)+1,Un=un*(Kt-2)+Kt,Jn=un*(Kt-1),_r=un*(3-2*Kt);return i[0]=m[0]*cn+ie[0]*Un+Xe[0]*Jn+gt[0]*_r,i[1]=m[1]*cn+ie[1]*Un+Xe[1]*Jn+gt[1]*_r,i[2]=m[2]*cn+ie[2]*Un+Xe[2]*Jn+gt[2]*_r,i}function ri(i,m,ie,Xe,gt,Kt){const un=1-Kt,cn=un*un,Un=Kt*Kt,Jn=cn*un,_r=3*Kt*cn,Kr=3*Un*un,Gr=Un*Kt;return i[0]=m[0]*Jn+ie[0]*_r+Xe[0]*Kr+gt[0]*Gr,i[1]=m[1]*Jn+ie[1]*_r+Xe[1]*Kr+gt[1]*Gr,i[2]=m[2]*Jn+ie[2]*_r+Xe[2]*Kr+gt[2]*Gr,i}function Ri(i,m){m=void 0===m?1:m;const ie=2*Le()*Math.PI,Xe=2*Le()-1,gt=Math.sqrt(1-Xe*Xe)*m;return i[0]=Math.cos(ie)*gt,i[1]=Math.sin(ie)*gt,i[2]=Xe*m,i}function ji(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2];let un=ie[3]*Xe+ie[7]*gt+ie[11]*Kt+ie[15];return un=un||1,i[0]=(ie[0]*Xe+ie[4]*gt+ie[8]*Kt+ie[12])/un,i[1]=(ie[1]*Xe+ie[5]*gt+ie[9]*Kt+ie[13])/un,i[2]=(ie[2]*Xe+ie[6]*gt+ie[10]*Kt+ie[14])/un,i}function $i(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2];return i[0]=Xe*ie[0]+gt*ie[3]+Kt*ie[6],i[1]=Xe*ie[1]+gt*ie[4]+Kt*ie[7],i[2]=Xe*ie[2]+gt*ie[5]+Kt*ie[8],i}function Yi(i,m,ie){const Xe=ie[0],gt=ie[1],Kt=ie[2],cn=m[0],Un=m[1],Jn=m[2];let _r=gt*Jn-Kt*Un,Kr=Kt*cn-Xe*Jn,Gr=Xe*Un-gt*cn,$r=gt*Gr-Kt*Kr,ci=Kt*_r-Xe*Gr,Qi=Xe*Kr-gt*_r;const ai=2*ie[3];return _r*=ai,Kr*=ai,Gr*=ai,$r*=2,ci*=2,Qi*=2,i[0]=cn+_r+$r,i[1]=Un+Kr+ci,i[2]=Jn+Gr+Qi,i}function no(i,m,ie,Xe){const gt=[],Kt=[];return gt[0]=m[0]-ie[0],gt[1]=m[1]-ie[1],gt[2]=m[2]-ie[2],Kt[0]=gt[0],Kt[1]=gt[1]*Math.cos(Xe)-gt[2]*Math.sin(Xe),Kt[2]=gt[1]*Math.sin(Xe)+gt[2]*Math.cos(Xe),i[0]=Kt[0]+ie[0],i[1]=Kt[1]+ie[1],i[2]=Kt[2]+ie[2],i}function yo(i,m,ie,Xe){const gt=[],Kt=[];return gt[0]=m[0]-ie[0],gt[1]=m[1]-ie[1],gt[2]=m[2]-ie[2],Kt[0]=gt[2]*Math.sin(Xe)+gt[0]*Math.cos(Xe),Kt[1]=gt[1],Kt[2]=gt[2]*Math.cos(Xe)-gt[0]*Math.sin(Xe),i[0]=Kt[0]+ie[0],i[1]=Kt[1]+ie[1],i[2]=Kt[2]+ie[2],i}function Fo(i,m,ie,Xe){const gt=[],Kt=[];return gt[0]=m[0]-ie[0],gt[1]=m[1]-ie[1],gt[2]=m[2]-ie[2],Kt[0]=gt[0]*Math.cos(Xe)-gt[1]*Math.sin(Xe),Kt[1]=gt[0]*Math.sin(Xe)+gt[1]*Math.cos(Xe),Kt[2]=gt[2],i[0]=Kt[0]+ie[0],i[1]=Kt[1]+ie[1],i[2]=Kt[2]+ie[2],i}function $t(i,m){const ie=i[0],Xe=i[1],gt=i[2],Kt=m[0],un=m[1],cn=m[2],Un=Math.sqrt((ie*ie+Xe*Xe+gt*gt)*(Kt*Kt+un*un+cn*cn)),Jn=Un&&Kn(i,m)/Un;return Math.acos(Math.min(Math.max(Jn,-1),1))}function Se(i){return i[0]=0,i[1]=0,i[2]=0,i}function At(i){return`vec3(${i[0]}, ${i[1]}, ${i[2]})`}function en(i,m){return i[0]===m[0]&&i[1]===m[1]&&i[2]===m[2]}function Sn(i,m){const ie=i[0],Xe=i[1],gt=i[2],Kt=m[0],un=m[1],cn=m[2];return Math.abs(ie-Kt)<=bt*Math.max(1,Math.abs(ie),Math.abs(Kt))&&Math.abs(Xe-un)<=bt*Math.max(1,Math.abs(Xe),Math.abs(un))&&Math.abs(gt-cn)<=bt*Math.max(1,Math.abs(gt),Math.abs(cn))}u(zt,{add:()=>Ki,angle:()=>$t,bezier:()=>ri,ceil:()=>Ei,clone:()=>Hn,copy:()=>ti,create:()=>on,cross:()=>sr,dist:()=>Wr,distance:()=>vr,div:()=>Oi,divide:()=>ur,dot:()=>Kn,equals:()=>Sn,exactEquals:()=>en,floor:()=>Ni,forEach:()=>xs,fromValues:()=>Ir,hermite:()=>Ur,inverse:()=>Yt,len:()=>Ro,length:()=>Ar,lerp:()=>Pr,max:()=>En,min:()=>rn,mul:()=>Vr,multiply:()=>er,negate:()=>ze,normalize:()=>An,random:()=>Ri,rotateX:()=>no,rotateY:()=>yo,rotateZ:()=>Fo,round:()=>ar,scale:()=>Er,scaleAndAdd:()=>Hr,set:()=>Yr,slerp:()=>Sr,sqrDist:()=>Gi,sqrLen:()=>Wo,squaredDistance:()=>Mt,squaredLength:()=>te,str:()=>At,sub:()=>ir,subtract:()=>mi,transformMat3:()=>$i,transformMat4:()=>ji,transformQuat:()=>Yi,zero:()=>Se});var Os,ps,ir=mi,Vr=er,Oi=ur,Wr=vr,Gi=Mt,Ro=Ar,Wo=te,xs=function(){const i=on();return function(m,ie,Xe,gt,Kt,un){let cn,Un;for(ie||(ie=3),Xe||(Xe=0),Un=gt?Math.min(gt*ie+Xe,m.length):m.length,cn=Xe;cn<Un;cn+=ie)i[0]=m[cn],i[1]=m[cn+1],i[2]=m[cn+2],Kt(i,i,un),m[cn]=i[0],m[cn+1]=i[1],m[cn+2]=i[2];return m}}(),da=[0,0,0],Lo=class extends Ze{static get ZERO(){return Os||(Os=new Lo(0,0,0),Object.freeze(Os)),Os}constructor(i=0,m=0,ie=0){super(-0,-0,-0),1===arguments.length&&M(i)?this.copy(i):(U.debug&&(ee(i),ee(m),ee(ie)),this[0]=i,this[1]=m,this[2]=ie)}set(i,m,ie){return this[0]=i,this[1]=m,this[2]=ie,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this.check()}fromObject(i){return U.debug&&(ee(i.x),ee(i.y),ee(i.z)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i}get ELEMENTS(){return 3}get z(){return this[2]}set z(i){this[2]=ee(i)}angle(i){return $t(this,i)}cross(i){return sr(this,this,i),this.check()}rotateX({radians:i,origin:m=da}){return no(this,this,m,i),this.check()}rotateY({radians:i,origin:m=da}){return yo(this,this,m,i),this.check()}rotateZ({radians:i,origin:m=da}){return Fo(this,this,m,i),this.check()}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return ji(this,this,i),this.check()}transformAsVector(i){return yt(this,this,i),this.check()}transformByMatrix3(i){return $i(this,this,i),this.check()}transformByMatrix2(i){return function _e(i,m,ie){const Xe=m[0],gt=m[1];i[0]=ie[0]*Xe+ie[2]*gt,i[1]=ie[1]*Xe+ie[3]*gt,i[2]=m[2]}(this,this,i),this.check()}transformByQuaternion(i){return Yi(this,this,i),this.check()}},Xo=class extends Ze{static get ZERO(){return ps||(ps=new Xo(0,0,0,0),Object.freeze(ps)),ps}constructor(i=0,m=0,ie=0,Xe=0){super(-0,-0,-0,-0),M(i)&&1===arguments.length?this.copy(i):(U.debug&&(ee(i),ee(m),ee(ie),ee(Xe)),this[0]=i,this[1]=m,this[2]=ie,this[3]=Xe)}set(i,m,ie,Xe){return this[0]=i,this[1]=m,this[2]=ie,this[3]=Xe,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}fromObject(i){return U.debug&&(ee(i.x),ee(i.y),ee(i.z),ee(i.w)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i.w=this[3],i}get ELEMENTS(){return 4}get z(){return this[2]}set z(i){this[2]=ee(i)}get w(){return this[3]}set w(i){this[3]=ee(i)}transform(i){return ji(this,this,i),this.check()}transformByMatrix3(i){return Be(this,this,i),this.check()}transformByMatrix2(i){return function he(i,m,ie){const Xe=m[0],gt=m[1];i[0]=ie[0]*Xe+ie[2]*gt,i[1]=ie[1]*Xe+ie[3]*gt,i[2]=m[2],i[3]=m[3]}(this,this,i),this.check()}transformByQuaternion(i){return Yi(this,this,i),this.check()}applyMatrix4(i){return i.transform(this,this),this}},Ns=class extends Rn{toString(){let i="[";if(U.printRowMajor){i+="row-major:";for(let m=0;m<this.RANK;++m)for(let ie=0;ie<this.RANK;++ie)i+=` ${this[ie*this.RANK+m]}`}else{i+="column-major:";for(let m=0;m<this.ELEMENTS;++m)i+=` ${this[m]}`}return i+="]",i}getElementIndex(i,m){return m*this.RANK+i}getElement(i,m){return this[m*this.RANK+i]}setElement(i,m,ie){return this[m*this.RANK+i]=ee(ie),this}getColumn(i,m=new Array(this.RANK).fill(-0)){const ie=i*this.RANK;for(let Xe=0;Xe<this.RANK;++Xe)m[Xe]=this[ie+Xe];return m}setColumn(i,m){const ie=i*this.RANK;for(let Xe=0;Xe<this.RANK;++Xe)this[ie+Xe]=m[Xe];return this}},zn={};function Wn(){const i=new Dt(9);return Dt!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Nr(i,m){return i[0]=m[0],i[1]=m[1],i[2]=m[2],i[3]=m[4],i[4]=m[5],i[5]=m[6],i[6]=m[8],i[7]=m[9],i[8]=m[10],i}function li(i){const m=new Dt(9);return m[0]=i[0],m[1]=i[1],m[2]=i[2],m[3]=i[3],m[4]=i[4],m[5]=i[5],m[6]=i[6],m[7]=i[7],m[8]=i[8],m}function hi(i,m){return i[0]=m[0],i[1]=m[1],i[2]=m[2],i[3]=m[3],i[4]=m[4],i[5]=m[5],i[6]=m[6],i[7]=m[7],i[8]=m[8],i}function ni(i,m,ie,Xe,gt,Kt,un,cn,Un){const Jn=new Dt(9);return Jn[0]=i,Jn[1]=m,Jn[2]=ie,Jn[3]=Xe,Jn[4]=gt,Jn[5]=Kt,Jn[6]=un,Jn[7]=cn,Jn[8]=Un,Jn}function Hi(i,m,ie,Xe,gt,Kt,un,cn,Un,Jn){return i[0]=m,i[1]=ie,i[2]=Xe,i[3]=gt,i[4]=Kt,i[5]=un,i[6]=cn,i[7]=Un,i[8]=Jn,i}function oo(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Eo(i,m){if(i===m){const ie=m[1],Xe=m[2],gt=m[5];i[1]=m[3],i[2]=m[6],i[3]=ie,i[5]=m[7],i[6]=Xe,i[7]=gt}else i[0]=m[0],i[1]=m[3],i[2]=m[6],i[3]=m[1],i[4]=m[4],i[5]=m[7],i[6]=m[2],i[7]=m[5],i[8]=m[8];return i}function Ui(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=m[4],cn=m[5],Un=m[6],Jn=m[7],_r=m[8],Kr=_r*un-cn*Jn,Gr=-_r*Kt+cn*Un,$r=Jn*Kt-un*Un;let ci=ie*Kr+Xe*Gr+gt*$r;return ci?(ci=1/ci,i[0]=Kr*ci,i[1]=(-_r*Xe+gt*Jn)*ci,i[2]=(cn*Xe-gt*un)*ci,i[3]=Gr*ci,i[4]=(_r*ie-gt*Un)*ci,i[5]=(-cn*ie+gt*Kt)*ci,i[6]=$r*ci,i[7]=(-Jn*ie+Xe*Un)*ci,i[8]=(un*ie-Xe*Kt)*ci,i):null}function os(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=m[4],cn=m[5],Un=m[6],Jn=m[7],_r=m[8];return i[0]=un*_r-cn*Jn,i[1]=gt*Jn-Xe*_r,i[2]=Xe*cn-gt*un,i[3]=cn*Un-Kt*_r,i[4]=ie*_r-gt*Un,i[5]=gt*Kt-ie*cn,i[6]=Kt*Jn-un*Un,i[7]=Xe*Un-ie*Jn,i[8]=ie*un-Xe*Kt,i}function es(i){const gt=i[3],Kt=i[4],un=i[5],cn=i[6],Un=i[7],Jn=i[8];return i[0]*(Jn*Kt-un*Un)+i[1]*(-Jn*gt+un*cn)+i[2]*(Un*gt-Kt*cn)}function rs(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=m[4],Un=m[5],Jn=m[6],_r=m[7],Kr=m[8],Gr=ie[0],$r=ie[1],ci=ie[2],Qi=ie[3],ai=ie[4],Do=ie[5],$o=ie[6],Io=ie[7],So=ie[8];return i[0]=Gr*Xe+$r*un+ci*Jn,i[1]=Gr*gt+$r*cn+ci*_r,i[2]=Gr*Kt+$r*Un+ci*Kr,i[3]=Qi*Xe+ai*un+Do*Jn,i[4]=Qi*gt+ai*cn+Do*_r,i[5]=Qi*Kt+ai*Un+Do*Kr,i[6]=$o*Xe+Io*un+So*Jn,i[7]=$o*gt+Io*cn+So*_r,i[8]=$o*Kt+Io*Un+So*Kr,i}function Ps(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=m[4],Un=m[5],Jn=m[6],_r=m[7],Kr=m[8],Gr=ie[0],$r=ie[1];return i[0]=Xe,i[1]=gt,i[2]=Kt,i[3]=un,i[4]=cn,i[5]=Un,i[6]=Gr*Xe+$r*un+Jn,i[7]=Gr*gt+$r*cn+_r,i[8]=Gr*Kt+$r*Un+Kr,i}function Oo(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=m[4],Un=m[5],Jn=m[6],_r=m[7],Kr=m[8],Gr=Math.sin(ie),$r=Math.cos(ie);return i[0]=$r*Xe+Gr*un,i[1]=$r*gt+Gr*cn,i[2]=$r*Kt+Gr*Un,i[3]=$r*un-Gr*Xe,i[4]=$r*cn-Gr*gt,i[5]=$r*Un-Gr*Kt,i[6]=Jn,i[7]=_r,i[8]=Kr,i}function Ts(i,m,ie){const Xe=ie[0],gt=ie[1];return i[0]=Xe*m[0],i[1]=Xe*m[1],i[2]=Xe*m[2],i[3]=gt*m[3],i[4]=gt*m[4],i[5]=gt*m[5],i[6]=m[6],i[7]=m[7],i[8]=m[8],i}function gs(i,m){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=m[0],i[7]=m[1],i[8]=1,i}function ha(i,m){const ie=Math.sin(m),Xe=Math.cos(m);return i[0]=Xe,i[1]=ie,i[2]=0,i[3]=-ie,i[4]=Xe,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Es(i,m){return i[0]=m[0],i[1]=0,i[2]=0,i[3]=0,i[4]=m[1],i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Vo(i,m){return i[0]=m[0],i[1]=m[1],i[2]=0,i[3]=m[2],i[4]=m[3],i[5]=0,i[6]=m[4],i[7]=m[5],i[8]=1,i}function Ls(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=ie+ie,cn=Xe+Xe,Un=gt+gt,Jn=ie*un,_r=Xe*un,Kr=Xe*cn,Gr=gt*un,$r=gt*cn,ci=gt*Un,Qi=Kt*un,ai=Kt*cn,Do=Kt*Un;return i[0]=1-Kr-ci,i[3]=_r-Do,i[6]=Gr+ai,i[1]=_r+Do,i[4]=1-Jn-ci,i[7]=$r-Qi,i[2]=Gr-ai,i[5]=$r+Qi,i[8]=1-Jn-Kr,i}function _s(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=m[4],cn=m[5],Un=m[6],Jn=m[7],_r=m[8],Kr=m[9],Gr=m[10],$r=m[11],ci=m[12],Qi=m[13],ai=m[14],Do=m[15],$o=ie*cn-Xe*un,Io=ie*Un-gt*un,So=ie*Jn-Kt*un,ko=Xe*Un-gt*cn,br=Xe*Jn-Kt*cn,To=gt*Jn-Kt*Un,Ss=_r*Qi-Kr*ci,zs=_r*ai-Gr*ci,mo=_r*Do-$r*ci,ga=Kr*ai-Gr*Qi,Qs=Kr*Do-$r*Qi,Cs=Gr*Do-$r*ai;let cs=$o*Cs-Io*Qs+So*ga+ko*mo-br*zs+To*Ss;return cs?(cs=1/cs,i[0]=(cn*Cs-Un*Qs+Jn*ga)*cs,i[1]=(Un*mo-un*Cs-Jn*zs)*cs,i[2]=(un*Qs-cn*mo+Jn*Ss)*cs,i[3]=(gt*Qs-Xe*Cs-Kt*ga)*cs,i[4]=(ie*Cs-gt*mo+Kt*zs)*cs,i[5]=(Xe*mo-ie*Qs-Kt*Ss)*cs,i[6]=(Qi*To-ai*br+Do*ko)*cs,i[7]=(ai*So-ci*To-Do*Io)*cs,i[8]=(ci*br-Qi*So+Do*$o)*cs,i):null}function ea(i,m,ie){return i[0]=2/m,i[1]=0,i[2]=0,i[3]=0,i[4]=-2/ie,i[5]=0,i[6]=-1,i[7]=1,i[8]=1,i}function us(i){return`mat3(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]})`}function Gn(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8])}function Yn(i,m,ie){return i[0]=m[0]+ie[0],i[1]=m[1]+ie[1],i[2]=m[2]+ie[2],i[3]=m[3]+ie[3],i[4]=m[4]+ie[4],i[5]=m[5]+ie[5],i[6]=m[6]+ie[6],i[7]=m[7]+ie[7],i[8]=m[8]+ie[8],i}function or(i,m,ie){return i[0]=m[0]-ie[0],i[1]=m[1]-ie[1],i[2]=m[2]-ie[2],i[3]=m[3]-ie[3],i[4]=m[4]-ie[4],i[5]=m[5]-ie[5],i[6]=m[6]-ie[6],i[7]=m[7]-ie[7],i[8]=m[8]-ie[8],i}function Cr(i,m,ie){return i[0]=m[0]*ie,i[1]=m[1]*ie,i[2]=m[2]*ie,i[3]=m[3]*ie,i[4]=m[4]*ie,i[5]=m[5]*ie,i[6]=m[6]*ie,i[7]=m[7]*ie,i[8]=m[8]*ie,i}function fi(i,m,ie,Xe){return i[0]=m[0]+ie[0]*Xe,i[1]=m[1]+ie[1]*Xe,i[2]=m[2]+ie[2]*Xe,i[3]=m[3]+ie[3]*Xe,i[4]=m[4]+ie[4]*Xe,i[5]=m[5]+ie[5]*Xe,i[6]=m[6]+ie[6]*Xe,i[7]=m[7]+ie[7]*Xe,i[8]=m[8]+ie[8]*Xe,i}function Fi(i,m){return i[0]===m[0]&&i[1]===m[1]&&i[2]===m[2]&&i[3]===m[3]&&i[4]===m[4]&&i[5]===m[5]&&i[6]===m[6]&&i[7]===m[7]&&i[8]===m[8]}function so(i,m){const ie=i[0],Xe=i[1],gt=i[2],Kt=i[3],un=i[4],cn=i[5],Un=i[6],Jn=i[7],_r=i[8],Kr=m[0],Gr=m[1],$r=m[2],ci=m[3],Qi=m[4],ai=m[5],Do=m[6],$o=m[7],Io=m[8];return Math.abs(ie-Kr)<=bt*Math.max(1,Math.abs(ie),Math.abs(Kr))&&Math.abs(Xe-Gr)<=bt*Math.max(1,Math.abs(Xe),Math.abs(Gr))&&Math.abs(gt-$r)<=bt*Math.max(1,Math.abs(gt),Math.abs($r))&&Math.abs(Kt-ci)<=bt*Math.max(1,Math.abs(Kt),Math.abs(ci))&&Math.abs(un-Qi)<=bt*Math.max(1,Math.abs(un),Math.abs(Qi))&&Math.abs(cn-ai)<=bt*Math.max(1,Math.abs(cn),Math.abs(ai))&&Math.abs(Un-Do)<=bt*Math.max(1,Math.abs(Un),Math.abs(Do))&&Math.abs(Jn-$o)<=bt*Math.max(1,Math.abs(Jn),Math.abs($o))&&Math.abs(_r-Io)<=bt*Math.max(1,Math.abs(_r),Math.abs(Io))}u(zn,{add:()=>Yn,adjoint:()=>os,clone:()=>li,copy:()=>hi,create:()=>Wn,determinant:()=>es,equals:()=>so,exactEquals:()=>Fi,frob:()=>Gn,fromMat2d:()=>Vo,fromMat4:()=>Nr,fromQuat:()=>Ls,fromRotation:()=>ha,fromScaling:()=>Es,fromTranslation:()=>gs,fromValues:()=>ni,identity:()=>oo,invert:()=>Ui,mul:()=>Co,multiply:()=>rs,multiplyScalar:()=>Cr,multiplyScalarAndAdd:()=>fi,normalFromMat4:()=>_s,projection:()=>ea,rotate:()=>Oo,scale:()=>Ts,set:()=>Hi,str:()=>us,sub:()=>eo,subtract:()=>or,translate:()=>Ps,transpose:()=>Eo});var fr,Co=rs,eo=or,Wt=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL1ROW0=3]="COL1ROW0",i[i.COL1ROW1=4]="COL1ROW1",i[i.COL1ROW2=5]="COL1ROW2",i[i.COL2ROW0=6]="COL2ROW0",i[i.COL2ROW1=7]="COL2ROW1",i[i.COL2ROW2=8]="COL2ROW2",i}(Wt||{}),mn=Object.freeze([1,0,0,0,1,0,0,0,1]),_n=class extends Ns{static get IDENTITY(){return function Br(){return Tr||(Tr=new _n,Object.freeze(Tr)),Tr}()}static get ZERO(){return function lr(){return fr||(fr=new _n([0,0,0,0,0,0,0,0,0]),Object.freeze(fr)),fr}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Wt}constructor(i,...m){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):m.length>0?this.copy([i,...m]):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this.check()}identity(){return this.copy(mn)}fromObject(i){return this.check()}fromQuaternion(i){return Ls(this,i),this.check()}set(i,m,ie,Xe,gt,Kt,un,cn,Un){return this[0]=i,this[1]=m,this[2]=ie,this[3]=Xe,this[4]=gt,this[5]=Kt,this[6]=un,this[7]=cn,this[8]=Un,this.check()}setRowMajor(i,m,ie,Xe,gt,Kt,un,cn,Un){return this[0]=i,this[1]=Xe,this[2]=un,this[3]=m,this[4]=gt,this[5]=cn,this[6]=ie,this[7]=Kt,this[8]=Un,this.check()}determinant(){return es(this)}transpose(){return Eo(this,this),this.check()}invert(){return Ui(this,this),this.check()}multiplyLeft(i){return rs(this,i,this),this.check()}multiplyRight(i){return rs(this,this,i),this.check()}rotate(i){return Oo(this,this,i),this.check()}scale(i){return Array.isArray(i)?Ts(this,this,i):Ts(this,this,[i,i]),this.check()}translate(i){return Ps(this,this,i),this.check()}transform(i,m){let ie;switch(i.length){case 2:ie=xt(m||[-0,-0],i,this);break;case 3:ie=$i(m||[-0,-0,-0],i,this);break;case 4:ie=Be(m||[-0,-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return De(ie,i.length),ie}transformVector(i,m){return this.transform(i,m)}transformVector2(i,m){return this.transform(i,m)}transformVector3(i,m){return this.transform(i,m)}},Tr=null,jr={};function ui(){const i=new Dt(16);return Dt!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i}function Jr(i){const m=new Dt(16);return m[0]=i[0],m[1]=i[1],m[2]=i[2],m[3]=i[3],m[4]=i[4],m[5]=i[5],m[6]=i[6],m[7]=i[7],m[8]=i[8],m[9]=i[9],m[10]=i[10],m[11]=i[11],m[12]=i[12],m[13]=i[13],m[14]=i[14],m[15]=i[15],m}function Wi(i,m){return i[0]=m[0],i[1]=m[1],i[2]=m[2],i[3]=m[3],i[4]=m[4],i[5]=m[5],i[6]=m[6],i[7]=m[7],i[8]=m[8],i[9]=m[9],i[10]=m[10],i[11]=m[11],i[12]=m[12],i[13]=m[13],i[14]=m[14],i[15]=m[15],i}function ao(i,m,ie,Xe,gt,Kt,un,cn,Un,Jn,_r,Kr,Gr,$r,ci,Qi){const ai=new Dt(16);return ai[0]=i,ai[1]=m,ai[2]=ie,ai[3]=Xe,ai[4]=gt,ai[5]=Kt,ai[6]=un,ai[7]=cn,ai[8]=Un,ai[9]=Jn,ai[10]=_r,ai[11]=Kr,ai[12]=Gr,ai[13]=$r,ai[14]=ci,ai[15]=Qi,ai}function vo(i,m,ie,Xe,gt,Kt,un,cn,Un,Jn,_r,Kr,Gr,$r,ci,Qi,ai){return i[0]=m,i[1]=ie,i[2]=Xe,i[3]=gt,i[4]=Kt,i[5]=un,i[6]=cn,i[7]=Un,i[8]=Jn,i[9]=_r,i[10]=Kr,i[11]=Gr,i[12]=$r,i[13]=ci,i[14]=Qi,i[15]=ai,i}function _o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function wo(i,m){if(i===m){const ie=m[1],Xe=m[2],gt=m[3],Kt=m[6],un=m[7],cn=m[11];i[1]=m[4],i[2]=m[8],i[3]=m[12],i[4]=ie,i[6]=m[9],i[7]=m[13],i[8]=Xe,i[9]=Kt,i[11]=m[14],i[12]=gt,i[13]=un,i[14]=cn}else i[0]=m[0],i[1]=m[4],i[2]=m[8],i[3]=m[12],i[4]=m[1],i[5]=m[5],i[6]=m[9],i[7]=m[13],i[8]=m[2],i[9]=m[6],i[10]=m[10],i[11]=m[14],i[12]=m[3],i[13]=m[7],i[14]=m[11],i[15]=m[15];return i}function Po(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=m[4],cn=m[5],Un=m[6],Jn=m[7],_r=m[8],Kr=m[9],Gr=m[10],$r=m[11],ci=m[12],Qi=m[13],ai=m[14],Do=m[15],$o=ie*cn-Xe*un,Io=ie*Un-gt*un,So=ie*Jn-Kt*un,ko=Xe*Un-gt*cn,br=Xe*Jn-Kt*cn,To=gt*Jn-Kt*Un,Ss=_r*Qi-Kr*ci,zs=_r*ai-Gr*ci,mo=_r*Do-$r*ci,ga=Kr*ai-Gr*Qi,Qs=Kr*Do-$r*Qi,Cs=Gr*Do-$r*ai;let cs=$o*Cs-Io*Qs+So*ga+ko*mo-br*zs+To*Ss;return cs?(cs=1/cs,i[0]=(cn*Cs-Un*Qs+Jn*ga)*cs,i[1]=(gt*Qs-Xe*Cs-Kt*ga)*cs,i[2]=(Qi*To-ai*br+Do*ko)*cs,i[3]=(Gr*br-Kr*To-$r*ko)*cs,i[4]=(Un*mo-un*Cs-Jn*zs)*cs,i[5]=(ie*Cs-gt*mo+Kt*zs)*cs,i[6]=(ai*So-ci*To-Do*Io)*cs,i[7]=(_r*To-Gr*So+$r*Io)*cs,i[8]=(un*Qs-cn*mo+Jn*Ss)*cs,i[9]=(Xe*mo-ie*Qs-Kt*Ss)*cs,i[10]=(ci*br-Qi*So+Do*$o)*cs,i[11]=(Kr*So-_r*br-$r*$o)*cs,i[12]=(cn*zs-un*ga-Un*Ss)*cs,i[13]=(ie*ga-Xe*zs+gt*Ss)*cs,i[14]=(Qi*Io-ci*ko-ai*$o)*cs,i[15]=(_r*ko-Kr*Io+Gr*$o)*cs,i):null}function xo(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=m[4],cn=m[5],Un=m[6],Jn=m[7],_r=m[8],Kr=m[9],Gr=m[10],$r=m[11],ci=m[12],Qi=m[13],ai=m[14],Do=m[15],$o=ie*cn-Xe*un,Io=ie*Un-gt*un,So=ie*Jn-Kt*un,ko=Xe*Un-gt*cn,br=Xe*Jn-Kt*cn,To=gt*Jn-Kt*Un,Ss=_r*Qi-Kr*ci,zs=_r*ai-Gr*ci,mo=_r*Do-$r*ci,ga=Kr*ai-Gr*Qi,Qs=Kr*Do-$r*Qi,Cs=Gr*Do-$r*ai;return i[0]=cn*Cs-Un*Qs+Jn*ga,i[1]=gt*Qs-Xe*Cs-Kt*ga,i[2]=Qi*To-ai*br+Do*ko,i[3]=Gr*br-Kr*To-$r*ko,i[4]=Un*mo-un*Cs-Jn*zs,i[5]=ie*Cs-gt*mo+Kt*zs,i[6]=ai*So-ci*To-Do*Io,i[7]=_r*To-Gr*So+$r*Io,i[8]=un*Qs-cn*mo+Jn*Ss,i[9]=Xe*mo-ie*Qs-Kt*Ss,i[10]=ci*br-Qi*So+Do*$o,i[11]=Kr*So-_r*br-$r*$o,i[12]=cn*zs-un*ga-Un*Ss,i[13]=ie*ga-Xe*zs+gt*Ss,i[14]=Qi*Io-ci*ko-ai*$o,i[15]=_r*ko-Kr*Io+Gr*$o,i}function Qo(i){const m=i[0],ie=i[1],Xe=i[2],Kt=i[4],un=i[5],cn=i[6],Jn=i[8],_r=i[9],Kr=i[10],$r=i[12],ci=i[13],Qi=i[14],Do=m*un-ie*Kt,$o=m*cn-Xe*Kt,Io=ie*cn-Xe*un,So=Jn*ci-_r*$r,ko=Jn*Qi-Kr*$r,br=_r*Qi-Kr*ci;return i[7]*(m*br-ie*ko+Xe*So)-i[3]*(Kt*br-un*ko+cn*So)+i[15]*(Jn*Io-_r*$o+Kr*Do)-i[11]*($r*Io-ci*$o+Qi*Do)}function tt(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=m[4],Un=m[5],Jn=m[6],_r=m[7],Kr=m[8],Gr=m[9],$r=m[10],ci=m[11],Qi=m[12],ai=m[13],Do=m[14],$o=m[15];let Io=ie[0],So=ie[1],ko=ie[2],br=ie[3];return i[0]=Io*Xe+So*cn+ko*Kr+br*Qi,i[1]=Io*gt+So*Un+ko*Gr+br*ai,i[2]=Io*Kt+So*Jn+ko*$r+br*Do,i[3]=Io*un+So*_r+ko*ci+br*$o,Io=ie[4],So=ie[5],ko=ie[6],br=ie[7],i[4]=Io*Xe+So*cn+ko*Kr+br*Qi,i[5]=Io*gt+So*Un+ko*Gr+br*ai,i[6]=Io*Kt+So*Jn+ko*$r+br*Do,i[7]=Io*un+So*_r+ko*ci+br*$o,Io=ie[8],So=ie[9],ko=ie[10],br=ie[11],i[8]=Io*Xe+So*cn+ko*Kr+br*Qi,i[9]=Io*gt+So*Un+ko*Gr+br*ai,i[10]=Io*Kt+So*Jn+ko*$r+br*Do,i[11]=Io*un+So*_r+ko*ci+br*$o,Io=ie[12],So=ie[13],ko=ie[14],br=ie[15],i[12]=Io*Xe+So*cn+ko*Kr+br*Qi,i[13]=Io*gt+So*Un+ko*Gr+br*ai,i[14]=Io*Kt+So*Jn+ko*$r+br*Do,i[15]=Io*un+So*_r+ko*ci+br*$o,i}function Qt(i,m,ie){const Xe=ie[0],gt=ie[1],Kt=ie[2];let un,cn,Un,Jn,_r,Kr,Gr,$r,ci,Qi,ai,Do;return m===i?(i[12]=m[0]*Xe+m[4]*gt+m[8]*Kt+m[12],i[13]=m[1]*Xe+m[5]*gt+m[9]*Kt+m[13],i[14]=m[2]*Xe+m[6]*gt+m[10]*Kt+m[14],i[15]=m[3]*Xe+m[7]*gt+m[11]*Kt+m[15]):(un=m[0],cn=m[1],Un=m[2],Jn=m[3],_r=m[4],Kr=m[5],Gr=m[6],$r=m[7],ci=m[8],Qi=m[9],ai=m[10],Do=m[11],i[0]=un,i[1]=cn,i[2]=Un,i[3]=Jn,i[4]=_r,i[5]=Kr,i[6]=Gr,i[7]=$r,i[8]=ci,i[9]=Qi,i[10]=ai,i[11]=Do,i[12]=un*Xe+_r*gt+ci*Kt+m[12],i[13]=cn*Xe+Kr*gt+Qi*Kt+m[13],i[14]=Un*Xe+Gr*gt+ai*Kt+m[14],i[15]=Jn*Xe+$r*gt+Do*Kt+m[15]),i}function He(i,m,ie){const Xe=ie[0],gt=ie[1],Kt=ie[2];return i[0]=m[0]*Xe,i[1]=m[1]*Xe,i[2]=m[2]*Xe,i[3]=m[3]*Xe,i[4]=m[4]*gt,i[5]=m[5]*gt,i[6]=m[6]*gt,i[7]=m[7]*gt,i[8]=m[8]*Kt,i[9]=m[9]*Kt,i[10]=m[10]*Kt,i[11]=m[11]*Kt,i[12]=m[12],i[13]=m[13],i[14]=m[14],i[15]=m[15],i}function j(i,m,ie,Xe){let Un,Jn,_r,Kr,Gr,$r,ci,Qi,ai,Do,$o,Io,So,ko,br,To,Ss,zs,mo,ga,Qs,Cs,cs,Ga,gt=Xe[0],Kt=Xe[1],un=Xe[2],cn=Math.sqrt(gt*gt+Kt*Kt+un*un);return cn<bt?null:(cn=1/cn,gt*=cn,Kt*=cn,un*=cn,Jn=Math.sin(ie),Un=Math.cos(ie),_r=1-Un,Kr=m[0],Gr=m[1],$r=m[2],ci=m[3],Qi=m[4],ai=m[5],Do=m[6],$o=m[7],Io=m[8],So=m[9],ko=m[10],br=m[11],To=gt*gt*_r+Un,Ss=Kt*gt*_r+un*Jn,zs=un*gt*_r-Kt*Jn,mo=gt*Kt*_r-un*Jn,ga=Kt*Kt*_r+Un,Qs=un*Kt*_r+gt*Jn,Cs=gt*un*_r+Kt*Jn,cs=Kt*un*_r-gt*Jn,Ga=un*un*_r+Un,i[0]=Kr*To+Qi*Ss+Io*zs,i[1]=Gr*To+ai*Ss+So*zs,i[2]=$r*To+Do*Ss+ko*zs,i[3]=ci*To+$o*Ss+br*zs,i[4]=Kr*mo+Qi*ga+Io*Qs,i[5]=Gr*mo+ai*ga+So*Qs,i[6]=$r*mo+Do*ga+ko*Qs,i[7]=ci*mo+$o*ga+br*Qs,i[8]=Kr*Cs+Qi*cs+Io*Ga,i[9]=Gr*Cs+ai*cs+So*Ga,i[10]=$r*Cs+Do*cs+ko*Ga,i[11]=ci*Cs+$o*cs+br*Ga,m!==i&&(i[12]=m[12],i[13]=m[13],i[14]=m[14],i[15]=m[15]),i)}function pe(i,m,ie){const Xe=Math.sin(ie),gt=Math.cos(ie),Kt=m[4],un=m[5],cn=m[6],Un=m[7],Jn=m[8],_r=m[9],Kr=m[10],Gr=m[11];return m!==i&&(i[0]=m[0],i[1]=m[1],i[2]=m[2],i[3]=m[3],i[12]=m[12],i[13]=m[13],i[14]=m[14],i[15]=m[15]),i[4]=Kt*gt+Jn*Xe,i[5]=un*gt+_r*Xe,i[6]=cn*gt+Kr*Xe,i[7]=Un*gt+Gr*Xe,i[8]=Jn*gt-Kt*Xe,i[9]=_r*gt-un*Xe,i[10]=Kr*gt-cn*Xe,i[11]=Gr*gt-Un*Xe,i}function k(i,m,ie){const Xe=Math.sin(ie),gt=Math.cos(ie),Kt=m[0],un=m[1],cn=m[2],Un=m[3],Jn=m[8],_r=m[9],Kr=m[10],Gr=m[11];return m!==i&&(i[4]=m[4],i[5]=m[5],i[6]=m[6],i[7]=m[7],i[12]=m[12],i[13]=m[13],i[14]=m[14],i[15]=m[15]),i[0]=Kt*gt-Jn*Xe,i[1]=un*gt-_r*Xe,i[2]=cn*gt-Kr*Xe,i[3]=Un*gt-Gr*Xe,i[8]=Kt*Xe+Jn*gt,i[9]=un*Xe+_r*gt,i[10]=cn*Xe+Kr*gt,i[11]=Un*Xe+Gr*gt,i}function le(i,m,ie){const Xe=Math.sin(ie),gt=Math.cos(ie),Kt=m[0],un=m[1],cn=m[2],Un=m[3],Jn=m[4],_r=m[5],Kr=m[6],Gr=m[7];return m!==i&&(i[8]=m[8],i[9]=m[9],i[10]=m[10],i[11]=m[11],i[12]=m[12],i[13]=m[13],i[14]=m[14],i[15]=m[15]),i[0]=Kt*gt+Jn*Xe,i[1]=un*gt+_r*Xe,i[2]=cn*gt+Kr*Xe,i[3]=Un*gt+Gr*Xe,i[4]=Jn*gt-Kt*Xe,i[5]=_r*gt-un*Xe,i[6]=Kr*gt-cn*Xe,i[7]=Gr*gt-Un*Xe,i}function q(i,m){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=m[0],i[13]=m[1],i[14]=m[2],i[15]=1,i}function Je(i,m){return i[0]=m[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=m[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=m[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Ut(i,m,ie){let cn,Un,Jn,Xe=ie[0],gt=ie[1],Kt=ie[2],un=Math.sqrt(Xe*Xe+gt*gt+Kt*Kt);return un<bt?null:(un=1/un,Xe*=un,gt*=un,Kt*=un,Un=Math.sin(m),cn=Math.cos(m),Jn=1-cn,i[0]=Xe*Xe*Jn+cn,i[1]=gt*Xe*Jn+Kt*Un,i[2]=Kt*Xe*Jn-gt*Un,i[3]=0,i[4]=Xe*gt*Jn-Kt*Un,i[5]=gt*gt*Jn+cn,i[6]=Kt*gt*Jn+Xe*Un,i[7]=0,i[8]=Xe*Kt*Jn+gt*Un,i[9]=gt*Kt*Jn-Xe*Un,i[10]=Kt*Kt*Jn+cn,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}function Xn(i,m){const ie=Math.sin(m),Xe=Math.cos(m);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Xe,i[6]=ie,i[7]=0,i[8]=0,i[9]=-ie,i[10]=Xe,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function gr(i,m){const ie=Math.sin(m),Xe=Math.cos(m);return i[0]=Xe,i[1]=0,i[2]=-ie,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=ie,i[9]=0,i[10]=Xe,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Xi(i,m){const ie=Math.sin(m),Xe=Math.cos(m);return i[0]=Xe,i[1]=ie,i[2]=0,i[3]=0,i[4]=-ie,i[5]=Xe,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function to(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=Xe+Xe,Un=gt+gt,Jn=Kt+Kt,_r=Xe*cn,Kr=Xe*Un,Gr=Xe*Jn,$r=gt*Un,ci=gt*Jn,Qi=Kt*Jn,ai=un*cn,Do=un*Un,$o=un*Jn;return i[0]=1-($r+Qi),i[1]=Kr+$o,i[2]=Gr-Do,i[3]=0,i[4]=Kr-$o,i[5]=1-(_r+Qi),i[6]=ci+ai,i[7]=0,i[8]=Gr+Do,i[9]=ci-ai,i[10]=1-(_r+$r),i[11]=0,i[12]=ie[0],i[13]=ie[1],i[14]=ie[2],i[15]=1,i}function _i(i,m){const ie=new Dt(3),Xe=-m[0],gt=-m[1],Kt=-m[2],un=m[3],cn=m[4],Un=m[5],Jn=m[6],_r=m[7],Kr=Xe*Xe+gt*gt+Kt*Kt+un*un;return Kr>0?(ie[0]=2*(cn*un+_r*Xe+Un*Kt-Jn*gt)/Kr,ie[1]=2*(Un*un+_r*gt+Jn*Xe-cn*Kt)/Kr,ie[2]=2*(Jn*un+_r*Kt+cn*gt-Un*Xe)/Kr):(ie[0]=2*(cn*un+_r*Xe+Un*Kt-Jn*gt),ie[1]=2*(Un*un+_r*gt+Jn*Xe-cn*Kt),ie[2]=2*(Jn*un+_r*Kt+cn*gt-Un*Xe)),to(i,m,ie),i}function Qr(i,m){return i[0]=m[12],i[1]=m[13],i[2]=m[14],i}function ot(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[4],un=m[5],cn=m[6],Un=m[8],Jn=m[9],_r=m[10];return i[0]=Math.sqrt(ie*ie+Xe*Xe+gt*gt),i[1]=Math.sqrt(Kt*Kt+un*un+cn*cn),i[2]=Math.sqrt(Un*Un+Jn*Jn+_r*_r),i}function hn(i,m){const ie=new Dt(3);ot(ie,m);const Xe=1/ie[0],gt=1/ie[1],Kt=1/ie[2],un=m[0]*Xe,cn=m[1]*gt,Un=m[2]*Kt,Jn=m[4]*Xe,_r=m[5]*gt,Kr=m[6]*Kt,Gr=m[8]*Xe,$r=m[9]*gt,ci=m[10]*Kt,Qi=un+_r+ci;let ai=0;return Qi>0?(ai=2*Math.sqrt(Qi+1),i[3]=.25*ai,i[0]=(Kr-$r)/ai,i[1]=(Gr-Un)/ai,i[2]=(cn-Jn)/ai):un>_r&&un>ci?(ai=2*Math.sqrt(1+un-_r-ci),i[3]=(Kr-$r)/ai,i[0]=.25*ai,i[1]=(cn+Jn)/ai,i[2]=(Gr+Un)/ai):_r>ci?(ai=2*Math.sqrt(1+_r-un-ci),i[3]=(Gr-Un)/ai,i[0]=(cn+Jn)/ai,i[1]=.25*ai,i[2]=(Kr+$r)/ai):(ai=2*Math.sqrt(1+ci-un-_r),i[3]=(cn-Jn)/ai,i[0]=(Gr+Un)/ai,i[1]=(Kr+$r)/ai,i[2]=.25*ai),i}function Nt(i,m,ie,Xe){m[0]=Xe[12],m[1]=Xe[13],m[2]=Xe[14];const gt=Xe[0],Kt=Xe[1],un=Xe[2],cn=Xe[4],Un=Xe[5],Jn=Xe[6],_r=Xe[8],Kr=Xe[9],Gr=Xe[10];ie[0]=Math.sqrt(gt*gt+Kt*Kt+un*un),ie[1]=Math.sqrt(cn*cn+Un*Un+Jn*Jn),ie[2]=Math.sqrt(_r*_r+Kr*Kr+Gr*Gr);const $r=1/ie[0],ci=1/ie[1],Qi=1/ie[2],ai=gt*$r,Do=Kt*ci,$o=un*Qi,Io=cn*$r,So=Un*ci,ko=Jn*Qi,br=_r*$r,To=Kr*ci,Ss=Gr*Qi,zs=ai+So+Ss;let mo=0;return zs>0?(mo=2*Math.sqrt(zs+1),i[3]=.25*mo,i[0]=(ko-To)/mo,i[1]=(br-$o)/mo,i[2]=(Do-Io)/mo):ai>So&&ai>Ss?(mo=2*Math.sqrt(1+ai-So-Ss),i[3]=(ko-To)/mo,i[0]=.25*mo,i[1]=(Do+Io)/mo,i[2]=(br+$o)/mo):So>Ss?(mo=2*Math.sqrt(1+So-ai-Ss),i[3]=(br-$o)/mo,i[0]=(Do+Io)/mo,i[1]=.25*mo,i[2]=(ko+To)/mo):(mo=2*Math.sqrt(1+Ss-ai-So),i[3]=(Do-Io)/mo,i[0]=(br+$o)/mo,i[1]=(ko+To)/mo,i[2]=.25*mo),i}function N(i,m,ie,Xe){const gt=m[0],Kt=m[1],un=m[2],cn=m[3],Un=gt+gt,Jn=Kt+Kt,_r=un+un,Kr=gt*Un,Gr=gt*Jn,$r=gt*_r,ci=Kt*Jn,Qi=Kt*_r,ai=un*_r,Do=cn*Un,$o=cn*Jn,Io=cn*_r,So=Xe[0],ko=Xe[1],br=Xe[2];return i[0]=(1-(ci+ai))*So,i[1]=(Gr+Io)*So,i[2]=($r-$o)*So,i[3]=0,i[4]=(Gr-Io)*ko,i[5]=(1-(Kr+ai))*ko,i[6]=(Qi+Do)*ko,i[7]=0,i[8]=($r+$o)*br,i[9]=(Qi-Do)*br,i[10]=(1-(Kr+ci))*br,i[11]=0,i[12]=ie[0],i[13]=ie[1],i[14]=ie[2],i[15]=1,i}function V(i,m,ie,Xe,gt){const Kt=m[0],un=m[1],cn=m[2],Un=m[3],Jn=Kt+Kt,_r=un+un,Kr=cn+cn,Gr=Kt*Jn,$r=Kt*_r,ci=Kt*Kr,Qi=un*_r,ai=un*Kr,Do=cn*Kr,$o=Un*Jn,Io=Un*_r,So=Un*Kr,ko=Xe[0],br=Xe[1],To=Xe[2],Ss=gt[0],zs=gt[1],mo=gt[2],ga=(1-(Qi+Do))*ko,Qs=($r+So)*ko,Cs=(ci-Io)*ko,cs=($r-So)*br,Ga=(1-(Gr+Do))*br,wl=(ai+$o)*br,nu=(ci+Io)*To,Rs=(ai-$o)*To,ad=(1-(Gr+Qi))*To;return i[0]=ga,i[1]=Qs,i[2]=Cs,i[3]=0,i[4]=cs,i[5]=Ga,i[6]=wl,i[7]=0,i[8]=nu,i[9]=Rs,i[10]=ad,i[11]=0,i[12]=ie[0]+Ss-(ga*Ss+cs*zs+nu*mo),i[13]=ie[1]+zs-(Qs*Ss+Ga*zs+Rs*mo),i[14]=ie[2]+mo-(Cs*Ss+wl*zs+ad*mo),i[15]=1,i}function Oe(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=ie+ie,cn=Xe+Xe,Un=gt+gt,Jn=ie*un,_r=Xe*un,Kr=Xe*cn,Gr=gt*un,$r=gt*cn,ci=gt*Un,Qi=Kt*un,ai=Kt*cn,Do=Kt*Un;return i[0]=1-Kr-ci,i[1]=_r+Do,i[2]=Gr-ai,i[3]=0,i[4]=_r-Do,i[5]=1-Jn-ci,i[6]=$r+Qi,i[7]=0,i[8]=Gr+ai,i[9]=$r-Qi,i[10]=1-Jn-Kr,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function st(i,m,ie,Xe,gt,Kt,un){const cn=1/(ie-m),Un=1/(gt-Xe),Jn=1/(Kt-un);return i[0]=2*Kt*cn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*Kt*Un,i[6]=0,i[7]=0,i[8]=(ie+m)*cn,i[9]=(gt+Xe)*Un,i[10]=(un+Kt)*Jn,i[11]=-1,i[12]=0,i[13]=0,i[14]=un*Kt*2*Jn,i[15]=0,i}function Rt(i,m,ie,Xe,gt){const Kt=1/Math.tan(m/2);if(i[0]=Kt/ie,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Kt,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=gt&&gt!==1/0){const un=1/(Xe-gt);i[10]=(gt+Xe)*un,i[14]=2*gt*Xe*un}else i[10]=-1,i[14]=-2*Xe;return i}u(jr,{add:()=>an,adjoint:()=>xo,clone:()=>Jr,copy:()=>Wi,create:()=>ui,decompose:()=>Nt,determinant:()=>Qo,equals:()=>xi,exactEquals:()=>Zr,frob:()=>Vi,fromQuat:()=>Oe,fromQuat2:()=>_i,fromRotation:()=>Ut,fromRotationTranslation:()=>to,fromRotationTranslationScale:()=>N,fromRotationTranslationScaleOrigin:()=>V,fromScaling:()=>Je,fromTranslation:()=>q,fromValues:()=>ao,fromXRotation:()=>Xn,fromYRotation:()=>gr,fromZRotation:()=>Xi,frustum:()=>st,getRotation:()=>hn,getScaling:()=>ot,getTranslation:()=>Qr,identity:()=>_o,invert:()=>Po,lookAt:()=>Or,mul:()=>Li,multiply:()=>tt,multiplyScalar:()=>In,multiplyScalarAndAdd:()=>rr,ortho:()=>yr,orthoNO:()=>Qn,orthoZO:()=>mr,perspective:()=>Jt,perspectiveFromFieldOfView:()=>jn,perspectiveNO:()=>Rt,perspectiveZO:()=>gn,rotate:()=>j,rotateX:()=>pe,rotateY:()=>k,rotateZ:()=>le,scale:()=>He,set:()=>vo,str:()=>ii,sub:()=>Ii,subtract:()=>Ln,targetTo:()=>xr,translate:()=>Qt,transpose:()=>wo});var Jt=Rt;function gn(i,m,ie,Xe,gt){const Kt=1/Math.tan(m/2);if(i[0]=Kt/ie,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Kt,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=gt&&gt!==1/0){const un=1/(Xe-gt);i[10]=gt*un,i[14]=gt*Xe*un}else i[10]=-1,i[14]=-Xe;return i}function jn(i,m,ie,Xe){const gt=Math.tan(m.upDegrees*Math.PI/180),Kt=Math.tan(m.downDegrees*Math.PI/180),un=Math.tan(m.leftDegrees*Math.PI/180),cn=Math.tan(m.rightDegrees*Math.PI/180),Un=2/(un+cn),Jn=2/(gt+Kt);return i[0]=Un,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Jn,i[6]=0,i[7]=0,i[8]=-(un-cn)*Un*.5,i[9]=(gt-Kt)*Jn*.5,i[10]=Xe/(ie-Xe),i[11]=-1,i[12]=0,i[13]=0,i[14]=Xe*ie/(ie-Xe),i[15]=0,i}function Qn(i,m,ie,Xe,gt,Kt,un){const cn=1/(m-ie),Un=1/(Xe-gt),Jn=1/(Kt-un);return i[0]=-2*cn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*Un,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*Jn,i[11]=0,i[12]=(m+ie)*cn,i[13]=(gt+Xe)*Un,i[14]=(un+Kt)*Jn,i[15]=1,i}var yr=Qn;function mr(i,m,ie,Xe,gt,Kt,un){const cn=1/(m-ie),Un=1/(Xe-gt),Jn=1/(Kt-un);return i[0]=-2*cn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*Un,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=Jn,i[11]=0,i[12]=(m+ie)*cn,i[13]=(gt+Xe)*Un,i[14]=Kt*Jn,i[15]=1,i}function Or(i,m,ie,Xe){let gt,Kt,un,cn,Un,Jn,_r,Kr,Gr,$r;const ci=m[0],Qi=m[1],ai=m[2],Do=Xe[0],$o=Xe[1],Io=Xe[2],So=ie[0],ko=ie[1],br=ie[2];return Math.abs(ci-So)<bt&&Math.abs(Qi-ko)<bt&&Math.abs(ai-br)<bt?_o(i):(Kr=ci-So,Gr=Qi-ko,$r=ai-br,gt=1/Math.sqrt(Kr*Kr+Gr*Gr+$r*$r),Kr*=gt,Gr*=gt,$r*=gt,Kt=$o*$r-Io*Gr,un=Io*Kr-Do*$r,cn=Do*Gr-$o*Kr,gt=Math.sqrt(Kt*Kt+un*un+cn*cn),gt?(gt=1/gt,Kt*=gt,un*=gt,cn*=gt):(Kt=0,un=0,cn=0),Un=Gr*cn-$r*un,Jn=$r*Kt-Kr*cn,_r=Kr*un-Gr*Kt,gt=Math.sqrt(Un*Un+Jn*Jn+_r*_r),gt?(gt=1/gt,Un*=gt,Jn*=gt,_r*=gt):(Un=0,Jn=0,_r=0),i[0]=Kt,i[1]=Un,i[2]=Kr,i[3]=0,i[4]=un,i[5]=Jn,i[6]=Gr,i[7]=0,i[8]=cn,i[9]=_r,i[10]=$r,i[11]=0,i[12]=-(Kt*ci+un*Qi+cn*ai),i[13]=-(Un*ci+Jn*Qi+_r*ai),i[14]=-(Kr*ci+Gr*Qi+$r*ai),i[15]=1,i)}function xr(i,m,ie,Xe){const gt=m[0],Kt=m[1],un=m[2],cn=Xe[0],Un=Xe[1],Jn=Xe[2];let _r=gt-ie[0],Kr=Kt-ie[1],Gr=un-ie[2],$r=_r*_r+Kr*Kr+Gr*Gr;$r>0&&($r=1/Math.sqrt($r),_r*=$r,Kr*=$r,Gr*=$r);let ci=Un*Gr-Jn*Kr,Qi=Jn*_r-cn*Gr,ai=cn*Kr-Un*_r;return $r=ci*ci+Qi*Qi+ai*ai,$r>0&&($r=1/Math.sqrt($r),ci*=$r,Qi*=$r,ai*=$r),i[0]=ci,i[1]=Qi,i[2]=ai,i[3]=0,i[4]=Kr*ai-Gr*Qi,i[5]=Gr*ci-_r*ai,i[6]=_r*Qi-Kr*ci,i[7]=0,i[8]=_r,i[9]=Kr,i[10]=Gr,i[11]=0,i[12]=gt,i[13]=Kt,i[14]=un,i[15]=1,i}function ii(i){return`mat4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]}, ${i[9]}, ${i[10]}, ${i[11]}, ${i[12]}, ${i[13]}, ${i[14]}, ${i[15]})`}function Vi(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8]+i[9]*i[9]+i[10]*i[10]+i[11]*i[11]+i[12]*i[12]+i[13]*i[13]+i[14]*i[14]+i[15]*i[15])}function an(i,m,ie){return i[0]=m[0]+ie[0],i[1]=m[1]+ie[1],i[2]=m[2]+ie[2],i[3]=m[3]+ie[3],i[4]=m[4]+ie[4],i[5]=m[5]+ie[5],i[6]=m[6]+ie[6],i[7]=m[7]+ie[7],i[8]=m[8]+ie[8],i[9]=m[9]+ie[9],i[10]=m[10]+ie[10],i[11]=m[11]+ie[11],i[12]=m[12]+ie[12],i[13]=m[13]+ie[13],i[14]=m[14]+ie[14],i[15]=m[15]+ie[15],i}function Ln(i,m,ie){return i[0]=m[0]-ie[0],i[1]=m[1]-ie[1],i[2]=m[2]-ie[2],i[3]=m[3]-ie[3],i[4]=m[4]-ie[4],i[5]=m[5]-ie[5],i[6]=m[6]-ie[6],i[7]=m[7]-ie[7],i[8]=m[8]-ie[8],i[9]=m[9]-ie[9],i[10]=m[10]-ie[10],i[11]=m[11]-ie[11],i[12]=m[12]-ie[12],i[13]=m[13]-ie[13],i[14]=m[14]-ie[14],i[15]=m[15]-ie[15],i}function In(i,m,ie){return i[0]=m[0]*ie,i[1]=m[1]*ie,i[2]=m[2]*ie,i[3]=m[3]*ie,i[4]=m[4]*ie,i[5]=m[5]*ie,i[6]=m[6]*ie,i[7]=m[7]*ie,i[8]=m[8]*ie,i[9]=m[9]*ie,i[10]=m[10]*ie,i[11]=m[11]*ie,i[12]=m[12]*ie,i[13]=m[13]*ie,i[14]=m[14]*ie,i[15]=m[15]*ie,i}function rr(i,m,ie,Xe){return i[0]=m[0]+ie[0]*Xe,i[1]=m[1]+ie[1]*Xe,i[2]=m[2]+ie[2]*Xe,i[3]=m[3]+ie[3]*Xe,i[4]=m[4]+ie[4]*Xe,i[5]=m[5]+ie[5]*Xe,i[6]=m[6]+ie[6]*Xe,i[7]=m[7]+ie[7]*Xe,i[8]=m[8]+ie[8]*Xe,i[9]=m[9]+ie[9]*Xe,i[10]=m[10]+ie[10]*Xe,i[11]=m[11]+ie[11]*Xe,i[12]=m[12]+ie[12]*Xe,i[13]=m[13]+ie[13]*Xe,i[14]=m[14]+ie[14]*Xe,i[15]=m[15]+ie[15]*Xe,i}function Zr(i,m){return i[0]===m[0]&&i[1]===m[1]&&i[2]===m[2]&&i[3]===m[3]&&i[4]===m[4]&&i[5]===m[5]&&i[6]===m[6]&&i[7]===m[7]&&i[8]===m[8]&&i[9]===m[9]&&i[10]===m[10]&&i[11]===m[11]&&i[12]===m[12]&&i[13]===m[13]&&i[14]===m[14]&&i[15]===m[15]}function xi(i,m){const ie=i[0],Xe=i[1],gt=i[2],Kt=i[3],un=i[4],cn=i[5],Un=i[6],Jn=i[7],_r=i[8],Kr=i[9],Gr=i[10],$r=i[11],ci=i[12],Qi=i[13],ai=i[14],Do=i[15],$o=m[0],Io=m[1],So=m[2],ko=m[3],br=m[4],To=m[5],Ss=m[6],zs=m[7],mo=m[8],ga=m[9],Qs=m[10],Cs=m[11],cs=m[12],Ga=m[13],wl=m[14],nu=m[15];return Math.abs(ie-$o)<=bt*Math.max(1,Math.abs(ie),Math.abs($o))&&Math.abs(Xe-Io)<=bt*Math.max(1,Math.abs(Xe),Math.abs(Io))&&Math.abs(gt-So)<=bt*Math.max(1,Math.abs(gt),Math.abs(So))&&Math.abs(Kt-ko)<=bt*Math.max(1,Math.abs(Kt),Math.abs(ko))&&Math.abs(un-br)<=bt*Math.max(1,Math.abs(un),Math.abs(br))&&Math.abs(cn-To)<=bt*Math.max(1,Math.abs(cn),Math.abs(To))&&Math.abs(Un-Ss)<=bt*Math.max(1,Math.abs(Un),Math.abs(Ss))&&Math.abs(Jn-zs)<=bt*Math.max(1,Math.abs(Jn),Math.abs(zs))&&Math.abs(_r-mo)<=bt*Math.max(1,Math.abs(_r),Math.abs(mo))&&Math.abs(Kr-ga)<=bt*Math.max(1,Math.abs(Kr),Math.abs(ga))&&Math.abs(Gr-Qs)<=bt*Math.max(1,Math.abs(Gr),Math.abs(Qs))&&Math.abs($r-Cs)<=bt*Math.max(1,Math.abs($r),Math.abs(Cs))&&Math.abs(ci-cs)<=bt*Math.max(1,Math.abs(ci),Math.abs(cs))&&Math.abs(Qi-Ga)<=bt*Math.max(1,Math.abs(Qi),Math.abs(Ga))&&Math.abs(ai-wl)<=bt*Math.max(1,Math.abs(ai),Math.abs(wl))&&Math.abs(Do-nu)<=bt*Math.max(1,Math.abs(Do),Math.abs(nu))}var Li=tt,Ii=Ln,Ti={};function Ko(){const i=new Dt(4);return Dt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0),i}function Ji(i){const m=new Dt(4);return m[0]=i[0],m[1]=i[1],m[2]=i[2],m[3]=i[3],m}function No(i,m,ie,Xe){const gt=new Dt(4);return gt[0]=i,gt[1]=m,gt[2]=ie,gt[3]=Xe,gt}function Ao(i,m){return i[0]=m[0],i[1]=m[1],i[2]=m[2],i[3]=m[3],i}function ts(i,m,ie,Xe,gt){return i[0]=m,i[1]=ie,i[2]=Xe,i[3]=gt,i}function Ms(i,m,ie){return i[0]=m[0]+ie[0],i[1]=m[1]+ie[1],i[2]=m[2]+ie[2],i[3]=m[3]+ie[3],i}function Yo(i,m,ie){return i[0]=m[0]-ie[0],i[1]=m[1]-ie[1],i[2]=m[2]-ie[2],i[3]=m[3]-ie[3],i}function jo(i,m,ie){return i[0]=m[0]*ie[0],i[1]=m[1]*ie[1],i[2]=m[2]*ie[2],i[3]=m[3]*ie[3],i}function Ea(i,m,ie){return i[0]=m[0]/ie[0],i[1]=m[1]/ie[1],i[2]=m[2]/ie[2],i[3]=m[3]/ie[3],i}function js(i,m){return i[0]=Math.ceil(m[0]),i[1]=Math.ceil(m[1]),i[2]=Math.ceil(m[2]),i[3]=Math.ceil(m[3]),i}function oa(i,m){return i[0]=Math.floor(m[0]),i[1]=Math.floor(m[1]),i[2]=Math.floor(m[2]),i[3]=Math.floor(m[3]),i}function Sa(i,m,ie){return i[0]=Math.min(m[0],ie[0]),i[1]=Math.min(m[1],ie[1]),i[2]=Math.min(m[2],ie[2]),i[3]=Math.min(m[3],ie[3]),i}function Za(i,m,ie){return i[0]=Math.max(m[0],ie[0]),i[1]=Math.max(m[1],ie[1]),i[2]=Math.max(m[2],ie[2]),i[3]=Math.max(m[3],ie[3]),i}function gc(i,m){return i[0]=Ae(m[0]),i[1]=Ae(m[1]),i[2]=Ae(m[2]),i[3]=Ae(m[3]),i}function $a(i,m,ie){return i[0]=m[0]*ie,i[1]=m[1]*ie,i[2]=m[2]*ie,i[3]=m[3]*ie,i}function Pa(i,m,ie,Xe){return i[0]=m[0]+ie[0]*Xe,i[1]=m[1]+ie[1]*Xe,i[2]=m[2]+ie[2]*Xe,i[3]=m[3]+ie[3]*Xe,i}function ro(i,m){const ie=m[0]-i[0],Xe=m[1]-i[1],gt=m[2]-i[2],Kt=m[3]-i[3];return Math.sqrt(ie*ie+Xe*Xe+gt*gt+Kt*Kt)}function bo(i,m){const ie=m[0]-i[0],Xe=m[1]-i[1],gt=m[2]-i[2],Kt=m[3]-i[3];return ie*ie+Xe*Xe+gt*gt+Kt*Kt}function Bo(i){const m=i[0],ie=i[1],Xe=i[2],gt=i[3];return Math.sqrt(m*m+ie*ie+Xe*Xe+gt*gt)}function Fs(i){const m=i[0],ie=i[1],Xe=i[2],gt=i[3];return m*m+ie*ie+Xe*Xe+gt*gt}function as(i,m){return i[0]=-m[0],i[1]=-m[1],i[2]=-m[2],i[3]=-m[3],i}function sa(i,m){return i[0]=1/m[0],i[1]=1/m[1],i[2]=1/m[2],i[3]=1/m[3],i}function Ds(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3];let un=ie*ie+Xe*Xe+gt*gt+Kt*Kt;return un>0&&(un=1/Math.sqrt(un)),i[0]=ie*un,i[1]=Xe*un,i[2]=gt*un,i[3]=Kt*un,i}function ks(i,m){return i[0]*m[0]+i[1]*m[1]+i[2]*m[2]+i[3]*m[3]}function ms(i,m,ie,Xe){const gt=ie[0]*Xe[1]-ie[1]*Xe[0],Kt=ie[0]*Xe[2]-ie[2]*Xe[0],un=ie[0]*Xe[3]-ie[3]*Xe[0],cn=ie[1]*Xe[2]-ie[2]*Xe[1],Un=ie[1]*Xe[3]-ie[3]*Xe[1],Jn=ie[2]*Xe[3]-ie[3]*Xe[2],_r=m[0],Kr=m[1],Gr=m[2],$r=m[3];return i[0]=Kr*Jn-Gr*Un+$r*cn,i[1]=-_r*Jn+Gr*un-$r*Kt,i[2]=_r*Un-Kr*un+$r*gt,i[3]=-_r*cn+Kr*Kt-Gr*gt,i}function _(i,m,ie,Xe){const gt=m[0],Kt=m[1],un=m[2],cn=m[3];return i[0]=gt+Xe*(ie[0]-gt),i[1]=Kt+Xe*(ie[1]-Kt),i[2]=un+Xe*(ie[2]-un),i[3]=cn+Xe*(ie[3]-cn),i}function Q(i,m){let ie,Xe,gt,Kt,un,cn;m=void 0===m?1:m;do{ie=2*Le()-1,Xe=2*Le()-1,un=ie*ie+Xe*Xe}while(un>=1);do{gt=2*Le()-1,Kt=2*Le()-1,cn=gt*gt+Kt*Kt}while(cn>=1);const Un=Math.sqrt((1-un)/cn);return i[0]=m*ie,i[1]=m*Xe,i[2]=m*gt*Un,i[3]=m*Kt*Un,i}function P(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3];return i[0]=ie[0]*Xe+ie[4]*gt+ie[8]*Kt+ie[12]*un,i[1]=ie[1]*Xe+ie[5]*gt+ie[9]*Kt+ie[13]*un,i[2]=ie[2]*Xe+ie[6]*gt+ie[10]*Kt+ie[14]*un,i[3]=ie[3]*Xe+ie[7]*gt+ie[11]*Kt+ie[15]*un,i}function ae(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=ie[0],cn=ie[1],Un=ie[2],Jn=ie[3],_r=Jn*Xe+cn*Kt-Un*gt,Kr=Jn*gt+Un*Xe-un*Kt,Gr=Jn*Kt+un*gt-cn*Xe,$r=-un*Xe-cn*gt-Un*Kt;return i[0]=_r*Jn+$r*-un+Kr*-Un-Gr*-cn,i[1]=Kr*Jn+$r*-cn+Gr*-un-_r*-Un,i[2]=Gr*Jn+$r*-Un+_r*-cn-Kr*-un,i[3]=m[3],i}function nt(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function Pt(i){return`vec4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}function sn(i,m){return i[0]===m[0]&&i[1]===m[1]&&i[2]===m[2]&&i[3]===m[3]}function cr(i,m){const ie=i[0],Xe=i[1],gt=i[2],Kt=i[3],un=m[0],cn=m[1],Un=m[2],Jn=m[3];return Math.abs(ie-un)<=bt*Math.max(1,Math.abs(ie),Math.abs(un))&&Math.abs(Xe-cn)<=bt*Math.max(1,Math.abs(Xe),Math.abs(cn))&&Math.abs(gt-Un)<=bt*Math.max(1,Math.abs(gt),Math.abs(Un))&&Math.abs(Kt-Jn)<=bt*Math.max(1,Math.abs(Kt),Math.abs(Jn))}u(Ti,{add:()=>Ms,ceil:()=>js,clone:()=>Ji,copy:()=>Ao,create:()=>Ko,cross:()=>ms,dist:()=>qr,distance:()=>ro,div:()=>gi,divide:()=>Ea,dot:()=>ks,equals:()=>cr,exactEquals:()=>sn,floor:()=>oa,forEach:()=>fo,fromValues:()=>No,inverse:()=>sa,len:()=>ki,length:()=>Bo,lerp:()=>_,max:()=>Za,min:()=>Sa,mul:()=>oi,multiply:()=>jo,negate:()=>as,normalize:()=>Ds,random:()=>Q,round:()=>gc,scale:()=>$a,scaleAndAdd:()=>Pa,set:()=>ts,sqrDist:()=>vi,sqrLen:()=>si,squaredDistance:()=>bo,squaredLength:()=>Fs,str:()=>Pt,sub:()=>Xr,subtract:()=>Yo,transformMat4:()=>P,transformQuat:()=>ae,zero:()=>nt});var ya,Go,Xr=Yo,oi=jo,gi=Ea,qr=ro,vi=bo,ki=Bo,si=Fs,fo=function(){const i=Ko();return function(m,ie,Xe,gt,Kt,un){let cn,Un;for(ie||(ie=4),Xe||(Xe=0),Un=gt?Math.min(gt*ie+Xe,m.length):m.length,cn=Xe;cn<Un;cn+=ie)i[0]=m[cn],i[1]=m[cn+1],i[2]=m[cn+2],i[3]=m[cn+3],Kt(i,i,un),m[cn]=i[0],m[cn+1]=i[1],m[cn+2]=i[2],m[cn+3]=i[3];return m}}(),ds=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL0ROW3=3]="COL0ROW3",i[i.COL1ROW0=4]="COL1ROW0",i[i.COL1ROW1=5]="COL1ROW1",i[i.COL1ROW2=6]="COL1ROW2",i[i.COL1ROW3=7]="COL1ROW3",i[i.COL2ROW0=8]="COL2ROW0",i[i.COL2ROW1=9]="COL2ROW1",i[i.COL2ROW2=10]="COL2ROW2",i[i.COL2ROW3=11]="COL2ROW3",i[i.COL3ROW0=12]="COL3ROW0",i[i.COL3ROW1=13]="COL3ROW1",i[i.COL3ROW2=14]="COL3ROW2",i[i.COL3ROW3=15]="COL3ROW3",i}(ds||{}),Us=45*Math.PI/180,As=1,ta=.1,aa=500,hs=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Bs=class extends Ns{static get IDENTITY(){return function uc(){return Go||(Go=new Bs,Object.freeze(Go)),Go}()}static get ZERO(){return function ll(){return ya||(ya=new Bs([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(ya)),ya}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return ds}constructor(i){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this[9]=i[9],this[10]=i[10],this[11]=i[11],this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15],this.check()}set(i,m,ie,Xe,gt,Kt,un,cn,Un,Jn,_r,Kr,Gr,$r,ci,Qi){return this[0]=i,this[1]=m,this[2]=ie,this[3]=Xe,this[4]=gt,this[5]=Kt,this[6]=un,this[7]=cn,this[8]=Un,this[9]=Jn,this[10]=_r,this[11]=Kr,this[12]=Gr,this[13]=$r,this[14]=ci,this[15]=Qi,this.check()}setRowMajor(i,m,ie,Xe,gt,Kt,un,cn,Un,Jn,_r,Kr,Gr,$r,ci,Qi){return this[0]=i,this[1]=gt,this[2]=Un,this[3]=Gr,this[4]=m,this[5]=Kt,this[6]=Jn,this[7]=$r,this[8]=ie,this[9]=un,this[10]=_r,this[11]=ci,this[12]=Xe,this[13]=cn,this[14]=Kr,this[15]=Qi,this.check()}toRowMajor(i){return i[0]=this[0],i[1]=this[4],i[2]=this[8],i[3]=this[12],i[4]=this[1],i[5]=this[5],i[6]=this[9],i[7]=this[13],i[8]=this[2],i[9]=this[6],i[10]=this[10],i[11]=this[14],i[12]=this[3],i[13]=this[7],i[14]=this[11],i[15]=this[15],i}identity(){return this.copy(hs)}fromObject(i){return this.check()}fromQuaternion(i){return Oe(this,i),this.check()}frustum(i){const{left:m,right:ie,bottom:Xe,top:gt,near:Kt=ta,far:un=aa}=i;return un===1/0?function Ws(i,m,ie,Xe,gt,Kt){const cn=2*Kt/(gt-Xe),Un=(ie+m)/(ie-m),Jn=(gt+Xe)/(gt-Xe),Gr=-2*Kt;i[0]=2*Kt/(ie-m),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=cn,i[6]=0,i[7]=0,i[8]=Un,i[9]=Jn,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=Gr,i[15]=0}(this,m,ie,Xe,gt,Kt):st(this,m,ie,Xe,gt,Kt,un),this.check()}lookAt(i){const{eye:m,center:ie=[0,0,0],up:Xe=[0,1,0]}=i;return Or(this,m,ie,Xe),this.check()}ortho(i){const{left:m,right:ie,bottom:Xe,top:gt,near:Kt=ta,far:un=aa}=i;return yr(this,m,ie,Xe,gt,Kt,un),this.check()}orthographic(i){const{fovy:m=Us,aspect:ie=As,focalDistance:Xe=1,near:gt=ta,far:Kt=aa}=i;Aa(m);const cn=Xe*Math.tan(m/2),Un=cn*ie;return this.ortho({left:-Un,right:Un,bottom:-cn,top:cn,near:gt,far:Kt})}perspective(i){const{fovy:m=45*Math.PI/180,aspect:ie=1,near:Xe=.1,far:gt=500}=i;return Aa(m),Jt(this,m,ie,Xe,gt),this.check()}determinant(){return Qo(this)}getScale(i=[-0,-0,-0]){return i[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),i[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),i[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),i}getTranslation(i=[-0,-0,-0]){return i[0]=this[12],i[1]=this[13],i[2]=this[14],i}getRotation(i,m){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const ie=this.getScale(m=m||[-0,-0,-0]),Xe=1/ie[0],gt=1/ie[1],Kt=1/ie[2];return i[0]=this[0]*Xe,i[1]=this[1]*gt,i[2]=this[2]*Kt,i[3]=0,i[4]=this[4]*Xe,i[5]=this[5]*gt,i[6]=this[6]*Kt,i[7]=0,i[8]=this[8]*Xe,i[9]=this[9]*gt,i[10]=this[10]*Kt,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}getRotationMatrix3(i,m){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const ie=this.getScale(m=m||[-0,-0,-0]),Xe=1/ie[0],gt=1/ie[1],Kt=1/ie[2];return i[0]=this[0]*Xe,i[1]=this[1]*gt,i[2]=this[2]*Kt,i[3]=this[4]*Xe,i[4]=this[5]*gt,i[5]=this[6]*Kt,i[6]=this[8]*Xe,i[7]=this[9]*gt,i[8]=this[10]*Kt,i}transpose(){return wo(this,this),this.check()}invert(){return Po(this,this),this.check()}multiplyLeft(i){return tt(this,i,this),this.check()}multiplyRight(i){return tt(this,this,i),this.check()}rotateX(i){return pe(this,this,i),this.check()}rotateY(i){return k(this,this,i),this.check()}rotateZ(i){return le(this,this,i),this.check()}rotateXYZ(i){return this.rotateX(i[0]).rotateY(i[1]).rotateZ(i[2])}rotateAxis(i,m){return j(this,this,i,m),this.check()}scale(i){return He(this,this,Array.isArray(i)?i:[i,i,i]),this.check()}translate(i){return Qt(this,this,i),this.check()}transform(i,m){return 4===i.length?(De(m=P(m||[-0,-0,-0,-0],i,this),4),m):this.transformAsPoint(i,m)}transformAsPoint(i,m){const{length:ie}=i;let Xe;switch(ie){case 2:Xe=Zt(m||[-0,-0],i,this);break;case 3:Xe=ji(m||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return De(Xe,i.length),Xe}transformAsVector(i,m){let ie;switch(i.length){case 2:ie=bn(m||[-0,-0],i,this);break;case 3:ie=yt(m||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return De(ie,i.length),ie}transformPoint(i,m){return this.transformAsPoint(i,m)}transformVector(i,m){return this.transformAsPoint(i,m)}transformDirection(i,m){return this.transformAsVector(i,m)}makeRotationX(i){return this.identity().rotateX(i)}makeTranslation(i,m,ie){return this.identity().translate([i,m,ie])}};function Aa(i){if(i>2*Math.PI)throw Error("expected radians")}var _c={};function vc(){const i=new Dt(4);return Dt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function ka(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function Bc(i,m,ie){ie*=.5;const Xe=Math.sin(ie);return i[0]=Xe*m[0],i[1]=Xe*m[1],i[2]=Xe*m[2],i[3]=Math.cos(ie),i}function yn(i,m){const ie=2*Math.acos(m[3]),Xe=Math.sin(ie/2);return Xe>bt?(i[0]=m[0]/Xe,i[1]=m[1]/Xe,i[2]=m[2]/Xe):(i[0]=1,i[1]=0,i[2]=0),ie}function dc(i,m){const ie=au(i,m);return Math.acos(2*ie*ie-1)}function Nc(i,m,ie){const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=ie[0],Un=ie[1],Jn=ie[2],_r=ie[3];return i[0]=Xe*_r+un*cn+gt*Jn-Kt*Un,i[1]=gt*_r+un*Un+Kt*cn-Xe*Jn,i[2]=Kt*_r+un*Jn+Xe*Un-gt*cn,i[3]=un*_r-Xe*cn-gt*Un-Kt*Jn,i}function va(i,m,ie){ie*=.5;const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=Math.sin(ie),Un=Math.cos(ie);return i[0]=Xe*Un+un*cn,i[1]=gt*Un+Kt*cn,i[2]=Kt*Un-gt*cn,i[3]=un*Un-Xe*cn,i}function zi(i,m,ie){ie*=.5;const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=Math.sin(ie),Un=Math.cos(ie);return i[0]=Xe*Un-Kt*cn,i[1]=gt*Un+un*cn,i[2]=Kt*Un+Xe*cn,i[3]=un*Un-gt*cn,i}function Jl(i,m,ie){ie*=.5;const Xe=m[0],gt=m[1],Kt=m[2],un=m[3],cn=Math.sin(ie),Un=Math.cos(ie);return i[0]=Xe*Un+gt*cn,i[1]=gt*Un-Xe*cn,i[2]=Kt*Un+un*cn,i[3]=un*Un-Kt*cn,i}function fs(i,m){const ie=m[0],Xe=m[1],gt=m[2];return i[0]=ie,i[1]=Xe,i[2]=gt,i[3]=Math.sqrt(Math.abs(1-ie*ie-Xe*Xe-gt*gt)),i}function hc(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=Math.sqrt(ie*ie+Xe*Xe+gt*gt),cn=Math.exp(Kt),Un=un>0?cn*Math.sin(un)/un:0;return i[0]=ie*Un,i[1]=Xe*Un,i[2]=gt*Un,i[3]=cn*Math.cos(un),i}function yc(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=Math.sqrt(ie*ie+Xe*Xe+gt*gt),cn=un>0?Math.atan2(un,Kt)/un:0;return i[0]=ie*cn,i[1]=Xe*cn,i[2]=gt*cn,i[3]=.5*Math.log(ie*ie+Xe*Xe+gt*gt+Kt*Kt),i}function Ua(i,m,ie){return yc(i,m),Ul(i,i,ie),hc(i,i),i}function ma(i,m,ie,Xe){const gt=m[0],Kt=m[1],un=m[2],cn=m[3];let Gr,$r,ci,Qi,ai,Un=ie[0],Jn=ie[1],_r=ie[2],Kr=ie[3];return Gr=gt*Un+Kt*Jn+un*_r+cn*Kr,Gr<0&&(Gr=-Gr,Un=-Un,Jn=-Jn,_r=-_r,Kr=-Kr),1-Gr>bt?($r=Math.acos(Gr),ai=Math.sin($r),ci=Math.sin((1-Xe)*$r)/ai,Qi=Math.sin(Xe*$r)/ai):(ci=1-Xe,Qi=Xe),i[0]=ci*gt+Qi*Un,i[1]=ci*Kt+Qi*Jn,i[2]=ci*un+Qi*_r,i[3]=ci*cn+Qi*Kr,i}function Ll(i,m){const ie=m[0],Xe=m[1],gt=m[2],Kt=m[3],un=ie*ie+Xe*Xe+gt*gt+Kt*Kt,cn=un?1/un:0;return i[0]=-ie*cn,i[1]=-Xe*cn,i[2]=-gt*cn,i[3]=Kt*cn,i}function Zo(i,m){return i[0]=-m[0],i[1]=-m[1],i[2]=-m[2],i[3]=m[3],i}function Ma(i,m){const ie=m[0]+m[4]+m[8];let Xe;if(ie>0)Xe=Math.sqrt(ie+1),i[3]=.5*Xe,Xe=.5/Xe,i[0]=(m[5]-m[7])*Xe,i[1]=(m[6]-m[2])*Xe,i[2]=(m[1]-m[3])*Xe;else{let gt=0;m[4]>m[0]&&(gt=1),m[8]>m[3*gt+gt]&&(gt=2);const Kt=(gt+1)%3,un=(gt+2)%3;Xe=Math.sqrt(m[3*gt+gt]-m[3*Kt+Kt]-m[3*un+un]+1),i[gt]=.5*Xe,Xe=.5/Xe,i[3]=(m[3*Kt+un]-m[3*un+Kt])*Xe,i[Kt]=(m[3*Kt+gt]+m[3*gt+Kt])*Xe,i[un]=(m[3*un+gt]+m[3*gt+un])*Xe}return i}function tc(i){return`quat(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}u(_c,{add:()=>rc,calculateW:()=>fs,clone:()=>Lc,conjugate:()=>Zo,copy:()=>bc,create:()=>vc,dot:()=>au,equals:()=>we,exactEquals:()=>Qe,exp:()=>hc,fromMat3:()=>Ma,fromValues:()=>Ho,getAngle:()=>dc,getAxisAngle:()=>yn,identity:()=>ka,invert:()=>Ll,len:()=>id,length:()=>fc,lerp:()=>rd,ln:()=>yc,mul:()=>Dc,multiply:()=>Nc,normalize:()=>be,pow:()=>Ua,rotateX:()=>va,rotateY:()=>zi,rotateZ:()=>Jl,rotationTo:()=>qe,scale:()=>Ul,set:()=>nc,setAxes:()=>pn,setAxisAngle:()=>Bc,slerp:()=>ma,sqlerp:()=>Ft,sqrLen:()=>Fd,squaredLength:()=>Zc,str:()=>tc});var Lc=Ji,Ho=No,bc=Ao,nc=ts,rc=Ms,Dc=Nc,Ul=$a,au=ks,rd=_,fc=Bo,id=fc,Zc=Fs,Fd=Zc,be=Ds,Qe=sn;function we(i,m){return Math.abs(ks(i,m))>=1-bt}var qe=function(){const i=on(),m=Ir(1,0,0),ie=Ir(0,1,0);return function(Xe,gt,Kt){const un=Kn(gt,Kt);return un<-.999999?(sr(i,m,gt),Ro(i)<1e-6&&sr(i,ie,gt),An(i,i),Bc(Xe,i,Math.PI),Xe):un>.999999?(Xe[0]=0,Xe[1]=0,Xe[2]=0,Xe[3]=1,Xe):(sr(i,gt,Kt),Xe[0]=i[0],Xe[1]=i[1],Xe[2]=i[2],Xe[3]=1+un,be(Xe,Xe))}}(),Ft=function(){const i=vc(),m=vc();return function(ie,Xe,gt,Kt,un,cn){return ma(i,Xe,un,cn),ma(m,gt,Kt,cn),ma(ie,i,m,2*cn*(1-cn)),ie}}(),pn=function(){const i=Wn();return function(m,ie,Xe,gt){return i[0]=Xe[0],i[3]=Xe[1],i[6]=Xe[2],i[1]=gt[0],i[4]=gt[1],i[7]=gt[2],i[2]=-ie[0],i[5]=-ie[1],i[8]=-ie[2],be(m,Ma(m,i))}}(),Vn=[0,0,0,1],zr=class extends Rn{constructor(i=0,m=0,ie=0,Xe=1){super(-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?this.copy(i):this.set(i,m,ie,Xe)}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}set(i,m,ie,Xe){return this[0]=i,this[1]=m,this[2]=ie,this[3]=Xe,this.check()}fromObject(i){return this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this.check()}fromMatrix3(i){return Ma(this,i),this.check()}fromAxisRotation(i,m){return Bc(this,i,m),this.check()}identity(){return ka(this),this.check()}setAxisAngle(i,m){return this.fromAxisRotation(i,m)}get ELEMENTS(){return 4}get x(){return this[0]}set x(i){this[0]=ee(i)}get y(){return this[1]}set y(i){this[1]=ee(i)}get z(){return this[2]}set z(i){this[2]=ee(i)}get w(){return this[3]}set w(i){this[3]=ee(i)}len(){return fc(this)}lengthSquared(){return Zc(this)}dot(i){return au(this,i)}rotationTo(i,m){return qe(this,i,m),this.check()}add(i){return rc(this,this,i),this.check()}calculateW(){return fs(this,this),this.check()}conjugate(){return Zo(this,this),this.check()}invert(){return Ll(this,this),this.check()}lerp(i,m,ie){return void 0===ie?this.lerp(this,i,m):(rd(this,i,m,ie),this.check())}multiplyRight(i){return Nc(this,this,i),this.check()}multiplyLeft(i){return Nc(this,i,this),this.check()}normalize(){const i=this.len(),m=i>0?1/i:0;return this[0]=this[0]*m,this[1]=this[1]*m,this[2]=this[2]*m,this[3]=this[3]*m,0===i&&(this[3]=1),this.check()}rotateX(i){return va(this,this,i),this.check()}rotateY(i){return zi(this,this,i),this.check()}rotateZ(i){return Jl(this,this,i),this.check()}scale(i){return Ul(this,this,i),this.check()}slerp(i,m,ie){let Xe,gt,Kt;switch(arguments.length){case 1:({start:Xe=Vn,target:gt,ratio:Kt}=i);break;case 2:Xe=this,gt=i,Kt=m;break;default:Xe=i,gt=m,Kt=ie}return ma(this,Xe,gt,Kt),this.check()}transformVector4(i,m=new Xo){return ae(m,i,this),De(m,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(i,m){return this.setAxisAngle(i,m)}premultiply(i){return this.multiplyLeft(i)}multiply(i){return this.multiplyRight(i)}},Uo=class{constructor({phi:i=0,theta:m=0,radius:ie=1,bearing:Xe,pitch:gt,altitude:Kt,radiusScale:un=6371e3}={}){this.phi=i,this.theta=m,this.radius=ie||Kt||1,this.radiusScale=un||1,void 0!==Xe&&(this.bearing=Xe),void 0!==gt&&(this.pitch=gt),this.check()}toString(){return this.formatString(U)}formatString({printTypes:i=!1}){const m=b;return`${i?"Spherical":""}[rho:${m(this.radius)},theta:${m(this.theta)},phi:${m(this.phi)}]`}equals(i){return Fe(this.radius,i.radius)&&Fe(this.theta,i.theta)&&Fe(this.phi,i.phi)}exactEquals(i){return this.radius===i.radius&&this.theta===i.theta&&this.phi===i.phi}get bearing(){return 180-re(this.phi)}set bearing(i){this.phi=Math.PI-X(i)}get pitch(){return re(this.theta)}set pitch(i){this.theta=X(i)}get longitude(){return re(this.phi)}get latitude(){return re(this.theta)}get lng(){return re(this.phi)}get lat(){return re(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(i,m,ie){return this.radius=i,this.phi=m,this.theta=ie,this.check()}clone(){return(new Uo).copy(this)}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this.check()}fromLngLatZ([i,m,ie]){return this.radius=1+ie/this.radiusScale,this.phi=X(m),this.theta=X(i),this.check()}fromVector3(i){return this.radius=Ar(i),this.radius>0&&(this.theta=Math.atan2(i[0],i[1]),this.phi=Math.acos(ce(i[2]/this.radius,-1,1))),this.check()}toVector3(){return new Lo(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},qo="Unknown Euler angle order",Ks=.99999,na=function(i){return i[i.ZYX=0]="ZYX",i[i.YXZ=1]="YXZ",i[i.XZY=2]="XZY",i[i.ZXY=3]="ZXY",i[i.YZX=4]="YZX",i[i.XYZ=5]="XYZ",i}(na||{}),Gs=class extends Rn{static get ZYX(){return na.ZYX}static get YXZ(){return na.YXZ}static get XZY(){return na.XZY}static get ZXY(){return na.ZXY}static get YZX(){return na.YZX}static get XYZ(){return na.XYZ}static get RollPitchYaw(){return na.ZYX}static get DefaultOrder(){return na.ZYX}static get RotationOrders(){return na}static rotationOrder(i){return na[i]}get ELEMENTS(){return 4}constructor(i=0,m=0,ie=0,Xe=Gs.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(i,m,ie,Xe)}fromQuaternion(i){const[m,ie,Xe,gt]=i,Kt=ie*ie,un=-2*(Kt+Xe*Xe)+1,cn=2*(m*ie+gt*Xe);let Un=-2*(m*Xe-gt*ie);Un=Un>1?1:Un,Un=Un<-1?-1:Un;const Kr=Math.atan2(2*(ie*Xe+gt*m),-2*(m*m+Kt)+1),Gr=Math.asin(Un),$r=Math.atan2(cn,un);return this.set(Kr,Gr,$r,Gs.RollPitchYaw)}fromObject(i){throw new Error("not implemented")}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=Number.isFinite(i[3])||this.order,this.check()}set(i=0,m=0,ie=0,Xe){return this[0]=i,this[1]=m,this[2]=ie,this[3]=Number.isFinite(Xe)?Xe:this[3],this.check()}validate(){return function Uc(i){return i>=0&&i<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}toArray(i=[],m=0){return i[m]=this[0],i[m+1]=this[1],i[m+2]=this[2],i}toArray4(i=[],m=0){return i[m]=this[0],i[m+1]=this[1],i[m+2]=this[2],i[m+3]=this[3],i}toVector3(i=[-0,-0,-0]){return i[0]=this[0],i[1]=this[1],i[2]=this[2],i}get x(){return this[0]}set x(i){this[0]=ee(i)}get y(){return this[1]}set y(i){this[1]=ee(i)}get z(){return this[2]}set z(i){this[2]=ee(i)}get alpha(){return this[0]}set alpha(i){this[0]=ee(i)}get beta(){return this[1]}set beta(i){this[1]=ee(i)}get gamma(){return this[2]}set gamma(i){this[2]=ee(i)}get phi(){return this[0]}set phi(i){this[0]=ee(i)}get theta(){return this[1]}set theta(i){this[1]=ee(i)}get psi(){return this[2]}set psi(i){this[2]=ee(i)}get roll(){return this[0]}set roll(i){this[0]=ee(i)}get pitch(){return this[1]}set pitch(i){this[1]=ee(i)}get yaw(){return this[2]}set yaw(i){this[2]=ee(i)}get order(){return this[3]}set order(i){this[3]=function Ra(i){if(i<0&&i>=6)throw new Error(qo);return i}(i)}fromVector3(i,m){return this.set(i[0],i[1],i[2],Number.isFinite(m)?m:this[3])}fromArray(i,m=0){return this[0]=i[0+m],this[1]=i[1+m],this[2]=i[2+m],void 0!==i[3]&&(this[3]=i[3]),this.check()}fromRollPitchYaw(i,m,ie){return this.set(i,m,ie,na.ZYX)}fromRotationMatrix(i,m=Gs.DefaultOrder){return this._fromRotationMatrix(i,m),this.check()}getRotationMatrix(i){return this._getRotationMatrix(i)}getQuaternion(){const i=new zr;switch(this[3]){case na.XYZ:return i.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case na.YXZ:return i.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case na.ZXY:return i.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case na.ZYX:return i.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case na.YZX:return i.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case na.XZY:return i.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(qo)}}_fromRotationMatrix(i,m=Gs.DefaultOrder){const ie=i[0],Xe=i[4],gt=i[8],Kt=i[1],un=i[5],cn=i[9],Un=i[2],Jn=i[6],_r=i[10];switch(m=m||this[3]){case Gs.XYZ:this[1]=Math.asin(ce(gt,-1,1)),Math.abs(gt)<Ks?(this[0]=Math.atan2(-cn,_r),this[2]=Math.atan2(-Xe,ie)):(this[0]=Math.atan2(Jn,un),this[2]=0);break;case Gs.YXZ:this[0]=Math.asin(-ce(cn,-1,1)),Math.abs(cn)<Ks?(this[1]=Math.atan2(gt,_r),this[2]=Math.atan2(Kt,un)):(this[1]=Math.atan2(-Un,ie),this[2]=0);break;case Gs.ZXY:this[0]=Math.asin(ce(Jn,-1,1)),Math.abs(Jn)<Ks?(this[1]=Math.atan2(-Un,_r),this[2]=Math.atan2(-Xe,un)):(this[1]=0,this[2]=Math.atan2(Kt,ie));break;case Gs.ZYX:this[1]=Math.asin(-ce(Un,-1,1)),Math.abs(Un)<Ks?(this[0]=Math.atan2(Jn,_r),this[2]=Math.atan2(Kt,ie)):(this[0]=0,this[2]=Math.atan2(-Xe,un));break;case Gs.YZX:this[2]=Math.asin(ce(Kt,-1,1)),Math.abs(Kt)<Ks?(this[0]=Math.atan2(-cn,un),this[1]=Math.atan2(-Un,ie)):(this[0]=0,this[1]=Math.atan2(gt,_r));break;case Gs.XZY:this[2]=Math.asin(-ce(Xe,-1,1)),Math.abs(Xe)<Ks?(this[0]=Math.atan2(Jn,un),this[1]=Math.atan2(gt,ie)):(this[0]=Math.atan2(-cn,_r),this[1]=0);break;default:throw new Error(qo)}return this[3]=m,this}_getRotationMatrix(i){const m=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],ie=this.x,Xe=this.y,gt=this.z,Kt=Math.cos(ie),un=Math.cos(Xe),cn=Math.cos(gt),Un=Math.sin(ie),Jn=Math.sin(Xe),_r=Math.sin(gt);switch(this[3]){case Gs.XYZ:{const Kr=Kt*cn,Gr=Kt*_r,$r=Un*cn,ci=Un*_r;m[0]=un*cn,m[4]=-un*_r,m[8]=Jn,m[1]=Gr+$r*Jn,m[5]=Kr-ci*Jn,m[9]=-Un*un,m[2]=ci-Kr*Jn,m[6]=$r+Gr*Jn,m[10]=Kt*un;break}case Gs.YXZ:{const Kr=un*cn,Gr=un*_r,$r=Jn*cn,ci=Jn*_r;m[0]=Kr+ci*Un,m[4]=$r*Un-Gr,m[8]=Kt*Jn,m[1]=Kt*_r,m[5]=Kt*cn,m[9]=-Un,m[2]=Gr*Un-$r,m[6]=ci+Kr*Un,m[10]=Kt*un;break}case Gs.ZXY:{const Kr=un*cn,Gr=un*_r,$r=Jn*cn,ci=Jn*_r;m[0]=Kr-ci*Un,m[4]=-Kt*_r,m[8]=$r+Gr*Un,m[1]=Gr+$r*Un,m[5]=Kt*cn,m[9]=ci-Kr*Un,m[2]=-Kt*Jn,m[6]=Un,m[10]=Kt*un;break}case Gs.ZYX:{const Kr=Kt*cn,Gr=Kt*_r,$r=Un*cn,ci=Un*_r;m[0]=un*cn,m[4]=$r*Jn-Gr,m[8]=Kr*Jn+ci,m[1]=un*_r,m[5]=ci*Jn+Kr,m[9]=Gr*Jn-$r,m[2]=-Jn,m[6]=Un*un,m[10]=Kt*un;break}case Gs.YZX:{const Kr=Kt*un,Gr=Kt*Jn,$r=Un*un,ci=Un*Jn;m[0]=un*cn,m[4]=ci-Kr*_r,m[8]=$r*_r+Gr,m[1]=_r,m[5]=Kt*cn,m[9]=-Un*cn,m[2]=-Jn*cn,m[6]=Gr*_r+$r,m[10]=Kr-ci*_r;break}case Gs.XZY:{const Kr=Kt*un,Gr=Kt*Jn,$r=Un*un,ci=Un*Jn;m[0]=un*cn,m[4]=-_r,m[8]=Jn*cn,m[1]=Kr*_r+ci,m[5]=Kt*cn,m[9]=Gr*_r-$r,m[2]=$r*_r-Gr,m[6]=Un*cn,m[10]=ci*_r+Kr;break}default:throw new Error(qo)}return m[3]=0,m[7]=0,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}toQuaternion(){const i=Math.cos(.5*this.yaw),m=Math.sin(.5*this.yaw),ie=Math.cos(.5*this.roll),Xe=Math.sin(.5*this.roll),gt=Math.cos(.5*this.pitch),Kt=Math.sin(.5*this.pitch);return new zr(i*Xe*gt-m*ie*Kt,i*ie*Kt+m*Xe*gt,m*ie*gt-i*Xe*Kt,i*ie*gt+m*Xe*Kt)}},Ia=class{constructor({x:i=0,y:m=0,z:ie=0,roll:Xe=0,pitch:gt=0,yaw:Kt=0,position:un,orientation:cn}={}){this.position=Array.isArray(un)&&3===un.length?new Lo(un):new Lo(i,m,ie),this.orientation=Array.isArray(cn)&&4===cn.length?new Gs(cn,cn[3]):new Gs(Xe,gt,Kt,Gs.RollPitchYaw)}get x(){return this.position.x}set x(i){this.position.x=i}get y(){return this.position.y}set y(i){this.position.y=i}get z(){return this.position.z}set z(i){this.position.z=i}get roll(){return this.orientation.roll}set roll(i){this.orientation.roll=i}get pitch(){return this.orientation.pitch}set pitch(i){this.orientation.pitch=i}get yaw(){return this.orientation.yaw}set yaw(i){this.orientation.yaw=i}getPosition(){return this.position}getOrientation(){return this.orientation}equals(i){return!!i&&this.position.equals(i.position)&&this.orientation.equals(i.orientation)}exactEquals(i){return!!i&&this.position.exactEquals(i.position)&&this.orientation.exactEquals(i.orientation)}getTransformationMatrix(){const i=Math.sin(this.roll),m=Math.sin(this.pitch),ie=Math.sin(this.yaw),Xe=Math.cos(this.roll),gt=Math.cos(this.pitch),Kt=Math.cos(this.yaw);return(new Bs).setRowMajor(Kt*gt,-ie*Xe+Kt*m*i,ie*i+Kt*m*Xe,this.x,ie*gt,Kt*Xe+ie*m*i,-Kt*i+ie*m*Xe,this.y,-m,gt*i,gt*Xe,this.z,0,0,0,1)}getTransformationMatrixFromPose(i){return(new Bs).multiplyRight(this.getTransformationMatrix()).multiplyRight(i.getTransformationMatrix().invert())}getTransformationMatrixToPose(i){return(new Bs).multiplyRight(i.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},ul={};u(ul,{EPSILON1:()=>pc,EPSILON10:()=>tu,EPSILON11:()=>Xs,EPSILON12:()=>Fu,EPSILON13:()=>Ca,EPSILON14:()=>Va,EPSILON15:()=>ku,EPSILON16:()=>Wa,EPSILON17:()=>Vc,EPSILON18:()=>ja,EPSILON19:()=>jc,EPSILON2:()=>mc,EPSILON20:()=>Rc,EPSILON3:()=>eu,EPSILON4:()=>od,EPSILON5:()=>sd,EPSILON6:()=>qc,EPSILON7:()=>Jc,EPSILON8:()=>Sc,EPSILON9:()=>Pu,PI_OVER_FOUR:()=>Ja,PI_OVER_SIX:()=>Cl,PI_OVER_TWO:()=>qa,TWO_PI:()=>Bu});var pc=.1,mc=.01,eu=.001,od=1e-4,sd=1e-5,qc=1e-6,Jc=1e-7,Sc=1e-8,Pu=1e-9,tu=1e-10,Xs=1e-11,Fu=1e-12,Ca=1e-13,Va=1e-14,ku=1e-15,Wa=1e-16,Vc=1e-17,ja=1e-18,jc=1e-19,Rc=1e-20,qa=Math.PI/2,Ja=Math.PI/4,Cl=Math.PI/6,Bu=2*Math.PI},47590:ln=>{var Z,ye=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,d={};((Z,Re)=>{for(var oe in Re)ye(Z,oe,{get:Re[oe],enumerable:!0})})(d,{VERSION:()=>re,assert:()=>X,console:()=>O,document:()=>S,getBrowser:()=>z,global:()=>L,isBrowser:()=>A,isElectron:()=>M,isMobile:()=>ue,process:()=>U,self:()=>L,window:()=>F}),ln.exports=(Z=d,((Z,Re,oe,Ce)=>{if(Re&&"object"==typeof Re||"function"==typeof Re)for(let K of r(Re))!y.call(Z,K)&&undefined!==K&&ye(Z,K,{get:()=>Re[K],enumerable:!(Ce=w(Re,K))||Ce.enumerable});return Z})(ye({},"__esModule",{value:!0}),Z));var L=globalThis,F=globalThis,S=globalThis.document||{},U=globalThis.process||{},O=globalThis.console,b=globalThis.navigator||{};function M(Z){var Re,oe;if(typeof window<"u"&&"renderer"===(null==(Re=window.process)?void 0:Re.type)||typeof process<"u"&&null!=(oe=process.versions)&&oe.electron)return!0;const Ce=typeof navigator<"u"&&navigator.userAgent,K=Z||Ce;return!!(K&&K.indexOf("Electron")>=0)}function A(){return!("object"==typeof process&&"[object process]"===String(process)&&(null==process||!process.browser))||M()}function ue(){return typeof globalThis.orientation<"u"}function z(Z){return Z||A()?M(Z)?"Electron":(Z||b.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}function X(Z,Re){if(!Z)throw new Error(Re||"Assertion failed")}var re="4.0.7"},69243:(ln,ye,w)=>{var ee,r=Object.defineProperty,y=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,F={};((ee,De)=>{for(var Ge in De)r(ee,Ge,{get:De[Ge],enumerable:!0})})(F,{COLOR:()=>z,LocalStorage:()=>O,Log:()=>Ve,addColor:()=>Z,autobind:()=>Re,default:()=>G,getHiResTimestamp:()=>K,leftPad:()=>M,rightPad:()=>A}),ln.exports=(ee=F,((ee,De,Ge,Ze)=>{if(De&&"object"==typeof De||"function"==typeof De)for(let ut of u(De))!v.call(ee,ut)&&undefined!==ut&&r(ee,ut,{get:()=>De[ut],enumerable:!(Ze=y(De,ut))||Ze.enumerable});return ee})(r({},"__esModule",{value:!0}),ee));var S=w(47590),O=class{constructor(ee,De,Ge="sessionStorage"){this.storage=function U(ee){try{const De=window[ee],Ge="__storage_test__";return De.setItem(Ge,Ge),De.removeItem(Ge),De}catch{return null}}(Ge),this.id=ee,this.config=De,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(ee){if(Object.assign(this.config,ee),this.storage){const De=JSON.stringify(this.config);this.storage.setItem(this.id,De)}}_loadConfiguration(){let ee={};if(this.storage){const De=this.storage.getItem(this.id);ee=De?JSON.parse(De):{}}return Object.assign(this.config,ee),this}};function M(ee,De=8){const Ge=Math.max(De-ee.length,0);return`${" ".repeat(Ge)}${ee}`}function A(ee,De=8){const Ge=Math.max(De-ee.length,0);return`${ee}${" ".repeat(Ge)}`}var ue=w(47590),z=function(ee){return ee[ee.BLACK=30]="BLACK",ee[ee.RED=31]="RED",ee[ee.GREEN=32]="GREEN",ee[ee.YELLOW=33]="YELLOW",ee[ee.BLUE=34]="BLUE",ee[ee.MAGENTA=35]="MAGENTA",ee[ee.CYAN=36]="CYAN",ee[ee.WHITE=37]="WHITE",ee[ee.BRIGHT_BLACK=90]="BRIGHT_BLACK",ee[ee.BRIGHT_RED=91]="BRIGHT_RED",ee[ee.BRIGHT_GREEN=92]="BRIGHT_GREEN",ee[ee.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",ee[ee.BRIGHT_BLUE=94]="BRIGHT_BLUE",ee[ee.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",ee[ee.BRIGHT_CYAN=96]="BRIGHT_CYAN",ee[ee.BRIGHT_WHITE=97]="BRIGHT_WHITE",ee}(z||{}),X=10;function re(ee){return"string"!=typeof ee?ee:(ee=ee.toUpperCase(),z[ee]||z.WHITE)}function Z(ee,De,Ge){return!ue.isBrowser&&"string"==typeof ee&&(De&&(ee=`\x1b[${re(De)}m${ee}\x1b[39m`),Ge&&(ee=`\x1b[${re(Ge)+X}m${ee}\x1b[49m`)),ee}function Re(ee,De=["constructor"]){const Ge=Object.getPrototypeOf(ee),Ze=Object.getOwnPropertyNames(Ge),ut=ee;for(const bt of Ze){const Dt=ut[bt];"function"==typeof Dt&&(De.find(Le=>bt===Le)||(ut[bt]=Dt.bind(ee)))}}function oe(ee,De){if(!ee)throw new Error(De||"Assertion failed")}var Ce=w(47590);function K(){var ee,De,Ge,Ze,ut;let bt;if((0,Ce.isBrowser)()&&Ce.window.performance)bt=null==(Ge=null==(De=null==(ee=Ce.window)?void 0:ee.performance)?void 0:De.now)?void 0:Ge.call(De);else if("hrtime"in Ce.process){const Dt=null==(ut=null==(Ze=Ce.process)?void 0:Ze.hrtime)?void 0:ut.call(Ze);bt=1e3*Dt[0]+Dt[1]/1e6}else bt=Date.now();return bt}var R={debug:(0,S.isBrowser)()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},ce={enabled:!0,level:0};function $(){}var Fe={},je={once:!0},Ve=class{constructor({id:ee}={id:""}){this.VERSION=S.VERSION,this._startTs=K(),this._deltaTs=K(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=ee,this.userData={},this._storage=new O(`__probe-${this.id}__`,ce),this.timeStamp(`${this.id} started`),Re(this),Object.seal(this)}set level(ee){this.setLevel(ee)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((K()-this._startTs).toPrecision(10))}getDelta(){return Number((K()-this._deltaTs).toPrecision(10))}set priority(ee){this.level=ee}get priority(){return this.level}getPriority(){return this.level}enable(ee=!0){return this._storage.setConfiguration({enabled:ee}),this}setLevel(ee){return this._storage.setConfiguration({level:ee}),this}get(ee){return this._storage.config[ee]}set(ee,De){this._storage.setConfiguration({[ee]:De})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(ee,De){if(!ee)throw new Error(De||"Assertion failed")}warn(ee){return this._getLogFunction(0,ee,R.warn,arguments,je)}error(ee){return this._getLogFunction(0,ee,R.error,arguments)}deprecated(ee,De){return this.warn(`\`${ee}\` is deprecated and will be removed in a later version. Use \`${De}\` instead`)}removed(ee,De){return this.error(`\`${ee}\` has been removed. Use \`${De}\` instead`)}probe(ee,De){return this._getLogFunction(ee,De,R.log,arguments,{time:!0,once:!0})}log(ee,De){return this._getLogFunction(ee,De,R.debug,arguments)}info(ee,De){return this._getLogFunction(ee,De,console.info,arguments)}once(ee,De){return this._getLogFunction(ee,De,R.debug||R.info,arguments,je)}table(ee,De,Ge){return De?this._getLogFunction(ee,De,console.table||$,Ge&&[Ge],{tag:Rn(De)}):$}time(ee,De){return this._getLogFunction(ee,De,console.time?console.time:console.info)}timeEnd(ee,De){return this._getLogFunction(ee,De,console.timeEnd?console.timeEnd:console.info)}timeStamp(ee,De){return this._getLogFunction(ee,De,console.timeStamp||$)}group(ee,De,Ge={collapsed:!1}){const Ze=pt({logLevel:ee,message:De,opts:Ge}),{collapsed:ut}=Ge;return Ze.method=(ut?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Ze)}groupCollapsed(ee,De,Ge={}){return this.group(ee,De,Object.assign({},Ge,{collapsed:!0}))}groupEnd(ee){return this._getLogFunction(ee,"",console.groupEnd||$)}withGroup(ee,De,Ge){this.group(ee,De)();try{Ge()}finally{this.groupEnd(ee)()}}trace(){console.trace&&console.trace()}_shouldLog(ee){return this.isEnabled()&&this.getLevel()>=lt(ee)}_getLogFunction(ee,De,Ge,Ze,ut){if(this._shouldLog(ee)){ut=pt({logLevel:ee,message:De,args:Ze,opts:ut}),oe(Ge=Ge||ut.method),ut.total=this.getTotal(),ut.delta=this.getDelta(),this._deltaTs=K();const bt=ut.tag||ut.message;if(ut.once&&bt){if(Fe[bt])return $;Fe[bt]=K()}return De=function St(ee,De,Ge){if("string"==typeof De){const Ze=Ge.time?M(function b(ee){let De;return De=ee<10?`${ee.toFixed(2)}ms`:ee<100?`${ee.toFixed(1)}ms`:ee<1e3?`${ee.toFixed(0)}ms`:`${(ee/1e3).toFixed(2)}s`,De}(Ge.total)):"";De=Z(De=Ge.time?`${ee}: ${Ze}  ${De}`:`${ee}: ${De}`,Ge.color,Ge.background)}return De}(this.id,ut.message,ut),Ge.bind(console,De,...ut.args)}return $}};function lt(ee){if(!ee)return 0;let De;switch(typeof ee){case"number":De=ee;break;case"object":De=ee.logLevel||ee.priority||0;break;default:return 0}return oe(Number.isFinite(De)&&De>=0),De}function pt(ee){const{logLevel:De,message:Ge}=ee;ee.logLevel=lt(De);const Ze=ee.args?Array.from(ee.args):[];for(;Ze.length&&Ze.shift()!==Ge;);switch(typeof De){case"string":case"function":void 0!==Ge&&Ze.unshift(Ge),ee.message=De;break;case"object":Object.assign(ee,De)}"function"==typeof ee.message&&(ee.message=ee.message());const ut=typeof ee.message;return oe("string"===ut||"object"===ut),Object.assign(ee,{args:Ze},ee.opts)}function Rn(ee){for(const De in ee)for(const Ge in ee[De])return Ge||"untitled";return"empty"}Ve.VERSION=S.VERSION,globalThis.probe={};var G=new Ve({id:"@probe.gl/log"})},750:ln=>{var U,ye=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,d={};function L(){let U;if(typeof window<"u"&&window.performance)U=window.performance.now();else if(typeof process<"u"&&process.hrtime){const O=process.hrtime();U=1e3*O[0]+O[1]/1e6}else U=Date.now();return U}((U,O)=>{for(var b in O)ye(U,b,{get:O[b],enumerable:!0})})(d,{Stat:()=>F,Stats:()=>S,_getHiResTimestamp:()=>L}),ln.exports=(U=d,((U,O,b,M)=>{if(O&&"object"==typeof O||"function"==typeof O)for(let A of r(O))!y.call(U,A)&&undefined!==A&&ye(U,A,{get:()=>O[A],enumerable:!(M=w(O,A))||M.enumerable});return U})(ye({},"__esModule",{value:!0}),U));var F=class{constructor(U,O){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=U,this.type=O,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(U){return this.sampleSize=U,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(U){return this._count+=U,this._samples++,this._checkSampling(),this}subtractCount(U){return this._count-=U,this._samples++,this._checkSampling(),this}addTime(U){return this._time+=U,this.lastTiming=U,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=L(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(L()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}},S=class{constructor(U){this.stats={},this.id=U.id,this.stats={},this._initializeStats(U.stats),Object.seal(this)}get(U,O="count"){return this._getOrCreate({name:U,type:O})}get size(){return Object.keys(this.stats).length}reset(){for(const U of Object.values(this.stats))U.reset();return this}forEach(U){for(const O of Object.values(this.stats))U(O)}getTable(){const U={};return this.forEach(O=>{U[O.name]={time:O.time||0,count:O.count||0,average:O.getAverageTime()||0,hz:O.getHz()||0}}),U}_initializeStats(U=[]){U.forEach(O=>this._getOrCreate(O))}_getOrCreate(U){const{name:O,type:b}=U;let M=this.stats[O];return M||(M=U instanceof F?U:new F(O,b),this.stats[O]=M),M}}},54167:(ln,ye)=>{class Ti{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Ko{constructor(bo,Bo,Fs,as){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(bo.buffer,bo.byteOffset+Bo,Fs),this._littleEndian=as,this._offset=0}_nextUint8(){const bo=this._dataView.getUint8(this._offset);return this._offset+=1,bo}_nextUint16(){const bo=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,bo}_nextUint32(){const bo=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,bo}_nextUint64(){const Fs=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,Fs}_nextInt32(){const bo=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,bo}_nextUint8Array(bo){const Bo=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,bo);return this._offset+=bo,Bo}_skip(bo){return this._offset+=bo,this}_scan(bo,Bo){void 0===Bo&&(Bo=0);const Fs=this._offset;let as=0;for(;this._dataView.getUint8(this._offset)!==Bo&&as<bo;)as++,this._offset++;return as<bo&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+Fs,as)}}const No=new Uint8Array([0]),Ao=[171,75,84,88,32,50,48,187,13,10,26,10];function Ms(ro){return(new TextEncoder).encode(ro)}function Yo(ro){return(new TextDecoder).decode(ro)}function jo(ro){let bo=0;for(const as of ro)bo+=as.byteLength;const Bo=new Uint8Array(bo);let Fs=0;for(const as of ro)Bo.set(new Uint8Array(as),Fs),Fs+=as.byteLength;return Bo}function js(ro,bo){return void 0===bo&&(bo=4),Math.ceil(ro/bo)*bo-ro}const $a={keepWriter:!1};ye.KHR_DF_CHANNEL_RGBSDA_ALPHA=15,ye.KHR_DF_CHANNEL_RGBSDA_BLUE=2,ye.KHR_DF_CHANNEL_RGBSDA_DEPTH=14,ye.KHR_DF_CHANNEL_RGBSDA_GREEN=1,ye.KHR_DF_CHANNEL_RGBSDA_RED=0,ye.KHR_DF_CHANNEL_RGBSDA_STENCIL=13,ye.KHR_DF_FLAG_ALPHA_PREMULTIPLIED=1,ye.KHR_DF_FLAG_ALPHA_STRAIGHT=0,ye.KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT=0,ye.KHR_DF_MODEL_ASTC=162,ye.KHR_DF_MODEL_ETC1=160,ye.KHR_DF_MODEL_ETC1S=163,ye.KHR_DF_MODEL_ETC2=161,ye.KHR_DF_MODEL_RGBSDA=1,ye.KHR_DF_MODEL_UASTC=166,ye.KHR_DF_MODEL_UNSPECIFIED=0,ye.KHR_DF_PRIMARIES_ACES=6,ye.KHR_DF_PRIMARIES_ACESCC=7,ye.KHR_DF_PRIMARIES_ADOBERGB=11,ye.KHR_DF_PRIMARIES_BT2020=4,ye.KHR_DF_PRIMARIES_BT601_EBU=2,ye.KHR_DF_PRIMARIES_BT601_SMPTE=3,ye.KHR_DF_PRIMARIES_BT709=1,ye.KHR_DF_PRIMARIES_CIEXYZ=5,ye.KHR_DF_PRIMARIES_DISPLAYP3=10,ye.KHR_DF_PRIMARIES_NTSC1953=8,ye.KHR_DF_PRIMARIES_PAL525=9,ye.KHR_DF_PRIMARIES_UNSPECIFIED=0,ye.KHR_DF_SAMPLE_DATATYPE_EXPONENT=32,ye.KHR_DF_SAMPLE_DATATYPE_FLOAT=128,ye.KHR_DF_SAMPLE_DATATYPE_LINEAR=16,ye.KHR_DF_SAMPLE_DATATYPE_SIGNED=64,ye.KHR_DF_TRANSFER_ACESCC=16,ye.KHR_DF_TRANSFER_ACESCCT=17,ye.KHR_DF_TRANSFER_ADOBERGB=18,ye.KHR_DF_TRANSFER_BT1886=7,ye.KHR_DF_TRANSFER_DCIP3=12,ye.KHR_DF_TRANSFER_HLG_EOTF=9,ye.KHR_DF_TRANSFER_HLG_OETF=8,ye.KHR_DF_TRANSFER_ITU=3,ye.KHR_DF_TRANSFER_LINEAR=1,ye.KHR_DF_TRANSFER_NTSC=4,ye.KHR_DF_TRANSFER_PAL625_EOTF=14,ye.KHR_DF_TRANSFER_PAL_OETF=13,ye.KHR_DF_TRANSFER_PQ_EOTF=10,ye.KHR_DF_TRANSFER_PQ_OETF=11,ye.KHR_DF_TRANSFER_SLOG=5,ye.KHR_DF_TRANSFER_SLOG2=6,ye.KHR_DF_TRANSFER_SRGB=2,ye.KHR_DF_TRANSFER_ST240=15,ye.KHR_DF_TRANSFER_UNSPECIFIED=0,ye.KHR_DF_VENDORID_KHRONOS=0,ye.KHR_DF_VERSION=2,ye.KHR_SUPERCOMPRESSION_BASISLZ=1,ye.KHR_SUPERCOMPRESSION_NONE=0,ye.KHR_SUPERCOMPRESSION_ZLIB=3,ye.KHR_SUPERCOMPRESSION_ZSTD=2,ye.KTX2Container=Ti,ye.VK_FORMAT_A1R5G5B5_UNORM_PACK16=8,ye.VK_FORMAT_A2B10G10R10_SINT_PACK32=69,ye.VK_FORMAT_A2B10G10R10_SNORM_PACK32=65,ye.VK_FORMAT_A2B10G10R10_UINT_PACK32=68,ye.VK_FORMAT_A2B10G10R10_UNORM_PACK32=64,ye.VK_FORMAT_A2R10G10B10_SINT_PACK32=63,ye.VK_FORMAT_A2R10G10B10_SNORM_PACK32=59,ye.VK_FORMAT_A2R10G10B10_UINT_PACK32=62,ye.VK_FORMAT_A2R10G10B10_UNORM_PACK32=58,ye.VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT=1000340001,ye.VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT=100034e4,ye.VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT=1000066011,ye.VK_FORMAT_ASTC_10x10_SRGB_BLOCK=180,ye.VK_FORMAT_ASTC_10x10_UNORM_BLOCK=179,ye.VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT=1000066008,ye.VK_FORMAT_ASTC_10x5_SRGB_BLOCK=174,ye.VK_FORMAT_ASTC_10x5_UNORM_BLOCK=173,ye.VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT=1000066009,ye.VK_FORMAT_ASTC_10x6_SRGB_BLOCK=176,ye.VK_FORMAT_ASTC_10x6_UNORM_BLOCK=175,ye.VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT=1000066010,ye.VK_FORMAT_ASTC_10x8_SRGB_BLOCK=178,ye.VK_FORMAT_ASTC_10x8_UNORM_BLOCK=177,ye.VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT=1000066012,ye.VK_FORMAT_ASTC_12x10_SRGB_BLOCK=182,ye.VK_FORMAT_ASTC_12x10_UNORM_BLOCK=181,ye.VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT=1000066013,ye.VK_FORMAT_ASTC_12x12_SRGB_BLOCK=184,ye.VK_FORMAT_ASTC_12x12_UNORM_BLOCK=183,ye.VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT=1000066e3,ye.VK_FORMAT_ASTC_4x4_SRGB_BLOCK=158,ye.VK_FORMAT_ASTC_4x4_UNORM_BLOCK=157,ye.VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT=1000066001,ye.VK_FORMAT_ASTC_5x4_SRGB_BLOCK=160,ye.VK_FORMAT_ASTC_5x4_UNORM_BLOCK=159,ye.VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT=1000066002,ye.VK_FORMAT_ASTC_5x5_SRGB_BLOCK=162,ye.VK_FORMAT_ASTC_5x5_UNORM_BLOCK=161,ye.VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT=1000066003,ye.VK_FORMAT_ASTC_6x5_SRGB_BLOCK=164,ye.VK_FORMAT_ASTC_6x5_UNORM_BLOCK=163,ye.VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT=1000066004,ye.VK_FORMAT_ASTC_6x6_SRGB_BLOCK=166,ye.VK_FORMAT_ASTC_6x6_UNORM_BLOCK=165,ye.VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT=1000066005,ye.VK_FORMAT_ASTC_8x5_SRGB_BLOCK=168,ye.VK_FORMAT_ASTC_8x5_UNORM_BLOCK=167,ye.VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT=1000066006,ye.VK_FORMAT_ASTC_8x6_SRGB_BLOCK=170,ye.VK_FORMAT_ASTC_8x6_UNORM_BLOCK=169,ye.VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT=1000066007,ye.VK_FORMAT_ASTC_8x8_SRGB_BLOCK=172,ye.VK_FORMAT_ASTC_8x8_UNORM_BLOCK=171,ye.VK_FORMAT_B10G11R11_UFLOAT_PACK32=122,ye.VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16=1000156011,ye.VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16=1000156021,ye.VK_FORMAT_B4G4R4A4_UNORM_PACK16=3,ye.VK_FORMAT_B5G5R5A1_UNORM_PACK16=7,ye.VK_FORMAT_B5G6R5_UNORM_PACK16=5,ye.VK_FORMAT_B8G8R8A8_SINT=49,ye.VK_FORMAT_B8G8R8A8_SNORM=45,ye.VK_FORMAT_B8G8R8A8_SRGB=50,ye.VK_FORMAT_B8G8R8A8_UINT=48,ye.VK_FORMAT_B8G8R8A8_UNORM=44,ye.VK_FORMAT_B8G8R8_SINT=35,ye.VK_FORMAT_B8G8R8_SNORM=31,ye.VK_FORMAT_B8G8R8_SRGB=36,ye.VK_FORMAT_B8G8R8_UINT=34,ye.VK_FORMAT_B8G8R8_UNORM=30,ye.VK_FORMAT_BC1_RGBA_SRGB_BLOCK=134,ye.VK_FORMAT_BC1_RGBA_UNORM_BLOCK=133,ye.VK_FORMAT_BC1_RGB_SRGB_BLOCK=132,ye.VK_FORMAT_BC1_RGB_UNORM_BLOCK=131,ye.VK_FORMAT_BC2_SRGB_BLOCK=136,ye.VK_FORMAT_BC2_UNORM_BLOCK=135,ye.VK_FORMAT_BC3_SRGB_BLOCK=138,ye.VK_FORMAT_BC3_UNORM_BLOCK=137,ye.VK_FORMAT_BC4_SNORM_BLOCK=140,ye.VK_FORMAT_BC4_UNORM_BLOCK=139,ye.VK_FORMAT_BC5_SNORM_BLOCK=142,ye.VK_FORMAT_BC5_UNORM_BLOCK=141,ye.VK_FORMAT_BC6H_SFLOAT_BLOCK=144,ye.VK_FORMAT_BC6H_UFLOAT_BLOCK=143,ye.VK_FORMAT_BC7_SRGB_BLOCK=146,ye.VK_FORMAT_BC7_UNORM_BLOCK=145,ye.VK_FORMAT_D16_UNORM=124,ye.VK_FORMAT_D16_UNORM_S8_UINT=128,ye.VK_FORMAT_D24_UNORM_S8_UINT=129,ye.VK_FORMAT_D32_SFLOAT=126,ye.VK_FORMAT_D32_SFLOAT_S8_UINT=130,ye.VK_FORMAT_E5B9G9R9_UFLOAT_PACK32=123,ye.VK_FORMAT_EAC_R11G11_SNORM_BLOCK=156,ye.VK_FORMAT_EAC_R11G11_UNORM_BLOCK=155,ye.VK_FORMAT_EAC_R11_SNORM_BLOCK=154,ye.VK_FORMAT_EAC_R11_UNORM_BLOCK=153,ye.VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK=150,ye.VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK=149,ye.VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK=152,ye.VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK=151,ye.VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK=148,ye.VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK=147,ye.VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16=1000156010,ye.VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16=1000156020,ye.VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG=1000054004,ye.VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG=1000054e3,ye.VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG=1000054005,ye.VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG=1000054001,ye.VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG=1000054006,ye.VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG=1000054002,ye.VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG=1000054007,ye.VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG=1000054003,ye.VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16=1000156009,ye.VK_FORMAT_R10X6G10X6_UNORM_2PACK16=1000156008,ye.VK_FORMAT_R10X6_UNORM_PACK16=1000156007,ye.VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16=1000156019,ye.VK_FORMAT_R12X4G12X4_UNORM_2PACK16=1000156018,ye.VK_FORMAT_R12X4_UNORM_PACK16=1000156017,ye.VK_FORMAT_R16G16B16A16_SFLOAT=97,ye.VK_FORMAT_R16G16B16A16_SINT=96,ye.VK_FORMAT_R16G16B16A16_SNORM=92,ye.VK_FORMAT_R16G16B16A16_UINT=95,ye.VK_FORMAT_R16G16B16A16_UNORM=91,ye.VK_FORMAT_R16G16B16_SFLOAT=90,ye.VK_FORMAT_R16G16B16_SINT=89,ye.VK_FORMAT_R16G16B16_SNORM=85,ye.VK_FORMAT_R16G16B16_UINT=88,ye.VK_FORMAT_R16G16B16_UNORM=84,ye.VK_FORMAT_R16G16_SFLOAT=83,ye.VK_FORMAT_R16G16_SINT=82,ye.VK_FORMAT_R16G16_SNORM=78,ye.VK_FORMAT_R16G16_UINT=81,ye.VK_FORMAT_R16G16_UNORM=77,ye.VK_FORMAT_R16_SFLOAT=76,ye.VK_FORMAT_R16_SINT=75,ye.VK_FORMAT_R16_SNORM=71,ye.VK_FORMAT_R16_UINT=74,ye.VK_FORMAT_R16_UNORM=70,ye.VK_FORMAT_R32G32B32A32_SFLOAT=109,ye.VK_FORMAT_R32G32B32A32_SINT=108,ye.VK_FORMAT_R32G32B32A32_UINT=107,ye.VK_FORMAT_R32G32B32_SFLOAT=106,ye.VK_FORMAT_R32G32B32_SINT=105,ye.VK_FORMAT_R32G32B32_UINT=104,ye.VK_FORMAT_R32G32_SFLOAT=103,ye.VK_FORMAT_R32G32_SINT=102,ye.VK_FORMAT_R32G32_UINT=101,ye.VK_FORMAT_R32_SFLOAT=100,ye.VK_FORMAT_R32_SINT=99,ye.VK_FORMAT_R32_UINT=98,ye.VK_FORMAT_R4G4B4A4_UNORM_PACK16=2,ye.VK_FORMAT_R4G4_UNORM_PACK8=1,ye.VK_FORMAT_R5G5B5A1_UNORM_PACK16=6,ye.VK_FORMAT_R5G6B5_UNORM_PACK16=4,ye.VK_FORMAT_R64G64B64A64_SFLOAT=121,ye.VK_FORMAT_R64G64B64A64_SINT=120,ye.VK_FORMAT_R64G64B64A64_UINT=119,ye.VK_FORMAT_R64G64B64_SFLOAT=118,ye.VK_FORMAT_R64G64B64_SINT=117,ye.VK_FORMAT_R64G64B64_UINT=116,ye.VK_FORMAT_R64G64_SFLOAT=115,ye.VK_FORMAT_R64G64_SINT=114,ye.VK_FORMAT_R64G64_UINT=113,ye.VK_FORMAT_R64_SFLOAT=112,ye.VK_FORMAT_R64_SINT=111,ye.VK_FORMAT_R64_UINT=110,ye.VK_FORMAT_R8G8B8A8_SINT=42,ye.VK_FORMAT_R8G8B8A8_SNORM=38,ye.VK_FORMAT_R8G8B8A8_SRGB=43,ye.VK_FORMAT_R8G8B8A8_UINT=41,ye.VK_FORMAT_R8G8B8A8_UNORM=37,ye.VK_FORMAT_R8G8B8_SINT=28,ye.VK_FORMAT_R8G8B8_SNORM=24,ye.VK_FORMAT_R8G8B8_SRGB=29,ye.VK_FORMAT_R8G8B8_UINT=27,ye.VK_FORMAT_R8G8B8_UNORM=23,ye.VK_FORMAT_R8G8_SINT=21,ye.VK_FORMAT_R8G8_SNORM=17,ye.VK_FORMAT_R8G8_SRGB=22,ye.VK_FORMAT_R8G8_UINT=20,ye.VK_FORMAT_R8G8_UNORM=16,ye.VK_FORMAT_R8_SINT=14,ye.VK_FORMAT_R8_SNORM=10,ye.VK_FORMAT_R8_SRGB=15,ye.VK_FORMAT_R8_UINT=13,ye.VK_FORMAT_R8_UNORM=9,ye.VK_FORMAT_S8_UINT=127,ye.VK_FORMAT_UNDEFINED=0,ye.VK_FORMAT_X8_D24_UNORM_PACK32=125,ye.read=function gc(ro){const bo=new Uint8Array(ro.buffer,ro.byteOffset,Ao.length);if(bo[0]!==Ao[0]||bo[1]!==Ao[1]||bo[2]!==Ao[2]||bo[3]!==Ao[3]||bo[4]!==Ao[4]||bo[5]!==Ao[5]||bo[6]!==Ao[6]||bo[7]!==Ao[7]||bo[8]!==Ao[8]||bo[9]!==Ao[9]||bo[10]!==Ao[10]||bo[11]!==Ao[11])throw new Error("Missing KTX 2.0 identifier.");const Bo=new Ti,Fs=17*Uint32Array.BYTES_PER_ELEMENT,as=new Ko(ro,Ao.length,Fs,!0);Bo.vkFormat=as._nextUint32(),Bo.typeSize=as._nextUint32(),Bo.pixelWidth=as._nextUint32(),Bo.pixelHeight=as._nextUint32(),Bo.pixelDepth=as._nextUint32(),Bo.layerCount=as._nextUint32(),Bo.faceCount=as._nextUint32();const sa=as._nextUint32();Bo.supercompressionScheme=as._nextUint32();const Ds=as._nextUint32(),ks=as._nextUint32(),ms=as._nextUint32(),_=as._nextUint32(),Q=as._nextUint64(),P=as._nextUint64(),nt=new Ko(ro,Ao.length+Fs,3*sa*8,!0);for(let Aa=0;Aa<sa;Aa++)Bo.levels.push({levelData:new Uint8Array(ro.buffer,ro.byteOffset+nt._nextUint64(),nt._nextUint64()),uncompressedByteLength:nt._nextUint64()});const Pt=new Ko(ro,Ds,ks,!0),sn={vendorId:Pt._skip(4)._nextUint16(),descriptorType:Pt._nextUint16(),versionNumber:Pt._nextUint16(),descriptorBlockSize:Pt._nextUint16(),colorModel:Pt._nextUint8(),colorPrimaries:Pt._nextUint8(),transferFunction:Pt._nextUint8(),flags:Pt._nextUint8(),texelBlockDimension:[Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8()],bytesPlane:[Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8()],samples:[]},oi=(sn.descriptorBlockSize/4-6)/4;for(let Aa=0;Aa<oi;Aa++){const Ws={bitOffset:Pt._nextUint16(),bitLength:Pt._nextUint8(),channelType:Pt._nextUint8(),samplePosition:[Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8(),Pt._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&Ws.channelType?(Ws.sampleLower=Pt._nextInt32(),Ws.sampleUpper=Pt._nextInt32()):(Ws.sampleLower=Pt._nextUint32(),Ws.sampleUpper=Pt._nextUint32()),sn.samples[Aa]=Ws}Bo.dataFormatDescriptor.length=0,Bo.dataFormatDescriptor.push(sn);const gi=new Ko(ro,ms,_,!0);for(;gi._offset<_;){const Aa=gi._nextUint32(),Ws=gi._scan(Aa),_c=Yo(Ws);if(Bo.keyValue[_c]=gi._nextUint8Array(Aa-Ws.byteLength-1),_c.match(/^ktx/i)){const ka=Yo(Bo.keyValue[_c]);Bo.keyValue[_c]=ka.substring(0,ka.lastIndexOf("\0"))}gi._skip(Aa%4?4-Aa%4:0)}if(P<=0)return Bo;const qr=new Ko(ro,Q,P,!0),vi=qr._nextUint16(),ki=qr._nextUint16(),si=qr._nextUint32(),fo=qr._nextUint32(),ds=qr._nextUint32(),Us=qr._nextUint32(),As=[];for(let Aa=0;Aa<sa;Aa++)As.push({imageFlags:qr._nextUint32(),rgbSliceByteOffset:qr._nextUint32(),rgbSliceByteLength:qr._nextUint32(),alphaSliceByteOffset:qr._nextUint32(),alphaSliceByteLength:qr._nextUint32()});const ta=Q+qr._offset,aa=ta+si,hs=aa+fo,Bs=hs+ds,ya=new Uint8Array(ro.buffer,ro.byteOffset+ta,si),Go=new Uint8Array(ro.buffer,ro.byteOffset+aa,fo),ll=new Uint8Array(ro.buffer,ro.byteOffset+hs,ds),uc=new Uint8Array(ro.buffer,ro.byteOffset+Bs,Us);return Bo.globalData={endpointCount:vi,selectorCount:ki,imageDescs:As,endpointsData:ya,selectorsData:Go,tablesData:ll,extendedData:uc},Bo},ye.write=function Pa(ro,bo){void 0===bo&&(bo={}),bo={...$a,...bo};let Bo=new ArrayBuffer(0);if(ro.globalData){const qr=new ArrayBuffer(20+5*ro.globalData.imageDescs.length*4),vi=new DataView(qr);vi.setUint16(0,ro.globalData.endpointCount,!0),vi.setUint16(2,ro.globalData.selectorCount,!0),vi.setUint32(4,ro.globalData.endpointsData.byteLength,!0),vi.setUint32(8,ro.globalData.selectorsData.byteLength,!0),vi.setUint32(12,ro.globalData.tablesData.byteLength,!0),vi.setUint32(16,ro.globalData.extendedData.byteLength,!0);for(let ki=0;ki<ro.globalData.imageDescs.length;ki++){const si=ro.globalData.imageDescs[ki];vi.setUint32(20+5*ki*4+0,si.imageFlags,!0),vi.setUint32(20+5*ki*4+4,si.rgbSliceByteOffset,!0),vi.setUint32(20+5*ki*4+8,si.rgbSliceByteLength,!0),vi.setUint32(20+5*ki*4+12,si.alphaSliceByteOffset,!0),vi.setUint32(20+5*ki*4+16,si.alphaSliceByteLength,!0)}Bo=jo([qr,ro.globalData.endpointsData,ro.globalData.selectorsData,ro.globalData.tablesData,ro.globalData.extendedData])}const Fs=[];let as=ro.keyValue;bo.keepWriter||(as={...ro.keyValue,KTXwriter:"KTX-Parse v0.7.1"});for(const qr in as){const vi=as[qr],ki=Ms(qr),si="string"==typeof vi?jo([Ms(vi),No]):vi,fo=ki.byteLength+1+si.byteLength,ds=js(fo,4);Fs.push(jo([new Uint32Array([fo]),ki,No,si,new Uint8Array(ds).fill(0)]))}const sa=jo(Fs);if(1!==ro.dataFormatDescriptor.length||0!==ro.dataFormatDescriptor[0].descriptorType)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const Ds=ro.dataFormatDescriptor[0],ks=new ArrayBuffer(28+16*Ds.samples.length),ms=new DataView(ks),_=24+16*Ds.samples.length;if(ms.setUint32(0,ks.byteLength,!0),ms.setUint16(4,Ds.vendorId,!0),ms.setUint16(6,Ds.descriptorType,!0),ms.setUint16(8,Ds.versionNumber,!0),ms.setUint16(10,_,!0),ms.setUint8(12,Ds.colorModel),ms.setUint8(13,Ds.colorPrimaries),ms.setUint8(14,Ds.transferFunction),ms.setUint8(15,Ds.flags),!Array.isArray(Ds.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");ms.setUint8(16,Ds.texelBlockDimension[0]),ms.setUint8(17,Ds.texelBlockDimension[1]),ms.setUint8(18,Ds.texelBlockDimension[2]),ms.setUint8(19,Ds.texelBlockDimension[3]);for(let qr=0;qr<8;qr++)ms.setUint8(20+qr,Ds.bytesPlane[qr]);for(let qr=0;qr<Ds.samples.length;qr++){const vi=Ds.samples[qr],ki=28+16*qr;if(vi.channelID)throw new Error("channelID has been renamed to channelType.");ms.setUint16(ki+0,vi.bitOffset,!0),ms.setUint8(ki+2,vi.bitLength),ms.setUint8(ki+3,vi.channelType),ms.setUint8(ki+4,vi.samplePosition[0]),ms.setUint8(ki+5,vi.samplePosition[1]),ms.setUint8(ki+6,vi.samplePosition[2]),ms.setUint8(ki+7,vi.samplePosition[3]),64&vi.channelType?(ms.setInt32(ki+8,vi.sampleLower,!0),ms.setInt32(ki+12,vi.sampleUpper,!0)):(ms.setUint32(ki+8,vi.sampleLower,!0),ms.setUint32(ki+12,vi.sampleUpper,!0))}const Q=Ao.length+68+3*ro.levels.length*8,P=Q+ks.byteLength;let ae=Bo.byteLength>0?P+sa.byteLength:0;ae%8&&(ae+=8-ae%8);const nt=[],Pt=new DataView(new ArrayBuffer(3*ro.levels.length*8)),sn=new Uint32Array(ro.levels.length);let cr=0;0===ro.supercompressionScheme&&(cr=function Ea(ro,bo){const Bo=Math.max(ro,bo),Fs=Math.min(ro,bo);let as=Bo;for(;as%Fs!=0;)as+=Bo;return as}(function oa(ro){return ro.levels[0].levelData.byteLength/function Sa(ro,bo){let Bo=1;const Fs=[ro.pixelWidth,ro.pixelHeight,ro.pixelDepth],as=function Za(ro){const[bo,Bo,Fs]=ro.dataFormatDescriptor[0].texelBlockDimension;return[bo+1,Bo+1,Fs+1]}(ro);for(let sa=0;sa<3;sa++)if(Fs[sa]>0){const Ds=Math.ceil(Math.floor(Fs[sa]*Math.pow(2,-bo))/as[sa]);Bo*=Math.max(1,Ds)}return ro.layerCount>0&&(Bo*=ro.layerCount),ro.faceCount>0&&(Bo*=ro.faceCount),Bo}(ro,0)}(ro),4));let Xr=(ae||P+sa.byteLength)+Bo.byteLength;for(let qr=ro.levels.length-1;qr>=0;qr--){if(Xr%cr){const ki=js(Xr,cr);nt.push(new Uint8Array(ki)),Xr+=ki}const vi=ro.levels[qr];nt.push(vi.levelData),sn[qr]=Xr,Xr+=vi.levelData.byteLength}for(let qr=0;qr<ro.levels.length;qr++){const vi=ro.levels[qr];Pt.setBigUint64(24*qr+0,BigInt(sn[qr]),!0),Pt.setBigUint64(24*qr+8,BigInt(vi.levelData.byteLength),!0),Pt.setBigUint64(24*qr+16,BigInt(vi.uncompressedByteLength),!0)}const oi=new ArrayBuffer(68),gi=new DataView(oi);return gi.setUint32(0,ro.vkFormat,!0),gi.setUint32(4,ro.typeSize,!0),gi.setUint32(8,ro.pixelWidth,!0),gi.setUint32(12,ro.pixelHeight,!0),gi.setUint32(16,ro.pixelDepth,!0),gi.setUint32(20,ro.layerCount,!0),gi.setUint32(24,ro.faceCount,!0),gi.setUint32(28,ro.levels.length,!0),gi.setUint32(32,ro.supercompressionScheme,!0),gi.setUint32(36,Q,!0),gi.setUint32(40,ks.byteLength,!0),gi.setUint32(44,P,!0),gi.setUint32(48,sa.byteLength,!0),gi.setBigUint64(52,BigInt(Bo.byteLength>0?ae:0),!0),gi.setBigUint64(60,BigInt(Bo.byteLength),!0),new Uint8Array(jo([new Uint8Array(Ao).buffer,oi,Pt.buffer,ks,sa,ae>0?new ArrayBuffer(ae-(P+sa.byteLength)):new ArrayBuffer(0),Bo,...nt]))}},89326:(ln,ye,w)=>{"use strict";const{VOID:r,PRIMITIVE:y,ARRAY:u,OBJECT:v,DATE:x,REGEXP:d,MAP:L,SET:F,ERROR:S,BIGINT:U}=w(80092),O="object"==typeof self?self:globalThis;ye.deserialize=A=>((A,ue)=>{const z=(re,Z)=>(A.set(Z,re),re),X=re=>{if(A.has(re))return A.get(re);const[Z,Re]=ue[re];switch(Z){case y:case r:return z(Re,re);case u:{const oe=z([],re);for(const Ce of Re)oe.push(X(Ce));return oe}case v:{const oe=z({},re);for(const[Ce,K]of Re)oe[X(Ce)]=X(K);return oe}case x:return z(new Date(Re),re);case d:{const{source:oe,flags:Ce}=Re;return z(new RegExp(oe,Ce),re)}case L:{const oe=z(new Map,re);for(const[Ce,K]of Re)oe.set(X(Ce),X(K));return oe}case F:{const oe=z(new Set,re);for(const Ce of Re)oe.add(X(Ce));return oe}case S:{const{name:oe,message:Ce}=Re;return z(new O[oe](Ce),re)}case U:return z(BigInt(Re),re);case"BigInt":return z(Object(BigInt(Re)),re)}return z(new O[Z](Re),re)};return X})(new Map,A)(0)},29685:(ln,ye,w)=>{"use strict";const{deserialize:r}=w(89326),{serialize:y}=w(43395);Object.defineProperty(ye,"__esModule",{value:!0}).default="function"==typeof structuredClone?(u,v)=>v&&("json"in v||"lossy"in v)?r(y(u,v)):structuredClone(u):(u,v)=>r(y(u,v)),ye.deserialize=r,ye.serialize=y},43395:(ln,ye,w)=>{"use strict";const{VOID:r,PRIMITIVE:y,ARRAY:u,OBJECT:v,DATE:x,REGEXP:d,MAP:L,SET:F,ERROR:S,BIGINT:U}=w(80092),O="",{toString:b}={},{keys:M}=Object,A=re=>{const Z=typeof re;if("object"!==Z||!re)return[y,Z];const Re=b.call(re).slice(8,-1);switch(Re){case"Array":return[u,O];case"Object":return[v,O];case"Date":return[x,O];case"RegExp":return[d,O];case"Map":return[L,O];case"Set":return[F,O]}return Re.includes("Array")?[u,Re]:Re.includes("Error")?[S,Re]:[v,Re]},ue=([re,Z])=>re===y&&("function"===Z||"symbol"===Z);ye.serialize=(re,{json:Z,lossy:Re}={})=>{const oe=[];return((re,Z,Re,oe)=>{const Ce=(R,ce)=>{const $=oe.push(R)-1;return Re.set(ce,$),$},K=R=>{if(Re.has(R))return Re.get(R);let[ce,$]=A(R);switch(ce){case y:{let je=R;switch($){case"bigint":ce=U,je=R.toString();break;case"function":case"symbol":if(re)throw new TypeError("unable to serialize "+$);je=null;break;case"undefined":return Ce([r],R)}return Ce([ce,je],R)}case u:{if($)return Ce([$,[...R]],R);const je=[],Ve=Ce([ce,je],R);for(const lt of R)je.push(K(lt));return Ve}case v:{if($)switch($){case"BigInt":return Ce([$,R.toString()],R);case"Boolean":case"Number":case"String":return Ce([$,R.valueOf()],R)}if(Z&&"toJSON"in R)return K(R.toJSON());const je=[],Ve=Ce([ce,je],R);for(const lt of M(R))(re||!ue(A(R[lt])))&&je.push([K(lt),K(R[lt])]);return Ve}case x:return Ce([ce,R.toISOString()],R);case d:{const{source:je,flags:Ve}=R;return Ce([ce,{source:je,flags:Ve}],R)}case L:{const je=[],Ve=Ce([ce,je],R);for(const[lt,pt]of R)(re||!ue(A(lt))&&!ue(A(pt)))&&je.push([K(lt),K(pt)]);return Ve}case F:{const je=[],Ve=Ce([ce,je],R);for(const lt of R)(re||!ue(A(lt)))&&je.push(K(lt));return Ve}}const{message:Fe}=R;return Ce([ce,{name:$,message:Fe}],R)};return K})(!(Z||Re),!!Z,new Map,oe)(re),oe}},80092:(ln,ye)=>{"use strict";ye.VOID=-1,ye.PRIMITIVE=0,ye.ARRAY=1,ye.OBJECT=2,ye.DATE=3,ye.REGEXP=4,ye.MAP=5,ye.SET=6,ye.ERROR=7,ye.BIGINT=8},26579:()=>{var ln,ye;ye=ln||(ln={}),function(){var r="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function d(){return function v(){try{return Function("return this;")()}catch{}}()||function x(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),y=u(ye);function u(L,F){return function(S,U){Object.defineProperty(L,S,{configurable:!0,writable:!0,value:U}),F&&F(S,U)}}typeof r.Reflect<"u"&&(y=u(r.Reflect,y)),function(w,r){var y=Object.prototype.hasOwnProperty,u="function"==typeof Symbol,v=u&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",x=u&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",d="function"==typeof Object.create,L={__proto__:[]}instanceof Array,F=!d&&!L,S={create:d?function(){return wt(Object.create(null))}:L?function(){return wt({__proto__:null})}:function(){return wt({})},has:F?function(rt,Ct){return y.call(rt,Ct)}:function(rt,Ct){return Ct in rt},get:F?function(rt,Ct){return y.call(rt,Ct)?rt[Ct]:void 0}:function(rt,Ct){return rt[Ct]}},U=Object.getPrototypeOf(Function),O="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ct(){var rt={},Ct=[],mt=function(){function et(xt,Zt,vn){this._index=0,this._keys=xt,this._values=Zt,this._selector=vn}return et.prototype["@@iterator"]=function(){return this},et.prototype[x]=function(){return this},et.prototype.next=function(){var xt=this._index;if(xt>=0&&xt<this._keys.length){var Zt=this._selector(this._keys[xt],this._values[xt]);return xt+1>=this._keys.length?(this._index=-1,this._keys=Ct,this._values=Ct):this._index++,{value:Zt,done:!1}}return{value:void 0,done:!0}},et.prototype.throw=function(xt){throw this._index>=0&&(this._index=-1,this._keys=Ct,this._values=Ct),xt},et.prototype.return=function(xt){return this._index>=0&&(this._index=-1,this._keys=Ct,this._values=Ct),{value:xt,done:!0}},et}();return function(){function et(){this._keys=[],this._values=[],this._cacheKey=rt,this._cacheIndex=-2}return Object.defineProperty(et.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),et.prototype.has=function(xt){return this._find(xt,!1)>=0},et.prototype.get=function(xt){var Zt=this._find(xt,!1);return Zt>=0?this._values[Zt]:void 0},et.prototype.set=function(xt,Zt){var vn=this._find(xt,!0);return this._values[vn]=Zt,this},et.prototype.delete=function(xt){var Zt=this._find(xt,!1);if(Zt>=0){for(var vn=this._keys.length,kn=Zt+1;kn<vn;kn++)this._keys[kn-1]=this._keys[kn],this._values[kn-1]=this._values[kn];return this._keys.length--,this._values.length--,W(xt,this._cacheKey)&&(this._cacheKey=rt,this._cacheIndex=-2),!0}return!1},et.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=rt,this._cacheIndex=-2},et.prototype.keys=function(){return new mt(this._keys,this._values,at)},et.prototype.values=function(){return new mt(this._keys,this._values,We)},et.prototype.entries=function(){return new mt(this._keys,this._values,ke)},et.prototype["@@iterator"]=function(){return this.entries()},et.prototype[x]=function(){return this.entries()},et.prototype._find=function(xt,Zt){if(!W(this._cacheKey,xt)){this._cacheIndex=-1;for(var vn=0;vn<this._keys.length;vn++)if(W(this._keys[vn],xt)){this._cacheIndex=vn;break}}return this._cacheIndex<0&&Zt&&(this._cacheIndex=this._keys.length,this._keys.push(xt),this._values.push(void 0)),this._cacheIndex},et}();function at(et,xt){return et}function We(et,xt){return xt}function ke(et,xt){return[et,xt]}}(),b="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function It(){return function(){function Ct(){this._map=new O}return Object.defineProperty(Ct.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ct.prototype.has=function(mt){return this._map.has(mt)},Ct.prototype.add=function(mt){return this._map.set(mt,mt),this},Ct.prototype.delete=function(mt){return this._map.delete(mt)},Ct.prototype.clear=function(){this._map.clear()},Ct.prototype.keys=function(){return this._map.keys()},Ct.prototype.values=function(){return this._map.keys()},Ct.prototype.entries=function(){return this._map.entries()},Ct.prototype["@@iterator"]=function(){return this.keys()},Ct.prototype[x]=function(){return this.keys()},Ct}()}(),M="function"==typeof WeakMap?WeakMap:function Ke(){var rt=16,Ct=S.create(),mt=Vt();return function(){function xt(){this._key=Vt()}return xt.prototype.has=function(Zt){var vn=at(Zt,!1);return void 0!==vn&&S.has(vn,this._key)},xt.prototype.get=function(Zt){var vn=at(Zt,!1);return void 0!==vn?S.get(vn,this._key):void 0},xt.prototype.set=function(Zt,vn){return at(Zt,!0)[this._key]=vn,this},xt.prototype.delete=function(Zt){var vn=at(Zt,!1);return void 0!==vn&&delete vn[this._key]},xt.prototype.clear=function(){this._key=Vt()},xt}();function Vt(){var xt;do{xt="@@WeakMap@@"+et()}while(S.has(Ct,xt));return Ct[xt]=!0,xt}function at(xt,Zt){if(!y.call(xt,mt)){if(!Zt)return;Object.defineProperty(xt,mt,{value:S.create()})}return xt[mt]}function We(xt,Zt){for(var vn=0;vn<Zt;++vn)xt[vn]=255*Math.random()|0;return xt}function et(){var xt=function ke(xt){if("function"==typeof Uint8Array){var Zt=new Uint8Array(xt);return typeof crypto<"u"?crypto.getRandomValues(Zt):typeof msCrypto<"u"?msCrypto.getRandomValues(Zt):We(Zt,xt),Zt}return We(new Array(xt),xt)}(rt);xt[6]=79&xt[6]|64,xt[8]=191&xt[8]|128;for(var Zt="",vn=0;vn<rt;++vn){var kn=xt[vn];(4===vn||6===vn||8===vn)&&(Zt+="-"),kn<16&&(Zt+="0"),Zt+=kn.toString(16).toLowerCase()}return Zt}}(),A=u?Symbol.for("@reflect-metadata:registry"):void 0,ue=function ft(){var rt;return!Ge(A)&&bt(r.Reflect)&&Object.isExtensible(r.Reflect)&&(rt=r.Reflect[A]),Ge(rt)&&(rt=function $e(){var rt;!Ge(A)&&typeof r.Reflect<"u"&&!(A in r.Reflect)&&"function"==typeof r.Reflect.defineMetadata&&(rt=function jt(rt){var Ct=rt.defineMetadata,mt=rt.hasOwnMetadata,Vt=rt.getOwnMetadata,at=rt.getOwnMetadataKeys,We=rt.deleteMetadata,ke=new M;return{isProviderFor:function(xt,Zt){var vn=ke.get(xt);return!(Ge(vn)||!vn.has(Zt))||!!at(xt,Zt).length&&(Ge(vn)&&(vn=new b,ke.set(xt,vn)),vn.add(Zt),!0)},OrdinaryDefineOwnMetadata:Ct,OrdinaryHasOwnMetadata:mt,OrdinaryGetOwnMetadata:Vt,OrdinaryOwnMetadataKeys:at,OrdinaryDeleteMetadata:We}}(r.Reflect));var Ct,mt,Vt,at=new M,We={registerProvider:ke,getProvider:xt,setProvider:vn};return We;function ke(kn){if(!Object.isExtensible(We))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case rt===kn:break;case Ge(Ct):Ct=kn;break;case Ct===kn:break;case Ge(mt):mt=kn;break;case mt===kn:break;default:void 0===Vt&&(Vt=new b),Vt.add(kn)}}function et(kn,tr){if(!Ge(Ct)){if(Ct.isProviderFor(kn,tr))return Ct;if(!Ge(mt)){if(mt.isProviderFor(kn,tr))return Ct;if(!Ge(Vt))for(var dn=ne(Vt);;){var nn=H(dn);if(!nn)return;var Ht=p(nn);if(Ht.isProviderFor(kn,tr))return B(dn),Ht}}}if(!Ge(rt)&&rt.isProviderFor(kn,tr))return rt}function xt(kn,tr){var nn,dn=at.get(kn);return Ge(dn)||(nn=dn.get(tr)),Ge(nn)&&(Ge(nn=et(kn,tr))||(Ge(dn)&&(dn=new O,at.set(kn,dn)),dn.set(tr,nn))),nn}function Zt(kn){if(Ge(kn))throw new TypeError;return Ct===kn||mt===kn||!Ge(Vt)&&Vt.has(kn)}function vn(kn,tr,dn){if(!Zt(dn))throw new Error("Metadata provider not registered.");var nn=xt(kn,tr);if(nn!==dn){if(!Ge(nn))return!1;var Ht=at.get(kn);Ge(Ht)&&(Ht=new O,at.set(kn,Ht)),Ht.set(tr,dn)}return!0}}()),!Ge(A)&&bt(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,A,{enumerable:!1,configurable:!1,writable:!1,value:rt}),rt}(),z=function kt(rt){var Ct=new M,mt={isProviderFor:function(Zt,vn){var kn=Ct.get(Zt);return!Ge(kn)&&kn.has(vn)},OrdinaryDefineOwnMetadata:function ke(Zt,vn,kn,tr){Vt(kn,tr,!0).set(Zt,vn)},OrdinaryHasOwnMetadata:function at(Zt,vn,kn){var tr=Vt(vn,kn,!1);return!Ge(tr)&&Ae(tr.has(Zt))},OrdinaryGetOwnMetadata:function We(Zt,vn,kn){var tr=Vt(vn,kn,!1);if(!Ge(tr))return tr.get(Zt)},OrdinaryOwnMetadataKeys:function et(Zt,vn){var kn=[],tr=Vt(Zt,vn,!1);if(Ge(tr))return kn;for(var nn=ne(tr.keys()),Ht=0;;){var Xt=H(nn);if(!Xt)return kn.length=Ht,kn;var Nn=p(Xt);try{kn[Ht]=Nn}catch(Ot){try{B(nn)}finally{throw Ot}}Ht++}},OrdinaryDeleteMetadata:function xt(Zt,vn,kn){var tr=Vt(vn,kn,!1);if(Ge(tr)||!tr.delete(Zt))return!1;if(0===tr.size){var dn=Ct.get(vn);Ge(dn)||(dn.delete(kn),0===dn.size&&Ct.delete(dn))}return!0}};return ue.registerProvider(mt),mt;function Vt(Zt,vn,kn){var tr=Ct.get(Zt),dn=!1;if(Ge(tr)){if(!kn)return;tr=new O,Ct.set(Zt,tr),dn=!0}var nn=tr.get(vn);if(Ge(nn)){if(!kn)return;if(nn=new O,tr.set(vn,nn),!rt.setProvider(Zt,vn,mt))throw tr.delete(vn),dn&&Ct.delete(Zt),new Error("Wrong provider for target.")}return nn}}(ue);function Ve(rt,Ct,mt){if(lt(rt,Ct,mt))return!0;var at=Ie(Ct);return!Ze(at)&&Ve(rt,at,mt)}function lt(rt,Ct,mt){var Vt=Ye(Ct,mt,!1);return!Ge(Vt)&&Ae(Vt.OrdinaryHasOwnMetadata(rt,Ct,mt))}function pt(rt,Ct,mt){if(lt(rt,Ct,mt))return St(rt,Ct,mt);var at=Ie(Ct);return Ze(at)?void 0:pt(rt,at,mt)}function St(rt,Ct,mt){var Vt=Ye(Ct,mt,!1);if(!Ge(Vt))return Vt.OrdinaryGetOwnMetadata(rt,Ct,mt)}function Rn(rt,Ct,mt,Vt){Ye(mt,Vt,!0).OrdinaryDefineOwnMetadata(rt,Ct,mt,Vt)}function G(rt,Ct){var mt=ee(rt,Ct),Vt=Ie(rt);if(null===Vt)return mt;var at=G(Vt,Ct);if(at.length<=0)return mt;if(mt.length<=0)return at;for(var We=new b,ke=[],et=0,xt=mt;et<xt.length;et++)We.has(Zt=xt[et])||(We.add(Zt),ke.push(Zt));for(var kn=0,tr=at;kn<tr.length;kn++){var Zt;We.has(Zt=tr[kn])||(We.add(Zt),ke.push(Zt))}return ke}function ee(rt,Ct){var mt=Ye(rt,Ct,!1);return mt?mt.OrdinaryOwnMetadataKeys(rt,Ct):[]}function De(rt){if(null===rt)return 1;switch(typeof rt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===rt?1:6;default:return 6}}function Ge(rt){return void 0===rt}function Ze(rt){return null===rt}function bt(rt){return"object"==typeof rt?null!==rt:"function"==typeof rt}function Dt(rt,Ct){switch(De(rt)){case 0:case 1:case 2:case 3:case 4:case 5:return rt}var mt=3===Ct?"string":5===Ct?"number":"default",Vt=ve(rt,v);if(void 0!==Vt){var at=Vt.call(rt,mt);if(bt(at))throw new TypeError;return at}return function Le(rt,Ct){if("string"===Ct){var mt=rt.toString;if(C(mt)&&!bt(Vt=mt.call(rt)))return Vt;if(C(at=rt.valueOf)&&!bt(Vt=at.call(rt)))return Vt}else{var at;if(C(at=rt.valueOf)&&!bt(Vt=at.call(rt)))return Vt;var Vt,We=rt.toString;if(C(We)&&!bt(Vt=We.call(rt)))return Vt}throw new TypeError}(rt,"default"===mt?"number":mt)}function Ae(rt){return!!rt}function Me(rt){var Ct=Dt(rt,3);return function ut(rt){return"symbol"==typeof rt}(Ct)?Ct:function se(rt){return""+rt}(Ct)}function Ee(rt){return Array.isArray?Array.isArray(rt):rt instanceof Object?rt instanceof Array:"[object Array]"===Object.prototype.toString.call(rt)}function C(rt){return"function"==typeof rt}function T(rt){return"function"==typeof rt}function W(rt,Ct){return rt===Ct||rt!=rt&&Ct!=Ct}function ve(rt,Ct){var mt=rt[Ct];if(null!=mt){if(!C(mt))throw new TypeError;return mt}}function ne(rt){var Ct=ve(rt,x);if(!C(Ct))throw new TypeError;var mt=Ct.call(rt);if(!bt(mt))throw new TypeError;return mt}function p(rt){return rt.value}function H(rt){var Ct=rt.next();return!Ct.done&&Ct}function B(rt){var Ct=rt.return;Ct&&Ct.call(rt)}function Ie(rt){var Ct=Object.getPrototypeOf(rt);if("function"!=typeof rt||rt===U||Ct!==U)return Ct;var mt=rt.prototype,Vt=mt&&Object.getPrototypeOf(mt);if(null==Vt||Vt===Object.prototype)return Ct;var at=Vt.constructor;return"function"!=typeof at||at===rt?Ct:at}function Ye(rt,Ct,mt){var Vt=ue.getProvider(rt,Ct);if(!Ge(Vt))return Vt;if(mt){if(ue.setProvider(rt,Ct,z))return z;throw new Error("Illegal state.")}}function wt(rt){return rt.__=void 0,delete rt.__,rt}w("decorate",function X(rt,Ct,mt,Vt){if(Ge(mt)){if(!Ee(rt))throw new TypeError;if(!T(Ct))throw new TypeError;return function Fe(rt,Ct){for(var mt=rt.length-1;mt>=0;--mt){var at=(0,rt[mt])(Ct);if(!Ge(at)&&!Ze(at)){if(!T(at))throw new TypeError;Ct=at}}return Ct}(rt,Ct)}if(!Ee(rt))throw new TypeError;if(!bt(Ct))throw new TypeError;if(!bt(Vt)&&!Ge(Vt)&&!Ze(Vt))throw new TypeError;return Ze(Vt)&&(Vt=void 0),function je(rt,Ct,mt,Vt){for(var at=rt.length-1;at>=0;--at){var ke=(0,rt[at])(Ct,mt,Vt);if(!Ge(ke)&&!Ze(ke)){if(!bt(ke))throw new TypeError;Vt=ke}}return Vt}(rt,Ct,mt=Me(mt),Vt)}),w("metadata",function re(rt,Ct){return function mt(Vt,at){if(!bt(Vt))throw new TypeError;if(!Ge(at)&&!function J(rt){switch(De(rt)){case 3:case 4:return!0;default:return!1}}(at))throw new TypeError;Rn(rt,Ct,Vt,at)}}),w("defineMetadata",function Z(rt,Ct,mt,Vt){if(!bt(mt))throw new TypeError;return Ge(Vt)||(Vt=Me(Vt)),Rn(rt,Ct,mt,Vt)}),w("hasMetadata",function Re(rt,Ct,mt){if(!bt(Ct))throw new TypeError;return Ge(mt)||(mt=Me(mt)),Ve(rt,Ct,mt)}),w("hasOwnMetadata",function oe(rt,Ct,mt){if(!bt(Ct))throw new TypeError;return Ge(mt)||(mt=Me(mt)),lt(rt,Ct,mt)}),w("getMetadata",function Ce(rt,Ct,mt){if(!bt(Ct))throw new TypeError;return Ge(mt)||(mt=Me(mt)),pt(rt,Ct,mt)}),w("getOwnMetadata",function K(rt,Ct,mt){if(!bt(Ct))throw new TypeError;return Ge(mt)||(mt=Me(mt)),St(rt,Ct,mt)}),w("getMetadataKeys",function R(rt,Ct){if(!bt(rt))throw new TypeError;return Ge(Ct)||(Ct=Me(Ct)),G(rt,Ct)}),w("getOwnMetadataKeys",function ce(rt,Ct){if(!bt(rt))throw new TypeError;return Ge(Ct)||(Ct=Me(Ct)),ee(rt,Ct)}),w("deleteMetadata",function $(rt,Ct,mt){if(!bt(Ct))throw new TypeError;if(Ge(mt)||(mt=Me(mt)),!bt(Ct))throw new TypeError;Ge(mt)||(mt=Me(mt));var Vt=Ye(Ct,mt,!1);return!Ge(Vt)&&Vt.OrdinaryDeleteMetadata(rt,Ct,mt)})}(y,r),typeof r.Reflect>"u"&&(r.Reflect=ye)}()},88696:ln=>{ln.exports=function ye(w,r){this.v=w,this.k=r},ln.exports.__esModule=!0,ln.exports.default=ln.exports},88429:(ln,ye,w)=>{var r=w(88696);ln.exports=function y(u){var v={},x=!1;function d(L,F){return x=!0,F=new Promise(function(S){S(u[L](F))}),{done:!1,value:new r(F,1)}}return v[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},v.next=function(L){return x?(x=!1,L):d("next",L)},"function"==typeof u.throw&&(v.throw=function(L){if(x)throw x=!1,L;return d("throw",L)}),"function"==typeof u.return&&(v.return=function(L){return x?(x=!1,L):d("return",L)}),v},ln.exports.__esModule=!0,ln.exports.default=ln.exports},57909:ln=>{function w(r){function y(u){if(Object(u)!==u)return Promise.reject(new TypeError(u+" is not an object."));var v=u.done;return Promise.resolve(u.value).then(function(x){return{value:x,done:v}})}return(w=function(v){this.s=v,this.n=v.next}).prototype={s:null,n:null,next:function(){return y(this.n.apply(this.s,arguments))},return:function(v){var x=this.s.return;return void 0===x?Promise.resolve({value:v,done:!0}):y(x.apply(this.s,arguments))},throw:function(v){var x=this.s.return;return void 0===x?Promise.reject(v):y(x.apply(this.s,arguments))}},new w(r)}ln.exports=function ye(r){var y,u,v,x=2;for(typeof Symbol<"u"&&(u=Symbol.asyncIterator,v=Symbol.iterator);x--;){if(u&&null!=(y=r[u]))return y.call(r);if(v&&null!=(y=r[v]))return new w(y.call(r));u="@@asyncIterator",v="@@iterator"}throw new TypeError("Object is not async iterable")},ln.exports.__esModule=!0,ln.exports.default=ln.exports},31049:ln=>{function ye(r,y,u,v,x,d,L){try{var F=r[d](L),S=F.value}catch(U){return void u(U)}F.done?y(S):Promise.resolve(S).then(v,x)}ln.exports=function w(r){return function(){var y=this,u=arguments;return new Promise(function(v,x){var d=r.apply(y,u);function L(S){ye(d,v,x,L,F,"next",S)}function F(S){ye(d,v,x,L,F,"throw",S)}L(void 0)})}},ln.exports.__esModule=!0,ln.exports.default=ln.exports},47604:(ln,ye,w)=>{var r=w(88696);ln.exports=function y(u){return new r(u,0)},ln.exports.__esModule=!0,ln.exports.default=ln.exports},88322:(ln,ye,w)=>{var r=w(88696);function u(v){var x,d;function L(S,U){try{var O=v[S](U),b=O.value,M=b instanceof r;Promise.resolve(M?b.v:b).then(function(A){if(M){var ue="return"===S?"return":"next";if(!b.k||A.done)return L(ue,A);A=v[ue](A).value}F(O.done?"return":"normal",A)},function(A){L("throw",A)})}catch(A){F("throw",A)}}function F(S,U){switch(S){case"return":x.resolve({value:U,done:!0});break;case"throw":x.reject(U);break;default:x.resolve({value:U,done:!1})}(x=x.next)?L(x.key,x.arg):d=null}this._invoke=function(S,U){return new Promise(function(O,b){var M={key:S,arg:U,resolve:O,reject:b,next:null};d?d=d.next=M:(x=d=M,L(S,U))})},"function"!=typeof v.return&&(this.return=void 0)}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(v){return this._invoke("next",v)},u.prototype.throw=function(v){return this._invoke("throw",v)},u.prototype.return=function(v){return this._invoke("return",v)},ln.exports=function y(v){return function(){return new u(v.apply(this,arguments))}},ln.exports.__esModule=!0,ln.exports.default=ln.exports},49969:(ln,ye,w)=>{"use strict";w.d(ye,{FX:()=>$,If:()=>r,K2:()=>d,MA:()=>b,Os:()=>x,P:()=>A,hZ:()=>u,i0:()=>v,iF:()=>L,kY:()=>U,kp:()=>y,lY:()=>O,sM:()=>M,sf:()=>R,ui:()=>ce,wk:()=>F});var r=function(Fe){return Fe[Fe.State=0]="State",Fe[Fe.Transition=1]="Transition",Fe[Fe.Sequence=2]="Sequence",Fe[Fe.Group=3]="Group",Fe[Fe.Animate=4]="Animate",Fe[Fe.Keyframes=5]="Keyframes",Fe[Fe.Style=6]="Style",Fe[Fe.Trigger=7]="Trigger",Fe[Fe.Reference=8]="Reference",Fe[Fe.AnimateChild=9]="AnimateChild",Fe[Fe.AnimateRef=10]="AnimateRef",Fe[Fe.Query=11]="Query",Fe[Fe.Stagger=12]="Stagger",Fe}(r||{});const y="*";function u(Fe,je){return{type:r.Trigger,name:Fe,definitions:je,options:{}}}function v(Fe,je=null){return{type:r.Animate,styles:je,timings:Fe}}function x(Fe,je=null){return{type:r.Group,steps:Fe,options:je}}function d(Fe,je=null){return{type:r.Sequence,steps:Fe,options:je}}function L(Fe){return{type:r.Style,styles:Fe,offset:null}}function F(Fe,je,Ve){return{type:r.State,name:Fe,styles:je,options:Ve}}function U(Fe,je,Ve=null){return{type:r.Transition,expr:Fe,animation:je,options:Ve}}function O(Fe,je=null){return{type:r.Reference,animation:Fe,options:je}}function b(Fe=null){return{type:r.AnimateChild,options:Fe}}function M(Fe,je=null){return{type:r.AnimateRef,animation:Fe,options:je}}function A(Fe,je,Ve=null){return{type:r.Query,selector:Fe,animation:je,options:Ve}}class R{constructor(je=0,Ve=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=je+Ve}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}onStart(je){this._originalOnStartFns.push(je),this._onStartFns.push(je)}onDone(je){this._originalOnDoneFns.push(je),this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(je=>je()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(je){this._position=this.totalTime?je*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(je){const Ve="start"==je?this._onStartFns:this._onDoneFns;Ve.forEach(lt=>lt()),Ve.length=0}}class ce{constructor(je){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=je;let Ve=0,lt=0,pt=0;const St=this.players.length;0==St?queueMicrotask(()=>this._onFinish()):this.players.forEach(Rn=>{Rn.onDone(()=>{++Ve==St&&this._onFinish()}),Rn.onDestroy(()=>{++lt==St&&this._onDestroy()}),Rn.onStart(()=>{++pt==St&&this._onStart()})}),this.totalTime=this.players.reduce((Rn,G)=>Math.max(Rn,G.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}init(){this.players.forEach(je=>je.init())}onStart(je){this._onStartFns.push(je)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(je=>je()),this._onStartFns=[])}onDone(je){this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(je=>je.play())}pause(){this.players.forEach(je=>je.pause())}restart(){this.players.forEach(je=>je.restart())}finish(){this._onFinish(),this.players.forEach(je=>je.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(je=>je.destroy()),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this.players.forEach(je=>je.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(je){const Ve=je*this.totalTime;this.players.forEach(lt=>{const pt=lt.totalTime?Math.min(1,Ve/lt.totalTime):1;lt.setPosition(pt)})}getPosition(){const je=this.players.reduce((Ve,lt)=>null===Ve||lt.totalTime>Ve.totalTime?lt:Ve,null);return null!=je?je.getPosition():0}beforeDestroy(){this.players.forEach(je=>{je.beforeDestroy&&je.beforeDestroy()})}triggerCallback(je){const Ve="start"==je?this._onStartFns:this._onDoneFns;Ve.forEach(lt=>lt()),Ve.length=0}}const $="!"},18617:(ln,ye,w)=>{"use strict";w.d(ye,{Ae:()=>R,Ai:()=>tr,Au:()=>De,Bu:()=>Ge,FN:()=>Nn,GX:()=>jt,Pd:()=>bn,Q_:()=>tn,Z2:()=>bt,Z7:()=>Ee,_G:()=>Ct,kB:()=>Ye,px:()=>K,vr:()=>lt,w6:()=>mt});var r=w(60177),y=w(54438),u=w(36860),v=w(67336),x=w(85052),d=w(81027),L=w(28454),F=w(15877),S=w(29160),U=w(39705),O=w(87996),b=w(14264),M=w(36110),A=w(17365),ue=w(87145),z=w(21082),X=w(37925),re=w(8045),Z=w(72318),Re=w(14085),oe=w(99327);const Ce=" ";function K(yt,_e,he){const Be=ce(yt,_e);he=he.trim(),!Be.some(ht=>ht.trim()===he)&&(Be.push(he),yt.setAttribute(_e,Be.join(Ce)))}function R(yt,_e,he){const Be=ce(yt,_e);he=he.trim();const ht=Be.filter(zt=>zt!==he);ht.length?yt.setAttribute(_e,ht.join(Ce)):yt.removeAttribute(_e)}function ce(yt,_e){return yt.getAttribute(_e)?.match(/\S+/g)??[]}const Fe="cdk-describedby-message",je="cdk-describedby-host";let Ve=0,lt=(()=>{class yt{constructor(he,Be){this._platform=Be,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ve++,this._document=he,this._id=(0,y.WQX)(y.sZ2)+"-"+Ve++}describe(he,Be,ht){if(!this._canBeDescribed(he,Be))return;const zt=pt(Be,ht);"string"!=typeof Be?(St(Be,this._id),this._messageRegistry.set(zt,{messageElement:Be,referenceCount:0})):this._messageRegistry.has(zt)||this._createMessageElement(Be,ht),this._isElementDescribedByMessage(he,zt)||this._addMessageReference(he,zt)}removeDescription(he,Be,ht){if(!Be||!this._isElementNode(he))return;const zt=pt(Be,ht);if(this._isElementDescribedByMessage(he,zt)&&this._removeMessageReference(he,zt),"string"==typeof Be){const on=this._messageRegistry.get(zt);on&&0===on.referenceCount&&this._deleteMessageElement(zt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const he=this._document.querySelectorAll(`[${je}="${this._id}"]`);for(let Be=0;Be<he.length;Be++)this._removeCdkDescribedByReferenceIds(he[Be]),he[Be].removeAttribute(je);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(he,Be){const ht=this._document.createElement("div");St(ht,this._id),ht.textContent=he,Be&&ht.setAttribute("role",Be),this._createMessagesContainer(),this._messagesContainer.appendChild(ht),this._messageRegistry.set(pt(he,Be),{messageElement:ht,referenceCount:0})}_deleteMessageElement(he){this._messageRegistry.get(he)?.messageElement?.remove(),this._messageRegistry.delete(he)}_createMessagesContainer(){if(this._messagesContainer)return;const he="cdk-describedby-message-container",Be=this._document.querySelectorAll(`.${he}[platform="server"]`);for(let zt=0;zt<Be.length;zt++)Be[zt].remove();const ht=this._document.createElement("div");ht.style.visibility="hidden",ht.classList.add(he),ht.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ht.setAttribute("platform","server"),this._document.body.appendChild(ht),this._messagesContainer=ht}_removeCdkDescribedByReferenceIds(he){const Be=ce(he,"aria-describedby").filter(ht=>0!=ht.indexOf(Fe));he.setAttribute("aria-describedby",Be.join(" "))}_addMessageReference(he,Be){const ht=this._messageRegistry.get(Be);K(he,"aria-describedby",ht.messageElement.id),he.setAttribute(je,this._id),ht.referenceCount++}_removeMessageReference(he,Be){const ht=this._messageRegistry.get(Be);ht.referenceCount--,R(he,"aria-describedby",ht.messageElement.id),he.removeAttribute(je)}_isElementDescribedByMessage(he,Be){const ht=ce(he,"aria-describedby"),zt=this._messageRegistry.get(Be),on=zt&&zt.messageElement.id;return!!on&&-1!=ht.indexOf(on)}_canBeDescribed(he,Be){if(!this._isElementNode(he))return!1;if(Be&&"object"==typeof Be)return!0;const ht=null==Be?"":`${Be}`.trim(),zt=he.getAttribute("aria-label");return!(!ht||zt&&zt.trim()===ht)}_isElementNode(he){return he.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(r.qQ),y.KVO(u.OD))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();function pt(yt,_e){return"string"==typeof yt?`${_e||""}/${yt}`:yt}function St(yt,_e){yt.id||(yt.id=`${Fe}-${_e}-${Ve++}`)}class G{constructor(_e,he){this._letterKeyStream=new x.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new x.B,this.selectedItem=this._selectedItem;const Be="number"==typeof he?.debounceInterval?he.debounceInterval:200;he?.skipPredicate&&(this._skipPredicateFn=he.skipPredicate),this.setItems(_e),this._setupKeyHandler(Be)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(_e){this._selectedItemIndex=_e}setItems(_e){this._items=_e}handleKey(_e){const he=_e.keyCode;_e.key&&1===_e.key.length?this._letterKeyStream.next(_e.key.toLocaleUpperCase()):(he>=v.A&&he<=v.Z||he>=v.f2&&he<=v.bn)&&this._letterKeyStream.next(String.fromCharCode(he))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(_e){this._letterKeyStream.pipe((0,U.M)(he=>this._pressedLetters.push(he)),(0,O.B)(_e),(0,b.p)(()=>this._pressedLetters.length>0),(0,M.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(he=>{for(let Be=1;Be<this._items.length+1;Be++){const zt=this._items[(this._selectedItemIndex+Be)%this._items.length];if(!this._skipPredicateFn?.(zt)&&0===zt.getLabel?.().toLocaleUpperCase().trim().indexOf(he)){this._selectedItem.next(zt);break}}this._pressedLetters=[]})}}class ee{constructor(_e,he){this._items=_e,this._activeItemIndex=-1,this._activeItem=(0,y.vPA)(null),this._wrap=!1,this._typeaheadSubscription=d.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Be=>Be.disabled,this.tabOut=new x.B,this.change=new x.B,_e instanceof y.rOR?this._itemChangesSubscription=_e.changes.subscribe(Be=>this._itemsChanged(Be.toArray())):(0,y.Hps)(_e)&&(this._effectRef=(0,y.QZP)(()=>this._itemsChanged(_e()),{injector:he}))}skipPredicate(_e){return this._skipPredicateFn=_e,this}withWrap(_e=!0){return this._wrap=_e,this}withVerticalOrientation(_e=!0){return this._vertical=_e,this}withHorizontalOrientation(_e){return this._horizontal=_e,this}withAllowedModifierKeys(_e){return this._allowedModifierKeys=_e,this}withTypeAhead(_e=200){this._typeaheadSubscription.unsubscribe();const he=this._getItemsArray();return this._typeahead=new G(he,{debounceInterval:"number"==typeof _e?_e:void 0,skipPredicate:Be=>this._skipPredicateFn(Be)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Be=>{this.setActiveItem(Be)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(_e=!0){return this._homeAndEnd=_e,this}withPageUpDown(_e=!0,he=10){return this._pageUpAndDown={enabled:_e,delta:he},this}setActiveItem(_e){const he=this._activeItem();this.updateActiveItem(_e),this._activeItem()!==he&&this.change.next(this._activeItemIndex)}onKeydown(_e){const he=_e.keyCode,ht=["altKey","ctrlKey","metaKey","shiftKey"].every(zt=>!_e[zt]||this._allowedModifierKeys.indexOf(zt)>-1);switch(he){case v.wn:return void this.tabOut.next();case v.n6:if(this._vertical&&ht){this.setNextItemActive();break}return;case v.i7:if(this._vertical&&ht){this.setPreviousItemActive();break}return;case v.LE:if(this._horizontal&&ht){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case v.UQ:if(this._horizontal&&ht){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case v.yZ:if(this._homeAndEnd&&ht){this.setFirstItemActive();break}return;case v.Kp:if(this._homeAndEnd&&ht){this.setLastItemActive();break}return;case v.w_:if(this._pageUpAndDown.enabled&&ht){const zt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(zt>0?zt:0,1);break}return;case v.dB:if(this._pageUpAndDown.enabled&&ht){const zt=this._activeItemIndex+this._pageUpAndDown.delta,on=this._getItemsArray().length;this._setActiveItemByIndex(zt<on?zt:on-1,-1);break}return;default:return void((ht||(0,v.rp)(_e,"shiftKey"))&&this._typeahead?.handleKey(_e))}this._typeahead?.reset(),_e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(_e){const he=this._getItemsArray(),Be="number"==typeof _e?_e:he.indexOf(_e);this._activeItem.set(he[Be]??null),this._activeItemIndex=Be,this._typeahead?.setCurrentSelectedItemIndex(Be)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(_e){this._wrap?this._setActiveInWrapMode(_e):this._setActiveInDefaultMode(_e)}_setActiveInWrapMode(_e){const he=this._getItemsArray();for(let Be=1;Be<=he.length;Be++){const ht=(this._activeItemIndex+_e*Be+he.length)%he.length;if(!this._skipPredicateFn(he[ht]))return void this.setActiveItem(ht)}}_setActiveInDefaultMode(_e){this._setActiveItemByIndex(this._activeItemIndex+_e,_e)}_setActiveItemByIndex(_e,he){const Be=this._getItemsArray();if(Be[_e]){for(;this._skipPredicateFn(Be[_e]);)if(!Be[_e+=he])return;this.setActiveItem(_e)}}_getItemsArray(){return(0,y.Hps)(this._items)?this._items():this._items instanceof y.rOR?this._items.toArray():this._items}_itemsChanged(_e){this._typeahead?.setItems(_e);const he=this._activeItem();if(he){const Be=_e.indexOf(he);Be>-1&&Be!==this._activeItemIndex&&(this._activeItemIndex=Be,this._typeahead?.setCurrentSelectedItemIndex(Be))}}}class De extends ee{setActiveItem(_e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(_e),this.activeItem&&this.activeItem.setActiveStyles()}}class Ge extends ee{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(_e){return this._origin=_e,this}setActiveItem(_e){super.setActiveItem(_e),this.activeItem&&this.activeItem.focus(this._origin)}}class Ze{_initializeFocus(){if(this._hasInitialFocused||0===this._items.length)return;let _e=0;for(let Be=0;Be<this._items.length;Be++)if(!this._skipPredicateFn(this._items[Be])&&!this._isItemDisabled(this._items[Be])){_e=Be;break}const he=this._items[_e];he.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=_e,this._activeItem=he,this._typeahead?.setCurrentSelectedItemIndex(_e),he.makeFocusable()):this.focusItem(_e),this._hasInitialFocused=!0}constructor(_e,he){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=Be=>!1,this._trackByFn=Be=>Be,this._items=[],this._typeaheadSubscription=d.yU.EMPTY,this._hasInitialFocused=!1,this.change=new x.B,_e instanceof y.rOR?(this._items=_e.toArray(),_e.changes.subscribe(Be=>{this._items=Be.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):(0,L.A)(_e)?_e.subscribe(Be=>{this._items=Be,this._typeahead?.setItems(Be),this._updateActiveItemIndex(Be),this._initializeFocus()}):(this._items=_e,this._initializeFocus()),"boolean"==typeof he.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=he.shouldActivationFollowFocus),he.horizontalOrientation&&(this._horizontalOrientation=he.horizontalOrientation),he.skipPredicate&&(this._skipPredicateFn=he.skipPredicate),he.trackBy&&(this._trackByFn=he.trackBy),typeof he.typeAheadDebounceInterval<"u"&&this._setTypeAhead(he.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(_e){switch(_e.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===_e.key){this._expandAllItemsAtCurrentItemLevel();break}return void this._typeahead?.handleKey(_e)}this._typeahead?.reset(),_e.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(_e,he={}){he.emitChangeEvent??=!0;let Be="number"==typeof _e?_e:this._items.findIndex(on=>this._trackByFn(on)===this._trackByFn(_e));if(Be<0||Be>=this._items.length)return;const ht=this._items[Be];if(null!==this._activeItem&&this._trackByFn(ht)===this._trackByFn(this._activeItem))return;const zt=this._activeItem;this._activeItem=ht??null,this._activeItemIndex=Be,this._typeahead?.setCurrentSelectedItemIndex(Be),this._activeItem?.focus(),zt?.unfocus(),he.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(_e){const he=this._activeItem;if(!he)return;const Be=_e.findIndex(ht=>this._trackByFn(ht)===this._trackByFn(he));Be>-1&&Be!==this._activeItemIndex&&(this._activeItemIndex=Be,this._typeahead?.setCurrentSelectedItemIndex(Be))}_setTypeAhead(_e){this._typeahead=new G(this._items,{debounceInterval:"number"==typeof _e?_e:void 0,skipPredicate:he=>this._skipPredicateFn(he)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(he=>{this.focusItem(he)})}_findNextAvailableItemIndex(_e){for(let he=_e+1;he<this._items.length;he++)if(!this._skipPredicateFn(this._items[he]))return he;return _e}_findPreviousAvailableItemIndex(_e){for(let he=_e-1;he>=0;he--)if(!this._skipPredicateFn(this._items[he]))return he;return _e}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const _e=this._activeItem.getParent();if(!_e||this._skipPredicateFn(_e))return;this.focusItem(_e)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?(0,re.x)(this._activeItem.getChildren()).pipe((0,A.s)(1)).subscribe(_e=>{const he=_e.find(Be=>!this._skipPredicateFn(Be));he&&this.focusItem(he)}):this._activeItem.expand())}_isCurrentItemExpanded(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}_isItemDisabled(_e){return"boolean"==typeof _e.isDisabled?_e.isDisabled:_e.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const _e=this._activeItem.getParent();let he;he=_e?(0,re.x)(_e.getChildren()):(0,F.of)(this._items.filter(Be=>null===Be.getParent())),he.pipe((0,A.s)(1)).subscribe(Be=>{for(const ht of Be)ht.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}const bt=new y.nKC("tree-key-manager",{providedIn:"root",factory:function ut(){return(yt,_e)=>new Ze(yt,_e)}});let Ee=(()=>{class yt{constructor(he){this._platform=he}isDisabled(he){return he.hasAttribute("disabled")}isVisible(he){return function T(yt){return!!(yt.offsetWidth||yt.offsetHeight||"function"==typeof yt.getClientRects&&yt.getClientRects().length)}(he)&&"visible"===getComputedStyle(he).visibility}isTabbable(he){if(!this._platform.isBrowser)return!1;const Be=function C(yt){try{return yt.frameElement}catch{return null}}(function ft(yt){return yt.ownerDocument&&yt.ownerDocument.defaultView||window}(he));if(Be&&(-1===B(Be)||!this.isVisible(Be)))return!1;let ht=he.nodeName.toLowerCase(),zt=B(he);return he.hasAttribute("contenteditable")?-1!==zt:!("iframe"===ht||"object"===ht||this._platform.WEBKIT&&this._platform.IOS&&!function Ie(yt){let _e=yt.nodeName.toLowerCase(),he="input"===_e&&yt.type;return"text"===he||"password"===he||"select"===_e||"textarea"===_e}(he))&&("audio"===ht?!!he.hasAttribute("controls")&&-1!==zt:"video"===ht?-1!==zt&&(null!==zt||this._platform.FIREFOX||he.hasAttribute("controls")):he.tabIndex>=0)}isFocusable(he,Be){return function $e(yt){return!function W(yt){return function ne(yt){return"input"==yt.nodeName.toLowerCase()}(yt)&&"hidden"==yt.type}(yt)&&(function J(yt){let _e=yt.nodeName.toLowerCase();return"input"===_e||"select"===_e||"button"===_e||"textarea"===_e}(yt)||function ve(yt){return function p(yt){return"a"==yt.nodeName.toLowerCase()}(yt)&&yt.hasAttribute("href")}(yt)||yt.hasAttribute("contenteditable")||H(yt))}(he)&&!this.isDisabled(he)&&(Be?.ignoreVisibility||this.isVisible(he))}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(u.OD))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();function H(yt){if(!yt.hasAttribute("tabindex")||void 0===yt.tabIndex)return!1;let _e=yt.getAttribute("tabindex");return!(!_e||isNaN(parseInt(_e,10)))}function B(yt){if(!H(yt))return null;const _e=parseInt(yt.getAttribute("tabindex")||"",10);return isNaN(_e)?-1:_e}class kt{get enabled(){return this._enabled}set enabled(_e){this._enabled=_e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(_e,this._startAnchor),this._toggleAnchorTabIndex(_e,this._endAnchor))}constructor(_e,he,Be,ht,zt=!1,on){this._element=_e,this._checker=he,this._ngZone=Be,this._document=ht,this._injector=on,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,zt||this.attachAnchors()}destroy(){const _e=this._startAnchor,he=this._endAnchor;_e&&(_e.removeEventListener("focus",this.startAnchorListener),_e.remove()),he&&(he.removeEventListener("focus",this.endAnchorListener),he.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(_e){return new Promise(he=>{this._executeOnStable(()=>he(this.focusInitialElement(_e)))})}focusFirstTabbableElementWhenReady(_e){return new Promise(he=>{this._executeOnStable(()=>he(this.focusFirstTabbableElement(_e)))})}focusLastTabbableElementWhenReady(_e){return new Promise(he=>{this._executeOnStable(()=>he(this.focusLastTabbableElement(_e)))})}_getRegionBoundary(_e){const he=this._element.querySelectorAll(`[cdk-focus-region-${_e}], [cdkFocusRegion${_e}], [cdk-focus-${_e}]`);return"start"==_e?he.length?he[0]:this._getFirstTabbableElement(this._element):he.length?he[he.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(_e){const he=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(he){if(!this._checker.isFocusable(he)){const Be=this._getFirstTabbableElement(he);return Be?.focus(_e),!!Be}return he.focus(_e),!0}return this.focusFirstTabbableElement(_e)}focusFirstTabbableElement(_e){const he=this._getRegionBoundary("start");return he&&he.focus(_e),!!he}focusLastTabbableElement(_e){const he=this._getRegionBoundary("end");return he&&he.focus(_e),!!he}hasAttached(){return this._hasAttached}_getFirstTabbableElement(_e){if(this._checker.isFocusable(_e)&&this._checker.isTabbable(_e))return _e;const he=_e.children;for(let Be=0;Be<he.length;Be++){const ht=he[Be].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(he[Be]):null;if(ht)return ht}return null}_getLastTabbableElement(_e){if(this._checker.isFocusable(_e)&&this._checker.isTabbable(_e))return _e;const he=_e.children;for(let Be=he.length-1;Be>=0;Be--){const ht=he[Be].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(he[Be]):null;if(ht)return ht}return null}_createAnchor(){const _e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,_e),_e.classList.add("cdk-visually-hidden"),_e.classList.add("cdk-focus-trap-anchor"),_e.setAttribute("aria-hidden","true"),_e}_toggleAnchorTabIndex(_e,he){_e?he.setAttribute("tabindex","0"):he.removeAttribute("tabindex")}toggleAnchors(_e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(_e,this._startAnchor),this._toggleAnchorTabIndex(_e,this._endAnchor))}_executeOnStable(_e){this._injector?(0,y.mal)(_e,{injector:this._injector}):setTimeout(_e)}}let jt=(()=>{class yt{constructor(he,Be,ht){this._checker=he,this._ngZone=Be,this._injector=(0,y.WQX)(y.zZn),this._document=ht}create(he,Be=!1){return new kt(he,this._checker,this._ngZone,this._document,Be,this._injector)}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(Ee),y.KVO(y.SKi),y.KVO(r.qQ))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),Ye=(()=>{class yt{get enabled(){return this.focusTrap?.enabled||!1}set enabled(he){this.focusTrap&&(this.focusTrap.enabled=he)}constructor(he,Be,ht){this._elementRef=he,this._focusTrapFactory=Be,this._previouslyFocusedElement=null,(0,y.WQX)(u.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(he){const Be=he.autoCapture;Be&&!Be.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,u.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.rXU(y.aKT),y.rXU(jt),y.rXU(r.qQ))};static#t=this.\u0275dir=y.FsC({type:yt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",y.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",y.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[y.GFd,y.OA$]})}return yt})();function Ct(yt){return 0===yt.buttons||0===yt.detail}function mt(yt){const _e=yt.touches&&yt.touches[0]||yt.changedTouches&&yt.changedTouches[0];return!(!_e||-1!==_e.identifier||null!=_e.radiusX&&1!==_e.radiusX||null!=_e.radiusY&&1!==_e.radiusY)}const Vt=new y.nKC("cdk-input-modality-detector-options"),at={ignoreKeys:[v.A$,v.W3,v.eg,v.Ge,v.FX]},ke=(0,u.BQ)({passive:!0,capture:!0});let et=(()=>{class yt{get mostRecentModality(){return this._modality.value}constructor(he,Be,ht,zt){this._platform=he,this._mostRecentTarget=null,this._modality=new S.t(null),this._lastTouchMs=0,this._onKeydown=on=>{this._options?.ignoreKeys?.some(Hn=>Hn===on.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,u.Fb)(on))},this._onMousedown=on=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ct(on)?"keyboard":"mouse"),this._mostRecentTarget=(0,u.Fb)(on))},this._onTouchstart=on=>{mt(on)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,u.Fb)(on))},this._options={...at,...zt},this.modalityDetected=this._modality.pipe((0,ue.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,z.F)()),he.isBrowser&&Be.runOutsideAngular(()=>{ht.addEventListener("keydown",this._onKeydown,ke),ht.addEventListener("mousedown",this._onMousedown,ke),ht.addEventListener("touchstart",this._onTouchstart,ke)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ke),document.removeEventListener("mousedown",this._onMousedown,ke),document.removeEventListener("touchstart",this._onTouchstart,ke))}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(u.OD),y.KVO(y.SKi),y.KVO(r.qQ),y.KVO(Vt,8))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();const xt=new y.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Zt(){return null}}),vn=new y.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let kn=0,tr=(()=>{class yt{constructor(he,Be,ht,zt){this._ngZone=Be,this._defaultOptions=zt,this._document=ht,this._liveElement=he||this._createLiveElement()}announce(he,...Be){const ht=this._defaultOptions;let zt,on;return 1===Be.length&&"number"==typeof Be[0]?on=Be[0]:[zt,on]=Be,this.clear(),clearTimeout(this._previousTimeout),zt||(zt=ht&&ht.politeness?ht.politeness:"polite"),null==on&&ht&&(on=ht.duration),this._liveElement.setAttribute("aria-live",zt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Hn=>this._currentResolve=Hn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=he,"number"==typeof on&&(this._previousTimeout=setTimeout(()=>this.clear(),on)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const he="cdk-live-announcer-element",Be=this._document.getElementsByClassName(he),ht=this._document.createElement("div");for(let zt=0;zt<Be.length;zt++)Be[zt].remove();return ht.classList.add(he),ht.classList.add("cdk-visually-hidden"),ht.setAttribute("aria-atomic","true"),ht.setAttribute("aria-live","polite"),ht.id="cdk-live-announcer-"+kn++,this._document.body.appendChild(ht),ht}_exposeAnnouncerToModals(he){const Be=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ht=0;ht<Be.length;ht++){const zt=Be[ht],on=zt.getAttribute("aria-owns");on?-1===on.indexOf(he)&&zt.setAttribute("aria-owns",on+" "+he):zt.setAttribute("aria-owns",he)}}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(xt,8),y.KVO(y.SKi),y.KVO(r.qQ),y.KVO(vn,8))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();var nn=function(yt){return yt[yt.IMMEDIATE=0]="IMMEDIATE",yt[yt.EVENTUAL=1]="EVENTUAL",yt}(nn||{});const Ht=new y.nKC("cdk-focus-monitor-default-options"),Xt=(0,u.BQ)({passive:!0,capture:!0});let Nn=(()=>{class yt{constructor(he,Be,ht,zt,on){this._ngZone=he,this._platform=Be,this._inputModalityDetector=ht,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new x.B,this._rootNodeFocusAndBlurListener=Hn=>{for(let Ir=(0,u.Fb)(Hn);Ir;Ir=Ir.parentElement)"focus"===Hn.type?this._onFocus(Hn,Ir):this._onBlur(Hn,Ir)},this._document=zt,this._detectionMode=on?.detectionMode||nn.IMMEDIATE}monitor(he,Be=!1){const ht=(0,Re.i8)(he);if(!this._platform.isBrowser||1!==ht.nodeType)return(0,F.of)();const zt=(0,u.KT)(ht)||this._getDocument(),on=this._elementInfo.get(ht);if(on)return Be&&(on.checkChildren=!0),on.subject;const Hn={checkChildren:Be,subject:new x.B,rootNode:zt};return this._elementInfo.set(ht,Hn),this._registerGlobalListeners(Hn),Hn.subject}stopMonitoring(he){const Be=(0,Re.i8)(he),ht=this._elementInfo.get(Be);ht&&(ht.subject.complete(),this._setClasses(Be),this._elementInfo.delete(Be),this._removeGlobalListeners(ht))}focusVia(he,Be,ht){const zt=(0,Re.i8)(he);zt===this._getDocument().activeElement?this._getClosestElementsInfo(zt).forEach(([Hn,Ar])=>this._originChanged(Hn,Be,Ar)):(this._setOrigin(Be),"function"==typeof zt.focus&&zt.focus(ht))}ngOnDestroy(){this._elementInfo.forEach((he,Be)=>this.stopMonitoring(Be))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(he){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(he)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:he&&this._isLastInteractionFromInputLabel(he)?"mouse":"program"}_shouldBeAttributedToTouch(he){return this._detectionMode===nn.EVENTUAL||!!he?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(he,Be){he.classList.toggle("cdk-focused",!!Be),he.classList.toggle("cdk-touch-focused","touch"===Be),he.classList.toggle("cdk-keyboard-focused","keyboard"===Be),he.classList.toggle("cdk-mouse-focused","mouse"===Be),he.classList.toggle("cdk-program-focused","program"===Be)}_setOrigin(he,Be=!1){this._ngZone.runOutsideAngular(()=>{this._origin=he,this._originFromTouchInteraction="touch"===he&&Be,this._detectionMode===nn.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(he,Be){const ht=this._elementInfo.get(Be),zt=(0,u.Fb)(he);!ht||!ht.checkChildren&&Be!==zt||this._originChanged(Be,this._getFocusOrigin(zt),ht)}_onBlur(he,Be){const ht=this._elementInfo.get(Be);!ht||ht.checkChildren&&he.relatedTarget instanceof Node&&Be.contains(he.relatedTarget)||(this._setClasses(Be),this._emitOrigin(ht,null))}_emitOrigin(he,Be){he.subject.observers.length&&this._ngZone.run(()=>he.subject.next(Be))}_registerGlobalListeners(he){if(!this._platform.isBrowser)return;const Be=he.rootNode,ht=this._rootNodeFocusListenerCount.get(Be)||0;ht||this._ngZone.runOutsideAngular(()=>{Be.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xt),Be.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xt)}),this._rootNodeFocusListenerCount.set(Be,ht+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,X.Q)(this._stopInputModalityDetector)).subscribe(zt=>{this._setOrigin(zt,!0)}))}_removeGlobalListeners(he){const Be=he.rootNode;if(this._rootNodeFocusListenerCount.has(Be)){const ht=this._rootNodeFocusListenerCount.get(Be);ht>1?this._rootNodeFocusListenerCount.set(Be,ht-1):(Be.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xt),Be.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xt),this._rootNodeFocusListenerCount.delete(Be))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(he,Be,ht){this._setClasses(he,Be),this._emitOrigin(ht,Be),this._lastFocusOrigin=Be}_getClosestElementsInfo(he){const Be=[];return this._elementInfo.forEach((ht,zt)=>{(zt===he||ht.checkChildren&&zt.contains(he))&&Be.push([zt,ht])}),Be}_isLastInteractionFromInputLabel(he){const{_mostRecentTarget:Be,mostRecentModality:ht}=this._inputModalityDetector;if("mouse"!==ht||!Be||Be===he||"INPUT"!==he.nodeName&&"TEXTAREA"!==he.nodeName||he.disabled)return!1;const zt=he.labels;if(zt)for(let on=0;on<zt.length;on++)if(zt[on].contains(Be))return!0;return!1}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(y.SKi),y.KVO(u.OD),y.KVO(et),y.KVO(r.qQ,8),y.KVO(Ht,8))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();var Mn=function(yt){return yt[yt.NONE=0]="NONE",yt[yt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",yt[yt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",yt}(Mn||{});const Bn="cdk-high-contrast-black-on-white",Pn="cdk-high-contrast-white-on-black",Dn="cdk-high-contrast-active";let tn=(()=>{class yt{constructor(he,Be){this._platform=he,this._document=Be,this._breakpointSubscription=(0,y.WQX)(oe.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Mn.NONE;const he=this._document.createElement("div");he.style.backgroundColor="rgb(1,2,3)",he.style.position="absolute",this._document.body.appendChild(he);const Be=this._document.defaultView||window,ht=Be&&Be.getComputedStyle?Be.getComputedStyle(he):null,zt=(ht&&ht.backgroundColor||"").replace(/ /g,"");switch(he.remove(),zt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Mn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Mn.BLACK_ON_WHITE}return Mn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const he=this._document.body.classList;he.remove(Dn,Bn,Pn),this._hasCheckedHighContrastMode=!0;const Be=this.getHighContrastMode();Be===Mn.BLACK_ON_WHITE?he.add(Dn,Bn):Be===Mn.WHITE_ON_BLACK&&he.add(Dn,Pn)}}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(u.OD),y.KVO(r.qQ))};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),bn=(()=>{class yt{constructor(he){he._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Be){return new(Be||yt)(y.KVO(tn))};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Z.w5]})}return yt})()},9529:(ln,ye,w)=>{"use strict";w.d(ye,{Ky:()=>S,bU:()=>U,z8:()=>L});var r=w(54438),y=w(45024),u=w(85052),v=w(81027);let x=0;const d=new r.nKC("CdkAccordion");let L=(()=>{class O{constructor(){this._stateChanges=new u.B,this._openCloseAllActions=new u.B,this.id="cdk-accordion-"+x++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(M){this._stateChanges.next(M)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(A){return new(A||O)};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",r.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[r.Jv_([{provide:d,useExisting:O}]),r.GFd,r.OA$]})}return O})(),F=0,S=(()=>{class O{get expanded(){return this._expanded}set expanded(M){this._expanded!==M&&(this._expanded=M,this.expandedChange.emit(M),M?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(M,A,ue){this.accordion=M,this._changeDetectorRef=A,this._expansionDispatcher=ue,this._openCloseAllSubscription=v.yU.EMPTY,this.closed=new r.bkB,this.opened=new r.bkB,this.destroyed=new r.bkB,this.expandedChange=new r.bkB,this.id="cdk-accordion-child-"+F++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=ue.listen((z,X)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===X&&this.id!==z&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(M=>{this.disabled||(this.expanded=M)})}static#e=this.\u0275fac=function(A){return new(A||O)(r.rXU(d,12),r.rXU(r.gRc),r.rXU(y.zP))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",r.L39],disabled:[2,"disabled","disabled",r.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[r.Jv_([{provide:d,useValue:void 0}]),r.GFd]})}return O})(),U=(()=>{class O{static#e=this.\u0275fac=function(A){return new(A||O)};static#t=this.\u0275mod=r.$C({type:O});static#n=this.\u0275inj=r.G2t({})}return O})()},28203:(ln,ye,w)=>{"use strict";w.d(ye,{dS:()=>L,ig:()=>F,jI:()=>S});var r=w(54438),y=w(60177);const u=new r.nKC("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,r.WQX)(y.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function d(U){const O=U?.toLowerCase()||"";return"auto"===O&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===O?"rtl":"ltr"}let L=(()=>{class U{constructor(b){this.value="ltr",this.change=new r.bkB,b&&(this.value=d((b.body?b.body.dir:null)||(b.documentElement?b.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(M){return new(M||U)(r.KVO(u,8))};static#t=this.\u0275prov=r.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),F=(()=>{class U{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new r.bkB}get dir(){return this._dir}set dir(b){const M=this._dir;this._dir=d(b),this._rawDir=b,M!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(M){return new(M||U)};static#t=this.\u0275dir=r.FsC({type:U,selectors:[["","dir",""]],hostVars:1,hostBindings:function(M,A){2&M&&r.BMQ("dir",A._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],standalone:!0,features:[r.Jv_([{provide:L,useExisting:U}])]})}return U})(),S=(()=>{class U{static#e=this.\u0275fac=function(M){return new(M||U)};static#t=this.\u0275mod=r.$C({type:U});static#n=this.\u0275inj=r.G2t({})}return U})()},14085:(ln,ye,w)=>{"use strict";w.d(ye,{FG:()=>x,OE:()=>u,a1:()=>d,he:()=>y,i8:()=>L});var r=w(54438);function y(S){return null!=S&&"false"!=`${S}`}function u(S,U=0){return function v(S){return!isNaN(parseFloat(S))&&!isNaN(Number(S))}(S)?Number(S):2===arguments.length?U:0}function x(S){return Array.isArray(S)?S:[S]}function d(S){return null==S?"":"string"==typeof S?S:`${S}px`}function L(S){return S instanceof r.aKT?S.nativeElement:S}},8045:(ln,ye,w)=>{"use strict";w.d(ye,{x:()=>u});var r=w(28454),y=w(15877);function u(v){return(0,r.A)(v)?v:(0,y.of)(v)}},45024:(ln,ye,w)=>{"use strict";w.d(ye,{CB:()=>M,DQ:()=>b,Q3:()=>S,hx:()=>F,sL:()=>U,xn:()=>O,y4:()=>L,zP:()=>ue});var r=w(7221),y=w(28454),u=w(15877),v=w(85052),x=w(54438);class d{}function L(z){return z&&"function"==typeof z.connect&&!(z instanceof r.G)}class F extends d{constructor(X){super(),this._data=X}connect(){return(0,y.A)(this._data)?this._data:(0,u.of)(this._data)}disconnect(){}}var S=function(z){return z[z.REPLACED=0]="REPLACED",z[z.INSERTED=1]="INSERTED",z[z.MOVED=2]="MOVED",z[z.REMOVED=3]="REMOVED",z}(S||{});const U=new x.nKC("_ViewRepeater");class O{applyChanges(X,re,Z,Re,oe){X.forEachOperation((Ce,K,R)=>{let ce,$;if(null==Ce.previousIndex){const Fe=Z(Ce,K,R);ce=re.createEmbeddedView(Fe.templateRef,Fe.context,Fe.index),$=S.INSERTED}else null==R?(re.remove(K),$=S.REMOVED):(ce=re.get(K),re.move(ce,R),$=S.MOVED);oe&&oe({context:ce?.context,operation:$,record:Ce})})}detach(){}}class b{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(X,re,Z,Re,oe){X.forEachOperation((Ce,K,R)=>{let ce,$;null==Ce.previousIndex?(ce=this._insertView(()=>Z(Ce,K,R),R,re,Re(Ce)),$=ce?S.INSERTED:S.REPLACED):null==R?(this._detachAndCacheView(K,re),$=S.REMOVED):(ce=this._moveView(K,R,re,Re(Ce)),$=S.MOVED),oe&&oe({context:ce?.context,operation:$,record:Ce})})}detach(){for(const X of this._viewCache)X.destroy();this._viewCache=[]}_insertView(X,re,Z,Re){const oe=this._insertViewFromCache(re,Z);if(oe)return void(oe.context.$implicit=Re);const Ce=X();return Z.createEmbeddedView(Ce.templateRef,Ce.context,Ce.index)}_detachAndCacheView(X,re){const Z=re.detach(X);this._maybeCacheView(Z,re)}_moveView(X,re,Z,Re){const oe=Z.get(X);return Z.move(oe,re),oe.context.$implicit=Re,oe}_maybeCacheView(X,re){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(X);else{const Z=re.indexOf(X);-1===Z?X.destroy():re.remove(Z)}}_insertViewFromCache(X,re){const Z=this._viewCache.pop();return Z&&re.insert(Z,X),Z||null}}class M{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(X=!1,re,Z=!0,Re){this._multiple=X,this._emitChanges=Z,this.compareWith=Re,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new v.B,re&&re.length&&(X?re.forEach(oe=>this._markSelected(oe)):this._markSelected(re[0]),this._selectedToEmit.length=0)}select(...X){this._verifyValueAssignment(X),X.forEach(Z=>this._markSelected(Z));const re=this._hasQueuedChanges();return this._emitChangeEvent(),re}deselect(...X){this._verifyValueAssignment(X),X.forEach(Z=>this._unmarkSelected(Z));const re=this._hasQueuedChanges();return this._emitChangeEvent(),re}setSelection(...X){this._verifyValueAssignment(X);const re=this.selected,Z=new Set(X);X.forEach(oe=>this._markSelected(oe)),re.filter(oe=>!Z.has(this._getConcreteValue(oe,Z))).forEach(oe=>this._unmarkSelected(oe));const Re=this._hasQueuedChanges();return this._emitChangeEvent(),Re}toggle(X){return this.isSelected(X)?this.deselect(X):this.select(X)}clear(X=!0){this._unmarkAll();const re=this._hasQueuedChanges();return X&&this._emitChangeEvent(),re}isSelected(X){return this._selection.has(this._getConcreteValue(X))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(X){this._multiple&&this.selected&&this._selected.sort(X)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(X){X=this._getConcreteValue(X),this.isSelected(X)||(this._multiple||this._unmarkAll(),this.isSelected(X)||this._selection.add(X),this._emitChanges&&this._selectedToEmit.push(X))}_unmarkSelected(X){X=this._getConcreteValue(X),this.isSelected(X)&&(this._selection.delete(X),this._emitChanges&&this._deselectedToEmit.push(X))}_unmarkAll(){this.isEmpty()||this._selection.forEach(X=>this._unmarkSelected(X))}_verifyValueAssignment(X){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(X,re){if(this.compareWith){re=re??this._selection;for(let Z of re)if(this.compareWith(X,Z))return Z;return X}return X}}let ue=(()=>{class z{constructor(){this._listeners=[]}notify(re,Z){for(let Re of this._listeners)Re(re,Z)}listen(re){return this._listeners.push(re),()=>{this._listeners=this._listeners.filter(Z=>re!==Z)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(Z){return new(Z||z)};static#t=this.\u0275prov=x.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},82529:(ln,ye,w)=>{"use strict";w.d(ye,{Pe:()=>A,Ph:()=>$,ce:()=>X,lG:()=>R,sU:()=>z});var r=w(18617),y=w(90953),u=w(36860),v=w(76939),x=w(60177),d=w(54438),L=w(67336),F=w(85052),S=w(45946),U=w(15877),O=w(28203),b=w(35160);function M(Fe,je){}class A{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let z=(()=>{class Fe extends v.lb{constructor(Ve,lt,pt,St,Rn,G,ee,De){super(),this._elementRef=Ve,this._focusTrapFactory=lt,this._config=St,this._interactivityChecker=Rn,this._ngZone=G,this._overlayRef=ee,this._focusMonitor=De,this._platform=(0,d.WQX)(u.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,d.WQX)(d.gRc),this._injector=(0,d.WQX)(d.zZn),this._isDestroyed=!1,this.attachDomPortal=Ge=>{this._portalOutlet.hasAttached();const Ze=this._portalOutlet.attachDomPortal(Ge);return this._contentAttached(),Ze},this._document=pt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(Ve){this._ariaLabelledByQueue.push(Ve),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(Ve){const lt=this._ariaLabelledByQueue.indexOf(Ve);lt>-1&&(this._ariaLabelledByQueue.splice(lt,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(Ve){this._portalOutlet.hasAttached();const lt=this._portalOutlet.attachComponentPortal(Ve);return this._contentAttached(),lt}attachTemplatePortal(Ve){this._portalOutlet.hasAttached();const lt=this._portalOutlet.attachTemplatePortal(Ve);return this._contentAttached(),lt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ve,lt){this._interactivityChecker.isFocusable(Ve)||(Ve.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const pt=()=>{Ve.removeEventListener("blur",pt),Ve.removeEventListener("mousedown",pt),Ve.removeAttribute("tabindex")};Ve.addEventListener("blur",pt),Ve.addEventListener("mousedown",pt)})),Ve.focus(lt)}_focusByCssSelector(Ve,lt){let pt=this._elementRef.nativeElement.querySelector(Ve);pt&&this._forceFocus(pt,lt)}_trapFocus(){this._isDestroyed||(0,d.mal)(()=>{const Ve=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ve.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const Ve=this._config.restoreFocus;let lt=null;if("string"==typeof Ve?lt=this._document.querySelector(Ve):"boolean"==typeof Ve?lt=Ve?this._elementFocusedBeforeDialogWasOpened:null:Ve&&(lt=Ve),this._config.restoreFocus&&lt&&"function"==typeof lt.focus){const pt=(0,u.vc)(),St=this._elementRef.nativeElement;(!pt||pt===this._document.body||pt===St||St.contains(pt))&&(this._focusMonitor?(this._focusMonitor.focusVia(lt,this._closeInteractionType),this._closeInteractionType=null):lt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ve=this._elementRef.nativeElement,lt=(0,u.vc)();return Ve===lt||Ve.contains(lt)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,u.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(lt){return new(lt||Fe)(d.rXU(d.aKT),d.rXU(r.GX),d.rXU(x.qQ,8),d.rXU(A),d.rXU(r.Z7),d.rXU(d.SKi),d.rXU(y.yY),d.rXU(r.FN))};static#t=this.\u0275cmp=d.VBU({type:Fe,selectors:[["cdk-dialog-container"]],viewQuery:function(lt,pt){if(1&lt&&d.GBs(v.I3,7),2&lt){let St;d.mGM(St=d.lsd())&&(pt._portalOutlet=St.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(lt,pt){2&lt&&d.BMQ("id",pt._config.id||null)("role",pt._config.role)("aria-modal",pt._config.ariaModal)("aria-labelledby",pt._config.ariaLabel?null:pt._ariaLabelledByQueue[0])("aria-label",pt._config.ariaLabel)("aria-describedby",pt._config.ariaDescribedBy||null)},standalone:!0,features:[d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(lt,pt){1&lt&&d.DNE(0,M,0,0,"ng-template",0)},dependencies:[v.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Fe})();class X{constructor(je,Ve){this.overlayRef=je,this.config=Ve,this.closed=new F.B,this.disableClose=Ve.disableClose,this.backdropClick=je.backdropClick(),this.keydownEvents=je.keydownEvents(),this.outsidePointerEvents=je.outsidePointerEvents(),this.id=Ve.id,this.keydownEvents.subscribe(lt=>{lt.keyCode===L._f&&!this.disableClose&&!(0,L.rp)(lt)&&(lt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=je.detachments().subscribe(()=>{!1!==Ve.closeOnOverlayDetachments&&this.close()})}close(je,Ve){if(this.containerInstance){const lt=this.closed;this.containerInstance._closeInteractionType=Ve?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),lt.next(je),lt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(je="",Ve=""){return this.overlayRef.updateSize({width:je,height:Ve}),this}addPanelClass(je){return this.overlayRef.addPanelClass(je),this}removePanelClass(je){return this.overlayRef.removePanelClass(je),this}}const re=new d.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const Fe=(0,d.WQX)(y.hJ);return()=>Fe.scrollStrategies.block()}}),Z=new d.nKC("DialogData"),Re=new d.nKC("DefaultDialogConfig");let K=0,R=(()=>{class Fe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Ve,lt,pt,St,Rn,G){this._overlay=Ve,this._injector=lt,this._defaultOptions=pt,this._parentDialog=St,this._overlayContainer=Rn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,S.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,b.Z)(void 0))),this._scrollStrategy=G}open(Ve,lt){(lt={...this._defaultOptions||new A,...lt}).id=lt.id||"cdk-dialog-"+K++,lt.id&&this.getDialogById(lt.id);const St=this._getOverlayConfig(lt),Rn=this._overlay.create(St),G=new X(Rn,lt),ee=this._attachContainer(Rn,G,lt);return G.containerInstance=ee,this._attachDialogContent(Ve,G,ee,lt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(G),G.closed.subscribe(()=>this._removeOpenDialog(G,!0)),this.afterOpened.next(G),G}closeAll(){ce(this.openDialogs,Ve=>Ve.close())}getDialogById(Ve){return this.openDialogs.find(lt=>lt.id===Ve)}ngOnDestroy(){ce(this._openDialogsAtThisLevel,Ve=>{!1===Ve.config.closeOnDestroy&&this._removeOpenDialog(Ve,!1)}),ce(this._openDialogsAtThisLevel,Ve=>Ve.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ve){const lt=new y.rR({positionStrategy:Ve.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ve.scrollStrategy||this._scrollStrategy(),panelClass:Ve.panelClass,hasBackdrop:Ve.hasBackdrop,direction:Ve.direction,minWidth:Ve.minWidth,minHeight:Ve.minHeight,maxWidth:Ve.maxWidth,maxHeight:Ve.maxHeight,width:Ve.width,height:Ve.height,disposeOnNavigation:Ve.closeOnNavigation});return Ve.backdropClass&&(lt.backdropClass=Ve.backdropClass),lt}_attachContainer(Ve,lt,pt){const St=pt.injector||pt.viewContainerRef?.injector,Rn=[{provide:A,useValue:pt},{provide:X,useValue:lt},{provide:y.yY,useValue:Ve}];let G;pt.container?"function"==typeof pt.container?G=pt.container:(G=pt.container.type,Rn.push(...pt.container.providers(pt))):G=z;const ee=new v.A8(G,pt.viewContainerRef,d.zZn.create({parent:St||this._injector,providers:Rn}),pt.componentFactoryResolver);return Ve.attach(ee).instance}_attachDialogContent(Ve,lt,pt,St){if(Ve instanceof d.C4Q){const Rn=this._createInjector(St,lt,pt,void 0);let G={$implicit:St.data,dialogRef:lt};St.templateContext&&(G={...G,..."function"==typeof St.templateContext?St.templateContext():St.templateContext}),pt.attachTemplatePortal(new v.VA(Ve,null,G,Rn))}else{const Rn=this._createInjector(St,lt,pt,this._injector),G=pt.attachComponentPortal(new v.A8(Ve,St.viewContainerRef,Rn,St.componentFactoryResolver));lt.componentRef=G,lt.componentInstance=G.instance}}_createInjector(Ve,lt,pt,St){const Rn=Ve.injector||Ve.viewContainerRef?.injector,G=[{provide:Z,useValue:Ve.data},{provide:X,useValue:lt}];return Ve.providers&&("function"==typeof Ve.providers?G.push(...Ve.providers(lt,Ve,pt)):G.push(...Ve.providers)),Ve.direction&&(!Rn||!Rn.get(O.dS,null,{optional:!0}))&&G.push({provide:O.dS,useValue:{value:Ve.direction,change:(0,U.of)()}}),d.zZn.create({parent:Rn||St,providers:G})}_removeOpenDialog(Ve,lt){const pt=this.openDialogs.indexOf(Ve);pt>-1&&(this.openDialogs.splice(pt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((St,Rn)=>{St?Rn.setAttribute("aria-hidden",St):Rn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),lt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ve=this._overlayContainer.getContainerElement();if(Ve.parentElement){const lt=Ve.parentElement.children;for(let pt=lt.length-1;pt>-1;pt--){const St=lt[pt];St!==Ve&&"SCRIPT"!==St.nodeName&&"STYLE"!==St.nodeName&&!St.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(St,St.getAttribute("aria-hidden")),St.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ve=this._parentDialog;return Ve?Ve._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(lt){return new(lt||Fe)(d.KVO(y.hJ),d.KVO(d.zZn),d.KVO(Re,8),d.KVO(Fe,12),d.KVO(y.Sf),d.KVO(re))};static#t=this.\u0275prov=d.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();function ce(Fe,je){let Ve=Fe.length;for(;Ve--;)je(Fe[Ve])}let $=(()=>{class Fe{static#e=this.\u0275fac=function(lt){return new(lt||Fe)};static#t=this.\u0275mod=d.$C({type:Fe});static#n=this.\u0275inj=d.G2t({providers:[R],imports:[y.z_,v.jc,r.Pd,v.jc]})}return Fe})()},81391:(ln,ye,w)=>{"use strict";w.d(ye,{HD:()=>p,T1:()=>nn,ad:()=>bn});var r=w(54438),y=w(60177),u=w(65478),v=w(18617),x=w(14085),d=w(36860),L=w(85052),F=w(81027),S=w(96513),U=w(40798),O=w(2573),b=w(76718),M=w(29160),A=w(37925),ue=w(36110),z=w(17365),X=w(39705),re=w(32914),Z=w(35160),Re=w(28203);function oe(yt){const _e=yt.cloneNode(!0),he=_e.querySelectorAll("[id]"),Be=yt.nodeName.toLowerCase();_e.removeAttribute("id");for(let ht=0;ht<he.length;ht++)he[ht].removeAttribute("id");return"canvas"===Be?ce(yt,_e):("input"===Be||"select"===Be||"textarea"===Be)&&R(yt,_e),Ce("canvas",yt,_e,ce),Ce("input, textarea, select",yt,_e,R),_e}function Ce(yt,_e,he,Be){const ht=_e.querySelectorAll(yt);if(ht.length){const zt=he.querySelectorAll(yt);for(let on=0;on<ht.length;on++)Be(ht[on],zt[on])}}let K=0;function R(yt,_e){"file"!==_e.type&&(_e.value=yt.value),"radio"===_e.type&&_e.name&&(_e.name=`mat-clone-${_e.name}-${K++}`)}function ce(yt,_e){const he=_e.getContext("2d");if(he)try{he.drawImage(yt,0,0)}catch{}}function $(yt){const _e=yt.getBoundingClientRect();return{top:_e.top,right:_e.right,bottom:_e.bottom,left:_e.left,width:_e.width,height:_e.height,x:_e.x,y:_e.y}}function Fe(yt,_e,he){const{top:Be,bottom:ht,left:zt,right:on}=yt;return he>=Be&&he<=ht&&_e>=zt&&_e<=on}function je(yt,_e,he){yt.top+=_e,yt.bottom=yt.top+yt.height,yt.left+=he,yt.right=yt.left+yt.width}function Ve(yt,_e,he,Be){const{top:ht,right:zt,bottom:on,left:Hn,width:Ar,height:Ir}=yt,ti=Ar*_e,Yr=Ir*_e;return Be>ht-Yr&&Be<on+Yr&&he>Hn-ti&&he<zt+ti}class lt{constructor(_e){this._document=_e,this.positions=new Map}clear(){this.positions.clear()}cache(_e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),_e.forEach(he=>{this.positions.set(he,{scrollPosition:{top:he.scrollTop,left:he.scrollLeft},clientRect:$(he)})})}handleScroll(_e){const he=(0,d.Fb)(_e),Be=this.positions.get(he);if(!Be)return null;const ht=Be.scrollPosition;let zt,on;if(he===this._document){const Ir=this.getViewportScrollPosition();zt=Ir.top,on=Ir.left}else zt=he.scrollTop,on=he.scrollLeft;const Hn=ht.top-zt,Ar=ht.left-on;return this.positions.forEach((Ir,ti)=>{Ir.clientRect&&he!==ti&&he.contains(ti)&&je(Ir.clientRect,Hn,Ar)}),ht.top=zt,ht.left=on,{top:Hn,left:Ar}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function pt(yt,_e){const he=yt.rootNodes;if(1===he.length&&he[0].nodeType===_e.ELEMENT_NODE)return he[0];const Be=_e.createElement("div");return he.forEach(ht=>Be.appendChild(ht)),Be}function St(yt,_e,he){for(let Be in _e)if(_e.hasOwnProperty(Be)){const ht=_e[Be];ht?yt.setProperty(Be,ht,he?.has(Be)?"important":""):yt.removeProperty(Be)}return yt}function Rn(yt,_e){const he=_e?"":"none";St(yt.style,{"touch-action":_e?"":"none","-webkit-user-drag":_e?"":"none","-webkit-tap-highlight-color":_e?"":"transparent","user-select":he,"-ms-user-select":he,"-webkit-user-select":he,"-moz-user-select":he})}function G(yt,_e,he){St(yt.style,{position:_e?"":"fixed",top:_e?"":"0",opacity:_e?"":"0",left:_e?"":"-999em"},he)}function ee(yt,_e){return _e&&"none"!=_e?yt+" "+_e:yt}function De(yt,_e){yt.style.width=`${_e.width}px`,yt.style.height=`${_e.height}px`,yt.style.transform=Ge(_e.left,_e.top)}function Ge(yt,_e){return`translate3d(${Math.round(yt)}px, ${Math.round(_e)}px, 0)`}function Ze(yt){const _e=yt.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(yt)*_e}function bt(yt,_e){return yt.getPropertyValue(_e).split(",").map(Be=>Be.trim())}const Dt=new Set(["position"]);class Le{get element(){return this._preview}constructor(_e,he,Be,ht,zt,on,Hn,Ar,Ir){this._document=_e,this._rootElement=he,this._direction=Be,this._initialDomRect=ht,this._previewTemplate=zt,this._previewClass=on,this._pickupPositionOnPage=Hn,this._initialTransform=Ar,this._zIndex=Ir}attach(_e){this._preview=this._createPreview(),_e.appendChild(this._preview),Ae(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(_e){this._preview.style.transform=_e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(_e){this._preview.classList.add(_e)}getTransitionDuration(){return function ut(yt){const _e=getComputedStyle(yt),he=bt(_e,"transition-property"),Be=he.find(Hn=>"transform"===Hn||"all"===Hn);if(!Be)return 0;const ht=he.indexOf(Be),zt=bt(_e,"transition-duration"),on=bt(_e,"transition-delay");return Ze(zt[ht])+Ze(on[ht])}(this._preview)}addEventListener(_e,he){this._preview.addEventListener(_e,he)}removeEventListener(_e,he){this._preview.removeEventListener(_e,he)}_createPreview(){const _e=this._previewTemplate,he=this._previewClass,Be=_e?_e.template:null;let ht;if(Be&&_e){const zt=_e.matchSize?this._initialDomRect:null,on=_e.viewContainer.createEmbeddedView(Be,_e.context);on.detectChanges(),ht=pt(on,this._document),this._previewEmbeddedView=on,_e.matchSize?De(ht,zt):ht.style.transform=Ge(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else ht=oe(this._rootElement),De(ht,this._initialDomRect),this._initialTransform&&(ht.style.transform=this._initialTransform);return St(ht.style,{"pointer-events":"none",margin:Ae(ht)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Dt),Rn(ht,!1),ht.classList.add("cdk-drag-preview"),ht.setAttribute("popover","manual"),ht.setAttribute("dir",this._direction),he&&(Array.isArray(he)?he.forEach(zt=>ht.classList.add(zt)):ht.classList.add(he)),ht}}function Ae(yt){return"showPopover"in yt}const se=(0,d.BQ)({passive:!0}),Me=(0,d.BQ)({passive:!1}),Ee=(0,d.BQ)({passive:!1,capture:!0}),T=new Set(["position"]);class J{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(_e){_e!==this._disabled&&(this._disabled=_e,this._toggleNativeDragInteractions(),this._handles.forEach(he=>Rn(he,_e)))}constructor(_e,he,Be,ht,zt,on){this._config=he,this._document=Be,this._ngZone=ht,this._viewportRuler=zt,this._dragDropRegistry=on,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,r.vPA)(!1),this._moveEvents=new L.B,this._pointerMoveSubscription=F.yU.EMPTY,this._pointerUpSubscription=F.yU.EMPTY,this._scrollSubscription=F.yU.EMPTY,this._resizeSubscription=F.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new L.B,this.started=new L.B,this.released=new L.B,this.ended=new L.B,this.entered=new L.B,this.exited=new L.B,this.dropped=new L.B,this.moved=this._moveEvents,this._pointerDown=Hn=>{if(this.beforeStarted.next(),this._handles.length){const Ar=this._getTargetHandle(Hn);Ar&&!this._disabledHandles.has(Ar)&&!this.disabled&&this._initializeDragSequence(Ar,Hn)}else this.disabled||this._initializeDragSequence(this._rootElement,Hn)},this._pointerMove=Hn=>{const Ar=this._getPointerPositionOnPage(Hn);if(!this._hasStartedDragging()){if(Math.abs(Ar.x-this._pickupPositionOnPage.x)+Math.abs(Ar.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const mi=Date.now()>=this._dragStartTime+this._getDragStartDelay(Hn),er=this._dropContainer;if(!mi)return void this._endDragSequence(Hn);(!er||!er.isDragging()&&!er.isReceiving())&&(Hn.cancelable&&Hn.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(Hn)))}return}Hn.cancelable&&Hn.preventDefault();const Ir=this._getConstrainedPointerPosition(Ar);if(this._hasMoved=!0,this._lastKnownPointerPosition=Ar,this._updatePointerDirectionDelta(Ir),this._dropContainer)this._updateActiveDropContainer(Ir,Ar);else{const ti=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Yr=this._activeTransform;Yr.x=Ir.x-ti.x+this._passiveTransform.x,Yr.y=Ir.y-ti.y+this._passiveTransform.y,this._applyRootElementTransform(Yr.x,Yr.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Ir,event:Hn,distance:this._getDragDistance(Ir),delta:this._pointerDirectionDelta})})},this._pointerUp=Hn=>{this._endDragSequence(Hn)},this._nativeDragStart=Hn=>{if(this._handles.length){const Ar=this._getTargetHandle(Hn);Ar&&!this._disabledHandles.has(Ar)&&!this.disabled&&Hn.preventDefault()}else this.disabled||Hn.preventDefault()},this.withRootElement(_e).withParent(he.parentDragRef||null),this._parentPositions=new lt(Be),on.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(_e){this._handles=_e.map(Be=>(0,x.i8)(Be)),this._handles.forEach(Be=>Rn(Be,this.disabled)),this._toggleNativeDragInteractions();const he=new Set;return this._disabledHandles.forEach(Be=>{this._handles.indexOf(Be)>-1&&he.add(Be)}),this._disabledHandles=he,this}withPreviewTemplate(_e){return this._previewTemplate=_e,this}withPlaceholderTemplate(_e){return this._placeholderTemplate=_e,this}withRootElement(_e){const he=(0,x.i8)(_e);return he!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{he.addEventListener("mousedown",this._pointerDown,Me),he.addEventListener("touchstart",this._pointerDown,se),he.addEventListener("dragstart",this._nativeDragStart,Me)}),this._initialTransform=void 0,this._rootElement=he),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(_e){return this._boundaryElement=_e?(0,x.i8)(_e):null,this._resizeSubscription.unsubscribe(),_e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(_e){return this._parentDragRef=_e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(_e){!this._disabledHandles.has(_e)&&this._handles.indexOf(_e)>-1&&(this._disabledHandles.add(_e),Rn(_e,!0))}enableHandle(_e){this._disabledHandles.has(_e)&&(this._disabledHandles.delete(_e),Rn(_e,this.disabled))}withDirection(_e){return this._direction=_e,this}_withDropContainer(_e){this._dropContainer=_e}getFreeDragPosition(){const _e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:_e.x,y:_e.y}}setFreeDragPosition(_e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=_e.x,this._passiveTransform.y=_e.y,this._dropContainer||this._applyRootElementTransform(_e.x,_e.y),this}withPreviewContainer(_e){return this._previewContainer=_e,this}_sortFromLastPointerPosition(){const _e=this._lastKnownPointerPosition;_e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(_e),_e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",ne,Ee)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(_e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:_e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(_e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const he=this._getPointerPositionOnPage(_e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(he),dropPoint:he,event:_e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(_e){ve(_e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const he=this._getShadowRoot(),Be=this._dropContainer;if(he&&this._ngZone.runOutsideAngular(()=>{he.addEventListener("selectstart",ne,Ee)}),Be){const ht=this._rootElement,zt=ht.parentNode,on=this._placeholder=this._createPlaceholderElement(),Hn=this._anchor=this._anchor||this._document.createComment("");zt.insertBefore(Hn,ht),this._initialTransform=ht.style.transform||"",this._preview=new Le(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(zt,he)),G(ht,!1,T),this._document.body.appendChild(zt.replaceChild(on,ht)),this.started.next({source:this,event:_e}),Be.start(),this._initialContainer=Be,this._initialIndex=Be.getItemIndex(this)}else this.started.next({source:this,event:_e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Be?Be.getScrollableParents():[])}_initializeDragSequence(_e,he){this._parentDragRef&&he.stopPropagation();const Be=this.isDragging(),ht=ve(he),zt=!ht&&0!==he.button,on=this._rootElement,Hn=(0,d.Fb)(he),Ar=!ht&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Ir=ht?(0,v.w6)(he):(0,v._G)(he);if(Hn&&Hn.draggable&&"mousedown"===he.type&&he.preventDefault(),Be||zt||Ar||Ir)return;if(this._handles.length){const Ki=on.style;this._rootElementTapHighlight=Ki.webkitTapHighlightColor||"",Ki.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ki=>this._updateOnScroll(Ki)),this._boundaryElement&&(this._boundaryRect=$(this._boundaryElement));const ti=this._previewTemplate;this._pickupPositionInElement=ti&&ti.template&&!ti.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,_e,he);const Yr=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(he);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Yr.x,y:Yr.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,he)}_cleanupDragArtifacts(_e){G(this._rootElement,!0,T),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const he=this._dropContainer,Be=he.getItemIndex(this),ht=this._getPointerPositionOnPage(_e),zt=this._getDragDistance(ht),on=he._isOverContainer(ht.x,ht.y);this.ended.next({source:this,distance:zt,dropPoint:ht,event:_e}),this.dropped.next({item:this,currentIndex:Be,previousIndex:this._initialIndex,container:he,previousContainer:this._initialContainer,isPointerOverContainer:on,distance:zt,dropPoint:ht,event:_e}),he.drop(this,Be,this._initialIndex,this._initialContainer,on,zt,ht,_e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:_e,y:he},{x:Be,y:ht}){let zt=this._initialContainer._getSiblingContainerFromPosition(this,_e,he);!zt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(_e,he)&&(zt=this._initialContainer),zt&&zt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=zt,this._dropContainer.enter(this,_e,he,zt===this._initialContainer&&zt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:zt,currentIndex:zt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Be,ht),this._dropContainer._sortItem(this,_e,he,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(_e,he):this._applyPreviewTransform(_e-this._pickupPositionInElement.x,he-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const _e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(_e.left,_e.top);const he=this._preview.getTransitionDuration();return 0===he?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Be=>{const ht=on=>{(!on||this._preview&&(0,d.Fb)(on)===this._preview.element&&"transform"===on.propertyName)&&(this._preview?.removeEventListener("transitionend",ht),Be(),clearTimeout(zt))},zt=setTimeout(ht,1.5*he);this._preview.addEventListener("transitionend",ht)}))}_createPlaceholderElement(){const _e=this._placeholderTemplate,he=_e?_e.template:null;let Be;return he?(this._placeholderRef=_e.viewContainer.createEmbeddedView(he,_e.context),this._placeholderRef.detectChanges(),Be=pt(this._placeholderRef,this._document)):Be=oe(this._rootElement),Be.style.pointerEvents="none",Be.classList.add("cdk-drag-placeholder"),Be}_getPointerPositionInElement(_e,he,Be){const ht=he===this._rootElement?null:he,zt=ht?ht.getBoundingClientRect():_e,on=ve(Be)?Be.targetTouches[0]:Be,Hn=this._getViewportScrollPosition();return{x:zt.left-_e.left+(on.pageX-zt.left-Hn.left),y:zt.top-_e.top+(on.pageY-zt.top-Hn.top)}}_getPointerPositionOnPage(_e){const he=this._getViewportScrollPosition(),Be=ve(_e)?_e.touches[0]||_e.changedTouches[0]||{pageX:0,pageY:0}:_e,ht=Be.pageX-he.left,zt=Be.pageY-he.top;if(this._ownerSVGElement){const on=this._ownerSVGElement.getScreenCTM();if(on){const Hn=this._ownerSVGElement.createSVGPoint();return Hn.x=ht,Hn.y=zt,Hn.matrixTransform(on.inverse())}}return{x:ht,y:zt}}_getConstrainedPointerPosition(_e){const he=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Be,y:ht}=this.constrainPosition?this.constrainPosition(_e,this,this._initialDomRect,this._pickupPositionInElement):_e;if("x"===this.lockAxis||"x"===he?ht=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===he)&&(Be=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:zt,y:on}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,Hn=this._boundaryRect,{width:Ar,height:Ir}=this._getPreviewRect(),ti=Hn.top+on,Yr=Hn.bottom-(Ir-on);Be=W(Be,Hn.left+zt,Hn.right-(Ar-zt)),ht=W(ht,ti,Yr)}return{x:Be,y:ht}}_updatePointerDirectionDelta(_e){const{x:he,y:Be}=_e,ht=this._pointerDirectionDelta,zt=this._pointerPositionAtLastDirectionChange,on=Math.abs(he-zt.x),Hn=Math.abs(Be-zt.y);return on>this._config.pointerDirectionChangeThreshold&&(ht.x=he>zt.x?1:-1,zt.x=he),Hn>this._config.pointerDirectionChangeThreshold&&(ht.y=Be>zt.y?1:-1,zt.y=Be),ht}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const _e=this._handles.length>0||!this.isDragging();_e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=_e,Rn(this._rootElement,_e))}_removeRootElementListeners(_e){_e.removeEventListener("mousedown",this._pointerDown,Me),_e.removeEventListener("touchstart",this._pointerDown,se),_e.removeEventListener("dragstart",this._nativeDragStart,Me)}_applyRootElementTransform(_e,he){const Be=1/this.scale,ht=Ge(_e*Be,he*Be),zt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=zt.transform&&"none"!=zt.transform?zt.transform:""),zt.transform=ee(ht,this._initialTransform)}_applyPreviewTransform(_e,he){const Be=this._previewTemplate?.template?void 0:this._initialTransform,ht=Ge(_e,he);this._preview.setTransform(ee(ht,Be))}_getDragDistance(_e){const he=this._pickupPositionOnPage;return he?{x:_e.x-he.x,y:_e.y-he.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:_e,y:he}=this._passiveTransform;if(0===_e&&0===he||this.isDragging()||!this._boundaryElement)return;const Be=this._rootElement.getBoundingClientRect(),ht=this._boundaryElement.getBoundingClientRect();if(0===ht.width&&0===ht.height||0===Be.width&&0===Be.height)return;const zt=ht.left-Be.left,on=Be.right-ht.right,Hn=ht.top-Be.top,Ar=Be.bottom-ht.bottom;ht.width>Be.width?(zt>0&&(_e+=zt),on>0&&(_e-=on)):_e=0,ht.height>Be.height?(Hn>0&&(he+=Hn),Ar>0&&(he-=Ar)):he=0,(_e!==this._passiveTransform.x||he!==this._passiveTransform.y)&&this.setFreeDragPosition({y:he,x:_e})}_getDragStartDelay(_e){const he=this.dragStartDelay;return"number"==typeof he?he:ve(_e)?he.touch:he?he.mouse:0}_updateOnScroll(_e){const he=this._parentPositions.handleScroll(_e);if(he){const Be=(0,d.Fb)(_e);this._boundaryRect&&Be!==this._boundaryElement&&Be.contains(this._boundaryElement)&&je(this._boundaryRect,he.top,he.left),this._pickupPositionOnPage.x+=he.left,this._pickupPositionOnPage.y+=he.top,this._dropContainer||(this._activeTransform.x-=he.left,this._activeTransform.y-=he.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,d.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(_e,he){const Be=this._previewContainer||"global";if("parent"===Be)return _e;if("global"===Be){const ht=this._document;return he||ht.fullscreenElement||ht.webkitFullscreenElement||ht.mozFullScreenElement||ht.msFullscreenElement||ht.body}return(0,x.i8)(Be)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(_e){return this._handles.find(he=>_e.target&&(_e.target===he||he.contains(_e.target)))}}function W(yt,_e,he){return Math.max(_e,Math.min(he,yt))}function ve(yt){return"t"===yt.type[0]}function ne(yt){yt.preventDefault()}function p(yt,_e,he){const Be=Ie(_e,yt.length-1),ht=Ie(he,yt.length-1);if(Be===ht)return;const zt=yt[Be],on=ht<Be?-1:1;for(let Hn=Be;Hn!==ht;Hn+=on)yt[Hn]=yt[Hn+on];yt[ht]=zt}function Ie(yt,_e){return Math.max(0,Math.min(_e,yt))}class $e{constructor(_e){this._dragDropRegistry=_e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(_e){this.withItems(_e)}sort(_e,he,Be,ht){const zt=this._itemPositions,on=this._getItemIndexFromPointerPosition(_e,he,Be,ht);if(-1===on&&zt.length>0)return null;const Hn="horizontal"===this.orientation,Ar=zt.findIndex(Ei=>Ei.drag===_e),Ir=zt[on],Yr=Ir.clientRect,Ki=Ar>on?1:-1,mi=this._getItemOffsetPx(zt[Ar].clientRect,Yr,Ki),er=this._getSiblingOffsetPx(Ar,zt,Ki),ur=zt.slice();return p(zt,Ar,on),zt.forEach((Ei,Ni)=>{if(ur[Ni]===Ei)return;const rn=Ei.drag===_e,En=rn?mi:er,ar=rn?_e.getPlaceholderElement():Ei.drag.getRootElement();Ei.offset+=En;const Er=Math.round(Ei.offset*(1/Ei.drag.scale));Hn?(ar.style.transform=ee(`translate3d(${Er}px, 0, 0)`,Ei.initialTransform),je(Ei.clientRect,0,En)):(ar.style.transform=ee(`translate3d(0, ${Er}px, 0)`,Ei.initialTransform),je(Ei.clientRect,En,0))}),this._previousSwap.overlaps=Fe(Yr,he,Be),this._previousSwap.drag=Ir.drag,this._previousSwap.delta=Hn?ht.x:ht.y,{previousIndex:Ar,currentIndex:on}}enter(_e,he,Be,ht){const zt=null==ht||ht<0?this._getItemIndexFromPointerPosition(_e,he,Be):ht,on=this._activeDraggables,Hn=on.indexOf(_e),Ar=_e.getPlaceholderElement();let Ir=on[zt];if(Ir===_e&&(Ir=on[zt+1]),!Ir&&(null==zt||-1===zt||zt<on.length-1)&&this._shouldEnterAsFirstChild(he,Be)&&(Ir=on[0]),Hn>-1&&on.splice(Hn,1),Ir&&!this._dragDropRegistry.isDragging(Ir)){const ti=Ir.getRootElement();ti.parentElement.insertBefore(Ar,ti),on.splice(zt,0,_e)}else this._element.appendChild(Ar),on.push(_e);Ar.style.transform="",this._cacheItemPositions()}withItems(_e){this._activeDraggables=_e.slice(),this._cacheItemPositions()}withSortPredicate(_e){this._sortPredicate=_e}reset(){this._activeDraggables?.forEach(_e=>{const he=_e.getRootElement();if(he){const Be=this._itemPositions.find(ht=>ht.drag===_e)?.initialTransform;he.style.transform=Be||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(_e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Be=>Be.drag===_e)}updateOnScroll(_e,he){this._itemPositions.forEach(({clientRect:Be})=>{je(Be,_e,he)}),this._itemPositions.forEach(({drag:Be})=>{this._dragDropRegistry.isDragging(Be)&&Be._sortFromLastPointerPosition()})}withElementContainer(_e){this._element=_e}_cacheItemPositions(){const _e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(he=>{const Be=he.getVisibleElement();return{drag:he,offset:0,initialTransform:Be.style.transform||"",clientRect:$(Be)}}).sort((he,Be)=>_e?he.clientRect.left-Be.clientRect.left:he.clientRect.top-Be.clientRect.top)}_getItemOffsetPx(_e,he,Be){const ht="horizontal"===this.orientation;let zt=ht?he.left-_e.left:he.top-_e.top;return-1===Be&&(zt+=ht?he.width-_e.width:he.height-_e.height),zt}_getSiblingOffsetPx(_e,he,Be){const ht="horizontal"===this.orientation,zt=he[_e].clientRect,on=he[_e+-1*Be];let Hn=zt[ht?"width":"height"]*Be;if(on){const Ar=ht?"left":"top",Ir=ht?"right":"bottom";-1===Be?Hn-=on.clientRect[Ar]-zt[Ir]:Hn+=zt[Ar]-on.clientRect[Ir]}return Hn}_shouldEnterAsFirstChild(_e,he){if(!this._activeDraggables.length)return!1;const Be=this._itemPositions,ht="horizontal"===this.orientation;if(Be[0].drag!==this._activeDraggables[0]){const on=Be[Be.length-1].clientRect;return ht?_e>=on.right:he>=on.bottom}{const on=Be[0].clientRect;return ht?_e<=on.left:he<=on.top}}_getItemIndexFromPointerPosition(_e,he,Be,ht){const zt="horizontal"===this.orientation,on=this._itemPositions.findIndex(({drag:Hn,clientRect:Ar})=>Hn!==_e&&((!ht||Hn!==this._previousSwap.drag||!this._previousSwap.overlaps||(zt?ht.x:ht.y)!==this._previousSwap.delta)&&(zt?he>=Math.floor(Ar.left)&&he<Math.floor(Ar.right):Be>=Math.floor(Ar.top)&&Be<Math.floor(Ar.bottom))));return-1!==on&&this._sortPredicate(on,_e)?on:-1}}class ft{constructor(_e,he){this._document=_e,this._dragDropRegistry=he,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(_e){const he=this._element.childNodes;this._relatedNodes=[];for(let Be=0;Be<he.length;Be++){const ht=he[Be];this._relatedNodes.push([ht,ht.nextSibling])}this.withItems(_e)}sort(_e,he,Be,ht){const zt=this._getItemIndexFromPointerPosition(_e,he,Be),on=this._previousSwap;if(-1===zt||this._activeItems[zt]===_e)return null;const Hn=this._activeItems[zt];if(on.drag===Hn&&on.overlaps&&on.deltaX===ht.x&&on.deltaY===ht.y)return null;const Ar=this.getItemIndex(_e),Ir=_e.getPlaceholderElement(),ti=Hn.getRootElement();zt>Ar?ti.after(Ir):ti.before(Ir),p(this._activeItems,Ar,zt);const Yr=this._getRootNode().elementFromPoint(he,Be);return on.deltaX=ht.x,on.deltaY=ht.y,on.drag=Hn,on.overlaps=ti===Yr||ti.contains(Yr),{previousIndex:Ar,currentIndex:zt}}enter(_e,he,Be,ht){let zt=null==ht||ht<0?this._getItemIndexFromPointerPosition(_e,he,Be):ht;-1===zt&&(zt=this._getClosestItemIndexToPointer(_e,he,Be));const on=this._activeItems[zt],Hn=this._activeItems.indexOf(_e);Hn>-1&&this._activeItems.splice(Hn,1),on&&!this._dragDropRegistry.isDragging(on)?(this._activeItems.splice(zt,0,_e),on.getRootElement().before(_e.getPlaceholderElement())):(this._activeItems.push(_e),this._element.appendChild(_e.getPlaceholderElement()))}withItems(_e){this._activeItems=_e.slice()}withSortPredicate(_e){this._sortPredicate=_e}reset(){const _e=this._element,he=this._previousSwap;for(let Be=this._relatedNodes.length-1;Be>-1;Be--){const[ht,zt]=this._relatedNodes[Be];ht.parentNode===_e&&ht.nextSibling!==zt&&(null===zt?_e.appendChild(ht):zt.parentNode===_e&&_e.insertBefore(ht,zt))}this._relatedNodes=[],this._activeItems=[],he.drag=null,he.deltaX=he.deltaY=0,he.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(_e){return this._activeItems.indexOf(_e)}updateOnScroll(){this._activeItems.forEach(_e=>{this._dragDropRegistry.isDragging(_e)&&_e._sortFromLastPointerPosition()})}withElementContainer(_e){_e!==this._element&&(this._element=_e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(_e,he,Be){const ht=this._getRootNode().elementFromPoint(Math.floor(he),Math.floor(Be)),zt=ht?this._activeItems.findIndex(on=>{const Hn=on.getRootElement();return ht===Hn||Hn.contains(ht)}):-1;return-1!==zt&&this._sortPredicate(zt,_e)?zt:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,d.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(_e,he,Be){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let ht=1/0,zt=-1;for(let on=0;on<this._activeItems.length;on++){const Hn=this._activeItems[on];if(Hn!==_e){const{x:Ar,y:Ir}=Hn.getRootElement().getBoundingClientRect(),ti=Math.hypot(he-Ar,Be-Ir);ti<ht&&(ht=ti,zt=on)}}return zt}}var Ye=function(yt){return yt[yt.NONE=0]="NONE",yt[yt.UP=1]="UP",yt[yt.DOWN=2]="DOWN",yt}(Ye||{}),ct=function(yt){return yt[yt.NONE=0]="NONE",yt[yt.LEFT=1]="LEFT",yt[yt.RIGHT=2]="RIGHT",yt}(ct||{});class It{constructor(_e,he,Be,ht,zt){this._dragDropRegistry=he,this._ngZone=ht,this._viewportRuler=zt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new L.B,this.entered=new L.B,this.exited=new L.B,this.dropped=new L.B,this.sorted=new L.B,this.receivingStarted=new L.B,this.receivingStopped=new L.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=F.yU.EMPTY,this._verticalScrollDirection=Ye.NONE,this._horizontalScrollDirection=ct.NONE,this._stopScrollTimers=new L.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),(0,S.Y)(0,U.X).pipe((0,A.Q)(this._stopScrollTimers)).subscribe(()=>{const Hn=this._scrollNode,Ar=this.autoScrollStep;this._verticalScrollDirection===Ye.UP?Hn.scrollBy(0,-Ar):this._verticalScrollDirection===Ye.DOWN&&Hn.scrollBy(0,Ar),this._horizontalScrollDirection===ct.LEFT?Hn.scrollBy(-Ar,0):this._horizontalScrollDirection===ct.RIGHT&&Hn.scrollBy(Ar,0)})};const on=this.element=(0,x.i8)(_e);this._document=Be,this.withOrientation("vertical").withElementContainer(on),he.registerDropContainer(this),this._parentPositions=new lt(Be)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(_e,he,Be,ht){this._draggingStarted(),null==ht&&this.sortingDisabled&&(ht=this._draggables.indexOf(_e)),this._sortStrategy.enter(_e,he,Be,ht),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:_e,container:this,currentIndex:this.getItemIndex(_e)})}exit(_e){this._reset(),this.exited.next({item:_e,container:this})}drop(_e,he,Be,ht,zt,on,Hn,Ar={}){this._reset(),this.dropped.next({item:_e,currentIndex:he,previousIndex:Be,container:this,previousContainer:ht,isPointerOverContainer:zt,distance:on,dropPoint:Hn,event:Ar})}withItems(_e){const he=this._draggables;return this._draggables=_e,_e.forEach(Be=>Be._withDropContainer(this)),this.isDragging()&&(he.filter(ht=>ht.isDragging()).every(ht=>-1===_e.indexOf(ht))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(_e){return this._direction=_e,this._sortStrategy instanceof $e&&(this._sortStrategy.direction=_e),this}connectedTo(_e){return this._siblings=_e.slice(),this}withOrientation(_e){if("mixed"===_e)this._sortStrategy=new ft(this._document,this._dragDropRegistry);else{const he=new $e(this._dragDropRegistry);he.direction=this._direction,he.orientation=_e,this._sortStrategy=he}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((he,Be)=>this.sortPredicate(he,Be,this)),this}withScrollableParents(_e){const he=this._container;return this._scrollableElements=-1===_e.indexOf(he)?[he,..._e]:_e.slice(),this}withElementContainer(_e){if(_e===this._container)return this;(0,x.i8)(this.element);const Be=this._scrollableElements.indexOf(this._container),ht=this._scrollableElements.indexOf(_e);return Be>-1&&this._scrollableElements.splice(Be,1),ht>-1&&this._scrollableElements.splice(ht,1),this._sortStrategy&&this._sortStrategy.withElementContainer(_e),this._cachedShadowRoot=null,this._scrollableElements.unshift(_e),this._container=_e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(_e){return this._isDragging?this._sortStrategy.getItemIndex(_e):this._draggables.indexOf(_e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(_e,he,Be,ht){if(this.sortingDisabled||!this._domRect||!Ve(this._domRect,.05,he,Be))return;const zt=this._sortStrategy.sort(_e,he,Be,ht);zt&&this.sorted.next({previousIndex:zt.previousIndex,currentIndex:zt.currentIndex,container:this,item:_e})}_startScrollingIfNecessary(_e,he){if(this.autoScrollDisabled)return;let Be,ht=Ye.NONE,zt=ct.NONE;if(this._parentPositions.positions.forEach((on,Hn)=>{Hn===this._document||!on.clientRect||Be||Ve(on.clientRect,.05,_e,he)&&([ht,zt]=function rt(yt,_e,he,Be,ht){const zt=Ke(_e,ht),on=wt(_e,Be);let Hn=Ye.NONE,Ar=ct.NONE;if(zt){const Ir=yt.scrollTop;zt===Ye.UP?Ir>0&&(Hn=Ye.UP):yt.scrollHeight-Ir>yt.clientHeight&&(Hn=Ye.DOWN)}if(on){const Ir=yt.scrollLeft;"rtl"===he?on===ct.RIGHT?Ir<0&&(Ar=ct.RIGHT):yt.scrollWidth+Ir>yt.clientWidth&&(Ar=ct.LEFT):on===ct.LEFT?Ir>0&&(Ar=ct.LEFT):yt.scrollWidth-Ir>yt.clientWidth&&(Ar=ct.RIGHT)}return[Hn,Ar]}(Hn,on.clientRect,this._direction,_e,he),(ht||zt)&&(Be=Hn))}),!ht&&!zt){const{width:on,height:Hn}=this._viewportRuler.getViewportSize(),Ar={width:on,height:Hn,top:0,right:on,bottom:Hn,left:0};ht=Ke(Ar,he),zt=wt(Ar,_e),Be=window}Be&&(ht!==this._verticalScrollDirection||zt!==this._horizontalScrollDirection||Be!==this._scrollNode)&&(this._verticalScrollDirection=ht,this._horizontalScrollDirection=zt,this._scrollNode=Be,(ht||zt)&&Be?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const _e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=_e.msScrollSnapType||_e.scrollSnapType||"",_e.scrollSnapType=_e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const _e=this._container.style;_e.scrollSnapType=_e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(he=>he._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(_e,he){return null!=this._domRect&&Fe(this._domRect,_e,he)}_getSiblingContainerFromPosition(_e,he,Be){return this._siblings.find(ht=>ht._canReceive(_e,he,Be))}_canReceive(_e,he,Be){if(!this._domRect||!Fe(this._domRect,he,Be)||!this.enterPredicate(_e,this))return!1;const ht=this._getShadowRoot().elementFromPoint(he,Be);return!!ht&&(ht===this._container||this._container.contains(ht))}_startReceiving(_e,he){const Be=this._activeSiblings;!Be.has(_e)&&he.every(ht=>this.enterPredicate(ht,this)||this._draggables.indexOf(ht)>-1)&&(Be.add(_e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:_e,receiver:this,items:he}))}_stopReceiving(_e){this._activeSiblings.delete(_e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:_e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_e=>{if(this.isDragging()){const he=this._parentPositions.handleScroll(_e);he&&this._sortStrategy.updateOnScroll(he.top,he.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const _e=(0,d.KT)(this._container);this._cachedShadowRoot=_e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const _e=this._sortStrategy.getActiveItemsSnapshot().filter(he=>he.isDragging());this._siblings.forEach(he=>he._startReceiving(this,_e))}}function Ke(yt,_e){const{top:he,bottom:Be,height:ht}=yt,zt=.05*ht;return _e>=he-zt&&_e<=he+zt?Ye.UP:_e>=Be-zt&&_e<=Be+zt?Ye.DOWN:Ye.NONE}function wt(yt,_e){const{left:he,right:Be,width:ht}=yt,zt=.05*ht;return _e>=he-zt&&_e<=he+zt?ct.LEFT:_e>=Be-zt&&_e<=Be+zt?ct.RIGHT:ct.NONE}const Ct=(0,d.BQ)({passive:!1,capture:!0}),mt=new Set;let Vt=(()=>{class yt{static#e=this.\u0275fac=function(Be){return new(Be||yt)};static#t=this.\u0275cmp=r.VBU({type:yt,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(Be,ht){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return yt})(),at=(()=>{class yt{constructor(he,Be){this._ngZone=he,this._appRef=(0,r.WQX)(r.o8S),this._environmentInjector=(0,r.WQX)(r.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,r.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=ht=>ht.isDragging(),this.pointerMove=new L.B,this.pointerUp=new L.B,this.scroll=new L.B,this._preventDefaultWhileDragging=ht=>{this._activeDragInstances().length>0&&ht.preventDefault()},this._persistentTouchmoveListener=ht=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&ht.preventDefault(),this.pointerMove.next(ht))},this._document=Be}registerDropContainer(he){this._dropInstances.has(he)||this._dropInstances.add(he)}registerDragItem(he){this._dragInstances.add(he),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ct)})}removeDropContainer(he){this._dropInstances.delete(he)}removeDragItem(he){this._dragInstances.delete(he),this.stopDragging(he),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ct)}startDragging(he,Be){if(!(this._activeDragInstances().indexOf(he)>-1)&&(this._loadResets(),this._activeDragInstances.update(ht=>[...ht,he]),1===this._activeDragInstances().length)){const ht=Be.type.startsWith("touch");this._globalListeners.set(ht?"touchend":"mouseup",{handler:zt=>this.pointerUp.next(zt),options:!0}).set("scroll",{handler:zt=>this.scroll.next(zt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ct}),ht||this._globalListeners.set("mousemove",{handler:zt=>this.pointerMove.next(zt),options:Ct}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((zt,on)=>{this._document.addEventListener(on,zt.handler,zt.options)})})}}stopDragging(he){this._activeDragInstances.update(Be=>{const ht=Be.indexOf(he);return ht>-1?(Be.splice(ht,1),[...Be]):Be}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(he){return this._activeDragInstances().indexOf(he)>-1}scrolled(he){const Be=[this.scroll];return he&&he!==this._document&&Be.push(new O.c(ht=>this._ngZone.runOutsideAngular(()=>{const on=Hn=>{this._activeDragInstances().length&&ht.next(Hn)};return he.addEventListener("scroll",on,!0),()=>{he.removeEventListener("scroll",on,!0)}}))),(0,b.h)(...Be)}ngOnDestroy(){this._dragInstances.forEach(he=>this.removeDragItem(he)),this._dropInstances.forEach(he=>this.removeDropContainer(he)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((he,Be)=>{this._document.removeEventListener(Be,he.handler,he.options)}),this._globalListeners.clear()}_loadResets(){if(!mt.has(this._appRef)){mt.add(this._appRef);const he=(0,r.a0P)(Vt,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{mt.delete(this._appRef),0===mt.size&&he.destroy()})}}static#e=this.\u0275fac=function(Be){return new(Be||yt)(r.KVO(r.SKi),r.KVO(y.qQ))};static#t=this.\u0275prov=r.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();const We={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ke=(()=>{class yt{constructor(he,Be,ht,zt){this._document=he,this._ngZone=Be,this._viewportRuler=ht,this._dragDropRegistry=zt}createDrag(he,Be=We){return new J(he,Be,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(he){return new It(he,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(Be){return new(Be||yt)(r.KVO(y.qQ),r.KVO(r.SKi),r.KVO(u.Xj),r.KVO(at))};static#t=this.\u0275prov=r.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();const et=new r.nKC("CDK_DRAG_PARENT"),Zt=new r.nKC("CdkDragHandle"),kn=new r.nKC("CDK_DRAG_CONFIG"),dn=new r.nKC("CdkDropList");let nn=(()=>{class yt{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(he){this._disabled=he,this._dragRef.disabled=this._disabled}constructor(he,Be,ht,zt,on,Hn,Ar,Ir,ti,Yr,Ki){this.element=he,this.dropContainer=Be,this._ngZone=zt,this._viewContainerRef=on,this._dir=Ar,this._changeDetectorRef=ti,this._selfHandle=Yr,this._parentDrag=Ki,this._destroyed=new L.B,this._handles=new M.t([]),this.scale=1,this.started=new r.bkB,this.released=new r.bkB,this.ended=new r.bkB,this.entered=new r.bkB,this.exited=new r.bkB,this.dropped=new r.bkB,this.moved=new O.c(mi=>{const er=this._dragRef.moved.pipe((0,ue.T)(ur=>({source:this,pointerPosition:ur.pointerPosition,event:ur.event,delta:ur.delta,distance:ur.distance}))).subscribe(mi);return()=>{er.unsubscribe()}}),this._injector=(0,r.WQX)(r.zZn),this._dragRef=Ir.createDrag(he,{dragStartThreshold:Hn&&null!=Hn.dragStartThreshold?Hn.dragStartThreshold:5,pointerDirectionChangeThreshold:Hn&&null!=Hn.pointerDirectionChangeThreshold?Hn.pointerDirectionChangeThreshold:5,zIndex:Hn?.zIndex}),this._dragRef.data=this,yt._dragInstances.push(this),Hn&&this._assignDefaults(Hn),Be&&(this._dragRef._withDropContainer(Be._dropListRef),Be.addItem(this),Be._dropListRef.beforeStarted.pipe((0,A.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(he){this._dragRef.setFreeDragPosition(he)}ngAfterViewInit(){(0,r.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(he){const Be=he.rootElementSelector,ht=he.freeDragPosition;Be&&!Be.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,ht&&!ht.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const he=yt._dragInstances.indexOf(this);he>-1&&yt._dragInstances.splice(he,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(he){const Be=this._handles.getValue();Be.push(he),this._handles.next(Be)}_removeHandle(he){const Be=this._handles.getValue(),ht=Be.indexOf(he);ht>-1&&(Be.splice(ht,1),this._handles.next(Be))}_setPreviewTemplate(he){this._previewTemplate=he}_resetPreviewTemplate(he){he===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(he){this._placeholderTemplate=he}_resetPlaceholderTemplate(he){he===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const he=this.element.nativeElement;let Be=he;this.rootElementSelector&&(Be=void 0!==he.closest?he.closest(this.rootElementSelector):he.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Be||he)}_getBoundaryElement(){const he=this.boundaryElement;return he?"string"==typeof he?this.element.nativeElement.closest(he):(0,x.i8)(he):null}_syncInputs(he){he.beforeStarted.subscribe(()=>{if(!he.isDragging()){const Be=this._dir,ht=this.dragStartDelay,zt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,on=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;he.disabled=this.disabled,he.lockAxis=this.lockAxis,he.scale=this.scale,he.dragStartDelay="object"==typeof ht&&ht?ht:(0,x.OE)(ht),he.constrainPosition=this.constrainPosition,he.previewClass=this.previewClass,he.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(zt).withPreviewTemplate(on).withPreviewContainer(this.previewContainer||"global"),Be&&he.withDirection(Be.value)}}),he.beforeStarted.pipe((0,z.s)(1)).subscribe(()=>{if(this._parentDrag)return void he.withParent(this._parentDrag._dragRef);let Be=this.element.nativeElement.parentElement;for(;Be;){if(Be.classList.contains("cdk-drag")){he.withParent(yt._dragInstances.find(ht=>ht.element.nativeElement===Be)?._dragRef||null);break}Be=Be.parentElement}})}_handleEvents(he){he.started.subscribe(Be=>{this.started.emit({source:this,event:Be.event}),this._changeDetectorRef.markForCheck()}),he.released.subscribe(Be=>{this.released.emit({source:this,event:Be.event})}),he.ended.subscribe(Be=>{this.ended.emit({source:this,distance:Be.distance,dropPoint:Be.dropPoint,event:Be.event}),this._changeDetectorRef.markForCheck()}),he.entered.subscribe(Be=>{this.entered.emit({container:Be.container.data,item:this,currentIndex:Be.currentIndex})}),he.exited.subscribe(Be=>{this.exited.emit({container:Be.container.data,item:this})}),he.dropped.subscribe(Be=>{this.dropped.emit({previousIndex:Be.previousIndex,currentIndex:Be.currentIndex,previousContainer:Be.previousContainer.data,container:Be.container.data,isPointerOverContainer:Be.isPointerOverContainer,item:this,distance:Be.distance,dropPoint:Be.dropPoint,event:Be.event})})}_assignDefaults(he){const{lockAxis:Be,dragStartDelay:ht,constrainPosition:zt,previewClass:on,boundaryElement:Hn,draggingDisabled:Ar,rootElementSelector:Ir,previewContainer:ti}=he;this.disabled=Ar??!1,this.dragStartDelay=ht||0,Be&&(this.lockAxis=Be),zt&&(this.constrainPosition=zt),on&&(this.previewClass=on),Hn&&(this.boundaryElement=Hn),Ir&&(this.rootElementSelector=Ir),ti&&(this.previewContainer=ti)}_setupHandlesListener(){this._handles.pipe((0,X.M)(he=>{const Be=he.map(ht=>ht.element);this._selfHandle&&this.rootElementSelector&&Be.push(this.element),this._dragRef.withHandles(Be)}),(0,re.n)(he=>(0,b.h)(...he.map(Be=>Be._stateChanges.pipe((0,Z.Z)(Be))))),(0,A.Q)(this._destroyed)).subscribe(he=>{const Be=this._dragRef,ht=he.element.nativeElement;he.disabled?Be.disableHandle(ht):Be.enableHandle(ht)})}static#t=this.\u0275fac=function(Be){return new(Be||yt)(r.rXU(r.aKT),r.rXU(dn,12),r.rXU(y.qQ),r.rXU(r.SKi),r.rXU(r.c1b),r.rXU(kn,8),r.rXU(Re.dS,8),r.rXU(ke),r.rXU(r.gRc),r.rXU(Zt,10),r.rXU(et,12))};static#n=this.\u0275dir=r.FsC({type:yt,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Be,ht){2&Be&&r.AVh("cdk-drag-disabled",ht.disabled)("cdk-drag-dragging",ht._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",r.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",r.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[r.Jv_([{provide:et,useExisting:yt}]),r.GFd,r.OA$]})}return yt})(),bn=(()=>{class yt{static#e=this.\u0275fac=function(Be){return new(Be||yt)};static#t=this.\u0275mod=r.$C({type:yt});static#n=this.\u0275inj=r.G2t({providers:[ke],imports:[u.Gj]})}return yt})()},67336:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>ut,A$:()=>F,FX:()=>d,Fm:()=>x,Ge:()=>wt,Kp:()=>ue,LE:()=>Z,UQ:()=>X,W3:()=>L,Z:()=>Ke,_f:()=>O,bn:()=>G,dB:()=>A,eg:()=>An,f2:()=>ce,i7:()=>re,n6:()=>Re,rp:()=>Kn,t6:()=>b,w_:()=>M,wn:()=>u,yZ:()=>z});const u=9,x=13,d=16,L=17,F=18,O=27,b=32,M=33,A=34,ue=35,z=36,X=37,re=38,Z=39,Re=40,ce=48,G=57,ut=65,Ke=90,wt=91,An=224;function Kn(sr,...Pr){return Pr.length?Pr.some(Sr=>sr[Sr]):sr.altKey||sr.shiftKey||sr.ctrlKey||sr.metaKey}},99327:(ln,ye,w)=>{"use strict";w.d(ye,{QP:()=>Re,Rp:()=>Ce});var r=w(54438),y=w(14085),u=w(85052),v=w(82656),x=w(35892),d=w(2573),L=w(17365),F=w(87145),S=w(87996),U=w(36110),O=w(35160),b=w(37925),M=w(36860);const ue=new Set;let z,X=(()=>{class K{constructor(ce,$){this._platform=ce,this._nonce=$,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Z}matchMedia(ce){return(this._platform.WEBKIT||this._platform.BLINK)&&function re(K,R){if(!ue.has(K))try{z||(z=document.createElement("style"),R&&z.setAttribute("nonce",R),z.setAttribute("type","text/css"),document.head.appendChild(z)),z.sheet&&(z.sheet.insertRule(`@media ${K} {body{ }}`,0),ue.add(K))}catch(ce){console.error(ce)}}(ce,this._nonce),this._matchMedia(ce)}static#e=this.\u0275fac=function($){return new($||K)(r.KVO(M.OD),r.KVO(r.BIS,8))};static#t=this.\u0275prov=r.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function Z(K){return{matches:"all"===K||""===K,media:K,addListener:()=>{},removeListener:()=>{}}}let Re=(()=>{class K{constructor(ce,$){this._mediaMatcher=ce,this._zone=$,this._queries=new Map,this._destroySubject=new u.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ce){return oe((0,y.FG)(ce)).some(Fe=>this._registerQuery(Fe).mql.matches)}observe(ce){const Fe=oe((0,y.FG)(ce)).map(Ve=>this._registerQuery(Ve).observable);let je=(0,v.z)(Fe);return je=(0,x.x)(je.pipe((0,L.s)(1)),je.pipe((0,F.i)(1),(0,S.B)(0))),je.pipe((0,U.T)(Ve=>{const lt={matches:!1,breakpoints:{}};return Ve.forEach(({matches:pt,query:St})=>{lt.matches=lt.matches||pt,lt.breakpoints[St]=pt}),lt}))}_registerQuery(ce){if(this._queries.has(ce))return this._queries.get(ce);const $=this._mediaMatcher.matchMedia(ce),je={observable:new d.c(Ve=>{const lt=pt=>this._zone.run(()=>Ve.next(pt));return $.addListener(lt),()=>{$.removeListener(lt)}}).pipe((0,O.Z)($),(0,U.T)(({matches:Ve})=>({query:ce,matches:Ve})),(0,b.Q)(this._destroySubject)),mql:$};return this._queries.set(ce,je),je}static#e=this.\u0275fac=function($){return new($||K)(r.KVO(X),r.KVO(r.SKi))};static#t=this.\u0275prov=r.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function oe(K){return K.map(R=>R.split(",")).reduce((R,ce)=>R.concat(ce)).map(R=>R.trim())}const Ce={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(ln,ye,w)=>{"use strict";w.d(ye,{w5:()=>d});var r=w(54438);let u=(()=>{class L{create(S){return typeof MutationObserver>"u"?null:new MutationObserver(S)}static#e=this.\u0275fac=function(U){return new(U||L)};static#t=this.\u0275prov=r.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),d=(()=>{class L{static#e=this.\u0275fac=function(U){return new(U||L)};static#t=this.\u0275mod=r.$C({type:L});static#n=this.\u0275inj=r.G2t({providers:[u]})}return L})()},90953:(ln,ye,w)=>{"use strict";w.d(ye,{WB:()=>B,$Q:()=>H,hJ:()=>ve,rR:()=>$,Sf:()=>De,z_:()=>ft,yY:()=>Ge});var r=w(65478),y=w(60177),u=w(54438),v=w(14085),x=w(36860),d=w(14264),L=w(37925),F=w(15210),S=w(66196),O=w(28203),b=w(76939),M=w(85052),A=w(81027),ue=w(76718),z=w(67336);const X=(0,x.CZ)();class re{constructor(Ye,ct){this._viewportRuler=Ye,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ct}attach(){}enable(){if(this._canBeEnabled()){const Ye=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ye.style.left||"",this._previousHTMLStyles.top=Ye.style.top||"",Ye.style.left=(0,v.a1)(-this._previousScrollPosition.left),Ye.style.top=(0,v.a1)(-this._previousScrollPosition.top),Ye.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ye=this._document.documentElement,It=Ye.style,Ke=this._document.body.style,wt=It.scrollBehavior||"",rt=Ke.scrollBehavior||"";this._isEnabled=!1,It.left=this._previousHTMLStyles.left,It.top=this._previousHTMLStyles.top,Ye.classList.remove("cdk-global-scrollblock"),X&&(It.scrollBehavior=Ke.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),X&&(It.scrollBehavior=wt,Ke.scrollBehavior=rt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ct=this._document.body,It=this._viewportRuler.getViewportSize();return ct.scrollHeight>It.height||ct.scrollWidth>It.width}}class Re{constructor(Ye,ct,It,Ke){this._scrollDispatcher=Ye,this._ngZone=ct,this._viewportRuler=It,this._config=Ke,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ye){this._overlayRef=Ye}enable(){if(this._scrollSubscription)return;const Ye=this._scrollDispatcher.scrolled(0).pipe((0,d.p)(ct=>!ct||!this._overlayRef.overlayElement.contains(ct.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ye.subscribe(()=>{const ct=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ct-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ye.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oe{enable(){}disable(){}attach(){}}function Ce(jt,Ye){return Ye.some(ct=>jt.bottom<ct.top||jt.top>ct.bottom||jt.right<ct.left||jt.left>ct.right)}function K(jt,Ye){return Ye.some(ct=>jt.top<ct.top||jt.bottom>ct.bottom||jt.left<ct.left||jt.right>ct.right)}class R{constructor(Ye,ct,It,Ke){this._scrollDispatcher=Ye,this._viewportRuler=ct,this._ngZone=It,this._config=Ke,this._scrollSubscription=null}attach(Ye){this._overlayRef=Ye}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ct=this._overlayRef.overlayElement.getBoundingClientRect(),{width:It,height:Ke}=this._viewportRuler.getViewportSize();Ce(ct,[{width:It,height:Ke,bottom:Ke,right:It,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ce=(()=>{class jt{constructor(ct,It,Ke,wt){this._scrollDispatcher=ct,this._viewportRuler=It,this._ngZone=Ke,this.noop=()=>new oe,this.close=rt=>new Re(this._scrollDispatcher,this._ngZone,this._viewportRuler,rt),this.block=()=>new re(this._viewportRuler,this._document),this.reposition=rt=>new R(this._scrollDispatcher,this._viewportRuler,this._ngZone,rt),this._document=wt}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(r.R),u.KVO(r.Xj),u.KVO(u.SKi),u.KVO(y.qQ))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})();class ${constructor(Ye){if(this.scrollStrategy=new oe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ye){const ct=Object.keys(Ye);for(const It of ct)void 0!==Ye[It]&&(this[It]=Ye[It])}}}class Ve{constructor(Ye,ct){this.connectionPair=Ye,this.scrollableViewProperties=ct}}let St=(()=>{class jt{constructor(ct){this._attachedOverlays=[],this._document=ct}ngOnDestroy(){this.detach()}add(ct){this.remove(ct),this._attachedOverlays.push(ct)}remove(ct){const It=this._attachedOverlays.indexOf(ct);It>-1&&this._attachedOverlays.splice(It,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(y.qQ))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})(),Rn=(()=>{class jt extends St{constructor(ct,It){super(ct),this._ngZone=It,this._keydownListener=Ke=>{const wt=this._attachedOverlays;for(let rt=wt.length-1;rt>-1;rt--)if(wt[rt]._keydownEvents.observers.length>0){const Ct=wt[rt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ct.next(Ke)):Ct.next(Ke);break}}}add(ct){super.add(ct),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(y.qQ),u.KVO(u.SKi,8))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})(),G=(()=>{class jt extends St{constructor(ct,It,Ke){super(ct),this._platform=It,this._ngZone=Ke,this._cursorStyleIsSet=!1,this._pointerDownListener=wt=>{this._pointerDownEventTarget=(0,x.Fb)(wt)},this._clickListener=wt=>{const rt=(0,x.Fb)(wt),Ct="click"===wt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:rt;this._pointerDownEventTarget=null;const mt=this._attachedOverlays.slice();for(let Vt=mt.length-1;Vt>-1;Vt--){const at=mt[Vt];if(at._outsidePointerEvents.observers.length<1||!at.hasAttached())continue;if(ee(at.overlayElement,rt)||ee(at.overlayElement,Ct))break;const We=at._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>We.next(wt)):We.next(wt)}}}add(ct){if(super.add(ct),!this._isAttached){const It=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(It)):this._addEventListeners(It),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=It.style.cursor,It.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ct=this._document.body;ct.removeEventListener("pointerdown",this._pointerDownListener,!0),ct.removeEventListener("click",this._clickListener,!0),ct.removeEventListener("auxclick",this._clickListener,!0),ct.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ct.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ct){ct.addEventListener("pointerdown",this._pointerDownListener,!0),ct.addEventListener("click",this._clickListener,!0),ct.addEventListener("auxclick",this._clickListener,!0),ct.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(y.qQ),u.KVO(x.OD),u.KVO(u.SKi,8))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})();function ee(jt,Ye){const ct=typeof ShadowRoot<"u"&&ShadowRoot;let It=Ye;for(;It;){if(It===jt)return!0;It=ct&&It instanceof ShadowRoot?It.host:It.parentNode}return!1}let De=(()=>{class jt{constructor(ct,It){this._platform=It,this._document=ct}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ct="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const Ke=this._document.querySelectorAll(`.${ct}[platform="server"], .${ct}[platform="test"]`);for(let wt=0;wt<Ke.length;wt++)Ke[wt].remove()}const It=this._document.createElement("div");It.classList.add(ct),(0,x.v8)()?It.setAttribute("platform","test"):this._platform.isBrowser||It.setAttribute("platform","server"),this._document.body.appendChild(It),this._containerElement=It}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(y.qQ),u.KVO(x.OD))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})();class Ge{constructor(Ye,ct,It,Ke,wt,rt,Ct,mt,Vt,at=!1,We){this._portalOutlet=Ye,this._host=ct,this._pane=It,this._config=Ke,this._ngZone=wt,this._keyboardDispatcher=rt,this._document=Ct,this._location=mt,this._outsideClickDispatcher=Vt,this._animationsDisabled=at,this._injector=We,this._backdropElement=null,this._backdropClick=new M.B,this._attachments=new M.B,this._detachments=new M.B,this._locationChanges=A.yU.EMPTY,this._backdropClickHandler=ke=>this._backdropClick.next(ke),this._backdropTransitionendHandler=ke=>{this._disposeBackdrop(ke.target)},this._keydownEvents=new M.B,this._outsidePointerEvents=new M.B,this._renders=new M.B,Ke.scrollStrategy&&(this._scrollStrategy=Ke.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ke.positionStrategy,this._afterRenderRef=(0,u.O8t)(()=>(0,u.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ye){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ct=this._portalOutlet.attach(Ye);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,u.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ct?.onDestroy&&ct.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ct}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ye=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ye}dispose(){const Ye=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,Ye&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ye){Ye!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ye,this.hasAttached()&&(Ye.attach(this),this.updatePosition()))}updateSize(Ye){this._config={...this._config,...Ye},this._updateElementSize()}setDirection(Ye){this._config={...this._config,direction:Ye},this._updateElementDirection()}addPanelClass(Ye){this._pane&&this._toggleClasses(this._pane,Ye,!0)}removePanelClass(Ye){this._pane&&this._toggleClasses(this._pane,Ye,!1)}getDirection(){const Ye=this._config.direction;return Ye?"string"==typeof Ye?Ye:Ye.value:"ltr"}updateScrollStrategy(Ye){Ye!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ye,this.hasAttached()&&(Ye.attach(this),Ye.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ye=this._pane.style;Ye.width=(0,v.a1)(this._config.width),Ye.height=(0,v.a1)(this._config.height),Ye.minWidth=(0,v.a1)(this._config.minWidth),Ye.minHeight=(0,v.a1)(this._config.minHeight),Ye.maxWidth=(0,v.a1)(this._config.maxWidth),Ye.maxHeight=(0,v.a1)(this._config.maxHeight)}_togglePointerEvents(Ye){this._pane.style.pointerEvents=Ye?"":"none"}_attachBackdrop(){const Ye="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ye)})}):this._backdropElement.classList.add(Ye)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ye=this._backdropElement;if(Ye){if(this._animationsDisabled)return void this._disposeBackdrop(Ye);Ye.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ye.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ye.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ye)},500))}}_toggleClasses(Ye,ct,It){const Ke=(0,v.FG)(ct||[]).filter(wt=>!!wt);Ke.length&&(It?Ye.classList.add(...Ke):Ye.classList.remove(...Ke))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Ye=this._renders.pipe((0,L.Q)((0,ue.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ye.unsubscribe())})})}_disposeScrollStrategy(){const Ye=this._scrollStrategy;Ye&&(Ye.disable(),Ye.detach&&Ye.detach())}_disposeBackdrop(Ye){Ye&&(Ye.removeEventListener("click",this._backdropClickHandler),Ye.removeEventListener("transitionend",this._backdropTransitionendHandler),Ye.remove(),this._backdropElement===Ye&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ze="cdk-overlay-connected-position-bounding-box",ut=/([A-Za-z%]+)$/;class bt{get positions(){return this._preferredPositions}constructor(Ye,ct,It,Ke,wt){this._viewportRuler=ct,this._document=It,this._platform=Ke,this._overlayContainer=wt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new M.B,this._resizeSubscription=A.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ye)}attach(Ye){this._validatePositions(),Ye.hostElement.classList.add(Ze),this._overlayRef=Ye,this._boundingBox=Ye.hostElement,this._pane=Ye.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ye=this._originRect,ct=this._overlayRect,It=this._viewportRect,Ke=this._containerRect,wt=[];let rt;for(let Ct of this._preferredPositions){let mt=this._getOriginPoint(Ye,Ke,Ct),Vt=this._getOverlayPoint(mt,ct,Ct),at=this._getOverlayFit(Vt,ct,It,Ct);if(at.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ct,mt);this._canFitWithFlexibleDimensions(at,Vt,It)?wt.push({position:Ct,origin:mt,overlayRect:ct,boundingBoxRect:this._calculateBoundingBoxRect(mt,Ct)}):(!rt||rt.overlayFit.visibleArea<at.visibleArea)&&(rt={overlayFit:at,overlayPoint:Vt,originPoint:mt,position:Ct,overlayRect:ct})}if(wt.length){let Ct=null,mt=-1;for(const Vt of wt){const at=Vt.boundingBoxRect.width*Vt.boundingBoxRect.height*(Vt.position.weight||1);at>mt&&(mt=at,Ct=Vt)}return this._isPushed=!1,void this._applyPosition(Ct.position,Ct.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(rt.position,rt.originPoint);this._applyPosition(rt.position,rt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ze),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ye=this._lastPosition;if(Ye){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ct=this._getOriginPoint(this._originRect,this._containerRect,Ye);this._applyPosition(Ye,ct)}else this.apply()}withScrollableContainers(Ye){return this._scrollables=Ye,this}withPositions(Ye){return this._preferredPositions=Ye,-1===Ye.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ye){return this._viewportMargin=Ye,this}withFlexibleDimensions(Ye=!0){return this._hasFlexibleDimensions=Ye,this}withGrowAfterOpen(Ye=!0){return this._growAfterOpen=Ye,this}withPush(Ye=!0){return this._canPush=Ye,this}withLockedPosition(Ye=!0){return this._positionLocked=Ye,this}setOrigin(Ye){return this._origin=Ye,this}withDefaultOffsetX(Ye){return this._offsetX=Ye,this}withDefaultOffsetY(Ye){return this._offsetY=Ye,this}withTransformOriginOn(Ye){return this._transformOriginSelector=Ye,this}_getOriginPoint(Ye,ct,It){let Ke,wt;if("center"==It.originX)Ke=Ye.left+Ye.width/2;else{const rt=this._isRtl()?Ye.right:Ye.left,Ct=this._isRtl()?Ye.left:Ye.right;Ke="start"==It.originX?rt:Ct}return ct.left<0&&(Ke-=ct.left),wt="center"==It.originY?Ye.top+Ye.height/2:"top"==It.originY?Ye.top:Ye.bottom,ct.top<0&&(wt-=ct.top),{x:Ke,y:wt}}_getOverlayPoint(Ye,ct,It){let Ke,wt;return Ke="center"==It.overlayX?-ct.width/2:"start"===It.overlayX?this._isRtl()?-ct.width:0:this._isRtl()?0:-ct.width,wt="center"==It.overlayY?-ct.height/2:"top"==It.overlayY?0:-ct.height,{x:Ye.x+Ke,y:Ye.y+wt}}_getOverlayFit(Ye,ct,It,Ke){const wt=Ae(ct);let{x:rt,y:Ct}=Ye,mt=this._getOffset(Ke,"x"),Vt=this._getOffset(Ke,"y");mt&&(rt+=mt),Vt&&(Ct+=Vt);let ke=0-Ct,et=Ct+wt.height-It.height,xt=this._subtractOverflows(wt.width,0-rt,rt+wt.width-It.width),Zt=this._subtractOverflows(wt.height,ke,et),vn=xt*Zt;return{visibleArea:vn,isCompletelyWithinViewport:wt.width*wt.height===vn,fitsInViewportVertically:Zt===wt.height,fitsInViewportHorizontally:xt==wt.width}}_canFitWithFlexibleDimensions(Ye,ct,It){if(this._hasFlexibleDimensions){const Ke=It.bottom-ct.y,wt=It.right-ct.x,rt=Le(this._overlayRef.getConfig().minHeight),Ct=Le(this._overlayRef.getConfig().minWidth);return(Ye.fitsInViewportVertically||null!=rt&&rt<=Ke)&&(Ye.fitsInViewportHorizontally||null!=Ct&&Ct<=wt)}return!1}_pushOverlayOnScreen(Ye,ct,It){if(this._previousPushAmount&&this._positionLocked)return{x:Ye.x+this._previousPushAmount.x,y:Ye.y+this._previousPushAmount.y};const Ke=Ae(ct),wt=this._viewportRect,rt=Math.max(Ye.x+Ke.width-wt.width,0),Ct=Math.max(Ye.y+Ke.height-wt.height,0),mt=Math.max(wt.top-It.top-Ye.y,0),Vt=Math.max(wt.left-It.left-Ye.x,0);let at=0,We=0;return at=Ke.width<=wt.width?Vt||-rt:Ye.x<this._viewportMargin?wt.left-It.left-Ye.x:0,We=Ke.height<=wt.height?mt||-Ct:Ye.y<this._viewportMargin?wt.top-It.top-Ye.y:0,this._previousPushAmount={x:at,y:We},{x:Ye.x+at,y:Ye.y+We}}_applyPosition(Ye,ct){if(this._setTransformOrigin(Ye),this._setOverlayElementStyles(ct,Ye),this._setBoundingBoxStyles(ct,Ye),Ye.panelClass&&this._addPanelClasses(Ye.panelClass),this._positionChanges.observers.length){const It=this._getScrollVisibility();if(Ye!==this._lastPosition||!this._lastScrollVisibility||!function se(jt,Ye){return jt===Ye||jt.isOriginClipped===Ye.isOriginClipped&&jt.isOriginOutsideView===Ye.isOriginOutsideView&&jt.isOverlayClipped===Ye.isOverlayClipped&&jt.isOverlayOutsideView===Ye.isOverlayOutsideView}(this._lastScrollVisibility,It)){const Ke=new Ve(Ye,It);this._positionChanges.next(Ke)}this._lastScrollVisibility=It}this._lastPosition=Ye,this._isInitialRender=!1}_setTransformOrigin(Ye){if(!this._transformOriginSelector)return;const ct=this._boundingBox.querySelectorAll(this._transformOriginSelector);let It,Ke=Ye.overlayY;It="center"===Ye.overlayX?"center":this._isRtl()?"start"===Ye.overlayX?"right":"left":"start"===Ye.overlayX?"left":"right";for(let wt=0;wt<ct.length;wt++)ct[wt].style.transformOrigin=`${It} ${Ke}`}_calculateBoundingBoxRect(Ye,ct){const It=this._viewportRect,Ke=this._isRtl();let wt,rt,Ct,at,We,ke;if("top"===ct.overlayY)rt=Ye.y,wt=It.height-rt+this._viewportMargin;else if("bottom"===ct.overlayY)Ct=It.height-Ye.y+2*this._viewportMargin,wt=It.height-Ct+this._viewportMargin;else{const et=Math.min(It.bottom-Ye.y+It.top,Ye.y),xt=this._lastBoundingBoxSize.height;wt=2*et,rt=Ye.y-et,wt>xt&&!this._isInitialRender&&!this._growAfterOpen&&(rt=Ye.y-xt/2)}if("end"===ct.overlayX&&!Ke||"start"===ct.overlayX&&Ke)ke=It.width-Ye.x+2*this._viewportMargin,at=Ye.x-this._viewportMargin;else if("start"===ct.overlayX&&!Ke||"end"===ct.overlayX&&Ke)We=Ye.x,at=It.right-Ye.x;else{const et=Math.min(It.right-Ye.x+It.left,Ye.x),xt=this._lastBoundingBoxSize.width;at=2*et,We=Ye.x-et,at>xt&&!this._isInitialRender&&!this._growAfterOpen&&(We=Ye.x-xt/2)}return{top:rt,left:We,bottom:Ct,right:ke,width:at,height:wt}}_setBoundingBoxStyles(Ye,ct){const It=this._calculateBoundingBoxRect(Ye,ct);!this._isInitialRender&&!this._growAfterOpen&&(It.height=Math.min(It.height,this._lastBoundingBoxSize.height),It.width=Math.min(It.width,this._lastBoundingBoxSize.width));const Ke={};if(this._hasExactPosition())Ke.top=Ke.left="0",Ke.bottom=Ke.right=Ke.maxHeight=Ke.maxWidth="",Ke.width=Ke.height="100%";else{const wt=this._overlayRef.getConfig().maxHeight,rt=this._overlayRef.getConfig().maxWidth;Ke.height=(0,v.a1)(It.height),Ke.top=(0,v.a1)(It.top),Ke.bottom=(0,v.a1)(It.bottom),Ke.width=(0,v.a1)(It.width),Ke.left=(0,v.a1)(It.left),Ke.right=(0,v.a1)(It.right),Ke.alignItems="center"===ct.overlayX?"center":"end"===ct.overlayX?"flex-end":"flex-start",Ke.justifyContent="center"===ct.overlayY?"center":"bottom"===ct.overlayY?"flex-end":"flex-start",wt&&(Ke.maxHeight=(0,v.a1)(wt)),rt&&(Ke.maxWidth=(0,v.a1)(rt))}this._lastBoundingBoxSize=It,Dt(this._boundingBox.style,Ke)}_resetBoundingBoxStyles(){Dt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ye,ct){const It={},Ke=this._hasExactPosition(),wt=this._hasFlexibleDimensions,rt=this._overlayRef.getConfig();if(Ke){const at=this._viewportRuler.getViewportScrollPosition();Dt(It,this._getExactOverlayY(ct,Ye,at)),Dt(It,this._getExactOverlayX(ct,Ye,at))}else It.position="static";let Ct="",mt=this._getOffset(ct,"x"),Vt=this._getOffset(ct,"y");mt&&(Ct+=`translateX(${mt}px) `),Vt&&(Ct+=`translateY(${Vt}px)`),It.transform=Ct.trim(),rt.maxHeight&&(Ke?It.maxHeight=(0,v.a1)(rt.maxHeight):wt&&(It.maxHeight="")),rt.maxWidth&&(Ke?It.maxWidth=(0,v.a1)(rt.maxWidth):wt&&(It.maxWidth="")),Dt(this._pane.style,It)}_getExactOverlayY(Ye,ct,It){let Ke={top:"",bottom:""},wt=this._getOverlayPoint(ct,this._overlayRect,Ye);return this._isPushed&&(wt=this._pushOverlayOnScreen(wt,this._overlayRect,It)),"bottom"===Ye.overlayY?Ke.bottom=this._document.documentElement.clientHeight-(wt.y+this._overlayRect.height)+"px":Ke.top=(0,v.a1)(wt.y),Ke}_getExactOverlayX(Ye,ct,It){let rt,Ke={left:"",right:""},wt=this._getOverlayPoint(ct,this._overlayRect,Ye);return this._isPushed&&(wt=this._pushOverlayOnScreen(wt,this._overlayRect,It)),rt=this._isRtl()?"end"===Ye.overlayX?"left":"right":"end"===Ye.overlayX?"right":"left","right"===rt?Ke.right=this._document.documentElement.clientWidth-(wt.x+this._overlayRect.width)+"px":Ke.left=(0,v.a1)(wt.x),Ke}_getScrollVisibility(){const Ye=this._getOriginRect(),ct=this._pane.getBoundingClientRect(),It=this._scrollables.map(Ke=>Ke.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:K(Ye,It),isOriginOutsideView:Ce(Ye,It),isOverlayClipped:K(ct,It),isOverlayOutsideView:Ce(ct,It)}}_subtractOverflows(Ye,...ct){return ct.reduce((It,Ke)=>It-Math.max(Ke,0),Ye)}_getNarrowedViewportRect(){const Ye=this._document.documentElement.clientWidth,ct=this._document.documentElement.clientHeight,It=this._viewportRuler.getViewportScrollPosition();return{top:It.top+this._viewportMargin,left:It.left+this._viewportMargin,right:It.left+Ye-this._viewportMargin,bottom:It.top+ct-this._viewportMargin,width:Ye-2*this._viewportMargin,height:ct-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ye,ct){return"x"===ct?null==Ye.offsetX?this._offsetX:Ye.offsetX:null==Ye.offsetY?this._offsetY:Ye.offsetY}_validatePositions(){}_addPanelClasses(Ye){this._pane&&(0,v.FG)(Ye).forEach(ct=>{""!==ct&&-1===this._appliedPanelClasses.indexOf(ct)&&(this._appliedPanelClasses.push(ct),this._pane.classList.add(ct))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ye=>{this._pane.classList.remove(Ye)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ye=this._origin;if(Ye instanceof u.aKT)return Ye.nativeElement.getBoundingClientRect();if(Ye instanceof Element)return Ye.getBoundingClientRect();const ct=Ye.width||0,It=Ye.height||0;return{top:Ye.y,bottom:Ye.y+It,left:Ye.x,right:Ye.x+ct,height:It,width:ct}}}function Dt(jt,Ye){for(let ct in Ye)Ye.hasOwnProperty(ct)&&(jt[ct]=Ye[ct]);return jt}function Le(jt){if("number"!=typeof jt&&null!=jt){const[Ye,ct]=jt.split(ut);return ct&&"px"!==ct?null:parseFloat(Ye)}return jt||null}function Ae(jt){return{top:Math.floor(jt.top),right:Math.floor(jt.right),bottom:Math.floor(jt.bottom),left:Math.floor(jt.left),width:Math.floor(jt.width),height:Math.floor(jt.height)}}const C="cdk-global-overlay-wrapper";class T{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ye){const ct=Ye.getConfig();this._overlayRef=Ye,this._width&&!ct.width&&Ye.updateSize({width:this._width}),this._height&&!ct.height&&Ye.updateSize({height:this._height}),Ye.hostElement.classList.add(C),this._isDisposed=!1}top(Ye=""){return this._bottomOffset="",this._topOffset=Ye,this._alignItems="flex-start",this}left(Ye=""){return this._xOffset=Ye,this._xPosition="left",this}bottom(Ye=""){return this._topOffset="",this._bottomOffset=Ye,this._alignItems="flex-end",this}right(Ye=""){return this._xOffset=Ye,this._xPosition="right",this}start(Ye=""){return this._xOffset=Ye,this._xPosition="start",this}end(Ye=""){return this._xOffset=Ye,this._xPosition="end",this}width(Ye=""){return this._overlayRef?this._overlayRef.updateSize({width:Ye}):this._width=Ye,this}height(Ye=""){return this._overlayRef?this._overlayRef.updateSize({height:Ye}):this._height=Ye,this}centerHorizontally(Ye=""){return this.left(Ye),this._xPosition="center",this}centerVertically(Ye=""){return this.top(Ye),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ye=this._overlayRef.overlayElement.style,ct=this._overlayRef.hostElement.style,It=this._overlayRef.getConfig(),{width:Ke,height:wt,maxWidth:rt,maxHeight:Ct}=It,mt=!("100%"!==Ke&&"100vw"!==Ke||rt&&"100%"!==rt&&"100vw"!==rt),Vt=!("100%"!==wt&&"100vh"!==wt||Ct&&"100%"!==Ct&&"100vh"!==Ct),at=this._xPosition,We=this._xOffset,ke="rtl"===this._overlayRef.getConfig().direction;let et="",xt="",Zt="";mt?Zt="flex-start":"center"===at?(Zt="center",ke?xt=We:et=We):ke?"left"===at||"end"===at?(Zt="flex-end",et=We):("right"===at||"start"===at)&&(Zt="flex-start",xt=We):"left"===at||"start"===at?(Zt="flex-start",et=We):("right"===at||"end"===at)&&(Zt="flex-end",xt=We),Ye.position=this._cssPosition,Ye.marginLeft=mt?"0":et,Ye.marginTop=Vt?"0":this._topOffset,Ye.marginBottom=this._bottomOffset,Ye.marginRight=mt?"0":xt,ct.justifyContent=Zt,ct.alignItems=Vt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ye=this._overlayRef.overlayElement.style,ct=this._overlayRef.hostElement,It=ct.style;ct.classList.remove(C),It.justifyContent=It.alignItems=Ye.marginTop=Ye.marginBottom=Ye.marginLeft=Ye.marginRight=Ye.position="",this._overlayRef=null,this._isDisposed=!0}}let J=(()=>{class jt{constructor(ct,It,Ke,wt){this._viewportRuler=ct,this._document=It,this._platform=Ke,this._overlayContainer=wt}global(){return new T}flexibleConnectedTo(ct){return new bt(ct,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(r.Xj),u.KVO(y.qQ),u.KVO(x.OD),u.KVO(De))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})(),W=0,ve=(()=>{class jt{constructor(ct,It,Ke,wt,rt,Ct,mt,Vt,at,We,ke,et){this.scrollStrategies=ct,this._overlayContainer=It,this._componentFactoryResolver=Ke,this._positionBuilder=wt,this._keyboardDispatcher=rt,this._injector=Ct,this._ngZone=mt,this._document=Vt,this._directionality=at,this._location=We,this._outsideClickDispatcher=ke,this._animationsModuleType=et}create(ct){const It=this._createHostElement(),Ke=this._createPaneElement(It),wt=this._createPortalOutlet(Ke),rt=new $(ct);return rt.direction=rt.direction||this._directionality.value,new Ge(wt,It,Ke,rt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(u.uvJ))}position(){return this._positionBuilder}_createPaneElement(ct){const It=this._document.createElement("div");return It.id="cdk-overlay-"+W++,It.classList.add("cdk-overlay-pane"),ct.appendChild(It),It}_createHostElement(){const ct=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ct),ct}_createPortalOutlet(ct){return this._appRef||(this._appRef=this._injector.get(u.o8S)),new b.aI(ct,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(It){return new(It||jt)(u.KVO(ce),u.KVO(De),u.KVO(u.OM3),u.KVO(J),u.KVO(Rn),u.KVO(u.zZn),u.KVO(u.SKi),u.KVO(y.qQ),u.KVO(O.dS),u.KVO(y.aZ),u.KVO(G),u.KVO(u.bc$,8))};static#t=this.\u0275prov=u.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})();const ne=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],p=new u.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const jt=(0,u.WQX)(ve);return()=>jt.scrollStrategies.reposition()}});let H=(()=>{class jt{constructor(ct){this.elementRef=ct}static#e=this.\u0275fac=function(It){return new(It||jt)(u.rXU(u.aKT))};static#t=this.\u0275dir=u.FsC({type:jt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return jt})(),B=(()=>{class jt{get offsetX(){return this._offsetX}set offsetX(ct){this._offsetX=ct,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ct){this._offsetY=ct,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(ct){this._disposeOnNavigation=ct}constructor(ct,It,Ke,wt,rt){this._overlay=ct,this._dir=rt,this._backdropSubscription=A.yU.EMPTY,this._attachSubscription=A.yU.EMPTY,this._detachSubscription=A.yU.EMPTY,this._positionSubscription=A.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,u.WQX)(u.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new u.bkB,this.positionChange=new u.bkB,this.attach=new u.bkB,this.detach=new u.bkB,this.overlayKeydown=new u.bkB,this.overlayOutsideClick=new u.bkB,this._templatePortal=new b.VA(It,Ke),this._scrollStrategyFactory=wt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ct){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ct.origin&&this.open&&this._position.apply()),ct.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ne);const ct=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ct.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ct.detachments().subscribe(()=>this.detach.emit()),ct.keydownEvents().subscribe(It=>{this.overlayKeydown.next(It),It.keyCode===z._f&&!this.disableClose&&!(0,z.rp)(It)&&(It.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(It=>{const Ke=this._getOriginElement(),wt=(0,x.Fb)(It);(!Ke||Ke!==wt&&!Ke.contains(wt))&&this.overlayOutsideClick.next(It)})}_buildConfig(){const ct=this._position=this.positionStrategy||this._createPositionStrategy(),It=new $({direction:this._dir,positionStrategy:ct,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(It.width=this.width),(this.height||0===this.height)&&(It.height=this.height),(this.minWidth||0===this.minWidth)&&(It.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(It.minHeight=this.minHeight),this.backdropClass&&(It.backdropClass=this.backdropClass),this.panelClass&&(It.panelClass=this.panelClass),It}_updatePositionStrategy(ct){const It=this.positions.map(Ke=>({originX:Ke.originX,originY:Ke.originY,overlayX:Ke.overlayX,overlayY:Ke.overlayY,offsetX:Ke.offsetX||this.offsetX,offsetY:Ke.offsetY||this.offsetY,panelClass:Ke.panelClass||void 0}));return ct.setOrigin(this._getOrigin()).withPositions(It).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ct=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(ct),ct}_getOrigin(){return this.origin instanceof H?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof H?this.origin.elementRef.nativeElement:this.origin instanceof u.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ct=>{this.backdropClick.emit(ct)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function U(jt,Ye=!1){return(0,F.N)((ct,It)=>{let Ke=0;ct.subscribe((0,S._)(It,wt=>{const rt=jt(wt,Ke++);(rt||Ye)&&It.next(wt),!rt&&It.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ct=>{this._ngZone.run(()=>this.positionChange.emit(ct)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(It){return new(It||jt)(u.rXU(ve),u.rXU(u.C4Q),u.rXU(u.c1b),u.rXU(p),u.rXU(O.dS,8))};static#t=this.\u0275dir=u.FsC({type:jt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",u.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",u.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",u.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",u.L39],push:[2,"cdkConnectedOverlayPush","push",u.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",u.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[u.GFd,u.OA$]})}return jt})();const $e={provide:p,deps:[ve],useFactory:function Ie(jt){return()=>jt.scrollStrategies.reposition()}};let ft=(()=>{class jt{static#e=this.\u0275fac=function(It){return new(It||jt)};static#t=this.\u0275mod=u.$C({type:jt});static#n=this.\u0275inj=u.G2t({providers:[ve,$e],imports:[O.jI,b.jc,r.E9,r.E9]})}return jt})()},36860:(ln,ye,w)=>{"use strict";w.d(ye,{BD:()=>z,BQ:()=>O,CZ:()=>ue,Fb:()=>oe,KT:()=>Z,OD:()=>v,r5:()=>b,v8:()=>Ce,vc:()=>Re});var r=w(54438),y=w(60177);let u;try{u=typeof Intl<"u"&&Intl.v8BreakIterator}catch{u=!1}let S,v=(()=>{class K{constructor(ce){this._platformId=ce,this.isBrowser=this._platformId?(0,y.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function($){return new($||K)(r.KVO(r.Agw))};static#t=this.\u0275prov=r.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function O(K){return function U(){if(null==S&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>S=!0}))}finally{S=S||!1}return S}()?K:!!K.capture}var b=function(K){return K[K.NORMAL=0]="NORMAL",K[K.NEGATED=1]="NEGATED",K[K.INVERTED=2]="INVERTED",K}(b||{});let M,A,X;function ue(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const K=Element.prototype.scrollTo;A=!!K&&!/\{\s*\[native code\]\s*\}/.test(K.toString())}}return A}function z(){if("object"!=typeof document||!document)return b.NORMAL;if(null==M){const K=document.createElement("div"),R=K.style;K.dir="rtl",R.width="1px",R.overflow="auto",R.visibility="hidden",R.pointerEvents="none",R.position="absolute";const ce=document.createElement("div"),$=ce.style;$.width="2px",$.height="1px",K.appendChild(ce),document.body.appendChild(K),M=b.NORMAL,0===K.scrollLeft&&(K.scrollLeft=1,M=0===K.scrollLeft?b.NEGATED:b.INVERTED),K.remove()}return M}function Z(K){if(function re(){if(null==X){const K=typeof document<"u"?document.head:null;X=!(!K||!K.createShadowRoot&&!K.attachShadow)}return X}()){const R=K.getRootNode?K.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&R instanceof ShadowRoot)return R}return null}function Re(){let K=typeof document<"u"&&document?document.activeElement:null;for(;K&&K.shadowRoot;){const R=K.shadowRoot.activeElement;if(R===K)break;K=R}return K}function oe(K){return K.composedPath?K.composedPath()[0]:K.target}function Ce(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(ln,ye,w)=>{"use strict";w.d(ye,{A8:()=>U,I3:()=>Z,JP:()=>Ce,VA:()=>O,aI:()=>ue,jc:()=>oe,lb:()=>M});var r=w(54438),y=w(60177);class S{attach(R){return this._attachedHost=R,R.attach(this)}detach(){let R=this._attachedHost;null!=R&&(this._attachedHost=null,R.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(R){this._attachedHost=R}}class U extends S{constructor(R,ce,$,Fe,je){super(),this.component=R,this.viewContainerRef=ce,this.injector=$,this.componentFactoryResolver=Fe,this.projectableNodes=je}}class O extends S{constructor(R,ce,$,Fe){super(),this.templateRef=R,this.viewContainerRef=ce,this.context=$,this.injector=Fe}get origin(){return this.templateRef.elementRef}attach(R,ce=this.context){return this.context=ce,super.attach(R)}detach(){return this.context=void 0,super.detach()}}class b extends S{constructor(R){super(),this.element=R instanceof r.aKT?R.nativeElement:R}}class M{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(R){return R instanceof U?(this._attachedPortal=R,this.attachComponentPortal(R)):R instanceof O?(this._attachedPortal=R,this.attachTemplatePortal(R)):this.attachDomPortal&&R instanceof b?(this._attachedPortal=R,this.attachDomPortal(R)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(R){this._disposeFn=R}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ue extends M{constructor(R,ce,$,Fe,je){super(),this.outletElement=R,this._componentFactoryResolver=ce,this._appRef=$,this._defaultInjector=Fe,this.attachDomPortal=Ve=>{const lt=Ve.element,pt=this._document.createComment("dom-portal");lt.parentNode.insertBefore(pt,lt),this.outletElement.appendChild(lt),this._attachedPortal=Ve,super.setDisposeFn(()=>{pt.parentNode&&pt.parentNode.replaceChild(lt,pt)})},this._document=je}attachComponentPortal(R){const $=(R.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(R.component);let Fe;return R.viewContainerRef?(Fe=R.viewContainerRef.createComponent($,R.viewContainerRef.length,R.injector||R.viewContainerRef.injector,R.projectableNodes||void 0),this.setDisposeFn(()=>Fe.destroy())):(Fe=$.create(R.injector||this._defaultInjector||r.zZn.NULL),this._appRef.attachView(Fe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Fe.hostView),Fe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Fe)),this._attachedPortal=R,Fe}attachTemplatePortal(R){let ce=R.viewContainerRef,$=ce.createEmbeddedView(R.templateRef,R.context,{injector:R.injector});return $.rootNodes.forEach(Fe=>this.outletElement.appendChild(Fe)),$.detectChanges(),this.setDisposeFn(()=>{let Fe=ce.indexOf($);-1!==Fe&&ce.remove(Fe)}),this._attachedPortal=R,$}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(R){return R.hostView.rootNodes[0]}}let Z=(()=>{class K extends M{constructor(ce,$,Fe){super(),this._componentFactoryResolver=ce,this._viewContainerRef=$,this._isInitialized=!1,this.attached=new r.bkB,this.attachDomPortal=je=>{const Ve=je.element,lt=this._document.createComment("dom-portal");je.setAttachedHost(this),Ve.parentNode.insertBefore(lt,Ve),this._getRootNode().appendChild(Ve),this._attachedPortal=je,super.setDisposeFn(()=>{lt.parentNode&&lt.parentNode.replaceChild(Ve,lt)})},this._document=Fe}get portal(){return this._attachedPortal}set portal(ce){this.hasAttached()&&!ce&&!this._isInitialized||(this.hasAttached()&&super.detach(),ce&&super.attach(ce),this._attachedPortal=ce||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ce){ce.setAttachedHost(this);const $=null!=ce.viewContainerRef?ce.viewContainerRef:this._viewContainerRef,je=(ce.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ce.component),Ve=$.createComponent(je,$.length,ce.injector||$.injector,ce.projectableNodes||void 0);return $!==this._viewContainerRef&&this._getRootNode().appendChild(Ve.hostView.rootNodes[0]),super.setDisposeFn(()=>Ve.destroy()),this._attachedPortal=ce,this._attachedRef=Ve,this.attached.emit(Ve),Ve}attachTemplatePortal(ce){ce.setAttachedHost(this);const $=this._viewContainerRef.createEmbeddedView(ce.templateRef,ce.context,{injector:ce.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ce,this._attachedRef=$,this.attached.emit($),$}_getRootNode(){const ce=this._viewContainerRef.element.nativeElement;return ce.nodeType===ce.ELEMENT_NODE?ce:ce.parentNode}static#e=this.\u0275fac=function($){return new($||K)(r.rXU(r.OM3),r.rXU(r.c1b),r.rXU(y.qQ))};static#t=this.\u0275dir=r.FsC({type:K,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[r.Vt3]})}return K})(),oe=(()=>{class K{static#e=this.\u0275fac=function($){return new($||K)};static#t=this.\u0275mod=r.$C({type:K});static#n=this.\u0275inj=r.G2t({})}return K})();class Ce{constructor(R,ce){this._parentInjector=R,this._customTokens=ce}get(R,ce){const $=this._customTokens.get(R);return typeof $<"u"?$:this._parentInjector.get(R,ce)}}},65478:(ln,ye,w)=>{"use strict";w.d(ye,{E$:()=>bt,E9:()=>se,Gj:()=>Ae,R:()=>lt,Xj:()=>Rn,d6:()=>Ze,uv:()=>pt,yg:()=>je});var r=w(14085),y=w(54438),u=w(85052),v=w(15877),x=w(2573),d=w(35426),L=w(40798),F=w(82755),S=w(81027),U=w(28454),O=w(21082),b=w(9065),M=w(14264),A=w(37925),ue=w(35160),z=w(1670),X=w(32914),re=w(49784),Z=w(36860),Re=w(60177),oe=w(28203),Ce=w(45024);const K=["contentWrapper"],R=["*"],ce=new y.nKC("VIRTUAL_SCROLL_STRATEGY");class ${constructor(Ee,C,T){this._scrolledIndexChange=new u.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,O.F)()),this._viewport=null,this._itemSize=Ee,this._minBufferPx=C,this._maxBufferPx=T}attach(Ee){this._viewport=Ee,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Ee,C,T){this._itemSize=Ee,this._minBufferPx=C,this._maxBufferPx=T,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Ee,C){this._viewport&&this._viewport.scrollToOffset(Ee*this._itemSize,C)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Ee=this._viewport.getRenderedRange(),C={start:Ee.start,end:Ee.end},T=this._viewport.getViewportSize(),J=this._viewport.getDataLength();let W=this._viewport.measureScrollOffset(),ve=this._itemSize>0?W/this._itemSize:0;if(C.end>J){const p=Math.ceil(T/this._itemSize),H=Math.max(0,Math.min(ve,J-p));ve!=H&&(ve=H,W=H*this._itemSize,C.start=Math.floor(ve)),C.end=Math.max(0,Math.min(J,C.start+p))}const ne=W-C.start*this._itemSize;if(ne<this._minBufferPx&&0!=C.start){const p=Math.ceil((this._maxBufferPx-ne)/this._itemSize);C.start=Math.max(0,C.start-p),C.end=Math.min(J,Math.ceil(ve+(T+this._minBufferPx)/this._itemSize))}else{const p=C.end*this._itemSize-(W+T);if(p<this._minBufferPx&&C.end!=J){const H=Math.ceil((this._maxBufferPx-p)/this._itemSize);H>0&&(C.end=Math.min(J,C.end+H),C.start=Math.max(0,Math.floor(ve-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(C),this._viewport.setRenderedContentOffset(this._itemSize*C.start),this._scrolledIndexChange.next(Math.floor(ve))}}function Fe(Me){return Me._scrollStrategy}let je=(()=>{class Me{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new $(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(C){this._itemSize=(0,r.OE)(C)}get minBufferPx(){return this._minBufferPx}set minBufferPx(C){this._minBufferPx=(0,r.OE)(C)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(C){this._maxBufferPx=(0,r.OE)(C)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(T){return new(T||Me)};static#t=this.\u0275dir=y.FsC({type:Me,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[y.Jv_([{provide:ce,useFactory:Fe,deps:[(0,y.Rfq)(()=>Me)]}]),y.OA$]})}return Me})(),lt=(()=>{class Me{constructor(C,T,J){this._ngZone=C,this._platform=T,this._scrolled=new u.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=J}register(C){this.scrollContainers.has(C)||this.scrollContainers.set(C,C.elementScrolled().subscribe(()=>this._scrolled.next(C)))}deregister(C){const T=this.scrollContainers.get(C);T&&(T.unsubscribe(),this.scrollContainers.delete(C))}scrolled(C=20){return this._platform.isBrowser?new x.c(T=>{this._globalSubscription||this._addGlobalListener();const J=C>0?this._scrolled.pipe((0,b.Z)(C)).subscribe(T):this._scrolled.subscribe(T);return this._scrolledCount++,()=>{J.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((C,T)=>this.deregister(T)),this._scrolled.complete()}ancestorScrolled(C,T){const J=this.getAncestorScrollContainers(C);return this.scrolled(T).pipe((0,M.p)(W=>!W||J.indexOf(W)>-1))}getAncestorScrollContainers(C){const T=[];return this.scrollContainers.forEach((J,W)=>{this._scrollableContainsElement(W,C)&&T.push(W)}),T}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(C,T){let J=(0,r.i8)(T),W=C.getElementRef().nativeElement;do{if(J==W)return!0}while(J=J.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const C=this._getWindow();return(0,d.R)(C.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(T){return new(T||Me)(y.KVO(y.SKi),y.KVO(Z.OD),y.KVO(Re.qQ,8))};static#t=this.\u0275prov=y.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),pt=(()=>{class Me{constructor(C,T,J,W){this.elementRef=C,this.scrollDispatcher=T,this.ngZone=J,this.dir=W,this._destroyed=new u.B,this._elementScrolled=new x.c(ve=>this.ngZone.runOutsideAngular(()=>(0,d.R)(this.elementRef.nativeElement,"scroll").pipe((0,A.Q)(this._destroyed)).subscribe(ve)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(C){const T=this.elementRef.nativeElement,J=this.dir&&"rtl"==this.dir.value;null==C.left&&(C.left=J?C.end:C.start),null==C.right&&(C.right=J?C.start:C.end),null!=C.bottom&&(C.top=T.scrollHeight-T.clientHeight-C.bottom),J&&(0,Z.BD)()!=Z.r5.NORMAL?(null!=C.left&&(C.right=T.scrollWidth-T.clientWidth-C.left),(0,Z.BD)()==Z.r5.INVERTED?C.left=C.right:(0,Z.BD)()==Z.r5.NEGATED&&(C.left=C.right?-C.right:C.right)):null!=C.right&&(C.left=T.scrollWidth-T.clientWidth-C.right),this._applyScrollToOptions(C)}_applyScrollToOptions(C){const T=this.elementRef.nativeElement;(0,Z.CZ)()?T.scrollTo(C):(null!=C.top&&(T.scrollTop=C.top),null!=C.left&&(T.scrollLeft=C.left))}measureScrollOffset(C){const T="left",J="right",W=this.elementRef.nativeElement;if("top"==C)return W.scrollTop;if("bottom"==C)return W.scrollHeight-W.clientHeight-W.scrollTop;const ve=this.dir&&"rtl"==this.dir.value;return"start"==C?C=ve?J:T:"end"==C&&(C=ve?T:J),ve&&(0,Z.BD)()==Z.r5.INVERTED?C==T?W.scrollWidth-W.clientWidth-W.scrollLeft:W.scrollLeft:ve&&(0,Z.BD)()==Z.r5.NEGATED?C==T?W.scrollLeft+W.scrollWidth-W.clientWidth:-W.scrollLeft:C==T?W.scrollLeft:W.scrollWidth-W.clientWidth-W.scrollLeft}static#e=this.\u0275fac=function(T){return new(T||Me)(y.rXU(y.aKT),y.rXU(lt),y.rXU(y.SKi),y.rXU(oe.dS,8))};static#t=this.\u0275dir=y.FsC({type:Me,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Me})(),Rn=(()=>{class Me{constructor(C,T,J){this._platform=C,this._change=new u.B,this._changeListener=W=>{this._change.next(W)},this._document=J,T.runOutsideAngular(()=>{if(C.isBrowser){const W=this._getWindow();W.addEventListener("resize",this._changeListener),W.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const C=this._getWindow();C.removeEventListener("resize",this._changeListener),C.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const C={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),C}getViewportRect(){const C=this.getViewportScrollPosition(),{width:T,height:J}=this.getViewportSize();return{top:C.top,left:C.left,bottom:C.top+J,right:C.left+T,height:J,width:T}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const C=this._document,T=this._getWindow(),J=C.documentElement,W=J.getBoundingClientRect();return{top:-W.top||C.body.scrollTop||T.scrollY||J.scrollTop||0,left:-W.left||C.body.scrollLeft||T.scrollX||J.scrollLeft||0}}change(C=20){return C>0?this._change.pipe((0,b.Z)(C)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const C=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:C.innerWidth,height:C.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(T){return new(T||Me)(y.KVO(Z.OD),y.KVO(y.SKi),y.KVO(Re.qQ,8))};static#t=this.\u0275prov=y.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();const G=new y.nKC("VIRTUAL_SCROLLABLE");let ee=(()=>{class Me extends pt{constructor(C,T,J,W){super(C,T,J,W)}measureViewportSize(C){const T=this.elementRef.nativeElement;return"horizontal"===C?T.clientWidth:T.clientHeight}static#e=this.\u0275fac=function(T){return new(T||Me)(y.rXU(y.aKT),y.rXU(lt),y.rXU(y.SKi),y.rXU(oe.dS,8))};static#t=this.\u0275dir=y.FsC({type:Me,features:[y.Vt3]})}return Me})();const Ge=typeof requestAnimationFrame<"u"?L.X:F.$;let Ze=(()=>{class Me extends ee{get orientation(){return this._orientation}set orientation(C){this._orientation!==C&&(this._orientation=C,this._calculateSpacerSize())}constructor(C,T,J,W,ve,ne,p,H){super(C,ne,J,ve),this.elementRef=C,this._changeDetectorRef=T,this._scrollStrategy=W,this.scrollable=H,this._platform=(0,y.WQX)(Z.OD),this._detachedSubject=new u.B,this._renderedRangeSubject=new u.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new x.c(B=>this._scrollStrategy.scrolledIndexChange.subscribe(Ie=>Promise.resolve().then(()=>this.ngZone.run(()=>B.next(Ie))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=S.yU.EMPTY,this._injector=(0,y.WQX)(y.zZn),this._isDestroyed=!1,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,ue.Z)(null),(0,b.Z)(0,Ge),(0,A.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(C){this.ngZone.runOutsideAngular(()=>{this._forOf=C,this._forOf.dataStream.pipe((0,A.Q)(this._detachedSubject)).subscribe(T=>{const J=T.length;J!==this._dataLength&&(this._dataLength=J,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(C){return this.getElementRef().nativeElement.getBoundingClientRect()[C]}setTotalContentSize(C){this._totalContentSize!==C&&(this._totalContentSize=C,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(C){(function De(Me,Ee){return Me.start==Ee.start&&Me.end==Ee.end})(this._renderedRange,C)||(this.appendOnly&&(C={start:0,end:Math.max(this._renderedRange.end,C.end)}),this._renderedRangeSubject.next(this._renderedRange=C),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(C,T="to-start"){C=this.appendOnly&&"to-start"===T?0:C;const W="horizontal"==this.orientation,ve=W?"X":"Y";let p=`translate${ve}(${Number((W&&this.dir&&"rtl"==this.dir.value?-1:1)*C)}px)`;this._renderedContentOffset=C,"to-end"===T&&(p+=` translate${ve}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(C,T="auto"){const J={behavior:T};"horizontal"===this.orientation?J.start=C:J.top=C,this.scrollable.scrollTo(J)}scrollToIndex(C,T="auto"){this._scrollStrategy.scrollToIndex(C,T)}measureScrollOffset(C){let T;return T=this.scrollable==this?J=>super.measureScrollOffset(J):J=>this.scrollable.measureScrollOffset(J),Math.max(0,T(C??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(C){let T;const J="left",W="right",ve="rtl"==this.dir?.value;T="start"==C?ve?W:J:"end"==C?ve?J:W:C||("horizontal"===this.orientation?"left":"top");const ne=this.scrollable.measureBoundingClientRectWithScrollOffset(T);return this.elementRef.nativeElement.getBoundingClientRect()[T]-ne}measureRenderedContentSize(){const C=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?C.offsetWidth:C.offsetHeight}measureRangeSize(C){return this._forOf?this._forOf.measureRangeSize(C,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(C){C&&this._runAfterChangeDetection.push(C),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,y.mal)(()=>{this._isChangeDetectionPending=!1;const C=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const T of C)T()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(T){return new(T||Me)(y.rXU(y.aKT),y.rXU(y.gRc),y.rXU(y.SKi),y.rXU(ce,8),y.rXU(oe.dS,8),y.rXU(lt),y.rXU(Rn),y.rXU(G,8))};static#t=this.\u0275cmp=y.VBU({type:Me,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(T,J){if(1&T&&y.GBs(K,7),2&T){let W;y.mGM(W=y.lsd())&&(J._contentWrapper=W.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(T,J){2&T&&y.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===J.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==J.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",y.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[y.Jv_([{provide:pt,useFactory:(C,T)=>C||T,deps:[[new y.Xx1,new y.y_5(G)],Me]}]),y.GFd,y.Vt3,y.aNF],ngContentSelectors:R,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(T,J){1&T&&(y.NAR(),y.j41(0,"div",1,0),y.SdG(2),y.k0s(),y.nrm(3,"div",2)),2&T&&(y.R7$(3),y.xc7("width",J._totalContentWidth)("height",J._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return Me})();function ut(Me,Ee,C){if(!C.getBoundingClientRect)return 0;const J=C.getBoundingClientRect();return"horizontal"===Me?"start"===Ee?J.left:J.right:"start"===Ee?J.top:J.bottom}let bt=(()=>{class Me{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(C){this._cdkVirtualForOf=C,(0,Ce.y4)(C)?this._dataSourceChanges.next(C):this._dataSourceChanges.next(new Ce.hx((0,U.A)(C)?C:Array.from(C||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(C){this._needsUpdate=!0,this._cdkVirtualForTrackBy=C?(T,J)=>C(T+(this._renderedRange?this._renderedRange.start:0),J):void 0}set cdkVirtualForTemplate(C){C&&(this._needsUpdate=!0,this._template=C)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(C){this._viewRepeater.viewCacheSize=(0,r.OE)(C)}constructor(C,T,J,W,ve,ne){this._viewContainerRef=C,this._template=T,this._differs=J,this._viewRepeater=W,this._viewport=ve,this.viewChange=new u.B,this._dataSourceChanges=new u.B,this.dataStream=this._dataSourceChanges.pipe((0,ue.Z)(null),(0,z.J)(),(0,X.n)(([p,H])=>this._changeDataSource(p,H)),(0,re.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new u.B,this.dataStream.subscribe(p=>{this._data=p,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,A.Q)(this._destroyed)).subscribe(p=>{this._renderedRange=p,this.viewChange.observers.length&&ne.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(C,T){if(C.start>=C.end)return 0;const J=C.start-this._renderedRange.start,W=C.end-C.start;let ve,ne;for(let p=0;p<W;p++){const H=this._viewContainerRef.get(p+J);if(H&&H.rootNodes.length){ve=ne=H.rootNodes[0];break}}for(let p=W-1;p>-1;p--){const H=this._viewContainerRef.get(p+J);if(H&&H.rootNodes.length){ne=H.rootNodes[H.rootNodes.length-1];break}}return ve&&ne?ut(T,"end",ne)-ut(T,"start",ve):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const C=this._differ.diff(this._renderedItems);C?this._applyChanges(C):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((C,T)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(C,T):T)),this._needsUpdate=!0)}_changeDataSource(C,T){return C&&C.disconnect(this),this._needsUpdate=!0,T?T.connect(this):(0,v.of)()}_updateContext(){const C=this._data.length;let T=this._viewContainerRef.length;for(;T--;){const J=this._viewContainerRef.get(T);J.context.index=this._renderedRange.start+T,J.context.count=C,this._updateComputedContextProperties(J.context),J.detectChanges()}}_applyChanges(C){this._viewRepeater.applyChanges(C,this._viewContainerRef,(W,ve,ne)=>this._getEmbeddedViewArgs(W,ne),W=>W.item),C.forEachIdentityChange(W=>{this._viewContainerRef.get(W.currentIndex).context.$implicit=W.item});const T=this._data.length;let J=this._viewContainerRef.length;for(;J--;){const W=this._viewContainerRef.get(J);W.context.index=this._renderedRange.start+J,W.context.count=T,this._updateComputedContextProperties(W.context)}}_updateComputedContextProperties(C){C.first=0===C.index,C.last=C.index===C.count-1,C.even=C.index%2==0,C.odd=!C.even}_getEmbeddedViewArgs(C,T){return{templateRef:this._template,context:{$implicit:C.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:T}}static#e=this.\u0275fac=function(T){return new(T||Me)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(y._q3),y.rXU(Ce.sL),y.rXU(Ze,4),y.rXU(y.SKi))};static#t=this.\u0275dir=y.FsC({type:Me,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[y.Jv_([{provide:Ce.sL,useClass:Ce.DQ}])]})}return Me})(),Ae=(()=>{class Me{static#e=this.\u0275fac=function(T){return new(T||Me)};static#t=this.\u0275mod=y.$C({type:Me});static#n=this.\u0275inj=y.G2t({})}return Me})(),se=(()=>{class Me{static#e=this.\u0275fac=function(T){return new(T||Me)};static#t=this.\u0275mod=y.$C({type:Me});static#n=this.\u0275inj=y.G2t({imports:[oe.jI,Ae,oe.jI,Ae]})}return Me})()},45887:(ln,ye,w)=>{"use strict";w.d(ye,{N0:()=>rt}),w(28203),w(45024),w(36860);var v=w(65478),d=(w(60177),w(54438));w(85052),w(29160),w(28454),w(15877),w(37925);let rt=(()=>{class mt{static#e=this.\u0275fac=function(We){return new(We||mt)};static#t=this.\u0275mod=d.$C({type:mt});static#n=this.\u0275inj=d.G2t({imports:[v.E9]})}return mt})()},64109:(ln,ye,w)=>{"use strict";w.d(ye,{Dc:()=>se}),w(45024),w(28454),w(85052),w(29160),w(15877),w(82656),w(2515),w(35892),w(17365),w(14264),w(37925),w(35160),w(39705),w(32914),w(36110),w(84968),w(26758),w(21082);var Z=w(54438);w(18617),w(28203),w(8045);let se=(()=>{class Me{static#e=this.\u0275fac=function(T){return new(T||Me)};static#t=this.\u0275mod=Z.$C({type:Me});static#n=this.\u0275inj=Z.G2t({})}return Me})()},60177:(ln,ye,w)=>{"use strict";w.d(ye,{AJ:()=>es,B3:()=>yo,EO:()=>rn,Jj:()=>Vr,MD:()=>os,N0:()=>Ls,OI:()=>vr,PV:()=>Gi,QT:()=>u,QX:()=>li,Sm:()=>z,Sq:()=>ze,T3:()=>Fo,UE:()=>Ps,VF:()=>x,Vy:()=>Oo,Xr:()=>gs,YU:()=>Hr,Yq:()=>It,ZD:()=>v,_b:()=>En,aZ:()=>re,bT:()=>Kn,e1:()=>ri,fG:()=>Ri,fw:()=>X,hb:()=>A,hj:()=>S,kB:()=>ue,m1:()=>hi,qQ:()=>L,ux:()=>Ur,vh:()=>Os});var r=w(54438);let y=null;function u(){return y}function v(_){y??=_}class x{}const L=new r.nKC("");let F=(()=>{class _{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(ae){return new(ae||_)};static#t=this.\u0275prov=r.jDH({token:_,factory:()=>(0,r.WQX)(U),providedIn:"platform"})}return _})();const S=new r.nKC("");let U=(()=>{class _ extends F{constructor(){super(),this._doc=(0,r.WQX)(L),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(P){const ae=u().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",P,!1),()=>ae.removeEventListener("popstate",P)}onHashChange(P){const ae=u().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",P,!1),()=>ae.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,ae,nt){this._history.pushState(P,ae,nt)}replaceState(P,ae,nt){this._history.replaceState(P,ae,nt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(ae){return new(ae||_)};static#t=this.\u0275prov=r.jDH({token:_,factory:()=>new _,providedIn:"platform"})}return _})();function O(_,Q){if(0==_.length)return Q;if(0==Q.length)return _;let P=0;return _.endsWith("/")&&P++,Q.startsWith("/")&&P++,2==P?_+Q.substring(1):1==P?_+Q:_+"/"+Q}function b(_){const Q=_.match(/#|\?|$/),P=Q&&Q.index||_.length;return _.slice(0,P-("/"===_[P-1]?1:0))+_.slice(P)}function M(_){return _&&"?"!==_[0]?"?"+_:_}let A=(()=>{class _{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(ae){return new(ae||_)};static#t=this.\u0275prov=r.jDH({token:_,factory:()=>(0,r.WQX)(z),providedIn:"root"})}return _})();const ue=new r.nKC("");let z=(()=>{class _ extends A{constructor(P,ae){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=ae??this._platformLocation.getBaseHrefFromDOM()??(0,r.WQX)(L).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return O(this._baseHref,P)}path(P=!1){const ae=this._platformLocation.pathname+M(this._platformLocation.search),nt=this._platformLocation.hash;return nt&&P?`${ae}${nt}`:ae}pushState(P,ae,nt,Pt){const sn=this.prepareExternalUrl(nt+M(Pt));this._platformLocation.pushState(P,ae,sn)}replaceState(P,ae,nt,Pt){const sn=this.prepareExternalUrl(nt+M(Pt));this._platformLocation.replaceState(P,ae,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.KVO(F),r.KVO(ue,8))};static#t=this.\u0275prov=r.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),X=(()=>{class _ extends A{constructor(P,ae){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){const ae=this._platformLocation.hash??"#";return ae.length>0?ae.substring(1):ae}prepareExternalUrl(P){const ae=O(this._baseHref,P);return ae.length>0?"#"+ae:ae}pushState(P,ae,nt,Pt){let sn=this.prepareExternalUrl(nt+M(Pt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.pushState(P,ae,sn)}replaceState(P,ae,nt,Pt){let sn=this.prepareExternalUrl(nt+M(Pt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.replaceState(P,ae,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.KVO(F),r.KVO(ue,8))};static#t=this.\u0275prov=r.jDH({token:_,factory:_.\u0275fac})}return _})(),re=(()=>{class _{constructor(P){this._subject=new r.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const ae=this._locationStrategy.getBaseHref();this._basePath=function Ce(_){if(new RegExp("^(https?:)?//").test(_)){const[,P]=_.split(/\/\/[^\/]+/);return P}return _}(b(oe(ae))),this._locationStrategy.onPopState(nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:nt.state,type:nt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,ae=""){return this.path()==this.normalize(P+M(ae))}normalize(P){return _.stripTrailingSlash(function Re(_,Q){if(!_||!Q.startsWith(_))return Q;const P=Q.substring(_.length);return""===P||["/",";","?","#"].includes(P[0])?P:Q}(this._basePath,oe(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,ae="",nt=null){this._locationStrategy.pushState(nt,"",P,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+M(ae)),nt)}replaceState(P,ae="",nt=null){this._locationStrategy.replaceState(nt,"",P,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+M(ae)),nt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription??=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)}),()=>{const ae=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",ae){this._urlChangeListeners.forEach(nt=>nt(P,ae))}subscribe(P,ae,nt){return this._subject.subscribe({next:P,error:ae,complete:nt})}static#e=this.normalizeQueryParams=M;static#t=this.joinWithSlash=O;static#n=this.stripTrailingSlash=b;static#s=this.\u0275fac=function(ae){return new(ae||_)(r.KVO(A))};static#a=this.\u0275prov=r.jDH({token:_,factory:()=>function Z(){return new re((0,r.KVO)(A))}(),providedIn:"root"})}return _})();function oe(_){return _.replace(/\/index.html$/,"")}var R=function(_){return _[_.Decimal=0]="Decimal",_[_.Percent=1]="Percent",_[_.Currency=2]="Currency",_[_.Scientific=3]="Scientific",_}(R||{}),$=function(_){return _[_.Format=0]="Format",_[_.Standalone=1]="Standalone",_}($||{}),Fe=function(_){return _[_.Narrow=0]="Narrow",_[_.Abbreviated=1]="Abbreviated",_[_.Wide=2]="Wide",_[_.Short=3]="Short",_}(Fe||{}),je=function(_){return _[_.Short=0]="Short",_[_.Medium=1]="Medium",_[_.Long=2]="Long",_[_.Full=3]="Full",_}(je||{});const Ve={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ze(_,Q){return ne((0,r.H5H)(_)[r.KH2.DateFormat],Q)}function ut(_,Q){return ne((0,r.H5H)(_)[r.KH2.TimeFormat],Q)}function bt(_,Q){return ne((0,r.H5H)(_)[r.KH2.DateTimeFormat],Q)}function Dt(_,Q){const P=(0,r.H5H)(_),ae=P[r.KH2.NumberSymbols][Q];if(typeof ae>"u"){if(Q===Ve.CurrencyDecimal)return P[r.KH2.NumberSymbols][Ve.Decimal];if(Q===Ve.CurrencyGroup)return P[r.KH2.NumberSymbols][Ve.Group]}return ae}function Le(_,Q){return(0,r.H5H)(_)[r.KH2.NumberFormats][Q]}function T(_){if(!_[r.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_[r.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ne(_,Q){for(let P=Q;P>-1;P--)if(typeof _[P]<"u")return _[P];throw new Error("Locale data API: locale data undefined")}function p(_){const[Q,P]=_.split(":");return{hours:+Q,minutes:+P}}const $e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ft={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jt=function(_){return _[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_}(jt||{}),Ye=function(_){return _[_.FullYear=0]="FullYear",_[_.Month=1]="Month",_[_.Date=2]="Date",_[_.Hours=3]="Hours",_[_.Minutes=4]="Minutes",_[_.Seconds=5]="Seconds",_[_.FractionalSeconds=6]="FractionalSeconds",_[_.Day=7]="Day",_}(Ye||{}),ct=function(_){return _[_.DayPeriods=0]="DayPeriods",_[_.Days=1]="Days",_[_.Months=2]="Months",_[_.Eras=3]="Eras",_}(ct||{});function It(_,Q,P,ae){let nt=function Mn(_){if(Pn(_))return _;if("number"==typeof _&&!isNaN(_))return new Date(_);if("string"==typeof _){if(_=_.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_)){const[nt,Pt=1,sn=1]=_.split("-").map(cr=>+cr);return Ke(nt,Pt-1,sn)}const P=parseFloat(_);if(!isNaN(_-P))return new Date(P);let ae;if(ae=_.match($e))return function Bn(_){const Q=new Date(0);let P=0,ae=0;const nt=_[8]?Q.setUTCFullYear:Q.setFullYear,Pt=_[8]?Q.setUTCHours:Q.setHours;_[9]&&(P=Number(_[9]+_[10]),ae=Number(_[9]+_[11])),nt.call(Q,Number(_[1]),Number(_[2])-1,Number(_[3]));const sn=Number(_[4]||0)-P,cr=Number(_[5]||0)-ae,Xr=Number(_[6]||0),oi=Math.floor(1e3*parseFloat("0."+(_[7]||0)));return Pt.call(Q,sn,cr,Xr,oi),Q}(ae)}const Q=new Date(_);if(!Pn(Q))throw new Error(`Unable to convert "${_}" into a date`);return Q}(_);Q=wt(P,Q)||Q;let cr,sn=[];for(;Q;){if(cr=kt.exec(Q),!cr){sn.push(Q);break}{sn=sn.concat(cr.slice(1));const gi=sn.pop();if(!gi)break;Q=gi}}let Xr=nt.getTimezoneOffset();ae&&(Xr=Xt(ae,Xr),nt=function Ot(_,Q,P){const ae=P?-1:1,nt=_.getTimezoneOffset();return function Nn(_,Q){return(_=new Date(_.getTime())).setMinutes(_.getMinutes()+Q),_}(_,ae*(Xt(Q,nt)-nt))}(nt,ae,!0));let oi="";return sn.forEach(gi=>{const qr=function Ht(_){if(nn[_])return nn[_];let Q;switch(_){case"G":case"GG":case"GGG":Q=We(ct.Eras,Fe.Abbreviated);break;case"GGGG":Q=We(ct.Eras,Fe.Wide);break;case"GGGGG":Q=We(ct.Eras,Fe.Narrow);break;case"y":Q=Vt(Ye.FullYear,1,0,!1,!0);break;case"yy":Q=Vt(Ye.FullYear,2,0,!0,!0);break;case"yyy":Q=Vt(Ye.FullYear,3,0,!1,!0);break;case"yyyy":Q=Vt(Ye.FullYear,4,0,!1,!0);break;case"Y":Q=dn(1);break;case"YY":Q=dn(2,!0);break;case"YYY":Q=dn(3);break;case"YYYY":Q=dn(4);break;case"M":case"L":Q=Vt(Ye.Month,1,1);break;case"MM":case"LL":Q=Vt(Ye.Month,2,1);break;case"MMM":Q=We(ct.Months,Fe.Abbreviated);break;case"MMMM":Q=We(ct.Months,Fe.Wide);break;case"MMMMM":Q=We(ct.Months,Fe.Narrow);break;case"LLL":Q=We(ct.Months,Fe.Abbreviated,$.Standalone);break;case"LLLL":Q=We(ct.Months,Fe.Wide,$.Standalone);break;case"LLLLL":Q=We(ct.Months,Fe.Narrow,$.Standalone);break;case"w":Q=tr(1);break;case"ww":Q=tr(2);break;case"W":Q=tr(1,!0);break;case"d":Q=Vt(Ye.Date,1);break;case"dd":Q=Vt(Ye.Date,2);break;case"c":case"cc":Q=Vt(Ye.Day,1);break;case"ccc":Q=We(ct.Days,Fe.Abbreviated,$.Standalone);break;case"cccc":Q=We(ct.Days,Fe.Wide,$.Standalone);break;case"ccccc":Q=We(ct.Days,Fe.Narrow,$.Standalone);break;case"cccccc":Q=We(ct.Days,Fe.Short,$.Standalone);break;case"E":case"EE":case"EEE":Q=We(ct.Days,Fe.Abbreviated);break;case"EEEE":Q=We(ct.Days,Fe.Wide);break;case"EEEEE":Q=We(ct.Days,Fe.Narrow);break;case"EEEEEE":Q=We(ct.Days,Fe.Short);break;case"a":case"aa":case"aaa":Q=We(ct.DayPeriods,Fe.Abbreviated);break;case"aaaa":Q=We(ct.DayPeriods,Fe.Wide);break;case"aaaaa":Q=We(ct.DayPeriods,Fe.Narrow);break;case"b":case"bb":case"bbb":Q=We(ct.DayPeriods,Fe.Abbreviated,$.Standalone,!0);break;case"bbbb":Q=We(ct.DayPeriods,Fe.Wide,$.Standalone,!0);break;case"bbbbb":Q=We(ct.DayPeriods,Fe.Narrow,$.Standalone,!0);break;case"B":case"BB":case"BBB":Q=We(ct.DayPeriods,Fe.Abbreviated,$.Format,!0);break;case"BBBB":Q=We(ct.DayPeriods,Fe.Wide,$.Format,!0);break;case"BBBBB":Q=We(ct.DayPeriods,Fe.Narrow,$.Format,!0);break;case"h":Q=Vt(Ye.Hours,1,-12);break;case"hh":Q=Vt(Ye.Hours,2,-12);break;case"H":Q=Vt(Ye.Hours,1);break;case"HH":Q=Vt(Ye.Hours,2);break;case"m":Q=Vt(Ye.Minutes,1);break;case"mm":Q=Vt(Ye.Minutes,2);break;case"s":Q=Vt(Ye.Seconds,1);break;case"ss":Q=Vt(Ye.Seconds,2);break;case"S":Q=Vt(Ye.FractionalSeconds,1);break;case"SS":Q=Vt(Ye.FractionalSeconds,2);break;case"SSS":Q=Vt(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=et(jt.Short);break;case"ZZZZZ":Q=et(jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=et(jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=et(jt.Long);break;default:return null}return nn[_]=Q,Q}(gi);oi+=qr?qr(nt,P,Xr):"''"===gi?"'":gi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),oi}function Ke(_,Q,P){const ae=new Date(0);return ae.setFullYear(_,Q,P),ae.setHours(0,0,0),ae}function wt(_,Q){const P=function pt(_){return(0,r.H5H)(_)[r.KH2.LocaleId]}(_);if(ft[P]??={},ft[P][Q])return ft[P][Q];let ae="";switch(Q){case"shortDate":ae=Ze(_,je.Short);break;case"mediumDate":ae=Ze(_,je.Medium);break;case"longDate":ae=Ze(_,je.Long);break;case"fullDate":ae=Ze(_,je.Full);break;case"shortTime":ae=ut(_,je.Short);break;case"mediumTime":ae=ut(_,je.Medium);break;case"longTime":ae=ut(_,je.Long);break;case"fullTime":ae=ut(_,je.Full);break;case"short":const nt=wt(_,"shortTime"),Pt=wt(_,"shortDate");ae=rt(bt(_,je.Short),[nt,Pt]);break;case"medium":const sn=wt(_,"mediumTime"),cr=wt(_,"mediumDate");ae=rt(bt(_,je.Medium),[sn,cr]);break;case"long":const Xr=wt(_,"longTime"),oi=wt(_,"longDate");ae=rt(bt(_,je.Long),[Xr,oi]);break;case"full":const gi=wt(_,"fullTime"),qr=wt(_,"fullDate");ae=rt(bt(_,je.Full),[gi,qr])}return ae&&(ft[P][Q]=ae),ae}function rt(_,Q){return Q&&(_=_.replace(/\{([^}]+)}/g,function(P,ae){return null!=Q&&ae in Q?Q[ae]:P})),_}function Ct(_,Q,P="-",ae,nt){let Pt="";(_<0||nt&&_<=0)&&(nt?_=1-_:(_=-_,Pt=P));let sn=String(_);for(;sn.length<Q;)sn="0"+sn;return ae&&(sn=sn.slice(sn.length-Q)),Pt+sn}function Vt(_,Q,P=0,ae=!1,nt=!1){return function(Pt,sn){let cr=function at(_,Q){switch(_){case Ye.FullYear:return Q.getFullYear();case Ye.Month:return Q.getMonth();case Ye.Date:return Q.getDate();case Ye.Hours:return Q.getHours();case Ye.Minutes:return Q.getMinutes();case Ye.Seconds:return Q.getSeconds();case Ye.FractionalSeconds:return Q.getMilliseconds();case Ye.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${_}".`)}}(_,Pt);if((P>0||cr>-P)&&(cr+=P),_===Ye.Hours)0===cr&&-12===P&&(cr=12);else if(_===Ye.FractionalSeconds)return function mt(_,Q){return Ct(_,3).substring(0,Q)}(cr,Q);const Xr=Dt(sn,Ve.MinusSign);return Ct(cr,Q,Xr,ae,nt)}}function We(_,Q,P=$.Format,ae=!1){return function(nt,Pt){return function ke(_,Q,P,ae,nt,Pt){switch(P){case ct.Months:return function G(_,Q,P){const ae=(0,r.H5H)(_),Pt=ne([ae[r.KH2.MonthsFormat],ae[r.KH2.MonthsStandalone]],Q);return ne(Pt,P)}(Q,nt,ae)[_.getMonth()];case ct.Days:return function Rn(_,Q,P){const ae=(0,r.H5H)(_),Pt=ne([ae[r.KH2.DaysFormat],ae[r.KH2.DaysStandalone]],Q);return ne(Pt,P)}(Q,nt,ae)[_.getDay()];case ct.DayPeriods:const sn=_.getHours(),cr=_.getMinutes();if(Pt){const oi=function J(_){const Q=(0,r.H5H)(_);return T(Q),(Q[r.KH2.ExtraData][2]||[]).map(ae=>"string"==typeof ae?p(ae):[p(ae[0]),p(ae[1])])}(Q),gi=function W(_,Q,P){const ae=(0,r.H5H)(_);T(ae);const Pt=ne([ae[r.KH2.ExtraData][0],ae[r.KH2.ExtraData][1]],Q)||[];return ne(Pt,P)||[]}(Q,nt,ae),qr=oi.findIndex(vi=>{if(Array.isArray(vi)){const[ki,si]=vi,fo=sn>=ki.hours&&cr>=ki.minutes,ds=sn<si.hours||sn===si.hours&&cr<si.minutes;if(ki.hours<si.hours){if(fo&&ds)return!0}else if(fo||ds)return!0}else if(vi.hours===sn&&vi.minutes===cr)return!0;return!1});if(-1!==qr)return gi[qr]}return function St(_,Q,P){const ae=(0,r.H5H)(_),Pt=ne([ae[r.KH2.DayPeriodsFormat],ae[r.KH2.DayPeriodsStandalone]],Q);return ne(Pt,P)}(Q,nt,ae)[sn<12?0:1];case ct.Eras:return function ee(_,Q){return ne((0,r.H5H)(_)[r.KH2.Eras],Q)}(Q,ae)[_.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${P}`)}}(nt,Pt,_,Q,P,ae)}}function et(_){return function(Q,P,ae){const nt=-1*ae,Pt=Dt(P,Ve.MinusSign),sn=nt>0?Math.floor(nt/60):Math.ceil(nt/60);switch(_){case jt.Short:return(nt>=0?"+":"")+Ct(sn,2,Pt)+Ct(Math.abs(nt%60),2,Pt);case jt.ShortGMT:return"GMT"+(nt>=0?"+":"")+Ct(sn,1,Pt);case jt.Long:return"GMT"+(nt>=0?"+":"")+Ct(sn,2,Pt)+":"+Ct(Math.abs(nt%60),2,Pt);case jt.Extended:return 0===ae?"Z":(nt>=0?"+":"")+Ct(sn,2,Pt)+":"+Ct(Math.abs(nt%60),2,Pt);default:throw new Error(`Unknown zone width "${_}"`)}}}const xt=0,Zt=4;function kn(_){const Q=_.getDay(),P=0===Q?-3:Zt-Q;return Ke(_.getFullYear(),_.getMonth(),_.getDate()+P)}function tr(_,Q=!1){return function(P,ae){let nt;if(Q){const Pt=new Date(P.getFullYear(),P.getMonth(),1).getDay()-1,sn=P.getDate();nt=1+Math.floor((sn+Pt)/7)}else{const Pt=kn(P),sn=function vn(_){const Q=Ke(_,xt,1).getDay();return Ke(_,0,1+(Q<=Zt?Zt:Zt+7)-Q)}(Pt.getFullYear()),cr=Pt.getTime()-sn.getTime();nt=1+Math.round(cr/6048e5)}return Ct(nt,_,Dt(ae,Ve.MinusSign))}}function dn(_,Q=!1){return function(P,ae){return Ct(kn(P).getFullYear(),_,Dt(ae,Ve.MinusSign),Q)}}const nn={};function Xt(_,Q){_=_.replace(/:/g,"");const P=Date.parse("Jan 01, 1970 00:00:00 "+_)/6e4;return isNaN(P)?Q:P}function Pn(_){return _ instanceof Date&&!isNaN(_.valueOf())}const Dn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function on(_,Q,P,ae,nt,Pt,sn=!1){let cr="",Xr=!1;if(isFinite(_)){let oi=function Ki(_){let ae,nt,Pt,sn,cr,Q=Math.abs(_)+"",P=0;for((nt=Q.indexOf("."))>-1&&(Q=Q.replace(".","")),(Pt=Q.search(/e/i))>0?(nt<0&&(nt=Pt),nt+=+Q.slice(Pt+1),Q=Q.substring(0,Pt)):nt<0&&(nt=Q.length),Pt=0;"0"===Q.charAt(Pt);Pt++);if(Pt===(cr=Q.length))ae=[0],nt=1;else{for(cr--;"0"===Q.charAt(cr);)cr--;for(nt-=Pt,ae=[],sn=0;Pt<=cr;Pt++,sn++)ae[sn]=Number(Q.charAt(Pt))}return nt>22&&(ae=ae.splice(0,21),P=nt-1,nt=1),{digits:ae,exponent:P,integerLen:nt}}(_);sn&&(oi=function Yr(_){if(0===_.digits[0])return _;const Q=_.digits.length-_.integerLen;return _.exponent?_.exponent+=2:(0===Q?_.digits.push(0,0):1===Q&&_.digits.push(0),_.integerLen+=2),_}(oi));let gi=Q.minInt,qr=Q.minFrac,vi=Q.maxFrac;if(Pt){const As=Pt.match(Dn);if(null===As)throw new Error(`${Pt} is not a valid digit info`);const ta=As[1],aa=As[3],hs=As[5];null!=ta&&(gi=er(ta)),null!=aa&&(qr=er(aa)),null!=hs?vi=er(hs):null!=aa&&qr>vi&&(vi=qr)}!function mi(_,Q,P){if(Q>P)throw new Error(`The minimum number of digits after fraction (${Q}) is higher than the maximum (${P}).`);let ae=_.digits,nt=ae.length-_.integerLen;const Pt=Math.min(Math.max(Q,nt),P);let sn=Pt+_.integerLen,cr=ae[sn];if(sn>0){ae.splice(Math.max(_.integerLen,sn));for(let qr=sn;qr<ae.length;qr++)ae[qr]=0}else{nt=Math.max(0,nt),_.integerLen=1,ae.length=Math.max(1,sn=Pt+1),ae[0]=0;for(let qr=1;qr<sn;qr++)ae[qr]=0}if(cr>=5)if(sn-1<0){for(let qr=0;qr>sn;qr--)ae.unshift(0),_.integerLen++;ae.unshift(1),_.integerLen++}else ae[sn-1]++;for(;nt<Math.max(0,Pt);nt++)ae.push(0);let Xr=0!==Pt;const oi=Q+_.integerLen,gi=ae.reduceRight(function(qr,vi,ki,si){return si[ki]=(vi+=qr)<10?vi:vi-10,Xr&&(0===si[ki]&&ki>=oi?si.pop():Xr=!1),vi>=10?1:0},0);gi&&(ae.unshift(gi),_.integerLen++)}(oi,qr,vi);let ki=oi.digits,si=oi.integerLen;const fo=oi.exponent;let ds=[];for(Xr=ki.every(As=>!As);si<gi;si++)ki.unshift(0);for(;si<0;si++)ki.unshift(0);si>0?ds=ki.splice(si,ki.length):(ds=ki,ki=[0]);const Us=[];for(ki.length>=Q.lgSize&&Us.unshift(ki.splice(-Q.lgSize,ki.length).join(""));ki.length>Q.gSize;)Us.unshift(ki.splice(-Q.gSize,ki.length).join(""));ki.length&&Us.unshift(ki.join("")),cr=Us.join(Dt(P,ae)),ds.length&&(cr+=Dt(P,nt)+ds.join("")),fo&&(cr+=Dt(P,Ve.Exponential)+"+"+fo)}else cr=Dt(P,Ve.Infinity);return cr=_<0&&!Xr?Q.negPre+cr+Q.negSuf:Q.posPre+cr+Q.posSuf,cr}function ti(_,Q="-"){const P={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ae=_.split(";"),nt=ae[0],Pt=ae[1],sn=-1!==nt.indexOf(".")?nt.split("."):[nt.substring(0,nt.lastIndexOf("0")+1),nt.substring(nt.lastIndexOf("0")+1)],cr=sn[0],Xr=sn[1]||"";P.posPre=cr.substring(0,cr.indexOf("#"));for(let gi=0;gi<Xr.length;gi++){const qr=Xr.charAt(gi);"0"===qr?P.minFrac=P.maxFrac=gi+1:"#"===qr?P.maxFrac=gi+1:P.posSuf+=qr}const oi=cr.split(",");if(P.gSize=oi[1]?oi[1].length:0,P.lgSize=oi[2]||oi[1]?(oi[2]||oi[1]).length:0,Pt){const gi=nt.length-P.posPre.length-P.posSuf.length,qr=Pt.indexOf("#");P.negPre=Pt.substring(0,qr).replace(/'/g,""),P.negSuf=Pt.slice(qr+gi).replace(/'/g,"")}else P.negPre=Q+P.posPre,P.negSuf=P.posSuf;return P}function er(_){const Q=parseInt(_);if(isNaN(Q))throw new Error("Invalid integer literal when parsing "+_);return Q}function rn(_,Q,P){return(0,r.XSP)(_,Q,P)}function En(_,Q){Q=encodeURIComponent(Q);for(const P of _.split(";")){const ae=P.indexOf("="),[nt,Pt]=-1==ae?[P,""]:[P.slice(0,ae),P.slice(ae+1)];if(nt.trim()===Q)return decodeURIComponent(Pt)}return null}const ar=/\s+/,Er=[];let Hr=(()=>{class _{constructor(P,ae){this._ngEl=P,this._renderer=ae,this.initialClasses=Er,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(ar):Er}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(ar):P}ngDoCheck(){for(const ae of this.initialClasses)this._updateState(ae,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const ae of P)this._updateState(ae,!0);else if(null!=P)for(const ae of Object.keys(P))this._updateState(ae,!!P[ae]);this._applyStateDiff()}_updateState(P,ae){const nt=this.stateMap.get(P);void 0!==nt?(nt.enabled!==ae&&(nt.changed=!0,nt.enabled=ae),nt.touched=!0):this.stateMap.set(P,{enabled:ae,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const ae=P[0],nt=P[1];nt.changed?(this._toggleClass(ae,nt.enabled),nt.changed=!1):nt.touched||(nt.enabled&&this._toggleClass(ae,!1),this.stateMap.delete(ae)),nt.touched=!1}}_toggleClass(P,ae){(P=P.trim()).length>0&&P.split(ar).forEach(nt=>{ae?this._renderer.addClass(this._ngEl.nativeElement,nt):this._renderer.removeClass(this._ngEl.nativeElement,nt)})}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.aKT),r.rXU(r.sFG))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return _})(),vr=(()=>{class _{constructor(P){this._viewContainerRef=P,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(P){return void 0!==P.ngComponentOutletNgModule||void 0!==P.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(P){return void 0!==P.ngComponentOutlet||void 0!==P.ngComponentOutletContent||void 0!==P.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(P)}ngOnChanges(P){if(this._needToReCreateComponentInstance(P)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const ae=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(P)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,r.w6W)(this.ngComponentOutletNgModule,Mt(ae)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Mt(ae)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:ae,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const P of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(P,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(P){for(const[ae,nt]of this._inputsUsed)nt?(P.setInput(ae,this.ngComponentOutletInputs[ae]),this._inputsUsed.set(ae,!1)):(P.setInput(ae,void 0),this._inputsUsed.delete(ae))}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.c1b))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[r.OA$]})}return _})();function Mt(_){return _.get(r.Vns).injector}class te{constructor(Q,P,ae,nt){this.$implicit=Q,this.ngForOf=P,this.index=ae,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ze=(()=>{class _{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,ae,nt){this._viewContainer=P,this._template=ae,this._differs=nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const ae=this._viewContainer;P.forEachOperation((nt,Pt,sn)=>{if(null==nt.previousIndex)ae.createEmbeddedView(this._template,new te(nt.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)ae.remove(null===Pt?void 0:Pt);else if(null!==Pt){const cr=ae.get(Pt);ae.move(cr,sn),Yt(cr,nt)}});for(let nt=0,Pt=ae.length;nt<Pt;nt++){const cr=ae.get(nt).context;cr.index=nt,cr.count=Pt,cr.ngForOf=this._ngForOf}P.forEachIdentityChange(nt=>{Yt(ae.get(nt.currentIndex),nt)})}static ngTemplateContextGuard(P,ae){return!0}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(r._q3))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _})();function Yt(_,Q){_.context.$implicit=Q.item}let Kn=(()=>{class _{constructor(P,ae){this._viewContainer=P,this._context=new sr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Pr("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Pr("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,ae){return!0}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.c1b),r.rXU(r.C4Q))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _})();class sr{constructor(){this.$implicit=null,this.ngIf=null}}function Pr(_,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,r.Tbb)(Q)}'.`)}class Sr{constructor(Q,P){this._viewContainerRef=Q,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Ur=(()=>{class _{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews.push(P)}_matchCase(P){const ae=P===this._ngSwitch;return this._lastCasesMatched||=ae,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ae}_updateDefaultCases(P){if(this._defaultViews.length>0&&P!==this._defaultUsed){this._defaultUsed=P;for(const ae of this._defaultViews)ae.enforceState(P)}}static#e=this.\u0275fac=function(ae){return new(ae||_)};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return _})(),ri=(()=>{class _{constructor(P,ae,nt){this.ngSwitch=nt,nt._addCase(),this._view=new Sr(P,ae)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(Ur,9))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return _})(),Ri=(()=>{class _{constructor(P,ae,nt){nt._addDefault(new Sr(P,ae))}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(Ur,9))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return _})(),yo=(()=>{class _{constructor(P,ae,nt){this._ngEl=P,this._differs=ae,this._renderer=nt,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,ae){const[nt,Pt]=P.split("."),sn=-1===nt.indexOf("-")?void 0:r.czy.DashCase;null!=ae?this._renderer.setStyle(this._ngEl.nativeElement,nt,Pt?`${ae}${Pt}`:ae,sn):this._renderer.removeStyle(this._ngEl.nativeElement,nt,sn)}_applyChanges(P){P.forEachRemovedItem(ae=>this._setStyle(ae.key,null)),P.forEachAddedItem(ae=>this._setStyle(ae.key,ae.currentValue)),P.forEachChangedItem(ae=>this._setStyle(ae.key,ae.currentValue))}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.aKT),r.rXU(r.MKu),r.rXU(r.sFG))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return _})(),Fo=(()=>{class _{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(this._shouldRecreateView(P)){const ae=this._viewContainerRef;if(this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const nt=this._createContextForwardProxy();this._viewRef=ae.createEmbeddedView(this.ngTemplateOutlet,nt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(P){return!!P.ngTemplateOutlet||!!P.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(P,ae,nt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ae,nt),get:(P,ae,nt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ae,nt)}})}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.c1b))};static#t=this.\u0275dir=r.FsC({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.OA$]})}return _})();function Se(_,Q){return new r.wOt(2100,!1)}class At{createSubscription(Q,P){return(0,r.O8t)(()=>Q.subscribe({next:P,error:ae=>{throw ae}}))}dispose(Q){(0,r.O8t)(()=>Q.unsubscribe())}}class en{createSubscription(Q,P){return Q.then(P,ae=>{throw ae})}dispose(Q){}}const Sn=new en,ir=new At;let Vr=(()=>{class _{constructor(P){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=P}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(P){if(!this._obj){if(P)try{this.markForCheckOnValueUpdate=!1,this._subscribe(P)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,ae=>this._updateLatestValue(P,ae))}_selectStrategy(P){if((0,r.jNT)(P))return Sn;if((0,r.zjR)(P))return ir;throw Se()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,ae){P===this._obj&&(this._latestValue=ae,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.gRc,16))};static#t=this.\u0275pipe=r.EJ8({name:"async",type:_,pure:!1,standalone:!0})}return _})();const Wr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Gi=(()=>{class _{transform(P){if(null==P)return null;if("string"!=typeof P)throw Se();return P.replace(Wr,ae=>ae[0].toUpperCase()+ae.slice(1).toLowerCase())}static#e=this.\u0275fac=function(ae){return new(ae||_)};static#t=this.\u0275pipe=r.EJ8({name:"titlecase",type:_,pure:!0,standalone:!0})}return _})();const xs=new r.nKC(""),da=new r.nKC("");let Os=(()=>{class _{constructor(P,ae,nt){this.locale=P,this.defaultTimezone=ae,this.defaultOptions=nt}transform(P,ae,nt,Pt){if(null==P||""===P||P!=P)return null;try{return It(P,ae??this.defaultOptions?.dateFormat??"mediumDate",Pt||this.locale,nt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(sn){throw Se()}}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.xe9,16),r.rXU(xs,24),r.rXU(da,24))};static#t=this.\u0275pipe=r.EJ8({name:"date",type:_,pure:!0,standalone:!0})}return _})(),li=(()=>{class _{constructor(P){this._locale=P}transform(P,ae,nt){if(!Hi(P))return null;nt||=this._locale;try{return function Ir(_,Q,P){return on(_,ti(Le(Q,R.Decimal),Dt(Q,Ve.MinusSign)),Q,Ve.Group,Ve.Decimal,P)}(oo(P),nt,ae)}catch(Pt){throw Se()}}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.xe9,16))};static#t=this.\u0275pipe=r.EJ8({name:"number",type:_,pure:!0,standalone:!0})}return _})(),hi=(()=>{class _{constructor(P){this._locale=P}transform(P,ae,nt){if(!Hi(P))return null;nt||=this._locale;try{return function Ar(_,Q,P){return on(_,ti(Le(Q,R.Percent),Dt(Q,Ve.MinusSign)),Q,Ve.Group,Ve.Decimal,P,!0).replace(new RegExp("%","g"),Dt(Q,Ve.PercentSign))}(oo(P),nt,ae)}catch(Pt){throw Se()}}static#e=this.\u0275fac=function(ae){return new(ae||_)(r.rXU(r.xe9,16))};static#t=this.\u0275pipe=r.EJ8({name:"percent",type:_,pure:!0,standalone:!0})}return _})();function Hi(_){return!(null==_||""===_||_!=_)}function oo(_){if("string"==typeof _&&!isNaN(Number(_)-parseFloat(_)))return Number(_);if("number"!=typeof _)throw new Error(`${_} is not a number`);return _}let os=(()=>{class _{static#e=this.\u0275fac=function(ae){return new(ae||_)};static#t=this.\u0275mod=r.$C({type:_});static#n=this.\u0275inj=r.G2t({})}return _})();const es="browser",rs="server";function Ps(_){return _===es}function Oo(_){return _===rs}let gs=(()=>{class _{static#e=this.\u0275prov=(0,r.jDH)({token:_,providedIn:"root",factory:()=>Ps((0,r.WQX)(r.Agw))?new ha((0,r.WQX)(L),window):new Vo})}return _})();class ha{constructor(Q,P){this.document=Q,this.window=P,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Q){this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){const P=function Es(_,Q){const P=_.getElementById(Q)||_.getElementsByName(Q)[0];if(P)return P;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const ae=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let nt=ae.currentNode;for(;nt;){const Pt=nt.shadowRoot;if(Pt){const sn=Pt.getElementById(Q)||Pt.querySelector(`[name="${Q}"]`);if(sn)return sn}nt=ae.nextNode()}}return null}(this.document,Q);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(Q){this.window.history.scrollRestoration=Q}scrollToElement(Q){const P=Q.getBoundingClientRect(),ae=P.left+this.window.pageXOffset,nt=P.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(ae-Pt[0],nt-Pt[1])}}class Vo{setOffset(Q){}getScrollPosition(){return[0,0]}scrollToPosition(Q){}scrollToAnchor(Q){}setHistoryScrollRestoration(Q){}}class Ls{}},21626:(ln,ye,w)=>{"use strict";w.d(ye,{$R:()=>Ot,Lr:()=>A,Nl:()=>Ce,Qq:()=>bt,Sx:()=>Pn});var r=w(28407),y=w(54438),u=w(15877),v=w(2573),x=w(21472),d=w(26758),L=w(14264),F=w(36110),S=w(15152),U=w(32914),O=w(60177);class b{}class M{}class A{constructor(te){this.normalizedNames=new Map,this.lazyUpdate=null,te?"string"==typeof te?this.lazyInit=()=>{this.headers=new Map,te.split("\n").forEach(ze=>{const Yt=ze.indexOf(":");if(Yt>0){const An=ze.slice(0,Yt),Kn=An.toLowerCase(),sr=ze.slice(Yt+1).trim();this.maybeSetNormalizedName(An,Kn),this.headers.has(Kn)?this.headers.get(Kn).push(sr):this.headers.set(Kn,[sr])}})}:typeof Headers<"u"&&te instanceof Headers?(this.headers=new Map,te.forEach((ze,Yt)=>{this.setHeaderEntries(Yt,ze)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(te).forEach(([ze,Yt])=>{this.setHeaderEntries(ze,Yt)})}:this.headers=new Map}has(te){return this.init(),this.headers.has(te.toLowerCase())}get(te){this.init();const ze=this.headers.get(te.toLowerCase());return ze&&ze.length>0?ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(te){return this.init(),this.headers.get(te.toLowerCase())||null}append(te,ze){return this.clone({name:te,value:ze,op:"a"})}set(te,ze){return this.clone({name:te,value:ze,op:"s"})}delete(te,ze){return this.clone({name:te,value:ze,op:"d"})}maybeSetNormalizedName(te,ze){this.normalizedNames.has(ze)||this.normalizedNames.set(ze,te)}init(){this.lazyInit&&(this.lazyInit instanceof A?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(te=>this.applyUpdate(te)),this.lazyUpdate=null))}copyFrom(te){te.init(),Array.from(te.headers.keys()).forEach(ze=>{this.headers.set(ze,te.headers.get(ze)),this.normalizedNames.set(ze,te.normalizedNames.get(ze))})}clone(te){const ze=new A;return ze.lazyInit=this.lazyInit&&this.lazyInit instanceof A?this.lazyInit:this,ze.lazyUpdate=(this.lazyUpdate||[]).concat([te]),ze}applyUpdate(te){const ze=te.name.toLowerCase();switch(te.op){case"a":case"s":let Yt=te.value;if("string"==typeof Yt&&(Yt=[Yt]),0===Yt.length)return;this.maybeSetNormalizedName(te.name,ze);const An=("a"===te.op?this.headers.get(ze):void 0)||[];An.push(...Yt),this.headers.set(ze,An);break;case"d":const Kn=te.value;if(Kn){let sr=this.headers.get(ze);if(!sr)return;sr=sr.filter(Pr=>-1===Kn.indexOf(Pr)),0===sr.length?(this.headers.delete(ze),this.normalizedNames.delete(ze)):this.headers.set(ze,sr)}else this.headers.delete(ze),this.normalizedNames.delete(ze)}}setHeaderEntries(te,ze){const Yt=(Array.isArray(ze)?ze:[ze]).map(Kn=>Kn.toString()),An=te.toLowerCase();this.headers.set(An,Yt),this.maybeSetNormalizedName(te,An)}forEach(te){this.init(),Array.from(this.normalizedNames.keys()).forEach(ze=>te(this.normalizedNames.get(ze),this.headers.get(ze)))}}class z{encodeKey(te){return Re(te)}encodeValue(te){return Re(te)}decodeKey(te){return decodeURIComponent(te)}decodeValue(te){return decodeURIComponent(te)}}const re=/%(\d[a-f0-9])/gi,Z={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Re(Mt){return encodeURIComponent(Mt).replace(re,(te,ze)=>Z[ze]??te)}function oe(Mt){return`${Mt}`}class Ce{constructor(te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=te.encoder||new z,te.fromString){if(te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function X(Mt,te){const ze=new Map;return Mt.length>0&&Mt.replace(/^\?/,"").split("&").forEach(An=>{const Kn=An.indexOf("="),[sr,Pr]=-1==Kn?[te.decodeKey(An),""]:[te.decodeKey(An.slice(0,Kn)),te.decodeValue(An.slice(Kn+1))],Sr=ze.get(sr)||[];Sr.push(Pr),ze.set(sr,Sr)}),ze}(te.fromString,this.encoder)}else te.fromObject?(this.map=new Map,Object.keys(te.fromObject).forEach(ze=>{const Yt=te.fromObject[ze],An=Array.isArray(Yt)?Yt.map(oe):[oe(Yt)];this.map.set(ze,An)})):this.map=null}has(te){return this.init(),this.map.has(te)}get(te){this.init();const ze=this.map.get(te);return ze?ze[0]:null}getAll(te){return this.init(),this.map.get(te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(te,ze){return this.clone({param:te,value:ze,op:"a"})}appendAll(te){const ze=[];return Object.keys(te).forEach(Yt=>{const An=te[Yt];Array.isArray(An)?An.forEach(Kn=>{ze.push({param:Yt,value:Kn,op:"a"})}):ze.push({param:Yt,value:An,op:"a"})}),this.clone(ze)}set(te,ze){return this.clone({param:te,value:ze,op:"s"})}delete(te,ze){return this.clone({param:te,value:ze,op:"d"})}toString(){return this.init(),this.keys().map(te=>{const ze=this.encoder.encodeKey(te);return this.map.get(te).map(Yt=>ze+"="+this.encoder.encodeValue(Yt)).join("&")}).filter(te=>""!==te).join("&")}clone(te){const ze=new Ce({encoder:this.encoder});return ze.cloneFrom=this.cloneFrom||this,ze.updates=(this.updates||[]).concat(te),ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(te=>this.map.set(te,this.cloneFrom.map.get(te))),this.updates.forEach(te=>{switch(te.op){case"a":case"s":const ze=("a"===te.op?this.map.get(te.param):void 0)||[];ze.push(oe(te.value)),this.map.set(te.param,ze);break;case"d":if(void 0===te.value){this.map.delete(te.param);break}{let Yt=this.map.get(te.param)||[];const An=Yt.indexOf(oe(te.value));-1!==An&&Yt.splice(An,1),Yt.length>0?this.map.set(te.param,Yt):this.map.delete(te.param)}}}),this.cloneFrom=this.updates=null)}}class R{constructor(){this.map=new Map}set(te,ze){return this.map.set(te,ze),this}get(te){return this.map.has(te)||this.map.set(te,te.defaultValue()),this.map.get(te)}delete(te){return this.map.delete(te),this}has(te){return this.map.has(te)}keys(){return this.map.keys()}}function $(Mt){return typeof ArrayBuffer<"u"&&Mt instanceof ArrayBuffer}function Fe(Mt){return typeof Blob<"u"&&Mt instanceof Blob}function je(Mt){return typeof FormData<"u"&&Mt instanceof FormData}class lt{constructor(te,ze,Yt,An){let Kn;if(this.url=ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=te.toUpperCase(),function ce(Mt){switch(Mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||An?(this.body=void 0!==Yt?Yt:null,Kn=An):Kn=Yt,Kn&&(this.reportProgress=!!Kn.reportProgress,this.withCredentials=!!Kn.withCredentials,Kn.responseType&&(this.responseType=Kn.responseType),Kn.headers&&(this.headers=Kn.headers),Kn.context&&(this.context=Kn.context),Kn.params&&(this.params=Kn.params),this.transferCache=Kn.transferCache),this.headers??=new A,this.context??=new R,this.params){const sr=this.params.toString();if(0===sr.length)this.urlWithParams=ze;else{const Pr=ze.indexOf("?");this.urlWithParams=ze+(-1===Pr?"?":Pr<ze.length-1?"&":"")+sr}}else this.params=new Ce,this.urlWithParams=ze}serializeBody(){return null===this.body?null:"string"==typeof this.body||$(this.body)||Fe(this.body)||je(this.body)||function Ve(Mt){return typeof URLSearchParams<"u"&&Mt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:Fe(this.body)?this.body.type||null:$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(te={}){const ze=te.method||this.method,Yt=te.url||this.url,An=te.responseType||this.responseType,Kn=te.transferCache??this.transferCache,sr=void 0!==te.body?te.body:this.body,Pr=te.withCredentials??this.withCredentials,Sr=te.reportProgress??this.reportProgress;let Ur=te.headers||this.headers,ri=te.params||this.params;const Ri=te.context??this.context;return void 0!==te.setHeaders&&(Ur=Object.keys(te.setHeaders).reduce((ji,$i)=>ji.set($i,te.setHeaders[$i]),Ur)),te.setParams&&(ri=Object.keys(te.setParams).reduce((ji,$i)=>ji.set($i,te.setParams[$i]),ri)),new lt(ze,Yt,sr,{params:ri,headers:Ur,context:Ri,reportProgress:Sr,responseType:An,withCredentials:Pr,transferCache:Kn})}}var pt=function(Mt){return Mt[Mt.Sent=0]="Sent",Mt[Mt.UploadProgress=1]="UploadProgress",Mt[Mt.ResponseHeader=2]="ResponseHeader",Mt[Mt.DownloadProgress=3]="DownloadProgress",Mt[Mt.Response=4]="Response",Mt[Mt.User=5]="User",Mt}(pt||{});class St{constructor(te,ze=200,Yt="OK"){this.headers=te.headers||new A,this.status=void 0!==te.status?te.status:ze,this.statusText=te.statusText||Yt,this.url=te.url||null,this.ok=this.status>=200&&this.status<300}}class Rn extends St{constructor(te={}){super(te),this.type=pt.ResponseHeader}clone(te={}){return new Rn({headers:te.headers||this.headers,status:void 0!==te.status?te.status:this.status,statusText:te.statusText||this.statusText,url:te.url||this.url||void 0})}}class G extends St{constructor(te={}){super(te),this.type=pt.Response,this.body=void 0!==te.body?te.body:null}clone(te={}){return new G({body:void 0!==te.body?te.body:this.body,headers:te.headers||this.headers,status:void 0!==te.status?te.status:this.status,statusText:te.statusText||this.statusText,url:te.url||this.url||void 0})}}class ee extends St{constructor(te){super(te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${te.url||"(unknown url)"}`:`Http failure response for ${te.url||"(unknown url)"}: ${te.status} ${te.statusText}`,this.error=te.error||null}}function ut(Mt,te){return{body:te,headers:Mt.headers,context:Mt.context,observe:Mt.observe,params:Mt.params,reportProgress:Mt.reportProgress,responseType:Mt.responseType,withCredentials:Mt.withCredentials,transferCache:Mt.transferCache}}let bt=(()=>{class Mt{constructor(ze){this.handler=ze}request(ze,Yt,An={}){let Kn;if(ze instanceof lt)Kn=ze;else{let Sr,Ur;Sr=An.headers instanceof A?An.headers:new A(An.headers),An.params&&(Ur=An.params instanceof Ce?An.params:new Ce({fromObject:An.params})),Kn=new lt(ze,Yt,void 0!==An.body?An.body:null,{headers:Sr,context:An.context,params:Ur,reportProgress:An.reportProgress,responseType:An.responseType||"json",withCredentials:An.withCredentials,transferCache:An.transferCache})}const sr=(0,u.of)(Kn).pipe((0,d.H)(Sr=>this.handler.handle(Sr)));if(ze instanceof lt||"events"===An.observe)return sr;const Pr=sr.pipe((0,L.p)(Sr=>Sr instanceof G));switch(An.observe||"body"){case"body":switch(Kn.responseType){case"arraybuffer":return Pr.pipe((0,F.T)(Sr=>{if(null!==Sr.body&&!(Sr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Sr.body}));case"blob":return Pr.pipe((0,F.T)(Sr=>{if(null!==Sr.body&&!(Sr.body instanceof Blob))throw new Error("Response is not a Blob.");return Sr.body}));case"text":return Pr.pipe((0,F.T)(Sr=>{if(null!==Sr.body&&"string"!=typeof Sr.body)throw new Error("Response is not a string.");return Sr.body}));default:return Pr.pipe((0,F.T)(Sr=>Sr.body))}case"response":return Pr;default:throw new Error(`Unreachable: unhandled observe type ${An.observe}}`)}}delete(ze,Yt={}){return this.request("DELETE",ze,Yt)}get(ze,Yt={}){return this.request("GET",ze,Yt)}head(ze,Yt={}){return this.request("HEAD",ze,Yt)}jsonp(ze,Yt){return this.request("JSONP",ze,{params:(new Ce).append(Yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ze,Yt={}){return this.request("OPTIONS",ze,Yt)}patch(ze,Yt,An={}){return this.request("PATCH",ze,ut(An,Yt))}post(ze,Yt,An={}){return this.request("POST",ze,ut(An,Yt))}put(ze,Yt,An={}){return this.request("PUT",ze,ut(An,Yt))}static#e=this.\u0275fac=function(Yt){return new(Yt||Mt)(y.KVO(b))};static#t=this.\u0275prov=y.jDH({token:Mt,factory:Mt.\u0275fac})}return Mt})();const Dt=/^\)\]\}',?\n/;function Ae(Mt){if(Mt.url)return Mt.url;const te="X-Request-URL".toLocaleLowerCase();return Mt.headers.get(te)}let se=(()=>{class Mt{constructor(){this.fetchImpl=(0,y.WQX)(Me,{optional:!0})?.fetch??((...ze)=>globalThis.fetch(...ze)),this.ngZone=(0,y.WQX)(y.SKi)}handle(ze){return new v.c(Yt=>{const An=new AbortController;return this.doRequest(ze,An.signal,Yt).then(Ee,Kn=>Yt.error(new ee({error:Kn}))),()=>An.abort()})}doRequest(ze,Yt,An){var Kn=this;return(0,r.A)(function*(){const sr=Kn.createRequestInit(ze);let Pr;try{const Yi=Kn.ngZone.runOutsideAngular(()=>Kn.fetchImpl(ze.urlWithParams,{signal:Yt,...sr}));(function C(Mt){Mt.then(Ee,Ee)})(Yi),An.next({type:pt.Sent}),Pr=yield Yi}catch(Yi){return void An.error(new ee({error:Yi,status:Yi.status??0,statusText:Yi.statusText,url:ze.urlWithParams,headers:Yi.headers}))}const Sr=new A(Pr.headers),Ur=Pr.statusText,ri=Ae(Pr)??ze.urlWithParams;let Ri=Pr.status,ji=null;if(ze.reportProgress&&An.next(new Rn({headers:Sr,status:Ri,statusText:Ur,url:ri})),Pr.body){const Yi=Pr.headers.get("content-length"),no=[],yo=Pr.body.getReader();let $t,Se,Fo=0;const At=typeof Zone<"u"&&Zone.current;yield Kn.ngZone.runOutsideAngular((0,r.A)(function*(){for(;;){const{done:Sn,value:ir}=yield yo.read();if(Sn)break;if(no.push(ir),Fo+=ir.length,ze.reportProgress){Se="text"===ze.responseType?(Se??"")+($t??=new TextDecoder).decode(ir,{stream:!0}):void 0;const Vr=()=>An.next({type:pt.DownloadProgress,total:Yi?+Yi:void 0,loaded:Fo,partialText:Se});At?At.run(Vr):Vr()}}}));const en=Kn.concatChunks(no,Fo);try{const Sn=Pr.headers.get("Content-Type")??"";ji=Kn.parseBody(ze,en,Sn)}catch(Sn){return void An.error(new ee({error:Sn,headers:new A(Pr.headers),status:Pr.status,statusText:Pr.statusText,url:Ae(Pr)??ze.urlWithParams}))}}0===Ri&&(Ri=ji?200:0),Ri>=200&&Ri<300?(An.next(new G({body:ji,headers:Sr,status:Ri,statusText:Ur,url:ri})),An.complete()):An.error(new ee({error:ji,headers:Sr,status:Ri,statusText:Ur,url:ri}))})()}parseBody(ze,Yt,An){switch(ze.responseType){case"json":const Kn=(new TextDecoder).decode(Yt).replace(Dt,"");return""===Kn?null:JSON.parse(Kn);case"text":return(new TextDecoder).decode(Yt);case"blob":return new Blob([Yt],{type:An});case"arraybuffer":return Yt.buffer}}createRequestInit(ze){const Yt={},An=ze.withCredentials?"include":void 0;if(ze.headers.forEach((Kn,sr)=>Yt[Kn]=sr.join(",")),ze.headers.has("Accept")||(Yt.Accept="application/json, text/plain, */*"),!ze.headers.has("Content-Type")){const Kn=ze.detectContentTypeHeader();null!==Kn&&(Yt["Content-Type"]=Kn)}return{body:ze.serializeBody(),method:ze.method,headers:Yt,credentials:An}}concatChunks(ze,Yt){const An=new Uint8Array(Yt);let Kn=0;for(const sr of ze)An.set(sr,Kn),Kn+=sr.length;return An}static#e=this.\u0275fac=function(Yt){return new(Yt||Mt)};static#t=this.\u0275prov=y.jDH({token:Mt,factory:Mt.\u0275fac})}return Mt})();class Me{}function Ee(){}function T(Mt,te){return te(Mt)}function J(Mt,te){return(ze,Yt)=>te.intercept(ze,{handle:An=>Mt(An,Yt)})}const ve=new y.nKC(""),ne=new y.nKC(""),p=new y.nKC(""),H=new y.nKC("",{providedIn:"root",factory:()=>!0});function B(){let Mt=null;return(te,ze)=>{null===Mt&&(Mt=((0,y.WQX)(ve,{optional:!0})??[]).reduceRight(J,T));const Yt=(0,y.WQX)(y.TgB);if((0,y.WQX)(H)){const Kn=Yt.add();return Mt(te,ze).pipe((0,S.j)(()=>Yt.remove(Kn)))}return Mt(te,ze)}}let ft=(()=>{class Mt extends b{constructor(ze,Yt){super(),this.backend=ze,this.injector=Yt,this.chain=null,this.pendingTasks=(0,y.WQX)(y.TgB),this.contributeToStability=(0,y.WQX)(H)}handle(ze){if(null===this.chain){const Yt=Array.from(new Set([...this.injector.get(ne),...this.injector.get(p,[])]));this.chain=Yt.reduceRight((An,Kn)=>function W(Mt,te,ze){return(Yt,An)=>(0,y.N4e)(ze,()=>te(Yt,Kn=>Mt(Kn,An)))}(An,Kn,this.injector),T)}if(this.contributeToStability){const Yt=this.pendingTasks.add();return this.chain(ze,An=>this.backend.handle(An)).pipe((0,S.j)(()=>this.pendingTasks.remove(Yt)))}return this.chain(ze,Yt=>this.backend.handle(Yt))}static#e=this.\u0275fac=function(Yt){return new(Yt||Mt)(y.KVO(M),y.KVO(y.uvJ))};static#t=this.\u0275prov=y.jDH({token:Mt,factory:Mt.\u0275fac})}return Mt})();const at=/^\)\]\}',?\n/;let ke=(()=>{class Mt{constructor(ze){this.xhrFactory=ze}handle(ze){if("JSONP"===ze.method)throw new y.wOt(-2800,!1);const Yt=this.xhrFactory;return(Yt.\u0275loadImpl?(0,x.H)(Yt.\u0275loadImpl()):(0,u.of)(null)).pipe((0,U.n)(()=>new v.c(Kn=>{const sr=Yt.build();if(sr.open(ze.method,ze.urlWithParams),ze.withCredentials&&(sr.withCredentials=!0),ze.headers.forEach((no,yo)=>sr.setRequestHeader(no,yo.join(","))),ze.headers.has("Accept")||sr.setRequestHeader("Accept","application/json, text/plain, */*"),!ze.headers.has("Content-Type")){const no=ze.detectContentTypeHeader();null!==no&&sr.setRequestHeader("Content-Type",no)}if(ze.responseType){const no=ze.responseType.toLowerCase();sr.responseType="json"!==no?no:"text"}const Pr=ze.serializeBody();let Sr=null;const Ur=()=>{if(null!==Sr)return Sr;const no=sr.statusText||"OK",yo=new A(sr.getAllResponseHeaders()),Fo=function We(Mt){return"responseURL"in Mt&&Mt.responseURL?Mt.responseURL:/^X-Request-URL:/m.test(Mt.getAllResponseHeaders())?Mt.getResponseHeader("X-Request-URL"):null}(sr)||ze.url;return Sr=new Rn({headers:yo,status:sr.status,statusText:no,url:Fo}),Sr},ri=()=>{let{headers:no,status:yo,statusText:Fo,url:$t}=Ur(),Se=null;204!==yo&&(Se=typeof sr.response>"u"?sr.responseText:sr.response),0===yo&&(yo=Se?200:0);let At=yo>=200&&yo<300;if("json"===ze.responseType&&"string"==typeof Se){const en=Se;Se=Se.replace(at,"");try{Se=""!==Se?JSON.parse(Se):null}catch(Sn){Se=en,At&&(At=!1,Se={error:Sn,text:Se})}}At?(Kn.next(new G({body:Se,headers:no,status:yo,statusText:Fo,url:$t||void 0})),Kn.complete()):Kn.error(new ee({error:Se,headers:no,status:yo,statusText:Fo,url:$t||void 0}))},Ri=no=>{const{url:yo}=Ur(),Fo=new ee({error:no,status:sr.status||0,statusText:sr.statusText||"Unknown Error",url:yo||void 0});Kn.error(Fo)};let ji=!1;const $i=no=>{ji||(Kn.next(Ur()),ji=!0);let yo={type:pt.DownloadProgress,loaded:no.loaded};no.lengthComputable&&(yo.total=no.total),"text"===ze.responseType&&sr.responseText&&(yo.partialText=sr.responseText),Kn.next(yo)},Yi=no=>{let yo={type:pt.UploadProgress,loaded:no.loaded};no.lengthComputable&&(yo.total=no.total),Kn.next(yo)};return sr.addEventListener("load",ri),sr.addEventListener("error",Ri),sr.addEventListener("timeout",Ri),sr.addEventListener("abort",Ri),ze.reportProgress&&(sr.addEventListener("progress",$i),null!==Pr&&sr.upload&&sr.upload.addEventListener("progress",Yi)),sr.send(Pr),Kn.next({type:pt.Sent}),()=>{sr.removeEventListener("error",Ri),sr.removeEventListener("abort",Ri),sr.removeEventListener("load",ri),sr.removeEventListener("timeout",Ri),ze.reportProgress&&(sr.removeEventListener("progress",$i),null!==Pr&&sr.upload&&sr.upload.removeEventListener("progress",Yi)),sr.readyState!==sr.DONE&&sr.abort()}})))}static#e=this.\u0275fac=function(Yt){return new(Yt||Mt)(y.KVO(O.N0))};static#t=this.\u0275prov=y.jDH({token:Mt,factory:Mt.\u0275fac})}return Mt})();const et=new y.nKC(""),Zt=new y.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),kn=new y.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tr{}let dn=(()=>{class Mt{constructor(ze,Yt,An){this.doc=ze,this.platform=Yt,this.cookieName=An,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ze=this.doc.cookie||"";return ze!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(ze,this.cookieName),this.lastCookieString=ze),this.lastToken}static#e=this.\u0275fac=function(Yt){return new(Yt||Mt)(y.KVO(O.qQ),y.KVO(y.Agw),y.KVO(Zt))};static#t=this.\u0275prov=y.jDH({token:Mt,factory:Mt.\u0275fac})}return Mt})();function nn(Mt,te){const ze=Mt.url.toLowerCase();if(!(0,y.WQX)(et)||"GET"===Mt.method||"HEAD"===Mt.method||ze.startsWith("http://")||ze.startsWith("https://"))return te(Mt);const Yt=(0,y.WQX)(tr).getToken(),An=(0,y.WQX)(kn);return null!=Yt&&!Mt.headers.has(An)&&(Mt=Mt.clone({headers:Mt.headers.set(An,Yt)})),te(Mt)}var Xt=function(Mt){return Mt[Mt.Interceptors=0]="Interceptors",Mt[Mt.LegacyInterceptors=1]="LegacyInterceptors",Mt[Mt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mt[Mt.NoXsrfProtection=3]="NoXsrfProtection",Mt[Mt.JsonpSupport=4]="JsonpSupport",Mt[Mt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mt[Mt.Fetch=6]="Fetch",Mt}(Xt||{});function Ot(...Mt){const te=[bt,ke,ft,{provide:b,useExisting:ft},{provide:M,useFactory:()=>(0,y.WQX)(se,{optional:!0})??(0,y.WQX)(ke)},{provide:ne,useValue:nn,multi:!0},{provide:et,useValue:!0},{provide:tr,useClass:dn}];for(const ze of Mt)te.push(...ze.\u0275providers);return(0,y.EmA)(te)}const Bn=new y.nKC("");function Pn(){return function Nn(Mt,te){return{\u0275kind:Mt,\u0275providers:te}}(Xt.LegacyInterceptors,[{provide:Bn,useFactory:B},{provide:ne,useExisting:Bn,multi:!0}])}},50583:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["de",[["AM","PM"],r,r],r,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],r,r],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} 'um' {0}",r],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[r,"\u0440."],CUC:[r,"Cub$"],DEM:["DM"],FKP:[r,"Fl\xa3"],GHS:[r,"\u20b5"],GNF:[r,"F.G."],KMF:[r,"FC"],PHP:[r,"\u20b1"],RON:[r,"L"],RUR:[r,"\u0440."],RWF:[r,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[r,"K"]},"ltr",function y(v){const d=Math.floor(Math.abs(v)),L=v.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===L?1:5}]},37522:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function y(v){const x=v,d=Math.floor(Math.abs(v)),L=v.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(v.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===x?1:0===F&&0!==d&&d%1e6==0&&0===L||!(F>=0&&F<=5)?4:5}]},57078:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["fr",[["AM","PM"],r,r],r,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],r,[["av. J.-C.","ap. J.-C."],r,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",r],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[r,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[r,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[r,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[r,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[r,"\xa5"],KMF:[r,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[r,"$C"],NZD:["$NZ","$"],PHP:[r,"\u20b1"],RHD:["$RH"],RON:[r,"L"],RWF:[r,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[r,"$T"],TTD:["$TT","$"],TWD:[r,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[r,"$"],XPF:["FCFP"],ZMW:[r,"Kw"]},"ltr",function y(v){const d=Math.floor(Math.abs(v)),L=v.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(v.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===d||1===d?1:0===F&&0!==d&&d%1e6==0&&0===L||!(F>=0&&F<=5)?4:5}]},83649:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["it",[["m.","p."],["AM","PM"],r],r,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],r,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],r,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} {0}",r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[r,"R$"],BYN:[r,"Br"],EGP:[r,"\xa3E"],HKD:[r,"$"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NOK:[r,"NKr"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:[r,"$"],VND:[r,"\u20ab"]},"ltr",function y(v){const d=Math.floor(Math.abs(v)),L=v.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(v.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===d&&0===L?1:0===F&&0!==d&&d%1e6==0&&0===L||!(F>=0&&F<=5)?4:5}]},43649:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["ja",[["\u5348\u524d","\u5348\u5f8c"],r,r],r,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],r,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],r],r,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],r],0,[6,0],["y/MM/dd",r,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[r,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[r,"\u20b1"],RON:[r,"\u30ec\u30a4"],XXX:[]},"ltr",function y(v){return 5}]},98138:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["pt",[["AM","PM"],r,r],r,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],r,[["a.C.","d.C."],r,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[r,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[r,"\u20b1"],PTE:["Esc."],RON:[r,"L"],SYP:[r,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function y(v){const d=Math.floor(Math.abs(v)),L=v.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(v.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return d===Math.floor(d)&&d>=0&&d<=1?1:0===F&&0!==d&&d%1e6==0&&0===L||!(F>=0&&F<=5)?4:5}]},29512:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>u});const r=void 0,u=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],r,r],r,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],r,[["\u516c\u5143\u524d","\u516c\u5143"],r,r],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",r,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[r,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[r,"\u20b1"],RUR:[r,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function y(v){return 5}]},54438:(ln,ye,w)=>{"use strict";function r(e,t){return Object.is(e,t)}w.d(ye,{bc$:()=>hm,iLQ:()=>T_,sZ2:()=>eh,hnV:()=>rC,Hbi:()=>ZR,o8S:()=>nd,BIS:()=>nh,gRc:()=>yC,Ql9:()=>bR,OM3:()=>$m,Ocv:()=>MR,abz:()=>Hc,Z63:()=>Br,aKT:()=>zu,uvJ:()=>js,zcH:()=>Na,bkB:()=>ol,duS:()=>jr,y_5:()=>gs,$GK:()=>Wr,nKC:()=>vr,zZn:()=>Oa,_q3:()=>qy,MKu:()=>Jy,xe9:()=>$y,Co$:()=>G0,Vns:()=>_f,SKi:()=>wa,Xx1:()=>ha,Agw:()=>th,PLl:()=>qf,rOR:()=>bd,sFG:()=>Ix,_9s:()=>Cv,czy:()=>cp,WPN:()=>Pc,kdw:()=>Vo,C4Q:()=>Nm,NYb:()=>fR,giA:()=>tC,RxE:()=>W1,c1b:()=>Jg,gXe:()=>ao,mal:()=>a_,Tzd:()=>q0,Af3:()=>Ds,tdH:()=>BT,L39:()=>DI,EWP:()=>II,a0P:()=>NI,Ol2:()=>jv,w6W:()=>TT,oH4:()=>mC,QZP:()=>ZC,SmG:()=>BR,Rfq:()=>dn,WQX:()=>Ui,hFB:()=>Zp,Hps:()=>kv,QuC:()=>Qn,EmA:()=>an,geq:()=>cT,Udg:()=>SI,CGW:()=>Vf,fpN:()=>YR,HJs:()=>LI,N4e:()=>as,vPA:()=>b0,O8t:()=>OI,ebz:()=>oT,dtW:()=>sT,H3F:()=>X1,H8p:()=>ts,KH2:()=>Np,TgB:()=>yu,wOt:()=>B,WHO:()=>J1,e01:()=>eC,lNU:()=>H,h9k:()=>ws,$MX:()=>ih,ZF7:()=>Tu,Kcf:()=>Kc,e5t:()=>ef,UyX:()=>Mu,cWb:()=>Is,osQ:()=>zc,H5H:()=>gy,Zy3:()=>Ie,mq5:()=>qE,JZv:()=>at,LfX:()=>ur,plB:()=>lh,jNT:()=>Gy,zjR:()=>nC,XSP:()=>sD,TL$:()=>um,Tbb:()=>Zt,rcV:()=>Yl,nM4:()=>B0,Vt3:()=>Nv,GFd:()=>j0,OA$:()=>Ia,Jv_:()=>l1,aNF:()=>u1,R7$:()=>kr,BMQ:()=>ey,HbH:()=>PE,ZvI:()=>VE,AVh:()=>ay,vxM:()=>KE,wni:()=>FA,VBU:()=>hn,FsC:()=>st,jDH:()=>Yr,G2t:()=>mi,$C:()=>V,EJ8:()=>Rt,rXU:()=>Pi,nrm:()=>hy,eu8:()=>fy,bVm:()=>g_,qex:()=>m_,k0s:()=>p_,j41:()=>f_,RV6:()=>ZE,xGo:()=>Of,Mr5:()=>py,pXf:()=>mA,nnv:()=>gA,YFu:()=>by,uP7:()=>Ey,k04:()=>_A,PLo:()=>yy,KVO:()=>oo,kS0:()=>ec,QTQ:()=>qi,bIt:()=>Ay,lsd:()=>NA,joV:()=>gh,qSk:()=>Cc,XpG:()=>AA,nI1:()=>D1,bMT:()=>S1,i5U:()=>R1,SdG:()=>wA,NAR:()=>CA,Y8G:()=>iy,lJ4:()=>p1,eq3:()=>m1,l_i:()=>g1,sMw:()=>_1,ziG:()=>v1,s1E:()=>y1,l4e:()=>b1,lV:()=>E1,zJS:()=>A1,NyB:()=>UA,mGM:()=>BA,sdS:()=>VA,Dyx:()=>XE,Z7z:()=>WE,fX1:()=>$E,Vm6:()=>zE,Njj:()=>zs,EBC:()=>Mg,tSv:()=>Tg,eBV:()=>Ss,npT:()=>qu,f$h:()=>Wc,B4B:()=>Fc,n$t:()=>Eg,wjB:()=>d1,Aen:()=>Ru,xc7:()=>sy,Kam:()=>Cy,zvX:()=>my,DNE:()=>Hv,C5r:()=>I1,EFF:()=>YA,JRh:()=>My,SpI:()=>E_,Lme:()=>Dy,SjE:()=>Sy,DH7:()=>o1,mxI:()=>Iy,R50:()=>Ry,GBs:()=>kA,wEZ:()=>LA});let y=null,u=!1,v=1;const x=Symbol("SIGNAL");function d(e){const t=y;return y=e,t}function L(){return y}const U={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(e){if(u)throw new Error("");if(null===y)return;y.consumerOnSignalRead(e);const t=y.nextProducerIndex++;R(y),t<y.producerNode.length&&y.producerNode[t]!==e&&K(y)&&Ce(y.producerNode[t],y.producerIndexOfThis[t]),y.producerNode[t]!==e&&(y.producerNode[t]=e,y.producerIndexOfThis[t]=K(y)?oe(e,y,t):0),y.producerLastReadVersion[t]=e.version}function M(e){if((!K(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==v)){if(!e.producerMustRecompute(e)&&!Z(e))return e.dirty=!1,void(e.lastCleanEpoch=v);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=v}}function A(e){if(void 0===e.liveConsumerNode)return;const t=u;u=!0;try{for(const n of e.liveConsumerNode)n.dirty||z(n)}finally{u=t}}function ue(){return!1!==y?.consumerAllowSignalWrites}function z(e){e.dirty=!0,A(e),e.consumerMarkedDirty?.(e)}function X(e){return e&&(e.nextProducerIndex=0),d(e)}function re(e,t){if(d(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(K(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ce(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Z(e){R(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(M(n),o!==n.version))return!0}return!1}function Re(e){if(R(e),K(e))for(let t=0;t<e.producerNode.length;t++)Ce(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function oe(e,t,n){if(ce(e),0===e.liveConsumerNode.length&&$(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=oe(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ce(e,t){if(ce(e),1===e.liveConsumerNode.length&&$(e))for(let o=0;o<e.producerNode.length;o++)Ce(e.producerNode[o],e.producerIndexOfThis[o]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];R(a),a.producerIndexOfThis[o]=t}}function K(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function R(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ce(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function $(e){return void 0!==e.producerNode}function Fe(e){const t=Object.create(pt);t.computation=e;const n=()=>{if(M(t),O(t),t.value===lt)throw t.error;return t.value};return n[x]=t,n}const je=Symbol("UNSET"),Ve=Symbol("COMPUTING"),lt=Symbol("ERRORED"),pt={...U,value:je,dirty:!0,error:null,equal:r,producerMustRecompute:e=>e.value===je||e.value===Ve,producerRecomputeValue(e){if(e.value===Ve)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Ve;const n=X(e);let o;try{o=e.computation()}catch(a){o=lt,e.error=a}finally{re(e,n)}t!==je&&t!==lt&&o!==lt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Rn=function St(){throw new Error};function G(){Rn()}let De=null;function bt(e,t){ue()||G(),e.equal(e.value,t)||(e.value=t,function se(e){e.version++,function b(){v++}(),A(e),De?.()}(e))}const Ae={...U,equal:r,value:void 0};const Ee=()=>{},C={...U,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Ee};var J=w(29160),W=w(85052),ve=w(81027),ne=w(36110);const H="https://g.co/ng/security#xss";class B extends Error{constructor(t,n){super(Ie(t,n)),this.code=t}}function Ie(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const $e=Symbol("InputSignalNode#UNSET"),ft={...Ae,transformFn:void 0,applyValueToInputSignal(e,t){bt(e,t)}};function Ye(e,t){const n=Object.create(ft);function o(){if(O(n),n.value===$e)throw new B(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,o[x]=n,o}function ct(e){return{toString:e}.toString()}const Ke="__parameters__";function mt(e,t,n){return ct(()=>{const o=function Ct(e){return function(...n){if(e){const o=e(...n);for(const a in o)this[a]=o[a]}}}(t);function a(...g){if(this instanceof a)return o.apply(this,g),this;const I=new a(...g);return ge.annotation=I,ge;function ge(Pe,_t,Bt){const Tn=Pe.hasOwnProperty(Ke)?Pe[Ke]:Object.defineProperty(Pe,Ke,{value:[]})[Ke];for(;Tn.length<=Bt;)Tn.push(null);return(Tn[Bt]=Tn[Bt]||[]).push(I),Pe}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const at=globalThis;function et(e){for(let t in e)if(e[t]===et)return t;throw Error("Could not find renamed property on target object.")}function xt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Zt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Zt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function vn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const tr=et({__forward_ref__:et});function dn(e){return e.__forward_ref__=dn,e.toString=function(){return Zt(this())},e}function nn(e){return Ht(e)?e():e}function Ht(e){return"function"==typeof e&&e.hasOwnProperty(tr)&&e.__forward_ref__===dn}function Bn(e,t,n){e!=t&&function zt(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(n,e,t,"==")}function Yr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mi(e){return{providers:e.providers||[],imports:e.imports||[]}}function er(e){return Ei(e,En)||Ei(e,Er)}function ur(e){return null!==er(e)}function Ei(e,t){return e.hasOwnProperty(t)?e[t]:null}function rn(e){return e&&(e.hasOwnProperty(ar)||e.hasOwnProperty(Hr))?e[ar]:null}const En=et({\u0275prov:et}),ar=et({\u0275inj:et}),Er=et({ngInjectableDef:et}),Hr=et({ngInjectorDef:et});class vr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Yr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ri(e){return e&&!!e.\u0275providers}const Ri=et({\u0275cmp:et}),ji=et({\u0275dir:et}),$i=et({\u0275pipe:et}),Yi=et({\u0275mod:et}),no=et({\u0275fac:et}),yo=et({__NG_ELEMENT_ID__:et}),Fo=et({__NG_ENV_ID__:et});function $t(e){return"string"==typeof e?e:null==e?"":String(e)}function Oi(e,t){throw new B(-201,!1)}var Wr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Wr||{});let Gi;function Ro(){return Gi}function Wo(e){const t=Gi;return Gi=e,t}function xs(e,t,n){const o=er(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Wr.Optional?null:void 0!==t?t:void Oi()}const Lo={},ps="__NG_DI_FLAG__",Xo="ngTempTokenPath",zn=/\n/gm,Nr="__source";let li;function ni(e){const t=li;return li=e,t}function Hi(e,t=Wr.Default){if(void 0===li)throw new B(-203,!1);return null===li?xs(e,void 0,t):li.get(e,t&Wr.Optional?null:void 0,t)}function oo(e,t=Wr.Default){return(Ro()||Hi)(nn(e),t)}function Ui(e,t=Wr.Default){return oo(e,os(t))}function os(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function es(e){const t=[];for(let n=0;n<e.length;n++){const o=nn(e[n]);if(Array.isArray(o)){if(0===o.length)throw new B(900,!1);let a,g=Wr.Default;for(let I=0;I<o.length;I++){const ge=o[I],Pe=Ps(ge);"number"==typeof Pe?-1===Pe?a=ge.token:g|=Pe:a=ge}t.push(oo(a,g))}else t.push(oo(o))}return t}function rs(e,t){return e[ps]=t,e.prototype[ps]=t,e}function Ps(e){return e[ps]}const gs=rs(mt("Inject",e=>({token:e})),-1),ha=rs(mt("Optional"),8),Vo=rs(mt("SkipSelf"),4);function _s(e,t){return e.hasOwnProperty(no)?e[no]:null}function Gn(e,t){e.forEach(n=>Array.isArray(n)?Gn(n,t):t(n))}function Yn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function or(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eo(e,t,n){let o=mn(e,t);return o>=0?e[1|o]=n:(o=~o,function so(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(1===a)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function Wt(e,t){const n=mn(e,t);if(n>=0)return e[1|n]}function mn(e,t){return function fr(e,t,n){let o=0,a=e.length>>n;for(;a!==o;){const g=o+(a-o>>1),I=e[g<<n];if(t===I)return g<<n;I>t?a=g:o=g+1}return~(a<<n)}(e,t,1)}const Tr={},lr=[],Br=new vr(""),jr=new vr("",-1),ui=new vr("");class Jr{get(t,n=Lo){if(n===Lo){const o=new Error(`NullInjectorError: No provider for ${Zt(t)}!`);throw o.name="NullInjectorError",o}return n}}var Wi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wi||{}),ao=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ao||{}),vo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(vo||{});function _o(e,t,n){let o=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const g=t.length;if(a+g===o||e.charCodeAt(a+g)<=32)return a}n=a+1}}function wo(e,t,n){let o=0;for(;o<n.length;){const a=n[o];if("number"==typeof a){if(0!==a)break;o++;const g=n[o++],I=n[o++],ge=n[o++];e.setAttribute(t,I,ge,g)}else{const g=a,I=n[++o];xo(g)?e.setProperty(t,g,I):e.setAttribute(t,g,I),o++}}return o}function Po(e){return 3===e||4===e||6===e}function xo(e){return 64===e.charCodeAt(0)}function Qo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:0===n||tt(e,n,a,null,-1===n||2===n?t[++o]:null)}}return e}function tt(e,t,n,o,a){let g=0,I=e.length;if(-1===t)I=-1;else for(;g<e.length;){const ge=e[g++];if("number"==typeof ge){if(ge===t){I=-1;break}if(ge>t){I=g-1;break}}}for(;g<e.length;){const ge=e[g];if("number"==typeof ge)break;if(ge===n){if(null===o)return void(null!==a&&(e[g+1]=a));if(o===e[g+1])return void(e[g+2]=a)}g++,null!==o&&g++,null!==a&&g++}-1!==I&&(e.splice(I,0,t),g=I+1),e.splice(g++,0,n),null!==o&&e.splice(g++,0,o),null!==a&&e.splice(g++,0,a)}const Qt="ng-template";function He(e,t,n,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==_o(t[a+1].toLowerCase(),n,0))return!0}else if(j(e))return!1;if(a=t.indexOf(1,a),a>-1){let g;for(;++a<t.length&&"string"==typeof(g=t[a]);)if(g.toLowerCase()===n)return!0}return!1}function j(e){return 4===e.type&&e.value!==Qt}function pe(e,t,n){return t===(4!==e.type||n?e.value:Qt)}function k(e,t,n){let o=4;const a=e.attrs,g=null!==a?function Xn(e){for(let t=0;t<e.length;t++)if(Po(e[t]))return t;return e.length}(a):0;let I=!1;for(let ge=0;ge<t.length;ge++){const Pe=t[ge];if("number"!=typeof Pe){if(!I)if(4&o){if(o=2|1&o,""!==Pe&&!pe(e,Pe,n)||""===Pe&&1===t.length){if(le(o))return!1;I=!0}}else if(8&o){if(null===a||!He(e,a,Pe,n)){if(le(o))return!1;I=!0}}else{const _t=t[++ge],Bt=q(Pe,a,j(e),n);if(-1===Bt){if(le(o))return!1;I=!0;continue}if(""!==_t){let Tn;if(Tn=Bt>g?"":a[Bt+1].toLowerCase(),2&o&&_t!==Tn){if(le(o))return!1;I=!0}}}}else{if(!I&&!le(o)&&!le(Pe))return!1;if(I&&le(Pe))continue;I=!1,o=Pe|1&o}}return le(o)||I}function le(e){return!(1&e)}function q(e,t,n,o){if(null===t)return-1;let a=0;if(o||!n){let g=!1;for(;a<t.length;){const I=t[a];if(I===e)return a;if(3===I||6===I)g=!0;else{if(1===I||2===I){let ge=t[++a];for(;"string"==typeof ge;)ge=t[++a];continue}if(4===I)break;if(0===I){a+=4;continue}}a+=g?1:2}return-1}return function gr(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Je(e,t,n=!1){for(let o=0;o<t.length;o++)if(k(e,t[o],n))return!0;return!1}function Xi(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function to(e,t){return e?":not("+t.trim()+")":t}function _i(e){let t=e[0],n=1,o=2,a="",g=!1;for(;n<e.length;){let I=e[n];if("string"==typeof I)if(2&o){const ge=e[++n];a+="["+I+(ge.length>0?'="'+ge+'"':"")+"]"}else 8&o?a+="."+I:4&o&&(a+=" "+I);else""!==a&&!le(I)&&(t+=to(g,a),a=""),o=I,g=g||!le(o);n++}return""!==a&&(t+=to(g,a)),t}function hn(e){return ct(()=>{const t=mr(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ao.Emulated,styles:e.styles||lr,_:null,schemas:e.schemas||null,tView:null,id:""};Or(n);const o=e.dependencies;return n.directiveDefs=xr(o,!1),n.pipeDefs=xr(o,!0),n.id=function Vi(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Nt(e){return Jt(e)||gn(e)}function N(e){return null!==e}function V(e){return ct(()=>({type:e.type,bootstrap:e.bootstrap||lr,declarations:e.declarations||lr,imports:e.imports||lr,exports:e.exports||lr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Oe(e,t){if(null==e)return Tr;const n={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let g,I,ge=vo.None;Array.isArray(a)?(ge=a[0],g=a[1],I=a[2]??g):(g=a,I=a),t?(n[g]=ge!==vo.None?[o,ge]:o,t[g]=I):n[g]=o}return n}function st(e){return ct(()=>{const t=mr(e);return Or(t),t})}function Rt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Jt(e){return e[Ri]||null}function gn(e){return e[ji]||null}function jn(e){return e[$i]||null}function Qn(e){const t=Jt(e)||gn(e)||jn(e);return null!==t&&t.standalone}function yr(e,t){const n=e[Yi]||null;if(!n&&!0===t)throw new Error(`Type ${Zt(e)} does not have '\u0275mod' property.`);return n}function mr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Tr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||lr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Oe(e.inputs,t),outputs:Oe(e.outputs),debugInfo:null}}function Or(e){e.features?.forEach(t=>t(e))}function xr(e,t){if(!e)return null;const n=t?jn:Nt;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(N)}function an(e){return{\u0275providers:e}}function Ln(...e){return{\u0275providers:In(0,e),\u0275fromNgModule:!0}}function In(e,...t){const n=[],o=new Set;let a;const g=I=>{n.push(I)};return Gn(t,I=>{const ge=I;Zr(ge,g,[],o)&&(a||=[],a.push(ge))}),void 0!==a&&rr(a,g),n}function rr(e,t){for(let n=0;n<e.length;n++){const{ngModule:o,providers:a}=e[n];Li(a,g=>{t(g,o)})}}function Zr(e,t,n,o){if(!(e=nn(e)))return!1;let a=null,g=rn(e);const I=!g&&Jt(e);if(g||I){if(I&&!I.standalone)return!1;a=e}else{const Pe=e.ngModule;if(g=rn(Pe),!g)return!1;a=Pe}const ge=o.has(a);if(I){if(ge)return!1;if(o.add(a),I.dependencies){const Pe="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const _t of Pe)Zr(_t,t,n,o)}}else{if(!g)return!1;{if(null!=g.imports&&!ge){let _t;o.add(a);try{Gn(g.imports,Bt=>{Zr(Bt,t,n,o)&&(_t||=[],_t.push(Bt))})}finally{}void 0!==_t&&rr(_t,t)}if(!ge){const _t=_s(a)||(()=>new a);t({provide:a,useFactory:_t,deps:lr},a),t({provide:ui,useValue:a,multi:!0},a),t({provide:Br,useValue:()=>oo(a),multi:!0},a)}const Pe=g.providers;if(null!=Pe&&!ge){const _t=e;Li(Pe,Bt=>{t(Bt,_t)})}}}return a!==e&&void 0!==e.providers}function Li(e,t){for(let n of e)ri(n)&&(n=n.\u0275providers),Array.isArray(n)?Li(n,t):t(n)}const Ii=et({provide:String,useValue:et});function Ti(e){return null!==e&&"object"==typeof e&&Ii in e}function No(e){return"function"==typeof e}const ts=new vr(""),Ms={},Yo={};let jo;function Ea(){return void 0===jo&&(jo=new Jr),jo}class js{}class oa extends js{get destroyed(){return this._destroyed}constructor(t,n,o,a){super(),this.parent=n,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fs(t,I=>this.processProvider(I)),this.records.set(jr,Pa(void 0,this)),a.has("environment")&&this.records.set(js,Pa(void 0,this));const g=this.records.get(ts);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ui,lr,Wr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=d(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),d(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ni(this),o=Wo(void 0);try{return t()}finally{ni(n),Wo(o)}}get(t,n=Lo,o=Wr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Fo))return t[Fo](this);o=os(o);const g=ni(this),I=Wo(void 0);try{if(!(o&Wr.SkipSelf)){let Pe=this.records.get(t);if(void 0===Pe){const _t=function Bo(e){return"function"==typeof e||"object"==typeof e&&e instanceof vr}(t)&&er(t);Pe=_t&&this.injectableDefInScope(_t)?Pa(Sa(t),Ms):null,this.records.set(t,Pe)}if(null!=Pe)return this.hydrate(t,Pe)}return(o&Wr.Self?Ea():this.parent).get(t,n=o&Wr.Optional&&n===Lo?null:n)}catch(ge){if("NullInjectorError"===ge.name){if((ge[Xo]=ge[Xo]||[]).unshift(Zt(t)),g)throw ge;return function Oo(e,t,n,o){const a=e[Xo];throw t[Nr]&&a.unshift(t[Nr]),e.message=function Ts(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Zt(t);if(Array.isArray(t))a=t.map(Zt).join(" -> ");else if("object"==typeof t){let g=[];for(let I in t)if(t.hasOwnProperty(I)){let ge=t[I];g.push(I+":"+("string"==typeof ge?JSON.stringify(ge):Zt(ge)))}a=`{${g.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(zn,"\n  ")}`}("\n"+e.message,a,n,o),e.ngTokenPath=a,e[Xo]=null,e}(ge,t,"R3InjectorError",this.source)}throw ge}finally{Wo(I),ni(g)}}resolveInjectorInitializers(){const t=d(null),n=ni(this),o=Wo(void 0);try{const g=this.get(Br,lr,Wr.Self);for(const I of g)I()}finally{ni(n),Wo(o),d(t)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(Zt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(t){let n=No(t=nn(t))?t:nn(t&&t.provide);const o=function gc(e){return Ti(e)?Pa(void 0,e.useValue):Pa($a(e),Ms)}(t);if(!No(t)&&!0===t.multi){let a=this.records.get(n);a||(a=Pa(void 0,Ms,!0),a.factory=()=>es(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,o)}hydrate(t,n){const o=d(null);try{return n.value===Ms&&(n.value=Yo,n.value=n.factory()),"object"==typeof n.value&&n.value&&function bo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{d(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=nn(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sa(e){const t=er(e),n=null!==t?t.factory:_s(e);if(null!==n)return n;if(e instanceof vr)throw new B(204,!1);if(e instanceof Function)return function Za(e){if(e.length>0)throw new B(204,!1);const n=function Ni(e){return e&&(e[En]||e[Er])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new B(204,!1)}function $a(e,t,n){let o;if(No(e)){const a=nn(e);return _s(a)||Sa(a)}if(Ti(e))o=()=>nn(e.useValue);else if(function Ji(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...es(e.deps||[]));else if(function Ko(e){return!(!e||!e.useExisting)}(e))o=()=>oo(nn(e.useExisting));else{const a=nn(e&&(e.useClass||e.provide));if(!function ro(e){return!!e.deps}(e))return _s(a)||Sa(a);o=()=>new a(...es(e.deps))}return o}function Pa(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Fs(e,t){for(const n of e)Array.isArray(n)?Fs(n,t):n&&ri(n)?Fs(n.\u0275providers,t):t(n)}function as(e,t){e instanceof oa&&e.assertNotDestroyed();const o=ni(e),a=Wo(void 0);try{return t()}finally{ni(o),Wo(a)}}function sa(){return void 0!==Ro()||null!=function hi(){return li}()}function Ds(e){if(!sa())throw new B(-203,!1)}const ki=0,si=1,fo=2,ds=3,Us=4,As=5,ta=6,aa=7,hs=8,Bs=9,ya=10,Go=11,ll=12,uc=13,Aa=14,Ws=15,_c=16,vc=17,ka=18,Bc=19,yn=20,dc=21,Nc=22,va=23,zi=25,Jl=1,hc=7,Ua=9,ma=10;var Ll=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ll||{});function Zo(e){return Array.isArray(e)&&"object"==typeof e[Jl]}function Ma(e){return Array.isArray(e)&&!0===e[Jl]}function tc(e){return!!(4&e.flags)}function Lc(e){return e.componentOffset>-1}function Ho(e){return!(1&~e.flags)}function bc(e){return!!e.template}function nc(e){return!!(512&e[fo])}class Uc{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ra(e,t,n,o){null!==t?t.applyValueToInputSignal(t,o):e[n]=o}function Ia(){return ul}function ul(e){return e.type.prototype.ngOnChanges&&(e.setInput=mc),pc}function pc(){const e=od(this),t=e?.current;if(t){const n=e.previous;if(n===Tr)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function mc(e,t,n,o,a){const g=this.declaredInputs[o],I=od(e)||function sd(e,t){return e[eu]=t}(e,{previous:Tr,current:null}),ge=I.current||(I.current={}),Pe=I.previous,_t=Pe[g];ge[g]=new Uc(_t&&_t.currentValue,n,Pe===Tr),Ra(e,t,a,n)}Ia.ngInherit=!0;const eu="__ngSimpleChanges__";function od(e){return e[eu]||null}const Sc=function(e,t,n){},Pu="svg";function Xs(e){for(;Array.isArray(e);)e=e[ki];return e}function Ca(e,t){return Xs(t[e])}function Va(e,t){return Xs(t[e.index])}function Wa(e,t){return e.data[t]}function Vc(e,t){return e[t]}function ja(e,t){const n=t[e];return Zo(n)?n:n[ki]}function Rc(e){return!(128&~e[fo])}function Ja(e,t){return null==t?null:e[t]}function Cl(e){e[vc]=0}function Bu(e){1024&e[fo]||(e[fo]|=1024,Rc(e)&&Xe(e))}function m(e){return!!(9216&e[fo]||e[va]?.dirty)}function ie(e){e[ya].changeDetectionScheduler?.notify(8),64&e[fo]&&(e[fo]|=1024),m(e)&&Xe(e)}function Xe(e){e[ya].changeDetectionScheduler?.notify(0);let t=un(e);for(;null!==t&&!(8192&t[fo])&&(t[fo]|=8192,Rc(t));)t=un(t)}function gt(e,t){if(!(256&~e[fo]))throw new B(911,!1);null===e[dc]&&(e[dc]=[]),e[dc].push(t)}function un(e){const t=e[ds];return Ma(t)?t[ds]:t}const cn={lFrame:kd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let _r=!1;function Qi(){return cn.bindingsEnabled}function ai(){return null!==cn.skipHydrationRootTNode}function br(){return cn.lFrame.lView}function To(){return cn.lFrame.tView}function Ss(e){return cn.lFrame.contextLView=e,e[hs]}function zs(e){return cn.lFrame.contextLView=null,e}function mo(){let e=ga();for(;null!==e&&64===e.type;)e=e.parent;return e}function ga(){return cn.lFrame.currentTNode}function Qs(){const e=cn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Cs(e,t){const n=cn.lFrame;n.currentTNode=e,n.isParent=t}function cs(){return cn.lFrame.isParent}function Ga(){cn.lFrame.isParent=!1}function Cf(){return _r}function Vl(e){_r=e}function Xa(){const e=cn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xl(){return cn.lFrame.bindingIndex}function Fa(){return cn.lFrame.bindingIndex++}function jl(e){const t=cn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cd(e){cn.lFrame.inI18n=e}function ph(e,t){const n=cn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ac(t)}function Ac(e){cn.lFrame.currentDirectiveIndex=e}function Tl(e){const t=cn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ca(){return cn.lFrame.currentQueryIndex}function Gl(e){cn.lFrame.currentQueryIndex=e}function Ml(e){const t=e[si];return 2===t.type?t.declTNode:1===t.type?e[As]:null}function ld(e,t,n){if(n&Wr.SkipSelf){let a=t,g=e;for(;!(a=a.parent,null!==a||n&Wr.Host||(a=Ml(g),null===a||(g=g[Aa],10&a.type))););if(null===a)return!1;t=a,e=g}const o=cn.lFrame=mh();return o.currentTNode=t,o.lView=e,!0}function Nu(e){const t=mh(),n=e[si];cn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function mh(){const e=cn.lFrame,t=null===e?null:e.child;return null===t?kd(e):t}function kd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Lu(){const e=cn.lFrame;return cn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dl=Lu;function el(){const e=Lu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ba(){return cn.lFrame.selectedIndex}function ls(e){cn.lFrame.selectedIndex=e}function fa(){const e=cn.lFrame;return Wa(e.tView,e.selectedIndex)}function Cc(){cn.lFrame.currentNamespace=Pu}function gh(){!function Tf(){cn.lFrame.currentNamespace=null}()}let Mf=!0;function fl(){return Mf}function pl(e){Mf=e}function Gc(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const g=e.data[n].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:ge,ngAfterViewInit:Pe,ngAfterViewChecked:_t,ngOnDestroy:Bt}=g;I&&(e.contentHooks??=[]).push(-n,I),ge&&((e.contentHooks??=[]).push(n,ge),(e.contentCheckHooks??=[]).push(n,ge)),Pe&&(e.viewHooks??=[]).push(-n,Pe),_t&&((e.viewHooks??=[]).push(n,_t),(e.viewCheckHooks??=[]).push(n,_t)),null!=Bt&&(e.destroyHooks??=[]).push(n,Bt)}}function ud(e,t,n){cu(e,t,3,n)}function Nd(e,t,n,o){(3&e[fo])===n&&cu(e,t,n,o)}function Uu(e,t){let n=e[fo];(3&n)===t&&(n&=16383,n+=1,e[fo]=n)}function cu(e,t,n,o){const g=o??-1,I=t.length-1;let ge=0;for(let Pe=void 0!==o?65535&e[vc]:0;Pe<I;Pe++)if("number"==typeof t[Pe+1]){if(ge=t[Pe],null!=o&&ge>=o)break}else t[Pe]<0&&(e[vc]+=65536),(ge<g||-1==g)&&(Df(e,n,t,Pe),e[vc]=(4294901760&e[vc])+Pe+2),Pe++}function _h(e,t){Sc(4,e,t);const n=d(null);try{t.call(e)}finally{d(n),Sc(5,e,t)}}function Df(e,t,n,o){const a=n[o]<0,g=n[o+1],ge=e[a?-n[o]:n[o]];a?e[fo]>>14<e[vc]>>16&&(3&e[fo])===t&&(e[fo]+=16384,_h(ge,g)):_h(ge,g)}const Vu=-1;class Hl{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}const hd={};class Rl{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=os(o);const a=this.injector.get(t,hd,o);return a!==hd||n===hd?a:this.parentInjector.get(t,n,o)}}function bh(e){return e!==Vu}function lu(e){return 32767&e}function uu(e,t){let n=function Ud(e){return e>>16}(e),o=t;for(;n>0;)o=o[Aa],n--;return o}let du=!0;function fd(e){const t=du;return du=e,t}const Ah=255,Ch=5;let Rf=0;const tl={};function zl(e,t){const n=$l(e,t);if(-1!==n)return n;const o=t[si];o.firstCreatePass&&(e.injectorIndex=t.length,nl(o.data,e),nl(t,null),nl(o.blueprint,null));const a=hu(e,t),g=e.injectorIndex;if(bh(a)){const I=lu(a),ge=uu(a,t),Pe=ge[si].data;for(let _t=0;_t<8;_t++)t[g+_t]=ge[I+_t]|Pe[I+_t]}return t[g+8]=a,g}function nl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $l(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function hu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;null!==a;){if(o=Il(a),null===o)return Vu;if(n++,a=a[Aa],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Vu}function ju(e,t,n){!function Hp(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(yo)&&(o=n[yo]),null==o&&(o=n[yo]=Rf++);const a=o&Ah;t.data[e+(a>>Ch)]|=1<<a}(e,t,n)}function fu(e,t,n){if(n&Wr.Optional||void 0!==e)return e;Oi()}function Jo(e,t,n,o){if(n&Wr.Optional&&void 0===o&&(o=null),!(n&(Wr.Self|Wr.Host))){const a=e[Bs],g=Wo(void 0);try{return a?a.get(t,o,n&Wr.Optional):xs(t,o,n&Wr.Optional)}finally{Wo(g)}}return fu(o,0,n)}function md(e,t,n,o=Wr.Default,a){if(null!==e){if(2048&t[fo]&&!(o&Wr.Self)){const I=function Mh(e,t,n,o,a){let g=e,I=t;for(;null!==g&&null!==I&&2048&I[fo]&&!(512&I[fo]);){const ge=Vd(g,I,n,o|Wr.Self,tl);if(ge!==tl)return ge;let Pe=g.parent;if(!Pe){const _t=I[yn];if(_t){const Bt=_t.get(n,tl,o);if(Bt!==tl)return Bt}Pe=Il(I),I=I[Aa]}g=Pe}return a}(e,t,n,o,tl);if(I!==tl)return I}const g=Vd(e,t,n,o,tl);if(g!==tl)return g}return Jo(t,n,o,a)}function Vd(e,t,n,o,a){const g=function If(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(yo)?e[yo]:void 0;return"number"==typeof t?t>=0?t&Ah:xh:t}(n);if("function"==typeof g){if(!ld(t,e,o))return o&Wr.Host?fu(a,0,o):Jo(t,n,o,a);try{let I;if(I=g(o),null!=I||o&Wr.Optional)return I;Oi()}finally{dl()}}else if("number"==typeof g){let I=null,ge=$l(e,t),Pe=Vu,_t=o&Wr.Host?t[Ws][As]:null;for((-1===ge||o&Wr.SkipSelf)&&(Pe=-1===ge?hu(e,t):t[ge+8],Pe!==Vu&&wh(o,!1)?(I=t[si],ge=lu(Pe),t=uu(Pe,t)):ge=-1);-1!==ge;){const Bt=t[si];if(ic(g,ge,Bt.data)){const Tn=pu(ge,t,n,I,o,_t);if(Tn!==tl)return Tn}Pe=t[ge+8],Pe!==Vu&&wh(o,t[si].data[ge+8]===_t)&&ic(g,ge,t)?(I=Bt,ge=lu(Pe),t=uu(Pe,t)):ge=-1}}return a}function pu(e,t,n,o,a,g){const I=t[si],ge=I.data[e+8],Bt=jd(ge,I,n,null==o?Lc(ge)&&du:o!=I&&!!(3&ge.type),a&Wr.Host&&g===ge);return null!==Bt?Wl(t,I,Bt,ge):tl}function jd(e,t,n,o,a){const g=e.providerIndexes,I=t.data,ge=1048575&g,Pe=e.directiveStart,Bt=g>>20,qn=a?ge+Bt:e.directiveEnd;for(let dr=o?ge:ge+Bt;dr<qn;dr++){const Rr=I[dr];if(dr<Pe&&n===Rr||dr>=Pe&&Rr.type===n)return dr}if(a){const dr=I[Pe];if(dr&&bc(dr)&&dr.type===n)return Pe}return null}function Wl(e,t,n,o){let a=e[n];const g=t.data;if(function Dl(e){return e instanceof Hl}(a)){const I=a;I.resolving&&function Sn(e,t){throw t&&t.join(" > "),new B(-200,e)}(function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$t(e)}(g[n]));const ge=fd(I.canSeeViewProviders);I.resolving=!0;const _t=I.injectImpl?Wo(I.injectImpl):null;ld(e,o,Wr.Default);try{a=e[n]=I.factory(void 0,g,e,o),t.firstCreatePass&&n>=o.directiveStart&&function Ic(e,t,n){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:g}=t.type.prototype;if(o){const I=ul(t);(n.preOrderHooks??=[]).push(e,I),(n.preOrderCheckHooks??=[]).push(e,I)}a&&(n.preOrderHooks??=[]).push(0-e,a),g&&((n.preOrderHooks??=[]).push(e,g),(n.preOrderCheckHooks??=[]).push(e,g))}(n,g[n],t)}finally{null!==_t&&Wo(_t),fd(ge),I.resolving=!1,dl()}}return a}function ic(e,t,n){return!!(n[t+(e>>Ch)]&1<<e)}function wh(e,t){return!(e&Wr.Self||e&Wr.Host&&t)}class Qa{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return md(this._tNode,this._lView,t,os(o),n)}}function xh(){return new Qa(mo(),br())}function Of(e){return ct(()=>{const t=e.prototype.constructor,n=t[no]||Th(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const g=a[no]||Th(a);if(g&&g!==n)return g;a=Object.getPrototypeOf(a)}return g=>new g})}function Th(e){return Ht(e)?()=>{const t=Th(nn(e));return t&&t()}:_s(e)}function Il(e){const t=e[si],n=t.type;return 2===n?t.declTNode:1===n?e[As]:null}function ec(e){return function pd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let a=0;for(;a<o;){const g=n[a];if(Po(g))break;if(0===g)a+=2;else if("number"==typeof g)for(a++;a<o&&"string"==typeof n[a];)a++;else{if(g===t)return n[a+1];a+=2}}}return null}(mo(),e)}function _d(e,t=null,n=null,o){const a=vd(e,t,n,o);return a.resolveInjectorInitializers(),a}function vd(e,t=null,n=null,o,a=new Set){const g=[n||lr,Ln(e)];return o=o||("object"==typeof e?void 0:Zt(e)),new oa(g,t||Ea(),o||null,a)}class Oa{static#e=this.THROW_IF_NOT_FOUND=Lo;static#t=this.NULL=new Jr;static create(t,n){if(Array.isArray(t))return _d({name:""},n,t,"");{const o=t.name??"";return _d({name:o},t.parent,t.providers,o)}}static#n=this.\u0275prov=Yr({token:Oa,providedIn:"any",factory:()=>oo(jr)});static#s=this.__NG_ELEMENT_ID__=-1}new vr("").__NG_ELEMENT_ID__=e=>{const t=mo();if(null===t)throw new B(204,!1);if(2&t.type)return t.value;if(e&Wr.Optional)return null;throw new B(204,!1)};function yd(e){return e.ngOriginalError}const il=!0;let Hc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Hd;static#t=this.__NG_ENV_ID__=n=>n}return e})();class Kp extends Hc{constructor(t){super(),this._lView=t}onDestroy(t){return gt(this._lView,t),()=>function Kt(e,t){if(null===e[dc])return;const n=e[dc].indexOf(t);-1!==n&&e[dc].splice(n,1)}(this._lView,t)}}function Hd(){return new Kp(br())}let yu=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Yr({token:e,providedIn:"root",factory:()=>new e})}return e})();const ol=class Kd extends W.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,sa()&&(this.destroyRef=Ui(Hc,{optional:!0})??void 0,this.pendingTasks=Ui(yu,{optional:!0})??void 0)}emit(t){const n=d(null);try{super.next(t)}finally{d(n)}}subscribe(t,n,o){let a=t,g=n||(()=>null),I=o;if(t&&"object"==typeof t){const Pe=t;a=Pe.next?.bind(Pe),g=Pe.error?.bind(Pe),I=Pe.complete?.bind(Pe)}this.__isAsync&&(g=this.wrapInTimeout(g),a&&(a=this.wrapInTimeout(a)),I&&(I=this.wrapInTimeout(I)));const ge=super.subscribe({next:a,error:g,complete:I});return t instanceof ve.yU&&t.add(ge),ge}wrapInTimeout(t){return n=>{const o=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==o&&this.pendingTasks?.remove(o)})}}};function zd(...e){}function bu(e){let t,n;function o(){e=zd;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Bf(e){return queueMicrotask(()=>e()),()=>{e=zd}}const Fh="isAngularZone",$d=Fh+"_ID";let $p=0;class wa{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ol(!1),this.onMicrotaskEmpty=new ol(!1),this.onStable=new ol(!1),this.onError=new ol(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:g=il}=t;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();const I=this;I._nesting=0,I._outer=I._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(I._inner=I._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(I._inner=I._inner.fork(Zone.longStackTraceZoneSpec)),I.shouldCoalesceEventChangeDetection=!a&&o,I.shouldCoalesceRunChangeDetection=a,I.callbackScheduled=!1,I.scheduleInRootZone=g,function Wp(e){const t=()=>{!function kh(e){function t(){bu(()=>{e.callbackScheduled=!1,Au(e),e.isCheckStableRunning=!0,Eu(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Au(e))}(e)},n=$p++;e._inner=e._inner.fork({name:"angular",properties:{[Fh]:!0,[$d]:n,[$d+n]:!0},onInvokeTask:(o,a,g,I,ge,Pe)=>{if(function Lf(e){return Xd(e,"__ignore_ng_zone__")}(Pe))return o.invokeTask(g,I,ge,Pe);try{return Cu(e),o.invokeTask(g,I,ge,Pe)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||e.shouldCoalesceRunChangeDetection)&&t(),Wd(e)}},onInvoke:(o,a,g,I,ge,Pe,_t)=>{try{return Cu(e),o.invoke(g,I,ge,Pe,_t)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Ol(e){return Xd(e,"__scheduler_tick__")}(Pe)&&t(),Wd(e)}},onHasTask:(o,a,g,I)=>{o.hasTask(g,I),a===g&&("microTask"==I.change?(e._hasPendingMicrotasks=I.microTask,Au(e),Eu(e)):"macroTask"==I.change&&(e.hasPendingMacrotasks=I.macroTask))},onHandleError:(o,a,g,I)=>(o.handleError(g,I),e.runOutsideAngular(()=>e.onError.emit(I)),!1)})}(I)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Fh)}static assertInAngularZone(){if(!wa.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(wa.isInAngularZone())throw new B(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,a){const g=this._inner,I=g.scheduleEventTask("NgZoneEvent: "+a,t,Nf,zd,zd);try{return g.runTask(I,n,o)}finally{g.cancelTask(I)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const Nf={};function Eu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Au(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Cu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wd(e){e._nesting--,Eu(e)}class Hu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ol,this.onMicrotaskEmpty=new ol,this.onStable=new ol,this.onError=new ol}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,a){return t.apply(n,o)}}function Xd(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Na{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&yd(t);for(;n&&yd(n);)n=yd(n);return n||null}}const Ku=new vr("",{providedIn:"root",factory:()=>{const e=Ui(wa),t=Ui(Na);return n=>e.runOutsideAngular(()=>t.handleError(n))}});class Uf{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Ui(Na,{optional:!0}),this.destroyRef=Ui(Hc),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new B(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{const n=this.listeners?.indexOf(t);void 0!==n&&-1!==n&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed)throw new B(953,!1);if(null===this.listeners)return;const n=d(null);try{for(const o of this.listeners)try{o(t)}catch(a){this.errorHandler?.handleError(a)}}finally{d(n)}}}function Vf(e){return new Uf}function jf(e,t){return Ye(e,t)}const Zp=(jf.required=function Yp(e){return Ye($e,e)},jf);function qp(){return Ql(mo(),br())}function Ql(e,t){return new zu(Va(e,t))}let zu=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=qp}return e})();function Bh(e){return e instanceof zu?e.nativeElement:e}function Gf(){return this._results[Symbol.iterator]()}class bd{static#e=Symbol.iterator;get changes(){return this._changes??=new ol}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=bd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Gf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const o=function us(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ea(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],g=t[o];if(n&&(a=n(a),g=n(g)),g!==a)return!1}return!0}(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Wu(e){return!(128&~e.flags)}const Lh=new Map;let Hf=0;function Uh(e){Lh.delete(e[Bc])}const Qu="__ngContext__";function oc(e,t){Zo(t)?(e[Qu]=t[Bc],function tm(e){Lh.set(e[Bc],e)}(t)):e[Qu]=t}function Kh(e){return $h(e[ll])}function zh(e){return $h(e[Us])}function $h(e){for(;null!==e&&!Ma(e);)e=e[Us];return e}let Jh;function um(e){Jh=e}function gl(){if(void 0!==Jh)return Jh;if(typeof document<"u")return document;throw new B(210,!1)}const eh=new vr("",{providedIn:"root",factory:()=>dm}),dm="ng",qf=new vr(""),th=new vr("",{providedIn:"platform",factory:()=>"unknown"}),hm=new vr(""),nh=new vr("",{providedIn:"root",factory:()=>gl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Fn=()=>null;function hr(e,t,n=!1){return Fn(e,t,n)}const Ya=new vr("",{providedIn:"root",factory:()=>!1});let ba,Fl;function _l(e){return function Zs(){if(void 0===ba&&(ba=null,at.trustedTypes))try{ba=at.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ba}()?.createHTML(e)||e}function vl(){if(void 0===Fl&&(Fl=null,at.trustedTypes))try{Fl=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Fl}function xa(e){return vl()?.createHTML(e)||e}function Td(e){return vl()?.createScriptURL(e)||e}class sl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${H})`}}class Ka extends sl{getTypeName(){return"HTML"}}class Oc extends sl{getTypeName(){return"Style"}}class Jf extends sl{getTypeName(){return"Script"}}class ep extends sl{getTypeName(){return"URL"}}class tp extends sl{getTypeName(){return"ResourceURL"}}function Yl(e){return e instanceof sl?e.changingThisBreaksApplicationSecurity:e}function Tu(e,t){const n=function np(e){return e instanceof sl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${H})`)}return n===t}function Kc(e){return new Ka(e)}function Is(e){return new Oc(e)}function Mu(e){return new Jf(e)}function zc(e){return new ep(e)}function ef(e){return new tp(e)}function tf(e){const t=new rp(e);return function nf(){try{return!!(new window.DOMParser).parseFromString(_l(""),"text/html")}catch{return!1}}()?new ia(t):t}class ia{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(_l(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class rp{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=_l(t),n}}const Md=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ih(e){return(e=String(e)).match(Md)?e:"unsafe:"+e}function Zl(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Du(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const rf=Zl("area,br,col,hr,img,wbr"),sf=Zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dd=Zl("rp,rt"),Zu=Du(rf,Du(sf,Zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Du(Dd,Zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Du(Dd,sf)),oh=Zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=Du(oh,Zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ip=Zl("script,style,template");class Rd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0,a=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)a.push(n),n=ym(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let g=vm(n);if(g){n=g;break}n=a.pop()}return this.buf.join("")}startElement(t){const n=Mr(t).toLowerCase();if(!Zu.hasOwnProperty(n))return this.sanitizedSomething=!0,!ip.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let a=0;a<o.length;a++){const g=o.item(a),I=g.name,ge=I.toLowerCase();if(!Sd.hasOwnProperty(ge)){this.sanitizedSomething=!0;continue}let Pe=g.value;oh[ge]&&(Pe=ih(Pe)),this.buf.push(" ",I,'="',Ta(Pe),'"')}return this.buf.push(">"),!0}endElement(t){const n=Mr(t).toLowerCase();Zu.hasOwnProperty(n)&&!rf.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Ta(t))}}function vm(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw co(t);return t}function ym(e){const t=e.firstChild;if(t&&function _m(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw co(t);return t}function Mr(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function co(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const pa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hs=/([^\#-~ |!])/g;function Ta(e){return e.replace(/&/g,"&amp;").replace(pa,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Hs,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qs;function ws(e,t){let n=null;try{qs=qs||tf(e);let o=t?String(t):"";n=qs.getInertBodyElement(o);let a=5,g=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=g,g=n.innerHTML,n=qs.getInertBodyElement(o)}while(o!==g);return _l((new Rd).sanitizeChildren(La(n)||n))}finally{if(n){const o=La(n)||n;for(;o.firstChild;)o.firstChild.remove()}}}function La(e){return"content"in e&&function al(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pc||{});function qu(e){const t=cf();return t?xa(t.sanitize(Pc.HTML,e)||""):Tu(e,"HTML")?xa(Yl(e)):ws(gl(),$t(e))}function Fc(e){const t=cf();return t?t.sanitize(Pc.URL,e)||"":Tu(e,"URL")?Yl(e):ih($t(e))}function Wc(e){const t=cf();if(t)return Td(t.sanitize(Pc.RESOURCE_URL,e)||"");if(Tu(e,"ResourceURL"))return Td(Yl(e));throw new B(904,!1)}function Eg(e,t,n){return function V_(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Wc:Fc}(t,n)(e)}function cf(){const e=br();return e&&e[ya].sanitizer}const j_=/^>|^->|<!--|-->|--!>|<!-$/g,G_=/(<|>)/g,H_="\u200b$1\u200b";function Tg(e){return e.ownerDocument.defaultView}function Mg(e){return e.ownerDocument}function yl(e){return e instanceof Function?e():e}function Xc(e){return"browser"===(e??Ui(Oa)).get(th)}var cp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(cp||{});let kc;function lf(e,t){return kc(e,t)}function ch(e,t,n,o,a){if(null!=o){let g,I=!1;Ma(o)?g=o:Zo(o)&&(I=!0,o=o[ki]);const ge=Xs(o);0===e&&null!==n?null==a?Pg(t,n,ge):Id(t,n,ge,a||null,!0):1===e&&null!==n?Id(t,n,ge,a||null,!0):2===e?ff(t,ge,I):3===e&&t.destroyNode(ge),null!=g&&function me(e,t,n,o,a){const g=n[hc];g!==Xs(n)&&ch(t,e,o,g,a);for(let ge=ma;ge<n.length;ge++){const Pe=n[ge];hp(Pe[si],Pe,e,t,o,g)}}(t,e,g,n,a)}}function wm(e,t){return e.createText(t)}function Rg(e,t,n){e.setValue(t,n)}function uf(e,t){return e.createComment(function bm(e){return e.replace(j_,t=>t.replace(G_,H_))}(t))}function lp(e,t,n){return e.createElement(t,n)}function Ig(e,t){t[ya].changeDetectionScheduler?.notify(9),hp(e,t,t[Go],2,null,null)}function Tm(e,t){const n=e[Ua],o=t[ds];(Zo(o)||t[Ws]!==o[ds][Ws])&&(e[fo]|=Ll.HasTransplantedViews),null===n?e[Ua]=[t]:n.push(t)}function Mm(e,t){const n=e[Ua],o=n.indexOf(t);n.splice(o,1)}function df(e,t){if(e.length<=ma)return;const n=ma+t,o=e[n];if(o){const a=o[_c];null!==a&&a!==e&&Mm(a,o),t>0&&(e[n-1][Us]=o[Us]);const g=or(e,ma+t);!function xm(e,t){Ig(e,t),t[ki]=null,t[As]=null}(o[si],o);const I=g[ka];null!==I&&I.detachView(g[si]),o[ds]=null,o[Us]=null,o[fo]&=-129}return o}function up(e,t){if(!(256&t[fo])){const n=t[Go];n.destroyNode&&hp(e,t,n,3,null,null),function ev(e){let t=e[ll];if(!t)return hf(e[si],e);for(;t;){let n=null;if(Zo(t))n=t[ll];else{const o=t[ma];o&&(n=o)}if(!n){for(;t&&!t[Us]&&t!==e;)Zo(t)&&hf(t[si],t),t=t[ds];null===t&&(t=e),Zo(t)&&hf(t[si],t),n=t&&t[Us]}t=n}}(t)}}function hf(e,t){if(256&t[fo])return;const n=d(null);try{t[fo]&=-129,t[fo]|=256,t[va]&&Re(t[va]),function nv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const a=t[n[o]];if(!(a instanceof Hl)){const g=n[o+1];if(Array.isArray(g))for(let I=0;I<g.length;I+=2){const ge=a[g[I]],Pe=g[I+1];Sc(4,ge,Pe);try{Pe.call(ge)}finally{Sc(5,ge,Pe)}}else{Sc(4,a,g);try{g.call(a)}finally{Sc(5,a,g)}}}}}(e,t),function Dm(e,t){const n=e.cleanup,o=t[aa];if(null!==n)for(let g=0;g<n.length-1;g+=2)if("string"==typeof n[g]){const I=n[g+3];I>=0?o[I]():o[-I].unsubscribe(),g+=2}else n[g].call(o[n[g+1]]);null!==o&&(t[aa]=null);const a=t[dc];if(null!==a){t[dc]=null;for(let g=0;g<a.length;g++)(0,a[g])()}}(e,t),1===t[si].type&&t[Go].destroy();const o=t[_c];if(null!==o&&Ma(t[ds])){o!==t[ds]&&Mm(o,t);const a=t[ka];null!==a&&a.detachView(e)}Uh(t)}finally{d(n)}}function Sm(e,t,n){return Og(e,t.parent,n)}function Og(e,t,n){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return n[ki];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:g}=e.data[o.directiveStart+a];if(g===ao.None||g===ao.Emulated)return null}return Va(o,n)}}function Id(e,t,n,o,a){e.insertBefore(t,n,o,a)}function Pg(e,t,n){e.appendChild(t,n)}function Fg(e,t,n,o,a){null!==o?Id(e,t,n,o,a):Pg(e,t,n)}function Rm(e,t){return e.parentNode(t)}function kg(e,t,n){return Ng(e,t,n)}function Bg(e,t,n){return 40&e.type?Va(e,n):null}let Im,Ng=Bg;function Lg(e,t){Ng=e,Im=t}function dp(e,t,n,o){const a=Sm(e,o,t),g=t[Go],ge=kg(o.parent||t[As],o,t);if(null!=a)if(Array.isArray(n))for(let Pe=0;Pe<n.length;Pe++)Fg(g,a,n[Pe],ge,!1);else Fg(g,a,n,ge,!1);void 0!==Im&&Im(g,o,t,n,a)}function Od(e,t){if(null!==t){const n=t.type;if(3&n)return Va(t,e);if(4&n)return Om(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return Od(e,o);{const a=e[t.index];return Ma(a)?Om(-1,a):Xs(a)}}if(128&n)return Od(e,t.next);if(32&n)return lf(t,e)()||Xs(e[t.index]);{const o=Ug(e,t);return null!==o?Array.isArray(o)?o[0]:Od(un(e[Ws]),o):Od(e,t.next)}}return null}function Ug(e,t){return null!==t?e[Ws][As].projection[t.projection]:null}function Om(e,t){const n=ma+e+1;if(n<t.length){const o=t[n],a=o[si].firstChild;if(null!==a)return Od(o,a)}return t[hc]}function ff(e,t,n){e.removeChild(null,t,n)}function Pm(e,t,n,o,a,g,I){for(;null!=n;){if(128===n.type){n=n.next;continue}const ge=o[n.index],Pe=n.type;if(I&&0===t&&(ge&&oc(Xs(ge),o),n.flags|=2),32&~n.flags)if(8&Pe)Pm(e,t,n.child,o,a,g,!1),ch(t,e,a,ge,g);else if(32&Pe){const _t=lf(n,o);let Bt;for(;Bt=_t();)ch(t,e,a,Bt,g);ch(t,e,a,ge,g)}else 16&Pe?E(e,t,o,n,a,g):ch(t,e,a,ge,g);n=I?n.projectionNext:n.next}}function hp(e,t,n,o,a,g){Pm(n,o,e.firstChild,t,a,g,!1)}function E(e,t,n,o,a,g){const I=n[Ws],Pe=I[As].projection[o.projection];if(Array.isArray(Pe))for(let _t=0;_t<Pe.length;_t++)ch(t,e,a,Pe[_t],g);else{let _t=Pe;const Bt=I[ds];Wu(o)&&(_t.flags|=128),Pm(e,t,_t,Bt,a,g,!0)}}function On(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nr(e,t,n){const{mergedAttrs:o,classes:a,styles:g}=n;null!==o&&wo(e,t,o),null!==a&&On(e,t,a),null!==g&&function qt(e,t,n){e.setAttribute(t,"style",n)}(e,t,g)}const Zn={};function kr(e=1){Bi(To(),br(),Ba()+e,!1)}function Bi(e,t,n,o){if(!o)if(3&~t[fo]){const g=e.preOrderHooks;null!==g&&Nd(t,g,0,n)}else{const g=e.preOrderCheckHooks;null!==g&&ud(t,g,n)}ls(n)}function Pi(e,t=Wr.Default){const n=br();return null===n?oo(e,t):md(mo(),n,nn(e),t)}function qi(){throw new Error("invalid")}function Mo(e,t,n,o,a,g){const I=d(null);try{let ge=null;a&vo.SignalBased&&(ge=t[o][x]),null!==ge&&void 0!==ge.transformFn&&(g=ge.transformFn(g)),a&vo.HasDecoratorInputTransform&&(g=e.inputTransforms[o].call(t,g)),null!==e.setInput?e.setInput(t,ge,g,n,o):Ra(t,ge,o,g)}finally{d(I)}}function is(e,t,n,o,a,g,I,ge,Pe,_t,Bt){const Tn=t.blueprint.slice();return Tn[ki]=a,Tn[fo]=204|o,(null!==_t||e&&2048&e[fo])&&(Tn[fo]|=2048),Cl(Tn),Tn[ds]=Tn[Aa]=e,Tn[hs]=n,Tn[ya]=I||e&&e[ya],Tn[Go]=ge||e&&e[Go],Tn[Bs]=Pe||e&&e[Bs]||null,Tn[As]=g,Tn[Bc]=function em(){return Hf++}(),Tn[ta]=Bt,Tn[yn]=_t,Tn[Ws]=2==t.type?e[Ws]:Tn,Tn}function ys(e,t,n,o,a){let g=e.data[t];if(null===g)g=ss(e,t,n,o,a),function Ec(){return cn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=n,g.value=o,g.attrs=a;const I=Qs();g.injectorIndex=null===I?-1:I.injectorIndex}return Cs(g,!0),g}function ss(e,t,n,o,a){const g=ga(),I=cs(),Pe=e.data[t]=function rw(e,t,n,o,a,g){let I=t?t.injectorIndex:-1,ge=0;return ai()&&(ge|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ge,providerIndexes:0,value:a,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?g:g&&g.parent,n,t,o,a);return null===e.firstChild&&(e.firstChild=Pe),null!==g&&(I?null==g.child&&null!==Pe.parent&&(g.child=Pe):null===g.next&&(g.next=Pe,Pe.prev=g)),Pe}function Vs(e,t,n,o){if(0===n)return-1;const a=t.length;for(let g=0;g<n;g++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function Js(e,t,n,o,a){const g=Ba(),I=2&o;try{ls(-1),I&&t.length>zi&&Bi(e,t,zi,!1),Sc(I?2:0,a),n(o,a)}finally{ls(g),Sc(I?3:1,a)}}function Qc(e,t,n){if(tc(t)){const o=d(null);try{const g=t.directiveEnd;for(let I=t.directiveStart;I<g;I++){const ge=e.data[I];ge.contentQueries&&ge.contentQueries(1,n[I],I)}}finally{d(o)}}}function xc(e,t,n){Qi()&&(function uw(e,t,n,o){const a=n.directiveStart,g=n.directiveEnd;Lc(n)&&function _w(e,t,n){const o=Va(t,e),a=za(n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const ge=Gg(e,is(e,a,null,I,o,t,null,e[ya].rendererFactory.createRenderer(o,n),null,null,null));e[t.index]=ge}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||zl(n,t),oc(o,t);const I=n.initialInputs;for(let ge=a;ge<g;ge++){const Pe=e.data[ge],_t=Wl(t,e,ge,n);oc(_t,t),null!==I&&vw(0,ge-a,_t,Pe,0,I),bc(Pe)&&(ja(n.index,t)[hs]=Wl(t,e,ge,n))}}(e,t,n,Va(n,t)),!(64&~n.flags)&&_b(e,t,n))}function Yc(e,t,n=Va){const o=t.localNames;if(null!==o){let a=t.index+1;for(let g=0;g<o.length;g+=2){const I=o[g+1],ge=-1===I?n(t,e):e[I];e[a++]=ge}}}function za(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function bl(e,t,n,o,a,g,I,ge,Pe,_t,Bt){const Tn=zi+o,qn=Tn+a,dr=function Su(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Zn);return n}(Tn,qn),Rr="function"==typeof _t?_t():_t;return dr[si]={type:e,blueprint:dr,template:n,queries:null,viewQuery:ge,declTNode:t,data:dr.slice().fill(null,Tn),bindingStartIndex:Tn,expandoStartIndex:qn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:Pe,consts:Rr,incompleteFirstPass:!1,ssrId:Bt}}let fb=()=>null;function pb(e,t,n,o,a){for(let g in t){if(!t.hasOwnProperty(g))continue;const I=t[g];if(void 0===I)continue;o??={};let ge,Pe=vo.None;Array.isArray(I)?(ge=I[0],Pe=I[1]):ge=I;let _t=g;if(null!==a){if(!a.hasOwnProperty(g))continue;_t=a[g]}0===e?mb(o,n,_t,ge,Pe):mb(o,n,_t,ge)}return o}function mb(e,t,n,o,a){let g;e.hasOwnProperty(n)?(g=e[n]).push(t,o):g=e[n]=[t,o],void 0!==a&&g.push(a)}function kl(e,t,n,o,a,g,I,ge){const Pe=Va(t,n);let Bt,_t=t.inputs;!ge&&null!=_t&&(Bt=_t[o])?(cv(e,n,Bt,o,a),Lc(t)&&function sw(e,t){const n=ja(t,e);16&n[fo]||(n[fo]|=64)}(n,t.index)):3&t.type&&(o=function ow(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=I?I(a,t.value||"",o):a,g.setProperty(Pe,o,a))}function iv(e,t,n,o){if(Qi()){const a=null===o?null:{"":-1},g=function hw(e,t){const n=e.directiveRegistry;let o=null,a=null;if(n)for(let g=0;g<n.length;g++){const I=n[g];if(Je(t,I.selectors,!1))if(o||(o=[]),bc(I))if(null!==I.findHostDirectiveDefs){const ge=[];a=a||new Map,I.findHostDirectiveDefs(I,ge,a),o.unshift(...ge,I),ov(e,t,ge.length)}else o.unshift(I),ov(e,t,0);else a=a||new Map,I.findHostDirectiveDefs?.(I,o,a),o.push(I)}return null===o?null:[o,a]}(e,n);let I,ge;null===g?I=ge=null:[I,ge]=g,null!==I&&gb(e,t,n,I,a,ge),a&&function fw(e,t,n){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const g=n[t[a+1]];if(null==g)throw new B(-301,!1);o.push(t[a],g)}}}(n,o,a)}n.mergedAttrs=Qo(n.mergedAttrs,n.attrs)}function gb(e,t,n,o,a,g){for(let _t=0;_t<o.length;_t++)ju(zl(n,t),e,o[_t].type);!function mw(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let _t=0;_t<o.length;_t++){const Bt=o[_t];Bt.providersResolver&&Bt.providersResolver(Bt)}let I=!1,ge=!1,Pe=Vs(e,t,o.length,null);for(let _t=0;_t<o.length;_t++){const Bt=o[_t];n.mergedAttrs=Qo(n.mergedAttrs,Bt.hostAttrs),gw(e,n,t,Pe,Bt),pw(Pe,Bt,a),null!==Bt.contentQueries&&(n.flags|=4),(null!==Bt.hostBindings||null!==Bt.hostAttrs||0!==Bt.hostVars)&&(n.flags|=64);const Tn=Bt.type.prototype;!I&&(Tn.ngOnChanges||Tn.ngOnInit||Tn.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),I=!0),!ge&&(Tn.ngOnChanges||Tn.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),ge=!0),Pe++}!function iw(e,t,n){const a=t.directiveEnd,g=e.data,I=t.attrs,ge=[];let Pe=null,_t=null;for(let Bt=t.directiveStart;Bt<a;Bt++){const Tn=g[Bt],qn=n?n.get(Tn):null,Rr=qn?qn.outputs:null;Pe=pb(0,Tn.inputs,Bt,Pe,qn?qn.inputs:null),_t=pb(1,Tn.outputs,Bt,_t,Rr);const Mi=null===Pe||null===I||j(t)?null:yw(Pe,Bt,I);ge.push(Mi)}null!==Pe&&(Pe.hasOwnProperty("class")&&(t.flags|=8),Pe.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=ge,t.inputs=Pe,t.outputs=_t}(e,n,g)}function _b(e,t,n){const o=n.directiveStart,a=n.directiveEnd,g=n.index,I=function xf(){return cn.lFrame.currentDirectiveIndex}();try{ls(g);for(let ge=o;ge<a;ge++){const Pe=e.data[ge],_t=t[ge];Ac(ge),(null!==Pe.hostBindings||0!==Pe.hostVars||null!==Pe.hostAttrs)&&dw(Pe,_t)}}finally{ls(-1),Ac(I)}}function dw(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ov(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function pw(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;bc(t)&&(n[""]=e)}}function gw(e,t,n,o,a){e.data[o]=a;const g=a.factory||(a.factory=_s(a.type)),I=new Hl(g,bc(a),Pi);e.blueprint[o]=I,n[o]=I,function cw(e,t,n,o,a){const g=a.hostBindings;if(g){let I=e.hostBindingOpCodes;null===I&&(I=e.hostBindingOpCodes=[]);const ge=~t.index;(function lw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(I)!=ge&&I.push(ge),I.push(n,o,g)}}(e,t,o,Vs(e,n,a.hostVars,Zn),a)}function sv(e,t,n,o,a,g,I){if(null==g)e.removeAttribute(t,a,n);else{const ge=null==I?$t(g):I(g,o||"",a);e.setAttribute(t,a,ge,n)}}function vw(e,t,n,o,a,g){const I=g[t];if(null!==I)for(let ge=0;ge<I.length;)Mo(o,n,I[ge++],I[ge++],I[ge++],I[ge++])}function yw(e,t,n){let o=null,a=0;for(;a<n.length;){const g=n[a];if(0!==g)if(5!==g){if("number"==typeof g)break;if(e.hasOwnProperty(g)){null===o&&(o=[]);const I=e[g];for(let ge=0;ge<I.length;ge+=3)if(I[ge]===t){o.push(g,I[ge+1],I[ge+2],n[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function vb(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function yb(e,t){const n=e.contentQueries;if(null!==n){const o=d(null);try{for(let a=0;a<n.length;a+=2){const I=n[a+1];if(-1!==I){const ge=e.data[I];Gl(n[a]),ge.contentQueries(2,t[I],I)}}}finally{d(o)}}}function Gg(e,t){return e[ll]?e[uc][Us]=t:e[ll]=t,e[uc]=t,t}function av(e,t,n){Gl(0);const o=d(null);try{t(e,n)}finally{d(o)}}function bb(e){return e[aa]??=[]}function Eb(e){return e.cleanup??=[]}function Ab(e,t,n){return(null===e||bc(e))&&(n=function Fu(e){for(;Array.isArray(e);){if("object"==typeof e[Jl])return e;e=e[ki]}return null}(n[t.index])),n[Go]}function Hg(e,t){const n=e[Bs],o=n?n.get(Na,null):null;o&&o.handleError(t)}function cv(e,t,n,o,a){for(let g=0;g<n.length;){const I=n[g++],ge=n[g++],Pe=n[g++];Mo(e.data[I],t[I],o,ge,Pe,a)}}function Pd(e,t,n){const o=Ca(t,e);Rg(e[Go],o,n)}function bw(e,t){const n=ja(t,e),o=n[si];!function Ew(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n);const a=n[ki];null!==a&&null===n[ta]&&(n[ta]=hr(a,n[Bs])),lv(o,n,n[hs])}function lv(e,t,n){Nu(t);try{const o=e.viewQuery;null!==o&&av(1,o,n);const a=e.template;null!==a&&Js(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ka]?.finishViewCreation(e),e.staticContentQueries&&yb(e,t),e.staticViewQueries&&av(2,e.viewQuery,n);const g=e.components;null!==g&&function Aw(e,t){for(let n=0;n<t.length;n++)bw(e,t[n])}(t,g)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[fo]&=-5,el()}}function fp(e,t,n,o){const a=d(null);try{const g=t.tView,Pe=is(e,g,n,4096&e[fo]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);Pe[_c]=e[t.index];const Bt=e[ka];return null!==Bt&&(Pe[ka]=Bt.createEmbeddedView(g)),lv(g,Pe,n),Pe}finally{d(a)}}function Cb(e,t){const n=ma+t;if(n<e.length)return e[n]}function pf(e,t){return!t||null===t.firstChild||Wu(e)}function pp(e,t,n,o=!0){const a=t[si];if(function tv(e,t,n,o){const a=ma+o,g=n.length;o>0&&(n[a-1][Us]=t),o<g-ma?(t[Us]=n[a],Yn(n,ma+o,t)):(n.push(t),t[Us]=null),t[ds]=n;const I=t[_c];null!==I&&n!==I&&Tm(I,t);const ge=t[ka];null!==ge&&ge.insertView(e),ie(t),t[fo]|=128}(a,t,e,n),o){const I=Om(n,e),ge=t[Go],Pe=Rm(ge,e[hc]);null!==Pe&&function J_(e,t,n,o,a,g){o[ki]=a,o[As]=t,hp(e,o,n,1,a,g)}(a,e[As],ge,t,Pe,I)}const g=t[ta];null!==g&&null!==g.firstChild&&(g.firstChild=null)}function uv(e,t){const n=df(e,t);return void 0!==n&&up(n[si],n),n}function Fm(e,t,n,o,a=!1){for(;null!==n;){if(128===n.type){n=a?n.projectionNext:n.next;continue}const g=t[n.index];null!==g&&o.push(Xs(g)),Ma(g)&&wb(g,o);const I=n.type;if(8&I)Fm(e,t,n.child,o);else if(32&I){const ge=lf(n,t);let Pe;for(;Pe=ge();)o.push(Pe)}else if(16&I){const ge=Ug(t,n);if(Array.isArray(ge))o.push(...ge);else{const Pe=un(t[Ws]);Fm(Pe[si],Pe,ge,o,!0)}}n=a?n.projectionNext:n.next}return o}function wb(e,t){for(let n=ma;n<e.length;n++){const o=e[n],a=o[si].firstChild;null!==a&&Fm(o[si],o,a,t)}e[hc]!==e[ki]&&t.push(e[hc])}let xb=[];const Tw={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Xe(e.lView)},consumerOnSignalRead(){this.lView[va]=this}},Dw={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=un(e.lView);for(;t&&!Tb(t[si]);)t=un(t);t&&Bu(t)},consumerOnSignalRead(){this.lView[va]=this}};function Tb(e){return 2!==e.type}const Sw=100;function Kg(e,t=!0,n=0){const o=e[ya],a=o.rendererFactory;a.begin?.();try{!function Rw(e,t){const n=Cf();try{Vl(!0),dv(e,t);let o=0;for(;m(e);){if(o===Sw)throw new B(103,!1);o++,dv(e,1)}}finally{Vl(n)}}(e,n)}catch(I){throw t&&Hg(e,I),I}finally{a.end?.(),o.inlineEffectRunner?.flush()}}function Iw(e,t,n,o){const a=t[fo];if(!(256&~a))return;t[ya].inlineEffectRunner?.flush(),Nu(t);let ge=!0,Pe=null,_t=null;Tb(e)?(_t=function Cw(e){return e[va]??function ww(e){const t=xb.pop()??Object.create(Tw);return t.lView=e,t}(e)}(t),Pe=X(_t)):null===L()?(ge=!1,_t=function Mw(e){const t=e[va]??Object.create(Dw);return t.lView=e,t}(t),Pe=X(_t)):t[va]&&(Re(t[va]),t[va]=null);try{Cl(t),function wf(e){return cn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Js(e,t,n,2,o);const Bt=!(3&~a);if(Bt){const dr=e.preOrderCheckHooks;null!==dr&&ud(t,dr,null)}else{const dr=e.preOrderHooks;null!==dr&&Nd(t,dr,0,null),Uu(t,0)}if(function Ow(e){for(let t=Kh(e);null!==t;t=zh(t)){if(!(t[fo]&Ll.HasTransplantedViews))continue;const n=t[Ua];for(let o=0;o<n.length;o++)Bu(n[o])}}(t),Db(t,0),null!==e.contentQueries&&yb(e,t),Bt){const dr=e.contentCheckHooks;null!==dr&&ud(t,dr)}else{const dr=e.contentHooks;null!==dr&&Nd(t,dr,1),Uu(t,1)}!function zo(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)ls(~a);else{const g=a,I=n[++o],ge=n[++o];ph(I,g),ge(2,t[g])}}}finally{ls(-1)}}(e,t);const Tn=e.components;null!==Tn&&Rb(t,Tn,0);const qn=e.viewQuery;if(null!==qn&&av(2,qn,o),Bt){const dr=e.viewCheckHooks;null!==dr&&ud(t,dr)}else{const dr=e.viewHooks;null!==dr&&Nd(t,dr,2),Uu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Nc]){for(const dr of t[Nc])dr();t[Nc]=null}t[fo]&=-73}catch(Bt){throw Xe(t),Bt}finally{null!==_t&&(re(_t,Pe),ge&&function xw(e){e.lView[va]!==e&&(e.lView=null,xb.push(e))}(_t)),el()}}function Db(e,t){for(let n=Kh(e);null!==n;n=zh(n))for(let o=ma;o<n.length;o++)Sb(n[o],t)}function Pw(e,t,n){Sb(ja(t,e),n)}function Sb(e,t){Rc(e)&&dv(e,t)}function dv(e,t){const o=e[si],a=e[fo],g=e[va];let I=!!(0===t&&16&a);if(I||=!!(64&a&&0===t),I||=!!(1024&a),I||=!(!g?.dirty||!Z(g)),I||=!1,g&&(g.dirty=!1),e[fo]&=-9217,I)Iw(o,e,o.template,e[hs]);else if(8192&a){Db(e,1);const ge=o.components;null!==ge&&Rb(e,ge,1)}}function Rb(e,t,n){for(let o=0;o<t.length;o++)Pw(e,t[o],n)}function km(e,t){const n=Cf()?64:1088;for(e[ya].changeDetectionScheduler?.notify(t);e;){e[fo]|=n;const o=un(e);if(nc(e)&&!o)return e;e=o}return null}class Bm{get rootNodes(){const t=this._lView,n=t[si];return Fm(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hs]}set context(t){this._lView[hs]=t}get destroyed(){return!(256&~this._lView[fo])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ds];if(Ma(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(df(t,o),or(n,o))}this._attachedToViewContainer=!1}up(this._lView[si],this._lView)}onDestroy(t){gt(this._lView,t)}markForCheck(){km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fo]&=-129}reattach(){ie(this._lView),this._lView[fo]|=128}detectChanges(){this._lView[fo]|=1024,Kg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=nc(this._lView),n=this._lView[_c];null!==n&&!t&&Mm(n,this._lView),Ig(this._lView[si],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=t;const n=nc(this._lView),o=this._lView[_c];null!==o&&!n&&Tm(o,this._lView),ie(this._lView)}}let Nm=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Bw}return e})();const Fw=Nm,kw=class extends Fw{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){const a=fp(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new Bm(a)}};function Bw(){return zg(mo(),br())}function zg(e,t){return 4&e.type?new kw(t,e,Ql(e,t)):null}function Pb(e,t,n){const o=t.insertBeforeIndex,a=Array.isArray(o)?o[0]:o;return null===a?Bg(e,0,n):Xs(n[a])}function Fb(e,t,n,o,a){const g=t.insertBeforeIndex;if(Array.isArray(g)){let I=o,ge=null;if(3&t.type||(ge=I,I=a),null!==I&&-1===t.componentOffset)for(let Pe=1;Pe<g.length;Pe++)Id(e,I,n[g[Pe]],ge,!1)}}function kb(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];Bb(o)||zw(o,t)&&null===$w(o)&&Ww(o,t.index)}}function Bb(e){return!(64&e.type)}function zw(e,t){return Bb(t)||e.index>t.index}function $w(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Ww(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Lg(Pb,Fb),e.insertBeforeIndex=t)}function jm(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Yw(e,t,n){const o=ss(e,n,64,null,null);return kb(t,o),o}function Wg(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Nb(e){return e>>>17}function Lb(e){return(131070&e)>>>1}function mv(e,t,n){e.index=0;const o=Wg(t,n);e.removes=null!==o?t.remove[o]:lr}function Xg(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),mv(e,e.lView[si].data[~t],e.lView),Xg(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),Xg(e))}function qw(){const e={stack:[],index:-1};return function t(n,o){for(e.lView=o;e.stack.length;)e.stack.pop();return mv(e,n.value,o),Xg.bind(null,e)}}let $b=()=>{},Xb=()=>{},Zb=()=>null;function gf(e,t){return Zb(e,t)}class gp{}const zm=new vr("",{providedIn:"root",factory:()=>!1}),qb=new vr(""),Av=new vr("");class Dx{}class Jb{}class Rx{resolveComponentFactory(t){throw function Sx(e){const t=Error(`No component factory found for ${Zt(e)}.`);return t.ngComponent=e,t}(t)}}class $m{static#e=this.NULL=new Rx}class Cv{}let Ix=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ox(){const e=br(),n=ja(mo().index,e);return(Zo(n)?n:e)[Go]}()}return e})(),Px=(()=>{class e{static#e=this.\u0275prov=Yr({token:e,providedIn:"root",factory:()=>null})}return e})();function lh(e){return!!yr(e)}function qg(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,g=0;if(null!==t)for(let I=0;I<t.length;I++){const ge=t[I];"number"==typeof ge?g=ge:1==g?a=vn(a,ge):2==g&&(o=vn(o,ge+": "+t[++I]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}class r0 extends $m{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Jt(t);return new Qm(n,this.ngModule)}}function o0(e,t){const n=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const g=Array.isArray(a),I=g?a[0]:a;n.push(t?{propName:I,templateName:o,isSignal:!!((g?a[1]:vo.None)&vo.SignalBased)}:{propName:I,templateName:o})}return n}class Qm extends Jb{get inputs(){const t=this.componentDef,n=t.inputTransforms,o=o0(t.inputs,!0);if(null!==n)for(const a of o)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return o}get outputs(){return o0(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Qr(e){return e.map(_i).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,a){const g=d(null);try{let I=(a=a||this.ngModule)instanceof js?a:a?.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const ge=I?new Rl(t,I):t,Pe=ge.get(Cv,null);if(null===Pe)throw new B(407,!1);const Tn={rendererFactory:Pe,sanitizer:ge.get(Px,null),inlineEffectRunner:null,changeDetectionScheduler:ge.get(gp,null)},qn=Pe.createRenderer(null,this.componentDef),dr=this.componentDef.selectors[0][0]||"div",Rr=o?function jg(e,t,n,o){const g=o.get(Ya,!1)||n===ao.ShadowDom,I=e.selectRootElement(t,g);return function JC(e){fb(e)}(I),I}(qn,o,this.componentDef.encapsulation,ge):lp(qn,dr,function Bx(e){const t=e.toLowerCase();return"svg"===t?Pu:"math"===t?"math":null}(dr));let Mi=512;this.componentDef.signals?Mi|=4096:this.componentDef.onPush||(Mi|=16);let lo=null;null!==Rr&&(lo=hr(Rr,ge,!0));const go=bl(0,null,null,1,0,null,null,null,null,null,null),Ci=is(null,go,null,Mi,null,null,Tn,qn,ge,null,lo);Nu(Ci);let bs,ua,Da=null;try{const lc=this.componentDef;let Nl,Vp=null;lc.findHostDirectiveDefs?(Nl=[],Vp=new Map,lc.findHostDirectiveDefs(lc,Nl,Vp),Nl.push(lc)):Nl=[lc];const qC=function Lx(e,t){const n=e[si],o=zi;return e[o]=t,ys(n,o,2,"#host",null)}(Ci,Rr);Da=function Ux(e,t,n,o,a,g,I){const ge=a[si];!function Vx(e,t,n,o){for(const a of e)t.mergedAttrs=Qo(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(qg(t,t.mergedAttrs,!0),null!==n&&nr(o,n,t))}(o,e,t,I);let Pe=null;null!==t&&(Pe=hr(t,a[Bs]));const _t=g.rendererFactory.createRenderer(t,n);let Bt=16;n.signals?Bt=4096:n.onPush&&(Bt=64);const Tn=is(a,za(n),null,Bt,a[e.index],e,g,_t,null,null,Pe);return ge.firstCreatePass&&ov(ge,e,o.length-1),Gg(a,Tn),a[e.index]=Tn}(qC,Rr,lc,Nl,Ci,Tn,qn),ua=Wa(go,zi),Rr&&function Gx(e,t,n,o){if(o)wo(e,n,["ng-version","18.2.12"]);else{const{attrs:a,classes:g}=function ot(e){const t=[],n=[];let o=1,a=2;for(;o<e.length;){let g=e[o];if("string"==typeof g)2===a?""!==g&&t.push(g,e[++o]):8===a&&n.push(g);else{if(!le(a))break;a=g}o++}return{attrs:t,classes:n}}(t.selectors[0]);a&&wo(e,n,a),g&&g.length>0&&On(e,n,g.join(" "))}}(qn,lc,Rr,o),void 0!==n&&function Hx(e,t,n){const o=e.projection=[];for(let a=0;a<t.length;a++){const g=n[a];o.push(null!=g?Array.from(g):null)}}(ua,this.ngContentSelectors,n),bs=function jx(e,t,n,o,a,g){const I=mo(),ge=a[si],Pe=Va(I,a);gb(ge,a,I,n,null,o);for(let Bt=0;Bt<n.length;Bt++)oc(Wl(a,ge,I.directiveStart+Bt,I),a);_b(ge,a,I),Pe&&oc(Pe,a);const _t=Wl(a,ge,I.directiveStart+I.componentOffset,I);if(e[hs]=a[hs]=_t,null!==g)for(const Bt of g)Bt(_t,t);return Qc(ge,I,a),_t}(Da,lc,Nl,Vp,Ci,[Kx]),lv(go,Ci,null)}catch(lc){throw null!==Da&&Uh(Da),Uh(Ci),lc}finally{el()}return new Nx(this.componentType,bs,Ql(ua,Ci),Ci,ua)}finally{d(g)}}}class Nx extends Dx{constructor(t,n,o,a,g){super(),this.location=o,this._rootLView=a,this._tNode=g,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Bm(a,void 0,!1),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const g=this._rootLView;cv(g[si],g,a,t,n),this.previousInputValues.set(t,n),km(ja(this._tNode.index,g),1)}}get injector(){return new Qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Kx(){const e=mo();Gc(br()[si],e)}let Jg=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=zx}return e})();function zx(){return c0(mo(),br())}const $x=Jg,s0=class extends $x{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new Qa(this._hostTNode,this._hostLView)}get parentInjector(){const t=hu(this._hostTNode,this._hostLView);if(bh(t)){const n=uu(t,this._hostLView),o=lu(t);return new Qa(n[si].data[o+8],n)}return new Qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=a0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ma}createEmbeddedView(t,n,o){let a,g;"number"==typeof o?a=o:null!=o&&(a=o.index,g=o.injector);const I=gf(this._lContainer,t.ssrId),ge=t.createEmbeddedViewImpl(n||{},g,I);return this.insertImpl(ge,a,pf(this._hostTNode,I)),ge}createComponent(t,n,o,a,g){const I=t&&!function nt(e){return"function"==typeof e}(t);let ge;if(I)ge=n;else{const Rr=n||{};ge=Rr.index,o=Rr.injector,a=Rr.projectableNodes,g=Rr.environmentInjector||Rr.ngModuleRef}const Pe=I?t:new Qm(Jt(t)),_t=o||this.parentInjector;if(!g&&null==Pe.ngModule){const Mi=(I?_t:this.parentInjector).get(js,null);Mi&&(g=Mi)}const Bt=Jt(Pe.componentType??{}),Tn=gf(this._lContainer,Bt?.id??null),dr=Pe.create(_t,a,Tn?.firstChild??null,g);return this.insertImpl(dr.hostView,ge,pf(this._hostTNode,Tn)),dr}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){const a=t._lView;if(function qa(e){return Ma(e[ds])}(a)){const ge=this.indexOf(t);if(-1!==ge)this.detach(ge);else{const Pe=a[ds],_t=new s0(Pe,Pe[As],Pe[ds]);_t.detach(_t.indexOf(t))}}const g=this._adjustIndex(n),I=this._lContainer;return pp(I,a,g,o),t.attachToViewContainerRef(),Yn(Tv(I),g,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=a0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=df(this._lContainer,n);o&&(or(Tv(this._lContainer),n),up(o[si],o))}detach(t){const n=this._adjustIndex(t,-1),o=df(this._lContainer,n);return o&&null!=or(Tv(this._lContainer),n)?new Bm(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function a0(e){return e[8]}function Tv(e){return e[8]||(e[8]=[])}function c0(e,t){let n;const o=t[e.index];return Ma(o)?n=o:(n=vb(o,t,null,e),t[e.index]=n,Gg(t,n)),l0(n,t,e,o),new s0(n,e,t)}let l0=function d0(e,t,n,o){if(e[hc])return;let a;a=8&n.type?Xs(o):function Wx(e,t){const n=e[Go],o=n.createComment(""),a=Va(t,e);return Id(n,Rm(n,a),o,function rv(e,t){return e.nextSibling(t)}(n,a),!1),o}(t,n),e[hc]=a},Mv=()=>!1;class Dv{constructor(t){this.queryList=t,this.matches=null}clone(){return new Dv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let g=0;g<o;g++){const I=n.getByIndex(g);a.push(this.queries[I.indexInDeclarationView].clone())}return new Sv(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Fv(t,n).matches&&this.queries[n].setDirty()}}class h0{constructor(t,n,o=null){this.flags=n,this.read=o,this.predicate="string"==typeof t?function tT(e){return e.split(",").map(t=>t.trim())}(t):t}}class Rv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const a=null!==n?n.length:0,g=this.getByIndex(o).embeddedTView(t,a);g&&(g.indexInDeclarationView=o,null!==n?n.push(g):n=[g])}return null!==n?new Rv(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Iv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Iv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const g=o[a];this.matchTNodeWithReadOption(t,n,Zx(n,g)),this.matchTNodeWithReadOption(t,n,jd(n,t,g,!1,!1))}else o===Nm?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,jd(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===zu||a===Jg||a===Nm&&4&n.type)this.addMatch(n.index,-2);else{const g=jd(n,t,a,!1,!1);null!==g&&this.addMatch(n.index,g)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Zx(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function Jx(e,t,n,o){return-1===n?function qx(e,t){return 11&e.type?Ql(e,t):4&e.type?zg(e,t):null}(t,e):-2===n?function eT(e,t,n){return n===zu?Ql(t,e):n===Nm?zg(t,e):n===Jg?c0(t,e):void 0}(e,t,o):Wl(e,e[si],n,t)}function f0(e,t,n,o){const a=t[ka].queries[o];if(null===a.matches){const g=e.data,I=n.matches,ge=[];for(let Pe=0;null!==I&&Pe<I.length;Pe+=2){const _t=I[Pe];ge.push(_t<0?null:Jx(t,g[_t],I[Pe+1],n.metadata.read))}a.matches=ge}return a.matches}function Ov(e,t,n,o){const a=e.queries.getByIndex(n),g=a.matches;if(null!==g){const I=f0(e,t,a,n);for(let ge=0;ge<g.length;ge+=2){const Pe=g[ge];if(Pe>0)o.push(I[ge/2]);else{const _t=g[ge+1],Bt=t[-Pe];for(let Tn=ma;Tn<Bt.length;Tn++){const qn=Bt[Tn];qn[_c]===qn[ds]&&Ov(qn[si],qn,_t,o)}if(null!==Bt[Ua]){const Tn=Bt[Ua];for(let qn=0;qn<Tn.length;qn++){const dr=Tn[qn];Ov(dr[si],dr,_t,o)}}}}}return o}function Pv(e,t){return e[ka].queries[t].queryList}function p0(e,t,n){const o=new bd(!(4&~n));return function nw(e,t,n,o){const a=bb(t);a.push(n),e.firstCreatePass&&Eb(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[ka]??=new Sv).queries.push(new Dv(o))-1}function m0(e,t,n){const o=To();return o.firstCreatePass&&(_0(o,new h0(e,t,n),-1),!(2&~t)&&(o.staticViewQueries=!0)),p0(o,br(),t)}function _0(e,t,n){null===e.queries&&(e.queries=new Rv),e.queries.track(new Iv(t,n))}function Fv(e,t){return e.queries.getByIndex(t)}function v0(e,t){const n=e[si],o=Fv(n,t);return o.crossesNgTemplate?Ov(n,e,t,[]):f0(n,e,o,t)}const y0=new Set;function El(e){y0.has(e)||(y0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function kv(e){return"function"==typeof e&&void 0!==e[x]}function b0(e,t){El("NgSignals");const n=function Ge(e){const t=Object.create(Ae);t.value=e;const n=()=>(O(t),t.value);return n[x]=t,n}(e),o=n[x];return t?.equal&&(o.equal=t.equal),n.set=a=>bt(o,a),n.update=a=>function Dt(e,t){ue()||G(),bt(e,t(e.value))}(o,a),n.asReadonly=E0.bind(n),n}function E0(){const e=this[x];if(void 0===e.readonlyFn){const t=()=>this();t[x]=e,e.readonlyFn=t}return e.readonlyFn}function A0(e){return kv(e)&&"function"==typeof e.set}function Bv(e,t){let n;const o=Fe(()=>{n._dirtyCounter();const a=function rT(e,t){const n=e._lView,o=e._queryIndex;if(void 0===n||void 0===o||4&n[fo])return t?void 0:lr;const a=Pv(n,o),g=v0(n,o);return a.reset(g,Bh),t?a.first:a._changesDetected||void 0===e._flatValue?e._flatValue=a.toArray():e._flatValue}(n,e);if(t&&void 0===a)throw new B(-951,!1);return a});return n=o[x],n._dirtyCounter=b0(0),n._flatValue=void 0,o}function M0(e,t){return function C0(){return Bv(!0,!1)}()}const oT=(M0.required=function iT(e,t){return function w0(){return Bv(!0,!0)}()},M0);function sT(e,t){return function x0(){return Bv(!1,!1)}()}function D0(e){const t=Object.create(ft),n=new Uf;function o(){return O(t),S0(t.value),t.value}return t.value=e,o[x]=t,o.asReadonly=E0.bind(o),o.set=a=>{t.equal(t.value,a)||(bt(t,a),n.emit(a))},o.update=a=>{S0(t.value),o.set(a(t.value))},o.subscribe=n.subscribe.bind(n),o.destroyRef=n.destroyRef,o}function S0(e){if(e===$e)throw new B(952,!1)}function R0(e){return D0(e)}const cT=(R0.required=function aT(){return D0($e)},R0);function Nv(e){let t=function k0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let a;if(bc(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new B(903,!1);a=t.\u0275dir}if(a){if(n){o.push(a);const I=e;I.inputs=t_(e.inputs),I.inputTransforms=t_(e.inputTransforms),I.declaredInputs=t_(e.declaredInputs),I.outputs=t_(e.outputs);const ge=a.hostBindings;ge&&ET(e,ge);const Pe=a.viewQuery,_t=a.contentQueries;if(Pe&&yT(e,Pe),_t&&bT(e,_t),_T(e,a),xt(e.outputs,a.outputs),bc(a)&&a.data.animation){const Bt=e.data;Bt.animation=(Bt.animation||[]).concat(a.data.animation)}}const g=a.features;if(g)for(let I=0;I<g.length;I++){const ge=g[I];ge&&ge.ngInherit&&ge(e),ge===Nv&&(n=!1)}}t=Object.getPrototypeOf(t)}!function vT(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Qo(a.hostAttrs,n=Qo(n,a.hostAttrs))}}(o)}function _T(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const o=t.inputs[n];if(void 0!==o&&(e.inputs[n]=o,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const a=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function t_(e){return e===Tr?{}:e===lr?[]:e}function yT(e,t){const n=e.viewQuery;e.viewQuery=n?(o,a)=>{t(o,a),n(o,a)}:t}function bT(e,t){const n=e.contentQueries;e.contentQueries=n?(o,a,g)=>{t(o,a,g),n(o,a,g)}:t}function ET(e,t){const n=e.hostBindings;e.hostBindings=n?(o,a)=>{t(o,a),n(o,a)}:t}function B0(e){const t=n=>{const o=Array.isArray(e);null===n.hostDirectives?(n.findHostDirectiveDefs=N0,n.hostDirectives=o?e.map(Lv):[e]):o?n.hostDirectives.unshift(...e.map(Lv)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function N0(e,t,n){if(null!==e.hostDirectives)for(const o of e.hostDirectives)if("function"==typeof o){const a=o();for(const g of a)L0(Lv(g),t,n)}else L0(o,t,n)}function L0(e,t,n){const o=gn(e.directive);(function xT(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(o.declaredInputs,e.inputs),N0(o,t,n),n.set(o,e),t.push(o)}function Lv(e){return"function"==typeof e?{directive:nn(e),inputs:Tr,outputs:Tr}:{directive:nn(e.directive),inputs:U0(e.inputs),outputs:U0(e.outputs)}}function U0(e){if(void 0===e||0===e.length)return Tr;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function j0(e){const t=e.inputConfig,n={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(n[o]=a[3])}e.inputTransforms=n}class _f{}class G0{}function TT(e,t){return new Uv(e,t??null,[])}class Uv extends _f{constructor(t,n,o,a=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new r0(this);const g=yr(t);this._bootstrapComponents=yl(g.bootstrap),this._r3Injector=vd(t,n,[{provide:_f,useValue:this},{provide:$m,useValue:this.componentFactoryResolver},...o],Zt(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Vv extends G0{constructor(t){super(),this.moduleType=t}create(t){return new Uv(this.moduleType,t,[])}}class H0 extends _f{constructor(t){super(),this.componentFactoryResolver=new r0(this),this.instance=null;const n=new oa([...t.providers,{provide:_f,useValue:this},{provide:$m,useValue:this.componentFactoryResolver}],t.parent||Ea(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jv(e,t,n=null){return new H0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function n_(e){return!!Gv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Gv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ed(e,t,n){return e[t]=n}function Zm(e,t){return e[t]}function sc(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vf(e,t,n,o){const a=sc(e,t,n);return sc(e,t+1,o)||a}function su(e,t,n,o,a,g){const I=vf(e,t,n,o);return vf(e,t+2,a,g)||I}function qm(e,t,n,o,a,g,I,ge,Pe,_t){const Bt=n+zi,Tn=t.firstCreatePass?function OT(e,t,n,o,a,g,I,ge,Pe){const _t=t.consts,Bt=ys(t,e,4,I||null,ge||null);iv(t,n,Bt,Ja(_t,Pe)),Gc(t,Bt);const Tn=Bt.tView=bl(2,Bt,o,a,g,t.directiveRegistry,t.pipeRegistry,null,t.schemas,_t,null);return null!==t.queries&&(t.queries.template(t,Bt),Tn.queries=t.queries.embeddedTView(Bt)),Bt}(Bt,t,e,o,a,g,I,ge,Pe):t.data[Bt];Cs(Tn,!1);const qn=K0(t,e,Tn,n);fl()&&dp(t,e,qn,Tn),oc(qn,e);const dr=vb(qn,e,qn,Tn);return e[Bt]=dr,Gg(e,dr),function u0(e,t,n){return Mv(e,t,n)}(dr,Tn,e),Ho(Tn)&&xc(t,e,Tn),null!=Pe&&Yc(e,Tn,_t),Tn}function Hv(e,t,n,o,a,g,I,ge){const Pe=br(),_t=To();return qm(Pe,_t,e,t,n,o,a,Ja(_t.consts,g),I,ge),Hv}let K0=function z0(e,t,n,o){return pl(!0),t[Go].createComment("")};function BT(e,t){if(null!==L())throw new B(-602,!1)}var bp=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(bp||{});let Z0=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=Yr({token:e,providedIn:"root",factory:()=>new e})}return e})();class tg{constructor(){this.ngZone=Ui(wa),this.scheduler=Ui(gp),this.errorHandler=Ui(Na,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[bp.EarlyRead,bp.Write,bp.MixedReadWrite,bp.Read];execute(){this.executing=!0;for(const t of tg.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(o){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static#t=this.\u0275prov=Yr({token:tg,providedIn:"root",factory:()=>new tg})}class NT{constructor(t,n,o,a){this.impl=t,this.hooks=n,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function q0(e,t){!t?.injector&&Ds();const n=t?.injector??Ui(Oa);return Xc(n)?(El("NgAfterRender"),J0(e,n,t,!1)):eE}function a_(e,t){!t?.injector&&Ds();const n=t?.injector??Ui(Oa);return Xc(n)?(El("NgAfterNextRender"),J0(e,n,t,!0)):eE}function J0(e,t,n,o){const a=t.get(Z0);a.impl??=t.get(tg);const g=n?.phase??bp.MixedReadWrite,I=!0!==n?.manualCleanup?t.get(Hc):null,ge=new NT(a.impl,function LT(e,t){if(e instanceof Function){const n=[void 0,void 0,void 0,void 0];return n[t]=e,n}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),o,I);return a.impl.register(ge),ge}const eE={destroy(){}};function ey(e,t,n,o){const a=br();return sc(a,Fa(),t)&&(To(),function Ju(e,t,n,o,a,g){const I=Va(e,t);sv(t[Go],I,g,e.value,n,o,a)}(fa(),a,e,t,n,o)),ey}function Mp(e,t,n,o){return sc(e,Fa(),n)?t+$t(n)+o:Zn}function u_(e,t){return e<<17|t<<2}function hh(e){return e>>17&32767}function ty(e){return 2|e}function bf(e){return(131068&e)>>2}function ny(e,t){return-131069&e|t<<2}function ry(e){return 1|e}function TE(e,t,n,o){const a=e[n+1],g=null===t;let I=o?hh(a):bf(a),ge=!1;for(;0!==I&&(!1===ge||g);){const _t=e[I+1];bM(e[I],t)&&(ge=!0,e[I+1]=o?ry(_t):ty(_t)),I=o?hh(_t):bf(_t)}ge&&(e[n+1]=o?ty(a):ry(a))}function bM(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&mn(e,t)>=0}const Tc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ME(e){return e.substring(Tc.key,Tc.keyEnd)}function EM(e){return e.substring(Tc.value,Tc.valueEnd)}function DE(e,t){const n=Tc.textEnd;return n===t?-1:(t=Tc.keyEnd=function wM(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Tc.key=t,n),kp(e,t,n))}function SE(e,t){const n=Tc.textEnd;let o=Tc.key=kp(e,t,n);return n===o?-1:(o=Tc.keyEnd=function xM(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=IE(e,o,n),o=Tc.value=kp(e,o,n),o=Tc.valueEnd=function TM(e,t,n){let o=-1,a=-1,g=-1,I=t,ge=I;for(;I<n;){const Pe=e.charCodeAt(I++);if(59===Pe)return ge;34===Pe||39===Pe?ge=I=OE(e,Pe,I,n):t===I-4&&85===g&&82===a&&76===o&&40===Pe?ge=I=OE(e,41,I,n):Pe>32&&(ge=I),g=a,a=o,o=-33&Pe}return ge}(e,o,n),IE(e,o,n))}function RE(e){Tc.key=0,Tc.keyEnd=0,Tc.value=0,Tc.valueEnd=0,Tc.textEnd=e.length}function kp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function IE(e,t,n,o){return(t=kp(e,t,n))<n&&t++,t}function OE(e,t,n,o){let a=-1,g=n;for(;g<o;){const I=e.charCodeAt(g++);if(I==t&&92!==a)return g;a=92==I&&92===a?0:I}throw new Error}function iy(e,t,n){const o=br();return sc(o,Fa(),t)&&kl(To(),fa(),o,e,t,o[Go],n,!1),iy}function oy(e,t,n,o,a){const I=a?"class":"style";cv(e,n,t.inputs[I],I,o)}function sy(e,t,n){return Iu(e,t,n,!1),sy}function ay(e,t){return Iu(e,t,null,!0),ay}function Ru(e){Ou(BE,MM,e,!1)}function MM(e,t){for(let n=function CM(e){return RE(e),SE(e,kp(e,0,Tc.textEnd))}(t);n>=0;n=SE(t,n))BE(e,ME(t),EM(t))}function PE(e){Ou(PM,td,e,!0)}function td(e,t){for(let n=function AM(e){return RE(e),DE(e,kp(e,0,Tc.textEnd))}(t);n>=0;n=DE(t,n))eo(e,ME(t),!0)}function Iu(e,t,n,o){const a=br(),g=To(),I=jl(2);g.firstUpdatePass&&kE(g,e,I,o),t!==Zn&&sc(a,I,t)&&NE(g,g.data[Ba()],a,a[Go],e,a[I+1]=function kM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Zt(Yl(e)))),e}(t,n),o,I)}function Ou(e,t,n,o){const a=To(),g=jl(2);a.firstUpdatePass&&kE(a,null,g,o);const I=br();if(n!==Zn&&sc(I,g,n)){const ge=a.data[Ba()];if(UE(ge,o)&&!FE(a,g)){let Pe=o?ge.classesWithoutHost:ge.stylesWithoutHost;null!==Pe&&(n=vn(Pe,n||"")),oy(a,ge,I,n,o)}else!function FM(e,t,n,o,a,g,I,ge){a===Zn&&(a=lr);let Pe=0,_t=0,Bt=0<a.length?a[0]:null,Tn=0<g.length?g[0]:null;for(;null!==Bt||null!==Tn;){const qn=Pe<a.length?a[Pe+1]:void 0,dr=_t<g.length?g[_t+1]:void 0;let Mi,Rr=null;Bt===Tn?(Pe+=2,_t+=2,qn!==dr&&(Rr=Tn,Mi=dr)):null===Tn||null!==Bt&&Bt<Tn?(Pe+=2,Rr=Bt):(_t+=2,Rr=Tn,Mi=dr),null!==Rr&&NE(e,t,n,o,Rr,Mi,I,ge),Bt=Pe<a.length?a[Pe]:null,Tn=_t<g.length?g[_t]:null}}(a,ge,I,I[Go],I[g+1],I[g+1]=function OM(e,t,n){if(null==n||""===n)return lr;const o=[],a=Yl(n);if(Array.isArray(a))for(let g=0;g<a.length;g++)e(o,a[g],!0);else if("object"==typeof a)for(const g in a)a.hasOwnProperty(g)&&e(o,g,a[g]);else"string"==typeof a&&t(o,a);return o}(e,t,n),o,g)}}function FE(e,t){return t>=e.expandoStartIndex}function kE(e,t,n,o){const a=e.data;if(null===a[n+1]){const g=a[Ba()],I=FE(e,n);UE(g,o)&&null===t&&!I&&(t=!1),t=function DM(e,t,n,o){const a=Tl(e);let g=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(n=rg(n=cy(null,e,t,n,o),t.attrs,o),g=null);else{const I=t.directiveStylingLast;if(-1===I||e[I]!==a)if(n=cy(a,e,t,n,o),null===g){let Pe=function SM(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==bf(o))return e[hh(o)]}(e,t,o);void 0!==Pe&&Array.isArray(Pe)&&(Pe=cy(null,e,t,Pe[1],o),Pe=rg(Pe,t.attrs,o),function RM(e,t,n,o){e[hh(n?t.classBindings:t.styleBindings)]=o}(e,t,o,Pe))}else g=function IM(e,t,n){let o;const a=t.directiveEnd;for(let g=1+t.directiveStylingLast;g<a;g++)o=rg(o,e[g].hostAttrs,n);return rg(o,t.attrs,n)}(e,t,o)}return void 0!==g&&(o?t.residualClasses=g:t.residualStyles=g),n}(a,g,t,o),function vM(e,t,n,o,a,g){let I=g?t.classBindings:t.styleBindings,ge=hh(I),Pe=bf(I);e[o]=n;let Bt,_t=!1;if(Array.isArray(n)?(Bt=n[1],(null===Bt||mn(n,Bt)>0)&&(_t=!0)):Bt=n,a)if(0!==Pe){const qn=hh(e[ge+1]);e[o+1]=u_(qn,ge),0!==qn&&(e[qn+1]=ny(e[qn+1],o)),e[ge+1]=function gM(e,t){return 131071&e|t<<17}(e[ge+1],o)}else e[o+1]=u_(ge,0),0!==ge&&(e[ge+1]=ny(e[ge+1],o)),ge=o;else e[o+1]=u_(Pe,0),0===ge?ge=o:e[Pe+1]=ny(e[Pe+1],o),Pe=o;_t&&(e[o+1]=ty(e[o+1])),TE(e,Bt,o,!0),TE(e,Bt,o,!1),function yM(e,t,n,o,a){const g=a?e.residualClasses:e.residualStyles;null!=g&&"string"==typeof t&&mn(g,t)>=0&&(n[o+1]=ry(n[o+1]))}(t,Bt,e,o,g),I=u_(ge,Pe),g?t.classBindings=I:t.styleBindings=I}(a,g,t,n,I,o)}}function cy(e,t,n,o,a){let g=null;const I=n.directiveEnd;let ge=n.directiveStylingLast;for(-1===ge?ge=n.directiveStart:ge++;ge<I&&(g=t[ge],o=rg(o,g.hostAttrs,a),g!==e);)ge++;return null!==e&&(n.directiveStylingLast=ge),o}function rg(e,t,n){const o=n?1:2;let a=-1;if(null!==t)for(let g=0;g<t.length;g++){const I=t[g];"number"==typeof I?a=I:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),eo(e,I,!!n||t[++g]))}return void 0===e?null:e}function BE(e,t,n){eo(e,t,Yl(n))}function PM(e,t,n){const o=String(t);""!==o&&!o.includes(" ")&&eo(e,o,n)}function NE(e,t,n,o,a,g,I,ge){if(!(3&t.type))return;const Pe=e.data,_t=Pe[ge+1],Bt=function _M(e){return!(1&~e)}(_t)?LE(Pe,t,n,a,bf(_t),I):void 0;d_(Bt)||(d_(g)||function mM(e){return!(2&~e)}(_t)&&(g=LE(Pe,null,n,a,ge,I)),function dt(e,t,n,o,a){if(t)a?e.addClass(n,o):e.removeClass(n,o);else{let g=-1===o.indexOf("-")?void 0:cp.DashCase;null==a?e.removeStyle(n,o,g):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),g|=cp.Important),e.setStyle(n,o,a,g))}}(o,I,Ca(Ba(),n),a,g))}function LE(e,t,n,o,a,g){const I=null===t;let ge;for(;a>0;){const Pe=e[a],_t=Array.isArray(Pe),Bt=_t?Pe[1]:Pe,Tn=null===Bt;let qn=n[a+1];qn===Zn&&(qn=Tn?lr:void 0);let dr=Tn?Wt(qn,o):Bt===o?qn:void 0;if(_t&&!d_(dr)&&(dr=Wt(Pe,o)),d_(dr)&&(ge=dr,I))return ge;const Rr=e[a+1];a=I?hh(Rr):bf(Rr)}if(null!==t){let Pe=g?t.residualClasses:t.residualStyles;null!=Pe&&(ge=Wt(Pe,o))}return ge}function d_(e){return void 0!==e}function UE(e,t){return!!(e.flags&(t?8:16))}function VE(e,t,n){Ou(eo,td,Mp(br(),e,t,n),!0)}class zM{destroy(t){}updateValue(t,n){}swap(t,n){const o=Math.min(t,n),a=Math.max(t,n),g=this.detach(a);if(a-o>1){const I=this.detach(o);this.attach(o,g),this.attach(a,I)}else this.attach(o,g)}move(t,n){this.attach(n,this.detach(t))}}function ly(e,t,n,o,a){return e===n&&Object.is(t,o)?1:Object.is(a(e,t),a(n,o))?-1:0}function uy(e,t,n,o){return!(void 0===t||!t.has(o)||(e.attach(n,t.get(o)),t.delete(o),0))}function jE(e,t,n,o,a){if(uy(e,t,o,n(o,a)))e.updateValue(o,a);else{const g=e.create(o,a);e.attach(o,g)}}function GE(e,t,n,o){const a=new Set;for(let g=t;g<=n;g++)a.add(o(g,e.at(g)));return a}class HE{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let o=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(o);)o=a.get(o);a.set(o,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,o]of this.kvMap)if(t(o,n),void 0!==this._vMap){const a=this._vMap;for(;a.has(o);)o=a.get(o),t(o,n)}}}function KE(e,t){El("NgControlFlow");const n=br(),o=Fa(),a=n[o]!==Zn?n[o]:-1,g=-1!==a?h_(n,zi+a):void 0;if(sc(n,o,e)){const ge=d(null);try{if(void 0!==g&&uv(g,0),-1!==e){const Pe=zi+e,_t=h_(n,Pe),Bt=dy(n[si],Pe),Tn=gf(_t,Bt.tView.ssrId);pp(_t,fp(n,Bt,t,{dehydratedView:Tn}),0,pf(Bt,Tn))}}finally{d(ge)}}else if(void 0!==g){const ge=Cb(g,0);void 0!==ge&&(ge[hs]=t)}}class WM{constructor(t,n,o){this.lContainer=t,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ma}}function zE(e){return e}function $E(e,t){return t}class XM{constructor(t,n,o){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=o}}function WE(e,t,n,o,a,g,I,ge,Pe,_t,Bt,Tn,qn){El("NgControlFlow");const dr=br(),Rr=To(),Mi=void 0!==Pe,lo=br(),go=ge?I.bind(lo[Ws][hs]):I,Ci=new XM(Mi,go);lo[zi+e]=Ci,qm(dr,Rr,e+1,t,n,o,a,Ja(Rr.consts,g)),Mi&&qm(dr,Rr,e+2,Pe,_t,Bt,Tn,Ja(Rr.consts,qn))}class QM extends zM{constructor(t,n,o){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=o,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ma}at(t){return this.getLView(t)[hs].$implicit}attach(t,n){const o=n[ta];this.needsIndexUpdate||=t!==this.length,pp(this.lContainer,n,t,pf(this.templateTNode,o))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function YM(e,t){return df(e,t)}(this.lContainer,t)}create(t,n){const o=gf(this.lContainer,this.templateTNode.tView.ssrId),a=fp(this.hostLView,this.templateTNode,new WM(this.lContainer,n,t),{dehydratedView:o});return this.operationsCounter?.recordCreate(),a}destroy(t){up(t[si],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[hs].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[hs].$index=t}getLView(t){return function ZM(e,t){return Cb(e,t)}(this.lContainer,t)}}function XE(e){const t=d(null),n=Ba();try{const o=br(),a=o[si],g=o[n],I=n+1,ge=h_(o,I);if(void 0===g.liveCollection){const _t=dy(a,I);g.liveCollection=new QM(ge,o,_t)}else g.liveCollection.reset();const Pe=g.liveCollection;if(function $M(e,t,n){let o,a,g=0,I=e.length-1;if(Array.isArray(t)){let Pe=t.length-1;for(;g<=I&&g<=Pe;){const _t=e.at(g),Bt=t[g],Tn=ly(g,_t,g,Bt,n);if(0!==Tn){Tn<0&&e.updateValue(g,Bt),g++;continue}const qn=e.at(I),dr=t[Pe],Rr=ly(I,qn,Pe,dr,n);if(0!==Rr){Rr<0&&e.updateValue(I,dr),I--,Pe--;continue}const Mi=n(g,_t),lo=n(I,qn),go=n(g,Bt);if(Object.is(go,lo)){const Ci=n(Pe,dr);Object.is(Ci,Mi)?(e.swap(g,I),e.updateValue(I,dr),Pe--,I--):e.move(I,g),e.updateValue(g,Bt),g++}else if(o??=new HE,a??=GE(e,g,I,n),uy(e,o,g,go))e.updateValue(g,Bt),g++,I++;else if(a.has(go))o.set(Mi,e.detach(g)),I--;else{const Ci=e.create(g,t[g]);e.attach(g,Ci),g++,I++}}for(;g<=Pe;)jE(e,o,n,g,t[g]),g++}else if(null!=t){const Pe=t[Symbol.iterator]();let _t=Pe.next();for(;!_t.done&&g<=I;){const Bt=e.at(g),Tn=_t.value,qn=ly(g,Bt,g,Tn,n);if(0!==qn)qn<0&&e.updateValue(g,Tn),g++,_t=Pe.next();else{o??=new HE,a??=GE(e,g,I,n);const dr=n(g,Tn);if(uy(e,o,g,dr))e.updateValue(g,Tn),g++,I++,_t=Pe.next();else if(a.has(dr)){const Rr=n(g,Bt);o.set(Rr,e.detach(g)),I--}else e.attach(g,e.create(g,Tn)),g++,I++,_t=Pe.next()}}for(;!_t.done;)jE(e,o,n,e.length,_t.value),_t=Pe.next()}for(;g<=I;)e.destroy(e.detach(I--));o?.forEach(Pe=>{e.destroy(Pe)})}(Pe,e,g.trackByFn),Pe.updateIndexes(),g.hasEmptyBlock){const _t=Fa(),Bt=0===Pe.length;if(sc(o,_t,Bt)){const Tn=n+2,qn=h_(o,Tn);if(Bt){const dr=dy(a,Tn),Rr=gf(qn,dr.tView.ssrId);pp(qn,fp(o,dr,void 0,{dehydratedView:Rr}),0,pf(dr,Rr))}else uv(qn,0)}}}finally{d(t)}}function h_(e,t){return e[t]}function dy(e,t){return Wa(e,t)}function f_(e,t,n,o){const a=br(),g=To(),I=zi+e,ge=a[Go],Pe=g.firstCreatePass?function qM(e,t,n,o,a,g){const I=t.consts,Pe=ys(t,e,2,o,Ja(I,a));return iv(t,n,Pe,Ja(I,g)),null!==Pe.attrs&&qg(Pe,Pe.attrs,!1),null!==Pe.mergedAttrs&&qg(Pe,Pe.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Pe),Pe}(I,g,a,t,n,o):g.data[I],_t=QE(g,a,Pe,ge,t,e);a[I]=_t;const Bt=Ho(Pe);return Cs(Pe,!0),nr(ge,_t,Pe),!function vp(e){return!(32&~e.flags)}(Pe)&&fl()&&dp(g,a,_t,Pe),0===function Gr(){return cn.lFrame.elementDepthCount}()&&oc(_t,a),function $r(){cn.lFrame.elementDepthCount++}(),Bt&&(xc(g,a,Pe),Qc(g,Pe,a)),null!==o&&Yc(a,Pe),f_}function p_(){let e=mo();cs()?Ga():(e=e.parent,Cs(e,!1));const t=e;(function Do(e){return cn.skipHydrationRootTNode===e})(t)&&function ko(){cn.skipHydrationRootTNode=null}(),function ci(){cn.lFrame.elementDepthCount--}();const n=To();return n.firstCreatePass&&(Gc(n,e),tc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Sf(e){return!!(8&e.flags)}(t)&&oy(n,t,br(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function dd(e){return!!(16&e.flags)}(t)&&oy(n,t,br(),t.stylesWithoutHost,!1),p_}function hy(e,t,n,o){return f_(e,t,n,o),p_(),hy}let QE=(e,t,n,o,a,g)=>(pl(!0),lp(o,a,function Bd(){return cn.lFrame.currentNamespace}()));function m_(e,t,n){const o=br(),a=To(),g=e+zi,I=a.firstCreatePass?function tD(e,t,n,o,a){const g=t.consts,I=Ja(g,o),ge=ys(t,e,8,"ng-container",I);return null!==I&&qg(ge,I,!0),iv(t,n,ge,Ja(g,a)),null!==t.queries&&t.queries.elementStart(t,ge),ge}(g,a,o,t,n):a.data[g];Cs(I,!0);const ge=YE(a,o,I,e);return o[g]=ge,fl()&&dp(a,o,ge,I),oc(ge,o),Ho(I)&&(xc(a,o,I),Qc(a,I,o)),null!=n&&Yc(o,I),m_}function g_(){let e=mo();const t=To();return cs()?Ga():(e=e.parent,Cs(e,!1)),t.firstCreatePass&&(Gc(t,e),tc(e)&&t.queries.elementEnd(e)),g_}function fy(e,t,n){return m_(e,t,n),g_(),fy}let YE=(e,t,n,o)=>(pl(!0),uf(t[Go],""));function ZE(){return br()}function py(e,t,n){const o=br();return sc(o,Fa(),t)&&kl(To(),fa(),o,e,t,o[Go],n,!0),py}function my(e,t,n){const o=br();if(sc(o,Fa(),t)){const g=To(),I=fa();kl(g,I,o,e,t,Ab(Tl(g.data),I,o),n,!0)}return my}const Ef=void 0;var oD=["en",[["a","p"],["AM","PM"],Ef],[["AM","PM"],Ef,Ef],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ef,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ef,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ef,"{1} 'at' {0}",Ef],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iD(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let Bp={};function sD(e,t,n){"string"!=typeof t&&(n=t,t=e[Np.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Bp[t]=e,n&&(Bp[t][Np.ExtraData]=n)}function gy(e){const t=function aD(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=JE(t);if(n)return n;const o=t.split("-")[0];if(n=JE(o),n)return n;if("en"===o)return oD;throw new B(701,!1)}function qE(e){return gy(e)[Np.PluralCase]}function JE(e){return e in Bp||(Bp[e]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[e]),Bp[e]}var Np=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Np||{});const cD=["zero","one","two","few","many"],__="en-US",v_={marker:"element"},y_={marker:"ICU"};var Bl=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Bl||{});let eA=__,ig=0,og=0;let sg=(e,t,n,o)=>(pl(!0),function tA(e,t,n){const o=e[Go];switch(n){case Node.COMMENT_NODE:return uf(o,t);case Node.TEXT_NODE:return wm(o,t);case Node.ELEMENT_NODE:return lp(o,t,null)}}(e,n,o));function nA(e,t,n,o){const a=n[Go];let I,g=null;for(let ge=0;ge<t.length;ge++){const Pe=t[ge];if("string"==typeof Pe){const _t=t[++ge];null===n[_t]&&(n[_t]=sg(n,_t,Pe,Node.TEXT_NODE))}else if("number"==typeof Pe)switch(1&Pe){case 0:const _t=Nb(Pe);let Bt,Tn;if(null===g&&(g=_t,I=Rm(a,o)),_t===g?(Bt=o,Tn=I):(Bt=null,Tn=Xs(n[_t])),null!==Tn){const Mi=Lb(Pe);Id(a,Tn,n[Mi],Bt,!1);const go=jm(e,Mi);if(null!==go&&"object"==typeof go){const Ci=Wg(go,n);null!==Ci&&nA(e,go.create[Ci],n,n[go.anchorIdx])}}break;case 1:const dr=t[++ge],Rr=t[++ge];sv(a,Ca(Pe>>>1,n),null,null,dr,Rr,null)}else switch(Pe){case y_:const _t=t[++ge],Bt=t[++ge];null===n[Bt]&&oc(n[Bt]=sg(n,Bt,_t,Node.COMMENT_NODE),n);break;case v_:const Tn=t[++ge],qn=t[++ge];null===n[qn]&&oc(n[qn]=sg(n,qn,Tn,Node.ELEMENT_NODE),n)}}}function rA(e,t,n,o,a){for(let g=0;g<n.length;g++){const I=n[g],ge=n[++g];if(I&a){let Pe="";for(let _t=g+1;_t<=g+ge;_t++){const Bt=n[_t];if("string"==typeof Bt)Pe+=Bt;else if("number"==typeof Bt)if(Bt<0)Pe+=$t(t[o-Bt]);else{const Tn=Bt>>>2;switch(3&Bt){case 1:const qn=n[++_t],dr=n[++_t],Rr=e.data[Tn];"string"==typeof Rr?sv(t[Go],t[Tn],null,Rr,qn,Pe,dr):kl(e,Rr,t,qn,Pe,t[Go],dr,!1);break;case 0:const Mi=t[Tn];null!==Mi&&Rg(t[Go],Mi,Pe);break;case 2:vD(e,jm(e,Tn),t,Pe);break;case 3:iA(e,jm(e,Tn),o,t)}}}}else{const Pe=n[g+1];if(Pe>0&&!(3&~Pe)){const Bt=jm(e,Pe>>>2);t[Bt.currentCaseLViewIndex]<0&&iA(e,Bt,o,t)}}g+=ge}}function iA(e,t,n,o){let a=o[t.currentCaseLViewIndex];if(null!==a){let g=ig;a<0&&(a=o[t.currentCaseLViewIndex]=~a,g=-1),rA(e,o,t.update[a],n,g)}}function vD(e,t,n,o){const a=function yD(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function lD(e,t){const n=qE(t)(parseInt(e,10)),o=cD[n];return void 0!==o?o:"other"}(t,function hD(){return eA}());n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(Wg(t,n)!==a&&(oA(e,t,n),n[t.currentCaseLViewIndex]=null===a?null:~a,null!==a)){const I=n[t.anchorIdx];I&&nA(e,t.create[a],n,I),function vx(e,t,n){Xb(e,t,n)}(n,t.anchorIdx,a)}}function oA(e,t,n){let o=Wg(t,n);if(null!==o){const a=t.remove[o];for(let g=0;g<a.length;g++){const I=a[g];if(I>0){const ge=Ca(I,n);null!==ge&&ff(n[Go],ge)}else oA(e,jm(e,~I),n)}}}const b_=/\ufffd(\d+):?\d*\ufffd/gi,ED=/\ufffd(\d+)\ufffd/,aA=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ag="\ufffd",AD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,CD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,wD=/\uE500/g;function cA(e,t,n,o,a,g,I){const ge=Vs(e,o,1,null);let Pe=ge<<Bl.SHIFT,_t=Qs();t===_t&&(_t=null),null===_t&&(Pe|=Bl.APPEND_EAGERLY),I&&(Pe|=Bl.COMMENT,function q_(e){void 0===kc&&(kc=e())}(qw)),a.push(Pe,null===g?"":g);const Bt=ss(e,ge,I?32:1,null===g?"":g,null);kb(n,Bt);const Tn=Bt.index;return Cs(Bt,!1),null!==_t&&t!==_t&&function Qw(e,t){let n=e.insertBeforeIndex;null===n?(Lg(Pb,Fb),n=e.insertBeforeIndex=[null,t]):(Bn(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(_t,Tn),Bt}function MD(e,t,n,o,a,g,I,ge){const Pe=ge.match(b_),Bt=cA(t,n,o,I,a,Pe?null:ge,!1).index;Pe&&cg(g,ge,Bt,null,0,null),e.push({kind:0,index:Bt})}function cg(e,t,n,o,a,g){const I=e.length,ge=I+1;e.push(null,null);const Pe=I+2,_t=t.split(b_);let Bt=0;for(let Tn=0;Tn<_t.length;Tn++){const qn=_t[Tn];if(1&Tn){const dr=a+parseInt(qn,10);e.push(-1-dr),Bt|=lA(dr)}else""!==qn&&e.push(qn)}return e.push(n<<2|(o?1:0)),o&&e.push(o,g),e[I]=Bt,e[ge]=e.length-Pe,Bt}function lA(e){return 1<<Math.min(e,31)}function uA(e){let t,g,n="",o=0,a=!1;for(;null!==(t=AD.exec(e));)a?t[0]===`${ag}/*${g}${ag}`&&(o=t.index,a=!1):(n+=e.substring(o,t.index+t[0].length),g=t[1],a=!0);return n+=e.slice(o),n}function dA(e,t,n,o,a,g,I){let ge=0;const Pe={type:g.type,currentCaseLViewIndex:Vs(t,n,1,null),anchorIdx:I,cases:[],create:[],remove:[],update:[]};(function FD(e,t,n){e.push(lA(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(o,g,I),function Xw(e,t,n){const o=e.data[t];null===o?e.data[t]=n:o.value=n}(t,I,Pe);const _t=g.values,Bt=[];for(let Tn=0;Tn<_t.length;Tn++){const qn=_t[Tn],dr=[];for(let Mi=0;Mi<qn.length;Mi++){const lo=qn[Mi];if("string"!=typeof lo){const go=dr.push(lo)-1;qn[Mi]=`\x3c!--\ufffd${go}\ufffd--\x3e`}}const Rr=[];Bt.push(Rr),ge=OD(Rr,t,Pe,n,o,a,g.cases[Tn],qn.join(""),dr)|ge}ge&&function kD(e,t,n){e.push(t,1,n<<2|3)}(o,ge,I),e.push({kind:3,index:I,cases:Bt,currentCaseLViewIndex:Pe.currentCaseLViewIndex})}function ID(e){const t=[],n=[];let o=1,a=0;const g=_y(e=e.replace(aA,function(I,ge,Pe){return o="select"===Pe?0:1,a=parseInt(ge.slice(1),10),""}));for(let I=0;I<g.length;){let ge=g[I++].trim();1===o&&(ge=ge.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ge.length&&t.push(ge);const Pe=_y(g[I++]);t.length>n.length&&n.push(Pe)}return{type:o,mainBinding:a,cases:t,values:n}}function _y(e){if(!e)return[];let t=0;const n=[],o=[],a=/[{}]/g;let g;for(a.lastIndex=0;g=a.exec(e);){const ge=g.index;if("}"==g[0]){if(n.pop(),0==n.length){const Pe=e.substring(t,ge);aA.test(Pe)?o.push(ID(Pe)):o.push(Pe),t=ge+1}}else{if(0==n.length){const Pe=e.substring(t,ge);o.push(Pe),t=ge+1}n.push("{")}}const I=e.substring(t);return o.push(I),o}function OD(e,t,n,o,a,g,I,ge,Pe){const _t=[],Bt=[],Tn=[];n.cases.push(I),n.create.push(_t),n.remove.push(Bt),n.update.push(Tn);const dr=tf(gl()).getInertBodyElement(ge),Rr=La(dr)||dr;return Rr?hA(e,t,n,o,a,_t,Bt,Tn,Rr,g,Pe,0):0}function hA(e,t,n,o,a,g,I,ge,Pe,_t,Bt,Tn){let qn=0,dr=Pe.firstChild;for(;dr;){const Rr=Vs(t,o,1,null);switch(dr.nodeType){case Node.ELEMENT_NODE:const Mi=dr,lo=Mi.tagName.toLowerCase();if(Zu.hasOwnProperty(lo)){vy(g,v_,lo,_t,Rr),t.data[Rr]=lo;const ua=Mi.attributes;for(let lc=0;lc<ua.length;lc++){const Nl=ua.item(lc),Vp=Nl.name.toLowerCase();Nl.value.match(b_)?Sd.hasOwnProperty(Vp)&&cg(ge,Nl.value,Rr,Nl.name,0,oh[Vp]?ih:null):BD(g,Rr,Nl)}const Da={kind:1,index:Rr,children:[]};e.push(Da),qn=hA(Da.children,t,n,o,a,g,I,ge,dr,Rr,Bt,Tn+1)|qn,fA(I,Rr,Tn)}break;case Node.TEXT_NODE:const go=dr.textContent||"",Ci=go.match(b_);vy(g,null,Ci?"":go,_t,Rr),fA(I,Rr,Tn),Ci&&(qn=cg(ge,go,Rr,null,0,null)|qn),e.push({kind:0,index:Rr});break;case Node.COMMENT_NODE:const bs=ED.exec(dr.textContent||"");if(bs){const Da=Bt[parseInt(bs[1],10)];vy(g,y_,"",_t,Rr),dA(e,t,o,a,_t,Da,Rr),PD(I,Rr,Tn)}}dr=dr.nextSibling}return qn}function fA(e,t,n){0===n&&e.push(t)}function PD(e,t,n){0===n&&(e.push(~t),e.push(t))}function vy(e,t,n,o,a){null!==t&&e.push(t),e.push(n,a,function Zw(e,t,n){return e|t<<17|n<<1}(0,o,a))}function BD(e,t,n){e.push(t<<1|1,n.name,n.value)}const pA=0,ND=/\[(\ufffd.+?\ufffd?)\]/,LD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,UD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,VD=/{([A-Z0-9_]+)}/g,jD=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,GD=/\/\*/,HD=/\d+\:(\d+)/;function yy(e,t,n=-1){const o=To(),a=br(),g=zi+e,I=Ja(o.consts,t),ge=Qs();o.firstCreatePass&&function TD(e,t,n,o,a,g){const I=Qs(),ge=[],Pe=[],_t=[[]],Bt=[[]];a=function RD(e,t){if(function Vb(e){return-1===e}(t))return uA(e);{const n=e.indexOf(`:${t}${ag}`)+2+t.toString().length,o=e.search(new RegExp(`${ag}\\/\\*\\d+:${t}${ag}`));return uA(e.substring(n,o))}}(a,g);const Tn=function xD(e){return e.replace(wD," ")}(a).split(CD);for(let qn=0;qn<Tn.length;qn++){let dr=Tn[qn];if(1&qn){const Rr=47===dr.charCodeAt(0),Mi=dr.charCodeAt(Rr?1:0),lo=zi+Number.parseInt(dr.substring(Rr?2:1));if(Rr)_t.shift(),Bt.shift(),Cs(Qs(),!1);else{const go=Yw(e,_t[0],lo);_t.unshift([]),Cs(go,!0);const Ci={kind:2,index:lo,children:[],type:35===Mi?0:1};Bt[0].push(Ci),Bt.unshift(Ci.children)}}else{const Rr=_y(dr);for(let Mi=0;Mi<Rr.length;Mi++){let lo=Rr[Mi];if(1&Mi){const go=lo;if("object"!=typeof go)throw new Error(`Unable to parse ICU expression in "${a}" message.`);const bs=cA(e,I,_t[0],n,ge,"",!0).index;dA(Bt[0],e,n,Pe,t,go,bs)}else""!==lo&&MD(Bt[0],e,I,_t[0],ge,Pe,n,lo)}}}e.data[o]={create:ge,update:Pe,ast:Bt[0],parentTNodeIndex:t}}(o,null===ge?0:ge.index,a,g,I,n),2===o.type?a[Ws][fo]|=32:a[fo]|=32;const Pe=o.data[g],Bt=Og(o,ge===a[As]?null:ge,a),Tn=ge&&8&ge.type?a[ge.index]:null;(function cx(e,t,n,o){$b(e,t,n,o)})(a,g,ge,n),function _D(e,t,n,o){const a=e[Go];for(let g=0;g<t.length;g++){const I=t[g++],_t=(I&Bl.APPEND_EAGERLY)===Bl.APPEND_EAGERLY,Bt=I>>>Bl.SHIFT;let Tn=e[Bt],qn=!1;null===Tn&&(Tn=e[Bt]=sg(e,Bt,t[g],(I&Bl.COMMENT)===Bl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),qn=fl()),_t&&null!==n&&qn&&Id(a,n,Tn,o,!1)}}(a,Pe.create,Bt,Tn),cd(!0)}function by(){cd(!1)}function mA(e,t,n){yy(e,t,n),by()}function Ey(e){return function fD(e){e&&(ig|=1<<Math.min(og,31)),og++}(sc(br(),Fa(),e)),Ey}function gA(e){!function pD(e,t,n){if(og>0){const o=e.data[n];rA(e,t,Array.isArray(o)?o:o.update,xl()-og-1,ig)}ig=0,og=0}(To(),br(),e+zi)}function _A(e,t={}){return function KD(e,t={}){let n=e;if(ND.test(e)){const o={},a=[pA];n=n.replace(LD,(g,I,ge)=>{const Pe=I||ge,_t=o[Pe]||[];if(_t.length||(Pe.split("|").forEach(Mi=>{const lo=Mi.match(HD),go=lo?parseInt(lo[1],10):pA,Ci=GD.test(Mi);_t.push([go,Ci,Mi])}),o[Pe]=_t),!_t.length)throw new Error(`i18n postprocess: unmatched placeholder - ${Pe}`);const Bt=a[a.length-1];let Tn=0;for(let Mi=0;Mi<_t.length;Mi++)if(_t[Mi][0]===Bt){Tn=Mi;break}const[qn,dr,Rr]=_t[Tn];return dr?a.pop():Bt!==qn&&a.push(qn),_t.splice(Tn,1),Rr})}return Object.keys(t).length&&(n=n.replace(UD,(o,a,g,I,ge,Pe)=>t.hasOwnProperty(g)?`${a}${t[g]}${Pe}`:o),n=n.replace(VD,(o,a)=>t.hasOwnProperty(a)?t[a]:o),n=n.replace(jD,(o,a)=>{if(t.hasOwnProperty(a)){const g=t[a];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${a}`);return g.shift()}return o})),n}(e,t)}let vA=(e,t,n)=>{};function Ay(e,t,n,o){const a=br(),g=To(),I=mo();return wy(g,a,a[Go],I,e,t,o),Ay}function Cy(e,t){const n=mo(),o=br(),a=To();return wy(a,o,Ab(Tl(a.data),n,o),n,e,t),Cy}function wy(e,t,n,o,a,g,I){const ge=Ho(o),_t=e.firstCreatePass&&Eb(e),Bt=t[hs],Tn=bb(t);let qn=!0;if(3&o.type||I){const Mi=Va(o,t),lo=I?I(Mi):Mi,go=Tn.length,Ci=I?ua=>I(Xs(ua[o.index])):o.index;let bs=null;if(!I&&ge&&(bs=function $D(e,t,n,o){const a=e.cleanup;if(null!=a)for(let g=0;g<a.length-1;g+=2){const I=a[g];if(I===n&&a[g+1]===o){const ge=t[aa],Pe=a[g+2];return ge.length>Pe?ge[Pe]:null}"string"==typeof I&&(g+=2)}return null}(e,t,a,o.index)),null!==bs)(bs.__ngLastListenerFn__||bs).__ngNextListenerFn__=g,bs.__ngLastListenerFn__=g,qn=!1;else{g=EA(o,t,Bt,g),vA(Mi,a,g);const ua=n.listen(lo,a,g);Tn.push(g,ua),_t&&_t.push(a,Ci,go,go+1)}}else g=EA(o,t,Bt,g);const dr=o.outputs;let Rr;if(qn&&null!==dr&&(Rr=dr[a])){const Mi=Rr.length;if(Mi)for(let lo=0;lo<Mi;lo+=2){const Da=t[Rr[lo]][Rr[lo+1]].subscribe(g),lc=Tn.length;Tn.push(g,Da),_t&&_t.push(a,o.index,lc,-(lc+1))}}}function bA(e,t,n,o){const a=d(null);try{return Sc(6,t,n),!1!==n(o)}catch(g){return Hg(e,g),!1}finally{Sc(7,t,n),d(a)}}function EA(e,t,n,o){return function a(g){if(g===Function)return o;km(e.componentOffset>-1?ja(e.index,t):t,5);let ge=bA(t,n,o,g),Pe=a.__ngNextListenerFn__;for(;Pe;)ge=bA(t,n,Pe,g)&&ge,Pe=Pe.__ngNextListenerFn__;return ge}}function AA(e=1){return function hl(e){return(cn.lFrame.contextLView=function i(e,t){for(;e>0;)t=t[Aa],e--;return t}(e,cn.lFrame.contextLView))[hs]}(e)}function WD(e,t){let n=null;const o=function Ut(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const g=t[a];if("*"!==g){if(null===o?Je(e,g,!0):Xi(o,g))return a}else n=a}return n}function CA(e){const t=br()[Ws][As];if(!t.projection){const o=t.projection=function Cr(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(e?e.length:1,null),a=o.slice();let g=t.child;for(;null!==g;){if(128!==g.type){const I=e?WD(g,e):0;null!==I&&(a[I]?a[I].projectionNext=g:o[I]=g,a[I]=g)}g=g.next}}}function wA(e,t=0,n,o,a,g){const I=br(),ge=To(),Pe=o?e+1:null;null!==Pe&&qm(I,ge,Pe,o,a,g,null,n);const _t=ys(ge,zi+e,16,null,n||null);null===_t.projection&&(_t.projection=t),Ga();const Tn=!I[ta]||ai();null===I[Ws][As].projection[_t.projection]&&null!==Pe?function XD(e,t,n){const o=zi+n,a=t.data[o],g=e[o],I=gf(g,a.tView.ssrId);pp(g,fp(e,a,void 0,{dehydratedView:I}),0,pf(a,I))}(I,ge,Pe):Tn&&32&~_t.flags&&function c(e,t,n){E(t[Go],0,t,n,Sm(e,n,t),kg(n.parent||t[As],n,t))}(ge,I,_t)}function FA(e,t,n,o){!function g0(e,t,n,o){const a=To();if(a.firstCreatePass){const g=mo();_0(a,new h0(t,n,o),g.index),function nT(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),!(2&~n)&&(a.staticContentQueries=!0)}return p0(a,br(),n)}(e,t,n,o)}function kA(e,t,n){m0(e,t,n)}function BA(e){const t=br(),n=To(),o=ca();Gl(o+1);const a=Fv(n,o);if(e.dirty&&function jc(e){return!(4&~e[fo])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const g=v0(t,o);e.reset(g,Bh),e.notifyOnChanges()}return!0}return!1}function NA(){return Pv(br(),ca())}function LA(e,t,n,o){!function T0(e,t){const n=e[x];n._lView=br(),n._queryIndex=t,n._queryList=Pv(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(o=>o+1))}(e,m0(t,n,o))}function UA(e=1){Gl(ca()+e)}function VA(e){return Vc(function wl(){return cn.lFrame.contextLView}(),zi+e)}function YA(e,t=""){const n=br(),o=To(),a=e+zi,g=o.firstCreatePass?ys(o,a,1,t,null):o.data[a],I=ZA(o,n,g,t,e);n[a]=I,fl()&&dp(o,n,I,g),Cs(g,!1)}let ZA=(e,t,n,o,a)=>(pl(!0),wm(t[Go],o));function My(e){return E_("",e,""),My}function E_(e,t,n){const o=br(),a=Mp(o,e,t,n);return a!==Zn&&Pd(o,Ba(),a),E_}function Dy(e,t,n,o,a){const g=br(),I=function Dp(e,t,n,o,a,g){const ge=vf(e,xl(),n,a);return jl(2),ge?t+$t(n)+o+$t(a)+g:Zn}(g,e,t,n,o,a);return I!==Zn&&Pd(g,Ba(),I),Dy}function Sy(e,t,n,o,a,g,I,ge,Pe,_t,Bt){const Tn=br(),qn=function Ip(e,t,n,o,a,g,I,ge,Pe,_t,Bt,Tn){const qn=xl();let dr=su(e,qn,n,a,I,Pe);return dr=sc(e,qn+4,Bt)||dr,jl(5),dr?t+$t(n)+o+$t(a)+g+$t(I)+ge+$t(Pe)+_t+$t(Bt)+Tn:Zn}(Tn,e,t,n,o,a,g,I,ge,Pe,_t,Bt);return qn!==Zn&&Pd(Tn,Ba(),qn),Sy}function Ry(e,t,n){A0(t)&&(t=t());const o=br();return sc(o,Fa(),t)&&kl(To(),fa(),o,e,t,o[Go],n,!1),Ry}function o1(e,t){const n=A0(e);return n&&e.set(t),n}function Iy(e,t){const n=br(),o=To(),a=mo();return wy(o,n,n[Go],a,e,t),Iy}function Oy(e,t,n,o,a){if(e=nn(e),Array.isArray(e))for(let g=0;g<e.length;g++)Oy(e[g],t,n,o,a);else{const g=To(),I=br(),ge=mo();let Pe=No(e)?e:nn(e.provide);const _t=$a(e),Bt=1048575&ge.providerIndexes,Tn=ge.directiveStart,qn=ge.providerIndexes>>20;if(No(e)||!e.multi){const dr=new Hl(_t,a,Pi),Rr=Fy(Pe,t,a?Bt:Bt+qn,Tn);-1===Rr?(ju(zl(ge,I),g,Pe),Py(g,e,t.length),t.push(Pe),ge.directiveStart++,ge.directiveEnd++,a&&(ge.providerIndexes+=1048576),n.push(dr),I.push(dr)):(n[Rr]=dr,I[Rr]=dr)}else{const dr=Fy(Pe,t,Bt+qn,Tn),Rr=Fy(Pe,t,Bt,Bt+qn),lo=Rr>=0&&n[Rr];if(a&&!lo||!a&&!(dr>=0&&n[dr])){ju(zl(ge,I),g,Pe);const go=function hS(e,t,n,o,a){const g=new Hl(e,n,Pi);return g.multi=[],g.index=t,g.componentProviders=0,c1(g,a,o&&!n),g}(a?dS:uS,n.length,a,o,_t);!a&&lo&&(n[Rr].providerFactory=go),Py(g,e,t.length,0),t.push(Pe),ge.directiveStart++,ge.directiveEnd++,a&&(ge.providerIndexes+=1048576),n.push(go),I.push(go)}else Py(g,e,dr>-1?dr:Rr,c1(n[a?Rr:dr],_t,!a&&o));!a&&o&&lo&&n[Rr].componentProviders++}}}function Py(e,t,n,o){const a=No(t),g=function Ao(e){return!!e.useClass}(t);if(a||g){const Pe=(g?nn(t.useClass):t).prototype.ngOnDestroy;if(Pe){const _t=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const Bt=_t.indexOf(n);-1===Bt?_t.push(n,[o,Pe]):_t[Bt+1].push(o,Pe)}else _t.push(n,Pe)}}}function c1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fy(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function uS(e,t,n,o){return ky(this.multi,[])}function dS(e,t,n,o){const a=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,ge=Wl(n,n[si],this.providerFactory.index,o);g=ge.slice(0,I),ky(a,g);for(let Pe=I;Pe<ge.length;Pe++)g.push(ge[Pe])}else g=[],ky(a,g);return g}function ky(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function l1(e,t=[]){return n=>{n.providersResolver=(o,a)=>function lS(e,t,n){const o=To();if(o.firstCreatePass){const a=bc(e);Oy(n,o.data,o.blueprint,a,!0),Oy(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let fS=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=In(0,n.type),a=o.length>0?jv([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Yr({token:e,providedIn:"environment",factory:()=>new e(oo(js))})}return e})();function u1(e){El("NgStandalone"),e.getStandaloneInjector=t=>t.get(fS).getOrCreateStandaloneInjector(e)}function d1(e,t,n){const o=e.\u0275cmp;o.directiveDefs=xr(t,!1),o.pipeDefs=xr(n,!0)}function p1(e,t,n){const o=Xa()+e,a=br();return a[o]===Zn?ed(a,o,n?t.call(n):t()):Zm(a,o)}function m1(e,t,n,o){return C1(br(),Xa(),e,t,n,o)}function g1(e,t,n,o,a){return w1(br(),Xa(),e,t,n,o,a)}function _1(e,t,n,o,a,g){return function x1(e,t,n,o,a,g,I,ge){const Pe=t+n;return function r_(e,t,n,o,a){const g=vf(e,t,n,o);return sc(e,t+2,a)||g}(e,Pe,a,g,I)?ed(e,Pe+3,ge?o.call(ge,a,g,I):o(a,g,I)):lg(e,Pe+3)}(br(),Xa(),e,t,n,o,a,g)}function v1(e,t,n,o,a,g,I){return function T1(e,t,n,o,a,g,I,ge,Pe){const _t=t+n;return su(e,_t,a,g,I,ge)?ed(e,_t+4,Pe?o.call(Pe,a,g,I,ge):o(a,g,I,ge)):lg(e,_t+4)}(br(),Xa(),e,t,n,o,a,g,I)}function y1(e,t,n,o,a,g,I,ge){const Pe=Xa()+e,_t=br(),Bt=su(_t,Pe,n,o,a,g);return sc(_t,Pe+4,I)||Bt?ed(_t,Pe+5,ge?t.call(ge,n,o,a,g,I):t(n,o,a,g,I)):Zm(_t,Pe+5)}function b1(e,t,n,o,a,g,I,ge,Pe){const _t=Xa()+e,Bt=br(),Tn=su(Bt,_t,n,o,a,g);return vf(Bt,_t+4,I,ge)||Tn?ed(Bt,_t+6,Pe?t.call(Pe,n,o,a,g,I,ge):t(n,o,a,g,I,ge)):Zm(Bt,_t+6)}function E1(e,t,n,o,a,g,I,ge,Pe,_t,Bt){const Tn=Xa()+e,qn=br(),dr=su(qn,Tn,n,o,a,g);return su(qn,Tn+4,I,ge,Pe,_t)||dr?ed(qn,Tn+8,Bt?t.call(Bt,n,o,a,g,I,ge,Pe,_t):t(n,o,a,g,I,ge,Pe,_t)):Zm(qn,Tn+8)}function A1(e,t,n,o){return function M1(e,t,n,o,a,g){let I=t+n,ge=!1;for(let Pe=0;Pe<a.length;Pe++)sc(e,I++,a[Pe])&&(ge=!0);return ge?ed(e,I,o.apply(g,a)):lg(e,I)}(br(),Xa(),e,t,n,o)}function lg(e,t){const n=e[t];return n===Zn?void 0:n}function C1(e,t,n,o,a,g){const I=t+n;return sc(e,I,a)?ed(e,I+1,g?o.call(g,a):o(a)):lg(e,I+1)}function w1(e,t,n,o,a,g,I){const ge=t+n;return vf(e,ge,a,g)?ed(e,ge+2,I?o.call(I,a,g):o(a,g)):lg(e,ge+2)}function D1(e,t){const n=To();let o;const a=e+zi;n.firstCreatePass?(o=function _S(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[a]=o,o.onDestroy&&(n.destroyHooks??=[]).push(a,o.onDestroy)):o=n.data[a];const g=o.factory||(o.factory=_s(o.type)),ge=Wo(Pi);try{const Pe=fd(!1),_t=g();return fd(Pe),function Ty(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,br(),a,_t),_t}finally{Wo(ge)}}function S1(e,t,n){const o=e+zi,a=br(),g=Vc(a,o);return ug(a,o)?C1(a,Xa(),t,g.transform,n,g):g.transform(n)}function R1(e,t,n,o){const a=e+zi,g=br(),I=Vc(g,a);return ug(g,a)?w1(g,Xa(),t,I.transform,n,o,I):I.transform(n,o)}function ug(e,t){return e[si].data[t].pure}function I1(e,t){return zg(e,t)}class W1{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let X1=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const J1=new vr(""),eC=new vr("");let jy,fR=(()=>{class e{constructor(n,o,a){this._ngZone=n,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,jy||(function pR(e){jy=e}(a),a.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,a){let g=-1;o&&o>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),n()},o)),this._callbacks.push({doneCb:n,timeoutId:g,updateCb:a})}whenStable(n,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,a),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,a){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(oo(wa),oo(tC),oo(eC))};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac})}return e})(),tC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return jy?.findTestabilityInTree(this,n,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Gy(e){return!!e&&"function"==typeof e.then}function nC(e){return!!e&&"function"==typeof e.subscribe}const rC=new vr("");let iC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=Ui(rC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const a of this.appInits){const g=a();if(Gy(g))n.push(g);else if(nC(g)){const I=new Promise((ge,Pe)=>{g.subscribe({complete:ge,error:Pe})});n.push(I)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(a=>{this.reject(a)}),0===n.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const T_=new vr("");function sC(e,t){return Array.isArray(t)?t.reduce(sC,e):{...e,...t}}let nd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ui(Ku),this.afterRenderManager=Ui(Z0),this.zonelessEnabled=Ui(zm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new W.B,this.afterTick=new W.B,this.componentTypes=[],this.components=[],this.isStable=Ui(yu).hasPendingTasks.pipe((0,ne.T)(n=>!n)),this._injector=Ui(js)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,o){const a=n instanceof Jb;if(!this._injector.get(iC).done)throw!a&&Qn(n),new B(405,!1);let I;I=a?n:this._injector.get($m).resolveComponentFactory(n),this.componentTypes.push(I.componentType);const ge=function mR(e){return e.isBoundToModule}(I)?void 0:this._injector.get(_f),_t=I.create(Oa.NULL,[],o||I.selector,ge),Bt=_t.location.nativeElement,Tn=_t.injector.get(J1,null);return Tn?.registerApplication(Bt),_t.onDestroy(()=>{this.detachView(_t.hostView),M_(this.components,_t),Tn?.unregisterApplication(Bt)}),this._loadComponent(_t),_t}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);const n=d(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,d(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Cv,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:g}of this._views)vR(a,g,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>m(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;M_(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(T_,[]);[...this._bootstrapListeners,...o].forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>M_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function vR(e,t,n,o){(n||m(e))&&Kg(e,t,n&&!o?0:1)}class yR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let bR=(()=>{class e{compileModuleSync(n){return new Vv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),g=yl(yr(n).declarations).reduce((I,ge)=>{const Pe=Jt(ge);return Pe&&I.push(new Qm(Pe)),I},[]);return new yR(o,g)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CR=(()=>{class e{constructor(){this.zone=Ui(wa),this.changeDetectionScheduler=Ui(gp),this.applicationRef=Ui(nd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hy({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new wa({...Ky(),scheduleInRootZone:n}),[{provide:wa,useFactory:e},{provide:Br,multi:!0,useFactory:()=>{const o=Ui(CR,{optional:!0});return()=>o.initialize()}},{provide:Br,multi:!0,useFactory:()=>{const o=Ui(xR);return()=>{o.initialize()}}},!0===t?{provide:qb,useValue:!0}:[],{provide:Av,useValue:n??il}]}function Ky(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let xR=(()=>{class e{constructor(){this.subscription=new ve.yU,this.initialized=!1,this.zone=Ui(wa),this.pendingTasks=Ui(yu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{wa.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{wa.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fg=(()=>{class e{constructor(){this.appRef=Ui(nd),this.taskService=Ui(yu),this.ngZone=Ui(wa),this.zonelessEnabled=Ui(zm),this.disableScheduling=Ui(qb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ve.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($d):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ui(Av,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Bf:bu;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($d+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(n),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $y=new vr("",{providedIn:"root",factory:()=>Ui($y,Wr.Optional|Wr.SkipSelf)||function TR(){return typeof $localize<"u"&&$localize.locale||__}()}),MR=new vr("",{providedIn:"root",factory:()=>"USD"}),S_=new vr("");function R_(e){return!e.moduleRef}let fC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const a=o?.scheduleInRootZone,I=o?.ignoreChangesOutsideZone,ge=[Hy({ngZoneFactory:()=>function Xp(e="zone.js",t){return"noop"===e?new Hu:"zone.js"===e?new wa(t):e}(o?.ngZone,{...Ky({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:a}),ignoreChangesOutsideZone:I}),{provide:gp,useExisting:fg}],Pe=function MT(e,t,n){return new Uv(e,t,n,!1)}(n.moduleType,this.injector,ge);return function hC(e){const t=R_(e)?e.r3Injector:e.moduleRef.injector,n=t.get(wa);return n.run(()=>{R_(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Na,null);let a;if(n.runOutsideAngular(()=>{a=n.onError.subscribe({next:g=>{o.handleError(g)}})}),R_(e)){const g=()=>t.destroy(),I=e.platformInjector.get(S_);I.add(g),t.onDestroy(()=>{a.unsubscribe(),I.delete(g)})}else{const g=()=>e.moduleRef.destroy(),I=e.platformInjector.get(S_);I.add(g),e.moduleRef.onDestroy(()=>{M_(e.allPlatformModules,e.moduleRef),a.unsubscribe(),I.delete(g)})}return function _R(e,t,n){try{const o=n();return Gy(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,n,()=>{const g=t.get(iC);return g.runInitializers(),g.donePromise.then(()=>{if(function dD(e){"string"==typeof e&&(eA=e.toLowerCase().replace(/_/g,"-"))}(t.get($y,__)||__),R_(e)){const ge=t.get(nd);return void 0!==e.rootComponent&&ge.bootstrap(e.rootComponent),ge}return function OR(e,t){const n=e.injector.get(nd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>n.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new B(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:Pe,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,o=[]){const a=sC({},o);return function AR(e,t,n){const o=new Vv(n);return Promise.resolve(o)}(0,0,n).then(g=>this.bootstrapModuleFactory(g,a))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(S_,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(oo(Oa))};static#t=this.\u0275prov=Yr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),fh=null;const pC=new vr("");function mC(e,t,n=[]){const o=`Platform: ${t}`,a=new vr(o);return(g=[])=>{let I=Wy();if(!I||I.injector.get(pC,!1)){const ge=[...n,...g,{provide:a,useValue:!0}];e?e(ge):function PR(e){if(fh&&!fh.get(pC,!1))throw new B(400,!1);(function oC(){!function ee(e){Rn=e}(()=>{throw new B(600,!1)})})(),fh=e;const t=e.get(fC);(function _C(e){e.get(qf,null)?.forEach(n=>n())})(e)}(function gC(e=[],t){return Oa.create({name:t,providers:[{provide:ts,useValue:"platform"},{provide:S_,useValue:new Set([()=>fh=null])},...e]})}(ge,o))}return function FR(){const t=Wy();if(!t)throw new B(401,!1);return t}()}}function Wy(){return fh?.get(fC)??null}function BR(){}let yC=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=NR}return e})();function NR(e){return function LR(e,t,n){if(Lc(e)&&!n){const o=ja(e.index,t);return new Bm(o,o)}return 175&e.type?new Bm(t[Ws],t):null}(mo(),br(),!(16&~e))}class CC{constructor(){}supports(t){return n_(t)}create(t){return new HR(t)}}const GR=(e,t)=>t;class HR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||GR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,a=0,g=null;for(;n||o;){const I=!o||n&&n.currentIndex<xC(o,a,g)?n:o,ge=xC(I,a,g),Pe=I.currentIndex;if(I===o)a--,o=o._nextRemoved;else if(n=n._next,null==I.previousIndex)a++;else{g||(g=[]);const _t=ge-a,Bt=Pe-a;if(_t!=Bt){for(let qn=0;qn<_t;qn++){const dr=qn<g.length?g[qn]:g[qn]=0,Rr=dr+qn;Bt<=Rr&&Rr<_t&&(g[qn]=dr+1)}g[I.previousIndex]=Bt-_t}}ge!==Pe&&t(I,ge,Pe)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!n_(t))throw new B(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,g,I,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let ge=0;ge<this.length;ge++)g=t[ge],I=this._trackByFn(ge,g),null!==n&&Object.is(n.trackById,I)?(o&&(n=this._verifyReinsertion(n,g,I,ge)),Object.is(n.item,g)||this._addIdentityChange(n,g)):(n=this._mismatch(n,g,I,ge),o=!0),n=n._next}else a=0,function RT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,ge=>{I=this._trackByFn(a,ge),null!==n&&Object.is(n.trackById,I)?(o&&(n=this._verifyReinsertion(n,ge,I,a)),Object.is(n.item,ge)||this._addIdentityChange(n,ge)):(n=this._mismatch(n,ge,I,a),o=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,a){let g;return null===t?g=this._itTail:(g=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,g,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,g,a)):t=this._addAfter(new KR(n,o),g,a),t}_verifyReinsertion(t,n,o,a){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==g?t=this._reinsertAfter(g,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,g=t._nextRemoved;return null===a?this._removalsHead=g:a._nextRemoved=g,null===g?this._removalsTail=a:g._prevRemoved=a,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new wC),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class KR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class wC{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new zR,this.map.set(n,o)),o.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xC(e,t,n){const o=e.previousIndex;if(null===o)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}class TC{constructor(){}supports(t){return t instanceof Map||Gv(t)}create(){return new $R}}class $R{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Gv(t)))throw new B(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const g=this._getOrCreateRecordForKey(a,o);n=this._insertBeforeOrAppend(n,g)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const g=a._prev,I=a._next;return g&&(g._next=I),I&&(I._prev=g),a._next=null,a._prev=null,a}const o=new WR(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class WR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MC(){return new qy([new CC])}let qy=(()=>{class e{static#e=this.\u0275prov=Yr({token:e,providedIn:"root",factory:MC});constructor(n){this.factories=n}static create(n,o){if(null!=o){const a=o.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||MC()),deps:[[e,new Vo,new ha]]}}find(n){const o=this.factories.find(a=>a.supports(n));if(null!=o)return o;throw new B(901,!1)}}return e})();function DC(){return new Jy([new TC])}let Jy=(()=>{class e{static#e=this.\u0275prov=Yr({token:e,providedIn:"root",factory:DC});constructor(n){this.factories=n}static create(n,o){if(o){const a=o.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||DC()),deps:[[e,new Vo,new ha]]}}find(n){const o=this.factories.find(a=>a.supports(n));if(o)return o;throw new B(901,!1)}}return e})();const YR=mC(null,"core",[]);let ZR=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(o){return new(o||e)(oo(nd))};static#t=this.\u0275mod=V({type:e});static#n=this.\u0275inj=mi({})}return e})();function DI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function SI(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function II(e,t){El("NgSignals");const n=Fe(e);return t?.equal&&(n[x].equal=t.equal),n}function OI(e){const t=d(null);try{return e()}finally{d(t)}}const PI=new vr("",{providedIn:"root",factory:()=>Ui(FI)});let FI=(()=>{class e{static#e=this.\u0275prov=Yr({token:e,providedIn:"root",factory:()=>new kI})}return e})();class kI{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ui(yu),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const o=this.queues.get(n);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class BI{constructor(t,n,o,a,g,I){this.scheduler=t,this.effectFn=n,this.creationZone=o,this.injector=g,this.watcher=function Me(e,t,n){const o=Object.create(C);n&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=t;const a=Pe=>{o.cleanupFn=Pe};return o.ref={notify:()=>z(o),run:()=>{if(null===o.fn)return;if(function F(){return u}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Z(o))return;o.hasRun=!0;const Pe=X(o);try{o.cleanupFn(),o.cleanupFn=Ee,o.fn(a)}finally{re(o,Pe)}},cleanup:()=>o.cleanupFn(),destroy:()=>function I(Pe){(function g(Pe){return null===Pe.fn&&null===Pe.schedule})(Pe)||(Re(Pe),Pe.cleanupFn(),Pe.fn=null,Pe.schedule=null,Pe.cleanupFn=Ee)}(o),[x]:o},o.ref}(ge=>this.runEffect(ge),()=>this.schedule(),I),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(Na,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function ZC(e,t){El("NgSignals"),!t?.injector&&Ds();const n=t?.injector??Ui(Oa),o=!0!==t?.manualCleanup?n.get(Hc):null,a=new BI(n.get(PI),e,typeof Zone>"u"?null:Zone.current,o,n,t?.allowSignalWrites??!1),g=n.get(yC,null,{optional:!0});return g&&8&g._lView[fo]?(g._lView[Nc]??=[]).push(a.watcher.notify):a.watcher.notify(),a}function NI(e,t){const n=Jt(e),o=t.elementInjector||Ea();return new Qm(n).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function LI(e){const t=Jt(e);if(!t)return null;const n=new Qm(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},89079:(ln,ye,w)=>{"use strict";w.d(ye,{br:()=>S,ot:()=>U,pQ:()=>x});var r=w(54438),y=w(2573),u=w(60391),v=w(37925);function x(b){b||((0,r.Af3)(x),b=(0,r.WQX)(r.abz));const M=new y.c(A=>b.onDestroy(A.next.bind(A)));return A=>A.pipe((0,v.Q)(M))}function S(b,M){!M?.injector&&(0,r.Af3)(S);const A=M?.injector??(0,r.WQX)(r.zZn),ue=new u.m(1),z=(0,r.QZP)(()=>{let X;try{X=b()}catch(re){return void(0,r.O8t)(()=>ue.error(re))}(0,r.O8t)(()=>ue.next(X))},{injector:A,manualCleanup:!0});return A.get(r.abz).onDestroy(()=>{z.destroy(),ue.complete()}),ue.asObservable()}function U(b,M){const A=!M?.manualCleanup;A&&!M?.injector&&(0,r.Af3)(U);const ue=A?M?.injector?.get(r.abz)??(0,r.WQX)(r.abz):null,z=function O(b=Object.is){return(M,A)=>1===M.kind&&1===A.kind&&b(M.value,A.value)}(M?.equal);let X;X=(0,r.vPA)(M?.requireSync?{kind:0}:{kind:1,value:M?.initialValue},{equal:z});const re=b.subscribe({next:Z=>X.set({kind:1,value:Z}),error:Z=>{if(M?.rejectErrors)throw Z;X.set({kind:2,error:Z})}});if(M?.requireSync&&0===X().kind)throw new r.wOt(601,!1);return ue?.onDestroy(re.unsubscribe.bind(re)),(0,r.EWP)(()=>{const Z=X();switch(Z.kind){case 1:return Z.value;case 2:throw Z.error;case 0:throw new r.wOt(601,!1)}},{equal:M?.equal})}},89417:(ln,ye,w)=>{"use strict";w.d(ye,{$R:()=>Hi,BC:()=>H,Bm:()=>wo,JD:()=>es,MJ:()=>no,Q0:()=>xs,VZ:()=>Fi,X1:()=>pe,YN:()=>j,YS:()=>eo,ZU:()=>J,cV:()=>ji,cb:()=>B,cz:()=>re,gE:()=>he,hs:()=>yo,j4:()=>hi,k0:()=>oe,kq:()=>S,l_:()=>Nr,me:()=>ue,ok:()=>Qo,qT:()=>Ro,tU:()=>Br,v8:()=>Eo,vO:()=>W,wz:()=>Ts,xH:()=>gs,xq:()=>Wt,y7:()=>ea,ze:()=>Qt});var r=w(54438),y=w(60177),u=w(21472),v=w(46104),x=w(85052),d=w(36110);let L=(()=>{class k{constructor(q,Je){this._renderer=q,this._elementRef=Je,this.onChange=Ut=>{},this.onTouched=()=>{}}setProperty(q,Je){this._renderer.setProperty(this._elementRef.nativeElement,q,Je)}registerOnTouched(q){this.onTouched=q}registerOnChange(q){this.onChange=q}setDisabledState(q){this.setProperty("disabled",q)}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(r.sFG),r.rXU(r.aKT))};static#t=this.\u0275dir=r.FsC({type:k})}return k})(),F=(()=>{class k extends L{static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,features:[r.Vt3]})}return k})();const S=new r.nKC(""),b={provide:S,useExisting:(0,r.Rfq)(()=>ue),multi:!0},A=new r.nKC("");let ue=(()=>{class k extends L{constructor(q,Je,Ut){super(q,Je),this._compositionMode=Ut,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function M(){const k=(0,y.QT)()?(0,y.QT)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(q){this.setProperty("value",q??"")}_handleInput(q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(q)}_compositionStart(){this._composing=!0}_compositionEnd(q){this._composing=!1,this._compositionMode&&this.onChange(q)}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(A,8))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Je,Ut){1&Je&&r.bIt("input",function(gr){return Ut._handleInput(gr.target.value)})("blur",function(){return Ut.onTouched()})("compositionstart",function(){return Ut._compositionStart()})("compositionend",function(gr){return Ut._compositionEnd(gr.target.value)})},features:[r.Jv_([b]),r.Vt3]})}return k})();function z(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function X(k){return null!=k&&"number"==typeof k.length}const re=new r.nKC(""),Z=new r.nKC(""),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oe{static min(le){return Ce(le)}static max(le){return function K(k){return le=>{if(z(le.value)||z(k))return null;const q=parseFloat(le.value);return!isNaN(q)&&q>k?{max:{max:k,actual:le.value}}:null}}(le)}static required(le){return R(le)}static requiredTrue(le){return ce(le)}static email(le){return function $(k){return z(k.value)||Re.test(k.value)?null:{email:!0}}(le)}static minLength(le){return function Fe(k){return le=>z(le.value)||!X(le.value)?null:le.value.length<k?{minlength:{requiredLength:k,actualLength:le.value.length}}:null}(le)}static maxLength(le){return je(le)}static pattern(le){return function Ve(k){if(!k)return lt;let le,q;return"string"==typeof k?(q="","^"!==k.charAt(0)&&(q+="^"),q+=k,"$"!==k.charAt(k.length-1)&&(q+="$"),le=new RegExp(q)):(q=k.toString(),le=k),Je=>{if(z(Je.value))return null;const Ut=Je.value;return le.test(Ut)?null:{pattern:{requiredPattern:q,actualValue:Ut}}}}(le)}static nullValidator(le){return null}static compose(le){return Ge(le)}static composeAsync(le){return ut(le)}}function Ce(k){return le=>{if(z(le.value)||z(k))return null;const q=parseFloat(le.value);return!isNaN(q)&&q<k?{min:{min:k,actual:le.value}}:null}}function R(k){return z(k.value)?{required:!0}:null}function ce(k){return!0===k.value?null:{required:!0}}function je(k){return le=>X(le.value)&&le.value.length>k?{maxlength:{requiredLength:k,actualLength:le.value.length}}:null}function lt(k){return null}function pt(k){return null!=k}function St(k){return(0,r.jNT)(k)?(0,u.H)(k):k}function Rn(k){let le={};return k.forEach(q=>{le=null!=q?{...le,...q}:le}),0===Object.keys(le).length?null:le}function G(k,le){return le.map(q=>q(k))}function De(k){return k.map(le=>function ee(k){return!k.validate}(le)?le:q=>le.validate(q))}function Ge(k){if(!k)return null;const le=k.filter(pt);return 0==le.length?null:function(q){return Rn(G(q,le))}}function Ze(k){return null!=k?Ge(De(k)):null}function ut(k){if(!k)return null;const le=k.filter(pt);return 0==le.length?null:function(q){const Je=G(q,le).map(St);return(0,v.p)(Je).pipe((0,d.T)(Rn))}}function bt(k){return null!=k?ut(De(k)):null}function Dt(k,le){return null===k?[le]:Array.isArray(k)?[...k,le]:[k,le]}function Le(k){return k._rawValidators}function Ae(k){return k._rawAsyncValidators}function se(k){return k?Array.isArray(k)?k:[k]:[]}function Me(k,le){return Array.isArray(k)?k.includes(le):k===le}function Ee(k,le){const q=se(le);return se(k).forEach(Ut=>{Me(q,Ut)||q.push(Ut)}),q}function C(k,le){return se(le).filter(q=>!Me(k,q))}class T{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(le){this._rawValidators=le||[],this._composedValidatorFn=Ze(this._rawValidators)}_setAsyncValidators(le){this._rawAsyncValidators=le||[],this._composedAsyncValidatorFn=bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(le){this._onDestroyCallbacks.push(le)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(le=>le()),this._onDestroyCallbacks=[]}reset(le=void 0){this.control&&this.control.reset(le)}hasError(le,q){return!!this.control&&this.control.hasError(le,q)}getError(le,q){return this.control?this.control.getError(le,q):null}}class J extends T{get formDirective(){return null}get path(){return null}}class W extends T{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ve{constructor(le){this._cd=le}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let H=(()=>{class k extends ve{constructor(q){super(q)}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(W,2))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Je,Ut){2&Je&&r.AVh("ng-untouched",Ut.isUntouched)("ng-touched",Ut.isTouched)("ng-pristine",Ut.isPristine)("ng-dirty",Ut.isDirty)("ng-valid",Ut.isValid)("ng-invalid",Ut.isInvalid)("ng-pending",Ut.isPending)},features:[r.Vt3]})}return k})(),B=(()=>{class k extends ve{constructor(q){super(q)}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(J,10))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Je,Ut){2&Je&&r.AVh("ng-untouched",Ut.isUntouched)("ng-touched",Ut.isTouched)("ng-pristine",Ut.isPristine)("ng-dirty",Ut.isDirty)("ng-valid",Ut.isValid)("ng-invalid",Ut.isInvalid)("ng-pending",Ut.isPending)("ng-submitted",Ut.isSubmitted)},features:[r.Vt3]})}return k})();const xt="VALID",Zt="INVALID",vn="PENDING",kn="DISABLED";class tr{}class dn extends tr{constructor(le,q){super(),this.value=le,this.source=q}}class nn extends tr{constructor(le,q){super(),this.pristine=le,this.source=q}}class Ht extends tr{constructor(le,q){super(),this.touched=le,this.source=q}}class Xt extends tr{constructor(le,q){super(),this.status=le,this.source=q}}class Nn extends tr{constructor(le){super(),this.source=le}}class Ot extends tr{constructor(le){super(),this.source=le}}function Mn(k){return(tn(k)?k.validators:k)||null}function Pn(k,le){return(tn(le)?le.asyncValidators:k)||null}function tn(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function bn(k,le,q){const Je=k.controls;if(!(le?Object.keys(Je):Je).length)throw new r.wOt(1e3,"");if(!Je[q])throw new r.wOt(1001,"")}function yt(k,le,q){k._forEachChild((Je,Ut)=>{if(void 0===q[Ut])throw new r.wOt(1002,"")})}class _e{constructor(le,q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,r.EWP)(()=>this.statusReactive()),this.statusReactive=(0,r.vPA)(void 0),this._pristine=(0,r.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,r.vPA)(!0),this._touched=(0,r.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,r.vPA)(!1),this._events=new x.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(le),this._assignAsyncValidators(q)}get validator(){return this._composedValidatorFn}set validator(le){this._rawValidators=this._composedValidatorFn=le}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(le){this._rawAsyncValidators=this._composedAsyncValidatorFn=le}get parent(){return this._parent}get status(){return(0,r.O8t)(this.statusReactive)}set status(le){(0,r.O8t)(()=>this.statusReactive.set(le))}get valid(){return this.status===xt}get invalid(){return this.status===Zt}get pending(){return this.status==vn}get disabled(){return this.status===kn}get enabled(){return this.status!==kn}get pristine(){return(0,r.O8t)(this.pristineReactive)}set pristine(le){(0,r.O8t)(()=>this.pristineReactive.set(le))}get dirty(){return!this.pristine}get touched(){return(0,r.O8t)(this.touchedReactive)}set touched(le){(0,r.O8t)(()=>this.touchedReactive.set(le))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(le){this._assignValidators(le)}setAsyncValidators(le){this._assignAsyncValidators(le)}addValidators(le){this.setValidators(Ee(le,this._rawValidators))}addAsyncValidators(le){this.setAsyncValidators(Ee(le,this._rawAsyncValidators))}removeValidators(le){this.setValidators(C(le,this._rawValidators))}removeAsyncValidators(le){this.setAsyncValidators(C(le,this._rawAsyncValidators))}hasValidator(le){return Me(this._rawValidators,le)}hasAsyncValidator(le){return Me(this._rawAsyncValidators,le)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(le={}){const q=!1===this.touched;this.touched=!0;const Je=le.sourceControl??this;this._parent&&!le.onlySelf&&this._parent.markAsTouched({...le,sourceControl:Je}),q&&!1!==le.emitEvent&&this._events.next(new Ht(!0,Je))}markAllAsTouched(le={}){this.markAsTouched({onlySelf:!0,emitEvent:le.emitEvent,sourceControl:this}),this._forEachChild(q=>q.markAllAsTouched(le))}markAsUntouched(le={}){const q=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Je=le.sourceControl??this;this._forEachChild(Ut=>{Ut.markAsUntouched({onlySelf:!0,emitEvent:le.emitEvent,sourceControl:Je})}),this._parent&&!le.onlySelf&&this._parent._updateTouched(le,Je),q&&!1!==le.emitEvent&&this._events.next(new Ht(!1,Je))}markAsDirty(le={}){const q=!0===this.pristine;this.pristine=!1;const Je=le.sourceControl??this;this._parent&&!le.onlySelf&&this._parent.markAsDirty({...le,sourceControl:Je}),q&&!1!==le.emitEvent&&this._events.next(new nn(!1,Je))}markAsPristine(le={}){const q=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Je=le.sourceControl??this;this._forEachChild(Ut=>{Ut.markAsPristine({onlySelf:!0,emitEvent:le.emitEvent})}),this._parent&&!le.onlySelf&&this._parent._updatePristine(le,Je),q&&!1!==le.emitEvent&&this._events.next(new nn(!0,Je))}markAsPending(le={}){this.status=vn;const q=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new Xt(this.status,q)),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.markAsPending({...le,sourceControl:q})}disable(le={}){const q=this._parentMarkedDirty(le.onlySelf);this.status=kn,this.errors=null,this._forEachChild(Ut=>{Ut.disable({...le,onlySelf:!0})}),this._updateValue();const Je=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new dn(this.value,Je)),this._events.next(new Xt(this.status,Je)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...le,skipPristineCheck:q},this),this._onDisabledChange.forEach(Ut=>Ut(!0))}enable(le={}){const q=this._parentMarkedDirty(le.onlySelf);this.status=xt,this._forEachChild(Je=>{Je.enable({...le,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent}),this._updateAncestors({...le,skipPristineCheck:q},this),this._onDisabledChange.forEach(Je=>Je(!1))}_updateAncestors(le,q){this._parent&&!le.onlySelf&&(this._parent.updateValueAndValidity(le),le.skipPristineCheck||this._parent._updatePristine({},q),this._parent._updateTouched({},q))}setParent(le){this._parent=le}getRawValue(){return this.value}updateValueAndValidity(le={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Je=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xt||this.status===vn)&&this._runAsyncValidator(Je,le.emitEvent)}const q=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new dn(this.value,q)),this._events.next(new Xt(this.status,q)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.updateValueAndValidity({...le,sourceControl:q})}_updateTreeValidity(le={emitEvent:!0}){this._forEachChild(q=>q._updateTreeValidity(le)),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kn:xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(le,q){if(this.asyncValidator){this.status=vn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==q};const Je=St(this.asyncValidator(this));this._asyncValidationSubscription=Je.subscribe(Ut=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ut,{emitEvent:q,shouldHaveEmitted:le})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const le=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,le}return!1}setErrors(le,q={}){this.errors=le,this._updateControlsErrors(!1!==q.emitEvent,this,q.shouldHaveEmitted)}get(le){let q=le;return null==q||(Array.isArray(q)||(q=q.split(".")),0===q.length)?null:q.reduce((Je,Ut)=>Je&&Je._find(Ut),this)}getError(le,q){const Je=q?this.get(q):this;return Je&&Je.errors?Je.errors[le]:null}hasError(le,q){return!!this.getError(le,q)}get root(){let le=this;for(;le._parent;)le=le._parent;return le}_updateControlsErrors(le,q,Je){this.status=this._calculateStatus(),le&&this.statusChanges.emit(this.status),(le||Je)&&this._events.next(new Xt(this.status,q)),this._parent&&this._parent._updateControlsErrors(le,q,Je)}_initObservables(){this.valueChanges=new r.bkB,this.statusChanges=new r.bkB}_calculateStatus(){return this._allControlsDisabled()?kn:this.errors?Zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vn)?vn:this._anyControlsHaveStatus(Zt)?Zt:xt}_anyControlsHaveStatus(le){return this._anyControls(q=>q.status===le)}_anyControlsDirty(){return this._anyControls(le=>le.dirty)}_anyControlsTouched(){return this._anyControls(le=>le.touched)}_updatePristine(le,q){const Je=!this._anyControlsDirty(),Ut=this.pristine!==Je;this.pristine=Je,this._parent&&!le.onlySelf&&this._parent._updatePristine(le,q),Ut&&this._events.next(new nn(this.pristine,q))}_updateTouched(le={},q){this.touched=this._anyControlsTouched(),this._events.next(new Ht(this.touched,q)),this._parent&&!le.onlySelf&&this._parent._updateTouched(le,q)}_registerOnCollectionChange(le){this._onCollectionChange=le}_setUpdateStrategy(le){tn(le)&&null!=le.updateOn&&(this._updateOn=le.updateOn)}_parentMarkedDirty(le){return!le&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(le){return null}_assignValidators(le){this._rawValidators=Array.isArray(le)?le.slice():le,this._composedValidatorFn=function Bn(k){return Array.isArray(k)?Ze(k):k||null}(this._rawValidators)}_assignAsyncValidators(le){this._rawAsyncValidators=Array.isArray(le)?le.slice():le,this._composedAsyncValidatorFn=function Dn(k){return Array.isArray(k)?bt(k):k||null}(this._rawAsyncValidators)}}class he extends _e{constructor(le,q,Je){super(Mn(q),Pn(Je,q)),this.controls=le,this._initObservables(),this._setUpdateStrategy(q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(le,q){return this.controls[le]?this.controls[le]:(this.controls[le]=q,q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange),q)}addControl(le,q,Je={}){this.registerControl(le,q),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}removeControl(le,q={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}setControl(le,q,Je={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],q&&this.registerControl(le,q),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}contains(le){return this.controls.hasOwnProperty(le)&&this.controls[le].enabled}setValue(le,q={}){yt(this,0,le),Object.keys(le).forEach(Je=>{bn(this,!0,Je),this.controls[Je].setValue(le[Je],{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q)}patchValue(le,q={}){null!=le&&(Object.keys(le).forEach(Je=>{const Ut=this.controls[Je];Ut&&Ut.patchValue(le[Je],{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q))}reset(le={},q={}){this._forEachChild((Je,Ut)=>{Je.reset(le?le[Ut]:null,{onlySelf:!0,emitEvent:q.emitEvent})}),this._updatePristine(q,this),this._updateTouched(q,this),this.updateValueAndValidity(q)}getRawValue(){return this._reduceChildren({},(le,q,Je)=>(le[Je]=q.getRawValue(),le))}_syncPendingControls(){let le=this._reduceChildren(!1,(q,Je)=>!!Je._syncPendingControls()||q);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){Object.keys(this.controls).forEach(q=>{const Je=this.controls[q];Je&&le(Je,q)})}_setUpControls(){this._forEachChild(le=>{le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(le){for(const[q,Je]of Object.entries(this.controls))if(this.contains(q)&&le(Je))return!0;return!1}_reduceValue(){return this._reduceChildren({},(q,Je,Ut)=>((Je.enabled||this.disabled)&&(q[Ut]=Je.value),q))}_reduceChildren(le,q){let Je=le;return this._forEachChild((Ut,Xn)=>{Je=q(Je,Ut,Xn)}),Je}_allControlsDisabled(){for(const le of Object.keys(this.controls))if(this.controls[le].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(le){return this.controls.hasOwnProperty(le)?this.controls[le]:null}}class on extends he{}const Ar=new r.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ir}),Ir="always";function ti(k,le){return[...le.path,k]}function Yr(k,le,q=Ir){ur(k,le),le.valueAccessor.writeValue(k.value),(k.disabled||"always"===q)&&le.valueAccessor.setDisabledState?.(k.disabled),function Ni(k,le){le.valueAccessor.registerOnChange(q=>{k._pendingValue=q,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&En(k,le)})}(k,le),function ar(k,le){const q=(Je,Ut)=>{le.valueAccessor.writeValue(Je),Ut&&le.viewToModelUpdate(Je)};k.registerOnChange(q),le._registerOnDestroy(()=>{k._unregisterOnChange(q)})}(k,le),function rn(k,le){le.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&En(k,le),"submit"!==k.updateOn&&k.markAsTouched()})}(k,le),function er(k,le){if(le.valueAccessor.setDisabledState){const q=Je=>{le.valueAccessor.setDisabledState(Je)};k.registerOnDisabledChange(q),le._registerOnDestroy(()=>{k._unregisterOnDisabledChange(q)})}}(k,le)}function Ki(k,le,q=!0){const Je=()=>{};le.valueAccessor&&(le.valueAccessor.registerOnChange(Je),le.valueAccessor.registerOnTouched(Je)),Ei(k,le),k&&(le._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function mi(k,le){k.forEach(q=>{q.registerOnValidatorChange&&q.registerOnValidatorChange(le)})}function ur(k,le){const q=Le(k);null!==le.validator?k.setValidators(Dt(q,le.validator)):"function"==typeof q&&k.setValidators([q]);const Je=Ae(k);null!==le.asyncValidator?k.setAsyncValidators(Dt(Je,le.asyncValidator)):"function"==typeof Je&&k.setAsyncValidators([Je]);const Ut=()=>k.updateValueAndValidity();mi(le._rawValidators,Ut),mi(le._rawAsyncValidators,Ut)}function Ei(k,le){let q=!1;if(null!==k){if(null!==le.validator){const Ut=Le(k);if(Array.isArray(Ut)&&Ut.length>0){const Xn=Ut.filter(gr=>gr!==le.validator);Xn.length!==Ut.length&&(q=!0,k.setValidators(Xn))}}if(null!==le.asyncValidator){const Ut=Ae(k);if(Array.isArray(Ut)&&Ut.length>0){const Xn=Ut.filter(gr=>gr!==le.asyncValidator);Xn.length!==Ut.length&&(q=!0,k.setAsyncValidators(Xn))}}}const Je=()=>{};return mi(le._rawValidators,Je),mi(le._rawAsyncValidators,Je),q}function En(k,le){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),le.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Er(k,le){ur(k,le)}function An(k,le){if(!k.hasOwnProperty("model"))return!1;const q=k.model;return!!q.isFirstChange()||!Object.is(le,q.currentValue)}function sr(k,le){k._syncPendingControls(),le.forEach(q=>{const Je=q.control;"submit"===Je.updateOn&&Je._pendingChange&&(q.viewToModelUpdate(Je._pendingValue),Je._pendingChange=!1)})}function Pr(k,le){if(!le)return null;let q,Je,Ut;return Array.isArray(le),le.forEach(Xn=>{Xn.constructor===ue?q=Xn:function Kn(k){return Object.getPrototypeOf(k.constructor)===F}(Xn)?Je=Xn:Ut=Xn}),Ut||Je||q||null}const ri={provide:J,useExisting:(0,r.Rfq)(()=>ji)},Ri=Promise.resolve();let ji=(()=>{class k extends J{get submitted(){return(0,r.O8t)(this.submittedReactive)}constructor(q,Je,Ut){super(),this.callSetDisabledState=Ut,this._submitted=(0,r.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,r.vPA)(!1),this._directives=new Set,this.ngSubmit=new r.bkB,this.form=new he({},Ze(q),bt(Je))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(q){Ri.then(()=>{const Je=this._findContainer(q.path);q.control=Je.registerControl(q.name,q.control),Yr(q.control,q,this.callSetDisabledState),q.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(q)})}getControl(q){return this.form.get(q.path)}removeControl(q){Ri.then(()=>{const Je=this._findContainer(q.path);Je&&Je.removeControl(q.name),this._directives.delete(q)})}addFormGroup(q){Ri.then(()=>{const Je=this._findContainer(q.path),Ut=new he({});Er(Ut,q),Je.registerControl(q.name,Ut),Ut.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(q){Ri.then(()=>{const Je=this._findContainer(q.path);Je&&Je.removeControl(q.name)})}getFormGroup(q){return this.form.get(q.path)}updateModel(q,Je){Ri.then(()=>{this.form.get(q.path).setValue(Je)})}setValue(q){this.control.setValue(q)}onSubmit(q){return this.submittedReactive.set(!0),sr(this.form,this._directives),this.ngSubmit.emit(q),"dialog"===q?.target?.method}onReset(){this.resetForm()}resetForm(q=void 0){this.form.reset(q),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(q){return q.pop(),q.length?this.form.get(q):this.form}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(re,10),r.rXU(Z,10),r.rXU(Ar,8))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Je,Ut){1&Je&&r.bIt("submit",function(gr){return Ut.onSubmit(gr)})("reset",function(){return Ut.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([ri]),r.Vt3]})}return k})();function $i(k,le){const q=k.indexOf(le);q>-1&&k.splice(q,1)}function Yi(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const no=class extends _e{constructor(le=null,q,Je){super(Mn(q),Pn(Je,q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(le),this._setUpdateStrategy(q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tn(q)&&(q.nonNullable||q.initialValueIsDefault)&&(this.defaultValue=Yi(le)?le.value:le)}setValue(le,q={}){this.value=this._pendingValue=le,this._onChange.length&&!1!==q.emitModelToViewChange&&this._onChange.forEach(Je=>Je(this.value,!1!==q.emitViewToModelChange)),this.updateValueAndValidity(q)}patchValue(le,q={}){this.setValue(le,q)}reset(le=this.defaultValue,q={}){this._applyFormState(le),this.markAsPristine(q),this.markAsUntouched(q),this.setValue(this.value,q),this._pendingChange=!1}_updateValue(){}_anyControls(le){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(le){this._onChange.push(le)}_unregisterOnChange(le){$i(this._onChange,le)}registerOnDisabledChange(le){this._onDisabledChange.push(le)}_unregisterOnDisabledChange(le){$i(this._onDisabledChange,le)}_forEachChild(le){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(le){Yi(le)?(this.value=this._pendingValue=le.value,le.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=le}},yo=no;let $t=(()=>{class k extends J{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ti(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,features:[r.Vt3]})}return k})();Promise.resolve();let Ro=(()=>{class k{static#e=this.\u0275fac=function(Je){return new(Je||k)};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return k})();const Wo={provide:S,useExisting:(0,r.Rfq)(()=>xs),multi:!0};let xs=(()=>{class k extends F{writeValue(q){this.setProperty("value",q??"")}registerOnChange(q){this.onChange=Je=>{q(""==Je?null:parseFloat(Je))}}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Je,Ut){1&Je&&r.bIt("input",function(gr){return Ut.onChange(gr.target.value)})("blur",function(){return Ut.onTouched()})},features:[r.Jv_([Wo]),r.Vt3]})}return k})();const zn=new r.nKC(""),Wn={provide:W,useExisting:(0,r.Rfq)(()=>Nr)};let Nr=(()=>{class k extends W{set isDisabled(q){}static#e=this._ngModelWarningSentOnce=!1;constructor(q,Je,Ut,Xn,gr){super(),this._ngModelWarningConfig=Xn,this.callSetDisabledState=gr,this.update=new r.bkB,this._ngModelWarningSent=!1,this._setValidators(q),this._setAsyncValidators(Je),this.valueAccessor=Pr(0,Ut)}ngOnChanges(q){if(this._isControlChanged(q)){const Je=q.form.previousValue;Je&&Ki(Je,this,!1),Yr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}An(q,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ki(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(q){this.viewModel=q,this.update.emit(q)}_isControlChanged(q){return q.hasOwnProperty("form")}static#t=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(re,10),r.rXU(Z,10),r.rXU(S,10),r.rXU(zn,8),r.rXU(Ar,8))};static#n=this.\u0275dir=r.FsC({type:k,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Jv_([Wn]),r.Vt3,r.OA$]})}return k})();const li={provide:J,useExisting:(0,r.Rfq)(()=>hi)};let hi=(()=>{class k extends J{get submitted(){return(0,r.O8t)(this._submittedReactive)}set submitted(q){this._submittedReactive.set(q)}constructor(q,Je,Ut){super(),this.callSetDisabledState=Ut,this._submitted=(0,r.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,r.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.bkB,this._setValidators(q),this._setAsyncValidators(Je)}ngOnChanges(q){this._checkFormPresent(),q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ei(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(q){const Je=this.form.get(q.path);return Yr(Je,q,this.callSetDisabledState),Je.updateValueAndValidity({emitEvent:!1}),this.directives.push(q),Je}getControl(q){return this.form.get(q.path)}removeControl(q){Ki(q.control||null,q,!1),function Sr(k,le){const q=k.indexOf(le);q>-1&&k.splice(q,1)}(this.directives,q)}addFormGroup(q){this._setUpFormContainer(q)}removeFormGroup(q){this._cleanUpFormContainer(q)}getFormGroup(q){return this.form.get(q.path)}addFormArray(q){this._setUpFormContainer(q)}removeFormArray(q){this._cleanUpFormContainer(q)}getFormArray(q){return this.form.get(q.path)}updateModel(q,Je){this.form.get(q.path).setValue(Je)}onSubmit(q){return this._submittedReactive.set(!0),sr(this.form,this.directives),this.ngSubmit.emit(q),this.form._events.next(new Nn(this.control)),"dialog"===q?.target?.method}onReset(){this.resetForm()}resetForm(q=void 0){this.form.reset(q),this._submittedReactive.set(!1),this.form._events.next(new Ot(this.form))}_updateDomValue(){this.directives.forEach(q=>{const Je=q.control,Ut=this.form.get(q.path);Je!==Ut&&(Ki(Je||null,q),(k=>k instanceof no)(Ut)&&(Yr(Ut,q,this.callSetDisabledState),q.control=Ut))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(q){const Je=this.form.get(q.path);Er(Je,q),Je.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(q){if(this.form){const Je=this.form.get(q.path);Je&&function Hr(k,le){return Ei(k,le)}(Je,q)&&Je.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ur(this.form,this),this._oldForm&&Ei(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(re,10),r.rXU(Z,10),r.rXU(Ar,8))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","formGroup",""]],hostBindings:function(Je,Ut){1&Je&&r.bIt("submit",function(gr){return Ut.onSubmit(gr)})("reset",function(){return Ut.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([li]),r.Vt3,r.OA$]})}return k})();const ni={provide:J,useExisting:(0,r.Rfq)(()=>Hi)};let Hi=(()=>{class k extends $t{constructor(q,Je,Ut){super(),this.name=null,this._parent=q,this._setValidators(Je),this._setAsyncValidators(Ut)}_checkParentType(){Ui(this._parent)}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(J,13),r.rXU(re,10),r.rXU(Z,10))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[r.Jv_([ni]),r.Vt3]})}return k})();const oo={provide:J,useExisting:(0,r.Rfq)(()=>Eo)};let Eo=(()=>{class k extends J{constructor(q,Je,Ut){super(),this.name=null,this._parent=q,this._setValidators(Je),this._setAsyncValidators(Ut)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ti(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ui(this._parent)}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(J,13),r.rXU(re,10),r.rXU(Z,10))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[r.Jv_([oo]),r.Vt3]})}return k})();function Ui(k){return!(k instanceof Hi||k instanceof hi||k instanceof Eo)}const os={provide:W,useExisting:(0,r.Rfq)(()=>es)};let es=(()=>{class k extends W{set isDisabled(q){}static#e=this._ngModelWarningSentOnce=!1;constructor(q,Je,Ut,Xn,gr){super(),this._ngModelWarningConfig=gr,this._added=!1,this.name=null,this.update=new r.bkB,this._ngModelWarningSent=!1,this._parent=q,this._setValidators(Je),this._setAsyncValidators(Ut),this.valueAccessor=Pr(0,Xn)}ngOnChanges(q){this._added||this._setUpControl(),An(q,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(q){this.viewModel=q,this.update.emit(q)}get path(){return ti(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(J,13),r.rXU(re,10),r.rXU(Z,10),r.rXU(S,10),r.rXU(zn,8))};static#n=this.\u0275dir=r.FsC({type:k,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Jv_([os]),r.Vt3,r.OA$]})}return k})();const rs={provide:S,useExisting:(0,r.Rfq)(()=>Ts),multi:!0};function Ps(k,le){return null==k?`${le}`:(le&&"object"==typeof le&&(le="Object"),`${k}: ${le}`.slice(0,50))}let Ts=(()=>{class k extends F{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(q){this._compareWith=q}writeValue(q){this.value=q;const Ut=Ps(this._getOptionId(q),q);this.setProperty("value",Ut)}registerOnChange(q){this.onChange=Je=>{this.value=this._getOptionValue(Je),q(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(q){for(const Je of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Je),q))return Je;return null}_getOptionValue(q){const Je=function Oo(k){return k.split(":")[0]}(q);return this._optionMap.has(Je)?this._optionMap.get(Je):q}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Je,Ut){1&Je&&r.bIt("change",function(gr){return Ut.onChange(gr.target.value)})("blur",function(){return Ut.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([rs]),r.Vt3]})}return k})(),gs=(()=>{class k{constructor(q,Je,Ut){this._element=q,this._renderer=Je,this._select=Ut,this._select&&(this.id=this._select._registerOption())}set ngValue(q){null!=this._select&&(this._select._optionMap.set(this.id,q),this._setElementValue(Ps(this.id,q)),this._select.writeValue(this._select.value))}set value(q){this._setElementValue(q),this._select&&this._select.writeValue(this._select.value)}_setElementValue(q){this._renderer.setProperty(this._element.nativeElement,"value",q)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Ts,9))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return k})();const ha={provide:S,useExisting:(0,r.Rfq)(()=>_s),multi:!0};function Es(k,le){return null==k?`${le}`:("string"==typeof le&&(le=`'${le}'`),le&&"object"==typeof le&&(le="Object"),`${k}: ${le}`.slice(0,50))}let _s=(()=>{class k extends F{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(q){this._compareWith=q}writeValue(q){let Je;if(this.value=q,Array.isArray(q)){const Ut=q.map(Xn=>this._getOptionId(Xn));Je=(Xn,gr)=>{Xn._setSelected(Ut.indexOf(gr.toString())>-1)}}else Je=(Ut,Xn)=>{Ut._setSelected(!1)};this._optionMap.forEach(Je)}registerOnChange(q){this.onChange=Je=>{const Ut=[],Xn=Je.selectedOptions;if(void 0!==Xn){const gr=Xn;for(let Xi=0;Xi<gr.length;Xi++){const _i=this._getOptionValue(gr[Xi].value);Ut.push(_i)}}else{const gr=Je.options;for(let Xi=0;Xi<gr.length;Xi++){const to=gr[Xi];if(to.selected){const _i=this._getOptionValue(to.value);Ut.push(_i)}}}this.value=Ut,q(Ut)}}_registerOption(q){const Je=(this._idCounter++).toString();return this._optionMap.set(Je,q),Je}_getOptionId(q){for(const Je of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Je)._value,q))return Je;return null}_getOptionValue(q){const Je=function Vo(k){return k.split(":")[0]}(q);return this._optionMap.has(Je)?this._optionMap.get(Je)._value:q}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Je,Ut){1&Je&&r.bIt("change",function(gr){return Ut.onChange(gr.target)})("blur",function(){return Ut.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([ha]),r.Vt3]})}return k})(),ea=(()=>{class k{constructor(q,Je,Ut){this._element=q,this._renderer=Je,this._select=Ut,this._select&&(this.id=this._select._registerOption(this))}set ngValue(q){null!=this._select&&(this._value=q,this._setElementValue(Es(this.id,q)),this._select.writeValue(this._select.value))}set value(q){this._select?(this._value=q,this._setElementValue(Es(this.id,q)),this._select.writeValue(this._select.value)):this._setElementValue(q)}_setElementValue(q){this._renderer.setProperty(this._element.nativeElement,"value",q)}_setSelected(q){this._renderer.setProperty(this._element.nativeElement,"selected",q)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Je){return new(Je||k)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(_s,9))};static#t=this.\u0275dir=r.FsC({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return k})();let Yn=(()=>{class k{constructor(){this._validator=lt}ngOnChanges(q){if(this.inputName in q){const Je=this.normalizeInput(q[this.inputName].currentValue);this._enabled=this.enabled(Je),this._validator=this._enabled?this.createValidator(Je):lt,this._onChange&&this._onChange()}}validate(q){return this._validator(q)}registerOnValidatorChange(q){this._onChange=q}enabled(q){return null!=q}static#e=this.\u0275fac=function(Je){return new(Je||k)};static#t=this.\u0275dir=r.FsC({type:k,features:[r.OA$]})}return k})();const fi={provide:re,useExisting:(0,r.Rfq)(()=>Fi),multi:!0};let Fi=(()=>{class k extends Yn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=q=>function Gn(k){return"number"==typeof k?k:parseFloat(k)}(q),this.createValidator=q=>Ce(q)}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Je,Ut){2&Je&&r.BMQ("min",Ut._enabled?Ut.min:null)},inputs:{min:"min"},features:[r.Jv_([fi]),r.Vt3]})}return k})();const so={provide:re,useExisting:(0,r.Rfq)(()=>eo),multi:!0},Co={provide:re,useExisting:(0,r.Rfq)(()=>Wt),multi:!0};let eo=(()=>{class k extends Yn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.L39,this.createValidator=q=>R}enabled(q){return q}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Je,Ut){2&Je&&r.BMQ("required",Ut._enabled?"":null)},inputs:{required:"required"},features:[r.Jv_([so]),r.Vt3]})}return k})(),Wt=(()=>{class k extends eo{constructor(){super(...arguments),this.createValidator=q=>ce}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Je,Ut){2&Je&&r.BMQ("required",Ut._enabled?"":null)},features:[r.Jv_([Co]),r.Vt3]})}return k})();const lr={provide:re,useExisting:(0,r.Rfq)(()=>Br),multi:!0};let Br=(()=>{class k extends Yn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=q=>function us(k){return"number"==typeof k?k:parseInt(k,10)}(q),this.createValidator=q=>je(q)}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275dir=r.FsC({type:k,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Je,Ut){2&Je&&r.BMQ("maxlength",Ut._enabled?Ut.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.Jv_([lr]),r.Vt3]})}return k})(),vo=(()=>{class k{static#e=this.\u0275fac=function(Je){return new(Je||k)};static#t=this.\u0275mod=r.$C({type:k});static#n=this.\u0275inj=r.G2t({})}return k})();class _o extends _e{constructor(le,q,Je){super(Mn(q),Pn(Je,q)),this.controls=le,this._initObservables(),this._setUpdateStrategy(q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(le){return this.controls[this._adjustIndex(le)]}push(le,q={}){this.controls.push(le),this._registerControl(le),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}insert(le,q,Je={}){this.controls.splice(le,0,q),this._registerControl(q),this.updateValueAndValidity({emitEvent:Je.emitEvent})}removeAt(le,q={}){let Je=this._adjustIndex(le);Je<0&&(Je=0),this.controls[Je]&&this.controls[Je]._registerOnCollectionChange(()=>{}),this.controls.splice(Je,1),this.updateValueAndValidity({emitEvent:q.emitEvent})}setControl(le,q,Je={}){let Ut=this._adjustIndex(le);Ut<0&&(Ut=0),this.controls[Ut]&&this.controls[Ut]._registerOnCollectionChange(()=>{}),this.controls.splice(Ut,1),q&&(this.controls.splice(Ut,0,q),this._registerControl(q)),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(le,q={}){yt(this,0,le),le.forEach((Je,Ut)=>{bn(this,!1,Ut),this.at(Ut).setValue(Je,{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q)}patchValue(le,q={}){null!=le&&(le.forEach((Je,Ut)=>{this.at(Ut)&&this.at(Ut).patchValue(Je,{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q))}reset(le=[],q={}){this._forEachChild((Je,Ut)=>{Je.reset(le[Ut],{onlySelf:!0,emitEvent:q.emitEvent})}),this._updatePristine(q,this),this._updateTouched(q,this),this.updateValueAndValidity(q)}getRawValue(){return this.controls.map(le=>le.getRawValue())}clear(le={}){this.controls.length<1||(this._forEachChild(q=>q._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:le.emitEvent}))}_adjustIndex(le){return le<0?le+this.length:le}_syncPendingControls(){let le=this.controls.reduce((q,Je)=>!!Je._syncPendingControls()||q,!1);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){this.controls.forEach((q,Je)=>{le(q,Je)})}_updateValue(){this.value=this.controls.filter(le=>le.enabled||this.disabled).map(le=>le.value)}_anyControls(le){return this.controls.some(q=>q.enabled&&le(q))}_setUpControls(){this._forEachChild(le=>this._registerControl(le))}_allControlsDisabled(){for(const le of this.controls)if(le.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(le){le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)}_find(le){return this.at(le)??null}}const wo=_o;function xo(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let Qo=(()=>{class k{constructor(){this.useNonNullable=!1}get nonNullable(){const q=new k;return q.useNonNullable=!0,q}group(q,Je=null){const Ut=this._reduceControls(q);let Xn={};return xo(Je)?Xn=Je:null!==Je&&(Xn.validators=Je.validator,Xn.asyncValidators=Je.asyncValidator),new he(Ut,Xn)}record(q,Je=null){const Ut=this._reduceControls(q);return new on(Ut,Je)}control(q,Je,Ut){let Xn={};return this.useNonNullable?(xo(Je)?Xn=Je:(Xn.validators=Je,Xn.asyncValidators=Ut),new no(q,{...Xn,nonNullable:!0})):new no(q,Je,Ut)}array(q,Je,Ut){const Xn=q.map(gr=>this._createControl(gr));return new _o(Xn,Je,Ut)}_reduceControls(q){const Je={};return Object.keys(q).forEach(Ut=>{Je[Ut]=this._createControl(q[Ut])}),Je}_createControl(q){return q instanceof no||q instanceof _e?q:Array.isArray(q)?this.control(q[0],q.length>1?q[1]:null,q.length>2?q[2]:null):this.control(q)}static#e=this.\u0275fac=function(Je){return new(Je||k)};static#t=this.\u0275prov=r.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})(),Qt=(()=>{class k extends Qo{group(q,Je=null){return super.group(q,Je)}control(q,Je,Ut){return super.control(q,Je,Ut)}array(q,Je,Ut){return super.array(q,Je,Ut)}static#e=this.\u0275fac=(()=>{let q;return function(Ut){return(q||(q=r.xGo(k)))(Ut||k)}})();static#t=this.\u0275prov=r.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})(),j=(()=>{class k{static withConfig(q){return{ngModule:k,providers:[{provide:Ar,useValue:q.callSetDisabledState??Ir}]}}static#e=this.\u0275fac=function(Je){return new(Je||k)};static#t=this.\u0275mod=r.$C({type:k});static#n=this.\u0275inj=r.G2t({imports:[vo]})}return k})(),pe=(()=>{class k{static withConfig(q){return{ngModule:k,providers:[{provide:zn,useValue:q.warnOnNgModelWithFormControl??"always"},{provide:Ar,useValue:q.callSetDisabledState??Ir}]}}static#e=this.\u0275fac=function(Je){return new(Je||k)};static#t=this.\u0275mod=r.$C({type:k});static#n=this.\u0275inj=r.G2t({imports:[vo]})}return k})()},35801:(ln,ye,w)=>{"use strict";w.d(ye,{Zi:()=>Dt,tN:()=>se});const r=":",y="|",u="@@",v="\u241f";let x;function X(C){x??=new TextEncoder;const T=x.encode(C),J=new DataView(T.buffer,T.byteOffset,T.byteLength);let W=Z(J,T.length,0),ve=Z(J,T.length,102072);return 0==W&&(0==ve||1==ve)&&(W^=319790063,ve^=-1801410264),BigInt.asUintN(32,BigInt(W))<<BigInt(32)|BigInt.asUintN(32,BigInt(ve))}function Z(C,T,J){let W=2654435769,ve=2654435769,ne=0;const p=T-12;for(;ne<=p;ne+=12){W+=C.getUint32(ne,!0),ve+=C.getUint32(ne+4,!0);const B=Re(W,ve,J+=C.getUint32(ne+8,!0));W=B[0],ve=B[1],J=B[2]}const H=T-ne;return J+=T,H>=4?(W+=C.getUint32(ne,!0),ne+=4,H>=8?(ve+=C.getUint32(ne,!0),ne+=4,H>=9&&(J+=C.getUint8(ne++)<<8),H>=10&&(J+=C.getUint8(ne++)<<16),11===H&&(J+=C.getUint8(ne++)<<24)):(H>=5&&(ve+=C.getUint8(ne++)),H>=6&&(ve+=C.getUint8(ne++)<<8),7===H&&(ve+=C.getUint8(ne++)<<16))):(H>=1&&(W+=C.getUint8(ne++)),H>=2&&(W+=C.getUint8(ne++)<<8),3===H&&(W+=C.getUint8(ne++)<<16)),Re(W,ve,J)[2]}function Re(C,T,J){return C-=T,C-=J,T-=J,T-=C^=J>>>13,J-=C,J-=T^=C<<8,C-=T,C-=J^=T>>>13,T-=J,T-=C^=J>>>12,J-=C,J-=T^=C<<16,C-=T,C-=J^=T>>>5,T-=J,T-=C^=J>>>3,J-=C,J-=T^=C<<10,[C,T,J^=T>>>15]}function je(C,T,J,W,ve=[]){const ne={},p={},H={},B=function Ve(C,T){const{text:J,block:W}=pt(C,T);if(void 0===W)return{text:J};{const[ve,...ne]=W.split(v),[p,H]=ve.split(u,2);let[B,Ie]=p.split(y,2);return void 0===Ie&&(Ie=B,B=void 0),""===Ie&&(Ie=void 0),{text:J,meaning:B,description:Ie,customId:H,legacyIds:ne}}}(C[0],C.raw[0]),Ie=[B.text],$e=[];let ft=B.text;for(let Ye=1;Ye<C.length;Ye++){const{messagePart:ct,placeholderName:It=St(Ye),associatedMessageId:Ke}=lt(C[Ye],C.raw[Ye]);ft+=`{$${It}}${ct}`,void 0!==T&&(ne[It]=T[Ye-1],p[It]=ve[Ye-1]),$e.push(It),void 0!==Ke&&(H[It]=Ke),Ie.push(ct)}const kt=B.customId||function re(C,T=""){let J=X(C);return T&&(J=BigInt.asUintN(64,J<<BigInt(1))|J>>BigInt(63)&BigInt(1),J+=X(T)),BigInt.asUintN(63,J).toString()}(ft,B.meaning||""),jt=B.legacyIds?B.legacyIds.filter(Ye=>Ye!==kt):[];return{id:kt,legacyIds:jt,substitutions:ne,substitutionLocations:p,text:ft,customId:B.customId,meaning:B.meaning||"",description:B.description||"",messageParts:Ie,messagePartLocations:W,placeholderNames:$e,associatedMessageIds:H,location:J}}function lt(C,T){const{text:J,block:W}=pt(C,T);if(void 0===W)return{messagePart:J};{const[ve,ne]=W.split(u);return{messagePart:J,placeholderName:ve,associatedMessageId:ne}}}function pt(C,T){if(T.charAt(0)!==r)return{text:C};{const J=Rn(C,T);return{block:C.substring(1,J),text:C.substring(J+1)}}}function St(C){return 1===C?"PH":"PH_"+(C-1)}function Rn(C,T){for(let J=1,W=1;J<C.length;J++,W++)if("\\"===T[W])W++;else if(C[J]===r)return J;throw new Error(`Unterminated $localize metadata block in "${T}".`)}class G extends Error{constructor(T){super(`No translation found for ${bt(T)}.`),this.parsedMessage=T,this.type="MissingTranslationError"}}function ut(C,T){return Object.defineProperty(C,"raw",{value:T}),C}function bt(C){const T=C.meaning&&` - "${C.meaning}"`,J=C.legacyIds&&C.legacyIds.length>0?` [${C.legacyIds.map(W=>`"${W}"`).join(", ")}]`:"";return`"${C.id}"${J} ("${C.text}"${T})`}function Dt(C){$localize.translate||($localize.translate=Ae),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(C).forEach(T=>{$localize.TRANSLATIONS[T]=function Ge(C){const T=C.split(/{\$([^}]*)}/),J=[T[0]],W=[];for(let ne=1;ne<T.length-1;ne+=2)W.push(T[ne]),J.push(`${T[ne+1]}`);const ve=J.map(ne=>ne.charAt(0)===r?"\\"+ne:ne);return{text:C,messageParts:ut(J,ve),placeholderNames:W}}(C[T])})}function Ae(C,T){try{return function De(C,T,J){const W=je(T,J);let ve=C[W.id];if(void 0!==W.legacyIds)for(let ne=0;ne<W.legacyIds.length&&void 0===ve;ne++)ve=C[W.legacyIds[ne]];if(void 0===ve)throw new G(W);return[ve.messageParts,ve.placeholderNames.map(ne=>{if(W.substitutions.hasOwnProperty(ne))return W.substitutions[ne];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${bt(W)}.\nThe translation contains a placeholder with name ${ne}, which does not exist in the message.`)})]}($localize.TRANSLATIONS,C,T)}catch(J){return console.warn(J.message),[C,T]}}const se=function(C,...T){if(se.translate){const W=se.translate(C,T);C=W[0],T=W[1]}let J=Ee(C[0],C.raw[0]);for(let W=1;W<C.length;W++)J+=T[W-1]+Ee(C[W],C.raw[W]);return J},Me=":";function Ee(C,T){return T.charAt(0)===Me?C.substring(Rn(C,T)+1):C}},65571:(ln,ye,w)=>{"use strict";w.d(ye,{Vg:()=>Re,ec:()=>re,pc:()=>Z});var r=w(18617),y=w(45024),u=w(67336),v=w(54438),x=w(28203),d=w(89417),L=w(86600);const F=["button"],S=["*"];function U(oe,Ce){if(1&oe&&v.nrm(0,"mat-pseudo-checkbox",3),2&oe){const K=v.XpG();v.Y8G("disabled",K.disabled)}}function O(oe,Ce){if(1&oe&&v.nrm(0,"mat-pseudo-checkbox",3),2&oe){const K=v.XpG();v.Y8G("disabled",K.disabled)}}const b=new v.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function M(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),A=new v.nKC("MatButtonToggleGroup"),ue={provide:d.kq,useExisting:(0,v.Rfq)(()=>re),multi:!0};let z=0;class X{constructor(Ce,K){this.source=Ce,this.value=K}}let re=(()=>{class oe{get name(){return this._name}set name(K){this._name=K,this._markButtonsForCheck()}get value(){const K=this._selectionModel?this._selectionModel.selected:[];return this.multiple?K.map(R=>R.value):K[0]?K[0].value:void 0}set value(K){this._setSelectionByValue(K),this.valueChange.emit(this.value)}get selected(){const K=this._selectionModel?this._selectionModel.selected:[];return this.multiple?K:K[0]||null}get multiple(){return this._multiple}set multiple(K){this._multiple=K,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(K){this._disabled=K,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(K){this._disabledInteractive=K,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(K){this._hideSingleSelectionIndicator=K,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(K){this._hideMultipleSelectionIndicator=K,this._markButtonsForCheck()}constructor(K,R,ce){this._changeDetector=K,this._dir=ce,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+z++,this.valueChange=new v.bkB,this.change=new v.bkB,this.appearance=R&&R.appearance?R.appearance:"standard",this.hideSingleSelectionIndicator=R?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=R?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new y.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(K=>K.checked)),this.multiple||this._initializeTabIndex()}writeValue(K){this.value=K,this._changeDetector.markForCheck()}registerOnChange(K){this._controlValueAccessorChangeFn=K}registerOnTouched(K){this._onTouched=K}setDisabledState(K){this.disabled=K}_keydown(K){if(this.multiple||this.disabled)return;const ce=K.target.id,$=this._buttonToggles.toArray().findIndex(je=>je.buttonId===ce);let Fe=null;switch(K.keyCode){case u.t6:case u.Fm:Fe=this._buttonToggles.get($)||null;break;case u.i7:Fe=this._getNextButton($,-1);break;case u.UQ:Fe=this._getNextButton($,"ltr"===this.dir?-1:1);break;case u.n6:Fe=this._getNextButton($,1);break;case u.LE:Fe=this._getNextButton($,"ltr"===this.dir?1:-1);break;default:return}Fe&&(K.preventDefault(),Fe._onButtonClick(),Fe.focus())}_emitChangeEvent(K){const R=new X(K,this.value);this._rawValue=R.value,this._controlValueAccessorChangeFn(R.value),this.change.emit(R)}_syncButtonToggle(K,R,ce=!1,$=!1){!this.multiple&&this.selected&&!K.checked&&(this.selected.checked=!1),this._selectionModel?R?this._selectionModel.select(K):this._selectionModel.deselect(K):$=!0,$?Promise.resolve().then(()=>this._updateModelValue(K,ce)):this._updateModelValue(K,ce)}_isSelected(K){return this._selectionModel&&this._selectionModel.isSelected(K)}_isPrechecked(K){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(R=>null!=K.value&&R===K.value):K.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(K=>{K.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let K=0;K<this._buttonToggles.length;K++){const R=this._buttonToggles.get(K);if(!R.disabled){R.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(K,R){const ce=this._buttonToggles;for(let $=1;$<=ce.length;$++){const je=ce.get((K+R*$+ce.length)%ce.length);if(je&&!je.disabled)return je}return null}_setSelectionByValue(K){this._rawValue=K,this._buttonToggles&&(this.multiple&&K?(Array.isArray(K),this._clearSelection(),K.forEach(R=>this._selectValue(R))):(this._clearSelection(),this._selectValue(K)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(K=>{K.checked=!1,this.multiple||(K.tabIndex=-1)})}_selectValue(K){const R=this._buttonToggles.find(ce=>null!=ce.value&&ce.value===K);R&&(R.checked=!0,this._selectionModel.select(R),this.multiple||(R.tabIndex=0))}_updateModelValue(K,R){R&&this._emitChangeEvent(K),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(K=>K._markForCheck())}static#e=this.\u0275fac=function(R){return new(R||oe)(v.rXU(v.gRc),v.rXU(b,8),v.rXU(x.dS,8))};static#t=this.\u0275dir=v.FsC({type:oe,selectors:[["mat-button-toggle-group"]],contentQueries:function(R,ce,$){if(1&R&&v.wni($,Z,5),2&R){let Fe;v.mGM(Fe=v.lsd())&&(ce._buttonToggles=Fe)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(R,ce){1&R&&v.bIt("keydown",function(Fe){return ce._keydown(Fe)}),2&R&&(v.BMQ("role",ce.multiple?"group":"radiogroup")("aria-disabled",ce.disabled),v.AVh("mat-button-toggle-vertical",ce.vertical)("mat-button-toggle-group-appearance-standard","standard"===ce.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",v.L39],value:"value",multiple:[2,"multiple","multiple",v.L39],disabled:[2,"disabled","disabled",v.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",v.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",v.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",v.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[v.Jv_([ue,{provide:A,useExisting:oe}]),v.GFd]})}return oe})(),Z=(()=>{class oe{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(K){this._tabIndex=K,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(K){this._appearance=K}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(K){K!==this._checked&&(this._checked=K,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(K){this._disabled=K}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(K){this._disabledInteractive=K}constructor(K,R,ce,$,Fe,je){this._changeDetectorRef=R,this._elementRef=ce,this._focusMonitor=$,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new v.bkB;const Ve=Number(Fe);this.tabIndex=Ve||0===Ve?Ve:null,this.buttonToggleGroup=K,this.appearance=je&&je.appearance?je.appearance:"standard",this.disabledInteractive=je?.disabledInteractive??!1}ngOnInit(){const K=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+z++,K&&(K._isPrechecked(this)?this.checked=!0:K._isSelected(this)!==this._checked&&K._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const K=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),K&&K._isSelected(this)&&K._syncButtonToggle(this,!1,!1,!0)}focus(K){this._buttonElement.nativeElement.focus(K)}_onButtonClick(){if(this.disabled)return;const K=!!this.isSingleSelector()||!this._checked;if(K!==this._checked&&(this._checked=K,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const R=this.buttonToggleGroup._buttonToggles.find(ce=>0===ce.tabIndex);R&&(R.tabIndex=-1),this.tabIndex=0}this.change.emit(new X(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(R){return new(R||oe)(v.rXU(A,8),v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(r.FN),v.kS0("tabindex"),v.rXU(b,8))};static#t=this.\u0275cmp=v.VBU({type:oe,selectors:[["mat-button-toggle"]],viewQuery:function(R,ce){if(1&R&&v.GBs(F,5),2&R){let $;v.mGM($=v.lsd())&&(ce._buttonElement=$.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(R,ce){1&R&&v.bIt("focus",function(){return ce.focus()}),2&R&&(v.BMQ("aria-label",null)("aria-labelledby",null)("id",ce.id)("name",null),v.AVh("mat-button-toggle-standalone",!ce.buttonToggleGroup)("mat-button-toggle-checked",ce.checked)("mat-button-toggle-disabled",ce.disabled)("mat-button-toggle-disabled-interactive",ce.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===ce.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",v.L39],appearance:"appearance",checked:[2,"checked","checked",v.L39],disabled:[2,"disabled","disabled",v.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",v.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[v.GFd,v.aNF],ngContentSelectors:S,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(R,ce){if(1&R){const $=v.RV6();v.NAR(),v.j41(0,"button",1,0),v.bIt("click",function(){return v.eBV($),v.Njj(ce._onButtonClick())}),v.j41(2,"span",2),v.DNE(3,U,1,1,"mat-pseudo-checkbox",3)(4,O,1,1,"mat-pseudo-checkbox",3),v.SdG(5),v.k0s()(),v.nrm(6,"span",4)(7,"span",5)}if(2&R){const $=v.sdS(1);v.Y8G("id",ce.buttonId)("disabled",ce.disabled&&!ce.disabledInteractive||null),v.BMQ("role",ce.isSingleSelector()?"radio":"button")("tabindex",ce.disabled&&!ce.disabledInteractive?-1:ce.tabIndex)("aria-pressed",ce.isSingleSelector()?null:ce.checked)("aria-checked",ce.isSingleSelector()?ce.checked:null)("name",ce._getButtonName())("aria-label",ce.ariaLabel)("aria-labelledby",ce.ariaLabelledby)("aria-disabled",ce.disabled&&ce.disabledInteractive?"true":null),v.R7$(3),v.vxM(ce.buttonToggleGroup&&ce.checked&&!ce.buttonToggleGroup.multiple&&!ce.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),v.R7$(),v.vxM(ce.buttonToggleGroup&&ce.checked&&ce.buttonToggleGroup.multiple&&!ce.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),v.R7$(3),v.Y8G("matRippleTrigger",$)("matRippleDisabled",ce.disableRipple||ce.disabled)}},dependencies:[L.r6,L.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return oe})(),Re=(()=>{class oe{static#e=this.\u0275fac=function(R){return new(R||oe)};static#t=this.\u0275mod=v.$C({type:oe});static#n=this.\u0275inj=v.G2t({imports:[L.yE,L.pZ,Z,L.yE]})}return oe})()},88834:(ln,ye,w)=>{"use strict";w.d(ye,{$z:()=>Ce,Hl:()=>Rn});var r=w(36860),y=w(54438),u=w(18617),v=w(86600);const x=["mat-button",""],d=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],L=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],z=new y.nKC("MAT_BUTTON_CONFIG"),re=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Z=(()=>{class G{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(De){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,De)}get disableRipple(){return this._disableRipple}set disableRipple(De){this._disableRipple=De,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(De){this._disabled=De,this._updateRippleDisabled()}constructor(De,Ge,Ze,ut){this._elementRef=De,this._platform=Ge,this._ngZone=Ze,this._animationMode=ut,this._focusMonitor=(0,y.WQX)(u.FN),this._rippleLoader=(0,y.WQX)(v.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const bt=(0,y.WQX)(z,{optional:!0}),Dt=De.nativeElement,Le=Dt.classList;this.disabledInteractive=bt?.disabledInteractive??!1,this.color=bt?.color??null,this._rippleLoader?.configureRipple(Dt,{className:"mat-mdc-button-ripple"});for(const{attribute:Ae,mdcClasses:se}of re)Dt.hasAttribute(Ae)&&Le.add(...se)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(De="program",Ge){De?this._focusMonitor.focusVia(this._elementRef.nativeElement,De,Ge):this._elementRef.nativeElement.focus(Ge)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(Ge){y.QTQ()};static#t=this.\u0275dir=y.FsC({type:G,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",y.L39],disabled:[2,"disabled","disabled",y.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",y.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",y.L39]},features:[y.GFd]})}return G})(),Ce=(()=>{class G extends Z{constructor(De,Ge,Ze,ut){super(De,Ge,Ze,ut)}static#e=this.\u0275fac=function(Ge){return new(Ge||G)(y.rXU(y.aKT),y.rXU(r.OD),y.rXU(y.SKi),y.rXU(y.bc$,8))};static#t=this.\u0275cmp=y.VBU({type:G,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(Ge,Ze){2&Ge&&(y.BMQ("disabled",Ze._getDisabledAttribute())("aria-disabled",Ze._getAriaDisabled()),y.HbH(Ze.color?"mat-"+Ze.color:""),y.AVh("mat-mdc-button-disabled",Ze.disabled)("mat-mdc-button-disabled-interactive",Ze.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Ze._animationMode)("mat-unthemed",!Ze.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[y.Vt3,y.aNF],attrs:x,ngContentSelectors:L,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ge,Ze){1&Ge&&(y.NAR(d),y.nrm(0,"span",0),y.SdG(1),y.j41(2,"span",1),y.SdG(3,1),y.k0s(),y.SdG(4,2),y.nrm(5,"span",2)(6,"span",3)),2&Ge&&y.AVh("mdc-button__ripple",!Ze._isFab)("mdc-fab__ripple",Ze._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return G})(),Rn=(()=>{class G{static#e=this.\u0275fac=function(Ge){return new(Ge||G)};static#t=this.\u0275mod=y.$C({type:G});static#n=this.\u0275inj=y.G2t({imports:[v.yE,v.pZ,v.yE]})}return G})()},82765:(ln,ye,w)=>{"use strict";w.d(ye,{So:()=>A,g7:()=>re});var r=w(54438),y=w(89417),u=w(86600);const v=["input"],x=["label"],d=["*"],L=new r.nKC("mat-checkbox-default-options",{providedIn:"root",factory:F});function F(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var S=function(Z){return Z[Z.Init=0]="Init",Z[Z.Checked=1]="Checked",Z[Z.Unchecked=2]="Unchecked",Z[Z.Indeterminate=3]="Indeterminate",Z}(S||{});const U={provide:y.kq,useExisting:(0,r.Rfq)(()=>A),multi:!0};class O{}let b=0;const M=F();let A=(()=>{class Z{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(oe){const Ce=new O;return Ce.source=this,Ce.checked=oe,Ce}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(oe,Ce,K,R,ce,$){this._elementRef=oe,this._changeDetectorRef=Ce,this._ngZone=K,this._animationMode=ce,this._options=$,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new r.bkB,this.indeterminateChange=new r.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=S.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||M,this.color=this._options.color||M.color,this.tabIndex=parseInt(R)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++b,this.disabledInteractive=$?.disabledInteractive??!1}ngOnChanges(oe){oe.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(oe){oe!=this.checked&&(this._checked=oe,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(oe){oe!==this.disabled&&(this._disabled=oe,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(oe){const Ce=oe!=this._indeterminate;this._indeterminate=oe,Ce&&(this._transitionCheckState(this._indeterminate?S.Indeterminate:this.checked?S.Checked:S.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(oe){this.checked=!!oe}registerOnChange(oe){this._controlValueAccessorChangeFn=oe}registerOnTouched(oe){this._onTouched=oe}setDisabledState(oe){this.disabled=oe}validate(oe){return this.required&&!0!==oe.value?{required:!0}:null}registerOnValidatorChange(oe){this._validatorChangeFn=oe}_transitionCheckState(oe){let Ce=this._currentCheckState,K=this._getAnimationTargetElement();if(Ce!==oe&&K&&(this._currentAnimationClass&&K.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(Ce,oe),this._currentCheckState=oe,this._currentAnimationClass.length>0)){K.classList.add(this._currentAnimationClass);const R=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{K.classList.remove(R)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const oe=this._options?.clickAction;this.disabled||"noop"===oe?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===oe)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==oe&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?S.Checked:S.Unchecked),this._emitChangeEvent())}_onInteractionEvent(oe){oe.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(oe,Ce){if("NoopAnimations"===this._animationMode)return"";switch(oe){case S.Init:if(Ce===S.Checked)return this._animationClasses.uncheckedToChecked;if(Ce==S.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case S.Unchecked:return Ce===S.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case S.Checked:return Ce===S.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case S.Indeterminate:return Ce===S.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(oe){const Ce=this._inputElement;Ce&&(Ce.nativeElement.indeterminate=oe)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(oe){oe.target&&this._labelElement.nativeElement.contains(oe.target)&&oe.stopPropagation()}static#e=this.\u0275fac=function(Ce){return new(Ce||Z)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(r.SKi),r.kS0("tabindex"),r.rXU(r.bc$,8),r.rXU(L,8))};static#t=this.\u0275cmp=r.VBU({type:Z,selectors:[["mat-checkbox"]],viewQuery:function(Ce,K){if(1&Ce&&(r.GBs(v,5),r.GBs(x,5),r.GBs(u.r6,5)),2&Ce){let R;r.mGM(R=r.lsd())&&(K._inputElement=R.first),r.mGM(R=r.lsd())&&(K._labelElement=R.first),r.mGM(R=r.lsd())&&(K.ripple=R.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(Ce,K){2&Ce&&(r.Mr5("id",K.id),r.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),r.HbH(K.color?"mat-"+K.color:"mat-accent"),r.AVh("_mat-animation-noopable","NoopAnimations"===K._animationMode)("mdc-checkbox--disabled",K.disabled)("mat-mdc-checkbox-disabled",K.disabled)("mat-mdc-checkbox-checked",K.checked)("mat-mdc-checkbox-disabled-interactive",K.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",r.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",r.L39],tabIndex:[2,"tabIndex","tabIndex",oe=>null==oe?void 0:(0,r.Udg)(oe)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",r.L39],checked:[2,"checked","checked",r.L39],disabled:[2,"disabled","disabled",r.L39],indeterminate:[2,"indeterminate","indeterminate",r.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[r.Jv_([U,{provide:y.cz,useExisting:Z,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:d,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(Ce,K){if(1&Ce){const R=r.RV6();r.NAR(),r.j41(0,"div",3),r.bIt("click",function($){return r.eBV(R),r.Njj(K._preventBubblingFromLabel($))}),r.j41(1,"div",4,0)(3,"div",5),r.bIt("click",function(){return r.eBV(R),r.Njj(K._onTouchTargetClick())}),r.k0s(),r.j41(4,"input",6,1),r.bIt("blur",function(){return r.eBV(R),r.Njj(K._onBlur())})("click",function(){return r.eBV(R),r.Njj(K._onInputClick())})("change",function($){return r.eBV(R),r.Njj(K._onInteractionEvent($))}),r.k0s(),r.nrm(6,"div",7),r.j41(7,"div",8),r.qSk(),r.j41(8,"svg",9),r.nrm(9,"path",10),r.k0s(),r.joV(),r.nrm(10,"div",11),r.k0s(),r.nrm(11,"div",12),r.k0s(),r.j41(12,"label",13,2),r.SdG(14),r.k0s()()}if(2&Ce){const R=r.sdS(2);r.Y8G("labelPosition",K.labelPosition),r.R7$(4),r.AVh("mdc-checkbox--selected",K.checked),r.Y8G("checked",K.checked)("indeterminate",K.indeterminate)("disabled",K.disabled&&!K.disabledInteractive)("id",K.inputId)("required",K.required)("tabIndex",K.disabled&&!K.disabledInteractive?-1:K.tabIndex),r.BMQ("aria-label",K.ariaLabel||null)("aria-labelledby",K.ariaLabelledby)("aria-describedby",K.ariaDescribedby)("aria-checked",K.indeterminate?"mixed":null)("aria-disabled",!(!K.disabled||!K.disabledInteractive)||null)("name",K.name)("value",K.value),r.R7$(7),r.Y8G("matRippleTrigger",R)("matRippleDisabled",K.disableRipple||K.disabled)("matRippleCentered",!0),r.R7$(),r.Y8G("for",K.inputId)}},dependencies:[u.r6,u.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Z})(),re=(()=>{class Z{static#e=this.\u0275fac=function(Ce){return new(Ce||Z)};static#t=this.\u0275mod=r.$C({type:Z});static#n=this.\u0275inj=r.G2t({imports:[A,u.yE,u.yE]})}return Z})()},86600:(ln,ye,w)=>{"use strict";w.d(ye,{es:()=>T,QC:()=>We,is:()=>Vt,$E:()=>Ke,yE:()=>ce,wT:()=>Zt,Sy:()=>tr,wg:()=>Ct,r6:()=>wt,Ej:()=>Mn,pZ:()=>rt,Ex:()=>p,X0:()=>Rn,tO:()=>Bn,jb:()=>vn,TL:()=>kn});var r=w(54438),y=w(18617),u=w(28203),x=w(60177),d=w(36860),L=w(14085),F=w(85052),S=w(67336);const b=["text"],M=[[["mat-icon"]],"*"],A=["mat-icon","*"];function ue(Pn,Dn){if(1&Pn&&r.nrm(0,"mat-pseudo-checkbox",1),2&Pn){const tn=r.XpG();r.Y8G("disabled",tn.disabled)("state",tn.selected?"checked":"unchecked")}}function z(Pn,Dn){if(1&Pn&&r.nrm(0,"mat-pseudo-checkbox",3),2&Pn){const tn=r.XpG();r.Y8G("disabled",tn.disabled)}}function X(Pn,Dn){if(1&Pn&&(r.j41(0,"span",4),r.EFF(1),r.k0s()),2&Pn){const tn=r.XpG();r.R7$(),r.SpI("(",tn.group.label,")")}}const re=["mat-internal-form-field",""],Z=["*"],R=new r.nKC("mat-sanity-checks",{providedIn:"root",factory:function K(){return!0}});let ce=(()=>{class Pn{constructor(tn,bn,yt){this._sanityChecks=bn,this._document=yt,this._hasDoneGlobalChecks=!1,tn._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(tn){return!(0,d.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[tn])}static#e=this.\u0275fac=function(bn){return new(bn||Pn)(r.KVO(y.Q_),r.KVO(R,8),r.KVO(x.qQ))};static#t=this.\u0275mod=r.$C({type:Pn});static#n=this.\u0275inj=r.G2t({imports:[u.jI,u.jI]})}return Pn})();class Rn{constructor(Dn,tn,bn,yt,_e){this._defaultMatcher=Dn,this.ngControl=tn,this._parentFormGroup=bn,this._parentForm=yt,this._stateChanges=_e,this.errorState=!1}updateErrorState(){const Dn=this.errorState,tn=this._parentFormGroup||this._parentForm,bn=this.matcher||this._defaultMatcher,yt=this.ngControl?this.ngControl.control:null,_e=bn?.isErrorState(yt,tn)??!1;_e!==Dn&&(this.errorState=_e,this._stateChanges.next())}}let T=(()=>{class Pn{isErrorState(tn,bn){return!!(tn&&tn.invalid&&(tn.touched||bn&&bn.submitted))}static#e=this.\u0275fac=function(bn){return new(bn||Pn)};static#t=this.\u0275prov=r.jDH({token:Pn,factory:Pn.\u0275fac,providedIn:"root"})}return Pn})();var p=function(Pn){return Pn[Pn.FADING_IN=0]="FADING_IN",Pn[Pn.VISIBLE=1]="VISIBLE",Pn[Pn.FADING_OUT=2]="FADING_OUT",Pn[Pn.HIDDEN=3]="HIDDEN",Pn}(p||{});class H{constructor(Dn,tn,bn,yt=!1){this._renderer=Dn,this.element=tn,this.config=bn,this._animationForciblyDisabledThroughCss=yt,this.state=p.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const B=(0,d.BQ)({passive:!0,capture:!0});class Ie{constructor(){this._events=new Map,this._delegateEventHandler=Dn=>{const tn=(0,d.Fb)(Dn);tn&&this._events.get(Dn.type)?.forEach((bn,yt)=>{(yt===tn||yt.contains(tn))&&bn.forEach(_e=>_e.handleEvent(Dn))})}}addHandler(Dn,tn,bn,yt){const _e=this._events.get(tn);if(_e){const he=_e.get(bn);he?he.add(yt):_e.set(bn,new Set([yt]))}else this._events.set(tn,new Map([[bn,new Set([yt])]])),Dn.runOutsideAngular(()=>{document.addEventListener(tn,this._delegateEventHandler,B)})}removeHandler(Dn,tn,bn){const yt=this._events.get(Dn);if(!yt)return;const _e=yt.get(tn);_e&&(_e.delete(bn),0===_e.size&&yt.delete(tn),0===yt.size&&(this._events.delete(Dn),document.removeEventListener(Dn,this._delegateEventHandler,B)))}}const $e={enterDuration:225,exitDuration:150},kt=(0,d.BQ)({passive:!0,capture:!0}),jt=["mousedown","touchstart"],Ye=["mouseup","mouseleave","touchend","touchcancel"];class ct{static#e=this._eventManager=new Ie;constructor(Dn,tn,bn,yt){this._target=Dn,this._ngZone=tn,this._platform=yt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,yt.isBrowser&&(this._containerElement=(0,L.i8)(bn))}fadeInRipple(Dn,tn,bn={}){const yt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),_e={...$e,...bn.animation};bn.centered&&(Dn=yt.left+yt.width/2,tn=yt.top+yt.height/2);const he=bn.radius||function It(Pn,Dn,tn){const bn=Math.max(Math.abs(Pn-tn.left),Math.abs(Pn-tn.right)),yt=Math.max(Math.abs(Dn-tn.top),Math.abs(Dn-tn.bottom));return Math.sqrt(bn*bn+yt*yt)}(Dn,tn,yt),Be=Dn-yt.left,ht=tn-yt.top,zt=_e.enterDuration,on=document.createElement("div");on.classList.add("mat-ripple-element"),on.style.left=Be-he+"px",on.style.top=ht-he+"px",on.style.height=2*he+"px",on.style.width=2*he+"px",null!=bn.color&&(on.style.backgroundColor=bn.color),on.style.transitionDuration=`${zt}ms`,this._containerElement.appendChild(on);const Hn=window.getComputedStyle(on),Ir=Hn.transitionDuration,ti="none"===Hn.transitionProperty||"0s"===Ir||"0s, 0s"===Ir||0===yt.width&&0===yt.height,Yr=new H(this,on,bn,ti);on.style.transform="scale3d(1, 1, 1)",Yr.state=p.FADING_IN,bn.persistent||(this._mostRecentTransientRipple=Yr);let Ki=null;return!ti&&(zt||_e.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const mi=()=>{Ki&&(Ki.fallbackTimer=null),clearTimeout(ur),this._finishRippleTransition(Yr)},er=()=>this._destroyRipple(Yr),ur=setTimeout(er,zt+100);on.addEventListener("transitionend",mi),on.addEventListener("transitioncancel",er),Ki={onTransitionEnd:mi,onTransitionCancel:er,fallbackTimer:ur}}),this._activeRipples.set(Yr,Ki),(ti||!zt)&&this._finishRippleTransition(Yr),Yr}fadeOutRipple(Dn){if(Dn.state===p.FADING_OUT||Dn.state===p.HIDDEN)return;const tn=Dn.element,bn={...$e,...Dn.config.animation};tn.style.transitionDuration=`${bn.exitDuration}ms`,tn.style.opacity="0",Dn.state=p.FADING_OUT,(Dn._animationForciblyDisabledThroughCss||!bn.exitDuration)&&this._finishRippleTransition(Dn)}fadeOutAll(){this._getActiveRipples().forEach(Dn=>Dn.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Dn=>{Dn.config.persistent||Dn.fadeOut()})}setupTriggerEvents(Dn){const tn=(0,L.i8)(Dn);!this._platform.isBrowser||!tn||tn===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=tn,jt.forEach(bn=>{ct._eventManager.addHandler(this._ngZone,bn,tn,this)}))}handleEvent(Dn){"mousedown"===Dn.type?this._onMousedown(Dn):"touchstart"===Dn.type?this._onTouchStart(Dn):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ye.forEach(tn=>{this._triggerElement.addEventListener(tn,this,kt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Dn){Dn.state===p.FADING_IN?this._startFadeOutTransition(Dn):Dn.state===p.FADING_OUT&&this._destroyRipple(Dn)}_startFadeOutTransition(Dn){const tn=Dn===this._mostRecentTransientRipple,{persistent:bn}=Dn.config;Dn.state=p.VISIBLE,!bn&&(!tn||!this._isPointerDown)&&Dn.fadeOut()}_destroyRipple(Dn){const tn=this._activeRipples.get(Dn)??null;this._activeRipples.delete(Dn),this._activeRipples.size||(this._containerRect=null),Dn===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Dn.state=p.HIDDEN,null!==tn&&(Dn.element.removeEventListener("transitionend",tn.onTransitionEnd),Dn.element.removeEventListener("transitioncancel",tn.onTransitionCancel),null!==tn.fallbackTimer&&clearTimeout(tn.fallbackTimer)),Dn.element.remove()}_onMousedown(Dn){const tn=(0,y._G)(Dn),bn=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!tn&&!bn&&(this._isPointerDown=!0,this.fadeInRipple(Dn.clientX,Dn.clientY,this._target.rippleConfig))}_onTouchStart(Dn){if(!this._target.rippleDisabled&&!(0,y.w6)(Dn)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const tn=Dn.changedTouches;if(tn)for(let bn=0;bn<tn.length;bn++)this.fadeInRipple(tn[bn].clientX,tn[bn].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Dn=>{!Dn.config.persistent&&(Dn.state===p.VISIBLE||Dn.config.terminateOnPointerUp&&Dn.state===p.FADING_IN)&&Dn.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Dn=this._triggerElement;Dn&&(jt.forEach(tn=>ct._eventManager.removeHandler(tn,Dn,this)),this._pointerUpEventsRegistered&&(Ye.forEach(tn=>Dn.removeEventListener(tn,this,kt)),this._pointerUpEventsRegistered=!1))}}const Ke=new r.nKC("mat-ripple-global-options");let wt=(()=>{class Pn{get disabled(){return this._disabled}set disabled(tn){tn&&this.fadeOutAllNonPersistent(),this._disabled=tn,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(tn){this._trigger=tn,this._setupTriggerEventsIfEnabled()}constructor(tn,bn,yt,_e,he){this._elementRef=tn,this._animationMode=he,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=_e||{},this._rippleRenderer=new ct(this,bn,tn,yt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(tn,bn=0,yt){return"number"==typeof tn?this._rippleRenderer.fadeInRipple(tn,bn,{...this.rippleConfig,...yt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...tn})}static#e=this.\u0275fac=function(bn){return new(bn||Pn)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(d.OD),r.rXU(Ke,8),r.rXU(r.bc$,8))};static#t=this.\u0275dir=r.FsC({type:Pn,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(bn,yt){2&bn&&r.AVh("mat-ripple-unbounded",yt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Pn})(),rt=(()=>{class Pn{static#e=this.\u0275fac=function(bn){return new(bn||Pn)};static#t=this.\u0275mod=r.$C({type:Pn});static#n=this.\u0275inj=r.G2t({imports:[ce,ce]})}return Pn})(),Ct=(()=>{class Pn{constructor(tn){this._animationMode=tn,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(bn){return new(bn||Pn)(r.rXU(r.bc$,8))};static#t=this.\u0275cmp=r.VBU({type:Pn,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(bn,yt){2&bn&&r.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===yt.state)("mat-pseudo-checkbox-checked","checked"===yt.state)("mat-pseudo-checkbox-disabled",yt.disabled)("mat-pseudo-checkbox-minimal","minimal"===yt.appearance)("mat-pseudo-checkbox-full","full"===yt.appearance)("_mat-animation-noopable","NoopAnimations"===yt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(bn,yt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Pn})(),mt=(()=>{class Pn{static#e=this.\u0275fac=function(bn){return new(bn||Pn)};static#t=this.\u0275mod=r.$C({type:Pn});static#n=this.\u0275inj=r.G2t({imports:[ce]})}return Pn})();const Vt=new r.nKC("MAT_OPTION_PARENT_COMPONENT"),We=new r.nKC("MatOptgroup");let et=0;class xt{constructor(Dn,tn=!1){this.source=Dn,this.isUserInput=tn}}let Zt=(()=>{class Pn{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(tn){this._disabled=tn}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(tn,bn,yt,_e){this._element=tn,this._changeDetectorRef=bn,this._parent=yt,this.group=_e,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+et++,this.onSelectionChange=new r.bkB,this._stateChanges=new F.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(tn=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),tn&&this._emitSelectionChangeEvent())}deselect(tn=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),tn&&this._emitSelectionChangeEvent())}focus(tn,bn){const yt=this._getHostElement();"function"==typeof yt.focus&&yt.focus(bn)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(tn){(tn.keyCode===S.Fm||tn.keyCode===S.t6)&&!(0,S.rp)(tn)&&(this._selectViaInteraction(),tn.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const tn=this.viewValue;tn!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=tn)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(tn=!1){this.onSelectionChange.emit(new xt(this,tn))}static#e=this.\u0275fac=function(bn){return new(bn||Pn)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(Vt,8),r.rXU(We,8))};static#t=this.\u0275cmp=r.VBU({type:Pn,selectors:[["mat-option"]],viewQuery:function(bn,yt){if(1&bn&&r.GBs(b,7),2&bn){let _e;r.mGM(_e=r.lsd())&&(yt._text=_e.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(bn,yt){1&bn&&r.bIt("click",function(){return yt._selectViaInteraction()})("keydown",function(he){return yt._handleKeydown(he)}),2&bn&&(r.Mr5("id",yt.id),r.BMQ("aria-selected",yt.selected)("aria-disabled",yt.disabled.toString()),r.AVh("mdc-list-item--selected",yt.selected)("mat-mdc-option-multiple",yt.multiple)("mat-mdc-option-active",yt.active)("mdc-list-item--disabled",yt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",r.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[r.GFd,r.aNF],ngContentSelectors:A,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(bn,yt){1&bn&&(r.NAR(M),r.DNE(0,ue,1,2,"mat-pseudo-checkbox",1),r.SdG(1),r.j41(2,"span",2,0),r.SdG(4,1),r.k0s(),r.DNE(5,z,1,1,"mat-pseudo-checkbox",3)(6,X,2,1,"span",4),r.nrm(7,"div",5)),2&bn&&(r.vxM(yt.multiple?0:-1),r.R7$(5),r.vxM(yt.multiple||!yt.selected||yt.hideSingleSelectionIndicator?-1:5),r.R7$(),r.vxM(yt.group&&yt.group._inert?6:-1),r.R7$(),r.Y8G("matRippleTrigger",yt._getHostElement())("matRippleDisabled",yt.disabled||yt.disableRipple))},dependencies:[Ct,wt],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Pn})();function vn(Pn,Dn,tn){if(tn.length){let bn=Dn.toArray(),yt=tn.toArray(),_e=0;for(let he=0;he<Pn+1;he++)bn[he].group&&bn[he].group===yt[_e]&&_e++;return _e}return 0}function kn(Pn,Dn,tn,bn){return Pn<tn?Pn:Pn+Dn>tn+bn?Math.max(0,Pn-bn+Dn):tn}let tr=(()=>{class Pn{static#e=this.\u0275fac=function(bn){return new(bn||Pn)};static#t=this.\u0275mod=r.$C({type:Pn});static#n=this.\u0275inj=r.G2t({imports:[rt,ce,mt]})}return Pn})();const dn={capture:!0},nn=["focus","mousedown","mouseenter","touchstart"],Ht="mat-ripple-loader-uninitialized",Xt="mat-ripple-loader-class-name",Nn="mat-ripple-loader-centered",Ot="mat-ripple-loader-disabled";let Mn=(()=>{class Pn{constructor(){this._document=(0,r.WQX)(x.qQ,{optional:!0}),this._animationMode=(0,r.WQX)(r.bc$,{optional:!0}),this._globalRippleOptions=(0,r.WQX)(Ke,{optional:!0}),this._platform=(0,r.WQX)(d.OD),this._ngZone=(0,r.WQX)(r.SKi),this._hosts=new Map,this._onInteraction=tn=>{const bn=(0,d.Fb)(tn);if(bn instanceof HTMLElement){const yt=bn.closest(`[${Ht}="${this._globalRippleOptions?.namespace??""}"]`);yt&&this._createRipple(yt)}},this._ngZone.runOutsideAngular(()=>{for(const tn of nn)this._document?.addEventListener(tn,this._onInteraction,dn)})}ngOnDestroy(){const tn=this._hosts.keys();for(const bn of tn)this.destroyRipple(bn);for(const bn of nn)this._document?.removeEventListener(bn,this._onInteraction,dn)}configureRipple(tn,bn){tn.setAttribute(Ht,this._globalRippleOptions?.namespace??""),(bn.className||!tn.hasAttribute(Xt))&&tn.setAttribute(Xt,bn.className||""),bn.centered&&tn.setAttribute(Nn,""),bn.disabled&&tn.setAttribute(Ot,"")}getRipple(tn){return this._hosts.get(tn)||this._createRipple(tn)}setDisabled(tn,bn){const yt=this._hosts.get(tn);yt?yt.disabled=bn:bn?tn.setAttribute(Ot,""):tn.removeAttribute(Ot)}_createRipple(tn){if(!this._document)return;const bn=this._hosts.get(tn);if(bn)return bn;tn.querySelector(".mat-ripple")?.remove();const yt=this._document.createElement("span");yt.classList.add("mat-ripple",tn.getAttribute(Xt)),tn.append(yt);const _e=new wt(new r.aKT(yt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return _e._isInitialized=!0,_e.trigger=tn,_e.centered=tn.hasAttribute(Nn),_e.disabled=tn.hasAttribute(Ot),this.attachRipple(tn,_e),_e}attachRipple(tn,bn){tn.removeAttribute(Ht),this._hosts.set(tn,bn)}destroyRipple(tn){const bn=this._hosts.get(tn);bn&&(bn.ngOnDestroy(),this._hosts.delete(tn))}static#e=this.\u0275fac=function(bn){return new(bn||Pn)};static#t=this.\u0275prov=r.jDH({token:Pn,factory:Pn.\u0275fac,providedIn:"root"})}return Pn})(),Bn=(()=>{class Pn{static#e=this.\u0275fac=function(bn){return new(bn||Pn)};static#t=this.\u0275cmp=r.VBU({type:Pn,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(bn,yt){2&bn&&r.AVh("mdc-form-field--align-end","before"===yt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[r.aNF],attrs:re,ngContentSelectors:Z,decls:1,vars:0,template:function(bn,yt){1&bn&&(r.NAR(),r.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Pn})()},34006:(ln,ye,w)=>{"use strict";w.d(ye,{BI:()=>Dt,CP:()=>Ve,E7:()=>Ae,Vh:()=>pt,Yi:()=>Le,bZ:()=>Ge,hM:()=>Ee,tx:()=>ut});var r=w(90953),y=w(60177),u=w(54438),v=w(18617),x=w(82529),d=w(14085),L=w(76939),F=w(85052),S=w(76718),U=w(45946),O=w(14264),b=w(17365),M=w(35160),A=w(67336),ue=w(65478),z=w(86600);function re(J,W){}w(49969);class Z{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Re="mdc-dialog--open",oe="mdc-dialog--opening",Ce="mdc-dialog--closing";let ce=(()=>{class J extends x.sU{constructor(ve,ne,p,H,B,Ie,$e,ft,kt){super(ve,ne,p,H,B,Ie,$e,kt),this._animationMode=ft,this._animationStateChanged=new u.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Fe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Fe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oe,Re)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Re),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Re),this._animationsEnabled?(this._hostElement.style.setProperty($,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ce)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(ve){this._actionSectionCount+=ve,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(oe,Ce)}_waitForAnimationToComplete(ve,ne){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ne,ve)}_requestAnimationFrame(ve){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):ve()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ve){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ve})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(ve){const ne=super.attachComponentPortal(ve);return ne.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),ne}static#e=this.\u0275fac=function(ne){return new(ne||J)(u.rXU(u.aKT),u.rXU(v.GX),u.rXU(y.qQ,8),u.rXU(Z),u.rXU(v.Z7),u.rXU(u.SKi),u.rXU(r.yY),u.rXU(u.bc$,8),u.rXU(v.FN))};static#t=this.\u0275cmp=u.VBU({type:J,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(ne,p){2&ne&&(u.Mr5("id",p._config.id),u.BMQ("aria-modal",p._config.ariaModal)("role",p._config.role)("aria-labelledby",p._config.ariaLabel?null:p._ariaLabelledByQueue[0])("aria-label",p._config.ariaLabel)("aria-describedby",p._config.ariaDescribedBy||null),u.AVh("_mat-animation-noopable",!p._animationsEnabled)("mat-mdc-dialog-container-with-actions",p._actionSectionCount>0))},standalone:!0,features:[u.Vt3,u.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ne,p){1&ne&&(u.j41(0,"div",0)(1,"div",1),u.DNE(2,re,0,0,"ng-template",2),u.k0s()())},dependencies:[L.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return J})();const $="--mat-dialog-transition-duration";function Fe(J){return null==J?null:"number"==typeof J?J:J.endsWith("ms")?(0,d.OE)(J.substring(0,J.length-2)):J.endsWith("s")?1e3*(0,d.OE)(J.substring(0,J.length-1)):"0"===J?0:null}var je=function(J){return J[J.OPEN=0]="OPEN",J[J.CLOSING=1]="CLOSING",J[J.CLOSED=2]="CLOSED",J}(je||{});class Ve{constructor(W,ve,ne){this._ref=W,this._containerInstance=ne,this._afterOpened=new F.B,this._beforeClosed=new F.B,this._state=je.OPEN,this.disableClose=ve.disableClose,this.id=W.id,W.addPanelClass("mat-mdc-dialog-panel"),ne._animationStateChanged.pipe((0,O.p)(p=>"opened"===p.state),(0,b.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ne._animationStateChanged.pipe((0,O.p)(p=>"closed"===p.state),(0,b.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),W.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,S.h)(this.backdropClick(),this.keydownEvents().pipe((0,O.p)(p=>p.keyCode===A._f&&!this.disableClose&&!(0,A.rp)(p)))).subscribe(p=>{this.disableClose||(p.preventDefault(),lt(this,"keydown"===p.type?"keyboard":"mouse"))})}close(W){this._result=W,this._containerInstance._animationStateChanged.pipe((0,O.p)(ve=>"closing"===ve.state),(0,b.s)(1)).subscribe(ve=>{this._beforeClosed.next(W),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ve.totalTime+100)}),this._state=je.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(W){let ve=this._ref.config.positionStrategy;return W&&(W.left||W.right)?W.left?ve.left(W.left):ve.right(W.right):ve.centerHorizontally(),W&&(W.top||W.bottom)?W.top?ve.top(W.top):ve.bottom(W.bottom):ve.centerVertically(),this._ref.updatePosition(),this}updateSize(W="",ve=""){return this._ref.updateSize(W,ve),this}addPanelClass(W){return this._ref.addPanelClass(W),this}removePanelClass(W){return this._ref.removePanelClass(W),this}getState(){return this._state}_finishDialogClose(){this._state=je.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function lt(J,W,ve){return J._closeInteractionType=W,J.close(ve)}const pt=new u.nKC("MatMdcDialogData"),St=new u.nKC("mat-mdc-dialog-default-options"),Rn=new u.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const J=(0,u.WQX)(r.hJ);return()=>J.scrollStrategies.block()}});let De=0,Ge=(()=>{class J{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ve=this._parentDialog;return ve?ve._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ve,ne,p,H,B,Ie,$e,ft){this._overlay=ve,this._defaultOptions=H,this._scrollStrategy=B,this._parentDialog=Ie,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this.dialogConfigClass=Z,this.afterAllClosed=(0,U.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,M.Z)(void 0))),this._dialog=ne.get(x.lG),this._dialogRefConstructor=Ve,this._dialogContainerType=ce,this._dialogDataToken=pt}open(ve,ne){let p;(ne={...this._defaultOptions||new Z,...ne}).id=ne.id||"mat-mdc-dialog-"+De++,ne.scrollStrategy=ne.scrollStrategy||this._scrollStrategy();const H=this._dialog.open(ve,{...ne,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ne},{provide:x.Pe,useValue:ne}]},templateContext:()=>({dialogRef:p}),providers:(B,Ie,$e)=>(p=new this._dialogRefConstructor(B,ne,$e),p.updatePosition(ne?.position),[{provide:this._dialogContainerType,useValue:$e},{provide:this._dialogDataToken,useValue:Ie.data},{provide:this._dialogRefConstructor,useValue:p}])});return p.componentRef=H.componentRef,p.componentInstance=H.componentInstance,this.openDialogs.push(p),this.afterOpened.next(p),p.afterClosed().subscribe(()=>{const B=this.openDialogs.indexOf(p);B>-1&&(this.openDialogs.splice(B,1),this.openDialogs.length||this._getAfterAllClosed().next())}),p}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ve){return this.openDialogs.find(ne=>ne.id===ve)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ve){let ne=ve.length;for(;ne--;)ve[ne].close()}static#e=this.\u0275fac=function(ne){return new(ne||J)(u.KVO(r.hJ),u.KVO(u.zZn),u.KVO(y.aZ,8),u.KVO(St,8),u.KVO(Rn),u.KVO(J,12),u.KVO(r.Sf),u.KVO(u.bc$,8))};static#t=this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})(),Ze=0,ut=(()=>{class J{constructor(ve,ne,p){this.dialogRef=ve,this._elementRef=ne,this._dialog=p,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=se(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ve){const ne=ve._matDialogClose||ve._matDialogCloseResult;ne&&(this.dialogResult=ne.currentValue)}_onButtonClick(ve){lt(this.dialogRef,0===ve.screenX&&0===ve.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(ne){return new(ne||J)(u.rXU(Ve,8),u.rXU(u.aKT),u.rXU(Ge))};static#t=this.\u0275dir=u.FsC({type:J,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ne,p){1&ne&&u.bIt("click",function(B){return p._onButtonClick(B)}),2&ne&&u.BMQ("aria-label",p.ariaLabel||null)("type",p.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[u.OA$]})}return J})(),bt=(()=>{class J{constructor(ve,ne,p){this._dialogRef=ve,this._elementRef=ne,this._dialog=p}ngOnInit(){this._dialogRef||(this._dialogRef=se(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(ne){return new(ne||J)(u.rXU(Ve,8),u.rXU(u.aKT),u.rXU(Ge))};static#t=this.\u0275dir=u.FsC({type:J,standalone:!0})}return J})(),Dt=(()=>{class J extends bt{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Ze++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let ve;return function(p){return(ve||(ve=u.xGo(J)))(p||J)}})();static#t=this.\u0275dir=u.FsC({type:J,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ne,p){2&ne&&u.Mr5("id",p.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[u.Vt3]})}return J})(),Le=(()=>{class J{static#e=this.\u0275fac=function(ne){return new(ne||J)};static#t=this.\u0275dir=u.FsC({type:J,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[u.nM4([ue.uv])]})}return J})(),Ae=(()=>{class J extends bt{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let ve;return function(p){return(ve||(ve=u.xGo(J)))(p||J)}})();static#t=this.\u0275dir=u.FsC({type:J,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(ne,p){2&ne&&u.AVh("mat-mdc-dialog-actions-align-start","start"===p.align)("mat-mdc-dialog-actions-align-center","center"===p.align)("mat-mdc-dialog-actions-align-end","end"===p.align)},inputs:{align:"align"},standalone:!0,features:[u.Vt3]})}return J})();function se(J,W){let ve=J.nativeElement.parentElement;for(;ve&&!ve.classList.contains("mat-mdc-dialog-container");)ve=ve.parentElement;return ve?W.find(ne=>ne.id===ve.id):null}let Ee=(()=>{class J{static#e=this.\u0275fac=function(ne){return new(ne||J)};static#t=this.\u0275mod=u.$C({type:J});static#n=this.\u0275inj=u.G2t({providers:[Ge],imports:[x.Ph,r.z_,L.jc,z.yE,z.yE]})}return J})()},71997:(ln,ye,w)=>{"use strict";w.d(ye,{q:()=>v,w:()=>x});var r=w(54438),y=w(14085),u=w(86600);let v=(()=>{class d{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(F){this._vertical=(0,y.he)(F)}get inset(){return this._inset}set inset(F){this._inset=(0,y.he)(F)}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275cmp=r.VBU({type:d,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(S,U){2&S&&(r.BMQ("aria-orientation",U.vertical?"vertical":"horizontal"),r.AVh("mat-divider-vertical",U.vertical)("mat-divider-horizontal",!U.vertical)("mat-divider-inset",U.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(S,U){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return d})(),x=(()=>{class d{static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275mod=r.$C({type:d});static#n=this.\u0275inj=r.G2t({imports:[u.yE,u.yE]})}return d})()},53719:(ln,ye,w)=>{"use strict";w.d(ye,{RG:()=>It,TL:()=>De,qT:()=>ve,xb:()=>B});var r=w(54438),y=w(60177),v=(w(49969),w(72318)),x=w(86600);let G=0;const ee=new r.nKC("MatError");let De=(()=>{class Ke{constructor(rt,Ct){this.id="mat-mdc-error-"+G++,rt||Ct.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)(r.kS0("aria-live"),r.rXU(r.aKT))};static#t=this.\u0275dir=r.FsC({type:Ke,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Ct,mt){2&Ct&&r.Mr5("id",mt.id)},inputs:{id:"id"},standalone:!0,features:[r.Jv_([{provide:ee,useExisting:Ke}])]})}return Ke})(),ve=(()=>{class Ke{static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)};static#t=this.\u0275dir=r.FsC({type:Ke})}return Ke})();const B=new r.nKC("MatFormField");let It=(()=>{class Ke{static#e=this.\u0275fac=function(Ct){return new(Ct||Ke)};static#t=this.\u0275mod=r.$C({type:Ke});static#n=this.\u0275inj=r.G2t({imports:[x.yE,y.MD,v.w5,x.yE]})}return Ke})()},59115:(ln,ye,w)=>{"use strict";w.d(ye,{Cn:()=>J,Cp:()=>T,fb:()=>lt,kk:()=>Le});var r=w(54438),y=w(18617),u=w(67336),v=w(85052),x=w(76718),d=w(81027),L=w(15877),F=w(82755),S=w(35160),U=w(32914),O=w(37925),b=w(14264),M=w(17365),A=w(19833),ue=w(60177),z=w(86600),X=w(76939),re=w(49969),Z=w(28203),Re=w(90953),oe=w(36860),Ce=w(65478);const K=["mat-menu-item",""],R=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ce=["mat-icon, [matMenuItemIcon]","*"];function $(W,ve){1&W&&(r.qSk(),r.j41(0,"svg",2),r.nrm(1,"polygon",3),r.k0s())}const Fe=["*"];function je(W,ve){if(1&W){const ne=r.RV6();r.j41(0,"div",0),r.bIt("keydown",function(H){r.eBV(ne);const B=r.XpG();return r.Njj(B._handleKeydown(H))})("click",function(){r.eBV(ne);const H=r.XpG();return r.Njj(H.closed.emit("click"))})("@transformMenu.start",function(H){r.eBV(ne);const B=r.XpG();return r.Njj(B._onAnimationStart(H))})("@transformMenu.done",function(H){r.eBV(ne);const B=r.XpG();return r.Njj(B._onAnimationDone(H))}),r.j41(1,"div",1),r.SdG(2),r.k0s()()}if(2&W){const ne=r.XpG();r.HbH(ne._classList),r.Y8G("id",ne.panelId)("@transformMenu",ne._panelAnimationState),r.BMQ("aria-label",ne.ariaLabel||null)("aria-labelledby",ne.ariaLabelledby||null)("aria-describedby",ne.ariaDescribedby||null)}}const Ve=new r.nKC("MAT_MENU_PANEL");let lt=(()=>{class W{constructor(ne,p,H,B,Ie){this._elementRef=ne,this._document=p,this._focusMonitor=H,this._parentMenu=B,this._changeDetectorRef=Ie,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new v.B,this._focused=new v.B,this._highlighted=!1,this._triggersSubmenu=!1,B?.addItem?.(this)}focus(ne,p){this._focusMonitor&&ne?this._focusMonitor.focusVia(this._getHostElement(),ne,p):this._getHostElement().focus(p),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ne){this.disabled&&(ne.preventDefault(),ne.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ne=this._elementRef.nativeElement.cloneNode(!0),p=ne.querySelectorAll("mat-icon, .material-icons");for(let H=0;H<p.length;H++)p[H].remove();return ne.textContent?.trim()||""}_setHighlighted(ne){this._highlighted=ne,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ne){this._triggersSubmenu=ne,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(p){return new(p||W)(r.rXU(r.aKT),r.rXU(ue.qQ),r.rXU(y.FN),r.rXU(Ve,8),r.rXU(r.gRc))};static#t=this.\u0275cmp=r.VBU({type:W,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(p,H){1&p&&r.bIt("click",function(Ie){return H._checkDisabled(Ie)})("mouseenter",function(){return H._handleMouseEnter()}),2&p&&(r.BMQ("role",H.role)("tabindex",H._getTabIndex())("aria-disabled",H.disabled)("disabled",H.disabled||null),r.AVh("mat-mdc-menu-item-highlighted",H._highlighted)("mat-mdc-menu-item-submenu-trigger",H._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",r.L39],disableRipple:[2,"disableRipple","disableRipple",r.L39]},exportAs:["matMenuItem"],standalone:!0,features:[r.GFd,r.aNF],attrs:K,ngContentSelectors:ce,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(p,H){1&p&&(r.NAR(R),r.SdG(0),r.j41(1,"span",0),r.SdG(2,1),r.k0s(),r.nrm(3,"div",1),r.DNE(4,$,2,0,":svg:svg",2)),2&p&&(r.R7$(3),r.Y8G("matRippleDisabled",H.disableRipple||H.disabled)("matRippleTrigger",H._getHostElement()),r.R7$(),r.vxM(H._triggersSubmenu?4:-1))},dependencies:[z.r6],encapsulation:2,changeDetection:0})}return W})();const G=new r.nKC("MatMenuContent"),De={transformMenu:(0,re.hZ)("transformMenu",[(0,re.wk)("void",(0,re.iF)({opacity:0,transform:"scale(0.8)"})),(0,re.kY)("void => enter",(0,re.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,re.iF)({opacity:1,transform:"scale(1)"}))),(0,re.kY)("* => void",(0,re.i0)("100ms 25ms linear",(0,re.iF)({opacity:0})))]),fadeInItems:(0,re.hZ)("fadeInItems",[(0,re.wk)("showing",(0,re.iF)({opacity:1})),(0,re.kY)("void => *",[(0,re.iF)({opacity:0}),(0,re.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ut=0;const bt=new r.nKC("mat-menu-default-options",{providedIn:"root",factory:function Dt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Le=(()=>{class W{get xPosition(){return this._xPosition}set xPosition(ne){this._xPosition=ne,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ne){this._yPosition=ne,this.setPositionClasses()}set panelClass(ne){const p=this._previousPanelClass,H={...this._classList};p&&p.length&&p.split(" ").forEach(B=>{H[B]=!1}),this._previousPanelClass=ne,ne&&ne.length&&(ne.split(" ").forEach(B=>{H[B]=!0}),this._elementRef.nativeElement.className=""),this._classList=H}get classList(){return this.panelClass}set classList(ne){this.panelClass=ne}constructor(ne,p,H,B){this._elementRef=ne,this._changeDetectorRef=B,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new r.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new v.B,this.closed=new r.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+ut++,this._injector=(0,r.WQX)(r.zZn),this.overlayPanelClass=H.overlayPanelClass||"",this._xPosition=H.xPosition,this._yPosition=H.yPosition,this.backdropClass=H.backdropClass,this.overlapTrigger=H.overlapTrigger,this.hasBackdrop=H.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new y.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,S.Z)(this._directDescendantItems),(0,U.n)(ne=>(0,x.h)(...ne.map(p=>p._focused)))).subscribe(ne=>this._keyManager.updateActiveItem(ne)),this._directDescendantItems.changes.subscribe(ne=>{const p=this._keyManager;if("enter"===this._panelAnimationState&&p.activeItem?._hasFocus()){const H=ne.toArray(),B=Math.max(0,Math.min(H.length-1,p.activeItemIndex||0));H[B]&&!H[B].disabled?p.setActiveItem(B):p.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,S.Z)(this._directDescendantItems),(0,U.n)(p=>(0,x.h)(...p.map(H=>H._hovered))))}addItem(ne){}removeItem(ne){}_handleKeydown(ne){const p=ne.keyCode,H=this._keyManager;switch(p){case u._f:(0,u.rp)(ne)||(ne.preventDefault(),this.closed.emit("keydown"));break;case u.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case u.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(p===u.i7||p===u.n6)&&H.setFocusOrigin("keyboard"),void H.onKeydown(ne)}ne.stopPropagation()}focusFirstItem(ne="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,r.mal)(()=>{let p=null;if(this._directDescendantItems.length&&(p=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!p||!p.contains(document.activeElement)){const H=this._keyManager;H.setFocusOrigin(ne).setFirstItemActive(),!H.activeItem&&p&&p.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ne){if(null===this._baseElevation){const $e=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt($e)}const p=Math.min(this._baseElevation+ne,24),H=`${this._elevationPrefix}${p}`,B=Object.keys(this._classList).find(Ie=>Ie.startsWith(this._elevationPrefix));if(!B||B===this._previousElevation){const Ie={...this._classList};this._previousElevation&&(Ie[this._previousElevation]=!1),Ie[H]=!0,this._previousElevation=H,this._classList=Ie}}setPositionClasses(ne=this.xPosition,p=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===ne,"mat-menu-after":"after"===ne,"mat-menu-above":"above"===p,"mat-menu-below":"below"===p},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ne){this._animationDone.next(ne),this._isAnimating=!1}_onAnimationStart(ne){this._isAnimating=!0,"enter"===ne.toState&&0===this._keyManager.activeItemIndex&&(ne.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,S.Z)(this._allItems)).subscribe(ne=>{this._directDescendantItems.reset(ne.filter(p=>p._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(p){return new(p||W)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(bt),r.rXU(r.gRc))};static#t=this.\u0275cmp=r.VBU({type:W,selectors:[["mat-menu"]],contentQueries:function(p,H,B){if(1&p&&(r.wni(B,G,5),r.wni(B,lt,5),r.wni(B,lt,4)),2&p){let Ie;r.mGM(Ie=r.lsd())&&(H.lazyContent=Ie.first),r.mGM(Ie=r.lsd())&&(H._allItems=Ie),r.mGM(Ie=r.lsd())&&(H.items=Ie)}},viewQuery:function(p,H){if(1&p&&r.GBs(r.C4Q,5),2&p){let B;r.mGM(B=r.lsd())&&(H.templateRef=B.first)}},hostVars:3,hostBindings:function(p,H){2&p&&r.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",r.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",ne=>null==ne?null:(0,r.L39)(ne)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[r.Jv_([{provide:Ve,useExisting:W}]),r.GFd,r.aNF],ngContentSelectors:Fe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(p,H){1&p&&(r.NAR(),r.DNE(0,je,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[De.transformMenu,De.fadeInItems]},changeDetection:0})}return W})();const Ae=new r.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const W=(0,r.WQX)(Re.hJ);return()=>W.scrollStrategies.reposition()}}),Me={provide:Ae,deps:[Re.hJ],useFactory:function se(W){return()=>W.scrollStrategies.reposition()}},Ee=(0,oe.BQ)({passive:!0});let T=(()=>{class W{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ne){this.menu=ne}get menu(){return this._menu}set menu(ne){ne!==this._menu&&(this._menu=ne,this._menuCloseSubscription.unsubscribe(),ne&&(this._menuCloseSubscription=ne.close.subscribe(p=>{this._destroyMenu(p),("click"===p||"tab"===p)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(p)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ne,p,H,B,Ie,$e,ft,kt,jt){this._overlay=ne,this._element=p,this._viewContainerRef=H,this._menuItemInstance=$e,this._dir=ft,this._focusMonitor=kt,this._ngZone=jt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=d.yU.EMPTY,this._hoverSubscription=d.yU.EMPTY,this._menuCloseSubscription=d.yU.EMPTY,this._changeDetectorRef=(0,r.WQX)(r.gRc),this._handleTouchStart=Ye=>{(0,y.w6)(Ye)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new r.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=B,this._parentMaterialMenu=Ie instanceof Le?Ie:void 0,p.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ee)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ee),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ne=this.menu;if(this._menuOpen||!ne)return;const p=this._createOverlay(ne),H=p.getConfig(),B=H.positionStrategy;this._setPosition(ne,B),H.hasBackdrop=null==ne.hasBackdrop?!this.triggersSubmenu():ne.hasBackdrop,p.attach(this._getPortal(ne)),ne.lazyContent&&ne.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ne),ne instanceof Le&&(ne._startAnimation(),ne._directDescendantItems.changes.pipe((0,O.Q)(ne.close)).subscribe(()=>{B.withLockedPosition(!1).reapplyLastPosition(),B.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ne,p){this._focusMonitor&&ne?this._focusMonitor.focusVia(this._element,ne,p):this._element.nativeElement.focus(p)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ne){if(!this._overlayRef||!this.menuOpen)return;const p=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ne||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,p instanceof Le?(p._resetAnimation(),p.lazyContent?p._animationDone.pipe((0,b.p)(H=>"void"===H.toState),(0,M.s)(1),(0,O.Q)(p.lazyContent._attached)).subscribe({next:()=>p.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),p?.lazyContent?.detach())}_initMenu(ne){ne.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ne.direction=this.dir,this._setMenuElevation(ne),ne.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ne){if(ne.setElevation){let p=0,H=ne.parentMenu;for(;H;)p++,H=H.parentMenu;ne.setElevation(p)}}_setIsMenuOpen(ne){ne!==this._menuOpen&&(this._menuOpen=ne,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ne),this._changeDetectorRef.markForCheck())}_createOverlay(ne){if(!this._overlayRef){const p=this._getOverlayConfig(ne);this._subscribeToPositions(ne,p.positionStrategy),this._overlayRef=this._overlay.create(p),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ne){return new Re.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ne.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ne.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ne,p){ne.setPositionClasses&&p.positionChanges.subscribe(H=>{const B="start"===H.connectionPair.overlayX?"after":"before",Ie="top"===H.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ne.setPositionClasses(B,Ie)):ne.setPositionClasses(B,Ie)})}_setPosition(ne,p){let[H,B]="before"===ne.xPosition?["end","start"]:["start","end"],[Ie,$e]="above"===ne.yPosition?["bottom","top"]:["top","bottom"],[ft,kt]=[Ie,$e],[jt,Ye]=[H,B],ct=0;if(this.triggersSubmenu()){if(Ye=H="before"===ne.xPosition?"start":"end",B=jt="end"===H?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const It=this._parentMaterialMenu.items.first;this._parentInnerPadding=It?It._getHostElement().offsetTop:0}ct="bottom"===Ie?this._parentInnerPadding:-this._parentInnerPadding}}else ne.overlapTrigger||(ft="top"===Ie?"bottom":"top",kt="top"===$e?"bottom":"top");p.withPositions([{originX:H,originY:ft,overlayX:jt,overlayY:Ie,offsetY:ct},{originX:B,originY:ft,overlayX:Ye,overlayY:Ie,offsetY:ct},{originX:H,originY:kt,overlayX:jt,overlayY:$e,offsetY:-ct},{originX:B,originY:kt,overlayX:Ye,overlayY:$e,offsetY:-ct}])}_menuClosingActions(){const ne=this._overlayRef.backdropClick(),p=this._overlayRef.detachments(),H=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,L.of)(),B=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,b.p)(Ie=>Ie!==this._menuItemInstance),(0,b.p)(()=>this._menuOpen)):(0,L.of)();return(0,x.h)(ne,H,B,p)}_handleMousedown(ne){(0,y._G)(ne)||(this._openedBy=0===ne.button?"mouse":void 0,this.triggersSubmenu()&&ne.preventDefault())}_handleKeydown(ne){const p=ne.keyCode;(p===u.Fm||p===u.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(p===u.LE&&"ltr"===this.dir||p===u.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ne){this.triggersSubmenu()?(ne.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,b.p)(ne=>ne===this._menuItemInstance&&!ne.disabled),(0,A.c)(0,F.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Le&&this.menu._isAnimating?this.menu._animationDone.pipe((0,M.s)(1),(0,A.c)(0,F.$),(0,O.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ne){return(!this._portal||this._portal.templateRef!==ne.templateRef)&&(this._portal=new X.VA(ne.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(p){return new(p||W)(r.rXU(Re.hJ),r.rXU(r.aKT),r.rXU(r.c1b),r.rXU(Ae),r.rXU(Ve,8),r.rXU(lt,10),r.rXU(Z.dS,8),r.rXU(y.FN),r.rXU(r.SKi))};static#t=this.\u0275dir=r.FsC({type:W,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(p,H){1&p&&r.bIt("click",function(Ie){return H._handleClick(Ie)})("mousedown",function(Ie){return H._handleMousedown(Ie)})("keydown",function(Ie){return H._handleKeydown(Ie)}),2&p&&r.BMQ("aria-haspopup",H.menu?"menu":null)("aria-expanded",H.menuOpen)("aria-controls",H.menuOpen?H.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return W})(),J=(()=>{class W{static#e=this.\u0275fac=function(p){return new(p||W)};static#t=this.\u0275mod=r.$C({type:W});static#n=this.\u0275inj=r.G2t({providers:[Me],imports:[ue.MD,z.pZ,z.yE,Re.z_,Ce.Gj,z.yE]})}return W})()},67575:(ln,ye,w)=>{"use strict";w.d(ye,{PO:()=>U});var r=w(54438),u=(w(60177),w(86600));let U=(()=>{class O{static#e=this.\u0275fac=function(A){return new(A||O)};static#t=this.\u0275mod=r.$C({type:O});static#n=this.\u0275inj=r.G2t({imports:[u.yE]})}return O})()},5951:(ln,ye,w)=>{"use strict";w.d(ye,{VT:()=>z,Wk:()=>re,_g:()=>X});var r=w(18617),y=w(45024),u=w(54438),v=w(89417),x=w(86600),d=w(60177);const L=["input"],F=["formField"],S=["*"];let U=0;class O{constructor(Re,oe){this.source=Re,this.value=oe}}const b={provide:v.kq,useExisting:(0,u.Rfq)(()=>z),multi:!0},M=new u.nKC("MatRadioGroup"),A=new u.nKC("mat-radio-default-options",{providedIn:"root",factory:function ue(){return{color:"accent",disabledInteractive:!1}}});let z=(()=>{class Z{get name(){return this._name}set name(oe){this._name=oe,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(oe){this._labelPosition="before"===oe?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(oe){this._value!==oe&&(this._value=oe,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(oe){this._selected=oe,this.value=oe?oe.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(oe){this._disabled=oe,this._markRadiosForCheck()}get required(){return this._required}set required(oe){this._required=oe,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(oe){this._disabledInteractive=oe,this._markRadiosForCheck()}constructor(oe){this._changeDetector=oe,this._value=null,this._name="mat-radio-group-"+U++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new u.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(oe=>oe===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(oe=>{oe.name=this.name,oe._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(Ce=>{Ce.checked=this.value===Ce.value,Ce.checked&&(this._selected=Ce)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new O(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(oe=>oe._markForCheck())}writeValue(oe){this.value=oe,this._changeDetector.markForCheck()}registerOnChange(oe){this._controlValueAccessorChangeFn=oe}registerOnTouched(oe){this.onTouched=oe}setDisabledState(oe){this.disabled=oe,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(Ce){return new(Ce||Z)(u.rXU(u.gRc))};static#t=this.\u0275dir=u.FsC({type:Z,selectors:[["mat-radio-group"]],contentQueries:function(Ce,K,R){if(1&Ce&&u.wni(R,X,5),2&Ce){let ce;u.mGM(ce=u.lsd())&&(K._radios=ce)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",u.L39],required:[2,"required","required",u.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",u.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[u.Jv_([b,{provide:M,useExisting:Z}]),u.GFd]})}return Z})(),X=(()=>{class Z{get checked(){return this._checked}set checked(oe){this._checked!==oe&&(this._checked=oe,oe&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!oe&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),oe&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(oe){this._value!==oe&&(this._value=oe,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===oe),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(oe){this._labelPosition=oe}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(oe){this._setDisabled(oe)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(oe){this._required=oe}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(oe){this._color=oe}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(oe){this._disabledInteractive=oe}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(oe,Ce,K,R,ce,$,Fe,je){this._elementRef=Ce,this._changeDetector=K,this._focusMonitor=R,this._radioDispatcher=ce,this._defaultOptions=Fe,this._ngZone=(0,u.WQX)(u.SKi),this._uniqueId="mat-radio-"+ ++U,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new u.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,u.WQX)(u.zZn),this._onInputClick=Ve=>{this.disabled&&this.disabledInteractive&&Ve.preventDefault()},this.radioGroup=oe,this._noopAnimations="NoopAnimations"===$,this._disabledInteractive=Fe?.disabledInteractive??!1,je&&(this.tabIndex=(0,u.Udg)(je,0))}focus(oe,Ce){Ce?this._focusMonitor.focusVia(this._inputElement,Ce,oe):this._inputElement.nativeElement.focus(oe)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((oe,Ce)=>{oe!==this.id&&Ce===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(oe=>{!oe&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new O(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(oe){if(oe.stopPropagation(),!this.checked&&!this.disabled){const Ce=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),Ce&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(oe){this._onInputInteraction(oe),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(oe){this._disabled!==oe&&(this._disabled=oe,this._changeDetector.markForCheck())}_updateTabIndex(){const oe=this.radioGroup;let Ce;if(Ce=oe&&oe.selected&&!this.disabled?oe.selected===this?this.tabIndex:-1:this.tabIndex,Ce!==this._previousTabIndex){const K=this._inputElement?.nativeElement;K&&(K.setAttribute("tabindex",Ce+""),this._previousTabIndex=Ce,(0,u.mal)(()=>{queueMicrotask(()=>{oe&&oe.selected&&oe.selected!==this&&document.activeElement===K&&(oe.selected?._inputElement.nativeElement.focus(),document.activeElement===K&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(Ce){return new(Ce||Z)(u.rXU(M,8),u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(r.FN),u.rXU(y.zP),u.rXU(u.bc$,8),u.rXU(A,8),u.kS0("tabindex"))};static#t=this.\u0275cmp=u.VBU({type:Z,selectors:[["mat-radio-button"]],viewQuery:function(Ce,K){if(1&Ce&&(u.GBs(L,5),u.GBs(F,7,u.aKT)),2&Ce){let R;u.mGM(R=u.lsd())&&(K._inputElement=R.first),u.mGM(R=u.lsd())&&(K._rippleTrigger=R.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(Ce,K){1&Ce&&u.bIt("focus",function(){return K._inputElement.nativeElement.focus()}),2&Ce&&(u.BMQ("id",K.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),u.AVh("mat-primary","primary"===K.color)("mat-accent","accent"===K.color)("mat-warn","warn"===K.color)("mat-mdc-radio-checked",K.checked)("mat-mdc-radio-disabled",K.disabled)("mat-mdc-radio-disabled-interactive",K.disabledInteractive)("_mat-animation-noopable",K._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",u.L39],tabIndex:[2,"tabIndex","tabIndex",oe=>null==oe?0:(0,u.Udg)(oe)],checked:[2,"checked","checked",u.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",u.L39],required:[2,"required","required",u.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",u.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[u.GFd,u.aNF],ngContentSelectors:S,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(Ce,K){if(1&Ce){const R=u.RV6();u.NAR(),u.j41(0,"div",2,0)(2,"div",3)(3,"div",4),u.bIt("click",function($){return u.eBV(R),u.Njj(K._onTouchTargetClick($))}),u.k0s(),u.j41(4,"input",5,1),u.bIt("change",function($){return u.eBV(R),u.Njj(K._onInputInteraction($))}),u.k0s(),u.j41(6,"div",6),u.nrm(7,"div",7)(8,"div",8),u.k0s(),u.j41(9,"div",9),u.nrm(10,"div",10),u.k0s()(),u.j41(11,"label",11),u.SdG(12),u.k0s()()}2&Ce&&(u.Y8G("labelPosition",K.labelPosition),u.R7$(2),u.AVh("mdc-radio--disabled",K.disabled),u.R7$(2),u.Y8G("id",K.inputId)("checked",K.checked)("disabled",K.disabled&&!K.disabledInteractive)("required",K.required),u.BMQ("name",K.name)("value",K.value)("aria-label",K.ariaLabel)("aria-labelledby",K.ariaLabelledby)("aria-describedby",K.ariaDescribedby)("aria-disabled",K.disabled&&K.disabledInteractive?"true":null),u.R7$(5),u.Y8G("matRippleTrigger",K._rippleTrigger.nativeElement)("matRippleDisabled",K._isRippleDisabled())("matRippleCentered",!0),u.R7$(2),u.Y8G("for",K.inputId))},dependencies:[x.r6,x.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return Z})(),re=(()=>{class Z{static#e=this.\u0275fac=function(Ce){return new(Ce||Z)};static#t=this.\u0275mod=u.$C({type:Z});static#n=this.\u0275inj=u.G2t({imports:[x.yE,d.MD,x.pZ,X,x.yE]})}return Z})()},82798:(ln,ye,w)=>{"use strict";w.d(ye,{JO:()=>ut,VO:()=>Ae,Ve:()=>Me});var r=w(90953),y=w(60177),u=w(54438),v=w(86600),x=w(53719),d=w(65478),L=w(18617),F=w(28203),S=w(45024),U=w(67336),O=w(89417),b=w(85052),M=w(45946),A=w(76718),ue=w(35160),z=w(32914),X=w(14264),re=w(36110),Z=w(21082),Re=w(37925),oe=w(17365),Ce=w(49969);const K=["trigger"],R=["panel"],ce=[[["mat-select-trigger"]],"*"],$=["mat-select-trigger","*"];function Fe(Ee,C){if(1&Ee&&(u.j41(0,"span",4),u.EFF(1),u.k0s()),2&Ee){const T=u.XpG();u.R7$(),u.JRh(T.placeholder)}}function je(Ee,C){1&Ee&&u.SdG(0)}function Ve(Ee,C){if(1&Ee&&(u.j41(0,"span",11),u.EFF(1),u.k0s()),2&Ee){const T=u.XpG(2);u.R7$(),u.JRh(T.triggerValue)}}function lt(Ee,C){if(1&Ee&&(u.j41(0,"span",5),u.DNE(1,je,1,0)(2,Ve,2,1,"span",11),u.k0s()),2&Ee){const T=u.XpG();u.R7$(),u.vxM(T.customTrigger?1:2)}}function pt(Ee,C){if(1&Ee){const T=u.RV6();u.j41(0,"div",12,1),u.bIt("@transformPanel.done",function(W){u.eBV(T);const ve=u.XpG();return u.Njj(ve._panelDoneAnimatingStream.next(W.toState))})("keydown",function(W){u.eBV(T);const ve=u.XpG();return u.Njj(ve._handleKeydown(W))}),u.SdG(2,1),u.k0s()}if(2&Ee){const T=u.XpG();u.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",T._getPanelTheme(),""),u.Y8G("ngClass",T.panelClass)("@transformPanel","showing"),u.BMQ("id",T.id+"-panel")("aria-multiselectable",T.multiple)("aria-label",T.ariaLabel||null)("aria-labelledby",T._getPanelAriaLabelledby())}}const St={transformPanelWrap:(0,Ce.hZ)("transformPanelWrap",[(0,Ce.kY)("* => void",(0,Ce.P)("@transformPanel",[(0,Ce.MA)()],{optional:!0}))]),transformPanel:(0,Ce.hZ)("transformPanel",[(0,Ce.wk)("void",(0,Ce.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,Ce.kY)("void => showing",(0,Ce.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Ce.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,Ce.kY)("* => void",(0,Ce.i0)("100ms linear",(0,Ce.iF)({opacity:0})))])};let De=0;const Ge=new u.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ee=(0,u.WQX)(r.hJ);return()=>Ee.scrollStrategies.reposition()}}),ut=new u.nKC("MAT_SELECT_CONFIG"),bt={provide:Ge,deps:[r.hJ],useFactory:function Ze(Ee){return()=>Ee.scrollStrategies.reposition()}},Dt=new u.nKC("MatSelectTrigger");class Le{constructor(C,T){this.source=C,this.value=T}}let Ae=(()=>{class Ee{_scrollOptionIntoView(T){const J=this.options.toArray()[T];if(J){const W=this.panel.nativeElement,ve=(0,v.jb)(T,this.options,this.optionGroups),ne=J._getHostElement();W.scrollTop=0===T&&1===ve?0:(0,v.TL)(ne.offsetTop,ne.offsetHeight,W.scrollTop,W.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(T){return new Le(this,T)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(T){this._hideSingleSelectionIndicator=T,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(O.k0.required)??!1}set required(T){this._required=T,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(T){this._multiple=T}get compareWith(){return this._compareWith}set compareWith(T){this._compareWith=T,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(T){this._assignValue(T)&&this._onChange(T)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(T){this._errorStateTracker.matcher=T}get id(){return this._id}set id(T){this._id=T||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(T){this._errorStateTracker.errorState=T}constructor(T,J,W,ve,ne,p,H,B,Ie,$e,ft,kt,jt,Ye){this._viewportRuler=T,this._changeDetectorRef=J,this._elementRef=ne,this._dir=p,this._parentFormField=Ie,this.ngControl=$e,this._liveAnnouncer=jt,this._defaultOptions=Ye,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(ct,It)=>ct===It,this._uid="mat-select-"+De++,this._triggerAriaLabelledBy=null,this._destroy=new b.B,this.stateChanges=new b.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+De++,this._panelDoneAnimatingStream=new b.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new b.B,this.optionSelectionChanges=(0,M.v)(()=>{const ct=this.options;return ct?ct.changes.pipe((0,ue.Z)(ct),(0,z.n)(()=>(0,A.h)(...ct.map(It=>It.onSelectionChange)))):this._initialized.pipe((0,z.n)(()=>this.optionSelectionChanges))}),this.openedChange=new u.bkB,this._openedStream=this.openedChange.pipe((0,X.p)(ct=>ct),(0,re.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,X.p)(ct=>!ct),(0,re.T)(()=>{})),this.selectionChange=new u.bkB,this.valueChange=new u.bkB,this._trackedModal=null,this._skipPredicate=ct=>!this.panelOpen&&ct.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ye?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Ye.typeaheadDebounceInterval),this._errorStateTracker=new v.X0(ve,$e,B,H,this.stateChanges),this._scrollStrategyFactory=kt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ft)||0,this.id=this.id}ngOnInit(){this._selectionModel=new S.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Z.F)(),(0,Re.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,Re.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,Re.Q)(this._destroy)).subscribe(T=>{T.added.forEach(J=>J.select()),T.removed.forEach(J=>J.deselect())}),this.options.changes.pipe((0,ue.Z)(null),(0,Re.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const T=this._getTriggerAriaLabelledby(),J=this.ngControl;if(T!==this._triggerAriaLabelledBy){const W=this._elementRef.nativeElement;this._triggerAriaLabelledBy=T,T?W.setAttribute("aria-labelledby",T):W.removeAttribute("aria-labelledby")}J&&(this._previousControl!==J.control&&(void 0!==this._previousControl&&null!==J.disabled&&J.disabled!==this.disabled&&(this.disabled=J.disabled),this._previousControl=J.control),this.updateErrorState())}ngOnChanges(T){(T.disabled||T.userAriaDescribedBy)&&this.stateChanges.next(),T.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const T=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!T)return;const J=`${this.id}-panel`;this._trackedModal&&(0,L.Ae)(this._trackedModal,"aria-owns",J),(0,L.px)(T,"aria-owns",J),this._trackedModal=T}_clearFromModal(){this._trackedModal&&((0,L.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(T){this._assignValue(T)}registerOnChange(T){this._onChange=T}registerOnTouched(T){this._onTouched=T}setDisabledState(T){this.disabled=T,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const T=this._selectionModel.selected.map(J=>J.viewValue);return this._isRtl()&&T.reverse(),T.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(T){this.disabled||(this.panelOpen?this._handleOpenKeydown(T):this._handleClosedKeydown(T))}_handleClosedKeydown(T){const J=T.keyCode,W=J===U.n6||J===U.i7||J===U.UQ||J===U.LE,ve=J===U.Fm||J===U.t6,ne=this._keyManager;if(!ne.isTyping()&&ve&&!(0,U.rp)(T)||(this.multiple||T.altKey)&&W)T.preventDefault(),this.open();else if(!this.multiple){const p=this.selected;ne.onKeydown(T);const H=this.selected;H&&p!==H&&this._liveAnnouncer.announce(H.viewValue,1e4)}}_handleOpenKeydown(T){const J=this._keyManager,W=T.keyCode,ve=W===U.n6||W===U.i7,ne=J.isTyping();if(ve&&T.altKey)T.preventDefault(),this.close();else if(ne||W!==U.Fm&&W!==U.t6||!J.activeItem||(0,U.rp)(T))if(!ne&&this._multiple&&W===U.A&&T.ctrlKey){T.preventDefault();const p=this.options.some(H=>!H.disabled&&!H.selected);this.options.forEach(H=>{H.disabled||(p?H.select():H.deselect())})}else{const p=J.activeItemIndex;J.onKeydown(T),this._multiple&&ve&&T.shiftKey&&J.activeItem&&J.activeItemIndex!==p&&J.activeItem._selectViaInteraction()}else T.preventDefault(),J.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,oe.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(T){if(this.options.forEach(J=>J.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&T)Array.isArray(T),T.forEach(J=>this._selectOptionByValue(J)),this._sortValues();else{const J=this._selectOptionByValue(T);J?this._keyManager.updateActiveItem(J):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(T){const J=this.options.find(W=>{if(this._selectionModel.isSelected(W))return!1;try{return null!=W.value&&this._compareWith(W.value,T)}catch{return!1}});return J&&this._selectionModel.select(J),J}_assignValue(T){return!!(T!==this._value||this._multiple&&Array.isArray(T))&&(this.options&&this._setSelectionByValue(T),this._value=T,!0)}_getOverlayWidth(T){return"auto"===this.panelWidth?(T instanceof r.$Q?T.elementRef:T||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const T of this.options)T._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new L.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const T=(0,A.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Re.Q)(T)).subscribe(J=>{this._onSelect(J.source,J.isUserInput),J.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,A.h)(...this.options.map(J=>J._stateChanges)).pipe((0,Re.Q)(T)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(T,J){const W=this._selectionModel.isSelected(T);null!=T.value||this._multiple?(W!==T.selected&&(T.selected?this._selectionModel.select(T):this._selectionModel.deselect(T)),J&&this._keyManager.setActiveItem(T),this.multiple&&(this._sortValues(),J&&this.focus())):(T.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(T.value)),W!==this._selectionModel.isSelected(T)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const T=this.options.toArray();this._selectionModel.sort((J,W)=>this.sortComparator?this.sortComparator(J,W,T):T.indexOf(J)-T.indexOf(W)),this.stateChanges.next()}}_propagateChanges(T){let J;J=this.multiple?this.selected.map(W=>W.value):this.selected?this.selected.value:T,this._value=J,this.valueChange.emit(J),this._onChange(J),this.selectionChange.emit(this._getChangeEvent(J)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let T=-1;for(let J=0;J<this.options.length;J++)if(!this.options.get(J).disabled){T=J;break}this._keyManager.setActiveItem(T)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(T){this._elementRef.nativeElement.focus(T)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const T=this._parentFormField?.getLabelId();return this.ariaLabelledby?(T?T+" ":"")+this.ariaLabelledby:T}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const T=this._parentFormField?.getLabelId();let J=(T?T+" ":"")+this._valueId;return this.ariaLabelledby&&(J+=" "+this.ariaLabelledby),J}_panelDoneAnimating(T){this.openedChange.emit(T)}setDescribedByIds(T){T.length?this._elementRef.nativeElement.setAttribute("aria-describedby",T.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(J){return new(J||Ee)(u.rXU(d.Xj),u.rXU(u.gRc),u.rXU(u.SKi),u.rXU(v.es),u.rXU(u.aKT),u.rXU(F.dS,8),u.rXU(O.cV,8),u.rXU(O.j4,8),u.rXU(x.xb,8),u.rXU(O.vO,10),u.kS0("tabindex"),u.rXU(Ge),u.rXU(L.Ai),u.rXU(ut,8))};static#t=this.\u0275cmp=u.VBU({type:Ee,selectors:[["mat-select"]],contentQueries:function(J,W,ve){if(1&J&&(u.wni(ve,Dt,5),u.wni(ve,v.wT,5),u.wni(ve,v.QC,5)),2&J){let ne;u.mGM(ne=u.lsd())&&(W.customTrigger=ne.first),u.mGM(ne=u.lsd())&&(W.options=ne),u.mGM(ne=u.lsd())&&(W.optionGroups=ne)}},viewQuery:function(J,W){if(1&J&&(u.GBs(K,5),u.GBs(R,5),u.GBs(r.WB,5)),2&J){let ve;u.mGM(ve=u.lsd())&&(W.trigger=ve.first),u.mGM(ve=u.lsd())&&(W.panel=ve.first),u.mGM(ve=u.lsd())&&(W._overlayDir=ve.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(J,W){1&J&&u.bIt("keydown",function(ne){return W._handleKeydown(ne)})("focus",function(){return W._onFocus()})("blur",function(){return W._onBlur()}),2&J&&(u.BMQ("id",W.id)("tabindex",W.disabled?-1:W.tabIndex)("aria-controls",W.panelOpen?W.id+"-panel":null)("aria-expanded",W.panelOpen)("aria-label",W.ariaLabel||null)("aria-required",W.required.toString())("aria-disabled",W.disabled.toString())("aria-invalid",W.errorState)("aria-activedescendant",W._getAriaActiveDescendant()),u.AVh("mat-mdc-select-disabled",W.disabled)("mat-mdc-select-invalid",W.errorState)("mat-mdc-select-required",W.required)("mat-mdc-select-empty",W.empty)("mat-mdc-select-multiple",W.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",u.L39],disableRipple:[2,"disableRipple","disableRipple",u.L39],tabIndex:[2,"tabIndex","tabIndex",T=>null==T?0:(0,u.Udg)(T)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",u.L39],placeholder:"placeholder",required:[2,"required","required",u.L39],multiple:[2,"multiple","multiple",u.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",u.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",u.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[u.Jv_([{provide:x.qT,useExisting:Ee},{provide:v.is,useExisting:Ee}]),u.GFd,u.OA$,u.aNF],ngContentSelectors:$,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(J,W){if(1&J){const ve=u.RV6();u.NAR(ce),u.j41(0,"div",2,0),u.bIt("click",function(){return u.eBV(ve),u.Njj(W.open())}),u.j41(3,"div",3),u.DNE(4,Fe,2,1,"span",4)(5,lt,3,1,"span",5),u.k0s(),u.j41(6,"div",6)(7,"div",7),u.qSk(),u.j41(8,"svg",8),u.nrm(9,"path",9),u.k0s()()()(),u.DNE(10,pt,3,9,"ng-template",10),u.bIt("backdropClick",function(){return u.eBV(ve),u.Njj(W.close())})("attach",function(){return u.eBV(ve),u.Njj(W._onAttached())})("detach",function(){return u.eBV(ve),u.Njj(W.close())})}if(2&J){const ve=u.sdS(1);u.R7$(3),u.BMQ("id",W._valueId),u.R7$(),u.vxM(W.empty?4:5),u.R7$(6),u.Y8G("cdkConnectedOverlayPanelClass",W._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",W._scrollStrategy)("cdkConnectedOverlayOrigin",W._preferredOverlayOrigin||ve)("cdkConnectedOverlayOpen",W.panelOpen)("cdkConnectedOverlayPositions",W._positions)("cdkConnectedOverlayWidth",W._overlayWidth)}},dependencies:[r.$Q,r.WB,y.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[St.transformPanel]},changeDetection:0})}return Ee})(),Me=(()=>{class Ee{static#e=this.\u0275fac=function(J){return new(J||Ee)};static#t=this.\u0275mod=u.$C({type:Ee});static#n=this.\u0275inj=u.G2t({providers:[bt],imports:[y.MD,r.z_,v.Sy,v.yE,d.Gj,x.RG,v.Sy,v.yE]})}return Ee})()},90882:(ln,ye,w)=>{"use strict";w.d(ye,{vg:()=>Fe});var r=w(65478),y=w(54438),u=w(86600);w(49969);let Fe=(()=>{class je{static#e=this.\u0275fac=function(pt){return new(pt||je)};static#t=this.\u0275mod=y.$C({type:je});static#n=this.\u0275inj=y.G2t({imports:[u.yE,r.Gj,r.Gj,u.yE]})}return je})()},30450:(ln,ye,w)=>{"use strict";w.d(ye,{mV:()=>z});var r=w(54438),y=w(89417),u=w(18617),v=w(86600);const x=["switch"],d=["*"];function L(X,re){1&X&&(r.j41(0,"span",10),r.qSk(),r.j41(1,"svg",12),r.nrm(2,"path",13),r.k0s(),r.j41(3,"svg",14),r.nrm(4,"path",15),r.k0s()())}const F=new r.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),S={provide:y.kq,useExisting:(0,r.Rfq)(()=>b),multi:!0};class U{constructor(re,Z){this.source=re,this.checked=Z}}let O=0,b=(()=>{class X{_createChangeEvent(Z){return new U(this,Z)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(Z){this._checked=Z,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Z,Re,oe,Ce,K,R){this._elementRef=Z,this._focusMonitor=Re,this._changeDetectorRef=oe,this.defaults=K,this._onChange=ce=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new r.bkB,this.toggleChange=new r.bkB,this.tabIndex=parseInt(Ce)||0,this.color=K.color||"accent",this._noopAnimations="NoopAnimations"===R,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++O,this.hideIcon=K.hideIcon??!1,this.disabledInteractive=K.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Z=>{"keyboard"===Z||"program"===Z?(this._focused=!0,this._changeDetectorRef.markForCheck()):Z||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(Z){Z.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(Z){this.checked=!!Z}registerOnChange(Z){this._onChange=Z}registerOnTouched(Z){this._onTouched=Z}validate(Z){return this.required&&!0!==Z.value?{required:!0}:null}registerOnValidatorChange(Z){this._validatorOnChange=Z}setDisabledState(Z){this.disabled=Z,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new U(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(Re){return new(Re||X)(r.rXU(r.aKT),r.rXU(u.FN),r.rXU(r.gRc),r.kS0("tabindex"),r.rXU(F),r.rXU(r.bc$,8))};static#t=this.\u0275cmp=r.VBU({type:X,selectors:[["mat-slide-toggle"]],viewQuery:function(Re,oe){if(1&Re&&r.GBs(x,5),2&Re){let Ce;r.mGM(Ce=r.lsd())&&(oe._switchElement=Ce.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(Re,oe){2&Re&&(r.Mr5("id",oe.id),r.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),r.HbH(oe.color?"mat-"+oe.color:""),r.AVh("mat-mdc-slide-toggle-focused",oe._focused)("mat-mdc-slide-toggle-checked",oe.checked)("_mat-animation-noopable",oe._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",r.L39],color:"color",disabled:[2,"disabled","disabled",r.L39],disableRipple:[2,"disableRipple","disableRipple",r.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?0:(0,r.Udg)(Z)],checked:[2,"checked","checked",r.L39],hideIcon:[2,"hideIcon","hideIcon",r.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",r.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[r.Jv_([S,{provide:y.cz,useExisting:X,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:d,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(Re,oe){if(1&Re){const Ce=r.RV6();r.NAR(),r.j41(0,"div",1)(1,"button",2,0),r.bIt("click",function(){return r.eBV(Ce),r.Njj(oe._handleClick())}),r.nrm(3,"span",3),r.j41(4,"span",4)(5,"span",5)(6,"span",6),r.nrm(7,"span",7),r.k0s(),r.j41(8,"span",8),r.nrm(9,"span",9),r.k0s(),r.DNE(10,L,5,0,"span",10),r.k0s()()(),r.j41(11,"label",11),r.bIt("click",function(R){return r.eBV(Ce),r.Njj(R.stopPropagation())}),r.SdG(12),r.k0s()()}if(2&Re){const Ce=r.sdS(2);r.Y8G("labelPosition",oe.labelPosition),r.R7$(),r.AVh("mdc-switch--selected",oe.checked)("mdc-switch--unselected",!oe.checked)("mdc-switch--checked",oe.checked)("mdc-switch--disabled",oe.disabled)("mat-mdc-slide-toggle-disabled-interactive",oe.disabledInteractive),r.Y8G("tabIndex",oe.disabled&&!oe.disabledInteractive?-1:oe.tabIndex)("disabled",oe.disabled&&!oe.disabledInteractive),r.BMQ("id",oe.buttonId)("name",oe.name)("aria-label",oe.ariaLabel)("aria-labelledby",oe._getAriaLabelledBy())("aria-describedby",oe.ariaDescribedby)("aria-required",oe.required||null)("aria-checked",oe.checked)("aria-disabled",oe.disabled&&oe.disabledInteractive?"true":null),r.R7$(8),r.Y8G("matRippleTrigger",Ce)("matRippleDisabled",oe.disableRipple||oe.disabled)("matRippleCentered",!0),r.R7$(),r.vxM(oe.hideIcon?-1:10),r.R7$(),r.Y8G("for",oe.buttonId),r.BMQ("id",oe._labelId)}},dependencies:[v.r6,v.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return X})(),z=(()=>{class X{static#e=this.\u0275fac=function(Re){return new(Re||X)};static#t=this.\u0275mod=r.$C({type:X});static#n=this.\u0275inj=r.G2t({imports:[b,v.yE,v.yE]})}return X})()},43881:(ln,ye,w)=>{"use strict";w.d(ye,{Ez:()=>pt,IV:()=>R,OU:()=>Ve});var r=w(28203),y=w(36860),u=w(54438),v=w(86600),x=w(89417),d=w(85052);const L=["knob"],F=["valueIndicatorContainer"];function S(St,Rn){if(1&St&&(u.j41(0,"div",2,1)(2,"div",5)(3,"span",6),u.EFF(4),u.k0s()()()),2&St){const G=u.XpG();u.R7$(4),u.JRh(G.valueIndicatorText)}}const U=["trackActive"],O=["*"];function b(St,Rn){if(1&St&&u.nrm(0,"div"),2&St){const G=Rn.$implicit,ee=Rn.$index,De=u.XpG(3);u.HbH(0===G?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),u.xc7("transform",De._calcTickMarkTransform(ee))}}function M(St,Rn){if(1&St&&u.Z7z(0,b,1,4,"div",8,u.Vm6),2&St){const G=u.XpG(2);u.Dyx(G._tickMarks)}}function A(St,Rn){if(1&St&&(u.j41(0,"div",6,1),u.DNE(2,M,2,0),u.k0s()),2&St){const G=u.XpG();u.R7$(2),u.vxM(G._cachedWidth?2:-1)}}function ue(St,Rn){if(1&St&&u.nrm(0,"mat-slider-visual-thumb",7),2&St){const G=u.XpG();u.Y8G("discrete",G.discrete)("thumbPosition",1)("valueIndicatorText",G.startValueIndicatorText)}}var z=function(St){return St[St.START=1]="START",St[St.END=2]="END",St}(z||{}),X=function(St){return St[St.ACTIVE=0]="ACTIVE",St[St.INACTIVE=1]="INACTIVE",St}(X||{});const re=new u.nKC("_MatSlider"),Z=new u.nKC("_MatSliderThumb"),Re=new u.nKC("_MatSliderRangeThumb"),oe=new u.nKC("_MatSliderVisualThumb");let K=(()=>{class St{constructor(G,ee,De,Ge){this._cdr=G,this._ngZone=ee,this._slider=Ge,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,u.WQX)(y.OD),this._onPointerMove=Ze=>{if(this._sliderInput._isFocused)return;const ut=this._hostElement.getBoundingClientRect(),bt=this._slider._isCursorOnSliderThumb(Ze,ut);this._isHovered=bt,bt?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Ze=>{0===Ze.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=De.nativeElement}ngAfterViewInit(){const G=this._slider._getInput(this.thumbPosition);G&&(this._ripple.radius=24,this._sliderInput=G,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{const ee=this._sliderInputEl;ee.addEventListener("pointermove",this._onPointerMove),ee.addEventListener("pointerdown",this._onDragStart),ee.addEventListener("pointerup",this._onDragEnd),ee.addEventListener("pointerleave",this._onMouseLeave),ee.addEventListener("focus",this._onFocus),ee.addEventListener("blur",this._onBlur)}))}ngOnDestroy(){const G=this._sliderInputEl;G&&(G.removeEventListener("pointermove",this._onPointerMove),G.removeEventListener("pointerdown",this._onDragStart),G.removeEventListener("pointerup",this._onDragEnd),G.removeEventListener("pointerleave",this._onMouseLeave),G.removeEventListener("focus",this._onFocus),G.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(G){return G?.state===v.Ex.FADING_IN||G?.state===v.Ex.VISIBLE}_showRipple(G,ee){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===z.START?z.END:z.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||ee))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:G,centered:!0,persistent:!0})}_hideRipple(G){if(G?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const ee=this._getSibling();ee._isShowingAnyRipple()||(this._hideValueIndicator(),ee._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===z.START?z.END:z.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(ee){return new(ee||St)(u.rXU(u.gRc),u.rXU(u.SKi),u.rXU(u.aKT),u.rXU(re))};static#t=this.\u0275cmp=u.VBU({type:St,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(ee,De){if(1&ee&&(u.GBs(v.r6,5),u.GBs(L,5),u.GBs(F,5)),2&ee){let Ge;u.mGM(Ge=u.lsd())&&(De._ripple=Ge.first),u.mGM(Ge=u.lsd())&&(De._knob=Ge.first),u.mGM(Ge=u.lsd())&&(De._valueIndicatorContainer=Ge.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[u.Jv_([{provide:oe,useExisting:St}]),u.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(ee,De){1&ee&&(u.DNE(0,S,5,1,"div",2),u.nrm(1,"div",3,0)(3,"div",4)),2&ee&&(u.vxM(De.discrete?0:-1),u.R7$(3),u.Y8G("matRippleDisabled",!0))},dependencies:[v.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return St})(),R=(()=>{class St{get disabled(){return this._disabled}set disabled(G){this._disabled=G;const ee=this._getInput(z.END),De=this._getInput(z.START);ee&&(ee.disabled=this._disabled),De&&(De.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(G){this._discrete=G,this._updateValueIndicatorUIs()}get min(){return this._min}set min(G){const ee=isNaN(G)?this._min:G;this._min!==ee&&this._updateMin(ee)}_updateMin(G){const ee=this._min;this._min=G,this._isRange?this._updateMinRange({old:ee,new:G}):this._updateMinNonRange(G),this._onMinMaxOrStepChange()}_updateMinRange(G){const ee=this._getInput(z.END),De=this._getInput(z.START),Ge=ee.value,Ze=De.value;De.min=G.new,ee.min=Math.max(G.new,De.value),De.max=Math.min(ee.max,ee.value),De._updateWidthInactive(),ee._updateWidthInactive(),G.new<G.old?this._onTranslateXChangeBySideEffect(ee,De):this._onTranslateXChangeBySideEffect(De,ee),Ge!==ee.value&&this._onValueChange(ee),Ze!==De.value&&this._onValueChange(De)}_updateMinNonRange(G){const ee=this._getInput(z.END);if(ee){const De=ee.value;ee.min=G,ee._updateThumbUIByValue(),this._updateTrackUI(ee),De!==ee.value&&this._onValueChange(ee)}}get max(){return this._max}set max(G){const ee=isNaN(G)?this._max:G;this._max!==ee&&this._updateMax(ee)}_updateMax(G){const ee=this._max;this._max=G,this._isRange?this._updateMaxRange({old:ee,new:G}):this._updateMaxNonRange(G),this._onMinMaxOrStepChange()}_updateMaxRange(G){const ee=this._getInput(z.END),De=this._getInput(z.START),Ge=ee.value,Ze=De.value;ee.max=G.new,De.max=Math.min(G.new,ee.value),ee.min=De.value,ee._updateWidthInactive(),De._updateWidthInactive(),G.new>G.old?this._onTranslateXChangeBySideEffect(De,ee):this._onTranslateXChangeBySideEffect(ee,De),Ge!==ee.value&&this._onValueChange(ee),Ze!==De.value&&this._onValueChange(De)}_updateMaxNonRange(G){const ee=this._getInput(z.END);if(ee){const De=ee.value;ee.max=G,ee._updateThumbUIByValue(),this._updateTrackUI(ee),De!==ee.value&&this._onValueChange(ee)}}get step(){return this._step}set step(G){const ee=isNaN(G)?this._step:G;this._step!==ee&&this._updateStep(ee)}_updateStep(G){this._step=G,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const G=this._getInput(z.END),ee=this._getInput(z.START),De=G.value,Ge=ee.value,Ze=ee.value;G.min=this._min,ee.max=this._max,G.step=this._step,ee.step=this._step,this._platform.SAFARI&&(G.value=G.value,ee.value=ee.value),G.min=Math.max(this._min,ee.value),ee.max=Math.min(this._max,G.value),ee._updateWidthInactive(),G._updateWidthInactive(),G.value<Ze?this._onTranslateXChangeBySideEffect(ee,G):this._onTranslateXChangeBySideEffect(G,ee),De!==G.value&&this._onValueChange(G),Ge!==ee.value&&this._onValueChange(ee)}_updateStepNonRange(){const G=this._getInput(z.END);if(G){const ee=G.value;G.step=this._step,this._platform.SAFARI&&(G.value=G.value),G._updateThumbUIByValue(),ee!==G.value&&this._onValueChange(G)}}constructor(G,ee,De,Ge,Ze,ut){this._ngZone=G,this._cdr=ee,this._elementRef=De,this._dir=Ge,this._globalRippleOptions=Ze,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=bt=>`${bt}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,u.WQX)(y.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===ut,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const G=this._getInput(z.END),ee=this._getInput(z.START);this._isRange=!!G&&!!ee,this._cdr.detectChanges();const De=this._getThumb(z.END);this._rippleRadius=De._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(G,ee):this._initUINonRange(G),this._updateTrackUI(G),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(G){G.initProps(),G.initUI(),this._updateValueIndicatorUI(G),this._hasViewInitialized=!0,G._updateThumbUIByValue()}_initUIRange(G,ee){G.initProps(),G.initUI(),ee.initProps(),ee.initUI(),G._updateMinMax(),ee._updateMinMax(),G._updateStaticStyles(),ee._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,G._updateThumbUIByValue(),ee._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const G=this._getInput(z.END),ee=this._getInput(z.START);G._setIsLeftThumb(),ee._setIsLeftThumb(),G.translateX=G._calcTranslateXByValue(),ee.translateX=ee._calcTranslateXByValue(),G._updateStaticStyles(),ee._updateStaticStyles(),G._updateWidthInactive(),ee._updateWidthInactive(),G._updateThumbUIByValue(),ee._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(z.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(z.START)._isActive||this._getThumb(z.END)._isActive}_getValue(G=z.END){const ee=this._getInput(G);return ee?ee.value:this.min}_skipUpdate(){return!(!this._getInput(z.START)?._skipUIUpdate&&!this._getInput(z.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(G){const ee=this._trackActive.nativeElement.style;ee.left=G.left,ee.right=G.right,ee.transformOrigin=G.transformOrigin,ee.transform=G.transform}_calcTickMarkTransform(G){return`translateX(${G*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(G){this._hasViewInitialized&&(this._updateThumbUI(G),this._updateTrackUI(G),this._updateOverlappingThumbUI(G))}_onTranslateXChangeBySideEffect(G,ee){this._hasViewInitialized&&(G._updateThumbUIByValue(),ee._updateThumbUIByValue())}_onValueChange(G){this._hasViewInitialized&&(this._updateValueIndicatorUI(G),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const G=this._getInput(z.END),ee=this._getInput(z.START);G._updateThumbUIByValue(),ee._updateThumbUIByValue(),G._updateStaticStyles(),ee._updateStaticStyles(),G._updateMinMax(),ee._updateMinMax(),G._updateWidthInactive(),ee._updateWidthInactive()}else{const G=this._getInput(z.END);G&&G._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const G=this._getInput(z.START),ee=this._getInput(z.END);return!(!G||!ee)&&ee.translateX-G.translateX<20}_updateOverlappingThumbClassNames(G){const ee=G.getSibling(),De=this._getThumb(G.thumbPosition);this._getThumb(ee.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),De._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(G){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(G))}_updateThumbUI(G){this._skipUpdate()||(this._getThumb(G.thumbPosition===z.END?z.END:z.START)._hostElement.style.transform=`translateX(${G.translateX}px)`)}_updateValueIndicatorUI(G){if(this._skipUpdate())return;const ee=this.displayWith(G.value);if(this._hasViewInitialized?G._valuetext.set(ee):G._hostElement.setAttribute("aria-valuetext",ee),this.discrete){G.thumbPosition===z.START?this.startValueIndicatorText=ee:this.endValueIndicatorText=ee;const De=this._getThumb(G.thumbPosition);ee.length<3?De._hostElement.classList.add("mdc-slider__thumb--short-value"):De._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const G=this._getInput(z.END),ee=this._getInput(z.START);G&&this._updateValueIndicatorUI(G),ee&&this._updateValueIndicatorUI(ee)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const G=this._step&&this._step>0?this._step:1,De=(Math.floor(this.max/G)*G-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*De-6}_updateTrackUI(G){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(G):this._updateTrackUINonRange(G))}_updateTrackUIRange(G){const ee=G.getSibling();if(!ee||!this._cachedWidth)return;const De=Math.abs(ee.translateX-G.translateX)/this._cachedWidth;this._setTrackActiveStyles(G._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-ee.translateX+"px",transformOrigin:"right",transform:`scaleX(${De})`}:{left:`${ee.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${De})`})}_updateTrackUINonRange(G){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-G.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${G.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const G=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(G):this._updateTickMarkUINonRange(G),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(G){const ee=this._getValue();let De=Math.max(Math.round((ee-this.min)/G),0),Ge=Math.max(Math.round((this.max-ee)/G),0);this._isRtl?De++:Ge++,this._tickMarks=Array(De).fill(X.ACTIVE).concat(Array(Ge).fill(X.INACTIVE))}_updateTickMarkUIRange(G){const ee=this._getValue(),De=this._getValue(z.START),Ge=Math.max(Math.round((De-this.min)/G),0),Ze=Math.max(Math.round((ee-De)/G)+1,0),ut=Math.max(Math.round((this.max-ee)/G),0);this._tickMarks=Array(Ge).fill(X.INACTIVE).concat(Array(Ze).fill(X.ACTIVE),Array(ut).fill(X.INACTIVE))}_getInput(G){return G===z.END&&this._input?this._input:this._inputs?.length?G===z.START?this._inputs.first:this._inputs.last:void 0}_getThumb(G){return G===z.END?this._thumbs?.last:this._thumbs?.first}_setTransition(G){this._hasAnimation=!this._platform.IOS&&G&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(G,ee){const De=ee.width/2,bt=G.clientY-(ee.y+De);return Math.pow(G.clientX-(ee.x+De),2)+Math.pow(bt,2)<Math.pow(De,2)}static#e=this.\u0275fac=function(ee){return new(ee||St)(u.rXU(u.SKi),u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(r.dS,8),u.rXU(v.$E,8),u.rXU(u.bc$,8))};static#t=this.\u0275cmp=u.VBU({type:St,selectors:[["mat-slider"]],contentQueries:function(ee,De,Ge){if(1&ee&&(u.wni(Ge,Z,5),u.wni(Ge,Re,4)),2&ee){let Ze;u.mGM(Ze=u.lsd())&&(De._input=Ze.first),u.mGM(Ze=u.lsd())&&(De._inputs=Ze)}},viewQuery:function(ee,De){if(1&ee&&(u.GBs(U,5),u.GBs(oe,5)),2&ee){let Ge;u.mGM(Ge=u.lsd())&&(De._trackActive=Ge.first),u.mGM(Ge=u.lsd())&&(De._thumbs=Ge)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(ee,De){2&ee&&(u.HbH("mat-"+(De.color||"primary")),u.AVh("mdc-slider--range",De._isRange)("mdc-slider--disabled",De.disabled)("mdc-slider--discrete",De.discrete)("mdc-slider--tick-marks",De.showTickMarks)("_mat-animation-noopable",De._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",u.L39],discrete:[2,"discrete","discrete",u.L39],showTickMarks:[2,"showTickMarks","showTickMarks",u.L39],min:[2,"min","min",u.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",u.L39],max:[2,"max","max",u.Udg],step:[2,"step","step",u.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[u.Jv_([{provide:re,useExisting:St}]),u.GFd,u.aNF],ngContentSelectors:O,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(ee,De){1&ee&&(u.NAR(),u.SdG(0),u.j41(1,"div",2),u.nrm(2,"div",3),u.j41(3,"div",4),u.nrm(4,"div",5,0),u.k0s(),u.DNE(6,A,3,1,"div",6),u.k0s(),u.DNE(7,ue,1,3,"mat-slider-visual-thumb",7),u.nrm(8,"mat-slider-visual-thumb",7)),2&ee&&(u.R7$(6),u.vxM(De.showTickMarks?6:-1),u.R7$(),u.vxM(De._isRange?7:-1),u.R7$(),u.Y8G("discrete",De.discrete)("thumbPosition",2)("valueIndicatorText",De.endValueIndicatorText))},dependencies:[K],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return St})();const Fe={provide:x.kq,useExisting:(0,u.Rfq)(()=>Ve),multi:!0};let Ve=(()=>{class St{get value(){return(0,u.Udg)(this._hostElement.value,0)}set value(G){const ee=(G=isNaN(G)?0:G)+"";this._hasSetInitialValue?this._isActive||this._setValue(ee):this._initialValue=ee}_setValue(G){this._hostElement.value=G,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(G){this._translateX=G}get min(){return(0,u.Udg)(this._hostElement.min,0)}set min(G){this._hostElement.min=G+"",this._cdr.detectChanges()}get max(){return(0,u.Udg)(this._hostElement.max,0)}set max(G){this._hostElement.max=G+"",this._cdr.detectChanges()}get step(){return(0,u.Udg)(this._hostElement.step,0)}set step(G){this._hostElement.step=G+"",this._cdr.detectChanges()}get disabled(){return(0,u.L39)(this._hostElement.disabled)}set disabled(G){this._hostElement.disabled=G,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(G){this._isFocused=G}constructor(G,ee,De,Ge){this._ngZone=G,this._elementRef=ee,this._cdr=De,this._slider=Ge,this.valueChange=new u.bkB,this.dragStart=new u.bkB,this.dragEnd=new u.bkB,this.thumbPosition=z.END,this._valuetext=(0,u.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new d.B,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,u.WQX)(y.OD),this._hostElement=ee.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(G){if(!this.disabled&&0===G.button){if(this._platform.IOS){const ee=this._slider._isCursorOnSliderThumb(G,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=ee,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(G,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(G),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(G){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(G)},0)}_fixValue(G){const ee=G.clientX-this._slider._cachedLeft,De=this._slider._cachedWidth,Ge=0===this._slider.step?1:this._slider.step,Ze=Math.floor((this._slider.max-this._slider.min)/Ge),Dt=Math.round((this._slider._isRtl?1-ee/De:ee/De)*Ze)/Ze*(this._slider.max-this._slider.min)+this._slider.min,Le=Math.round(Dt/Ge)*Ge;if(Le===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(G,{withAnimation:this._slider._hasAnimation}));this.value=Le,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(G,{withAnimation:this._slider._hasAnimation})}_onPointerMove(G){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(G)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(G){const ee=this._tickMarkOffset;return Math.max(Math.min(G,this._slider._cachedWidth-this._tickMarkOffset),ee)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(G){return G.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(G){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(G)}_updateThumbUIByPointerEvent(G,ee){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(G)),this._updateThumbUI(ee)}_updateThumbUI(G){this._slider._setTransition(!!G?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(G){(this._isControlInitialized||null!==G)&&(this.value=G)}registerOnChange(G){this._onChangeFn=G,this._isControlInitialized=!0}registerOnTouched(G){this._onTouchedFn=G}setDisabledState(G){this.disabled=G}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(ee){return new(ee||St)(u.rXU(u.SKi),u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(re))};static#t=this.\u0275dir=u.FsC({type:St,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(ee,De){1&ee&&u.bIt("change",function(){return De._onChange()})("input",function(){return De._onInput()})("blur",function(){return De._onBlur()})("focus",function(){return De._onFocus()}),2&ee&&u.BMQ("aria-valuetext",De._valuetext())},inputs:{value:[2,"value","value",u.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[u.Jv_([Fe,{provide:Z,useExisting:St}]),u.GFd]})}return St})(),pt=(()=>{class St{static#e=this.\u0275fac=function(ee){return new(ee||St)};static#t=this.\u0275mod=u.$C({type:St});static#n=this.\u0275inj=u.G2t({imports:[v.yE,v.pZ]})}return St})()},95416:(ln,ye,w)=>{"use strict";w.d(ye,{UG:()=>Ve,_T:()=>pt,x6:()=>je});var r=w(54438),y=w(88834),u=w(85052),v=w(60177),x=w(49969),d=w(76939),L=w(36860),F=w(18617),S=w(99327),U=w(90953),O=w(37925),b=w(86600);function M(St,Rn){if(1&St){const G=r.RV6();r.j41(0,"div",1)(1,"button",2),r.bIt("click",function(){r.eBV(G);const De=r.XpG();return r.Njj(De.action())}),r.EFF(2),r.k0s()()}if(2&St){const G=r.XpG();r.R7$(2),r.SpI(" ",G.data.action," ")}}const A=["label"];function ue(St,Rn){}const z=Math.pow(2,31)-1;class X{constructor(Rn,G){this._overlayRef=G,this._afterDismissed=new u.B,this._afterOpened=new u.B,this._onAction=new u.B,this._dismissedByAction=!1,this.containerInstance=Rn,Rn._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Rn){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Rn,z))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const re=new r.nKC("MatSnackBarData");class Z{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Re=(()=>{class St{static#e=this.\u0275fac=function(ee){return new(ee||St)};static#t=this.\u0275dir=r.FsC({type:St,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return St})(),oe=(()=>{class St{static#e=this.\u0275fac=function(ee){return new(ee||St)};static#t=this.\u0275dir=r.FsC({type:St,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return St})(),Ce=(()=>{class St{static#e=this.\u0275fac=function(ee){return new(ee||St)};static#t=this.\u0275dir=r.FsC({type:St,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return St})(),K=(()=>{class St{constructor(G,ee){this.snackBarRef=G,this.data=ee}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(ee){return new(ee||St)(r.rXU(X),r.rXU(re))};static#t=this.\u0275cmp=r.VBU({type:St,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[r.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(ee,De){1&ee&&(r.j41(0,"div",0),r.EFF(1),r.k0s(),r.DNE(2,M,3,1,"div",1)),2&ee&&(r.R7$(),r.SpI(" ",De.data.message,"\n"),r.R7$(),r.vxM(De.hasAction?2:-1))},dependencies:[y.$z,Re,oe,Ce],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return St})();const R={snackBarState:(0,x.hZ)("state",[(0,x.wk)("void, hidden",(0,x.iF)({transform:"scale(0.8)",opacity:0})),(0,x.wk)("visible",(0,x.iF)({transform:"scale(1)",opacity:1})),(0,x.kY)("* => visible",(0,x.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,x.kY)("* => void, * => hidden",(0,x.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,x.iF)({opacity:0})))])};let ce=0,$=(()=>{class St extends d.lb{constructor(G,ee,De,Ge,Ze){super(),this._ngZone=G,this._elementRef=ee,this._changeDetectorRef=De,this._platform=Ge,this.snackBarConfig=Ze,this._document=(0,r.WQX)(v.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new u.B,this._onExit=new u.B,this._onEnter=new u.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ce++,this.attachDomPortal=ut=>{this._assertNotAttached();const bt=this._portalOutlet.attachDomPortal(ut);return this._afterPortalAttached(),bt},this._live="assertive"!==Ze.politeness||Ze.announcementMessage?"off"===Ze.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(G){this._assertNotAttached();const ee=this._portalOutlet.attachComponentPortal(G);return this._afterPortalAttached(),ee}attachTemplatePortal(G){this._assertNotAttached();const ee=this._portalOutlet.attachTemplatePortal(G);return this._afterPortalAttached(),ee}onAnimationEnd(G){const{fromState:ee,toState:De}=G;if(("void"===De&&"void"!==ee||"hidden"===De)&&this._completeExit(),"visible"===De){const Ge=this._onEnter;this._ngZone.run(()=>{Ge.next(),Ge.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const G=this._elementRef.nativeElement,ee=this.snackBarConfig.panelClass;ee&&(Array.isArray(ee)?ee.forEach(Ze=>G.classList.add(Ze)):G.classList.add(ee)),this._exposeToModals();const De=this._label.nativeElement,Ge="mdc-snackbar__label";De.classList.toggle(Ge,!De.querySelector(`.${Ge}`))}_exposeToModals(){const G=this._liveElementId,ee=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let De=0;De<ee.length;De++){const Ge=ee[De],Ze=Ge.getAttribute("aria-owns");this._trackedModals.add(Ge),Ze?-1===Ze.indexOf(G)&&Ge.setAttribute("aria-owns",Ze+" "+G):Ge.setAttribute("aria-owns",G)}}_clearFromModals(){this._trackedModals.forEach(G=>{const ee=G.getAttribute("aria-owns");if(ee){const De=ee.replace(this._liveElementId,"").trim();De.length>0?G.setAttribute("aria-owns",De):G.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const G=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ee=this._elementRef.nativeElement.querySelector("[aria-live]");if(G&&ee){let De=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&G.contains(document.activeElement)&&(De=document.activeElement),G.removeAttribute("aria-hidden"),ee.appendChild(G),De?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(ee){return new(ee||St)(r.rXU(r.SKi),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(L.OD),r.rXU(Z))};static#t=this.\u0275cmp=r.VBU({type:St,selectors:[["mat-snack-bar-container"]],viewQuery:function(ee,De){if(1&ee&&(r.GBs(d.I3,7),r.GBs(A,7)),2&ee){let Ge;r.mGM(Ge=r.lsd())&&(De._portalOutlet=Ge.first),r.mGM(Ge=r.lsd())&&(De._label=Ge.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(ee,De){1&ee&&r.Kam("@state.done",function(Ze){return De.onAnimationEnd(Ze)}),2&ee&&r.zvX("@state",De._animationState)},standalone:!0,features:[r.Vt3,r.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ee,De){1&ee&&(r.j41(0,"div",1)(1,"div",2,0)(3,"div",3),r.DNE(4,ue,0,0,"ng-template",4),r.k0s(),r.nrm(5,"div"),r.k0s()()),2&ee&&(r.R7$(5),r.BMQ("aria-live",De._live)("role",De._role)("id",De._liveElementId))},dependencies:[d.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[R.snackBarState]}})}return St})();const je=new r.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function Fe(){return new Z}});let Ve=(()=>{class St{get _openedSnackBarRef(){const G=this._parentSnackBar;return G?G._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(G){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=G:this._snackBarRefAtThisLevel=G}constructor(G,ee,De,Ge,Ze,ut){this._overlay=G,this._live=ee,this._injector=De,this._breakpointObserver=Ge,this._parentSnackBar=Ze,this._defaultConfig=ut,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=K,this.snackBarContainerComponent=$,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(G,ee){return this._attach(G,ee)}openFromTemplate(G,ee){return this._attach(G,ee)}open(G,ee="",De){const Ge={...this._defaultConfig,...De};return Ge.data={message:G,action:ee},Ge.announcementMessage===G&&(Ge.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ge)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(G,ee){const Ge=r.zZn.create({parent:ee&&ee.viewContainerRef&&ee.viewContainerRef.injector||this._injector,providers:[{provide:Z,useValue:ee}]}),Ze=new d.A8(this.snackBarContainerComponent,ee.viewContainerRef,Ge),ut=G.attach(Ze);return ut.instance.snackBarConfig=ee,ut.instance}_attach(G,ee){const De={...new Z,...this._defaultConfig,...ee},Ge=this._createOverlay(De),Ze=this._attachSnackBarContainer(Ge,De),ut=new X(Ze,Ge);if(G instanceof r.C4Q){const bt=new d.VA(G,null,{$implicit:De.data,snackBarRef:ut});ut.instance=Ze.attachTemplatePortal(bt)}else{const bt=this._createInjector(De,ut),Dt=new d.A8(G,void 0,bt),Le=Ze.attachComponentPortal(Dt);ut.instance=Le.instance}return this._breakpointObserver.observe(S.Rp.HandsetPortrait).pipe((0,O.Q)(Ge.detachments())).subscribe(bt=>{Ge.overlayElement.classList.toggle(this.handsetCssClass,bt.matches)}),De.announcementMessage&&Ze._onAnnounce.subscribe(()=>{this._live.announce(De.announcementMessage,De.politeness)}),this._animateSnackBar(ut,De),this._openedSnackBarRef=ut,this._openedSnackBarRef}_animateSnackBar(G,ee){G.afterDismissed().subscribe(()=>{this._openedSnackBarRef==G&&(this._openedSnackBarRef=null),ee.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{G.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):G.containerInstance.enter(),ee.duration&&ee.duration>0&&G.afterOpened().subscribe(()=>G._dismissAfter(ee.duration))}_createOverlay(G){const ee=new U.rR;ee.direction=G.direction;let De=this._overlay.position().global();const Ge="rtl"===G.direction,Ze="left"===G.horizontalPosition||"start"===G.horizontalPosition&&!Ge||"end"===G.horizontalPosition&&Ge,ut=!Ze&&"center"!==G.horizontalPosition;return Ze?De.left("0"):ut?De.right("0"):De.centerHorizontally(),"top"===G.verticalPosition?De.top("0"):De.bottom("0"),ee.positionStrategy=De,this._overlay.create(ee)}_createInjector(G,ee){return r.zZn.create({parent:G&&G.viewContainerRef&&G.viewContainerRef.injector||this._injector,providers:[{provide:X,useValue:ee},{provide:re,useValue:G.data}]})}static#e=this.\u0275fac=function(ee){return new(ee||St)(r.KVO(U.hJ),r.KVO(F.Ai),r.KVO(r.zZn),r.KVO(S.QP),r.KVO(St,12),r.KVO(je))};static#t=this.\u0275prov=r.jDH({token:St,factory:St.\u0275fac,providedIn:"root"})}return St})(),pt=(()=>{class St{static#e=this.\u0275fac=function(ee){return new(ee||St)};static#t=this.\u0275mod=r.$C({type:St});static#n=this.\u0275inj=r.G2t({providers:[Ve],imports:[U.z_,d.jc,y.Hl,b.yE,K,b.yE]})}return St})()},55911:(ln,ye,w)=>{"use strict";w.d(ye,{s5:()=>F});var r=w(54438),y=w(86600);let F=(()=>{class S{static#e=this.\u0275fac=function(b){return new(b||S)};static#t=this.\u0275mod=r.$C({type:S});static#n=this.\u0275inj=r.G2t({imports:[y.yE,y.yE]})}return S})()},14823:(ln,ye,w)=>{"use strict";w.d(ye,{oV:()=>lt,sM:()=>Ce,uc:()=>Rn,zi:()=>oe});var r=w(37925),y=w(14085),u=w(67336),v=w(54438),x=w(60177),d=w(36860),L=w(18617),F=w(28203),S=w(90953),U=w(65478),O=w(76939),b=w(85052),A=(w(49969),w(86600));const ue=["tooltip"],re=new v.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const G=(0,v.WQX)(S.hJ);return()=>G.scrollStrategies.reposition({scrollThrottle:20})}}),Re={provide:re,deps:[S.hJ],useFactory:function Z(G){return()=>G.scrollStrategies.reposition({scrollThrottle:20})}};function oe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}const Ce=new v.nKC("mat-tooltip-default-options",{providedIn:"root",factory:oe}),R="tooltip-panel",ce=(0,d.BQ)({passive:!0});let lt=(()=>{class G{get position(){return this._position}set position(De){De!==this._position&&(this._position=De,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(De){this._positionAtOrigin=(0,y.he)(De),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(De){const Ge=(0,y.he)(De);this._disabled!==Ge&&(this._disabled=Ge,Ge?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(De){this._showDelay=(0,y.OE)(De)}get hideDelay(){return this._hideDelay}set hideDelay(De){this._hideDelay=(0,y.OE)(De),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(De){const Ge=this._message;this._message=null!=De?String(De).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(Ge)}get tooltipClass(){return this._tooltipClass}set tooltipClass(De){this._tooltipClass=De,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(De,Ge,Ze,ut,bt,Dt,Le,Ae,se,Me,Ee,C){this._overlay=De,this._elementRef=Ge,this._scrollDispatcher=Ze,this._viewContainerRef=ut,this._ngZone=bt,this._platform=Dt,this._ariaDescriber=Le,this._focusMonitor=Ae,this._dir=Me,this._defaultOptions=Ee,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=pt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new b.B,this._injector=(0,v.WQX)(v.zZn),this._scrollStrategy=se,this._document=C,Ee&&(this._showDelay=Ee.showDelay,this._hideDelay=Ee.hideDelay,Ee.position&&(this.position=Ee.position),Ee.positionAtOrigin&&(this.positionAtOrigin=Ee.positionAtOrigin),Ee.touchGestures&&(this.touchGestures=Ee.touchGestures),Ee.tooltipClass&&(this.tooltipClass=Ee.tooltipClass)),Me.change.pipe((0,r.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,r.Q)(this._destroyed)).subscribe(De=>{De?"keyboard"===De&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const De=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Ge,Ze])=>{De.removeEventListener(Ge,Ze,ce)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(De,this.message,"tooltip"),this._focusMonitor.stopMonitoring(De)}show(De=this.showDelay,Ge){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Ze=this._createOverlay(Ge);this._detach(),this._portal=this._portal||new O.A8(this._tooltipComponent,this._viewContainerRef);const ut=this._tooltipInstance=Ze.attach(this._portal).instance;ut._triggerElement=this._elementRef.nativeElement,ut._mouseLeaveHideDelay=this._hideDelay,ut.afterHidden().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),ut.show(De)}hide(De=this.hideDelay){const Ge=this._tooltipInstance;Ge&&(Ge.isVisible()?Ge.hide(De):(Ge._cancelPendingAnimations(),this._detach()))}toggle(De){this._isTooltipVisible()?this.hide():this.show(void 0,De)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(De){if(this._overlayRef){const ut=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!De)&&ut._origin instanceof v.aKT)return this._overlayRef;this._detach()}const Ge=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Ze=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&De||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Ge);return Ze.positionChanges.pipe((0,r.Q)(this._destroyed)).subscribe(ut=>{this._updateCurrentPositionClass(ut.connectionPair),this._tooltipInstance&&ut.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Ze,panelClass:`${this._cssClassPrefix}-${R}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,r.Q)(this._destroyed)).subscribe(ut=>{this._isTooltipVisible()&&ut.keyCode===u._f&&!(0,u.rp)(ut)&&(ut.preventDefault(),ut.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(De){const Ge=De.getConfig().positionStrategy,Ze=this._getOrigin(),ut=this._getOverlayPosition();Ge.withPositions([this._addOffset({...Ze.main,...ut.main}),this._addOffset({...Ze.fallback,...ut.fallback})])}_addOffset(De){const Ze=!this._dir||"ltr"==this._dir.value;return"top"===De.originY?De.offsetY=-8:"bottom"===De.originY?De.offsetY=8:"start"===De.originX?De.offsetX=Ze?-8:8:"end"===De.originX&&(De.offsetX=Ze?8:-8),De}_getOrigin(){const De=!this._dir||"ltr"==this._dir.value,Ge=this.position;let Ze;"above"==Ge||"below"==Ge?Ze={originX:"center",originY:"above"==Ge?"top":"bottom"}:"before"==Ge||"left"==Ge&&De||"right"==Ge&&!De?Ze={originX:"start",originY:"center"}:("after"==Ge||"right"==Ge&&De||"left"==Ge&&!De)&&(Ze={originX:"end",originY:"center"});const{x:ut,y:bt}=this._invertPosition(Ze.originX,Ze.originY);return{main:Ze,fallback:{originX:ut,originY:bt}}}_getOverlayPosition(){const De=!this._dir||"ltr"==this._dir.value,Ge=this.position;let Ze;"above"==Ge?Ze={overlayX:"center",overlayY:"bottom"}:"below"==Ge?Ze={overlayX:"center",overlayY:"top"}:"before"==Ge||"left"==Ge&&De||"right"==Ge&&!De?Ze={overlayX:"end",overlayY:"center"}:("after"==Ge||"right"==Ge&&De||"left"==Ge&&!De)&&(Ze={overlayX:"start",overlayY:"center"});const{x:ut,y:bt}=this._invertPosition(Ze.overlayX,Ze.overlayY);return{main:Ze,fallback:{overlayX:ut,overlayY:bt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,v.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(De){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=De,this._tooltipInstance._markForCheck())}_invertPosition(De,Ge){return"above"===this.position||"below"===this.position?"top"===Ge?Ge="bottom":"bottom"===Ge&&(Ge="top"):"end"===De?De="start":"start"===De&&(De="end"),{x:De,y:Ge}}_updateCurrentPositionClass(De){const{overlayY:Ge,originX:Ze,originY:ut}=De;let bt;if(bt="center"===Ge?this._dir&&"rtl"===this._dir.value?"end"===Ze?"left":"right":"start"===Ze?"left":"right":"bottom"===Ge&&"top"===ut?"above":"below",bt!==this._currentPosition){const Dt=this._overlayRef;if(Dt){const Le=`${this._cssClassPrefix}-${R}-`;Dt.removePanelClass(Le+this._currentPosition),Dt.addPanelClass(Le+bt)}this._currentPosition=bt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",De=>{let Ge;this._setupPointerExitEventsIfNeeded(),void 0!==De.x&&void 0!==De.y&&(Ge=De),this.show(void 0,Ge)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",De=>{const Ge=De.targetTouches?.[0],Ze=Ge?{x:Ge.clientX,y:Ge.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,Ze)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const De=[];if(this._platformSupportsMouseEvents())De.push(["mouseleave",Ge=>{const Ze=Ge.relatedTarget;(!Ze||!this._overlayRef?.overlayElement.contains(Ze))&&this.hide()}],["wheel",Ge=>this._wheelListener(Ge)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Ge=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};De.push(["touchend",Ge],["touchcancel",Ge])}this._addListeners(De),this._passiveListeners.push(...De)}_addListeners(De){De.forEach(([Ge,Ze])=>{this._elementRef.nativeElement.addEventListener(Ge,Ze,ce)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(De){if(this._isTooltipVisible()){const Ge=this._document.elementFromPoint(De.clientX,De.clientY),Ze=this._elementRef.nativeElement;Ge!==Ze&&!Ze.contains(Ge)&&this.hide()}}_disableNativeGesturesIfNecessary(){const De=this.touchGestures;if("off"!==De){const Ge=this._elementRef.nativeElement,Ze=Ge.style;("on"===De||"INPUT"!==Ge.nodeName&&"TEXTAREA"!==Ge.nodeName)&&(Ze.userSelect=Ze.msUserSelect=Ze.webkitUserSelect=Ze.MozUserSelect="none"),("on"===De||!Ge.draggable)&&(Ze.webkitUserDrag="none"),Ze.touchAction="none",Ze.webkitTapHighlightColor="transparent"}}_syncAriaDescription(De){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,De,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#e=this.\u0275fac=function(Ge){return new(Ge||G)(v.rXU(S.hJ),v.rXU(v.aKT),v.rXU(U.R),v.rXU(v.c1b),v.rXU(v.SKi),v.rXU(d.OD),v.rXU(L.vr),v.rXU(L.FN),v.rXU(re),v.rXU(F.dS),v.rXU(Ce,8),v.rXU(x.qQ))};static#t=this.\u0275dir=v.FsC({type:G,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Ge,Ze){2&Ge&&v.AVh("mat-mdc-tooltip-disabled",Ze.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return G})(),pt=(()=>{class G{constructor(De,Ge,Ze){this._changeDetectorRef=De,this._elementRef=Ge,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new b.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===Ze}show(De){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},De)}hide(De){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},De)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:De}){(!De||!this._triggerElement.contains(De))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const De=this._elementRef.nativeElement.getBoundingClientRect();return De.height>24&&De.width>=200}_handleAnimationEnd({animationName:De}){(De===this._showAnimation||De===this._hideAnimation)&&this._finalizeAnimation(De===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(De){De?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(De){const Ge=this._tooltip.nativeElement,Ze=this._showAnimation,ut=this._hideAnimation;if(Ge.classList.remove(De?ut:Ze),Ge.classList.add(De?Ze:ut),this._isVisible!==De&&(this._isVisible=De,this._changeDetectorRef.markForCheck()),De&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const bt=getComputedStyle(Ge);("0s"===bt.getPropertyValue("animation-duration")||"none"===bt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}De&&this._onShow(),this._animationsDisabled&&(Ge.classList.add("_mat-animation-noopable"),this._finalizeAnimation(De))}static#e=this.\u0275fac=function(Ge){return new(Ge||G)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.bc$,8))};static#t=this.\u0275cmp=v.VBU({type:G,selectors:[["mat-tooltip-component"]],viewQuery:function(Ge,Ze){if(1&Ge&&v.GBs(ue,7),2&Ge){let ut;v.mGM(ut=v.lsd())&&(Ze._tooltip=ut.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(Ge,Ze){1&Ge&&v.bIt("mouseleave",function(bt){return Ze._handleMouseLeave(bt)})},standalone:!0,features:[v.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(Ge,Ze){if(1&Ge){const ut=v.RV6();v.j41(0,"div",1,0),v.bIt("animationend",function(Dt){return v.eBV(ut),v.Njj(Ze._handleAnimationEnd(Dt))}),v.j41(2,"div",2),v.EFF(3),v.k0s()()}2&Ge&&(v.AVh("mdc-tooltip--multiline",Ze._isMultiline),v.Y8G("ngClass",Ze.tooltipClass),v.R7$(3),v.JRh(Ze.message))},dependencies:[x.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return G})(),Rn=(()=>{class G{static#e=this.\u0275fac=function(Ge){return new(Ge||G)};static#t=this.\u0275mod=v.$C({type:G});static#n=this.\u0275inj=v.G2t({providers:[Re],imports:[L.Pd,x.MD,S.z_,A.yE,A.yE,U.Gj]})}return G})()},728:(ln,ye,w)=>{"use strict";w.d(ye,{wb:()=>xo});var r=w(54438),y=w(345),u=w(49969);function x(He){return new r.wOt(3e3,!1)}function Le(He){switch(He.length){case 0:return new u.sf;case 1:return He[0];default:return new u.ui(He)}}function Ae(He,j,pe=new Map,k=new Map){const le=[],q=[];let Je=-1,Ut=null;if(j.forEach(Xn=>{const gr=Xn.get("offset"),Xi=gr==Je,to=Xi&&Ut||new Map;Xn.forEach((_i,Qr)=>{let ot=Qr,hn=_i;if("offset"!==Qr)switch(ot=He.normalizePropertyName(ot,le),hn){case u.FX:hn=pe.get(Qr);break;case u.kp:hn=k.get(Qr);break;default:hn=He.normalizeStyleValue(Qr,ot,hn,le)}to.set(ot,hn)}),Xi||q.push(to),Ut=to,Je=gr}),le.length)throw function Ve(){return new r.wOt(3502,!1)}();return q}function se(He,j,pe,k){switch(j){case"start":He.onStart(()=>k(pe&&Me(pe,"start",He)));break;case"done":He.onDone(()=>k(pe&&Me(pe,"done",He)));break;case"destroy":He.onDestroy(()=>k(pe&&Me(pe,"destroy",He)))}}function Me(He,j,pe){const q=Ee(He.element,He.triggerName,He.fromState,He.toState,j||He.phaseName,pe.totalTime??He.totalTime,!!pe.disabled),Je=He._data;return null!=Je&&(q._data=Je),q}function Ee(He,j,pe,k,le="",q=0,Je){return{element:He,triggerName:j,fromState:pe,toState:k,phaseName:le,totalTime:q,disabled:!!Je}}function C(He,j,pe){let k=He.get(j);return k||He.set(j,k=pe),k}function T(He){const j=He.indexOf(":");return[He.substring(1,j),He.slice(j+1)]}const J=typeof document>"u"?null:document.documentElement;function W(He){const j=He.parentNode||He.host||null;return j===J?null:j}let ne=null,p=!1;function $e(He,j){for(;j;){if(j===He)return!0;j=W(j)}return!1}function ft(He,j,pe){if(pe)return Array.from(He.querySelectorAll(j));const k=He.querySelector(j);return k?[k]:[]}let jt=(()=>{class He{validateStyleProperty(pe){return function H(He){ne||(ne=function Ie(){return typeof document<"u"?document.body:null}()||{},p=!!ne.style&&"WebkitAppearance"in ne.style);let j=!0;return ne.style&&!function ve(He){return"ebkit"==He.substring(1,6)}(He)&&(j=He in ne.style,!j&&p&&(j="Webkit"+He.charAt(0).toUpperCase()+He.slice(1)in ne.style)),j}(pe)}containsElement(pe,k){return $e(pe,k)}getParentElement(pe){return W(pe)}query(pe,k,le){return ft(pe,k,le)}computeStyle(pe,k,le){return le||""}animate(pe,k,le,q,Je,Ut=[],Xn){return new u.sf(le,q)}static#e=this.\u0275fac=function(k){return new(k||He)};static#t=this.\u0275prov=r.jDH({token:He,factory:He.\u0275fac})}return He})();class Ye{static#e=this.NOOP=new jt}class ct{}const Ke=1e3,Ct="ng-enter",mt="ng-leave",Vt="ng-trigger",at=".ng-trigger",We="ng-animating",ke=".ng-animating";function et(He){if("number"==typeof He)return He;const j=He.match(/^(-?[\.\d]+)(m?s)/);return!j||j.length<2?0:xt(parseFloat(j[1]),j[2])}function xt(He,j){return"s"===j?He*Ke:He}function Zt(He,j,pe){return He.hasOwnProperty("duration")?He:function vn(He,j,pe){let le,q=0,Je="";if("string"==typeof He){const Ut=He.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ut)return j.push(x()),{duration:0,delay:0,easing:""};le=xt(parseFloat(Ut[1]),Ut[2]);const Xn=Ut[3];null!=Xn&&(q=xt(parseFloat(Xn),Ut[4]));const gr=Ut[5];gr&&(Je=gr)}else le=He;if(!pe){let Ut=!1,Xn=j.length;le<0&&(j.push(function d(){return new r.wOt(3100,!1)}()),Ut=!0),q<0&&(j.push(function L(){return new r.wOt(3101,!1)}()),Ut=!0),Ut&&j.splice(Xn,0,x())}return{duration:le,delay:q,easing:Je}}(He,j,pe)}function dn(He,j,pe){j.forEach((k,le)=>{const q=Pn(le);pe&&!pe.has(le)&&pe.set(le,He.style[q]),He.style[q]=k})}function nn(He,j){j.forEach((pe,k)=>{const le=Pn(k);He.style[le]=""})}function Ht(He){return Array.isArray(He)?1==He.length?He[0]:(0,u.K2)(He):He}const Nn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ot(He){let j=[];if("string"==typeof He){let pe;for(;pe=Nn.exec(He);)j.push(pe[1]);Nn.lastIndex=0}return j}function Mn(He,j,pe){const k=`${He}`,le=k.replace(Nn,(q,Je)=>{let Ut=j[Je];return null==Ut&&(pe.push(function S(){return new r.wOt(3003,!1)}()),Ut=""),Ut.toString()});return le==k?He:le}const Bn=/-+([a-z0-9])/g;function Pn(He){return He.replace(Bn,(...j)=>j[1].toUpperCase())}function yt(He,j,pe){switch(j.type){case u.If.Trigger:return He.visitTrigger(j,pe);case u.If.State:return He.visitState(j,pe);case u.If.Transition:return He.visitTransition(j,pe);case u.If.Sequence:return He.visitSequence(j,pe);case u.If.Group:return He.visitGroup(j,pe);case u.If.Animate:return He.visitAnimate(j,pe);case u.If.Keyframes:return He.visitKeyframes(j,pe);case u.If.Style:return He.visitStyle(j,pe);case u.If.Reference:return He.visitReference(j,pe);case u.If.AnimateChild:return He.visitAnimateChild(j,pe);case u.If.AnimateRef:return He.visitAnimateRef(j,pe);case u.If.Query:return He.visitQuery(j,pe);case u.If.Stagger:return He.visitStagger(j,pe);default:throw function U(){return new r.wOt(3004,!1)}()}}function _e(He,j){return window.getComputedStyle(He)[j]}const he=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Be extends ct{normalizePropertyName(j,pe){return Pn(j)}normalizeStyleValue(j,pe,k,le){let q="";const Je=k.toString().trim();if(he.has(pe)&&0!==k&&"0"!==k)if("number"==typeof k)q="px";else{const Ut=k.match(/^[+-]?[\d\.]+([a-z]*)$/);Ut&&0==Ut[1].length&&le.push(function O(){return new r.wOt(3005,!1)}())}return Je+q}}const ti="*";const er=new Set(["true","1"]),ur=new Set(["false","0"]);function Ei(He,j){const pe=er.has(He)||ur.has(He),k=er.has(j)||ur.has(j);return(le,q)=>{let Je=He==ti||He==le,Ut=j==ti||j==q;return!Je&&pe&&"boolean"==typeof le&&(Je=le?er.has(He):ur.has(He)),!Ut&&k&&"boolean"==typeof q&&(Ut=q?er.has(j):ur.has(j)),Je&&Ut}}const rn=new RegExp("s*:selfs*,?","g");function En(He,j,pe,k){return new Er(He).build(j,pe,k)}class Er{constructor(j){this._driver=j}build(j,pe,k){const le=new Mt(pe);return this._resetContextStyleTimingState(le),yt(this,Ht(j),le)}_resetContextStyleTimingState(j){j.currentQuerySelector="",j.collectedStyles=new Map,j.collectedStyles.set("",new Map),j.currentTime=0}visitTrigger(j,pe){let k=pe.queryCount=0,le=pe.depCount=0;const q=[],Je=[];return"@"==j.name.charAt(0)&&pe.errors.push(function b(){return new r.wOt(3006,!1)}()),j.definitions.forEach(Ut=>{if(this._resetContextStyleTimingState(pe),Ut.type==u.If.State){const Xn=Ut,gr=Xn.name;gr.toString().split(/\s*,\s*/).forEach(Xi=>{Xn.name=Xi,q.push(this.visitState(Xn,pe))}),Xn.name=gr}else if(Ut.type==u.If.Transition){const Xn=this.visitTransition(Ut,pe);k+=Xn.queryCount,le+=Xn.depCount,Je.push(Xn)}else pe.errors.push(function M(){return new r.wOt(3007,!1)}())}),{type:u.If.Trigger,name:j.name,states:q,transitions:Je,queryCount:k,depCount:le,options:null}}visitState(j,pe){const k=this.visitStyle(j.styles,pe),le=j.options&&j.options.params||null;if(k.containsDynamicStyles){const q=new Set,Je=le||{};k.styles.forEach(Ut=>{Ut instanceof Map&&Ut.forEach(Xn=>{Ot(Xn).forEach(gr=>{Je.hasOwnProperty(gr)||q.add(gr)})})}),q.size&&pe.errors.push(function A(){return new r.wOt(3008,!1)}(0,q.values()))}return{type:u.If.State,name:j.name,style:k,options:le?{params:le}:null}}visitTransition(j,pe){pe.queryCount=0,pe.depCount=0;const k=yt(this,Ht(j.animation),pe),le=function Yr(He,j){const pe=[];return"string"==typeof He?He.split(/\s*,\s*/).forEach(k=>function Ki(He,j,pe){if(":"==He[0]){const Xn=function mi(He,j){switch(He){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(pe,k)=>parseFloat(k)>parseFloat(pe);case":decrement":return(pe,k)=>parseFloat(k)<parseFloat(pe);default:return j.push(function ce(){return new r.wOt(3016,!1)}()),"* => *"}}(He,pe);if("function"==typeof Xn)return void j.push(Xn);He=Xn}const k=He.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==k||k.length<4)return pe.push(function R(){return new r.wOt(3015,!1)}()),j;const le=k[1],q=k[2],Je=k[3];j.push(Ei(le,Je)),"<"==q[0]&&(le!=ti||Je!=ti)&&j.push(Ei(Je,le))}(k,pe,j)):pe.push(He),pe}(j.expr,pe.errors);return{type:u.If.Transition,matchers:le,animation:k,queryCount:pe.queryCount,depCount:pe.depCount,options:Yt(j.options)}}visitSequence(j,pe){return{type:u.If.Sequence,steps:j.steps.map(k=>yt(this,k,pe)),options:Yt(j.options)}}visitGroup(j,pe){const k=pe.currentTime;let le=0;const q=j.steps.map(Je=>{pe.currentTime=k;const Ut=yt(this,Je,pe);return le=Math.max(le,pe.currentTime),Ut});return pe.currentTime=le,{type:u.If.Group,steps:q,options:Yt(j.options)}}visitAnimate(j,pe){const k=function ze(He,j){if(He.hasOwnProperty("duration"))return He;if("number"==typeof He)return An(Zt(He,j).duration,0,"");const pe=He;if(pe.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=An(0,0,"");return q.dynamic=!0,q.strValue=pe,q}const le=Zt(pe,j);return An(le.duration,le.delay,le.easing)}(j.timings,pe.errors);pe.currentAnimateTimings=k;let le,q=j.styles?j.styles:(0,u.iF)({});if(q.type==u.If.Keyframes)le=this.visitKeyframes(q,pe);else{let Je=j.styles,Ut=!1;if(!Je){Ut=!0;const gr={};k.easing&&(gr.easing=k.easing),Je=(0,u.iF)(gr)}pe.currentTime+=k.duration+k.delay;const Xn=this.visitStyle(Je,pe);Xn.isEmptyStep=Ut,le=Xn}return pe.currentAnimateTimings=null,{type:u.If.Animate,timings:k,style:le,options:null}}visitStyle(j,pe){const k=this._makeStyleAst(j,pe);return this._validateStyleAst(k,pe),k}_makeStyleAst(j,pe){const k=[],le=Array.isArray(j.styles)?j.styles:[j.styles];for(let Ut of le)"string"==typeof Ut?Ut===u.kp?k.push(Ut):pe.errors.push(new r.wOt(3002,!1)):k.push(new Map(Object.entries(Ut)));let q=!1,Je=null;return k.forEach(Ut=>{if(Ut instanceof Map&&(Ut.has("easing")&&(Je=Ut.get("easing"),Ut.delete("easing")),!q))for(let Xn of Ut.values())if(Xn.toString().indexOf("{{")>=0){q=!0;break}}),{type:u.If.Style,styles:k,easing:Je,offset:j.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(j,pe){const k=pe.currentAnimateTimings;let le=pe.currentTime,q=pe.currentTime;k&&q>0&&(q-=k.duration+k.delay),j.styles.forEach(Je=>{"string"!=typeof Je&&Je.forEach((Ut,Xn)=>{const gr=pe.collectedStyles.get(pe.currentQuerySelector),Xi=gr.get(Xn);let to=!0;Xi&&(q!=le&&q>=Xi.startTime&&le<=Xi.endTime&&(pe.errors.push(function X(){return new r.wOt(3010,!1)}()),to=!1),q=Xi.startTime),to&&gr.set(Xn,{startTime:q,endTime:le}),pe.options&&function Xt(He,j,pe){const k=j.params||{},le=Ot(He);le.length&&le.forEach(q=>{k.hasOwnProperty(q)||pe.push(function F(){return new r.wOt(3001,!1)}())})}(Ut,pe.options,pe.errors)})})}visitKeyframes(j,pe){const k={type:u.If.Keyframes,styles:[],options:null};if(!pe.currentAnimateTimings)return pe.errors.push(function re(){return new r.wOt(3011,!1)}()),k;let q=0;const Je=[];let Ut=!1,Xn=!1,gr=0;const Xi=j.steps.map(N=>{const V=this._makeStyleAst(N,pe);let Oe=null!=V.offset?V.offset:function te(He){if("string"==typeof He)return null;let j=null;if(Array.isArray(He))He.forEach(pe=>{if(pe instanceof Map&&pe.has("offset")){const k=pe;j=parseFloat(k.get("offset")),k.delete("offset")}});else if(He instanceof Map&&He.has("offset")){const pe=He;j=parseFloat(pe.get("offset")),pe.delete("offset")}return j}(V.styles),st=0;return null!=Oe&&(q++,st=V.offset=Oe),Xn=Xn||st<0||st>1,Ut=Ut||st<gr,gr=st,Je.push(st),V});Xn&&pe.errors.push(function Z(){return new r.wOt(3012,!1)}()),Ut&&pe.errors.push(function Re(){return new r.wOt(3200,!1)}());const to=j.steps.length;let _i=0;q>0&&q<to?pe.errors.push(function oe(){return new r.wOt(3202,!1)}()):0==q&&(_i=1/(to-1));const Qr=to-1,ot=pe.currentTime,hn=pe.currentAnimateTimings,Nt=hn.duration;return Xi.forEach((N,V)=>{const Oe=_i>0?V==Qr?1:_i*V:Je[V],st=Oe*Nt;pe.currentTime=ot+hn.delay+st,hn.duration=st,this._validateStyleAst(N,pe),N.offset=Oe,k.styles.push(N)}),k}visitReference(j,pe){return{type:u.If.Reference,animation:yt(this,Ht(j.animation),pe),options:Yt(j.options)}}visitAnimateChild(j,pe){return pe.depCount++,{type:u.If.AnimateChild,options:Yt(j.options)}}visitAnimateRef(j,pe){return{type:u.If.AnimateRef,animation:this.visitReference(j.animation,pe),options:Yt(j.options)}}visitQuery(j,pe){const k=pe.currentQuerySelector,le=j.options||{};pe.queryCount++,pe.currentQuery=j;const[q,Je]=function Hr(He){const j=!!He.split(/\s*,\s*/).find(pe=>":self"==pe);return j&&(He=He.replace(rn,"")),He=He.replace(/@\*/g,at).replace(/@\w+/g,pe=>at+"-"+pe.slice(1)).replace(/:animating/g,ke),[He,j]}(j.selector);pe.currentQuerySelector=k.length?k+" "+q:q,C(pe.collectedStyles,pe.currentQuerySelector,new Map);const Ut=yt(this,Ht(j.animation),pe);return pe.currentQuery=null,pe.currentQuerySelector=k,{type:u.If.Query,selector:q,limit:le.limit||0,optional:!!le.optional,includeSelf:Je,animation:Ut,originalSelector:j.selector,options:Yt(j.options)}}visitStagger(j,pe){pe.currentQuery||pe.errors.push(function Ce(){return new r.wOt(3013,!1)}());const k="full"===j.timings?{duration:0,delay:0,easing:"full"}:Zt(j.timings,pe.errors,!0);return{type:u.If.Stagger,animation:yt(this,Ht(j.animation),pe),timings:k,options:null}}}class Mt{constructor(j){this.errors=j,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yt(He){return He?(He={...He}).params&&(He.params=function vr(He){return He?{...He}:null}(He.params)):He={},He}function An(He,j,pe){return{duration:He,delay:j,easing:pe}}function Kn(He,j,pe,k,le,q,Je=null,Ut=!1){return{type:1,element:He,keyframes:j,preStyleProps:pe,postStyleProps:k,duration:le,delay:q,totalTime:le+q,easing:Je,subTimeline:Ut}}class sr{constructor(){this._map=new Map}get(j){return this._map.get(j)||[]}append(j,pe){let k=this._map.get(j);k||this._map.set(j,k=[]),k.push(...pe)}has(j){return this._map.has(j)}clear(){this._map.clear()}}const Ur=new RegExp(":enter","g"),Ri=new RegExp(":leave","g");function ji(He,j,pe,k,le,q=new Map,Je=new Map,Ut,Xn,gr=[]){return(new $i).buildKeyframes(He,j,pe,k,le,q,Je,Ut,Xn,gr)}class $i{buildKeyframes(j,pe,k,le,q,Je,Ut,Xn,gr,Xi=[]){gr=gr||new sr;const to=new no(j,pe,gr,le,q,Xi,[]);to.options=Xn;const _i=Xn.delay?et(Xn.delay):0;to.currentTimeline.delayNextStep(_i),to.currentTimeline.setStyles([Je],null,to.errors,Xn),yt(this,k,to);const Qr=to.timelines.filter(ot=>ot.containsAnimation());if(Qr.length&&Ut.size){let ot;for(let hn=Qr.length-1;hn>=0;hn--){const Nt=Qr[hn];if(Nt.element===pe){ot=Nt;break}}ot&&!ot.allowOnlyTimelineStyles()&&ot.setStyles([Ut],null,to.errors,Xn)}return Qr.length?Qr.map(ot=>ot.buildKeyframes()):[Kn(pe,[],[],[],0,_i,"",!1)]}visitTrigger(j,pe){}visitState(j,pe){}visitTransition(j,pe){}visitAnimateChild(j,pe){const k=pe.subInstructions.get(pe.element);if(k){const le=pe.createSubContext(j.options),q=pe.currentTimeline.currentTime,Je=this._visitSubInstructions(k,le,le.options);q!=Je&&pe.transformIntoNewTimeline(Je)}pe.previousNode=j}visitAnimateRef(j,pe){const k=pe.createSubContext(j.options);k.transformIntoNewTimeline(),this._applyAnimationRefDelays([j.options,j.animation.options],pe,k),this.visitReference(j.animation,k),pe.transformIntoNewTimeline(k.currentTimeline.currentTime),pe.previousNode=j}_applyAnimationRefDelays(j,pe,k){for(const le of j){const q=le?.delay;if(q){const Je="number"==typeof q?q:et(Mn(q,le?.params??{},pe.errors));k.delayNextStep(Je)}}}_visitSubInstructions(j,pe,k){let q=pe.currentTimeline.currentTime;const Je=null!=k.duration?et(k.duration):null,Ut=null!=k.delay?et(k.delay):null;return 0!==Je&&j.forEach(Xn=>{const gr=pe.appendInstructionToTimeline(Xn,Je,Ut);q=Math.max(q,gr.duration+gr.delay)}),q}visitReference(j,pe){pe.updateOptions(j.options,!0),yt(this,j.animation,pe),pe.previousNode=j}visitSequence(j,pe){const k=pe.subContextCount;let le=pe;const q=j.options;if(q&&(q.params||q.delay)&&(le=pe.createSubContext(q),le.transformIntoNewTimeline(),null!=q.delay)){le.previousNode.type==u.If.Style&&(le.currentTimeline.snapshotCurrentStyles(),le.previousNode=Yi);const Je=et(q.delay);le.delayNextStep(Je)}j.steps.length&&(j.steps.forEach(Je=>yt(this,Je,le)),le.currentTimeline.applyStylesToKeyframe(),le.subContextCount>k&&le.transformIntoNewTimeline()),pe.previousNode=j}visitGroup(j,pe){const k=[];let le=pe.currentTimeline.currentTime;const q=j.options&&j.options.delay?et(j.options.delay):0;j.steps.forEach(Je=>{const Ut=pe.createSubContext(j.options);q&&Ut.delayNextStep(q),yt(this,Je,Ut),le=Math.max(le,Ut.currentTimeline.currentTime),k.push(Ut.currentTimeline)}),k.forEach(Je=>pe.currentTimeline.mergeTimelineCollectedStyles(Je)),pe.transformIntoNewTimeline(le),pe.previousNode=j}_visitTiming(j,pe){if(j.dynamic){const k=j.strValue;return Zt(pe.params?Mn(k,pe.params,pe.errors):k,pe.errors)}return{duration:j.duration,delay:j.delay,easing:j.easing}}visitAnimate(j,pe){const k=pe.currentAnimateTimings=this._visitTiming(j.timings,pe),le=pe.currentTimeline;k.delay&&(pe.incrementTime(k.delay),le.snapshotCurrentStyles());const q=j.style;q.type==u.If.Keyframes?this.visitKeyframes(q,pe):(pe.incrementTime(k.duration),this.visitStyle(q,pe),le.applyStylesToKeyframe()),pe.currentAnimateTimings=null,pe.previousNode=j}visitStyle(j,pe){const k=pe.currentTimeline,le=pe.currentAnimateTimings;!le&&k.hasCurrentStyleProperties()&&k.forwardFrame();const q=le&&le.easing||j.easing;j.isEmptyStep?k.applyEmptyStep(q):k.setStyles(j.styles,q,pe.errors,pe.options),pe.previousNode=j}visitKeyframes(j,pe){const k=pe.currentAnimateTimings,le=pe.currentTimeline.duration,q=k.duration,Ut=pe.createSubContext().currentTimeline;Ut.easing=k.easing,j.styles.forEach(Xn=>{Ut.forwardTime((Xn.offset||0)*q),Ut.setStyles(Xn.styles,Xn.easing,pe.errors,pe.options),Ut.applyStylesToKeyframe()}),pe.currentTimeline.mergeTimelineCollectedStyles(Ut),pe.transformIntoNewTimeline(le+q),pe.previousNode=j}visitQuery(j,pe){const k=pe.currentTimeline.currentTime,le=j.options||{},q=le.delay?et(le.delay):0;q&&(pe.previousNode.type===u.If.Style||0==k&&pe.currentTimeline.hasCurrentStyleProperties())&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=Yi);let Je=k;const Ut=pe.invokeQuery(j.selector,j.originalSelector,j.limit,j.includeSelf,!!le.optional,pe.errors);pe.currentQueryTotal=Ut.length;let Xn=null;Ut.forEach((gr,Xi)=>{pe.currentQueryIndex=Xi;const to=pe.createSubContext(j.options,gr);q&&to.delayNextStep(q),gr===pe.element&&(Xn=to.currentTimeline),yt(this,j.animation,to),to.currentTimeline.applyStylesToKeyframe(),Je=Math.max(Je,to.currentTimeline.currentTime)}),pe.currentQueryIndex=0,pe.currentQueryTotal=0,pe.transformIntoNewTimeline(Je),Xn&&(pe.currentTimeline.mergeTimelineCollectedStyles(Xn),pe.currentTimeline.snapshotCurrentStyles()),pe.previousNode=j}visitStagger(j,pe){const k=pe.parentContext,le=pe.currentTimeline,q=j.timings,Je=Math.abs(q.duration),Ut=Je*(pe.currentQueryTotal-1);let Xn=Je*pe.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":Xn=Ut-Xn;break;case"full":Xn=k.currentStaggerTime}const Xi=pe.currentTimeline;Xn&&Xi.delayNextStep(Xn);const to=Xi.currentTime;yt(this,j.animation,pe),pe.previousNode=j,k.currentStaggerTime=le.currentTime-to+(le.startTime-k.currentTimeline.startTime)}}const Yi={};class no{constructor(j,pe,k,le,q,Je,Ut,Xn){this._driver=j,this.element=pe,this.subInstructions=k,this._enterClassName=le,this._leaveClassName=q,this.errors=Je,this.timelines=Ut,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xn||new yo(this._driver,pe,0),Ut.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(j,pe){if(!j)return;const k=j;let le=this.options;null!=k.duration&&(le.duration=et(k.duration)),null!=k.delay&&(le.delay=et(k.delay));const q=k.params;if(q){let Je=le.params;Je||(Je=this.options.params={}),Object.keys(q).forEach(Ut=>{(!pe||!Je.hasOwnProperty(Ut))&&(Je[Ut]=Mn(q[Ut],Je,this.errors))})}}_copyOptions(){const j={};if(this.options){const pe=this.options.params;if(pe){const k=j.params={};Object.keys(pe).forEach(le=>{k[le]=pe[le]})}}return j}createSubContext(j=null,pe,k){const le=pe||this.element,q=new no(this._driver,le,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(le,k||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(j),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(j){return this.previousNode=Yi,this.currentTimeline=this.currentTimeline.fork(this.element,j),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(j,pe,k){const le={duration:pe??j.duration,delay:this.currentTimeline.currentTime+(k??0)+j.delay,easing:""},q=new Fo(this._driver,j.element,j.keyframes,j.preStyleProps,j.postStyleProps,le,j.stretchStartingKeyframe);return this.timelines.push(q),le}incrementTime(j){this.currentTimeline.forwardTime(this.currentTimeline.duration+j)}delayNextStep(j){j>0&&this.currentTimeline.delayNextStep(j)}invokeQuery(j,pe,k,le,q,Je){let Ut=[];if(le&&Ut.push(this.element),j.length>0){j=(j=j.replace(Ur,"."+this._enterClassName)).replace(Ri,"."+this._leaveClassName);let gr=this._driver.query(this.element,j,1!=k);0!==k&&(gr=k<0?gr.slice(gr.length+k,gr.length):gr.slice(0,k)),Ut.push(...gr)}return!q&&0==Ut.length&&Je.push(function K(){return new r.wOt(3014,!1)}()),Ut}}class yo{constructor(j,pe,k,le){this._driver=j,this.element=pe,this.startTime=k,this._elementTimelineStylesLookup=le,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(pe),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(pe,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(j){const pe=1===this._keyframes.size&&this._pendingStyles.size;this.duration||pe?(this.forwardTime(this.currentTime+j),pe&&this.snapshotCurrentStyles()):this.startTime+=j}fork(j,pe){return this.applyStylesToKeyframe(),new yo(this._driver,j,pe||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(j){this.applyStylesToKeyframe(),this.duration=j,this._loadKeyframe()}_updateStyle(j,pe){this._localTimelineStyles.set(j,pe),this._globalTimelineStyles.set(j,pe),this._styleSummary.set(j,{time:this.currentTime,value:pe})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(j){j&&this._previousKeyframe.set("easing",j);for(let[pe,k]of this._globalTimelineStyles)this._backFill.set(pe,k||u.kp),this._currentKeyframe.set(pe,u.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(j,pe,k,le){pe&&this._previousKeyframe.set("easing",pe);const q=le&&le.params||{},Je=function Se(He,j){const pe=new Map;let k;return He.forEach(le=>{if("*"===le){k??=j.keys();for(let q of k)pe.set(q,u.kp)}else for(let[q,Je]of le)pe.set(q,Je)}),pe}(j,this._globalTimelineStyles);for(let[Ut,Xn]of Je){const gr=Mn(Xn,q,k);this._pendingStyles.set(Ut,gr),this._localTimelineStyles.has(Ut)||this._backFill.set(Ut,this._globalTimelineStyles.get(Ut)??u.kp),this._updateStyle(Ut,gr)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((j,pe)=>{this._currentKeyframe.set(pe,j)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((j,pe)=>{this._currentKeyframe.has(pe)||this._currentKeyframe.set(pe,j)}))}snapshotCurrentStyles(){for(let[j,pe]of this._localTimelineStyles)this._pendingStyles.set(j,pe),this._updateStyle(j,pe)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const j=[];for(let pe in this._currentKeyframe)j.push(pe);return j}mergeTimelineCollectedStyles(j){j._styleSummary.forEach((pe,k)=>{const le=this._styleSummary.get(k);(!le||pe.time>le.time)&&this._updateStyle(k,pe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const j=new Set,pe=new Set,k=1===this._keyframes.size&&0===this.duration;let le=[];this._keyframes.forEach((Ut,Xn)=>{const gr=new Map([...this._backFill,...Ut]);gr.forEach((Xi,to)=>{Xi===u.FX?j.add(to):Xi===u.kp&&pe.add(to)}),k||gr.set("offset",Xn/this.duration),le.push(gr)});const q=[...j.values()],Je=[...pe.values()];if(k){const Ut=le[0],Xn=new Map(Ut);Ut.set("offset",0),Xn.set("offset",1),le=[Ut,Xn]}return Kn(this.element,le,q,Je,this.duration,this.startTime,this.easing,!1)}}class Fo extends yo{constructor(j,pe,k,le,q,Je,Ut=!1){super(j,pe,Je.delay),this.keyframes=k,this.preStyleProps=le,this.postStyleProps=q,this._stretchStartingKeyframe=Ut,this.timings={duration:Je.duration,delay:Je.delay,easing:Je.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let j=this.keyframes,{delay:pe,duration:k,easing:le}=this.timings;if(this._stretchStartingKeyframe&&pe){const q=[],Je=k+pe,Ut=pe/Je,Xn=new Map(j[0]);Xn.set("offset",0),q.push(Xn);const gr=new Map(j[0]);gr.set("offset",$t(Ut)),q.push(gr);const Xi=j.length-1;for(let to=1;to<=Xi;to++){let _i=new Map(j[to]);const Qr=_i.get("offset");_i.set("offset",$t((pe+Qr*k)/Je)),q.push(_i)}k=Je,pe=0,le="",j=q}return Kn(this.element,j,this.preStyleProps,this.postStyleProps,k,pe,le,!0)}}function $t(He,j=3){const pe=Math.pow(10,j-1);return Math.round(He*pe)/pe}function At(He,j,pe,k,le,q,Je,Ut,Xn,gr,Xi,to,_i){return{type:0,element:He,triggerName:j,isRemovalTransition:le,fromState:pe,fromStyles:q,toState:k,toStyles:Je,timelines:Ut,queriedElements:Xn,preStyleProps:gr,postStyleProps:Xi,totalTime:to,errors:_i}}const en={};class Sn{constructor(j,pe,k){this._triggerName=j,this.ast=pe,this._stateStyles=k}match(j,pe,k,le){return function Vr(He,j,pe,k,le){return He.some(q=>q(j,pe,k,le))}(this.ast.matchers,j,pe,k,le)}buildStyles(j,pe,k){let le=this._stateStyles.get("*");return void 0!==j&&(le=this._stateStyles.get(j?.toString())||le),le?le.buildStyles(pe,k):new Map}build(j,pe,k,le,q,Je,Ut,Xn,gr,Xi){const to=[],_i=this.ast.options&&this.ast.options.params||en,ot=this.buildStyles(k,Ut&&Ut.params||en,to),hn=Xn&&Xn.params||en,Nt=this.buildStyles(le,hn,to),N=new Set,V=new Map,Oe=new Map,st="void"===le,Rt={params:Oi(hn,_i),delay:this.ast.options?.delay},Jt=Xi?[]:ji(j,pe,this.ast.animation,q,Je,ot,Nt,Rt,gr,to);let gn=0;return Jt.forEach(jn=>{gn=Math.max(jn.duration+jn.delay,gn)}),to.length?At(pe,this._triggerName,k,le,st,ot,Nt,[],[],V,Oe,gn,to):(Jt.forEach(jn=>{const Qn=jn.element,yr=C(V,Qn,new Set);jn.preStyleProps.forEach(Or=>yr.add(Or));const mr=C(Oe,Qn,new Set);jn.postStyleProps.forEach(Or=>mr.add(Or)),Qn!==pe&&N.add(Qn)}),At(pe,this._triggerName,k,le,st,ot,Nt,Jt,[...N.values()],V,Oe,gn))}}function Oi(He,j){const pe={...j};return Object.entries(He).forEach(([k,le])=>{null!=le&&(pe[k]=le)}),pe}class Wr{constructor(j,pe,k){this.styles=j,this.defaultParams=pe,this.normalizer=k}buildStyles(j,pe){const k=new Map,le=Oi(j,this.defaultParams);return this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((Je,Ut)=>{Je&&(Je=Mn(Je,le,pe));const Xn=this.normalizer.normalizePropertyName(Ut,pe);Je=this.normalizer.normalizeStyleValue(Ut,Xn,Je,pe),k.set(Ut,Je)})}),k}}class Ro{constructor(j,pe,k){this.name=j,this.ast=pe,this._normalizer=k,this.transitionFactories=[],this.states=new Map,pe.states.forEach(le=>{this.states.set(le.name,new Wr(le.style,le.options&&le.options.params||{},k))}),xs(this.states,"true","1"),xs(this.states,"false","0"),pe.transitions.forEach(le=>{this.transitionFactories.push(new Sn(j,le,this.states))}),this.fallbackTransition=function Wo(He,j){return new Sn(He,{type:u.If.Transition,animation:{type:u.If.Sequence,steps:[],options:null},matchers:[(Je,Ut)=>!0],options:null,queryCount:0,depCount:0},j)}(j,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(j,pe,k,le){return this.transitionFactories.find(Je=>Je.match(j,pe,k,le))||null}matchStyles(j,pe,k){return this.fallbackTransition.buildStyles(j,pe,k)}}function xs(He,j,pe){He.has(j)?He.has(pe)||He.set(pe,He.get(j)):He.has(pe)&&He.set(j,He.get(pe))}const da=new sr;class Os{constructor(j,pe,k){this.bodyNode=j,this._driver=pe,this._normalizer=k,this._animations=new Map,this._playersById=new Map,this.players=[]}register(j,pe){const k=[],q=En(this._driver,pe,k,[]);if(k.length)throw function lt(){return new r.wOt(3503,!1)}();this._animations.set(j,q)}_buildPlayer(j,pe,k){const le=j.element,q=Ae(this._normalizer,j.keyframes,pe,k);return this._driver.animate(le,q,j.duration,j.delay,j.easing,[],!0)}create(j,pe,k={}){const le=[],q=this._animations.get(j);let Je;const Ut=new Map;if(q?(Je=ji(this._driver,pe,q,Ct,mt,new Map,new Map,k,da,le),Je.forEach(Xi=>{const to=C(Ut,Xi.element,new Map);Xi.postStyleProps.forEach(_i=>to.set(_i,null))})):(le.push(function pt(){return new r.wOt(3300,!1)}()),Je=[]),le.length)throw function St(){return new r.wOt(3504,!1)}();Ut.forEach((Xi,to)=>{Xi.forEach((_i,Qr)=>{Xi.set(Qr,this._driver.computeStyle(to,Qr,u.kp))})});const gr=Le(Je.map(Xi=>{const to=Ut.get(Xi.element);return this._buildPlayer(Xi,new Map,to)}));return this._playersById.set(j,gr),gr.onDestroy(()=>this.destroy(j)),this.players.push(gr),gr}destroy(j){const pe=this._getPlayer(j);pe.destroy(),this._playersById.delete(j);const k=this.players.indexOf(pe);k>=0&&this.players.splice(k,1)}_getPlayer(j){const pe=this._playersById.get(j);if(!pe)throw function Rn(){return new r.wOt(3301,!1)}();return pe}listen(j,pe,k,le){const q=Ee(pe,"","","");return se(this._getPlayer(j),k,q,le),()=>{}}command(j,pe,k,le){if("register"==k)return void this.register(j,le[0]);if("create"==k)return void this.create(j,pe,le[0]||{});const q=this._getPlayer(j);switch(k){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(le[0]));break;case"destroy":this.destroy(j)}}}const Lo="ng-animate-queued",Xo="ng-animate-disabled",Nr=[],li={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ni="__ng_removed";class Hi{get params(){return this.options.params}constructor(j,pe=""){this.namespaceId=pe;const k=j&&j.hasOwnProperty("value");if(this.value=function Ps(He){return He??null}(k?j.value:j),k){const{value:q,...Je}=j;this.options=Je}else this.options={};this.options.params||(this.options.params={})}absorbOptions(j){const pe=j.params;if(pe){const k=this.options.params;Object.keys(pe).forEach(le=>{null==k[le]&&(k[le]=pe[le])})}}}const oo="void",Eo=new Hi(oo);class Ui{constructor(j,pe,k){this.id=j,this.hostElement=pe,this._engine=k,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+j,Vo(pe,this._hostClassName)}listen(j,pe,k,le){if(!this._triggers.has(pe))throw function G(){return new r.wOt(3302,!1)}();if(null==k||0==k.length)throw function ee(){return new r.wOt(3303,!1)}();if(!function Ts(He){return"start"==He||"done"==He}(k))throw function De(){return new r.wOt(3400,!1)}();const q=C(this._elementListeners,j,[]),Je={name:pe,phase:k,callback:le};q.push(Je);const Ut=C(this._engine.statesByElement,j,new Map);return Ut.has(pe)||(Vo(j,Vt),Vo(j,Vt+"-"+pe),Ut.set(pe,Eo)),()=>{this._engine.afterFlush(()=>{const Xn=q.indexOf(Je);Xn>=0&&q.splice(Xn,1),this._triggers.has(pe)||Ut.delete(pe)})}}register(j,pe){return!this._triggers.has(j)&&(this._triggers.set(j,pe),!0)}_getTrigger(j){const pe=this._triggers.get(j);if(!pe)throw function Ge(){return new r.wOt(3401,!1)}();return pe}trigger(j,pe,k,le=!0){const q=this._getTrigger(pe),Je=new es(this.id,pe,j);let Ut=this._engine.statesByElement.get(j);Ut||(Vo(j,Vt),Vo(j,Vt+"-"+pe),this._engine.statesByElement.set(j,Ut=new Map));let Xn=Ut.get(pe);const gr=new Hi(k,this.id);if(!(k&&k.hasOwnProperty("value"))&&Xn&&gr.absorbOptions(Xn.options),Ut.set(pe,gr),Xn||(Xn=Eo),gr.value!==oo&&Xn.value===gr.value){if(!function Gn(He,j){const pe=Object.keys(He),k=Object.keys(j);if(pe.length!=k.length)return!1;for(let le=0;le<pe.length;le++){const q=pe[le];if(!j.hasOwnProperty(q)||He[q]!==j[q])return!1}return!0}(Xn.params,gr.params)){const hn=[],Nt=q.matchStyles(Xn.value,Xn.params,hn),N=q.matchStyles(gr.value,gr.params,hn);hn.length?this._engine.reportError(hn):this._engine.afterFlush(()=>{nn(j,Nt),dn(j,N)})}return}const _i=C(this._engine.playersByElement,j,[]);_i.forEach(hn=>{hn.namespaceId==this.id&&hn.triggerName==pe&&hn.queued&&hn.destroy()});let Qr=q.matchTransition(Xn.value,gr.value,j,gr.params),ot=!1;if(!Qr){if(!le)return;Qr=q.fallbackTransition,ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:j,triggerName:pe,transition:Qr,fromState:Xn,toState:gr,player:Je,isFallbackTransition:ot}),ot||(Vo(j,Lo),Je.onStart(()=>{Ls(j,Lo)})),Je.onDone(()=>{let hn=this.players.indexOf(Je);hn>=0&&this.players.splice(hn,1);const Nt=this._engine.playersByElement.get(j);if(Nt){let N=Nt.indexOf(Je);N>=0&&Nt.splice(N,1)}}),this.players.push(Je),_i.push(Je),Je}deregister(j){this._triggers.delete(j),this._engine.statesByElement.forEach(pe=>pe.delete(j)),this._elementListeners.forEach((pe,k)=>{this._elementListeners.set(k,pe.filter(le=>le.name!=j))})}clearElementCache(j){this._engine.statesByElement.delete(j),this._elementListeners.delete(j);const pe=this._engine.playersByElement.get(j);pe&&(pe.forEach(k=>k.destroy()),this._engine.playersByElement.delete(j))}_signalRemovalForInnerTriggers(j,pe){const k=this._engine.driver.query(j,at,!0);k.forEach(le=>{if(le[ni])return;const q=this._engine.fetchNamespacesByElement(le);q.size?q.forEach(Je=>Je.triggerLeaveAnimation(le,pe,!1,!0)):this.clearElementCache(le)}),this._engine.afterFlushAnimationsDone(()=>k.forEach(le=>this.clearElementCache(le)))}triggerLeaveAnimation(j,pe,k,le){const q=this._engine.statesByElement.get(j),Je=new Map;if(q){const Ut=[];if(q.forEach((Xn,gr)=>{if(Je.set(gr,Xn.value),this._triggers.has(gr)){const Xi=this.trigger(j,gr,oo,le);Xi&&Ut.push(Xi)}}),Ut.length)return this._engine.markElementAsRemoved(this.id,j,!0,pe,Je),k&&Le(Ut).onDone(()=>this._engine.processLeaveNode(j)),!0}return!1}prepareLeaveAnimationListeners(j){const pe=this._elementListeners.get(j),k=this._engine.statesByElement.get(j);if(pe&&k){const le=new Set;pe.forEach(q=>{const Je=q.name;if(le.has(Je))return;le.add(Je);const Xn=this._triggers.get(Je).fallbackTransition,gr=k.get(Je)||Eo,Xi=new Hi(oo),to=new es(this.id,Je,j);this._engine.totalQueuedPlayers++,this._queue.push({element:j,triggerName:Je,transition:Xn,fromState:gr,toState:Xi,player:to,isFallbackTransition:!0})})}}removeNode(j,pe){const k=this._engine;if(j.childElementCount&&this._signalRemovalForInnerTriggers(j,pe),this.triggerLeaveAnimation(j,pe,!0))return;let le=!1;if(k.totalAnimations){const q=k.players.length?k.playersByQueriedElement.get(j):[];if(q&&q.length)le=!0;else{let Je=j;for(;Je=Je.parentNode;)if(k.statesByElement.get(Je)){le=!0;break}}}if(this.prepareLeaveAnimationListeners(j),le)k.markElementAsRemoved(this.id,j,!1,pe);else{const q=j[ni];(!q||q===li)&&(k.afterFlush(()=>this.clearElementCache(j)),k.destroyInnerAnimations(j),k._onRemovalComplete(j,pe))}}insertNode(j,pe){Vo(j,this._hostClassName)}drainQueuedTransitions(j){const pe=[];return this._queue.forEach(k=>{const le=k.player;if(le.destroyed)return;const q=k.element,Je=this._elementListeners.get(q);Je&&Je.forEach(Ut=>{if(Ut.name==k.triggerName){const Xn=Ee(q,k.triggerName,k.fromState.value,k.toState.value);Xn._data=j,se(k.player,Ut.phase,Xn,Ut.callback)}}),le.markedForDestroy?this._engine.afterFlush(()=>{le.destroy()}):pe.push(k)}),this._queue=[],pe.sort((k,le)=>{const q=k.transition.ast.depCount,Je=le.transition.ast.depCount;return 0==q||0==Je?q-Je:this._engine.driver.containsElement(k.element,le.element)?1:-1})}destroy(j){this.players.forEach(pe=>pe.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,j)}}class os{_onRemovalComplete(j,pe){this.onRemovalComplete(j,pe)}constructor(j,pe,k){this.bodyNode=j,this.driver=pe,this._normalizer=k,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(le,q)=>{}}get queuedPlayers(){const j=[];return this._namespaceList.forEach(pe=>{pe.players.forEach(k=>{k.queued&&j.push(k)})}),j}createNamespace(j,pe){const k=new Ui(j,pe,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,pe)?this._balanceNamespaceList(k,pe):(this.newHostElements.set(pe,k),this.collectEnterElement(pe)),this._namespaceLookup[j]=k}_balanceNamespaceList(j,pe){const k=this._namespaceList,le=this.namespacesByHostElement;if(k.length-1>=0){let Je=!1,Ut=this.driver.getParentElement(pe);for(;Ut;){const Xn=le.get(Ut);if(Xn){const gr=k.indexOf(Xn);k.splice(gr+1,0,j),Je=!0;break}Ut=this.driver.getParentElement(Ut)}Je||k.unshift(j)}else k.push(j);return le.set(pe,j),j}register(j,pe){let k=this._namespaceLookup[j];return k||(k=this.createNamespace(j,pe)),k}registerTrigger(j,pe,k){let le=this._namespaceLookup[j];le&&le.register(pe,k)&&this.totalAnimations++}destroy(j,pe){j&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const k=this._fetchNamespace(j);this.namespacesByHostElement.delete(k.hostElement);const le=this._namespaceList.indexOf(k);le>=0&&this._namespaceList.splice(le,1),k.destroy(pe),delete this._namespaceLookup[j]}))}_fetchNamespace(j){return this._namespaceLookup[j]}fetchNamespacesByElement(j){const pe=new Set,k=this.statesByElement.get(j);if(k)for(let le of k.values())if(le.namespaceId){const q=this._fetchNamespace(le.namespaceId);q&&pe.add(q)}return pe}trigger(j,pe,k,le){if(Oo(pe)){const q=this._fetchNamespace(j);if(q)return q.trigger(pe,k,le),!0}return!1}insertNode(j,pe,k,le){if(!Oo(pe))return;const q=pe[ni];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const Je=this.collectedLeaveElements.indexOf(pe);Je>=0&&this.collectedLeaveElements.splice(Je,1)}if(j){const Je=this._fetchNamespace(j);Je&&Je.insertNode(pe,k)}le&&this.collectEnterElement(pe)}collectEnterElement(j){this.collectedEnterElements.push(j)}markElementAsDisabled(j,pe){pe?this.disabledNodes.has(j)||(this.disabledNodes.add(j),Vo(j,Xo)):this.disabledNodes.has(j)&&(this.disabledNodes.delete(j),Ls(j,Xo))}removeNode(j,pe,k){if(Oo(pe)){const le=j?this._fetchNamespace(j):null;le?le.removeNode(pe,k):this.markElementAsRemoved(j,pe,!1,k);const q=this.namespacesByHostElement.get(pe);q&&q.id!==j&&q.removeNode(pe,k)}else this._onRemovalComplete(pe,k)}markElementAsRemoved(j,pe,k,le,q){this.collectedLeaveElements.push(pe),pe[ni]={namespaceId:j,setForRemoval:le,hasAnimation:k,removedBeforeQueried:!1,previousTriggersValues:q}}listen(j,pe,k,le,q){return Oo(pe)?this._fetchNamespace(j).listen(pe,k,le,q):()=>{}}_buildInstruction(j,pe,k,le,q){return j.transition.build(this.driver,j.element,j.fromState.value,j.toState.value,k,le,j.fromState.options,j.toState.options,pe,q)}destroyInnerAnimations(j){let pe=this.driver.query(j,at,!0);pe.forEach(k=>this.destroyActiveAnimationsForElement(k)),0!=this.playersByQueriedElement.size&&(pe=this.driver.query(j,ke,!0),pe.forEach(k=>this.finishActiveQueriedAnimationOnElement(k)))}destroyActiveAnimationsForElement(j){const pe=this.playersByElement.get(j);pe&&pe.forEach(k=>{k.queued?k.markedForDestroy=!0:k.destroy()})}finishActiveQueriedAnimationOnElement(j){const pe=this.playersByQueriedElement.get(j);pe&&pe.forEach(k=>k.finish())}whenRenderingDone(){return new Promise(j=>{if(this.players.length)return Le(this.players).onDone(()=>j());j()})}processLeaveNode(j){const pe=j[ni];if(pe&&pe.setForRemoval){if(j[ni]=li,pe.namespaceId){this.destroyInnerAnimations(j);const k=this._fetchNamespace(pe.namespaceId);k&&k.clearElementCache(j)}this._onRemovalComplete(j,pe.setForRemoval)}j.classList?.contains(Xo)&&this.markElementAsDisabled(j,!1),this.driver.query(j,".ng-animate-disabled",!0).forEach(k=>{this.markElementAsDisabled(k,!1)})}flush(j=-1){let pe=[];if(this.newHostElements.size&&(this.newHostElements.forEach((k,le)=>this._balanceNamespaceList(k,le)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let k=0;k<this.collectedEnterElements.length;k++)Vo(this.collectedEnterElements[k],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const k=[];try{pe=this._flushAnimations(k,j)}finally{for(let le=0;le<k.length;le++)k[le]()}}else for(let k=0;k<this.collectedLeaveElements.length;k++)this.processLeaveNode(this.collectedLeaveElements[k]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(k=>k()),this._flushFns=[],this._whenQuietFns.length){const k=this._whenQuietFns;this._whenQuietFns=[],pe.length?Le(pe).onDone(()=>{k.forEach(le=>le())}):k.forEach(le=>le())}}reportError(j){throw function Ze(){return new r.wOt(3402,!1)}()}_flushAnimations(j,pe){const k=new sr,le=[],q=new Map,Je=[],Ut=new Map,Xn=new Map,gr=new Map,Xi=new Set;this.disabledNodes.forEach(an=>{Xi.add(an);const Ln=this.driver.query(an,".ng-animate-queued",!0);for(let In=0;In<Ln.length;In++)Xi.add(Ln[In])});const to=this.bodyNode,_i=Array.from(this.statesByElement.keys()),Qr=Es(_i,this.collectedEnterElements),ot=new Map;let hn=0;Qr.forEach((an,Ln)=>{const In=Ct+hn++;ot.set(Ln,In),an.forEach(rr=>Vo(rr,In))});const Nt=[],N=new Set,V=new Set;for(let an=0;an<this.collectedLeaveElements.length;an++){const Ln=this.collectedLeaveElements[an],In=Ln[ni];In&&In.setForRemoval&&(Nt.push(Ln),N.add(Ln),In.hasAnimation?this.driver.query(Ln,".ng-star-inserted",!0).forEach(rr=>N.add(rr)):V.add(Ln))}const Oe=new Map,st=Es(_i,Array.from(N));st.forEach((an,Ln)=>{const In=mt+hn++;Oe.set(Ln,In),an.forEach(rr=>Vo(rr,In))}),j.push(()=>{Qr.forEach((an,Ln)=>{const In=ot.get(Ln);an.forEach(rr=>Ls(rr,In))}),st.forEach((an,Ln)=>{const In=Oe.get(Ln);an.forEach(rr=>Ls(rr,In))}),Nt.forEach(an=>{this.processLeaveNode(an)})});const Rt=[],Jt=[];for(let an=this._namespaceList.length-1;an>=0;an--)this._namespaceList[an].drainQueuedTransitions(pe).forEach(In=>{const rr=In.player,Zr=In.element;if(Rt.push(rr),this.collectedEnterElements.length){const No=Zr[ni];if(No&&No.setForMove){if(No.previousTriggersValues&&No.previousTriggersValues.has(In.triggerName)){const Ao=No.previousTriggersValues.get(In.triggerName),ts=this.statesByElement.get(In.element);if(ts&&ts.has(In.triggerName)){const Ms=ts.get(In.triggerName);Ms.value=Ao,ts.set(In.triggerName,Ms)}}return void rr.destroy()}}const xi=!to||!this.driver.containsElement(to,Zr),Li=Oe.get(Zr),Ii=ot.get(Zr),Ti=this._buildInstruction(In,k,Ii,Li,xi);if(Ti.errors&&Ti.errors.length)return void Jt.push(Ti);if(xi)return rr.onStart(()=>nn(Zr,Ti.fromStyles)),rr.onDestroy(()=>dn(Zr,Ti.toStyles)),void le.push(rr);if(In.isFallbackTransition)return rr.onStart(()=>nn(Zr,Ti.fromStyles)),rr.onDestroy(()=>dn(Zr,Ti.toStyles)),void le.push(rr);const Ko=[];Ti.timelines.forEach(No=>{No.stretchStartingKeyframe=!0,this.disabledNodes.has(No.element)||Ko.push(No)}),Ti.timelines=Ko,k.append(Zr,Ti.timelines),Je.push({instruction:Ti,player:rr,element:Zr}),Ti.queriedElements.forEach(No=>C(Ut,No,[]).push(rr)),Ti.preStyleProps.forEach((No,Ao)=>{if(No.size){let ts=Xn.get(Ao);ts||Xn.set(Ao,ts=new Set),No.forEach((Ms,Yo)=>ts.add(Yo))}}),Ti.postStyleProps.forEach((No,Ao)=>{let ts=gr.get(Ao);ts||gr.set(Ao,ts=new Set),No.forEach((Ms,Yo)=>ts.add(Yo))})});if(Jt.length){const an=[];Jt.forEach(Ln=>{an.push(function bt(){return new r.wOt(3505,!1)}())}),Rt.forEach(Ln=>Ln.destroy()),this.reportError(an)}const gn=new Map,jn=new Map;Je.forEach(an=>{const Ln=an.element;k.has(Ln)&&(jn.set(Ln,Ln),this._beforeAnimationBuild(an.player.namespaceId,an.instruction,gn))}),le.forEach(an=>{const Ln=an.element;this._getPreviousPlayers(Ln,!1,an.namespaceId,an.triggerName,null).forEach(rr=>{C(gn,Ln,[]).push(rr),rr.destroy()})});const Qn=Nt.filter(an=>Yn(an,Xn,gr)),yr=new Map;ha(yr,this.driver,V,gr,u.kp).forEach(an=>{Yn(an,Xn,gr)&&Qn.push(an)});const Or=new Map;Qr.forEach((an,Ln)=>{ha(Or,this.driver,new Set(an),Xn,u.FX)}),Qn.forEach(an=>{const Ln=yr.get(an),In=Or.get(an);yr.set(an,new Map([...Ln?.entries()??[],...In?.entries()??[]]))});const xr=[],ii=[],Vi={};Je.forEach(an=>{const{element:Ln,player:In,instruction:rr}=an;if(k.has(Ln)){if(Xi.has(Ln))return In.onDestroy(()=>dn(Ln,rr.toStyles)),In.disabled=!0,In.overrideTotalTime(rr.totalTime),void le.push(In);let Zr=Vi;if(jn.size>1){let Li=Ln;const Ii=[];for(;Li=Li.parentNode;){const Ti=jn.get(Li);if(Ti){Zr=Ti;break}Ii.push(Li)}Ii.forEach(Ti=>jn.set(Ti,Zr))}const xi=this._buildAnimation(In.namespaceId,rr,gn,q,Or,yr);if(In.setRealPlayer(xi),Zr===Vi)xr.push(In);else{const Li=this.playersByElement.get(Zr);Li&&Li.length&&(In.parentPlayer=Le(Li)),le.push(In)}}else nn(Ln,rr.fromStyles),In.onDestroy(()=>dn(Ln,rr.toStyles)),ii.push(In),Xi.has(Ln)&&le.push(In)}),ii.forEach(an=>{const Ln=q.get(an.element);if(Ln&&Ln.length){const In=Le(Ln);an.setRealPlayer(In)}}),le.forEach(an=>{an.parentPlayer?an.syncPlayerEvents(an.parentPlayer):an.destroy()});for(let an=0;an<Nt.length;an++){const Ln=Nt[an],In=Ln[ni];if(Ls(Ln,mt),In&&In.hasAnimation)continue;let rr=[];if(Ut.size){let xi=Ut.get(Ln);xi&&xi.length&&rr.push(...xi);let Li=this.driver.query(Ln,ke,!0);for(let Ii=0;Ii<Li.length;Ii++){let Ti=Ut.get(Li[Ii]);Ti&&Ti.length&&rr.push(...Ti)}}const Zr=rr.filter(xi=>!xi.destroyed);Zr.length?_s(this,Ln,Zr):this.processLeaveNode(Ln)}return Nt.length=0,xr.forEach(an=>{this.players.push(an),an.onDone(()=>{an.destroy();const Ln=this.players.indexOf(an);this.players.splice(Ln,1)}),an.play()}),xr}afterFlush(j){this._flushFns.push(j)}afterFlushAnimationsDone(j){this._whenQuietFns.push(j)}_getPreviousPlayers(j,pe,k,le,q){let Je=[];if(pe){const Ut=this.playersByQueriedElement.get(j);Ut&&(Je=Ut)}else{const Ut=this.playersByElement.get(j);if(Ut){const Xn=!q||q==oo;Ut.forEach(gr=>{gr.queued||!Xn&&gr.triggerName!=le||Je.push(gr)})}}return(k||le)&&(Je=Je.filter(Ut=>!(k&&k!=Ut.namespaceId||le&&le!=Ut.triggerName))),Je}_beforeAnimationBuild(j,pe,k){const q=pe.element,Je=pe.isRemovalTransition?void 0:j,Ut=pe.isRemovalTransition?void 0:pe.triggerName;for(const Xn of pe.timelines){const gr=Xn.element,Xi=gr!==q,to=C(k,gr,[]);this._getPreviousPlayers(gr,Xi,Je,Ut,pe.toState).forEach(Qr=>{const ot=Qr.getRealPlayer();ot.beforeDestroy&&ot.beforeDestroy(),Qr.destroy(),to.push(Qr)})}nn(q,pe.fromStyles)}_buildAnimation(j,pe,k,le,q,Je){const Ut=pe.triggerName,Xn=pe.element,gr=[],Xi=new Set,to=new Set,_i=pe.timelines.map(ot=>{const hn=ot.element;Xi.add(hn);const Nt=hn[ni];if(Nt&&Nt.removedBeforeQueried)return new u.sf(ot.duration,ot.delay);const N=hn!==Xn,V=function ea(He){const j=[];return us(He,j),j}((k.get(hn)||Nr).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===hn),Oe=q.get(hn),st=Je.get(hn),Rt=Ae(this._normalizer,ot.keyframes,Oe,st),Jt=this._buildPlayer(ot,Rt,V);if(ot.subTimeline&&le&&to.add(hn),N){const gn=new es(j,Ut,hn);gn.setRealPlayer(Jt),gr.push(gn)}return Jt});gr.forEach(ot=>{C(this.playersByQueriedElement,ot.element,[]).push(ot),ot.onDone(()=>function rs(He,j,pe){let k=He.get(j);if(k){if(k.length){const le=k.indexOf(pe);k.splice(le,1)}0==k.length&&He.delete(j)}return k}(this.playersByQueriedElement,ot.element,ot))}),Xi.forEach(ot=>Vo(ot,We));const Qr=Le(_i);return Qr.onDestroy(()=>{Xi.forEach(ot=>Ls(ot,We)),dn(Xn,pe.toStyles)}),to.forEach(ot=>{C(le,ot,[]).push(Qr)}),Qr}_buildPlayer(j,pe,k){return pe.length>0?this.driver.animate(j.element,pe,j.duration,j.delay,j.easing,k):new u.sf(j.duration,j.delay)}}class es{constructor(j,pe,k){this.namespaceId=j,this.triggerName=pe,this.element=k,this._player=new u.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(j){this._containsRealPlayer||(this._player=j,this._queuedCallbacks.forEach((pe,k)=>{pe.forEach(le=>se(j,k,void 0,le))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(j.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(j){this.totalTime=j}syncPlayerEvents(j){const pe=this._player;pe.triggerCallback&&j.onStart(()=>pe.triggerCallback("start")),j.onDone(()=>this.finish()),j.onDestroy(()=>this.destroy())}_queueEvent(j,pe){C(this._queuedCallbacks,j,[]).push(pe)}onDone(j){this.queued&&this._queueEvent("done",j),this._player.onDone(j)}onStart(j){this.queued&&this._queueEvent("start",j),this._player.onStart(j)}onDestroy(j){this.queued&&this._queueEvent("destroy",j),this._player.onDestroy(j)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(j){this.queued||this._player.setPosition(j)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(j){const pe=this._player;pe.triggerCallback&&pe.triggerCallback(j)}}function Oo(He){return He&&1===He.nodeType}function gs(He,j){const pe=He.style.display;return He.style.display=j??"none",pe}function ha(He,j,pe,k,le){const q=[];pe.forEach(Xn=>q.push(gs(Xn)));const Je=[];k.forEach((Xn,gr)=>{const Xi=new Map;Xn.forEach(to=>{const _i=j.computeStyle(gr,to,le);Xi.set(to,_i),(!_i||0==_i.length)&&(gr[ni]=hi,Je.push(gr))}),He.set(gr,Xi)});let Ut=0;return pe.forEach(Xn=>gs(Xn,q[Ut++])),Je}function Es(He,j){const pe=new Map;if(He.forEach(Ut=>pe.set(Ut,[])),0==j.length)return pe;const le=new Set(j),q=new Map;function Je(Ut){if(!Ut)return 1;let Xn=q.get(Ut);if(Xn)return Xn;const gr=Ut.parentNode;return Xn=pe.has(gr)?gr:le.has(gr)?1:Je(gr),q.set(Ut,Xn),Xn}return j.forEach(Ut=>{const Xn=Je(Ut);1!==Xn&&pe.get(Xn).push(Ut)}),pe}function Vo(He,j){He.classList?.add(j)}function Ls(He,j){He.classList?.remove(j)}function _s(He,j,pe){Le(pe).onDone(()=>He.processLeaveNode(j))}function us(He,j){for(let pe=0;pe<He.length;pe++){const k=He[pe];k instanceof u.ui?us(k.players,j):j.push(k)}}function Yn(He,j,pe){const k=pe.get(He);if(!k)return!1;let le=j.get(He);return le?k.forEach(q=>le.add(q)):j.set(He,k),pe.delete(He),!0}class or{constructor(j,pe,k){this._driver=pe,this._normalizer=k,this._triggerCache={},this.onRemovalComplete=(le,q)=>{},this._transitionEngine=new os(j.body,pe,k),this._timelineEngine=new Os(j.body,pe,k),this._transitionEngine.onRemovalComplete=(le,q)=>this.onRemovalComplete(le,q)}registerTrigger(j,pe,k,le,q){const Je=j+"-"+le;let Ut=this._triggerCache[Je];if(!Ut){const Xn=[],Xi=En(this._driver,q,Xn,[]);if(Xn.length)throw function je(){return new r.wOt(3404,!1)}();Ut=function Gi(He,j,pe){return new Ro(He,j,pe)}(le,Xi,this._normalizer),this._triggerCache[Je]=Ut}this._transitionEngine.registerTrigger(pe,le,Ut)}register(j,pe){this._transitionEngine.register(j,pe)}destroy(j,pe){this._transitionEngine.destroy(j,pe)}onInsert(j,pe,k,le){this._transitionEngine.insertNode(j,pe,k,le)}onRemove(j,pe,k){this._transitionEngine.removeNode(j,pe,k)}disableAnimations(j,pe){this._transitionEngine.markElementAsDisabled(j,pe)}process(j,pe,k,le){if("@"==k.charAt(0)){const[q,Je]=T(k);this._timelineEngine.command(q,pe,Je,le)}else this._transitionEngine.trigger(j,pe,k,le)}listen(j,pe,k,le,q){if("@"==k.charAt(0)){const[Je,Ut]=T(k);return this._timelineEngine.listen(Je,pe,Ut,q)}return this._transitionEngine.listen(j,pe,k,le,q)}flush(j=-1){this._transitionEngine.flush(j)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(j){this._transitionEngine.afterFlushAnimationsDone(j)}}class fi{static#e=this.initialStylesByElement=new WeakMap;constructor(j,pe,k){this._element=j,this._startStyles=pe,this._endStyles=k,this._state=0;let le=fi.initialStylesByElement.get(j);le||fi.initialStylesByElement.set(j,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&dn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dn(this._element,this._initialStyles),this._endStyles&&(dn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(fi.initialStylesByElement.delete(this._element),this._startStyles&&(nn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nn(this._element,this._endStyles),this._endStyles=null),dn(this._element,this._initialStyles),this._state=3)}}function Fi(He){let j=null;return He.forEach((pe,k)=>{(function so(He){return"display"===He||"position"===He})(k)&&(j=j||new Map,j.set(k,pe))}),j}class Co{constructor(j,pe,k,le){this.element=j,this.keyframes=pe,this.options=k,this._specialStyles=le,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=k.duration,this._delay=k.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(j=>j()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const j=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,j,this.options),this._finalKeyframe=j.length?j[j.length-1]:new Map;const pe=()=>this._onFinish();this.domPlayer.addEventListener("finish",pe),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",pe)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(j){const pe=[];return j.forEach(k=>{pe.push(Object.fromEntries(k))}),pe}_triggerWebAnimation(j,pe,k){return j.animate(this._convertKeyframesToObject(pe),k)}onStart(j){this._originalOnStartFns.push(j),this._onStartFns.push(j)}onDone(j){this._originalOnDoneFns.push(j),this._onDoneFns.push(j)}onDestroy(j){this._onDestroyFns.push(j)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(j=>j()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(j=>j()),this._onDestroyFns=[])}setPosition(j){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=j*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const j=new Map;this.hasStarted()&&this._finalKeyframe.forEach((k,le)=>{"offset"!==le&&j.set(le,this._finished?k:_e(this.element,le))}),this.currentSnapshot=j}triggerCallback(j){const pe="start"===j?this._onStartFns:this._onDoneFns;pe.forEach(k=>k()),pe.length=0}}class eo{validateStyleProperty(j){return!0}validateAnimatableStyleProperty(j){return!0}containsElement(j,pe){return $e(j,pe)}getParentElement(j){return W(j)}query(j,pe,k){return ft(j,pe,k)}computeStyle(j,pe,k){return _e(j,pe)}animate(j,pe,k,le,q,Je=[]){const Xn={duration:k,delay:le,fill:0==le?"both":"forwards"};q&&(Xn.easing=q);const gr=new Map,Xi=Je.filter(Qr=>Qr instanceof Co);(function tn(He,j){return 0===He||0===j})(k,le)&&Xi.forEach(Qr=>{Qr.currentSnapshot.forEach((ot,hn)=>gr.set(hn,ot))});let to=function kn(He){return He.length?He[0]instanceof Map?He:He.map(j=>new Map(Object.entries(j))):[]}(pe).map(Qr=>new Map(Qr));to=function bn(He,j,pe){if(pe.size&&j.length){let k=j[0],le=[];if(pe.forEach((q,Je)=>{k.has(Je)||le.push(Je),k.set(Je,q)}),le.length)for(let q=1;q<j.length;q++){let Je=j[q];le.forEach(Ut=>Je.set(Ut,_e(He,Ut)))}}return j}(j,to,gr);const _i=function Cr(He,j){let pe=null,k=null;return Array.isArray(j)&&j.length?(pe=Fi(j[0]),j.length>1&&(k=Fi(j[j.length-1]))):j instanceof Map&&(pe=Fi(j)),pe||k?new fi(He,pe,k):null}(j,to);return new Co(j,to,Xn,_i)}}const fr="@.disabled";class Tr{constructor(j,pe,k,le){this.namespaceId=j,this.delegate=pe,this.engine=k,this._onDestroy=le,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(j){this.delegate.destroyNode?.(j)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(j,pe){return this.delegate.createElement(j,pe)}createComment(j){return this.delegate.createComment(j)}createText(j){return this.delegate.createText(j)}appendChild(j,pe){this.delegate.appendChild(j,pe),this.engine.onInsert(this.namespaceId,pe,j,!1)}insertBefore(j,pe,k,le=!0){this.delegate.insertBefore(j,pe,k),this.engine.onInsert(this.namespaceId,pe,j,le)}removeChild(j,pe,k){this.parentNode(pe)&&this.engine.onRemove(this.namespaceId,pe,this.delegate)}selectRootElement(j,pe){return this.delegate.selectRootElement(j,pe)}parentNode(j){return this.delegate.parentNode(j)}nextSibling(j){return this.delegate.nextSibling(j)}setAttribute(j,pe,k,le){this.delegate.setAttribute(j,pe,k,le)}removeAttribute(j,pe,k){this.delegate.removeAttribute(j,pe,k)}addClass(j,pe){this.delegate.addClass(j,pe)}removeClass(j,pe){this.delegate.removeClass(j,pe)}setStyle(j,pe,k,le){this.delegate.setStyle(j,pe,k,le)}removeStyle(j,pe,k){this.delegate.removeStyle(j,pe,k)}setProperty(j,pe,k){"@"==pe.charAt(0)&&pe==fr?this.disableAnimations(j,!!k):this.delegate.setProperty(j,pe,k)}setValue(j,pe){this.delegate.setValue(j,pe)}listen(j,pe,k){return this.delegate.listen(j,pe,k)}disableAnimations(j,pe){this.engine.disableAnimations(j,pe)}}class lr extends Tr{constructor(j,pe,k,le,q){super(pe,k,le,q),this.factory=j,this.namespaceId=pe}setProperty(j,pe,k){"@"==pe.charAt(0)?"."==pe.charAt(1)&&pe==fr?this.disableAnimations(j,k=void 0===k||!!k):this.engine.process(this.namespaceId,j,pe.slice(1),k):this.delegate.setProperty(j,pe,k)}listen(j,pe,k){if("@"==pe.charAt(0)){const le=function Br(He){switch(He){case"body":return document.body;case"document":return document;case"window":return window;default:return He}}(j);let q=pe.slice(1),Je="";return"@"!=q.charAt(0)&&([q,Je]=function jr(He){const j=He.indexOf(".");return[He.substring(0,j),He.slice(j+1)]}(q)),this.engine.listen(this.namespaceId,le,q,Je,Ut=>{this.factory.scheduleListenerCallback(Ut._data||-1,k,Ut)})}return this.delegate.listen(j,pe,k)}}class ui{constructor(j,pe,k){this.delegate=j,this.engine=pe,this._zone=k,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,pe.onRemovalComplete=(le,q)=>{q?.removeChild(null,le)}}createRenderer(j,pe){const le=this.delegate.createRenderer(j,pe);if(!j||!pe?.data?.animation){const gr=this._rendererCache;let Xi=gr.get(le);return Xi||(Xi=new Tr("",le,this.engine,()=>gr.delete(le)),gr.set(le,Xi)),Xi}const q=pe.id,Je=pe.id+"-"+this._currentId;this._currentId++,this.engine.register(Je,j);const Ut=gr=>{Array.isArray(gr)?gr.forEach(Ut):this.engine.registerTrigger(q,Je,j,gr.name,gr)};return pe.data.animation.forEach(Ut),new lr(this,Je,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(j,pe,k){if(j>=0&&j<this._microtaskId)return void this._zone.run(()=>pe(k));const le=this._animationCallbacksBuffer;0==le.length&&queueMicrotask(()=>{this._zone.run(()=>{le.forEach(q=>{const[Je,Ut]=q;Je(Ut)}),this._animationCallbacksBuffer=[]})}),le.push([pe,k])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Jr=w(60177);const _o=[{provide:ct,useFactory:function ao(){return new Be}},{provide:or,useClass:(()=>{class He extends or{constructor(pe,k,le){super(pe,k,le)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(k){return new(k||He)(r.KVO(Jr.qQ),r.KVO(Ye),r.KVO(ct))};static#t=this.\u0275prov=r.jDH({token:He,factory:He.\u0275fac})}return He})()},{provide:r._9s,useFactory:function vo(He,j,pe){return new ui(He,j,pe)},deps:[y.B7,or,r.SKi]}],wo=[{provide:Ye,useFactory:()=>new eo},{provide:r.bc$,useValue:"BrowserAnimations"},..._o],Po=[{provide:Ye,useClass:jt},{provide:r.bc$,useValue:"NoopAnimations"},..._o];let xo=(()=>{class He{static withConfig(pe){return{ngModule:He,providers:pe.disableAnimations?Po:wo}}static#e=this.\u0275fac=function(k){return new(k||He)};static#t=this.\u0275mod=r.$C({type:He});static#n=this.\u0275inj=r.G2t({providers:wo,imports:[y.Bb]})}return He})()},345:(ln,ye,w)=>{"use strict";w.d(ye,{B7:()=>ce,Bb:()=>W,hE:()=>p,sG:()=>Ee,up:()=>mt});var r=w(60177),y=w(54438);class u extends r.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends u{static makeCurrent(){(0,r.ZD)(new v)}onAndCancel(nn,Ht,Xt){return nn.addEventListener(Ht,Xt),()=>{nn.removeEventListener(Ht,Xt)}}dispatchEvent(nn,Ht){nn.dispatchEvent(Ht)}remove(nn){nn.remove()}createElement(nn,Ht){return(Ht=Ht||this.getDefaultDocument()).createElement(nn)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(nn){return nn.nodeType===Node.ELEMENT_NODE}isShadowRoot(nn){return nn instanceof DocumentFragment}getGlobalEventTarget(nn,Ht){return"window"===Ht?window:"document"===Ht?nn:"body"===Ht?nn.body:null}getBaseHref(nn){const Ht=function d(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==Ht?null:function L(dn){return new URL(dn,document.baseURI).pathname}(Ht)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(nn){return(0,r._b)(document.cookie,nn)}}let x=null,S=(()=>{class dn{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac})}return dn})();const U=new y.nKC("");let O=(()=>{class dn{constructor(Ht,Xt){this._zone=Xt,this._eventNameToPlugin=new Map,Ht.forEach(Nn=>{Nn.manager=this}),this._plugins=Ht.slice().reverse()}addEventListener(Ht,Xt,Nn){return this._findPluginFor(Xt).addEventListener(Ht,Xt,Nn)}getZone(){return this._zone}_findPluginFor(Ht){let Xt=this._eventNameToPlugin.get(Ht);if(Xt)return Xt;if(Xt=this._plugins.find(Ot=>Ot.supports(Ht)),!Xt)throw new y.wOt(5101,!1);return this._eventNameToPlugin.set(Ht,Xt),Xt}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(U),y.KVO(y.SKi))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac})}return dn})();class b{constructor(nn){this._doc=nn}}const M="ng-app-id";let A=(()=>{class dn{constructor(Ht,Xt,Nn,Ot={}){this.doc=Ht,this.appId=Xt,this.nonce=Nn,this.platformId=Ot,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,r.Vy)(Ot),this.resetHostNodes()}addStyles(Ht){for(const Xt of Ht)1===this.changeUsageCount(Xt,1)&&this.onStyleAdded(Xt)}removeStyles(Ht){for(const Xt of Ht)this.changeUsageCount(Xt,-1)<=0&&this.onStyleRemoved(Xt)}ngOnDestroy(){const Ht=this.styleNodesInDOM;Ht&&(Ht.forEach(Xt=>Xt.remove()),Ht.clear());for(const Xt of this.getAllStyles())this.onStyleRemoved(Xt);this.resetHostNodes()}addHost(Ht){this.hostNodes.add(Ht);for(const Xt of this.getAllStyles())this.addStyleToHost(Ht,Xt)}removeHost(Ht){this.hostNodes.delete(Ht)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ht){for(const Xt of this.hostNodes)this.addStyleToHost(Xt,Ht)}onStyleRemoved(Ht){const Xt=this.styleRef;Xt.get(Ht)?.elements?.forEach(Nn=>Nn.remove()),Xt.delete(Ht)}collectServerRenderedStyles(){const Ht=this.doc.head?.querySelectorAll(`style[${M}="${this.appId}"]`);if(Ht?.length){const Xt=new Map;return Ht.forEach(Nn=>{null!=Nn.textContent&&Xt.set(Nn.textContent,Nn)}),Xt}return null}changeUsageCount(Ht,Xt){const Nn=this.styleRef;if(Nn.has(Ht)){const Ot=Nn.get(Ht);return Ot.usage+=Xt,Ot.usage}return Nn.set(Ht,{usage:Xt,elements:[]}),Xt}getStyleElement(Ht,Xt){const Nn=this.styleNodesInDOM,Ot=Nn?.get(Xt);if(Ot?.parentNode===Ht)return Nn.delete(Xt),Ot.removeAttribute(M),Ot;{const Mn=this.doc.createElement("style");return this.nonce&&Mn.setAttribute("nonce",this.nonce),Mn.textContent=Xt,this.platformIsServer&&Mn.setAttribute(M,this.appId),Ht.appendChild(Mn),Mn}}addStyleToHost(Ht,Xt){const Nn=this.getStyleElement(Ht,Xt),Ot=this.styleRef,Mn=Ot.get(Xt)?.elements;Mn?Mn.push(Nn):Ot.set(Xt,{elements:[Nn],usage:1})}resetHostNodes(){const Ht=this.hostNodes;Ht.clear(),Ht.add(this.doc.head)}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(r.qQ),y.KVO(y.sZ2),y.KVO(y.BIS,8),y.KVO(y.Agw))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac})}return dn})();const ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},z=/%COMP%/g,X="%COMP%",re=`_nghost-${X}`,Z=`_ngcontent-${X}`,oe=new y.nKC("",{providedIn:"root",factory:()=>!0});function R(dn,nn){return nn.map(Ht=>Ht.replace(z,dn))}let ce=(()=>{class dn{constructor(Ht,Xt,Nn,Ot,Mn,Bn,Pn,Dn=null){this.eventManager=Ht,this.sharedStylesHost=Xt,this.appId=Nn,this.removeStylesOnCompDestroy=Ot,this.doc=Mn,this.platformId=Bn,this.ngZone=Pn,this.nonce=Dn,this.rendererByCompId=new Map,this.platformIsServer=(0,r.Vy)(Bn),this.defaultRenderer=new $(Ht,Mn,Pn,this.platformIsServer)}createRenderer(Ht,Xt){if(!Ht||!Xt)return this.defaultRenderer;this.platformIsServer&&Xt.encapsulation===y.gXe.ShadowDom&&(Xt={...Xt,encapsulation:y.gXe.Emulated});const Nn=this.getOrCreateRenderer(Ht,Xt);return Nn instanceof St?Nn.applyToHost(Ht):Nn instanceof pt&&Nn.applyStyles(),Nn}getOrCreateRenderer(Ht,Xt){const Nn=this.rendererByCompId;let Ot=Nn.get(Xt.id);if(!Ot){const Mn=this.doc,Bn=this.ngZone,Pn=this.eventManager,Dn=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(Xt.encapsulation){case y.gXe.Emulated:Ot=new St(Pn,Dn,Xt,this.appId,tn,Mn,Bn,bn);break;case y.gXe.ShadowDom:return new lt(Pn,Dn,Ht,Xt,Mn,Bn,this.nonce,bn);default:Ot=new pt(Pn,Dn,Xt,tn,Mn,Bn,bn)}Nn.set(Xt.id,Ot)}return Ot}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(O),y.KVO(A),y.KVO(y.sZ2),y.KVO(oe),y.KVO(r.qQ),y.KVO(y.Agw),y.KVO(y.SKi),y.KVO(y.BIS))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac})}return dn})();class ${constructor(nn,Ht,Xt,Nn){this.eventManager=nn,this.doc=Ht,this.ngZone=Xt,this.platformIsServer=Nn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(nn,Ht){return Ht?this.doc.createElementNS(ue[Ht]||Ht,nn):this.doc.createElement(nn)}createComment(nn){return this.doc.createComment(nn)}createText(nn){return this.doc.createTextNode(nn)}appendChild(nn,Ht){(Ve(nn)?nn.content:nn).appendChild(Ht)}insertBefore(nn,Ht,Xt){nn&&(Ve(nn)?nn.content:nn).insertBefore(Ht,Xt)}removeChild(nn,Ht){Ht.remove()}selectRootElement(nn,Ht){let Xt="string"==typeof nn?this.doc.querySelector(nn):nn;if(!Xt)throw new y.wOt(-5104,!1);return Ht||(Xt.textContent=""),Xt}parentNode(nn){return nn.parentNode}nextSibling(nn){return nn.nextSibling}setAttribute(nn,Ht,Xt,Nn){if(Nn){Ht=Nn+":"+Ht;const Ot=ue[Nn];Ot?nn.setAttributeNS(Ot,Ht,Xt):nn.setAttribute(Ht,Xt)}else nn.setAttribute(Ht,Xt)}removeAttribute(nn,Ht,Xt){if(Xt){const Nn=ue[Xt];Nn?nn.removeAttributeNS(Nn,Ht):nn.removeAttribute(`${Xt}:${Ht}`)}else nn.removeAttribute(Ht)}addClass(nn,Ht){nn.classList.add(Ht)}removeClass(nn,Ht){nn.classList.remove(Ht)}setStyle(nn,Ht,Xt,Nn){Nn&(y.czy.DashCase|y.czy.Important)?nn.style.setProperty(Ht,Xt,Nn&y.czy.Important?"important":""):nn.style[Ht]=Xt}removeStyle(nn,Ht,Xt){Xt&y.czy.DashCase?nn.style.removeProperty(Ht):nn.style[Ht]=""}setProperty(nn,Ht,Xt){null!=nn&&(nn[Ht]=Xt)}setValue(nn,Ht){nn.nodeValue=Ht}listen(nn,Ht,Xt){if("string"==typeof nn&&!(nn=(0,r.QT)().getGlobalEventTarget(this.doc,nn)))throw new Error(`Unsupported event target ${nn} for event ${Ht}`);return this.eventManager.addEventListener(nn,Ht,this.decoratePreventDefault(Xt))}decoratePreventDefault(nn){return Ht=>{if("__ngUnwrap__"===Ht)return nn;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>nn(Ht)):nn(Ht))&&Ht.preventDefault()}}}function Ve(dn){return"TEMPLATE"===dn.tagName&&void 0!==dn.content}class lt extends ${constructor(nn,Ht,Xt,Nn,Ot,Mn,Bn,Pn){super(nn,Ot,Mn,Pn),this.sharedStylesHost=Ht,this.hostEl=Xt,this.shadowRoot=Xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dn=R(Nn.id,Nn.styles);for(const tn of Dn){const bn=document.createElement("style");Bn&&bn.setAttribute("nonce",Bn),bn.textContent=tn,this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot(nn){return nn===this.hostEl?this.shadowRoot:nn}appendChild(nn,Ht){return super.appendChild(this.nodeOrShadowRoot(nn),Ht)}insertBefore(nn,Ht,Xt){return super.insertBefore(this.nodeOrShadowRoot(nn),Ht,Xt)}removeChild(nn,Ht){return super.removeChild(null,Ht)}parentNode(nn){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(nn)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pt extends ${constructor(nn,Ht,Xt,Nn,Ot,Mn,Bn,Pn){super(nn,Ot,Mn,Bn),this.sharedStylesHost=Ht,this.removeStylesOnCompDestroy=Nn,this.styles=Pn?R(Pn,Xt.styles):Xt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class St extends pt{constructor(nn,Ht,Xt,Nn,Ot,Mn,Bn,Pn){const Dn=Nn+"-"+Xt.id;super(nn,Ht,Xt,Ot,Mn,Bn,Pn,Dn),this.contentAttr=function Ce(dn){return Z.replace(z,dn)}(Dn),this.hostAttr=function K(dn){return re.replace(z,dn)}(Dn)}applyToHost(nn){this.applyStyles(),this.setAttribute(nn,this.hostAttr,"")}createElement(nn,Ht){const Xt=super.createElement(nn,Ht);return super.setAttribute(Xt,this.contentAttr,""),Xt}}let Rn=(()=>{class dn extends b{constructor(Ht){super(Ht)}supports(Ht){return!0}addEventListener(Ht,Xt,Nn){return Ht.addEventListener(Xt,Nn,!1),()=>this.removeEventListener(Ht,Xt,Nn)}removeEventListener(Ht,Xt,Nn){return Ht.removeEventListener(Xt,Nn)}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(r.qQ))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac})}return dn})();const G=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:dn=>dn.altKey,control:dn=>dn.ctrlKey,meta:dn=>dn.metaKey,shift:dn=>dn.shiftKey};let Ge=(()=>{class dn extends b{constructor(Ht){super(Ht)}supports(Ht){return null!=dn.parseEventName(Ht)}addEventListener(Ht,Xt,Nn){const Ot=dn.parseEventName(Xt),Mn=dn.eventCallback(Ot.fullKey,Nn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.QT)().onAndCancel(Ht,Ot.domEventName,Mn))}static parseEventName(Ht){const Xt=Ht.toLowerCase().split("."),Nn=Xt.shift();if(0===Xt.length||"keydown"!==Nn&&"keyup"!==Nn)return null;const Ot=dn._normalizeKey(Xt.pop());let Mn="",Bn=Xt.indexOf("code");if(Bn>-1&&(Xt.splice(Bn,1),Mn="code."),G.forEach(Dn=>{const tn=Xt.indexOf(Dn);tn>-1&&(Xt.splice(tn,1),Mn+=Dn+".")}),Mn+=Ot,0!=Xt.length||0===Ot.length)return null;const Pn={};return Pn.domEventName=Nn,Pn.fullKey=Mn,Pn}static matchEventFullKeyCode(Ht,Xt){let Nn=ee[Ht.key]||Ht.key,Ot="";return Xt.indexOf("code.")>-1&&(Nn=Ht.code,Ot="code."),!(null==Nn||!Nn)&&(Nn=Nn.toLowerCase()," "===Nn?Nn="space":"."===Nn&&(Nn="dot"),G.forEach(Mn=>{Mn!==Nn&&(0,De[Mn])(Ht)&&(Ot+=Mn+".")}),Ot+=Nn,Ot===Xt)}static eventCallback(Ht,Xt,Nn){return Ot=>{dn.matchEventFullKeyCode(Ot,Ht)&&Nn.runGuarded(()=>Xt(Ot))}}static _normalizeKey(Ht){return"esc"===Ht?"escape":Ht}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(r.qQ))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac})}return dn})();const Ee=(0,y.oH4)(y.fpN,"browser",[{provide:y.Agw,useValue:r.AJ},{provide:y.PLl,useValue:function Le(){v.makeCurrent()},multi:!0},{provide:r.qQ,useFactory:function se(){return(0,y.TL$)(document),document},deps:[]}]),C=new y.nKC(""),T=[{provide:y.e01,useClass:class F{addToWindow(nn){y.JZv.getAngularTestability=(Xt,Nn=!0)=>{const Ot=nn.findTestabilityInTree(Xt,Nn);if(null==Ot)throw new y.wOt(5103,!1);return Ot},y.JZv.getAllAngularTestabilities=()=>nn.getAllTestabilities(),y.JZv.getAllAngularRootElements=()=>nn.getAllRootElements(),y.JZv.frameworkStabilizers||(y.JZv.frameworkStabilizers=[]),y.JZv.frameworkStabilizers.push(Xt=>{const Nn=y.JZv.getAllAngularTestabilities();let Ot=Nn.length;const Mn=function(){Ot--,0==Ot&&Xt()};Nn.forEach(Bn=>{Bn.whenStable(Mn)})})}findTestabilityInTree(nn,Ht,Xt){return null==Ht?null:nn.getTestability(Ht)??(Xt?(0,r.QT)().isShadowRoot(Ht)?this.findTestabilityInTree(nn,Ht.host,!0):this.findTestabilityInTree(nn,Ht.parentElement,!0):null)}},deps:[]},{provide:y.WHO,useClass:y.NYb,deps:[y.SKi,y.giA,y.e01]},{provide:y.NYb,useClass:y.NYb,deps:[y.SKi,y.giA,y.e01]}],J=[{provide:y.H8p,useValue:"root"},{provide:y.zcH,useFactory:function Ae(){return new y.zcH},deps:[]},{provide:U,useClass:Rn,multi:!0,deps:[r.qQ,y.SKi,y.Agw]},{provide:U,useClass:Ge,multi:!0,deps:[r.qQ]},ce,A,O,{provide:y._9s,useExisting:ce},{provide:r.N0,useClass:S,deps:[]},[]];let W=(()=>{class dn{constructor(Ht){}static withServerTransition(Ht){return{ngModule:dn,providers:[{provide:y.sZ2,useValue:Ht.appId}]}}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(C,12))};static#t=this.\u0275mod=y.$C({type:dn});static#n=this.\u0275inj=y.G2t({providers:[...J,...T],imports:[r.MD,y.Hbi]})}return dn})(),p=(()=>{class dn{constructor(Ht){this._doc=Ht}getTitle(){return this._doc.title}setTitle(Ht){this._doc.title=Ht||""}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(r.qQ))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac,providedIn:"root"})}return dn})(),mt=(()=>{class dn{static#e=this.\u0275fac=function(Xt){return new(Xt||dn)};static#t=this.\u0275prov=y.jDH({token:dn,factory:function(Xt){let Nn=null;return Nn=Xt?new(Xt||dn):y.KVO(Vt),Nn},providedIn:"root"})}return dn})(),Vt=(()=>{class dn extends mt{constructor(Ht){super(),this._doc=Ht}sanitize(Ht,Xt){if(null==Xt)return null;switch(Ht){case y.WPN.NONE:return Xt;case y.WPN.HTML:return(0,y.ZF7)(Xt,"HTML")?(0,y.rcV)(Xt):(0,y.h9k)(this._doc,String(Xt)).toString();case y.WPN.STYLE:return(0,y.ZF7)(Xt,"Style")?(0,y.rcV)(Xt):Xt;case y.WPN.SCRIPT:if((0,y.ZF7)(Xt,"Script"))return(0,y.rcV)(Xt);throw new y.wOt(5200,!1);case y.WPN.URL:return(0,y.ZF7)(Xt,"URL")?(0,y.rcV)(Xt):(0,y.$MX)(String(Xt));case y.WPN.RESOURCE_URL:if((0,y.ZF7)(Xt,"ResourceURL"))return(0,y.rcV)(Xt);throw new y.wOt(5201,!1);default:throw new y.wOt(5202,!1)}}bypassSecurityTrustHtml(Ht){return(0,y.Kcf)(Ht)}bypassSecurityTrustStyle(Ht){return(0,y.cWb)(Ht)}bypassSecurityTrustScript(Ht){return(0,y.UyX)(Ht)}bypassSecurityTrustUrl(Ht){return(0,y.osQ)(Ht)}bypassSecurityTrustResourceUrl(Ht){return(0,y.e5t)(Ht)}static#e=this.\u0275fac=function(Xt){return new(Xt||dn)(y.KVO(r.qQ))};static#t=this.\u0275prov=y.jDH({token:dn,factory:dn.\u0275fac,providedIn:"root"})}return dn})()},38645:(ln,ye,w)=>{"use strict";w.d(ye,{nX:()=>os,nU:()=>Vt,wF:()=>An,Z:()=>Yt,Ix:()=>vi,Wk:()=>fo,iI:()=>tc,n3:()=>Vo,Sd:()=>mt});var r=w(54438),y=w(28454),u=w(21472),v=w(15877),x=w(29160),d=w(82656),L=w(50330),F=w(35892),S=w(45946),U=w(37479),O=w(45326),b=w(2515),M=w(7221),A=w(85052),ue=w(81027),z=w(60177),X=w(36110),re=w(32914),Z=w(17365),Re=w(35160),oe=w(14264),Ce=w(11756),K=w(60830),R=w(26758),ce=w(39705),$=w(28577),Fe=w(15210),je=w(95773),lt=w(47369),pt=w(66196);function St(be){return be<=0?()=>b.w:(0,Fe.N)((Qe,we)=>{let qe=[];Qe.subscribe((0,pt._)(we,Ft=>{qe.push(Ft),be<qe.length&&qe.shift()},()=>{for(const Ft of qe)we.next(Ft);we.complete()},void 0,()=>{qe=null}))})}var Rn=w(67074),G=w(19577),De=w(99539),Ge=w(15152),Ze=w(44710),ut=w(37925),bt=w(98297),Dt=w(345);const Le="primary",Ae=Symbol("RouteTitle");class se{constructor(Qe){this.params=Qe||{}}has(Qe){return Object.prototype.hasOwnProperty.call(this.params,Qe)}get(Qe){if(this.has(Qe)){const we=this.params[Qe];return Array.isArray(we)?we[0]:we}return null}getAll(Qe){if(this.has(Qe)){const we=this.params[Qe];return Array.isArray(we)?we:[we]}return[]}get keys(){return Object.keys(this.params)}}function Me(be){return new se(be)}function Ee(be,Qe,we){const qe=we.path.split("/");if(qe.length>be.length||"full"===we.pathMatch&&(Qe.hasChildren()||qe.length<be.length))return null;const Ft={};for(let pn=0;pn<qe.length;pn++){const Vn=qe[pn],zr=be[pn];if(":"===Vn[0])Ft[Vn.substring(1)]=zr;else if(Vn!==zr.path)return null}return{consumed:be.slice(0,qe.length),posParams:Ft}}function T(be,Qe){const we=be?J(be):void 0,qe=Qe?J(Qe):void 0;if(!we||!qe||we.length!=qe.length)return!1;let Ft;for(let pn=0;pn<we.length;pn++)if(Ft=we[pn],!W(be[Ft],Qe[Ft]))return!1;return!0}function J(be){return[...Object.keys(be),...Object.getOwnPropertySymbols(be)]}function W(be,Qe){if(Array.isArray(be)&&Array.isArray(Qe)){if(be.length!==Qe.length)return!1;const we=[...be].sort(),qe=[...Qe].sort();return we.every((Ft,pn)=>qe[pn]===Ft)}return be===Qe}function ve(be){return be.length>0?be[be.length-1]:null}function ne(be){return(0,y.A)(be)?be:(0,r.jNT)(be)?(0,u.H)(Promise.resolve(be)):(0,v.of)(be)}const p={exact:function $e(be,Qe,we){if(!rt(be.segments,Qe.segments)||!Ye(be.segments,Qe.segments,we)||be.numberOfChildren!==Qe.numberOfChildren)return!1;for(const qe in Qe.children)if(!be.children[qe]||!$e(be.children[qe],Qe.children[qe],we))return!1;return!0},subset:kt},H={exact:function Ie(be,Qe){return T(be,Qe)},subset:function ft(be,Qe){return Object.keys(Qe).length<=Object.keys(be).length&&Object.keys(Qe).every(we=>W(be[we],Qe[we]))},ignored:()=>!0};function B(be,Qe,we){return p[we.paths](be.root,Qe.root,we.matrixParams)&&H[we.queryParams](be.queryParams,Qe.queryParams)&&!("exact"===we.fragment&&be.fragment!==Qe.fragment)}function kt(be,Qe,we){return jt(be,Qe,Qe.segments,we)}function jt(be,Qe,we,qe){if(be.segments.length>we.length){const Ft=be.segments.slice(0,we.length);return!(!rt(Ft,we)||Qe.hasChildren()||!Ye(Ft,we,qe))}if(be.segments.length===we.length){if(!rt(be.segments,we)||!Ye(be.segments,we,qe))return!1;for(const Ft in Qe.children)if(!be.children[Ft]||!kt(be.children[Ft],Qe.children[Ft],qe))return!1;return!0}{const Ft=we.slice(0,be.segments.length),pn=we.slice(be.segments.length);return!!(rt(be.segments,Ft)&&Ye(be.segments,Ft,qe)&&be.children[Le])&&jt(be.children[Le],Qe,pn,qe)}}function Ye(be,Qe,we){return Qe.every((qe,Ft)=>H[we](be[Ft].parameters,qe.parameters))}class ct{constructor(Qe=new It([],{}),we={},qe=null){this.root=Qe,this.queryParams=we,this.fragment=qe}get queryParamMap(){return this._queryParamMap??=Me(this.queryParams),this._queryParamMap}toString(){return at.serialize(this)}}class It{constructor(Qe,we){this.segments=Qe,this.children=we,this.parent=null,Object.values(we).forEach(qe=>qe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class Ke{constructor(Qe,we){this.path=Qe,this.parameters=we}get parameterMap(){return this._parameterMap??=Me(this.parameters),this._parameterMap}toString(){return dn(this)}}function rt(be,Qe){return be.length===Qe.length&&be.every((we,qe)=>we.path===Qe[qe].path)}let mt=(()=>{class be{static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:()=>new Vt,providedIn:"root"})}return be})();class Vt{parse(Qe){const we=new bn(Qe);return new ct(we.parseRootSegment(),we.parseQueryParams(),we.parseFragment())}serialize(Qe){const we=`/${ke(Qe.root,!0)}`,qe=function Ht(be){const Qe=Object.entries(be).map(([we,qe])=>Array.isArray(qe)?qe.map(Ft=>`${xt(we)}=${xt(Ft)}`).join("&"):`${xt(we)}=${xt(qe)}`).filter(we=>we);return Qe.length?`?${Qe.join("&")}`:""}(Qe.queryParams);return`${we}${qe}${"string"==typeof Qe.fragment?`#${function Zt(be){return encodeURI(be)}(Qe.fragment)}`:""}`}}const at=new Vt;function We(be){return be.segments.map(Qe=>dn(Qe)).join("/")}function ke(be,Qe){if(!be.hasChildren())return We(be);if(Qe){const we=be.children[Le]?ke(be.children[Le],!1):"",qe=[];return Object.entries(be.children).forEach(([Ft,pn])=>{Ft!==Le&&qe.push(`${Ft}:${ke(pn,!1)}`)}),qe.length>0?`${we}(${qe.join("//")})`:we}{const we=function Ct(be,Qe){let we=[];return Object.entries(be.children).forEach(([qe,Ft])=>{qe===Le&&(we=we.concat(Qe(Ft,qe)))}),Object.entries(be.children).forEach(([qe,Ft])=>{qe!==Le&&(we=we.concat(Qe(Ft,qe)))}),we}(be,(qe,Ft)=>Ft===Le?[ke(be.children[Le],!1)]:[`${Ft}:${ke(qe,!1)}`]);return 1===Object.keys(be.children).length&&null!=be.children[Le]?`${We(be)}/${we[0]}`:`${We(be)}/(${we.join("//")})`}}function et(be){return encodeURIComponent(be).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xt(be){return et(be).replace(/%3B/gi,";")}function vn(be){return et(be).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kn(be){return decodeURIComponent(be)}function tr(be){return kn(be.replace(/\+/g,"%20"))}function dn(be){return`${vn(be.path)}${function nn(be){return Object.entries(be).map(([Qe,we])=>`;${vn(Qe)}=${vn(we)}`).join("")}(be.parameters)}`}const Xt=/^[^\/()?;#]+/;function Nn(be){const Qe=be.match(Xt);return Qe?Qe[0]:""}const Ot=/^[^\/()?;=#]+/,Bn=/^[^=?&#]+/,Dn=/^[^&#]+/;class bn{constructor(Qe){this.url=Qe,this.remaining=Qe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const Qe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Qe)}while(this.consumeOptional("&"));return Qe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Qe=[];for(this.peekStartsWith("(")||Qe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Qe.push(this.parseSegment());let we={};this.peekStartsWith("/(")&&(this.capture("/"),we=this.parseParens(!0));let qe={};return this.peekStartsWith("(")&&(qe=this.parseParens(!1)),(Qe.length>0||Object.keys(we).length>0)&&(qe[Le]=new It(Qe,we)),qe}parseSegment(){const Qe=Nn(this.remaining);if(""===Qe&&this.peekStartsWith(";"))throw new r.wOt(4009,!1);return this.capture(Qe),new Ke(kn(Qe),this.parseMatrixParams())}parseMatrixParams(){const Qe={};for(;this.consumeOptional(";");)this.parseParam(Qe);return Qe}parseParam(Qe){const we=function Mn(be){const Qe=be.match(Ot);return Qe?Qe[0]:""}(this.remaining);if(!we)return;this.capture(we);let qe="";if(this.consumeOptional("=")){const Ft=Nn(this.remaining);Ft&&(qe=Ft,this.capture(qe))}Qe[kn(we)]=kn(qe)}parseQueryParam(Qe){const we=function Pn(be){const Qe=be.match(Bn);return Qe?Qe[0]:""}(this.remaining);if(!we)return;this.capture(we);let qe="";if(this.consumeOptional("=")){const Vn=function tn(be){const Qe=be.match(Dn);return Qe?Qe[0]:""}(this.remaining);Vn&&(qe=Vn,this.capture(qe))}const Ft=tr(we),pn=tr(qe);if(Qe.hasOwnProperty(Ft)){let Vn=Qe[Ft];Array.isArray(Vn)||(Vn=[Vn],Qe[Ft]=Vn),Vn.push(pn)}else Qe[Ft]=pn}parseParens(Qe){const we={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const qe=Nn(this.remaining),Ft=this.remaining[qe.length];if("/"!==Ft&&")"!==Ft&&";"!==Ft)throw new r.wOt(4010,!1);let pn;qe.indexOf(":")>-1?(pn=qe.slice(0,qe.indexOf(":")),this.capture(pn),this.capture(":")):Qe&&(pn=Le);const Vn=this.parseChildren();we[pn]=1===Object.keys(Vn).length?Vn[Le]:new It([],Vn),this.consumeOptional("//")}return we}peekStartsWith(Qe){return this.remaining.startsWith(Qe)}consumeOptional(Qe){return!!this.peekStartsWith(Qe)&&(this.remaining=this.remaining.substring(Qe.length),!0)}capture(Qe){if(!this.consumeOptional(Qe))throw new r.wOt(4011,!1)}}function yt(be){return be.segments.length>0?new It([],{[Le]:be}):be}function _e(be){const Qe={};for(const[qe,Ft]of Object.entries(be.children)){const pn=_e(Ft);if(qe===Le&&0===pn.segments.length&&pn.hasChildren())for(const[Vn,zr]of Object.entries(pn.children))Qe[Vn]=zr;else(pn.segments.length>0||pn.hasChildren())&&(Qe[qe]=pn)}return function he(be){if(1===be.numberOfChildren&&be.children[Le]){const Qe=be.children[Le];return new It(be.segments.concat(Qe.segments),Qe.children)}return be}(new It(be.segments,Qe))}function Be(be){return be instanceof ct}function zt(be){let Qe;const Ft=yt(function we(pn){const Vn={};for(const Dr of pn.children){const uo=we(Dr);Vn[Dr.outlet]=uo}const zr=new It(pn.url,Vn);return pn===be&&(Qe=zr),zr}(be.root));return Qe??Ft}function on(be,Qe,we,qe){let Ft=be;for(;Ft.parent;)Ft=Ft.parent;if(0===Qe.length)return Ir(Ft,Ft,Ft,we,qe);const pn=function Ki(be){if("string"==typeof be[0]&&1===be.length&&"/"===be[0])return new Yr(!0,0,be);let Qe=0,we=!1;const qe=be.reduce((Ft,pn,Vn)=>{if("object"==typeof pn&&null!=pn){if(pn.outlets){const zr={};return Object.entries(pn.outlets).forEach(([Dr,uo])=>{zr[Dr]="string"==typeof uo?uo.split("/"):uo}),[...Ft,{outlets:zr}]}if(pn.segmentPath)return[...Ft,pn.segmentPath]}return"string"!=typeof pn?[...Ft,pn]:0===Vn?(pn.split("/").forEach((zr,Dr)=>{0==Dr&&"."===zr||(0==Dr&&""===zr?we=!0:".."===zr?Qe++:""!=zr&&Ft.push(zr))}),Ft):[...Ft,pn]},[]);return new Yr(we,Qe,qe)}(Qe);if(pn.toRoot())return Ir(Ft,Ft,new It([],{}),we,qe);const Vn=function er(be,Qe,we){if(be.isAbsolute)return new mi(Qe,!0,0);if(!we)return new mi(Qe,!1,NaN);if(null===we.parent)return new mi(we,!0,0);const qe=Hn(be.commands[0])?0:1;return function ur(be,Qe,we){let qe=be,Ft=Qe,pn=we;for(;pn>Ft;){if(pn-=Ft,qe=qe.parent,!qe)throw new r.wOt(4005,!1);Ft=qe.segments.length}return new mi(qe,!1,Ft-pn)}(we,we.segments.length-1+qe,be.numberOfDoubleDots)}(pn,Ft,be),zr=Vn.processChildren?rn(Vn.segmentGroup,Vn.index,pn.commands):Ni(Vn.segmentGroup,Vn.index,pn.commands);return Ir(Ft,Vn.segmentGroup,zr,we,qe)}function Hn(be){return"object"==typeof be&&null!=be&&!be.outlets&&!be.segmentPath}function Ar(be){return"object"==typeof be&&null!=be&&be.outlets}function Ir(be,Qe,we,qe,Ft){let Vn,pn={};qe&&Object.entries(qe).forEach(([Dr,uo])=>{pn[Dr]=Array.isArray(uo)?uo.map(Uo=>`${Uo}`):`${uo}`}),Vn=be===Qe?we:ti(be,Qe,we);const zr=yt(_e(Vn));return new ct(zr,pn,Ft)}function ti(be,Qe,we){const qe={};return Object.entries(be.children).forEach(([Ft,pn])=>{qe[Ft]=pn===Qe?we:ti(pn,Qe,we)}),new It(be.segments,qe)}class Yr{constructor(Qe,we,qe){if(this.isAbsolute=Qe,this.numberOfDoubleDots=we,this.commands=qe,Qe&&qe.length>0&&Hn(qe[0]))throw new r.wOt(4003,!1);const Ft=qe.find(Ar);if(Ft&&Ft!==ve(qe))throw new r.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mi{constructor(Qe,we,qe){this.segmentGroup=Qe,this.processChildren=we,this.index=qe}}function Ni(be,Qe,we){if(be??=new It([],{}),0===be.segments.length&&be.hasChildren())return rn(be,Qe,we);const qe=function En(be,Qe,we){let qe=0,Ft=Qe;const pn={match:!1,pathIndex:0,commandIndex:0};for(;Ft<be.segments.length;){if(qe>=we.length)return pn;const Vn=be.segments[Ft],zr=we[qe];if(Ar(zr))break;const Dr=`${zr}`,uo=qe<we.length-1?we[qe+1]:null;if(Ft>0&&void 0===Dr)break;if(Dr&&uo&&"object"==typeof uo&&void 0===uo.outlets){if(!vr(Dr,uo,Vn))return pn;qe+=2}else{if(!vr(Dr,{},Vn))return pn;qe++}Ft++}return{match:!0,pathIndex:Ft,commandIndex:qe}}(be,Qe,we),Ft=we.slice(qe.commandIndex);if(qe.match&&qe.pathIndex<be.segments.length){const pn=new It(be.segments.slice(0,qe.pathIndex),{});return pn.children[Le]=new It(be.segments.slice(qe.pathIndex),be.children),rn(pn,0,Ft)}return qe.match&&0===Ft.length?new It(be.segments,{}):qe.match&&!be.hasChildren()?ar(be,Qe,we):qe.match?rn(be,0,Ft):ar(be,Qe,we)}function rn(be,Qe,we){if(0===we.length)return new It(be.segments,{});{const qe=function Ei(be){return Ar(be[0])?be[0].outlets:{[Le]:be}}(we),Ft={};if(Object.keys(qe).some(pn=>pn!==Le)&&be.children[Le]&&1===be.numberOfChildren&&0===be.children[Le].segments.length){const pn=rn(be.children[Le],Qe,we);return new It(be.segments,pn.children)}return Object.entries(qe).forEach(([pn,Vn])=>{"string"==typeof Vn&&(Vn=[Vn]),null!==Vn&&(Ft[pn]=Ni(be.children[pn],Qe,Vn))}),Object.entries(be.children).forEach(([pn,Vn])=>{void 0===qe[pn]&&(Ft[pn]=Vn)}),new It(be.segments,Ft)}}function ar(be,Qe,we){const qe=be.segments.slice(0,Qe);let Ft=0;for(;Ft<we.length;){const pn=we[Ft];if(Ar(pn)){const Dr=Er(pn.outlets);return new It(qe,Dr)}if(0===Ft&&Hn(we[0])){qe.push(new Ke(be.segments[Qe].path,Hr(we[0]))),Ft++;continue}const Vn=Ar(pn)?pn.outlets[Le]:`${pn}`,zr=Ft<we.length-1?we[Ft+1]:null;Vn&&zr&&Hn(zr)?(qe.push(new Ke(Vn,Hr(zr))),Ft+=2):(qe.push(new Ke(Vn,{})),Ft++)}return new It(qe,{})}function Er(be){const Qe={};return Object.entries(be).forEach(([we,qe])=>{"string"==typeof qe&&(qe=[qe]),null!==qe&&(Qe[we]=ar(new It([],{}),0,qe))}),Qe}function Hr(be){const Qe={};return Object.entries(be).forEach(([we,qe])=>Qe[we]=`${qe}`),Qe}function vr(be,Qe,we){return be==we.path&&T(Qe,we.parameters)}const Mt="imperative";var te=function(be){return be[be.NavigationStart=0]="NavigationStart",be[be.NavigationEnd=1]="NavigationEnd",be[be.NavigationCancel=2]="NavigationCancel",be[be.NavigationError=3]="NavigationError",be[be.RoutesRecognized=4]="RoutesRecognized",be[be.ResolveStart=5]="ResolveStart",be[be.ResolveEnd=6]="ResolveEnd",be[be.GuardsCheckStart=7]="GuardsCheckStart",be[be.GuardsCheckEnd=8]="GuardsCheckEnd",be[be.RouteConfigLoadStart=9]="RouteConfigLoadStart",be[be.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",be[be.ChildActivationStart=11]="ChildActivationStart",be[be.ChildActivationEnd=12]="ChildActivationEnd",be[be.ActivationStart=13]="ActivationStart",be[be.ActivationEnd=14]="ActivationEnd",be[be.Scroll=15]="Scroll",be[be.NavigationSkipped=16]="NavigationSkipped",be}(te||{});class ze{constructor(Qe,we){this.id=Qe,this.url=we}}class Yt extends ze{constructor(Qe,we,qe="imperative",Ft=null){super(Qe,we),this.type=te.NavigationStart,this.navigationTrigger=qe,this.restoredState=Ft}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class An extends ze{constructor(Qe,we,qe){super(Qe,we),this.urlAfterRedirects=qe,this.type=te.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kn=function(be){return be[be.Redirect=0]="Redirect",be[be.SupersededByNewNavigation=1]="SupersededByNewNavigation",be[be.NoDataFromResolver=2]="NoDataFromResolver",be[be.GuardRejected=3]="GuardRejected",be}(Kn||{}),sr=function(be){return be[be.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",be[be.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",be}(sr||{});class Pr extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.reason=qe,this.code=Ft,this.type=te.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sr extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.reason=qe,this.code=Ft,this.type=te.NavigationSkipped}}class Ur extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.error=qe,this.target=Ft,this.type=te.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ri extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.urlAfterRedirects=qe,this.state=Ft,this.type=te.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.urlAfterRedirects=qe,this.state=Ft,this.type=te.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends ze{constructor(Qe,we,qe,Ft,pn){super(Qe,we),this.urlAfterRedirects=qe,this.state=Ft,this.shouldActivate=pn,this.type=te.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $i extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.urlAfterRedirects=qe,this.state=Ft,this.type=te.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends ze{constructor(Qe,we,qe,Ft){super(Qe,we),this.urlAfterRedirects=qe,this.state=Ft,this.type=te.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no{constructor(Qe){this.route=Qe,this.type=te.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yo{constructor(Qe){this.route=Qe,this.type=te.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fo{constructor(Qe){this.snapshot=Qe,this.type=te.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(Qe){this.snapshot=Qe,this.type=te.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(Qe){this.snapshot=Qe,this.type=te.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(Qe){this.snapshot=Qe,this.type=te.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(Qe,we,qe){this.routerEvent=Qe,this.position=we,this.anchor=qe,this.type=te.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Sn{}class ir{constructor(Qe,we){this.url=Qe,this.navigationBehaviorOptions=we}}function ps(be){return be.outlet||Le}function Ns(be){if(!be)return null;if(be.routeConfig?._injector)return be.routeConfig._injector;for(let Qe=be.parent;Qe;Qe=Qe.parent){const we=Qe.routeConfig;if(we?._loadedInjector)return we._loadedInjector;if(we?._injector)return we._injector}return null}class zn{get injector(){return Ns(this.route?.snapshot)??this.rootInjector}set injector(Qe){}constructor(Qe){this.rootInjector=Qe,this.outlet=null,this.route=null,this.children=new Wn(this.rootInjector),this.attachRef=null}}let Wn=(()=>{class be{constructor(we){this.rootInjector=we,this.contexts=new Map}onChildOutletCreated(we,qe){const Ft=this.getOrCreateContext(we);Ft.outlet=qe,this.contexts.set(we,Ft)}onChildOutletDestroyed(we){const qe=this.getContext(we);qe&&(qe.outlet=null,qe.attachRef=null)}onOutletDeactivated(){const we=this.contexts;return this.contexts=new Map,we}onOutletReAttached(we){this.contexts=we}getOrCreateContext(we){let qe=this.getContext(we);return qe||(qe=new zn(this.rootInjector),this.contexts.set(we,qe)),qe}getContext(we){return this.contexts.get(we)||null}static#e=this.\u0275fac=function(qe){return new(qe||be)(r.KVO(r.uvJ))};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();class Nr{constructor(Qe){this._root=Qe}get root(){return this._root.value}parent(Qe){const we=this.pathFromRoot(Qe);return we.length>1?we[we.length-2]:null}children(Qe){const we=li(Qe,this._root);return we?we.children.map(qe=>qe.value):[]}firstChild(Qe){const we=li(Qe,this._root);return we&&we.children.length>0?we.children[0].value:null}siblings(Qe){const we=hi(Qe,this._root);return we.length<2?[]:we[we.length-2].children.map(Ft=>Ft.value).filter(Ft=>Ft!==Qe)}pathFromRoot(Qe){return hi(Qe,this._root).map(we=>we.value)}}function li(be,Qe){if(be===Qe.value)return Qe;for(const we of Qe.children){const qe=li(be,we);if(qe)return qe}return null}function hi(be,Qe){if(be===Qe.value)return[Qe];for(const we of Qe.children){const qe=hi(be,we);if(qe.length)return qe.unshift(Qe),qe}return[]}class ni{constructor(Qe,we){this.value=Qe,this.children=we}toString(){return`TreeNode(${this.value})`}}function Hi(be){const Qe={};return be&&be.children.forEach(we=>Qe[we.value.outlet]=we),Qe}class oo extends Nr{constructor(Qe,we){super(Qe),this.snapshot=we,Oo(this,Qe)}toString(){return this.snapshot.toString()}}function Eo(be){const Qe=function Ui(be){const pn=new rs([],{},{},"",{},Le,be,null,{});return new Ps("",new ni(pn,[]))}(be),we=new x.t([new Ke("",{})]),qe=new x.t({}),Ft=new x.t({}),pn=new x.t({}),Vn=new x.t(""),zr=new os(we,qe,pn,Vn,Ft,Le,be,Qe.root);return zr.snapshot=Qe.root,new oo(new ni(zr,[]),Qe)}class os{constructor(Qe,we,qe,Ft,pn,Vn,zr,Dr){this.urlSubject=Qe,this.paramsSubject=we,this.queryParamsSubject=qe,this.fragmentSubject=Ft,this.dataSubject=pn,this.outlet=Vn,this.component=zr,this._futureSnapshot=Dr,this.title=this.dataSubject?.pipe((0,X.T)(uo=>uo[Ae]))??(0,v.of)(void 0),this.url=Qe,this.params=we,this.queryParams=qe,this.fragment=Ft,this.data=pn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,X.T)(Qe=>Me(Qe))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,X.T)(Qe=>Me(Qe))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function es(be,Qe,we="emptyOnly"){let qe;const{routeConfig:Ft}=be;return qe=null===Qe||"always"!==we&&""!==Ft?.path&&(Qe.component||Qe.routeConfig?.loadComponent)?{params:{...be.params},data:{...be.data},resolve:{...be.data,...be._resolvedData??{}}}:{params:{...Qe.params,...be.params},data:{...Qe.data,...be.data},resolve:{...be.data,...Qe.data,...Ft?.data,...be._resolvedData}},Ft&&Es(Ft)&&(qe.resolve[Ae]=Ft.title),qe}class rs{get title(){return this.data?.[Ae]}constructor(Qe,we,qe,Ft,pn,Vn,zr,Dr,uo){this.url=Qe,this.params=we,this.queryParams=qe,this.fragment=Ft,this.data=pn,this.outlet=Vn,this.component=zr,this.routeConfig=Dr,this._resolve=uo}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Me(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Me(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(qe=>qe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ps extends Nr{constructor(Qe,we){super(we),this.url=Qe,Oo(this,we)}toString(){return Ts(this._root)}}function Oo(be,Qe){Qe.value._routerState=be,Qe.children.forEach(we=>Oo(be,we))}function Ts(be){const Qe=be.children.length>0?` { ${be.children.map(Ts).join(", ")} } `:"";return`${be.value}${Qe}`}function gs(be){if(be.snapshot){const Qe=be.snapshot,we=be._futureSnapshot;be.snapshot=we,T(Qe.queryParams,we.queryParams)||be.queryParamsSubject.next(we.queryParams),Qe.fragment!==we.fragment&&be.fragmentSubject.next(we.fragment),T(Qe.params,we.params)||be.paramsSubject.next(we.params),function C(be,Qe){if(be.length!==Qe.length)return!1;for(let we=0;we<be.length;++we)if(!T(be[we],Qe[we]))return!1;return!0}(Qe.url,we.url)||be.urlSubject.next(we.url),T(Qe.data,we.data)||be.dataSubject.next(we.data)}else be.snapshot=be._futureSnapshot,be.dataSubject.next(be._futureSnapshot.data)}function ha(be,Qe){const we=T(be.params,Qe.params)&&function wt(be,Qe){return rt(be,Qe)&&be.every((we,qe)=>T(we.parameters,Qe[qe].parameters))}(be.url,Qe.url);return we&&!(!be.parent!=!Qe.parent)&&(!be.parent||ha(be.parent,Qe.parent))}function Es(be){return"string"==typeof be.title||null===be.title}let Vo=(()=>{class be{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new r.bkB,this.deactivateEvents=new r.bkB,this.attachEvents=new r.bkB,this.detachEvents=new r.bkB,this.parentContexts=(0,r.WQX)(Wn),this.location=(0,r.WQX)(r.c1b),this.changeDetector=(0,r.WQX)(r.gRc),this.inputBinder=(0,r.WQX)(_s,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(we){if(we.name){const{firstChange:qe,previousValue:Ft}=we.name;if(qe)return;this.isTrackedInParentContexts(Ft)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ft)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(we){return this.parentContexts.getContext(we)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const we=this.parentContexts.getContext(this.name);we?.route&&(we.attachRef?this.attach(we.attachRef,we.route):this.activateWith(we.route,we.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.wOt(4012,!1);this.location.detach();const we=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(we.instance),we}attach(we,qe){this.activated=we,this._activatedRoute=qe,this.location.insert(we.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(we.instance)}deactivate(){if(this.activated){const we=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(we)}}activateWith(we,qe){if(this.isActivated)throw new r.wOt(4013,!1);this._activatedRoute=we;const Ft=this.location,Vn=we.snapshot.component,zr=this.parentContexts.getOrCreateContext(this.name).children,Dr=new Ls(we,zr,Ft.injector);this.activated=Ft.createComponent(Vn,{index:Ft.length,injector:Dr,environmentInjector:qe}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275dir=r.FsC({type:be,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.OA$]})}return be})();class Ls{__ngOutletInjector(Qe){return new Ls(this.route,this.childContexts,Qe)}constructor(Qe,we,qe){this.route=Qe,this.childContexts=we,this.parent=qe}get(Qe,we){return Qe===os?this.route:Qe===Wn?this.childContexts:this.parent.get(Qe,we)}}const _s=new r.nKC("");let ea=(()=>{class be{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(we){this.unsubscribeFromRouteData(we),this.subscribeToRouteData(we)}unsubscribeFromRouteData(we){this.outletDataSubscriptions.get(we)?.unsubscribe(),this.outletDataSubscriptions.delete(we)}subscribeToRouteData(we){const{activatedRoute:qe}=we,Ft=(0,d.z)([qe.queryParams,qe.params,qe.data]).pipe((0,re.n)(([pn,Vn,zr],Dr)=>(zr={...pn,...Vn,...zr},0===Dr?(0,v.of)(zr):Promise.resolve(zr)))).subscribe(pn=>{if(!we.isActivated||!we.activatedComponentRef||we.activatedRoute!==qe||null===qe.component)return void this.unsubscribeFromRouteData(we);const Vn=(0,r.HJs)(qe.component);if(Vn)for(const{templateName:zr}of Vn.inputs)we.activatedComponentRef.setInput(zr,pn[zr]);else this.unsubscribeFromRouteData(we)});this.outletDataSubscriptions.set(we,Ft)}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac})}return be})();function Gn(be,Qe,we){if(we&&be.shouldReuseRoute(Qe.value,we.value.snapshot)){const qe=we.value;qe._futureSnapshot=Qe.value;const Ft=function Yn(be,Qe,we){return Qe.children.map(qe=>{for(const Ft of we.children)if(be.shouldReuseRoute(qe.value,Ft.value.snapshot))return Gn(be,qe,Ft);return Gn(be,qe)})}(be,Qe,we);return new ni(qe,Ft)}{if(be.shouldAttach(Qe.value)){const pn=be.retrieve(Qe.value);if(null!==pn){const Vn=pn.route;return Vn.value._futureSnapshot=Qe.value,Vn.children=Qe.children.map(zr=>Gn(be,zr)),Vn}}const qe=function or(be){return new os(new x.t(be.url),new x.t(be.params),new x.t(be.queryParams),new x.t(be.fragment),new x.t(be.data),be.outlet,be.component,be)}(Qe.value),Ft=Qe.children.map(pn=>Gn(be,pn));return new ni(qe,Ft)}}class Cr{constructor(Qe,we){this.redirectTo=Qe,this.navigationBehaviorOptions=we}}const fi="ngNavigationCancelingError";function Fi(be,Qe){const{redirectTo:we,navigationBehaviorOptions:qe}=Be(Qe)?{redirectTo:Qe,navigationBehaviorOptions:void 0}:Qe,Ft=so(!1,Kn.Redirect);return Ft.url=we,Ft.navigationBehaviorOptions=qe,Ft}function so(be,Qe){const we=new Error(`NavigationCancelingError: ${be||""}`);return we[fi]=!0,we.cancellationCode=Qe,we}function eo(be){return!!be&&be[fi]}class _n{constructor(Qe,we,qe,Ft,pn){this.routeReuseStrategy=Qe,this.futureState=we,this.currState=qe,this.forwardEvent=Ft,this.inputBindingEnabled=pn}activate(Qe){const we=this.futureState._root,qe=this.currState?this.currState._root:null;this.deactivateChildRoutes(we,qe,Qe),gs(this.futureState.root),this.activateChildRoutes(we,qe,Qe)}deactivateChildRoutes(Qe,we,qe){const Ft=Hi(we);Qe.children.forEach(pn=>{const Vn=pn.value.outlet;this.deactivateRoutes(pn,Ft[Vn],qe),delete Ft[Vn]}),Object.values(Ft).forEach(pn=>{this.deactivateRouteAndItsChildren(pn,qe)})}deactivateRoutes(Qe,we,qe){const Ft=Qe.value,pn=we?we.value:null;if(Ft===pn)if(Ft.component){const Vn=qe.getContext(Ft.outlet);Vn&&this.deactivateChildRoutes(Qe,we,Vn.children)}else this.deactivateChildRoutes(Qe,we,qe);else pn&&this.deactivateRouteAndItsChildren(we,qe)}deactivateRouteAndItsChildren(Qe,we){Qe.value.component&&this.routeReuseStrategy.shouldDetach(Qe.value.snapshot)?this.detachAndStoreRouteSubtree(Qe,we):this.deactivateRouteAndOutlet(Qe,we)}detachAndStoreRouteSubtree(Qe,we){const qe=we.getContext(Qe.value.outlet),Ft=qe&&Qe.value.component?qe.children:we,pn=Hi(Qe);for(const Vn of Object.values(pn))this.deactivateRouteAndItsChildren(Vn,Ft);if(qe&&qe.outlet){const Vn=qe.outlet.detach(),zr=qe.children.onOutletDeactivated();this.routeReuseStrategy.store(Qe.value.snapshot,{componentRef:Vn,route:Qe,contexts:zr})}}deactivateRouteAndOutlet(Qe,we){const qe=we.getContext(Qe.value.outlet),Ft=qe&&Qe.value.component?qe.children:we,pn=Hi(Qe);for(const Vn of Object.values(pn))this.deactivateRouteAndItsChildren(Vn,Ft);qe&&(qe.outlet&&(qe.outlet.deactivate(),qe.children.onOutletDeactivated()),qe.attachRef=null,qe.route=null)}activateChildRoutes(Qe,we,qe){const Ft=Hi(we);Qe.children.forEach(pn=>{this.activateRoutes(pn,Ft[pn.value.outlet],qe),this.forwardEvent(new At(pn.value.snapshot))}),Qe.children.length&&this.forwardEvent(new $t(Qe.value.snapshot))}activateRoutes(Qe,we,qe){const Ft=Qe.value,pn=we?we.value:null;if(gs(Ft),Ft===pn)if(Ft.component){const Vn=qe.getOrCreateContext(Ft.outlet);this.activateChildRoutes(Qe,we,Vn.children)}else this.activateChildRoutes(Qe,we,qe);else if(Ft.component){const Vn=qe.getOrCreateContext(Ft.outlet);if(this.routeReuseStrategy.shouldAttach(Ft.snapshot)){const zr=this.routeReuseStrategy.retrieve(Ft.snapshot);this.routeReuseStrategy.store(Ft.snapshot,null),Vn.children.onOutletReAttached(zr.contexts),Vn.attachRef=zr.componentRef,Vn.route=zr.route.value,Vn.outlet&&Vn.outlet.attach(zr.componentRef,zr.route.value),gs(zr.route.value),this.activateChildRoutes(Qe,null,Vn.children)}else Vn.attachRef=null,Vn.route=Ft,Vn.outlet&&Vn.outlet.activateWith(Ft,Vn.injector),this.activateChildRoutes(Qe,null,Vn.children)}else this.activateChildRoutes(Qe,null,qe)}}class fr{constructor(Qe){this.path=Qe,this.route=this.path[this.path.length-1]}}class Tr{constructor(Qe,we){this.component=Qe,this.route=we}}function lr(be,Qe,we){const qe=be._root;return ui(qe,Qe?Qe._root:null,we,[qe.value])}function jr(be,Qe){const we=Symbol(),qe=Qe.get(be,we);return qe===we?"function"!=typeof be||(0,r.LfX)(be)?Qe.get(be):be:qe}function ui(be,Qe,we,qe,Ft={canDeactivateChecks:[],canActivateChecks:[]}){const pn=Hi(Qe);return be.children.forEach(Vn=>{(function Jr(be,Qe,we,qe,Ft={canDeactivateChecks:[],canActivateChecks:[]}){const pn=be.value,Vn=Qe?Qe.value:null,zr=we?we.getContext(be.value.outlet):null;if(Vn&&pn.routeConfig===Vn.routeConfig){const Dr=function Wi(be,Qe,we){if("function"==typeof we)return we(be,Qe);switch(we){case"pathParamsChange":return!rt(be.url,Qe.url);case"pathParamsOrQueryParamsChange":return!rt(be.url,Qe.url)||!T(be.queryParams,Qe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ha(be,Qe)||!T(be.queryParams,Qe.queryParams);default:return!ha(be,Qe)}}(Vn,pn,pn.routeConfig.runGuardsAndResolvers);Dr?Ft.canActivateChecks.push(new fr(qe)):(pn.data=Vn.data,pn._resolvedData=Vn._resolvedData),ui(be,Qe,pn.component?zr?zr.children:null:we,qe,Ft),Dr&&zr&&zr.outlet&&zr.outlet.isActivated&&Ft.canDeactivateChecks.push(new Tr(zr.outlet.component,Vn))}else Vn&&ao(Qe,zr,Ft),Ft.canActivateChecks.push(new fr(qe)),ui(be,null,pn.component?zr?zr.children:null:we,qe,Ft)})(Vn,pn[Vn.value.outlet],we,qe.concat([Vn.value]),Ft),delete pn[Vn.value.outlet]}),Object.entries(pn).forEach(([Vn,zr])=>ao(zr,we.getContext(Vn),Ft)),Ft}function ao(be,Qe,we){const qe=Hi(be),Ft=be.value;Object.entries(qe).forEach(([pn,Vn])=>{ao(Vn,Ft.component?Qe?Qe.children.getContext(pn):null:Qe,we)}),we.canDeactivateChecks.push(new Tr(Ft.component&&Qe&&Qe.outlet&&Qe.outlet.isActivated?Qe.outlet.component:null,Ft))}function vo(be){return"function"==typeof be}function Qt(be){return be instanceof L.G||"EmptyError"===be?.name}const He=Symbol("INITIAL_VALUE");function j(){return(0,re.n)(be=>(0,d.z)(be.map(Qe=>Qe.pipe((0,Z.s)(1),(0,Re.Z)(He)))).pipe((0,X.T)(Qe=>{for(const we of Qe)if(!0!==we){if(we===He)return He;if(!1===we||pe(we))return we}return!0}),(0,oe.p)(Qe=>Qe!==He),(0,Z.s)(1)))}function pe(be){return Be(be)||be instanceof Cr}function _i(be){return(0,U.F)((0,ce.M)(Qe=>{if("boolean"!=typeof Qe)throw Fi(0,Qe)}),(0,X.T)(Qe=>!0===Qe))}class ot{constructor(Qe){this.segmentGroup=Qe||null}}class hn extends Error{constructor(Qe){super(),this.urlTree=Qe}}function Nt(be){return(0,O.$)(new ot(be))}class st{constructor(Qe,we){this.urlSerializer=Qe,this.urlTree=we}lineralizeSegments(Qe,we){let qe=[],Ft=we.root;for(;;){if(qe=qe.concat(Ft.segments),0===Ft.numberOfChildren)return(0,v.of)(qe);if(Ft.numberOfChildren>1||!Ft.children[Le])return(0,O.$)(new r.wOt(4e3,!1));Ft=Ft.children[Le]}}applyRedirectCommands(Qe,we,qe,Ft,pn){if("string"!=typeof we){const zr=we,{queryParams:Dr,fragment:uo,routeConfig:Uo,url:qo,outlet:Ks,params:na,data:Gs,title:Uc}=Ft,Ra=(0,r.N4e)(pn,()=>zr({params:na,data:Gs,queryParams:Dr,fragment:uo,routeConfig:Uo,url:qo,outlet:Ks,title:Uc}));if(Ra instanceof ct)throw new hn(Ra);we=Ra}const Vn=this.applyRedirectCreateUrlTree(we,this.urlSerializer.parse(we),Qe,qe);if("/"===we[0])throw new hn(Vn);return Vn}applyRedirectCreateUrlTree(Qe,we,qe,Ft){const pn=this.createSegmentGroup(Qe,we.root,qe,Ft);return new ct(pn,this.createQueryParams(we.queryParams,this.urlTree.queryParams),we.fragment)}createQueryParams(Qe,we){const qe={};return Object.entries(Qe).forEach(([Ft,pn])=>{if("string"==typeof pn&&":"===pn[0]){const zr=pn.substring(1);qe[Ft]=we[zr]}else qe[Ft]=pn}),qe}createSegmentGroup(Qe,we,qe,Ft){const pn=this.createSegments(Qe,we.segments,qe,Ft);let Vn={};return Object.entries(we.children).forEach(([zr,Dr])=>{Vn[zr]=this.createSegmentGroup(Qe,Dr,qe,Ft)}),new It(pn,Vn)}createSegments(Qe,we,qe,Ft){return we.map(pn=>":"===pn.path[0]?this.findPosParam(Qe,pn,Ft):this.findOrReturn(pn,qe))}findPosParam(Qe,we,qe){const Ft=qe[we.path.substring(1)];if(!Ft)throw new r.wOt(4001,!1);return Ft}findOrReturn(Qe,we){let qe=0;for(const Ft of we){if(Ft.path===Qe.path)return we.splice(qe),Ft;qe++}return Qe}}const Rt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jt(be,Qe,we,qe,Ft){const pn=gn(be,Qe,we);return pn.matched?(qe=function Oi(be,Qe){return be.providers&&!be._injector&&(be._injector=(0,r.Ol2)(be.providers,Qe,`Route: ${be.path}`)),be._injector??Qe}(Qe,qe),function Qr(be,Qe,we,qe){const Ft=Qe.canMatch;if(!Ft||0===Ft.length)return(0,v.of)(!0);const pn=Ft.map(Vn=>{const zr=jr(Vn,be);return ne(function tt(be){return be&&vo(be.canMatch)}(zr)?zr.canMatch(Qe,we):(0,r.N4e)(be,()=>zr(Qe,we)))});return(0,v.of)(pn).pipe(j(),_i())}(qe,Qe,we).pipe((0,X.T)(Vn=>!0===Vn?pn:{...Rt}))):(0,v.of)(pn)}function gn(be,Qe,we){if("**"===Qe.path)return function jn(be){return{matched:!0,parameters:be.length>0?ve(be).parameters:{},consumedSegments:be,remainingSegments:[],positionalParamSegments:{}}}(we);if(""===Qe.path)return"full"===Qe.pathMatch&&(be.hasChildren()||we.length>0)?{...Rt}:{matched:!0,consumedSegments:[],remainingSegments:we,parameters:{},positionalParamSegments:{}};const Ft=(Qe.matcher||Ee)(we,be,Qe);if(!Ft)return{...Rt};const pn={};Object.entries(Ft.posParams??{}).forEach(([zr,Dr])=>{pn[zr]=Dr.path});const Vn=Ft.consumed.length>0?{...pn,...Ft.consumed[Ft.consumed.length-1].parameters}:pn;return{matched:!0,consumedSegments:Ft.consumed,remainingSegments:we.slice(Ft.consumed.length),parameters:Vn,positionalParamSegments:Ft.posParams??{}}}function Qn(be,Qe,we,qe){return we.length>0&&function Or(be,Qe,we){return we.some(qe=>ii(be,Qe,qe)&&ps(qe)!==Le)}(be,we,qe)?{segmentGroup:new It(Qe,mr(qe,new It(we,be.children))),slicedSegments:[]}:0===we.length&&function xr(be,Qe,we){return we.some(qe=>ii(be,Qe,qe))}(be,we,qe)?{segmentGroup:new It(be.segments,yr(be,we,qe,be.children)),slicedSegments:we}:{segmentGroup:new It(be.segments,be.children),slicedSegments:we}}function yr(be,Qe,we,qe){const Ft={};for(const pn of we)if(ii(be,Qe,pn)&&!qe[ps(pn)]){const Vn=new It([],{});Ft[ps(pn)]=Vn}return{...qe,...Ft}}function mr(be,Qe){const we={};we[Le]=Qe;for(const qe of be)if(""===qe.path&&ps(qe)!==Le){const Ft=new It([],{});we[ps(qe)]=Ft}return we}function ii(be,Qe,we){return(!(be.hasChildren()||Qe.length>0)||"full"!==we.pathMatch)&&""===we.path}class an{}class rr{constructor(Qe,we,qe,Ft,pn,Vn,zr){this.injector=Qe,this.configLoader=we,this.rootComponentType=qe,this.config=Ft,this.urlTree=pn,this.paramsInheritanceStrategy=Vn,this.urlSerializer=zr,this.applyRedirects=new st(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Qe){return new r.wOt(4002,`'${Qe.segmentGroup}'`)}recognize(){const Qe=Qn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Qe).pipe((0,X.T)(({children:we,rootSnapshot:qe})=>{const Ft=new ni(qe,we),pn=new Ps("",Ft),Vn=function ht(be,Qe,we=null,qe=null){return on(zt(be),Qe,we,qe)}(qe,[],this.urlTree.queryParams,this.urlTree.fragment);return Vn.queryParams=this.urlTree.queryParams,pn.url=this.urlSerializer.serialize(Vn),{state:pn,tree:Vn}}))}match(Qe){const we=new rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Qe,Le,we).pipe((0,X.T)(qe=>({children:qe,rootSnapshot:we})),(0,$.W)(qe=>{if(qe instanceof hn)return this.urlTree=qe.urlTree,this.match(qe.urlTree.root);throw qe instanceof ot?this.noMatchError(qe):qe}))}processSegmentGroup(Qe,we,qe,Ft,pn){return 0===qe.segments.length&&qe.hasChildren()?this.processChildren(Qe,we,qe,pn):this.processSegment(Qe,we,qe,qe.segments,Ft,!0,pn).pipe((0,X.T)(Vn=>Vn instanceof ni?[Vn]:[]))}processChildren(Qe,we,qe,Ft){const pn=[];for(const Vn of Object.keys(qe.children))"primary"===Vn?pn.unshift(Vn):pn.push(Vn);return(0,u.H)(pn).pipe((0,R.H)(Vn=>{const zr=qe.children[Vn],Dr=function Xo(be,Qe){const we=be.filter(qe=>ps(qe)===Qe);return we.push(...be.filter(qe=>ps(qe)!==Qe)),we}(we,Vn);return this.processSegmentGroup(Qe,Dr,zr,Vn,Ft)}),function Ve(be,Qe){return(0,Fe.N)((0,je.S)(be,Qe,arguments.length>=2,!0))}((Vn,zr)=>(Vn.push(...zr),Vn)),(0,lt.U)(null),function ee(be,Qe){const we=arguments.length>=2;return qe=>qe.pipe(be?(0,oe.p)((Ft,pn)=>be(Ft,pn,qe)):G.D,St(1),we?(0,lt.U)(Qe):(0,Rn.v)(()=>new L.G))}(),(0,Ce.Z)(Vn=>{if(null===Vn)return Nt(qe);const zr=Li(Vn);return function Zr(be){be.sort((Qe,we)=>Qe.value.outlet===Le?-1:we.value.outlet===Le?1:Qe.value.outlet.localeCompare(we.value.outlet))}(zr),(0,v.of)(zr)}))}processSegment(Qe,we,qe,Ft,pn,Vn,zr){return(0,u.H)(we).pipe((0,R.H)(Dr=>this.processSegmentAgainstRoute(Dr._injector??Qe,we,Dr,qe,Ft,pn,Vn,zr).pipe((0,$.W)(uo=>{if(uo instanceof ot)return(0,v.of)(null);throw uo}))),(0,K.$)(Dr=>!!Dr),(0,$.W)(Dr=>{if(Qt(Dr))return function Vi(be,Qe,we){return 0===Qe.length&&!be.children[we]}(qe,Ft,pn)?(0,v.of)(new an):Nt(qe);throw Dr}))}processSegmentAgainstRoute(Qe,we,qe,Ft,pn,Vn,zr,Dr){return ps(qe)===Vn||Vn!==Le&&ii(Ft,pn,qe)?void 0===qe.redirectTo?this.matchSegmentAgainstRoute(Qe,Ft,qe,pn,Vn,Dr):this.allowRedirects&&zr?this.expandSegmentAgainstRouteUsingRedirect(Qe,Ft,we,qe,pn,Vn,Dr):Nt(Ft):Nt(Ft)}expandSegmentAgainstRouteUsingRedirect(Qe,we,qe,Ft,pn,Vn,zr){const{matched:Dr,parameters:uo,consumedSegments:Uo,positionalParamSegments:qo,remainingSegments:Ks}=gn(we,Ft,pn);if(!Dr)return Nt(we);"string"==typeof Ft.redirectTo&&"/"===Ft.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const na=new rs(pn,uo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ti(Ft),ps(Ft),Ft.component??Ft._loadedComponent??null,Ft,Ko(Ft)),Gs=es(na,zr,this.paramsInheritanceStrategy);na.params=Object.freeze(Gs.params),na.data=Object.freeze(Gs.data);const Uc=this.applyRedirects.applyRedirectCommands(Uo,Ft.redirectTo,qo,na,Qe);return this.applyRedirects.lineralizeSegments(Ft,Uc).pipe((0,Ce.Z)(Ra=>this.processSegment(Qe,qe,we,Ra.concat(Ks),Vn,!1,zr)))}matchSegmentAgainstRoute(Qe,we,qe,Ft,pn,Vn){const zr=Jt(we,qe,Ft,Qe);return"**"===qe.path&&(we.children={}),zr.pipe((0,re.n)(Dr=>Dr.matched?this.getChildConfig(Qe=qe._injector??Qe,qe,Ft).pipe((0,re.n)(({routes:uo})=>{const Uo=qe._loadedInjector??Qe,{parameters:qo,consumedSegments:Ks,remainingSegments:na}=Dr,Gs=new rs(Ks,qo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ti(qe),ps(qe),qe.component??qe._loadedComponent??null,qe,Ko(qe)),Uc=es(Gs,Vn,this.paramsInheritanceStrategy);Gs.params=Object.freeze(Uc.params),Gs.data=Object.freeze(Uc.data);const{segmentGroup:Ra,slicedSegments:Ia}=Qn(we,Ks,na,uo);if(0===Ia.length&&Ra.hasChildren())return this.processChildren(Uo,uo,Ra,Gs).pipe((0,X.T)(pc=>new ni(Gs,pc)));if(0===uo.length&&0===Ia.length)return(0,v.of)(new ni(Gs,[]));const ul=ps(qe)===pn;return this.processSegment(Uo,uo,Ra,Ia,ul?Le:pn,!0,Gs).pipe((0,X.T)(pc=>new ni(Gs,pc instanceof ni?[pc]:[])))})):Nt(we)))}getChildConfig(Qe,we,qe){return we.children?(0,v.of)({routes:we.children,injector:Qe}):we.loadChildren?void 0!==we._loadedRoutes?(0,v.of)({routes:we._loadedRoutes,injector:we._loadedInjector}):function to(be,Qe,we,qe){const Ft=Qe.canLoad;if(void 0===Ft||0===Ft.length)return(0,v.of)(!0);const pn=Ft.map(Vn=>{const zr=jr(Vn,be);return ne(function wo(be){return be&&vo(be.canLoad)}(zr)?zr.canLoad(Qe,we):(0,r.N4e)(be,()=>zr(Qe,we)))});return(0,v.of)(pn).pipe(j(),_i())}(Qe,we,qe).pipe((0,Ce.Z)(Ft=>Ft?this.configLoader.loadChildren(Qe,we).pipe((0,ce.M)(pn=>{we._loadedRoutes=pn.routes,we._loadedInjector=pn.injector})):function Oe(){return(0,O.$)(so(!1,Kn.GuardRejected))}())):(0,v.of)({routes:[],injector:Qe})}}function xi(be){const Qe=be.value.routeConfig;return Qe&&""===Qe.path}function Li(be){const Qe=[],we=new Set;for(const qe of be){if(!xi(qe)){Qe.push(qe);continue}const Ft=Qe.find(pn=>qe.value.routeConfig===pn.value.routeConfig);void 0!==Ft?(Ft.children.push(...qe.children),we.add(Ft)):Qe.push(qe)}for(const qe of we){const Ft=Li(qe.children);Qe.push(new ni(qe.value,Ft))}return Qe.filter(qe=>!we.has(qe))}function Ti(be){return be.data||{}}function Ko(be){return be.resolve||{}}function Ao(be){const Qe=be.children.map(we=>Ao(we)).flat();return[be,...Qe]}function jo(be){return(0,re.n)(Qe=>{const we=be(Qe);return we?(0,u.H)(we).pipe((0,X.T)(()=>Qe)):(0,v.of)(Qe)})}let Ea=(()=>{class be{buildTitle(we){let qe,Ft=we.root;for(;void 0!==Ft;)qe=this.getResolvedTitleForRoute(Ft)??qe,Ft=Ft.children.find(pn=>pn.outlet===Le);return qe}getResolvedTitleForRoute(we){return we.data[Ae]}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:()=>(0,r.WQX)(js),providedIn:"root"})}return be})(),js=(()=>{class be extends Ea{constructor(we){super(),this.title=we}updateTitle(we){const qe=this.buildTitle(we);void 0!==qe&&this.title.setTitle(qe)}static#e=this.\u0275fac=function(qe){return new(qe||be)(r.KVO(Dt.hE))};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const oa=new r.nKC("",{providedIn:"root",factory:()=>({})});let Sa=(()=>{class be{static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275cmp=r.VBU({type:be,selectors:[["ng-component"]],standalone:!0,features:[r.aNF],decls:1,vars:0,template:function(qe,Ft){1&qe&&r.nrm(0,"router-outlet")},dependencies:[Vo],encapsulation:2})}return be})();function Za(be){const Qe=be.children&&be.children.map(Za),we=Qe?{...be,children:Qe}:{...be};return!we.component&&!we.loadComponent&&(Qe||we.loadChildren)&&we.outlet&&we.outlet!==Le&&(we.component=Sa),we}const gc=new r.nKC("");let $a=(()=>{class be{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.WQX)(r.Ql9)}loadComponent(we){if(this.componentLoaders.get(we))return this.componentLoaders.get(we);if(we._loadedComponent)return(0,v.of)(we._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(we);const qe=ne(we.loadComponent()).pipe((0,X.T)(bo),(0,ce.M)(pn=>{this.onLoadEndListener&&this.onLoadEndListener(we),we._loadedComponent=pn}),(0,Ge.j)(()=>{this.componentLoaders.delete(we)})),Ft=new M.G(qe,()=>new A.B).pipe((0,Ze.B)());return this.componentLoaders.set(we,Ft),Ft}loadChildren(we,qe){if(this.childrenLoaders.get(qe))return this.childrenLoaders.get(qe);if(qe._loadedRoutes)return(0,v.of)({routes:qe._loadedRoutes,injector:qe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(qe);const pn=function Pa(be,Qe,we,qe){return ne(be.loadChildren()).pipe((0,X.T)(bo),(0,Ce.Z)(Ft=>Ft instanceof r.Co$||Array.isArray(Ft)?(0,v.of)(Ft):(0,u.H)(Qe.compileModuleAsync(Ft))),(0,X.T)(Ft=>{qe&&qe(be);let pn,Vn,zr=!1;return Array.isArray(Ft)?(Vn=Ft,!0):(pn=Ft.create(we).injector,Vn=pn.get(gc,[],{optional:!0,self:!0}).flat()),{routes:Vn.map(Za),injector:pn}}))}(qe,this.compiler,we,this.onLoadEndListener).pipe((0,Ge.j)(()=>{this.childrenLoaders.delete(qe)})),Vn=new M.G(pn,()=>new A.B).pipe((0,Ze.B)());return this.childrenLoaders.set(qe,Vn),Vn}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function bo(be){return function ro(be){return be&&"object"==typeof be&&"default"in be}(be)?be.default:be}let Bo=(()=>{class be{static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:()=>(0,r.WQX)(Fs),providedIn:"root"})}return be})(),Fs=(()=>{class be{shouldProcessUrl(we){return!0}extract(we){return we}merge(we,qe){return we}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const as=new r.nKC(""),sa=new r.nKC("");function Ds(be,Qe,we){const qe=be.get(sa),Ft=be.get(z.qQ);return be.get(r.SKi).runOutsideAngular(()=>{if(!Ft.startViewTransition||qe.skipNextTransition)return qe.skipNextTransition=!1,new Promise(uo=>setTimeout(uo));let pn;const Vn=new Promise(uo=>{pn=uo}),zr=Ft.startViewTransition(()=>(pn(),function ks(be){return new Promise(Qe=>{(0,r.mal)({read:()=>setTimeout(Qe)},{injector:be})})}(be))),{onViewTransitionCreated:Dr}=qe;return Dr&&(0,r.N4e)(be,()=>Dr({transition:zr,from:Qe,to:we})),Vn})}const ms=new r.nKC("");let _=(()=>{class be{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new A.B,this.transitionAbortSubject=new A.B,this.configLoader=(0,r.WQX)($a),this.environmentInjector=(0,r.WQX)(r.uvJ),this.urlSerializer=(0,r.WQX)(mt),this.rootContexts=(0,r.WQX)(Wn),this.location=(0,r.WQX)(z.aZ),this.inputBindingEnabled=null!==(0,r.WQX)(_s,{optional:!0}),this.titleStrategy=(0,r.WQX)(Ea),this.options=(0,r.WQX)(oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,r.WQX)(Bo),this.createViewTransition=(0,r.WQX)(as,{optional:!0}),this.navigationErrorHandler=(0,r.WQX)(ms,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,v.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ft=>this.events.next(new yo(Ft)),this.configLoader.onLoadStartListener=Ft=>this.events.next(new no(Ft))}complete(){this.transitions?.complete()}handleNavigationRequest(we){const qe=++this.navigationId;this.transitions?.next({...this.transitions.value,...we,id:qe})}setupNavigations(we,qe,Ft){return this.transitions=new x.t({id:0,currentUrlTree:qe,currentRawUrl:qe,extractedUrl:this.urlHandlingStrategy.extract(qe),urlAfterRedirects:this.urlHandlingStrategy.extract(qe),rawUrl:qe,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mt,restoredState:null,currentSnapshot:Ft.snapshot,targetSnapshot:null,currentRouterState:Ft,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,oe.p)(pn=>0!==pn.id),(0,X.T)(pn=>({...pn,extractedUrl:this.urlHandlingStrategy.extract(pn.rawUrl)})),(0,re.n)(pn=>{let Vn=!1,zr=!1;return(0,v.of)(pn).pipe((0,re.n)(Dr=>{if(this.navigationId>pn.id)return this.cancelNavigationTransition(pn,"",Kn.SupersededByNewNavigation),b.w;this.currentTransition=pn,this.currentNavigation={id:Dr.id,initialUrl:Dr.rawUrl,extractedUrl:Dr.extractedUrl,targetBrowserUrl:"string"==typeof Dr.extras.browserUrl?this.urlSerializer.parse(Dr.extras.browserUrl):Dr.extras.browserUrl,trigger:Dr.source,extras:Dr.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const uo=!we.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!uo&&"reload"!==(Dr.extras.onSameUrlNavigation??we.onSameUrlNavigation)){const qo="";return this.events.next(new Sr(Dr.id,this.urlSerializer.serialize(Dr.rawUrl),qo,sr.IgnoredSameUrlNavigation)),Dr.resolve(!1),b.w}if(this.urlHandlingStrategy.shouldProcessUrl(Dr.rawUrl))return(0,v.of)(Dr).pipe((0,re.n)(qo=>{const Ks=this.transitions?.getValue();return this.events.next(new Yt(qo.id,this.urlSerializer.serialize(qo.extractedUrl),qo.source,qo.restoredState)),Ks!==this.transitions?.getValue()?b.w:Promise.resolve(qo)}),function Ji(be,Qe,we,qe,Ft,pn){return(0,Ce.Z)(Vn=>function Ln(be,Qe,we,qe,Ft,pn,Vn="emptyOnly"){return new rr(be,Qe,we,qe,Ft,Vn,pn).recognize()}(be,Qe,we,qe,Vn.extractedUrl,Ft,pn).pipe((0,X.T)(({state:zr,tree:Dr})=>({...Vn,targetSnapshot:zr,urlAfterRedirects:Dr}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,we.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ce.M)(qo=>{pn.targetSnapshot=qo.targetSnapshot,pn.urlAfterRedirects=qo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qo.urlAfterRedirects};const Ks=new ri(qo.id,this.urlSerializer.serialize(qo.extractedUrl),this.urlSerializer.serialize(qo.urlAfterRedirects),qo.targetSnapshot);this.events.next(Ks)}));if(uo&&this.urlHandlingStrategy.shouldProcessUrl(Dr.currentRawUrl)){const{id:qo,extractedUrl:Ks,source:na,restoredState:Gs,extras:Uc}=Dr,Ra=new Yt(qo,this.urlSerializer.serialize(Ks),na,Gs);this.events.next(Ra);const Ia=Eo(this.rootComponentType).snapshot;return this.currentTransition=pn={...Dr,targetSnapshot:Ia,urlAfterRedirects:Ks,extras:{...Uc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ks,(0,v.of)(pn)}{const qo="";return this.events.next(new Sr(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),qo,sr.IgnoredByUrlHandlingStrategy)),Dr.resolve(!1),b.w}}),(0,ce.M)(Dr=>{const uo=new Ri(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(uo)}),(0,X.T)(Dr=>(this.currentTransition=pn={...Dr,guards:lr(Dr.targetSnapshot,Dr.currentSnapshot,this.rootContexts)},pn)),function k(be,Qe){return(0,Ce.Z)(we=>{const{targetSnapshot:qe,currentSnapshot:Ft,guards:{canActivateChecks:pn,canDeactivateChecks:Vn}}=we;return 0===Vn.length&&0===pn.length?(0,v.of)({...we,guardsResult:!0}):function le(be,Qe,we,qe){return(0,u.H)(be).pipe((0,Ce.Z)(Ft=>function Xi(be,Qe,we,qe,Ft){const pn=Qe&&Qe.routeConfig?Qe.routeConfig.canDeactivate:null;if(!pn||0===pn.length)return(0,v.of)(!0);const Vn=pn.map(zr=>{const Dr=Ns(Qe)??Ft,uo=jr(zr,Dr);return ne(function Qo(be){return be&&vo(be.canDeactivate)}(uo)?uo.canDeactivate(be,Qe,we,qe):(0,r.N4e)(Dr,()=>uo(be,Qe,we,qe))).pipe((0,K.$)())});return(0,v.of)(Vn).pipe(j())}(Ft.component,Ft.route,we,Qe,qe)),(0,K.$)(Ft=>!0!==Ft,!0))}(Vn,qe,Ft,be).pipe((0,Ce.Z)(zr=>zr&&function _o(be){return"boolean"==typeof be}(zr)?function q(be,Qe,we,qe){return(0,u.H)(Qe).pipe((0,R.H)(Ft=>(0,F.x)(function Ut(be,Qe){return null!==be&&Qe&&Qe(new Fo(be)),(0,v.of)(!0)}(Ft.route.parent,qe),function Je(be,Qe){return null!==be&&Qe&&Qe(new Se(be)),(0,v.of)(!0)}(Ft.route,qe),function gr(be,Qe,we){const qe=Qe[Qe.length-1],pn=Qe.slice(0,Qe.length-1).reverse().map(Vn=>function Br(be){const Qe=be.routeConfig?be.routeConfig.canActivateChild:null;return Qe&&0!==Qe.length?{node:be,guards:Qe}:null}(Vn)).filter(Vn=>null!==Vn).map(Vn=>(0,S.v)(()=>{const zr=Vn.guards.map(Dr=>{const uo=Ns(Vn.node)??we,Uo=jr(Dr,uo);return ne(function xo(be){return be&&vo(be.canActivateChild)}(Uo)?Uo.canActivateChild(qe,be):(0,r.N4e)(uo,()=>Uo(qe,be))).pipe((0,K.$)())});return(0,v.of)(zr).pipe(j())}));return(0,v.of)(pn).pipe(j())}(be,Ft.path,we),function Xn(be,Qe,we){const qe=Qe.routeConfig?Qe.routeConfig.canActivate:null;if(!qe||0===qe.length)return(0,v.of)(!0);const Ft=qe.map(pn=>(0,S.v)(()=>{const Vn=Ns(Qe)??we,zr=jr(pn,Vn);return ne(function Po(be){return be&&vo(be.canActivate)}(zr)?zr.canActivate(Qe,be):(0,r.N4e)(Vn,()=>zr(Qe,be))).pipe((0,K.$)())}));return(0,v.of)(Ft).pipe(j())}(be,Ft.route,we))),(0,K.$)(Ft=>!0!==Ft,!0))}(qe,pn,be,Qe):(0,v.of)(zr)),(0,X.T)(zr=>({...we,guardsResult:zr})))})}(this.environmentInjector,Dr=>this.events.next(Dr)),(0,ce.M)(Dr=>{if(pn.guardsResult=Dr.guardsResult,Dr.guardsResult&&"boolean"!=typeof Dr.guardsResult)throw Fi(0,Dr.guardsResult);const uo=new ji(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot,!!Dr.guardsResult);this.events.next(uo)}),(0,oe.p)(Dr=>!!Dr.guardsResult||(this.cancelNavigationTransition(Dr,"",Kn.GuardRejected),!1)),jo(Dr=>{if(Dr.guards.canActivateChecks.length)return(0,v.of)(Dr).pipe((0,ce.M)(uo=>{const Uo=new $i(uo.id,this.urlSerializer.serialize(uo.extractedUrl),this.urlSerializer.serialize(uo.urlAfterRedirects),uo.targetSnapshot);this.events.next(Uo)}),(0,re.n)(uo=>{let Uo=!1;return(0,v.of)(uo).pipe(function No(be,Qe){return(0,Ce.Z)(we=>{const{targetSnapshot:qe,guards:{canActivateChecks:Ft}}=we;if(!Ft.length)return(0,v.of)(we);const pn=new Set(Ft.map(Dr=>Dr.route)),Vn=new Set;for(const Dr of pn)if(!Vn.has(Dr))for(const uo of Ao(Dr))Vn.add(uo);let zr=0;return(0,u.H)(Vn).pipe((0,R.H)(Dr=>pn.has(Dr)?function ts(be,Qe,we,qe){const Ft=be.routeConfig,pn=be._resolve;return void 0!==Ft?.title&&!Es(Ft)&&(pn[Ae]=Ft.title),function Ms(be,Qe,we,qe){const Ft=J(be);if(0===Ft.length)return(0,v.of)({});const pn={};return(0,u.H)(Ft).pipe((0,Ce.Z)(Vn=>function Yo(be,Qe,we,qe){const Ft=Ns(Qe)??qe,pn=jr(be,Ft);return ne(pn.resolve?pn.resolve(Qe,we):(0,r.N4e)(Ft,()=>pn(Qe,we)))}(be[Vn],Qe,we,qe).pipe((0,K.$)(),(0,ce.M)(zr=>{if(zr instanceof Cr)throw Fi(new Vt,zr);pn[Vn]=zr}))),St(1),(0,De.u)(pn),(0,$.W)(Vn=>Qt(Vn)?b.w:(0,O.$)(Vn)))}(pn,be,Qe,qe).pipe((0,X.T)(Vn=>(be._resolvedData=Vn,be.data=es(be,be.parent,we).resolve,null)))}(Dr,qe,be,Qe):(Dr.data=es(Dr,Dr.parent,be).resolve,(0,v.of)(void 0))),(0,ce.M)(()=>zr++),St(1),(0,Ce.Z)(Dr=>zr===Vn.size?(0,v.of)(we):b.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ce.M)({next:()=>Uo=!0,complete:()=>{Uo||this.cancelNavigationTransition(uo,"",Kn.NoDataFromResolver)}}))}),(0,ce.M)(uo=>{const Uo=new Yi(uo.id,this.urlSerializer.serialize(uo.extractedUrl),this.urlSerializer.serialize(uo.urlAfterRedirects),uo.targetSnapshot);this.events.next(Uo)}))}),jo(Dr=>{const uo=Uo=>{const qo=[];Uo.routeConfig?.loadComponent&&!Uo.routeConfig._loadedComponent&&qo.push(this.configLoader.loadComponent(Uo.routeConfig).pipe((0,ce.M)(Ks=>{Uo.component=Ks}),(0,X.T)(()=>{})));for(const Ks of Uo.children)qo.push(...uo(Ks));return qo};return(0,d.z)(uo(Dr.targetSnapshot.root)).pipe((0,lt.U)(null),(0,Z.s)(1))}),jo(()=>this.afterPreactivation()),(0,re.n)(()=>{const{currentSnapshot:Dr,targetSnapshot:uo}=pn,Uo=this.createViewTransition?.(this.environmentInjector,Dr.root,uo.root);return Uo?(0,u.H)(Uo).pipe((0,X.T)(()=>pn)):(0,v.of)(pn)}),(0,X.T)(Dr=>{const uo=function us(be,Qe,we){const qe=Gn(be,Qe._root,we?we._root:void 0);return new oo(qe,Qe)}(we.routeReuseStrategy,Dr.targetSnapshot,Dr.currentRouterState);return this.currentTransition=pn={...Dr,targetRouterState:uo},this.currentNavigation.targetRouterState=uo,pn}),(0,ce.M)(()=>{this.events.next(new Sn)}),((be,Qe,we,qe)=>(0,X.T)(Ft=>(new _n(Qe,Ft.targetRouterState,Ft.currentRouterState,we,qe).activate(be),Ft)))(this.rootContexts,we.routeReuseStrategy,Dr=>this.events.next(Dr),this.inputBindingEnabled),(0,Z.s)(1),(0,ce.M)({next:Dr=>{Vn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new An(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects))),this.titleStrategy?.updateTitle(Dr.targetRouterState.snapshot),Dr.resolve(!0)},complete:()=>{Vn=!0}}),(0,ut.Q)(this.transitionAbortSubject.pipe((0,ce.M)(Dr=>{throw Dr}))),(0,Ge.j)(()=>{!Vn&&!zr&&this.cancelNavigationTransition(pn,"",Kn.SupersededByNewNavigation),this.currentTransition?.id===pn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,$.W)(Dr=>{if(zr=!0,eo(Dr))this.events.next(new Pr(pn.id,this.urlSerializer.serialize(pn.extractedUrl),Dr.message,Dr.cancellationCode)),function Co(be){return eo(be)&&Be(be.url)}(Dr)?this.events.next(new ir(Dr.url,Dr.navigationBehaviorOptions)):pn.resolve(!1);else{const uo=new Ur(pn.id,this.urlSerializer.serialize(pn.extractedUrl),Dr,pn.targetSnapshot??void 0);try{const Uo=(0,r.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(uo));if(Uo instanceof Cr){const{message:qo,cancellationCode:Ks}=Fi(0,Uo);this.events.next(new Pr(pn.id,this.urlSerializer.serialize(pn.extractedUrl),qo,Ks)),this.events.next(new ir(Uo.redirectTo,Uo.navigationBehaviorOptions))}else{this.events.next(uo);const qo=we.errorHandler(Dr);pn.resolve(!!qo)}}catch(Uo){this.options.resolveNavigationPromiseOnError?pn.resolve(!1):pn.reject(Uo)}}return b.w}))}))}cancelNavigationTransition(we,qe,Ft){const pn=new Pr(we.id,this.urlSerializer.serialize(we.extractedUrl),qe,Ft);this.events.next(pn),we.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const we=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),qe=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return we.toString()!==qe?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Q(be){return be!==Mt}let P=(()=>{class be{static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:()=>(0,r.WQX)(nt),providedIn:"root"})}return be})();class ae{shouldDetach(Qe){return!1}store(Qe,we){}shouldAttach(Qe){return!1}retrieve(Qe){return null}shouldReuseRoute(Qe,we){return Qe.routeConfig===we.routeConfig}}let nt=(()=>{class be extends ae{static#e=this.\u0275fac=(()=>{let we;return function(Ft){return(we||(we=r.xGo(be)))(Ft||be)}})();static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),Pt=(()=>{class be{static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:()=>(0,r.WQX)(sn),providedIn:"root"})}return be})(),sn=(()=>{class be extends Pt{constructor(){super(...arguments),this.location=(0,r.WQX)(z.aZ),this.urlSerializer=(0,r.WQX)(mt),this.options=(0,r.WQX)(oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,r.WQX)(Bo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ct,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Eo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(we){return this.location.subscribe(qe=>{"popstate"===qe.type&&we(qe.url,qe.state)})}handleRouterEvent(we,qe){if(we instanceof Yt)this.stateMemento=this.createStateMemento();else if(we instanceof Sr)this.rawUrlTree=qe.initialUrl;else if(we instanceof ri){if("eager"===this.urlUpdateStrategy&&!qe.extras.skipLocationChange){const Ft=this.urlHandlingStrategy.merge(qe.finalUrl,qe.initialUrl);this.setBrowserUrl(qe.targetBrowserUrl??Ft,qe)}}else we instanceof Sn?(this.currentUrlTree=qe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(qe.finalUrl,qe.initialUrl),this.routerState=qe.targetRouterState,"deferred"===this.urlUpdateStrategy&&!qe.extras.skipLocationChange&&this.setBrowserUrl(qe.targetBrowserUrl??this.rawUrlTree,qe)):we instanceof Pr&&(we.code===Kn.GuardRejected||we.code===Kn.NoDataFromResolver)?this.restoreHistory(qe):we instanceof Ur?this.restoreHistory(qe,!0):we instanceof An&&(this.lastSuccessfulId=we.id,this.currentPageId=this.browserPageId)}setBrowserUrl(we,qe){const Ft=we instanceof ct?this.urlSerializer.serialize(we):we;if(this.location.isCurrentPathEqualTo(Ft)||qe.extras.replaceUrl){const Vn={...qe.extras.state,...this.generateNgRouterState(qe.id,this.browserPageId)};this.location.replaceState(Ft,"",Vn)}else{const pn={...qe.extras.state,...this.generateNgRouterState(qe.id,this.browserPageId+1)};this.location.go(Ft,"",pn)}}restoreHistory(we,qe=!1){if("computed"===this.canceledNavigationResolution){const pn=this.currentPageId-this.browserPageId;0!==pn?this.location.historyGo(pn):this.currentUrlTree===we.finalUrl&&0===pn&&(this.resetState(we),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(qe&&this.resetState(we),this.resetUrlToCurrentUrlTree())}resetState(we){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,we.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(we,qe){return"computed"===this.canceledNavigationResolution?{navigationId:we,\u0275routerPageId:qe}:{navigationId:we}}static#e=this.\u0275fac=(()=>{let we;return function(Ft){return(we||(we=r.xGo(be)))(Ft||be)}})();static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var cr=function(be){return be[be.COMPLETE=0]="COMPLETE",be[be.FAILED=1]="FAILED",be[be.REDIRECTING=2]="REDIRECTING",be}(cr||{});function Xr(be,Qe){be.events.pipe((0,oe.p)(we=>we instanceof An||we instanceof Pr||we instanceof Ur||we instanceof Sr),(0,X.T)(we=>we instanceof An||we instanceof Sr?cr.COMPLETE:we instanceof Pr&&(we.code===Kn.Redirect||we.code===Kn.SupersededByNewNavigation)?cr.REDIRECTING:cr.FAILED),(0,oe.p)(we=>we!==cr.REDIRECTING),(0,Z.s)(1)).subscribe(()=>{Qe()})}function oi(be){throw be}const gi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class be{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,r.WQX)(r.H3F),this.stateManager=(0,r.WQX)(Pt),this.options=(0,r.WQX)(oa,{optional:!0})||{},this.pendingTasks=(0,r.WQX)(r.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,r.WQX)(_),this.urlSerializer=(0,r.WQX)(mt),this.location=(0,r.WQX)(z.aZ),this.urlHandlingStrategy=(0,r.WQX)(Bo),this._events=new A.B,this.errorHandler=this.options.errorHandler||oi,this.navigated=!1,this.routeReuseStrategy=(0,r.WQX)(P),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,r.WQX)(gc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,r.WQX)(_s,{optional:!0}),this.eventsSubscription=new ue.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:we=>{this.console.warn(we)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const we=this.navigationTransitions.events.subscribe(qe=>{try{const Ft=this.navigationTransitions.currentTransition,pn=this.navigationTransitions.currentNavigation;if(null!==Ft&&null!==pn)if(this.stateManager.handleRouterEvent(qe,pn),qe instanceof Pr&&qe.code!==Kn.Redirect&&qe.code!==Kn.SupersededByNewNavigation)this.navigated=!0;else if(qe instanceof An)this.navigated=!0;else if(qe instanceof ir){const Vn=qe.navigationBehaviorOptions,zr=this.urlHandlingStrategy.merge(qe.url,Ft.currentRawUrl),Dr={browserUrl:Ft.extras.browserUrl,info:Ft.extras.info,skipLocationChange:Ft.extras.skipLocationChange,replaceUrl:Ft.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Q(Ft.source),...Vn};this.scheduleNavigation(zr,Mt,null,Dr,{resolve:Ft.resolve,reject:Ft.reject,promise:Ft.promise})}(function si(be){return!(be instanceof Sn||be instanceof ir)})(qe)&&this._events.next(qe)}catch(Ft){this.navigationTransitions.transitionAbortSubject.next(Ft)}});this.eventsSubscription.add(we)}resetRootComponentType(we){this.routerState.root.component=we,this.navigationTransitions.rootComponentType=we}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((we,qe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(we,"popstate",qe)},0)})}navigateToSyncWithBrowser(we,qe,Ft){const pn={replaceUrl:!0},Vn=Ft?.navigationId?Ft:null;if(Ft){const Dr={...Ft};delete Dr.navigationId,delete Dr.\u0275routerPageId,0!==Object.keys(Dr).length&&(pn.state=Dr)}const zr=this.parseUrl(we);this.scheduleNavigation(zr,qe,Vn,pn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(we){this.config=we.map(Za),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(we,qe={}){const{relativeTo:Ft,queryParams:pn,fragment:Vn,queryParamsHandling:zr,preserveFragment:Dr}=qe,uo=Dr?this.currentUrlTree.fragment:Vn;let qo,Uo=null;switch(zr??this.options.defaultQueryParamsHandling){case"merge":Uo={...this.currentUrlTree.queryParams,...pn};break;case"preserve":Uo=this.currentUrlTree.queryParams;break;default:Uo=pn||null}null!==Uo&&(Uo=this.removeEmptyProps(Uo));try{qo=zt(Ft?Ft.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof we[0]||"/"!==we[0][0])&&(we=[]),qo=this.currentUrlTree.root}return on(qo,we,Uo,uo??null)}navigateByUrl(we,qe={skipLocationChange:!1}){const Ft=Be(we)?we:this.parseUrl(we),pn=this.urlHandlingStrategy.merge(Ft,this.rawUrlTree);return this.scheduleNavigation(pn,Mt,null,qe)}navigate(we,qe={skipLocationChange:!1}){return function ki(be){for(let Qe=0;Qe<be.length;Qe++)if(null==be[Qe])throw new r.wOt(4008,!1)}(we),this.navigateByUrl(this.createUrlTree(we,qe),qe)}serializeUrl(we){return this.urlSerializer.serialize(we)}parseUrl(we){try{return this.urlSerializer.parse(we)}catch{return this.urlSerializer.parse("/")}}isActive(we,qe){let Ft;if(Ft=!0===qe?{...gi}:!1===qe?{...qr}:qe,Be(we))return B(this.currentUrlTree,we,Ft);const pn=this.parseUrl(we);return B(this.currentUrlTree,pn,Ft)}removeEmptyProps(we){return Object.entries(we).reduce((qe,[Ft,pn])=>(null!=pn&&(qe[Ft]=pn),qe),{})}scheduleNavigation(we,qe,Ft,pn,Vn){if(this.disposed)return Promise.resolve(!1);let zr,Dr,uo;Vn?(zr=Vn.resolve,Dr=Vn.reject,uo=Vn.promise):uo=new Promise((qo,Ks)=>{zr=qo,Dr=Ks});const Uo=this.pendingTasks.add();return Xr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Uo))}),this.navigationTransitions.handleNavigationRequest({source:qe,restoredState:Ft,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:we,extras:pn,resolve:zr,reject:Dr,promise:uo,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),uo.catch(qo=>Promise.reject(qo))}static#e=this.\u0275fac=function(qe){return new(qe||be)};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),fo=(()=>{class be{constructor(we,qe,Ft,pn,Vn,zr){this.router=we,this.route=qe,this.tabIndexAttribute=Ft,this.renderer=pn,this.el=Vn,this.locationStrategy=zr,this.href=null,this.onChanges=new A.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Dr=Vn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Dr||"area"===Dr,this.isAnchorElement?this.subscription=we.events.subscribe(uo=>{uo instanceof An&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(we){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",we)}ngOnChanges(we){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(we){null==we?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Be(we)||Array.isArray(we)?we:[we],this.setTabIndexIfNotOnNativeEl("0"))}onClick(we,qe,Ft,pn,Vn){const zr=this.urlTree;return!!(null===zr||this.isAnchorElement&&(0!==we||qe||Ft||pn||Vn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(zr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const we=this.urlTree;this.href=null!==we&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(we)):null;const qe=null===this.href?null:(0,r.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",qe)}applyAttributeValue(we,qe){const Ft=this.renderer,pn=this.el.nativeElement;null!==qe?Ft.setAttribute(pn,we,qe):Ft.removeAttribute(pn,we)}get urlTree(){return null===this.routerLinkInput?null:Be(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(qe){return new(qe||be)(r.rXU(vi),r.rXU(os),r.kS0("tabindex"),r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(z.hb))};static#t=this.\u0275dir=r.FsC({type:be,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(qe,Ft){1&qe&&r.bIt("click",function(Vn){return Ft.onClick(Vn.button,Vn.ctrlKey,Vn.shiftKey,Vn.altKey,Vn.metaKey)}),2&qe&&r.BMQ("target",Ft.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",r.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",r.L39],replaceUrl:[2,"replaceUrl","replaceUrl",r.L39],routerLink:"routerLink"},standalone:!0,features:[r.GFd,r.OA$]})}return be})();class As{}let hs=(()=>{class be{constructor(we,qe,Ft,pn,Vn){this.router=we,this.injector=Ft,this.preloadingStrategy=pn,this.loader=Vn}setUpPreloading(){this.subscription=this.router.events.pipe((0,oe.p)(we=>we instanceof An),(0,R.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(we,qe){const Ft=[];for(const pn of qe){pn.providers&&!pn._injector&&(pn._injector=(0,r.Ol2)(pn.providers,we,`Route: ${pn.path}`));const Vn=pn._injector??we,zr=pn._loadedInjector??Vn;(pn.loadChildren&&!pn._loadedRoutes&&void 0===pn.canLoad||pn.loadComponent&&!pn._loadedComponent)&&Ft.push(this.preloadConfig(Vn,pn)),(pn.children||pn._loadedRoutes)&&Ft.push(this.processRoutes(zr,pn.children??pn._loadedRoutes))}return(0,u.H)(Ft).pipe((0,bt.U)())}preloadConfig(we,qe){return this.preloadingStrategy.preload(qe,()=>{let Ft;Ft=qe.loadChildren&&void 0===qe.canLoad?this.loader.loadChildren(we,qe):(0,v.of)(null);const pn=Ft.pipe((0,Ce.Z)(Vn=>null===Vn?(0,v.of)(void 0):(qe._loadedRoutes=Vn.routes,qe._loadedInjector=Vn.injector,this.processRoutes(Vn.injector??we,Vn.routes))));if(qe.loadComponent&&!qe._loadedComponent){const Vn=this.loader.loadComponent(qe);return(0,u.H)([pn,Vn]).pipe((0,bt.U)())}return pn})}static#e=this.\u0275fac=function(qe){return new(qe||be)(r.KVO(vi),r.KVO(r.Ql9),r.KVO(r.uvJ),r.KVO(As),r.KVO($a))};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const Bs=new r.nKC("");let ya=(()=>{class be{constructor(we,qe,Ft,pn,Vn={}){this.urlSerializer=we,this.transitions=qe,this.viewportScroller=Ft,this.zone=pn,this.options=Vn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Vn.scrollPositionRestoration||="disabled",Vn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(we=>{we instanceof Yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=we.navigationTrigger,this.restoredId=we.restoredState?we.restoredState.navigationId:0):we instanceof An?(this.lastId=we.id,this.scheduleScrollEvent(we,this.urlSerializer.parse(we.urlAfterRedirects).fragment)):we instanceof Sr&&we.code===sr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(we,this.urlSerializer.parse(we.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(we=>{we instanceof en&&(we.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(we.position):we.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(we.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(we,qe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new en(we,"popstate"===this.lastSource?this.store[this.restoredId]:null,qe))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(qe){r.QTQ()};static#t=this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac})}return be})();function uc(be,Qe){return{\u0275kind:be,\u0275providers:Qe}}function ka(){const be=(0,r.WQX)(r.zZn);return Qe=>{const we=be.get(r.o8S);if(Qe!==we.components[0])return;const qe=be.get(vi),Ft=be.get(Bc);1===be.get(yn)&&qe.initialNavigation(),be.get(zi,null,r.$GK.Optional)?.setUpPreloading(),be.get(Bs,null,r.$GK.Optional)?.init(),qe.resetRootComponentType(we.componentTypes[0]),Ft.closed||(Ft.next(),Ft.complete(),Ft.unsubscribe())}}const Bc=new r.nKC("",{factory:()=>new A.B}),yn=new r.nKC("",{providedIn:"root",factory:()=>1}),zi=new r.nKC("");function Jl(be){return uc(0,[{provide:zi,useExisting:hs},{provide:As,useExisting:be}])}function ma(be){return uc(9,[{provide:as,useValue:Ds},{provide:sa,useValue:{skipNextTransition:!!be?.skipInitialTransition,...be}}])}const Zo=new r.nKC("ROUTER_FORROOT_GUARD"),Ma=[z.aZ,{provide:mt,useClass:Vt},vi,Wn,{provide:os,useFactory:function ll(be){return be.routerState.root},deps:[vi]},$a,[]];let tc=(()=>{class be{constructor(we){}static forRoot(we,qe){return{ngModule:be,providers:[Ma,[],{provide:gc,multi:!0,useValue:we},{provide:Zo,useFactory:nc,deps:[[vi,new r.Xx1,new r.kdw]]},{provide:oa,useValue:qe||{}},qe?.useHash?{provide:z.hb,useClass:z.fw}:{provide:z.hb,useClass:z.Sm},{provide:Bs,useFactory:()=>{const be=(0,r.WQX)(z.Xr),Qe=(0,r.WQX)(r.SKi),we=(0,r.WQX)(oa),qe=(0,r.WQX)(_),Ft=(0,r.WQX)(mt);return we.scrollOffset&&be.setOffset(we.scrollOffset),new ya(Ft,qe,be,Qe,we)}},qe?.preloadingStrategy?Jl(qe.preloadingStrategy).\u0275providers:[],qe?.initialNavigation?rc(qe):[],qe?.bindToComponentInputs?uc(8,[ea,{provide:_s,useExisting:ea}]).\u0275providers:[],qe?.enableViewTransitions?ma().\u0275providers:[],[{provide:Dc,useFactory:ka},{provide:r.iLQ,multi:!0,useExisting:Dc}]]}}static forChild(we){return{ngModule:be,providers:[{provide:gc,multi:!0,useValue:we}]}}static#e=this.\u0275fac=function(qe){return new(qe||be)(r.KVO(Zo,8))};static#t=this.\u0275mod=r.$C({type:be});static#n=this.\u0275inj=r.G2t({})}return be})();function nc(be){return"guarded"}function rc(be){return["disabled"===be.initialNavigation?uc(3,[{provide:r.hnV,multi:!0,useFactory:()=>{const Qe=(0,r.WQX)(vi);return()=>{Qe.setUpLocationChangeListener()}}},{provide:yn,useValue:2}]).\u0275providers:[],"enabledBlocking"===be.initialNavigation?uc(2,[{provide:yn,useValue:0},{provide:r.hnV,multi:!0,deps:[r.zZn],useFactory:Qe=>{const we=Qe.get(z.hj,Promise.resolve());return()=>we.then(()=>new Promise(qe=>{const Ft=Qe.get(vi),pn=Qe.get(Bc);Xr(Ft,()=>{qe(!0)}),Qe.get(_).afterPreactivation=()=>(qe(!0),pn.closed?(0,v.of)(void 0):pn),Ft.initialNavigation()}))}}]).\u0275providers:[]]}const Dc=new r.nKC("")},92014:(ln,ye,w)=>{"use strict";w.d(ye,{rc:()=>Wt,En:()=>Ar,rK:()=>eo,l6:()=>ui,MD:()=>Po,Um:()=>_o,Uw:()=>mn,il:()=>Oo,Mz:()=>wo,rM:()=>Wn,xi:()=>Xo,Lt:()=>gr});var r=w(54438),y=w(85052),u=w(14264),v=w(2573),x=w(20075),d=w(8502),L=w(15877),F=w(46104),S=w(45326),U=w(2515),O=w(11756),b=w(36110),M=w(47369),A=w(28577),ue=w(21472),z=w(28454),X=w(37925),re=w(15152),Z=w(49784),Re=w(21082),oe=w(17365),Ce=w(60391),K=w(29160),R=w(89079);const ce="NGXS_META",$="NGXS_OPTIONS_META",Fe="NGXS_SELECTOR_META";function je(ot){if(!ot.hasOwnProperty(ce)){const hn={name:null,actions:{},defaults:{},path:null,makeRootSelector:Nt=>Nt.getStateGetter(hn.name),children:[]};Object.defineProperty(ot,ce,{value:hn})}return Ve(ot)}function Ve(ot){return ot[ce]}function pt(ot){return ot[Fe]}function Rn(ot,hn=Object.is){let Nt=null,N=null;function V(){return function St(ot,hn,Nt){if(null===hn||null===Nt||hn.length!==Nt.length)return!1;const N=hn.length;for(let V=0;V<N;V++)if(!ot(hn[V],Nt[V]))return!1;return!0}(hn,Nt,arguments)||(N=ot.apply(null,arguments)),Nt=arguments,N}return V.reset=function(){Nt=null,N=null},V}let De=(()=>{class ot{static#e=this._value={};static set(Nt){this._value=Nt}static pop(){const Nt=this._value;return this._value={},Nt}}return ot})();const Ge=new r.nKC("",{providedIn:"root",factory:()=>De.pop()});let Ze=(()=>{class ot extends Ce.m{constructor(){super(1)}bootstrap(){this.next(!0),this.complete()}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function Le(ot){const hn=[];let Nt=!1;return function(...V){if(Nt)hn.unshift(V);else{for(Nt=!0,ot(...V);hn.length>0;){const Oe=hn.pop();Oe&&ot(...Oe)}Nt=!1}}}class Ae extends y.B{constructor(){super(...arguments),this._orderedNext=Le(hn=>super.next(hn))}next(hn){this._orderedNext(hn)}}class se extends K.t{constructor(hn){super(hn),this._orderedNext=Le(Nt=>super.next(Nt)),this._currentValue=hn}getValue(){return this._currentValue}next(hn){this._currentValue=hn,this._orderedNext(hn)}}function Me(ot){return hn=>new v.c(Nt=>hn.subscribe({next(N){ot(()=>Nt.next(N))},error(N){ot(()=>Nt.error(N))},complete(){ot(()=>Nt.complete())}}))}let Ee=(()=>{class ot extends se{constructor(){super({}),this.state=(0,R.ot)(this.pipe(Me(r.O8t)),{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();var C=w(60177),T=w(81954),J=w(15210),W=w(66196);function ve(ot,hn){return hn?Nt=>Nt.pipe(ve((N,V)=>(0,T.Tg)(ot(N,V)).pipe((0,b.T)((Oe,st)=>hn(N,Oe,V,st))))):(0,J.N)((Nt,N)=>{let V=0,Oe=null,st=!1;Nt.subscribe((0,W._)(N,Rt=>{Oe||(Oe=(0,W._)(N,void 0,()=>{Oe=null,st&&N.complete()}),(0,T.Tg)(ot(Rt,V++)).subscribe(Oe))},()=>{st=!0,!Oe&&N.complete()}))})}var ne=w(39705),p=w(35160),H=w(1670);let B=(()=>{class ot{static#e=this.type="@@INIT"}return ot})(),Ie=(()=>{class ot{static#e=this.type="@@UPDATE_STATE";constructor(Nt){this.addedStates=Nt}}return ot})();const ft=new r.nKC("");function kt(ot){return ot.constructor?.type||ot.type}const Ye=(ot,hn,Nt)=>{ot={...ot};const N=hn.split("."),V=N.length-1;return N.reduce((Oe,st,Rt)=>(Oe[st]=Rt===V?Nt:Array.isArray(Oe[st])?Oe[st].slice():{...Oe[st]},Oe&&Oe[st]),ot),ot},ct=(ot,hn)=>hn.split(".").reduce((Nt,N)=>Nt&&Nt[N],ot);let kn=(()=>{class ot{enter(Nt){return Nt()}leave(Nt){return Nt()}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),bn=(()=>{class ot{constructor(Nt,N){this._ngZone=Nt,this._platformId=N}enter(Nt){return(0,C.Vy)(this._platformId)?this.runInsideAngular(Nt):this.runOutsideAngular(Nt)}leave(Nt){return this.runInsideAngular(Nt)}runInsideAngular(Nt){return r.SKi.isInAngularZone()?Nt():this._ngZone.run(Nt)}runOutsideAngular(Nt){return r.SKi.isInAngularZone()?this._ngZone.runOutsideAngular(Nt):Nt()}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(r.SKi),r.KVO(r.Agw))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const he=new r.nKC(""),Be=new r.nKC("",{providedIn:"root",factory:()=>{const ot=(0,r.WQX)(r.SKi),hn=(0,r.WQX)(r.duS),Nt=hn.get(he);return hn.get(Nt||(ot instanceof r.SKi?bn:kn))}});let ht=(()=>{class ot{constructor(Nt){this._executionStrategy=Nt}enter(Nt){return this._executionStrategy.enter(Nt)}leave(Nt){return this._executionStrategy.leave(Nt)}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Be))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const zt=ot=>(...hn)=>ot.shift()(...hn,(...N)=>zt(ot)(...N));function on(ot){return Me(hn=>ot.leave(hn))}let Hn=(()=>{class ot extends Ae{constructor(){super(),this.dispatched$=new y.B,this.pipe((0,u.p)(Nt=>"DISPATCHED"===Nt.status)).subscribe(Nt=>{this.dispatched$.next(Nt)})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Ar=(()=>{class ot extends v.c{constructor(Nt,N){const V=Nt.pipe(on(N),(0,x.u)());super(Oe=>{const st=V.subscribe({next:Rt=>Oe.next(Rt),error:Rt=>Oe.error(Rt),complete:()=>Oe.complete()});Oe.add(st)})}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Hn),r.KVO(ht))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Ir=(()=>{class ot{constructor(){this.plugins=[],this._parentManager=(0,r.WQX)(ot,{optional:!0,skipSelf:!0}),this._pluginHandlers=(0,r.WQX)(ft,{optional:!0}),this.registerHandlers()}get _rootPlugins(){return this._parentManager?.plugins||this.plugins}registerHandlers(){const Nt=this.getPluginHandlers();this._rootPlugins.push(...Nt)}getPluginHandlers(){return(this._pluginHandlers||[]).map(N=>N.handle?N.handle.bind(N):N)}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac})}return ot})();const ti=new WeakMap,Yr=d.$.onUnhandledError;d.$.onUnhandledError=function(ot){const hn=ti.get(ot);if(hn)hn();else{if(!Yr)throw ot;Yr.call(this,ot)}};let ur=(()=>{class ot extends y.B{static#e=this.\u0275fac=(()=>{let Nt;return function(V){return(Nt||(Nt=r.xGo(ot)))(V||ot)}})();static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Ei=(()=>{class ot{constructor(Nt,N,V,Oe,st,Rt){this._ngZone=Nt,this._actions=N,this._actionResults=V,this._pluginManager=Oe,this._stateStream=st,this._ngxsExecutionStrategy=Rt}dispatch(Nt){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(Nt)).pipe(function er(ot){return hn=>{let Nt=hn.subscribe({error:N=>{ot.runOutsideAngular(()=>{queueMicrotask(()=>{Nt&&function Ki(ot){const hn=ti.get(ot);hn&&hn()}(N)})})}});return new v.c(N=>(Nt?.unsubscribe(),Nt=null,hn.subscribe(N)))}}(this._ngZone),on(this._ngxsExecutionStrategy))}dispatchByEvents(Nt){return Array.isArray(Nt)?0===Nt.length?(0,L.of)(void 0):(0,F.p)(Nt.map(N=>this.dispatchSingle(N))).pipe((0,b.T)(()=>{})):this.dispatchSingle(Nt)}dispatchSingle(Nt){const N=this._stateStream.getValue();return zt([...this._pluginManager.plugins,(Oe,st)=>{Oe!==N&&this._stateStream.next(Oe);const Rt=this.getActionResultStream(st);return Rt.subscribe(Jt=>this._actions.next(Jt)),this._actions.next({action:st,status:"DISPATCHED"}),this.createDispatchObservable(Rt)}])(N,Nt).pipe((0,Z.t)())}getActionResultStream(Nt){return this._actionResults.pipe((0,u.p)(N=>N.action===Nt&&"DISPATCHED"!==N.status),(0,oe.s)(1),(0,Z.t)())}createDispatchObservable(Nt){return Nt.pipe(ve(N=>{switch(N.status){case"SUCCESSFUL":return(0,L.of)(this._stateStream.getValue());case"ERRORED":return(0,S.$)(()=>N.error);default:return U.w}})).pipe((0,Z.t)())}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(r.SKi),r.KVO(Hn),r.KVO(ur),r.KVO(Ir),r.KVO(Ee),r.KVO(ht))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const rn=new r.nKC(""),En=new r.nKC(""),ar=new r.nKC("");let Er=(()=>{class ot{constructor(){this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=bn,this.selectorOptions={injectContainerState:!1,suppressErrors:!1}}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:()=>(()=>{const Nt=new ot,N=(0,r.WQX)(ar);return{...Nt,...N,selectorOptions:{...Nt.selectorOptions,...N.selectorOptions}}})(),providedIn:"root"})}return ot})();class Hr{constructor(hn,Nt,N){this.previousValue=hn,this.currentValue=Nt,this.firstChange=N}}let Mt=(()=>{class ot{constructor(Nt,N,V){this._stateStream=Nt,this._dispatcher=N,this._config=V}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:N=>this._stateStream.next(N),dispatch:N=>this._dispatcher.dispatch(N)}}setStateToTheCurrentWithNew(Nt){const N=this.getRootStateOperations(),V=N.getState();N.setState({...V,...Nt.defaults})}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Ee),r.KVO(Ei),r.KVO(Er))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const ze=!1;function Pr(ot){const hn=pt(ot)||Ve(ot);return hn&&hn.makeRootSelector||(()=>ot)}function Ur(ot){return hn=>{for(let Nt=0;Nt<ot.length;Nt++){if(!hn)return;hn=hn[ot[Nt]]}return hn}}function ri(ot){const hn=ot;let Nt="store."+hn[0],N=0;const V=hn.length;let Oe=Nt;for(;++N<V;)Oe=Oe+" && "+(Nt=Nt+"."+hn[N]);return new Function("store","return "+Oe+";")}const ji=new r.nKC("",{providedIn:"root",factory:()=>(0,r.WQX)(Er).compatibility?.strictContentSecurityPolicy?Ur:ri});let Fo=(()=>{class ot{constructor(){this._actionTypeToHandlersMap=new Map}ngOnDestroy(){this._actionTypeToHandlersMap.clear()}get(Nt){return this._actionTypeToHandlersMap.get(Nt)}register(Nt,N){const V=this._actionTypeToHandlersMap.get(Nt)??new Set;return V.add(N),this._actionTypeToHandlersMap.set(Nt,V),()=>{this._actionTypeToHandlersMap.get(Nt).delete(N)}}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();new RegExp("^[a-zA-Z0-9_]+$"),new r.nKC("",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let Ro=(()=>{class ot{constructor(){this._ngZone=(0,r.WQX)(r.SKi),this._errorHandler=(0,r.WQX)(r.zcH)}handleError(Nt,N){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(Nt))}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),xs=(()=>{class ot{constructor(Nt){this._internalStateOperations=Nt}createStateContext(Nt){const N=this._internalStateOperations.getRootStateOperations();return{getState:()=>Lo(N.getState(),Nt),patchState(V){const Oe=N.getState(),st=function Wo(ot){return hn=>{const Nt={...hn};for(const N in ot)Nt[N]=ot[N];return Nt}}(V);Os(N,Oe,st,Nt)},setState(V){const Oe=N.getState();!function wt(ot){return"function"==typeof ot}(V)?da(N,Oe,V,Nt):Os(N,Oe,V,Nt)},dispatch:V=>N.dispatch(V)}}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Mt))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function da(ot,hn,Nt,N){const V=Ye(hn,N,Nt);return ot.setState(V),V}function Os(ot,hn,Nt,N){return da(ot,hn,Nt(Lo(hn,N)),N)}function Lo(ot,hn){return ct(ot,hn)}function Xo(...ot){return li(ot,["DISPATCHED"])}function Wn(...ot){return li(ot,["SUCCESSFUL","CANCELED","ERRORED"],ni)}function li(ot,hn,Nt=Hi){const N=function oo(ot){return ot.reduce((hn,Nt)=>(hn[kt(Nt)]=!0,hn),{})}(ot),V=hn&&function Eo(ot){return ot.reduce((hn,Nt)=>(hn[Nt]=!0,hn),{})}(hn);return function(Oe){return Oe.pipe(function hi(ot,hn){return(0,u.p)(Nt=>{const N=kt(Nt.action);return ot[N]&&(!hn||hn[Nt.status])})}(N,V),Nt())}}function ni(){return(0,b.T)(({action:ot,status:hn,error:Nt})=>({action:ot,result:{successful:"SUCCESSFUL"===hn,canceled:"CANCELED"===hn,error:Nt}}))}function Hi(){return(0,b.T)(ot=>ot.action)}function os(ot){let hn=void 0===ot?{}:ot;return ot&&(Array.isArray(ot)?hn=ot.slice():"object"==typeof ot&&(hn={...ot})),hn}let es=(()=>{class ot{constructor(){this._injector=(0,r.WQX)(r.zZn),this._config=(0,r.WQX)(Er),this._parentFactory=(0,r.WQX)(ot,{optional:!0,skipSelf:!0}),this._stateContextFactory=(0,r.WQX)(xs),this._actions=(0,r.WQX)(Hn),this._actionResults=(0,r.WQX)(ur),this._initialState=(0,r.WQX)(Ge,{optional:!0}),this._actionRegistry=(0,r.WQX)(Fo),this._propGetter=(0,r.WQX)(ji),this._actionsSubscription=null,this._ngxsUnhandledErrorHandler=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=Rn(()=>{const Nt=this,N=Nt._propGetter;return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(st){let Rt=function V(st){const Rt=Nt.statePaths[st];return Rt?N(Rt.split(".")):null}(st);return Rt||((...Jt)=>(Rt||(Rt=function V(st){const Rt=Nt.statePaths[st];return Rt?N(Rt.split(".")):null}(st)),Rt?Rt(...Jt):void 0))},getSelectorOptions:st=>({...Nt._config.selectorOptions,...st||{}})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}ngOnDestroy(){this._actionsSubscription?.unsubscribe()}add(Nt){const{newStates:N}=this.addToStatesMap(Nt);if(!N.length)return[];const V=function $i(ot){const hn=Nt=>{const N=ot.find(V=>V===Nt);return N[ce].name};return ot.reduce((Nt,N)=>{const{name:V,children:Oe}=N[ce];return Nt[V]=(Oe||[]).map(hn),Nt},{})}(N),Oe=function yo(ot){const hn=[],Nt={},N=(V,Oe=[])=>{Array.isArray(Oe)||(Oe=[]),Oe.push(V),Nt[V]=!0,ot[V].forEach(st=>{Nt[st]||N(st,Oe.slice(0))}),hn.indexOf(V)<0&&hn.push(V)};return Object.keys(ot).forEach(V=>N(V)),hn.reverse()}(V),st=function no(ot,hn={}){const Nt=(N,V)=>{for(const Oe in N)if(N.hasOwnProperty(Oe)&&N[Oe].indexOf(V)>=0){const st=Nt(N,Oe);return null!==st?`${st}.${Oe}`:Oe}return null};for(const N in ot)if(ot.hasOwnProperty(N)){const V=Nt(ot,N);hn[N]=V?`${V}.${N}`:N}return hn}(V),Rt=function Yi(ot){return ot.reduce((hn,Nt)=>(hn[Nt[ce].name]=Nt,hn),{})}(N),Jt=[];for(const gn of Oe){const jn=Rt[gn],Qn=st[gn],yr=jn[ce];this.addRuntimeInfoToMeta(yr,Qn);const mr={name:gn,path:Qn,isInitialised:!1,actions:yr.actions,instance:this._injector.get(jn),defaults:os(yr.defaults)};this.hasBeenMountedAndBootstrapped(gn,Qn)||Jt.push(mr),this.states.push(mr),this.hydrateActionMetasMap(mr)}return Jt}addAndReturnDefaults(Nt){const V=this.add(Nt||[]);return{defaults:V.reduce((st,Rt)=>Ye(st,Rt.path,Rt.defaults),{}),states:V}}connectActionHandlers(){this._parentFactory||null!==this._actionsSubscription||(this._actionsSubscription=this._actions.pipe((0,u.p)(Nt=>"DISPATCHED"===Nt.status),(0,O.Z)(Nt=>{const N=Nt.action;return this.invokeActions(N).pipe((0,b.T)(()=>({action:N,status:"SUCCESSFUL"})),(0,M.U)({action:N,status:"CANCELED"}),(0,A.W)(V=>{const Oe=this._ngxsUnhandledErrorHandler||=this._injector.get(Ro),st=function mi(ot,hn){if(null!==ot&&"object"==typeof ot){let Nt=!1;ti.set(ot,()=>{Nt||(Nt=!0,hn())})}return ot}(V,()=>Oe.handleError(V,{action:N}));return(0,L.of)({action:N,status:"ERRORED",error:st})}))})).subscribe(Nt=>this._actionResults.next(Nt)))}invokeActions(Nt){const N=kt(Nt),V=[];let Oe=!1;const st=this._actionRegistry.get(N);if(st)for(const Rt of st){let Jt;try{Jt=Rt(Nt)}catch(gn){Jt=(0,S.$)(()=>gn)}V.push(Jt),Oe=!0}return V.length||V.push((0,L.of)(void 0)),(0,F.p)(V)}addToStatesMap(Nt){const N=[],V=this.statesByName;for(const Oe of Nt){const st=Ve(Oe).name;!V[st]&&(N.push(Oe),V[st]=Oe)}return{newStates:N}}addRuntimeInfoToMeta(Nt,N){this.statePaths[Nt.name]=N,Nt.path=N}hasBeenMountedAndBootstrapped(Nt,N){const V=void 0!==ct(this._initialState,N);return this.statesByName[Nt]&&V}hydrateActionMetasMap({path:Nt,actions:N,instance:V}){const{dispatched$:Oe}=this._actions;for(const st of Object.keys(N)){const Rt=N[st].map(Jt=>{const gn=!!Jt.options.cancelUncompleted;return jn=>{const Qn=this._stateContextFactory.createStateContext(Nt);let yr=V[Jt.fn](Qn,jn);if((0,r.jNT)(yr)&&(yr=(0,ue.H)(yr)),(0,z.A)(yr)){if(yr=yr.pipe((0,O.Z)(mr=>(0,r.jNT)(mr)?(0,ue.H)(mr):(0,z.A)(mr)?mr:(0,L.of)(mr)),(0,M.U)(void 0)),gn){const mr=Oe.pipe(Xo(jn));yr=yr.pipe((0,X.Q)(mr))}yr=yr.pipe((0,re.j)(()=>{Qn.setState=rs,Qn.patchState=rs}))}else yr=(0,L.of)(void 0);return yr}});for(const Jt of Rt)this._actionRegistry.register(st,Jt)}}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac})}return ot})();function rs(){}let Oo=(()=>{class ot{constructor(Nt,N,V,Oe,st,Rt){this._stateStream=Nt,this._internalStateOperations=N,this._config=V,this._internalExecutionStrategy=Oe,this._stateFactory=st,this._selectableStateStream=this._stateStream.pipe(on(this._internalExecutionStrategy),(0,Z.t)({bufferSize:1,refCount:!0})),this.initStateStream(Rt)}dispatch(Nt){return this._internalStateOperations.getRootStateOperations().dispatch(Nt)}select(Nt){const N=this.getStoreBoundSelectorFn(Nt);return this._selectableStateStream.pipe((0,b.T)(N),(0,A.W)(V=>this._config.selectorOptions.suppressErrors&&V instanceof TypeError?(0,L.of)(void 0):(0,S.$)(V)),(0,Re.F)(),on(this._internalExecutionStrategy))}selectOnce(Nt){return this.select(Nt).pipe((0,oe.s)(1))}selectSnapshot(Nt){return this.getStoreBoundSelectorFn(Nt)(this._stateStream.getValue())}selectSignal(Nt){const N=this.getStoreBoundSelectorFn(Nt);return(0,r.EWP)(()=>N(this._stateStream.state()))}subscribe(Nt){return this._selectableStateStream.pipe(on(this._internalExecutionStrategy)).subscribe(Nt)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(Nt){this._internalStateOperations.getRootStateOperations().setState(Nt)}getStoreBoundSelectorFn(Nt){return Pr(Nt)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(Nt){const N=this._stateStream.value;(!N||0===Object.keys(N).length)&&this._stateStream.next(Nt)}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Ee),r.KVO(Mt),r.KVO(Er),r.KVO(ht),r.KVO(es),r.KVO(Ge,8))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const gs=new r.nKC("");let Es=(()=>{class ot{static#e=this.store=null;static#t=this.config=null;constructor(Nt,N){ot.store=Nt,ot.config=N}ngOnDestroy(){ot.store=null,ot.config=null}static#n=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Oo),r.KVO(Er))};static#s=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Ls=(()=>{class ot{constructor(Nt,N,V,Oe){this._store=Nt,this._internalStateOperations=N,this._stateContextFactory=V,this._appBootstrappedState=Oe,this._destroy$=new Ce.m(1)}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(Nt,N){this._internalStateOperations.getRootStateOperations().dispatch(Nt).pipe((0,u.p)(()=>!!N),(0,ne.M)(()=>this._invokeInitOnStates(N.states)),(0,O.Z)(()=>this._appBootstrappedState),(0,u.p)(V=>!!V),(0,X.Q)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(N.states))}_invokeInitOnStates(Nt){for(const N of Nt){const V=N.instance;V.ngxsOnChanges&&this._store.select(Oe=>ct(Oe,N.path)).pipe((0,p.Z)(void 0),(0,H.J)(),(0,X.Q)(this._destroy$)).subscribe(([Oe,st])=>{const Rt=new Hr(Oe,st,!N.isInitialised);V.ngxsOnChanges(Rt)}),V.ngxsOnInit&&V.ngxsOnInit(this._getStateContext(N)),N.isInitialised=!0}}_invokeBootstrapOnStates(Nt){for(const N of Nt){const V=N.instance;V.ngxsAfterBootstrap&&V.ngxsAfterBootstrap(this._getStateContext(N))}}_getStateContext(Nt){return this._stateContextFactory.createStateContext(Nt.path)}static#e=this.\u0275fac=function(N){return new(N||ot)(r.KVO(Oo),r.KVO(Mt),r.KVO(xs),r.KVO(Ze))};static#t=this.\u0275prov=r.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();new r.nKC(""),new r.nKC("");let fi=(()=>{class ot{constructor(){!function ea(){((0,r.WQX)(gs,{optional:!0})||[]).forEach(st=>st());const hn=(0,r.WQX)(es),Nt=(0,r.WQX)(Mt);(0,r.WQX)(Oo),(0,r.WQX)(Es);const N=(0,r.WQX)(rn,{optional:!0})||[],V=(0,r.WQX)(Ls),Oe=hn.addAndReturnDefaults(N);Nt.setStateToTheCurrentWithNew(Oe),hn.connectActionHandlers(),V.ngxsBootstrap(new B,Oe)}()}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275mod=r.$C({type:ot});static#n=this.\u0275inj=r.G2t({})}return ot})(),Fi=(()=>{class ot{constructor(){!function us(){(0,r.WQX)(Oo);const ot=(0,r.WQX)(Mt),hn=(0,r.WQX)(es),Nt=(0,r.WQX)(En,{optional:!0})||[],N=(0,r.WQX)(Ls),V=Nt.reduce((st,Rt)=>st.concat(Rt),[]),Oe=hn.addAndReturnDefaults(V);Oe.states.length&&(ot.setStateToTheCurrentWithNew(Oe),N.ngxsBootstrap(new Ie(Oe.defaults),Oe))}()}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275mod=r.$C({type:ot});static#n=this.\u0275inj=r.G2t({})}return ot})();function so(ot,hn){return[es,Ir,...ot,{provide:rn,useValue:ot},{provide:r.iLQ,useFactory:()=>{const Nt=(0,r.WQX)(Ze);return()=>Nt.bootstrap()},multi:!0},{provide:ar,useValue:hn},{provide:he,useValue:hn.executionStrategy}]}function Co(ot){return[es,Ir,...ot,{provide:En,multi:!0,useValue:ot}]}let eo=(()=>{class ot{static forRoot(Nt=[],N={}){return{ngModule:fi,providers:so(Nt,N)}}static forFeature(Nt=[]){return{ngModule:Fi,providers:Co(Nt)}}static#e=this.\u0275fac=function(N){return new(N||ot)};static#t=this.\u0275mod=r.$C({type:ot});static#n=this.\u0275inj=r.G2t({})}return ot})();function Wt(ot,hn){return(Nt,N,V)=>{const Oe=je(Nt.constructor),st=Array.isArray(ot)?ot:[ot];for(const Rt of st){const Jt=Rt.type;Oe.actions[Jt]||(Oe.actions[Jt]=[]),Oe.actions[Jt].push({fn:N,options:hn||{},type:Jt})}}}function mn(ot){return hn=>{const Nt=hn,N=je(Nt),V=Object.getPrototypeOf(Nt),Oe=function _n(ot,hn){return{...ot[$]||{},...hn}}(V,ot);(function fr(ot){const{meta:hn,inheritedStateClass:Nt,optionsWithInheritance:N}=ot,{children:V,defaults:Oe,name:st}=N,Rt="string"==typeof st?st:st&&st.getName()||null;Nt.hasOwnProperty(ce)&&(hn.actions={...hn.actions,...(Nt[ce]||{}).actions}),hn.children=V,hn.defaults=Oe,hn.name=Rt})({meta:N,inheritedStateClass:V,optionsWithInheritance:Oe}),Nt[$]=Oe}}const Tr=36;function ui(ot,...hn){return function(Nt,N){const V=N.toString(),Oe=`__${V}__selector`,st=function Br(ot,hn,Nt=[]){return hn=hn||function jr(ot){const hn=ot.length-1;return ot.charCodeAt(hn)===Tr?ot.slice(0,hn):ot}(ot),"string"==typeof hn?function Ri(ot,hn){return hn?.compatibility?.strictContentSecurityPolicy?Ur(ot):ri(ot)}(Nt.length?[hn,...Nt]:hn.split("."),Es.config):hn}(V,ot,hn);Object.defineProperties(Nt,{[Oe]:{writable:!0,enumerable:!1,configurable:!0},[V]:{enumerable:!0,configurable:!0,get(){return this[Oe]||(this[Oe]=function lr(ot){return Es.store||function Pn(){throw new Error("You have forgotten to import the NGXS module!")}(),Es.store.select(ot)}(st))}}})}}const Jr="NGXS_SELECTOR_OPTIONS_META",Wi={getOptions:ot=>ot&&ot[Jr]||{},defineOptions:(ot,hn)=>{ot&&(ot[Jr]=hn)}};function ao(ot,hn){const Nt=function lt(ot){return ot.hasOwnProperty(Fe)||Object.defineProperty(ot,Fe,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),pt(ot)}(ot);Nt.originalFn=ot;let N=()=>({});hn&&(Nt.containerClass=hn.containerClass,Nt.selectorName=hn.selectorName||null,N=hn.getSelectorOptions||N);const V={...Nt};return Nt.getSelectorOptions=()=>function vo(ot,hn){return{...Wi.getOptions(ot.containerClass)||{},...Wi.getOptions(ot.originalFn)||{},...ot.getSelectorOptions()||{},...hn}}(V,N()),Nt}function _o(ot){return function(Nt,N,V){if(N){V||=Object.getOwnPropertyDescriptor(Nt,N);const Oe=V.value||V.originalFn;Oe&&Wi.defineOptions(Oe,ot)}else Wi.defineOptions(Nt,ot)}}function wo(ot,hn,Nt){const N=function An(ot,hn){const Nt=hn&&hn.containerClass,V=Rn(function(){const st=ot.apply(Nt,arguments);return"function"==typeof st?Rn.apply(null,[st]):st});return Object.setPrototypeOf(V,ot),V}(hn,Nt),V=ao(hn,Nt);return V.makeRootSelector=function Yt(ot,hn,Nt){return N=>{const{argumentSelectorFunctions:V,selectorOptions:Oe}=function Kn(ot,hn,Nt=[]){const N=hn.getSelectorOptions(),V=ot.getSelectorOptions(N),st=function sr(ot=[],hn,Nt){const N=[];return Nt&&(hn.injectContainerState||0===ot.length)&&Ve(Nt)&&N.push(Nt),N.push(...ot),N}(Nt,V,hn.containerClass).map(Rt=>Pr(Rt)(ot));return{selectorOptions:V,argumentSelectorFunctions:st}}(N,ot,hn),{suppressErrors:st}=Oe;return function(Jt){const gn=V.map(jn=>jn(Jt));try{return Nt(...gn)}catch(jn){if(st&&jn instanceof TypeError)return;throw ze&&console.error("The selector below has thrown an error upon invocation. Please check for any unsafe property access that may result in null or undefined values.",ot.originalFn),jn}}}}(V,ot,N),N}function Po(ot){return(hn,Nt,N)=>{N||=Object.getOwnPropertyDescriptor(hn,Nt);const V=N?.value,Oe=wo(ot,V,{containerClass:hn,selectorName:Nt.toString(),getSelectorOptions:()=>({})});return{configurable:!0,get:()=>Oe,originalFn:V}}}function gr(ot){return(0,r.WQX)(Oo).selectSignal(ot)}},9989:(ln,ye,w)=>{"use strict";w.d(ye,{Ay:()=>Xn});const r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y=Object.keys,u=Array.isArray;function v(N,V){return"object"!=typeof V||y(V).forEach(function(Oe){N[Oe]=V[Oe]}),N}typeof Promise>"u"||r.Promise||(r.Promise=Promise);const x=Object.getPrototypeOf,d={}.hasOwnProperty;function L(N,V){return d.call(N,V)}function F(N,V){"function"==typeof V&&(V=V(x(N))),(typeof Reflect>"u"?y:Reflect.ownKeys)(V).forEach(Oe=>{U(N,Oe,V[Oe])})}const S=Object.defineProperty;function U(N,V,Oe,st){S(N,V,v(Oe&&L(Oe,"get")&&"function"==typeof Oe.get?{get:Oe.get,set:Oe.set,configurable:!0}:{value:Oe,configurable:!0,writable:!0},st))}function O(N){return{from:function(V){return N.prototype=Object.create(V.prototype),U(N.prototype,"constructor",N),{extend:F.bind(null,N.prototype)}}}}const b=Object.getOwnPropertyDescriptor;function M(N,V){let Oe;return b(N,V)||(Oe=x(N))&&M(Oe,V)}const A=[].slice;function ue(N,V,Oe){return A.call(N,V,Oe)}function z(N,V){return V(N)}function X(N){if(!N)throw new Error("Assertion Failed")}function re(N){r.setImmediate?setImmediate(N):setTimeout(N,0)}function Z(N,V){return N.reduce((Oe,st,Rt)=>{var Jt=V(st,Rt);return Jt&&(Oe[Jt[0]]=Jt[1]),Oe},{})}function Re(N,V){if("string"==typeof V&&L(N,V))return N[V];if(!V)return N;if("string"!=typeof V){for(var Oe=[],st=0,Rt=V.length;st<Rt;++st){var Jt=Re(N,V[st]);Oe.push(Jt)}return Oe}var gn=V.indexOf(".");if(-1!==gn){var jn=N[V.substr(0,gn)];return null==jn?void 0:Re(jn,V.substr(gn+1))}}function oe(N,V,Oe){if(N&&void 0!==V&&(!("isFrozen"in Object)||!Object.isFrozen(N)))if("string"!=typeof V&&"length"in V){X("string"!=typeof Oe&&"length"in Oe);for(var st=0,Rt=V.length;st<Rt;++st)oe(N,V[st],Oe[st])}else{var Jt=V.indexOf(".");if(-1!==Jt){var gn=V.substr(0,Jt),jn=V.substr(Jt+1);if(""===jn)void 0===Oe?u(N)&&!isNaN(parseInt(gn))?N.splice(gn,1):delete N[gn]:N[gn]=Oe;else{var Qn=N[gn];Qn&&L(N,gn)||(Qn=N[gn]={}),oe(Qn,jn,Oe)}}else void 0===Oe?u(N)&&!isNaN(parseInt(V))?N.splice(V,1):delete N[V]:N[V]=Oe}}function Ce(N){var V={};for(var Oe in N)L(N,Oe)&&(V[Oe]=N[Oe]);return V}const K=[].concat;function R(N){return K.apply([],N)}const ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(R([8,16,32,64].map(N=>["Int","Uint","Float"].map(V=>V+N+"Array")))).filter(N=>r[N]),$=ce.map(N=>r[N]);Z(ce,N=>[N,!0]);let Fe=null;function je(N){Fe=typeof WeakMap<"u"&&new WeakMap;const V=Ve(N);return Fe=null,V}function Ve(N){if(!N||"object"!=typeof N)return N;let V=Fe&&Fe.get(N);if(V)return V;if(u(N)){V=[],Fe&&Fe.set(N,V);for(var Oe=0,st=N.length;Oe<st;++Oe)V.push(Ve(N[Oe]))}else if($.indexOf(N.constructor)>=0)V=N;else{const Jt=x(N);for(var Rt in V=Jt===Object.prototype?{}:Object.create(Jt),Fe&&Fe.set(N,V),N)L(N,Rt)&&(V[Rt]=Ve(N[Rt]))}return V}const{toString:lt}={};function pt(N){return lt.call(N).slice(8,-1)}const St=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Rn="symbol"==typeof St?function(N){var V;return null!=N&&(V=N[St])&&V.apply(N)}:function(){return null},G={};function ee(N){var V,Oe,st,Rt;if(1===arguments.length){if(u(N))return N.slice();if(this===G&&"string"==typeof N)return[N];if(Rt=Rn(N)){for(Oe=[];!(st=Rt.next()).done;)Oe.push(st.value);return Oe}if(null==N)return[N];if("number"==typeof(V=N.length)){for(Oe=new Array(V);V--;)Oe[V]=N[V];return Oe}return[N]}for(V=arguments.length,Oe=new Array(V);V--;)Oe[V]=arguments[V];return Oe}const De=typeof Symbol<"u"?N=>"AsyncFunction"===N[Symbol.toStringTag]:()=>!1;var Ge=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ze(N,V){Ge=N,ut=V}var ut=()=>!0;const bt=!new Error("").stack;function Dt(){if(bt)try{throw new Error}catch(N){return N}return new Error}function Le(N,V){var Oe=N.stack;return Oe?(V=V||0,0===Oe.indexOf(N.name)&&(V+=(N.name+N.message).split("\n").length),Oe.split("\n").slice(V).filter(ut).map(st=>"\n"+st).join("")):""}var Ae=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],se=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ae),Me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ee(N,V){this._e=Dt(),this.name=N,this.message=V}function C(N,V){return N+". Errors: "+Object.keys(V).map(Oe=>V[Oe].toString()).filter((Oe,st,Rt)=>Rt.indexOf(Oe)===st).join("\n")}function T(N,V,Oe,st){this._e=Dt(),this.failures=V,this.failedKeys=st,this.successCount=Oe,this.message=C(N,V)}function J(N,V){this._e=Dt(),this.name="BulkError",this.failures=Object.keys(V).map(Oe=>V[Oe]),this.failuresByPos=V,this.message=C(N,V)}O(Ee).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Le(this._e,2))}},toString:function(){return this.name+": "+this.message}}),O(T).from(Ee),O(J).from(Ee);var W=se.reduce((N,V)=>(N[V]=V+"Error",N),{});const ve=Ee;var ne=se.reduce((N,V)=>{var Oe=V+"Error";function st(Rt,Jt){this._e=Dt(),this.name=Oe,Rt?"string"==typeof Rt?(this.message=`${Rt}${Jt?"\n "+Jt:""}`,this.inner=Jt||null):"object"==typeof Rt&&(this.message=`${Rt.name} ${Rt.message}`,this.inner=Rt):(this.message=Me[V]||Oe,this.inner=null)}return O(st).from(ve),N[V]=st,N},{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var p=Ae.reduce((N,V)=>(N[V+"Error"]=ne[V],N),{}),H=se.reduce((N,V)=>(-1===["Syntax","Type","Range"].indexOf(V)&&(N[V+"Error"]=ne[V]),N),{});function B(){}function Ie(N){return N}function $e(N,V){return null==N||N===Ie?V:function(Oe){return V(N(Oe))}}function ft(N,V){return function(){N.apply(this,arguments),V.apply(this,arguments)}}function kt(N,V){return N===B?V:function(){var Oe=N.apply(this,arguments);void 0!==Oe&&(arguments[0]=Oe);var st=this.onsuccess,Rt=this.onerror;this.onsuccess=null,this.onerror=null;var Jt=V.apply(this,arguments);return st&&(this.onsuccess=this.onsuccess?ft(st,this.onsuccess):st),Rt&&(this.onerror=this.onerror?ft(Rt,this.onerror):Rt),void 0!==Jt?Jt:Oe}}function jt(N,V){return N===B?V:function(){N.apply(this,arguments);var Oe=this.onsuccess,st=this.onerror;this.onsuccess=this.onerror=null,V.apply(this,arguments),Oe&&(this.onsuccess=this.onsuccess?ft(Oe,this.onsuccess):Oe),st&&(this.onerror=this.onerror?ft(st,this.onerror):st)}}function Ye(N,V){return N===B?V:function(Oe){var st=N.apply(this,arguments);v(Oe,st);var Rt=this.onsuccess,Jt=this.onerror;this.onsuccess=null,this.onerror=null;var gn=V.apply(this,arguments);return Rt&&(this.onsuccess=this.onsuccess?ft(Rt,this.onsuccess):Rt),Jt&&(this.onerror=this.onerror?ft(Jt,this.onerror):Jt),void 0===st?void 0===gn?void 0:gn:v(st,gn)}}function ct(N,V){return N===B?V:function(){return!1!==V.apply(this,arguments)&&N.apply(this,arguments)}}function It(N,V){return N===B?V:function(){var Oe=N.apply(this,arguments);if(Oe&&"function"==typeof Oe.then){for(var st=this,Rt=arguments.length,Jt=new Array(Rt);Rt--;)Jt[Rt]=arguments[Rt];return Oe.then(function(){return V.apply(st,Jt)})}return V.apply(this,arguments)}}H.ModifyError=T,H.DexieError=Ee,H.BulkError=J;var Ke={};const wt=100,[rt,Ct,mt]=typeof Promise>"u"?[]:(()=>{let N=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[N,x(N),N];const V=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[V,x(V),N]})(),Vt=Ct&&Ct.then,at=rt&&rt.constructor,We=!!mt;var ke=!1,et=mt?()=>{mt.then(zt)}:r.setImmediate?setImmediate.bind(null,zt):r.MutationObserver?()=>{var N=document.createElement("div");new MutationObserver(()=>{zt(),N=null}).observe(N,{attributes:!0}),N.setAttribute("i","1")}:()=>{setTimeout(zt,0)},xt=function(N,V){Nn.push([N,V]),vn&&(et(),vn=!1)},Zt=!0,vn=!0,kn=[],tr=[],dn=null,nn=Ie,Ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:sr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(N=>{try{sr(N[0],N[1])}catch{}})}},Xt=Ht,Nn=[],Ot=0,Mn=[];function Bn(N){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=B,this._lib=!1;var V=this._PSD=Xt;if(Ge&&(this._stackHolder=Dt(),this._prev=null,this._numPrev=0),"function"!=typeof N){if(N!==Ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&bn(this,this._value))}this._state=null,this._value=null,++V.ref,tn(this,N)}const Pn={get:function(){var N=Xt,V=ur;function Oe(st,Rt){var Jt=!N.global&&(N!==Xt||V!==ur);const gn=Jt&&!En();var jn=new Bn((Qn,yr)=>{_e(this,new Dn(Yt(st,N,Jt,gn),Yt(Rt,N,Jt,gn),Qn,yr,N))});return Ge&&ht(jn,this),jn}return Oe.prototype=Ke,Oe},set:function(N){U(this,"then",N&&N.prototype===Ke?Pn:{get:function(){return N},set:Pn.set})}};function Dn(N,V,Oe,st,Rt){this.onFulfilled="function"==typeof N?N:null,this.onRejected="function"==typeof V?V:null,this.resolve=Oe,this.reject=st,this.psd=Rt}function tn(N,V){try{V(Oe=>{if(null===N._state){if(Oe===N)throw new TypeError("A promise cannot be resolved with itself.");var st=N._lib&&on();Oe&&"function"==typeof Oe.then?tn(N,(Rt,Jt)=>{Oe instanceof Bn?Oe._then(Rt,Jt):Oe.then(Rt,Jt)}):(N._state=!0,N._value=Oe,yt(N)),st&&Hn()}},bn.bind(null,N))}catch(Oe){bn(N,Oe)}}function bn(N,V){if(tr.push(V),null===N._state){var Oe=N._lib&&on();V=nn(V),N._state=!1,N._value=V,Ge&&null!==V&&"object"==typeof V&&!V._promise&&function(){try{(()=>{var st=M(V,"stack");V._promise=N,U(V,"stack",{get:()=>ke?st&&(st.get?st.get.apply(V):st.value):N.stack})}).apply(null,void 0)}catch(gn){}}(),st=N,kn.some(Rt=>Rt._value===st._value)||kn.push(st),yt(N),Oe&&Hn()}var st}function yt(N){var V=N._listeners;N._listeners=[];for(var Oe=0,st=V.length;Oe<st;++Oe)_e(N,V[Oe]);var Rt=N._PSD;--Rt.ref||Rt.finalize(),0===Ot&&(++Ot,xt(()=>{0==--Ot&&Ar()},[]))}function _e(N,V){if(null!==N._state){var Oe=N._state?V.onFulfilled:V.onRejected;if(null===Oe)return(N._state?V.resolve:V.reject)(N._value);++V.psd.ref,++Ot,xt(he,[Oe,N,V])}else N._listeners.push(V)}function he(N,V,Oe){try{dn=V;var st,Rt=V._value;V._state?st=N(Rt):(tr.length&&(tr=[]),st=N(Rt),-1===tr.indexOf(Rt)&&function(Jt){for(var gn=kn.length;gn;)if(kn[--gn]._value===Jt._value)return void kn.splice(gn,1)}(V)),Oe.resolve(st)}catch(Jt){Oe.reject(Jt)}finally{dn=null,0==--Ot&&Ar(),--Oe.psd.ref||Oe.psd.finalize()}}function Be(N,V,Oe){if(V.length===Oe)return V;var st="";if(!1===N._state){var Rt,Jt,gn=N._value;null!=gn?(Rt=gn.name||"Error",Jt=gn.message||gn,st=Le(gn,0)):(Rt=gn,Jt=""),V.push(Rt+(Jt?": "+Jt:"")+st)}return Ge&&((st=Le(N._stackHolder,2))&&-1===V.indexOf(st)&&V.push(st),N._prev&&Be(N._prev,V,Oe)),V}function ht(N,V){var Oe=V?V._numPrev+1:0;Oe<100&&(N._prev=V,N._numPrev=Oe)}function zt(){on()&&Hn()}function on(){var N=Zt;return Zt=!1,vn=!1,N}function Hn(){var N,V,Oe;do{for(;Nn.length>0;)for(N=Nn,Nn=[],Oe=N.length,V=0;V<Oe;++V){var st=N[V];st[0].apply(null,st[1])}}while(Nn.length>0);Zt=!0,vn=!0}function Ar(){var N=kn;kn=[],N.forEach(st=>{st._PSD.onunhandled.call(null,st._value,st)});for(var V=Mn.slice(0),Oe=V.length;Oe;)V[--Oe]()}function Ir(N){return new Bn(Ke,!1,N)}function ti(N,V){var Oe=Xt;return function(){var st=on(),Rt=Xt;try{return vr(Oe,!0),N.apply(this,arguments)}catch(Jt){V&&V(Jt)}finally{vr(Rt,!1),st&&Hn()}}}F(Bn.prototype,{then:Pn,_then:function(N,V){_e(this,new Dn(null,null,N,V,Xt))},catch:function(N){if(1===arguments.length)return this.then(null,N);var V=arguments[0],Oe=arguments[1];return this.then(null,"function"==typeof V?st=>st instanceof V?Oe(st):Ir(st):st=>st&&st.name===V?Oe(st):Ir(st))},finally:function(N){return this.then(V=>(N(),V),V=>(N(),Ir(V)))},stack:{get:function(){if(this._stack)return this._stack;try{ke=!0;var N=Be(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=N),N}finally{ke=!1}}},timeout:function(N,V){return N<1/0?new Bn((Oe,st)=>{var Rt=setTimeout(()=>st(new ne.Timeout(V)),N);this.then(Oe,st).finally(clearTimeout.bind(null,Rt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(Bn.prototype,Symbol.toStringTag,"Dexie.Promise"),Ht.env=Mt(),F(Bn,{all:function(){var N=ee.apply(null,arguments).map(ar);return new Bn(function(V,Oe){0===N.length&&V([]);var st=N.length;N.forEach((Rt,Jt)=>Bn.resolve(Rt).then(gn=>{N[Jt]=gn,--st||V(N)},Oe))})},resolve:N=>{if(N instanceof Bn)return N;if(N&&"function"==typeof N.then)return new Bn((Oe,st)=>{N.then(Oe,st)});var V=new Bn(Ke,!0,N);return ht(V,dn),V},reject:Ir,race:function(){var N=ee.apply(null,arguments).map(ar);return new Bn((V,Oe)=>{N.map(st=>Bn.resolve(st).then(V,Oe))})},PSD:{get:()=>Xt,set:N=>Xt=N},totalEchoes:{get:()=>ur},newPSD:Ni,usePSD:te,scheduler:{get:()=>xt,set:N=>{xt=N}},rejectionMapper:{get:()=>nn,set:N=>{nn=N}},follow:(N,V)=>new Bn((Oe,st)=>Ni((Rt,Jt)=>{var gn=Xt;gn.unhandleds=[],gn.onunhandled=Jt,gn.finalize=ft(function(){var jn;jn=()=>{0===this.unhandleds.length?Rt():Jt(this.unhandleds[0])},Mn.push(function Qn(){jn(),Mn.splice(Mn.indexOf(Qn),1)}),++Ot,xt(()=>{0==--Ot&&Ar()},[])},gn.finalize),N()},V,Oe,st))}),at&&(at.allSettled&&U(Bn,"allSettled",function(){const N=ee.apply(null,arguments).map(ar);return new Bn(V=>{0===N.length&&V([]);let Oe=N.length;const st=new Array(Oe);N.forEach((Rt,Jt)=>Bn.resolve(Rt).then(gn=>st[Jt]={status:"fulfilled",value:gn},gn=>st[Jt]={status:"rejected",reason:gn}).then(()=>--Oe||V(st)))})}),at.any&&typeof AggregateError<"u"&&U(Bn,"any",function(){const N=ee.apply(null,arguments).map(ar);return new Bn((V,Oe)=>{0===N.length&&Oe(new AggregateError([]));let st=N.length;const Rt=new Array(st);N.forEach((Jt,gn)=>Bn.resolve(Jt).then(jn=>V(jn),jn=>{Rt[gn]=jn,--st||Oe(new AggregateError(Rt))}))})}));const Yr={awaits:0,echoes:0,id:0};var Ki=0,mi=[],er=0,ur=0,Ei=0;function Ni(N,V,Oe,st){var Rt=Xt,Jt=Object.create(Rt);Jt.parent=Rt,Jt.ref=0,Jt.global=!1,Jt.id=++Ei;var gn=Ht.env;Jt.env=We?{Promise:Bn,PromiseProp:{value:Bn,configurable:!0,writable:!0},all:Bn.all,race:Bn.race,allSettled:Bn.allSettled,any:Bn.any,resolve:Bn.resolve,reject:Bn.reject,nthen:An(gn.nthen,Jt),gthen:An(gn.gthen,Jt)}:{},V&&v(Jt,V),++Rt.ref,Jt.finalize=function(){--this.parent.ref||this.parent.finalize()};var jn=te(Jt,N,Oe,st);return 0===Jt.ref&&Jt.finalize(),jn}function rn(){return Yr.id||(Yr.id=++Ki),++Yr.awaits,Yr.echoes+=wt,Yr.id}function En(){return!!Yr.awaits&&(0==--Yr.awaits&&(Yr.id=0),Yr.echoes=Yr.awaits*wt,!0)}function ar(N){return Yr.echoes&&N&&N.constructor===at?(rn(),N.then(V=>(En(),V),V=>(En(),Pr(V)))):N}function Er(N){++ur,Yr.echoes&&0!=--Yr.echoes||(Yr.echoes=Yr.id=0),mi.push(Xt),vr(N,!0)}function Hr(){var N=mi[mi.length-1];mi.pop(),vr(N,!1)}function vr(N,V){var Oe=Xt;if((V?!Yr.echoes||er++&&N===Xt:!er||--er&&N===Xt)||ze(V?Er.bind(null,N):Hr),N!==Xt&&(Xt=N,Oe===Ht&&(Ht.env=Mt()),We)){var st=Ht.env.Promise,Rt=N.env;Ct.then=Rt.nthen,st.prototype.then=Rt.gthen,(Oe.global||N.global)&&(Object.defineProperty(r,"Promise",Rt.PromiseProp),st.all=Rt.all,st.race=Rt.race,st.resolve=Rt.resolve,st.reject=Rt.reject,Rt.allSettled&&(st.allSettled=Rt.allSettled),Rt.any&&(st.any=Rt.any))}}function Mt(){var N=r.Promise;return We?{Promise:N,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:N.all,race:N.race,allSettled:N.allSettled,any:N.any,resolve:N.resolve,reject:N.reject,nthen:Ct.then,gthen:N.prototype.then}:{}}function te(N,V,Oe,st,Rt){var Jt=Xt;try{return vr(N,!0),V(Oe,st,Rt)}finally{vr(Jt,!1)}}function ze(N){Vt.call(rt,N)}function Yt(N,V,Oe,st){return"function"!=typeof N?N:function(){var Rt=Xt;Oe&&rn(),vr(V,!0);try{return N.apply(this,arguments)}finally{vr(Rt,!1),st&&ze(En)}}}function An(N,V){return function(Oe,st){return N.call(this,Yt(Oe,V),Yt(st,V))}}-1===(""+Vt).indexOf("[native code]")&&(rn=En=B);const Kn="unhandledrejection";function sr(N,V){var Oe;try{Oe=V.onuncatched(N)}catch{}if(!1!==Oe)try{var st,Rt={promise:V,reason:N};if(r.document&&document.createEvent?((st=document.createEvent("Event")).initEvent(Kn,!0,!0),v(st,Rt)):r.CustomEvent&&v(st=new CustomEvent(Kn,{detail:Rt}),Rt),st&&r.dispatchEvent&&(dispatchEvent(st),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(st)}catch{}Ge&&st&&!st.defaultPrevented&&console.warn(`Unhandled rejection: ${N.stack||N}`)}catch{}}var Pr=Bn.reject;function Sr(N,V,Oe,st){if(N.idbdb&&(N._state.openComplete||Xt.letThrough||N._vip)){var Rt=N._createTransaction(V,Oe,N._dbSchema);try{Rt.create(),N._state.PR1398_maxLoop=3}catch(Jt){return Jt.name===W.InvalidState&&N.isOpen()&&--N._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),N._close(),N.open().then(()=>Sr(N,V,Oe,st))):Pr(Jt)}return Rt._promise(V,(Jt,gn)=>Ni(()=>(Xt.trans=Rt,st(Jt,gn,Rt)))).then(Jt=>Rt._completion.then(()=>Jt))}if(N._state.openComplete)return Pr(new ne.DatabaseClosed(N._state.dbOpenError));if(!N._state.isBeingOpened){if(!N._options.autoOpen)return Pr(new ne.DatabaseClosed);N.open().catch(B)}return N._state.dbReadyPromise.then(()=>Sr(N,V,Oe,st))}const Ri=-1/0,ji="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",$i="String expected.",Yi=[],no=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),yo=no,Fo=no,$t=N=>!/(dexie\.js|dexie\.min\.js)/.test(N),Se="__dbnames",At="readonly",en="readwrite";function Sn(N,V){return N?V?function(){return N.apply(this,arguments)&&V.apply(this,arguments)}:N:V}const ir={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Vr(N){return"string"!=typeof N||/\./.test(N)?V=>V:V=>(void 0===V[N]&&N in V&&delete(V=je(V))[N],V)}class Oi{_trans(V,Oe,st){const Rt=this._tx||Xt.trans,Jt=this.name;function gn(Qn,yr,mr){if(!mr.schema[Jt])throw new ne.NotFound("Table "+Jt+" not part of transaction");return Oe(mr.idbtrans,mr)}const jn=on();try{return Rt&&Rt.db===this.db?Rt===Xt.trans?Rt._promise(V,gn,st):Ni(()=>Rt._promise(V,gn,st),{trans:Rt,transless:Xt.transless||Xt}):Sr(this.db,V,[this.name],gn)}finally{jn&&Hn()}}get(V,Oe){return V&&V.constructor===Object?this.where(V).first(Oe):this._trans("readonly",st=>this.core.get({trans:st,key:V}).then(Rt=>this.hook.reading.fire(Rt))).then(Oe)}where(V){if("string"==typeof V)return new this.db.WhereClause(this,V);if(u(V))return new this.db.WhereClause(this,`[${V.join("+")}]`);const Oe=y(V);if(1===Oe.length)return this.where(Oe[0]).equals(V[Oe[0]]);const st=this.schema.indexes.concat(this.schema.primKey).filter(yr=>{if(yr.compound&&Oe.every(mr=>yr.keyPath.indexOf(mr)>=0)){for(let mr=0;mr<Oe.length;++mr)if(-1===Oe.indexOf(yr.keyPath[mr]))return!1;return!0}return!1}).sort((yr,mr)=>yr.keyPath.length-mr.keyPath.length)[0];if(st&&"\uffff"!==this.db._maxKey){const yr=st.keyPath.slice(0,Oe.length);return this.where(yr).equals(yr.map(mr=>V[mr]))}!st&&Ge&&console.warn(`The query ${JSON.stringify(V)} on ${this.name} would benefit of a compound index [${Oe.join("+")}]`);const{idxByName:Rt}=this.schema,Jt=this.db._deps.indexedDB;function gn(yr,mr){try{return 0===Jt.cmp(yr,mr)}catch{return!1}}const[jn,Qn]=Oe.reduce(([yr,mr],Or)=>{const xr=Rt[Or],ii=V[Or];return[yr||xr,yr||!xr?Sn(mr,xr&&xr.multi?Vi=>{const an=Re(Vi,Or);return u(an)&&an.some(Ln=>gn(ii,Ln))}:Vi=>gn(ii,Re(Vi,Or))):mr]},[null,null]);return jn?this.where(jn.name).equals(V[jn.keyPath]).filter(Qn):st?this.filter(Qn):this.where(Oe).equals("")}filter(V){return this.toCollection().and(V)}count(V){return this.toCollection().count(V)}offset(V){return this.toCollection().offset(V)}limit(V){return this.toCollection().limit(V)}each(V){return this.toCollection().each(V)}toArray(V){return this.toCollection().toArray(V)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(V){return new this.db.Collection(new this.db.WhereClause(this,u(V)?`[${V.join("+")}]`:V))}reverse(){return this.toCollection().reverse()}mapToClass(V){this.schema.mappedClass=V;const Oe=st=>{if(!st)return st;const Rt=Object.create(V.prototype);for(var Jt in st)if(L(st,Jt))try{Rt[Jt]=st[Jt]}catch{}return Rt};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Oe,this.hook("reading",Oe),V}defineClass(){return this.mapToClass(function(V){v(this,V)})}add(V,Oe){const{auto:st,keyPath:Rt}=this.schema.primKey;let Jt=V;return Rt&&st&&(Jt=Vr(Rt)(V)),this._trans("readwrite",gn=>this.core.mutate({trans:gn,type:"add",keys:null!=Oe?[Oe]:null,values:[Jt]})).then(gn=>gn.numFailures?Bn.reject(gn.failures[0]):gn.lastResult).then(gn=>{if(Rt)try{oe(V,Rt,gn)}catch{}return gn})}update(V,Oe){if("object"!=typeof V||u(V))return this.where(":id").equals(V).modify(Oe);{const st=Re(V,this.schema.primKey.keyPath);if(void 0===st)return Pr(new ne.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof Oe?y(Oe).forEach(Rt=>{oe(V,Rt,Oe[Rt])}):Oe(V,{value:V,primKey:st})}catch{}return this.where(":id").equals(st).modify(Oe)}}put(V,Oe){const{auto:st,keyPath:Rt}=this.schema.primKey;let Jt=V;return Rt&&st&&(Jt=Vr(Rt)(V)),this._trans("readwrite",gn=>this.core.mutate({trans:gn,type:"put",values:[Jt],keys:null!=Oe?[Oe]:null})).then(gn=>gn.numFailures?Bn.reject(gn.failures[0]):gn.lastResult).then(gn=>{if(Rt)try{oe(V,Rt,gn)}catch{}return gn})}delete(V){return this._trans("readwrite",Oe=>this.core.mutate({trans:Oe,type:"delete",keys:[V]})).then(Oe=>Oe.numFailures?Bn.reject(Oe.failures[0]):void 0)}clear(){return this._trans("readwrite",V=>this.core.mutate({trans:V,type:"deleteRange",range:ir})).then(V=>V.numFailures?Bn.reject(V.failures[0]):void 0)}bulkGet(V){return this._trans("readonly",Oe=>this.core.getMany({keys:V,trans:Oe}).then(st=>st.map(Rt=>this.hook.reading.fire(Rt))))}bulkAdd(V,Oe,st){const Rt=Array.isArray(Oe)?Oe:void 0,Jt=(st=st||(Rt?void 0:Oe))?st.allKeys:void 0;return this._trans("readwrite",gn=>{const{auto:jn,keyPath:Qn}=this.schema.primKey;if(Qn&&Rt)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Rt&&Rt.length!==V.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");const yr=V.length;let mr=Qn&&jn?V.map(Vr(Qn)):V;return this.core.mutate({trans:gn,type:"add",keys:Rt,values:mr,wantResults:Jt}).then(({numFailures:Or,results:xr,lastResult:ii,failures:Vi})=>{if(0===Or)return Jt?xr:ii;throw new J(`${this.name}.bulkAdd(): ${Or} of ${yr} operations failed`,Vi)})})}bulkPut(V,Oe,st){const Rt=Array.isArray(Oe)?Oe:void 0,Jt=(st=st||(Rt?void 0:Oe))?st.allKeys:void 0;return this._trans("readwrite",gn=>{const{auto:jn,keyPath:Qn}=this.schema.primKey;if(Qn&&Rt)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Rt&&Rt.length!==V.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");const yr=V.length;let mr=Qn&&jn?V.map(Vr(Qn)):V;return this.core.mutate({trans:gn,type:"put",keys:Rt,values:mr,wantResults:Jt}).then(({numFailures:Or,results:xr,lastResult:ii,failures:Vi})=>{if(0===Or)return Jt?xr:ii;throw new J(`${this.name}.bulkPut(): ${Or} of ${yr} operations failed`,Vi)})})}bulkDelete(V){const Oe=V.length;return this._trans("readwrite",st=>this.core.mutate({trans:st,type:"delete",keys:V})).then(({numFailures:st,lastResult:Rt,failures:Jt})=>{if(0===st)return Rt;throw new J(`${this.name}.bulkDelete(): ${st} of ${Oe} operations failed`,Jt)})}}function Wr(N){var V={},Oe=function(gn,jn){if(jn){for(var Qn=arguments.length,yr=new Array(Qn-1);--Qn;)yr[Qn-1]=arguments[Qn];return V[gn].subscribe.apply(null,yr),N}if("string"==typeof gn)return V[gn]};Oe.addEventType=Jt;for(var st=1,Rt=arguments.length;st<Rt;++st)Jt(arguments[st]);return Oe;function Jt(gn,jn,Qn){if("object"!=typeof gn){var yr;jn||(jn=ct),Qn||(Qn=B);var mr={subscribers:[],fire:Qn,subscribe:function(Or){-1===mr.subscribers.indexOf(Or)&&(mr.subscribers.push(Or),mr.fire=jn(mr.fire,Or))},unsubscribe:function(Or){mr.subscribers=mr.subscribers.filter(function(xr){return xr!==Or}),mr.fire=mr.subscribers.reduce(jn,Qn)}};return V[gn]=Oe[gn]=mr,mr}y(yr=gn).forEach(function(Or){var xr=yr[Or];if(u(xr))Jt(Or,yr[Or][0],yr[Or][1]);else{if("asap"!==xr)throw new ne.InvalidArgument("Invalid event config");var ii=Jt(Or,Ie,function(){for(var Vi=arguments.length,an=new Array(Vi);Vi--;)an[Vi]=arguments[Vi];ii.subscribers.forEach(function(Ln){re(function(){Ln.apply(null,an)})})})}})}}function Gi(N,V){return O(V).from({prototype:N}),V}function Ro(N,V){return!(N.filter||N.algorithm||N.or)&&(V?N.justLimit:!N.replayFilter)}function Wo(N,V){N.filter=Sn(N.filter,V)}function xs(N,V,Oe){var st=N.replayFilter;N.replayFilter=st?()=>Sn(st(),V()):V,N.justLimit=Oe&&!st}function da(N,V){if(N.isPrimKey)return V.primaryKey;const Oe=V.getIndexByKeyPath(N.index);if(!Oe)throw new ne.Schema("KeyPath "+N.index+" on object store "+V.name+" is not indexed");return Oe}function Os(N,V,Oe){const st=da(N,V.schema);return V.openCursor({trans:Oe,values:!N.keysOnly,reverse:"prev"===N.dir,unique:!!N.unique,query:{index:st,range:N.range}})}function Lo(N,V,Oe,st){const Rt=N.replayFilter?Sn(N.filter,N.replayFilter()):N.filter;if(N.or){const Jt={},gn=(jn,Qn,yr)=>{if(!Rt||Rt(Qn,yr,xr=>Qn.stop(xr),xr=>Qn.fail(xr))){var mr=Qn.primaryKey,Or=""+mr;"[object ArrayBuffer]"===Or&&(Or=""+new Uint8Array(mr)),L(Jt,Or)||(Jt[Or]=!0,V(jn,Qn,yr))}};return Promise.all([N.or._iterate(gn,Oe),ps(Os(N,st,Oe),N.algorithm,gn,!N.keysOnly&&N.valueMapper)])}return ps(Os(N,st,Oe),Sn(N.algorithm,Rt),V,!N.keysOnly&&N.valueMapper)}function ps(N,V,Oe,st){var Rt=ti(st?(Jt,gn,jn)=>Oe(st(Jt),gn,jn):Oe);return N.then(Jt=>{if(Jt)return Jt.start(()=>{var gn=()=>Jt.continue();V&&!V(Jt,jn=>gn=jn,jn=>{Jt.stop(jn),gn=B},jn=>{Jt.fail(jn),gn=B})||Rt(Jt.value,Jt,jn=>gn=jn),gn()})})}function Xo(N,V){try{const Oe=Ns(N),st=Ns(V);if(Oe!==st)return"Array"===Oe?1:"Array"===st?-1:"binary"===Oe?1:"binary"===st?-1:"string"===Oe?1:"string"===st?-1:"Date"===Oe?1:"Date"!==st?NaN:-1;switch(Oe){case"number":case"Date":case"string":return N>V?1:N<V?-1:0;case"binary":return function(Rt,Jt){const gn=Rt.length,jn=Jt.length,Qn=gn<jn?gn:jn;for(let yr=0;yr<Qn;++yr)if(Rt[yr]!==Jt[yr])return Rt[yr]<Jt[yr]?-1:1;return gn===jn?0:gn<jn?-1:1}(zn(N),zn(V));case"Array":return function(Rt,Jt){const gn=Rt.length,jn=Jt.length,Qn=gn<jn?gn:jn;for(let yr=0;yr<Qn;++yr){const mr=Xo(Rt[yr],Jt[yr]);if(0!==mr)return mr}return gn===jn?0:gn<jn?-1:1}(N,V)}}catch{}return NaN}function Ns(N){const V=typeof N;if("object"!==V)return V;if(ArrayBuffer.isView(N))return"binary";const Oe=pt(N);return"ArrayBuffer"===Oe?"binary":Oe}function zn(N){return N instanceof Uint8Array?N:ArrayBuffer.isView(N)?new Uint8Array(N.buffer,N.byteOffset,N.byteLength):new Uint8Array(N)}class Wn{_read(V,Oe){var st=this._ctx;return st.error?st.table._trans(null,Pr.bind(null,st.error)):st.table._trans("readonly",V).then(Oe)}_write(V){var Oe=this._ctx;return Oe.error?Oe.table._trans(null,Pr.bind(null,Oe.error)):Oe.table._trans("readwrite",V,"locked")}_addAlgorithm(V){var Oe=this._ctx;Oe.algorithm=Sn(Oe.algorithm,V)}_iterate(V,Oe){return Lo(this._ctx,V,Oe,this._ctx.table.core)}clone(V){var Oe=Object.create(this.constructor.prototype),st=Object.create(this._ctx);return V&&v(st,V),Oe._ctx=st,Oe}raw(){return this._ctx.valueMapper=null,this}each(V){var Oe=this._ctx;return this._read(st=>Lo(Oe,V,st,Oe.table.core))}count(V){return this._read(Oe=>{const st=this._ctx,Rt=st.table.core;if(Ro(st,!0))return Rt.count({trans:Oe,query:{index:da(st,Rt.schema),range:st.range}}).then(gn=>Math.min(gn,st.limit));var Jt=0;return Lo(st,()=>(++Jt,!1),Oe,Rt).then(()=>Jt)}).then(V)}sortBy(V,Oe){const st=V.split(".").reverse(),Rt=st[0],Jt=st.length-1;function gn(yr,mr){return mr?gn(yr[st[mr]],mr-1):yr[Rt]}var jn="next"===this._ctx.dir?1:-1;function Qn(yr,mr){var Or=gn(yr,Jt),xr=gn(mr,Jt);return Or<xr?-jn:Or>xr?jn:0}return this.toArray(function(yr){return yr.sort(Qn)}).then(Oe)}toArray(V){return this._read(Oe=>{var st=this._ctx;if("next"===st.dir&&Ro(st,!0)&&st.limit>0){const{valueMapper:Rt}=st,Jt=da(st,st.table.core.schema);return st.table.core.query({trans:Oe,limit:st.limit,values:!0,query:{index:Jt,range:st.range}}).then(({result:gn})=>Rt?gn.map(Rt):gn)}{const Rt=[];return Lo(st,Jt=>Rt.push(Jt),Oe,st.table.core).then(()=>Rt)}},V)}offset(V){var Oe=this._ctx;return V<=0||(Oe.offset+=V,Ro(Oe)?xs(Oe,()=>{var st=V;return(Rt,Jt)=>0===st||(1===st?(--st,!1):(Jt(()=>{Rt.advance(st),st=0}),!1))}):xs(Oe,()=>{var st=V;return()=>--st<0})),this}limit(V){return this._ctx.limit=Math.min(this._ctx.limit,V),xs(this._ctx,()=>{var Oe=V;return function(st,Rt,Jt){return--Oe<=0&&Rt(Jt),Oe>=0}},!0),this}until(V,Oe){return Wo(this._ctx,function(st,Rt,Jt){return!V(st.value)||(Rt(Jt),Oe)}),this}first(V){return this.limit(1).toArray(function(Oe){return Oe[0]}).then(V)}last(V){return this.reverse().first(V)}filter(V){var Oe;return Wo(this._ctx,function(Rt){return V(Rt.value)}),(Oe=this._ctx).isMatch=Sn(Oe.isMatch,V),this}and(V){return this.filter(V)}or(V){return new this.db.WhereClause(this._ctx.table,V,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(V){var Oe=this._ctx;return Oe.keysOnly=!Oe.isMatch,this.each(function(st,Rt){V(Rt.key,Rt)})}eachUniqueKey(V){return this._ctx.unique="unique",this.eachKey(V)}eachPrimaryKey(V){var Oe=this._ctx;return Oe.keysOnly=!Oe.isMatch,this.each(function(st,Rt){V(Rt.primaryKey,Rt)})}keys(V){var Oe=this._ctx;Oe.keysOnly=!Oe.isMatch;var st=[];return this.each(function(Rt,Jt){st.push(Jt.key)}).then(function(){return st}).then(V)}primaryKeys(V){var Oe=this._ctx;if("next"===Oe.dir&&Ro(Oe,!0)&&Oe.limit>0)return this._read(Rt=>{var Jt=da(Oe,Oe.table.core.schema);return Oe.table.core.query({trans:Rt,values:!1,limit:Oe.limit,query:{index:Jt,range:Oe.range}})}).then(({result:Rt})=>Rt).then(V);Oe.keysOnly=!Oe.isMatch;var st=[];return this.each(function(Rt,Jt){st.push(Jt.primaryKey)}).then(function(){return st}).then(V)}uniqueKeys(V){return this._ctx.unique="unique",this.keys(V)}firstKey(V){return this.limit(1).keys(function(Oe){return Oe[0]}).then(V)}lastKey(V){return this.reverse().firstKey(V)}distinct(){var V=this._ctx,Oe=V.index&&V.table.schema.idxByName[V.index];if(!Oe||!Oe.multi)return this;var st={};return Wo(this._ctx,function(Rt){var Jt=Rt.primaryKey.toString(),gn=L(st,Jt);return st[Jt]=!0,!gn}),this}modify(V){var Oe=this._ctx;return this._write(st=>{var Rt;if("function"==typeof V)Rt=V;else{var Jt=y(V),gn=Jt.length;Rt=function(an){for(var Ln=!1,In=0;In<gn;++In){var rr=Jt[In],Zr=V[rr];Re(an,rr)!==Zr&&(oe(an,rr,Zr),Ln=!0)}return Ln}}const jn=Oe.table.core,{outbound:Qn,extractKey:yr}=jn.schema.primaryKey,mr=this.db._options.modifyChunkSize||200,Or=[];let xr=0;const ii=[],Vi=(an,Ln)=>{const{failures:In,numFailures:rr}=Ln;xr+=an-rr;for(let Zr of y(In))Or.push(In[Zr])};return this.clone().primaryKeys().then(an=>{const Ln=In=>{const rr=Math.min(mr,an.length-In);return jn.getMany({trans:st,keys:an.slice(In,In+rr),cache:"immutable"}).then(Zr=>{const xi=[],Li=[],Ii=Qn?[]:null,Ti=[];for(let Ji=0;Ji<rr;++Ji){const No=Zr[Ji],Ao={value:je(No),primKey:an[In+Ji]};!1!==Rt.call(Ao,Ao.value,Ao)&&(null==Ao.value?Ti.push(an[In+Ji]):Qn||0===Xo(yr(No),yr(Ao.value))?(Li.push(Ao.value),Qn&&Ii.push(an[In+Ji])):(Ti.push(an[In+Ji]),xi.push(Ao.value)))}const Ko=Ro(Oe)&&Oe.limit===1/0&&("function"!=typeof V||V===Nr)&&{index:Oe.index,range:Oe.range};return Promise.resolve(xi.length>0&&jn.mutate({trans:st,type:"add",values:xi}).then(Ji=>{for(let No in Ji.failures)Ti.splice(parseInt(No),1);Vi(xi.length,Ji)})).then(()=>(Li.length>0||Ko&&"object"==typeof V)&&jn.mutate({trans:st,type:"put",keys:Ii,values:Li,criteria:Ko,changeSpec:"function"!=typeof V&&V}).then(Ji=>Vi(Li.length,Ji))).then(()=>(Ti.length>0||Ko&&V===Nr)&&jn.mutate({trans:st,type:"delete",keys:Ti,criteria:Ko}).then(Ji=>Vi(Ti.length,Ji))).then(()=>an.length>In+rr&&Ln(In+mr))})};return Ln(0).then(()=>{if(Or.length>0)throw new T("Error modifying one or more objects",Or,xr,ii);return an.length})})})}delete(){var V=this._ctx,Oe=V.range;return Ro(V)&&(V.isPrimKey&&!Fo||3===Oe.type)?this._write(st=>{const{primaryKey:Rt}=V.table.core.schema,Jt=Oe;return V.table.core.count({trans:st,query:{index:Rt,range:Jt}}).then(gn=>V.table.core.mutate({trans:st,type:"deleteRange",range:Jt}).then(({failures:jn,numFailures:mr})=>{if(mr)throw new T("Could not delete some values",Object.keys(jn).map(Or=>jn[Or]),gn-mr);return gn-mr}))}):this.modify(Nr)}}const Nr=(N,V)=>V.value=null;function li(N,V){return N<V?-1:N===V?0:1}function hi(N,V){return N>V?-1:N===V?0:1}function ni(N,V,Oe){var st=N instanceof es?new N.Collection(N):N;return st._ctx.error=Oe?new Oe(V):new TypeError(V),st}function Hi(N){return new N.Collection(N,()=>os("")).limit(0)}function oo(N,V,Oe,st,Rt,Jt){for(var gn=Math.min(N.length,st.length),jn=-1,Qn=0;Qn<gn;++Qn){var yr=V[Qn];if(yr!==st[Qn])return Rt(N[Qn],Oe[Qn])<0?N.substr(0,Qn)+Oe[Qn]+Oe.substr(Qn+1):Rt(N[Qn],st[Qn])<0?N.substr(0,Qn)+st[Qn]+Oe.substr(Qn+1):jn>=0?N.substr(0,jn)+V[jn]+Oe.substr(jn+1):null;Rt(N[Qn],yr)<0&&(jn=Qn)}return gn<st.length&&"next"===Jt?N+Oe.substr(N.length):gn<N.length&&"prev"===Jt?N.substr(0,Oe.length):jn<0?null:N.substr(0,jn)+st[jn]+Oe.substr(jn+1)}function Eo(N,V,Oe,st){var Rt,Jt,gn,jn,Qn,yr,mr,Or=Oe.length;if(!Oe.every(an=>"string"==typeof an))return ni(N,$i);function xr(an){Rt=function(In){return"next"===In?rr=>rr.toUpperCase():rr=>rr.toLowerCase()}(an),Jt=function(In){return"next"===In?rr=>rr.toLowerCase():rr=>rr.toUpperCase()}(an),gn="next"===an?li:hi;var Ln=Oe.map(function(In){return{lower:Jt(In),upper:Rt(In)}}).sort(function(In,rr){return gn(In.lower,rr.lower)});jn=Ln.map(function(In){return In.upper}),Qn=Ln.map(function(In){return In.lower}),yr=an,mr="next"===an?"":st}xr("next");var ii=new N.Collection(N,()=>Ui(jn[0],Qn[Or-1]+st));ii._ondirectionchange=function(an){xr(an)};var Vi=0;return ii._addAlgorithm(function(an,Ln,In){var rr=an.key;if("string"!=typeof rr)return!1;var Zr=Jt(rr);if(V(Zr,Qn,Vi))return!0;for(var xi=null,Li=Vi;Li<Or;++Li){var Ii=oo(rr,Zr,jn[Li],Qn[Li],gn,yr);null===Ii&&null===xi?Vi=Li+1:(null===xi||gn(xi,Ii)>0)&&(xi=Ii)}return Ln(null!==xi?function(){an.continue(xi+mr)}:In),!1}),ii}function Ui(N,V,Oe,st){return{type:2,lower:N,upper:V,lowerOpen:Oe,upperOpen:st}}function os(N){return{type:1,lower:N,upper:N}}class es{get Collection(){return this._ctx.table.db.Collection}between(V,Oe,st,Rt){st=!1!==st,Rt=!0===Rt;try{return this._cmp(V,Oe)>0||0===this._cmp(V,Oe)&&(st||Rt)&&(!st||!Rt)?Hi(this):new this.Collection(this,()=>Ui(V,Oe,!st,!Rt))}catch{return ni(this,ji)}}equals(V){return null==V?ni(this,ji):new this.Collection(this,()=>os(V))}above(V){return null==V?ni(this,ji):new this.Collection(this,()=>Ui(V,void 0,!0))}aboveOrEqual(V){return null==V?ni(this,ji):new this.Collection(this,()=>Ui(V,void 0,!1))}below(V){return null==V?ni(this,ji):new this.Collection(this,()=>Ui(void 0,V,!1,!0))}belowOrEqual(V){return null==V?ni(this,ji):new this.Collection(this,()=>Ui(void 0,V))}startsWith(V){return"string"!=typeof V?ni(this,$i):this.between(V,V+"\uffff",!0,!0)}startsWithIgnoreCase(V){return""===V?this.startsWith(V):Eo(this,(Oe,st)=>0===Oe.indexOf(st[0]),[V],"\uffff")}equalsIgnoreCase(V){return Eo(this,(Oe,st)=>Oe===st[0],[V],"")}anyOfIgnoreCase(){var V=ee.apply(G,arguments);return 0===V.length?Hi(this):Eo(this,(Oe,st)=>-1!==st.indexOf(Oe),V,"")}startsWithAnyOfIgnoreCase(){var V=ee.apply(G,arguments);return 0===V.length?Hi(this):Eo(this,(Oe,st)=>st.some(Rt=>0===Oe.indexOf(Rt)),V,"\uffff")}anyOf(){const V=ee.apply(G,arguments);let Oe=this._cmp;try{V.sort(Oe)}catch{return ni(this,ji)}if(0===V.length)return Hi(this);const st=new this.Collection(this,()=>Ui(V[0],V[V.length-1]));st._ondirectionchange=Jt=>{Oe="next"===Jt?this._ascending:this._descending,V.sort(Oe)};let Rt=0;return st._addAlgorithm((Jt,gn,jn)=>{const Qn=Jt.key;for(;Oe(Qn,V[Rt])>0;)if(++Rt,Rt===V.length)return gn(jn),!1;return 0===Oe(Qn,V[Rt])||(gn(()=>{Jt.continue(V[Rt])}),!1)}),st}notEqual(V){return this.inAnyRange([[Ri,V],[V,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const V=ee.apply(G,arguments);if(0===V.length)return new this.Collection(this);try{V.sort(this._ascending)}catch{return ni(this,ji)}const Oe=V.reduce((st,Rt)=>st?st.concat([[st[st.length-1][1],Rt]]):[[Ri,Rt]],null);return Oe.push([V[V.length-1],this.db._maxKey]),this.inAnyRange(Oe,{includeLowers:!1,includeUppers:!1})}inAnyRange(V,Oe){const st=this._cmp,Rt=this._ascending,Jt=this._descending,gn=this._min,jn=this._max;if(0===V.length)return Hi(this);if(!V.every(rr=>void 0!==rr[0]&&void 0!==rr[1]&&Rt(rr[0],rr[1])<=0))return ni(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);const Qn=!Oe||!1!==Oe.includeLowers,yr=Oe&&!0===Oe.includeUppers;let mr,Or=Rt;function xr(rr,Zr){return Or(rr[0],Zr[0])}try{mr=V.reduce(function(rr,Zr){let xi=0,Li=rr.length;for(;xi<Li;++xi){const Ii=rr[xi];if(st(Zr[0],Ii[1])<0&&st(Zr[1],Ii[0])>0){Ii[0]=gn(Ii[0],Zr[0]),Ii[1]=jn(Ii[1],Zr[1]);break}}return xi===Li&&rr.push(Zr),rr},[]),mr.sort(xr)}catch{return ni(this,ji)}let ii=0;const Vi=yr?rr=>Rt(rr,mr[ii][1])>0:rr=>Rt(rr,mr[ii][1])>=0,an=Qn?rr=>Jt(rr,mr[ii][0])>0:rr=>Jt(rr,mr[ii][0])>=0;let Ln=Vi;const In=new this.Collection(this,()=>Ui(mr[0][0],mr[mr.length-1][1],!Qn,!yr));return In._ondirectionchange=rr=>{"next"===rr?(Ln=Vi,Or=Rt):(Ln=an,Or=Jt),mr.sort(xr)},In._addAlgorithm((rr,Zr,xi)=>{for(var Li=rr.key;Ln(Li);)if(++ii,ii===mr.length)return Zr(xi),!1;return!((Vi(Ii=Li)||an(Ii))&&(0===this._cmp(Li,mr[ii][1])||0===this._cmp(Li,mr[ii][0])||Zr(()=>{rr.continue(Or===Rt?mr[ii][0]:mr[ii][1])}),1));var Ii}),In}startsWithAnyOf(){const V=ee.apply(G,arguments);return V.every(Oe=>"string"==typeof Oe)?0===V.length?Hi(this):this.inAnyRange(V.map(Oe=>[Oe,Oe+"\uffff"])):ni(this,"startsWithAnyOf() only works with strings")}}function rs(N){return ti(function(V){return Ps(V),N(V.target.error),!1})}function Ps(N){N.stopPropagation&&N.stopPropagation(),N.preventDefault&&N.preventDefault()}const Oo="storagemutated",Ts="x-storagemutated-1",gs=Wr(null,Oo);class ha{_lock(){return X(!Xt.global),++this._reculock,1!==this._reculock||Xt.global||(Xt.lockOwnerFor=this),this}_unlock(){if(X(!Xt.global),0==--this._reculock)for(Xt.global||(Xt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var V=this._blockedFuncs.shift();try{te(V[1],V[0])}catch{}}return this}_locked(){return this._reculock&&Xt.lockOwnerFor!==this}create(V){if(!this.mode)return this;const Oe=this.db.idbdb,st=this.db._state.dbOpenError;if(X(!this.idbtrans),!V&&!Oe)switch(st&&st.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(st);case"MissingAPIError":throw new ne.MissingAPI(st.message,st);default:throw new ne.OpenFailed(st)}if(!this.active)throw new ne.TransactionInactive;return X(null===this._completion._state),(V=this.idbtrans=V||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):Oe.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ti(Rt=>{Ps(Rt),this._reject(V.error)}),V.onabort=ti(Rt=>{Ps(Rt),this.active&&this._reject(new ne.Abort(V.error)),this.active=!1,this.on("abort").fire(Rt)}),V.oncomplete=ti(()=>{this.active=!1,this._resolve(),"mutatedParts"in V&&gs.storagemutated.fire(V.mutatedParts)}),this}_promise(V,Oe,st){if("readwrite"===V&&"readwrite"!==this.mode)return Pr(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return Pr(new ne.TransactionInactive);if(this._locked())return new Bn((Jt,gn)=>{this._blockedFuncs.push([()=>{this._promise(V,Oe,st).then(Jt,gn)},Xt])});if(st)return Ni(()=>{var Jt=new Bn((gn,jn)=>{this._lock();const Qn=Oe(gn,jn,this);Qn&&Qn.then&&Qn.then(gn,jn)});return Jt.finally(()=>this._unlock()),Jt._lib=!0,Jt});var Rt=new Bn((Jt,gn)=>{var jn=Oe(Jt,gn,this);jn&&jn.then&&jn.then(Jt,gn)});return Rt._lib=!0,Rt}_root(){return this.parent?this.parent._root():this}waitFor(V){var Oe=this._root();const st=Bn.resolve(V);if(Oe._waitingFor)Oe._waitingFor=Oe._waitingFor.then(()=>st);else{Oe._waitingFor=st,Oe._waitingQueue=[];var Rt=Oe.idbtrans.objectStore(Oe.storeNames[0]);!function gn(){for(++Oe._spinCount;Oe._waitingQueue.length;)Oe._waitingQueue.shift()();Oe._waitingFor&&(Rt.get(-1/0).onsuccess=gn)}()}var Jt=Oe._waitingFor;return new Bn((gn,jn)=>{st.then(Qn=>Oe._waitingQueue.push(ti(gn.bind(null,Qn))),Qn=>Oe._waitingQueue.push(ti(jn.bind(null,Qn)))).finally(()=>{Oe._waitingFor===Jt&&(Oe._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))}table(V){const Oe=this._memoizedTables||(this._memoizedTables={});if(L(Oe,V))return Oe[V];const st=this.schema[V];if(!st)throw new ne.NotFound("Table "+V+" not part of transaction");const Rt=new this.db.Table(V,st,this);return Rt.core=this.db.core.table(V),Oe[V]=Rt,Rt}}function Es(N,V,Oe,st,Rt,Jt,gn){return{name:N,keyPath:V,unique:Oe,multi:st,auto:Rt,compound:Jt,src:(Oe&&!gn?"&":"")+(st?"*":"")+(Rt?"++":"")+Vo(V)}}function Vo(N){return"string"==typeof N?N:N?"["+[].join.call(N,"+")+"]":""}function Ls(N,V,Oe){return{name:N,primKey:V,indexes:Oe,mappedClass:null,idxByName:Z(Oe,st=>[st.name,st])}}let _s=N=>{try{return N.only([[]]),_s=()=>[[]],[[]]}catch{return _s=()=>"\uffff","\uffff"}};function ea(N){return null==N?()=>{}:"string"==typeof N?1===(V=N).split(".").length?st=>st[V]:st=>Re(st,V):V=>Re(V,N);var V}function us(N){return[].slice.call(N)}let Gn=0;function Yn(N){return null==N?":id":"string"==typeof N?N:`[${N.join("+")}]`}function or(N,V,Oe){function st(Qn){if(3===Qn.type)return null;if(4===Qn.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:yr,upper:mr,lowerOpen:Or,upperOpen:xr}=Qn;return void 0===yr?void 0===mr?null:V.upperBound(mr,!!xr):void 0===mr?V.lowerBound(yr,!!Or):V.bound(yr,mr,!!Or,!!xr)}const{schema:Rt,hasGetAll:Jt}=function(Qn,yr){const mr=us(Qn.objectStoreNames);return{schema:{name:Qn.name,tables:mr.map(Or=>yr.objectStore(Or)).map(Or=>{const{keyPath:xr,autoIncrement:ii}=Or,Vi=u(xr),Ln={},In={name:Or.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==xr,compound:Vi,keyPath:xr,autoIncrement:ii,unique:!0,extractKey:ea(xr)},indexes:us(Or.indexNames).map(rr=>Or.index(rr)).map(rr=>{const{name:Zr,unique:xi,multiEntry:Li,keyPath:Ii}=rr,Ti={name:Zr,compound:u(Ii),keyPath:Ii,unique:xi,multiEntry:Li,extractKey:ea(Ii)};return Ln[Yn(Ii)]=Ti,Ti}),getIndexByKeyPath:rr=>Ln[Yn(rr)]};return Ln[":id"]=In.primaryKey,null!=xr&&(Ln[Yn(xr)]=In.primaryKey),In})},hasGetAll:mr.length>0&&"getAll"in yr.objectStore(mr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(N,Oe),gn=Rt.tables.map(Qn=>function(yr){const mr=yr.name;return{name:mr,schema:yr,mutate:function({trans:Or,type:xr,keys:ii,values:Vi,range:an}){return new Promise((Ln,In)=>{Ln=ti(Ln);const rr=Or.objectStore(mr),Zr=null==rr.keyPath,xi="put"===xr||"add"===xr;if(!xi&&"delete"!==xr&&"deleteRange"!==xr)throw new Error("Invalid operation type: "+xr);const{length:Li}=ii||Vi||{length:1};if(ii&&Vi&&ii.length!==Vi.length)throw new Error("Given keys array must have same length as given values array.");if(0===Li)return Ln({numFailures:0,failures:{},results:[],lastResult:void 0});let Ii;const Ti=[],Ko=[];let Ji=0;const No=ts=>{++Ji,Ps(ts)};if("deleteRange"===xr){if(4===an.type)return Ln({numFailures:Ji,failures:Ko,results:[],lastResult:void 0});Ti.push(Ii=3===an.type?rr.clear():rr.delete(st(an)))}else{const[ts,Ms]=xi?Zr?[Vi,ii]:[Vi,null]:[ii,null];if(xi)for(let Yo=0;Yo<Li;++Yo)Ti.push(Ii=Ms&&void 0!==Ms[Yo]?rr[xr](ts[Yo],Ms[Yo]):rr[xr](ts[Yo])),Ii.onerror=No;else for(let Yo=0;Yo<Li;++Yo)Ti.push(Ii=rr[xr](ts[Yo])),Ii.onerror=No}const Ao=ts=>{const Ms=ts.target.result;Ti.forEach((Yo,jo)=>null!=Yo.error&&(Ko[jo]=Yo.error)),Ln({numFailures:Ji,failures:Ko,results:"delete"===xr?ii:Ti.map(Yo=>Yo.result),lastResult:Ms})};Ii.onerror=ts=>{No(ts),Ao(ts)},Ii.onsuccess=Ao})},getMany:({trans:Or,keys:xr})=>new Promise((ii,Vi)=>{ii=ti(ii);const an=Or.objectStore(mr),Ln=xr.length,In=new Array(Ln);let rr,Zr=0,xi=0;const Li=Ti=>{const Ko=Ti.target;In[Ko._pos]=Ko.result,++xi===Zr&&ii(In)},Ii=rs(Vi);for(let Ti=0;Ti<Ln;++Ti)null!=xr[Ti]&&(rr=an.get(xr[Ti]),rr._pos=Ti,rr.onsuccess=Li,rr.onerror=Ii,++Zr);0===Zr&&ii(In)}),get:({trans:Or,key:xr})=>new Promise((ii,Vi)=>{ii=ti(ii);const an=Or.objectStore(mr).get(xr);an.onsuccess=Ln=>ii(Ln.target.result),an.onerror=rs(Vi)}),query:function(Or){return xr=>new Promise((ii,Vi)=>{ii=ti(ii);const{trans:an,values:Ln,limit:In,query:rr}=xr,Zr=In===1/0?void 0:In,{index:xi,range:Li}=rr,Ii=an.objectStore(mr),Ti=xi.isPrimaryKey?Ii:Ii.index(xi.name),Ko=st(Li);if(0===In)return ii({result:[]});if(Or){const Ji=Ln?Ti.getAll(Ko,Zr):Ti.getAllKeys(Ko,Zr);Ji.onsuccess=No=>ii({result:No.target.result}),Ji.onerror=rs(Vi)}else{let Ji=0;const No=Ln||!("openKeyCursor"in Ti)?Ti.openCursor(Ko):Ti.openKeyCursor(Ko),Ao=[];No.onsuccess=ts=>{const Ms=No.result;return Ms?(Ao.push(Ln?Ms.value:Ms.primaryKey),++Ji===In?ii({result:Ao}):void Ms.continue()):ii({result:Ao})},No.onerror=rs(Vi)}})}(Jt),openCursor:function({trans:Or,values:xr,query:ii,reverse:Vi,unique:an}){return new Promise((Ln,In)=>{Ln=ti(Ln);const{index:rr,range:Zr}=ii,xi=Or.objectStore(mr),Li=rr.isPrimaryKey?xi:xi.index(rr.name),Ii=Vi?an?"prevunique":"prev":an?"nextunique":"next",Ti=xr||!("openKeyCursor"in Li)?Li.openCursor(st(Zr),Ii):Li.openKeyCursor(st(Zr),Ii);Ti.onerror=rs(In),Ti.onsuccess=ti(Ko=>{const Ji=Ti.result;if(!Ji)return void Ln(null);Ji.___id=++Gn,Ji.done=!1;const No=Ji.continue.bind(Ji);let Ao=Ji.continuePrimaryKey;Ao&&(Ao=Ao.bind(Ji));const ts=Ji.advance.bind(Ji),Ms=()=>{throw new Error("Cursor not stopped")};Ji.trans=Or,Ji.stop=Ji.continue=Ji.continuePrimaryKey=Ji.advance=()=>{throw new Error("Cursor not started")},Ji.fail=ti(In),Ji.next=function(){let Yo=1;return this.start(()=>Yo--?this.continue():this.stop()).then(()=>this)},Ji.start=Yo=>{const jo=new Promise((js,oa)=>{js=ti(js),Ti.onerror=rs(oa),Ji.fail=oa,Ji.stop=Sa=>{Ji.stop=Ji.continue=Ji.continuePrimaryKey=Ji.advance=Ms,js(Sa)}}),Ea=()=>{if(Ti.result)try{Yo()}catch(js){Ji.fail(js)}else Ji.done=!0,Ji.start=()=>{throw new Error("Cursor behind last entry")},Ji.stop()};return Ti.onsuccess=ti(js=>{Ti.onsuccess=Ea,Ea()}),Ji.continue=No,Ji.continuePrimaryKey=Ao,Ji.advance=ts,Ea(),jo},Ln(Ji)},In)})},count({query:Or,trans:xr}){const{index:ii,range:Vi}=Or;return new Promise((an,Ln)=>{const In=xr.objectStore(mr),rr=ii.isPrimaryKey?In:In.index(ii.name),Zr=st(Vi),xi=Zr?rr.count(Zr):rr.count();xi.onsuccess=ti(Li=>an(Li.target.result)),xi.onerror=rs(Ln)})}}}(Qn)),jn={};return gn.forEach(Qn=>jn[Qn.name]=Qn),{stack:"dbcore",transaction:N.transaction.bind(N),table(Qn){if(!jn[Qn])throw new Error(`Table '${Qn}' not found`);return jn[Qn]},MIN_KEY:-1/0,MAX_KEY:_s(V),schema:Rt}}function Cr({_novip:N},V){const st=function(Rt,Jt,{IDBKeyRange:gn},Qn){return{dbcore:(mr=or(Jt,gn,Qn),Or=Rt.dbcore,Or.reduce((xr,{create:ii})=>({...xr,...ii(xr)}),mr))};var mr,Or}(N._middlewares,V.db,N._deps,V);N.core=st.dbcore,N.tables.forEach(Rt=>{const Jt=Rt.name;N.core.schema.tables.some(gn=>gn.name===Jt)&&(Rt.core=N.core.table(Jt),N[Jt]instanceof N.Table&&(N[Jt].core=Rt.core))})}function fi({_novip:N},V,Oe,st){Oe.forEach(Rt=>{const Jt=st[Rt];V.forEach(gn=>{const jn=M(gn,Rt);(!jn||"value"in jn&&void 0===jn.value)&&(gn===N.Transaction.prototype||gn instanceof N.Transaction?U(gn,Rt,{get(){return this.table(Rt)},set(Qn){S(this,Rt,{value:Qn,writable:!0,configurable:!0,enumerable:!0})}}):gn[Rt]=new N.Table(Rt,Jt))})})}function Fi({_novip:N},V){V.forEach(Oe=>{for(let st in Oe)Oe[st]instanceof N.Table&&delete Oe[st]})}function so(N,V){return N._cfg.version-V._cfg.version}function eo(N,V){const Oe={del:[],add:[],change:[]};let st;for(st in N)V[st]||Oe.del.push(st);for(st in V){const Rt=N[st],Jt=V[st];if(Rt){const gn={name:st,def:Jt,recreate:!1,del:[],add:[],change:[]};if(""+(Rt.primKey.keyPath||"")!=""+(Jt.primKey.keyPath||"")||Rt.primKey.auto!==Jt.primKey.auto&&!no)gn.recreate=!0,Oe.change.push(gn);else{const jn=Rt.idxByName,Qn=Jt.idxByName;let yr;for(yr in jn)Qn[yr]||gn.del.push(yr);for(yr in Qn){const mr=jn[yr],Or=Qn[yr];mr?mr.src!==Or.src&&gn.change.push(Or):gn.add.push(Or)}(gn.del.length>0||gn.add.length>0||gn.change.length>0)&&Oe.change.push(gn)}}else Oe.add.push([st,Jt])}return Oe}function Wt(N,V,Oe,st){const Rt=N.db.createObjectStore(V,Oe.keyPath?{keyPath:Oe.keyPath,autoIncrement:Oe.auto}:{autoIncrement:Oe.auto});return st.forEach(Jt=>mn(Rt,Jt)),Rt}function mn(N,V){N.createIndex(V.name,V.keyPath,{unique:V.unique,multiEntry:V.multi})}function _n(N,V,Oe){const st={};return ue(V.objectStoreNames,0).forEach(Rt=>{const Jt=Oe.objectStore(Rt);let gn=Jt.keyPath;const jn=Es(Vo(gn),gn||"",!1,!1,!!Jt.autoIncrement,gn&&"string"!=typeof gn,!0),Qn=[];for(let mr=0;mr<Jt.indexNames.length;++mr){const Or=Jt.index(Jt.indexNames[mr]);gn=Or.keyPath;var yr=Es(Or.name,gn,!!Or.unique,!!Or.multiEntry,!1,gn&&"string"!=typeof gn,!1);Qn.push(yr)}st[Rt]=Ls(Rt,jn,Qn)}),st}function fr({_novip:N},V,Oe){const st=Oe.db.objectStoreNames;for(let Rt=0;Rt<st.length;++Rt){const Jt=st[Rt],gn=Oe.objectStore(Jt);N._hasGetAll="getAll"in gn;for(let jn=0;jn<gn.indexNames.length;++jn){const Qn=gn.indexNames[jn],yr=gn.index(Qn).keyPath,mr="string"==typeof yr?yr:"["+ue(yr).join("+")+"]";if(V[Jt]){const Or=V[Jt].idxByName[mr];Or&&(Or.name=Qn,delete V[Jt].idxByName[mr],V[Jt].idxByName[Qn]=Or)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(N._hasGetAll=!1)}class Tr{_parseStoresSpec(V,Oe){y(V).forEach(st=>{if(null!==V[st]){var Rt=V[st].split(",").map((gn,jn)=>{const Qn=(gn=gn.trim()).replace(/([&*]|\+\+)/g,""),yr=/^\[/.test(Qn)?Qn.match(/^\[(.*)\]$/)[1].split("+"):Qn;return Es(Qn,yr||null,/\&/.test(gn),/\*/.test(gn),/\+\+/.test(gn),u(yr),0===jn)}),Jt=Rt.shift();if(Jt.multi)throw new ne.Schema("Primary key cannot be multi-valued");Rt.forEach(gn=>{if(gn.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!gn.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")}),Oe[st]=Ls(st,Jt,Rt)}})}stores(V){const Oe=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,V):V;const Rt={};let Jt={};return Oe._versions.forEach(gn=>{v(Rt,gn._cfg.storesSource),Jt=gn._cfg.dbschema={},gn._parseStoresSpec(Rt,Jt)}),Oe._dbSchema=Jt,Fi(Oe,[Oe._allTables,Oe,Oe.Transaction.prototype]),fi(Oe,[Oe._allTables,Oe,Oe.Transaction.prototype,this._cfg.tables],y(Jt),Jt),Oe._storeNames=y(Jt),this}upgrade(V){return this._cfg.contentUpgrade=It(this._cfg.contentUpgrade||B,V),this}}function lr(N,V){let Oe=N._dbNamesDB;return Oe||(Oe=N._dbNamesDB=new Xn(Se,{addons:[],indexedDB:N,IDBKeyRange:V}),Oe.version(1).stores({dbnames:"name"})),Oe.table("dbnames")}function Br(N){return N&&"function"==typeof N.databases}function jr(N){return Ni(function(){return Xt.letThrough=!0,N()})}function ui(){var N;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(V){var Oe=function(){return indexedDB.databases().finally(V)};N=setInterval(Oe,100),Oe()}).finally(function(){return clearInterval(N)}):Promise.resolve()}function Wi(N){var V=Jt=>N.next(Jt),Oe=Rt(V),st=Rt(Jt=>N.throw(Jt));function Rt(Jt){return gn=>{var jn=Jt(gn),Qn=jn.value;return jn.done?Qn:Qn&&"function"==typeof Qn.then?Qn.then(Oe,st):u(Qn)?Promise.all(Qn).then(Oe,st):Oe(Qn)}}return Rt(V)()}function ao(N,V,Oe){var st=arguments.length;if(st<2)throw new ne.InvalidArgument("Too few arguments");for(var Rt=new Array(st-1);--st;)Rt[st-1]=arguments[st];return Oe=Rt.pop(),[N,R(Rt),Oe]}function vo(N,V,Oe,st,Rt){return Bn.resolve().then(()=>{const Jt=Xt.transless||Xt,gn=N._createTransaction(V,Oe,N._dbSchema,st),jn={trans:gn,transless:Jt};if(st)gn.idbtrans=st.idbtrans;else try{gn.create(),N._state.PR1398_maxLoop=3}catch(Or){return Or.name===W.InvalidState&&N.isOpen()&&--N._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),N._close(),N.open().then(()=>vo(N,V,Oe,null,Rt))):Pr(Or)}const Qn=De(Rt);let yr;Qn&&rn();const mr=Bn.follow(()=>{if(yr=Rt.call(gn,gn),yr)if(Qn){var Or=En.bind(null,null);yr.then(Or,Or)}else"function"==typeof yr.next&&"function"==typeof yr.throw&&(yr=Wi(yr))},jn);return(yr&&"function"==typeof yr.then?Bn.resolve(yr).then(Or=>gn.active?Or:Pr(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):mr.then(()=>yr)).then(Or=>(st&&gn._resolve(),gn._completion.then(()=>Or))).catch(Or=>(gn._reject(Or),Pr(Or)))})}function _o(N,V,Oe){const st=u(N)?N.slice():[N];for(let Rt=0;Rt<Oe;++Rt)st.push(V);return st}const wo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(N){return{...N,table(V){const Oe=N.table(V),{schema:st}=Oe,Rt={},Jt=[];function gn(mr,Or,xr){const ii=Yn(mr),Vi=Rt[ii]=Rt[ii]||[],an=null==mr?0:"string"==typeof mr?1:mr.length,Ln=Or>0,In={...xr,isVirtual:Ln,keyTail:Or,keyLength:an,extractKey:ea(mr),unique:!Ln&&xr.unique};return Vi.push(In),In.isPrimaryKey||Jt.push(In),an>1&&gn(2===an?mr[0]:mr.slice(0,an-1),Or+1,xr),Vi.sort((rr,Zr)=>rr.keyTail-Zr.keyTail),In}const jn=gn(st.primaryKey.keyPath,0,st.primaryKey);Rt[":id"]=[jn];for(const mr of st.indexes)gn(mr.keyPath,0,mr);function Qn(mr){const Or=mr.query.index;return Or.isVirtual?{...mr,query:{index:Or,range:(xr=mr.query.range,ii=Or.keyTail,{type:1===xr.type?2:xr.type,lower:_o(xr.lower,xr.lowerOpen?N.MAX_KEY:N.MIN_KEY,ii),lowerOpen:!0,upper:_o(xr.upper,xr.upperOpen?N.MIN_KEY:N.MAX_KEY,ii),upperOpen:!0})}}:mr;var xr,ii}return{...Oe,schema:{...st,primaryKey:jn,indexes:Jt,getIndexByKeyPath:function(mr){const Or=Rt[Yn(mr)];return Or&&Or[0]}},count:mr=>Oe.count(Qn(mr)),query:mr=>Oe.query(Qn(mr)),openCursor(mr){const{keyTail:Or,isVirtual:xr,keyLength:ii}=mr.query.index;return xr?Oe.openCursor(Qn(mr)).then(Vi=>{return Vi&&(an=Vi,Object.create(an,{continue:{value:function(In){null!=In?an.continue(_o(In,mr.reverse?N.MAX_KEY:N.MIN_KEY,Or)):mr.unique?an.continue(an.key.slice(0,ii).concat(mr.reverse?N.MIN_KEY:N.MAX_KEY,Or)):an.continue()}},continuePrimaryKey:{value(In,rr){an.continuePrimaryKey(_o(In,N.MAX_KEY,Or),rr)}},primaryKey:{get:()=>an.primaryKey},key:{get(){const In=an.key;return 1===ii?In[0]:In.slice(0,ii)}},value:{get:()=>an.value}}));var an}):Oe.openCursor(mr)}}}}}};function Po(N,V,Oe,st){return Oe=Oe||{},st=st||"",y(N).forEach(Rt=>{if(L(V,Rt)){var Jt=N[Rt],gn=V[Rt];if("object"==typeof Jt&&"object"==typeof gn&&Jt&&gn){const jn=pt(Jt);jn!==pt(gn)?Oe[st+Rt]=V[Rt]:"Object"===jn?Po(Jt,gn,Oe,st+Rt+"."):Jt!==gn&&(Oe[st+Rt]=V[Rt])}else Jt!==gn&&(Oe[st+Rt]=V[Rt])}else Oe[st+Rt]=void 0}),y(V).forEach(Rt=>{L(N,Rt)||(Oe[st+Rt]=V[Rt])}),Oe}const xo={stack:"dbcore",name:"HooksMiddleware",level:2,create:N=>({...N,table(V){const Oe=N.table(V),{primaryKey:st}=Oe.schema;return{...Oe,mutate(Jt){const gn=Xt.trans,{deleting:jn,creating:Qn,updating:yr}=gn.table(V).hook;switch(Jt.type){case"add":if(Qn.fire===B)break;return gn._promise("readwrite",()=>mr(Jt),!0);case"put":if(Qn.fire===B&&yr.fire===B)break;return gn._promise("readwrite",()=>mr(Jt),!0);case"delete":if(jn.fire===B)break;return gn._promise("readwrite",()=>mr(Jt),!0);case"deleteRange":if(jn.fire===B)break;return gn._promise("readwrite",()=>{return Or((xr=Jt).trans,xr.range,1e4);var xr},!0)}return Oe.mutate(Jt);function mr(xr){const ii=Xt.trans,Vi=xr.keys||("delete"===(Ln=xr).type?Ln.keys:Ln.keys||Ln.values.map(st.extractKey));var Ln;if(!Vi)throw new Error("Keys missing");return"delete"!==(xr="add"===xr.type||"put"===xr.type?{...xr,keys:Vi}:{...xr}).type&&(xr.values=[...xr.values]),xr.keys&&(xr.keys=[...xr.keys]),function(an,Ln,In){return"add"===Ln.type?Promise.resolve([]):an.getMany({trans:Ln.trans,keys:In,cache:"immutable"})}(Oe,xr,Vi).then(an=>{const Ln=Vi.map((In,rr)=>{const Zr=an[rr],xi={onerror:null,onsuccess:null};if("delete"===xr.type)jn.fire.call(xi,In,Zr,ii);else if("add"===xr.type||void 0===Zr){const Li=Qn.fire.call(xi,In,xr.values[rr],ii);null==In&&null!=Li&&(xr.keys[rr]=In=Li,st.outbound||oe(xr.values[rr],st.keyPath,In))}else{const Li=Po(Zr,xr.values[rr]),Ii=yr.fire.call(xi,Li,In,Zr,ii);if(Ii){const Ti=xr.values[rr];Object.keys(Ii).forEach(Ko=>{L(Ti,Ko)?Ti[Ko]=Ii[Ko]:oe(Ti,Ko,Ii[Ko])})}}return xi});return Oe.mutate(xr).then(({failures:In,results:rr,numFailures:Zr,lastResult:xi})=>{for(let Li=0;Li<Vi.length;++Li){const Ii=rr?rr[Li]:Vi[Li],Ti=Ln[Li];null==Ii?Ti.onerror&&Ti.onerror(In[Li]):Ti.onsuccess&&Ti.onsuccess("put"===xr.type&&an[Li]?xr.values[Li]:Ii)}return{failures:In,results:rr,numFailures:Zr,lastResult:xi}}).catch(In=>(Ln.forEach(rr=>rr.onerror&&rr.onerror(In)),Promise.reject(In)))})}function Or(xr,ii,Vi){return Oe.query({trans:xr,values:!1,query:{index:st,range:ii},limit:Vi}).then(({result:an})=>mr({type:"delete",keys:an,trans:xr}).then(Ln=>Ln.numFailures>0?Promise.reject(Ln.failures[0]):an.length<Vi?{failures:[],numFailures:0,lastResult:void 0}:Or(xr,{...ii,lower:an[an.length-1],lowerOpen:!0},Vi)))}}}}})};function Qo(N,V,Oe){try{if(!V||V.keys.length<N.length)return null;const st=[];for(let Rt=0,Jt=0;Rt<V.keys.length&&Jt<N.length;++Rt)0===Xo(V.keys[Rt],N[Jt])&&(st.push(Oe?je(V.values[Rt]):V.values[Rt]),++Jt);return st.length===N.length?st:null}catch{return null}}const tt={stack:"dbcore",level:-1,create:N=>({table:V=>{const Oe=N.table(V);return{...Oe,getMany:st=>{if(!st.cache)return Oe.getMany(st);const Rt=Qo(st.keys,st.trans._cache,"clone"===st.cache);return Rt?Bn.resolve(Rt):Oe.getMany(st).then(Jt=>(st.trans._cache={keys:st.keys,values:"clone"===st.cache?je(Jt):Jt},Jt))},mutate:st=>("add"!==st.type&&(st.trans._cache=null),Oe.mutate(st))}}})};function Qt(N){return!("from"in N)}const He=function(N,V){if(!this){const Oe=new He;return N&&"d"in N&&v(Oe,N),Oe}v(this,arguments.length?{d:1,from:N,to:arguments.length>1?V:N}:{d:0})};function j(N,V,Oe){const st=Xo(V,Oe);if(isNaN(st))return;if(st>0)throw RangeError();if(Qt(N))return v(N,{from:V,to:Oe,d:1});const Rt=N.l,Jt=N.r;if(Xo(Oe,N.from)<0)return Rt?j(Rt,V,Oe):N.l={from:V,to:Oe,d:1,l:null,r:null},q(N);if(Xo(V,N.to)>0)return Jt?j(Jt,V,Oe):N.r={from:V,to:Oe,d:1,l:null,r:null},q(N);Xo(V,N.from)<0&&(N.from=V,N.l=null,N.d=Jt?Jt.d+1:1),Xo(Oe,N.to)>0&&(N.to=Oe,N.r=null,N.d=N.l?N.l.d+1:1);const gn=!N.r;Rt&&!N.l&&pe(N,Rt),Jt&&gn&&pe(N,Jt)}function pe(N,V){Qt(V)||function Oe(st,{from:Rt,to:Jt,l:gn,r:jn}){j(st,Rt,Jt),gn&&Oe(st,gn),jn&&Oe(st,jn)}(N,V)}function le(N){let V=Qt(N)?null:{s:0,n:N};return{next(Oe){const st=arguments.length>0;for(;V;)switch(V.s){case 0:if(V.s=1,st)for(;V.n.l&&Xo(Oe,V.n.from)<0;)V={up:V,n:V.n.l,s:1};else for(;V.n.l;)V={up:V,n:V.n.l,s:1};case 1:if(V.s=2,!st||Xo(Oe,V.n.to)<=0)return{value:V.n,done:!1};case 2:if(V.n.r){V.s=3,V={up:V,n:V.n.r,s:0};continue}case 3:V=V.up}return{done:!0}}}}function q(N){var V,Oe;const st=((null===(V=N.r)||void 0===V?void 0:V.d)||0)-((null===(Oe=N.l)||void 0===Oe?void 0:Oe.d)||0),Rt=st>1?"r":st<-1?"l":"";if(Rt){const Jt="r"===Rt?"l":"r",gn={...N},jn=N[Rt];N.from=jn.from,N.to=jn.to,N[Rt]=jn[Rt],gn[Rt]=jn[Jt],N[Jt]=gn,gn.d=Je(gn)}N.d=Je(N)}function Je({r:N,l:V}){return(N?V?Math.max(N.d,V.d):N.d:V?V.d:0)+1}F(He.prototype,{add(N){return pe(this,N),this},addKey(N){return j(this,N,N),this},addKeys(N){return N.forEach(V=>j(this,V,V)),this},[St](){return le(this)}});const Ut={stack:"dbcore",level:0,create:N=>{const V=N.schema.name,Oe=new He(N.MIN_KEY,N.MAX_KEY);return{...N,table:st=>{const Rt=N.table(st),{schema:Jt}=Rt,{primaryKey:gn}=Jt,{extractKey:jn,outbound:Qn}=gn,yr={...Rt,mutate:xr=>{const ii=xr.trans,Vi=ii.mutatedParts||(ii.mutatedParts={}),an=Ii=>{const Ti=`idb://${V}/${st}/${Ii}`;return Vi[Ti]||(Vi[Ti]=new He)},Ln=an(""),In=an(":dels"),{type:rr}=xr;let[Zr,xi]="deleteRange"===xr.type?[xr.range]:"delete"===xr.type?[xr.keys]:xr.values.length<50?[[],xr.values]:[];const Li=xr.trans._cache;return Rt.mutate(xr).then(Ii=>{if(u(Zr)){"delete"!==rr&&(Zr=Ii.results),Ln.addKeys(Zr);const Ti=Qo(Zr,Li);Ti||"add"===rr||In.addKeys(Zr),(Ti||xi)&&(Ko=an,No=Ti,Ao=xi,Jt.indexes.forEach(function ts(Ms){const Yo=Ko(Ms.name||"");function jo(js){return null!=js?Ms.extractKey(js):null}const Ea=js=>Ms.multiEntry&&u(js)?js.forEach(oa=>Yo.addKey(oa)):Yo.addKey(js);(No||Ao).forEach((js,oa)=>{const Sa=No&&jo(No[oa]),Za=Ao&&jo(Ao[oa]);0!==Xo(Sa,Za)&&(null!=Sa&&Ea(Sa),null!=Za&&Ea(Za))})}))}else if(Zr){const Ti={from:Zr.lower,to:Zr.upper};In.add(Ti),Ln.add(Ti)}else Ln.add(Oe),In.add(Oe),Jt.indexes.forEach(Ti=>an(Ti.name).add(Oe));var Ko,No,Ao;return Ii})}},mr=({query:{index:xr,range:ii}})=>{var Vi,an;return[xr,new He(null!==(Vi=ii.lower)&&void 0!==Vi?Vi:N.MIN_KEY,null!==(an=ii.upper)&&void 0!==an?an:N.MAX_KEY)]},Or={get:xr=>[gn,new He(xr.key)],getMany:xr=>[gn,(new He).addKeys(xr.keys)],count:mr,query:mr,openCursor:mr};return y(Or).forEach(xr=>{yr[xr]=function(ii){const{subscr:Vi}=Xt;if(Vi){const an=xi=>{const Li=`idb://${V}/${st}/${xi}`;return Vi[Li]||(Vi[Li]=new He)},Ln=an(""),In=an(":dels"),[rr,Zr]=Or[xr](ii);if(an(rr.name||"").add(Zr),!rr.isPrimaryKey){if("count"!==xr){const xi="query"===xr&&Qn&&ii.values&&Rt.query({...ii,values:!1});return Rt[xr].apply(this,arguments).then(Li=>{if("query"===xr){if(Qn&&ii.values)return xi.then(({result:Ti})=>(Ln.addKeys(Ti),Li));const Ii=ii.values?Li.result.map(jn):Li.result;ii.values?Ln.addKeys(Ii):In.addKeys(Ii)}else if("openCursor"===xr){const Ii=Li,Ti=ii.values;return Ii&&Object.create(Ii,{key:{get:()=>(In.addKey(Ii.primaryKey),Ii.key)},primaryKey:{get(){const Ko=Ii.primaryKey;return In.addKey(Ko),Ko}},value:{get:()=>(Ti&&Ln.addKey(Ii.primaryKey),Ii.value)}})}return Li})}In.add(Oe)}}return Rt[xr].apply(this,arguments)}}),yr}}}};class Xn{constructor(V,Oe){this._middlewares={},this.verno=0;const st=Xn.dependencies;this._options=Oe={addons:Xn.addons,autoOpen:!0,indexedDB:st.indexedDB,IDBKeyRange:st.IDBKeyRange,...Oe},this._deps={indexedDB:Oe.indexedDB,IDBKeyRange:Oe.IDBKeyRange};const{addons:Rt}=Oe;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const Jt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:B,dbReadyPromise:null,cancelOpen:B,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var gn,jn;Jt.dbReadyPromise=new Bn(jn=>{Jt.dbReadyResolve=jn}),Jt.openCanceller=new Bn((jn,Qn)=>{Jt.cancelOpen=Qn}),this._state=Jt,this.name=V,this.on=Wr(this,"populate","blocked","versionchange","close",{ready:[It,B]}),this.on.ready.subscribe=z(this.on.ready.subscribe,jn=>(Qn,yr)=>{Xn.vip(()=>{const mr=this._state;if(mr.openComplete)mr.dbOpenError||Bn.resolve().then(Qn),yr&&jn(Qn);else if(mr.onReadyBeingFired)mr.onReadyBeingFired.push(Qn),yr&&jn(Qn);else{jn(Qn);const Or=this;yr||jn(function xr(){Or.on.ready.unsubscribe(Qn),Or.on.ready.unsubscribe(xr)})}})}),this.Collection=(gn=this,Gi(Wn.prototype,function(jn,Qn){this.db=gn;let yr=ir,mr=null;if(Qn)try{yr=Qn()}catch(Vi){mr=Vi}const Or=jn._ctx,xr=Or.table,ii=xr.hook.reading.fire;this._ctx={table:xr,index:Or.index,isPrimKey:!Or.index||xr.schema.primKey.keyPath&&Or.index===xr.schema.primKey.name,range:yr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:mr,or:Or.or,valueMapper:ii!==Ie?ii:null}})),this.Table=(jn=this,Gi(Oi.prototype,function(Qn,yr,mr){this.db=jn,this._tx=mr,this.name=Qn,this.schema=yr,this.hook=jn._allTables[Qn]?jn._allTables[Qn].hook:Wr(null,{creating:[kt,B],reading:[$e,Ie],updating:[Ye,B],deleting:[jt,B]})})),this.Transaction=function(jn){return Gi(ha.prototype,function(Qn,yr,mr,Or,xr){this.db=jn,this.mode=Qn,this.storeNames=yr,this.schema=mr,this.chromeTransactionDurability=Or,this.idbtrans=null,this.on=Wr(this,"complete","error","abort"),this.parent=xr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Bn((ii,Vi)=>{this._resolve=ii,this._reject=Vi}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},ii=>{var Vi=this.active;return this.active=!1,this.on.error.fire(ii),this.parent?this.parent._reject(ii):Vi&&this.idbtrans&&this.idbtrans.abort(),Pr(ii)})})}(this),this.Version=function(jn){return Gi(Tr.prototype,function(Qn){this.db=jn,this._cfg={version:Qn,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(jn){return Gi(es.prototype,function(Qn,yr,mr){this.db=jn,this._ctx={table:Qn,index:":id"===yr?null:yr,or:mr};const Or=jn._deps.indexedDB;if(!Or)throw new ne.MissingAPI;this._cmp=this._ascending=Or.cmp.bind(Or),this._descending=(xr,ii)=>Or.cmp(ii,xr),this._max=(xr,ii)=>Or.cmp(xr,ii)>0?xr:ii,this._min=(xr,ii)=>Or.cmp(xr,ii)<0?xr:ii,this._IDBKeyRange=jn._deps.IDBKeyRange})}(this),this.on("versionchange",jn=>{jn.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",jn=>{!jn.newVersion||jn.newVersion<jn.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${jn.oldVersion/10}`)}),this._maxKey=_s(Oe.IDBKeyRange),this._createTransaction=(jn,Qn,yr,mr)=>new this.Transaction(jn,Qn,yr,this._options.chromeTransactionDurability,mr),this._fireOnBlocked=jn=>{this.on("blocked").fire(jn),Yi.filter(Qn=>Qn.name===this.name&&Qn!==this&&!Qn._state.vcFired).map(Qn=>Qn.on("versionchange").fire(jn))},this.use(wo),this.use(xo),this.use(Ut),this.use(tt),this.vip=Object.create(this,{_vip:{value:!0}}),Rt.forEach(jn=>jn(this))}version(V){if(isNaN(V)||V<.1)throw new ne.Type("Given version is not a positive number");if(V=Math.round(10*V)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,V);const Oe=this._versions;var st=Oe.filter(Rt=>Rt._cfg.version===V)[0];return st||(st=new this.Version(V),Oe.push(st),Oe.sort(so),st.stores({}),this._state.autoSchema=!1,st)}_whenReady(V){return this.idbdb&&(this._state.openComplete||Xt.letThrough||this._vip)?V():new Bn((Oe,st)=>{if(this._state.openComplete)return st(new ne.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void st(new ne.DatabaseClosed);this.open().catch(B)}this._state.dbReadyPromise.then(Oe,st)}).then(V)}use({stack:V,create:Oe,level:st,name:Rt}){Rt&&this.unuse({stack:V,name:Rt});const Jt=this._middlewares[V]||(this._middlewares[V]=[]);return Jt.push({stack:V,create:Oe,level:st??10,name:Rt}),Jt.sort((gn,jn)=>gn.level-jn.level),this}unuse({stack:V,name:Oe,create:st}){return V&&this._middlewares[V]&&(this._middlewares[V]=this._middlewares[V].filter(Rt=>st?Rt.create!==st:!!Oe&&Rt.name!==Oe)),this}open(){return function Jr(N){const V=N._state,{indexedDB:Oe}=N._deps;if(V.isBeingOpened||N.idbdb)return V.dbReadyPromise.then(()=>V.dbOpenError?Pr(V.dbOpenError):N);Ge&&(V.openCanceller._stackHolder=Dt()),V.isBeingOpened=!0,V.dbOpenError=null,V.openComplete=!1;const st=V.openCanceller;function Rt(){if(V.openCanceller!==st)throw new ne.DatabaseClosed("db.open() was cancelled")}let Jt=V.dbReadyResolve,gn=null,jn=!1;const Qn=()=>new Bn((yr,mr)=>{if(Rt(),!Oe)throw new ne.MissingAPI;const Or=N.name,xr=V.autoSchema?Oe.open(Or):Oe.open(Or,Math.round(10*N.verno));if(!xr)throw new ne.MissingAPI;xr.onerror=rs(mr),xr.onblocked=ti(N._fireOnBlocked),xr.onupgradeneeded=ti(ii=>{if(gn=xr.transaction,V.autoSchema&&!N._options.allowEmptyDB){xr.onerror=Ps,gn.abort(),xr.result.close();const an=Oe.deleteDatabase(Or);an.onsuccess=an.onerror=ti(()=>{mr(new ne.NoSuchDatabase(`Database ${Or} doesnt exist`))})}else{gn.onerror=rs(mr);var Vi=ii.oldVersion>Math.pow(2,62)?0:ii.oldVersion;jn=Vi<1,N._novip.idbdb=xr.result,function Co(N,V,Oe,st){const Rt=N._dbSchema,Jt=N._createTransaction("readwrite",N._storeNames,Rt);Jt.create(Oe),Jt._completion.catch(st);const gn=Jt._reject.bind(Jt),jn=Xt.transless||Xt;Ni(()=>{Xt.trans=Jt,Xt.transless=jn,0===V?(y(Rt).forEach(Qn=>{Wt(Oe,Qn,Rt[Qn].primKey,Rt[Qn].indexes)}),Cr(N,Oe),Bn.follow(()=>N.on.populate.fire(Jt)).catch(gn)):function({_novip:Qn},yr,mr,Or){const xr=[],ii=Qn._versions;let Vi=Qn._dbSchema=_n(0,Qn.idbdb,Or),an=!1;return ii.filter(rr=>rr._cfg.version>=yr).forEach(rr=>{xr.push(()=>{const Zr=Vi,xi=rr._cfg.dbschema;fr(Qn,Zr,Or),fr(Qn,xi,Or),Vi=Qn._dbSchema=xi;const Li=eo(Zr,xi);Li.add.forEach(Ti=>{Wt(Or,Ti[0],Ti[1].primKey,Ti[1].indexes)}),Li.change.forEach(Ti=>{if(Ti.recreate)throw new ne.Upgrade("Not yet support for changing primary key");{const Ko=Or.objectStore(Ti.name);Ti.add.forEach(Ji=>mn(Ko,Ji)),Ti.change.forEach(Ji=>{Ko.deleteIndex(Ji.name),mn(Ko,Ji)}),Ti.del.forEach(Ji=>Ko.deleteIndex(Ji))}});const Ii=rr._cfg.contentUpgrade;if(Ii&&rr._cfg.version>yr){Cr(Qn,Or),mr._memoizedTables={},an=!0;let Ti=Ce(xi);Li.del.forEach(Ao=>{Ti[Ao]=Zr[Ao]}),Fi(Qn,[Qn.Transaction.prototype]),fi(Qn,[Qn.Transaction.prototype],y(Ti),Ti),mr.schema=Ti;const Ko=De(Ii);let Ji;Ko&&rn();const No=Bn.follow(()=>{if(Ji=Ii(mr),Ji&&Ko){var Ao=En.bind(null,null);Ji.then(Ao,Ao)}});return Ji&&"function"==typeof Ji.then?Bn.resolve(Ji):No.then(()=>Ji)}}),xr.push(Zr=>{var xi,Li;(!an||!yo)&&(xi=rr._cfg.dbschema,[].slice.call((Li=Zr).db.objectStoreNames).forEach(Ii=>null==xi[Ii]&&Li.db.deleteObjectStore(Ii))),Fi(Qn,[Qn.Transaction.prototype]),fi(Qn,[Qn.Transaction.prototype],Qn._storeNames,Qn._dbSchema),mr.schema=Qn._dbSchema})}),function In(){return xr.length?Bn.resolve(xr.shift()(mr.idbtrans)).then(In):Bn.resolve()}().then(()=>{var rr,Zr;Zr=Or,y(rr=Vi).forEach(xi=>{Zr.db.objectStoreNames.contains(xi)||Wt(Zr,xi,rr[xi].primKey,rr[xi].indexes)})})}(N,V,Jt,Oe).catch(gn)})}(N,Vi/10,gn,mr)}},mr),xr.onsuccess=ti(()=>{gn=null;const ii=N._novip.idbdb=xr.result,Vi=ue(ii.objectStoreNames);if(Vi.length>0)try{const Ln=ii.transaction(1===(an=Vi).length?an[0]:an,"readonly");V.autoSchema?function({_novip:In},rr,Zr){In.verno=rr.version/10;const xi=In._dbSchema=_n(0,rr,Zr);In._storeNames=ue(rr.objectStoreNames,0),fi(In,[In._allTables],y(xi),xi)}(N,ii,Ln):(fr(N,N._dbSchema,Ln),function(In,rr){const Zr=eo(_n(0,In.idbdb,rr),In._dbSchema);return!(Zr.add.length||Zr.change.some(xi=>xi.add.length||xi.change.length))}(N,Ln)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Cr(N,Ln)}catch{}var an;Yi.push(N),ii.onversionchange=ti(Ln=>{V.vcFired=!0,N.on("versionchange").fire(Ln)}),ii.onclose=ti(Ln=>{N.on("close").fire(Ln)}),jn&&function({indexedDB:Ln,IDBKeyRange:In},rr){!Br(Ln)&&rr!==Se&&lr(Ln,In).put({name:rr}).catch(B)}(N._deps,Or),yr()},mr)}).catch(yr=>yr&&"UnknownError"===yr.name&&V.PR1398_maxLoop>0?(V.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Qn()):Bn.reject(yr));return Bn.race([st,(typeof navigator>"u"?Bn.resolve():ui()).then(Qn)]).then(()=>(Rt(),V.onReadyBeingFired=[],Bn.resolve(jr(()=>N.on.ready.fire(N.vip))).then(function yr(){if(V.onReadyBeingFired.length>0){let mr=V.onReadyBeingFired.reduce(It,B);return V.onReadyBeingFired=[],Bn.resolve(jr(()=>mr(N.vip))).then(yr)}}))).finally(()=>{V.onReadyBeingFired=null,V.isBeingOpened=!1}).then(()=>N).catch(yr=>{V.dbOpenError=yr;try{gn&&gn.abort()}catch{}return st===V.openCanceller&&N._close(),Pr(yr)}).finally(()=>{V.openComplete=!0,Jt()})}(this)}_close(){const V=this._state,Oe=Yi.indexOf(this);if(Oe>=0&&Yi.splice(Oe,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}V.dbReadyPromise=new Bn(st=>{V.dbReadyResolve=st}),V.openCanceller=new Bn((st,Rt)=>{V.cancelOpen=Rt})}close(){this._close();const V=this._state;this._options.autoOpen=!1,V.dbOpenError=new ne.DatabaseClosed,V.isBeingOpened&&V.cancelOpen(V.dbOpenError)}delete(){const V=arguments.length>0,Oe=this._state;return new Bn((st,Rt)=>{const Jt=()=>{this.close();var gn=this._deps.indexedDB.deleteDatabase(this.name);gn.onsuccess=ti(()=>{(function({indexedDB:jn,IDBKeyRange:Qn},yr){!Br(jn)&&yr!==Se&&lr(jn,Qn).delete(yr).catch(B)})(this._deps,this.name),st()}),gn.onerror=rs(Rt),gn.onblocked=this._fireOnBlocked};if(V)throw new ne.InvalidArgument("Arguments not allowed in db.delete()");Oe.isBeingOpened?Oe.dbReadyPromise.then(Jt):Jt()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const V=this._state.dbOpenError;return V&&"DatabaseClosed"===V.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return y(this._allTables).map(V=>this._allTables[V])}transaction(){const V=ao.apply(this,arguments);return this._transaction.apply(this,V)}_transaction(V,Oe,st){let Rt=Xt.trans;Rt&&Rt.db===this&&-1===V.indexOf("!")||(Rt=null);const Jt=-1!==V.indexOf("?");let gn,jn;V=V.replace("!","").replace("?","");try{if(jn=Oe.map(yr=>{var mr=yr instanceof this.Table?yr.name:yr;if("string"!=typeof mr)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return mr}),"r"==V||V===At)gn=At;else{if("rw"!=V&&V!=en)throw new ne.InvalidArgument("Invalid transaction mode: "+V);gn=en}if(Rt){if(Rt.mode===At&&gn===en){if(!Jt)throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Rt=null}Rt&&jn.forEach(yr=>{if(Rt&&-1===Rt.storeNames.indexOf(yr)){if(!Jt)throw new ne.SubTransaction("Table "+yr+" not included in parent transaction.");Rt=null}}),Jt&&Rt&&!Rt.active&&(Rt=null)}}catch(yr){return Rt?Rt._promise(null,(mr,Or)=>{Or(yr)}):Pr(yr)}const Qn=vo.bind(null,this,gn,jn,Rt,st);return Rt?Rt._promise(gn,Qn,"lock"):Xt.trans?te(Xt.transless,()=>this._whenReady(Qn)):this._whenReady(Qn)}table(V){if(!L(this._allTables,V))throw new ne.InvalidTable(`Table ${V} does not exist`);return this._allTables[V]}}const gr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Xi{constructor(V){this._subscribe=V}subscribe(V,Oe,st){return this._subscribe(V&&"function"!=typeof V?V:{next:V,error:Oe,complete:st})}[gr](){return this}}function to(N,V){return y(V).forEach(Oe=>{pe(N[Oe]||(N[Oe]=new He),V[Oe])}),N}let Qr;try{Qr={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{Qr={indexedDB:null,IDBKeyRange:null}}const ot=Xn;function hn(N){let V=Nt;try{Nt=!0,gs.storagemutated.fire(N)}finally{Nt=V}}F(ot,{...H,delete:N=>new ot(N,{addons:[]}).delete(),exists:N=>new ot(N,{addons:[]}).open().then(V=>(V.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(N){try{return function({indexedDB:V,IDBKeyRange:Oe}){return Br(V)?Promise.resolve(V.databases()).then(st=>st.map(Rt=>Rt.name).filter(Rt=>Rt!==Se)):lr(V,Oe).toCollection().primaryKeys()}(ot.dependencies).then(N)}catch{return Pr(new ne.MissingAPI)}},defineClass:()=>function(N){v(this,N)},ignoreTransaction:N=>Xt.trans?te(Xt.transless,N):N(),vip:jr,async:function(N){return function(){try{var V=Wi(N.apply(this,arguments));return V&&"function"==typeof V.then?V:Bn.resolve(V)}catch(Oe){return Pr(Oe)}}},spawn:function(N,V,Oe){try{var st=Wi(N.apply(Oe,V||[]));return st&&"function"==typeof st.then?st:Bn.resolve(st)}catch(Rt){return Pr(Rt)}},currentTransaction:{get:()=>Xt.trans||null},waitFor:function(N,V){const Oe=Bn.resolve("function"==typeof N?ot.ignoreTransaction(N):N).timeout(V||6e4);return Xt.trans?Xt.trans.waitFor(Oe):Oe},Promise:Bn,debug:{get:()=>Ge,set:N=>{Ze(N,"dexie"===N?()=>!0:$t)}},derive:O,extend:v,props:F,override:z,Events:Wr,on:gs,liveQuery:function _i(N){let V,Oe=!1;const st=new Xi(Rt=>{const Jt=De(N);let gn=!1,jn={},Qn={};const yr={get closed(){return gn},unsubscribe:()=>{gn=!0,gs.storagemutated.unsubscribe(ii)}};Rt.start&&Rt.start(yr);let mr=!1,Or=!1;function xr(){return y(Qn).some(an=>jn[an]&&function k(N,V){const Oe=le(V);let st=Oe.next();if(st.done)return!1;let Rt=st.value;const Jt=le(N);let gn=Jt.next(Rt.from),jn=gn.value;for(;!st.done&&!gn.done;){if(Xo(jn.from,Rt.to)<=0&&Xo(jn.to,Rt.from)>=0)return!0;Xo(Rt.from,jn.from)<0?Rt=(st=Oe.next(jn.from)).value:jn=(gn=Jt.next(Rt.from)).value}return!1}(jn[an],Qn[an]))}const ii=an=>{to(jn,an),xr()&&Vi()},Vi=()=>{if(mr||gn)return;jn={};const an={},Ln=function(In){Jt&&rn();const rr=()=>Ni(N,{subscr:In,trans:null}),Zr=Xt.trans?te(Xt.transless,rr):rr();return Jt&&Zr.then(En,En),Zr}(an);Or||(gs(Oo,ii),Or=!0),mr=!0,Promise.resolve(Ln).then(In=>{Oe=!0,V=In,mr=!1,gn||(xr()?Vi():(jn={},Qn=an,Rt.next&&Rt.next(In)))},In=>{mr=!1,Oe=!1,Rt.error&&Rt.error(In),yr.unsubscribe()})};return Vi(),yr});return st.hasValue=()=>Oe,st.getValue=()=>V,st},extendObservabilitySet:to,getByKeyPath:Re,setByKeyPath:oe,delByKeyPath:function(N,V){"string"==typeof V?oe(N,V,void 0):"length"in V&&[].map.call(V,function(Oe){oe(N,Oe,void 0)})},shallowClone:Ce,deepClone:je,getObjectDiff:Po,cmp:Xo,asap:re,minKey:Ri,addons:[],connections:Yi,errnames:W,dependencies:Qr,semVer:"3.2.7",version:"3.2.7".split(".").map(N=>parseInt(N)).reduce((N,V,Oe)=>N+V/Math.pow(10,2*Oe))}),ot.maxKey=_s(ot.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(gs(Oo,N=>{if(!Nt){let V;no?(V=document.createEvent("CustomEvent"),V.initCustomEvent(Ts,!0,!0,N)):V=new CustomEvent(Ts,{detail:N}),Nt=!0,dispatchEvent(V),Nt=!1}}),addEventListener(Ts,({detail:N})=>{Nt||hn(N)}));let Nt=!1;if(typeof BroadcastChannel<"u"){const N=new BroadcastChannel(Ts);"function"==typeof N.unref&&N.unref(),gs(Oo,V=>{Nt||N.postMessage(V)}),N.onmessage=V=>{V.data&&hn(V.data)}}else if(typeof self<"u"&&typeof navigator<"u"){gs(Oo,V=>{try{Nt||(typeof localStorage<"u"&&localStorage.setItem(Ts,JSON.stringify({trig:Math.random(),changedParts:V})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(Oe=>Oe.postMessage({type:Ts,changedParts:V})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",V=>{if(V.key===Ts){const Oe=JSON.parse(V.newValue);Oe&&hn(Oe.changedParts)}});const N=self.document&&navigator.serviceWorker;N&&N.addEventListener("message",function({data:V}){V&&V.type===Ts&&hn(V.changedParts)})}Bn.rejectionMapper=function(N,V){if(!N||N instanceof Ee||N instanceof TypeError||N instanceof SyntaxError||!N.name||!p[N.name])return N;var Oe=new p[N.name](V||N.message,N);return"stack"in N&&U(Oe,"stack",{get:function(){return this.inner.stack}}),Oe},Ze(Ge,$t)},81025:(ln,ye,w)=>{"use strict";w.d(ye,{$i:()=>kt,IP:()=>p,YT:()=>ne,ht:()=>$e,jM:()=>B,lE:()=>y,vI:()=>Ie});var r=Symbol.for("immer-nothing"),y=Symbol.for("immer-draftable"),u=Symbol.for("immer-state");function x(Ke,...wt){throw new Error(`[Immer] minified error nr: ${Ke}. Full error at: https://bit.ly/3cXEKWf`)}var d=Object.getPrototypeOf;function L(Ke){return!!Ke&&!!Ke[u]}function F(Ke){return!!Ke&&(U(Ke)||Array.isArray(Ke)||!!Ke[y]||!!Ke.constructor?.[y]||re(Ke)||Z(Ke))}var S=Object.prototype.constructor.toString();function U(Ke){if(!Ke||"object"!=typeof Ke)return!1;const wt=d(Ke);if(null===wt)return!0;const rt=Object.hasOwnProperty.call(wt,"constructor")&&wt.constructor;return rt===Object||"function"==typeof rt&&Function.toString.call(rt)===S}function b(Ke,wt){0===M(Ke)?Reflect.ownKeys(Ke).forEach(rt=>{wt(rt,Ke[rt],Ke)}):Ke.forEach((rt,Ct)=>wt(Ct,rt,Ke))}function M(Ke){const wt=Ke[u];return wt?wt.type_:Array.isArray(Ke)?1:re(Ke)?2:Z(Ke)?3:0}function A(Ke,wt){return 2===M(Ke)?Ke.has(wt):Object.prototype.hasOwnProperty.call(Ke,wt)}function ue(Ke,wt){return 2===M(Ke)?Ke.get(wt):Ke[wt]}function z(Ke,wt,rt){const Ct=M(Ke);2===Ct?Ke.set(wt,rt):3===Ct?Ke.add(rt):Ke[wt]=rt}function re(Ke){return Ke instanceof Map}function Z(Ke){return Ke instanceof Set}function Re(Ke){return Ke.copy_||Ke.base_}function oe(Ke,wt){if(re(Ke))return new Map(Ke);if(Z(Ke))return new Set(Ke);if(Array.isArray(Ke))return Array.prototype.slice.call(Ke);const rt=U(Ke);if(!0===wt||"class_only"===wt&&!rt){const Ct=Object.getOwnPropertyDescriptors(Ke);delete Ct[u];let mt=Reflect.ownKeys(Ct);for(let Vt=0;Vt<mt.length;Vt++){const at=mt[Vt],We=Ct[at];!1===We.writable&&(We.writable=!0,We.configurable=!0),(We.get||We.set)&&(Ct[at]={configurable:!0,writable:!0,enumerable:We.enumerable,value:Ke[at]})}return Object.create(d(Ke),Ct)}{const Ct=d(Ke);if(null!==Ct&&rt)return{...Ke};const mt=Object.create(Ct);return Object.assign(mt,Ke)}}function Ce(Ke,wt=!1){return R(Ke)||L(Ke)||!F(Ke)||(M(Ke)>1&&(Ke.set=Ke.add=Ke.clear=Ke.delete=K),Object.freeze(Ke),wt&&Object.entries(Ke).forEach(([rt,Ct])=>Ce(Ct,!0))),Ke}function K(){x(2)}function R(Ke){return Object.isFrozen(Ke)}var je,ce={};function $(Ke){const wt=ce[Ke];return wt||x(0),wt}function Fe(Ke,wt){ce[Ke]||(ce[Ke]=wt)}function Ve(){return je}function pt(Ke,wt){wt&&($("Patches"),Ke.patches_=[],Ke.inversePatches_=[],Ke.patchListener_=wt)}function St(Ke){Rn(Ke),Ke.drafts_.forEach(ee),Ke.drafts_=null}function Rn(Ke){Ke===je&&(je=Ke.parent_)}function G(Ke){return je=function lt(Ke,wt){return{drafts_:[],parent_:Ke,immer_:wt,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(je,Ke)}function ee(Ke){const wt=Ke[u];0===wt.type_||1===wt.type_?wt.revoke_():wt.revoked_=!0}function De(Ke,wt){wt.unfinalizedDrafts_=wt.drafts_.length;const rt=wt.drafts_[0];return void 0!==Ke&&Ke!==rt?(rt[u].modified_&&(St(wt),x(4)),F(Ke)&&(Ke=Ge(wt,Ke),wt.parent_||ut(wt,Ke)),wt.patches_&&$("Patches").generateReplacementPatches_(rt[u].base_,Ke,wt.patches_,wt.inversePatches_)):Ke=Ge(wt,rt,[]),St(wt),wt.patches_&&wt.patchListener_(wt.patches_,wt.inversePatches_),Ke!==r?Ke:void 0}function Ge(Ke,wt,rt){if(R(wt))return wt;const Ct=wt[u];if(!Ct)return b(wt,(mt,Vt)=>Ze(Ke,Ct,wt,mt,Vt,rt)),wt;if(Ct.scope_!==Ke)return wt;if(!Ct.modified_)return ut(Ke,Ct.base_,!0),Ct.base_;if(!Ct.finalized_){Ct.finalized_=!0,Ct.scope_.unfinalizedDrafts_--;const mt=Ct.copy_;let Vt=mt,at=!1;3===Ct.type_&&(Vt=new Set(mt),mt.clear(),at=!0),b(Vt,(We,ke)=>Ze(Ke,Ct,mt,We,ke,rt,at)),ut(Ke,mt,!1),rt&&Ke.patches_&&$("Patches").generatePatches_(Ct,rt,Ke.patches_,Ke.inversePatches_)}return Ct.copy_}function Ze(Ke,wt,rt,Ct,mt,Vt,at){if(L(mt)){const ke=Ge(Ke,mt,Vt&&wt&&3!==wt.type_&&!A(wt.assigned_,Ct)?Vt.concat(Ct):void 0);if(z(rt,Ct,ke),!L(ke))return;Ke.canAutoFreeze_=!1}else at&&rt.add(mt);if(F(mt)&&!R(mt)){if(!Ke.immer_.autoFreeze_&&Ke.unfinalizedDrafts_<1)return;Ge(Ke,mt),(!wt||!wt.scope_.parent_)&&"symbol"!=typeof Ct&&Object.prototype.propertyIsEnumerable.call(rt,Ct)&&ut(Ke,mt)}}function ut(Ke,wt,rt=!1){!Ke.parent_&&Ke.immer_.autoFreeze_&&Ke.canAutoFreeze_&&Ce(wt,rt)}var Dt={get(Ke,wt){if(wt===u)return Ke;const rt=Re(Ke);if(!A(rt,wt))return function se(Ke,wt,rt){const Ct=Me(wt,rt);return Ct?"value"in Ct?Ct.value:Ct.get?.call(Ke.draft_):void 0}(Ke,rt,wt);const Ct=rt[wt];return Ke.finalized_||!F(Ct)?Ct:Ct===Ae(Ke.base_,wt)?(C(Ke),Ke.copy_[wt]=J(Ct,Ke)):Ct},has:(Ke,wt)=>wt in Re(Ke),ownKeys:Ke=>Reflect.ownKeys(Re(Ke)),set(Ke,wt,rt){const Ct=Me(Re(Ke),wt);if(Ct?.set)return Ct.set.call(Ke.draft_,rt),!0;if(!Ke.modified_){const mt=Ae(Re(Ke),wt),Vt=mt?.[u];if(Vt&&Vt.base_===rt)return Ke.copy_[wt]=rt,Ke.assigned_[wt]=!1,!0;if(function X(Ke,wt){return Ke===wt?0!==Ke||1/Ke==1/wt:Ke!=Ke&&wt!=wt}(rt,mt)&&(void 0!==rt||A(Ke.base_,wt)))return!0;C(Ke),Ee(Ke)}return Ke.copy_[wt]===rt&&(void 0!==rt||wt in Ke.copy_)||Number.isNaN(rt)&&Number.isNaN(Ke.copy_[wt])||(Ke.copy_[wt]=rt,Ke.assigned_[wt]=!0),!0},deleteProperty:(Ke,wt)=>(void 0!==Ae(Ke.base_,wt)||wt in Ke.base_?(Ke.assigned_[wt]=!1,C(Ke),Ee(Ke)):delete Ke.assigned_[wt],Ke.copy_&&delete Ke.copy_[wt],!0),getOwnPropertyDescriptor(Ke,wt){const rt=Re(Ke),Ct=Reflect.getOwnPropertyDescriptor(rt,wt);return Ct&&{writable:!0,configurable:1!==Ke.type_||"length"!==wt,enumerable:Ct.enumerable,value:rt[wt]}},defineProperty(){x(11)},getPrototypeOf:Ke=>d(Ke.base_),setPrototypeOf(){x(12)}},Le={};function Ae(Ke,wt){const rt=Ke[u];return(rt?Re(rt):Ke)[wt]}function Me(Ke,wt){if(!(wt in Ke))return;let rt=d(Ke);for(;rt;){const Ct=Object.getOwnPropertyDescriptor(rt,wt);if(Ct)return Ct;rt=d(rt)}}function Ee(Ke){Ke.modified_||(Ke.modified_=!0,Ke.parent_&&Ee(Ke.parent_))}function C(Ke){Ke.copy_||(Ke.copy_=oe(Ke.base_,Ke.scope_.immer_.useStrictShallowCopy_))}function J(Ke,wt){const rt=re(Ke)?$("MapSet").proxyMap_(Ke,wt):Z(Ke)?$("MapSet").proxySet_(Ke,wt):function bt(Ke,wt){const rt=Array.isArray(Ke),Ct={type_:rt?1:0,scope_:wt?wt.scope_:Ve(),modified_:!1,finalized_:!1,assigned_:{},parent_:wt,base_:Ke,draft_:null,copy_:null,revoke_:null,isManual_:!1};let mt=Ct,Vt=Dt;rt&&(mt=[Ct],Vt=Le);const{revoke:at,proxy:We}=Proxy.revocable(mt,Vt);return Ct.draft_=We,Ct.revoke_=at,We}(Ke,wt);return(wt?wt.scope_:Ve()).drafts_.push(rt),rt}function ve(Ke){if(!F(Ke)||R(Ke))return Ke;const wt=Ke[u];let rt;if(wt){if(!wt.modified_)return wt.base_;wt.finalized_=!0,rt=oe(Ke,wt.scope_.immer_.useStrictShallowCopy_)}else rt=oe(Ke,!0);return b(rt,(Ct,mt)=>{z(rt,Ct,ve(mt))}),wt&&(wt.finalized_=!1),rt}function ne(){const wt="replace",rt="add",Ct="remove";function xt(vn){if(!F(vn))return vn;if(Array.isArray(vn))return vn.map(xt);if(re(vn))return new Map(Array.from(vn.entries()).map(([tr,dn])=>[tr,xt(dn)]));if(Z(vn))return new Set(Array.from(vn).map(xt));const kn=Object.create(d(vn));for(const tr in vn)kn[tr]=xt(vn[tr]);return A(vn,y)&&(kn[y]=vn[y]),kn}function Zt(vn){return L(vn)?xt(vn):vn}Fe("Patches",{applyPatches_:function et(vn,kn){return kn.forEach(tr=>{const{path:dn,op:nn}=tr;let Ht=vn;for(let Mn=0;Mn<dn.length-1;Mn++){const Bn=M(Ht);let Pn=dn[Mn];"string"!=typeof Pn&&"number"!=typeof Pn&&(Pn=""+Pn),(0===Bn||1===Bn)&&("__proto__"===Pn||"constructor"===Pn)&&x(19),"function"==typeof Ht&&"prototype"===Pn&&x(19),Ht=ue(Ht,Pn),"object"!=typeof Ht&&x(18,dn.join("/"))}const Xt=M(Ht),Nn=xt(tr.value),Ot=dn[dn.length-1];switch(nn){case wt:switch(Xt){case 2:return Ht.set(Ot,Nn);case 3:x(16);default:return Ht[Ot]=Nn}case rt:switch(Xt){case 1:return"-"===Ot?Ht.push(Nn):Ht.splice(Ot,0,Nn);case 2:return Ht.set(Ot,Nn);case 3:return Ht.add(Nn);default:return Ht[Ot]=Nn}case Ct:switch(Xt){case 1:return Ht.splice(Ot,1);case 2:return Ht.delete(Ot);case 3:return Ht.delete(tr.value);default:return delete Ht[Ot]}default:x(17)}}),vn},generatePatches_:function mt(vn,kn,tr,dn){switch(vn.type_){case 0:case 2:return function at(vn,kn,tr,dn){const{base_:nn,copy_:Ht}=vn;b(vn.assigned_,(Xt,Nn)=>{const Ot=ue(nn,Xt),Mn=ue(Ht,Xt),Bn=Nn?A(nn,Xt)?wt:rt:Ct;if(Ot===Mn&&Bn===wt)return;const Pn=kn.concat(Xt);tr.push(Bn===Ct?{op:Bn,path:Pn}:{op:Bn,path:Pn,value:Mn}),dn.push(Bn===rt?{op:Ct,path:Pn}:Bn===Ct?{op:rt,path:Pn,value:Zt(Ot)}:{op:wt,path:Pn,value:Zt(Ot)})})}(vn,kn,tr,dn);case 1:return function Vt(vn,kn,tr,dn){let{base_:nn,assigned_:Ht}=vn,Xt=vn.copy_;Xt.length<nn.length&&([nn,Xt]=[Xt,nn],[tr,dn]=[dn,tr]);for(let Nn=0;Nn<nn.length;Nn++)if(Ht[Nn]&&Xt[Nn]!==nn[Nn]){const Ot=kn.concat([Nn]);tr.push({op:wt,path:Ot,value:Zt(Xt[Nn])}),dn.push({op:wt,path:Ot,value:Zt(nn[Nn])})}for(let Nn=nn.length;Nn<Xt.length;Nn++){const Ot=kn.concat([Nn]);tr.push({op:rt,path:Ot,value:Zt(Xt[Nn])})}for(let Nn=Xt.length-1;nn.length<=Nn;--Nn){const Ot=kn.concat([Nn]);dn.push({op:Ct,path:Ot})}}(vn,kn,tr,dn);case 3:return function We(vn,kn,tr,dn){let{base_:nn,copy_:Ht}=vn,Xt=0;nn.forEach(Nn=>{if(!Ht.has(Nn)){const Ot=kn.concat([Xt]);tr.push({op:Ct,path:Ot,value:Nn}),dn.unshift({op:rt,path:Ot,value:Nn})}Xt++}),Xt=0,Ht.forEach(Nn=>{if(!nn.has(Nn)){const Ot=kn.concat([Xt]);tr.push({op:rt,path:Ot,value:Nn}),dn.unshift({op:Ct,path:Ot,value:Nn})}Xt++})}(vn,kn,tr,dn)}},generateReplacementPatches_:function ke(vn,kn,tr,dn){tr.push({op:wt,path:[],value:kn===r?void 0:kn}),dn.push({op:wt,path:[],value:vn})}})}function p(){class Ke extends Map{constructor(ke,et){super(),this[u]={type_:2,parent_:et,scope_:et?et.scope_:Ve(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:ke,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Re(this[u]).size}has(ke){return Re(this[u]).has(ke)}set(ke,et){const xt=this[u];return at(xt),(!Re(xt).has(ke)||Re(xt).get(ke)!==et)&&(rt(xt),Ee(xt),xt.assigned_.set(ke,!0),xt.copy_.set(ke,et),xt.assigned_.set(ke,!0)),this}delete(ke){if(!this.has(ke))return!1;const et=this[u];return at(et),rt(et),Ee(et),et.base_.has(ke)?et.assigned_.set(ke,!1):et.assigned_.delete(ke),et.copy_.delete(ke),!0}clear(){const ke=this[u];at(ke),Re(ke).size&&(rt(ke),Ee(ke),ke.assigned_=new Map,b(ke.base_,et=>{ke.assigned_.set(et,!1)}),ke.copy_.clear())}forEach(ke,et){Re(this[u]).forEach((Zt,vn,kn)=>{ke.call(et,this.get(vn),vn,this)})}get(ke){const et=this[u];at(et);const xt=Re(et).get(ke);if(et.finalized_||!F(xt)||xt!==et.base_.get(ke))return xt;const Zt=J(xt,et);return rt(et),et.copy_.set(ke,Zt),Zt}keys(){return Re(this[u]).keys()}values(){const ke=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const et=ke.next();return et.done?et:{done:!1,value:this.get(et.value)}}}}entries(){const ke=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const et=ke.next();if(et.done)return et;const xt=this.get(et.value);return{done:!1,value:[et.value,xt]}}}}[Symbol.iterator](){return this.entries()}}function rt(We){We.copy_||(We.assigned_=new Map,We.copy_=new Map(We.base_))}class Ct extends Set{constructor(ke,et){super(),this[u]={type_:3,parent_:et,scope_:et?et.scope_:Ve(),modified_:!1,finalized_:!1,copy_:void 0,base_:ke,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Re(this[u]).size}has(ke){const et=this[u];return at(et),et.copy_?!!(et.copy_.has(ke)||et.drafts_.has(ke)&&et.copy_.has(et.drafts_.get(ke))):et.base_.has(ke)}add(ke){const et=this[u];return at(et),this.has(ke)||(Vt(et),Ee(et),et.copy_.add(ke)),this}delete(ke){if(!this.has(ke))return!1;const et=this[u];return at(et),Vt(et),Ee(et),et.copy_.delete(ke)||!!et.drafts_.has(ke)&&et.copy_.delete(et.drafts_.get(ke))}clear(){const ke=this[u];at(ke),Re(ke).size&&(Vt(ke),Ee(ke),ke.copy_.clear())}values(){const ke=this[u];return at(ke),Vt(ke),ke.copy_.values()}entries(){const ke=this[u];return at(ke),Vt(ke),ke.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(ke,et){const xt=this.values();let Zt=xt.next();for(;!Zt.done;)ke.call(et,Zt.value,Zt.value,this),Zt=xt.next()}}function Vt(We){We.copy_||(We.copy_=new Set,We.base_.forEach(ke=>{if(F(ke)){const et=J(ke,We);We.drafts_.set(ke,et),We.copy_.add(et)}else We.copy_.add(ke)}))}function at(We){We.revoked_&&x(3,JSON.stringify(Re(We)))}Fe("MapSet",{proxyMap_:function wt(We,ke){return new Ke(We,ke)},proxySet_:function mt(We,ke){return new Ct(We,ke)}})}b(Dt,(Ke,wt)=>{Le[Ke]=function(){return arguments[0]=arguments[0][0],wt.apply(this,arguments)}}),Le.deleteProperty=function(Ke,wt){return Le.set.call(this,Ke,wt,void 0)},Le.set=function(Ke,wt,rt){return Dt.set.call(this,Ke[0],wt,rt,Ke[0])};var H=new class{constructor(Ke){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(wt,rt,Ct)=>{if("function"==typeof wt&&"function"!=typeof rt){const Vt=rt;rt=wt;const at=this;return function(ke=Vt,...et){return at.produce(ke,xt=>rt.call(this,xt,...et))}}let mt;if("function"!=typeof rt&&x(6),void 0!==Ct&&"function"!=typeof Ct&&x(7),F(wt)){const Vt=G(this),at=J(wt,void 0);let We=!0;try{mt=rt(at),We=!1}finally{We?St(Vt):Rn(Vt)}return pt(Vt,Ct),De(mt,Vt)}if(!wt||"object"!=typeof wt){if(mt=rt(wt),void 0===mt&&(mt=wt),mt===r&&(mt=void 0),this.autoFreeze_&&Ce(mt,!0),Ct){const Vt=[],at=[];$("Patches").generateReplacementPatches_(wt,mt,Vt,at),Ct(Vt,at)}return mt}x(1)},this.produceWithPatches=(wt,rt)=>{if("function"==typeof wt)return(at,...We)=>this.produceWithPatches(at,ke=>wt(ke,...We));let Ct,mt;return[this.produce(wt,rt,(at,We)=>{Ct=at,mt=We}),Ct,mt]},"boolean"==typeof Ke?.autoFreeze&&this.setAutoFreeze(Ke.autoFreeze),"boolean"==typeof Ke?.useStrictShallowCopy&&this.setUseStrictShallowCopy(Ke.useStrictShallowCopy)}createDraft(Ke){F(Ke)||x(8),L(Ke)&&(Ke=function W(Ke){return L(Ke)||x(10),ve(Ke)}(Ke));const wt=G(this),rt=J(Ke,void 0);return rt[u].isManual_=!0,Rn(wt),rt}finishDraft(Ke,wt){const rt=Ke&&Ke[u];(!rt||!rt.isManual_)&&x(9);const{scope_:Ct}=rt;return pt(Ct,wt),De(void 0,Ct)}setAutoFreeze(Ke){this.autoFreeze_=Ke}setUseStrictShallowCopy(Ke){this.useStrictShallowCopy_=Ke}applyPatches(Ke,wt){let rt;for(rt=wt.length-1;rt>=0;rt--){const mt=wt[rt];if(0===mt.path.length&&"replace"===mt.op){Ke=mt.value;break}}rt>-1&&(wt=wt.slice(rt+1));const Ct=$("Patches").applyPatches_;return L(Ke)?Ct(Ke,wt):this.produce(Ke,mt=>Ct(mt,wt))}},B=H.produce,Ie=H.produceWithPatches.bind(H),$e=H.setAutoFreeze.bind(H),kt=(H.setUseStrictShallowCopy.bind(H),H.applyPatches.bind(H));H.createDraft.bind(H),H.finishDraft.bind(H)},17225:(ln,ye,w)=>{"use strict";function r(y){return{all:y=y||new Map,on:function(u,v){var x=y.get(u);x?x.push(v):y.set(u,[v])},off:function(u,v){var x=y.get(u);x&&(v?x.splice(x.indexOf(v)>>>0,1):y.set(u,[]))},emit:function(u,v){var x=y.get(u);x&&x.slice().map(function(d){d(v)}),(x=y.get("*"))&&x.slice().map(function(d){d(u,v)})}}}w.r(ye),w.d(ye,{default:()=>r})},73845:(ln,ye,w)=>{"use strict";w.d(ye,{Je:()=>C,Un:()=>T});var r=w(85052),y=w(15877),u=w(2573),v=w(60391),x=w(19827);const d=new u.c(x.l);w(2515);var S=w(14264),U=w(39705),O=w(17365),b=w(11756),M=w(36110),A=w(28577),ue=w(32914);w(35160),w(8360),w(15210),w(66196),w(96513),w(20075);var R=w(60177),ce=w(54438);function Fe(ve){return!(!ve.parentElement||"picture"!==ve.parentElement.nodeName.toLowerCase())}function je(ve){return"img"===ve.nodeName.toLowerCase()}function Ve(ve,ne,p){return je(ve)?p&&"srcset"in ve?ve.srcset=ne:ve.src=ne:ve.style.backgroundImage=`url('${ne}')`,ve}function lt(ve){return ne=>{const p=ne.parentElement.getElementsByTagName("source");for(let H=0;H<p.length;H++){const B=p[H].getAttribute(ve);B&&("srcset"in p[H]?p[H].srcset=B:p[H].src=B)}}}const pt=lt("defaultImage"),St=lt("lazyLoad"),Rn=lt("errorImage");function G(ve){return(ne,p,H)=>{je(ne)&&Fe(ne)&&ve(ne),p&&Ve(ne,p,H)}}const ee=G(pt),De=G(St),Ge=G(Rn);class Ze{constructor(){this.navigator=function $(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(ne){this.platformId=ne}onDestroy(ne){}onAttributeChange(ne){}}function bt(ve,ne){ve.className=ve.className.replace(ne,"")}function Dt(ve,ne){ve.className.includes(ne)||(ve.className+=` ${ne}`)}class Ae extends Ze{setup(ne){ee(ne.element,ne.defaultImagePath,ne.useSrcset),ne.imagePath&&Dt(ne.element,"ng-lazyloading"),function Le(ve,ne){return ve.className&&ve.className.includes(ne)}(ne.element,"ng-lazyloaded")&&bt(ne.element,"ng-lazyloaded")}finally(ne){Dt(ne.element,"ng-lazyloaded"),bt(ne.element,"ng-lazyloading")}loadImage(ne){if(this.skipLazyLoading(ne))return[ne.imagePath];const{element:p,useSrcset:H,imagePath:B,decode:Ie}=ne;let $e;return je(p)&&Fe(p)?($e=p.parentNode.cloneNode(!0).getElementsByTagName("img")[0],St($e),Ve($e,B,H)):($e=new Image,je(p)&&p.referrerPolicy&&($e.referrerPolicy=p.referrerPolicy),je(p)&&p.sizes&&($e.sizes=p.sizes),H&&"srcset"in $e?$e.srcset=B:$e.src=B),Ie&&$e.decode?$e.decode().then(()=>B):new Promise((ft,kt)=>{$e.onload=()=>ft(B),$e.onerror=()=>kt(null)})}setErrorImage(ne,p){const{element:H,useSrcset:B,errorImagePath:Ie}=p;Ge(H,Ie,B),Dt(H,"ng-failed-lazyloaded")}setLoadedImage(ne,p){const{element:H,useSrcset:B}=p;De(H,ne,B)}isDisabled(){return(0,R.Vy)(this.platformId)&&!this.isBot()}skipLazyLoading(ne){return this.isBot(ne)}isBot(ne){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class se extends Ae{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new r.B,this.uniqKey={}}getObservable(ne){if(this.skipLazyLoading(ne))return(0,y.of)({isIntersecting:!0});if(ne.customObservable)return ne.customObservable;const p=ne.scrollContainer||this.uniqKey,H={root:ne.scrollContainer||null};ne.offset&&(H.rootMargin=`${ne.offset}px`);let B=this.observers.get(p);return B||(B=new IntersectionObserver(Ie=>this.loadingCallback(Ie),H),this.observers.set(p,B)),B.observe(ne.element),u.c.create(Ie=>{const $e=this.intersectionSubject.pipe((0,S.p)(ft=>ft.target===ne.element)).subscribe(Ie);return()=>{$e.unsubscribe(),B.unobserve(ne.element)}})}isVisible(ne){return ne.isIntersecting}loadingCallback(ne){ne.forEach(p=>this.intersectionSubject.next(p))}}const Ee=new ce.nKC("LazyLoadImageHooks");let C=(()=>{class ve{constructor(p,H,B,Ie){this.onStateChange=new ce.bkB,this.elementRef=p,this.ngZone=H,this.propertyChanges$=new v.m,this.hooks=Ie,this.hooks.setPlatformId(B),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(p=>console.log(p))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,U.M)(p=>this.hooks.onAttributeChange(p)),(0,U.M)(p=>p.onStateChange.emit({reason:"setup"})),(0,U.M)(p=>this.hooks.setup(p)),(0,ue.n)(p=>p.imagePath?this.hooks.getObservable(p).pipe(function Me(ve,ne){return p=>p.pipe((0,U.M)(H=>ne.onStateChange.emit({reason:"observer-emit",data:H})),(0,S.p)(H=>ve.isVisible(H,ne)),(0,O.s)(1),(0,U.M)(()=>ne.onStateChange.emit({reason:"start-loading"})),(0,b.Z)(()=>ve.loadImage(ne)),(0,U.M)(()=>ne.onStateChange.emit({reason:"mount-image"})),(0,U.M)(H=>ve.setLoadedImage(H,ne)),(0,U.M)(()=>ne.onStateChange.emit({reason:"loading-succeeded"})),(0,M.T)(()=>!0),(0,A.W)(H=>(ne.onStateChange.emit({reason:"loading-failed",data:H}),ve.setErrorImage(H,ne),(0,y.of)(!1))),(0,U.M)(()=>{ne.onStateChange.emit({reason:"finally"}),ve.finally(ne)}))}(this.hooks,p)):function L(){return d}())).subscribe({next:()=>null})})}ngOnDestroy(){this.propertyChanges$.pipe((0,O.s)(1)).subscribe({next:p=>this.hooks.onDestroy(p)}).unsubscribe(),this.loadSubscription?.unsubscribe(),this.debugSubscription?.unsubscribe()}}return ve.\u0275fac=function(p){return new(p||ve)(ce.rXU(ce.aKT),ce.rXU(ce.SKi),ce.rXU(ce.Agw),ce.rXU(Ee))},ve.\u0275dir=ce.FsC({type:ve,selectors:[["","lazyLoad",""]],inputs:{lazyImage:[0,"lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[ce.OA$]}),ve})(),T=(()=>{class ve{}return ve.\u0275fac=function(p){return new(p||ve)},ve.\u0275mod=ce.$C({type:ve}),ve.\u0275inj=ce.G2t({providers:[{provide:Ee,useClass:se}]}),ve})();class J{constructor(ne,p,H,B){this.left=ne,this.top=p,this.right=H,this.bottom=B}static fromElement(ne){const{left:p,top:H,right:B,bottom:Ie}=ne.getBoundingClientRect();return 0===p&&0===H&&0===B&&0===Ie?J.empty:new J(p,H,B,Ie)}static fromWindow(ne){return new J(0,0,ne.innerWidth,ne.innerHeight)}inflate(ne){this.left-=ne,this.top-=ne,this.right+=ne,this.bottom+=ne}intersectsWith(ne){return ne.left<this.right&&this.left<ne.right&&ne.top<this.bottom&&this.top<ne.bottom}getIntersectionWith(ne){const p=Math.max(this.left,ne.left),H=Math.max(this.top,ne.top),B=Math.min(this.right,ne.right),Ie=Math.min(this.bottom,ne.bottom);return B>=p&&Ie>=H?new J(p,H,B,Ie):J.empty}}J.empty=new J(0,0,0,0)},90450:(ln,ye,w)=>{"use strict";w.d(ye,{gq:()=>O,ob:()=>Ce});var r=w(54438),y=w(60177),u=w(15877),v=w(29160),x=w(85052),d=w(14264);const L=new r.nKC("recaptcha-language"),F=new r.nKC("recaptcha-base-url"),S=new r.nKC("recaptcha-nonce-tag"),O=(new r.nKC("recaptcha-settings"),new r.nKC("recaptcha-v3-site-key")),b=new r.nKC("recaptcha-loader-options"),ue={loadScript:function M($,Fe,je,{url:Ve,lang:lt,nonce:pt}={}){window.ng2recaptchaloaded=()=>{je(grecaptcha)};const St=document.createElement("script");St.innerHTML="";const{url:Rn,nonce:G}=Fe(new URL(Ve||"https://www.google.com/recaptcha/api.js"));Rn.searchParams.set("render","explicit"===$?$:$.key),Rn.searchParams.set("onload","ng2recaptchaloaded"),Rn.searchParams.set("trustedtypes","true"),lt&&Rn.searchParams.set("hl",lt),St.src=Rn.href;const ee=G||pt;ee&&St.setAttribute("nonce",ee),St.async=!0,St.defer=!0,document.head.appendChild(St)},newLoadScript:function A({v3SiteKey:$,onBeforeLoad:Fe,onLoaded:je}){ue.loadScript($?{key:$}:"explicit",Fe,je)}};let X=(()=>{class ${static#e=this.ready=null;constructor(je,Ve,lt,pt,St,Rn){this.platformId=je,this.language=Ve,this.baseUrl=lt,this.nonce=pt,this.v3SiteKey=St,this.options=Rn;const G=this.init();this.ready=G?function z($){return $.asObservable().pipe((0,d.p)(Fe=>null!==Fe))}(G):(0,u.of)()}init(){if($.ready)return $.ready;if(!(0,y.UE)(this.platformId))return;const je=new v.t(null);return $.ready=je,ue.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:Ve=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(Ve);const lt=new URL(this.baseUrl??Ve);return this.language&&lt.searchParams.set("hl",this.language),{url:lt,nonce:this.nonce}},onLoaded:Ve=>{let lt=Ve;this.options?.onLoaded&&(lt=this.options.onLoaded(Ve)),je.next(lt)}}),je}static#t=this.\u0275fac=function(Ve){return new(Ve||$)(r.KVO(r.Agw),r.KVO(L,8),r.KVO(F,8),r.KVO(S,8),r.KVO(O,8),r.KVO(b,8))};static#n=this.\u0275prov=r.jDH({token:$,factory:$.\u0275fac})}return $})(),Ce=(()=>{class ${constructor(je,Ve,lt){this.recaptchaLoader=Ve,this.zone=je,this.siteKey=lt,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new x.B,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new x.B,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(je){const Ve=new x.B;return this.grecaptcha?this.executeActionWithSubject(je,Ve):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([je,Ve])),Ve.asObservable()}executeActionWithSubject(je,Ve){const lt=pt=>{this.zone.run(()=>{Ve.error(pt),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:je,error:pt})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:je}).then(pt=>{this.zone.run(()=>{Ve.next(pt),Ve.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:je,token:pt})})},lt)}catch(pt){lt(pt)}})}init(){this.recaptchaLoader.ready.subscribe(je=>{this.grecaptcha=je,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([Ve,lt])=>this.executeActionWithSubject(Ve,lt)),this.actionBacklog=void 0)})}static#e=this.\u0275fac=function(Ve){return new(Ve||$)(r.KVO(r.SKi),r.KVO(X),r.KVO(O))};static#t=this.\u0275prov=r.jDH({token:$,factory:$.\u0275fac})}return $})()},11562:(ln,ye,w)=>{"use strict";w.d(ye,{YG:()=>ne});var r=w(54438),y=w(60177);typeof window<"u"&&window;let ne=(()=>{class p{static \u0275fac=function(Ie){return new(Ie||p)};static \u0275mod=r.$C({type:p});static \u0275inj=r.G2t({imports:[y.MD]})}return p})()},35286:(ln,ye,w)=>{"use strict";w.d(ye,{GY:()=>je,Rl:()=>Ge,i0:()=>ut,y2:()=>Le});var r=w(28407),y=w(60177),u=w(54438),v=w(85052),x=w(76718),d=w(15877),L=w(43654),F=w(32914),S=w(99539),U=w(21082),O=w(49784),b=w(35160),M=w(36110),ue=(w(37925),w(60830)),z=w(40832),X=w(21626),re=w(345);let Ce=(()=>{class se{constructor(){this._buttonClick$=new v.B,this.copied$=this._buttonClick$.pipe((0,F.n)(()=>(0,x.h)((0,d.of)(!0),(0,L.O)(3e3).pipe((0,S.u)(!1)))),(0,U.F)(),(0,O.t)(1)),this.copiedText$=this.copied$.pipe((0,b.Z)(!1),(0,M.T)(Ee=>Ee?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(C){return new(C||se)};static#t=this.\u0275cmp=u.VBU({type:se,selectors:[["markdown-clipboard"]],standalone:!0,features:[u.aNF],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(C,T){1&C&&(u.j41(0,"button",0),u.nI1(1,"async"),u.bIt("click",function(){return T.onCopyToClipboardClick()}),u.EFF(2),u.nI1(3,"async"),u.k0s()),2&C&&(u.AVh("copied",u.bMT(1,3,T.copied$)),u.R7$(2),u.JRh(u.bMT(3,5,T.copiedText$)))},dependencies:[y.Jj],encapsulation:2,changeDetection:0})}return se})();const K=new u.nKC("CLIPBOARD_OPTIONS"),Fe=new u.nKC("MARKED_EXTENSIONS"),je=new u.nKC("MARKED_OPTIONS"),ee=new u.nKC("SECURITY_CONTEXT");let Ge=(()=>{class se{get options(){return this._options}set options(Ee){this._options={...this.DEFAULT_MARKED_OPTIONS,...Ee}}get renderer(){return this.options.renderer}set renderer(Ee){this.options.renderer=Ee}constructor(Ee,C,T,J,W,ve,ne){this.clipboardOptions=Ee,this.extensions=C,this.platform=J,this.securityContext=W,this.http=ve,this.sanitizer=ne,this.DEFAULT_MARKED_OPTIONS={renderer:new z.A4},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new v.B,this.reload$=this._reload$.asObservable(),this.options=T}parse(Ee,C=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:T,inline:J,emoji:W,mermaid:ve,disableSanitizer:ne}=C,p={...this.options,...C.markedOptions},H=p.renderer||this.renderer||new z.A4;this.extensions&&(this.renderer=this.extendsRendererForExtensions(H)),ve&&(this.renderer=this.extendsRendererForMermaid(H));const B=this.trimIndentation(Ee),Ie=T?this.decodeHtml(B):B,$e=W?this.parseEmoji(Ie):Ie,ft=this.parseMarked($e,p,J);return(ne?ft:this.sanitizer.sanitize(this.securityContext,ft))||""}render(Ee,C=this.DEFAULT_RENDER_OPTIONS,T){const{clipboard:J,clipboardOptions:W,katex:ve,katexOptions:ne,mermaid:p,mermaidOptions:H}=C;ve&&this.renderKatex(Ee,{...this.DEFAULT_KATEX_OPTIONS,...ne}),p&&this.renderMermaid(Ee,{...this.DEFAULT_MERMAID_OPTIONS,...H}),J&&this.renderClipboard(Ee,T,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...W}),this.highlight(Ee)}reload(){this._reload$.next()}getSource(Ee){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(Ee,{responseType:"text"}).pipe((0,M.T)(C=>this.handleExtension(Ee,C)))}highlight(Ee){if(!(0,y.UE)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;Ee||(Ee=document);const C=Ee.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(C,T=>T.classList.add("language-none")),Prism.highlightAllUnder(Ee)}decodeHtml(Ee){if(!(0,y.UE)(this.platform))return Ee;const C=document.createElement("textarea");return C.innerHTML=Ee,C.value}extendsRendererForExtensions(Ee){const C=Ee;return!0===C.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&z.xI.use(...this.extensions),C.\u0275NgxMarkdownRendererExtendedForExtensions=!0),Ee}extendsRendererForMermaid(Ee){const C=Ee;if(!0===C.\u0275NgxMarkdownRendererExtendedForMermaid)return Ee;const T=Ee.code;return Ee.code=function(J,W,ve){return"mermaid"===W?`<div class="mermaid">${J}</div>`:T.call(this,J,W,ve)},C.\u0275NgxMarkdownRendererExtendedForMermaid=!0,Ee}handleExtension(Ee,C){const T=Ee.lastIndexOf("://"),J=T>-1?Ee.substring(T+4):Ee,W=J.lastIndexOf("/"),ve=W>-1?J.substring(W+1).split("?")[0]:"",ne=ve.lastIndexOf("."),p=ne>-1?ve.substring(ne+1):"";return p&&"md"!==p?"```"+p+"\n"+C+"\n```":C}parseMarked(Ee,C,T=!1){if(C.renderer){const J={...C.renderer};delete J.\u0275NgxMarkdownRendererExtendedForExtensions,delete J.\u0275NgxMarkdownRendererExtendedForMermaid,delete C.renderer,z.xI.use({renderer:J})}return T?z.xI.parseInline(Ee,C):z.xI.parse(Ee,C)}parseEmoji(Ee){if(!(0,y.UE)(this.platform))return Ee;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(Ee)}renderKatex(Ee,C){if((0,y.UE)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(Ee,C)}}renderClipboard(Ee,C,T){if(!(0,y.UE)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!C)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:J,buttonTemplate:W}=T,ve=Ee.querySelectorAll("pre");for(let ne=0;ne<ve.length;ne++){const p=ve.item(ne),H=document.createElement("div");H.style.position="relative",p.parentNode.insertBefore(H,p),H.appendChild(p);const B=document.createElement("div");let Ie,$e;if(B.classList.add("markdown-clipboard-toolbar"),B.style.position="absolute",B.style.top=".5em",B.style.right=".5em",B.style.zIndex="1",H.insertAdjacentElement("beforeend",B),H.onmouseenter=()=>B.classList.add("hover"),H.onmouseleave=()=>B.classList.remove("hover"),J){const ft=C.createComponent(J);Ie=ft.hostView,ft.changeDetectorRef.markForCheck()}else if(W)Ie=C.createEmbeddedView(W);else{const ft=C.createComponent(Ce);Ie=ft.hostView,ft.changeDetectorRef.markForCheck()}Ie.rootNodes.forEach(ft=>{B.appendChild(ft),$e=new ClipboardJS(ft,{text:()=>p.innerText})}),Ie.onDestroy(()=>$e.destroy())}}renderMermaid(Ee,C=this.DEFAULT_MERMAID_OPTIONS){if(!(0,y.UE)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const T=Ee.querySelectorAll(".mermaid");0!==T.length&&(mermaid.initialize(C),mermaid.run({nodes:T}))}trimIndentation(Ee){if(!Ee)return"";let C;return Ee.split("\n").map(T=>{let J=C;return T.length>0&&(J=isNaN(J)?T.search(/\S|$/):Math.min(T.search(/\S|$/),J)),isNaN(C)&&(C=J),J?T.substring(J):T}).join("\n")}static#e=this.\u0275fac=function(C){return new(C||se)(u.KVO(K,8),u.KVO(Fe,8),u.KVO(je,8),u.KVO(u.Agw),u.KVO(ee),u.KVO(X.Qq,8),u.KVO(re.up))};static#t=this.\u0275prov=u.jDH({token:se,factory:se.\u0275fac})}return se})(),ut=(()=>{class se{constructor(Ee,C,T,J,W){this.domSanitizer=Ee,this.elementRef=C,this.markdownService=T,this.viewContainerRef=J,this.zone=W}transform(Ee,C){var T=this;return(0,r.A)(function*(){if(null==Ee)return"";if("string"!=typeof Ee)return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof Ee}]`),Ee;const J=yield T.markdownService.parse(Ee,C);return T.zone.onStable.pipe((0,ue.$)()).subscribe(()=>T.markdownService.render(T.elementRef.nativeElement,C,T.viewContainerRef)),T.domSanitizer.bypassSecurityTrustHtml(J)})()}static#e=this.\u0275fac=function(C){return new(C||se)(u.rXU(re.up,16),u.rXU(u.aKT,16),u.rXU(Ge,16),u.rXU(u.c1b,16),u.rXU(u.SKi,16))};static#t=this.\u0275pipe=u.EJ8({name:"markdown",type:se,pure:!0,standalone:!0})}return se})();function bt(se){return[Ge,se?.loader??[],se?.clipboardOptions??[],se?.markedOptions??[],{provide:Fe,useValue:se?.markedExtensions??[]},{provide:ee,useValue:se?.sanitize??u.WPN.HTML}]}let Le=(()=>{class se{static forRoot(Ee){return{ngModule:se,providers:[bt(Ee)]}}static forChild(){return{ngModule:se}}static#e=this.\u0275fac=function(C){return new(C||se)};static#t=this.\u0275mod=u.$C({type:se});static#n=this.\u0275inj=u.G2t({imports:[y.MD]})}return se})();var Ae;!function(se){let Me;var T;let Ee,C;(T=Me=se.SecurityLevel||(se.SecurityLevel={})).Strict="strict",T.Loose="loose",T.Antiscript="antiscript",T.Sandbox="sandbox",function(T){T.Base="base",T.Forest="forest",T.Dark="dark",T.Default="default",T.Neutral="neutral"}(Ee=se.Theme||(se.Theme={})),function(T){T[T.Debug=1]="Debug",T[T.Info=2]="Info",T[T.Warn=3]="Warn",T[T.Error=4]="Error",T[T.Fatal=5]="Fatal"}(C=se.LogLevel||(se.LogLevel={}))}(Ae||(Ae={}))},74902:(ln,ye,w)=>{"use strict";var r;w.d(ye,{F:()=>v});var y=w(54438),u=w(5442);let v=(()=>{class x{constructor(){this._papa=r||(r=w.t(u,2))}parse(L,F){return this._papa.parse(L,F)}unparse(L,F){return this._papa.unparse(L,F)}setLocalChunkSize(L){this._papa.LocalChunkSize=L}setRemoteChunkSize(L){this._papa.RemoteChunkSize=L}setDefaultDelimiter(L){this._papa.DefaultDelimiter=L}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static#e=this.\u0275fac=function(F){return new(F||x)};static#t=this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},27878:(ln,ye,w)=>{"use strict";w.d(ye,{wR:()=>L});var r=w(54438);let L=(()=>{class F{static#e=this.\u0275fac=function(O){return new(O||F)};static#t=this.\u0275mod=r.$C({type:F});static#n=this.\u0275inj=r.G2t({})}return F})()},40832:(ln,ye,w)=>{"use strict";w.d(ye,{A4:()=>$,xI:()=>St});let y={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function u(Dt){y=Dt}const v=/[&<>"']/,x=new RegExp(v.source,"g"),d=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,L=new RegExp(d.source,"g"),F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},S=Dt=>F[Dt];function U(Dt,Le){if(Le){if(v.test(Dt))return Dt.replace(x,S)}else if(d.test(Dt))return Dt.replace(L,S);return Dt}const O=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,M=/(^|[^\[])\^/g;function A(Dt,Le){Dt="string"==typeof Dt?Dt:Dt.source,Le=Le||"";const Ae={replace:(se,Me)=>(Me=(Me="object"==typeof Me&&"source"in Me?Me.source:Me).replace(M,"$1"),Dt=Dt.replace(se,Me),Ae),getRegex:()=>new RegExp(Dt,Le)};return Ae}function ue(Dt){try{Dt=encodeURI(Dt).replace(/%25/g,"%")}catch{return null}return Dt}const z={exec:()=>null};function X(Dt,Le){const se=Dt.replace(/\|/g,(Ee,C,T)=>{let J=!1,W=C;for(;--W>=0&&"\\"===T[W];)J=!J;return J?"|":" |"}).split(/ \|/);let Me=0;if(se[0].trim()||se.shift(),se.length>0&&!se[se.length-1].trim()&&se.pop(),Le)if(se.length>Le)se.splice(Le);else for(;se.length<Le;)se.push("");for(;Me<se.length;Me++)se[Me]=se[Me].trim().replace(/\\\|/g,"|");return se}function re(Dt,Le,Ae){const se=Dt.length;if(0===se)return"";let Me=0;for(;Me<se;){const Ee=Dt.charAt(se-Me-1);if(Ee!==Le||Ae){if(Ee===Le||!Ae)break;Me++}else Me++}return Dt.slice(0,se-Me)}function Re(Dt,Le,Ae,se){const Me=Le.href,Ee=Le.title?U(Le.title):null,C=Dt[1].replace(/\\([\[\]])/g,"$1");if("!"!==Dt[0].charAt(0)){se.state.inLink=!0;const T={type:"link",raw:Ae,href:Me,title:Ee,text:C,tokens:se.inlineTokens(C)};return se.state.inLink=!1,T}return{type:"image",raw:Ae,href:Me,title:Ee,text:U(C)}}class Ce{options;rules;lexer;constructor(Le){this.options=Le||y}space(Le){const Ae=this.rules.block.newline.exec(Le);if(Ae&&Ae[0].length>0)return{type:"space",raw:Ae[0]}}code(Le){const Ae=this.rules.block.code.exec(Le);if(Ae){const se=Ae[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ae[0],codeBlockStyle:"indented",text:this.options.pedantic?se:re(se,"\n")}}}fences(Le){const Ae=this.rules.block.fences.exec(Le);if(Ae){const se=Ae[0],Me=function oe(Dt,Le){const Ae=Dt.match(/^(\s+)(?:```)/);if(null===Ae)return Le;const se=Ae[1];return Le.split("\n").map(Me=>{const Ee=Me.match(/^\s+/);if(null===Ee)return Me;const[C]=Ee;return C.length>=se.length?Me.slice(se.length):Me}).join("\n")}(se,Ae[3]||"");return{type:"code",raw:se,lang:Ae[2]?Ae[2].trim().replace(this.rules.inline._escapes,"$1"):Ae[2],text:Me}}}heading(Le){const Ae=this.rules.block.heading.exec(Le);if(Ae){let se=Ae[2].trim();if(/#$/.test(se)){const Me=re(se,"#");(this.options.pedantic||!Me||/ $/.test(Me))&&(se=Me.trim())}return{type:"heading",raw:Ae[0],depth:Ae[1].length,text:se,tokens:this.lexer.inline(se)}}}hr(Le){const Ae=this.rules.block.hr.exec(Le);if(Ae)return{type:"hr",raw:Ae[0]}}blockquote(Le){const Ae=this.rules.block.blockquote.exec(Le);if(Ae){const se=re(Ae[0].replace(/^ *>[ \t]?/gm,""),"\n"),Me=this.lexer.state.top;this.lexer.state.top=!0;const Ee=this.lexer.blockTokens(se);return this.lexer.state.top=Me,{type:"blockquote",raw:Ae[0],tokens:Ee,text:se}}}list(Le){let Ae=this.rules.block.list.exec(Le);if(Ae){let se=Ae[1].trim();const Me=se.length>1,Ee={type:"list",raw:"",ordered:Me,start:Me?+se.slice(0,-1):"",loose:!1,items:[]};se=Me?`\\d{1,9}\\${se.slice(-1)}`:`\\${se}`,this.options.pedantic&&(se=Me?se:"[*+-]");const C=new RegExp(`^( {0,3}${se})((?:[\t ][^\\n]*)?(?:\\n|$))`);let T="",J="",W=!1;for(;Le;){let ve=!1;if(!(Ae=C.exec(Le))||this.rules.block.hr.test(Le))break;T=Ae[0],Le=Le.substring(T.length);let ne=Ae[2].split("\n",1)[0].replace(/^\t+/,ft=>" ".repeat(3*ft.length)),p=Le.split("\n",1)[0],H=0;this.options.pedantic?(H=2,J=ne.trimStart()):(H=Ae[2].search(/[^ ]/),H=H>4?1:H,J=ne.slice(H),H+=Ae[1].length);let B=!1;if(!ne&&/^ *$/.test(p)&&(T+=p+"\n",Le=Le.substring(p.length+1),ve=!0),!ve){const ft=new RegExp(`^ {0,${Math.min(3,H-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),kt=new RegExp(`^ {0,${Math.min(3,H-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),jt=new RegExp(`^ {0,${Math.min(3,H-1)}}(?:\`\`\`|~~~)`),Ye=new RegExp(`^ {0,${Math.min(3,H-1)}}#`);for(;Le;){const ct=Le.split("\n",1)[0];if(p=ct,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),jt.test(p)||Ye.test(p)||ft.test(p)||kt.test(Le))break;if(p.search(/[^ ]/)>=H||!p.trim())J+="\n"+p.slice(H);else{if(B||ne.search(/[^ ]/)>=4||jt.test(ne)||Ye.test(ne)||kt.test(ne))break;J+="\n"+p}!B&&!p.trim()&&(B=!0),T+=ct+"\n",Le=Le.substring(ct.length+1),ne=p.slice(H)}}Ee.loose||(W?Ee.loose=!0:/\n *\n *$/.test(T)&&(W=!0));let $e,Ie=null;this.options.gfm&&(Ie=/^\[[ xX]\] /.exec(J),Ie&&($e="[ ] "!==Ie[0],J=J.replace(/^\[[ xX]\] +/,""))),Ee.items.push({type:"list_item",raw:T,task:!!Ie,checked:$e,loose:!1,text:J,tokens:[]}),Ee.raw+=T}Ee.items[Ee.items.length-1].raw=T.trimEnd(),Ee.items[Ee.items.length-1].text=J.trimEnd(),Ee.raw=Ee.raw.trimEnd();for(let ve=0;ve<Ee.items.length;ve++)if(this.lexer.state.top=!1,Ee.items[ve].tokens=this.lexer.blockTokens(Ee.items[ve].text,[]),!Ee.loose){const ne=Ee.items[ve].tokens.filter(H=>"space"===H.type),p=ne.length>0&&ne.some(H=>/\n.*\n/.test(H.raw));Ee.loose=p}if(Ee.loose)for(let ve=0;ve<Ee.items.length;ve++)Ee.items[ve].loose=!0;return Ee}}html(Le){const Ae=this.rules.block.html.exec(Le);if(Ae)return{type:"html",block:!0,raw:Ae[0],pre:"pre"===Ae[1]||"script"===Ae[1]||"style"===Ae[1],text:Ae[0]}}def(Le){const Ae=this.rules.block.def.exec(Le);if(Ae){const se=Ae[1].toLowerCase().replace(/\s+/g," "),Me=Ae[2]?Ae[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",Ee=Ae[3]?Ae[3].substring(1,Ae[3].length-1).replace(this.rules.inline._escapes,"$1"):Ae[3];return{type:"def",tag:se,raw:Ae[0],href:Me,title:Ee}}}table(Le){const Ae=this.rules.block.table.exec(Le);if(Ae){if(!/[:|]/.test(Ae[2]))return;const se={type:"table",raw:Ae[0],header:X(Ae[1]).map(Me=>({text:Me,tokens:[]})),align:Ae[2].replace(/^\||\| *$/g,"").split("|"),rows:Ae[3]&&Ae[3].trim()?Ae[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(se.header.length===se.align.length){let Ee,C,T,J,Me=se.align.length;for(Ee=0;Ee<Me;Ee++){const W=se.align[Ee];W&&(se.align[Ee]=/^ *-+: *$/.test(W)?"right":/^ *:-+: *$/.test(W)?"center":/^ *:-+ *$/.test(W)?"left":null)}for(Me=se.rows.length,Ee=0;Ee<Me;Ee++)se.rows[Ee]=X(se.rows[Ee],se.header.length).map(W=>({text:W,tokens:[]}));for(Me=se.header.length,C=0;C<Me;C++)se.header[C].tokens=this.lexer.inline(se.header[C].text);for(Me=se.rows.length,C=0;C<Me;C++)for(J=se.rows[C],T=0;T<J.length;T++)J[T].tokens=this.lexer.inline(J[T].text);return se}}}lheading(Le){const Ae=this.rules.block.lheading.exec(Le);if(Ae)return{type:"heading",raw:Ae[0],depth:"="===Ae[2].charAt(0)?1:2,text:Ae[1],tokens:this.lexer.inline(Ae[1])}}paragraph(Le){const Ae=this.rules.block.paragraph.exec(Le);if(Ae){const se="\n"===Ae[1].charAt(Ae[1].length-1)?Ae[1].slice(0,-1):Ae[1];return{type:"paragraph",raw:Ae[0],text:se,tokens:this.lexer.inline(se)}}}text(Le){const Ae=this.rules.block.text.exec(Le);if(Ae)return{type:"text",raw:Ae[0],text:Ae[0],tokens:this.lexer.inline(Ae[0])}}escape(Le){const Ae=this.rules.inline.escape.exec(Le);if(Ae)return{type:"escape",raw:Ae[0],text:U(Ae[1])}}tag(Le){const Ae=this.rules.inline.tag.exec(Le);if(Ae)return!this.lexer.state.inLink&&/^<a /i.test(Ae[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ae[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ae[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ae[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Ae[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Ae[0]}}link(Le){const Ae=this.rules.inline.link.exec(Le);if(Ae){const se=Ae[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;const C=re(se.slice(0,-1),"\\");if((se.length-C.length)%2==0)return}else{const C=function Z(Dt,Le){if(-1===Dt.indexOf(Le[1]))return-1;let Ae=0;for(let se=0;se<Dt.length;se++)if("\\"===Dt[se])se++;else if(Dt[se]===Le[0])Ae++;else if(Dt[se]===Le[1]&&(Ae--,Ae<0))return se;return-1}(Ae[2],"()");if(C>-1){const J=(0===Ae[0].indexOf("!")?5:4)+Ae[1].length+C;Ae[2]=Ae[2].substring(0,C),Ae[0]=Ae[0].substring(0,J).trim(),Ae[3]=""}}let Me=Ae[2],Ee="";if(this.options.pedantic){const C=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Me);C&&(Me=C[1],Ee=C[3])}else Ee=Ae[3]?Ae[3].slice(1,-1):"";return Me=Me.trim(),/^</.test(Me)&&(Me=this.options.pedantic&&!/>$/.test(se)?Me.slice(1):Me.slice(1,-1)),Re(Ae,{href:Me&&Me.replace(this.rules.inline._escapes,"$1"),title:Ee&&Ee.replace(this.rules.inline._escapes,"$1")},Ae[0],this.lexer)}}reflink(Le,Ae){let se;if((se=this.rules.inline.reflink.exec(Le))||(se=this.rules.inline.nolink.exec(Le))){let Me=(se[2]||se[1]).replace(/\s+/g," ");if(Me=Ae[Me.toLowerCase()],!Me){const Ee=se[0].charAt(0);return{type:"text",raw:Ee,text:Ee}}return Re(se,Me,se[0],this.lexer)}}emStrong(Le,Ae,se=""){let Me=this.rules.inline.emStrong.lDelim.exec(Le);if(!(!Me||Me[3]&&se.match(/[\p{L}\p{N}]/u))&&(!Me[1]&&!Me[2]||!se||this.rules.inline.punctuation.exec(se))){const C=[...Me[0]].length-1;let T,J,W=C,ve=0;const ne="*"===Me[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ne.lastIndex=0,Ae=Ae.slice(-1*Le.length+C);null!=(Me=ne.exec(Ae));){if(T=Me[1]||Me[2]||Me[3]||Me[4]||Me[5]||Me[6],!T)continue;if(J=[...T].length,Me[3]||Me[4]){W+=J;continue}if((Me[5]||Me[6])&&C%3&&!((C+J)%3)){ve+=J;continue}if(W-=J,W>0)continue;J=Math.min(J,J+W+ve);const p=[...Me[0]][0].length,H=Le.slice(0,C+Me.index+p+J);if(Math.min(C,J)%2){const Ie=H.slice(1,-1);return{type:"em",raw:H,text:Ie,tokens:this.lexer.inlineTokens(Ie)}}const B=H.slice(2,-2);return{type:"strong",raw:H,text:B,tokens:this.lexer.inlineTokens(B)}}}}codespan(Le){const Ae=this.rules.inline.code.exec(Le);if(Ae){let se=Ae[2].replace(/\n/g," ");const Me=/[^ ]/.test(se),Ee=/^ /.test(se)&&/ $/.test(se);return Me&&Ee&&(se=se.substring(1,se.length-1)),se=U(se,!0),{type:"codespan",raw:Ae[0],text:se}}}br(Le){const Ae=this.rules.inline.br.exec(Le);if(Ae)return{type:"br",raw:Ae[0]}}del(Le){const Ae=this.rules.inline.del.exec(Le);if(Ae)return{type:"del",raw:Ae[0],text:Ae[2],tokens:this.lexer.inlineTokens(Ae[2])}}autolink(Le){const Ae=this.rules.inline.autolink.exec(Le);if(Ae){let se,Me;return"@"===Ae[2]?(se=U(Ae[1]),Me="mailto:"+se):(se=U(Ae[1]),Me=se),{type:"link",raw:Ae[0],text:se,href:Me,tokens:[{type:"text",raw:se,text:se}]}}}url(Le){let Ae;if(Ae=this.rules.inline.url.exec(Le)){let se,Me;if("@"===Ae[2])se=U(Ae[0]),Me="mailto:"+se;else{let Ee;do{Ee=Ae[0],Ae[0]=this.rules.inline._backpedal.exec(Ae[0])[0]}while(Ee!==Ae[0]);se=U(Ae[0]),Me="www."===Ae[1]?"http://"+Ae[0]:Ae[0]}return{type:"link",raw:Ae[0],text:se,href:Me,tokens:[{type:"text",raw:se,text:se}]}}}inlineText(Le){const Ae=this.rules.inline.text.exec(Le);if(Ae){let se;return se=this.lexer.state.inRawBlock?Ae[0]:U(Ae[0]),{type:"text",raw:Ae[0],text:se}}}}const K={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:z,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};K.def=A(K.def).replace("label",K._label).replace("title",K._title).getRegex(),K.bullet=/(?:[*+-]|\d{1,9}[.)])/,K.listItemStart=A(/^( *)(bull) */).replace("bull",K.bullet).getRegex(),K.list=A(K.list).replace(/bull/g,K.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+K.def.source+")").getRegex(),K._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",K._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,K.html=A(K.html,"i").replace("comment",K._comment).replace("tag",K._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),K.lheading=A(K.lheading).replace(/bull/g,K.bullet).getRegex(),K.paragraph=A(K._paragraph).replace("hr",K.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",K._tag).getRegex(),K.blockquote=A(K.blockquote).replace("paragraph",K.paragraph).getRegex(),K.normal={...K},K.gfm={...K.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},K.gfm.table=A(K.gfm.table).replace("hr",K.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",K._tag).getRegex(),K.gfm.paragraph=A(K._paragraph).replace("hr",K.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",K.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",K._tag).getRegex(),K.pedantic={...K.normal,html:A("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",K._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:z,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(K.normal._paragraph).replace("hr",K.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",K.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:z,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:z,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};R.punctuation=A(R.punctuation,"u").replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,R.anyPunctuation=/\\[punct]/g,R._escapes=/\\([punct])/g,R._comment=A(K._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R.emStrong.lDelim=A(R.emStrong.lDelim,"u").replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimAst=A(R.emStrong.rDelimAst,"gu").replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimUnd=A(R.emStrong.rDelimUnd,"gu").replace(/punct/g,R._punctuation).getRegex(),R.anyPunctuation=A(R.anyPunctuation,"gu").replace(/punct/g,R._punctuation).getRegex(),R._escapes=A(R._escapes,"gu").replace(/punct/g,R._punctuation).getRegex(),R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=A(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=A(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=A(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=A(R.reflink).replace("label",R._label).replace("ref",K._label).getRegex(),R.nolink=A(R.nolink).replace("ref",K._label).getRegex(),R.reflinkSearch=A(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal={...R},R.pedantic={...R.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()},R.gfm={...R.normal,escape:A(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},R.gfm.url=A(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks={...R.gfm,br:A(R.br).replace("{2,}","*").getRegex(),text:A(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ce{tokens;options;state;tokenizer;inlineQueue;constructor(Le){this.tokens=[],this.tokens.links=Object.create(null),this.options=Le||y,this.options.tokenizer=this.options.tokenizer||new Ce,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Ae={block:K.normal,inline:R.normal};this.options.pedantic?(Ae.block=K.pedantic,Ae.inline=R.pedantic):this.options.gfm&&(Ae.block=K.gfm,Ae.inline=this.options.breaks?R.breaks:R.gfm),this.tokenizer.rules=Ae}static get rules(){return{block:K,inline:R}}static lex(Le,Ae){return new ce(Ae).lex(Le)}static lexInline(Le,Ae){return new ce(Ae).inlineTokens(Le)}lex(Le){let Ae;for(Le=Le.replace(/\r\n|\r/g,"\n"),this.blockTokens(Le,this.tokens);Ae=this.inlineQueue.shift();)this.inlineTokens(Ae.src,Ae.tokens);return this.tokens}blockTokens(Le,Ae=[]){let se,Me,Ee,C;for(Le=this.options.pedantic?Le.replace(/\t/g,"    ").replace(/^ +$/gm,""):Le.replace(/^( *)(\t+)/gm,(T,J,W)=>J+"    ".repeat(W.length));Le;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(T=>!!(se=T.call({lexer:this},Le,Ae))&&(Le=Le.substring(se.raw.length),Ae.push(se),!0)))){if(se=this.tokenizer.space(Le)){Le=Le.substring(se.raw.length),1===se.raw.length&&Ae.length>0?Ae[Ae.length-1].raw+="\n":Ae.push(se);continue}if(se=this.tokenizer.code(Le)){Le=Le.substring(se.raw.length),Me=Ae[Ae.length-1],!Me||"paragraph"!==Me.type&&"text"!==Me.type?Ae.push(se):(Me.raw+="\n"+se.raw,Me.text+="\n"+se.text,this.inlineQueue[this.inlineQueue.length-1].src=Me.text);continue}if(se=this.tokenizer.fences(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.heading(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.hr(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.blockquote(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.list(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.html(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.def(Le)){Le=Le.substring(se.raw.length),Me=Ae[Ae.length-1],!Me||"paragraph"!==Me.type&&"text"!==Me.type?this.tokens.links[se.tag]||(this.tokens.links[se.tag]={href:se.href,title:se.title}):(Me.raw+="\n"+se.raw,Me.text+="\n"+se.raw,this.inlineQueue[this.inlineQueue.length-1].src=Me.text);continue}if(se=this.tokenizer.table(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.lheading(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(Ee=Le,this.options.extensions&&this.options.extensions.startBlock){let T=1/0;const J=Le.slice(1);let W;this.options.extensions.startBlock.forEach(ve=>{W=ve.call({lexer:this},J),"number"==typeof W&&W>=0&&(T=Math.min(T,W))}),T<1/0&&T>=0&&(Ee=Le.substring(0,T+1))}if(this.state.top&&(se=this.tokenizer.paragraph(Ee))){Me=Ae[Ae.length-1],C&&"paragraph"===Me.type?(Me.raw+="\n"+se.raw,Me.text+="\n"+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Me.text):Ae.push(se),C=Ee.length!==Le.length,Le=Le.substring(se.raw.length);continue}if(se=this.tokenizer.text(Le)){Le=Le.substring(se.raw.length),Me=Ae[Ae.length-1],Me&&"text"===Me.type?(Me.raw+="\n"+se.raw,Me.text+="\n"+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Me.text):Ae.push(se);continue}if(Le){const T="Infinite loop on byte: "+Le.charCodeAt(0);if(this.options.silent){console.error(T);break}throw new Error(T)}}return this.state.top=!0,Ae}inline(Le,Ae=[]){return this.inlineQueue.push({src:Le,tokens:Ae}),Ae}inlineTokens(Le,Ae=[]){let se,Me,Ee,T,J,W,C=Le;if(this.tokens.links){const ve=Object.keys(this.tokens.links);if(ve.length>0)for(;null!=(T=this.tokenizer.rules.inline.reflinkSearch.exec(C));)ve.includes(T[0].slice(T[0].lastIndexOf("[")+1,-1))&&(C=C.slice(0,T.index)+"["+"a".repeat(T[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(T=this.tokenizer.rules.inline.blockSkip.exec(C));)C=C.slice(0,T.index)+"["+"a".repeat(T[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(T=this.tokenizer.rules.inline.anyPunctuation.exec(C));)C=C.slice(0,T.index)+"++"+C.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Le;)if(J||(W=""),J=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ve=>!!(se=ve.call({lexer:this},Le,Ae))&&(Le=Le.substring(se.raw.length),Ae.push(se),!0)))){if(se=this.tokenizer.escape(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.tag(Le)){Le=Le.substring(se.raw.length),Me=Ae[Ae.length-1],Me&&"text"===se.type&&"text"===Me.type?(Me.raw+=se.raw,Me.text+=se.text):Ae.push(se);continue}if(se=this.tokenizer.link(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.reflink(Le,this.tokens.links)){Le=Le.substring(se.raw.length),Me=Ae[Ae.length-1],Me&&"text"===se.type&&"text"===Me.type?(Me.raw+=se.raw,Me.text+=se.text):Ae.push(se);continue}if(se=this.tokenizer.emStrong(Le,C,W)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.codespan(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.br(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.del(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(se=this.tokenizer.autolink(Le)){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(!this.state.inLink&&(se=this.tokenizer.url(Le))){Le=Le.substring(se.raw.length),Ae.push(se);continue}if(Ee=Le,this.options.extensions&&this.options.extensions.startInline){let ve=1/0;const ne=Le.slice(1);let p;this.options.extensions.startInline.forEach(H=>{p=H.call({lexer:this},ne),"number"==typeof p&&p>=0&&(ve=Math.min(ve,p))}),ve<1/0&&ve>=0&&(Ee=Le.substring(0,ve+1))}if(se=this.tokenizer.inlineText(Ee)){Le=Le.substring(se.raw.length),"_"!==se.raw.slice(-1)&&(W=se.raw.slice(-1)),J=!0,Me=Ae[Ae.length-1],Me&&"text"===Me.type?(Me.raw+=se.raw,Me.text+=se.text):Ae.push(se);continue}if(Le){const ve="Infinite loop on byte: "+Le.charCodeAt(0);if(this.options.silent){console.error(ve);break}throw new Error(ve)}}return Ae}}class ${options;constructor(Le){this.options=Le||y}code(Le,Ae,se){const Me=(Ae||"").match(/^\S*/)?.[0];return Le=Le.replace(/\n$/,"")+"\n",Me?'<pre><code class="language-'+U(Me)+'">'+(se?Le:U(Le,!0))+"</code></pre>\n":"<pre><code>"+(se?Le:U(Le,!0))+"</code></pre>\n"}blockquote(Le){return`<blockquote>\n${Le}</blockquote>\n`}html(Le,Ae){return Le}heading(Le,Ae,se){return`<h${Ae}>${Le}</h${Ae}>\n`}hr(){return"<hr>\n"}list(Le,Ae,se){const Me=Ae?"ol":"ul";return"<"+Me+(Ae&&1!==se?' start="'+se+'"':"")+">\n"+Le+"</"+Me+">\n"}listitem(Le,Ae,se){return`<li>${Le}</li>\n`}checkbox(Le){return"<input "+(Le?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(Le){return`<p>${Le}</p>\n`}table(Le,Ae){return Ae&&(Ae=`<tbody>${Ae}</tbody>`),"<table>\n<thead>\n"+Le+"</thead>\n"+Ae+"</table>\n"}tablerow(Le){return`<tr>\n${Le}</tr>\n`}tablecell(Le,Ae){const se=Ae.header?"th":"td";return(Ae.align?`<${se} align="${Ae.align}">`:`<${se}>`)+Le+`</${se}>\n`}strong(Le){return`<strong>${Le}</strong>`}em(Le){return`<em>${Le}</em>`}codespan(Le){return`<code>${Le}</code>`}br(){return"<br>"}del(Le){return`<del>${Le}</del>`}link(Le,Ae,se){const Me=ue(Le);if(null===Me)return se;let Ee='<a href="'+(Le=Me)+'"';return Ae&&(Ee+=' title="'+Ae+'"'),Ee+=">"+se+"</a>",Ee}image(Le,Ae,se){const Me=ue(Le);if(null===Me)return se;let Ee=`<img src="${Le=Me}" alt="${se}"`;return Ae&&(Ee+=` title="${Ae}"`),Ee+=">",Ee}text(Le){return Le}}class Fe{strong(Le){return Le}em(Le){return Le}codespan(Le){return Le}del(Le){return Le}html(Le){return Le}text(Le){return Le}link(Le,Ae,se){return""+se}image(Le,Ae,se){return""+se}br(){return""}}class je{options;renderer;textRenderer;constructor(Le){this.options=Le||y,this.options.renderer=this.options.renderer||new $,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fe}static parse(Le,Ae){return new je(Ae).parse(Le)}static parseInline(Le,Ae){return new je(Ae).parseInline(Le)}parse(Le,Ae=!0){let se="";for(let Me=0;Me<Le.length;Me++){const Ee=Le[Me];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]){const C=Ee,T=this.options.extensions.renderers[C.type].call({parser:this},C);if(!1!==T||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(C.type)){se+=T||"";continue}}switch(Ee.type){case"space":continue;case"hr":se+=this.renderer.hr();continue;case"heading":{const C=Ee;se+=this.renderer.heading(this.parseInline(C.tokens),C.depth,this.parseInline(C.tokens,this.textRenderer).replace(O,(Le,Ae)=>"colon"===(Ae=Ae.toLowerCase())?":":"#"===Ae.charAt(0)?"x"===Ae.charAt(1)?String.fromCharCode(parseInt(Ae.substring(2),16)):String.fromCharCode(+Ae.substring(1)):""));continue}case"code":se+=this.renderer.code(Ee.text,Ee.lang,!!Ee.escaped);continue;case"table":{const C=Ee;let T="",J="";for(let ve=0;ve<C.header.length;ve++)J+=this.renderer.tablecell(this.parseInline(C.header[ve].tokens),{header:!0,align:C.align[ve]});T+=this.renderer.tablerow(J);let W="";for(let ve=0;ve<C.rows.length;ve++){const ne=C.rows[ve];J="";for(let p=0;p<ne.length;p++)J+=this.renderer.tablecell(this.parseInline(ne[p].tokens),{header:!1,align:C.align[p]});W+=this.renderer.tablerow(J)}se+=this.renderer.table(T,W);continue}case"blockquote":{const T=this.parse(Ee.tokens);se+=this.renderer.blockquote(T);continue}case"list":{const C=Ee,T=C.ordered,J=C.start,W=C.loose;let ve="";for(let ne=0;ne<C.items.length;ne++){const p=C.items[ne],H=p.checked,B=p.task;let Ie="";if(p.task){const $e=this.renderer.checkbox(!!H);W?p.tokens.length>0&&"paragraph"===p.tokens[0].type?(p.tokens[0].text=$e+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&"text"===p.tokens[0].tokens[0].type&&(p.tokens[0].tokens[0].text=$e+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:$e+" "}):Ie+=$e+" "}Ie+=this.parse(p.tokens,W),ve+=this.renderer.listitem(Ie,B,!!H)}se+=this.renderer.list(ve,T,J);continue}case"html":se+=this.renderer.html(Ee.text,Ee.block);continue;case"paragraph":se+=this.renderer.paragraph(this.parseInline(Ee.tokens));continue;case"text":{let C=Ee,T=C.tokens?this.parseInline(C.tokens):C.text;for(;Me+1<Le.length&&"text"===Le[Me+1].type;)C=Le[++Me],T+="\n"+(C.tokens?this.parseInline(C.tokens):C.text);se+=Ae?this.renderer.paragraph(T):T;continue}default:{const C='Token with "'+Ee.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return se}parseInline(Le,Ae){Ae=Ae||this.renderer;let se="";for(let Me=0;Me<Le.length;Me++){const Ee=Le[Me];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]){const C=this.options.extensions.renderers[Ee.type].call({parser:this},Ee);if(!1!==C||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ee.type)){se+=C||"";continue}}switch(Ee.type){case"escape":case"text":se+=Ae.text(Ee.text);break;case"html":se+=Ae.html(Ee.text);break;case"link":se+=Ae.link(Ee.href,Ee.title,this.parseInline(Ee.tokens,Ae));break;case"image":se+=Ae.image(Ee.href,Ee.title,Ee.text);break;case"strong":se+=Ae.strong(this.parseInline(Ee.tokens,Ae));break;case"em":se+=Ae.em(this.parseInline(Ee.tokens,Ae));break;case"codespan":se+=Ae.codespan(Ee.text);break;case"br":se+=Ae.br();break;case"del":se+=Ae.del(this.parseInline(Ee.tokens,Ae));break;default:{const C='Token with "'+Ee.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return se}}class Ve{options;constructor(Le){this.options=Le||y}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(Le){return Le}postprocess(Le){return Le}}const pt=new class lt{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(ce.lex,je.parse);parseInline=this.#e(ce.lexInline,je.parseInline);Parser=je;Renderer=$;TextRenderer=Fe;Lexer=ce;Tokenizer=Ce;Hooks=Ve;constructor(...Le){this.use(...Le)}walkTokens(Le,Ae){let se=[];for(const Me of Le)switch(se=se.concat(Ae.call(this,Me)),Me.type){case"table":{const Ee=Me;for(const C of Ee.header)se=se.concat(this.walkTokens(C.tokens,Ae));for(const C of Ee.rows)for(const T of C)se=se.concat(this.walkTokens(T.tokens,Ae));break}case"list":se=se.concat(this.walkTokens(Me.items,Ae));break;default:{const Ee=Me;this.defaults.extensions?.childTokens?.[Ee.type]?this.defaults.extensions.childTokens[Ee.type].forEach(C=>{se=se.concat(this.walkTokens(Ee[C],Ae))}):Ee.tokens&&(se=se.concat(this.walkTokens(Ee.tokens,Ae)))}}return se}use(...Le){const Ae=this.defaults.extensions||{renderers:{},childTokens:{}};return Le.forEach(se=>{const Me={...se};if(Me.async=this.defaults.async||Me.async||!1,se.extensions&&(se.extensions.forEach(Ee=>{if(!Ee.name)throw new Error("extension name required");if("renderer"in Ee){const C=Ae.renderers[Ee.name];Ae.renderers[Ee.name]=C?function(...T){let J=Ee.renderer.apply(this,T);return!1===J&&(J=C.apply(this,T)),J}:Ee.renderer}if("tokenizer"in Ee){if(!Ee.level||"block"!==Ee.level&&"inline"!==Ee.level)throw new Error("extension level must be 'block' or 'inline'");const C=Ae[Ee.level];C?C.unshift(Ee.tokenizer):Ae[Ee.level]=[Ee.tokenizer],Ee.start&&("block"===Ee.level?Ae.startBlock?Ae.startBlock.push(Ee.start):Ae.startBlock=[Ee.start]:"inline"===Ee.level&&(Ae.startInline?Ae.startInline.push(Ee.start):Ae.startInline=[Ee.start]))}"childTokens"in Ee&&Ee.childTokens&&(Ae.childTokens[Ee.name]=Ee.childTokens)}),Me.extensions=Ae),se.renderer){const Ee=this.defaults.renderer||new $(this.defaults);for(const C in se.renderer){const T=se.renderer[C],W=Ee[C];Ee[C]=(...ve)=>{let ne=T.apply(Ee,ve);return!1===ne&&(ne=W.apply(Ee,ve)),ne||""}}Me.renderer=Ee}if(se.tokenizer){const Ee=this.defaults.tokenizer||new Ce(this.defaults);for(const C in se.tokenizer){const T=se.tokenizer[C],W=Ee[C];Ee[C]=(...ve)=>{let ne=T.apply(Ee,ve);return!1===ne&&(ne=W.apply(Ee,ve)),ne}}Me.tokenizer=Ee}if(se.hooks){const Ee=this.defaults.hooks||new Ve;for(const C in se.hooks){const T=se.hooks[C],W=Ee[C];Ee[C]=Ve.passThroughHooks.has(C)?ve=>{if(this.defaults.async)return Promise.resolve(T.call(Ee,ve)).then(p=>W.call(Ee,p));const ne=T.call(Ee,ve);return W.call(Ee,ne)}:(...ve)=>{let ne=T.apply(Ee,ve);return!1===ne&&(ne=W.apply(Ee,ve)),ne}}Me.hooks=Ee}if(se.walkTokens){const Ee=this.defaults.walkTokens,C=se.walkTokens;Me.walkTokens=function(T){let J=[];return J.push(C.call(this,T)),Ee&&(J=J.concat(Ee.call(this,T))),J}}this.defaults={...this.defaults,...Me}}),this}setOptions(Le){return this.defaults={...this.defaults,...Le},this}lexer(Le,Ae){return ce.lex(Le,Ae??this.defaults)}parser(Le,Ae){return je.parse(Le,Ae??this.defaults)}#e(Le,Ae){return(se,Me)=>{const Ee={...Me},C={...this.defaults,...Ee};!0===this.defaults.async&&!1===Ee.async&&(C.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),C.async=!0);const T=this.#t(!!C.silent,!!C.async);if(typeof se>"u"||null===se)return T(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof se)return T(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(se)+", string expected"));if(C.hooks&&(C.hooks.options=C),C.async)return Promise.resolve(C.hooks?C.hooks.preprocess(se):se).then(J=>Le(J,C)).then(J=>C.walkTokens?Promise.all(this.walkTokens(J,C.walkTokens)).then(()=>J):J).then(J=>Ae(J,C)).then(J=>C.hooks?C.hooks.postprocess(J):J).catch(T);try{C.hooks&&(se=C.hooks.preprocess(se));const J=Le(se,C);C.walkTokens&&this.walkTokens(J,C.walkTokens);let W=Ae(J,C);return C.hooks&&(W=C.hooks.postprocess(W)),W}catch(J){return T(J)}}}#t(Le,Ae){return se=>{if(se.message+="\nPlease report this to https://github.com/markedjs/marked.",Le){const Me="<p>An error occurred:</p><pre>"+U(se.message+"",!0)+"</pre>";return Ae?Promise.resolve(Me):Me}if(Ae)return Promise.reject(se);throw se}}};function St(Dt,Le){return pt.parse(Dt,Le)}St.options=St.setOptions=function(Dt){return pt.setOptions(Dt),u(St.defaults=pt.defaults),St},St.getDefaults=function r(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},St.defaults=y,St.use=function(...Dt){return pt.use(...Dt),u(St.defaults=pt.defaults),St},St.walkTokens=function(Dt,Le){return pt.walkTokens(Dt,Le)},St.parseInline=pt.parseInline,St.Parser=je,St.parser=je.parse,St.Renderer=$,St.TextRenderer=Fe,St.Lexer=ce,St.lexer=ce.lex,St.Tokenizer=Ce,St.Hooks=Ve,St.parse=St},34992:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>O});var r=w(28407),y=w(91677);class v extends Error{constructor(M){super(M),this.name="TimeoutError"}}class x extends Error{constructor(M){super(),this.name="AbortError",this.message=M}}const d=b=>void 0===globalThis.DOMException?new x(b):new DOMException(b),L=b=>{const M=void 0===b.reason?d("This operation was aborted."):b.reason;return M instanceof Error?M:d(M)};class U{#e=[];enqueue(M,A){const ue={priority:(A={priority:0,...A}).priority,run:M};if(this.size&&this.#e[this.size-1].priority>=A.priority)return void this.#e.push(ue);const z=function S(b,M,A){let ue=0,z=b.length;for(;z>0;){const X=Math.trunc(z/2);let re=ue+X;A(b[re],M)<=0?(ue=++re,z-=X+1):z=X}return ue}(this.#e,ue,(X,re)=>re.priority-X.priority);this.#e.splice(z,0,ue)}dequeue(){return this.#e.shift()?.run}filter(M){return this.#e.filter(A=>A.priority===M.priority).map(A=>A.run)}get size(){return this.#e.length}}class O extends y{#e;#t;#n=0;#s;#a;#l=0;#r;#c;#i;#d;#o=0;#h;#u;#g;timeout;constructor(M){if(super(),!("number"==typeof(M={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:U,...M}).intervalCap&&M.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${M.intervalCap?.toString()??""}\` (${typeof M.intervalCap})`);if(void 0===M.interval||!(Number.isFinite(M.interval)&&M.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${M.interval?.toString()??""}\` (${typeof M.interval})`);this.#e=M.carryoverConcurrencyCount,this.#t=M.intervalCap===Number.POSITIVE_INFINITY||0===M.interval,this.#s=M.intervalCap,this.#a=M.interval,this.#i=new M.queueClass,this.#d=M.queueClass,this.concurrency=M.concurrency,this.timeout=M.timeout,this.#g=!0===M.throwOnTimeout,this.#u=!1===M.autoStart}get#y(){return this.#t||this.#n<this.#s}get#b(){return this.#o<this.#h}#E(){this.#o--,this.#f(),this.emit("next")}#A(){this.#v(),this.#_(),this.#c=void 0}get#C(){const M=Date.now();if(void 0===this.#r){const A=this.#l-M;if(!(A<0))return void 0===this.#c&&(this.#c=setTimeout(()=>{this.#A()},A)),!0;this.#n=this.#e?this.#o:0}return!1}#f(){if(0===this.#i.size)return this.#r&&clearInterval(this.#r),this.#r=void 0,this.emit("empty"),0===this.#o&&this.emit("idle"),!1;if(!this.#u){const M=!this.#C;if(this.#y&&this.#b){const A=this.#i.dequeue();return!!A&&(this.emit("active"),A(),M&&this.#_(),!0)}}return!1}#_(){this.#t||void 0!==this.#r||(this.#r=setInterval(()=>{this.#v()},this.#a),this.#l=Date.now()+this.#a)}#v(){0===this.#n&&0===this.#o&&this.#r&&(clearInterval(this.#r),this.#r=void 0),this.#n=this.#e?this.#o:0,this.#p()}#p(){for(;this.#f(););}get concurrency(){return this.#h}set concurrency(M){if(!("number"==typeof M&&M>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${M}\` (${typeof M})`);this.#h=M,this.#p()}#w(M){return(0,r.A)(function*(){return new Promise((A,ue)=>{M.addEventListener("abort",()=>{ue(M.reason)},{once:!0})})})()}add(M,A={}){var ue=this;return(0,r.A)(function*(){return A={timeout:ue.timeout,throwOnTimeout:ue.#g,...A},new Promise((z,X)=>{ue.#i.enqueue((0,r.A)(function*(){ue.#o++,ue.#n++;try{A.signal?.throwIfAborted();let re=M({signal:A.signal});A.timeout&&(re=function F(b,M){const{milliseconds:A,fallback:ue,message:z,customTimers:X={setTimeout,clearTimeout}}=M;let re;const Re=new Promise((oe,Ce)=>{if("number"!=typeof A||1!==Math.sign(A))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${A}\``);if(M.signal){const{signal:R}=M;R.aborted&&Ce(L(R));const ce=()=>{Ce(L(R))};R.addEventListener("abort",ce,{once:!0}),b.finally(()=>{R.removeEventListener("abort",ce)})}if(A===Number.POSITIVE_INFINITY)return void b.then(oe,Ce);const K=new v;re=X.setTimeout.call(void 0,()=>{if(ue)try{oe(ue())}catch(R){Ce(R)}else"function"==typeof b.cancel&&b.cancel(),!1===z?oe():z instanceof Error?Ce(z):(K.message=z??`Promise timed out after ${A} milliseconds`,Ce(K))},A),(0,r.A)(function*(){try{oe(yield b)}catch(R){Ce(R)}})()}).finally(()=>{Re.clear()});return Re.clear=()=>{X.clearTimeout.call(void 0,re),re=void 0},Re}(Promise.resolve(re),{milliseconds:A.timeout})),A.signal&&(re=Promise.race([re,ue.#w(A.signal)]));const Z=yield re;z(Z),ue.emit("completed",Z)}catch(re){if(re instanceof v&&!A.throwOnTimeout)return void z();X(re),ue.emit("error",re)}finally{ue.#E()}}),A),ue.emit("add"),ue.#f()})})()}addAll(M,A){var ue=this;return(0,r.A)(function*(){return Promise.all(M.map(function(){var z=(0,r.A)(function*(X){return ue.add(X,A)});return function(X){return z.apply(this,arguments)}}()))})()}start(){return this.#u?(this.#u=!1,this.#p(),this):this}pause(){this.#u=!0}clear(){this.#i=new this.#d}onEmpty(){var M=this;return(0,r.A)(function*(){0!==M.#i.size&&(yield M.#m("empty"))})()}onSizeLessThan(M){var A=this;return(0,r.A)(function*(){A.#i.size<M||(yield A.#m("next",()=>A.#i.size<M))})()}onIdle(){var M=this;return(0,r.A)(function*(){0===M.#o&&0===M.#i.size||(yield M.#m("idle"))})()}#m(M,A){var ue=this;return(0,r.A)(function*(){return new Promise(z=>{const X=()=>{A&&!A()||(ue.off(M,X),z())};ue.on(M,X)})})()}get size(){return this.#i.size}sizeBy(M){return this.#i.filter(M).length}get pending(){return this.#o}get isPaused(){return this.#u}}},70432:(ln,ye,w)=>{"use strict";w.d(ye,{A:()=>S});var r=w(28407),y=w(64090);const u=Object.prototype.toString,v=O=>"[object Error]"===u.call(O),x=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);class L extends Error{constructor(b){super(),b instanceof Error?(this.originalError=b,({message:b}=b)):(this.originalError=new Error(b),this.originalError.stack=this.stack),this.name="AbortError",this.message=b}}const F=(O,b,M)=>{const A=M.retries-(b-1);return O.attemptNumber=b,O.retriesLeft=A,O};function S(O,b){return U.apply(this,arguments)}function U(){return U=(0,r.A)(function*(O,b){return new Promise((M,A)=>{b={...b},b.onFailedAttempt??=()=>{},b.shouldRetry??=()=>!0,b.retries??=10;const ue=y.operation(b),z=()=>{ue.stop(),A(b.signal?.reason)};b.signal&&!b.signal.aborted&&b.signal.addEventListener("abort",z,{once:!0});const X=()=>{b.signal?.removeEventListener("abort",z),ue.stop()};ue.attempt(function(){var re=(0,r.A)(function*(Z){try{const Re=yield O(Z);X(),M(Re)}catch(Re){try{if(!(Re instanceof Error))throw new TypeError(`Non-error was thrown: "${Re}". You should only throw errors.`);if(Re instanceof L)throw Re.originalError;if(Re instanceof TypeError&&!function d(O){return!(!O||!v(O)||"TypeError"!==O.name||"string"!=typeof O.message)&&("Load failed"===O.message?void 0===O.stack:x.has(O.message))}(Re))throw Re;if(F(Re,Z,b),(yield b.shouldRetry(Re))||(ue.stop(),A(Re)),yield b.onFailedAttempt(Re),!ue.retry(Re))throw ue.mainError()}catch(oe){F(oe,Z,b),X(),A(oe)}}});return function(Z){return re.apply(this,arguments)}}())})}),U.apply(this,arguments)}},28407:(ln,ye,w)=>{"use strict";function r(u,v,x,d,L,F,S){try{var U=u[F](S),O=U.value}catch(b){return void x(b)}U.done?v(O):Promise.resolve(O).then(d,L)}function y(u){return function(){var v=this,x=arguments;return new Promise(function(d,L){var F=u.apply(v,x);function S(O){r(F,d,L,S,U,"next",O)}function U(O){r(F,d,L,S,U,"throw",O)}S(void 0)})}}w.d(ye,{A:()=>y})},31635:(ln,ye,w)=>{"use strict";function b(Ze,ut,bt,Dt){return new(bt||(bt=Promise))(function(Ae,se){function Me(T){try{C(Dt.next(T))}catch(J){se(J)}}function Ee(T){try{C(Dt.throw(T))}catch(J){se(J)}}function C(T){T.done?Ae(T.value):function Le(Ae){return Ae instanceof bt?Ae:new bt(function(se){se(Ae)})}(T.value).then(Me,Ee)}C((Dt=Dt.apply(Ze,ut||[])).next())})}function oe(Ze){return this instanceof oe?(this.v=Ze,this):new oe(Ze)}function Ce(Ze,ut,bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Dt=bt.apply(Ze,ut||[]),Ae=[];return Le=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Me("next"),Me("throw"),Me("return",function se(ve){return function(ne){return Promise.resolve(ne).then(ve,J)}}),Le[Symbol.asyncIterator]=function(){return this},Le;function Me(ve,ne){Dt[ve]&&(Le[ve]=function(p){return new Promise(function(H,B){Ae.push([ve,p,H,B])>1||Ee(ve,p)})},ne&&(Le[ve]=ne(Le[ve])))}function Ee(ve,ne){try{!function C(ve){ve.value instanceof oe?Promise.resolve(ve.value.v).then(T,J):W(Ae[0][2],ve)}(Dt[ve](ne))}catch(p){W(Ae[0][3],p)}}function T(ve){Ee("next",ve)}function J(ve){Ee("throw",ve)}function W(ve,ne){ve(ne),Ae.shift(),Ae.length&&Ee(Ae[0][0],Ae[0][1])}}function R(Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,ut=Ze[Symbol.asyncIterator];return ut?ut.call(Ze):(Ze=function z(Ze){var ut="function"==typeof Symbol&&Symbol.iterator,bt=ut&&Ze[ut],Dt=0;if(bt)return bt.call(Ze);if(Ze&&"number"==typeof Ze.length)return{next:function(){return Ze&&Dt>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[Dt++],done:!Ze}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ze),bt={},Dt("next"),Dt("throw"),Dt("return"),bt[Symbol.asyncIterator]=function(){return this},bt);function Dt(Ae){bt[Ae]=Ze[Ae]&&function(se){return new Promise(function(Me,Ee){!function Le(Ae,se,Me,Ee){Promise.resolve(Ee).then(function(C){Ae({value:C,done:Me})},se)}(Me,Ee,(se=Ze[Ae](se)).done,se.value)})}}}w.d(ye,{AQ:()=>Ce,N3:()=>oe,sH:()=>b,xN:()=>R}),"function"==typeof SuppressedError&&SuppressedError}}]);