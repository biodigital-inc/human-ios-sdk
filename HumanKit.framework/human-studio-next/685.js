"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[685],{44971:(X,E,c)=>{c.d(E,{u:()=>_t});var e=c(54438),O=c(17365),v=c(58841),l=c(25382),_=c(79898),P=c(72760),A=c(6795),C=c(24418),x=c(30234),m=c(17766),u=c(16823),p=c(34006),g=c(49204),b=c(85052),s=c(93844),q=c(9632),w=c(21424),U=c(90908),N=c(89612),z=c(16606),S=c(92014),R=c(21007),k=c(60177),L=c(77242),Y=c(41640),f=c(59115),F=c(14823),I=c(26779),Q=c(70914);const Z=["iframeEl"],W=n=>({"quick-view__main--span":n}),J=n=>({"quick-view__iframe-container--active":n}),K=n=>({"quick-view__content--hide":n}),H=n=>({"quick-view__chapters--single":n}),V=n=>({"quick-view__thumbnail--active":n}),ee=(n,a)=>({"quick-view__chapter--active":n,"quick-view__chapter--single":a});function te(n,a){if(1&n&&(e.j41(0,"app-list-item"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI("",t.story.chapters.length," Chapters")}}function ne(n,a){if(1&n&&(e.j41(0,"app-list-item"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t," ")}}function oe(n,a){if(1&n&&(e.j41(0,"app-list",25),e.DNE(1,te,2,1,"app-list-item",13)(2,ne,2,1,"app-list-item",17),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("dense",!0),e.R7$(),e.Y8G("ngIf",t.story.chapters.length>1),e.R7$(),e.Y8G("ngForOf",t.bookmarkTags)}}function ie(n,a){if(1&n){const t=e.RV6();e.j41(0,"li")(1,"a",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showPreview())}),e.j41(2,"div",27),e.nrm(3,"img",28),e.EFF(4," 3D "),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(1,V,t.previewActive))}}function ae(n,a){if(1&n){const t=e.RV6();e.j41(0,"li",29)(1,"a",30),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.selectChapter(i))}),e.nrm(2,"img",31),e.k0s()()}if(2&n){const t=a.$implicit,o=a.index,i=e.XpG(2);e.Y8G("id","quick-view__thumbnail-"+t.id),e.R7$(),e.Y8G("matTooltip",o+1+" of "+i.story.chapters.length+": "+t.displayName)("ngClass",e.eq3(4,V,t.id===i.activeChapter.id&&!i.previewActive)),e.R7$(),e.Y8G("src",i.getImage(t,"small"),e.B4B)}}function re(n,a){if(1&n&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&n){const t=e.XpG().index;e.R7$(),e.SpI("",t+1,". ")}}function ce(n,a){if(1&n&&(e.qex(0),e.j41(1,"span",38),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG().$implicit;e.R7$(2),e.Lme("",t.quizQuestions.length," ",(null==t.quizQuestions?null:t.quizQuestions.length)>1?"Questions":"Question","")}}function le(n,a){if(1&n&&e.nrm(0,"app-html",39),2&n){const t=e.XpG().$implicit;e.Y8G("markdownText",t.description)}}function se(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"li",32)(2,"a",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.selectChapter(i))}),e.j41(3,"h2",34),e.DNE(4,re,2,1,"span",35),e.EFF(5),e.k0s(),e.DNE(6,ce,3,2,"ng-container",13),e.k0s(),e.DNE(7,le,1,1,"app-html",36),e.k0s(),e.bVm()}if(2&n){const t=a.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("id","quick-view__chapter-"+t.id)("ngClass",e.l_i(6,ee,t.id===o.activeChapter.id,1===o.story.chapters.length)),e.R7$(3),e.Y8G("ngIf",o.story.chapters.length>1),e.R7$(),e.SpI("",t.displayName," "),e.R7$(),e.Y8G("ngIf",null==t.quizQuestions?null:t.quizQuestions.length),e.R7$(),e.Y8G("ngIf",t.id===o.activeChapter.id&&t.description.length)}}function de(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.handleBookmarkAction(i))}),e.EFF(1),e.k0s()}if(2&n){const t=a.$implicit,o=e.XpG(2);e.BMQ("data-test","quickViewAction"+o.bookmarkActionsLabels[t]),e.R7$(),e.SpI(" ",o.bookmarkActionsLabels[t]," ")}}function _e(n,a){if(1&n&&(e.j41(0,"button",41),e.nrm(1,"app-icon",42),e.k0s()),2&n){e.XpG();const t=e.sdS(23);e.Y8G("matMenuTriggerFor",t)}}function ge(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.handleBookmarkAction(i))}),e.EFF(1),e.k0s()}if(2&n){const t=a.$implicit,o=e.XpG(2);e.BMQ("data-test","quickViewAction"+o.bookmarkActionsLabels[t]),e.R7$(),e.SpI(" ",o.bookmarkActionsLabels[t]," ")}}function pe(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",3)(1,"header",4)(2,"h1",5),e.EFF(3),e.k0s(),e.DNE(4,oe,3,3,"app-list",6),e.k0s(),e.j41(5,"div",7),e.nrm(6,"div",8),e.j41(7,"div",9),e.nrm(8,"iframe",10,0),e.k0s()(),e.j41(10,"nav",11)(11,"ol",12),e.DNE(12,ie,5,3,"li",13)(13,ae,3,6,"li",14),e.k0s()(),e.j41(14,"div",15)(15,"ol",16),e.DNE(16,se,8,9,"ng-container",17),e.k0s()(),e.j41(17,"div",18)(18,"button",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handlePrimaryAction())}),e.EFF(19),e.k0s(),e.DNE(20,de,2,2,"button",20)(21,_e,2,1,"button",21),e.j41(22,"mat-menu",null,1),e.DNE(24,ge,2,2,"button",22),e.k0s()(),e.j41(25,"button",23),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleClose())}),e.nrm(26,"app-icon",24),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",t.story.displayName," "),e.R7$(),e.Y8G("ngIf",(null==t.story.chapters?null:t.story.chapters.length)>1||(null==t.bookmarkTags?null:t.bookmarkTags.length)>0),e.R7$(),e.Y8G("ngClass",e.eq3(15,W,t.previewActive)),e.R7$(),e.xc7("background-image","url("+t.activeImage+")"),e.R7$(),e.Y8G("ngClass",e.eq3(17,J,t.previewActive)),e.R7$(5),e.Y8G("ngIf",t.previewEnabled),e.R7$(),e.Y8G("ngForOf",t.story.chapters),e.R7$(),e.Y8G("ngClass",e.eq3(19,K,t.previewActive)),e.R7$(),e.Y8G("ngClass",e.eq3(21,H,t.story.chapters.length<=1)),e.R7$(),e.Y8G("ngForOf",t.story.chapters),e.R7$(3),e.SpI(" ",t.primaryActionLabel," "),e.R7$(),e.Y8G("ngForOf",t.mainActions),e.R7$(),e.Y8G("ngIf",t.moreActions.length),e.R7$(3),e.Y8G("ngForOf",t.moreActions)}}const me=(0,s.bf)(C.c.application);let ue=(()=>{class n{constructor(t,o,i,r,y,M,d,h){this.storyService=t,this.store=o,this.changeRef=i,this.bookmarksService=r,this.bookmarkActionsService=y,this.data=M,this.VIEWER_BASE_URL=d,this.dialogRef=h,this.ngUnsubscribe=new b.B,this.bookmarkAction=s.t9,this.bookmarkActionsLabels=me,this.bookmarkTags=[],this.previewActive=!1,this.previewEnabled=!1,this.actionMode=_.g.Explore,this.mainActions=[],this.moreActions=[],this.bookmark=this.data.bookmark,this.actionMode=this.data.actionMode??_.g.Explore}ngOnInit(){this.loadStory(this.bookmark),this.primaryActionLabel=this.bookmarkActionsService.getBookmarkPrimaryActionLabel(this.bookmark,this.actionMode),this.setBookmarkActions(this.bookmark),this.setTags(this.bookmark),this.setPreviewEnabled()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}loadStory(t){const o=this.store.selectSnapshot(u.k.getUserLanguage);this.storyService.getStory(t.id,t.type,o).pipe((0,O.s)(1)).subscribe(i=>{this.story=i,this.selectChapter(i.chapters[0]),this.preloadImages(this.story),this.changeRef.markForCheck()}),this.changeRef.markForCheck()}selectChapter(t){this.previewActive=!1,this.activeChapter=t,this.activeImage=this.getImage(t),setTimeout(()=>{this.scrollChapterIntoView(t)})}showPreview(){if(this.previewActive=!0,!this.iframeRef.nativeElement.src){const o=this.store.selectSnapshot(u.k.getUserLanguage);this.iframeRef.nativeElement.src=`${this.VIEWER_BASE_URL}/?id=${this.bookmark.id}&lang=${o}&ui-all=false&ui-tour=true&ui-info=true&ui-loader=circle&ui-layout=drawer`}}getImage(t,o="large"){const i=this.bookmark;return(0,g.isNil)(t.thumbnails)?N.V.generateLegacyThumbnail(i.id,t.id)[o]:t.thumbnails[o]}preloadImages(t){t.chapters.forEach(o=>{(new Image).src=this.getImage(o)})}setBookmarkActions(t){if(this.actionMode===_.g.Explore){const[o,i,r]=[this.store.selectSnapshot(u.k.getUserRole),this.store.selectSnapshot(u.k.isPremiumUser),this.store.selectSnapshot(w.q.hasOrganization)],y=this.bookmarkActionsService.getBookmarkActions(o,t,i,r,{excludeActions:[s.t9.View]}),{mainActions:M,moreActions:d}=this.bookmarkActionsService.getBookmarkActionsGrouping(y);this.mainActions=M,this.moreActions=d}}setTags(t){this.bookmarkTags=this.bookmarksService.getTags(t)}setPreviewEnabled(){const t=this.store.selectSnapshot(u.k.isPremiumUser),o=this.store.selectSnapshot(w.q.isValidPaidSubscription),i=this.store.selectSnapshot(w.q.isTrial),r=this.store.selectSnapshot(w.q.isSubscriptionExpired);this.previewEnabled=t||o||i&&!r}handlePrimaryAction(){this.actionMode===_.g.Explore?(this.bookmarkActionsService.handleBookmarkAction(s.t9.View,this.bookmark),this.dialogRef.close()):this.dialogRef.close({selected:this.bookmark})}handleBookmarkAction(t){this.bookmarkActionsService.handleBookmarkAction(t,this.bookmark),this.dialogRef.close()}handleClose(){this.dialogRef.close()}scrollChapterIntoView(t){[document.getElementById(`quick-view__chapter-${t.id}`),document.getElementById(`quick-view__thumbnail-${t.id}`)].forEach(r=>{(0,U.uK)()&&r&&r.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(z.J),e.rXU(S.il),e.rXU(e.gRc),e.rXU(P.x),e.rXU(l.h),e.rXU(p.Vh),e.rXU(q.jw),e.rXU(p.CP))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-quick-view"]],viewQuery:function(o,i){if(1&o&&e.GBs(Z,5),2&o){let r;e.mGM(r=e.lsd())&&(i.iframeRef=r.first)}},decls:1,vars:1,consts:[["iframeEl",""],["moreActionsMenu","matMenu"],["class","quick-view","data-test","quick-view","role","dialog","aria-modal","true",4,"ngIf"],["data-test","quick-view","role","dialog","aria-modal","true",1,"quick-view"],[1,"quick-view__header"],[1,"quick-view__title"],["class","quick-view__metadata","listType","bulleted",3,"dense",4,"ngIf"],[1,"quick-view__main",3,"ngClass"],[1,"quick-view__main-image"],[1,"quick-view__iframe-container",3,"ngClass"],[1,"quick-view__iframe"],[1,"quick-view__thumbnails"],[1,"quick-view__thumbnail-container"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"quick-view__content",3,"ngClass"],[1,"quick-view__chapters",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"quick-view__actions"],["app-button","","buttonType","primary","data-test","quickViewActionPrimary",1,"w-full",3,"click"],["app-button","","buttonTheme","light","buttonType","outline","class","grow",3,"click",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light","buttonType","outline","data-test","quickViewActionMore",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close","aria-label","Close",1,"quick-view__close",3,"click"],["icon","times","size","lg"],["listType","bulleted",1,"quick-view__metadata",3,"dense"],["aria-label","Preview model","data-test","quickViewActionPreview",1,"quick-view__thumbnail","quick-view__thumbnail--text",3,"click","ngClass"],[1,"quick-view__toggle-3d"],["src","/assets/images/cube-regular.svg","alt","",2,"height","14px","width","14px"],[3,"id"],["data-test","quickViewActionChapterThumbnail",1,"quick-view__thumbnail",3,"click","matTooltip","ngClass"],[3,"src"],[1,"quick-view__chapter",3,"id","ngClass"],["data-test","quickViewActionChapterTitle",1,"quick-view__chapter-title",3,"click"],[1,"grow"],["class","quick-view__chapter-number",4,"ngIf"],["class","quick-view__chapter-content",3,"markdownText",4,"ngIf"],[1,"quick-view__chapter-number"],[1,"quick-view__metadata","pr"],[1,"quick-view__chapter-content",3,"markdownText"],["app-button","","buttonTheme","light","buttonType","outline",1,"grow",3,"click"],["app-button","","buttonTheme","light","buttonType","outline","data-test","quickViewActionMore",3,"matMenuTriggerFor"],["icon","ellipsis-vertical"],["mat-menu-item","",3,"click"]],template:function(o,i){1&o&&e.DNE(0,pe,27,23,"div",2),2&o&&e.Y8G("ngIf",i.story)},dependencies:[R.Q,k.YU,k.Sq,k.bT,L.s,Y.P,f.kk,f.fb,f.Cp,F.oV,I.R,Q.V],styles:[".quick-view[_ngcontent-%COMP%]{--thumbnail-size: 64px;color:#131c2a;max-width:1024px;max-height:600px;height:100%;display:grid;grid-template:auto 380px auto/400px 400px;gap:16px 24px;padding:32px;position:relative}.quick-view__header[_ngcontent-%COMP%]{grid-row:1;grid-column:1/span 2;display:flex;flex-direction:column;gap:4px;width:100%}.quick-view__main[_ngcontent-%COMP%]{grid-row:2;grid-column:1;overflow:hidden;position:relative}.quick-view__main--span[_ngcontent-%COMP%]{grid-column:1/span 2;width:auto}.quick-view__thumbnails[_ngcontent-%COMP%]{grid-row:3;grid-column:1;overflow:hidden}.quick-view__content[_ngcontent-%COMP%]{grid-row:2;grid-column:2;overflow:hidden;display:flex;flex-direction:column}.quick-view__content--hide[_ngcontent-%COMP%]{display:none}.quick-view__actions[_ngcontent-%COMP%]{grid-row:3;grid-column:2;display:flex;gap:8px;flex-wrap:wrap}.quick-view__title[_ngcontent-%COMP%]{font-weight:600;font-size:1.25rem;line-height:1.75rem}.quick-view__main-image[_ngcontent-%COMP%]{background:#eaeff5 url(/assets/images/logo-dark-transparent.svg) center center no-repeat;background-size:cover;border-radius:4px;inset:0;position:absolute}.quick-view__thumbnail-container[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%;display:flex;gap:8px;padding-bottom:16px}.quick-view__thumbnail[_ngcontent-%COMP%]{background:#131c2a;border:2px solid #d7e0ea;border-radius:4px;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;opacity:.6;transition:all .25s ease-out;width:var(--thumbnail-size);height:var(--thumbnail-size);color:#fff;cursor:pointer}.quick-view__thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:var(--thumbnail-size);height:var(--thumbnail-size)}.quick-view__thumbnail[_ngcontent-%COMP%]:hover{opacity:1}.quick-view__thumbnail--active[_ngcontent-%COMP%]{opacity:1;border-color:#2d72dc}.quick-view__thumbnail--text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.quick-view__toggle-3d[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:var(--thumbnail-size);width:var(--thumbnail-size);background:#fff;color:#131c2a;font-size:12px;gap:4px}.quick-view__iframe-container[_ngcontent-%COMP%]{position:absolute;overflow:hidden;width:100%;top:0;bottom:0;background-color:#131c2a;visibility:hidden;pointer-events:none}.quick-view__iframe-container--active[_ngcontent-%COMP%]{visibility:visible;pointer-events:all}.quick-view__iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%}.quick-view__chapters[_ngcontent-%COMP%]{list-style:none;overflow-y:auto;position:relative}.quick-view__chapters--single[_ngcontent-%COMP%]{list-style:none}.quick-view__chapter[_ngcontent-%COMP%]{background-color:#fff;font-size:12px}.quick-view__chapter--active[_ngcontent-%COMP%]:not(.quick-view__chapter--single)   .quick-view__chapter-title[_ngcontent-%COMP%]{background-color:#f2f5fb}.quick-view__chapter--active[_ngcontent-%COMP%]   .quick-view__chapter-content[_ngcontent-%COMP%]{height:auto}.quick-view__chapter--active[_ngcontent-%COMP%] + .quick-view__chapter[_ngcontent-%COMP%]{position:sticky;bottom:0}.quick-view__chapter-title[_ngcontent-%COMP%]{border-radius:4px;cursor:pointer;display:flex;align-items:center;padding:8px;font-weight:600;gap:12px;font-size:.875rem;line-height:1.25rem;transition:all .15s ease-out}.quick-view__chapter-title[_ngcontent-%COMP%]:hover{background-color:#f2f5fb}.quick-view__chapter-number[_ngcontent-%COMP%]{font-weight:400}.quick-view__chapter-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;overflow-wrap:break-word;color:#374a68;display:block;height:0;overflow:hidden;padding:8px 20px 24px 24px;transition:all .25s ease-out}.quick-view__metadata[_ngcontent-%COMP%]{font-size:.625rem;line-height:.75rem;text-transform:uppercase;font-weight:500;color:#96a8c0;display:block;white-space:nowrap}.quick-view__close[_ngcontent-%COMP%]{position:absolute;right:32px;top:32px}"],changeDetection:0})}return n})();var ke=c(27180),he=c(43194),ye=c(97948),Ce=c(81391),T=c(17215),be=c(16058),B=c(89079),fe=c(73845),ve=c(38645),xe=c(25780),we=c(82765),Me=c(86225),Oe=c(29160),Pe=c(82656),Te=c(14264),Ge=c(37925);function Ee(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",3),e.bIt("menuOpened",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleMenuOpened())})("menuClosed",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleMenuClosed())}),e.nrm(1,"app-icon",4),e.k0s()}if(2&n){e.XpG();const t=e.sdS(2);e.Y8G("matMenuTriggerFor",t)}}function Ae(n,a){if(1&n&&e.nrm(0,"app-icon",7),2&n){const t=e.XpG().$implicit,o=e.XpG();e.Y8G("icon",o.bookmarkActionsIcons[t])}}function Se(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"button",5),e.bIt("click",function(i){const r=e.eBV(t).$implicit,y=e.XpG();return e.Njj(y.handleBookmarkActionClick(r,y.bookmark,i))}),e.DNE(2,Ae,1,1,"app-icon",6),e.EFF(3),e.k0s(),e.bVm()}if(2&n){const t=a.$implicit,o=e.XpG();e.R7$(),e.BMQ("data-test",o.bookmarkActionsDataIds[t]),e.R7$(),e.Y8G("ngIf",o.bookmarkActionsIcons[t]),e.R7$(),e.SpI(" ",o.bookmarkActionsLabels[t]," ")}}c(45731);const Re={[s.t9.View]:"galleryCardActionPrimary",[s.t9.AddToMyLibrary]:"galleryCardActionAddButton",[s.t9.SaveFromView]:"galleryCardActionSaveFromViewButton",[s.t9.SaveFromEdit]:"galleryCardActionSaveFromEditButton",[s.t9.Edit]:"galleryCardActionEditButton",[s.t9.Publish]:"galleryCardActionPublishButton",[s.t9.CopyURL]:"galleryCardActionCopyURLButton",[s.t9.Share]:"galleryCardActionShareButton",[s.t9.Duplicate]:"galleryCardActionDuplicateButton",[s.t9.Manage]:"galleryCardActionManageButton",[s.t9.Delete]:"galleryCardActionDeleteButton"},Ie=(0,s.bf)(C.c.application);let je=(()=>{class n{get bookmark(){return this._bookmark.value}set bookmark(t){this._bookmark.next(t),this.changeDetectorRef.markForCheck()}constructor(t,o,i){this.store=t,this.changeDetectorRef=o,this.bookmarkActionsService=i,this.bookmarkActionEnum=s.t9,this.bookmarkActionsIcons=s.Qi,this.bookmarkActionsLabels=Ie,this.bookmarkActionsDataIds=Re,this._bookmark=new Oe.t(void 0),this.actionsEnabled=!0,this.selectBookmark=new e.bkB,this.menuOpen=new e.bkB,this.bookmarkActions=[],this.ngUnsubscribe=new b.B}ngOnInit(){this.initBookmarkActions()}ngAfterViewInit(){this.changeDetectorRef.markForCheck()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initBookmarkActions(){(0,Pe.z)([this._bookmark,this.store.select(u.k.getUserRole),this.store.select(u.k.isPremiumUser),this.store.select(w.q.hasOrganization)]).pipe((0,Te.p)(([t,o,i,r])=>!((0,g.isNil)(o)||(0,g.isNil)(t)||(0,g.isNil)(i)||(0,g.isNil)(r))),(0,Ge.Q)(this.ngUnsubscribe)).subscribe(([t,o,i,r])=>{this.bookmarkActions=this.bookmarkActionsService.getBookmarkActions(o,t,i,r,{excludeActions:[s.t9.View]}),this.changeDetectorRef.markForCheck()})}handleMenuOpened(){this.menuOpen.next(!0)}handleMenuClosed(){this.menuOpen.next(!1)}handleBookmarkActionClick(t,o,i){this.handleBookmarkAction(t,o),i.stopImmediatePropagation()}handleOtherClick(t){t.stopImmediatePropagation()}handleBookmarkAction(t,o){this.bookmarkActionsService.handleBookmarkAction(t,o)}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(S.il),e.rXU(e.gRc),e.rXU(l.h))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-gallery-card-actions"]],inputs:{primaryActionLabel:"primaryActionLabel",bookmark:"bookmark",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark",menuOpen:"menuOpen"},features:[e.Jv_([k.PV])],decls:4,vars:2,consts:[["actionsMenu","matMenu"],["app-button","","buttonType","outline","buttonTheme","light","buttonSize","sm","buttonShape","square","data-test","galleryCardActionMore",3,"matMenuTriggerFor","menuOpened","menuClosed",4,"ngIf"],[4,"ngFor","ngForOf"],["app-button","","buttonType","outline","buttonTheme","light","buttonSize","sm","buttonShape","square","data-test","galleryCardActionMore",3,"menuOpened","menuClosed","matMenuTriggerFor"],["icon","ellipsis-vertical"],["mat-menu-item","",3,"click"],["class","gallery-card-actions__icon",3,"icon",4,"ngIf"],[1,"gallery-card-actions__icon",3,"icon"]],template:function(o,i){1&o&&(e.DNE(0,Ee,2,1,"button",1),e.j41(1,"mat-menu",null,0),e.DNE(3,Se,4,3,"ng-container",2),e.k0s()),2&o&&(e.Y8G("ngIf",i.actionsEnabled&&i.bookmarkActions.length),e.R7$(3),e.Y8G("ngForOf",i.bookmarkActions))},dependencies:[R.Q,k.Sq,k.bT,f.kk,f.fb,f.Cp,I.R],styles:[".gallery-card-actions__icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;width:20px}"],changeDetection:0})}return n})();function Fe(n,a){if(1&n&&e.nrm(0,"img",2),2&n){const t=e.XpG().$implicit;e.Y8G("alt",t)}}function Ve(n,a){if(1&n&&e.EFF(0),2&n){const t=e.XpG().$implicit;e.SpI(" ",t," ")}}function Be(n,a){if(1&n&&(e.j41(0,"li",1),e.DNE(1,Fe,1,1,"img",2)(2,Ve,1,1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.vxM("zSpace"===t?1:2)}}let $e=(()=>{class n{constructor(){this.tags=[]}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-gallery-card-tags"]],inputs:{tags:"tags"},decls:3,vars:0,consts:[[1,"flex"],[1,"flex","items-center","text-xs","text-gray-400","divider-comma"],["data-test","zSpaceCardTag","src","assets/images/zspace-tag.svg",3,"alt"]],template:function(o,i){1&o&&(e.j41(0,"ul",0),e.Z7z(1,Be,3,1,"li",1,e.Vm6),e.k0s()),2&o&&(e.R7$(),e.Dyx(i.tags))},styles:[".gallery-card-tags__zspace[_ngcontent-%COMP%]{float:left}"],changeDetection:0})}return n})();const De=(n,a,t,o,i,r)=>({"gallery-card--checked":n,"gallery-card--responsive":a,"gallery-card--loading":t,"gallery-card--disabled":o,"gallery-card--checkable":i,"gallery-card--active":r}),$=()=>["/results/modules"],D=n=>({categoryId:n,type:"Category"}),Xe=(n,a,t,o)=>({"gallery-row--checked":n,"gallery-row--loading":a,"gallery-row--disabled":t,"gallery-row--checkable":o});function qe(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-checkbox",20),e.bIt("change",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.handleCheckedChange(i))})("click",function(i){return e.eBV(t),e.Njj(i.stopImmediatePropagation())}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("value",t.bookmark().id)("checked",t.checked())}}function Ue(n,a){1&n&&(e.j41(0,"div",11),e.nrm(1,"app-icon",21),e.k0s())}function Ne(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",13)(1,"app-gallery-card-actions",22),e.bIt("menuOpen",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.handleMenuOpened(i))}),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("bookmark",t.bookmark())("actionsEnabled",t.actionsEnabled())}}function ze(n,a){if(1&n&&(e.j41(0,"div",14),e.nrm(1,"app-gallery-card-tags",23),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("tags",t.galleryTags())}}function Le(n,a){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.bVm()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" on ",e.i5U(2,1,t.bookmark().create_date_time,"shortDate"),"")}}function Ye(n,a){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.Lme(" Updated by ",t.bookmark().last_editor_first_name||t.bookmark().last_editor," on ",e.i5U(2,2,t.bookmark().update_date_time,"shortDate")," ")}}function Qe(n,a){if(1&n&&(e.j41(0,"div",15)(1,"div"),e.EFF(2),e.DNE(3,Le,3,4,"ng-container",24),e.k0s(),e.DNE(4,Ye,3,5,"div"),e.k0s()),2&n){const t=e.XpG(3);e.R7$(2),e.SpI(" Created by ",t.bookmark().author_first_name||t.bookmark().author," "),e.R7$(),e.Y8G("ngIf",!t.bookmark().update_date_time),e.R7$(),e.vxM(t.bookmark().update_date_time?4:-1)}}function Ze(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-gallery-card-actions",22),e.bIt("menuOpen",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.handleMenuOpened(i))}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("bookmark",t.bookmark())("actionsEnabled",t.actionsEnabled())}}function We(n,a){if(1&n&&(e.j41(0,"a",26),e.nrm(1,"app-category-image",27),e.EFF(2),e.k0s()),2&n){const t=a.$implicit;e.Y8G("routerLink",e.lJ4(4,$))("queryParams",e.eq3(5,D,t.id)),e.R7$(),e.Y8G("category",t.id),e.R7$(),e.SpI(" ",t.title," ")}}function Je(n,a){if(1&n&&(e.j41(0,"div",19),e.DNE(1,We,3,7,"a",25),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.categories())}}function Ke(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",2),e.bIt("selectBookmark",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleBookmarkSelected(i))})("click",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleSelect(r.bookmark(),i))})("keyup.enter",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleSelect(r.bookmark(),i))}),e.j41(1,"div",3),e.nrm(2,"div",4),e.j41(3,"div",5)(4,"div",6),e.DNE(5,qe,1,2,"mat-checkbox",7),e.k0s()()(),e.j41(6,"div",8)(7,"div",9)(8,"div",10),e.DNE(9,Ue,2,0,"div",11),e.j41(10,"div",12),e.EFF(11),e.k0s(),e.DNE(12,Ne,2,2,"div",13),e.k0s(),e.DNE(13,ze,2,1,"div",14)(14,Qe,5,3,"div",15),e.k0s(),e.j41(15,"div",16)(16,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.handleQuickView(i.bookmark()))}),e.EFF(17," Quick View "),e.k0s(),e.DNE(18,Ze,1,2,"app-gallery-card-actions",18),e.k0s()(),e.DNE(19,Je,2,1,"div",19),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.l4e(19,De,t.checked(),t.responsive(),t.loading(),t.disabled(),t.actionMode()===t.galleryActionMode.Check,t.menuOpen()))("routerLink",t.routerLink())("queryParams",t.queryParams())("target",t.target())("tabindex",t.loading()||t.disabled()?-1:0)("matTooltip",t.tooltipText()),e.BMQ("data-type",t.bookmark().type)("data-loading",!0===t.loading())("aria-label",t.bookmark().title),e.R7$(2),e.Y8G("defaultImage",t.defaultImage)("lazyLoad",t.bookmark().thumbnail_url),e.R7$(3),e.vxM(t.actionMode()===t.galleryActionMode.Check?5:-1),e.R7$(4),e.vxM(t.availableOffline()?9:-1),e.R7$(2),e.SpI(" ",t.bookmark().title," "),e.R7$(),e.vxM(t.responsive()&&t.actionMode()!==t.galleryActionMode.Check?12:-1),e.R7$(),e.vxM(t.galleryTags().length>0?13:-1),e.R7$(),e.vxM(t.bookmark().type===t.contentType.Bookmark?14:-1),e.R7$(4),e.vxM(t.responsive()||t.actionMode()===t.galleryActionMode.Check?-1:18),e.R7$(),e.vxM(t.categories().length&&t.actionMode()!==t.galleryActionMode.Check&&t.bookmark().type===t.contentType.Module?19:-1)}}function He(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-checkbox",39),e.bIt("change",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.handleCheckedChange(i))}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("value",t.bookmark().id)("checked",t.checked)}}function et(n,a){1&n&&(e.j41(0,"div",34),e.nrm(1,"app-icon",21),e.k0s())}function tt(n,a){if(1&n&&(e.j41(0,"a",41),e.nrm(1,"app-category-image",42),e.EFF(2),e.k0s()),2&n){const t=a.$implicit;e.Y8G("routerLink",e.lJ4(4,$))("queryParams",e.eq3(5,D,t.id)),e.R7$(),e.Y8G("category",t.id),e.R7$(),e.SpI(" ",t.title," ")}}function nt(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,tt,3,7,"a",40),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.categories())}}function ot(n,a){if(1&n&&e.nrm(0,"app-gallery-card-tags",23),2&n){const t=e.XpG(3);e.Y8G("tags",t.galleryTags())}}function it(n,a){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.bVm()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" on ",e.i5U(2,1,t.bookmark().create_date_time,"shortDate"),"")}}function at(n,a){if(1&n&&(e.j41(0,"li",43),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.Lme(" Updated by ",t.bookmark().last_editor_first_name||t.bookmark().last_editor," on ",e.i5U(2,2,t.bookmark().update_date_time,"shortDate")," ")}}function rt(n,a){if(1&n&&(e.j41(0,"ul",37)(1,"li",43),e.EFF(2),e.DNE(3,it,3,4,"ng-container",24),e.k0s(),e.DNE(4,at,3,5,"li",43),e.k0s()),2&n){const t=e.XpG(3);e.R7$(2),e.SpI(" Created by ",t.bookmark().author_first_name||t.bookmark().author," "),e.R7$(),e.Y8G("ngIf",!t.bookmark().update_date_time),e.R7$(),e.vxM(t.bookmark().update_date_time?4:-1)}}function ct(n,a){if(1&n&&(e.j41(0,"ul",37)(1,"li",44),e.EFF(2),e.nI1(3,"date"),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(2),e.SpI(" Updated ",e.i5U(3,1,t.bookmark().update_date_time||t.bookmark().create_date_time,"shortDate")," ")}}function lt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"button",45),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.handleQuickView(i.bookmark()))}),e.EFF(2," Quick View "),e.k0s(),e.j41(3,"app-gallery-card-actions",22),e.bIt("menuOpen",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.handleMenuOpened(i))}),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("bookmark",t.bookmark())("actionsEnabled",t.actionsEnabled())}}function st(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",28),e.bIt("selectBookmark",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleBookmarkSelected(i))})("click",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleSelect(r.bookmark(),i))})("keyup.enter",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleSelect(r.bookmark(),i))}),e.nrm(1,"div",29),e.j41(2,"div",30)(3,"div",31)(4,"div",32),e.DNE(5,He,1,2,"mat-checkbox",33)(6,et,2,0,"div",34),e.j41(7,"div",35),e.EFF(8),e.k0s()(),e.DNE(9,nt,2,1,"div"),e.j41(10,"div",36),e.DNE(11,ot,1,1,"app-gallery-card-tags",23)(12,rt,5,3,"ul",37)(13,ct,4,4,"ul",37),e.k0s()(),e.DNE(14,lt,4,2,"div",38),e.k0s()()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.ziG(18,Xe,t.checked(),t.loading(),t.disabled(),t.actionMode()===t.galleryActionMode.Check))("routerLink",t.routerLink())("queryParams",t.queryParams())("target",t.target())("tabindex",t.loading()||t.disabled()?-1:0)("matTooltip",t.tooltipText()),e.BMQ("data-type",t.bookmark().type)("data-loading",!0===t.loading())("aria-label",t.bookmark().title),e.R7$(),e.Y8G("defaultImage",t.defaultImage)("lazyLoad",t.bookmark().thumbnail_url),e.R7$(4),e.vxM(t.actionMode()===t.galleryActionMode.Check?5:-1),e.R7$(),e.vxM(t.availableOffline()?6:-1),e.R7$(2),e.SpI(" ",t.bookmark().title," "),e.R7$(),e.vxM(t.categories().length&&t.actionMode()!==t.galleryActionMode.Check&&t.bookmark().type===t.contentType.Module?9:-1),e.R7$(2),e.vxM(t.galleryTags().length>0?11:-1),e.R7$(),e.vxM(12),e.R7$(2),e.vxM(t.actionMode()!==t.galleryActionMode.Check?14:-1)}}function dt(n,a){if(1&n&&e.DNE(0,Ke,20,26,"a",0)(1,st,15,23,"a",1),2&n){const t=e.XpG();e.vxM(t.viewMode()===t.galleryViewMode.Card?0:1)}}let _t=(()=>{class n{constructor(t,o,i,r,y,M){this.bookmarksService=t,this.bookmarkActionsService=o,this.dialog=i,this.store=r,this.storageService=y,this.publishService=M,this.galleryViewMode=v.P,this.galleryActionMode=_.g,this.contentType=m.c,this.defaultImage="/assets/images/card-thumbnail-placeholder.png",this.checked=(0,e.hFB)(!1),this.actionMode=(0,e.hFB)(_.g.Explore),this.actionsEnabled=(0,e.hFB)(!0),this.responsive=(0,e.hFB)(!1),this.loading=(0,e.hFB)(!1),this.viewMode=(0,e.hFB)(v.P.Card),this.bookmark=(0,e.hFB)(),this.selectBookmark=(0,e.CGW)(),this.checkChange=(0,e.CGW)(),this.menuOpened=(0,e.CGW)(),this.menuOpen=(0,e.vPA)(!1),this.lang=(0,B.ot)(this.store.select(u.k.getUserLanguage)),this.offlineModelIds=(0,B.ot)(A.s.getOfflineModelIDs()),this.disabled=(0,e.EWP)(()=>{const d=this.bookmarksService.isZSpaceModel(this.bookmark()),h=this.bookmarksService.getZSpaceRestriction();return d&&h!==x.O.None}),this.tooltipText=(0,e.EWP)(()=>{const d=this.bookmarksService.getZSpaceRestriction();return this.disabled()&&d===x.O.Subscription?"Upgrade your account to view this zSpace model.":this.disabled()&&d===x.O.Device?"This content is only available on a zSpace device":void 0}),this.primaryActionLabel=(0,e.EWP)(()=>{switch(this.actionMode()){case _.g.Select:return"Select";case _.g.Import:return"Import";case _.g.Explore:return this.bookmarkActionsService.getBookmarkPrimaryActionLabel(this.bookmark(),this.actionMode())}}),this.categories=(0,e.EWP)(()=>{let d=[];if(this.bookmark().type===m.c.Module&&C.c.application===ke.c.Studio){d=this.bookmarksService.getCategories(this.bookmark(),this.lang(),["categories","specialties"]).sort((j,G)=>j.title<G.title?-1:1);const h=this.store.selectSnapshot(he.Y.getSearchConfig);if(d?.length&&h?.type===ye.n.Category){const j=h.categoryId,G=d.findIndex(gt=>gt.id===j);G>=0&&(0,Ce.HD)(d,G,0)}}return d}),this.galleryTags=(0,e.EWP)(()=>this.bookmarksService.getTags(this.bookmark())),this.routerLink=(0,e.EWP)(()=>{const d=this.bookmarksService.isZSpaceModel(this.bookmark()),h=this.storageService.getLocalJSON(T.UT.ZSpaceDevice);return d&&h?null:this.actionMode()===_.g.Explore?"/view":void 0}),this.queryParams=(0,e.EWP)(()=>({id:this.bookmark().id,lang:this.lang()})),this.target=(0,e.EWP)(()=>{const d=this.bookmarksService.isZSpaceModel(this.bookmark()),h=this.storageService.getLocalJSON(T.UT.ZSpaceDevice);return d&&h?"_blank":"_self"}),this.widgetUrl=(0,e.EWP)(()=>this.publishService.buildWidgetURL("zspace-viewer",{id:this.bookmark().id,lang:this.lang()})),this.availableOffline=(0,e.EWP)(()=>!!C.c.native&&this.offlineModelIds().includes(this.bookmark().id))}handleSelect(t,o){switch(this.actionMode()){case _.g.Explore:if(!C.c.native){const i=this.bookmarksService.isZSpaceModel(this.bookmark()),r=this.storageService.getLocalJSON(T.UT.ZSpaceDevice);i&&r&&!this.disabled()&&(o.preventDefault(),o.stopPropagation(),window.open(this.widgetUrl()))}break;case _.g.Import:case _.g.Check:case _.g.Select:o.preventDefault(),this.disabled()||this.handleBookmarkSelected(t),o.stopPropagation()}}handleBookmarkSelected(t){this.actionMode()===_.g.Check?this.checkChange.emit(!this.checked()):this.selectBookmark.emit(t)}handleCheckedChange(t){this.checkChange.emit(t.checked)}handleMenuOpened(t){this.menuOpen.set(t),this.menuOpened.emit(t)}handleQuickView(t){const o={id:"QuickViewDialog",panelClass:"bg-dialog-responsive",disableClose:!1,data:{bookmark:t,actionMode:this.actionMode()}};this.dialog.open(ue,o).afterClosed().pipe((0,O.s)(1)).subscribe(i=>{i?.selected&&this.handleBookmarkSelected(i.selected)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(P.x),e.rXU(l.h),e.rXU(p.bZ),e.rXU(S.il),e.rXU(T.n$),e.rXU(be.D))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-gallery-card"]],inputs:{checked:[1,"checked"],actionMode:[1,"actionMode"],actionsEnabled:[1,"actionsEnabled"],responsive:[1,"responsive"],loading:[1,"loading"],viewMode:[1,"viewMode"],bookmark:[1,"bookmark"]},outputs:{selectBookmark:"selectBookmark",checkChange:"checkChange",menuOpened:"menuOpened"},decls:1,vars:1,consts:[["role","button","data-test","galleryCard","matTooltipPosition","after",1,"gallery-card",3,"ngClass","routerLink","queryParams","target","tabindex","matTooltip"],["role","button","data-test","galleryCard","matTooltipPosition","after",1,"gallery-row",3,"ngClass","routerLink","queryParams","target","tabindex","matTooltip"],["role","button","data-test","galleryCard","matTooltipPosition","after",1,"gallery-card",3,"selectBookmark","click","keyup.enter","ngClass","routerLink","queryParams","target","tabindex","matTooltip"],[1,"gallery-card__image-container"],["role","img","card-image","",1,"gallery-card__image",3,"defaultImage","lazyLoad"],[1,"gallery-card__header"],[1,"flex","justify-start","grow"],[3,"value","checked"],[1,"gallery-card__content"],[1,"flex","flex-col"],[1,"flex","items-center","gap-2"],[1,"gallery-card__offline"],["data-test","galleryCardLabel",1,"gallery-card__label","grow"],["appEventFence",""],[1,"gallery-card__tags"],[1,"gallery-card__updated"],["appEventFence","",1,"gallery-card__actions"],["type","button","app-button","","buttonType","outline","buttonTheme","light","buttonSize","sm","data-test","galleryCardQuickView",1,"gallery-card__quick-view",3,"click"],[3,"bookmark","actionsEnabled"],[1,"gallery-card__category-container"],[3,"change","click","value","checked"],["icon","arrow-circle-down"],[3,"menuOpen","bookmark","actionsEnabled"],[3,"tags"],[4,"ngIf"],["appEventFence","","class","gallery-card__category",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["appEventFence","",1,"gallery-card__category",3,"routerLink","queryParams"],["color","color",1,"gallery-card__category-icon",3,"category"],["role","button","data-test","galleryCard","matTooltipPosition","after",1,"gallery-row",3,"selectBookmark","click","keyup.enter","ngClass","routerLink","queryParams","target","tabindex","matTooltip"],["role","img","card-image","",1,"rounded","gallery-row__image",3,"defaultImage","lazyLoad"],[1,"gallery-row__content"],[1,"gallery-row__text"],[1,"flex"],["appEventFence","",1,"mr-2",3,"value","checked"],[1,"gallery-row__offline"],["data-test","galleryCardLabel",1,"gallery-row__label","grow"],[1,"flex","flex-col","gap-1"],[1,"inline-flex","items-center"],["appEventFence","",1,"gallery-row__actions"],["appEventFence","",1,"mr-2",3,"change","value","checked"],["appEventFence","","class","gallery-row__category",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["appEventFence","",1,"gallery-row__category",3,"routerLink","queryParams"],["color","color",1,"gallery-row__category-icon",3,"category"],[1,"text-xs","text-gray-400","divider-comma"],[1,"text-xs","text-gray-400"],["type","button","app-button","","buttonType","outline","buttonTheme","light","buttonSize","sm","data-test","galleryCardQuickView",1,"gallery-row__quick-view",3,"click"]],template:function(o,i){1&o&&e.DNE(0,dt,2,1),2&o&&e.vxM(i.bookmark()?0:-1)},dependencies:[fe.Je,ve.Wk,R.Q,k.YU,k.Sq,k.bT,xe.L,we.So,F.oV,I.R,Me.f,je,$e,k.vh],styles:['@keyframes _ngcontent-%COMP%_loaderShimmer{0%{background-position:100% 0}to{background-position:-100% 0}}[_nghost-%COMP%]{display:block;position:relative}.gallery-card[_ngcontent-%COMP%]{background:#fff;--shadow: rgba(34, 34, 34, .1);box-shadow:1px 1px var(--shadow, rgba(34, 34, 34, .1)),0 3px 6px 0 var(--shadow, rgba(34, 34, 34, .1));border-radius:4px;cursor:pointer;display:block;width:100%;word-break:break-word;height:100%;position:relative;overflow:hidden;z-index:1;transition:all .1s ease-out}.gallery-card--checked[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #2d72dc}.gallery-card--disabled[_ngcontent-%COMP%]{opacity:60%}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--disabled):focus-within{outline:#2d72dc solid 2px!important}.gallery-card__image-container[_ngcontent-%COMP%]{background:#eaeff5 url(/assets/images/logo-dark-transparent.svg) center center no-repeat;background-size:30%;border-radius:4px 4px 0 0;padding-bottom:100%;position:relative}.gallery-card__content[_ngcontent-%COMP%]{background:#fffc;border-top:1px solid transparent;position:absolute;bottom:0;height:auto;max-height:48px;width:100%;padding:12px;transition:all .15s ease-out;display:flex;justify-content:space-between;flex-direction:column}.gallery-card__label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%;white-space:nowrap;font-size:.875rem;line-height:1.25rem;font-weight:600;color:#1c2a3f}.gallery-card__actions[_ngcontent-%COMP%]{display:flex;visibility:hidden;height:0;opacity:0;overflow:hidden;flex-direction:row;gap:8px;transition:all .15s ease-out}.gallery-card__quick-view[_ngcontent-%COMP%]{flex:1 1 100%}.gallery-card__tags[_ngcontent-%COMP%]{display:none}.gallery-card__updated[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(129 150 177 / var(--tw-text-opacity, 1));display:none}.gallery-card__category[_ngcontent-%COMP%]{text-decoration:none;color:#131c2a;opacity:0;display:inline-flex;border-radius:4px;align-items:center;padding:4px;background-color:#fffc;transition:all .15s ease-out;margin:0 4px 4px 0;font-size:.625rem;line-height:.75rem;text-transform:uppercase}.gallery-card__category[_ngcontent-%COMP%]:hover{background-color:#eaeff5}.gallery-card__category-container[_ngcontent-%COMP%]{left:8px;top:8px;margin-right:8px;position:absolute}.gallery-card__category-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:4px}.gallery-card__category-icon--mono[_ngcontent-%COMP%]{display:inline-block}.gallery-card__category-icon--color[_ngcontent-%COMP%]{display:none}.gallery-card__image[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;position:absolute;inset:0;background-size:cover;background-position:center;transition:all .15s ease-out}.gallery-card__header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px;min-height:36px}.gallery-card__offline[_ngcontent-%COMP%]{color:#33cd54;background-image:linear-gradient(#fff,#fff);background-repeat:no-repeat;background-position:center;border-radius:50%}.gallery-card__inline-check[_ngcontent-%COMP%]{display:none}.gallery-card--loading[_ngcontent-%COMP%]{pointer-events:none}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__image-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;background:#eaeff5;background-image:linear-gradient(to right,#eaeff5,#f9fafd 20%,#eaeff5 40% 100%);background-repeat:no-repeat;background-size:300% 100%;display:inline-block;position:relative;animation:_ngcontent-%COMP%_loaderShimmer 1.5s infinite forwards;border-radius:4px}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__image[_ngcontent-%COMP%]{background-image:none!important}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__label[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:16px;border-radius:100px;background:#eaeff5;background-image:linear-gradient(to right,#eaeff5,#f9fafd 20%,#eaeff5 40% 100%);background-repeat:no-repeat;background-size:300% 100%;display:inline-block;position:relative;animation:_ngcontent-%COMP%_loaderShimmer 1.5s infinite forwards}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]:after{content:"";display:block;width:35%;height:16px;border-radius:100px;background:#eaeff5;background-image:linear-gradient(to right,#eaeff5,#f9fafd 20%,#eaeff5 40% 100%);background-repeat:no-repeat;background-size:300% 100%;display:inline-block;position:relative;animation:_ngcontent-%COMP%_loaderShimmer 1.5s infinite forwards}.gallery-card--responsive[_ngcontent-%COMP%]{height:240px}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__image-container[_ngcontent-%COMP%]{padding-bottom:0;height:100%}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__image[_ngcontent-%COMP%]{border-radius:0}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]{padding-top:4px}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__updated[_ngcontent-%COMP%]{display:none}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__category[_ngcontent-%COMP%]{opacity:1}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__content[_ngcontent-%COMP%]{padding:8px}.gallery-card--responsive[_ngcontent-%COMP%]:hover, .gallery-card--responsive[_ngcontent-%COMP%]:focus-within{--shadow: rgba(34, 34, 34, .3)}@media (min-width: 960px){.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__content[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__content[_ngcontent-%COMP%]{background-color:#fff;height:auto;max-height:180px;border-color:#eaeff5}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__label[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__label[_ngcontent-%COMP%]{overflow:visible;text-overflow:initial;max-width:100%;white-space:initial;margin-bottom:.25rem}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__actions[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__actions[_ngcontent-%COMP%]{opacity:1;visibility:visible;height:40px;display:flex;align-items:flex-end;overflow:initial}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__category[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__category[_ngcontent-%COMP%]{opacity:1}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__image[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__image[_ngcontent-%COMP%]{opacity:1;transform:scale(1.05)}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__tags[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]{display:block}.gallery-card[_ngcontent-%COMP%]:not(.gallery-card--responsive):not(.gallery-card--checkable):hover   .gallery-card__updated[_ngcontent-%COMP%], .gallery-card.gallery-card--active[_ngcontent-%COMP%]   .gallery-card__updated[_ngcontent-%COMP%]{display:block}}',".gallery-row[_ngcontent-%COMP%]{border-radius:.25rem;display:flex;gap:12px;padding:12px;transition:all .15s ease-out;text-decoration:none}.gallery-row[_ngcontent-%COMP%]:hover   .gallery-row__label[_ngcontent-%COMP%]{text-decoration-line:underline}.gallery-row[_ngcontent-%COMP%]:hover   .gallery-row__image[_ngcontent-%COMP%]{transform:scale(1.07);box-shadow:1px 1px var(--shadow, rgba(34, 34, 34, .1)),0 1px 12px 0 var(--shadow, rgba(34, 34, 34, .1))}.gallery-row[_ngcontent-%COMP%]:hover   .gallery-row__actions[_ngcontent-%COMP%]{opacity:1}.gallery-row__image[_ngcontent-%COMP%]{--shadow: rgba(34, 34, 34, .1);box-shadow:1px 1px var(--shadow, rgba(34, 34, 34, .1)),0 1px 6px 0 var(--shadow, rgba(34, 34, 34, .1));width:100px;height:100px;background-size:cover;transition:all ease-out .2s}.gallery-row__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.gallery-row__text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.gallery-row__label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%;white-space:nowrap;font-size:.875rem;line-height:1.25rem;font-weight:600;color:#1c2a3f}.gallery-row__actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:4px;opacity:0;height:40px;transition:all .15s ease-out}.gallery-row__tags[_ngcontent-%COMP%]{font-size:.625rem;line-height:.75rem;text-transform:uppercase;font-weight:500;color:#96a8c0;display:flex;text-decoration:none}.gallery-row__category[_ngcontent-%COMP%]{text-decoration:none;color:#131c2a;display:inline-flex;border-radius:4px;align-items:center;padding:4px;background-color:#fffc;transition:all .15s ease-out;margin:0 4px 0 0;font-size:.625rem;line-height:.75rem;text-transform:uppercase}.gallery-row__category[_ngcontent-%COMP%]:hover{background-color:#eaeff5}.gallery-row__category-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:4px}.gallery-row__category-icon--mono[_ngcontent-%COMP%]{display:inline-block}.gallery-row__category-icon--color[_ngcontent-%COMP%]{display:none}.gallery-row__updated[_ngcontent-%COMP%]{font-size:.625rem;line-height:.75rem;text-transform:uppercase;color:#96a8c0;display:flex}"],changeDetection:0})}return n})()},96931:(X,E,c)=>{c.d(E,{u:()=>x});var e=c(66571),O=c(72760),v=c(30234),l=c(54438),_=c(60177),P=c(93547);function A(m,u){if(1&m){const p=l.RV6();l.j41(0,"div"),l.EFF(1," To view this content, "),l.j41(2,"span",4),l.bIt("click",function(){l.eBV(p);const b=l.XpG();return l.Njj(b.handleUpgradeClick())}),l.EFF(3,"please upgrade your account."),l.k0s()()}}function C(m,u){1&m&&l.EFF(0," To view this content, please use your zSpace device.")}let x=(()=>{class m{constructor(p,g){this.bookmarkService=p,this.dialogService=g}ngOnInit(){const p=this.bookmarkService.getZSpaceRestriction();this.device=p===v.O.Device,this.subscription=p===v.O.Subscription}handleUpgradeClick(){this.dialogService.openUpgradeDialog()}static#e=this.\u0275fac=function(g){return new(g||m)(l.rXU(O.x),l.rXU(e.o))};static#t=this.\u0275cmp=l.VBU({type:m,selectors:[["app-zspace-alert"]],decls:5,vars:2,consts:[["deviceTemplate",""],[1,"zspace-alert"],["type","info","theme","light"],[4,"ngIf","ngIfElse"],[1,"underline","cursor-pointer",3,"click"]],template:function(g,b){if(1&g&&(l.j41(0,"div",1)(1,"app-alert",2),l.DNE(2,A,4,0,"div",3)(3,C,1,0,"ng-template",null,0,l.C5r),l.k0s()()),2&g){const s=l.sdS(4);l.R7$(2),l.Y8G("ngIf",b.subscription)("ngIfElse",s)}},dependencies:[_.bT,P.C],changeDetection:0})}return m})()}}]);