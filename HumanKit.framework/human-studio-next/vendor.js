(self.webpackChunkweb=self.webpackChunkweb||[]).push([[502,449],{28638:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{Constants:()=>m,MotionController:()=>T,fetchProfile:()=>U,fetchProfilesList:()=>D});var r=w(28407);const m={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};function g(b){return C.apply(this,arguments)}function C(){return(C=(0,r.A)(function*(b){const J=yield fetch(b);if(J.ok)return J.json();throw new Error(J.statusText)})).apply(this,arguments)}function D(b){return h.apply(this,arguments)}function h(){return(h=(0,r.A)(function*(b){if(!b)throw new Error("No basePath supplied");return yield g(`${b}/profilesList.json`)})).apply(this,arguments)}function U(b,J){return F.apply(this,arguments)}function F(){return(F=(0,r.A)(function*(b,J,ce=null,W=!0){if(!b)throw new Error("No xrInputSource supplied");if(!J)throw new Error("No basePath supplied");const se=yield D(J);let Q;if(b.profiles.some(Me=>{const q=se[Me];return q&&(Q={profileId:Me,profilePath:`${J}/${q.path}`,deprecated:!!q.deprecated}),!!Q}),!Q){if(!ce)throw new Error("No matching profile name found");const Me=se[ce];if(!Me)throw new Error(`No matching profile name found and default profile "${ce}" missing.`);Q={profileId:ce,profilePath:`${J}/${Me.path}`,deprecated:!!Me.deprecated}}const Ie=yield g(Q.profilePath);let ae;if(W){let Me;if(Me="any"===b.handedness?Ie.layouts[Object.keys(Ie.layouts)[0]]:Ie.layouts[b.handedness],!Me)throw new Error(`No matching handedness, ${b.handedness}, in profile ${Q.profileId}`);Me.assetPath&&(ae=Q.profilePath.replace("profile.json",Me.assetPath))}return{profile:Ie,assetPath:ae}})).apply(this,arguments)}const k={xAxis:0,yAxis:0,button:0,state:m.ComponentState.DEFAULT};class B{constructor(J){this.componentProperty=J.componentProperty,this.states=J.states,this.valueNodeName=J.valueNodeName,this.valueNodeProperty=J.valueNodeProperty,this.valueNodeProperty===m.VisualResponseProperty.TRANSFORM&&(this.minNodeName=J.minNodeName,this.maxNodeName=J.maxNodeName),this.value=0,this.updateFromComponent(k)}updateFromComponent({xAxis:J,yAxis:ce,button:W,state:se}){const{normalizedXAxis:Q,normalizedYAxis:Ie}=function z(b=0,J=0){let ce=b,W=J;if(Math.sqrt(b*b+J*J)>1){const Ie=Math.atan2(J,b);ce=Math.cos(Ie),W=Math.sin(Ie)}return{normalizedXAxis:.5*ce+.5,normalizedYAxis:.5*W+.5}}(J,ce);switch(this.componentProperty){case m.ComponentProperty.X_AXIS:this.value=this.states.includes(se)?Q:.5;break;case m.ComponentProperty.Y_AXIS:this.value=this.states.includes(se)?Ie:.5;break;case m.ComponentProperty.BUTTON:this.value=this.states.includes(se)?W:0;break;case m.ComponentProperty.STATE:this.value=this.valueNodeProperty===m.VisualResponseProperty.VISIBILITY?this.states.includes(se):this.states.includes(se)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class A{constructor(J,ce){if(!(J&&ce&&ce.visualResponses&&ce.gamepadIndices&&0!==Object.keys(ce.gamepadIndices).length))throw new Error("Invalid arguments supplied");this.id=J,this.type=ce.type,this.rootNodeName=ce.rootNodeName,this.touchPointNodeName=ce.touchPointNodeName,this.visualResponses={},Object.keys(ce.visualResponses).forEach(W=>{const se=new B(ce.visualResponses[W]);this.visualResponses[W]=se}),this.gamepadIndices=Object.assign({},ce.gamepadIndices),this.values={state:m.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(J){if(this.values.state=m.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&J.buttons.length>this.gamepadIndices.button){const ce=J.buttons[this.gamepadIndices.button];this.values.button=ce.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,ce.pressed||1===this.values.button?this.values.state=m.ComponentState.PRESSED:(ce.touched||this.values.button>m.ButtonTouchThreshold)&&(this.values.state=m.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&J.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=J.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===m.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>m.AxisTouchThreshold&&(this.values.state=m.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&J.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=J.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===m.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>m.AxisTouchThreshold&&(this.values.state=m.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(ce=>{ce.updateFromComponent(this.values)})}}class T{constructor(J,ce,W){if(!J)throw new Error("No xrInputSource supplied");if(!ce)throw new Error("No profile supplied");this.xrInputSource=J,this.assetUrl=W,this.id=ce.profileId,this.layoutDescription=ce.layouts[J.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(se=>{this.components[se]=new A(se,this.layoutDescription.components[se])}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const J=[];return Object.values(this.components).forEach(ce=>{J.push(ce.data)}),J}updateFromGamepad(){Object.values(this.components).forEach(J=>{J.updateFromGamepad(this.xrInputSource.gamepad)})}}},64680:(bn,be,w)=>{"use strict";var r=w(89222),m=w(85924),g=m(r("String.prototype.indexOf"));bn.exports=function(D,h){var U=r(D,!!h);return"function"==typeof U&&g(D,".prototype.")>-1?m(U):U}},85924:(bn,be,w)=>{"use strict";var r=w(82988),m=w(89222),g=w(93330),C=w(63698),D=m("%Function.prototype.apply%"),h=m("%Function.prototype.call%"),U=m("%Reflect.apply%",!0)||r.call(h,D),F=w(82182),k=m("%Math.max%");bn.exports=function(A){if("function"!=typeof A)throw new C("a function is required");var T=U(r,h,arguments);return g(T,1+k(0,A.length-(arguments.length-1)),!0)};var z=function(){return U(r,D,arguments)};F?F(bn.exports,"apply",{value:z}):bn.exports.apply=z},67092:(bn,be)=>{"use strict";be.r=function b(Q,Ie){var ae=Q.slice(0,33);return new Promise(function(Me,q){var $=new FileReader;$.onload=function(){var ge=new Uint8Array($.result),K=Q.slice(33),Ne=function se(Q,Ie,ae,Me){if(ae===h)return Q[13]=1,Q[14]=Ie>>8,Q[15]=255&Ie,Q[16]=Ie>>8,Q[17]=255&Ie,Q;if(ae===D){var q=new Uint8Array(13);Ie*=39.3701,q[0]=z,q[1]=B,q[2]=A,q[3]=T,q[4]=Ie>>>24,q[5]=Ie>>>16,q[6]=Ie>>>8,q[7]=255&Ie,q[8]=q[4],q[9]=q[5],q[10]=q[6],q[11]=q[7],q[12]=1;var $=function g(Q){var Ie=-1;C||(C=function m(){for(var Q=new Int32Array(256),Ie=0;Ie<256;Ie++){for(var ae=Ie,Me=0;Me<8;Me++)ae=1&ae?3988292384^ae>>>1:ae>>>1;Q[Ie]=ae}return Q}());for(var ae=0;ae<Q.length;ae++)Ie=C[255&(Ie^Q[ae])]^Ie>>>8;return~Ie}(q),ge=new Uint8Array(4);if(ge[0]=$>>>24,ge[1]=$>>>16,ge[2]=$>>>8,ge[3]=255&$,Me){var K=function W(Q){for(var ae=Q.length-1;ae>=4;ae--)if(9===Q[ae-4]&&Q[ae-3]===z&&Q[ae-2]===B&&Q[ae-1]===A&&Q[ae]===T)return ae-3}(Q);return Q.set(q,K),Q.set(ge,K+13),Q}var Ne=new Uint8Array(4);Ne[0]=0,Ne[1]=0,Ne[2]=0,Ne[3]=9;var Ve=new Uint8Array(54);return Ve.set(Q,0),Ve.set(Ne,33),Ve.set(q,37),Ve.set(ge,50),Ve}}(ge,Ie,Q.type);Me(new Blob([Ne,K],{type:Q.type}))},$.readAsArrayBuffer(ae)})};var C=void 0,D="image/png",h="image/jpeg",z=112,B=72,A=89,T=115},16938:(bn,be,w)=>{"use strict";w.d(be,{Z:()=>m});var r=w(49727);function m(g,C={}){return function(D,h){const U=Reflect.getMetadata("design:type",D,h);r.s.addTypeMetadata({target:D.constructor,propertyName:h,reflectedType:U,typeFunction:g,options:C})}}},55460:(bn,be,w)=>{"use strict";w.d(be,{_:()=>r});var r=function(m){return m[m.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",m[m.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",m[m.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",m}(r||{})},40470:(bn,be,w)=>{"use strict";w.d(be,{uK:()=>ce,bj:()=>b});var r=w(49727),m=w(55460);class h{constructor(Me,q){this.transformationType=Me,this.options=q,this.recursionStack=new Set}transform(Me,q,$,ge,K,Ne=0){if(Array.isArray(q)||q instanceof Set){const Ve=ge&&this.transformationType===m._.PLAIN_TO_CLASS?function D(ae){const Me=new ae;return Me instanceof Set||"push"in Me?Me:[]}(ge):[];return q.forEach((Ge,gt)=>{const _t=Me?Me[gt]:void 0;if(this.options.enableCircularCheck&&this.isCircular(Ge))this.transformationType===m._.CLASS_TO_CLASS&&(Ve instanceof Set?Ve.add(Ge):Ve.push(Ge));else{let zt;if("function"!=typeof $&&$&&$.options&&$.options.discriminator&&$.options.discriminator.property&&$.options.discriminator.subTypes){if(this.transformationType===m._.PLAIN_TO_CLASS){zt=$.options.discriminator.subTypes.find(He=>He.name===Ge[$.options.discriminator.property]);const De=$.typeFunction({newObject:Ve,object:Ge,property:void 0});zt=void 0===zt?De:zt.value,$.options.keepDiscriminatorProperty||delete Ge[$.options.discriminator.property]}this.transformationType===m._.CLASS_TO_CLASS&&(zt=Ge.constructor),this.transformationType===m._.CLASS_TO_PLAIN&&(Ge[$.options.discriminator.property]=$.options.discriminator.subTypes.find(Oe=>Oe.value===Ge.constructor).name)}else zt=$;const Rn=this.transform(_t,Ge,zt,void 0,Ge instanceof Map,Ne+1);Ve instanceof Set?Ve.add(Rn):Ve.push(Rn)}}),Ve}if($===String&&!K)return null==q?q:String(q);if($===Number&&!K)return null==q?q:Number(q);if($===Boolean&&!K)return null==q?q:!!q;if(($===Date||q instanceof Date)&&!K)return q instanceof Date?new Date(q.valueOf()):null==q?q:new Date(q);if(function g(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0}().Buffer&&($===Buffer||q instanceof Buffer)&&!K)return null==q?q:Buffer.from(q);if(function C(ae){return null!==ae&&"object"==typeof ae&&"function"==typeof ae.then}(q)&&!K)return new Promise((Ve,Ge)=>{q.then(gt=>Ve(this.transform(void 0,gt,$,void 0,void 0,Ne+1)),Ge)});if(!K&&null!==q&&"object"==typeof q&&"function"==typeof q.then)return q;if("object"==typeof q&&null!==q){!$&&q.constructor!==Object&&(!Array.isArray(q)&&q.constructor===Array||($=q.constructor)),!$&&Me&&($=Me.constructor),this.options.enableCircularCheck&&this.recursionStack.add(q);const Ve=this.getKeys($,q,K);let Ge=Me||{};!Me&&(this.transformationType===m._.PLAIN_TO_CLASS||this.transformationType===m._.CLASS_TO_CLASS)&&(Ge=K?new Map:$?new $:{});for(const gt of Ve){if("__proto__"===gt||"constructor"===gt)continue;const _t=gt;let Oe,zt=gt,Rn=gt;if(!this.options.ignoreDecorators&&$)if(this.transformationType===m._.PLAIN_TO_CLASS){const ft=r.s.findExposeMetadataByCustomName($,gt);ft&&(Rn=ft.propertyName,zt=ft.propertyName)}else if(this.transformationType===m._.CLASS_TO_PLAIN||this.transformationType===m._.CLASS_TO_CLASS){const ft=r.s.findExposeMetadata($,gt);ft&&ft.options&&ft.options.name&&(zt=ft.options.name)}Oe=this.transformationType===m._.PLAIN_TO_CLASS?q[_t]:q instanceof Map?q.get(_t):q[_t]instanceof Function?q[_t]():q[_t];let De,He=Oe instanceof Map;if($&&K)De=$;else if($){const ft=r.s.findTypeMetadata($,Rn);if(ft){const kt=ft.typeFunction?ft.typeFunction({newObject:Ge,object:q,property:Rn}):ft.reflectedType;ft.options&&ft.options.discriminator&&ft.options.discriminator.property&&ft.options.discriminator.subTypes?q[_t]instanceof Array?De=ft:(this.transformationType===m._.PLAIN_TO_CLASS&&(De=ft.options.discriminator.subTypes.find(je=>{if(Oe&&Oe instanceof Object&&ft.options.discriminator.property in Oe)return je.name===Oe[ft.options.discriminator.property]}),De=void 0===De?kt:De.value,ft.options.keepDiscriminatorProperty||Oe&&Oe instanceof Object&&ft.options.discriminator.property in Oe&&delete Oe[ft.options.discriminator.property]),this.transformationType===m._.CLASS_TO_CLASS&&(De=Oe.constructor),this.transformationType===m._.CLASS_TO_PLAIN&&Oe&&(Oe[ft.options.discriminator.property]=ft.options.discriminator.subTypes.find(je=>je.value===Oe.constructor).name)):De=kt,He=He||ft.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(wt=>wt.target===$&&!!wt.properties[Rn]).forEach(wt=>De=wt.properties[Rn]);else if(this.options.enableImplicitConversion&&this.transformationType===m._.PLAIN_TO_CLASS){const wt=Reflect.getMetadata("design:type",$.prototype,Rn);wt&&(De=wt)}}const We=Array.isArray(q[_t])?this.getReflectedType($,Rn):void 0,st=Me?Me[_t]:void 0;if(Ge.constructor.prototype){const ft=Object.getOwnPropertyDescriptor(Ge.constructor.prototype,zt);if((this.transformationType===m._.PLAIN_TO_CLASS||this.transformationType===m._.CLASS_TO_CLASS)&&(ft&&!ft.set||Ge[zt]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(Oe)){if(this.transformationType===m._.CLASS_TO_CLASS){let ft=Oe;ft=this.applyCustomTransformations(ft,$,gt,q,this.transformationType),(void 0!==ft||this.options.exposeUnsetFields)&&(Ge instanceof Map?Ge.set(zt,ft):Ge[zt]=ft)}}else{const ft=this.transformationType===m._.PLAIN_TO_CLASS?zt:gt;let wt;this.transformationType===m._.CLASS_TO_PLAIN?(wt=q[ft],wt=this.applyCustomTransformations(wt,$,ft,q,this.transformationType),wt=q[ft]===wt?Oe:wt,wt=this.transform(st,wt,De,We,He,Ne+1)):void 0===Oe&&this.options.exposeDefaultValues?wt=Ge[zt]:(wt=this.transform(st,Oe,De,We,He,Ne+1),wt=this.applyCustomTransformations(wt,$,ft,q,this.transformationType)),(void 0!==wt||this.options.exposeUnsetFields)&&(Ge instanceof Map?Ge.set(zt,wt):Ge[zt]=wt)}}return this.options.enableCircularCheck&&this.recursionStack.delete(q),Ge}return q}applyCustomTransformations(Me,q,$,ge,K){let Ne=r.s.findTransformMetadatas(q,$,this.transformationType);return void 0!==this.options.version&&(Ne=Ne.filter(Ve=>!Ve.options||this.checkVersion(Ve.options.since,Ve.options.until))),Ne=Ne.filter(this.options.groups&&this.options.groups.length?Ve=>!Ve.options||this.checkGroups(Ve.options.groups):Ve=>!Ve.options||!Ve.options.groups||!Ve.options.groups.length),Ne.forEach(Ve=>{Me=Ve.transformFn({value:Me,key:$,obj:ge,type:K,options:this.options})}),Me}isCircular(Me){return this.recursionStack.has(Me)}getReflectedType(Me,q){if(!Me)return;const $=r.s.findTypeMetadata(Me,q);return $?$.reflectedType:void 0}getKeys(Me,q,$){let ge=r.s.getStrategy(Me);"none"===ge&&(ge=this.options.strategy||"exposeAll");let K=[];if(("exposeAll"===ge||$)&&(K=q instanceof Map?Array.from(q.keys()):Object.keys(q)),$)return K;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&Me&&(K=[...r.s.getExposedProperties(Me,this.transformationType),...r.s.getExcludedProperties(Me,this.transformationType)]),!this.options.ignoreDecorators&&Me){let Ne=r.s.getExposedProperties(Me,this.transformationType);this.transformationType===m._.PLAIN_TO_CLASS&&(Ne=Ne.map(Ge=>{const gt=r.s.findExposeMetadata(Me,Ge);return gt&&gt.options&&gt.options.name?gt.options.name:Ge})),K=this.options.excludeExtraneousValues?Ne:K.concat(Ne);const Ve=r.s.getExcludedProperties(Me,this.transformationType);Ve.length>0&&(K=K.filter(Ge=>!Ve.includes(Ge))),void 0!==this.options.version&&(K=K.filter(Ge=>{const gt=r.s.findExposeMetadata(Me,Ge);return!gt||!gt.options||this.checkVersion(gt.options.since,gt.options.until)})),K=K.filter(this.options.groups&&this.options.groups.length?Ge=>{const gt=r.s.findExposeMetadata(Me,Ge);return!gt||!gt.options||this.checkGroups(gt.options.groups)}:Ge=>{const gt=r.s.findExposeMetadata(Me,Ge);return!(gt&&gt.options&&gt.options.groups&&gt.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(K=K.filter(Ne=>this.options.excludePrefixes.every(Ve=>Ne.substr(0,Ve.length)!==Ve))),K=K.filter((Ne,Ve,Ge)=>Ge.indexOf(Ne)===Ve),K}checkVersion(Me,q){let $=!0;return $&&Me&&($=this.options.version>=Me),$&&q&&($=this.options.version<q),$}checkGroups(Me){return!Me||this.options.groups.some(q=>Me.includes(q))}}const U={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},k=new class F{instanceToPlain(Me,q){return new h(m._.CLASS_TO_PLAIN,{...U,...q}).transform(void 0,Me,void 0,void 0,void 0,void 0)}classToPlainFromExist(Me,q,$){return new h(m._.CLASS_TO_PLAIN,{...U,...$}).transform(q,Me,void 0,void 0,void 0,void 0)}plainToInstance(Me,q,$){return new h(m._.PLAIN_TO_CLASS,{...U,...$}).transform(void 0,q,Me,void 0,void 0,void 0)}plainToClassFromExist(Me,q,$){return new h(m._.PLAIN_TO_CLASS,{...U,...$}).transform(Me,q,void 0,void 0,void 0,void 0)}instanceToInstance(Me,q){return new h(m._.CLASS_TO_CLASS,{...U,...q}).transform(void 0,Me,void 0,void 0,void 0,void 0)}classToClassFromExist(Me,q,$){return new h(m._.CLASS_TO_CLASS,{...U,...$}).transform(q,Me,void 0,void 0,void 0,void 0)}serialize(Me,q){return JSON.stringify(this.instanceToPlain(Me,q))}deserialize(Me,q,$){const ge=JSON.parse(q);return this.plainToInstance(Me,ge,$)}deserializeArray(Me,q,$){const ge=JSON.parse(q);return this.plainToInstance(Me,ge,$)}};function b(ae,Me,q){return k.plainToInstance(ae,Me,q)}function ce(ae,Me){return k.instanceToInstance(ae,Me)}},49727:(bn,be,w)=>{"use strict";w.d(be,{s:()=>g});var r=w(55460);const g=new class m{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(D){this._typeMetadatas.has(D.target)||this._typeMetadatas.set(D.target,new Map),this._typeMetadatas.get(D.target).set(D.propertyName,D)}addTransformMetadata(D){this._transformMetadatas.has(D.target)||this._transformMetadatas.set(D.target,new Map),this._transformMetadatas.get(D.target).has(D.propertyName)||this._transformMetadatas.get(D.target).set(D.propertyName,[]),this._transformMetadatas.get(D.target).get(D.propertyName).push(D)}addExposeMetadata(D){this._exposeMetadatas.has(D.target)||this._exposeMetadatas.set(D.target,new Map),this._exposeMetadatas.get(D.target).set(D.propertyName,D)}addExcludeMetadata(D){this._excludeMetadatas.has(D.target)||this._excludeMetadatas.set(D.target,new Map),this._excludeMetadatas.get(D.target).set(D.propertyName,D)}findTransformMetadatas(D,h,U){return this.findMetadatas(this._transformMetadatas,D,h).filter(F=>!F.options||!0===F.options.toClassOnly&&!0===F.options.toPlainOnly||(!0===F.options.toClassOnly?U===r._.CLASS_TO_CLASS||U===r._.PLAIN_TO_CLASS:!0!==F.options.toPlainOnly||U===r._.CLASS_TO_PLAIN))}findExcludeMetadata(D,h){return this.findMetadata(this._excludeMetadatas,D,h)}findExposeMetadata(D,h){return this.findMetadata(this._exposeMetadatas,D,h)}findExposeMetadataByCustomName(D,h){return this.getExposedMetadatas(D).find(U=>U.options&&U.options.name===h)}findTypeMetadata(D,h){return this.findMetadata(this._typeMetadatas,D,h)}getStrategy(D){const h=this._excludeMetadatas.get(D),U=h&&h.get(void 0),F=this._exposeMetadatas.get(D),k=F&&F.get(void 0);return U&&k||!U&&!k?"none":U?"excludeAll":"exposeAll"}getExposedMetadatas(D){return this.getMetadata(this._exposeMetadatas,D)}getExcludedMetadatas(D){return this.getMetadata(this._excludeMetadatas,D)}getExposedProperties(D,h){return this.getExposedMetadatas(D).filter(U=>!U.options||!0===U.options.toClassOnly&&!0===U.options.toPlainOnly||(!0===U.options.toClassOnly?h===r._.CLASS_TO_CLASS||h===r._.PLAIN_TO_CLASS:!0!==U.options.toPlainOnly||h===r._.CLASS_TO_PLAIN)).map(U=>U.propertyName)}getExcludedProperties(D,h){return this.getExcludedMetadatas(D).filter(U=>!U.options||!0===U.options.toClassOnly&&!0===U.options.toPlainOnly||(!0===U.options.toClassOnly?h===r._.CLASS_TO_CLASS||h===r._.PLAIN_TO_CLASS:!0!==U.options.toPlainOnly||h===r._.CLASS_TO_PLAIN)).map(U=>U.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(D,h){const U=D.get(h);let F;U&&(F=Array.from(U.values()).filter(z=>void 0!==z.propertyName));const k=[];for(const z of this.getAncestors(h)){const B=D.get(z);if(B){const A=Array.from(B.values()).filter(T=>void 0!==T.propertyName);k.push(...A)}}return k.concat(F||[])}findMetadata(D,h,U){const F=D.get(h);if(F){const k=F.get(U);if(k)return k}for(const k of this.getAncestors(h)){const z=D.get(k);if(z){const B=z.get(U);if(B)return B}}}findMetadatas(D,h,U){const F=D.get(h);let k;F&&(k=F.get(U));const z=[];for(const B of this.getAncestors(h)){const A=D.get(B);A&&A.has(U)&&z.push(...A.get(U))}return z.slice().reverse().concat((k||[]).slice().reverse())}getAncestors(D){if(!D)return[];if(!this._ancestorsMap.has(D)){const h=[];for(let U=Object.getPrototypeOf(D.prototype.constructor);typeof U.prototype<"u";U=Object.getPrototypeOf(U.prototype.constructor))h.push(U);this._ancestorsMap.set(D,h)}return this._ancestorsMap.get(D)}}},2948:(bn,be,w)=>{"use strict";var r=w(82182),m=w(35097),g=w(63698),C=w(99234);bn.exports=function(h,U,F){if(!h||"object"!=typeof h&&"function"!=typeof h)throw new g("`obj` must be an object or a function`");if("string"!=typeof U&&"symbol"!=typeof U)throw new g("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new g("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new g("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new g("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new g("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,z=arguments.length>4?arguments[4]:null,B=arguments.length>5?arguments[5]:null,A=arguments.length>6&&arguments[6],T=!!C&&C(h,U);if(r)r(h,U,{configurable:null===B&&T?T.configurable:!B,enumerable:null===k&&T?T.enumerable:!k,value:F,writable:null===z&&T?T.writable:!z});else{if(!A&&(k||z||B))throw new m("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");h[U]=F}}},78851:(bn,be)=>{be.TF=function h(U){return U.replace(/[^\u0000-\u007e]/g,function(F){return m[F]||F})};for(var r=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],m={},g=0;g<r.length;g+=1)for(var C=r[g].chars,D=0;D<C.length;D+=1)m[C[D]]=r[g].base},82182:(bn,be,w)=>{"use strict";var m=w(89222)("%Object.defineProperty%",!0)||!1;if(m)try{m({},"a",{value:1})}catch{m=!1}bn.exports=m},21776:bn=>{"use strict";bn.exports=EvalError},52276:bn=>{"use strict";bn.exports=Error},63433:bn=>{"use strict";bn.exports=RangeError},42025:bn=>{"use strict";bn.exports=ReferenceError},35097:bn=>{"use strict";bn.exports=SyntaxError},63698:bn=>{"use strict";bn.exports=TypeError},87378:bn=>{"use strict";bn.exports=URIError},37678:function(bn,be){var w,m;void 0!==(m="function"==typeof(w=function(){"use strict";function C(z,B,A){var T=new XMLHttpRequest;T.open("GET",z),T.responseType="blob",T.onload=function(){k(T.response,B,A)},T.onerror=function(){console.error("could not download file")},T.send()}function D(z){var B=new XMLHttpRequest;B.open("HEAD",z,!1);try{B.send()}catch{}return 200<=B.status&&299>=B.status}function h(z){try{z.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),z.dispatchEvent(B)}}var U="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=U.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),k=U.saveAs||("object"!=typeof window||window!==U?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(z,B,A){var T=U.URL||U.webkitURL,b=document.createElement("a");b.download=B=B||z.name||"download",b.rel="noopener","string"==typeof z?(b.href=z,b.origin===location.origin?h(b):D(b.href)?C(z,B,A):h(b,b.target="_blank")):(b.href=T.createObjectURL(z),setTimeout(function(){T.revokeObjectURL(b.href)},4e4),setTimeout(function(){h(b)},0))}:"msSaveOrOpenBlob"in navigator?function(z,B,A){if(B=B||z.name||"download","string"!=typeof z)navigator.msSaveOrOpenBlob(function g(z,B){return typeof B>"u"?B={autoBom:!1}:"object"!=typeof B&&(console.warn("Deprecated: Expected third argument to be a object"),B={autoBom:!B}),B.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\ufeff",z],{type:z.type}):z}(z,A),B);else if(D(z))C(z,B,A);else{var T=document.createElement("a");T.href=z,T.target="_blank",setTimeout(function(){h(T)})}}:function(z,B,A,T){if((T=T||open("","_blank"))&&(T.document.title=T.document.body.innerText="downloading..."),"string"==typeof z)return C(z,B,A);var b="application/octet-stream"===z.type,J=/constructor/i.test(U.HTMLElement)||U.safari,ce=/CriOS\/[\d]+/.test(navigator.userAgent);if((ce||b&&J||F)&&typeof FileReader<"u"){var W=new FileReader;W.onloadend=function(){var Ie=W.result;Ie=ce?Ie:Ie.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=Ie:location=Ie,T=null},W.readAsDataURL(z)}else{var se=U.URL||U.webkitURL,Q=se.createObjectURL(z);T?T.location=Q:location.href=Q,T=null,setTimeout(function(){se.revokeObjectURL(Q)},4e4)}});U.saveAs=k.saveAs=k,bn.exports=k})?w.apply(be,[]):w)&&(bn.exports=m)},94864:bn=>{"use strict";var w=Object.prototype.toString,r=Math.max,g=function(U,F){for(var k=[],z=0;z<U.length;z+=1)k[z]=U[z];for(var B=0;B<F.length;B+=1)k[B+U.length]=F[B];return k};bn.exports=function(U){var F=this;if("function"!=typeof F||"[object Function]"!==w.apply(F))throw new TypeError("Function.prototype.bind called on incompatible "+F);for(var z,k=function(U){for(var k=[],z=1,B=0;z<U.length;z+=1,B+=1)k[B]=U[z];return k}(arguments),A=r(0,F.length-k.length),T=[],b=0;b<A;b++)T[b]="$"+b;if(z=Function("binder","return function ("+function(h){for(var F="",k=0;k<h.length;k+=1)F+=h[k],k+1<h.length&&(F+=",");return F}(T)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof z){var ce=F.apply(this,g(k,arguments));return Object(ce)===ce?ce:this}return F.apply(U,g(k,arguments))}),F.prototype){var J=function(){};J.prototype=F.prototype,z.prototype=new J,J.prototype=null}return z}},82988:(bn,be,w)=>{"use strict";var r=w(94864);bn.exports=Function.prototype.bind||r},89222:(bn,be,w)=>{"use strict";var r,m=w(52276),g=w(21776),C=w(63433),D=w(42025),h=w(35097),U=w(63698),F=w(87378),k=Function,z=function(Oe){try{return k('"use strict"; return ('+Oe+").constructor;")()}catch{}},B=Object.getOwnPropertyDescriptor;if(B)try{B({},"")}catch{B=null}var A=function(){throw new U},T=B?function(){try{return A}catch{try{return B(arguments,"callee").get}catch{return A}}}():A,b=w(17528)(),J=w(88003)(),ce=Object.getPrototypeOf||(J?function(Oe){return Oe.__proto__}:null),W={},se=typeof Uint8Array>"u"||!ce?r:ce(Uint8Array),Q={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":b&&ce?ce([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":m,"%eval%":eval,"%EvalError%":g,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":k,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&ce?ce(ce([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!ce?r:ce((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":C,"%ReferenceError%":D,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!ce?r:ce((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&ce?ce(""[Symbol.iterator]()):r,"%Symbol%":b?Symbol:r,"%SyntaxError%":h,"%ThrowTypeError%":T,"%TypedArray%":se,"%TypeError%":U,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(ce)try{null.error}catch(Oe){var Ie=ce(ce(Oe));Q["%Error.prototype%"]=Ie}var ae=function Oe(De){var He;if("%AsyncFunction%"===De)He=z("async function () {}");else if("%GeneratorFunction%"===De)He=z("function* () {}");else if("%AsyncGeneratorFunction%"===De)He=z("async function* () {}");else if("%AsyncGenerator%"===De){var We=Oe("%AsyncGeneratorFunction%");We&&(He=We.prototype)}else if("%AsyncIteratorPrototype%"===De){var st=Oe("%AsyncGenerator%");st&&ce&&(He=ce(st.prototype))}return Q[De]=He,He},Me={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q=w(82988),$=w(58252),ge=q.call(Function.call,Array.prototype.concat),K=q.call(Function.apply,Array.prototype.splice),Ne=q.call(Function.call,String.prototype.replace),Ve=q.call(Function.call,String.prototype.slice),Ge=q.call(Function.call,RegExp.prototype.exec),gt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_t=/\\(\\)?/g,Rn=function(De,He){var st,We=De;if($(Me,We)&&(We="%"+(st=Me[We])[0]+"%"),$(Q,We)){var ft=Q[We];if(ft===W&&(ft=ae(We)),typeof ft>"u"&&!He)throw new U("intrinsic "+De+" exists, but is not available. Please file an issue!");return{alias:st,name:We,value:ft}}throw new h("intrinsic "+De+" does not exist!")};bn.exports=function(De,He){if("string"!=typeof De||0===De.length)throw new U("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof He)throw new U('"allowMissing" argument must be a boolean');if(null===Ge(/^%?[^%]*%?$/,De))throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var We=function(De){var He=Ve(De,0,1),We=Ve(De,-1);if("%"===He&&"%"!==We)throw new h("invalid intrinsic syntax, expected closing `%`");if("%"===We&&"%"!==He)throw new h("invalid intrinsic syntax, expected opening `%`");var st=[];return Ne(De,gt,function(ft,wt,kt,je){st[st.length]=kt?Ne(je,_t,"$1"):wt||ft}),st}(De),st=We.length>0?We[0]:"",ft=Rn("%"+st+"%",He),wt=ft.name,kt=ft.value,je=!1,Ce=ft.alias;Ce&&(st=Ce[0],K(We,ge([0,1],Ce)));for(var ne=1,Re=!0;ne<We.length;ne+=1){var te=We[ne],y=Ve(te,0,1),M=Ve(te,-1);if(('"'===y||"'"===y||"`"===y||'"'===M||"'"===M||"`"===M)&&y!==M)throw new h("property names with quotes must have matching quotes");if(("constructor"===te||!Re)&&(je=!0),$(Q,wt="%"+(st+="."+te)+"%"))kt=Q[wt];else if(null!=kt){if(!(te in kt)){if(!He)throw new U("base intrinsic for "+De+" exists, but the property is not available.");return}if(B&&ne+1>=We.length){var Y=B(kt,te);kt=(Re=!!Y)&&"get"in Y&&!("originalValue"in Y.get)?Y.get:kt[te]}else Re=$(kt,te),kt=kt[te];Re&&!je&&(Q[wt]=kt)}}return kt}},9818:(bn,be,w)=>{"use strict";w.d(be,{Ov:()=>g,p8:()=>r,tb:()=>m});var r=1e-6,m=typeof Float32Array<"u"?Float32Array:Array,g=Math.random;Math,Math.hypot||(Math.hypot=function(){for(var F=0,k=arguments.length;k--;)F+=arguments[k]*arguments[k];return Math.sqrt(F)})},7928:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{add:()=>K,adjoint:()=>B,clone:()=>C,copy:()=>D,create:()=>m,determinant:()=>A,equals:()=>_t,exactEquals:()=>gt,frob:()=>ge,fromMat2d:()=>Ie,fromMat4:()=>g,fromQuat:()=>ae,fromRotation:()=>se,fromScaling:()=>Q,fromTranslation:()=>W,fromValues:()=>h,identity:()=>F,invert:()=>z,mul:()=>zt,multiply:()=>T,multiplyScalar:()=>Ve,multiplyScalarAndAdd:()=>Ge,normalFromMat4:()=>Me,projection:()=>q,rotate:()=>J,scale:()=>ce,set:()=>U,str:()=>$,sub:()=>Rn,subtract:()=>Ne,translate:()=>b,transpose:()=>k});var r=w(9818);function m(){var Oe=new r.tb(9);return r.tb!=Float32Array&&(Oe[1]=0,Oe[2]=0,Oe[3]=0,Oe[5]=0,Oe[6]=0,Oe[7]=0),Oe[0]=1,Oe[4]=1,Oe[8]=1,Oe}function g(Oe,De){return Oe[0]=De[0],Oe[1]=De[1],Oe[2]=De[2],Oe[3]=De[4],Oe[4]=De[5],Oe[5]=De[6],Oe[6]=De[8],Oe[7]=De[9],Oe[8]=De[10],Oe}function C(Oe){var De=new r.tb(9);return De[0]=Oe[0],De[1]=Oe[1],De[2]=Oe[2],De[3]=Oe[3],De[4]=Oe[4],De[5]=Oe[5],De[6]=Oe[6],De[7]=Oe[7],De[8]=Oe[8],De}function D(Oe,De){return Oe[0]=De[0],Oe[1]=De[1],Oe[2]=De[2],Oe[3]=De[3],Oe[4]=De[4],Oe[5]=De[5],Oe[6]=De[6],Oe[7]=De[7],Oe[8]=De[8],Oe}function h(Oe,De,He,We,st,ft,wt,kt,je){var Ce=new r.tb(9);return Ce[0]=Oe,Ce[1]=De,Ce[2]=He,Ce[3]=We,Ce[4]=st,Ce[5]=ft,Ce[6]=wt,Ce[7]=kt,Ce[8]=je,Ce}function U(Oe,De,He,We,st,ft,wt,kt,je,Ce){return Oe[0]=De,Oe[1]=He,Oe[2]=We,Oe[3]=st,Oe[4]=ft,Oe[5]=wt,Oe[6]=kt,Oe[7]=je,Oe[8]=Ce,Oe}function F(Oe){return Oe[0]=1,Oe[1]=0,Oe[2]=0,Oe[3]=0,Oe[4]=1,Oe[5]=0,Oe[6]=0,Oe[7]=0,Oe[8]=1,Oe}function k(Oe,De){if(Oe===De){var He=De[1],We=De[2],st=De[5];Oe[1]=De[3],Oe[2]=De[6],Oe[3]=He,Oe[5]=De[7],Oe[6]=We,Oe[7]=st}else Oe[0]=De[0],Oe[1]=De[3],Oe[2]=De[6],Oe[3]=De[1],Oe[4]=De[4],Oe[5]=De[7],Oe[6]=De[2],Oe[7]=De[5],Oe[8]=De[8];return Oe}function z(Oe,De){var He=De[0],We=De[1],st=De[2],ft=De[3],wt=De[4],kt=De[5],je=De[6],Ce=De[7],ne=De[8],Re=ne*wt-kt*Ce,te=-ne*ft+kt*je,y=Ce*ft-wt*je,M=He*Re+We*te+st*y;return M?(Oe[0]=Re*(M=1/M),Oe[1]=(-ne*We+st*Ce)*M,Oe[2]=(kt*We-st*wt)*M,Oe[3]=te*M,Oe[4]=(ne*He-st*je)*M,Oe[5]=(-kt*He+st*ft)*M,Oe[6]=y*M,Oe[7]=(-Ce*He+We*je)*M,Oe[8]=(wt*He-We*ft)*M,Oe):null}function B(Oe,De){var He=De[0],We=De[1],st=De[2],ft=De[3],wt=De[4],kt=De[5],je=De[6],Ce=De[7],ne=De[8];return Oe[0]=wt*ne-kt*Ce,Oe[1]=st*Ce-We*ne,Oe[2]=We*kt-st*wt,Oe[3]=kt*je-ft*ne,Oe[4]=He*ne-st*je,Oe[5]=st*ft-He*kt,Oe[6]=ft*Ce-wt*je,Oe[7]=We*je-He*Ce,Oe[8]=He*wt-We*ft,Oe}function A(Oe){var st=Oe[3],ft=Oe[4],wt=Oe[5],kt=Oe[6],je=Oe[7],Ce=Oe[8];return Oe[0]*(Ce*ft-wt*je)+Oe[1]*(-Ce*st+wt*kt)+Oe[2]*(je*st-ft*kt)}function T(Oe,De,He){var We=De[0],st=De[1],ft=De[2],wt=De[3],kt=De[4],je=De[5],Ce=De[6],ne=De[7],Re=De[8],te=He[0],y=He[1],M=He[2],Y=He[3],G=He[4],_e=He[5],Z=He[6],f=He[7],V=He[8];return Oe[0]=te*We+y*wt+M*Ce,Oe[1]=te*st+y*kt+M*ne,Oe[2]=te*ft+y*je+M*Re,Oe[3]=Y*We+G*wt+_e*Ce,Oe[4]=Y*st+G*kt+_e*ne,Oe[5]=Y*ft+G*je+_e*Re,Oe[6]=Z*We+f*wt+V*Ce,Oe[7]=Z*st+f*kt+V*ne,Oe[8]=Z*ft+f*je+V*Re,Oe}function b(Oe,De,He){var We=De[0],st=De[1],ft=De[2],wt=De[3],kt=De[4],je=De[5],Ce=De[6],ne=De[7],Re=De[8],te=He[0],y=He[1];return Oe[0]=We,Oe[1]=st,Oe[2]=ft,Oe[3]=wt,Oe[4]=kt,Oe[5]=je,Oe[6]=te*We+y*wt+Ce,Oe[7]=te*st+y*kt+ne,Oe[8]=te*ft+y*je+Re,Oe}function J(Oe,De,He){var We=De[0],st=De[1],ft=De[2],wt=De[3],kt=De[4],je=De[5],Ce=De[6],ne=De[7],Re=De[8],te=Math.sin(He),y=Math.cos(He);return Oe[0]=y*We+te*wt,Oe[1]=y*st+te*kt,Oe[2]=y*ft+te*je,Oe[3]=y*wt-te*We,Oe[4]=y*kt-te*st,Oe[5]=y*je-te*ft,Oe[6]=Ce,Oe[7]=ne,Oe[8]=Re,Oe}function ce(Oe,De,He){var We=He[0],st=He[1];return Oe[0]=We*De[0],Oe[1]=We*De[1],Oe[2]=We*De[2],Oe[3]=st*De[3],Oe[4]=st*De[4],Oe[5]=st*De[5],Oe[6]=De[6],Oe[7]=De[7],Oe[8]=De[8],Oe}function W(Oe,De){return Oe[0]=1,Oe[1]=0,Oe[2]=0,Oe[3]=0,Oe[4]=1,Oe[5]=0,Oe[6]=De[0],Oe[7]=De[1],Oe[8]=1,Oe}function se(Oe,De){var He=Math.sin(De),We=Math.cos(De);return Oe[0]=We,Oe[1]=He,Oe[2]=0,Oe[3]=-He,Oe[4]=We,Oe[5]=0,Oe[6]=0,Oe[7]=0,Oe[8]=1,Oe}function Q(Oe,De){return Oe[0]=De[0],Oe[1]=0,Oe[2]=0,Oe[3]=0,Oe[4]=De[1],Oe[5]=0,Oe[6]=0,Oe[7]=0,Oe[8]=1,Oe}function Ie(Oe,De){return Oe[0]=De[0],Oe[1]=De[1],Oe[2]=0,Oe[3]=De[2],Oe[4]=De[3],Oe[5]=0,Oe[6]=De[4],Oe[7]=De[5],Oe[8]=1,Oe}function ae(Oe,De){var He=De[0],We=De[1],st=De[2],ft=De[3],wt=He+He,kt=We+We,je=st+st,Ce=He*wt,ne=We*wt,Re=We*kt,te=st*wt,y=st*kt,M=st*je,Y=ft*wt,G=ft*kt,_e=ft*je;return Oe[0]=1-Re-M,Oe[3]=ne-_e,Oe[6]=te+G,Oe[1]=ne+_e,Oe[4]=1-Ce-M,Oe[7]=y-Y,Oe[2]=te-G,Oe[5]=y+Y,Oe[8]=1-Ce-Re,Oe}function Me(Oe,De){var He=De[0],We=De[1],st=De[2],ft=De[3],wt=De[4],kt=De[5],je=De[6],Ce=De[7],ne=De[8],Re=De[9],te=De[10],y=De[11],M=De[12],Y=De[13],G=De[14],_e=De[15],Z=He*kt-We*wt,f=He*je-st*wt,V=He*Ce-ft*wt,x=We*je-st*kt,ye=We*Ce-ft*kt,Te=st*Ce-ft*je,ke=ne*Y-Re*M,Ee=ne*G-te*M,nt=ne*_e-y*M,at=Re*G-te*Y,yt=Re*_e-y*Y,Jt=te*_e-y*G,Qe=Z*Jt-f*yt+V*at+x*nt-ye*Ee+Te*ke;return Qe?(Oe[0]=(kt*Jt-je*yt+Ce*at)*(Qe=1/Qe),Oe[1]=(je*nt-wt*Jt-Ce*Ee)*Qe,Oe[2]=(wt*yt-kt*nt+Ce*ke)*Qe,Oe[3]=(st*yt-We*Jt-ft*at)*Qe,Oe[4]=(He*Jt-st*nt+ft*Ee)*Qe,Oe[5]=(We*nt-He*yt-ft*ke)*Qe,Oe[6]=(Y*Te-G*ye+_e*x)*Qe,Oe[7]=(G*V-M*Te-_e*f)*Qe,Oe[8]=(M*ye-Y*V+_e*Z)*Qe,Oe):null}function q(Oe,De,He){return Oe[0]=2/De,Oe[1]=0,Oe[2]=0,Oe[3]=0,Oe[4]=-2/He,Oe[5]=0,Oe[6]=-1,Oe[7]=1,Oe[8]=1,Oe}function $(Oe){return"mat3("+Oe[0]+", "+Oe[1]+", "+Oe[2]+", "+Oe[3]+", "+Oe[4]+", "+Oe[5]+", "+Oe[6]+", "+Oe[7]+", "+Oe[8]+")"}function ge(Oe){return Math.hypot(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],Oe[7],Oe[8])}function K(Oe,De,He){return Oe[0]=De[0]+He[0],Oe[1]=De[1]+He[1],Oe[2]=De[2]+He[2],Oe[3]=De[3]+He[3],Oe[4]=De[4]+He[4],Oe[5]=De[5]+He[5],Oe[6]=De[6]+He[6],Oe[7]=De[7]+He[7],Oe[8]=De[8]+He[8],Oe}function Ne(Oe,De,He){return Oe[0]=De[0]-He[0],Oe[1]=De[1]-He[1],Oe[2]=De[2]-He[2],Oe[3]=De[3]-He[3],Oe[4]=De[4]-He[4],Oe[5]=De[5]-He[5],Oe[6]=De[6]-He[6],Oe[7]=De[7]-He[7],Oe[8]=De[8]-He[8],Oe}function Ve(Oe,De,He){return Oe[0]=De[0]*He,Oe[1]=De[1]*He,Oe[2]=De[2]*He,Oe[3]=De[3]*He,Oe[4]=De[4]*He,Oe[5]=De[5]*He,Oe[6]=De[6]*He,Oe[7]=De[7]*He,Oe[8]=De[8]*He,Oe}function Ge(Oe,De,He,We){return Oe[0]=De[0]+He[0]*We,Oe[1]=De[1]+He[1]*We,Oe[2]=De[2]+He[2]*We,Oe[3]=De[3]+He[3]*We,Oe[4]=De[4]+He[4]*We,Oe[5]=De[5]+He[5]*We,Oe[6]=De[6]+He[6]*We,Oe[7]=De[7]+He[7]*We,Oe[8]=De[8]+He[8]*We,Oe}function gt(Oe,De){return Oe[0]===De[0]&&Oe[1]===De[1]&&Oe[2]===De[2]&&Oe[3]===De[3]&&Oe[4]===De[4]&&Oe[5]===De[5]&&Oe[6]===De[6]&&Oe[7]===De[7]&&Oe[8]===De[8]}function _t(Oe,De){var He=Oe[0],We=Oe[1],st=Oe[2],ft=Oe[3],wt=Oe[4],kt=Oe[5],je=Oe[6],Ce=Oe[7],ne=Oe[8],Re=De[0],te=De[1],y=De[2],M=De[3],Y=De[4],G=De[5],_e=De[6],Z=De[7],f=De[8];return Math.abs(He-Re)<=r.p8*Math.max(1,Math.abs(He),Math.abs(Re))&&Math.abs(We-te)<=r.p8*Math.max(1,Math.abs(We),Math.abs(te))&&Math.abs(st-y)<=r.p8*Math.max(1,Math.abs(st),Math.abs(y))&&Math.abs(ft-M)<=r.p8*Math.max(1,Math.abs(ft),Math.abs(M))&&Math.abs(wt-Y)<=r.p8*Math.max(1,Math.abs(wt),Math.abs(Y))&&Math.abs(kt-G)<=r.p8*Math.max(1,Math.abs(kt),Math.abs(G))&&Math.abs(je-_e)<=r.p8*Math.max(1,Math.abs(je),Math.abs(_e))&&Math.abs(Ce-Z)<=r.p8*Math.max(1,Math.abs(Ce),Math.abs(Z))&&Math.abs(ne-f)<=r.p8*Math.max(1,Math.abs(ne),Math.abs(f))}var zt=T,Rn=Ne},65133:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{add:()=>Re,adjoint:()=>z,clone:()=>g,copy:()=>C,create:()=>m,determinant:()=>B,equals:()=>G,exactEquals:()=>Y,frob:()=>ne,fromQuat:()=>zt,fromQuat2:()=>K,fromRotation:()=>ae,fromRotationTranslation:()=>ge,fromRotationTranslationScale:()=>gt,fromRotationTranslationScaleOrigin:()=>_t,fromScaling:()=>Ie,fromTranslation:()=>Q,fromValues:()=>D,fromXRotation:()=>Me,fromYRotation:()=>q,fromZRotation:()=>$,frustum:()=>Rn,getRotation:()=>Ge,getScaling:()=>Ve,getTranslation:()=>Ne,identity:()=>U,invert:()=>k,lookAt:()=>kt,mul:()=>_e,multiply:()=>A,multiplyScalar:()=>y,multiplyScalarAndAdd:()=>M,ortho:()=>ft,orthoNO:()=>st,orthoZO:()=>wt,perspective:()=>De,perspectiveFromFieldOfView:()=>We,perspectiveNO:()=>Oe,perspectiveZO:()=>He,rotate:()=>J,rotateX:()=>ce,rotateY:()=>W,rotateZ:()=>se,scale:()=>b,set:()=>h,str:()=>Ce,sub:()=>Z,subtract:()=>te,targetTo:()=>je,translate:()=>T,transpose:()=>F});var r=w(9818);function m(){var f=new r.tb(16);return r.tb!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f}function g(f){var V=new r.tb(16);return V[0]=f[0],V[1]=f[1],V[2]=f[2],V[3]=f[3],V[4]=f[4],V[5]=f[5],V[6]=f[6],V[7]=f[7],V[8]=f[8],V[9]=f[9],V[10]=f[10],V[11]=f[11],V[12]=f[12],V[13]=f[13],V[14]=f[14],V[15]=f[15],V}function C(f,V){return f[0]=V[0],f[1]=V[1],f[2]=V[2],f[3]=V[3],f[4]=V[4],f[5]=V[5],f[6]=V[6],f[7]=V[7],f[8]=V[8],f[9]=V[9],f[10]=V[10],f[11]=V[11],f[12]=V[12],f[13]=V[13],f[14]=V[14],f[15]=V[15],f}function D(f,V,x,ye,Te,ke,Ee,nt,at,yt,Jt,Qe,Ft,it,Mt,lt){var Bt=new r.tb(16);return Bt[0]=f,Bt[1]=V,Bt[2]=x,Bt[3]=ye,Bt[4]=Te,Bt[5]=ke,Bt[6]=Ee,Bt[7]=nt,Bt[8]=at,Bt[9]=yt,Bt[10]=Jt,Bt[11]=Qe,Bt[12]=Ft,Bt[13]=it,Bt[14]=Mt,Bt[15]=lt,Bt}function h(f,V,x,ye,Te,ke,Ee,nt,at,yt,Jt,Qe,Ft,it,Mt,lt,Bt){return f[0]=V,f[1]=x,f[2]=ye,f[3]=Te,f[4]=ke,f[5]=Ee,f[6]=nt,f[7]=at,f[8]=yt,f[9]=Jt,f[10]=Qe,f[11]=Ft,f[12]=it,f[13]=Mt,f[14]=lt,f[15]=Bt,f}function U(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function F(f,V){if(f===V){var x=V[1],ye=V[2],Te=V[3],ke=V[6],Ee=V[7],nt=V[11];f[1]=V[4],f[2]=V[8],f[3]=V[12],f[4]=x,f[6]=V[9],f[7]=V[13],f[8]=ye,f[9]=ke,f[11]=V[14],f[12]=Te,f[13]=Ee,f[14]=nt}else f[0]=V[0],f[1]=V[4],f[2]=V[8],f[3]=V[12],f[4]=V[1],f[5]=V[5],f[6]=V[9],f[7]=V[13],f[8]=V[2],f[9]=V[6],f[10]=V[10],f[11]=V[14],f[12]=V[3],f[13]=V[7],f[14]=V[11],f[15]=V[15];return f}function k(f,V){var x=V[0],ye=V[1],Te=V[2],ke=V[3],Ee=V[4],nt=V[5],at=V[6],yt=V[7],Jt=V[8],Qe=V[9],Ft=V[10],it=V[11],Mt=V[12],lt=V[13],Bt=V[14],ct=V[15],Tt=x*nt-ye*Ee,rt=x*at-Te*Ee,Et=x*yt-ke*Ee,vn=ye*at-Te*nt,In=ye*yt-ke*nt,Un=Te*yt-ke*at,Jn=Jt*lt-Qe*Mt,Cr=Jt*Bt-Ft*Mt,wn=Jt*ct-it*Mt,cn=Qe*Bt-Ft*lt,Yt=Qe*ct-it*lt,Qt=Ft*ct-it*Bt,jn=Tt*Qt-rt*Yt+Et*cn+vn*wn-In*Cr+Un*Jn;return jn?(f[0]=(nt*Qt-at*Yt+yt*cn)*(jn=1/jn),f[1]=(Te*Yt-ye*Qt-ke*cn)*jn,f[2]=(lt*Un-Bt*In+ct*vn)*jn,f[3]=(Ft*In-Qe*Un-it*vn)*jn,f[4]=(at*wn-Ee*Qt-yt*Cr)*jn,f[5]=(x*Qt-Te*wn+ke*Cr)*jn,f[6]=(Bt*Et-Mt*Un-ct*rt)*jn,f[7]=(Jt*Un-Ft*Et+it*rt)*jn,f[8]=(Ee*Yt-nt*wn+yt*Jn)*jn,f[9]=(ye*wn-x*Yt-ke*Jn)*jn,f[10]=(Mt*In-lt*Et+ct*Tt)*jn,f[11]=(Qe*Et-Jt*In-it*Tt)*jn,f[12]=(nt*Cr-Ee*cn-at*Jn)*jn,f[13]=(x*cn-ye*Cr+Te*Jn)*jn,f[14]=(lt*rt-Mt*vn-Bt*Tt)*jn,f[15]=(Jt*vn-Qe*rt+Ft*Tt)*jn,f):null}function z(f,V){var x=V[0],ye=V[1],Te=V[2],ke=V[3],Ee=V[4],nt=V[5],at=V[6],yt=V[7],Jt=V[8],Qe=V[9],Ft=V[10],it=V[11],Mt=V[12],lt=V[13],Bt=V[14],ct=V[15];return f[0]=nt*(Ft*ct-it*Bt)-Qe*(at*ct-yt*Bt)+lt*(at*it-yt*Ft),f[1]=-(ye*(Ft*ct-it*Bt)-Qe*(Te*ct-ke*Bt)+lt*(Te*it-ke*Ft)),f[2]=ye*(at*ct-yt*Bt)-nt*(Te*ct-ke*Bt)+lt*(Te*yt-ke*at),f[3]=-(ye*(at*it-yt*Ft)-nt*(Te*it-ke*Ft)+Qe*(Te*yt-ke*at)),f[4]=-(Ee*(Ft*ct-it*Bt)-Jt*(at*ct-yt*Bt)+Mt*(at*it-yt*Ft)),f[5]=x*(Ft*ct-it*Bt)-Jt*(Te*ct-ke*Bt)+Mt*(Te*it-ke*Ft),f[6]=-(x*(at*ct-yt*Bt)-Ee*(Te*ct-ke*Bt)+Mt*(Te*yt-ke*at)),f[7]=x*(at*it-yt*Ft)-Ee*(Te*it-ke*Ft)+Jt*(Te*yt-ke*at),f[8]=Ee*(Qe*ct-it*lt)-Jt*(nt*ct-yt*lt)+Mt*(nt*it-yt*Qe),f[9]=-(x*(Qe*ct-it*lt)-Jt*(ye*ct-ke*lt)+Mt*(ye*it-ke*Qe)),f[10]=x*(nt*ct-yt*lt)-Ee*(ye*ct-ke*lt)+Mt*(ye*yt-ke*nt),f[11]=-(x*(nt*it-yt*Qe)-Ee*(ye*it-ke*Qe)+Jt*(ye*yt-ke*nt)),f[12]=-(Ee*(Qe*Bt-Ft*lt)-Jt*(nt*Bt-at*lt)+Mt*(nt*Ft-at*Qe)),f[13]=x*(Qe*Bt-Ft*lt)-Jt*(ye*Bt-Te*lt)+Mt*(ye*Ft-Te*Qe),f[14]=-(x*(nt*Bt-at*lt)-Ee*(ye*Bt-Te*lt)+Mt*(ye*at-Te*nt)),f[15]=x*(nt*Ft-at*Qe)-Ee*(ye*Ft-Te*Qe)+Jt*(ye*at-Te*nt),f}function B(f){var V=f[0],x=f[1],ye=f[2],Te=f[3],ke=f[4],Ee=f[5],nt=f[6],at=f[7],yt=f[8],Jt=f[9],Qe=f[10],Ft=f[11],it=f[12],Mt=f[13],lt=f[14],Bt=f[15];return(V*Ee-x*ke)*(Qe*Bt-Ft*lt)-(V*nt-ye*ke)*(Jt*Bt-Ft*Mt)+(V*at-Te*ke)*(Jt*lt-Qe*Mt)+(x*nt-ye*Ee)*(yt*Bt-Ft*it)-(x*at-Te*Ee)*(yt*lt-Qe*it)+(ye*at-Te*nt)*(yt*Mt-Jt*it)}function A(f,V,x){var ye=V[0],Te=V[1],ke=V[2],Ee=V[3],nt=V[4],at=V[5],yt=V[6],Jt=V[7],Qe=V[8],Ft=V[9],it=V[10],Mt=V[11],lt=V[12],Bt=V[13],ct=V[14],Tt=V[15],rt=x[0],Et=x[1],vn=x[2],In=x[3];return f[0]=rt*ye+Et*nt+vn*Qe+In*lt,f[1]=rt*Te+Et*at+vn*Ft+In*Bt,f[2]=rt*ke+Et*yt+vn*it+In*ct,f[3]=rt*Ee+Et*Jt+vn*Mt+In*Tt,f[4]=(rt=x[4])*ye+(Et=x[5])*nt+(vn=x[6])*Qe+(In=x[7])*lt,f[5]=rt*Te+Et*at+vn*Ft+In*Bt,f[6]=rt*ke+Et*yt+vn*it+In*ct,f[7]=rt*Ee+Et*Jt+vn*Mt+In*Tt,f[8]=(rt=x[8])*ye+(Et=x[9])*nt+(vn=x[10])*Qe+(In=x[11])*lt,f[9]=rt*Te+Et*at+vn*Ft+In*Bt,f[10]=rt*ke+Et*yt+vn*it+In*ct,f[11]=rt*Ee+Et*Jt+vn*Mt+In*Tt,f[12]=(rt=x[12])*ye+(Et=x[13])*nt+(vn=x[14])*Qe+(In=x[15])*lt,f[13]=rt*Te+Et*at+vn*Ft+In*Bt,f[14]=rt*ke+Et*yt+vn*it+In*ct,f[15]=rt*Ee+Et*Jt+vn*Mt+In*Tt,f}function T(f,V,x){var Ee,nt,at,yt,Jt,Qe,Ft,it,Mt,lt,Bt,ct,ye=x[0],Te=x[1],ke=x[2];return V===f?(f[12]=V[0]*ye+V[4]*Te+V[8]*ke+V[12],f[13]=V[1]*ye+V[5]*Te+V[9]*ke+V[13],f[14]=V[2]*ye+V[6]*Te+V[10]*ke+V[14],f[15]=V[3]*ye+V[7]*Te+V[11]*ke+V[15]):(nt=V[1],at=V[2],yt=V[3],Jt=V[4],Qe=V[5],Ft=V[6],it=V[7],Mt=V[8],lt=V[9],Bt=V[10],ct=V[11],f[0]=Ee=V[0],f[1]=nt,f[2]=at,f[3]=yt,f[4]=Jt,f[5]=Qe,f[6]=Ft,f[7]=it,f[8]=Mt,f[9]=lt,f[10]=Bt,f[11]=ct,f[12]=Ee*ye+Jt*Te+Mt*ke+V[12],f[13]=nt*ye+Qe*Te+lt*ke+V[13],f[14]=at*ye+Ft*Te+Bt*ke+V[14],f[15]=yt*ye+it*Te+ct*ke+V[15]),f}function b(f,V,x){var ye=x[0],Te=x[1],ke=x[2];return f[0]=V[0]*ye,f[1]=V[1]*ye,f[2]=V[2]*ye,f[3]=V[3]*ye,f[4]=V[4]*Te,f[5]=V[5]*Te,f[6]=V[6]*Te,f[7]=V[7]*Te,f[8]=V[8]*ke,f[9]=V[9]*ke,f[10]=V[10]*ke,f[11]=V[11]*ke,f[12]=V[12],f[13]=V[13],f[14]=V[14],f[15]=V[15],f}function J(f,V,x,ye){var at,yt,Jt,Qe,Ft,it,Mt,lt,Bt,ct,Tt,rt,Et,vn,In,Un,Jn,Cr,wn,cn,Yt,Qt,jn,Lt,Te=ye[0],ke=ye[1],Ee=ye[2],nt=Math.hypot(Te,ke,Ee);return nt<r.p8?null:(Te*=nt=1/nt,ke*=nt,Ee*=nt,at=Math.sin(x),yt=Math.cos(x),Ft=V[1],it=V[2],Mt=V[3],Bt=V[5],ct=V[6],Tt=V[7],Et=V[9],vn=V[10],In=V[11],wn=Te*ke*(Jt=1-yt)-Ee*at,cn=ke*ke*Jt+yt,Yt=Ee*ke*Jt+Te*at,Qt=Te*Ee*Jt+ke*at,jn=ke*Ee*Jt-Te*at,Lt=Ee*Ee*Jt+yt,f[0]=(Qe=V[0])*(Un=Te*Te*Jt+yt)+(lt=V[4])*(Jn=ke*Te*Jt+Ee*at)+(rt=V[8])*(Cr=Ee*Te*Jt-ke*at),f[1]=Ft*Un+Bt*Jn+Et*Cr,f[2]=it*Un+ct*Jn+vn*Cr,f[3]=Mt*Un+Tt*Jn+In*Cr,f[4]=Qe*wn+lt*cn+rt*Yt,f[5]=Ft*wn+Bt*cn+Et*Yt,f[6]=it*wn+ct*cn+vn*Yt,f[7]=Mt*wn+Tt*cn+In*Yt,f[8]=Qe*Qt+lt*jn+rt*Lt,f[9]=Ft*Qt+Bt*jn+Et*Lt,f[10]=it*Qt+ct*jn+vn*Lt,f[11]=Mt*Qt+Tt*jn+In*Lt,V!==f&&(f[12]=V[12],f[13]=V[13],f[14]=V[14],f[15]=V[15]),f)}function ce(f,V,x){var ye=Math.sin(x),Te=Math.cos(x),ke=V[4],Ee=V[5],nt=V[6],at=V[7],yt=V[8],Jt=V[9],Qe=V[10],Ft=V[11];return V!==f&&(f[0]=V[0],f[1]=V[1],f[2]=V[2],f[3]=V[3],f[12]=V[12],f[13]=V[13],f[14]=V[14],f[15]=V[15]),f[4]=ke*Te+yt*ye,f[5]=Ee*Te+Jt*ye,f[6]=nt*Te+Qe*ye,f[7]=at*Te+Ft*ye,f[8]=yt*Te-ke*ye,f[9]=Jt*Te-Ee*ye,f[10]=Qe*Te-nt*ye,f[11]=Ft*Te-at*ye,f}function W(f,V,x){var ye=Math.sin(x),Te=Math.cos(x),ke=V[0],Ee=V[1],nt=V[2],at=V[3],yt=V[8],Jt=V[9],Qe=V[10],Ft=V[11];return V!==f&&(f[4]=V[4],f[5]=V[5],f[6]=V[6],f[7]=V[7],f[12]=V[12],f[13]=V[13],f[14]=V[14],f[15]=V[15]),f[0]=ke*Te-yt*ye,f[1]=Ee*Te-Jt*ye,f[2]=nt*Te-Qe*ye,f[3]=at*Te-Ft*ye,f[8]=ke*ye+yt*Te,f[9]=Ee*ye+Jt*Te,f[10]=nt*ye+Qe*Te,f[11]=at*ye+Ft*Te,f}function se(f,V,x){var ye=Math.sin(x),Te=Math.cos(x),ke=V[0],Ee=V[1],nt=V[2],at=V[3],yt=V[4],Jt=V[5],Qe=V[6],Ft=V[7];return V!==f&&(f[8]=V[8],f[9]=V[9],f[10]=V[10],f[11]=V[11],f[12]=V[12],f[13]=V[13],f[14]=V[14],f[15]=V[15]),f[0]=ke*Te+yt*ye,f[1]=Ee*Te+Jt*ye,f[2]=nt*Te+Qe*ye,f[3]=at*Te+Ft*ye,f[4]=yt*Te-ke*ye,f[5]=Jt*Te-Ee*ye,f[6]=Qe*Te-nt*ye,f[7]=Ft*Te-at*ye,f}function Q(f,V){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=V[0],f[13]=V[1],f[14]=V[2],f[15]=1,f}function Ie(f,V){return f[0]=V[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=V[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=V[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function ae(f,V,x){var nt,at,yt,ye=x[0],Te=x[1],ke=x[2],Ee=Math.hypot(ye,Te,ke);return Ee<r.p8?null:(ye*=Ee=1/Ee,Te*=Ee,ke*=Ee,nt=Math.sin(V),at=Math.cos(V),f[0]=ye*ye*(yt=1-at)+at,f[1]=Te*ye*yt+ke*nt,f[2]=ke*ye*yt-Te*nt,f[3]=0,f[4]=ye*Te*yt-ke*nt,f[5]=Te*Te*yt+at,f[6]=ke*Te*yt+ye*nt,f[7]=0,f[8]=ye*ke*yt+Te*nt,f[9]=Te*ke*yt-ye*nt,f[10]=ke*ke*yt+at,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f)}function Me(f,V){var x=Math.sin(V),ye=Math.cos(V);return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=ye,f[6]=x,f[7]=0,f[8]=0,f[9]=-x,f[10]=ye,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function q(f,V){var x=Math.sin(V),ye=Math.cos(V);return f[0]=ye,f[1]=0,f[2]=-x,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=x,f[9]=0,f[10]=ye,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function $(f,V){var x=Math.sin(V),ye=Math.cos(V);return f[0]=ye,f[1]=x,f[2]=0,f[3]=0,f[4]=-x,f[5]=ye,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function ge(f,V,x){var ye=V[0],Te=V[1],ke=V[2],Ee=V[3],nt=ye+ye,at=Te+Te,yt=ke+ke,Jt=ye*nt,Qe=ye*at,Ft=ye*yt,it=Te*at,Mt=Te*yt,lt=ke*yt,Bt=Ee*nt,ct=Ee*at,Tt=Ee*yt;return f[0]=1-(it+lt),f[1]=Qe+Tt,f[2]=Ft-ct,f[3]=0,f[4]=Qe-Tt,f[5]=1-(Jt+lt),f[6]=Mt+Bt,f[7]=0,f[8]=Ft+ct,f[9]=Mt-Bt,f[10]=1-(Jt+it),f[11]=0,f[12]=x[0],f[13]=x[1],f[14]=x[2],f[15]=1,f}function K(f,V){var x=new r.tb(3),ye=-V[0],Te=-V[1],ke=-V[2],Ee=V[3],nt=V[4],at=V[5],yt=V[6],Jt=V[7],Qe=ye*ye+Te*Te+ke*ke+Ee*Ee;return Qe>0?(x[0]=2*(nt*Ee+Jt*ye+at*ke-yt*Te)/Qe,x[1]=2*(at*Ee+Jt*Te+yt*ye-nt*ke)/Qe,x[2]=2*(yt*Ee+Jt*ke+nt*Te-at*ye)/Qe):(x[0]=2*(nt*Ee+Jt*ye+at*ke-yt*Te),x[1]=2*(at*Ee+Jt*Te+yt*ye-nt*ke),x[2]=2*(yt*Ee+Jt*ke+nt*Te-at*ye)),ge(f,V,x),f}function Ne(f,V){return f[0]=V[12],f[1]=V[13],f[2]=V[14],f}function Ve(f,V){var ke=V[4],Ee=V[5],nt=V[6],at=V[8],yt=V[9],Jt=V[10];return f[0]=Math.hypot(V[0],V[1],V[2]),f[1]=Math.hypot(ke,Ee,nt),f[2]=Math.hypot(at,yt,Jt),f}function Ge(f,V){var x=new r.tb(3);Ve(x,V);var ye=1/x[0],Te=1/x[1],ke=1/x[2],Ee=V[0]*ye,nt=V[1]*Te,at=V[2]*ke,yt=V[4]*ye,Jt=V[5]*Te,Qe=V[6]*ke,Ft=V[8]*ye,it=V[9]*Te,Mt=V[10]*ke,lt=Ee+Jt+Mt,Bt=0;return lt>0?(Bt=2*Math.sqrt(lt+1),f[3]=.25*Bt,f[0]=(Qe-it)/Bt,f[1]=(Ft-at)/Bt,f[2]=(nt-yt)/Bt):Ee>Jt&&Ee>Mt?(Bt=2*Math.sqrt(1+Ee-Jt-Mt),f[3]=(Qe-it)/Bt,f[0]=.25*Bt,f[1]=(nt+yt)/Bt,f[2]=(Ft+at)/Bt):Jt>Mt?(Bt=2*Math.sqrt(1+Jt-Ee-Mt),f[3]=(Ft-at)/Bt,f[0]=(nt+yt)/Bt,f[1]=.25*Bt,f[2]=(Qe+it)/Bt):(Bt=2*Math.sqrt(1+Mt-Ee-Jt),f[3]=(nt-yt)/Bt,f[0]=(Ft+at)/Bt,f[1]=(Qe+it)/Bt,f[2]=.25*Bt),f}function gt(f,V,x,ye){var Te=V[0],ke=V[1],Ee=V[2],nt=V[3],at=Te+Te,yt=ke+ke,Jt=Ee+Ee,Qe=Te*at,Ft=Te*yt,it=Te*Jt,Mt=ke*yt,lt=ke*Jt,Bt=Ee*Jt,ct=nt*at,Tt=nt*yt,rt=nt*Jt,Et=ye[0],vn=ye[1],In=ye[2];return f[0]=(1-(Mt+Bt))*Et,f[1]=(Ft+rt)*Et,f[2]=(it-Tt)*Et,f[3]=0,f[4]=(Ft-rt)*vn,f[5]=(1-(Qe+Bt))*vn,f[6]=(lt+ct)*vn,f[7]=0,f[8]=(it+Tt)*In,f[9]=(lt-ct)*In,f[10]=(1-(Qe+Mt))*In,f[11]=0,f[12]=x[0],f[13]=x[1],f[14]=x[2],f[15]=1,f}function _t(f,V,x,ye,Te){var ke=V[0],Ee=V[1],nt=V[2],at=V[3],yt=ke+ke,Jt=Ee+Ee,Qe=nt+nt,Ft=ke*yt,it=ke*Jt,Mt=ke*Qe,lt=Ee*Jt,Bt=Ee*Qe,ct=nt*Qe,Tt=at*yt,rt=at*Jt,Et=at*Qe,vn=ye[0],In=ye[1],Un=ye[2],Jn=Te[0],Cr=Te[1],wn=Te[2],cn=(1-(lt+ct))*vn,Yt=(it+Et)*vn,Qt=(Mt-rt)*vn,jn=(it-Et)*In,Lt=(1-(Ft+ct))*In,Dn=(Bt+Tt)*In,Pn=(Mt+rt)*Un,Sn=(Bt-Tt)*Un,Tn=(1-(Ft+lt))*Un;return f[0]=cn,f[1]=Yt,f[2]=Qt,f[3]=0,f[4]=jn,f[5]=Lt,f[6]=Dn,f[7]=0,f[8]=Pn,f[9]=Sn,f[10]=Tn,f[11]=0,f[12]=x[0]+Jn-(cn*Jn+jn*Cr+Pn*wn),f[13]=x[1]+Cr-(Yt*Jn+Lt*Cr+Sn*wn),f[14]=x[2]+wn-(Qt*Jn+Dn*Cr+Tn*wn),f[15]=1,f}function zt(f,V){var x=V[0],ye=V[1],Te=V[2],ke=V[3],Ee=x+x,nt=ye+ye,at=Te+Te,yt=x*Ee,Jt=ye*Ee,Qe=ye*nt,Ft=Te*Ee,it=Te*nt,Mt=Te*at,lt=ke*Ee,Bt=ke*nt,ct=ke*at;return f[0]=1-Qe-Mt,f[1]=Jt+ct,f[2]=Ft-Bt,f[3]=0,f[4]=Jt-ct,f[5]=1-yt-Mt,f[6]=it+lt,f[7]=0,f[8]=Ft+Bt,f[9]=it-lt,f[10]=1-yt-Qe,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function Rn(f,V,x,ye,Te,ke,Ee){var nt=1/(x-V),at=1/(Te-ye),yt=1/(ke-Ee);return f[0]=2*ke*nt,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*ke*at,f[6]=0,f[7]=0,f[8]=(x+V)*nt,f[9]=(Te+ye)*at,f[10]=(Ee+ke)*yt,f[11]=-1,f[12]=0,f[13]=0,f[14]=Ee*ke*2*yt,f[15]=0,f}function Oe(f,V,x,ye,Te){var Ee,ke=1/Math.tan(V/2);return f[0]=ke/x,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=ke,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,null!=Te&&Te!==1/0?(f[10]=(Te+ye)*(Ee=1/(ye-Te)),f[14]=2*Te*ye*Ee):(f[10]=-1,f[14]=-2*ye),f}var De=Oe;function He(f,V,x,ye,Te){var Ee,ke=1/Math.tan(V/2);return f[0]=ke/x,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=ke,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,null!=Te&&Te!==1/0?(f[10]=Te*(Ee=1/(ye-Te)),f[14]=Te*ye*Ee):(f[10]=-1,f[14]=-ye),f}function We(f,V,x,ye){var Te=Math.tan(V.upDegrees*Math.PI/180),ke=Math.tan(V.downDegrees*Math.PI/180),Ee=Math.tan(V.leftDegrees*Math.PI/180),nt=Math.tan(V.rightDegrees*Math.PI/180),at=2/(Ee+nt),yt=2/(Te+ke);return f[0]=at,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=yt,f[6]=0,f[7]=0,f[8]=-(Ee-nt)*at*.5,f[9]=(Te-ke)*yt*.5,f[10]=ye/(x-ye),f[11]=-1,f[12]=0,f[13]=0,f[14]=ye*x/(x-ye),f[15]=0,f}function st(f,V,x,ye,Te,ke,Ee){var nt=1/(V-x),at=1/(ye-Te),yt=1/(ke-Ee);return f[0]=-2*nt,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*at,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*yt,f[11]=0,f[12]=(V+x)*nt,f[13]=(Te+ye)*at,f[14]=(Ee+ke)*yt,f[15]=1,f}var ft=st;function wt(f,V,x,ye,Te,ke,Ee){var nt=1/(V-x),at=1/(ye-Te),yt=1/(ke-Ee);return f[0]=-2*nt,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*at,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=yt,f[11]=0,f[12]=(V+x)*nt,f[13]=(Te+ye)*at,f[14]=ke*yt,f[15]=1,f}function kt(f,V,x,ye){var Te,ke,Ee,nt,at,yt,Jt,Qe,Ft,it,Mt=V[0],lt=V[1],Bt=V[2],ct=ye[0],Tt=ye[1],rt=ye[2],Et=x[0],vn=x[1],In=x[2];return Math.abs(Mt-Et)<r.p8&&Math.abs(lt-vn)<r.p8&&Math.abs(Bt-In)<r.p8?U(f):(Jt=Mt-Et,Qe=lt-vn,Ft=Bt-In,Te=Tt*(Ft*=it=1/Math.hypot(Jt,Qe,Ft))-rt*(Qe*=it),ke=rt*(Jt*=it)-ct*Ft,Ee=ct*Qe-Tt*Jt,(it=Math.hypot(Te,ke,Ee))?(Te*=it=1/it,ke*=it,Ee*=it):(Te=0,ke=0,Ee=0),nt=Qe*Ee-Ft*ke,at=Ft*Te-Jt*Ee,yt=Jt*ke-Qe*Te,(it=Math.hypot(nt,at,yt))?(nt*=it=1/it,at*=it,yt*=it):(nt=0,at=0,yt=0),f[0]=Te,f[1]=nt,f[2]=Jt,f[3]=0,f[4]=ke,f[5]=at,f[6]=Qe,f[7]=0,f[8]=Ee,f[9]=yt,f[10]=Ft,f[11]=0,f[12]=-(Te*Mt+ke*lt+Ee*Bt),f[13]=-(nt*Mt+at*lt+yt*Bt),f[14]=-(Jt*Mt+Qe*lt+Ft*Bt),f[15]=1,f)}function je(f,V,x,ye){var Te=V[0],ke=V[1],Ee=V[2],nt=ye[0],at=ye[1],yt=ye[2],Jt=Te-x[0],Qe=ke-x[1],Ft=Ee-x[2],it=Jt*Jt+Qe*Qe+Ft*Ft;it>0&&(Jt*=it=1/Math.sqrt(it),Qe*=it,Ft*=it);var Mt=at*Ft-yt*Qe,lt=yt*Jt-nt*Ft,Bt=nt*Qe-at*Jt;return(it=Mt*Mt+lt*lt+Bt*Bt)>0&&(Mt*=it=1/Math.sqrt(it),lt*=it,Bt*=it),f[0]=Mt,f[1]=lt,f[2]=Bt,f[3]=0,f[4]=Qe*Bt-Ft*lt,f[5]=Ft*Mt-Jt*Bt,f[6]=Jt*lt-Qe*Mt,f[7]=0,f[8]=Jt,f[9]=Qe,f[10]=Ft,f[11]=0,f[12]=Te,f[13]=ke,f[14]=Ee,f[15]=1,f}function Ce(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"}function ne(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])}function Re(f,V,x){return f[0]=V[0]+x[0],f[1]=V[1]+x[1],f[2]=V[2]+x[2],f[3]=V[3]+x[3],f[4]=V[4]+x[4],f[5]=V[5]+x[5],f[6]=V[6]+x[6],f[7]=V[7]+x[7],f[8]=V[8]+x[8],f[9]=V[9]+x[9],f[10]=V[10]+x[10],f[11]=V[11]+x[11],f[12]=V[12]+x[12],f[13]=V[13]+x[13],f[14]=V[14]+x[14],f[15]=V[15]+x[15],f}function te(f,V,x){return f[0]=V[0]-x[0],f[1]=V[1]-x[1],f[2]=V[2]-x[2],f[3]=V[3]-x[3],f[4]=V[4]-x[4],f[5]=V[5]-x[5],f[6]=V[6]-x[6],f[7]=V[7]-x[7],f[8]=V[8]-x[8],f[9]=V[9]-x[9],f[10]=V[10]-x[10],f[11]=V[11]-x[11],f[12]=V[12]-x[12],f[13]=V[13]-x[13],f[14]=V[14]-x[14],f[15]=V[15]-x[15],f}function y(f,V,x){return f[0]=V[0]*x,f[1]=V[1]*x,f[2]=V[2]*x,f[3]=V[3]*x,f[4]=V[4]*x,f[5]=V[5]*x,f[6]=V[6]*x,f[7]=V[7]*x,f[8]=V[8]*x,f[9]=V[9]*x,f[10]=V[10]*x,f[11]=V[11]*x,f[12]=V[12]*x,f[13]=V[13]*x,f[14]=V[14]*x,f[15]=V[15]*x,f}function M(f,V,x,ye){return f[0]=V[0]+x[0]*ye,f[1]=V[1]+x[1]*ye,f[2]=V[2]+x[2]*ye,f[3]=V[3]+x[3]*ye,f[4]=V[4]+x[4]*ye,f[5]=V[5]+x[5]*ye,f[6]=V[6]+x[6]*ye,f[7]=V[7]+x[7]*ye,f[8]=V[8]+x[8]*ye,f[9]=V[9]+x[9]*ye,f[10]=V[10]+x[10]*ye,f[11]=V[11]+x[11]*ye,f[12]=V[12]+x[12]*ye,f[13]=V[13]+x[13]*ye,f[14]=V[14]+x[14]*ye,f[15]=V[15]+x[15]*ye,f}function Y(f,V){return f[0]===V[0]&&f[1]===V[1]&&f[2]===V[2]&&f[3]===V[3]&&f[4]===V[4]&&f[5]===V[5]&&f[6]===V[6]&&f[7]===V[7]&&f[8]===V[8]&&f[9]===V[9]&&f[10]===V[10]&&f[11]===V[11]&&f[12]===V[12]&&f[13]===V[13]&&f[14]===V[14]&&f[15]===V[15]}function G(f,V){var x=f[0],ye=f[1],Te=f[2],ke=f[3],Ee=f[4],nt=f[5],at=f[6],yt=f[7],Jt=f[8],Qe=f[9],Ft=f[10],it=f[11],Mt=f[12],lt=f[13],Bt=f[14],ct=f[15],Tt=V[0],rt=V[1],Et=V[2],vn=V[3],In=V[4],Un=V[5],Jn=V[6],Cr=V[7],wn=V[8],cn=V[9],Yt=V[10],Qt=V[11],jn=V[12],Lt=V[13],Dn=V[14],Pn=V[15];return Math.abs(x-Tt)<=r.p8*Math.max(1,Math.abs(x),Math.abs(Tt))&&Math.abs(ye-rt)<=r.p8*Math.max(1,Math.abs(ye),Math.abs(rt))&&Math.abs(Te-Et)<=r.p8*Math.max(1,Math.abs(Te),Math.abs(Et))&&Math.abs(ke-vn)<=r.p8*Math.max(1,Math.abs(ke),Math.abs(vn))&&Math.abs(Ee-In)<=r.p8*Math.max(1,Math.abs(Ee),Math.abs(In))&&Math.abs(nt-Un)<=r.p8*Math.max(1,Math.abs(nt),Math.abs(Un))&&Math.abs(at-Jn)<=r.p8*Math.max(1,Math.abs(at),Math.abs(Jn))&&Math.abs(yt-Cr)<=r.p8*Math.max(1,Math.abs(yt),Math.abs(Cr))&&Math.abs(Jt-wn)<=r.p8*Math.max(1,Math.abs(Jt),Math.abs(wn))&&Math.abs(Qe-cn)<=r.p8*Math.max(1,Math.abs(Qe),Math.abs(cn))&&Math.abs(Ft-Yt)<=r.p8*Math.max(1,Math.abs(Ft),Math.abs(Yt))&&Math.abs(it-Qt)<=r.p8*Math.max(1,Math.abs(it),Math.abs(Qt))&&Math.abs(Mt-jn)<=r.p8*Math.max(1,Math.abs(Mt),Math.abs(jn))&&Math.abs(lt-Lt)<=r.p8*Math.max(1,Math.abs(lt),Math.abs(Lt))&&Math.abs(Bt-Dn)<=r.p8*Math.max(1,Math.abs(Bt),Math.abs(Dn))&&Math.abs(ct-Pn)<=r.p8*Math.max(1,Math.abs(ct),Math.abs(Pn))}var _e=A,Z=te},9556:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{add:()=>Ge,calculateW:()=>b,clone:()=>ge,conjugate:()=>ae,copy:()=>Ne,create:()=>D,dot:()=>zt,equals:()=>wt,exactEquals:()=>ft,exp:()=>J,fromEuler:()=>q,fromMat3:()=>Me,fromValues:()=>K,getAngle:()=>k,getAxisAngle:()=>F,identity:()=>h,invert:()=>Ie,len:()=>De,length:()=>Oe,lerp:()=>Rn,ln:()=>ce,mul:()=>gt,multiply:()=>z,normalize:()=>st,pow:()=>W,random:()=>Q,rotateX:()=>B,rotateY:()=>A,rotateZ:()=>T,rotationTo:()=>kt,scale:()=>_t,set:()=>Ve,setAxes:()=>Ce,setAxisAngle:()=>U,slerp:()=>se,sqlerp:()=>je,sqrLen:()=>We,squaredLength:()=>He,str:()=>$});var r=w(9818),m=w(7928),g=w(38472),C=w(34525);function D(){var ne=new r.tb(4);return r.tb!=Float32Array&&(ne[0]=0,ne[1]=0,ne[2]=0),ne[3]=1,ne}function h(ne){return ne[0]=0,ne[1]=0,ne[2]=0,ne[3]=1,ne}function U(ne,Re,te){te*=.5;var y=Math.sin(te);return ne[0]=y*Re[0],ne[1]=y*Re[1],ne[2]=y*Re[2],ne[3]=Math.cos(te),ne}function F(ne,Re){var te=2*Math.acos(Re[3]),y=Math.sin(te/2);return y>r.p8?(ne[0]=Re[0]/y,ne[1]=Re[1]/y,ne[2]=Re[2]/y):(ne[0]=1,ne[1]=0,ne[2]=0),te}function k(ne,Re){var te=zt(ne,Re);return Math.acos(2*te*te-1)}function z(ne,Re,te){var y=Re[0],M=Re[1],Y=Re[2],G=Re[3],_e=te[0],Z=te[1],f=te[2],V=te[3];return ne[0]=y*V+G*_e+M*f-Y*Z,ne[1]=M*V+G*Z+Y*_e-y*f,ne[2]=Y*V+G*f+y*Z-M*_e,ne[3]=G*V-y*_e-M*Z-Y*f,ne}function B(ne,Re,te){te*=.5;var y=Re[0],M=Re[1],Y=Re[2],G=Re[3],_e=Math.sin(te),Z=Math.cos(te);return ne[0]=y*Z+G*_e,ne[1]=M*Z+Y*_e,ne[2]=Y*Z-M*_e,ne[3]=G*Z-y*_e,ne}function A(ne,Re,te){te*=.5;var y=Re[0],M=Re[1],Y=Re[2],G=Re[3],_e=Math.sin(te),Z=Math.cos(te);return ne[0]=y*Z-Y*_e,ne[1]=M*Z+G*_e,ne[2]=Y*Z+y*_e,ne[3]=G*Z-M*_e,ne}function T(ne,Re,te){te*=.5;var y=Re[0],M=Re[1],Y=Re[2],G=Re[3],_e=Math.sin(te),Z=Math.cos(te);return ne[0]=y*Z+M*_e,ne[1]=M*Z-y*_e,ne[2]=Y*Z+G*_e,ne[3]=G*Z-Y*_e,ne}function b(ne,Re){var te=Re[0],y=Re[1],M=Re[2];return ne[0]=te,ne[1]=y,ne[2]=M,ne[3]=Math.sqrt(Math.abs(1-te*te-y*y-M*M)),ne}function J(ne,Re){var te=Re[0],y=Re[1],M=Re[2],Y=Re[3],G=Math.sqrt(te*te+y*y+M*M),_e=Math.exp(Y),Z=G>0?_e*Math.sin(G)/G:0;return ne[0]=te*Z,ne[1]=y*Z,ne[2]=M*Z,ne[3]=_e*Math.cos(G),ne}function ce(ne,Re){var te=Re[0],y=Re[1],M=Re[2],Y=Re[3],G=Math.sqrt(te*te+y*y+M*M),_e=G>0?Math.atan2(G,Y)/G:0;return ne[0]=te*_e,ne[1]=y*_e,ne[2]=M*_e,ne[3]=.5*Math.log(te*te+y*y+M*M+Y*Y),ne}function W(ne,Re,te){return ce(ne,Re),_t(ne,ne,te),J(ne,ne),ne}function se(ne,Re,te,y){var ye,Te,ke,Ee,nt,M=Re[0],Y=Re[1],G=Re[2],_e=Re[3],Z=te[0],f=te[1],V=te[2],x=te[3];return(Te=M*Z+Y*f+G*V+_e*x)<0&&(Te=-Te,Z=-Z,f=-f,V=-V,x=-x),1-Te>r.p8?(ye=Math.acos(Te),ke=Math.sin(ye),Ee=Math.sin((1-y)*ye)/ke,nt=Math.sin(y*ye)/ke):(Ee=1-y,nt=y),ne[0]=Ee*M+nt*Z,ne[1]=Ee*Y+nt*f,ne[2]=Ee*G+nt*V,ne[3]=Ee*_e+nt*x,ne}function Q(ne){var Re=r.Ov(),te=r.Ov(),y=r.Ov(),M=Math.sqrt(1-Re),Y=Math.sqrt(Re);return ne[0]=M*Math.sin(2*Math.PI*te),ne[1]=M*Math.cos(2*Math.PI*te),ne[2]=Y*Math.sin(2*Math.PI*y),ne[3]=Y*Math.cos(2*Math.PI*y),ne}function Ie(ne,Re){var te=Re[0],y=Re[1],M=Re[2],Y=Re[3],G=te*te+y*y+M*M+Y*Y,_e=G?1/G:0;return ne[0]=-te*_e,ne[1]=-y*_e,ne[2]=-M*_e,ne[3]=Y*_e,ne}function ae(ne,Re){return ne[0]=-Re[0],ne[1]=-Re[1],ne[2]=-Re[2],ne[3]=Re[3],ne}function Me(ne,Re){var y,te=Re[0]+Re[4]+Re[8];if(te>0)y=Math.sqrt(te+1),ne[3]=.5*y,ne[0]=(Re[5]-Re[7])*(y=.5/y),ne[1]=(Re[6]-Re[2])*y,ne[2]=(Re[1]-Re[3])*y;else{var M=0;Re[4]>Re[0]&&(M=1),Re[8]>Re[3*M+M]&&(M=2);var Y=(M+1)%3,G=(M+2)%3;y=Math.sqrt(Re[3*M+M]-Re[3*Y+Y]-Re[3*G+G]+1),ne[M]=.5*y,ne[3]=(Re[3*Y+G]-Re[3*G+Y])*(y=.5/y),ne[Y]=(Re[3*Y+M]+Re[3*M+Y])*y,ne[G]=(Re[3*G+M]+Re[3*M+G])*y}return ne}function q(ne,Re,te,y){var M=.5*Math.PI/180;Re*=M,te*=M,y*=M;var Y=Math.sin(Re),G=Math.cos(Re),_e=Math.sin(te),Z=Math.cos(te),f=Math.sin(y),V=Math.cos(y);return ne[0]=Y*Z*V-G*_e*f,ne[1]=G*_e*V+Y*Z*f,ne[2]=G*Z*f-Y*_e*V,ne[3]=G*Z*V+Y*_e*f,ne}function $(ne){return"quat("+ne[0]+", "+ne[1]+", "+ne[2]+", "+ne[3]+")"}var ne,Re,te,ge=C.clone,K=C.fromValues,Ne=C.copy,Ve=C.set,Ge=C.add,gt=z,_t=C.scale,zt=C.dot,Rn=C.lerp,Oe=C.length,De=Oe,He=C.squaredLength,We=He,st=C.normalize,ft=C.exactEquals,wt=C.equals,kt=(ne=g.create(),Re=g.fromValues(1,0,0),te=g.fromValues(0,1,0),function(y,M,Y){var G=g.dot(M,Y);return G<-.999999?(g.cross(ne,Re,M),g.len(ne)<1e-6&&g.cross(ne,te,M),g.normalize(ne,ne),U(y,ne,Math.PI),y):G>.999999?(y[0]=0,y[1]=0,y[2]=0,y[3]=1,y):(g.cross(ne,M,Y),y[0]=ne[0],y[1]=ne[1],y[2]=ne[2],y[3]=1+G,st(y,y))}),je=function(){var ne=D(),Re=D();return function(te,y,M,Y,G,_e){return se(ne,y,G,_e),se(Re,M,Y,_e),se(te,ne,Re,2*_e*(1-_e)),te}}(),Ce=function(){var ne=m.create();return function(Re,te,y,M){return ne[0]=y[0],ne[3]=y[1],ne[6]=y[2],ne[1]=M[0],ne[4]=M[1],ne[7]=M[2],ne[2]=-te[0],ne[5]=-te[1],ne[8]=-te[2],st(Re,Me(Re,ne))}}()},30559:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{add:()=>U,angle:()=>Oe,ceil:()=>B,clone:()=>g,copy:()=>D,create:()=>m,cross:()=>K,dist:()=>Ce,distance:()=>se,div:()=>je,divide:()=>z,dot:()=>ge,equals:()=>st,exactEquals:()=>We,floor:()=>A,forEach:()=>te,fromValues:()=>C,inverse:()=>q,len:()=>ft,length:()=>Ie,lerp:()=>Ne,max:()=>b,min:()=>T,mul:()=>kt,multiply:()=>k,negate:()=>Me,normalize:()=>$,random:()=>Ve,rotate:()=>Rn,round:()=>J,scale:()=>ce,scaleAndAdd:()=>W,set:()=>h,sqrDist:()=>ne,sqrLen:()=>Re,squaredDistance:()=>Q,squaredLength:()=>ae,str:()=>He,sub:()=>wt,subtract:()=>F,transformMat2:()=>Ge,transformMat2d:()=>gt,transformMat3:()=>_t,transformMat4:()=>zt,zero:()=>De});var r=w(9818);function m(){var y=new r.tb(2);return r.tb!=Float32Array&&(y[0]=0,y[1]=0),y}function g(y){var M=new r.tb(2);return M[0]=y[0],M[1]=y[1],M}function C(y,M){var Y=new r.tb(2);return Y[0]=y,Y[1]=M,Y}function D(y,M){return y[0]=M[0],y[1]=M[1],y}function h(y,M,Y){return y[0]=M,y[1]=Y,y}function U(y,M,Y){return y[0]=M[0]+Y[0],y[1]=M[1]+Y[1],y}function F(y,M,Y){return y[0]=M[0]-Y[0],y[1]=M[1]-Y[1],y}function k(y,M,Y){return y[0]=M[0]*Y[0],y[1]=M[1]*Y[1],y}function z(y,M,Y){return y[0]=M[0]/Y[0],y[1]=M[1]/Y[1],y}function B(y,M){return y[0]=Math.ceil(M[0]),y[1]=Math.ceil(M[1]),y}function A(y,M){return y[0]=Math.floor(M[0]),y[1]=Math.floor(M[1]),y}function T(y,M,Y){return y[0]=Math.min(M[0],Y[0]),y[1]=Math.min(M[1],Y[1]),y}function b(y,M,Y){return y[0]=Math.max(M[0],Y[0]),y[1]=Math.max(M[1],Y[1]),y}function J(y,M){return y[0]=Math.round(M[0]),y[1]=Math.round(M[1]),y}function ce(y,M,Y){return y[0]=M[0]*Y,y[1]=M[1]*Y,y}function W(y,M,Y,G){return y[0]=M[0]+Y[0]*G,y[1]=M[1]+Y[1]*G,y}function se(y,M){return Math.hypot(M[0]-y[0],M[1]-y[1])}function Q(y,M){var Y=M[0]-y[0],G=M[1]-y[1];return Y*Y+G*G}function Ie(y){return Math.hypot(y[0],y[1])}function ae(y){var M=y[0],Y=y[1];return M*M+Y*Y}function Me(y,M){return y[0]=-M[0],y[1]=-M[1],y}function q(y,M){return y[0]=1/M[0],y[1]=1/M[1],y}function $(y,M){var Y=M[0],G=M[1],_e=Y*Y+G*G;return _e>0&&(_e=1/Math.sqrt(_e)),y[0]=M[0]*_e,y[1]=M[1]*_e,y}function ge(y,M){return y[0]*M[0]+y[1]*M[1]}function K(y,M,Y){var G=M[0]*Y[1]-M[1]*Y[0];return y[0]=y[1]=0,y[2]=G,y}function Ne(y,M,Y,G){var _e=M[0],Z=M[1];return y[0]=_e+G*(Y[0]-_e),y[1]=Z+G*(Y[1]-Z),y}function Ve(y,M){M=M||1;var Y=2*r.Ov()*Math.PI;return y[0]=Math.cos(Y)*M,y[1]=Math.sin(Y)*M,y}function Ge(y,M,Y){var G=M[0],_e=M[1];return y[0]=Y[0]*G+Y[2]*_e,y[1]=Y[1]*G+Y[3]*_e,y}function gt(y,M,Y){var G=M[0],_e=M[1];return y[0]=Y[0]*G+Y[2]*_e+Y[4],y[1]=Y[1]*G+Y[3]*_e+Y[5],y}function _t(y,M,Y){var G=M[0],_e=M[1];return y[0]=Y[0]*G+Y[3]*_e+Y[6],y[1]=Y[1]*G+Y[4]*_e+Y[7],y}function zt(y,M,Y){var G=M[0],_e=M[1];return y[0]=Y[0]*G+Y[4]*_e+Y[12],y[1]=Y[1]*G+Y[5]*_e+Y[13],y}function Rn(y,M,Y,G){var _e=M[0]-Y[0],Z=M[1]-Y[1],f=Math.sin(G),V=Math.cos(G);return y[0]=_e*V-Z*f+Y[0],y[1]=_e*f+Z*V+Y[1],y}function Oe(y,M){var Y=y[0],G=y[1],_e=M[0],Z=M[1],f=Math.sqrt(Y*Y+G*G)*Math.sqrt(_e*_e+Z*Z);return Math.acos(Math.min(Math.max(f&&(Y*_e+G*Z)/f,-1),1))}function De(y){return y[0]=0,y[1]=0,y}function He(y){return"vec2("+y[0]+", "+y[1]+")"}function We(y,M){return y[0]===M[0]&&y[1]===M[1]}function st(y,M){var Y=y[0],G=y[1],_e=M[0],Z=M[1];return Math.abs(Y-_e)<=r.p8*Math.max(1,Math.abs(Y),Math.abs(_e))&&Math.abs(G-Z)<=r.p8*Math.max(1,Math.abs(G),Math.abs(Z))}var y,ft=Ie,wt=F,kt=k,je=z,Ce=se,ne=Q,Re=ae,te=(y=m(),function(M,Y,G,_e,Z,f){var V,x;for(Y||(Y=2),G||(G=0),x=_e?Math.min(_e*Y+G,M.length):M.length,V=G;V<x;V+=Y)y[0]=M[V],y[1]=M[V+1],Z(y,y,f),M[V]=y[0],M[V+1]=y[1];return M})},38472:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{add:()=>F,angle:()=>We,bezier:()=>Ge,ceil:()=>A,clone:()=>g,copy:()=>h,create:()=>m,cross:()=>K,dist:()=>Re,distance:()=>Q,div:()=>ne,divide:()=>B,dot:()=>ge,equals:()=>kt,exactEquals:()=>wt,floor:()=>T,forEach:()=>Y,fromValues:()=>D,hermite:()=>Ve,inverse:()=>q,len:()=>y,length:()=>C,lerp:()=>Ne,max:()=>J,min:()=>b,mul:()=>Ce,multiply:()=>z,negate:()=>Me,normalize:()=>$,random:()=>gt,rotateX:()=>Oe,rotateY:()=>De,rotateZ:()=>He,round:()=>ce,scale:()=>W,scaleAndAdd:()=>se,set:()=>U,sqrDist:()=>te,sqrLen:()=>M,squaredDistance:()=>Ie,squaredLength:()=>ae,str:()=>ft,sub:()=>je,subtract:()=>k,transformMat3:()=>zt,transformMat4:()=>_t,transformQuat:()=>Rn,zero:()=>st});var r=w(9818);function m(){var G=new r.tb(3);return r.tb!=Float32Array&&(G[0]=0,G[1]=0,G[2]=0),G}function g(G){var _e=new r.tb(3);return _e[0]=G[0],_e[1]=G[1],_e[2]=G[2],_e}function C(G){return Math.hypot(G[0],G[1],G[2])}function D(G,_e,Z){var f=new r.tb(3);return f[0]=G,f[1]=_e,f[2]=Z,f}function h(G,_e){return G[0]=_e[0],G[1]=_e[1],G[2]=_e[2],G}function U(G,_e,Z,f){return G[0]=_e,G[1]=Z,G[2]=f,G}function F(G,_e,Z){return G[0]=_e[0]+Z[0],G[1]=_e[1]+Z[1],G[2]=_e[2]+Z[2],G}function k(G,_e,Z){return G[0]=_e[0]-Z[0],G[1]=_e[1]-Z[1],G[2]=_e[2]-Z[2],G}function z(G,_e,Z){return G[0]=_e[0]*Z[0],G[1]=_e[1]*Z[1],G[2]=_e[2]*Z[2],G}function B(G,_e,Z){return G[0]=_e[0]/Z[0],G[1]=_e[1]/Z[1],G[2]=_e[2]/Z[2],G}function A(G,_e){return G[0]=Math.ceil(_e[0]),G[1]=Math.ceil(_e[1]),G[2]=Math.ceil(_e[2]),G}function T(G,_e){return G[0]=Math.floor(_e[0]),G[1]=Math.floor(_e[1]),G[2]=Math.floor(_e[2]),G}function b(G,_e,Z){return G[0]=Math.min(_e[0],Z[0]),G[1]=Math.min(_e[1],Z[1]),G[2]=Math.min(_e[2],Z[2]),G}function J(G,_e,Z){return G[0]=Math.max(_e[0],Z[0]),G[1]=Math.max(_e[1],Z[1]),G[2]=Math.max(_e[2],Z[2]),G}function ce(G,_e){return G[0]=Math.round(_e[0]),G[1]=Math.round(_e[1]),G[2]=Math.round(_e[2]),G}function W(G,_e,Z){return G[0]=_e[0]*Z,G[1]=_e[1]*Z,G[2]=_e[2]*Z,G}function se(G,_e,Z,f){return G[0]=_e[0]+Z[0]*f,G[1]=_e[1]+Z[1]*f,G[2]=_e[2]+Z[2]*f,G}function Q(G,_e){return Math.hypot(_e[0]-G[0],_e[1]-G[1],_e[2]-G[2])}function Ie(G,_e){var Z=_e[0]-G[0],f=_e[1]-G[1],V=_e[2]-G[2];return Z*Z+f*f+V*V}function ae(G){var _e=G[0],Z=G[1],f=G[2];return _e*_e+Z*Z+f*f}function Me(G,_e){return G[0]=-_e[0],G[1]=-_e[1],G[2]=-_e[2],G}function q(G,_e){return G[0]=1/_e[0],G[1]=1/_e[1],G[2]=1/_e[2],G}function $(G,_e){var Z=_e[0],f=_e[1],V=_e[2],x=Z*Z+f*f+V*V;return x>0&&(x=1/Math.sqrt(x)),G[0]=_e[0]*x,G[1]=_e[1]*x,G[2]=_e[2]*x,G}function ge(G,_e){return G[0]*_e[0]+G[1]*_e[1]+G[2]*_e[2]}function K(G,_e,Z){var f=_e[0],V=_e[1],x=_e[2],ye=Z[0],Te=Z[1],ke=Z[2];return G[0]=V*ke-x*Te,G[1]=x*ye-f*ke,G[2]=f*Te-V*ye,G}function Ne(G,_e,Z,f){var V=_e[0],x=_e[1],ye=_e[2];return G[0]=V+f*(Z[0]-V),G[1]=x+f*(Z[1]-x),G[2]=ye+f*(Z[2]-ye),G}function Ve(G,_e,Z,f,V,x){var ye=x*x,Te=ye*(2*x-3)+1,ke=ye*(x-2)+x,Ee=ye*(x-1),nt=ye*(3-2*x);return G[0]=_e[0]*Te+Z[0]*ke+f[0]*Ee+V[0]*nt,G[1]=_e[1]*Te+Z[1]*ke+f[1]*Ee+V[1]*nt,G[2]=_e[2]*Te+Z[2]*ke+f[2]*Ee+V[2]*nt,G}function Ge(G,_e,Z,f,V,x){var ye=1-x,Te=ye*ye,ke=x*x,Ee=Te*ye,nt=3*x*Te,at=3*ke*ye,yt=ke*x;return G[0]=_e[0]*Ee+Z[0]*nt+f[0]*at+V[0]*yt,G[1]=_e[1]*Ee+Z[1]*nt+f[1]*at+V[1]*yt,G[2]=_e[2]*Ee+Z[2]*nt+f[2]*at+V[2]*yt,G}function gt(G,_e){_e=_e||1;var Z=2*r.Ov()*Math.PI,f=2*r.Ov()-1,V=Math.sqrt(1-f*f)*_e;return G[0]=Math.cos(Z)*V,G[1]=Math.sin(Z)*V,G[2]=f*_e,G}function _t(G,_e,Z){var f=_e[0],V=_e[1],x=_e[2],ye=Z[3]*f+Z[7]*V+Z[11]*x+Z[15];return G[0]=(Z[0]*f+Z[4]*V+Z[8]*x+Z[12])/(ye=ye||1),G[1]=(Z[1]*f+Z[5]*V+Z[9]*x+Z[13])/ye,G[2]=(Z[2]*f+Z[6]*V+Z[10]*x+Z[14])/ye,G}function zt(G,_e,Z){var f=_e[0],V=_e[1],x=_e[2];return G[0]=f*Z[0]+V*Z[3]+x*Z[6],G[1]=f*Z[1]+V*Z[4]+x*Z[7],G[2]=f*Z[2]+V*Z[5]+x*Z[8],G}function Rn(G,_e,Z){var f=Z[0],V=Z[1],x=Z[2],Te=_e[0],ke=_e[1],Ee=_e[2],nt=V*Ee-x*ke,at=x*Te-f*Ee,yt=f*ke-V*Te,Jt=V*yt-x*at,Qe=x*nt-f*yt,Ft=f*at-V*nt,it=2*Z[3];return at*=it,yt*=it,Qe*=2,Ft*=2,G[0]=Te+(nt*=it)+(Jt*=2),G[1]=ke+at+Qe,G[2]=Ee+yt+Ft,G}function Oe(G,_e,Z,f){var V=[],x=[];return V[0]=_e[0]-Z[0],V[1]=_e[1]-Z[1],V[2]=_e[2]-Z[2],x[0]=V[0],x[1]=V[1]*Math.cos(f)-V[2]*Math.sin(f),x[2]=V[1]*Math.sin(f)+V[2]*Math.cos(f),G[0]=x[0]+Z[0],G[1]=x[1]+Z[1],G[2]=x[2]+Z[2],G}function De(G,_e,Z,f){var V=[],x=[];return V[0]=_e[0]-Z[0],V[1]=_e[1]-Z[1],V[2]=_e[2]-Z[2],x[0]=V[2]*Math.sin(f)+V[0]*Math.cos(f),x[1]=V[1],x[2]=V[2]*Math.cos(f)-V[0]*Math.sin(f),G[0]=x[0]+Z[0],G[1]=x[1]+Z[1],G[2]=x[2]+Z[2],G}function He(G,_e,Z,f){var V=[],x=[];return V[0]=_e[0]-Z[0],V[1]=_e[1]-Z[1],V[2]=_e[2]-Z[2],x[0]=V[0]*Math.cos(f)-V[1]*Math.sin(f),x[1]=V[0]*Math.sin(f)+V[1]*Math.cos(f),x[2]=V[2],G[0]=x[0]+Z[0],G[1]=x[1]+Z[1],G[2]=x[2]+Z[2],G}function We(G,_e){var Z=G[0],f=G[1],V=G[2],x=_e[0],ye=_e[1],Te=_e[2],nt=Math.sqrt(Z*Z+f*f+V*V)*Math.sqrt(x*x+ye*ye+Te*Te),at=nt&&ge(G,_e)/nt;return Math.acos(Math.min(Math.max(at,-1),1))}function st(G){return G[0]=0,G[1]=0,G[2]=0,G}function ft(G){return"vec3("+G[0]+", "+G[1]+", "+G[2]+")"}function wt(G,_e){return G[0]===_e[0]&&G[1]===_e[1]&&G[2]===_e[2]}function kt(G,_e){var Z=G[0],f=G[1],V=G[2],x=_e[0],ye=_e[1],Te=_e[2];return Math.abs(Z-x)<=r.p8*Math.max(1,Math.abs(Z),Math.abs(x))&&Math.abs(f-ye)<=r.p8*Math.max(1,Math.abs(f),Math.abs(ye))&&Math.abs(V-Te)<=r.p8*Math.max(1,Math.abs(V),Math.abs(Te))}var G,je=k,Ce=z,ne=B,Re=Q,te=Ie,y=C,M=ae,Y=(G=m(),function(_e,Z,f,V,x,ye){var Te,ke;for(Z||(Z=3),f||(f=0),ke=V?Math.min(V*Z+f,_e.length):_e.length,Te=f;Te<ke;Te+=Z)G[0]=_e[Te],G[1]=_e[Te+1],G[2]=_e[Te+2],x(G,G,ye),_e[Te]=G[0],_e[Te+1]=G[1],_e[Te+2]=G[2];return _e})},34525:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{add:()=>U,ceil:()=>B,clone:()=>g,copy:()=>D,create:()=>m,cross:()=>K,dist:()=>st,distance:()=>se,div:()=>We,divide:()=>z,dot:()=>ge,equals:()=>Oe,exactEquals:()=>Rn,floor:()=>A,forEach:()=>je,fromValues:()=>C,inverse:()=>q,len:()=>wt,length:()=>Ie,lerp:()=>Ne,max:()=>b,min:()=>T,mul:()=>He,multiply:()=>k,negate:()=>Me,normalize:()=>$,random:()=>Ve,round:()=>J,scale:()=>ce,scaleAndAdd:()=>W,set:()=>h,sqrDist:()=>ft,sqrLen:()=>kt,squaredDistance:()=>Q,squaredLength:()=>ae,str:()=>zt,sub:()=>De,subtract:()=>F,transformMat4:()=>Ge,transformQuat:()=>gt,zero:()=>_t});var r=w(9818);function m(){var Ce=new r.tb(4);return r.tb!=Float32Array&&(Ce[0]=0,Ce[1]=0,Ce[2]=0,Ce[3]=0),Ce}function g(Ce){var ne=new r.tb(4);return ne[0]=Ce[0],ne[1]=Ce[1],ne[2]=Ce[2],ne[3]=Ce[3],ne}function C(Ce,ne,Re,te){var y=new r.tb(4);return y[0]=Ce,y[1]=ne,y[2]=Re,y[3]=te,y}function D(Ce,ne){return Ce[0]=ne[0],Ce[1]=ne[1],Ce[2]=ne[2],Ce[3]=ne[3],Ce}function h(Ce,ne,Re,te,y){return Ce[0]=ne,Ce[1]=Re,Ce[2]=te,Ce[3]=y,Ce}function U(Ce,ne,Re){return Ce[0]=ne[0]+Re[0],Ce[1]=ne[1]+Re[1],Ce[2]=ne[2]+Re[2],Ce[3]=ne[3]+Re[3],Ce}function F(Ce,ne,Re){return Ce[0]=ne[0]-Re[0],Ce[1]=ne[1]-Re[1],Ce[2]=ne[2]-Re[2],Ce[3]=ne[3]-Re[3],Ce}function k(Ce,ne,Re){return Ce[0]=ne[0]*Re[0],Ce[1]=ne[1]*Re[1],Ce[2]=ne[2]*Re[2],Ce[3]=ne[3]*Re[3],Ce}function z(Ce,ne,Re){return Ce[0]=ne[0]/Re[0],Ce[1]=ne[1]/Re[1],Ce[2]=ne[2]/Re[2],Ce[3]=ne[3]/Re[3],Ce}function B(Ce,ne){return Ce[0]=Math.ceil(ne[0]),Ce[1]=Math.ceil(ne[1]),Ce[2]=Math.ceil(ne[2]),Ce[3]=Math.ceil(ne[3]),Ce}function A(Ce,ne){return Ce[0]=Math.floor(ne[0]),Ce[1]=Math.floor(ne[1]),Ce[2]=Math.floor(ne[2]),Ce[3]=Math.floor(ne[3]),Ce}function T(Ce,ne,Re){return Ce[0]=Math.min(ne[0],Re[0]),Ce[1]=Math.min(ne[1],Re[1]),Ce[2]=Math.min(ne[2],Re[2]),Ce[3]=Math.min(ne[3],Re[3]),Ce}function b(Ce,ne,Re){return Ce[0]=Math.max(ne[0],Re[0]),Ce[1]=Math.max(ne[1],Re[1]),Ce[2]=Math.max(ne[2],Re[2]),Ce[3]=Math.max(ne[3],Re[3]),Ce}function J(Ce,ne){return Ce[0]=Math.round(ne[0]),Ce[1]=Math.round(ne[1]),Ce[2]=Math.round(ne[2]),Ce[3]=Math.round(ne[3]),Ce}function ce(Ce,ne,Re){return Ce[0]=ne[0]*Re,Ce[1]=ne[1]*Re,Ce[2]=ne[2]*Re,Ce[3]=ne[3]*Re,Ce}function W(Ce,ne,Re,te){return Ce[0]=ne[0]+Re[0]*te,Ce[1]=ne[1]+Re[1]*te,Ce[2]=ne[2]+Re[2]*te,Ce[3]=ne[3]+Re[3]*te,Ce}function se(Ce,ne){return Math.hypot(ne[0]-Ce[0],ne[1]-Ce[1],ne[2]-Ce[2],ne[3]-Ce[3])}function Q(Ce,ne){var Re=ne[0]-Ce[0],te=ne[1]-Ce[1],y=ne[2]-Ce[2],M=ne[3]-Ce[3];return Re*Re+te*te+y*y+M*M}function Ie(Ce){return Math.hypot(Ce[0],Ce[1],Ce[2],Ce[3])}function ae(Ce){var ne=Ce[0],Re=Ce[1],te=Ce[2],y=Ce[3];return ne*ne+Re*Re+te*te+y*y}function Me(Ce,ne){return Ce[0]=-ne[0],Ce[1]=-ne[1],Ce[2]=-ne[2],Ce[3]=-ne[3],Ce}function q(Ce,ne){return Ce[0]=1/ne[0],Ce[1]=1/ne[1],Ce[2]=1/ne[2],Ce[3]=1/ne[3],Ce}function $(Ce,ne){var Re=ne[0],te=ne[1],y=ne[2],M=ne[3],Y=Re*Re+te*te+y*y+M*M;return Y>0&&(Y=1/Math.sqrt(Y)),Ce[0]=Re*Y,Ce[1]=te*Y,Ce[2]=y*Y,Ce[3]=M*Y,Ce}function ge(Ce,ne){return Ce[0]*ne[0]+Ce[1]*ne[1]+Ce[2]*ne[2]+Ce[3]*ne[3]}function K(Ce,ne,Re,te){var y=Re[0]*te[1]-Re[1]*te[0],M=Re[0]*te[2]-Re[2]*te[0],Y=Re[0]*te[3]-Re[3]*te[0],G=Re[1]*te[2]-Re[2]*te[1],_e=Re[1]*te[3]-Re[3]*te[1],Z=Re[2]*te[3]-Re[3]*te[2],f=ne[0],V=ne[1],x=ne[2],ye=ne[3];return Ce[0]=V*Z-x*_e+ye*G,Ce[1]=-f*Z+x*Y-ye*M,Ce[2]=f*_e-V*Y+ye*y,Ce[3]=-f*G+V*M-x*y,Ce}function Ne(Ce,ne,Re,te){var y=ne[0],M=ne[1],Y=ne[2],G=ne[3];return Ce[0]=y+te*(Re[0]-y),Ce[1]=M+te*(Re[1]-M),Ce[2]=Y+te*(Re[2]-Y),Ce[3]=G+te*(Re[3]-G),Ce}function Ve(Ce,ne){var Re,te,y,M,Y,G;ne=ne||1;do{Y=(Re=2*r.Ov()-1)*Re+(te=2*r.Ov()-1)*te}while(Y>=1);do{G=(y=2*r.Ov()-1)*y+(M=2*r.Ov()-1)*M}while(G>=1);var _e=Math.sqrt((1-Y)/G);return Ce[0]=ne*Re,Ce[1]=ne*te,Ce[2]=ne*y*_e,Ce[3]=ne*M*_e,Ce}function Ge(Ce,ne,Re){var te=ne[0],y=ne[1],M=ne[2],Y=ne[3];return Ce[0]=Re[0]*te+Re[4]*y+Re[8]*M+Re[12]*Y,Ce[1]=Re[1]*te+Re[5]*y+Re[9]*M+Re[13]*Y,Ce[2]=Re[2]*te+Re[6]*y+Re[10]*M+Re[14]*Y,Ce[3]=Re[3]*te+Re[7]*y+Re[11]*M+Re[15]*Y,Ce}function gt(Ce,ne,Re){var te=ne[0],y=ne[1],M=ne[2],Y=Re[0],G=Re[1],_e=Re[2],Z=Re[3],f=Z*te+G*M-_e*y,V=Z*y+_e*te-Y*M,x=Z*M+Y*y-G*te,ye=-Y*te-G*y-_e*M;return Ce[0]=f*Z+ye*-Y+V*-_e-x*-G,Ce[1]=V*Z+ye*-G+x*-Y-f*-_e,Ce[2]=x*Z+ye*-_e+f*-G-V*-Y,Ce[3]=ne[3],Ce}function _t(Ce){return Ce[0]=0,Ce[1]=0,Ce[2]=0,Ce[3]=0,Ce}function zt(Ce){return"vec4("+Ce[0]+", "+Ce[1]+", "+Ce[2]+", "+Ce[3]+")"}function Rn(Ce,ne){return Ce[0]===ne[0]&&Ce[1]===ne[1]&&Ce[2]===ne[2]&&Ce[3]===ne[3]}function Oe(Ce,ne){var Re=Ce[0],te=Ce[1],y=Ce[2],M=Ce[3],Y=ne[0],G=ne[1],_e=ne[2],Z=ne[3];return Math.abs(Re-Y)<=r.p8*Math.max(1,Math.abs(Re),Math.abs(Y))&&Math.abs(te-G)<=r.p8*Math.max(1,Math.abs(te),Math.abs(G))&&Math.abs(y-_e)<=r.p8*Math.max(1,Math.abs(y),Math.abs(_e))&&Math.abs(M-Z)<=r.p8*Math.max(1,Math.abs(M),Math.abs(Z))}var Ce,De=F,He=k,We=z,st=se,ft=Q,wt=Ie,kt=ae,je=(Ce=m(),function(ne,Re,te,y,M,Y){var G,_e;for(Re||(Re=4),te||(te=0),_e=y?Math.min(y*Re+te,ne.length):ne.length,G=te;G<_e;G+=Re)Ce[0]=ne[G],Ce[1]=ne[G+1],Ce[2]=ne[G+2],Ce[3]=ne[G+3],M(Ce,Ce,Y),ne[G]=Ce[0],ne[G+1]=Ce[1],ne[G+2]=Ce[2],ne[G+3]=Ce[3];return ne})},99234:(bn,be,w)=>{"use strict";var m=w(89222)("%Object.getOwnPropertyDescriptor%",!0);if(m)try{m([],"length")}catch{m=null}bn.exports=m},28931:(bn,be,w)=>{var r;!function(m,g,C,D){"use strict";var ce,h=["","webkit","Moz","MS","ms","o"],U=g.createElement("div"),F="function",k=Math.round,z=Math.abs,B=Date.now;function A(Gt,Se,vt){return setTimeout(Ie(Gt,vt),Se)}function T(Gt,Se,vt){return!!Array.isArray(Gt)&&(b(Gt,vt[Se],vt),!0)}function b(Gt,Se,vt){var Xt;if(Gt)if(Gt.forEach)Gt.forEach(Se,vt);else if(Gt.length!==D)for(Xt=0;Xt<Gt.length;)Se.call(vt,Gt[Xt],Xt,Gt),Xt++;else for(Xt in Gt)Gt.hasOwnProperty(Xt)&&Se.call(vt,Gt[Xt],Xt,Gt)}function J(Gt,Se,vt){var Xt="DEPRECATED METHOD: "+Se+"\n"+vt+" AT \n";return function(){var Cn=new Error("get-stack-trace"),tr=Cn&&Cn.stack?Cn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",kr=m.console&&(m.console.warn||m.console.log);return kr&&kr.call(m.console,Xt,tr),Gt.apply(this,arguments)}}ce="function"!=typeof Object.assign?function(Se){if(Se===D||null===Se)throw new TypeError("Cannot convert undefined or null to object");for(var vt=Object(Se),Xt=1;Xt<arguments.length;Xt++){var Cn=arguments[Xt];if(Cn!==D&&null!==Cn)for(var tr in Cn)Cn.hasOwnProperty(tr)&&(vt[tr]=Cn[tr])}return vt}:Object.assign;var W=J(function(Se,vt,Xt){for(var Cn=Object.keys(vt),tr=0;tr<Cn.length;)(!Xt||Xt&&Se[Cn[tr]]===D)&&(Se[Cn[tr]]=vt[Cn[tr]]),tr++;return Se},"extend","Use `assign`."),se=J(function(Se,vt){return W(Se,vt,!0)},"merge","Use `assign`.");function Q(Gt,Se,vt){var Cn,Xt=Se.prototype;(Cn=Gt.prototype=Object.create(Xt)).constructor=Gt,Cn._super=Xt,vt&&ce(Cn,vt)}function Ie(Gt,Se){return function(){return Gt.apply(Se,arguments)}}function ae(Gt,Se){return typeof Gt==F?Gt.apply(Se&&Se[0]||D,Se):Gt}function Me(Gt,Se){return Gt===D?Se:Gt}function q(Gt,Se,vt){b(Ne(Se),function(Xt){Gt.addEventListener(Xt,vt,!1)})}function $(Gt,Se,vt){b(Ne(Se),function(Xt){Gt.removeEventListener(Xt,vt,!1)})}function ge(Gt,Se){for(;Gt;){if(Gt==Se)return!0;Gt=Gt.parentNode}return!1}function K(Gt,Se){return Gt.indexOf(Se)>-1}function Ne(Gt){return Gt.trim().split(/\s+/g)}function Ve(Gt,Se,vt){if(Gt.indexOf&&!vt)return Gt.indexOf(Se);for(var Xt=0;Xt<Gt.length;){if(vt&&Gt[Xt][vt]==Se||!vt&&Gt[Xt]===Se)return Xt;Xt++}return-1}function Ge(Gt){return Array.prototype.slice.call(Gt,0)}function gt(Gt,Se,vt){for(var Xt=[],Cn=[],tr=0;tr<Gt.length;){var kr=Se?Gt[tr][Se]:Gt[tr];Ve(Cn,kr)<0&&Xt.push(Gt[tr]),Cn[tr]=kr,tr++}return vt&&(Xt=Se?Xt.sort(function($r,Hi){return $r[Se]>Hi[Se]}):Xt.sort()),Xt}function _t(Gt,Se){for(var vt,Xt,Cn=Se[0].toUpperCase()+Se.slice(1),tr=0;tr<h.length;){if((Xt=(vt=h[tr])?vt+Cn:Se)in Gt)return Xt;tr++}return D}var zt=1;function Oe(Gt){var Se=Gt.ownerDocument||Gt;return Se.defaultView||Se.parentWindow||m}var He="ontouchstart"in m,We=_t(m,"PointerEvent")!==D,st=He&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ft="touch",kt="mouse",Ce=25,ne=1,te=4,y=8,M=1,Y=2,G=4,_e=8,Z=16,f=Y|G,V=_e|Z,x=f|V,ye=["x","y"],Te=["clientX","clientY"];function ke(Gt,Se){var vt=this;this.manager=Gt,this.callback=Se,this.element=Gt.element,this.target=Gt.options.inputTarget,this.domHandler=function(Xt){ae(Gt.options.enable,[Gt])&&vt.handler(Xt)},this.init()}function nt(Gt,Se,vt){var Xt=vt.pointers.length,Cn=vt.changedPointers.length,tr=Se&ne&&Xt-Cn==0,kr=Se&(te|y)&&Xt-Cn==0;vt.isFirst=!!tr,vt.isFinal=!!kr,tr&&(Gt.session={}),vt.eventType=Se,function at(Gt,Se){var vt=Gt.session,Xt=Se.pointers,Cn=Xt.length;vt.firstInput||(vt.firstInput=Qe(Se)),Cn>1&&!vt.firstMultiple?vt.firstMultiple=Qe(Se):1===Cn&&(vt.firstMultiple=!1);var tr=vt.firstInput,kr=vt.firstMultiple,Ii=kr?kr.center:tr.center,$r=Se.center=Ft(Xt);Se.timeStamp=B(),Se.deltaTime=Se.timeStamp-tr.timeStamp,Se.angle=Bt(Ii,$r),Se.distance=lt(Ii,$r),function yt(Gt,Se){var vt=Se.center,Xt=Gt.offsetDelta||{},Cn=Gt.prevDelta||{},tr=Gt.prevInput||{};(Se.eventType===ne||tr.eventType===te)&&(Cn=Gt.prevDelta={x:tr.deltaX||0,y:tr.deltaY||0},Xt=Gt.offsetDelta={x:vt.x,y:vt.y}),Se.deltaX=Cn.x+(vt.x-Xt.x),Se.deltaY=Cn.y+(vt.y-Xt.y)}(vt,Se),Se.offsetDirection=Mt(Se.deltaX,Se.deltaY);var Hi=it(Se.deltaTime,Se.deltaX,Se.deltaY);Se.overallVelocityX=Hi.x,Se.overallVelocityY=Hi.y,Se.overallVelocity=z(Hi.x)>z(Hi.y)?Hi.x:Hi.y,Se.scale=kr?function Tt(Gt,Se){return lt(Se[0],Se[1],Te)/lt(Gt[0],Gt[1],Te)}(kr.pointers,Xt):1,Se.rotation=kr?function ct(Gt,Se){return Bt(Se[1],Se[0],Te)+Bt(Gt[1],Gt[0],Te)}(kr.pointers,Xt):0,Se.maxPointers=vt.prevInput?Se.pointers.length>vt.prevInput.maxPointers?Se.pointers.length:vt.prevInput.maxPointers:Se.pointers.length,function Jt(Gt,Se){var Cn,tr,kr,Ii,vt=Gt.lastInterval||Se,Xt=Se.timeStamp-vt.timeStamp;if(Se.eventType!=y&&(Xt>Ce||vt.velocity===D)){var $r=Se.deltaX-vt.deltaX,Hi=Se.deltaY-vt.deltaY,Mo=it(Xt,$r,Hi);tr=Mo.x,kr=Mo.y,Cn=z(Mo.x)>z(Mo.y)?Mo.x:Mo.y,Ii=Mt($r,Hi),Gt.lastInterval=Se}else Cn=vt.velocity,tr=vt.velocityX,kr=vt.velocityY,Ii=vt.direction;Se.velocity=Cn,Se.velocityX=tr,Se.velocityY=kr,Se.direction=Ii}(vt,Se);var Mo=Gt.element;ge(Se.srcEvent.target,Mo)&&(Mo=Se.srcEvent.target),Se.target=Mo}(Gt,vt),Gt.emit("hammer.input",vt),Gt.recognize(vt),Gt.session.prevInput=vt}function Qe(Gt){for(var Se=[],vt=0;vt<Gt.pointers.length;)Se[vt]={clientX:k(Gt.pointers[vt].clientX),clientY:k(Gt.pointers[vt].clientY)},vt++;return{timeStamp:B(),pointers:Se,center:Ft(Se),deltaX:Gt.deltaX,deltaY:Gt.deltaY}}function Ft(Gt){var Se=Gt.length;if(1===Se)return{x:k(Gt[0].clientX),y:k(Gt[0].clientY)};for(var vt=0,Xt=0,Cn=0;Cn<Se;)vt+=Gt[Cn].clientX,Xt+=Gt[Cn].clientY,Cn++;return{x:k(vt/Se),y:k(Xt/Se)}}function it(Gt,Se,vt){return{x:Se/Gt||0,y:vt/Gt||0}}function Mt(Gt,Se){return Gt===Se?M:z(Gt)>=z(Se)?Gt<0?Y:G:Se<0?_e:Z}function lt(Gt,Se,vt){vt||(vt=ye);var Xt=Se[vt[0]]-Gt[vt[0]],Cn=Se[vt[1]]-Gt[vt[1]];return Math.sqrt(Xt*Xt+Cn*Cn)}function Bt(Gt,Se,vt){return vt||(vt=ye),180*Math.atan2(Se[vt[1]]-Gt[vt[1]],Se[vt[0]]-Gt[vt[0]])/Math.PI}ke.prototype={handler:function(){},init:function(){this.evEl&&q(this.element,this.evEl,this.domHandler),this.evTarget&&q(this.target,this.evTarget,this.domHandler),this.evWin&&q(Oe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&$(this.element,this.evEl,this.domHandler),this.evTarget&&$(this.target,this.evTarget,this.domHandler),this.evWin&&$(Oe(this.element),this.evWin,this.domHandler)}};var rt={mousedown:ne,mousemove:2,mouseup:te},Et="mousedown",vn="mousemove mouseup";function In(){this.evEl=Et,this.evWin=vn,this.pressed=!1,ke.apply(this,arguments)}Q(In,ke,{handler:function(Se){var vt=rt[Se.type];vt&ne&&0===Se.button&&(this.pressed=!0),2&vt&&1!==Se.which&&(vt=te),this.pressed&&(vt&te&&(this.pressed=!1),this.callback(this.manager,vt,{pointers:[Se],changedPointers:[Se],pointerType:kt,srcEvent:Se}))}});var Un={pointerdown:ne,pointermove:2,pointerup:te,pointercancel:y,pointerout:y},Jn={2:ft,3:"pen",4:kt,5:"kinect"},Cr="pointerdown",wn="pointermove pointerup pointercancel";function cn(){this.evEl=Cr,this.evWin=wn,ke.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}m.MSPointerEvent&&!m.PointerEvent&&(Cr="MSPointerDown",wn="MSPointerMove MSPointerUp MSPointerCancel"),Q(cn,ke,{handler:function(Se){var vt=this.store,Xt=!1,Cn=Se.type.toLowerCase().replace("ms",""),tr=Un[Cn],kr=Jn[Se.pointerType]||Se.pointerType,Ii=kr==ft,$r=Ve(vt,Se.pointerId,"pointerId");tr&ne&&(0===Se.button||Ii)?$r<0&&(vt.push(Se),$r=vt.length-1):tr&(te|y)&&(Xt=!0),!($r<0)&&(vt[$r]=Se,this.callback(this.manager,tr,{pointers:vt,changedPointers:[Se],pointerType:kr,srcEvent:Se}),Xt&&vt.splice($r,1))}});var Yt={touchstart:ne,touchmove:2,touchend:te,touchcancel:y};function Lt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,ke.apply(this,arguments)}function Dn(Gt,Se){var vt=Ge(Gt.touches),Xt=Ge(Gt.changedTouches);return Se&(te|y)&&(vt=gt(vt.concat(Xt),"identifier",!0)),[vt,Xt]}Q(Lt,ke,{handler:function(Se){var vt=Yt[Se.type];if(vt===ne&&(this.started=!0),this.started){var Xt=Dn.call(this,Se,vt);vt&(te|y)&&Xt[0].length-Xt[1].length==0&&(this.started=!1),this.callback(this.manager,vt,{pointers:Xt[0],changedPointers:Xt[1],pointerType:ft,srcEvent:Se})}}});var Pn={touchstart:ne,touchmove:2,touchend:te,touchcancel:y},Sn="touchstart touchmove touchend touchcancel";function Tn(){this.evTarget=Sn,this.targetIds={},ke.apply(this,arguments)}function dn(Gt,Se){var vt=Ge(Gt.touches),Xt=this.targetIds;if(Se&(2|ne)&&1===vt.length)return Xt[vt[0].identifier]=!0,[vt,vt];var Cn,tr,kr=Ge(Gt.changedTouches),Ii=[],$r=this.target;if(tr=vt.filter(function(Hi){return ge(Hi.target,$r)}),Se===ne)for(Cn=0;Cn<tr.length;)Xt[tr[Cn].identifier]=!0,Cn++;for(Cn=0;Cn<kr.length;)Xt[kr[Cn].identifier]&&Ii.push(kr[Cn]),Se&(te|y)&&delete Xt[kr[Cn].identifier],Cn++;return Ii.length?[gt(tr.concat(Ii),"identifier",!0),Ii]:void 0}Q(Tn,ke,{handler:function(Se){var vt=Pn[Se.type],Xt=dn.call(this,Se,vt);Xt&&this.callback(this.manager,vt,{pointers:Xt[0],changedPointers:Xt[1],pointerType:ft,srcEvent:Se})}});var Bn=2500;function me(){ke.apply(this,arguments);var Gt=Ie(this.handler,this);this.touch=new Tn(this.manager,Gt),this.mouse=new In(this.manager,Gt),this.primaryTouch=null,this.lastTouches=[]}function ue(Gt,Se){Gt&ne?(this.primaryTouch=Se.changedPointers[0].identifier,Ue.call(this,Se)):Gt&(te|y)&&Ue.call(this,Se)}function Ue(Gt){var Se=Gt.changedPointers[0];if(Se.identifier===this.primaryTouch){var vt={x:Se.clientX,y:Se.clientY};this.lastTouches.push(vt);var Xt=this.lastTouches;setTimeout(function(){var tr=Xt.indexOf(vt);tr>-1&&Xt.splice(tr,1)},Bn)}}function bt(Gt){for(var Se=Gt.srcEvent.clientX,vt=Gt.srcEvent.clientY,Xt=0;Xt<this.lastTouches.length;Xt++){var Cn=this.lastTouches[Xt],tr=Math.abs(Se-Cn.x),kr=Math.abs(vt-Cn.y);if(tr<=25&&kr<=25)return!0}return!1}Q(me,ke,{handler:function(Se,vt,Xt){var tr=Xt.pointerType==kt;if(!(tr&&Xt.sourceCapabilities&&Xt.sourceCapabilities.firesTouchEvents)){if(Xt.pointerType==ft)ue.call(this,vt,Xt);else if(tr&&bt.call(this,Xt))return;this.callback(Se,vt,Xt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=_t(U.style,"touchAction"),fn=Ht!==D,cr="compute",ti="manipulation",mi="none",li="pan-x",Io="pan-y",Co=function xo(){if(!fn)return!1;var Gt={},Se=m.CSS&&m.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(vt){Gt[vt]=!Se||m.CSS.supports("touch-action",vt)}),Gt}();function wo(Gt,Se){this.manager=Gt,this.set(Se)}wo.prototype={set:function(Gt){Gt==cr&&(Gt=this.compute()),fn&&this.manager.element.style&&Co[Gt]&&(this.manager.element.style[Ht]=Gt),this.actions=Gt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Gt=[];return b(this.manager.recognizers,function(Se){ae(Se.options.enable,[Se])&&(Gt=Gt.concat(Se.getTouchAction()))}),function So(Gt){if(K(Gt,mi))return mi;var Se=K(Gt,li),vt=K(Gt,Io);return Se&&vt?mi:Se||vt?Se?li:Io:K(Gt,ti)?ti:"auto"}(Gt.join(" "))},preventDefaults:function(Gt){var Se=Gt.srcEvent,vt=Gt.offsetDirection;if(!this.manager.session.prevented){var Xt=this.actions,Cn=K(Xt,mi)&&!Co[mi],tr=K(Xt,Io)&&!Co[Io],kr=K(Xt,li)&&!Co[li];if(Cn&&1===Gt.pointers.length&&Gt.distance<2&&Gt.deltaTime<250)return;return kr&&tr||!(Cn||tr&&vt&f||kr&&vt&V)?void 0:this.preventSrc(Se)}Se.preventDefault()},preventSrc:function(Gt){this.manager.session.prevented=!0,Gt.preventDefault()}};var Po=1;function jt(Gt){this.options=ce({},this.defaults,Gt||{}),this.id=function Rn(){return zt++}(),this.manager=null,this.options.enable=Me(this.options.enable,!0),this.state=Po,this.simultaneous={},this.requireFail=[]}function pe(Gt){return 16&Gt?"cancel":8&Gt?"end":4&Gt?"move":2&Gt?"start":""}function ht(Gt){return Gt==Z?"down":Gt==_e?"up":Gt==Y?"left":Gt==G?"right":""}function pn(Gt,Se){var vt=Se.manager;return vt?vt.get(Gt):Gt}function On(){jt.apply(this,arguments)}function lr(){On.apply(this,arguments),this.pX=null,this.pY=null}function Dr(){On.apply(this,arguments)}function ni(){jt.apply(this,arguments),this._timer=null,this._input=null}function Yr(){On.apply(this,arguments)}function ui(){On.apply(this,arguments)}function Ri(){jt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function eo(Gt,Se){return(Se=Se||{}).recognizers=Me(Se.recognizers,eo.defaults.preset),new Yi(Gt,Se)}function Yi(Gt,Se){this.options=ce({},eo.defaults,Se||{}),this.options.inputTarget=this.options.inputTarget||Gt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Gt,this.input=function Ee(Gt){return new(Gt.options.inputClass||(We?cn:st?Tn:He?me:In))(Gt,nt)}(this),this.touchAction=new wo(this,this.options.touchAction),qi(this,!0),b(this.options.recognizers,function(vt){var Xt=this.add(new vt[0](vt[1]));vt[2]&&Xt.recognizeWith(vt[2]),vt[3]&&Xt.requireFailure(vt[3])},this)}function qi(Gt,Se){var Xt,vt=Gt.element;vt.style&&(b(Gt.options.cssProps,function(Cn,tr){Xt=_t(vt.style,tr),Se?(Gt.oldCssProps[Xt]=vt.style[Xt],vt.style[Xt]=Cn):vt.style[Xt]=Gt.oldCssProps[Xt]||""}),Se||(Gt.oldCssProps={}))}jt.prototype={defaults:{},set:function(Gt){return ce(this.options,Gt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Gt){if(T(Gt,"recognizeWith",this))return this;var Se=this.simultaneous;return Se[(Gt=pn(Gt,this)).id]||(Se[Gt.id]=Gt,Gt.recognizeWith(this)),this},dropRecognizeWith:function(Gt){return T(Gt,"dropRecognizeWith",this)||(Gt=pn(Gt,this),delete this.simultaneous[Gt.id]),this},requireFailure:function(Gt){if(T(Gt,"requireFailure",this))return this;var Se=this.requireFail;return-1===Ve(Se,Gt=pn(Gt,this))&&(Se.push(Gt),Gt.requireFailure(this)),this},dropRequireFailure:function(Gt){if(T(Gt,"dropRequireFailure",this))return this;Gt=pn(Gt,this);var Se=Ve(this.requireFail,Gt);return Se>-1&&this.requireFail.splice(Se,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Gt){return!!this.simultaneous[Gt.id]},emit:function(Gt){var Se=this,vt=this.state;function Xt(Cn){Se.manager.emit(Cn,Gt)}vt<8&&Xt(Se.options.event+pe(vt)),Xt(Se.options.event),Gt.additionalEvent&&Xt(Gt.additionalEvent),vt>=8&&Xt(Se.options.event+pe(vt))},tryEmit:function(Gt){if(this.canEmit())return this.emit(Gt);this.state=32},canEmit:function(){for(var Gt=0;Gt<this.requireFail.length;){if(!(this.requireFail[Gt].state&(32|Po)))return!1;Gt++}return!0},recognize:function(Gt){var Se=ce({},Gt);if(!ae(this.options.enable,[this,Se]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Po),this.state=this.process(Se),30&this.state&&this.tryEmit(Se)},process:function(Gt){},getTouchAction:function(){},reset:function(){}},Q(On,jt,{defaults:{pointers:1},attrTest:function(Gt){var Se=this.options.pointers;return 0===Se||Gt.pointers.length===Se},process:function(Gt){var Se=this.state,vt=Gt.eventType,Xt=6&Se,Cn=this.attrTest(Gt);return Xt&&(vt&y||!Cn)?16|Se:Xt||Cn?vt&te?8|Se:2&Se?4|Se:2:32}}),Q(lr,On,{defaults:{event:"pan",threshold:10,pointers:1,direction:x},getTouchAction:function(){var Gt=this.options.direction,Se=[];return Gt&f&&Se.push(Io),Gt&V&&Se.push(li),Se},directionTest:function(Gt){var Se=this.options,vt=!0,Xt=Gt.distance,Cn=Gt.direction,tr=Gt.deltaX,kr=Gt.deltaY;return Cn&Se.direction||(Se.direction&f?(Cn=0===tr?M:tr<0?Y:G,vt=tr!=this.pX,Xt=Math.abs(Gt.deltaX)):(Cn=0===kr?M:kr<0?_e:Z,vt=kr!=this.pY,Xt=Math.abs(Gt.deltaY))),Gt.direction=Cn,vt&&Xt>Se.threshold&&Cn&Se.direction},attrTest:function(Gt){return On.prototype.attrTest.call(this,Gt)&&(2&this.state||!(2&this.state)&&this.directionTest(Gt))},emit:function(Gt){this.pX=Gt.deltaX,this.pY=Gt.deltaY;var Se=ht(Gt.direction);Se&&(Gt.additionalEvent=this.options.event+Se),this._super.emit.call(this,Gt)}}),Q(Dr,On,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[mi]},attrTest:function(Gt){return this._super.attrTest.call(this,Gt)&&(Math.abs(Gt.scale-1)>this.options.threshold||2&this.state)},emit:function(Gt){1!==Gt.scale&&(Gt.additionalEvent=this.options.event+(Gt.scale<1?"in":"out")),this._super.emit.call(this,Gt)}}),Q(ni,jt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Gt){var Se=this.options,vt=Gt.pointers.length===Se.pointers,Xt=Gt.distance<Se.threshold,Cn=Gt.deltaTime>Se.time;if(this._input=Gt,!Xt||!vt||Gt.eventType&(te|y)&&!Cn)this.reset();else if(Gt.eventType&ne)this.reset(),this._timer=A(function(){this.state=8,this.tryEmit()},Se.time,this);else if(Gt.eventType&te)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Gt){8===this.state&&(Gt&&Gt.eventType&te?this.manager.emit(this.options.event+"up",Gt):(this._input.timeStamp=B(),this.manager.emit(this.options.event,this._input)))}}),Q(Yr,On,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[mi]},attrTest:function(Gt){return this._super.attrTest.call(this,Gt)&&(Math.abs(Gt.rotation)>this.options.threshold||2&this.state)}}),Q(ui,On,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:f|V,pointers:1},getTouchAction:function(){return lr.prototype.getTouchAction.call(this)},attrTest:function(Gt){var vt,Se=this.options.direction;return Se&(f|V)?vt=Gt.overallVelocity:Se&f?vt=Gt.overallVelocityX:Se&V&&(vt=Gt.overallVelocityY),this._super.attrTest.call(this,Gt)&&Se&Gt.offsetDirection&&Gt.distance>this.options.threshold&&Gt.maxPointers==this.options.pointers&&z(vt)>this.options.velocity&&Gt.eventType&te},emit:function(Gt){var Se=ht(Gt.offsetDirection);Se&&this.manager.emit(this.options.event+Se,Gt),this.manager.emit(this.options.event,Gt)}}),Q(Ri,jt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ti]},process:function(Gt){var Se=this.options,vt=Gt.pointers.length===Se.pointers,Xt=Gt.distance<Se.threshold,Cn=Gt.deltaTime<Se.time;if(this.reset(),Gt.eventType&ne&&0===this.count)return this.failTimeout();if(Xt&&Cn&&vt){if(Gt.eventType!=te)return this.failTimeout();var tr=!this.pTime||Gt.timeStamp-this.pTime<Se.interval,kr=!this.pCenter||lt(this.pCenter,Gt.center)<Se.posThreshold;if(this.pTime=Gt.timeStamp,this.pCenter=Gt.center,kr&&tr?this.count+=1:this.count=1,this._input=Gt,0==this.count%Se.taps)return this.hasRequireFailures()?(this._timer=A(function(){this.state=8,this.tryEmit()},Se.interval,this),2):8}return 32},failTimeout:function(){return this._timer=A(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),eo.VERSION="2.0.7",eo.defaults={domEvents:!1,touchAction:cr,enable:!0,inputTarget:null,inputClass:null,preset:[[Yr,{enable:!1}],[Dr,{enable:!1},["rotate"]],[ui,{direction:f}],[lr,{direction:f},["swipe"]],[Ri],[Ri,{event:"doubletap",taps:2},["tap"]],[ni]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Yi.prototype={set:function(Gt){return ce(this.options,Gt),Gt.touchAction&&this.touchAction.update(),Gt.inputTarget&&(this.input.destroy(),this.input.target=Gt.inputTarget,this.input.init()),this},stop:function(Gt){this.session.stopped=Gt?2:1},recognize:function(Gt){var Se=this.session;if(!Se.stopped){this.touchAction.preventDefaults(Gt);var vt,Xt=this.recognizers,Cn=Se.curRecognizer;(!Cn||Cn&&8&Cn.state)&&(Cn=Se.curRecognizer=null);for(var tr=0;tr<Xt.length;)vt=Xt[tr],2===Se.stopped||Cn&&vt!=Cn&&!vt.canRecognizeWith(Cn)?vt.reset():vt.recognize(Gt),!Cn&&14&vt.state&&(Cn=Se.curRecognizer=vt),tr++}},get:function(Gt){if(Gt instanceof jt)return Gt;for(var Se=this.recognizers,vt=0;vt<Se.length;vt++)if(Se[vt].options.event==Gt)return Se[vt];return null},add:function(Gt){if(T(Gt,"add",this))return this;var Se=this.get(Gt.options.event);return Se&&this.remove(Se),this.recognizers.push(Gt),Gt.manager=this,this.touchAction.update(),Gt},remove:function(Gt){if(T(Gt,"remove",this))return this;if(Gt=this.get(Gt)){var Se=this.recognizers,vt=Ve(Se,Gt);-1!==vt&&(Se.splice(vt,1),this.touchAction.update())}return this},on:function(Gt,Se){if(Gt!==D&&Se!==D){var vt=this.handlers;return b(Ne(Gt),function(Xt){vt[Xt]=vt[Xt]||[],vt[Xt].push(Se)}),this}},off:function(Gt,Se){if(Gt!==D){var vt=this.handlers;return b(Ne(Gt),function(Xt){Se?vt[Xt]&&vt[Xt].splice(Ve(vt[Xt],Se),1):delete vt[Xt]}),this}},emit:function(Gt,Se){this.options.domEvents&&function bo(Gt,Se){var vt=g.createEvent("Event");vt.initEvent(Gt,!0,!0),vt.gesture=Se,Se.target.dispatchEvent(vt)}(Gt,Se);var vt=this.handlers[Gt]&&this.handlers[Gt].slice();if(vt&&vt.length){Se.type=Gt,Se.preventDefault=function(){Se.srcEvent.preventDefault()};for(var Xt=0;Xt<vt.length;)vt[Xt](Se),Xt++}},destroy:function(){this.element&&qi(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ce(eo,{INPUT_START:ne,INPUT_MOVE:2,INPUT_END:te,INPUT_CANCEL:y,STATE_POSSIBLE:Po,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:M,DIRECTION_LEFT:Y,DIRECTION_RIGHT:G,DIRECTION_UP:_e,DIRECTION_DOWN:Z,DIRECTION_HORIZONTAL:f,DIRECTION_VERTICAL:V,DIRECTION_ALL:x,Manager:Yi,Input:ke,TouchAction:wo,TouchInput:Tn,MouseInput:In,PointerEventInput:cn,TouchMouseInput:me,SingleTouchInput:Lt,Recognizer:jt,AttrRecognizer:On,Tap:Ri,Pan:lr,Swipe:ui,Pinch:Dr,Rotate:Yr,Press:ni,on:q,off:$,each:b,merge:se,extend:W,assign:ce,inherit:Q,bindFn:Ie,prefixed:_t}),(typeof m<"u"?m:typeof self<"u"?self:{}).Hammer=eo,(r=function(){return eo}.call(be,w,be,bn))!==D&&(bn.exports=r)}(window,document)},70401:(bn,be,w)=>{"use strict";var r=w(82182),m=function(){return!!r};m.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch{return!0}},bn.exports=m},88003:bn=>{"use strict";var be={__proto__:null,foo:{}},w=Object;bn.exports=function(){return{__proto__:be}.foo===be.foo&&!(be instanceof w)}},17528:(bn,be,w)=>{"use strict";var r=typeof Symbol<"u"&&Symbol,m=w(16138);bn.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&m()}},16138:bn=>{"use strict";bn.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var w={},r=Symbol("test"),m=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(m))return!1;for(r in w[r]=42,w)return!1;if("function"==typeof Object.keys&&0!==Object.keys(w).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(w).length)return!1;var C=Object.getOwnPropertySymbols(w);if(1!==C.length||C[0]!==r||!Object.prototype.propertyIsEnumerable.call(w,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var D=Object.getOwnPropertyDescriptor(w,r);if(42!==D.value||!0!==D.enumerable)return!1}return!0}},58252:(bn,be,w)=>{"use strict";var r=Function.prototype.call,m=Object.prototype.hasOwnProperty,g=w(82988);bn.exports=g.call(r,m)},97953:(bn,be)=>{var r;!function(){"use strict";var m=function(){this.init()};m.prototype={init:function(){var A=this||g;return A._counter=1e3,A._html5AudioPool=[],A.html5PoolSize=10,A._codecs={},A._howls=[],A._muted=!1,A._volume=1,A._canPlayEvent="canplaythrough",A._navigator=typeof window<"u"&&window.navigator?window.navigator:null,A.masterGain=null,A.noAudio=!1,A.usingWebAudio=!0,A.autoSuspend=!0,A.ctx=null,A.autoUnlock=!0,A._setup(),A},volume:function(A){var T=this||g;if(A=parseFloat(A),T.ctx||B(),typeof A<"u"&&A>=0&&A<=1){if(T._volume=A,T._muted)return T;T.usingWebAudio&&T.masterGain.gain.setValueAtTime(A,g.ctx.currentTime);for(var b=0;b<T._howls.length;b++)if(!T._howls[b]._webAudio)for(var J=T._howls[b]._getSoundIds(),ce=0;ce<J.length;ce++){var W=T._howls[b]._soundById(J[ce]);W&&W._node&&(W._node.volume=W._volume*A)}return T}return T._volume},mute:function(A){var T=this||g;T.ctx||B(),T._muted=A,T.usingWebAudio&&T.masterGain.gain.setValueAtTime(A?0:T._volume,g.ctx.currentTime);for(var b=0;b<T._howls.length;b++)if(!T._howls[b]._webAudio)for(var J=T._howls[b]._getSoundIds(),ce=0;ce<J.length;ce++){var W=T._howls[b]._soundById(J[ce]);W&&W._node&&(W._node.muted=!!A||W._muted)}return T},stop:function(){for(var A=this||g,T=0;T<A._howls.length;T++)A._howls[T].stop();return A},unload:function(){for(var A=this||g,T=A._howls.length-1;T>=0;T--)A._howls[T].unload();return A.usingWebAudio&&A.ctx&&typeof A.ctx.close<"u"&&(A.ctx.close(),A.ctx=null,B()),A},codecs:function(A){return(this||g)._codecs[A.replace(/^x-/,"")]},_setup:function(){var A=this||g;if(A.state=A.ctx&&A.ctx.state||"suspended",A._autoSuspend(),!A.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(A._canPlayEvent="canplay")}catch{A.noAudio=!0}else A.noAudio=!0;try{(new Audio).muted&&(A.noAudio=!0)}catch{}return A.noAudio||A._setupCodecs(),A},_setupCodecs:function(){var A=this||g,T=null;try{T=typeof Audio<"u"?new Audio:null}catch{return A}if(!T||"function"!=typeof T.canPlayType)return A;var b=T.canPlayType("audio/mpeg;").replace(/^no$/,""),J=A._navigator?A._navigator.userAgent:"",ce=J.match(/OPR\/(\d+)/g),W=ce&&parseInt(ce[0].split("/")[1],10)<33,se=-1!==J.indexOf("Safari")&&-1===J.indexOf("Chrome"),Q=J.match(/Version\/(.*?) /),Ie=se&&Q&&parseInt(Q[1],10)<15;return A._codecs={mp3:!(W||!b&&!T.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!b,opus:!!T.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!T.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!T.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(T.canPlayType('audio/wav; codecs="1"')||T.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!T.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!T.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(T.canPlayType("audio/x-m4a;")||T.canPlayType("audio/m4a;")||T.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(T.canPlayType("audio/x-m4b;")||T.canPlayType("audio/m4b;")||T.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(T.canPlayType("audio/x-mp4;")||T.canPlayType("audio/mp4;")||T.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Ie||!T.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Ie||!T.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!T.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(T.canPlayType("audio/x-flac;")||T.canPlayType("audio/flac;")).replace(/^no$/,"")},A},_unlockAudio:function(){var A=this||g;if(!A._audioUnlocked&&A.ctx){A._audioUnlocked=!1,A.autoUnlock=!1,!A._mobileUnloaded&&44100!==A.ctx.sampleRate&&(A._mobileUnloaded=!0,A.unload()),A._scratchBuffer=A.ctx.createBuffer(1,1,22050);var T=function(b){for(;A._html5AudioPool.length<A.html5PoolSize;)try{var J=new Audio;J._unlocked=!0,A._releaseHtml5Audio(J)}catch{A.noAudio=!0;break}for(var ce=0;ce<A._howls.length;ce++)if(!A._howls[ce]._webAudio)for(var W=A._howls[ce]._getSoundIds(),se=0;se<W.length;se++){var Q=A._howls[ce]._soundById(W[se]);Q&&Q._node&&!Q._node._unlocked&&(Q._node._unlocked=!0,Q._node.load())}A._autoResume();var Ie=A.ctx.createBufferSource();Ie.buffer=A._scratchBuffer,Ie.connect(A.ctx.destination),typeof Ie.start>"u"?Ie.noteOn(0):Ie.start(0),"function"==typeof A.ctx.resume&&A.ctx.resume(),Ie.onended=function(){Ie.disconnect(0),A._audioUnlocked=!0,document.removeEventListener("touchstart",T,!0),document.removeEventListener("touchend",T,!0),document.removeEventListener("click",T,!0),document.removeEventListener("keydown",T,!0);for(var ae=0;ae<A._howls.length;ae++)A._howls[ae]._emit("unlock")}};return document.addEventListener("touchstart",T,!0),document.addEventListener("touchend",T,!0),document.addEventListener("click",T,!0),document.addEventListener("keydown",T,!0),A}},_obtainHtml5Audio:function(){var A=this||g;if(A._html5AudioPool.length)return A._html5AudioPool.pop();var T=(new Audio).play();return T&&typeof Promise<"u"&&(T instanceof Promise||"function"==typeof T.then)&&T.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(A){var T=this||g;return A._unlocked&&T._html5AudioPool.push(A),T},_autoSuspend:function(){var A=this;if(A.autoSuspend&&A.ctx&&!(typeof A.ctx.suspend>"u")&&g.usingWebAudio){for(var T=0;T<A._howls.length;T++)if(A._howls[T]._webAudio)for(var b=0;b<A._howls[T]._sounds.length;b++)if(!A._howls[T]._sounds[b]._paused)return A;return A._suspendTimer&&clearTimeout(A._suspendTimer),A._suspendTimer=setTimeout(function(){if(A.autoSuspend){A._suspendTimer=null,A.state="suspending";var J=function(){A.state="suspended",A._resumeAfterSuspend&&(delete A._resumeAfterSuspend,A._autoResume())};A.ctx.suspend().then(J,J)}},3e4),A}},_autoResume:function(){var A=this;if(A.ctx&&!(typeof A.ctx.resume>"u")&&g.usingWebAudio)return"running"===A.state&&"interrupted"!==A.ctx.state&&A._suspendTimer?(clearTimeout(A._suspendTimer),A._suspendTimer=null):"suspended"===A.state||"running"===A.state&&"interrupted"===A.ctx.state?(A.ctx.resume().then(function(){A.state="running";for(var T=0;T<A._howls.length;T++)A._howls[T]._emit("resume")}),A._suspendTimer&&(clearTimeout(A._suspendTimer),A._suspendTimer=null)):"suspending"===A.state&&(A._resumeAfterSuspend=!0),A}};var g=new m,C=function(A){A.src&&0!==A.src.length?this.init(A):console.error("An array of source files must be passed with any new Howl.")};C.prototype={init:function(A){var T=this;return g.ctx||B(),T._autoplay=A.autoplay||!1,T._format="string"!=typeof A.format?A.format:[A.format],T._html5=A.html5||!1,T._muted=A.mute||!1,T._loop=A.loop||!1,T._pool=A.pool||5,T._preload="boolean"!=typeof A.preload&&"metadata"!==A.preload||A.preload,T._rate=A.rate||1,T._sprite=A.sprite||{},T._src="string"!=typeof A.src?A.src:[A.src],T._volume=void 0!==A.volume?A.volume:1,T._xhr={method:A.xhr&&A.xhr.method?A.xhr.method:"GET",headers:A.xhr&&A.xhr.headers?A.xhr.headers:null,withCredentials:!(!A.xhr||!A.xhr.withCredentials)&&A.xhr.withCredentials},T._duration=0,T._state="unloaded",T._sounds=[],T._endTimers={},T._queue=[],T._playLock=!1,T._onend=A.onend?[{fn:A.onend}]:[],T._onfade=A.onfade?[{fn:A.onfade}]:[],T._onload=A.onload?[{fn:A.onload}]:[],T._onloaderror=A.onloaderror?[{fn:A.onloaderror}]:[],T._onplayerror=A.onplayerror?[{fn:A.onplayerror}]:[],T._onpause=A.onpause?[{fn:A.onpause}]:[],T._onplay=A.onplay?[{fn:A.onplay}]:[],T._onstop=A.onstop?[{fn:A.onstop}]:[],T._onmute=A.onmute?[{fn:A.onmute}]:[],T._onvolume=A.onvolume?[{fn:A.onvolume}]:[],T._onrate=A.onrate?[{fn:A.onrate}]:[],T._onseek=A.onseek?[{fn:A.onseek}]:[],T._onunlock=A.onunlock?[{fn:A.onunlock}]:[],T._onresume=[],T._webAudio=g.usingWebAudio&&!T._html5,typeof g.ctx<"u"&&g.ctx&&g.autoUnlock&&g._unlockAudio(),g._howls.push(T),T._autoplay&&T._queue.push({event:"play",action:function(){T.play()}}),T._preload&&"none"!==T._preload&&T.load(),T},load:function(){var A=this,T=null;if(g.noAudio)A._emit("loaderror",null,"No audio support.");else{"string"==typeof A._src&&(A._src=[A._src]);for(var b=0;b<A._src.length;b++){var J,ce;if(A._format&&A._format[b])J=A._format[b];else{if("string"!=typeof(ce=A._src[b])){A._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(J=/^data:audio\/([^;,]+);/i.exec(ce))||(J=/\.([^.]+)$/.exec(ce.split("?",1)[0])),J&&(J=J[1].toLowerCase())}if(J||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),J&&g.codecs(J)){T=A._src[b];break}}if(T)return A._src=T,A._state="loading","https:"===window.location.protocol&&"http:"===T.slice(0,5)&&(A._html5=!0,A._webAudio=!1),new D(A),A._webAudio&&U(A),A;A._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(A,T){var b=this,J=null;if("number"==typeof A)J=A,A=null;else{if("string"==typeof A&&"loaded"===b._state&&!b._sprite[A])return null;if(typeof A>"u"&&(A="__default",!b._playLock)){for(var ce=0,W=0;W<b._sounds.length;W++)b._sounds[W]._paused&&!b._sounds[W]._ended&&(ce++,J=b._sounds[W]._id);1===ce?A=null:J=null}}var se=J?b._soundById(J):b._inactiveSound();if(!se)return null;if(J&&!A&&(A=se._sprite||"__default"),"loaded"!==b._state){se._sprite=A,se._ended=!1;var Q=se._id;return b._queue.push({event:"play",action:function(){b.play(Q)}}),Q}if(J&&!se._paused)return T||b._loadQueue("play"),se._id;b._webAudio&&g._autoResume();var Ie=Math.max(0,se._seek>0?se._seek:b._sprite[A][0]/1e3),ae=Math.max(0,(b._sprite[A][0]+b._sprite[A][1])/1e3-Ie),Me=1e3*ae/Math.abs(se._rate),q=b._sprite[A][0]/1e3,$=(b._sprite[A][0]+b._sprite[A][1])/1e3;se._sprite=A,se._ended=!1;var ge=function(){se._paused=!1,se._seek=Ie,se._start=q,se._stop=$,se._loop=!(!se._loop&&!b._sprite[A][2])};if(!(Ie>=$)){var K=se._node;if(b._webAudio){var Ne=function(){b._playLock=!1,ge(),b._refreshBuffer(se),K.gain.setValueAtTime(se._muted||b._muted?0:se._volume,g.ctx.currentTime),se._playStart=g.ctx.currentTime,typeof K.bufferSource.start>"u"?K.bufferSource.noteGrainOn(0,Ie,se._loop?86400:ae):K.bufferSource.start(0,Ie,se._loop?86400:ae),Me!==1/0&&(b._endTimers[se._id]=setTimeout(b._ended.bind(b,se),Me)),T||setTimeout(function(){b._emit("play",se._id),b._loadQueue()},0)};"running"===g.state&&"interrupted"!==g.ctx.state?Ne():(b._playLock=!0,b.once("resume",Ne),b._clearTimer(se._id))}else{var Ve=function(){K.currentTime=Ie,K.muted=se._muted||b._muted||g._muted||K.muted,K.volume=se._volume*g.volume(),K.playbackRate=se._rate;try{var _t=K.play();if(_t&&typeof Promise<"u"&&(_t instanceof Promise||"function"==typeof _t.then)?(b._playLock=!0,ge(),_t.then(function(){b._playLock=!1,K._unlocked=!0,T?b._loadQueue():b._emit("play",se._id)}).catch(function(){b._playLock=!1,b._emit("playerror",se._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),se._ended=!0,se._paused=!0})):T||(b._playLock=!1,ge(),b._emit("play",se._id)),K.playbackRate=se._rate,K.paused)return void b._emit("playerror",se._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==A||se._loop?b._endTimers[se._id]=setTimeout(b._ended.bind(b,se),Me):(b._endTimers[se._id]=function(){b._ended(se),K.removeEventListener("ended",b._endTimers[se._id],!1)},K.addEventListener("ended",b._endTimers[se._id],!1))}catch(zt){b._emit("playerror",se._id,zt)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===K.src&&(K.src=b._src,K.load());var Ge=window&&window.ejecta||!K.readyState&&g._navigator.isCocoonJS;if(K.readyState>=3||Ge)Ve();else{b._playLock=!0,b._state="loading";var gt=function(){b._state="loaded",Ve(),K.removeEventListener(g._canPlayEvent,gt,!1)};K.addEventListener(g._canPlayEvent,gt,!1),b._clearTimer(se._id)}}return se._id}b._ended(se)},pause:function(A){var T=this;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"pause",action:function(){T.pause(A)}}),T;for(var b=T._getSoundIds(A),J=0;J<b.length;J++){T._clearTimer(b[J]);var ce=T._soundById(b[J]);if(ce&&!ce._paused&&(ce._seek=T.seek(b[J]),ce._rateSeek=0,ce._paused=!0,T._stopFade(b[J]),ce._node))if(T._webAudio){if(!ce._node.bufferSource)continue;typeof ce._node.bufferSource.stop>"u"?ce._node.bufferSource.noteOff(0):ce._node.bufferSource.stop(0),T._cleanBuffer(ce._node)}else(!isNaN(ce._node.duration)||ce._node.duration===1/0)&&ce._node.pause();arguments[1]||T._emit("pause",ce?ce._id:null)}return T},stop:function(A,T){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"stop",action:function(){b.stop(A)}}),b;for(var J=b._getSoundIds(A),ce=0;ce<J.length;ce++){b._clearTimer(J[ce]);var W=b._soundById(J[ce]);W&&(W._seek=W._start||0,W._rateSeek=0,W._paused=!0,W._ended=!0,b._stopFade(J[ce]),W._node&&(b._webAudio?W._node.bufferSource&&(typeof W._node.bufferSource.stop>"u"?W._node.bufferSource.noteOff(0):W._node.bufferSource.stop(0),b._cleanBuffer(W._node)):(!isNaN(W._node.duration)||W._node.duration===1/0)&&(W._node.currentTime=W._start||0,W._node.pause(),W._node.duration===1/0&&b._clearSound(W._node))),T||b._emit("stop",W._id))}return b},mute:function(A,T){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"mute",action:function(){b.mute(A,T)}}),b;if(typeof T>"u"){if("boolean"!=typeof A)return b._muted;b._muted=A}for(var J=b._getSoundIds(T),ce=0;ce<J.length;ce++){var W=b._soundById(J[ce]);W&&(W._muted=A,W._interval&&b._stopFade(W._id),b._webAudio&&W._node?W._node.gain.setValueAtTime(A?0:W._volume,g.ctx.currentTime):W._node&&(W._node.muted=!!g._muted||A),b._emit("mute",W._id))}return b},volume:function(){var b,J,se,A=this,T=arguments;if(0===T.length)return A._volume;if(1===T.length||2===T.length&&typeof T[1]>"u"?A._getSoundIds().indexOf(T[0])>=0?J=parseInt(T[0],10):b=parseFloat(T[0]):T.length>=2&&(b=parseFloat(T[0]),J=parseInt(T[1],10)),!(typeof b<"u"&&b>=0&&b<=1))return(se=J?A._soundById(J):A._sounds[0])?se._volume:0;if("loaded"!==A._state||A._playLock)return A._queue.push({event:"volume",action:function(){A.volume.apply(A,T)}}),A;typeof J>"u"&&(A._volume=b),J=A._getSoundIds(J);for(var Q=0;Q<J.length;Q++)(se=A._soundById(J[Q]))&&(se._volume=b,T[2]||A._stopFade(J[Q]),A._webAudio&&se._node&&!se._muted?se._node.gain.setValueAtTime(b,g.ctx.currentTime):se._node&&!se._muted&&(se._node.volume=b*g.volume()),A._emit("volume",se._id));return A},fade:function(A,T,b,J){var ce=this;if("loaded"!==ce._state||ce._playLock)return ce._queue.push({event:"fade",action:function(){ce.fade(A,T,b,J)}}),ce;A=Math.min(Math.max(0,parseFloat(A)),1),T=Math.min(Math.max(0,parseFloat(T)),1),b=parseFloat(b),ce.volume(A,J);for(var W=ce._getSoundIds(J),se=0;se<W.length;se++){var Q=ce._soundById(W[se]);if(Q){if(J||ce._stopFade(W[se]),ce._webAudio&&!Q._muted){var Ie=g.ctx.currentTime,ae=Ie+b/1e3;Q._volume=A,Q._node.gain.setValueAtTime(A,Ie),Q._node.gain.linearRampToValueAtTime(T,ae)}ce._startFadeInterval(Q,A,T,b,W[se],typeof J>"u")}}return ce},_startFadeInterval:function(A,T,b,J,ce,W){var se=this,Q=T,Ie=b-T,ae=Math.abs(Ie/.01),Me=Math.max(4,ae>0?J/ae:J),q=Date.now();A._fadeTo=b,A._interval=setInterval(function(){var $=(Date.now()-q)/J;q=Date.now(),Q+=Ie*$,Q=Math.round(100*Q)/100,Q=Ie<0?Math.max(b,Q):Math.min(b,Q),se._webAudio?A._volume=Q:se.volume(Q,A._id,!0),W&&(se._volume=Q),(b<T&&Q<=b||b>T&&Q>=b)&&(clearInterval(A._interval),A._interval=null,A._fadeTo=null,se.volume(b,A._id),se._emit("fade",A._id))},Me)},_stopFade:function(A){var T=this,b=T._soundById(A);return b&&b._interval&&(T._webAudio&&b._node.gain.cancelScheduledValues(g.ctx.currentTime),clearInterval(b._interval),b._interval=null,T.volume(b._fadeTo,A),b._fadeTo=null,T._emit("fade",A)),T},loop:function(){var b,J,ce,A=this,T=arguments;if(0===T.length)return A._loop;if(1===T.length){if("boolean"!=typeof T[0])return!!(ce=A._soundById(parseInt(T[0],10)))&&ce._loop;A._loop=b=T[0]}else 2===T.length&&(b=T[0],J=parseInt(T[1],10));for(var W=A._getSoundIds(J),se=0;se<W.length;se++)(ce=A._soundById(W[se]))&&(ce._loop=b,A._webAudio&&ce._node&&ce._node.bufferSource&&(ce._node.bufferSource.loop=b,b&&(ce._node.bufferSource.loopStart=ce._start||0,ce._node.bufferSource.loopEnd=ce._stop,A.playing(W[se])&&(A.pause(W[se],!0),A.play(W[se],!0)))));return A},rate:function(){var b,J,se,A=this,T=arguments;if(0===T.length?J=A._sounds[0]._id:1===T.length?A._getSoundIds().indexOf(T[0])>=0?J=parseInt(T[0],10):b=parseFloat(T[0]):2===T.length&&(b=parseFloat(T[0]),J=parseInt(T[1],10)),"number"!=typeof b)return(se=A._soundById(J))?se._rate:A._rate;if("loaded"!==A._state||A._playLock)return A._queue.push({event:"rate",action:function(){A.rate.apply(A,T)}}),A;typeof J>"u"&&(A._rate=b),J=A._getSoundIds(J);for(var Q=0;Q<J.length;Q++)if(se=A._soundById(J[Q])){A.playing(J[Q])&&(se._rateSeek=A.seek(J[Q]),se._playStart=A._webAudio?g.ctx.currentTime:se._playStart),se._rate=b,A._webAudio&&se._node&&se._node.bufferSource?se._node.bufferSource.playbackRate.setValueAtTime(b,g.ctx.currentTime):se._node&&(se._node.playbackRate=b);var Ie=A.seek(J[Q]),Me=1e3*((A._sprite[se._sprite][0]+A._sprite[se._sprite][1])/1e3-Ie)/Math.abs(se._rate);(A._endTimers[J[Q]]||!se._paused)&&(A._clearTimer(J[Q]),A._endTimers[J[Q]]=setTimeout(A._ended.bind(A,se),Me)),A._emit("rate",se._id)}return A},seek:function(){var b,J,A=this,T=arguments;if(0===T.length?A._sounds.length&&(J=A._sounds[0]._id):1===T.length?A._getSoundIds().indexOf(T[0])>=0?J=parseInt(T[0],10):A._sounds.length&&(J=A._sounds[0]._id,b=parseFloat(T[0])):2===T.length&&(b=parseFloat(T[0]),J=parseInt(T[1],10)),typeof J>"u")return 0;if("number"==typeof b&&("loaded"!==A._state||A._playLock))return A._queue.push({event:"seek",action:function(){A.seek.apply(A,T)}}),A;var se=A._soundById(J);if(se){if(!("number"==typeof b&&b>=0)){if(A._webAudio){var Me=A.playing(J)?g.ctx.currentTime-se._playStart:0;return se._seek+((se._rateSeek?se._rateSeek-se._seek:0)+Me*Math.abs(se._rate))}return se._node.currentTime}var Q=A.playing(J);Q&&A.pause(J,!0),se._seek=b,se._ended=!1,A._clearTimer(J),!A._webAudio&&se._node&&!isNaN(se._node.duration)&&(se._node.currentTime=b);var Ie=function(){Q&&A.play(J,!0),A._emit("seek",J)};if(Q&&!A._webAudio){var ae=function(){A._playLock?setTimeout(ae,0):Ie()};setTimeout(ae,0)}else Ie()}return A},playing:function(A){var T=this;if("number"==typeof A){var b=T._soundById(A);return!!b&&!b._paused}for(var J=0;J<T._sounds.length;J++)if(!T._sounds[J]._paused)return!0;return!1},duration:function(A){var T=this,b=T._duration,J=T._soundById(A);return J&&(b=T._sprite[J._sprite][1]/1e3),b},state:function(){return this._state},unload:function(){for(var A=this,T=A._sounds,b=0;b<T.length;b++)T[b]._paused||A.stop(T[b]._id),A._webAudio||(A._clearSound(T[b]._node),T[b]._node.removeEventListener("error",T[b]._errorFn,!1),T[b]._node.removeEventListener(g._canPlayEvent,T[b]._loadFn,!1),T[b]._node.removeEventListener("ended",T[b]._endFn,!1),g._releaseHtml5Audio(T[b]._node)),delete T[b]._node,A._clearTimer(T[b]._id);var J=g._howls.indexOf(A);J>=0&&g._howls.splice(J,1);var ce=!0;for(b=0;b<g._howls.length;b++)if(g._howls[b]._src===A._src||A._src.indexOf(g._howls[b]._src)>=0){ce=!1;break}return h&&ce&&delete h[A._src],g.noAudio=!1,A._state="unloaded",A._sounds=[],A=null,null},on:function(A,T,b,J){return"function"==typeof T&&this["_on"+A].push(J?{id:b,fn:T,once:J}:{id:b,fn:T}),this},off:function(A,T,b){var J=this,ce=J["_on"+A],W=0;if("number"==typeof T&&(b=T,T=null),T||b)for(W=0;W<ce.length;W++){var se=b===ce[W].id;if(T===ce[W].fn&&se||!T&&se){ce.splice(W,1);break}}else if(A)J["_on"+A]=[];else{var Q=Object.keys(J);for(W=0;W<Q.length;W++)0===Q[W].indexOf("_on")&&Array.isArray(J[Q[W]])&&(J[Q[W]]=[])}return J},once:function(A,T,b){return this.on(A,T,b,1),this},_emit:function(A,T,b){for(var J=this,ce=J["_on"+A],W=ce.length-1;W>=0;W--)(!ce[W].id||ce[W].id===T||"load"===A)&&(setTimeout(function(se){se.call(this,T,b)}.bind(J,ce[W].fn),0),ce[W].once&&J.off(A,ce[W].fn,ce[W].id));return J._loadQueue(A),J},_loadQueue:function(A){var T=this;if(T._queue.length>0){var b=T._queue[0];b.event===A&&(T._queue.shift(),T._loadQueue()),A||b.action()}return T},_ended:function(A){var T=this,b=A._sprite;if(!T._webAudio&&A._node&&!A._node.paused&&!A._node.ended&&A._node.currentTime<A._stop)return setTimeout(T._ended.bind(T,A),100),T;var J=!(!A._loop&&!T._sprite[b][2]);if(T._emit("end",A._id),!T._webAudio&&J&&T.stop(A._id,!0).play(A._id),T._webAudio&&J){T._emit("play",A._id),A._seek=A._start||0,A._rateSeek=0,A._playStart=g.ctx.currentTime;var ce=1e3*(A._stop-A._start)/Math.abs(A._rate);T._endTimers[A._id]=setTimeout(T._ended.bind(T,A),ce)}return T._webAudio&&!J&&(A._paused=!0,A._ended=!0,A._seek=A._start||0,A._rateSeek=0,T._clearTimer(A._id),T._cleanBuffer(A._node),g._autoSuspend()),!T._webAudio&&!J&&T.stop(A._id,!0),T},_clearTimer:function(A){var T=this;if(T._endTimers[A]){if("function"!=typeof T._endTimers[A])clearTimeout(T._endTimers[A]);else{var b=T._soundById(A);b&&b._node&&b._node.removeEventListener("ended",T._endTimers[A],!1)}delete T._endTimers[A]}return T},_soundById:function(A){for(var T=this,b=0;b<T._sounds.length;b++)if(A===T._sounds[b]._id)return T._sounds[b];return null},_inactiveSound:function(){var A=this;A._drain();for(var T=0;T<A._sounds.length;T++)if(A._sounds[T]._ended)return A._sounds[T].reset();return new D(A)},_drain:function(){var A=this,T=A._pool,b=0,J=0;if(!(A._sounds.length<T)){for(J=0;J<A._sounds.length;J++)A._sounds[J]._ended&&b++;for(J=A._sounds.length-1;J>=0;J--){if(b<=T)return;A._sounds[J]._ended&&(A._webAudio&&A._sounds[J]._node&&A._sounds[J]._node.disconnect(0),A._sounds.splice(J,1),b--)}}},_getSoundIds:function(A){if(typeof A>"u"){for(var b=[],J=0;J<this._sounds.length;J++)b.push(this._sounds[J]._id);return b}return[A]},_refreshBuffer:function(A){return A._node.bufferSource=g.ctx.createBufferSource(),A._node.bufferSource.buffer=h[this._src],A._node.bufferSource.connect(A._panner?A._panner:A._node),A._node.bufferSource.loop=A._loop,A._loop&&(A._node.bufferSource.loopStart=A._start||0,A._node.bufferSource.loopEnd=A._stop||0),A._node.bufferSource.playbackRate.setValueAtTime(A._rate,g.ctx.currentTime),this},_cleanBuffer:function(A){var b=g._navigator&&g._navigator.vendor.indexOf("Apple")>=0;if(!A.bufferSource)return this;if(g._scratchBuffer&&A.bufferSource&&(A.bufferSource.onended=null,A.bufferSource.disconnect(0),b))try{A.bufferSource.buffer=g._scratchBuffer}catch{}return A.bufferSource=null,this},_clearSound:function(A){/MSIE |Trident\//.test(g._navigator&&g._navigator.userAgent)||(A.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var D=function(A){this._parent=A,this.init()};D.prototype={init:function(){var A=this,T=A._parent;return A._muted=T._muted,A._loop=T._loop,A._volume=T._volume,A._rate=T._rate,A._seek=0,A._paused=!0,A._ended=!0,A._sprite="__default",A._id=++g._counter,T._sounds.push(A),A.create(),A},create:function(){var A=this,T=A._parent,b=g._muted||A._muted||A._parent._muted?0:A._volume;return T._webAudio?(A._node=typeof g.ctx.createGain>"u"?g.ctx.createGainNode():g.ctx.createGain(),A._node.gain.setValueAtTime(b,g.ctx.currentTime),A._node.paused=!0,A._node.connect(g.masterGain)):g.noAudio||(A._node=g._obtainHtml5Audio(),A._errorFn=A._errorListener.bind(A),A._node.addEventListener("error",A._errorFn,!1),A._loadFn=A._loadListener.bind(A),A._node.addEventListener(g._canPlayEvent,A._loadFn,!1),A._endFn=A._endListener.bind(A),A._node.addEventListener("ended",A._endFn,!1),A._node.src=T._src,A._node.preload=!0===T._preload?"auto":T._preload,A._node.volume=b*g.volume(),A._node.load()),A},reset:function(){var A=this,T=A._parent;return A._muted=T._muted,A._loop=T._loop,A._volume=T._volume,A._rate=T._rate,A._seek=0,A._rateSeek=0,A._paused=!0,A._ended=!0,A._sprite="__default",A._id=++g._counter,A},_errorListener:function(){var A=this;A._parent._emit("loaderror",A._id,A._node.error?A._node.error.code:0),A._node.removeEventListener("error",A._errorFn,!1)},_loadListener:function(){var A=this,T=A._parent;T._duration=Math.ceil(10*A._node.duration)/10,0===Object.keys(T._sprite).length&&(T._sprite={__default:[0,1e3*T._duration]}),"loaded"!==T._state&&(T._state="loaded",T._emit("load"),T._loadQueue()),A._node.removeEventListener(g._canPlayEvent,A._loadFn,!1)},_endListener:function(){var A=this,T=A._parent;T._duration===1/0&&(T._duration=Math.ceil(10*A._node.duration)/10,T._sprite.__default[1]===1/0&&(T._sprite.__default[1]=1e3*T._duration),T._ended(A)),A._node.removeEventListener("ended",A._endFn,!1)}};var h={},U=function(A){var T=A._src;if(h[T])return A._duration=h[T].duration,void z(A);if(/^data:[^;]+;base64,/.test(T)){for(var b=atob(T.split(",")[1]),J=new Uint8Array(b.length),ce=0;ce<b.length;++ce)J[ce]=b.charCodeAt(ce);k(J.buffer,A)}else{var W=new XMLHttpRequest;W.open(A._xhr.method,T,!0),W.withCredentials=A._xhr.withCredentials,W.responseType="arraybuffer",A._xhr.headers&&Object.keys(A._xhr.headers).forEach(function(se){W.setRequestHeader(se,A._xhr.headers[se])}),W.onload=function(){var se=(W.status+"")[0];"0"===se||"2"===se||"3"===se?k(W.response,A):A._emit("loaderror",null,"Failed loading audio file with status: "+W.status+".")},W.onerror=function(){A._webAudio&&(A._html5=!0,A._webAudio=!1,A._sounds=[],delete h[T],A.load())},F(W)}},F=function(A){try{A.send()}catch{A.onerror()}},k=function(A,T){var b=function(){T._emit("loaderror",null,"Decoding audio data failed.")},J=function(ce){ce&&T._sounds.length>0?(h[T._src]=ce,z(T,ce)):b()};typeof Promise<"u"&&1===g.ctx.decodeAudioData.length?g.ctx.decodeAudioData(A).then(J).catch(b):g.ctx.decodeAudioData(A,J,b)},z=function(A,T){T&&!A._duration&&(A._duration=T.duration),0===Object.keys(A._sprite).length&&(A._sprite={__default:[0,1e3*A._duration]}),"loaded"!==A._state&&(A._state="loaded",A._emit("load"),A._loadQueue())},B=function(){if(g.usingWebAudio){try{typeof AudioContext<"u"?g.ctx=new AudioContext:typeof webkitAudioContext<"u"?g.ctx=new webkitAudioContext:g.usingWebAudio=!1}catch{g.usingWebAudio=!1}g.ctx||(g.usingWebAudio=!1);var A=/iP(hone|od|ad)/.test(g._navigator&&g._navigator.platform),T=g._navigator&&g._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=T?parseInt(T[1],10):null;if(A&&b&&b<9){var J=/safari/.test(g._navigator&&g._navigator.userAgent.toLowerCase());g._navigator&&!J&&(g.usingWebAudio=!1)}g.usingWebAudio&&(g.masterGain=typeof g.ctx.createGain>"u"?g.ctx.createGainNode():g.ctx.createGain(),g.masterGain.gain.setValueAtTime(g._muted?0:g._volume,g.ctx.currentTime),g.masterGain.connect(g.ctx.destination)),g._setup()}};void 0!==(r=function(){return{Howler:g,Howl:C}}.apply(be,[]))&&(bn.exports=r),be.Howler=g,be.Howl=C,typeof global<"u"?(global.HowlerGlobal=m,global.Howler=g,global.Howl=C,global.Sound=D):typeof window<"u"&&(window.HowlerGlobal=m,window.Howler=g,window.Howl=C,window.Sound=D)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(g){var C=this;if(!C.ctx||!C.ctx.listener)return C;for(var D=C._howls.length-1;D>=0;D--)C._howls[D].stereo(g);return C},HowlerGlobal.prototype.pos=function(g,C,D){var h=this;return h.ctx&&h.ctx.listener?"number"!=typeof g?h._pos:(h._pos=[g,C="number"!=typeof C?h._pos[1]:C,D="number"!=typeof D?h._pos[2]:D],typeof h.ctx.listener.positionX<"u"?(h.ctx.listener.positionX.setTargetAtTime(h._pos[0],Howler.ctx.currentTime,.1),h.ctx.listener.positionY.setTargetAtTime(h._pos[1],Howler.ctx.currentTime,.1),h.ctx.listener.positionZ.setTargetAtTime(h._pos[2],Howler.ctx.currentTime,.1)):h.ctx.listener.setPosition(h._pos[0],h._pos[1],h._pos[2]),h):h},HowlerGlobal.prototype.orientation=function(g,C,D,h,U,F){var k=this;if(!k.ctx||!k.ctx.listener)return k;var z=k._orientation;return"number"!=typeof g?z:(k._orientation=[g,C="number"!=typeof C?z[1]:C,D="number"!=typeof D?z[2]:D,h="number"!=typeof h?z[3]:h,U="number"!=typeof U?z[4]:U,F="number"!=typeof F?z[5]:F],typeof k.ctx.listener.forwardX<"u"?(k.ctx.listener.forwardX.setTargetAtTime(g,Howler.ctx.currentTime,.1),k.ctx.listener.forwardY.setTargetAtTime(C,Howler.ctx.currentTime,.1),k.ctx.listener.forwardZ.setTargetAtTime(D,Howler.ctx.currentTime,.1),k.ctx.listener.upX.setTargetAtTime(h,Howler.ctx.currentTime,.1),k.ctx.listener.upY.setTargetAtTime(U,Howler.ctx.currentTime,.1),k.ctx.listener.upZ.setTargetAtTime(F,Howler.ctx.currentTime,.1)):k.ctx.listener.setOrientation(g,C,D,h,U,F),k)},Howl.prototype.init=function(g){return function(C){var D=this;return D._orientation=C.orientation||[1,0,0],D._stereo=C.stereo||null,D._pos=C.pos||null,D._pannerAttr={coneInnerAngle:typeof C.coneInnerAngle<"u"?C.coneInnerAngle:360,coneOuterAngle:typeof C.coneOuterAngle<"u"?C.coneOuterAngle:360,coneOuterGain:typeof C.coneOuterGain<"u"?C.coneOuterGain:0,distanceModel:typeof C.distanceModel<"u"?C.distanceModel:"inverse",maxDistance:typeof C.maxDistance<"u"?C.maxDistance:1e4,panningModel:typeof C.panningModel<"u"?C.panningModel:"HRTF",refDistance:typeof C.refDistance<"u"?C.refDistance:1,rolloffFactor:typeof C.rolloffFactor<"u"?C.rolloffFactor:1},D._onstereo=C.onstereo?[{fn:C.onstereo}]:[],D._onpos=C.onpos?[{fn:C.onpos}]:[],D._onorientation=C.onorientation?[{fn:C.onorientation}]:[],g.call(this,C)}}(Howl.prototype.init),Howl.prototype.stereo=function(g,C){var D=this;if(!D._webAudio)return D;if("loaded"!==D._state)return D._queue.push({event:"stereo",action:function(){D.stereo(g,C)}}),D;var h=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof C>"u"){if("number"!=typeof g)return D._stereo;D._stereo=g,D._pos=[g,0,0]}for(var U=D._getSoundIds(C),F=0;F<U.length;F++){var k=D._soundById(U[F]);if(k){if("number"!=typeof g)return k._stereo;k._stereo=g,k._pos=[g,0,0],k._node&&(k._pannerAttr.panningModel="equalpower",(!k._panner||!k._panner.pan)&&m(k,h),"spatial"===h?typeof k._panner.positionX<"u"?(k._panner.positionX.setValueAtTime(g,Howler.ctx.currentTime),k._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),k._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):k._panner.setPosition(g,0,0):k._panner.pan.setValueAtTime(g,Howler.ctx.currentTime)),D._emit("stereo",k._id)}}return D},Howl.prototype.pos=function(g,C,D,h){var U=this;if(!U._webAudio)return U;if("loaded"!==U._state)return U._queue.push({event:"pos",action:function(){U.pos(g,C,D,h)}}),U;if(C="number"!=typeof C?0:C,D="number"!=typeof D?-.5:D,typeof h>"u"){if("number"!=typeof g)return U._pos;U._pos=[g,C,D]}for(var F=U._getSoundIds(h),k=0;k<F.length;k++){var z=U._soundById(F[k]);if(z){if("number"!=typeof g)return z._pos;z._pos=[g,C,D],z._node&&((!z._panner||z._panner.pan)&&m(z,"spatial"),typeof z._panner.positionX<"u"?(z._panner.positionX.setValueAtTime(g,Howler.ctx.currentTime),z._panner.positionY.setValueAtTime(C,Howler.ctx.currentTime),z._panner.positionZ.setValueAtTime(D,Howler.ctx.currentTime)):z._panner.setPosition(g,C,D)),U._emit("pos",z._id)}}return U},Howl.prototype.orientation=function(g,C,D,h){var U=this;if(!U._webAudio)return U;if("loaded"!==U._state)return U._queue.push({event:"orientation",action:function(){U.orientation(g,C,D,h)}}),U;if(C="number"!=typeof C?U._orientation[1]:C,D="number"!=typeof D?U._orientation[2]:D,typeof h>"u"){if("number"!=typeof g)return U._orientation;U._orientation=[g,C,D]}for(var F=U._getSoundIds(h),k=0;k<F.length;k++){var z=U._soundById(F[k]);if(z){if("number"!=typeof g)return z._orientation;z._orientation=[g,C,D],z._node&&(z._panner||(z._pos||(z._pos=U._pos||[0,0,-.5]),m(z,"spatial")),typeof z._panner.orientationX<"u"?(z._panner.orientationX.setValueAtTime(g,Howler.ctx.currentTime),z._panner.orientationY.setValueAtTime(C,Howler.ctx.currentTime),z._panner.orientationZ.setValueAtTime(D,Howler.ctx.currentTime)):z._panner.setOrientation(g,C,D)),U._emit("orientation",z._id)}}return U},Howl.prototype.pannerAttr=function(){var D,h,U,g=this,C=arguments;if(!g._webAudio)return g;if(0===C.length)return g._pannerAttr;if(1===C.length){if("object"!=typeof C[0])return(U=g._soundById(parseInt(C[0],10)))?U._pannerAttr:g._pannerAttr;D=C[0],typeof h>"u"&&(D.pannerAttr||(D.pannerAttr={coneInnerAngle:D.coneInnerAngle,coneOuterAngle:D.coneOuterAngle,coneOuterGain:D.coneOuterGain,distanceModel:D.distanceModel,maxDistance:D.maxDistance,refDistance:D.refDistance,rolloffFactor:D.rolloffFactor,panningModel:D.panningModel}),g._pannerAttr={coneInnerAngle:typeof D.pannerAttr.coneInnerAngle<"u"?D.pannerAttr.coneInnerAngle:g._coneInnerAngle,coneOuterAngle:typeof D.pannerAttr.coneOuterAngle<"u"?D.pannerAttr.coneOuterAngle:g._coneOuterAngle,coneOuterGain:typeof D.pannerAttr.coneOuterGain<"u"?D.pannerAttr.coneOuterGain:g._coneOuterGain,distanceModel:typeof D.pannerAttr.distanceModel<"u"?D.pannerAttr.distanceModel:g._distanceModel,maxDistance:typeof D.pannerAttr.maxDistance<"u"?D.pannerAttr.maxDistance:g._maxDistance,refDistance:typeof D.pannerAttr.refDistance<"u"?D.pannerAttr.refDistance:g._refDistance,rolloffFactor:typeof D.pannerAttr.rolloffFactor<"u"?D.pannerAttr.rolloffFactor:g._rolloffFactor,panningModel:typeof D.pannerAttr.panningModel<"u"?D.pannerAttr.panningModel:g._panningModel})}else 2===C.length&&(D=C[0],h=parseInt(C[1],10));for(var F=g._getSoundIds(h),k=0;k<F.length;k++)if(U=g._soundById(F[k])){var z=U._pannerAttr;z={coneInnerAngle:typeof D.coneInnerAngle<"u"?D.coneInnerAngle:z.coneInnerAngle,coneOuterAngle:typeof D.coneOuterAngle<"u"?D.coneOuterAngle:z.coneOuterAngle,coneOuterGain:typeof D.coneOuterGain<"u"?D.coneOuterGain:z.coneOuterGain,distanceModel:typeof D.distanceModel<"u"?D.distanceModel:z.distanceModel,maxDistance:typeof D.maxDistance<"u"?D.maxDistance:z.maxDistance,refDistance:typeof D.refDistance<"u"?D.refDistance:z.refDistance,rolloffFactor:typeof D.rolloffFactor<"u"?D.rolloffFactor:z.rolloffFactor,panningModel:typeof D.panningModel<"u"?D.panningModel:z.panningModel};var B=U._panner;B||(U._pos||(U._pos=g._pos||[0,0,-.5]),m(U,"spatial"),B=U._panner),B.coneInnerAngle=z.coneInnerAngle,B.coneOuterAngle=z.coneOuterAngle,B.coneOuterGain=z.coneOuterGain,B.distanceModel=z.distanceModel,B.maxDistance=z.maxDistance,B.refDistance=z.refDistance,B.rolloffFactor=z.rolloffFactor,B.panningModel=z.panningModel}return g},Sound.prototype.init=function(g){return function(){var C=this,D=C._parent;C._orientation=D._orientation,C._stereo=D._stereo,C._pos=D._pos,C._pannerAttr=D._pannerAttr,g.call(this),C._stereo?D.stereo(C._stereo):C._pos&&D.pos(C._pos[0],C._pos[1],C._pos[2],C._id)}}(Sound.prototype.init),Sound.prototype.reset=function(g){return function(){var C=this,D=C._parent;return C._orientation=D._orientation,C._stereo=D._stereo,C._pos=D._pos,C._pannerAttr=D._pannerAttr,C._stereo?D.stereo(C._stereo):C._pos?D.pos(C._pos[0],C._pos[1],C._pos[2],C._id):C._panner&&(C._panner.disconnect(0),C._panner=void 0,D._refreshBuffer(C)),g.call(this)}}(Sound.prototype.reset);var m=function(g,C){"spatial"===(C=C||"spatial")?(g._panner=Howler.ctx.createPanner(),g._panner.coneInnerAngle=g._pannerAttr.coneInnerAngle,g._panner.coneOuterAngle=g._pannerAttr.coneOuterAngle,g._panner.coneOuterGain=g._pannerAttr.coneOuterGain,g._panner.distanceModel=g._pannerAttr.distanceModel,g._panner.maxDistance=g._pannerAttr.maxDistance,g._panner.refDistance=g._pannerAttr.refDistance,g._panner.rolloffFactor=g._pannerAttr.rolloffFactor,g._panner.panningModel=g._pannerAttr.panningModel,typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(g._pos[0],Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(g._pos[1],Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(g._pos[2],Howler.ctx.currentTime)):g._panner.setPosition(g._pos[0],g._pos[1],g._pos[2]),typeof g._panner.orientationX<"u"?(g._panner.orientationX.setValueAtTime(g._orientation[0],Howler.ctx.currentTime),g._panner.orientationY.setValueAtTime(g._orientation[1],Howler.ctx.currentTime),g._panner.orientationZ.setValueAtTime(g._orientation[2],Howler.ctx.currentTime)):g._panner.setOrientation(g._orientation[0],g._orientation[1],g._orientation[2])):(g._panner=Howler.ctx.createStereoPanner(),g._panner.pan.setValueAtTime(g._stereo,Howler.ctx.currentTime)),g._panner.connect(g._node),g._paused||g._parent.pause(g._id,!0).play(g._id,!0)}}()},7662:(bn,be,w)=>{"use strict";w.d(be,{mo:()=>fn});var r=w(28407);const g=(()=>{let nn=0;return()=>(nn+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${nn}`)})();function D(nn){const xn=[];for(let sr=0,br=nn.length;sr<br;sr++)xn.push(nn[sr]);return xn}function h(nn,xn){const br=(nn.ownerDocument.defaultView||window).getComputedStyle(nn).getPropertyValue(xn);return br?parseFloat(br.replace("px","")):0}function k(nn,xn={}){const sr=xn.width||function U(nn){const xn=h(nn,"border-left-width"),sr=h(nn,"border-right-width");return nn.clientWidth+xn+sr}(nn),br=xn.height||function F(nn){const xn=h(nn,"border-top-width"),sr=h(nn,"border-bottom-width");return nn.clientHeight+xn+sr}(nn);return{width:sr,height:br}}const B=16384;function b(nn){return new Promise((xn,sr)=>{const br=new Image;br.decode=()=>xn(br),br.onload=()=>xn(br),br.onerror=sr,br.crossOrigin="anonymous",br.decoding="async",br.src=nn})}function ce(){return(ce=(0,r.A)(function*(nn){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(nn)).then(encodeURIComponent).then(xn=>`data:image/svg+xml;charset=utf-8,${xn}`)})).apply(this,arguments)}function se(){return se=(0,r.A)(function*(nn,xn,sr){const br="http://www.w3.org/2000/svg",Vr=document.createElementNS(br,"svg"),_r=document.createElementNS(br,"foreignObject");return Vr.setAttribute("width",`${xn}`),Vr.setAttribute("height",`${sr}`),Vr.setAttribute("viewBox",`0 0 ${xn} ${sr}`),_r.setAttribute("width","100%"),_r.setAttribute("height","100%"),_r.setAttribute("x","0"),_r.setAttribute("y","0"),_r.setAttribute("externalResourcesRequired","true"),Vr.appendChild(_r),_r.appendChild(nn),function J(nn){return ce.apply(this,arguments)}(Vr)}),se.apply(this,arguments)}const Q=(nn,xn)=>{if(nn instanceof xn)return!0;const sr=Object.getPrototypeOf(nn);return null!==sr&&(sr.constructor.name===xn.name||Q(sr,xn))};function q(nn,xn,sr){const br=window.getComputedStyle(nn,sr),Vr=br.getPropertyValue("content");if(""===Vr||"none"===Vr)return;const _r=g();try{xn.className=`${xn.className} ${_r}`}catch{return}const jt=document.createElement("style");jt.appendChild(function Me(nn,xn,sr){const br=`.${nn}:${xn}`,Vr=sr.cssText?function Ie(nn){const xn=nn.getPropertyValue("content");return`${nn.cssText} content: '${xn.replace(/'|"/g,"")}';`}(sr):function ae(nn){return D(nn).map(xn=>`${xn}: ${nn.getPropertyValue(xn)}${nn.getPropertyPriority(xn)?" !important":""};`).join(" ")}(sr);return document.createTextNode(`${br}{${Vr}}`)}(_r,sr,br)),xn.appendChild(jt)}const ge="application/font-woff",K="image/jpeg",Ne={woff:ge,woff2:ge,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:K,jpeg:K,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ge(nn){const xn=function Ve(nn){const xn=/\.([^./]*?)$/g.exec(nn);return xn?xn[1]:""}(nn).toLowerCase();return Ne[xn]||""}function _t(nn){return-1!==nn.search(/^(data:)/)}function zt(nn,xn){return`data:${xn};base64,${nn}`}function Rn(nn,xn,sr){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.A)(function*(nn,xn,sr){const br=yield fetch(nn,xn);if(404===br.status)throw new Error(`Resource "${br.url}" not found`);const Vr=yield br.blob();return new Promise((_r,jt)=>{const pe=new FileReader;pe.onerror=jt,pe.onloadend=()=>{try{_r(sr({res:br,result:pe.result}))}catch(ht){jt(ht)}},pe.readAsDataURL(Vr)})})).apply(this,arguments)}const De={};function We(nn,xn,sr){return st.apply(this,arguments)}function st(){return(st=(0,r.A)(function*(nn,xn,sr){const br=function He(nn,xn,sr){let br=nn.replace(/\?.*/,"");return sr&&(br=nn),/ttf|otf|eot|woff2?/i.test(br)&&(br=br.replace(/.*\//,"")),xn?`[${xn}]${br}`:br}(nn,xn,sr.includeQueryParams);if(null!=De[br])return De[br];let Vr;sr.cacheBust&&(nn+=(/\?/.test(nn)?"&":"?")+(new Date).getTime());try{const _r=yield Rn(nn,sr.fetchRequestInit,({res:jt,result:pe})=>(xn||(xn=jt.headers.get("Content-Type")||""),function gt(nn){return nn.split(/,/)[1]}(pe)));Vr=zt(_r,xn)}catch(_r){Vr=sr.imagePlaceholder||"";let jt=`Failed to fetch resource: ${nn}`;_r&&(jt="string"==typeof _r?_r:_r.message),jt&&console.warn(jt)}return De[br]=Vr,Vr})).apply(this,arguments)}function wt(){return(wt=(0,r.A)(function*(nn){const xn=nn.toDataURL();return"data:,"===xn?nn.cloneNode(!1):b(xn)})).apply(this,arguments)}function je(){return(je=(0,r.A)(function*(nn,xn){if(nn.currentSrc){const _r=document.createElement("canvas"),jt=_r.getContext("2d");return _r.width=nn.clientWidth,_r.height=nn.clientHeight,jt?.drawImage(nn,0,0,_r.width,_r.height),b(_r.toDataURL())}const sr=nn.poster,br=Ge(sr);return b(yield We(sr,br,xn))})).apply(this,arguments)}function ne(){return(ne=(0,r.A)(function*(nn){var xn;try{if(null!==(xn=nn?.contentDocument)&&void 0!==xn&&xn.body)return yield ye(nn.contentDocument.body,{},!0)}catch{}return nn.cloneNode(!1)})).apply(this,arguments)}function te(){return te=(0,r.A)(function*(nn,xn){return Q(nn,HTMLCanvasElement)?function ft(nn){return wt.apply(this,arguments)}(nn):Q(nn,HTMLVideoElement)?function kt(nn,xn){return je.apply(this,arguments)}(nn,xn):Q(nn,HTMLIFrameElement)?function Ce(nn){return ne.apply(this,arguments)}(nn):nn.cloneNode(!1)}),te.apply(this,arguments)}const y=nn=>null!=nn.tagName&&"SLOT"===nn.tagName.toUpperCase();function Y(){return(Y=(0,r.A)(function*(nn,xn,sr){var br,Vr;let _r=[];return _r=y(nn)&&nn.assignedNodes?D(nn.assignedNodes()):Q(nn,HTMLIFrameElement)&&null!==(br=nn.contentDocument)&&void 0!==br&&br.body?D(nn.contentDocument.body.childNodes):D((null!==(Vr=nn.shadowRoot)&&void 0!==Vr?Vr:nn).childNodes),0===_r.length||Q(nn,HTMLVideoElement)||(yield _r.reduce((jt,pe)=>jt.then(()=>ye(pe,sr)).then(ht=>{ht&&xn.appendChild(ht)}),Promise.resolve())),xn})).apply(this,arguments)}function x(){return(x=(0,r.A)(function*(nn,xn){const sr=nn.querySelectorAll?nn.querySelectorAll("use"):[];if(0===sr.length)return nn;const br={};for(let _r=0;_r<sr.length;_r++){const pe=sr[_r].getAttribute("xlink:href");if(pe){const ht=nn.querySelector(pe),pn=document.querySelector(pe);!ht&&pn&&!br[pe]&&(br[pe]=yield ye(pn,xn,!0))}}const Vr=Object.values(br);if(Vr.length){const _r="http://www.w3.org/1999/xhtml",jt=document.createElementNS(_r,"svg");jt.setAttribute("xmlns",_r),jt.style.position="absolute",jt.style.width="0",jt.style.height="0",jt.style.overflow="hidden",jt.style.display="none";const pe=document.createElementNS(_r,"defs");jt.appendChild(pe);for(let ht=0;ht<Vr.length;ht++)pe.appendChild(Vr[ht]);nn.appendChild(jt)}return nn})).apply(this,arguments)}function ye(nn,xn,sr){return Te.apply(this,arguments)}function Te(){return Te=(0,r.A)(function*(nn,xn,sr){return sr||!xn.filter||xn.filter(nn)?Promise.resolve(nn).then(br=>function Re(nn,xn){return te.apply(this,arguments)}(br,xn)).then(br=>function M(nn,xn,sr){return Y.apply(this,arguments)}(nn,br,xn)).then(br=>function f(nn,xn){return Q(xn,Element)&&(function G(nn,xn){const sr=xn.style;if(!sr)return;const br=window.getComputedStyle(nn);br.cssText?(sr.cssText=br.cssText,sr.transformOrigin=br.transformOrigin):D(br).forEach(Vr=>{let _r=br.getPropertyValue(Vr);"font-size"===Vr&&_r.endsWith("px")&&(_r=Math.floor(parseFloat(_r.substring(0,_r.length-2)))-.1+"px"),Q(nn,HTMLIFrameElement)&&"display"===Vr&&"inline"===_r&&(_r="block"),"d"===Vr&&xn.getAttribute("d")&&(_r=`path(${xn.getAttribute("d")})`),sr.setProperty(Vr,_r,br.getPropertyPriority(Vr))})}(nn,xn),function $(nn,xn){q(nn,xn,":before"),q(nn,xn,":after")}(nn,xn),function _e(nn,xn){Q(nn,HTMLTextAreaElement)&&(xn.innerHTML=nn.value),Q(nn,HTMLInputElement)&&xn.setAttribute("value",nn.value)}(nn,xn),function Z(nn,xn){if(Q(nn,HTMLSelectElement)){const br=Array.from(xn.children).find(Vr=>nn.value===Vr.getAttribute("value"));br&&br.setAttribute("selected","")}}(nn,xn)),xn}(nn,br)).then(br=>function V(nn,xn){return x.apply(this,arguments)}(br,xn)):null}),Te.apply(this,arguments)}const ke=/url\((['"]?)([^'"]+?)\1\)/g,Ee=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,nt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Qe(){return(Qe=(0,r.A)(function*(nn,xn,sr,br,Vr){try{const _r=sr?function m(nn,xn){if(nn.match(/^[a-z]+:\/\//i))return nn;if(nn.match(/^\/\//))return window.location.protocol+nn;if(nn.match(/^[a-z]+:/i))return nn;const sr=document.implementation.createHTMLDocument(),br=sr.createElement("base"),Vr=sr.createElement("a");return sr.head.appendChild(br),sr.body.appendChild(Vr),xn&&(br.href=xn),Vr.href=nn,Vr.href}(xn,sr):xn,jt=Ge(xn);let pe;return pe=Vr?zt(yield Vr(_r),jt):yield We(_r,jt,br),nn.replace(function at(nn){const xn=nn.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${xn})(['"]?\\))`,"g")}(xn),`$1${pe}$3`)}catch{}return nn})).apply(this,arguments)}function it(nn){return-1!==nn.search(ke)}function Mt(nn,xn,sr){return lt.apply(this,arguments)}function lt(){return lt=(0,r.A)(function*(nn,xn,sr){if(!it(nn))return nn;const br=function Ft(nn,{preferredFontFormat:xn}){return xn?nn.replace(nt,sr=>{for(;;){const[br,,Vr]=Ee.exec(sr)||[];if(!Vr)return"";if(Vr===xn)return`src: ${br};`}}):nn}(nn,sr);return function yt(nn){const xn=[];return nn.replace(ke,(sr,br,Vr)=>(xn.push(Vr),sr)),xn.filter(sr=>!_t(sr))}(br).reduce((_r,jt)=>_r.then(pe=>function Jt(nn,xn,sr,br,Vr){return Qe.apply(this,arguments)}(pe,jt,xn,sr)),Promise.resolve(br))}),lt.apply(this,arguments)}function Bt(nn,xn,sr){return ct.apply(this,arguments)}function ct(){return(ct=(0,r.A)(function*(nn,xn,sr){var br;const Vr=null===(br=xn.style)||void 0===br?void 0:br.getPropertyValue(nn);if(Vr){const _r=yield Mt(Vr,null,sr);return xn.style.setProperty(nn,_r,xn.style.getPropertyPriority(nn)),!0}return!1})).apply(this,arguments)}function rt(){return(rt=(0,r.A)(function*(nn,xn){(yield Bt("background",nn,xn))||(yield Bt("background-image",nn,xn)),(yield Bt("mask",nn,xn))||(yield Bt("mask-image",nn,xn))})).apply(this,arguments)}function vn(){return(vn=(0,r.A)(function*(nn,xn){const sr=Q(nn,HTMLImageElement);if((!sr||_t(nn.src))&&(!Q(nn,SVGImageElement)||_t(nn.href.baseVal)))return;const br=sr?nn.src:nn.href.baseVal,Vr=yield We(br,Ge(br),xn);yield new Promise((_r,jt)=>{nn.onload=_r,nn.onerror=jt;const pe=nn;pe.decode&&(pe.decode=_r),"lazy"===pe.loading&&(pe.loading="eager"),sr?(nn.srcset="",nn.src=Vr):nn.href.baseVal=Vr})})).apply(this,arguments)}function Un(){return(Un=(0,r.A)(function*(nn,xn){const br=D(nn.childNodes).map(Vr=>Jn(Vr,xn));yield Promise.all(br).then(()=>nn)})).apply(this,arguments)}function Jn(nn,xn){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,r.A)(function*(nn,xn){Q(nn,Element)&&(yield function Tt(nn,xn){return rt.apply(this,arguments)}(nn,xn),yield function Et(nn,xn){return vn.apply(this,arguments)}(nn,xn),yield function In(nn,xn){return Un.apply(this,arguments)}(nn,xn))}),Cr.apply(this,arguments)}const cn={};function Yt(nn){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.A)(function*(nn){let xn=cn[nn];return null!=xn||(xn={url:nn,cssText:yield(yield fetch(nn)).text()},cn[nn]=xn),xn})).apply(this,arguments)}function jn(nn,xn){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,r.A)(function*(nn,xn){let sr=nn.cssText;const br=/url\(["']?([^"')]+)["']?\)/g,_r=(sr.match(/url\([^)]+\)/g)||[]).map(function(){var jt=(0,r.A)(function*(pe){let ht=pe.replace(br,"$1");return ht.startsWith("https://")||(ht=new URL(ht,nn.url).href),Rn(ht,xn.fetchRequestInit,({result:pn})=>(sr=sr.replace(pe,`url(${pn})`),[pe,pn]))});return function(pe){return jt.apply(this,arguments)}}());return Promise.all(_r).then(()=>sr)}),Lt.apply(this,arguments)}function Dn(nn){if(null==nn)return[];const xn=[];let br=nn.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const Vr=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const ht=Vr.exec(br);if(null===ht)break;xn.push(ht[0])}br=br.replace(Vr,"");const _r=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,pe=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let ht=_r.exec(br);if(null===ht){if(ht=pe.exec(br),null===ht)break;_r.lastIndex=pe.lastIndex}else pe.lastIndex=_r.lastIndex;xn.push(ht[0])}return xn}function Sn(){return(Sn=(0,r.A)(function*(nn,xn){const sr=[],br=[];return nn.forEach(Vr=>{if("cssRules"in Vr)try{D(Vr.cssRules||[]).forEach((_r,jt)=>{if(_r.type===CSSRule.IMPORT_RULE){let pe=jt+1;const pn=Yt(_r.href).then(On=>jn(On,xn)).then(On=>Dn(On).forEach(lr=>{try{Vr.insertRule(lr,lr.startsWith("@import")?pe+=1:Vr.cssRules.length)}catch(Dr){console.error("Error inserting rule from remote css",{rule:lr,error:Dr})}})).catch(On=>{console.error("Error loading remote css",On.toString())});br.push(pn)}})}catch(_r){const jt=nn.find(pe=>null==pe.href)||document.styleSheets[0];null!=Vr.href&&br.push(Yt(Vr.href).then(pe=>jn(pe,xn)).then(pe=>Dn(pe).forEach(ht=>{jt.insertRule(ht,Vr.cssRules.length)})).catch(pe=>{console.error("Error loading remote stylesheet",pe)})),console.error("Error inlining remote css file",_r)}}),Promise.all(br).then(()=>(nn.forEach(Vr=>{if("cssRules"in Vr)try{D(Vr.cssRules||[]).forEach(_r=>{sr.push(_r)})}catch(_r){console.error(`Error while reading CSS rules from ${Vr.href}`,_r)}}),sr))})).apply(this,arguments)}function Bn(){return Bn=(0,r.A)(function*(nn,xn){if(null==nn.ownerDocument)throw new Error("Provided element is not within a Document");const sr=D(nn.ownerDocument.styleSheets),br=yield function Pn(nn,xn){return Sn.apply(this,arguments)}(sr,xn);return function Tn(nn){return nn.filter(xn=>xn.type===CSSRule.FONT_FACE_RULE).filter(xn=>it(xn.style.getPropertyValue("src")))}(br)}),Bn.apply(this,arguments)}function me(){return me=(0,r.A)(function*(nn,xn){const sr=yield function dn(nn,xn){return Bn.apply(this,arguments)}(nn,xn);return(yield Promise.all(sr.map(Vr=>Mt(Vr.cssText,Vr.parentStyleSheet?Vr.parentStyleSheet.href:null,xn)))).join("\n")}),me.apply(this,arguments)}function Ue(){return Ue=(0,r.A)(function*(nn,xn){const sr=null!=xn.fontEmbedCSS?xn.fontEmbedCSS:xn.skipFonts?null:yield function Ct(nn,xn){return me.apply(this,arguments)}(nn,xn);if(sr){const br=document.createElement("style"),Vr=document.createTextNode(sr);br.appendChild(Vr),nn.firstChild?nn.insertBefore(br,nn.firstChild):nn.appendChild(br)}}),Ue.apply(this,arguments)}function Ht(){return Ht=(0,r.A)(function*(nn,xn={}){const{width:sr,height:br}=k(nn,xn),Vr=yield ye(nn,xn,!0);return yield function ue(nn,xn){return Ue.apply(this,arguments)}(Vr,xn),yield Jn(Vr,xn),function wn(nn,xn){const{style:sr}=nn;xn.backgroundColor&&(sr.backgroundColor=xn.backgroundColor),xn.width&&(sr.width=`${xn.width}px`),xn.height&&(sr.height=`${xn.height}px`);const br=xn.style;null!=br&&Object.keys(br).forEach(Vr=>{sr[Vr]=br[Vr]})}(Vr,xn),yield function W(nn,xn,sr){return se.apply(this,arguments)}(Vr,sr,br)}),Ht.apply(this,arguments)}function fn(nn){return cr.apply(this,arguments)}function cr(){return cr=(0,r.A)(function*(nn,xn={}){const{width:sr,height:br}=k(nn,xn),Vr=yield function bt(nn){return Ht.apply(this,arguments)}(nn,xn),_r=yield b(Vr),jt=document.createElement("canvas"),pe=jt.getContext("2d"),ht=xn.pixelRatio||function z(){let nn,xn;try{xn=process}catch{}const sr=xn&&xn.env?xn.env.devicePixelRatio:null;return sr&&(nn=parseInt(sr,10),Number.isNaN(nn)&&(nn=1)),nn||window.devicePixelRatio||1}(),pn=xn.canvasWidth||sr,On=xn.canvasHeight||br;return jt.width=pn*ht,jt.height=On*ht,xn.skipAutoScale||function A(nn){(nn.width>B||nn.height>B)&&(nn.width>B&&nn.height>B?nn.width>nn.height?(nn.height*=B/nn.width,nn.width=B):(nn.width*=B/nn.height,nn.height=B):nn.width>B?(nn.height*=B/nn.width,nn.width=B):(nn.width*=B/nn.height,nn.height=B))}(jt),jt.style.width=`${pn}`,jt.style.height=`${On}`,xn.backgroundColor&&(pe.fillStyle=xn.backgroundColor,pe.fillRect(0,0,jt.width,jt.height)),pe.drawImage(_r,0,0,jt.width,jt.height),jt}),cr.apply(this,arguments)}},49204:function(bn,be,w){var r;bn=w.nmd(bn),function(){var m,h="Expected a function",F="__lodash_hash_undefined__",z="__lodash_placeholder__",q=128,Rn=1/0,Oe=9007199254740991,We=4294967295,wt=[["ary",q],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],kt="[object Arguments]",je="[object Array]",ne="[object Boolean]",Re="[object Date]",y="[object Error]",M="[object Function]",Y="[object GeneratorFunction]",G="[object Map]",_e="[object Number]",f="[object Object]",V="[object Promise]",ye="[object RegExp]",Te="[object Set]",ke="[object String]",Ee="[object Symbol]",at="[object WeakMap]",Jt="[object ArrayBuffer]",Qe="[object DataView]",Ft="[object Float32Array]",it="[object Float64Array]",Mt="[object Int8Array]",lt="[object Int16Array]",Bt="[object Int32Array]",ct="[object Uint8Array]",Tt="[object Uint8ClampedArray]",rt="[object Uint16Array]",Et="[object Uint32Array]",vn=/\b__p \+= '';/g,In=/\b(__p \+=) '' \+/g,Un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jn=/&(?:amp|lt|gt|quot|#39);/g,Cr=/[&<>"']/g,wn=RegExp(Jn.source),cn=RegExp(Cr.source),Yt=/<%-([\s\S]+?)%>/g,Qt=/<%([\s\S]+?)%>/g,jn=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dn=/^\w*$/,Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,Tn=RegExp(Sn.source),dn=/^\s+/,Bn=/\s/,Ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,me=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bt=/[()=,{}\[\]\/\s]/,Ht=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cr=/\w*$/,Hr=/^[-+]0x[0-9a-f]+$/i,ti=/^0b[01]+$/i,mi=/^\[object .+?Constructor\]$/,li=/^0o[0-7]+$/i,Io=/^(?:0|[1-9]\d*)$/,Co=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wo=/($^)/,So=/['\n\r\u2028\u2029\\]/g,xo="\\ud800-\\udfff",sr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",br="\\u2700-\\u27bf",Vr="a-z\\xdf-\\xf6\\xf8-\\xff",pn="A-Z\\xc0-\\xd6\\xd8-\\xde",On="\\ufe0e\\ufe0f",lr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ni="["+xo+"]",Yr="["+lr+"]",ui="["+sr+"]",Ri="\\d+",eo="["+br+"]",Ki="["+Vr+"]",Qi="[^"+xo+lr+Ri+br+Vr+pn+"]",Yi="\\ud83c[\\udffb-\\udfff]",bo="[^"+xo+"]",Bo="(?:\\ud83c[\\udde6-\\uddff]){2}",Gt="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="["+pn+"]",Xt="(?:"+Ki+"|"+Qi+")",Cn="(?:"+Se+"|"+Qi+")",tr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kr="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ii="(?:"+ui+"|"+Yi+")?",$r="["+On+"]?",xs=$r+Ii+"(?:\\u200d(?:"+[bo,Bo,Gt].join("|")+")"+$r+Ii+")*",da="(?:"+[eo,Bo,Gt].join("|")+")"+xs,Os="(?:"+[bo+ui+"?",ui,Bo,Gt,ni].join("|")+")",Lo=RegExp("['\u2019]","g"),ps=RegExp(ui,"g"),Xo=RegExp(Yi+"(?="+Yi+")|"+Os+xs,"g"),Ps=RegExp([Se+"?"+Ki+"+"+tr+"(?="+[Yr,Se,"$"].join("|")+")",Cn+"+"+kr+"(?="+[Yr,Se+Xt,"$"].join("|")+")",Se+"?"+Xt+"+"+tr,Se+"+"+kr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ri,da].join("|"),"g"),Gn=RegExp("[\\u200d"+xo+sr+On+"]"),Hn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ir=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ri=-1,si={};si[Ft]=si[it]=si[Mt]=si[lt]=si[Bt]=si[ct]=si[Tt]=si[rt]=si[Et]=!0,si[kt]=si[je]=si[Jt]=si[ne]=si[Qe]=si[Re]=si[y]=si[M]=si[G]=si[_e]=si[f]=si[ye]=si[Te]=si[ke]=si[at]=!1;var Xr={};Xr[kt]=Xr[je]=Xr[Jt]=Xr[Qe]=Xr[ne]=Xr[Re]=Xr[Ft]=Xr[it]=Xr[Mt]=Xr[lt]=Xr[Bt]=Xr[G]=Xr[_e]=Xr[f]=Xr[ye]=Xr[Te]=Xr[ke]=Xr[Ee]=Xr[ct]=Xr[Tt]=Xr[rt]=Xr[Et]=!0,Xr[y]=Xr[M]=Xr[at]=!1;var Pi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},os=parseFloat,es=parseInt,rs="object"==typeof global&&global&&global.Object===Object&&global,Fs="object"==typeof self&&self&&self.Object===Object&&self,Ro=rs||Fs||Function("return this")(),Ms=be&&!be.nodeType&&be,gs=Ms&&bn&&!bn.nodeType&&bn,ha=gs&&gs.exports===Ms,Es=ha&&rs.process,Vo=function(){try{return gs&&gs.require&&gs.require("util").types||Es&&Es.binding&&Es.binding("util")}catch{}}(),Ls=Vo&&Vo.isArrayBuffer,_s=Vo&&Vo.isDate,ea=Vo&&Vo.isMap,ds=Vo&&Vo.isRegExp,Vn=Vo&&Vo.isSet,Wn=Vo&&Vo.isTypedArray;function er(qt,Fn,En){switch(En.length){case 0:return qt.call(Fn);case 1:return qt.call(Fn,En[0]);case 2:return qt.call(Fn,En[0],En[1]);case 3:return qt.call(Fn,En[0],En[1],En[2])}return qt.apply(Fn,En)}function gr(qt,Fn,En,qn){for(var jr=-1,bi=null==qt?0:qt.length;++jr<bi;){var Oi=qt[jr];Fn(qn,Oi,En(Oi),qt)}return qn}function ai(qt,Fn){for(var En=-1,qn=null==qt?0:qt.length;++En<qn&&!1!==Fn(qt[En],En,qt););return qt}function Ti(qt,Fn){for(var En=null==qt?0:qt.length;En--&&!1!==Fn(qt[En],En,qt););return qt}function Zi(qt,Fn){for(var En=-1,qn=null==qt?0:qt.length;++En<qn;)if(!Fn(qt[En],En,qt))return!1;return!0}function go(qt,Fn){for(var En=-1,qn=null==qt?0:qt.length,jr=0,bi=[];++En<qn;){var Oi=qt[En];Fn(Oi,En,qt)&&(bi[jr++]=Oi)}return bi}function zi(qt,Fn){return!(null==qt||!qt.length)&&to(qt,Fn,0)>-1}function Vt(qt,Fn,En){for(var qn=-1,jr=null==qt?0:qt.length;++qn<jr;)if(En(Fn,qt[qn]))return!0;return!1}function an(qt,Fn){for(var En=-1,qn=null==qt?0:qt.length,jr=Array(qn);++En<qn;)jr[En]=Fn(qt[En],En,qt);return jr}function un(qt,Fn){for(var En=-1,qn=Fn.length,jr=qt.length;++En<qn;)qt[jr+En]=Fn[En];return qt}function ar(qt,Fn,En,qn){var jr=-1,bi=null==qt?0:qt.length;for(qn&&bi&&(En=qt[++jr]);++jr<bi;)En=Fn(En,qt[jr],jr,qt);return En}function Er(qt,Fn,En,qn){var jr=null==qt?0:qt.length;for(qn&&jr&&(En=qt[--jr]);jr--;)En=Fn(En,qt[jr],jr,qt);return En}function rr(qt,Fn){for(var En=-1,qn=null==qt?0:qt.length;++En<qn;)if(Fn(qt[En],En,qt))return!0;return!1}var Rr=Oo("length");function zr(qt,Fn,En){var qn;return En(qt,function(jr,bi,Oi){if(Fn(jr,bi,Oi))return qn=bi,!1}),qn}function Ni(qt,Fn,En,qn){for(var jr=qt.length,bi=En+(qn?1:-1);qn?bi--:++bi<jr;)if(Fn(qt[bi],bi,qt))return bi;return-1}function to(qt,Fn,En){return Fn==Fn?function xt(qt,Fn,En){for(var qn=En-1,jr=qt.length;++qn<jr;)if(qt[qn]===Fn)return qn;return-1}(qt,Fn,En):Ni(qt,co,En)}function ho(qt,Fn,En,qn){for(var jr=En-1,bi=qt.length;++jr<bi;)if(qn(qt[jr],Fn))return jr;return-1}function co(qt){return qt!=qt}function _o(qt,Fn){var En=null==qt?0:qt.length;return En?Kt(qt,Fn)/En:NaN}function Oo(qt){return function(Fn){return null==Fn?m:Fn[qt]}}function vo(qt){return function(Fn){return null==qt?m:qt[Fn]}}function Yo(qt,Fn,En,qn,jr){return jr(qt,function(bi,Oi,xi){En=qn?(qn=!1,bi):Fn(En,bi,Oi,xi)}),En}function Kt(qt,Fn){for(var En,qn=-1,jr=qt.length;++qn<jr;){var bi=Fn(qt[qn]);bi!==m&&(En=En===m?bi:En+bi)}return En}function Ke(qt,Fn){for(var En=-1,qn=Array(qt);++En<qt;)qn[En]=Fn(En);return qn}function de(qt){return qt&&qt.slice(0,$n(qt)+1).replace(dn,"")}function O(qt){return function(Fn){return qt(Fn)}}function ie(qt,Fn){return an(Fn,function(En){return qt[En]})}function X(qt,Fn){return qt.has(Fn)}function Ye(qt,Fn){for(var En=-1,qn=qt.length;++En<qn&&to(Fn,qt[En],0)>-1;);return En}function Pt(qt,Fn){for(var En=qt.length;En--&&to(Fn,qt[En],0)>-1;);return En}var hr=vo({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Li=vo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $i(qt){return"\\"+Pi[qt]}function Gr(qt){return Gn.test(qt)}function It(qt){var Fn=-1,En=Array(qt.size);return qt.forEach(function(qn,jr){En[++Fn]=[jr,qn]}),En}function P(qt,Fn){return function(En){return qt(Fn(En))}}function N(qt,Fn){for(var En=-1,qn=qt.length,jr=0,bi=[];++En<qn;){var Oi=qt[En];(Oi===Fn||Oi===z)&&(qt[En]=z,bi[jr++]=En)}return bi}function Pe(qt){var Fn=-1,En=Array(qt.size);return qt.forEach(function(qn){En[++Fn]=qn}),En}function ln(qt){return Gr(qt)?function dr(qt){for(var Fn=Xo.lastIndex=0;Xo.test(qt);)++Fn;return Fn}(qt):Rr(qt)}function Ln(qt){return Gr(qt)?function Mr(qt){return qt.match(Xo)||[]}(qt):function Pr(qt){return qt.split("")}(qt)}function $n(qt){for(var Fn=qt.length;Fn--&&Bn.test(qt.charAt(Fn)););return Fn}var pr=vo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fi=function qt(Fn){var c,En=(Fn=null==Fn?Ro:Fi.defaults(Ro.Object(),Fn,Fi.pick(Ro,Ir))).Array,qn=Fn.Date,jr=Fn.Error,bi=Fn.Function,Oi=Fn.Math,xi=Fn.Object,Ei=Fn.RegExp,Ho=Fn.String,ji=Fn.TypeError,No=En.prototype,ts=xi.prototype,Ts=Fn["__core-js_shared__"],Qo=bi.prototype.toString,Go=ts.hasOwnProperty,Ea=0,Gs=(c=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",oa=ts.toString,Sa=Qo.call(xi),Ja=Ro._,gc=Ei("^"+Qo.call(Go).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$a=ha?Fn.Buffer:m,Pa=Fn.Symbol,Wi=Fn.Uint8Array,fo=$a?$a.allocUnsafe:m,ko=P(xi.getPrototypeOf,xi),ks=xi.create,as=ts.propertyIsEnumerable,sa=No.splice,Ds=Pa?Pa.isConcatSpreadable:m,Bs=Pa?Pa.iterator:m,ms=Pa?Pa.toStringTag:m,v=function(){try{var c=pu(xi,"defineProperty");return c({},"",{}),c}catch{}}(),j=Fn.clearTimeout!==Ro.clearTimeout&&Fn.clearTimeout,I=qn&&qn.now!==Ro.Date.now&&qn.now,re=Fn.setTimeout!==Ro.setTimeout&&Fn.setTimeout,Ze=Oi.ceil,Dt=Oi.floor,Zt=xi.getOwnPropertySymbols,nr=$a?$a.isBuffer:m,Ur=Fn.isFinite,Jr=No.join,di=P(xi.keys,xi),Kr=Oi.max,fi=Oi.min,Di=qn.now,Zr=Fn.parseInt,so=Oi.random,cs=No.reverse,Us=pu(Fn,"DataView"),As=pu(Fn,"Map"),ta=pu(Fn,"Promise"),aa=pu(Fn,"Set"),hs=pu(Fn,"WeakMap"),Ns=pu(xi,"create"),ya=hs&&new hs,jo={},ll=Kc(Us),uc=Kc(As),Aa=Kc(ta),Ws=Kc(aa),_c=Kc(hs),vc=Pa?Pa.prototype:m,ka=vc?vc.valueOf:m,Bc=vc?vc.toString:m;function hn(c){if(_a(c)&&!Tr(c)&&!(c instanceof Bi)){if(c instanceof va)return c;if(Go.call(c,"__wrapped__"))return Kd(c)}return new va(c)}var dc=function(){function c(){}return function(E){if(!la(E))return{};if(ks)return ks(E);c.prototype=E;var he=new c;return c.prototype=m,he}}();function Nc(){}function va(c,E){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=m}function Bi(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=We,this.__views__=[]}function yc(c){var E=-1,he=null==c?0:c.length;for(this.clear();++E<he;){var ot=c[E];this.set(ot[0],ot[1])}}function tc(c){var E=-1,he=null==c?0:c.length;for(this.clear();++E<he;){var ot=c[E];this.set(ot[0],ot[1])}}function Dc(c){var E=-1,he=null==c?0:c.length;for(this.clear();++E<he;){var ot=c[E];this.set(ot[0],ot[1])}}function Jc(c){var E=-1,he=null==c?0:c.length;for(this.__data__=new Dc;++E<he;)this.add(c[E])}function $e(c){var E=this.__data__=new tc(c);this.size=E.size}function Nr(c,E){var he=Tr(c),ot=!he&&Ci(c),$t=!he&&!ot&&ns(c),An=!he&&!ot&&!$t&&Oc(c),Zn=he||ot||$t||An,Xn=Zn?Ke(c.length,Ho):[],Sr=Xn.length;for(var Si in c)(E||Go.call(c,Si))&&(!Zn||!("length"==Si||$t&&("offset"==Si||"parent"==Si)||An&&("buffer"==Si||"byteLength"==Si||"byteOffset"==Si)||Il(Si,Sr)))&&Xn.push(Si);return Xn}function wr(c){var E=c.length;return E?c[ja(0,E-1)]:m}function io(c,E){return jd(Ic(c),pc(E,0,c.length))}function Uo(c){return jd(Ic(c))}function Zo(c,E,he){(he!==m&&!Wr(c[E],he)||he===m&&!(E in c))&&Ia(c,E,he)}function Hs(c,E,he){var ot=c[E];(!Go.call(c,E)||!Wr(ot,he)||he===m&&!(E in c))&&Ia(c,E,he)}function na(c,E){for(var he=c.length;he--;)if(Wr(c[he][0],E))return he;return-1}function js(c,E,he,ot){return qc(c,function($t,An,Zn){E(ot,$t,he($t),Zn)}),ot}function Uc(c,E){return c&&jc(E,Ar(E),c)}function Ia(c,E,he){"__proto__"==E&&v?v(c,E,{configurable:!0,enumerable:!0,value:he,writable:!0}):c[E]=he}function ul(c,E){for(var he=-1,ot=E.length,$t=En(ot),An=null==c;++he<ot;)$t[he]=An?m:Sd(c,E[he]);return $t}function pc(c,E,he){return c==c&&(he!==m&&(c=c<=he?c:he),E!==m&&(c=c>=E?c:E)),c}function mc(c,E,he,ot,$t,An){var Zn,Xn=1&E,Sr=2&E,Si=4&E;if(he&&(Zn=$t?he(c,ot,$t,An):he(c)),Zn!==m)return Zn;if(!la(c))return c;var Mi=Tr(c);if(Mi){if(Zn=function Ya(c){var E=c.length,he=new c.constructor(E);return E&&"string"==typeof c[0]&&Go.call(c,"index")&&(he.index=c.index,he.input=c.input),he}(c),!Xn)return Ic(c,Zn)}else{var Gi=ic(c),Eo=Gi==M||Gi==Y;if(ns(c))return us(c,Xn);if(Gi==f||Gi==kt||Eo&&!$t){if(Zn=Sr||Eo?{}:xh(c),!Xn)return Sr?function Nd(c,E){return jc(c,Of(c),E)}(c,function Ra(c,E){return c&&jc(E,no(E),c)}(Zn,c)):function ud(c,E){return jc(c,Wl(c),E)}(c,Uc(Zn,c))}else{if(!Xr[Gi])return $t?c:{};Zn=function Pf(c,E,he){var ot=c.constructor;switch(E){case Jt:return fa(c);case ne:case Re:return new ot(+c);case Qe:return function Cc(c,E){var he=E?fa(c.buffer):c.buffer;return new c.constructor(he,c.byteOffset,c.byteLength)}(c,he);case Ft:case it:case Mt:case lt:case Bt:case ct:case Tt:case rt:case Et:return Tf(c,he);case G:return new ot;case _e:case ke:return new ot(c);case ye:return function Gp(c){var E=new c.constructor(c.source,cr.exec(c));return E.lastIndex=c.lastIndex,E}(c);case Te:return new ot;case Ee:return function gh(c){return ka?xi(ka.call(c)):{}}(c)}}(c,Gi,Xn)}}An||(An=new $e);var zo=An.get(c);if(zo)return zo;An.set(c,Zn),Md(c)?c.forEach(function(ss){Zn.add(mc(ss,E,he,ss,c,An))}):Pl(c)&&c.forEach(function(ss,Vs){Zn.set(Vs,mc(ss,E,he,Vs,c,An))});var ys=Mi?m:(Si?Sr?hu:$l:Sr?no:Ar)(c);return ai(ys||c,function(ss,Vs){ys&&(ss=c[Vs=ss]),Hs(Zn,Vs,mc(ss,E,he,Vs,c,An))}),Zn}function od(c,E,he){var ot=he.length;if(null==c)return!ot;for(c=xi(c);ot--;){var $t=he[ot],Zn=c[$t];if(Zn===m&&!($t in c)||!(0,E[$t])(Zn))return!1}return!0}function sd(c,E,he){if("function"!=typeof c)throw new ji(h);return iu(function(){c.apply(m,he)},E)}function Zc(c,E,he,ot){var $t=-1,An=zi,Zn=!0,Xn=c.length,Sr=[],Si=E.length;if(!Xn)return Sr;he&&(E=an(E,O(he))),ot?(An=Vt,Zn=!1):E.length>=200&&(An=X,Zn=!1,E=new Jc(E));e:for(;++$t<Xn;){var Mi=c[$t],Gi=null==he?Mi:he(Mi);if(Mi=ot||0!==Mi?Mi:0,Zn&&Gi==Gi){for(var Eo=Si;Eo--;)if(E[Eo]===Gi)continue e;Sr.push(Mi)}else An(E,Gi,ot)||Sr.push(Mi)}return Sr}hn.templateSettings={escape:Yt,evaluate:Qt,interpolate:jn,variable:"",imports:{_:hn}},(hn.prototype=Nc.prototype).constructor=hn,(va.prototype=dc(Nc.prototype)).constructor=va,(Bi.prototype=dc(Nc.prototype)).constructor=Bi,yc.prototype.clear=function Ua(){this.__data__=Ns?Ns(null):{},this.size=0},yc.prototype.delete=function ma(c){var E=this.has(c)&&delete this.__data__[c];return this.size-=E?1:0,E},yc.prototype.get=function Ll(c){var E=this.__data__;if(Ns){var he=E[c];return he===F?m:he}return Go.call(E,c)?E[c]:m},yc.prototype.has=function Jo(c){var E=this.__data__;return Ns?E[c]!==m:Go.call(E,c)},yc.prototype.set=function Ta(c,E){var he=this.__data__;return this.size+=this.has(c)?0:1,he[c]=Ns&&E===m?F:E,this},tc.prototype.clear=function Lc(){this.__data__=[],this.size=0},tc.prototype.delete=function Ko(c){var E=this.__data__,he=na(E,c);return!(he<0||(he==E.length-1?E.pop():sa.call(E,he,1),--this.size,0))},tc.prototype.get=function bc(c){var E=this.__data__,he=na(E,c);return he<0?m:E[he][1]},tc.prototype.has=function nc(c){return na(this.__data__,c)>-1},tc.prototype.set=function rc(c,E){var he=this.__data__,ot=na(he,c);return ot<0?(++this.size,he.push([c,E])):he[ot][1]=E,this},Dc.prototype.clear=function Ul(){this.size=0,this.__data__={hash:new yc,map:new(As||tc),string:new yc}},Dc.prototype.delete=function au(c){var E=md(this,c).delete(c);return this.size-=E?1:0,E},Dc.prototype.get=function rd(c){return md(this,c).get(c)},Dc.prototype.has=function fc(c){return md(this,c).has(c)},Dc.prototype.set=function id(c,E){var he=md(this,c),ot=he.size;return he.set(c,E),this.size+=he.size==ot?0:1,this},Jc.prototype.add=Jc.prototype.push=function Fd(c){return this.__data__.set(c,F),this},Jc.prototype.has=function ve(c){return this.__data__.has(c)},$e.prototype.clear=function Ae(){this.__data__=new tc,this.size=0},$e.prototype.delete=function Xe(c){var E=this.__data__,he=E.delete(c);return this.size=E.size,he},$e.prototype.get=function St(c){return this.__data__.get(c)},$e.prototype.has=function sn(c){return this.__data__.has(c)},$e.prototype.set=function Nn(c,E){var he=this.__data__;if(he instanceof tc){var ot=he.__data__;if(!As||ot.length<199)return ot.push([c,E]),this.size=++he.size,this;he=this.__data__=new Dc(ot)}return he.set(c,E),this.size=he.size,this};var qc=_h(Wa),Sc=_h(Vc,!0);function Pu(c,E){var he=!0;return qc(c,function(ot,$t,An){return he=!!E(ot,$t,An)}),he}function tu(c,E,he){for(var ot=-1,$t=c.length;++ot<$t;){var An=c[ot],Zn=E(An);if(null!=Zn&&(Xn===m?Zn==Zn&&!Ha(Zn):he(Zn,Xn)))var Xn=Zn,Sr=An}return Sr}function Fu(c,E){var he=[];return qc(c,function(ot,$t,An){E(ot,$t,An)&&he.push(ot)}),he}function Ca(c,E,he,ot,$t){var An=-1,Zn=c.length;for(he||(he=Th),$t||($t=[]);++An<Zn;){var Xn=c[An];E>0&&he(Xn)?E>1?Ca(Xn,E-1,he,ot,$t):un($t,Xn):ot||($t[$t.length]=Xn)}return $t}var Va=Sf(),ku=Sf(!0);function Wa(c,E){return c&&Va(c,E,Ar)}function Vc(c,E){return c&&ku(c,E,Ar)}function Ga(c,E){return go(E,function(he){return ra(c[he])})}function Gc(c,E){for(var he=0,ot=(E=dl(E,c)).length;null!=c&&he<ot;)c=c[il(E[he++])];return he&&he==ot?c:m}function Rc(c,E,he){var ot=E(c);return Tr(c)?ot:un(ot,he(c))}function Za(c){return null==c?c===m?"[object Undefined]":"[object Null]":ms&&ms in xi(c)?function Gd(c){var E=Go.call(c,ms),he=c[ms];try{c[ms]=m;var ot=!0}catch{}var $t=oa.call(c);return ot&&(E?c[ms]=he:delete c[ms]),$t}(c):function Bf(c){return oa.call(c)}(c)}function qa(c,E){return c>E}function Cl(c,E){return null!=c&&Go.call(c,E)}function Bu(c,E){return null!=c&&E in xi(c)}function p(c,E,he){for(var ot=he?Vt:zi,$t=c[0].length,An=c.length,Zn=An,Xn=En(An),Sr=1/0,Si=[];Zn--;){var Mi=c[Zn];Zn&&E&&(Mi=an(Mi,O(E))),Sr=fi(Mi.length,Sr),Xn[Zn]=!he&&(E||$t>=120&&Mi.length>=120)?new Jc(Zn&&Mi):m}Mi=c[0];var Gi=-1,Eo=Xn[0];e:for(;++Gi<$t&&Si.length<Sr;){var zo=Mi[Gi],is=E?E(zo):zo;if(zo=he||0!==zo?zo:0,!(Eo?X(Eo,is):ot(Si,is,he))){for(Zn=An;--Zn;){var ys=Xn[Zn];if(!(ys?X(ys,is):ot(c[Zn],is,he)))continue e}Eo&&Eo.push(is),Si.push(zo)}}return Si}function ze(c,E,he){var ot=null==(c=ru(c,E=dl(E,c)))?c:c[il(Na(E))];return null==ot?m:er(ot,c,he)}function ut(c){return _a(c)&&Za(c)==kt}function en(c,E,he,ot,$t){return c===E||(null==c||null==E||!_a(c)&&!_a(E)?c!=c&&E!=E:function kn(c,E,he,ot,$t,An){var Zn=Tr(c),Xn=Tr(E),Sr=Zn?je:ic(c),Si=Xn?je:ic(E),Mi=(Sr=Sr==kt?f:Sr)==f,Gi=(Si=Si==kt?f:Si)==f,Eo=Sr==Si;if(Eo&&ns(c)){if(!ns(E))return!1;Zn=!0,Mi=!1}if(Eo&&!Mi)return An||(An=new $e),Zn||Oc(c)?tl(c,E,he,ot,$t,An):function Kp(c,E,he,ot,$t,An,Zn){switch(he){case Qe:if(c.byteLength!=E.byteLength||c.byteOffset!=E.byteOffset)return!1;c=c.buffer,E=E.buffer;case Jt:return!(c.byteLength!=E.byteLength||!An(new Wi(c),new Wi(E)));case ne:case Re:case _e:return Wr(+c,+E);case y:return c.name==E.name&&c.message==E.message;case ye:case ke:return c==E+"";case G:var Xn=It;case Te:if(Xn||(Xn=Pe),c.size!=E.size&&!(1&ot))return!1;var Si=Zn.get(c);if(Si)return Si==E;ot|=2,Zn.set(c,E);var Mi=tl(Xn(c),Xn(E),ot,$t,An,Zn);return Zn.delete(c),Mi;case Ee:if(ka)return ka.call(c)==ka.call(E)}return!1}(c,E,Sr,he,ot,$t,An);if(!(1&he)){var zo=Mi&&Go.call(c,"__wrapped__"),is=Gi&&Go.call(E,"__wrapped__");if(zo||is){var ys=zo?c.value():c,ss=is?E.value():E;return An||(An=new $e),$t(ys,ss,he,ot,An)}}return!!Eo&&(An||(An=new $e),function zl(c,E,he,ot,$t,An){var Zn=1&he,Xn=$l(c),Sr=Xn.length;if(Sr!=$l(E).length&&!Zn)return!1;for(var Gi=Sr;Gi--;){var Eo=Xn[Gi];if(!(Zn?Eo in E:Go.call(E,Eo)))return!1}var zo=An.get(c),is=An.get(E);if(zo&&is)return zo==E&&is==c;var ys=!0;An.set(c,E),An.set(E,c);for(var ss=Zn;++Gi<Sr;){var Vs=c[Eo=Xn[Gi]],qs=E[Eo];if(ot)var Yc=Zn?ot(qs,Vs,Eo,E,c,An):ot(Vs,qs,Eo,c,E,An);if(!(Yc===m?Vs===qs||$t(Vs,qs,he,ot,An):Yc)){ys=!1;break}ss||(ss="constructor"==Eo)}if(ys&&!ss){var xc=c.constructor,Qc=E.constructor;xc!=Qc&&"constructor"in c&&"constructor"in E&&!("function"==typeof xc&&xc instanceof xc&&"function"==typeof Qc&&Qc instanceof Qc)&&(ys=!1)}return An.delete(c),An.delete(E),ys}(c,E,he,ot,$t,An))}(c,E,he,ot,en,$t))}function fr(c,E,he,ot){var $t=he.length,An=$t,Zn=!ot;if(null==c)return!An;for(c=xi(c);$t--;){var Xn=he[$t];if(Zn&&Xn[2]?Xn[1]!==c[Xn[0]]:!(Xn[0]in c))return!1}for(;++$t<An;){var Sr=(Xn=he[$t])[0],Si=c[Sr],Mi=Xn[1];if(Zn&&Xn[2]){if(Si===m&&!(Sr in c))return!1}else{var Gi=new $e;if(ot)var Eo=ot(Si,Mi,Sr,c,E,Gi);if(!(Eo===m?en(Mi,Si,3,ot,Gi):Eo))return!1}}return!0}function Br(c){return!(!la(c)||function ml(c){return!!Gs&&Gs in c}(c))&&(ra(c)?gc:mi).test(Kc(c))}function Ui(c){return"function"==typeof c?c:null==c?kc:"object"==typeof c?Tr(c)?Fo(c[0],c[1]):To(c):Mm(c)}function qr(c){if(!Xl(c))return di(c);var E=[];for(var he in xi(c))Go.call(c,he)&&"constructor"!=he&&E.push(he);return E}function $o(c,E){return c<E}function Do(c,E){var he=-1,ot=yi(c)?En(c.length):[];return qc(c,function($t,An,Zn){ot[++he]=E($t,An,Zn)}),ot}function To(c){var E=Vd(c);return 1==E.length&&E[0][2]?Rh(E[0][0],E[0][1]):function(he){return he===c||fr(he,c,E)}}function Fo(c,E){return _u(c)&&Ff(E)?Rh(il(c),E):function(he){var ot=Sd(he,c);return ot===m&&ot===E?Rd(he,c):en(E,ot,3)}}function mr(c,E,he,ot,$t){c!==E&&Va(E,function(An,Zn){if($t||($t=new $e),la(An))!function yo(c,E,he,ot,$t,An,Zn){var Xn=vd(c,he),Sr=vd(E,he),Si=Zn.get(Sr);if(Si)Zo(c,he,Si);else{var Mi=An?An(Xn,Sr,he+"",c,E,Zn):m,Gi=Mi===m;if(Gi){var Eo=Tr(Sr),zo=!Eo&&ns(Sr),is=!Eo&&!zo&&Oc(Sr);Mi=Sr,Eo||zo||is?Tr(Xn)?Mi=Xn:ao(Xn)?Mi=Ic(Xn):zo?(Gi=!1,Mi=us(Sr,!0)):is?(Gi=!1,Mi=Tf(Sr,!0)):Mi=[]:vl(Sr)||Ci(Sr)?(Mi=Xn,Ci(Xn)?Mi=ef(Xn):(!la(Xn)||ra(Xn))&&(Mi=xh(Sr))):Gi=!1}Gi&&(Zn.set(Sr,Mi),$t(Mi,Sr,ot,An,Zn),Zn.delete(Sr)),Zo(c,he,Mi)}}(c,E,Zn,he,mr,ot,$t);else{var Xn=ot?ot(vd(c,Zn),An,Zn+"",c,E,$t):m;Xn===m&&(Xn=An),Zo(c,Zn,Xn)}},no)}function Ss(c,E){var he=c.length;if(he)return Il(E+=E<0?he:0,he)?c[E]:m}function zs(c,E,he){E=E.length?an(E,function(An){return Tr(An)?function(Zn){return Gc(Zn,1===An.length?An[0]:An)}:An}):[kc];var ot=-1;return E=an(E,O(qo())),function Je(qt,Fn){var En=qt.length;for(qt.sort(Fn);En--;)qt[En]=qt[En].value;return qt}(Do(c,function(An,Zn,Xn){return{criteria:an(E,function(Si){return Si(An)}),index:++ot,value:An}}),function(An,Zn){return function Df(c,E,he){for(var ot=-1,$t=c.criteria,An=E.criteria,Zn=$t.length,Xn=he.length;++ot<Zn;){var Sr=Bd($t[ot],An[ot]);if(Sr)return ot>=Xn?Sr:Sr*("desc"==he[ot]?-1:1)}return c.index-E.index}(An,Zn,he)})}function ga(c,E,he){for(var ot=-1,$t=E.length,An={};++ot<$t;){var Zn=E[ot],Xn=Gc(c,Zn);he(Xn,Zn)&&Vl(An,dl(Zn,c),Xn)}return An}function Cs(c,E,he,ot){var $t=ot?ho:to,An=-1,Zn=E.length,Xn=c;for(c===E&&(E=Ic(E)),he&&(Xn=an(c,O(he)));++An<Zn;)for(var Sr=0,Si=E[An],Mi=he?he(Si):Si;(Sr=$t(Xn,Mi,Sr,ot))>-1;)Xn!==c&&sa.call(Xn,Sr,1),sa.call(c,Sr,1);return c}function ls(c,E){for(var he=c?E.length:0,ot=he-1;he--;){var $t=E[he];if(he==ot||$t!==An){var An=$t;Il($t)?sa.call(c,$t,1):ca(c,$t)}}return c}function ja(c,E){return c+Dt(so()*(E-c+1))}function nu(c,E){var he="";if(!c||E<1||E>Oe)return he;do{E%2&&(he+=c),(E=Dt(E/2))&&(c+=c)}while(E);return he}function Rs(c,E){return ju(Ih(c,E,kc),c+"")}function ad(c){return wr(af(c))}function wf(c,E){var he=af(c);return jd(he,pc(E,0,he.length))}function Vl(c,E,he,ot){if(!la(c))return c;for(var $t=-1,An=(E=dl(E,c)).length,Zn=An-1,Xn=c;null!=Xn&&++$t<An;){var Sr=il(E[$t]),Si=he;if("__proto__"===Sr||"constructor"===Sr||"prototype"===Sr)return c;if($t!=Zn){var Mi=Xn[Sr];(Si=ot?ot(Mi,Sr,Xn):m)===m&&(Si=la(Mi)?Mi:Il(E[$t+1])?[]:{})}Hs(Xn,Sr,Si),Xn=Xn[Sr]}return c}var Xa=ya?function(c,E){return ya.set(c,E),c}:kc,xl=v?function(c,E){return v(c,"toString",{configurable:!0,enumerable:!1,value:cp(E),writable:!0})}:kc;function xf(c){return jd(af(c))}function Fa(c,E,he){var ot=-1,$t=c.length;E<0&&(E=-E>$t?0:$t+E),(he=he>$t?$t:he)<0&&(he+=$t),$t=E>he?0:he-E>>>0,E>>>=0;for(var An=En($t);++ot<$t;)An[ot]=c[ot+E];return An}function Gl(c,E){var he;return qc(c,function(ot,$t,An){return!(he=E(ot,$t,An))}),!!he}function Ec(c,E,he){var ot=0,$t=null==c?ot:c.length;if("number"==typeof E&&E==E&&$t<=2147483647){for(;ot<$t;){var An=ot+$t>>>1,Zn=c[An];null!==Zn&&!Ha(Zn)&&(he?Zn<=E:Zn<E)?ot=An+1:$t=An}return $t}return cd(c,E,kc,he)}function cd(c,E,he,ot){var $t=0,An=null==c?0:c.length;if(0===An)return 0;for(var Zn=(E=he(E))!=E,Xn=null===E,Sr=Ha(E),Si=E===m;$t<An;){var Mi=Dt(($t+An)/2),Gi=he(c[Mi]),Eo=Gi!==m,zo=null===Gi,is=Gi==Gi,ys=Ha(Gi);if(Zn)var ss=ot||is;else ss=Si?is&&(ot||Eo):Xn?is&&Eo&&(ot||!zo):Sr?is&&Eo&&!zo&&(ot||!ys):!zo&&!ys&&(ot?Gi<=E:Gi<E);ss?$t=Mi+1:An=Mi}return fi(An,4294967294)}function ph(c,E){for(var he=-1,ot=c.length,$t=0,An=[];++he<ot;){var Zn=c[he],Xn=E?E(Zn):Zn;if(!he||!Wr(Xn,Sr)){var Sr=Xn;An[$t++]=0===Zn?0:Zn}}return An}function Mf(c){return"number"==typeof c?c:Ha(c)?NaN:+c}function Ac(c){if("string"==typeof c)return c;if(Tr(c))return an(c,Ac)+"";if(Ha(c))return Bc?Bc.call(c):"";var E=c+"";return"0"==E&&1/c==-Rn?"-0":E}function Ml(c,E,he){var ot=-1,$t=zi,An=c.length,Zn=!0,Xn=[],Sr=Xn;if(he)Zn=!1,$t=Vt;else if(An>=200){var Si=E?null:du(c);if(Si)return Pe(Si);Zn=!1,$t=X,Sr=new Jc}else Sr=E?[]:Xn;e:for(;++ot<An;){var Mi=c[ot],Gi=E?E(Mi):Mi;if(Mi=he||0!==Mi?Mi:0,Zn&&Gi==Gi){for(var Eo=Sr.length;Eo--;)if(Sr[Eo]===Gi)continue e;E&&Sr.push(Gi),Xn.push(Mi)}else $t(Sr,Gi,he)||(Sr!==Xn&&Sr.push(Gi),Xn.push(Mi))}return Xn}function ca(c,E){return null==(c=ru(c,E=dl(E,c)))||delete c[il(Na(E))]}function jl(c,E,he,ot){return Vl(c,E,he(Gc(c,E)),ot)}function Tl(c,E,he,ot){for(var $t=c.length,An=ot?$t:-1;(ot?An--:++An<$t)&&E(c[An],An,c););return he?Fa(c,ot?0:An,ot?An+1:$t):Fa(c,ot?An+1:0,ot?$t:An)}function ld(c,E){var he=c;return he instanceof Bi&&(he=he.value()),ar(E,function(ot,$t){return $t.func.apply($t.thisArg,un([ot],$t.args))},he)}function Nu(c,E,he){var ot=c.length;if(ot<2)return ot?Ml(c[0]):[];for(var $t=-1,An=En(ot);++$t<ot;)for(var Zn=c[$t],Xn=-1;++Xn<ot;)Xn!=$t&&(An[$t]=Zc(An[$t]||Zn,c[Xn],E,he));return Ml(Ca(An,1),E,he)}function mh(c,E,he){for(var ot=-1,$t=c.length,An=E.length,Zn={};++ot<$t;)he(Zn,c[ot],ot<An?E[ot]:m);return Zn}function kd(c){return ao(c)?c:[]}function Lu(c){return"function"==typeof c?c:kc}function dl(c,E){return Tr(c)?c:_u(c,E)?[c]:yd(ia(c))}var el=Rs;function hl(c,E,he){var ot=c.length;return he=he===m?ot:he,!E&&he>=ot?c:Fa(c,E,he)}var Ba=j||function(c){return Ro.clearTimeout(c)};function us(c,E){if(E)return c.slice();var he=c.length,ot=fo?fo(he):new c.constructor(he);return c.copy(ot),ot}function fa(c){var E=new c.constructor(c.byteLength);return new Wi(E).set(new Wi(c)),E}function Tf(c,E){var he=E?fa(c.buffer):c.buffer;return new c.constructor(he,c.byteOffset,c.length)}function Bd(c,E){if(c!==E){var he=c!==m,ot=null===c,$t=c==c,An=Ha(c),Zn=E!==m,Xn=null===E,Sr=E==E,Si=Ha(E);if(!Xn&&!Si&&!An&&c>E||An&&Zn&&Sr&&!Xn&&!Si||ot&&Zn&&Sr||!he&&Sr||!$t)return 1;if(!ot&&!An&&!Si&&c<E||Si&&he&&$t&&!ot&&!An||Xn&&he&&$t||!Zn&&$t||!Sr)return-1}return 0}function fl(c,E,he,ot){for(var $t=-1,An=c.length,Zn=he.length,Xn=-1,Sr=E.length,Si=Kr(An-Zn,0),Mi=En(Sr+Si),Gi=!ot;++Xn<Sr;)Mi[Xn]=E[Xn];for(;++$t<Zn;)(Gi||$t<An)&&(Mi[he[$t]]=c[$t]);for(;Si--;)Mi[Xn++]=c[$t++];return Mi}function pl(c,E,he,ot){for(var $t=-1,An=c.length,Zn=-1,Xn=he.length,Sr=-1,Si=E.length,Mi=Kr(An-Xn,0),Gi=En(Mi+Si),Eo=!ot;++$t<Mi;)Gi[$t]=c[$t];for(var zo=$t;++Sr<Si;)Gi[zo+Sr]=E[Sr];for(;++Zn<Xn;)(Eo||$t<An)&&(Gi[zo+he[Zn]]=c[$t++]);return Gi}function Ic(c,E){var he=-1,ot=c.length;for(E||(E=En(ot));++he<ot;)E[he]=c[he];return E}function jc(c,E,he,ot){var $t=!he;he||(he={});for(var An=-1,Zn=E.length;++An<Zn;){var Xn=E[An],Sr=ot?ot(he[Xn],c[Xn],Xn,he,c):m;Sr===m&&(Sr=c[Xn]),$t?Ia(he,Xn,Sr):Hs(he,Xn,Sr)}return he}function Uu(c,E){return function(he,ot){var $t=Tr(he)?gr:js,An=E?E():{};return $t(he,c,qo(ot,2),An)}}function cu(c){return Rs(function(E,he){var ot=-1,$t=he.length,An=$t>1?he[$t-1]:m,Zn=$t>2?he[2]:m;for(An=c.length>3&&"function"==typeof An?($t--,An):m,Zn&&ec(he[0],he[1],Zn)&&(An=$t<3?m:An,$t=1),E=xi(E);++ot<$t;){var Xn=he[ot];Xn&&c(E,Xn,ot,An)}return E})}function _h(c,E){return function(he,ot){if(null==he)return he;if(!yi(he))return c(he,ot);for(var $t=he.length,An=E?$t:-1,Zn=xi(he);(E?An--:++An<$t)&&!1!==ot(Zn[An],An,Zn););return he}}function Sf(c){return function(E,he,ot){for(var $t=-1,An=xi(E),Zn=ot(E),Xn=Zn.length;Xn--;){var Sr=Zn[c?Xn:++$t];if(!1===he(An[Sr],Sr,An))break}return E}}function Kl(c){return function(E){var he=Gr(E=ia(E))?Ln(E):m,ot=he?he[0]:E.charAt(0),$t=he?hl(he,1).join(""):E.slice(1);return ot[c]()+$t}}function Dl(c){return function(E){return ar(Cm(Ag(E).replace(Lo,"")),c,"")}}function Sl(c){return function(){var E=arguments;switch(E.length){case 0:return new c;case 1:return new c(E[0]);case 2:return new c(E[0],E[1]);case 3:return new c(E[0],E[1],E[2]);case 4:return new c(E[0],E[1],E[2],E[3]);case 5:return new c(E[0],E[1],E[2],E[3],E[4]);case 6:return new c(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new c(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var he=dc(c.prototype),ot=c.apply(he,E);return la(ot)?ot:he}}function yh(c){return function(E,he,ot){var $t=xi(E);if(!yi(E)){var An=qo(he,3);E=Ar(E),he=function(Xn){return An($t[Xn],Xn,$t)}}var Zn=c(E,he,ot);return Zn>-1?$t[An?E[Zn]:Zn]:m}}function Rf(c){return nl(function(E){var he=E.length,ot=he,$t=va.prototype.thru;for(c&&E.reverse();ot--;){var An=E[ot];if("function"!=typeof An)throw new ji(h);if($t&&!Zn&&"wrapper"==pd(An))var Zn=new va([],!0)}for(ot=Zn?ot:he;++ot<he;){var Xn=pd(An=E[ot]),Sr="wrapper"==Xn?Gu(An):m;Zn=Sr&&vu(Sr[0])&&424==Sr[1]&&!Sr[4].length&&1==Sr[9]?Zn[pd(Sr[0])].apply(Zn,Sr[3]):1==An.length&&vu(An)?Zn[Xn]():Zn.thru(An)}return function(){var Si=arguments,Mi=Si[0];if(Zn&&1==Si.length&&Tr(Mi))return Zn.plant(Mi).value();for(var Gi=0,Eo=he?E[Gi].apply(this,Si):Mi;++Gi<he;)Eo=E[Gi].call(this,Eo);return Eo}})}function dd(c,E,he,ot,$t,An,Zn,Xn,Sr,Si){var Mi=E&q,Gi=1&E,Eo=2&E,zo=24&E,is=512&E,ys=Eo?m:Sl(c);return function ss(){for(var Vs=arguments.length,qs=En(Vs),Yc=Vs;Yc--;)qs[Yc]=arguments[Yc];if(zo)var xc=fu(ss),Qc=function zn(qt,Fn){for(var En=qt.length,qn=0;En--;)qt[En]===Fn&&++qn;return qn}(qs,xc);if(ot&&(qs=fl(qs,ot,$t,zo)),An&&(qs=pl(qs,An,Zn,zo)),Vs-=Qc,zo&&Vs<Si){var za=N(qs,xc);return uu(c,E,dd,ss.placeholder,he,qs,za,Xn,Sr,Si-Vs)}var bl=Gi?he:this,Su=Eo?bl[c]:c;return Vs=qs.length,Xn?qs=function _d(c,E){for(var he=c.length,ot=fi(E.length,he),$t=Ic(c);ot--;){var An=E[ot];c[ot]=Il(An,he)?$t[An]:m}return c}(qs,Xn):is&&Vs>1&&qs.reverse(),Mi&&Sr<Vs&&(qs.length=Sr),this&&this!==Ro&&this instanceof ss&&(Su=ys||Sl(Su)),Su.apply(bl,qs)}}function jp(c,E){return function(he,ot){return function ee(c,E,he,ot){return Wa(c,function($t,An,Zn){E(ot,he($t),An,Zn)}),ot}(he,c,E(ot),{})}}function Ld(c,E){return function(he,ot){var $t;if(he===m&&ot===m)return E;if(he!==m&&($t=he),ot!==m){if($t===m)return ot;"string"==typeof he||"string"==typeof ot?(he=Ac(he),ot=Ac(ot)):(he=Mf(he),ot=Mf(ot)),$t=c(he,ot)}return $t}}function hd(c){return nl(function(E){return E=an(E,O(qo())),Rs(function(he){var ot=this;return c(E,function($t){return er($t,ot,he)})})})}function Rl(c,E){var he=(E=E===m?" ":Ac(E)).length;if(he<2)return he?nu(E,c):E;var ot=nu(E,Ze(c/ln(E)));return Gr(E)?hl(Ln(ot),0,c).join(""):ot.slice(0,c)}function lu(c){return function(E,he,ot){return ot&&"number"!=typeof ot&&ec(E,he,ot)&&(he=ot=m),E=Hc(E),he===m?(he=E,E=0):he=Hc(he),function wl(c,E,he,ot){for(var $t=-1,An=Kr(Ze((E-c)/(he||1)),0),Zn=En(An);An--;)Zn[ot?An:++$t]=c,c+=he;return Zn}(E,he,ot=ot===m?E<he?1:-1:Hc(ot),c)}}function Ud(c){return function(E,he){return"string"==typeof E&&"string"==typeof he||(E=zc(E),he=zc(he)),c(E,he)}}function uu(c,E,he,ot,$t,An,Zn,Xn,Sr,Si){var Mi=8&E;E|=Mi?32:64,4&(E&=~(Mi?64:32))||(E&=-4);var ys=[c,E,$t,Mi?An:m,Mi?Zn:m,Mi?m:An,Mi?m:Zn,Xn,Sr,Si],ss=he.apply(m,ys);return vu(c)&&Oa(ss,ys),ss.placeholder=ot,Oh(ss,c,E)}function Eh(c){var E=Oi[c];return function(he,ot){if(he=zc(he),(ot=null==ot?0:fi(Is(ot),292))&&Ur(he)){var $t=(ia(he)+"e").split("e");return+(($t=(ia(E($t[0]+"e"+(+$t[1]+ot)))+"e").split("e"))[0]+"e"+(+$t[1]-ot))}return E(he)}}var du=aa&&1/Pe(new aa([,-0]))[1]==Rn?function(c){return new aa(c)}:xm;function fd(c){return function(E){var he=ic(E);return he==G?It(E):he==Te?function tt(qt){var Fn=-1,En=Array(qt.size);return qt.forEach(function(qn){En[++Fn]=[qn,qn]}),En}(E):function L(qt,Fn){return an(Fn,function(En){return[En,qt[En]]})}(E,c(E))}}function Hl(c,E,he,ot,$t,An,Zn,Xn){var Sr=2&E;if(!Sr&&"function"!=typeof c)throw new ji(h);var Si=ot?ot.length:0;if(Si||(E&=-97,ot=$t=m),Zn=Zn===m?Zn:Kr(Is(Zn),0),Xn=Xn===m?Xn:Is(Xn),Si-=$t?$t.length:0,64&E){var Mi=ot,Gi=$t;ot=$t=m}var Eo=Sr?m:Gu(c),zo=[c,E,he,ot,$t,Mi,Gi,An,Zn,Xn];if(Eo&&function kf(c,E){var he=c[1],ot=E[1],$t=he|ot;if(!($t<131)&&!(ot==q&&8==he||ot==q&&256==he&&c[7].length<=E[8]||384==ot&&E[7].length<=E[8]&&8==he))return c;1&ot&&(c[2]=E[2],$t|=1&he?0:4);var Xn=E[3];if(Xn){var Sr=c[3];c[3]=Sr?fl(Sr,Xn,E[4]):Xn,c[4]=Sr?N(c[3],z):E[4]}(Xn=E[5])&&(c[5]=(Sr=c[5])?pl(Sr,Xn,E[6]):Xn,c[6]=Sr?N(c[5],z):E[6]),(Xn=E[7])&&(c[7]=Xn),ot&q&&(c[8]=null==c[8]?E[8]:fi(c[8],E[8])),null==c[9]&&(c[9]=E[9]),c[0]=E[0],c[1]=$t}(zo,Eo),c=zo[0],E=zo[1],he=zo[2],ot=zo[3],$t=zo[4],!(Xn=zo[9]=zo[9]===m?Sr?0:c.length:Kr(zo[9]-Si,0))&&24&E&&(E&=-25),E&&1!=E)is=8==E||16==E?function vh(c,E,he){var ot=Sl(c);return function $t(){for(var An=arguments.length,Zn=En(An),Xn=An,Sr=fu($t);Xn--;)Zn[Xn]=arguments[Xn];var Si=An<3&&Zn[0]!==Sr&&Zn[An-1]!==Sr?[]:N(Zn,Sr);return(An-=Si.length)<he?uu(c,E,dd,$t.placeholder,m,Zn,Si,m,m,he-An):er(this&&this!==Ro&&this instanceof $t?ot:c,this,Zn)}}(c,E,Xn):32!=E&&33!=E||$t.length?dd.apply(m,zo):function bh(c,E,he,ot){var $t=1&E,An=Sl(c);return function Zn(){for(var Xn=-1,Sr=arguments.length,Si=-1,Mi=ot.length,Gi=En(Mi+Sr),Eo=this&&this!==Ro&&this instanceof Zn?An:c;++Si<Mi;)Gi[Si]=ot[Si];for(;Sr--;)Gi[Si++]=arguments[++Xn];return er(Eo,$t?he:this,Gi)}}(c,E,he,ot);else var is=function Vu(c,E,he){var ot=1&E,$t=Sl(c);return function An(){return(this&&this!==Ro&&this instanceof An?$t:c).apply(ot?he:this,arguments)}}(c,E,he);return Oh((Eo?Xa:Oa)(is,zo),c,E)}function Ah(c,E,he,ot){return c===m||Wr(c,ts[he])&&!Go.call(ot,he)?E:c}function Ch(c,E,he,ot,$t,An){return la(c)&&la(E)&&(An.set(E,c),mr(c,E,m,Ch,An),An.delete(E)),c}function If(c){return vl(c)?m:c}function tl(c,E,he,ot,$t,An){var Zn=1&he,Xn=c.length,Sr=E.length;if(Xn!=Sr&&!(Zn&&Sr>Xn))return!1;var Si=An.get(c),Mi=An.get(E);if(Si&&Mi)return Si==E&&Mi==c;var Gi=-1,Eo=!0,zo=2&he?new Jc:m;for(An.set(c,E),An.set(E,c);++Gi<Xn;){var is=c[Gi],ys=E[Gi];if(ot)var ss=Zn?ot(ys,is,Gi,E,c,An):ot(is,ys,Gi,c,E,An);if(ss!==m){if(ss)continue;Eo=!1;break}if(zo){if(!rr(E,function(Vs,qs){if(!X(zo,qs)&&(is===Vs||$t(is,Vs,he,ot,An)))return zo.push(qs)})){Eo=!1;break}}else if(is!==ys&&!$t(is,ys,he,ot,An)){Eo=!1;break}}return An.delete(c),An.delete(E),Eo}function nl(c){return ju(Ih(c,m,Eu),c+"")}function $l(c){return Rc(c,Ar,Wl)}function hu(c){return Rc(c,no,Of)}var Gu=ya?function(c){return ya.get(c)}:xm;function pd(c){for(var E=c.name+"",he=jo[E],ot=Go.call(jo,E)?he.length:0;ot--;){var $t=he[ot],An=$t.func;if(null==An||An==c)return $t.name}return E}function fu(c){return(Go.call(hn,"placeholder")?hn:c).placeholder}function qo(){var c=hn.iteratee||lf;return c=c===lf?Ui:c,arguments.length?c(arguments[0],arguments[1]):c}function md(c,E){var he=c.__data__;return function Dh(c){var E=typeof c;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==c:null===c}(E)?he["string"==typeof E?"string":"hash"]:he.map}function Vd(c){for(var E=Ar(c),he=E.length;he--;){var ot=E[he],$t=c[ot];E[he]=[ot,$t,Ff($t)]}return E}function pu(c,E){var he=function hi(qt,Fn){return null==qt?m:qt[Fn]}(c,E);return Br(he)?he:m}var Wl=Zt?function(c){return null==c?[]:(c=xi(c),go(Zt(c),function(E){return as.call(c,E)}))}:hf,Of=Zt?function(c){for(var E=[];c;)un(E,Wl(c)),c=ko(c);return E}:hf,ic=Za;function gu(c,E,he){for(var ot=-1,$t=(E=dl(E,c)).length,An=!1;++ot<$t;){var Zn=il(E[ot]);if(!(An=null!=c&&he(c,Zn)))break;c=c[Zn]}return An||++ot!=$t?An:!!($t=null==c?0:c.length)&&Qa($t)&&Il(Zn,$t)&&(Tr(c)||Ci(c))}function xh(c){return"function"!=typeof c.constructor||Xl(c)?{}:dc(ko(c))}function Th(c){return Tr(c)||Ci(c)||!!(Ds&&c&&c[Ds])}function Il(c,E){var he=typeof c;return!!(E=E??Oe)&&("number"==he||"symbol"!=he&&Io.test(c))&&c>-1&&c%1==0&&c<E}function ec(c,E,he){if(!la(he))return!1;var ot=typeof E;return!!("number"==ot?yi(he)&&Il(E,he.length):"string"==ot&&E in he)&&Wr(he[E],c)}function _u(c,E){if(Tr(c))return!1;var he=typeof c;return!("number"!=he&&"symbol"!=he&&"boolean"!=he&&null!=c&&!Ha(c))||Dn.test(c)||!Lt.test(c)||null!=E&&c in xi(E)}function vu(c){var E=pd(c),he=hn[E];if("function"!=typeof he||!(E in Bi.prototype))return!1;if(c===he)return!0;var ot=Gu(he);return!!ot&&c===ot[0]}(Us&&ic(new Us(new ArrayBuffer(1)))!=Qe||As&&ic(new As)!=G||ta&&ic(ta.resolve())!=V||aa&&ic(new aa)!=Te||hs&&ic(new hs)!=at)&&(ic=function(c){var E=Za(c),he=E==f?c.constructor:m,ot=he?Kc(he):"";if(ot)switch(ot){case ll:return Qe;case uc:return G;case Aa:return V;case Ws:return Te;case _c:return at}return E});var Sh=Ts?ra:Dm;function Xl(c){var E=c&&c.constructor;return c===("function"==typeof E&&E.prototype||ts)}function Ff(c){return c==c&&!la(c)}function Rh(c,E){return function(he){return null!=he&&he[c]===E&&(E!==m||c in xi(he))}}function Ih(c,E,he){return E=Kr(E===m?c.length-1:E,0),function(){for(var ot=arguments,$t=-1,An=Kr(ot.length-E,0),Zn=En(An);++$t<An;)Zn[$t]=ot[E+$t];$t=-1;for(var Xn=En(E+1);++$t<E;)Xn[$t]=ot[$t];return Xn[E]=he(Zn),er(c,this,Xn)}}function ru(c,E){return E.length<2?c:Gc(c,Fa(E,0,-1))}function vd(c,E){if(("constructor"!==E||"function"!=typeof c[E])&&"__proto__"!=E)return c[E]}var Oa=Ph(Xa),iu=re||function(c,E){return Ro.setTimeout(c,E)},ju=Ph(xl);function Oh(c,E,he){var ot=E+"";return ju(c,function Mh(c,E){var he=E.length;if(!he)return c;var ot=he-1;return E[ot]=(he>1?"& ":"")+E[ot],E=E.join(he>2?", ":" "),c.replace(Ct,"{\n/* [wrapped with "+E+"] */\n")}(ot,function Hp(c,E){return ai(wt,function(he){var ot="_."+he[0];E&he[1]&&!zi(c,ot)&&c.push(ot)}),c.sort()}(function mu(c){var E=c.match(me);return E?E[1].split(ue):[]}(ot),he)))}function Ph(c){var E=0,he=0;return function(){var ot=Di(),$t=16-(ot-he);if(he=ot,$t>0){if(++E>=800)return arguments[0]}else E=0;return c.apply(m,arguments)}}function jd(c,E){var he=-1,ot=c.length,$t=ot-1;for(E=E===m?ot:E;++he<E;){var An=ja(he,$t),Zn=c[An];c[An]=c[he],c[he]=Zn}return c.length=E,c}var yd=function rl(c){var E=Le(c,function(ot){return 500===he.size&&he.clear(),ot}),he=E.cache;return E}(function(c){var E=[];return 46===c.charCodeAt(0)&&E.push(""),c.replace(Pn,function(he,ot,$t,An){E.push($t?An.replace(Ht,"$1"):ot||he)}),E});function il(c){if("string"==typeof c||Ha(c))return c;var E=c+"";return"0"==E&&1/c==-Rn?"-0":E}function Kc(c){if(null!=c){try{return Qo.call(c)}catch{}try{return c+""}catch{}}return""}function Kd(c){if(c instanceof Bi)return c.clone();var E=new va(c.__wrapped__,c.__chain__);return E.__actions__=Ic(c.__actions__),E.__index__=c.__index__,E.__values__=c.__values__,E}var ol=Rs(function(c,E){return ao(c)?Zc(c,Ca(E,1,ao,!0)):[]}),zd=Rs(function(c,E){var he=Na(E);return ao(he)&&(he=m),ao(c)?Zc(c,Ca(E,1,ao,!0),qo(he,2)):[]}),bu=Rs(function(c,E){var he=Na(E);return ao(he)&&(he=m),ao(c)?Zc(c,Ca(E,1,ao,!0),m,he):[]});function wa(c,E,he){var ot=null==c?0:c.length;if(!ot)return-1;var $t=null==he?0:Is(he);return $t<0&&($t=Kr(ot+$t,0)),Ni(c,qo(E,3),$t)}function Lf(c,E,he){var ot=null==c?0:c.length;if(!ot)return-1;var $t=ot-1;return he!==m&&($t=Is(he),$t=he<0?Kr(ot+$t,0):fi($t,ot-1)),Ni(c,qo(E,3),$t,!0)}function Eu(c){return null!=c&&c.length?Ca(c,1):[]}function Cu(c){return c&&c.length?c[0]:m}var Uf=Rs(function(c){var E=an(c,kd);return E.length&&E[0]===c[0]?p(E):[]}),Ol=Rs(function(c){var E=Na(c),he=an(c,kd);return E===Na(he)?E=m:he.pop(),he.length&&he[0]===c[0]?p(he,qo(E,2)):[]}),Xd=Rs(function(c){var E=Na(c),he=an(c,kd);return(E="function"==typeof E?E:m)&&he.pop(),he.length&&he[0]===c[0]?p(he,m,E):[]});function Na(c){var E=null==c?0:c.length;return E?c[E-1]:m}var Yp=Rs(Gf);function Gf(c,E){return c&&c.length&&E&&E.length?Cs(c,E):c}var Jp=nl(function(c,E){var he=null==c?0:c.length,ot=ul(c,E);return ls(c,an(E,function($t){return Il($t,he)?+$t:$t}).sort(Bd)),ot});function Yl(c){return null==c?c:cs.call(c)}var tm=Rs(function(c){return Ml(Ca(c,1,ao,!0))}),zf=Rs(function(c){var E=Na(c);return ao(E)&&(E=m),Ml(Ca(c,1,ao,!0),qo(E,2))}),Uh=Rs(function(c){var E=Na(c);return E="function"==typeof E?E:m,Ml(Ca(c,1,ao,!0),m,E)});function Ad(c){if(!c||!c.length)return[];var E=0;return c=go(c,function(he){if(ao(he))return E=Kr(he.length,E),!0}),Ke(E,function(he){return an(c,Oo(he))})}function Yu(c,E){if(!c||!c.length)return[];var he=Ad(c);return null==E?he:an(he,function(ot){return er(E,m,ot)})}var vg=Rs(function(c,E){return ao(c)?Zc(c,E):[]}),$f=Rs(function(c){return Nu(go(c,ao))}),oc=Rs(function(c){var E=Na(c);return ao(E)&&(E=m),Nu(go(c,ao),qo(E,2))}),xu=Rs(function(c){var E=Na(c);return E="function"==typeof E?E:m,Nu(go(c,ao),m,E)}),Gh=Rs(Ad),jh=Rs(function(c){var E=c.length,he=E>1?c[E-1]:m;return he="function"==typeof he?(c.pop(),he):m,Yu(c,he)});function Qd(c){var E=hn(c);return E.__chain__=!0,E}function Zd(c,E){return E(c)}var Kh=nl(function(c){var E=c.length,he=E?c[0]:0,ot=this.__wrapped__,$t=function(An){return ul(An,c)};return!(E>1||this.__actions__.length)&&ot instanceof Bi&&Il(he)?((ot=ot.slice(he,+he+(E?1:0))).__actions__.push({func:Zd,args:[$t],thisArg:m}),new va(ot,this.__chain__).thru(function(An){return E&&!An.length&&An.push(m),An})):this.thru($t)}),Cd=Uu(function(c,E,he){Go.call(c,he)?++c[he]:Ia(c,he,1)}),Yf=yh(wa),wd=yh(Lf);function Qf(c,E){return(Tr(c)?ai:qc)(c,qo(E,3))}function Jh(c,E){return(Tr(c)?Ti:Sc)(c,qo(E,3))}var am=Uu(function(c,E,he){Go.call(c,he)?c[he].push(E):Ia(c,he,[E])}),cm=Rs(function(c,E,he){var ot=-1,$t="function"==typeof E,An=yi(c)?En(c.length):[];return qc(c,function(Zn){An[++ot]=$t?er(E,Zn,he):ze(Zn,E,he)}),An}),lm=Uu(function(c,E,he){Ia(c,he,E)});function qd(c,E){return(Tr(c)?an:Do)(c,qo(E,3))}var Zh=Uu(function(c,E,he){c[he?0:1].push(E)},function(){return[[],[]]}),hm=Rs(function(c,E){if(null==c)return[];var he=E.length;return he>1&&ec(c,E[0],E[1])?E=[]:he>2&&ec(E[0],E[1],E[2])&&(E=[E[0]]),zs(c,Ca(E,1),[])}),nh=I||function(){return Ro.Date.now()};function s(c,E,he){return E=he?m:E,Hl(c,q,m,m,m,m,E=c&&null==E?c.length:E)}function u(c,E){var he;if("function"!=typeof E)throw new ji(h);return c=Is(c),function(){return--c>0&&(he=E.apply(this,arguments)),c<=1&&(E=m),he}}var d=Rs(function(c,E,he){var ot=1;if(he.length){var $t=N(he,fu(d));ot|=32}return Hl(c,ot,E,he,$t)}),S=Rs(function(c,E,he){var ot=3;if(he.length){var $t=N(he,fu(S));ot|=32}return Hl(E,ot,c,he,$t)});function oe(c,E,he){var ot,$t,An,Zn,Xn,Sr,Si=0,Mi=!1,Gi=!1,Eo=!0;if("function"!=typeof c)throw new ji(h);function zo(za){var bl=ot,Su=$t;return ot=$t=m,Si=za,Zn=c.apply(Su,bl)}function ss(za){var bl=za-Sr;return Sr===m||bl>=E||bl<0||Gi&&za-Si>=An}function Vs(){var za=nh();if(ss(za))return qs(za);Xn=iu(Vs,function ys(za){var Gg=E-(za-Sr);return Gi?fi(Gg,An-(za-Si)):Gg}(za))}function qs(za){return Xn=m,Eo&&ot?zo(za):(ot=$t=m,Zn)}function Qc(){var za=nh(),bl=ss(za);if(ot=arguments,$t=this,Sr=za,bl){if(Xn===m)return function is(za){return Si=za,Xn=iu(Vs,E),Mi?zo(za):Zn}(Sr);if(Gi)return Ba(Xn),Xn=iu(Vs,E),zo(Sr)}return Xn===m&&(Xn=iu(Vs,E)),Zn}return E=zc(E)||0,la(he)&&(Mi=!!he.leading,An=(Gi="maxWait"in he)?Kr(zc(he.maxWait)||0,E):An,Eo="trailing"in he?!!he.trailing:Eo),Qc.cancel=function Yc(){Xn!==m&&Ba(Xn),Si=0,ot=Sr=$t=Xn=m},Qc.flush=function xc(){return Xn===m?Zn:qs(nh())},Qc}var we=Rs(function(c,E){return sd(c,1,E)}),xe=Rs(function(c,E,he){return sd(c,zc(E)||0,he)});function Le(c,E){if("function"!=typeof c||null!=E&&"function"!=typeof E)throw new ji(h);var he=function(){var ot=arguments,$t=E?E.apply(this,ot):ot[0],An=he.cache;if(An.has($t))return An.get($t);var Zn=c.apply(this,ot);return he.cache=An.set($t,Zn)||An,Zn};return he.cache=new(Le.Cache||Dc),he}function qe(c){if("function"!=typeof c)throw new ji(h);return function(){var E=arguments;switch(E.length){case 0:return!c.call(this);case 1:return!c.call(this,E[0]);case 2:return!c.call(this,E[0],E[1]);case 3:return!c.call(this,E[0],E[1],E[2])}return!c.apply(this,E)}}Le.Cache=Dc;var mt=el(function(c,E){var he=(E=1==E.length&&Tr(E[0])?an(E[0],O(qo())):an(Ca(E,1),O(qo()))).length;return Rs(function(ot){for(var $t=-1,An=fi(ot.length,he);++$t<An;)ot[$t]=E[$t].call(this,ot[$t]);return er(c,this,ot)})}),Ot=Rs(function(c,E){var he=N(E,fu(Ot));return Hl(c,32,m,E,he)}),At=Rs(function(c,E){var he=N(E,fu(At));return Hl(c,64,m,E,he)}),Nt=nl(function(c,E){return Hl(c,256,m,m,m,E)});function Wr(c,E){return c===E||c!=c&&E!=E}var pi=Ud(qa),Vi=Ud(function(c,E){return c>=E}),Ci=ut(function(){return arguments}())?ut:function(c){return _a(c)&&Go.call(c,"callee")&&!as.call(c,"callee")},Tr=En.isArray,wi=Ls?O(Ls):function Ut(c){return _a(c)&&Za(c)==Jt};function yi(c){return null!=c&&Qa(c.length)&&!ra(c)}function ao(c){return _a(c)&&yi(c)}var ns=nr||Dm,gi=_s?O(_s):function tn(c){return _a(c)&&Za(c)==Re};function $s(c){if(!_a(c))return!1;var E=Za(c);return E==y||"[object DOMException]"==E||"string"==typeof c.message&&"string"==typeof c.name&&!vl(c)}function ra(c){if(!la(c))return!1;var E=Za(c);return E==M||E==Y||"[object AsyncFunction]"==E||"[object Proxy]"==E}function Ka(c){return"number"==typeof c&&c==Is(c)}function Qa(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Oe}function la(c){var E=typeof c;return null!=c&&("object"==E||"function"==E)}function _a(c){return null!=c&&"object"==typeof c}var Pl=ea?O(ea):function Qn(c){return _a(c)&&ic(c)==G};function Fl(c){return"number"==typeof c||_a(c)&&Za(c)==_e}function vl(c){if(!_a(c)||Za(c)!=f)return!1;var E=ko(c);if(null===E)return!0;var he=Go.call(E,"constructor")&&E.constructor;return"function"==typeof he&&he instanceof he&&Qo.call(he)==Sa}var xa=ds?O(ds):function Fr(c){return _a(c)&&Za(c)==ye},Md=Vn?O(Vn):function Lr(c){return _a(c)&&ic(c)==Te};function sl(c){return"string"==typeof c||!Tr(c)&&_a(c)&&Za(c)==ke}function Ha(c){return"symbol"==typeof c||_a(c)&&Za(c)==Ee}var Oc=Wn?O(Wn):function ei(c){return _a(c)&&Qa(c.length)&&!!si[Za(c)]},Ql=Ud($o),Mu=Ud(function(c,E){return c<=E});function rp(c){if(!c)return[];if(yi(c))return sl(c)?Ln(c):Ic(c);if(Bs&&c[Bs])return function rn(qt){for(var Fn,En=[];!(Fn=qt.next()).done;)En.push(Fn.value);return En}(c[Bs]());var E=ic(c);return(E==G?It:E==Te?Pe:af)(c)}function Hc(c){return c?(c=zc(c))===Rn||c===-Rn?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Is(c){var E=Hc(c),he=E%1;return E==E?he?E-he:E:0}function Tu(c){return c?pc(Is(c),0,We):0}function zc(c){if("number"==typeof c)return c;if(Ha(c))return NaN;if(la(c)){var E="function"==typeof c.valueOf?c.valueOf():c;c=la(E)?E+"":E}if("string"!=typeof c)return 0===c?c:+c;c=de(c);var he=ti.test(c);return he||li.test(c)?es(c.slice(2),he?2:8):Hr.test(c)?NaN:+c}function ef(c){return jc(c,no(c))}function ia(c){return null==c?"":Ac(c)}var ip=cu(function(c,E){if(Xl(E)||yi(E))jc(E,Ar(E),c);else for(var he in E)Go.call(E,he)&&Hs(c,he,E[he])}),nf=cu(function(c,E){jc(E,no(E),c)}),Td=cu(function(c,E,he,ot){jc(E,no(E),c,ot)}),ih=cu(function(c,E,he,ot){jc(E,Ar(E),c,ot)}),Jl=nl(ul),rf=Rs(function(c,E){c=xi(c);var he=-1,ot=E.length,$t=ot>2?E[2]:m;for($t&&ec(E[0],E[1],$t)&&(ot=1);++he<ot;)for(var An=E[he],Zn=no(An),Xn=-1,Sr=Zn.length;++Xn<Sr;){var Si=Zn[Xn],Mi=c[Si];(Mi===m||Wr(Mi,ts[Si])&&!Go.call(c,Si))&&(c[Si]=An[Si])}return c}),sf=Rs(function(c){return c.push(m,Ch),er(Zs,m,c)});function Sd(c,E,he){var ot=null==c?m:Gc(c,E);return ot===m?he:ot}function Rd(c,E){return null!=c&&gu(c,E,Bu)}var _m=jp(function(c,E,he){null!=E&&"function"!=typeof E.toString&&(E=oa.call(E)),c[E]=he},cp(kc)),vm=jp(function(c,E,he){null!=E&&"function"!=typeof E.toString&&(E=oa.call(E)),Go.call(c,E)?c[E].push(he):c[E]=[he]},qo),ym=Rs(ze);function Ar(c){return yi(c)?Nr(c):qr(c)}function no(c){return yi(c)?Nr(c,!0):function Ao(c){if(!la(c))return function gd(c){var E=[];if(null!=c)for(var he in xi(c))E.push(he);return E}(c);var E=Xl(c),he=[];for(var ot in c)"constructor"==ot&&(E||!Go.call(c,ot))||he.push(ot);return he}(c)}var Ma=cu(function(c,E,he){mr(c,E,he)}),Zs=cu(function(c,E,he,ot){mr(c,E,he,ot)}),ws=nl(function(c,E){var he={};if(null==c)return he;var ot=!1;E=an(E,function(An){return An=dl(An,c),ot||(ot=An.length>1),An}),jc(c,hu(c),he),ot&&(he=mc(he,7,If));for(var $t=E.length;$t--;)ca(he,E[$t]);return he}),al=nl(function(c,E){return null==c?{}:function lo(c,E){return ga(c,E,function(he,ot){return Rd(c,ot)})}(c,E)});function Pc(c,E){if(null==c)return{};var he=an(hu(c),function(ot){return[ot]});return E=qo(E),ga(c,he,function(ot,$t){return E(ot,$t[0])})}var Wc=fd(Ar),cl=fd(no);function af(c){return null==c?[]:ie(c,Ar(c))}var H_=Dl(function(c,E,he){return E=E.toLowerCase(),c+(he?bm(E):E)});function bm(c){return Xc(ia(c).toLowerCase())}function Ag(c){return(c=ia(c))&&c.replace(Co,hr).replace(ps,"")}var X_=Dl(function(c,E,he){return c+(he?"-":"")+E.toLowerCase()}),Y_=Dl(function(c,E,he){return c+(he?" ":"")+E.toLowerCase()}),Em=Kl("toLowerCase"),ub=Dl(function(c,E,he){return c+(he?"_":"")+E.toLowerCase()}),Q_=Dl(function(c,E,he){return c+(he?" ":"")+Xc(E)}),yl=Dl(function(c,E,he){return c+(he?" ":"")+E.toUpperCase()}),Xc=Kl("toUpperCase");function Cm(c,E,he){return c=ia(c),(E=he?m:E)===m?function et(qt){return Hn.test(qt)}(c)?function yr(qt){return qt.match(Ps)||[]}(c):function ii(qt){return qt.match(Ue)||[]}(c):c.match(E)||[]}var J_=Rs(function(c,E){try{return er(c,m,E)}catch(he){return $s(he)?he:new jr(he)}}),Z_=nl(function(c,E){return ai(E,function(he){he=il(he),Ia(c,he,d(c[he],c))}),c});function cp(c){return function(){return c}}var pb=Rf(),lp=Rf(!0);function kc(c){return c}function lf(c){return Ui("function"==typeof c?c:mc(c,1))}var wm=Rs(function(c,E){return function(he){return ze(he,c,E)}}),Rg=Rs(function(c,E){return function(he){return ze(c,he,E)}});function uf(c,E,he){var ot=Ar(E),$t=Ga(E,ot);null==he&&(!la(E)||!$t.length&&ot.length)&&(he=E,E=c,c=this,$t=Ga(E,Ar(E)));var An=!(la(he)&&"chain"in he&&!he.chain),Zn=ra(c);return ai($t,function(Xn){var Sr=E[Xn];c[Xn]=Sr,Zn&&(c.prototype[Xn]=function(){var Si=this.__chain__;if(An||Si){var Mi=c(this.__wrapped__);return(Mi.__actions__=Ic(this.__actions__)).push({func:Sr,args:arguments,thisArg:c}),Mi.__chain__=Si,Mi}return Sr.apply(c,un([this.value()],arguments))})}),c}function xm(){}var Ig=hd(an),tv=hd(Zi),nv=hd(rr);function Mm(c){return _u(c)?Oo(il(c)):function Ys(c){return function(E){return Gc(E,c)}}(c)}var df=lu(),dp=lu(!0);function hf(){return[]}function Dm(){return!1}var Rm=Ld(function(c,E){return c+E},0),iv=Eh("ceil"),kg=Ld(function(c,E){return c/E},1),Bg=Eh("floor"),Om=Ld(function(c,E){return c*E},1),ff=Eh("round"),Vg=Ld(function(c,E){return c-E},0);return hn.after=function l(c,E){if("function"!=typeof E)throw new ji(h);return c=Is(c),function(){if(--c<1)return E.apply(this,arguments)}},hn.ary=s,hn.assign=ip,hn.assignIn=nf,hn.assignInWith=Td,hn.assignWith=ih,hn.at=Jl,hn.before=u,hn.bind=d,hn.bindAll=Z_,hn.bindKey=S,hn.castArray=function Kn(){if(!arguments.length)return[];var c=arguments[0];return Tr(c)?c:[c]},hn.chain=Qd,hn.chunk=function yu(c,E,he){E=(he?ec(c,E,he):E===m)?1:Kr(Is(E),0);var ot=null==c?0:c.length;if(!ot||E<1)return[];for(var $t=0,An=0,Zn=En(Ze(ot/E));$t<ot;)Zn[An++]=Fa(c,$t,$t+=E);return Zn},hn.compact=function zp(c){for(var E=-1,he=null==c?0:c.length,ot=0,$t=[];++E<he;){var An=c[E];An&&($t[ot++]=An)}return $t},hn.concat=function Hd(){var c=arguments.length;if(!c)return[];for(var E=En(c-1),he=arguments[0],ot=c;ot--;)E[ot-1]=arguments[ot];return un(Tr(he)?Ic(he):[he],Ca(E,1))},hn.cond=function hb(c){var E=null==c?0:c.length,he=qo();return c=E?an(c,function(ot){if("function"!=typeof ot[1])throw new ji(h);return[he(ot[0]),ot[1]]}):[],Rs(function(ot){for(var $t=-1;++$t<E;){var An=c[$t];if(er(An[0],this,ot))return er(An[1],this,ot)}})},hn.conforms=function fb(c){return function eu(c){var E=Ar(c);return function(he){return od(he,c,E)}}(mc(c,1))},hn.constant=cp,hn.countBy=Cd,hn.create=function Du(c,E){var he=dc(c);return null==E?he:Uc(he,E)},hn.curry=function H(c,E,he){var ot=Hl(c,8,m,m,m,m,m,E=he?m:E);return ot.placeholder=H.placeholder,ot},hn.curryRight=function le(c,E,he){var ot=Hl(c,16,m,m,m,m,m,E=he?m:E);return ot.placeholder=le.placeholder,ot},hn.debounce=oe,hn.defaults=rf,hn.defaultsDeep=sf,hn.defer=we,hn.delay=xe,hn.difference=ol,hn.differenceBy=zd,hn.differenceWith=bu,hn.drop=function Nf(c,E,he){var ot=null==c?0:c.length;return ot?Fa(c,(E=he||E===m?1:Is(E))<0?0:E,ot):[]},hn.dropRight=function _g(c,E,he){var ot=null==c?0:c.length;return ot?Fa(c,0,(E=ot-(E=he||E===m?1:Is(E)))<0?0:E):[]},hn.dropRightWhile=function Fh(c,E){return c&&c.length?Tl(c,qo(E,3),!0,!0):[]},hn.dropWhile=function $d(c,E){return c&&c.length?Tl(c,qo(E,3),!0):[]},hn.fill=function $p(c,E,he,ot){var $t=null==c?0:c.length;return $t?(he&&"number"!=typeof he&&ec(c,E,he)&&(he=0,ot=$t),function Xs(c,E,he,ot){var $t=c.length;for((he=Is(he))<0&&(he=-he>$t?0:$t+he),(ot=ot===m||ot>$t?$t:Is(ot))<0&&(ot+=$t),ot=he>ot?0:Tu(ot);he<ot;)c[he++]=E;return c}(c,E,he,ot)):[]},hn.filter=function Wh(c,E){return(Tr(c)?go:Fu)(c,qo(E,3))},hn.flatMap=function Xh(c,E){return Ca(qd(c,E),1)},hn.flatMapDeep=function Yh(c,E){return Ca(qd(c,E),Rn)},hn.flatMapDepth=function Qh(c,E,he){return he=he===m?1:Is(he),Ca(qd(c,E),he)},hn.flatten=Eu,hn.flattenDeep=function kh(c){return null!=c&&c.length?Ca(c,Rn):[]},hn.flattenDepth=function Wp(c,E){return null!=c&&c.length?Ca(c,E=E===m?1:Is(E)):[]},hn.flip=function Be(c){return Hl(c,512)},hn.flow=pb,hn.flowRight=lp,hn.fromPairs=function Au(c){for(var E=-1,he=null==c?0:c.length,ot={};++E<he;){var $t=c[E];ot[$t[0]]=$t[1]}return ot},hn.functions=function mm(c){return null==c?[]:Ga(c,Ar(c))},hn.functionsIn=function gm(c){return null==c?[]:Ga(c,no(c))},hn.groupBy=am,hn.initial=function Ku(c){return null!=c&&c.length?Fa(c,0,-1):[]},hn.intersection=Uf,hn.intersectionBy=Ol,hn.intersectionWith=Xd,hn.invert=_m,hn.invertBy=vm,hn.invokeMap=cm,hn.iteratee=lf,hn.keyBy=lm,hn.keys=Ar,hn.keysIn=no,hn.map=qd,hn.mapKeys=function pa(c,E){var he={};return E=qo(E,3),Wa(c,function(ot,$t,An){Ia(he,E(ot,$t,An),ot)}),he},hn.mapValues=function Ks(c,E){var he={};return E=qo(E,3),Wa(c,function(ot,$t,An){Ia(he,$t,E(ot,$t,An))}),he},hn.matches=function q_(c){return To(mc(c,1))},hn.matchesProperty=function ch(c,E){return Fo(c,mc(E,1))},hn.memoize=Le,hn.merge=Ma,hn.mergeWith=Zs,hn.method=wm,hn.methodOf=Rg,hn.mixin=uf,hn.negate=qe,hn.nthArg=function ev(c){return c=Is(c),Rs(function(E){return Ss(E,c)})},hn.omit=ws,hn.omitBy=function La(c,E){return Pc(c,qe(qo(E)))},hn.once=function pt(c){return u(2,c)},hn.orderBy=function Zf(c,E,he,ot){return null==c?[]:(Tr(E)||(E=null==E?[]:[E]),Tr(he=ot?m:he)||(he=null==he?[]:[he]),zs(c,E,he))},hn.over=Ig,hn.overArgs=mt,hn.overEvery=tv,hn.overSome=nv,hn.partial=Ot,hn.partialRight=At,hn.partition=Zh,hn.pick=al,hn.pickBy=Pc,hn.property=Mm,hn.propertyOf=function Tm(c){return function(E){return null==c?m:Gc(c,E)}},hn.pull=Yp,hn.pullAll=Gf,hn.pullAllBy=function jf(c,E,he){return c&&c.length&&E&&E.length?Cs(c,E,qo(he,2)):c},hn.pullAllWith=function Qp(c,E,he){return c&&c.length&&E&&E.length?Cs(c,E,m,he):c},hn.pullAt=Jp,hn.range=df,hn.rangeRight=dp,hn.rearg=Nt,hn.reject=function gl(c,E){return(Tr(c)?go:Fu)(c,qe(qo(E,3)))},hn.remove=function Zp(c,E){var he=[];if(!c||!c.length)return he;var ot=-1,$t=[],An=c.length;for(E=qo(E,3);++ot<An;){var Zn=c[ot];E(Zn,ot,c)&&(he.push(Zn),$t.push(ot))}return ls(c,$t),he},hn.rest=function mn(c,E){if("function"!=typeof c)throw new ji(h);return Rs(c,E=E===m?E:Is(E))},hn.reverse=Yl,hn.sampleSize=function dm(c,E,he){return E=(he?ec(c,E,he):E===m)?1:Is(E),(Tr(c)?io:wf)(c,E)},hn.set=function $c(c,E,he){return null==c?c:Vl(c,E,he)},hn.setWith=function Fc(c,E,he,ot){return ot="function"==typeof ot?ot:m,null==c?c:Vl(c,E,he,ot)},hn.shuffle=function qf(c){return(Tr(c)?Uo:xf)(c)},hn.slice=function zu(c,E,he){var ot=null==c?0:c.length;return ot?(he&&"number"!=typeof he&&ec(c,E,he)?(E=0,he=ot):(E=null==E?0:Is(E),he=he===m?ot:Is(he)),Fa(c,E,he)):[]},hn.sortBy=hm,hn.sortedUniq=function Nh(c){return c&&c.length?ph(c):[]},hn.sortedUniqBy=function Wu(c,E){return c&&c.length?ph(c,qo(E,2)):[]},hn.split=function db(c,E,he){return he&&"number"!=typeof he&&ec(c,E,he)&&(E=he=m),(he=he===m?We:he>>>0)?(c=ia(c))&&("string"==typeof E||null!=E&&!xa(E))&&!(E=Ac(E))&&Gr(c)?hl(Ln(c),0,he):c.split(E,he):[]},hn.spread=function on(c,E){if("function"!=typeof c)throw new ji(h);return E=null==E?0:Kr(Is(E),0),Rs(function(he){var ot=he[E],$t=hl(he,0,E);return ot&&un($t,ot),er(c,this,$t)})},hn.tail=function wu(c){var E=null==c?0:c.length;return E?Fa(c,1,E):[]},hn.take=function Xu(c,E,he){return c&&c.length?Fa(c,0,(E=he||E===m?1:Is(E))<0?0:E):[]},hn.takeRight=function Lh(c,E,he){var ot=null==c?0:c.length;return ot?Fa(c,(E=ot-(E=he||E===m?1:Is(E)))<0?0:E,ot):[]},hn.takeRightWhile=function Hf(c,E){return c&&c.length?Tl(c,qo(E,3),!1,!0):[]},hn.takeWhile=function em(c,E){return c&&c.length?Tl(c,qo(E,3)):[]},hn.tap=function Jd(c,E){return E(c),c},hn.throttle=function _n(c,E,he){var ot=!0,$t=!0;if("function"!=typeof c)throw new ji(h);return la(he)&&(ot="leading"in he?!!he.leading:ot,$t="trailing"in he?!!he.trailing:$t),oe(c,E,{leading:ot,maxWait:E,trailing:$t})},hn.thru=Zd,hn.toArray=rp,hn.toPairs=Wc,hn.toPairsIn=cl,hn.toPath=function Pg(c){return Tr(c)?an(c,il):Ha(c)?[c]:Ic(yd(ia(c)))},hn.toPlainObject=ef,hn.transform=function sh(c,E,he){var ot=Tr(c),$t=ot||ns(c)||Oc(c);if(E=qo(E,4),null==he){var An=c&&c.constructor;he=$t?ot?new An:[]:la(c)&&ra(An)?dc(ko(c)):{}}return($t?ai:Wa)(c,function(Zn,Xn,Sr){return E(he,Zn,Xn,Sr)}),he},hn.unary=function gn(c){return s(c,1)},hn.union=tm,hn.unionBy=zf,hn.unionWith=Uh,hn.uniq=function nm(c){return c&&c.length?Ml(c):[]},hn.uniqBy=function wc(c,E){return c&&c.length?Ml(c,qo(E,2)):[]},hn.uniqWith=function Vh(c,E){return E="function"==typeof E?E:m,c&&c.length?Ml(c,m,E):[]},hn.unset=function V_(c,E){return null==c||ca(c,E)},hn.unzip=Ad,hn.unzipWith=Yu,hn.update=function G_(c,E,he){return null==c?c:jl(c,E,Lu(he))},hn.updateWith=function Eg(c,E,he,ot){return ot="function"==typeof ot?ot:m,null==c?c:jl(c,E,Lu(he),ot)},hn.values=af,hn.valuesIn=function ib(c){return null==c?[]:ie(c,no(c))},hn.without=vg,hn.words=Cm,hn.wrap=function Mn(c,E){return Ot(Lu(E),c)},hn.xor=$f,hn.xorBy=oc,hn.xorWith=xu,hn.zip=Gh,hn.zipObject=function Yd(c,E){return mh(c||[],E||[],Hs)},hn.zipObjectDeep=function rm(c,E){return mh(c||[],E||[],Vl)},hn.zipWith=jh,hn.entries=Wc,hn.entriesIn=cl,hn.extend=nf,hn.extendWith=Td,uf(hn,hn),hn.add=Rm,hn.attempt=J_,hn.camelCase=H_,hn.capitalize=bm,hn.ceil=iv,hn.clamp=function cf(c,E,he){return he===m&&(he=E,E=m),he!==m&&(he=(he=zc(he))==he?he:0),E!==m&&(E=(E=zc(E))==E?E:0),pc(zc(c),E,he)},hn.clone=function ur(c){return mc(c,4)},hn.cloneDeep=function vr(c){return mc(c,5)},hn.cloneDeepWith=function oi(c,E){return mc(c,5,E="function"==typeof E?E:m)},hn.cloneWith=function or(c,E){return mc(c,4,E="function"==typeof E?E:m)},hn.conformsTo=function _i(c,E){return null==E||od(c,E,Ar(E))},hn.deburr=Ag,hn.defaultTo=function Sg(c,E){return null==c||c!=c?E:c},hn.divide=kg,hn.endsWith=function z_(c,E,he){c=ia(c),E=Ac(E);var ot=c.length,$t=he=he===m?ot:pc(Is(he),0,ot);return(he-=E.length)>=0&&c.slice(he,$t)==E},hn.eq=Wr,hn.escape=function $_(c){return(c=ia(c))&&cn.test(c)?c.replace(Cr,Li):c},hn.escapeRegExp=function W_(c){return(c=ia(c))&&Tn.test(c)?c.replace(Sn,"\\$&"):c},hn.every=function Xf(c,E,he){var ot=Tr(c)?Zi:Pu;return he&&ec(c,E,he)&&(E=m),ot(c,qo(E,3))},hn.find=Yf,hn.findIndex=wa,hn.findKey=function Dd(c,E){return zr(c,qo(E,3),Wa)},hn.findLast=wd,hn.findLastIndex=Lf,hn.findLastKey=function bg(c,E){return zr(c,qo(E,3),Vc)},hn.floor=Bg,hn.forEach=Qf,hn.forEachRight=Jh,hn.forIn=function fm(c,E){return null==c?c:Va(c,qo(E,3),no)},hn.forInRight=function pm(c,E){return null==c?c:ku(c,qo(E,3),no)},hn.forOwn=function Ju(c,E){return c&&Wa(c,qo(E,3))},hn.forOwnRight=function oh(c,E){return c&&Vc(c,qo(E,3))},hn.get=Sd,hn.gt=pi,hn.gte=Vi,hn.has=function op(c,E){return null!=c&&gu(c,E,Cl)},hn.hasIn=Rd,hn.head=Cu,hn.identity=kc,hn.includes=function Jf(c,E,he,ot){c=yi(c)?c:af(c),he=he&&!ot?Is(he):0;var $t=c.length;return he<0&&(he=Kr($t+he,0)),sl(c)?he<=$t&&c.indexOf(E,he)>-1:!!$t&&to(c,E,he)>-1},hn.indexOf=function Wd(c,E,he){var ot=null==c?0:c.length;if(!ot)return-1;var $t=null==he?0:Is(he);return $t<0&&($t=Kr(ot+$t,0)),to(c,E,$t)},hn.inRange=function j_(c,E,he){return E=Hc(E),he===m?(he=E,E=0):he=Hc(he),function i(c,E,he){return c>=fi(E,he)&&c<Kr(E,he)}(c=zc(c),E,he)},hn.invoke=ym,hn.isArguments=Ci,hn.isArray=Tr,hn.isArrayBuffer=wi,hn.isArrayLike=yi,hn.isArrayLikeObject=ao,hn.isBoolean=function Xi(c){return!0===c||!1===c||_a(c)&&Za(c)==ne},hn.isBuffer=ns,hn.isDate=gi,hn.isElement=function Or(c){return _a(c)&&1===c.nodeType&&!vl(c)},hn.isEmpty=function ci(c){if(null==c)return!0;if(yi(c)&&(Tr(c)||"string"==typeof c||"function"==typeof c.splice||ns(c)||Oc(c)||Ci(c)))return!c.length;var E=ic(c);if(E==G||E==Te)return!c.size;if(Xl(c))return!qr(c).length;for(var he in c)if(Go.call(c,he))return!1;return!0},hn.isEqual=function oo(c,E){return en(c,E)},hn.isEqualWith=function vs(c,E,he){var ot=(he="function"==typeof he?he:m)?he(c,E):m;return ot===m?en(c,E,m,he):!!ot},hn.isError=$s,hn.isFinite=function Qs(c){return"number"==typeof c&&Ur(c)},hn.isFunction=ra,hn.isInteger=Ka,hn.isLength=Qa,hn.isMap=Pl,hn.isMatch=function ba(c,E){return c===E||fr(c,E,Vd(E))},hn.isMatchWith=function Js(c,E,he){return he="function"==typeof he?he:m,fr(c,E,Vd(E),he)},hn.isNaN=function _l(c){return Fl(c)&&c!=+c},hn.isNative=function Qu(c){if(Sh(c))throw new jr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Br(c)},hn.isNil=function rh(c){return null==c},hn.isNull=function xd(c){return null===c},hn.isNumber=Fl,hn.isObject=la,hn.isObjectLike=_a,hn.isPlainObject=vl,hn.isRegExp=xa,hn.isSafeInteger=function ou(c){return Ka(c)&&c>=-Oe&&c<=Oe},hn.isSet=Md,hn.isString=sl,hn.isSymbol=Ha,hn.isTypedArray=Oc,hn.isUndefined=function ep(c){return c===m},hn.isWeakMap=function tp(c){return _a(c)&&ic(c)==at},hn.isWeakSet=function np(c){return _a(c)&&"[object WeakSet]"==Za(c)},hn.join=function Xp(c,E){return null==c?"":Jr.call(c,E)},hn.kebabCase=X_,hn.last=Na,hn.lastIndexOf=function Hu(c,E,he){var ot=null==c?0:c.length;if(!ot)return-1;var $t=ot;return he!==m&&($t=($t=Is(he))<0?Kr(ot+$t,0):fi($t,ot-1)),E==E?function Wt(qt,Fn,En){for(var qn=En+1;qn--;)if(qt[qn]===Fn)return qn;return qn}(c,E,$t):Ni(c,co,$t,!0)},hn.lowerCase=Y_,hn.lowerFirst=Em,hn.lt=Ql,hn.lte=Mu,hn.max=function Ng(c){return c&&c.length?tu(c,kc,qa):m},hn.maxBy=function Im(c,E){return c&&c.length?tu(c,qo(E,2),qa):m},hn.mean=function Lg(c){return _o(c,kc)},hn.meanBy=function hp(c,E){return _o(c,qo(E,2))},hn.min=function Od(c){return c&&c.length?tu(c,kc,$o):m},hn.minBy=function Ug(c,E){return c&&c.length?tu(c,qo(E,2),$o):m},hn.stubArray=hf,hn.stubFalse=Dm,hn.stubObject=function rv(){return{}},hn.stubString=function Sm(){return""},hn.stubTrue=function Og(){return!0},hn.multiply=Om,hn.nth=function Vf(c,E){return c&&c.length?Ss(c,Is(E)):m},hn.noConflict=function up(){return Ro._===this&&(Ro._=Ja),this},hn.noop=xm,hn.now=nh,hn.pad=function ob(c,E,he){c=ia(c);var ot=(E=Is(E))?ln(c):0;if(!E||ot>=E)return c;var $t=(E-ot)/2;return Rl(Dt($t),he)+c+Rl(Ze($t),he)},hn.padEnd=function sb(c,E,he){c=ia(c);var ot=(E=Is(E))?ln(c):0;return E&&ot<E?c+Rl(E-ot,he):c},hn.padStart=function Am(c,E,he){c=ia(c);var ot=(E=Is(E))?ln(c):0;return E&&ot<E?Rl(E-ot,he)+c:c},hn.parseInt=function ab(c,E,he){return he||null==E?E=0:E&&(E=+E),Zr(ia(c).replace(dn,""),E||0)},hn.random=function K_(c,E,he){if(he&&"boolean"!=typeof he&&ec(c,E,he)&&(E=he=m),he===m&&("boolean"==typeof E?(he=E,E=m):"boolean"==typeof c&&(he=c,c=m)),c===m&&E===m?(c=0,E=1):(c=Hc(c),E===m?(E=c,c=0):E=Hc(E)),c>E){var ot=c;c=E,E=ot}if(he||c%1||E%1){var $t=so();return fi(c+$t*(E-c+os("1e-"+(($t+"").length-1))),E)}return ja(c,E)},hn.reduce=function qh(c,E,he){var ot=Tr(c)?ar:Yo,$t=arguments.length<3;return ot(c,qo(E,4),he,$t,qc)},hn.reduceRight=function um(c,E,he){var ot=Tr(c)?Er:Yo,$t=arguments.length<3;return ot(c,qo(E,4),he,$t,Sc)},hn.repeat=function cb(c,E,he){return E=(he?ec(c,E,he):E===m)?1:Is(E),nu(ia(c),E)},hn.replace=function lb(){var c=arguments,E=ia(c[0]);return c.length<3?E:E.replace(c[1],c[2])},hn.result=function Zu(c,E,he){var ot=-1,$t=(E=dl(E,c)).length;for($t||($t=1,c=m);++ot<$t;){var An=null==c?m:c[il(E[ot])];An===m&&(ot=$t,An=he),c=ra(An)?An.call(c):An}return c},hn.round=ff,hn.runInContext=qt,hn.sample=function eh(c){return(Tr(c)?wr:ad)(c)},hn.size=function th(c){if(null==c)return 0;if(yi(c))return sl(c)?ln(c):c.length;var E=ic(c);return E==G||E==Te?c.size:qr(c).length},hn.snakeCase=ub,hn.some=function yg(c,E,he){var ot=Tr(c)?rr:Gl;return he&&ec(c,E,he)&&(E=m),ot(c,qo(E,3))},hn.sortedIndex=function Bh(c,E){return Ec(c,E)},hn.sortedIndexBy=function Kf(c,E,he){return cd(c,E,qo(he,2))},hn.sortedIndexOf=function bd(c,E){var he=null==c?0:c.length;if(he){var ot=Ec(c,E);if(ot<he&&Wr(c[ot],E))return ot}return-1},hn.sortedLastIndex=function $u(c,E){return Ec(c,E,!0)},hn.sortedLastIndexBy=function qp(c,E,he){return cd(c,E,qo(he,2),!0)},hn.sortedLastIndexOf=function Ed(c,E){if(null!=c&&c.length){var ot=Ec(c,E,!0)-1;if(Wr(c[ot],E))return ot}return-1},hn.startCase=Q_,hn.startsWith=function sp(c,E,he){return c=ia(c),he=null==he?0:pc(Is(he),0,c.length),E=Ac(E),c.slice(he,he+E.length)==E},hn.subtract=Vg,hn.sum=function Pm(c){return c&&c.length?Kt(c,kc):0},hn.sumBy=function fp(c,E){return c&&c.length?Kt(c,qo(E,2)):0},hn.template=function ap(c,E,he){var ot=hn.templateSettings;he&&ec(c,E,he)&&(E=m),c=ia(c),E=Td({},E,ot,Ah);var Xn,Sr,$t=Td({},E.imports,ot.imports,Ah),An=Ar($t),Zn=ie($t,An),Si=0,Mi=E.interpolate||wo,Gi="__p += '",Eo=Ei((E.escape||wo).source+"|"+Mi.source+"|"+(Mi===jn?fn:wo).source+"|"+(E.evaluate||wo).source+"|$","g"),zo="//# sourceURL="+(Go.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ri+"]")+"\n";c.replace(Eo,function(ss,Vs,qs,Yc,xc,Qc){return qs||(qs=Yc),Gi+=c.slice(Si,Qc).replace(So,$i),Vs&&(Xn=!0,Gi+="' +\n__e("+Vs+") +\n'"),xc&&(Sr=!0,Gi+="';\n"+xc+";\n__p += '"),qs&&(Gi+="' +\n((__t = ("+qs+")) == null ? '' : __t) +\n'"),Si=Qc+ss.length,ss}),Gi+="';\n";var is=Go.call(E,"variable")&&E.variable;if(is){if(bt.test(is))throw new jr("Invalid `variable` option passed into `_.template`")}else Gi="with (obj) {\n"+Gi+"\n}\n";Gi=(Sr?Gi.replace(vn,""):Gi).replace(In,"$1").replace(Un,"$1;"),Gi="function("+(is||"obj")+") {\n"+(is?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Xn?", __e = _.escape":"")+(Sr?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Gi+"return __p\n}";var ys=J_(function(){return bi(An,zo+"return "+Gi).apply(m,Zn)});if(ys.source=Gi,$s(ys))throw ys;return ys},hn.times=function Id(c,E){if((c=Is(c))<1||c>Oe)return[];var he=We,ot=fi(c,We);E=qo(E),c-=We;for(var $t=Ke(ot,E);++he<c;)E(he);return $t},hn.toFinite=Hc,hn.toInteger=Is,hn.toLength=Tu,hn.toLower=function Cg(c){return ia(c).toLowerCase()},hn.toNumber=zc,hn.toSafeInteger=function tf(c){return c?pc(Is(c),-Oe,Oe):0===c?c:0},hn.toString=ia,hn.toUpper=function wg(c){return ia(c).toUpperCase()},hn.trim=function xg(c,E,he){if((c=ia(c))&&(he||E===m))return de(c);if(!c||!(E=Ac(E)))return c;var ot=Ln(c),$t=Ln(E);return hl(ot,Ye(ot,$t),Pt(ot,$t)+1).join("")},hn.trimEnd=function Mg(c,E,he){if((c=ia(c))&&(he||E===m))return c.slice(0,$n(c)+1);if(!c||!(E=Ac(E)))return c;var ot=Ln(c);return hl(ot,0,Pt(ot,Ln(E))+1).join("")},hn.trimStart=function Tg(c,E,he){if((c=ia(c))&&(he||E===m))return c.replace(dn,"");if(!c||!(E=Ac(E)))return c;var ot=Ln(c);return hl(ot,Ye(ot,Ln(E))).join("")},hn.truncate=function Dg(c,E){var he=30,ot="...";if(la(E)){var $t="separator"in E?E.separator:$t;he="length"in E?Is(E.length):he,ot="omission"in E?Ac(E.omission):ot}var An=(c=ia(c)).length;if(Gr(c)){var Zn=Ln(c);An=Zn.length}if(he>=An)return c;var Xn=he-ln(ot);if(Xn<1)return ot;var Sr=Zn?hl(Zn,0,Xn).join(""):c.slice(0,Xn);if($t===m)return Sr+ot;if(Zn&&(Xn+=Sr.length-Xn),xa($t)){if(c.slice(Xn).search($t)){var Si,Mi=Sr;for($t.global||($t=Ei($t.source,ia(cr.exec($t))+"g")),$t.lastIndex=0;Si=$t.exec(Mi);)var Gi=Si.index;Sr=Sr.slice(0,Gi===m?Xn:Gi)}}else if(c.indexOf(Ac($t),Xn)!=Xn){var Eo=Sr.lastIndexOf($t);Eo>-1&&(Sr=Sr.slice(0,Eo))}return Sr+ot},hn.unescape=function ah(c){return(c=ia(c))&&wn.test(c)?c.replace(Jn,pr):c},hn.uniqueId=function Fg(c){var E=++Ea;return ia(c)+E},hn.upperCase=yl,hn.upperFirst=Xc,hn.each=Qf,hn.eachRight=Jh,hn.first=Cu,uf(hn,function(){var c={};return Wa(hn,function(E,he){Go.call(hn.prototype,he)||(c[he]=E)}),c}(),{chain:!1}),hn.VERSION="4.17.21",ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){hn[c].placeholder=hn}),ai(["drop","take"],function(c,E){Bi.prototype[c]=function(he){he=he===m?1:Kr(Is(he),0);var ot=this.__filtered__&&!E?new Bi(this):this.clone();return ot.__filtered__?ot.__takeCount__=fi(he,ot.__takeCount__):ot.__views__.push({size:fi(he,We),type:c+(ot.__dir__<0?"Right":"")}),ot},Bi.prototype[c+"Right"]=function(he){return this.reverse()[c](he).reverse()}}),ai(["filter","map","takeWhile"],function(c,E){var he=E+1,ot=1==he||3==he;Bi.prototype[c]=function($t){var An=this.clone();return An.__iteratees__.push({iteratee:qo($t,3),type:he}),An.__filtered__=An.__filtered__||ot,An}}),ai(["head","last"],function(c,E){var he="take"+(E?"Right":"");Bi.prototype[c]=function(){return this[he](1).value()[0]}}),ai(["initial","tail"],function(c,E){var he="drop"+(E?"":"Right");Bi.prototype[c]=function(){return this.__filtered__?new Bi(this):this[he](1)}}),Bi.prototype.compact=function(){return this.filter(kc)},Bi.prototype.find=function(c){return this.filter(c).head()},Bi.prototype.findLast=function(c){return this.reverse().find(c)},Bi.prototype.invokeMap=Rs(function(c,E){return"function"==typeof c?new Bi(this):this.map(function(he){return ze(he,c,E)})}),Bi.prototype.reject=function(c){return this.filter(qe(qo(c)))},Bi.prototype.slice=function(c,E){c=Is(c);var he=this;return he.__filtered__&&(c>0||E<0)?new Bi(he):(c<0?he=he.takeRight(-c):c&&(he=he.drop(c)),E!==m&&(he=(E=Is(E))<0?he.dropRight(-E):he.take(E-c)),he)},Bi.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Bi.prototype.toArray=function(){return this.take(We)},Wa(Bi.prototype,function(c,E){var he=/^(?:filter|find|map|reject)|While$/.test(E),ot=/^(?:head|last)$/.test(E),$t=hn[ot?"take"+("last"==E?"Right":""):E],An=ot||/^find/.test(E);$t&&(hn.prototype[E]=function(){var Zn=this.__wrapped__,Xn=ot?[1]:arguments,Sr=Zn instanceof Bi,Si=Xn[0],Mi=Sr||Tr(Zn),Gi=function(Vs){var qs=$t.apply(hn,un([Vs],Xn));return ot&&Eo?qs[0]:qs};Mi&&he&&"function"==typeof Si&&1!=Si.length&&(Sr=Mi=!1);var Eo=this.__chain__,is=An&&!Eo,ys=Sr&&!this.__actions__.length;if(!An&&Mi){Zn=ys?Zn:new Bi(this);var ss=c.apply(Zn,Xn);return ss.__actions__.push({func:Zd,args:[Gi],thisArg:m}),new va(ss,Eo)}return is&&ys?c.apply(this,Xn):(ss=this.thru(Gi),is?ot?ss.value()[0]:ss.value():ss)})}),ai(["pop","push","shift","sort","splice","unshift"],function(c){var E=No[c],he=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",ot=/^(?:pop|shift)$/.test(c);hn.prototype[c]=function(){var $t=arguments;if(ot&&!this.__chain__){var An=this.value();return E.apply(Tr(An)?An:[],$t)}return this[he](function(Zn){return E.apply(Tr(Zn)?Zn:[],$t)})}}),Wa(Bi.prototype,function(c,E){var he=hn[E];if(he){var ot=he.name+"";Go.call(jo,ot)||(jo[ot]=[]),jo[ot].push({name:E,func:he})}}),jo[dd(m,2).name]=[{name:"wrapper",func:m}],Bi.prototype.clone=function ql(){var c=new Bi(this.__wrapped__);return c.__actions__=Ic(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Ic(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Ic(this.__views__),c},Bi.prototype.reverse=function fs(){if(this.__filtered__){var c=new Bi(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Bi.prototype.value=function hc(){var c=this.__wrapped__.value(),E=this.__dir__,he=Tr(c),ot=E<0,$t=he?c.length:0,An=function wh(c,E,he){for(var ot=-1,$t=he.length;++ot<$t;){var An=he[ot],Zn=An.size;switch(An.type){case"drop":c+=Zn;break;case"dropRight":E-=Zn;break;case"take":E=fi(E,c+Zn);break;case"takeRight":c=Kr(c,E-Zn)}}return{start:c,end:E}}(0,$t,this.__views__),Zn=An.start,Xn=An.end,Sr=Xn-Zn,Si=ot?Xn:Zn-1,Mi=this.__iteratees__,Gi=Mi.length,Eo=0,zo=fi(Sr,this.__takeCount__);if(!he||!ot&&$t==Sr&&zo==Sr)return ld(c,this.__actions__);var is=[];e:for(;Sr--&&Eo<zo;){for(var ys=-1,ss=c[Si+=E];++ys<Gi;){var Vs=Mi[ys],Yc=Vs.type,xc=(0,Vs.iteratee)(ss);if(2==Yc)ss=xc;else if(!xc){if(1==Yc)continue e;break e}}is[Eo++]=ss}return is},hn.prototype.at=Kh,hn.prototype.chain=function im(){return Qd(this)},hn.prototype.commit=function om(){return new va(this.value(),this.__chain__)},hn.prototype.next=function sm(){this.__values__===m&&(this.__values__=rp(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?m:this.__values__[this.__index__++]}},hn.prototype.plant=function Hh(c){for(var E,he=this;he instanceof Nc;){var ot=Kd(he);ot.__index__=0,ot.__values__=m,E?$t.__wrapped__=ot:E=ot;var $t=ot;he=he.__wrapped__}return $t.__wrapped__=c,E},hn.prototype.reverse=function zh(){var c=this.__wrapped__;if(c instanceof Bi){var E=c;return this.__actions__.length&&(E=new Bi(this)),(E=E.reverse()).__actions__.push({func:Zd,args:[Yl],thisArg:m}),new va(E,this.__chain__)}return this.thru(Yl)},hn.prototype.toJSON=hn.prototype.valueOf=hn.prototype.value=function $h(){return ld(this.__wrapped__,this.__actions__)},hn.prototype.first=hn.prototype.head,Bs&&(hn.prototype[Bs]=function Wf(){return this}),hn}();Ro._=Fi,(r=function(){return Fi}.call(be,w,be,bn))!==m&&(bn.exports=r)}.call(this)},24434:function(bn,be,w){"use strict";var r=this&&this.__createBinding||(Object.create?function(U,F,k,z){void 0===z&&(z=k);var B=Object.getOwnPropertyDescriptor(F,k);(!B||("get"in B?!F.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return F[k]}}),Object.defineProperty(U,z,B)}:function(U,F,k,z){void 0===z&&(z=k),U[z]=F[k]}),m=this&&this.__setModuleDefault||(Object.create?function(U,F){Object.defineProperty(U,"default",{enumerable:!0,value:F})}:function(U,F){U.default=F}),g=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var F={};if(null!=U)for(var k in U)"default"!==k&&Object.prototype.hasOwnProperty.call(U,k)&&r(F,U,k);return m(F,U),F};Object.defineProperty(be,"__esModule",{value:!0}),be.objectSorter=void 0;const C=g(w(69209)),D=w(91921);be.objectSorter=U=>{const{sort:F,coerce:k,trim:z}={sort:!0,coerce:!0,trim:!1,...U},B_array="boolean"==typeof F?F:F?.array??!1,B_typedArray="boolean"!=typeof F&&(F?.typedArray??!1),B_object="boolean"==typeof F?F:F?.object??!1,B_set="boolean"==typeof F?F:F?.set??!1,B_map="boolean"==typeof F?F:F?.map??!1,A_boolean="boolean"==typeof k?k:k?.boolean??!1,A_number="boolean"==typeof k?k:k?.number??!1,A_bigint="boolean"==typeof k?k:k?.bigint??!1,A_string="boolean"==typeof k?k:k?.string??!1,A_undefined="boolean"==typeof k?k:k?.undefined??!1,A_null="boolean"==typeof k?k:k?.null??!1,A_symbol="boolean"==typeof k?k:k?.symbol??!1,A_function="boolean"==typeof k?k:k?.function??!1,A_date="boolean"==typeof k?k:k?.date??!1,A_set="boolean"==typeof k?k:k?.set??!1,T_string="boolean"==typeof z?z:z?.string??!1,T_function="boolean"==typeof z?z:z?.function??!1,b={unknown:function(W){return`<:${W.constructor?.name??"unknonw"}>:${"function"==typeof W.toString?W.toString():"unknown"}`}};return b.hashable=C._hashable.bind(b),b.string=T_string?A_string?C._stringTrimCoerce.bind(b):C._stringTrim.bind(b):A_string?C._stringCoerce.bind(b):C._string.bind(b),b.number=A_number?C._numberCoerce.bind(b):C._number.bind(b),b.bigint=A_bigint?C._bigIntCoerce.bind(b):C._bigInt.bind(b),b.boolean=A_boolean?C._booleanCoerce.bind(b):C._boolean.bind(b),b.symbol=A_symbol?C._symbolCoerce.bind(b):C._symbol.bind(b),b.undefined=A_undefined?C._undefinedCoerce.bind(b):C._undefined.bind(b),b.null=A_null?C._nullCoerce.bind(b):C._null.bind(b),b.function=T_function?A_function?C._functionTrimCoerce.bind(b):C._functionTrim.bind(b):A_function?C._functionCoerce.bind(b):C._function.bind(b),b.date=A_date?C._dateCoerce.bind(b):C._date.bind(b),b.array=B_array?C._arraySort.bind(b):C._array.bind(b),b.typedarray=B_typedArray?C._typedArraySort.bind(b):C._typedArray.bind(b),b.set=B_set?A_set?C._setSortCoerce.bind(b):C._setSort.bind(b):A_set?C._setCoerce.bind(b):C._set.bind(b),b.object=B_object?C._objectSort.bind(b):C._object.bind(b),b.map=B_map?C._mapSort.bind(b):C._map.bind(b),function J(ce){return b[(0,D.guessType)(ce)](ce)}}},69209:(bn,be,w)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be._mapSort=be._map=be._objectSort=be._object=be._setCoerce=be._set=be._setSort=be._setSortCoerce=be._typedArray=be._typedArraySort=be._array=be._arraySort=be._date=be._dateCoerce=be._functionTrim=be._functionTrimCoerce=be._function=be._functionCoerce=be._null=be._nullCoerce=be._undefined=be._undefinedCoerce=be._symbol=be._symbolCoerce=be._boolean=be._booleanCoerce=be._bigInt=be._bigIntCoerce=be._number=be._numberCoerce=be._stringTrim=be._stringTrimCoerce=be._string=be._stringCoerce=be._hashable=be.PREFIX=void 0;const r=w(91921);function ge(We){const st=this;return"["+We.map(ft=>st[(0,r.guessType)(ft)](ft)).sort().toString()+"]"}function K(We){const st=this;return"["+We.map(ft=>st[(0,r.guessType)(ft)](ft)).toString()+"]"}be.PREFIX={string:"<:s>",number:"<:n>",bigint:"<:bi>",boolean:"<:b>",symbol:"<:smbl>",undefined:"<:undf>",null:"<:null>",function:"<:func>",array:"",date:"<:date>",set:"<:set>",map:"<:map>"},be._hashable=function m(We){return We.toHashableString()},be._stringCoerce=function g(We){return We},be._string=function C(We){return be.PREFIX.string+":"+We},be._stringTrimCoerce=function D(We){return We.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},be._stringTrim=function h(We){return be.PREFIX.string+":"+We.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},be._numberCoerce=function U(We){return We.toString()},be._number=function F(We){return`${be.PREFIX.number}:${We}`},be._bigIntCoerce=function k(We){return We.toString()},be._bigInt=function z(We){return`${be.PREFIX.bigint}:${We.toString()}`},be._booleanCoerce=function B(We){return We?"1":"0"},be._boolean=function A(We){return be.PREFIX.boolean+":"+We.toString()},be._symbolCoerce=function T(){return be.PREFIX.symbol},be._symbol=function b(We){return be.PREFIX.symbol+":"+We.toString()},be._undefinedCoerce=function J(){return""},be._undefined=function ce(){return be.PREFIX.undefined},be._nullCoerce=function W(){return""},be._null=function se(){return be.PREFIX.null},be._functionCoerce=function Q(We){return We.name+"=>"+We.toString()},be._function=function Ie(We){return be.PREFIX.function+":"+We.name+"=>"+We.toString()},be._functionTrimCoerce=function ae(We){return We.name+"=>"+We.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},be._functionTrim=function Me(We){return be.PREFIX.function+":"+We.name+"=>"+We.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},be._dateCoerce=function q(We){return We.toISOString()},be._date=function $(We){return be.PREFIX.date+":"+We.toISOString()},be._arraySort=ge,be._array=K,be._typedArraySort=function Ne(We){const st=this;return"["+Array.prototype.slice.call(We).map(wt=>st[(0,r.guessType)(wt)](wt)).sort().toString()+"]"},be._typedArray=function Ve(We){const st=this;return"["+Array.prototype.slice.call(We).map(wt=>st[(0,r.guessType)(wt)](wt)).toString()+"]"},be._setSortCoerce=function Ge(We){return ge.call(this,Array.from(We))},be._setSort=function gt(We){return`${be.PREFIX.set}:${ge.call(this,Array.from(We))}`},be._set=function _t(We){return`${be.PREFIX.set}:${K.call(this,Array.from(We))}`},be._setCoerce=function zt(We){return K.call(this,Array.from(We))},be._object=function Rn(We){const st=this,ft=Object.keys(We),wt=[];for(const kt of ft){const je=We[kt],Ce=(0,r.guessType)(je);wt.push(kt+":"+st[Ce](je))}return"{"+wt.toString()+"}"},be._objectSort=function Oe(We){const st=this,ft=Object.keys(We).sort(),wt=[];for(const kt of ft){const je=We[kt],Ce=(0,r.guessType)(je);wt.push(kt+":"+st[Ce](je))}return"{"+wt.toString()+"}"},be._map=function De(We){const st=this,ft=Array.from(We),wt=[];for(const kt of ft){const[je,Ce]=kt;wt.push([st[(0,r.guessType)(je)](je),st[(0,r.guessType)(Ce)](Ce)])}return"["+wt.join(";")+"]"},be._mapSort=function He(We){const st=this,ft=Array.from(We),wt=[];for(const kt of ft){const[je,Ce]=kt;wt.push([st[(0,r.guessType)(je)](je),st[(0,r.guessType)(Ce)](Ce)])}return"["+wt.sort().join(";")+"]"}},91921:(bn,be)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.instanceOfHashable=be.guessType=be.guessObjectType=be.TYPE_MAP=void 0,be.TYPE_MAP={Array:"array",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",BigUint64Array:"typedarray",BigInt64Array:"typedarray",Buffer:"typedarray",Map:"map",Set:"set",Date:"date",String:"string",Number:"number",BigInt:"bigint",Boolean:"boolean",Object:"object"},be.guessObjectType=g=>null===g?"null":(0,be.instanceOfHashable)(g)?"hashable":be.TYPE_MAP[g?.constructor?.name??"unknown"]||"unknown",be.guessType=g=>{const C=typeof g;return"object"!==C?C:(0,be.guessObjectType)(g)},be.instanceOfHashable=g=>"function"==typeof g.toHashableString},92298:(bn,be,w)=>{var r="function"==typeof Map&&Map.prototype,m=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,g=r&&m&&"function"==typeof m.get?m.get:null,C=r&&Map.prototype.forEach,D="function"==typeof Set&&Set.prototype,h=Object.getOwnPropertyDescriptor&&D?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,U=D&&h&&"function"==typeof h.get?h.get:null,F=D&&Set.prototype.forEach,z="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,b="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,J=Boolean.prototype.valueOf,ce=Object.prototype.toString,W=Function.prototype.toString,se=String.prototype.match,Q=String.prototype.slice,Ie=String.prototype.replace,ae=String.prototype.toUpperCase,Me=String.prototype.toLowerCase,q=RegExp.prototype.test,$=Array.prototype.concat,ge=Array.prototype.join,K=Array.prototype.slice,Ne=Math.floor,Ve="function"==typeof BigInt?BigInt.prototype.valueOf:null,Ge=Object.getOwnPropertySymbols,gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_t="function"==typeof Symbol&&"object"==typeof Symbol.iterator,zt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Rn=Object.prototype.propertyIsEnumerable,Oe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(rt){return rt.__proto__}:null);function De(rt,Et){if(rt===1/0||rt===-1/0||rt!=rt||rt&&rt>-1e3&&rt<1e3||q.call(/e/,Et))return Et;var vn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof rt){var In=rt<0?-Ne(-rt):Ne(rt);if(In!==rt){var Un=String(In),Jn=Q.call(Et,Un.length+1);return Ie.call(Un,vn,"$&_")+"."+Ie.call(Ie.call(Jn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ie.call(Et,vn,"$&_")}var He=w(42634),We=He.custom,st=G(We)?We:null,ft={__proto__:null,double:'"',single:"'"},wt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function kt(rt,Et,vn){var Un=ft[vn.quoteStyle||Et];return Un+rt+Un}function je(rt){return Ie.call(String(rt),/"/g,"&quot;")}function Ce(rt){return!("[object Array]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}function Re(rt){return!("[object RegExp]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}function G(rt){if(_t)return rt&&"object"==typeof rt&&rt instanceof Symbol;if("symbol"==typeof rt)return!0;if(!rt||"object"!=typeof rt||!gt)return!1;try{return gt.call(rt),!0}catch{}return!1}bn.exports=function rt(Et,vn,In,Un){var Jn=vn||{};if(f(Jn,"quoteStyle")&&!f(ft,Jn.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(f(Jn,"maxStringLength")&&("number"==typeof Jn.maxStringLength?Jn.maxStringLength<0&&Jn.maxStringLength!==1/0:null!==Jn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Cr=!f(Jn,"customInspect")||Jn.customInspect;if("boolean"!=typeof Cr&&"symbol"!==Cr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(f(Jn,"indent")&&null!==Jn.indent&&"\t"!==Jn.indent&&!(parseInt(Jn.indent,10)===Jn.indent&&Jn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(f(Jn,"numericSeparator")&&"boolean"!=typeof Jn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var wn=Jn.numericSeparator;if(typeof Et>"u")return"undefined";if(null===Et)return"null";if("boolean"==typeof Et)return Et?"true":"false";if("string"==typeof Et)return Jt(Et,Jn);if("number"==typeof Et){if(0===Et)return 1/0/Et>0?"0":"-0";var cn=String(Et);return wn?De(Et,cn):cn}if("bigint"==typeof Et){var Yt=String(Et)+"n";return wn?De(Et,Yt):Yt}var Qt=typeof Jn.depth>"u"?5:Jn.depth;if(typeof In>"u"&&(In=0),In>=Qt&&Qt>0&&"object"==typeof Et)return Ce(Et)?"[Array]":"[Object]";var jn=function Bt(rt,Et){var vn;if("\t"===rt.indent)vn="\t";else{if(!("number"==typeof rt.indent&&rt.indent>0))return null;vn=ge.call(Array(rt.indent+1)," ")}return{base:vn,prev:ge.call(Array(Et+1),vn)}}(Jn,In);if(typeof Un>"u")Un=[];else if(ye(Un,Et)>=0)return"[Circular]";function Lt(mi,li,Io){if(li&&(Un=K.call(Un)).push(li),Io){var Co={depth:Jn.depth};return f(Jn,"quoteStyle")&&(Co.quoteStyle=Jn.quoteStyle),rt(mi,Co,In+1,Un)}return rt(mi,Jn,In+1,Un)}if("function"==typeof Et&&!Re(Et)){var Dn=function x(rt){if(rt.name)return rt.name;var Et=se.call(W.call(rt),/^function\s*([\w$]+)/);return Et?Et[1]:null}(Et),Pn=Tt(Et,Lt);return"[Function"+(Dn?": "+Dn:" (anonymous)")+"]"+(Pn.length>0?" { "+ge.call(Pn,", ")+" }":"")}if(G(Et)){var Sn=_t?Ie.call(String(Et),/^(Symbol\(.*\))_[^)]*$/,"$1"):gt.call(Et);return"object"!=typeof Et||_t?Sn:Ft(Sn)}if(function yt(rt){return!(!rt||"object"!=typeof rt)&&(typeof HTMLElement<"u"&&rt instanceof HTMLElement||"string"==typeof rt.nodeName&&"function"==typeof rt.getAttribute)}(Et)){for(var Tn="<"+Me.call(String(Et.nodeName)),dn=Et.attributes||[],Bn=0;Bn<dn.length;Bn++)Tn+=" "+dn[Bn].name+"="+kt(je(dn[Bn].value),"double",Jn);return Tn+=">",Et.childNodes&&Et.childNodes.length&&(Tn+="..."),Tn+"</"+Me.call(String(Et.nodeName))+">"}if(Ce(Et)){if(0===Et.length)return"[]";var Ct=Tt(Et,Lt);return jn&&!function lt(rt){for(var Et=0;Et<rt.length;Et++)if(ye(rt[Et],"\n")>=0)return!1;return!0}(Ct)?"["+ct(Ct,jn)+"]":"[ "+ge.call(Ct,", ")+" ]"}if(function te(rt){return!("[object Error]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}(Et)){var me=Tt(Et,Lt);return"cause"in Error.prototype||!("cause"in Et)||Rn.call(Et,"cause")?0===me.length?"["+String(Et)+"]":"{ ["+String(Et)+"] "+ge.call(me,", ")+" }":"{ ["+String(Et)+"] "+ge.call($.call("[cause]: "+Lt(Et.cause),me),", ")+" }"}if("object"==typeof Et&&Cr){if(st&&"function"==typeof Et[st]&&He)return He(Et,{depth:Qt-In});if("symbol"!==Cr&&"function"==typeof Et.inspect)return Et.inspect()}if(function Te(rt){if(!g||!rt||"object"!=typeof rt)return!1;try{g.call(rt);try{U.call(rt)}catch{return!0}return rt instanceof Map}catch{}return!1}(Et)){var ue=[];return C&&C.call(Et,function(mi,li){ue.push(Lt(li,Et,!0)+" => "+Lt(mi,Et))}),Mt("Map",g.call(Et),ue,jn)}if(function nt(rt){if(!U||!rt||"object"!=typeof rt)return!1;try{U.call(rt);try{g.call(rt)}catch{return!0}return rt instanceof Set}catch{}return!1}(Et)){var Ue=[];return F&&F.call(Et,function(mi){Ue.push(Lt(mi,Et))}),Mt("Set",U.call(Et),Ue,jn)}if(function ke(rt){if(!z||!rt||"object"!=typeof rt)return!1;try{z.call(rt,z);try{A.call(rt,A)}catch{return!0}return rt instanceof WeakMap}catch{}return!1}(Et))return it("WeakMap");if(function at(rt){if(!A||!rt||"object"!=typeof rt)return!1;try{A.call(rt,A);try{z.call(rt,z)}catch{return!0}return rt instanceof WeakSet}catch{}return!1}(Et))return it("WeakSet");if(function Ee(rt){if(!b||!rt||"object"!=typeof rt)return!1;try{return b.call(rt),!0}catch{}return!1}(Et))return it("WeakRef");if(function M(rt){return!("[object Number]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}(Et))return Ft(Lt(Number(Et)));if(function _e(rt){if(!rt||"object"!=typeof rt||!Ve)return!1;try{return Ve.call(rt),!0}catch{}return!1}(Et))return Ft(Lt(Ve.call(Et)));if(function Y(rt){return!("[object Boolean]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}(Et))return Ft(J.call(Et));if(function y(rt){return!("[object String]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}(Et))return Ft(Lt(String(Et)));if(typeof window<"u"&&Et===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Et===globalThis||typeof global<"u"&&Et===global)return"{ [object globalThis] }";if(!function ne(rt){return!("[object Date]"!==V(rt)||zt&&"object"==typeof rt&&zt in rt)}(Et)&&!Re(Et)){var bt=Tt(Et,Lt),Ht=Oe?Oe(Et)===Object.prototype:Et instanceof Object||Et.constructor===Object,fn=Et instanceof Object?"":"null prototype",cr=!Ht&&zt&&Object(Et)===Et&&zt in Et?Q.call(V(Et),8,-1):fn?"Object":"",ti=(Ht||"function"!=typeof Et.constructor?"":Et.constructor.name?Et.constructor.name+" ":"")+(cr||fn?"["+ge.call($.call([],cr||[],fn||[]),": ")+"] ":"");return 0===bt.length?ti+"{}":jn?ti+"{"+ct(bt,jn)+"}":ti+"{ "+ge.call(bt,", ")+" }"}return String(Et)};var Z=Object.prototype.hasOwnProperty||function(rt){return rt in this};function f(rt,Et){return Z.call(rt,Et)}function V(rt){return ce.call(rt)}function ye(rt,Et){if(rt.indexOf)return rt.indexOf(Et);for(var vn=0,In=rt.length;vn<In;vn++)if(rt[vn]===Et)return vn;return-1}function Jt(rt,Et){if(rt.length>Et.maxStringLength){var vn=rt.length-Et.maxStringLength,In="... "+vn+" more character"+(vn>1?"s":"");return Jt(Q.call(rt,0,Et.maxStringLength),Et)+In}var Un=wt[Et.quoteStyle||"single"];return Un.lastIndex=0,kt(Ie.call(Ie.call(rt,Un,"\\$1"),/[\x00-\x1f]/g,Qe),"single",Et)}function Qe(rt){var Et=rt.charCodeAt(0),vn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Et];return vn?"\\"+vn:"\\x"+(Et<16?"0":"")+ae.call(Et.toString(16))}function Ft(rt){return"Object("+rt+")"}function it(rt){return rt+" { ? }"}function Mt(rt,Et,vn,In){return rt+" ("+Et+") {"+(In?ct(vn,In):ge.call(vn,", "))+"}"}function ct(rt,Et){if(0===rt.length)return"";var vn="\n"+Et.prev+Et.base;return vn+ge.call(rt,","+vn)+"\n"+Et.prev}function Tt(rt,Et){var vn=Ce(rt),In=[];if(vn){In.length=rt.length;for(var Un=0;Un<rt.length;Un++)In[Un]=f(rt,Un)?Et(rt[Un],rt):""}var Cr,Jn="function"==typeof Ge?Ge(rt):[];if(_t){Cr={};for(var wn=0;wn<Jn.length;wn++)Cr["$"+Jn[wn]]=Jn[wn]}for(var cn in rt)f(rt,cn)&&(vn&&String(Number(cn))===cn&&cn<rt.length||_t&&Cr["$"+cn]instanceof Symbol||(q.call(/[^\w$]/,cn)?In.push(Et(cn,rt)+": "+Et(rt[cn],rt)):In.push(cn+": "+Et(rt[cn],rt))));if("function"==typeof Ge)for(var Yt=0;Yt<Jn.length;Yt++)Rn.call(rt,Jn[Yt])&&In.push("["+Et(Jn[Yt])+"]: "+Et(rt[Jn[Yt]],rt));return In}},91677:bn=>{"use strict";var be=Object.prototype.hasOwnProperty,w="~";function r(){}function m(h,U,F){this.fn=h,this.context=U,this.once=F||!1}function g(h,U,F,k,z){if("function"!=typeof F)throw new TypeError("The listener must be a function");var B=new m(F,k||h,z),A=w?w+U:U;return h._events[A]?h._events[A].fn?h._events[A]=[h._events[A],B]:h._events[A].push(B):(h._events[A]=B,h._eventsCount++),h}function C(h,U){0==--h._eventsCount?h._events=new r:delete h._events[U]}function D(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(w=!1)),D.prototype.eventNames=function(){var F,k,U=[];if(0===this._eventsCount)return U;for(k in F=this._events)be.call(F,k)&&U.push(w?k.slice(1):k);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(F)):U},D.prototype.listeners=function(U){var k=this._events[w?w+U:U];if(!k)return[];if(k.fn)return[k.fn];for(var z=0,B=k.length,A=new Array(B);z<B;z++)A[z]=k[z].fn;return A},D.prototype.listenerCount=function(U){var k=this._events[w?w+U:U];return k?k.fn?1:k.length:0},D.prototype.emit=function(U,F,k,z,B,A){var T=w?w+U:U;if(!this._events[T])return!1;var ce,W,b=this._events[T],J=arguments.length;if(b.fn){switch(b.once&&this.removeListener(U,b.fn,void 0,!0),J){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,F),!0;case 3:return b.fn.call(b.context,F,k),!0;case 4:return b.fn.call(b.context,F,k,z),!0;case 5:return b.fn.call(b.context,F,k,z,B),!0;case 6:return b.fn.call(b.context,F,k,z,B,A),!0}for(W=1,ce=new Array(J-1);W<J;W++)ce[W-1]=arguments[W];b.fn.apply(b.context,ce)}else{var Q,se=b.length;for(W=0;W<se;W++)switch(b[W].once&&this.removeListener(U,b[W].fn,void 0,!0),J){case 1:b[W].fn.call(b[W].context);break;case 2:b[W].fn.call(b[W].context,F);break;case 3:b[W].fn.call(b[W].context,F,k);break;case 4:b[W].fn.call(b[W].context,F,k,z);break;default:if(!ce)for(Q=1,ce=new Array(J-1);Q<J;Q++)ce[Q-1]=arguments[Q];b[W].fn.apply(b[W].context,ce)}}return!0},D.prototype.on=function(U,F,k){return g(this,U,F,k,!1)},D.prototype.once=function(U,F,k){return g(this,U,F,k,!0)},D.prototype.removeListener=function(U,F,k,z){var B=w?w+U:U;if(!this._events[B])return this;if(!F)return C(this,B),this;var A=this._events[B];if(A.fn)A.fn===F&&(!z||A.once)&&(!k||A.context===k)&&C(this,B);else{for(var T=0,b=[],J=A.length;T<J;T++)(A[T].fn!==F||z&&!A[T].once||k&&A[T].context!==k)&&b.push(A[T]);b.length?this._events[B]=1===b.length?b[0]:b:C(this,B)}return this},D.prototype.removeAllListeners=function(U){var F;return U?this._events[F=w?w+U:U]&&C(this,F):(this._events=new r,this._eventsCount=0),this},D.prototype.off=D.prototype.removeListener,D.prototype.addListener=D.prototype.on,D.prefixed=w,D.EventEmitter=D,bn.exports=D},5442:function(bn,be){var w,m;w=function g(){"use strict";var C=typeof self<"u"?self:typeof window<"u"?window:void 0!==C?C:{},D=!C.document&&!!C.postMessage,h=C.IS_PAPA_WORKER||!1,U={},F=0,k={parse:function(ge,K){var Ne=(K=K||{}).dynamicTyping||!1;if($(Ne)&&(K.dynamicTypingFunction=Ne,Ne={}),K.dynamicTyping=Ne,K.transform=!!$(K.transform)&&K.transform,K.worker&&k.WORKERS_SUPPORTED){var Ve=function(){if(!k.WORKERS_SUPPORTED)return!1;var zt,Rn,gt=(zt=C.URL||C.webkitURL||null,Rn=g.toString(),k.BLOB_URL||(k.BLOB_URL=zt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Rn,")();"],{type:"text/javascript"})))),_t=new C.Worker(gt);return _t.onmessage=Q,_t.id=F++,U[_t.id]=_t}();return Ve.userStep=K.step,Ve.userChunk=K.chunk,Ve.userComplete=K.complete,Ve.userError=K.error,K.step=$(K.step),K.chunk=$(K.chunk),K.complete=$(K.complete),K.error=$(K.error),delete K.worker,void Ve.postMessage({input:ge,config:K,workerId:Ve.id})}var gt,Ge=null;return"string"==typeof ge?(ge=65279===(gt=ge).charCodeAt(0)?gt.slice(1):gt,Ge=K.download?new A(K):new b(K)):!0===ge.readable&&$(ge.read)&&$(ge.on)?Ge=new J(K):(C.File&&ge instanceof File||ge instanceof Object)&&(Ge=new T(K)),Ge.stream(ge)},unparse:function(ge,K){var Ne=!1,Ve=!0,Ge=",",gt="\r\n",_t='"',zt=_t+_t,Rn=!1,Oe=null,De=!1;!function(){if("object"==typeof K){if("string"!=typeof K.delimiter||k.BAD_DELIMITERS.filter(function(ft){return-1!==K.delimiter.indexOf(ft)}).length||(Ge=K.delimiter),("boolean"==typeof K.quotes||"function"==typeof K.quotes||Array.isArray(K.quotes))&&(Ne=K.quotes),"boolean"!=typeof K.skipEmptyLines&&"string"!=typeof K.skipEmptyLines||(Rn=K.skipEmptyLines),"string"==typeof K.newline&&(gt=K.newline),"string"==typeof K.quoteChar&&(_t=K.quoteChar),"boolean"==typeof K.header&&(Ve=K.header),Array.isArray(K.columns)){if(0===K.columns.length)throw new Error("Option columns is empty");Oe=K.columns}void 0!==K.escapeChar&&(zt=K.escapeChar+_t),("boolean"==typeof K.escapeFormulae||K.escapeFormulae instanceof RegExp)&&(De=K.escapeFormulae instanceof RegExp?K.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var He=new RegExp(W(_t),"g");if("string"==typeof ge&&(ge=JSON.parse(ge)),Array.isArray(ge)){if(!ge.length||Array.isArray(ge[0]))return We(null,ge,Rn);if("object"==typeof ge[0])return We(Oe||Object.keys(ge[0]),ge,Rn)}else if("object"==typeof ge)return"string"==typeof ge.data&&(ge.data=JSON.parse(ge.data)),Array.isArray(ge.data)&&(ge.fields||(ge.fields=ge.meta&&ge.meta.fields||Oe),ge.fields||(ge.fields=Array.isArray(ge.data[0])?ge.fields:"object"==typeof ge.data[0]?Object.keys(ge.data[0]):[]),Array.isArray(ge.data[0])||"object"==typeof ge.data[0]||(ge.data=[ge.data])),We(ge.fields||[],ge.data||[],Rn);throw new Error("Unable to serialize unrecognized input");function We(ft,wt,kt){var je="";"string"==typeof ft&&(ft=JSON.parse(ft)),"string"==typeof wt&&(wt=JSON.parse(wt));var Ce=Array.isArray(ft)&&0<ft.length,ne=!Array.isArray(wt[0]);if(Ce&&Ve){for(var Re=0;Re<ft.length;Re++)0<Re&&(je+=Ge),je+=st(ft[Re],Re);0<wt.length&&(je+=gt)}for(var te=0;te<wt.length;te++){var y=Ce?ft.length:wt[te].length,M=!1,Y=Ce?0===Object.keys(wt[te]).length:0===wt[te].length;if(kt&&!Ce&&(M="greedy"===kt?""===wt[te].join("").trim():1===wt[te].length&&0===wt[te][0].length),"greedy"===kt&&Ce){for(var G=[],_e=0;_e<y;_e++)G.push(wt[te][ne?ft[_e]:_e]);M=""===G.join("").trim()}if(!M){for(var f=0;f<y;f++)0<f&&!Y&&(je+=Ge),je+=st(wt[te][Ce&&ne?ft[f]:f],f);te<wt.length-1&&(!kt||0<y&&!Y)&&(je+=gt)}}return je}function st(ft,wt){if(null==ft)return"";if(ft.constructor===Date)return JSON.stringify(ft).slice(1,25);var kt=!1;De&&"string"==typeof ft&&De.test(ft)&&(ft="'"+ft,kt=!0);var je=ft.toString().replace(He,zt);return(kt=kt||!0===Ne||"function"==typeof Ne&&Ne(ft,wt)||Array.isArray(Ne)&&Ne[wt]||function(Ce,ne){for(var Re=0;Re<ne.length;Re++)if(-1<Ce.indexOf(ne[Re]))return!0;return!1}(je,k.BAD_DELIMITERS)||-1<je.indexOf(Ge)||" "===je.charAt(0)||" "===je.charAt(je.length-1))?_t+je+_t:je}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(k.BAD_DELIMITERS=["\r","\n",'"',k.BYTE_ORDER_MARK],k.WORKERS_SUPPORTED=!D&&!!C.Worker,k.NODE_STREAM_INPUT=1,k.LocalChunkSize=10485760,k.RemoteChunkSize=5242880,k.DefaultDelimiter=",",k.Parser=se,k.ParserHandle=ce,k.NetworkStreamer=A,k.FileStreamer=T,k.StringStreamer=b,k.ReadableStreamStreamer=J,C.jQuery){var z=C.jQuery;z.fn.parse=function(ge){var K=ge.config||{},Ne=[];return this.each(function(gt){if("INPUT"!==z(this).prop("tagName").toUpperCase()||"file"!==z(this).attr("type").toLowerCase()||!C.FileReader||!this.files||0===this.files.length)return!0;for(var _t=0;_t<this.files.length;_t++)Ne.push({file:this.files[_t],inputElem:this,instanceConfig:z.extend({},K)})}),Ve(),this;function Ve(){if(0!==Ne.length){var _t,zt,Rn,Oe=Ne[0];if($(ge.before)){var De=ge.before(Oe.file,Oe.inputElem);if("object"==typeof De){if("abort"===De.action)return _t=Oe.file,zt=Oe.inputElem,Rn=De.reason,void($(ge.error)&&ge.error({name:"AbortError"},_t,zt,Rn));if("skip"===De.action)return void Ge();"object"==typeof De.config&&(Oe.instanceConfig=z.extend(Oe.instanceConfig,De.config))}else if("skip"===De)return void Ge()}var He=Oe.instanceConfig.complete;Oe.instanceConfig.complete=function(We){$(He)&&He(We,Oe.file,Oe.inputElem),Ge()},k.parse(Oe.file,Oe.instanceConfig)}else $(ge.complete)&&ge.complete()}function Ge(){Ne.splice(0,1),Ve()}}}function B(ge){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(K){var Ne=Me(K);Ne.chunkSize=parseInt(Ne.chunkSize),K.step||K.chunk||(Ne.chunkSize=null),this._handle=new ce(Ne),(this._handle.streamer=this)._config=Ne}.call(this,ge),this.parseChunk=function(K,Ne){if(this.isFirstChunk&&$(this._config.beforeFirstChunk)){var Ve=this._config.beforeFirstChunk(K);void 0!==Ve&&(K=Ve)}this.isFirstChunk=!1,this._halted=!1;var Ge=this._partialLine+K;this._partialLine="";var gt=this._handle.parse(Ge,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var _t=gt.meta.cursor;this._finished||(this._partialLine=Ge.substring(_t-this._baseIndex),this._baseIndex=_t),gt&&gt.data&&(this._rowCount+=gt.data.length);var zt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(h)C.postMessage({results:gt,workerId:k.WORKER_ID,finished:zt});else if($(this._config.chunk)&&!Ne){if(this._config.chunk(gt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);gt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(gt.data),this._completeResults.errors=this._completeResults.errors.concat(gt.errors),this._completeResults.meta=gt.meta),this._completed||!zt||!$(this._config.complete)||gt&&gt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),zt||gt&&gt.meta.paused||this._nextChunk(),gt}this._halted=!0},this._sendError=function(K){$(this._config.error)?this._config.error(K):h&&this._config.error&&C.postMessage({workerId:k.WORKER_ID,error:K,finished:!1})}}function A(ge){var K;(ge=ge||{}).chunkSize||(ge.chunkSize=k.RemoteChunkSize),B.call(this,ge),this._nextChunk=D?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Ne){this._input=Ne,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(K=new XMLHttpRequest,this._config.withCredentials&&(K.withCredentials=this._config.withCredentials),D||(K.onload=q(this._chunkLoaded,this),K.onerror=q(this._chunkError,this)),K.open(this._config.downloadRequestBody?"POST":"GET",this._input,!D),this._config.downloadRequestHeaders){var Ne=this._config.downloadRequestHeaders;for(var Ve in Ne)K.setRequestHeader(Ve,Ne[Ve])}this._config.chunkSize&&K.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{K.send(this._config.downloadRequestBody)}catch(gt){this._chunkError(gt.message)}D&&0===K.status&&this._chunkError()}},this._chunkLoaded=function(){var Ve;4===K.readyState&&(K.status<200||400<=K.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:K.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(Ve=K.getResponseHeader("Content-Range"))?-1:parseInt(Ve.substring(Ve.lastIndexOf("/")+1))),this.parseChunk(K.responseText)))},this._chunkError=function(Ne){this._sendError(new Error(K.statusText||Ne))}}function T(ge){var K,Ne;(ge=ge||{}).chunkSize||(ge.chunkSize=k.LocalChunkSize),B.call(this,ge);var Ve=typeof FileReader<"u";this.stream=function(Ge){this._input=Ge,Ne=Ge.slice||Ge.webkitSlice||Ge.mozSlice,Ve?((K=new FileReader).onload=q(this._chunkLoaded,this),K.onerror=q(this._chunkError,this)):K=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Ge=this._input;if(this._config.chunkSize){var gt=Math.min(this._start+this._config.chunkSize,this._input.size);Ge=Ne.call(Ge,this._start,gt)}var _t=K.readAsText(Ge,this._config.encoding);Ve||this._chunkLoaded({target:{result:_t}})},this._chunkLoaded=function(Ge){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Ge.target.result)},this._chunkError=function(){this._sendError(K.error)}}function b(ge){var K;B.call(this,ge=ge||{}),this.stream=function(Ne){return K=Ne,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Ne,Ve=this._config.chunkSize;return Ve?(Ne=K.substring(0,Ve),K=K.substring(Ve)):(Ne=K,K=""),this._finished=!K,this.parseChunk(Ne)}}}function J(ge){B.call(this,ge=ge||{});var K=[],Ne=!0,Ve=!1;this.pause=function(){B.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){B.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Ge){this._input=Ge,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Ve&&1===K.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),K.length?this.parseChunk(K.shift()):Ne=!0},this._streamData=q(function(Ge){try{K.push("string"==typeof Ge?Ge:Ge.toString(this._config.encoding)),Ne&&(Ne=!1,this._checkIsFinished(),this.parseChunk(K.shift()))}catch(gt){this._streamError(gt)}},this),this._streamError=q(function(Ge){this._streamCleanUp(),this._sendError(Ge)},this),this._streamEnd=q(function(){this._streamCleanUp(),Ve=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ce(ge){var K,Ne,Ve,Ge=Math.pow(2,53),gt=-Ge,_t=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,zt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Rn=this,Oe=0,De=0,He=!1,We=!1,st=[],ft={data:[],errors:[],meta:{}};if($(ge.step)){var wt=ge.step;ge.step=function(te){if(ft=te,Ce())je();else{if(je(),0===ft.data.length)return;Oe+=te.data.length,ge.preview&&Oe>ge.preview?Ne.abort():(ft.data=ft.data[0],wt(ft,Rn))}}}function kt(te){return"greedy"===ge.skipEmptyLines?""===te.join("").trim():1===te.length&&0===te[0].length}function je(){return ft&&Ve&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+k.DefaultDelimiter+"'"),Ve=!1),ge.skipEmptyLines&&(ft.data=ft.data.filter(function(te){return!kt(te)})),Ce()&&function(){if(ft)if(Array.isArray(ft.data[0])){for(var y=0;Ce()&&y<ft.data.length;y++)ft.data[y].forEach(te);ft.data.splice(0,1)}else ft.data.forEach(te);function te(M,Y){$(ge.transformHeader)&&(M=ge.transformHeader(M,Y)),st.push(M)}}(),function(){if(!ft||!ge.header&&!ge.dynamicTyping&&!ge.transform)return ft;function te(M,Y){var G,_e=ge.header?{}:[];for(G=0;G<M.length;G++){var Z=G,f=M[G];ge.header&&(Z=G>=st.length?"__parsed_extra":st[G]),ge.transform&&(f=ge.transform(f,Z)),f=ne(Z,f),"__parsed_extra"===Z?(_e[Z]=_e[Z]||[],_e[Z].push(f)):_e[Z]=f}return ge.header&&(G>st.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+st.length+" fields but parsed "+G,De+Y):G<st.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+st.length+" fields but parsed "+G,De+Y)),_e}var y=1;return!ft.data.length||Array.isArray(ft.data[0])?(ft.data=ft.data.map(te),y=ft.data.length):ft.data=te(ft.data,0),ge.header&&ft.meta&&(ft.meta.fields=st),De+=y,ft}()}function Ce(){return ge.header&&0===st.length}function ne(te,y){return M=te,ge.dynamicTypingFunction&&void 0===ge.dynamicTyping[M]&&(ge.dynamicTyping[M]=ge.dynamicTypingFunction(M)),!0===(ge.dynamicTyping[M]||ge.dynamicTyping)?"true"===y||"TRUE"===y||"false"!==y&&"FALSE"!==y&&(function(Y){if(_t.test(Y)){var G=parseFloat(Y);if(gt<G&&G<Ge)return!0}return!1}(y)?parseFloat(y):zt.test(y)?new Date(y):""===y?null:y):y;var M}function Re(te,y,M,Y){var G={type:te,code:y,message:M};void 0!==Y&&(G.row=Y),ft.errors.push(G)}this.parse=function(te,y,M){if(ge.newline||(ge.newline=function(Z,f){Z=Z.substring(0,1048576);var V=new RegExp(W(f)+"([^]*?)"+W(f),"gm"),x=(Z=Z.replace(V,"")).split("\r"),ye=Z.split("\n");if(1===x.length||1<ye.length&&ye[0].length<x[0].length)return"\n";for(var ke=0,Ee=0;Ee<x.length;Ee++)"\n"===x[Ee][0]&&ke++;return ke>=x.length/2?"\r\n":"\r"}(te,ge.quoteChar||'"')),Ve=!1,ge.delimiter)$(ge.delimiter)&&(ge.delimiter=ge.delimiter(te),ft.meta.delimiter=ge.delimiter);else{var G=function(Z,f,V,x,ye){var Te,ke,Ee,nt;ye=ye||[",","\t","|",";",k.RECORD_SEP,k.UNIT_SEP];for(var at=0;at<ye.length;at++){var yt=ye[at],Jt=0,Qe=0,Ft=0;Ee=void 0;for(var it=new se({comments:x,delimiter:yt,newline:f,preview:10}).parse(Z),Mt=0;Mt<it.data.length;Mt++)if(V&&kt(it.data[Mt]))Ft++;else{var lt=it.data[Mt].length;Qe+=lt,void 0!==Ee?0<lt&&(Jt+=Math.abs(lt-Ee),Ee=lt):Ee=lt}0<it.data.length&&(Qe/=it.data.length-Ft),(void 0===ke||Jt<=ke)&&(void 0===nt||nt<Qe)&&1.99<Qe&&(ke=Jt,Te=yt,nt=Qe)}return{successful:!!(ge.delimiter=Te),bestDelimiter:Te}}(te,ge.newline,ge.skipEmptyLines,ge.comments,ge.delimitersToGuess);G.successful?ge.delimiter=G.bestDelimiter:(Ve=!0,ge.delimiter=k.DefaultDelimiter),ft.meta.delimiter=ge.delimiter}var _e=Me(ge);return ge.preview&&ge.header&&_e.preview++,K=te,Ne=new se(_e),ft=Ne.parse(K,y,M),je(),He?{meta:{paused:!0}}:ft||{meta:{paused:!1}}},this.paused=function(){return He},this.pause=function(){He=!0,Ne.abort(),K=$(ge.chunk)?"":K.substring(Ne.getCharIndex())},this.resume=function(){Rn.streamer._halted?(He=!1,Rn.streamer.parseChunk(K,!0)):setTimeout(Rn.resume,3)},this.aborted=function(){return We},this.abort=function(){We=!0,Ne.abort(),ft.meta.aborted=!0,$(ge.complete)&&ge.complete(ft),K=""}}function W(ge){return ge.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function se(ge){var K,Ne=(ge=ge||{}).delimiter,Ve=ge.newline,Ge=ge.comments,gt=ge.step,_t=ge.preview,zt=ge.fastMode,Rn=K=null==ge.quoteChar?'"':ge.quoteChar;if(void 0!==ge.escapeChar&&(Rn=ge.escapeChar),("string"!=typeof Ne||-1<k.BAD_DELIMITERS.indexOf(Ne))&&(Ne=","),Ge===Ne)throw new Error("Comment character same as delimiter");!0===Ge?Ge="#":("string"!=typeof Ge||-1<k.BAD_DELIMITERS.indexOf(Ge))&&(Ge=!1),"\n"!==Ve&&"\r"!==Ve&&"\r\n"!==Ve&&(Ve="\n");var Oe=0,De=!1;this.parse=function(He,We,st){if("string"!=typeof He)throw new Error("Input must be a string");var ft=He.length,wt=Ne.length,kt=Ve.length,je=Ge.length,Ce=$(gt),ne=[],Re=[],te=[],y=Oe=0;if(!He)return Bt();if(ge.header&&!We){var M=He.split(Ve)[0].split(Ne),Y=[],G={},_e=!1;for(var Z in M){var f=M[Z];$(ge.transformHeader)&&(f=ge.transformHeader(f,Z));var V=f,x=G[f]||0;for(0<x&&(_e=!0,V=f+"_"+x),G[f]=x+1;Y.includes(V);)V=V+"_"+x;Y.push(V)}if(_e){var ye=He.split(Ve);ye[0]=Y.join(Ne),He=ye.join(Ve)}}if(zt||!1!==zt&&-1===He.indexOf(K)){for(var Te=He.split(Ve),ke=0;ke<Te.length;ke++){if(Oe+=(te=Te[ke]).length,ke!==Te.length-1)Oe+=Ve.length;else if(st)return Bt();if(!Ge||te.substring(0,je)!==Ge){if(Ce){if(ne=[],Ft(te.split(Ne)),ct(),De)return Bt()}else Ft(te.split(Ne));if(_t&&_t<=ke)return ne=ne.slice(0,_t),Bt(!0)}}return Bt()}for(var Ee=He.indexOf(Ne,Oe),nt=He.indexOf(Ve,Oe),at=new RegExp(W(Rn)+W(K),"g"),yt=He.indexOf(K,Oe);;)if(He[Oe]!==K)if(Ge&&0===te.length&&He.substring(Oe,Oe+je)===Ge){if(-1===nt)return Bt();nt=He.indexOf(Ve,Oe=nt+kt),Ee=He.indexOf(Ne,Oe)}else if(-1!==Ee&&(Ee<nt||-1===nt))te.push(He.substring(Oe,Ee)),Ee=He.indexOf(Ne,Oe=Ee+wt);else{if(-1===nt)break;if(te.push(He.substring(Oe,nt)),lt(nt+kt),Ce&&(ct(),De))return Bt();if(_t&&ne.length>=_t)return Bt(!0)}else for(yt=Oe,Oe++;;){if(-1===(yt=He.indexOf(K,yt+1)))return st||Re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:Oe}),Mt();if(yt===ft-1)return Mt(He.substring(Oe,yt).replace(at,K));if(K!==Rn||He[yt+1]!==Rn){if(K===Rn||0===yt||He[yt-1]!==Rn){-1!==Ee&&Ee<yt+1&&(Ee=He.indexOf(Ne,yt+1)),-1!==nt&&nt<yt+1&&(nt=He.indexOf(Ve,yt+1));var Jt=it(-1===nt?Ee:Math.min(Ee,nt));if(He.substr(yt+1+Jt,wt)===Ne){te.push(He.substring(Oe,yt).replace(at,K)),He[Oe=yt+1+Jt+wt]!==K&&(yt=He.indexOf(K,Oe)),Ee=He.indexOf(Ne,Oe),nt=He.indexOf(Ve,Oe);break}var Qe=it(nt);if(He.substring(yt+1+Qe,yt+1+Qe+kt)===Ve){if(te.push(He.substring(Oe,yt).replace(at,K)),lt(yt+1+Qe+kt),Ee=He.indexOf(Ne,Oe),yt=He.indexOf(K,Oe),Ce&&(ct(),De))return Bt();if(_t&&ne.length>=_t)return Bt(!0);break}Re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:Oe}),yt++}}else yt++}return Mt();function Ft(Tt){ne.push(Tt),y=Oe}function it(Tt){var rt=0;if(-1!==Tt){var Et=He.substring(yt+1,Tt);Et&&""===Et.trim()&&(rt=Et.length)}return rt}function Mt(Tt){return st||(void 0===Tt&&(Tt=He.substring(Oe)),te.push(Tt),Oe=ft,Ft(te),Ce&&ct()),Bt()}function lt(Tt){Oe=Tt,Ft(te),te=[],nt=He.indexOf(Ve,Oe)}function Bt(Tt){return{data:ne,errors:Re,meta:{delimiter:Ne,linebreak:Ve,aborted:De,truncated:!!Tt,cursor:y+(We||0)}}}function ct(){gt(Bt()),ne=[],Re=[]}},this.abort=function(){De=!0},this.getCharIndex=function(){return Oe}}function Q(ge){var K=ge.data,Ne=U[K.workerId],Ve=!1;if(K.error)Ne.userError(K.error,K.file);else if(K.results&&K.results.data){var Ge={abort:function(){Ve=!0,Ie(K.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ae,resume:ae};if($(Ne.userStep)){for(var gt=0;gt<K.results.data.length&&(Ne.userStep({data:K.results.data[gt],errors:K.results.errors,meta:K.results.meta},Ge),!Ve);gt++);delete K.results}else $(Ne.userChunk)&&(Ne.userChunk(K.results,Ge,K.file),delete K.results)}K.finished&&!Ve&&Ie(K.workerId,K.results)}function Ie(ge,K){var Ne=U[ge];$(Ne.userComplete)&&Ne.userComplete(K),Ne.terminate(),delete U[ge]}function ae(){throw new Error("Not implemented.")}function Me(ge){if("object"!=typeof ge||null===ge)return ge;var K=Array.isArray(ge)?[]:{};for(var Ne in ge)K[Ne]=Me(ge[Ne]);return K}function q(ge,K){return function(){ge.apply(K,arguments)}}function $(ge){return"function"==typeof ge}return h&&(C.onmessage=function(ge){var K=ge.data;if(void 0===k.WORKER_ID&&K&&(k.WORKER_ID=K.workerId),"string"==typeof K.input)C.postMessage({workerId:k.WORKER_ID,results:k.parse(K.input,K.config),finished:!0});else if(C.File&&K.input instanceof File||K.input instanceof Object){var Ne=k.parse(K.input,K.config);Ne&&C.postMessage({workerId:k.WORKER_ID,results:Ne,finished:!0})}}),(A.prototype=Object.create(B.prototype)).constructor=A,(T.prototype=Object.create(B.prototype)).constructor=T,(b.prototype=Object.create(b.prototype)).constructor=b,(J.prototype=Object.create(B.prototype)).constructor=J,k},void 0!==(m=w.apply(be,[]))&&(bn.exports=m)},11724:(bn,be,w)=>{var r=w(31049).default;(()=>{"use strict";var m={493:l=>{l.exports=w(71245)}},g={};function C(l){var s=g[l];if(void 0!==s)return s.exports;var u=g[l]={exports:{}};return m[l](u,u.exports,C),u.exports}C.n=l=>{var s=l&&l.__esModule?()=>l.default:()=>l;return C.d(s,{a:s}),s},C.d=(l,s)=>{for(var u in s)C.o(s,u)&&!C.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:s[u]})},C.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),C.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var D={};C.r(D),C.d(D,{AABB:()=>ml,AbstractTexture:()=>ft,AmbientLightNode:()=>L,Animation:()=>rs,AnimationSystem:()=>ho,BIODIGITAL_HIGHLIGHT_COLOR:()=>gt,BIODIGITAL_PARTICLE_SCALE:()=>K,BIODIGITAL_SCENE_SCALE:()=>ge,BioDigitalAnatomyObject:()=>mo,BioDigitalAnatomySceneGraph:()=>Ts,BioDigitalAnimationPlayer:()=>Jp,BioDigitalChapter:()=>Mr,BioDigitalEngine:()=>jf,BioDigitalFileServer:()=>lm,BioDigitalGeometry:()=>lt,BioDigitalMarker:()=>Kf,BioDigitalMeshNode:()=>Un,BioDigitalRenderer:()=>Dh,BioDigitalScreenMarker:()=>Ed,BioDigitalStory:()=>ko,BioDigitalWebSocketServer:()=>Jh,BioDigitalXR:()=>Xf,COMMIT:()=>yg,CameraController:()=>He,CameraNode:()=>et,CameraOrbiter:()=>qh,CameraTween:()=>un,ClipId:()=>Yo,CubeTexture:()=>Z,DEFAULT_TONE_MAP_MODE:()=>zt,DirectionalLightNode:()=>de,ENABLE_COMPRESSED_TEXTURES:()=>_t,EPSILON:()=>ce,EmitterMap:()=>In,EventEmitter:()=>b,FogModeNumericEnum:()=>Je,FresnelTween:()=>an,Geometry:()=>Mt,LegacyLightNode:()=>Kt,LegacyMaterial:()=>Yt,LightNode:()=>Ke,MAX_ANIMATION_TICK:()=>Ge,MAX_FLOAT32:()=>W,MAX_SIMULATION_TICK:()=>Ve,Material:()=>Cr,MaterialTween:()=>er,MeshNode:()=>ct,MeshTopology:()=>Ee,MultiKeyMap:()=>wt,ObjectAttributeSwitch:()=>Rr,ObjectAttributeTween:()=>go,OrthographicCameraNode:()=>Qp,PARTICLE_WORKERS:()=>Ne,ParticleComponentTween:()=>ii,ParticleSystem:()=>Jn,ParticleSystemDebugView:()=>um,ParticleSystemTween:()=>Pr,PerspectiveCameraNode:()=>rn,PhysicalMaterial:()=>cr,PointLightNode:()=>O,Pool:()=>q,ResourceCache:()=>Qo,SceneGraphMonitor:()=>ks,SceneNode:()=>Me,SpotLightNode:()=>ie,StoryAssetLoader:()=>fo,Switch:()=>ar,TIMESTAMP:()=>hm,Texture:()=>Go,TextureFilter:()=>We,TextureTween:()=>ai,TextureWrap:()=>st,TransformTween:()=>Es,TransparencyModeEnum:()=>vo,Tween:()=>Ro,UnlitMaterial:()=>fn,VERSION:()=>nh,XR:()=>th,XRGrabber:()=>Nh,XRInputCollection:()=>Hh,XRTrackedInput:()=>Wf,applyTransform:()=>xi,atos:()=>Wh,autoCameraRange:()=>Na,barycentricCoord:()=>Zp,bigEnoughUintArray:()=>nt,boundsRayDistance:()=>Sh,boundsSphereDistance:()=>io,boxIntersectsPlaneBounds:()=>tl,boxRayDistance:()=>Xl,boxSphereDistance:()=>Uo,buildRotationScaleMat3:()=>xn,canvasSpace:()=>$u,cartesianCoord:()=>Yl,clamp:()=>se,cloneSceneNode:()=>jh,cloneSceneTree:()=>Qd,colorArray:()=>Qt,copyBox:()=>yt,deepFreeze:()=>vn,emptyBox:()=>at,eulerXYZFromMatrix:()=>dm,eulerZYXFromMatrix:()=>Q,fetchAssetLibrary:()=>Yh,fill:()=>$n,findAllTransfers:()=>gl,findSceneNode:()=>wu,findSceneNodeByName:()=>Xu,floatString:()=>Cl,get:()=>wd,getTranslation:()=>k,getTrianglePositions:()=>Xd,gltfBuildLegacyMaterial:()=>zh,gltfBuildPhysicalMaterial:()=>Cd,gltfBuildUnlitMaterial:()=>$h,gltfGeometry:()=>oc,isPowerOfTwo:()=>jl,isTypedArray:()=>z,joinPath:()=>f,loadCompressedTexture:()=>Ea,loadGLTF:()=>Gh,loadImage:()=>V,loadImageBlobTexture:()=>oa,lookAtObject:()=>Gr,makeClippingPlanes:()=>os,makeWorker:()=>Hn,makeWorkerService:()=>qt,memoize:()=>kt,meshAlphaMode:()=>eu,normalizePlane:()=>Nr,objectKey:()=>sd,objectLookAt:()=>hi,partial:()=>hr,pixelFormats:()=>Y,planeDistanceToPoint:()=>Nn,positionFromArray:()=>Ol,processGLTF:()=>xu,projectScreenSpace:()=>bd,quatFromEulerXYZ:()=>qf,quatFromEulerZYX:()=>J,rayIntersectTriangle:()=>Uf,registerWorker:()=>Gn,serveWorker:()=>eh,setFrustumPlanesFromMatrix:()=>wr,setGeometryBounds:()=>Jt,setVectorOption:()=>B,shaderOptionsKey:()=>Zc,textureMipLevels:()=>x,traverseSceneNodes:()=>dr,triangleNormal:()=>zu,vec3Equals:()=>vu,vec3Pool:()=>$,vertexCount:()=>sa});const h=w(38472),U=w(9556),F=w(65133);function k(l,s,u){if(l[0]=s[12],l[1]=s[13],l[2]=s[14],u){const d=u[0],S=u[1],H=u[2];l[0]+=s[0]*d+s[4]*S+s[8]*H-d,l[1]+=s[1]*d+s[5]*S+s[9]*H-S,l[2]+=s[2]*d+s[6]*S+s[10]*H-H}return l}function z(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function B(l,s){if(s)if((Array.isArray(s)||z(s))&&s.length>=3)(0,h.copy)(l,s);else{if(Array.isArray(s)||"object"!=typeof s)throw new Error("setVectorOption: unknown source format");{const{x:u,y:d,z:S}=s;(0,h.set)(l,u,d,S)}}return l}const A=w(17225);var T=C.n(A);class b{on;off;emit;destroy;constructor(){const{all:s,on:u,off:d,emit:S}=T()();this.on=u,this.off=d,this.emit=S,this.destroy=()=>s.clear()}}function J(l,s,u,d){s*=.5,d*=.5,u*=.5;const S=Math.sin(s),H=Math.cos(s),le=Math.sin(u),oe=Math.cos(u),we=Math.sin(d),xe=Math.cos(d);return l[0]=S*oe*xe-H*le*we,l[1]=H*le*xe+S*oe*we,l[2]=H*oe*we-S*le*xe,l[3]=H*oe*xe+S*le*we,l}const ce=1e-6,W=170141185e30,se=(l,s=0,u=1)=>Math.max(s,Math.min(u,l));function Q(l,s){const u=s[0],d=s[1],S=s[2],H=s[4],le=s[5],oe=s[6],we=s[8],xe=s[9],Be=s[10];let Le=u,qe=d,pt=S,mt=H,Ot=le,At=oe,Nt=Be;const mn=u*u+d*d+S*S,on=H*H+le*le+oe*oe;if(Math.abs(mn-1)>ce){const gn=Math.sqrt(mn);Le/=gn,mt/=gn}if(Math.abs(on-1)>ce){const gn=Math.sqrt(on);qe/=gn,Ot/=gn}const _n=we*we+xe*xe+Be*Be;if(Math.abs(_n-1)>ce){const gn=Math.sqrt(_n);pt/=gn,At/=gn,Nt/=gn}return l[1]=Math.asin(-se(pt,-1,1)),Math.abs(pt)<.9999999?(l[0]=Math.atan2(At,Nt),l[2]=Math.atan2(qe,Le)):(l[0]=0,l[2]=Math.atan2(-mt,Ot)),l}class Ie{constructor(s,u){const{deleteProperty:d,set:S,get:H,...le}=u,oe={...le};return H&&(oe.get=(we,xe,Be)=>{if(!/^\d+$/.test(xe))return Reflect.get(we,xe,Be);const Le=parseInt(xe,10);return H(we,Le,Be)}),S&&(oe.set=(we,xe,Be,Le)=>{if("length"===xe){for(let pt=we.length-1;pt>=Be;pt--)void 0!==we[pt]&&Le.pop();return we.length=Be,!0}const qe="string"==typeof xe&&/^\d+$/.test(xe)?parseInt(xe,10):Be;return"number"==typeof qe&&qe>=0?S(we,qe,Be,Le):(we[xe]=Be,!0)}),d&&(oe.deleteProperty=(we,xe)=>{const Be="string"==typeof xe&&/^\d+$/.test(xe)&&parseInt(xe,10);return"number"==typeof Be?d(we,Be):(Reflect.deleteProperty(we,xe),!0)}),new Proxy(s,oe)}}const ae=class extends Ie{#e=new b;constructor(l){const s=l?[...l]:[];super(s,{set:(d,S,H)=>{if(H===s[S])return!0;const le=s[S];return s[S]=H,this.#e.emit("change",{index:S,value:H,previous:le}),void 0===le&&this.#e.emit("add",{index:S,value:H}),!0},deleteProperty:(d,S)=>{if(S>=s.length)return!0;const H=s[S];return s[S]=void 0,this.#e.emit("change",{index:S,value:void 0,previous:H}),this.#e.emit("delete",{index:S,previous:H}),!0}});const u=this.#e;Object.defineProperties(this,{on:{value:u.on,enumerable:!1},off:{value:u.off,enumerable:!1},emit:{value:u.emit,enumerable:!1},destroy:{value:u.destroy,enumerable:!1}})}};class Me extends b{name;parent;children;position;origin;scale;quaternion;rotation;matrix;worldMatrix;rotationSource;dirty;matrixDirty;worldMatrixDirty;constraints;updateWorldMatrix;dirtyMatrix;dirtyWorldMatrix;updateMatrix;setMatrix;setWorldMatrix;constructor(s={}){super();const{arrays:u,name:d}=s;let S=null;if(this.name=d||"",this.children=new Set,this.position=u?.position||(0,h.create)(),B(this.position,s?.position||[0,0,0]),this.origin=u?.origin||(0,h.create)(),B(this.origin,s?.origin||[0,0,0]),this.scale=u?.scale||(0,h.create)(),B(this.scale,s?.scale||[1,1,1]),this.quaternion=u?.quaternion||(0,U.create)(),s?.quaternion)if(4===s.quaternion.length)(0,U.copy)(this.quaternion,s.quaternion);else if("object"==typeof s.quaternion){const{x:Be,y:Le,z:qe,w:pt}=s.quaternion;(0,U.set)(this.quaternion,Be,Le,qe,pt)}this.rotation=u?.rotation||(0,h.create)(),B(this.rotation,s?.rotation||[0,0,0]),this.matrix=u?.matrix||(0,F.create)(),this.worldMatrix=u?.worldMatrix||(0,F.create)(),this.constraints=new ae(s?.constraints),this.constraints.on("change",()=>{this.emit("change",{node:this,property:"constraints"})});let H=!0,le=!0,oe="euler"===s.rotationSource||"quaternion"===s.rotationSource?s.rotationSource:s.rotation&&!s.quaternion?"euler":"quaternion",we="euler"===oe;this.dirtyMatrix=()=>{H=!0,this.dirtyWorldMatrix()},this.dirtyWorldMatrix=()=>{if(!le){le=!0;for(const Be of this.children)Be.dirtyWorldMatrix();this.emit("dirty",{node:this})}},this.updateMatrix=()=>{if(H){const Be=this.matrix,{position:Le,origin:qe,quaternion:pt,rotation:mt,scale:Ot}=this;if(we){const[At,Nt,mn]=mt;J(pt,At,Nt,mn)}(0,F.fromRotationTranslationScaleOrigin)(Be,pt,Le,Ot,qe),we||Q(mt,Be),H=!1,this.emit("updateMatrix",{node:this})}},this.updateWorldMatrix=Be=>{this.updateMatrix(),le&&(this.parent?(this.parent.updateWorldMatrix(),(0,F.multiply)(this.worldMatrix,this.parent.worldMatrix,this.matrix)):(0,F.copy)(this.worldMatrix,this.matrix),Be&&Be(),le=!1,this.emit("updateWorldMatrix",{node:this}))},this.setMatrix=Be=>{Be!==this.matrix&&(0,F.copy)(this.matrix,Be),k(this.position,this.matrix,this.origin),(0,F.getRotation)(this.quaternion,this.matrix),Q(this.rotation,this.matrix),(0,F.getScaling)(this.scale,this.matrix),H=!1,this.dirtyWorldMatrix()},this.setWorldMatrix=Be=>{if(Be!==this.worldMatrix&&(0,F.copy)(this.worldMatrix,Be),this.parent){this.parent.updateWorldMatrix();const Le=this.matrix;(0,F.invert)(Le,this.parent.worldMatrix),(0,F.multiply)(this.matrix,Le,this.worldMatrix)}else(0,F.copy)(this.matrix,this.worldMatrix);this.setMatrix(this.matrix)};const xe=this.destroy;this.destroy=()=>{this.parent=null,this.children.forEach(Be=>this.remove(Be)),this.emit("destroy",{node:this}),xe()},Object.defineProperties(this,{rotationSource:{get:()=>oe,set(Be){Be!==oe&&(oe=Be,we="euler"===oe,this.dirtyMatrix())}},dirty:{get:()=>H||le},matrixDirty:{get:()=>H},worldMatrixDirty:{get:()=>le},parent:{get:()=>S,set:(Be=null)=>{if(S===Be)return;let Le=null;S&&(S.children.delete(this),Le=S),Be&&Be.children.add(this),S=Be,Le&&Le.emit("remove",{node:Le,child:this}),Be&&Be.emit("add",{node:Be,child:this}),this.emit("parent",{node:this,parent:Be}),this.dirtyWorldMatrix()}}})}add(s){s&&!this.children.has(s)&&(s.parent=this)}remove(s){s&&this.children.has(s)&&(s.parent=null)}}class q{activeCount;size;get;release;constructor(s,u,d=100){const S=[];let H=0;Object.defineProperties(this,{activeCount:{get:()=>H},size:{get:()=>S.length}}),this.get=()=>(H++,S.length?S.pop():s()),this.release=le=>{if(H<=0)throw new Error("Pool: too many objects released.");H--,S.length<d&&(u&&u(le),S.push(le))}}}const $=new q(()=>(0,h.create)(),l=>(0,h.set)(l,0,0,0)),ge=.01,K=.001,Ne=!1,Ve=40,Ge=300,gt=[0,.8,1],_t=!0,zt="granTurismo",Rn=24*ge,Oe=new Float32Array([0,1,0]),De=(0,F.create)();class He{minDistance;maxDistance;zoom;dollyScale;camera;position;target;up;center;distance;orbit;dolly;pan;setPosition;setTarget;setUp;setCamera;constructor(s,u){const d=(0,h.create)(),S=(0,h.create)(),H=(0,h.create)(),le=s.up;let oe=u?.distance??80*ge,we=u?.minDistance??.01*ge,xe=u?.maxDistance??150*ge;function Be(Le){s.parent?(s.updateWorldMatrix(),s.worldMatrix[12]=Le[0],s.worldMatrix[13]=Le[1],s.worldMatrix[14]=Le[2],s.setWorldMatrix(s.worldMatrix)):((0,h.copy)(s.position,Le),s.dirtyMatrix())}this.dollyScale=u?.dollyScale??Rn,s.updateWorldMatrix(),u?.position?(B(d,u.position),Be(d)):(0,F.getTranslation)(d,s.worldMatrix),u?.target?(B(S,u.target),s.lookAt(S),oe=(0,h.distance)(d,S)):((0,h.transformMat4)(S,[0,0,-1],s.worldMatrix),(0,h.normalize)(S,S),(0,h.scale)(S,S,oe)),u?.up&&(B(le,u.up),(0,h.normalize)(le,le)),B(H,u?.center||S),this.orbit=(Le=0,qe=0)=>{if(!Le&&!qe)return;const pt=$.get(),mt=$.get(),Ot=$.get(),At=$.get();if((0,h.subtract)(pt,d,H),(0,h.subtract)(mt,S,H),(0,h.subtract)(Ot,mt,pt),(0,h.normalize)(Ot,Ot),(0,h.cross)(At,le,Ot),qe){const Nt=Math.sign(le[1])||1;(0,F.fromRotation)(De,Nt*qe,Oe)}else(0,F.identity)(De);Le&&(0,F.rotate)(De,De,Le,At),(0,h.transformMat4)(pt,pt,De),(0,h.transformMat4)(mt,mt,De),(0,h.transformMat4)(le,le,De),(0,h.normalize)(le,le),(0,h.add)(d,pt,H),(0,h.add)(S,mt,H),Be(d),s.lookAt(S),$.release(pt),$.release(mt),$.release(Ot),$.release(At)},this.pan=(Le,qe,pt=0)=>{if(!Le&&!qe&&!pt)return;const mt=$.get(),Ot=$.get(),At=$.get();(0,h.set)(mt,0,0,0),(Le||pt)&&(0,h.subtract)(Ot,d,S),Le&&((0,h.cross)(At,Ot,le),(0,h.normalize)(At,At),(0,h.scale)(mt,At,Le)),qe&&(0,h.scaleAndAdd)(mt,mt,le,qe),pt&&((0,h.normalize)(Ot,Ot),(0,h.scaleAndAdd)(mt,mt,Ot,-pt)),(0,h.add)(d,d,mt),(0,h.add)(S,S,mt),Be(d),s.lookAt(S),$.release(mt),$.release(Ot),$.release(At)},this.dolly=(Le=0)=>{Le&&(this.distance=we&&xe?Math.abs(oe+Le*oe*this.dollyScale/xe):Math.abs(oe+Le))},this.setPosition=(Le,qe,pt)=>{"number"==typeof Le?(0,h.set)(d,Le,qe,pt):(0,h.copy)(d,Le),oe=(0,h.distance)(d,S),Be(d),(oe<we||oe>xe)&&(this.distance=oe),s.lookAt(S)},this.setTarget=(Le,qe,pt)=>{"number"==typeof Le?(0,h.set)(S,Le,qe,pt):(0,h.copy)(S,Le),oe=(0,h.distance)(d,S),(oe<we||oe>xe)&&(this.distance=oe),s.lookAt(S)},this.setCamera=(Le,qe,pt)=>{(0,h.copy)(d,Le),(0,h.copy)(S,qe),pt&&(0,h.copy)(le,pt),oe=(0,h.distance)(d,S),Be(d),(oe<we||oe>xe)&&(this.distance=oe),s.lookAt(S)},this.setUp=(Le,qe,pt)=>{"number"==typeof Le?(0,h.set)(le,Le,qe,pt):(0,h.copy)(le,Le),s.lookAt(S)},Object.defineProperties(this,{camera:{writable:!1,value:s},position:{writable:!1,value:d},target:{writable:!1,value:S},center:{writable:!1,value:H},up:{writable:!1,value:le},distance:{get:()=>oe,set:Le=>{if((Le=se(Le,we,xe))!==oe){oe=Le;const qe=$.get();(0,h.subtract)(qe,d,S),(0,h.normalize)(qe,qe),(0,h.scaleAndAdd)(d,S,qe,oe),$.release(qe),Be(d)}}},zoom:{get:()=>1-(oe-we)/(xe-we),set:Le=>{this.distance=we+(1-Le)*(xe-we)}},minDistance:{get:()=>we,set:Le=>{we=Le,this.distance=oe}},maxDistance:{get:()=>xe,set:Le=>{xe=Le,this.distance=oe}}})}}let We=((l={}).Nearest="nearest",l.Linear="linear",l),st=function(l){return l.ClampToEdge="clamp-to-edge",l.Repeat="repeat",l.MirrorRepeat="mirror-repeat",l}({});var l;class ft extends b{width;height;min;mag;mipmapFilter;wrapU;wrapV;rowOrder;anisotropy;name;constructor(s){super(),this.min=s?.min||s?.minMag||We.Linear,this.mag=s?.mag||s?.minMag||We.Linear,this.mipmapFilter=s?.mipmapFilter||We.Nearest,this.wrapU=s?.wrapU||s?.wrap||st.Repeat,this.wrapV=s?.wrapV||s?.wrap||st.Repeat,this.rowOrder=s?.rowOrder||"bottom-up",this.anisotropy=s?.anisotropy||1,this.name=s?.name||"";const u=this.destroy;return this.destroy=()=>{this.emit("destroy",{texture:this}),u()},new Proxy(this,{set:(d,S,H)=>(d[S]!==H&&(d[S]=H,d.emit("change",{texture:d,property:S})),!0)})}}class wt{size;has;get;set;delete;clear;forEach;[Symbol.iterator];constructor(s){const u={value:void 0,map:null};let d=0;function S(oe){let we=u;for(let xe=0;xe<oe.length;xe++){const Be=we.map?.get(oe[xe]);if(!Be)return null;we=Be}return we}function H(oe,we){if(!we.length){const qe=void 0!==oe.value;return qe&&(oe.value=void 0,d--),qe}const[xe,...Be]=we,Le=oe.map?.get(xe);if(Le){const qe=H(Le,Be);return void 0!==Le.value||Le.map?.size||oe.map.delete(xe),oe.map.size||(oe.map=null),qe}return!1}function le(oe,we,xe,Be=[]){void 0!==oe.value&&we.call(xe,oe.value,...Be),oe.map?.forEach((Le,qe)=>{le(Le,we,xe,[...Be,qe])},xe)}this.has=(...oe)=>{const we=S(oe);return null!==we&&void 0!==we.value},this.get=(...oe)=>{const we=S(oe);return null===we?void 0:we.value},this.set=(...oe)=>{const we=oe.pop();let xe=u;for(let Be=0;Be<oe.length;Be++){const Le=oe[Be];let qe;xe.map?qe=xe.map.get(Le):xe.map=new Map,qe||(qe={value:void 0,map:null},xe.map.set(Le,qe)),xe=qe}return void 0===xe.value&&d++,xe.value=we,this},this.delete=(...oe)=>H(u,oe),this.clear=()=>(u.map=null,d=0,this),this.forEach=(oe,we=this)=>le(u,oe,we),this[Symbol.iterator]=()=>{const oe=[];return le(u,(we,...xe)=>oe.push([xe,we]),this),oe[Symbol.iterator]()},Object.defineProperty(this,"size",{get:()=>d}),s&&s.forEach(oe=>this.set(...oe))}}function kt(l){const s=new wt;return(...u)=>{let d=s.get(...u);return d||(d=l(...u),s.set(...u,d)),d}}const je=kt(function(l,s){const u=l-1,d=s-1;return function(S,H){return Math.floor((S+u)/l)*Math.floor((H+d)/s)*16}});function Ce(l,s){return Math.floor((l+3)/4)*Math.floor((s+3)/4)*8}function ne(l,s){return Math.floor((l+3)/4)*Math.floor((s+3)/4)*16}function Re(l,s){return(l=Math.max(l,16))*(s=Math.max(s,8))/4}function te(l,s){return(l=Math.max(l,8))*(s=Math.max(s,8))/2}function y(l,s){return Math.ceil(l/4)*Math.ceil(s/4)*8}function M(l,s){return Math.ceil(l/4)*Math.ceil(s/4)*16}const Y={r8unorm:{channels:1,compressed:!1,bits:8},r8snorm:{channels:1,compressed:!1,bits:8},r8uint:{channels:1,compressed:!1,bits:8},r8sint:{channels:1,compressed:!1,bits:8},r16uint:{channels:1,compressed:!1,bits:16},r16sint:{channels:1,compressed:!1,bits:16},r16float:{channels:1,compressed:!1,bits:16},rg8unorm:{channels:2,compressed:!1,bits:16},rg8snorm:{channels:2,compressed:!1,bits:16},rg8uint:{channels:2,compressed:!1,bits:16},rg8sint:{channels:2,compressed:!1,bits:16},r32uint:{channels:1,compressed:!1,bits:32},r32sint:{channels:1,compressed:!1,bits:32},r32float:{channels:1,compressed:!1,bits:32},rg16uint:{channels:2,compressed:!1,bits:32},rg16sint:{channels:2,compressed:!1,bits:32},rg16float:{channels:2,compressed:!1,bits:32},rgba8unorm:{channels:4,compressed:!1,bits:32},"rgba8unorm-srgb":{channels:4,compressed:!1,bits:32},rgba8snorm:{channels:4,compressed:!1,bits:32},rgba8uint:{channels:4,compressed:!1,bits:32},rgba8sint:{channels:4,compressed:!1,bits:32},bgra8unorm:{channels:4,compressed:!1,bits:32},"bgra8unorm-srgb":{channels:4,compressed:!1,bits:32},rgb9e5ufloat:{channels:3,compressed:!1,bits:32},rgb10a2uint:{channels:3,compressed:!1,bits:32},rgb10a2unorm:{channels:3,compressed:!1,bits:32},rg11b10ufloat:{channels:4,compressed:!1,bits:32},rg32uint:{channels:2,compressed:!1,bits:64},rg32sint:{channels:2,compressed:!1,bits:64},rg32float:{channels:2,compressed:!1,bits:64},rgba16uint:{channels:4,compressed:!1,bits:64},rgba16sint:{channels:4,compressed:!1,bits:64},rgba16float:{channels:4,compressed:!1,bits:64},rgba32uint:{channels:4,compressed:!1,bits:128},rgba32sint:{channels:4,compressed:!1,bits:128},rgba32float:{channels:4,compressed:!1,bits:128},stencil8:{channels:1,compressed:!1,bits:8},depth16unorm:{channels:1,compressed:!1,bits:8},depth24plus:{channels:1,compressed:!1,bits:24},"depth24plus-stencil8":{channels:2,compressed:!1,bits:32},depth32float:{channels:1,compressed:!1,bits:32},"depth32float-stencil8":{channels:2,compressed:!1,bits:40},"bc1-rgba-unorm":{channels:4,compressed:!0,size:Ce},"bc1-rgba-unorm-srgb":{channels:4,compressed:!0,size:Ce},"bc2-rgba-unorm":{channels:4,compressed:!0,size:ne},"bc2-rgba-unorm-srgb":{channels:4,compressed:!0,size:ne},"bc3-rgba-unorm":{channels:4,compressed:!0,size:ne},"bc3-rgba-unorm-srgb":{channels:4,compressed:!0,size:ne},"bc4-r-unorm":{channels:1,compressed:!0,size:y},"bc4-r-snorm":{channels:1,compressed:!0,size:y},"bc5-rg-unorm":{channels:2,compressed:!0,size:M},"bc5-rg-snorm":{channels:2,compressed:!0,size:M},"bc6h-rgb-ufloat":{channels:3,compressed:!0,size:M},"bc6h-rgb-float":{channels:3,compressed:!0,size:M},"bc7-rgba-unorm":{channels:4,compressed:!0,size:M},"bc7-rgba-unorm-srgb":{channels:4,compressed:!0,size:M},"etc2-rgb8unorm":{channels:3,compressed:!0,size:Ce},"etc2-rgb8unorm-srgb":{channels:3,compressed:!0,size:Ce},"etc2-rgb8a1unorm":{channels:4,compressed:!0,size:Ce},"etc2-rgb8a1unorm-srgb":{channels:4,compressed:!0,size:Ce},"etc2-rgba8unorm":{channels:4,compressed:!0,size:ne},"etc2-rgba8unorm-srgb":{channels:4,compressed:!0,size:ne},"eac-r11unorm":{channels:1,compressed:!0,size:Ce},"eac-r11snorm":{channels:1,compressed:!0,size:Ce},"eac-rg11unorm":{channels:2,compressed:!0,size:ne},"eac-rg11snorm":{channels:2,compressed:!0,size:ne},"astc-4x4-unorm":{channels:4,compressed:!0,size:je(4,4)},"astc-4x4-unorm-srgb":{channels:4,compressed:!0,size:je(4,4)},"astc-5x4-unorm":{channels:4,compressed:!0,size:je(5,4)},"astc-5x4-unorm-srgb":{channels:4,compressed:!0,size:je(5,4)},"astc-5x5-unorm":{channels:4,compressed:!0,size:je(5,5)},"astc-5x5-unorm-srgb":{channels:4,compressed:!0,size:je(5,5)},"astc-6x5-unorm":{channels:4,compressed:!0,size:je(6,5)},"astc-6x5-unorm-srgb":{channels:4,compressed:!0,size:je(6,5)},"astc-6x6-unorm":{channels:4,compressed:!0,size:je(6,6)},"astc-6x6-unorm-srgb":{channels:4,compressed:!0,size:je(6,6)},"astc-8x5-unorm":{channels:4,compressed:!0,size:je(8,5)},"astc-8x5-unorm-srgb":{channels:4,compressed:!0,size:je(8,5)},"astc-8x6-unorm":{channels:4,compressed:!0,size:je(8,6)},"astc-8x6-unorm-srgb":{channels:4,compressed:!0,size:je(8,6)},"astc-8x8-unorm":{channels:4,compressed:!0,size:je(8,8)},"astc-8x8-unorm-srgb":{channels:4,compressed:!0,size:je(8,8)},"astc-10x5-unorm":{channels:4,compressed:!0,size:je(10,5)},"astc-10x5-unorm-srgb":{channels:4,compressed:!0,size:je(10,5)},"astc-10x6-unorm":{channels:4,compressed:!0,size:je(10,6)},"astc-10x6-unorm-srgb":{channels:4,compressed:!0,size:je(10,6)},"astc-10x8-unorm":{channels:4,compressed:!0,size:je(10,8)},"astc-10x8-unorm-srgb":{channels:4,compressed:!0,size:je(10,8)},"astc-10x10-unorm":{channels:4,compressed:!0,size:je(10,10)},"astc-10x10-unorm-srgb":{channels:4,compressed:!0,size:je(10,10)},"astc-12x10-unorm":{channels:4,compressed:!0,size:je(12,10)},"astc-12x10-unorm-srgb":{channels:4,compressed:!0,size:je(12,10)},"astc-12x12-unorm":{channels:4,compressed:!0,size:je(12,12)},"astc-12x12-unorm-srgb":{channels:4,compressed:!0,size:je(12,12)},"astc-4x4-hdr":{channels:4,compressed:!0,size:je(4,4)},"astc-5x4-hdr":{channels:4,compressed:!0,size:je(5,4)},"astc-5x5-hdr":{channels:4,compressed:!0,size:je(5,5)},"astc-6x5-hdr":{channels:4,compressed:!0,size:je(6,5)},"astc-6x6-hdr":{channels:4,compressed:!0,size:je(6,6)},"astc-8x5-hdr":{channels:4,compressed:!0,size:je(8,5)},"astc-8x6-hdr":{channels:4,compressed:!0,size:je(8,6)},"astc-8x8-hdr":{channels:4,compressed:!0,size:je(8,8)},"astc-10x5-hdr":{channels:4,compressed:!0,size:je(10,5)},"astc-10x6-hdr":{channels:4,compressed:!0,size:je(10,6)},"astc-10x8-hdr":{channels:4,compressed:!0,size:je(10,8)},"astc-10x10-hdr":{channels:4,compressed:!0,size:je(10,10)},"astc-12x10-hdr":{channels:4,compressed:!0,size:je(12,10)},"astc-12x12-hdr":{channels:4,compressed:!0,size:je(12,12)},"pvrtc-rgb4unorm":{channels:3,compressed:!0,size:te},"pvrtc-rgb2unorm":{channels:3,compressed:!0,size:Re},"pvrtc-rgba4unorm":{channels:4,compressed:!0,size:te},"pvrtc-rgba2unorm":{channels:4,compressed:!0,size:Re}},G=new Map([[Uint8Array,"rgba8unorm"],[Uint8ClampedArray,"rgba8unorm"],[Uint16Array,"rgba16uint"],[Uint32Array,"rgba32uint"],[Int8Array,"rgba8sint"],[Int16Array,"rgba16sint"],[Int32Array,"rgba32sint"],[Float32Array,"rgba32float"]]);class _e extends b{source;data;levels;format;sizeDynamic;dynamic;width;height;valid;update;constructor(s,u){super();let d=0,S=0,H=null,le=null,oe=!1,we=!1,xe=!1,Be=!0;const Le=u?.format||G.get(s.constructor)||"rgba8unorm";if(typeof ImageData<"u"&&s instanceof ImageData)d=s.width,S=s.height,H=s.data,oe=!0,xe=!0;else if(typeof ImageBitmap<"u"&&s instanceof ImageBitmap)d=s.width,S=s.height;else if(typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(d=s.naturalWidth,S=s.naturalHeight,!s.naturalWidth){we=!0,oe=!0,Be=!1;const pt=()=>{d=s.naturalWidth,S=s.naturalHeight,we=!1,oe=!1,s.removeEventListener("load",pt),Be=!0,this.emit("resize",{source:this}),this.emit("update",{source:this})};s.addEventListener("load",pt),this.on("destroy",()=>{s.removeEventListener("load",pt)})}}else if(typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement){d=s.width,S=s.height,we=!0,oe=!0,xe=!0;const pt=new MutationObserver(()=>{d=s.width,S=s.height,this.emit("resize",{source:this}),this.update()});pt.observe(s,{subtree:!1,childList:!1,attributes:!0,attributeFilter:["width","height"]}),this.on("destroy",()=>{pt.disconnect()})}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement){if(d=s.videoWidth,S=s.videoHeight,we=!1,oe=!0,xe=!0,s.readyState<s.HAVE_METADATA){we=!0;const pt=()=>{d=s.videoWidth,S=s.videoHeight,we=!1,Be=!0,s.removeEventListener("loadedmetadata",pt),this.emit("resize",{source:this}),this.update()};s.addEventListener("loadedmetadata",pt),this.on("destroy",()=>{s.removeEventListener("loadedmetadata",pt)})}}else if(Array.isArray(s)&&s.length&&s[0].src)le=s.slice().sort((pt,mt)=>pt.level-mt.level),d=le[0].width,S=le[0].height,H=le[0].src;else{if(!z(s))throw new Error("Texture: unknown texture source format");{oe=!0,xe=!0,d=u?.width||0,S=u?.height||0;const pt=Y[Le];if(!0===pt.compressed){if(pt.size(d,S)!==s.byteLength)throw new Error("Texture: height and width do not match array size.")}else{const mt=pt.bits/8;if(!(d>0&&S>0)){const At=Math.sqrt(s.byteLength/mt);At===Math.floor(At)&&(d=S=At)}if(!(d>0&&S>0))throw new Error("Texture: typed array texture requires width and height options or square image.");const Ot=d*S;if(s.length%Ot!=0||s.byteLength/Ot>mt)throw new Error("Texture: height and width do not match array size.")}H=s}}Object.defineProperties(this,{source:{value:s,writable:!1},data:{value:H,writable:!1},levels:{value:le,writable:!1},format:{value:Le,writable:!1}}),Object.defineProperties(this,we?{width:{get:()=>d},height:{get:()=>S},sizeDynamic:{get:()=>we},valid:{get:()=>Be}}:{width:{value:d,writable:!1},height:{value:S,writable:!1},sizeDynamic:{value:we,writable:!1},valid:{value:Be,writable:!1}}),this.update=xe?()=>this.emit("update",{source:this}):()=>{};const qe=this.destroy;this.destroy=()=>{this.emit("destroy"),qe()},Object.defineProperties(this,oe?{dynamic:{get:()=>oe}}:{dynamic:{value:oe,writable:!1}})}}class Z extends ft{sources;levels;format;constructor(s,u){if(6!==s?.length)throw new Error("CubeTexture must have exactly 6 images");const d=s.map(Be=>new _e(Be,u)),S=d[0],H=S.format;let le=!1;const oe=()=>{const{width:Be,height:Le,valid:qe}=S;if(!qe||!Be||!Le)return!1;if(Be!==Le)throw new Error("CubeTexture sources must be square.");for(let pt=1;pt<d.length;pt++){const mt=d[pt];if(!mt.valid||mt.width!==Be||mt.height!==Le)return!1}return!0};for(let Be=1;Be<d.length;Be++)if(d[Be].format!==S.format)throw new Error("CubeTexture must have the same format for all sources");le=oe(),super({mipmapFilter:We.Linear,wrap:st.ClampToEdge,...u}),s=s.slice(),Object.freeze(s),d.forEach(Be=>{Be.on("resize",()=>{le=oe(),this.emit("resize")}),Be.on("update",()=>{le=oe(),this.emit("update")})});let we=d.map(Be=>Be.levels);we.some(Be=>!Be)&&(we=null);const xe=this.destroy;this.destroy=()=>{d.forEach(Be=>{Be.destroy()}),xe()},Object.defineProperties(this,{sources:{value:s,writable:!1},levels:{value:we,writable:!1},format:{value:H,writable:!1},width:{get:()=>S.width},height:{get:()=>S.height},valid:{get:()=>le},sizeDynamic:{get:()=>S.sizeDynamic},dynamic:{value:S.dynamic,writable:!1}})}}function f(l,...s){let u=l||"";return s.forEach(d=>{d&&(d.startsWith("/")&&(d=d.substring(1)),u.endsWith("/")?u+=d:u+="/"+d)}),u}function V(l){return new Promise((s,u)=>{const d=new Image;d.onload=()=>{d.onload=d.onerror=null,s(d)},d.onerror=()=>{d.onload=d.onerror=null,u(new Error("Error loading image"))},d.src=l})}function x(l,s){return Math.floor(Math.log2(Math.max(l,s)))+1}const ye=typeof createImageBitmap<"u";function Te(l,s,u,d){return ke.apply(this,arguments)}function ke(){return ke=r(function*(l,s,u,d){const S=/(.+)\.([^.]+)$/.exec(u);if(!S)throw new Error(`Invalid asset id: '${u}'`);const H=S[1],le=S[2],oe=yield l("reflections",H,"outline");if(!oe[le])return console.error(`Reflection not found: ${H}[${le}]`),null;const{src:we,intensity:xe,space:Be}=oe[le],Le=function(Nt,mn){const on=mn.split("/");return f(Nt,"content/states",on[0],"reflections",on[1]+"/")}(s,H),qe=[],pt=[],mt=yield Promise.all(we.map(function(){var Nt=r(function*(mn){if(mn=Le+mn,d?.loadImage){const Mn=yield d.loadImage(mn);if(Mn)return Mn}const on=yield d.fetch(mn,"environment"),_n=yield on.blob();if(ye){const Mn=yield createImageBitmap(_n);return qe.push(Mn),Mn}const gn=URL.createObjectURL(_n);try{const Mn=V(gn);return pt.push(gn),Mn}catch(Mn){throw URL.revokeObjectURL(gn),Mn}});return function(mn){return Nt.apply(this,arguments)}}())).catch(Nt=>(console.warn("Error loading environment asset: "+u,Nt),null));if(!mt)return null;const Ot=new Z(mt,{wrap:st.ClampToEdge,mag:We.Linear,min:We.Linear}),At=x(Ot.width,Ot.height);return qe.length?Ot.on("destroy",()=>{qe.forEach(Nt=>{Nt.close()})}):pt.length&&Ot.on("destroy",()=>{pt.forEach(Nt=>{URL.revokeObjectURL(Nt)})}),{space:Be,texture:Ot,intensity:xe,mipLevels:At}}),ke.apply(this,arguments)}let Ee=function(l){return l.points="points",l.lines="lines",l.lineLoop="line-loop",l.lineStrip="line-strip",l.triangles="triangles",l.triangleStrip="triangle-strip",l.triangleFan="triangle-fan",l}({});const nt=function(l,s,u,d){const S=l<256?Uint8Array:l<65536?Uint16Array:Uint32Array;return"number"==typeof s?new S(s):new S(s,u,d)};function at(){return{min:(0,h.fromValues)(1/0,1/0,1/0),max:(0,h.fromValues)(-1/0,-1/0,-1/0)}}function yt(l,s){(0,h.copy)(l.min,s.min),(0,h.copy)(l.max,s.max)}function Jt(l,s){const{min:u,max:d}=l;(0,h.set)(u,1/0,1/0,1/0),(0,h.set)(d,-1/0,-1/0,-1/0);for(let S=0;S<s.length;S++){const H=S%3,le=s[S];le<u[H]&&(u[H]=le),le>d[H]&&(d[H]=le)}}const Qe=/coord|texture|\buvs?\b/i,Ft=/colou?r/i;class Mt extends b{attributes;indices;topology;bounds;name;offset;count;constructor(s,u){super(),this.attributes=function it(l){const s={};return Object.keys(l).forEach(u=>{if("indices"===u)return;const d=l[u],S=z(d)?{data:d}:Array.isArray(d)?{data:new Float32Array(d)}:{...d},H=S.name||u;if(S.value){if(!Array.isArray(S.value)&&!z(S.value))throw new Error("array.value is not array or TypedArray");return void(s[H]={value:S.value})}const le=function(xe){if(z(xe.data))return xe.data;let Be=xe.type;return Be||(Be=Float32Array),new Be(xe.data)}(S),oe=S.numComponents||function(xe,Be){let Le=3;if(Qe.test(xe)?Le=2:Ft.test(xe)&&(Le=4),Be%Le>0)throw new Error(`Can not guess numComponents for attribute '${xe}'. Tried ${Le} but ${Be} values is not evenly divisible by ${Le}. You should specify it.`);return Le}(u,z(le)||Array.isArray(le)?le.length:0);var we;s[H]={data:le,numComponents:oe,normalize:S.normalize?S.normalize:(we=le,we instanceof Int8Array||we instanceof Uint8Array),stride:S.stride||0,offset:S.offset||0,decodeMat:S.decodeMat||null,drawType:S.drawType||35044},void 0!==S.divisor&&(s[H]=S.divisor)}),s}(s),this.indices=null,s.indices&&(this.indices=z(s.indices)?s.indices:this.attributes.position?nt(this.attributes.position.data.length/3,s.indices):new Uint32Array(s.indices)),this.bounds=at(),this.name="",u?yt(this.bounds,u):this.attributes.position&&Jt(this.bounds,this.attributes.position.data);let d=Ee.triangles,S=this.indices?this.indices.length:(this.attributes.position?.data?.length||0)/3,H=0;const le=this.destroy;this.destroy=()=>{le();for(const oe in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,oe)&&(this.attributes[oe]=null)},Object.defineProperties(this,{count:{get:()=>S,set:oe=>{S!==oe&&(S=oe,this.emit("change",{geometry:this,property:"count"}))}},offset:{get:()=>H,set:oe=>{H!==oe&&(H=oe,this.emit("change",{geometry:this,property:"offset"}))}},topology:{get:()=>d,set:oe=>{d!==oe&&(d=oe,this.emit("change",{geometry:this,property:"topology"}))}}})}}class lt extends Mt{morphKeys;constructor(s,u){super(s,u),this.morphKeys=[]}}const Bt=(0,h.create)();class ct extends Me{geometry;material;normalMatrix;castShadow;receiveShadow;reflected;renderable;worldBoundsDirty;worldBounds;dirtyWorldBounds;updateWorldBounds;constructor(s,u,d){const{castShadow:S=!0,receiveShadow:H=!0,...le}=d||{};super(le);let oe=1,we=!1,xe=!0,Be=S,Le=H,qe=!0;this.normalMatrix=(0,F.create)(),this.worldBounds=at();const pt=this.updateWorldMatrix;this.updateWorldMatrix=()=>pt(()=>{const{worldMatrix:Nt,normalMatrix:mn}=this;(0,F.invert)(mn,Nt),(0,F.transpose)(mn,mn),oe=(0,F.determinant)(Nt),we=oe<0,xe=!!(u&&s&&oe)}),this.dirtyWorldBounds=()=>{qe||(qe=!0,this.emit("dirty",{node:this}))},this.updateWorldBounds=()=>{if(this.updateWorldMatrix(),qe){let Nt=1/0,mn=1/0,on=1/0,_n=-1/0,gn=-1/0,Mn=-1/0;if(this.geometry){const{worldMatrix:Kn}=this,{bounds:ur}=this.geometry;for(let or=0;or<8;or++){Bt[0]=1&or?ur.min[0]:ur.max[0],Bt[1]=2&or?ur.min[1]:ur.max[1],Bt[2]=4&or?ur.min[2]:ur.max[2],(0,h.transformMat4)(Bt,Bt,Kn);const vr=Bt[0],oi=Bt[1],_i=Bt[2];vr<Nt&&(Nt=vr),oi<mn&&(mn=oi),_i<on&&(on=_i),vr>_n&&(_n=vr),oi>gn&&(gn=oi),_i>Mn&&(Mn=_i)}}(0,h.set)(this.worldBounds.min,Nt,mn,on),(0,h.set)(this.worldBounds.max,_n,gn,Mn),qe=!1,this.emit("updateWorldBounds",{node:this})}};const mt=Nt=>this.emit("change",{node:this,property:Nt}),Ot=Nt=>this.emit("change",{node:this,property:"material",detail:Nt?.property}),At=Nt=>{this.dirtyWorldBounds(),this.emit("change",{node:this,property:"geometry",detail:Nt?.property})};u&&u.on("change",Ot),s&&s.on("change",At),this.on("dirty",()=>{qe=!0}),Object.defineProperties(this,{dirty:{get:()=>qe||this.matrixDirty||this.worldMatrixDirty},worldBoundsDirty:{get:()=>qe},reflected:{get:()=>we},renderable:{get:()=>xe},material:{get:()=>u,set:Nt=>{Nt||(Nt=null),Nt!==u&&(u&&u.off("change",Ot),(u=Nt)&&u.on("change",Ot),xe=!!(u&&s&&oe),Ot())}},geometry:{get:()=>s,set:Nt=>{Nt||(Nt=null),Nt!==s&&(s&&s.off("change",At),(s=Nt)&&s.on("change",At),xe=!!(u&&s&&oe),At())}},castShadow:{get:()=>Be,set:Nt=>{(Nt=!!Nt)!==Be&&(Be=Nt,mt("castShadow"))}},receiveShadow:{get:()=>Le,set:Nt=>{(Nt=!!Nt)!==Le&&(Le=Nt,mt("receiveShadow"))}}})}}const Tt=w(29685);var rt=C.n(Tt);function Et(l){if(!l)return l;const s=l.constructor;if(s===String||s===Number)return l;if(s===Object){const u={};for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&(u[d]=Et(l[d]));return u}if(Array.isArray(l))return l.map(Et);if(l instanceof Set){const u=new Set;return l.forEach(d=>u.add(Et(d))),u}if(l instanceof Map){const u=new Map;return l.forEach((d,S)=>u.set(S,Et(d))),u}return z(l)?new globalThis[l.constructor.name](l):rt()(l)}function vn(l){if(!l||"object"!=typeof l)return l;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&vn(l[s]);return Object.freeze(l)}class In extends b{clear;delete;forEach;get;has;set;size;entries;keys;values;[Symbol.iterator];[Symbol.toStringTag];constructor(s,u){super();const d=new Map,S=!!(u?.clone??1),H=S&&!!(u?.freeze??S);this.forEach=(oe,we)=>(d.forEach((xe,Be)=>oe.call(we,xe,Be,this)),this),this.get=oe=>d.get(oe),this.has=oe=>d.has(oe),this.entries=()=>d.entries(),this.keys=()=>d.keys(),this.values=()=>d.values(),this[Symbol.iterator]=()=>d[Symbol.iterator](),this[Symbol.toStringTag]=d[Symbol.toStringTag],this.clear=()=>{const oe=Array.from(d.keys());d.clear();for(const we of oe)this.emit("change",we),this.emit("delete",we);return this},this.delete=oe=>!!d.has(oe)&&(d.delete(oe),this.emit("change",oe),this.emit("delete",oe),!0),this.set=(oe,we)=>{if(we===d.get(oe))return this;S&&(we=Et(we)),H&&vn(we);const xe=d.has(oe);return d.set(oe,we),xe||this.emit("add",oe),this.emit("change",oe),this};const le=this.destroy;if(this.destroy=()=>{this.clear(),le()},Object.defineProperties(this,{size:{get:()=>d.size}}),s)for(const[oe,we]of s)this.set(oe,we)}}class Un extends ct{layer;renderOrder;clippable;modifiers;morphKeyIndex;morphFactor;depthMask;visible;constructor(s,u,d){const{layer:S,visible:H,depthMask:le,renderOrder:oe,clippable:we,...xe}=d||{};super(s,u,{rotationSource:"euler",...xe});let Be=H??!0,Le=S||0,qe=we??!0,pt=oe||0,mt=le??!0,Ot=-1,At=0,Nt=new In(void 0,{clone:!1});const mn=new Set,on=()=>{this.emit("change",{node:this,property:"modifier",detail:"value"})},_n=()=>{const Kn=new Set(mn);mn.clear(),Nt.forEach(ur=>{"range"in ur&&ur.parent&&mn.add(ur.parent)}),Kn.forEach(ur=>{mn.has(ur)||ur.off("dirty",on)}),mn.forEach(ur=>{Kn.has(ur)||ur.on("dirty",on)}),on()};Nt.on("change",_n);const gn=()=>{this.emit("change",{node:this,property:"modifier"})};Nt.on("add",gn),Nt.on("delete",gn);const Mn=this.destroy;this.destroy=()=>{Nt&&Nt.off("change",_n),Mn()},Object.defineProperties(this,{visible:{get:()=>Be,set:Kn=>{Be!==Kn&&(Be=Kn,this.emit("change",{node:this,property:"visible"}))}},layer:{get:()=>Le,set:Kn=>{Le!==Kn&&(Le=Kn,this.emit("change",{node:this,property:"layer"}))}},clippable:{get:()=>qe,set:Kn=>{qe!==Kn&&(qe=Kn,this.emit("change",{node:this,property:"clippable"}))}},depthMask:{get:()=>mt,set:Kn=>{mt!==Kn&&(mt=Kn,this.emit("change",{node:this,property:"depthMask"}))}},morphKeyIndex:{get:()=>Ot,set:Kn=>{Ot!==Kn&&(Ot=Kn,this.emit("change",{node:this,property:"morphKeyIndex"}))}},morphFactor:{get:()=>At,set:Kn=>{At!==Kn&&(At=Kn,this.emit("change",{node:this,property:"morphFactor"}))}},modifiers:{get:()=>Nt,set:Kn=>{const ur=Nt?.size||0;Nt!==Kn&&(Nt&&(Nt.off("change",_n),Nt.off("add",gn),Nt.off("delete",gn)),Nt=Kn,Nt&&(Nt.on("change",_n),Nt.on("add",gn),Nt.on("delete",gn)),(Nt?.size||ur)&&gn())}},renderOrder:{get:()=>pt,set:Kn=>{pt!==Kn&&(pt=Kn,this.emit("change",{node:this,property:"renderOrder"}))}}})}}class Jn extends Un{playBackRate;emissionAverage;emissionVariance;pointSize;perspectivePoints;roundPoints;pointUVScale;id;name;loaded;subSystemIds}class Cr extends b{transparent;opacity;type;name;blendMode;constructor(s){const{transparent:u=!1,opacity:d=1,type:S="",name:H=""}=s||{};super();let le=u,oe=d,we=S,xe=s?.blendMode||"normal";this.name=H;const Be=this.destroy;this.destroy=()=>{this.emit("destroy",{material:this}),Be()},Object.defineProperties(this,{transparent:{get:()=>le,set:Le=>{Le!==le&&(le=Le,this.emit("change",{material:this,property:"transparent"}))}},opacity:{get:()=>oe,set:Le=>{Le!==oe&&(oe=Le,this.emit("change",{material:this,property:"opacity"}))}},blendMode:{get:()=>xe,set:Le=>{Le!==xe&&(xe=Le,this.emit("change",{material:this,property:"blendMode"}))}},type:{get:()=>we,set:Le=>{Le!==we&&(we=Le,this.emit("change",{material:this,property:"type"}))}}})}}function wn(l){return l?Et(l):null}function cn(l,s){const u=new Float32Array(s);if(l)for(let d=0;d<l.length;d++)u[d]=l[d];return u}class Yt extends Cr{baseColor;emitColor;metallic;roughness;specularf0;specularColor;shine;glassFactor;murkiness;textures;baseFresnel;emitFresnel;specularFresnel;transparencyFresnel;alphaFresnel;reflectionFresnel;reflectionMap;constructor(s){const{baseColor:u,emitColor:d,metallic:S,roughness:H,specularf0:le,specularColor:oe,shine:we,glassFactor:xe,murkiness:Be,textures:Le,baseFresnel:qe,emitFresnel:pt,specularFresnel:mt,transparencyFresnel:Ot,alphaFresnel:At,reflectionFresnel:Nt,reflectionMap:mn,...on}=s||{};var Mn;super(on),this.type=on.type||"phong",this.baseColor=cn(u,[1,1,1]),this.emitColor=cn(d,[1,1,1,0]),this.metallic=S??1,this.roughness=H??1,this.specularf0=le??.1,this.specularColor=cn(oe,[1,1,1]),this.shine=we??70,this.glassFactor=xe??0,this.murkiness=Be??1,this.textures=function(Mn){if(!Mn)return[];if(!Array.isArray(Mn))throw new Error("textures option must an array of texture layers.");const Kn=[];return Mn.forEach(ur=>{const{texture:or,applyTo:vr,blendMode:oi,blendFactor:_i=1}=ur;Kn.push({texture:or,applyTo:vr,blendMode:oi,blendFactor:_i})}),Kn}(Le),this.baseFresnel=wn(qe),this.emitFresnel=wn(pt),this.specularFresnel=wn(mt),this.transparencyFresnel=wn(Ot),this.alphaFresnel=wn(At),this.reflectionFresnel=wn(Nt),this.reflectionMap=(Mn=mn)?Object.assign({},Mn):null;const _n=()=>{this.emit("change",{material:this,property:"texture"})};this.textures.forEach(Mn=>{Mn.texture.on("change",_n),Mn.texture.on("resize",_n),Mn.texture.on("update",_n)});const gn=this.destroy;this.destroy=()=>{this.textures.forEach(Mn=>{Mn.texture.off("change",_n),Mn.texture.off("resize",_n),Mn.texture.off("update",_n)}),this.textures.length=0,gn()}}}const Qt=function(l){if(null==l)return;if("number"==typeof l)return[l,l,l];const{r:s,g:u,b:d,a:S}=l;return void 0===S?[s,u,d]:[s,u,d,S]},jn=/^([^/]+)\/([^/.]+)/;function Lt(l){const s=jn.exec(l);if(!s)throw new Error(`Unable to parse material id "${l}"`);const[,u,d]=s;return"content/states/"+u+"/materials/"+d+"/"}const Dn={metallic:new Set(["specular","shine"]),phong:new Set(["metallic","roughness"])},Pn=["alphaFresnel","reflectionFresnel","transparencyFresnel"],Sn=["baseFresnel","emitFresnel","specularFresnel"],Tn={blendMode:"multiply",power:1},dn={alphaFresnel:0,reflectionFresnel:1,transparencyFresnel:0,baseFresnel:1,specularFresnel:0,emitFresnel:0},Bn=new Set(["add","multiply"]),Ct=new Set(["add","multiply","forceAdd","over"]);function ue(){return ue=r(function*(l,s,u){const d=!!l.nodes?.some(At=>"flags"===At.type&&!0===At.flags.transparent),S=l.alpha??1,H=Qt(l.baseColor),le=l.emit||0,oe=l.emitColor?Qt({...l.emitColor,a:le}):[1,1,1,le],we=[],xe={transparent:d,opacity:S,name:l.id||s,baseColor:H,emitColor:oe,textures:we};l.nodes?.some(At=>"flags"===At.type&&!0===At.flags.addBlend)&&(xe.blendMode="add");const Be="workflow"in l?l.workflow:"phong";var At;"workflow"in l?"metallic"===l.workflow&&Object.assign(xe,function(At){const{metallic:Nt,roughness:mn,specularf0:on}=At,_n={type:"metallic",metallic:Nt,roughness:mn,specularf0:on};return"reflectionId"in At&&console.warn("Material reflection maps are not supported on metallic/PBR materials."),_n}(l)):Object.assign(xe,yield(At=r(function*(Nt,mn,on){const{shine:_n,glassFactor:gn=1,murkiness:Mn}=Nt,Kn={type:"phong",shine:_n,glassFactor:gn,murkiness:Mn,specularColor:Nt.specularColor?Qt(Nt.specularColor):[1,1,1]};if(Nt.reflectionId){if(!on.getAssetLibrary&&!on.server)throw new Error("Unable to load reflection asset without getAssetLibrary or server option");const ur=mn.replace(/\/materials\..*/,"/reflections."+Nt.reflectionId);try{const or=on.baseUrl||"",vr=on.getAssetLibrary||((_i,Wr,pi)=>on.server.getAssetLibrary(or,_i,Wr,pi)),oi=yield Te(vr,or,ur,on.server);oi&&(Kn.reflectionMap={texture:oi.texture,intensity:oi.intensity,mipLevels:oi.mipLevels})}catch(or){console.warn("Unable to load reflection asset "+ur+" for material "+mn,or)}}return Kn}),function(Nt,mn,on){return At.apply(this,arguments)})(l,s,u));const Le=l.nodes?.find(At=>"texture"===At.type&&At?.layers.length>0),qe=[],pt=new Set,mt=Symbol(s);if(Le?.layers.length){const At=Lt(s),Nt=kt(on=>u.textureCache.get(mt,on)),mn=Dn[Be];Le.layers.forEach(on=>{let _n=on.blendMode||"over",gn=on.applyTo;if("add"===_n?_n="over":"forceAdd"===_n&&(_n="add"),!Ct.has(_n))throw new Error("Texture has invalid blend mode: "+_n);if("color"===gn&&(gn="baseColor"),mn.has(gn))return void console.warn(`"${gn}" texture channels are not supported on ${Be} materials.`);const Mn={texture:null,applyTo:gn,blendMode:_n,blendFactor:on.blendFactor??1};we.push(Mn);const ur=f(u.baseUrl||"",on.src||At+(on.uri||""));pt.add(ur),qe.push(Nt(ur).then(or=>{if(Mn.texture=or,!or)throw new Error("Failed to load texture")}).catch(or=>{console.warn("Error loading image",ur,or);const vr=we.indexOf(Mn);vr>=0&&we.splice(vr,1)}))})}Pn.forEach(At=>{const Nt=l[At];if(Nt){if(Nt.blendMode&&!Bn.has(Nt.blendMode))throw new Error(`Fresnel (${At}) has invalid blend mode: ${Nt.blendMode}`);const mn=dn[At],on=1-mn;if("gradientStops"in Nt){const _n=Nt.gradientStops.map(gn=>({value:gn.value,position:gn.position,power:gn.power}));xe[At]={gradientStops:_n,blendMode:Nt.blendMode}}else xe[At]={...Tn,edge:mn,center:on,...Nt}}}),Sn.forEach(At=>{const Nt=l[At];if(Nt){if(Nt.blendMode&&!Bn.has(Nt.blendMode))throw new Error(`Fresnel (${At}) has invalid blend mode: ${Nt.blendMode}`);const mn=dn[At],on=1-mn;if("gradientStops"in Nt){const _n=Nt.gradientStops.map(gn=>({color:Qt(gn.color),position:gn.position,power:gn.power}));xe[At]={gradientStops:_n,blendMode:Nt.blendMode}}else xe[At]={...Tn,...Nt,center:Qt(Nt.center?Nt.center:on),edge:Qt(Nt.edge?Nt.edge:mn)}}}),yield Promise.all(qe);const Ot=new Yt(xe);return Ot.on("destroy",()=>{pt.forEach(At=>u.textureCache.release(mt,At))}),Ot}),ue.apply(this,arguments)}const Ue=l=>l?.map(({blendFactor:s=1,blendMode:u="over",...d})=>({...d,blendFactor:s,blendMode:u}))||[],bt=l=>l?.map(({blendFactor:s=1,blendMode:u="over",channel:d="r",invert:S=!1,...H})=>({...H,blendFactor:s,blendMode:u,channel:d,invert:S}))||[];class Ht extends Cr{baseColor;baseColorMaps;opacityMaps;baseColorFresnel;opacityFresnel;constructor(s){const{blendMode:u,baseColor:d,baseColorMaps:S,opacityMaps:H,baseColorFresnel:le,opacityFresnel:oe,...we}=s||{};super(we),this.blendMode=u||"normal",this.baseColor=cn(d,[1,1,1]),this.baseColorMaps=Ue(S),this.opacityMaps=bt(H),this.baseColorFresnel=wn(le),this.opacityFresnel=wn(oe);const xe=()=>{this.emit("change",{material:this,property:"texture"})},Be=new Set([...this.baseColorMaps,...this.opacityMaps].map(({texture:qe})=>qe));Be.forEach(qe=>{qe.on("change",xe),qe.on("resize",xe),qe.on("update",xe)});const Le=this.destroy;this.destroy=()=>{Be.forEach(qe=>{qe.off("change",xe),qe.off("resize",xe),qe.off("update",xe)}),this.baseColorMaps.length=0,this.opacityMaps.length=0,Le()}}}class fn extends Ht{constructor(s){super({...s,type:"unlit"})}}class cr extends Ht{normalMaps;metallic;metallicMaps;occlusionMaps;roughness;roughnessMaps;emissive;emissiveMaps;ior;specularFactor;specularFactorMaps;specularColor;specularColorMaps;emissiveFresnel;constructor(s){const{normalMaps:u,metallic:d,metallicMaps:S,occlusionMaps:H,roughness:le,roughnessMaps:oe,emissive:we,emissiveMaps:xe,ior:Be,specularFactor:Le,specularFactorMaps:qe,specularColor:pt,specularColorMaps:mt,emissiveFresnel:Ot,...At}=s||{};super({...At,type:"physical"});let Nt=d??0,mn=Be??1.5,on=le??1,_n=Le??1;var gn;this.normalMaps=(gn=u,gn?.map(({blendFactor:or=1,blendMode:vr="over",...oi})=>({...oi,blendFactor:or,blendMode:vr}))||[]),this.metallicMaps=bt(S),this.roughnessMaps=bt(oe),this.occlusionMaps=bt(H),this.emissive=cn(we,[0,0,0]),this.emissiveMaps=Ue(xe),this.specularFactorMaps=bt(qe),this.specularColor=cn(pt,[1,1,1]),this.specularColorMaps=Ue(mt),this.emissiveFresnel=wn(Ot);const Mn=()=>{this.emit("change",{material:this,property:"texture"})},Kn=new Set([...this.metallicMaps,...this.roughnessMaps,...this.occlusionMaps,...this.emissiveMaps].map(({texture:or})=>or));Kn.forEach(or=>{or.on("change",Mn),or.on("resize",Mn),or.on("update",Mn)});const ur=this.destroy;this.destroy=()=>{Kn.forEach(or=>{or.off("change",Mn),or.off("resize",Mn),or.off("update",Mn)}),this.emissiveMaps.length=0,this.specularColorMaps.length=0,this.normalMaps.length=0,this.metallicMaps.length=0,this.occlusionMaps.length=0,this.roughnessMaps.length=0,this.specularFactorMaps.length=0,ur()},Object.defineProperties(this,{metallic:{get:()=>Nt,set:or=>{or!==Nt&&(Nt=or,this.emit("change",{material:this,property:"metallic"}))}},roughness:{get:()=>on,set:or=>{or!==on&&(on=or,this.emit("change",{material:this,property:"roughness"}))}},ior:{get:()=>mn,set:or=>{or!==mn&&(mn=or,this.emit("change",{material:this,property:"ior"}))}},specularFactor:{get:()=>_n,set:or=>{or!==_n&&(_n=or,this.emit("change",{material:this,property:"specularFactor"}))}}})}}function Hr(l,s){return{name:l.id||s,baseColor:Qt(l.baseColor)}}const ti=new Set(["add","multiply"]),mi=(l,s,u,d,S)=>function(){var H=r(function*(le,oe,we){const xe={...Hr(le,oe),...s(le)},Be=Symbol(oe),Le=Lt(oe),qe=[];yield Promise.all(u.map(function(){var mt=r(function*(Ot){const At=le[Ot];if(At){const Nt=yield Promise.all(At.map(function(){var mn=r(function*(on){const{uri:_n,...gn}=on,Kn=f(we.baseUrl||"",Le+(_n||""));try{const ur=yield(or=Kn,we.textureCache.get(Be,or));return qe.push(Kn),{...gn,texture:ur}}catch(ur){return console.warn("Error loading image",Kn,ur),null}var or});return function(on){return mn.apply(this,arguments)}}()));xe[Ot]=Nt.filter(mn=>!!mn)}});return function(Ot){return mt.apply(this,arguments)}}())),d.forEach(mt=>{const Ot=le[mt];if(Ot){if(Ot.blendMode&&!ti.has(Ot.blendMode))throw new Error(`Fresnel (${mt}) has invalid blend mode: ${Ot.blendMode}`);if("gradientStops"in Ot){const At=Ot.gradientStops.map(Nt=>({value:Nt.value,position:Nt.position,power:Nt.power}));xe[mt]={gradientStops:At,blendMode:Ot.blendMode}}else xe[mt]={...Ot}}}),S.forEach(mt=>{const Ot=le[mt];if(Ot){if(Ot.blendMode&&!ti.has(Ot.blendMode))throw new Error(`Fresnel (${mt}) has invalid blend mode: ${Ot.blendMode}`);if("gradientStops"in Ot){const At=Ot.gradientStops.map(Nt=>({color:Qt(Nt.color),position:Nt.position,power:Nt.power}));xe[mt]={gradientStops:At,blendMode:Ot.blendMode}}else xe[mt]={...Ot,center:Qt(Ot.center),edge:Qt(Ot.edge)}}});const pt=new l(xe);return pt.on("destroy",()=>{qe.forEach(mt=>we.textureCache.release(Be,mt))}),pt});return function(le,oe,we){return H.apply(this,arguments)}}(),li=mi(fn,function(l){const{opacity:s,blendMode:u}=l;return{opacity:s,blendMode:u}},["baseColorMaps","opacityMaps"],["opacityFresnel"],["baseColorFresnel"]),Io=mi(cr,function(l){const{opacity:s,blendMode:u,ior:d,metallic:S,roughness:H,specularFactor:le}=l;return{opacity:s,blendMode:u,emissive:Qt(l.emissive),ior:d,metallic:S,roughness:H,specularColor:Qt(l.specularColor),specularFactor:le}},["baseColorMaps","emissiveMaps","metallicMaps","normalMaps","occlusionMaps","opacityMaps","roughnessMaps","specularColorMaps","specularFactorMaps"],["opacityFresnel"],["baseColorFresnel","emissiveFresnel"]);function Co(l,s,u){return"workflow"in l&&"metallic"!==l.workflow?"physical"===l.workflow?Io(l,s,u):"unlit"===l.workflow?li(l,s,u):null:function me(l,s,u){return ue.apply(this,arguments)}(l,s,u)}function wo(l,s){return So.apply(this,arguments)}function So(){return So=r(function*(l,s){if("materialId"in l)return s.loadMaterial(l.materialId,s);if(void 0!==l.material&&"workflow"in l.material)return Co(l.material,l.material.id,s);const u=l.material?.baseColor?Qt(l.material.baseColor):null,d=l.material&&"alpha"in l.material&&void 0!==l.material.alpha?l.material?.alpha:1,S=Symbol("particle material:"+l.id),H=[],le={transparent:!0,opacity:d,baseColor:u,textures:H,name:l.id},oe=[],we=new Set;if("textures"in l){const Be=l.textures?.length&&kt(Le=>s.textureCache.get(S,Le));for(let Le=0,qe=l.textures?.length||0;Le<qe;Le++){const pt=l.textures[Le],{src:mt}=pt;let Ot=pt.applyTo||"baseColor";"color"===Ot&&(Ot="baseColor");const At={texture:null,applyTo:Ot,blendMode:"over",blendFactor:1};H.push(At);const Nt=f(s?.baseUrl||"",mt.startsWith("/")?""+mt:"/content/states/"+mt);we.add(Nt),oe.push(Be(Nt).then(mn=>{At.texture=mn}).catch(mn=>{console.warn("Error loading image",Nt,mn);const on=H.indexOf(At);on>=0&&H.splice(on,1)}))}yield Promise.all(oe)}const xe=new Yt(le);return xe.on("destroy",()=>{we.forEach(Be=>s.textureCache.release(S,Be))}),xe}),So.apply(this,arguments)}const xo=w(7928),Po=(0,F.create)(),nn=(0,F.create)();function xn(l,s,u){if(u?(0,F.fromScaling)(nn,u):(0,F.identity)(nn),s){const d=s[0],S=s[1],H=s[2];d&&((0,F.fromXRotation)(Po,d),(0,F.multiply)(nn,Po,nn)),S&&((0,F.fromYRotation)(Po,S),(0,F.multiply)(nn,Po,nn)),H&&((0,F.fromZRotation)(Po,H),(0,F.multiply)(nn,Po,nn))}return(0,xo.fromMat4)(l,nn)}const sr=(0,h.create)(),br=Math.PI/180,Vr=(0,h.create)(),_r=Math.PI/180,jt=2*Math.PI,pe=(0,h.create)(),ht=Math.PI/180,pn=Math.PI/180,On=(0,h.create)(),lr=(0,h.create)(),Dr=Math.PI/180,ni=Math.PI,Yr=2*ni,ui=Math.PI/180;class Ri{translate;rotate;scale;xform;inverseXform;normalXform;dirty}const eo={shapeTranslate:"translate",shapeRotate:"rotate",shapeScale:"scale"};function Ki(l,s,u,d,S){const H=eo[s],le=H&&l[H];return"shapeRotate"===s&&(u*=ui,d*=ui,S*=ui),!!le&&(le[0]=u,le[1]=d,le[2]=S,l.dirty=!0,!0)}class Qi extends Ri{constructor(s){super(),this.translate=s?.translate?(0,h.clone)(s.translate):null,this.xform=s?.scale||s?.rotate?(0,xo.create)():null,this.xform?(this.rotate=(0,h.fromValues)(0,0,0),s?.rotate&&(0,h.scale)(this.rotate,s.rotate,ui),this.scale=(0,h.fromValues)(1,1,1),s?.scale&&(0,h.copy)(this.scale,s.scale),this.inverseXform=(0,xo.create)(),this.normalXform=(0,xo.create)(),this.dirty=!0,this.updateXform()):(this.rotate=null,this.scale=null,this.inverseXform=null,this.normalXform=null,this.dirty=!1)}updateXform(){this.xform&&this.dirty&&(xn(this.xform,this.rotate,this.scale),(0,xo.invert)(this.inverseXform,this.xform),(0,xo.transpose)(this.normalXform,this.inverseXform)),this.dirty=!1}}const Yi=Math.PI/180,qi=(0,xo.create)();function bo(l,s){return s[0]*l.normal[0]+s[1]*l.normal[1]+s[2]*l.normal[2]}function Bo(l){const s=l[0],u=l[1],d=l[2];return s*s+u*u+d*d}const Gt={Cube:class extends Qi{in(l){const s=l[0],u=l[1],d=l[2];return s>=-.5&&s<=.5&&u>=-.5&&u<=.5&&d>=-.5&&d<=.5}out(l){const s=l[0],u=l[1],d=l[2];return s<=-.5||s>=.5||u<=-.5||u>=.5||d<=-.5||d>=.5}surfaceProjection(l,s,u){let d=l[0],S=l[1],H=l[2];const le=Math.abs(d+.5),oe=Math.abs(d-.5),we=Math.abs(S+.5),xe=Math.abs(S-.5),Be=Math.abs(H+.5),Le=Math.abs(H-.5);le<oe&&le<we&&le<xe&&le<Be&&le<Le?(d=-.5,(0,h.set)(u,-1,0,0)):oe<we&&oe<xe&&oe<Be&&oe<Le?(d=.5,(0,h.set)(u,1,0,0)):we<xe&&we<Be&&we<Le?(S=-.5,(0,h.set)(u,0,-1,0)):xe<Be&&xe<Le?(S=.5,(0,h.set)(u,0,1,0)):Be<Le?(H=-.5,(0,h.set)(u,0,0,-1)):(H=.5,(0,h.set)(u,0,0,1)),s[0]=se(d,-.5,.5),s[1]=se(S,-.5,.5),s[2]=se(H,-.5,.5),this.xform&&(this.updateXform(),(0,h.transformMat3)(s,s,this.xform),(0,h.transformMat3)(u,u,this.normalXform),(0,h.normalize)(u,u)),this.translate&&(0,h.add)(s,s,this.translate)}},Cylinder:class extends Qi{in(l){const s=l[0],u=l[1],d=l[2];return s*s+d*d<=1&&u>=-1&&u<=1}out(l){const s=l[0],u=l[1],d=l[2];return s*s+d*d>=1||u<=-1||u>=1}surfaceProjection(l,s,u){let d=l[0],S=l[1],H=l[2];if(S<=-1)(0,h.set)(u,0,-1,0),S=-1;else if(S>=1)(0,h.set)(u,0,1,0),S=1;else{const le=Math.sqrt(d*d+H*H);le>=1||1-Math.abs(S)>=1-le?(d/=le,H/=le,(0,h.set)(u,d,0,H)):(S=Math.sign(S),(0,h.set)(u,0,S,0))}s[0]=d,s[1]=S,s[2]=H,this.xform&&(this.updateXform(),(0,h.transformMat3)(s,s,this.xform),(0,h.transformMat3)(u,u,this.normalXform),(0,h.normalize)(u,u)),this.translate&&(0,h.add)(s,s,this.translate)}},Plane:class extends Ri{translate;rotate;normal;distance;xform;dirty=!0;constructor(l){super(),this.translate=(0,h.clone)(l.translate||[0,0,0]),this.rotate=(0,h.clone)(l.rotate||[0,0,0]),l.rotate&&(0,h.scale)(this.rotate,l.rotate,Yi),this.normal=(0,h.create)(),this.distance=0,this.updateXform()}updateXform(){this.dirty&&(this.normal[0]=0,this.normal[1]=1,this.normal[2]=0,xn(qi,this.rotate),(0,h.transformMat3)(this.normal,this.normal,qi),this.distance=(0,h.dot)(this.translate,this.normal),this.dirty=!1)}in(l){return this.updateXform(),bo(this,l)<=this.distance}out(l){return this.updateXform(),bo(this,l)>=this.distance}surfaceProjection(l,s,u){this.updateXform(),u[0]=this.normal[0],u[1]=this.normal[1],u[2]=this.normal[2];const d=$.get();(0,h.scale)(d,u,this.distance-(0,h.dot)(l,u)),(0,h.add)(s,l,d),$.release(d)}},Sphere:class extends Qi{in(l){return Bo(l)<=1}out(l){return Bo(l)>=1}surfaceProjection(l,s,u){(0,h.normalize)(s,l),z(u)?u.set(s):(0,h.copy)(u,s),this.xform&&(this.updateXform(),(0,h.transformMat3)(s,s,this.xform),(0,h.transformMat3)(u,u,this.normalXform),(0,h.normalize)(u,u)),this.translate&&(0,h.add)(s,s,this.translate)}}},Se=Gt;function vt(l,s,u,d){const S=3*d;return l[0]=u[S],l[1]=u[S+1],l[2]=u[S+2],s?.translate&&(l[0]-=s.translate[0],l[1]-=s.translate[1],l[2]-=s.translate[2]),s?.inverseXform&&(s instanceof Qi&&s.updateXform(),(0,h.transformMat3)(l,l,s.inverseXform)),l}const Xt=(0,h.create)(),Cn=(0,h.create)(),tr=(0,h.create)(),kr=(0,h.create)(),Ii=(0,h.create)(),$r=(0,h.create)(),Hi=(0,h.create)(),Mo=Ve/1e3,Wo={CubePosition:function(l){const s=l.translate?(0,h.clone)(l.translate):null,u=l.scale||l.rotate?(0,xo.create)():null,d=u?(0,h.create)():null;l.rotate&&(0,h.scale)(d,l.rotate,br);const S={scale:u?(0,h.clone)(l.scale)||(0,h.fromValues)(1,1,1):null,rotate:d,translate:s};let H=!0;return{set(le,oe,we,xe){"rotate"===le?(0,h.set)(d,oe*br,we*br,xe*br):le in S&&(0,h.set)(S[le],oe,we,xe),H=!0},update(le,oe,we){const xe=le.get("position");u&&H&&(xn(u,d,S.scale),H=!1);for(let Be=oe,Le=3*Be;Be<we;Be++,Le+=3)sr[0]=Math.random()-.5,sr[1]=Math.random()-.5,sr[2]=Math.random()-.5,u&&(0,h.transformMat3)(sr,sr,u),s&&(0,h.add)(sr,sr,s),xe.set(sr,Le)}}},CylinderPosition:function(l){const s=l.translate?(0,h.clone)(l.translate):null,u=l.scale||l.rotate?(0,xo.create)():null,d=u?(0,h.create)():null;l.rotate&&(0,h.scale)(d,l.rotate,_r);const S={scale:u?(0,h.clone)(l.scale)||(0,h.fromValues)(1,1,1):null,rotate:d,translate:s};let H=!0;return{set(le,oe,we,xe){"rotate"===le?(0,h.set)(d,oe*_r,we*_r,xe*_r):le in S&&(0,h.set)(S[le],oe,we,xe),H=!0},update(le,oe,we){const xe=le.get("position");u&&H&&(xn(u,d,S.scale),H=!1);for(let Be=oe,Le=3*Be;Be<we;Be++,Le+=3){const qe=Math.random()*jt,pt=Math.random(),mt=2*Math.random()-1;Vr[0]=pt*Math.cos(qe),Vr[1]=mt,Vr[2]=pt*Math.sin(qe),u&&(0,h.transformMat3)(Vr,Vr,u),s&&(0,h.add)(Vr,Vr,s),xe.set(Vr,Le)}}}},DirectionalVelocity:function(l){const s=(0,h.clone)(l.directionAverage);(0,h.normalize)(s,s);const u={directionAverage:s},d={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,directionVariance:l.directionVariance||0};return{components:["velocity"],set(S,H,le,oe){S in u?(0,h.set)(u[S],H,le,oe):S in d&&(d[S]=H)},update(S,H,le){const oe=S.get("velocity"),{forceAverage:we,forceVariance:xe,directionVariance:Be}=d;for(let Le=H,qe=3*Le;Le<le;Le++,qe+=3){const pt=we+2*Math.random()*xe-xe;pe[0]=s[0]+2*Math.random()*Be-Be,pe[1]=s[1]+2*Math.random()*Be-Be,pe[2]=s[2]+2*Math.random()*Be-Be,(0,h.normalize)(pe,pe),oe[qe]+=pe[0]*pt,oe[qe+1]+=pe[1]*pt,oe[qe+2]+=pe[2]*pt}}}},Lifetime:function(l){const s={average:l.average,variance:l.variance||0};return{components:["lifetime","age"],set(u,d){u in s&&(s[u]=d)},update(u,d,S){const H=u.get("age"),le=u.get("lifetime");let{average:oe,variance:we}=s;we>oe&&(oe=we=(oe+we)/2);for(let xe=d;xe<S;xe++)H[xe]=0,le[xe]=oe,we>0&&(le[xe]+=2*Math.random()*we-we)}}},PointPosition:function(l){const s=(0,h.clone)(l.position),u={position:s};return{set(d,S,H,le){d in u&&(0,h.set)(u[d],S,H,le)},update(d,S,H){const le=d.get("position");for(let oe=S,we=3*oe;oe<H;oe++,we+=3)le.set(s,we)}}},RandomRotation:function(l){const s={average:l.average*ht,variance:(l.variance||0)*ht};return{components:["uvRotate"],set(u,d){u in s&&(s[u]=d*ht)},update(u,d,S){const H=u.get("uvRotate"),{average:le,variance:oe}=s;for(let we=d;we<S;we++){let xe=le;oe>0&&(xe+=2*Math.random()*oe-oe),H[we]=xe}}}},RandomRotationSpeed:function(l){const s={average:l.average*pn,variance:(l.variance||0)*pn};return{components:["rotationSpeed","uvRotate"],set(u,d){u in s&&(s[u]=d*pn)},update(u,d,S){const H=u.get("rotationSpeed"),{average:le,variance:oe}=s;for(let we=d;we<S;we++){let xe=le;oe>0&&(xe+=2*Math.random()*oe-oe),H[we]=xe}}}},RandomScale:function(l){const s={average:l.average,variance:l.variance||0};return{components:["scale"],set(u,d){u in s&&(s[u]=d)},update(u,d,S){const H=u.get("scale");let{average:le,variance:oe}=s;oe>le&&(le=oe=(le+oe)/2);for(let we=d;we<S;we++){let xe=le;oe>0&&(xe+=2*Math.random()*oe-oe),H[we]=xe}}}},RandomVelocity:function(l){const s={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0};return{components:["velocity"],set(u,d){u in s&&(s[u]=d)},update(u,d,S){const H=u.get("velocity"),{forceAverage:le,forceVariance:oe}=s;for(let we=d,xe=3*we;we<S;we++,xe+=3){const Be=le+2*Math.random()*oe-oe;On[0]=2*Math.random()-1,On[1]=2*Math.random()-1,On[2]=2*Math.random()-1,(0,h.normalize)(On,On),H[xe]+=On[0]*Be,H[xe+1]+=On[1]*Be,H[xe+2]+=On[2]*Be}}}},SpherePosition:function(l){const s=l.translate?(0,h.clone)(l.translate):null,u=l.scale||l.rotate?(0,xo.create)():null,d=u?(0,h.create)():null;l.rotate&&(0,h.scale)(d,l.rotate,Dr);const S={scale:u?(0,h.clone)(l.scale)||(0,h.fromValues)(1,1,1):null,rotate:d,translate:s};let H=!0;return{set(le,oe,we,xe){"rotate"===le?(0,h.set)(d,oe*Dr,we*Dr,xe*Dr):le in S&&(0,h.set)(S[le],oe,we,xe),H=!0},update(le,oe,we){const xe=le.get("position");u&&H&&(xn(u,d,S.scale),H=!1);for(let Be=oe,Le=3*Be;Be<we;Be++,Le+=3){const qe=Math.random()*ni,pt=Math.random()*Yr,mt=Math.random(),Ot=Math.sin(qe);lr[0]=mt*Ot*Math.sin(pt),lr[1]=mt*Math.cos(qe),lr[2]=mt*Ot*Math.cos(pt),u&&(0,h.transformMat3)(lr,lr,u),s&&(0,h.add)(lr,lr,s),xe.set(lr,Le)}}}},SpriteAnimationDuration:function(l,s,u){const d={average:l.average,variance:l.variance||0,startFrame:u.spriteStartFrame||0,endFrame:u.spriteEndFrame||Math.max(0,u.spriteCols*u.spriteCols-1)};return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],set(S,H){S in d&&(d[S]=H)},update(S,H,le){const oe=S.get("spriteFrameDuration"),we=S.get("spriteCurrentTime"),{startFrame:xe,endFrame:Be}=d,Le=Be-xe;let{average:qe,variance:pt}=d;pt>qe&&(qe=pt=(qe+pt)/2);for(let mt=H;mt<le;mt++){let Ot=qe;pt>0&&(Ot+=2*Math.random()*pt-pt),we[mt]=0,oe[mt]=Le?Math.max(Ot/Le,0):0}}}}},xs={AgeColorBlend:function(l){const s=[];for(let H=0,le=l.colors.length;H<le;H++)s[H]=new Uint8Array(l.colors[H]);const u=l.shape?new Se[l.shape.type](l.shape):null,S=u?u[l.shape?.direction||"in"].bind(u):null;return{components:["position","age","lifetime","color"],set(H,le,oe,we){Ki(u,H,le,oe,we)},update(H,le,oe){const we=H.get("position"),xe=H.get("age"),Be=H.get("lifetime"),Le=H.get("color"),qe=s.length-1,pt=u?$.get():null;for(let mt=le,Ot=4*mt;mt<oe;mt++,Ot+=4)if(!S||S(vt(pt,u,we,mt))){const At=Be[mt]?xe[mt]/Be[mt]*qe:0,Nt=Math.floor(At),on=s[Nt],_n=s[Nt+1]||s[Nt],gn=At-Nt,Mn=1-gn;Le[Ot]=Mn*on[0]+gn*_n[0],Le[Ot+1]=Mn*on[1]+gn*_n[1],Le[Ot+2]=Mn*on[2]+gn*_n[2],Le[Ot+3]=Mn*on[3]+gn*_n[3]}pt&&$.release(pt)}}},AxisForce:function(l){const s=l.forceAverage,u=l.forceVariance||0,d=(0,h.clone)(l.position),S=(0,h.clone)(l.direction);(0,h.normalize)(S,S);const H=l.shape?new Se[l.shape.type](l.shape):null,oe=H?H[l.shape?.direction||"in"].bind(H):null,we={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0};return{components:["velocity","position"],set(xe,Be,Le,qe){"shapeTranslate"===xe||"shapeRotate"===xe||"shapeScale"===xe?Ki(H,xe,Be,Le,qe):xe in we&&(we[xe]=Be)},update(xe,Be,Le,qe){const pt=xe.get("position"),mt=xe.get("velocity"),Ot=s*qe,At=u*qe,Nt=H?$.get():null,mn=$.get(),on=$.get(),_n=$.get(),gn=$.get();for(let Mn=Be,Kn=3*Mn;Mn<Le;Mn++,Kn+=3)if(!oe||oe(vt(Nt,H,pt,Mn))){const ur=Kn+1,or=Kn+2;let vr=Ot;At>0&&(vr+=2*Math.random()*At-At),mn[0]=pt[Kn],mn[1]=pt[ur],mn[2]=pt[or],(0,h.subtract)(gn,mn,d);const oi=(0,h.dot)(gn,S);(0,h.scale)(_n,S,oi),(0,h.add)(on,_n,d),(0,h.subtract)(on,mn,on),(0,h.normalize)(on,on),mt[Kn]+=on[0]*vr,mt[ur]+=on[1]*vr,mt[or]+=on[2]*vr}Nt&&$.release(Nt),$.release(mn),$.release(on),$.release(_n),$.release(gn)}}},BrownianMotion:function(l){const s=l.shape?new Se[l.shape.type](l.shape):null,d=s?s[l.shape?.direction||"in"].bind(s):null,S={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,frequency:l.frequency};return{components:["velocity","position"],set(H,le,oe,we){"shapeTranslate"===H||"shapeRotate"===H||"shapeScale"===H?Ki(s,H,le,oe,we):H in S&&(S[H]=le)},update(H,le,oe,we){const xe=H.get("position"),Be=H.get("velocity"),Le=S.frequency*we,qe=S.forceAverage*we,pt=S.forceVariance*we,mt=s?$.get():null,Ot=$.get();for(let At=le,Nt=3*At;At<oe;At++,Nt+=3)if((!d||d(vt(mt,s,xe,At)))&&Math.random()<Le){let mn=qe;pt>0&&(mn+=2*Math.random()*pt-pt),Ot[0]=2*Math.random()-1,Ot[1]=2*Math.random()-1,Ot[2]=2*Math.random()-1,(0,h.normalize)(Ot,Ot),Be[Nt]+=Ot[0]*mn,Be[Nt+1]+=Ot[1]*mn,Be[Nt+2]+=Ot[2]*mn}mt&&$.release(mt),$.release(Ot)}}},Gravity:function(l){const s=(0,h.clone)(l.position),u=l.shape?new Se[l.shape.type](l.shape):null,S=u?u[l.shape?.direction||"in"].bind(u):null,H={position:s},le={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,radius:l.radius};return{components:["velocity","position"],set(oe,we,xe,Be){"shapeTranslate"===oe||"shapeRotate"===oe||"shapeScale"===oe?Ki(u,oe,we,xe,Be):oe in H?(0,h.set)(H[oe],we,xe,Be):oe in le&&(le[oe]=we)},update(oe,we,xe,Be){const{forceAverage:Le,forceVariance:qe,radius:pt}=le;if(0===pt)return;const mt=oe.get("position"),Ot=oe.get("velocity"),At=Le*Be,Nt=qe*Be,mn=u?$.get():null,on=H.position,_n=$.get();for(let gn=we,Mn=3*gn;gn<xe;gn++,Mn+=3)if(!S||S(vt(mn,u,mt,gn))){let Kn=At;Nt>0&&(Kn+=2*Math.random()*Nt-Nt);const ur=Mn+1,or=Mn+2;_n[0]=on[0]-mt[Mn],_n[1]=on[1]-mt[ur],_n[2]=on[2]-mt[or];const vr=1/Math.max((0,h.length)(_n),pt);(0,h.scale)(_n,_n,vr),Kn*=vr*vr,Ot[Mn]+=_n[0]*Kn,Ot[Mn+1]+=_n[1]*Kn,Ot[Mn+2]+=_n[2]*Kn}mn&&$.release(mn),$.release(_n)}}},Friction:function(l){const s=l.shape?new Se[l.shape.type](l.shape):null,d=s?s[l.shape?.direction||"in"].bind(s):null,S={friction:1-l.friction};return{components:["velocity","position"],set(H,le,oe,we){"shapeTranslate"===H||"shapeRotate"===H||"shapeScale"===H?Ki(s,H,le,oe,we):H in S&&(S[H]=1-le)},update(H,le,oe,we){const xe=H.get("position"),Be=H.get("velocity"),Le=Math.pow(S.friction,we),qe=s?$.get():null;for(let pt=le,mt=3*pt;pt<oe;pt++,mt+=3)d&&!d(vt(qe,s,xe,pt))||(Be[mt]*=Le,Be[mt+1]*=Le,Be[mt+2]*=Le);qe&&$.release(qe)}}},Path:function(l,s){const u=function(le){const oe=[];return le.forEach(({position:we,radius:xe,forceAverage:Be,forceVariance:Le},qe)=>{const pt=(0,h.clone)(we),mt=qe?(0,h.subtract)((0,h.create)(),pt,oe[qe-1].position):null,Ot=qe?(0,h.length)(mt):0,At={position:pt,radiusSquared:xe?xe*xe:0,forceVariance:Le||0,forceAverage:Be,vec:mt,dir:qe?(0,h.scale)((0,h.create)(),mt,1/Ot):null,length:Ot};oe.push(At)}),oe}(l.nodes);s.path=u;const d=l.shape?new Se[l.shape.type](l.shape):null,H=d?d[l.shape?.direction||"in"].bind(d):null;return{components:["velocity","position","pathIndex"],set(le,oe,we,xe){Ki(d,le,oe,we,xe)},update(le,oe,we,xe){const Be=le.get("position"),Le=le.get("velocity"),qe=le.get("pathIndex"),pt=d?$.get():null,mt=$.get(),Ot=$.get(),At=$.get();for(let Nt=oe,mn=3*Nt;Nt<we;Nt++,mn+=3)if(!H||H(vt(pt,d,Be,Nt))){const on=qe[Nt];let _n=u[on];if(_n){const gn=mn+1,Mn=mn+2;mt[0]=Be[mn],mt[1]=Be[gn],mt[2]=Be[Mn];let Kn=null;if(on){if((0,h.subtract)(Ot,mt,u[on-1].position),(0,h.dot)(Ot,_n.dir)>_n.length){const or=on+1;if(qe[Nt]=or,_n=u[or],_n){At[0]=Le[mn],At[1]=Le[gn],At[2]=Le[Mn];const vr=(0,h.length)(At);(0,h.scale)(At,_n.dir,vr),Le.set(At,mn)}}_n&&(Kn=_n.dir)}else{if((0,h.squaredDistance)(mt,_n.position)<_n.radiusSquared){const ur=on+1;qe[Nt]=ur,_n=u[ur]}_n&&((0,h.subtract)(Ot,_n.position,mt),Kn=(0,h.normalize)(Ot,Ot))}if(_n){const or=_n.forceVariance*xe;let vr=_n.forceAverage*xe;or>0&&(vr+=2*Math.random()*or-or),Le[mn]+=Kn[0]*vr,Le[gn]+=Kn[1]*vr,Le[Mn]+=Kn[2]*vr}}}pt&&$.release(pt),$.release(mt),$.release(Ot),$.release(At)}}},RadialForce:function(l){const s=(0,h.clone)(l.position),u=l.shape?new Se[l.shape.type](l.shape):null,S=u?u[l.shape?.direction||"in"].bind(u):null,H={position:s},le={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0};return{components:["velocity","position"],set(oe,we,xe,Be){"shapeTranslate"===oe||"shapeRotate"===oe||"shapeScale"===oe?Ki(u,oe,we,xe,Be):oe in H?(0,h.set)(H[oe],we,xe,Be):oe in le&&(le[oe]=we)},update(oe,we,xe,Be){const Le=oe.get("position"),qe=oe.get("velocity"),pt=le.forceAverage*Be,mt=le.forceVariance*Be,Ot=u?$.get():null,At=$.get();for(let Nt=we,mn=3*Nt;Nt<xe;Nt++,mn+=3)if(!S||S(vt(Ot,u,Le,Nt))){let on=pt;mt>0&&(on+=2*Math.random()*mt-mt);const _n=mn+1,gn=mn+2;At[0]=Le[mn]-s[0],At[1]=Le[_n]-s[1],At[2]=Le[gn]-s[2],(0,h.normalize)(At,At),qe[mn]+=At[0]*on,qe[_n]+=At[1]*on,qe[gn]+=At[2]*on}Ot&&$.release(Ot),$.release(At)}}},SpriteAnimation:function(l,s,u){const d=u.spriteRows||0,S=u.spriteCols||1,H=u.spriteStartFrame||0,le=(u.spriteEndFrame||Math.max(0,d*S-1))-H;return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],update(oe,we,xe,Be){const Le=oe.get("uvTranslate"),qe=oe.get("spriteFrameDuration"),pt=oe.get("spriteCurrentTime");for(let mt=we,Ot=2*mt,At=mt+1;mt<xe;mt++,Ot+=2,At+=2){pt[mt]=(pt[mt]+Be)%(le*qe[mt]);const mn=Math.floor(pt[mt]/qe[mt]);Le[Ot]=mn%S/S;const _n=Math.floor(mn/S)+1;Le[At]=-_n/d}}}},UniformForce:function(l){const s=(0,h.clone)(l.directionAverage),u=l.shape?new Se[l.shape.type](l.shape):null,S=u?u[l.shape?.direction||"in"].bind(u):null,H={directionAverage:s},le={forceAverage:l.forceAverage,forceVariance:l.forceVariance||0,directionVariance:l.directionVariance||0};return{components:["velocity","position"],set(oe,we,xe,Be){"shapeTranslate"===oe||"shapeRotate"===oe||"shapeScale"===oe?Ki(u,oe,we,xe,Be):oe in H?(0,h.set)(H[oe],we,xe,Be):oe in le&&(le[oe]=we)},update(oe,we,xe,Be){const Le=oe.get("position"),qe=oe.get("velocity"),{forceAverage:pt,forceVariance:mt,directionVariance:Ot}=le,At=pt*Be,Nt=mt*Be,mn=u?$.get():null,on=$.get();for(let _n=we,gn=3*_n;_n<xe;_n++,gn+=3)if(!S||S(vt(mn,u,Le,_n))){let Mn=At;Nt>0&&(Mn+=2*Math.random()*Nt-Nt),(0,h.copy)(on,s),Ot&&(on[0]+=2*Math.random()*Ot-Ot,on[1]+=2*Math.random()*Ot-Ot,on[2]+=2*Math.random()*Ot-Ot,(0,h.normalize)(on,on)),qe[gn]+=on[0]*Mn,qe[gn+1]+=on[1]*Mn,qe[gn+2]+=on[2]*Mn}mn&&$.release(mn),$.release(on)}}}},da={LifetimeKill:function(){return{components:["lifetime","age","dead"],update(l,s,u){const d=l.get("age"),S=l.get("lifetime"),H=l.get("dead");for(let le=s;le<u;le++)d[le]>=S[le]&&(H[le]=!0)}}},LifetimeStop:function(){return{components:["lifetime","age","stopped"],update(l,s,u){const d=l.get("age"),S=l.get("lifetime"),H=l.get("stopped");for(let le=s;le<u;le++)d[le]>=S[le]&&(H[le]=!0)}}},PathRadius:function(l,s){const{path:u=[]}=s;return{components:["position","pathIndex"],update(d,S,H){const le=d.get("position"),oe=d.get("pathIndex");for(let we=S,xe=3*we;we<H;we++,xe+=3){const Be=oe[we],Le=Be>0?u[Be]:null;if(Le){const qe=xe+1,pt=xe+2;Xt[0]=le[xe],Xt[1]=le[qe],Xt[2]=le[pt],(0,h.subtract)(Cn,Xt,u[Be-1].position);const Ot=(0,h.dot)(Cn,Le.dir);(0,h.scale)(tr,Le.dir,Ot),(0,h.subtract)(tr,Cn,tr);const At=(0,h.squaredLength)(tr);if(At>Le.radiusSquared){(0,h.normalize)(tr,tr);const Nt=(0,h.scale)(tr,tr,Math.sqrt(Le.radiusSquared)-Math.sqrt(At));le[xe]=Nt[0],le[qe]=Nt[1],le[pt]=Nt[2]}}}}}},PathKill:function(l,s){const{path:u=[]}=s,d=u.length;return{components:["position","path","pathIndex","dead"],update(S,H,le){const oe=S.get("pathIndex"),we=S.get("dead");for(let xe=H;xe<le;xe++)oe[xe]>=d&&(we[xe]=!0)}}},PathStop:function(l,s){const{path:u=[]}=s,d=u.length;return{components:["position","path","pathIndex","stopped"],update(S,H,le){const oe=S.get("pathIndex"),we=S.get("stopped");for(let xe=H;xe<le;xe++)oe[xe]>=d&&(we[xe]=!0)}}},ShapeBounce:function(l,s){const u=new Se[l.shape.type](l.shape),d=l.shape.direction||"in",S=!!l.trap,H=s.trapId||0;S&&(s.trapId=H+1);const le=1<<H,oe=["position","velocity"];S&&oe.push("trap");const we=u[d].bind(u);return{components:oe,set(xe,Be,Le,qe){Ki(u,xe,Be,Le,qe)},update(xe,Be,Le){const qe=xe.get("position"),pt=xe.get("velocity"),mt=S?xe.get("trap"):null,Ot=$.get();for(let At=Be;At<Le;At++)if(vt(Ot,u,qe,At),we(Ot)){if(!S||mt[At]&le){const Nt=3*At;u.surfaceProjection(Ot,kr,Ii),qe.set(kr,Nt),$r[0]=pt[Nt],$r[1]=pt[Nt+1],$r[2]=pt[Nt+2];const mn=(0,h.length)($r);if(mn){$r[0]/=mn,$r[1]/=mn,$r[2]/=mn;const on=(0,h.dot)($r,Ii);(0,h.scale)(Hi,Ii,2*on),(0,h.subtract)(Hi,$r,Hi),(0,h.scale)(Hi,Hi,mn)}else Hi[0]=0,Hi[1]=0,Hi[2]=0;pt.set(Hi,Nt)}}else S&&(mt[At]|=le);$.release(Ot)}}},ShapeKill:function(l,s){const u=new Se[l.shape.type](l.shape),d=l.shape.direction||"in",S=!!l.trap,H=s.trapId||0;S&&(s.trapId=H+1);const le=1<<H,oe=["position","dead"];S&&oe.push("trap");const we=u[d].bind(u);return{components:oe,set(xe,Be,Le,qe){Ki(u,xe,Be,Le,qe)},update(xe,Be,Le){const qe=xe.get("position"),pt=xe.get("dead"),mt=S?xe.get("trap"):null,Ot=$.get();for(let At=Be;At<Le;At++)vt(Ot,u,qe,At),we(Ot)?(!S||mt[At]&le)&&(pt[At]=!0):S&&(mt[At]|=le);$.release(Ot)}}},ShapeStop:function(l,s){const u=new Se[l.shape.type](l.shape),d=l.shape.direction||"in",S=!!l.trap,H=s.trapId||0;S&&(s.trapId=H+1);const le=1<<H,oe=["position","stopped"];S&&oe.push("trap");const we=u[d].bind(u);return{components:oe,set(xe,Be,Le,qe){Ki(u,xe,Be,Le,qe)},update(xe,Be,Le){const qe=xe.get("position"),pt=xe.get("stopped"),mt=S?xe.get("trap"):null,Ot=$.get();for(let At=Be;At<Le;At++)vt(Ot,u,qe,At),we(Ot)?(!S||mt[At]&le)&&(pt[At]=!0):S&&(mt[At]|=le);$.release(Ot)}}}},Os={position:{construct:Float32Array,size:3},velocity:{construct:Float32Array,size:3},color:{construct:Uint8Array,size:4,geometry:!0},scale:{construct:Float32Array,size:1,geometry:!0,init:1},uvRotate:{construct:Float32Array,size:1,geometry:!0},uvTranslate:{construct:Float32Array,size:2,geometry:2,init(l,s,u,d){const{spriteRows:S=0,spriteCols:H=1,spriteStartFrame:le=0}=d,oe=le%H/H,we=(S-1-Math.floor(le/H))/S;for(let xe=2*s,Be=2*u;xe<Be;xe+=2)l[xe]=oe,l[xe+1]=we}},dead:{init:!1},stopped:{init:!1}},Lo=(0,h.create)();class ps{playBackRate;emissionAverage;emissionVariance;bounds=at();arrays;particles;active;subSystemIds;update;reset;set;constructor(s){const{numParticles:u}=s,d=new Float32Array(3*u),S=new Float32Array(3*u),H={position:{data:d,numComponents:3,drawType:35048}},le=new Map([["position",d],["velocity",S]]),oe={},we=new Map;function xe(_n){return"function"==typeof _n?_n:(_n.components&&_n.components.forEach(gn=>{if(!le.has(gn)){const Mn=Os[gn],Kn=Mn?.construct||Array,ur=Mn?.size||1,or=new Kn(u*ur);le.set(gn,or),Mn?.geometry&&(H[gn]={data:or,drawType:35048,numComponents:ur})}}),_n.update)}const Be=[];s.creators.filter(_n=>!!Wo[_n.type]||(console.error(`Undefined particle system creator: '${_n.type}'`,_n),!1)).forEach(_n=>{const gn=Wo[_n.type](_n,oe,s),Mn=xe(gn);Be.push(Mn),_n.id&&("function"!=typeof gn?we.set(_n.id,gn):console.error("Cannot update component",_n.type))});const Le=[];s.updaters?.filter(_n=>!!xs[_n.type]||(console.error(`Undefined particle system updater: '${_n.type}'`,_n),!1)).map(_n=>{const gn=xs[_n.type](_n,oe,s),Mn=xe(gn);Le.push(Mn),_n.id&&("function"!=typeof gn?we.set(_n.id,gn):console.error("Cannot update component",_n.type))});const qe=[];s.constraints?.filter(_n=>!!da[_n.type]||(console.error(`Undefined particle system constraint: '${_n.type}'`,_n),!1)).map(_n=>{const gn=da[_n.type](_n,oe,s),Mn=xe(gn);qe.push(Mn),_n.id&&("function"!=typeof gn?we.set(_n.id,gn):console.error("Cannot update component",_n.type))});const pt=s.maxSpeed||0,mt=pt*pt;this.playBackRate=1,this.emissionAverage=s.emissionAverage??1,this.emissionVariance=s.emissionVariance||0,this.subSystemIds=new Set(we.keys());let Ot=1/0,At=0,Nt=0;function mn(_n){const gn=At-1;At--,_n!==gn&&le.forEach((Mn,Kn)=>{const ur=Os[Kn];if(ur?.copy)return void ur.copy(Mn,gn,_n);const or=ur?.size||1;if(1===or)Mn[_n]=Mn[gn];else for(let vr=0,oi=gn*or,_i=_n*or;vr<or;vr++,oi++,_i++)Mn[_i]=Mn[oi]})}function on(_n){const gn=Nt;Nt++,_n!==gn&&le.forEach((Mn,Kn)=>{const ur=Os[Kn];if(ur?.swap)return void ur.swap(Mn,gn,_n);const or=ur?.size||1;if(1===or){const vr=Mn[_n];Mn[_n]=Mn[gn],Mn[gn]=vr}else for(let vr=0,oi=gn*or,_i=_n*or;vr<or;vr++,oi++,_i++){const Wr=Mn[_i];Mn[_i]=Mn[oi],Mn[oi]=Wr}})}this.update=_n=>{const gn=se(_n-Ot,0,Mo)*this.playBackRate;Ot=_n;let Mn=!1;if(At<u){const Ci=this.emissionVariance*gn;let Tr=Math.max(this.emissionAverage*gn+2*Math.random()*Ci-Ci,0);if(Tr=Tr>=1?Math.floor(Tr):Math.random()<Tr?1:0,Tr>0){const wi=Math.min(At+Tr,u);le.forEach((yi,ao)=>{const Xi=Os[ao];if("function"==typeof Xi?.init)return void Xi.init(yi,At,wi,s);const ns=Xi?.size||1,gi=Xi?.init??0;if(z(yi))yi.fill(gi,At*ns,wi*ns);else if(Array.isArray(yi))if(1===ns)for(let Or=At;Or<wi;Or++)yi[Or]=gi;else for(let Or=At*ns,ci=wi*ns;Or<ci;Or++)yi[Or]=gi}),Be.forEach(yi=>{yi(le,At,wi,gn)}),At=wi,Mn=!0}}if(At>Nt){Le.forEach(wi=>{wi(le,Nt,At,gn)});for(let wi=Nt,yi=3*wi,ao=yi+1,Xi=yi+2;wi<At;wi++,yi+=3,ao+=3,Xi+=3){if(Lo[0]=S[yi]*gn,Lo[1]=S[ao]*gn,Lo[2]=S[Xi]*gn,mt>0){const ns=Lo[0]*Lo[0]+Lo[1]*Lo[1]+Lo[2]*Lo[2];if(ns>mt){const gi=Math.sqrt(ns);(0,h.scale)(Lo,Lo,pt/gi),S.set(Lo,yi)}}d[yi]+=Lo[0],d[ao]+=Lo[1],d[Xi]+=Lo[2]}const Vi=le.get("rotationSpeed");if(Vi){const wi=le.get("uvRotate");for(let yi=Nt;yi<At;yi++)wi[yi]+=Vi[yi]*gn}const Ci=le.get("age"),Tr=le.get("lifetime");if(Ci&&Tr)for(let wi=Nt;wi<At;wi++)Ci[wi]=Math.min(Ci[wi]+gn,Tr[wi]);qe.forEach(wi=>{wi(le,Nt,At,gn)}),Mn=!0}const Kn=le.get("dead"),ur=le.get("stopped");if(Kn||ur)for(let Vi=At-1;Vi>=Nt;Vi--)Kn&&Kn[Vi]?(mn(Vi),Mn=!0):ur&&ur[Vi]&&(on(Vi),Mn=!0);let or=1/0,vr=1/0,oi=1/0,_i=-1/0,Wr=-1/0,pi=-1/0;for(let Vi=0,Ci=3*Vi,Tr=Ci+1,wi=Ci+2;Vi<At;Vi++,Ci+=3,Tr+=3,wi+=3){const yi=d[Ci],ao=d[Tr],Xi=d[wi];yi<or&&(or=yi),ao<vr&&(vr=ao),Xi<oi&&(oi=Xi),yi>_i&&(_i=yi),ao>Wr&&(Wr=ao),Xi>pi&&(pi=Xi)}return(0,h.set)(this.bounds.min,or,vr,oi),(0,h.set)(this.bounds.max,_i,Wr,pi),Mn},this.reset=()=>{At=0,Nt=0},this.set=(_n,gn,Mn,Kn,ur)=>{const or=we.get(_n);or&&or.set&&or.set(gn,Mn,Kn,ur)},Object.defineProperties(this,{arrays:{get:()=>H},particles:{get:()=>At},active:{get:()=>At-Nt}})}}class Xo extends Jn{#e=!1;#t;subSystemIds;update;load;start;pause;reset;set;get;constructor(s,u){var d;super(null,null),d=this,this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/(s.spriteCols||1),1/(s.spriteRows||1)],this.#t=new wt;const S=new ps(s),H=this.geometry=new lt(S.arrays,S.bounds);H.name=s.id,H.topology=Ee.points,H.count=S.particles;let le=null;this.load=()=>(le||(le=wo(s,u).then(we=>{this.material=we})),le),this.update=we=>{this.#e||S.update(we)&&(H.count=S.particles,(0,h.copy)(H.bounds.min,S.bounds.min),(0,h.copy)(H.bounds.max,S.bounds.max),H.emit("change",{geometry:H,property:"attributes"}))},this.start=()=>{this.#e=!1},this.pause=()=>{this.#e=!0},this.reset=()=>{S.reset(),this.geometry.count=S.particles},this.set=(we,xe,Be,Le,qe)=>{S.set(we,xe,Be,Le,qe),void 0===Le&&void 0===qe?this.#t.set(we,xe,Be):this.#t.set(we,xe,[Be,Le,qe])},this.get=(we,xe)=>this.#t.get(we,xe);const oe=this.destroy;this.destroy=r(function*(){d.geometry?.destroy(),d.geometry=null,oe(),!d.material&&le&&(yield le),d.material?.destroy(),d.material=null}),Object.defineProperties(this,{id:{writable:!1,value:s.id},name:{writable:!1,value:s.name||""},subSystemIds:{writable:!1,value:S.subSystemIds},loaded:{get:()=>!!this.material},playBackRate:{get:()=>S.playBackRate,set:we=>{if(we<=0)throw new Error("Negative or zero playback rate not supported");S.playBackRate=we}},emissionAverage:{get:()=>S.emissionAverage,set(we){S.emissionAverage=we}},emissionVariance:{get:()=>S.emissionVariance,set(we){S.emissionVariance=we}}})}}const Ps={};function Gn(l,s){Ps[l]&&console.warn(`Worker '${l}' is already registered`,Ps[l]),Ps[l]=s}function Hn(l){const s=Ps[l];if(!s)throw new Error(`Worker ${l} is not registered.`);return s()}class Ir extends b{arrays={};particles=0;bounds=at()}class ri{add;remove;start;pause;reset;setPlayBackRate;setEmissionAverage;setEmissionVariance;set;destroy;constructor(){let s=null,u=0;const d=new Map;function S(){if(s){if(!d.size)return clearTimeout(u),void(u=setTimeout(S,5e3));s.terminate(),s.onmessage=null,s=null}}function H(oe){const{id:we,particles:xe,arrays:Be,bounds:Le}=oe.data,{emitter:qe}=d.get(we);qe.particles=xe,(0,h.copy)(qe.bounds.min,Le.min),(0,h.copy)(qe.bounds.max,Le.max);const pt=[],mt=[];Object.keys(Be).forEach(Ot=>{const{data:At,...Nt}=Be[Ot];if(qe.arrays[Ot]){if(xe>0){const mn=xe*(Nt.numComponents||3),on=At.subarray(0,mn);qe.arrays[Ot].data.subarray(0,mn).set(on)}}else qe.arrays[Ot]={...Nt,data:At.slice()};mt.push(At),pt.push(At.buffer)}),qe.emit("update"),s&&s.postMessage({command:"returnArrays",arrays:mt},pt)}function le(oe){const{command:we,id:xe}=oe.data;if("update"===we)H(oe);else if("create"===we){const Be=d.get(xe);H(oe),Be.resolved||(Be.resolved=!0,Be.resolve(Be.emitter))}}this.add=oe=>{const{id:we}=oe;if(d.has(we))return console.warn(`Simulation worker manager: Simulation already exists: '${we}'`),d.get(we).promise;let xe,Be;const Le=new Promise((qe,pt)=>{xe=qe,Be=pt});return(s||(s=Hn("simulation"),s.onmessage=le),s).postMessage({command:"create",id:we,def:oe}),d.set(we,{emitter:new Ir,resolve:xe,reject:Be,promise:Le,resolved:!1}),Le},this.remove=oe=>{d.has(oe)?(d.delete(oe),s&&(s.postMessage({command:"destroy",id:oe}),d.size||(clearTimeout(u),u=setTimeout(S,5e3)))):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.start=oe=>{d.has(oe)?s&&s.postMessage({command:"start",id:oe}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.pause=oe=>{d.has(oe)?s&&s.postMessage({command:"pause",id:oe}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.reset=oe=>{d.has(oe)?s&&s.postMessage({command:"reset",id:oe}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.setPlayBackRate=(oe,we)=>{d.has(oe)?s&&s.postMessage({command:"playBackRate",id:oe,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.setEmissionAverage=(oe,we)=>{d.has(oe)?s&&s.postMessage({command:"emissionAverage",id:oe,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.setEmissionVariance=(oe,we)=>{d.has(oe)?s&&s.postMessage({command:"emissionVariance",id:oe,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.set=(oe,we,xe,Be,Le,qe)=>{d.has(oe)?s&&s.postMessage({command:"set",id:oe,componentId:we,key:xe,x:Be,y:Le,z:qe}):console.warn(`Simulation worker manager: Simulation not found: '${oe}'`)},this.destroy=()=>{d.forEach(oe=>{oe.resolved||oe.reject(new Error("Simulation worker manager terminated."))}),d.clear(),S()}}}class si extends Jn{subSystemIds;#e;update;load;start;pause;reset;set;get;constructor(s,u,d){var S;super(null,null),S=this;const{id:H,name:le}=s;let oe=null;this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/s.spriteCols||1,1/s.spriteRows||1],this.subSystemIds=new Set([...s.creators.map(pt=>pt.id),...s.updaters?.map(pt=>pt.id)||[],...s.constraints?.map(pt=>pt.id)||[]].filter(pt=>"string"==typeof pt)),this.#e=new wt;let we=null;this.load=()=>(we||(we=Promise.all([wo(s,d),u.add(s)]).then(([pt,mt])=>{this.material=pt,oe=mt;const Ot=new lt(mt.arrays,mt.bounds);Ot.name=s.id,Ot.topology=Ee.points,Ot.count=mt.particles,oe.on("update",()=>{Ot.count=mt.particles,(0,h.copy)(Ot.bounds.min,mt.bounds.min),(0,h.copy)(Ot.bounds.max,mt.bounds.max),Ot.emit("change",{geometry:Ot,property:"attributes"})}),this.geometry=Ot})),we),this.update=()=>{},this.start=()=>u.start(H),this.pause=()=>u.pause(H),this.reset=()=>{u.reset(H),this.geometry&&(this.geometry.count=0)},this.set=(pt,mt,Ot,At,Nt)=>{u.set(H,pt,mt,Ot,At,Nt),void 0===At&&void 0===Nt?this.#e.set(pt,mt,Ot):this.#e.set(pt,mt,[Ot,At,Nt])},this.get=(pt,mt)=>this.#e.get(pt,mt);const xe=this.destroy;this.destroy=r(function*(){S.pause(),u.remove(H),xe(),we&&(yield we,S.geometry?.destroy(),S.geometry=null,S.material?.destroy(),S.material=null)});let Be=this.playBackRate,Le=this.emissionAverage,qe=this.emissionVariance;Object.defineProperties(this,{id:{writable:!1,value:H},name:{writable:!1,value:le||""},loaded:{get:()=>!!this.material},playBackRate:{get:()=>Be,set:pt=>{if(pt<=0)throw new Error("Negative or zero playback rate not supported");Be=pt,u.setPlayBackRate(H,Be)}},emissionAverage:{get:()=>Le,set(pt){Le=pt,u.setEmissionAverage(H,Le)}},emissionVariance:{get:()=>qe,set(pt){qe=pt,u.setEmissionVariance(H,qe)}}})}}const Xr={lights:[{lightId:"light0",params:{mode:"ambient",color:{r:.2,g:.2,b:.2,diffuse:!0}}},{lightId:"light1",params:{mode:"dir",dir:{x:1,y:0,z:-.5},color:{r:.1,g:.1,b:.2},diffuse:!0,specular:!0,space:"view"}},{lightId:"light2",params:{mode:"dir",dir:{x:-1,y:0,z:1},color:{r:.55,g:.5,b:.5},diffuse:!0,specular:!0,space:"view"}},{lightId:"light3",params:{mode:"dir",dir:{x:.25,y:0,z:-1},color:{r:.9,g:.9,b:.9},diffuse:!0,specular:!1,space:"view"}}]},ki=w(34525);function Ji(l,s,u){return l+u*(s-l)}function po(l,s,u,d){const S=1-d;return s+S*S*(l-s)+d*d*(u-s)}const Pi=[{name:"left",dim:0,direction:1},{name:"right",dim:0,direction:-1},{name:"bottom",dim:1,direction:1},{name:"top",dim:1,direction:-1},{name:"front",dim:2,direction:1},{name:"back",dim:2,direction:-1}];function os({clips:l,boundary:s,enabled:u}){if(!l||!1===u)return[];const{xmin:d=-1/0,xmax:S=1/0,ymin:H=-1/0,ymax:le=1/0,zmin:oe=-1/0,zmax:we=1/0}=s||{},xe=[S,le,we],Be=[d,H,oe],Le=[];return Pi.forEach(({name:qe,dim:pt,direction:mt})=>{const Ot=l[qe];if(!Ot?.enabled||!Ot?.progress&&!Ot?.fadeDistance)return;const At=(0,ki.create)();At[pt]=mt;const Nt=Ot.fade&&Ot.fadeDistance||0,on=Ji(Be[pt],xe[pt],mt>0?Ot.progress:1-Ot.progress)-Nt*mt;At[3]=-mt*on,Le.push({plane:At,fade:Nt})}),Le.sort((qe,pt)=>qe.fade-pt.fade),Le}function es(l,s,u){if(!l.length)return 0;const d=Math.max(l.length-1,0);let S=se(u,0,d);for(;S>0&&l[S].time>s;)S--;let H=S+1;for(;H<=d&&l[H].time<=s;)H++;return S=H-1,S}class rs{keyFrames=[];value={};targetData;keyFrameIndex=0;constructor(s){this.targetData=s}update(s){const{keyFrames:u}=this;if(!u.length)return;this.keyFrameIndex=se(es(u,s,this.keyFrameIndex),0,u.length-1);const{operations:d}=u[this.keyFrameIndex];for(const S in d)if(Object.prototype.hasOwnProperty.call(d,S)){const H=d[S];if(Array.isArray(H)){const le=H;for(let oe=0;oe<le.length;oe++){const we=le[oe],xe={};for(const Be of Object.keys(we))if("function"==typeof we[Be])xe[Be]=we[Be](s);else{xe[Be]={};for(const Le of Object.keys(we[Be]))xe[Be][Le]=we[Be][Le](s)}this.value[S][oe]=xe}}else{const le=this.value[S];for(const oe in H)if(Object.prototype.hasOwnProperty.call(H,oe)){const we=H[oe](s);le[oe]=we}}}}}function Fs(l,s,u,d){const S=s-l;if("object"!=typeof d){if(!S)return()=>d;const xe=d,Be="object"==typeof u?u.value:u;return Le=>{const qe=se((Le-l)/S,0,1);return Ji(Be,xe,qe)}}const H=d.value,le="object"==typeof u?u.value:u,[oe,we]=d.controlPoints.y;return xe=>{const Be=se((xe-l)/S,0,1);return mt=H,(1-(Ot=Be))*po(le,qe=oe,pt=we,Ot)+Ot*po(qe,pt,mt,Ot);var qe,pt,mt,Ot}}class Ro extends rs{constructor(s,u){super(s);const{keyFrames:d}=this,{targets:S,keys:H}=s;if(S.length<2)console.warn("Animations require at least two keyframes"+(u?`(${u})`:""));else for(let le=0,oe=1;oe<S.length;le++,oe++){const we=H[le],xe=H[oe],Be=S[oe],Le=S[le],qe=d[le]={time:we,endTime:xe,operations:{}};for(const pt in Be)if(Object.prototype.hasOwnProperty.call(Be,pt)){const mt=Be[pt];if(mt){const Ot=Array.isArray(mt);if(this.value[pt]=Ot?[]:{},Ot){const At=Be[pt],Nt=Le[pt],mn=qe.operations[pt]=[];for(let on=0;on<mt.length;on++){const _n={},gn=mt[on];for(const Mn of Object.keys(gn))if(_n[Mn]={},"number"==typeof At[on][Mn])_n[Mn]=Fs(we,xe,Nt[on][Mn],At[on][Mn]);else if("object"==typeof At[on][Mn])for(const Kn of Object.keys(gn[Mn]))_n[Mn][Kn]=Fs(we,xe,Nt[on][Mn][Kn],At[on][Mn][Kn]);mn.push(_n)}}else{const At=Be[pt],Nt=Le[pt],mn=qe.operations[pt]={};for(const on in mt)Object.prototype.hasOwnProperty.call(mt,on)&&(mn[on]=Fs(we,xe,Nt[on],At[on]))}}}}}}const Ms={x:0,y:1,z:2},gs=Math.PI/180,ha={translate(l,s,u){const d=Ms[s];return l.position[d]!==u&&(l.position[d]=u,!0)},scale(l,s,u){const d=Ms[s];return l.scale[d]!==u&&(l.scale[d]=u,!0)},pivot(l,s,u){const d=Ms[s];return l.origin[d]!==u&&(l.origin[d]=u,!0)},rotate(l,s,u){const d=Ms[s];return l.rotation[d]!==(u*=gs)&&(l.rotation[d]=u,!0)}};class Es extends Ro{sceneNode;constructor(s,u,d,S){super(s,d);const H=/[.-]/.test(s.objectId)?s.objectId:S+"-"+s.objectId,le=u.story.anatomySceneGraph.anatomyObjects.get(H);this.sceneNode=le?.sceneNode||null}update(s){if(this.sceneNode){super.update(s);for(const u in this.value)if(Object.prototype.hasOwnProperty.call(this.value,u)){const d=this.value[u],S=ha[u],H=this.value[u];for(const le in d)Object.prototype.hasOwnProperty.call(d,le)&&S(this.sceneNode,le,H[le])&&this.sceneNode.dirtyMatrix()}}}}function Vo(l,s){l[0]=s.r,l[1]=s.g,l[2]=s.b}const Ls=(l,s)=>{Vo(l.baseColor,s),l.emit("change",{material:l,property:"baseColor"})},_s=(l,s)=>{l.opacity=s.float},ea={baseColor:Ls,opacity:_s},ds={baseColor:Ls,opacity:_s,metallic(l,s){l.metallic=s.float},roughness(l,s){l.roughness=s.float},ior(l,s){l.ior=s.float},specularFactor(l,s){l.specularFactor=s.float},emissive(l,s){Vo(l.emissive,s),l.emit("change",{material:l,property:"emissive"})},specularColor(l,s){Vo(l.specularColor,s),l.emit("change",{material:l,property:"specularColor"})}},Vn={alphaColor(l,s){l.opacity=s.float},baseColor:Ls,emitColor(l,s){Vo(l.emitColor,s),l.emit("change",{material:l,property:"emitColor"})},specularColor(l,s){Vo(l.specularColor,s),l.emit("change",{material:l,property:"specularColor"})}};function Wn(l,s,u){for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&(0,l[d])(s,u[d])}class er extends Ro{materialId;story;constructor(s,u,d,S){super(s,d),this.materialId=S+"/"+s.targetId,this.story=u.story}update(s){const u=this.story.materials.get(this.materialId);u&&(super.update(s),u instanceof fn?Wn(ea,u,this.value):u instanceof cr?Wn(ds,u,this.value):u instanceof Yt&&Wn(Vn,u,this.value))}}const gr={blend:(l,s)=>l.blendFactor!==s.factor&&(l.blendFactor=s.factor,!0)};class ai extends Ro{materialId;story;textureLayer;textureMapType;constructor(s,u,d,S){super(s,d),this.materialId=S+"/"+s.materialId,this.story=u.story,this.textureLayer=s.targetLayer,this.textureMapType=s.textureMapType||""}update(s){const u=this.story.materials.get(this.materialId);if(!u)return;const d=u instanceof Yt?u.textures[this.textureLayer]:u[this.textureMapType]?.[this.textureLayer];if(d){super.update(s);for(const S in this.value)Object.prototype.hasOwnProperty.call(this.value,S)&&(0,gr[S])(d,this.value[S])&&u.emit("change",{material:u,property:"textures.blendFactor"})}}}const Ti=l=>(s,u,d,S)=>{const{x:H,y:le,z:oe,val:we,rmin:xe,rmax:Be}=u;void 0===H||isNaN(we)?s.modifiers.delete(d):s.modifiers.set(d,{applyTo:l,value:we,range:{center:[H,le,oe],minRadius:xe,maxRadius:Be},parent:S,priority:0})},Zi={tnt(l,s,u,d){const{x:S,y:H,z:le,r:oe,g:we,b:xe,rmin:Be,rmax:Le}=s;void 0===S||isNaN(oe)?l.modifiers.delete(u):l.modifiers.set(u,{applyTo:"tintColor",value:[oe,we,xe],range:{center:[S,H,le],minRadius:Be,maxRadius:Le},parent:d,priority:0})},brt:Ti("brightness"),sat:Ti("saturation"),o:Ti("opacity"),cst:Ti("contrast")};class go extends Ro{id;chapter;objects;constructor(s,u,d,S){super(s,d),this.id=d,this.objects=[],this.chapter=u;const{anatomyObjects:H}=u.story.anatomySceneGraph;(Array.isArray(s.objectIds)?s.objectIds:[s.objectId||""]).forEach(le=>{const oe=/[.-]/.test(le)?le:S+"-"+le,we=H.get(oe);we?this.objects.push(we):console.warn("missing tween target object: "+le)})}update(s){if(this.objects.length){super.update(s);for(const u in this.value)if(Object.prototype.hasOwnProperty.call(this.value,u)){const d=Zi[u],S=this.value[u],H=u+"-"+this.id;this.objects.forEach(le=>{d(le,S,H,this.chapter.contentNode)})}}}}const zi={alphaFresnel:!0,transparencyFresnel:!0,reflectionFresnel:!0,opacityFresnel:!0},Vt={bias(l,s,u){const d=l[u];let S=!1;return d&&(isNaN(s.center)||d.biasCenter===s.center||(d.biasCenter=s.center,S=!0),isNaN(s.edge)||d.biasEdge===s.edge||(d.biasEdge=s.edge,S=!0),isNaN(s.power)||d.power===s.power||(d.power=s.power,S=!0)),S},center(l,s,u){const d=l[u];if(d)if(u in zi)d.center=s.r;else if("number"!=typeof s){const S=d.center;S[0]=s.r,S[1]=s.g,S[2]=s.b}},edge(l,s,u){const d=l[u];if(d)if(u in zi)d.edge="number"==typeof s?s:s.r;else if("number"!=typeof s){const S=d.edge;S[0]=s.r,S[1]=s.g,S[2]=s.b}},gradientStops(l,s,u){const d=l[u];if(!d)return;const{gradientStops:S}=d;if(S)for(let H=0;H<S.length;H++){const le=s[H],oe=S[H];"color"in le?(oe.color[0]=le.color.r,oe.color[1]=le.color.g,oe.color[2]=le.color.b):oe.value=le.value,oe.position=le.position,oe.power=le.power}}};class an extends Ro{fresnelType;materialId;story;constructor(s,u,d,S){super(s,d),this.fresnelType=s.fresnelType,this.materialId=S+"/"+s.materialId,this.story=u.story}update(s){const u=this.story.materials.get(this.materialId);if(u){(d=u)[S=this.fresnelType]||(d[S]=zi[S]?{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:0,edge:0}:{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:(0,h.create)(),edge:(0,h.create)()},d.emit("change",{material:d})),super.update(s);for(const d in this.value)Object.prototype.hasOwnProperty.call(this.value,d)&&!1!==(0,Vt[d])(u,this.value[d],this.fresnelType)&&u.emit("change",{material:u,property:"fresnel"})}var d,S}}class un extends Ro{story;textureLayer;constructor(s,u,d){super(s,d),this.story=u.story}update(s){const{cameraController:u}=this.story;if(!u)return;super.update(s);const{eye:d,look:S,up:H}=this.value;if(d){const{x:le,y:oe,z:we}=d;u.setPosition(le*ge,oe*ge,we*ge)}if(S){const{x:le,y:oe,z:we}=S;u.setTarget(le*ge,oe*ge,we*ge),(0,h.copy)(u.center,u.target)}if(H){const{x:le,y:oe,z:we}=H;u.setUp(le,oe,we)}}}class ar extends rs{constructor(s,u){super(s);const{keyFrames:d}=this,{targets:S,keys:H}=s;if(S.length<2)console.warn("Animations require at least two keyframes"+(u?`(${u})`:""));else for(let le=0,oe=1;oe<S.length;le++,oe++){const xe=H[oe],Be=S[le],Le=S[oe],qe=d[le]={time:H[le],endTime:xe,operations:{}},pt=oe+1===S.length;for(const mt in Be)if(Object.prototype.hasOwnProperty.call(Be,mt)){const Ot=Be[mt];if(Ot){this.value[mt]={};const At=qe.operations[mt]={},Nt=Le[mt],mn=Be[mt];for(const on in Ot)if(Object.prototype.hasOwnProperty.call(Ot,on)){const _n=mn[on];if(pt){const gn=Nt[on];At[on]=Mn=>Mn>=xe?gn:_n}else At[on]=()=>_n}}}}}}function Er(l,s){s(l);for(let u=0;u<l.children.length;u++)Er(l.children[u],s)}const rr={shown(l,s,u,d){const{showObjects:S}=d;Er(l,H=>{!1!==S?.[H.objectId]&&u.push([H,s])})},pickable(l,s){Er(l,u=>u.pickable=s)}};class Rr extends ar{chapterDef;object;constructor(s,u,d,S){super(s,d);const H=/[.-]/.test(s.objectId)?s.objectId:S+"-"+s.objectId,{anatomyObjects:le}=u.story.anatomySceneGraph;this.chapterDef=u.definition,this.object=le.get(H)||null}update(s,u){if(!this.object||!this.value.attr)return;u&&!u.shownChanges&&(u.shownChanges=[]),super.update(s);const{attr:d}=this.value;for(const S in d)Object.prototype.hasOwnProperty.call(d,S)&&(0,rr[S])(this.object,d[S],u.shownChanges,this.chapterDef)}}class Pr extends Ro{chapter;particleSystemId;constructor(s,u,d){super(s,d);const S=u.id,H=u.story.module.tweenParticleLookup?.[S];this.particleSystemId=H?.[s.particleSystemId]||s.particleSystemId,this.chapter=u}update(s){const u=this.chapter.particleSystems.get(this.particleSystemId);if(u){super.update(s);for(const d in this.value.attr)Object.prototype.hasOwnProperty.call(this.value.attr,d)&&(u[d]=this.value.attr[d])}}}class ii extends Ro{chapter;particleSystemId;subSystemId;constructor(s,u,d){super(s,d);const S=u.id,H=u.story.module.tweenParticleLookup?.[S];this.particleSystemId=H?.[s.particleSystemId]||s.particleSystemId,this.chapter=u,this.subSystemId=s.componentId;const le=this.chapter.particleSystems.get(this.particleSystemId);le&&!le.subSystemIds.has(this.subSystemId)&&console.warn("Unknown particle sub-system",this.particleSystemId,this.subSystemId)}update(s){const u=this.chapter.particleSystems.get(this.particleSystemId);if(u){super.update(s);for(const d in this.value)if(Object.prototype.hasOwnProperty.call(this.value,d))if("attr"===d){const S=this.value.attr;for(const H in S)Object.prototype.hasOwnProperty.call(S,H)&&u.set(this.subSystemId,H,S[H])}else{const S=this.value[d];void 0!==S.x&&u.set(this.subSystemId,d,S.x,S.y,S.z)}}}}const zr={objectXForm:Es,material:er,texture:ai,objectAttr:go,fresnel:an,particleSystem:Pr,particleComponent:ii,camera:un},Ni={tween:zr,lerp:zr,switch:{objectAttr:Rr}},to={switch:{objectAttr:function(l){const{shownChanges:s}=l;if(s){const u=new Map;for(let d=0;d<s.length;d++){const[S,H]=s[d];H&&u.has(S)||u.set(S,H)}u.forEach((d,S)=>{S.shown=d}),s.length=0}}}};class ho{currentTime;root;duration;destroy;constructor(s){const{story:u,timelineMap:d}=s,{anatomyObjects:S}=s.story.anatomySceneGraph;let H=0,le=0;this.root=u.contentNode;const oe={},we={},xe=new Map,Be=()=>{H=Array.from(xe.values()).reduce((on,_n)=>Math.max(on,_n.end),0),le>H&&(le=H)},Le={},qe=new Set;function pt(on){we[on.timelineId]?.forEach(gn=>{Object.entries(gn.tweens||{}).forEach(([Mn,Kn])=>{const[ur,or]=Kn.type.split(":");if(Ni[ur]){const vr=Ni[ur][or];if(!vr)throw new Error("Unsupported tween type: "+or);const oi=to[ur]?.[or];oi&&qe.add(oi);const _i=new vr(Kn,s,Mn,on.timelineId);on.tweens.push(_i)}else console.warn(`"${ur}" animations not implemented yet.`,Kn)})})}function mt(on,_n){const{start:gn,end:Mn,data:Kn}=on,{start:ur,end:or,fit:vr,onEnd:oi}=Kn,_i={start:gn,end:Mn,inPoint:ur,outPoint:or,fit:vr,onEnd:oi,tweens:[],timelineId:Kn.timeline,morphRenderables:oe[Kn.timeline]||null};xe.set(_n,_i),pt(_i)}function Ot(){Object.keys(s.tweens).forEach(on=>{const _n=on.replace(/\/.*/,"");let gn=we[_n];we[_n]||(gn=we[_n]=[]),gn.push(s.tweens[on])}),xe.forEach(pt),s.active&&At()}function At(){xe.forEach(on=>{const{fit:_n,onEnd:gn,start:Mn,end:Kn,inPoint:ur,outPoint:or}=on;if(le<Mn||le>Kn)return;const vr=or-ur,oi=_n?vr/(Kn-Mn):1;let _i=(le-Mn)*oi+ur;const Wr=oi>=0?or:ur,pi=oi>=0?ur:or;var Vi,Ci;_i>Wr&&(_i="loop"===gn?(Ci=vr,(Vi=_i-pi)-Math.floor(Vi/Ci)*Ci+pi):Wr),on.tweens.forEach(Tr=>Tr.update(_i,Le)),qe.forEach(Tr=>Tr(Le)),on.morphRenderables&&on.morphRenderables.forEach(Tr=>{const{meshNode:wi}=Tr;if(!wi)return;const{morphKeys:yi}=wi.geometry;if(!yi.length)return console.warn(`Animation clip ${on.timelineId} is missing morph data for ${Tr.morphId}`),void on.morphRenderables.delete(Tr);const ao=se(es(yi,_i,wi.morphKeyIndex),0,yi.length-2),Xi=yi[ao].time,gi=se((_i-Xi)/(yi[ao+1].time-Xi),0,1);wi.morphKeyIndex=ao,wi.morphFactor=gi})})}function Nt(){s.tweens&&(s.off("progress",Nt),Ot())}function mn(on){const _n=xe.has(on),gn=d.get(on);gn?mt(gn,on):_n&&xe.delete(on),_n?Be():H=Math.max(H,gn.end),At()}S.forEach(on=>{on.renderables.forEach(_n=>{const{morphId:gn}=_n;if(gn){const Mn=gn.replace(/\/.*$/,"");oe[Mn]||(oe[Mn]=new Set),oe[Mn].add(_n)}})}),s.tweens?Ot():s.on("progress",Nt),s.on("activate",At),d.on("change",mn),d.forEach(mt),Be(),Object.defineProperties(this,{currentTime:{get:()=>le,set(on){(on=se(on,0,this.duration))!==le&&(le=on,s.active&&At())}},duration:{get:()=>H}}),this.destroy=()=>{d.off("change",mn),s.off("progress",Nt),s.off("activate",At)},At()}}function co(l,s,u){if("string"==typeof s&&(s=s.split(".")),!s.length)return l;const[d,...S]=s;if(!S.length)return l[d]=u,l;let H=l[d];return H||(H=l[d]={}),co(H,S,u),l}function _o(l,s={}){return l&&Object.keys(l).forEach(u=>{co(s,u,l[u])}),s}const Oo={"annotations.margins":{top:80,left:50,right:50,bottom:50},"annotations.labelWidth":120,"annotations.horizontalLines":!1,"annotations.fadeoutAngle":100,"annotation.layout.labelWidth":100,"annotations.layout.type":"draggable","camera.optics.near":.1,"camera.optics.far":5e3,"camera.optics.fov":55,"camera.zoomLimits":{max:300,min:.01},"fog.color":[1,1,1],"fog.density":.01,"fog.enabled":!1,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.mode":1,"fog.start":0,"timeline.autoPlay.enabled":!1,"timeline.autoPlay.type":"play","timeline.chapterCamerasEnabled":!0,"timeline.prevNextMode":"scrub","ui.mouseWheel.capture":!0,"ui.zoom.mouseWheel.enabled":!0};let vo=function(l){return l.Alpha="alpha",l.ImprovedAlpha="improvedAlpha",l.AddAlpha="addAlpha",l.AlphaToCoverage="alphaToCoverage",l}({}),Yo=function(l){return l[l.LeftClip=0]="LeftClip",l[l.RightClip=1]="RightClip",l[l.BottomClip=2]="BottomClip",l[l.TopClip=3]="TopClip",l[l.FrontClip=4]="FrontClip",l[l.BackClip=5]="BackClip",l}({}),Je=function(l){return l[l.Linear=1]="Linear",l[l.Exponential=2]="Exponential",l[l.ExponentialSquared=3]="ExponentialSquared",l}({});class Kt extends Me{castShadow;type;color;diffuse;specular;innerCone;outerCone;constantAttenuation;linearAttenuation;quadraticAttenuation;viewSpace;constructor(s){const{castShadow:u=!0,type:d="dir",color:S,diffuse:H,specular:le,innerCone:oe,outerCone:we,constantAttenuation:xe,linearAttenuation:Be,quadraticAttenuation:Le,...qe}=s||{};super(qe),this.castShadow=u,this.type=d,this.color=void 0===S?(0,h.fromValues)(1,1,1):(0,h.clone)(S),this.diffuse=H??!0,this.specular=le??!0,this.innerCone=oe??.25,this.outerCone=we??0,this.constantAttenuation=xe??0,this.linearAttenuation=Be??0,this.quadraticAttenuation=Le??0,this.viewSpace=qe.viewSpace||!1}}class Ke extends Me{castShadow;type="";intensity;color;constructor(s){const{castShadow:u=!0,intensity:d,color:S,...H}=s||{};super(H),this.castShadow=u,this.intensity=d??1,this.color=void 0===S?(0,h.fromValues)(1,1,1):(0,h.clone)(S)}}class L extends Ke{constructor(s){super(s),this.type="ambient"}}class de extends Ke{constructor(s){super(s),this.type="directional"}}class O extends Ke{constructor(s){super(s),this.type="point"}}class ie extends Ke{outerConeAngle;penumbraAngle;constructor(s){const{outerConeAngle:u,penumbraAngle:d,...S}=s||{};super(S),this.type="spot",this.outerConeAngle=u??Math.PI/4,this.penumbraAngle=d??0}}const X={ambient:L,directional:de,point:O,spot:ie},Ye=Math.PI/180;function zn(){let l,s;return{promise:new Promise((u,d)=>{l=u,s=d}),resolve:l,reject:s}}function hr(l,...s){return(...u)=>l(...s,...u)}const Li=(0,F.create)(),$i=(0,F.create)();function hi(l,s,u){l.updateWorldMatrix();const d=$.get();(0,h.add)(d,l.position,l.origin),l.parent&&(0,h.transformMat4)(d,d,l.parent.worldMatrix),(0,F.targetTo)(Li,d,s,u),l.parent&&((0,F.invert)($i,l.parent.worldMatrix),(0,F.multiply)(Li,$i,Li)),$.release(d),(0,F.getRotation)(l.quaternion,Li),(0,U.normalize)(l.quaternion,l.quaternion),"euler"===l.rotationSource&&Q(l.rotation,Li),l.dirtyMatrix(),l.updateWorldMatrix()}function Gr(l,s,u){if(s.parent){const d=$.get();s.updateWorldMatrix(),(0,F.getTranslation)(d,s.worldMatrix),hi(l,d,u),$.release(d)}else hi(l,s.position,u)}class et extends Me{up;near;far;projectionMatrix;worldMatrixInverse;projectionDirty;dirtyProjection;updateProjectionMatrix;constructor(s={}){const{up:u,near:d,far:S,...H}=s;super(H),this.up=(0,h.create)(),B(this.up,u||[0,1,0]),this.near=d??.5,this.far=S??100,this.projectionMatrix=(0,F.create)(),this.worldMatrixInverse=(0,F.create)();const le=this.updateWorldMatrix;this.updateWorldMatrix=()=>le(()=>{(0,F.invert)(this.worldMatrixInverse,this.worldMatrix)})}lookAt(s){hi(this,s,this.up)}}class rn extends et{aspect;fov;constructor(s={}){const{aspect:u,fov:d,...S}=s;super(S),this.aspect=u??1,this.fov=d??30*Math.PI/180;let H=!0;this.dirtyProjection=()=>{H=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{H&&(0,F.perspective)(this.projectionMatrix,this.fov,this.aspect,this.near,this.far),H=!1},Object.defineProperties(this,{dirty:{get:()=>H||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>H}})}}function It(l,s=l.properties){const{cameraController:u,camera:d}=l.story,{optics:S,zoomLimits:H}=s.camera;d instanceof rn&&(d.fov=S.fov*Math.PI/180),d.far=S.far*ge,d.near=S.near*ge,d.dirtyProjection(),u.minDistance=H.min*ge,u.maxDistance=H.max*ge}function P(l,s){return N.apply(this,arguments)}function N(){return(N=r(function*(l,s){yield Promise.all(Array.from(s).map(u=>u.load()))})).apply(this,arguments)}class Pe extends b{clear;forEach;has;add;delete;size;entries;keys;values;[Symbol.iterator];[Symbol.toStringTag];constructor(s,u){super();const d=new Set,S=!!(u?.clone??1),H=S&&!!(u?.freeze??S);if(this.forEach=(le,oe)=>(d.forEach((we,xe)=>le.call(oe,we,xe,this)),this),this.has=le=>d.has(le),this.entries=()=>d.entries(),this.keys=()=>d.keys(),this.values=()=>d.values(),this[Symbol.iterator]=()=>d[Symbol.iterator](),this[Symbol.toStringTag]=d[Symbol.toStringTag],this.clear=()=>{const le=Array.from(d.keys());d.clear();for(const oe of le)this.emit("delete",oe);return this},this.delete=le=>!!d.has(le)&&(d.delete(le),this.emit("delete",le),!0),this.add=le=>(d.has(le)||(S&&(le=Et(le)),H&&vn(le),d.add(le),this.emit("add",le)),this),Object.defineProperties(this,{size:{get:()=>d.size}}),s)for(const le of s)this.add(le)}}const tt=new Set(["transform"]),xt=new Map([["shown",{tableProp:"showObjects",defaultValue:!1}],["pickable",{tableProp:"pickThroughObjects",transform:l=>!l,defaultValue:!0}],["occludesMarkers",{tableProp:"labelOccludingObjects",defaultValue:"auto",transform:l=>!0===l?"always":!1===l?"never":"auto"}]]),Wt=["opacity","saturation","brightness","contrast","tintColor"];function ln(l,s,u,d,S,H=null){let le=!1;return u?.forEach(oe=>{const{objectId:we}=oe,xe={};l.set(we,xe);const Be=d?.[we];xt.forEach(({tableProp:Le,transform:qe,defaultValue:pt},mt)=>{const Ot=s[Le]||S?.[Le],At=Ot&&we in Ot?qe?qe(Ot[we]):Ot[we]:Be?.[mt]??tt.has(mt)?void 0:H?.[mt];At!==pt&&void 0!==At&&(xe[mt]=At)}),Wt.forEach(Le=>{const qe=Be?.[Le]??H?.[Le];(qe||0===qe)&&(xe[Le]=qe)}),ln(l,s,oe.objects,d,S,xe)&&(xe.shown=!0),le=le||!0===xe.shown}),le}function Ln(l,s){const u=new Map;return ln(u,s,l.sceneGraph,s.synchronization,l),u}function $n(l,s){const u=[];for(let d=0;d<l;d++)u.push(s(d));return u}class pr extends b{irradianceMode;intensity;quaternion;irradianceCoefficients;specularTexture;irradianceTexture;constructor(s){super();let u=s?.intensity??1,d=s?.specularTexture||null,S=s?.irradianceTexture||null,H=s?.irradianceMode||(s.irradianceTexture?"image":"parametric");this.quaternion=(0,U.create)(),s?.quaternion&&(0,ki.copy)(this.quaternion,s.quaternion),this.irradianceCoefficients=$n(9,h.create),s?.irradianceCoefficients&&s.irradianceCoefficients.forEach((le,oe)=>{(0,h.copy)(this.irradianceCoefficients[oe],le)}),Object.defineProperties(this,{intensity:{get:()=>u,set:le=>{le!==u&&(u=le,this.emit("change",{property:"intensity"}))}},irradianceMode:{get:()=>H,set:le=>{le!==H&&(H=le,this.emit("change",{property:"irradianceMode"}))}},specularTexture:{get:()=>d,set:le=>{le!==d&&(d=le,this.emit("change",{property:"specularTexture"}))}},irradianceTexture:{get:()=>S,set:le=>{le!==S&&(S=le,this.emit("change",{property:"irradianceTexture"}))}}})}update(s){this.emit("change",s?{property:s}:{})}}function dr(l,s){s(l),l.children.forEach(u=>dr(u,s))}class Mr extends b{id;name;description;index;story;contentNode;environmentNode;properties;background;transparencyMode;fallbackTransparency;ui;clippingPlanes;definition;environment={};tweens=null;particleSystemIds;particleSystems;timelineMap;postProcess;loadProgress;active;animationSystem;physicalImageLight;toneMapping;load;activate;deactivate;reset;start;stop;update;cancelLoading;constructor(s,u,d,S){var H;super(),H=this,this.name=u.displayName||"Chapter"+(S??""),this.description=u.description||"",this.id=u.id||(s.module.moduleId||"chapter")+(S??""),this.index=S??-1,this.definition=u;const le=new Set,oe=new Set,we=this.contentNode=new Me({name:this.name+": content"}),xe=this.environmentNode=new Me({name:this.name+": environment"});this.properties=function(Or,ci={}){return _o(Oo,ci),_o(Or,ci),ci}(u.properties),this.clippingPlanes=new ae(os(u.clippingPlanes||{})),this.background=Et(u.background||null),this.transparencyMode=u.transparencyMode||vo.Alpha,this.fallbackTransparency=u.fallbackTransparency||vo.Alpha,this.timelineMap=new In(u.timelineMap?.map((Or,ci)=>[Or.id||String(ci),Or])),this.postProcess=Et(u.customData?.postprocess||[]);const Be=this.particleSystems=new Map,Le=this.particleSystemIds=new Pe(u.customData?.particleSystems),qe=new Set(u.timelineMap?.map(({data:Or})=>Or.timeline));this.ui=Et(u.ui||{}),this.ui.play||(this.ui.play={}),"count"in this.ui.play||(this.ui.play.count=qe.size>0?s.module.animation?.loop?-1:1:0);let pt,mt,Ot=!1,At=!1,Nt=null,mn=!1,on=0,_n=0,gn=null,Mn=zt,Kn=s.anatomySceneGraph.anatomyObjects.size;function ur(Or){mt&&mt(Or),mt=void 0,pt=void 0,Nt=null}Object.defineProperties(this,{loadProgress:{get:()=>on},active:{get:()=>Ot},physicalImageLight:{get:()=>gn},toneMapping:{get:()=>Mn},story:{value:s,writable:!1}});const or=()=>{const Or=oe.size,ci=oe.size-le.size,oo=Be.size,vs=Array.from(Be.values()).filter(_a=>_a.loaded).length,$s="environment"in u&&Object.keys(u.environment||{}).length||0,Qs=this.environment?$s:0,ra=s.module.assetLibraries?.tweens?.length||0,Ka=this.tweens?ra:0,Qa=Or+oo+$s+ra+("lights"in u&&u.lights?.libraries?.length||1),la=Qa?(ci+vs+Qs+Ka+_n)/Qa:1;on!==la&&(on=la,this.emit("progress"))};function vr(Or){return oi.apply(this,arguments)}function oi(){return oi=r(function*(Or){const ci="default"===Or?Xr:yield d.getAssetLibrary("lights",Or,"outline");if(ci.lights.forEach(oo=>{(function(l){const{displayName:s,lightId:u}=l,d=s||u;if("params"in l){const{params:le}=l,{color:oe,dir:we,pos:xe,mode:Be,space:Le,...qe}=le,pt=new Kt({name:d,...qe,type:Be});if(oe){const{r:mt,g:Ot,b:At}=oe;(0,h.set)(pt.color,mt,Ot,At)}if("dir"===Be){if(we){const{x:mt,y:Ot,z:At}=we;(0,h.set)(pt.position,-mt,-Ot,-At),pt.dirtyMatrix()}}else{if(xe){const{x:mt,y:Ot,z:At}=xe;(0,h.set)(pt.position,mt,Ot,At),pt.dirtyMatrix()}if("spot"===Be&&we){const mt=[0,0,0],Ot=[0,0,0],At=[0,0,-1],{x:Nt,y:mn,z:on}=we;(0,h.set)(Ot,Nt,mn,on),(0,h.normalize)(Ot,Ot),(0,h.cross)(mt,At,Ot),Math.abs((0,h.dot)(mt,mt))<ce&&(0,h.set)(mt,0,1,0);const _n=Math.acos((0,h.dot)(At,Ot));(0,U.setAxisAngle)(pt.quaternion,mt,_n)}}return pt.viewSpace="view"===Le,pt}const S=Qt(l.color),H=l.rotation?{x:l.rotation.x*Ye,y:l.rotation.y*Ye,z:l.rotation.z*Ye}:void 0;return new X[l.type]({...l,name:d,color:S,rotation:H})}(oo)).parent=xe}),"physicalImageLight"in ci&&ci.physicalImageLight){const{imageLightId:oo,intensity:vs,rotation:$s}=ci.physicalImageLight,Qs=yield d.loadImageLight(oo);if(Qs&&(gn=new pr({...Qs,intensity:vs}),$s)){const{x:ra,y:Ka,z:Qa}=$s;(0,U.fromEuler)(gn.quaternion,ra,Ka,Qa),gn.update("quaternion")}}Mn="toneMapping"in ci?ci.toneMapping:zt,_n++,or()}),oi.apply(this,arguments)}const _i=function(){var Or=r(function*(){if("lightLibraryId"in u)return void(u.lightLibraryId&&(yield vr(u.lightLibraryId)));const ci=new Set(u.lights?.libraries||[]);!ci.size&&s.module.assetLibraries?.lights&&s.module.assetLibraries?.lights.forEach(oo=>ci.add(oo)),ci.size||ci.add("default"),yield Promise.all([d.loadReflections(u.environment).then(oo=>{H.environment=oo,or()}),...Array.from(ci).map(vr)])});return function(){return Or.apply(this,arguments)}}(),Wr=hr(P,this,le),pi=new Map;function Vi(Or){const ci=Le.has(Or)&&s.particleSystemDefs.get(Or),oo=d.createParticleSystem(ci);pi.has(Or)||pi.set(Or,Kn++),oo.renderOrder=pi.get(Or),Be.set(Or,oo),mn&&oo.load().then(()=>{oo.parent=we,or()}),At&&oo.start()}function Ci(Or){const ci=Be.get(Or);ci&&(ci.destroy(),Be.delete(Or)),s.particleSystemDefs.has(Or)?Le.has(Or)&&Vi(Or):Le.delete(Or),or(),Be.forEach(oo=>oo.reset())}s.particleSystemDefs.on("change",Ci),Le.on("add",Or=>{if(!s.particleSystemDefs.has(Or))throw new Error(`Unknown particle system '${Or}'`);Ci(Or)}),Le.on("delete",Ci);const Tr=Ln(s.module,u),wi=Or=>{const{object:ci}=Or;ci.loaded&&(ci.off("load",wi),le.delete(ci),or())},yi=Or=>{const{property:ci,object:oo}=Or;"shown"!==ci&&"variant"!==ci||(oo.shown?(oe.add(oo),oo.loaded||(le.add(oo),oo.on("load",wi),or(),mn&&oo.load())):(oe.delete(oo),le.delete(oo)))};s.anatomySceneGraph.anatomyObjects.forEach(Or=>{Or.on("load",wi),!0===Tr.get(Or.objectId)?.shown&&(le.add(Or),oe.add(Or))}),s.module.customData?.particleSystems?.forEach(Or=>{Le.has(Or.id)&&Vi(Or.id)});const ao=new ho(this);Object.defineProperty(this,"animationSystem",{value:ao,writable:!1});const Xi=function(){var Or=r(function*(){try{yield Promise.all([d.loadTweenLibraries().then(ci=>{H.tweens=ci,or()}),Wr(),Promise.all(Array.from(Be.values()).map(ci=>ci.load().then(()=>{ci.parent=we,or()}))),_i()]),or(),pt()}catch(ci){ur(ci)}});return function(){return Or.apply(this,arguments)}}(),ns=hr(It,this);this.load=()=>{if(!Nt){mn=!0;const{promise:Or,resolve:ci,reject:oo}=zn();Nt=Or,pt=ci,mt=oo,_n=0,xe.children.forEach(vs=>{(vs instanceof Kt||vs instanceof Ke)&&xe.remove(vs)}),Xi()}return Nt},this.cancelLoading=()=>{mn&&(mn=!1,ur(new Error("Loading canceled")))},this.reset=()=>{s.anatomySceneGraph.anatomyObjects.forEach(Or=>Or.reset(Tr.get(Or.objectId))),this.particleSystems.forEach(Or=>Or.reset()),ns(),this.animationSystem.currentTime=0},this.activate=()=>{Ot||(Ot=!0,this.reset(),s.anatomySceneGraph.anatomyObjects.forEach(Or=>Or.on("change",yi)),this.emit("activate"))},this.deactivate=()=>{Ot&&(this.stop(),s.anatomySceneGraph.anatomyObjects.forEach(Or=>Or.off("change",yi)),Ot=!1,this.emit("deactivate"))},this.start=()=>{At||(At=!0,Ot&&Be.forEach(Or=>Or.start()))},this.stop=()=>{At&&(At=!1,Be.forEach(Or=>Or.pause()))},this.update=Or=>{Be.forEach(ci=>ci.update(Or))};const gi=this.destroy;this.destroy=()=>{this.deactivate(),this.cancelLoading(),gn?.destroy(),gn=null,dr(xe,Or=>{Or.destroy()}),ao.destroy(),we.destroy(),xe.destroy(),this.clippingPlanes.destroy(),le.clear(),oe.clear(),s.anatomySceneGraph.anatomyObjects.forEach(Or=>Or.off("change",wi)),s.particleSystemDefs.off("change",Ci),this.particleSystems.forEach(Or=>Or.destroy()),this.particleSystems.clear(),this.environment=null,this.tweens=null,this.emit("destroy"),gi()}}}function yr(l){return l}function Qr(l,s,u=yr){return kt((d,...S)=>l.getAsset(s,d).then(H=>H?u(H,d,...S):null))}function Fi(l){return l instanceof ArrayBuffer?[l]:[]}function qt(l,s=Fi){let u,d=0,S=0,H=0;const le={};function oe(){if(clearTimeout(H),u){if(S)return void(H=setTimeout(oe,8e3));u.terminate(),u.onmessage=null,u=null}}const we=xe=>{const Be=xe.data;if(!Be)return;const Le=le[Be.requestId];Le&&(delete le[Be.requestId],S--,Be.error?(console.error("Web Worker error",Be.error.stack),Le.reject(new Error(Be.error.message))):Le.resolve(Be.resource))};return function(xe){u||(u=l(),u.onmessage=we);const Be=new Promise((qe,pt)=>{le[d]={resolve:qe,reject:pt}}),Le=s(xe);return u.postMessage({requestId:d,options:xe},Le),d++,S++,clearTimeout(H),H=setTimeout(oe,8e3),Be}}const Fn=qt(()=>Hn("geometry"));function qn(){return qn=r(function*(l,s){const u=yield(H=l,le=s,Fn({...H,options:le})),d={...u.attributes};var H,le;u.indices&&(d.indices=u.indices);const S=new lt(d,u.boundary);return S.name=l.geometryId,S.topology=u.primitive||Ee.triangles,"morphKeys"in u?S.morphKeys=u.morphKeys:l.morphId&&console.warn("Morph asset not found: "+l.morphId),S}),qn.apply(this,arguments)}class jr{#e=new Map;inc(s){const u=this.get(s)+1;return this.#e.set(s,u),u}dec(s){const u=this.get(s)-1;if(u<0)throw new Error("Count is below zero");return u?this.#e.set(s,u):this.#e.delete(s),u}get(s){return this.#e.get(s)||0}delete(s){this.#e.delete(s)}}const bi=Math.PI/180;function Oi(l,{x:s=0,y:u=0,z:d=0}){(0,h.set)(l,s,u,d)}function xi(l,s){let u=!1;if(s?.rotate){const{x:d,y:S,z:H}=s.rotate;H&&(u=!0,l.rotation[2]=H*bi),S&&(u=!0,l.rotation[1]=S*bi),d&&(u=!0,l.rotation[0]=d*bi)}s?.scale&&(u=!0,function(d,{x:S=1,y:H=1,z:le=1}){(0,h.set)(d,S,H,le)}(l.scale,s.scale)),s?.translate&&(u=!0,Oi(l.position,s.translate)),s?.pivot&&(u=!0,Oi(l.origin,s.pivot)),s?.constraints?.copyRotation&&l.constraints.push({type:"copyRotation"}),s?.constraints?.copyPosition&&l.constraints.push({type:"copyPosition"}),u&&l.dirtyMatrix()}const Ei=["opacity","saturation","brightness","contrast","tintColor"];function ji(){return ji=r(function*({materialId:l,geometryId:s,morphId:u,layer:d},S){const{loadMaterial:H,loadObjectGeometry:le,timelineIds:oe,materialOptions:we,loadAllMorphs:xe}=S;if(u&&!xe){const Be=u.replace(/\/.*$/,"");oe.has(Be)||(u="")}try{const[Be,Le]=yield Promise.all([H(l,we),le(s,u||"")]);if(!Le)return console.warn("Geometry asset not found: "+s),null;if(!Be)return console.warn("Material asset not found: "+l),null;const qe=new Un(Le,Be);return d&&(qe.layer=d),function(pt){const mt=[];return"textures"in pt.material&&pt.material.textures.length&&pt.geometry.topology!==Ee.points&&!pt.geometry.attributes.texcoord&&mt.push("Material has textures that cannot be displayed without UV coordinates."),mt}(qe).forEach(pt=>console.warn(pt,qe)),qe}catch(Be){return console.warn("Error loading renderable",Be),null}}),ji.apply(this,arguments)}function No(l){return 0!==l[0]||0!==l[1]||0!==l[2]}class mo extends b{objectId;displayName;layer;renderOrder=0;shown;selected;pickable=!0;occludesMarkers="auto";transformId;children;parent=null;sceneNode;renderables;variants;modifiers;variant;variantCount;loaded;transformLoaded;loadTransform;load;reset;constructor(s,u){var d;super(),d=this;let S=!1,H=!1,le=!1,oe=!1,we=s.layer||0,xe=null,Be=new In(void 0,{clone:!1}),Le=0;const qe=[],{loadTransform:pt,...mt}=u;if(this.objectId=s.objectId,this.displayName=s.displayName||"",this.transformId=s.transformId||"",this.children=[],this.sceneNode=new Me({name:this.displayName,rotationSource:"euler"}),this.variants=[],s.variants)s.variants.forEach(Mn=>{this.variants.push(Mn.map(Kn=>({meshNode:null,...Kn})))});else if(this.variants.push(s.renderables?.map(Mn=>({meshNode:null,...Mn}))||[]),s.geometryId){const{geometryId:Mn,materialId:Kn,morphId:ur}=s;this.variants[0].unshift({geometryId:Mn,materialId:Kn,morphId:ur,meshNode:null})}this.variants.forEach((Mn,Kn)=>{qe[Kn]=!1});const Ot=(Mn,Kn,ur)=>{const{meshNode:or}=Mn;if(or){if(!ur||"modifier"===ur){or.modifiers.clear();for(const[oi,_i]of this.modifiers)or.modifiers.set(oi,_i)}if(or.layer=Mn.layer??we,or.visible=S,or.parent=Kn===Le?this.sceneNode:null,(!ur||"selected"===ur||"modifier"===ur)&&or.modifiers.has("__HIGHLIGHT:contrast")!==H)if(H){let oi=1e7;or.modifiers.set("__HIGHLIGHT:contrast",{applyTo:"contrast",value:-.5,priority:oi++}),or.modifiers.set("__HIGHLIGHT:brightness",{applyTo:"brightness",value:.15,priority:oi++}),or.modifiers.set("__HIGHLIGHT:saturation",{applyTo:"saturation",value:-1,priority:oi++}),or.modifiers.set("__HIGHLIGHT:tintColor",{applyTo:"tintColor",value:gt,priority:oi++})}else or.modifiers.delete("__HIGHLIGHT:tintColor"),or.modifiers.delete("__HIGHLIGHT:saturation"),or.modifiers.delete("__HIGHLIGHT:brightness"),or.modifiers.delete("__HIGHLIGHT:contrast")}},At=Mn=>{const Kn="variant"===Mn;this.variants.forEach((ur,or)=>{ur.forEach(vr=>{Ot(vr,or,Kn?"":Mn)})})},Nt=kt(r(function*(){xe=yield pt(d.transformId),xi(d.sceneNode,xe)}));this.loadTransform=r(function*(){const Mn=[];d.transformId&&Mn.push(Nt()),d.parent&&Mn.push(d.parent.loadTransform()),yield Promise.all(Mn),le=!0,d.variants.forEach((Kn,ur)=>{Kn?.length||(qe[ur]=!0)}),d.emit("loadtransform",{object:d})});const mn=kt(function(){var Mn=r(function*(Kn){const ur=d.variants[Kn];if(!ur)throw new Error("Variant index out of range");const or=yield Promise.all(ur.map(vr=>function Ho(l,s){return ji.apply(this,arguments)}(vr,mt)));or.forEach((vr,oi)=>{vr&&(vr.name=oi||1!==ur.length?d.displayName+" "+oi:d.displayName,d.sceneNode.add(vr),ur[oi].meshNode=vr,vr.renderOrder=d.renderOrder+oi/or.length,Ot(ur[oi],Kn))}),qe[Kn]=!0,d.emit("load",{object:d})});return function(Kn){return Mn.apply(this,arguments)}}()),on=()=>mn(Le);this.load=r(function*(){oe=!0,yield d.loadTransform(),yield on()}),this.reset=Mn=>{!function(vr,oi){vr.modifiers||(vr.modifiers=new In(void 0,{clone:!1}));const{modifiers:_i}=vr;Ei.forEach(Wr=>{const pi=oi[Wr];if(void 0!==pi)if("object"==typeof pi&&!Array.isArray(pi)&&"priority"in pi)_i.set(Wr,"value"in pi?{applyTo:Wr,priority:pi.priority,value:"number"==typeof pi.value?pi.value:[pi.value.r,pi.value.g,pi.value.b]}:{applyTo:Wr,priority:pi.priority,fresnel:{center:"number"==typeof pi.center?pi.center:[pi.center.r,pi.center.g,pi.center.b],edge:"number"==typeof pi.edge?pi.edge:[pi.edge.r,pi.edge.g,pi.edge.b],centerBias:pi.centerBias,edgeBias:pi.edgeBias,power:pi.power}});else if(Array.isArray(pi)&&5===pi.length){const[Vi,Ci,Tr,wi,yi]=pi;_i.set(Wr,{applyTo:Wr,fresnel:{center:Vi,edge:Ci,centerBias:Tr,edgeBias:wi,power:yi}})}else _i.set(Wr,{applyTo:Wr,value:pi});else _i.delete(Wr)}),vr.shown=oi.shown??!1,vr.pickable=oi.pickable??!0,vr.selected=oi.selected??!1,vr.occludesMarkers=oi.occludesMarkers??"auto"}(this,Mn);const{sceneNode:Kn}=this;var ur,or;No(Kn.position)&&((0,h.zero)(Kn.position),Kn.dirtyMatrix()),(1!==(ur=Kn.scale)[0]||1!==ur[1]||1!==ur[2])&&((0,h.set)(Kn.scale,1,1,1),Kn.dirtyMatrix()),"euler"===Kn.rotationSource?No(Kn.rotation)&&((0,h.zero)(Kn.rotation),Kn.dirtyMatrix()):(0!==(or=Kn.quaternion)[0]||0!==or[1]||0!==or[2]||1!==or[3])&&((0,U.identity)(Kn.quaternion),Kn.dirtyMatrix()),xi(Kn,s),xe&&xi(Kn,xe),this.variants.forEach(vr=>{vr.forEach(oi=>{oi.meshNode&&(oi.meshNode.morphFactor=0,oi.meshNode.morphKeyIndex=-1)})})};const _n=this.destroy;this.destroy=()=>{this.variants.forEach(Mn=>{Mn.forEach(Kn=>Kn?.meshNode?.destroy())}),this.sceneNode.destroy(),this.parent=null,this.emit("destroy",{object:this}),_n()};const gn=Mn=>{const Kn=Be.get(Mn);this.variants[Le].forEach(Kn?or=>or.meshNode?.modifiers.set(Mn,Kn):or=>or.meshNode?.modifiers.delete(Mn)),this.emit("change",{object:this,property:"modifier"})};Be.on("change",gn),Object.defineProperties(this,{shown:{get:()=>S,set:Mn=>{S!==Mn&&(S=Mn,At("shown"),this.emit("change",{object:this,property:"shown"}))}},layer:{get:()=>we,set:Mn=>{we!==Mn&&(we=Mn,At("layer"),this.emit("change",{object:this,property:"layer"}))}},selected:{get:()=>H,set:Mn=>{H!==Mn&&(H=Mn,At("selected"),this.emit("change",{object:this,property:"selected"}))}},variant:{get:()=>Le,set:Mn=>{Le!==Mn&&(Le=Mn,At("variant"),oe&&on(),this.emit("change",{object:this,property:"variant"}))}},variantCount:{writable:!1,value:this.variants.length},renderables:{get:()=>this.variants[Le]},modifiers:{get:()=>Be,set:Mn=>{Be!==Mn&&(Be&&Be.off("change",gn),Be=Mn,Be&&Be.on("change",gn),At("modifier"))}},loaded:{get:()=>le&&qe[Le]},transformLoaded:{get:()=>le}}),At(),xi(this.sceneNode,s)}}function ts(l,s,u=null,d=0){for(let S=0;S<l.length;S++){const H=l[S],le=s(H,u,d++);H.objects&&(d=ts(H.objects,s,le,d))}return d}class Ts{name;anatomyRoots;anatomyObjects;sceneNode;findAnatomyObject;destroy;constructor(s,u){const{name:d,...S}=u;this.name=d||"",this.anatomyRoots=[];const H=this.anatomyObjects=new Map,le=new Map,oe=this.sceneNode=new Me({name:this.name||"Anatomy Scene Graph"});ts(s.sceneGraph,(we,xe,Be)=>{const{objectId:Le}=we,qe=new mo(we,S);return H.set(Le,qe),qe.renderOrder=Be,le.set(qe.sceneNode,qe),qe.parent=xe,qe.sceneNode.parent=xe?xe.sceneNode:oe,xe?xe?.children.push(qe):this.anatomyRoots.push(qe),void 0===we.layer&&xe&&(qe.layer=xe.layer),qe}),this.findAnatomyObject=we=>we instanceof ct?this.findAnatomyObject(we.parent):le.get(we)||null,this.destroy=()=>{oe.destroy(),H.forEach(we=>we.destroy()),H.clear(),le.clear(),this.anatomyRoots.length=0}}}class Qo{get;release;destroy;constructor(s){const{release:u,create:d,key:S,timeout:H=5e3}=s,le=new Map,oe=new wt,we=new Map,xe=new Map,Be=new Set,Le=new Set;let qe=0;function pt(){clearTimeout(qe),Be.forEach(mt=>{le.delete(mt.key),Be.delete(mt),u&&(S?u(mt.resource,mt.key):u(mt.resource,...we.get(mt.key)))}),Le.forEach(mt=>{const Ot=we.get(mt);Ot&&(oe.delete(...Ot),we.delete(mt))}),Le.clear(),qe=0}this.get=(...mt)=>{let Ot=oe.get(...mt);Ot||(Ot=Symbol(),oe.set(...mt,Ot),we.set(Ot,mt)),Le.delete(Ot);const At=S?S(...mt):Ot;let Nt=le.get(At);return Nt?(Be.delete(Nt),qe&&!Be.size&&(clearTimeout(qe),qe=0)):(Nt={key:At,clients:new Set,resource:d(...mt)},le.set(At,Nt)),Nt.clients.add(Ot),xe.set(Ot,Nt),Nt.resource},this.release=(...mt)=>{const Ot=oe.get(...mt);if(!Ot)return;const At=xe.get(Ot);At&&(At.clients.delete(Ot),xe.delete(Ot),S&&oe.delete(...mt),Le.add(Ot),At.clients.size||(Be.add(At),qe||(qe=setTimeout(pt,H))))},this.destroy=()=>{oe.forEach((mt,...Ot)=>{this.release(...Ot)}),pt()}}}class Go extends ft{source;data;levels;format;sizeDynamic;dynamic;valid;update;constructor(s,u){super(u);const d=new _e(s,u);Object.defineProperties(this,{source:{value:d.source,writable:!1},data:{value:d.data,writable:!1},levels:{value:d.levels,writable:!1},format:{value:d.format,writable:!1},width:{get:()=>d.width},height:{get:()=>d.height},sizeDynamic:{get:()=>d.sizeDynamic},dynamic:{get:()=>d.dynamic},valid:{get:()=>d.valid}}),d.on("resize",()=>{this.emit("resize",{texture:this})}),d.on("update",()=>{this.emit("update",{texture:this})}),d.on("destroy",()=>{this.emit("destroy",{texture:this})}),this.update=d.update;const S=this.destroy;this.destroy=()=>{d.destroy(),S()}}}const Ea=qt(()=>Hn("texture")),Gs=typeof createImageBitmap<"u";function oa(l,s){return Sa.apply(this,arguments)}function Sa(){return Sa=r(function*(l,s){if(Gs)try{const d="bottom-up"===s.rowOrder,S=d?void 0:"flipY",H=yield createImageBitmap(l,{imageOrientation:S}),le=new Go(H,{...s,rowOrder:d?"bottom-up":"top-down"});return le.on("destroy",()=>{H.close()}),le}catch{}const u=URL.createObjectURL(l);try{const d=yield V(u),S=new Go(d,{rowOrder:s.rowOrder||"bottom-up",...s});return S.on("destroy",()=>{URL.revokeObjectURL(u)}),S}catch(d){console.warn("Failed to load uncompressed texture",d),URL.revokeObjectURL(u)}return null}),Sa.apply(this,arguments)}const Ja=[{format:"bc1-rgba-unorm",fileExtension:"dds",fileNamePostfix:"-dxt1.dds"},{format:"pvrtc-rgb4unorm",fileExtension:"pvr",fileNamePostfix:"-pvrtc.pvr"},{format:"etc2-rgb8unorm",fileExtension:"pvr",fileNamePostfix:"-etc1.pvr"}];class gc extends b{get;release;constructor(s){super();const{timeout:u,...d}=s,S=new WeakMap,H=new Qo({key:(oe,we)=>we,create:(oe,we)=>{const xe=(Be=r(function*(Le,qe){const{textureFormats:pt,server:mt,...Ot}=qe||{};if(mt?.loadImage){const mn=yield mt.loadImage(Le);if(mn)return new Go(mn,{name:Le,...Ot,rowOrder:"bottom-up"})}const At=Le.replace(/(\.jpg|\.jpeg|\.png)$/,"");for(let mn=0;mn<Ja.length&&_t;mn++){const{fileExtension:on,format:_n,fileNamePostfix:gn}=Ja[mn];if(pt?.includes(_n)){const Mn=At+gn;try{const Kn=yield mt.fetch(Mn,"texture"),ur=yield Kn.blob(),or=yield Ea({blob:ur,type:on});if(or){const{levels:vr,format:oi}=or;return"top-down"===Ot.rowOrder&&console.warn("Compressed textures cannot be flipped"),new Go(vr,{name:Le,...Ot,rowOrder:"bottom-up",format:oi})}}catch(Kn){console.warn("Failed to load texture",Kn)}}}const Nt=yield mt.fetch(Le,"texture");return oa(yield Nt.blob(),{name:Le,...Ot})}),function(Le,qe){return Be.apply(this,arguments)})(we,d);var Be;return xe.then(Be=>{S.set(xe,Be),Be&&this.emit("create",{texture:Be})}),xe},release:oe=>{const we=oe?S.get(oe):null;we&&(we.destroy(),S.delete(oe),this.emit("release",{texture:we}))},timeout:u});this.get=H.get,this.release=H.release;const le=this.destroy;this.destroy=()=>{H.destroy(),le()}}}const $a=[{format:"astc-6x6-hdr",fileNamePostfix:"-astc-6x6-hdr.pvr"},{format:"bc6h-rgb-ufloat",fileNamePostfix:"-bc6h.ktx2"},{format:"rgb9e5ufloat",fileNamePostfix:"-rgb9e5.pvr"},{format:"rgba16float",fileNamePostfix:"-rgbd.pvr"}],Pa=function(){var l=r(function*(s,u,d=(S=>S.replace(/.*\.([\w\d]+)$/,"$1"))(u)||"pvr"){const S=yield s.fetch(u,"image-light"),H=yield S.blob(),le=yield Ea({blob:H,type:d}),{faces:oe,format:we}=le;if(!oe||6!==oe.length)throw new Error("Cube maps need exactly six faces.");return new Z(oe,{name:u,format:we})});return function(u,d){return l.apply(this,arguments)}}();class Wi extends b{get;release;constructor(s){super();let u=!1;const{server:d,timeout:S,textureFormats:H}=s,le=new WeakMap,oe=new Qo({create:xe=>{const Be=(Le=r(function*(qe,pt,mt){const Ot=yield Promise.all(["specular","diffuse-irradiance"].map(function(){var mn=r(function*(on){const _n=`/content/states/${pt.replace(/\.hdr$/,"")}-${on}`;for(let gn=0;gn<$a.length;gn++){const{format:Mn,fileNamePostfix:Kn}=$a[gn];try{if(mt.includes(Mn))return yield Pa(qe,_n+Kn)}catch(ur){console.warn("Failed to load environment light image",ur)}}return null});return function(on){return mn.apply(this,arguments)}}())),[At,Nt]=Ot;return At&&Nt?{specularTexture:At,irradianceTexture:Nt}:(console.warn("Missing image-based light component"),null)}),function(qe,pt,mt){return Le.apply(this,arguments)})(d,xe,H);var Le;return Be.then(Le=>{if(u)throw Le?.irradianceTexture.destroy(),Le?.specularTexture.destroy(),new Error("Canceled loading image light textures.");le.set(Be,Le),this.emit("create",Le)}),Be},release:xe=>{const Be=xe?le.get(xe):null;Be&&(Be.irradianceTexture.destroy(),Be.specularTexture.destroy(),le.delete(xe),this.emit("release",Be))},timeout:S});this.get=oe.get,this.release=oe.release;const we=this.destroy;this.destroy=()=>{u=!0,oe.destroy(),we()}}}class fo{loadReflections;loadObjectGeometry;createParticleSystem;loadTweenLibraries;loadTransform;getAssetLibrary;loadImageLight}class ko extends b{contentNode;environmentNode;anatomySceneGraph;materials;activeChapter;activeChapterIndex;module;chapters;server;camera;cameraController;particleSystemDefs;variants;playBackRate;activateChapter;createChapter;start;stop;update;constructor(s,u,d){let S=!1;super(),this.server=s,this.contentNode=new Me({scale:[ge,ge,ge],name:"BioDigitalStory content",rotationSource:"euler"}),this.environmentNode=new Me({scale:[ge,ge,ge],name:"BioDigitalStory environment",rotationSource:"euler"});const{camera:H,textureFormats:le,baseUrl:oe,loadAllMorphs:we,...xe}=d||{};this.camera=H||new rn,this.cameraController=new He(this.camera),H||this.environmentNode.add(this.camera);let Be=1,Le=-1,qe=null,pt=!1,mt=null;this.module=u;const Ot=this.materials=new Map,At=new gc({server:s,textureFormats:le}),Nt=new Wi({server:s,textureFormats:le}),mn=Qr(s,"transform"),on=kt((gi,Or,ci)=>s.getAssetLibrary(d?.baseUrl||"",gi,Or,ci)),_n={baseUrl:oe,server:s,textureCache:At,getAssetLibrary:on},gn=Qr(s,"material",function(){var gi=r(function*(Or,ci){const oo=yield Co(Or,ci,_n);return Ot.set(ci,oo),oo.on("destroy",()=>Ot.delete(ci)),oo});return function(Or,ci){return gi.apply(this,arguments)}}()),Mn=kt(gi=>Te(on,oe||"",gi,s)),Kn=kt(function(gi,Or){const ci=Qr(gi,"geometry"),oo=Qr(gi,"morph");return function(){var vs=r(function*($s,Qs){const ra=[ci($s,Or).catch(Qa=>(console.error("Error loading geometry "+$s,Qa),null))];Qs&&ra.push(oo(Qs,Or).catch(Qa=>(console.error("Error loading morph "+Qs,Qa),null)));const Ka=yield Promise.all(ra);return Ka?.[0]?function En(l,s){return qn.apply(this,arguments)}({geometryId:$s,morphId:Qs,buffers:{geometry:Ka[0],morph:Ka[1]||null}},Or):null});return function($s,Qs){return vs.apply(this,arguments)}}()}(s,xe));let ur=null;const or=new Set;this.particleSystemDefs=new In(u.customData?.particleSystems?.map(gi=>[gi.id,gi]));const vr=gi=>{or.delete(gi.node),gi.node.off("destroy",vr),!or.size&&ur&&(ur.destroy(),ur=null)},oi=(gi,Or)=>{const ci=u.variantSchemas?.[gi];if(!ci)throw new Error(`Missing variant schema '${gi}'`);const oo=ci.themes[Or];if(!oo)throw new Error(`Invalid index for variant schema '${gi}'`);for(const vs in oo.objectVariants)if(Object.prototype.hasOwnProperty.call(oo.objectVariants,vs)){const $s=oo.objectVariants[vs],Qs=this.anatomySceneGraph.anatomyObjects.get(vs);Qs&&(Qs.variant=$s)}};let _i=null;const Wr={loadReflections:(gi=r(function*(Or){const ci={lightMap:null,reflectionMap:null};return yield Promise.all(["lightMap","reflectionMap"].map(function(){var oo=r(function*(vs){const $s=Or?.[vs],Qs=$s?.[0];if(Qs)try{ci[vs]=yield Mn(Qs)}catch(ra){console.error("Error loading reflection map: "+vs,ra)}});return function(vs){return oo.apply(this,arguments)}}())),ci}),function(ci){return gi.apply(this,arguments)}),loadObjectGeometry:Kn,createParticleSystem:gi=>{let Or=null;const ci={..._n,loadMaterial:gn};return Ne?(ur||(ur=new ri),Or=new si(gi,ur,ci)):Or=new Xo(gi,ci),or.add(Or),Or.on("destroy",vr),Or},loadTweenLibraries:()=>{if(!_i)if(u.assetLibraries?.tweens){const gi={};_i=Promise.all(u.assetLibraries.tweens.map(Or=>s.getAssetLibrary(oe||"","animations",Or,"manifest").then(ci=>{gi[Or]=ci}).catch(ci=>{console.error("Error loading tween library: "+Or,ci)}))).then(()=>gi)}else _i=Promise.resolve({});return _i},loadTransform:mn,getAssetLibrary:on,loadImageLight:gi=>Nt.get(gi)},pi=new Set(u.chapters.map(gi=>gi.timelineMap?.map(({data:Or})=>Or.timeline)).reduce((gi,Or)=>Or?[...gi,...Or]:gi,[]));var gi;this.anatomySceneGraph=new Ts(u,{loadTransform:Wr.loadTransform,loadObjectGeometry:Wr.loadObjectGeometry,loadMaterial:gn,timelineIds:pi,loadAllMorphs:we,materialOptions:_n}),this.variants=new In(Object.entries(u.variantSchemas||{}).map(([gi,Or])=>[gi,Or.defaultSelection||0])),this.variants.on("change",gi=>{oi(gi,this.variants.get(gi)??0)}),this.variants.forEach((gi,Or)=>{oi(Or,gi)});const Vi=[],Ci=new Set,Tr=gi=>{gi.deactivate(),this.contentNode.remove(gi.contentNode),this.environmentNode.remove(gi.environmentNode)},wi=new jr,yi=gi=>{wi.dec(gi)||(qe===gi&&(this.anatomySceneGraph.sceneNode.parent=null,Tr(gi),qe=null,Le=-1),gi.index=-1)},ao=new Ie(Vi,{deleteProperty:(gi,Or)=>(yi(gi[Or]),gi[Or]=void 0,!0),set:(gi,Or,ci)=>{if(ci===gi[Or])return!0;if(!ci||Or>gi.length)throw new Error("Missing elements in chapters array is not allowed");if(!Ci.has(ci))throw new Error("Attempt to insert invalid chapter into array");const oo=gi[Or];return gi[Or]=ci,ci.index=Or,wi.inc(ci),oo&&yi(oo),qe===ci&&(Le=Or),!0}}),Xi=gi=>{const Or=Vi[gi];if(Or===qe)return Le=gi,void(qe=Or);const ci=Le>=0&&Vi[Le]||null;ci&&(Tr(ci),this.contentNode.remove(ci.contentNode),this.environmentNode.remove(ci.environmentNode)),Or?(this.contentNode.add(this.anatomySceneGraph.sceneNode),this.contentNode.add(Or.contentNode),this.environmentNode.add(Or.environmentNode),Le=gi,qe=Or,Or.activate(),pt&&Or.start()):(this.contentNode.remove(this.anatomySceneGraph.sceneNode),Le=-1,qe=null),ci!==Or&&this.emit("changechapter",Le)};this.activateChapter=function(){var gi=r(function*(Or){if(!(Or>=0)||Or>=Vi.length)throw new Error(`BioDigitalStory: chapter index ${Or} not found.`);const ci=Vi[Or];return mt=ci,yield ci.load(),S||mt!==ci||Xi(ci.index),ci});return function(Or){return gi.apply(this,arguments)}}(),this.createChapter=(gi,Or=Vi.length)=>{if(Or>Vi.length)throw new Error("Missing elements in chapters array is not allowed.");const ci=new Mr(this,gi,Wr,Or);return ci.on("destroy",()=>{const oo=Vi.indexOf(ci);oo>=0&&this.chapters.splice(oo,1),Ci.delete(ci)}),Ci.add(ci),this.chapters.splice(Or,0,ci),Or},this.start=()=>{pt||(pt=!0,qe?.start())},this.stop=()=>{pt&&(pt=!1,qe?.stop())},this.update=gi=>{qe?.update(gi)};const ns=this.destroy;this.destroy=()=>{S||(this.stop(),S=!0,Le=-1,Vi.length=0,Ci.forEach(gi=>gi.destroy()),or.forEach(gi=>gi.destroy()),or.clear(),this.particleSystemDefs.destroy(),this.variants.destroy(),ur&&(ur.destroy(),ur=null),this.anatomySceneGraph.destroy(),H||this.camera.destroy(),Ot.forEach(gi=>gi.destroy()),Ot.clear(),At.destroy(),Nt.destroy(),this.emit("destroy"),ns())},Object.defineProperties(this,{chapters:{writable:!1,value:ao},playBackRate:{get:()=>Be,set:gi=>{if(gi<=0)throw new Error("Negative or zero playback rate not supported");Be=gi,or.forEach(Or=>Or.playBackRate=Be)}},activeChapterIndex:{get:()=>Le},activeChapter:{get:()=>qe}}),u.chapters.forEach((gi,Or)=>{this.createChapter(gi,Or)})}}class ks extends b{root;has;size;constructor(s=null){super();const u=new Set,{emit:d}=this;function S(xe){xe.parent&&u.has(xe.parent)||oe(xe.node)}function H(xe){le(xe.child)}function le(xe){xe&&!u.has(xe)&&(xe.on("parent",S),xe.on("add",H),u.add(xe),xe.children.forEach(le),d("add",xe))}function oe(xe){xe&&u.has(xe)&&!u.has(xe.parent)&&(xe.off("parent",S),xe.off("add",H),u.delete(xe),xe.children.forEach(oe),d("remove",xe))}Object.defineProperties(this,{root:{get:()=>s,set:xe=>{xe!==s&&(oe(s),le(s=xe))}},size:{get:()=>u.size}}),this.has=xe=>u.has(xe);const we=this.destroy;this.destroy=()=>{this.root=null,we()},le(s)}}class as{dirty;sortDirty;filterDirty;size;filteredSize;queued;has;add;delete;update;dirtySort;dirtyFilter;clear;[Symbol.iterator];constructor(s={}){const{sort:u,sortCallback:d,filter:S,autoUpdate:H=!0}=s,le=new Set,oe=new Set,we=[];let xe=!1,Be=!1;this.has=Le=>le.has(Le),this.queued=Le=>(H&&this.update(),oe.has(Le)),this.add=Le=>{le.has(Le)||(le.add(Le),S&&!S(Le)||(we.push(Le),oe.add(Le),xe=!0))},this.delete=Le=>{le.has(Le)&&(le.delete(Le),oe.delete(Le))},this.update=(...Le)=>{if(S&&Be)for(const qe of le)S(qe,...Le)?oe.has(qe)||(we.push(qe),oe.add(qe),xe=!0):oe.delete(qe);for(let qe=we.length-1;qe>=0&&we.length>oe.size;qe--){const pt=we[qe];le.has(pt)&&oe.has(pt)||we.splice(qe,1)}Be=!1,xe&&(u?u(we,...Le):d&&we.sort(d),xe=!1)},this[Symbol.iterator]=()=>(H&&this.update(),we[Symbol.iterator]()),this.dirtySort=()=>{xe=!0},this.dirtyFilter=()=>{Be=!0},this.clear=()=>{le.clear(),oe.clear(),we.length=0,xe=!1,Be=!1},Object.defineProperties(this,{dirty:{get:()=>xe||Be},sortDirty:{get:()=>xe},filterDirty:{get:()=>Be},size:{get:()=>le.size},filteredSize:{get:()=>(H&&this.update(),oe.size)}})}}function sa(l,s){if(!l)return 0;const u=l?.attributes?.position?.data?.length||0,{indices:d}=l;if(d&&(!1!==s||l.count!==d.length)){const S=new Set;for(let H=l.offset,le=l.offset+l.count;H<le;H++)S.add(d[H]);return S.size}return Math.min(u/3,l.count)}const Ds=w(30559),Bs=6408,v=5120,j=5121,I=5122,re=5123,Ze=5124,Dt=5125,Zt=5126,nr=36249,Ur=33319,Jr=33320,Kr=36244,va={bool:35670,int:Ze,uint:Dt,float:Zt,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676},Bi=l=>Array.isArray(l)?l:[l],ql=/^\s*uniform(?:\s+(lowp|mediump|highp))?\s+([\w_][\w\d_]+)\s+([\w_][\w\d_]+)(?:\[((?:0x)?\d)+u?\])?;$/i;let fs=function(l){return l.vert="vert",l.frag="frag",l}({});function hc(l,s,u,d={}){const S={vert:new Map,frag:new Map},H={vert:{extensions:[],declare:[],main:[]},frag:{extensions:[],declare:[],main:[]}},le={};function oe(mt){return(Ot,At,Nt)=>xe(Nt||mt,Ot,At)}const we={vert:oe(fs.vert),frag:oe(fs.frag)};function xe(mt,Ot,At){const Nt=isNaN(At)?Ot:`${Ot}[${At}]`;if(S[mt].has(Nt))return S[mt].get(Nt)||"key";let mn=l[Ot];if(!mn)throw new Error(`Unknown reference: '${Ot}'`);"function"==typeof mn&&(mn=mn(mt,At,d,we[mt])||{}),"string"==typeof mn&&(mn={declare:[mn]});const on=mn.symbol||Nt;if(S[mt].set(Nt,on),mn.requires&&Bi(mn.requires).forEach(_n=>{_n!==Ot&&xe(mt,_n)}),mn.extensions){const _n=Bi(mn.extensions);H[mt].extensions.push(..._n)}if(mn.declare&&Bi(mn.declare).forEach(_n=>{"string"==typeof _n&&(_n={define:_n});const{define:gn,type:Mn,...Kn}=_n,ur=gn&&ql.exec(gn),or=_n.uniform||ur&&ur[3];if(or){const vr=void 0!==_n.count?_n.count:ur&&ur[4]?parseInt(ur[4]):1,oi=Mn||ur&&ur[2];le[or]={name:or,...Kn,count:vr,typeName:oi},"string"==typeof oi&&va[oi]&&(le[or].type=va[oi])}gn&&H[mt].declare.push(gn)}),mn.main){const _n=Bi(mn.main);H[mt].main.push(..._n)}return on}const Be=s[fs.vert](we.vert),Le=s[fs.frag](we.frag),qe=Bi(Be),pt=Bi(Le);return H.vert.main.push(...qe),H.frag.main.push(...pt),{vert:u(H.vert),frag:u(H.frag),uniforms:le}}const yc={webGlVersion:2,precision:"highp",textureLODext:!1};function Ua(l,s,u){return(d,S,H)=>({declare:`${H?.webGlVersion>=2?void 0!==u?`layout(location = ${u}) in`:"in":"attribute"} ${l} ${s};`,symbol:s})}function ma(l){return l.replace(/^(\w)/,s=>"v"+s.toUpperCase())}function Ll(l,s,u,d,S){const H=d?.webGlVersion>=2?l===fs.frag?"in":"out":"varying";return void 0===S&&/^((u?int)|ivec[2-4])$/.test(s)&&(S="flat"),S&&(S+=" "),`${S||""}${H} ${s} ${u};`}function Jo(l,s,u=ma(s),d){return function(S,H,le,oe){const we=isNaN(H)?u:u+H;return S===fs.frag?{declare:[Ll(S,l,we,le,d)],symbol:oe(u,H,fs.vert)}:{declare:[Ll(S,l,we,le,d)],main:[`${we} = ${oe(s,H)};`]}}}const Ta={uint:"x",int:"x",float:"r",vec2:"rg",vec3:"rgb",vec4:"rgba"},tc={};function Lc(l){const s=`sampleBatchMatrix${l}`,u="vec"+l,d=Ta[u];return{[s]:`mat${l} ${s}(sampler2D sampler, uint index, uint offset) {\n\t\t\t\t${$n(l,S=>`\n\t\t\t\t\tivec2 coord${S} = ivec2(offset + ${S}u, index);\n\t\t\t\t\t${u} row${S} = texelFetch(sampler, coord${S}, 0).${d};\n\t\t\t\t`).join("\n")}\n\t\t\t\treturn mat${l}(${$n(l,S=>"row"+S).join(", ")});\n\t\t\t}`}}function Ko(l,s,u=!0,d=s,S){const H=/^mat([2-4])$/.exec(l),le=/\[\d+\]$/.test(s),oe=H&&parseInt(H[1],10),we=u?"MaterialSampler":"ModelSampler",xe=H?`vec${oe}${we}`:l+we,Be=d+"SamplerOffset",Le=s.replace(/\[\d+\]$/,"");return S||(S=ma(Le)),{[S]:Jo(l,Le,S),[Be]:{declare:{define:`uniform uint ${Be};`,samplerOffsetTarget:d}},[d]:(qe,pt,mt,Ot)=>{const At=isNaN(pt)||le?Le:Le+pt,Nt=le?s:At;if(mt?.multiDraw&&(!u||mt?.multiMaterial)){if(H){if(qe===fs.frag)return{symbol:Ot(S,pt)};const on=Ot(u?"materialId":"gl_DrawID");return{declare:{uniform:Nt,type:l,multiDraw:u?"material":"model"},main:`${l} ${At} = ${Ot(`sampleBatchMatrix${oe}`)}(${Ot(xe)}, ${on}, ${Ot(Be)});`}}const mn=Ot(u?"materialSampleOffset":"modelSampleOffset");return{declare:{uniform:Nt,type:l,multiDraw:u?"material":"model"},symbol:`texelFetch(${Ot(xe)}, ivec2(${Ot(Be)}, ${mn}), 0).${Ta[l]}`}}return{declare:`uniform ${l} ${Nt};`,symbol:At}}}}Object.keys(Ta).forEach(l=>{const s=l+"ModelSampler";tc[s]=`uniform sampler2D ${s};`;const u=l+"MaterialSampler";tc[u]=`uniform sampler2D ${u};`});const bc={vDrawId:Jo("uint","gl_DrawID","vDrawId","flat"),gl_DrawID:(l,s,u,d)=>u?.multiDraw?l===fs.frag?{symbol:d("vDrawId")}:{extensions:"#extension GL_ANGLE_multi_draw : require",symbol:"uint(gl_DrawID)"}:{symbol:"0"},vMaterialId:Jo("uint","materialId","vMaterialId","flat"),materialId:(l,s,u,d)=>u?.multiDraw?l===fs.frag?{symbol:d("vMaterialId")}:{declare:"uniform mediump usampler2D materialId;",symbol:`texelFetch(materialId, ivec2(0, ${d("modelSampleOffset")}), 0).x`}:{symbol:"0"},vModelSampleOffset:Jo("uint","modelSampleOffset"),modelSampleOffset:(l,s,u,d)=>l===fs.frag?{symbol:d("vModelSampleOffset")}:{main:[`uint modelSampleOffset = ${d("gl_DrawID")};`]},vMaterialSampleOffset:Jo("uint","materialSampleOffset"),materialSampleOffset:(l,s,u,d)=>l===fs.frag?{symbol:d("vMaterialSampleOffset")}:{symbol:d("materialId")},...tc,...Lc(2),...Lc(3),...Lc(4)};let nc=function(l){return l.add="add",l.multiply="multiply",l}({});const rc={value:"GradientValue",position:"GradientPosition",power:"GradientPower",size:"GradientStopsLength"},Dc={baseColorFresnel:!1,baseColorFresnelBlendMode:nc.multiply,baseColorFresnelLength:0,opacityFresnel:!1,opacityFresnelBlendMode:nc.multiply,opacityColorFresnelLength:0},Ul=(l,s,u,d,S,H)=>{const le=[],oe=[],we=[];for(let mt=0;mt<d;mt++){const Ot=H(`${l}${rc.value}`,mt),At=H(`${l}${rc.position}`,mt),Nt=H(`${l}${rc.power}`,mt);le.push(Ot),oe.push(At),we.push(Nt)}const Be=[],Le=[],qe=[`${s} result = ${le[0]};`];for(let mt=1;mt<le.length;mt++){const At=`t${mt} = pow(t${mt}, ${we[mt-1]});`,Nt=`result = mix(result, ${le[mt]}, t${mt});`;Be.push(`float t${mt} = clamp((nDotV - ${oe[mt-1]}) / (${oe[mt]} - ${oe[mt-1]}), 0.0, 1.0);`),Le.push(At),qe.push(Nt)}const pt="add"===S[l+"BlendMode"]?"+":"*";return`${s} ${u}(in ${s} value, in vec3 eyeDir, in vec3 viewNormal) {\n\t\tfloat nDotV = abs(dot(viewNormal, eyeDir));\n\t\t${Be.join("\n\t\t")}\n\t\t${Le.join("\n\t\t")}\n\t\t${qe.join("\n\t\t")}\n\t\treturn value ${pt} result;\n\t}`},au=(l,s,u,d,S)=>{const H="float"===s?"":".rgb",le="add"===d[l+"BlendMode"]?"+":"*",oe=`${l}BiasEdge`,we=`${l}BiasCenter`,xe=`${l}Power`,Be=`${l}Edge`,Le=`${l}Center`;return`${s} ${u}(${s} value, vec3 eyeDir, vec3 viewNormal) {\n\t\tfloat amount = ${S("fresnel")}(eyeDir, viewNormal, ${S(oe)}, ${S(we)}, ${S(xe)});\n\t\treturn value${H} ${le} mix(${S(Be)}${H}, ${S(Le)}${H}, amount);\n\t}`};function rd(l,s,u){return(d,S,H,le)=>{const oe=H[l+rc.size];return oe>0?Ul(l,s,u,oe,H,le):au(l,s,u,H,le)}}function fc(l,s){const u="float"===s?`${l}Value`:`${l}Color`;return{[u]:rd(l,s,u),...Ko(s,l+"Center"),...Ko(s,l+"Edge"),...Ko("float",l+"BiasCenter"),...Ko("float",l+"BiasEdge"),...Ko("float",l+"Power"),...Ko(s,l+rc.value),...Ko("float",l+rc.position),...Ko("float",l+rc.power)}}const id={...fc("baseColorFresnel","vec3"),...fc("opacityFresnel","float"),fresnel:"float fresnel(vec3 eyeDir, vec3 normal, float edgeBias, float centerBias, float power) {\n\t\tfloat fr = abs(dot(eyeDir, normal));\n\t\tfloat finalFr = clamp((fr - edgeBias) / (centerBias - edgeBias), 0.0, 1.0);\n\t\treturn pow(finalFr, power);\n\t}"},Jc={modifiers:[]},Fd={...id,...Ko("vec3","modifierCenter",!1),...Ko("vec2","modifierRadius",!1),...Ko("vec3","modifierColorValue",!1),...Ko("float","modifierValue",!1),...Ko("vec3","modifierFresnelCenter",!1),...Ko("vec3","modifierFresnelEdge",!1),...Ko("float","modifierFresnelBiasCenter",!1),...Ko("float","modifierFresnelBiasEdge",!1),...Ko("float","modifierFresnelPower",!1),modifierFactor:(l,s,u,d)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${d("worldPosition")} - ${d("modifierCenter",s)}) - ${d("modifierRadius",s)}.x) /\n\t\t\t\t${d("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},ve={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function $e(l,s){const u=(l.priority||0)-(s.priority||0);if(u)return u;const d=(ve[l.applyTo]||1/0)-(ve[s.applyTo]||1/0);if(d)return d;const S="range"in l,H="range"in s;return S!==H?Number(S)-Number(H):+("fresnel"in l)-+("fresnel"in s)}const Ae=l=>(s,u,d)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${d("fresnel")}(${d("surfaceToView")}, ${d("texturedViewNormal")}, ${d("modifierFresnelBiasEdge",u)}, ${d("modifierFresnelBiasCenter",u)}, ${d("modifierFresnelPower",u)});\n\t\t\t\tfloat value = mix(${d("modifierFresnelEdge",u)}.r, ${d("modifierFresnelCenter",u)}.r, fresnelAmount);\n\t\t\t`:`float value = ${d("modifierValue",u)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${d("modifierFactor",u)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${l}\n\t\t}`,Xe={tintColor:(l,s,u)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",s)}, ${u("modifierFresnelBiasCenter",s)}, ${u("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${u("modifierFresnelEdge",s)}.rgb, ${u("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${u("modifierColorValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(l,s,u)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",s)}, ${u("modifierFresnelBiasCenter",s)}, ${u("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${u("modifierFresnelEdge",s)}.r, ${u("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${u("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Ae("fragColor.a *= value;"),contrast:Ae("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(l,s,u)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",s)}, ${u("modifierFresnelBiasCenter",s)}, ${u("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${u("modifierFresnelEdge",s)}.r, ${u("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${u("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`};function St(l,s){return s.modifiers?.map((u,d)=>{if("opacity"!==u.applyTo){const S=Xe[u.applyTo];if(S)return S(u,d,l,s);console.warn("modifier not implemented",u.applyTo)}return""}).join("\n\t")}function sn(l,s){return s.modifiers?.map((u,d)=>"opacity"===u.applyTo?(0,Xe[u.applyTo])(u,d,l,s):"").join("\n\t")}function Nn(l,s){return(0,h.dot)(l,s)+l[3]}function Nr(l,s=l){let u=(0,h.length)(l);return u>0&&(u=1/u),(0,ki.scale)(s,l,u),s}function wr(l,s){const u=s[0],d=s[1],S=s[2],H=s[3],le=s[4],oe=s[5],we=s[6],xe=s[7],Be=s[8],Le=s[9],qe=s[10],pt=s[11],mt=s[12],Ot=s[13],At=s[14],Nt=s[15];Nr((0,ki.set)(l[0],H-u,xe-le,pt-Be,Nt-mt)),Nr((0,ki.set)(l[1],H+u,xe+le,pt+Be,Nt+mt)),Nr((0,ki.set)(l[2],H+d,xe+oe,pt+Le,Nt+Ot)),Nr((0,ki.set)(l[3],H-d,xe-oe,pt-Le,Nt-Ot)),Nr((0,ki.set)(l[4],H-S,xe-we,pt-qe,Nt-At)),Nr((0,ki.set)(l[5],H+S,xe+we,pt+qe,Nt+At))}function io(l,s,u,d,S=0,H=0){const le=d*d;let oe=0;for(let we=0;we<3;we++){const xe=u[we],Be=Math.max(l[we+S],Math.min(s[we+H],xe))-xe;if(oe+=Be*Be,oe>le)return-1/0}return Math.sqrt(oe)}function Uo(l,s,u){return l&&u>=0?io(l.min,l.max,s,u):-1/0}const Zo={...yc,multiDraw:!1,multiMaterial:!1,topology:Ee.triangles,quantizedPositions:!1,octNormals:!1,quantizedUVs:!1,vertexColors:!1,morphTarget:!1,normals:!0,tangents:!1},Hs={...Ko("mat4","modelMatrix",!1),...Ko("mat4","normalMatrix",!1),...Ko("mat4","decodePositions",!1),...Ko("mat3","decodeUVs",!1),...Ko("float","morphFactor",!1),...Ko("mat4","decodeMorphPositions",!1),"attr:position":Ua("vec3","position",0),"attr:normal":Ua("vec3","normal",1),"attr:tangent":Ua("vec3","tangent",4),"attr:color":Ua("vec4","color",3),"attr:texcoord":Ua("vec2","texcoord",2),"attr:morphPosition":Ua("vec3","morphPosition"),"attr:morphNormal":Ua("vec3","morphNormal"),"attr:morphTangent":Ua("vec3","morphTangent"),vModelPosition:Jo("vec3","modelPosition"),modelPosition(l,s,u,d){if(l===fs.frag)return{symbol:d("vModelPosition")};const S=u?.quantizedPositions,H=[`vec3 modelPosition = ${S?`${d("transformMat4")}(${d("decodePositions")}, ${d("attr:position")})`:d("attr:position")};`];return u.morphTarget&&H.push(`vec3 morphModelPosition = ${S?`${d("transformMat4")}(${d("decodeMorphPositions")}, ${d("attr:morphPosition")})`:d("attr:morphPosition")};`,`modelPosition = mix(modelPosition, morphModelPosition, ${d("morphFactor")});`),{main:H}},vNormal:Jo("vec3","normal"),normal(l,s,u,d){if(!u.normals)return{symbol:"vec3(0.0)"};if(l===fs.frag)return{main:[`vec3 normal = normalize(${d("vNormal")});`]};const S=u?.octNormals,H=[S?`vec3 decodedNormal = ${d("octDecode")}(${d("attr:normal")}.xy);`:`vec3 decodedNormal = ${d("attr:normal")};`];return u.morphTarget&&H.push(S?`vec3 decodedMorphNormal = ${d("octDecode")}(${d("attr:morphNormal")}.xy);`:`vec3 decodedMorphNormal = ${d("attr:morphNormal")};`,`decodedNormal = mix(decodedNormal, decodedMorphNormal, ${d("morphFactor")});`),H.push(`vec3 modelNormal = ${d("transformMat4")}(${d("normalMatrix")}, decodedNormal);`),{main:H,symbol:"modelNormal"}},vTangent:Jo("vec3","tangent"),tangent:(l,s,u,d)=>l===fs.frag?{main:[`vec3 tangent = ${d("vTangent")};`]}:{main:u.morphTarget?`vec3 modelTangent = mix(${d("attr:tangent")}, ${d("attr:morphTangent")}, ${d("morphFactor")});`:`vec3 modelTangent = ${d("attr:tangent")};`,symbol:"modelTangent"},vTexCoord:Jo("vec2","texCoord"),texCoord:(l,s,u,d)=>l===fs.frag?{symbol:d("vTexCoord")}:{main:[`vec2 texCoord = ${u?.quantizedUVs?`(${d("decodeUVs")} * vec3(${d("attr:texcoord")}, 1.0)).uv`:d("attr:texcoord")};`]},vVertexColor:Jo("vec4","vertexColor"),vertexColor:(l,s,u,d)=>l===fs.frag?{symbol:d("vVertexColor")}:{symbol:d("attr:color")},octDecode:"vec3 octDecode(vec2 oct) {\n\t\tvec3 v = vec3(oct.xy, 1.0 - abs(oct.x) - abs(oct.y));\n\t\tif (v.z < 0.0) {\n\t\t\tv.xy = (1.0 - abs(v.yx)) * vec2(v.x >= 0.0 ? 1.0 : -1.0, v.y >= 0.0 ? 1.0 : -1.0);\n\t\t}\n\t\treturn normalize(v);\n\t}"},na={screenResolution:"uniform vec2 screenResolution;",viewIndex(l,s,u){if(l!==fs.vert)throw new Error("multiview viewIndex only allowed in vertex shader");return u.multiView?{extensions:["#extension GL_OVR_multiview : require"],declare:"layout(num_views=2) in;",symbol:"gl_ViewID_OVR"}:"0"},projectionMatrixArray:"uniform mat4 projectionMatrix[2];",projectionMatrix:(l,s,u,d)=>u.multiView?{requires:"projectionMatrixArray",symbol:`projectionMatrix[${d("viewIndex")}]`}:"uniform mat4 projectionMatrix;",viewMatrixInverseArray:"uniform mat4 viewMatrixInverse[2];",vViewMatrixInverse:Jo("mat4","viewMatrixInverse","vViewMatrixInverse"),viewMatrixInverse:(l,s,u,d)=>u.multiView?l===fs.vert?{requires:"viewMatrixInverseArray",symbol:`viewMatrixInverse[${d("viewIndex")}]`}:{symbol:d("vViewMatrixInverse")}:"uniform mat4 viewMatrixInverse;",cameraPositionArray:"uniform vec3 cameraPosition[2];",vCameraPosition:Jo("vec3","cameraPosition","vCameraPosition"),cameraPosition:(l,s,u,d)=>u.multiView?l===fs.vert?{requires:"cameraPositionArray",symbol:`cameraPosition[${d("viewIndex")}]`}:{symbol:d("vCameraPosition")}:"uniform vec3 cameraPosition;",viewMatrixArray:"uniform mat4 viewMatrix[2];",vViewMatrix:Jo("mat4","viewMatrix","vViewMatrix"),viewMatrix:(l,s,u,d)=>u.multiView?l===fs.vert?{requires:"viewMatrixArray",symbol:`viewMatrix[${d("viewIndex")}]`}:{symbol:d("vViewMatrix")}:"uniform mat4 viewMatrix;"},js={...Zo,multiView:!1,...yc},Uc={...Hs,...na,...bc,...Ko("mat4","modelViewMatrix[2]",!1,"modelViewMatrixArray"),vModelViewMatrix:Jo("mat4","modelViewMatrix","vModelViewMatrix"),modelViewMatrixSamplerOffset:(l,s,u)=>u?.multiView?{declare:{define:"uniform uint modelViewMatrixSamplerOffset[2];",samplerOffsetTarget:"modelViewMatrix"}}:{declare:{define:"uniform uint modelViewMatrixSamplerOffset;",samplerOffsetTarget:"modelViewMatrix"}},modelViewMatrix:(l,s,u,d)=>(u?.multiDraw||u?.multiView)&&l===fs.frag?{symbol:d("vModelViewMatrix")}:u?.multiView?u?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model",count:2},main:`mat4 modelViewMatrix = ${d("sampleBatchMatrix4")}(${d("vec4ModelSampler")}, ${d("gl_DrawID")}, ${d("modelViewMatrixSamplerOffset")}[${d("viewIndex")}]);`}:{symbol:`${d("modelViewMatrixArray")}[${d("viewIndex")}]`}:u?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model"},main:`mat4 modelViewMatrix = ${d("sampleBatchMatrix4")}(${d("vec4ModelSampler")}, ${d("gl_DrawID")}, ${d("modelViewMatrixSamplerOffset")});`}:"uniform mat4 modelViewMatrix;",vScreenPosition:Jo("vec4","screenPosition"),screenPosition:(l,s,u,d)=>l===fs.frag?{symbol:d("vScreenPosition")}:{main:[`vec4 screenPosition = ${d("projectionMatrix")} * ${d("modelViewMatrix")} * vec4(${d("modelPosition")}, 1.0);`]},vWorldPosition:Jo("vec3","worldPosition"),worldPosition:(l,s,u,d)=>l===fs.frag&&u.topology!==Ee.points?{symbol:d("vWorldPosition")}:{main:[`vec3 worldPosition = ${d("transformMat4")}(${d("modelMatrix")}, ${d("modelPosition")});`]},vViewPosition:Jo("vec3","viewPosition"),viewPosition:(l,s,u,d)=>l===fs.frag?{symbol:d("vViewPosition")}:{main:[`vec3 viewPosition = ${d("transformMat4")}(${d("viewMatrix")}, ${d("worldPosition")});`]},normalizedViewPosition:(l,s,u,d)=>({main:`vec3 normalizedViewPosition = normalize(${d("viewPosition")});`}),vSurfaceToView:Jo("vec3","surfaceToView"),surfaceToView:(l,s,u,d)=>l===fs.frag?{main:[`vec3 surfaceToView = normalize(${d("vSurfaceToView")});`]}:{main:[`vec3 surfaceToView = ${d("transformMat4")}(${d("viewMatrix")}, ${d("cameraPosition")}) - ${d("viewPosition")};`]}};let Ra=function(l){return l.opaque="opaque",l.blend="blend",l.test="test",l.hidden="hidden",l}({});const Ia={...js,alphaMode:Ra.opaque,textureLODext:!1};function ul(l,s,u="baseColor",d="a"){const S=d?u+"."+d:u;return s.alphaMode===Ra.test?`\n\t\tif (${S} <= 0.0) {\n\t\t\tdiscard;\n\t\t}\n\t\tif (${l("discardOpaque")} && ${S} >= 1.0) {\n\t\t\tdiscard;\n\t\t} else if (!${l("discardOpaque")} && ${S} < 1.0) {\n\t\t\tdiscard;\n\t\t}`:""}const pc={...Uc,discardOpaque:"uniform bool discardOpaque;",...Ko("float","opacity"),ambientLightColor:"uniform vec3 ambientLightColor;",gl_FragColor:(l,s,u)=>u.webGlVersion>=2?{declare:"out vec4 outputFragColor;",symbol:"outputFragColor"}:{symbol:"gl_FragColor"},extStandardDerivatives:(l,s,u)=>u.webGlVersion>=2?{}:{extensions:"#extension GL_OES_standard_derivatives : enable"},texture2D:(l,s,u)=>({symbol:u.webGlVersion>=2?"texture":"texture2D"}),textureCube:(l,s,u)=>({symbol:u.webGlVersion>=2?"texture":"textureCube"}),textureCubeLod:(l,s,u)=>u.webGlVersion>=2?{symbol:"textureLod"}:u?.textureLODext?{extensions:"#extension GL_EXT_shader_texture_lod : enable",symbol:"textureCubeLodEXT"}:{symbol:"textureCube"},PI:"#define PI 3.141592653589793",RECIPROCAL_PI:"#define RECIPROCAL_PI 0.3183098861837907",EPSILON:"#define EPSILON 1e-6",saturate:"#define saturate(a) clamp( a, 0.0, 1.0 )",pow2:"#define pow2(n) (n * n)",pow5:"\n\t\tfloat pow5(float n) {\n\t\t\tfloat n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\tvec3 pow5(vec3 n) {\n\t\t\tvec3 n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\t",transformMat4:"vec3 transformMat4(mat4 m, vec3 v) {\n\t\tvec4 v4 = m * vec4(v, 1.0);\n\t\treturn v4.xyz;\n\t}",isnan:(l,s,u)=>u.webGlVersion>=2?{symbol:"isnan"}:["bool isnan(float val) {\n\t\t\t\treturn !(val < 0.0 || 0.0 < val || val == 0.0);\n\t\t\t}","bvec2 isnan(vec2 v) { return bvec2(isnan(v.x), isnan(v.y)); }","bvec3 isnan(vec3 v) { return bvec3(isnan(v.xy), isnan(v.z)); }","bvec4 isnan(vec4 v) { return bvec4(isnan(v.xyz), isnan(v.w)); }"].join("\n"),isinf:(l,s,u)=>u.webGlVersion>=2?{symbol:"isinf"}:["bool isinf( float val ) {\n\t\t\t\tconst float inf = 1.0/0.0;\n\t\t\t\treturn abs(val) == inf;\n\t\t\t}","bvec2 isinf(vec2 v) { return bvec2(isinf(v.x), isinf(v.y)); }","bvec3 isinf(vec3 v) { return bvec3(isinf(v.xy), isinf(v.z)); }","bvec4 isinf(vec4 v) { return bvec4(isinf(v.xyz), isinf(v.w)); }"].join("\n")},mc=l=>{const s="gradientStops"in l?l.gradientStops.map(u=>u.value):[l.center,l.edge];return{min:Math.min(...s),max:Math.max(...s)}};function eu(l,s,u){if(!l.visible||!l.geometry.count||(l.updateWorldMatrix(),!l.renderable))return Ra.hidden;const{twoPass:d=!1,maxClipDistances:S=0}=u||{},{opacity:H}=l.material,{opaque:le,blend:oe,hidden:we}=Ra;let xe=Ra.opaque;const Be=!d,Le=Ra.test,qe=Be?oe:Le;l.updateWorldBounds();const{min:pt,max:mt}=l.worldBounds,Ot=$.get(),At=$.get();for(let gn=0,Mn=l.clippable&&s?.length||0;gn<Mn;gn++){const{plane:Kn,fade:ur}=s[gn];if(At[0]=Kn[0]>0?mt[0]:pt[0],At[1]=Kn[1]>0?mt[1]:pt[1],At[2]=Kn[2]>0?mt[2]:pt[2],Nn(Kn,At)<=0)return we;xe===le&&(ur>0||gn>=S)&&(Ot[0]=Kn[0]<0?mt[0]:pt[0],Ot[1]=Kn[1]<0?mt[1]:pt[1],Ot[2]=Kn[2]<0?mt[2]:pt[2],Nn(Kn,Ot)<ur&&(xe=qe))}$.release(Ot),$.release(At);const{material:Nt}=l;let mn=H,on=H;if(H<1&&Nt instanceof Yt&&l.geometry.attributes.normal){const{glassFactor:gn,murkiness:Mn}=Nt,Kn=gn*Mn,ur=gn*(Mn-1),or=Math.min(Kn,ur),vr=Math.max(Kn,ur);mn=Math.max(or,mn),on=Math.max(vr,on)}if(xe!==qe)if(Nt instanceof Yt){for(const gn of Nt.textures)if("alpha"===gn.applyTo||"transparency"===gn.applyTo){xe=qe,mn=0,on=1;break}}else Nt.opacityMaps.length&&(xe=qe,mn=0,on=1);if("transparencyFresnel"in Nt&&Nt.transparencyFresnel){const{transparencyFresnel:gn}=Nt;let Mn=1-on,Kn=1-mn;const{min:ur,max:or}=mc(gn);if("add"===gn.blendMode?(Kn+=or,Mn+=ur):(Kn*=or,Mn*=ur),on=se(1-Mn),mn=se(1-Kn),0===on)return we}if("alphaFresnel"in Nt&&Nt.alphaFresnel){const{alphaFresnel:gn}=Nt,{min:Mn,max:Kn}=mc(gn);if("add"===gn.blendMode?(on=se(on+Kn),mn=se(mn+Mn)):(on=se(on*Kn),mn=se(mn*Mn)),0===on)return we}if("opacityFresnel"in Nt&&Nt.opacityFresnel){const{opacityFresnel:gn}=Nt,{min:Mn,max:Kn}=mc(gn);if("add"===gn.blendMode?(on=se(on+Kn),mn=se(mn+Mn)):(on=se(on*Kn),mn=se(mn*Mn)),0===on)return we}const{geometry:_n}=l;if(_n.attributes?.color&&(xe=oe),l.modifiers.forEach(gn=>{if("opacity"===gn.applyTo){let Mn=0,Kn=1;if("range"in gn){let ur=gn.value,or=1,vr=gn.range.minRadius,oi=gn.range.maxRadius;const _i=$.get();if(gn.parent){gn.parent.updateWorldMatrix();const Wr=$.get();(0,F.getScaling)(Wr,gn.parent.worldMatrix);const pi=(Wr[0]+Wr[1]+Wr[2])/3;vr*=pi,oi*=pi,$.release(Wr),(0,h.transformMat4)(_i,gn.range.center,gn.parent.worldMatrix)}else(0,h.copy)(_i,gn.range.center);if(vr>oi&&(or=ur,ur=1,vr=oi,oi=gn.range.minRadius),Uo(l.worldBounds,_i,1/0)>=oi)Mn=or,Kn=or;else{const Wr=vr*vr;(0,h.squaredDistance)(_i,pt)<=Wr&&(0,h.squaredDistance)(_i,mt)<=Wr?(Mn=ur,Kn=ur):(Mn=Math.min(gn.value,1),Kn=Math.max(gn.value,1))}$.release(_i)}else"fresnel"in gn?(Mn=Math.min(gn.fresnel.center,gn.fresnel.edge),Kn=Math.max(gn.fresnel.center,gn.fresnel.edge)):(Mn=gn.value,Kn=gn.value);on*=Kn,mn*=Mn}}),on<=0)return we;if(mn<1){if(Be||on<1)return oe;xe=Le}return xe}const od=(0,w(24434).objectSorter)({sort:{array:!1,typedArray:!1,map:!0,object:!0,set:!0}});function sd(l){return od(l)}function Zc(l){const s=Object.keys(l).sort();return function(u){const d=[];for(let S=0;S<s.length;S++){const H=s[S],le=u[H];void 0!==le&&d.push(H+":"+sd(le))}return"{"+d.toString()+"}"}}const qc={clips:0,maxClipDistances:0};function Sc(l,s){return $n(Math.min(s.clips,s.maxClipDistances),u=>`{\n\t\tvec4 plane = ${l("clippingPlane",u)}.plane;\n\t\t${l("gl_ClipDistance",u)} = dot(${l("worldPosition4")}, plane);\n\t}`).join("\n\t")}const Pu={ClippingPlane:"struct ClippingPlane {\n\t\tvec4 plane;\n\t\tfloat fade;\n\t};",worldPosition4:(l,s,u,d)=>({main:[`vec4 worldPosition4 = vec4(${d("worldPosition")}, 1.0);`]}),gl_ClipDistance:(l,s)=>({extensions:"#extension GL_ANGLE_clip_cull_distance : require",symbol:`gl_ClipDistance[${s}]`}),clippingPlane(l,s){const u=`clippingPlane${s}`;return{requires:["ClippingPlane"],declare:`uniform ClippingPlane ${u};`,symbol:u}},clippingPlaneAlpha:(l,s,u,d)=>({main:`float clippingPlaneAlpha = 1.0; {\n\t\t\tfloat distTransparency = 0.0;\n\t\t\t${$n(u.clips,S=>`{\n\t\t\t\tvec4 plane = ${d("clippingPlane",S)}.plane;\n\t\t\t\tfloat fade = ${d("clippingPlane",S)}.fade;\n\t\t\t\tfloat planeDistance = dot(${d("worldPosition4")}, plane);\n\t\t\t\tfloat fadeAmount = fade == 0.0 ? -sign(planeDistance) : 1.0 - clamp(planeDistance / fade, 0.0, 1.0);\n\t\t\t\tdistTransparency = max(distTransparency, fadeAmount);\n\t\t\t}`).join("\n\t")}\n\t\t\tclippingPlaneAlpha = 1.0 - distTransparency;\n\t\t}`})},tu={struct:-1,attribute:1,in:2,uniform:3,varying:4,out:5,const:6},Xs=/^\s*(struct|attribute|uniform|varying|in|out|const)\s+/,Fu=(l,s)=>{const[u,d]=l,[S,H]=s,le=u.startsWith("#define")?-1:1,oe=S.startsWith("#define")?-1:1;if(le!==oe)return le-oe;const we=Xs.exec(u),xe=we&&tu[we[1]]||1/0,Be=Xs.exec(S),Le=Be&&tu[Be[1]]||1/0;return xe!==Le?xe-Le:d-H},Ca=l=>({extensions:s,declare:u,main:d})=>{const S=l?.webGlVersion>=2?"#version 300 es\n":"",H=l?.precision||"highp",le=u.map((oe,we)=>[oe,we]).sort(Fu).map(([oe])=>oe);return S+`${s.join("\n").trim()}\n\n\t${"highp"===H?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif":`precision ${H} float;`}\n\n\t${le.join("\n").trim()}\n\tvoid main() {\n\t${d.map(oe=>"\t"+oe).join("\n")}\n\t}`},Va={acesNarkowicz:"ACESNarkowicz",linear:"",granTurismo:"GranTurismoToneMap",pbrNeutral:"PBRNeutralToneMapping"},ku={linearToGamma:"vec4 linearToGamma( in vec4 value, in float gammaFactor ) {\n\t\treturn vec4( pow( max(vec3(0.0), value.rgb), vec3( 1.0 / gammaFactor ) ), value.a );\n\t}",sRGBToLinear:"vec4 sRGBToLinear( in vec4 value ) {\n\t\treturn vec4(\n\t\t\tmix(\n\t\t\t\tpow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ),\n\t\t\t\tvalue.rgb * 0.0773993808,\n\t\t\t\tvec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) )\n\t\t\t),\n\t\t\tvalue.w\n\t\t);\n\t}",ACESNarkowicz:"vec3 ACESNarkowicz(vec3 color) {\n\t\tconst float A = 2.51;\n\t\tconst float B = 0.03;\n\t\tconst float C = 2.43;\n\t\tconst float D = 0.59;\n\t\tconst float E = 0.14;\n\t\treturn clamp((color * (A * color + B)) / (color * (C * color + D) + E), 0.0, 1.0);\n\t}",GranTurismoToneMap:"vec3 GranTurismoToneMap(vec3 color) {\n\t\tconst float P = 1.0;  \n\t\tconst float a = 1.0;  \n\t\tconst float m = 0.22; \n\t\tconst float l = 0.4;  \n\t\tconst float c = 1.33; \n\t\tconst float b = 0.0;  \n\t\tconst vec3 P3 = vec3(P);\n\t\tconst vec3 m3 = vec3(m);\n\t\tconst vec3 c3 = vec3(c);\n\t\tfloat l0 = ((P - m) * l) / a;\n\t\tfloat L0 = m - m / a;\n\t\tfloat L1 = m + (1.0 - m) / a;\n\t\tfloat S0 = m + l0;\n\t\tfloat S1 = m + a * l0;\n\t\tfloat C2 = (a * P) / (P - S1);\n\t\tfloat CP = -C2 / P;\n\t\tvec3 w0 = 1.0 - smoothstep(0.0, m, color);\n\t\tvec3 w2 = step(m + l0, color);\n\t\tvec3 w1 = 1.0 - w0 - w2;\n\t\tvec3 T = m3 * pow(color / m3, c3) + vec3(b);\n\t\tvec3 S = P3 - (P3 - vec3(S1)) * exp(vec3(CP) * (color - vec3(S0)));\n\t\tvec3 L = m3 + vec3(a) * (color - m3);\n\t\treturn T * w0 + L * w1 + S * w2;\n\t}",PBRNeutralToneMapping:"vec3 PBRNeutralToneMapping( vec3 color ) {\n\t\tconst float startCompression = 0.8 - 0.04;\n\t\tconst float desaturation = 0.15;\n\n\t\tfloat x = min(color.r, min(color.g, color.b));\n\t\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\t\tcolor -= offset;\n\n\t\tfloat peak = max(color.r, max(color.g, color.b));\n\t\tif (peak < startCompression) return color;\n\n\t\tconst float d = 1. - startCompression;\n\t\tfloat newPeak = 1. - d * d / (peak + d - startCompression);\n\t\tcolor *= newPeak / peak;\n\n\t\tfloat g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);\n\t\treturn mix(color, newPeak * vec3(1, 1, 1), g);\n\t}",toneMap(l,s,u,d){const S=Va[u?.toneMap];return`vec3 toneMap(vec3 color) {\n\t\t\t${S?`color = ${d(S)}(color);`:""}\n\t\t\treturn color;\n\t\t}`}};function Wa(l){return l.replace(/^(\w)/,s=>s.toUpperCase())}const Vc={...Ia,uvScale:!1,uvRotate:!1,uvTranslate:!1};function Ga(l,s,u,d,S){const{blendMode:H}=d,le=`sample${Wa(l)}Texture`,oe=S(l+"TextureBlendFactor",u);return`{\n\t\tvec3 texSample = ${S("sRGBToLinear")}(${S(le,u)}).rgb;\n\t\t${"multiply"===H?`${s} *= 1.0 - ${oe} * (1.0 - texSample);`:"over"===H?`${s} = mix(${s}, texSample, ${oe});`:`${s} += ${oe} * texSample;`}\n\t}`}function Gc(l,s,u,d,S){const{blendMode:H,channel:le,invert:oe}=d,we=`sample${Wa(l)}Texture`,xe=S(l+"TextureBlendFactor",u);return`{\n\t\tfloat texSample = (${S(we,u)}).${le};\n\t\t${oe?"texSample = 1.0 - texSample;":""}\n\t\t${"over"===H?`${s} = mix(${s}, texSample, ${xe});`:"multiply"===H?`${s} *= 1.0 - ${xe} * (1.0 - texSample);`:`${s} += ${xe} * texSample;`}\n\t}`}function Rc(l){const s=`${l}TextureLayers`,u=`${l}TextureBlendFactor`;return{[`sample${Wa(l)}Texture`]:(S,H,le,oe)=>({symbol:oe("textureSample",le[s][H].samplerIndex)}),[u](S,H){const le=u+H;return{declare:`uniform float ${le};`,symbol:le}}}}function Za(l,s,u){return`{\n\t\t${u} *=  ${s("pointUVScale")};\n\t\t${l.uvTranslate?`${u} += ${s("uvTranslate")};`:""}\n\t\t${l.uvRotate?`\n\t\t\tvec2 centerCoord = ${l.uvTranslate?`${s("uvTranslate")} + ${s("pointUVScale")} * 0.5`:"vec2(0.5)"};\n\t\t\tvec2 pivot = ${u} - centerCoord;\n\t\t\tfloat c = ${s("cosPointRotation")};\n\t\t\tfloat s = ${s("sinPointRotation")};\n\t\t\t${u}.x = c * pivot.x + s * pivot.y + centerCoord.x;\n\t\t\t${u}.y = c * pivot.y - s * pivot.x + centerCoord.y;\n\t\t`:""}\n\t}`}const qa={"attr:uvTranslate":Ua("vec2","uvTranslate"),"attr:uvRotate":Ua("float","uvRotate"),...Ko("vec2","pointUVScale"),vUvTranslate:Jo("vec2","uvTranslate"),uvTranslate:(l,s,u,d)=>l===fs.frag?{symbol:d("vUvTranslate")}:{symbol:d("attr:uvTranslate")},texCoord:(l,s,u,d)=>l===fs.frag&&u.topology===Ee.points?{main:["vec2 pointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",Za(u,d,"pointTexCoord")],symbol:"pointTexCoord"}:l===fs.frag?{symbol:d("vTexCoord")}:{main:[`vec2 texCoord = ${u?.quantizedUVs?`(${d("decodeUVs")} * vec3(${d("attr:texcoord")}, 1.0)).xy`:d("attr:texcoord")};`]},vFlippedTexCoord:Jo("vec2","flippedTexCoord"),flippedTexCoord:(l,s,u,d)=>l===fs.frag?u.topology===Ee.points?{main:["vec2 flippedPointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",Za(u,d,"flippedPointTexCoord"),"flippedPointTexCoord.y = 1.0 - flippedPointTexCoord.y;"],symbol:"flippedPointTexCoord"}:{symbol:d("vFlippedTexCoord")}:{main:`vec2 flippedTexCoord = vec2(${d("texCoord")}.x, 1.0 - ${d("texCoord")}.y);`,symbol:"flippedTexCoord"},vCosPointRotation:Jo("float","cosPointRotation"),cosPointRotation:(l,s,u,d)=>l===fs.frag?{symbol:d("vCosPointRotation")}:{main:[`float cosPointRotation = cos(${d("attr:uvRotate")});`]},vSinPointRotation:Jo("float","sinPointRotation"),sinPointRotation:(l,s,u,d)=>l===fs.frag?{symbol:d("vSinPointRotation")}:{main:[`float sinPointRotation = sin(${d("attr:uvRotate")});`]}};function Cl(l){return Math.floor(l)===l&&l!==1/0&&l!==-1/0?l+".0":String(l)}const Bu={roundPoints:!1,maxPointSize:256,perspectivePoints:!1,scaleAttr:!1},i={"attr:scale":Ua("float","scale"),...Ko("float","pointSize"),glPointSize(l,s,u,d){if(l!==fs.vert||u.topology!==Ee.points)return"0.0";const S=Cl(Math.floor(u.maxPointSize)),H=Cl(20*ge),le=Cl(K);return{main:`\n\t\t\t\t\tfloat glPointSize = ${u.perspectivePoints?`${d("pointSize")} * ${H} / length(${d("viewPosition")})`:d("pointSize")};\n\t\t\t\t\t${u.scaleAttr?`glPointSize *= ${d("attr:scale")};`:""}\n\t\t\t\t\tglPointSize *= ${le} * ${d("screenResolution")}.y;\n\t\t\t\t\tglPointSize = clamp(glPointSize, 0.0, ${S});\n\t\t\t\t`,symbol:"glPointSize"}}},p={...Zo,...Vc,...Dc,samplers:[],baseColorTextureLayers:[],opacityTextureLayers:[]},ee={...id,...Ko("vec3","baseColor"),...Rc("baseColor"),...Rc("opacity"),textureSample(l,s,u,d){const S="textureSample"+s,H="textureSampler"+s,le=d("bottom-up"===u.samplers[s].rowOrder?"flippedTexCoord":"texCoord");return{symbol:S,declare:`uniform sampler2D ${H};`,main:[`vec4 ${S} = ${d("texture2D")}(${H}, ${le});`]}},vViewNormal:Jo("vec3","viewNormal"),viewNormal:(l,s,u,d)=>l===fs.frag?{main:[`vec3 viewNormal = normalize(${d("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${d("viewMatrix")} * vec4(${d("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(l,s,u,d)=>({symbol:d("viewNormal")}),color:(l,s,u,d)=>({main:`\n\t\t\t\tvec3 color = ${d("baseColor")}.rgb;\n\t\t\t\t${u.vertexColors?`color *= ${d("vertexColor")}.rgb;`:""}\n\t\t\t\t${u.baseColorTextureLayers.map((S,H)=>Ga("baseColor","color",H,S,d)).join("\n")}\n\t\t\t\t${u.baseColorFresnel?`color = ${d("baseColorFresnelColor")}(color, ${d("surfaceToView")}, ${d("texturedViewNormal")});`:""}\n\t\t\t`}),alpha:(l,s,u,d)=>({main:`\n\t\t\tfloat alpha = ${d("opacity")};\n\t\t\t${u.vertexColors?`alpha *= ${d("vertexColor")}.a;`:""}\n\t\t\t${u.opacityTextureLayers.map((S,H)=>Gc("opacity","alpha",H,S,d)).join("\n")}\n\t\t\t${u.opacityFresnel?`alpha = ${d("opacityFresnelValue")}(alpha, ${d("surfaceToView")}, ${d("texturedViewNormal")});`:""}\n\t\t\t`})},ze={...Ia,...p,...Vc,...Jc,...Bu,...qc,baseColorTextureLayers:[],opacityTextureLayers:[]},ut={...pc,...ee,...Pu,...Fd,...ku,...qa,...i,Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};"};function Ut(l,s){const u={};return s.forEach(d=>{const S=l[d],H=String(d);S&&(u[H]=!0,u[H+"BlendMode"]=S.blendMode||"multiply","gradientStops"in S&&(u[H+rc.size]=S.gradientStops.length))}),u}function tn(l,s){const u={};return s.forEach(d=>{const S=l[d],H=String(d);S&&("gradientStops"in S?S.gradientStops.sort((le,oe)=>le.position-oe.position).forEach((le,oe)=>{u[`${H}${rc.position}${oe}`]=le.position,u[`${H}${rc.power}${oe}`]=le.power,u[`${H}${rc.value}${oe}`]="color"in le?le.color:le.value}):["biasCenter","biasEdge","power","center","edge"].forEach(le=>{u[H+Wa(le)]=S[le]}))}),u}const en=["baseColorFresnel","opacityFresnel"],kn=["baseColorMaps","opacityMaps"],Qn=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"]],fr={Fog:"struct Fog {\n\t\tvec3 color;\n\t\tfloat density;\n\t\tfloat start;\n\t\tfloat end;\n\t\tfloat min;\n\t\tfloat max;\n\t};",fog:{requires:["Fog"],declare:["uniform Fog fog;"]},applyFog(l,s,u,d){const S=u.fog;return`vec3 applyFog(vec3 color) {\n\t\t\t${d("Fog")} f = ${d("fog")};\n\n\t\t\tfloat fogDistance = length(${d("viewPosition")}.xyz) - f.start;\n\n\t\t\t${"linear"===S?"\n\t\t\t\tfloat fogAmount = fogDistance / (f.end - f.start);":`\n\n\t\t\t\tfloat fogAttenuation = f.density * max(fogDistance, 0.0);\n\t\t\t\t${"exp2"===S?"fogAttenuation *= fogAttenuation;":""}\n\t\t\t\tfloat fogAmount = 1.0 - exp(-fogAttenuation);`}\n\n\t\t\tfogAmount = clamp(fogAmount, f.min, f.max);\n\t\t\treturn mix(color, f.color, fogAmount);\n\t\t}`}},Br={baseFresnel:!1,baseFresnelBlendMode:nc.multiply,baseFresnelGradientStopsLength:0,alphaFresnel:!1,alphaFresnelBlendMode:nc.multiply,alphaFresnelGradientStopsLength:0,specularFresnel:!1,specularFresnelBlendMode:nc.multiply,specularFresnelGradientStopsLength:0,emitFresnel:!1,emitFresnelBlendMode:nc.multiply,emitFresnelGradientStopsLength:0,transparencyFresnel:!1,transparencyFresnelBlendMode:nc.multiply,transparencyFresnelGradientStopsLength:0,reflectionFresnel:!1,reflectionFresnelBlendMode:nc.multiply,reflectionFresnelGradientStopsLength:0},Fr={...id,...fc("baseFresnel","vec3"),...fc("alphaFresnel","float"),...fc("specularFresnel","vec3"),...fc("emitFresnel","vec3"),...fc("transparencyFresnel","float"),...fc("reflectionFresnel","float")};function Lr(l,s,u,d,S,H){const le=u("textureBlendFactor",S),oe=u("bottom-up"===d.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\tvec4 texSample = ${u("texture2D")}(${u("textureSampler",S)}, ${oe});\n\t\t${H||"over"===d.blendMode?`${l} = mix(${l}, texSample.${s}, ${le});`:"multiply"===d.blendMode?`${l} *= 1.0 - ${le} * (1.0 - texSample.${s});`:`${l} += ${le} * texSample.${s};`}\n\t}`}const ei={transparency:"alpha"},Ui={transparency:(l,s,u,d)=>Lr("transparency","r",d,l,s,u),occlusion:(l,s,u,d)=>Lr(d("occlusion"),"r",d,l,s,u),metallic:(l,s,u,d)=>Lr(d("metallic"),"r",d,l,s,u),roughness:(l,s,u,d)=>Lr(d("roughness"),"r",d,l,s,u),shine:(l,s,u,d)=>Lr(d("shine"),"r",d,l,s,u),specular:(l,s,u,d)=>Lr(d("specular"),"r",d,l,s,u),baseColor(l,s,u,d,S){if(S.metallicMaterial||S.gammaInputPhong){const H=d("textureBlendFactor",s),le=d("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${d("sRGBToLinear")}(${d("texture2D")}(${d("textureSampler",s)}, ${le}));\n\t\t\t\t${u||"over"===l.blendMode?`color = mix(color, texSample.rgb, ${H});`:"multiply"===l.blendMode?`color *= 1.0 - ${H} * (1.0 - texSample.rgb);`:`color += ${H} * texSample.rgb;`}\n\t\t\t}`}return Lr("color","rgb",d,l,s,u)},emit(l,s,u,d,S){if(S.metallicMaterial||S.gammaInputPhong){const H=d("textureBlendFactor",s),le=d("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${d("sRGBToLinear")}(${d("texture2D")}(${d("textureSampler",s)}, ${le}));\n\t\t\t\t${u||"over"===l.blendMode?`emitRGB = mix(emitRGB, texSample.rgb, ${H});`:"multiply"===l.blendMode?`emitRGB *= 1.0 - ${H} * (1.0 - texSample.rgb);`:`emitRGB += ${H} * texSample.rgb;`}\n\t\t\t}`}return Lr("emitRGB","rgb",d,l,s,u)},alpha(l,s,u,d){const S=d("textureBlendFactor",s),H=d("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord"),le=`${d("texture2D")}(${d("textureSampler",s)}, ${H})`;return u?`transparency = mix(transparency, 1.0 - ${le}.r, ${S});`:`{\n\t\t\tvec4 texSample = ${le};\n\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t${"over"===l.blendMode?`alpha = mix(alpha, texSample.r, ${S});`:"multiply"===l.blendMode?`alpha *= 1.0 - ${S} * (1.0 - texSample.r);`:`alpha += ${S} * texSample.r;`}\n\t\t\ttransparency = 1.0 - alpha;\n\t\t}`},normals(l,s,u,d,S){const H=d("textureBlendFactor",s),le=u?"=":"+=",oe=d("bottom-up"===l.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\tvec4 texSample = ${d("texture2D")}(${d("textureSampler",s)}, ${oe});\n\t\t\tvec3 sampledValue = ${S.tangents?`${d("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);`:`${d("perturbNormal2Arb")}(texSample.xyz, ${d("viewPosition")}, ${d("viewNormal")}, ${oe});`}\n\t\t\t${"add"===l.blendMode?`${d("texturedViewNormal")} ${le} sampledValue * ${H};`:`${d("texturedViewNormal")} = mix(${d("texturedViewNormal")}, sampledValue, ${H});`}\n\t\t}`}},qr={...Fr,...Ko("vec3","modifierCenter",!1),...Ko("vec2","modifierRadius",!1),...Ko("vec3","modifierColorValue",!1),...Ko("float","modifierValue",!1),...Ko("vec3","modifierFresnelCenter",!1),...Ko("vec3","modifierFresnelEdge",!1),...Ko("float","modifierFresnelBiasCenter",!1),...Ko("float","modifierFresnelBiasEdge",!1),...Ko("float","modifierFresnelPower",!1),modifierFactor:(l,s,u,d)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${d("worldPosition")} - ${d("modifierCenter",s)}) - ${d("modifierRadius",s)}.x) /\n\t\t\t\t${d("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},Ao={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function $o(l,s){const u=(l.priority||0)-(s.priority||0);if(u)return u;const d=(Ao[l.applyTo]||1/0)-(Ao[s.applyTo]||1/0);if(d)return d;const S="range"in l,H="range"in s;return S!==H?Number(S)-Number(H):+("fresnel"in l)-+("fresnel"in s)}const Do=l=>(s,u,d)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${d("fresnel")}(${d("surfaceToView")}, ${d("texturedViewNormal")}, ${d("modifierFresnelBiasEdge",u)}, ${d("modifierFresnelBiasCenter",u)}, ${d("modifierFresnelPower",u)});\n\t\t\t\tfloat value = mix(${d("modifierFresnelEdge",u)}.r, ${d("modifierFresnelCenter",u)}.r, fresnelAmount);\n\t\t\t`:`float value = ${d("modifierValue",u)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${d("modifierFactor",u)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${l}\n\t\t}`,To={tintColor:(l,s,u)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",s)}, ${u("modifierFresnelBiasCenter",s)}, ${u("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${u("modifierFresnelEdge",s)}.rgb, ${u("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${u("modifierColorValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(l,s,u)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",s)}, ${u("modifierFresnelBiasCenter",s)}, ${u("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${u("modifierFresnelEdge",s)}.r, ${u("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${u("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Do("fragColor.a *= value;"),contrast:Do("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(l,s,u)=>`{\n\t\t\t${l.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",s)}, ${u("modifierFresnelBiasCenter",s)}, ${u("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${u("modifierFresnelEdge",s)}.r, ${u("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${u("modifierValue",s)};`}\n\t\t\t${l.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`},Fo={...Ia,...Vc,...Br,...Bu,modifiers:[],...qc,metallicMaterial:!1,gammaInputPhong:!1,textureLayers:[],reflectionMap:!1,environmentReflectionMap:!1,lightMapSpace:"",lights:0,fog:""},mr={dir:0,point:1,spot:2},yo={...pc,...qa,...Pu,...fr,...Fr,...qr,...ku,...i,Light:"struct Light {\n\t\tint type;\n\t\tvec3 direction;\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tvec3 attenuation;\n\t\tfloat innerCone;\n\t\tfloat outerCone;\n\n\t\t\n\t\tbool diffuse;\n\t\tbool specular;\n\n\t\t\n\t\tbool viewSpace;\n\t};",lightSource(l,s){const u=`legacyLightSource${s}`;return{requires:"Light",declare:`uniform Light ${u};`,symbol:u}},IncidentLight:"struct IncidentLight {\n\t\tvec3 color;\n\t\tvec3 direction;\n\t};",ReflectedLight:"struct ReflectedLight {\n\t\tvec3 diffuse;\n\t\tvec3 specular;\n\t};",Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};",...Ko("vec3","baseColor"),...Ko("vec4","emitColor"),...Ko("vec3","specularColor"),...Ko("vec3","metalRoughSpecularf0"),...Ko("float","phongShine"),...Ko("float","glassFactor"),...Ko("float","murkiness"),ambientLightColor:{declare:"uniform vec3 legacyAmbientLightColor;",symbol:"legacyAmbientLightColor"},reflectionMap:"uniform samplerCube reflectionMap;",...Ko("float","reflectionMapIntensity"),...Ko("float","reflectionMapMaxMipLevel"),lightMap:"uniform samplerCube lightMap;",...Ko("float","lightMapIntensity"),textureSampler(l,s){const u=`textureSampler${s}`;return{declare:`uniform sampler2D ${u};`,symbol:u}},textureBlendFactor(l,s){const u=`textureBlendFactor${s}`;return{declare:`uniform float ${u};`,symbol:u}},specularF0:(l,s,u,d)=>({symbol:`${d("metalRoughSpecularf0")}.b`}),metallic:(l,s,u,d)=>({main:[`float metallic = ${d("metalRoughSpecularf0")}.r;`]}),roughness:(l,s,u,d)=>({main:[`float roughness = ${d("metalRoughSpecularf0")}.g;`]}),specular:()=>({main:["float specular = 1.0;"]}),occlusion:()=>({main:["float occlusion = 1.0;"]}),shine:(l,s,u,d)=>({main:[`float shine = ${d("phongShine")};`]}),vViewNormal:Jo("vec3","viewNormal"),viewNormal:(l,s,u,d)=>l===fs.frag?{main:[`vec3 viewNormal = normalize(${d("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${d("viewMatrix")} * vec4(${d("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(l,s,u,d)=>({main:[`vec3 texturedViewNormal = ${u.textureLayers?.some(H=>"normals"===H.applyTo)?"vec3(0.0)":d("viewNormal")};`]}),vTBN:Jo("mat3","TBN"),TBN:(l,s,u,d)=>({main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tmat3 mat = mat3(${d("modelViewMatrix")});\n\t\t\t\t\tvec3 tangentW = normalize(vec3(mat * ${d("tangent")}));\n\t\t\t\t\tvec3 bitangentW = cross(${d("viewNormal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${d("viewNormal")});\n\t\t\t\t}\n\t\t\t`}),perturbNormal2Arb:{requires:["extStandardDerivatives"],declare:"vec3 perturbNormal2Arb( vec3 texSample, vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( uv.st );\n\t\t\tvec2 st1 = dFdy( uv.st );\n\t\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\t\t\n\t\t\tvec3 N = surf_norm;\n\t\t\tvec3 mapN = texSample * 2.0 - 1.0;\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}"},F_Schlick:"\n\t\tvec3 F_Schlick(const in vec3 specularColor, const in float dotLH) {\n\t\t\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\t\t\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\t\t}",G_GGX_SmithCorrelated:(l,s,u,d)=>`\n\t\tfloat G_GGX_SmithCorrelated(const in float alpha, const in float dotNL, const in float dotNV) {\n\t\t\tfloat a2 = ( alpha * alpha );\n\t\t\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * ( dotNV * dotNV ) );\n\t\t\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * ( dotNL * dotNL ) );\n\t\t\treturn 0.5 / max( gv + gl, ${d("EPSILON")} );\n\t\t}`,D_GGX:(l,s,u,d)=>`\n\t\tfloat D_GGX(const in float alpha, const in float dotNH) {\n\t\t\tfloat a2 = alpha * alpha;\n\t\t\tfloat denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n\t\t\treturn ${d("RECIPROCAL_PI")} * a2 / ( denom * denom );\n\t\t}`,BRDF_Specular_GGX:(l,s,u,d)=>`\n\t\tvec3 BRDF_Specular_GGX(const in IncidentLight incidentLight, const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat alpha = roughness * roughness;\n\t\t\tvec3 halfDir = normalize(incidentLight.direction + geometry.viewEyeDir);\n\t\t\tfloat dotNL = ${d("saturate")}( dot( geometry.viewNormal, incidentLight.direction ) );\n\t\t\tfloat dotNV = ${d("saturate")}( dot( geometry.viewNormal, geometry.viewEyeDir ) );\n\t\t\tfloat dotNH = ${d("saturate")}( dot( geometry.viewNormal, halfDir ) );\n\t\t\tfloat dotLH = ${d("saturate")}( dot( incidentLight.direction, halfDir ) );\n\t\t\tvec3  F = ${d("F_Schlick")}( specularColor, dotLH );\n\t\t\tfloat G = ${d("G_GGX_SmithCorrelated")}( alpha, dotNL, dotNV );\n\t\t\tfloat D = ${d("D_GGX")}( alpha, dotNH );\n\t\t\treturn F * (G * D);\n\t\t}`,computePBRLighting:(l,s,u,d)=>`\n\t\tvoid computePBRLighting(const in IncidentLight incidentLight, const in Geometry geometry, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\tfloat dotNL = ${d("saturate")}(dot(geometry.viewNormal, incidentLight.direction));\n\t\t\tvec3 irradianceOverPi = dotNL * incidentLight.color;\n\t\t\treflectedLight.diffuse += irradianceOverPi * material.diffuseColor;\n\t\t\treflectedLight.specular += irradianceOverPi * ${d("PI")} * ${d("BRDF_Specular_GGX")}(incidentLight, geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular = max(reflectedLight.specular, 0.0);\n\t\t}`,inverseTransformDirection:"vec3 inverseTransformDirection(in vec3 dir, in mat4 matrix) {\n\t\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\t}",GGXRoughnessToBlinnExponent:"float GGXRoughnessToBlinnExponent(const in float ggxRoughness) {\n\t\tfloat r = ggxRoughness + 0.0001;\n\t\treturn (2.0 / (r * r) - 2.0);\n\t}",getSpecularMIPLevel:"float getSpecularMIPLevel(const in float blinnShininessExponent, float maxMipLevels) {\n\t\tfloat desiredMIPLevel = maxMipLevels - 0.79248 - 0.5 * log2(blinnShininessExponent * blinnShininessExponent + 1.0);\n\t\treturn clamp(desiredMIPLevel, 0.0, maxMipLevels);\n\t}",getLightProbeIndirectRadiance:(l,s,u,d)=>`vec3 getLightProbeIndirectRadiance(const in samplerCube reflectMap, const in vec3 reflectVec, const in float blinnShininessExponent, float maxMipLevels) {\n\t\t\tfloat mipLevel = ${d("getSpecularMIPLevel")}(blinnShininessExponent, maxMipLevels); \n\t\t\tvec3 envMapColor = ${d("sRGBToLinear")}(${d("textureCubeLod")}(reflectMap, reflectVec, mipLevel)).rgb;\n\t\t\treturn envMapColor;\n\t\t}`,BRDF_Specular_GGX_Environment:(l,s,u,d)=>`vec3 BRDF_Specular_GGX_Environment(const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat dotNV = ${d("saturate")}(dot(geometry.viewNormal, geometry.viewEyeDir));\n\t\t\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022);\n\t\t\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04);\n\t\t\tvec4 r = roughness * c0 + c1;\n\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * dotNV)) * r.x + r.y;\n\t\t\tvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\treturn specularColor * AB.x + AB.y;\n\t\t}`,computePBRReflectionMapping:(l,s,u,d)=>`void computePBRReflectionMapping(\n\t\t\t\tconst in samplerCube reflectMap,\n\t\t\t\tconst in float intensity,\n\t\t\t\tconst in mat4 viewMatrix,\n\t\t\t\tconst in Geometry geometry,\n\t\t\t\tconst in Material material,\n\t\t\t\tinout ReflectedLight reflectedLight,\n\t\t\t\tfloat maxMipLevel\n\t\t) {\n\t\t\tvec3 reflectVec = reflect(-geometry.viewEyeDir, geometry.viewNormal);\n\t\t\treflectVec = ${d("inverseTransformDirection")}(reflectVec, viewMatrix);\n\t\t\tfloat blinnExpFromRoughness = ${d("GGXRoughnessToBlinnExponent")}(material.specularRoughness);\n\t\t\tvec3 radiance = ${d("getLightProbeIndirectRadiance")}(reflectMap, reflectVec, blinnExpFromRoughness, maxMipLevel);\n\t\t\tvec3 specularBRDFContrib = ${d("BRDF_Specular_GGX_Environment")}(geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular += radiance * specularBRDFContrib * intensity;\n\t\t}`,computePBRLightMapping:(l,s,u,d)=>`void computePBRLightMapping(const in samplerCube lightMap, const in float intensity, const in vec3 normal, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\treflectedLight.diffuse += ${d("sRGBToLinear")}(${d("textureCube")}(lightMap, normal)).rgb * material.diffuseColor * intensity;\n\t\t}`},Ss=["baseFresnel","emitFresnel","alphaFresnel","reflectionFresnel","specularFresnel","transparencyFresnel"],zs=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","metallic","roughness"]),lo=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","specular","shine"]),ga={emissiveFresnel:!1,emissiveFresnelBlendMode:nc.multiply,emissiveFresnelLength:0},Ys={...fc("emissiveFresnel","vec3")},Cs=Math.pow(2,-126),ls=Math.max(.045,Math.pow(Cs,.25)),ja={directional:0,point:1,spot:2},wl={...Ia,...p,...ga,...Jc,...Bu,...qc,baseColorTextureLayers:[],opacityTextureLayers:[],metallicTextureLayers:[],occlusionTextureLayers:[],roughnessTextureLayers:[],emissiveTextureLayers:[],specularFactorTextureLayers:[],specularColorTextureLayers:[],normalTextureLayers:[],lights:0,imageLightSpecularTexture:!1,imageLightIrradianceMode:"",computeBRDF:!1,fog:"",toneMap:"linear"},nu={...pc,...ee,...Pu,...i,...Ys,...Fd,...fr,...ku,...qa,LightSource:"struct LightSource {\n\t\tint type;\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat intensity;\n\t\tfloat innerConeCos;\n\t\tfloat outerConeCos;\n\t};",ComputedLight:"struct ComputedLight {\n\t\tvec3 intensity;\n\t\tfloat NdotL;\n\t\tfloat NdotH;\n\t\tfloat VdotH;\n\t};",NormalInfo:"struct NormalInfo {\n\t\tvec3 ng; \n\t\tvec3 t; \n\t\tvec3 b; \n\t\tvec3 n; \n\t};",lightSource(l,s){const u=`lightSource${s}`;return{requires:"LightSource",declare:`uniform LightSource ${u};`,symbol:u}},irradianceCoefficients:"uniform vec3 irradianceCoefficients[9];",imageLightLODScale:"uniform float imageLightLODScale;",imageLightSpecularTexture:"uniform samplerCube imageLightSpecularTexture;",imageLightIrradianceTexture:"uniform samplerCube imageLightIrradianceTexture;",imageLightIntensity:"uniform float imageLightIntensity;",imageLightRotation:"uniform mat3 imageLightRotation;",brdfLookUpTexture:"uniform sampler2D brdfLookUpTexture;",...Ko("float","metallic"),...Ko("float","roughness"),...Ko("vec3","emissive"),...Ko("float","ior"),...Ko("float","specularFactor"),...Ko("vec3","specularColor"),...Rc("metallic"),...Rc("roughness"),...Rc("occlusion"),...Rc("emissive"),...Rc("specularFactor"),...Rc("specularColor"),...Rc("normal"),EPSILON:`#define EPSILON ${Math.max(1e-6,Cs)}`,f90:"const vec3 f90 = vec3(1.0);",clampedDot:"float clampedDot(vec3 x, vec3 y) {\n\t\treturn clamp(dot(x, y), 0.0, 1.0);\n\t}",getSpotAttenuation:"float getSpotAttenuation(vec3 pointToLightDirection, vec3 spotDirection, float outerConeCos, float innerConeCos) {\n\t\tfloat actualCos = dot(spotDirection, -pointToLightDirection);\n\t\tif (actualCos > outerConeCos) {\n\t\t\tif (actualCos < innerConeCos) {\n\t\t\t\treturn smoothstep(outerConeCos, innerConeCos, actualCos);\n\t\t\t}\n\t\t\treturn 1.0;\n\t\t}\n\t\treturn 0.0;\n\t}",getLightIntensity:(l,s,u,d)=>`vec3 getLightIntensity(LightSource light, vec3 pointToLight, vec3 pointToLightDirection) {\n\t\t\tfloat rangeAttenuation = 1.0;\n\t\t\tfloat spotAttenuation = 1.0;\n\t\t\tif (light.type != ${ja.directional}) {\n\t\t\t\t\n\t\t\t\tfloat lenSq = dot(pointToLight, pointToLight);\n\t\t\t\trangeAttenuation = 1.0 / max(lenSq, ${d("EPSILON")});\n\t\t\t}\n\t\t\tif (light.type == ${ja.spot}) {\n\t\t\t\tspotAttenuation = ${d("getSpotAttenuation")}(pointToLightDirection, light.direction, light.outerConeCos, light.innerConeCos);\n\t\t\t}\n\t\t\treturn rangeAttenuation * spotAttenuation * light.intensity * light.color;\n\t\t}`,fresnelSchlick:(l,s,u,d)=>`\n\t\tvec3 fresnelSchlick(vec3 f0, vec3 f90, float VdotH) {\n\t\t\tvec3 x = vec3(1.0) - VdotH;\n\t\t\treturn f0 + (f90 - f0) * ${d("pow5")}(x);\n\t\t}`,BRDF_Lambertian:(l,s,u,d)=>`\n\t\tvec3 BRDF_Lambertian(vec3 f0, vec3 f90, vec3 diffuseColor, float specularWeight, float VdotH) {\n\t\t\treturn (1.0 - specularWeight * ${d("fresnelSchlick")}(f0, f90, VdotH)) * (diffuseColor / ${d("PI")});\n\t\t}`,V_GGX:"\n\t\tfloat V_GGX(float NdotL, float NdotV, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat GGXV = NdotL * sqrt(NdotV * NdotV * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGXL = NdotV * sqrt(NdotL * NdotL * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGX = GGXV + GGXL;\n\t\t\tif (GGX > 0.0) {\n\t\t\t\treturn 0.5 / GGX;\n\t\t\t}\n\t\t\treturn 0.0;\n\t\t}",D_GGX:(l,s,u,d)=>`\n\t\tfloat D_GGX(float NdotH, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat f = (NdotH * NdotH) * (alphaRoughnessSq - 1.0) + 1.0;\n\t\t\treturn alphaRoughnessSq / (${d("PI")} * f * f);\n\t\t}`,BRDF_specularGGX:(l,s,u,d)=>`\n\t\tvec3 BRDF_specularGGX(vec3 f0, vec3 f90, float alphaRoughness, float specularWeight, float NdotV, ${d("ComputedLight")} light) {\n\t\t\tvec3 F = ${d("fresnelSchlick")}(f0, f90, light.VdotH);\n\t\t\tfloat Vis = ${d("V_GGX")}(light.NdotL, NdotV, alphaRoughness);\n\t\t\tfloat D = ${d("D_GGX")}(light.NdotH, alphaRoughness);\n\t\t\treturn specularWeight * F * Vis * D;\n\t\t}`,sampleSphericalHarmonic:"vec3 sampleSphericalHarmonic(in vec3 normal, in vec3 shCoefficients[9]) {\n\t\tfloat x = normal.x, y = normal.y, z = normal.z;\n\t\t// return shCoefficients[ 0 ] +\n\t\t// \t+ shCoefficients[ 1 ] * y;\n\t\t// \t+ shCoefficients[ 2 ] * z;\n\t\t// \t+ shCoefficients[ 3 ] * x;\n\t\t// \t+ shCoefficients[ 4 ] * x * y;\n\t\t// \t+ shCoefficients[ 5 ] * y * z;\n\t\t// \t+ shCoefficients[ 6 ] * (3.0 * z * z - 1.0);\n\t\t// \t+ shCoefficients[ 7 ] * x * z;\n\t\t// \t+ shCoefficients[ 8 ] * (x * x - y * y);\n\t\treturn shCoefficients[ 0 ] * 0.886227 +\n\t\t\t+ shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\t\t\t+ shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\t\t\t+ shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\t\t\t+ shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\t\t\t+ shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\t\t\t+ shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\t\t\t+ shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\t\t\t+ shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\t}",getSpecularSample:(l,s,u,d)=>`\n\tvec4 getSpecularSample(vec3 reflection, float roughness) {\n\t\tfloat lod = roughness * (2.0 - roughness) * ${d("imageLightLODScale")};\n\t\treturn ${d("textureCubeLod")}(${d("imageLightSpecularTexture")}, ${d("imageLightRotation")} * reflection, lod) * ${d("imageLightIntensity")};\n\t}`,vSurfaceToCamera:Jo("vec3","surfaceToCamera"),surfaceToCamera:(l,s,u,d)=>l===fs.frag?{main:[`vec3 surfaceToCamera = normalize(${d("vSurfaceToCamera")});`]}:{main:[`vec3 surfaceToCamera = normalize(${d("cameraPosition")} - ${d("worldPosition")});`]},vCosPointNegRotation:Jo("float","cosPointNegRotation"),cosPointNegRotation:(l,s,u,d)=>l===fs.frag?{symbol:d("vCosPointNegRotation")}:{main:[`float cosPointNegRotation = cos(-${d("attr:uvRotate")});`]},vSinPointNegRotation:Jo("float","sinPointNegRotation"),sinPointNegRotation:(l,s,u,d)=>l===fs.frag?{symbol:d("vSinPointNegRotation")}:{main:[`float sinPointNegRotation = sin(-${d("attr:uvRotate")});`]},vTBN:Jo("mat3","TBN"),TBN(l,s,u,d){if(l===fs.frag)return u.topology===Ee.points?{main:`\n\t\t\t\t\t\tmat3 TBN; {\n\t\t\t\t\t\t\tfloat c = ${d("cosPointNegRotation")};\n\t\t\t\t\t\t\tfloat s = ${d("sinPointNegRotation")};\n\t\t\t\t\t\t\tmat3 tmpRotation = mat3(\n\t\t\t\t\t\t\t\tc, s, 0,\n\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tTBN = tmpRotation * mat3(${d("viewMatrixInverse")}) * mat3(\n\t\t\t\t\t\t\t\t1.0 , 0.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, -1.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, 0.0, 1.0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t`}:u.tangents&&u.normals?{main:[`mat3 TBN = mat3(\n\t\t\t\t\t\t\tnormalize(${d("vTBN")}[0]),\n\t\t\t\t\t\t\tnormalize(${d("vTBN")}[1]),\n\t\t\t\t\t\t\tnormalize(${d("vTBN")}[2])\n\t\t\t\t\t\t);`]}:{requires:["extStandardDerivatives"],main:[`mat3 TBN;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 UV = ${d("texCoord")};\n\t\t\t\t\t\tvec2 uv_dx = dFdx(UV);\n\t\t\t\t\t\tvec2 uv_dy = dFdy(UV);\n\t\t\t\t\t\tif (length(uv_dx) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dx = vec2(1.0, 0.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (length(uv_dy) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dy = vec2(0.0, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 t_ = (uv_dy.t * dFdx(${d("worldPosition")}) - uv_dx.t * dFdy(${d("worldPosition")})) /\n\t\t\t\t\t\t(uv_dx.s * uv_dy.t - uv_dy.s * uv_dx.t);`,u.normals?`vec3 ng = ${d("normal")};`:`vec3 ng = normalize(cross(dFdx(${d("worldPosition")}), dFdy(${d("worldPosition")})));`,"\n\t\t\t\t\t\tTBN[0] = normalize(t_ - ng * dot(ng, t_));\n\t\t\t\t\t\tTBN[1] = cross(ng, TBN[0]);\n\t\t\t\t\t\tTBN[2] = ng;\n\t\t\t\t\t}"]};if(!u.tangents)throw new Error("Unable to compute TBN matrix in vertex shader without geometry tangents.");return{main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tvec3 tangentW = normalize(vec3(${d("modelMatrix")} * vec4(${d("tangent")}, 0.0)));\n\t\t\t\t\tvec3 bitangentW = cross(${d("normal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${d("normal")});\n\t\t\t\t}\n\t\t\t`}},iorOutside:{symbol:"1.0"},f0:(l,s,u,d)=>({main:`\n\t\t\tvec3 f0 = vec3(\n\t\t\t\t${d("saturate")}(\n\t\t\t\t\t${d("pow2")}(\n\t\t\t\t\t\t(${d("ior")} - ${d("iorOutside")}) /\n\t\t\t\t\t\t(${d("ior")} + ${d("iorOutside")})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) * ${d("specularColor")};\n\t\t\t${u.specularColorTextureLayers.map((S,H)=>Ga("specularColor","f0",H,S,d)).join("\n")}\n\n\t\t\t\n\t\t\tf0 = mix(f0, ${d("color")}, ${d("metalness")});\n\n\t\t\t\n\t\t`}),diffuseColor:(l,s,u,d)=>({main:`vec3 diffuseColor = mix(${d("color")}, vec3(0.0), ${d("metalness")});`}),specularWeight:(l,s,u,d)=>({main:`\n\t\t\tfloat specularWeight = ${d("specularFactor")};\n\t\t\t${u.specularFactorTextureLayers.map((S,H)=>Gc("specularFactor","specularWeight",H,S,d)).join("\n")}\n\n\t\t\t\n\t\t\tspecularWeight = mix(specularWeight, 1.0, ${d("metalness")});\n\t\t\t`}),metalness:(l,s,u,d)=>({main:`\n\t\t\tfloat metalness = ${d("metallic")};\n\t\t\t${u.metallicTextureLayers.map((S,H)=>Gc("metallic","metalness",H,S,d)).join("\n")}\n\t\t\t`}),perceptualRoughness:(l,s,u,d)=>({main:`float perceptualRoughness = ${d("roughness")}; {\n\t\t\t\t${u.roughnessTextureLayers.map((S,H)=>Gc("roughness","perceptualRoughness",H,S,d)).join("\n")}\n\t\t\t\tperceptualRoughness = clamp(perceptualRoughness, ${ls}, 1.0);\n\t\t\t}`}),alphaRoughness:(l,s,u,d)=>({main:`\n\t\t\t\tfloat alphaRoughness = ${d("perceptualRoughness")} * ${d("perceptualRoughness")};\n\t\t\t`}),ambientOcclusion:(l,s,u,d)=>({main:`\n\t\t\t\tfloat ambientOcclusion = 1.0;\n\t\t\t\t${u.occlusionTextureLayers.map((S,H)=>Gc("occlusion","ambientOcclusion",H,S,d)).join("\n")}\n\t\t\t`}),emissiveOutput:(l,s,u,d)=>({main:`\n\t\t\t\tvec3 emissiveOutput = ${d("emissive")};\n\t\t\t\t${u.emissiveTextureLayers.map((S,H)=>Ga("emissive","emissiveOutput",H,S,d)).join("\n")}\n\t\t\t\t${u.emissiveFresnel?`emissiveOutput = ${d("emissiveFresnelColor")}(emissiveOutput, ${d("surfaceToView")}, ${d("texturedViewNormal")});`:""}\n\t\t\t`}),sphericalHarmonicAmbient:(l,s,u,d)=>({main:`\n\t\t\t\tvec3 sphericalHarmonicAmbient = ${d("sampleSphericalHarmonic")}(${d("N")}, ${d("irradianceCoefficients")}) / ${d("PI")} * ${d("imageLightIntensity")};\n\t\t\t`}),irradianceSample:(l,s,u,d)=>({main:`\n\t\t\t\tvec3 irradianceSample = ${d("textureCube")}(${d("imageLightIrradianceTexture")}, ${d("imageLightRotation")} * ${d("N")}).rgb * ${d("imageLightIntensity")};\n\t\t\t`}),environmentBRDF:(l,s,u,d)=>({main:u.computeBRDF?`vec2 environmentBRDF; {\n\t\t\t\tconst vec4 c0 = vec4(-1, -0.0275, -0.572, 0.022);\n\t\t\t\tconst vec4 c1 = vec4(1, 0.0425, 1.04, -0.04);\n\t\t\t\tvec4 r = ${d("perceptualRoughness")} * c0 + c1;\n\t\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * ${d("NdotV")})) * r.x + r.y;\n\t\t\t\tenvironmentBRDF = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\t}`:`vec2 environmentBRDF; {\n\t\t\t\tvec2 brdfSamplePoint = clamp(vec2(${d("NdotV")}, ${d("perceptualRoughness")}), vec2(0.0, 0.0), vec2(1.0, 1.0));\n\t\t\t\tenvironmentBRDF = ${d("texture2D")}(${d("brdfLookUpTexture")}, brdfSamplePoint).rg;\n\t\t\t}`}),FssEss:(l,s,u,d)=>({main:`vec3 FssEss; {\n\t\t\tvec3 Fr = max(vec3(1.0 - ${d("perceptualRoughness")}), ${d("f0")}) - ${d("f0")};\n\t\t\tvec3 k_S = ${d("f0")} + Fr * ${d("pow5")}(1.0 - ${d("NdotV")});\n\t\t\tFssEss = k_S * ${d("environmentBRDF")}.x + ${d("environmentBRDF")}.y;\n\t\t}`}),iblRadianceLambertian:(l,s,u,d)=>({main:`\n\t\t\tvec3 iblRadianceLambertian;\n\t\t\t{\n\t\t\t\tvec3 irradiance = ${d("ambientLightColor")};\n\t\t\t\t${u.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t\t${d("parametric"===u.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t\t`:""}\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t\tvec3 weightedFssEss = ${d("specularWeight")} * ${d("FssEss")};\n\n\t\t\t\t\n\t\t\t\tfloat Ems = (1.0 - (${d("environmentBRDF")}.x + ${d("environmentBRDF")}.y));\n\t\t\t\tvec3 F_avg = ${d("specularWeight")} * (${d("f0")} + (1.0 - ${d("f0")}) / 21.0);\n\t\t\t\tvec3 FmsEms = Ems * weightedFssEss * F_avg / (1.0 - F_avg * Ems);\n\t\t\t\tvec3 k_D = ${d("diffuseColor")} * (1.0 - weightedFssEss + FmsEms); \n\n\t\t\t\tiblRadianceLambertian = (FmsEms + k_D) * irradiance;\n\t\t\t}`}),iblDiffuse:(l,s,u,d)=>({main:`vec3 iblDiffuse; {\n\t\t\tvec3 irradiance = ${d("ambientLightColor")};\n\t\t\t${u.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t${d("parametric"===u.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t`:""}\n\t\t\tiblDiffuse = irradiance * ${d("diffuseColor")};\n\t\t}`}),iblRadianceGGX:(l,s,u,d)=>({main:`vec3 iblRadianceGGX; {\n\t\t\tvec3 reflection = reflect(-${d("surfaceToCamera")}, ${d("N")});\n\t\t\tvec4 specularSample = ${d("getSpecularSample")}(reflection, ${d("perceptualRoughness")});\n\t\t\tvec3 specularLight = specularSample.rgb;\n\n\t\t\t\n\n\t\t\tiblRadianceGGX = ${d("specularWeight")} * specularLight * ${d("FssEss")};\n\t\t}`}),diffuseAmbient:(l,s,u,d)=>({main:`\n\t\t\t\tvec3 diffuseAmbient; {\n\t\t\t\t\tdiffuseAmbient = ${d("iblDiffuse")};\n\t\t\t\t\tdiffuseAmbient *= ${d("ambientOcclusion")};\n\t\t\t\t}\n\t\t\t`}),normalInfo:(l,s,u,d)=>({symbol:"normalInfo",main:[`${d("NormalInfo")} normalInfo; {\n\t\t\t\t\tnormalInfo.t = ${d("TBN")}[0];\n\t\t\t\t\tnormalInfo.b = ${d("TBN")}[1];\n\t\t\t\t\tvec3 ng = ${d("TBN")}[2];\n\t\t\t\t\tnormalInfo.ng = ng;\n\t\t\t\t\tnormalInfo.n = ng;\n\t\t\t\t`,...u.normalTextureLayers.length?[...u.normalTextureLayers.map((S,H)=>function(le,oe,we){const{blendMode:xe}=le,Be=we("normalTextureBlendFactor",oe);return`{\n\t\tvec4 texSample = ${we("sampleNormalTexture",oe)};\n\t\tvec3 sampledNormal = ${we("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);\n\t\t${"over"===xe?`normalInfo.n = mix(normalInfo.n, sampledNormal, ${Be});`:`normalInfo.n += ${Be} * sampledNormal;`}\n\t}`}(S,H,d)),"normalInfo.n = normalize(normalInfo.n);"]:[],"}"]}),N:(l,s,u,d)=>({symbol:`${d("normalInfo")}.n`}),texturedViewNormal:(l,s,u,d)=>({main:`vec3 texturedViewNormal = (${d("viewMatrix")} * vec4(${d("N")}, 0.0)).xyz;`}),NdotV:(l,s,u,d)=>({main:`float NdotV = ${d("clampedDot")}(${d("N")}, ${d("surfaceToCamera")});`}),punctualLight(l,s,u,d){const S=`punctualLight${s}`;return{symbol:S,main:`\n\t\t\t\t${d("ComputedLight")} ${S};\n\t\t\t\t{\n\t\t\t\t\t${d("ComputedLight")} light;\n\t\t\t\t\t${d("LightSource")} lightSource = ${d("lightSource",s)};\n\t\t\t\t\tvec3 pointToLight = lightSource.type == ${ja.directional} ?\n\t\t\t\t\t\t-lightSource.direction :\n\t\t\t\t\t\tlightSource.position - ${d("worldPosition")} ;\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 L = normalize(pointToLight);\n\n\t\t\t\t\t\n\n\t\t\t\t\tvec3 H = normalize(L + ${d("surfaceToCamera")});\n\n\t\t\t\t\tvec3 n = ${d("normalInfo")}.n;\n\n\t\t\t\t\tlight.intensity = ${d("getLightIntensity")}(lightSource, pointToLight, L);\n\t\t\t\t\tlight.NdotL = ${d("clampedDot")}(${d("N")}, L);\n\t\t\t\t\tlight.NdotH = ${d("clampedDot")}(${d("N")}, H);\n\t\t\t\t\tlight.VdotH = ${d("clampedDot")}(${d("surfaceToCamera")}, H);\n\t\t\t\t\t${S} = light;\n\t\t\t\t}\n\t\t\t`}},diffuse:(l,s,u,d)=>({main:[`vec3 diffuse = ${d("diffuseAmbient")};`,...$n(u.lights,S=>`{\n\t\t\t\t\tdiffuse += ${d("punctualLight",S)}.intensity * ${d("punctualLight",S)}.NdotL * ${d("BRDF_Lambertian")}(${d("f0")}, ${d("f90")}, ${d("diffuseColor")}, ${d("specularWeight")}, ${d("punctualLight",S)}.VdotH);\n\t\t\t\t}`)]}),specular:(l,s,u,d)=>({main:["vec3 specular = vec3(0.0);",u.imageLightSpecularTexture?`specular += ${d("iblRadianceGGX")} * ${d("ambientOcclusion")};`:"",...$n(u.lights,S=>`{\n\t\t\t\t\tspecular += ${d("punctualLight",S)}.intensity * ${d("punctualLight",S)}.NdotL * ${d("BRDF_specularGGX")}(${d("f0")}, ${d("f90")}, ${d("alphaRoughness")}, ${d("specularWeight")}, ${d("NdotV")}, ${d("punctualLight",S)});\n\t\t\t\t}`)]})},Rs=["baseColorFresnel","opacityFresnel","emissiveFresnel"],ad=["baseColorMaps","opacityMaps","metallicMaps","roughnessMaps","occlusionMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"],wf=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"],["metallicMaps","metallicTexture"],["roughnessMaps","roughnessTexture"],["occlusionMaps","occlusionTexture"],["emissiveMaps","emissiveTexture"],["specularFactorMaps","specularFactorTexture"],["specularColorMaps","specularColorTexture"],["normalMaps","normalTexture"]],Vl=new Map;Vl.set(cr,{options:function(l){const{material:s}=l;if(!s||!l.geometry)return null;const{attributes:u,morphKeys:d,topology:S}=l.geometry,H=d.length>1&&l.morphKeyIndex>=0,le=Object.assign({},wl,{normals:!!u.normal,vertexColors:!!u.color,tangents:!(!u.tangent||H&&d.length&&!d[0].attributes.tangent),uvRotate:!!u.uvRotate,scaleAttr:!!u.scale,uvTranslate:!!u.uvTranslate,topology:S,roundPoints:l instanceof Jn&&l.roundPoints,perspectivePoints:l instanceof Jn&&l.perspectivePoints,modifiers:l.modifiers?Array.from(l.modifiers.values()).sort($e).map(we=>({applyTo:we.applyTo,range:"range"in we,fresnel:"fresnel"in we})):[],octNormals:2===u.normal?.numComponents,quantizedPositions:!!u.position?.decodeMat,quantizedUVs:!!u.texcoord?.decodeMat,morphTarget:H});if(u.texcoord||S===Ee.points){const we=new Map;le.samplers=[];const xe=Be=>{const{texture:Le,...qe}=Be;return{...qe,samplerIndex:we.get(Le)}};ad.forEach(Be=>{s[Be].filter(({texture:Le})=>!!Le).forEach(Le=>{we.has(Le.texture)||(we.set(Le.texture,we.size),le.samplers.push({rowOrder:Le.texture.rowOrder}))})}),Object.assign(le,{baseColorTextureLayers:s.baseColorMaps.map(xe),opacityTextureLayers:s.opacityMaps.map(xe),metallicTextureLayers:s.metallicMaps.map(xe),roughnessTextureLayers:s.roughnessMaps.map(xe),occlusionTextureLayers:s.occlusionMaps.map(xe),emissiveTextureLayers:s.emissiveMaps.map(xe),specularFactorTextureLayers:s.specularFactorMaps.map(xe),specularColorTextureLayers:s.specularColorMaps.map(xe),normalTextureLayers:s.normalMaps.map(xe)})}const oe=Ut(s,Rs);for(const we of Object.keys(oe))le[we]=oe[we];return le},key:Zc(wl),shader:function(l){const s=Object.assign({},wl,l);return hc(nu,{vert:u=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${u("glPointSize")};`:""}\n\t\t\tgl_Position = ${u("screenPosition")};\n\t\t\t${Sc(u,s)}\n\t\t`,frag:u=>`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${u("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\t\t\tfragColor.rgb = ${u("emissiveOutput")} + ${u("diffuse")} + ${u("specular")};\n\n\t\t\tfragColor.a = ${u("alpha")};\n\n\t\t\t\n\t\t\t${sn(u,s)}\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${u("clippingPlaneAlpha")};`:""}\n\n\t\t\tfragColor.a = clamp(fragColor.a, 0.0, 1.0);\n\n\t\t\t\n\t\t\t${ul(u,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${St(u,s)}\n\n\t\t\t${s.fog?`fragColor.rgb = ${u("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${function(d,S,H){const le=Va[S.toneMap];return le?`${H} = ${d(le)}(${H});`:""}(u,s,"fragColor.rgb")}\n\t\t\tfragColor = ${u("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${u("gl_FragColor")} = fragColor;\n\t\t`},Ca(s),s)},setMaterialUniforms:function(l,s,u){l.baseColor=s.baseColor,l.opacity=s.opacity,l.metallic=s.metallic,l.roughness=s.roughness,l.emissive=s.emissive,l.ior=s.ior,l.specularFactor=s.specularFactor,l.specularColor=s.specularColor;const d=new Set;wf.forEach(([H,le])=>{s[H].forEach(({texture:oe,blendFactor:we},xe)=>{if(l[le+"BlendFactor"+xe]=we,!d.has(oe)){const Be=d.size;d.add(oe);const Le=u?.get(oe);Le?(Le.update(),l["textureSampler"+Be]=Le.webglTexture):delete l[le+"Sampler"+xe]}})});const S=tn(s,Rs);for(const H of Object.keys(S))l[H]=S[H]},textureKeys:["baseColorMaps","opacityMaps","metallicMaps","occlusionMaps","roughnessMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"]}),Vl.set(fn,{options:function(l){const{material:s}=l;if(!s||!l.geometry)return null;const{attributes:u,morphKeys:d,topology:S}=l.geometry,H=d.length>1&&l.morphKeyIndex>=0,le=Object.assign({},ze,{vertexColors:!!u.color,uvRotate:!!u.uvRotate,scaleAttr:!!u.scale,uvTranslate:!!u.uvTranslate,topology:S,roundPoints:l instanceof Jn&&l.roundPoints,perspectivePoints:l instanceof Jn&&l.perspectivePoints,modifiers:l.modifiers?Array.from(l.modifiers.values()).sort($e).map(we=>({applyTo:we.applyTo,range:"range"in we,fresnel:"fresnel"in we})):[],octNormals:2===u.normal?.numComponents,quantizedPositions:!!u.position?.decodeMat,quantizedUVs:!!u.texcoord?.decodeMat,morphTarget:H});if(u.texcoord||S===Ee.points){const we=new Map;le.samplers=[];const xe=Be=>{const{texture:Le,...qe}=Be;return{...qe,samplerIndex:we.get(Le)}};kn.forEach(Be=>{s[Be].filter(({texture:Le})=>!!Le).forEach(Le=>{we.has(Le.texture)||(we.set(Le.texture,we.size),le.samplers.push({rowOrder:Le.texture.rowOrder}))})}),Object.assign(le,{baseColorTextureLayers:s.baseColorMaps.map(xe),opacityTextureLayers:s.opacityMaps.map(xe)})}const oe=Ut(s,en);for(const we of Object.keys(oe))le[we]=oe[we];return le},key:Zc(ze),shader:function(l){const s=Object.assign({},ze,l);return hc(ut,{vert:u=>`\n\t\t${"points"===s.topology?`gl_PointSize = ${u("glPointSize")};`:""}\n\t\tgl_Position = ${u("screenPosition")};\n\t\t`,frag:u=>`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${u("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\n\t\t\tfragColor = vec4(\n\t\t\t\t${u("color")},\n\t\t\t\t${u("alpha")}\n\t\t\t);\n\n\t\t\t\n\t\t\t${sn(u,s)}\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${u("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${ul(u,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${St(u,s)}\n\n\t\t\tfragColor = ${u("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${u("gl_FragColor")} = fragColor;\n\t\t`},Ca(s),s)},setMaterialUniforms:function(l,s,u){l.opacity=s.opacity,l.baseColor=s.baseColor;const d=new Set;Qn.forEach(([H,le])=>{s[H].forEach(({texture:oe,blendFactor:we},xe)=>{if(l[le+"BlendFactor"+xe]=we,!d.has(oe)){const Be=d.size;d.add(oe);const Le=u?.get(oe);Le?(Le.update(),l["textureSampler"+Be]=Le.webglTexture):delete l[le+"Sampler"+xe]}})});const S=tn(s,en);for(const H of Object.keys(S))l[H]=S[H]},textureKeys:["baseColorMaps","opacityMaps"]}),Vl.set(Yt,{options:function(l){const{material:s}=l;if(!s||!l.geometry)return null;const{attributes:u,morphKeys:d,topology:S}=l.geometry,H="metallic"===s.type,le=H?zs:lo,oe=(u.texcoord||S===Ee.points)&&s.textures?.filter(Le=>le.has(Le.applyTo)).map(Le=>({applyTo:Le.applyTo,blendMode:Le.blendMode,rowOrder:Le.texture?.rowOrder||"top-down"}))||[],we=d.length>1&&l.morphKeyIndex>=0,xe=Object.assign({},Fo,{metallicMaterial:H,normals:!!u.normal,vertexColors:!!u.color,tangents:!(!u.tangent||we&&d.length&&!d[0].attributes.tangent),uvRotate:!!u.uvRotate,scaleAttr:!!u.scale,uvTranslate:!!u.uvTranslate,topology:S,textureLayers:oe,modifiers:l.modifiers?Array.from(l.modifiers.values()).sort($o).map(Le=>({applyTo:Le.applyTo,range:"range"in Le,fresnel:"fresnel"in Le})):[],octNormals:2===u.normal?.numComponents,quantizedPositions:!!u.position?.decodeMat,quantizedUVs:!!u.texcoord?.decodeMat,roundPoints:l instanceof Jn&&l.roundPoints,perspectivePoints:l instanceof Jn&&l.perspectivePoints,morphTarget:we,reflectionMap:!!s.reflectionMap}),Be=Ut(s,Ss);for(const Le of Object.keys(Be))xe[Le]=Be[Le];return xe},key:Zc(Fo),shader:function(l){const s=Object.assign({},Fo,l);return hc(yo,{vert:u=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${u("glPointSize")};`:""}\n\t\t\tgl_Position = ${u("screenPosition")};\n\t\t\t${Sc(u,s)}\n\t\t`,frag:u=>{return`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t\n\t\t\tvec3 color = ${u(s.vertexColors?"vertexColor":"baseColor")}.rgb;\n\t\t\tfloat alpha = ${"opaque"===s.alphaMode?"1.0":u("opacity")};\n\t\t\t${s.vertexColors?`alpha *= ${u("vertexColor")}.a;`:""}\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${u("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tfloat emit = ${u("emitColor")}.a;\n\t\t\tvec3 emitRGB = ${u("emitColor")}.rgb;\n\n\t\t\tfloat transparency = 1.0 - alpha;\n\n\t\t\t${s.normals&&"opaque"!==s.alphaMode?`\n\t\t\tif (transparency > 0.0) {\n\t\t\t\tfloat gf = ${u("glassFactor")} * (${u("murkiness")} - abs(dot(${u("viewNormal")}, vec3(0.0, 0.0, -1.0))));\n\t\t\t\talpha = max(alpha, gf);\n\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t}\n\t\t\t`:""}\n\n\t\t\t\n\t\t\t${function(d,S,H){const le={};let oe=!1,we=d.map((xe,Be)=>{const Le=Ui[xe.applyTo];if(oe=oe||"normals"===xe.applyTo,Le){const qe=ei[xe.applyTo]||xe.applyTo,pt=!le[qe];return le[qe]=!0,Le(xe,Be,pt,S,H)}return""}).join("\n\t");return oe&&(we+=`\n${S("texturedViewNormal")} = normalize(${S("texturedViewNormal")});`),we}(s.textureLayers,u,s)}\n\n\t\t\tvec4 fragColor;\n\n\t\t\t\n\t\t\t${s.normals?`\n\t\t\t\t${s.metallicMaterial?`\n\t\t\t\t\t\n\t\t\t\t\t${u("Material")} material;\n\t\t\t\t\t${u("Geometry")} geometry;\n\t\t\t\t\t${u("ReflectedLight")} reflectedLight = ReflectedLight(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));\n\n\t\t\t\t\tfloat dielectricSpecular = 0.16 * ${u("specularF0")} * ${u("specularF0")};\n\t\t\t\t\tmaterial.diffuseColor = (1.0 - dielectricSpecular) * (1.0 - ${u("metallic")}) * color;\n\n\t\t\t\t\t\n\t\t\t\t\tmaterial.specularRoughness = clamp(sqrt(${u("roughness")}), 0.04, 1.0);\n\t\t\t\t\tmaterial.specularColor = mix(vec3(dielectricSpecular), color, ${u("metallic")});\n\n\t\t\t\t\t\n\t\t\t\t\tgeometry.position = ${u("viewPosition")};\n\t\t\t\t\tgeometry.viewNormal = ${u("texturedViewNormal")};\n\t\t\t\t\tgeometry.viewEyeDir = -${u("normalizedViewPosition")};\n\n\t\t\t\t\t\n\t\t\t\t\t${s.environmentReflectionMap?`${u("computePBRReflectionMapping")}(\n\t\t\t\t\t\t${u("reflectionMap")},\n\t\t\t\t\t\t${u("reflectionMapIntensity")},\n\t\t\t\t\t\t${u("viewMatrix")},\n\t\t\t\t\t\tgeometry,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight,\n\t\t\t\t\t\t${u("reflectionMapMaxMipLevel")}\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\t\t\t\t\t${s.lightMapSpace?`${u("computePBRLightMapping")}(\n\t\t\t\t\t\t${u("lightMap")},\n\t\t\t\t\t\t${u("lightMapIntensity")},\n\t\t\t\t\t\tgeometry.${"world"===s.lightMapSpace?"worldNormal":"viewNormal"},\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${$n(s.lights,d=>`{\n\t\t\t\t\t\t${u("IncidentLight")} light;\n\t\t\t\t\t\tlight.color = ${u("lightSource",d)}.color;\n\n\t\t\t\t\t\tif (${u("lightSource",d)}.type == ${mr.dir}) {\n\t\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\t\tviewLightVec = normalize(${u("lightSource",d)}.position);\n\t\t\t\t\t\t\tif (!${u("lightSource",d)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = (${u("viewMatrix")} * vec4(viewLightVec, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlight.direction = viewLightVec;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${u("lightSource",d)}.position - ${u("worldPosition")};\n\t\t\t\t\t\t\tvec3 viewLightVec = ${u("lightSource",d)}.viewSpace ?\n\t\t\t\t\t\t\t\t(${u("viewMatrix")} * vec4(pointToLight, 0.0)).xyz :\n\t\t\t\t\t\t\t\tpointToLight;\n\t\t\t\t\t\t\tlight.direction = normalize(viewLightVec);\n\n\t\t\t\t\t\t\tfloat lightDist = ${u("lightSource",d)}.type == ${mr.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tfloat attenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${u("lightSource",d)}.attenuation.x +\n\t\t\t\t\t\t\t\t${u("lightSource",d)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${u("lightSource",d)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${u("lightSource",d)}.type == ${mr.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${u("viewMatrix")} * vec4(${u("lightSource",d)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), normalize(-viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${u("lightSource",d)}.innerCone) / max(${u("lightSource",d)}.outerCone - ${u("lightSource",d)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlight.color *= attenuation;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t${u("computePBRLighting")}(light, geometry, material, reflectedLight);\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${s.baseFresnel?`reflectedLight.diffuse = ${u("baseFresnelColor")}(reflectedLight.diffuse, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.specularFresnel?`reflectedLight.specular = ${u("specularFresnelColor")}(reflectedLight.specular, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${u("alphaFresnelValue")}(alpha, ${u("surfaceToView")}, ${u("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${s.transparencyFresnel?`transparency = ${u("transparencyFresnelValue")}(transparency, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.emitFresnel?`emitRGB = ${u("emitFresnelColor")}(emitRGB, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 outgoingLight = ${u("occlusion")} * (reflectedLight.diffuse + reflectedLight.specular) +\n\t\t\t\t\t\temit * emitRGB;\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(outgoingLight, alpha);\n\t\t\t\t`:`\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t${s.reflectionMap?`\n\t\t\t\t\t\tfloat reflectFactor = 1.0;\n\t\t\t\t\t\t${s.reflectionFresnel?`reflectFactor = ${u("reflectionFresnelValue")}(reflectFactor, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t\tvec3 envLookup = reflect(-${u("surfaceToView")}, ${u("texturedViewNormal")}); \n\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec4 envColor = ${u("textureCube")}(${u("reflectionMap")}, envLookup);\n\t\t\t\t\t\tcolor = mix(color, envColor.rgb, reflectFactor * ${u("specular")} * ${u("reflectionMapIntensity")});\n\t\t\t\t\t`:""}\n\n\t\t\t\t\tvec3 lightValue = vec3(0.0, 0.0, 0.0);\n\t\t\t\t\tvec3 specularValue = vec3(0.0, 0.0, 0.0);\n\n\t\t\t\t\t\n\t\t\t\t\t${$n(s.lights,d=>`{\n\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\tfloat attenuation = 1.0;\n\n\t\t\t\t\t\tif (${u("lightSource",d)}.type == ${mr.dir}) {\n\t\t\t\t\t\t\tif (${u("lightSource",d)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = ${u("lightSource",d)}.position;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvec3 pointToLight = normalize(-${u("lightSource",d)}.position);\n\t\t\t\t\t\t\t\tviewLightVec = -(${u("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${u("lightSource",d)}.position - ${u("worldPosition")};\n\t\t\t\t\t\t\tviewLightVec = ${u("lightSource",d)}.viewSpace ?\n\t\t\t\t\t\t\t\tpointToLight :\n\t\t\t\t\t\t\t\t(${u("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\n\t\t\t\t\t\t\tfloat lightDist = ${u("lightSource",d)}.type == ${mr.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tattenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${u("lightSource",d)}.attenuation.x +\n\t\t\t\t\t\t\t\t${u("lightSource",d)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${u("lightSource",d)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${u("lightSource",d)}.type == ${mr.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${u("viewMatrix")} * vec4(${u("lightSource",d)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), -normalize(viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${u("lightSource",d)}.innerCone) / max(${u("lightSource",d)}.outerCone - ${u("lightSource",d)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tviewLightVec = normalize(viewLightVec);\n\n\t\t\t\t\t\tfloat dotN = max(dot(${u("texturedViewNormal")}, viewLightVec), 0.0);\n\t\t\t\t\t\tif (${u("lightSource",d)}.diffuse) {\n\t\t\t\t\t\t\tlightValue += dotN * attenuation * ${u("lightSource",d)}.color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (${u("lightSource",d)}.specular) {\n\t\t\t\t\t\t\tfloat specularScale = ${u("specular")} * pow(max(dot(reflect(-viewLightVec, -${u("texturedViewNormal")}), -${u("normalizedViewPosition")}), 0.0), ${u("shine")}) * attenuation;\n\t\t\t\t\t\t\tspecularValue += ${u("specularColor")} * ${u("lightSource",d)}.color * specularScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${s.baseFresnel?`color.rgb = ${u("baseFresnelColor")}(color.rgb, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.specularFresnel?`specularValue.rgb = ${u("specularFresnelColor")}(specularValue.rgb, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${u("alphaFresnelValue")}(alpha, ${u("surfaceToView")}, ${u("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${s.transparencyFresnel?`transparency = ${u("transparencyFresnelValue")}(transparency, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.emitFresnel?`emitRGB = ${u("emitFresnelColor")}(emitRGB, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(\n\t\t\t\t\t\tspecularValue +\n\t\t\t\t\t\t\tcolor * (lightValue + ${u("ambientLightColor")}) +\n\t\t\t\t\t\t\temit * emitRGB,\n\t\t\t\t\t\talpha\n\t\t\t\t\t);\n\t\t\t\t`}\n\t\t\t`:`\n\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\tfragColor = vec4(\n\t\t\t\t\t(color.rgb + (emit * color.rgb)) * (vec3(1.0) +\n\t\t\t\t\t\t${u("ambientLightColor")}),\n\t\t\t\t\talpha\n\t\t\t\t);\n\t\t\t`}\n\n\t\t\t\n\t\t\t${d=u,S=s,S.modifiers?.map((H,le)=>"opacity"===H.applyTo?(0,To[H.applyTo])(H,le,d,S):"").join("\n\t")}\n\n\t\t\t\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${u("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${ul(u,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${function(d,S){return S.modifiers?.map((H,le)=>{if("opacity"!==H.applyTo){const oe=To[H.applyTo];if(oe)return oe(H,le,d,S);console.warn("modifier not implemented",H.applyTo)}return""}).join("\n\t")}(u,s)}\n\n\t\t\t${s.fog?`fragColor.rgb = ${u("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${s.metallicMaterial?`fragColor = ${u("linearToGamma")}(fragColor, 2.2);`:""}\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${u("gl_FragColor")} = fragColor;\n\t\t`;var d,S}},Ca(s),s)},setMaterialUniforms:function(l,s,u){if(l.opacity=s.opacity,l.baseColor=s.baseColor,l.emitColor=s.emitColor,l.glassFactor=s.glassFactor,l.murkiness=s.murkiness,"metallic"===s.type){let H=l.metalRoughSpecularf0;H||(H=l.metalRoughSpecularf0=new Float32Array(3)),H[0]=s.metallic,H[1]=s.roughness,H[2]=s.specularf0}else l.specularColor=s.specularColor,l.phongShine=s.shine;s.textures.forEach((H,le)=>{l["textureBlendFactor"+le]=H.blendFactor;const oe=u?.get(H.texture);oe?(oe.update(),l["textureSampler"+le]=oe.webglTexture):delete l["textureSampler"+le]});const d=tn(s,Ss);for(const H of Object.keys(d))l[H]=d[H];const{reflectionMap:S}=s;S&&(l.reflectionMapIntensity=S.intensity,l.reflectionMapMaxMipLevel=Math.max(0,S.mipLevels-1))},textureKeys:["textures"]});const Xa=l=>Vl.get(l.constructor),xl=["shader","geometry","morph","vertexCount","transparency"],xf={geometry:["shader","morph","vertexCount"],"geometry.*":["geometry","morph","shader"],"geometry.count":["transparency","vertexCount"],"geometry.offset":["vertexCount"],modifier:["shader","transparency"],"modifier.value":["transparency"],material:["shader"],"material.transparent":["transparency"],"material.clippable":["transparency"],"material.opacity":["transparency"],"material.fresnel":["transparency"],visible:["transparency"],morphKeyIndex:["morph"]};class Fa extends b{programInfo=null;bufferInfo=null;vertexArrayInfo=null;baseBufferInfo=null;morphBufferInfo=[];baseVertexArrayInfo=null;morphVAOs=[];uniforms;screenPosition;clockwise=!1;mesh;worldMatrix;vertexCount;layer;renderOrder;depthMask;blendMode;alphaMode;dirty;topology;offset;count;update;setDirty;constructor(s,{geometryBufferCache:u,shaderResourceCache:d,geometryUniformsCache:S,materialUniformsCache:H,vaoCache:le,alphaModeOptions:oe,clippingPlanes:we,textureResourceCache:xe}){super();let Be=null,Le=null,qe=!0,pt=!1,mt=s.renderable,Ot=null;this.mesh=s;const At={shader:!0,geometry:!0,vertexCount:!0,transparency:!0,morph:!0},Nt={modelMatrix:s.worldMatrix,normalMatrix:s.normalMatrix},mn=new Map;this.uniforms=[null,null,Nt],this.worldMatrix=s.worldMatrix,this.screenPosition=(0,h.create)(),this.clockwise=s.reflected,this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,this.alphaMode=eu(s,we,oe);const on=()=>{if(Be){if(Be.morphKeys.length>1){const vr=this.morphBufferInfo;for(let oi=0;oi<vr.length;oi++)le?.release(s,this.programInfo,vr[oi]),u.release(this,Be,oi);this.morphVAOs.length=0}le?.release(s,this.programInfo,this.baseBufferInfo),u.release(this,Be),this.baseBufferInfo=null,this.bufferInfo=null,this.morphBufferInfo.length=0,S.release(s,Be),this.uniforms[1]=null,Be=null}},_n=vr=>{if(vr!==Be){if(Be&&on(),Be=vr,Be){if(Be.morphKeys.length>1){const oi=this.morphBufferInfo;for(let _i=0,Wr=Be.morphKeys.length-1;_i<Wr;_i++)oi.push(u.get(this,Be,_i))}this.baseBufferInfo=u.get(this,Be),this.uniforms[1]=S.get(s,Be),this.setDirty("geometry")}else this.uniforms[1]=null;pt=!!Be&&s.morphKeyIndex>=0&&Be.morphKeys.length>1}},gn=()=>{mn.forEach((vr,oi)=>{xe.release(this,oi)}),mn.clear(),H.release(s,Le),this.uniforms[0]=null,Le=null,Ot=null},Mn=vr=>{vr!==Le&&(Le&&gn(),Le=vr,Ot=Xa(vr),Ot.textureKeys.forEach(oi=>{Le[oi].forEach(({texture:_i})=>{const Wr=xe?.get(this,_i);Wr&&(Wr.update(),mn.set(_i,Wr))})}),this.uniforms[0]=H.get(s,Le))},Kn=vr=>{if(this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,!vr.property)return void this.setDirty();const oi=[vr.property+".*"];oi.push(vr.detail?vr.property+"."+vr.detail:vr.property);for(let Wr=0;Wr<oi.length;Wr++){const pi=oi[Wr];xf[pi]?.forEach(this.setDirty)}const _i=pt;pt=!!Be&&s.morphKeyIndex>=0&&Be.morphKeys.length>1,pt!==_i&&this.setDirty("shader"),"geometry"===vr.property?_n(s.geometry):"material"===vr.property&&Mn(s.material),qe=!0},ur=()=>{this.clockwise=s.reflected,mt!==s.renderable&&(mt=s.renderable,this.setDirty("transparency"))};s.on("change",Kn),s.on("updateWorldMatrix",ur),this.update=()=>{if(!qe)return!1;if(At.transparency){const Wr=eu(s,we,oe);Wr!==this.alphaMode&&(this.alphaMode=Wr,At.shader=!0),At.transparency=!1}const vr=this.programInfo;vr&&!At.shader||(vr&&d.release(s),this.programInfo=d.get(s),At.shader=!1);let _i=At.morph;if(Be&&(At.geometry||vr!==this.programInfo)){const{morphBufferInfo:Wr,morphVAOs:pi}=this;if(le){for(let Vi=0;Vi<pi.length;Vi++)le.release(s,vr,Wr[Vi]);if(pi.length=0,le.release(s,vr,this.baseBufferInfo),pt){for(let Vi=0;Vi<Wr.length;Vi++)pi[Vi]=le.get(s,this.programInfo,Wr[Vi])||null;this.baseVertexArrayInfo=null}else this.baseVertexArrayInfo=le.get(s,this.programInfo,this.baseBufferInfo)||null;_i=!0}}if(_i){if(pt){const{morphKeyIndex:Wr}=s;this.bufferInfo=this.morphBufferInfo[Wr],this.vertexArrayInfo=le?this.morphVAOs[Wr]:null}else this.bufferInfo=this.baseBufferInfo,this.vertexArrayInfo=this.baseVertexArrayInfo;At.morph=!1}return At.geometry=!1,At.vertexCount&&(this.vertexCount=sa(Be,!1),At.vertexCount=!1),this.uniforms[0]&&Ot.setMaterialUniforms(this.uniforms[0],Le,mn),function(Wr,pi){pi.modifiers&&Array.from(pi.modifiers.values()).sort($e).forEach((Ci,Tr)=>{if("range"in Ci){const wi="modifierCenter"+Tr,yi="modifierRadius"+Tr;if(Wr[wi]||(Wr[wi]=(0,h.create)()),Wr[yi]||(Wr[yi]=(0,Ds.create)()),Ci.parent){Ci.parent.updateWorldMatrix(),(0,h.transformMat4)(Wr[wi],Ci.range.center,Ci.parent.worldMatrix);const ao=$.get();(0,F.getScaling)(ao,Ci.parent.worldMatrix);const Xi=(ao[0]+ao[1]+ao[2])/3;$.release(ao);const ns=Ci.range.minRadius*Xi;(0,Ds.set)(Wr[yi],ns,Ci.range.maxRadius*Xi-ns)}else(0,h.copy)(Wr[wi],Ci.range.center),(0,Ds.set)(Wr[yi],Ci.range.minRadius,Ci.range.maxRadius-Ci.range.minRadius)}else"fresnel"in Ci&&(Array.isArray(Ci.fresnel.center)?(Wr["modifierFresnelCenter"+Tr]=[...Ci.fresnel.center],Wr["modifierFresnelEdge"+Tr]=[...Ci.fresnel.edge]):(Wr["modifierFresnelCenter"+Tr]=[Ci.fresnel.center,0,0],Wr["modifierFresnelEdge"+Tr]=[Ci.fresnel.edge,0,0]),Wr["modifierFresnelBiasCenter"+Tr]=Ci.fresnel.centerBias,Wr["modifierFresnelBiasEdge"+Tr]=Ci.fresnel.edgeBias,Wr["modifierFresnelPower"+Tr]=Ci.fresnel.power);"value"in Ci&&(Array.isArray(Ci.value)?Wr["modifierColorValue"+Tr]=Ci.value:Wr["modifierValue"+Tr]="contrast"===Ci.applyTo?Ci.value+1:Ci.value)});const{geometry:Vi}=pi;if(Vi?.morphKeys.length>1&&pi.morphKeyIndex>=0){const{morphKeyIndex:Ci}=pi;Wr.morphFactor=pi.morphFactor,Wr.decodePositions=Vi.morphKeys[Ci].attributes.position?.decodeMat,Wr.decodeMorphPositions=Vi.morphKeys[Ci+1].attributes.position?.decodeMat}else delete Wr.decodePositions,delete Wr.decodeMorphPositions;pi instanceof Jn&&(Wr.pointSize=pi.pointSize,Wr.pointUVScale=pi.pointUVScale)}(Nt,s),qe=!1,!0},this.setDirty=vr=>{if(vr)At[vr]||(At[vr]=!0,qe=!0,this.emit("dirty",vr));else for(let oi=0;oi<xl.length;oi++)this.setDirty(xl[oi])};const or=this.destroy;this.destroy=()=>{s.off("change",Kn),s.off("updateWorldMatrix",ur),d.release(s),gn(),on(),or()},Object.defineProperties(this,{topology:{get:()=>Be?.topology||Ee.triangles},offset:{get:()=>Be?.offset||0},count:{get:()=>Be?.count||0},dirty:{get:()=>qe},blendMode:{get:()=>Le.blendMode}}),_n(s.geometry),Mn(s.material)}}const Gl=typeof WebGL2RenderingContext<"u";function Ec(l){return Gl&&l instanceof WebGL2RenderingContext}const cd=[["blendColor","BLEND_COLOR"],["clearColor","COLOR_CLEAR_VALUE"],["colorMask","COLOR_WRITEMASK"],["depthRange","DEPTH_RANGE"],["scissor","SCISSOR_BOX"],["viewport","VIEWPORT"],["blendEquationSeparate",["BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA"]],["blendFuncSeparate",["BLEND_SRC_RGB","BLEND_SRC_ALPHA","BLEND_DST_RGB","BLEND_DST_ALPHA"]],["polygonOffset",["POLYGON_OFFSET_FACTOR","POLYGON_OFFSET_UNITS"]],["sampleCoverage",["SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT"]]],ph=[["clearDepth","DEPTH_CLEAR_VALUE"],["clearStencil","STENCIL_CLEAR_VALUE"],["cullFace","CULL_FACE_MODE"],["depthFunc","DEPTH_FUNC"],["frontFace","FRONT_FACE"]],Mf=[3042,2884,2929,3024,32823,32926,32928,3089,2960,35977],Ac=new Set([35977]),Ml=class{constructor(l){const s=new Map,u={},d={};let S=null,H=!1;function le(){Mf.forEach(oe=>{Ac.has(oe)&&!Ec(l)||s.set(oe,l.isEnabled(oe))}),ph.forEach(([oe,we])=>{u[oe]=l.getParameter(l[we])}),H=l.getParameter(l.DEPTH_WRITEMASK),cd.forEach(([oe,we])=>{"string"==typeof we?d[oe]=l.getParameter(l[we]):Array.isArray(we)&&(d[oe]=[],we.forEach((xe,Be)=>{d[oe][Be]=l.getParameter(l[xe])}))}),S=null,l.useProgram(null)}this.disable=oe=>{s.get(oe)&&(l.disable(oe),s.set(oe,!1))},this.enable=oe=>{s.get(oe)||(l.enable(oe),s.set(oe,!0))},this.useProgram=oe=>{oe!==S&&(S=oe,l.useProgram(S))},ph.forEach(([oe])=>{this[oe]=we=>{u[oe]!==we&&(u[oe]=we,l[oe](we))}}),this.depthMask=oe=>{H!==oe&&(H=oe,l.depthMask(oe))},cd.forEach(([oe])=>{this[oe]=(...we)=>{const xe=d[oe];let Be=!0;for(let Le=0,qe=xe.length;Le<qe;Le++){const pt=we[Le];Be=xe[Le]===pt&&Be,xe[Le]=pt}Be||l[oe].apply(l,we)}}),le(),this.reset=le,Object.defineProperties(this,{gl:{get:()=>l,set(oe){oe!==l&&(l=oe,le())}}})}blendEquation(l){this.blendEquationSeparate(l,l)}blendFunc(l,s){this.blendFuncSeparate(l,s,l,s)}},ca=w(5662),jl=l=>!(l&l-1)&&l>0;var Tl=function(l){return l[l.Nearest=9728]="Nearest",l[l.Linear=9729]="Linear",l[l.NearestMipMapNearest=9984]="NearestMipMapNearest",l[l.LinearMipMapNearest=9985]="LinearMipMapNearest",l[l.NearestMipMapLinear=9986]="NearestMipMapLinear",l[l.LinearMipMapLinear=9987]="LinearMipMapLinear",l}(Tl||{});const ld={[We.Nearest]:Tl.Nearest,[We.Linear]:Tl.Linear},Nu={[st.ClampToEdge]:33071,[st.Repeat]:10497,[st.MirrorRepeat]:33648},mh={[We.Nearest]:{[We.Nearest]:Tl.NearestMipMapNearest,[We.Linear]:Tl.NearestMipMapLinear},[We.Linear]:{[We.Nearest]:Tl.LinearMipMapNearest,[We.Linear]:Tl.LinearMipMapLinear}};function kd(l,s,u){const{width:d,height:S}=s;u||(u=x(d,S));const H=Ec(l)||jl(d)&&jl(S),le=H&&u>=2?mh[s.min][s.mipmapFilter]:ld[s.min];return H?{width:d,height:S,min:le,mag:ld[s.mag],wrapS:Nu[s.wrapU],wrapT:Nu[s.wrapV]}:{width:d,height:S,min:le,mag:ld[s.mag],wrap:l.CLAMP_TO_EDGE}}const Lu="WEBGL_compressed_texture_s3tc",dl="WEBGL_compressed_texture_s3tc_srgb",el="WEBGL_compressed_texture_etc",hl="WEBGL_compressed_texture_pvrtc",Ba="EXT_texture_compression_rgtc",us="WEBGL_compressed_texture_astc",fa="EXT_texture_compression_bptc",Cc=l=>l.getExtension("WEBGL_compressed_texture_astc")?.getSupportedProfiles().includes("hdr"),Gp=new Map([[v,[Int8Array]],[j,[Uint8Array,Uint8ClampedArray]],[I,[Int16Array]],[re,[Uint16Array]],[32819,[Uint16Array]],[32820,[Uint16Array]],[33635,[Uint16Array]],[Ze,[Int32Array]],[Dt,[Uint32Array]],[35902,[Uint32Array]],[33640,[Uint32Array]],[35899,[Uint32Array]],[34042,[Uint32Array]],[36193,[Uint16Array]],[5131,[Uint16Array]],[Zt,[Float32Array]]]),gh=[["rgba8unorm",{format:Bs,internalFormat:Bs,type:j}],["rgba16uint",{format:Bs,internalFormat:Bs,type:32819}]],Tf=[["etc2-rgb8unorm",{format:36196,extension:"WEBGL_compressed_texture_etc1"}],["rgba16float",{format:Bs,internalFormat:Bs,type:36193,extension:"OES_texture_half_float"}],["rgba32float",{format:Bs,internalFormat:Bs,type:Zt,extension:"OES_texture_float"}]],Bd=[["bc1-rgba-unorm",{format:33776,extension:Lu}],["bc1-rgba-unorm-srgb",{format:35916,extension:dl}],["bc2-rgba-unorm",{format:33778,extension:Lu}],["bc2-rgba-unorm-srgb",{format:35918,extension:dl}],["bc3-rgba-unorm",{format:33779,extension:Lu}],["bc3-rgba-unorm-srgb",{format:35919,extension:dl}],["bc4-r-unorm",{format:36283,extension:Ba}],["bc4-r-snorm",{format:36284,extension:Ba}],["bc5-rg-unorm",{format:36285,extension:Ba}],["bc5-rg-snorm",{format:36286,extension:Ba}],["bc6h-rgb-ufloat",{format:36495,extension:fa}],["bc6h-rgb-float",{format:36494,extension:fa}],["bc7-rgba-unorm",{format:36492,extension:fa}],["bc7-rgba-unorm-srgb",{format:36493,extension:fa}],["etc2-rgb8unorm",{format:37492,extension:el}],["etc2-rgb8unorm-srgb",{format:37493,extension:el}],["etc2-rgb8a1unorm",{format:37494,extension:el}],["etc2-rgb8a1unorm-srgb",{format:37495,extension:el}],["etc2-rgba8unorm",{format:37496,extension:el}],["etc2-rgba8unorm-srgb",{format:37497,extension:el}],["eac-r11unorm",{format:37488,extension:el}],["eac-r11snorm",{format:37489,extension:el}],["eac-rg11unorm",{format:37490,extension:el}],["eac-rg11snorm",{format:37491,extension:el}],["astc-4x4-unorm",{format:37808,extension:us}],["astc-5x4-unorm",{format:37809,extension:us}],["astc-5x5-unorm",{format:37810,extension:us}],["astc-6x5-unorm",{format:37811,extension:us}],["astc-6x6-unorm",{format:37812,extension:us}],["astc-8x5-unorm",{format:37813,extension:us}],["astc-8x6-unorm",{format:37814,extension:us}],["astc-8x8-unorm",{format:37815,extension:us}],["astc-10x5-unorm",{format:37816,extension:us}],["astc-10x6-unorm",{format:37817,extension:us}],["astc-10x8-unorm",{format:37818,extension:us}],["astc-10x10-unorm",{format:37819,extension:us}],["astc-12x10-unorm",{format:37820,extension:us}],["astc-12x12-unorm",{format:37821,extension:us}],["astc-4x4-unorm-srgb",{format:37840,extension:us}],["astc-5x4-unorm-srgb",{format:37841,extension:us}],["astc-5x5-unorm-srgb",{format:37842,extension:us}],["astc-6x5-unorm-srgb",{format:37843,extension:us}],["astc-6x6-unorm-srgb",{format:37844,extension:us}],["astc-8x5-unorm-srgb",{format:37845,extension:us}],["astc-8x6-unorm-srgb",{format:37846,extension:us}],["astc-8x8-unorm-srgb",{format:37847,extension:us}],["astc-10x5-unorm-srgb",{format:37848,extension:us}],["astc-10x6-unorm-srgb",{format:37849,extension:us}],["astc-10x8-unorm-srgb",{format:37850,extension:us}],["astc-10x10-unorm-srgb",{format:37851,extension:us}],["astc-12x10-unorm-srgb",{format:37852,extension:us}],["astc-12x12-unorm-srgb",{format:37853,extension:us}],["astc-4x4-hdr",{format:37808,extension:us,supported:Cc}],["astc-5x4-hdr",{format:37809,extension:us,supported:Cc}],["astc-5x5-hdr",{format:37810,extension:us,supported:Cc}],["astc-6x5-hdr",{format:37811,extension:us,supported:Cc}],["astc-6x6-hdr",{format:37812,extension:us,supported:Cc}],["astc-8x5-hdr",{format:37813,extension:us,supported:Cc}],["astc-8x6-hdr",{format:37814,extension:us,supported:Cc}],["astc-8x8-hdr",{format:37815,extension:us,supported:Cc}],["astc-10x5-hdr",{format:37816,extension:us,supported:Cc}],["astc-10x6-hdr",{format:37817,extension:us,supported:Cc}],["astc-10x8-hdr",{format:37818,extension:us,supported:Cc}],["astc-10x10-hdr",{format:37819,extension:us,supported:Cc}],["astc-12x10-hdr",{format:37820,extension:us,supported:Cc}],["astc-12x12-hdr",{format:37821,extension:us,supported:Cc}],["pvrtc-rgb4unorm",{format:35840,extension:hl}],["pvrtc-rgb2unorm",{format:35841,extension:hl}],["pvrtc-rgba4unorm",{format:35842,extension:hl}],["pvrtc-rgba2unorm",{format:35843,extension:hl}]],Df=[["rgba8unorm",{format:Bs,internalFormat:32856,type:j}],["rgba8snorm",{format:Bs,internalFormat:36759,type:v}],["rgba8unorm-srgb",{format:Bs,internalFormat:35907,type:j}],["rgba16uint",{format:nr,internalFormat:36214,type:re}],["r8unorm",{format:6403,internalFormat:33321,type:j}],["r8snorm",{format:6403,internalFormat:36756,type:v}],["r8uint",{format:Kr,internalFormat:33330,type:j}],["r8sint",{format:Kr,internalFormat:33329,type:v}],["r16uint",{format:Kr,internalFormat:33332,type:re}],["r16sint",{format:Kr,internalFormat:33331,type:I}],["r16float",{format:6403,internalFormat:33325,type:5131}],["rg8unorm",{format:Ur,internalFormat:33323,type:j}],["rg8snorm",{format:Ur,internalFormat:36757,type:v}],["rg8uint",{format:Ur,internalFormat:Jr,type:j}],["rg8sint",{format:Ur,internalFormat:Jr,type:v}],["r32uint",{format:Kr,internalFormat:33334,type:Dt}],["r32sint",{format:Kr,internalFormat:33326,type:Ze}],["r32float",{format:6403,internalFormat:33326,type:Zt}],["rg16uint",{format:Jr,internalFormat:33338,type:re}],["rg16sint",{format:Jr,internalFormat:33337,type:I}],["rg16float",{format:Ur,internalFormat:33327,type:5131}],["rgba8uint",{format:nr,internalFormat:36220,type:j}],["rgba8sint",{format:nr,internalFormat:36238,type:v}],["rgb9e5ufloat",{format:6407,internalFormat:35901,type:35902}],["rgb10a2uint",{format:nr,internalFormat:36975,type:33640}],["rgb10a2unorm",{format:Bs,internalFormat:32857,type:33640}],["rg11b10ufloat",{format:6407,internalFormat:35898,type:35899}],["rg32uint",{format:Jr,internalFormat:33340,type:Dt}],["rg32sint",{format:Jr,internalFormat:33339,type:Ze}],["rg32float",{format:Ur,internalFormat:33328,type:Zt}],["rgba16sint",{format:nr,internalFormat:36232,type:I}],["rgba16float",{format:Bs,internalFormat:34842,type:5131}],["rgba32uint",{format:nr,internalFormat:36208,type:Dt}],["rgba32sint",{format:nr,internalFormat:36226,type:Ze}],["rgba32float",{format:Bs,internalFormat:34836,type:Zt}],["depth16unorm",{format:6402,internalFormat:33189,type:re}],["depth24plus",{format:6402,internalFormat:33190,type:Dt}],["depth24plus-stencil8",{format:34041,internalFormat:35056,type:34042}],["depth32float",{format:6402,internalFormat:36012,type:Zt}],["depth32float-stencil8",{format:34041,internalFormat:36013,type:36269}]],fl={webgl1:new Map([...gh,...Bd,...Tf]),webgl2:new Map([...gh,...Bd,...Df])},pl=typeof ImageBitmap<"u",Ic=typeof ImageData<"u",jc=[34069,34070,34071,34072,34073,34074];class ud{webglTexture;texture;update;destroy;constructor(s,u){this.texture=u;const d=Ec(s),S=u instanceof Z,H=S?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,le=S?u.sources:[u.source],oe=S?u.levels:u.levels?[u.levels]:null,we=u.format,xe=Y[we],Be=(d?fl.webgl2:fl.webgl1).get(we);if(!Be)throw new Error(`Unsupported texture format: ${we}`);const{format:Le,extension:qe}=Be;if(qe&&!s.getExtension(qe)||Be.supported&&!Be.supported(s))throw new Error(`Texture format ${we} not available, missing ${qe} extension.`);const pt="internalFormat"in Be?Be.internalFormat:Le,mt="type"in Be?Be.type:Le,Ot=d;le.forEach(Vi=>{if(z(Vi)){const Ci=Gp.get(mt);if(Ci&&!Ci.some(Tr=>Vi instanceof Tr))throw new Error(`Invalid typed array for texture data type 0x${Le.toString(16)}`)}});let At=Ot?null:s.createTexture(),Nt=!0,mn=!0,on=!0,_n=!0,gn=!1,Mn=!1,Kn=0,ur=0,or=0,vr=0,oi=0;function _i(){mn=!0,_n=!0,on=!0,Nt=!0}function Wr(Vi){_n=!0,Nt=!0;const{property:Ci}=Vi;"min"!==Ci&&"mag"!==Ci&&"mipmapFilter"!==Ci||(on=!0)}function pi(){on=!0,Nt=!0}u.on("change",Wr),u.on("resize",_i),u.on("update",pi),this.update=()=>{if(!Nt)return;At&&s.bindTexture(H,At);const{width:Vi,height:Ci}=u;mn&&(!Ot||vr===Vi&&oi===Ci||(At&&s.deleteTexture(At),At=s.createTexture(),s.bindTexture(H,At)),gn=d||jl(Vi)&&jl(Ci),gn?oe?.[0].length?(ur=oe[0].reduce((wi,{level:yi})=>Math.min(wi,yi),1/0),or=oe[0].reduce((wi,{level:yi})=>Math.max(wi,yi),ur),Kn=or-ur+1):(Kn=x(Vi,Ci),ur=0,or=Kn-1):(Kn=1,ur=0,or=0),Ot&&(s.texStorage2D(H,Kn,pt,Vi,Ci),vr=Vi,oi=Ci));const Tr={...kd(s,u,Kn),target:H,auto:!1};if(d&&(Tr.minLod=ur,Tr.maxLod=or),_n&&((0,ca.setTextureParameters)(s,At,Tr),u.anisotropy>1)){const wi=s.getExtension("EXT_texture_filter_anisotropic");if(wi){const yi=Math.min(s.getParameter(wi.MAX_TEXTURE_MAX_ANISOTROPY_EXT),u.anisotropy);s.texParameterf(H,wi.TEXTURE_MAX_ANISOTROPY_EXT,yi)}}if(on){for(let wi=0;wi<le.length;wi++){const yi=le[wi],ao=oe?.[wi],Xi=S?jc[wi]:s.TEXTURE_2D;if(ao){Mn=!0;for(let ns=0;ns<Kn;ns++){const{src:gi,width:Or,height:ci,level:oo}=ao[ns];xe.compressed?Ot?s.compressedTexSubImage2D(Xi,oo,0,0,Or,ci,pt,gi):s.compressedTexImage2D(Xi,oo,pt,Or,ci,0,gi):Ot?s.texSubImage2D(Xi,oo,0,0,Or,ci,Le,mt,gi,0):s.texImage2D(Xi,oo,pt,Or,ci,0,Le,mt,gi)}if(!d){const ns=ao[ao.length-1];let{width:gi,height:Or,level:ci}=ns;for(;gi>1||Or>1;)if(gi=Math.ceil(gi/2),Or=Math.ceil(Or/2),ci++,xe.compressed){const oo=xe.size(gi,Or),vs=new Uint8Array(oo);s.compressedTexImage2D(Xi,ci,pt,gi,Or,0,vs)}else s.texImage2D(Xi,ci,pt,gi,Or,0,Le,mt,null)}}else if(yi instanceof HTMLImageElement||yi instanceof HTMLCanvasElement||yi instanceof HTMLVideoElement||Ic&&yi instanceof ImageData||pl&&yi instanceof ImageBitmap)Ot?s.texSubImage2D(Xi,0,0,0,Vi,Ci,Le,mt,yi):s.texImage2D(Xi,0,pt,Le,mt,yi);else{if(!z(yi))throw s.deleteTexture(At),new Error("Unknown texture source");xe.compressed?Ot?s.compressedTexSubImage2D(Xi,0,0,0,Vi,Ci,pt,yi):s.compressedTexImage2D(Xi,0,pt,Vi,Ci,0,yi):Ot?s.texSubImage2D(Xi,0,0,0,Vi,Ci,Le,mt,yi,0):s.texImage2D(Xi,0,pt,Vi,Ci,0,Le,mt,yi)}}gn&&!Mn&&Tr.min!==s.LINEAR&&Tr.min!==s.NEAREST&&s.generateMipmap(H)}s.bindTexture(H,null),mn=!1,_n=!1,on=!1,Nt=!1},this.destroy=()=>{u.off("change",Wr),u.off("resize",_i),u.off("update",pi),s.deleteTexture(At)},Object.defineProperties(this,{webglTexture:{get:()=>At}})}}class Nd extends b{get;release;constructor(s){super();const u=new Qo({key:(S,H)=>H,create:(S,H)=>H?(this.emit("create",{texture:H}),new ud(s,H)):null,release:S=>{S&&(S.destroy(),this.emit("release",{binding:S}))}});this.get=u.get,this.release=u.release;const d=this.destroy;this.destroy=()=>{u.destroy(),d()}}}class Uu extends b{get;release;constructor(s){super();const u=new Qo({key:(S,H)=>H,create:(S,H)=>(this.emit("create",{texture:H}),new ud(s,H)),release:S=>{S.destroy(),this.emit("release",{binding:S})}});this.get=u.get,this.release=u.release;const d=this.destroy;this.destroy=()=>{u.destroy(),d()}}}class cu extends b{get;release;constructor(s){super();const u=new Map,d=new wt,S=new Map,H=new Qo({key:(xe,Be,Le)=>((qe,pt)=>{let mt=d.get(qe,pt);return mt||(mt=Symbol(),d.set(qe,pt,mt),S.set(mt,{geometry:qe,morphIndex:pt})),mt})(Be,Le),create:(xe,Be,Le)=>{if(!Be.attributes)return null;const{position:qe,normal:pt,tangent:mt,...Ot}=Be.attributes;let At=u.get(Be);if(!At){const _n={...Ot};if(Be.indices&&(_n.indices=Be.indices),At={indicesBuffer:void 0,numElements:void 0,elementType:void 0,attribBuffers:void 0,morphAttribBuffers:new Map,keysUsed:new Set},Object.keys(_n).length){const gn=(0,ca.createBufferInfoFromArrays)(s,_n),{indices:Mn,numElements:Kn,elementType:ur,attribs:or}=gn;Object.assign(At,{indicesBuffer:Mn,numElements:Kn,elementType:ur,attribBuffers:or})}u.set(Be,At),Be.on("change",oe)}const Nt=At.attribBuffers?{...At.attribBuffers}:{},mn=Le>=0&&At.morphAttribBuffers.get(Le);if(mn){const{position:_n,normal:gn,tangent:Mn}=mn;_n&&(Nt.position=_n),gn&&(Nt.normal=gn),Mn&&(Nt.tangent=Mn)}else{const _n=Le<0?Be.attributes:Be.morphKeys[Le].attributes;for(const[gn,Mn]of Object.entries(_n))Nt[gn]||(Nt[gn]=Mn)}if(Le>=0){const _n=At.morphAttribBuffers.get(Le+1)??Be.morphKeys[Le+1].attributes;_n.position&&(Nt.morphPosition=_n.position),_n.normal&&(Nt.morphNormal=_n.normal),_n.tangent&&(Nt.morphTangent=_n.tangent),At.keysUsed.add(Le)}const on=(0,ca.createBufferInfoFromArrays)(s,Nt,{indices:At?.indicesBuffer,elementType:At?.elementType,numElements:At?.numElements});return At.morphAttribBuffers.set(Le,{position:on.attribs.position,normal:on.attribs.normal,tangent:on.attribs.tangent}),Le>=0&&on.attribs.morphPosition&&At.morphAttribBuffers.set(Le+1,{position:on.attribs.morphPosition,normal:on.attribs.morphNormal,tangent:on.attribs.morphTangent}),this.emit("create",{geometry:Be,morphIndex:Le}),on},release:(xe,Be)=>{const{geometry:Le,morphIndex:qe}=S.get(Be);d.delete(Le,qe),S.delete(Be);const pt=u.get(Le);if(pt){const{keysUsed:mt}=pt;mt.delete(qe);for(let Ot=qe,At=qe+1;Ot<=At;Ot++)if(!mt.has(Ot)&&!mt.has(Ot-1)){const Nt=pt.morphAttribBuffers.get(Ot);if(Nt){for(const mn of Object.values(Nt))mn?.buffer&&s.deleteBuffer(mn.buffer);pt.morphAttribBuffers.delete(Ot)}}if(!pt.morphAttribBuffers.size){pt.indicesBuffer&&s.deleteBuffer(pt.indicesBuffer);for(const Ot of Object.values(pt.attribBuffers||{}))s.deleteBuffer(Ot.buffer)}}pt?.morphAttribBuffers.size||(u.delete(Le),Le.off("change",oe)),this.emit("release",{bufferInfo:xe,geometry:Le})}});function le(xe,Be){const Le=u.get(xe);for(const pt in Le.attribBuffers)Object.prototype.hasOwnProperty.call(Le.attribBuffers,pt)&&(0,ca.setAttribInfoBufferFromArray)(s,Le.attribBuffers[pt],xe.attributes[pt].data);const qe=Le?.morphAttribBuffers.get(Be);if(qe){const pt=Be<0?xe.attributes:xe.morphKeys[Be].attributes;for(const mt in qe)Object.prototype.hasOwnProperty.call(qe,mt)&&qe[mt]&&(0,ca.setAttribInfoBufferFromArray)(s,qe[mt],pt[mt].data)}}function oe(xe){const{geometry:Be,property:Le,morphIndex:qe}=xe;"attributes"===Le?le(Be,-1):"morphKey"===Le&&le(Be,qe)}this.get=(xe,Be,Le=-1)=>H.get(xe,Be,Le),this.release=(xe,Be,Le=-1)=>H.release(xe,Be,Le);const we=this.destroy;this.destroy=()=>{H.destroy(),we()}}}class _h extends b{get;release;constructor(s){super();const u=s instanceof WebGLRenderingContext&&s.getExtension("OES_vertex_array_object"),d=Ec(s)?oe=>s.deleteVertexArray(oe):u?oe=>u.deleteVertexArrayOES(oe):()=>{},S=new wt,H=new Qo({key:(oe,we,xe)=>((Be,Le)=>{let qe=S.get(Be,Le);return qe||(qe=Symbol(),S.set(Be,Le,qe)),qe})(we,xe),create:(oe,we,xe)=>oe&&we&&xe?(this.emit("create",{programInfo:we,bufferInfo:xe}),(0,ca.createVertexArrayInfo)(s,we,xe)):null,release:(oe,we,xe,Be)=>{oe&&d(oe.vertexArrayObject),S.delete(xe,Be),oe&&this.emit("release",{vertexArrayInfo:oe})}});this.get=H.get,this.release=H.release;const le=this.destroy;this.destroy=()=>{H.destroy(),le()}}}const Sf=l=>{console.log(l);const s=l.split("\n").filter(u=>u.toLocaleLowerCase().includes("error")).map((u,d)=>`${d+1}. ${u}`).join("\n\n");console.log("%c"+s,"color: #ff474c; font-weight: bold;")};class Vu extends b{get;release;constructor(s,u){function d(le){const oe=le.material&&Xa(le.material),we=oe?.options(le)||null;return u?u(le,we):we}super();const S=new Qo({key:le=>{const oe=le.material?.type||"",we=oe&&d(le),xe=le.material&&Xa(le.material);return we?oe+"::"+xe.key(we):""},create:le=>{if(!le||!le.material)return null;const oe=d(le),we=Xa(le.material).shader(oe);if(!we)return null;const{vert:xe,frag:Be}=we,Le=(0,ca.createProgramInfo)(s,[xe,Be],Sf);return this.emit("create",{programInfo:Le}),Le},release:le=>{le&&s.deleteProgram(le.program),this.emit("release",{programInfo:le})},timeout:18e5});this.get=le=>S.get(le),this.release=le=>S.release(le);const H=this.destroy;this.destroy=()=>{S.destroy(),H()}}}const Kl={[Ee.points]:0,[Ee.lines]:1,[Ee.lineLoop]:2,[Ee.lineStrip]:3,[Ee.triangles]:4,[Ee.triangleStrip]:5,[Ee.triangleFan]:6};function Dl(l,s,u){return void 0===s?l:"function"==typeof s?s(u):s}function Sl(l,s,u={}){const{beforeRender:d,glState:S=l}=u,H=!Ec(l)&&l.getExtension("OES_vertex_array_object")||null,le=Ec(l)||!!H;return function(oe,we,...xe){let Be=null,Le=null,qe=null,pt=!1;S.frontFace(l.CCW);const mt=[];for(const Ot of oe){const At=Dl(Ot.programInfo,u.programInfo,Ot),Nt=Dl(Ot.bufferInfo,u.bufferInfo,Ot),mn=Dl(Ot.vertexArrayInfo,u.vertexArrayInfo,Ot),on=Dl(Ot.uniforms,u.uniforms,Ot),_n=!!Dl(Ot.clockwise,u.clockwise,Ot),gn=At!==Be;if(gn&&(Be=At,S.useProgram(At.program),we&&((0,ca.setUniforms)(At,we),mt.length=0)),_n!==pt&&(pt=_n,S.frontFace(_n?l.CW:l.CCW)),mn&&le&&At===Ot.programInfo?mn!==qe&&((0,ca.setBuffersAndAttributes)(l,At,mn),qe=mn):(gn||Nt!==Le)&&(Le=Nt,(0,ca.setBuffersAndAttributes)(l,At,Nt)),d&&d(Ot,At,mn||Nt,on,...xe),Array.isArray(on))for(let Mn=0;Mn<on.length;Mn++){const Kn=on[Mn];(Mn>=mt.length||Kn!==mt[Mn])&&(mt.length=Mn,mt[Mn]=Kn,Kn&&(0,ca.setUniforms)(At,Kn))}else on&&(0,ca.setUniforms)(At,on);s(Ot,At,mn||Nt,on,...xe)}le&&(H?H.bindVertexArrayOES(null):l.bindVertexArray(null))}}function vh(l,s){return Sl(l,(u,d,S)=>{0!==u.count&&(0,ca.drawBufferInfo)(l,S,Kl[u.topology],u.count,u.offset)},s)}const yh=l=>({blurCoefficient:l.blur??.1,texelOffset:new Float32Array([0,0])}),Rf={passes:[{shader:"blur",uniforms:yh,sourceTexture:"source",resize(l,s){l.texelOffset[0]=1/s}},{shader:"blur",uniforms:yh,sourceTexture:"source",resize(l,s,u){l.texelOffset[1]=1/u}}],shaders:{blur:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0), MAX_BLUR);\n\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\tfloat count = 0.0;\n\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tcolor /= count;\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},dd=l=>({focusStart:l.focusStart??90*ge,focusEnd:l.focusEnd??130*ge,blurCoefficient:l.blur??.1,texelOffset:new Float32Array([0,0]),depthRange:new Float32Array([0,0])}),jp={passes:[{shader:"dof",uniforms:dd,sourceTexture:"source",depthTexture:"depthTex",resize(l,s){l.texelOffset[0]=1/s}},{shader:"dof",uniforms:dd,sourceTexture:"source",depthTexture:"depthTex",resize(l,s,u){l.texelOffset[1]=1/u}}],camera(l,s){l.depthRange[0]=s.near,l.depthRange[1]=s.far},shaders:{dof:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float focusStart;\n\t\tuniform float focusEnd;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform sampler2D depthTex;\n\t\tuniform vec2 texelOffset;\n\t\tuniform vec2 depthRange;\n\t\tvoid main() {\n\t\t\t\n\t\t\tfloat ndc = 2.0 * texture2D(depthTex, uv).r - 1.0;\n\t\t\tfloat depth = -(2.0 * depthRange.y * depthRange.x) / (ndc * (depthRange.y - depthRange.x) - depthRange.y - depthRange.x);\n\t\t\tfloat deltaDepth = max(depth - focusEnd, 0.0) + max(focusStart - depth, 0.0);\n\t\t\t\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tif (ndc < 1.0 && deltaDepth > 0.0) {\n\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * deltaDepth), MAX_BLUR);\n\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\tfloat count = 0.0;\n\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tcolor /= count;\n\t\t\t} else {\n\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t}\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},Ld=l=>({blurParams:new Float32Array([l.center?.[0]||0,l.center?.[1]||0,l.radius??.2,l.blur??.1]),texelParams:new Float32Array([0,0,0])}),hd={passes:[{shader:"radialBlur",uniforms:Ld,sourceTexture:"source",resize(l,s,u){const d=s/u;l.texelParams[0]=d/s,l.texelParams[2]=d}},{shader:"radialBlur",uniforms:Ld,sourceTexture:"source",resize(l,s,u){const d=s/u;l.texelParams[1]=1/u,l.texelParams[2]=d}}],shaders:{radialBlur:"\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\t#define MAX_BLUR 20.0\n\t\t\tvarying vec2 uv;\n\t\t\tuniform sampler2D source;\n\t\t\tuniform vec4 blurParams;\n\t\t\tuniform vec3 texelParams;\n\t\t\tvoid main() {\n\t\t\t\tvec2 center = blurParams.xy;\n\t\t\t\tfloat radius = blurParams.z;\n\t\t\t\tfloat blurCoefficient = blurParams.w;\n\t\t\t\tvec2 texelOffset = texelParams.xy;\n\t\t\t\tfloat aspect = texelParams.z;\n\t\t\t\tvec2 pos = uv * 2.0 - 1.0;\n\t\t\t\tpos.x *= aspect;\n\t\t\t\tfloat r = length(pos - center);\n\t\t\t\tfloat deltaR = max(r - radius, 0.0);\n\t\t\t\t\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tif (deltaR > 0.0) {\n\t\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0 * deltaR), MAX_BLUR);\n\t\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\t\tfloat count = 0.0;\n\t\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t\tcolor /= count;\n\t\t\t\t} else {\n\t\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t\t}\n\t\t\t\tgl_FragColor = color;\n\t\t\t}".replace(/\n\t{3}/g,"\n").trim()}},Rl=new Map([[10,[1.5,3,12]],[11,[1,1.5,3,12]],[12,[1,1.5,2,4,12]],[13,[1,1.5,2,2,4,12]],[14,[1,1.5,2,2,2,4,12]],[15,[1,1.5,2,2,2,2,4,12]],[20,[1.5,2,8]],[21,[1,1.5,2,8]],[22,[1,1.5,2,2,8]],[23,[1,1.5,2,2,2,8]],[24,[1,1.5,2,2,2,3,8]],[25,[1,1.5,2,2,2,2,4,8]],[26,[1,1.5,2,2,2,2,2,4,8]],[27,[1,1.5,2,2,2,2,2,2,4,8]],[28,[1,1.5,2,2,2,2,2,2,2,4,8]],[29,[1,1.5,2,2,2,2,2,2,2,2,4,8]],[39,[1,1,1,1,1,1.5,2,2,2,2,4,8]]]),bh={passes:[{shader:"fxaa",uniforms:()=>({texelOffset:new Float32Array([0,0])}),sourceTexture:"source"}],shaders:{fxaa:function(l=25){const s=Rl.get(l);if(!s)throw new Error("Undefined FXAA quality preset "+l);const[u,d,...S]=s;return`\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\n\t\tvarying vec2 uv;\n\n\t\tconst float fxaaQualitySubpix = 0.75;\n\t\tconst float fxaaQualityEdgeThreshold = 0.125;\n\t\tconst float fxaaQualityEdgeThresholdMin = 0.0;\n\n\t\t#define FxaaBool bool\n\t\t#define FxaaFloat float\n\t\t#define FxaaFloat2 vec2\n\t\t#define FxaaFloat3 vec3\n\t\t#define FxaaFloat4 vec4\n\t\t#define FxaaHalf float\n\t\t#define FxaaHalf2 vec2\n\t\t#define FxaaHalf3 vec3\n\t\t#define FxaaHalf4 vec4\n\t\t#define FxaaInt2 vec2\n\t\t#define FxaaTex sampler2D\n\n\t\t#define FxaaSat(x) clamp(x, 0.0, 1.0)\n\t\t#define FxaaTexTop(t, p) texture2D(t, p)\n\t\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\n\t\t#define lumaM rgbyM.y\n\n\t\t#define FXAA_QUALITY_P0 ${Cl(u)}\n\t\t#define FXAA_QUALITY_P1 ${Cl(d)}\n\n\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\n\t\tFxaaFloat4 FxaaPixelShader(\n\t\t\n\t\tFxaaFloat2 pos,\n\t\t\n\t\tFxaaTex tex,\n\t\t\n\t\tFxaaFloat2 fxaaQualityRcpFrame,\n\t\t\n\t\tFxaaFloat fxaaQualitySubpix,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThreshold,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThresholdMin\n\t\t) {\n\t\t\t\n\t\t\tFxaaFloat2 posM;\n\t\t\tposM.x = pos.x;\n\t\t\tposM.y = pos.y;\n\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat maxSM = max(lumaS, lumaM);\n\t\t\tFxaaFloat minSM = min(lumaS, lumaM);\n\t\t\tFxaaFloat maxESM = max(lumaE, maxSM);\n\t\t\tFxaaFloat minESM = min(lumaE, minSM);\n\t\t\tFxaaFloat maxWN = max(lumaN, lumaW);\n\t\t\tFxaaFloat minWN = min(lumaN, lumaW);\n\t\t\tFxaaFloat rangeMax = max(maxWN, maxESM);\n\t\t\tFxaaFloat rangeMin = min(minWN, minESM);\n\t\t\tFxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n\t\t\tFxaaFloat range = rangeMax - rangeMin;\n\t\t\tFxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n\t\t\tFxaaBool earlyExit = range < rangeMaxClamped;\n\t\t\t\n\t\t\tif(earlyExit)\n\t\t\t\treturn rgbyM;\n\t\t\t\n\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat lumaNS = lumaN + lumaS;\n\t\t\tFxaaFloat lumaWE = lumaW + lumaE;\n\t\t\tFxaaFloat subpixRcpRange = 1.0/range;\n\t\t\tFxaaFloat subpixNSWE = lumaNS + lumaWE;\n\t\t\tFxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n\t\t\tFxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n\t\t\t\n\t\t\tFxaaFloat lumaNESE = lumaNE + lumaSE;\n\t\t\tFxaaFloat lumaNWNE = lumaNW + lumaNE;\n\t\t\tFxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n\t\t\tFxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n\t\t\t\n\t\t\tFxaaFloat lumaNWSW = lumaNW + lumaSW;\n\t\t\tFxaaFloat lumaSWSE = lumaSW + lumaSE;\n\t\t\tFxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n\t\t\tFxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n\t\t\tFxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n\t\t\tFxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n\t\t\tFxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n\t\t\tFxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n\t\t\t\n\t\t\tFxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n\t\t\tFxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n\t\t\tFxaaBool horzSpan = edgeHorz >= edgeVert;\n\t\t\tFxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n\t\t\t\n\t\t\tif(!horzSpan) lumaN = lumaW;\n\t\t\tif(!horzSpan) lumaS = lumaE;\n\t\t\tif(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n\t\t\tFxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n\t\t\t\n\t\t\tFxaaFloat gradientN = lumaN - lumaM;\n\t\t\tFxaaFloat gradientS = lumaS - lumaM;\n\t\t\tFxaaFloat lumaNN = lumaN + lumaM;\n\t\t\tFxaaFloat lumaSS = lumaS + lumaM;\n\t\t\tFxaaBool pairN = abs(gradientN) >= abs(gradientS);\n\t\t\tFxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n\t\t\tif(pairN) lengthSign = -lengthSign;\n\t\t\tFxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n\t\t\t\n\t\t\tFxaaFloat2 posB;\n\t\t\tposB.x = posM.x;\n\t\t\tposB.y = posM.y;\n\t\t\tFxaaFloat2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\t\t\tif(!horzSpan) posB.x += lengthSign * 0.5;\n\t\t\tif( horzSpan) posB.y += lengthSign * 0.5;\n\t\t\t\n\t\t\tFxaaFloat2 posN;\n\t\t\tposN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n\t\t\tposN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat2 posP;\n\t\t\tposP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n\t\t\tposP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n\t\t\tFxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n\t\t\tFxaaFloat subpixE = subpixC * subpixC;\n\t\t\tFxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n\t\t\t\n\t\t\tif(!pairN) lumaNN = lumaSS;\n\t\t\tFxaaFloat gradientScaled = gradient * 1.0/4.0;\n\t\t\tFxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n\t\t\tFxaaFloat subpixF = subpixD * subpixE;\n\t\t\tFxaaBool lumaMLTZero = lumaMM < 0.0;\n\t\t\t\n\t\t\tlumaEndN -= lumaNN * 0.5;\n\t\t\tlumaEndP -= lumaNN * 0.5;\n\t\t\tFxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tFxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n\t\t\tFxaaBool doneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n\t\t\t${function H(le){if(!le.length)return"";const[oe,...we]=le,xe=Cl(oe);return`if(doneNP) {\n\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * ${xe};\n\t\t\tif(!doneN) posN.y -= offNP.y * ${xe};\n\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * ${xe};\n\t\t\tif(!doneP) posP.y += offNP.y * ${xe};\n\t\t\t${H(we)}\n\t\t}\n`}(S)}\n\t\t\tFxaaFloat dstN = posM.x - posN.x;\n\t\t\tFxaaFloat dstP = posP.x - posM.x;\n\t\t\tif(!horzSpan) dstN = posM.y - posN.y;\n\t\t\tif(!horzSpan) dstP = posP.y - posM.y;\n\t\t\t\n\t\t\tFxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLength = (dstP + dstN);\n\t\t\tFxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLengthRcp = 1.0/spanLength;\n\t\t\t\n\t\t\tFxaaBool directionN = dstN < dstP;\n\t\t\tFxaaFloat dst = min(dstN, dstP);\n\t\t\tFxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n\t\t\tFxaaFloat subpixG = subpixF * subpixF;\n\t\t\tFxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n\t\t\tFxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n\t\t\t\n\t\t\tFxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n\t\t\tFxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n\t\t\tif(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n\t\t\tif( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n\t\t\treturn FxaaTexTop(tex, posM);\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tuv,\n\t\t\t\t\tsource,\n\t\t\t\t\ttexelOffset,\n\t\t\t\t\tfxaaQualitySubpix,\n\t\t\t\t\tfxaaQualityEdgeThreshold,\n\t\t\t\t\tfxaaQualityEdgeThresholdMin);\n\t\t}\n\t`.replace(/\n\t{2}/g,"\n").trim()}(25)}},lu=["VERTEX_SHADER","FRAGMENT_SHADER"],Ud=/ERROR:\s*\d+:(\d+)/gi;function uu(l,s){const u=s.map((S,H)=>{const oe=l.createShader(l[lu[H]]);return l.shaderSource(oe,S),l.compileShader(oe),oe}),d=l.createProgram();if(u.forEach(S=>{l.attachShader(d,S)}),l.linkProgram(d),!l.getProgramParameter(d,l.LINK_STATUS)){let S=!1;if(u.forEach((H,le)=>{if(!l.getShaderParameter(H,l.COMPILE_STATUS)){S=!0;const oe=l.getShaderInfoLog(H),we="Error compiling: "+lu[le]+":\n"+oe+"\n"+function(xe,Be=""){const Le=[...Be.matchAll(Ud)],qe=new Map(Le.map((pt,mt)=>{const Ot=parseInt(pt[1],10),At=Le[mt+1];return[Ot-1,Be.substring(pt.index,At?At.index:Be.length)]}));return xe.split("\n").map((pt,mt)=>{const Ot=qe.get(mt);return`${mt+1}: ${pt}${Ot?`\n\n^^^ ${Ot}`:""}`}).join("\n")}(l.getShaderSource(H));console.error(we)}l.deleteShader(H)}),!S){const H=l.getProgramInfoLog(d);console.error(`Error in program linking: ${H}`)}return l.deleteProgram(d),u.forEach(H=>{l.deleteShader(H)}),null}return(0,ca.createProgramInfoFromProgram)(l,d)}const Eh={blur:Rf,dof:jp,radialBlur:hd,fxaa:bh};function du(l){l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE)}class fd{enabled=!0;setPipeline;begin;render;destroy;constructor(s,u){const d=u?.glState||s,S=Ec(s),H=S||!!s.getExtension("WEBGL_depth_texture")||!!s.getExtension("WEBKIT_WEBGL_depth_texture"),le=s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT,oe=(0,ca.createBufferInfoFromArrays)(s,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),we=new wt,xe=[],Be=[],Le=S&&s.getParameter(s.MAX_SAMPLES)||1;let qe=null,pt=0,mt=0,Ot=!0,At=!1,Nt=null,mn=null,on=null,_n=null,gn=null,Mn=null;function Kn(){for(;xe.length;){const{frameBuffer:_i,texture:Wr}=xe.pop();s.deleteFramebuffer(_i),s.deleteTexture(Wr)}}function ur(){Nt&&(s.deleteFramebuffer(Nt),Nt=null),_n&&(s.deleteFramebuffer(_n),_n=null),mn&&(s.deleteRenderbuffer(mn),mn=null),gn&&(s.deleteRenderbuffer(gn),gn=null),on&&(s.deleteTexture(on),on=null),Mn&&(s.deleteTexture(Mn),Mn=null),Kn(),we.forEach(_i=>{s.deleteProgram(_i.program)}),we.clear()}const or=()=>{this.setPipeline(qe)};s.canvas.addEventListener("webglcontextlost",ur,!1),s.canvas.addEventListener("webglcontextrestored",or,!1);let vr=0;const oi=vh(s,{beforeRender(_i,Wr,pi,Vi){const Ci=xe.length?(vr+1)%xe.length:0;_i.sourceTexture&&(Vi[_i.sourceTexture]=_i.first?on:xe[vr].texture),_i.depthTexture&&(Vi[_i.depthTexture]=Mn),s.bindFramebuffer(s.FRAMEBUFFER,_i.last?null:xe[Ci].frameBuffer),d.viewport(0,0,pt,mt),d.depthMask(!0),s.clear(le),d.depthMask(!1),vr=Ci},glState:d});this.setPipeline=_i=>{qe=_i,Be.length=0,Ot=!0,At=H&&!S,qe?.forEach(Wr=>{const pi=Eh[Wr.effect];if(!pi)return void console.warn("Unknown postprocess effect: "+Wr.effect);if("fxaa"===Wr.effect&&S)return;const Vi=pi.passes.some(({depthTexture:Ci})=>!!Ci);!Vi||H?(Vi&&(At=!0),pi.passes.forEach(Ci=>{let Tr=we.get(Wr.effect,Ci.shader);Tr||(Tr=uu(s,["\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n\tuv = position * vec2(0.5) + vec2(0.5);\n\tgl_Position = vec4(position, 0.0, 1.0);\n}",pi.shaders[Ci.shader]]),we.set(Wr.effect,Ci.shader,Tr));const wi="function"==typeof Ci.uniforms?Ci.uniforms(Wr):Object.assign({},Ci.uniforms),yi=Ci.resize||pi.resize;yi&&yi(wi,pt,mt);const ao=Ci.camera||pi.camera,{sourceTexture:Xi,depthTexture:ns}=Ci;Be.push({bufferInfo:oe,programInfo:Tr,uniforms:wi,topology:Ee.triangles,resize:yi,camera:ao,sourceTexture:Xi,depthTexture:ns,first:!1,last:!1})})):console.warn("Unsupported postprocess effect: "+Wr.effect)}),Be.length&&(Be[0].first=!0,Be[Be.length-1].last=!0)},this.begin=()=>{if(!Be.length||!this.enabled)return;const _i=s.drawingBufferWidth,Wr=s.drawingBufferHeight,pi=pt!==_i||mt!==Wr;(pi||Ot)&&(pt=_i,mt=Wr,Ot=!1,Nt||(Nt=s.createFramebuffer(),S&&(mn=s.createRenderbuffer(),_n=s.createFramebuffer()),on=s.createTexture()),At?(Mn||(Mn=s.createTexture()),S||(s.deleteRenderbuffer(gn),gn=null)):Mn&&(s.deleteTexture(Mn),Mn=null),gn||At&&!S||(gn=s.createRenderbuffer()),s.bindFramebuffer(s.FRAMEBUFFER,Nt),S?(s.bindRenderbuffer(s.RENDERBUFFER,gn),s.renderbufferStorageMultisample(s.RENDERBUFFER,Le,s.DEPTH_COMPONENT24,pt,mt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,gn),s.bindRenderbuffer(s.RENDERBUFFER,mn),s.renderbufferStorageMultisample(s.RENDERBUFFER,Le,s.RGBA8,pt,mt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,mn),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,_n),s.bindTexture(s.TEXTURE_2D,on),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,pt,mt,0,s.RGBA,s.UNSIGNED_BYTE,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,on,0),At&&(s.bindTexture(s.TEXTURE_2D,Mn),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT24,pt,mt,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Mn,0))):(s.bindTexture(s.TEXTURE_2D,on),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,pt,mt,0,s.RGBA,s.UNSIGNED_BYTE,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,on,0),s.bindTexture(s.TEXTURE_2D,null),At?(s.bindTexture(s.TEXTURE_2D,Mn),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT,pt,mt,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Mn,0),s.bindTexture(s.TEXTURE_2D,null)):(s.bindRenderbuffer(s.RENDERBUFFER,gn),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_COMPONENT16,pt,mt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,gn),s.bindRenderbuffer(s.RENDERBUFFER,null))),Be.forEach(Vi=>{Vi.resize&&Vi.resize(Vi.uniforms,pt,mt)}),pi&&Kn()),s.bindFramebuffer(s.FRAMEBUFFER,Nt)},this.render=_i=>{if(!Be.length||!this.enabled)return;const Wr=Math.min(2,Be.length-1);for(let pi=xe.length;pi<Wr;pi++){const Vi=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,Vi);const Ci=s.createTexture();s.bindTexture(s.TEXTURE_2D,Ci),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,pt,mt,0,s.RGBA,s.UNSIGNED_BYTE,null),du(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Ci,0),s.bindTexture(s.TEXTURE_2D,null),xe.push({frameBuffer:Vi,texture:Ci})}if(Be.forEach(pi=>{pi.camera&&pi.camera(pi.uniforms,_i)}),vr=0,S){const pi=At?le:s.COLOR_BUFFER_BIT;s.bindFramebuffer(s.READ_FRAMEBUFFER,Nt),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,_n),s.blitFramebuffer(0,0,pt,mt,0,0,pt,mt,pi,s.NEAREST),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}d.disable(s.CULL_FACE),d.disable(s.DEPTH_TEST),oi(Be),s.bindFramebuffer(s.FRAMEBUFFER,null)},this.destroy=()=>{s.canvas.removeEventListener("webglcontextlost",ur,!1),s.canvas.removeEventListener("webglcontextrestored",or,!1),ur()}}}const Hl=["lightMap","reflectionMap"];class Ah extends b{fog;lightMap;reflectionMap;release;restore;constructor(s,u){super();const d={lightMap:null,reflectionMap:null};["lightMap","reflectionMap"].forEach(le=>{const oe={},we=le+"Intensity",xe=le+"MaxMipLevel";s[we]=0,s[xe]=0;let Be="world";Object.defineProperties(oe,{texture:{get:()=>d[le],set:Le=>{const qe=d[le],pt=!!qe;if(qe&&(u.release(le,qe),s[le]=null),d[le]=Le||null,Le){const mt=u.get(le,Le);mt.update(),s[le]=mt.webglTexture}pt!==!!Le&&this.emit("change",{property:le})}},intensity:{get:()=>s[we],set:Le=>{s[we]=Le}},mipLevels:{get:()=>s[xe],set:Le=>{s[xe]=Math.max(0,Le-1)}},space:{get:()=>Be,set:Le=>{Le!==Be&&(Be=Le,this.emit("change",{property:le}))}}}),Object.defineProperty(this,le,{writable:!1,value:oe})});const S={mode:"",color:new Float32Array([1,1,1]),density:.01,start:0,end:1e3,min:0,max:1};Object.keys(S).forEach(le=>{s["fog."+le]=S[le]}),Object.defineProperty(this,"fog",{writable:!1,value:new Proxy(S,{set:(le,oe,we)=>{let xe=!1;return"color"===oe?((0,h.copy)(s["fog.color"],we),xe=!0):oe in le&&le[oe]!==we&&(le[oe]=we,s["fog."+oe]=we,xe=!0),xe&&this.emit("change",{property:"fog",detail:oe}),!0}})}),this.release=()=>{Hl.forEach(le=>{const oe=d[le];oe&&u.release(le,oe)})},this.restore=()=>{Hl.forEach(le=>{const oe=d[le];if(oe){const we=u.get(le,oe);we.update(),s[le]=we.webglTexture}})};const H=this.destroy;this.destroy=()=>{this.release(),H()}}}const Ch={antialias:!0,powerPreference:"high-performance"};function If(l,s){const{contextName:u,...d}=s||{},S=u?[u]:["webgl2","webgl","experimental-webgl"];let H=null,le="";function oe(xe){le=xe.statusMessage||""}l.addEventListener("webglcontextcreationerror",oe);for(let xe=0;xe<S.length;++xe)if(H=l.getContext(S[xe],{...Ch,...d}),H){(0,ca.addExtensionsToContext)(H);break}if(l.removeEventListener("webglcontextcreationerror",oe),!H)throw new Error("Unable to initialize WebGL: "+(le||"unknown error"));return H}function tl(l,s){const u=$.get(),{min:d,max:S}=s;for(let H=0;H<l.length;H++){const le=l[H];if(u[0]=le[0]>0?S[0]:d[0],u[1]=le[1]>0?S[1]:d[1],u[2]=le[2]>0?S[2]:d[2],Nn(le,u)<0)return $.release(u),!1}return $.release(u),!0}function Kp(l,s,u){const d=l.get(u);return!!d?.renderable&&tl(s,d.worldBounds)}function zl(l,s){return l.has(s)||l.set(s,l.size),l.get(s)}function nl(l){const s=new Map,u=new Map,d=new Map;return l.sort((S,H)=>{if(S.vertexArrayInfo&&H.vertexArrayInfo){if(S.vertexArrayInfo!==H.vertexArrayInfo){const le=zl(d,S.vertexArrayInfo),oe=zl(d,H.vertexArrayInfo);if(le!==oe)return le-oe}}else{if(S.programInfo!==H.programInfo){const le=zl(s,S.programInfo),oe=zl(s,H.programInfo);if(le!==oe)return le-oe}if(S.bufferInfo!==H.bufferInfo){const le=zl(u,S.bufferInfo),oe=zl(u,H.bufferInfo);if(le!==oe)return le-oe}}return S.screenPosition[2]-H.screenPosition[2]}),l}function $l(l,s){return l.has(s)||l.set(s,l.size),l.get(s)}const hu={alpha:{noDepthMask:!1,orderDependent:!0,twoPass:!1},addAlpha:{noDepthMask:!0,orderDependent:!1,twoPass:!1},improvedAlpha:{noDepthMask:!0,orderDependent:!0,twoPass:!0}};function Gu(l,...s){let u=vo.Alpha;for(let H=0;H<s.length;H++){const le=s[H];if(le===vo.Alpha||le===vo.AddAlpha||le===vo.ImprovedAlpha){u=le;break}}let d=!1;const S=hu[u];for(const H in S)Object.prototype.hasOwnProperty.call(S,H)&&l[H]!==S[H]&&(l[H]=S[H],d=!0);return d}const pd=(0,U.create)();function fu(l,s,u=0){let d=0;l.forEach(H=>{"ambient"!==H.type&&d++});let S=0;(0,h.set)(s.legacyAmbientLightColor,0,0,0);for(const H of l){const{type:le,color:oe}=H;if("ambient"===le)(0,h.add)(s.legacyAmbientLightColor,s.legacyAmbientLightColor,oe);else{H.updateWorldMatrix();const we="legacyLightSource"+S;s[we+".type"]=mr[le],s[we+".viewSpace"]=!!H.viewSpace;const xe=we+".position";s[xe]||(s[xe]=(0,h.create)()),(0,F.getTranslation)(s[xe],H.worldMatrix);const Be=we+".color";s[Be]?(0,h.copy)(s[Be],oe):s[Be]=(0,h.clone)(oe);const Le=we+".attenuation";if(s[Le]||(s[Le]=new Float32Array(3)),s[Le][0]=H.constantAttenuation,s[Le][1]=H.linearAttenuation,s[Le][2]=H.quadraticAttenuation,s[we+".diffuse"]=H.diffuse,s[we+".specular"]=H.specular,"spot"===le){const qe=we+".direction";s[qe]?(0,h.set)(s[qe],0,0,-1):(s[qe]=(0,h.create)(),s[qe][2]=-1),(0,F.getRotation)(pd,H.worldMatrix),(0,h.transformQuat)(s[qe],s[qe],pd),s[we+".outerCone"]=H.outerCone,s[we+".innerCone"]=H.innerCone}else s[we+".direction"]=[0,0,0],s[we+".outerCone"]=0,s[we+".innerCone"]=0;S++}}for(;S<u;S++){const H="legacyLightSource"+S;delete s[H+".type"],delete s[H+".intensity"],delete s[H+".range"],delete s[H+".color"],delete s[H+".position"],delete s[H+".direction"],delete s[H+".outerCone"],delete s[H+".innerCone"]}return d}const qo=(0,U.create)();function md(l,s,u=0){let d=0;l.forEach(H=>{H instanceof L||d++});let S=0;(0,h.set)(s.ambientLightColor,0,0,0);for(const H of l){const{type:le,color:oe}=H;if(H instanceof L)(0,h.scaleAndAdd)(s.ambientLightColor,s.ambientLightColor,oe,H.intensity);else{H.updateWorldMatrix();const we="lightSource"+S;s[we+".type"]=ja[le];const xe=we+".position";s[xe]||(s[xe]=(0,h.create)()),(0,F.getTranslation)(s[xe],H.worldMatrix);const Be=we+".color";s[Be]?(0,h.copy)(s[Be],oe):s[Be]=(0,h.clone)(oe),s[we+".intensity"]=H.intensity;const Le=we+".direction";if(s[Le]||(s[Le]=(0,h.create)()),(0,F.getRotation)(qo,H.worldMatrix),(0,h.set)(s[Le],0,0,-1),(0,h.transformQuat)(s[Le],s[Le],qo),H instanceof ie){const qe=Math.cos(H.outerConeAngle),pt=Math.cos(H.outerConeAngle-H.penumbraAngle);s[we+".outerConeCos"]=qe,s[we+".innerConeCos"]=pt}else s[we+".outerCone"]=0,s[we+".innerCone"]=0;S++}}for(;S<u;S++){const H="lightSource"+S;delete s[H+".type"],delete s[H+".intensity"],delete s[H+".color"],delete s[H+".position"],delete s[H+".direction"],delete s[H+".outerConeCos"],delete s[H+".innerConeCos"]}return d}function Vd(l,s,u,d,S){if(l.imageLightIntensity=u?.intensity??1,u?(l.imageLightRotation||(l.imageLightRotation=(0,xo.create)()),(0,xo.fromQuat)(l.imageLightRotation,u.quaternion)):delete l.imageLightRotation,"parametric"===u?.irradianceMode&&u.irradianceCoefficients){l.irradianceCoefficients||(l.irradianceCoefficients=new Float32Array(27));for(let H=0,le=0;H<9;H++){const oe=u.irradianceCoefficients[H];l.irradianceCoefficients[le++]=oe[0],l.irradianceCoefficients[le++]=oe[1],l.irradianceCoefficients[le++]=oe[2]}}else delete l.irradianceCoefficients;if(d&&(s.release("imageLightSpecular",d),delete l.imageLightSpecularTexture),u?.specularTexture){const H=s.get("imageLightSpecular",u.specularTexture);H.update(),l.imageLightSpecularTexture=H.webglTexture,l.imageLightLODScale=u.specularTexture.levels[0].length-1}if(S&&(s.release("imageLightIrradiance",S),l.imageLightIrradianceTexture=null),u?.irradianceTexture&&"image"===u.irradianceMode){const H=s.get("imageLightIrradiance",u.irradianceTexture);H.update(),l.imageLightIrradianceTexture=H.webglTexture}}function pu(l,s,u,d){const S=l.get(d);if(!S.update())return;const{alphaMode:H}=S;!d.visible||"opaque"!==H&&"test"!==H?s.delete(S):s.add(S),d.visible&&"opaque"!==H&&"hidden"!==H?u.add(S):u.delete(S)}function Gd(l,s,u,d,S,H,le,oe,we,xe){const{worldMatrix:Be}=H;le.uniformSetters.modelViewMatrix&&(0,F.multiply)(l.modelViewMatrix,xe.worldMatrixInverse,Be),(0,ca.setUniforms)(le,l);const{maxClipDistances:Le}=u,qe=Math.min(Le,d.length);for(let mt=0,Ot=12288;mt<Le;mt++,Ot++)mt<qe?S.enable(Ot):S.disable(Ot);const pt="add"===H.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;S.blendFunc(1,pt),s.drawCalls++,s.drawVertices+=H.vertexCount}const Wl=(l,s,u,d,S)=>{const H=u?null:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,cameraPosition:(0,h.create)()},le=u?[l.modelViewMatrix.subarray(0,16),l.modelViewMatrix.subarray(16,32)]:null;return(oe,we,xe,Be,Le,qe)=>{if(0===oe.count)return;const{worldMatrix:pt}=oe,mt="add"===oe.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;if(d.blendFunc(1,mt),le){if(we.uniformSetters.modelViewMatrix)for(let Ot=0;Ot<qe.length;Ot++)(0,F.multiply)(le[Ot],qe[Ot].transform.inverse.matrix,pt);(0,ca.setUniforms)(we,l),S(oe,we,xe,Be,Le,qe)}else for(const Ot of qe){const At=Le.getViewport(Ot);d.viewport(At.x,At.y,At.width,At.height),H.projectionMatrix=Ot.projectionMatrix,H.viewMatrixInverse=Ot.transform.matrix;const{x:Nt,y:mn,z:on}=Ot.transform.position;(0,h.set)(H.cameraPosition,Nt,mn,on);const _n=Ot.transform.inverse.matrix;H.viewMatrix=_n,we.uniformSetters.modelViewMatrix&&(0,F.multiply)(l.modelViewMatrix,_n,pt),(0,ca.setUniforms)(we,l),(0,ca.setUniforms)(we,H),S(oe,we,xe,Be,Le,qe)}s.drawCalls++,s.drawVertices+=2*oe.vertexCount}};function Of(l,s,u){const d=s.length,S=u.length;for(let H=d;H>S;H--){s.pop();const le="clippingPlane"+H;delete l[le+".plane"],delete l[le+".fade"]}for(let H=s.length;H<S;H++)s[H]={plane:(0,ki.create)(),fade:0};return u.forEach(({plane:H,fade:le},oe)=>{const{plane:we}=s[oe];(0,ki.copy)(we,H),s[oe].fade=le;const xe="clippingPlane"+oe;l[xe+".plane"]=we,l[xe+".fade"]=le}),d!==S}class ic extends b{get;release;destroy;constructor({cubeTextureCache:s}){super();const u=new Qo({key:(d,S)=>S,create:(d,S)=>{if(S){const H={};if(S instanceof Yt&&S.reflectionMap){const le=s.get(S,S.reflectionMap.texture);le.update(),H.reflectionMap=le.webglTexture}return this.emit("create",{material:S}),H}return null},release:(d,S)=>{S&&(S instanceof Yt&&S.reflectionMap&&s.release(S,S.reflectionMap.texture),this.emit("release",{material:S}))}});this.get=u.get,this.release=u.release,this.destroy=u.destroy}}const wh=["ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","ALPHA_BITS","BLUE_BITS","DEPTH_BITS","GREEN_BITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","RED_BITS","SAMPLE_COVERAGE_VALUE","SAMPLES","STENCIL_BITS","SUBPIXEL_BITS","VENDOR","RENDERER","VERSION","SHADING_LANGUAGE_VERSION","COMPRESSED_TEXTURE_FORMATS","SAMPLE_BUFFERS"],mu_webgl=wh,mu_webgl2=[...wh,"MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET"],gu=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Ya={OES_standard_derivatives:(l,s)=>({FRAGMENT_SHADER_DERIVATIVE_HINT_OES:l.getParameter(s.FRAGMENT_SHADER_DERIVATIVE_HINT_OES)}),WEBGL_draw_buffers:(l,s)=>({MAX_COLOR_ATTACHMENTS_WEBGL:l.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL),MAX_DRAW_BUFFERS_WEBGL:l.getParameter(s.MAX_DRAW_BUFFERS_WEBGL)}),WEBGL_debug_renderer_info:(l,s)=>({UNMASKED_VENDOR_WEBGL:l.getParameter(s.UNMASKED_VENDOR_WEBGL),UNMASKED_RENDERER_WEBGL:l.getParameter(s.UNMASKED_RENDERER_WEBGL)}),WEBGL_compressed_texture_astc:(l,s)=>({supportedProfiles:s.getSupportedProfiles&&s.getSupportedProfiles()||null}),EXT_texture_filter_anisotropic:(l,s)=>({anisotropy:l.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}),WEBGL_clip_cull_distance:(l,s)=>({MAX_CLIP_DISTANCES_WEBGL:l.getParameter(s.MAX_CLIP_DISTANCES_WEBGL),MAX_CULL_DISTANCES_WEBGL:l.getParameter(s.MAX_CULL_DISTANCES_WEBGL),MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL:l.getParameter(s.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL)})};function xh(l,s){const u={};return gu.forEach(d=>{const S=l.getShaderPrecisionFormat(s,l[d]);u[d]={rangeMin:S?.rangeMin||0,rangeMax:S?.rangeMax||0,precision:S?.precision||0}}),u}const Pf=["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxBindingsPerBindGroup","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxUniformBufferBindingSize","maxStorageBufferBindingSize","minUniformBufferOffsetAlignment","minStorageBufferOffsetAlignment","maxVertexBuffers","maxBufferSize","maxVertexAttributes","maxVertexBufferArrayStride","maxInterStageShaderComponents","maxInterStageShaderVariables","maxColorAttachments","maxColorAttachmentBytesPerSample","maxComputeWorkgroupStorageSize","maxComputeInvocationsPerWorkgroup","maxComputeWorkgroupSizeX","maxComputeWorkgroupSizeY","maxComputeWorkgroupSizeZ","maxComputeWorkgroupsPerDimension"];function Th(){return Th=r(function*(l){const s=r(function*(){if(!navigator.gpu)return null;const S=navigator.gpu.getPreferredCanvasFormat(),H=yield navigator.gpu.requestAdapter({powerPreference:"high-performance"});if(!H)return null;const{architecture:le,vendor:oe}=H.info;return{canvasFormat:S,architecture:le,vendor:oe,perfCaveat:H.isFallbackAdapter,features:Array.from(H.features.keys()).sort(),limits:Pf.reduce((we,xe)=>(we[xe]=H.limits[xe],we),{})}})();let u=!1;if(!Ec(l)){const S=document.createElement("canvas");let H=S.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0});H||(H=S.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1})),H&&(u=!0,l=H)}const d=function(S){const H=S.getContextAttributes();if(!H)return null;const le={},oe=Ec(S);(oe?mu_webgl2:mu_webgl).forEach(qe=>{const mt=S.getParameter(S[qe]);if(mt&&mt.BYTES_PER_ELEMENT){if(mt.length){le[qe]=[];for(let Ot=0;Ot<mt.length;Ot++)le[qe].push(mt[Ot])}}else le[qe]=mt});const we=S.getSupportedExtensions()||[],xe={};we.forEach(qe=>{const pt=Ya[qe];if(pt){const mt=S.getExtension(qe);mt&&(xe[qe]=pt(S,mt))}});const Be=!0!==H.failIfMajorPerformanceCaveat,Le={version:oe?2:1,antialias:H.antialias||!1,perfCaveat:Be,params:le,extensions:{supported:we,capabilities:xe}};if(!Be){const qe=Le.extensions.capabilities.WEBGL_debug_renderer_info?.UNMASKED_RENDERER_WEBGL;qe&&/\bSwiftRenderer\b/.test(qe)&&(Le.perfCaveat=!0)}return Le.shaderPrecision={vertex:xh(S,S.VERTEX_SHADER),fragment:xh(S,S.FRAGMENT_SHADER)},Le}(l);return u&&l.getExtension("WEBGL_lose_context")?.loseContext(),{webgl:d,webgpu:yield s}}),Th.apply(this,arguments)}const Il=["rg16float","rgba16float"],ec=new Set(Object.keys(hu)),_u=(0,F.create)();class Dh extends b{transparencyMode;root;camera;xrSession;xrRefSpace=null;maxDevicePixelRatio=1;maxCanvasDimension=1/0;minDevicePixelRatio=1;physicalImageLight;toneMapping;clippingPlanes;canvas;environment;extensions;textureFormats;running;stats;getGPUCapabilities;setXRClearColor;setPostProcessingPipeline;setClippingPlanes;start;stop;render;constructor(s){var u;super(),u=this;const d=s?.gl||function(Ar){if(typeof WebGLRenderingContext>"u")throw new Error("Browser does not support WebGL");const{canvas:no,...pa}=Ar||{},Ks=no||document.createElement("canvas");try{return If(Ks,{...pa,failIfMajorPerformanceCaveat:!0})}catch{}return If(Ks,{...pa,failIfMajorPerformanceCaveat:!1})}(s),S=new Ml(d),H=d.canvas;if(!(H instanceof HTMLCanvasElement))throw new Error(`canvas type ${H?.constructor?.name||"unknown"} not supported.`);Object.assign(H.style,{width:"100%",height:"100%",position:"absolute"}),this.getGPUCapabilities=kt(()=>function Mh(l){return Th.apply(this,arguments)}(d));const le=d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT,oe=Ec(d),we=oe||!!d.getExtension("OES_vertex_array_object"),xe=oe&&!1!==s?.optimizations?.enableMultiView?d.getExtension("OCULUS_multiview"):null,Be=oe?d.getParameter(d.MAX_SAMPLES):1,{preserveDrawingBuffer:Le=!1}=d.getContextAttributes()||{},qe=!1!==s?.optimizations?.enableHardwarePlaneClipping&&d.getExtension("WEBGL_clip_cull_distance")?d.getParameter(3378):0,pt=new Map,mt=new Map,Ot=new Set,At=new Set,Nt=new Set,mn=[0,0,0,0],on={webGlVersion:oe?2:1,vaoSupported:we,textureLODext:!!d.getExtension("EXT_shader_texture_lod"),maxPointSize:d.getParameter(d.ALIASED_POINT_SIZE_RANGE)?.[1]||32,maxClipDistances:qe,multiView:!!xe,preserveDrawingBuffer:Le};let _n=0,gn=0,Mn=vo.Alpha,Kn="linear",ur=0,or=!1,vr=null,oi=!0,_i=!0,Wr=!0,pi=null,Vi=null,Ci=null,Tr=s?.optimizations?.computeBRDF??!d.getExtension(oe?"EXT_color_buffer_float":"WEBGL_color_buffer_float");const wi={noDepthMask:!1,orderDependent:!1,twoPass:!1,maxClipDistances:qe},yi=[],ao=[],Xi={geometries:0,meshes:0,materials:0,vaos:0,textures:0,materialTypes:{unlit:0,phong:0,metallic:0,physical:0},drawCalls:0,drawVertices:0,cpuTime:0,gpuTime:0,postProcessTime:0},Or=hr(Kp,mt,yi),ci=new as({sort:nl,filter:Or}),oo=new as({sort:Ar=>wi.orderDependent?function(no){const pa=new Map,Ks=new Map,Ma=new Map;return no.sort((Zs,ws)=>{if(Zs.layer!==ws.layer)return Zs.layer-ws.layer;if(Zs.renderOrder!==ws.renderOrder)return Zs.renderOrder-ws.renderOrder;if(Zs.vertexArrayInfo&&ws.vertexArrayInfo){if(Zs.vertexArrayInfo!==ws.vertexArrayInfo){const La=$l(Ma,Zs.vertexArrayInfo),al=$l(Ma,ws.vertexArrayInfo);if(La!==al)return La-al}}else{if(Zs.programInfo!==ws.programInfo){const La=$l(pa,Zs.programInfo),al=$l(pa,ws.programInfo);if(La!==al)return La-al}if(Zs.bufferInfo!==ws.bufferInfo)return $l(Ks,Zs.bufferInfo)-$l(Ks,ws.bufferInfo)}return Zs.screenPosition[2]-ws.screenPosition[2]}),no}(Ar):nl(Ar),filter:Or}),vs=new Nd(d),$s=new Uu(d),Qs=new cu(d),ra=we?new _h(d):null,Ka=new ic({cubeTextureCache:$s}),Qa=new Vu(d,function(Ar,no){return no?Object.assign({},no,{alphaMode:eu(Ar,ao,wi),lights:Ar.material instanceof Yt?gn:_n,clips:Ar.clippable?ao.length:0,fog:Oc.fog.mode,environmentReflectionMap:!!Oc.reflectionMap.texture,lightMapSpace:Oc.lightMap.texture&&Oc.lightMap.space||"",imageLightIrradianceMode:pi?.irradianceMode||"",imageLightSpecularTexture:pi?.specularTexture,toneMap:Kn,computeBRDF:Tr},on):null}),la=new Qo({key:(Ar,no)=>no,create:(Ar,no)=>({decodePositions:no.attributes.position.decodeMat||null,decodeUVs:no.attributes.texcoord?.decodeMat||null})}),_a={geometryBufferCache:Qs,shaderResourceCache:Qa,geometryUniformsCache:la,materialUniformsCache:Ka,vaoCache:ra,alphaModeOptions:wi,clippingPlanes:ao,textureResourceCache:vs},Pl=new fd(d,{glState:S});Pl.enabled=!0;const ba={ambientLightColor:(0,h.fromValues)(.1,.1,.1),legacyAmbientLightColor:(0,h.fromValues)(.1,.1,.1),"fog.color":(0,h.fromValues)(1,1,1),"fog.density":.01,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.start":0},Js=xe?{projectionMatrix:new Float32Array(32),viewMatrixInverse:new Float32Array(32),viewMatrix:new Float32Array(32),screenResolution:new Float32Array([1024,1024]),cameraPosition:new Float32Array(6)}:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,screenResolution:new Float32Array([1024,1024]),cameraPosition:(0,h.create)()},_l=xe&&[Js.projectionMatrix.subarray(0,16),Js.projectionMatrix.subarray(16,32)],Qu=xe&&[Js.viewMatrixInverse.subarray(0,16),Js.viewMatrixInverse.subarray(16,32)],xd=xe&&[Js.cameraPosition.subarray(0,3),Js.cameraPosition.subarray(3,6)],rh=xe&&[Js.viewMatrix.subarray(0,16),Js.viewMatrix.subarray(16,32)],Fl={modelViewMatrix:xe?new Float32Array(32):(0,F.create)(),discardOpaque:!1},vl=new ks;let xa=null,ou=null,Md=null,sl=null,Ha=null;const Oc=new Ah(ba,$s),ep=hr(Wl,Fl,Xi,!!xe,S),tp=hr(fu,At,ba),np=hr(md,Nt,ba),Ql=hr(Vd,ba,$s),Mu=hr(pu,pt,ci,oo),rp=hr(Of,ba,ao);function Hc(Ar){const no="fog"!==Ar?.property||"mode"===Ar?.detail;pt.forEach(pa=>{no&&pa.setDirty("shader"),pa.setDirty("transparency")}),Wr=!0}function Is(){Xi.materialTypes.physical>0&&!Tr?ba.brdfLookUpTexture||(ba.brdfLookUpTexture=function(Ar,no=512,pa=Ar){const Ks=Ec(Ar),Ma=Ks?fl.webgl2:fl.webgl1,Zs=(Ks?!!Ar.getExtension("EXT_color_buffer_float"):!!Ar.getExtension("WEBGL_color_buffer_float"))&&Il.find(Wc=>{const cl=Ma.get(Wc);return!(!cl||cl.extension&&!Ar.getExtension(cl.extension))})||"rgba8unorm",ws=Ma.get(Zs),La="internalFormat"in ws?ws.internalFormat:ws.format,al="type"in ws?ws.type:ws.format,Pc=(0,ca.createBufferInfoFromArrays)(Ar,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),Zu=uu(Ar,[`${Ks?"#version 300 es":""}\n\t\t${Ks?"in":"attribute"} vec2 position;\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(position, 0.0, 1.0);\n\t\t}`,`${Ks?"#version 300 es":""}\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#define SAMPLE_NUMBER 1024${Ks?"u":""}\n#define PI 3.14159265358979\n\n${Ks?"out vec4 fragColor;":""}\n\nuniform vec2 viewportSize;\n\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\n\n${Ks?"\nvec2 hammersley(uint i, uint N) {\n\t\n\tuint bits = (i << 16u) | (i >> 16u);\n\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\tfloat rdi = float(bits) * 2.3283064365386963e-10;\n\treturn vec2(float(i) /float(N), rdi);\n}":"\nvec2 hammersley(int i, int N) {\n\tfloat invBase = 1.0 / 2.0;\n\tfloat denom = 1.0;\n\tfloat vanDerCorput = 0.0;\n\tint n = i;\n\n\tfor(int b = 0; b < 32; b++) {\n\t\tif(n > 0) {\n\t\t\tdenom = mod(float(n), 2.0);\n\t\t\tvanDerCorput += denom * invBase;\n\t\t\tinvBase = invBase / 2.0;\n\t\t\tn = int(float(n) / 2.0);\n\t\t}\n\t}\n\n\treturn vec2(float(i) / float(N));\n}\n"}\n\n\nfloat G_Smith(float NoV, float NoL, float roughness) {\n\tfloat k = (roughness * roughness) / 2.0;\n\tfloat GGXL = NoL / (NoL * (1.0 - k) + k);\n\tfloat GGXV = NoV / (NoV * (1.0 - k) + k);\n\treturn GGXL * GGXV;\n}\n\n\nfloat V_SmithGGXCorrelated(float NoV, float NoL, float roughness) {\n\tfloat a2 = pow(roughness, 4.0);\n\tfloat GGXV = NoL * sqrt(NoV * NoV * (1.0 - a2) + a2);\n\tfloat GGXL = NoV * sqrt(NoL * NoL * (1.0 - a2) + a2);\n\treturn 0.5 / (GGXV + GGXL);\n}\n\n\nvec3 importanceSampleGGX(vec2 Xi, float roughness, vec3 N) {\n\tfloat a = roughness * roughness;\n\n\t\n\tfloat Phi = 2.0 * PI * Xi.x;\n\tfloat CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n\tfloat SinTheta = sqrt(1.0 - CosTheta * CosTheta);\n\n\t\n\tvec3 H;\n\tH.x = SinTheta * cos(Phi);\n\tH.y = SinTheta * sin(Phi);\n\tH.z = CosTheta;\n\t\n\t\n\tvec3 UpVector = abs(N.z) < 0.999 ? vec3(0.,0.,1.0) : vec3(1.0,0.,0.);\n\tvec3 TangentX = normalize(cross(UpVector, N));\n\tvec3 TangentY = cross(N, TangentX);\n\treturn TangentX * H.x + TangentY * H.y + N * H.z;\n}\n\n\n\nvec2 integrateBRDF(float roughness, float NoV) {\n\tvec3 V;\n\tV.x = sqrt(1.0 - NoV * NoV); \n\tV.y = 0.0;\n\tV.z = NoV; \n\t\n\t\n\tconst vec3 N = vec3(0.0, 0.0, 1.0);\n\t\n\tfloat A = 0.0;\n\tfloat B = 0.0;\n\t\n\tfor (${Ks?"uint i = 0u; i < SAMPLE_NUMBER; i++":"int i = 0; i < SAMPLE_NUMBER; i++"}) {\n\t\tvec2 Xi = hammersley(i, SAMPLE_NUMBER);\n\n\t\t\n\t\tvec3 H = importanceSampleGGX(Xi, roughness, N);\n\t\t\n\t\t\n\t\tvec3 L = 2.0 * dot(V, H) * H - V;\n\t\t\n\t\tfloat NoL = saturate(dot(N, L));\n\t\tfloat NoH = saturate(dot(N, H));\n\t\tfloat VoH = saturate(dot(V, H));\n\t\t\n\t\tif(NoL > 0.0) {\n\t\t\tfloat V_pdf = V_SmithGGXCorrelated(NoV, NoL, roughness) * VoH * NoL / NoH;\n\t\t\tfloat Fc = pow(1.0 - VoH, 5.0);\n\t\t\tA += (1.0 - Fc) * V_pdf;\n\t\t\tB += Fc * V_pdf;\n\t\t}\n\t}\n\n\treturn 4.0 * vec2(A, B) / float(SAMPLE_NUMBER);\n}\n\nvoid main() {\n\t\n\tvec2 uv = gl_FragCoord.xy / viewportSize;\n\tfloat a = uv.y;\n\tfloat mu = uv.x;\n\n\t\n\tvec2 res = integrateBRDF(a, mu);\n\t\n\t\n\t${Ks?"fragColor":"gl_FragColor"} = vec4(res.x, res.y, 0.0, 1.0);\n}`]),$c=Ar.createFramebuffer();Ar.bindFramebuffer(Ar.FRAMEBUFFER,$c);const Fc=Ar.createTexture();return Ar.bindTexture(Ar.TEXTURE_2D,Fc),Ar.texImage2D(Ar.TEXTURE_2D,0,La,no,no,0,ws.format,al,null),Ar.texParameteri(Ar.TEXTURE_2D,Ar.TEXTURE_MAG_FILTER,Ar.LINEAR),Ar.texParameteri(Ar.TEXTURE_2D,Ar.TEXTURE_MIN_FILTER,Ar.LINEAR),Ar.texParameteri(Ar.TEXTURE_2D,Ar.TEXTURE_WRAP_S,Ar.CLAMP_TO_EDGE),Ar.texParameteri(Ar.TEXTURE_2D,Ar.TEXTURE_WRAP_T,Ar.CLAMP_TO_EDGE),Ar.framebufferTexture2D(Ar.FRAMEBUFFER,Ar.COLOR_ATTACHMENT0,Ar.TEXTURE_2D,Fc,0),Ar.bindTexture(Ar.TEXTURE_2D,null),Ar.bindFramebuffer(Ar.FRAMEBUFFER,$c),pa.viewport(0,0,no,no),pa.disable(Ar.CULL_FACE),pa.disable(Ar.DEPTH_TEST),pa.depthMask(!1),pa.frontFace(Ar.CCW),pa.useProgram(Zu.program),(0,ca.setUniforms)(Zu,{viewportSize:[no,no]}),(0,ca.setBuffersAndAttributes)(Ar,Zu,Pc),(0,ca.drawBufferInfo)(Ar,Pc,Ar.TRIANGLES,3,0),Ar.bindFramebuffer(Ar.FRAMEBUFFER,null),Fc}(d,512,S)):ba.brdfLookUpTexture&&(d.deleteTexture(ba.brdfLookUpTexture),delete ba.brdfLookUpTexture)}function Tu(){Ql(pi,Vi,Ci),Vi=pi?.specularTexture||null,Ci="image"===pi?.irradianceMode&&pi.irradianceTexture||null,Hc()}function zc(){_i=!0,Wr=!0}function ef(Ar){const no=pt.get(Ar.node);no&&(ci.has(no)&&(ci.dirtyFilter(),ci.dirtySort()),oo.has(no)&&(oo.dirtyFilter(),oo.dirtySort()),ao.length&&Ar.node.clippable&&no.setDirty("transparency")),Wr=!0}function tf(Ar){"material"===Ar.property&&(oi=!0),"layer"!==Ar.property&&"renderOrder"!==Ar.property||oo.dirtySort(),Wr=!0}function ia(){Wr=!0}function ip(Ar){if(d.isContextLost())return;const no=new Fa(Ar,_a);pt.set(Ar,no),mt.set(no,Ar),Ar.on("updateWorldBounds",ef),Ar.on("dirty",ia),Ar.on("change",tf),no.on("dirty",ia),Xi.meshes++,oi=!0,Wr=!0}function nf(Ar){const no=pt.get(Ar);pt.delete(Ar),mt.delete(no),ci.delete(no),oo.delete(no),no.destroy(),Ar.off("updateWorldBounds",ef),Ar.off("dirty",ia),Ar.off("change",tf),no.off("dirty",ia),Xi.meshes--,oi=!0,Wr=!0}const Td=hr(Gd,Fl,Xi,on,ao,S),ih=vh(d,{beforeRender:Td,glState:S}),Jl=Sl(d,({bufferInfo:Ar,topology:no,offset:pa,count:Ks,depthMask:Ma})=>{if(0===Ks)return;const Zs=Kl[no];S.depthMask(!(wi.noDepthMask||!Ma)),S.cullFace(d.BACK),(0,ca.drawBufferInfo)(d,Ar,Zs,Ks,pa)},{beforeRender:Td,glState:S});let Du=!1,rf=-1/0;const sf=(Ar=!1)=>{if(d.isContextLost()||!vr)return;const no=performance.now();if(function(Ma,Zs=1,ws=1/0,La=0){Zs=Math.max(0,Zs),ws=Math.max(1,ws),La=Math.max(0,La);const al=0|Math.max(Ma.clientWidth*La,Math.min(ws,Ma.clientWidth*Zs)),Pc=0|Math.max(Ma.clientHeight*La,Math.min(ws,Ma.clientHeight*Zs));return(Ma.width!==al||Ma.height!==Pc)&&(Ma.width=al,Ma.height=Pc,!0)}(H,Math.min(window.devicePixelRatio,this.maxDevicePixelRatio),this.maxCanvasDimension,this.minDevicePixelRatio)&&(Wr=!0,this.emit("resize")),!Wr&&!Ar&&Du&&no-rf<6)return;Du=!0,rf=no,this.emit("begin",no),Xi.drawCalls=0,Xi.drawVertices=0,this.emit("animate",no);const Ks=H.clientWidth/H.clientHeight;if(vr&&Ks!==vr.aspect&&(vr.aspect=Ks,vr.dirtyProjection()),Ar||Wr){for(const ws of Ot)ws.updateWorldBounds();vr.updateWorldMatrix(),vr.projectionDirty&&vr.updateProjectionMatrix(),Nt.forEach(ws=>ws.updateWorldMatrix()),At.forEach(ws=>ws.updateWorldMatrix()),this.emit("update"),(_i||vr.dirty)&&(vr.updateWorldMatrix(),vr.updateProjectionMatrix(),(0,F.multiply)(_u,vr.projectionMatrix,vr.worldMatrixInverse),wr(yi,_u),xe&&((0,F.copy)(_l[0],vr.projectionMatrix),(0,F.copy)(Qu[0],vr.worldMatrix),(0,F.copy)(rh[0],vr.worldMatrixInverse),(0,F.getTranslation)(xd[0],vr.worldMatrix)),Array.isArray(Js.cameraPosition)&&(0,F.getTranslation)(Js.cameraPosition,vr.worldMatrix),ci.dirtySort(),oo.dirtySort(),ci.dirtyFilter(),oo.dirtyFilter());const Ma=np(),Zs=tp();Ma===_n&&Zs===gn||(_n=Ma,gn=Zs,Hc());for(const ws of Ot){const La=pt.get(ws);(La.dirty||_i)&&((0,F.getTranslation)(La.screenPosition,ws.worldMatrix),(0,h.transformMat4)(La.screenPosition,La.screenPosition,_u)),Mu(ws)}_i=!1,Pl.begin(),S.viewport(0,0,H.width,H.height),Js.screenResolution[0]=d.drawingBufferWidth,Js.screenResolution[1]=d.drawingBufferHeight,S.depthMask(!0),S.clearColor(0,0,0,0),d.clear(le),S.enable(d.DEPTH_TEST),S.enable(d.CULL_FACE),S.disable(d.BLEND),S.depthMask(!0),Fl.discardOpaque=!1,ih(ci,[ba,Js],vr),oo.filteredSize&&(S.enable(d.BLEND),Fl.discardOpaque=!0,Jl(oo,[ba,Js],vr)),Pl.render(vr),Wr=!1}oi&&(oi=!1),Xi.cpuTime=performance.now()-no,this.emit("end")};function Dd(){sf(!1),Du=Le,or&&(ur=requestAnimationFrame(Dd))}const bg=Sl(d,ep((Ar,no,pa)=>{(0,ca.drawBufferInfo)(d,pa,Kl[Ar.topology],Ar.count,Ar.offset)}),{glState:S}),fm=Sl(d,ep((Ar,no,pa)=>{S.depthMask(!(wi.noDepthMask||!Ar.depthMask)),S.cullFace(d.BACK),(0,ca.drawBufferInfo)(d,pa,Kl[Ar.topology],Ar.count,Ar.offset)}),{glState:S}),pm=function(){var Ar=r(function*(){if(xa&&!d.isContextLost()){try{yield Promise.all([d.makeXRCompatible(),xa.requestReferenceSpace("local").then(no=>{Md=no})])}catch{}if(!d.isContextLost())if(xe){ou=d.createFramebuffer(),sl=new XRWebGLBinding(xa,d);const no=sl.createProjectionLayer({textureType:"texture-array",depthFormat:oe?d.DEPTH_COMPONENT24:d.DEPTH_COMPONENT});xa.updateRenderState({layers:[no]})}else{const no=new XRWebGLLayer(xa,d);yield xa.updateRenderState({baseLayer:no}),ou=no.framebuffer}}});return function(){return Ar.apply(this,arguments)}}(),Ju=(Ar,no)=>{const pa=performance.now();this.emit("begin",pa),Xi.drawCalls=0,Xi.drawVertices=0;const Ks=no.getViewerPose(this.xrRefSpace||Md);this.emit("xrframe",{frame:no,viewerPose:Ks}),this.emit("animate",no.predictedDisplayTime||Ar),np(),tp(),this.emit("update");const Ma=no.session;if(or&&(ur=Ma.requestAnimationFrame(Ju)),Ks&&Ks.views.length){const Zs=Ks.views[0];(0,F.multiply)(_u,Zs.projectionMatrix,Zs.transform.inverse.matrix),wr(yi,_u);for(const $c of Ot){const Fc=pt.get($c);$c.dirty&&$c.updateWorldBounds(),(0,F.getTranslation)(Fc.screenPosition,$c.worldMatrix),(0,h.transformMat4)(Fc.screenPosition,Fc.screenPosition,Zs.projectionMatrix),Mu($c)}ci.dirtySort(),ci.dirtyFilter(),oo.dirtySort(),oo.dirtyFilter();const ws=Ma.renderState.baseLayer;if(d.bindFramebuffer(d.FRAMEBUFFER,ou),xe){const Fc=sl.getViewSubImage(Ma.renderState.layers[0],Zs);d.bindFramebuffer(d.FRAMEBUFFER,ou);const Wc=Fc.viewport;xe.framebufferTextureMultisampleMultiviewOVR(d.DRAW_FRAMEBUFFER,d.COLOR_ATTACHMENT0,Fc.colorTexture,0,Be,0,2),null===Fc.depthStencilTexture?null===Ha&&(Ha=d.createTexture(),d.bindTexture(d.TEXTURE_2D_ARRAY,Ha),d.texStorage3D(d.TEXTURE_2D_ARRAY,1,d.DEPTH_COMPONENT24,Wc.width,Wc.height,2)):Ha=Fc.depthStencilTexture,xe.framebufferTextureMultisampleMultiviewOVR(d.DRAW_FRAMEBUFFER,d.DEPTH_ATTACHMENT,Ha,0,Be,0,2);for(let cl=0;cl<Ks.views.length;cl++){const sh=Ks.views[cl];(0,F.copy)(_l[cl],sh.projectionMatrix),(0,F.copy)(Qu[cl],sh.transform.matrix),(0,F.copy)(rh[cl],sh.transform.inverse.matrix),(0,F.getTranslation)(xd[cl],sh.transform.matrix)}S.viewport(Wc.x,Wc.y,Wc.width,Wc.height),Js.screenResolution[0]=Wc.width,Js.screenResolution[1]=Wc.height}else{S.viewport(0,0,ws.framebufferWidth,ws.framebufferHeight);const $c=ws.getViewport(Zs);Js.screenResolution[0]=$c.width,Js.screenResolution[1]=$c.height}S.disable(d.SCISSOR_TEST),S.enable(d.DEPTH_TEST),S.enable(d.CULL_FACE),S.disable(d.BLEND),S.depthMask(!0),Fl.discardOpaque=!1;const[La,al,Pc,Zu]=mn;S.clearColor(La,al,Pc,Zu),S.depthMask(!0),d.clear(le),bg(ci,[ba,Js],ws,Ks.views),oo.filteredSize&&(S.enable(d.BLEND),Fl.discardOpaque=!0,fm(oo,[ba,Js],ws,Ks.views)),fm(oo,[ba,Js],ws,Ks.views)}this.emit("end")};function oh(){Oc.release(),Ot.forEach(Ar=>nf(Ar)),Qs.destroy(),Qa.destroy(),vs.destroy(),$s.destroy(),Ka.destroy(),ra?.destroy(),cancelAnimationFrame(ur)}function mm(Ar){Ec(d)?(console.log("WebGL context lost. Attempting to recover.",Ar),Ar?.preventDefault(),oh()):console.warn("WebGL context lost.")}function gm(Ar){console.log("Restoring lost WebGL context.",Ar),(0,ca.addExtensionsToContext)(d),d.getExtension("WEBGL_clip_cull_distance"),d.getExtension("OCULUS_multiview"),S.reset(),Oc.restore(),Tu(),Ot.forEach(ip),H.style.left="1px",setTimeout(r(function*(){H.style.left="",xa?(yield pm(),or&&(ur=xa.requestAnimationFrame(Ju))):or&&(ur=requestAnimationFrame(Dd))}),0)}const Sd=function(){var Ar=r(function*(no){no!==xa&&(xa&&(xa.cancelAnimationFrame(ur),xa.removeEventListener("end",op),no||(Ha&&(d.deleteTexture(Ha),Ha=null),ou&&xe&&d.deleteFramebuffer(ou),ou=null)),Md=null,xa=no||null,xa?(xa.addEventListener("end",op),yield pm(),cancelAnimationFrame(ur),or&&!d.isContextLost()&&(ur=xa.requestAnimationFrame(Ju))):(u.xrRefSpace=null,d.bindFramebuffer(d.FRAMEBUFFER,null),vr?.dirtyMatrix(),or&&(ur=requestAnimationFrame(Dd))),Wr=!0)});return function(pa){return Ar.apply(this,arguments)}}();function op(Ar){const{session:no}=Ar;no===xa&&Sd(null)}for(let Ar=0;Ar<6;Ar++)yi.push((0,ki.create)());Gu(wi,Mn),xe&&[_l,Qu,xd,rh].forEach(Ar=>Ar.forEach(F.identity)),vs.on("create",()=>Xi.textures++),vs.on("release",()=>Xi.textures--),$s.on("create",()=>Xi.textures++),$s.on("release",()=>Xi.textures--),Qs.on("create",({geometry:Ar})=>{Ar&&Xi.geometries++}),Qs.on("release",({geometry:Ar})=>{Ar&&Xi.geometries--}),ra&&(ra.on("create",()=>Xi.vaos++),ra.on("release",()=>Xi.vaos--)),vl.on("add",Ar=>{Ar instanceof Un?(Ot.add(Ar),Ar.updateWorldBounds(),ip(Ar)):Ar instanceof Ke?Nt.add(Ar):Ar instanceof Kt&&At.add(Ar),this.emit("add",Ar)}),vl.on("remove",Ar=>{Ar instanceof Un?(Ot.delete(Ar),nf(Ar)):Ar instanceof Ke?Nt.delete(Ar):Ar instanceof Kt&&At.delete(Ar),this.emit("remove",Ar)}),Ka.on("create",({material:Ar})=>{Xi.materials++,Xi.materialTypes[Ar.type]++,Is()}),Ka.on("release",({material:Ar})=>{Xi.materials--,Xi.materialTypes[Ar.type]--,Is()}),Oc.on("change",Hc),H.addEventListener("webglcontextlost",mm,!1),H.addEventListener("webglcontextrestored",gm,!1);const Rd=d.getSupportedExtensions()||[];Object.freeze(Rd),void 0!==s?.optimizations?.computeBRDF||Tr||this.getGPUCapabilities().then(({webgl:Ar})=>{Tr=Ar.perfCaveat});const _m=oe?fl.webgl2:fl.webgl1,vm=Array.from(Object.keys(Y)).filter(Ar=>{const no=_m.get(Ar);return!(!no||"extension"in no&&!Rd.includes(no.extension)||no.supported&&!no.supported(d))});Object.defineProperties(this,{canvas:{value:H,writable:!1},root:{get:()=>vl.root,set(Ar){vl.root=Ar}},camera:{get:()=>vr,set(Ar){vr!==Ar&&(vr&&vr.off("dirty",zc),xe||(Js.projectionMatrix=null,Js.viewMatrixInverse=null,Js.cameraPosition=null,Js.viewMatrix=null),vr=Ar,vr&&(vr.on("dirty",zc),xe||(Js.projectionMatrix=vr.projectionMatrix,Js.viewMatrixInverse=vr.worldMatrix,Js.viewMatrix=vr.worldMatrixInverse,Js.cameraPosition=vr.worldMatrix instanceof Float32Array?vr.worldMatrix.subarray(12,15):(0,h.create)())))}},transparencyMode:{get:()=>Mn,set(Ar){if(!this.supportsTransparencyMode(Ar))throw new Error(`Unsupported transparency mode: ${Ar}`);Ar!==Mn&&(Mn=Ar,Gu(wi,Ar),Hc())}},toneMapping:{get:()=>Kn,set(Ar){Ar!==Kn&&(Kn=Ar,Hc())}},physicalImageLight:{get:()=>pi,set(Ar){Ar!==pi&&(pi?.off("change",Tu),pi=Ar,pi?.on("change",Tu),Tu())}},xrSession:{set:Sd,get:()=>xa},clippingPlanes:{value:ao,writable:!1},environment:{value:Oc,writable:!1},extensions:{value:Rd,writable:!1},textureFormats:{value:vm,writable:!1},stats:{value:Xi,writable:!1},running:{get:()=>or}}),this.setXRClearColor=(Ar,no,pa,Ks)=>{mn[0]=Ar,mn[1]=no,mn[2]=pa,mn[3]=Ks},this.setPostProcessingPipeline=Pl.setPipeline,this.setClippingPlanes=Ar=>{const no=rp(Ar);pt.forEach(pa=>{pa.mesh?.clippable&&(no&&pa.setDirty("shader"),pa.setDirty("transparency"))})},this.start=()=>{or||(or=!0,cancelAnimationFrame(ur),ur=xa?xa.requestAnimationFrame(Ju):requestAnimationFrame(Dd),this.emit("start"))},this.stop=()=>{or&&(or=!1,xa?xa.cancelAnimationFrame(ur):cancelAnimationFrame(ur),this.emit("stop"))},this.render=()=>sf(!0);const ym=this.destroy;this.destroy=()=>{this.stop(),this.xrSession=null,H.removeEventListener("webglcontextlost",mm,!1),H.removeEventListener("webglcontextrestored",gm,!1),oh(),Pl.destroy(),Oc.destroy(),vl.destroy(),pt.clear(),mt.clear(),Ot.clear(),At.clear(),Nt.clear(),ci.clear(),oo.clear(),pi&&(pi.off("change",Tu),pi=null,Tu()),ba.imageLightSpecularTexture&&(d.deleteTexture(ba.imageLightSpecularTexture),delete ba.imageLightSpecularTexture),ba.imageLightIrradianceTexture&&(d.deleteTexture(ba.imageLightIrradianceTexture),delete ba.imageLightIrradianceTexture),this.root=null,this.camera=null,this.xrRefSpace=null,d!==s?.gl&&d.getExtension("WEBGL_lose_context")?.loseContext(),ym()}}supportsTransparencyMode(s){return ec.has(s)}}function vu(l,s){const u=l[0],d=s[0],S=Math.abs(u-d);if((isNaN(S)||S===1/0)&&u!==d||S>ce*Math.max(1,Math.abs(u),Math.abs(d)))return!1;const H=s[1],le=l[1],oe=Math.abs(le-H);if((isNaN(oe)||oe===1/0)&&le!==H||oe>ce*Math.max(1,Math.abs(le),Math.abs(H)))return!1;const we=l[2],xe=s[2],Be=Math.abs(we-xe);return!((isNaN(Be)||Be===1/0)&&we!==xe||Be>ce*Math.max(1,Math.abs(we),Math.abs(xe)))}class ml{min=(0,h.fromValues)(1/0,1/0,1/0);max=(0,h.fromValues)(-1/0,-1/0,-1/0);expand(s){return s.min[0]<this.min[0]&&(this.min[0]=s.min[0]),s.min[1]<this.min[1]&&(this.min[1]=s.min[1]),s.min[2]<this.min[2]&&(this.min[2]=s.min[2]),s.max[0]>this.max[0]&&(this.max[0]=s.max[0]),s.max[1]>this.max[1]&&(this.max[1]=s.max[1]),s.max[2]>this.max[2]&&(this.max[2]=s.max[2]),this}expandPoint(s){return s[0]<this.min[0]&&(this.min[0]=s[0]),s[1]<this.min[1]&&(this.min[1]=s[1]),s[2]<this.min[2]&&(this.min[2]=s[2]),s[0]>this.max[0]&&(this.max[0]=s[0]),s[1]>this.max[1]&&(this.max[1]=s[1]),s[2]>this.max[2]&&(this.max[2]=s[2]),this}equals(s){return vu(this.min,s.min)&&vu(this.max,s.max)}clear(){return(0,h.set)(this.min,1/0,1/0,1/0),(0,h.set)(this.max,-1/0,-1/0,-1/0),this}copy(s){return yt(this,s),this}}function Sh(l,s,u,d,S=0,H=0){const[le,oe,we]=u,[xe,Be,Le]=d;let qe=l[0+S]-le,pt=s[0+H]-le,mt=l[1+S]-oe,Ot=s[1+H]-oe,At=l[2+S]-we,Nt=s[2+H]-we;xe||qe?qe/=xe:qe=1/xe,xe||pt?pt/=xe:pt=1/xe,Be||mt?mt/=Be:mt=1/Be,Be||Ot?Ot/=Be:Ot=1/Be,Le||At?At/=Le:At=1/Le,Le||Nt?Nt/=Le:Nt=1/Le;const mn=Math.min(Math.max(qe,pt),Math.max(mt,Ot),Math.max(At,Nt));if(mn<0)return mn;const on=Math.max(Math.min(qe,pt),Math.min(mt,Ot),Math.min(At,Nt));return on>mn?-1/0:Math.max(0,on)}function Xl(l,s,u){return l?Sh(l.min,l.max,s,u):-1/0}const Ff=w(68023);var Rh=C.n(Ff);const rl=new q(()=>new ml,l=>l.clear());class kf{getBounds;box=new ml;centroid=(0,h.create)();object;node;constructor(s,u){this.getBounds=s,this.object=u,this.update()}update(){const{centroid:s,box:u}=this;this.getBounds(u,this.object),s[0]=(u.min[0]+u.max[0])/2,s[1]=(u.min[1]+u.max[1])/2,s[2]=(u.min[2]+u.max[2])/2}}let gd=function(l){return l.Center="center",l.EqualCounts="equal",l.SurfaceArea="sah",l}({});function Bf(l,s){return(l.min[s]+l.max[s])/2}function Ih(l,s=l.axis){return Bf(l.box,s)}function ru(l){const{min:s,max:u}=l,d=Math.max(0,u[0]-s[0]),S=Math.max(0,u[1]-s[1]),H=Math.max(0,u[2]-s[2]);return 2*(d*S+d*H+S*H)}function _d(l){return ru(l.box)}function vd(l){const s=rl.get();for(let d=0,S=l.length;d<S;d++)s.expand(l[d].box);const u=ru(s);return rl.release(s),u}function Oa(l,s=!0){do{const{left:u,right:d}=l;l.box.copy(u.box).expand(d.box),l=l.parent}while(s&&l)}class iu{box;parent=null;left=null;right=null;objects=null;adapter;axis;depth;constructor(s,u,d,S=0){this.box=new ml,this.axis=0,this.parent=u,this.depth=S,this.objects=d?Array.from(d):[],this.adapter=s,s.bvh.maxDepth<S&&(s.bvh.maxDepth=S);let H=null,le=null;if(Object.defineProperties(this,{left:{get:()=>H,set:oe=>{H=oe,oe&&(oe.parent=this)}},right:{get:()=>le,set:oe=>{le=oe,oe&&(oe.parent=this)}}}),this.objects.length<=this.adapter.maxLeafObjects){for(let oe=0,we=this.objects.length;oe<we;oe++)this.objects[oe].node=this;ju(this),yd(this)}else ju(this),jd(this),Oa(this,!1)}add(s){!function(u,d){const S=ru(d.box),H=rl.get();for(;!u.objects;){const{left:le,right:oe}=u,we=_d(le);H.copy(le.box).expand(d.box);const xe=we+ru(H),Be=_d(oe);H.copy(oe.box).expand(d.box);const Le=Be+ru(H);if(H.copy(le.box).expand(oe.box),ru(H)+S<.3*Math.min(xe,Le))return Ph(u,d),void rl.release(H);u=xe<Le?le:oe}rl.release(H),u.objects.push(d),d.node=u,Oh(u),yd(u)}(this,s)}delete(s){s.node=null;const u=this.objects.indexOf(s);u>=0&&this.objects.splice(u,1),this.objects.length>0?Oh(this):this.parent&&(this.objects=null,function(d){const S=d.parent,H=d===S.left?S.right:S.left;if(S.box.copy(H.box),S.left=H.left,S.right=H.right,S.objects=H.objects,S.objects)for(let le=0,oe=S.objects.length;le<oe;le++)S.objects[le].node=S;else S.left.parent=S,S.right.parent=S,S.setDepth();S.parent&&Oa(S.parent)}(this),this.parent=null)}setDepth(s=this.depth){if(this.depth=s,s>this.adapter.bvh.maxDepth&&(this.adapter.bvh.maxDepth=s),!this.objects){const u=s+1;this.left.setDepth(u),this.right.setDepth(u)}}size(){return this.objects?this.left.size()+this.right.size():1}}function ju(l){if(l.box.clear(),l.objects)for(let s=0,u=l.objects.length;s<u;s++)l.box.expand(l.objects[s].box)}function Oh(l){const s=rl.get();s.copy(l.box),ju(l);const u=!s.equals(l.box);return u&&l.parent&&Oa(l.parent),rl.release(s),u}function Ph(l,s){const{left:u,right:d}=l,S=new iu(l.adapter,l);S.left=u,S.right=d,S.objects=null,u.parent=S,d.parent=S,Oa(S,!1);const H=new iu(l.adapter,l);H.objects.push(s),s.node=H,ju(H),l.left=S,l.right=H,l.setDepth(),Oa(l)}function jd(l){for(let H=0,le=l.objects.length;H<le;H++)l.objects[H].node=null;const s=l.objects,{splitMethod:u}=l.adapter;let d=null;if(u===gd.SurfaceArea){const H=Math.floor(l.objects.length/2);let le=1/0;for(let oe=0;oe<3;oe++){Rh()(s,H,0,s.length-1,(Le,qe)=>Le.centroid[oe]-qe.centroid[oe]);const we=s.slice(0,H),xe=s.slice(H),Be=vd(we)*we.length+vd(xe)*xe.length;if(Be<le&&(le=Be,d={axis:oe,left:we,right:xe},0===Be))break}}else{const H=rl.get();for(let Be=0;Be<s.length;Be++)H.expandPoint(s[Be].centroid);let le=-1,oe=-1/0;for(let Be=0;Be<3;Be++){const Le=H.max[Be]-H.min[Be];Le>oe&&(le=Be,oe=Le)}const we=Bf(H,le);rl.release(H);const xe=function(Be,Le){let qe=-1,pt=Be.length;for(;;){do{qe++}while(qe<pt&&Le(Be[qe])<=0);do{pt--}while(pt>=0&&Le(Be[pt])>0);if(qe>=pt)return pt+1;const mt=Be[qe];Be[qe]=Be[pt],Be[pt]=mt}}(s,Be=>Be.centroid[le]-we);if(u===gd.Center&&xe>0&&xe<s.length-1){const Be=s.slice(0,xe),Le=s.slice(xe);d={axis:le,left:Be,right:Le}}if(!d){const Be=Math.floor(s.length/2);Rh()(s,Be,0,s.length-1,(pt,mt)=>pt.centroid[le]-mt.centroid[le]);const Le=s.slice(0,Be),qe=s.slice(Be);d={axis:le,left:Le,right:qe}}}l.objects=null;const S=l.depth+1;l.axis=d.axis,l.left=new iu(l.adapter,l,d.left,S),l.right=new iu(l.adapter,l,d.right,S)}function yd(l){l.objects&&l.objects.length>l.adapter.maxLeafObjects&&jd(l)}const il=[[l=>l.right?.left,[l=>l.left,l=>l.right?.right]],[l=>l.right?.right,[l=>l.right?.left,l=>l.left]],[[l=>l.right,l=>l.left?.right],l=>l.left?.left],[[l=>l.left?.left,l=>l.right],l=>l.left?.right],[[l=>l.right?.right,l=>l.left?.right],[l=>l.right?.left,l=>l.left?.left]],[[l=>l.right?.left,l=>l.left?.right],[l=>l.left?.left,l=>l.right?.right]]];function Kc(l,s){if(Array.isArray(s)){const d=s[0](l),S=s[1](l);if(!d||!S)return 1/0;const H=rl.get();H.copy(d.box).expand(S.box);const le=ru(H);return rl.release(H),le}const u=s(l);return u?ru(u.box):1/0}function Hp(l){const{left:s,right:u,adapter:d}=l,{refitNodes:S}=d;if(l.parent&&s?.objects&&u?.objects)return void S.add(l.parent);const H=_d(s)+_d(u);let le=null,oe=H;for(let on=0,_n=il.length;on<_n;on++){const gn=il[on],Mn=Kc(l,gn[0])+Kc(l,gn[1]);Mn<oe&&(oe=Mn,le=gn)}if(!le)return void(l.parent&&S.add(l.parent));if(l.parent&&S.add(l.parent),(H-oe)/H<.3)return;const[we,xe]=le;let Be=!1;const Le=Array.isArray(we),qe=Array.isArray(xe),pt=Le?s:we(l),mt=qe?u:xe(l);let Ot,At,Nt,mn;Le?(Ot=we[0](l),At=we[1](l)):(Ot=s.left,At=s.right,Be=!0),l.left=pt,pt.left=Ot,pt.right=At,qe?(Nt=xe[0](l),mn=xe[1](l)):(Nt=u.left,mn=u.right,Be=!0),l.right=mt,mt.left=Nt,mt.right=mn,Le&&Oa(pt,!1),qe&&Oa(mt,!1),Be&&l.setDepth()}function Kd(l,s,u=1/0,...d){const{origin:S,direction:H,inspect:le,filter:oe}=s,we=s.near||0;let xe=null;const Be=H?Xl(l.box,S,H):Uo(l.box,S,u);if(Be<0||Be>u)return null;if(l.objects){for(const Ot of l.objects)if(!oe||oe(Ot.object)){let At=Be;if(l.objects.length>1&&(At=H?Xl(Ot.box,S,H):Uo(Ot.box,S,u)),At<=u+ce)if(le){const Nt=le(Ot.object,S,At,u,s,...d);Nt&&(xe&&Nt.distance<xe.distance||Nt.distance<=u)&&Nt.distance>=we-ce&&(xe=Nt,u=xe.distance)}else At>=we-ce&&(u=At,xe={object:Ot.object,distance:At})}return xe}let Le=!0;if(H)Le=H[l.axis]>0;else{const Ot=l.left?Ih(l.left,l.axis):-1/0,At=l.right?Ih(l.right,l.axis):1/0,Nt=S[l.axis];Le=Math.abs(Ot-Nt)<=Math.abs(At-Nt)}const pt=Le?l.right:l.left,mt=Kd(Le?l.left:l.right,s,u,...d);if(mt&&(xe=mt,u=xe.distance),!xe||u>we){const Ot=Kd(pt,s,u,...d);Ot&&(xe=Ot)}return xe}class yu{maxDepth=0;root;size;bounds;maxLeafObjects;add;delete;clear;optimize;query;forEach;constructor(s,u,d){const S=d?.maxLeafObjects||1,H=new Set,le={bvh:this,bounds:s,refitNodes:H,maxLeafObjects:S,splitMethod:gd.SurfaceArea},oe=new Map;let we=null;if(u){we=new Set;const Be=new Set;for(const Le of u)if(!Be.has(Le)){Be.add(Le);const qe=new kf(s,Le);we.add(qe),oe.set(Le,qe)}we.size&&(le.splitMethod=gd.Center)}const xe=new iu(le,null,we);this.add=Be=>{let Le=oe.get(Be);Le?Le.update():Le=new kf(s,Be),oe.set(Be,Le),Le.node?Oh(Le.node)&&Le.node.parent&&H.add(Le.node.parent):xe.add(Le)},this.delete=Be=>{const Le=oe.get(Be);Le&&Le.node&&(Le.node.delete(Le),oe.delete(Be))},this.clear=()=>{if(oe.clear(),xe.objects)for(let Be=0,Le=xe.objects.length;Be<Le;Be++)xe.delete(xe.objects[Be]);else xe.left=null,xe.right=null,xe.box.clear(),xe.objects=[];this.maxDepth=0},this.query=(Be,...Le)=>{const qe=isNaN(Be.radius)?1/0:Be.radius;return Kd(xe,Be,qe,...Le)},this.optimize=()=>{if(1===S)for(;H.size;){let Be=0;for(const qe of H)Be=Math.max(Be,qe.depth);const Le=new Set;for(const qe of H)qe.depth===Be&&(Le.add(qe),H.delete(qe));for(const qe of Le)Hp(qe)}else console.warn("Optimize only works if maxLeafObjects = 1")},this.forEach=Be=>{oe.forEach(Le=>Be(Le.object))},Object.defineProperties(this,{root:{get:()=>xe},size:{get:()=>oe.size},maxLeafObjects:{get:()=>S},bounds:{get:()=>xe.box}})}}function zp(l,s=l.axis){return((u=l.box).min[d=s]+u.max[d])/2;var u,d}class Hd{box;parent=null;left=null;right=null;objects=null;axis;depth;constructor(s,u,d,S=0,H=0){this.box=new ml,this.parent=u,this.axis=S,this.depth=H,this.objects=d?Array.from(d):[],s.tree.maxDepth<H&&(s.tree.maxDepth=H);for(let oe=0,we=this.objects.length;oe<we;oe++){const xe=s.boundingBoxes.get(this.objects[oe]);this.box.expand(xe)}if(H>=s.maxNodeDepth||this.objects.length<=s.maxLeafObjects)return;const{maxLeafObjects:le}=s;for(let oe=0;oe<3;oe++){const we=(this.box.min[S]+this.box.max[S])/2,xe=[],Be=[];for(let Le=0,qe=this.objects.length;Le<qe;Le++){const pt=this.objects[Le];s.boundingBoxes.get(pt).min[S]<=we?xe.push(pt):Be.push(pt)}if(xe.length>=le&&Be.length>=le){this.axis=S,this.objects=null;const Le=(S+1)%3,qe=H+1;return this.left=new Hd(s,this,xe,Le,qe),void(this.right=new Hd(s,this,Be,Le,qe))}S=(S+1)%3}}size(){return this.left&&this.right?this.left.size()+this.right.size():1}}function ol(l,s,u,d=1/0,...S){const{origin:H,direction:le,inspect:oe,filter:we}=s,xe=s.near||0;let Be=null;const Le=le?Xl(l.box,H,le):Uo(l.box,H,d);if(Le<0||Le>d)return null;if(l.objects){for(const At of l.objects)if(!we||we(At)){let Nt=Le;if(l.objects.length>1&&!oe){const mn=u.get(At);Nt=le?Xl(mn,H,le):Uo(mn,H,d)}if(Nt<=d+ce)if(oe){const mn=oe(At,H,Nt,d,s,...S);mn&&(Be&&mn.distance<Be.distance||mn.distance<=d)&&mn.distance>=xe-ce&&(Be=mn,d=Be.distance)}else Nt>=xe-ce&&(d=Nt,Be={object:At,distance:Nt})}return Be}let qe=!0;if(le)qe=le[l.axis]>0;else{const At=l.left?zp(l.left,l.axis):-1/0,Nt=l.right?zp(l.right,l.axis):1/0,mn=H[l.axis];qe=Math.abs(At-mn)<=Math.abs(Nt-mn)}const mt=qe?l.right:l.left,Ot=ol(qe?l.left:l.right,s,u,d,...S);if(Ot&&(Be=Ot,d=Ot.distance),!Be||d>xe){const At=ol(mt,s,u,d,...S);At&&(Be=At)}return Be}class zd{maxDepth=0;root;size;bounds;maxLeafObjects;query;forEach;constructor(s,u,d){const S=d?.maxLeafObjects||1,H=d?.maxNodeDepth||1/0,le=new Map,{preserveBounds:oe=!0}=d||{},we={tree:this,bounds:s,maxLeafObjects:S,maxNodeDepth:H,boundingBoxes:le},xe=new Set(u);xe.forEach(Le=>{const qe=new ml;s(qe,Le),le.set(Le,qe)});const Be=new Hd(we,null,xe);!1===oe&&le.clear(),this.query=(Le,...qe)=>{if(!Le.inspect&&!1===oe)throw new Error("KdTree queries without preserved object bounds require an inspect callback function.");const pt=isNaN(Le.radius)?1/0:Le.radius;return ol(Be,Le,we.boundingBoxes,pt,...qe)},this.forEach=Le=>{xe.forEach(qe=>Le(qe))},Object.defineProperties(this,{root:{get:()=>Be},size:{get:()=>xe.size},maxLeafObjects:{get:()=>S},bounds:{get:()=>Be.box}})}}function bu(l,s,u,d){const S=3*u,H=S+1;let oe=s[S],we=s[H],xe=s[H+1];d&&(oe=oe*d[0]+d[12],we=we*d[5]+d[13],xe=xe*d[10]+d[14]),oe<l.min[0]&&(l.min[0]=oe),we<l.min[1]&&(l.min[1]=we),xe<l.min[2]&&(l.min[2]=xe),oe>l.max[0]&&(l.max[0]=oe),we>l.max[1]&&(l.max[1]=we),xe>l.max[2]&&(l.max[2]=xe)}function Nf(l,s,u,d,S){l.clear();const H=s.attributes.position.data,le=s.attributes.position.decodeMat;bu(l,H,u,le),bu(l,H,d,le),bu(l,H,S,le)}function _g(l,s,u,d,S){l.clear();for(let H=0,le=s.morphKeys.length;H<le;H++){const oe=s.morphKeys[H],we=oe.attributes.position.data,xe=oe.attributes.position.decodeMat;bu(l,we,u,xe),bu(l,we,d,xe),bu(l,we,S,xe)}}class $d extends b{get;release;constructor(){super();const s=new Qo({create:d=>{if(d.attributes&&d.topology===Ee.triangles){const S=d.morphKeys?.length?_g:Nf,H=d.indices?(we,xe)=>{const{index:Be,geometry:Le}=xe,qe=Be+1;return S(we,Le,Le.indices[Be],Le.indices[qe],Le.indices[qe+1])}:(we,xe)=>{const{index:Be,geometry:Le}=xe,qe=Be+3;return S(we,Le,Be,qe,qe+3)},le=[];if(d.indices)for(let we=0,xe=d.indices.length;we<xe;we+=3)le.push({geometry:d,index:we});else for(let we=0,xe=d.attributes.position.data.length;we<xe;we+=9)le.push({geometry:d,index:we});const oe=new zd(H,le,{maxLeafObjects:8,preserveBounds:!1});return this.emit("create",{geometry:d}),oe}return null},release:()=>{}});this.get=d=>s.get(d),this.release=d=>s.release(d);const u=this.destroy;this.destroy=()=>{s.destroy(),u()}}}function $p(){const l=(0,U.create)(),s=(0,h.create)(),u=(0,h.create)();return{frame(d){(0,F.getRotation)(l,d)},update(d){d.updateWorldMatrix(),(0,F.getTranslation)(s,d.worldMatrix),(0,F.getScaling)(u,d.worldMatrix),(0,F.fromRotationTranslationScale)(d.worldMatrix,l,s,u),d.setWorldMatrix(d.worldMatrix)}}}function wa(){const l=(0,h.create)();return{frame(s){(0,F.getTranslation)(l,s)},update(s){s.updateWorldMatrix();const[u,d,S]=l;s.worldMatrix[12]=u,s.worldMatrix[13]=d,s.worldMatrix[14]=S,s.setWorldMatrix(s.worldMatrix)}}}class Lf{update;destroy;constructor(s){const u=new Set,d={copyPosition:wa(),copyRotation:$p()};function S(oe){oe.constraints.length?u.add(oe):u.delete(oe)}function H(oe){"constraints"===oe.property&&S(oe.node)}const le=new ks;le.on("add",function(oe){oe.on("change",H),S(oe)}),le.on("remove",function(oe){oe.off("change",H),u.delete(oe)}),le.root=s,this.update=oe=>{const we={};u.forEach(xe=>{xe.constraints.forEach(Be=>{const Le=Be.type;if(Le in d){const qe=d[Le];we[Le]||(we[Le]=!0,qe.frame?.(oe)),qe.update(xe,Be)}})})},this.destroy=()=>{le.destroy(),u.clear()}}}const Eu=(0,F.create)();function kh(l,s,u){return l*l+s*s+u*u}function Wp(l,s){const u=(0,h.create)(),d={origin:(0,h.create)(),direction:u,radius:1/0,near:0,inspect:s};return(S,H,le,oe,{direction:we},...xe)=>{if(S.geometry.topology!==Ee.triangles)return null;const Be=l(S.geometry);if(!Be){const pt=[0,0,0];return(0,h.scaleAndAdd)(pt,H,we,le),{object:S,distance:le,intersection:pt}}let Le=null;const{worldMatrix:qe}=S;if((0,F.invert)(Eu,qe),(0,h.transformMat4)(d.origin,H,Eu),we)d.direction=u,oe<1/0?((0,h.scaleAndAdd)(u,H,we,oe),(0,h.transformMat4)(u,u,Eu),(0,h.subtract)(u,u,d.origin),d.radius=(0,h.length)(u),(0,h.scale)(u,u,1/d.radius)):((0,h.add)(u,H,we),(0,h.transformMat4)(u,u,Eu),(0,h.subtract)(u,u,d.origin),(0,h.normalize)(u,u),d.radius=1/0),Le=Be.query(d,S,...xe);else{d.direction=null;const pt=kh(qe[0],qe[1],qe[2]),mt=kh(qe[4],qe[5],qe[6]),Ot=kh(qe[8],qe[9],qe[10]),At=Math.sqrt(Math.max(pt,mt,Ot));d.radius=Math.max(1e-4,oe/At),Le=Be.query(d,S,...xe)}if(Le){const{object:pt,intersection:mt,...Ot}=Le;(0,h.transformMat4)(mt,mt,qe);let At=(0,h.distance)(H,mt);if(At>=le-ce&&At<=oe+ce)return At=se(At,le,oe),{object:S,...Ot,intersection:mt,distance:At,triIndex:pt.index}}return null}}const Au=(0,h.create)(),Cu=(0,h.create)(),Wd=(0,h.create)(),Ku=(0,h.create)();function Uf(l,s,u,d,S,H){(0,h.subtract)(Au,S,d),(0,h.subtract)(Cu,H,d),(0,h.cross)(Wd,Au,Cu);const le=-(0,h.dot)(u,Wd);if(le<0||0===le)return!1;(0,h.subtract)(Ku,s,d),(0,h.cross)(Cu,Ku,Cu);const oe=-(0,h.dot)(u,Cu);if(oe<0)return!1;(0,h.cross)(Au,Au,Ku);const we=-(0,h.dot)(u,Au);if(we<0||oe+we>le)return!1;const xe=(0,h.dot)(Ku,Wd);return!(xe<0)&&((0,h.scaleAndAdd)(l,s,u,xe/le),!0)}function Ol(l,s,u,d){let le=s[u],oe=s[u+1],we=s[u+2];d&&(le=le*d[0]+d[12],oe=oe*d[5]+d[13],we=we*d[10]+d[14]),l[0]=le,l[1]=oe,l[2]=we}function Xd(l,s,u,d,S){const{geometry:H}=l,{indices:le}=H,oe=s+1,we=oe+1,{morphKeyIndex:xe,morphFactor:Be}=l;if(xe>=0&&H.morphKeys.length){const Le=H.morphKeys[xe],qe=Le.attributes.position.data,pt=Le.attributes.position.decodeMat;if(Ol(u,qe,3*le[s],pt),Ol(d,qe,3*le[oe],pt),Ol(S,qe,3*le[we],pt),Be>0){const mt=H.morphKeys[xe+1],Ot=mt.attributes.position.data,At=mt.attributes.position.decodeMat,Nt=$.get();Ol(Nt,Ot,3*le[s],At),(0,h.lerp)(u,u,Nt,Be),Ol(Nt,Ot,3*le[oe],At),(0,h.lerp)(d,d,Nt,Be),Ol(Nt,Ot,3*le[we],At),(0,h.lerp)(S,S,Nt,Be),$.release(Nt)}}else{const Le=H.attributes.position.decodeMat,qe=H.attributes.position.data;Ol(u,qe,3*le[s],Le),Ol(d,qe,3*le[oe],Le),Ol(S,qe,3*le[we],Le)}}const Xp=(l,s,u,d,{direction:S},H)=>{const le=$.get(),oe=$.get(),we=$.get(),xe=$.get(),{index:Be}=l;Xd(H,Be,le,oe,we);const Le=S?Uf(xe,s,S,le,oe,we):function(pt,mt,Ot,At,Nt,mn){const on=Ot*Ot,_n=$.get(),gn=$.get(),Mn=$.get();(0,h.subtract)(_n,Nt,At),(0,h.subtract)(gn,mn,At),(0,h.subtract)(Mn,mt,At);const Kn=(0,h.dot)(_n,Mn),ur=(0,h.dot)(gn,Mn);if($.release(Mn),Kn<=0&&ur<=0)return(0,h.copy)(pt,At),$.release(_n),$.release(gn),(0,h.squaredDistance)(mt,pt)<=on;const or=$.get();(0,h.subtract)(or,mt,Nt);const vr=(0,h.dot)(_n,or),oi=(0,h.dot)(gn,or);if($.release(or),vr>=0&&oi>=vr)return(0,h.copy)(pt,Nt),$.release(_n),$.release(gn),(0,h.squaredDistance)(mt,pt)<=on;const _i=Kn*oi-vr*ur;if(_i<=0&&Kn>=0&&vr<=0)return(0,h.scaleAndAdd)(pt,At,_n,Kn/(Kn-vr)),$.release(_n),$.release(gn),(0,h.squaredDistance)(mt,pt)<=on;const Wr=$.get();(0,h.subtract)(Wr,mt,mn);const pi=(0,h.dot)(_n,Wr),Vi=(0,h.dot)(gn,Wr);if($.release(Wr),Vi>=0&&pi<=Vi)return(0,h.copy)(pt,mn),$.release(_n),$.release(gn),(0,h.squaredDistance)(mt,pt)<=on;const Ci=pi*ur-Kn*Vi;if(Ci<=0&&ur>=0&&Vi<=0)return(0,h.scaleAndAdd)(pt,At,gn,ur/(ur-Vi)),$.release(_n),$.release(gn),(0,h.squaredDistance)(mt,pt)<=on;const Tr=vr*Vi-pi*oi;if(Tr<=0&&oi-vr>=0&&pi-Vi>=0){const Xi=$.get();return(0,h.scaleAndAdd)(pt,Nt,Xi,(oi-vr)/(oi-vr+(pi-Vi))),$.release(_n),$.release(gn),$.release(Xi),(0,h.squaredDistance)(mt,pt)<=on}const wi=1/(Tr+Ci+_i),ao=_i*wi;return(0,h.scaleAndAdd)(pt,At,_n,Ci*wi),(0,h.scaleAndAdd)(pt,pt,gn,ao),$.release(_n),$.release(gn),(0,h.squaredDistance)(mt,pt)<=on}(xe,s,d,le,oe,we);$.release(le),$.release(oe),$.release(we);let qe=null;return Le&&(qe={object:l,distance:(0,h.distance)(s,xe),intersection:Array.from(xe)}),$.release(xe),qe};function Na(l,s,u=ce){const[d,S,H]=s.min,[le,oe,we]=s.max,xe=l.worldMatrixInverse,Be=xe[2],Le=xe[6],qe=xe[10],pt=xe[14],mt=le-d,Ot=oe-S,At=we-H,Nt=Math.sqrt(mt*mt+Ot*Ot+At*At);let mn=d*Be+S*Le+H*qe+pt;if(isFinite(mn)){mn=Math.max(mn,le*Be+S*Le+H*qe+pt),mn=Math.max(mn,d*Be+oe*Le+H*qe+pt),mn=Math.max(mn,d*Be+S*Le+we*qe+pt),mn=Math.max(mn,le*Be+oe*Le+H*qe+pt),mn=Math.max(mn,le*Be+S*Le+we*qe+pt),mn=Math.max(mn,d*Be+oe*Le+we*qe+pt),mn=Math.max(mn,le*Be+oe*Le+we*qe+pt);const{near:on,far:_n}=l;l.near=Math.max(-mn,u),l.far=Math.max(Nt-mn,l.near+u),on===l.near&&_n===l.far||l.dirtyProjection()}}const Hu=(0,ki.create)();function Vf(l,s,u){(0,ki.transformMat4)(l.plane,s.plane,u),Nr(l.plane),s.fade?((0,h.copy)(Hu,s.plane),Hu[3]=s.plane[3]+s.fade,(0,ki.transformMat4)(Hu,Hu,u),Nr(Hu),l.fade=Hu[3]-l.plane[3]):l.fade=0}const Yp=new Map([["bc1-rgba-unorm","s3"],["bc2-rgba-unorm","s3"],["bc3-rgba-unorm","s3"],["bc1-rgba-unorm-srgb","s3"],["bc2-rgba-unorm-srgb","s3"],["bc3-rgba-unorm-srgb","s3"],["bc4-r-unorm","rgtc"],["bc4-r-snorm","rgtc"],["bc5-rg-unorm","rgtc"],["bc5-rg-snorm","rgtc"],["bc6h-rgb-ufloat","bptc"],["bc6h-rgb-float","bptc"],["bc7-rgba-unorm","bptc"],["bc7-rgba-unorm-srgb","bptc"],["etc2-rgb8unorm","etc"],["etc2-rgb8unorm-srgb","etc"],["etc2-rgb8a1unorm","etc"],["etc2-rgb8a1unorm-srgb","etc"],["etc2-rgba8unorm","etc"],["etc2-rgba8unorm-srgb","etc"],["eac-r11unorm","etc"],["eac-r11snorm","etc"],["eac-rg11unorm","etc"],["eac-rg11snorm","etc"],["etc2-rgb8unorm","etc1"],["astc-4x4-unorm","astc"],["astc-5x4-unorm","astc"],["astc-5x5-unorm","astc"],["astc-6x5-unorm","astc"],["astc-6x6-unorm","astc"],["astc-8x5-unorm","astc"],["astc-8x6-unorm","astc"],["astc-8x8-unorm","astc"],["astc-10x5-unorm","astc"],["astc-10x6-unorm","astc"],["astc-10x8-unorm","astc"],["astc-10x10-unorm","astc"],["astc-12x10-unorm","astc"],["astc-12x12-unorm","astc"],["astc-4x4-unorm-srgb","astc"],["astc-5x4-unorm-srgb","astc"],["astc-5x5-unorm-srgb","astc"],["astc-6x5-unorm-srgb","astc"],["astc-6x6-unorm-srgb","astc"],["astc-8x5-unorm-srgb","astc"],["astc-8x6-unorm-srgb","astc"],["astc-8x8-unorm-srgb","astc"],["astc-10x5-unorm-srgb","astc"],["astc-10x6-unorm-srgb","astc"],["astc-10x8-unorm-srgb","astc"],["astc-10x10-unorm-srgb","astc"],["astc-12x10-unorm-srgb","astc"],["astc-12x12-unorm-srgb","astc"],["pvrtc-rgb4unorm","pvrtc"],["pvrtc-rgb2unorm","pvrtc"],["pvrtc-rgba4unorm","pvrtc"],["pvrtc-rgba2unorm","pvrtc"]]),Gf=new Map([[Je.Linear,"linear"],[Je.Exponential,"exp"],[Je.ExponentialSquared,"exp2"]]);class jf extends b{renderer;rootNode;contentNode;environmentNode;camera;started;story;bounds=new ml;setStory;rayCast;rayCastCamera;searchNearestObject;start;stop;constructor(s,u){let d;super();let S=null,H=!1;const{baseUrl:le,queryFilter:oe}=u,we=new Dh({canvas:u.canvas,contextName:u.contextName,optimizations:u.optimizations}),xe=new yu((Tr,wi)=>yt(Tr,wi.worldBounds)),Be=new ml,Le=new Set;let qe=!0;const pt=[],mt=new rn;mt.name="camera",mt.near=.001,mt.dirtyProjection(),mt.updateWorldMatrix();const Ot=Tr=>!(Tr instanceof Jn)&&(!oe||oe(Tr)),At=Tr=>{const{visible:wi}=Tr,yi=Ot(Tr);wi&&yi?xe.add(Tr):xe.delete(Tr);const ao=Le.has(Tr),Xi=wi&&!yi;Xi?Le.add(Tr):Le.delete(Tr),(Xi||ao)&&(qe=!0)};function Nt(Tr){"geometry"!==Tr.property&&"visible"!==Tr.property||At(Tr.node)}function mn(Tr){At(Tr.node)}we.on("add",Tr=>{Tr instanceof Un&&(Tr.on("updateWorldBounds",mn),Tr.on("change",Nt),Tr.visible&&!Ot(Tr)&&Le.add(Tr))}),we.on("remove",Tr=>{Tr instanceof Un&&(Tr.off("updateWorldBounds",mn),Tr.off("change",Nt),xe.delete(Tr),Le.delete(Tr))}),we.on("xrframe",({viewerPose:Tr})=>{Tr&&(d=Tr.transform.matrix)});const on=new Me({name:"BioDigitalEngine"});on.add(mt),we.root=on;const _n=new Me({name:"BioDigitalEngine environment"});_n.parent=on;const gn=new Me({name:"BioDigitalEngine content"});gn.parent=on,we.camera=mt;const Mn=new Lf(on);we.on("animate",function(Tr){const wi=Tr/1e3;S?.update(wi),we.xrSession||(mt.updateWorldMatrix(),d=mt.worldMatrix),Mn.update(d,on)}),we.on("update",()=>{qe&&(Be.clear(),Le.forEach(Tr=>{Be.expand(Tr.worldBounds)}),qe=!1),this.bounds.copy(xe.bounds).expand(Be),we.xrSession||Na(mt,this.bounds,.1*ge)});const Kn=(0,F.create)();function ur(){const Tr=S?.activeChapter,wi=Tr?.clippingPlanes||[];for(let yi=pt.length;yi<wi.length;yi++)pt.push({plane:(0,ki.create)(),fade:0});if(pt.length=wi.length,Tr){Tr.contentNode.updateWorldMatrix(),(0,F.invert)(Kn,Tr.contentNode.worldMatrix),(0,F.transpose)(Kn,Kn);for(let yi=0;yi<wi.length;yi++){const ao=wi[yi];ao&&Vf(pt[yi],ao,Kn)}}we.setClippingPlanes(pt)}const or=()=>{if(S){const Tr=S;S=null,gn.remove(Tr.contentNode),_n.remove(Tr.environmentNode),we.environment.fog.mode="",we.environment.lightMap.texture=null,we.environment.reflectionMap.texture=null,we.physicalImageLight=null,Tr.destroy()}},vr=Tr=>xe.query(Tr)||null,oi=new $d,_i={origin:(0,h.create)(),direction:(0,h.create)(),near:0,radius:1/0,inspect:Wp(Tr=>oi.get(Tr),Xp)},Wr={origin:null,near:0,radius:1/0,inspect:_i.inspect},pi=(0,F.create)();this.rayCastCamera=(Tr,wi,yi,ao)=>{const{canvas:Xi}=we,ns=Tr/Xi.width*2-1,gi=-wi/Xi.height*2+1,Or=ao?ao.transform.matrix:mt.worldMatrix,ci=ao?ao.projectionMatrix:mt.projectionMatrix,{origin:oo,direction:vs}=_i;return _i.near=yi?.near??ci[14]/(ci[10]-1),_i.filter=yi?.filter||void 0,_i.radius=yi?.radius??ci[14]/(ci[10]+1),(0,F.getTranslation)(oo,Or),(0,h.set)(vs,ns,gi,.5),(0,F.invert)(pi,ci),(0,h.transformMat4)(vs,vs,pi),(0,h.transformMat4)(vs,vs,Or),(0,h.subtract)(vs,vs,oo),(0,h.normalize)(vs,vs),vr(_i)},this.rayCast=(Tr,wi)=>{const{origin:yi,direction:ao}=_i;return(0,F.getTranslation)(yi,Tr),(0,h.set)(ao,0,0,-1),(0,h.transformMat4)(ao,ao,Tr),(0,h.subtract)(ao,ao,yi),(0,h.normalize)(ao,ao),_i.near=void 0===wi?.near?mt.near:wi.near,_i.filter=wi?.filter||void 0,_i.radius=wi?.radius?wi.radius:1/0,vr(_i)},this.searchNearestObject=(Tr,wi)=>(Wr.origin=Tr,_i.near=void 0===wi?.near?mt.near:wi.near,_i.filter=wi?.filter||void 0,_i.radius=wi?.radius?wi.radius:1/0,vr(_i));const Vi=(Tr=we.textureFormats,wi=u?.disableTextureCompression,wi?Tr.filter(yi=>!0===wi?!Yp.has(yi):!wi[Yp.get(yi)||yi]):Tr);var Tr,wi;this.setStory=Tr=>{if(or(),!Tr)return;const wi=S=new ko(s,Tr,{decompressNormals:!1,decompressPositions:!1,computeTangents:!0,textureFormats:Vi,baseUrl:le,loadAllMorphs:u.loadAllMorphs,camera:mt});let yi=wi.activeChapter;wi.on("changechapter",ao=>{const Xi=wi.chapters[ao];var ns;ns=Xi.environment,Object.assign(we.environment.lightMap,ns?.lightMap||{texture:null}),Object.assign(we.environment.reflectionMap,ns?.reflectionMap||{texture:null}),function(gi){const{enabled:Or,mode:ci,start:oo=0,end:vs=1e3,density:$s=.01,...Qs}=gi||{},ra=Or&&Gf.get(ci)||"";Object.assign(we.environment.fog,Qs),we.environment.fog.start=oo*ge,we.environment.fog.end=vs*ge,we.environment.fog.density=$s/ge,we.environment.fog.mode=ra}(Xi.properties.fog),ur(),we.physicalImageLight=Xi.physicalImageLight,we.toneMapping=Xi.toneMapping,we.transparencyMode=[Xi.transparencyMode,Xi.fallbackTransparency,vo.Alpha].find(gi=>gi&&we.supportsTransparencyMode(gi)),we.setPostProcessingPipeline(Xi.postProcess),yi!==Xi&&(Xi.clippingPlanes.on("change",ur),Xi.contentNode.on("dirty",ur),yi?.clippingPlanes.off("change",ur),yi?.contentNode.off("dirty",ur),yi=Xi),this.emit("changechapter",ao)}),wi.on("destroy",()=>{or()}),gn.add(S.contentNode),_n.add(S.environmentNode),H&&wi.start(),this.emit("changestory")},this.start=()=>{H||(H=!0,S?.start(),we.start(),this.emit("start"))},this.stop=()=>{H&&(H=!1,we.stop(),S?.stop(),this.emit("stop"))};const Ci=this.destroy;this.destroy=()=>{or(),oi.destroy(),we.destroy(),this.emit("destroy"),Ci()},Object.defineProperties(this,{renderer:{value:we,writable:!1},rootNode:{value:on,writable:!1},environmentNode:{value:_n,writable:!1},contentNode:{value:gn,writable:!1},camera:{value:mt,writable:!1},story:{get:()=>S},started:{get:()=>H}})}}class Qp extends et{left;right;top;bottom;constructor(s={}){const{left:u,right:d,top:S,bottom:H,...le}=s;super(le),this.left=u??-1,this.right=d??1,this.top=S??1,this.bottom=H??-1;let oe=!0;this.dirtyProjection=()=>{oe=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{oe&&(0,F.ortho)(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),oe=!1},Object.defineProperties(this,{dirty:{get:()=>oe||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>oe}})}}class Jp extends b{play;pause;update;loop;currentTime;playBackRate;animationSystem;paused;duration;constructor(s,u){super();const d=!!u?.autoAnimate,S=Math.max(1e3/60,u?.maxDelta||Ge);let H=!0,le=!1,oe=1,we=0,xe=1/0,Be=0;const Le=()=>{if(H)return;const pt=performance.now(),mt=pt-Be;mt>S&&(xe-=S-mt),Be=pt;const Ot=(pt-xe)*oe/1e3,At=s.currentTime,{duration:Nt}=s;if(Ot>=Nt)if(le&&Nt>0)s.currentTime=Ot%Nt;else{const mn=s.currentTime!==Nt;s.currentTime=Nt,this.pause(),mn&&this.emit("ended",this)}else s.currentTime=Ot;Ot!==At&&this.emit("timeupdate",this),!H&&d&&(we=requestAnimationFrame(Le))};this.update=Le,this.play=()=>{if(!H)return;const pt=s.currentTime;let mt=s.currentTime;mt>=s.duration&&(s.currentTime=mt=0);const Ot=performance.now();xe=Ot-1e3*mt/oe,Be=Ot,H=!1,d&&(we=requestAnimationFrame(Le)),this.emit("play",this),mt!==pt&&this.emit("timeupdate",this)},this.pause=()=>{H||(H=!0,cancelAnimationFrame(we),this.emit("pause",this))};const qe=this.destroy;this.destroy=()=>{this.pause(),qe()},Object.defineProperties(this,{loop:{get:()=>le,set(pt){le=pt}},currentTime:{get:()=>s.currentTime,set(pt){if(pt<0||pt>s.duration||isNaN(pt))throw new Error("Invalid animation system time: "+pt);pt!==s.currentTime&&(s.currentTime=pt,this.emit("timeupdate",this))}},playBackRate:{get:()=>oe,set(pt){if(!(pt>0))throw new Error("Negative or zero playback rate not supported");oe!==pt&&(oe=pt,xe=performance.now()-1e3*s.currentTime/oe,this.emit("ratechange",this))}},paused:{get:()=>H},duration:{get:()=>s.duration},animationSystem:{value:s,writable:!1}})}}function Zp(l,s,u,d,S){const H=$.get(),le=$.get(),oe=$.get();(0,h.subtract)(H,S,u),(0,h.subtract)(le,d,u),(0,h.subtract)(oe,s,u);const we=(0,h.dot)(H,H),xe=(0,h.dot)(H,le),Be=(0,h.dot)(H,oe),Le=(0,h.dot)(le,le),qe=(0,h.dot)(le,oe);$.release(H),$.release(le),$.release(oe);const pt=we*Le-xe*xe;if(0===pt)return null;const mt=1/pt,Ot=(Le*Be-xe*qe)*mt,At=(we*qe-xe*Be)*mt;return(0,h.set)(l,1-Ot-At,At,Ot),l}function Yl(l,s,u,d,S){const H=s[0],le=s[1],oe=s[2];return l[0]=u[0]*H+d[0]*le+S[0]*oe,l[1]=u[1]*H+d[1]*le+S[1]*oe,l[2]=u[2]*H+d[2]*le+S[2]*oe,l}function zu(l,s,u,d){const S=$.get(),H=$.get();(0,h.subtract)(S,d,u),(0,h.subtract)(H,s,u),(0,h.cross)(S,S,H),$.release(H);const le=(0,h.squaredLength)(S);return le>0?((0,h.scale)(l,S,1/Math.sqrt(le)),$.release(S),l):($.release(S),null)}const Bh=(0,F.create)();class Kf{title;shown;trackingMode;renderableIndex;primitiveIndex;variantIndex;anatomyObject;barycenter;direction=(0,h.fromValues)(0,0,1);position=(0,h.create)();visible;update;destroy;constructor(s,u){const{object:d,trackingMode:S,renderableIndex:H=-1,primitiveIndex:le=-1,variantIndex:oe=0}=u,we="primitive"===S&&u.barycenter?(0,h.copy)((0,h.create)(),u.barycenter):null;if("primitive"===S){if(!(H>=0))throw new Error("Primitive-tracked marker must have a renderableIndex >= 0.");if(!(le>=0))throw new Error("Primitive-tracked marker must have a primitiveIndex >= 0.");if(!(oe>=0))throw new Error("Primitive-tracked marker must have a variantIndex >= 0.");if(!(oe<d.variantCount))throw new Error("Primitive-tracked marker must have a variantIndex < object variant count.");if(!we)throw new Error("Primitive-tracked marker must have a barycenter.")}else{if("object"!==S)throw new Error("Unknown marker tracking mode: "+S);if(!u.worldPosition)throw new Error("Object-tracked marker must have a position.")}this.title=u.title||"";let xe=u.shown??!0,Be=!0,Le=!0,qe=null;const{sceneNode:pt}=d,mt=(0,h.create)(),Ot=()=>{if(Le&&Be){if("primitive"===S){if(!qe)return;qe.updateWorldMatrix();const _n=le,gn=$.get(),Mn=$.get(),Kn=$.get();Xd(qe,_n,gn,Mn,Kn),Yl(this.position,this.barycenter,gn,Mn,Kn),(0,h.transformMat4)(this.position,this.position,qe.worldMatrix),(0,h.transformMat4)(gn,gn,qe.worldMatrix),(0,h.transformMat4)(Mn,Mn,qe.worldMatrix),(0,h.transformMat4)(Kn,Kn,qe.worldMatrix),zu(this.direction,gn,Mn,Kn),$.release(gn),$.release(Mn),$.release(Kn)}else pt.updateWorldMatrix(),(0,h.transformMat4)(this.position,mt,pt.worldMatrix);Be=!1}},At=()=>{const _n=Le;Le=xe&&d.shown&&s.active&&d.transformLoaded&&d.variant===oe&&("primitive"!==S||!!qe?.visible),Le&&!_n&&Ot()},Nt=()=>{Be=!0},mn=()=>{d.transformLoaded&&s.active&&(pt.updateWorldMatrix(),(0,F.invert)(Bh,pt.worldMatrix),(0,h.transformMat4)(mt,u.worldPosition,Bh),pt.on("updateWorldMatrix",Nt),d.off("loadtransform",mn),s.off("activate",mn),At(),Be=!0)},on=()=>{if(d.loaded&&d.variant===oe){if(d.off("load",on),qe=d.variants[oe][H]?.meshNode||null,!qe)return console.warn("Missing meshNode on marker target object",d,H),void(Le=!1);qe.on("updateWorldMatrix",Nt),qe.on("change",Nt),At(),Be=!0}};this.update=()=>{Ot()},this.destroy=()=>{s.off("activate",At),s.off("deactivate",At),d.off("load",on),d.off("loadtransform",mn),d.off("change",At),s.off("activate",mn),pt.off("updateWorldMatrix",Nt),qe?.off("updateWorldMatrix",Nt),qe?.off("change",Nt)},Object.defineProperties(this,{shown:{get:()=>xe,set:_n=>{xe!==_n&&(xe=_n,At())}},visible:{get:()=>Le},trackingMode:{writable:!1,value:S},anatomyObject:{writable:!1,value:d},renderableIndex:{writable:!1,value:H},primitiveIndex:{writable:!1,value:le},variantIndex:{writable:!1,value:oe},barycenter:{writable:!1,value:we}}),"primitive"===S?d.loaded?on():d.on("load",on):d.transformLoaded&&s.active?mn():(d.on("loadtransform",mn),s.on("activate",mn)),d.on("change",At),s.on("activate",At),s.on("deactivate",At),At(),Ot()}}function bd(l,s,u){return s.updateWorldMatrix(),s.updateProjectionMatrix(),(0,h.transformMat4)(l,u,s.worldMatrixInverse),(0,h.transformMat4)(l,l,s.projectionMatrix),l}function $u(l,s,u){const{clientWidth:d,clientHeight:S}=s;return l[0]=(u[0]*d+d)/2,l[1]=(-u[1]*S+S)/2,l}const qp=.5*ge;class Ed{id;title;visible;clipped;occluded;position=(0,h.create)();viewPosition=(0,h.create)();screenPosition=(0,Ds.create)();anatomyObject;marker3D;update;destroy;static meshOccludesMarkers(s,u){const d=u.story.anatomySceneGraph.findAnatomyObject(s);return!!d&&("auto"===d.occludesMarkers?eu(s)===Ra.opaque:"always"===d.occludesMarkers)}constructor(s,u,d,S,H){let le=!1,oe=!1,we=!1;const xe=new Kf(u,d),{camera:Be}=u.story;this.update=Le=>{if(xe.update(),le=xe.visible,!le)return oe=!0,void(we=!0);const qe=Le?Le.transform.matrix:Be.worldMatrix,pt=Le?Le.transform.inverse.matrix:Be.worldMatrixInverse,mt=Le?Le.projectionMatrix:Be.projectionMatrix;(0,h.transformMat4)(this.viewPosition,xe.position,pt),Le?((0,h.transformMat4)(this.position,xe.position,pt),(0,h.transformMat4)(this.position,this.position,mt)):bd(this.position,Be,xe.position),$u(this.screenPosition,H||s.renderer.canvas,this.position);const[Ot,At]=this.position;if(oe=Ot<-1||Ot>1||At<-1||At>1||this.viewPosition[2]>0,oe)return void(we=!0);const Nt=$.get(),mn=$.get();(0,F.getTranslation)(Nt,qe),(0,h.subtract)(mn,Nt,xe.position);const on=(0,h.length)(mn);$.release(mn);const _n=Math.min(.1*on,qp),[gn,Mn]=this.screenPosition;we=!!s.rayCastCamera(gn,Mn,{filter:ur=>Ed.meshOccludesMarkers(ur,s),radius:Math.max(0,on-_n)},Le),$.release(Nt)},this.destroy=()=>{xe.destroy()},Object.defineProperties(this,{visible:{get:()=>le},clipped:{get:()=>oe},occluded:{get:()=>we},id:{writable:!1,value:S},anatomyObject:{writable:!1,value:xe.anatomyObject},marker3D:{writable:!1,value:xe},title:{writable:!1,value:xe.title}})}}class Nh extends b{object;target;update;grab;release;constructor(s,u){let d,S;super();const H=(0,F.create)(),le=(0,F.create)(),oe=le;this.update=(xe,Be)=>{const qe=xe.getPose(u.inputSource.targetRaySpace,Be);if(qe)if(S)(0,F.multiply)(S.worldMatrix,qe.transform.matrix,le),S.setWorldMatrix(S.worldMatrix);else{const pt=s(qe)||null;pt?(d=pt.object,u.distance=pt.distance,(0,F.copy)(H,qe.transform.matrix)):(d=null,u.distance=1/0)}},this.grab=()=>!(S||!d||(S=d,this.emit("grab",{object:S}),S.updateWorldMatrix(),(0,F.invert)(oe,H),(0,F.multiply)(le,oe,S.worldMatrix),0)),this.release=()=>{if(S){const xe=S;return S=null,this.emit("release",{object:xe}),!0}return!1};const we=this.destroy;this.destroy=()=>{this.release(),this.emit("destroy"),we()},Object.defineProperties(this,{object:{get:()=>S},target:{get:()=>S||d}})}}const Wu=w(28638);function wu(l,s){if(!l)return null;if(s(l))return l;for(const u of l.children){const d=wu(u,s);if(d)return d}return null}function Xu(l,s){return wu(l,u=>u.name===s)}const Lh=w(79258),Hf=w(13128),em=w(36848),tm=10240,zf=10241,Uh=10242,nm=10243,wc=new Map([[9728,We.Nearest],[9729,We.Linear],[9984,We.Nearest],[9985,We.Linear],[9986,We.Nearest],[9987,We.Linear]]),Vh=new Map([[9728,We.Nearest],[9729,We.Nearest],[9984,We.Nearest],[9985,We.Nearest],[9986,We.Linear],[9987,We.Linear]]),Ad=new Map([[33071,st.ClampToEdge],[10497,st.Repeat],[33648,st.MirrorRepeat]]);function Yu(l,s,u){const{name:d,children:S,mesh:H,light:le,matrix:oe,translation:we,scale:xe,rotation:Be}=l,Le=new Me(Object.assign({name:d},oe?null:{position:we,scale:xe,quaternion:Be}));if(oe&&Le.setMatrix(oe),H){const qe=s[H.id];if(qe.parent)throw new Error("Duplicate mesh parent");Le.add(qe)}if(void 0!==le&&u){const qe=u[le];if(qe.parent)throw new Error("Duplicate mesh parent");Le.add(qe)}if(S)for(let qe=0;qe<S.length;qe++){const pt=Yu(S[qe],s,u);Le.add(pt)}return Le}const vg={TEXCOORD_0:"texcoord",COLOR_0:"color"};function $f(l,s){return s===v?new Float32Array(l).map(u=>Math.max(u/127,-1)):s===j?new Float32Array(l).map(u=>u/255):s===I?new Float32Array(l).map(u=>Math.max(u/32767,-1)):s===re?new Float32Array(l).map(u=>u/65535):l}function oc(l,s){const{attributes:u,indices:d,mode:S=4}=l;4!==S&&console.warn("Unknown primitive mode: "+S);const H={};d?.value&&(H.indices=d.value);for(const[we,xe]of Object.entries(u)){const{value:Be,components:Le,normalized:qe,componentType:pt}=xe,mt=qe?$f(Be,pt):Be;H[vg[we]||we.toLocaleLowerCase()]={numComponents:Le,data:mt}}const le=u.POSITION.min&&u.POSITION?.normalized?$f(u.POSITION.min,u.POSITION.componentType):u.POSITION.min,oe=u.POSITION.max&&u.POSITION?.normalized?$f(u.POSITION.max,u.POSITION.componentType):u.POSITION.max;return s(H,le&&oe?{min:le,max:oe}:void 0)}function xu(l,s){const u={},d=[],S={};let H=null;const le=s.makeMaterial({id:"-no-material-",name:"<missing material>"},d),{makeMaterial:oe,makeGeometry:we=(qe,pt)=>new Mt(qe,pt),makeMeshNode:xe=(qe,pt,mt)=>new ct(qe,pt,mt)}=s;l.textures?.forEach((qe,pt)=>{d[pt]=function(mt){const{sampler:Ot,source:At}=mt,{image:Nt}=At,mn=Ot.parameters||Ot,on=Ot.minFilter||mn[zf],_n=Ot.magFilter||mn[tm],gn=mn[Uh],Mn=mn[nm];return new Go(Nt,{name:mt.source.name||mt.id,min:wc.get(on)||We.Linear,mag:wc.get(_n)||We.Linear,mipmapFilter:Vh.get(on)||We.Nearest,wrapU:Ad.get(gn)||st.Repeat,wrapV:Ad.get(Mn)||st.Repeat,rowOrder:"top-down"})}(qe)}),l.materials?.forEach(qe=>{u[qe.id]=oe(qe,d)}),l.meshes?.forEach(qe=>{const pt=new Me({name:qe.name||qe.id});S[qe.id]=pt,qe.primitives.forEach((mt,Ot)=>{const{material:At}=mt,Nt=At&&u[At.id]||le,mn=oc(mt,we),on=xe(mn,Nt,{name:pt.name+":"+Ot});on.name=qe.name||qe.id,mn.name=on.name,pt.add(on)})}),s.makeLight&&l.lights&&(H=l.lights.map(s.makeLight));const Be=l.scene||l.scenes[0],Le=new Me({name:Be?.name||Be?.id||"GLTF Scene"});return Be.nodes.forEach(qe=>{Le.add(Yu(qe,S,H))}),Le}function Gh(l,s){return Yd.apply(this,arguments)}function Yd(){return Yd=r(function*(l,s){const u=yield(0,Lh.load)(l,Hf.GLTFLoader,{DracoLoader:em.DracoLoader});return{node:xu((0,Hf.postProcessGLTF)(u),s),gltf:u}}),Yd.apply(this,arguments)}const rm={position:{numComponents:3,normalized:!1,data:new Float32Array([0,-.01,0,0,-.01,-4,.00866,.005,0,.00866,.005,-4,-.00866,.005,0,-.00866,.005,-4].map(l=>.25*l))},indices:[1,2,0,3,4,2,5,0,4,1,3,2,3,5,4,5,1,0]};function jh(l){return new Me(l)}function Qd(l,s=jh){const u=s(l);for(const d of l.children)u.add(Qd(d,s));return u}const Jd=Math.PI,Zd=2*Jd,Kh=new Map,im=typeof WeakMap<"u"?new WeakMap:new Map,om=typeof WeakMap<"u"?new WeakMap:new Map;function sm(l){return l instanceof Un?new Un(l.geometry,l.material,l):new Me(l)}class Wf extends Me{inputSource;pointer;distance;load;update;constructor(s,u){super(u);let d=null,S=null,H=!1,le=W;const oe=new Map,we=new Me;this.add(we);let xe=im.get(u.makeGeometry);xe||(xe=u.makeGeometry(rm));const Be=u.makeMeshNode(xe,u.lineMaterial,{name:"line",rotationSource:"euler"});Be.scale[2]=le,Be.dirtyMatrix(),we.add(Be);let Le=null,qe=null;const pt=[];if(s.hand){Le=new Float32Array(400),qe=new Float32Array(25),S=new Me({name:`hand.${s.handedness}`});let At=om.get(u.makeGeometry);if(!At){const mn=function(on){const _n=on?.radius||1,gn=Math.max(3,Math.floor(on?.widthSegments||32)),Mn=Math.max(2,on?.heightSegments||32),Kn=void 0!==on?.phiStart?on?.phiStart:0,ur=void 0!==on?.phiLength?on?.phiLength:Zd,or=void 0!==on?.thetaStart?on?.thetaStart:0,vr=void 0!==on?.thetaLength?on?.thetaLength:Jd,oi=void 0!==on?.uOffset?on?.uOffset:0,_i=void 0!==on?.vOffset?on?.vOffset:0,Wr=void 0!==on?.uScale?on?.uScale:1,pi=void 0!==on?.vScale?on?.vScale:1,Vi=or+vr,Ci=(gn+1)*(Mn+1),Tr=new Float32Array(3*Ci),wi=new Float32Array(3*Ci),yi=new Float32Array(2*Ci),ao=[],Xi={min:(0,h.fromValues)(-_n,-_n,-_n),max:(0,h.fromValues)(_n,_n,_n)};let ns=0,gi=0,Or=0;for(let oo=0;oo<=Mn;oo++){const vs=[],$s=oo/Mn,Qs=$s*vr,ra=Math.sin(or+Qs),Ka=Math.cos(or+Qs),Qa=Ka*_n,la=_i+pi*(1-$s);for(let _a=0;_a<=gn;_a++){const Pl=_a/gn,ba=oi+Wr*Pl,Js=Pl*ur,_l=-Math.cos(Kn+Js)*ra,Qu=Math.sin(Kn+Js)*ra,rh=Qu*_n;Tr[gi]=_l*_n,wi[gi++]=_l,Tr[gi]=Qa,wi[gi++]=Ka,Tr[gi]=rh,wi[gi++]=Qu,yi[Or++]=ba,yi[Or++]=la,vs.push(ns),ns++}ao.push(vs)}const ci=[];for(let oo=0;oo<Mn;oo++){const vs=ao[oo],$s=ao[oo+1];for(let Qs=0;Qs<gn;Qs++){const Ka=vs[Qs],Qa=$s[Qs],la=$s[Qs+1];(oo||or>0)&&ci.push(vs[Qs+1],Ka,la),(oo!==Mn-1||Vi<Jd)&&ci.push(Ka,Qa,la)}}return{arrays:{position:Tr,normal:wi,texcoord:yi,indices:nt(Ci,ci)},bounds:Xi}}({widthSegments:4,heightSegments:3});At=u.makeGeometry(mn.arrays),yt(At.bounds,mn.bounds)}let Nt=0;s.hand.forEach((mn,on)=>{const _n=u.makeMeshNode(At,u.handMaterial,{name:on,arrays:{matrix:Le.subarray(Nt,Nt+=16)}});_n.parent=S,pt.push(_n)}),this.load=()=>Promise.resolve()}else{const At=r(function*(){const{profile:Nt,assetPath:mn=""}=yield(0,Wu.fetchProfile)(s,"https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles");if(H)return;d=new Wu.MotionController(s,Nt,mn);const{rootNodeName:on}=d.layoutDescription;let _n=Kh.get(mn);_n||(_n=Gh(mn,u).then(({node:Mn})=>Xu(Mn,on)||Mn),Kh.set(mn,_n));const gn=yield _n;H||(gn?(S=Qd(gn,sm),Object.values(d.components).forEach(Mn=>{Object.values(Mn.visualResponses).forEach(Kn=>{const ur=Xu(S,Kn.valueNodeName);if(!ur)return void console.warn("Missing controller visual response object: "+Kn.valueNodeName);const or={visualResponse:Kn,valueNode:ur,parentNode:ur.parent};oe.set(Kn.valueNodeName,or),"transform"===Kn.valueNodeProperty&&(or.minNode=Xu(S,Kn.minNodeName),or.maxNode=Xu(S,Kn.maxNodeName))})})):console.warn("Missing controller root "+on))})();this.load=()=>At}const mt=(At,Nt)=>{const mn=At.getPose(s.gripSpace,Nt);if(!mn)return we.parent=null,void(S&&(S.parent=null));this.setWorldMatrix(mn.transform.matrix),we.parent=this;let on=null;try{on=At.getPose(s.targetRaySpace,s.gripSpace)||mn}catch{on=mn}we.setMatrix(on.transform.matrix),S&&(!1===u.renderOpaque&&"opaque"!==At.session.environmentBlendMode||!s.gripSpace?S.parent=null:(S.parent=this,s.hand&&(At.fillPoses(s.hand.values(),s.gripSpace,Le),At.fillJointRadii(s.hand.values(),qe),pt.forEach((_n,gn)=>{_n.setMatrix(_n.matrix);const Mn=qe[gn];(0,h.set)(_n.scale,Mn,Mn,Mn),_n.dirtyMatrix()})),oe.forEach(({valueNode:_n,parentNode:gn,minNode:Mn,maxNode:Kn,visualResponse:ur})=>{"visibility"===ur.valueNodeProperty?_n.parent=ur.value?gn:null:"transform"===ur.valueNodeProperty&&((0,U.slerp)(_n.quaternion,Mn.quaternion,Kn.quaternion,ur.value),(0,h.lerp)(_n.position,Mn.position,Kn.position,ur.value),_n.dirtyMatrix())})))};this.update=(At,Nt)=>{mt(At,Nt),S&&d&&d.updateFromGamepad()};const Ot=this.destroy;this.destroy=()=>{H=!0,we.destroy(),Be&&Be.destroy(),S&&(S.destroy(),S=null),Ot()},Object.defineProperties(this,{pointer:{value:we,writable:!1},inputSource:{value:s,writable:!1},distance:{get:()=>le,set(At){const Nt=le!==At;le=se(At,-W,W),Be&&Nt&&(Be.scale[2]=le,Be.dirtyMatrix())}}})}}class Hh extends b{session;trackedInputs;inputs;get;update;destroy;constructor(s){super();const{sceneRoot:u,...d}=s,S=new Set,H=new Map,le=new Set;let oe=null;const we=Le=>{for(const qe of Le){S.add(qe);const pt={input:qe};if("tracked-pointer"===qe.targetRayMode&&qe.gamepad){let mt=H.get(qe);mt||(mt=new Wf(qe,d),H.set(qe,mt)),le.add(mt),u.add(mt),pt.visual=mt}this.emit("add",pt)}},xe=Le=>{for(const qe of Le){const pt={input:qe},mt=H.get(qe);mt&&(H.delete(qe),le.delete(mt),mt.parent=null),this.emit("remove",pt)}};function Be(Le){we(Le.added),xe(Le.removed)}this.get=Le=>{const qe=H.get(Le);return le.has(qe)?qe:null},this.update=(Le,qe)=>{le.forEach(pt=>pt.update(Le,qe))},this.destroy=()=>{this.session=null,H.forEach(Le=>Le.destroy()),H.clear(),le.clear()},Object.defineProperties(this,{controllers:{value:le,writable:!1},session:{get:()=>oe,set(Le){Le!==oe&&(oe&&xe(H.keys()),oe=Le,oe&&(oe.addEventListener("inputsourceschange",Be),we(oe.inputSources)))}}})}}function zh(l,s){const u=[],d=(oe,we)=>{if(oe){const xe=s[oe.index];if(!xe)return void console.warn(`Texture '${oe.index}' missing from GLTF`);u.push({texture:xe,applyTo:we,blendMode:"over",blendFactor:1})}},S={name:l.name,textures:u};if(l.emissiveFactor){const[oe,we,xe]=l.emissiveFactor;S.emitColor=[oe,we,xe,1]}const{pbrMetallicRoughness:H}=l;if(H&&(S.type="metallic"),H?.baseColorFactor){const[oe,we,xe,Be]=H.baseColorFactor;S.baseColor=[oe,we,xe],S.opacity=Be}S.metallic=H?.metallicFactor??1,S.roughness=H?.roughnessFactor??1,d(l.emissiveTexture,"emit"),d(l.normalTexture,"normals"),d(l.occlusionTexture,"occlusion"),d(H?.baseColorTexture,"baseColor");const le=l.extensions?.KHR_materials_specular;return le&&(le.specularFactor<1&&console.warn(`GLTF specularFactor (${le.specularFactor}) not supported`),le.specularColorFactor&&(S.specularColor=le.specularColorFactor),le.specularTexture&&console.warn("GLTF specularTexture not supported"),d(le.specularColorTexture,"specular")),new Yt(S)}function $h(l,s){const u={name:l.name},{pbrMetallicRoughness:d}=l;if(d?.baseColorFactor){const[S,H,le,oe]=d.baseColorFactor;u.baseColor=[S,H,le],u.opacity=oe}if(d?.baseColorTexture){const S=s[d.baseColorTexture.index];S?(u.baseColorMaps=[{texture:S,blendMode:"multiply",blendFactor:1}],"image/jpeg"===d.baseColorTexture.texture?.source.mimeType||S.source instanceof HTMLImageElement&&/\.jpg$/i.test(S.source.src)||(u.opacityMaps=[{texture:S,blendMode:"multiply",channel:"a"}])):console.warn(`Texture [${d.baseColorTexture.index}] missing from GLTF`)}return new fn(u)}function Cd(l,s){const u={name:l.name},d=(le,oe,we)=>{if(oe){const xe=s[oe.index];if(!xe)return void console.warn(`Texture '${oe.index}' missing from GLTF`);oe.texCoord>0&&console.warn(`Texture '${oe.index}' unsupported multiple UVs`),oe.extensions?.KHR_texture_transform&&console.warn(`Texture '${oe.index}' unsupported KHR_texture_transform`);const Be={texture:xe,blendFactor:1};we&&Object.assign(Be,we),u[le]=[Be]}};l.emissiveFactor&&(u.emissive=l.emissiveFactor);const{pbrMetallicRoughness:S}=l;if(S?.baseColorFactor){const[le,oe,we,xe]=S.baseColorFactor;u.baseColor=[le,oe,we],u.opacity=xe}u.metallic=S?.metallicFactor??1,u.roughness=S?.roughnessFactor??1,l.extensions?.KHR_materials_ior&&(u.ior=l.extensions.KHR_materials_ior.ior),d("baseColorMaps",S?.baseColorTexture),d("opacityMaps",S?.baseColorTexture,{channel:"a"}),d("normalMaps",l.normalTexture,{blendMode:"over"}),d("emissiveMaps",l.emissiveTexture),d("occlusionMaps",l.occlusionTexture),d("metallicMaps",S?.metallicRoughnessTexture,{blendMode:"multiply",channel:"b"}),d("roughnessMaps",S?.metallicRoughnessTexture,{blendMode:"multiply",channel:"g"}),"BLEND"!==l.alphaMode&&"MASK"!==l.alphaMode||d("baseColorMaps",S?.baseColorTexture,{blendMode:"multiply",channel:"a"});const H=l.extensions?.KHR_materials_specular;return H&&(isNaN(H.specularFactor)||(u.specularFactor=H.specularFactor),H.specularColorFactor&&(u.specularColor=H.specularColorFactor),d("specularFactorMaps",H.specularTexture,{blendMode:"multiply",channel:"a"}),d("specularColorMaps",H.specularColorTexture,{blendMode:"multiply"})),new cr(u)}class Xf{session;isGrabbable;destroy;constructor(s){const{renderer:u,engine:d,materialMode:S}=s,H=new fn({baseColor:[.6,.6,.7],opacity:.8}),le=new fn({baseColor:[.6,.6,.6]}),oe=new Hh({sceneRoot:d.rootNode,makeMaterial:(At,Nt)=>"unlit"===S||At.unlit||At.extensions?.KHR_materials_unlit?$h(At,Nt):"physical"===S?Cd(At,Nt):zh(At,Nt),makeGeometry:(At,Nt)=>new lt(At,Nt),makeMeshNode:(At,Nt,mn)=>new Un(At,Nt,{clippable:!1,...mn}),lineMaterial:H,handMaterial:le,renderOpaque:!1}),we=new Map,xe=new Map,Be=new Set;let Le=null;function qe({frame:At}){const{xrRefSpace:Nt}=u;oe?.update(At,Nt),xe.forEach(mn=>mn.update(At,Nt))}function pt(At){const Nt=d.rayCast(At.transform.matrix,{near:0}),mn=Nt?.object,on=mn&&d.story.anatomySceneGraph.findAnatomyObject(mn),_n=on?.sceneNode||mn;return!_n||Be.has(_n)?null:{object:_n,distance:Nt.distance}}function mt(At){const Nt=oe.get(At.inputSource),mn=Nt&&xe.get(Nt);mn&&mn.grab()}function Ot(At){const Nt=oe.get(At.inputSource),mn=Nt&&xe.get(Nt);mn&&mn.release()}oe.on("add",({visual:At})=>{if(!At)return;if("tracked-pointer"===At.inputSource.targetRayMode){const mn=new Nh(pt,At);mn.on("grab",({object:on})=>Be.add(on)),mn.on("release",({object:on})=>Be.delete(on)),xe.set(At,mn)}const Nt=new ks(At);we.set(At,Nt)}),oe.on("remove",({visual:At})=>{if(!At)return;const Nt=xe.get(At);Nt&&(xe.delete(At),Nt.destroy());const mn=we.get(At);mn&&(we.delete(At),mn.destroy())}),u.on("xrframe",qe),this.isGrabbable=At=>{for(const[,Nt]of we)if(Nt.has(At))return!1;return!0},this.destroy=()=>{u.off("xrframe",qe),this.session=null,we.forEach(At=>At.destroy()),we.clear(),xe.forEach(At=>At.destroy()),xe.clear(),oe.destroy()},Object.defineProperties(this,{session:{get:()=>Le,set(At){At!==Le&&(Le&&(Le.removeEventListener("selectstart",mt),Le.removeEventListener("selectend",Ot)),Le=At,oe.session=Le,Le&&(Le.addEventListener("selectstart",mt),Le.addEventListener("selectend",Ot)))}}})}}function Wh(l,s,u,d="utf-8"){s=s||0,u=u||l.byteLength;const S=new Uint8Array(l,s,u);return new TextDecoder(d).decode(S)}const Yf=globalThis.fetch;function wd(){return Xh.apply(this,arguments)}function Xh(){return Xh=r(function*(...l){const s=yield Yf(...l);if(!s.ok&&!/^file:\/\//.test(s.url))throw new Error(s.statusText?`Fetch [code ${s.status}]: '${s.statusText}'`:`Fetch request failed: '${s.status||"unknown status"}'`);return s}),Xh.apply(this,arguments)}function Yh(l,s,u,d){return Qh.apply(this,arguments)}function Qh(){return Qh=r(function*(l,s,u,d){const S=u.split("/"),H=f(l,"content/states",S[0],s,S[1],d);try{return(yield wd(H)).json()}catch(le){throw new Error(`Error loading asset library: ${le.message}`)}}),Qh.apply(this,arguments)}const Qf={geometry:"geometry"};class Jh{getAsset;getAssetLibrary;fetch(s,u){var d=this;return r(function*(){const S=yield wd(s),H=S.clone(),le=yield H.blob();return d.dataSize[u]=d.dataSize[u]+le.size,S})()}destroy;dataSize={material:0,morph:0,geometry:0,transform:0,texture:0,"image-light":0,environment:0};constructor(s,u={}){const{timeout:d=12e3,sendInterval:S=5,reconnectInterval:H=500,socketProtocol:le="wss",makeSocket:oe=Kn=>new WebSocket(Kn)}=u,we=new Map,xe=[],Be=le+"://"+s+"/assets/ws3",{dataSize:Le}=this;let qe=null,pt=1/0,mt=0,Ot=0,At=0;function Nt(){Date.now()-pt>=d&&gn("Asset server connection timed out")}function mn(){pt=Date.now(),clearTimeout(At),At=setTimeout(Nt,d)}function on(){return!(!qe||qe.readyState!==qe.OPEN||(xe.length&&(qe.send(JSON.stringify({assets:xe})),xe.length=0),mn(),0))}function _n(){clearTimeout(Ot),Ot=0,qe&&qe.readyState!==qe.CLOSING&&qe.readyState!==qe.CLOSED||(qe=function(){const Kn=oe(Be);return Kn.binaryType="arraybuffer",Kn.addEventListener("open",()=>{on()}),Kn.addEventListener("close",ur=>{qe===Kn&&(qe=null,xe.length&&(Ot=setTimeout(_n,H))),Nt()}),Kn.addEventListener("message",ur=>{const or=ur.data;let vr,oi,_i=0;if(mn(),"string"==typeof or){if("\u{1f37a}"===or)return;const pi=JSON.parse(or);oi=pi.id,_i=new Blob([or]).size,vr=pi.error||!pi.asset?null:pi.asset}else{vr=or;const pi=new DataView(vr),Vi=pi.getUint32(0,!0);let Ci;const Tr=pi.getUint32(4,!0);_i=or.byteLength,Ci=17===Vi?11*Uint32Array.BYTES_PER_ELEMENT:pi.getUint32(12,!0),oi=Wh(vr,Ci,Tr).trim()}const Wr=we.get(oi);we.delete(oi),Wr&&(Le[Wr.type]+=_i,Wr.resolve(vr))}),Kn}())}function gn(Kn){we.forEach((ur,or)=>{if(ur){const{reject:vr}=ur;we.delete(or),vr(new Error(Kn))}})}function Mn(){clearTimeout(mt),mt=0,on()||(Nt(),_n())}_n(),this.getAsset=(Kn,ur)=>{const or=ur.split("/");if(2!==or.length&&3!==or.length)throw new Error("Incorrectly formattted asset id: "+ur);const _i=or[2];let Wr=or[0]+"/"+(Qf[Kn]||Kn+"s")+"/"+or[1];_i&&(Wr+="/"+_i);let pi=we.get(Wr);pi||(pi={...zn(),type:Kn},we.set(Wr,pi),xe.push(Wr));const Vi=pi.promise;return mt||(mt=setTimeout(Mn,S)),Vi},this.getAssetLibrary=Yh,this.destroy=()=>{clearTimeout(mt),mt=0,clearTimeout(Ot),Ot=0,clearTimeout(At),At=0,gn("Asset server connection destroyed"),we.clear(),xe.length=0,qe&&qe.readyState!==qe.CLOSING&&qe.readyState!==qe.CLOSED&&qe.close(),qe=null}}}const am=(l,s)=>f(l,"assets",s.replaceAll(":",";").replaceAll("|","/")+".bda"),Jf=/\.[\w\d]+$/,cm={material:(l,s,u)=>r(function*(){const d=am(s,u);return(yield(yield fetch(d,{signal:l})).json()).asset})(),morph(l,s,u){const d=am(s,u);return fetch(d,{signal:l}).then(S=>S.arrayBuffer())},geometry:(l,s,u,d,S)=>{return(H=oe=>fetch(oe,{signal:l}).then(we=>we.json()),le=oe=>fetch(oe,{signal:l}).then(we=>we.arrayBuffer()),function(){var oe=r(function*(we,xe,Be,Le){Le.geometry||(Le.geometry={index:null,blocks:new Map});const{blocks:qe}=Le.geometry;let pt=Le.geometry.index;if(!pt){const Mn=f(we,"blocks/geometry/modules/models",Be,"index.json");pt=H(Mn),Le.geometry.index=pt}const mt=yield pt,{block:Ot,offlen:At}=mt[xe],Nt=Be+"/"+Ot;let mn=qe.get(Nt);if(!mn){const Mn=f(we,"blocks/geometry/modules/models",Be,Ot);mn=le(Mn),qe.set(Nt,mn)}const on=yield mn,[_n,gn]=At;return on.slice(_n,_n+gn)});return function(we,xe,Be,Le){return oe.apply(this,arguments)}}())(s,u,d,S);var H,le},transform:(l,s,u,d,S)=>r(function*(){if(!S.transform){const le=f(s,"transforms/modules",d+".json");S.transform=fetch(le,{signal:l}).then(oe=>oe.json())}return(yield S.transform)[u]?.asset})()};class lm{getAsset;getAssetLibrary;fetch(s){return wd(s)}destroy;moduleId;requiresFileExtensions=!1;constructor(s,u=""){this.moduleId=u;const d={},S=typeof AbortController>"u"?null:new wt;this.getAsset=kt((le,oe)=>{const we=cm[le];if(!we)throw new Error("BioDigitalFileServer: Unsupported type '$type'");let xe=null;S&&(xe=new AbortController,S.set(le,oe,xe));let Be=we(xe?.signal,s,oe,this.moduleId,d);return S&&(Be=Be.then(Le=>(S?.delete(le,oe),Le))),Be});const H=kt(Yh);this.getAssetLibrary=(le,oe,we,xe)=>{return H(le,oe,we,this.requiresFileExtensions?Jf.test(Be=xe)?Be:Be+".json":xe);var Be},this.destroy=()=>{S&&(S.forEach(le=>le.abort()),S.clear())}}}const qd=Math.PI/2,Zf=l=>!!(1&l.buttons),Zh=l=>!!(6&l.buttons);class qh{camera;target;minPolarAngle;maxPolarAngle;minAzimuthAngle;maxAzimuthAngle;minDistance;maxDistance;azimuthRate;polarRate;zoomRate;attach;detach;constructor(s,u=(0,h.create)()){this.camera=s,this.target=u,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minPolarAngle=-qd,this.maxPolarAngle=qd,this.minDistance=.1,this.maxDistance=1/0,this.azimuthRate=.005,this.polarRate=.01,this.zoomRate=.002;let d=null,S=-1,H=!1,le=!1,oe=0,we=0;function xe(mt){H=Zf(mt),le=!H&&Zh(mt)}const Be=mt=>{!mt.isPrimary||S>=0||(Zf(mt)||Zh(mt))&&(S=mt.pointerId,xe(mt),oe=mt.pageX,we=mt.pageY)},Le=mt=>{if(mt.isPrimary&&S===mt.pointerId&&(xe(mt),H)){const Ot=mt.pageX-oe,At=mt.pageY-we;oe=mt.pageX,we=mt.pageY,this.panZoom(this.azimuthRate*Ot,this.polarRate*At)}};function qe(mt){mt.isPrimary&&S===mt.pointerId&&(xe(mt),H||le||(S=-1))}const pt=mt=>{this.panZoom(0,0,mt.deltaY*this.zoomRate)};this.attach=mt=>{d&&this.detach(),d=mt,mt.addEventListener("pointerdown",Be),window.addEventListener("pointermove",Le),window.addEventListener("pointerup",qe),window.addEventListener("pointercancel",qe),window.addEventListener("wheel",pt)},this.detach=()=>{d&&d.removeEventListener("pointerdown",Be),window.removeEventListener("pointermove",Le),window.removeEventListener("pointerup",qe),window.removeEventListener("pointercancel",qe),window.removeEventListener("wheel",pt)}}panZoom(s=0,u=0,d=0){const{camera:S,target:H}=this,le=$.get();if(S.parent){const Ot=$.get();S.updateWorldMatrix(),(0,F.getTranslation)(Ot,S.worldMatrix),(0,h.subtract)(le,Ot,H),$.release(Ot)}else(0,h.subtract)(le,S.position,H);const oe=(0,h.length)(le),we=oe?Math.asin(le[1]/oe):0,xe=Math.atan2(le[2],le[0]),Be=this.minAzimuthAngle<=this.maxAzimuthAngle?this.minAzimuthAngle:this.minAzimuthAngle-Math.PI,Le=this.minAzimuthAngle<=this.maxAzimuthAngle?this.maxAzimuthAngle:this.minAzimuthAngle+this.minAzimuthAngle-this.maxAzimuthAngle,qe=se(oe*(1+d),this.minDistance,this.maxDistance),pt=se(we+u,this.minPolarAngle,this.maxPolarAngle),mt=se(xe+s,Be,Le);if(qe!==oe||pt!==we||mt!==xe){const Ot=qe?Math.sin(pt)*qe:0,At=Ot?Math.cos(pt)*qe:qe,Nt=At?Math.cos(mt)*At:0,mn=At?Math.sin(mt)*At:0;S.parent?(S.worldMatrix[12]=Nt+H[0],S.worldMatrix[13]=Ot+H[1],S.worldMatrix[14]=mn+H[2],S.setWorldMatrix(S.worldMatrix)):(le[0]=Nt,le[1]=Ot,le[2]=mn,(0,h.add)(S.position,le,H),S.dirtyMatrix())}S.lookAt(H),$.release(le)}update(){this.panZoom(0,0,0)}}let um=(()=>{class l{enabled;rootNode;parentNode;#e;#t=null;#n;#s;#a;#l;#r;#c;static creatorColor=[0,1,0];static warningColor=[1,1,0];constructor(u){this.rootNode=new Me({scale:[ge,ge,ge],name:"BioDigitalEngine particle system debug view",rotationSource:"euler"}),this.parentNode=u.rootNode,this.#n=new wt,this.#i(),this.#d(),this.#o();let d=!1;Object.defineProperties(this,{enabled:{get:()=>d,set:S=>{this.rootNode.parent=S?this.parentNode:null,d=S}}}),this.enabled=!0}get size(){return this.#n.size}destroy(){this.enabled=!1,this.chapter=null,this.#s.destroy(),this.#a.destroy(),this.#l.destroy(),this.#r.destroy(),this.#c.destroy(),this.rootNode.destroy()}get chapter(){return this.#t}set chapter(u){this.#t!==u&&(this.rootNode.children.forEach(d=>d.destroy()),this.#t=u,this.#n.clear(),u?.particleSystemIds.forEach(d=>{const S=u.story.particleSystemDefs.get(d),H=[];for(let le=0;le<S.creators.length;le++){const oe=S.creators[le];if(void 0!==this.#e[oe.type]){const we=this.#e[oe.type],xe=this.#a;let Be;if("translate"in oe?Be={position:new Float32Array(oe.translate),rotation:oe.rotate,scale:oe.scale}:"position"in oe&&(Be={position:new Float32Array(oe.position)}),void 0!==Be){const Le=new Un(we,xe,Be);H.push({psId:d,creatorId:oe.id,meshNode:Le})}}}H.length>0&&(H.at(-1).meshNode.material=this.#s);for(let le=0;le<H.length;le++){const{psId:oe,creatorId:we,meshNode:xe}=H[le];this.#n.set(oe,we,xe),this.rootNode.add(xe)}}))}update(){this.enabled&&this.#n.forEach((u,d,S)=>{const H=this.#t.particleSystems.get(d),le=H.get(S,"translate")||H.get(S,"position"),oe=H.get(S,"rotate"),we=H.get(S,"scale");le&&(0,h.copy)(u.position,le),oe&&(0,h.copy)(u.rotation,oe),we&&(0,h.copy)(u.scale,we),(le||oe||we)&&u.dirtyMatrix()})}#i(){this.#s=new fn({baseColor:l.creatorColor}),this.#a=new fn({baseColor:l.warningColor})}#d(){const{arrays:u,bounds:d}=function(we={}){const xe=we.width??1,Be=we.height??1,Le=we.depth??1,qe=new Float32Array(24),pt=xe/2,mt=Be/2,Ot=Le/2;qe[0]=pt,qe[1]=mt,qe[2]=-Ot,qe[3]=-pt,qe[4]=mt,qe[5]=-Ot,qe[6]=-pt,qe[7]=-mt,qe[8]=-Ot,qe[9]=pt,qe[10]=-mt,qe[11]=-Ot,qe[12]=pt,qe[13]=mt,qe[14]=Ot,qe[15]=-pt,qe[16]=mt,qe[17]=Ot,qe[18]=-pt,qe[19]=-mt,qe[20]=Ot,qe[21]=pt,qe[22]=-mt,qe[23]=Ot;const At={min:(0,h.fromValues)(-pt,-mt,-Ot),max:(0,h.fromValues)(pt,mt,Ot)};return{arrays:{position:qe,indices:nt(8,[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])},bounds:At}}();this.#l=new lt(u,d),this.#l.topology=Ee.lines;const{arrays:S,bounds:H}=function(we={}){const xe=we.radius??1,Be=we.radialSegments??32,Le=3*Be,qe=new Float32Array(3*Le),pt=[],mt=2*Math.PI/Be;let Ot=0,At=0,Nt=3*Be;for(let on=0;on<Nt;on+=3){const _n=on+0,gn=on+1,Mn=on+2;Ot+=mt;const Kn=Math.cos(Ot)*xe,ur=Math.sin(Ot)*xe,or=0;qe[_n]=Kn,qe[gn]=ur,qe[Mn]=or}At=0,Nt=Be;for(let on=At;on<Nt;on++)pt.push(on,(on+1)%Nt==0?At:(on+1)%Nt);Ot=0,At=3*Be,Nt=3*(Be+Be);for(let on=At;on<Nt;on+=3){const _n=on+0,gn=on+1,Mn=on+2;Ot+=mt;const Kn=Math.cos(Ot)*xe,ur=0,or=Math.sin(Ot)*xe;qe[_n]=Kn,qe[gn]=ur,qe[Mn]=or}At=Be,Nt=Be+Be;for(let on=At;on<Nt;on++)pt.push(on,(on+1)%Nt==0?At:(on+1)%Nt);Ot=0,At=3*(Be+Be),Nt=3*(Be+Be+Be);for(let on=At;on<Nt;on+=3){const _n=on+0,gn=on+1,Mn=on+2;Ot+=mt;const Kn=0,ur=Math.sin(Ot)*xe,or=Math.cos(Ot)*xe;qe[_n]=Kn,qe[gn]=ur,qe[Mn]=or}At=Be+Be,Nt=Be+Be+Be;for(let on=At;on<Nt;on++)pt.push(on,(on+1)%Nt==0?At:(on+1)%Nt);const mn={min:(0,h.fromValues)(-xe,-xe,-xe),max:(0,h.fromValues)(xe,xe,xe)};return{arrays:{position:qe,indices:nt(Le,pt)},bounds:mn}}();this.#r=new lt(S,H),this.#r.topology=Ee.lines;const{arrays:le,bounds:oe}=function(we={}){const xe=we.radius??1,Be=we.height??1,Le=we.radialSegments??32,qe=2*Le+2,pt=new Float32Array(3*qe),mt=[],Ot=2*Math.PI/Le;let At=0,Nt=0,mn=3*Le;for(let gn=Nt;gn<mn;gn+=3){const Mn=gn+0,Kn=gn+1,ur=gn+2;At+=Ot;const or=Math.cos(At)*xe,vr=Be,oi=Math.sin(At)*xe;pt[Mn]=or,pt[Kn]=vr,pt[ur]=oi}Nt=0,mn=Le;for(let gn=Nt;gn<mn;gn++)mt.push(gn,(gn+1)%mn==0?Nt:(gn+1)%mn);At=0,Nt=3*Le,mn=3*(Le+Le);for(let gn=Nt;gn<mn;gn+=3){const Mn=gn+0,Kn=gn+1,ur=gn+2;At+=Ot;const or=Math.cos(At)*xe,vr=-Be,oi=Math.sin(At)*xe;pt[Mn]=or,pt[Kn]=vr,pt[ur]=oi}Nt=Le,mn=Le+Le;for(let gn=Nt;gn<mn;gn++)mt.push(gn,(gn+1)%mn==0?Nt:(gn+1)%mn);for(let gn=0;gn<Le;gn+=4)mt.push(gn,gn+Le);const on=3*(Le+Le);pt[on+0]=0,pt[on+1]=Be,pt[on+2]=0,pt[on+3]=0,pt[on+4]=-Be,pt[on+5]=0;for(let gn=0;gn<Le;gn+=4)mt.push(gn,qe-2),mt.push(gn+Le,qe-1);const _n={min:(0,h.fromValues)(-xe,-Be,-xe),max:(0,h.fromValues)(xe,Be,xe)};return{arrays:{position:pt,indices:nt(qe,mt)},bounds:_n}}();this.#c=new lt(le,oe),this.#c.topology=Ee.lines}#o(){this.#e={PointPosition:this.#r,SpherePosition:this.#r,CylinderPosition:this.#c,CubePosition:this.#l}}}return l})();function gl(l,s=new Set){if(Array.isArray(l))l.forEach(u=>gl(u,s));else if(l?.buffer instanceof ArrayBuffer)s.add(l.buffer);else if(l&&"object"==typeof l)for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&gl(l[u],s);return s}function eh(l,s){self.onmessage=function(){var u=r(function*(d){const{requestId:S,options:H}=d.data;try{let le=l(H);le instanceof Promise&&(le=yield le),function(oe,we){const xe=s?s(we):gl(we);self.postMessage({requestId:oe,resource:we},Array.from(xe))}(S,le)}catch(le){!function(oe,we){const{message:xe,stack:Be}=we;self.postMessage({requestId:oe,error:{message:xe,stack:Be}})}(S,le)}});return function(d){return u.apply(this,arguments)}}()}function dm(l,s){const u=s[0],d=s[4],S=s[8],H=s[5],le=s[9],oe=s[6],we=s[10];return l[1]=Math.asin(se(S,-1,1)),Math.abs(S)<.9999999?(l[0]=Math.atan2(-le,we),l[2]=Math.atan2(-d,u)):(l[0]=Math.atan2(oe,H),l[2]=0),l}function qf(l,s,u,d){s*=.5,d*=.5,u*=.5;const S=Math.sin(s),H=Math.cos(s),le=Math.sin(u),oe=Math.cos(u),we=Math.sin(d),xe=Math.cos(d);return l[0]=S*oe*xe+H*le*we,l[1]=H*le*xe-S*oe*we,l[2]=H*oe*we+S*le*xe,l[3]=H*oe*xe-S*le*we,l}class th extends b{enter;exit;session;lastSession;supported;presenting;sessionMode;constructor(s,u={optionalFeatures:["local-floor"]}){super();let d=!1,S=!1,H=!1,le=null,oe=null;this.enter=()=>Promise.reject(new Error(`XR Session mode '${s}' Not Supported`)),this.exit=()=>{},this.destroy=()=>{H=!0},Object.defineProperties(this,{sessionMode:{writable:!1,value:s},session:{get:()=>le},lastSession:{get:()=>oe},supported:{get:()=>d},presenting:{get:()=>S}});const we=navigator?.xr;if(!we||!("isSessionSupported"in we))return void setTimeout(()=>this.emit("disable"),10);let xe=null;const Be=()=>{H||(d=!0,this.emit("enable"))},Le=()=>{H||(d=!1,this.emit("disable"))},qe=()=>{le&&le.removeEventListener("end",qe),le=null,S=!1,this.emit("exit",oe)},pt=Nt=>(le=Nt,oe=Nt,S=!0,le.addEventListener("end",qe),this.emit("enter",le),le),mt=()=>{we.isSessionSupported(s).then(Nt=>{H||(Nt?Be():Le())}).catch(Le)},Ot=()=>{this.emit("devicechange"),mt()};this.enter=()=>le?xe||Promise.resolve(le):(xe=we.requestSession(s,u).then(pt),xe),this.exit=()=>{xe=Promise.resolve(null),le&&(le.end(),le=null)};const At=this.destroy;this.destroy=()=>{this.exit(),H=!0,we.removeEventListener("devicechange",Ot),At()},mt(),we.addEventListener("devicechange",Ot)}}const yg="b9ee240c",hm="2024-12-03T15:37:01.000Z",nh="1.1.3";bn.exports=D})()},84288:bn=>{"use strict";var be=String.prototype.replace,w=/%20/g;bn.exports={default:"RFC3986",formatters:{RFC1738:function(m){return be.call(m,w,"+")},RFC3986:function(m){return String(m)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},69984:(bn,be,w)=>{"use strict";var r=w(26413),m=w(67875),g=w(84288);bn.exports={formats:g,parse:m,stringify:r}},67875:(bn,be,w)=>{"use strict";var r=w(57369),m=Object.prototype.hasOwnProperty,g=Array.isArray,C={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},h=function(T,b){return T&&"string"==typeof T&&b.comma&&T.indexOf(",")>-1?T.split(","):T},B=function(b,J,ce,W){if(b){var se=ce.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,Ie=/(\[[^[\]]*])/g,ae=ce.depth>0&&/(\[[^[\]]*])/.exec(se),Me=ae?se.slice(0,ae.index):se,q=[];if(Me){if(!ce.plainObjects&&m.call(Object.prototype,Me)&&!ce.allowPrototypes)return;q.push(Me)}for(var $=0;ce.depth>0&&null!==(ae=Ie.exec(se))&&$<ce.depth;){if($+=1,!ce.plainObjects&&m.call(Object.prototype,ae[1].slice(1,-1))&&!ce.allowPrototypes)return;q.push(ae[1])}if(ae){if(!0===ce.strictDepth)throw new RangeError("Input depth exceeded depth option of "+ce.depth+" and strictDepth is true");q.push("["+se.slice(ae.index)+"]")}return function(T,b,J,ce){for(var W=ce?b:h(b,J),se=T.length-1;se>=0;--se){var Q,Ie=T[se];if("[]"===Ie&&J.parseArrays)Q=J.allowEmptyArrays&&(""===W||J.strictNullHandling&&null===W)?[]:[].concat(W);else{Q=J.plainObjects?{__proto__:null}:{};var ae="["===Ie.charAt(0)&&"]"===Ie.charAt(Ie.length-1)?Ie.slice(1,-1):Ie,Me=J.decodeDotInKeys?ae.replace(/%2E/g,"."):ae,q=parseInt(Me,10);J.parseArrays||""!==Me?!isNaN(q)&&Ie!==Me&&String(q)===Me&&q>=0&&J.parseArrays&&q<=J.arrayLimit?(Q=[])[q]=W:"__proto__"!==Me&&(Q[Me]=W):Q={0:W}}W=Q}return W}(q,J,ce,W)}};bn.exports=function(T,b){var J=function(b){if(!b)return C;if(typeof b.allowEmptyArrays<"u"&&"boolean"!=typeof b.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&"boolean"!=typeof b.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==b.decoder&&typeof b.decoder<"u"&&"function"!=typeof b.decoder)throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&"utf-8"!==b.charset&&"iso-8859-1"!==b.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var J=typeof b.charset>"u"?C.charset:b.charset,ce=typeof b.duplicates>"u"?C.duplicates:b.duplicates;if("combine"!==ce&&"first"!==ce&&"last"!==ce)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof b.allowDots>"u"?!0===b.decodeDotInKeys||C.allowDots:!!b.allowDots,allowEmptyArrays:"boolean"==typeof b.allowEmptyArrays?!!b.allowEmptyArrays:C.allowEmptyArrays,allowPrototypes:"boolean"==typeof b.allowPrototypes?b.allowPrototypes:C.allowPrototypes,allowSparse:"boolean"==typeof b.allowSparse?b.allowSparse:C.allowSparse,arrayLimit:"number"==typeof b.arrayLimit?b.arrayLimit:C.arrayLimit,charset:J,charsetSentinel:"boolean"==typeof b.charsetSentinel?b.charsetSentinel:C.charsetSentinel,comma:"boolean"==typeof b.comma?b.comma:C.comma,decodeDotInKeys:"boolean"==typeof b.decodeDotInKeys?b.decodeDotInKeys:C.decodeDotInKeys,decoder:"function"==typeof b.decoder?b.decoder:C.decoder,delimiter:"string"==typeof b.delimiter||r.isRegExp(b.delimiter)?b.delimiter:C.delimiter,depth:"number"==typeof b.depth||!1===b.depth?+b.depth:C.depth,duplicates:ce,ignoreQueryPrefix:!0===b.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof b.interpretNumericEntities?b.interpretNumericEntities:C.interpretNumericEntities,parameterLimit:"number"==typeof b.parameterLimit?b.parameterLimit:C.parameterLimit,parseArrays:!1!==b.parseArrays,plainObjects:"boolean"==typeof b.plainObjects?b.plainObjects:C.plainObjects,strictDepth:"boolean"==typeof b.strictDepth?!!b.strictDepth:C.strictDepth,strictNullHandling:"boolean"==typeof b.strictNullHandling?b.strictNullHandling:C.strictNullHandling}}(b);if(""===T||null===T||typeof T>"u")return J.plainObjects?{__proto__:null}:{};for(var ce="string"==typeof T?function(b,J){var ae,ce={__proto__:null},W=J.ignoreQueryPrefix?b.replace(/^\?/,""):b,Q=(W=W.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(J.delimiter,J.parameterLimit===1/0?void 0:J.parameterLimit),Ie=-1,Me=J.charset;if(J.charsetSentinel)for(ae=0;ae<Q.length;++ae)0===Q[ae].indexOf("utf8=")&&("utf8=%E2%9C%93"===Q[ae]?Me="utf-8":"utf8=%26%2310003%3B"===Q[ae]&&(Me="iso-8859-1"),Ie=ae,ae=Q.length);for(ae=0;ae<Q.length;++ae)if(ae!==Ie){var K,Ne,q=Q[ae],$=q.indexOf("]="),ge=-1===$?q.indexOf("="):$+1;-1===ge?(K=J.decoder(q,C.decoder,Me,"key"),Ne=J.strictNullHandling?null:""):(K=J.decoder(q.slice(0,ge),C.decoder,Me,"key"),Ne=r.maybeMap(h(q.slice(ge+1),J),function(Ge){return J.decoder(Ge,C.decoder,Me,"value")})),Ne&&J.interpretNumericEntities&&"iso-8859-1"===Me&&(Ne=String(Ne).replace(/&#(\d+);/g,function(b,J){return String.fromCharCode(parseInt(J,10))})),q.indexOf("[]=")>-1&&(Ne=g(Ne)?[Ne]:Ne);var Ve=m.call(ce,K);Ve&&"combine"===J.duplicates?ce[K]=r.combine(ce[K],Ne):(!Ve||"last"===J.duplicates)&&(ce[K]=Ne)}return ce}(T,J):T,W=J.plainObjects?{__proto__:null}:{},se=Object.keys(ce),Q=0;Q<se.length;++Q){var Ie=se[Q],ae=B(Ie,ce[Ie],J,"string"==typeof T);W=r.merge(W,ae,J)}return!0===J.allowSparse?W:r.compact(W)}},26413:(bn,be,w)=>{"use strict";var r=w(68241),m=w(57369),g=w(84288),C=Object.prototype.hasOwnProperty,D={brackets:function(W){return W+"[]"},comma:"comma",indices:function(W,se){return W+"["+se+"]"},repeat:function(W){return W}},h=Array.isArray,U=Array.prototype.push,F=function(ce,W){U.apply(ce,h(W)?W:[W])},k=Date.prototype.toISOString,z=g.default,B={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:m.encode,encodeValuesOnly:!1,filter:void 0,format:z,formatter:g.formatters[z],indices:!1,serializeDate:function(W){return k.call(W)},skipNulls:!1,strictNullHandling:!1},T={},b=function ce(W,se,Q,Ie,ae,Me,q,$,ge,K,Ne,Ve,Ge,gt,_t,zt,Rn,Oe){for(var De=W,He=Oe,We=0,st=!1;void 0!==(He=He.get(T))&&!st;){var ft=He.get(W);if(We+=1,typeof ft<"u"){if(ft===We)throw new RangeError("Cyclic object value");st=!0}typeof He.get(T)>"u"&&(We=0)}if("function"==typeof K?De=K(se,De):De instanceof Date?De=Ge(De):"comma"===Q&&h(De)&&(De=m.maybeMap(De,function(Z){return Z instanceof Date?Ge(Z):Z})),null===De){if(Me)return ge&&!zt?ge(se,B.encoder,Rn,"key",gt):se;De=""}if(function(W){return"string"==typeof W||"number"==typeof W||"boolean"==typeof W||"symbol"==typeof W||"bigint"==typeof W}(De)||m.isBuffer(De))return ge?[_t(zt?se:ge(se,B.encoder,Rn,"key",gt))+"="+_t(ge(De,B.encoder,Rn,"value",gt))]:[_t(se)+"="+_t(String(De))];var je,kt=[];if(typeof De>"u")return kt;if("comma"===Q&&h(De))zt&&ge&&(De=m.maybeMap(De,ge)),je=[{value:De.length>0?De.join(",")||null:void 0}];else if(h(K))je=K;else{var Ce=Object.keys(De);je=Ne?Ce.sort(Ne):Ce}var ne=$?String(se).replace(/\./g,"%2E"):String(se),Re=Ie&&h(De)&&1===De.length?ne+"[]":ne;if(ae&&h(De)&&0===De.length)return Re+"[]";for(var te=0;te<je.length;++te){var y=je[te],M="object"==typeof y&&y&&typeof y.value<"u"?y.value:De[y];if(!q||null!==M){var Y=Ve&&$?String(y).replace(/\./g,"%2E"):String(y),G=h(De)?"function"==typeof Q?Q(Re,Y):Re:Re+(Ve?"."+Y:"["+Y+"]");Oe.set(W,We);var _e=r();_e.set(T,Oe),F(kt,ce(M,G,Q,Ie,ae,Me,q,$,"comma"===Q&&zt&&h(De)?null:ge,K,Ne,Ve,Ge,gt,_t,zt,Rn,_e))}}return kt};bn.exports=function(ce,W){var Ie,se=ce,Q=function(W){if(!W)return B;if(typeof W.allowEmptyArrays<"u"&&"boolean"!=typeof W.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof W.encodeDotInKeys<"u"&&"boolean"!=typeof W.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==W.encoder&&typeof W.encoder<"u"&&"function"!=typeof W.encoder)throw new TypeError("Encoder has to be a function.");var se=W.charset||B.charset;if(typeof W.charset<"u"&&"utf-8"!==W.charset&&"iso-8859-1"!==W.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Q=g.default;if(typeof W.format<"u"){if(!C.call(g.formatters,W.format))throw new TypeError("Unknown format option provided.");Q=W.format}var Me,Ie=g.formatters[Q],ae=B.filter;if(("function"==typeof W.filter||h(W.filter))&&(ae=W.filter),Me=W.arrayFormat in D?W.arrayFormat:"indices"in W?W.indices?"indices":"repeat":B.arrayFormat,"commaRoundTrip"in W&&"boolean"!=typeof W.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof W.addQueryPrefix?W.addQueryPrefix:B.addQueryPrefix,allowDots:typeof W.allowDots>"u"?!0===W.encodeDotInKeys||B.allowDots:!!W.allowDots,allowEmptyArrays:"boolean"==typeof W.allowEmptyArrays?!!W.allowEmptyArrays:B.allowEmptyArrays,arrayFormat:Me,charset:se,charsetSentinel:"boolean"==typeof W.charsetSentinel?W.charsetSentinel:B.charsetSentinel,commaRoundTrip:!!W.commaRoundTrip,delimiter:typeof W.delimiter>"u"?B.delimiter:W.delimiter,encode:"boolean"==typeof W.encode?W.encode:B.encode,encodeDotInKeys:"boolean"==typeof W.encodeDotInKeys?W.encodeDotInKeys:B.encodeDotInKeys,encoder:"function"==typeof W.encoder?W.encoder:B.encoder,encodeValuesOnly:"boolean"==typeof W.encodeValuesOnly?W.encodeValuesOnly:B.encodeValuesOnly,filter:ae,format:Q,formatter:Ie,serializeDate:"function"==typeof W.serializeDate?W.serializeDate:B.serializeDate,skipNulls:"boolean"==typeof W.skipNulls?W.skipNulls:B.skipNulls,sort:"function"==typeof W.sort?W.sort:null,strictNullHandling:"boolean"==typeof W.strictNullHandling?W.strictNullHandling:B.strictNullHandling}}(W);"function"==typeof Q.filter?se=(0,Q.filter)("",se):h(Q.filter)&&(Ie=Q.filter);var Me=[];if("object"!=typeof se||null===se)return"";var q=D[Q.arrayFormat],$="comma"===q&&Q.commaRoundTrip;Ie||(Ie=Object.keys(se)),Q.sort&&Ie.sort(Q.sort);for(var ge=r(),K=0;K<Ie.length;++K){var Ne=Ie[K],Ve=se[Ne];Q.skipNulls&&null===Ve||F(Me,b(Ve,Ne,q,$,Q.allowEmptyArrays,Q.strictNullHandling,Q.skipNulls,Q.encodeDotInKeys,Q.encode?Q.encoder:null,Q.filter,Q.sort,Q.allowDots,Q.serializeDate,Q.format,Q.formatter,Q.encodeValuesOnly,Q.charset,ge))}var Ge=Me.join(Q.delimiter),gt=!0===Q.addQueryPrefix?"?":"";return Q.charsetSentinel&&(gt+="iso-8859-1"===Q.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Ge.length>0?gt+Ge:""}},57369:(bn,be,w)=>{"use strict";var r=w(84288),m=Object.prototype.hasOwnProperty,g=Array.isArray,C=function(){for(var W=[],se=0;se<256;++se)W.push("%"+((se<16?"0":"")+se.toString(16)).toUpperCase());return W}(),h=function(se,Q){for(var Ie=Q&&Q.plainObjects?{__proto__:null}:{},ae=0;ae<se.length;++ae)typeof se[ae]<"u"&&(Ie[ae]=se[ae]);return Ie},z=1024;bn.exports={arrayToObject:h,assign:function(se,Q){return Object.keys(Q).reduce(function(Ie,ae){return Ie[ae]=Q[ae],Ie},se)},combine:function(se,Q){return[].concat(se,Q)},compact:function(se){for(var Q=[{obj:{o:se},prop:"o"}],Ie=[],ae=0;ae<Q.length;++ae)for(var Me=Q[ae],q=Me.obj[Me.prop],$=Object.keys(q),ge=0;ge<$.length;++ge){var K=$[ge],Ne=q[K];"object"==typeof Ne&&null!==Ne&&-1===Ie.indexOf(Ne)&&(Q.push({obj:q,prop:K}),Ie.push(Ne))}return function(se){for(;se.length>1;){var Q=se.pop(),Ie=Q.obj[Q.prop];if(g(Ie)){for(var ae=[],Me=0;Me<Ie.length;++Me)typeof Ie[Me]<"u"&&ae.push(Ie[Me]);Q.obj[Q.prop]=ae}}}(Q),se},decode:function(W,se,Q){var Ie=W.replace(/\+/g," ");if("iso-8859-1"===Q)return Ie.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Ie)}catch{return Ie}},encode:function(se,Q,Ie,ae,Me){if(0===se.length)return se;var q=se;if("symbol"==typeof se?q=Symbol.prototype.toString.call(se):"string"!=typeof se&&(q=String(se)),"iso-8859-1"===Ie)return escape(q).replace(/%u[0-9a-f]{4}/gi,function(gt){return"%26%23"+parseInt(gt.slice(2),16)+"%3B"});for(var $="",ge=0;ge<q.length;ge+=z){for(var K=q.length>=z?q.slice(ge,ge+z):q,Ne=[],Ve=0;Ve<K.length;++Ve){var Ge=K.charCodeAt(Ve);45===Ge||46===Ge||95===Ge||126===Ge||Ge>=48&&Ge<=57||Ge>=65&&Ge<=90||Ge>=97&&Ge<=122||Me===r.RFC1738&&(40===Ge||41===Ge)?Ne[Ne.length]=K.charAt(Ve):Ge<128?Ne[Ne.length]=C[Ge]:Ge<2048?Ne[Ne.length]=C[192|Ge>>6]+C[128|63&Ge]:Ge<55296||Ge>=57344?Ne[Ne.length]=C[224|Ge>>12]+C[128|Ge>>6&63]+C[128|63&Ge]:(Ge=65536+((1023&Ge)<<10|1023&K.charCodeAt(Ve+=1)),Ne[Ne.length]=C[240|Ge>>18]+C[128|Ge>>12&63]+C[128|Ge>>6&63]+C[128|63&Ge])}$+=Ne.join("")}return $},isBuffer:function(se){return!(!se||"object"!=typeof se||!(se.constructor&&se.constructor.isBuffer&&se.constructor.isBuffer(se)))},isRegExp:function(se){return"[object RegExp]"===Object.prototype.toString.call(se)},maybeMap:function(se,Q){if(g(se)){for(var Ie=[],ae=0;ae<se.length;ae+=1)Ie.push(Q(se[ae]));return Ie}return Q(se)},merge:function W(se,Q,Ie){if(!Q)return se;if("object"!=typeof Q&&"function"!=typeof Q){if(g(se))se.push(Q);else{if(!se||"object"!=typeof se)return[se,Q];(Ie&&(Ie.plainObjects||Ie.allowPrototypes)||!m.call(Object.prototype,Q))&&(se[Q]=!0)}return se}if(!se||"object"!=typeof se)return[se].concat(Q);var ae=se;return g(se)&&!g(Q)&&(ae=h(se,Ie)),g(se)&&g(Q)?(Q.forEach(function(Me,q){if(m.call(se,q)){var $=se[q];$&&"object"==typeof $&&Me&&"object"==typeof Me?se[q]=W($,Me,Ie):se.push(Me)}else se[q]=Me}),se):Object.keys(Q).reduce(function(Me,q){var $=Q[q];return Me[q]=m.call(Me,q)?W(Me[q],$,Ie):$,Me},ae)}}},68023:(bn,be,w)=>{"use strict";function r(D,h,U,F,k){m(D,h,U||0,F||D.length-1,k||C)}function m(D,h,U,F,k){for(;F>U;){if(F-U>600){var z=F-U+1,B=h-U+1,A=Math.log(z),T=.5*Math.exp(2*A/3),b=.5*Math.sqrt(A*T*(z-T)/z)*(B-z/2<0?-1:1);m(D,h,Math.max(U,Math.floor(h-B*T/z+b)),Math.min(F,Math.floor(h+(z-B)*T/z+b)),k)}var W=D[h],se=U,Q=F;for(g(D,U,h),k(D[F],W)>0&&g(D,U,F);se<Q;){for(g(D,se,Q),se++,Q--;k(D[se],W)<0;)se++;for(;k(D[Q],W)>0;)Q--}0===k(D[U],W)?g(D,U,Q):g(D,++Q,F),Q<=h&&(U=Q+1),h<=Q&&(F=Q-1)}}function g(D,h,U){var F=D[h];D[h]=D[U],D[U]=F}function C(D,h){return D<h?-1:D>h?1:0}w.r(be),w.d(be,{default:()=>r})},64090:(bn,be,w)=>{bn.exports=w(23420)},23420:(bn,be,w)=>{var r=w(12418);be.operation=function(m){var g=be.timeouts(m);return new r(g,{forever:m&&(m.forever||m.retries===1/0),unref:m&&m.unref,maxRetryTime:m&&m.maxRetryTime})},be.timeouts=function(m){if(m instanceof Array)return[].concat(m);var g={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var C in m)g[C]=m[C];if(g.minTimeout>g.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var D=[],h=0;h<g.retries;h++)D.push(this.createTimeout(h,g));return m&&m.forever&&!D.length&&D.push(this.createTimeout(h,g)),D.sort(function(U,F){return U-F}),D},be.createTimeout=function(m,g){var C=g.randomize?Math.random()+1:1,D=Math.round(C*Math.max(g.minTimeout,1)*Math.pow(g.factor,m));return Math.min(D,g.maxTimeout)},be.wrap=function(m,g,C){if(g instanceof Array&&(C=g,g=null),!C)for(var D in C=[],m)"function"==typeof m[D]&&C.push(D);for(var h=0;h<C.length;h++){var U=C[h];m[U]=function(z){var B=be.operation(g),A=Array.prototype.slice.call(arguments,1),T=A.pop();A.push(function(b){B.retry(b)||(b&&(arguments[0]=B.mainError()),T.apply(this,arguments))}),B.attempt(function(){z.apply(m,A)})}.bind(m,m[U]),m[U].options=g}}},12418:bn=>{function be(w,r){"boolean"==typeof r&&(r={forever:r}),this._originalTimeouts=JSON.parse(JSON.stringify(w)),this._timeouts=w,this._options=r||{},this._maxRetryTime=r&&r.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}bn.exports=be,be.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},be.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},be.prototype.retry=function(w){if(this._timeout&&clearTimeout(this._timeout),!w)return!1;var r=(new Date).getTime();if(w&&r-this._operationStart>=this._maxRetryTime)return this._errors.push(w),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(w);var m=this._timeouts.shift();if(void 0===m){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),m=this._cachedTimeouts.slice(-1)}var g=this;return this._timer=setTimeout(function(){g._attempts++,g._operationTimeoutCb&&(g._timeout=setTimeout(function(){g._operationTimeoutCb(g._attempts)},g._operationTimeout),g._options.unref&&g._timeout.unref()),g._fn(g._attempts)},m),this._options.unref&&this._timer.unref(),!0},be.prototype.attempt=function(w,r){this._fn=w,r&&(r.timeout&&(this._operationTimeout=r.timeout),r.cb&&(this._operationTimeoutCb=r.cb));var m=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){m._operationTimeoutCb()},m._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},be.prototype.try=function(w){console.log("Using RetryOperation.try() is deprecated"),this.attempt(w)},be.prototype.start=function(w){console.log("Using RetryOperation.start() is deprecated"),this.attempt(w)},be.prototype.start=be.prototype.try,be.prototype.errors=function(){return this._errors},be.prototype.attempts=function(){return this._attempts},be.prototype.mainError=function(){if(0===this._errors.length)return null;for(var w={},r=null,m=0,g=0;g<this._errors.length;g++){var C=this._errors[g],D=C.message,h=(w[D]||0)+1;w[D]=h,h>=m&&(r=C,m=h)}return r}},77015:function(bn){var w;w=()=>{return be={276:function(){!function(r){"use strict";r.console||(r.console={});for(var m,g,C=r.console,D=function(){},h=["memory"],U="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");m=h.pop();)C[m]||(C[m]={});for(;g=U.pop();)C[g]||(C[g]=D)}(typeof window>"u"?this:window)},180:function(r,m,g){var C,D,h;!function(){"use strict";D=[g(124)],void 0===(h="function"==typeof(C=function(k){var z=/(^|@)\S+:\d+/,B=/^\s*at .*(\S+:\d+|\(native\))/m,A=/^(eval@)?(\[native code])?$/;return{parse:function(T){if(void 0!==T.stacktrace||void 0!==T["opera#sourceloc"])return this.parseOpera(T);if(T.stack&&T.stack.match(B))return this.parseV8OrIE(T);if(T.stack)return this.parseFFOrSafari(T);throw new Error("Cannot parse given Error object")},extractLocation:function(T){if(-1===T.indexOf(":"))return[T];var b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(T.replace(/[()]/g,""));return[b[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(T){return T.stack.split("\n").filter(function(b){return!!b.match(B)},this).map(function(b){b.indexOf("(eval ")>-1&&(b=b.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var J=b.replace(/^\s+/,"").replace(/\(eval code/g,"("),ce=J.match(/ (\((.+):(\d+):(\d+)\)$)/),W=(J=ce?J.replace(ce[0],""):J).split(/\s+/).slice(1),se=this.extractLocation(ce?ce[1]:W.pop()),Q=W.join(" ")||void 0,Ie=["eval","<anonymous>"].indexOf(se[0])>-1?void 0:se[0];return new k({functionName:Q,fileName:Ie,lineNumber:se[1],columnNumber:se[2],source:b})},this)},parseFFOrSafari:function(T){return T.stack.split("\n").filter(function(b){return!b.match(A)},this).map(function(b){if(b.indexOf(" > eval")>-1&&(b=b.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===b.indexOf("@")&&-1===b.indexOf(":"))return new k({functionName:b});var J=/((.*".+"[^@]*)?[^@]*)(?:@)/,ce=b.match(J),W=ce&&ce[1]?ce[1]:void 0,se=this.extractLocation(b.replace(J,""));return new k({functionName:W,fileName:se[0],lineNumber:se[1],columnNumber:se[2],source:b})},this)},parseOpera:function(T){return!T.stacktrace||T.message.indexOf("\n")>-1&&T.message.split("\n").length>T.stacktrace.split("\n").length?this.parseOpera9(T):T.stack?this.parseOpera11(T):this.parseOpera10(T)},parseOpera9:function(T){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,J=T.message.split("\n"),ce=[],W=2,se=J.length;W<se;W+=2){var Q=b.exec(J[W]);Q&&ce.push(new k({fileName:Q[2],lineNumber:Q[1],source:J[W]}))}return ce},parseOpera10:function(T){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,J=T.stacktrace.split("\n"),ce=[],W=0,se=J.length;W<se;W+=2){var Q=b.exec(J[W]);Q&&ce.push(new k({functionName:Q[3]||void 0,fileName:Q[2],lineNumber:Q[1],source:J[W]}))}return ce},parseOpera11:function(T){return T.stack.split("\n").filter(function(b){return!!b.match(z)&&!b.match(/^Error created at/)},this).map(function(b){var J,ce=b.split("@"),W=this.extractLocation(ce.pop()),se=ce.shift()||"",Q=se.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;se.match(/\(([^)]*)\)/)&&(J=se.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var Ie=void 0===J||"[arguments not available]"===J?void 0:J.split(",");return new k({functionName:Q,args:Ie,fileName:W[0],lineNumber:W[1],columnNumber:W[2],source:b})},this)}}})?C.apply(m,D):C)||(r.exports=h)}()},124:function(r,m){var g,C,D;!function(){"use strict";C=[],void 0===(D="function"==typeof(g=function(){function F(ae){return!isNaN(parseFloat(ae))&&isFinite(ae)}function k(ae){return ae.charAt(0).toUpperCase()+ae.substring(1)}function z(ae){return function(){return this[ae]}}var B=["isConstructor","isEval","isNative","isToplevel"],A=["columnNumber","lineNumber"],T=["fileName","functionName","source"],ce=B.concat(A,T,["args"],["evalOrigin"]);function W(ae){if(ae)for(var Me=0;Me<ce.length;Me++)void 0!==ae[ce[Me]]&&this["set"+k(ce[Me])](ae[ce[Me]])}W.prototype={getArgs:function(){return this.args},setArgs:function(ae){if("[object Array]"!==Object.prototype.toString.call(ae))throw new TypeError("Args must be an Array");this.args=ae},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(ae){if(ae instanceof W)this.evalOrigin=ae;else{if(!(ae instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new W(ae)}},toString:function(){var ae=this.getFileName()||"",Me=this.getLineNumber()||"",q=this.getColumnNumber()||"",$=this.getFunctionName()||"";return this.getIsEval()?ae?"[eval] ("+ae+":"+Me+":"+q+")":"[eval]:"+Me+":"+q:$?$+" ("+ae+":"+Me+":"+q+")":ae+":"+Me+":"+q}},W.fromString=function(ae){var Me=ae.indexOf("("),q=ae.lastIndexOf(")"),$=ae.substring(0,Me),ge=ae.substring(Me+1,q).split(","),K=ae.substring(q+1);if(0===K.indexOf("@"))var Ne=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(K,""),Ve=Ne[1],Ge=Ne[2],gt=Ne[3];return new W({functionName:$,args:ge||void 0,fileName:Ve,lineNumber:Ge||void 0,columnNumber:gt||void 0})};for(var se=0;se<B.length;se++)W.prototype["get"+k(B[se])]=z(B[se]),W.prototype["set"+k(B[se])]=function(ae){return function(Me){this[ae]=!!Me}}(B[se]);for(var Q=0;Q<A.length;Q++)W.prototype["get"+k(A[Q])]=z(A[Q]),W.prototype["set"+k(A[Q])]=function(ae){return function(Me){if(!F(Me))throw new TypeError(ae+" must be a Number");this[ae]=Number(Me)}}(A[Q]);for(var Ie=0;Ie<T.length;Ie++)W.prototype["get"+k(T[Ie])]=z(T[Ie]),W.prototype["set"+k(T[Ie])]=function(ae){return function(Me){this[ae]=String(Me)}}(T[Ie]);return W})?g.apply(m,C):g)||(r.exports=D)}()},815:(r,m,g)=>{"use strict";var C=g(702),D=g(817),h={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function U(k,z,B,A,T){this.options=k,this.transport=z,this.url=B,this.truncation=A,this.jsonBackup=T,this.accessToken=k.accessToken,this.transportOptions=F(k,B)}function F(k,z){return D.getTransportFromOptions(k,h,z)}U.prototype.postItem=function(k,z){var B=D.transportOptions(this.transportOptions,"POST"),A=D.buildPayload(this.accessToken,k,this.jsonBackup),T=this;setTimeout(function(){T.transport.post(T.accessToken,B,A,z)},0)},U.prototype.buildJsonPayload=function(k,z){var B,A=D.buildPayload(this.accessToken,k,this.jsonBackup);return(B=this.truncation?this.truncation.truncate(A):C.stringify(A)).error?(z&&z(B.error),null):B.value},U.prototype.postJsonPayload=function(k,z){var B=D.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,B,k,z)},U.prototype.configure=function(k){return this.options=C.merge(this.oldOptions,k),this.transportOptions=F(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},r.exports=U},817:(r,m,g)=>{"use strict";var C=g(702);r.exports={buildPayload:function(D,h,U){if(!C.isType(h.context,"string")){var F=C.stringify(h.context,U);h.context=F.error?"Error: could not serialize 'context'":F.value||"",h.context.length>255&&(h.context=h.context.substr(0,255))}return{access_token:D,data:h}},getTransportFromOptions:function(D,h,U){var se,Q,F=h.hostname,k=h.protocol,z=h.port,B=h.path,A=h.search,T=D.timeout,b=(se=typeof window<"u"&&window||typeof self<"u"&&self,Q=D.defaultTransport||"xhr",void 0===se.fetch&&(Q="xhr"),void 0===se.XMLHttpRequest&&(Q="fetch"),Q),J=D.proxy;if(D.endpoint){var ce=U.parse(D.endpoint);F=ce.hostname,k=ce.protocol,z=ce.port,B=ce.pathname,A=ce.search}return{timeout:T,hostname:F,protocol:k,port:z,path:B,search:A,proxy:J,transport:b}},transportOptions:function(D,h){var U=D.protocol||"https:",F=D.port||("http:"===U?80:"https:"===U?443:void 0),k=D.hostname,z=D.path;return D.search&&(z+=D.search),D.proxy&&(z=U+"//"+k+z,k=D.proxy.host||D.proxy.hostname,F=D.proxy.port,U=D.proxy.protocol||U),{timeout:D.timeout,protocol:U,hostname:k,path:z,port:F,method:h,transport:D.transport}},appendPathToPath:function(D,h){var U=/\/$/.test(D),F=/^\//.test(h);return U&&F?h=h.substring(1):U||F||(h="/"+h),D+h}}},409:(r,m,g)=>{"use strict";var C=g(343),D=typeof window<"u"&&window._rollbarConfig,h=D&&D.globalAlias||"Rollbar",U=typeof window<"u"&&window[h]&&"function"==typeof window[h].shimId&&void 0!==window[h].shimId();if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!U&&D){var F=new C(D);window[h]=F}else typeof window<"u"?(window.rollbar=C,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=C,self._rollbarDidLoad=!0);r.exports=C},403:(r,m,g)=>{"use strict";var C=g(562),D=g(702),h=g(815),U=g(802),F=g(349),k=g(477),z=g(509),B=g(860),A=g(417),T=g(172),b=g(61),J=g(303);function ce($,ge){this.options=D.handleOptions(q,$,null,U),this.options._configuredOptions=$;var K=this.components.telemeter,Ne=this.components.instrumenter,Ve=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var Ge=this.components.truncation,gt=new k(Ge),_t=new h(this.options,gt,z,Ge);K&&(this.telemeter=new K(this.options)),this.client=ge||new C(this.options,_t,U,this.telemeter,"browser");var He,zt=Ie(),Rn=typeof document<"u"&&document;this.isChrome=zt.chrome&&zt.chrome.runtime,this.anonymousErrorsPending=0,He=zt,this.client.notifier.addTransform(B.handleDomException).addTransform(B.handleItemWithError).addTransform(B.ensureItemHasSomethingToSay).addTransform(B.addBaseInfo).addTransform(B.addRequestInfo(He)).addTransform(B.addClientInfo(He)).addTransform(B.addPluginInfo(He)).addTransform(B.addBody).addTransform(A.addMessageWithError).addTransform(A.addTelemetryData).addTransform(A.addConfigToPayload).addTransform(B.addScrubber(this.scrub)).addTransform(A.addPayloadOptions).addTransform(A.userTransform(U)).addTransform(A.addConfiguredOptions).addTransform(A.addDiagnosticKeys).addTransform(A.itemToPayload),this.client.queue.addPredicate(b.checkLevel).addPredicate(T.checkIgnore).addPredicate(b.userCheckIgnore(U)).addPredicate(b.urlIsNotBlockListed(U)).addPredicate(b.urlIsSafeListed(U)).addPredicate(b.messageIsIgnored(U)),this.setupUnhandledCapture(),Ne&&(this.instrumenter=new Ne(this.options,this.client.telemeter,this,zt,Rn),this.instrumenter.instrument()),D.setupJSON(Ve),this.rollbar=this}var W=null;function se($){var ge="Rollbar is not initialized";U.error(ge),$&&$(new Error(ge))}function Q($){for(var ge=0,K=$.length;ge<K;++ge)if(D.isFunction($[ge]))return $[ge]}function Ie(){return typeof window<"u"&&window||typeof self<"u"&&self}ce.init=function($,ge){return W?W.global($).configure($):W=new ce($,ge)},ce.prototype.components={},ce.setComponents=function($){ce.prototype.components=$},ce.prototype.global=function($){return this.client.global($),this},ce.global=function($){if(W)return W.global($);se()},ce.prototype.configure=function($,ge){var K=this.options,Ne={};return ge&&(Ne={payload:ge}),this.options=D.handleOptions(K,$,Ne,U),this.options._configuredOptions=D.handleOptions(K._configuredOptions,$,Ne),this.client.configure(this.options,ge),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},ce.configure=function($,ge){if(W)return W.configure($,ge);se()},ce.prototype.lastError=function(){return this.client.lastError},ce.lastError=function(){if(W)return W.lastError();se()},ce.prototype.log=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.log($),{uuid:ge}},ce.log=function(){if(W)return W.log.apply(W,arguments);se(Q(arguments))},ce.prototype.debug=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.debug($),{uuid:ge}},ce.debug=function(){if(W)return W.debug.apply(W,arguments);se(Q(arguments))},ce.prototype.info=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.info($),{uuid:ge}},ce.info=function(){if(W)return W.info.apply(W,arguments);se(Q(arguments))},ce.prototype.warn=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.warn($),{uuid:ge}},ce.warn=function(){if(W)return W.warn.apply(W,arguments);se(Q(arguments))},ce.prototype.warning=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.warning($),{uuid:ge}},ce.warning=function(){if(W)return W.warning.apply(W,arguments);se(Q(arguments))},ce.prototype.error=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.error($),{uuid:ge}},ce.error=function(){if(W)return W.error.apply(W,arguments);se(Q(arguments))},ce.prototype.critical=function(){var $=this._createItem(arguments),ge=$.uuid;return this.client.critical($),{uuid:ge}},ce.critical=function(){if(W)return W.critical.apply(W,arguments);se(Q(arguments))},ce.prototype.buildJsonPayload=function($){return this.client.buildJsonPayload($)},ce.buildJsonPayload=function(){if(W)return W.buildJsonPayload.apply(W,arguments);se()},ce.prototype.sendJsonPayload=function($){return this.client.sendJsonPayload($)},ce.sendJsonPayload=function(){if(W)return W.sendJsonPayload.apply(W,arguments);se()},ce.prototype.setupUnhandledCapture=function(){var $=Ie();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(F.captureUncaughtExceptions($,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals($,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(F.captureUnhandledRejections($,this),this.unhandledRejectionsInitialized=!0)},ce.prototype.handleUncaughtException=function($,ge,K,Ne,Ve,Ge){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===Ve&&""===ge)return"anonymous";var gt,_t=D.makeUnhandledStackInfo($,ge,K,Ne,Ve,"onerror","uncaught exception",J);D.isError(Ve)?(gt=this._createItem([$,Ve,Ge]))._unhandledStackInfo=_t:D.isError(ge)?(gt=this._createItem([$,ge,Ge]))._unhandledStackInfo=_t:(gt=this._createItem([$,Ge])).stackInfo=_t,gt.level=this.options.uncaughtErrorLevel,gt._isUncaught=!0,this.client.log(gt)}},ce.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var $=this;try{Error.prepareStackTrace=function(ge,K){if($.options.inspectAnonymousErrors&&$.anonymousErrorsPending){if($.anonymousErrorsPending-=1,!ge)return;ge._isAnonymous=!0,$.handleUncaughtException(ge.message,null,null,null,ge)}return ge.stack}}catch(ge){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",ge)}}},ce.prototype.handleUnhandledRejection=function($,ge){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var K="unhandled rejection was null or undefined!";if($)if($.message)K=$.message;else{var Ne=D.stringify($);Ne.value&&(K=Ne.value)}var Ve,Ge=$&&$._rollbarContext||ge&&ge._rollbarContext;D.isError($)?Ve=this._createItem([K,$,Ge]):(Ve=this._createItem([K,$,Ge])).stackInfo=D.makeUnhandledStackInfo(K,"",0,0,null,"unhandledrejection","",J),Ve.level=this.options.uncaughtErrorLevel,Ve._isUncaught=!0,Ve._originalArgs=Ve._originalArgs||[],Ve._originalArgs.push(ge),this.client.log(Ve)}},ce.prototype.wrap=function($,ge,K){try{var Ne;if(Ne=D.isFunction(ge)?ge:function(){return ge||{}},!D.isFunction($)||$._isWrap)return $;if(!$._rollbar_wrapped&&($._rollbar_wrapped=function(){K&&D.isFunction(K)&&K.apply(this,arguments);try{return $.apply(this,arguments)}catch(gt){var Ge=gt;throw Ge&&window._rollbarWrappedError!==Ge&&(D.isType(Ge,"string")&&(Ge=new String(Ge)),Ge._rollbarContext=Ne()||{},Ge._rollbarContext._wrappedSource=$.toString(),window._rollbarWrappedError=Ge),Ge}},$._rollbar_wrapped._isWrap=!0,$.hasOwnProperty))for(var Ve in $)$.hasOwnProperty(Ve)&&"_rollbar_wrapped"!==Ve&&($._rollbar_wrapped[Ve]=$[Ve]);return $._rollbar_wrapped}catch{return $}},ce.wrap=function($,ge){if(W)return W.wrap($,ge);se()},ce.prototype.captureEvent=function(){var $=D.createTelemetryEvent(arguments);return this.client.captureEvent($.type,$.metadata,$.level)},ce.captureEvent=function(){if(W)return W.captureEvent.apply(W,arguments);se()},ce.prototype.captureDomContentLoaded=function($,ge){return ge||(ge=new Date),this.client.captureDomContentLoaded(ge)},ce.prototype.captureLoad=function($,ge){return ge||(ge=new Date),this.client.captureLoad(ge)},ce.prototype.loadFull=function(){U.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},ce.prototype._createItem=function($){return D.createItem($,U,this)};var ae=g(948),Me=g(677),q={version:ae.version,scrubFields:Me.scrubFields,logLevel:ae.logLevel,reportLevel:ae.reportLevel,uncaughtErrorLevel:ae.uncaughtErrorLevel,endpoint:ae.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};r.exports=ce},677:r=>{"use strict";r.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},616:r=>{"use strict";r.exports={ieVersion:function(){var g;if(typeof document>"u")return g;for(var C=3,D=document.createElement("div"),h=D.getElementsByTagName("i");D.innerHTML="\x3c!--[if gt IE "+ ++C+"]><i></i><![endif]--\x3e",h[0];);return C>4?C:g}}},300:r=>{"use strict";function m(D){return(D.getAttribute("type")||"").toLowerCase()}function g(D){if(!D||!D.tagName)return"";var h=[D.tagName];D.id&&h.push("#"+D.id),D.classes&&h.push("."+D.classes.join("."));for(var U=0;U<D.attributes.length;U++)h.push("["+D.attributes[U].key+'="'+D.attributes[U].value+'"]');return h.join("")}function C(D){if(!D||!D.tagName)return null;var h,U,F,k,z={};z.tagName=D.tagName.toLowerCase(),D.id&&(z.id=D.id),(h=D.className)&&"string"==typeof h&&(z.classes=h.split(/\s+/));var B=["type","name","title","alt"];for(z.attributes=[],k=0;k<B.length;k++)(F=D.getAttribute(U=B[k]))&&z.attributes.push({key:U,value:F});return z}r.exports={describeElement:C,descriptionToString:g,elementArrayToString:function(D){for(var h,F=[],k=0,z=D.length-1;z>=0;z--){if(h=g(D[z]),z<D.length-1&&k+3*F.length+h.length>=83){F.unshift("...");break}F.unshift(h),k+=h.length}return F.join(" > ")},treeToArray:function(D){for(var h,U=[],F=0;D&&F<5&&"html"!==(h=C(D)).tagName;F++)U.unshift(h),D=D.parentNode;return U},getElementFromEvent:function(D,h){return D.target?D.target:h&&h.elementFromPoint?h.elementFromPoint(D.clientX,D.clientY):void 0},isDescribedElement:function(D,h,U){if(D.tagName.toLowerCase()!==h.toLowerCase())return!1;if(!U)return!0;D=m(D);for(var F=0;F<U.length;F++)if(U[F]===D)return!0;return!1},getElementType:m}},349:r=>{"use strict";r.exports={captureUncaughtExceptions:function(m,g,C){if(m){var D;if("function"==typeof g._rollbarOldOnError)D=g._rollbarOldOnError;else if(m.onerror){for(D=m.onerror;D._rollbarOldOnError;)D=D._rollbarOldOnError;g._rollbarOldOnError=D}g.handleAnonymousErrors();var h=function(){var U=Array.prototype.slice.call(arguments,0);!function(F,k,z,B){F._rollbarWrappedError&&(B[4]||(B[4]=F._rollbarWrappedError),B[5]||(B[5]=F._rollbarWrappedError._rollbarContext),F._rollbarWrappedError=null);var A=k.handleUncaughtException.apply(k,B);z&&z.apply(F,B),"anonymous"===A&&(k.anonymousErrorsPending+=1)}(m,g,D,U)};C&&(h._rollbarOldOnError=D),m.onerror=h}},captureUnhandledRejections:function(m,g,C){if(m){"function"==typeof m._rollbarURH&&m._rollbarURH.belongsToShim&&m.removeEventListener("unhandledrejection",m._rollbarURH);var D=function(h){var U,F,k;try{U=h.reason}catch{U=void 0}try{F=h.promise}catch{F="[unhandledrejection] error getting `promise` from event"}try{k=h.detail,!U&&k&&(U=k.reason,F=k.promise)}catch{}U||(U="[unhandledrejection] error getting `reason` from event"),g&&g.handleUnhandledRejection&&g.handleUnhandledRejection(U,F)};D.belongsToShim=C,m._rollbarURH=D,m.addEventListener("unhandledrejection",D)}}}},802:(r,m,g)=>{"use strict";g(276);var C=g(616),D=g(702);r.exports={error:function(){var h=Array.prototype.slice.call(arguments,0);h.unshift("Rollbar:"),C.ieVersion()<=8?console.error(D.formatArgsAsString(h)):console.error.apply(console,h)},info:function(){var h=Array.prototype.slice.call(arguments,0);h.unshift("Rollbar:"),C.ieVersion()<=8?console.info(D.formatArgsAsString(h)):console.info.apply(console,h)},log:function(){var h=Array.prototype.slice.call(arguments,0);h.unshift("Rollbar:"),C.ieVersion()<=8?console.log(D.formatArgsAsString(h)):console.log.apply(console,h)}}},172:(r,m,g)=>{"use strict";var C=g(702);r.exports={checkIgnore:function(D,h){return!C.get(h,"plugins.jquery.ignoreAjaxErrors")||!C.get(D,"body.message.extra.isAjax")}}},343:(r,m,g)=>{"use strict";var C=g(403),D=g(773),h=g(568),U=g(876),F=g(965),k=g(369),z=g(473);C.setComponents({telemeter:D,instrumenter:h,polyfillJSON:U,wrapGlobals:F,scrub:k,truncation:z}),r.exports=C},568:(r,m,g)=>{"use strict";var C=g(702),D=g(650),h=g(297),U=g(369),F=g(509),k=g(300),z={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function B(b,J){for(var ce;b[J].length;)(ce=b[J].shift())[0][ce[1]]=ce[2]}function A(b,J,ce,W,se){this.options=b;var Q=b.autoInstrument;!1===b.enabled||!1===Q?this.autoInstrument={}:(C.isType(Q,"object")||(Q=z),this.autoInstrument=C.merge(z,Q)),this.scrubTelemetryInputs=!!b.scrubTelemetryInputs,this.telemetryScrubber=b.telemetryScrubber,this.defaultValueScrubber=function(Ie){for(var ae=[],Me=0;Me<Ie.length;++Me)ae.push(new RegExp(Ie[Me],"i"));return function(q){var $=function(K){if(!K||!K.attributes)return null;for(var Ne=K.attributes,Ve=0;Ve<Ne.length;++Ve)if("name"===Ne[Ve].key)return Ne[Ve].value;return null}(q);if(!$)return!1;for(var ge=0;ge<ae.length;++ge)if(ae[ge].test($))return!0;return!1}}(b.scrubFields),this.telemeter=J,this.rollbar=ce,this.diagnostic=ce.client.notifier.diagnostic,this._window=W||{},this._document=se||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}function T(b){return typeof URL<"u"&&b instanceof URL}A.prototype.configure=function(b){this.options=C.merge(this.options,b);var J=b.autoInstrument,ce=C.merge(this.autoInstrument);!1===b.enabled||!1===J?this.autoInstrument={}:(C.isType(J,"object")||(J=z),this.autoInstrument=C.merge(z,J)),this.instrument(ce),void 0!==b.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!b.scrubTelemetryInputs),void 0!==b.telemetryScrubber&&(this.telemetryScrubber=b.telemetryScrubber)},A.prototype.instrument=function(b){!this.autoInstrument.network||b&&b.network?!this.autoInstrument.network&&b&&b.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||b&&b.log?!this.autoInstrument.log&&b&&b.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||b&&b.dom?!this.autoInstrument.dom&&b&&b.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||b&&b.navigation?!this.autoInstrument.navigation&&b&&b.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||b&&b.connectivity?!this.autoInstrument.connectivity&&b&&b.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||b&&b.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&b&&b.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},A.prototype.deinstrumentNetwork=function(){B(this.replacements,"network")},A.prototype.instrumentNetwork=function(){var b=this;function J(W,se){W in se&&C.isFunction(se[W])&&h(se,W,function(Q){return b.rollbar.wrap(Q)})}if("XMLHttpRequest"in this._window){var ce=this._window.XMLHttpRequest.prototype;h(ce,"open",function(W){return function(se,Q){var Ie=T(Q);return(C.isType(Q,"string")||Ie)&&(Q=Ie?Q.toString():Q,this.__rollbar_xhr?(this.__rollbar_xhr.method=se,this.__rollbar_xhr.url=Q,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=C.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:se,url:Q,status_code:null,start_time_ms:C.now(),end_time_ms:null}),W.apply(this,arguments)}},this.replacements,"network"),h(ce,"setRequestHeader",function(W){return function(se,Q){return this.__rollbar_xhr||(this.__rollbar_xhr={}),C.isType(se,"string")&&C.isType(Q,"string")&&(b.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[se]=Q),"content-type"===se.toLowerCase()&&(this.__rollbar_xhr.request_content_type=Q)),W.apply(this,arguments)}},this.replacements,"network"),h(ce,"send",function(W){return function(se){var Q=this;function Ie(){if(Q.__rollbar_xhr&&(null===Q.__rollbar_xhr.status_code&&(Q.__rollbar_xhr.status_code=0,b.autoInstrument.networkRequestBody&&(Q.__rollbar_xhr.request=se),Q.__rollbar_event=b.captureNetwork(Q.__rollbar_xhr,"xhr",void 0)),Q.readyState<2&&(Q.__rollbar_xhr.start_time_ms=C.now()),Q.readyState>3)){Q.__rollbar_xhr.end_time_ms=C.now();var ae=null;if(Q.__rollbar_xhr.response_content_type=Q.getResponseHeader("Content-Type"),b.autoInstrument.networkResponseHeaders){var Me=b.autoInstrument.networkResponseHeaders;ae={};try{var q,$;if(!0===Me){var ge=Q.getAllResponseHeaders();if(ge){var K,Ne,Ve=ge.trim().split(/[\r\n]+/);for($=0;$<Ve.length;$++)q=(K=Ve[$].split(": ")).shift(),Ne=K.join(": "),ae[q]=Ne}}else for($=0;$<Me.length;$++)ae[q=Me[$]]=Q.getResponseHeader(q)}catch{}}var Ge=null;if(b.autoInstrument.networkResponseBody)try{Ge=Q.responseText}catch{}var gt=null;(Ge||ae)&&(gt={},Ge&&(gt.body=b.isJsonContentType(Q.__rollbar_xhr.response_content_type)?b.scrubJson(Ge):Ge),ae&&(gt.headers=ae)),gt&&(Q.__rollbar_xhr.response=gt);try{var _t=Q.status;Q.__rollbar_xhr.status_code=_t=1223===_t?204:_t,Q.__rollbar_event.level=b.telemeter.levelFromStatus(_t),b.errorOnHttpStatus(Q.__rollbar_xhr)}catch{}}}return J("onload",Q),J("onerror",Q),J("onprogress",Q),"onreadystatechange"in Q&&C.isFunction(Q.onreadystatechange)?h(Q,"onreadystatechange",function(ae){return b.rollbar.wrap(ae,void 0,Ie)}):Q.onreadystatechange=Ie,Q.__rollbar_xhr&&b.trackHttpErrors()&&(Q.__rollbar_xhr.stack=(new Error).stack),W.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&h(this._window,"fetch",function(W){return function(se,Q){for(var Ie=new Array(arguments.length),ae=0,Me=Ie.length;ae<Me;ae++)Ie[ae]=arguments[ae];var q,$=Ie[0],ge="GET",K=T($);C.isType($,"string")||K?q=K?$.toString():$:$&&(q=$.url,$.method&&(ge=$.method)),Ie[1]&&Ie[1].method&&(ge=Ie[1].method);var Ne={method:ge,url:q,status_code:null,start_time_ms:C.now(),end_time_ms:null};if(Ie[1]&&Ie[1].headers){var Ve=D(Ie[1].headers);Ne.request_content_type=Ve.get("Content-Type"),b.autoInstrument.networkRequestHeaders&&(Ne.request_headers=b.fetchHeaders(Ve,b.autoInstrument.networkRequestHeaders))}return b.autoInstrument.networkRequestBody&&(Ie[1]&&Ie[1].body?Ne.request=Ie[1].body:Ie[0]&&!C.isType(Ie[0],"string")&&Ie[0].body&&(Ne.request=Ie[0].body)),b.captureNetwork(Ne,"fetch",void 0),b.trackHttpErrors()&&(Ne.stack=(new Error).stack),W.apply(this,Ie).then(function(Ge){Ne.end_time_ms=C.now(),Ne.status_code=Ge.status,Ne.response_content_type=Ge.headers.get("Content-Type");var gt=null;b.autoInstrument.networkResponseHeaders&&(gt=b.fetchHeaders(Ge.headers,b.autoInstrument.networkResponseHeaders));var _t=null;return b.autoInstrument.networkResponseBody&&"function"==typeof Ge.text&&(_t=Ge.clone().text()),(gt||_t)&&(Ne.response={},_t&&("function"==typeof _t.then?_t.then(function(zt){Ne.response.body=zt&&b.isJsonContentType(Ne.response_content_type)?b.scrubJson(zt):zt}):Ne.response.body=_t),gt&&(Ne.response.headers=gt)),b.errorOnHttpStatus(Ne),Ge})}},this.replacements,"network")},A.prototype.captureNetwork=function(b,J,ce){return b.request&&this.isJsonContentType(b.request_content_type)&&(b.request=this.scrubJson(b.request)),this.telemeter.captureNetwork(b,J,ce)},A.prototype.isJsonContentType=function(b){return!!(b&&C.isType(b,"string")&&b.toLowerCase().includes("json"))},A.prototype.scrubJson=function(b){return JSON.stringify(U(JSON.parse(b),this.options.scrubFields))},A.prototype.fetchHeaders=function(b,J){var ce={};try{var W;if(!0===J){if("function"==typeof b.entries)for(var se=b.entries(),Q=se.next();!Q.done;)ce[Q.value[0]]=Q.value[1],Q=se.next()}else for(W=0;W<J.length;W++){var Ie=J[W];ce[Ie]=b.get(Ie)}}catch{}return ce},A.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},A.prototype.errorOnHttpStatus=function(b){var J=b.status_code;if(J>=500&&this.autoInstrument.networkErrorOnHttp5xx||J>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===J&&this.autoInstrument.networkErrorOnHttp0){var ce=new Error("HTTP request failed with Status "+J);ce.stack=b.stack,this.rollbar.error(ce,{skipFrames:1})}},A.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var b;this.replacements.log.length;)b=this.replacements.log.shift(),this._window.console[b[0]]=b[1]},A.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var b=this,J=this._window.console,ce=["debug","info","warn","error","log"];try{for(var W=0,se=ce.length;W<se;W++)Q(ce[W])}catch(Ie){this.diagnostic.instrumentConsole={error:Ie.message}}}function Q(Ie){var ae=J[Ie],Me=J,q="warn"===Ie?"warning":Ie;J[Ie]=function(){var $=Array.prototype.slice.call(arguments),ge=C.formatArgsAsString($);b.telemeter.captureLog(ge,q),ae&&Function.prototype.apply.call(ae,Me,$)},b.replacements.log.push([Ie,ae])}},A.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},A.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var b=this.handleClick.bind(this),J=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",b,!0),this.addListener("dom",this._window,"blur","onfocusout",J,!0)}},A.prototype.handleClick=function(b){try{var J=k.getElementFromEvent(b,this._document),ce=J&&J.tagName,W=k.isDescribedElement(J,"a")||k.isDescribedElement(J,"button");ce&&(W||k.isDescribedElement(J,"input",["button","submit"]))?this.captureDomEvent("click",J):k.isDescribedElement(J,"input",["checkbox","radio"])&&this.captureDomEvent("input",J,J.value,J.checked)}catch{}},A.prototype.handleBlur=function(b){try{var J=k.getElementFromEvent(b,this._document);J&&J.tagName&&(k.isDescribedElement(J,"textarea")?this.captureDomEvent("input",J,J.value):k.isDescribedElement(J,"select")&&J.options&&J.options.length?this.handleSelectInputChanged(J):k.isDescribedElement(J,"input")&&!k.isDescribedElement(J,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",J,J.value))}catch{}},A.prototype.handleSelectInputChanged=function(b){if(b.multiple)for(var J=0;J<b.options.length;J++)b.options[J].selected&&this.captureDomEvent("input",b,b.options[J].value);else b.selectedIndex>=0&&b.options[b.selectedIndex]&&this.captureDomEvent("input",b,b.options[b.selectedIndex].value)},A.prototype.captureDomEvent=function(b,J,ce,W){if(void 0!==ce)if(this.scrubTelemetryInputs||"password"===k.getElementType(J))ce="[scrubbed]";else{var se=k.describeElement(J);this.telemetryScrubber?this.telemetryScrubber(se)&&(ce="[scrubbed]"):this.defaultValueScrubber(se)&&(ce="[scrubbed]")}var Q=k.elementArrayToString(k.treeToArray(J));this.telemeter.captureDom(b,Q,ce,W)},A.prototype.deinstrumentNavigation=function(){var b=this._window.chrome;!(b&&b.app&&b.app.runtime)&&this._window.history&&this._window.history.pushState&&B(this.replacements,"navigation")},A.prototype.instrumentNavigation=function(){var b=this._window.chrome;if(!(b&&b.app&&b.app.runtime)&&this._window.history&&this._window.history.pushState){var J=this;h(this._window,"onpopstate",function(ce){return function(){J.handleUrlChange(J._lastHref,J._location.href),ce&&ce.apply(this,arguments)}},this.replacements,"navigation"),h(this._window.history,"pushState",function(ce){return function(){var W=arguments.length>2?arguments[2]:void 0;return W&&J.handleUrlChange(J._lastHref,W+""),ce.apply(this,arguments)}},this.replacements,"navigation")}},A.prototype.handleUrlChange=function(b,J){var ce=F.parse(this._location.href),W=F.parse(J),se=F.parse(b);this._lastHref=J,ce.protocol===W.protocol&&ce.host===W.host&&(J=W.path+(W.hash||"")),ce.protocol===se.protocol&&ce.host===se.host&&(b=se.path+(se.hash||"")),this.telemeter.captureNavigation(b,J)},A.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):B(this.replacements,"connectivity"))},A.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var b=this;h(this._document.body,"ononline",function(J){return function(){b.telemeter.captureConnectivityChange("online"),J&&J.apply(this,arguments)}},this.replacements,"connectivity"),h(this._document.body,"onoffline",function(J){return function(){b.telemeter.captureConnectivityChange("offline"),J&&J.apply(this,arguments)}},this.replacements,"connectivity")}},A.prototype.handleCspEvent=function(b){var J="Security Policy Violation: blockedURI: "+b.blockedURI+", violatedDirective: "+b.violatedDirective+", effectiveDirective: "+b.effectiveDirective+", ";b.sourceFile&&(J+="location: "+b.sourceFile+", line: "+b.lineNumber+", col: "+b.columnNumber+", "),this.telemeter.captureLog(J+="originalPolicy: "+b.originalPolicy,"error"),this.handleCspError(J)},A.prototype.handleCspError=function(b){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(b)},A.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},A.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var b=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,b,!1)}},A.prototype.addListener=function(b,J,ce,W,se,Q){J.addEventListener?(J.addEventListener(ce,se,Q),this.eventRemovers[b].push(function(){J.removeEventListener(ce,se,Q)})):W&&(J.attachEvent(W,se),this.eventRemovers[b].push(function(){J.detachEvent(W,se)}))},A.prototype.removeListeners=function(b){for(;this.eventRemovers[b].length;)this.eventRemovers[b].shift()()},r.exports=A},860:(r,m,g)=>{"use strict";var C=g(702),D=g(303),h=g(802);function U(B,A,T){var b=B.message,J=B.custom;b||(b="Item sent with null or missing arguments.");var ce={body:b};J&&(ce.extra=C.merge(J)),C.set(B,"data.body",{message:ce}),T(null,B)}function F(B){var A=B.stackInfo.stack;return A&&0===A.length&&B._unhandledStackInfo&&B._unhandledStackInfo.stack&&(A=B._unhandledStackInfo.stack),A}function k(B,A,T){var b=B&&B.data.description,J=B&&B.custom,ce=F(B),W=D.guessErrorClass(A.message),se={exception:{class:z(A,W[0],T),message:W[1]}};if(b&&(se.exception.description=b),ce){var Q,Ie,ae,Me,q,$,ge,K;for(0===ce.length&&(se.exception.stack=A.rawStack,se.exception.raw=String(A.rawException)),se.frames=[],ge=0;ge<ce.length;++ge)Ie={filename:(Q=ce[ge]).url?C.sanitizeUrl(Q.url):"(unknown)",lineno:Q.line||null,method:Q.func&&"?"!==Q.func?Q.func:"[anonymous]",colno:Q.column},T.sendFrameUrl&&(Ie.url=Q.url),Ie.method&&Ie.method.endsWith&&Ie.method.endsWith("_rollbar_wrapped")||(ae=Me=q=null,($=Q.context?Q.context.length:0)&&(K=Math.floor($/2),Me=Q.context.slice(0,K),ae=Q.context[K],q=Q.context.slice(K)),ae&&(Ie.code=ae),(Me||q)&&(Ie.context={},Me&&Me.length&&(Ie.context.pre=Me),q&&q.length&&(Ie.context.post=q)),Q.args&&(Ie.args=Q.args),se.frames.push(Ie));se.frames.reverse(),J&&(se.extra=C.merge(J))}return se}function z(B,A,T){return B.name?B.name:T.guessErrorClass?A:"(unknown)"}r.exports={handleDomException:function(B,A,T){if(B.err&&"DOMException"===D.Stack(B.err).name){var b=new Error;b.name=B.err.name,b.message=B.err.message,b.stack=B.err.stack,b.nested=B.err,B.err=b}T(null,B)},handleItemWithError:function(B,A,T){if(B.data=B.data||{},B.err)try{B.stackInfo=B.err._savedStackTrace||D.parse(B.err,B.skipFrames),A.addErrorContext&&function(b){var J=[],ce=b.err;for(J.push(ce);ce.nested||ce.cause;)J.push(ce=ce.nested||ce.cause);C.addErrorContext(b,J)}(B)}catch(b){h.error("Error while parsing the error object.",b);try{B.message=B.err.message||B.err.description||B.message||String(B.err)}catch(J){B.message=String(B.err)||String(J)}delete B.err}T(null,B)},ensureItemHasSomethingToSay:function(B,A,T){B.message||B.stackInfo||B.custom||T(new Error("No message, stack info, or custom data"),null),T(null,B)},addBaseInfo:function(B,A,T){B.data=C.merge(B.data,{environment:A.payload&&A.payload.environment||A.environment,level:B.level,endpoint:A.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:B.uuid,notifier:{name:"rollbar-browser-js",version:A.version},custom:B.custom}),T(null,B)},addRequestInfo:function(B){return function(A,T,b){var J={};B&&B.location&&(J.url=B.location.href,J.query_string=B.location.search);var ce="$remote_ip";T.captureIp?!0!==T.captureIp&&(ce+="_anonymize"):ce=null,ce&&(J.user_ip=ce),Object.keys(J).length>0&&C.set(A,"data.request",J),b(null,A)}},addClientInfo:function(B){return function(A,T,b){if(!B)return b(null,A);var J=B.navigator||{},ce=B.screen||{};C.set(A,"data.client",{runtime_ms:A.timestamp-B._rollbarStartTime,timestamp:Math.round(A.timestamp/1e3),javascript:{browser:J.userAgent,language:J.language,cookie_enabled:J.cookieEnabled,screen:{width:ce.width,height:ce.height}}}),b(null,A)}},addPluginInfo:function(B){return function(A,T,b){if(!B||!B.navigator)return b(null,A);for(var J,ce=[],W=B.navigator.plugins||[],se=0,Q=W.length;se<Q;++se)ce.push({name:(J=W[se]).name,description:J.description});C.set(A,"data.client.javascript.plugins",ce),b(null,A)}},addBody:function(B,A,T){B.stackInfo?B.stackInfo.traceChain?function(b,J,ce){for(var W=b.stackInfo.traceChain,se=[],Q=W.length,Ie=0;Ie<Q;Ie++){var ae=k(b,W[Ie],J);se.push(ae)}C.set(b,"data.body",{trace_chain:se}),ce(null,b)}(B,A,T):function(b,J,ce){if(F(b)){var se=k(b,b.stackInfo,J);C.set(b,"data.body",{trace:se}),ce(null,b)}else{var Q=b.stackInfo,Ie=D.guessErrorClass(Q.message),ae=z(Q,Ie[0],J);b.message=ae+": "+Ie[1],U(b,0,ce)}}(B,A,T):U(B,0,T)},addScrubber:function(B){return function(A,T,b){B&&(A.data=B(A.data,T.scrubFields||[],T.scrubPaths||[])),b(null,A)}}}},477:(r,m,g)=>{"use strict";var C=g(702),D=g(656),h=g(86);function U(F){this.truncation=F}U.prototype.get=function(F,k,z,B,A){B&&C.isFunction(B)||(B=function(){}),C.addParamsAndAccessTokenToPath(F,k,z);var T=C.formatUrl(k);this._makeZoneRequest(F,T,"GET",null,B,A,k.timeout,k.transport)},U.prototype.post=function(F,k,z,B,A){if(B&&C.isFunction(B)||(B=function(){}),!z)return B(new Error("Cannot send empty request"));var T;if((T=this.truncation?this.truncation.truncate(z):C.stringify(z)).error)return B(T.error);var b=T.value,J=C.formatUrl(k);this._makeZoneRequest(F,J,"POST",b,B,A,k.timeout,k.transport)},U.prototype.postJsonPayload=function(F,k,z,B,A){B&&C.isFunction(B)||(B=function(){});var T=C.formatUrl(k);this._makeZoneRequest(F,T,"POST",z,B,A,k.timeout,k.transport)},U.prototype._makeZoneRequest=function(){var F=typeof window<"u"&&window||void 0!==A&&A,k=F&&F.Zone&&F.Zone.current,z=Array.prototype.slice.call(arguments);if(k&&"angular"===k._name){var A=this;k._parent.run(function(){A._makeRequest.apply(void 0,z)})}else this._makeRequest.apply(void 0,z)},U.prototype._makeRequest=function(F,k,z,B,A,T,b,J){if(typeof RollbarProxy<"u")return ce=B,W=A,void(new RollbarProxy).sendJsonPayload(ce,function(se){},function(se){W(new Error(se))});var ce,W;"fetch"===J?D(F,k,z,B,A,b):h(F,k,z,B,A,T,b)},r.exports=U},656:(r,m,g)=>{"use strict";var C=g(802),D=g(702);r.exports=function(h,U,F,k,z,B){var A,T;D.isFiniteNumber(B)&&(A=new AbortController,T=setTimeout(function(){A.abort()},B)),fetch(U,{method:F,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":h,signal:A&&A.signal},body:k}).then(function(b){return T&&clearTimeout(T),b.json()}).then(function(b){z(null,b)}).catch(function(b){C.error(b.message),z(b)})}},86:(r,m,g)=>{"use strict";var C=g(702),D=g(802);function h(U,F){var k=new Error(U);return k.code=F||"ENOTFOUND",k}r.exports=function(U,F,k,z,B,A,T){var b;if(!(b=A?A():function(){var W,se,Q=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],Ie=Q.length;for(se=0;se<Ie;se++)try{W=Q[se]();break}catch{}return W}()))return B(new Error("No way to send a request"));try{try{var J=function(){try{if(J&&4===b.readyState){J=void 0;var W=C.jsonParse(b.responseText);if((Ie=b)&&Ie.status&&200===Ie.status)return void B(W.error,W.value);(ae=b)&&C.isType(ae.status,"number")&&ae.status>=400&&ae.status<600?(403===b.status&&D.error(W.value&&W.value.message),B(new Error(String(b.status)))):B(h("XHR response had no status code (likely connection failure)"))}}catch(ae){var Q;Q=ae&&ae.stack?ae:new Error(ae),B(Q)}var ae,Ie};b.open(k,F,!0),b.setRequestHeader&&(b.setRequestHeader("Content-Type","application/json"),b.setRequestHeader("X-Rollbar-Access-Token",U)),C.isFiniteNumber(T)&&(b.timeout=T),b.onreadystatechange=J,b.send(z)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return B(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===F.substring(0,5)&&(F="http"+F.substring(5));var ce=new XDomainRequest;ce.onprogress=function(){},ce.ontimeout=function(){B(h("Request timed out","ETIMEDOUT"))},ce.onerror=function(){B(new Error("Error during request"))},ce.onload=function(){var se=C.jsonParse(ce.responseText);B(se.error,se.value)},ce.open(k,F,!0),ce.send(z)}else B(new Error("Cannot find a method to transport a request"))}}catch(W){B(W)}}},509:r=>{"use strict";r.exports={parse:function(m){var g,C,D={protocol:null,auth:null,host:null,path:null,hash:null,href:m,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(g=m.indexOf("//"))?(D.protocol=m.substring(0,g),C=g+2):C=0,-1!==(g=m.indexOf("@",C))&&(D.auth=m.substring(C,g),C=g+1),-1===(g=m.indexOf("/",C))){if(-1===(g=m.indexOf("?",C)))return-1===(g=m.indexOf("#",C))?D.host=m.substring(C):(D.host=m.substring(C,g),D.hash=m.substring(g)),D.hostname=D.host.split(":")[0],D.port=D.host.split(":")[1],D.port&&(D.port=parseInt(D.port,10)),D;D.host=m.substring(C,g),D.hostname=D.host.split(":")[0],D.port=D.host.split(":")[1],D.port&&(D.port=parseInt(D.port,10)),C=g}else D.host=m.substring(C,g),D.hostname=D.host.split(":")[0],D.port=D.host.split(":")[1],D.port&&(D.port=parseInt(D.port,10)),C=g;if(-1===(g=m.indexOf("#",C))?D.path=m.substring(C):(D.path=m.substring(C,g),D.hash=m.substring(g)),D.path){var h=D.path.split("?");D.pathname=h[0],D.query=h[1],D.search=D.query?"?"+D.query:null}return D}}},965:r=>{"use strict";function m(g,C,D){if(C.hasOwnProperty&&C.hasOwnProperty("addEventListener")){for(var h=C.addEventListener;h._rollbarOldAdd&&h.belongsToShim;)h=h._rollbarOldAdd;var U=function(z,B,A){h.call(this,z,g.wrap(B),A)};U._rollbarOldAdd=h,U.belongsToShim=D,C.addEventListener=U;for(var F=C.removeEventListener;F._rollbarOldRemove&&F.belongsToShim;)F=F._rollbarOldRemove;var k=function(z,B,A){F.call(this,z,B&&B._rollbar_wrapped||B,A)};k._rollbarOldRemove=F,k.belongsToShim=D,C.removeEventListener=k}}r.exports=function(g,C,D){if(g){var h,U,F="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(h=0;h<F.length;++h)g[U=F[h]]&&g[U].prototype&&m(C,g[U].prototype,D)}}},948:r=>{"use strict";r.exports={version:"2.26.4",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},303:(r,m,g)=>{"use strict";var C=g(180),D=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function U(k){var z={};return z._stackFrame=k,z.url=k.fileName,z.line=k.lineNumber,z.func=k.functionName,z.column=k.columnNumber,z.args=k.args,z.context=null,z}function F(k,z){return{stack:function(){var b=[];z=z||0;try{b=C.parse(k)}catch{b=[]}for(var J=[],ce=z;ce<b.length;ce++)J.push(new U(b[ce]));return J}(),message:k.message,name:(B=k,A=B.name&&B.name.length&&B.name,T=B.constructor.name&&B.constructor.name.length&&B.constructor.name,A&&T?"Error"===A?T:A:A||T),rawStack:k.stack,rawException:k};var B,A,T}r.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(k){if(!k||!k.match)return["Unknown error. There was no error message to display.",""];var z=k.match(D),B="(unknown)";return z&&(k=(k=k.replace((z[z.length-2]||"")+(B=z[z.length-1])+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[B,k]},gatherContext:function h(){return null},parse:function(k,z){var B=k;if(B.nested||B.cause){for(var A=[];B;)A.push(new F(B,z)),B=B.nested||B.cause,z=0;return A[0].traceChain=A,A[0]}return new F(B,z)},Stack:F,Frame:U}},420:r=>{"use strict";var m=Object.prototype.hasOwnProperty,g=Object.prototype.toString,C=function(D){if(!D||"[object Object]"!==g.call(D))return!1;var h,U=m.call(D,"constructor"),F=D.constructor&&D.constructor.prototype&&m.call(D.constructor.prototype,"isPrototypeOf");if(D.constructor&&!U&&!F)return!1;for(h in D);return void 0===h||m.call(D,h)};r.exports=function D(){var h,U,F,k,z,B={},A=null,T=arguments.length;for(h=0;h<T;h++)if(null!=(A=arguments[h]))for(z in A)U=B[z],B!==(F=A[z])&&(F&&C(F)?(k=U&&C(U)?U:{},B[z]=D(k,F)):void 0!==F&&(B[z]=F));return B}},314:(r,m,g)=>{"use strict";var C=g(702);function D(h,U){this.queue=h,this.options=U,this.transforms=[],this.diagnostic={}}D.prototype.configure=function(h){return this.queue&&this.queue.configure(h),this.options=C.merge(this.options,h),this},D.prototype.addTransform=function(h){return C.isFunction(h)&&this.transforms.push(h),this},D.prototype.log=function(h,U){if(U&&C.isFunction(U)||(U=function(){}),!this.options.enabled)return U(new Error("Rollbar is not enabled"));this.queue.addPendingItem(h);var F=h.err;this._applyTransforms(h,function(k,z){if(k)return this.queue.removePendingItem(h),U(k,null);this.queue.addItem(z,U,F,h)}.bind(this))},D.prototype._applyTransforms=function(h,U){var F=-1,k=this.transforms.length,z=this.transforms,B=this.options,A=function(T,b){T?U(T,null):++F!==k?z[F](b,B,A):U(null,b)};A(null,h)},r.exports=D},61:(r,m,g)=>{"use strict";var C=g(702);function D(U,F,k){if(!U)return!k;var z,A=U.frames;if(!A||0===A.length)return!k;for(var T=F.length,b=A.length,J=0;J<b;J++){if(!C.isType(z=A[J].filename,"string"))return!k;for(var ce=0;ce<T;ce++)if(new RegExp(F[ce]).test(z))return!0}return!1}function h(U,F,k,z){var B,A,T=!1;"blocklist"===k&&(T=!0);try{if(B=T?F.hostBlockList:F.hostSafeList,A=C.get(U,"body.trace_chain")||[C.get(U,"body.trace")],!B||0===B.length||0===A.length||!A[0])return!T;for(var b=A.length,J=0;J<b;J++)if(D(A[J],B,T))return!0}catch(W){T?F.hostBlockList=null:F.hostSafeList=null;var ce=T?"hostBlockList":"hostSafeList";return z.error("Error while reading your configuration's "+ce+" option. Removing custom "+ce+".",W),!T}return!1}r.exports={checkLevel:function(U,F){return!((C.LEVELS[U.level]||0)<(C.LEVELS[F.reportLevel]||0))},userCheckIgnore:function(U){return function(F,k){var z=!!F._isUncaught;delete F._isUncaught;var B=F._originalArgs;delete F._originalArgs;try{C.isFunction(k.onSendCallback)&&k.onSendCallback(z,B,F)}catch(A){k.onSendCallback=null,U.error("Error while calling onSendCallback, removing",A)}try{if(C.isFunction(k.checkIgnore)&&k.checkIgnore(z,B,F))return!1}catch(A){k.checkIgnore=null,U.error("Error while calling custom checkIgnore(), removing",A)}return!0}},urlIsNotBlockListed:function(U){return function(F,k){return!h(F,k,"blocklist",U)}},urlIsSafeListed:function(U){return function(F,k){return h(F,k,"safelist",U)}},messageIsIgnored:function(U){return function(F,k){var z,B,A,T,b,J;try{if(!(A=k.ignoredMessages)||0===A.length||0===(J=function(ce){var W=ce.body,se=[];if(W.trace_chain)for(var Q=W.trace_chain,Ie=0;Ie<Q.length;Ie++)se.push(C.get(Q[Ie],"exception.message"));return W.trace&&se.push(C.get(W,"trace.exception.message")),W.message&&se.push(C.get(W,"message.body")),se}(F)).length)return!0;for(T=A.length,z=0;z<T;z++)for(b=new RegExp(A[z],"gi"),B=0;B<J.length;B++)if(b.test(J[B]))return!1}catch{k.ignoredMessages=null,U.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},358:(r,m,g)=>{"use strict";var C=g(702);function D(U,F,k,z){this.rateLimiter=U,this.api=F,this.logger=k,this.options=z,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}D.prototype.configure=function(U){return this.api&&this.api.configure(U),this.options=C.merge(this.options,U),this},D.prototype.addPredicate=function(U){return C.isFunction(U)&&this.predicates.push(U),this},D.prototype.addPendingItem=function(U){this.pendingItems.push(U)},D.prototype.removePendingItem=function(U){var F=this.pendingItems.indexOf(U);-1!==F&&this.pendingItems.splice(F,1)},D.prototype.addItem=function(U,F,k,z){F&&C.isFunction(F)||(F=function(){});var B=this._applyPredicates(U);if(B.stop)return this.removePendingItem(z),void F(B.err);if(this._maybeLog(U,k),this.removePendingItem(z),this.options.transmit){this.pendingRequests.push(U);try{this._makeApiRequest(U,function(A,T){this._dequeuePendingRequest(U),F(A,T)}.bind(this))}catch(A){this._dequeuePendingRequest(U),F(A)}}else F(new Error("Transmit disabled"))},D.prototype.wait=function(U){C.isFunction(U)&&(this.waitCallback=U,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},D.prototype._applyPredicates=function(U){for(var F=null,k=0,z=this.predicates.length;k<z;k++)if(!(F=this.predicates[k](U,this.options))||void 0!==F.err)return{stop:!0,err:F.err};return{stop:!1,err:null}},D.prototype._makeApiRequest=function(U,F){var k=this.rateLimiter.shouldSend(U);k.shouldSend?this.api.postItem(U,function(z,B){z?this._maybeRetry(z,U,F):F(z,B)}.bind(this)):k.error?F(k.error):this.api.postItem(k.payload,F)};var h=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];D.prototype._maybeRetry=function(U,F,k){var z=!1;if(this.options.retryInterval){for(var B=0,A=h.length;B<A;B++)if(U.code===h[B]){z=!0;break}z&&C.isFiniteNumber(this.options.maxRetries)&&(F.retries=F.retries?F.retries+1:1,F.retries>this.options.maxRetries&&(z=!1))}z?this._retryApiRequest(F,k):k(U)},D.prototype._retryApiRequest=function(U,F){this.retryQueue.push({item:U,callback:F}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var k=this.retryQueue.shift();this._makeApiRequest(k.item,k.callback)}}.bind(this),this.options.retryInterval))},D.prototype._dequeuePendingRequest=function(U){var F=this.pendingRequests.indexOf(U);-1!==F&&(this.pendingRequests.splice(F,1),this._maybeCallWait())},D.prototype._maybeLog=function(U,F){if(this.logger&&this.options.verbose){var k=F;if(k=(k=k||C.get(U,"body.trace.exception.message"))||C.get(U,"body.trace_chain.0.exception.message"))return void this.logger.error(k);(k=C.get(U,"body.message.body"))&&this.logger.log(k)}},D.prototype._maybeCallWait=function(){return!(!C.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},r.exports=D},790:(r,m,g)=>{"use strict";var C=g(702);function D(F){this.startTime=C.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(F)}function h(F,k,z){return!F.ignoreRateLimit&&k>=1&&z>k}function U(F,k,z,B,A,T,b){var ce,W,Me,J=null;return z&&(z=new Error(z)),z||B||(Me={body:{message:{body:b?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:A,itemsPerMinute:T}}},language:"javascript",environment:(W=k).environment||W.payload&&W.payload.environment,notifier:{version:W.notifier&&W.notifier.version||W.version}},"browser"===(ce=F)?(Me.platform="browser",Me.framework="browser-js",Me.notifier.name="rollbar-browser-js"):"server"===ce?(Me.framework=W.framework||"node-js",Me.notifier.name=W.notifier.name):"react-native"===ce&&(Me.framework=W.framework||"react-native",Me.notifier.name=W.notifier.name),J=Me),{error:z,shouldSend:B,payload:J}}D.globalSettings={startTime:C.now(),maxItems:void 0,itemsPerMinute:void 0},D.prototype.configureGlobal=function(F){void 0!==F.startTime&&(D.globalSettings.startTime=F.startTime),void 0!==F.maxItems&&(D.globalSettings.maxItems=F.maxItems),void 0!==F.itemsPerMinute&&(D.globalSettings.itemsPerMinute=F.itemsPerMinute)},D.prototype.shouldSend=function(F,k){var z=(k=k||C.now())-this.startTime;(z<0||z>=6e4)&&(this.startTime=k,this.perMinCounter=0);var B=D.globalSettings.maxItems,A=D.globalSettings.itemsPerMinute;if(h(F,B,this.counter))return U(this.platform,this.platformOptions,B+" max items reached",!1);if(h(F,A,this.perMinCounter))return U(this.platform,this.platformOptions,A+" items per minute reached",!1);this.counter++,this.perMinCounter++;var T=!h(F,B,this.counter),b=T;return T=T&&!h(F,A,this.perMinCounter),U(this.platform,this.platformOptions,null,T,B,A,b)},D.prototype.setPlatformOptions=function(F,k){this.platform=F,this.platformOptions=k},r.exports=D},562:(r,m,g)=>{"use strict";var C=g(790),D=g(358),h=g(314),U=g(702);function F(B,A,T,b,J){this.options=U.merge(B),this.logger=T,F.rateLimiter.configureGlobal(this.options),F.rateLimiter.setPlatformOptions(J,this.options),this.api=A,this.queue=new D(F.rateLimiter,A,T,this.options);var ce=this.options.tracer||null;z(ce)?(this.tracer=ce,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new h(this.queue,this.options),this.telemeter=b,k(B),this.lastError=null,this.lastErrorHash="none"}function k(B){B.stackTraceLimit&&(Error.stackTraceLimit=B.stackTraceLimit)}function z(B){if(!B||!B.scope||"function"!=typeof B.scope)return!1;var A=B.scope();return!(!A||!A.active||"function"!=typeof A.active)}F.rateLimiter=new C({maxItems:0,itemsPerMinute:60}),F.prototype.global=function(B){return F.rateLimiter.configureGlobal(B),this},F.prototype.configure=function(B,A){var b={};A&&(b={payload:A}),this.options=U.merge(this.options,B,b);var J=this.options.tracer||null;return z(J)?(this.tracer=J,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),k(B),this.global(this.options),z(B.tracer)&&(this.tracer=B.tracer),this},F.prototype.log=function(B){var A=this._defaultLogLevel();return this._log(A,B)},F.prototype.debug=function(B){this._log("debug",B)},F.prototype.info=function(B){this._log("info",B)},F.prototype.warn=function(B){this._log("warning",B)},F.prototype.warning=function(B){this._log("warning",B)},F.prototype.error=function(B){this._log("error",B)},F.prototype.critical=function(B){this._log("critical",B)},F.prototype.wait=function(B){this.queue.wait(B)},F.prototype.captureEvent=function(B,A,T){return this.telemeter&&this.telemeter.captureEvent(B,A,T)},F.prototype.captureDomContentLoaded=function(B){return this.telemeter&&this.telemeter.captureDomContentLoaded(B)},F.prototype.captureLoad=function(B){return this.telemeter&&this.telemeter.captureLoad(B)},F.prototype.buildJsonPayload=function(B){return this.api.buildJsonPayload(B)},F.prototype.sendJsonPayload=function(B){this.api.postJsonPayload(B)},F.prototype._log=function(B,A){var T;if(A.callback&&(T=A.callback,delete A.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(A)){if(T){var b=new Error("ignored identical item");b.item=A,T(b)}}else try{this._addTracingInfo(A),A.level=A.level||B,this.telemeter&&this.telemeter._captureRollbarItem(A),A.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(A,T)}catch(J){T&&T(J),this.logger.error(J)}},F.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},F.prototype._sameAsLastError=function(B){if(!B._isUncaught)return!1;var T,A=((T=B).message||"")+"::"+((T.err||{}).stack||String(T.err));return this.lastErrorHash===A||(this.lastError=B.err,this.lastErrorHash=A,!1)},F.prototype._addTracingInfo=function(B){if(this.tracer){var A=this.tracer.scope().active();if(function(J){if(!J||!J.context||"function"!=typeof J.context)return!1;var ce=J.context();return!!(ce&&ce.toSpanId&&ce.toTraceId&&"function"==typeof ce.toSpanId&&"function"==typeof ce.toTraceId)}(A)){A.setTag("rollbar.error_uuid",B.uuid),A.setTag("rollbar.has_error",!0),A.setTag("error",!0),A.setTag("rollbar.item_url",`https://rollbar.com/item/uuid/?uuid=${B.uuid}`),A.setTag("rollbar.occurrence_url",`https://rollbar.com/occurrence/uuid/?uuid=${B.uuid}`);var T=A.context().toSpanId(),b=A.context().toTraceId();B.custom?(B.custom.opentracing_span_id=T,B.custom.opentracing_trace_id=b):B.custom={opentracing_span_id:T,opentracing_trace_id:b}}}},r.exports=F},369:(r,m,g)=>{"use strict";var C=g(702),D=g(267);function h(U,F){var k=F.split("."),z=k.length-1;try{for(var B=0;B<=z;++B)B<z?U=U[k[B]]:U[k[B]]=C.redact()}catch{}}r.exports=function(U,F,k){if(F=F||[],k)for(var z=0;z<k.length;++z)h(U,k[z]);var B=function(b){for(var ce=[],W=0;W<b.length;++W)ce.push(new RegExp("^\\[?(%5[bB])?"+b[W]+"\\[?(%5[bB])?\\]?(%5[dD])?$","i"));return ce}(F),A=function(b){for(var ce=[],W=0;W<b.length;++W)ce.push(new RegExp("(\\[?(%5[bB])?"+b[W]+"\\[?(%5[bB])?\\]?(%5[dD])?=)([^&\\n]+)","igm"));return ce}(F);function T(b,J){return J+C.redact()}return D(U,function b(J,ce,W){var se=function(Q,Ie){var ae;for(ae=0;ae<B.length;++ae)if(B[ae].test(Q)){Ie=C.redact();break}return Ie}(J,ce);return se===ce?C.isType(ce,"object")||C.isType(ce,"array")?D(ce,b,W):function(Q){var Ie;if(C.isType(Q,"string"))for(Ie=0;Ie<A.length;++Ie)Q=Q.replace(A[Ie],T);return Q}(se):se})}},773:(r,m,g)=>{"use strict";var C=g(702),D=100;function h(F){this.queue=[],this.options=C.merge(F),this.maxQueueSize=Math.max(0,Math.min(this.options.maxTelemetryEvents||D,D))}function U(F,k){return k||{error:"error",manual:"info"}[F]||"info"}h.prototype.configure=function(F){this.options=C.merge(this.options,F);var B=Math.max(0,Math.min(this.options.maxTelemetryEvents||D,D)),A=0;this.queue.length>B&&(A=this.queue.length-B),this.maxQueueSize=B,this.queue.splice(0,A)},h.prototype.copyEvents=function(){var F=Array.prototype.slice.call(this.queue,0);if(C.isFunction(this.options.filterTelemetry))try{for(var k=F.length;k--;)this.options.filterTelemetry(F[k])&&F.splice(k,1)}catch{this.options.filterTelemetry=null}return F},h.prototype.capture=function(F,k,z,B,A){var T={level:U(F,z),type:F,timestamp_ms:A||C.now(),body:k,source:"client"};B&&(T.uuid=B);try{if(C.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(T))return!1}catch{this.options.filterTelemetry=null}return this.push(T),T},h.prototype.captureEvent=function(F,k,z,B){return this.capture(F,k,z,B)},h.prototype.captureError=function(F,k,z,B){var A={message:F.message||String(F)};return F.stack&&(A.stack=F.stack),this.capture("error",A,k,z,B)},h.prototype.captureLog=function(F,k,z,B){return this.capture("log",{message:F},k,z,B)},h.prototype.captureNetwork=function(F,k,z,B){k=k||"xhr",F.subtype=F.subtype||k,B&&(F.request=B);var A=this.levelFromStatus(F.status_code);return this.capture("network",F,A,z)},h.prototype.levelFromStatus=function(F){return F>=200&&F<400?"info":0===F||F>=400?"error":"info"},h.prototype.captureDom=function(F,k,z,B,A){var T={subtype:F,element:k};return void 0!==z&&(T.value=z),void 0!==B&&(T.checked=B),this.capture("dom",T,"info",A)},h.prototype.captureNavigation=function(F,k,z){return this.capture("navigation",{from:F,to:k},"info",z)},h.prototype.captureDomContentLoaded=function(F){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,F&&F.getTime())},h.prototype.captureLoad=function(F){return this.capture("navigation",{subtype:"load"},"info",void 0,F&&F.getTime())},h.prototype.captureConnectivityChange=function(F,k){return this.captureNetwork({change:F},"connectivity",k)},h.prototype._captureRollbarItem=function(F){if(this.options.includeItemsInTelemetry)return F.err?this.captureError(F.err,F.level,F.uuid,F.timestamp):F.message?this.captureLog(F.message,F.level,F.uuid,F.timestamp):F.custom?this.capture("log",F.custom,F.level,F.uuid,F.timestamp):void 0},h.prototype.push=function(F){this.queue.push(F),this.queue.length>this.maxQueueSize&&this.queue.shift()},r.exports=h},417:(r,m,g)=>{"use strict";var C=g(702);function D(h,U){C.isFunction(h[U])&&(h[U]=h[U].toString())}r.exports={itemToPayload:function(h,U,F){var k=h.data;h._isUncaught&&(k._isUncaught=!0),h._originalArgs&&(k._originalArgs=h._originalArgs),F(null,k)},addPayloadOptions:function(h,U,F){var k=U.payload||{};k.body&&delete k.body,h.data=C.merge(h.data,k),F(null,h)},addTelemetryData:function(h,U,F){h.telemetryEvents&&C.set(h,"data.body.telemetry",h.telemetryEvents),F(null,h)},addMessageWithError:function(h,U,F){if(h.message){var k="data.body.trace_chain.0",z=C.get(h,k);if(z||(z=C.get(h,k="data.body.trace")),z){if(!z.exception||!z.exception.description)return C.set(h,k+".exception.description",h.message),void F(null,h);var B=C.get(h,k+".extra")||{},A=C.merge(B,{message:h.message});C.set(h,k+".extra",A)}F(null,h)}else F(null,h)},userTransform:function(h){return function(U,F,k){var z=C.merge(U),B=null;try{C.isFunction(F.transform)&&(B=F.transform(z.data,U))}catch(A){return F.transform=null,h.error("Error while calling custom transform() function. Removing custom transform().",A),void k(null,U)}C.isPromise(B)?B.then(function(A){A&&(z.data=A),k(null,z)},function(A){k(A,U)}):k(null,z)}},addConfigToPayload:function(h,U,F){if(!U.sendConfig)return F(null,h);var k=C.get(h,"data.custom")||{};k._rollbarConfig=U,h.data.custom=k,F(null,h)},addConfiguredOptions:function(h,U,F){var k=U._configuredOptions;D(k,"transform"),D(k,"checkIgnore"),D(k,"onSendCallback"),delete k.accessToken,h.data.notifier.configured_options=k,F(null,h)},addDiagnosticKeys:function(h,U,F){var k=C.merge(h.notifier.client.notifier.diagnostic,h.diagnostic);if(C.get(h,"err._isAnonymous")&&(k.is_anonymous=!0),h._isUncaught&&(k.is_uncaught=h._isUncaught),h.err)try{k.raw_error={message:h.err.message,name:h.err.name,constructor_name:h.err.constructor&&h.err.constructor.name,filename:h.err.fileName,line:h.err.lineNumber,column:h.err.columnNumber,stack:h.err.stack}}catch(z){k.raw_error={failed:String(z)}}h.data.notifier.diagnostic=C.merge(h.data.notifier.diagnostic,k),F(null,h)}}},473:(r,m,g)=>{"use strict";var C=g(702),D=g(267);function h(b,J){return[b,C.stringify(b,J)]}function U(b,J){var ce=b.length;return ce>2*J?b.slice(0,J).concat(b.slice(ce-J)):b}function F(b,J,ce){ce=void 0===ce?30:ce;var W,se=b.data.body;if(se.trace_chain)for(var Q=se.trace_chain,Ie=0;Ie<Q.length;Ie++)W=U(W=Q[Ie].frames,ce),Q[Ie].frames=W;else se.trace&&(W=U(W=se.trace.frames,ce),se.trace.frames=W);return[b,C.stringify(b,J)]}function k(b,J){return J&&J.length>b?J.slice(0,b-3).concat("..."):J}function z(b,J,ce){return[J=D(J,function W(se,Q,Ie){switch(C.typeName(Q)){case"string":return k(b,Q);case"object":case"array":return D(Q,W,Ie);default:return Q}}),C.stringify(J,ce)]}function B(b){return b.exception&&(delete b.exception.description,b.exception.message=k(255,b.exception.message)),b.frames=U(b.frames,1),b}function A(b,J){var ce=b.data.body;if(ce.trace_chain)for(var W=ce.trace_chain,se=0;se<W.length;se++)W[se]=B(W[se]);else ce.trace&&(ce.trace=B(ce.trace));return[b,C.stringify(b,J)]}function T(b,J){return C.maxByteSize(b)>J}r.exports={truncate:function(b,J,ce){ce=void 0===ce?524288:ce;for(var W,se,Q,Ie=[h,F,z.bind(null,1024),z.bind(null,512),z.bind(null,256),A];W=Ie.shift();)if(b=(se=W(b,J))[0],(Q=se[1]).error||!T(Q.value,ce))return Q;return Q},raw:h,truncateFrames:F,truncateStrings:z,maybeTruncateValue:k}},702:(r,m,g)=>{"use strict";var C=g(420),D={};function h(Ie,ae){return ae===U(Ie)}function U(Ie){var ae=typeof Ie;return"object"!==ae?ae:Ie?Ie instanceof Error?"error":{}.toString.call(Ie).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function F(Ie){return h(Ie,"function")}function k(Ie){var ae=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),Me=RegExp("^"+ae+"$");return z(Ie)&&Me.test(Ie)}function z(Ie){var ae=typeof Ie;return null!=Ie&&("object"==ae||"function"==ae)}function B(){var Ie=Q();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ae){var Me=(Ie+16*Math.random())%16|0;return Ie=Math.floor(Ie/16),("x"===ae?Me:7&Me|8).toString(16)})}var A={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function T(Ie,ae){var Me,q;try{Me=D.stringify(Ie)}catch($){if(ae&&F(ae))try{Me=ae(Ie)}catch(ge){q=ge}else q=$}return{error:q,value:Me}}function b(Ie,ae){return function(Me,q){try{ae(Me,q)}catch($){Ie.error($)}}}function J(Ie){return function ae(Me,q){var $,ge,K,Ne={};try{for(ge in Me)($=Me[ge])&&(h($,"object")||h($,"array"))?q.includes($)?Ne[ge]="Removed circular reference: "+U($):((K=q.slice()).push($),Ne[ge]=ae($,K)):Ne[ge]=$}catch(Ve){Ne="Failed cloning custom data: "+Ve.message}return Ne}(Ie,[Ie])}var ce=["log","network","dom","navigation","error","manual"],W=["critical","error","warning","info","debug"];function se(Ie,ae){for(var Me=0;Me<Ie.length;++Me)if(Ie[Me]===ae)return!0;return!1}function Q(){return Date.now?+Date.now():+new Date}r.exports={addParamsAndAccessTokenToPath:function(Ie,ae,Me){(Me=Me||{}).access_token=Ie;var q,$=[];for(q in Me)Object.prototype.hasOwnProperty.call(Me,q)&&$.push([q,Me[q]].join("="));var ge="?"+$.sort().join("&");(ae=ae||{}).path=ae.path||"";var K,Ne=ae.path.indexOf("?"),Ve=ae.path.indexOf("#");ae.path=-1!==Ne&&(-1===Ve||Ve>Ne)?(K=ae.path).substring(0,Ne)+ge+"&"+K.substring(Ne+1):-1!==Ve?(K=ae.path).substring(0,Ve)+ge+K.substring(Ve):ae.path+ge},createItem:function(Ie,ae,Me,q,$){for(var ge,K,Ne,Ve,Ge,gt,_t=[],zt=[],Rn=0,Oe=Ie.length;Rn<Oe;++Rn){var De=U(gt=Ie[Rn]);switch(zt.push(De),De){case"undefined":break;case"string":ge?_t.push(gt):ge=gt;break;case"function":Ve=b(ae,gt);break;case"date":_t.push(gt);break;case"error":case"domexception":case"exception":K?_t.push(gt):K=gt;break;case"object":case"array":if(gt instanceof Error||typeof DOMException<"u"&&gt instanceof DOMException){K?_t.push(gt):K=gt;break}if(q&&"object"===De&&!Ge){for(var He=0,We=q.length;He<We;++He)if(void 0!==gt[q[He]]){Ge=gt;break}if(Ge)break}Ne?_t.push(gt):Ne=gt;break;default:if(gt instanceof Error||typeof DOMException<"u"&&gt instanceof DOMException){K?_t.push(gt):K=gt;break}_t.push(gt)}}Ne&&(Ne=J(Ne)),_t.length>0&&(Ne||(Ne=J({})),Ne.extraArgs=J(_t));var ft,wt,st={message:ge,err:K,custom:Ne,timestamp:Q(),callback:Ve,notifier:Me,diagnostic:{},uuid:B()};return ft=st,(wt=Ne)&&void 0!==wt.level&&(ft.level=wt.level,delete wt.level),wt&&void 0!==wt.skipFrames&&(ft.skipFrames=wt.skipFrames,delete wt.skipFrames),q&&Ge&&(st.request=Ge),$&&(st.lambdaContext=$),st._originalArgs=Ie,st.diagnostic.original_arg_types=zt,st},addErrorContext:function(Ie,ae){var Me=Ie.data.custom||{},q=!1;try{for(var $=0;$<ae.length;++$)ae[$].hasOwnProperty("rollbarContext")&&(Me=C(Me,J(ae[$].rollbarContext)),q=!0);q&&(Ie.data.custom=Me)}catch(ge){Ie.diagnostic.error_context="Failed: "+ge.message}},createTelemetryEvent:function(Ie){for(var ae,Me,q,$,ge=0,K=Ie.length;ge<K;++ge)switch(U($=Ie[ge])){case"string":!ae&&se(ce,$)?ae=$:!q&&se(W,$)&&(q=$);break;case"object":Me=$}return{type:ae||"manual",metadata:Me||{},level:q}},filterIp:function(Ie,ae){if(Ie&&Ie.user_ip&&!0!==ae){var Me=Ie.user_ip;if(ae)try{var q;if(-1!==Me.indexOf("."))(q=Me.split(".")).pop(),q.push("0"),Me=q.join(".");else if(-1!==Me.indexOf(":")){if((q=Me.split(":")).length>2){var $=q.slice(0,3),ge=$[2].indexOf("/");-1!==ge&&($[2]=$[2].substring(0,ge)),Me=$.concat("0000:0000:0000:0000:0000").join(":")}}else Me=null}catch{Me=null}else Me=null;Ie.user_ip=Me}},formatArgsAsString:function(Ie){var ae,Me,q,$=[];for(ae=0,Me=Ie.length;ae<Me;++ae){switch(U(q=Ie[ae])){case"object":(q=(q=T(q)).error||q.value).length>500&&(q=q.substr(0,497)+"...");break;case"null":q="null";break;case"undefined":q="undefined";break;case"symbol":q=q.toString()}$.push(q)}return $.join(" ")},formatUrl:function(Ie,ae){if(!(ae=ae||Ie.protocol)&&Ie.port&&(80===Ie.port?ae="http:":443===Ie.port&&(ae="https:")),!Ie.hostname)return null;var Me=(ae=ae||"https:")+"//"+Ie.hostname;return Ie.port&&(Me=Me+":"+Ie.port),Ie.path&&(Me+=Ie.path),Me},get:function(Ie,ae){if(Ie){var Me=ae.split("."),q=Ie;try{for(var $=0,ge=Me.length;$<ge;++$)q=q[Me[$]]}catch{q=void 0}return q}},handleOptions:function(Ie,ae,Me,q){var ge,K,$=C(Ie,ae,Me);return K=q,(ge=$).hostWhiteList&&!ge.hostSafeList&&(ge.hostSafeList=ge.hostWhiteList,ge.hostWhiteList=void 0,K&&K.log("hostWhiteList is deprecated. Use hostSafeList.")),ge.hostBlackList&&!ge.hostBlockList&&(ge.hostBlockList=ge.hostBlackList,ge.hostBlackList=void 0,K&&K.log("hostBlackList is deprecated. Use hostBlockList.")),$=ge,!ae||ae.overwriteScrubFields||ae.scrubFields&&($.scrubFields=(Ie.scrubFields||[]).concat(ae.scrubFields)),$},isError:function(Ie){return h(Ie,"error")||h(Ie,"exception")},isFiniteNumber:function(Ie){return Number.isFinite(Ie)},isFunction:F,isIterable:function(Ie){var ae=U(Ie);return"object"===ae||"array"===ae},isNativeFunction:k,isObject:z,isString:function(Ie){return"string"==typeof Ie||Ie instanceof String},isType:h,isPromise:function(Ie){return z(Ie)&&h(Ie.then,"function")},jsonParse:function(Ie){var ae,Me;try{ae=D.parse(Ie)}catch(q){Me=q}return{error:Me,value:ae}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(Ie,ae,Me,q,$,ge,K,Ne){var Ve={url:ae||"",line:Me,column:q};Ve.func=Ne.guessFunctionName(Ve.url,Ve.line),Ve.context=Ne.gatherContext(Ve.url,Ve.line);var Ge=typeof document<"u"&&document&&document.location&&document.location.href,gt=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:ge,message:$?String($):Ie||K,url:Ge,stack:[Ve],useragent:gt}},merge:C,now:Q,redact:function(){return"********"},RollbarJSON:D,sanitizeUrl:function(Ie){var ae=function(Me){if(h(Me,"string")){for(var q=A,$=q.parser[q.strictMode?"strict":"loose"].exec(Me),ge={},K=0,Ne=q.key.length;K<Ne;++K)ge[q.key[K]]=$[K]||"";return ge[q.q.name]={},ge[q.key[12]].replace(q.q.parser,function(Ve,Ge,gt){Ge&&(ge[q.q.name][Ge]=gt)}),ge}}(Ie);return ae?(""===ae.anchor&&(ae.source=ae.source.replace("#","")),Ie=ae.source.replace("?"+ae.query,"")):"(unknown)"},set:function(Ie,ae,Me){if(Ie){var q=ae.split("."),$=q.length;if(!($<1))if(1!==$)try{for(var ge=Ie[q[0]]||{},K=ge,Ne=1;Ne<$-1;++Ne)ge[q[Ne]]=ge[q[Ne]]||{},ge=ge[q[Ne]];ge[q[$-1]]=Me,Ie[q[0]]=K}catch{return}else Ie[q[0]]=Me}},setupJSON:function(Ie){F(D.stringify)&&F(D.parse)||(h(JSON,"undefined")||(Ie?(k(JSON.stringify)&&(D.stringify=JSON.stringify),k(JSON.parse)&&(D.parse=JSON.parse)):(F(JSON.stringify)&&(D.stringify=JSON.stringify),F(JSON.parse)&&(D.parse=JSON.parse))),F(D.stringify)&&F(D.parse)||Ie&&Ie(D))},stringify:T,maxByteSize:function(Ie){for(var ae=0,Me=Ie.length,q=0;q<Me;q++){var $=Ie.charCodeAt(q);$<128?ae+=1:$<2048?ae+=2:$<65536&&(ae+=3)}return ae},typeName:U,uuid4:B}},650:r=>{"use strict";function m(C){return"string"!=typeof C&&(C=String(C)),C.toLowerCase()}function g(C){this.map={},C instanceof g?C.forEach(function(D,h){this.append(h,D)},this):Array.isArray(C)?C.forEach(function(D){this.append(D[0],D[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(D){this.append(D,C[D])},this)}g.prototype.append=function(C,D){var U;C=m(C),"string"!=typeof(U=D)&&(U=String(U)),D=U;var h=this.map[C];this.map[C]=h?h+", "+D:D},g.prototype.get=function(C){return C=m(C),this.has(C)?this.map[C]:null},g.prototype.has=function(C){return this.map.hasOwnProperty(m(C))},g.prototype.forEach=function(C,D){for(var h in this.map)this.map.hasOwnProperty(h)&&C.call(D,this.map[h],h,this)},g.prototype.entries=function(){var C=[];return this.forEach(function(D,h){C.push([h,D])}),function(D){return{next:function(){var h=D.shift();return{done:void 0===h,value:h}}}}(C)},r.exports=function(C){return typeof Headers>"u"?new g(C):new Headers(C)}},876:(r,m,g)=>{"use strict";var C=g(708);r.exports=C},297:r=>{"use strict";r.exports=function(m,g,C,D,h){var U=m[g];m[g]=C(U),D&&D[h].push([m,g,U])}},267:(r,m,g)=>{"use strict";var C=g(702);r.exports=function(D,h,U){var F,k,z,B,A=C.isType(D,"object"),T=C.isType(D,"array"),b=[];if(U=U||{obj:[],mapped:[]},A){if(B=U.obj.indexOf(D),A&&-1!==B)return U.mapped[B]||U.obj[B];U.obj.push(D),B=U.obj.length-1}if(A)for(F in D)Object.prototype.hasOwnProperty.call(D,F)&&b.push(F);else if(T)for(z=0;z<D.length;++z)b.push(z);var J=A?{}:[],ce=!0;for(z=0;z<b.length;++z)k=D[F=b[z]],J[F]=h(F,k,U),ce=ce&&J[F]===D[F];return A&&!ce&&(U.mapped[B]=J),ce?D:J}},708:r=>{r.exports=function(m){var g,C,D,h,U,F,k,z,B,A,T,b,J,ce=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function W(ae){return ae<10?"0"+ae:ae}function se(){return this.valueOf()}function Q(ae){return ce.lastIndex=0,ce.test(ae)?'"'+ae.replace(ce,function(Me){var q=D[Me];return"string"==typeof q?q:"\\u"+("0000"+Me.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+ae+'"'}function Ie(ae,Me){var q,$,ge,K,Ne,Ve=g,Ge=Me[ae];switch(Ge&&"object"==typeof Ge&&"function"==typeof Ge.toJSON&&(Ge=Ge.toJSON(ae)),"function"==typeof h&&(Ge=h.call(Me,ae,Ge)),typeof Ge){case"string":return Q(Ge);case"number":return isFinite(Ge)?String(Ge):"null";case"boolean":case"null":return String(Ge);case"object":if(!Ge)return"null";if(g+=C,Ne=[],"[object Array]"===Object.prototype.toString.apply(Ge)){for(K=Ge.length,q=0;q<K;q+=1)Ne[q]=Ie(q,Ge)||"null";return ge=0===Ne.length?"[]":g?"[\n"+g+Ne.join(",\n"+g)+"\n"+Ve+"]":"["+Ne.join(",")+"]",g=Ve,ge}if(h&&"object"==typeof h)for(K=h.length,q=0;q<K;q+=1)"string"==typeof h[q]&&(ge=Ie($=h[q],Ge))&&Ne.push(Q($)+(g?": ":":")+ge);else for($ in Ge)Object.prototype.hasOwnProperty.call(Ge,$)&&(ge=Ie($,Ge))&&Ne.push(Q($)+(g?": ":":")+ge);return ge=0===Ne.length?"{}":g?"{\n"+g+Ne.join(",\n"+g)+"\n"+Ve+"}":"{"+Ne.join(",")+"}",g=Ve,ge}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+W(this.getUTCMonth()+1)+"-"+W(this.getUTCDate())+"T"+W(this.getUTCHours())+":"+W(this.getUTCMinutes())+":"+W(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=se,Number.prototype.toJSON=se,String.prototype.toJSON=se),"function"!=typeof m.stringify&&(D={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m.stringify=function(ae,Me,q){var $;if(g="",C="","number"==typeof q)for($=0;$<q;$+=1)C+=" ";else"string"==typeof q&&(C=q);if(h=Me,Me&&"function"!=typeof Me&&("object"!=typeof Me||"number"!=typeof Me.length))throw new Error("JSON.stringify");return Ie("",{"":ae})}),"function"!=typeof m.parse&&(m.parse=(A={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},T={go:function(){U="ok"},firstokey:function(){z=B,U="colon"},okey:function(){z=B,U="colon"},ovalue:function(){U="ocomma"},firstavalue:function(){U="acomma"},avalue:function(){U="acomma"}},b={go:function(){U="ok"},ovalue:function(){U="ocomma"},firstavalue:function(){U="acomma"},avalue:function(){U="acomma"}},J={"{":{go:function(){F.push({state:"ok"}),k={},U="firstokey"},ovalue:function(){F.push({container:k,state:"ocomma",key:z}),k={},U="firstokey"},firstavalue:function(){F.push({container:k,state:"acomma"}),k={},U="firstokey"},avalue:function(){F.push({container:k,state:"acomma"}),k={},U="firstokey"}},"}":{firstokey:function(){var ae=F.pop();B=k,k=ae.container,z=ae.key,U=ae.state},ocomma:function(){var ae=F.pop();k[z]=B,B=k,k=ae.container,z=ae.key,U=ae.state}},"[":{go:function(){F.push({state:"ok"}),k=[],U="firstavalue"},ovalue:function(){F.push({container:k,state:"ocomma",key:z}),k=[],U="firstavalue"},firstavalue:function(){F.push({container:k,state:"acomma"}),k=[],U="firstavalue"},avalue:function(){F.push({container:k,state:"acomma"}),k=[],U="firstavalue"}},"]":{firstavalue:function(){var ae=F.pop();B=k,k=ae.container,z=ae.key,U=ae.state},acomma:function(){var ae=F.pop();k.push(B),B=k,k=ae.container,z=ae.key,U=ae.state}},":":{colon:function(){if(Object.hasOwnProperty.call(k,z))throw new SyntaxError("Duplicate key '"+z+'"');U="ovalue"}},",":{ocomma:function(){k[z]=B,U="okey"},acomma:function(){k.push(B),U="avalue"}},true:{go:function(){B=!0,U="ok"},ovalue:function(){B=!0,U="ocomma"},firstavalue:function(){B=!0,U="acomma"},avalue:function(){B=!0,U="acomma"}},false:{go:function(){B=!1,U="ok"},ovalue:function(){B=!1,U="ocomma"},firstavalue:function(){B=!1,U="acomma"},avalue:function(){B=!1,U="acomma"}},null:{go:function(){B=null,U="ok"},ovalue:function(){B=null,U="ocomma"},firstavalue:function(){B=null,U="acomma"},avalue:function(){B=null,U="acomma"}}},function(ae,Me){var q,ge=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;U="go",F=[];try{for(;q=ge.exec(ae);)q[1]?J[q[1]][U]():q[2]?(B=+q[2],b[U]()):(B=q[3].replace(/\\(?:u(.{4})|([^u]))/g,function(K,Ne,Ve){return Ne?String.fromCharCode(parseInt(Ne,16)):A[Ve]}),T[U]()),ae=ae.slice(q[0].length)}catch(K){U=K}if("ok"!==U||/[^\u0020\t\n\r]/.test(ae))throw U instanceof SyntaxError?U:new SyntaxError("JSON");return"function"==typeof Me?function K(Ne,Ve){var Ge,gt,_t=Ne[Ve];if(_t&&"object"==typeof _t)for(Ge in B)Object.prototype.hasOwnProperty.call(_t,Ge)&&(void 0!==(gt=K(_t,Ge))?_t[Ge]=gt:delete _t[Ge]);return Me.call(Ne,Ve,_t)}({"":B},""):B}))}}},w={},function r(m){var g=w[m];if(void 0!==g)return g.exports;var C=w[m]={exports:{}};return be[m].call(C.exports,C,C.exports,r),C.exports}(409);var be,w},bn.exports=w()},29160:(bn,be,w)=>{"use strict";w.d(be,{t:()=>m});var r=w(85052);class m extends r.B{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const D=super._subscribe(C);return!D.closed&&C.next(this._value),D}getValue(){const{hasError:C,thrownError:D,_value:h}=this;if(C)throw D;return this._throwIfClosed(),h}next(C){super.next(this._value=C)}}},2573:(bn,be,w)=>{"use strict";w.d(be,{c:()=>F});var r=w(36567),m=w(81027),g=w(76138),C=w(37479),D=w(8502),h=w(34403),U=w(32926);let F=(()=>{class A{constructor(b){b&&(this._subscribe=b)}lift(b){const J=new A;return J.source=this,J.operator=b,J}subscribe(b,J,ce){const W=function B(A){return A&&A instanceof r.vU||function z(A){return A&&(0,h.T)(A.next)&&(0,h.T)(A.error)&&(0,h.T)(A.complete)}(A)&&(0,m.Uv)(A)}(b)?b:new r.Ms(b,J,ce);return(0,U.Y)(()=>{const{operator:se,source:Q}=this;W.add(se?se.call(W,Q):Q?this._subscribe(W):this._trySubscribe(W))}),W}_trySubscribe(b){try{return this._subscribe(b)}catch(J){b.error(J)}}forEach(b,J){return new(J=k(J))((ce,W)=>{const se=new r.Ms({next:Q=>{try{b(Q)}catch(Ie){W(Ie),se.unsubscribe()}},error:W,complete:ce});this.subscribe(se)})}_subscribe(b){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe(b)}[g.s](){return this}pipe(...b){return(0,C.m)(b)(this)}toPromise(b){return new(b=k(b))((J,ce)=>{let W;this.subscribe(se=>W=se,se=>ce(se),()=>J(W))})}}return A.create=T=>new A(T),A})();function k(A){var T;return null!==(T=A??D.$.Promise)&&void 0!==T?T:Promise}},60391:(bn,be,w)=>{"use strict";w.d(be,{m:()=>g});var r=w(85052),m=w(59309);class g extends r.B{constructor(D=1/0,h=1/0,U=m.U){super(),this._bufferSize=D,this._windowTime=h,this._timestampProvider=U,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=h===1/0,this._bufferSize=Math.max(1,D),this._windowTime=Math.max(1,h)}next(D){const{isStopped:h,_buffer:U,_infiniteTimeWindow:F,_timestampProvider:k,_windowTime:z}=this;h||(U.push(D),!F&&U.push(k.now()+z)),this._trimBuffer(),super.next(D)}_subscribe(D){this._throwIfClosed(),this._trimBuffer();const h=this._innerSubscribe(D),{_infiniteTimeWindow:U,_buffer:F}=this,k=F.slice();for(let z=0;z<k.length&&!D.closed;z+=U?1:2)D.next(k[z]);return this._checkFinalizedStatuses(D),h}_trimBuffer(){const{_bufferSize:D,_timestampProvider:h,_buffer:U,_infiniteTimeWindow:F}=this,k=(F?1:2)*D;if(D<1/0&&k<U.length&&U.splice(0,U.length-k),!F){const z=h.now();let B=0;for(let A=1;A<U.length&&U[A]<=z;A+=2)B=A;B&&U.splice(0,B+1)}}}},85052:(bn,be,w)=>{"use strict";w.d(be,{B:()=>U});var r=w(2573),m=w(81027);const C=(0,w(87385).L)(k=>function(){k(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var D=w(67584),h=w(32926);let U=(()=>{class k extends r.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const A=new F(this,this);return A.operator=B,A}_throwIfClosed(){if(this.closed)throw new C}next(B){(0,h.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const A of this.currentObservers)A.next(B)}})}error(B){(0,h.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:A}=this;for(;A.length;)A.shift().error(B)}})}complete(){(0,h.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:A,isStopped:T,observers:b}=this;return A||T?m.Kn:(this.currentObservers=null,b.push(B),new m.yU(()=>{this.currentObservers=null,(0,D.o)(b,B)}))}_checkFinalizedStatuses(B){const{hasError:A,thrownError:T,isStopped:b}=this;A?B.error(T):b&&B.complete()}asObservable(){const B=new r.c;return B.source=this,B}}return k.create=(z,B)=>new F(z,B),k})();class F extends U{constructor(z,B){super(),this.destination=z,this.source=B}next(z){var B,A;null===(A=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===A||A.call(B,z)}error(z){var B,A;null===(A=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===A||A.call(B,z)}complete(){var z,B;null===(B=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===B||B.call(z)}_subscribe(z){var B,A;return null!==(A=null===(B=this.source)||void 0===B?void 0:B.subscribe(z))&&void 0!==A?A:m.Kn}}},36567:(bn,be,w)=>{"use strict";w.d(be,{Ms:()=>ce,vU:()=>A});var r=w(34403),m=w(81027),g=w(8502),C=w(46642),D=w(19827);const h=k("C",void 0,void 0);function k(ae,Me,q){return{kind:ae,value:Me,error:q}}var z=w(12386),B=w(32926);class A extends m.yU{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,m.Uv)(Me)&&Me.add(this)):this.destination=Ie}static create(Me,q,$){return new ce(Me,q,$)}next(Me){this.isStopped?Q(function F(ae){return k("N",ae,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Q(function U(ae){return k("E",void 0,ae)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Q(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function b(ae,Me){return T.call(ae,Me)}class J{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:q}=this;if(q.next)try{q.next(Me)}catch($){W($)}}error(Me){const{partialObserver:q}=this;if(q.error)try{q.error(Me)}catch($){W($)}else W(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(q){W(q)}}}class ce extends A{constructor(Me,q,$){let ge;if(super(),(0,r.T)(Me)||!Me)ge={next:Me??void 0,error:q??void 0,complete:$??void 0};else{let K;this&&g.$.useDeprecatedNextContext?(K=Object.create(Me),K.unsubscribe=()=>this.unsubscribe(),ge={next:Me.next&&b(Me.next,K),error:Me.error&&b(Me.error,K),complete:Me.complete&&b(Me.complete,K)}):ge=Me}this.destination=new J(ge)}}function W(ae){g.$.useDeprecatedSynchronousErrorHandling?(0,B.l)(ae):(0,C.m)(ae)}function Q(ae,Me){const{onStoppedNotification:q}=g.$;q&&z.f.setTimeout(()=>q(ae,Me))}const Ie={closed:!0,next:D.l,error:function se(ae){throw ae},complete:D.l}},81027:(bn,be,w)=>{"use strict";w.d(be,{Kn:()=>h,yU:()=>D,Uv:()=>U});var r=w(34403);const g=(0,w(87385).L)(k=>function(B){k(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((A,T)=>`${T+1}) ${A.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var C=w(67584);class D{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const b of B)b.remove(this);else B.remove(this);const{initialTeardown:A}=this;if((0,r.T)(A))try{A()}catch(b){z=b instanceof g?b.errors:[b]}const{_finalizers:T}=this;if(T){this._finalizers=null;for(const b of T)try{F(b)}catch(J){z=z??[],J instanceof g?z=[...z,...J.errors]:z.push(J)}}if(z)throw new g(z)}}add(z){var B;if(z&&z!==this)if(this.closed)F(z);else{if(z instanceof D){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(z)}}_hasParent(z){const{_parentage:B}=this;return B===z||Array.isArray(B)&&B.includes(z)}_addParent(z){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(z),B):B?[B,z]:z}_removeParent(z){const{_parentage:B}=this;B===z?this._parentage=null:Array.isArray(B)&&(0,C.o)(B,z)}remove(z){const{_finalizers:B}=this;B&&(0,C.o)(B,z),z instanceof D&&z._removeParent(this)}}D.EMPTY=(()=>{const k=new D;return k.closed=!0,k})();const h=D.EMPTY;function U(k){return k instanceof D||k&&"closed"in k&&(0,r.T)(k.remove)&&(0,r.T)(k.add)&&(0,r.T)(k.unsubscribe)}function F(k){(0,r.T)(k)?k():k.unsubscribe()}},8502:(bn,be,w)=>{"use strict";w.d(be,{$:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},40215:(bn,be,w)=>{"use strict";w.d(be,{_:()=>g});var r=w(50330),m=w(36567);function g(C,D){const h="object"==typeof D;return new Promise((U,F)=>{const k=new m.Ms({next:z=>{U(z),k.unsubscribe()},error:F,complete:()=>{h?U(D.defaultValue):F(new r.G)}});C.subscribe(k)})}},7221:(bn,be,w)=>{"use strict";w.d(be,{G:()=>h});var r=w(2573),m=w(81027),g=w(44710),C=w(66196),D=w(15210);class h extends r.c{constructor(F,k){super(),this.source=F,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,D.S)(F)&&(this.lift=F.lift)}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:F}=this;this._subject=this._connection=null,F?.unsubscribe()}connect(){let F=this._connection;if(!F){F=this._connection=new m.yU;const k=this.getSubject();F.add(this.source.subscribe((0,C._)(k,void 0,()=>{this._teardown(),k.complete()},z=>{this._teardown(),k.error(z)},()=>this._teardown()))),F.closed&&(this._connection=null,F=m.yU.EMPTY)}return F}refCount(){return(0,g.B)()(this)}}},82656:(bn,be,w)=>{"use strict";w.d(be,{z:()=>z});var r=w(2573),m=w(15437),g=w(21472),C=w(19577),D=w(7694),h=w(17106),U=w(25436),F=w(66196),k=w(82733);function z(...T){const b=(0,h.lI)(T),J=(0,h.ms)(T),{args:ce,keys:W}=(0,m.D)(T);if(0===ce.length)return(0,g.H)([],b);const se=new r.c(function B(T,b,J=C.D){return ce=>{A(b,()=>{const{length:W}=T,se=new Array(W);let Q=W,Ie=W;for(let ae=0;ae<W;ae++)A(b,()=>{const Me=(0,g.H)(T[ae],b);let q=!1;Me.subscribe((0,F._)(ce,$=>{se[ae]=$,q||(q=!0,Ie--),Ie||ce.next(J(se.slice()))},()=>{--Q||ce.complete()}))},ce)},ce)}}(ce,b,W?Q=>(0,U.e)(W,Q):C.D));return J?se.pipe((0,D.I)(J)):se}function A(T,b,J){T?(0,k.N)(J,T,b):b()}},35892:(bn,be,w)=>{"use strict";w.d(be,{x:()=>C});var r=w(26727),m=w(17106),g=w(21472);function C(...D){return(0,r.K)()((0,g.H)(D,(0,m.lI)(D)))}},45946:(bn,be,w)=>{"use strict";w.d(be,{v:()=>g});var r=w(2573),m=w(81954);function g(C){return new r.c(D=>{(0,m.Tg)(C()).subscribe(D)})}},2515:(bn,be,w)=>{"use strict";w.d(be,{I:()=>g,w:()=>m});var r=w(2573);const m=new r.c(D=>D.complete());function g(D){return D?function C(D){return new r.c(h=>D.schedule(()=>h.complete()))}(D):m}},46104:(bn,be,w)=>{"use strict";w.d(be,{p:()=>F});var r=w(2573),m=w(15437),g=w(81954),C=w(17106),D=w(66196),h=w(7694),U=w(25436);function F(...k){const z=(0,C.ms)(k),{args:B,keys:A}=(0,m.D)(k),T=new r.c(b=>{const{length:J}=B;if(!J)return void b.complete();const ce=new Array(J);let W=J,se=J;for(let Q=0;Q<J;Q++){let Ie=!1;(0,g.Tg)(B[Q]).subscribe((0,D._)(b,ae=>{Ie||(Ie=!0,se--),ce[Q]=ae},()=>W--,void 0,()=>{(!W||!Ie)&&(se||b.next(A?(0,U.e)(A,ce):ce),b.complete())}))}});return z?T.pipe((0,h.I)(z)):T}},21472:(bn,be,w)=>{"use strict";w.d(be,{H:()=>g});var r=w(7974),m=w(81954);function g(C,D){return D?(0,r.c)(C,D):(0,m.Tg)(C)}},35426:(bn,be,w)=>{"use strict";w.d(be,{R:()=>z});var r=w(81954),m=w(2573),g=w(11756),C=w(48629),D=w(34403),h=w(7694);const U=["addListener","removeListener"],F=["addEventListener","removeEventListener"],k=["on","off"];function z(J,ce,W,se){if((0,D.T)(W)&&(se=W,W=void 0),se)return z(J,ce,W).pipe((0,h.I)(se));const[Q,Ie]=function b(J){return(0,D.T)(J.addEventListener)&&(0,D.T)(J.removeEventListener)}(J)?F.map(ae=>Me=>J[ae](ce,Me,W)):function A(J){return(0,D.T)(J.addListener)&&(0,D.T)(J.removeListener)}(J)?U.map(B(J,ce)):function T(J){return(0,D.T)(J.on)&&(0,D.T)(J.off)}(J)?k.map(B(J,ce)):[];if(!Q&&(0,C.X)(J))return(0,g.Z)(ae=>z(ae,ce,W))((0,r.Tg)(J));if(!Q)throw new TypeError("Invalid event target");return new m.c(ae=>{const Me=(...q)=>ae.next(1<q.length?q:q[0]);return Q(Me),()=>Ie(Me)})}function B(J,ce){return W=>se=>J[W](ce,se)}},81954:(bn,be,w)=>{"use strict";w.d(be,{Tg:()=>T});var r=w(31635),m=w(48629),g=w(67854),C=w(2573),D=w(69531),h=w(97757),U=w(5835),F=w(34401),k=w(18432),z=w(34403),B=w(46642),A=w(76138);function T(ae){if(ae instanceof C.c)return ae;if(null!=ae){if((0,D.l)(ae))return function b(ae){return new C.c(Me=>{const q=ae[A.s]();if((0,z.T)(q.subscribe))return q.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,m.X)(ae))return function J(ae){return new C.c(Me=>{for(let q=0;q<ae.length&&!Me.closed;q++)Me.next(ae[q]);Me.complete()})}(ae);if((0,g.y)(ae))return function ce(ae){return new C.c(Me=>{ae.then(q=>{Me.closed||(Me.next(q),Me.complete())},q=>Me.error(q)).then(null,B.m)})}(ae);if((0,h.T)(ae))return se(ae);if((0,F.x)(ae))return function W(ae){return new C.c(Me=>{for(const q of ae)if(Me.next(q),Me.closed)return;Me.complete()})}(ae);if((0,k.U)(ae))return function Q(ae){return se((0,k.C)(ae))}(ae)}throw(0,U.L)(ae)}function se(ae){return new C.c(Me=>{(function Ie(ae,Me){var q,$,ge,K;return(0,r.sH)(this,void 0,void 0,function*(){try{for(q=(0,r.xN)(ae);!($=yield q.next()).done;)if(Me.next($.value),Me.closed)return}catch(Ne){ge={error:Ne}}finally{try{$&&!$.done&&(K=q.return)&&(yield K.call(q))}finally{if(ge)throw ge.error}}Me.complete()})})(ae,Me).catch(q=>Me.error(q))})}},96513:(bn,be,w)=>{"use strict";w.d(be,{Y:()=>g});var r=w(8360),m=w(43654);function g(C=0,D=r.E){return C<0&&(C=0),(0,m.O)(C,C,D)}},76718:(bn,be,w)=>{"use strict";w.d(be,{h:()=>h});var r=w(98297),m=w(81954),g=w(2515),C=w(17106),D=w(21472);function h(...U){const F=(0,C.lI)(U),k=(0,C.R0)(U,1/0),z=U;return z.length?1===z.length?(0,m.Tg)(z[0]):(0,r.U)(k)((0,D.H)(z,F)):g.w}},15877:(bn,be,w)=>{"use strict";w.d(be,{of:()=>g});var r=w(17106),m=w(21472);function g(...C){const D=(0,r.lI)(C);return(0,m.H)(C,D)}},45326:(bn,be,w)=>{"use strict";w.d(be,{$:()=>g});var r=w(2573),m=w(34403);function g(C,D){const h=(0,m.T)(C)?C:()=>C,U=F=>F.error(h());return new r.c(D?F=>D.schedule(U,0,F):U)}},43654:(bn,be,w)=>{"use strict";w.d(be,{O:()=>D});var r=w(2573),m=w(8360),g=w(41498);function D(h=0,U,F=m.b){let k=-1;return null!=U&&((0,g.m)(U)?F=U:k=U),new r.c(z=>{let B=function C(h){return h instanceof Date&&!isNaN(h)}(h)?+h-F.now():h;B<0&&(B=0);let A=0;return F.schedule(function(){z.closed||(z.next(A++),0<=k?this.schedule(void 0,k):z.complete())},B)})}},66196:(bn,be,w)=>{"use strict";w.d(be,{_:()=>m});var r=w(36567);function m(C,D,h,U,F){return new g(C,D,h,U,F)}class g extends r.vU{constructor(D,h,U,F,k,z){super(D),this.onFinalize=k,this.shouldUnsubscribe=z,this._next=h?function(B){try{h(B)}catch(A){D.error(A)}}:super._next,this._error=F?function(B){try{F(B)}catch(A){D.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=U?function(){try{U()}catch(B){D.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var D;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:h}=this;super.unsubscribe(),!h&&(null===(D=this.onFinalize)||void 0===D||D.call(this))}}}},9065:(bn,be,w)=>{"use strict";w.d(be,{Z:()=>U});var r=w(8360),m=w(15210),g=w(81954),C=w(66196),h=w(43654);function U(F,k=r.E){return function D(F){return(0,m.N)((k,z)=>{let B=!1,A=null,T=null,b=!1;const J=()=>{if(T?.unsubscribe(),T=null,B){B=!1;const W=A;A=null,z.next(W)}b&&z.complete()},ce=()=>{T=null,b&&z.complete()};k.subscribe((0,C._)(z,W=>{B=!0,A=W,T||(0,g.Tg)(F(W)).subscribe(T=(0,C._)(z,J,ce))},()=>{b=!0,(!B||!T||T.closed)&&z.complete()}))})}(()=>(0,h.O)(F,k))}},66017:(bn,be,w)=>{"use strict";w.d(be,{S:()=>C});var r=w(15210),m=w(66196),g=w(67584);function C(D,h=null){return h=h??D,(0,r.N)((U,F)=>{let k=[],z=0;U.subscribe((0,m._)(F,B=>{let A=null;z++%h==0&&k.push([]);for(const T of k)T.push(B),D<=T.length&&(A=A??[],A.push(T));if(A)for(const T of A)(0,g.o)(k,T),F.next(T)},()=>{for(const B of k)F.next(B);F.complete()},void 0,()=>{k=null}))})}},28577:(bn,be,w)=>{"use strict";w.d(be,{W:()=>C});var r=w(81954),m=w(66196),g=w(15210);function C(D){return(0,g.N)((h,U)=>{let z,F=null,k=!1;F=h.subscribe((0,m._)(U,void 0,void 0,B=>{z=(0,r.Tg)(D(B,C(D)(h))),F?(F.unsubscribe(),F=null,z.subscribe(U)):k=!0})),k&&(F.unsubscribe(),F=null,z.subscribe(U))})}},98837:(bn,be,w)=>{"use strict";w.d(be,{p:()=>A});var r=w(82656),m=w(19577),g=w(7694),C=w(37479),D=w(11756),h=w(84968),U=w(15210);const F=(T,b)=>(T.push(b),T);const A=function B(T){return function z(T,b){return(0,C.F)(function k(){return(0,U.N)((T,b)=>{(0,h.T)(F,[])(T).subscribe(b)})}(),(0,D.Z)(J=>T(J)),b?(0,g.I)(b):m.D)}(r.z,T)}},26727:(bn,be,w)=>{"use strict";w.d(be,{K:()=>m});var r=w(98297);function m(){return(0,r.U)(1)}},26758:(bn,be,w)=>{"use strict";w.d(be,{H:()=>g});var r=w(11756),m=w(34403);function g(C,D){return(0,m.T)(D)?(0,r.Z)(C,D,1):(0,r.Z)(C,1)}},15913:(bn,be,w)=>{"use strict";w.d(be,{s:()=>D});var r=w(15210),m=w(19827),g=w(66196),C=w(81954);function D(h){return(0,r.N)((U,F)=>{let k=!1,z=null,B=null;const A=()=>{if(B?.unsubscribe(),B=null,k){k=!1;const T=z;z=null,F.next(T)}};U.subscribe((0,g._)(F,T=>{B?.unsubscribe(),k=!0,z=T,B=(0,g._)(F,A,m.l),(0,C.Tg)(h(T)).subscribe(B)},()=>{A(),F.complete()},void 0,()=>{z=B=null}))})}},87996:(bn,be,w)=>{"use strict";w.d(be,{B:()=>C});var r=w(8360),m=w(15210),g=w(66196);function C(D,h=r.E){return(0,m.N)((U,F)=>{let k=null,z=null,B=null;const A=()=>{if(k){k.unsubscribe(),k=null;const b=z;z=null,F.next(b)}};function T(){const b=B+D,J=h.now();if(J<b)return k=this.schedule(void 0,b-J),void F.add(k);A()}U.subscribe((0,g._)(F,b=>{z=b,B=h.now(),k||(k=h.schedule(T,D),F.add(k))},()=>{A(),F.complete()},void 0,()=>{z=k=null}))})}},47369:(bn,be,w)=>{"use strict";w.d(be,{U:()=>g});var r=w(15210),m=w(66196);function g(C){return(0,r.N)((D,h)=>{let U=!1;D.subscribe((0,m._)(h,F=>{U=!0,h.next(F)},()=>{U||h.next(C),h.complete()}))})}},19833:(bn,be,w)=>{"use strict";w.d(be,{c:()=>A});var r=w(8360),m=w(35892),g=w(17365),C=w(15210),D=w(66196),h=w(19827),F=w(99539),k=w(11756);function z(T,b){return b?J=>(0,m.x)(b.pipe((0,g.s)(1),function U(){return(0,C.N)((T,b)=>{T.subscribe((0,D._)(b,h.l))})}()),J.pipe(z(T))):(0,k.Z)((J,ce)=>T(J,ce).pipe((0,g.s)(1),(0,F.u)(J)))}var B=w(43654);function A(T,b=r.E){const J=(0,B.O)(T,b);return z(()=>J)}},21082:(bn,be,w)=>{"use strict";w.d(be,{F:()=>C});var r=w(19577),m=w(15210),g=w(66196);function C(h,U=r.D){return h=h??D,(0,m.N)((F,k)=>{let z,B=!0;F.subscribe((0,g._)(k,A=>{const T=U(A);(B||!h(z,T))&&(B=!1,z=T,k.next(A))}))})}function D(h,U){return h===U}},14264:(bn,be,w)=>{"use strict";w.d(be,{p:()=>g});var r=w(15210),m=w(66196);function g(C,D){return(0,r.N)((h,U)=>{let F=0;h.subscribe((0,m._)(U,k=>C.call(D,k,F++)&&U.next(k)))})}},15152:(bn,be,w)=>{"use strict";w.d(be,{j:()=>m});var r=w(15210);function m(g){return(0,r.N)((C,D)=>{try{C.subscribe(D)}finally{D.add(g)}})}},60830:(bn,be,w)=>{"use strict";w.d(be,{$:()=>U});var r=w(50330),m=w(14264),g=w(17365),C=w(47369),D=w(67074),h=w(19577);function U(F,k){const z=arguments.length>=2;return B=>B.pipe(F?(0,m.p)((A,T)=>F(A,T,B)):h.D,(0,g.s)(1),z?(0,C.U)(k):(0,D.v)(()=>new r.G))}},38399:(bn,be,w)=>{"use strict";w.d(be,{q:()=>m});const m=w(11756).Z},36110:(bn,be,w)=>{"use strict";w.d(be,{T:()=>g});var r=w(15210),m=w(66196);function g(C,D){return(0,r.N)((h,U)=>{let F=0;h.subscribe((0,m._)(U,k=>{U.next(C.call(D,k,F++))}))})}},99539:(bn,be,w)=>{"use strict";w.d(be,{u:()=>m});var r=w(36110);function m(g){return(0,r.T)(()=>g)}},98297:(bn,be,w)=>{"use strict";w.d(be,{U:()=>g});var r=w(11756),m=w(19577);function g(C=1/0){return(0,r.Z)(m.D,C)}},11756:(bn,be,w)=>{"use strict";w.d(be,{Z:()=>F});var r=w(36110),m=w(81954),g=w(15210),C=w(82733),D=w(66196),U=w(34403);function F(k,z,B=1/0){return(0,U.T)(z)?F((A,T)=>(0,r.T)((b,J)=>z(A,b,T,J))((0,m.Tg)(k(A,T))),B):("number"==typeof z&&(B=z),(0,g.N)((A,T)=>function h(k,z,B,A,T,b,J,ce){const W=[];let se=0,Q=0,Ie=!1;const ae=()=>{Ie&&!W.length&&!se&&z.complete()},Me=$=>se<A?q($):W.push($),q=$=>{b&&z.next($),se++;let ge=!1;(0,m.Tg)(B($,Q++)).subscribe((0,D._)(z,K=>{T?.(K),b?Me(K):z.next(K)},()=>{ge=!0},void 0,()=>{if(ge)try{for(se--;W.length&&se<A;){const K=W.shift();J?(0,C.N)(z,J,()=>q(K)):q(K)}ae()}catch(K){z.error(K)}}))};return k.subscribe((0,D._)(z,Me,()=>{Ie=!0,ae()})),()=>{ce?.()}}(A,T,k,B)))}},1670:(bn,be,w)=>{"use strict";w.d(be,{J:()=>g});var r=w(15210),m=w(66196);function g(){return(0,r.N)((C,D)=>{let h,U=!1;C.subscribe((0,m._)(D,F=>{const k=h;h=F,U&&D.next([k,F]),U=!0}))})}},84968:(bn,be,w)=>{"use strict";w.d(be,{T:()=>g});var r=w(95773),m=w(15210);function g(C,D){return(0,m.N)((0,r.S)(C,D,arguments.length>=2,!1,!0))}},44710:(bn,be,w)=>{"use strict";w.d(be,{B:()=>g});var r=w(15210),m=w(66196);function g(){return(0,r.N)((C,D)=>{let h=null;C._refCount++;const U=(0,m._)(D,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(h=null);const F=C._connection,k=h;h=null,F&&(!k||F===k)&&F.unsubscribe(),D.unsubscribe()});C.subscribe(U),U.closed||(h=C.connect())})}},64346:(bn,be,w)=>{"use strict";w.d(be,{l:()=>C});var r=w(85052),m=w(15210),g=w(66196);function C(D){return(0,m.N)((h,U)=>{let F,z,k=!1;const B=()=>{F=h.subscribe((0,g._)(U,void 0,void 0,A=>{z||(z=new r.B,D(z).subscribe((0,g._)(U,()=>F?B():k=!0))),z&&z.next(A)})),k&&(F.unsubscribe(),F=null,k=!1,B())};B()})}},95773:(bn,be,w)=>{"use strict";w.d(be,{S:()=>m});var r=w(66196);function m(g,C,D,h,U){return(F,k)=>{let z=D,B=C,A=0;F.subscribe((0,r._)(k,T=>{const b=A++;B=z?g(B,T,b):(z=!0,T),h&&k.next(B)},U&&(()=>{z&&k.next(B),k.complete()})))}}},20075:(bn,be,w)=>{"use strict";w.d(be,{u:()=>D});var r=w(81954),m=w(85052),g=w(36567),C=w(15210);function D(U={}){const{connector:F=()=>new m.B,resetOnError:k=!0,resetOnComplete:z=!0,resetOnRefCountZero:B=!0}=U;return A=>{let T,b,J,ce=0,W=!1,se=!1;const Q=()=>{b?.unsubscribe(),b=void 0},Ie=()=>{Q(),T=J=void 0,W=se=!1},ae=()=>{const Me=T;Ie(),Me?.unsubscribe()};return(0,C.N)((Me,q)=>{ce++,!se&&!W&&Q();const $=J=J??F();q.add(()=>{ce--,0===ce&&!se&&!W&&(b=h(ae,B))}),$.subscribe(q),!T&&ce>0&&(T=new g.Ms({next:ge=>$.next(ge),error:ge=>{se=!0,Q(),b=h(Ie,k,ge),$.error(ge)},complete:()=>{W=!0,Q(),b=h(Ie,z),$.complete()}}),(0,r.Tg)(Me).subscribe(T))})(A)}}function h(U,F,...k){if(!0===F)return void U();if(!1===F)return;const z=new g.Ms({next:()=>{z.unsubscribe(),U()}});return F(...k).subscribe(z)}},49784:(bn,be,w)=>{"use strict";w.d(be,{t:()=>g});var r=w(60391),m=w(20075);function g(C,D,h){let U,F=!1;return C&&"object"==typeof C?({bufferSize:U=1/0,windowTime:D=1/0,refCount:F=!1,scheduler:h}=C):U=C??1/0,(0,m.u)({connector:()=>new r.m(U,D,h),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:F})}},87145:(bn,be,w)=>{"use strict";w.d(be,{i:()=>m});var r=w(14264);function m(g){return(0,r.p)((C,D)=>g<=D)}},35160:(bn,be,w)=>{"use strict";w.d(be,{Z:()=>C});var r=w(35892),m=w(17106),g=w(15210);function C(...D){const h=(0,m.lI)(D);return(0,g.N)((U,F)=>{(h?(0,r.x)(D,U,h):(0,r.x)(D,U)).subscribe(F)})}},32914:(bn,be,w)=>{"use strict";w.d(be,{n:()=>C});var r=w(81954),m=w(15210),g=w(66196);function C(D,h){return(0,m.N)((U,F)=>{let k=null,z=0,B=!1;const A=()=>B&&!k&&F.complete();U.subscribe((0,g._)(F,T=>{k?.unsubscribe();let b=0;const J=z++;(0,r.Tg)(D(T,J)).subscribe(k=(0,g._)(F,ce=>F.next(h?h(T,ce,J,b++):ce),()=>{k=null,A()}))},()=>{B=!0,A()}))})}},17365:(bn,be,w)=>{"use strict";w.d(be,{s:()=>C});var r=w(2515),m=w(15210),g=w(66196);function C(D){return D<=0?()=>r.w:(0,m.N)((h,U)=>{let F=0;h.subscribe((0,g._)(U,k=>{++F<=D&&(U.next(k),D<=F&&U.complete())}))})}},37925:(bn,be,w)=>{"use strict";w.d(be,{Q:()=>D});var r=w(15210),m=w(66196),g=w(81954),C=w(19827);function D(h){return(0,r.N)((U,F)=>{(0,g.Tg)(h).subscribe((0,m._)(F,()=>F.complete(),C.l)),!F.closed&&U.subscribe(F)})}},35716:(bn,be,w)=>{"use strict";w.d(be,{v:()=>g});var r=w(15210),m=w(66196);function g(C,D=!1){return(0,r.N)((h,U)=>{let F=0;h.subscribe((0,m._)(U,k=>{const z=C(k,F++);(z||D)&&U.next(k),!z&&U.complete()}))})}},39705:(bn,be,w)=>{"use strict";w.d(be,{M:()=>D});var r=w(34403),m=w(15210),g=w(66196),C=w(19577);function D(h,U,F){const k=(0,r.T)(h)||U||F?{next:h,error:U,complete:F}:h;return k?(0,m.N)((z,B)=>{var A;null===(A=k.subscribe)||void 0===A||A.call(k);let T=!0;z.subscribe((0,g._)(B,b=>{var J;null===(J=k.next)||void 0===J||J.call(k,b),B.next(b)},()=>{var b;T=!1,null===(b=k.complete)||void 0===b||b.call(k),B.complete()},b=>{var J;T=!1,null===(J=k.error)||void 0===J||J.call(k,b),B.error(b)},()=>{var b,J;T&&(null===(b=k.unsubscribe)||void 0===b||b.call(k)),null===(J=k.finalize)||void 0===J||J.call(k)}))}):C.D}},67074:(bn,be,w)=>{"use strict";w.d(be,{v:()=>C});var r=w(50330),m=w(15210),g=w(66196);function C(h=D){return(0,m.N)((U,F)=>{let k=!1;U.subscribe((0,g._)(F,z=>{k=!0,F.next(z)},()=>k?F.complete():F.error(h())))})}function D(){return new r.G}},94909:(bn,be,w)=>{"use strict";w.d(be,{E:()=>U});var r=w(15210),m=w(66196),g=w(81954),C=w(19577),D=w(19827),h=w(17106);function U(...F){const k=(0,h.ms)(F);return(0,r.N)((z,B)=>{const A=F.length,T=new Array(A);let b=F.map(()=>!1),J=!1;for(let ce=0;ce<A;ce++)(0,g.Tg)(F[ce]).subscribe((0,m._)(B,W=>{T[ce]=W,!J&&!b[ce]&&(b[ce]=!0,(J=b.every(C.D))&&(b=null))},D.l));z.subscribe((0,m._)(B,ce=>{if(J){const W=[ce,...T];B.next(k?k(...W):W)}}))})}},7974:(bn,be,w)=>{"use strict";w.d(be,{c:()=>q});var r=w(81954),m=w(82733),g=w(15210),C=w(66196);function D($,ge=0){return(0,g.N)((K,Ne)=>{K.subscribe((0,C._)(Ne,Ve=>(0,m.N)(Ne,$,()=>Ne.next(Ve),ge),()=>(0,m.N)(Ne,$,()=>Ne.complete(),ge),Ve=>(0,m.N)(Ne,$,()=>Ne.error(Ve),ge)))})}function h($,ge=0){return(0,g.N)((K,Ne)=>{Ne.add($.schedule(()=>K.subscribe(Ne),ge))})}var k=w(2573),B=w(1301),A=w(34403);function b($,ge){if(!$)throw new Error("Iterable cannot be null");return new k.c(K=>{(0,m.N)(K,ge,()=>{const Ne=$[Symbol.asyncIterator]();(0,m.N)(K,ge,()=>{Ne.next().then(Ve=>{Ve.done?K.complete():K.next(Ve.value)})},0,!0)})})}var J=w(69531),ce=w(67854),W=w(48629),se=w(34401),Q=w(97757),Ie=w(5835),ae=w(18432);function q($,ge){if(null!=$){if((0,J.l)($))return function U($,ge){return(0,r.Tg)($).pipe(h(ge),D(ge))}($,ge);if((0,W.X)($))return function z($,ge){return new k.c(K=>{let Ne=0;return ge.schedule(function(){Ne===$.length?K.complete():(K.next($[Ne++]),K.closed||this.schedule())})})}($,ge);if((0,ce.y)($))return function F($,ge){return(0,r.Tg)($).pipe(h(ge),D(ge))}($,ge);if((0,Q.T)($))return b($,ge);if((0,se.x)($))return function T($,ge){return new k.c(K=>{let Ne;return(0,m.N)(K,ge,()=>{Ne=$[B.l](),(0,m.N)(K,ge,()=>{let Ve,Ge;try{({value:Ve,done:Ge}=Ne.next())}catch(gt){return void K.error(gt)}Ge?K.complete():K.next(Ve)},0,!0)}),()=>(0,A.T)(Ne?.return)&&Ne.return()})}($,ge);if((0,ae.U)($))return function Me($,ge){return b((0,ae.C)($),ge)}($,ge)}throw(0,Ie.L)($)}},44726:(bn,be,w)=>{"use strict";w.d(be,{R:()=>D});var r=w(81027);class m extends r.yU{constructor(U,F){super()}schedule(U,F=0){return this}}const g={setInterval(h,U,...F){const{delegate:k}=g;return k?.setInterval?k.setInterval(h,U,...F):setInterval(h,U,...F)},clearInterval(h){const{delegate:U}=g;return(U?.clearInterval||clearInterval)(h)},delegate:void 0};var C=w(67584);class D extends m{constructor(U,F){super(U,F),this.scheduler=U,this.work=F,this.pending=!1}schedule(U,F=0){var k;if(this.closed)return this;this.state=U;const z=this.id,B=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(B,z,F)),this.pending=!0,this.delay=F,this.id=null!==(k=this.id)&&void 0!==k?k:this.requestAsyncId(B,this.id,F),this}requestAsyncId(U,F,k=0){return g.setInterval(U.flush.bind(U,this),k)}recycleAsyncId(U,F,k=0){if(null!=k&&this.delay===k&&!1===this.pending)return F;null!=F&&g.clearInterval(F)}execute(U,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const k=this._execute(U,F);if(k)return k;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,F){let z,k=!1;try{this.work(U)}catch(B){k=!0,z=B||new Error("Scheduled action threw falsy error")}if(k)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:U,scheduler:F}=this,{actions:k}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,C.o)(k,this),null!=U&&(this.id=this.recycleAsyncId(F,U,null)),this.delay=null,super.unsubscribe()}}}},25474:(bn,be,w)=>{"use strict";w.d(be,{q:()=>g});var r=w(59309);class m{constructor(D,h=m.now){this.schedulerActionCtor=D,this.now=h}schedule(D,h=0,U){return new this.schedulerActionCtor(this,D).schedule(U,h)}}m.now=r.U.now;class g extends m{constructor(D,h=m.now){super(D,h),this.actions=[],this._active=!1}flush(D){const{actions:h}=this;if(this._active)return void h.push(D);let U;this._active=!0;do{if(U=D.execute(D.state,D.delay))break}while(D=h.shift());if(this._active=!1,U){for(;D=h.shift();)D.unsubscribe();throw U}}}},94974:(bn,be,w)=>{"use strict";w.d(be,{X:()=>U});var r=w(44726),m=w(81027);const g={schedule(k){let z=requestAnimationFrame,B=cancelAnimationFrame;const{delegate:A}=g;A&&(z=A.requestAnimationFrame,B=A.cancelAnimationFrame);const T=z(b=>{B=void 0,k(b)});return new m.yU(()=>B?.(T))},requestAnimationFrame(...k){const{delegate:z}=g;return(z?.requestAnimationFrame||requestAnimationFrame)(...k)},cancelAnimationFrame(...k){const{delegate:z}=g;return(z?.cancelAnimationFrame||cancelAnimationFrame)(...k)},delegate:void 0};var D=w(25474);const U=new class h extends D.q{flush(z){this._active=!0;const B=this._scheduled;this._scheduled=void 0;const{actions:A}=this;let T;z=z||A.shift();do{if(T=z.execute(z.state,z.delay))break}while((z=A[0])&&z.id===B&&A.shift());if(this._active=!1,T){for(;(z=A[0])&&z.id===B&&A.shift();)z.unsubscribe();throw T}}}(class C extends r.R{constructor(z,B){super(z,B),this.scheduler=z,this.work=B}requestAsyncId(z,B,A=0){return null!==A&&A>0?super.requestAsyncId(z,B,A):(z.actions.push(this),z._scheduled||(z._scheduled=g.requestAnimationFrame(()=>z.flush(void 0))))}recycleAsyncId(z,B,A=0){var T;if(null!=A?A>0:this.delay>0)return super.recycleAsyncId(z,B,A);const{actions:b}=z;null!=B&&(null===(T=b[b.length-1])||void 0===T?void 0:T.id)!==B&&(g.cancelAnimationFrame(B),z._scheduled=void 0)}})},82755:(bn,be,w)=>{"use strict";w.d(be,{$:()=>b});var r=w(44726);let g,m=1;const C={};function D(ce){return ce in C&&(delete C[ce],!0)}const h={setImmediate(ce){const W=m++;return C[W]=!0,g||(g=Promise.resolve()),g.then(()=>D(W)&&ce()),W},clearImmediate(ce){D(ce)}},{setImmediate:F,clearImmediate:k}=h,z={setImmediate(...ce){const{delegate:W}=z;return(W?.setImmediate||F)(...ce)},clearImmediate(ce){const{delegate:W}=z;return(W?.clearImmediate||k)(ce)},delegate:void 0};var A=w(25474);const b=new class T extends A.q{flush(W){this._active=!0;const se=this._scheduled;this._scheduled=void 0;const{actions:Q}=this;let Ie;W=W||Q.shift();do{if(Ie=W.execute(W.state,W.delay))break}while((W=Q[0])&&W.id===se&&Q.shift());if(this._active=!1,Ie){for(;(W=Q[0])&&W.id===se&&Q.shift();)W.unsubscribe();throw Ie}}}(class B extends r.R{constructor(W,se){super(W,se),this.scheduler=W,this.work=se}requestAsyncId(W,se,Q=0){return null!==Q&&Q>0?super.requestAsyncId(W,se,Q):(W.actions.push(this),W._scheduled||(W._scheduled=z.setImmediate(W.flush.bind(W,void 0))))}recycleAsyncId(W,se,Q=0){var Ie;if(null!=Q?Q>0:this.delay>0)return super.recycleAsyncId(W,se,Q);const{actions:ae}=W;null!=se&&(null===(Ie=ae[ae.length-1])||void 0===Ie?void 0:Ie.id)!==se&&(z.clearImmediate(se),W._scheduled=void 0)}})},8360:(bn,be,w)=>{"use strict";w.d(be,{E:()=>g,b:()=>C});var r=w(44726);const g=new(w(25474).q)(r.R),C=g},59309:(bn,be,w)=>{"use strict";w.d(be,{U:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},63831:(bn,be,w)=>{"use strict";w.d(be,{T:()=>D});var r=w(44726),g=w(25474);const D=new class C extends g.q{}(class m extends r.R{constructor(F,k){super(F,k),this.scheduler=F,this.work=k}schedule(F,k=0){return k>0?super.schedule(F,k):(this.delay=k,this.state=F,this.scheduler.flush(this),this)}execute(F,k){return k>0||this.closed?super.execute(F,k):this._execute(F,k)}requestAsyncId(F,k,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(F,k,z):(F.flush(this),0)}})},12386:(bn,be,w)=>{"use strict";w.d(be,{f:()=>r});const r={setTimeout(m,g,...C){const{delegate:D}=r;return D?.setTimeout?D.setTimeout(m,g,...C):setTimeout(m,g,...C)},clearTimeout(m){const{delegate:g}=r;return(g?.clearTimeout||clearTimeout)(m)},delegate:void 0}},1301:(bn,be,w)=>{"use strict";w.d(be,{l:()=>m});const m=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},76138:(bn,be,w)=>{"use strict";w.d(be,{s:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},50330:(bn,be,w)=>{"use strict";w.d(be,{G:()=>m});const m=(0,w(87385).L)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},17106:(bn,be,w)=>{"use strict";w.d(be,{R0:()=>h,lI:()=>D,ms:()=>C});var r=w(34403),m=w(41498);function g(U){return U[U.length-1]}function C(U){return(0,r.T)(g(U))?U.pop():void 0}function D(U){return(0,m.m)(g(U))?U.pop():void 0}function h(U,F){return"number"==typeof g(U)?U.pop():F}},15437:(bn,be,w)=>{"use strict";w.d(be,{D:()=>D});const{isArray:r}=Array,{getPrototypeOf:m,prototype:g,keys:C}=Object;function D(U){if(1===U.length){const F=U[0];if(r(F))return{args:F,keys:null};if(function h(U){return U&&"object"==typeof U&&m(U)===g}(F)){const k=C(F);return{args:k.map(z=>F[z]),keys:k}}}return{args:U,keys:null}}},67584:(bn,be,w)=>{"use strict";function r(m,g){if(m){const C=m.indexOf(g);0<=C&&m.splice(C,1)}}w.d(be,{o:()=>r})},87385:(bn,be,w)=>{"use strict";function r(m){const C=m(D=>{Error.call(D),D.stack=(new Error).stack});return C.prototype=Object.create(Error.prototype),C.prototype.constructor=C,C}w.d(be,{L:()=>r})},25436:(bn,be,w)=>{"use strict";function r(m,g){return m.reduce((C,D,h)=>(C[D]=g[h],C),{})}w.d(be,{e:()=>r})},32926:(bn,be,w)=>{"use strict";w.d(be,{Y:()=>g,l:()=>C});var r=w(8502);let m=null;function g(D){if(r.$.useDeprecatedSynchronousErrorHandling){const h=!m;if(h&&(m={errorThrown:!1,error:null}),D(),h){const{errorThrown:U,error:F}=m;if(m=null,U)throw F}}else D()}function C(D){r.$.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=D)}},82733:(bn,be,w)=>{"use strict";function r(m,g,C,D=0,h=!1){const U=g.schedule(function(){C(),h?m.add(this.schedule(null,D)):this.unsubscribe()},D);if(m.add(U),!h)return U}w.d(be,{N:()=>r})},19577:(bn,be,w)=>{"use strict";function r(m){return m}w.d(be,{D:()=>r})},48629:(bn,be,w)=>{"use strict";w.d(be,{X:()=>r});const r=m=>m&&"number"==typeof m.length&&"function"!=typeof m},97757:(bn,be,w)=>{"use strict";w.d(be,{T:()=>m});var r=w(34403);function m(g){return Symbol.asyncIterator&&(0,r.T)(g?.[Symbol.asyncIterator])}},34403:(bn,be,w)=>{"use strict";function r(m){return"function"==typeof m}w.d(be,{T:()=>r})},69531:(bn,be,w)=>{"use strict";w.d(be,{l:()=>g});var r=w(76138),m=w(34403);function g(C){return(0,m.T)(C[r.s])}},34401:(bn,be,w)=>{"use strict";w.d(be,{x:()=>g});var r=w(1301),m=w(34403);function g(C){return(0,m.T)(C?.[r.l])}},28454:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});var r=w(2573),m=w(34403);function g(C){return!!C&&(C instanceof r.c||(0,m.T)(C.lift)&&(0,m.T)(C.subscribe))}},67854:(bn,be,w)=>{"use strict";w.d(be,{y:()=>m});var r=w(34403);function m(g){return(0,r.T)(g?.then)}},18432:(bn,be,w)=>{"use strict";w.d(be,{C:()=>g,U:()=>C});var r=w(31635),m=w(34403);function g(D){return(0,r.AQ)(this,arguments,function*(){const U=D.getReader();try{for(;;){const{value:F,done:k}=yield(0,r.N3)(U.read());if(k)return yield(0,r.N3)(void 0);yield yield(0,r.N3)(F)}}finally{U.releaseLock()}})}function C(D){return(0,m.T)(D?.getReader)}},41498:(bn,be,w)=>{"use strict";w.d(be,{m:()=>m});var r=w(34403);function m(g){return g&&(0,r.T)(g.schedule)}},15210:(bn,be,w)=>{"use strict";w.d(be,{N:()=>g,S:()=>m});var r=w(34403);function m(C){return(0,r.T)(C?.lift)}function g(C){return D=>{if(m(D))return D.lift(function(h){try{return C(h,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},7694:(bn,be,w)=>{"use strict";w.d(be,{I:()=>C});var r=w(36110);const{isArray:m}=Array;function C(D){return(0,r.T)(h=>function g(D,h){return m(h)?D(...h):D(h)}(D,h))}},19827:(bn,be,w)=>{"use strict";function r(){}w.d(be,{l:()=>r})},37479:(bn,be,w)=>{"use strict";w.d(be,{F:()=>m,m:()=>g});var r=w(19577);function m(...C){return g(C)}function g(C){return 0===C.length?r.D:1===C.length?C[0]:function(h){return C.reduce((U,F)=>F(U),h)}}},46642:(bn,be,w)=>{"use strict";w.d(be,{m:()=>g});var r=w(8502),m=w(12386);function g(C){m.f.setTimeout(()=>{const{onUnhandledError:D}=r.$;if(!D)throw C;D(C)})}},5835:(bn,be,w)=>{"use strict";function r(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(be,{L:()=>r})},93330:(bn,be,w)=>{"use strict";var r=w(89222),m=w(2948),g=w(70401)(),C=w(99234),D=w(63698),h=r("%Math.floor%");bn.exports=function(F,k){if("function"!=typeof F)throw new D("`fn` is not a function");if("number"!=typeof k||k<0||k>4294967295||h(k)!==k)throw new D("`length` must be a positive 32-bit integer");var z=arguments.length>2&&!!arguments[2],B=!0,A=!0;if("length"in F&&C){var T=C(F,"length");T&&!T.configurable&&(B=!1),T&&!T.writable&&(A=!1)}return(B||A||!z)&&(g?m(F,"length",k,!0,!0):m(F,"length",k)),F}},68241:(bn,be,w)=>{"use strict";var r=w(89222),m=w(64680),g=w(92298),C=w(63698),D=r("%WeakMap%",!0),h=r("%Map%",!0),U=m("WeakMap.prototype.get",!0),F=m("WeakMap.prototype.set",!0),k=m("WeakMap.prototype.has",!0),z=m("Map.prototype.get",!0),B=m("Map.prototype.set",!0),A=m("Map.prototype.has",!0),T=function(W,se){for(var Ie,Q=W;null!==(Ie=Q.next);Q=Ie)if(Ie.key===se)return Q.next=Ie.next,Ie.next=W.next,W.next=Ie,Ie};bn.exports=function(){var se,Q,Ie,ae={assert:function(Me){if(!ae.has(Me))throw new C("Side channel does not contain "+g(Me))},get:function(Me){if(D&&Me&&("object"==typeof Me||"function"==typeof Me)){if(se)return U(se,Me)}else if(h){if(Q)return z(Q,Me)}else if(Ie)return function(W,se){var Q=T(W,se);return Q&&Q.value}(Ie,Me)},has:function(Me){if(D&&Me&&("object"==typeof Me||"function"==typeof Me)){if(se)return k(se,Me)}else if(h){if(Q)return A(Q,Me)}else if(Ie)return function(W,se){return!!T(W,se)}(Ie,Me);return!1},set:function(Me,q){D&&Me&&("object"==typeof Me||"function"==typeof Me)?(se||(se=new D),F(se,Me,q)):h?(Q||(Q=new h),B(Q,Me,q)):(Ie||(Ie={key:{},next:null}),function(W,se,Q){var Ie=T(W,se);Ie?Ie.value=Q:W.next={key:se,next:W.next,value:Q}}(Ie,Me,q))}};return ae}},5662:function(bn){var r;typeof self<"u"&&self,r=()=>(()=>{"use strict";var be={"./src/attributes.js":
/*!***************************!*\
                !*** ./src/attributes.js ***!
                \***************************/(g,C,D)=>{function h(G){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(G)}C.__esModule=!0,C.createAttribsFromArrays=kt,C.createBufferFromArray=M,C.createBufferFromTypedArray=Ne,C.createBufferInfoFromArrays=function y(G,_e,Z){var f=kt(G,_e),V=Object.assign({},Z||{});V.attribs=Object.assign({},Z?Z.attribs:{},f);var x=_e.indices;if(x){var ye=De(x,"indices");V.indices=Ne(G,ye,T),V.numElements=ye.length,V.elementType=U.getGLTypeForTypedArray(ye)}else V.numElements||(V.numElements=function te(G,_e){var Z,f;for(f=0;f<ne.length&&!((Z=ne[f])in _e)&&!((Z=q.attribPrefix+Z)in _e);++f);f===ne.length&&(Z=Object.keys(_e)[0]);var V=_e[Z];if(!V.buffer)return 1;G.bindBuffer(A,V.buffer);var x=G.getBufferParameter(A,b);G.bindBuffer(A,null);var ye=function Ce(G,_e){return _e===J||_e===ce?1:_e===W||_e===se?2:_e===Q||_e===Ie||_e===ae?4:0}(0,V.type),ke=V.numComponents||V.size,Ee=x/ye/ke;if(Ee%1!=0)throw new Error("numComponents ".concat(ke," not correct for length ").concat(length));return Ee}(G,V.attribs));return V},C.createBuffersFromArrays=function Y(G,_e){var Z={};return Object.keys(_e).forEach(function(f){Z[f]=M(G,_e[f],f)}),_e.indices?(Z.numElements=_e.indices.length,Z.elementType=U.getGLTypeForTypedArray(De(_e.indices),"indices")):Z.numElements=function Re(G){var _e,Z;for(Z=0;Z<ne.length&&!((_e=ne[Z])in G);++Z);Z===ne.length&&(_e=Object.keys(G)[0]);var f=G[_e],V=gt(f).length;if(void 0===V)return 1;var x=Oe(f,_e),ye=V/x;if(V%x>0)throw new Error("numComponents ".concat(x," not correct for length ").concat(V));return ye}(_e),Z},C.getArray_=gt,C.getNumComponents_=Oe,C.setAttribInfoBufferFromArray=function je(G,_e,Z,f){Z=De(Z),void 0!==f?(G.bindBuffer(A,_e.buffer),G.bufferSubData(A,f,Z)):K(G,A,_e.buffer,Z,_e.drawType)},C.setAttributeDefaults_=function ge(G){F.copyExistingProperties(G,q)},C.setAttributePrefix=function $(G){q.attribPrefix=G};var U=z(D(
/*! ./typedarrays.js */
"./src/typedarrays.js")),F=z(D(
/*! ./helper.js */
"./src/helper.js"));function k(G){if("function"!=typeof WeakMap)return null;var _e=new WeakMap,Z=new WeakMap;return(k=function(V){return V?Z:_e})(G)}function z(G,_e){if(!_e&&G&&G.__esModule)return G;if(null===G||"object"!=h(G)&&"function"!=typeof G)return{default:G};var Z=k(_e);if(Z&&Z.has(G))return Z.get(G);var f={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in G)if("default"!==x&&Object.prototype.hasOwnProperty.call(G,x)){var ye=V?Object.getOwnPropertyDescriptor(G,x):null;ye&&(ye.get||ye.set)?Object.defineProperty(f,x,ye):f[x]=G[x]}return f.default=G,Z&&Z.set(G,f),f}var B=35044,A=34962,T=34963,b=34660,J=5120,ce=5121,W=5122,se=5123,Q=5124,Ie=5125,ae=5126,q={attribPrefix:""};function K(G,_e,Z,f,V){G.bindBuffer(_e,Z),G.bufferData(_e,f,V||B)}function Ne(G,_e,Z,f){if(F.isBuffer(G,_e))return _e;Z=Z||A;var V=G.createBuffer();return K(G,Z,V,_e,f),V}function Ve(G){return"indices"===G}function gt(G){return G.length?G:G.data}var _t=/coord|texture/i,zt=/color|colour/i;function Oe(G,_e,Z){return G.numComponents||G.size||function Rn(G,_e){var Z;if(_e%(Z=_t.test(G)?2:zt.test(G)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(G,"'. Tried ").concat(Z," but ").concat(_e," values is not evenly divisible by ").concat(Z,". You should specify it."));return Z}(_e,Z||gt(G).length)}function De(G,_e){if(U.isArrayBuffer(G))return G;if(U.isArrayBuffer(G.data))return G.data;Array.isArray(G)&&(G={data:G});var Z=G.type?We(G.type):void 0;return Z||(Z=Ve(_e)?Uint16Array:Float32Array),new Z(G.data)}function He(G){return"number"==typeof G?G:G?U.getGLTypeForTypedArrayType(G):ae}function We(G){return"number"==typeof G?U.getTypedArrayTypeForGLType(G):G||Float32Array}function st(G,_e){return{buffer:_e.buffer,numValues:24,type:He(_e.type),arrayType:We(_e.type)}}function ft(G,_e){var Z=_e.data||_e,f=We(_e.type),V=Z*f.BYTES_PER_ELEMENT,x=G.createBuffer();return G.bindBuffer(A,x),G.bufferData(A,V,_e.drawType||B),{buffer:x,numValues:Z,type:U.getGLTypeForTypedArrayType(f),arrayType:f}}function wt(G,_e,Z){var f=De(_e,Z);return{arrayType:f.constructor,buffer:Ne(G,f,void 0,_e.drawType),type:U.getGLTypeForTypedArray(f),numValues:0}}function kt(G,_e){var Z={};return Object.keys(_e).forEach(function(f){if(!Ve(f)){var V=_e[f],x=V.attrib||V.name||V.attribName||q.attribPrefix+f;if(V.value){if(!Array.isArray(V.value)&&!U.isArrayBuffer(V.value))throw new Error("array.value is not array or typedarray");Z[x]={value:V.value}}else{var Te=(V.buffer&&V.buffer instanceof WebGLBuffer?st:"number"==typeof V||"number"==typeof V.data?ft:wt)(G,V,f),ke=Te.buffer,Ee=Te.type,nt=Te.numValues,yt=void 0!==V.normalize?V.normalize:function Ge(G){return G===Int8Array||G===Uint8Array}(Te.arrayType),Jt=Oe(V,f,nt);Z[x]={buffer:ke,numComponents:Jt,type:Ee,normalize:yt,stride:V.stride||0,offset:V.offset||0,divisor:void 0===V.divisor?void 0:V.divisor,drawType:V.drawType}}}}),G.bindBuffer(A,null),Z}var ne=["position","positions","a_position"];function M(G,_e,Z){var f="indices"===Z?T:A;return Ne(G,De(_e,Z),f)}},"./src/draw.js":
/*!*********************!*\
                !*** ./src/draw.js ***!
                \*********************/(g,C,D)=>{function h(b){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(b)}C.__esModule=!0,C.drawBufferInfo=A,C.drawObjectList=function T(b,J){var ce=null,W=null;J.forEach(function(se){if(!1!==se.active){var Q=se.programInfo,Ie=se.vertexArrayInfo||se.bufferInfo,ae=!1,Me=void 0===se.type?z:se.type;Q!==ce&&(ce=Q,b.useProgram(Q.program),ae=!0),(ae||Ie!==W)&&(W&&W.vertexArrayObject&&!Ie.vertexArrayObject&&b.bindVertexArray(null),W=Ie,U.setBuffersAndAttributes(b,Q,Ie)),U.setUniforms(Q,se.uniforms),A(b,Ie,Me,se.count,se.offset,se.instanceCount)}}),W&&W.vertexArrayObject&&b.bindVertexArray(null)};var U=function k(b,J){if(!J&&b&&b.__esModule)return b;if(null===b||"object"!=h(b)&&"function"!=typeof b)return{default:b};var ce=F(J);if(ce&&ce.has(b))return ce.get(b);var W={__proto__:null},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in b)if("default"!==Q&&Object.prototype.hasOwnProperty.call(b,Q)){var Ie=se?Object.getOwnPropertyDescriptor(b,Q):null;Ie&&(Ie.get||Ie.set)?Object.defineProperty(W,Q,Ie):W[Q]=b[Q]}return W.default=b,ce&&ce.set(b,W),W}(D(
/*! ./programs.js */
"./src/programs.js"));function F(b){if("function"!=typeof WeakMap)return null;var J=new WeakMap,ce=new WeakMap;return(F=function(se){return se?ce:J})(b)}var z=4,B=5123;function A(b,J,ce,W,se,Q){ce=void 0===ce?z:ce;var ae=J.elementType,Me=void 0===W?J.numElements:W;se=void 0===se?0:se,ae||J.indices?void 0!==Q?b.drawElementsInstanced(ce,Me,void 0===ae?B:J.elementType,se,Q):b.drawElements(ce,Me,void 0===ae?B:J.elementType,se):void 0!==Q?b.drawArraysInstanced(ce,se,Me,Q):b.drawArrays(ce,se,Me)}},"./src/framebuffers.js":
/*!*****************************!*\
                !*** ./src/framebuffers.js ***!
                \*****************************/(g,C,D)=>{function h(Re){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(Re)}C.__esModule=!0,C.bindFramebufferInfo=function ne(Re,te,y){y=y||A,te?(Re.bindFramebuffer(y,te.framebuffer),Re.viewport(0,0,te.width,te.height)):(Re.bindFramebuffer(y,null),Re.viewport(0,0,Re.drawingBufferWidth,Re.drawingBufferHeight))},C.createFramebufferInfo=function je(Re,te,y,M){var Y=A,G=Re.createFramebuffer();Re.bindFramebuffer(Y,G);var _e=[],Z={framebuffer:G,attachments:[],width:y=y||Re.drawingBufferWidth,height:M=M||Re.drawingBufferHeight};return(te=te||De).forEach(function(f,V){var x=f.attachment,ye=f.samples,Te=f.format,ke=f.attachmentPoint||function We(Re,te){return He[Re]||He[te]}(Te,f.internalFormat);if(ke||(ke=Ge+V),function kt(Re){return Re>=Ge&&Re<Ge+wt}(ke)&&_e.push(ke),!x)if(void 0!==ye||function ft(Re){return st[Re]}(Te))x=Re.createRenderbuffer(),Re.bindRenderbuffer(T,x),ye>1?Re.renderbufferStorageMultisample(T,ye,Te,y,M):Re.renderbufferStorage(T,Te,y,M);else{var Ee=Object.assign({},f);Ee.width=y,Ee.height=M,void 0===Ee.auto&&(Ee.auto=!1,Ee.min=Ee.min||Ee.minMag||Oe,Ee.mag=Ee.mag||Ee.minMag||Oe,Ee.wrapS=Ee.wrapS||Ee.wrap||Rn,Ee.wrapT=Ee.wrapT||Ee.wrap||Rn),x=U.createTexture(Re,Ee)}if(F.isRenderbuffer(Re,x))Re.framebufferRenderbuffer(Y,ke,T,x);else{if(!F.isTexture(Re,x))throw new Error("unknown attachment type");void 0!==f.layer?Re.framebufferTextureLayer(Y,ke,x,f.level||0,f.layer):Re.framebufferTexture2D(Y,ke,f.target||b,x,f.level||0)}Z.attachments.push(x)}),Re.drawBuffers&&Re.drawBuffers(_e),Z},C.resizeFramebufferInfo=function Ce(Re,te,y,M,Y){Y=Y||Re.drawingBufferHeight,te.width=M=M||Re.drawingBufferWidth,te.height=Y,(y=y||De).forEach(function(G,_e){var Z=te.attachments[_e],f=G.format,V=G.samples;if(void 0!==V||F.isRenderbuffer(Re,Z))Re.bindRenderbuffer(T,Z),V>1?Re.renderbufferStorageMultisample(T,V,f,M,Y):Re.renderbufferStorage(T,f,M,Y);else{if(!F.isTexture(Re,Z))throw new Error("unknown attachment type");U.resizeTexture(Re,Z,G,M,Y)}})};var U=z(D(
/*! ./textures.js */
"./src/textures.js")),F=z(D(
/*! ./helper.js */
"./src/helper.js"));function k(Re){if("function"!=typeof WeakMap)return null;var te=new WeakMap,y=new WeakMap;return(k=function(Y){return Y?y:te})(Re)}function z(Re,te){if(!te&&Re&&Re.__esModule)return Re;if(null===Re||"object"!=h(Re)&&"function"!=typeof Re)return{default:Re};var y=k(te);if(y&&y.has(Re))return y.get(Re);var M={__proto__:null},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in Re)if("default"!==G&&Object.prototype.hasOwnProperty.call(Re,G)){var _e=Y?Object.getOwnPropertyDescriptor(Re,G):null;_e&&(_e.get||_e.set)?Object.defineProperty(M,G,_e):M[G]=Re[G]}return M.default=Re,y&&y.set(Re,M),M}var A=36160,T=36161,b=3553,Ge=36064,gt=36096,Rn=33071,Oe=9729,De=[{format:6408,type:5121,min:Oe,wrap:Rn},{format:34041}],He={34041:33306,6401:36128,36168:36128};He[6402]=gt,He[33189]=gt,He[33190]=gt,He[36012]=gt,He[35056]=33306,He[36013]=33306;var st={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},wt=32},"./src/helper.js":
/*!***********************!*\
                !*** ./src/helper.js ***!
                \***********************/(g,C)=>{function D(W){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(W)}C.__esModule=!0,C.copyExistingProperties=function U(W,se){Object.keys(se).forEach(function(Q){se.hasOwnProperty(Q)&&W.hasOwnProperty(Q)&&(se[Q]=W[Q])})},C.copyNamedProperties=function h(W,se,Q){W.forEach(function(Ie){var ae=se[Ie];void 0!==ae&&(Q[Ie]=ae)})},C.error=function F(){var W;(W=console).error.apply(W,arguments)},C.isBuffer=function A(W,se){return typeof WebGLBuffer<"u"&&B(se,"WebGLBuffer")},C.isRenderbuffer=function T(W,se){return typeof WebGLRenderbuffer<"u"&&B(se,"WebGLRenderbuffer")},C.isSampler=function ce(W,se){return typeof WebGLSampler<"u"&&B(se,"WebGLSampler")},C.isShader=function b(W,se){return typeof WebGLShader<"u"&&B(se,"WebGLShader")},C.isTexture=function J(W,se){return typeof WebGLTexture<"u"&&B(se,"WebGLTexture")},C.warn=function k(){var W;(W=console).warn.apply(W,arguments)};var z=new Map;function B(W,se){if(!W||"object"!==D(W))return!1;var Q=z.get(se);Q||z.set(se,Q=new WeakMap);var Ie=Q.get(W);if(void 0===Ie){var ae=Object.prototype.toString.call(W);Ie=ae.substring(8,ae.length-1)===se,Q.set(W,Ie)}return Ie}},"./src/programs.js":
/*!*************************!*\
                !*** ./src/programs.js ***!
                \*************************/(g,C,D)=>{function h(Vt){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(an){return typeof an}:function(an){return an&&"function"==typeof Symbol&&an.constructor===Symbol&&an!==Symbol.prototype?"symbol":typeof an})(Vt)}C.__esModule=!0,C.bindTransformFeedbackInfo=po,C.bindUniformBlock=gs,C.createAttributeSetters=ea,C.createProgram=Mo,C.createProgramAsync=void 0,C.createProgramFromScripts=function Gn(Vt,an,un,ar,Er){var ii,rr=Cn(un,ar,Er),Rr=[],Pr=q(an);try{for(Pr.s();!(ii=Pr.n()).done;){var zr=ii.value,Ni=zt(zr);if(!Ni)return vt(rr,"unknown script element: ".concat(zr));Rr.push(Ni.text)}}catch(to){Pr.e(to)}finally{Pr.f()}return Mo(Vt,Rr,rr)},C.createProgramFromSources=Hn,C.createProgramInfo=gr,C.createProgramInfoAsync=void 0,C.createProgramInfoFromProgram=Wn,C.createProgramInfos=Zi,C.createProgramInfosAsync=void 0,C.createPrograms=Ti,C.createProgramsAsync=void 0,C.createTransformFeedback=function Pi(Vt,an,un){var ar=Vt.createTransformFeedback();return Vt.bindTransformFeedback(ft,ar),Vt.useProgram(an.program),po(Vt,an,un),Vt.bindTransformFeedback(ft,null),ar},C.createTransformFeedbackInfo=Ji,C.createUniformBlockInfo=function Ms(Vt,an,un){return Ro(Vt,an.program,an.uniformBlockSpec,un)},C.createUniformBlockInfoFromProgram=Ro,C.createUniformBlockSpecFromProgram=os,C.createUniformSetters=ki,C.setAttributes=ds,C.setBlockUniforms=function Es(Vt,an){var un=Vt.setters;for(var ar in an){var Er=un[ar];Er&&Er(an[ar])}},C.setBuffersAndAttributes=function Vn(Vt,an,un){un.vertexArrayObject?Vt.bindVertexArray(un.vertexArrayObject):(ds(an.attribSetters||an,un.attribs),un.indices&&Vt.bindBuffer(He,un.indices))},C.setUniformBlock=function ha(Vt,an,un){gs(Vt,an,un)&&Vt.bufferData(We,un.array,Oe)},C.setUniforms=Ls,C.setUniformsAndBindTextures=void 0;var U=z(D(
/*! ./utils.js */
"./src/utils.js")),F=z(D(
/*! ./helper.js */
"./src/helper.js"));function k(Vt){if("function"!=typeof WeakMap)return null;var an=new WeakMap,un=new WeakMap;return(k=function(Er){return Er?un:an})(Vt)}function z(Vt,an){if(!an&&Vt&&Vt.__esModule)return Vt;if(null===Vt||"object"!=h(Vt)&&"function"!=typeof Vt)return{default:Vt};var un=k(an);if(un&&un.has(Vt))return un.get(Vt);var ar={__proto__:null},Er=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var rr in Vt)if("default"!==rr&&Object.prototype.hasOwnProperty.call(Vt,rr)){var Rr=Er?Object.getOwnPropertyDescriptor(Vt,rr):null;Rr&&(Rr.get||Rr.set)?Object.defineProperty(ar,rr,Rr):ar[rr]=Vt[rr]}return ar.default=Vt,un&&un.set(Vt,ar),ar}function B(){B=function(){return an};var Vt,an={},un=Object.prototype,ar=un.hasOwnProperty,Er=Object.defineProperty||function(hi,Gr,et){hi[Gr]=et.value},rr="function"==typeof Symbol?Symbol:{},Rr=rr.iterator||"@@iterator",Pr=rr.asyncIterator||"@@asyncIterator",ii=rr.toStringTag||"@@toStringTag";function zr(hi,Gr,et){return Object.defineProperty(hi,Gr,{value:et,enumerable:!0,configurable:!0,writable:!0}),hi[Gr]}try{zr({},"")}catch{zr=function(et,rn,It){return et[rn]=It}}function Ni(hi,Gr,et,rn){var P=Object.create((Gr&&Gr.prototype instanceof Yo?Gr:Yo).prototype),N=new Li(rn||[]);return Er(P,"_invoke",{value:Ye(hi,et,N)}),P}function to(hi,Gr,et){try{return{type:"normal",arg:hi.call(Gr,et)}}catch(rn){return{type:"throw",arg:rn}}}an.wrap=Ni;var ho="suspendedStart",co="suspendedYield",_o="executing",Oo="completed",vo={};function Yo(){}function Je(){}function Kt(){}var Ke={};zr(Ke,Rr,function(){return this});var L=Object.getPrototypeOf,de=L&&L(L($i([])));de&&de!==un&&ar.call(de,Rr)&&(Ke=de);var O=Kt.prototype=Yo.prototype=Object.create(Ke);function ie(hi){["next","throw","return"].forEach(function(Gr){zr(hi,Gr,function(et){return this._invoke(Gr,et)})})}function X(hi,Gr){function et(It,P,N,Pe){var tt=to(hi[It],hi,P);if("throw"!==tt.type){var xt=tt.arg,Wt=xt.value;return Wt&&"object"==h(Wt)&&ar.call(Wt,"__await")?Gr.resolve(Wt.__await).then(function(ln){et("next",ln,N,Pe)},function(ln){et("throw",ln,N,Pe)}):Gr.resolve(Wt).then(function(ln){xt.value=ln,N(xt)},function(ln){return et("throw",ln,N,Pe)})}Pe(tt.arg)}var rn;Er(this,"_invoke",{value:function(P,N){function Pe(){return new Gr(function(tt,xt){et(P,N,tt,xt)})}return rn=rn?rn.then(Pe,Pe):Pe()}})}function Ye(hi,Gr,et){var rn=ho;return function(It,P){if(rn===_o)throw new Error("Generator is already running");if(rn===Oo){if("throw"===It)throw P;return{value:Vt,done:!0}}for(et.method=It,et.arg=P;;){var N=et.delegate;if(N){var Pe=Pt(N,et);if(Pe){if(Pe===vo)continue;return Pe}}if("next"===et.method)et.sent=et._sent=et.arg;else if("throw"===et.method){if(rn===ho)throw rn=Oo,et.arg;et.dispatchException(et.arg)}else"return"===et.method&&et.abrupt("return",et.arg);rn=_o;var tt=to(hi,Gr,et);if("normal"===tt.type){if(rn=et.done?Oo:co,tt.arg===vo)continue;return{value:tt.arg,done:et.done}}"throw"===tt.type&&(rn=Oo,et.method="throw",et.arg=tt.arg)}}}function Pt(hi,Gr){var et=Gr.method,rn=hi.iterator[et];if(rn===Vt)return Gr.delegate=null,"throw"===et&&hi.iterator.return&&(Gr.method="return",Gr.arg=Vt,Pt(hi,Gr),"throw"===Gr.method)||"return"!==et&&(Gr.method="throw",Gr.arg=new TypeError("The iterator does not provide a '"+et+"' method")),vo;var It=to(rn,hi.iterator,Gr.arg);if("throw"===It.type)return Gr.method="throw",Gr.arg=It.arg,Gr.delegate=null,vo;var P=It.arg;return P?P.done?(Gr[hi.resultName]=P.value,Gr.next=hi.nextLoc,"return"!==Gr.method&&(Gr.method="next",Gr.arg=Vt),Gr.delegate=null,vo):P:(Gr.method="throw",Gr.arg=new TypeError("iterator result is not an object"),Gr.delegate=null,vo)}function zn(hi){var Gr={tryLoc:hi[0]};1 in hi&&(Gr.catchLoc=hi[1]),2 in hi&&(Gr.finallyLoc=hi[2],Gr.afterLoc=hi[3]),this.tryEntries.push(Gr)}function hr(hi){var Gr=hi.completion||{};Gr.type="normal",delete Gr.arg,hi.completion=Gr}function Li(hi){this.tryEntries=[{tryLoc:"root"}],hi.forEach(zn,this),this.reset(!0)}function $i(hi){if(hi||""===hi){var Gr=hi[Rr];if(Gr)return Gr.call(hi);if("function"==typeof hi.next)return hi;if(!isNaN(hi.length)){var et=-1,rn=function It(){for(;++et<hi.length;)if(ar.call(hi,et))return It.value=hi[et],It.done=!1,It;return It.value=Vt,It.done=!0,It};return rn.next=rn}}throw new TypeError(h(hi)+" is not iterable")}return Je.prototype=Kt,Er(O,"constructor",{value:Kt,configurable:!0}),Er(Kt,"constructor",{value:Je,configurable:!0}),Je.displayName=zr(Kt,ii,"GeneratorFunction"),an.isGeneratorFunction=function(hi){var Gr="function"==typeof hi&&hi.constructor;return!!Gr&&(Gr===Je||"GeneratorFunction"===(Gr.displayName||Gr.name))},an.mark=function(hi){return Object.setPrototypeOf?Object.setPrototypeOf(hi,Kt):(hi.__proto__=Kt,zr(hi,ii,"GeneratorFunction")),hi.prototype=Object.create(O),hi},an.awrap=function(hi){return{__await:hi}},ie(X.prototype),zr(X.prototype,Pr,function(){return this}),an.AsyncIterator=X,an.async=function(hi,Gr,et,rn,It){void 0===It&&(It=Promise);var P=new X(Ni(hi,Gr,et,rn),It);return an.isGeneratorFunction(Gr)?P:P.next().then(function(N){return N.done?N.value:P.next()})},ie(O),zr(O,ii,"Generator"),zr(O,Rr,function(){return this}),zr(O,"toString",function(){return"[object Generator]"}),an.keys=function(hi){var Gr=Object(hi),et=[];for(var rn in Gr)et.push(rn);return et.reverse(),function It(){for(;et.length;){var P=et.pop();if(P in Gr)return It.value=P,It.done=!1,It}return It.done=!0,It}},an.values=$i,Li.prototype={constructor:Li,reset:function(Gr){if(this.prev=0,this.next=0,this.sent=this._sent=Vt,this.done=!1,this.delegate=null,this.method="next",this.arg=Vt,this.tryEntries.forEach(hr),!Gr)for(var et in this)"t"===et.charAt(0)&&ar.call(this,et)&&!isNaN(+et.slice(1))&&(this[et]=Vt)},stop:function(){this.done=!0;var Gr=this.tryEntries[0].completion;if("throw"===Gr.type)throw Gr.arg;return this.rval},dispatchException:function(Gr){if(this.done)throw Gr;var et=this;function rn(xt,Wt){return N.type="throw",N.arg=Gr,et.next=xt,Wt&&(et.method="next",et.arg=Vt),!!Wt}for(var It=this.tryEntries.length-1;It>=0;--It){var P=this.tryEntries[It],N=P.completion;if("root"===P.tryLoc)return rn("end");if(P.tryLoc<=this.prev){var Pe=ar.call(P,"catchLoc"),tt=ar.call(P,"finallyLoc");if(Pe&&tt){if(this.prev<P.catchLoc)return rn(P.catchLoc,!0);if(this.prev<P.finallyLoc)return rn(P.finallyLoc)}else if(Pe){if(this.prev<P.catchLoc)return rn(P.catchLoc,!0)}else{if(!tt)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return rn(P.finallyLoc)}}}},abrupt:function(Gr,et){for(var rn=this.tryEntries.length-1;rn>=0;--rn){var It=this.tryEntries[rn];if(It.tryLoc<=this.prev&&ar.call(It,"finallyLoc")&&this.prev<It.finallyLoc){var P=It;break}}P&&("break"===Gr||"continue"===Gr)&&P.tryLoc<=et&&et<=P.finallyLoc&&(P=null);var N=P?P.completion:{};return N.type=Gr,N.arg=et,P?(this.method="next",this.next=P.finallyLoc,vo):this.complete(N)},complete:function(Gr,et){if("throw"===Gr.type)throw Gr.arg;return"break"===Gr.type||"continue"===Gr.type?this.next=Gr.arg:"return"===Gr.type?(this.rval=this.arg=Gr.arg,this.method="return",this.next="end"):"normal"===Gr.type&&et&&(this.next=et),vo},finish:function(Gr){for(var et=this.tryEntries.length-1;et>=0;--et){var rn=this.tryEntries[et];if(rn.finallyLoc===Gr)return this.complete(rn.completion,rn.afterLoc),hr(rn),vo}},catch:function(Gr){for(var et=this.tryEntries.length-1;et>=0;--et){var rn=this.tryEntries[et];if(rn.tryLoc===Gr){var It=rn.completion;if("throw"===It.type){var P=It.arg;hr(rn)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(Gr,et,rn){return this.delegate={iterator:$i(Gr),resultName:et,nextLoc:rn},"next"===this.method&&(this.arg=Vt),vo}},an}function A(Vt,an){var un=Object.keys(Vt);if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(Vt);an&&(ar=ar.filter(function(Er){return Object.getOwnPropertyDescriptor(Vt,Er).enumerable})),un.push.apply(un,ar)}return un}function T(Vt){for(var an=1;an<arguments.length;an++){var un=null!=arguments[an]?arguments[an]:{};an%2?A(Object(un),!0).forEach(function(ar){b(Vt,ar,un[ar])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Vt,Object.getOwnPropertyDescriptors(un)):A(Object(un)).forEach(function(ar){Object.defineProperty(Vt,ar,Object.getOwnPropertyDescriptor(un,ar))})}return Vt}function b(Vt,an,un){return an=function J(Vt){var an=function ce(Vt,an){if("object"!=h(Vt)||!Vt)return Vt;var un=Vt[Symbol.toPrimitive];if(void 0!==un){var ar=un.call(Vt,an||"default");if("object"!=h(ar))return ar;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===an?String:Number)(Vt)}(Vt,"string");return"symbol"==h(an)?an:String(an)}(an),an in Vt?Object.defineProperty(Vt,an,{value:un,enumerable:!0,configurable:!0,writable:!0}):Vt[an]=un,Vt}function W(Vt,an,un,ar,Er,rr,Rr){try{var Pr=Vt[rr](Rr),ii=Pr.value}catch(zr){return void un(zr)}Pr.done?an(ii):Promise.resolve(ii).then(ar,Er)}function se(Vt){return function(){var an=this,un=arguments;return new Promise(function(ar,Er){var rr=Vt.apply(an,un);function Rr(ii){W(rr,ar,Er,Rr,Pr,"next",ii)}function Pr(ii){W(rr,ar,Er,Rr,Pr,"throw",ii)}Rr(void 0)})}}function Q(Vt,an){return function Me(Vt){if(Array.isArray(Vt))return Vt}(Vt)||function ae(Vt,an){var un=null==Vt?null:typeof Symbol<"u"&&Vt[Symbol.iterator]||Vt["@@iterator"];if(null!=un){var ar,Er,rr,Rr,Pr=[],ii=!0,zr=!1;try{if(rr=(un=un.call(Vt)).next,0===an){if(Object(un)!==un)return;ii=!1}else for(;!(ii=(ar=rr.call(un)).done)&&(Pr.push(ar.value),Pr.length!==an);ii=!0);}catch(Ni){zr=!0,Er=Ni}finally{try{if(!ii&&null!=un.return&&(Rr=un.return(),Object(Rr)!==Rr))return}finally{if(zr)throw Er}}return Pr}}(Vt,an)||K(Vt,an)||function Ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(Vt,an){var un=typeof Symbol<"u"&&Vt[Symbol.iterator]||Vt["@@iterator"];if(!un){if(Array.isArray(Vt)||(un=K(Vt))||an&&Vt&&"number"==typeof Vt.length){un&&(Vt=un);var ar=0,Er=function(){};return{s:Er,n:function(){return ar>=Vt.length?{done:!0}:{done:!1,value:Vt[ar++]}},e:function(zr){throw zr},f:Er}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Pr,rr=!0,Rr=!1;return{s:function(){un=un.call(Vt)},n:function(){var zr=un.next();return rr=zr.done,zr},e:function(zr){Rr=!0,Pr=zr},f:function(){try{!rr&&null!=un.return&&un.return()}finally{if(Rr)throw Pr}}}}function K(Vt,an){if(Vt){if("string"==typeof Vt)return Ge(Vt,an);var un=Object.prototype.toString.call(Vt).slice(8,-1);if("Object"===un&&Vt.constructor&&(un=Vt.constructor.name),"Map"===un||"Set"===un)return Array.from(Vt);if("Arguments"===un||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return Ge(Vt,an)}}function Ge(Vt,an){(null==an||an>Vt.length)&&(an=Vt.length);for(var un=0,ar=new Array(an);un<an;un++)ar[un]=Vt[un];return ar}var gt=F.error,_t=F.warn;function zt(Vt){return typeof document<"u"&&document.getElementById?document.getElementById(Vt):null}var Rn=33984,Oe=35048,De=34962,He=34963,We=35345,st=35982,ft=36386,wt=35713,kt=35714,je=35632,Ce=35633,ne=35981,Re=35718,te=35721,y=35971,M=35382,Y=35396,G=35398,_e=35392,Z=35395,f=5126,Ue=34067,Ht=35866,fn={};function cr(Vt,an){return fn[an].bindPoint}function Co(Vt,an){return function(un){Vt.uniform1i(an,un)}}function wo(Vt,an){return function(un){Vt.uniform1iv(an,un)}}function So(Vt,an){return function(un){Vt.uniform2iv(an,un)}}function xo(Vt,an){return function(un){Vt.uniform3iv(an,un)}}function Po(Vt,an){return function(un){Vt.uniform4iv(an,un)}}function Yr(Vt,an,un,ar){var Er=cr(0,an);return U.isWebGL2(Vt)?function(rr){var Rr,Pr;!rr||F.isTexture(Vt,rr)?(Rr=rr,Pr=null):(Rr=rr.texture,Pr=rr.sampler),Vt.uniform1i(ar,un),Vt.activeTexture(Rn+un),Vt.bindTexture(Er,Rr),Vt.bindSampler(un,Pr)}:function(rr){Vt.uniform1i(ar,un),Vt.activeTexture(Rn+un),Vt.bindTexture(Er,rr)}}function ui(Vt,an,un,ar,Er){for(var rr=cr(0,an),Rr=new Int32Array(Er),Pr=0;Pr<Er;++Pr)Rr[Pr]=un+Pr;return U.isWebGL2(Vt)?function(ii){Vt.uniform1iv(ar,Rr),ii.forEach(function(zr,Ni){var to,ho;Vt.activeTexture(Rn+Rr[Ni]),!zr||F.isTexture(Vt,zr)?(to=zr,ho=null):(to=zr.texture,ho=zr.sampler),Vt.bindSampler(un,ho),Vt.bindTexture(rr,to)})}:function(ii){Vt.uniform1iv(ar,Rr),ii.forEach(function(zr,Ni){Vt.activeTexture(Rn+Rr[Ni]),Vt.bindTexture(rr,zr)})}}function Ri(Vt,an){return function(un){if(un.value)switch(Vt.disableVertexAttribArray(an),un.value.length){case 4:Vt.vertexAttrib4fv(an,un.value);break;case 3:Vt.vertexAttrib3fv(an,un.value);break;case 2:Vt.vertexAttrib2fv(an,un.value);break;case 1:Vt.vertexAttrib1fv(an,un.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else Vt.bindBuffer(De,un.buffer),Vt.enableVertexAttribArray(an),Vt.vertexAttribPointer(an,un.numComponents||un.size,un.type||f,un.normalize||!1,un.stride||0,un.offset||0),Vt.vertexAttribDivisor&&Vt.vertexAttribDivisor(an,un.divisor||0)}}function eo(Vt,an){return function(un){if(un.value){if(Vt.disableVertexAttribArray(an),4!==un.value.length)throw new Error("The length of an integer constant value must be 4!");Vt.vertexAttrib4iv(an,un.value)}else Vt.bindBuffer(De,un.buffer),Vt.enableVertexAttribArray(an),Vt.vertexAttribIPointer(an,un.numComponents||un.size,un.type||5124,un.stride||0,un.offset||0),Vt.vertexAttribDivisor&&Vt.vertexAttribDivisor(an,un.divisor||0)}}function Ki(Vt,an){return function(un){if(un.value){if(Vt.disableVertexAttribArray(an),4!==un.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");Vt.vertexAttrib4uiv(an,un.value)}else Vt.bindBuffer(De,un.buffer),Vt.enableVertexAttribArray(an),Vt.vertexAttribIPointer(an,un.numComponents||un.size,un.type||5125,un.stride||0,un.offset||0),Vt.vertexAttribDivisor&&Vt.vertexAttribDivisor(an,un.divisor||0)}}function Qi(Vt,an,un){var ar=un.size,Er=un.count;return function(rr){Vt.bindBuffer(De,rr.buffer);for(var Rr=rr.size||rr.numComponents||ar,Pr=Rr/Er,ii=rr.type||f,Ni=fn[ii].size*Rr,to=rr.normalize||!1,ho=rr.offset||0,co=Ni/Er,_o=0;_o<Er;++_o)Vt.enableVertexAttribArray(an+_o),Vt.vertexAttribPointer(an+_o,Pr,ii,to,Ni,ho+co*_o),Vt.vertexAttribDivisor&&Vt.vertexAttribDivisor(an+_o,rr.divisor||0)}}fn[f]={Type:Float32Array,size:4,setter:function Hr(Vt,an){return function(un){Vt.uniform1f(an,un)}},arraySetter:function ti(Vt,an){return function(un){Vt.uniform1fv(an,un)}}},fn[35664]={Type:Float32Array,size:8,setter:function mi(Vt,an){return function(un){Vt.uniform2fv(an,un)}},cols:2},fn[35665]={Type:Float32Array,size:12,setter:function li(Vt,an){return function(un){Vt.uniform3fv(an,un)}},cols:3},fn[35666]={Type:Float32Array,size:16,setter:function Io(Vt,an){return function(un){Vt.uniform4fv(an,un)}},cols:4},fn[5124]={Type:Int32Array,size:4,setter:Co,arraySetter:wo},fn[35667]={Type:Int32Array,size:8,setter:So,cols:2},fn[35668]={Type:Int32Array,size:12,setter:xo,cols:3},fn[35669]={Type:Int32Array,size:16,setter:Po,cols:4},fn[5125]={Type:Uint32Array,size:4,setter:function nn(Vt,an){return function(un){Vt.uniform1ui(an,un)}},arraySetter:function xn(Vt,an){return function(un){Vt.uniform1uiv(an,un)}}},fn[36294]={Type:Uint32Array,size:8,setter:function sr(Vt,an){return function(un){Vt.uniform2uiv(an,un)}},cols:2},fn[36295]={Type:Uint32Array,size:12,setter:function br(Vt,an){return function(un){Vt.uniform3uiv(an,un)}},cols:3},fn[36296]={Type:Uint32Array,size:16,setter:function Vr(Vt,an){return function(un){Vt.uniform4uiv(an,un)}},cols:4},fn[35670]={Type:Uint32Array,size:4,setter:Co,arraySetter:wo},fn[35671]={Type:Uint32Array,size:8,setter:So,cols:2},fn[35672]={Type:Uint32Array,size:12,setter:xo,cols:3},fn[35673]={Type:Uint32Array,size:16,setter:Po,cols:4},fn[35674]={Type:Float32Array,size:32,setter:function _r(Vt,an){return function(un){Vt.uniformMatrix2fv(an,!1,un)}},rows:2,cols:2},fn[35675]={Type:Float32Array,size:48,setter:function jt(Vt,an){return function(un){Vt.uniformMatrix3fv(an,!1,un)}},rows:3,cols:3},fn[35676]={Type:Float32Array,size:64,setter:function pe(Vt,an){return function(un){Vt.uniformMatrix4fv(an,!1,un)}},rows:4,cols:4},fn[35685]={Type:Float32Array,size:32,setter:function ht(Vt,an){return function(un){Vt.uniformMatrix2x3fv(an,!1,un)}},rows:2,cols:3},fn[35686]={Type:Float32Array,size:32,setter:function On(Vt,an){return function(un){Vt.uniformMatrix2x4fv(an,!1,un)}},rows:2,cols:4},fn[35687]={Type:Float32Array,size:48,setter:function pn(Vt,an){return function(un){Vt.uniformMatrix3x2fv(an,!1,un)}},rows:3,cols:2},fn[35688]={Type:Float32Array,size:48,setter:function Dr(Vt,an){return function(un){Vt.uniformMatrix3x4fv(an,!1,un)}},rows:3,cols:4},fn[35689]={Type:Float32Array,size:64,setter:function lr(Vt,an){return function(un){Vt.uniformMatrix4x2fv(an,!1,un)}},rows:4,cols:2},fn[35690]={Type:Float32Array,size:64,setter:function ni(Vt,an){return function(un){Vt.uniformMatrix4x3fv(an,!1,un)}},rows:4,cols:3},fn[35678]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:3553},fn[35680]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ue},fn[35679]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:32879},fn[35682]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:3553},fn[36289]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ht},fn[36292]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ht},fn[36293]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ue},fn[36298]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:3553},fn[36299]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:32879},fn[36300]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ue},fn[36303]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ht},fn[36306]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:3553},fn[36307]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:32879},fn[36308]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ue},fn[36311]={Type:null,size:0,setter:Yr,arraySetter:ui,bindPoint:Ht};var Yi={};Yi[f]={size:4,setter:Ri},Yi[35664]={size:8,setter:Ri},Yi[35665]={size:12,setter:Ri},Yi[35666]={size:16,setter:Ri},Yi[5124]={size:4,setter:eo},Yi[35667]={size:8,setter:eo},Yi[35668]={size:12,setter:eo},Yi[35669]={size:16,setter:eo},Yi[5125]={size:4,setter:Ki},Yi[36294]={size:8,setter:Ki},Yi[36295]={size:12,setter:Ki},Yi[36296]={size:16,setter:Ki},Yi[35670]={size:4,setter:eo},Yi[35671]={size:8,setter:eo},Yi[35672]={size:12,setter:eo},Yi[35673]={size:16,setter:eo},Yi[35674]={size:4,setter:Qi,count:2},Yi[35675]={size:9,setter:Qi,count:3},Yi[35676]={size:16,setter:Qi,count:4};var bo=/ERROR:\s*\d+:(\d+)/gi,Gt=/^[ \t]*\n/;function Se(Vt){var an=0;return Gt.test(Vt)&&(an=1,Vt=Vt.replace(Gt,"")),{lineOffset:an,shaderSource:Vt}}function vt(Vt,an){return Vt.errorCallback(an),Vt.callback&&setTimeout(function(){Vt.callback("".concat(an,"\n").concat(Vt.errors.join("\n")))}),null}function Xt(Vt,an,un,ar){if(ar=ar||gt,!Vt.getShaderParameter(un,wt)){var rr=Vt.getShaderInfoLog(un),Rr=Se(Vt.getShaderSource(un)),zr="".concat(function Bo(Vt){var an=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",un=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,ar=function $(Vt){return function Ve(Vt){if(Array.isArray(Vt))return Ge(Vt)}(Vt)||function Ne(Vt){if(typeof Symbol<"u"&&null!=Vt[Symbol.iterator]||null!=Vt["@@iterator"])return Array.from(Vt)}(Vt)||K(Vt)||function ge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(an.matchAll(bo)),Er=new Map(ar.map(function(rr,Rr){var Pr=parseInt(rr[1]),ii=ar[Rr+1];return[Pr-1,an.substring(rr.index,ii?ii.index:an.length)]}));return Vt.split("\n").map(function(rr,Rr){var Pr=Er.get(Rr);return"".concat(Rr+1+un,": ").concat(rr).concat(Pr?"\n\n^^^ ".concat(Pr):"")}).join("\n")}(Rr.shaderSource,rr,Rr.lineOffset),"\nError compiling ").concat(U.glEnumToString(Vt,an),": ").concat(rr);return ar(zr),zr}return""}function Cn(Vt,an,un){var ar,Er,rr;if("function"==typeof an&&(un=an,an=void 0),"function"==typeof Vt)un=Vt,Vt=void 0;else if(Vt&&!Array.isArray(Vt)){var Rr=Vt;un=Rr.errorCallback,Vt=Rr.attribLocations,ar=Rr.transformFeedbackVaryings,Er=Rr.transformFeedbackMode,rr=Rr.callback}var Pr=un||gt,ii=[],zr={errorCallback:function(ho){ii.push(ho);for(var co=arguments.length,_o=new Array(co>1?co-1:0),Oo=1;Oo<co;Oo++)_o[Oo-1]=arguments[Oo];Pr.apply(void 0,[ho].concat(_o))},transformFeedbackVaryings:ar,transformFeedbackMode:Er,callback:rr,errors:ii},Ni={};return Array.isArray(Vt)?Vt.forEach(function(to,ho){Ni[to]=an?an[ho]:ho}):Ni=Vt||{},zr.attribLocations=Ni,zr}var tr=["VERTEX_SHADER","FRAGMENT_SHADER"];function kr(Vt,an){return an.indexOf("frag")>=0?je:an.indexOf("vert")>=0?Ce:void 0}var $r=function(){var an=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(un){return setTimeout(un,an)})};function Hi(Vt,an,un){for(var ar=Vt.createProgram(),Er=Cn(un),rr=Er.attribLocations,Rr=Er.transformFeedbackVaryings,Pr=Er.transformFeedbackMode,ii=0;ii<an.length;++ii){var zr=an[ii];if("string"==typeof zr){var Ni=zt(zr),to=Ni?Ni.text:zr,ho=Vt[tr[ii]];Ni&&Ni.type&&(ho=kr(0,Ni.type)||ho),zr=Vt.createShader(ho),Vt.shaderSource(zr,Se(to).shaderSource),Vt.compileShader(zr),Vt.attachShader(ar,zr)}}Object.entries(rr).forEach(function(_o){var Oo=Q(_o,2);return Vt.bindAttribLocation(ar,Oo[1],Oo[0])});var co=Rr;return co&&(co.attribs&&(co=co.attribs),Array.isArray(co)||(co=Object.keys(co)),Vt.transformFeedbackVaryings(ar,co,Pr||ne)),Vt.linkProgram(ar),ar}function Mo(Vt,an,un,ar,Er){var rr=Cn(un,ar,Er),Rr=new Set(an),Pr=Hi(Vt,an,rr);function ii(zr,Ni){var to=Ps(zr,Ni,rr.errorCallback);return to&&function Ii(Vt,an,un){var rr,Er=q(Vt.getAttachedShaders(an));try{for(Er.s();!(rr=Er.n()).done;){var Rr=rr.value;un.has(Rr)&&Vt.deleteShader(Rr)}}catch(Pr){Er.e(Pr)}finally{Er.f()}Vt.deleteProgram(an)}(zr,Ni,Rr),to}if(!rr.callback)return ii(Vt,Pr)?void 0:Pr;Os(Vt,Pr).then(function(){var zr=ii(Vt,Pr);rr.callback(zr,zr?void 0:Pr)})}function Wo(Vt){return function(an,un){for(var ar=arguments.length,Er=new Array(ar>2?ar-2:0),rr=2;rr<ar;rr++)Er[rr-2]=arguments[rr];return new Promise(function(Rr,Pr){var ii=Cn.apply(void 0,Er);ii.callback=function(zr,Ni){zr?Pr(zr):Rr(Ni)},Vt(an,un,ii)})}}function Os(Vt,an){return Lo.apply(this,arguments)}function Lo(){return(Lo=se(B().mark(function Vt(an,un){var ar,Er,rr;return B().wrap(function(Pr){for(;;)switch(Pr.prev=Pr.next){case 0:ar=an.getExtension("KHR_parallel_shader_compile"),Er=ar?function(ii,zr){return ii.getProgramParameter(zr,ar.COMPLETION_STATUS_KHR)}:function(){return!0},rr=0;case 3:return Pr.next=5,$r(rr);case 5:rr=16.666666666666668;case 6:if(!Er(an,un)){Pr.next=3;break}case 7:case"end":return Pr.stop()}},Vt)}))).apply(this,arguments)}function Xo(){return(Xo=se(B().mark(function Vt(an,un){var ar,Er,rr;return B().wrap(function(Pr){for(;;)switch(Pr.prev=Pr.next){case 0:ar=0,Er=Object.values(un);case 1:if(!(ar<Er.length)){Pr.next=8;break}return rr=Er[ar],Pr.next=5,Os(an,rr);case 5:ar++,Pr.next=1;break;case 8:case"end":return Pr.stop()}},Vt)}))).apply(this,arguments)}function Ps(Vt,an,un){if(un=un||gt,!Vt.getProgramParameter(an,kt)){var Er=Vt.getProgramInfoLog(an);un("Error in program linking: ".concat(Er));var Rr=Vt.getAttachedShaders(an).map(function(Pr){return Xt(Vt,Vt.getShaderParameter(Pr,Vt.SHADER_TYPE),Pr,un)});return"".concat(Er,"\n").concat(Rr.filter(function(Pr){return Pr}).join("\n"))}}function Hn(Vt,an,un,ar,Er){return Mo(Vt,an,un,ar,Er)}function Ir(Vt){var an=Vt.name;return an.startsWith("gl_")||an.startsWith("webgl_")}C.createProgramAsync=Wo(Mo),C.createProgramInfoAsync=Wo(gr);var ri=/(\.|\[|]|\w+)/g,si=function(an){return an>="0"&&an<="9"};function Xr(Vt,an,un,ar){for(var Er=Vt.split(ri).filter(function(_o){return""!==_o}),rr=0,Rr="";;){var Pr=Er[rr++];Rr+=Pr;var ii=si(Pr[0]),zr=ii?parseInt(Pr):Pr;if(ii&&(Rr+=Er[rr++]),rr===Er.length){un[zr]=an;break}var to=Er[rr++],co=un[zr]||("["===to?[]:{});un[zr]=co,un=co,ar[Rr]=ar[Rr]||function(_o){return function(Oo){Vo(_o,Oo)}}(co),Rr+=to}}function ki(Vt,an){var un=0;function ar(ho,co,_o){var Je,Oo=co.name.endsWith("[0]"),vo=co.type,Yo=fn[vo];if(!Yo)throw new Error("unknown type: 0x".concat(vo.toString(16)));if(Yo.bindPoint){var Kt=un;un+=co.size,Je=Oo?Yo.arraySetter(Vt,vo,Kt,_o,co.size):Yo.setter(Vt,vo,Kt,_o,co.size)}else Je=Yo.arraySetter&&Oo?Yo.arraySetter(Vt,_o):Yo.setter(Vt,_o);return Je.location=_o,Je}for(var Er={},rr={},Rr=Vt.getProgramParameter(an,Re),Pr=0;Pr<Rr;++Pr){var ii=Vt.getActiveUniform(an,Pr);if(!Ir(ii)){var zr=ii.name;zr.endsWith("[0]")&&(zr=zr.substr(0,zr.length-3));var Ni=Vt.getUniformLocation(an,ii.name);if(Ni){var to=ar(0,ii,Ni);Er[zr]=to,Xr(zr,to,rr,Er)}}}return Er}function Ji(Vt,an){for(var un={},ar=Vt.getProgramParameter(an,y),Er=0;Er<ar;++Er){var rr=Vt.getTransformFeedbackVarying(an,Er);un[rr.name]={index:Er,type:rr.type,size:rr.size}}return un}function po(Vt,an,un){for(var ar in an.transformFeedbackInfo&&(an=an.transformFeedbackInfo),un.attribs&&(un=un.attribs),un){var Er=an[ar];if(Er){var rr=un[ar];rr.offset?Vt.bindBufferRange(st,Er.index,rr.buffer,rr.offset,rr.size):Vt.bindBufferBase(st,Er.index,rr.buffer)}}}function os(Vt,an){for(var un=Vt.getProgramParameter(an,Re),ar=[],Er=[],rr=0;rr<un;++rr){Er.push(rr),ar.push({});var Rr=Vt.getActiveUniform(an,rr);ar[rr].name=Rr.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(ho){var _o=ho[1];Vt.getActiveUniforms(an,Er,Vt[ho[0]]).forEach(function(Oo,vo){ar[vo][_o]=Oo})});for(var Pr={},ii=Vt.getProgramParameter(an,M),zr=0;zr<ii;++zr){var Ni=Vt.getActiveUniformBlockName(an,zr),to={index:Vt.getUniformBlockIndex(an,Ni),usedByVertexShader:Vt.getActiveUniformBlockParameter(an,zr,Y),usedByFragmentShader:Vt.getActiveUniformBlockParameter(an,zr,G),size:Vt.getActiveUniformBlockParameter(an,zr,_e),uniformIndices:Vt.getActiveUniformBlockParameter(an,zr,Z)};to.used=to.usedByVertexShader||to.usedByFragmentShader,Pr[Ni]=to}return{blockSpecs:Pr,uniformData:ar}}var es=/\[\d+\]\.$/,rs=function(an,un){return((an+(un-1))/un|0)*un};function Ro(Vt,an,un,ar){var rr=un.uniformData,Rr=un.blockSpecs[ar];if(!Rr)return _t("no uniform block object named:",ar),{name:ar,uniforms:{}};var Pr=new ArrayBuffer(Rr.size),ii=Vt.createBuffer(),zr=Rr.index;Vt.bindBuffer(We,ii),Vt.uniformBlockBinding(an,Rr.index,zr);var Ni=ar+".";es.test(Ni)&&(Ni=Ni.replace(es,"."));var to={},ho={},co={};return Rr.uniformIndices.forEach(function(_o){var Oo=rr[_o],vo=Oo.name;vo.startsWith(Ni)&&(vo=vo.substr(Ni.length));var Yo=vo.endsWith("[0]");Yo&&(vo=vo.substr(0,vo.length-3));var Je=fn[Oo.type],Kt=Je.Type,Ke=Yo?rs(Je.size,16)*Oo.size:Je.size*Oo.size,L=new Kt(Pr,Oo.offset,Ke/Kt.BYTES_PER_ELEMENT);to[vo]=L;var de=function Fs(Vt,an,un,ar){if(an||un){ar=ar||1;var rr=Vt.length/4;return function(Rr){for(var Pr=0,ii=0,zr=0;zr<rr;++zr){for(var Ni=0;Ni<ar;++Ni)Vt[Pr++]=Rr[ii++];Pr+=4-ar}}}return function(Rr){Rr.length?Vt.set(Rr):Vt[0]=Rr}}(L,Yo,Je.rows,Je.cols);ho[vo]=de,Xr(vo,de,co,ho)}),{name:ar,array:Pr,asFloat:new Float32Array(Pr),buffer:ii,uniforms:to,setters:ho}}function gs(Vt,an,un){var Er=(an.uniformBlockSpec||an).blockSpecs[un.name];return!!Er&&(Vt.bindBufferRange(We,Er.index,un.buffer,un.offset||0,un.array.byteLength),!0)}function Vo(Vt,an){for(var un in an){var ar=Vt[un];"function"==typeof ar?ar(an[un]):Vo(Vt[un],an[un])}}function Ls(Vt){for(var an=Vt.uniformSetters||Vt,un=arguments.length<=1?0:arguments.length-1,ar=0;ar<un;++ar){var Er=ar+1<1||arguments.length<=ar+1?void 0:arguments[ar+1];if(Array.isArray(Er))for(var rr=Er.length,Rr=0;Rr<rr;++Rr)Ls(an,Er[Rr]);else for(var Pr in Er){var ii=an[Pr];ii&&ii(Er[Pr])}}}function ea(Vt,an){for(var un={},ar=Vt.getProgramParameter(an,te),Er=0;Er<ar;++Er){var rr=Vt.getActiveAttrib(an,Er);if(!Ir(rr)){var Rr=Vt.getAttribLocation(an,rr.name),Pr=Yi[rr.type],ii=Pr.setter(Vt,Rr,Pr);ii.location=Rr,un[rr.name]=ii}}return un}function ds(Vt,an){for(var un in an){var ar=Vt[un];ar&&ar(an[un])}}function Wn(Vt,an){var Er={program:an,uniformSetters:ki(Vt,an),attribSetters:ea(Vt,an)};return U.isWebGL2(Vt)&&(Er.uniformBlockSpec=os(Vt,an),Er.transformFeedbackInfo=Ji(Vt,an)),Er}C.setUniformsAndBindTextures=Ls;var er=/\s|{|}|;/;function gr(Vt,an,un,ar,Er){var rr=Cn(un,ar,Er),Rr=[];if(an=an.map(function(zr){if(!er.test(zr)){var Ni=zt(zr);if(Ni)zr=Ni.text;else{var to="no element with id: ".concat(zr);rr.errorCallback(to),Rr.push(to)}}return zr}),Rr.length)return vt(rr,"");var Pr=rr.callback;Pr&&(rr.callback=function(zr,Ni){Pr(zr,zr?void 0:Wn(Vt,Ni))});var ii=Hn(Vt,an,rr);return ii?Wn(Vt,ii):null}function ai(Vt,an,un,ar,Er){for(var rr=0,Rr=Object.entries(an);rr<Rr.length;rr++){var Pr=Q(Rr[rr],2),ii=Pr[0],zr=Pr[1],Ni=T({},Er),to=un[ii];Array.isArray(to)||Object.assign(Ni,to);var ho=Ps(Vt,zr,Ni.errorCallback);if(ho){for(var co=0,_o=Object.values(an);co<_o.length;co++){var Oo=_o[co],vo=Vt.getAttachedShaders(Oo);Vt.deleteProgram(Oo);var Je,Yo=q(vo);try{for(Yo.s();!(Je=Yo.n()).done;){var Kt=Je.value;ar.has(Kt)||Vt.deleteShader(Kt)}}catch(Ke){Yo.e(Ke)}finally{Yo.f()}}return ho}}}function Ti(Vt,an){var un=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ar=new Set,Er=Object.fromEntries(Object.entries(an).map(function(Rr){var Pr=Q(Rr,2),ii=Pr[0],zr=Pr[1],Ni=T({},un),to=Array.isArray(zr)?zr:zr.shaders;return Array.isArray(zr)||Object.assign(Ni,zr),to.forEach(ar.add,ar),[ii,Hi(Vt,to,Ni)]}));if(!un.callback)return ai(Vt,Er,an,ar,un)?void 0:Er;(function ps(Vt,an){return Xo.apply(this,arguments)})(Vt,Er).then(function(){var Rr=ai(Vt,Er,an,ar,un);un.callback(Rr,Rr?void 0:Er)})}function Zi(Vt,an,un){function ar(Rr,Pr){return Object.fromEntries(Object.entries(Pr).map(function(ii){var zr=Q(ii,2);return[zr[0],Wn(Rr,zr[1])]}))}var Er=(un=Cn(un)).callback;Er&&(un.callback=function(Rr,Pr){Er(Rr,Rr?void 0:ar(Vt,Pr))});var rr=Ti(Vt,an,un);if(!Er&&rr)return ar(Vt,rr)}C.createProgramsAsync=Wo(Ti),C.createProgramInfosAsync=Wo(Zi)},"./src/textures.js":
/*!*************************!*\
                !*** ./src/textures.js ***!
                \*************************/(g,C,D)=>{function h(Vn){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Wn){return typeof Wn}:function(Wn){return Wn&&"function"==typeof Symbol&&Wn.constructor===Symbol&&Wn!==Symbol.prototype?"symbol":typeof Wn})(Vn)}C.__esModule=!0,C.canFilter=$r,C.canGenerateMipmap=Ii,C.createSampler=Gn,C.createSamplers=function Hn(Vn,Wn){var er={};return Object.keys(Wn).forEach(function(gr){er[gr]=Gn(Vn,Wn[gr])}),er},C.createTexture=Ls,C.createTextures=function ds(Vn,Wn,er){er=er||po;var gr=0,ai=[],Ti={},Zi={};function go(){0===gr&&setTimeout(function(){er(ai.length?ai:void 0,Ti,Zi)},0)}return Object.keys(Wn).forEach(function(zi){var an,Vt=Wn[zi];(function ea(Vn){return"string"==typeof Vn||Array.isArray(Vn)&&"string"==typeof Vn[0]})(Vt.src)&&(an=function(ar,Er,rr){Zi[zi]=rr,--gr,ar&&ai.push(ar),go()},++gr),Ti[zi]=Ls(Vn,Vt,an)}),go(),Ti},C.getBytesPerElementForInternalFormat=Cn,C.getFormatAndTypeForInternalFormat=tr,C.getNumComponentsForFormat=function Hi(Vn){var Wn=Gt[Vn];if(!Wn)throw"unknown format: "+Vn;return Wn.numColorComponents},C.loadTextureFromUrl=Ms,C.resizeTexture=function _s(Vn,Wn,er,gr,ai,Ti){gr=gr||er.width,ai=ai||er.height,Ti=Ti||er.depth;var Zi=er.target||K;Vn.bindTexture(Zi,Wn);var un,go=er.level||0,zi=er.internalFormat||er.format||se,Vt=tr(zi),an=er.format||Vt.format,ar=er.src;if(un=ar&&(b(ar)||Array.isArray(ar)&&"number"==typeof ar[0])?er.type||Mo(0,ar,Vt.type):er.type||Vt.type,Zi===Ne)for(var Er=0;Er<6;++Er)Vn.texImage2D(gt+Er,go,zi,gr,ai,0,an,un,null);else Zi===Ve||Zi===Ge?Vn.texImage3D(Zi,go,zi,gr,ai,Ti,0,an,un,null):Vn.texImage2D(Zi,go,zi,gr,ai,0,an,un,null)},C.setDefaultTextureColor=xs,C.setEmptyTexture=Vo,C.setSamplerParameters=Ps,C.setTextureDefaults_=function da(Vn){k.copyExistingProperties(Vn,T),Vn.textureColor&&xs(Vn.textureColor)},C.setTextureFilteringForSize=ri,C.setTextureFromArray=Es,C.setTextureFromElement=Ji,C.setTextureParameters=Xo;var U=B(D(
/*! ./utils.js */
"./src/utils.js")),F=B(D(
/*! ./typedarrays.js */
"./src/typedarrays.js")),k=B(D(
/*! ./helper.js */
"./src/helper.js"));function z(Vn){if("function"!=typeof WeakMap)return null;var Wn=new WeakMap,er=new WeakMap;return(z=function(ai){return ai?er:Wn})(Vn)}function B(Vn,Wn){if(!Wn&&Vn&&Vn.__esModule)return Vn;if(null===Vn||"object"!=h(Vn)&&"function"!=typeof Vn)return{default:Vn};var er=z(Wn);if(er&&er.has(Vn))return er.get(Vn);var gr={__proto__:null},ai=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ti in Vn)if("default"!==Ti&&Object.prototype.hasOwnProperty.call(Vn,Ti)){var Zi=ai?Object.getOwnPropertyDescriptor(Vn,Ti):null;Zi&&(Zi.get||Zi.set)?Object.defineProperty(gr,Ti,Zi):gr[Ti]=Vn[Ti]}return gr.default=Vn,er&&er.set(Vn,gr),gr}var vt,T={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},b=F.isArrayBuffer,J=function(){var Vn;return function(){return Vn=Vn||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null)}}(),ce=6406,W=6407,se=6408,Q=6409,Ie=6410,ae=6402,Me=34041,q=33071,$=9728,ge=9729,K=3553,Ne=34067,Ve=32879,Ge=35866,gt=34069,_t=34070,zt=34071,Rn=34072,Oe=34073,De=34074,He=10241,We=10240,st=10242,ft=10243,wt=32882,kt=33082,je=33083,Ce=33084,ne=33085,Re=34892,te=34893,y=3317,M=3314,Y=32878,G=3316,_e=3315,Z=32877,f=37443,V=37441,x=37440,ye=33321,Te=36756,ke=33325,Ee=33326,nt=33330,at=33329,yt=33338,Jt=33337,Qe=33340,Ft=33339,it=33323,Mt=36757,lt=33327,Bt=33328,ct=33336,Tt=33335,rt=33332,Et=33331,vn=33334,In=33333,Un=32849,Jn=35905,Cr=36194,wn=36758,cn=35898,Yt=35901,Qt=34843,jn=34837,Lt=36221,Dn=36239,Pn=36215,Sn=36233,Tn=36209,dn=36227,Bn=32856,Ct=35907,me=36759,ue=32855,Ue=32854,bt=32857,Ht=34842,fn=34836,cr=36220,Hr=36238,ti=36975,mi=36214,li=36232,Io=36226,Co=36208,wo=33189,So=33190,xo=36012,Po=36013,nn=35056,xn=5120,sr=5121,br=5122,Vr=5123,_r=5124,jt=5125,pe=5126,ht=32819,pn=32820,On=33635,lr=5131,Dr=36193,ni=33640,Yr=35899,ui=35902,Ri=36269,eo=34042,Ki=33319,Qi=33320,Yi=6403,qi=36244,bo=36248,Bo=36249,Gt={},Se=Gt;function Xt(Vn){if(!vt){var Wn={};Wn[ce]={textureFormat:ce,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[sr,lr,Dr,pe]},Wn[Q]={textureFormat:Q,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[sr,lr,Dr,pe]},Wn[Ie]={textureFormat:Ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[sr,lr,Dr,pe]},Wn[W]={textureFormat:W,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[sr,lr,Dr,pe,On]},Wn[se]={textureFormat:se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[sr,lr,Dr,pe,ht,pn]},Wn[ae]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[jt,Vr]},Wn[ye]={textureFormat:Yi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[sr]},Wn[Te]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[xn]},Wn[ke]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[pe,lr]},Wn[Ee]={textureFormat:Yi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[pe]},Wn[nt]={textureFormat:qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[sr]},Wn[at]={textureFormat:qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[xn]},Wn[rt]={textureFormat:qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Vr]},Wn[Et]={textureFormat:qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[br]},Wn[vn]={textureFormat:qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jt]},Wn[In]={textureFormat:qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_r]},Wn[it]={textureFormat:Ki,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[sr]},Wn[Mt]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[xn]},Wn[lt]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[pe,lr]},Wn[Bt]={textureFormat:Ki,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[pe]},Wn[ct]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[sr]},Wn[Tt]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xn]},Wn[yt]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Vr]},Wn[Jt]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[br]},Wn[Qe]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[jt]},Wn[Ft]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[_r]},Wn[Un]={textureFormat:W,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[sr]},Wn[Jn]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[sr]},Wn[Cr]={textureFormat:W,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[sr,On]},Wn[wn]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[xn]},Wn[cn]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[pe,lr,Yr]},Wn[Yt]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[pe,lr,ui]},Wn[Qt]={textureFormat:W,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[pe,lr]},Wn[jn]={textureFormat:W,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[pe]},Wn[Lt]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[sr]},Wn[Dn]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[xn]},Wn[Pn]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Vr]},Wn[Sn]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[br]},Wn[Tn]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[jt]},Wn[dn]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[_r]},Wn[Bn]={textureFormat:se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[sr]},Wn[Ct]={textureFormat:se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[sr]},Wn[me]={textureFormat:se,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[xn]},Wn[ue]={textureFormat:se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[sr,pn,ni]},Wn[Ue]={textureFormat:se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[sr,ht]},Wn[bt]={textureFormat:se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[ni]},Wn[Ht]={textureFormat:se,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[pe,lr]},Wn[fn]={textureFormat:se,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[pe]},Wn[cr]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[sr]},Wn[Hr]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xn]},Wn[ti]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ni]},Wn[mi]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Vr]},Wn[li]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[br]},Wn[Io]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[_r]},Wn[Co]={textureFormat:Bo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[jt]},Wn[wo]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Vr,jt]},Wn[So]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jt]},Wn[xo]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[pe]},Wn[nn]={textureFormat:Me,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[eo]},Wn[Po]={textureFormat:Me,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ri]},Object.keys(Wn).forEach(function(er){var gr=Wn[er];gr.bytesPerElementMap={},gr.bytesPerElement.forEach(function(ai,Ti){gr.bytesPerElementMap[gr.type[Ti]]=ai})}),vt=Wn}return vt[Vn]}function Cn(Vn,Wn){var er=Xt(Vn);if(!er)throw"unknown internal format";var gr=er.bytesPerElementMap[Wn];if(void 0===gr)throw"unknown internal format";return gr}function tr(Vn){var Wn=Xt(Vn);if(!Wn)throw"unknown internal format";return{format:Wn.textureFormat,type:Wn.type[0]}}function kr(Vn){return!(Vn&Vn-1)}function Ii(Vn,Wn,er,gr){if(!U.isWebGL2(Vn))return kr(Wn)&&kr(er);var ai=Xt(gr);if(!ai)throw"unknown internal format";return ai.colorRenderable&&ai.textureFilterable}function $r(Vn){var Wn=Xt(Vn);if(!Wn)throw"unknown internal format";return Wn.textureFilterable}function Mo(Vn,Wn,er){return b(Wn)?F.getGLTypeForTypedArray(Wn):er||sr}function Wo(Vn,Wn,er,gr,ai){if(ai%1!=0)throw"can't guess dimensions";if(er||gr){if(gr){if(!er&&(er=ai/gr)%1)throw"can't guess dimensions"}else if((gr=ai/er)%1)throw"can't guess dimensions"}else{var Ti=Math.sqrt(ai/(Wn===Ne?6:1));Ti%1==0?(er=Ti,gr=Ti):(er=ai,gr=1)}return{width:er,height:gr}}function xs(Vn){T.textureColor=new Uint8Array([255*Vn[0],255*Vn[1],255*Vn[2],255*Vn[3]])}function Os(Vn,Wn){void 0!==Wn.colorspaceConversion&&Vn.pixelStorei(f,Wn.colorspaceConversion),void 0!==Wn.premultiplyAlpha&&Vn.pixelStorei(V,Wn.premultiplyAlpha),void 0!==Wn.flipY&&Vn.pixelStorei(x,Wn.flipY)}function Lo(Vn){Vn.pixelStorei(y,4),U.isWebGL2(Vn)&&(Vn.pixelStorei(M,0),Vn.pixelStorei(Y,0),Vn.pixelStorei(G,0),Vn.pixelStorei(_e,0),Vn.pixelStorei(Z,0))}function ps(Vn,Wn,er,gr){gr.minMag&&(er.call(Vn,Wn,He,gr.minMag),er.call(Vn,Wn,We,gr.minMag)),gr.min&&er.call(Vn,Wn,He,gr.min),gr.mag&&er.call(Vn,Wn,We,gr.mag),gr.wrap&&(er.call(Vn,Wn,st,gr.wrap),er.call(Vn,Wn,ft,gr.wrap),(Wn===Ve||k.isSampler(Vn,Wn))&&er.call(Vn,Wn,wt,gr.wrap)),gr.wrapR&&er.call(Vn,Wn,wt,gr.wrapR),gr.wrapS&&er.call(Vn,Wn,st,gr.wrapS),gr.wrapT&&er.call(Vn,Wn,ft,gr.wrapT),void 0!==gr.minLod&&er.call(Vn,Wn,kt,gr.minLod),void 0!==gr.maxLod&&er.call(Vn,Wn,je,gr.maxLod),void 0!==gr.baseLevel&&er.call(Vn,Wn,Ce,gr.baseLevel),void 0!==gr.maxLevel&&er.call(Vn,Wn,ne,gr.maxLevel),void 0!==gr.compareFunc&&er.call(Vn,Wn,te,gr.compareFunc),void 0!==gr.compareMode&&er.call(Vn,Wn,Re,gr.compareMode)}function Xo(Vn,Wn,er){var gr=er.target||K;Vn.bindTexture(gr,Wn),ps(Vn,gr,Vn.texParameteri,er)}function Ps(Vn,Wn,er){ps(Vn,Wn,Vn.samplerParameteri,er)}function Gn(Vn,Wn){var er=Vn.createSampler();return Ps(Vn,er,Wn),er}function ri(Vn,Wn,er,gr,ai,Ti){Ti=Ti||se;var Zi=(er=er||T.textureOptions).target||K;if(gr=gr||er.width,ai=ai||er.height,Vn.bindTexture(Zi,Wn),Ii(Vn,gr,ai,Ti))Vn.generateMipmap(Zi);else{var go=$r(Ti)?ge:$;Vn.texParameteri(Zi,He,go),Vn.texParameteri(Zi,We,go),Vn.texParameteri(Zi,st,q),Vn.texParameteri(Zi,ft,q)}}function si(Vn){return!0===Vn.auto||void 0===Vn.auto&&void 0===Vn.level}function Xr(Vn,Wn){return(Wn=Wn||{}).cubeFaceOrder||[gt,_t,zt,Rn,Oe,De]}function ki(Vn,Wn){var gr=Xr(0,Wn).map(function(ai,Ti){return{face:ai,ndx:Ti}});return gr.sort(function(ai,Ti){return ai.face-Ti.face}),gr}function Ji(Vn,Wn,er,gr){var ai=(gr=gr||T.textureOptions).target||K,Ti=gr.level||0,Zi=er.width,go=er.height,zi=gr.internalFormat||gr.format||se,Vt=tr(zi),an=gr.format||Vt.format,un=gr.type||Vt.type;if(Os(Vn,gr),Vn.bindTexture(ai,Wn),ai===Ne){var rr,Rr,ar=er.width,Er=er.height;if(ar/6===Er)rr=Er,Rr=[0,0,1,0,2,0,3,0,4,0,5,0];else if(Er/6===ar)rr=ar,Rr=[0,0,0,1,0,2,0,3,0,4,0,5];else if(ar/3==Er/2)rr=ar/3,Rr=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(ar/2!=Er/3)throw"can't figure out cube map from element: "+(er.src?er.src:er.nodeName);rr=ar/2,Rr=[0,0,1,0,0,1,1,1,0,2,1,2]}var Pr=J();Pr?(Pr.canvas.width=rr,Pr.canvas.height=rr,Zi=rr,go=rr,ki(0,gr).forEach(function(vo){Pr.drawImage(er,Rr[2*vo.ndx+0]*rr,Rr[2*vo.ndx+1]*rr,rr,rr,0,0,rr,rr),Vn.texImage2D(vo.face,Ti,zi,an,un,Pr.canvas)}),Pr.canvas.width=1,Pr.canvas.height=1):typeof createImageBitmap<"u"&&(Zi=rr,go=rr,ki(0,gr).forEach(function(vo){var Yo=Rr[2*vo.ndx+0]*rr,Je=Rr[2*vo.ndx+1]*rr;Vn.texImage2D(vo.face,Ti,zi,rr,rr,0,an,un,null),createImageBitmap(er,Yo,Je,rr,rr,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(Kt){Os(Vn,gr),Vn.bindTexture(ai,Wn),Vn.texImage2D(vo.face,Ti,zi,an,un,Kt),si(gr)&&ri(Vn,Wn,gr,Zi,go,zi)})}))}else if(ai===Ve||ai===Ge){var ii=Math.min(er.width,er.height),zr=Math.max(er.width,er.height),Ni=zr/ii;if(Ni%1!=0)throw"can not compute 3D dimensions of element";var to=er.width===zr?1:0,ho=er.height===zr?1:0;Vn.pixelStorei(y,1),Vn.pixelStorei(M,er.width),Vn.pixelStorei(Y,0),Vn.pixelStorei(Z,0),Vn.texImage3D(ai,Ti,zi,ii,ii,ii,0,an,un,null);for(var co=0;co<Ni;++co){var Oo=co*ii*ho;Vn.pixelStorei(G,co*ii*to),Vn.pixelStorei(_e,Oo),Vn.texSubImage3D(ai,Ti,0,0,co,ii,ii,1,an,un,er)}Lo(Vn)}else Vn.texImage2D(ai,Ti,zi,an,un,er);si(gr)&&ri(Vn,Wn,gr,Zi,go,zi),Xo(Vn,Wn,gr)}function po(){}function rs(Vn){return typeof ImageBitmap<"u"&&Vn instanceof ImageBitmap||typeof ImageData<"u"&&Vn instanceof ImageData||typeof HTMLElement<"u"&&Vn instanceof HTMLElement}function Fs(Vn,Wn,er){return rs(Vn)?(setTimeout(function(){er(null,Vn)}),Vn):function es(Vn,Wn,er){var gr;if(er=er||po,Wn=function os(Vn,Wn){return void 0!==Wn||function Pi(Vn){if(typeof document<"u"){var Wn=document.createElement("a");return Wn.href=Vn,Wn.hostname===location.hostname&&Wn.port===location.port&&Wn.protocol===location.protocol}var er=new URL(location.href).origin;return new URL(Vn,location.href).origin===er}(Vn)?Wn:"anonymous"}(Vn,Wn=void 0!==Wn?Wn:T.crossOrigin),typeof Image<"u"){gr=new Image,void 0!==Wn&&(gr.crossOrigin=Wn);var ai=function(){gr.removeEventListener("error",Ti),gr.removeEventListener("load",Zi),gr=null},Ti=function(){var ar="couldn't load image: "+Vn;k.error(ar),er(ar,gr),ai()},Zi=function(){er(null,gr),ai()};return gr.addEventListener("error",Ti),gr.addEventListener("load",Zi),gr.src=Vn,gr}if(typeof ImageBitmap<"u"){var go,zi,Vt=function(){er(go,zi)},an={};Wn&&(an.mode="cors"),fetch(Vn,an).then(function(un){if(!un.ok)throw un;return un.blob()}).then(function(un){return createImageBitmap(un,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(un){zi=un,setTimeout(Vt)}).catch(function(un){go=un,setTimeout(Vt)}),gr=null}return gr}(Vn,Wn,er)}function Ro(Vn,Wn,er){var gr=(er=er||T.textureOptions).target||K;if(Vn.bindTexture(gr,Wn),!1!==er.color){var ai=function Ir(Vn){return b(Vn=Vn||T.textureColor)?Vn:new Uint8Array([255*Vn[0],255*Vn[1],255*Vn[2],255*Vn[3]])}(er.color);if(gr===Ne)for(var Ti=0;Ti<6;++Ti)Vn.texImage2D(gt+Ti,0,se,1,1,0,se,sr,ai);else gr===Ve||gr===Ge?Vn.texImage3D(gr,0,se,1,1,1,0,se,sr,ai):Vn.texImage2D(gr,0,se,1,1,0,se,sr,ai)}}function Ms(Vn,Wn,er,gr){return gr=gr||po,Ro(Vn,Wn,er=er||T.textureOptions),Fs((er=Object.assign({},er)).src,er.crossOrigin,function(Ti,Zi){Ti?gr(Ti,Wn,Zi):(Ji(Vn,Wn,Zi,er),gr(null,Wn,Zi))})}function Es(Vn,Wn,er,gr){var ai=(gr=gr||T.textureOptions).target||K;Vn.bindTexture(ai,Wn);var Ti=gr.width,Zi=gr.height,go=gr.depth,zi=gr.level||0,Vt=gr.internalFormat||gr.format||se,an=tr(Vt),un=gr.format||an.format,ar=gr.type||Mo(0,er,an.type);if(b(er))er instanceof Uint8ClampedArray&&(er=new Uint8Array(er.buffer));else{var Er=F.getTypedArrayTypeForGLType(ar);er=new Er(er)}var Pr,rr=Cn(Vt,ar),Rr=er.byteLength/rr;if(Rr%1)throw"length wrong size for format: "+U.glEnumToString(Vn,un);if(ai===Ve||ai===Ge)if(Ti||Zi||go)!Ti||Zi&&go?!Zi||Ti&&go?(Pr=Wo(0,ai,Ti,Zi,Rr/go),Ti=Pr.width,Zi=Pr.height):(Pr=Wo(0,ai,Ti,go,Rr/Zi),Ti=Pr.width,go=Pr.height):(Pr=Wo(0,ai,Zi,go,Rr/Ti),Zi=Pr.width,go=Pr.height);else{var ii=Math.cbrt(Rr);if(ii%1!=0)throw"can't guess cube size of array of numElements: "+Rr;Ti=ii,Zi=ii,go=ii}else Pr=Wo(0,ai,Ti,Zi,Rr),Ti=Pr.width,Zi=Pr.height;if(Lo(Vn),Vn.pixelStorei(y,gr.unpackAlignment||1),Os(Vn,gr),ai===Ne){var Ni=Rr/6*(rr/er.BYTES_PER_ELEMENT);ki(0,gr).forEach(function(to){var ho=Ni*to.ndx,co=er.subarray(ho,ho+Ni);Vn.texImage2D(to.face,zi,Vt,Ti,Zi,0,un,ar,co)})}else ai===Ve||ai===Ge?Vn.texImage3D(ai,zi,Vt,Ti,Zi,go,0,un,ar,er):Vn.texImage2D(ai,zi,Vt,Ti,Zi,0,un,ar,er);return{width:Ti,height:Zi,depth:go,type:ar}}function Vo(Vn,Wn,er){var gr=er.target||K;Vn.bindTexture(gr,Wn);var ai=er.level||0,Ti=er.internalFormat||er.format||se,Zi=tr(Ti),go=er.format||Zi.format,zi=er.type||Zi.type;if(Os(Vn,er),gr===Ne)for(var Vt=0;Vt<6;++Vt)Vn.texImage2D(gt+Vt,ai,Ti,er.width,er.height,0,go,zi,null);else gr===Ve||gr===Ge?Vn.texImage3D(gr,ai,Ti,er.width,er.height,er.depth,0,go,zi,null):Vn.texImage2D(gr,ai,Ti,er.width,er.height,0,go,zi,null)}function Ls(Vn,Wn,er){er=er||po,Wn=Wn||T.textureOptions;var gr=Vn.createTexture(),ai=Wn.target||K,Ti=Wn.width||1,Zi=Wn.height||1,go=Wn.internalFormat||se;Vn.bindTexture(ai,gr),ai===Ne&&(Vn.texParameteri(ai,st,q),Vn.texParameteri(ai,ft,q));var zi=Wn.src;if(zi)if("function"==typeof zi&&(zi=zi(Vn,Wn)),"string"==typeof zi)Ms(Vn,gr,Wn,er);else if(b(zi)||Array.isArray(zi)&&("number"==typeof zi[0]||Array.isArray(zi[0])||b(zi[0]))){var Vt=Es(Vn,gr,zi,Wn);Ti=Vt.width,Zi=Vt.height}else Array.isArray(zi)&&("string"==typeof zi[0]||rs(zi[0]))?ai===Ne?function gs(Vn,Wn,er,gr){gr=gr||po;var ai=er.src;if(6!==ai.length)throw"there must be 6 urls for a cubemap";var Ti=er.level||0,Zi=er.internalFormat||er.format||se,go=tr(Zi),zi=er.format||go.format,Vt=er.type||sr,an=er.target||K;if(an!==Ne)throw"target must be TEXTURE_CUBE_MAP";Ro(Vn,Wn,er),er=Object.assign({},er);var rr,un=6,ar=[],Er=Xr(0,er);rr=ai.map(function(Pr,ii){return Fs(Pr,er.crossOrigin,function Rr(Pr){return function(ii,zr){--un,ii?ar.push(ii):zr.width!==zr.height?ar.push("cubemap face img is not a square: "+zr.src):(Os(Vn,er),Vn.bindTexture(an,Wn),5===un?Xr().forEach(function(Ni){Vn.texImage2D(Ni,Ti,Zi,zi,Vt,zr)}):Vn.texImage2D(Pr,Ti,Zi,zi,Vt,zr),si(er)&&Vn.generateMipmap(an)),0===un&&gr(ar.length?ar:void 0,Wn,rr)}}(Er[ii]))})}(Vn,gr,Wn,er):function ha(Vn,Wn,er,gr){gr=gr||po;var ai=er.src,Ti=er.internalFormat||er.format||se,Zi=tr(Ti),go=er.format||Zi.format,zi=er.type||sr,Vt=er.target||Ge;if(Vt!==Ve&&Vt!==Ge)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Ro(Vn,Wn,er),er=Object.assign({},er);var ar,an=ai.length,un=[],Er=er.level||0,rr=er.width,Rr=er.height,Pr=ai.length,ii=!0;ar=ai.map(function(Ni,to){return Fs(Ni,er.crossOrigin,function zr(Ni){return function(to,ho){if(--an,to)un.push(to);else{if(Os(Vn,er),Vn.bindTexture(Vt,Wn),ii){ii=!1,Vn.texImage3D(Vt,Er,Ti,rr=er.width||ho.width,Rr=er.height||ho.height,Pr,0,go,zi,null);for(var co=0;co<Pr;++co)Vn.texSubImage3D(Vt,Er,0,0,co,rr,Rr,1,go,zi,ho)}else{var Oo,_o=ho;(ho.width!==rr||ho.height!==Rr)&&(_o=(Oo=J()).canvas,Oo.canvas.width=rr,Oo.canvas.height=Rr,Oo.drawImage(ho,0,0,rr,Rr)),Vn.texSubImage3D(Vt,Er,0,0,Ni,rr,Rr,1,go,zi,_o),Oo&&_o===Oo.canvas&&(Oo.canvas.width=0,Oo.canvas.height=0)}si(er)&&Vn.generateMipmap(Vt)}0===an&&gr(un.length?un:void 0,Wn,ar)}}(to))})}(Vn,gr,Wn,er):(Ji(Vn,gr,zi,Wn),Ti=zi.width,Zi=zi.height);else Vo(Vn,gr,Wn);return si(Wn)&&ri(Vn,gr,Wn,Ti,Zi,go),Xo(Vn,gr,Wn),gr}Se[ce]={numColorComponents:1},Se[Q]={numColorComponents:1},Se[Ie]={numColorComponents:2},Se[W]={numColorComponents:3},Se[se]={numColorComponents:4},Se[Yi]={numColorComponents:1},Se[qi]={numColorComponents:1},Se[Ki]={numColorComponents:2},Se[Qi]={numColorComponents:2},Se[W]={numColorComponents:3},Se[bo]={numColorComponents:3},Se[se]={numColorComponents:4},Se[Bo]={numColorComponents:4},Se[ae]={numColorComponents:1},Se[Me]={numColorComponents:2}},"./src/twgl-base.js":
/*!**************************!*\
                !*** ./src/twgl-base.js ***!
                \**************************/(g,C,D)=>{C.__esModule=!0;var h=D(
/*! ./twgl.js */
"./src/twgl.js");Object.keys(h).forEach(function(U){"default"===U||"__esModule"===U||U in C&&C[U]===h[U]||(C[U]=h[U])})},"./src/twgl.js":
/*!*********************!*\
                !*** ./src/twgl.js ***!
                \*********************/(g,C,D)=>{function h(_t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(zt){return typeof zt}:function(zt){return zt&&"function"==typeof Symbol&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt})(_t)}C.__esModule=!0;var U={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};C.addExtensionsToContext=ge,C.framebuffers=C.draw=C.attributes=void 0,C.getContext=function Ge(_t,zt){return function Ve(_t,zt){for(var Rn=["webgl2","webgl","experimental-webgl"],Oe=null,De=0;De<Rn.length;++De)if(Oe=_t.getContext(Rn[De],zt)){Ie.addExtensionsToContext&&ge(Oe);break}return Oe}(_t,zt)},C.getWebGLContext=function Ne(_t,zt){return function K(_t,zt){for(var Rn=["webgl","experimental-webgl"],Oe=null,De=0;De<Rn.length;++De)if(Oe=_t.getContext(Rn[De],zt)){Ie.addExtensionsToContext&&ge(Oe);break}return Oe}(_t,zt)},C.programs=void 0,C.resizeCanvasToDisplaySize=function gt(_t,zt){zt=zt||1,zt=Math.max(0,zt);var Rn=_t.clientWidth*zt|0,Oe=_t.clientHeight*zt|0;return(_t.width!==Rn||_t.height!==Oe)&&(_t.width=Rn,_t.height=Oe,!0)},C.setDefaults=function ae(_t){z.copyExistingProperties(_t,Ie),F.setAttributeDefaults_(_t),k.setTextureDefaults_(_t)},C.vertexArrays=C.utils=C.typedarrays=C.textures=void 0;var F=se(D(
/*! ./attributes.js */
"./src/attributes.js"));C.attributes=F,Object.keys(F).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===F[_t]||(C[_t]=F[_t])});var k=se(D(
/*! ./textures.js */
"./src/textures.js"));C.textures=k,Object.keys(k).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===k[_t]||(C[_t]=k[_t])});var z=se(D(
/*! ./helper.js */
"./src/helper.js")),B=se(D(
/*! ./utils.js */
"./src/utils.js"));C.utils=B,Object.keys(B).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===B[_t]||(C[_t]=B[_t])});var A=se(D(
/*! ./draw.js */
"./src/draw.js"));C.draw=A,Object.keys(A).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===A[_t]||(C[_t]=A[_t])});var T=se(D(
/*! ./framebuffers.js */
"./src/framebuffers.js"));C.framebuffers=T,Object.keys(T).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===T[_t]||(C[_t]=T[_t])});var b=se(D(
/*! ./programs.js */
"./src/programs.js"));C.programs=b,Object.keys(b).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===b[_t]||(C[_t]=b[_t])});var J=se(D(
/*! ./typedarrays.js */
"./src/typedarrays.js"));C.typedarrays=J,Object.keys(J).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===J[_t]||(C[_t]=J[_t])});var ce=se(D(
/*! ./vertex-arrays.js */
"./src/vertex-arrays.js"));function W(_t){if("function"!=typeof WeakMap)return null;var zt=new WeakMap,Rn=new WeakMap;return(W=function(De){return De?Rn:zt})(_t)}function se(_t,zt){if(!zt&&_t&&_t.__esModule)return _t;if(null===_t||"object"!=h(_t)&&"function"!=typeof _t)return{default:_t};var Rn=W(zt);if(Rn&&Rn.has(_t))return Rn.get(_t);var Oe={__proto__:null},De=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var He in _t)if("default"!==He&&Object.prototype.hasOwnProperty.call(_t,He)){var We=De?Object.getOwnPropertyDescriptor(_t,He):null;We&&(We.get||We.set)?Object.defineProperty(Oe,He,We):Oe[He]=_t[He]}return Oe.default=_t,Rn&&Rn.set(_t,Oe),Oe}C.vertexArrays=ce,Object.keys(ce).forEach(function(_t){"default"===_t||"__esModule"===_t||Object.prototype.hasOwnProperty.call(U,_t)||_t in C&&C[_t]===ce[_t]||(C[_t]=ce[_t])});var Ie={addExtensionsToContext:!0},Me=/^(.*?)_/;function q(_t,zt){B.glEnumToString(_t,0);var Rn=_t.getExtension(zt);if(Rn){var Oe={},De=Me.exec(zt)[1],He="_"+De;for(var We in Rn){var st=Rn[We],ft="function"==typeof st,wt=ft?De:He,kt=We;We.endsWith(wt)&&(kt=We.substring(0,We.length-wt.length)),void 0!==_t[kt]?!ft&&_t[kt]!==st&&z.warn(kt,_t[kt],st,We):ft?_t[kt]=function(je){return function(){return je.apply(Rn,arguments)}}(st):(_t[kt]=st,Oe[kt]=st)}Oe.constructor={name:Rn.constructor.name},B.glEnumToString(Oe,0)}return Rn}var $=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function ge(_t){for(var zt=0;zt<$.length;++zt)q(_t,$[zt])}},"./src/typedarrays.js":
/*!****************************!*\
                !*** ./src/typedarrays.js ***!
                \****************************/(g,C)=>{C.__esModule=!0,C.getGLTypeForTypedArray=function $(Ve){if(Ve instanceof Int8Array)return h;if(Ve instanceof Uint8Array||Ve instanceof Uint8ClampedArray)return U;if(Ve instanceof Int16Array)return F;if(Ve instanceof Uint16Array)return k;if(Ve instanceof Int32Array)return z;if(Ve instanceof Uint32Array)return B;if(Ve instanceof Float32Array)return A;throw new Error("unsupported typed array type")},C.getGLTypeForTypedArrayType=function ge(Ve){if(Ve===Int8Array)return h;if(Ve===Uint8Array||Ve===Uint8ClampedArray)return U;if(Ve===Int16Array)return F;if(Ve===Uint16Array)return k;if(Ve===Int32Array)return z;if(Ve===Uint32Array)return B;if(Ve===Float32Array)return A;throw new Error("unsupported typed array type")},C.getTypedArrayTypeForGLType=function K(Ve){var Ge=Me[Ve];if(!Ge)throw new Error("unknown gl type");return Ge},C.isArrayBuffer=void 0;var h=5120,U=5121,F=5122,k=5123,z=5124,B=5125,A=5126,Me={},q=Me;q[h]=Int8Array,q[U]=Uint8Array,q[F]=Int16Array,q[k]=Uint16Array,q[z]=Int32Array,q[B]=Uint32Array,q[A]=Float32Array,q[32819]=Uint16Array,q[32820]=Uint16Array,q[33635]=Uint16Array,q[5131]=Uint16Array,q[33640]=Uint32Array,q[35899]=Uint32Array,q[35902]=Uint32Array,q[36269]=Uint32Array,q[34042]=Uint32Array,C.isArrayBuffer=typeof SharedArrayBuffer<"u"?function(Ge){return Ge&&Ge.buffer&&(Ge.buffer instanceof ArrayBuffer||Ge.buffer instanceof SharedArrayBuffer)}:function(Ge){return Ge&&Ge.buffer&&Ge.buffer instanceof ArrayBuffer}},"./src/utils.js":
/*!**********************!*\
                !*** ./src/utils.js ***!
                \**********************/(g,C)=>{C.__esModule=!0,C.glEnumToString=void 0,C.isWebGL1=function h(F){return!F.texStorage2D},C.isWebGL2=function D(F){return!!F.texStorage2D},C.glEnumToString=function(){var F={},k={};return function(A,T){return function z(B){var A=B.constructor.name;if(!F[A]){for(var T in B)if("number"==typeof B[T]){var b=k[B[T]];k[B[T]]=b?"".concat(b," | ").concat(T):T}F[A]=!0}}(A),k[T]||("number"==typeof T?"0x".concat(T.toString(16)):T)}}()},"./src/vertex-arrays.js":
/*!******************************!*\
                !*** ./src/vertex-arrays.js ***!
                \******************************/(g,C,D)=>{function h(b){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(b)}C.__esModule=!0,C.createVAOAndSetAttributes=A,C.createVAOFromBufferInfo=function T(b,J,ce){return A(b,J.attribSetters||J,ce.attribs,ce.indices)},C.createVertexArrayInfo=function B(b,J,ce){var W=b.createVertexArray();return b.bindVertexArray(W),J.length||(J=[J]),J.forEach(function(se){U.setBuffersAndAttributes(b,se,ce)}),b.bindVertexArray(null),{numElements:ce.numElements,elementType:ce.elementType,vertexArrayObject:W}};var U=function k(b,J){if(!J&&b&&b.__esModule)return b;if(null===b||"object"!=h(b)&&"function"!=typeof b)return{default:b};var ce=F(J);if(ce&&ce.has(b))return ce.get(b);var W={__proto__:null},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in b)if("default"!==Q&&Object.prototype.hasOwnProperty.call(b,Q)){var Ie=se?Object.getOwnPropertyDescriptor(b,Q):null;Ie&&(Ie.get||Ie.set)?Object.defineProperty(W,Q,Ie):W[Q]=b[Q]}return W.default=b,ce&&ce.set(b,W),W}(D(
/*! ./programs.js */
"./src/programs.js"));function F(b){if("function"!=typeof WeakMap)return null;var J=new WeakMap,ce=new WeakMap;return(F=function(se){return se?ce:J})(b)}var z=34963;function A(b,J,ce,W){var se=b.createVertexArray();return b.bindVertexArray(se),U.setAttributes(J,ce),W&&b.bindBuffer(z,W),b.bindVertexArray(null),se}}},w={},m=function r(g){var C=w[g];if(void 0!==C)return C.exports;var D=w[g]={exports:{}};return be[g](D,D.exports,r),D.exports}("./src/twgl-base.js");return m})(),bn.exports=r()},71245:(bn,be,w)=>{"use strict";w.r(be),w.d(be,{DOMException:()=>$,Headers:()=>k,Request:()=>Q,Response:()=>Me,fetch:()=>ge});var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},m={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(m.arrayBuffer)var C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],D=ArrayBuffer.isView||function(K){return K&&C.indexOf(Object.prototype.toString.call(K))>-1};function h(K){if("string"!=typeof K&&(K=String(K)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(K)||""===K)throw new TypeError('Invalid character in header field name: "'+K+'"');return K.toLowerCase()}function U(K){return"string"!=typeof K&&(K=String(K)),K}function F(K){var Ne={next:function(){var Ve=K.shift();return{done:void 0===Ve,value:Ve}}};return m.iterable&&(Ne[Symbol.iterator]=function(){return Ne}),Ne}function k(K){this.map={},K instanceof k?K.forEach(function(Ne,Ve){this.append(Ve,Ne)},this):Array.isArray(K)?K.forEach(function(Ne){if(2!=Ne.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Ne.length);this.append(Ne[0],Ne[1])},this):K&&Object.getOwnPropertyNames(K).forEach(function(Ne){this.append(Ne,K[Ne])},this)}function z(K){if(!K._noBody){if(K.bodyUsed)return Promise.reject(new TypeError("Already read"));K.bodyUsed=!0}}function B(K){return new Promise(function(Ne,Ve){K.onload=function(){Ne(K.result)},K.onerror=function(){Ve(K.error)}})}function A(K){var Ne=new FileReader,Ve=B(Ne);return Ne.readAsArrayBuffer(K),Ve}function J(K){if(K.slice)return K.slice(0);var Ne=new Uint8Array(K.byteLength);return Ne.set(new Uint8Array(K)),Ne.buffer}function ce(){return this.bodyUsed=!1,this._initBody=function(K){this.bodyUsed=this.bodyUsed,this._bodyInit=K,K?"string"==typeof K?this._bodyText=K:m.blob&&Blob.prototype.isPrototypeOf(K)?this._bodyBlob=K:m.formData&&FormData.prototype.isPrototypeOf(K)?this._bodyFormData=K:m.searchParams&&URLSearchParams.prototype.isPrototypeOf(K)?this._bodyText=K.toString():m.arrayBuffer&&m.blob&&function g(K){return K&&DataView.prototype.isPrototypeOf(K)}(K)?(this._bodyArrayBuffer=J(K.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(K)||D(K))?this._bodyArrayBuffer=J(K):this._bodyText=K=Object.prototype.toString.call(K):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof K?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(K)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var K=z(this);if(K)return K;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return z(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(m.blob)return this.blob().then(A);throw new Error("could not read as ArrayBuffer")},this.text=function(){var K=z(this);if(K)return K;if(this._bodyBlob)return function T(K){var Ne=new FileReader,Ve=B(Ne),Ge=/charset=([A-Za-z0-9_-]+)/.exec(K.type);return Ne.readAsText(K,Ge?Ge[1]:"utf-8"),Ve}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function b(K){for(var Ne=new Uint8Array(K),Ve=new Array(Ne.length),Ge=0;Ge<Ne.length;Ge++)Ve[Ge]=String.fromCharCode(Ne[Ge]);return Ve.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(Ie)}),this.json=function(){return this.text().then(JSON.parse)},this}k.prototype.append=function(K,Ne){K=h(K),Ne=U(Ne);var Ve=this.map[K];this.map[K]=Ve?Ve+", "+Ne:Ne},k.prototype.delete=function(K){delete this.map[h(K)]},k.prototype.get=function(K){return K=h(K),this.has(K)?this.map[K]:null},k.prototype.has=function(K){return this.map.hasOwnProperty(h(K))},k.prototype.set=function(K,Ne){this.map[h(K)]=U(Ne)},k.prototype.forEach=function(K,Ne){for(var Ve in this.map)this.map.hasOwnProperty(Ve)&&K.call(Ne,this.map[Ve],Ve,this)},k.prototype.keys=function(){var K=[];return this.forEach(function(Ne,Ve){K.push(Ve)}),F(K)},k.prototype.values=function(){var K=[];return this.forEach(function(Ne){K.push(Ne)}),F(K)},k.prototype.entries=function(){var K=[];return this.forEach(function(Ne,Ve){K.push([Ve,Ne])}),F(K)},m.iterable&&(k.prototype[Symbol.iterator]=k.prototype.entries);var W=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Q(K,Ne){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Ve=(Ne=Ne||{}).body;if(K instanceof Q){if(K.bodyUsed)throw new TypeError("Already read");this.url=K.url,this.credentials=K.credentials,Ne.headers||(this.headers=new k(K.headers)),this.method=K.method,this.mode=K.mode,this.signal=K.signal,!Ve&&null!=K._bodyInit&&(Ve=K._bodyInit,K.bodyUsed=!0)}else this.url=String(K);if(this.credentials=Ne.credentials||this.credentials||"same-origin",(Ne.headers||!this.headers)&&(this.headers=new k(Ne.headers)),this.method=function se(K){var Ne=K.toUpperCase();return W.indexOf(Ne)>-1?Ne:K}(Ne.method||this.method||"GET"),this.mode=Ne.mode||this.mode||null,this.signal=Ne.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ve)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Ve),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==Ne.cache&&"no-cache"!==Ne.cache)){var Ge=/([?&])_=[^&]*/;Ge.test(this.url)?this.url=this.url.replace(Ge,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function Ie(K){var Ne=new FormData;return K.trim().split("&").forEach(function(Ve){if(Ve){var Ge=Ve.split("="),gt=Ge.shift().replace(/\+/g," "),_t=Ge.join("=").replace(/\+/g," ");Ne.append(decodeURIComponent(gt),decodeURIComponent(_t))}}),Ne}function ae(K){var Ne=new k;return K.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(Ge){return 0===Ge.indexOf("\n")?Ge.substr(1,Ge.length):Ge}).forEach(function(Ge){var gt=Ge.split(":"),_t=gt.shift().trim();if(_t){var zt=gt.join(":").trim();try{Ne.append(_t,zt)}catch(Rn){console.warn("Response "+Rn.message)}}}),Ne}function Me(K,Ne){if(!(this instanceof Me))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Ne||(Ne={}),this.type="default",this.status=void 0===Ne.status?200:Ne.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===Ne.statusText?"":""+Ne.statusText,this.headers=new k(Ne.headers),this.url=Ne.url||"",this._initBody(K)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})},ce.call(Q.prototype),ce.call(Me.prototype),Me.prototype.clone=function(){return new Me(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new k(this.headers),url:this.url})},Me.error=function(){var K=new Me(null,{status:200,statusText:""});return K.ok=!1,K.status=0,K.type="error",K};var q=[301,302,303,307,308];Me.redirect=function(K,Ne){if(-1===q.indexOf(Ne))throw new RangeError("Invalid status code");return new Me(null,{status:Ne,headers:{location:K}})};var $=r.DOMException;try{new $}catch{($=function(Ne,Ve){this.message=Ne,this.name=Ve;var Ge=Error(Ne);this.stack=Ge.stack}).prototype=Object.create(Error.prototype),$.prototype.constructor=$}function ge(K,Ne){return new Promise(function(Ve,Ge){var gt=new Q(K,Ne);if(gt.signal&&gt.signal.aborted)return Ge(new $("Aborted","AbortError"));var _t=new XMLHttpRequest;function zt(){_t.abort()}if(_t.onload=function(){var De={statusText:_t.statusText,headers:ae(_t.getAllResponseHeaders()||"")};De.status=0===gt.url.indexOf("file://")&&(_t.status<200||_t.status>599)?200:_t.status,De.url="responseURL"in _t?_t.responseURL:De.headers.get("X-Request-URL");var He="response"in _t?_t.response:_t.responseText;setTimeout(function(){Ve(new Me(He,De))},0)},_t.onerror=function(){setTimeout(function(){Ge(new TypeError("Network request failed"))},0)},_t.ontimeout=function(){setTimeout(function(){Ge(new TypeError("Network request timed out"))},0)},_t.onabort=function(){setTimeout(function(){Ge(new $("Aborted","AbortError"))},0)},_t.open(gt.method,function Rn(De){try{return""===De&&r.location.href?r.location.href:De}catch{return De}}(gt.url),!0),"include"===gt.credentials?_t.withCredentials=!0:"omit"===gt.credentials&&(_t.withCredentials=!1),"responseType"in _t&&(m.blob?_t.responseType="blob":m.arrayBuffer&&(_t.responseType="arraybuffer")),Ne&&"object"==typeof Ne.headers&&!(Ne.headers instanceof k||r.Headers&&Ne.headers instanceof r.Headers)){var Oe=[];Object.getOwnPropertyNames(Ne.headers).forEach(function(De){Oe.push(h(De)),_t.setRequestHeader(De,U(Ne.headers[De]))}),gt.headers.forEach(function(De,He){-1===Oe.indexOf(He)&&_t.setRequestHeader(He,De)})}else gt.headers.forEach(function(De,He){_t.setRequestHeader(He,De)});gt.signal&&(gt.signal.addEventListener("abort",zt),_t.onreadystatechange=function(){4===_t.readyState&&gt.signal.removeEventListener("abort",zt)}),_t.send(typeof gt._bodyInit>"u"?null:gt._bodyInit)})}ge.polyfill=!0,r.fetch||(r.fetch=ge,r.Headers=k,r.Request=Q,r.Response=Me)},79258:(bn,be,w)=>{"use strict";var Je,r=w(31049).default,m=w(88429).default,g=w(57909).default,C=w(47604).default,D=w(88322).default,h=Object.defineProperty,U=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,k=Object.prototype.hasOwnProperty,T={};((Je,Kt)=>{for(var Ke in Kt)h(Je,Ke,{get:Kt[Ke],enumerable:!0})})(T,{FetchError:()=>zt,JSONLoader:()=>Pr.JSONLoader,NullLoader:()=>rr,NullWorkerLoader:()=>Er,RequestScheduler:()=>an.RequestScheduler,_BrowserFileSystem:()=>co,_fetchProgress:()=>ii,_selectSource:()=>go,_unregisterLoaders:()=>Sn,assert:()=>Oo.assert,concatenateArrayBuffersAsync:()=>vo.concatenateArrayBuffersAsync,createDataSource:()=>ai,document:()=>_o.document,encode:()=>Ms,encodeInBatches:()=>_s,encodeSync:()=>ha,encodeTable:()=>Ji,encodeTableAsText:()=>Pi,encodeTableInBatches:()=>es,encodeText:()=>Es,encodeTextSync:()=>Ls,encodeURLtoURL:()=>ea,fetchFile:()=>Te,forEach:()=>vo.forEach,getLoaderOptions:()=>rt,getPathPrefix:()=>Vt.getPathPrefix,global:()=>_o.global,isAsyncIterable:()=>ae,isBrowser:()=>_o.isBrowser,isIterable:()=>Ie,isIterator:()=>Me,isPromise:()=>Q,isPureObject:()=>se,isReadableStream:()=>gt,isResponse:()=>q,isWorker:()=>_o.isWorker,isWritableStream:()=>_t,load:()=>Hn,loadInBatches:()=>ri,makeIterator:()=>ni,makeLineIterator:()=>Yo.makeLineIterator,makeNumberedLineIterator:()=>Yo.makeNumberedLineIterator,makeStream:()=>un,makeTextDecoderIterator:()=>Yo.makeTextDecoderIterator,makeTextEncoderIterator:()=>Yo.makeTextEncoderIterator,parse:()=>Se,parseInBatches:()=>Hi,parseSync:()=>tr,readArrayBuffer:()=>Ee,registerLoaders:()=>Dn,resolvePath:()=>Vt.resolvePath,selectLoader:()=>Bn,selectLoaderSync:()=>me,self:()=>_o.self,setLoaderOptions:()=>Et,setPathPrefix:()=>Vt.setPathPrefix,window:()=>_o.window}),bn.exports=(Je=T,((Je,Kt,Ke,L)=>{if(Kt&&"object"==typeof Kt||"function"==typeof Kt)for(let de of F(Kt))!k.call(Je,de)&&undefined!==de&&h(Je,de,{get:()=>Kt[de],enumerable:!(L=U(Kt,de))||L.enumerable});return Je})(h({},"__esModule",{value:!0}),Je));var b=w(28690),J=Je=>"boolean"==typeof Je,ce=Je=>"function"==typeof Je,W=Je=>null!==Je&&"object"==typeof Je,se=Je=>W(Je)&&Je.constructor==={}.constructor,Q=Je=>W(Je)&&ce(Je.then),Ie=Je=>!!Je&&"function"==typeof Je[Symbol.iterator],ae=Je=>Je&&"function"==typeof Je[Symbol.asyncIterator],Me=Je=>Je&&ce(Je.next),q=Je=>typeof Response<"u"&&Je instanceof Response||Je&&Je.arrayBuffer&&Je.text&&Je.json,$=Je=>typeof Blob<"u"&&Je instanceof Blob,ge=Je=>Je&&"object"==typeof Je&&Je.isBuffer,gt=Je=>(Je=>typeof ReadableStream<"u"&&Je instanceof ReadableStream||W(Je)&&ce(Je.tee)&&ce(Je.cancel)&&ce(Je.getReader))(Je)||(Je=>W(Je)&&ce(Je.read)&&ce(Je.pipe)&&J(Je.readable))(Je),_t=Je=>(Je=>W(Je)&&ce(Je.abort)&&ce(Je.getWriter))(Je)||(Je=>W(Je)&&ce(Je.end)&&ce(Je.write)&&J(Je.writable))(Je),zt=class extends Error{constructor(Je,Kt){super(Je),this.reason=Kt.reason,this.url=Kt.url,this.response=Kt.response}reason;url;response},Rn=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Oe=/^([-\w.]+\/[-\w.+]+)/;function De(Je,Kt){return Je.toLowerCase()===Kt.toLowerCase()}function We(Je){const Kt=Rn.exec(Je);return Kt?Kt[1]:""}var st=/\?.*/;function wt(Je){return Je.replace(st,"")}function je(Je){return q(Je)?Je.url:$(Je)?Je.name||"":"string"==typeof Je?Je:""}function Ce(Je){if(q(Je)){const Kt=Je,Ke=Kt.headers.get("content-type")||"",L=wt(Kt.url);return function He(Je){const Kt=Oe.exec(Je);return Kt?Kt[1]:Je}(Ke)||We(L)}return $(Je)?Je.type||"":"string"==typeof Je?We(Je):""}function Re(Je){return te.apply(this,arguments)}function te(){return te=r(function*(Je){if(q(Je))return Je;const Kt={},Ke=function ne(Je){return q(Je)?Je.headers["content-length"]||-1:$(Je)?Je.size:"string"==typeof Je?Je.length:Je instanceof ArrayBuffer||ArrayBuffer.isView(Je)?Je.byteLength:-1}(Je);Ke>=0&&(Kt["content-length"]=String(Ke));const L=je(Je),de=Ce(Je);de&&(Kt["content-type"]=de);const O=yield function _e(Je){return Z.apply(this,arguments)}(Je);O&&(Kt["x-first-bytes"]=O),"string"==typeof Je&&(Je=(new TextEncoder).encode(Je));const ie=new Response(Je,{headers:Kt});return Object.defineProperty(ie,"url",{value:L}),ie}),te.apply(this,arguments)}function y(Je){return M.apply(this,arguments)}function M(){return M=r(function*(Je){if(!Je.ok)throw yield function Y(Je){return G.apply(this,arguments)}(Je)}),M.apply(this,arguments)}function G(){return G=r(function*(Je){const Kt=function kt(Je){if(Je.length<50)return Je;const Kt=Je.slice(Je.length-15);return`${Je.substr(0,32)}...${Kt}`}(Je.url);let Ke=`Failed to fetch resource (${Je.status}) ${Je.statusText}: ${Kt}`;Ke=Ke.length>100?`${Ke.slice(0,100)}...`:Ke;const L={reason:Je.statusText,url:Je.url,response:Je};try{const de=Je.headers.get("Content-Type");L.reason=!Je.bodyUsed&&de?.includes("application/json")?yield Je.json():yield Je.text()}catch{}return new zt(Ke,L)}),G.apply(this,arguments)}function Z(){return Z=r(function*(Je){if("string"==typeof Je)return`data:,${Je.slice(0,5)}`;if(Je instanceof Blob){const Ke=Je.slice(0,5);return yield new Promise(L=>{const de=new FileReader;de.onload=O=>{var ie;return L(null==(ie=O?.target)?void 0:ie.result)},de.readAsDataURL(Ke)})}return Je instanceof ArrayBuffer?`data:base64,${function f(Je){let Kt="";const Ke=new Uint8Array(Je);for(let L=0;L<Ke.byteLength;L++)Kt+=String.fromCharCode(Ke[L]);return btoa(Kt)}(Je.slice(0,5))}`:null}),Z.apply(this,arguments)}function Te(Je,Kt){return ke.apply(this,arguments)}function ke(){return ke=r(function*(Je,Kt){var Ke,L;if("string"==typeof Je){const de=(0,b.resolvePath)(Je);return function V(Je){return!function x(Je){return Je.startsWith("http:")||Je.startsWith("https:")}(Je)&&!function ye(Je){return Je.startsWith("data:")}(Je)}(de)&&null!=(Ke=globalThis.loaders)&&Ke.fetchNode?null==(L=globalThis.loaders)?void 0:L.fetchNode(de,Kt):yield fetch(de,Kt)}return yield Re(Je)}),ke.apply(this,arguments)}function Ee(Je,Kt,Ke){return nt.apply(this,arguments)}function nt(){return nt=r(function*(Je,Kt,Ke){Je instanceof Blob||(Je=new Blob([Je]));const L=Je.slice(Kt,Kt+Ke);return yield function at(Je){return yt.apply(this,arguments)}(L)}),nt.apply(this,arguments)}function yt(){return yt=r(function*(Je){return yield new Promise((Kt,Ke)=>{const L=new FileReader;L.onload=de=>{var O;return Kt(null==(O=de?.target)?void 0:O.result)},L.onerror=de=>Ke(de),L.readAsArrayBuffer(Je)})}),yt.apply(this,arguments)}var Jt=w(28690),Ft=new(w(69243).Log)({id:"loaders.gl"}),it=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},lt=w(28690),Bt={fetch:null,mimeType:void 0,nothrow:!1,log:new class{console;constructor(){this.console=console}log(...Je){return this.console.log.bind(this.console,...Je)}info(...Je){return this.console.info.bind(this.console,...Je)}warn(...Je){return this.console.warn.bind(this.console,...Je)}error(...Je){return this.console.error.bind(this.console,...Je)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:lt.isBrowser,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},ct={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Tt(){globalThis.loaders=globalThis.loaders||{};const{loaders:Je}=globalThis;return Je._state||(Je._state={}),Je._state}function rt(){const Je=Tt();return Je.globalOptions=Je.globalOptions||{...Bt},Je.globalOptions}function Et(Je){const Kt=Tt(),Ke=rt();Kt.globalOptions=Cr(Ke,Je),(0,Jt.registerJSModules)(Je.modules)}function vn(Je,Kt,Ke,L){return Ke=Ke||[],function In(Je,Kt){Un(Je,null,Bt,ct,Kt);for(const Ke of Kt)Un(Je&&Je[Ke.id]||{},Ke.id,Ke.options&&Ke.options[Ke.id]||{},Ke.deprecatedOptions&&Ke.deprecatedOptions[Ke.id]||{},Kt)}(Je,Ke=Array.isArray(Ke)?Ke:[Ke]),Cr(Kt,Je,L)}function Un(Je,Kt,Ke,L,de){const O=Kt||"Top level",ie=Kt?`${Kt}.`:"";for(const X in Je){const Ye=!Kt&&W(Je[X]);if(!(X in Ke)&&("baseUri"!==X||Kt)&&("workerUrl"!==X||!Kt))if(X in L)Ft.warn(`${O} loader option '${ie}${X}' no longer supported, use '${L[X]}'`)();else if(!Ye){const hr=Jn(X,de);Ft.warn(`${O} loader option '${ie}${X}' not recognized. ${hr}`)()}}}function Jn(Je,Kt){const Ke=Je.toLowerCase();let L="";for(const de of Kt)for(const O in de.options){if(Je===O)return`Did you mean '${de.id}.${O}'?`;const ie=O.toLowerCase();(Ke.startsWith(ie)||ie.startsWith(Ke))&&(L=L||`Did you mean '${de.id}.${O}'?`)}return L}function Cr(Je,Kt,Ke){const de={...Je.options||{}};return function cn(Je,Kt){Kt&&!("baseUri"in Je)&&(Je.baseUri=Kt)}(de,Ke),null===de.log&&(de.log=new it),wn(de,rt()),wn(de,Kt),de}function wn(Je,Kt){for(const Ke in Kt)Ke in Kt&&(Je[Ke]=se(Kt[Ke])&&se(Je[Ke])?{...Je[Ke],...Kt[Ke]}:Kt[Ke])}var Yt=w(28690);function Qt(Je){return!!Je&&(Array.isArray(Je)&&(Je=Je[0]),Array.isArray(Je?.extensions))}function jn(Je){let Kt;return(0,Yt.assert)(Je,"null loader"),(0,Yt.assert)(Qt(Je),"invalid loader"),Array.isArray(Je)&&(Kt=Je[1],Je=Je[0],Je={...Je,options:{...Je.options,...Kt}}),(Je?.parseTextSync||Je?.parseText)&&(Je.text=!0),Je.text||(Je.binary=!0),Je}var Lt=()=>{const Je=Tt();return Je.loaderRegistry=Je.loaderRegistry||[],Je.loaderRegistry};function Dn(Je){const Kt=Lt();Je=Array.isArray(Je)?Je:[Je];for(const Ke of Je){const L=jn(Ke);Kt.find(de=>L===de)||Kt.unshift(L)}}function Sn(){Tt().loaderRegistry=[]}var Tn=w(28690),dn=/\.([^.]+)$/;function Bn(Je){return Ct.apply(this,arguments)}function Ct(){return Ct=r(function*(Je,Kt=[],Ke,L){if(!Ue(Je))return null;let de=me(Je,Kt,{...Ke,nothrow:!0},L);if(de)return de;if($(Je)&&(de=me(Je=yield Je.slice(0,10).arrayBuffer(),Kt,Ke,L)),!de&&!Ke?.nothrow)throw new Error(bt(Je));return de}),Ct.apply(this,arguments)}function me(Je,Kt=[],Ke,L){if(!Ue(Je))return null;if(Kt&&!Array.isArray(Kt))return jn(Kt);let de=[];Kt&&(de=de.concat(Kt)),Ke?.ignoreRegisteredLoaders||de.push(...function Pn(){return Lt()}()),function Ht(Je){for(const Kt of Je)jn(Kt)}(de);const O=function ue(Je,Kt,Ke,L){const de=je(Je),O=Ce(Je),ie=wt(de)||L?.url;let X=null,Ye="";return Ke?.mimeType&&(X=Hr(Kt,Ke?.mimeType),Ye=`match forced by supplied MIME type ${Ke?.mimeType}`),X=X||function fn(Je,Kt){const Ke=Kt&&dn.exec(Kt),L=Ke&&Ke[1];return L?function cr(Je,Kt){Kt=Kt.toLowerCase();for(const Ke of Je)for(const L of Ke.extensions)if(L.toLowerCase()===Kt)return Ke;return null}(Je,L):null}(Kt,ie),Ye=Ye||(X?`matched url ${ie}`:""),X=X||Hr(Kt,O),Ye=Ye||(X?`matched MIME type ${O}`:""),X=X||function ti(Je,Kt){if(!Kt)return null;for(const Ke of Je)if("string"==typeof Kt){if(mi(Kt,Ke))return Ke}else if(ArrayBuffer.isView(Kt)){if(li(Kt.buffer,Kt.byteOffset,Ke))return Ke}else if(Kt instanceof ArrayBuffer&&li(Kt,0,Ke))return Ke;return null}(Kt,Je),Ye=Ye||(X?`matched initial data ${Co(Je)}`:""),Ke?.fallbackMimeType&&(X=X||Hr(Kt,Ke?.fallbackMimeType),Ye=Ye||(X?`matched fallback MIME type ${O}`:"")),Ye&&Tn.log.log(1,`selectLoader selected ${X?.name}: ${Ye}.`),X}(Je,de,Ke,L);if(!O&&!Ke?.nothrow)throw new Error(bt(Je));return O}function Ue(Je){return!(Je instanceof Response&&204===Je.status)}function bt(Je){const Kt=je(Je),Ke=Ce(Je);let L="No valid loader found (";L+=Kt?`${Tn.path.filename(Kt)}, `:"no url provided, ",L+=`MIME type: ${Ke?`"${Ke}"`:"not provided"}, `;const de=Je?Co(Je):"";return L+=de?` first bytes: "${de}"`:"first bytes: not available",L+=")",L}function Hr(Je,Kt){var Ke;for(const L of Je)if(null!=(Ke=L.mimeTypes)&&Ke.some(de=>De(Kt,de))||De(Kt,`application/x.${L.id}`))return L;return null}function mi(Je,Kt){return Kt.testText?Kt.testText(Je):(Array.isArray(Kt.tests)?Kt.tests:[Kt.tests]).some(L=>Je.startsWith(L))}function li(Je,Kt,Ke){return(Array.isArray(Ke.tests)?Ke.tests:[Ke.tests]).some(de=>function Io(Je,Kt,Ke,L){if(L instanceof ArrayBuffer)return(0,Tn.compareArrayBuffers)(L,Je,L.byteLength);switch(typeof L){case"function":return L(Je);case"string":return L===wo(Je,Kt,L.length);default:return!1}}(Je,Kt,0,de))}function Co(Je,Kt=5){return"string"==typeof Je?Je.slice(0,Kt):ArrayBuffer.isView(Je)?wo(Je.buffer,Je.byteOffset,Kt):Je instanceof ArrayBuffer?wo(Je,0,Kt):""}function wo(Je,Kt,Ke){if(Je.byteLength<Kt+Ke)return"";const L=new DataView(Je);let de="";for(let O=0;O<Ke;O++)de+=String.fromCharCode(L.getUint8(Kt+O));return de}var So=w(28690),xo=w(13827),Po=w(28690),nn=262144,sr=262144,Vr=1048576;function jt(){return jt=D(function*(Je,Kt){const Ke=Kt?.chunkSize||Vr;let L=0;for(;L<Je.size;){const de=L+Ke,O=yield C(Je.slice(L,de).arrayBuffer());L=de,yield O}}),jt.apply(this,arguments)}var pe=w(28690);function ht(Je,Kt){return pe.isBrowser?function pn(Je,Kt){return On.apply(this,arguments)}(Je,Kt):function lr(Je,Kt){return Dr.apply(this,arguments)}(Je,Kt)}function On(){return On=D(function*(Je,Kt){const Ke=Je.getReader();let L;try{for(;;){const de=L||Ke.read();Kt?._streamReadAhead&&(L=Ke.read());const{done:O,value:ie}=yield C(de);if(O)return;yield(0,pe.toArrayBuffer)(ie)}}catch{Ke.releaseLock()}}),On.apply(this,arguments)}function Dr(){return Dr=D(function*(Je,Kt){var de,Ke=!1,L=!1;try{for(var ie,O=g(Je);Ke=!(ie=yield C(O.next())).done;Ke=!1){const X=ie.value;yield(0,pe.toArrayBuffer)(X)}}catch(X){L=!0,de=X}finally{try{Ke&&null!=O.return&&(yield C(O.return()))}finally{if(L)throw de}}}),Dr.apply(this,arguments)}function ni(Je,Kt){if("string"==typeof Je)return function*xn(Je,Kt){const Ke=Kt?.chunkSize||nn;let L=0;const de=new TextEncoder;for(;L<Je.length;){const O=Math.min(Je.length-L,Ke),ie=Je.slice(L,L+O);L+=O,yield de.encode(ie)}}(Je,Kt);if(Je instanceof ArrayBuffer)return function*br(Je,Kt={}){const{chunkSize:Ke=sr}=Kt;let L=0;for(;L<Je.byteLength;){const de=Math.min(Je.byteLength-L,Ke),O=new ArrayBuffer(de),ie=new Uint8Array(Je,L,de);new Uint8Array(O).set(ie),L+=de,yield O}}(Je,Kt);if($(Je))return function _r(Je,Kt){return jt.apply(this,arguments)}(Je,Kt);if(gt(Je))return ht(Je,Kt);if(q(Je))return ht(Je.body,Kt);throw new Error("makeIterator")}var Yr="Cannot convert supplied data type";function ui(Je,Kt,Ke){if(Kt.text&&"string"==typeof Je)return Je;if(ge(Je)&&(Je=Je.buffer),Je instanceof ArrayBuffer){const L=Je;return Kt.text&&!Kt.binary?new TextDecoder("utf8").decode(L):L}if(ArrayBuffer.isView(Je)){if(Kt.text&&!Kt.binary)return new TextDecoder("utf8").decode(Je);let L=Je.buffer;const de=Je.byteLength||Je.length;return(0!==Je.byteOffset||de!==L.byteLength)&&(L=L.slice(Je.byteOffset,Je.byteOffset+de)),L}throw new Error(Yr)}function eo(){return eo=r(function*(Je,Kt,Ke){const L=Je instanceof ArrayBuffer||ArrayBuffer.isView(Je);if("string"==typeof Je||L)return ui(Je,Kt);if($(Je)&&(Je=yield Re(Je)),q(Je)){const de=Je;return yield y(de),Kt.binary?yield de.arrayBuffer():yield de.text()}if(gt(Je)&&(Je=ni(Je,Ke)),Ie(Je)||ae(Je))return(0,Po.concatenateArrayBuffersAsync)(Je);throw new Error(Yr)}),eo.apply(this,arguments)}function Qi(){return Qi=r(function*(Je,Kt){if(Me(Je))return Je;if(q(Je)){const Ke=Je;return yield y(Ke),ni(yield Ke.body,Kt)}return $(Je)||gt(Je)?ni(Je,Kt):ae(Je)?Je:function Yi(Je){if(ArrayBuffer.isView(Je))return function*(){yield Je.buffer}();if(Je instanceof ArrayBuffer)return function*(){yield Je}();if(Me(Je))return Je;if(Ie(Je))return Je[Symbol.iterator]();throw new Error(Yr)}(Je)}),Qi.apply(this,arguments)}function qi(Je,Kt){const Ke=rt(),L=Je||Ke;return"function"==typeof L.fetch?L.fetch:W(L.fetch)?de=>Te(de,L.fetch):Kt?.fetch?Kt?.fetch:Te}var bo=w(28690);function Bo(Je,Kt,Ke){if(Ke)return Ke;const L={fetch:qi(Kt,Je),...Je};if(L.url){const de=wt(L.url);L.baseUrl=de,L.queryString=function ft(Je){const Kt=Je.match(st);return Kt&&Kt[0]}(L.url),L.filename=bo.path.filename(de),L.baseUrl=bo.path.dirname(de)}return Array.isArray(L.loaders)||(L.loaders=null),L}function Gt(Je,Kt){if(Je&&!Array.isArray(Je))return Je;let Ke;if(Je&&(Ke=Array.isArray(Je)?Je:[Je]),Kt&&Kt.loaders){const L=Array.isArray(Kt.loaders)?Kt.loaders:[Kt.loaders];Ke=Ke?[...Ke,...L]:L}return Ke&&Ke.length?Ke:void 0}function Se(Je,Kt,Ke,L){return vt.apply(this,arguments)}function vt(){return vt=r(function*(Je,Kt,Ke,L){Kt&&!Array.isArray(Kt)&&!Qt(Kt)&&(L=void 0,Ke=Kt,Kt=void 0),Ke=Ke||{};const de=je(Je=yield Je),ie=Gt(Kt,L),X=yield Bn(Je,ie,Ke);return X?(L=Bo({url:de,_parse:Se,loaders:ie},Ke=vn(Ke,X,ie,de),L||null),yield function Xt(Je,Kt,Ke,L){return Cn.apply(this,arguments)}(X,Je,Ke,L)):null}),vt.apply(this,arguments)}function Cn(){return Cn=r(function*(Je,Kt,Ke,L){if((0,xo.validateWorkerVersion)(Je),Ke=(0,So.mergeLoaderOptions)(Je.options,Ke),q(Kt)){const O=Kt,{ok:ie,redirected:X,status:Ye,statusText:Pt,type:zn,url:hr}=O,Li=Object.fromEntries(O.headers.entries());L.response={headers:Li,ok:ie,redirected:X,status:Ye,statusText:Pt,type:zn,url:hr}}Kt=yield function Ri(Je,Kt,Ke){return eo.apply(this,arguments)}(Kt,Je,Ke);const de=Je;if(de.parseTextSync&&"string"==typeof Kt)return de.parseTextSync(Kt,Ke,L);if((0,So.canParseWithWorker)(Je,Ke))return yield(0,So.parseWithWorker)(Je,Kt,Ke,L,Se);if(de.parseText&&"string"==typeof Kt)return yield de.parseText(Kt,Ke,L);if(de.parse)return yield de.parse(Kt,Ke,L);throw(0,xo.assert)(!de.parseSync),new Error(`${Je.id} loader - no parser found and worker is disabled`)}),Cn.apply(this,arguments)}function tr(Je,Kt,Ke,L){!Array.isArray(Kt)&&!Qt(Kt)&&(L=void 0,Ke=Kt,Kt=void 0),Ke=Ke||{};const O=Gt(Kt,L),ie=me(Je,O,Ke);if(!ie)return null;const Ye=()=>{throw new Error("parseSync called parse (which is async")};return function kr(Je,Kt,Ke,L){if(Kt=ui(Kt,Je),Je.parseTextSync&&"string"==typeof Kt)return Je.parseTextSync(Kt,Ke);if(Je.parseSync&&Kt instanceof ArrayBuffer)return Je.parseSync(Kt,Ke,L);throw new Error(`${Je.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${L.url||""}`)}(ie,Je,Ke=vn(Ke,ie,O),L=Bo({url:je(Je),_parseSync:Ye,_parse:Ye,loaders:Kt},Ke,L||null))}var Ii=w(47526),$r=w(28690);function Hi(Je,Kt,Ke,L){return Mo.apply(this,arguments)}function Mo(){return Mo=r(function*(Je,Kt,Ke,L){const de=Array.isArray(Kt)?Kt:void 0;!Array.isArray(Kt)&&!Qt(Kt)&&(L=void 0,Ke=Kt,Kt=void 0),Ke=Ke||{};const O=je(Je=yield Je),ie=yield Bn(Je,Kt,Ke);return ie?(L=Bo({url:O,_parseInBatches:Hi,_parse:Se,loaders:de},Ke=vn(Ke,ie,de,O),L||null),yield function Wo(Je,Kt,Ke,L){return xs.apply(this,arguments)}(ie,Je,Ke,L)):[]}),Mo.apply(this,arguments)}function xs(){return xs=r(function*(Je,Kt,Ke,L){const de=yield function da(Je,Kt,Ke,L){return Os.apply(this,arguments)}(Je,Kt,Ke,L);if(!Ke.metadata)return de;const O={shape:"metadata",batchType:"metadata",metadata:{_loader:Je,_context:L},data:[],bytesUsed:0};function X(){return(X=D(function*(Ye){yield O,yield*m(g(Ye),C)})).apply(this,arguments)}return function ie(Ye){return X.apply(this,arguments)}(de)}),xs.apply(this,arguments)}function Os(){return Os=r(function*(Je,Kt,Ke,L){const de=yield function Ki(Je,Kt){return Qi.apply(this,arguments)}(Kt,Ke),O=yield function Ps(Je){return Gn.apply(this,arguments)}(de,Ke?.transforms||[]);return Je.parseInBatches?Je.parseInBatches(O,Ke,L):function Lo(Je,Kt,Ke,L){return ps.apply(this,arguments)}(O,Je,Ke,L)}),Os.apply(this,arguments)}function ps(){return ps=D(function*(Je,Kt,Ke,L){const de=yield C((0,$r.concatenateArrayBuffersAsync)(Je)),O=yield C(Se(de,Kt,{...Ke,mimeType:Kt.mimeTypes[0]},L));yield function Xo(Je,Kt){const Ke=(0,Ii.isTable)(Je)?(0,Ii.makeBatchFromTable)(Je):{shape:"unknown",batchType:"data",data:Je,length:Array.isArray(Je)?Je.length:1};return Ke.mimeType=Kt.mimeTypes[0],Ke}(O,Kt)}),ps.apply(this,arguments)}function Gn(){return Gn=r(function*(Je,Kt=[]){let Ke=Je;var O,L=!1,de=!1;try{for(var X,ie=g(Kt);L=!(X=yield ie.next()).done;L=!1)Ke=(0,X.value)(Ke)}catch(Ye){de=!0,O=Ye}finally{try{L&&null!=ie.return&&(yield ie.return())}finally{if(de)throw O}}return Ke}),Gn.apply(this,arguments)}function Hn(Je,Kt,Ke,L){return Ir.apply(this,arguments)}function Ir(){return Ir=r(function*(Je,Kt,Ke,L){let de,O;Array.isArray(Kt)||Qt(Kt)?(de=Kt,O=Ke):(de=[],O=Kt);const ie=qi(O);let X=Je;return"string"==typeof Je&&(X=yield ie(Je)),$(Je)&&(X=yield ie(Je)),Array.isArray(de),yield Se(X,de,O)}),Ir.apply(this,arguments)}function ri(Je,Kt,Ke,L){let de;Array.isArray(Kt)||Qt(Kt)?de=Kt:(Ke=Kt,de=void 0);const O=qi(Ke||{});return Array.isArray(Je)?Je.map(X=>si(X,de,Ke||{},O)):si(Je,de,Ke||{},O)}function si(Je,Kt,Ke,L){return Xr.apply(this,arguments)}function Xr(){return Xr=r(function*(Je,Kt,Ke,L){if("string"==typeof Je){const O=yield L(Je);return Array.isArray(Kt),yield Hi(O,Kt,Ke)}return Array.isArray(Kt),yield Hi(Je,Kt,Ke)}),Xr.apply(this,arguments)}var ki=w(28690);function Ji(Je,Kt,Ke){return po.apply(this,arguments)}function po(){return po=r(function*(Je,Kt,Ke){if(Kt.encode)return yield Kt.encode(Je,Ke);if(Kt.encodeText){const Ye=yield Kt.encodeText(Je,Ke);return(new TextEncoder).encode(Ye)}if(Kt.encodeInBatches){const Ye=es(Je,Kt,Ke),Pt=[];var O,L=!1,de=!1;try{for(var X,ie=g(Ye);L=!(X=yield ie.next()).done;L=!1)Pt.push(X.value)}catch(zn){de=!0,O=zn}finally{try{L&&null!=ie.return&&(yield ie.return())}finally{if(de)throw O}}return(0,ki.concatenateArrayBuffers)(...Pt)}throw new Error("Writer could not encode data")}),po.apply(this,arguments)}function Pi(Je,Kt,Ke){return os.apply(this,arguments)}function os(){return os=r(function*(Je,Kt,Ke){if(Kt.text&&Kt.encodeText)return yield Kt.encodeText(Je,Ke);if(Kt.text){const L=yield Ji(Je,Kt,Ke);return(new TextDecoder).decode(L)}throw new Error(`Writer ${Kt.name} could not encode data as text`)}),os.apply(this,arguments)}function es(Je,Kt,Ke){if(Kt.encodeInBatches){const L=function rs(Je){return[{...Je,start:0,end:Je.length}]}(Je);return Kt.encodeInBatches(L,Ke)}throw new Error("Writer could not encode data in batches")}var Fs=w(28690),Ro=w(13827);function Ms(Je,Kt,Ke){return gs.apply(this,arguments)}function gs(){return gs=r(function*(Je,Kt,Ke){const de={...rt(),...Ke};return Kt.encodeURLtoURL?function Vn(Je,Kt,Ke){return Wn.apply(this,arguments)}(Kt,Je,de):(0,Fs.canEncodeWithWorker)(Kt,de)?yield(0,Ro.processOnWorker)(Kt,Je,de):yield Kt.encode(Je,de)}),gs.apply(this,arguments)}function ha(Je,Kt,Ke){if(Kt.encodeSync)return Kt.encodeSync(Je,Ke);if(Kt.encodeTextSync)return(new TextEncoder).encode(Kt.encodeTextSync(Je,Ke));throw new Error(`Writer ${Kt.name} could not synchronously encode data`)}function Es(Je,Kt,Ke){return Vo.apply(this,arguments)}function Vo(){return Vo=r(function*(Je,Kt,Ke){if(Kt.encodeText)return yield Kt.encodeText(Je,Ke);if(Kt.encodeTextSync)return Kt.encodeTextSync(Je,Ke);if(Kt.text){const L=yield Kt.encode(Je,Ke);return(new TextDecoder).decode(L)}throw new Error(`Writer ${Kt.name} could not encode data as text`)}),Vo.apply(this,arguments)}function Ls(Je,Kt,Ke){if(Kt.encodeTextSync)return Kt.encodeTextSync(Je,Ke);if(Kt.text&&Kt.encodeSync){const L=ha(Je,Kt,Ke);return(new TextDecoder).decode(L)}throw new Error(`Writer ${Kt.name} could not encode data as text`)}function _s(Je,Kt,Ke){if(Kt.encodeInBatches){const L=function er(Je){return[{...Je,start:0,end:Je.length}]}(Je);return Kt.encodeInBatches(L,Ke)}throw new Error(`Writer ${Kt.name} could not encode in batches`)}function ea(Je,Kt,Ke,L){return ds.apply(this,arguments)}function ds(){return ds=r(function*(Je,Kt,Ke,L){if(Je=(0,Fs.resolvePath)(Je),Kt=(0,Fs.resolvePath)(Kt),Fs.isBrowser||!Ke.encodeURLtoURL)throw new Error;return yield Ke.encodeURLtoURL(Je,Kt,L)}),ds.apply(this,arguments)}function Wn(){return Wn=r(function*(Je,Kt,Ke){if(Fs.isBrowser)throw new Error(`Writer ${Je.name} not supported in browser`);const L=gr("input");yield new Fs.NodeFile(L,"w").write(Kt);const O=gr("output"),ie=yield ea(L,O,Je,Ke);return(yield Te(ie)).arrayBuffer()}),Wn.apply(this,arguments)}function gr(Je){return`/tmp/${Je}`}function ai(Je,Kt,Ke){const{type:L="auto"}=Ke,de="auto"===L?function Ti(Je,Kt){for(const Ke of Kt)if(Ke.testURL&&Ke.testURL(Je))return Ke;return null}(Je,Kt):function Zi(Je,Kt){for(const Ke of Kt)if(Ke.type===Je)return Ke;return null}(L,Kt);if(!de)throw new Error("Not a valid image source type");return de.createDataSource(Je,Ke)}function go(Je,Kt,Ke){const L=Ke?.type||"auto";let de=null;if("auto"===L){for(const O of Kt)if("string"==typeof Je&&O.testURL&&O.testURL(Je))return O}else de=function zi(Je,Kt){for(const Ke of Kt)if(Ke.type===Je)return Ke;return null}(L,Kt);if(!de&&!Ke?.nothrow)throw new Error("Not a valid image source type");return de}var Vt=w(28690),an=w(28690);function un(Je,Kt){if(globalThis.loaders.makeNodeStream)return globalThis.loaders.makeNodeStream(Je,Kt);const Ke=Je[Symbol.asyncIterator]?Je[Symbol.asyncIterator]():Je[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:L=>r(function*(){try{const{done:de,value:O}=yield Ke.next();de?L.close():L.enqueue(new Uint8Array(O))}catch(de){L.error(de)}})(),cancel:()=>r(function*(){var L;yield null==(L=Ke?.return)?void 0:L.call(Ke)})()},{highWaterMark:2**24,...Kt})}var Er={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.3.1",worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[()=>!1],options:{null:{}}},rr={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.3.1",mimeTypes:["application/x.empty"],extensions:["null"],parse:function(){var Je=r(function*(Kt,Ke,L){return null});return function(Ke,L,de){return Je.apply(this,arguments)}}(),parseSync:function Rr(Je,Kt,Ke){return null},parseInBatches:function(){var Je=D(function*(Ke,L,de){var X,O=!1,ie=!1;try{for(var Ye=g(Ke);O=!(yield C(Ye.next())).done;O=!1)yield null}catch(zn){ie=!0,X=zn}finally{try{O&&null!=Ye.return&&(yield C(Ye.return()))}finally{if(ie)throw X}}});return function Kt(Ke,L,de){return Je.apply(this,arguments)}}(),tests:[()=>!1],options:{null:{}}};var Pr=w(28690);function ii(Je,Kt){return zr.apply(this,arguments)}function zr(){return zr=r(function*(Je,Kt,Ke=()=>{},L=()=>{}){if(!(Je=yield Je).ok)return Je;const de=Je.body;if(!de)return Je;const O=Je.headers.get("content-length")||0,ie=O?parseInt(O):0;if(!(ie>0)||typeof ReadableStream>"u"||!de.getReader)return Je;const X=new ReadableStream({start:Ye=>r(function*(){const Pt=de.getReader();yield Ni(Ye,Pt,0,ie,Kt,Ke,L)})()});return new Response(X)}),zr.apply(this,arguments)}function Ni(Je,Kt,Ke,L,de,O,ie){return to.apply(this,arguments)}function to(){return to=r(function*(Je,Kt,Ke,L,de,O,ie){try{const{done:X,value:Ye}=yield Kt.read();if(X)return O(),void Je.close();Ke+=Ye.byteLength,de(Math.round(Ke/L*100),{loadedBytes:Ke,totalBytes:L}),Je.enqueue(Ye),yield Ni(Je,Kt,Ke,L,de,O,ie)}catch(X){Je.error(X),ie(X)}}),to.apply(this,arguments)}var ho=w(28690),co=class{_fetch;files={};lowerCaseFiles={};usedFiles={};constructor(Je,Kt){this._fetch=Kt?.fetch||fetch;for(let Ke=0;Ke<Je.length;++Ke){const L=Je[Ke];this.files[L.name]=L,this.lowerCaseFiles[L.name.toLowerCase()]=L,this.usedFiles[L.name]=!1}this.fetch=this.fetch.bind(this)}fetch(Je,Kt){var Ke=this;return r(function*(){if(Je.includes("://"))return Ke._fetch(Je,Kt);const L=Ke.files[Je];if(!L)return new Response(Je,{status:400,statusText:"NOT FOUND"});const O=new Headers(Kt?.headers).get("Range"),ie=O&&/bytes=($1)-($2)/.exec(O);if(ie){const Ye=parseInt(ie[1]),Pt=parseInt(ie[2]),zn=yield L.slice(Ye,Pt).arrayBuffer(),hr=new Response(zn);return Object.defineProperty(hr,"url",{value:Je}),hr}const X=new Response(L);return Object.defineProperty(X,"url",{value:Je}),X})()}readdir(Je){var Kt=this;return r(function*(){const Ke=[];for(const L in Kt.files)Ke.push(L);return Ke})()}stat(Je,Kt){var Ke=this;return r(function*(){const L=Ke.files[Je];if(!L)throw new Error(Je);return{size:L.size}})()}unlink(Je){var Kt=this;return r(function*(){delete Kt.files[Je],delete Kt.lowerCaseFiles[Je],Kt.usedFiles[Je]=!0})()}openReadableFile(Je,Kt){var Ke=this;return r(function*(){return new ho.BlobFile(Ke.files[Je])})()}_getFile(Je,Kt){const Ke=this.files[Je]||this.lowerCaseFiles[Je];return Ke&&Kt&&(this.usedFiles[Je]=!0),Ke}},_o=w(28690),Oo=w(28690),vo=w(28690),Yo=w(28690)},36848:(bn,be,w)=>{"use strict";var x,r=w(31049).default,m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,k={};((x,ye)=>{for(var Te in ye)m(x,Te,{get:ye[Te],enumerable:!0})})(k,{DRACO_EXTERNAL_LIBRARIES:()=>Ge,DRACO_EXTERNAL_LIBRARY_URLS:()=>gt,DracoLoader:()=>Z,DracoWorkerLoader:()=>B,DracoWriter:()=>M,DracoWriterWorker:()=>_e}),bn.exports=(x=k,((x,ye,Te,ke)=>{if(ye&&"object"==typeof ye||"function"==typeof ye)for(let Ee of C(ye))!D.call(x,Ee)&&undefined!==Ee&&m(x,Ee,{get:()=>ye[Ee],enumerable:!(ke=g(ye,Ee))||ke.enumerable});return x})(m({},"__esModule",{value:!0}),x));var z="4.3.1",B={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:z,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},A=w(47526),T=w(47526);function ce(x,ye,Te){const ke=Te?W(Te.metadata):void 0;return(0,T.deduceMeshField)(x,ye,ke)}function W(x){Object.entries(x);const ye={};for(const Te in x)ye[`${Te}.string`]=JSON.stringify(x[Te]);return ye}var _t,zt,se={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Q={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},ae=class{draco;decoder;metadataQuerier;constructor(x){this.draco=x,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(x,ye={}){const Te=new this.draco.DecoderBuffer;Te.Init(new Int8Array(x),x.byteLength),this._disableAttributeTransforms(ye);const ke=this.decoder.GetEncodedGeometryType(Te),Ee=ke===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let nt;switch(ke){case this.draco.TRIANGULAR_MESH:nt=this.decoder.DecodeBufferToMesh(Te,Ee);break;case this.draco.POINT_CLOUD:nt=this.decoder.DecodeBufferToPointCloud(Te,Ee);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!nt.ok()||!Ee.ptr){const it=`DRACO decompression failed: ${nt.error_msg()}`;throw new Error(it)}const at=this._getDracoLoaderData(Ee,ke,ye),yt=this._getMeshData(Ee,at,ye),Jt=(0,A.getMeshBoundingBox)(yt.attributes),Qe=function b(x,ye,Te){const ke=W(ye.metadata),Ee=[],nt=function J(x){const ye={};for(const Te in x){const ke=x[Te];ye[ke.name||"undefined"]=ke}return ye}(ye.attributes);for(const at in x){const Jt=ce(at,x[at],nt[at]);Ee.push(Jt)}if(Te){const at=ce("indices",Te);Ee.push(at)}return{fields:Ee,metadata:ke}}(yt.attributes,at,yt.indices);return{loader:"draco",loaderData:at,header:{vertexCount:Ee.num_points(),boundingBox:Jt},...yt,schema:Qe}}finally{this.draco.destroy(Te),Ee&&this.draco.destroy(Ee)}}_getDracoLoaderData(x,ye,Te){const ke=this._getTopLevelMetadata(x),Ee=this._getDracoAttributes(x,Te);return{geometry_type:ye,num_attributes:x.num_attributes(),num_points:x.num_points(),num_faces:x instanceof this.draco.Mesh?x.num_faces():0,metadata:ke,attributes:Ee}}_getDracoAttributes(x,ye){const Te={};for(let ke=0;ke<x.num_attributes();ke++){const Ee=this.decoder.GetAttribute(x,ke),nt=this._getAttributeMetadata(x,ke);Te[Ee.unique_id()]={unique_id:Ee.unique_id(),attribute_type:Ee.attribute_type(),data_type:Ee.data_type(),num_components:Ee.num_components(),byte_offset:Ee.byte_offset(),byte_stride:Ee.byte_stride(),normalized:Ee.normalized(),attribute_index:ke,metadata:nt};const at=this._getQuantizationTransform(Ee,ye);at&&(Te[Ee.unique_id()].quantization_transform=at);const yt=this._getOctahedronTransform(Ee,ye);yt&&(Te[Ee.unique_id()].octahedron_transform=yt)}return Te}_getMeshData(x,ye,Te){const ke=this._getMeshAttributes(ye,x,Te);if(!ke.POSITION)throw new Error("DRACO: No position attribute found.");return x instanceof this.draco.Mesh?"triangle-strip"===Te.topology?{topology:"triangle-strip",mode:4,attributes:ke,indices:{value:this._getTriangleStripIndices(x),size:1}}:{topology:"triangle-list",mode:5,attributes:ke,indices:{value:this._getTriangleListIndices(x),size:1}}:{topology:"point-list",mode:0,attributes:ke}}_getMeshAttributes(x,ye,Te){const ke={};for(const Ee of Object.values(x.attributes)){const nt=this._deduceAttributeName(Ee,Te);Ee.name=nt;const at=this._getAttributeValues(ye,Ee);if(at){const{value:yt,size:Jt}=at;ke[nt]={value:yt,size:Jt,byteOffset:Ee.byte_offset,byteStride:Ee.byte_stride,normalized:Ee.normalized}}}return ke}_getTriangleListIndices(x){const Te=3*x.num_faces(),ke=4*Te,Ee=this.draco._malloc(ke);try{return this.decoder.GetTrianglesUInt32Array(x,ke,Ee),new Uint32Array(this.draco.HEAPF32.buffer,Ee,Te).slice()}finally{this.draco._free(Ee)}}_getTriangleStripIndices(x){const ye=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(x,ye),function $(x){const ye=x.size(),Te=new Int32Array(ye);for(let ke=0;ke<ye;ke++)Te[ke]=x.GetValue(ke);return Te}(ye)}finally{this.draco.destroy(ye)}}_getAttributeValues(x,ye){const Te=Q[ye.data_type];if(!Te)return console.warn(`DRACO: Unsupported attribute type ${ye.data_type}`),null;const ke=ye.num_components,nt=x.num_points()*ke,at=nt*Te.BYTES_PER_ELEMENT,yt=function Me(x,ye){switch(ye){case Float32Array:return x.DT_FLOAT32;case Int8Array:return x.DT_INT8;case Int16Array:return x.DT_INT16;case Int32Array:return x.DT_INT32;case Uint8Array:return x.DT_UINT8;case Uint16Array:return x.DT_UINT16;case Uint32Array:return x.DT_UINT32;default:return x.DT_INVALID}}(this.draco,Te);let Jt;const Qe=this.draco._malloc(at);try{const Ft=this.decoder.GetAttribute(x,ye.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(x,Ft,yt,at,Qe),Jt=new Te(this.draco.HEAPF32.buffer,Qe,nt).slice()}finally{this.draco._free(Qe)}return{value:Jt,size:ke}}_deduceAttributeName(x,ye){const Te=x.unique_id;for(const[nt,at]of Object.entries(ye.extraAttributes||{}))if(at===Te)return nt;const ke=x.attribute_type;for(const nt in se)if(this.draco[nt]===ke)return se[nt];const Ee=ye.attributeNameEntry||"name";return x.metadata[Ee]?x.metadata[Ee].string:`CUSTOM_ATTRIBUTE_${Te}`}_getTopLevelMetadata(x){const ye=this.decoder.GetMetadata(x);return this._getDracoMetadata(ye)}_getAttributeMetadata(x,ye){const Te=this.decoder.GetAttributeMetadata(x,ye);return this._getDracoMetadata(Te)}_getDracoMetadata(x){if(!x||!x.ptr)return{};const ye={},Te=this.metadataQuerier.NumEntries(x);for(let ke=0;ke<Te;ke++){const Ee=this.metadataQuerier.GetEntryName(x,ke);ye[Ee]=this._getDracoMetadataField(x,Ee)}return ye}_getDracoMetadataField(x,ye){const Te=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(x,ye,Te);const ke=function q(x){const ye=x.size(),Te=new Int32Array(ye);for(let ke=0;ke<ye;ke++)Te[ke]=x.GetValue(ke);return Te}(Te);return{int:this.metadataQuerier.GetIntEntry(x,ye),string:this.metadataQuerier.GetStringEntry(x,ye),double:this.metadataQuerier.GetDoubleEntry(x,ye),intArray:ke}}finally{this.draco.destroy(Te)}}_disableAttributeTransforms(x){const{quantizedAttributes:ye=[],octahedronAttributes:Te=[]}=x,ke=[...ye,...Te];for(const Ee of ke)this.decoder.SkipAttributeTransform(this.draco[Ee])}_getQuantizationTransform(x,ye){const{quantizedAttributes:Te=[]}=ye,ke=x.attribute_type();if(Te.map(nt=>this.decoder[nt]).includes(ke)){const nt=new this.draco.AttributeQuantizationTransform;try{if(nt.InitFromAttribute(x))return{quantization_bits:nt.quantization_bits(),range:nt.range(),min_values:new Float32Array([1,2,3]).map(at=>nt.min_value(at))}}finally{this.draco.destroy(nt)}}return null}_getOctahedronTransform(x,ye){const{octahedronAttributes:Te=[]}=ye,ke=x.attribute_type();if(Te.map(nt=>this.decoder[nt]).includes(ke)){const nt=new this.draco.AttributeQuantizationTransform;try{if(nt.InitFromAttribute(x))return{quantization_bits:nt.quantization_bits()}}finally{this.draco.destroy(nt)}}return null}},ge=w(13827),Ve="https://www.gstatic.com/draco/versioned/decoders/1.5.6",Ge={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},gt={[Ge.DECODER]:`${Ve}/${Ge.DECODER}`,[Ge.DECODER_WASM]:`${Ve}/${Ge.DECODER_WASM}`,[Ge.FALLBACK_DECODER]:`${Ve}/${Ge.FALLBACK_DECODER}`,[Ge.ENCODER]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${Ge.ENCODER}`};function Oe(){return Oe=r(function*(x){const ye=x.modules||{};return _t||=ye.draco3d?ye.draco3d.createDecoderModule({}).then(Te=>({draco:Te})):function We(x){return st.apply(this,arguments)}(x),yield _t}),Oe.apply(this,arguments)}function He(){return He=r(function*(x){const ye=x.modules||{};return zt||=ye.draco3d?ye.draco3d.createEncoderModule({}).then(Te=>({draco:Te})):function wt(x){return kt.apply(this,arguments)}(x),yield zt}),He.apply(this,arguments)}function st(){return st=r(function*(x){let ye,Te;return"js"===(x.draco&&x.draco.decoderType)?ye=yield(0,ge.loadLibrary)(gt[Ge.FALLBACK_DECODER],"draco",x,Ge.FALLBACK_DECODER):[ye,Te]=yield Promise.all([yield(0,ge.loadLibrary)(gt[Ge.DECODER],"draco",x,Ge.DECODER),yield(0,ge.loadLibrary)(gt[Ge.DECODER_WASM],"draco",x,Ge.DECODER_WASM)]),ye=ye||globalThis.DracoDecoderModule,yield function ft(x,ye){const Te={};return ye&&(Te.wasmBinary=ye),new Promise(ke=>{x({...Te,onModuleLoaded:Ee=>ke({draco:Ee})})})}(ye,Te)}),st.apply(this,arguments)}function kt(){return kt=r(function*(x){let ye=yield(0,ge.loadLibrary)(gt[Ge.ENCODER],"draco",x,Ge.ENCODER);return ye=ye||globalThis.DracoEncoderModule,new Promise(Te=>{ye({onModuleLoaded:ke=>Te({draco:ke})})})}),kt.apply(this,arguments)}var je={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},Ce=()=>{},ne=class{draco;dracoEncoder;dracoMeshBuilder;dracoMetadataBuilder;log;constructor(x){this.draco=x,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}destroy(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}destroyEncodedObject(x){x&&this.draco.destroy(x)}encodeSync(x,ye={}){return this.log=Ce,this._setOptions(ye),ye.pointcloud?this._encodePointCloud(x,ye):this._encodeMesh(x,ye)}_getAttributesFromMesh(x){const ye={...x,...x.attributes};return x.indices&&(ye.indices=x.indices),ye}_encodePointCloud(x,ye){const Te=new this.draco.PointCloud;ye.metadata&&this._addGeometryMetadata(Te,ye.metadata);const ke=this._getAttributesFromMesh(x);this._createDracoPointCloud(Te,ke,ye);const Ee=new this.draco.DracoInt8Array;try{const nt=this.dracoEncoder.EncodePointCloudToDracoBuffer(Te,!1,Ee);if(!(nt>0))throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${Te.num_points()} points\n        with ${Te.num_attributes()} attributes into ${nt} bytes`),Re(Ee)}finally{this.destroyEncodedObject(Ee),this.destroyEncodedObject(Te)}}_encodeMesh(x,ye){const Te=new this.draco.Mesh;ye.metadata&&this._addGeometryMetadata(Te,ye.metadata);const ke=this._getAttributesFromMesh(x);this._createDracoMesh(Te,ke,ye);const Ee=new this.draco.DracoInt8Array;try{const nt=this.dracoEncoder.EncodeMeshToDracoBuffer(Te,Ee);if(nt<=0)throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${Te.num_points()} points\n        with ${Te.num_attributes()} attributes into ${nt} bytes`),Re(Ee)}finally{this.destroyEncodedObject(Ee),this.destroyEncodedObject(Te)}}_setOptions(x){if("speed"in x&&this.dracoEncoder.SetSpeedOptions(...x.speed),"method"in x&&this.dracoEncoder.SetEncodingMethod(this.draco[x.method||"MESH_SEQUENTIAL_ENCODING"]),"quantization"in x)for(const ye in x.quantization)this.dracoEncoder.SetAttributeQuantization(this.draco[ye],x.quantization[ye])}_createDracoMesh(x,ye,Te){const ke=Te.attributesMetadata||{};try{const Ee=this._getPositionAttribute(ye);if(!Ee)throw new Error("positions");const nt=Ee.length/3;for(let at in ye){const yt=ye[at];at=je[at]||at;const Jt=this._addAttributeToMesh(x,at,yt,nt);-1!==Jt&&this._addAttributeMetadata(x,Jt,{name:at,...ke[at]||{}})}}catch(Ee){throw this.destroyEncodedObject(x),Ee}return x}_createDracoPointCloud(x,ye,Te){const ke=Te.attributesMetadata||{};try{const Ee=this._getPositionAttribute(ye);if(!Ee)throw new Error("positions");const nt=Ee.length/3;for(let at in ye){const yt=ye[at];at=je[at]||at;const Jt=this._addAttributeToMesh(x,at,yt,nt);-1!==Jt&&this._addAttributeMetadata(x,Jt,{name:at,...ke[at]||{}})}}catch(Ee){throw this.destroyEncodedObject(x),Ee}return x}_addAttributeToMesh(x,ye,Te,ke){if(!ArrayBuffer.isView(Te))return-1;const Ee=this._getDracoAttributeType(ye),nt=Te.length/ke;if("indices"===Ee){const Jt=Te.length/3;return this.log(`Adding attribute ${ye}, size ${Jt}`),this.dracoMeshBuilder.AddFacesToMesh(x,Jt,Te),-1}this.log(`Adding attribute ${ye}, size ${nt}`);const at=this.dracoMeshBuilder,{buffer:yt}=Te;switch(Te.constructor){case Int8Array:return at.AddInt8Attribute(x,Ee,ke,nt,new Int8Array(yt));case Int16Array:return at.AddInt16Attribute(x,Ee,ke,nt,new Int16Array(yt));case Int32Array:return at.AddInt32Attribute(x,Ee,ke,nt,new Int32Array(yt));case Uint8Array:case Uint8ClampedArray:return at.AddUInt8Attribute(x,Ee,ke,nt,new Uint8Array(yt));case Uint16Array:return at.AddUInt16Attribute(x,Ee,ke,nt,new Uint16Array(yt));case Uint32Array:return at.AddUInt32Attribute(x,Ee,ke,nt,new Uint32Array(yt));case Float32Array:return at.AddFloatAttribute(x,Ee,ke,nt,new Float32Array(yt));default:return console.warn("Unsupported attribute type",Te),-1}}_getDracoAttributeType(x){switch(x.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}_getPositionAttribute(x){for(const ye in x){const Te=x[ye];if(this._getDracoAttributeType(ye)===this.draco.POSITION)return Te}return null}_addGeometryMetadata(x,ye){const Te=new this.draco.Metadata;this._populateDracoMetadata(Te,ye),this.dracoMeshBuilder.AddMetadata(x,Te)}_addAttributeMetadata(x,ye,Te){const ke=new this.draco.Metadata;this._populateDracoMetadata(ke,Te),this.dracoMeshBuilder.SetMetadataForAttribute(x,ye,ke)}_populateDracoMetadata(x,ye){for(const[Te,ke]of function te(x){return x.entries&&!x.hasOwnProperty("entries")?x.entries():Object.entries(x)}(ye))switch(typeof ke){case"number":Math.trunc(ke)===ke?this.dracoMetadataBuilder.AddIntEntry(x,Te,ke):this.dracoMetadataBuilder.AddDoubleEntry(x,Te,ke);break;case"object":ke instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(x,Te,ke,ke.length);break;default:this.dracoMetadataBuilder.AddStringEntry(x,Te,ke)}}};function Re(x){const ye=x.size(),Te=new ArrayBuffer(ye),ke=new Int8Array(Te);for(let Ee=0;Ee<ye;++Ee)ke[Ee]=x.GetValue(Ee);return Te}var M={name:"DRACO",id:"draco",module:"draco",version:z,extensions:["drc"],options:{draco:{pointcloud:!1,attributeNameEntry:"name"}},encode:function Y(x){return G.apply(this,arguments)}};function G(){return G=r(function*(x,ye={}){const{draco:Te}=yield function De(x){return He.apply(this,arguments)}(ye),ke=new ne(Te);try{return ke.encodeSync(x,ye.draco)}finally{ke.destroy()}}),G.apply(this,arguments)}var _e={id:"draco-writer",name:"Draco compressed geometry writer",module:"draco",version:z,worker:!0,options:{draco:{},source:null}},Z={...B,parse:function f(x,ye){return V.apply(this,arguments)}};function V(){return V=r(function*(x,ye){const{draco:Te}=yield function Rn(x){return Oe.apply(this,arguments)}(ye),ke=new ae(Te);try{return ke.parseSync(x,ye?.draco)}finally{ke.destroy()}}),V.apply(this,arguments)}},13128:(bn,be,w)=>{"use strict";var v,r=w(31049).default,m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,h=(v,j)=>{for(var I in j)m(v,I,{get:j[I],enumerable:!0})},k={};h(k,{EXT_FEATURE_METADATA:()=>me,EXT_MESH_FEATURES:()=>y,EXT_STRUCTURAL_METADATA:()=>Ee,GLBLoader:()=>Gs,GLBWriter:()=>gc,GLTFLoader:()=>bi,GLTFScenegraph:()=>gt,GLTFWriter:()=>Go,_getMemoryUsageGLTF:()=>K,createExtMeshFeatures:()=>V,createExtStructuralMetadata:()=>Qt,postProcessGLTF:()=>ms}),bn.exports=(v=k,((v,j,I,re)=>{if(j&&"object"==typeof j||"function"==typeof j)for(let Ze of C(j))!D.call(v,Ze)&&undefined!==Ze&&m(v,Ze,{get:()=>j[Ze],enumerable:!(re=g(j,Ze))||re.enumerable});return v})(m({},"__esModule",{value:!0}),v));var z={};h(z,{createExtMeshFeatures:()=>V,decode:()=>M,encode:()=>G,name:()=>y});var B=w(14315),A=w(28690);function T(v,j){if(!v)throw new Error(j||"assert failed: gltf")}var b={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},J={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ce=1.33,W=["SCALAR","VEC2","VEC3","VEC4"],se=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],Q=new Map(se),Ie={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ae={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Me={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function q(v){return W[v-1]||W[0]}function $(v){const j=Q.get(v.constructor);if(!j)throw new Error("Illegal typed array");return j}function ge(v,j){const I=Me[v.componentType],re=Ie[v.type],Dt=v.count*re,Zt=v.count*re*ae[v.componentType];return T(Zt>=0&&Zt<=j.byteLength),{ArrayType:I,length:Dt,byteLength:Zt,componentByteSize:J[v.componentType],numberOfComponentsInElement:b[v.type]}}function K(v){let{images:j,bufferViews:I}=v;j=j||[],I=I||[];const re=j.map(Zt=>Zt.bufferView);I=I.filter(Zt=>!re.includes(Zt));const Ze=I.reduce((Zt,nr)=>Zt+nr.byteLength,0),Dt=j.reduce((Zt,nr)=>{const{width:Ur,height:Jr}=nr.image;return Zt+Ur*Jr},0);return Ze+Math.ceil(4*Dt*ce)}var gt=class{gltf;sourceBuffers;byteLength;constructor(v){this.gltf={json:v?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:v?.buffers||[],images:v?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(v){return this.json[v]}getExtraData(v){return(this.json.extras||{})[v]}hasExtension(v){const j=this.getUsedExtensions().find(re=>re===v),I=this.getRequiredExtensions().find(re=>re===v);return"string"==typeof j||"string"==typeof I}getExtension(v){return this.getUsedExtensions().find(re=>re===v)?(this.json.extensions||{})[v]:null}getRequiredExtension(v){return this.getRequiredExtensions().find(I=>I===v)?this.getExtension(v):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(v,j){return(v.extensions||{})[j]}getScene(v){return this.getObject("scenes",v)}getNode(v){return this.getObject("nodes",v)}getSkin(v){return this.getObject("skins",v)}getMesh(v){return this.getObject("meshes",v)}getMaterial(v){return this.getObject("materials",v)}getAccessor(v){return this.getObject("accessors",v)}getTexture(v){return this.getObject("textures",v)}getSampler(v){return this.getObject("samplers",v)}getImage(v){return this.getObject("images",v)}getBufferView(v){return this.getObject("bufferViews",v)}getBuffer(v){return this.getObject("buffers",v)}getObject(v,j){if("object"==typeof j)return j;const I=this.json[v]&&this.json[v][j];if(!I)throw new Error(`glTF file error: Could not find ${v}[${j}]`);return I}getTypedArrayForBufferView(v){v=this.getBufferView(v);const I=this.gltf.buffers[v.buffer];return T(I),new Uint8Array(I.arrayBuffer,(v.byteOffset||0)+I.byteOffset,v.byteLength)}getTypedArrayForAccessor(v){const j=this.getAccessor(v);return function Ve(v,j,I){var re,Ze;const Dt="number"==typeof I?null==(re=v.accessors)?void 0:re[I]:I;if(!Dt)throw new Error(`No gltf accessor ${JSON.stringify(I)}`);const Zt=null==(Ze=v.bufferViews)?void 0:Ze[Dt.bufferView||0];if(!Zt)throw new Error(`No gltf buffer view for accessor ${Zt}`);const{arrayBuffer:nr,byteOffset:Ur}=j[Zt.buffer],Jr=(Ur||0)+(Dt.byteOffset||0)+(Zt.byteOffset||0),{ArrayType:di,length:Kr,componentByteSize:fi,numberOfComponentsInElement:Di}=ge(Dt,Zt),Zr=fi*Di,so=Zt.byteStride||Zr;if(typeof Zt.byteStride>"u"||Zt.byteStride===Zr)return new di(nr,Jr,Kr);const cs=new di(Kr);for(let Us=0;Us<Dt.count;Us++){const As=new di(nr,Jr+Us*so,Di);cs.set(As,Us*Di)}return cs}(this.gltf.json,this.gltf.buffers,j)}getTypedArrayForImageData(v){v=this.getAccessor(v);const j=this.getBufferView(v.bufferView),re=this.getBuffer(j.buffer).data;return new Uint8Array(re,j.byteOffset||0,j.byteLength)}addApplicationData(v,j){return this.json[v]=j,this}addExtraData(v,j){return this.json.extras=this.json.extras||{},this.json.extras[v]=j,this}addObjectExtension(v,j,I){return v.extensions=v.extensions||{},v.extensions[j]=I,this.registerUsedExtension(j),this}setObjectExtension(v,j,I){(v.extensions||{})[j]=I}removeObjectExtension(v,j){const I=v?.extensions||{};if(I[j]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const re=this.json.extensionsRemoved;re.includes(j)||re.push(j)}delete I[j]}addExtension(v,j={}){return T(j),this.json.extensions=this.json.extensions||{},this.json.extensions[v]=j,this.registerUsedExtension(v),j}addRequiredExtension(v,j={}){return T(j),this.addExtension(v,j),this.registerRequiredExtension(v),j}registerUsedExtension(v){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(j=>j===v)||this.json.extensionsUsed.push(v)}registerRequiredExtension(v){this.registerUsedExtension(v),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(j=>j===v)||this.json.extensionsRequired.push(v)}removeExtension(v){var j;if(null!=(j=this.json.extensions)&&j[v]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const I=this.json.extensionsRemoved;I.includes(v)||I.push(v)}this.json.extensions&&delete this.json.extensions[v],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,v),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,v)}setDefaultScene(v){this.json.scene=v}addScene(v){const{nodeIndices:j}=v;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:j}),this.json.scenes.length-1}addNode(v){const{meshIndex:j,matrix:I}=v;this.json.nodes=this.json.nodes||[];const re={mesh:j};return I&&(re.matrix=I),this.json.nodes.push(re),this.json.nodes.length-1}addMesh(v){const{attributes:j,indices:I,material:re,mode:Ze=4}=v,Zt={primitives:[{attributes:this._addAttributes(j),mode:Ze}]};if(I){const nr=this._addIndices(I);Zt.primitives[0].indices=nr}return Number.isFinite(re)&&(Zt.primitives[0].material=re),this.json.meshes=this.json.meshes||[],this.json.meshes.push(Zt),this.json.meshes.length-1}addPointCloud(v){const I={primitives:[{attributes:this._addAttributes(v),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(I),this.json.meshes.length-1}addImage(v,j){const I=(0,B.getBinaryImageMetadata)(v),re=j||I?.mimeType,Dt={bufferView:this.addBufferView(v),mimeType:re};return this.json.images=this.json.images||[],this.json.images.push(Dt),this.json.images.length-1}addBufferView(v,j=0,I=this.byteLength){const re=v.byteLength;T(Number.isFinite(re)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(v);const Ze={buffer:j,byteOffset:I,byteLength:re};return this.byteLength+=(0,A.padToNBytes)(re,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(Ze),this.json.bufferViews.length-1}addAccessor(v,j){const I={bufferView:v,type:q(j.size),componentType:j.componentType,count:j.count,max:j.max,min:j.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(I),this.json.accessors.length-1}addBinaryBuffer(v,j={size:3}){const I=this.addBufferView(v);let re={min:j.min,max:j.max};(!re.min||!re.max)&&(re=this._getAccessorMinMax(v,j.size));const Ze={size:j.size,componentType:$(v),count:Math.round(v.length/j.size),min:re.min,max:re.max};return this.addAccessor(I,Object.assign(Ze,j))}addTexture(v){const{imageIndex:j}=v,I={source:j};return this.json.textures=this.json.textures||[],this.json.textures.push(I),this.json.textures.length-1}addMaterial(v){return this.json.materials=this.json.materials||[],this.json.materials.push(v),this.json.materials.length-1}createBinaryChunk(){var v,j;const I=this.byteLength,re=new ArrayBuffer(I),Ze=new Uint8Array(re);let Dt=0;for(const Zt of this.sourceBuffers||[])Dt=(0,A.copyToArray)(Zt,Ze,Dt);null!=(j=null==(v=this.json)?void 0:v.buffers)&&j[0]?this.json.buffers[0].byteLength=I:this.json.buffers=[{byteLength:I}],this.gltf.binary=re,this.sourceBuffers=[re],this.gltf.buffers=[{arrayBuffer:re,byteOffset:0,byteLength:re.byteLength}]}_removeStringFromArray(v,j){let I=!0;for(;I;){const re=v.indexOf(j);re>-1?v.splice(re,1):I=!1}}_addAttributes(v={}){const j={};for(const I in v){const re=v[I],Ze=this._getGltfAttributeName(I),Dt=this.addBinaryBuffer(re.value,re);j[Ze]=Dt}return j}_addIndices(v){return this.addBinaryBuffer(v,{size:1})}_getGltfAttributeName(v){switch(v.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return v}}_getAccessorMinMax(v,j){const I={min:null,max:null};if(v.length<j)return I;I.min=[],I.max=[];const re=v.subarray(0,j);for(const Ze of re)I.min.push(Ze),I.max.push(Ze);for(let Ze=j;Ze<v.length;Ze+=j)for(let Dt=0;Dt<j;Dt++)I.min[0+Dt]=Math.min(I.min[0+Dt],v[Ze+Dt]),I.max[0+Dt]=Math.max(I.max[0+Dt],v[Ze+Dt]);return I}},_t=w(14315);function zt(v){return(v%1+1)%1}var Rn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},Oe={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},De={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function He(v,j){return De[j]*Rn[v]}function We(v,j,I,re){if("UINT8"!==I&&"UINT16"!==I&&"UINT32"!==I&&"UINT64"!==I)return null;const Dt=st(v.getTypedArrayForBufferView(j),"SCALAR",I,re+1);return Dt instanceof BigInt64Array||Dt instanceof BigUint64Array?null:Dt}function st(v,j,I,re=1){const Dt=Oe[I],Zt=De[I],nr=re*Rn[j],Ur=nr*Zt;let Jr=v.buffer,di=v.byteOffset;return di%Zt!=0&&(Jr=new Uint8Array(Jr).slice(di,di+Ur).buffer,di=0),new Dt(Jr,di,nr)}function ft(v,j,I){var re,Ze,Dt,Zt,nr;const di=v.getTypedArrayForAccessor(I.attributes[`TEXCOORD_${j.texCoord||0}`]),Kr=v.gltf.json,Di=null==(Ze=null==(re=Kr.textures)?void 0:re[j.index])?void 0:Ze.source;if(typeof Di<"u"){const Zr=null==(Zt=null==(Dt=Kr.images)?void 0:Dt[Di])?void 0:Zt.mimeType,so=null==(nr=v.gltf.images)?void 0:nr[Di];if(so&&typeof so.width<"u"){const cs=[];for(let Us=0;Us<di.length;Us+=2){const As=kt(so,Zr,di,Us,j.channels);cs.push(As)}return cs}}return[]}function wt(v,j,I,re,Ze){if(!I?.length)return;const Dt=[];for(const di of I){let Kr=re.findIndex(fi=>fi===di);-1===Kr&&(Kr=re.push(di)-1),Dt.push(Kr)}const Zt=new Uint32Array(Dt),nr=v.gltf.buffers.push({arrayBuffer:Zt.buffer,byteOffset:Zt.byteOffset,byteLength:Zt.byteLength})-1,Ur=v.addBufferView(Zt,nr,0),Jr=v.addAccessor(Ur,{size:1,componentType:$(Zt),count:Zt.length});Ze.attributes[j]=Jr}function kt(v,j,I,re,Ze=[0]){const Dt={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},Zt=I[re],nr=I[re+1];let Ur=1;j&&(-1!==j.indexOf("image/jpeg")||-1!==j.indexOf("image/png"))&&(Ur=4);const Jr=function je(v,j,I,re=1){const Ze=I.width,Dt=zt(v)*(Ze-1),Zt=Math.round(Dt),nr=I.height,Ur=zt(j)*(nr-1);return(Math.round(Ur)*Ze+Zt)*(I.components?I.components:re)}(Zt,nr,v,Ur);let di=0;for(const Kr of Ze){const fi="number"==typeof Kr?Object.values(Dt)[Kr]:Dt[Kr],Di=Jr+fi.offset,Zr=(0,_t.getImageData)(v);if(Zr.data.length<=Di)throw new Error(`${Zr.data.length} <= ${Di}`);di|=Zr.data[Di]<<fi.shift}return di}function Ce(v,j,I,re,Ze){const Dt=[];for(let Zt=0;Zt<j;Zt++){const nr=I[Zt],Ur=I[Zt+1]-I[Zt];if(Ur+nr>re)break;const Jr=nr/Ze;Dt.push(v.slice(Jr,Jr+Ur/Ze))}return Dt}function ne(v,j,I){const re=[];for(let Ze=0;Ze<j;Ze++){const Dt=Ze*I;re.push(v.slice(Dt,Dt+I))}return re}function Re(v,j,I,re){if(I)throw new Error("Not implemented - arrayOffsets for strings is specified");if(re){const Ze=[],Dt=new TextDecoder("utf8");let Zt=0;for(let nr=0;nr<v;nr++){const Ur=re[nr+1]-re[nr];if(Ur+Zt<=j.length){const Jr=j.subarray(Zt,Ur+Zt),di=Dt.decode(Jr);Ze.push(di),Zt+=Ur}}return Ze}return[]}var te="EXT_mesh_features",y=te;function M(v,j){return Y.apply(this,arguments)}function Y(){return Y=r(function*(v,j){!function _e(v,j){const I=v.gltf.json;if(I.meshes)for(const re of I.meshes)for(const Ze of re.primitives)Z(v,Ze,j)}(new gt(v),j)}),Y.apply(this,arguments)}function G(v,j){const I=new gt(v);return function f(v){const I=v.gltf.json.meshes;if(I)for(const re of I)for(const Ze of re.primitives)x(v,Ze)}(I),I.createBinaryChunk(),I.gltf}function Z(v,j,I){var re,Ze,Dt;if(null==(re=I?.gltf)||!re.loadBuffers)return;const Zt=null==(Ze=j.extensions)?void 0:Ze[te],nr=Zt?.featureIds;if(nr)for(const Ur of nr){let Jr;Jr=typeof Ur.attribute<"u"?v.getTypedArrayForAccessor(j.attributes[`_FEATURE_ID_${Ur.attribute}`]):typeof Ur.texture<"u"&&null!=(Dt=I?.gltf)&&Dt.loadImages?ft(v,Ur.texture,j):[],Ur.data=Jr}}function V(v,j,I,re){j.extensions||(j.extensions={});let Ze=j.extensions[te];Ze||(Ze={featureIds:[]},j.extensions[te]=Ze);const{featureIds:Dt}=Ze;Dt.push({featureCount:I.length,propertyTable:re,data:I}),v.addObjectExtension(j,te,Ze)}function x(v,j){var I;const re=null==(I=j.extensions)?void 0:I[te];if(!re)return;const Ze=re.featureIds;Ze.forEach((Dt,Zt)=>{if(Dt.data){const{accessorKey:nr,index:Ur}=function ye(v){const j="_FEATURE_ID_",I=Object.keys(v).filter(Dt=>0===Dt.indexOf(j));let re=-1;for(const Dt of I){const Zt=Number(Dt.substring(12));Zt>re&&(re=Zt)}return re++,{accessorKey:`${j}${re}`,index:re}}(j.attributes),Jr=new Uint32Array(Dt.data);Ze[Zt]={featureCount:Jr.length,propertyTable:Dt.propertyTable,attribute:Ur},v.gltf.buffers.push({arrayBuffer:Jr.buffer,byteOffset:Jr.byteOffset,byteLength:Jr.byteLength});const di=v.addBufferView(Jr),Kr=v.addAccessor(di,{size:1,componentType:$(Jr),count:Jr.length});j.attributes[nr]=Kr}})}var Te={};h(Te,{createExtStructuralMetadata:()=>Qt,decode:()=>nt,encode:()=>yt,name:()=>Ee});var ke="EXT_structural_metadata",Ee=ke;function nt(v,j){return at.apply(this,arguments)}function at(){return at=r(function*(v,j){!function Jt(v,j){var I,re;if(null==(I=j.gltf)||!I.loadBuffers)return;const Ze=v.getExtension(ke);Ze&&(null!=(re=j.gltf)&&re.loadImages&&function Qe(v,j){const I=j.propertyTextures,re=v.gltf.json;if(I&&re.meshes)for(const Ze of re.meshes)for(const Dt of Ze.primitives)Mt(v,I,Dt,j)}(v,Ze),function Ft(v,j){const I=j.schema;if(!I)return;const re=I.classes,Ze=j.propertyTables;if(re&&Ze)for(const Dt in re){const Zt=it(Ze,Dt);Zt&&Bt(v,I,Zt)}}(v,Ze))}(new gt(v),j)}),at.apply(this,arguments)}function yt(v,j){const I=new gt(v);return function cn(v){var I,re;const Ze=v.getExtension(ke);if(Ze&&Ze.propertyTables)for(const Dt of Ze.propertyTables){const nr=null==(re=null==(I=Ze.schema)?void 0:I.classes)?void 0:re[Dt.class];Dt.properties&&nr&&Yt(Dt,nr,v)}}(I),I.createBinaryChunk(),I.gltf}function it(v,j){for(const I of v)if(I.class===j)return I;return null}function Mt(v,j,I,re){var Ze;if(!j)return;const Dt=null==(Ze=I.extensions)?void 0:Ze[ke],Zt=Dt?.propertyTextures;if(Zt)for(const nr of Zt)lt(v,j[nr],I,re)}function lt(v,j,I,re){var Ze;if(!j.properties)return;re.dataAttributeNames||(re.dataAttributeNames=[]);const Dt=j.class;for(const Zt in j.properties){const nr=`${Dt}_${Zt}`,Ur=null==(Ze=j.properties)?void 0:Ze[Zt];if(!Ur)continue;Ur.data||(Ur.data=[]);const Jr=Ur.data,di=ft(v,Ur,I);null!==di&&(wt(v,nr,di,Jr,I),Ur.data=Jr,re.dataAttributeNames.push(nr))}}function Bt(v,j,I){var re,Ze;const Dt=null==(re=j.classes)?void 0:re[I.class];if(!Dt)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${I.class}`);const Zt=I.count;for(const nr in Dt.properties){const Jr=null==(Ze=I.properties)?void 0:Ze[nr];if(Jr){const di=ct(v,j,Dt.properties[nr],Zt,Jr);Jr.data=di}}}function ct(v,j,I,re,Ze){let Dt=[];const nr=v.getTypedArrayForBufferView(Ze.values),Ur=function Tt(v,j,I,re){return j.array&&typeof j.count>"u"&&typeof I.arrayOffsets<"u"?We(v,I.arrayOffsets,I.arrayOffsetType||"UINT32",re):null}(v,I,Ze,re),Jr=function rt(v,j,I){return typeof j.stringOffsets<"u"?We(v,j.stringOffsets,j.stringOffsetType||"UINT32",I):null}(v,Ze,re);switch(I.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":Dt=function Et(v,j,I,re){const Ze=v.array,Dt=v.count,Zt=He(v.type,v.componentType);let Ur;return Ur=v.componentType?st(I,v.type,v.componentType,I.byteLength/Zt):I,Ze?re?Ce(Ur,j,re,I.length,Zt):Dt?ne(Ur,j,Dt):[]:Ur}(I,re,nr,Ur);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${I.type}`);case"STRING":Dt=Re(re,nr,Ur,Jr);break;case"ENUM":Dt=function vn(v,j,I,re,Ze){var Dt;const Zt=j.enumType;if(!Zt)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const nr=null==(Dt=v.enums)?void 0:Dt[Zt];if(!nr)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${Zt}`);const Ur=nr.valueType||"UINT16",Jr=He(j.type,Ur);let Kr=st(re,j.type,Ur,re.byteLength/Jr);if(Kr||(Kr=re),j.array){if(Ze)return function In(v){const{valuesData:j,numberOfElements:I,arrayOffsets:re,valuesDataBytesLength:Ze,elementSize:Dt,enumEntry:Zt}=v,nr=[];for(let Ur=0;Ur<I;Ur++){const Jr=re[Ur],di=re[Ur+1]-re[Ur];if(di+Jr>Ze)break;const Di=Jn(j,Jr/Dt,di/Dt,Zt);nr.push(Di)}return nr}({valuesData:Kr,numberOfElements:I,arrayOffsets:Ze,valuesDataBytesLength:re.length,elementSize:Jr,enumEntry:nr});const fi=j.count;return fi?function Un(v,j,I,re){const Ze=[];for(let Dt=0;Dt<j;Dt++){const nr=Jn(v,I*Dt,I,re);Ze.push(nr)}return Ze}(Kr,I,fi,nr):[]}return Jn(Kr,0,I,nr)}(j,I,re,nr,Ur);break;default:throw new Error(`Unknown classProperty type ${I.type}`)}return Dt}function Jn(v,j,I,re){const Ze=[];for(let Dt=0;Dt<I;Dt++)if(v instanceof BigInt64Array||v instanceof BigUint64Array)Ze.push("");else{const nr=Cr(re,v[j+Dt]);Ze.push(nr?nr.name:"")}return Ze}function Cr(v,j){for(const I of v.values)if(I.value===j)return I;return null}var wn="schemaClassId";function Yt(v,j,I){for(const re in v.properties){const Ze=v.properties[re].data;if(Ze){const Dt=j.properties[re];if(Dt){const Zt=Dn(Ze,Dt,I);v.properties[re]=Zt}}}}function Qt(v,j,I=wn){let re=v.getExtension(ke);re||(re=v.addExtension(ke)),re.schema=function jn(v,j,I){const re=I??{id:"schema_id"},Ze={properties:{}};for(const Dt of v)Ze.properties[Dt.name]={type:Dt.elementType,componentType:Dt.componentType};return re.classes={},re.classes[j]=Ze,re}(j,I,re.schema);const Ze=function Lt(v,j,I){var re;const Ze={class:j,count:0};let Dt=0;const Zt=null==(re=I.classes)?void 0:re[j];for(const nr of v){if(0===Dt&&(Dt=nr.values.length),Dt!==nr.values.length&&nr.values.length)throw new Error("Illegal values in attributes");Zt?.properties[nr.name]&&(Ze.properties||(Ze.properties={}),Ze.properties[nr.name]={values:0,data:nr.values})}return Ze.count=Dt,Ze}(j,I,re.schema);return re.propertyTables||(re.propertyTables=[]),re.propertyTables.push(Ze)-1}function Dn(v,j,I){const re={values:0};if("STRING"===j.type){const{stringData:Ze,stringOffsets:Dt}=function Tn(v){const j=new TextEncoder,I=[];let re=0;for(const Ur of v){const Jr=j.encode(Ur);re+=Jr.length,I.push(Jr)}const Ze=new Uint8Array(re),Dt=[];let Zt=0;for(const Ur of I)Ze.set(Ur,Zt),Dt.push(Zt),Zt+=Ur.length;Dt.push(Zt);return{stringData:Ze,stringOffsets:new Uint32Array(Dt)}}(v);re.stringOffsets=dn(Dt,I),re.values=dn(Ze,I)}else if("SCALAR"===j.type&&j.componentType){const Ze=function Sn(v,j){const I=[];for(const Ze of v)I.push(Number(Ze));const re=Pn[j];if(!re)throw new Error("Illegal component type");return new re(I)}(v,j.componentType);re.values=dn(Ze,I)}return re}var Pn={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function dn(v,j){return j.gltf.buffers.push({arrayBuffer:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength}),j.addBufferView(v)}var Bn={};h(Bn,{decode:()=>ue,name:()=>me});var Ct="EXT_feature_metadata",me=Ct;function ue(v,j){return Ue.apply(this,arguments)}function Ue(){return Ue=r(function*(v,j){!function bt(v,j){var I,re;if(null==(I=j.gltf)||!I.loadBuffers)return;const Ze=v.getExtension(Ct);Ze&&(null!=(re=j.gltf)&&re.loadImages&&function Ht(v,j){const I=j.schema;if(!I)return;const re=I.classes,{featureTextures:Ze}=j;if(re&&Ze)for(const Dt in re){const Zt=re[Dt],nr=Hr(Ze,Dt);nr&&mi(v,nr,Zt)}}(v,Ze),function fn(v,j){const I=j.schema;if(!I)return;const re=I.classes,Ze=j.featureTables;if(re&&Ze)for(const Dt in re){const Zt=cr(Ze,Dt);Zt&&ti(v,I,Zt)}}(v,Ze))}(new gt(v),j)}),Ue.apply(this,arguments)}function cr(v,j){for(const I in v){const re=v[I];if(re.class===j)return re}return null}function Hr(v,j){for(const I in v){const re=v[I];if(re.class===j)return re}return null}function ti(v,j,I){var re,Ze;if(!I.class)return;const Dt=null==(re=j.classes)?void 0:re[I.class];if(!Dt)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${I.class}`);const Zt=I.count;for(const nr in Dt.properties){const Jr=null==(Ze=I.properties)?void 0:Ze[nr];if(Jr){const di=li(v,0,Dt.properties[nr],Zt,Jr);Jr.data=di}}}function mi(v,j,I){var re;const Ze=j.class;for(const Dt in I.properties){const Zt=null==(re=j?.properties)?void 0:re[Dt];if(Zt){const nr=xo(v,Zt,Ze);Zt.data=nr}}}function li(v,j,I,re,Ze){let Dt=[];const nr=v.getTypedArrayForBufferView(Ze.bufferView),Ur=function Io(v,j,I,re){return"ARRAY"===j.type&&typeof j.componentCount>"u"&&typeof I.arrayOffsetBufferView<"u"?We(v,I.arrayOffsetBufferView,I.offsetType||"UINT32",re):null}(v,I,Ze,re),Jr=function Co(v,j,I,re){return typeof I.stringOffsetBufferView<"u"?We(v,I.stringOffsetBufferView,I.offsetType||"UINT32",re):null}(v,0,Ze,re);return"STRING"===I.type||"STRING"===I.componentType?Dt=Re(re,nr,Ur,Jr):function wo(v){const j=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return j.includes(v.type)||typeof v.componentType<"u"&&j.includes(v.componentType)}(I)&&(Dt=function So(v,j,I,re){const Ze="ARRAY"===v.type,Dt=v.componentCount,nr=v.componentType||v.type,Ur=He("SCALAR",nr),di=st(I,"SCALAR",nr,I.byteLength/Ur);return Ze?re?Ce(di,j,re,I.length,Ur):Dt?ne(di,j,Dt):[]:di}(I,re,nr,Ur)),Dt}function xo(v,j,I){const re=v.gltf.json;if(!re.meshes)return[];const Ze=[];for(const Dt of re.meshes)for(const Zt of Dt.primitives)Po(v,I,j,Ze,Zt);return Ze}function Po(v,j,I,re,Ze){const Zt=ft(v,{channels:I.channels,...I.texture},Ze);Zt&&wt(v,j,Zt,re,Ze)}var nn="4.3.1",xn=w(28690),sr=w(14315),br=w(74389),Vr=w(28690),_r=!0,jt=1735152710,pe=12,ht=8,pn=1313821514,On=5130562,lr=0,Dr=0,ni=1;function Ri(v,j,I=0,re={}){const Ze=new DataView(j),Dt=function Yr(v,j=0){return`${String.fromCharCode(v.getUint8(j+0))}${String.fromCharCode(v.getUint8(j+1))}${String.fromCharCode(v.getUint8(j+2))}${String.fromCharCode(v.getUint8(j+3))}`}(Ze,I+0),Zt=Ze.getUint32(I+4,_r),nr=Ze.getUint32(I+8,_r);switch(Object.assign(v,{header:{byteOffset:I,byteLength:nr,hasBinChunk:!1},type:Dt,version:Zt,json:{},binChunks:[]}),I+=pe,v.version){case 1:return function eo(v,j,I){(0,Vr.assert)(v.header.byteLength>pe+ht);const re=j.getUint32(I+0,_r),Ze=j.getUint32(I+4,_r);return I+=ht,(0,Vr.assert)(Ze===lr),Yi(v,j,I,re),I+=re,I+=qi(v,j,I,v.header.byteLength)}(v,Ze,I);case 2:return function Ki(v,j,I,re){return(0,Vr.assert)(v.header.byteLength>pe+ht),function Qi(v,j,I,re){for(;I+8<=v.header.byteLength;){const Ze=j.getUint32(I+0,_r),Dt=j.getUint32(I+4,_r);switch(I+=ht,Dt){case pn:Yi(v,j,I,Ze);break;case On:qi(v,j,I,Ze);break;case Dr:re.strict||Yi(v,j,I,Ze);break;case ni:re.strict||qi(v,j,I,Ze)}I+=(0,Vr.padToNBytes)(Ze,4)}}(v,j,I,re),I+v.header.byteLength}(v,Ze,I,{});default:throw new Error(`Invalid GLB version ${v.version}. Only supports version 1 and 2.`)}}function Yi(v,j,I,re){const Ze=new Uint8Array(j.buffer,I,re),Zt=new TextDecoder("utf8").decode(Ze);return v.json=JSON.parse(Zt),(0,Vr.padToNBytes)(re,4)}function qi(v,j,I,re){return v.header.hasBinChunk=!0,v.binChunks.push({byteOffset:I,byteLength:re,arrayBuffer:j.buffer}),(0,Vr.padToNBytes)(re,4)}function bo(v,j){if(v.startsWith("data:")||v.startsWith("http:")||v.startsWith("https:"))return v;const re=j.baseUri||j.uri;if(!re)throw new Error(`'baseUri' must be provided to resolve relative url ${v}`);return re.substr(0,re.lastIndexOf("/")+1)+v}var Bo={};h(Bo,{decode:()=>Xo,name:()=>ps});var $r,Gt="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Se="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",vt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),Xt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Cn={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},tr={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function Ii(){return Ii=r(function*(v,j,I,re,Ze,Dt="NONE"){const Zt=yield function Hi(){return Mo.apply(this,arguments)}();!function Os(v,j,I,re,Ze,Dt,Zt){const nr=v.exports.sbrk,Ur=re+3&-4,Jr=nr(Ur*Ze),di=nr(Dt.length),Kr=new Uint8Array(v.exports.memory.buffer);Kr.set(Dt,di);const fi=j(Jr,re,Ze,di,Dt.length);if(0===fi&&Zt&&Zt(Jr,Ur,Ze),I.set(Kr.subarray(Jr,Jr+re*Ze)),nr(Jr-nr(0)),0!==fi)throw new Error(`Malformed buffer data: ${fi}`)}(Zt,Zt.exports[tr[Ze]],v,j,I,re,Zt.exports[Cn[Dt||"NONE"]])}),Ii.apply(this,arguments)}function Mo(){return Mo=r(function*(){return $r||($r=function Wo(){return xs.apply(this,arguments)}()),$r}),Mo.apply(this,arguments)}function xs(){return xs=r(function*(){let v=Gt;WebAssembly.validate(vt)&&(v=Se,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const j=yield WebAssembly.instantiate(function da(v){const j=new Uint8Array(v.length);for(let re=0;re<v.length;++re){const Ze=v.charCodeAt(re);j[re]=Ze>96?Ze-71:Ze>64?Ze-65:Ze>47?Ze+4:Ze>46?63:62}let I=0;for(let re=0;re<v.length;++re)j[I++]=j[re]<60?Xt[j[re]]:64*(j[re]-60)+j[++re];return j.buffer.slice(0,I)}(v),{});return yield j.instance.exports.__wasm_call_ctors(),j.instance}),xs.apply(this,arguments)}var Lo="EXT_meshopt_compression",ps=Lo;function Xo(v,j){return Ps.apply(this,arguments)}function Ps(){return Ps=r(function*(v,j){var I,re;const Ze=new gt(v);if(null==(I=j?.gltf)||!I.decompressMeshes||null==(re=j.gltf)||!re.loadBuffers)return;const Dt=[];for(const Zt of v.json.bufferViews||[])Dt.push(Gn(Ze,Zt));yield Promise.all(Dt),Ze.removeExtension(Lo)}),Ps.apply(this,arguments)}function Gn(v,j){return Hn.apply(this,arguments)}function Hn(){return Hn=r(function*(v,j){const I=v.getObjectExtension(j,Lo);if(I){const{byteOffset:re=0,byteLength:Ze=0,byteStride:Dt,count:Zt,mode:nr,filter:Ur="NONE",buffer:Jr}=I,di=v.gltf.buffers[Jr],Kr=new Uint8Array(di.arrayBuffer,di.byteOffset+re,Ze),fi=new Uint8Array(v.gltf.buffers[j.buffer].arrayBuffer,j.byteOffset,j.byteLength);yield function kr(v,j,I,re,Ze){return Ii.apply(this,arguments)}(fi,Zt,Dt,Kr,nr,Ur),v.removeObjectExtension(j,Lo)}}),Hn.apply(this,arguments)}var Ir={};h(Ir,{name:()=>Xr,preprocess:()=>ki});var ri=w(14315),si="EXT_texture_webp",Xr=si;function ki(v,j){const I=new gt(v);if(!(0,ri.isImageFormatSupported)("image/webp")){if(I.getRequiredExtensions().includes(si))throw new Error(`gltf: Required extension ${si} not supported by browser`);return}const{json:re}=I;for(const Ze of re.textures||[]){const Dt=I.getObjectExtension(Ze,si);Dt&&(Ze.source=Dt.source),I.removeObjectExtension(Ze,si)}I.removeExtension(si)}var Ji={};h(Ji,{name:()=>Pi,preprocess:()=>os});var po="KHR_texture_basisu",Pi=po;function os(v,j){const I=new gt(v),{json:re}=I;for(const Ze of re.textures||[]){const Dt=I.getObjectExtension(Ze,po);Dt&&(Ze.source=Dt.source,I.removeObjectExtension(Ze,po))}I.removeExtension(po)}var es={};h(es,{decode:()=>_s,encode:()=>ds,name:()=>Vo,preprocess:()=>Ls});var rs=w(28690),Fs=w(36848);function Ms(v){const{buffer:j,size:I,count:re}=function gs(v){let j=v,I=1,re=0;return v&&v.value&&(j=v.value,I=v.size||1),j&&(ArrayBuffer.isView(j)||(j=function ha(v,j,I=!1){return v?Array.isArray(v)?new j(v):!I||v instanceof j?v:new j(v):null}(j,Float32Array)),re=j.length/I),{buffer:j,size:I,count:re}}(v);return{value:j,size:I,byteOffset:0,count:re,type:q(I),componentType:$(j)}}var Es="KHR_draco_mesh_compression",Vo=Es;function Ls(v,j,I){const re=new gt(v);for(const Ze of ai(re))re.getObjectExtension(Ze,Es)}function _s(v,j,I){return ea.apply(this,arguments)}function ea(){return ea=r(function*(v,j,I){var re;if(null==(re=j?.gltf)||!re.decompressMeshes)return;const Ze=new gt(v),Dt=[];for(const Zt of ai(Ze))Ze.getObjectExtension(Zt,Es)&&Dt.push(Vn(Ze,Zt,j,I));yield Promise.all(Dt),Ze.removeExtension(Es)}),ea.apply(this,arguments)}function ds(v,j={}){const I=new gt(v);for(const re of I.json.meshes||[])er(re),I.addRequiredExtension(Es)}function Vn(v,j,I,re){return Wn.apply(this,arguments)}function Wn(){return Wn=r(function*(v,j,I,re){const Ze=v.getObjectExtension(j,Es);if(!Ze)return;const Dt=v.getTypedArrayForBufferView(Ze.bufferView),Zt=(0,rs.sliceArrayBuffer)(Dt.buffer,Dt.byteOffset),nr={...I};delete nr["3d-tiles"];const Ur=yield(0,rs.parseFromContext)(Zt,Fs.DracoLoader,nr,re),Jr=function Ro(v){const j={};for(const I in v)if("indices"!==I){const Ze=Ms(v[I]);j[I]=Ze}return j}(Ur.attributes);for(const[di,Kr]of Object.entries(Jr))if(di in j.attributes){const Di=v.getAccessor(j.attributes[di]);Di?.min&&Di?.max&&(Kr.min=Di.min,Kr.max=Di.max)}j.attributes=Jr,Ur.indices&&(j.indices=Ms(Ur.indices)),v.removeObjectExtension(j,Es),function gr(v){if(!v.attributes&&Object.keys(v.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(j)}),Wn.apply(this,arguments)}function er(v,j,I=4,re,Ze){var Dt;if(!re.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const Zt=re.DracoWriter.encodeSync({attributes:v}),nr=null==(Dt=Ze?.parseSync)?void 0:Dt.call(Ze,{attributes:v}),Ur=re._addFauxAttributes(nr.attributes),Jr=re.addBufferView(Zt);return{primitives:[{attributes:Ur,mode:I,extensions:{[Es]:{bufferView:Jr,attributes:Ur}}}]}}function*ai(v){for(const j of v.json.meshes||[])for(const I of j.primitives)yield I}var Ti={};h(Ti,{decode:()=>ar,name:()=>zi});var Zi=w(87974),go="KHR_texture_transform",zi=go,Vt=new Zi.Vector3,an=new Zi.Matrix3,un=new Zi.Matrix3;function ar(v,j){return Er.apply(this,arguments)}function Er(){return Er=r(function*(v,j){var I;if(!new gt(v).hasExtension(go)||null==(I=j.gltf)||!I.loadBuffers)return;const Dt=v.json.materials||[];for(let Zt=0;Zt<Dt.length;Zt++)rr(Zt,v)}),Er.apply(this,arguments)}function rr(v,j){var I,re,Ze,Dt;const Zt=null==(I=j.json.materials)?void 0:I[v],nr=[null==(re=Zt?.pbrMetallicRoughness)?void 0:re.baseColorTexture,Zt?.emissiveTexture,Zt?.normalTexture,Zt?.occlusionTexture,null==(Ze=Zt?.pbrMetallicRoughness)?void 0:Ze.metallicRoughnessTexture],Ur=[];for(const Jr of nr)Jr&&null!=(Dt=Jr?.extensions)&&Dt[go]&&Rr(j,v,Jr,Ur)}function Rr(v,j,I,re){const Ze=function Pr(v,j){var I;const re=null==(I=v.extensions)?void 0:I[go],{texCoord:Ze=0}=v,{texCoord:Dt=Ze}=re;if(-1===j.findIndex(([nr,Ur])=>nr===Ze&&Ur===Dt)){const nr=function to(v){const{offset:j=[0,0],rotation:I=0,scale:re=[1,1]}=v,Ze=(new Zi.Matrix3).set(1,0,0,0,1,0,j[0],j[1],1),Dt=an.set(Math.cos(I),Math.sin(I),0,-Math.sin(I),Math.cos(I),0,0,0,1),Zt=un.set(re[0],0,0,0,re[1],0,0,0,1);return Ze.multiplyRight(Dt).multiplyRight(Zt)}(re);return Ze!==Dt&&(v.texCoord=Dt),j.push([Ze,Dt]),{originalTexCoord:Ze,texCoord:Dt,matrix:nr}}return null}(I,re);if(!Ze)return;const Dt=v.json.meshes||[];for(const Zt of Dt)for(const nr of Zt.primitives){const Ur=nr.material;Number.isFinite(Ur)&&j===Ur&&ii(v,nr,Ze)}}function ii(v,j,I){var re,Ze;const{originalTexCoord:Dt,texCoord:Zt,matrix:nr}=I,Ur=j.attributes[`TEXCOORD_${Dt}`];if(Number.isFinite(Ur)){const Jr=null==(re=v.json.accessors)?void 0:re[Ur];if(Jr&&Jr.bufferView){const di=null==(Ze=v.json.bufferViews)?void 0:Ze[Jr.bufferView];if(di){const{arrayBuffer:Kr,byteOffset:fi}=v.buffers[di.buffer],Di=(fi||0)+(Jr.byteOffset||0)+(di.byteOffset||0),{ArrayType:Zr,length:so}=ge(Jr,di),Us=b[Jr.type],As=di.byteStride||J[Jr.componentType]*Us,ta=new Float32Array(so);for(let aa=0;aa<Jr.count;aa++){const hs=new Zr(Kr,Di+aa*As,2);Vt.set(hs[0],hs[1],1),Vt.transformByMatrix3(nr),ta.set([Vt[0],Vt[1]],aa*Us)}Dt===Zt?function zr(v,j,I,re){v.componentType=5126,I.push({arrayBuffer:re.buffer,byteOffset:0,byteLength:re.buffer.byteLength}),j.buffer=I.length-1,j.byteLength=re.buffer.byteLength,j.byteOffset=0,delete j.byteStride}(Jr,di,v.buffers,ta):function Ni(v,j,I,re,Ze){re.buffers.push({arrayBuffer:Ze.buffer,byteOffset:0,byteLength:Ze.buffer.byteLength});const Dt=re.json.bufferViews;if(!Dt)return;Dt.push({buffer:re.buffers.length-1,byteLength:Ze.buffer.byteLength,byteOffset:0});const Zt=re.json.accessors;Zt&&(Zt.push({bufferView:Dt?.length-1,byteOffset:0,componentType:5126,count:j.count,type:"VEC2"}),I.attributes[`TEXCOORD_${v}`]=Zt.length-1)}(Zt,Jr,j,v,ta)}}}}var ho={};h(ho,{decode:()=>Oo,encode:()=>Yo,name:()=>_o});var co="KHR_lights_punctual",_o=co;function Oo(v){return vo.apply(this,arguments)}function vo(){return vo=r(function*(v){const j=new gt(v),{json:I}=j,re=j.getExtension(co);re&&(j.json.lights=re.lights,j.removeExtension(co));for(const Ze of I.nodes||[]){const Dt=j.getObjectExtension(Ze,co);Dt&&(Ze.light=Dt.light),j.removeObjectExtension(Ze,co)}}),vo.apply(this,arguments)}function Yo(v){return Je.apply(this,arguments)}function Je(){return Je=r(function*(v){const j=new gt(v),{json:I}=j;if(I.lights){const re=j.addExtension(co);T(!re.lights),re.lights=I.lights,delete I.lights}if(j.json.lights){for(const re of j.json.lights)j.addObjectExtension(re.node,co,re);delete j.json.lights}}),Je.apply(this,arguments)}var Kt={};h(Kt,{decode:()=>de,encode:()=>ie,name:()=>L});var Ke="KHR_materials_unlit",L=Ke;function de(v){return O.apply(this,arguments)}function O(){return O=r(function*(v){const j=new gt(v),{json:I}=j;for(const re of I.materials||[])re.extensions&&re.extensions.KHR_materials_unlit&&(re.unlit=!0),j.removeObjectExtension(re,Ke);j.removeExtension(Ke)}),O.apply(this,arguments)}function ie(v){const j=new gt(v),{json:I}=j;if(j.materials)for(const re of I.materials||[])re.unlit&&(delete re.unlit,j.addObjectExtension(re,Ke,{}),j.addExtension(Ke))}var X={};h(X,{decode:()=>zn,encode:()=>Li,name:()=>Pt});var Ye="KHR_techniques_webgl",Pt=Ye;function zn(v){return hr.apply(this,arguments)}function hr(){return hr=r(function*(v){const j=new gt(v),{json:I}=j,re=j.getExtension(Ye);if(re){const Ze=function hi(v,j){const{programs:I=[],shaders:re=[],techniques:Ze=[]}=v,Dt=new TextDecoder;return re.forEach(Zt=>{if(!Number.isFinite(Zt.bufferView))throw new Error("KHR_techniques_webgl: no shader code");Zt.code=Dt.decode(j.getTypedArrayForBufferView(Zt.bufferView))}),I.forEach(Zt=>{Zt.fragmentShader=re[Zt.fragmentShader],Zt.vertexShader=re[Zt.vertexShader]}),Ze.forEach(Zt=>{Zt.program=I[Zt.program]}),Ze}(re,j);for(const Dt of I.materials||[]){const Zt=j.getObjectExtension(Dt,Ye);Zt&&(Dt.technique=Object.assign({},Zt,Ze[Zt.technique]),Dt.technique.values=Gr(Dt.technique,j)),j.removeObjectExtension(Dt,Ye)}j.removeExtension(Ye)}}),hr.apply(this,arguments)}function Li(v,j){return $i.apply(this,arguments)}function $i(){return($i=r(function*(v,j){})).apply(this,arguments)}function Gr(v,j){const I=Object.assign({},v.values);return Object.keys(v.uniforms||{}).forEach(re=>{v.uniforms[re].value&&!(re in I)&&(I[re]=v.uniforms[re].value)}),Object.keys(I).forEach(re=>{"object"==typeof I[re]&&void 0!==I[re].index&&(I[re].texture=j.getTexture(I[re].index))}),I}var et=[Te,z,Bo,Ir,Ji,es,ho,Kt,X,Ti,Bn],rn=[Te,z];function N(){return N=r(function*(v,j={},I){var re;const Ze=et.filter(Dt=>tt(Dt.name,j));for(const Dt of Ze)yield null==(re=Dt.decode)?void 0:re.call(Dt,v,j,I)}),N.apply(this,arguments)}function tt(v,j){var I;const re=(null==(I=j?.gltf)?void 0:I.excludeExtensions)||{};return!(v in re&&!re[v])}var xt="KHR_binary_glTF",ln={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Ln={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},$n=class{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(v,j){this.json=v.json;const I=v.json;switch(I.asset&&I.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${I.asset.version}`)}if(!j.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(I),this._convertTopLevelObjectsToArrays(I),function Wt(v){const j=new gt(v),{json:I}=j;for(const re of I.images||[]){const Ze=j.getObjectExtension(re,xt);Ze&&Object.assign(re,Ze),j.removeObjectExtension(re,xt)}I.buffers&&I.buffers[0]&&delete I.buffers[0].uri,j.removeExtension(xt)}(v),this._convertObjectIdsToArrayIndices(I),this._updateObjects(I),this._updateMaterial(I)}_addAsset(v){v.asset=v.asset||{},v.asset.version="2.0",v.asset.generator=v.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(v){for(const j in ln)this._convertTopLevelObjectToArray(v,j)}_convertTopLevelObjectToArray(v,j){const I=v[j];if(I&&!Array.isArray(I)){v[j]=[];for(const re in I){const Ze=I[re];Ze.id=Ze.id||re;const Dt=v[j].length;v[j].push(Ze),this.idToIndexMap[j][re]=Dt}}}_convertObjectIdsToArrayIndices(v){for(const j in ln)this._convertIdsToIndices(v,j);"scene"in v&&(v.scene=this._convertIdToIndex(v.scene,"scene"));for(const j of v.textures)this._convertTextureIds(j);for(const j of v.meshes)this._convertMeshIds(j);for(const j of v.nodes)this._convertNodeIds(j);for(const j of v.scenes)this._convertSceneIds(j)}_convertTextureIds(v){v.source&&(v.source=this._convertIdToIndex(v.source,"image"))}_convertMeshIds(v){for(const j of v.primitives){const{attributes:I,indices:re,material:Ze}=j;for(const Dt in I)I[Dt]=this._convertIdToIndex(I[Dt],"accessor");re&&(j.indices=this._convertIdToIndex(re,"accessor")),Ze&&(j.material=this._convertIdToIndex(Ze,"material"))}}_convertNodeIds(v){v.children&&(v.children=v.children.map(j=>this._convertIdToIndex(j,"node"))),v.meshes&&(v.meshes=v.meshes.map(j=>this._convertIdToIndex(j,"mesh")))}_convertSceneIds(v){v.nodes&&(v.nodes=v.nodes.map(j=>this._convertIdToIndex(j,"node")))}_convertIdsToIndices(v,j){v[j]||(console.warn(`gltf v1: json doesn't contain attribute ${j}`),v[j]=[]);for(const I of v[j])for(const re in I){const Dt=this._convertIdToIndex(I[re],re);I[re]=Dt}}_convertIdToIndex(v,j){const I=Ln[j];if(I in this.idToIndexMap){const re=this.idToIndexMap[I][v];if(!Number.isFinite(re))throw new Error(`gltf v1: failed to resolve ${j} with id ${v}`);return re}return v}_updateObjects(v){for(const j of this.json.buffers)delete j.type}_updateMaterial(v){var j,I,re;for(const Ze of v.materials){Ze.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const Dt=(null==(j=Ze.values)?void 0:j.tex)||(null==(I=Ze.values)?void 0:I.texture2d_0)||(null==(re=Ze.values)?void 0:re.diffuseTex),Zt=v.textures.findIndex(nr=>nr.id===Dt);-1!==Zt&&(Ze.pbrMetallicRoughness.baseColorTexture={index:Zt})}}};function Mr(){return Mr=r(function*(v,j,I=0,re,Ze){var Dt,Zt,nr;return function yr(v,j,I,re){if(re.uri&&(v.baseUri=re.uri),j instanceof ArrayBuffer&&!function ui(v,j=0,I={}){const re=new DataView(v),{magic:Ze=jt}=I,Dt=re.getUint32(j,!1);return Dt===Ze||Dt===jt}(j,I,re)&&(j=(new TextDecoder).decode(j)),"string"==typeof j)v.json=(0,xn.parseJSON)(j);else if(j instanceof ArrayBuffer){const Zt={};I=Ri(Zt,j,I,re.glb),T("glTF"===Zt.type,`Invalid GLB magic string ${Zt.type}`),v._glb=Zt,v.json=Zt.json}else T(!1,"GLTF: must be ArrayBuffer or string");if(v.buffers=new Array((v.json.buffers||[]).length).fill(null),v._glb&&v._glb.header.hasBinChunk){const{binChunks:Zt}=v._glb;v.buffers[0]={arrayBuffer:Zt[0].arrayBuffer,byteOffset:Zt[0].byteOffset,byteLength:Zt[0].byteLength}}v.images=new Array((v.json.images||[]).length).fill({})}(v,j,I,re),function pr(v,j={}){(new $n).normalize(v,j)}(v,{normalize:null==(Dt=re?.gltf)?void 0:Dt.normalize}),function It(v,j={},I){var re;const Ze=et.filter(Dt=>tt(Dt.name,j));for(const Dt of Ze)null==(re=Dt.preprocess)||re.call(Dt,v,j,I)}(v,re,Ze),null!=(Zt=re?.gltf)&&Zt.loadBuffers&&v.json.buffers&&(yield function Qr(v,j,I){return Fi.apply(this,arguments)}(v,re,Ze)),null!=(nr=re?.gltf)&&nr.loadImages&&(yield function qt(v,j,I){return Fn.apply(this,arguments)}(v,re,Ze)),yield function P(v){return N.apply(this,arguments)}(v,re,Ze),v}),Mr.apply(this,arguments)}function Fi(){return Fi=r(function*(v,j,I){var re,Ze;const Dt=v.json.buffers||[];for(let Zt=0;Zt<Dt.length;++Zt){const nr=Dt[Zt];if(nr.uri){const{fetch:Ur}=I;T(Ur);const Jr=bo(nr.uri,j),di=yield null==(re=I?.fetch)?void 0:re.call(I,Jr),Kr=yield null==(Ze=di?.arrayBuffer)?void 0:Ze.call(di);v.buffers[Zt]={arrayBuffer:Kr,byteOffset:0,byteLength:Kr.byteLength},delete nr.uri}else null===v.buffers[Zt]&&(v.buffers[Zt]={arrayBuffer:new ArrayBuffer(nr.byteLength),byteOffset:0,byteLength:nr.byteLength})}}),Fi.apply(this,arguments)}function Fn(){return Fn=r(function*(v,j,I){const re=function En(v){const j=new Set,I=v.json.textures||[];for(const re of I)void 0!==re.source&&j.add(re.source);return Array.from(j).sort()}(v),Ze=v.json.images||[],Dt=[];for(const Zt of re)Dt.push(qn(v,Ze[Zt],Zt,j,I));return yield Promise.all(Dt)}),Fn.apply(this,arguments)}function qn(v,j,I,re,Ze){return jr.apply(this,arguments)}function jr(){return jr=r(function*(v,j,I,re,Ze){let Dt;if(j.uri&&!j.hasOwnProperty("bufferView")){const nr=bo(j.uri,re),{fetch:Ur}=Ze;Dt=yield(yield Ur(nr)).arrayBuffer(),j.bufferView={data:Dt}}if(Number.isFinite(j.bufferView)){const nr=function Ne(v,j,I){const re=v.bufferViews[I];T(re);const Dt=j[re.buffer];return T(Dt),new Uint8Array(Dt.arrayBuffer,(re.byteOffset||0)+Dt.byteOffset,re.byteLength)}(v.json,v.buffers,j.bufferView);Dt=(0,xn.sliceArrayBuffer)(nr.buffer,nr.byteOffset,nr.byteLength)}T(Dt,"glTF image has no data");let Zt=yield(0,xn.parseFromContext)(Dt,[sr.ImageLoader,br.BasisLoader],{...re,mimeType:j.mimeType,basis:re.basis||{format:(0,br.selectSupportedBasisFormat)()}},Ze);Zt&&Zt[0]&&(Zt={compressed:!0,mipmaps:!1,width:Zt[0].width,height:Zt[0].height,data:Zt[0]}),v.images=v.images||[],v.images[I]=Zt}),jr.apply(this,arguments)}var bi={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:nn,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function Oi(v){return xi.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};function xi(){return xi=r(function*(v,j={},I){(j={...bi.options,...j}).gltf={...bi.options.gltf,...j.gltf};const{byteOffset:re=0}=j;return yield function dr(v,j){return Mr.apply(this,arguments)}({},v,re,j,I)}),xi.apply(this,arguments)}var Ei=w(28690),Ho=1179937895,ji=1313821514,No=5130562,mo=!0;function ts(v,j,I=0,re={}){const{magic:Ze=Ho,version:Dt=2,json:Zt={},binary:nr}=v,Ur=I;j&&(j.setUint32(I+0,Ze,mo),j.setUint32(I+4,Dt,mo),j.setUint32(I+8,0,mo));const Jr=I+8,di=I+=12;j&&(j.setUint32(I+0,0,mo),j.setUint32(I+4,ji,mo)),I+=8;const Kr=JSON.stringify(Zt);if(I=(0,Ei.copyPaddedStringToDataView)(j,I,Kr,4),j&&j.setUint32(di+0,I-di-8,mo),nr){const fi=I;j&&(j.setUint32(I+0,0,mo),j.setUint32(I+4,No,mo)),I=(0,Ei.copyPaddedArrayBufferToDataView)(j,I+=8,nr,4),j&&j.setUint32(fi+0,I-fi-8,mo)}return j&&j.setUint32(Jr,I-Ur,mo),I}function Ts(v,j,I,re){return function Qo(v){if(v.buffers&&v.buffers.length>1)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(v),ts(v,j,I,re)}var Go={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:nn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{gltf:{}},encode:function(){var v=r(function*(j,I={}){return Ea(j,I)});return function(I){return v.apply(this,arguments)}}(),encodeSync:Ea};function Ea(v,j={}){const{byteOffset:I=0}=j,re=function Pe(v,j={}){var I;for(const re of rn)v=(null==(I=re.encode)?void 0:I.call(re,v,j))??v;return v}(v),Ze=Ts(re,null,I,j),Dt=new ArrayBuffer(Ze);return Ts(re,new DataView(Dt),I,j),Dt}var Gs={dataType:null,batchType:null,name:"GLB",id:"glb",module:"gltf",version:nn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:function oa(v,j){return Sa.apply(this,arguments)},parseSync:Ja,options:{glb:{strict:!1}}};function Sa(){return Sa=r(function*(v,j){return Ja(v,j)}),Sa.apply(this,arguments)}function Ja(v,j){const{byteOffset:I=0}=j||{},re={};return Ri(re,v,I,j?.glb),re}var gc={name:"GLB",id:"glb",module:"gltf",version:nn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{glb:{}},encode:function(){var v=r(function*(j,I={}){return $a(j,I)});return function(I){return v.apply(this,arguments)}}(),encodeSync:$a};function $a(v,j){const{byteOffset:I=0}=j??{},re=ts(v,null,I,j),Ze=new ArrayBuffer(re);return ts(v,new DataView(Ze),I,j),Ze}var Pa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Wi={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},fo_TEXTURE_MAG_FILTER=10240,fo_TEXTURE_MIN_FILTER=10241,fo_TEXTURE_WRAP_S=10242,fo_TEXTURE_WRAP_T=10243,ko={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},ks={[fo_TEXTURE_MAG_FILTER]:9729,[fo_TEXTURE_MIN_FILTER]:9986,[fo_TEXTURE_WRAP_S]:10497,[fo_TEXTURE_WRAP_T]:10497},Bs=class{baseUri="";jsonUnprocessed;json;buffers=[];images=[];postProcess(v,j={}){const{json:I,buffers:re=[],images:Ze=[]}=v,{baseUri:Dt=""}=v;return T(I),this.baseUri=Dt,this.buffers=re,this.images=Ze,this.jsonUnprocessed=I,this.json=this._resolveTree(v.json,j),this.json}_resolveTree(v,j={}){const I={...v};return this.json=I,v.bufferViews&&(I.bufferViews=v.bufferViews.map((re,Ze)=>this._resolveBufferView(re,Ze))),v.images&&(I.images=v.images.map((re,Ze)=>this._resolveImage(re,Ze))),v.samplers&&(I.samplers=v.samplers.map((re,Ze)=>this._resolveSampler(re,Ze))),v.textures&&(I.textures=v.textures.map((re,Ze)=>this._resolveTexture(re,Ze))),v.accessors&&(I.accessors=v.accessors.map((re,Ze)=>this._resolveAccessor(re,Ze))),v.materials&&(I.materials=v.materials.map((re,Ze)=>this._resolveMaterial(re,Ze))),v.meshes&&(I.meshes=v.meshes.map((re,Ze)=>this._resolveMesh(re,Ze))),v.nodes&&(I.nodes=v.nodes.map((re,Ze)=>this._resolveNode(re,Ze)),I.nodes=I.nodes.map((re,Ze)=>this._resolveNodeChildren(re))),v.skins&&(I.skins=v.skins.map((re,Ze)=>this._resolveSkin(re,Ze))),v.scenes&&(I.scenes=v.scenes.map((re,Ze)=>this._resolveScene(re,Ze))),"number"==typeof this.json.scene&&I.scenes&&(I.scene=I.scenes[this.json.scene]),I}getScene(v){return this._get(this.json.scenes,v)}getNode(v){return this._get(this.json.nodes,v)}getSkin(v){return this._get(this.json.skins,v)}getMesh(v){return this._get(this.json.meshes,v)}getMaterial(v){return this._get(this.json.materials,v)}getAccessor(v){return this._get(this.json.accessors,v)}getCamera(v){return this._get(this.json.cameras,v)}getTexture(v){return this._get(this.json.textures,v)}getSampler(v){return this._get(this.json.samplers,v)}getImage(v){return this._get(this.json.images,v)}getBufferView(v){return this._get(this.json.bufferViews,v)}getBuffer(v){return this._get(this.json.buffers,v)}_get(v,j){if("object"==typeof j)return j;const I=v&&v[j];return I||console.warn(`glTF file error: Could not find ${v}[${j}]`),I}_resolveScene(v,j){return{...v,id:v.id||`scene-${j}`,nodes:(v.nodes||[]).map(I=>this.getNode(I))}}_resolveNode(v,j){const I={...v,id:v?.id||`node-${j}`};return void 0!==v.mesh&&(I.mesh=this.getMesh(v.mesh)),void 0!==v.camera&&(I.camera=this.getCamera(v.camera)),void 0!==v.skin&&(I.skin=this.getSkin(v.skin)),void 0!==v.meshes&&v.meshes.length&&(I.mesh=v.meshes.reduce((re,Ze)=>{const Dt=this.getMesh(Ze);return re.id=Dt.id,re.primitives=re.primitives.concat(Dt.primitives),re},{primitives:[]})),I}_resolveNodeChildren(v){return v.children&&(v.children=v.children.map(j=>this.getNode(j))),v}_resolveSkin(v,j){const I="number"==typeof v.inverseBindMatrices?this.getAccessor(v.inverseBindMatrices):void 0;return{...v,id:v.id||`skin-${j}`,inverseBindMatrices:I}}_resolveMesh(v,j){const I={...v,id:v.id||`mesh-${j}`,primitives:[]};return v.primitives&&(I.primitives=v.primitives.map(re=>{const Ze={...re,attributes:{},indices:void 0,material:void 0},Dt=re.attributes;for(const Zt in Dt)Ze.attributes[Zt]=this.getAccessor(Dt[Zt]);return void 0!==re.indices&&(Ze.indices=this.getAccessor(re.indices)),void 0!==re.material&&(Ze.material=this.getMaterial(re.material)),Ze})),I}_resolveMaterial(v,j){const I={...v,id:v.id||`material-${j}`};if(I.normalTexture&&(I.normalTexture={...I.normalTexture},I.normalTexture.texture=this.getTexture(I.normalTexture.index)),I.occlusionTexture&&(I.occlusionTexture={...I.occlusionTexture},I.occlusionTexture.texture=this.getTexture(I.occlusionTexture.index)),I.emissiveTexture&&(I.emissiveTexture={...I.emissiveTexture},I.emissiveTexture.texture=this.getTexture(I.emissiveTexture.index)),I.emissiveFactor||(I.emissiveFactor=I.emissiveTexture?[1,1,1]:[0,0,0]),I.pbrMetallicRoughness){I.pbrMetallicRoughness={...I.pbrMetallicRoughness};const re=I.pbrMetallicRoughness;re.baseColorTexture&&(re.baseColorTexture={...re.baseColorTexture},re.baseColorTexture.texture=this.getTexture(re.baseColorTexture.index)),re.metallicRoughnessTexture&&(re.metallicRoughnessTexture={...re.metallicRoughnessTexture},re.metallicRoughnessTexture.texture=this.getTexture(re.metallicRoughnessTexture.index))}return I}_resolveAccessor(v,j){const I=function sa(v){return Wi[v]}(v.componentType),re=function Ds(v){return Pa[v]}(v.type),Ze=I*re,Dt={...v,id:v.id||`accessor-${j}`,bytesPerComponent:I,components:re,bytesPerElement:Ze,value:void 0,bufferView:void 0,sparse:void 0};if(void 0!==v.bufferView&&(Dt.bufferView=this.getBufferView(v.bufferView)),Dt.bufferView){const Zt=Dt.bufferView.buffer,{ArrayType:nr,byteLength:Ur}=ge(Dt,Dt.bufferView),Jr=(Dt.bufferView.byteOffset||0)+(Dt.byteOffset||0)+Zt.byteOffset;let di=Zt.arrayBuffer.slice(Jr,Jr+Ur);Dt.bufferView.byteStride&&(di=this._getValueFromInterleavedBuffer(Zt,Jr,Dt.bufferView.byteStride,Dt.bytesPerElement,Dt.count)),Dt.value=new nr(di)}return Dt}_getValueFromInterleavedBuffer(v,j,I,re,Ze){const Dt=new Uint8Array(Ze*re);for(let Zt=0;Zt<Ze;Zt++){const nr=j+Zt*I;Dt.set(new Uint8Array(v.arrayBuffer.slice(nr,nr+re)),Zt*re)}return Dt.buffer}_resolveTexture(v,j){return{...v,id:v.id||`texture-${j}`,sampler:"number"==typeof v.sampler?this.getSampler(v.sampler):{id:"default-sampler",parameters:ks},source:"number"==typeof v.source?this.getImage(v.source):void 0}}_resolveSampler(v,j){const I={id:v.id||`sampler-${j}`,...v,parameters:{}};for(const re in I){const Ze=this._enumSamplerParameter(re);void 0!==Ze&&(I.parameters[Ze]=I[re])}return I}_enumSamplerParameter(v){return ko[v]}_resolveImage(v,j){const I={...v,id:v.id||`image-${j}`,image:null,bufferView:void 0!==v.bufferView?this.getBufferView(v.bufferView):void 0},re=this.images[j];return re&&(I.image=re),I}_resolveBufferView(v,j){const I=v.buffer,re=this.buffers[I].arrayBuffer;let Ze=this.buffers[I].byteOffset||0;return v.byteOffset&&(Ze+=v.byteOffset),{id:`bufferView-${j}`,...v,buffer:this.buffers[I],data:new Uint8Array(re,Ze,v.byteLength)}}_resolveCamera(v,j){return{...v,id:v.id||`camera-${j}`}}};function ms(v,j){return(new Bs).postProcess(v,j)}},14315:(bn,be,w)=>{"use strict";var me,r=w(31049).default,m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,k={};((me,ue)=>{for(var Ue in ue)m(me,Ue,{get:ue[Ue],enumerable:!0})})(k,{ImageLoader:()=>it,ImageWriter:()=>In,getBinaryImageMetadata:()=>G,getDefaultImageType:()=>Ie,getImageData:()=>$,getImageSize:()=>q,getImageType:()=>Me,getSupportedImageFormats:()=>wn,isImage:()=>ae,isImageFormatSupported:()=>Qt,isImageTypeSupported:()=>Q,loadImage:()=>Ct}),bn.exports=(me=k,((me,ue,Ue,bt)=>{if(ue&&"object"==typeof ue||"function"==typeof ue)for(let Ht of C(ue))!D.call(me,Ht)&&undefined!==Ht&&m(me,Ht,{get:()=>ue[Ht],enumerable:!(bt=g(ue,Ht))||bt.enumerable});return me})(m({},"__esModule",{value:!0}),me));var T,z="4.3.1",B=w(28690),A=w(28690),b=null==(T=globalThis.loaders)?void 0:T.parseImageNode,J=typeof Image<"u",ce=typeof ImageBitmap<"u",se=!!A.isBrowser||!!b;function Q(me){switch(me){case"auto":return ce||J||se;case"imagebitmap":return ce;case"image":return J;case"data":return se;default:throw new Error(`@loaders.gl/images: image ${me} not supported in this environment`)}}function Ie(){if(ce)return"imagebitmap";if(J)return"image";if(se)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function ae(me){return!!ge(me)}function Me(me){const ue=ge(me);if(!ue)throw new Error("Not an image");return ue}function q(me){return $(me)}function $(me){switch(Me(me)){case"data":return me;case"image":case"imagebitmap":const ue=document.createElement("canvas"),Ue=ue.getContext("2d");if(!Ue)throw new Error("getImageData");return ue.width=me.width,ue.height=me.height,Ue.drawImage(me,0,0),Ue.getImageData(0,0,me.width,me.height);default:throw new Error("getImageData")}}function ge(me){return typeof ImageBitmap<"u"&&me instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&me instanceof Image?"image":me&&"object"==typeof me&&me.data&&me.width&&me.height?"data":null}var K=/^data:image\/svg\+xml/,Ne=/\.svg((\?|#).*)?$/;function Ve(me){return me&&(K.test(me)||Ne.test(me))}function gt(me,ue){if(Ve(ue))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(me)])}function _t(me,ue,Ue){return zt.apply(this,arguments)}function zt(){return zt=r(function*(me,ue,Ue){const bt=function Ge(me,ue){if(Ve(ue)){let bt=(new TextDecoder).decode(me);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(bt=unescape(encodeURIComponent(bt)))}catch(fn){throw new Error(fn.message)}return`data:image/svg+xml;base64,${btoa(bt)}`}return gt(me,ue)}(me,Ue),Ht=self.URL||self.webkitURL,fn="string"!=typeof bt&&Ht.createObjectURL(bt);try{return yield function Rn(me,ue){return Oe.apply(this,arguments)}(fn||bt,ue)}finally{fn&&Ht.revokeObjectURL(fn)}}),zt.apply(this,arguments)}function Oe(){return Oe=r(function*(me,ue){const Ue=new Image;return Ue.src=me,ue.image&&ue.image.decode&&Ue.decode?(yield Ue.decode(),Ue):yield new Promise((bt,Ht)=>{try{Ue.onload=()=>bt(Ue),Ue.onerror=fn=>{const cr=fn instanceof Error?fn.message:"error";Ht(new Error(cr))}}catch(fn){Ht(fn)}})}),Oe.apply(this,arguments)}var De={},He=!0;function st(){return st=r(function*(me,ue,Ue){let bt;bt=Ve(Ue)?yield _t(me,ue,Ue):gt(me,Ue);const Ht=ue&&ue.imagebitmap;return yield function ft(me){return wt.apply(this,arguments)}(bt,Ht)}),st.apply(this,arguments)}function wt(){return wt=r(function*(me,ue=null){if((function kt(me){for(const ue in me||De)return!1;return!0}(ue)||!He)&&(ue=null),ue)try{return yield createImageBitmap(me,ue)}catch(Ue){console.warn(Ue),He=!1}return yield createImageBitmap(me)}),wt.apply(this,arguments)}var je=w(28690);var M=!1,Y=!0;function G(me){const ue=Te(me);return function Z(me){const ue=Te(me);return ue.byteLength>=24&&2303741511===ue.getUint32(0,M)?{mimeType:"image/png",width:ue.getUint32(16,M),height:ue.getUint32(20,M)}:null}(ue)||function x(me){const ue=Te(me);if(!(ue.byteLength>=3&&65496===ue.getUint16(0,M)&&255===ue.getUint8(2)))return null;const{tableMarkers:bt,sofMarkers:Ht}=function ye(){const me=new Set([65499,65476,65484,65501,65534]);for(let Ue=65504;Ue<65520;++Ue)me.add(Ue);return{tableMarkers:me,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let fn=2;for(;fn+9<ue.byteLength;){const cr=ue.getUint16(fn,M);if(Ht.has(cr))return{mimeType:"image/jpeg",height:ue.getUint16(fn+5,M),width:ue.getUint16(fn+7,M)};if(!bt.has(cr))return null;fn+=2,fn+=ue.getUint16(fn,M)}return null}(ue)||function f(me){const ue=Te(me);return ue.byteLength>=10&&1195984440===ue.getUint32(0,M)?{mimeType:"image/gif",width:ue.getUint16(6,Y),height:ue.getUint16(8,Y)}:null}(ue)||function V(me){const ue=Te(me);return ue.byteLength>=14&&16973===ue.getUint16(0,M)&&ue.getUint32(2,Y)===ue.byteLength?{mimeType:"image/bmp",width:ue.getUint32(18,Y),height:ue.getUint32(22,Y)}:null}(ue)||function _e(me){const Ue=function Ce(me){return function y(me,ue,Ue=0){const bt=function te(me){return[...me].map(ue=>ue.charCodeAt(0))}(ue);for(let Ht=0;Ht<bt.length;++Ht)if(bt[Ht]!==me[Ht+Ue])return!1;return!0}(me,"ftyp",4)&&96&me[8]?function ne(me){switch(function Re(me,ue,Ue){return String.fromCharCode(...me.slice(ue,Ue))}(me,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(me):null}(new Uint8Array(me instanceof DataView?me.buffer:me));return Ue?{mimeType:Ue.mimeType,width:0,height:0}:null}(ue)}function Te(me){if(me instanceof DataView)return me;if(ArrayBuffer.isView(me))return new DataView(me.buffer);if(me instanceof ArrayBuffer)return new DataView(me);throw new Error("toDataView")}function Ee(){return Ee=r(function*(me,ue){var Ue;const{mimeType:bt}=G(me)||{},Ht=null==(Ue=globalThis.loaders)?void 0:Ue.parseImageNode;return(0,je.assert)(Ht),yield Ht(me,bt)}),Ee.apply(this,arguments)}function at(){return at=r(function*(me,ue,Ue){const Ht=((ue=ue||{}).image||{}).type||"auto",{url:fn}=Ue||{},cr=function yt(me){switch(me){case"auto":case"data":return Ie();default:return Q(me),me}}(Ht);let Hr;switch(cr){case"imagebitmap":Hr=yield function We(me,ue,Ue){return st.apply(this,arguments)}(me,ue,fn);break;case"image":Hr=yield _t(me,ue,fn);break;case"data":Hr=yield function ke(me,ue){return Ee.apply(this,arguments)}(me,ue);break;default:(0,B.assert)(!1)}return"data"===Ht&&(Hr=$(Hr)),Hr}),at.apply(this,arguments)}var Mt,it={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:z,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function nt(me,ue,Ue){return at.apply(this,arguments)},tests:[me=>!!G(new DataView(me))],options:{image:{type:"auto",decode:!0}}},lt=null==(Mt=globalThis.loaders)?void 0:Mt.encodeImageNode;function ct(){return ct=r(function*(me,ue){return(ue=ue||{}).image=ue.image||{},lt?lt(me,{type:ue.image.mimeType}):function rt(me,ue){return Et.apply(this,arguments)}(me,ue)}),ct.apply(this,arguments)}var Tt=!0;function Et(){return Et=r(function*(me,ue){const{mimeType:Ue,jpegQuality:bt}=ue.image,{width:Ht,height:fn}=q(me),cr=document.createElement("canvas");cr.width=Ht,cr.height=fn,function vn(me,ue,Ue=0,bt=0){if(0===Ue&&0===bt&&typeof ImageBitmap<"u"&&me instanceof ImageBitmap){const fn=ue.getContext("bitmaprenderer");if(fn)return fn.transferFromImageBitmap(me),ue}const Ht=ue.getContext("2d");if(me.data){const fn=new Uint8ClampedArray(me.data),cr=new ImageData(fn,me.width,me.height);return Ht.putImageData(cr,0,0),ue}Ht.drawImage(me,0,0)}(me,cr);const Hr=yield new Promise(ti=>{if(bt&&Tt)try{return void cr.toBlob(ti,Ue,bt)}catch{Tt=!1}cr.toBlob(ti,Ue)});if(!Hr)throw new Error("image encoding failed");return yield Hr.arrayBuffer()}),Et.apply(this,arguments)}var In={name:"Images",id:"image",module:"images",version:z,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:function Bt(me,ue){return ct.apply(this,arguments)}},Un=w(28690),Jn=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/tiff","image/svg","image/svg+xml","image/bmp","image/vnd.microsoft.icon"],Cr=null;function wn(){return cn.apply(this,arguments)}function cn(){return cn=r(function*(){if(Cr)return yield Cr;const me=new Set;for(const ue of Jn)(Un.isBrowser?yield Pn(ue):jn(ue))&&me.add(ue);return me}),cn.apply(this,arguments)}var Yt={};function Qt(me){if(void 0===Yt[me]){const ue=Un.isBrowser?function Lt(me){switch(me){case"image/avif":case"image/webp":return function Tn(me){try{return 0===document.createElement("canvas").toDataURL(me).indexOf(`data:${me}`)}catch{return!1}}(me);default:return!0}}(me):jn(me);Yt[me]=ue}return Yt[me]}function jn(me){var ue,Ue;const Ht=(null==(ue=globalThis.loaders)?void 0:ue.imageFormatsNode)||["image/png","image/jpeg","image/gif"];return!!(null==(Ue=globalThis.loaders)?void 0:Ue.parseImageNode)&&Ht.includes(me)}var Dn={"image/avif":"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=","image/webp":"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"};function Pn(me){return Sn.apply(this,arguments)}function Sn(){return Sn=r(function*(me){const ue=Dn[me];return!ue||(yield function dn(me){return Bn.apply(this,arguments)}(ue))}),Sn.apply(this,arguments)}function Bn(){return Bn=r(function*(me){return new Promise(ue=>{const Ue=new Image;Ue.src=me,Ue.onload=()=>ue(Ue.height>0),Ue.onerror=()=>ue(!1)})}),Bn.apply(this,arguments)}function Ct(){throw new Error("loadImage has moved to @loaders.gl/textures")}},28690:(bn,be,w)=>{"use strict";var Se,r=w(31049).default,m=w(47604).default,g=w(88322).default,C=w(57909).default,D=Object.defineProperty,h=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,z=(Se,vt)=>{for(var Xt in vt)D(Se,Xt,{get:vt[Xt],enumerable:!0})},T=(Se,vt,Xt)=>(((Se,vt,Xt)=>{vt in Se?D(Se,vt,{enumerable:!0,configurable:!0,writable:!0,value:Xt}):Se[vt]=Xt})(Se,"symbol"!=typeof vt?vt+"":vt,Xt),Xt),b={};function J(Se,vt,Xt,Cn){return ce.apply(this,arguments)}function ce(){return ce=r(function*(Se,vt,Xt,Cn){return Cn._parse(Se,vt,Xt,Cn)}),ce.apply(this,arguments)}function W(Se,vt,Xt,Cn){if(!Cn._parseSync)throw new Error("parseSync");return Cn._parseSync(Se,vt,Xt,Cn)}function se(Se,vt,Xt,Cn){return Q.apply(this,arguments)}function Q(){return Q=r(function*(Se,vt,Xt,Cn){if(!Cn._parseInBatches)throw new Error("parseInBatches");return Cn._parseInBatches(Se,vt,Xt,Cn)}),Q.apply(this,arguments)}function Ie(Se,vt){if(!Se)throw new Error(vt||"loader assertion failed.")}z(b,{BlobFile:()=>On,DataSource:()=>qi,DataViewFile:()=>Yi,FileHandleFile:()=>Ki,FileProvider:()=>eo,HttpFile:()=>lr,ImageSource:()=>Bo,JSONLoader:()=>Hr,NodeFile:()=>ni,NodeFilesystem:()=>ui,RequestScheduler:()=>Ct,VectorSource:()=>Gt,_addAliases:()=>Ht,assert:()=>Ie,canEncodeWithWorker:()=>x,canParseWithWorker:()=>Y,checkJSModule:()=>st,compareArrayBuffers:()=>Ee,concatenateArrayBuffers:()=>nt,concatenateArrayBuffersAsync:()=>Qt,concatenateArrayBuffersFromArray:()=>at,concatenateTypedArrays:()=>yt,copyArrayBuffer:()=>Ft,copyBinaryToDataView:()=>Bt,copyPaddedArrayBufferToDataView:()=>ct,copyPaddedStringToDataView:()=>Tt,copyStringToDataView:()=>lt,copyToArray:()=>it,createLoaderWorker:()=>Ce,document:()=>ge,forEach:()=>cn,getFirstCharacters:()=>ye,getJSModule:()=>ft,getJSModuleOrNull:()=>wt,getMagicString:()=>Te,getPathPrefix:()=>bt,global:()=>$,isBrowser:()=>K,isBuffer:()=>Io,isFileProvider:()=>Ri,isWorker:()=>Ne,log:()=>Oe,makeLineIterator:()=>Un,makeNumberedLineIterator:()=>Cr,makeTextDecoderIterator:()=>rt,makeTextEncoderIterator:()=>vn,mergeLoaderOptions:()=>De,nodeVersion:()=>Ge,padStringToByteAlignment:()=>Mt,padToNBytes:()=>Qe,parseFromContext:()=>J,parseInBatchesFromContext:()=>se,parseJSON:()=>ke,parseSyncFromContext:()=>W,parseWithWorker:()=>G,path:()=>Po,promisify1:()=>So,promisify2:()=>xo,registerJSModules:()=>We,resolvePath:()=>fn,self:()=>Me,setPathPrefix:()=>Ue,sliceArrayBuffer:()=>Jt,stream:()=>ht,toArrayBuffer:()=>wo,toBuffer:()=>Co,window:()=>q}),bn.exports=(Se=b,((Se,vt,Xt,Cn)=>{if(vt&&"object"==typeof vt||"function"==typeof vt)for(let tr of U(vt))!F.call(Se,tr)&&undefined!==tr&&D(Se,tr,{get:()=>vt[tr],enumerable:!(Cn=h(vt,tr))||Cn.enumerable});return Se})(D({},"__esModule",{value:!0}),Se));var ae={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},Me=ae.self||ae.window||ae.global||{},q=ae.window||ae.self||ae.global||{},$=ae.global||ae.self||ae.window||{},ge=ae.document||{},K=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),Ne="function"==typeof importScripts,Ve=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),Ge=Ve&&parseFloat(Ve[1])||0,gt=w(69243),_t="4.3.1",zt=_t[0]>="0"&&_t[0]<="9"?`v${_t}`:"",Oe=function Rn(){const Se=new gt.Log({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=Se,globalThis.loaders.version=zt,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=Se,Se}();function De(Se,vt){return He(Se||{},vt)}function He(Se,vt,Xt=0){if(Xt>3)return vt;const Cn={...Se};for(const[tr,kr]of Object.entries(vt))Cn[tr]=kr&&"object"==typeof kr&&!Array.isArray(kr)?He(Cn[tr]||{},vt[tr],Xt+1):vt[tr];return Cn}function We(Se){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,Se)}function st(Se,vt){var Xt,Cn;(null==(Cn=null==(Xt=globalThis.loaders)?void 0:Xt.modules)?void 0:Cn[Se])||Oe.warn(`${vt}: ${Se} library not installed`)()}function ft(Se,vt){var Xt,Cn;const tr=null==(Cn=null==(Xt=globalThis.loaders)?void 0:Xt.modules)?void 0:Cn[Se];if(!tr)throw new Error(`${vt}: ${Se} library not installed`);return tr}function wt(Se){var vt,Xt;return(null==(Xt=null==(vt=globalThis.loaders)?void 0:vt.modules)?void 0:Xt[Se])||null}var kt=w(13827),je=0;function Ce(Se){return ne.apply(this,arguments)}function ne(){return ne=r(function*(Se){(yield kt.WorkerBody.inWorkerThread())&&(kt.WorkerBody.onmessage=function(){var vt=r(function*(Xt,Cn){if("process"===Xt)try{const{input:tr,options:kr={},context:Ii={}}=Cn,$r=yield function te(Se){return y.apply(this,arguments)}({loader:Se,arrayBuffer:tr,options:kr,context:{...Ii,_parse:Re}});kt.WorkerBody.postMessage("done",{result:$r})}catch(tr){const kr=tr instanceof Error?tr.message:"";kt.WorkerBody.postMessage("error",{error:kr})}});return function(Xt,Cn){return vt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Re(Se,vt,Xt,Cn){return new Promise((tr,kr)=>{const Ii=je++,$r=(Mo,Wo)=>{if(Wo.id===Ii)switch(Mo){case"done":kt.WorkerBody.removeEventListener($r),tr(Wo.result);break;case"error":kt.WorkerBody.removeEventListener($r),kr(Wo.error)}};kt.WorkerBody.addEventListener($r),kt.WorkerBody.postMessage("process",{id:Ii,input:Se,options:Xt})})}function y(){return y=r(function*({loader:Se,arrayBuffer:vt,options:Xt,context:Cn}){let tr,kr;if(Se.parseSync||Se.parse)tr=vt,kr=Se.parseSync||Se.parse;else{if(!Se.parseTextSync)throw new Error(`Could not load data with ${Se.name} loader`);tr=(new TextDecoder).decode(vt),kr=Se.parseTextSync}return Xt={...Xt,modules:Se&&Se.options&&Se.options.modules||{},worker:!1},yield kr(tr,{...Xt},Cn,Se)}),y.apply(this,arguments)}var M=w(13827);function Y(Se,vt){return!(!M.WorkerFarm.isSupported()||!M.isBrowser&&!vt?._nodeWorkers)&&Se.worker&&vt?.worker}function G(Se,vt,Xt,Cn,tr){return _e.apply(this,arguments)}function _e(){return _e=r(function*(Se,vt,Xt,Cn,tr){const kr=Se.id,Ii=(0,M.getWorkerURL)(Se,Xt),Hi=M.WorkerFarm.getWorkerFarm(Xt).getWorkerPool({name:kr,url:Ii});Xt=JSON.parse(JSON.stringify(Xt)),Cn=JSON.parse(JSON.stringify(Cn||{}));const Mo=yield Hi.startJob("process-on-worker",Z.bind(null,tr));return Mo.postMessage("process",{input:vt,options:Xt,context:Cn}),yield(yield Mo.result).result}),_e.apply(this,arguments)}function Z(Se,vt,Xt,Cn){return f.apply(this,arguments)}function f(){return f=r(function*(Se,vt,Xt,Cn){switch(Xt){case"done":vt.done(Cn);break;case"error":vt.error(new Error(Cn.error));break;case"process":const{id:tr,input:kr,options:Ii}=Cn;try{const $r=yield Se(kr,Ii);vt.postMessage("done",{id:tr,result:$r})}catch($r){const Hi=$r instanceof Error?$r.message:"unknown error";vt.postMessage("error",{id:tr,error:Hi})}break;default:console.warn(`parse-with-worker unknown message ${Xt}`)}}),f.apply(this,arguments)}var V=w(13827);function x(Se,vt){return!(!V.WorkerFarm.isSupported()||!K&&!vt?._nodeWorkers)&&Se.worker&&vt?.worker}function ye(Se,vt=5){return"string"==typeof Se?Se.slice(0,vt):ArrayBuffer.isView(Se)?Te(Se.buffer,Se.byteOffset,vt):Se instanceof ArrayBuffer?Te(Se,0,vt):""}function Te(Se,vt,Xt){if(Se.byteLength<=vt+Xt)return"";const Cn=new DataView(Se);let tr="";for(let kr=0;kr<Xt;kr++)tr+=String.fromCharCode(Cn.getUint8(vt+kr));return tr}function ke(Se){try{return JSON.parse(Se)}catch{throw new Error(`Failed to parse JSON from data starting with "${ye(Se)}"`)}}function Ee(Se,vt,Xt){if(Se.byteLength<(Xt=Xt||Se.byteLength)||vt.byteLength<Xt)return!1;const Cn=new Uint8Array(Se),tr=new Uint8Array(vt);for(let kr=0;kr<Cn.length;++kr)if(Cn[kr]!==tr[kr])return!1;return!0}function nt(...Se){return at(Se)}function at(Se){const vt=Se.map(kr=>kr instanceof ArrayBuffer?new Uint8Array(kr):kr),Xt=vt.reduce((kr,Ii)=>kr+Ii.byteLength,0),Cn=new Uint8Array(Xt);let tr=0;for(const kr of vt)Cn.set(kr,tr),tr+=kr.byteLength;return Cn.buffer}function yt(...Se){const vt=Se,Xt=vt&&vt.length>1&&vt[0].constructor||null;if(!Xt)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');const tr=new Xt(vt.reduce((Ii,$r)=>Ii+$r.length,0));let kr=0;for(const Ii of vt)tr.set(Ii,kr),kr+=Ii.length;return tr}function Jt(Se,vt,Xt){const Cn=void 0!==Xt?new Uint8Array(Se).subarray(vt,vt+Xt):new Uint8Array(Se).subarray(vt);return new Uint8Array(Cn).buffer}function Qe(Se,vt){return Ie(Se>=0),Ie(vt>0),Se+(vt-1)&~(vt-1)}function Ft(Se,vt,Xt,Cn=vt.byteLength){const tr=new Uint8Array(Se,Xt,Cn),kr=new Uint8Array(vt);return tr.set(kr),Se}function it(Se,vt,Xt){let Cn;return Cn=Se instanceof ArrayBuffer?new Uint8Array(Se):new Uint8Array(Se.buffer||Se.arrayBuffer,Se.byteOffset,Se.byteLength),vt.set(Cn,Xt),Xt+Qe(Cn.byteLength,4)}function Mt(Se,vt){const Xt=Se.length,tr=Math.ceil(Xt/vt)*vt-Xt;let kr="";for(let Ii=0;Ii<tr;++Ii)kr+=" ";return Se+kr}function lt(Se,vt,Xt,Cn){if(Se)for(let tr=0;tr<Cn;tr++)Se.setUint8(vt+tr,Xt.charCodeAt(tr));return vt+Cn}function Bt(Se,vt,Xt,Cn){if(Se)for(let tr=0;tr<Cn;tr++)Se.setUint8(vt+tr,Xt[tr]);return vt+Cn}function ct(Se,vt,Xt,Cn){const tr=Qe(Xt.byteLength,Cn),kr=tr-Xt.byteLength;if(Se){const Ii=new Uint8Array(Se.buffer,Se.byteOffset+vt,Xt.byteLength),$r=new Uint8Array(Xt);Ii.set($r);for(let Hi=0;Hi<kr;++Hi)Se.setUint8(vt+Xt.byteLength+Hi,32)}return vt+tr}function Tt(Se,vt,Xt,Cn){return ct(Se,vt,(new TextEncoder).encode(Xt),Cn)}function rt(Se){return Et.apply(this,arguments)}function Et(){return Et=g(function*(Se,vt={}){const Xt=new TextDecoder(void 0,vt);var kr,Cn=!1,tr=!1;try{for(var $r,Ii=C(Se);Cn=!($r=yield m(Ii.next())).done;Cn=!1){const Hi=$r.value;yield"string"==typeof Hi?Hi:Xt.decode(Hi,{stream:!0})}}catch(Hi){tr=!0,kr=Hi}finally{try{Cn&&null!=Ii.return&&(yield m(Ii.return()))}finally{if(tr)throw kr}}}),Et.apply(this,arguments)}function vn(Se){return In.apply(this,arguments)}function In(){return In=g(function*(Se){const vt=new TextEncoder;var tr,Xt=!1,Cn=!1;try{for(var Ii,kr=C(Se);Xt=!(Ii=yield m(kr.next())).done;Xt=!1){const $r=Ii.value;yield"string"==typeof $r?vt.encode($r):$r}}catch($r){Cn=!0,tr=$r}finally{try{Xt&&null!=kr.return&&(yield m(kr.return()))}finally{if(Cn)throw tr}}}),In.apply(this,arguments)}function Un(Se){return Jn.apply(this,arguments)}function Jn(){return Jn=g(function*(Se){let vt="";var tr,Xt=!1,Cn=!1;try{for(var Ii,kr=C(Se);Xt=!(Ii=yield m(kr.next())).done;Xt=!1){let Hi;for(vt+=Ii.value;(Hi=vt.indexOf("\n"))>=0;){const Mo=vt.slice(0,Hi+1);vt=vt.slice(Hi+1),yield Mo}}}catch($r){Cn=!0,tr=$r}finally{try{Xt&&null!=kr.return&&(yield m(kr.return()))}finally{if(Cn)throw tr}}vt.length>0&&(yield vt)}),Jn.apply(this,arguments)}function Cr(Se){return wn.apply(this,arguments)}function wn(){return wn=g(function*(Se){let vt=1;var tr,Xt=!1,Cn=!1;try{for(var Ii,kr=C(Se);Xt=!(Ii=yield m(kr.next())).done;Xt=!1){const $r=Ii.value;yield{counter:vt,line:$r},vt++}}catch($r){Cn=!0,tr=$r}finally{try{Xt&&null!=kr.return&&(yield m(kr.return()))}finally{if(Cn)throw tr}}}),wn.apply(this,arguments)}function cn(Se,vt){return Yt.apply(this,arguments)}function Yt(){return Yt=r(function*(Se,vt){for(;;){const{done:Xt,value:Cn}=yield Se.next();if(Xt)return void Se.return();if(vt(Cn))return}}),Yt.apply(this,arguments)}function Qt(Se){return jn.apply(this,arguments)}function jn(){return jn=r(function*(Se){const vt=[];var tr,Xt=!1,Cn=!1;try{for(var Ii,kr=C(Se);Xt=!(Ii=yield kr.next()).done;Xt=!1)vt.push(Ii.value)}catch($r){Cn=!0,tr=$r}finally{try{Xt&&null!=kr.return&&(yield kr.return())}finally{if(Cn)throw tr}}return nt(...vt)}),jn.apply(this,arguments)}var Lt=w(750),Bn={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0},Ct=class{props;stats;activeRequestCount=0;requestQueue=[];requestMap=new Map;updateTimer=null;constructor(Se={}){this.props={...Bn,...Se},this.stats=new Lt.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(Se,vt=()=>0){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(Se))return this.requestMap.get(Se);const Xt={handle:Se,priority:0,getPriority:vt},Cn=new Promise(tr=>(Xt.resolve=tr,Xt));return this.requestQueue.push(Xt),this.requestMap.set(Se,Cn),this._issueNewRequests(),Cn}_issueRequest(Se){const{handle:vt,resolve:Xt}=Se;let Cn=!1;const tr=()=>{Cn||(Cn=!0,this.requestMap.delete(vt),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,Xt?Xt({done:tr}):Promise.resolve({done:tr})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const Se=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==Se){this._updateAllRequests();for(let vt=0;vt<Se;++vt){const Xt=this.requestQueue.shift();Xt&&this._issueRequest(Xt)}}}_updateAllRequests(){const Se=this.requestQueue;for(let vt=0;vt<Se.length;++vt){const Xt=Se[vt];this._updateRequest(Xt)||(Se.splice(vt,1),this.requestMap.delete(Xt.handle),vt--)}Se.sort((vt,Xt)=>vt.priority-Xt.priority)}_updateRequest(Se){return Se.priority=Se.getPriority(Se.handle),!(Se.priority<0&&(Se.resolve(null),1))}},me="",ue={};function Ue(Se){me=Se}function bt(){return me}function Ht(Se){Object.assign(ue,Se)}function fn(Se){for(const vt in ue)Se.startsWith(vt)&&(Se=Se.replace(vt,ue[vt]));return!Se.startsWith("http://")&&!Se.startsWith("https://")&&(Se=`${me}${Se}`),Se}var Hr={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:"4.3.1",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:ti,parse:function(){var Se=r(function*(vt){return ti((new TextDecoder).decode(vt))});return function(Xt){return Se.apply(this,arguments)}}(),options:{}};function ti(Se){return JSON.parse(Se)}function li(Se){throw new Error("Buffer not supported in browser")}function Io(Se){return Se&&"object"==typeof Se&&Se.isBuffer}function Co(Se){return li?li():Se}function wo(Se){if(Io(Se))return Se;if(Se instanceof ArrayBuffer)return Se;if(ArrayBuffer.isView(Se))return 0===Se.byteOffset&&Se.byteLength===Se.buffer.byteLength?Se.buffer:Se.buffer.slice(Se.byteOffset,Se.byteOffset+Se.byteLength);if("string"==typeof Se){const vt=Se;return(new TextEncoder).encode(vt).buffer}if(Se&&"object"==typeof Se&&Se._toArrayBuffer)return Se._toArrayBuffer();throw new Error("toArrayBuffer")}function So(Se){return vt=>new Promise((Xt,Cn)=>Se(vt,(tr,kr)=>tr?Cn(tr):Xt(kr)))}function xo(Se){return(vt,Xt)=>new Promise((Cn,tr)=>Se(vt,Xt,(kr,Ii)=>kr?tr(kr):Cn(Ii)))}var Po={};function nn(){var Se;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const vt=null==(Se=window.location)?void 0:Se.pathname;return vt?.slice(0,vt.lastIndexOf("/")+1)||""}function xn(Se){const vt=Se?Se.lastIndexOf("/"):-1;return vt>=0?Se.substr(vt+1):""}function sr(Se){const vt=Se?Se.lastIndexOf("/"):-1;return vt>=0?Se.substr(0,vt):""}function br(...Se){return(Se=Se.map((Xt,Cn)=>(Cn&&(Xt=Xt.replace(new RegExp("^/"),"")),Cn!==Se.length-1&&(Xt=Xt.replace(new RegExp("/$"),"")),Xt))).join("/")}function Vr(...Se){const vt=[];for(let kr=0;kr<Se.length;kr++)vt[kr]=Se[kr];let tr,Xt="",Cn=!1;for(let kr=vt.length-1;kr>=-1&&!Cn;kr--){let Ii;kr>=0?Ii=vt[kr]:(void 0===tr&&(tr=nn()),Ii=tr),0!==Ii.length&&(Xt=`${Ii}/${Xt}`,Cn=Ii.charCodeAt(0)===_r)}return Xt=function pe(Se,vt){let kr,Xt="",Cn=-1,tr=0,Ii=!1;for(let $r=0;$r<=Se.length;++$r){if($r<Se.length)kr=Se.charCodeAt($r);else{if(kr===_r)break;kr=_r}if(kr===_r){if(Cn!==$r-1&&1!==tr)if(Cn!==$r-1&&2===tr){if(Xt.length<2||!Ii||Xt.charCodeAt(Xt.length-1)!==jt||Xt.charCodeAt(Xt.length-2)!==jt)if(Xt.length>2){const Hi=Xt.length-1;let Mo=Hi;for(;Mo>=0&&Xt.charCodeAt(Mo)!==_r;--Mo);if(Mo!==Hi){Xt=-1===Mo?"":Xt.slice(0,Mo),Cn=$r,tr=0,Ii=!1;continue}}else if(2===Xt.length||1===Xt.length){Xt="",Cn=$r,tr=0,Ii=!1;continue}vt&&(Xt.length>0?Xt+="/..":Xt="..",Ii=!0)}else{const Hi=Se.slice(Cn+1,$r);Xt.length>0?Xt+=`/${Hi}`:Xt=Hi,Ii=!1}Cn=$r,tr=0}else kr===jt&&-1!==tr?++tr:tr=-1}return Xt}(Xt,!Cn),Cn?`/${Xt}`:Xt.length>0?Xt:"."}z(Po,{dirname:()=>sr,filename:()=>xn,join:()=>br,resolve:()=>Vr});var _r=47,jt=46,ht={};z(ht,{isSupported:()=>pn});var pn=!1,On=class{handle;size;bigsize;url;constructor(Se){this.handle=Se instanceof ArrayBuffer?new Blob([Se]):Se,this.size=Se instanceof ArrayBuffer?Se.byteLength:Se.size,this.bigsize=BigInt(this.size),this.url=Se instanceof File?Se.name:""}close(){return r(function*(){})()}stat(){var Se=this;return r(function*(){return{size:Se.handle.size,bigsize:BigInt(Se.handle.size),isDirectory:!1}})()}read(Se,vt){var Xt=this;return r(function*(){return yield Xt.handle.slice(Se,Se+vt).arrayBuffer()})()}},lr=class{handle;size=0;bigsize=0n;url;constructor(Se){this.handle=Se,this.url=Se}close(){return r(function*(){})()}stat(){var Se=this;return r(function*(){const vt=yield fetch(Se.handle,{method:"HEAD"});if(!vt.ok)throw new Error(`Failed to fetch HEAD ${Se.handle}`);const Xt=parseInt(vt.headers.get("Content-Length")||"0");return{size:Xt,bigsize:BigInt(Xt),isDirectory:!1}})()}read(Se,vt){var Xt=this;return r(function*(){return yield(yield Xt.fetchRange(Se,vt)).arrayBuffer()})()}fetchRange(Se,vt,Xt){var Cn=this;return r(function*(){const tr=Number(Se),kr=Number(vt);let Ii;Xt||(Ii=new AbortController,Xt=Ii.signal);const $r=Cn.handle;let Hi=yield fetch($r,{signal:Xt,headers:{Range:`bytes=${tr}-${tr+kr-1}`}});switch(Hi.status){case 206:break;case 200:const Mo=Hi.headers.get("Content-Length");if(!Mo||Number(Mo)>vt)throw Ii&&Ii.abort(),Error("content-length header missing or exceeding request. Server must support HTTP Byte Serving.");case 416:if(0===Se){const Wo=Hi.headers.get("Content-Range");if(!Wo||!Wo.startsWith("bytes *"))throw Error("Missing content-length on 416 response");const xs=Number(Wo.substr(8));Hi=yield fetch(Cn.url,{signal:Xt,headers:{Range:"bytes=0-"+(xs-1)}})}break;default:if(Hi.status>=300)throw Error(`Bad response code: ${Hi.status}`)}return Hi})()}},Dr=new Error("Not implemented"),ni=class{handle;size=0;bigsize=0n;url="";constructor(Se,vt,Xt){var Cn;if(null!=(Cn=globalThis.loaders)&&Cn.NodeFile)return new globalThis.loaders.NodeFile(Se,vt,Xt);throw K?new Error("Can't instantiate NodeFile in browser."):new Error("Can't instantiate NodeFile. Make sure to import @loaders.gl/polyfills first.")}read(Se,vt){return r(function*(){throw Dr})()}write(Se,vt,Xt){return r(function*(){throw Dr})()}stat(){return r(function*(){throw Dr})()}truncate(Se){return r(function*(){throw Dr})()}append(Se){return r(function*(){throw Dr})()}close(){return r(function*(){})()}},Yr=new Error("Not implemented"),ui=class{constructor(Se){var vt;if(null!=(vt=globalThis.loaders)&&vt.NodeFileSystem)return new globalThis.loaders.NodeFileSystem(Se);throw K?new Error("Can't instantiate NodeFileSystem in browser."):new Error("Can't instantiate NodeFileSystem. Make sure to import @loaders.gl/polyfills first.")}readable=!0;writable=!0;openReadableFile(Se,vt){return r(function*(){throw Yr})()}openWritableFile(Se,vt,Xt){return r(function*(){throw Yr})()}readdir(Se=".",vt){return r(function*(){throw Yr})()}stat(Se,vt){return r(function*(){throw Yr})()}unlink(Se){return r(function*(){throw Yr})()}fetch(Se,vt){return r(function*(){throw Yr})()}},Ri=Se=>Se?.getUint8&&Se?.slice&&Se?.length,eo=class{file;size;constructor(Se,vt){this.file=Se,this.size=BigInt(vt)}static create(Se){return r(function*(){var vt;let Xt=0n;if(Se.bigsize>0n)Xt=Se.bigsize;else if(Se.size>0)Xt=Se.size;else{const Cn=yield null==(vt=Se.stat)?void 0:vt.call(Se);Xt=Cn?.bigsize??0n}return new eo(Se,Xt)})()}truncate(Se){return r(function*(){throw new Error("file loaded via range requests cannot be changed")})()}append(Se){return r(function*(){throw new Error("file loaded via range requests cannot be changed")})()}destroy(){return r(function*(){throw new Error("file loaded via range requests cannot be changed")})()}getUint8(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,1),Cn=new Uint8Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}getUint16(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,2),Cn=new Uint16Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}getUint32(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,4),Cn=new Uint32Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}getBigUint64(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,8),Cn=new BigInt64Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}slice(Se,vt){var Xt=this;return r(function*(){const Cn=BigInt(vt)-BigInt(Se);if(Cn>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const tr=Number(Cn);return yield Xt.file.read(Se,tr)})()}get length(){return this.size}},Ki=class{file;constructor(Se,vt=!1){this.file=new ni(Se,vt?"a+":"r")}truncate(Se){var vt=this;return r(function*(){yield vt.file.truncate(Se)})()}append(Se){var vt=this;return r(function*(){yield vt.file.append(Se)})()}destroy(){var Se=this;return r(function*(){yield Se.file.close()})()}getUint8(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,1),Cn=new Uint8Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}getUint16(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,2),Cn=new Uint16Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}getUint32(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,4),Cn=new Uint32Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}getBigUint64(Se){var vt=this;return r(function*(){const Xt=yield vt.file.read(Se,8),Cn=new BigInt64Array(Xt).at(0);if(void 0===Cn)throw new Error("something went wrong");return Cn})()}slice(Se,vt){var Xt=this;return r(function*(){const Cn=vt-Se;if(Cn>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const tr=Number(Cn);return yield Xt.file.read(Se,tr)})()}get length(){return this.file.bigsize}},Qi=Se=>{if(Se>Number.MAX_SAFE_INTEGER)throw new Error("Offset is out of bounds");return Number(Se)},Yi=class{file;constructor(Se){this.file=Se}destroy(){return r(function*(){})()}getUint8(Se){var vt=this;return r(function*(){return vt.file.getUint8(Qi(Se))})()}getUint16(Se){var vt=this;return r(function*(){return vt.file.getUint16(Qi(Se),!0)})()}getUint32(Se){var vt=this;return r(function*(){return vt.file.getUint32(Qi(Se),!0)})()}getBigUint64(Se){var vt=this;return r(function*(){return vt.file.getBigUint64(Qi(Se),!0)})()}slice(Se,vt){var Xt=this;return r(function*(){return Xt.file.buffer.slice(Qi(Se),Qi(vt))})()}get length(){return BigInt(this.file.byteLength)}},qi=class{fetch;loadOptions;_needsRefresh=!0;props;constructor(Se){this.props={...Se},this.loadOptions={...Se.loadOptions},this.fetch=function bo(Se){const vt=Se?.fetch;if(vt&&"function"==typeof vt)return(Cn,tr)=>vt(Cn,tr);const Xt=Se?.fetch;return Xt&&"function"!=typeof Xt?Cn=>fetch(Cn,Xt):Cn=>fetch(Cn)}(this.loadOptions)}setProps(Se){this.props=Object.assign(this.props,Se),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(Se=!0){const vt=this._needsRefresh;return Se&&(this._needsRefresh=!1),vt}},Bo=class extends qi{};T(Bo,"type","template"),T(Bo,"testURL",Se=>!1);var Gt=class extends qi{};T(Gt,"type","template"),T(Gt,"testURL",Se=>!1)},47526:(bn,be,w)=>{"use strict";var pe,r=w(31049).default,m=w(57909).default,g=Object.defineProperty,C=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,A={};function T(pe,ht="float32"){return pe instanceof Date?"date-millisecond":pe instanceof Number?ht:"string"==typeof pe?"utf8":"null"}function b(pe){let ht=J(pe);return"null"!==ht?{type:ht,nullable:!1}:pe.length>0?(ht=T(pe[0]),{type:ht,nullable:!0}):{type:"null",nullable:!0}}function J(pe){switch(pe.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function ce(pe,ht){if(!ht)switch(pe){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array}return Array}((pe,ht)=>{for(var pn in ht)g(pe,pn,{get:ht[pn],enumerable:!0})})(A,{ArrowLikeDataType:()=>Et,ArrowLikeField:()=>ne,ArrowLikeSchema:()=>Re,ArrowLikeTable:()=>V,AsyncQueue:()=>jt,Binary:()=>Bn,Bool:()=>In,ColumnarTableBatchAggregator:()=>K,Date:()=>ue,DateDay:()=>Ue,DateMillisecond:()=>bt,FixedSizeList:()=>nn,Float:()=>Pn,Float16:()=>Sn,Float32:()=>Tn,Float64:()=>dn,Int:()=>Un,Int16:()=>Cr,Int32:()=>wn,Int64:()=>cn,Int8:()=>Jn,Interval:()=>So,IntervalDayTime:()=>xo,IntervalYearMonth:()=>Po,Null:()=>vn,RowTableBatchAggregator:()=>$,Struct:()=>xn,TableBatchBuilder:()=>gt,Time:()=>fn,TimeMillisecond:()=>Hr,TimeSecond:()=>cr,Timestamp:()=>ti,TimestampMicrosecond:()=>Io,TimestampMillisecond:()=>li,TimestampNanosecond:()=>Co,TimestampSecond:()=>mi,Uint16:()=>Qt,Uint32:()=>jn,Uint64:()=>Lt,Uint8:()=>Yt,Utf8:()=>Ct,convertTable:()=>at,convertToArrayRow:()=>Ie,convertToObjectRow:()=>Q,deduceMeshField:()=>Bt,deduceMeshSchema:()=>lt,deduceTableSchema:()=>y,getArrayTypeFromDataType:()=>ce,getDataTypeFromArray:()=>b,getMeshBoundingBox:()=>Mt,getMeshSize:()=>it,getTableCell:()=>Oe,getTableCellAt:()=>De,getTableColumnIndex:()=>We,getTableColumnName:()=>st,getTableLength:()=>zt,getTableNumCols:()=>Rn,getTableRowAsArray:()=>wt,getTableRowAsObject:()=>ft,getTableRowShape:()=>He,getTypeInfo:()=>sr,isTable:()=>_t,makeArrayRowIterator:()=>je,makeBatchFromTable:()=>Te,makeMeshAttributeMetadata:()=>Tt,makeObjectRowIterator:()=>Ce,makeRowIterator:()=>kt,makeTableFromBatches:()=>ke,makeTableFromData:()=>x}),bn.exports=(pe=A,((pe,ht,pn,On)=>{if(ht&&"object"==typeof ht||"function"==typeof ht)for(let lr of D(ht))!h.call(pe,lr)&&undefined!==lr&&g(pe,lr,{get:()=>ht[lr],enumerable:!(On=C(ht,lr))||On.enumerable});return pe})(g({},"__esModule",{value:!0}),pe));var se=class{schema;options;shape;length=0;rows=null;cursor=0;_headers=[];constructor(pe,ht){if(this.options=ht,this.schema=pe,!Array.isArray(pe)){this._headers=[];for(const pn in pe)this._headers[pe[pn].index]=pe[pn].name}}rowCount(){return this.length}addArrayRow(pe,ht){Number.isFinite(ht)&&(this.cursor=ht),this.shape="array-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=pe,this.length++}addObjectRow(pe,ht){Number.isFinite(ht)&&(this.cursor=ht),this.shape="object-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=pe,this.length++}getBatch(){let pe=this.rows;return pe?(pe=pe.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:pe,length:this.length,schema:this.schema,cursor:this.cursor}):null}};function Q(pe,ht){if(!pe)throw new Error("null row");const pn={};if(ht)for(let On=0;On<ht.length;On++)pn[ht[On]]=pe[On];else for(let On=0;On<pe.length;On++)pn[`column-${On}`]=pe[On];return pn}function Ie(pe,ht){if(!pe)throw new Error("null row");if(ht){const pn=new Array(ht.length);for(let On=0;On<ht.length;On++)pn[On]=pe[ht[On]];return pn}return Object.values(pe)}var $=class{schema;options;length=0;objectRows=null;arrayRows=null;cursor=0;_headers=null;constructor(pe,ht){if(this.options=ht,this.schema=pe,pe){this._headers=[];for(const pn in pe)this._headers[pe[pn].index]=pe[pn].name}}rowCount(){return this.length}addArrayRow(pe,ht){switch(Number.isFinite(ht)&&(this.cursor=ht),this._headers||=function ae(pe){const ht=[];for(let pn=0;pn<pe.length;pn++)ht.push(`column-${pn}`);return ht}(pe),this.options.shape){case"object-row-table":const pn=Q(pe,this._headers);this.addObjectRow(pn,ht);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=pe,this.length++}}addObjectRow(pe,ht){switch(Number.isFinite(ht)&&(this.cursor=ht),this._headers||=function Me(pe){return Object.keys(pe)}(pe),this.options.shape){case"array-row-table":const pn=Ie(pe,this._headers);this.addArrayRow(pn,ht);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=pe,this.length++}}getBatch(){let pe=this.arrayRows||this.objectRows;return pe?(pe=pe.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:pe,length:this.length,schema:this.schema,cursor:this.cursor}):null}},K=class{schema;length=0;allocated=0;columns={};constructor(pe,ht){this.schema=pe,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(pe){this._reallocateColumns();let ht=0;for(const pn in this.columns)this.columns[pn][this.length]=pe[ht++];this.length++}addObjectRow(pe){this._reallocateColumns();for(const ht in pe)this.columns[ht][this.length]=pe[ht];this.length++}getBatch(){this._pruneColumns();const pe=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const pn in this.schema){const On=this.schema[pn];pe[On.name]=this.columns[On.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:pe,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const pe in this.schema){const ht=this.schema[pe],pn=ht.type||Float32Array,On=this.columns[ht.index];if(On&&ArrayBuffer.isView(On)){const lr=new pn(this.allocated);lr.set(On),this.columns[ht.index]=lr}else On?(On.length=this.allocated,this.columns[ht.index]=On):this.columns[ht.index]=new pn(this.allocated)}}}_pruneColumns(){for(const[pe,ht]of Object.entries(this.columns))this.columns[pe]=ht.slice(0,this.length)}},Ne={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},Ge=class{schema;options;aggregator=null;batchCount=0;bytesUsed=0;isChunkComplete=!1;lastBatchEmittedMs=Date.now();totalLength=0;totalBytes=0;rowBytes=0;constructor(pe,ht){this.schema=pe,this.options={...Ne,...ht}}limitReached(){var pe,ht;return!!(null!=(pe=this.options)&&pe.limit&&this.totalLength>=this.options.limit||null!=(ht=this.options)&&ht._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(pe){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(pe),this.totalBytes+=this.rowBytes,Array.isArray(pe)?this.addArrayRow(pe):this.addObjectRow(pe))}addArrayRow(pe){if(!this.aggregator){const ht=this._getTableBatchType();this.aggregator=new ht(this.schema,this.options)}this.aggregator.addArrayRow(pe)}addObjectRow(pe){if(!this.aggregator){const ht=this._getTableBatchType();this.aggregator=new ht(this.schema,this.options)}this.aggregator.addObjectRow(pe)}chunkComplete(pe){pe instanceof ArrayBuffer&&(this.bytesUsed+=pe.byteLength),"string"==typeof pe&&(this.bytesUsed+=pe.length),this.isChunkComplete=!0}getFullBatch(pe){return this._isFull()?this._getBatch(pe):null}getFinalBatch(pe){return this._getBatch(pe)}_estimateRowMB(pe){return Array.isArray(pe)?8*pe.length:8*Object.keys(pe).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}_getBatch(pe){if(!this.aggregator)return null;pe?.bytesUsed&&(this.bytesUsed=pe.bytesUsed);const ht=this.aggregator.getBatch();return ht.count=this.batchCount,ht.bytesUsed=this.bytesUsed,Object.assign(ht,pe),this.batchCount++,this.aggregator=null,ht}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return $;case"columnar-table":return K;case"arrow-table":if(!Ge.ArrowBatch)throw new Error("TableBatchBuilder");return Ge.ArrowBatch;default:return se}}},gt=Ge;function _t(pe){var ht;switch("object"==typeof pe&&pe?.shape){case"array-row-table":case"object-row-table":return Array.isArray(pe.data);case"geojson-table":return Array.isArray(pe.features);case"columnar-table":return pe.data&&"object"==typeof pe.data;case"arrow-table":return void 0!==(null==(ht=pe?.data)?void 0:ht.numRows);default:return!1}}function zt(pe){switch(pe.shape){case"array-row-table":case"object-row-table":return pe.data.length;case"geojson-table":return pe.features.length;case"arrow-table":return pe.data.numRows;case"columnar-table":for(const pn of Object.values(pe.data))return pn.length||0;return 0;default:throw new Error("table")}}function Rn(pe){if(pe.schema)return pe.schema.fields.length;if(0===zt(pe))throw new Error("empty table");switch(pe.shape){case"array-row-table":return pe.data[0].length;case"object-row-table":return Object.keys(pe.data[0]).length;case"geojson-table":return Object.keys(pe.features[0]).length;case"columnar-table":return Object.keys(pe.data).length;case"arrow-table":return pe.data.numCols;default:throw new Error("table")}}function Oe(pe,ht,pn){var On;switch(pe.shape){case"array-row-table":const lr=We(pe,pn);return pe.data[ht][lr];case"object-row-table":return pe.data[ht][pn];case"geojson-table":return pe.features[ht][pn];case"columnar-table":return pe.data[pn][ht];case"arrow-table":const ni=pe.data,Yr=ni.schema.fields.findIndex(ui=>ui.name===pn);return null==(On=ni.getChildAt(Yr))?void 0:On.get(ht);default:throw new Error("todo")}}function De(pe,ht,pn){var On;switch(pe.shape){case"array-row-table":return pe.data[ht][pn];case"object-row-table":const lr=st(pe,pn);return pe.data[ht][lr];case"geojson-table":const Dr=st(pe,pn);return pe.features[ht][Dr];case"columnar-table":const ni=st(pe,pn);return pe.data[ni][ht];case"arrow-table":return null==(On=pe.data.getChildAt(pn))?void 0:On.get(ht);default:throw new Error("todo")}}function He(pe){switch(pe.shape){case"array-row-table":case"object-row-table":return pe.shape;case"geojson-table":return"object-row-table";default:throw new Error("Not a row table")}}function We(pe,ht){var pn;const On=null==(pn=pe.schema)?void 0:pn.fields.findIndex(lr=>lr.name===ht);if(void 0===On)throw new Error(ht);return On}function st(pe,ht){var pn,On;const lr=null==(On=null==(pn=pe.schema)?void 0:pn.fields[ht])?void 0:On.name;if(!lr)throw new Error(`${ht}`);return lr}function ft(pe,ht,pn,On){switch(pe.shape){case"object-row-table":return On?Object.fromEntries(Object.entries(pe.data[ht])):pe.data[ht];case"array-row-table":if(pe.schema){const ui=pn||{};for(let Ri=0;Ri<pe.schema.fields.length;Ri++)ui[pe.schema.fields[Ri].name]=pe.data[ht][Ri];return ui}throw new Error("no schema");case"geojson-table":if(pe.schema){const ui=pn||{};for(let Ri=0;Ri<pe.schema.fields.length;Ri++)ui[pe.schema.fields[Ri].name]=pe.features[ht][Ri];return ui}throw new Error("no schema");case"columnar-table":if(pe.schema){const ui=pn||{};for(let Ri=0;Ri<pe.schema.fields.length;Ri++)ui[pe.schema.fields[Ri].name]=pe.data[pe.schema.fields[Ri].name][ht];return ui}{const ui=pn||{};for(const[Ri,eo]of Object.entries(pe.data))ui[Ri]=eo[ht];return ui}case"arrow-table":const lr=pe.data,Dr=pn||{},ni=lr.get(ht),Yr=lr.schema;for(let ui=0;ui<Yr.fields.length;ui++)Dr[Yr.fields[ui].name]=ni?.[Yr.fields[ui].name];return Dr;default:throw new Error("shape")}}function wt(pe,ht,pn,On){switch(pe.shape){case"array-row-table":return On?Array.from(pe.data[ht]):pe.data[ht];case"object-row-table":if(pe.schema){const ui=pn||[];for(let Ri=0;Ri<pe.schema.fields.length;Ri++)ui[Ri]=pe.data[ht][pe.schema.fields[Ri].name];return ui}return Object.values(pe.data[ht]);case"geojson-table":if(pe.schema){const ui=pn||[];for(let Ri=0;Ri<pe.schema.fields.length;Ri++)ui[Ri]=pe.features[ht][pe.schema.fields[Ri].name];return ui}return Object.values(pe.features[ht]);case"columnar-table":if(pe.schema){const ui=pn||[];for(let Ri=0;Ri<pe.schema.fields.length;Ri++)ui[Ri]=pe.data[pe.schema.fields[Ri].name][ht];return ui}{const ui=pn||[];let Ri=0;for(const eo of Object.values(pe.data))ui[Ri]=eo[ht],Ri++;return ui}case"arrow-table":const lr=pe.data,Dr=pn||[],ni=lr.get(ht),Yr=lr.schema;for(let ui=0;ui<Yr.fields.length;ui++)Dr[ui]=ni?.[Yr.fields[ui].name];return Dr;default:throw new Error("shape")}}function*kt(pe,ht){switch(ht){case"array-row-table":yield*je(pe);break;case"object-row-table":yield*Ce(pe);break;default:throw new Error(`Unknown row type ${ht}`)}}function*je(pe,ht=[]){const pn=zt(pe);for(let On=0;On<pn;On++)yield wt(pe,On,ht)}function*Ce(pe,ht={}){const pn=zt(pe);for(let On=0;On<pn;On++)yield ft(pe,On,ht)}(pe=>{((pe,ht,pn)=>{"ArrowBatch"in pe?g(pe,"ArrowBatch",{enumerable:!0,configurable:!0,writable:!0,value:pn}):pe.ArrowBatch=pn})(pe,0,void 0)})(gt);var ne=class{name;type;nullable;metadata;constructor(pe,ht,pn=!1,On=new Map){this.name=pe,this.type=ht,this.nullable=pn,this.metadata=On}get typeId(){return this.type&&this.type.typeId}clone(){return new ne(this.name,this.type,this.nullable,this.metadata)}compareTo(pe){return this.name===pe.name&&this.type===pe.type&&this.nullable===pe.nullable&&this.metadata===pe.metadata}toString(){return`${JSON.stringify(this.type)}${this.nullable?", nullable":""}${this.metadata?`, metadata: ${JSON.stringify(this.metadata)}`:""}`}},Re=class{fields;metadata;constructor(pe,ht=new Map){this.fields=pe.map(pn=>new ne(pn.name,pn.type,pn.nullable,pn.metadata)),this.metadata=ht instanceof Map?ht:new Map(Object.entries(ht))}compareTo(pe){if(this.metadata!==pe.metadata||this.fields.length!==pe.fields.length)return!1;for(let ht=0;ht<this.fields.length;++ht)if(!this.fields[ht].compareTo(pe.fields[ht]))return!1;return!0}select(...pe){const ht=Object.create(null);for(const On of pe)ht[On]=!0;const pn=this.fields.filter(On=>ht[On.name]);return new Re(pn,this.metadata)}selectAt(...pe){const ht=pe.map(pn=>this.fields[pn]).filter(Boolean);return new Re(ht,this.metadata)}assign(pe){let ht,pn=this.metadata;if(pe instanceof Re){const Dr=pe;ht=Dr.fields,pn=te(te(new Map,this.metadata),Dr.metadata)}else ht=pe;const On=Object.create(null);for(const Dr of this.fields)On[Dr.name]=Dr;for(const Dr of ht)On[Dr.name]=Dr;const lr=Object.values(On);return new Re(lr,pn)}};function te(pe,ht){return new Map([...pe||new Map,...ht||new Map])}function y(pe){switch(pe.shape){case"array-row-table":case"object-row-table":return function Y(pe){if(!pe.length)throw new Error("deduce from empty table");const ht=[],pn=pe[0];for(const[On,lr]of Object.entries(pn))ht.push(Z(lr,On));return{fields:ht,metadata:{}}}(pe.data);case"geojson-table":return function G(pe){if(!pe.length)throw new Error("deduce from empty table");const ht=[],pn=pe[0].properties||{};for(const[On,lr]of Object.entries(pn))ht.push(Z(lr,On));return{fields:ht,metadata:{}}}(pe.features);case"columnar-table":return function M(pe){const ht=[];for(const[pn,On]of Object.entries(pe)){const lr=_e(On,pn);ht.push(lr)}return{fields:ht,metadata:{}}}(pe.data);default:throw new Error("Deduce schema")}}function _e(pe,ht){if(ArrayBuffer.isView(pe)){const pn=b(pe);return{name:ht,type:pn.type||"null",nullable:pn.nullable}}if(Array.isArray(pe)&&pe.length>0)return{name:ht,type:T(pe[0]),nullable:!0};throw new Error("empty table")}function Z(pe,ht){return{name:ht,type:T(pe),nullable:!0}}var f=class{table;columnName;constructor(pe,ht){this.table=pe,this.columnName=ht}get(pe){return Oe(this.table,pe,this.columnName)}toArray(){var pe;switch(this.table.shape){case"arrow-table":return null==(pe=this.table.data.getChild(this.columnName))?void 0:pe.toArray();case"columnar-table":return this.table.data[this.columnName];default:throw new Error(this.table.shape)}}},V=class{schema;table;constructor(pe){const ht=pe.schema||y(pe);this.schema=new Re(ht.fields,ht.metadata),this.table={...pe,schema:ht}}get data(){return"geojson-table"===this.table.shape?this.table.features:this.table.data}get numCols(){return Rn(this.table)}get length(){return zt(this.table)}getChild(pe){return new f(this.table,pe)}};function x(pe){let ht;switch(function ye(pe){if(Array.isArray(pe)){if(0===pe.length)throw new Error("cannot deduce type of empty table");const ht=pe[0];if(Array.isArray(ht))return"array-row-table";if(ht&&"object"==typeof ht)return"object-row-table"}if(pe&&"object"==typeof pe)return"columnar-table";throw new Error("invalid table")}(pe)){case"array-row-table":ht={shape:"array-row-table",data:pe};break;case"object-row-table":ht={shape:"object-row-table",data:pe};break;case"columnar-table":ht={shape:"columnar-table",data:pe};break;default:throw new Error("table")}const pn=y(ht);return{...ht,schema:pn}}function Te(pe){return{...pe,length:zt(pe),batchType:"data"}}function ke(pe){return Ee.apply(this,arguments)}function Ee(){return Ee=r(function*(pe){let ht,pn,On,Dr,lr=null;var ui,ni=!1,Yr=!1;try{for(var eo,Ri=m(pe);ni=!(eo=yield Ri.next()).done;ni=!1){const Ki=eo.value;switch(lr=lr||Ki.shape,Dr=Dr||Ki.schema,Ki.shape){case"array-row-table":ht=ht||[];for(let Qi=0;Qi<zt(Ki);Qi++)ht.push(Ki.data[Qi]);break;case"object-row-table":pn=pn||[];for(let Qi=0;Qi<zt(Ki);Qi++)pn.push(Ki.data[Qi]);break;case"geojson-table":On=On||[];for(let Qi=0;Qi<zt(Ki);Qi++)On.push(Ki.features[Qi]);break;default:throw new Error("shape")}}}catch(Ki){Yr=!0,ui=Ki}finally{try{ni&&null!=Ri.return&&(yield Ri.return())}finally{if(Yr)throw ui}}if(!lr)return null;switch(lr){case"array-row-table":return{shape:"array-row-table",data:ht,schema:Dr};case"object-row-table":return{shape:"object-row-table",data:pn,schema:Dr};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:On,schema:Dr};default:return null}}),Ee.apply(this,arguments)}function nt(pe,ht){return new(ce(pe.type,pe.nullable))(ht)}function at(pe,ht){switch(ht){case"object-row-table":return function Ft(pe){if("object-row-table"===pe.shape)return pe;const ht=zt(pe),pn=new Array(ht);for(let On=0;On<ht;On++)pn[On]=ft(pe,On);return{shape:"object-row-table",schema:pe.schema,data:pn}}(pe);case"array-row-table":return function Qe(pe){if("array-row-table"===pe.shape)return pe;const ht=zt(pe),pn=new Array(ht);for(let On=0;On<ht;On++)pn[On]=wt(pe,On);return{shape:"array-row-table",schema:pe.schema,data:pn}}(pe);case"columnar-table":return function Jt(pe){var ht;const pn=pe.schema||y(pe),On=(null==(ht=pe.schema)?void 0:ht.fields)||[];if("columnar-table"===pe.shape)return{...pe,schema:pn};const lr=zt(pe),Dr={};for(const ni of On){const Yr=nt(ni,lr);Dr[ni.name]=Yr;for(let ui=0;ui<lr;ui++)Yr[ui]=Oe(pe,ui,ni.name)}return{shape:"columnar-table",schema:pn,data:Dr}}(pe);case"arrow-table":return function yt(pe){var ht;const pn=null==(ht=globalThis.__loaders)?void 0:ht._makeArrowTable;if(!pn)throw new Error("");return pn(pe)}(pe);default:throw new Error(ht)}}function it(pe){let ht=0;for(const pn in pe){const On=pe[pn];ArrayBuffer.isView(On)&&(ht+=On.byteLength*On.BYTES_PER_ELEMENT)}return ht}function Mt(pe){let ht=1/0,pn=1/0,On=1/0,lr=-1/0,Dr=-1/0,ni=-1/0;const Yr=pe.POSITION?pe.POSITION.value:[],ui=Yr&&Yr.length;for(let Ri=0;Ri<ui;Ri+=3){const eo=Yr[Ri],Ki=Yr[Ri+1],Qi=Yr[Ri+2];ht=eo<ht?eo:ht,pn=Ki<pn?Ki:pn,On=Qi<On?Qi:On,lr=eo>lr?eo:lr,Dr=Ki>Dr?Ki:Dr,ni=Qi>ni?Qi:ni}return[[ht,pn,On],[lr,Dr,ni]]}function lt(pe,ht={}){return{fields:ct(pe),metadata:ht}}function Bt(pe,ht,pn){const On=J(ht.value),lr=pn||Tt(ht);return{name:pe,type:{type:"fixed-size-list",listSize:ht.size,children:[{name:"value",type:On}]},nullable:!1,metadata:lr}}function ct(pe){const ht=[];for(const pn in pe)ht.push(Bt(pn,pe[pn]));return ht}function Tt(pe){const ht={};return"byteOffset"in pe&&(ht.byteOffset=pe.byteOffset.toString(10)),"byteStride"in pe&&(ht.byteStride=pe.byteStride.toString(10)),"normalized"in pe&&(ht.normalized=pe.normalized.toString()),ht}var rt=function(pe){return pe[pe.NONE=0]="NONE",pe[pe.Null=1]="Null",pe[pe.Int=2]="Int",pe[pe.Float=3]="Float",pe[pe.Binary=4]="Binary",pe[pe.Utf8=5]="Utf8",pe[pe.Bool=6]="Bool",pe[pe.Decimal=7]="Decimal",pe[pe.Date=8]="Date",pe[pe.Time=9]="Time",pe[pe.Timestamp=10]="Timestamp",pe[pe.Interval=11]="Interval",pe[pe.List=12]="List",pe[pe.Struct=13]="Struct",pe[pe.Union=14]="Union",pe[pe.FixedSizeBinary=15]="FixedSizeBinary",pe[pe.FixedSizeList=16]="FixedSizeList",pe[pe.Map=17]="Map",pe[pe.Dictionary=-1]="Dictionary",pe[pe.Int8=-2]="Int8",pe[pe.Int16=-3]="Int16",pe[pe.Int32=-4]="Int32",pe[pe.Int64=-5]="Int64",pe[pe.Uint8=-6]="Uint8",pe[pe.Uint16=-7]="Uint16",pe[pe.Uint32=-8]="Uint32",pe[pe.Uint64=-9]="Uint64",pe[pe.Float16=-10]="Float16",pe[pe.Float32=-11]="Float32",pe[pe.Float64=-12]="Float64",pe[pe.DateDay=-13]="DateDay",pe[pe.DateMillisecond=-14]="DateMillisecond",pe[pe.TimestampSecond=-15]="TimestampSecond",pe[pe.TimestampMillisecond=-16]="TimestampMillisecond",pe[pe.TimestampMicrosecond=-17]="TimestampMicrosecond",pe[pe.TimestampNanosecond=-18]="TimestampNanosecond",pe[pe.TimeSecond=-19]="TimeSecond",pe[pe.TimeMillisecond=-20]="TimeMillisecond",pe[pe.TimeMicrosecond=-21]="TimeMicrosecond",pe[pe.TimeNanosecond=-22]="TimeNanosecond",pe[pe.DenseUnion=-23]="DenseUnion",pe[pe.SparseUnion=-24]="SparseUnion",pe[pe.IntervalDayTime=-25]="IntervalDayTime",pe[pe.IntervalYearMonth=-26]="IntervalYearMonth",pe}(rt||{}),Et=class{static isNull(pe){return pe&&pe.typeId===rt.Null}static isInt(pe){return pe&&pe.typeId===rt.Int}static isFloat(pe){return pe&&pe.typeId===rt.Float}static isBinary(pe){return pe&&pe.typeId===rt.Binary}static isUtf8(pe){return pe&&pe.typeId===rt.Utf8}static isBool(pe){return pe&&pe.typeId===rt.Bool}static isDecimal(pe){return pe&&pe.typeId===rt.Decimal}static isDate(pe){return pe&&pe.typeId===rt.Date}static isTime(pe){return pe&&pe.typeId===rt.Time}static isTimestamp(pe){return pe&&pe.typeId===rt.Timestamp}static isInterval(pe){return pe&&pe.typeId===rt.Interval}static isList(pe){return pe&&pe.typeId===rt.List}static isStruct(pe){return pe&&pe.typeId===rt.Struct}static isUnion(pe){return pe&&pe.typeId===rt.Union}static isFixedSizeBinary(pe){return pe&&pe.typeId===rt.FixedSizeBinary}static isFixedSizeList(pe){return pe&&pe.typeId===rt.FixedSizeList}static isMap(pe){return pe&&pe.typeId===rt.Map}static isDictionary(pe){return pe&&pe.typeId===rt.Dictionary}get typeId(){return rt.NONE}compareTo(pe){return this===pe}},vn=class extends Et{get typeId(){return rt.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}},In=class extends Et{get typeId(){return rt.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}},Un=class extends Et{isSigned;bitWidth;constructor(pe,ht){super(),this.isSigned=pe,this.bitWidth=ht}get typeId(){return rt.Int}get[Symbol.toStringTag](){return"Int"}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}},Jn=class extends Un{constructor(){super(!0,8)}},Cr=class extends Un{constructor(){super(!0,16)}},wn=class extends Un{constructor(){super(!0,32)}},cn=class extends Un{constructor(){super(!0,64)}},Yt=class extends Un{constructor(){super(!1,8)}},Qt=class extends Un{constructor(){super(!1,16)}},jn=class extends Un{constructor(){super(!1,32)}},Lt=class extends Un{constructor(){super(!1,64)}},Pn=class extends Et{precision;constructor(pe){super(),this.precision=pe}get typeId(){return rt.Float}get[Symbol.toStringTag](){return"Float"}toString(){return`Float${this.precision}`}},Sn=class extends Pn{constructor(){super(16)}},Tn=class extends Pn{constructor(){super(32)}},dn=class extends Pn{constructor(){super(64)}},Bn=class extends Et{constructor(){super()}get typeId(){return rt.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}},Ct=class extends Et{get typeId(){return rt.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}},me={DAY:0,MILLISECOND:1},ue=class extends Et{unit;constructor(pe){super(),this.unit=pe}get typeId(){return rt.Date}get[Symbol.toStringTag](){return"Date"}toString(){return`Date${32*(this.unit+1)}<${me[this.unit]}>`}},Ue=class extends ue{constructor(){super(me.DAY)}},bt=class extends ue{constructor(){super(me.MILLISECOND)}},Ht={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9},fn=class extends Et{unit;bitWidth;constructor(pe,ht){super(),this.unit=pe,this.bitWidth=ht}get typeId(){return rt.Time}toString(){return`Time${this.bitWidth}<${Ht[this.unit]}>`}get[Symbol.toStringTag](){return"Time"}},cr=class extends fn{constructor(){super(Ht.SECOND,32)}},Hr=class extends fn{constructor(){super(Ht.MILLISECOND,32)}},ti=class extends Et{unit;timezone;constructor(pe,ht=null){super(),this.unit=pe,this.timezone=ht}get typeId(){return rt.Timestamp}get[Symbol.toStringTag](){return"Timestamp"}toString(){return`Timestamp<${Ht[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}},mi=class extends ti{constructor(pe=null){super(Ht.SECOND,pe)}},li=class extends ti{constructor(pe=null){super(Ht.MILLISECOND,pe)}},Io=class extends ti{constructor(pe=null){super(Ht.MICROSECOND,pe)}},Co=class extends ti{constructor(pe=null){super(Ht.NANOSECOND,pe)}},wo={DAY_TIME:0,YEAR_MONTH:1},So=class extends Et{unit;constructor(pe){super(),this.unit=pe}get typeId(){return rt.Interval}get[Symbol.toStringTag](){return"Interval"}toString(){return`Interval<${wo[this.unit]}>`}},xo=class extends So{constructor(){super(wo.DAY_TIME)}},Po=class extends So{constructor(){super(wo.YEAR_MONTH)}},nn=class extends Et{listSize;children;constructor(pe,ht){super(),this.listSize=pe,this.children=[ht]}get typeId(){return rt.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Symbol.toStringTag](){return"FixedSizeList"}toString(){return`FixedSizeList[${this.listSize}]<${JSON.stringify(this.valueType)}>`}},xn=class extends Et{children;constructor(pe){super(),this.children=pe}get typeId(){return rt.Struct}toString(){return`Struct<{${this.children.map(pe=>`${pe.name}:${JSON.stringify(pe.type)}`).join(", ")}}>`}get[Symbol.toStringTag](){return"Struct"}};function sr(pe){return{typeId:pe.typeId,ArrayType:pe.ArrayType,typeName:pe.toString(),typeEnumName:Vr(pe.typeId),precision:pe.precision}}var br=null;function Vr(pe){if(!br){br={};for(const ht in rt)br[rt[ht]]=ht}return br[pe]}var _r=class extends Array{enqueue(pe){return this.push(pe)}dequeue(){return this.shift()}},jt=class{_values;_settlers;_closed;constructor(){this._values=new _r,this._settlers=new _r,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(pe){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const ht=this._settlers.dequeue();pe instanceof Error?ht.reject(pe):ht.resolve({value:pe})}else this._values.enqueue(pe)}next(){if(this._values.length>0){const pe=this._values.dequeue();return pe instanceof Error?Promise.reject(pe):Promise.resolve({value:pe})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((pe,ht)=>{this._settlers.enqueue({resolve:pe,reject:ht})})}}},74389:(bn,be,w)=>{"use strict";var Gn,r=w(31049).default,m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,k={};((Gn,Hn)=>{for(var Ir in Hn)m(Gn,Ir,{get:Hn[Ir],enumerable:!0})})(k,{BASIS_EXTERNAL_LIBRARIES:()=>T,BasisLoader:()=>_e,BasisWorkerLoader:()=>G,CRUNCH_EXTERNAL_LIBRARIES:()=>li,CompressedTextureLoader:()=>Tn,CompressedTextureWorkerLoader:()=>Sn,CompressedTextureWriter:()=>So,CrunchLoader:()=>dn,CrunchWorkerLoader:()=>dn,GL_EXTENSIONS_CONSTANTS:()=>K,KTX2BasisWriter:()=>nn,KTX2BasisWriterWorker:()=>Ps,NPYLoader:()=>Hr,NPYWorkerLoader:()=>cr,getSupportedGPUTextureFormats:()=>gt,loadImageTexture:()=>Ki,loadImageTextureArray:()=>vt,loadImageTextureCube:()=>ps,selectSupportedBasisFormat:()=>Y}),bn.exports=(Gn=k,((Gn,Hn,Ir,ri)=>{if(Hn&&"object"==typeof Hn||"function"==typeof Hn)for(let si of C(Hn))!D.call(Gn,si)&&undefined!==si&&m(Gn,si,{get:()=>Hn[si],enumerable:!(ri=g(Hn,si))||ri.enumerable});return Gn})(m({},"__esModule",{value:!0}),Gn));var b,Ie,z="4.3.1",B=w(28690),A=w(13827),T={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};function J(Gn){return ce.apply(this,arguments)}function ce(){return ce=r(function*(Gn){return(0,B.registerJSModules)(Gn.modules),(0,B.getJSModuleOrNull)("basis")||(b||=function W(Gn){return se.apply(this,arguments)}(Gn),yield b)}),ce.apply(this,arguments)}function se(){return se=r(function*(Gn){let Hn=null,Ir=null;return[Hn,Ir]=yield Promise.all([yield(0,A.loadLibrary)(T.TRANSCODER,"textures",Gn),yield(0,A.loadLibrary)(T.TRANSCODER_WASM,"textures",Gn)]),Hn=Hn||globalThis.BASIS,yield function Q(Gn,Hn){const Ir={};return Hn&&(Ir.wasmBinary=Hn),new Promise(ri=>{Gn(Ir).then(si=>{const{BasisFile:Xr,initializeBasis:ki}=si;ki(),ri({BasisFile:Xr})})})}(Hn,Ir)}),se.apply(this,arguments)}function ae(Gn){return Me.apply(this,arguments)}function Me(){return Me=r(function*(Gn){const Hn=Gn.modules||{};return Hn.basisEncoder?Hn.basisEncoder:(Ie=Ie||function q(Gn){return $.apply(this,arguments)}(Gn),yield Ie)}),Me.apply(this,arguments)}function $(){return $=r(function*(Gn){let Hn=null,Ir=null;return[Hn,Ir]=yield Promise.all([yield(0,A.loadLibrary)(T.ENCODER,"textures",Gn),yield(0,A.loadLibrary)(T.ENCODER_WASM,"textures",Gn)]),Hn=Hn||globalThis.BASIS,yield function ge(Gn,Hn){const Ir={};return Hn&&(Ir.wasmBinary=Hn),new Promise(ri=>{Gn(Ir).then(si=>{const{BasisFile:Xr,KTX2File:ki,initializeBasis:Ji,BasisEncoder:po}=si;Ji(),ri({BasisFile:Xr,KTX2File:ki,BasisEncoder:po})})})}(Hn,Ir)}),$.apply(this,arguments)}var K={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},Ne=["","WEBKIT_","MOZ_"],Ve={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Ge=null;function gt(Gn){if(!Ge){Gn=Gn||function _t(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,Ge=new Set;for(const Hn of Ne)for(const Ir in Ve)Gn&&Gn.getExtension(`${Hn}${Ir}`)&&Ge.add(Ve[Ir])}return Ge}var zt=w(54167);function Rn(Gn,Hn){const Ir=new Array(Hn.mipMapLevels);let ri=Hn.width,si=Hn.height,Xr=0;for(let ki=0;ki<Hn.mipMapLevels;++ki){const Ji=De(Hn,ri,si,Gn,ki),po=Oe(Gn,ki,Xr,Ji);Ir[ki]={compressed:!0,format:Hn.internalFormat,data:po,width:ri,height:si,levelSize:Ji},ri=Math.max(1,ri>>1),si=Math.max(1,si>>1),Xr+=Ji}return Ir}function Oe(Gn,Hn,Ir,ri){return Array.isArray(Gn)?Gn[Hn].levelData:new Uint8Array(Gn.buffer,Gn.byteOffset+Ir,ri)}function De(Gn,Hn,Ir,ri,si){return Array.isArray(ri)?Gn.sizeFunction(ri[si]):Gn.sizeFunction(Hn,Ir)}var He={131:K.COMPRESSED_RGB_S3TC_DXT1_EXT,132:K.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:K.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:K.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:K.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:K.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:K.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:K.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:K.COMPRESSED_RED_RGTC1_EXT,140:K.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:K.COMPRESSED_RED_GREEN_RGTC2_EXT,142:K.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:K.COMPRESSED_RGB8_ETC2,148:K.COMPRESSED_SRGB8_ETC2,149:K.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:K.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:K.COMPRESSED_RGBA8_ETC2_EAC,152:K.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:K.COMPRESSED_R11_EAC,154:K.COMPRESSED_SIGNED_R11_EAC,155:K.COMPRESSED_RG11_EAC,156:K.COMPRESSED_SIGNED_RG11_EAC,157:K.COMPRESSED_RGBA_ASTC_4x4_KHR,158:K.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:K.COMPRESSED_RGBA_ASTC_5x4_KHR,160:K.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:K.COMPRESSED_RGBA_ASTC_5x5_KHR,162:K.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:K.COMPRESSED_RGBA_ASTC_6x5_KHR,164:K.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:K.COMPRESSED_RGBA_ASTC_6x6_KHR,166:K.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:K.COMPRESSED_RGBA_ASTC_8x5_KHR,168:K.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:K.COMPRESSED_RGBA_ASTC_8x6_KHR,170:K.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:K.COMPRESSED_RGBA_ASTC_8x8_KHR,172:K.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:K.COMPRESSED_RGBA_ASTC_10x5_KHR,174:K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:K.COMPRESSED_RGBA_ASTC_10x6_KHR,176:K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:K.COMPRESSED_RGBA_ASTC_10x8_KHR,178:K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:K.COMPRESSED_RGBA_ASTC_10x10_KHR,180:K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:K.COMPRESSED_RGBA_ASTC_12x10_KHR,182:K.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:K.COMPRESSED_RGBA_ASTC_12x12_KHR,184:K.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:K.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:K.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:K.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:K.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:K.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:K.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:K.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:K.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:K.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:K.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:K.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:K.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:K.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:K.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:K.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:K.COMPRESSED_RGBA_ASTC_12x12_KHR},st=[171,75,84,88,32,50,48,187,13,10,26,10];function ft(Gn){const Hn=new Uint8Array(Gn);return!(Hn.byteLength<st.length||Hn[0]!==st[0]||Hn[1]!==st[1]||Hn[2]!==st[2]||Hn[3]!==st[3]||Hn[4]!==st[4]||Hn[5]!==st[5]||Hn[6]!==st[6]||Hn[7]!==st[7]||Hn[8]!==st[8]||Hn[9]!==st[9]||Hn[10]!==st[10]||Hn[11]!==st[11])}var kt={etc1:{basisFormat:0,compressed:!0,format:K.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:K.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:K.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:K.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:K.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:K.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function je(Gn,Hn){return Ce.apply(this,arguments)}function Ce(){return Ce=r(function*(Gn,Hn){if("auto"===Hn.basis.containerFormat){if(ft(Gn))return te((yield ae(Hn)).KTX2File,Gn,Hn);const{BasisFile:Ir}=yield J(Hn);return ne(Ir,Gn,Hn)}if("encoder"===Hn.basis.module){const Ir=yield ae(Hn);return"ktx2"===Hn.basis.containerFormat?te(Ir.KTX2File,Gn,Hn):ne(Ir.BasisFile,Gn,Hn)}{const{BasisFile:ri}=yield J(Hn);return ne(ri,Gn,Hn)}}),Ce.apply(this,arguments)}function ne(Gn,Hn,Ir){const ri=new Gn(new Uint8Array(Hn));try{if(!ri.startTranscoding())throw new Error("Failed to start basis transcoding");const si=ri.getNumImages(),Xr=[];for(let ki=0;ki<si;ki++){const Ji=ri.getNumLevels(ki),po=[];for(let Pi=0;Pi<Ji;Pi++)po.push(Re(ri,ki,Pi,Ir));Xr.push(po)}return Xr}finally{ri.close(),ri.delete()}}function Re(Gn,Hn,Ir,ri){const si=Gn.getImageWidth(Hn,Ir),Xr=Gn.getImageHeight(Hn,Ir),ki=Gn.getHasAlpha(),{compressed:Ji,format:po,basisFormat:Pi}=M(ri,ki),os=Gn.getImageTranscodedSizeInBytes(Hn,Ir,Pi),es=new Uint8Array(os);if(!Gn.transcodeImage(es,Hn,Ir,Pi,0,0))throw new Error("failed to start Basis transcoding");return{width:si,height:Xr,data:es,compressed:Ji,format:po,hasAlpha:ki}}function te(Gn,Hn,Ir){const ri=new Gn(new Uint8Array(Hn));try{if(!ri.startTranscoding())throw new Error("failed to start KTX2 transcoding");const si=ri.getLevels(),Xr=[];for(let ki=0;ki<si;ki++)Xr.push(y(ri,ki,Ir));return[Xr]}finally{ri.close(),ri.delete()}}function y(Gn,Hn,Ir){const{alphaFlag:ri,height:si,width:Xr}=Gn.getImageLevelInfo(Hn,0,0),{compressed:ki,format:Ji,basisFormat:po}=M(Ir,ri),Pi=Gn.getImageTranscodedSizeInBytes(Hn,0,0,po),os=new Uint8Array(Pi);if(!Gn.transcodeImage(os,Hn,0,0,po,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:Xr,height:si,data:os,compressed:ki,levelSize:Pi,hasAlpha:ri,format:Ji}}function M(Gn,Hn){let Ir=Gn&&Gn.basis&&Gn.basis.format;return"auto"===Ir&&(Ir=Y()),"object"==typeof Ir&&(Ir=Hn?Ir.alpha:Ir.noAlpha),Ir=Ir.toLowerCase(),kt[Ir]}function Y(){const Gn=gt();return Gn.has("astc")?"astc-4x4":Gn.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:Gn.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:Gn.has("etc1")?"etc1":Gn.has("etc2")?"etc2":"rgb565"}var G={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:z,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},_e={...G,parse:je},Z=w(28690),f={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},V={DXT1:K.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:K.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:K.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":K.COMPRESSED_RGB_ATC_WEBGL,ATCA:K.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:K.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},ke={DXT1:at,DXT3:yt,DXT5:yt,"ATC ":at,ATCA:yt,ATCI:yt};function at(Gn,Hn){return(Gn+3>>2)*(Hn+3>>2)*8}function yt(Gn,Hn){return(Gn+3>>2)*(Hn+3>>2)*16}var Qe_MAGIC_NUMBER=55727696,Qe_MAGIC_NUMBER_EXTRA=1347834371,Qe_HEADER_LENGTH=13,Qe_HEADER_SIZE=52,Qe_MAGIC_NUMBER_INDEX=0,Qe_PIXEL_FORMAT_INDEX=2,Qe_COLOUR_SPACE_INDEX=4,Qe_HEIGHT_INDEX=6,Qe_WIDTH_INDEX=7,Qe_MIPMAPCOUNT_INDEX=11,Qe_METADATA_SIZE_INDEX=12,Ft={0:[K.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[K.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[K.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[K.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[K.COMPRESSED_RGB_ETC1_WEBGL],7:[K.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[K.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[K.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[K.COMPRESSED_RGB8_ETC2],23:[K.COMPRESSED_RGBA8_ETC2_EAC],24:[K.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[K.COMPRESSED_R11_EAC],26:[K.COMPRESSED_RG11_EAC],27:[K.COMPRESSED_RGBA_ASTC_4X4_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[K.COMPRESSED_RGBA_ASTC_5X4_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[K.COMPRESSED_RGBA_ASTC_5X5_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[K.COMPRESSED_RGBA_ASTC_6X5_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[K.COMPRESSED_RGBA_ASTC_6X6_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[K.COMPRESSED_RGBA_ASTC_8X5_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[K.COMPRESSED_RGBA_ASTC_8X6_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[K.COMPRESSED_RGBA_ASTC_8X8_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[K.COMPRESSED_RGBA_ASTC_10X5_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[K.COMPRESSED_RGBA_ASTC_10X6_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[K.COMPRESSED_RGBA_ASTC_10X8_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[K.COMPRESSED_RGBA_ASTC_10X10_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[K.COMPRESSED_RGBA_ASTC_12X10_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[K.COMPRESSED_RGBA_ASTC_12X12_KHR,K.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},it={0:Bt,1:Bt,2:ct,3:ct,6:Tt,7:Tt,9:rt,11:rt,22:Tt,23:rt,24:Tt,25:Tt,26:rt,27:rt,28:function Et(Gn,Hn){return Math.floor((Gn+4)/5)*Math.floor((Hn+3)/4)*16},29:function vn(Gn,Hn){return Math.floor((Gn+4)/5)*Math.floor((Hn+4)/5)*16},30:function In(Gn,Hn){return Math.floor((Gn+5)/6)*Math.floor((Hn+4)/5)*16},31:function Un(Gn,Hn){return Math.floor((Gn+5)/6)*Math.floor((Hn+5)/6)*16},32:function Jn(Gn,Hn){return Math.floor((Gn+7)/8)*Math.floor((Hn+4)/5)*16},33:function Cr(Gn,Hn){return Math.floor((Gn+7)/8)*Math.floor((Hn+5)/6)*16},34:function wn(Gn,Hn){return Math.floor((Gn+7)/8)*Math.floor((Hn+7)/8)*16},35:function cn(Gn,Hn){return Math.floor((Gn+9)/10)*Math.floor((Hn+4)/5)*16},36:function Yt(Gn,Hn){return Math.floor((Gn+9)/10)*Math.floor((Hn+5)/6)*16},37:function Qt(Gn,Hn){return Math.floor((Gn+9)/10)*Math.floor((Hn+7)/8)*16},38:function jn(Gn,Hn){return Math.floor((Gn+9)/10)*Math.floor((Hn+9)/10)*16},39:function Lt(Gn,Hn){return Math.floor((Gn+11)/12)*Math.floor((Hn+9)/10)*16},40:function Dn(Gn,Hn){return Math.floor((Gn+11)/12)*Math.floor((Hn+11)/12)*16}};function Bt(Gn,Hn){return(Gn=Math.max(Gn,16))*(Hn=Math.max(Hn,8))/4}function ct(Gn,Hn){return(Gn=Math.max(Gn,8))*(Hn=Math.max(Hn,8))/2}function Tt(Gn,Hn){return Math.floor((Gn+3)/4)*Math.floor((Hn+3)/4)*8}function rt(Gn,Hn){return Math.floor((Gn+3)/4)*Math.floor((Hn+3)/4)*16}function Pn(Gn){if(ft(Gn))return function wt(Gn){const Hn=new Uint8Array(Gn),Ir=(0,zt.read)(Hn),ri=Math.max(1,Ir.levels.length),si=Ir.pixelWidth,Xr=Ir.pixelHeight,ki=function We(Gn){return He[Gn]}(Ir.vkFormat);return Rn(Ir.levels,{mipMapLevels:ri,width:si,height:Xr,sizeFunction:Ji=>Ji.uncompressedByteLength,internalFormat:ki})}(Gn);if(function Ee(Gn){return new Uint32Array(Gn,0,f.HEADER_LENGTH)[f.MAGIC_NUMBER_INDEX]===f.MAGIC_NUMBER}(Gn))return function nt(Gn){const Hn=new Int32Array(Gn,0,f.HEADER_LENGTH),Ir=Hn[f.HEADER_PF_FOURCC_INDEX];(0,Z.assert)(!!(Hn[f.HEADER_PF_FLAGS_INDEX]&f.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const ri=function Jt(Gn){return String.fromCharCode(255&Gn,Gn>>8&255,Gn>>16&255,Gn>>24&255)}(Ir),si=V[ri],Xr=ke[ri];(0,Z.assert)(si&&Xr,`DDS: Unknown pixel format ${Ir}`);let ki=1;Hn[f.HEADER_FLAGS_INDEX]&f.DDSD_MIPMAPCOUNT&&(ki=Math.max(1,Hn[f.MIPMAPCOUNT_INDEX]));const Ji=Hn[f.HEADER_WIDTH_INDEX],po=Hn[f.HEADER_HEIGHT_INDEX];return Rn(new Uint8Array(Gn,Hn[f.HEADER_SIZE_INDEX]+4),{mipMapLevels:ki,width:Ji,height:po,sizeFunction:Xr,internalFormat:si})}(Gn);if(function Mt(Gn){const Ir=new Uint32Array(Gn,0,Qe_HEADER_LENGTH)[Qe_MAGIC_NUMBER_INDEX];return Ir===Qe_MAGIC_NUMBER||Ir===Qe_MAGIC_NUMBER_EXTRA}(Gn))return function lt(Gn){const Hn=new Uint32Array(Gn,0,Qe_HEADER_LENGTH),Ir=Hn[Qe_PIXEL_FORMAT_INDEX],si=Ft[Ir]||[],Xr=si.length>1&&Hn[Qe_COLOUR_SPACE_INDEX]?si[1]:si[0],ki=it[Ir],Ji=Hn[Qe_MIPMAPCOUNT_INDEX],po=Hn[Qe_WIDTH_INDEX],Pi=Hn[Qe_HEIGHT_INDEX];return Rn(new Uint8Array(Gn,Qe_HEADER_SIZE+Hn[Qe_METADATA_SIZE_INDEX]),{mipMapLevels:Ji,width:po,height:Pi,sizeFunction:ki,internalFormat:Xr})}(Gn);throw new Error("Texture container format not recognized")}var Sn={dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:z,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},Tn={...Sn,parse:function(){var Gn=r(function*(Hn,Ir){var ri;return null!=(ri=Ir?.["compressed-texture"])&&ri.useBasis?(Ir.basis={format:{alpha:"BC3",noAlpha:"BC1"},...Ir.basis,containerFormat:"ktx2",module:"encoder"},(yield je(Hn,Ir))[0]):Pn(Hn)});return function(Ir,ri){return Gn.apply(this,arguments)}}()},dn={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:z,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}},Bn=new Uint32Array([305419896]),ue=18!==new Uint8Array(Bn.buffer,Bn.byteOffset,Bn.byteLength)[0],Ue={u1:Uint8Array,i1:Int8Array,u2:Uint16Array,i2:Int16Array,u4:Uint32Array,i4:Int32Array,f4:Float32Array,f8:Float64Array};function bt(Gn,Hn){var Ir;const ri=new DataView(Gn),{header:si,headerEndOffset:Xr}=function Ht(Gn){const Hn=Gn.getUint8(6);let ri,Ir=8;Hn>=2?(ri=Gn.getUint32(Ir,!0),Ir+=4):(ri=Gn.getUint16(Ir,!0),Ir+=2);const Xr=new TextDecoder(Hn<=2?"latin1":"utf-8"),ki=new Uint8Array(Gn.buffer,Ir,ri),Ji=Xr.decode(ki);return Ir+=ri,{header:JSON.parse(Ji.replace(/'/g,'"').replace("False","false").replace("(","[").replace(/,*\),*/g,"]")),headerEndOffset:Ir}}(ri),ki=si.descr,Ji=Ue[ki.slice(1,3)];if(!Ji)throw new Error(`Unimplemented type ${ki}`);const Pi=(null==(Ir=si.shape)?void 0:Ir.reduce((es,rs)=>es*rs))*Ji.BYTES_PER_ELEMENT;if(Gn.byteLength<Xr+Pi)throw new Error("Buffer overflow");const os=new Ji(Gn.slice(Xr,Xr+Pi));if(">"===ki[0]&&ue||"<"===ki[0]&&!ue)throw new Error("Incorrect endianness");return{data:os,header:si}}var cr={dataType:null,batchType:null,name:"NPY",id:"npy",module:"textures",version:z,worker:!0,extensions:["npy"],mimeTypes:[],tests:[new Uint8Array([147,78,85,77,80,89]).buffer],options:{npy:{}}},Hr={...cr,parseSync:bt,parse:function(){var Gn=r(function*(Hn,Ir){return bt(Hn)});return function(Ir,ri){return Gn.apply(this,arguments)}}()},li=(w(28690),w(13827),{DECODER:"crunch.js"}),Io=w(13827);function wo(){return wo=r(function*(Gn,Hn,Ir){const ri=["texture-compressor","--type","s3tc","--compression","DXT1","--quality","normal","--input",Gn,"--output",Hn];return yield(new Io.ChildProcessProxy).start({command:"npx",arguments:ri,spawn:Ir}),Hn}),wo.apply(this,arguments)}var So={name:"DDS Texture Container",id:"dds",module:"textures",version:z,extensions:["dds"],options:{texture:{format:"auto",compression:"auto",quality:"auto",mipmap:!1,flipY:!1,toolFlags:""}},encodeURLtoURL:function Co(Gn,Hn,Ir){return wo.apply(this,arguments)},encode(){throw new Error("Not implemented")}};function Po(){return Po=r(function*(Gn,Hn={}){const{useSRGB:Ir=!1,qualityLevel:ri=10,encodeUASTC:si=!1,mipmaps:Xr=!1}=Hn?.["ktx2-basis-writer"]||{},{BasisEncoder:ki}=yield ae(Hn),Ji=new ki;try{const po=new Uint8Array(Gn.width*Gn.height*4);Ji.setCreateKTX2File(!0),Ji.setKTX2UASTCSupercompression(!0),Ji.setKTX2SRGBTransferFunc(!0),Ji.setSliceSourceImage(0,Gn.data,Gn.width,Gn.height,!1),Ji.setPerceptual(Ir),Ji.setMipSRGB(Ir),Ji.setQualityLevel(ri),Ji.setUASTC(si),Ji.setMipGen(Xr);const Pi=Ji.encode(po);return po.subarray(0,Pi).buffer}catch(po){throw console.error("Basis Universal Supercompressed GPU Texture encoder Error: ",po),po}finally{Ji.delete()}}),Po.apply(this,arguments)}var nn={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:z,extensions:["ktx2"],options:{"ktx2-basis-writer":{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}},encode:function xo(Gn){return Po.apply(this,arguments)}},xn=w(28690),sr=w(14315),br=w(28690);function Vr(Gn,Hn,Ir){let ri="function"==typeof Gn?Gn({...Hn,...Ir}):Gn;const si=Hn.baseUrl;return si&&(ri="/"===si[si.length-1]?`${si}${ri}`:`${si}/${ri}`),(0,br.resolvePath)(ri)}var _r=Gn=>Gn&&"object"==typeof Gn;function pe(){return pe=r(function*(Gn,Hn,Ir={}){return yield ht(Gn,Hn,Ir)}),pe.apply(this,arguments)}function ht(Gn,Hn,Ir){return pn.apply(this,arguments)}function pn(){return pn=r(function*(Gn,Hn,Ir){return Array.isArray(Gn)?yield function Dr(Gn,Hn){return ni.apply(this,arguments)}(Gn,Hn,Ir):_r(Gn)?yield function On(Gn,Hn,Ir){return lr.apply(this,arguments)}(Gn,Hn,Ir):yield Hn(Gn,Ir)}),pn.apply(this,arguments)}function lr(){return lr=r(function*(Gn,Hn,Ir){const ri=[],si={};for(const Xr in Gn){const Ji=ht(Gn[Xr],Hn,Ir).then(po=>{si[Xr]=po});ri.push(Ji)}return yield Promise.all(ri),si}),lr.apply(this,arguments)}function ni(){return ni=r(function*(Gn,Hn,Ir={}){const ri=Gn.map(si=>ht(si,Hn,Ir));return yield Promise.all(ri)}),ni.apply(this,arguments)}function Yr(Gn,Hn,Ir){return ui.apply(this,arguments)}function ui(){return ui=r(function*(Gn,Hn,Ir){return yield function jt(Gn,Hn){return pe.apply(this,arguments)}(Gn,ri=>Ri(ri,Hn,Ir))}),ui.apply(this,arguments)}function Ri(Gn,Hn,Ir){return eo.apply(this,arguments)}function eo(){return eo=r(function*(Gn,Hn,Ir){const si=yield(yield fetch(Gn,Ir.fetch)).arrayBuffer();return yield Hn(si,Ir)}),eo.apply(this,arguments)}function Ki(Gn){return Qi.apply(this,arguments)}function Qi(){return Qi=r(function*(Gn,Hn={}){const Ir=yield Yi(Gn,Hn);return yield Yr(Ir,sr.ImageLoader.parse,Hn)}),Qi.apply(this,arguments)}function Yi(Gn,Hn){return qi.apply(this,arguments)}function qi(){return qi=r(function*(Gn,Hn,Ir={}){const ri=Hn&&Hn.image&&Hn.image.mipLevels||0;return 0!==ri?yield function bo(Gn,Hn,Ir,ri){return Bo.apply(this,arguments)}(Gn,ri,Hn,Ir):Vr(Gn,Hn,Ir)}),qi.apply(this,arguments)}function Bo(){return Bo=r(function*(Gn,Hn,Ir,ri){const si=[];if("auto"===Hn){const Xr=Vr(Gn,Ir,{...ri,lod:0}),ki=yield Ri(Xr,sr.ImageLoader.parse,Ir),{width:Ji,height:po}=(0,sr.getImageSize)(ki);Hn=function Gt(Gn){return 1+Math.floor(Math.log2(Math.max(Gn.width,Gn.height)))}({width:Ji,height:po}),si.push(Xr)}(0,xn.assert)(Hn>0);for(let Xr=si.length;Xr<Hn;++Xr){const ki=Vr(Gn,Ir,{...ri,lod:Xr});si.push(ki)}return si}),Bo.apply(this,arguments)}var Se=w(14315);function vt(Gn,Hn){return Xt.apply(this,arguments)}function Xt(){return Xt=r(function*(Gn,Hn,Ir={}){const ri=yield function Cn(Gn,Hn){return tr.apply(this,arguments)}(Gn,Hn,Ir);return yield Yr(ri,Se.ImageLoader.parse,Ir)}),Xt.apply(this,arguments)}function tr(){return tr=r(function*(Gn,Hn,Ir={}){const ri=[];for(let si=0;si<Gn;si++){const Xr=Yi(Hn,Ir,{index:si});ri.push(Xr)}return yield Promise.all(ri)}),tr.apply(this,arguments)}var kr=w(14315),da=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function Lo(){return Lo=r(function*(Gn,Hn){const Ir={},ri=[];let si=0;for(let Xr=0;Xr<da.length;++Xr){const ki=da[si],Ji=Yi(Gn,Hn,{...ki,index:si++}).then(po=>{Ir[ki.face]=po});ri.push(Ji)}return yield Promise.all(ri),Ir}),Lo.apply(this,arguments)}function ps(Gn){return Xo.apply(this,arguments)}function Xo(){return Xo=r(function*(Gn,Hn={}){const Ir=yield function Os(Gn,Hn){return Lo.apply(this,arguments)}(Gn,Hn);return yield Yr(Ir,kr.ImageLoader.parse,Hn)}),Xo.apply(this,arguments)}var Ps={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:z,extensions:["ktx2"],worker:!0,options:{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}}},13827:(bn,be,w)=>{"use strict";var Lt,r=w(31049).default,m=w(57909).default,g=Object.create,C=Object.defineProperty,D=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,U=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,B=(Lt,Dn,Pn,Sn)=>{if(Dn&&"object"==typeof Dn||"function"==typeof Dn)for(let Tn of h(Dn))!F.call(Lt,Tn)&&Tn!==Pn&&C(Lt,Tn,{get:()=>Dn[Tn],enumerable:!(Sn=D(Dn,Tn))||Sn.enumerable});return Lt},A=(Lt,Dn,Pn)=>(Pn=null!=Lt?g(U(Lt)):{},B(!Dn&&Lt&&Lt.__esModule?Pn:C(Pn,"default",{value:Lt,enumerable:!0}),Lt)),J={};((Lt,Dn)=>{for(var Pn in Dn)C(Lt,Pn,{get:Dn[Pn],enumerable:!0})})(J,{AsyncQueue:()=>Ee,ChildProcessProxy:()=>Qt,NullWorker:()=>jn,WorkerBody:()=>G,WorkerFarm:()=>te,WorkerJob:()=>gt,WorkerPool:()=>Ce,WorkerThread:()=>je,assert:()=>Q,canProcessOnWorker:()=>V,createWorker:()=>Jt,getLibraryUrl:()=>ct,getTransferList:()=>st,getTransferListForWriter:()=>wt,getWorkerURL:()=>f,isBrowser:()=>ge,isWorker:()=>K,loadLibrary:()=>lt,processOnWorker:()=>x,validateWorkerVersion:()=>it}),bn.exports=(Lt=J,B(C({},"__esModule",{value:!0}),Lt));var ce="latest",se=function W(){var Lt;return null!=(Lt=globalThis._loadersgl_)&&Lt.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.1"),globalThis._loadersgl_.version}();function Q(Lt,Dn){if(!Lt)throw new Error(Dn||"loaders.gl assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;var ge="object"!=typeof process||"[object process]"!==String(process)||process.browser,K="function"==typeof importScripts,Ne=typeof window<"u"&&typeof window.orientation<"u",Ve=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),gt=(Ve&&parseFloat(Ve[1]),class{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(Lt,Dn){this.name=Lt,this.workerThread=Dn,this.result=new Promise((Pn,Sn)=>{this._resolve=Pn,this._reject=Sn})}postMessage(Lt,Dn){this.workerThread.postMessage({source:"loaders.gl",type:Lt,payload:Dn})}done(Lt){Q(this.isRunning),this.isRunning=!1,this._resolve(Lt)}error(Lt){Q(this.isRunning),this.isRunning=!1,this._reject(Lt)}}),_t=class{terminate(){}},zt=null,Rn=new Map;function He(Lt){const Dn=new Blob([Lt],{type:"application/javascript"});return URL.createObjectURL(Dn)}function st(Lt,Dn=!0,Pn){const Sn=Pn||new Set;if(Lt)if(ft(Lt))Sn.add(Lt);else if(ft(Lt.buffer))Sn.add(Lt.buffer);else if(!ArrayBuffer.isView(Lt)&&Dn&&"object"==typeof Lt)for(const Tn in Lt)st(Lt[Tn],Dn,Sn);return void 0===Pn?Array.from(Sn):[]}function ft(Lt){return!!Lt&&(Lt instanceof ArrayBuffer||typeof MessagePort<"u"&&Lt instanceof MessagePort||typeof ImageBitmap<"u"&&Lt instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&Lt instanceof OffscreenCanvas)}function wt(Lt){if(null===Lt)return{};const Dn=Object.assign({},Lt);return Object.keys(Dn).forEach(Pn=>{Dn[Pn]="object"!=typeof Lt[Pn]||ArrayBuffer.isView(Lt[Pn])||Lt[Pn]instanceof Array?"function"==typeof Dn[Pn]||Dn[Pn]instanceof RegExp?{}:Lt[Pn]:wt(Lt[Pn])}),Dn}var kt=()=>{},je=class{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&ge||typeof _t<"u"&&!ge}constructor(Lt){const{name:Dn,source:Pn,url:Sn}=Lt;Q(Pn||Sn),this.name=Dn,this.source=Pn,this.url=Sn,this.onMessage=kt,this.onError=Tn=>console.log(Tn),this.worker=ge?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=kt,this.onError=kt,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(Lt,Dn){Dn=Dn||st(Lt),this.worker.postMessage(Lt,Dn)}_getErrorFromErrorEvent(Lt){let Dn="Failed to load ";return Dn+=`worker ${this.name} from ${this.url}. `,Lt.message&&(Dn+=`${Lt.message} in `),Lt.lineno&&(Dn+=`:${Lt.lineno}:${Lt.colno}`),new Error(Dn)}_createBrowserWorker(){this._loadableURL=function Oe(Lt){Q(Lt.source&&!Lt.url||!Lt.source&&Lt.url);let Dn=Rn.get(Lt.source||Lt.url);return Dn||(Lt.url&&(Dn=function De(Lt){if(!Lt.startsWith("http"))return Lt;const Dn=function We(Lt){return`try {\n  importScripts('${Lt}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`}(Lt);return He(Dn)}(Lt.url),Rn.set(Lt.url,Dn)),Lt.source&&(Dn=He(Lt.source),Rn.set(Lt.source,Dn))),Q(Dn),Dn}({source:this.source,url:this.url});const Lt=new Worker(this._loadableURL,{name:this.name});return Lt.onmessage=Dn=>{Dn.data?this.onMessage(Dn.data):this.onError(new Error("No data received"))},Lt.onerror=Dn=>{this.onError(this._getErrorFromErrorEvent(Dn)),this.terminated=!0},Lt.onmessageerror=Dn=>console.error(Dn),Lt}_createNodeWorker(){let Lt;if(this.url){const Pn=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;Lt=new _t(Pn,{eval:!1})}else{if(!this.source)throw new Error("no worker");Lt=new _t(this.source,{eval:!0})}return Lt.on("message",Dn=>{this.onMessage(Dn)}),Lt.on("error",Dn=>{this.onError(Dn)}),Lt.on("exit",Dn=>{}),Lt}},Ce=class{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return je.isSupported()}constructor(Lt){this.source=Lt.source,this.url=Lt.url,this.setProps(Lt)}destroy(){this.idleQueue.forEach(Lt=>Lt.destroy()),this.isDestroyed=!0}setProps(Lt){this.props={...this.props,...Lt},void 0!==Lt.name&&(this.name=Lt.name),void 0!==Lt.maxConcurrency&&(this.maxConcurrency=Lt.maxConcurrency),void 0!==Lt.maxMobileConcurrency&&(this.maxMobileConcurrency=Lt.maxMobileConcurrency),void 0!==Lt.reuseWorkers&&(this.reuseWorkers=Lt.reuseWorkers),void 0!==Lt.onDebug&&(this.onDebug=Lt.onDebug)}startJob(Lt,Dn=(Sn,Tn,dn)=>Sn.done(dn),Pn=(Sn,Tn)=>Sn.error(Tn)){var Sn=this;return r(function*(){const Tn=new Promise(dn=>(Sn.jobQueue.push({name:Lt,onMessage:Dn,onError:Pn,onStart:dn}),Sn));return Sn._startQueuedJob(),yield Tn})()}_startQueuedJob(){var Lt=this;return r(function*(){if(!Lt.jobQueue.length)return;const Dn=Lt._getAvailableWorker();if(!Dn)return;const Pn=Lt.jobQueue.shift();if(Pn){Lt.onDebug({message:"Starting job",name:Pn.name,workerThread:Dn,backlog:Lt.jobQueue.length});const Sn=new gt(Pn.name,Dn);Dn.onMessage=Tn=>Pn.onMessage(Sn,Tn.type,Tn.payload),Dn.onError=Tn=>Pn.onError(Sn,Tn),Pn.onStart(Sn);try{yield Sn.result}catch(Tn){console.error(`Worker exception: ${Tn}`)}finally{Lt.returnWorkerToQueue(Dn)}}})()}returnWorkerToQueue(Lt){!ge||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Lt.destroy(),this.count--):this.idleQueue.push(Lt),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Lt=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new je({name:Lt,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Ne?this.maxMobileConcurrency:this.maxConcurrency}},ne={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Re=class{props;workerPools=new Map;static isSupported(){return je.isSupported()}static getWorkerFarm(Lt={}){return Re._workerFarm=Re._workerFarm||new Re({}),Re._workerFarm.setProps(Lt),Re._workerFarm}constructor(Lt){this.props={...ne},this.setProps(Lt),this.workerPools=new Map}destroy(){for(const Lt of this.workerPools.values())Lt.destroy();this.workerPools=new Map}setProps(Lt){this.props={...this.props,...Lt};for(const Dn of this.workerPools.values())Dn.setProps(this._getWorkerPoolProps())}getWorkerPool(Lt){const{name:Dn,source:Pn,url:Sn}=Lt;let Tn=this.workerPools.get(Dn);return Tn||(Tn=new Ce({name:Dn,source:Pn,url:Sn}),Tn.setProps(this._getWorkerPoolProps()),this.workerPools.set(Dn,Tn)),Tn}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}},te=Re;function y(){return M.apply(this,arguments)}function M(){return(M=r(function*(){return zt})).apply(this,arguments)}(Lt=>{((Lt,Dn,Pn)=>{"_workerFarm"in Lt?C(Lt,"_workerFarm",{enumerable:!0,configurable:!0,writable:!0,value:Pn}):Lt._workerFarm=Pn})(Lt,0,void 0)})(te);var Y=new Map,G=class{static inWorkerThread(){return r(function*(){return typeof self<"u"||!!(yield y())})()}static set onmessage(Lt){function Dn(Sn){return Pn.apply(this,arguments)}function Pn(){return(Pn=r(function*(Sn){const Tn=yield y(),{type:dn,payload:Bn}=Tn?Sn:Sn.data;Lt(dn,Bn)})).apply(this,arguments)}y().then(Sn=>{Sn?(Sn.on("message",Tn=>{Dn(Tn)}),Sn.on("exit",()=>console.debug("Node worker closing"))):globalThis.onmessage=Dn})}static addEventListener(Lt){return r(function*(){let Dn=Y.get(Lt);Dn||(Dn=function(){var Sn=r(function*(Tn){if(!function _e(Lt){const{type:Dn,data:Pn}=Lt;return"message"===Dn&&Pn&&"string"==typeof Pn.source&&Pn.source.startsWith("loaders.gl")}(Tn))return;const dn=yield y(),{type:Bn,payload:Ct}=dn?Tn:Tn.data;Lt(Bn,Ct)});return function(dn){return Sn.apply(this,arguments)}}()),(yield y())?console.error("not implemented"):globalThis.addEventListener("message",Dn)})()}static removeEventListener(Lt){return r(function*(){const Dn=Y.get(Lt);Y.delete(Lt),(yield y())?console.error("not implemented"):globalThis.removeEventListener("message",Dn)})()}static postMessage(Lt,Dn){return r(function*(){const Pn={source:"loaders.gl",type:Lt,payload:Dn},Sn=st(Dn),Tn=yield y();Tn?Tn.postMessage(Pn,Sn):globalThis.postMessage(Pn,Sn)})()}};function f(Lt,Dn={}){const Sn=ge?`${Lt.id}-worker.js`:`${Lt.id}-worker-node.js`;let Tn=(Dn[Lt.id]||{}).workerUrl;if(!Tn&&"compression"===Lt.id&&(Tn=Dn.workerUrl),"test"===Dn._workerType&&(Tn=ge?`modules/${Lt.module}/dist/${Sn}`:`modules/${Lt.module}/src/workers/${Lt.id}-worker-node.ts`),!Tn){let dn=Lt.version;"latest"===dn&&(dn=ce),Tn=`https://unpkg.com/@loaders.gl/${Lt.module}${dn?`@${dn}`:""}/dist/${Sn}`}return Q(Tn),Tn}function V(Lt,Dn){return!!te.isSupported()&&Lt.worker&&Dn?.worker}function x(Lt,Dn){return ye.apply(this,arguments)}function ye(){return ye=r(function*(Lt,Dn,Pn={},Sn={}){const Tn=function Z(Lt){return`${Lt.name}@${Lt.version}${Lt.version!==se?` (worker-utils@${se})`:""}`}(Lt),dn=te.getWorkerFarm(Pn),{source:Bn}=Pn,Ct={name:Tn,source:Bn};Bn||(Ct.url=f(Lt,Pn));const me=dn.getWorkerPool(Ct),ue=Pn.jobName||Lt.name,Ue=yield me.startJob(ue,Te.bind(null,Sn)),bt=wt(Pn);return Ue.postMessage("process",{input:Dn,options:bt}),(yield Ue.result).result}),ye.apply(this,arguments)}function Te(Lt,Dn,Pn,Sn){return ke.apply(this,arguments)}function ke(){return ke=r(function*(Lt,Dn,Pn,Sn){switch(Pn){case"done":Dn.done(Sn);break;case"error":Dn.error(new Error(Sn.error));break;case"process":const{id:Tn,input:dn,options:Bn}=Sn;try{if(!Lt.process)return void Dn.postMessage("error",{id:Tn,error:"Worker not set up to process on main thread"});const Ct=yield Lt.process(dn,Bn);Dn.postMessage("done",{id:Tn,result:Ct})}catch(Ct){const me=Ct instanceof Error?Ct.message:"unknown error";Dn.postMessage("error",{id:Tn,error:me})}break;default:console.warn(`process-on-worker: unknown message ${Pn}`)}}),ke.apply(this,arguments)}var at,Ee=class{_values;_settlers;_closed;constructor(){this._values=[],this._settlers=[],this._closed=!1}[Symbol.asyncIterator](){return this}push(Lt){return this.enqueue(Lt)}enqueue(Lt){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Dn=this._settlers.shift();Lt instanceof Error?Dn.reject(Lt):Dn.resolve({value:Lt})}else this._values.push(Lt)}close(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}next(){if(this._values.length>0){const Lt=this._values.shift();return Lt instanceof Error?Promise.reject(Lt):Promise.resolve({done:!1,value:Lt})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((Lt,Dn)=>{this._settlers.push({resolve:Lt,reject:Dn})})}},nt=0;function Jt(Lt,Dn){return Qe.apply(this,arguments)}function Qe(){return Qe=r(function*(Lt,Dn){if(!(yield G.inWorkerThread()))return;const Pn={process:Ft};G.onmessage=function(){var Sn=r(function*(Tn,dn){try{switch(Tn){case"process":if(!Lt)throw new Error("Worker does not support atomic processing");const bt=yield Lt(dn.input,dn.options||{},Pn);G.postMessage("done",{result:bt});break;case"process-in-batches":if(!Dn)throw new Error("Worker does not support batched processing");at=new Ee;const Ht=Dn(at,dn.options||{},Pn);var me,Bn=!1,Ct=!1;try{for(var Ue,ue=m(Ht);Bn=!(Ue=yield ue.next()).done;Bn=!1)G.postMessage("output-batch",{result:Ue.value})}catch(fn){Ct=!0,me=fn}finally{try{Bn&&null!=ue.return&&(yield ue.return())}finally{if(Ct)throw me}}G.postMessage("done",{});break;case"input-batch":at.push(dn.input);break;case"input-done":at.close()}}catch(bt){const Ht=bt instanceof Error?bt.message:"";G.postMessage("error",{error:Ht})}});return function(Tn,dn){return Sn.apply(this,arguments)}}()}),Qe.apply(this,arguments)}function Ft(Lt,Dn={}){return new Promise((Pn,Sn)=>{const Tn=nt++,dn=(Ct,me)=>{if(me.id===Tn)switch(Ct){case"done":G.removeEventListener(dn),Pn(me.result);break;case"error":G.removeEventListener(dn),Sn(me.error)}};G.addEventListener(dn),G.postMessage("process",{id:Tn,input:Lt,options:Dn})})}function it(Lt,Dn=se){return Q(Lt,"no worker provided"),!(!Dn||!Lt.version)}var Mt={};function lt(Lt){return Bt.apply(this,arguments)}function Bt(){return Bt=r(function*(Lt,Dn=null,Pn={},Sn=null){return Dn&&(Lt=ct(Lt,Dn,Pn,Sn)),Mt[Lt]=Mt[Lt]||function Tt(Lt){return rt.apply(this,arguments)}(Lt),yield Mt[Lt]}),Bt.apply(this,arguments)}function ct(Lt,Dn,Pn={},Sn=null){if(!Pn.useLocalLibraries&&Lt.startsWith("http"))return Lt;const Tn=Pn.modules||{};return Tn[Sn=Sn||Lt]?Tn[Sn]:ge?Pn.CDN?(Q(Pn.CDN.startsWith("http")),`${Pn.CDN}/${Dn}@${se}/dist/libs/${Sn}`):K?`../src/libs/${Sn}`:`modules/${Dn}/src/libs/${Sn}`:`modules/${Dn}/dist/libs/${Sn}`}function rt(){return rt=r(function*(Lt){if(Lt.endsWith("wasm"))return yield function vn(Lt){return In.apply(this,arguments)}(Lt);if(!ge)try{const{requireFromFile:Pn}=globalThis.loaders||{};return yield Pn?.(Lt)}catch(Pn){return console.error(Pn),null}if(K)return importScripts(Lt);const Dn=yield function Un(Lt){return Jn.apply(this,arguments)}(Lt);return function Et(Lt,Dn){if(!ge){const{requireFromString:Sn}=globalThis.loaders||{};return Sn?.(Lt,Dn)}if(K)return eval.call(globalThis,Lt),null;const Pn=document.createElement("script");Pn.id=Dn;try{Pn.appendChild(document.createTextNode(Lt))}catch{Pn.text=Lt}return document.body.appendChild(Pn),null}(Dn,Lt)}),rt.apply(this,arguments)}function In(){return In=r(function*(Lt){const{readFileAsArrayBuffer:Dn}=globalThis.loaders||{};return ge||!Dn||Lt.startsWith("http")?yield(yield fetch(Lt)).arrayBuffer():yield Dn(Lt)}),In.apply(this,arguments)}function Jn(){return Jn=r(function*(Lt){const{readFileAsText:Dn}=globalThis.loaders||{};return ge||!Dn||Lt.startsWith("http")?yield(yield fetch(Lt)).text():yield Dn(Lt)}),Jn.apply(this,arguments)}var Cr=A(w(95904),1),wn=A(w(95904),1),Yt={command:"",arguments:[],port:5e3,autoPort:!0,wait:2e3,onSuccess:Lt=>{console.log(`Started ${Lt.props.command}`)}},Qt=class{id;props={...Yt};childProcess=null;port=0;successTimer;constructor({id:Lt="browser-driver"}={}){this.id=Lt}start(Lt){var Dn=this;return r(function*(){Lt={...Yt,...Lt},Dn.props=Lt;const Pn=[...Lt.arguments];return Dn.port=Number(Lt.port),Lt.portArg&&(Lt.autoPort&&(Dn.port=yield function cn(Lt=3e3){return new Promise(Dn=>{wn.default.exec("lsof -i -P -n | grep LISTEN",(Pn,Sn)=>{if(Pn)return void Dn(Lt);const Tn=[],dn=/:(\d+) \(LISTEN\)/;Sn.split("\n").forEach(Ct=>{const me=dn.exec(Ct);me&&Tn.push(Number(me[1]))});let Bn=Lt;for(;Tn.includes(Bn);)Bn++;Dn(Bn)})})}(Lt.port)),Pn.push(Lt.portArg,String(Dn.port))),yield new Promise((Sn,Tn)=>{try{Dn._setTimeout(()=>{Lt.onSuccess&&Lt.onSuccess(Dn),Sn({})}),console.log(`Spawning ${Lt.command} ${Lt.arguments.join(" ")}`);const dn=Cr.spawn(Lt.command,Pn,Lt.spawn);Dn.childProcess=dn,dn.stdout.on("data",Bn=>{console.log(Bn.toString())}),dn.stderr.on("data",Bn=>{console.log(`Child process wrote to stderr: "${Bn}".`),Lt.ignoreStderr||(Dn._clearTimeout(),Tn(new Error(Bn)))}),dn.on("error",Bn=>{console.log(`Child process errored with ${Bn}`),Dn._clearTimeout(),Tn(Bn)}),dn.on("close",Bn=>{console.log(`Child process exited with ${Bn}`),Dn.childProcess=null,Dn._clearTimeout(),Sn({})})}catch(dn){Tn(dn)}})})()}stop(){var Lt=this;return r(function*(){Lt.childProcess&&(Lt.childProcess.kill(),Lt.childProcess=null)})()}exit(Lt=0){var Dn=this;return r(function*(){try{yield Dn.stop(),process.exit(Lt)}catch(Pn){console.error(Pn.message||Pn),process.exit(1)}})()}_setTimeout(Lt){Number(this.props.wait)>0&&(this.successTimer=setTimeout(Lt,this.props.wait))}_clearTimeout(){this.successTimer&&clearTimeout(this.successTimer)}},jn={id:"null",name:"null",module:"worker-utils",version:se,options:{null:{}}}},87974:bn=>{var i,be=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,m=Object.prototype.hasOwnProperty,g=(i,p)=>{for(var ee in p)be(i,ee,{get:p[ee],enumerable:!0})},h={};g(h,{Euler:()=>js,Matrix3:()=>un,Matrix4:()=>Ns,Pose:()=>Ia,Quaternion:()=>Nr,SphericalCoordinates:()=>Uo,Vector2:()=>bt,Vector3:()=>Lo,Vector4:()=>Xo,_Euler:()=>js,_MathUtils:()=>ul,_Pose:()=>Ia,_SphericalCoordinates:()=>Uo,acos:()=>q,asin:()=>Me,assert:()=>We,atan:()=>$,clamp:()=>ge,clone:()=>b,config:()=>z,configure:()=>B,cos:()=>Ie,degrees:()=>se,equals:()=>Ne,exactEquals:()=>Ve,formatValue:()=>A,isArray:()=>T,lerp:()=>K,mat3:()=>Gn,mat4:()=>Pr,quat:()=>_c,radians:()=>W,sin:()=>Q,tan:()=>ae,toDegrees:()=>ce,toRadians:()=>J,vec2:()=>ft,vec3:()=>Ht,vec4:()=>Ei,withEpsilon:()=>Ge}),bn.exports=(i=h,((i,p,ee,ze)=>{if(p&&"object"==typeof p||"function"==typeof p)for(let ut of r(p))!m.call(i,ut)&&undefined!==ut&&be(i,ut,{get:()=>p[ut],enumerable:!(ze=w(p,ut))||ze.enumerable});return i})(be({},"__esModule",{value:!0}),i));var U=1/Math.PI*180,F=1/180*Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};var z=globalThis.mathgl.config;function B(i){return Object.assign(z,i),z}function A(i,{precision:p=z.precision}={}){return i=function gt(i){return Math.round(i/z.EPSILON)*z.EPSILON}(i),`${parseFloat(i.toPrecision(p))}`}function T(i){return Array.isArray(i)||ArrayBuffer.isView(i)&&!(i instanceof DataView)}function b(i){return"clone"in i?i.clone():i.slice()}function J(i){return W(i)}function ce(i){return se(i)}function W(i,p){return zt(i,ee=>ee*F,p)}function se(i,p){return zt(i,ee=>ee*U,p)}function Q(i,p){return zt(i,ee=>Math.sin(ee),p)}function Ie(i,p){return zt(i,ee=>Math.cos(ee),p)}function ae(i,p){return zt(i,ee=>Math.tan(ee),p)}function Me(i,p){return zt(i,ee=>Math.asin(ee),p)}function q(i,p){return zt(i,ee=>Math.acos(ee),p)}function $(i,p){return zt(i,ee=>Math.atan(ee),p)}function ge(i,p,ee){return zt(i,ze=>Math.max(p,Math.min(ee,ze)))}function K(i,p,ee){return T(i)?i.map((ze,ut)=>K(ze,p[ut],ee)):ee*p+(1-ee)*i}function Ne(i,p,ee){const ze=z.EPSILON;ee&&(z.EPSILON=ee);try{if(i===p)return!0;if(T(i)&&T(p)){if(i.length!==p.length)return!1;for(let ut=0;ut<i.length;++ut)if(!Ne(i[ut],p[ut]))return!1;return!0}return i&&i.equals?i.equals(p):p&&p.equals?p.equals(i):"number"==typeof i&&"number"==typeof p&&Math.abs(i-p)<=z.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))}finally{z.EPSILON=ze}}function Ve(i,p){if(i===p)return!0;if(i&&"object"==typeof i&&p&&"object"==typeof p){if(i.constructor!==p.constructor)return!1;if(i.exactEquals)return i.exactEquals(p)}if(T(i)&&T(p)){if(i.length!==p.length)return!1;for(let ee=0;ee<i.length;++ee)if(!Ve(i[ee],p[ee]))return!1;return!0}return!1}function Ge(i,p){const ee=z.EPSILON;let ze;z.EPSILON=i;try{ze=p()}finally{z.EPSILON=ee}return ze}function zt(i,p,ee){if(T(i)){const ze=i;ee=ee||function _t(i){return i.clone?i.clone():new Array(i.length)}(ze);for(let ut=0;ut<ee.length&&ut<ze.length;++ut)ee[ut]=p("number"==typeof i?i:i[ut],ut,ee);return ee}return p(i)}var Rn=class extends Array{clone(){return(new this.constructor).copy(this)}fromArray(i,p=0){for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]=i[ee+p];return this.check()}toArray(i=[],p=0){for(let ee=0;ee<this.ELEMENTS;++ee)i[p+ee]=this[ee];return i}toObject(i){return i}from(i){return Array.isArray(i)?this.copy(i):this.fromObject(i)}to(i){return i===this?this:T(i)?this.toArray(i):this.toObject(i)}toTarget(i){return i?this.to(i):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(z)}formatString(i){let p="";for(let ee=0;ee<this.ELEMENTS;++ee)p+=(ee>0?", ":"")+A(this[ee],i);return`${i.printTypes?this.constructor.name:""}[${p}]`}equals(i){if(!i||this.length!==i.length)return!1;for(let p=0;p<this.ELEMENTS;++p)if(!Ne(this[p],i[p]))return!1;return!0}exactEquals(i){if(!i||this.length!==i.length)return!1;for(let p=0;p<this.ELEMENTS;++p)if(this[p]!==i[p])return!1;return!0}negate(){for(let i=0;i<this.ELEMENTS;++i)this[i]=-this[i];return this.check()}lerp(i,p,ee){if(void 0===ee)return this.lerp(this,i,p);for(let ze=0;ze<this.ELEMENTS;++ze){const ut=i[ze];this[ze]=ut+ee*(("number"==typeof p?p:p[ze])-ut)}return this.check()}min(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=Math.min(i[p],this[p]);return this.check()}max(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=Math.max(i[p],this[p]);return this.check()}clamp(i,p){for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]=Math.min(Math.max(this[ee],i[ee]),p[ee]);return this.check()}add(...i){for(const p of i)for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]+=p[ee];return this.check()}subtract(...i){for(const p of i)for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]-=p[ee];return this.check()}scale(i){if("number"==typeof i)for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;else for(let p=0;p<this.ELEMENTS&&p<i.length;++p)this[p]*=i[p];return this.check()}multiplyByScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;return this.check()}check(){if(z.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let i=this.length===this.ELEMENTS;for(let p=0;p<this.ELEMENTS;++p)i=i&&Number.isFinite(this[p]);return i}sub(i){return this.subtract(i)}setScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=i;return this.check()}addScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]+=i;return this.check()}subScalar(i){return this.addScalar(-i)}multiplyScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;return this.check()}divideScalar(i){return this.multiplyByScalar(1/i)}clampScalar(i,p){for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]=Math.min(Math.max(this[ee],i),p);return this.check()}get elements(){return this}};function De(i){if(!Number.isFinite(i))throw new Error(`Invalid number ${JSON.stringify(i)}`);return i}function He(i,p,ee=""){if(z.debug&&!function Oe(i,p){if(i.length!==p)return!1;for(let ee=0;ee<i.length;++ee)if(!Number.isFinite(i[ee]))return!1;return!0}(i,p))throw new Error(`math.gl: ${ee} some fields set to invalid numbers'`);return i}function We(i,p){if(!i)throw new Error(`math.gl assertion ${p}`)}var st=class extends Rn{get x(){return this[0]}set x(i){this[0]=De(i)}get y(){return this[1]}set y(i){this[1]=De(i)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let i=0;for(let p=0;p<this.ELEMENTS;++p)i+=this[p]*this[p];return i}magnitudeSquared(){return this.lengthSquared()}distance(i){return Math.sqrt(this.distanceSquared(i))}distanceSquared(i){let p=0;for(let ee=0;ee<this.ELEMENTS;++ee){const ze=this[ee]-i[ee];p+=ze*ze}return De(p)}dot(i){let p=0;for(let ee=0;ee<this.ELEMENTS;++ee)p+=this[ee]*i[ee];return De(p)}normalize(){const i=this.magnitude();if(0!==i)for(let p=0;p<this.ELEMENTS;++p)this[p]/=i;return this.check()}multiply(...i){for(const p of i)for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]*=p[ee];return this.check()}divide(...i){for(const p of i)for(let ee=0;ee<this.ELEMENTS;++ee)this[ee]/=p[ee];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(i){return this.distance(i)}distanceToSquared(i){return this.distanceSquared(i)}getComponent(i){return We(i>=0&&i<this.ELEMENTS,"index is out of range"),De(this[i])}setComponent(i,p){return We(i>=0&&i<this.ELEMENTS,"index is out of range"),this[i]=p,this.check()}addVectors(i,p){return this.copy(i).add(p)}subVectors(i,p){return this.copy(i).subtract(p)}multiplyVectors(i,p){return this.copy(i).multiply(p)}addScaledVector(i,p){return this.add(new this.constructor(i).multiplyScalar(p))}},ft={};g(ft,{add:()=>G,angle:()=>Jn,ceil:()=>V,clone:()=>te,copy:()=>M,create:()=>Re,cross:()=>Bt,dist:()=>Pn,distance:()=>at,div:()=>Dn,divide:()=>f,dot:()=>lt,equals:()=>Yt,exactEquals:()=>cn,floor:()=>x,forEach:()=>dn,fromValues:()=>y,inverse:()=>it,len:()=>Qt,length:()=>Jt,lerp:()=>ct,max:()=>Te,min:()=>ye,mul:()=>Lt,multiply:()=>Z,negate:()=>Ft,normalize:()=>Mt,random:()=>Tt,rotate:()=>Un,round:()=>ke,scale:()=>Ee,scaleAndAdd:()=>nt,set:()=>Y,sqrDist:()=>Sn,sqrLen:()=>Tn,squaredDistance:()=>yt,squaredLength:()=>Qe,str:()=>wn,sub:()=>jn,subtract:()=>_e,transformMat2:()=>rt,transformMat2d:()=>Et,transformMat3:()=>vn,transformMat4:()=>In,zero:()=>Cr});var wt=1e-6,kt=typeof Float32Array<"u"?Float32Array:Array,je=Math.random;function Ce(i){return i>=0?Math.round(i):i%.5==0?Math.floor(i):Math.round(i)}function Re(){const i=new kt(2);return kt!=Float32Array&&(i[0]=0,i[1]=0),i}function te(i){const p=new kt(2);return p[0]=i[0],p[1]=i[1],p}function y(i,p){const ee=new kt(2);return ee[0]=i,ee[1]=p,ee}function M(i,p){return i[0]=p[0],i[1]=p[1],i}function Y(i,p,ee){return i[0]=p,i[1]=ee,i}function G(i,p,ee){return i[0]=p[0]+ee[0],i[1]=p[1]+ee[1],i}function _e(i,p,ee){return i[0]=p[0]-ee[0],i[1]=p[1]-ee[1],i}function Z(i,p,ee){return i[0]=p[0]*ee[0],i[1]=p[1]*ee[1],i}function f(i,p,ee){return i[0]=p[0]/ee[0],i[1]=p[1]/ee[1],i}function V(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i}function x(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i}function ye(i,p,ee){return i[0]=Math.min(p[0],ee[0]),i[1]=Math.min(p[1],ee[1]),i}function Te(i,p,ee){return i[0]=Math.max(p[0],ee[0]),i[1]=Math.max(p[1],ee[1]),i}function ke(i,p){return i[0]=Ce(p[0]),i[1]=Ce(p[1]),i}function Ee(i,p,ee){return i[0]=p[0]*ee,i[1]=p[1]*ee,i}function nt(i,p,ee,ze){return i[0]=p[0]+ee[0]*ze,i[1]=p[1]+ee[1]*ze,i}function at(i,p){const ee=p[0]-i[0],ze=p[1]-i[1];return Math.sqrt(ee*ee+ze*ze)}function yt(i,p){const ee=p[0]-i[0],ze=p[1]-i[1];return ee*ee+ze*ze}function Jt(i){const p=i[0],ee=i[1];return Math.sqrt(p*p+ee*ee)}function Qe(i){const p=i[0],ee=i[1];return p*p+ee*ee}function Ft(i,p){return i[0]=-p[0],i[1]=-p[1],i}function it(i,p){return i[0]=1/p[0],i[1]=1/p[1],i}function Mt(i,p){const ee=p[0],ze=p[1];let ut=ee*ee+ze*ze;return ut>0&&(ut=1/Math.sqrt(ut)),i[0]=p[0]*ut,i[1]=p[1]*ut,i}function lt(i,p){return i[0]*p[0]+i[1]*p[1]}function Bt(i,p,ee){const ze=p[0]*ee[1]-p[1]*ee[0];return i[0]=i[1]=0,i[2]=ze,i}function ct(i,p,ee,ze){const ut=p[0],Ut=p[1];return i[0]=ut+ze*(ee[0]-ut),i[1]=Ut+ze*(ee[1]-Ut),i}function Tt(i,p){p=void 0===p?1:p;const ee=2*je()*Math.PI;return i[0]=Math.cos(ee)*p,i[1]=Math.sin(ee)*p,i}function rt(i,p,ee){const ze=p[0],ut=p[1];return i[0]=ee[0]*ze+ee[2]*ut,i[1]=ee[1]*ze+ee[3]*ut,i}function Et(i,p,ee){const ze=p[0],ut=p[1];return i[0]=ee[0]*ze+ee[2]*ut+ee[4],i[1]=ee[1]*ze+ee[3]*ut+ee[5],i}function vn(i,p,ee){const ze=p[0],ut=p[1];return i[0]=ee[0]*ze+ee[3]*ut+ee[6],i[1]=ee[1]*ze+ee[4]*ut+ee[7],i}function In(i,p,ee){const ze=p[0],ut=p[1];return i[0]=ee[0]*ze+ee[4]*ut+ee[12],i[1]=ee[1]*ze+ee[5]*ut+ee[13],i}function Un(i,p,ee,ze){const ut=p[0]-ee[0],Ut=p[1]-ee[1],tn=Math.sin(ze),en=Math.cos(ze);return i[0]=ut*en-Ut*tn+ee[0],i[1]=ut*tn+Ut*en+ee[1],i}function Jn(i,p){const ee=i[0],ze=i[1],ut=p[0],Ut=p[1],tn=Math.sqrt((ee*ee+ze*ze)*(ut*ut+Ut*Ut));return Math.acos(Math.min(Math.max(tn&&(ee*ut+ze*Ut)/tn,-1),1))}function Cr(i){return i[0]=0,i[1]=0,i}function wn(i){return`vec2(${i[0]}, ${i[1]})`}function cn(i,p){return i[0]===p[0]&&i[1]===p[1]}function Yt(i,p){const ee=i[0],ze=i[1],ut=p[0],Ut=p[1];return Math.abs(ee-ut)<=wt*Math.max(1,Math.abs(ee),Math.abs(ut))&&Math.abs(ze-Ut)<=wt*Math.max(1,Math.abs(ze),Math.abs(Ut))}Math;var Qt=Jt,jn=_e,Lt=Z,Dn=f,Pn=at,Sn=yt,Tn=Qe,dn=function(){const i=Re();return function(p,ee,ze,ut,Ut,tn){let en,kn;for(ee||(ee=2),ze||(ze=0),kn=ut?Math.min(ut*ee+ze,p.length):p.length,en=ze;en<kn;en+=ee)i[0]=p[en],i[1]=p[en+1],Ut(i,i,tn),p[en]=i[0],p[en+1]=i[1];return p}}();function Bn(i,p,ee){const ze=p[0],ut=p[1],Ut=ee[3]*ze+ee[7]*ut||1;return i[0]=(ee[0]*ze+ee[4]*ut)/Ut,i[1]=(ee[1]*ze+ee[5]*ut)/Ut,i}function Ct(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=ee[3]*ze+ee[7]*ut+ee[11]*Ut||1;return i[0]=(ee[0]*ze+ee[4]*ut+ee[8]*Ut)/tn,i[1]=(ee[1]*ze+ee[5]*ut+ee[9]*Ut)/tn,i[2]=(ee[2]*ze+ee[6]*ut+ee[10]*Ut)/tn,i}function Ue(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2];return i[0]=ee[0]*ze+ee[3]*ut+ee[6]*Ut,i[1]=ee[1]*ze+ee[4]*ut+ee[7]*Ut,i[2]=ee[2]*ze+ee[5]*ut+ee[8]*Ut,i[3]=p[3],i}var bt=class extends st{constructor(i=0,p=0){super(2),T(i)&&1===arguments.length?this.copy(i):(z.debug&&(De(i),De(p)),this[0]=i,this[1]=p)}set(i,p){return this[0]=i,this[1]=p,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this.check()}fromObject(i){return z.debug&&(De(i.x),De(i.y)),this[0]=i.x,this[1]=i.y,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return In(this,this,i),this.check()}transformAsVector(i){return Bn(this,this,i),this.check()}transformByMatrix3(i){return vn(this,this,i),this.check()}transformByMatrix2x3(i){return Et(this,this,i),this.check()}transformByMatrix2(i){return rt(this,this,i),this.check()}},Ht={};function fn(){const i=new kt(3);return kt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function cr(i){const p=new kt(3);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p}function Hr(i){const p=i[0],ee=i[1],ze=i[2];return Math.sqrt(p*p+ee*ee+ze*ze)}function ti(i,p,ee){const ze=new kt(3);return ze[0]=i,ze[1]=p,ze[2]=ee,ze}function mi(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i}function li(i,p,ee,ze){return i[0]=p,i[1]=ee,i[2]=ze,i}function Io(i,p,ee){return i[0]=p[0]+ee[0],i[1]=p[1]+ee[1],i[2]=p[2]+ee[2],i}function Co(i,p,ee){return i[0]=p[0]-ee[0],i[1]=p[1]-ee[1],i[2]=p[2]-ee[2],i}function wo(i,p,ee){return i[0]=p[0]*ee[0],i[1]=p[1]*ee[1],i[2]=p[2]*ee[2],i}function So(i,p,ee){return i[0]=p[0]/ee[0],i[1]=p[1]/ee[1],i[2]=p[2]/ee[2],i}function xo(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i[2]=Math.ceil(p[2]),i}function Po(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i[2]=Math.floor(p[2]),i}function nn(i,p,ee){return i[0]=Math.min(p[0],ee[0]),i[1]=Math.min(p[1],ee[1]),i[2]=Math.min(p[2],ee[2]),i}function xn(i,p,ee){return i[0]=Math.max(p[0],ee[0]),i[1]=Math.max(p[1],ee[1]),i[2]=Math.max(p[2],ee[2]),i}function sr(i,p){return i[0]=Ce(p[0]),i[1]=Ce(p[1]),i[2]=Ce(p[2]),i}function br(i,p,ee){return i[0]=p[0]*ee,i[1]=p[1]*ee,i[2]=p[2]*ee,i}function Vr(i,p,ee,ze){return i[0]=p[0]+ee[0]*ze,i[1]=p[1]+ee[1]*ze,i[2]=p[2]+ee[2]*ze,i}function _r(i,p){const ee=p[0]-i[0],ze=p[1]-i[1],ut=p[2]-i[2];return Math.sqrt(ee*ee+ze*ze+ut*ut)}function jt(i,p){const ee=p[0]-i[0],ze=p[1]-i[1],ut=p[2]-i[2];return ee*ee+ze*ze+ut*ut}function pe(i){const p=i[0],ee=i[1],ze=i[2];return p*p+ee*ee+ze*ze}function ht(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i}function pn(i,p){return i[0]=1/p[0],i[1]=1/p[1],i[2]=1/p[2],i}function On(i,p){const ee=p[0],ze=p[1],ut=p[2];let Ut=ee*ee+ze*ze+ut*ut;return Ut>0&&(Ut=1/Math.sqrt(Ut)),i[0]=p[0]*Ut,i[1]=p[1]*Ut,i[2]=p[2]*Ut,i}function lr(i,p){return i[0]*p[0]+i[1]*p[1]+i[2]*p[2]}function Dr(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=ee[0],en=ee[1],kn=ee[2];return i[0]=ut*kn-Ut*en,i[1]=Ut*tn-ze*kn,i[2]=ze*en-ut*tn,i}function ni(i,p,ee,ze){const ut=p[0],Ut=p[1],tn=p[2];return i[0]=ut+ze*(ee[0]-ut),i[1]=Ut+ze*(ee[1]-Ut),i[2]=tn+ze*(ee[2]-tn),i}function Yr(i,p,ee,ze){const ut=Math.acos(Math.min(Math.max(lr(p,ee),-1),1)),Ut=Math.sin(ut),tn=Math.sin((1-ze)*ut)/Ut,en=Math.sin(ze*ut)/Ut;return i[0]=tn*p[0]+en*ee[0],i[1]=tn*p[1]+en*ee[1],i[2]=tn*p[2]+en*ee[2],i}function ui(i,p,ee,ze,ut,Ut){const tn=Ut*Ut,en=tn*(2*Ut-3)+1,kn=tn*(Ut-2)+Ut,Qn=tn*(Ut-1),fr=tn*(3-2*Ut);return i[0]=p[0]*en+ee[0]*kn+ze[0]*Qn+ut[0]*fr,i[1]=p[1]*en+ee[1]*kn+ze[1]*Qn+ut[1]*fr,i[2]=p[2]*en+ee[2]*kn+ze[2]*Qn+ut[2]*fr,i}function Ri(i,p,ee,ze,ut,Ut){const tn=1-Ut,en=tn*tn,kn=Ut*Ut,Qn=en*tn,fr=3*Ut*en,Br=3*kn*tn,Fr=kn*Ut;return i[0]=p[0]*Qn+ee[0]*fr+ze[0]*Br+ut[0]*Fr,i[1]=p[1]*Qn+ee[1]*fr+ze[1]*Br+ut[1]*Fr,i[2]=p[2]*Qn+ee[2]*fr+ze[2]*Br+ut[2]*Fr,i}function eo(i,p){p=void 0===p?1:p;const ee=2*je()*Math.PI,ze=2*je()-1,ut=Math.sqrt(1-ze*ze)*p;return i[0]=Math.cos(ee)*ut,i[1]=Math.sin(ee)*ut,i[2]=ze*p,i}function Ki(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2];let tn=ee[3]*ze+ee[7]*ut+ee[11]*Ut+ee[15];return tn=tn||1,i[0]=(ee[0]*ze+ee[4]*ut+ee[8]*Ut+ee[12])/tn,i[1]=(ee[1]*ze+ee[5]*ut+ee[9]*Ut+ee[13])/tn,i[2]=(ee[2]*ze+ee[6]*ut+ee[10]*Ut+ee[14])/tn,i}function Qi(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2];return i[0]=ze*ee[0]+ut*ee[3]+Ut*ee[6],i[1]=ze*ee[1]+ut*ee[4]+Ut*ee[7],i[2]=ze*ee[2]+ut*ee[5]+Ut*ee[8],i}function Yi(i,p,ee){const ze=ee[0],ut=ee[1],Ut=ee[2],en=p[0],kn=p[1],Qn=p[2];let fr=ut*Qn-Ut*kn,Br=Ut*en-ze*Qn,Fr=ze*kn-ut*en,Lr=ut*Fr-Ut*Br,ei=Ut*fr-ze*Fr,Ui=ze*Br-ut*fr;const qr=2*ee[3];return fr*=qr,Br*=qr,Fr*=qr,Lr*=2,ei*=2,Ui*=2,i[0]=en+fr+Lr,i[1]=kn+Br+ei,i[2]=Qn+Fr+Ui,i}function qi(i,p,ee,ze){const ut=[],Ut=[];return ut[0]=p[0]-ee[0],ut[1]=p[1]-ee[1],ut[2]=p[2]-ee[2],Ut[0]=ut[0],Ut[1]=ut[1]*Math.cos(ze)-ut[2]*Math.sin(ze),Ut[2]=ut[1]*Math.sin(ze)+ut[2]*Math.cos(ze),i[0]=Ut[0]+ee[0],i[1]=Ut[1]+ee[1],i[2]=Ut[2]+ee[2],i}function bo(i,p,ee,ze){const ut=[],Ut=[];return ut[0]=p[0]-ee[0],ut[1]=p[1]-ee[1],ut[2]=p[2]-ee[2],Ut[0]=ut[2]*Math.sin(ze)+ut[0]*Math.cos(ze),Ut[1]=ut[1],Ut[2]=ut[2]*Math.cos(ze)-ut[0]*Math.sin(ze),i[0]=Ut[0]+ee[0],i[1]=Ut[1]+ee[1],i[2]=Ut[2]+ee[2],i}function Bo(i,p,ee,ze){const ut=[],Ut=[];return ut[0]=p[0]-ee[0],ut[1]=p[1]-ee[1],ut[2]=p[2]-ee[2],Ut[0]=ut[0]*Math.cos(ze)-ut[1]*Math.sin(ze),Ut[1]=ut[0]*Math.sin(ze)+ut[1]*Math.cos(ze),Ut[2]=ut[2],i[0]=Ut[0]+ee[0],i[1]=Ut[1]+ee[1],i[2]=Ut[2]+ee[2],i}function Gt(i,p){const ee=i[0],ze=i[1],ut=i[2],Ut=p[0],tn=p[1],en=p[2],kn=Math.sqrt((ee*ee+ze*ze+ut*ut)*(Ut*Ut+tn*tn+en*en)),Qn=kn&&lr(i,p)/kn;return Math.acos(Math.min(Math.max(Qn,-1),1))}function Se(i){return i[0]=0,i[1]=0,i[2]=0,i}function vt(i){return`vec3(${i[0]}, ${i[1]}, ${i[2]})`}function Xt(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]}function Cn(i,p){const ee=i[0],ze=i[1],ut=i[2],Ut=p[0],tn=p[1],en=p[2];return Math.abs(ee-Ut)<=wt*Math.max(1,Math.abs(ee),Math.abs(Ut))&&Math.abs(ze-tn)<=wt*Math.max(1,Math.abs(ze),Math.abs(tn))&&Math.abs(ut-en)<=wt*Math.max(1,Math.abs(ut),Math.abs(en))}g(Ht,{add:()=>Io,angle:()=>Gt,bezier:()=>Ri,ceil:()=>xo,clone:()=>cr,copy:()=>mi,create:()=>fn,cross:()=>Dr,dist:()=>$r,distance:()=>_r,div:()=>Ii,divide:()=>So,dot:()=>lr,equals:()=>Cn,exactEquals:()=>Xt,floor:()=>Po,forEach:()=>xs,fromValues:()=>ti,hermite:()=>ui,inverse:()=>pn,len:()=>Mo,length:()=>Hr,lerp:()=>ni,max:()=>xn,min:()=>nn,mul:()=>kr,multiply:()=>wo,negate:()=>ht,normalize:()=>On,random:()=>eo,rotateX:()=>qi,rotateY:()=>bo,rotateZ:()=>Bo,round:()=>sr,scale:()=>br,scaleAndAdd:()=>Vr,set:()=>li,slerp:()=>Yr,sqrDist:()=>Hi,sqrLen:()=>Wo,squaredDistance:()=>jt,squaredLength:()=>pe,str:()=>vt,sub:()=>tr,subtract:()=>Co,transformMat3:()=>Qi,transformMat4:()=>Ki,transformQuat:()=>Yi,zero:()=>Se});var Os,ps,tr=Co,kr=wo,Ii=So,$r=_r,Hi=jt,Mo=Hr,Wo=pe,xs=function(){const i=fn();return function(p,ee,ze,ut,Ut,tn){let en,kn;for(ee||(ee=3),ze||(ze=0),kn=ut?Math.min(ut*ee+ze,p.length):p.length,en=ze;en<kn;en+=ee)i[0]=p[en],i[1]=p[en+1],i[2]=p[en+2],Ut(i,i,tn),p[en]=i[0],p[en+1]=i[1],p[en+2]=i[2];return p}}(),da=[0,0,0],Lo=class extends st{static get ZERO(){return Os||(Os=new Lo(0,0,0),Object.freeze(Os)),Os}constructor(i=0,p=0,ee=0){super(-0,-0,-0),1===arguments.length&&T(i)?this.copy(i):(z.debug&&(De(i),De(p),De(ee)),this[0]=i,this[1]=p,this[2]=ee)}set(i,p,ee){return this[0]=i,this[1]=p,this[2]=ee,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this.check()}fromObject(i){return z.debug&&(De(i.x),De(i.y),De(i.z)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i}get ELEMENTS(){return 3}get z(){return this[2]}set z(i){this[2]=De(i)}angle(i){return Gt(this,i)}cross(i){return Dr(this,this,i),this.check()}rotateX({radians:i,origin:p=da}){return qi(this,this,p,i),this.check()}rotateY({radians:i,origin:p=da}){return bo(this,this,p,i),this.check()}rotateZ({radians:i,origin:p=da}){return Bo(this,this,p,i),this.check()}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return Ki(this,this,i),this.check()}transformAsVector(i){return Ct(this,this,i),this.check()}transformByMatrix3(i){return Qi(this,this,i),this.check()}transformByMatrix2(i){return function me(i,p,ee){const ze=p[0],ut=p[1];i[0]=ee[0]*ze+ee[2]*ut,i[1]=ee[1]*ze+ee[3]*ut,i[2]=p[2]}(this,this,i),this.check()}transformByQuaternion(i){return Yi(this,this,i),this.check()}},Xo=class extends st{static get ZERO(){return ps||(ps=new Xo(0,0,0,0),Object.freeze(ps)),ps}constructor(i=0,p=0,ee=0,ze=0){super(-0,-0,-0,-0),T(i)&&1===arguments.length?this.copy(i):(z.debug&&(De(i),De(p),De(ee),De(ze)),this[0]=i,this[1]=p,this[2]=ee,this[3]=ze)}set(i,p,ee,ze){return this[0]=i,this[1]=p,this[2]=ee,this[3]=ze,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}fromObject(i){return z.debug&&(De(i.x),De(i.y),De(i.z),De(i.w)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i.w=this[3],i}get ELEMENTS(){return 4}get z(){return this[2]}set z(i){this[2]=De(i)}get w(){return this[3]}set w(i){this[3]=De(i)}transform(i){return Ki(this,this,i),this.check()}transformByMatrix3(i){return Ue(this,this,i),this.check()}transformByMatrix2(i){return function ue(i,p,ee){const ze=p[0],ut=p[1];i[0]=ee[0]*ze+ee[2]*ut,i[1]=ee[1]*ze+ee[3]*ut,i[2]=p[2],i[3]=p[3]}(this,this,i),this.check()}transformByQuaternion(i){return Yi(this,this,i),this.check()}applyMatrix4(i){return i.transform(this,this),this}},Ps=class extends Rn{toString(){let i="[";if(z.printRowMajor){i+="row-major:";for(let p=0;p<this.RANK;++p)for(let ee=0;ee<this.RANK;++ee)i+=` ${this[ee*this.RANK+p]}`}else{i+="column-major:";for(let p=0;p<this.ELEMENTS;++p)i+=` ${this[p]}`}return i+="]",i}getElementIndex(i,p){return p*this.RANK+i}getElement(i,p){return this[p*this.RANK+i]}setElement(i,p,ee){return this[p*this.RANK+i]=De(ee),this}getColumn(i,p=new Array(this.RANK).fill(-0)){const ee=i*this.RANK;for(let ze=0;ze<this.RANK;++ze)p[ze]=this[ee+ze];return p}setColumn(i,p){const ee=i*this.RANK;for(let ze=0;ze<this.RANK;++ze)this[ee+ze]=p[ze];return this}},Gn={};function Hn(){const i=new kt(9);return kt!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Ir(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[4],i[4]=p[5],i[5]=p[6],i[6]=p[8],i[7]=p[9],i[8]=p[10],i}function ri(i){const p=new kt(9);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p[4]=i[4],p[5]=i[5],p[6]=i[6],p[7]=i[7],p[8]=i[8],p}function si(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i}function Xr(i,p,ee,ze,ut,Ut,tn,en,kn){const Qn=new kt(9);return Qn[0]=i,Qn[1]=p,Qn[2]=ee,Qn[3]=ze,Qn[4]=ut,Qn[5]=Ut,Qn[6]=tn,Qn[7]=en,Qn[8]=kn,Qn}function ki(i,p,ee,ze,ut,Ut,tn,en,kn,Qn){return i[0]=p,i[1]=ee,i[2]=ze,i[3]=ut,i[4]=Ut,i[5]=tn,i[6]=en,i[7]=kn,i[8]=Qn,i}function Ji(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function po(i,p){if(i===p){const ee=p[1],ze=p[2],ut=p[5];i[1]=p[3],i[2]=p[6],i[3]=ee,i[5]=p[7],i[6]=ze,i[7]=ut}else i[0]=p[0],i[1]=p[3],i[2]=p[6],i[3]=p[1],i[4]=p[4],i[5]=p[7],i[6]=p[2],i[7]=p[5],i[8]=p[8];return i}function Pi(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=p[4],en=p[5],kn=p[6],Qn=p[7],fr=p[8],Br=fr*tn-en*Qn,Fr=-fr*Ut+en*kn,Lr=Qn*Ut-tn*kn;let ei=ee*Br+ze*Fr+ut*Lr;return ei?(ei=1/ei,i[0]=Br*ei,i[1]=(-fr*ze+ut*Qn)*ei,i[2]=(en*ze-ut*tn)*ei,i[3]=Fr*ei,i[4]=(fr*ee-ut*kn)*ei,i[5]=(-en*ee+ut*Ut)*ei,i[6]=Lr*ei,i[7]=(-Qn*ee+ze*kn)*ei,i[8]=(tn*ee-ze*Ut)*ei,i):null}function os(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=p[4],en=p[5],kn=p[6],Qn=p[7],fr=p[8];return i[0]=tn*fr-en*Qn,i[1]=ut*Qn-ze*fr,i[2]=ze*en-ut*tn,i[3]=en*kn-Ut*fr,i[4]=ee*fr-ut*kn,i[5]=ut*Ut-ee*en,i[6]=Ut*Qn-tn*kn,i[7]=ze*kn-ee*Qn,i[8]=ee*tn-ze*Ut,i}function es(i){const ut=i[3],Ut=i[4],tn=i[5],en=i[6],kn=i[7],Qn=i[8];return i[0]*(Qn*Ut-tn*kn)+i[1]*(-Qn*ut+tn*en)+i[2]*(kn*ut-Ut*en)}function rs(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=p[4],kn=p[5],Qn=p[6],fr=p[7],Br=p[8],Fr=ee[0],Lr=ee[1],ei=ee[2],Ui=ee[3],qr=ee[4],Ao=ee[5],$o=ee[6],Do=ee[7],To=ee[8];return i[0]=Fr*ze+Lr*tn+ei*Qn,i[1]=Fr*ut+Lr*en+ei*fr,i[2]=Fr*Ut+Lr*kn+ei*Br,i[3]=Ui*ze+qr*tn+Ao*Qn,i[4]=Ui*ut+qr*en+Ao*fr,i[5]=Ui*Ut+qr*kn+Ao*Br,i[6]=$o*ze+Do*tn+To*Qn,i[7]=$o*ut+Do*en+To*fr,i[8]=$o*Ut+Do*kn+To*Br,i}function Fs(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=p[4],kn=p[5],Qn=p[6],fr=p[7],Br=p[8],Fr=ee[0],Lr=ee[1];return i[0]=ze,i[1]=ut,i[2]=Ut,i[3]=tn,i[4]=en,i[5]=kn,i[6]=Fr*ze+Lr*tn+Qn,i[7]=Fr*ut+Lr*en+fr,i[8]=Fr*Ut+Lr*kn+Br,i}function Ro(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=p[4],kn=p[5],Qn=p[6],fr=p[7],Br=p[8],Fr=Math.sin(ee),Lr=Math.cos(ee);return i[0]=Lr*ze+Fr*tn,i[1]=Lr*ut+Fr*en,i[2]=Lr*Ut+Fr*kn,i[3]=Lr*tn-Fr*ze,i[4]=Lr*en-Fr*ut,i[5]=Lr*kn-Fr*Ut,i[6]=Qn,i[7]=fr,i[8]=Br,i}function Ms(i,p,ee){const ze=ee[0],ut=ee[1];return i[0]=ze*p[0],i[1]=ze*p[1],i[2]=ze*p[2],i[3]=ut*p[3],i[4]=ut*p[4],i[5]=ut*p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i}function gs(i,p){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=p[0],i[7]=p[1],i[8]=1,i}function ha(i,p){const ee=Math.sin(p),ze=Math.cos(p);return i[0]=ze,i[1]=ee,i[2]=0,i[3]=-ee,i[4]=ze,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Es(i,p){return i[0]=p[0],i[1]=0,i[2]=0,i[3]=0,i[4]=p[1],i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Vo(i,p){return i[0]=p[0],i[1]=p[1],i[2]=0,i[3]=p[2],i[4]=p[3],i[5]=0,i[6]=p[4],i[7]=p[5],i[8]=1,i}function Ls(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=ee+ee,en=ze+ze,kn=ut+ut,Qn=ee*tn,fr=ze*tn,Br=ze*en,Fr=ut*tn,Lr=ut*en,ei=ut*kn,Ui=Ut*tn,qr=Ut*en,Ao=Ut*kn;return i[0]=1-Br-ei,i[3]=fr-Ao,i[6]=Fr+qr,i[1]=fr+Ao,i[4]=1-Qn-ei,i[7]=Lr-Ui,i[2]=Fr-qr,i[5]=Lr+Ui,i[8]=1-Qn-Br,i}function _s(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=p[4],en=p[5],kn=p[6],Qn=p[7],fr=p[8],Br=p[9],Fr=p[10],Lr=p[11],ei=p[12],Ui=p[13],qr=p[14],Ao=p[15],$o=ee*en-ze*tn,Do=ee*kn-ut*tn,To=ee*Qn-Ut*tn,Fo=ze*kn-ut*en,mr=ze*Qn-Ut*en,yo=ut*Qn-Ut*kn,Ss=fr*Ui-Br*ei,zs=fr*qr-Fr*ei,lo=fr*Ao-Lr*ei,ga=Br*qr-Fr*Ui,Ys=Br*Ao-Lr*Ui,Cs=Fr*Ao-Lr*qr;let ls=$o*Cs-Do*Ys+To*ga+Fo*lo-mr*zs+yo*Ss;return ls?(ls=1/ls,i[0]=(en*Cs-kn*Ys+Qn*ga)*ls,i[1]=(kn*lo-tn*Cs-Qn*zs)*ls,i[2]=(tn*Ys-en*lo+Qn*Ss)*ls,i[3]=(ut*Ys-ze*Cs-Ut*ga)*ls,i[4]=(ee*Cs-ut*lo+Ut*zs)*ls,i[5]=(ze*lo-ee*Ys-Ut*Ss)*ls,i[6]=(Ui*yo-qr*mr+Ao*Fo)*ls,i[7]=(qr*To-ei*yo-Ao*Do)*ls,i[8]=(ei*mr-Ui*To+Ao*$o)*ls,i):null}function ea(i,p,ee){return i[0]=2/p,i[1]=0,i[2]=0,i[3]=0,i[4]=-2/ee,i[5]=0,i[6]=-1,i[7]=1,i[8]=1,i}function ds(i){return`mat3(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]})`}function Vn(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8])}function Wn(i,p,ee){return i[0]=p[0]+ee[0],i[1]=p[1]+ee[1],i[2]=p[2]+ee[2],i[3]=p[3]+ee[3],i[4]=p[4]+ee[4],i[5]=p[5]+ee[5],i[6]=p[6]+ee[6],i[7]=p[7]+ee[7],i[8]=p[8]+ee[8],i}function er(i,p,ee){return i[0]=p[0]-ee[0],i[1]=p[1]-ee[1],i[2]=p[2]-ee[2],i[3]=p[3]-ee[3],i[4]=p[4]-ee[4],i[5]=p[5]-ee[5],i[6]=p[6]-ee[6],i[7]=p[7]-ee[7],i[8]=p[8]-ee[8],i}function gr(i,p,ee){return i[0]=p[0]*ee,i[1]=p[1]*ee,i[2]=p[2]*ee,i[3]=p[3]*ee,i[4]=p[4]*ee,i[5]=p[5]*ee,i[6]=p[6]*ee,i[7]=p[7]*ee,i[8]=p[8]*ee,i}function ai(i,p,ee,ze){return i[0]=p[0]+ee[0]*ze,i[1]=p[1]+ee[1]*ze,i[2]=p[2]+ee[2]*ze,i[3]=p[3]+ee[3]*ze,i[4]=p[4]+ee[4]*ze,i[5]=p[5]+ee[5]*ze,i[6]=p[6]+ee[6]*ze,i[7]=p[7]+ee[7]*ze,i[8]=p[8]+ee[8]*ze,i}function Ti(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]&&i[4]===p[4]&&i[5]===p[5]&&i[6]===p[6]&&i[7]===p[7]&&i[8]===p[8]}function Zi(i,p){const ee=i[0],ze=i[1],ut=i[2],Ut=i[3],tn=i[4],en=i[5],kn=i[6],Qn=i[7],fr=i[8],Br=p[0],Fr=p[1],Lr=p[2],ei=p[3],Ui=p[4],qr=p[5],Ao=p[6],$o=p[7],Do=p[8];return Math.abs(ee-Br)<=wt*Math.max(1,Math.abs(ee),Math.abs(Br))&&Math.abs(ze-Fr)<=wt*Math.max(1,Math.abs(ze),Math.abs(Fr))&&Math.abs(ut-Lr)<=wt*Math.max(1,Math.abs(ut),Math.abs(Lr))&&Math.abs(Ut-ei)<=wt*Math.max(1,Math.abs(Ut),Math.abs(ei))&&Math.abs(tn-Ui)<=wt*Math.max(1,Math.abs(tn),Math.abs(Ui))&&Math.abs(en-qr)<=wt*Math.max(1,Math.abs(en),Math.abs(qr))&&Math.abs(kn-Ao)<=wt*Math.max(1,Math.abs(kn),Math.abs(Ao))&&Math.abs(Qn-$o)<=wt*Math.max(1,Math.abs(Qn),Math.abs($o))&&Math.abs(fr-Do)<=wt*Math.max(1,Math.abs(fr),Math.abs(Do))}g(Gn,{add:()=>Wn,adjoint:()=>os,clone:()=>ri,copy:()=>si,create:()=>Hn,determinant:()=>es,equals:()=>Zi,exactEquals:()=>Ti,frob:()=>Vn,fromMat2d:()=>Vo,fromMat4:()=>Ir,fromQuat:()=>Ls,fromRotation:()=>ha,fromScaling:()=>Es,fromTranslation:()=>gs,fromValues:()=>Xr,identity:()=>Ji,invert:()=>Pi,mul:()=>go,multiply:()=>rs,multiplyScalar:()=>gr,multiplyScalarAndAdd:()=>ai,normalFromMat4:()=>_s,projection:()=>ea,rotate:()=>Ro,scale:()=>Ms,set:()=>ki,str:()=>ds,sub:()=>zi,subtract:()=>er,translate:()=>Fs,transpose:()=>po});var ar,go=rs,zi=er,Vt=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL1ROW0=3]="COL1ROW0",i[i.COL1ROW1=4]="COL1ROW1",i[i.COL1ROW2=5]="COL1ROW2",i[i.COL2ROW0=6]="COL2ROW0",i[i.COL2ROW1=7]="COL2ROW1",i[i.COL2ROW2=8]="COL2ROW2",i}(Vt||{}),an=Object.freeze([1,0,0,0,1,0,0,0,1]),un=class extends Ps{static get IDENTITY(){return function Rr(){return Er||(Er=new un,Object.freeze(Er)),Er}()}static get ZERO(){return function rr(){return ar||(ar=new un([0,0,0,0,0,0,0,0,0]),Object.freeze(ar)),ar}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Vt}constructor(i,...p){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):p.length>0?this.copy([i,...p]):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this.check()}identity(){return this.copy(an)}fromObject(i){return this.check()}fromQuaternion(i){return Ls(this,i),this.check()}set(i,p,ee,ze,ut,Ut,tn,en,kn){return this[0]=i,this[1]=p,this[2]=ee,this[3]=ze,this[4]=ut,this[5]=Ut,this[6]=tn,this[7]=en,this[8]=kn,this.check()}setRowMajor(i,p,ee,ze,ut,Ut,tn,en,kn){return this[0]=i,this[1]=ze,this[2]=tn,this[3]=p,this[4]=ut,this[5]=en,this[6]=ee,this[7]=Ut,this[8]=kn,this.check()}determinant(){return es(this)}transpose(){return po(this,this),this.check()}invert(){return Pi(this,this),this.check()}multiplyLeft(i){return rs(this,i,this),this.check()}multiplyRight(i){return rs(this,this,i),this.check()}rotate(i){return Ro(this,this,i),this.check()}scale(i){return Array.isArray(i)?Ms(this,this,i):Ms(this,this,[i,i]),this.check()}translate(i){return Fs(this,this,i),this.check()}transform(i,p){let ee;switch(i.length){case 2:ee=vn(p||[-0,-0],i,this);break;case 3:ee=Qi(p||[-0,-0,-0],i,this);break;case 4:ee=Ue(p||[-0,-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return He(ee,i.length),ee}transformVector(i,p){return this.transform(i,p)}transformVector2(i,p){return this.transform(i,p)}transformVector3(i,p){return this.transform(i,p)}},Er=null,Pr={};function ii(){const i=new kt(16);return kt!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i}function zr(i){const p=new kt(16);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p[4]=i[4],p[5]=i[5],p[6]=i[6],p[7]=i[7],p[8]=i[8],p[9]=i[9],p[10]=i[10],p[11]=i[11],p[12]=i[12],p[13]=i[13],p[14]=i[14],p[15]=i[15],p}function Ni(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i[9]=p[9],i[10]=p[10],i[11]=p[11],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15],i}function to(i,p,ee,ze,ut,Ut,tn,en,kn,Qn,fr,Br,Fr,Lr,ei,Ui){const qr=new kt(16);return qr[0]=i,qr[1]=p,qr[2]=ee,qr[3]=ze,qr[4]=ut,qr[5]=Ut,qr[6]=tn,qr[7]=en,qr[8]=kn,qr[9]=Qn,qr[10]=fr,qr[11]=Br,qr[12]=Fr,qr[13]=Lr,qr[14]=ei,qr[15]=Ui,qr}function ho(i,p,ee,ze,ut,Ut,tn,en,kn,Qn,fr,Br,Fr,Lr,ei,Ui,qr){return i[0]=p,i[1]=ee,i[2]=ze,i[3]=ut,i[4]=Ut,i[5]=tn,i[6]=en,i[7]=kn,i[8]=Qn,i[9]=fr,i[10]=Br,i[11]=Fr,i[12]=Lr,i[13]=ei,i[14]=Ui,i[15]=qr,i}function co(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function _o(i,p){if(i===p){const ee=p[1],ze=p[2],ut=p[3],Ut=p[6],tn=p[7],en=p[11];i[1]=p[4],i[2]=p[8],i[3]=p[12],i[4]=ee,i[6]=p[9],i[7]=p[13],i[8]=ze,i[9]=Ut,i[11]=p[14],i[12]=ut,i[13]=tn,i[14]=en}else i[0]=p[0],i[1]=p[4],i[2]=p[8],i[3]=p[12],i[4]=p[1],i[5]=p[5],i[6]=p[9],i[7]=p[13],i[8]=p[2],i[9]=p[6],i[10]=p[10],i[11]=p[14],i[12]=p[3],i[13]=p[7],i[14]=p[11],i[15]=p[15];return i}function Oo(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=p[4],en=p[5],kn=p[6],Qn=p[7],fr=p[8],Br=p[9],Fr=p[10],Lr=p[11],ei=p[12],Ui=p[13],qr=p[14],Ao=p[15],$o=ee*en-ze*tn,Do=ee*kn-ut*tn,To=ee*Qn-Ut*tn,Fo=ze*kn-ut*en,mr=ze*Qn-Ut*en,yo=ut*Qn-Ut*kn,Ss=fr*Ui-Br*ei,zs=fr*qr-Fr*ei,lo=fr*Ao-Lr*ei,ga=Br*qr-Fr*Ui,Ys=Br*Ao-Lr*Ui,Cs=Fr*Ao-Lr*qr;let ls=$o*Cs-Do*Ys+To*ga+Fo*lo-mr*zs+yo*Ss;return ls?(ls=1/ls,i[0]=(en*Cs-kn*Ys+Qn*ga)*ls,i[1]=(ut*Ys-ze*Cs-Ut*ga)*ls,i[2]=(Ui*yo-qr*mr+Ao*Fo)*ls,i[3]=(Fr*mr-Br*yo-Lr*Fo)*ls,i[4]=(kn*lo-tn*Cs-Qn*zs)*ls,i[5]=(ee*Cs-ut*lo+Ut*zs)*ls,i[6]=(qr*To-ei*yo-Ao*Do)*ls,i[7]=(fr*yo-Fr*To+Lr*Do)*ls,i[8]=(tn*Ys-en*lo+Qn*Ss)*ls,i[9]=(ze*lo-ee*Ys-Ut*Ss)*ls,i[10]=(ei*mr-Ui*To+Ao*$o)*ls,i[11]=(Br*To-fr*mr-Lr*$o)*ls,i[12]=(en*zs-tn*ga-kn*Ss)*ls,i[13]=(ee*ga-ze*zs+ut*Ss)*ls,i[14]=(Ui*Do-ei*Fo-qr*$o)*ls,i[15]=(fr*Fo-Br*Do+Fr*$o)*ls,i):null}function vo(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=p[4],en=p[5],kn=p[6],Qn=p[7],fr=p[8],Br=p[9],Fr=p[10],Lr=p[11],ei=p[12],Ui=p[13],qr=p[14],Ao=p[15],$o=ee*en-ze*tn,Do=ee*kn-ut*tn,To=ee*Qn-Ut*tn,Fo=ze*kn-ut*en,mr=ze*Qn-Ut*en,yo=ut*Qn-Ut*kn,Ss=fr*Ui-Br*ei,zs=fr*qr-Fr*ei,lo=fr*Ao-Lr*ei,ga=Br*qr-Fr*Ui,Ys=Br*Ao-Lr*Ui,Cs=Fr*Ao-Lr*qr;return i[0]=en*Cs-kn*Ys+Qn*ga,i[1]=ut*Ys-ze*Cs-Ut*ga,i[2]=Ui*yo-qr*mr+Ao*Fo,i[3]=Fr*mr-Br*yo-Lr*Fo,i[4]=kn*lo-tn*Cs-Qn*zs,i[5]=ee*Cs-ut*lo+Ut*zs,i[6]=qr*To-ei*yo-Ao*Do,i[7]=fr*yo-Fr*To+Lr*Do,i[8]=tn*Ys-en*lo+Qn*Ss,i[9]=ze*lo-ee*Ys-Ut*Ss,i[10]=ei*mr-Ui*To+Ao*$o,i[11]=Br*To-fr*mr-Lr*$o,i[12]=en*zs-tn*ga-kn*Ss,i[13]=ee*ga-ze*zs+ut*Ss,i[14]=Ui*Do-ei*Fo-qr*$o,i[15]=fr*Fo-Br*Do+Fr*$o,i}function Yo(i){const p=i[0],ee=i[1],ze=i[2],Ut=i[4],tn=i[5],en=i[6],Qn=i[8],fr=i[9],Br=i[10],Lr=i[12],ei=i[13],Ui=i[14],Ao=p*tn-ee*Ut,$o=p*en-ze*Ut,Do=ee*en-ze*tn,To=Qn*ei-fr*Lr,Fo=Qn*Ui-Br*Lr,mr=fr*Ui-Br*ei;return i[7]*(p*mr-ee*Fo+ze*To)-i[3]*(Ut*mr-tn*Fo+en*To)+i[15]*(Qn*Do-fr*$o+Br*Ao)-i[11]*(Lr*Do-ei*$o+Ui*Ao)}function Je(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=p[4],kn=p[5],Qn=p[6],fr=p[7],Br=p[8],Fr=p[9],Lr=p[10],ei=p[11],Ui=p[12],qr=p[13],Ao=p[14],$o=p[15];let Do=ee[0],To=ee[1],Fo=ee[2],mr=ee[3];return i[0]=Do*ze+To*en+Fo*Br+mr*Ui,i[1]=Do*ut+To*kn+Fo*Fr+mr*qr,i[2]=Do*Ut+To*Qn+Fo*Lr+mr*Ao,i[3]=Do*tn+To*fr+Fo*ei+mr*$o,Do=ee[4],To=ee[5],Fo=ee[6],mr=ee[7],i[4]=Do*ze+To*en+Fo*Br+mr*Ui,i[5]=Do*ut+To*kn+Fo*Fr+mr*qr,i[6]=Do*Ut+To*Qn+Fo*Lr+mr*Ao,i[7]=Do*tn+To*fr+Fo*ei+mr*$o,Do=ee[8],To=ee[9],Fo=ee[10],mr=ee[11],i[8]=Do*ze+To*en+Fo*Br+mr*Ui,i[9]=Do*ut+To*kn+Fo*Fr+mr*qr,i[10]=Do*Ut+To*Qn+Fo*Lr+mr*Ao,i[11]=Do*tn+To*fr+Fo*ei+mr*$o,Do=ee[12],To=ee[13],Fo=ee[14],mr=ee[15],i[12]=Do*ze+To*en+Fo*Br+mr*Ui,i[13]=Do*ut+To*kn+Fo*Fr+mr*qr,i[14]=Do*Ut+To*Qn+Fo*Lr+mr*Ao,i[15]=Do*tn+To*fr+Fo*ei+mr*$o,i}function Kt(i,p,ee){const ze=ee[0],ut=ee[1],Ut=ee[2];let tn,en,kn,Qn,fr,Br,Fr,Lr,ei,Ui,qr,Ao;return p===i?(i[12]=p[0]*ze+p[4]*ut+p[8]*Ut+p[12],i[13]=p[1]*ze+p[5]*ut+p[9]*Ut+p[13],i[14]=p[2]*ze+p[6]*ut+p[10]*Ut+p[14],i[15]=p[3]*ze+p[7]*ut+p[11]*Ut+p[15]):(tn=p[0],en=p[1],kn=p[2],Qn=p[3],fr=p[4],Br=p[5],Fr=p[6],Lr=p[7],ei=p[8],Ui=p[9],qr=p[10],Ao=p[11],i[0]=tn,i[1]=en,i[2]=kn,i[3]=Qn,i[4]=fr,i[5]=Br,i[6]=Fr,i[7]=Lr,i[8]=ei,i[9]=Ui,i[10]=qr,i[11]=Ao,i[12]=tn*ze+fr*ut+ei*Ut+p[12],i[13]=en*ze+Br*ut+Ui*Ut+p[13],i[14]=kn*ze+Fr*ut+qr*Ut+p[14],i[15]=Qn*ze+Lr*ut+Ao*Ut+p[15]),i}function Ke(i,p,ee){const ze=ee[0],ut=ee[1],Ut=ee[2];return i[0]=p[0]*ze,i[1]=p[1]*ze,i[2]=p[2]*ze,i[3]=p[3]*ze,i[4]=p[4]*ut,i[5]=p[5]*ut,i[6]=p[6]*ut,i[7]=p[7]*ut,i[8]=p[8]*Ut,i[9]=p[9]*Ut,i[10]=p[10]*Ut,i[11]=p[11]*Ut,i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15],i}function L(i,p,ee,ze){let kn,Qn,fr,Br,Fr,Lr,ei,Ui,qr,Ao,$o,Do,To,Fo,mr,yo,Ss,zs,lo,ga,Ys,Cs,ls,ja,ut=ze[0],Ut=ze[1],tn=ze[2],en=Math.sqrt(ut*ut+Ut*Ut+tn*tn);return en<wt?null:(en=1/en,ut*=en,Ut*=en,tn*=en,Qn=Math.sin(ee),kn=Math.cos(ee),fr=1-kn,Br=p[0],Fr=p[1],Lr=p[2],ei=p[3],Ui=p[4],qr=p[5],Ao=p[6],$o=p[7],Do=p[8],To=p[9],Fo=p[10],mr=p[11],yo=ut*ut*fr+kn,Ss=Ut*ut*fr+tn*Qn,zs=tn*ut*fr-Ut*Qn,lo=ut*Ut*fr-tn*Qn,ga=Ut*Ut*fr+kn,Ys=tn*Ut*fr+ut*Qn,Cs=ut*tn*fr+Ut*Qn,ls=Ut*tn*fr-ut*Qn,ja=tn*tn*fr+kn,i[0]=Br*yo+Ui*Ss+Do*zs,i[1]=Fr*yo+qr*Ss+To*zs,i[2]=Lr*yo+Ao*Ss+Fo*zs,i[3]=ei*yo+$o*Ss+mr*zs,i[4]=Br*lo+Ui*ga+Do*Ys,i[5]=Fr*lo+qr*ga+To*Ys,i[6]=Lr*lo+Ao*ga+Fo*Ys,i[7]=ei*lo+$o*ga+mr*Ys,i[8]=Br*Cs+Ui*ls+Do*ja,i[9]=Fr*Cs+qr*ls+To*ja,i[10]=Lr*Cs+Ao*ls+Fo*ja,i[11]=ei*Cs+$o*ls+mr*ja,p!==i&&(i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i)}function de(i,p,ee){const ze=Math.sin(ee),ut=Math.cos(ee),Ut=p[4],tn=p[5],en=p[6],kn=p[7],Qn=p[8],fr=p[9],Br=p[10],Fr=p[11];return p!==i&&(i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[4]=Ut*ut+Qn*ze,i[5]=tn*ut+fr*ze,i[6]=en*ut+Br*ze,i[7]=kn*ut+Fr*ze,i[8]=Qn*ut-Ut*ze,i[9]=fr*ut-tn*ze,i[10]=Br*ut-en*ze,i[11]=Fr*ut-kn*ze,i}function O(i,p,ee){const ze=Math.sin(ee),ut=Math.cos(ee),Ut=p[0],tn=p[1],en=p[2],kn=p[3],Qn=p[8],fr=p[9],Br=p[10],Fr=p[11];return p!==i&&(i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[0]=Ut*ut-Qn*ze,i[1]=tn*ut-fr*ze,i[2]=en*ut-Br*ze,i[3]=kn*ut-Fr*ze,i[8]=Ut*ze+Qn*ut,i[9]=tn*ze+fr*ut,i[10]=en*ze+Br*ut,i[11]=kn*ze+Fr*ut,i}function ie(i,p,ee){const ze=Math.sin(ee),ut=Math.cos(ee),Ut=p[0],tn=p[1],en=p[2],kn=p[3],Qn=p[4],fr=p[5],Br=p[6],Fr=p[7];return p!==i&&(i[8]=p[8],i[9]=p[9],i[10]=p[10],i[11]=p[11],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[0]=Ut*ut+Qn*ze,i[1]=tn*ut+fr*ze,i[2]=en*ut+Br*ze,i[3]=kn*ut+Fr*ze,i[4]=Qn*ut-Ut*ze,i[5]=fr*ut-tn*ze,i[6]=Br*ut-en*ze,i[7]=Fr*ut-kn*ze,i}function X(i,p){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=p[0],i[13]=p[1],i[14]=p[2],i[15]=1,i}function Ye(i,p){return i[0]=p[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=p[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=p[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Pt(i,p,ee){let en,kn,Qn,ze=ee[0],ut=ee[1],Ut=ee[2],tn=Math.sqrt(ze*ze+ut*ut+Ut*Ut);return tn<wt?null:(tn=1/tn,ze*=tn,ut*=tn,Ut*=tn,kn=Math.sin(p),en=Math.cos(p),Qn=1-en,i[0]=ze*ze*Qn+en,i[1]=ut*ze*Qn+Ut*kn,i[2]=Ut*ze*Qn-ut*kn,i[3]=0,i[4]=ze*ut*Qn-Ut*kn,i[5]=ut*ut*Qn+en,i[6]=Ut*ut*Qn+ze*kn,i[7]=0,i[8]=ze*Ut*Qn+ut*kn,i[9]=ut*Ut*Qn-ze*kn,i[10]=Ut*Ut*Qn+en,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}function zn(i,p){const ee=Math.sin(p),ze=Math.cos(p);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=ze,i[6]=ee,i[7]=0,i[8]=0,i[9]=-ee,i[10]=ze,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function hr(i,p){const ee=Math.sin(p),ze=Math.cos(p);return i[0]=ze,i[1]=0,i[2]=-ee,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=ee,i[9]=0,i[10]=ze,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Li(i,p){const ee=Math.sin(p),ze=Math.cos(p);return i[0]=ze,i[1]=ee,i[2]=0,i[3]=0,i[4]=-ee,i[5]=ze,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function $i(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=ze+ze,kn=ut+ut,Qn=Ut+Ut,fr=ze*en,Br=ze*kn,Fr=ze*Qn,Lr=ut*kn,ei=ut*Qn,Ui=Ut*Qn,qr=tn*en,Ao=tn*kn,$o=tn*Qn;return i[0]=1-(Lr+Ui),i[1]=Br+$o,i[2]=Fr-Ao,i[3]=0,i[4]=Br-$o,i[5]=1-(fr+Ui),i[6]=ei+qr,i[7]=0,i[8]=Fr+Ao,i[9]=ei-qr,i[10]=1-(fr+Lr),i[11]=0,i[12]=ee[0],i[13]=ee[1],i[14]=ee[2],i[15]=1,i}function hi(i,p){const ee=new kt(3),ze=-p[0],ut=-p[1],Ut=-p[2],tn=p[3],en=p[4],kn=p[5],Qn=p[6],fr=p[7],Br=ze*ze+ut*ut+Ut*Ut+tn*tn;return Br>0?(ee[0]=2*(en*tn+fr*ze+kn*Ut-Qn*ut)/Br,ee[1]=2*(kn*tn+fr*ut+Qn*ze-en*Ut)/Br,ee[2]=2*(Qn*tn+fr*Ut+en*ut-kn*ze)/Br):(ee[0]=2*(en*tn+fr*ze+kn*Ut-Qn*ut),ee[1]=2*(kn*tn+fr*ut+Qn*ze-en*Ut),ee[2]=2*(Qn*tn+fr*Ut+en*ut-kn*ze)),$i(i,p,ee),i}function Gr(i,p){return i[0]=p[12],i[1]=p[13],i[2]=p[14],i}function et(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[4],tn=p[5],en=p[6],kn=p[8],Qn=p[9],fr=p[10];return i[0]=Math.sqrt(ee*ee+ze*ze+ut*ut),i[1]=Math.sqrt(Ut*Ut+tn*tn+en*en),i[2]=Math.sqrt(kn*kn+Qn*Qn+fr*fr),i}function rn(i,p){const ee=new kt(3);et(ee,p);const ze=1/ee[0],ut=1/ee[1],Ut=1/ee[2],tn=p[0]*ze,en=p[1]*ut,kn=p[2]*Ut,Qn=p[4]*ze,fr=p[5]*ut,Br=p[6]*Ut,Fr=p[8]*ze,Lr=p[9]*ut,ei=p[10]*Ut,Ui=tn+fr+ei;let qr=0;return Ui>0?(qr=2*Math.sqrt(Ui+1),i[3]=.25*qr,i[0]=(Br-Lr)/qr,i[1]=(Fr-kn)/qr,i[2]=(en-Qn)/qr):tn>fr&&tn>ei?(qr=2*Math.sqrt(1+tn-fr-ei),i[3]=(Br-Lr)/qr,i[0]=.25*qr,i[1]=(en+Qn)/qr,i[2]=(Fr+kn)/qr):fr>ei?(qr=2*Math.sqrt(1+fr-tn-ei),i[3]=(Fr-kn)/qr,i[0]=(en+Qn)/qr,i[1]=.25*qr,i[2]=(Br+Lr)/qr):(qr=2*Math.sqrt(1+ei-tn-fr),i[3]=(en-Qn)/qr,i[0]=(Fr+kn)/qr,i[1]=(Br+Lr)/qr,i[2]=.25*qr),i}function It(i,p,ee,ze){p[0]=ze[12],p[1]=ze[13],p[2]=ze[14];const ut=ze[0],Ut=ze[1],tn=ze[2],en=ze[4],kn=ze[5],Qn=ze[6],fr=ze[8],Br=ze[9],Fr=ze[10];ee[0]=Math.sqrt(ut*ut+Ut*Ut+tn*tn),ee[1]=Math.sqrt(en*en+kn*kn+Qn*Qn),ee[2]=Math.sqrt(fr*fr+Br*Br+Fr*Fr);const Lr=1/ee[0],ei=1/ee[1],Ui=1/ee[2],qr=ut*Lr,Ao=Ut*ei,$o=tn*Ui,Do=en*Lr,To=kn*ei,Fo=Qn*Ui,mr=fr*Lr,yo=Br*ei,Ss=Fr*Ui,zs=qr+To+Ss;let lo=0;return zs>0?(lo=2*Math.sqrt(zs+1),i[3]=.25*lo,i[0]=(Fo-yo)/lo,i[1]=(mr-$o)/lo,i[2]=(Ao-Do)/lo):qr>To&&qr>Ss?(lo=2*Math.sqrt(1+qr-To-Ss),i[3]=(Fo-yo)/lo,i[0]=.25*lo,i[1]=(Ao+Do)/lo,i[2]=(mr+$o)/lo):To>Ss?(lo=2*Math.sqrt(1+To-qr-Ss),i[3]=(mr-$o)/lo,i[0]=(Ao+Do)/lo,i[1]=.25*lo,i[2]=(Fo+yo)/lo):(lo=2*Math.sqrt(1+Ss-qr-To),i[3]=(Ao-Do)/lo,i[0]=(mr+$o)/lo,i[1]=(Fo+yo)/lo,i[2]=.25*lo),i}function P(i,p,ee,ze){const ut=p[0],Ut=p[1],tn=p[2],en=p[3],kn=ut+ut,Qn=Ut+Ut,fr=tn+tn,Br=ut*kn,Fr=ut*Qn,Lr=ut*fr,ei=Ut*Qn,Ui=Ut*fr,qr=tn*fr,Ao=en*kn,$o=en*Qn,Do=en*fr,To=ze[0],Fo=ze[1],mr=ze[2];return i[0]=(1-(ei+qr))*To,i[1]=(Fr+Do)*To,i[2]=(Lr-$o)*To,i[3]=0,i[4]=(Fr-Do)*Fo,i[5]=(1-(Br+qr))*Fo,i[6]=(Ui+Ao)*Fo,i[7]=0,i[8]=(Lr+$o)*mr,i[9]=(Ui-Ao)*mr,i[10]=(1-(Br+ei))*mr,i[11]=0,i[12]=ee[0],i[13]=ee[1],i[14]=ee[2],i[15]=1,i}function N(i,p,ee,ze,ut){const Ut=p[0],tn=p[1],en=p[2],kn=p[3],Qn=Ut+Ut,fr=tn+tn,Br=en+en,Fr=Ut*Qn,Lr=Ut*fr,ei=Ut*Br,Ui=tn*fr,qr=tn*Br,Ao=en*Br,$o=kn*Qn,Do=kn*fr,To=kn*Br,Fo=ze[0],mr=ze[1],yo=ze[2],Ss=ut[0],zs=ut[1],lo=ut[2],ga=(1-(Ui+Ao))*Fo,Ys=(Lr+To)*Fo,Cs=(ei-Do)*Fo,ls=(Lr-To)*mr,ja=(1-(Fr+Ao))*mr,wl=(qr+$o)*mr,nu=(ei+Do)*yo,Rs=(qr-$o)*yo,ad=(1-(Fr+Ui))*yo;return i[0]=ga,i[1]=Ys,i[2]=Cs,i[3]=0,i[4]=ls,i[5]=ja,i[6]=wl,i[7]=0,i[8]=nu,i[9]=Rs,i[10]=ad,i[11]=0,i[12]=ee[0]+Ss-(ga*Ss+ls*zs+nu*lo),i[13]=ee[1]+zs-(Ys*Ss+ja*zs+Rs*lo),i[14]=ee[2]+lo-(Cs*Ss+wl*zs+ad*lo),i[15]=1,i}function Pe(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=ee+ee,en=ze+ze,kn=ut+ut,Qn=ee*tn,fr=ze*tn,Br=ze*en,Fr=ut*tn,Lr=ut*en,ei=ut*kn,Ui=Ut*tn,qr=Ut*en,Ao=Ut*kn;return i[0]=1-Br-ei,i[1]=fr+Ao,i[2]=Fr-qr,i[3]=0,i[4]=fr-Ao,i[5]=1-Qn-ei,i[6]=Lr+Ui,i[7]=0,i[8]=Fr+qr,i[9]=Lr-Ui,i[10]=1-Qn-Br,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function tt(i,p,ee,ze,ut,Ut,tn){const en=1/(ee-p),kn=1/(ut-ze),Qn=1/(Ut-tn);return i[0]=2*Ut*en,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*Ut*kn,i[6]=0,i[7]=0,i[8]=(ee+p)*en,i[9]=(ut+ze)*kn,i[10]=(tn+Ut)*Qn,i[11]=-1,i[12]=0,i[13]=0,i[14]=tn*Ut*2*Qn,i[15]=0,i}function xt(i,p,ee,ze,ut){const Ut=1/Math.tan(p/2);if(i[0]=Ut/ee,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Ut,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=ut&&ut!==1/0){const tn=1/(ze-ut);i[10]=(ut+ze)*tn,i[14]=2*ut*ze*tn}else i[10]=-1,i[14]=-2*ze;return i}g(Pr,{add:()=>qt,adjoint:()=>vo,clone:()=>zr,copy:()=>Ni,create:()=>ii,decompose:()=>It,determinant:()=>Yo,equals:()=>bi,exactEquals:()=>jr,frob:()=>Fi,fromQuat:()=>Pe,fromQuat2:()=>hi,fromRotation:()=>Pt,fromRotationTranslation:()=>$i,fromRotationTranslationScale:()=>P,fromRotationTranslationScaleOrigin:()=>N,fromScaling:()=>Ye,fromTranslation:()=>X,fromValues:()=>to,fromXRotation:()=>zn,fromYRotation:()=>hr,fromZRotation:()=>Li,frustum:()=>tt,getRotation:()=>rn,getScaling:()=>et,getTranslation:()=>Gr,identity:()=>co,invert:()=>Oo,lookAt:()=>Mr,mul:()=>Oi,multiply:()=>Je,multiplyScalar:()=>En,multiplyScalarAndAdd:()=>qn,ortho:()=>pr,orthoNO:()=>$n,orthoZO:()=>dr,perspective:()=>Wt,perspectiveFromFieldOfView:()=>Ln,perspectiveNO:()=>xt,perspectiveZO:()=>ln,rotate:()=>L,rotateX:()=>de,rotateY:()=>O,rotateZ:()=>ie,scale:()=>Ke,set:()=>ho,str:()=>Qr,sub:()=>xi,subtract:()=>Fn,targetTo:()=>yr,translate:()=>Kt,transpose:()=>_o});var Wt=xt;function ln(i,p,ee,ze,ut){const Ut=1/Math.tan(p/2);if(i[0]=Ut/ee,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Ut,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=ut&&ut!==1/0){const tn=1/(ze-ut);i[10]=ut*tn,i[14]=ut*ze*tn}else i[10]=-1,i[14]=-ze;return i}function Ln(i,p,ee,ze){const ut=Math.tan(p.upDegrees*Math.PI/180),Ut=Math.tan(p.downDegrees*Math.PI/180),tn=Math.tan(p.leftDegrees*Math.PI/180),en=Math.tan(p.rightDegrees*Math.PI/180),kn=2/(tn+en),Qn=2/(ut+Ut);return i[0]=kn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Qn,i[6]=0,i[7]=0,i[8]=-(tn-en)*kn*.5,i[9]=(ut-Ut)*Qn*.5,i[10]=ze/(ee-ze),i[11]=-1,i[12]=0,i[13]=0,i[14]=ze*ee/(ee-ze),i[15]=0,i}function $n(i,p,ee,ze,ut,Ut,tn){const en=1/(p-ee),kn=1/(ze-ut),Qn=1/(Ut-tn);return i[0]=-2*en,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*kn,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*Qn,i[11]=0,i[12]=(p+ee)*en,i[13]=(ut+ze)*kn,i[14]=(tn+Ut)*Qn,i[15]=1,i}var pr=$n;function dr(i,p,ee,ze,ut,Ut,tn){const en=1/(p-ee),kn=1/(ze-ut),Qn=1/(Ut-tn);return i[0]=-2*en,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*kn,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=Qn,i[11]=0,i[12]=(p+ee)*en,i[13]=(ut+ze)*kn,i[14]=Ut*Qn,i[15]=1,i}function Mr(i,p,ee,ze){let ut,Ut,tn,en,kn,Qn,fr,Br,Fr,Lr;const ei=p[0],Ui=p[1],qr=p[2],Ao=ze[0],$o=ze[1],Do=ze[2],To=ee[0],Fo=ee[1],mr=ee[2];return Math.abs(ei-To)<wt&&Math.abs(Ui-Fo)<wt&&Math.abs(qr-mr)<wt?co(i):(Br=ei-To,Fr=Ui-Fo,Lr=qr-mr,ut=1/Math.sqrt(Br*Br+Fr*Fr+Lr*Lr),Br*=ut,Fr*=ut,Lr*=ut,Ut=$o*Lr-Do*Fr,tn=Do*Br-Ao*Lr,en=Ao*Fr-$o*Br,ut=Math.sqrt(Ut*Ut+tn*tn+en*en),ut?(ut=1/ut,Ut*=ut,tn*=ut,en*=ut):(Ut=0,tn=0,en=0),kn=Fr*en-Lr*tn,Qn=Lr*Ut-Br*en,fr=Br*tn-Fr*Ut,ut=Math.sqrt(kn*kn+Qn*Qn+fr*fr),ut?(ut=1/ut,kn*=ut,Qn*=ut,fr*=ut):(kn=0,Qn=0,fr=0),i[0]=Ut,i[1]=kn,i[2]=Br,i[3]=0,i[4]=tn,i[5]=Qn,i[6]=Fr,i[7]=0,i[8]=en,i[9]=fr,i[10]=Lr,i[11]=0,i[12]=-(Ut*ei+tn*Ui+en*qr),i[13]=-(kn*ei+Qn*Ui+fr*qr),i[14]=-(Br*ei+Fr*Ui+Lr*qr),i[15]=1,i)}function yr(i,p,ee,ze){const ut=p[0],Ut=p[1],tn=p[2],en=ze[0],kn=ze[1],Qn=ze[2];let fr=ut-ee[0],Br=Ut-ee[1],Fr=tn-ee[2],Lr=fr*fr+Br*Br+Fr*Fr;Lr>0&&(Lr=1/Math.sqrt(Lr),fr*=Lr,Br*=Lr,Fr*=Lr);let ei=kn*Fr-Qn*Br,Ui=Qn*fr-en*Fr,qr=en*Br-kn*fr;return Lr=ei*ei+Ui*Ui+qr*qr,Lr>0&&(Lr=1/Math.sqrt(Lr),ei*=Lr,Ui*=Lr,qr*=Lr),i[0]=ei,i[1]=Ui,i[2]=qr,i[3]=0,i[4]=Br*qr-Fr*Ui,i[5]=Fr*ei-fr*qr,i[6]=fr*Ui-Br*ei,i[7]=0,i[8]=fr,i[9]=Br,i[10]=Fr,i[11]=0,i[12]=ut,i[13]=Ut,i[14]=tn,i[15]=1,i}function Qr(i){return`mat4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]}, ${i[9]}, ${i[10]}, ${i[11]}, ${i[12]}, ${i[13]}, ${i[14]}, ${i[15]})`}function Fi(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8]+i[9]*i[9]+i[10]*i[10]+i[11]*i[11]+i[12]*i[12]+i[13]*i[13]+i[14]*i[14]+i[15]*i[15])}function qt(i,p,ee){return i[0]=p[0]+ee[0],i[1]=p[1]+ee[1],i[2]=p[2]+ee[2],i[3]=p[3]+ee[3],i[4]=p[4]+ee[4],i[5]=p[5]+ee[5],i[6]=p[6]+ee[6],i[7]=p[7]+ee[7],i[8]=p[8]+ee[8],i[9]=p[9]+ee[9],i[10]=p[10]+ee[10],i[11]=p[11]+ee[11],i[12]=p[12]+ee[12],i[13]=p[13]+ee[13],i[14]=p[14]+ee[14],i[15]=p[15]+ee[15],i}function Fn(i,p,ee){return i[0]=p[0]-ee[0],i[1]=p[1]-ee[1],i[2]=p[2]-ee[2],i[3]=p[3]-ee[3],i[4]=p[4]-ee[4],i[5]=p[5]-ee[5],i[6]=p[6]-ee[6],i[7]=p[7]-ee[7],i[8]=p[8]-ee[8],i[9]=p[9]-ee[9],i[10]=p[10]-ee[10],i[11]=p[11]-ee[11],i[12]=p[12]-ee[12],i[13]=p[13]-ee[13],i[14]=p[14]-ee[14],i[15]=p[15]-ee[15],i}function En(i,p,ee){return i[0]=p[0]*ee,i[1]=p[1]*ee,i[2]=p[2]*ee,i[3]=p[3]*ee,i[4]=p[4]*ee,i[5]=p[5]*ee,i[6]=p[6]*ee,i[7]=p[7]*ee,i[8]=p[8]*ee,i[9]=p[9]*ee,i[10]=p[10]*ee,i[11]=p[11]*ee,i[12]=p[12]*ee,i[13]=p[13]*ee,i[14]=p[14]*ee,i[15]=p[15]*ee,i}function qn(i,p,ee,ze){return i[0]=p[0]+ee[0]*ze,i[1]=p[1]+ee[1]*ze,i[2]=p[2]+ee[2]*ze,i[3]=p[3]+ee[3]*ze,i[4]=p[4]+ee[4]*ze,i[5]=p[5]+ee[5]*ze,i[6]=p[6]+ee[6]*ze,i[7]=p[7]+ee[7]*ze,i[8]=p[8]+ee[8]*ze,i[9]=p[9]+ee[9]*ze,i[10]=p[10]+ee[10]*ze,i[11]=p[11]+ee[11]*ze,i[12]=p[12]+ee[12]*ze,i[13]=p[13]+ee[13]*ze,i[14]=p[14]+ee[14]*ze,i[15]=p[15]+ee[15]*ze,i}function jr(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]&&i[4]===p[4]&&i[5]===p[5]&&i[6]===p[6]&&i[7]===p[7]&&i[8]===p[8]&&i[9]===p[9]&&i[10]===p[10]&&i[11]===p[11]&&i[12]===p[12]&&i[13]===p[13]&&i[14]===p[14]&&i[15]===p[15]}function bi(i,p){const ee=i[0],ze=i[1],ut=i[2],Ut=i[3],tn=i[4],en=i[5],kn=i[6],Qn=i[7],fr=i[8],Br=i[9],Fr=i[10],Lr=i[11],ei=i[12],Ui=i[13],qr=i[14],Ao=i[15],$o=p[0],Do=p[1],To=p[2],Fo=p[3],mr=p[4],yo=p[5],Ss=p[6],zs=p[7],lo=p[8],ga=p[9],Ys=p[10],Cs=p[11],ls=p[12],ja=p[13],wl=p[14],nu=p[15];return Math.abs(ee-$o)<=wt*Math.max(1,Math.abs(ee),Math.abs($o))&&Math.abs(ze-Do)<=wt*Math.max(1,Math.abs(ze),Math.abs(Do))&&Math.abs(ut-To)<=wt*Math.max(1,Math.abs(ut),Math.abs(To))&&Math.abs(Ut-Fo)<=wt*Math.max(1,Math.abs(Ut),Math.abs(Fo))&&Math.abs(tn-mr)<=wt*Math.max(1,Math.abs(tn),Math.abs(mr))&&Math.abs(en-yo)<=wt*Math.max(1,Math.abs(en),Math.abs(yo))&&Math.abs(kn-Ss)<=wt*Math.max(1,Math.abs(kn),Math.abs(Ss))&&Math.abs(Qn-zs)<=wt*Math.max(1,Math.abs(Qn),Math.abs(zs))&&Math.abs(fr-lo)<=wt*Math.max(1,Math.abs(fr),Math.abs(lo))&&Math.abs(Br-ga)<=wt*Math.max(1,Math.abs(Br),Math.abs(ga))&&Math.abs(Fr-Ys)<=wt*Math.max(1,Math.abs(Fr),Math.abs(Ys))&&Math.abs(Lr-Cs)<=wt*Math.max(1,Math.abs(Lr),Math.abs(Cs))&&Math.abs(ei-ls)<=wt*Math.max(1,Math.abs(ei),Math.abs(ls))&&Math.abs(Ui-ja)<=wt*Math.max(1,Math.abs(Ui),Math.abs(ja))&&Math.abs(qr-wl)<=wt*Math.max(1,Math.abs(qr),Math.abs(wl))&&Math.abs(Ao-nu)<=wt*Math.max(1,Math.abs(Ao),Math.abs(nu))}var Oi=Je,xi=Fn,Ei={};function Ho(){const i=new kt(4);return kt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0),i}function ji(i){const p=new kt(4);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p}function No(i,p,ee,ze){const ut=new kt(4);return ut[0]=i,ut[1]=p,ut[2]=ee,ut[3]=ze,ut}function mo(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i}function ts(i,p,ee,ze,ut){return i[0]=p,i[1]=ee,i[2]=ze,i[3]=ut,i}function Ts(i,p,ee){return i[0]=p[0]+ee[0],i[1]=p[1]+ee[1],i[2]=p[2]+ee[2],i[3]=p[3]+ee[3],i}function Qo(i,p,ee){return i[0]=p[0]-ee[0],i[1]=p[1]-ee[1],i[2]=p[2]-ee[2],i[3]=p[3]-ee[3],i}function Go(i,p,ee){return i[0]=p[0]*ee[0],i[1]=p[1]*ee[1],i[2]=p[2]*ee[2],i[3]=p[3]*ee[3],i}function Ea(i,p,ee){return i[0]=p[0]/ee[0],i[1]=p[1]/ee[1],i[2]=p[2]/ee[2],i[3]=p[3]/ee[3],i}function Gs(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i[2]=Math.ceil(p[2]),i[3]=Math.ceil(p[3]),i}function oa(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i[2]=Math.floor(p[2]),i[3]=Math.floor(p[3]),i}function Sa(i,p,ee){return i[0]=Math.min(p[0],ee[0]),i[1]=Math.min(p[1],ee[1]),i[2]=Math.min(p[2],ee[2]),i[3]=Math.min(p[3],ee[3]),i}function Ja(i,p,ee){return i[0]=Math.max(p[0],ee[0]),i[1]=Math.max(p[1],ee[1]),i[2]=Math.max(p[2],ee[2]),i[3]=Math.max(p[3],ee[3]),i}function gc(i,p){return i[0]=Ce(p[0]),i[1]=Ce(p[1]),i[2]=Ce(p[2]),i[3]=Ce(p[3]),i}function $a(i,p,ee){return i[0]=p[0]*ee,i[1]=p[1]*ee,i[2]=p[2]*ee,i[3]=p[3]*ee,i}function Pa(i,p,ee,ze){return i[0]=p[0]+ee[0]*ze,i[1]=p[1]+ee[1]*ze,i[2]=p[2]+ee[2]*ze,i[3]=p[3]+ee[3]*ze,i}function Wi(i,p){const ee=p[0]-i[0],ze=p[1]-i[1],ut=p[2]-i[2],Ut=p[3]-i[3];return Math.sqrt(ee*ee+ze*ze+ut*ut+Ut*Ut)}function fo(i,p){const ee=p[0]-i[0],ze=p[1]-i[1],ut=p[2]-i[2],Ut=p[3]-i[3];return ee*ee+ze*ze+ut*ut+Ut*Ut}function ko(i){const p=i[0],ee=i[1],ze=i[2],ut=i[3];return Math.sqrt(p*p+ee*ee+ze*ze+ut*ut)}function ks(i){const p=i[0],ee=i[1],ze=i[2],ut=i[3];return p*p+ee*ee+ze*ze+ut*ut}function as(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i[3]=-p[3],i}function sa(i,p){return i[0]=1/p[0],i[1]=1/p[1],i[2]=1/p[2],i[3]=1/p[3],i}function Ds(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3];let tn=ee*ee+ze*ze+ut*ut+Ut*Ut;return tn>0&&(tn=1/Math.sqrt(tn)),i[0]=ee*tn,i[1]=ze*tn,i[2]=ut*tn,i[3]=Ut*tn,i}function Bs(i,p){return i[0]*p[0]+i[1]*p[1]+i[2]*p[2]+i[3]*p[3]}function ms(i,p,ee,ze){const ut=ee[0]*ze[1]-ee[1]*ze[0],Ut=ee[0]*ze[2]-ee[2]*ze[0],tn=ee[0]*ze[3]-ee[3]*ze[0],en=ee[1]*ze[2]-ee[2]*ze[1],kn=ee[1]*ze[3]-ee[3]*ze[1],Qn=ee[2]*ze[3]-ee[3]*ze[2],fr=p[0],Br=p[1],Fr=p[2],Lr=p[3];return i[0]=Br*Qn-Fr*kn+Lr*en,i[1]=-fr*Qn+Fr*tn-Lr*Ut,i[2]=fr*kn-Br*tn+Lr*ut,i[3]=-fr*en+Br*Ut-Fr*ut,i}function v(i,p,ee,ze){const ut=p[0],Ut=p[1],tn=p[2],en=p[3];return i[0]=ut+ze*(ee[0]-ut),i[1]=Ut+ze*(ee[1]-Ut),i[2]=tn+ze*(ee[2]-tn),i[3]=en+ze*(ee[3]-en),i}function j(i,p){let ee,ze,ut,Ut,tn,en;p=void 0===p?1:p;do{ee=2*je()-1,ze=2*je()-1,tn=ee*ee+ze*ze}while(tn>=1);do{ut=2*je()-1,Ut=2*je()-1,en=ut*ut+Ut*Ut}while(en>=1);const kn=Math.sqrt((1-tn)/en);return i[0]=p*ee,i[1]=p*ze,i[2]=p*ut*kn,i[3]=p*Ut*kn,i}function I(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3];return i[0]=ee[0]*ze+ee[4]*ut+ee[8]*Ut+ee[12]*tn,i[1]=ee[1]*ze+ee[5]*ut+ee[9]*Ut+ee[13]*tn,i[2]=ee[2]*ze+ee[6]*ut+ee[10]*Ut+ee[14]*tn,i[3]=ee[3]*ze+ee[7]*ut+ee[11]*Ut+ee[15]*tn,i}function re(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=ee[0],en=ee[1],kn=ee[2],Qn=ee[3],fr=Qn*ze+en*Ut-kn*ut,Br=Qn*ut+kn*ze-tn*Ut,Fr=Qn*Ut+tn*ut-en*ze,Lr=-tn*ze-en*ut-kn*Ut;return i[0]=fr*Qn+Lr*-tn+Br*-kn-Fr*-en,i[1]=Br*Qn+Lr*-en+Fr*-tn-fr*-kn,i[2]=Fr*Qn+Lr*-kn+fr*-en-Br*-tn,i[3]=p[3],i}function Ze(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function Dt(i){return`vec4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}function Zt(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]}function nr(i,p){const ee=i[0],ze=i[1],ut=i[2],Ut=i[3],tn=p[0],en=p[1],kn=p[2],Qn=p[3];return Math.abs(ee-tn)<=wt*Math.max(1,Math.abs(ee),Math.abs(tn))&&Math.abs(ze-en)<=wt*Math.max(1,Math.abs(ze),Math.abs(en))&&Math.abs(ut-kn)<=wt*Math.max(1,Math.abs(ut),Math.abs(kn))&&Math.abs(Ut-Qn)<=wt*Math.max(1,Math.abs(Ut),Math.abs(Qn))}g(Ei,{add:()=>Ts,ceil:()=>Gs,clone:()=>ji,copy:()=>mo,create:()=>Ho,cross:()=>ms,dist:()=>Kr,distance:()=>Wi,div:()=>di,divide:()=>Ea,dot:()=>Bs,equals:()=>nr,exactEquals:()=>Zt,floor:()=>oa,forEach:()=>so,fromValues:()=>No,inverse:()=>sa,len:()=>Di,length:()=>ko,lerp:()=>v,max:()=>Ja,min:()=>Sa,mul:()=>Jr,multiply:()=>Go,negate:()=>as,normalize:()=>Ds,random:()=>j,round:()=>gc,scale:()=>$a,scaleAndAdd:()=>Pa,set:()=>ts,sqrDist:()=>fi,sqrLen:()=>Zr,squaredDistance:()=>fo,squaredLength:()=>ks,str:()=>Dt,sub:()=>Ur,subtract:()=>Qo,transformMat4:()=>I,transformQuat:()=>re,zero:()=>Ze});var ya,jo,Ur=Qo,Jr=Go,di=Ea,Kr=Wi,fi=fo,Di=ko,Zr=ks,so=function(){const i=Ho();return function(p,ee,ze,ut,Ut,tn){let en,kn;for(ee||(ee=4),ze||(ze=0),kn=ut?Math.min(ut*ee+ze,p.length):p.length,en=ze;en<kn;en+=ee)i[0]=p[en],i[1]=p[en+1],i[2]=p[en+2],i[3]=p[en+3],Ut(i,i,tn),p[en]=i[0],p[en+1]=i[1],p[en+2]=i[2],p[en+3]=i[3];return p}}(),cs=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL0ROW3=3]="COL0ROW3",i[i.COL1ROW0=4]="COL1ROW0",i[i.COL1ROW1=5]="COL1ROW1",i[i.COL1ROW2=6]="COL1ROW2",i[i.COL1ROW3=7]="COL1ROW3",i[i.COL2ROW0=8]="COL2ROW0",i[i.COL2ROW1=9]="COL2ROW1",i[i.COL2ROW2=10]="COL2ROW2",i[i.COL2ROW3=11]="COL2ROW3",i[i.COL3ROW0=12]="COL3ROW0",i[i.COL3ROW1=13]="COL3ROW1",i[i.COL3ROW2=14]="COL3ROW2",i[i.COL3ROW3=15]="COL3ROW3",i}(cs||{}),Us=45*Math.PI/180,As=1,ta=.1,aa=500,hs=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ns=class extends Ps{static get IDENTITY(){return function uc(){return jo||(jo=new Ns,Object.freeze(jo)),jo}()}static get ZERO(){return function ll(){return ya||(ya=new Ns([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(ya)),ya}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return cs}constructor(i){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this[9]=i[9],this[10]=i[10],this[11]=i[11],this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15],this.check()}set(i,p,ee,ze,ut,Ut,tn,en,kn,Qn,fr,Br,Fr,Lr,ei,Ui){return this[0]=i,this[1]=p,this[2]=ee,this[3]=ze,this[4]=ut,this[5]=Ut,this[6]=tn,this[7]=en,this[8]=kn,this[9]=Qn,this[10]=fr,this[11]=Br,this[12]=Fr,this[13]=Lr,this[14]=ei,this[15]=Ui,this.check()}setRowMajor(i,p,ee,ze,ut,Ut,tn,en,kn,Qn,fr,Br,Fr,Lr,ei,Ui){return this[0]=i,this[1]=ut,this[2]=kn,this[3]=Fr,this[4]=p,this[5]=Ut,this[6]=Qn,this[7]=Lr,this[8]=ee,this[9]=tn,this[10]=fr,this[11]=ei,this[12]=ze,this[13]=en,this[14]=Br,this[15]=Ui,this.check()}toRowMajor(i){return i[0]=this[0],i[1]=this[4],i[2]=this[8],i[3]=this[12],i[4]=this[1],i[5]=this[5],i[6]=this[9],i[7]=this[13],i[8]=this[2],i[9]=this[6],i[10]=this[10],i[11]=this[14],i[12]=this[3],i[13]=this[7],i[14]=this[11],i[15]=this[15],i}identity(){return this.copy(hs)}fromObject(i){return this.check()}fromQuaternion(i){return Pe(this,i),this.check()}frustum(i){const{left:p,right:ee,bottom:ze,top:ut,near:Ut=ta,far:tn=aa}=i;return tn===1/0?function Ws(i,p,ee,ze,ut,Ut){const en=2*Ut/(ut-ze),kn=(ee+p)/(ee-p),Qn=(ut+ze)/(ut-ze),Fr=-2*Ut;i[0]=2*Ut/(ee-p),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=en,i[6]=0,i[7]=0,i[8]=kn,i[9]=Qn,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=Fr,i[15]=0}(this,p,ee,ze,ut,Ut):tt(this,p,ee,ze,ut,Ut,tn),this.check()}lookAt(i){const{eye:p,center:ee=[0,0,0],up:ze=[0,1,0]}=i;return Mr(this,p,ee,ze),this.check()}ortho(i){const{left:p,right:ee,bottom:ze,top:ut,near:Ut=ta,far:tn=aa}=i;return pr(this,p,ee,ze,ut,Ut,tn),this.check()}orthographic(i){const{fovy:p=Us,aspect:ee=As,focalDistance:ze=1,near:ut=ta,far:Ut=aa}=i;Aa(p);const en=ze*Math.tan(p/2),kn=en*ee;return this.ortho({left:-kn,right:kn,bottom:-en,top:en,near:ut,far:Ut})}perspective(i){const{fovy:p=45*Math.PI/180,aspect:ee=1,near:ze=.1,far:ut=500}=i;return Aa(p),Wt(this,p,ee,ze,ut),this.check()}determinant(){return Yo(this)}getScale(i=[-0,-0,-0]){return i[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),i[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),i[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),i}getTranslation(i=[-0,-0,-0]){return i[0]=this[12],i[1]=this[13],i[2]=this[14],i}getRotation(i,p){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const ee=this.getScale(p=p||[-0,-0,-0]),ze=1/ee[0],ut=1/ee[1],Ut=1/ee[2];return i[0]=this[0]*ze,i[1]=this[1]*ut,i[2]=this[2]*Ut,i[3]=0,i[4]=this[4]*ze,i[5]=this[5]*ut,i[6]=this[6]*Ut,i[7]=0,i[8]=this[8]*ze,i[9]=this[9]*ut,i[10]=this[10]*Ut,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}getRotationMatrix3(i,p){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const ee=this.getScale(p=p||[-0,-0,-0]),ze=1/ee[0],ut=1/ee[1],Ut=1/ee[2];return i[0]=this[0]*ze,i[1]=this[1]*ut,i[2]=this[2]*Ut,i[3]=this[4]*ze,i[4]=this[5]*ut,i[5]=this[6]*Ut,i[6]=this[8]*ze,i[7]=this[9]*ut,i[8]=this[10]*Ut,i}transpose(){return _o(this,this),this.check()}invert(){return Oo(this,this),this.check()}multiplyLeft(i){return Je(this,i,this),this.check()}multiplyRight(i){return Je(this,this,i),this.check()}rotateX(i){return de(this,this,i),this.check()}rotateY(i){return O(this,this,i),this.check()}rotateZ(i){return ie(this,this,i),this.check()}rotateXYZ(i){return this.rotateX(i[0]).rotateY(i[1]).rotateZ(i[2])}rotateAxis(i,p){return L(this,this,i,p),this.check()}scale(i){return Ke(this,this,Array.isArray(i)?i:[i,i,i]),this.check()}translate(i){return Kt(this,this,i),this.check()}transform(i,p){return 4===i.length?(He(p=I(p||[-0,-0,-0,-0],i,this),4),p):this.transformAsPoint(i,p)}transformAsPoint(i,p){const{length:ee}=i;let ze;switch(ee){case 2:ze=In(p||[-0,-0],i,this);break;case 3:ze=Ki(p||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return He(ze,i.length),ze}transformAsVector(i,p){let ee;switch(i.length){case 2:ee=Bn(p||[-0,-0],i,this);break;case 3:ee=Ct(p||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return He(ee,i.length),ee}transformPoint(i,p){return this.transformAsPoint(i,p)}transformVector(i,p){return this.transformAsPoint(i,p)}transformDirection(i,p){return this.transformAsVector(i,p)}makeRotationX(i){return this.identity().rotateX(i)}makeTranslation(i,p,ee){return this.identity().translate([i,p,ee])}};function Aa(i){if(i>2*Math.PI)throw Error("expected radians")}var _c={};function vc(){const i=new kt(4);return kt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function ka(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function Bc(i,p,ee){ee*=.5;const ze=Math.sin(ee);return i[0]=ze*p[0],i[1]=ze*p[1],i[2]=ze*p[2],i[3]=Math.cos(ee),i}function hn(i,p){const ee=2*Math.acos(p[3]),ze=Math.sin(ee/2);return ze>wt?(i[0]=p[0]/ze,i[1]=p[1]/ze,i[2]=p[2]/ze):(i[0]=1,i[1]=0,i[2]=0),ee}function dc(i,p){const ee=au(i,p);return Math.acos(2*ee*ee-1)}function Nc(i,p,ee){const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=ee[0],kn=ee[1],Qn=ee[2],fr=ee[3];return i[0]=ze*fr+tn*en+ut*Qn-Ut*kn,i[1]=ut*fr+tn*kn+Ut*en-ze*Qn,i[2]=Ut*fr+tn*Qn+ze*kn-ut*en,i[3]=tn*fr-ze*en-ut*kn-Ut*Qn,i}function va(i,p,ee){ee*=.5;const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=Math.sin(ee),kn=Math.cos(ee);return i[0]=ze*kn+tn*en,i[1]=ut*kn+Ut*en,i[2]=Ut*kn-ut*en,i[3]=tn*kn-ze*en,i}function Bi(i,p,ee){ee*=.5;const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=Math.sin(ee),kn=Math.cos(ee);return i[0]=ze*kn-Ut*en,i[1]=ut*kn+tn*en,i[2]=Ut*kn+ze*en,i[3]=tn*kn-ut*en,i}function ql(i,p,ee){ee*=.5;const ze=p[0],ut=p[1],Ut=p[2],tn=p[3],en=Math.sin(ee),kn=Math.cos(ee);return i[0]=ze*kn+ut*en,i[1]=ut*kn-ze*en,i[2]=Ut*kn+tn*en,i[3]=tn*kn-Ut*en,i}function fs(i,p){const ee=p[0],ze=p[1],ut=p[2];return i[0]=ee,i[1]=ze,i[2]=ut,i[3]=Math.sqrt(Math.abs(1-ee*ee-ze*ze-ut*ut)),i}function hc(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=Math.sqrt(ee*ee+ze*ze+ut*ut),en=Math.exp(Ut),kn=tn>0?en*Math.sin(tn)/tn:0;return i[0]=ee*kn,i[1]=ze*kn,i[2]=ut*kn,i[3]=en*Math.cos(tn),i}function yc(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=Math.sqrt(ee*ee+ze*ze+ut*ut),en=tn>0?Math.atan2(tn,Ut)/tn:0;return i[0]=ee*en,i[1]=ze*en,i[2]=ut*en,i[3]=.5*Math.log(ee*ee+ze*ze+ut*ut+Ut*Ut),i}function Ua(i,p,ee){return yc(i,p),Ul(i,i,ee),hc(i,i),i}function ma(i,p,ee,ze){const ut=p[0],Ut=p[1],tn=p[2],en=p[3];let Fr,Lr,ei,Ui,qr,kn=ee[0],Qn=ee[1],fr=ee[2],Br=ee[3];return Fr=ut*kn+Ut*Qn+tn*fr+en*Br,Fr<0&&(Fr=-Fr,kn=-kn,Qn=-Qn,fr=-fr,Br=-Br),1-Fr>wt?(Lr=Math.acos(Fr),qr=Math.sin(Lr),ei=Math.sin((1-ze)*Lr)/qr,Ui=Math.sin(ze*Lr)/qr):(ei=1-ze,Ui=ze),i[0]=ei*ut+Ui*kn,i[1]=ei*Ut+Ui*Qn,i[2]=ei*tn+Ui*fr,i[3]=ei*en+Ui*Br,i}function Ll(i,p){const ee=p[0],ze=p[1],ut=p[2],Ut=p[3],tn=ee*ee+ze*ze+ut*ut+Ut*Ut,en=tn?1/tn:0;return i[0]=-ee*en,i[1]=-ze*en,i[2]=-ut*en,i[3]=Ut*en,i}function Jo(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i[3]=p[3],i}function Ta(i,p){const ee=p[0]+p[4]+p[8];let ze;if(ee>0)ze=Math.sqrt(ee+1),i[3]=.5*ze,ze=.5/ze,i[0]=(p[5]-p[7])*ze,i[1]=(p[6]-p[2])*ze,i[2]=(p[1]-p[3])*ze;else{let ut=0;p[4]>p[0]&&(ut=1),p[8]>p[3*ut+ut]&&(ut=2);const Ut=(ut+1)%3,tn=(ut+2)%3;ze=Math.sqrt(p[3*ut+ut]-p[3*Ut+Ut]-p[3*tn+tn]+1),i[ut]=.5*ze,ze=.5/ze,i[3]=(p[3*Ut+tn]-p[3*tn+Ut])*ze,i[Ut]=(p[3*Ut+ut]+p[3*ut+Ut])*ze,i[tn]=(p[3*tn+ut]+p[3*ut+tn])*ze}return i}function tc(i){return`quat(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}g(_c,{add:()=>rc,calculateW:()=>fs,clone:()=>Lc,conjugate:()=>Jo,copy:()=>bc,create:()=>vc,dot:()=>au,equals:()=>Ae,exactEquals:()=>$e,exp:()=>hc,fromMat3:()=>Ta,fromValues:()=>Ko,getAngle:()=>dc,getAxisAngle:()=>hn,identity:()=>ka,invert:()=>Ll,len:()=>id,length:()=>fc,lerp:()=>rd,ln:()=>yc,mul:()=>Dc,multiply:()=>Nc,normalize:()=>ve,pow:()=>Ua,rotateX:()=>va,rotateY:()=>Bi,rotateZ:()=>ql,rotationTo:()=>Xe,scale:()=>Ul,set:()=>nc,setAxes:()=>sn,setAxisAngle:()=>Bc,slerp:()=>ma,sqlerp:()=>St,sqrLen:()=>Fd,squaredLength:()=>Jc,str:()=>tc});var Lc=ji,Ko=No,bc=mo,nc=ts,rc=Ts,Dc=Nc,Ul=$a,au=Bs,rd=v,fc=ko,id=fc,Jc=ks,Fd=Jc,ve=Ds,$e=Zt;function Ae(i,p){return Math.abs(Bs(i,p))>=1-wt}var Xe=function(){const i=fn(),p=ti(1,0,0),ee=ti(0,1,0);return function(ze,ut,Ut){const tn=lr(ut,Ut);return tn<-.999999?(Dr(i,p,ut),Mo(i)<1e-6&&Dr(i,ee,ut),On(i,i),Bc(ze,i,Math.PI),ze):tn>.999999?(ze[0]=0,ze[1]=0,ze[2]=0,ze[3]=1,ze):(Dr(i,ut,Ut),ze[0]=i[0],ze[1]=i[1],ze[2]=i[2],ze[3]=1+tn,ve(ze,ze))}}(),St=function(){const i=vc(),p=vc();return function(ee,ze,ut,Ut,tn,en){return ma(i,ze,tn,en),ma(p,ut,Ut,en),ma(ee,i,p,2*en*(1-en)),ee}}(),sn=function(){const i=Hn();return function(p,ee,ze,ut){return i[0]=ze[0],i[3]=ze[1],i[6]=ze[2],i[1]=ut[0],i[4]=ut[1],i[7]=ut[2],i[2]=-ee[0],i[5]=-ee[1],i[8]=-ee[2],ve(p,Ta(p,i))}}(),Nn=[0,0,0,1],Nr=class extends Rn{constructor(i=0,p=0,ee=0,ze=1){super(-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?this.copy(i):this.set(i,p,ee,ze)}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}set(i,p,ee,ze){return this[0]=i,this[1]=p,this[2]=ee,this[3]=ze,this.check()}fromObject(i){return this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this.check()}fromMatrix3(i){return Ta(this,i),this.check()}fromAxisRotation(i,p){return Bc(this,i,p),this.check()}identity(){return ka(this),this.check()}setAxisAngle(i,p){return this.fromAxisRotation(i,p)}get ELEMENTS(){return 4}get x(){return this[0]}set x(i){this[0]=De(i)}get y(){return this[1]}set y(i){this[1]=De(i)}get z(){return this[2]}set z(i){this[2]=De(i)}get w(){return this[3]}set w(i){this[3]=De(i)}len(){return fc(this)}lengthSquared(){return Jc(this)}dot(i){return au(this,i)}rotationTo(i,p){return Xe(this,i,p),this.check()}add(i){return rc(this,this,i),this.check()}calculateW(){return fs(this,this),this.check()}conjugate(){return Jo(this,this),this.check()}invert(){return Ll(this,this),this.check()}lerp(i,p,ee){return void 0===ee?this.lerp(this,i,p):(rd(this,i,p,ee),this.check())}multiplyRight(i){return Nc(this,this,i),this.check()}multiplyLeft(i){return Nc(this,i,this),this.check()}normalize(){const i=this.len(),p=i>0?1/i:0;return this[0]=this[0]*p,this[1]=this[1]*p,this[2]=this[2]*p,this[3]=this[3]*p,0===i&&(this[3]=1),this.check()}rotateX(i){return va(this,this,i),this.check()}rotateY(i){return Bi(this,this,i),this.check()}rotateZ(i){return ql(this,this,i),this.check()}scale(i){return Ul(this,this,i),this.check()}slerp(i,p,ee){let ze,ut,Ut;switch(arguments.length){case 1:({start:ze=Nn,target:ut,ratio:Ut}=i);break;case 2:ze=this,ut=i,Ut=p;break;default:ze=i,ut=p,Ut=ee}return ma(this,ze,ut,Ut),this.check()}transformVector4(i,p=new Xo){return re(p,i,this),He(p,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(i,p){return this.setAxisAngle(i,p)}premultiply(i){return this.multiplyLeft(i)}multiply(i){return this.multiplyRight(i)}},Uo=class{constructor({phi:i=0,theta:p=0,radius:ee=1,bearing:ze,pitch:ut,altitude:Ut,radiusScale:tn=6371e3}={}){this.phi=i,this.theta=p,this.radius=ee||Ut||1,this.radiusScale=tn||1,void 0!==ze&&(this.bearing=ze),void 0!==ut&&(this.pitch=ut),this.check()}toString(){return this.formatString(z)}formatString({printTypes:i=!1}){const p=A;return`${i?"Spherical":""}[rho:${p(this.radius)},theta:${p(this.theta)},phi:${p(this.phi)}]`}equals(i){return Ne(this.radius,i.radius)&&Ne(this.theta,i.theta)&&Ne(this.phi,i.phi)}exactEquals(i){return this.radius===i.radius&&this.theta===i.theta&&this.phi===i.phi}get bearing(){return 180-se(this.phi)}set bearing(i){this.phi=Math.PI-W(i)}get pitch(){return se(this.theta)}set pitch(i){this.theta=W(i)}get longitude(){return se(this.phi)}get latitude(){return se(this.theta)}get lng(){return se(this.phi)}get lat(){return se(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(i,p,ee){return this.radius=i,this.phi=p,this.theta=ee,this.check()}clone(){return(new Uo).copy(this)}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this.check()}fromLngLatZ([i,p,ee]){return this.radius=1+ee/this.radiusScale,this.phi=W(p),this.theta=W(i),this.check()}fromVector3(i){return this.radius=Hr(i),this.radius>0&&(this.theta=Math.atan2(i[0],i[1]),this.phi=Math.acos(ge(i[2]/this.radius,-1,1))),this.check()}toVector3(){return new Lo(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},Zo="Unknown Euler angle order",Hs=.99999,na=function(i){return i[i.ZYX=0]="ZYX",i[i.YXZ=1]="YXZ",i[i.XZY=2]="XZY",i[i.ZXY=3]="ZXY",i[i.YZX=4]="YZX",i[i.XYZ=5]="XYZ",i}(na||{}),js=class extends Rn{static get ZYX(){return na.ZYX}static get YXZ(){return na.YXZ}static get XZY(){return na.XZY}static get ZXY(){return na.ZXY}static get YZX(){return na.YZX}static get XYZ(){return na.XYZ}static get RollPitchYaw(){return na.ZYX}static get DefaultOrder(){return na.ZYX}static get RotationOrders(){return na}static rotationOrder(i){return na[i]}get ELEMENTS(){return 4}constructor(i=0,p=0,ee=0,ze=js.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(i,p,ee,ze)}fromQuaternion(i){const[p,ee,ze,ut]=i,Ut=ee*ee,tn=-2*(Ut+ze*ze)+1,en=2*(p*ee+ut*ze);let kn=-2*(p*ze-ut*ee);kn=kn>1?1:kn,kn=kn<-1?-1:kn;const Br=Math.atan2(2*(ee*ze+ut*p),-2*(p*p+Ut)+1),Fr=Math.asin(kn),Lr=Math.atan2(en,tn);return this.set(Br,Fr,Lr,js.RollPitchYaw)}fromObject(i){throw new Error("not implemented")}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=Number.isFinite(i[3])||this.order,this.check()}set(i=0,p=0,ee=0,ze){return this[0]=i,this[1]=p,this[2]=ee,this[3]=Number.isFinite(ze)?ze:this[3],this.check()}validate(){return function Uc(i){return i>=0&&i<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}toArray(i=[],p=0){return i[p]=this[0],i[p+1]=this[1],i[p+2]=this[2],i}toArray4(i=[],p=0){return i[p]=this[0],i[p+1]=this[1],i[p+2]=this[2],i[p+3]=this[3],i}toVector3(i=[-0,-0,-0]){return i[0]=this[0],i[1]=this[1],i[2]=this[2],i}get x(){return this[0]}set x(i){this[0]=De(i)}get y(){return this[1]}set y(i){this[1]=De(i)}get z(){return this[2]}set z(i){this[2]=De(i)}get alpha(){return this[0]}set alpha(i){this[0]=De(i)}get beta(){return this[1]}set beta(i){this[1]=De(i)}get gamma(){return this[2]}set gamma(i){this[2]=De(i)}get phi(){return this[0]}set phi(i){this[0]=De(i)}get theta(){return this[1]}set theta(i){this[1]=De(i)}get psi(){return this[2]}set psi(i){this[2]=De(i)}get roll(){return this[0]}set roll(i){this[0]=De(i)}get pitch(){return this[1]}set pitch(i){this[1]=De(i)}get yaw(){return this[2]}set yaw(i){this[2]=De(i)}get order(){return this[3]}set order(i){this[3]=function Ra(i){if(i<0&&i>=6)throw new Error(Zo);return i}(i)}fromVector3(i,p){return this.set(i[0],i[1],i[2],Number.isFinite(p)?p:this[3])}fromArray(i,p=0){return this[0]=i[0+p],this[1]=i[1+p],this[2]=i[2+p],void 0!==i[3]&&(this[3]=i[3]),this.check()}fromRollPitchYaw(i,p,ee){return this.set(i,p,ee,na.ZYX)}fromRotationMatrix(i,p=js.DefaultOrder){return this._fromRotationMatrix(i,p),this.check()}getRotationMatrix(i){return this._getRotationMatrix(i)}getQuaternion(){const i=new Nr;switch(this[3]){case na.XYZ:return i.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case na.YXZ:return i.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case na.ZXY:return i.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case na.ZYX:return i.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case na.YZX:return i.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case na.XZY:return i.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(Zo)}}_fromRotationMatrix(i,p=js.DefaultOrder){const ee=i[0],ze=i[4],ut=i[8],Ut=i[1],tn=i[5],en=i[9],kn=i[2],Qn=i[6],fr=i[10];switch(p=p||this[3]){case js.XYZ:this[1]=Math.asin(ge(ut,-1,1)),Math.abs(ut)<Hs?(this[0]=Math.atan2(-en,fr),this[2]=Math.atan2(-ze,ee)):(this[0]=Math.atan2(Qn,tn),this[2]=0);break;case js.YXZ:this[0]=Math.asin(-ge(en,-1,1)),Math.abs(en)<Hs?(this[1]=Math.atan2(ut,fr),this[2]=Math.atan2(Ut,tn)):(this[1]=Math.atan2(-kn,ee),this[2]=0);break;case js.ZXY:this[0]=Math.asin(ge(Qn,-1,1)),Math.abs(Qn)<Hs?(this[1]=Math.atan2(-kn,fr),this[2]=Math.atan2(-ze,tn)):(this[1]=0,this[2]=Math.atan2(Ut,ee));break;case js.ZYX:this[1]=Math.asin(-ge(kn,-1,1)),Math.abs(kn)<Hs?(this[0]=Math.atan2(Qn,fr),this[2]=Math.atan2(Ut,ee)):(this[0]=0,this[2]=Math.atan2(-ze,tn));break;case js.YZX:this[2]=Math.asin(ge(Ut,-1,1)),Math.abs(Ut)<Hs?(this[0]=Math.atan2(-en,tn),this[1]=Math.atan2(-kn,ee)):(this[0]=0,this[1]=Math.atan2(ut,fr));break;case js.XZY:this[2]=Math.asin(-ge(ze,-1,1)),Math.abs(ze)<Hs?(this[0]=Math.atan2(Qn,tn),this[1]=Math.atan2(ut,ee)):(this[0]=Math.atan2(-en,fr),this[1]=0);break;default:throw new Error(Zo)}return this[3]=p,this}_getRotationMatrix(i){const p=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],ee=this.x,ze=this.y,ut=this.z,Ut=Math.cos(ee),tn=Math.cos(ze),en=Math.cos(ut),kn=Math.sin(ee),Qn=Math.sin(ze),fr=Math.sin(ut);switch(this[3]){case js.XYZ:{const Br=Ut*en,Fr=Ut*fr,Lr=kn*en,ei=kn*fr;p[0]=tn*en,p[4]=-tn*fr,p[8]=Qn,p[1]=Fr+Lr*Qn,p[5]=Br-ei*Qn,p[9]=-kn*tn,p[2]=ei-Br*Qn,p[6]=Lr+Fr*Qn,p[10]=Ut*tn;break}case js.YXZ:{const Br=tn*en,Fr=tn*fr,Lr=Qn*en,ei=Qn*fr;p[0]=Br+ei*kn,p[4]=Lr*kn-Fr,p[8]=Ut*Qn,p[1]=Ut*fr,p[5]=Ut*en,p[9]=-kn,p[2]=Fr*kn-Lr,p[6]=ei+Br*kn,p[10]=Ut*tn;break}case js.ZXY:{const Br=tn*en,Fr=tn*fr,Lr=Qn*en,ei=Qn*fr;p[0]=Br-ei*kn,p[4]=-Ut*fr,p[8]=Lr+Fr*kn,p[1]=Fr+Lr*kn,p[5]=Ut*en,p[9]=ei-Br*kn,p[2]=-Ut*Qn,p[6]=kn,p[10]=Ut*tn;break}case js.ZYX:{const Br=Ut*en,Fr=Ut*fr,Lr=kn*en,ei=kn*fr;p[0]=tn*en,p[4]=Lr*Qn-Fr,p[8]=Br*Qn+ei,p[1]=tn*fr,p[5]=ei*Qn+Br,p[9]=Fr*Qn-Lr,p[2]=-Qn,p[6]=kn*tn,p[10]=Ut*tn;break}case js.YZX:{const Br=Ut*tn,Fr=Ut*Qn,Lr=kn*tn,ei=kn*Qn;p[0]=tn*en,p[4]=ei-Br*fr,p[8]=Lr*fr+Fr,p[1]=fr,p[5]=Ut*en,p[9]=-kn*en,p[2]=-Qn*en,p[6]=Fr*fr+Lr,p[10]=Br-ei*fr;break}case js.XZY:{const Br=Ut*tn,Fr=Ut*Qn,Lr=kn*tn,ei=kn*Qn;p[0]=tn*en,p[4]=-fr,p[8]=Qn*en,p[1]=Br*fr+ei,p[5]=Ut*en,p[9]=Fr*fr-Lr,p[2]=Lr*fr-Fr,p[6]=kn*en,p[10]=ei*fr+Br;break}default:throw new Error(Zo)}return p[3]=0,p[7]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}toQuaternion(){const i=Math.cos(.5*this.yaw),p=Math.sin(.5*this.yaw),ee=Math.cos(.5*this.roll),ze=Math.sin(.5*this.roll),ut=Math.cos(.5*this.pitch),Ut=Math.sin(.5*this.pitch);return new Nr(i*ze*ut-p*ee*Ut,i*ee*Ut+p*ze*ut,p*ee*ut-i*ze*Ut,i*ee*ut+p*ze*Ut)}},Ia=class{constructor({x:i=0,y:p=0,z:ee=0,roll:ze=0,pitch:ut=0,yaw:Ut=0,position:tn,orientation:en}={}){this.position=Array.isArray(tn)&&3===tn.length?new Lo(tn):new Lo(i,p,ee),this.orientation=Array.isArray(en)&&4===en.length?new js(en,en[3]):new js(ze,ut,Ut,js.RollPitchYaw)}get x(){return this.position.x}set x(i){this.position.x=i}get y(){return this.position.y}set y(i){this.position.y=i}get z(){return this.position.z}set z(i){this.position.z=i}get roll(){return this.orientation.roll}set roll(i){this.orientation.roll=i}get pitch(){return this.orientation.pitch}set pitch(i){this.orientation.pitch=i}get yaw(){return this.orientation.yaw}set yaw(i){this.orientation.yaw=i}getPosition(){return this.position}getOrientation(){return this.orientation}equals(i){return!!i&&this.position.equals(i.position)&&this.orientation.equals(i.orientation)}exactEquals(i){return!!i&&this.position.exactEquals(i.position)&&this.orientation.exactEquals(i.orientation)}getTransformationMatrix(){const i=Math.sin(this.roll),p=Math.sin(this.pitch),ee=Math.sin(this.yaw),ze=Math.cos(this.roll),ut=Math.cos(this.pitch),Ut=Math.cos(this.yaw);return(new Ns).setRowMajor(Ut*ut,-ee*ze+Ut*p*i,ee*i+Ut*p*ze,this.x,ee*ut,Ut*ze+ee*p*i,-Ut*i+ee*p*ze,this.y,-p,ut*i,ut*ze,this.z,0,0,0,1)}getTransformationMatrixFromPose(i){return(new Ns).multiplyRight(this.getTransformationMatrix()).multiplyRight(i.getTransformationMatrix().invert())}getTransformationMatrixToPose(i){return(new Ns).multiplyRight(i.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},ul={};g(ul,{EPSILON1:()=>pc,EPSILON10:()=>tu,EPSILON11:()=>Xs,EPSILON12:()=>Fu,EPSILON13:()=>Ca,EPSILON14:()=>Va,EPSILON15:()=>ku,EPSILON16:()=>Wa,EPSILON17:()=>Vc,EPSILON18:()=>Ga,EPSILON19:()=>Gc,EPSILON2:()=>mc,EPSILON20:()=>Rc,EPSILON3:()=>eu,EPSILON4:()=>od,EPSILON5:()=>sd,EPSILON6:()=>Zc,EPSILON7:()=>qc,EPSILON8:()=>Sc,EPSILON9:()=>Pu,PI_OVER_FOUR:()=>qa,PI_OVER_SIX:()=>Cl,PI_OVER_TWO:()=>Za,TWO_PI:()=>Bu});var pc=.1,mc=.01,eu=.001,od=1e-4,sd=1e-5,Zc=1e-6,qc=1e-7,Sc=1e-8,Pu=1e-9,tu=1e-10,Xs=1e-11,Fu=1e-12,Ca=1e-13,Va=1e-14,ku=1e-15,Wa=1e-16,Vc=1e-17,Ga=1e-18,Gc=1e-19,Rc=1e-20,Za=Math.PI/2,qa=Math.PI/4,Cl=Math.PI/6,Bu=2*Math.PI},47590:bn=>{var Q,be=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,m=Object.prototype.hasOwnProperty,h={};((Q,Ie)=>{for(var ae in Ie)be(Q,ae,{get:Ie[ae],enumerable:!0})})(h,{VERSION:()=>se,assert:()=>W,console:()=>B,document:()=>k,getBrowser:()=>ce,global:()=>U,isBrowser:()=>b,isElectron:()=>T,isMobile:()=>J,process:()=>z,self:()=>U,window:()=>F}),bn.exports=(Q=h,((Q,Ie,ae,Me)=>{if(Ie&&"object"==typeof Ie||"function"==typeof Ie)for(let q of r(Ie))!m.call(Q,q)&&undefined!==q&&be(Q,q,{get:()=>Ie[q],enumerable:!(Me=w(Ie,q))||Me.enumerable});return Q})(be({},"__esModule",{value:!0}),Q));var U=globalThis,F=globalThis,k=globalThis.document||{},z=globalThis.process||{},B=globalThis.console,A=globalThis.navigator||{};function T(Q){var Ie,ae;if(typeof window<"u"&&"renderer"===(null==(Ie=window.process)?void 0:Ie.type)||typeof process<"u"&&null!=(ae=process.versions)&&ae.electron)return!0;const Me=typeof navigator<"u"&&navigator.userAgent,q=Q||Me;return!!(q&&q.indexOf("Electron")>=0)}function b(){return!("object"==typeof process&&"[object process]"===String(process)&&(null==process||!process.browser))||T()}function J(){return typeof globalThis.orientation<"u"}function ce(Q){return Q||b()?T(Q)?"Electron":(Q||A.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}function W(Q,Ie){if(!Q)throw new Error(Ie||"Assertion failed")}var se="4.0.7"},69243:(bn,be,w)=>{var De,r=Object.defineProperty,m=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,F={};((De,He)=>{for(var We in He)r(De,We,{get:He[We],enumerable:!0})})(F,{COLOR:()=>ce,LocalStorage:()=>B,Log:()=>Ge,addColor:()=>Q,autobind:()=>Ie,default:()=>Oe,getHiResTimestamp:()=>q,leftPad:()=>T,rightPad:()=>b}),bn.exports=(De=F,((De,He,We,st)=>{if(He&&"object"==typeof He||"function"==typeof He)for(let ft of g(He))!C.call(De,ft)&&undefined!==ft&&r(De,ft,{get:()=>He[ft],enumerable:!(st=m(He,ft))||st.enumerable});return De})(r({},"__esModule",{value:!0}),De));var k=w(47590),B=class{constructor(De,He,We="sessionStorage"){this.storage=function z(De){try{const He=window[De],We="__storage_test__";return He.setItem(We,We),He.removeItem(We),He}catch{return null}}(We),this.id=De,this.config=He,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(De){if(Object.assign(this.config,De),this.storage){const He=JSON.stringify(this.config);this.storage.setItem(this.id,He)}}_loadConfiguration(){let De={};if(this.storage){const He=this.storage.getItem(this.id);De=He?JSON.parse(He):{}}return Object.assign(this.config,De),this}};function T(De,He=8){const We=Math.max(He-De.length,0);return`${" ".repeat(We)}${De}`}function b(De,He=8){const We=Math.max(He-De.length,0);return`${De}${" ".repeat(We)}`}var J=w(47590),ce=function(De){return De[De.BLACK=30]="BLACK",De[De.RED=31]="RED",De[De.GREEN=32]="GREEN",De[De.YELLOW=33]="YELLOW",De[De.BLUE=34]="BLUE",De[De.MAGENTA=35]="MAGENTA",De[De.CYAN=36]="CYAN",De[De.WHITE=37]="WHITE",De[De.BRIGHT_BLACK=90]="BRIGHT_BLACK",De[De.BRIGHT_RED=91]="BRIGHT_RED",De[De.BRIGHT_GREEN=92]="BRIGHT_GREEN",De[De.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",De[De.BRIGHT_BLUE=94]="BRIGHT_BLUE",De[De.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",De[De.BRIGHT_CYAN=96]="BRIGHT_CYAN",De[De.BRIGHT_WHITE=97]="BRIGHT_WHITE",De}(ce||{}),W=10;function se(De){return"string"!=typeof De?De:(De=De.toUpperCase(),ce[De]||ce.WHITE)}function Q(De,He,We){return!J.isBrowser&&"string"==typeof De&&(He&&(De=`\x1b[${se(He)}m${De}\x1b[39m`),We&&(De=`\x1b[${se(We)+W}m${De}\x1b[49m`)),De}function Ie(De,He=["constructor"]){const We=Object.getPrototypeOf(De),st=Object.getOwnPropertyNames(We),ft=De;for(const wt of st){const kt=ft[wt];"function"==typeof kt&&(He.find(je=>wt===je)||(ft[wt]=kt.bind(De)))}}function ae(De,He){if(!De)throw new Error(He||"Assertion failed")}var Me=w(47590);function q(){var De,He,We,st,ft;let wt;if((0,Me.isBrowser)()&&Me.window.performance)wt=null==(We=null==(He=null==(De=Me.window)?void 0:De.performance)?void 0:He.now)?void 0:We.call(He);else if("hrtime"in Me.process){const kt=null==(ft=null==(st=Me.process)?void 0:st.hrtime)?void 0:ft.call(st);wt=1e3*kt[0]+kt[1]/1e6}else wt=Date.now();return wt}var $={debug:(0,k.isBrowser)()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},ge={enabled:!0,level:0};function K(){}var Ne={},Ve={once:!0},Ge=class{constructor({id:De}={id:""}){this.VERSION=k.VERSION,this._startTs=q(),this._deltaTs=q(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=De,this.userData={},this._storage=new B(`__probe-${this.id}__`,ge),this.timeStamp(`${this.id} started`),Ie(this),Object.seal(this)}set level(De){this.setLevel(De)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((q()-this._startTs).toPrecision(10))}getDelta(){return Number((q()-this._deltaTs).toPrecision(10))}set priority(De){this.level=De}get priority(){return this.level}getPriority(){return this.level}enable(De=!0){return this._storage.setConfiguration({enabled:De}),this}setLevel(De){return this._storage.setConfiguration({level:De}),this}get(De){return this._storage.config[De]}set(De,He){this._storage.setConfiguration({[De]:He})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(De,He){if(!De)throw new Error(He||"Assertion failed")}warn(De){return this._getLogFunction(0,De,$.warn,arguments,Ve)}error(De){return this._getLogFunction(0,De,$.error,arguments)}deprecated(De,He){return this.warn(`\`${De}\` is deprecated and will be removed in a later version. Use \`${He}\` instead`)}removed(De,He){return this.error(`\`${De}\` has been removed. Use \`${He}\` instead`)}probe(De,He){return this._getLogFunction(De,He,$.log,arguments,{time:!0,once:!0})}log(De,He){return this._getLogFunction(De,He,$.debug,arguments)}info(De,He){return this._getLogFunction(De,He,console.info,arguments)}once(De,He){return this._getLogFunction(De,He,$.debug||$.info,arguments,Ve)}table(De,He,We){return He?this._getLogFunction(De,He,console.table||K,We&&[We],{tag:Rn(He)}):K}time(De,He){return this._getLogFunction(De,He,console.time?console.time:console.info)}timeEnd(De,He){return this._getLogFunction(De,He,console.timeEnd?console.timeEnd:console.info)}timeStamp(De,He){return this._getLogFunction(De,He,console.timeStamp||K)}group(De,He,We={collapsed:!1}){const st=_t({logLevel:De,message:He,opts:We}),{collapsed:ft}=We;return st.method=(ft?console.groupCollapsed:console.group)||console.info,this._getLogFunction(st)}groupCollapsed(De,He,We={}){return this.group(De,He,Object.assign({},We,{collapsed:!0}))}groupEnd(De){return this._getLogFunction(De,"",console.groupEnd||K)}withGroup(De,He,We){this.group(De,He)();try{We()}finally{this.groupEnd(De)()}}trace(){console.trace&&console.trace()}_shouldLog(De){return this.isEnabled()&&this.getLevel()>=gt(De)}_getLogFunction(De,He,We,st,ft){if(this._shouldLog(De)){ft=_t({logLevel:De,message:He,args:st,opts:ft}),ae(We=We||ft.method),ft.total=this.getTotal(),ft.delta=this.getDelta(),this._deltaTs=q();const wt=ft.tag||ft.message;if(ft.once&&wt){if(Ne[wt])return K;Ne[wt]=q()}return He=function zt(De,He,We){if("string"==typeof He){const st=We.time?T(function A(De){let He;return He=De<10?`${De.toFixed(2)}ms`:De<100?`${De.toFixed(1)}ms`:De<1e3?`${De.toFixed(0)}ms`:`${(De/1e3).toFixed(2)}s`,He}(We.total)):"";He=Q(He=We.time?`${De}: ${st}  ${He}`:`${De}: ${He}`,We.color,We.background)}return He}(this.id,ft.message,ft),We.bind(console,He,...ft.args)}return K}};function gt(De){if(!De)return 0;let He;switch(typeof De){case"number":He=De;break;case"object":He=De.logLevel||De.priority||0;break;default:return 0}return ae(Number.isFinite(He)&&He>=0),He}function _t(De){const{logLevel:He,message:We}=De;De.logLevel=gt(He);const st=De.args?Array.from(De.args):[];for(;st.length&&st.shift()!==We;);switch(typeof He){case"string":case"function":void 0!==We&&st.unshift(We),De.message=He;break;case"object":Object.assign(De,He)}"function"==typeof De.message&&(De.message=De.message());const ft=typeof De.message;return ae("string"===ft||"object"===ft),Object.assign(De,{args:st},De.opts)}function Rn(De){for(const He in De)for(const We in De[He])return We||"untitled";return"empty"}Ge.VERSION=k.VERSION,globalThis.probe={};var Oe=new Ge({id:"@probe.gl/log"})},750:bn=>{var z,be=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,m=Object.prototype.hasOwnProperty,h={};function U(){let z;if(typeof window<"u"&&window.performance)z=window.performance.now();else if(typeof process<"u"&&process.hrtime){const B=process.hrtime();z=1e3*B[0]+B[1]/1e6}else z=Date.now();return z}((z,B)=>{for(var A in B)be(z,A,{get:B[A],enumerable:!0})})(h,{Stat:()=>F,Stats:()=>k,_getHiResTimestamp:()=>U}),bn.exports=(z=h,((z,B,A,T)=>{if(B&&"object"==typeof B||"function"==typeof B)for(let b of r(B))!m.call(z,b)&&undefined!==b&&be(z,b,{get:()=>B[b],enumerable:!(T=w(B,b))||T.enumerable});return z})(be({},"__esModule",{value:!0}),z));var F=class{constructor(z,B){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=z,this.type=B,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(z){return this.sampleSize=z,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(z){return this._count+=z,this._samples++,this._checkSampling(),this}subtractCount(z){return this._count-=z,this._samples++,this._checkSampling(),this}addTime(z){return this._time+=z,this.lastTiming=z,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=U(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(U()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}},k=class{constructor(z){this.stats={},this.id=z.id,this.stats={},this._initializeStats(z.stats),Object.seal(this)}get(z,B="count"){return this._getOrCreate({name:z,type:B})}get size(){return Object.keys(this.stats).length}reset(){for(const z of Object.values(this.stats))z.reset();return this}forEach(z){for(const B of Object.values(this.stats))z(B)}getTable(){const z={};return this.forEach(B=>{z[B.name]={time:B.time||0,count:B.count||0,average:B.getAverageTime()||0,hz:B.getHz()||0}}),z}_initializeStats(z=[]){z.forEach(B=>this._getOrCreate(B))}_getOrCreate(z){const{name:B,type:A}=z;let T=this.stats[B];return T||(T=z instanceof F?z:new F(B,A),this.stats[B]=T),T}}},54167:(bn,be)=>{class Ei{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Ho{constructor(fo,ko,ks,as){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(fo.buffer,fo.byteOffset+ko,ks),this._littleEndian=as,this._offset=0}_nextUint8(){const fo=this._dataView.getUint8(this._offset);return this._offset+=1,fo}_nextUint16(){const fo=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,fo}_nextUint32(){const fo=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,fo}_nextUint64(){const ks=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,ks}_nextInt32(){const fo=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,fo}_nextUint8Array(fo){const ko=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,fo);return this._offset+=fo,ko}_skip(fo){return this._offset+=fo,this}_scan(fo,ko){void 0===ko&&(ko=0);const ks=this._offset;let as=0;for(;this._dataView.getUint8(this._offset)!==ko&&as<fo;)as++,this._offset++;return as<fo&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+ks,as)}}const No=new Uint8Array([0]),mo=[171,75,84,88,32,50,48,187,13,10,26,10];function Ts(Wi){return(new TextEncoder).encode(Wi)}function Qo(Wi){return(new TextDecoder).decode(Wi)}function Go(Wi){let fo=0;for(const as of Wi)fo+=as.byteLength;const ko=new Uint8Array(fo);let ks=0;for(const as of Wi)ko.set(new Uint8Array(as),ks),ks+=as.byteLength;return ko}function Gs(Wi,fo){return void 0===fo&&(fo=4),Math.ceil(Wi/fo)*fo-Wi}const $a={keepWriter:!1};be.KHR_DF_CHANNEL_RGBSDA_ALPHA=15,be.KHR_DF_CHANNEL_RGBSDA_BLUE=2,be.KHR_DF_CHANNEL_RGBSDA_DEPTH=14,be.KHR_DF_CHANNEL_RGBSDA_GREEN=1,be.KHR_DF_CHANNEL_RGBSDA_RED=0,be.KHR_DF_CHANNEL_RGBSDA_STENCIL=13,be.KHR_DF_FLAG_ALPHA_PREMULTIPLIED=1,be.KHR_DF_FLAG_ALPHA_STRAIGHT=0,be.KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT=0,be.KHR_DF_MODEL_ASTC=162,be.KHR_DF_MODEL_ETC1=160,be.KHR_DF_MODEL_ETC1S=163,be.KHR_DF_MODEL_ETC2=161,be.KHR_DF_MODEL_RGBSDA=1,be.KHR_DF_MODEL_UASTC=166,be.KHR_DF_MODEL_UNSPECIFIED=0,be.KHR_DF_PRIMARIES_ACES=6,be.KHR_DF_PRIMARIES_ACESCC=7,be.KHR_DF_PRIMARIES_ADOBERGB=11,be.KHR_DF_PRIMARIES_BT2020=4,be.KHR_DF_PRIMARIES_BT601_EBU=2,be.KHR_DF_PRIMARIES_BT601_SMPTE=3,be.KHR_DF_PRIMARIES_BT709=1,be.KHR_DF_PRIMARIES_CIEXYZ=5,be.KHR_DF_PRIMARIES_DISPLAYP3=10,be.KHR_DF_PRIMARIES_NTSC1953=8,be.KHR_DF_PRIMARIES_PAL525=9,be.KHR_DF_PRIMARIES_UNSPECIFIED=0,be.KHR_DF_SAMPLE_DATATYPE_EXPONENT=32,be.KHR_DF_SAMPLE_DATATYPE_FLOAT=128,be.KHR_DF_SAMPLE_DATATYPE_LINEAR=16,be.KHR_DF_SAMPLE_DATATYPE_SIGNED=64,be.KHR_DF_TRANSFER_ACESCC=16,be.KHR_DF_TRANSFER_ACESCCT=17,be.KHR_DF_TRANSFER_ADOBERGB=18,be.KHR_DF_TRANSFER_BT1886=7,be.KHR_DF_TRANSFER_DCIP3=12,be.KHR_DF_TRANSFER_HLG_EOTF=9,be.KHR_DF_TRANSFER_HLG_OETF=8,be.KHR_DF_TRANSFER_ITU=3,be.KHR_DF_TRANSFER_LINEAR=1,be.KHR_DF_TRANSFER_NTSC=4,be.KHR_DF_TRANSFER_PAL625_EOTF=14,be.KHR_DF_TRANSFER_PAL_OETF=13,be.KHR_DF_TRANSFER_PQ_EOTF=10,be.KHR_DF_TRANSFER_PQ_OETF=11,be.KHR_DF_TRANSFER_SLOG=5,be.KHR_DF_TRANSFER_SLOG2=6,be.KHR_DF_TRANSFER_SRGB=2,be.KHR_DF_TRANSFER_ST240=15,be.KHR_DF_TRANSFER_UNSPECIFIED=0,be.KHR_DF_VENDORID_KHRONOS=0,be.KHR_DF_VERSION=2,be.KHR_SUPERCOMPRESSION_BASISLZ=1,be.KHR_SUPERCOMPRESSION_NONE=0,be.KHR_SUPERCOMPRESSION_ZLIB=3,be.KHR_SUPERCOMPRESSION_ZSTD=2,be.KTX2Container=Ei,be.VK_FORMAT_A1R5G5B5_UNORM_PACK16=8,be.VK_FORMAT_A2B10G10R10_SINT_PACK32=69,be.VK_FORMAT_A2B10G10R10_SNORM_PACK32=65,be.VK_FORMAT_A2B10G10R10_UINT_PACK32=68,be.VK_FORMAT_A2B10G10R10_UNORM_PACK32=64,be.VK_FORMAT_A2R10G10B10_SINT_PACK32=63,be.VK_FORMAT_A2R10G10B10_SNORM_PACK32=59,be.VK_FORMAT_A2R10G10B10_UINT_PACK32=62,be.VK_FORMAT_A2R10G10B10_UNORM_PACK32=58,be.VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT=1000340001,be.VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT=100034e4,be.VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT=1000066011,be.VK_FORMAT_ASTC_10x10_SRGB_BLOCK=180,be.VK_FORMAT_ASTC_10x10_UNORM_BLOCK=179,be.VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT=1000066008,be.VK_FORMAT_ASTC_10x5_SRGB_BLOCK=174,be.VK_FORMAT_ASTC_10x5_UNORM_BLOCK=173,be.VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT=1000066009,be.VK_FORMAT_ASTC_10x6_SRGB_BLOCK=176,be.VK_FORMAT_ASTC_10x6_UNORM_BLOCK=175,be.VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT=1000066010,be.VK_FORMAT_ASTC_10x8_SRGB_BLOCK=178,be.VK_FORMAT_ASTC_10x8_UNORM_BLOCK=177,be.VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT=1000066012,be.VK_FORMAT_ASTC_12x10_SRGB_BLOCK=182,be.VK_FORMAT_ASTC_12x10_UNORM_BLOCK=181,be.VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT=1000066013,be.VK_FORMAT_ASTC_12x12_SRGB_BLOCK=184,be.VK_FORMAT_ASTC_12x12_UNORM_BLOCK=183,be.VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT=1000066e3,be.VK_FORMAT_ASTC_4x4_SRGB_BLOCK=158,be.VK_FORMAT_ASTC_4x4_UNORM_BLOCK=157,be.VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT=1000066001,be.VK_FORMAT_ASTC_5x4_SRGB_BLOCK=160,be.VK_FORMAT_ASTC_5x4_UNORM_BLOCK=159,be.VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT=1000066002,be.VK_FORMAT_ASTC_5x5_SRGB_BLOCK=162,be.VK_FORMAT_ASTC_5x5_UNORM_BLOCK=161,be.VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT=1000066003,be.VK_FORMAT_ASTC_6x5_SRGB_BLOCK=164,be.VK_FORMAT_ASTC_6x5_UNORM_BLOCK=163,be.VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT=1000066004,be.VK_FORMAT_ASTC_6x6_SRGB_BLOCK=166,be.VK_FORMAT_ASTC_6x6_UNORM_BLOCK=165,be.VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT=1000066005,be.VK_FORMAT_ASTC_8x5_SRGB_BLOCK=168,be.VK_FORMAT_ASTC_8x5_UNORM_BLOCK=167,be.VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT=1000066006,be.VK_FORMAT_ASTC_8x6_SRGB_BLOCK=170,be.VK_FORMAT_ASTC_8x6_UNORM_BLOCK=169,be.VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT=1000066007,be.VK_FORMAT_ASTC_8x8_SRGB_BLOCK=172,be.VK_FORMAT_ASTC_8x8_UNORM_BLOCK=171,be.VK_FORMAT_B10G11R11_UFLOAT_PACK32=122,be.VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16=1000156011,be.VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16=1000156021,be.VK_FORMAT_B4G4R4A4_UNORM_PACK16=3,be.VK_FORMAT_B5G5R5A1_UNORM_PACK16=7,be.VK_FORMAT_B5G6R5_UNORM_PACK16=5,be.VK_FORMAT_B8G8R8A8_SINT=49,be.VK_FORMAT_B8G8R8A8_SNORM=45,be.VK_FORMAT_B8G8R8A8_SRGB=50,be.VK_FORMAT_B8G8R8A8_UINT=48,be.VK_FORMAT_B8G8R8A8_UNORM=44,be.VK_FORMAT_B8G8R8_SINT=35,be.VK_FORMAT_B8G8R8_SNORM=31,be.VK_FORMAT_B8G8R8_SRGB=36,be.VK_FORMAT_B8G8R8_UINT=34,be.VK_FORMAT_B8G8R8_UNORM=30,be.VK_FORMAT_BC1_RGBA_SRGB_BLOCK=134,be.VK_FORMAT_BC1_RGBA_UNORM_BLOCK=133,be.VK_FORMAT_BC1_RGB_SRGB_BLOCK=132,be.VK_FORMAT_BC1_RGB_UNORM_BLOCK=131,be.VK_FORMAT_BC2_SRGB_BLOCK=136,be.VK_FORMAT_BC2_UNORM_BLOCK=135,be.VK_FORMAT_BC3_SRGB_BLOCK=138,be.VK_FORMAT_BC3_UNORM_BLOCK=137,be.VK_FORMAT_BC4_SNORM_BLOCK=140,be.VK_FORMAT_BC4_UNORM_BLOCK=139,be.VK_FORMAT_BC5_SNORM_BLOCK=142,be.VK_FORMAT_BC5_UNORM_BLOCK=141,be.VK_FORMAT_BC6H_SFLOAT_BLOCK=144,be.VK_FORMAT_BC6H_UFLOAT_BLOCK=143,be.VK_FORMAT_BC7_SRGB_BLOCK=146,be.VK_FORMAT_BC7_UNORM_BLOCK=145,be.VK_FORMAT_D16_UNORM=124,be.VK_FORMAT_D16_UNORM_S8_UINT=128,be.VK_FORMAT_D24_UNORM_S8_UINT=129,be.VK_FORMAT_D32_SFLOAT=126,be.VK_FORMAT_D32_SFLOAT_S8_UINT=130,be.VK_FORMAT_E5B9G9R9_UFLOAT_PACK32=123,be.VK_FORMAT_EAC_R11G11_SNORM_BLOCK=156,be.VK_FORMAT_EAC_R11G11_UNORM_BLOCK=155,be.VK_FORMAT_EAC_R11_SNORM_BLOCK=154,be.VK_FORMAT_EAC_R11_UNORM_BLOCK=153,be.VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK=150,be.VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK=149,be.VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK=152,be.VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK=151,be.VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK=148,be.VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK=147,be.VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16=1000156010,be.VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16=1000156020,be.VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG=1000054004,be.VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG=1000054e3,be.VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG=1000054005,be.VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG=1000054001,be.VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG=1000054006,be.VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG=1000054002,be.VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG=1000054007,be.VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG=1000054003,be.VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16=1000156009,be.VK_FORMAT_R10X6G10X6_UNORM_2PACK16=1000156008,be.VK_FORMAT_R10X6_UNORM_PACK16=1000156007,be.VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16=1000156019,be.VK_FORMAT_R12X4G12X4_UNORM_2PACK16=1000156018,be.VK_FORMAT_R12X4_UNORM_PACK16=1000156017,be.VK_FORMAT_R16G16B16A16_SFLOAT=97,be.VK_FORMAT_R16G16B16A16_SINT=96,be.VK_FORMAT_R16G16B16A16_SNORM=92,be.VK_FORMAT_R16G16B16A16_UINT=95,be.VK_FORMAT_R16G16B16A16_UNORM=91,be.VK_FORMAT_R16G16B16_SFLOAT=90,be.VK_FORMAT_R16G16B16_SINT=89,be.VK_FORMAT_R16G16B16_SNORM=85,be.VK_FORMAT_R16G16B16_UINT=88,be.VK_FORMAT_R16G16B16_UNORM=84,be.VK_FORMAT_R16G16_SFLOAT=83,be.VK_FORMAT_R16G16_SINT=82,be.VK_FORMAT_R16G16_SNORM=78,be.VK_FORMAT_R16G16_UINT=81,be.VK_FORMAT_R16G16_UNORM=77,be.VK_FORMAT_R16_SFLOAT=76,be.VK_FORMAT_R16_SINT=75,be.VK_FORMAT_R16_SNORM=71,be.VK_FORMAT_R16_UINT=74,be.VK_FORMAT_R16_UNORM=70,be.VK_FORMAT_R32G32B32A32_SFLOAT=109,be.VK_FORMAT_R32G32B32A32_SINT=108,be.VK_FORMAT_R32G32B32A32_UINT=107,be.VK_FORMAT_R32G32B32_SFLOAT=106,be.VK_FORMAT_R32G32B32_SINT=105,be.VK_FORMAT_R32G32B32_UINT=104,be.VK_FORMAT_R32G32_SFLOAT=103,be.VK_FORMAT_R32G32_SINT=102,be.VK_FORMAT_R32G32_UINT=101,be.VK_FORMAT_R32_SFLOAT=100,be.VK_FORMAT_R32_SINT=99,be.VK_FORMAT_R32_UINT=98,be.VK_FORMAT_R4G4B4A4_UNORM_PACK16=2,be.VK_FORMAT_R4G4_UNORM_PACK8=1,be.VK_FORMAT_R5G5B5A1_UNORM_PACK16=6,be.VK_FORMAT_R5G6B5_UNORM_PACK16=4,be.VK_FORMAT_R64G64B64A64_SFLOAT=121,be.VK_FORMAT_R64G64B64A64_SINT=120,be.VK_FORMAT_R64G64B64A64_UINT=119,be.VK_FORMAT_R64G64B64_SFLOAT=118,be.VK_FORMAT_R64G64B64_SINT=117,be.VK_FORMAT_R64G64B64_UINT=116,be.VK_FORMAT_R64G64_SFLOAT=115,be.VK_FORMAT_R64G64_SINT=114,be.VK_FORMAT_R64G64_UINT=113,be.VK_FORMAT_R64_SFLOAT=112,be.VK_FORMAT_R64_SINT=111,be.VK_FORMAT_R64_UINT=110,be.VK_FORMAT_R8G8B8A8_SINT=42,be.VK_FORMAT_R8G8B8A8_SNORM=38,be.VK_FORMAT_R8G8B8A8_SRGB=43,be.VK_FORMAT_R8G8B8A8_UINT=41,be.VK_FORMAT_R8G8B8A8_UNORM=37,be.VK_FORMAT_R8G8B8_SINT=28,be.VK_FORMAT_R8G8B8_SNORM=24,be.VK_FORMAT_R8G8B8_SRGB=29,be.VK_FORMAT_R8G8B8_UINT=27,be.VK_FORMAT_R8G8B8_UNORM=23,be.VK_FORMAT_R8G8_SINT=21,be.VK_FORMAT_R8G8_SNORM=17,be.VK_FORMAT_R8G8_SRGB=22,be.VK_FORMAT_R8G8_UINT=20,be.VK_FORMAT_R8G8_UNORM=16,be.VK_FORMAT_R8_SINT=14,be.VK_FORMAT_R8_SNORM=10,be.VK_FORMAT_R8_SRGB=15,be.VK_FORMAT_R8_UINT=13,be.VK_FORMAT_R8_UNORM=9,be.VK_FORMAT_S8_UINT=127,be.VK_FORMAT_UNDEFINED=0,be.VK_FORMAT_X8_D24_UNORM_PACK32=125,be.read=function gc(Wi){const fo=new Uint8Array(Wi.buffer,Wi.byteOffset,mo.length);if(fo[0]!==mo[0]||fo[1]!==mo[1]||fo[2]!==mo[2]||fo[3]!==mo[3]||fo[4]!==mo[4]||fo[5]!==mo[5]||fo[6]!==mo[6]||fo[7]!==mo[7]||fo[8]!==mo[8]||fo[9]!==mo[9]||fo[10]!==mo[10]||fo[11]!==mo[11])throw new Error("Missing KTX 2.0 identifier.");const ko=new Ei,ks=17*Uint32Array.BYTES_PER_ELEMENT,as=new Ho(Wi,mo.length,ks,!0);ko.vkFormat=as._nextUint32(),ko.typeSize=as._nextUint32(),ko.pixelWidth=as._nextUint32(),ko.pixelHeight=as._nextUint32(),ko.pixelDepth=as._nextUint32(),ko.layerCount=as._nextUint32(),ko.faceCount=as._nextUint32();const sa=as._nextUint32();ko.supercompressionScheme=as._nextUint32();const Ds=as._nextUint32(),Bs=as._nextUint32(),ms=as._nextUint32(),v=as._nextUint32(),j=as._nextUint64(),I=as._nextUint64(),Ze=new Ho(Wi,mo.length+ks,3*sa*8,!0);for(let Aa=0;Aa<sa;Aa++)ko.levels.push({levelData:new Uint8Array(Wi.buffer,Wi.byteOffset+Ze._nextUint64(),Ze._nextUint64()),uncompressedByteLength:Ze._nextUint64()});const Dt=new Ho(Wi,Ds,Bs,!0),Zt={vendorId:Dt._skip(4)._nextUint16(),descriptorType:Dt._nextUint16(),versionNumber:Dt._nextUint16(),descriptorBlockSize:Dt._nextUint16(),colorModel:Dt._nextUint8(),colorPrimaries:Dt._nextUint8(),transferFunction:Dt._nextUint8(),flags:Dt._nextUint8(),texelBlockDimension:[Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8()],bytesPlane:[Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8()],samples:[]},Jr=(Zt.descriptorBlockSize/4-6)/4;for(let Aa=0;Aa<Jr;Aa++){const Ws={bitOffset:Dt._nextUint16(),bitLength:Dt._nextUint8(),channelType:Dt._nextUint8(),samplePosition:[Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8(),Dt._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&Ws.channelType?(Ws.sampleLower=Dt._nextInt32(),Ws.sampleUpper=Dt._nextInt32()):(Ws.sampleLower=Dt._nextUint32(),Ws.sampleUpper=Dt._nextUint32()),Zt.samples[Aa]=Ws}ko.dataFormatDescriptor.length=0,ko.dataFormatDescriptor.push(Zt);const di=new Ho(Wi,ms,v,!0);for(;di._offset<v;){const Aa=di._nextUint32(),Ws=di._scan(Aa),_c=Qo(Ws);if(ko.keyValue[_c]=di._nextUint8Array(Aa-Ws.byteLength-1),_c.match(/^ktx/i)){const ka=Qo(ko.keyValue[_c]);ko.keyValue[_c]=ka.substring(0,ka.lastIndexOf("\0"))}di._skip(Aa%4?4-Aa%4:0)}if(I<=0)return ko;const Kr=new Ho(Wi,j,I,!0),fi=Kr._nextUint16(),Di=Kr._nextUint16(),Zr=Kr._nextUint32(),so=Kr._nextUint32(),cs=Kr._nextUint32(),Us=Kr._nextUint32(),As=[];for(let Aa=0;Aa<sa;Aa++)As.push({imageFlags:Kr._nextUint32(),rgbSliceByteOffset:Kr._nextUint32(),rgbSliceByteLength:Kr._nextUint32(),alphaSliceByteOffset:Kr._nextUint32(),alphaSliceByteLength:Kr._nextUint32()});const ta=j+Kr._offset,aa=ta+Zr,hs=aa+so,Ns=hs+cs,ya=new Uint8Array(Wi.buffer,Wi.byteOffset+ta,Zr),jo=new Uint8Array(Wi.buffer,Wi.byteOffset+aa,so),ll=new Uint8Array(Wi.buffer,Wi.byteOffset+hs,cs),uc=new Uint8Array(Wi.buffer,Wi.byteOffset+Ns,Us);return ko.globalData={endpointCount:fi,selectorCount:Di,imageDescs:As,endpointsData:ya,selectorsData:jo,tablesData:ll,extendedData:uc},ko},be.write=function Pa(Wi,fo){void 0===fo&&(fo={}),fo={...$a,...fo};let ko=new ArrayBuffer(0);if(Wi.globalData){const Kr=new ArrayBuffer(20+5*Wi.globalData.imageDescs.length*4),fi=new DataView(Kr);fi.setUint16(0,Wi.globalData.endpointCount,!0),fi.setUint16(2,Wi.globalData.selectorCount,!0),fi.setUint32(4,Wi.globalData.endpointsData.byteLength,!0),fi.setUint32(8,Wi.globalData.selectorsData.byteLength,!0),fi.setUint32(12,Wi.globalData.tablesData.byteLength,!0),fi.setUint32(16,Wi.globalData.extendedData.byteLength,!0);for(let Di=0;Di<Wi.globalData.imageDescs.length;Di++){const Zr=Wi.globalData.imageDescs[Di];fi.setUint32(20+5*Di*4+0,Zr.imageFlags,!0),fi.setUint32(20+5*Di*4+4,Zr.rgbSliceByteOffset,!0),fi.setUint32(20+5*Di*4+8,Zr.rgbSliceByteLength,!0),fi.setUint32(20+5*Di*4+12,Zr.alphaSliceByteOffset,!0),fi.setUint32(20+5*Di*4+16,Zr.alphaSliceByteLength,!0)}ko=Go([Kr,Wi.globalData.endpointsData,Wi.globalData.selectorsData,Wi.globalData.tablesData,Wi.globalData.extendedData])}const ks=[];let as=Wi.keyValue;fo.keepWriter||(as={...Wi.keyValue,KTXwriter:"KTX-Parse v0.7.1"});for(const Kr in as){const fi=as[Kr],Di=Ts(Kr),Zr="string"==typeof fi?Go([Ts(fi),No]):fi,so=Di.byteLength+1+Zr.byteLength,cs=Gs(so,4);ks.push(Go([new Uint32Array([so]),Di,No,Zr,new Uint8Array(cs).fill(0)]))}const sa=Go(ks);if(1!==Wi.dataFormatDescriptor.length||0!==Wi.dataFormatDescriptor[0].descriptorType)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const Ds=Wi.dataFormatDescriptor[0],Bs=new ArrayBuffer(28+16*Ds.samples.length),ms=new DataView(Bs),v=24+16*Ds.samples.length;if(ms.setUint32(0,Bs.byteLength,!0),ms.setUint16(4,Ds.vendorId,!0),ms.setUint16(6,Ds.descriptorType,!0),ms.setUint16(8,Ds.versionNumber,!0),ms.setUint16(10,v,!0),ms.setUint8(12,Ds.colorModel),ms.setUint8(13,Ds.colorPrimaries),ms.setUint8(14,Ds.transferFunction),ms.setUint8(15,Ds.flags),!Array.isArray(Ds.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");ms.setUint8(16,Ds.texelBlockDimension[0]),ms.setUint8(17,Ds.texelBlockDimension[1]),ms.setUint8(18,Ds.texelBlockDimension[2]),ms.setUint8(19,Ds.texelBlockDimension[3]);for(let Kr=0;Kr<8;Kr++)ms.setUint8(20+Kr,Ds.bytesPlane[Kr]);for(let Kr=0;Kr<Ds.samples.length;Kr++){const fi=Ds.samples[Kr],Di=28+16*Kr;if(fi.channelID)throw new Error("channelID has been renamed to channelType.");ms.setUint16(Di+0,fi.bitOffset,!0),ms.setUint8(Di+2,fi.bitLength),ms.setUint8(Di+3,fi.channelType),ms.setUint8(Di+4,fi.samplePosition[0]),ms.setUint8(Di+5,fi.samplePosition[1]),ms.setUint8(Di+6,fi.samplePosition[2]),ms.setUint8(Di+7,fi.samplePosition[3]),64&fi.channelType?(ms.setInt32(Di+8,fi.sampleLower,!0),ms.setInt32(Di+12,fi.sampleUpper,!0)):(ms.setUint32(Di+8,fi.sampleLower,!0),ms.setUint32(Di+12,fi.sampleUpper,!0))}const j=mo.length+68+3*Wi.levels.length*8,I=j+Bs.byteLength;let re=ko.byteLength>0?I+sa.byteLength:0;re%8&&(re+=8-re%8);const Ze=[],Dt=new DataView(new ArrayBuffer(3*Wi.levels.length*8)),Zt=new Uint32Array(Wi.levels.length);let nr=0;0===Wi.supercompressionScheme&&(nr=function Ea(Wi,fo){const ko=Math.max(Wi,fo),ks=Math.min(Wi,fo);let as=ko;for(;as%ks!=0;)as+=ko;return as}(function oa(Wi){return Wi.levels[0].levelData.byteLength/function Sa(Wi,fo){let ko=1;const ks=[Wi.pixelWidth,Wi.pixelHeight,Wi.pixelDepth],as=function Ja(Wi){const[fo,ko,ks]=Wi.dataFormatDescriptor[0].texelBlockDimension;return[fo+1,ko+1,ks+1]}(Wi);for(let sa=0;sa<3;sa++)if(ks[sa]>0){const Ds=Math.ceil(Math.floor(ks[sa]*Math.pow(2,-fo))/as[sa]);ko*=Math.max(1,Ds)}return Wi.layerCount>0&&(ko*=Wi.layerCount),Wi.faceCount>0&&(ko*=Wi.faceCount),ko}(Wi,0)}(Wi),4));let Ur=(re||I+sa.byteLength)+ko.byteLength;for(let Kr=Wi.levels.length-1;Kr>=0;Kr--){if(Ur%nr){const Di=Gs(Ur,nr);Ze.push(new Uint8Array(Di)),Ur+=Di}const fi=Wi.levels[Kr];Ze.push(fi.levelData),Zt[Kr]=Ur,Ur+=fi.levelData.byteLength}for(let Kr=0;Kr<Wi.levels.length;Kr++){const fi=Wi.levels[Kr];Dt.setBigUint64(24*Kr+0,BigInt(Zt[Kr]),!0),Dt.setBigUint64(24*Kr+8,BigInt(fi.levelData.byteLength),!0),Dt.setBigUint64(24*Kr+16,BigInt(fi.uncompressedByteLength),!0)}const Jr=new ArrayBuffer(68),di=new DataView(Jr);return di.setUint32(0,Wi.vkFormat,!0),di.setUint32(4,Wi.typeSize,!0),di.setUint32(8,Wi.pixelWidth,!0),di.setUint32(12,Wi.pixelHeight,!0),di.setUint32(16,Wi.pixelDepth,!0),di.setUint32(20,Wi.layerCount,!0),di.setUint32(24,Wi.faceCount,!0),di.setUint32(28,Wi.levels.length,!0),di.setUint32(32,Wi.supercompressionScheme,!0),di.setUint32(36,j,!0),di.setUint32(40,Bs.byteLength,!0),di.setUint32(44,I,!0),di.setUint32(48,sa.byteLength,!0),di.setBigUint64(52,BigInt(ko.byteLength>0?re:0),!0),di.setBigUint64(60,BigInt(ko.byteLength),!0),new Uint8Array(Go([new Uint8Array(mo).buffer,Jr,Dt.buffer,Bs,sa,re>0?new ArrayBuffer(re-(I+sa.byteLength)):new ArrayBuffer(0),ko,...Ze]))}},89326:(bn,be,w)=>{"use strict";const{VOID:r,PRIMITIVE:m,ARRAY:g,OBJECT:C,DATE:D,REGEXP:h,MAP:U,SET:F,ERROR:k,BIGINT:z}=w(80092),B="object"==typeof self?self:globalThis;be.deserialize=b=>((b,J)=>{const ce=(se,Q)=>(b.set(Q,se),se),W=se=>{if(b.has(se))return b.get(se);const[Q,Ie]=J[se];switch(Q){case m:case r:return ce(Ie,se);case g:{const ae=ce([],se);for(const Me of Ie)ae.push(W(Me));return ae}case C:{const ae=ce({},se);for(const[Me,q]of Ie)ae[W(Me)]=W(q);return ae}case D:return ce(new Date(Ie),se);case h:{const{source:ae,flags:Me}=Ie;return ce(new RegExp(ae,Me),se)}case U:{const ae=ce(new Map,se);for(const[Me,q]of Ie)ae.set(W(Me),W(q));return ae}case F:{const ae=ce(new Set,se);for(const Me of Ie)ae.add(W(Me));return ae}case k:{const{name:ae,message:Me}=Ie;return ce(new B[ae](Me),se)}case z:return ce(BigInt(Ie),se);case"BigInt":return ce(Object(BigInt(Ie)),se)}return ce(new B[Q](Ie),se)};return W})(new Map,b)(0)},29685:(bn,be,w)=>{"use strict";const{deserialize:r}=w(89326),{serialize:m}=w(43395);Object.defineProperty(be,"__esModule",{value:!0}).default="function"==typeof structuredClone?(g,C)=>C&&("json"in C||"lossy"in C)?r(m(g,C)):structuredClone(g):(g,C)=>r(m(g,C)),be.deserialize=r,be.serialize=m},43395:(bn,be,w)=>{"use strict";const{VOID:r,PRIMITIVE:m,ARRAY:g,OBJECT:C,DATE:D,REGEXP:h,MAP:U,SET:F,ERROR:k,BIGINT:z}=w(80092),B="",{toString:A}={},{keys:T}=Object,b=se=>{const Q=typeof se;if("object"!==Q||!se)return[m,Q];const Ie=A.call(se).slice(8,-1);switch(Ie){case"Array":return[g,B];case"Object":return[C,B];case"Date":return[D,B];case"RegExp":return[h,B];case"Map":return[U,B];case"Set":return[F,B]}return Ie.includes("Array")?[g,Ie]:Ie.includes("Error")?[k,Ie]:[C,Ie]},J=([se,Q])=>se===m&&("function"===Q||"symbol"===Q);be.serialize=(se,{json:Q,lossy:Ie}={})=>{const ae=[];return((se,Q,Ie,ae)=>{const Me=($,ge)=>{const K=ae.push($)-1;return Ie.set(ge,K),K},q=$=>{if(Ie.has($))return Ie.get($);let[ge,K]=b($);switch(ge){case m:{let Ve=$;switch(K){case"bigint":ge=z,Ve=$.toString();break;case"function":case"symbol":if(se)throw new TypeError("unable to serialize "+K);Ve=null;break;case"undefined":return Me([r],$)}return Me([ge,Ve],$)}case g:{if(K)return Me([K,[...$]],$);const Ve=[],Ge=Me([ge,Ve],$);for(const gt of $)Ve.push(q(gt));return Ge}case C:{if(K)switch(K){case"BigInt":return Me([K,$.toString()],$);case"Boolean":case"Number":case"String":return Me([K,$.valueOf()],$)}if(Q&&"toJSON"in $)return q($.toJSON());const Ve=[],Ge=Me([ge,Ve],$);for(const gt of T($))(se||!J(b($[gt])))&&Ve.push([q(gt),q($[gt])]);return Ge}case D:return Me([ge,$.toISOString()],$);case h:{const{source:Ve,flags:Ge}=$;return Me([ge,{source:Ve,flags:Ge}],$)}case U:{const Ve=[],Ge=Me([ge,Ve],$);for(const[gt,_t]of $)(se||!J(b(gt))&&!J(b(_t)))&&Ve.push([q(gt),q(_t)]);return Ge}case F:{const Ve=[],Ge=Me([ge,Ve],$);for(const gt of $)(se||!J(b(gt)))&&Ve.push(q(gt));return Ge}}const{message:Ne}=$;return Me([ge,{name:K,message:Ne}],$)};return q})(!(Q||Ie),!!Q,new Map,ae)(se),ae}},80092:(bn,be)=>{"use strict";be.VOID=-1,be.PRIMITIVE=0,be.ARRAY=1,be.OBJECT=2,be.DATE=3,be.REGEXP=4,be.MAP=5,be.SET=6,be.ERROR=7,be.BIGINT=8},26579:()=>{var bn,be;be=bn||(bn={}),function(){var r="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function h(){return function C(){try{return Function("return this;")()}catch{}}()||function D(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),m=g(be);function g(U,F){return function(k,z){Object.defineProperty(U,k,{configurable:!0,writable:!0,value:z}),F&&F(k,z)}}typeof r.Reflect<"u"&&(m=g(r.Reflect,m)),function(w,r){var m=Object.prototype.hasOwnProperty,g="function"==typeof Symbol,C=g&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",D=g&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",h="function"==typeof Object.create,U={__proto__:[]}instanceof Array,F=!h&&!U,k={create:h?function(){return Ft(Object.create(null))}:U?function(){return Ft({__proto__:null})}:function(){return Ft({})},has:F?function(it,Mt){return m.call(it,Mt)}:function(it,Mt){return Mt in it},get:F?function(it,Mt){return m.call(it,Mt)?it[Mt]:void 0}:function(it,Mt){return it[Mt]}},z=Object.getPrototypeOf(Function),B="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function yt(){var it={},Mt=[],lt=function(){function Et(vn,In,Un){this._index=0,this._keys=vn,this._values=In,this._selector=Un}return Et.prototype["@@iterator"]=function(){return this},Et.prototype[D]=function(){return this},Et.prototype.next=function(){var vn=this._index;if(vn>=0&&vn<this._keys.length){var In=this._selector(this._keys[vn],this._values[vn]);return vn+1>=this._keys.length?(this._index=-1,this._keys=Mt,this._values=Mt):this._index++,{value:In,done:!1}}return{value:void 0,done:!0}},Et.prototype.throw=function(vn){throw this._index>=0&&(this._index=-1,this._keys=Mt,this._values=Mt),vn},Et.prototype.return=function(vn){return this._index>=0&&(this._index=-1,this._keys=Mt,this._values=Mt),{value:vn,done:!0}},Et}();return function(){function Et(){this._keys=[],this._values=[],this._cacheKey=it,this._cacheIndex=-2}return Object.defineProperty(Et.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Et.prototype.has=function(vn){return this._find(vn,!1)>=0},Et.prototype.get=function(vn){var In=this._find(vn,!1);return In>=0?this._values[In]:void 0},Et.prototype.set=function(vn,In){var Un=this._find(vn,!0);return this._values[Un]=In,this},Et.prototype.delete=function(vn){var In=this._find(vn,!1);if(In>=0){for(var Un=this._keys.length,Jn=In+1;Jn<Un;Jn++)this._keys[Jn-1]=this._keys[Jn],this._values[Jn-1]=this._values[Jn];return this._keys.length--,this._values.length--,G(vn,this._cacheKey)&&(this._cacheKey=it,this._cacheIndex=-2),!0}return!1},Et.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=it,this._cacheIndex=-2},Et.prototype.keys=function(){return new lt(this._keys,this._values,ct)},Et.prototype.values=function(){return new lt(this._keys,this._values,Tt)},Et.prototype.entries=function(){return new lt(this._keys,this._values,rt)},Et.prototype["@@iterator"]=function(){return this.entries()},Et.prototype[D]=function(){return this.entries()},Et.prototype._find=function(vn,In){if(!G(this._cacheKey,vn)){this._cacheIndex=-1;for(var Un=0;Un<this._keys.length;Un++)if(G(this._keys[Un],vn)){this._cacheIndex=Un;break}}return this._cacheIndex<0&&In&&(this._cacheIndex=this._keys.length,this._keys.push(vn),this._values.push(void 0)),this._cacheIndex},Et}();function ct(Et,vn){return Et}function Tt(Et,vn){return vn}function rt(Et,vn){return[Et,vn]}}(),A="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function Jt(){return function(){function Mt(){this._map=new B}return Object.defineProperty(Mt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Mt.prototype.has=function(lt){return this._map.has(lt)},Mt.prototype.add=function(lt){return this._map.set(lt,lt),this},Mt.prototype.delete=function(lt){return this._map.delete(lt)},Mt.prototype.clear=function(){this._map.clear()},Mt.prototype.keys=function(){return this._map.keys()},Mt.prototype.values=function(){return this._map.keys()},Mt.prototype.entries=function(){return this._map.entries()},Mt.prototype["@@iterator"]=function(){return this.keys()},Mt.prototype[D]=function(){return this.keys()},Mt}()}(),T="function"==typeof WeakMap?WeakMap:function Qe(){var it=16,Mt=k.create(),lt=Bt();return function(){function vn(){this._key=Bt()}return vn.prototype.has=function(In){var Un=ct(In,!1);return void 0!==Un&&k.has(Un,this._key)},vn.prototype.get=function(In){var Un=ct(In,!1);return void 0!==Un?k.get(Un,this._key):void 0},vn.prototype.set=function(In,Un){return ct(In,!0)[this._key]=Un,this},vn.prototype.delete=function(In){var Un=ct(In,!1);return void 0!==Un&&delete Un[this._key]},vn.prototype.clear=function(){this._key=Bt()},vn}();function Bt(){var vn;do{vn="@@WeakMap@@"+Et()}while(k.has(Mt,vn));return Mt[vn]=!0,vn}function ct(vn,In){if(!m.call(vn,lt)){if(!In)return;Object.defineProperty(vn,lt,{value:k.create()})}return vn[lt]}function Tt(vn,In){for(var Un=0;Un<In;++Un)vn[Un]=255*Math.random()|0;return vn}function Et(){var vn=function rt(vn){if("function"==typeof Uint8Array){var In=new Uint8Array(vn);return typeof crypto<"u"?crypto.getRandomValues(In):typeof msCrypto<"u"?msCrypto.getRandomValues(In):Tt(In,vn),In}return Tt(new Array(vn),vn)}(it);vn[6]=79&vn[6]|64,vn[8]=191&vn[8]|128;for(var In="",Un=0;Un<it;++Un){var Jn=vn[Un];(4===Un||6===Un||8===Un)&&(In+="-"),Jn<16&&(In+="0"),In+=Jn.toString(16).toLowerCase()}return In}}(),b=g?Symbol.for("@reflect-metadata:registry"):void 0,J=function ke(){var it;return!We(b)&&wt(r.Reflect)&&Object.isExtensible(r.Reflect)&&(it=r.Reflect[b]),We(it)&&(it=function Te(){var it;!We(b)&&typeof r.Reflect<"u"&&!(b in r.Reflect)&&"function"==typeof r.Reflect.defineMetadata&&(it=function nt(it){var Mt=it.defineMetadata,lt=it.hasOwnMetadata,Bt=it.getOwnMetadata,ct=it.getOwnMetadataKeys,Tt=it.deleteMetadata,rt=new T;return{isProviderFor:function(vn,In){var Un=rt.get(vn);return!(We(Un)||!Un.has(In))||!!ct(vn,In).length&&(We(Un)&&(Un=new A,rt.set(vn,Un)),Un.add(In),!0)},OrdinaryDefineOwnMetadata:Mt,OrdinaryHasOwnMetadata:lt,OrdinaryGetOwnMetadata:Bt,OrdinaryOwnMetadataKeys:ct,OrdinaryDeleteMetadata:Tt}}(r.Reflect));var Mt,lt,Bt,ct=new T,Tt={registerProvider:rt,getProvider:vn,setProvider:Un};return Tt;function rt(Jn){if(!Object.isExtensible(Tt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case it===Jn:break;case We(Mt):Mt=Jn;break;case Mt===Jn:break;case We(lt):lt=Jn;break;case lt===Jn:break;default:void 0===Bt&&(Bt=new A),Bt.add(Jn)}}function Et(Jn,Cr){if(!We(Mt)){if(Mt.isProviderFor(Jn,Cr))return Mt;if(!We(lt)){if(lt.isProviderFor(Jn,Cr))return Mt;if(!We(Bt))for(var wn=Z(Bt);;){var cn=V(wn);if(!cn)return;var Yt=f(cn);if(Yt.isProviderFor(Jn,Cr))return x(wn),Yt}}}if(!We(it)&&it.isProviderFor(Jn,Cr))return it}function vn(Jn,Cr){var cn,wn=ct.get(Jn);return We(wn)||(cn=wn.get(Cr)),We(cn)&&(We(cn=Et(Jn,Cr))||(We(wn)&&(wn=new B,ct.set(Jn,wn)),wn.set(Cr,cn))),cn}function In(Jn){if(We(Jn))throw new TypeError;return Mt===Jn||lt===Jn||!We(Bt)&&Bt.has(Jn)}function Un(Jn,Cr,wn){if(!In(wn))throw new Error("Metadata provider not registered.");var cn=vn(Jn,Cr);if(cn!==wn){if(!We(cn))return!1;var Yt=ct.get(Jn);We(Yt)&&(Yt=new B,ct.set(Jn,Yt)),Yt.set(Cr,wn)}return!0}}()),!We(b)&&wt(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,b,{enumerable:!1,configurable:!1,writable:!1,value:it}),it}(),ce=function Ee(it){var Mt=new T,lt={isProviderFor:function(In,Un){var Jn=Mt.get(In);return!We(Jn)&&Jn.has(Un)},OrdinaryDefineOwnMetadata:function rt(In,Un,Jn,Cr){Bt(Jn,Cr,!0).set(In,Un)},OrdinaryHasOwnMetadata:function ct(In,Un,Jn){var Cr=Bt(Un,Jn,!1);return!We(Cr)&&Ce(Cr.has(In))},OrdinaryGetOwnMetadata:function Tt(In,Un,Jn){var Cr=Bt(Un,Jn,!1);if(!We(Cr))return Cr.get(In)},OrdinaryOwnMetadataKeys:function Et(In,Un){var Jn=[],Cr=Bt(In,Un,!1);if(We(Cr))return Jn;for(var cn=Z(Cr.keys()),Yt=0;;){var Qt=V(cn);if(!Qt)return Jn.length=Yt,Jn;var jn=f(Qt);try{Jn[Yt]=jn}catch(Lt){try{x(cn)}finally{throw Lt}}Yt++}},OrdinaryDeleteMetadata:function vn(In,Un,Jn){var Cr=Bt(Un,Jn,!1);if(We(Cr)||!Cr.delete(In))return!1;if(0===Cr.size){var wn=Mt.get(Un);We(wn)||(wn.delete(Jn),0===wn.size&&Mt.delete(wn))}return!0}};return J.registerProvider(lt),lt;function Bt(In,Un,Jn){var Cr=Mt.get(In),wn=!1;if(We(Cr)){if(!Jn)return;Cr=new B,Mt.set(In,Cr),wn=!0}var cn=Cr.get(Un);if(We(cn)){if(!Jn)return;if(cn=new B,Cr.set(Un,cn),!it.setProvider(In,Un,lt))throw Cr.delete(Un),wn&&Mt.delete(In),new Error("Wrong provider for target.")}return cn}}(J);function Ge(it,Mt,lt){if(gt(it,Mt,lt))return!0;var ct=ye(Mt);return!st(ct)&&Ge(it,ct,lt)}function gt(it,Mt,lt){var Bt=at(Mt,lt,!1);return!We(Bt)&&Ce(Bt.OrdinaryHasOwnMetadata(it,Mt,lt))}function _t(it,Mt,lt){if(gt(it,Mt,lt))return zt(it,Mt,lt);var ct=ye(Mt);return st(ct)?void 0:_t(it,ct,lt)}function zt(it,Mt,lt){var Bt=at(Mt,lt,!1);if(!We(Bt))return Bt.OrdinaryGetOwnMetadata(it,Mt,lt)}function Rn(it,Mt,lt,Bt){at(lt,Bt,!0).OrdinaryDefineOwnMetadata(it,Mt,lt,Bt)}function Oe(it,Mt){var lt=De(it,Mt),Bt=ye(it);if(null===Bt)return lt;var ct=Oe(Bt,Mt);if(ct.length<=0)return lt;if(lt.length<=0)return ct;for(var Tt=new A,rt=[],Et=0,vn=lt;Et<vn.length;Et++)Tt.has(In=vn[Et])||(Tt.add(In),rt.push(In));for(var Jn=0,Cr=ct;Jn<Cr.length;Jn++){var In;Tt.has(In=Cr[Jn])||(Tt.add(In),rt.push(In))}return rt}function De(it,Mt){var lt=at(it,Mt,!1);return lt?lt.OrdinaryOwnMetadataKeys(it,Mt):[]}function He(it){if(null===it)return 1;switch(typeof it){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===it?1:6;default:return 6}}function We(it){return void 0===it}function st(it){return null===it}function wt(it){return"object"==typeof it?null!==it:"function"==typeof it}function kt(it,Mt){switch(He(it)){case 0:case 1:case 2:case 3:case 4:case 5:return it}var lt=3===Mt?"string":5===Mt?"number":"default",Bt=_e(it,C);if(void 0!==Bt){var ct=Bt.call(it,lt);if(wt(ct))throw new TypeError;return ct}return function je(it,Mt){if("string"===Mt){var lt=it.toString;if(y(lt)&&!wt(Bt=lt.call(it)))return Bt;if(y(ct=it.valueOf)&&!wt(Bt=ct.call(it)))return Bt}else{var ct;if(y(ct=it.valueOf)&&!wt(Bt=ct.call(it)))return Bt;var Bt,Tt=it.toString;if(y(Tt)&&!wt(Bt=Tt.call(it)))return Bt}throw new TypeError}(it,"default"===lt?"number":lt)}function Ce(it){return!!it}function Re(it){var Mt=kt(it,3);return function ft(it){return"symbol"==typeof it}(Mt)?Mt:function ne(it){return""+it}(Mt)}function te(it){return Array.isArray?Array.isArray(it):it instanceof Object?it instanceof Array:"[object Array]"===Object.prototype.toString.call(it)}function y(it){return"function"==typeof it}function M(it){return"function"==typeof it}function G(it,Mt){return it===Mt||it!=it&&Mt!=Mt}function _e(it,Mt){var lt=it[Mt];if(null!=lt){if(!y(lt))throw new TypeError;return lt}}function Z(it){var Mt=_e(it,D);if(!y(Mt))throw new TypeError;var lt=Mt.call(it);if(!wt(lt))throw new TypeError;return lt}function f(it){return it.value}function V(it){var Mt=it.next();return!Mt.done&&Mt}function x(it){var Mt=it.return;Mt&&Mt.call(it)}function ye(it){var Mt=Object.getPrototypeOf(it);if("function"!=typeof it||it===z||Mt!==z)return Mt;var lt=it.prototype,Bt=lt&&Object.getPrototypeOf(lt);if(null==Bt||Bt===Object.prototype)return Mt;var ct=Bt.constructor;return"function"!=typeof ct||ct===it?Mt:ct}function at(it,Mt,lt){var Bt=J.getProvider(it,Mt);if(!We(Bt))return Bt;if(lt){if(J.setProvider(it,Mt,ce))return ce;throw new Error("Illegal state.")}}function Ft(it){return it.__=void 0,delete it.__,it}w("decorate",function W(it,Mt,lt,Bt){if(We(lt)){if(!te(it))throw new TypeError;if(!M(Mt))throw new TypeError;return function Ne(it,Mt){for(var lt=it.length-1;lt>=0;--lt){var ct=(0,it[lt])(Mt);if(!We(ct)&&!st(ct)){if(!M(ct))throw new TypeError;Mt=ct}}return Mt}(it,Mt)}if(!te(it))throw new TypeError;if(!wt(Mt))throw new TypeError;if(!wt(Bt)&&!We(Bt)&&!st(Bt))throw new TypeError;return st(Bt)&&(Bt=void 0),function Ve(it,Mt,lt,Bt){for(var ct=it.length-1;ct>=0;--ct){var rt=(0,it[ct])(Mt,lt,Bt);if(!We(rt)&&!st(rt)){if(!wt(rt))throw new TypeError;Bt=rt}}return Bt}(it,Mt,lt=Re(lt),Bt)}),w("metadata",function se(it,Mt){return function lt(Bt,ct){if(!wt(Bt))throw new TypeError;if(!We(ct)&&!function Y(it){switch(He(it)){case 3:case 4:return!0;default:return!1}}(ct))throw new TypeError;Rn(it,Mt,Bt,ct)}}),w("defineMetadata",function Q(it,Mt,lt,Bt){if(!wt(lt))throw new TypeError;return We(Bt)||(Bt=Re(Bt)),Rn(it,Mt,lt,Bt)}),w("hasMetadata",function Ie(it,Mt,lt){if(!wt(Mt))throw new TypeError;return We(lt)||(lt=Re(lt)),Ge(it,Mt,lt)}),w("hasOwnMetadata",function ae(it,Mt,lt){if(!wt(Mt))throw new TypeError;return We(lt)||(lt=Re(lt)),gt(it,Mt,lt)}),w("getMetadata",function Me(it,Mt,lt){if(!wt(Mt))throw new TypeError;return We(lt)||(lt=Re(lt)),_t(it,Mt,lt)}),w("getOwnMetadata",function q(it,Mt,lt){if(!wt(Mt))throw new TypeError;return We(lt)||(lt=Re(lt)),zt(it,Mt,lt)}),w("getMetadataKeys",function $(it,Mt){if(!wt(it))throw new TypeError;return We(Mt)||(Mt=Re(Mt)),Oe(it,Mt)}),w("getOwnMetadataKeys",function ge(it,Mt){if(!wt(it))throw new TypeError;return We(Mt)||(Mt=Re(Mt)),De(it,Mt)}),w("deleteMetadata",function K(it,Mt,lt){if(!wt(Mt))throw new TypeError;if(We(lt)||(lt=Re(lt)),!wt(Mt))throw new TypeError;We(lt)||(lt=Re(lt));var Bt=at(Mt,lt,!1);return!We(Bt)&&Bt.OrdinaryDeleteMetadata(it,Mt,lt)})}(m,r),typeof r.Reflect>"u"&&(r.Reflect=be)}()},88696:bn=>{bn.exports=function be(w,r){this.v=w,this.k=r},bn.exports.__esModule=!0,bn.exports.default=bn.exports},88429:(bn,be,w)=>{var r=w(88696);bn.exports=function m(g){var C={},D=!1;function h(U,F){return D=!0,F=new Promise(function(k){k(g[U](F))}),{done:!1,value:new r(F,1)}}return C[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},C.next=function(U){return D?(D=!1,U):h("next",U)},"function"==typeof g.throw&&(C.throw=function(U){if(D)throw D=!1,U;return h("throw",U)}),"function"==typeof g.return&&(C.return=function(U){return D?(D=!1,U):h("return",U)}),C},bn.exports.__esModule=!0,bn.exports.default=bn.exports},57909:bn=>{function w(r){function m(g){if(Object(g)!==g)return Promise.reject(new TypeError(g+" is not an object."));var C=g.done;return Promise.resolve(g.value).then(function(D){return{value:D,done:C}})}return(w=function(C){this.s=C,this.n=C.next}).prototype={s:null,n:null,next:function(){return m(this.n.apply(this.s,arguments))},return:function(C){var D=this.s.return;return void 0===D?Promise.resolve({value:C,done:!0}):m(D.apply(this.s,arguments))},throw:function(C){var D=this.s.return;return void 0===D?Promise.reject(C):m(D.apply(this.s,arguments))}},new w(r)}bn.exports=function be(r){var m,g,C,D=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,C=Symbol.iterator);D--;){if(g&&null!=(m=r[g]))return m.call(r);if(C&&null!=(m=r[C]))return new w(m.call(r));g="@@asyncIterator",C="@@iterator"}throw new TypeError("Object is not async iterable")},bn.exports.__esModule=!0,bn.exports.default=bn.exports},31049:bn=>{function be(r,m,g,C,D,h,U){try{var F=r[h](U),k=F.value}catch(z){return void g(z)}F.done?m(k):Promise.resolve(k).then(C,D)}bn.exports=function w(r){return function(){var m=this,g=arguments;return new Promise(function(C,D){var h=r.apply(m,g);function U(k){be(h,C,D,U,F,"next",k)}function F(k){be(h,C,D,U,F,"throw",k)}U(void 0)})}},bn.exports.__esModule=!0,bn.exports.default=bn.exports},47604:(bn,be,w)=>{var r=w(88696);bn.exports=function m(g){return new r(g,0)},bn.exports.__esModule=!0,bn.exports.default=bn.exports},88322:(bn,be,w)=>{var r=w(88696);function g(C){var D,h;function U(k,z){try{var B=C[k](z),A=B.value,T=A instanceof r;Promise.resolve(T?A.v:A).then(function(b){if(T){var J="return"===k?"return":"next";if(!A.k||b.done)return U(J,b);b=C[J](b).value}F(B.done?"return":"normal",b)},function(b){U("throw",b)})}catch(b){F("throw",b)}}function F(k,z){switch(k){case"return":D.resolve({value:z,done:!0});break;case"throw":D.reject(z);break;default:D.resolve({value:z,done:!1})}(D=D.next)?U(D.key,D.arg):h=null}this._invoke=function(k,z){return new Promise(function(B,A){var T={key:k,arg:z,resolve:B,reject:A,next:null};h?h=h.next=T:(D=h=T,U(k,z))})},"function"!=typeof C.return&&(this.return=void 0)}g.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},g.prototype.next=function(C){return this._invoke("next",C)},g.prototype.throw=function(C){return this._invoke("throw",C)},g.prototype.return=function(C){return this._invoke("return",C)},bn.exports=function m(C){return function(){return new g(C.apply(this,arguments))}},bn.exports.__esModule=!0,bn.exports.default=bn.exports},49969:(bn,be,w)=>{"use strict";w.d(be,{FX:()=>K,If:()=>r,K2:()=>h,MA:()=>A,Os:()=>D,P:()=>b,hZ:()=>g,i0:()=>C,iF:()=>U,kY:()=>z,kp:()=>m,lY:()=>B,sM:()=>T,sf:()=>$,ui:()=>ge,wk:()=>F});var r=function(Ne){return Ne[Ne.State=0]="State",Ne[Ne.Transition=1]="Transition",Ne[Ne.Sequence=2]="Sequence",Ne[Ne.Group=3]="Group",Ne[Ne.Animate=4]="Animate",Ne[Ne.Keyframes=5]="Keyframes",Ne[Ne.Style=6]="Style",Ne[Ne.Trigger=7]="Trigger",Ne[Ne.Reference=8]="Reference",Ne[Ne.AnimateChild=9]="AnimateChild",Ne[Ne.AnimateRef=10]="AnimateRef",Ne[Ne.Query=11]="Query",Ne[Ne.Stagger=12]="Stagger",Ne}(r||{});const m="*";function g(Ne,Ve){return{type:r.Trigger,name:Ne,definitions:Ve,options:{}}}function C(Ne,Ve=null){return{type:r.Animate,styles:Ve,timings:Ne}}function D(Ne,Ve=null){return{type:r.Group,steps:Ne,options:Ve}}function h(Ne,Ve=null){return{type:r.Sequence,steps:Ne,options:Ve}}function U(Ne){return{type:r.Style,styles:Ne,offset:null}}function F(Ne,Ve,Ge){return{type:r.State,name:Ne,styles:Ve,options:Ge}}function z(Ne,Ve,Ge=null){return{type:r.Transition,expr:Ne,animation:Ve,options:Ge}}function B(Ne,Ve=null){return{type:r.Reference,animation:Ne,options:Ve}}function A(Ne=null){return{type:r.AnimateChild,options:Ne}}function T(Ne,Ve=null){return{type:r.AnimateRef,animation:Ne,options:Ve}}function b(Ne,Ve,Ge=null){return{type:r.Query,selector:Ne,animation:Ve,options:Ge}}class ${constructor(Ve=0,Ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ve+Ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ve=>Ve()),this._onDoneFns=[])}onStart(Ve){this._originalOnStartFns.push(Ve),this._onStartFns.push(Ve)}onDone(Ve){this._originalOnDoneFns.push(Ve),this._onDoneFns.push(Ve)}onDestroy(Ve){this._onDestroyFns.push(Ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ve=>Ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ve=>Ve()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ve){this._position=this.totalTime?Ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ve){const Ge="start"==Ve?this._onStartFns:this._onDoneFns;Ge.forEach(gt=>gt()),Ge.length=0}}class ge{constructor(Ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ve;let Ge=0,gt=0,_t=0;const zt=this.players.length;0==zt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Rn=>{Rn.onDone(()=>{++Ge==zt&&this._onFinish()}),Rn.onDestroy(()=>{++gt==zt&&this._onDestroy()}),Rn.onStart(()=>{++_t==zt&&this._onStart()})}),this.totalTime=this.players.reduce((Rn,Oe)=>Math.max(Rn,Oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ve=>Ve()),this._onDoneFns=[])}init(){this.players.forEach(Ve=>Ve.init())}onStart(Ve){this._onStartFns.push(Ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ve=>Ve()),this._onStartFns=[])}onDone(Ve){this._onDoneFns.push(Ve)}onDestroy(Ve){this._onDestroyFns.push(Ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ve=>Ve.play())}pause(){this.players.forEach(Ve=>Ve.pause())}restart(){this.players.forEach(Ve=>Ve.restart())}finish(){this._onFinish(),this.players.forEach(Ve=>Ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ve=>Ve.destroy()),this._onDestroyFns.forEach(Ve=>Ve()),this._onDestroyFns=[])}reset(){this.players.forEach(Ve=>Ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ve){const Ge=Ve*this.totalTime;this.players.forEach(gt=>{const _t=gt.totalTime?Math.min(1,Ge/gt.totalTime):1;gt.setPosition(_t)})}getPosition(){const Ve=this.players.reduce((Ge,gt)=>null===Ge||gt.totalTime>Ge.totalTime?gt:Ge,null);return null!=Ve?Ve.getPosition():0}beforeDestroy(){this.players.forEach(Ve=>{Ve.beforeDestroy&&Ve.beforeDestroy()})}triggerCallback(Ve){const Ge="start"==Ve?this._onStartFns:this._onDoneFns;Ge.forEach(gt=>gt()),Ge.length=0}}const K="!"},18617:(bn,be,w)=>{"use strict";w.d(be,{Ae:()=>$,Ai:()=>Cr,Au:()=>He,Bu:()=>We,FN:()=>jn,GX:()=>nt,Pd:()=>Bn,Q_:()=>dn,Z2:()=>wt,Z7:()=>te,_G:()=>Mt,kB:()=>at,px:()=>q,vr:()=>gt,w6:()=>lt});var r=w(60177),m=w(54438),g=w(36860),C=w(67336),D=w(85052),h=w(81027),U=w(28454),F=w(15877),k=w(29160),z=w(39705),B=w(87996),A=w(14264),T=w(36110),b=w(17365),J=w(87145),ce=w(21082),W=w(37925),se=w(8045),Q=w(72318),Ie=w(14085),ae=w(99327);const Me=" ";function q(Ct,me,ue){const Ue=ge(Ct,me);ue=ue.trim(),!Ue.some(bt=>bt.trim()===ue)&&(Ue.push(ue),Ct.setAttribute(me,Ue.join(Me)))}function $(Ct,me,ue){const Ue=ge(Ct,me);ue=ue.trim();const bt=Ue.filter(Ht=>Ht!==ue);bt.length?Ct.setAttribute(me,bt.join(Me)):Ct.removeAttribute(me)}function ge(Ct,me){return Ct.getAttribute(me)?.match(/\S+/g)??[]}const Ne="cdk-describedby-message",Ve="cdk-describedby-host";let Ge=0,gt=(()=>{class Ct{constructor(ue,Ue){this._platform=Ue,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ge++,this._document=ue,this._id=(0,m.WQX)(m.sZ2)+"-"+Ge++}describe(ue,Ue,bt){if(!this._canBeDescribed(ue,Ue))return;const Ht=_t(Ue,bt);"string"!=typeof Ue?(zt(Ue,this._id),this._messageRegistry.set(Ht,{messageElement:Ue,referenceCount:0})):this._messageRegistry.has(Ht)||this._createMessageElement(Ue,bt),this._isElementDescribedByMessage(ue,Ht)||this._addMessageReference(ue,Ht)}removeDescription(ue,Ue,bt){if(!Ue||!this._isElementNode(ue))return;const Ht=_t(Ue,bt);if(this._isElementDescribedByMessage(ue,Ht)&&this._removeMessageReference(ue,Ht),"string"==typeof Ue){const fn=this._messageRegistry.get(Ht);fn&&0===fn.referenceCount&&this._deleteMessageElement(Ht)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const ue=this._document.querySelectorAll(`[${Ve}="${this._id}"]`);for(let Ue=0;Ue<ue.length;Ue++)this._removeCdkDescribedByReferenceIds(ue[Ue]),ue[Ue].removeAttribute(Ve);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(ue,Ue){const bt=this._document.createElement("div");zt(bt,this._id),bt.textContent=ue,Ue&&bt.setAttribute("role",Ue),this._createMessagesContainer(),this._messagesContainer.appendChild(bt),this._messageRegistry.set(_t(ue,Ue),{messageElement:bt,referenceCount:0})}_deleteMessageElement(ue){this._messageRegistry.get(ue)?.messageElement?.remove(),this._messageRegistry.delete(ue)}_createMessagesContainer(){if(this._messagesContainer)return;const ue="cdk-describedby-message-container",Ue=this._document.querySelectorAll(`.${ue}[platform="server"]`);for(let Ht=0;Ht<Ue.length;Ht++)Ue[Ht].remove();const bt=this._document.createElement("div");bt.style.visibility="hidden",bt.classList.add(ue),bt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&bt.setAttribute("platform","server"),this._document.body.appendChild(bt),this._messagesContainer=bt}_removeCdkDescribedByReferenceIds(ue){const Ue=ge(ue,"aria-describedby").filter(bt=>0!=bt.indexOf(Ne));ue.setAttribute("aria-describedby",Ue.join(" "))}_addMessageReference(ue,Ue){const bt=this._messageRegistry.get(Ue);q(ue,"aria-describedby",bt.messageElement.id),ue.setAttribute(Ve,this._id),bt.referenceCount++}_removeMessageReference(ue,Ue){const bt=this._messageRegistry.get(Ue);bt.referenceCount--,$(ue,"aria-describedby",bt.messageElement.id),ue.removeAttribute(Ve)}_isElementDescribedByMessage(ue,Ue){const bt=ge(ue,"aria-describedby"),Ht=this._messageRegistry.get(Ue),fn=Ht&&Ht.messageElement.id;return!!fn&&-1!=bt.indexOf(fn)}_canBeDescribed(ue,Ue){if(!this._isElementNode(ue))return!1;if(Ue&&"object"==typeof Ue)return!0;const bt=null==Ue?"":`${Ue}`.trim(),Ht=ue.getAttribute("aria-label");return!(!bt||Ht&&Ht.trim()===bt)}_isElementNode(ue){return ue.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(r.qQ),m.KVO(g.OD))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();function _t(Ct,me){return"string"==typeof Ct?`${me||""}/${Ct}`:Ct}function zt(Ct,me){Ct.id||(Ct.id=`${Ne}-${me}-${Ge++}`)}class Oe{constructor(me,ue){this._letterKeyStream=new D.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new D.B,this.selectedItem=this._selectedItem;const Ue="number"==typeof ue?.debounceInterval?ue.debounceInterval:200;ue?.skipPredicate&&(this._skipPredicateFn=ue.skipPredicate),this.setItems(me),this._setupKeyHandler(Ue)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(me){this._selectedItemIndex=me}setItems(me){this._items=me}handleKey(me){const ue=me.keyCode;me.key&&1===me.key.length?this._letterKeyStream.next(me.key.toLocaleUpperCase()):(ue>=C.A&&ue<=C.Z||ue>=C.f2&&ue<=C.bn)&&this._letterKeyStream.next(String.fromCharCode(ue))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(me){this._letterKeyStream.pipe((0,z.M)(ue=>this._pressedLetters.push(ue)),(0,B.B)(me),(0,A.p)(()=>this._pressedLetters.length>0),(0,T.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(ue=>{for(let Ue=1;Ue<this._items.length+1;Ue++){const Ht=this._items[(this._selectedItemIndex+Ue)%this._items.length];if(!this._skipPredicateFn?.(Ht)&&0===Ht.getLabel?.().toLocaleUpperCase().trim().indexOf(ue)){this._selectedItem.next(Ht);break}}this._pressedLetters=[]})}}class De{constructor(me,ue){this._items=me,this._activeItemIndex=-1,this._activeItem=(0,m.vPA)(null),this._wrap=!1,this._typeaheadSubscription=h.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ue=>Ue.disabled,this.tabOut=new D.B,this.change=new D.B,me instanceof m.rOR?this._itemChangesSubscription=me.changes.subscribe(Ue=>this._itemsChanged(Ue.toArray())):(0,m.Hps)(me)&&(this._effectRef=(0,m.QZP)(()=>this._itemsChanged(me()),{injector:ue}))}skipPredicate(me){return this._skipPredicateFn=me,this}withWrap(me=!0){return this._wrap=me,this}withVerticalOrientation(me=!0){return this._vertical=me,this}withHorizontalOrientation(me){return this._horizontal=me,this}withAllowedModifierKeys(me){return this._allowedModifierKeys=me,this}withTypeAhead(me=200){this._typeaheadSubscription.unsubscribe();const ue=this._getItemsArray();return this._typeahead=new Oe(ue,{debounceInterval:"number"==typeof me?me:void 0,skipPredicate:Ue=>this._skipPredicateFn(Ue)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Ue=>{this.setActiveItem(Ue)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(me=!0){return this._homeAndEnd=me,this}withPageUpDown(me=!0,ue=10){return this._pageUpAndDown={enabled:me,delta:ue},this}setActiveItem(me){const ue=this._activeItem();this.updateActiveItem(me),this._activeItem()!==ue&&this.change.next(this._activeItemIndex)}onKeydown(me){const ue=me.keyCode,bt=["altKey","ctrlKey","metaKey","shiftKey"].every(Ht=>!me[Ht]||this._allowedModifierKeys.indexOf(Ht)>-1);switch(ue){case C.wn:return void this.tabOut.next();case C.n6:if(this._vertical&&bt){this.setNextItemActive();break}return;case C.i7:if(this._vertical&&bt){this.setPreviousItemActive();break}return;case C.LE:if(this._horizontal&&bt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case C.UQ:if(this._horizontal&&bt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case C.yZ:if(this._homeAndEnd&&bt){this.setFirstItemActive();break}return;case C.Kp:if(this._homeAndEnd&&bt){this.setLastItemActive();break}return;case C.w_:if(this._pageUpAndDown.enabled&&bt){const Ht=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ht>0?Ht:0,1);break}return;case C.dB:if(this._pageUpAndDown.enabled&&bt){const Ht=this._activeItemIndex+this._pageUpAndDown.delta,fn=this._getItemsArray().length;this._setActiveItemByIndex(Ht<fn?Ht:fn-1,-1);break}return;default:return void((bt||(0,C.rp)(me,"shiftKey"))&&this._typeahead?.handleKey(me))}this._typeahead?.reset(),me.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(me){const ue=this._getItemsArray(),Ue="number"==typeof me?me:ue.indexOf(me);this._activeItem.set(ue[Ue]??null),this._activeItemIndex=Ue,this._typeahead?.setCurrentSelectedItemIndex(Ue)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(me){this._wrap?this._setActiveInWrapMode(me):this._setActiveInDefaultMode(me)}_setActiveInWrapMode(me){const ue=this._getItemsArray();for(let Ue=1;Ue<=ue.length;Ue++){const bt=(this._activeItemIndex+me*Ue+ue.length)%ue.length;if(!this._skipPredicateFn(ue[bt]))return void this.setActiveItem(bt)}}_setActiveInDefaultMode(me){this._setActiveItemByIndex(this._activeItemIndex+me,me)}_setActiveItemByIndex(me,ue){const Ue=this._getItemsArray();if(Ue[me]){for(;this._skipPredicateFn(Ue[me]);)if(!Ue[me+=ue])return;this.setActiveItem(me)}}_getItemsArray(){return(0,m.Hps)(this._items)?this._items():this._items instanceof m.rOR?this._items.toArray():this._items}_itemsChanged(me){this._typeahead?.setItems(me);const ue=this._activeItem();if(ue){const Ue=me.indexOf(ue);Ue>-1&&Ue!==this._activeItemIndex&&(this._activeItemIndex=Ue,this._typeahead?.setCurrentSelectedItemIndex(Ue))}}}class He extends De{setActiveItem(me){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(me),this.activeItem&&this.activeItem.setActiveStyles()}}class We extends De{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(me){return this._origin=me,this}setActiveItem(me){super.setActiveItem(me),this.activeItem&&this.activeItem.focus(this._origin)}}class st{_initializeFocus(){if(this._hasInitialFocused||0===this._items.length)return;let me=0;for(let Ue=0;Ue<this._items.length;Ue++)if(!this._skipPredicateFn(this._items[Ue])&&!this._isItemDisabled(this._items[Ue])){me=Ue;break}const ue=this._items[me];ue.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=me,this._activeItem=ue,this._typeahead?.setCurrentSelectedItemIndex(me),ue.makeFocusable()):this.focusItem(me),this._hasInitialFocused=!0}constructor(me,ue){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=Ue=>!1,this._trackByFn=Ue=>Ue,this._items=[],this._typeaheadSubscription=h.yU.EMPTY,this._hasInitialFocused=!1,this.change=new D.B,me instanceof m.rOR?(this._items=me.toArray(),me.changes.subscribe(Ue=>{this._items=Ue.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):(0,U.A)(me)?me.subscribe(Ue=>{this._items=Ue,this._typeahead?.setItems(Ue),this._updateActiveItemIndex(Ue),this._initializeFocus()}):(this._items=me,this._initializeFocus()),"boolean"==typeof ue.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=ue.shouldActivationFollowFocus),ue.horizontalOrientation&&(this._horizontalOrientation=ue.horizontalOrientation),ue.skipPredicate&&(this._skipPredicateFn=ue.skipPredicate),ue.trackBy&&(this._trackByFn=ue.trackBy),typeof ue.typeAheadDebounceInterval<"u"&&this._setTypeAhead(ue.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(me){switch(me.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===me.key){this._expandAllItemsAtCurrentItemLevel();break}return void this._typeahead?.handleKey(me)}this._typeahead?.reset(),me.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(me,ue={}){ue.emitChangeEvent??=!0;let Ue="number"==typeof me?me:this._items.findIndex(fn=>this._trackByFn(fn)===this._trackByFn(me));if(Ue<0||Ue>=this._items.length)return;const bt=this._items[Ue];if(null!==this._activeItem&&this._trackByFn(bt)===this._trackByFn(this._activeItem))return;const Ht=this._activeItem;this._activeItem=bt??null,this._activeItemIndex=Ue,this._typeahead?.setCurrentSelectedItemIndex(Ue),this._activeItem?.focus(),Ht?.unfocus(),ue.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(me){const ue=this._activeItem;if(!ue)return;const Ue=me.findIndex(bt=>this._trackByFn(bt)===this._trackByFn(ue));Ue>-1&&Ue!==this._activeItemIndex&&(this._activeItemIndex=Ue,this._typeahead?.setCurrentSelectedItemIndex(Ue))}_setTypeAhead(me){this._typeahead=new Oe(this._items,{debounceInterval:"number"==typeof me?me:void 0,skipPredicate:ue=>this._skipPredicateFn(ue)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(ue=>{this.focusItem(ue)})}_findNextAvailableItemIndex(me){for(let ue=me+1;ue<this._items.length;ue++)if(!this._skipPredicateFn(this._items[ue]))return ue;return me}_findPreviousAvailableItemIndex(me){for(let ue=me-1;ue>=0;ue--)if(!this._skipPredicateFn(this._items[ue]))return ue;return me}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const me=this._activeItem.getParent();if(!me||this._skipPredicateFn(me))return;this.focusItem(me)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?(0,se.x)(this._activeItem.getChildren()).pipe((0,b.s)(1)).subscribe(me=>{const ue=me.find(Ue=>!this._skipPredicateFn(Ue));ue&&this.focusItem(ue)}):this._activeItem.expand())}_isCurrentItemExpanded(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}_isItemDisabled(me){return"boolean"==typeof me.isDisabled?me.isDisabled:me.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const me=this._activeItem.getParent();let ue;ue=me?(0,se.x)(me.getChildren()):(0,F.of)(this._items.filter(Ue=>null===Ue.getParent())),ue.pipe((0,b.s)(1)).subscribe(Ue=>{for(const bt of Ue)bt.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}const wt=new m.nKC("tree-key-manager",{providedIn:"root",factory:function ft(){return(Ct,me)=>new st(Ct,me)}});let te=(()=>{class Ct{constructor(ue){this._platform=ue}isDisabled(ue){return ue.hasAttribute("disabled")}isVisible(ue){return function M(Ct){return!!(Ct.offsetWidth||Ct.offsetHeight||"function"==typeof Ct.getClientRects&&Ct.getClientRects().length)}(ue)&&"visible"===getComputedStyle(ue).visibility}isTabbable(ue){if(!this._platform.isBrowser)return!1;const Ue=function y(Ct){try{return Ct.frameElement}catch{return null}}(function ke(Ct){return Ct.ownerDocument&&Ct.ownerDocument.defaultView||window}(ue));if(Ue&&(-1===x(Ue)||!this.isVisible(Ue)))return!1;let bt=ue.nodeName.toLowerCase(),Ht=x(ue);return ue.hasAttribute("contenteditable")?-1!==Ht:!("iframe"===bt||"object"===bt||this._platform.WEBKIT&&this._platform.IOS&&!function ye(Ct){let me=Ct.nodeName.toLowerCase(),ue="input"===me&&Ct.type;return"text"===ue||"password"===ue||"select"===me||"textarea"===me}(ue))&&("audio"===bt?!!ue.hasAttribute("controls")&&-1!==Ht:"video"===bt?-1!==Ht&&(null!==Ht||this._platform.FIREFOX||ue.hasAttribute("controls")):ue.tabIndex>=0)}isFocusable(ue,Ue){return function Te(Ct){return!function G(Ct){return function Z(Ct){return"input"==Ct.nodeName.toLowerCase()}(Ct)&&"hidden"==Ct.type}(Ct)&&(function Y(Ct){let me=Ct.nodeName.toLowerCase();return"input"===me||"select"===me||"button"===me||"textarea"===me}(Ct)||function _e(Ct){return function f(Ct){return"a"==Ct.nodeName.toLowerCase()}(Ct)&&Ct.hasAttribute("href")}(Ct)||Ct.hasAttribute("contenteditable")||V(Ct))}(ue)&&!this.isDisabled(ue)&&(Ue?.ignoreVisibility||this.isVisible(ue))}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(g.OD))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();function V(Ct){if(!Ct.hasAttribute("tabindex")||void 0===Ct.tabIndex)return!1;let me=Ct.getAttribute("tabindex");return!(!me||isNaN(parseInt(me,10)))}function x(Ct){if(!V(Ct))return null;const me=parseInt(Ct.getAttribute("tabindex")||"",10);return isNaN(me)?-1:me}class Ee{get enabled(){return this._enabled}set enabled(me){this._enabled=me,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(me,this._startAnchor),this._toggleAnchorTabIndex(me,this._endAnchor))}constructor(me,ue,Ue,bt,Ht=!1,fn){this._element=me,this._checker=ue,this._ngZone=Ue,this._document=bt,this._injector=fn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ht||this.attachAnchors()}destroy(){const me=this._startAnchor,ue=this._endAnchor;me&&(me.removeEventListener("focus",this.startAnchorListener),me.remove()),ue&&(ue.removeEventListener("focus",this.endAnchorListener),ue.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(me){return new Promise(ue=>{this._executeOnStable(()=>ue(this.focusInitialElement(me)))})}focusFirstTabbableElementWhenReady(me){return new Promise(ue=>{this._executeOnStable(()=>ue(this.focusFirstTabbableElement(me)))})}focusLastTabbableElementWhenReady(me){return new Promise(ue=>{this._executeOnStable(()=>ue(this.focusLastTabbableElement(me)))})}_getRegionBoundary(me){const ue=this._element.querySelectorAll(`[cdk-focus-region-${me}], [cdkFocusRegion${me}], [cdk-focus-${me}]`);return"start"==me?ue.length?ue[0]:this._getFirstTabbableElement(this._element):ue.length?ue[ue.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(me){const ue=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ue){if(!this._checker.isFocusable(ue)){const Ue=this._getFirstTabbableElement(ue);return Ue?.focus(me),!!Ue}return ue.focus(me),!0}return this.focusFirstTabbableElement(me)}focusFirstTabbableElement(me){const ue=this._getRegionBoundary("start");return ue&&ue.focus(me),!!ue}focusLastTabbableElement(me){const ue=this._getRegionBoundary("end");return ue&&ue.focus(me),!!ue}hasAttached(){return this._hasAttached}_getFirstTabbableElement(me){if(this._checker.isFocusable(me)&&this._checker.isTabbable(me))return me;const ue=me.children;for(let Ue=0;Ue<ue.length;Ue++){const bt=ue[Ue].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ue[Ue]):null;if(bt)return bt}return null}_getLastTabbableElement(me){if(this._checker.isFocusable(me)&&this._checker.isTabbable(me))return me;const ue=me.children;for(let Ue=ue.length-1;Ue>=0;Ue--){const bt=ue[Ue].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ue[Ue]):null;if(bt)return bt}return null}_createAnchor(){const me=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,me),me.classList.add("cdk-visually-hidden"),me.classList.add("cdk-focus-trap-anchor"),me.setAttribute("aria-hidden","true"),me}_toggleAnchorTabIndex(me,ue){me?ue.setAttribute("tabindex","0"):ue.removeAttribute("tabindex")}toggleAnchors(me){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(me,this._startAnchor),this._toggleAnchorTabIndex(me,this._endAnchor))}_executeOnStable(me){this._injector?(0,m.mal)(me,{injector:this._injector}):setTimeout(me)}}let nt=(()=>{class Ct{constructor(ue,Ue,bt){this._checker=ue,this._ngZone=Ue,this._injector=(0,m.WQX)(m.zZn),this._document=bt}create(ue,Ue=!1){return new Ee(ue,this._checker,this._ngZone,this._document,Ue,this._injector)}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(te),m.KVO(m.SKi),m.KVO(r.qQ))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})(),at=(()=>{class Ct{get enabled(){return this.focusTrap?.enabled||!1}set enabled(ue){this.focusTrap&&(this.focusTrap.enabled=ue)}constructor(ue,Ue,bt){this._elementRef=ue,this._focusTrapFactory=Ue,this._previouslyFocusedElement=null,(0,m.WQX)(g.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(ue){const Ue=ue.autoCapture;Ue&&!Ue.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,g.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.rXU(m.aKT),m.rXU(nt),m.rXU(r.qQ))};static#t=this.\u0275dir=m.FsC({type:Ct,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",m.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",m.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[m.GFd,m.OA$]})}return Ct})();function Mt(Ct){return 0===Ct.buttons||0===Ct.detail}function lt(Ct){const me=Ct.touches&&Ct.touches[0]||Ct.changedTouches&&Ct.changedTouches[0];return!(!me||-1!==me.identifier||null!=me.radiusX&&1!==me.radiusX||null!=me.radiusY&&1!==me.radiusY)}const Bt=new m.nKC("cdk-input-modality-detector-options"),ct={ignoreKeys:[C.A$,C.W3,C.eg,C.Ge,C.FX]},rt=(0,g.BQ)({passive:!0,capture:!0});let Et=(()=>{class Ct{get mostRecentModality(){return this._modality.value}constructor(ue,Ue,bt,Ht){this._platform=ue,this._mostRecentTarget=null,this._modality=new k.t(null),this._lastTouchMs=0,this._onKeydown=fn=>{this._options?.ignoreKeys?.some(cr=>cr===fn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.Fb)(fn))},this._onMousedown=fn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Mt(fn)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.Fb)(fn))},this._onTouchstart=fn=>{lt(fn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.Fb)(fn))},this._options={...ct,...Ht},this.modalityDetected=this._modality.pipe((0,J.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ce.F)()),ue.isBrowser&&Ue.runOutsideAngular(()=>{bt.addEventListener("keydown",this._onKeydown,rt),bt.addEventListener("mousedown",this._onMousedown,rt),bt.addEventListener("touchstart",this._onTouchstart,rt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rt),document.removeEventListener("mousedown",this._onMousedown,rt),document.removeEventListener("touchstart",this._onTouchstart,rt))}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(g.OD),m.KVO(m.SKi),m.KVO(r.qQ),m.KVO(Bt,8))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();const vn=new m.nKC("liveAnnouncerElement",{providedIn:"root",factory:function In(){return null}}),Un=new m.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Jn=0,Cr=(()=>{class Ct{constructor(ue,Ue,bt,Ht){this._ngZone=Ue,this._defaultOptions=Ht,this._document=bt,this._liveElement=ue||this._createLiveElement()}announce(ue,...Ue){const bt=this._defaultOptions;let Ht,fn;return 1===Ue.length&&"number"==typeof Ue[0]?fn=Ue[0]:[Ht,fn]=Ue,this.clear(),clearTimeout(this._previousTimeout),Ht||(Ht=bt&&bt.politeness?bt.politeness:"polite"),null==fn&&bt&&(fn=bt.duration),this._liveElement.setAttribute("aria-live",Ht),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(cr=>this._currentResolve=cr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=ue,"number"==typeof fn&&(this._previousTimeout=setTimeout(()=>this.clear(),fn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const ue="cdk-live-announcer-element",Ue=this._document.getElementsByClassName(ue),bt=this._document.createElement("div");for(let Ht=0;Ht<Ue.length;Ht++)Ue[Ht].remove();return bt.classList.add(ue),bt.classList.add("cdk-visually-hidden"),bt.setAttribute("aria-atomic","true"),bt.setAttribute("aria-live","polite"),bt.id="cdk-live-announcer-"+Jn++,this._document.body.appendChild(bt),bt}_exposeAnnouncerToModals(ue){const Ue=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let bt=0;bt<Ue.length;bt++){const Ht=Ue[bt],fn=Ht.getAttribute("aria-owns");fn?-1===fn.indexOf(ue)&&Ht.setAttribute("aria-owns",fn+" "+ue):Ht.setAttribute("aria-owns",ue)}}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(vn,8),m.KVO(m.SKi),m.KVO(r.qQ),m.KVO(Un,8))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();var cn=function(Ct){return Ct[Ct.IMMEDIATE=0]="IMMEDIATE",Ct[Ct.EVENTUAL=1]="EVENTUAL",Ct}(cn||{});const Yt=new m.nKC("cdk-focus-monitor-default-options"),Qt=(0,g.BQ)({passive:!0,capture:!0});let jn=(()=>{class Ct{constructor(ue,Ue,bt,Ht,fn){this._ngZone=ue,this._platform=Ue,this._inputModalityDetector=bt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new D.B,this._rootNodeFocusAndBlurListener=cr=>{for(let ti=(0,g.Fb)(cr);ti;ti=ti.parentElement)"focus"===cr.type?this._onFocus(cr,ti):this._onBlur(cr,ti)},this._document=Ht,this._detectionMode=fn?.detectionMode||cn.IMMEDIATE}monitor(ue,Ue=!1){const bt=(0,Ie.i8)(ue);if(!this._platform.isBrowser||1!==bt.nodeType)return(0,F.of)();const Ht=(0,g.KT)(bt)||this._getDocument(),fn=this._elementInfo.get(bt);if(fn)return Ue&&(fn.checkChildren=!0),fn.subject;const cr={checkChildren:Ue,subject:new D.B,rootNode:Ht};return this._elementInfo.set(bt,cr),this._registerGlobalListeners(cr),cr.subject}stopMonitoring(ue){const Ue=(0,Ie.i8)(ue),bt=this._elementInfo.get(Ue);bt&&(bt.subject.complete(),this._setClasses(Ue),this._elementInfo.delete(Ue),this._removeGlobalListeners(bt))}focusVia(ue,Ue,bt){const Ht=(0,Ie.i8)(ue);Ht===this._getDocument().activeElement?this._getClosestElementsInfo(Ht).forEach(([cr,Hr])=>this._originChanged(cr,Ue,Hr)):(this._setOrigin(Ue),"function"==typeof Ht.focus&&Ht.focus(bt))}ngOnDestroy(){this._elementInfo.forEach((ue,Ue)=>this.stopMonitoring(Ue))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ue){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ue)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ue&&this._isLastInteractionFromInputLabel(ue)?"mouse":"program"}_shouldBeAttributedToTouch(ue){return this._detectionMode===cn.EVENTUAL||!!ue?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ue,Ue){ue.classList.toggle("cdk-focused",!!Ue),ue.classList.toggle("cdk-touch-focused","touch"===Ue),ue.classList.toggle("cdk-keyboard-focused","keyboard"===Ue),ue.classList.toggle("cdk-mouse-focused","mouse"===Ue),ue.classList.toggle("cdk-program-focused","program"===Ue)}_setOrigin(ue,Ue=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ue,this._originFromTouchInteraction="touch"===ue&&Ue,this._detectionMode===cn.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ue,Ue){const bt=this._elementInfo.get(Ue),Ht=(0,g.Fb)(ue);!bt||!bt.checkChildren&&Ue!==Ht||this._originChanged(Ue,this._getFocusOrigin(Ht),bt)}_onBlur(ue,Ue){const bt=this._elementInfo.get(Ue);!bt||bt.checkChildren&&ue.relatedTarget instanceof Node&&Ue.contains(ue.relatedTarget)||(this._setClasses(Ue),this._emitOrigin(bt,null))}_emitOrigin(ue,Ue){ue.subject.observers.length&&this._ngZone.run(()=>ue.subject.next(Ue))}_registerGlobalListeners(ue){if(!this._platform.isBrowser)return;const Ue=ue.rootNode,bt=this._rootNodeFocusListenerCount.get(Ue)||0;bt||this._ngZone.runOutsideAngular(()=>{Ue.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qt),Ue.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qt)}),this._rootNodeFocusListenerCount.set(Ue,bt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,W.Q)(this._stopInputModalityDetector)).subscribe(Ht=>{this._setOrigin(Ht,!0)}))}_removeGlobalListeners(ue){const Ue=ue.rootNode;if(this._rootNodeFocusListenerCount.has(Ue)){const bt=this._rootNodeFocusListenerCount.get(Ue);bt>1?this._rootNodeFocusListenerCount.set(Ue,bt-1):(Ue.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qt),Ue.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qt),this._rootNodeFocusListenerCount.delete(Ue))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ue,Ue,bt){this._setClasses(ue,Ue),this._emitOrigin(bt,Ue),this._lastFocusOrigin=Ue}_getClosestElementsInfo(ue){const Ue=[];return this._elementInfo.forEach((bt,Ht)=>{(Ht===ue||bt.checkChildren&&Ht.contains(ue))&&Ue.push([Ht,bt])}),Ue}_isLastInteractionFromInputLabel(ue){const{_mostRecentTarget:Ue,mostRecentModality:bt}=this._inputModalityDetector;if("mouse"!==bt||!Ue||Ue===ue||"INPUT"!==ue.nodeName&&"TEXTAREA"!==ue.nodeName||ue.disabled)return!1;const Ht=ue.labels;if(Ht)for(let fn=0;fn<Ht.length;fn++)if(Ht[fn].contains(Ue))return!0;return!1}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(m.SKi),m.KVO(g.OD),m.KVO(Et),m.KVO(r.qQ,8),m.KVO(Yt,8))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();var Dn=function(Ct){return Ct[Ct.NONE=0]="NONE",Ct[Ct.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Ct[Ct.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Ct}(Dn||{});const Pn="cdk-high-contrast-black-on-white",Sn="cdk-high-contrast-white-on-black",Tn="cdk-high-contrast-active";let dn=(()=>{class Ct{constructor(ue,Ue){this._platform=ue,this._document=Ue,this._breakpointSubscription=(0,m.WQX)(ae.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Dn.NONE;const ue=this._document.createElement("div");ue.style.backgroundColor="rgb(1,2,3)",ue.style.position="absolute",this._document.body.appendChild(ue);const Ue=this._document.defaultView||window,bt=Ue&&Ue.getComputedStyle?Ue.getComputedStyle(ue):null,Ht=(bt&&bt.backgroundColor||"").replace(/ /g,"");switch(ue.remove(),Ht){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Dn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Dn.BLACK_ON_WHITE}return Dn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ue=this._document.body.classList;ue.remove(Tn,Pn,Sn),this._hasCheckedHighContrastMode=!0;const Ue=this.getHighContrastMode();Ue===Dn.BLACK_ON_WHITE?ue.add(Tn,Pn):Ue===Dn.WHITE_ON_BLACK&&ue.add(Tn,Sn)}}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(g.OD),m.KVO(r.qQ))};static#t=this.\u0275prov=m.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})(),Bn=(()=>{class Ct{constructor(ue){ue._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(m.KVO(dn))};static#t=this.\u0275mod=m.$C({type:Ct});static#n=this.\u0275inj=m.G2t({imports:[Q.w5]})}return Ct})()},9529:(bn,be,w)=>{"use strict";w.d(be,{Ky:()=>k,bU:()=>z,z8:()=>U});var r=w(54438),m=w(45024),g=w(85052),C=w(81027);let D=0;const h=new r.nKC("CdkAccordion");let U=(()=>{class B{constructor(){this._stateChanges=new g.B,this._openCloseAllActions=new g.B,this.id="cdk-accordion-"+D++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(T){this._stateChanges.next(T)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(b){return new(b||B)};static#t=this.\u0275dir=r.FsC({type:B,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",r.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[r.Jv_([{provide:h,useExisting:B}]),r.GFd,r.OA$]})}return B})(),F=0,k=(()=>{class B{get expanded(){return this._expanded}set expanded(T){this._expanded!==T&&(this._expanded=T,this.expandedChange.emit(T),T?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(T,b,J){this.accordion=T,this._changeDetectorRef=b,this._expansionDispatcher=J,this._openCloseAllSubscription=C.yU.EMPTY,this.closed=new r.bkB,this.opened=new r.bkB,this.destroyed=new r.bkB,this.expandedChange=new r.bkB,this.id="cdk-accordion-child-"+F++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=J.listen((ce,W)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===W&&this.id!==ce&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(T=>{this.disabled||(this.expanded=T)})}static#e=this.\u0275fac=function(b){return new(b||B)(r.rXU(h,12),r.rXU(r.gRc),r.rXU(m.zP))};static#t=this.\u0275dir=r.FsC({type:B,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",r.L39],disabled:[2,"disabled","disabled",r.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[r.Jv_([{provide:h,useValue:void 0}]),r.GFd]})}return B})(),z=(()=>{class B{static#e=this.\u0275fac=function(b){return new(b||B)};static#t=this.\u0275mod=r.$C({type:B});static#n=this.\u0275inj=r.G2t({})}return B})()},28203:(bn,be,w)=>{"use strict";w.d(be,{dS:()=>U,ig:()=>F,jI:()=>k});var r=w(54438),m=w(60177);const g=new r.nKC("cdk-dir-doc",{providedIn:"root",factory:function C(){return(0,r.WQX)(m.qQ)}}),D=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function h(z){const B=z?.toLowerCase()||"";return"auto"===B&&typeof navigator<"u"&&navigator?.language?D.test(navigator.language)?"rtl":"ltr":"rtl"===B?"rtl":"ltr"}let U=(()=>{class z{constructor(A){this.value="ltr",this.change=new r.bkB,A&&(this.value=h((A.body?A.body.dir:null)||(A.documentElement?A.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(T){return new(T||z)(r.KVO(g,8))};static#t=this.\u0275prov=r.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),F=(()=>{class z{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new r.bkB}get dir(){return this._dir}set dir(A){const T=this._dir;this._dir=h(A),this._rawDir=A,T!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(T){return new(T||z)};static#t=this.\u0275dir=r.FsC({type:z,selectors:[["","dir",""]],hostVars:1,hostBindings:function(T,b){2&T&&r.BMQ("dir",b._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],standalone:!0,features:[r.Jv_([{provide:U,useExisting:z}])]})}return z})(),k=(()=>{class z{static#e=this.\u0275fac=function(T){return new(T||z)};static#t=this.\u0275mod=r.$C({type:z});static#n=this.\u0275inj=r.G2t({})}return z})()},14085:(bn,be,w)=>{"use strict";w.d(be,{FG:()=>D,OE:()=>g,a1:()=>h,he:()=>m,i8:()=>U});var r=w(54438);function m(k){return null!=k&&"false"!=`${k}`}function g(k,z=0){return function C(k){return!isNaN(parseFloat(k))&&!isNaN(Number(k))}(k)?Number(k):2===arguments.length?z:0}function D(k){return Array.isArray(k)?k:[k]}function h(k){return null==k?"":"string"==typeof k?k:`${k}px`}function U(k){return k instanceof r.aKT?k.nativeElement:k}},8045:(bn,be,w)=>{"use strict";w.d(be,{x:()=>g});var r=w(28454),m=w(15877);function g(C){return(0,r.A)(C)?C:(0,m.of)(C)}},45024:(bn,be,w)=>{"use strict";w.d(be,{CB:()=>T,DQ:()=>A,Q3:()=>k,hx:()=>F,sL:()=>z,xn:()=>B,y4:()=>U,zP:()=>J});var r=w(7221),m=w(28454),g=w(15877),C=w(85052),D=w(54438);class h{}function U(ce){return ce&&"function"==typeof ce.connect&&!(ce instanceof r.G)}class F extends h{constructor(W){super(),this._data=W}connect(){return(0,m.A)(this._data)?this._data:(0,g.of)(this._data)}disconnect(){}}var k=function(ce){return ce[ce.REPLACED=0]="REPLACED",ce[ce.INSERTED=1]="INSERTED",ce[ce.MOVED=2]="MOVED",ce[ce.REMOVED=3]="REMOVED",ce}(k||{});const z=new D.nKC("_ViewRepeater");class B{applyChanges(W,se,Q,Ie,ae){W.forEachOperation((Me,q,$)=>{let ge,K;if(null==Me.previousIndex){const Ne=Q(Me,q,$);ge=se.createEmbeddedView(Ne.templateRef,Ne.context,Ne.index),K=k.INSERTED}else null==$?(se.remove(q),K=k.REMOVED):(ge=se.get(q),se.move(ge,$),K=k.MOVED);ae&&ae({context:ge?.context,operation:K,record:Me})})}detach(){}}class A{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(W,se,Q,Ie,ae){W.forEachOperation((Me,q,$)=>{let ge,K;null==Me.previousIndex?(ge=this._insertView(()=>Q(Me,q,$),$,se,Ie(Me)),K=ge?k.INSERTED:k.REPLACED):null==$?(this._detachAndCacheView(q,se),K=k.REMOVED):(ge=this._moveView(q,$,se,Ie(Me)),K=k.MOVED),ae&&ae({context:ge?.context,operation:K,record:Me})})}detach(){for(const W of this._viewCache)W.destroy();this._viewCache=[]}_insertView(W,se,Q,Ie){const ae=this._insertViewFromCache(se,Q);if(ae)return void(ae.context.$implicit=Ie);const Me=W();return Q.createEmbeddedView(Me.templateRef,Me.context,Me.index)}_detachAndCacheView(W,se){const Q=se.detach(W);this._maybeCacheView(Q,se)}_moveView(W,se,Q,Ie){const ae=Q.get(W);return Q.move(ae,se),ae.context.$implicit=Ie,ae}_maybeCacheView(W,se){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(W);else{const Q=se.indexOf(W);-1===Q?W.destroy():se.remove(Q)}}_insertViewFromCache(W,se){const Q=this._viewCache.pop();return Q&&se.insert(Q,W),Q||null}}class T{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(W=!1,se,Q=!0,Ie){this._multiple=W,this._emitChanges=Q,this.compareWith=Ie,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C.B,se&&se.length&&(W?se.forEach(ae=>this._markSelected(ae)):this._markSelected(se[0]),this._selectedToEmit.length=0)}select(...W){this._verifyValueAssignment(W),W.forEach(Q=>this._markSelected(Q));const se=this._hasQueuedChanges();return this._emitChangeEvent(),se}deselect(...W){this._verifyValueAssignment(W),W.forEach(Q=>this._unmarkSelected(Q));const se=this._hasQueuedChanges();return this._emitChangeEvent(),se}setSelection(...W){this._verifyValueAssignment(W);const se=this.selected,Q=new Set(W);W.forEach(ae=>this._markSelected(ae)),se.filter(ae=>!Q.has(this._getConcreteValue(ae,Q))).forEach(ae=>this._unmarkSelected(ae));const Ie=this._hasQueuedChanges();return this._emitChangeEvent(),Ie}toggle(W){return this.isSelected(W)?this.deselect(W):this.select(W)}clear(W=!0){this._unmarkAll();const se=this._hasQueuedChanges();return W&&this._emitChangeEvent(),se}isSelected(W){return this._selection.has(this._getConcreteValue(W))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(W){this._multiple&&this.selected&&this._selected.sort(W)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(W){W=this._getConcreteValue(W),this.isSelected(W)||(this._multiple||this._unmarkAll(),this.isSelected(W)||this._selection.add(W),this._emitChanges&&this._selectedToEmit.push(W))}_unmarkSelected(W){W=this._getConcreteValue(W),this.isSelected(W)&&(this._selection.delete(W),this._emitChanges&&this._deselectedToEmit.push(W))}_unmarkAll(){this.isEmpty()||this._selection.forEach(W=>this._unmarkSelected(W))}_verifyValueAssignment(W){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(W,se){if(this.compareWith){se=se??this._selection;for(let Q of se)if(this.compareWith(W,Q))return Q;return W}return W}}let J=(()=>{class ce{constructor(){this._listeners=[]}notify(se,Q){for(let Ie of this._listeners)Ie(se,Q)}listen(se){return this._listeners.push(se),()=>{this._listeners=this._listeners.filter(Q=>se!==Q)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(Q){return new(Q||ce)};static#t=this.\u0275prov=D.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},82529:(bn,be,w)=>{"use strict";w.d(be,{Pe:()=>b,Ph:()=>K,ce:()=>W,lG:()=>$,sU:()=>ce});var r=w(18617),m=w(47987),g=w(36860),C=w(76939),D=w(60177),h=w(54438),U=w(67336),F=w(85052),k=w(45946),z=w(15877),B=w(28203),A=w(35160);function T(Ne,Ve){}class b{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let ce=(()=>{class Ne extends C.lb{constructor(Ge,gt,_t,zt,Rn,Oe,De,He){super(),this._elementRef=Ge,this._focusTrapFactory=gt,this._config=zt,this._interactivityChecker=Rn,this._ngZone=Oe,this._overlayRef=De,this._focusMonitor=He,this._platform=(0,h.WQX)(g.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,h.WQX)(h.gRc),this._injector=(0,h.WQX)(h.zZn),this._isDestroyed=!1,this.attachDomPortal=We=>{this._portalOutlet.hasAttached();const st=this._portalOutlet.attachDomPortal(We);return this._contentAttached(),st},this._document=_t,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(Ge){this._ariaLabelledByQueue.push(Ge),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(Ge){const gt=this._ariaLabelledByQueue.indexOf(Ge);gt>-1&&(this._ariaLabelledByQueue.splice(gt,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(Ge){this._portalOutlet.hasAttached();const gt=this._portalOutlet.attachComponentPortal(Ge);return this._contentAttached(),gt}attachTemplatePortal(Ge){this._portalOutlet.hasAttached();const gt=this._portalOutlet.attachTemplatePortal(Ge);return this._contentAttached(),gt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ge,gt){this._interactivityChecker.isFocusable(Ge)||(Ge.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const _t=()=>{Ge.removeEventListener("blur",_t),Ge.removeEventListener("mousedown",_t),Ge.removeAttribute("tabindex")};Ge.addEventListener("blur",_t),Ge.addEventListener("mousedown",_t)})),Ge.focus(gt)}_focusByCssSelector(Ge,gt){let _t=this._elementRef.nativeElement.querySelector(Ge);_t&&this._forceFocus(_t,gt)}_trapFocus(){this._isDestroyed||(0,h.mal)(()=>{const Ge=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ge.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const Ge=this._config.restoreFocus;let gt=null;if("string"==typeof Ge?gt=this._document.querySelector(Ge):"boolean"==typeof Ge?gt=Ge?this._elementFocusedBeforeDialogWasOpened:null:Ge&&(gt=Ge),this._config.restoreFocus&&gt&&"function"==typeof gt.focus){const _t=(0,g.vc)(),zt=this._elementRef.nativeElement;(!_t||_t===this._document.body||_t===zt||zt.contains(_t))&&(this._focusMonitor?(this._focusMonitor.focusVia(gt,this._closeInteractionType),this._closeInteractionType=null):gt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ge=this._elementRef.nativeElement,gt=(0,g.vc)();return Ge===gt||Ge.contains(gt)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,g.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(gt){return new(gt||Ne)(h.rXU(h.aKT),h.rXU(r.GX),h.rXU(D.qQ,8),h.rXU(b),h.rXU(r.Z7),h.rXU(h.SKi),h.rXU(m.yY),h.rXU(r.FN))};static#t=this.\u0275cmp=h.VBU({type:Ne,selectors:[["cdk-dialog-container"]],viewQuery:function(gt,_t){if(1&gt&&h.GBs(C.I3,7),2&gt){let zt;h.mGM(zt=h.lsd())&&(_t._portalOutlet=zt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(gt,_t){2&gt&&h.BMQ("id",_t._config.id||null)("role",_t._config.role)("aria-modal",_t._config.ariaModal)("aria-labelledby",_t._config.ariaLabel?null:_t._ariaLabelledByQueue[0])("aria-label",_t._config.ariaLabel)("aria-describedby",_t._config.ariaDescribedBy||null)},standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(gt,_t){1&gt&&h.DNE(0,T,0,0,"ng-template",0)},dependencies:[C.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Ne})();class W{constructor(Ve,Ge){this.overlayRef=Ve,this.config=Ge,this.closed=new F.B,this.disableClose=Ge.disableClose,this.backdropClick=Ve.backdropClick(),this.keydownEvents=Ve.keydownEvents(),this.outsidePointerEvents=Ve.outsidePointerEvents(),this.id=Ge.id,this.keydownEvents.subscribe(gt=>{gt.keyCode===U._f&&!this.disableClose&&!(0,U.rp)(gt)&&(gt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Ve.detachments().subscribe(()=>{!1!==Ge.closeOnOverlayDetachments&&this.close()})}close(Ve,Ge){if(this.containerInstance){const gt=this.closed;this.containerInstance._closeInteractionType=Ge?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),gt.next(Ve),gt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Ve="",Ge=""){return this.overlayRef.updateSize({width:Ve,height:Ge}),this}addPanelClass(Ve){return this.overlayRef.addPanelClass(Ve),this}removePanelClass(Ve){return this.overlayRef.removePanelClass(Ve),this}}const se=new h.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const Ne=(0,h.WQX)(m.hJ);return()=>Ne.scrollStrategies.block()}}),Q=new h.nKC("DialogData"),Ie=new h.nKC("DefaultDialogConfig");let q=0,$=(()=>{class Ne{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Ge,gt,_t,zt,Rn,Oe){this._overlay=Ge,this._injector=gt,this._defaultOptions=_t,this._parentDialog=zt,this._overlayContainer=Rn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,k.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,A.Z)(void 0))),this._scrollStrategy=Oe}open(Ge,gt){(gt={...this._defaultOptions||new b,...gt}).id=gt.id||"cdk-dialog-"+q++,gt.id&&this.getDialogById(gt.id);const zt=this._getOverlayConfig(gt),Rn=this._overlay.create(zt),Oe=new W(Rn,gt),De=this._attachContainer(Rn,Oe,gt);return Oe.containerInstance=De,this._attachDialogContent(Ge,Oe,De,gt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Oe),Oe.closed.subscribe(()=>this._removeOpenDialog(Oe,!0)),this.afterOpened.next(Oe),Oe}closeAll(){ge(this.openDialogs,Ge=>Ge.close())}getDialogById(Ge){return this.openDialogs.find(gt=>gt.id===Ge)}ngOnDestroy(){ge(this._openDialogsAtThisLevel,Ge=>{!1===Ge.config.closeOnDestroy&&this._removeOpenDialog(Ge,!1)}),ge(this._openDialogsAtThisLevel,Ge=>Ge.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ge){const gt=new m.rR({positionStrategy:Ge.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ge.scrollStrategy||this._scrollStrategy(),panelClass:Ge.panelClass,hasBackdrop:Ge.hasBackdrop,direction:Ge.direction,minWidth:Ge.minWidth,minHeight:Ge.minHeight,maxWidth:Ge.maxWidth,maxHeight:Ge.maxHeight,width:Ge.width,height:Ge.height,disposeOnNavigation:Ge.closeOnNavigation});return Ge.backdropClass&&(gt.backdropClass=Ge.backdropClass),gt}_attachContainer(Ge,gt,_t){const zt=_t.injector||_t.viewContainerRef?.injector,Rn=[{provide:b,useValue:_t},{provide:W,useValue:gt},{provide:m.yY,useValue:Ge}];let Oe;_t.container?"function"==typeof _t.container?Oe=_t.container:(Oe=_t.container.type,Rn.push(..._t.container.providers(_t))):Oe=ce;const De=new C.A8(Oe,_t.viewContainerRef,h.zZn.create({parent:zt||this._injector,providers:Rn}),_t.componentFactoryResolver);return Ge.attach(De).instance}_attachDialogContent(Ge,gt,_t,zt){if(Ge instanceof h.C4Q){const Rn=this._createInjector(zt,gt,_t,void 0);let Oe={$implicit:zt.data,dialogRef:gt};zt.templateContext&&(Oe={...Oe,..."function"==typeof zt.templateContext?zt.templateContext():zt.templateContext}),_t.attachTemplatePortal(new C.VA(Ge,null,Oe,Rn))}else{const Rn=this._createInjector(zt,gt,_t,this._injector),Oe=_t.attachComponentPortal(new C.A8(Ge,zt.viewContainerRef,Rn,zt.componentFactoryResolver));gt.componentRef=Oe,gt.componentInstance=Oe.instance}}_createInjector(Ge,gt,_t,zt){const Rn=Ge.injector||Ge.viewContainerRef?.injector,Oe=[{provide:Q,useValue:Ge.data},{provide:W,useValue:gt}];return Ge.providers&&("function"==typeof Ge.providers?Oe.push(...Ge.providers(gt,Ge,_t)):Oe.push(...Ge.providers)),Ge.direction&&(!Rn||!Rn.get(B.dS,null,{optional:!0}))&&Oe.push({provide:B.dS,useValue:{value:Ge.direction,change:(0,z.of)()}}),h.zZn.create({parent:Rn||zt,providers:Oe})}_removeOpenDialog(Ge,gt){const _t=this.openDialogs.indexOf(Ge);_t>-1&&(this.openDialogs.splice(_t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((zt,Rn)=>{zt?Rn.setAttribute("aria-hidden",zt):Rn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),gt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ge=this._overlayContainer.getContainerElement();if(Ge.parentElement){const gt=Ge.parentElement.children;for(let _t=gt.length-1;_t>-1;_t--){const zt=gt[_t];zt!==Ge&&"SCRIPT"!==zt.nodeName&&"STYLE"!==zt.nodeName&&!zt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(zt,zt.getAttribute("aria-hidden")),zt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ge=this._parentDialog;return Ge?Ge._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(gt){return new(gt||Ne)(h.KVO(m.hJ),h.KVO(h.zZn),h.KVO(Ie,8),h.KVO(Ne,12),h.KVO(m.Sf),h.KVO(se))};static#t=this.\u0275prov=h.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();function ge(Ne,Ve){let Ge=Ne.length;for(;Ge--;)Ve(Ne[Ge])}let K=(()=>{class Ne{static#e=this.\u0275fac=function(gt){return new(gt||Ne)};static#t=this.\u0275mod=h.$C({type:Ne});static#n=this.\u0275inj=h.G2t({providers:[$],imports:[m.z_,C.jc,r.Pd,C.jc]})}return Ne})()},81391:(bn,be,w)=>{"use strict";w.d(be,{Fb:()=>Un,HD:()=>f,O7:()=>Lt,T1:()=>cn,ad:()=>Bn});var r=w(54438),m=w(60177),g=w(65478),C=w(18617),D=w(14085),h=w(36860),U=w(85052),F=w(81027),k=w(96513),z=w(94974),B=w(2573),A=w(76718),T=w(29160),b=w(37925),J=w(36110),ce=w(17365),W=w(39705),se=w(32914),Q=w(35160),Ie=w(28203);function ae(Ct){const me=Ct.cloneNode(!0),ue=me.querySelectorAll("[id]"),Ue=Ct.nodeName.toLowerCase();me.removeAttribute("id");for(let bt=0;bt<ue.length;bt++)ue[bt].removeAttribute("id");return"canvas"===Ue?ge(Ct,me):("input"===Ue||"select"===Ue||"textarea"===Ue)&&$(Ct,me),Me("canvas",Ct,me,ge),Me("input, textarea, select",Ct,me,$),me}function Me(Ct,me,ue,Ue){const bt=me.querySelectorAll(Ct);if(bt.length){const Ht=ue.querySelectorAll(Ct);for(let fn=0;fn<bt.length;fn++)Ue(bt[fn],Ht[fn])}}let q=0;function $(Ct,me){"file"!==me.type&&(me.value=Ct.value),"radio"===me.type&&me.name&&(me.name=`mat-clone-${me.name}-${q++}`)}function ge(Ct,me){const ue=me.getContext("2d");if(ue)try{ue.drawImage(Ct,0,0)}catch{}}function K(Ct){const me=Ct.getBoundingClientRect();return{top:me.top,right:me.right,bottom:me.bottom,left:me.left,width:me.width,height:me.height,x:me.x,y:me.y}}function Ne(Ct,me,ue){const{top:Ue,bottom:bt,left:Ht,right:fn}=Ct;return ue>=Ue&&ue<=bt&&me>=Ht&&me<=fn}function Ve(Ct,me,ue){Ct.top+=me,Ct.bottom=Ct.top+Ct.height,Ct.left+=ue,Ct.right=Ct.left+Ct.width}function Ge(Ct,me,ue,Ue){const{top:bt,right:Ht,bottom:fn,left:cr,width:Hr,height:ti}=Ct,mi=Hr*me,li=ti*me;return Ue>bt-li&&Ue<fn+li&&ue>cr-mi&&ue<Ht+mi}class gt{constructor(me){this._document=me,this.positions=new Map}clear(){this.positions.clear()}cache(me){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),me.forEach(ue=>{this.positions.set(ue,{scrollPosition:{top:ue.scrollTop,left:ue.scrollLeft},clientRect:K(ue)})})}handleScroll(me){const ue=(0,h.Fb)(me),Ue=this.positions.get(ue);if(!Ue)return null;const bt=Ue.scrollPosition;let Ht,fn;if(ue===this._document){const ti=this.getViewportScrollPosition();Ht=ti.top,fn=ti.left}else Ht=ue.scrollTop,fn=ue.scrollLeft;const cr=bt.top-Ht,Hr=bt.left-fn;return this.positions.forEach((ti,mi)=>{ti.clientRect&&ue!==mi&&ue.contains(mi)&&Ve(ti.clientRect,cr,Hr)}),bt.top=Ht,bt.left=fn,{top:cr,left:Hr}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function _t(Ct,me){const ue=Ct.rootNodes;if(1===ue.length&&ue[0].nodeType===me.ELEMENT_NODE)return ue[0];const Ue=me.createElement("div");return ue.forEach(bt=>Ue.appendChild(bt)),Ue}function zt(Ct,me,ue){for(let Ue in me)if(me.hasOwnProperty(Ue)){const bt=me[Ue];bt?Ct.setProperty(Ue,bt,ue?.has(Ue)?"important":""):Ct.removeProperty(Ue)}return Ct}function Rn(Ct,me){const ue=me?"":"none";zt(Ct.style,{"touch-action":me?"":"none","-webkit-user-drag":me?"":"none","-webkit-tap-highlight-color":me?"":"transparent","user-select":ue,"-ms-user-select":ue,"-webkit-user-select":ue,"-moz-user-select":ue})}function Oe(Ct,me,ue){zt(Ct.style,{position:me?"":"fixed",top:me?"":"0",opacity:me?"":"0",left:me?"":"-999em"},ue)}function De(Ct,me){return me&&"none"!=me?Ct+" "+me:Ct}function He(Ct,me){Ct.style.width=`${me.width}px`,Ct.style.height=`${me.height}px`,Ct.style.transform=We(me.left,me.top)}function We(Ct,me){return`translate3d(${Math.round(Ct)}px, ${Math.round(me)}px, 0)`}function st(Ct){const me=Ct.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Ct)*me}function wt(Ct,me){return Ct.getPropertyValue(me).split(",").map(Ue=>Ue.trim())}const kt=new Set(["position"]);class je{get element(){return this._preview}constructor(me,ue,Ue,bt,Ht,fn,cr,Hr,ti){this._document=me,this._rootElement=ue,this._direction=Ue,this._initialDomRect=bt,this._previewTemplate=Ht,this._previewClass=fn,this._pickupPositionOnPage=cr,this._initialTransform=Hr,this._zIndex=ti}attach(me){this._preview=this._createPreview(),me.appendChild(this._preview),Ce(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(me){this._preview.style.transform=me}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(me){this._preview.classList.add(me)}getTransitionDuration(){return function ft(Ct){const me=getComputedStyle(Ct),ue=wt(me,"transition-property"),Ue=ue.find(cr=>"transform"===cr||"all"===cr);if(!Ue)return 0;const bt=ue.indexOf(Ue),Ht=wt(me,"transition-duration"),fn=wt(me,"transition-delay");return st(Ht[bt])+st(fn[bt])}(this._preview)}addEventListener(me,ue){this._preview.addEventListener(me,ue)}removeEventListener(me,ue){this._preview.removeEventListener(me,ue)}_createPreview(){const me=this._previewTemplate,ue=this._previewClass,Ue=me?me.template:null;let bt;if(Ue&&me){const Ht=me.matchSize?this._initialDomRect:null,fn=me.viewContainer.createEmbeddedView(Ue,me.context);fn.detectChanges(),bt=_t(fn,this._document),this._previewEmbeddedView=fn,me.matchSize?He(bt,Ht):bt.style.transform=We(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else bt=ae(this._rootElement),He(bt,this._initialDomRect),this._initialTransform&&(bt.style.transform=this._initialTransform);return zt(bt.style,{"pointer-events":"none",margin:Ce(bt)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},kt),Rn(bt,!1),bt.classList.add("cdk-drag-preview"),bt.setAttribute("popover","manual"),bt.setAttribute("dir",this._direction),ue&&(Array.isArray(ue)?ue.forEach(Ht=>bt.classList.add(Ht)):bt.classList.add(ue)),bt}}function Ce(Ct){return"showPopover"in Ct}const ne=(0,h.BQ)({passive:!0}),Re=(0,h.BQ)({passive:!1}),te=(0,h.BQ)({passive:!1,capture:!0}),M=new Set(["position"]);class Y{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(me){me!==this._disabled&&(this._disabled=me,this._toggleNativeDragInteractions(),this._handles.forEach(ue=>Rn(ue,me)))}constructor(me,ue,Ue,bt,Ht,fn){this._config=ue,this._document=Ue,this._ngZone=bt,this._viewportRuler=Ht,this._dragDropRegistry=fn,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,r.vPA)(!1),this._moveEvents=new U.B,this._pointerMoveSubscription=F.yU.EMPTY,this._pointerUpSubscription=F.yU.EMPTY,this._scrollSubscription=F.yU.EMPTY,this._resizeSubscription=F.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new U.B,this.started=new U.B,this.released=new U.B,this.ended=new U.B,this.entered=new U.B,this.exited=new U.B,this.dropped=new U.B,this.moved=this._moveEvents,this._pointerDown=cr=>{if(this.beforeStarted.next(),this._handles.length){const Hr=this._getTargetHandle(cr);Hr&&!this._disabledHandles.has(Hr)&&!this.disabled&&this._initializeDragSequence(Hr,cr)}else this.disabled||this._initializeDragSequence(this._rootElement,cr)},this._pointerMove=cr=>{const Hr=this._getPointerPositionOnPage(cr);if(!this._hasStartedDragging()){if(Math.abs(Hr.x-this._pickupPositionOnPage.x)+Math.abs(Hr.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Co=Date.now()>=this._dragStartTime+this._getDragStartDelay(cr),wo=this._dropContainer;if(!Co)return void this._endDragSequence(cr);(!wo||!wo.isDragging()&&!wo.isReceiving())&&(cr.cancelable&&cr.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(cr)))}return}cr.cancelable&&cr.preventDefault();const ti=this._getConstrainedPointerPosition(Hr);if(this._hasMoved=!0,this._lastKnownPointerPosition=Hr,this._updatePointerDirectionDelta(ti),this._dropContainer)this._updateActiveDropContainer(ti,Hr);else{const mi=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,li=this._activeTransform;li.x=ti.x-mi.x+this._passiveTransform.x,li.y=ti.y-mi.y+this._passiveTransform.y,this._applyRootElementTransform(li.x,li.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ti,event:cr,distance:this._getDragDistance(ti),delta:this._pointerDirectionDelta})})},this._pointerUp=cr=>{this._endDragSequence(cr)},this._nativeDragStart=cr=>{if(this._handles.length){const Hr=this._getTargetHandle(cr);Hr&&!this._disabledHandles.has(Hr)&&!this.disabled&&cr.preventDefault()}else this.disabled||cr.preventDefault()},this.withRootElement(me).withParent(ue.parentDragRef||null),this._parentPositions=new gt(Ue),fn.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(me){this._handles=me.map(Ue=>(0,D.i8)(Ue)),this._handles.forEach(Ue=>Rn(Ue,this.disabled)),this._toggleNativeDragInteractions();const ue=new Set;return this._disabledHandles.forEach(Ue=>{this._handles.indexOf(Ue)>-1&&ue.add(Ue)}),this._disabledHandles=ue,this}withPreviewTemplate(me){return this._previewTemplate=me,this}withPlaceholderTemplate(me){return this._placeholderTemplate=me,this}withRootElement(me){const ue=(0,D.i8)(me);return ue!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{ue.addEventListener("mousedown",this._pointerDown,Re),ue.addEventListener("touchstart",this._pointerDown,ne),ue.addEventListener("dragstart",this._nativeDragStart,Re)}),this._initialTransform=void 0,this._rootElement=ue),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(me){return this._boundaryElement=me?(0,D.i8)(me):null,this._resizeSubscription.unsubscribe(),me&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(me){return this._parentDragRef=me,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(me){!this._disabledHandles.has(me)&&this._handles.indexOf(me)>-1&&(this._disabledHandles.add(me),Rn(me,!0))}enableHandle(me){this._disabledHandles.has(me)&&(this._disabledHandles.delete(me),Rn(me,this.disabled))}withDirection(me){return this._direction=me,this}_withDropContainer(me){this._dropContainer=me}getFreeDragPosition(){const me=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:me.x,y:me.y}}setFreeDragPosition(me){return this._activeTransform={x:0,y:0},this._passiveTransform.x=me.x,this._passiveTransform.y=me.y,this._dropContainer||this._applyRootElementTransform(me.x,me.y),this}withPreviewContainer(me){return this._previewContainer=me,this}_sortFromLastPointerPosition(){const me=this._lastKnownPointerPosition;me&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(me),me)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Z,te)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(me){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:me}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(me),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const ue=this._getPointerPositionOnPage(me);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(ue),dropPoint:ue,event:me})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(me){_e(me)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const ue=this._getShadowRoot(),Ue=this._dropContainer;if(ue&&this._ngZone.runOutsideAngular(()=>{ue.addEventListener("selectstart",Z,te)}),Ue){const bt=this._rootElement,Ht=bt.parentNode,fn=this._placeholder=this._createPlaceholderElement(),cr=this._anchor=this._anchor||this._document.createComment("");Ht.insertBefore(cr,bt),this._initialTransform=bt.style.transform||"",this._preview=new je(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(Ht,ue)),Oe(bt,!1,M),this._document.body.appendChild(Ht.replaceChild(fn,bt)),this.started.next({source:this,event:me}),Ue.start(),this._initialContainer=Ue,this._initialIndex=Ue.getItemIndex(this)}else this.started.next({source:this,event:me}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ue?Ue.getScrollableParents():[])}_initializeDragSequence(me,ue){this._parentDragRef&&ue.stopPropagation();const Ue=this.isDragging(),bt=_e(ue),Ht=!bt&&0!==ue.button,fn=this._rootElement,cr=(0,h.Fb)(ue),Hr=!bt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ti=bt?(0,C.w6)(ue):(0,C._G)(ue);if(cr&&cr.draggable&&"mousedown"===ue.type&&ue.preventDefault(),Ue||Ht||Hr||ti)return;if(this._handles.length){const Io=fn.style;this._rootElementTapHighlight=Io.webkitTapHighlightColor||"",Io.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Io=>this._updateOnScroll(Io)),this._boundaryElement&&(this._boundaryRect=K(this._boundaryElement));const mi=this._previewTemplate;this._pickupPositionInElement=mi&&mi.template&&!mi.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,me,ue);const li=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(ue);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:li.x,y:li.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,ue)}_cleanupDragArtifacts(me){Oe(this._rootElement,!0,M),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const ue=this._dropContainer,Ue=ue.getItemIndex(this),bt=this._getPointerPositionOnPage(me),Ht=this._getDragDistance(bt),fn=ue._isOverContainer(bt.x,bt.y);this.ended.next({source:this,distance:Ht,dropPoint:bt,event:me}),this.dropped.next({item:this,currentIndex:Ue,previousIndex:this._initialIndex,container:ue,previousContainer:this._initialContainer,isPointerOverContainer:fn,distance:Ht,dropPoint:bt,event:me}),ue.drop(this,Ue,this._initialIndex,this._initialContainer,fn,Ht,bt,me),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:me,y:ue},{x:Ue,y:bt}){let Ht=this._initialContainer._getSiblingContainerFromPosition(this,me,ue);!Ht&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(me,ue)&&(Ht=this._initialContainer),Ht&&Ht!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Ht,this._dropContainer.enter(this,me,ue,Ht===this._initialContainer&&Ht.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Ht,currentIndex:Ht.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Ue,bt),this._dropContainer._sortItem(this,me,ue,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(me,ue):this._applyPreviewTransform(me-this._pickupPositionInElement.x,ue-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const me=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(me.left,me.top);const ue=this._preview.getTransitionDuration();return 0===ue?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Ue=>{const bt=fn=>{(!fn||this._preview&&(0,h.Fb)(fn)===this._preview.element&&"transform"===fn.propertyName)&&(this._preview?.removeEventListener("transitionend",bt),Ue(),clearTimeout(Ht))},Ht=setTimeout(bt,1.5*ue);this._preview.addEventListener("transitionend",bt)}))}_createPlaceholderElement(){const me=this._placeholderTemplate,ue=me?me.template:null;let Ue;return ue?(this._placeholderRef=me.viewContainer.createEmbeddedView(ue,me.context),this._placeholderRef.detectChanges(),Ue=_t(this._placeholderRef,this._document)):Ue=ae(this._rootElement),Ue.style.pointerEvents="none",Ue.classList.add("cdk-drag-placeholder"),Ue}_getPointerPositionInElement(me,ue,Ue){const bt=ue===this._rootElement?null:ue,Ht=bt?bt.getBoundingClientRect():me,fn=_e(Ue)?Ue.targetTouches[0]:Ue,cr=this._getViewportScrollPosition();return{x:Ht.left-me.left+(fn.pageX-Ht.left-cr.left),y:Ht.top-me.top+(fn.pageY-Ht.top-cr.top)}}_getPointerPositionOnPage(me){const ue=this._getViewportScrollPosition(),Ue=_e(me)?me.touches[0]||me.changedTouches[0]||{pageX:0,pageY:0}:me,bt=Ue.pageX-ue.left,Ht=Ue.pageY-ue.top;if(this._ownerSVGElement){const fn=this._ownerSVGElement.getScreenCTM();if(fn){const cr=this._ownerSVGElement.createSVGPoint();return cr.x=bt,cr.y=Ht,cr.matrixTransform(fn.inverse())}}return{x:bt,y:Ht}}_getConstrainedPointerPosition(me){const ue=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Ue,y:bt}=this.constrainPosition?this.constrainPosition(me,this,this._initialDomRect,this._pickupPositionInElement):me;if("x"===this.lockAxis||"x"===ue?bt=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===ue)&&(Ue=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:Ht,y:fn}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,cr=this._boundaryRect,{width:Hr,height:ti}=this._getPreviewRect(),mi=cr.top+fn,li=cr.bottom-(ti-fn);Ue=G(Ue,cr.left+Ht,cr.right-(Hr-Ht)),bt=G(bt,mi,li)}return{x:Ue,y:bt}}_updatePointerDirectionDelta(me){const{x:ue,y:Ue}=me,bt=this._pointerDirectionDelta,Ht=this._pointerPositionAtLastDirectionChange,fn=Math.abs(ue-Ht.x),cr=Math.abs(Ue-Ht.y);return fn>this._config.pointerDirectionChangeThreshold&&(bt.x=ue>Ht.x?1:-1,Ht.x=ue),cr>this._config.pointerDirectionChangeThreshold&&(bt.y=Ue>Ht.y?1:-1,Ht.y=Ue),bt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const me=this._handles.length>0||!this.isDragging();me!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=me,Rn(this._rootElement,me))}_removeRootElementListeners(me){me.removeEventListener("mousedown",this._pointerDown,Re),me.removeEventListener("touchstart",this._pointerDown,ne),me.removeEventListener("dragstart",this._nativeDragStart,Re)}_applyRootElementTransform(me,ue){const Ue=1/this.scale,bt=We(me*Ue,ue*Ue),Ht=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Ht.transform&&"none"!=Ht.transform?Ht.transform:""),Ht.transform=De(bt,this._initialTransform)}_applyPreviewTransform(me,ue){const Ue=this._previewTemplate?.template?void 0:this._initialTransform,bt=We(me,ue);this._preview.setTransform(De(bt,Ue))}_getDragDistance(me){const ue=this._pickupPositionOnPage;return ue?{x:me.x-ue.x,y:me.y-ue.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:me,y:ue}=this._passiveTransform;if(0===me&&0===ue||this.isDragging()||!this._boundaryElement)return;const Ue=this._rootElement.getBoundingClientRect(),bt=this._boundaryElement.getBoundingClientRect();if(0===bt.width&&0===bt.height||0===Ue.width&&0===Ue.height)return;const Ht=bt.left-Ue.left,fn=Ue.right-bt.right,cr=bt.top-Ue.top,Hr=Ue.bottom-bt.bottom;bt.width>Ue.width?(Ht>0&&(me+=Ht),fn>0&&(me-=fn)):me=0,bt.height>Ue.height?(cr>0&&(ue+=cr),Hr>0&&(ue-=Hr)):ue=0,(me!==this._passiveTransform.x||ue!==this._passiveTransform.y)&&this.setFreeDragPosition({y:ue,x:me})}_getDragStartDelay(me){const ue=this.dragStartDelay;return"number"==typeof ue?ue:_e(me)?ue.touch:ue?ue.mouse:0}_updateOnScroll(me){const ue=this._parentPositions.handleScroll(me);if(ue){const Ue=(0,h.Fb)(me);this._boundaryRect&&Ue!==this._boundaryElement&&Ue.contains(this._boundaryElement)&&Ve(this._boundaryRect,ue.top,ue.left),this._pickupPositionOnPage.x+=ue.left,this._pickupPositionOnPage.y+=ue.top,this._dropContainer||(this._activeTransform.x-=ue.left,this._activeTransform.y-=ue.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,h.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(me,ue){const Ue=this._previewContainer||"global";if("parent"===Ue)return me;if("global"===Ue){const bt=this._document;return ue||bt.fullscreenElement||bt.webkitFullscreenElement||bt.mozFullScreenElement||bt.msFullscreenElement||bt.body}return(0,D.i8)(Ue)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(me){return this._handles.find(ue=>me.target&&(me.target===ue||ue.contains(me.target)))}}function G(Ct,me,ue){return Math.max(me,Math.min(ue,Ct))}function _e(Ct){return"t"===Ct.type[0]}function Z(Ct){Ct.preventDefault()}function f(Ct,me,ue){const Ue=ye(me,Ct.length-1),bt=ye(ue,Ct.length-1);if(Ue===bt)return;const Ht=Ct[Ue],fn=bt<Ue?-1:1;for(let cr=Ue;cr!==bt;cr+=fn)Ct[cr]=Ct[cr+fn];Ct[bt]=Ht}function ye(Ct,me){return Math.max(0,Math.min(me,Ct))}class Te{constructor(me){this._dragDropRegistry=me,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(me){this.withItems(me)}sort(me,ue,Ue,bt){const Ht=this._itemPositions,fn=this._getItemIndexFromPointerPosition(me,ue,Ue,bt);if(-1===fn&&Ht.length>0)return null;const cr="horizontal"===this.orientation,Hr=Ht.findIndex(xo=>xo.drag===me),ti=Ht[fn],li=ti.clientRect,Io=Hr>fn?1:-1,Co=this._getItemOffsetPx(Ht[Hr].clientRect,li,Io),wo=this._getSiblingOffsetPx(Hr,Ht,Io),So=Ht.slice();return f(Ht,Hr,fn),Ht.forEach((xo,Po)=>{if(So[Po]===xo)return;const nn=xo.drag===me,xn=nn?Co:wo,sr=nn?me.getPlaceholderElement():xo.drag.getRootElement();xo.offset+=xn;const br=Math.round(xo.offset*(1/xo.drag.scale));cr?(sr.style.transform=De(`translate3d(${br}px, 0, 0)`,xo.initialTransform),Ve(xo.clientRect,0,xn)):(sr.style.transform=De(`translate3d(0, ${br}px, 0)`,xo.initialTransform),Ve(xo.clientRect,xn,0))}),this._previousSwap.overlaps=Ne(li,ue,Ue),this._previousSwap.drag=ti.drag,this._previousSwap.delta=cr?bt.x:bt.y,{previousIndex:Hr,currentIndex:fn}}enter(me,ue,Ue,bt){const Ht=null==bt||bt<0?this._getItemIndexFromPointerPosition(me,ue,Ue):bt,fn=this._activeDraggables,cr=fn.indexOf(me),Hr=me.getPlaceholderElement();let ti=fn[Ht];if(ti===me&&(ti=fn[Ht+1]),!ti&&(null==Ht||-1===Ht||Ht<fn.length-1)&&this._shouldEnterAsFirstChild(ue,Ue)&&(ti=fn[0]),cr>-1&&fn.splice(cr,1),ti&&!this._dragDropRegistry.isDragging(ti)){const mi=ti.getRootElement();mi.parentElement.insertBefore(Hr,mi),fn.splice(Ht,0,me)}else this._element.appendChild(Hr),fn.push(me);Hr.style.transform="",this._cacheItemPositions()}withItems(me){this._activeDraggables=me.slice(),this._cacheItemPositions()}withSortPredicate(me){this._sortPredicate=me}reset(){this._activeDraggables?.forEach(me=>{const ue=me.getRootElement();if(ue){const Ue=this._itemPositions.find(bt=>bt.drag===me)?.initialTransform;ue.style.transform=Ue||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(me){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Ue=>Ue.drag===me)}updateOnScroll(me,ue){this._itemPositions.forEach(({clientRect:Ue})=>{Ve(Ue,me,ue)}),this._itemPositions.forEach(({drag:Ue})=>{this._dragDropRegistry.isDragging(Ue)&&Ue._sortFromLastPointerPosition()})}withElementContainer(me){this._element=me}_cacheItemPositions(){const me="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(ue=>{const Ue=ue.getVisibleElement();return{drag:ue,offset:0,initialTransform:Ue.style.transform||"",clientRect:K(Ue)}}).sort((ue,Ue)=>me?ue.clientRect.left-Ue.clientRect.left:ue.clientRect.top-Ue.clientRect.top)}_getItemOffsetPx(me,ue,Ue){const bt="horizontal"===this.orientation;let Ht=bt?ue.left-me.left:ue.top-me.top;return-1===Ue&&(Ht+=bt?ue.width-me.width:ue.height-me.height),Ht}_getSiblingOffsetPx(me,ue,Ue){const bt="horizontal"===this.orientation,Ht=ue[me].clientRect,fn=ue[me+-1*Ue];let cr=Ht[bt?"width":"height"]*Ue;if(fn){const Hr=bt?"left":"top",ti=bt?"right":"bottom";-1===Ue?cr-=fn.clientRect[Hr]-Ht[ti]:cr+=Ht[Hr]-fn.clientRect[ti]}return cr}_shouldEnterAsFirstChild(me,ue){if(!this._activeDraggables.length)return!1;const Ue=this._itemPositions,bt="horizontal"===this.orientation;if(Ue[0].drag!==this._activeDraggables[0]){const fn=Ue[Ue.length-1].clientRect;return bt?me>=fn.right:ue>=fn.bottom}{const fn=Ue[0].clientRect;return bt?me<=fn.left:ue<=fn.top}}_getItemIndexFromPointerPosition(me,ue,Ue,bt){const Ht="horizontal"===this.orientation,fn=this._itemPositions.findIndex(({drag:cr,clientRect:Hr})=>cr!==me&&((!bt||cr!==this._previousSwap.drag||!this._previousSwap.overlaps||(Ht?bt.x:bt.y)!==this._previousSwap.delta)&&(Ht?ue>=Math.floor(Hr.left)&&ue<Math.floor(Hr.right):Ue>=Math.floor(Hr.top)&&Ue<Math.floor(Hr.bottom))));return-1!==fn&&this._sortPredicate(fn,me)?fn:-1}}class ke{constructor(me,ue){this._document=me,this._dragDropRegistry=ue,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(me){const ue=this._element.childNodes;this._relatedNodes=[];for(let Ue=0;Ue<ue.length;Ue++){const bt=ue[Ue];this._relatedNodes.push([bt,bt.nextSibling])}this.withItems(me)}sort(me,ue,Ue,bt){const Ht=this._getItemIndexFromPointerPosition(me,ue,Ue),fn=this._previousSwap;if(-1===Ht||this._activeItems[Ht]===me)return null;const cr=this._activeItems[Ht];if(fn.drag===cr&&fn.overlaps&&fn.deltaX===bt.x&&fn.deltaY===bt.y)return null;const Hr=this.getItemIndex(me),ti=me.getPlaceholderElement(),mi=cr.getRootElement();Ht>Hr?mi.after(ti):mi.before(ti),f(this._activeItems,Hr,Ht);const li=this._getRootNode().elementFromPoint(ue,Ue);return fn.deltaX=bt.x,fn.deltaY=bt.y,fn.drag=cr,fn.overlaps=mi===li||mi.contains(li),{previousIndex:Hr,currentIndex:Ht}}enter(me,ue,Ue,bt){let Ht=null==bt||bt<0?this._getItemIndexFromPointerPosition(me,ue,Ue):bt;-1===Ht&&(Ht=this._getClosestItemIndexToPointer(me,ue,Ue));const fn=this._activeItems[Ht],cr=this._activeItems.indexOf(me);cr>-1&&this._activeItems.splice(cr,1),fn&&!this._dragDropRegistry.isDragging(fn)?(this._activeItems.splice(Ht,0,me),fn.getRootElement().before(me.getPlaceholderElement())):(this._activeItems.push(me),this._element.appendChild(me.getPlaceholderElement()))}withItems(me){this._activeItems=me.slice()}withSortPredicate(me){this._sortPredicate=me}reset(){const me=this._element,ue=this._previousSwap;for(let Ue=this._relatedNodes.length-1;Ue>-1;Ue--){const[bt,Ht]=this._relatedNodes[Ue];bt.parentNode===me&&bt.nextSibling!==Ht&&(null===Ht?me.appendChild(bt):Ht.parentNode===me&&me.insertBefore(bt,Ht))}this._relatedNodes=[],this._activeItems=[],ue.drag=null,ue.deltaX=ue.deltaY=0,ue.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(me){return this._activeItems.indexOf(me)}updateOnScroll(){this._activeItems.forEach(me=>{this._dragDropRegistry.isDragging(me)&&me._sortFromLastPointerPosition()})}withElementContainer(me){me!==this._element&&(this._element=me,this._rootNode=void 0)}_getItemIndexFromPointerPosition(me,ue,Ue){const bt=this._getRootNode().elementFromPoint(Math.floor(ue),Math.floor(Ue)),Ht=bt?this._activeItems.findIndex(fn=>{const cr=fn.getRootElement();return bt===cr||cr.contains(bt)}):-1;return-1!==Ht&&this._sortPredicate(Ht,me)?Ht:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,h.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(me,ue,Ue){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let bt=1/0,Ht=-1;for(let fn=0;fn<this._activeItems.length;fn++){const cr=this._activeItems[fn];if(cr!==me){const{x:Hr,y:ti}=cr.getRootElement().getBoundingClientRect(),mi=Math.hypot(ue-Hr,Ue-ti);mi<bt&&(bt=mi,Ht=fn)}}return Ht}}var at=function(Ct){return Ct[Ct.NONE=0]="NONE",Ct[Ct.UP=1]="UP",Ct[Ct.DOWN=2]="DOWN",Ct}(at||{}),yt=function(Ct){return Ct[Ct.NONE=0]="NONE",Ct[Ct.LEFT=1]="LEFT",Ct[Ct.RIGHT=2]="RIGHT",Ct}(yt||{});class Jt{constructor(me,ue,Ue,bt,Ht){this._dragDropRegistry=ue,this._ngZone=bt,this._viewportRuler=Ht,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new U.B,this.entered=new U.B,this.exited=new U.B,this.dropped=new U.B,this.sorted=new U.B,this.receivingStarted=new U.B,this.receivingStopped=new U.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=F.yU.EMPTY,this._verticalScrollDirection=at.NONE,this._horizontalScrollDirection=yt.NONE,this._stopScrollTimers=new U.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),(0,k.Y)(0,z.X).pipe((0,b.Q)(this._stopScrollTimers)).subscribe(()=>{const cr=this._scrollNode,Hr=this.autoScrollStep;this._verticalScrollDirection===at.UP?cr.scrollBy(0,-Hr):this._verticalScrollDirection===at.DOWN&&cr.scrollBy(0,Hr),this._horizontalScrollDirection===yt.LEFT?cr.scrollBy(-Hr,0):this._horizontalScrollDirection===yt.RIGHT&&cr.scrollBy(Hr,0)})};const fn=this.element=(0,D.i8)(me);this._document=Ue,this.withOrientation("vertical").withElementContainer(fn),ue.registerDropContainer(this),this._parentPositions=new gt(Ue)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(me,ue,Ue,bt){this._draggingStarted(),null==bt&&this.sortingDisabled&&(bt=this._draggables.indexOf(me)),this._sortStrategy.enter(me,ue,Ue,bt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:me,container:this,currentIndex:this.getItemIndex(me)})}exit(me){this._reset(),this.exited.next({item:me,container:this})}drop(me,ue,Ue,bt,Ht,fn,cr,Hr={}){this._reset(),this.dropped.next({item:me,currentIndex:ue,previousIndex:Ue,container:this,previousContainer:bt,isPointerOverContainer:Ht,distance:fn,dropPoint:cr,event:Hr})}withItems(me){const ue=this._draggables;return this._draggables=me,me.forEach(Ue=>Ue._withDropContainer(this)),this.isDragging()&&(ue.filter(bt=>bt.isDragging()).every(bt=>-1===me.indexOf(bt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(me){return this._direction=me,this._sortStrategy instanceof Te&&(this._sortStrategy.direction=me),this}connectedTo(me){return this._siblings=me.slice(),this}withOrientation(me){if("mixed"===me)this._sortStrategy=new ke(this._document,this._dragDropRegistry);else{const ue=new Te(this._dragDropRegistry);ue.direction=this._direction,ue.orientation=me,this._sortStrategy=ue}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((ue,Ue)=>this.sortPredicate(ue,Ue,this)),this}withScrollableParents(me){const ue=this._container;return this._scrollableElements=-1===me.indexOf(ue)?[ue,...me]:me.slice(),this}withElementContainer(me){if(me===this._container)return this;(0,D.i8)(this.element);const Ue=this._scrollableElements.indexOf(this._container),bt=this._scrollableElements.indexOf(me);return Ue>-1&&this._scrollableElements.splice(Ue,1),bt>-1&&this._scrollableElements.splice(bt,1),this._sortStrategy&&this._sortStrategy.withElementContainer(me),this._cachedShadowRoot=null,this._scrollableElements.unshift(me),this._container=me,this}getScrollableParents(){return this._scrollableElements}getItemIndex(me){return this._isDragging?this._sortStrategy.getItemIndex(me):this._draggables.indexOf(me)}isReceiving(){return this._activeSiblings.size>0}_sortItem(me,ue,Ue,bt){if(this.sortingDisabled||!this._domRect||!Ge(this._domRect,.05,ue,Ue))return;const Ht=this._sortStrategy.sort(me,ue,Ue,bt);Ht&&this.sorted.next({previousIndex:Ht.previousIndex,currentIndex:Ht.currentIndex,container:this,item:me})}_startScrollingIfNecessary(me,ue){if(this.autoScrollDisabled)return;let Ue,bt=at.NONE,Ht=yt.NONE;if(this._parentPositions.positions.forEach((fn,cr)=>{cr===this._document||!fn.clientRect||Ue||Ge(fn.clientRect,.05,me,ue)&&([bt,Ht]=function it(Ct,me,ue,Ue,bt){const Ht=Qe(me,bt),fn=Ft(me,Ue);let cr=at.NONE,Hr=yt.NONE;if(Ht){const ti=Ct.scrollTop;Ht===at.UP?ti>0&&(cr=at.UP):Ct.scrollHeight-ti>Ct.clientHeight&&(cr=at.DOWN)}if(fn){const ti=Ct.scrollLeft;"rtl"===ue?fn===yt.RIGHT?ti<0&&(Hr=yt.RIGHT):Ct.scrollWidth+ti>Ct.clientWidth&&(Hr=yt.LEFT):fn===yt.LEFT?ti>0&&(Hr=yt.LEFT):Ct.scrollWidth-ti>Ct.clientWidth&&(Hr=yt.RIGHT)}return[cr,Hr]}(cr,fn.clientRect,this._direction,me,ue),(bt||Ht)&&(Ue=cr))}),!bt&&!Ht){const{width:fn,height:cr}=this._viewportRuler.getViewportSize(),Hr={width:fn,height:cr,top:0,right:fn,bottom:cr,left:0};bt=Qe(Hr,ue),Ht=Ft(Hr,me),Ue=window}Ue&&(bt!==this._verticalScrollDirection||Ht!==this._horizontalScrollDirection||Ue!==this._scrollNode)&&(this._verticalScrollDirection=bt,this._horizontalScrollDirection=Ht,this._scrollNode=Ue,(bt||Ht)&&Ue?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const me=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=me.msScrollSnapType||me.scrollSnapType||"",me.scrollSnapType=me.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const me=this._container.style;me.scrollSnapType=me.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(ue=>ue._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(me,ue){return null!=this._domRect&&Ne(this._domRect,me,ue)}_getSiblingContainerFromPosition(me,ue,Ue){return this._siblings.find(bt=>bt._canReceive(me,ue,Ue))}_canReceive(me,ue,Ue){if(!this._domRect||!Ne(this._domRect,ue,Ue)||!this.enterPredicate(me,this))return!1;const bt=this._getShadowRoot().elementFromPoint(ue,Ue);return!!bt&&(bt===this._container||this._container.contains(bt))}_startReceiving(me,ue){const Ue=this._activeSiblings;!Ue.has(me)&&ue.every(bt=>this.enterPredicate(bt,this)||this._draggables.indexOf(bt)>-1)&&(Ue.add(me),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:me,receiver:this,items:ue}))}_stopReceiving(me){this._activeSiblings.delete(me),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:me,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(me=>{if(this.isDragging()){const ue=this._parentPositions.handleScroll(me);ue&&this._sortStrategy.updateOnScroll(ue.top,ue.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const me=(0,h.KT)(this._container);this._cachedShadowRoot=me||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const me=this._sortStrategy.getActiveItemsSnapshot().filter(ue=>ue.isDragging());this._siblings.forEach(ue=>ue._startReceiving(this,me))}}function Qe(Ct,me){const{top:ue,bottom:Ue,height:bt}=Ct,Ht=.05*bt;return me>=ue-Ht&&me<=ue+Ht?at.UP:me>=Ue-Ht&&me<=Ue+Ht?at.DOWN:at.NONE}function Ft(Ct,me){const{left:ue,right:Ue,width:bt}=Ct,Ht=.05*bt;return me>=ue-Ht&&me<=ue+Ht?yt.LEFT:me>=Ue-Ht&&me<=Ue+Ht?yt.RIGHT:yt.NONE}const Mt=(0,h.BQ)({passive:!1,capture:!0}),lt=new Set;let Bt=(()=>{class Ct{static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)};static#t=this.\u0275cmp=r.VBU({type:Ct,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(Ue,bt){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return Ct})(),ct=(()=>{class Ct{constructor(ue,Ue){this._ngZone=ue,this._appRef=(0,r.WQX)(r.o8S),this._environmentInjector=(0,r.WQX)(r.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,r.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=bt=>bt.isDragging(),this.pointerMove=new U.B,this.pointerUp=new U.B,this.scroll=new U.B,this._preventDefaultWhileDragging=bt=>{this._activeDragInstances().length>0&&bt.preventDefault()},this._persistentTouchmoveListener=bt=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&bt.preventDefault(),this.pointerMove.next(bt))},this._document=Ue}registerDropContainer(ue){this._dropInstances.has(ue)||this._dropInstances.add(ue)}registerDragItem(ue){this._dragInstances.add(ue),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Mt)})}removeDropContainer(ue){this._dropInstances.delete(ue)}removeDragItem(ue){this._dragInstances.delete(ue),this.stopDragging(ue),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Mt)}startDragging(ue,Ue){if(!(this._activeDragInstances().indexOf(ue)>-1)&&(this._loadResets(),this._activeDragInstances.update(bt=>[...bt,ue]),1===this._activeDragInstances().length)){const bt=Ue.type.startsWith("touch");this._globalListeners.set(bt?"touchend":"mouseup",{handler:Ht=>this.pointerUp.next(Ht),options:!0}).set("scroll",{handler:Ht=>this.scroll.next(Ht),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Mt}),bt||this._globalListeners.set("mousemove",{handler:Ht=>this.pointerMove.next(Ht),options:Mt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Ht,fn)=>{this._document.addEventListener(fn,Ht.handler,Ht.options)})})}}stopDragging(ue){this._activeDragInstances.update(Ue=>{const bt=Ue.indexOf(ue);return bt>-1?(Ue.splice(bt,1),[...Ue]):Ue}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(ue){return this._activeDragInstances().indexOf(ue)>-1}scrolled(ue){const Ue=[this.scroll];return ue&&ue!==this._document&&Ue.push(new B.c(bt=>this._ngZone.runOutsideAngular(()=>{const fn=cr=>{this._activeDragInstances().length&&bt.next(cr)};return ue.addEventListener("scroll",fn,!0),()=>{ue.removeEventListener("scroll",fn,!0)}}))),(0,A.h)(...Ue)}ngOnDestroy(){this._dragInstances.forEach(ue=>this.removeDragItem(ue)),this._dropInstances.forEach(ue=>this.removeDropContainer(ue)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((ue,Ue)=>{this._document.removeEventListener(Ue,ue.handler,ue.options)}),this._globalListeners.clear()}_loadResets(){if(!lt.has(this._appRef)){lt.add(this._appRef);const ue=(0,r.a0P)(Bt,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{lt.delete(this._appRef),0===lt.size&&ue.destroy()})}}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(r.KVO(r.SKi),r.KVO(m.qQ))};static#t=this.\u0275prov=r.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();const Tt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let rt=(()=>{class Ct{constructor(ue,Ue,bt,Ht){this._document=ue,this._ngZone=Ue,this._viewportRuler=bt,this._dragDropRegistry=Ht}createDrag(ue,Ue=Tt){return new Y(ue,Ue,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(ue){return new Jt(ue,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(r.KVO(m.qQ),r.KVO(r.SKi),r.KVO(g.Xj),r.KVO(ct))};static#t=this.\u0275prov=r.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})();const Et=new r.nKC("CDK_DRAG_PARENT"),In=new r.nKC("CdkDragHandle");let Un=(()=>{class Ct{get disabled(){return this._disabled}set disabled(ue){this._disabled=ue,this._stateChanges.next(this)}constructor(ue,Ue){this.element=ue,this._parentDrag=Ue,this._stateChanges=new U.B,this._disabled=!1,Ue?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)(r.rXU(r.aKT),r.rXU(Et,12))};static#t=this.\u0275dir=r.FsC({type:Ct,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",r.L39]},standalone:!0,features:[r.Jv_([{provide:In,useExisting:Ct}]),r.GFd]})}return Ct})();const Jn=new r.nKC("CDK_DRAG_CONFIG"),wn=new r.nKC("CdkDropList");let cn=(()=>{class Ct{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(ue){this._disabled=ue,this._dragRef.disabled=this._disabled}constructor(ue,Ue,bt,Ht,fn,cr,Hr,ti,mi,li,Io){this.element=ue,this.dropContainer=Ue,this._ngZone=Ht,this._viewContainerRef=fn,this._dir=Hr,this._changeDetectorRef=mi,this._selfHandle=li,this._parentDrag=Io,this._destroyed=new U.B,this._handles=new T.t([]),this.scale=1,this.started=new r.bkB,this.released=new r.bkB,this.ended=new r.bkB,this.entered=new r.bkB,this.exited=new r.bkB,this.dropped=new r.bkB,this.moved=new B.c(Co=>{const wo=this._dragRef.moved.pipe((0,J.T)(So=>({source:this,pointerPosition:So.pointerPosition,event:So.event,delta:So.delta,distance:So.distance}))).subscribe(Co);return()=>{wo.unsubscribe()}}),this._injector=(0,r.WQX)(r.zZn),this._dragRef=ti.createDrag(ue,{dragStartThreshold:cr&&null!=cr.dragStartThreshold?cr.dragStartThreshold:5,pointerDirectionChangeThreshold:cr&&null!=cr.pointerDirectionChangeThreshold?cr.pointerDirectionChangeThreshold:5,zIndex:cr?.zIndex}),this._dragRef.data=this,Ct._dragInstances.push(this),cr&&this._assignDefaults(cr),Ue&&(this._dragRef._withDropContainer(Ue._dropListRef),Ue.addItem(this),Ue._dropListRef.beforeStarted.pipe((0,b.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(ue){this._dragRef.setFreeDragPosition(ue)}ngAfterViewInit(){(0,r.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(ue){const Ue=ue.rootElementSelector,bt=ue.freeDragPosition;Ue&&!Ue.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,bt&&!bt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const ue=Ct._dragInstances.indexOf(this);ue>-1&&Ct._dragInstances.splice(ue,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(ue){const Ue=this._handles.getValue();Ue.push(ue),this._handles.next(Ue)}_removeHandle(ue){const Ue=this._handles.getValue(),bt=Ue.indexOf(ue);bt>-1&&(Ue.splice(bt,1),this._handles.next(Ue))}_setPreviewTemplate(ue){this._previewTemplate=ue}_resetPreviewTemplate(ue){ue===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(ue){this._placeholderTemplate=ue}_resetPlaceholderTemplate(ue){ue===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const ue=this.element.nativeElement;let Ue=ue;this.rootElementSelector&&(Ue=void 0!==ue.closest?ue.closest(this.rootElementSelector):ue.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Ue||ue)}_getBoundaryElement(){const ue=this.boundaryElement;return ue?"string"==typeof ue?this.element.nativeElement.closest(ue):(0,D.i8)(ue):null}_syncInputs(ue){ue.beforeStarted.subscribe(()=>{if(!ue.isDragging()){const Ue=this._dir,bt=this.dragStartDelay,Ht=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,fn=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;ue.disabled=this.disabled,ue.lockAxis=this.lockAxis,ue.scale=this.scale,ue.dragStartDelay="object"==typeof bt&&bt?bt:(0,D.OE)(bt),ue.constrainPosition=this.constrainPosition,ue.previewClass=this.previewClass,ue.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Ht).withPreviewTemplate(fn).withPreviewContainer(this.previewContainer||"global"),Ue&&ue.withDirection(Ue.value)}}),ue.beforeStarted.pipe((0,ce.s)(1)).subscribe(()=>{if(this._parentDrag)return void ue.withParent(this._parentDrag._dragRef);let Ue=this.element.nativeElement.parentElement;for(;Ue;){if(Ue.classList.contains("cdk-drag")){ue.withParent(Ct._dragInstances.find(bt=>bt.element.nativeElement===Ue)?._dragRef||null);break}Ue=Ue.parentElement}})}_handleEvents(ue){ue.started.subscribe(Ue=>{this.started.emit({source:this,event:Ue.event}),this._changeDetectorRef.markForCheck()}),ue.released.subscribe(Ue=>{this.released.emit({source:this,event:Ue.event})}),ue.ended.subscribe(Ue=>{this.ended.emit({source:this,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event}),this._changeDetectorRef.markForCheck()}),ue.entered.subscribe(Ue=>{this.entered.emit({container:Ue.container.data,item:this,currentIndex:Ue.currentIndex})}),ue.exited.subscribe(Ue=>{this.exited.emit({container:Ue.container.data,item:this})}),ue.dropped.subscribe(Ue=>{this.dropped.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,previousContainer:Ue.previousContainer.data,container:Ue.container.data,isPointerOverContainer:Ue.isPointerOverContainer,item:this,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event})})}_assignDefaults(ue){const{lockAxis:Ue,dragStartDelay:bt,constrainPosition:Ht,previewClass:fn,boundaryElement:cr,draggingDisabled:Hr,rootElementSelector:ti,previewContainer:mi}=ue;this.disabled=Hr??!1,this.dragStartDelay=bt||0,Ue&&(this.lockAxis=Ue),Ht&&(this.constrainPosition=Ht),fn&&(this.previewClass=fn),cr&&(this.boundaryElement=cr),ti&&(this.rootElementSelector=ti),mi&&(this.previewContainer=mi)}_setupHandlesListener(){this._handles.pipe((0,W.M)(ue=>{const Ue=ue.map(bt=>bt.element);this._selfHandle&&this.rootElementSelector&&Ue.push(this.element),this._dragRef.withHandles(Ue)}),(0,se.n)(ue=>(0,A.h)(...ue.map(Ue=>Ue._stateChanges.pipe((0,Q.Z)(Ue))))),(0,b.Q)(this._destroyed)).subscribe(ue=>{const Ue=this._dragRef,bt=ue.element.nativeElement;ue.disabled?Ue.disableHandle(bt):Ue.enableHandle(bt)})}static#t=this.\u0275fac=function(Ue){return new(Ue||Ct)(r.rXU(r.aKT),r.rXU(wn,12),r.rXU(m.qQ),r.rXU(r.SKi),r.rXU(r.c1b),r.rXU(Jn,8),r.rXU(Ie.dS,8),r.rXU(rt),r.rXU(r.gRc),r.rXU(In,10),r.rXU(Et,12))};static#n=this.\u0275dir=r.FsC({type:Ct,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ue,bt){2&Ue&&r.AVh("cdk-drag-disabled",bt.disabled)("cdk-drag-dragging",bt._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",r.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",r.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[r.Jv_([{provide:Et,useExisting:Ct}]),r.GFd,r.OA$]})}return Ct})();const Yt=new r.nKC("CdkDropListGroup");let jn=0,Lt=(()=>{class Ct{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(ue){this._dropListRef.disabled=this._disabled=ue}constructor(ue,Ue,bt,Ht,fn,cr,Hr){this.element=ue,this._changeDetectorRef=bt,this._scrollDispatcher=Ht,this._dir=fn,this._group=cr,this._destroyed=new U.B,this.connectedTo=[],this.id="cdk-drop-list-"+jn++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.bkB,this.entered=new r.bkB,this.exited=new r.bkB,this.sorted=new r.bkB,this._unsortedItems=new Set,this._dropListRef=Ue.createDropList(ue),this._dropListRef.data=this,Hr&&this._assignDefaults(Hr),this._dropListRef.enterPredicate=(ti,mi)=>this.enterPredicate(ti.data,mi.data),this._dropListRef.sortPredicate=(ti,mi,li)=>this.sortPredicate(ti,mi.data,li.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Ct._dropLists.push(this),cr&&cr._items.add(this)}addItem(ue){this._unsortedItems.add(ue),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(ue){this._unsortedItems.delete(ue),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((ue,Ue)=>ue._dragRef.getVisibleElement().compareDocumentPosition(Ue._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const ue=Ct._dropLists.indexOf(this);ue>-1&&Ct._dropLists.splice(ue,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(ue){this._dir&&this._dir.change.pipe((0,Q.Z)(this._dir.value),(0,b.Q)(this._destroyed)).subscribe(Ue=>ue.withDirection(Ue)),ue.beforeStarted.subscribe(()=>{const Ue=(0,D.FG)(this.connectedTo).map(bt=>"string"==typeof bt?Ct._dropLists.find(fn=>fn.id===bt):bt);if(this._group&&this._group._items.forEach(bt=>{-1===Ue.indexOf(bt)&&Ue.push(bt)}),!this._scrollableParentsResolved){const bt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Ht=>Ht.getElementRef().nativeElement);this._dropListRef.withScrollableParents(bt),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const bt=this.element.nativeElement.querySelector(this.elementContainerSelector);ue.withElementContainer(bt)}ue.disabled=this.disabled,ue.lockAxis=this.lockAxis,ue.sortingDisabled=this.sortingDisabled,ue.autoScrollDisabled=this.autoScrollDisabled,ue.autoScrollStep=(0,D.OE)(this.autoScrollStep,2),ue.connectedTo(Ue.filter(bt=>bt&&bt!==this).map(bt=>bt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(ue){ue.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),ue.entered.subscribe(Ue=>{this.entered.emit({container:this,item:Ue.item.data,currentIndex:Ue.currentIndex})}),ue.exited.subscribe(Ue=>{this.exited.emit({container:this,item:Ue.item.data}),this._changeDetectorRef.markForCheck()}),ue.sorted.subscribe(Ue=>{this.sorted.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,container:this,item:Ue.item.data})}),ue.dropped.subscribe(Ue=>{this.dropped.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,previousContainer:Ue.previousContainer.data,container:Ue.container.data,item:Ue.item.data,isPointerOverContainer:Ue.isPointerOverContainer,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event}),this._changeDetectorRef.markForCheck()}),(0,A.h)(ue.receivingStarted,ue.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(ue){const{lockAxis:Ue,draggingDisabled:bt,sortingDisabled:Ht,listAutoScrollDisabled:fn,listOrientation:cr}=ue;this.disabled=bt??!1,this.sortingDisabled=Ht??!1,this.autoScrollDisabled=fn??!1,this.orientation=cr||"vertical",Ue&&(this.lockAxis=Ue)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(ue=>ue._dragRef))}static#t=this.\u0275fac=function(Ue){return new(Ue||Ct)(r.rXU(r.aKT),r.rXU(rt),r.rXU(r.gRc),r.rXU(g.R),r.rXU(Ie.dS,8),r.rXU(Yt,12),r.rXU(Jn,8))};static#n=this.\u0275dir=r.FsC({type:Ct,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ue,bt){2&Ue&&(r.BMQ("id",bt.id),r.AVh("cdk-drop-list-disabled",bt.disabled)("cdk-drop-list-dragging",bt._dropListRef.isDragging())("cdk-drop-list-receiving",bt._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",r.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",r.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",r.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[r.Jv_([{provide:Yt,useValue:void 0},{provide:wn,useExisting:Ct}]),r.GFd]})}return Ct})(),Bn=(()=>{class Ct{static#e=this.\u0275fac=function(Ue){return new(Ue||Ct)};static#t=this.\u0275mod=r.$C({type:Ct});static#n=this.\u0275inj=r.G2t({providers:[rt],imports:[g.Gj]})}return Ct})()},67336:(bn,be,w)=>{"use strict";w.d(be,{A:()=>ft,A$:()=>F,FX:()=>h,Fm:()=>D,Ge:()=>Ft,Kp:()=>J,LE:()=>Q,UQ:()=>W,W3:()=>U,Z:()=>Qe,_f:()=>B,bn:()=>Oe,dB:()=>b,eg:()=>On,f2:()=>ge,i7:()=>se,n6:()=>Ie,rp:()=>lr,t6:()=>A,w_:()=>T,wn:()=>g,yZ:()=>ce});const g=9,D=13,h=16,U=17,F=18,B=27,A=32,T=33,b=34,J=35,ce=36,W=37,se=38,Q=39,Ie=40,ge=48,Oe=57,ft=65,Qe=90,Ft=91,On=224;function lr(Dr,...ni){return ni.length?ni.some(Yr=>Dr[Yr]):Dr.altKey||Dr.shiftKey||Dr.ctrlKey||Dr.metaKey}},99327:(bn,be,w)=>{"use strict";w.d(be,{QP:()=>Ie,Rp:()=>Me});var r=w(54438),m=w(14085),g=w(85052),C=w(82656),D=w(35892),h=w(2573),U=w(17365),F=w(87145),k=w(87996),z=w(36110),B=w(35160),A=w(37925),T=w(36860);const J=new Set;let ce,W=(()=>{class q{constructor(ge,K){this._platform=ge,this._nonce=K,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Q}matchMedia(ge){return(this._platform.WEBKIT||this._platform.BLINK)&&function se(q,$){if(!J.has(q))try{ce||(ce=document.createElement("style"),$&&ce.setAttribute("nonce",$),ce.setAttribute("type","text/css"),document.head.appendChild(ce)),ce.sheet&&(ce.sheet.insertRule(`@media ${q} {body{ }}`,0),J.add(q))}catch(ge){console.error(ge)}}(ge,this._nonce),this._matchMedia(ge)}static#e=this.\u0275fac=function(K){return new(K||q)(r.KVO(T.OD),r.KVO(r.BIS,8))};static#t=this.\u0275prov=r.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})();function Q(q){return{matches:"all"===q||""===q,media:q,addListener:()=>{},removeListener:()=>{}}}let Ie=(()=>{class q{constructor(ge,K){this._mediaMatcher=ge,this._zone=K,this._queries=new Map,this._destroySubject=new g.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ge){return ae((0,m.FG)(ge)).some(Ne=>this._registerQuery(Ne).mql.matches)}observe(ge){const Ne=ae((0,m.FG)(ge)).map(Ge=>this._registerQuery(Ge).observable);let Ve=(0,C.z)(Ne);return Ve=(0,D.x)(Ve.pipe((0,U.s)(1)),Ve.pipe((0,F.i)(1),(0,k.B)(0))),Ve.pipe((0,z.T)(Ge=>{const gt={matches:!1,breakpoints:{}};return Ge.forEach(({matches:_t,query:zt})=>{gt.matches=gt.matches||_t,gt.breakpoints[zt]=_t}),gt}))}_registerQuery(ge){if(this._queries.has(ge))return this._queries.get(ge);const K=this._mediaMatcher.matchMedia(ge),Ve={observable:new h.c(Ge=>{const gt=_t=>this._zone.run(()=>Ge.next(_t));return K.addListener(gt),()=>{K.removeListener(gt)}}).pipe((0,B.Z)(K),(0,z.T)(({matches:Ge})=>({query:ge,matches:Ge})),(0,A.Q)(this._destroySubject)),mql:K};return this._queries.set(ge,Ve),Ve}static#e=this.\u0275fac=function(K){return new(K||q)(r.KVO(W),r.KVO(r.SKi))};static#t=this.\u0275prov=r.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})();function ae(q){return q.map($=>$.split(",")).reduce(($,ge)=>$.concat(ge)).map($=>$.trim())}const Me={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(bn,be,w)=>{"use strict";w.d(be,{w5:()=>h});var r=w(54438);let g=(()=>{class U{create(k){return typeof MutationObserver>"u"?null:new MutationObserver(k)}static#e=this.\u0275fac=function(z){return new(z||U)};static#t=this.\u0275prov=r.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),h=(()=>{class U{static#e=this.\u0275fac=function(z){return new(z||U)};static#t=this.\u0275mod=r.$C({type:U});static#n=this.\u0275inj=r.G2t({providers:[g]})}return U})()},47987:(bn,be,w)=>{"use strict";w.d(be,{$Q:()=>Z,Sf:()=>Oe,WB:()=>f,hJ:()=>Y,rR:()=>$,yY:()=>De,z_:()=>ye});var r=w(65478),m=w(60177),g=w(54438),C=w(14085),D=w(36860),h=w(14264),U=w(37925),F=w(35716),k=w(28203),z=w(76939),B=w(85052),A=w(81027),T=w(76718),b=w(67336);const J=(0,D.CZ)();class ce{constructor(Ee,nt){this._viewportRuler=Ee,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=nt}attach(){}enable(){if(this._canBeEnabled()){const Ee=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ee.style.left||"",this._previousHTMLStyles.top=Ee.style.top||"",Ee.style.left=(0,C.a1)(-this._previousScrollPosition.left),Ee.style.top=(0,C.a1)(-this._previousScrollPosition.top),Ee.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ee=this._document.documentElement,at=Ee.style,yt=this._document.body.style,Jt=at.scrollBehavior||"",Qe=yt.scrollBehavior||"";this._isEnabled=!1,at.left=this._previousHTMLStyles.left,at.top=this._previousHTMLStyles.top,Ee.classList.remove("cdk-global-scrollblock"),J&&(at.scrollBehavior=yt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J&&(at.scrollBehavior=Jt,yt.scrollBehavior=Qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const nt=this._document.body,at=this._viewportRuler.getViewportSize();return nt.scrollHeight>at.height||nt.scrollWidth>at.width}}class se{constructor(Ee,nt,at,yt){this._scrollDispatcher=Ee,this._ngZone=nt,this._viewportRuler=at,this._config=yt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ee){this._overlayRef=Ee}enable(){if(this._scrollSubscription)return;const Ee=this._scrollDispatcher.scrolled(0).pipe((0,h.p)(nt=>!nt||!this._overlayRef.overlayElement.contains(nt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ee.subscribe(()=>{const nt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(nt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ee.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Q{enable(){}disable(){}attach(){}}function Ie(ke,Ee){return Ee.some(nt=>ke.bottom<nt.top||ke.top>nt.bottom||ke.right<nt.left||ke.left>nt.right)}function ae(ke,Ee){return Ee.some(nt=>ke.top<nt.top||ke.bottom>nt.bottom||ke.left<nt.left||ke.right>nt.right)}class Me{constructor(Ee,nt,at,yt){this._scrollDispatcher=Ee,this._viewportRuler=nt,this._ngZone=at,this._config=yt,this._scrollSubscription=null}attach(Ee){this._overlayRef=Ee}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const nt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:at,height:yt}=this._viewportRuler.getViewportSize();Ie(nt,[{width:at,height:yt,bottom:yt,right:at,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q=(()=>{class ke{constructor(nt,at,yt,Jt){this._scrollDispatcher=nt,this._viewportRuler=at,this._ngZone=yt,this.noop=()=>new Q,this.close=Qe=>new se(this._scrollDispatcher,this._ngZone,this._viewportRuler,Qe),this.block=()=>new ce(this._viewportRuler,this._document),this.reposition=Qe=>new Me(this._scrollDispatcher,this._viewportRuler,this._ngZone,Qe),this._document=Jt}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(r.R),g.KVO(r.Xj),g.KVO(g.SKi),g.KVO(m.qQ))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})();class ${constructor(Ee){if(this.scrollStrategy=new Q,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ee){const nt=Object.keys(Ee);for(const at of nt)void 0!==Ee[at]&&(this[at]=Ee[at])}}}class Ne{constructor(Ee,nt){this.connectionPair=Ee,this.scrollableViewProperties=nt}}let gt=(()=>{class ke{constructor(nt){this._attachedOverlays=[],this._document=nt}ngOnDestroy(){this.detach()}add(nt){this.remove(nt),this._attachedOverlays.push(nt)}remove(nt){const at=this._attachedOverlays.indexOf(nt);at>-1&&this._attachedOverlays.splice(at,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(m.qQ))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),_t=(()=>{class ke extends gt{constructor(nt,at){super(nt),this._ngZone=at,this._keydownListener=yt=>{const Jt=this._attachedOverlays;for(let Qe=Jt.length-1;Qe>-1;Qe--)if(Jt[Qe]._keydownEvents.observers.length>0){const Ft=Jt[Qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ft.next(yt)):Ft.next(yt);break}}}add(nt){super.add(nt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(m.qQ),g.KVO(g.SKi,8))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),zt=(()=>{class ke extends gt{constructor(nt,at,yt){super(nt),this._platform=at,this._ngZone=yt,this._cursorStyleIsSet=!1,this._pointerDownListener=Jt=>{this._pointerDownEventTarget=(0,D.Fb)(Jt)},this._clickListener=Jt=>{const Qe=(0,D.Fb)(Jt),Ft="click"===Jt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Qe;this._pointerDownEventTarget=null;const it=this._attachedOverlays.slice();for(let Mt=it.length-1;Mt>-1;Mt--){const lt=it[Mt];if(lt._outsidePointerEvents.observers.length<1||!lt.hasAttached())continue;if(Rn(lt.overlayElement,Qe)||Rn(lt.overlayElement,Ft))break;const Bt=lt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bt.next(Jt)):Bt.next(Jt)}}}add(nt){if(super.add(nt),!this._isAttached){const at=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(at)):this._addEventListeners(at),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=at.style.cursor,at.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const nt=this._document.body;nt.removeEventListener("pointerdown",this._pointerDownListener,!0),nt.removeEventListener("click",this._clickListener,!0),nt.removeEventListener("auxclick",this._clickListener,!0),nt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(nt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(nt){nt.addEventListener("pointerdown",this._pointerDownListener,!0),nt.addEventListener("click",this._clickListener,!0),nt.addEventListener("auxclick",this._clickListener,!0),nt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(m.qQ),g.KVO(D.OD),g.KVO(g.SKi,8))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})();function Rn(ke,Ee){const nt=typeof ShadowRoot<"u"&&ShadowRoot;let at=Ee;for(;at;){if(at===ke)return!0;at=nt&&at instanceof ShadowRoot?at.host:at.parentNode}return!1}let Oe=(()=>{class ke{constructor(nt,at){this._platform=at,this._document=nt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const nt="cdk-overlay-container";if(this._platform.isBrowser||(0,D.v8)()){const yt=this._document.querySelectorAll(`.${nt}[platform="server"], .${nt}[platform="test"]`);for(let Jt=0;Jt<yt.length;Jt++)yt[Jt].remove()}const at=this._document.createElement("div");at.classList.add(nt),(0,D.v8)()?at.setAttribute("platform","test"):this._platform.isBrowser||at.setAttribute("platform","server"),this._document.body.appendChild(at),this._containerElement=at}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(m.qQ),g.KVO(D.OD))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})();class De{constructor(Ee,nt,at,yt,Jt,Qe,Ft,it,Mt,lt=!1,Bt){this._portalOutlet=Ee,this._host=nt,this._pane=at,this._config=yt,this._ngZone=Jt,this._keyboardDispatcher=Qe,this._document=Ft,this._location=it,this._outsideClickDispatcher=Mt,this._animationsDisabled=lt,this._injector=Bt,this._backdropElement=null,this._backdropClick=new B.B,this._attachments=new B.B,this._detachments=new B.B,this._locationChanges=A.yU.EMPTY,this._backdropClickHandler=ct=>this._backdropClick.next(ct),this._backdropTransitionendHandler=ct=>{this._disposeBackdrop(ct.target)},this._keydownEvents=new B.B,this._outsidePointerEvents=new B.B,this._renders=new B.B,yt.scrollStrategy&&(this._scrollStrategy=yt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=yt.positionStrategy,this._afterRenderRef=(0,g.O8t)(()=>(0,g.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ee){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const nt=this._portalOutlet.attach(Ee);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,g.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof nt?.onDestroy&&nt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),nt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ee=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ee}dispose(){const Ee=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,Ee&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ee){Ee!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ee,this.hasAttached()&&(Ee.attach(this),this.updatePosition()))}updateSize(Ee){this._config={...this._config,...Ee},this._updateElementSize()}setDirection(Ee){this._config={...this._config,direction:Ee},this._updateElementDirection()}addPanelClass(Ee){this._pane&&this._toggleClasses(this._pane,Ee,!0)}removePanelClass(Ee){this._pane&&this._toggleClasses(this._pane,Ee,!1)}getDirection(){const Ee=this._config.direction;return Ee?"string"==typeof Ee?Ee:Ee.value:"ltr"}updateScrollStrategy(Ee){Ee!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ee,this.hasAttached()&&(Ee.attach(this),Ee.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ee=this._pane.style;Ee.width=(0,C.a1)(this._config.width),Ee.height=(0,C.a1)(this._config.height),Ee.minWidth=(0,C.a1)(this._config.minWidth),Ee.minHeight=(0,C.a1)(this._config.minHeight),Ee.maxWidth=(0,C.a1)(this._config.maxWidth),Ee.maxHeight=(0,C.a1)(this._config.maxHeight)}_togglePointerEvents(Ee){this._pane.style.pointerEvents=Ee?"":"none"}_attachBackdrop(){const Ee="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ee)})}):this._backdropElement.classList.add(Ee)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ee=this._backdropElement;if(Ee){if(this._animationsDisabled)return void this._disposeBackdrop(Ee);Ee.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ee.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ee.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ee)},500))}}_toggleClasses(Ee,nt,at){const yt=(0,C.FG)(nt||[]).filter(Jt=>!!Jt);yt.length&&(at?Ee.classList.add(...yt):Ee.classList.remove(...yt))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Ee=this._renders.pipe((0,U.Q)((0,T.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ee.unsubscribe())})})}_disposeScrollStrategy(){const Ee=this._scrollStrategy;Ee&&(Ee.disable(),Ee.detach&&Ee.detach())}_disposeBackdrop(Ee){Ee&&(Ee.removeEventListener("click",this._backdropClickHandler),Ee.removeEventListener("transitionend",this._backdropTransitionendHandler),Ee.remove(),this._backdropElement===Ee&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const He="cdk-overlay-connected-position-bounding-box",We=/([A-Za-z%]+)$/;class st{get positions(){return this._preferredPositions}constructor(Ee,nt,at,yt,Jt){this._viewportRuler=nt,this._document=at,this._platform=yt,this._overlayContainer=Jt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.B,this._resizeSubscription=A.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ee)}attach(Ee){this._validatePositions(),Ee.hostElement.classList.add(He),this._overlayRef=Ee,this._boundingBox=Ee.hostElement,this._pane=Ee.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ee=this._originRect,nt=this._overlayRect,at=this._viewportRect,yt=this._containerRect,Jt=[];let Qe;for(let Ft of this._preferredPositions){let it=this._getOriginPoint(Ee,yt,Ft),Mt=this._getOverlayPoint(it,nt,Ft),lt=this._getOverlayFit(Mt,nt,at,Ft);if(lt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ft,it);this._canFitWithFlexibleDimensions(lt,Mt,at)?Jt.push({position:Ft,origin:it,overlayRect:nt,boundingBoxRect:this._calculateBoundingBoxRect(it,Ft)}):(!Qe||Qe.overlayFit.visibleArea<lt.visibleArea)&&(Qe={overlayFit:lt,overlayPoint:Mt,originPoint:it,position:Ft,overlayRect:nt})}if(Jt.length){let Ft=null,it=-1;for(const Mt of Jt){const lt=Mt.boundingBoxRect.width*Mt.boundingBoxRect.height*(Mt.position.weight||1);lt>it&&(it=lt,Ft=Mt)}return this._isPushed=!1,void this._applyPosition(Ft.position,Ft.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Qe.position,Qe.originPoint);this._applyPosition(Qe.position,Qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ft(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(He),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ee=this._lastPosition;if(Ee){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const nt=this._getOriginPoint(this._originRect,this._containerRect,Ee);this._applyPosition(Ee,nt)}else this.apply()}withScrollableContainers(Ee){return this._scrollables=Ee,this}withPositions(Ee){return this._preferredPositions=Ee,-1===Ee.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ee){return this._viewportMargin=Ee,this}withFlexibleDimensions(Ee=!0){return this._hasFlexibleDimensions=Ee,this}withGrowAfterOpen(Ee=!0){return this._growAfterOpen=Ee,this}withPush(Ee=!0){return this._canPush=Ee,this}withLockedPosition(Ee=!0){return this._positionLocked=Ee,this}setOrigin(Ee){return this._origin=Ee,this}withDefaultOffsetX(Ee){return this._offsetX=Ee,this}withDefaultOffsetY(Ee){return this._offsetY=Ee,this}withTransformOriginOn(Ee){return this._transformOriginSelector=Ee,this}_getOriginPoint(Ee,nt,at){let yt,Jt;if("center"==at.originX)yt=Ee.left+Ee.width/2;else{const Qe=this._isRtl()?Ee.right:Ee.left,Ft=this._isRtl()?Ee.left:Ee.right;yt="start"==at.originX?Qe:Ft}return nt.left<0&&(yt-=nt.left),Jt="center"==at.originY?Ee.top+Ee.height/2:"top"==at.originY?Ee.top:Ee.bottom,nt.top<0&&(Jt-=nt.top),{x:yt,y:Jt}}_getOverlayPoint(Ee,nt,at){let yt,Jt;return yt="center"==at.overlayX?-nt.width/2:"start"===at.overlayX?this._isRtl()?-nt.width:0:this._isRtl()?0:-nt.width,Jt="center"==at.overlayY?-nt.height/2:"top"==at.overlayY?0:-nt.height,{x:Ee.x+yt,y:Ee.y+Jt}}_getOverlayFit(Ee,nt,at,yt){const Jt=kt(nt);let{x:Qe,y:Ft}=Ee,it=this._getOffset(yt,"x"),Mt=this._getOffset(yt,"y");it&&(Qe+=it),Mt&&(Ft+=Mt);let ct=0-Ft,Tt=Ft+Jt.height-at.height,rt=this._subtractOverflows(Jt.width,0-Qe,Qe+Jt.width-at.width),Et=this._subtractOverflows(Jt.height,ct,Tt),vn=rt*Et;return{visibleArea:vn,isCompletelyWithinViewport:Jt.width*Jt.height===vn,fitsInViewportVertically:Et===Jt.height,fitsInViewportHorizontally:rt==Jt.width}}_canFitWithFlexibleDimensions(Ee,nt,at){if(this._hasFlexibleDimensions){const yt=at.bottom-nt.y,Jt=at.right-nt.x,Qe=wt(this._overlayRef.getConfig().minHeight),Ft=wt(this._overlayRef.getConfig().minWidth);return(Ee.fitsInViewportVertically||null!=Qe&&Qe<=yt)&&(Ee.fitsInViewportHorizontally||null!=Ft&&Ft<=Jt)}return!1}_pushOverlayOnScreen(Ee,nt,at){if(this._previousPushAmount&&this._positionLocked)return{x:Ee.x+this._previousPushAmount.x,y:Ee.y+this._previousPushAmount.y};const yt=kt(nt),Jt=this._viewportRect,Qe=Math.max(Ee.x+yt.width-Jt.width,0),Ft=Math.max(Ee.y+yt.height-Jt.height,0),it=Math.max(Jt.top-at.top-Ee.y,0),Mt=Math.max(Jt.left-at.left-Ee.x,0);let lt=0,Bt=0;return lt=yt.width<=Jt.width?Mt||-Qe:Ee.x<this._viewportMargin?Jt.left-at.left-Ee.x:0,Bt=yt.height<=Jt.height?it||-Ft:Ee.y<this._viewportMargin?Jt.top-at.top-Ee.y:0,this._previousPushAmount={x:lt,y:Bt},{x:Ee.x+lt,y:Ee.y+Bt}}_applyPosition(Ee,nt){if(this._setTransformOrigin(Ee),this._setOverlayElementStyles(nt,Ee),this._setBoundingBoxStyles(nt,Ee),Ee.panelClass&&this._addPanelClasses(Ee.panelClass),this._positionChanges.observers.length){const at=this._getScrollVisibility();if(Ee!==this._lastPosition||!this._lastScrollVisibility||!function je(ke,Ee){return ke===Ee||ke.isOriginClipped===Ee.isOriginClipped&&ke.isOriginOutsideView===Ee.isOriginOutsideView&&ke.isOverlayClipped===Ee.isOverlayClipped&&ke.isOverlayOutsideView===Ee.isOverlayOutsideView}(this._lastScrollVisibility,at)){const yt=new Ne(Ee,at);this._positionChanges.next(yt)}this._lastScrollVisibility=at}this._lastPosition=Ee,this._isInitialRender=!1}_setTransformOrigin(Ee){if(!this._transformOriginSelector)return;const nt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let at,yt=Ee.overlayY;at="center"===Ee.overlayX?"center":this._isRtl()?"start"===Ee.overlayX?"right":"left":"start"===Ee.overlayX?"left":"right";for(let Jt=0;Jt<nt.length;Jt++)nt[Jt].style.transformOrigin=`${at} ${yt}`}_calculateBoundingBoxRect(Ee,nt){const at=this._viewportRect,yt=this._isRtl();let Jt,Qe,Ft,lt,Bt,ct;if("top"===nt.overlayY)Qe=Ee.y,Jt=at.height-Qe+this._viewportMargin;else if("bottom"===nt.overlayY)Ft=at.height-Ee.y+2*this._viewportMargin,Jt=at.height-Ft+this._viewportMargin;else{const Tt=Math.min(at.bottom-Ee.y+at.top,Ee.y),rt=this._lastBoundingBoxSize.height;Jt=2*Tt,Qe=Ee.y-Tt,Jt>rt&&!this._isInitialRender&&!this._growAfterOpen&&(Qe=Ee.y-rt/2)}if("end"===nt.overlayX&&!yt||"start"===nt.overlayX&&yt)ct=at.width-Ee.x+2*this._viewportMargin,lt=Ee.x-this._viewportMargin;else if("start"===nt.overlayX&&!yt||"end"===nt.overlayX&&yt)Bt=Ee.x,lt=at.right-Ee.x;else{const Tt=Math.min(at.right-Ee.x+at.left,Ee.x),rt=this._lastBoundingBoxSize.width;lt=2*Tt,Bt=Ee.x-Tt,lt>rt&&!this._isInitialRender&&!this._growAfterOpen&&(Bt=Ee.x-rt/2)}return{top:Qe,left:Bt,bottom:Ft,right:ct,width:lt,height:Jt}}_setBoundingBoxStyles(Ee,nt){const at=this._calculateBoundingBoxRect(Ee,nt);!this._isInitialRender&&!this._growAfterOpen&&(at.height=Math.min(at.height,this._lastBoundingBoxSize.height),at.width=Math.min(at.width,this._lastBoundingBoxSize.width));const yt={};if(this._hasExactPosition())yt.top=yt.left="0",yt.bottom=yt.right=yt.maxHeight=yt.maxWidth="",yt.width=yt.height="100%";else{const Jt=this._overlayRef.getConfig().maxHeight,Qe=this._overlayRef.getConfig().maxWidth;yt.height=(0,C.a1)(at.height),yt.top=(0,C.a1)(at.top),yt.bottom=(0,C.a1)(at.bottom),yt.width=(0,C.a1)(at.width),yt.left=(0,C.a1)(at.left),yt.right=(0,C.a1)(at.right),yt.alignItems="center"===nt.overlayX?"center":"end"===nt.overlayX?"flex-end":"flex-start",yt.justifyContent="center"===nt.overlayY?"center":"bottom"===nt.overlayY?"flex-end":"flex-start",Jt&&(yt.maxHeight=(0,C.a1)(Jt)),Qe&&(yt.maxWidth=(0,C.a1)(Qe))}this._lastBoundingBoxSize=at,ft(this._boundingBox.style,yt)}_resetBoundingBoxStyles(){ft(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ft(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ee,nt){const at={},yt=this._hasExactPosition(),Jt=this._hasFlexibleDimensions,Qe=this._overlayRef.getConfig();if(yt){const lt=this._viewportRuler.getViewportScrollPosition();ft(at,this._getExactOverlayY(nt,Ee,lt)),ft(at,this._getExactOverlayX(nt,Ee,lt))}else at.position="static";let Ft="",it=this._getOffset(nt,"x"),Mt=this._getOffset(nt,"y");it&&(Ft+=`translateX(${it}px) `),Mt&&(Ft+=`translateY(${Mt}px)`),at.transform=Ft.trim(),Qe.maxHeight&&(yt?at.maxHeight=(0,C.a1)(Qe.maxHeight):Jt&&(at.maxHeight="")),Qe.maxWidth&&(yt?at.maxWidth=(0,C.a1)(Qe.maxWidth):Jt&&(at.maxWidth="")),ft(this._pane.style,at)}_getExactOverlayY(Ee,nt,at){let yt={top:"",bottom:""},Jt=this._getOverlayPoint(nt,this._overlayRect,Ee);return this._isPushed&&(Jt=this._pushOverlayOnScreen(Jt,this._overlayRect,at)),"bottom"===Ee.overlayY?yt.bottom=this._document.documentElement.clientHeight-(Jt.y+this._overlayRect.height)+"px":yt.top=(0,C.a1)(Jt.y),yt}_getExactOverlayX(Ee,nt,at){let Qe,yt={left:"",right:""},Jt=this._getOverlayPoint(nt,this._overlayRect,Ee);return this._isPushed&&(Jt=this._pushOverlayOnScreen(Jt,this._overlayRect,at)),Qe=this._isRtl()?"end"===Ee.overlayX?"left":"right":"end"===Ee.overlayX?"right":"left","right"===Qe?yt.right=this._document.documentElement.clientWidth-(Jt.x+this._overlayRect.width)+"px":yt.left=(0,C.a1)(Jt.x),yt}_getScrollVisibility(){const Ee=this._getOriginRect(),nt=this._pane.getBoundingClientRect(),at=this._scrollables.map(yt=>yt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ae(Ee,at),isOriginOutsideView:Ie(Ee,at),isOverlayClipped:ae(nt,at),isOverlayOutsideView:Ie(nt,at)}}_subtractOverflows(Ee,...nt){return nt.reduce((at,yt)=>at-Math.max(yt,0),Ee)}_getNarrowedViewportRect(){const Ee=this._document.documentElement.clientWidth,nt=this._document.documentElement.clientHeight,at=this._viewportRuler.getViewportScrollPosition();return{top:at.top+this._viewportMargin,left:at.left+this._viewportMargin,right:at.left+Ee-this._viewportMargin,bottom:at.top+nt-this._viewportMargin,width:Ee-2*this._viewportMargin,height:nt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ee,nt){return"x"===nt?null==Ee.offsetX?this._offsetX:Ee.offsetX:null==Ee.offsetY?this._offsetY:Ee.offsetY}_validatePositions(){}_addPanelClasses(Ee){this._pane&&(0,C.FG)(Ee).forEach(nt=>{""!==nt&&-1===this._appliedPanelClasses.indexOf(nt)&&(this._appliedPanelClasses.push(nt),this._pane.classList.add(nt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ee=>{this._pane.classList.remove(Ee)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ee=this._origin;if(Ee instanceof g.aKT)return Ee.nativeElement.getBoundingClientRect();if(Ee instanceof Element)return Ee.getBoundingClientRect();const nt=Ee.width||0,at=Ee.height||0;return{top:Ee.y,bottom:Ee.y+at,left:Ee.x,right:Ee.x+nt,height:at,width:nt}}}function ft(ke,Ee){for(let nt in Ee)Ee.hasOwnProperty(nt)&&(ke[nt]=Ee[nt]);return ke}function wt(ke){if("number"!=typeof ke&&null!=ke){const[Ee,nt]=ke.split(We);return nt&&"px"!==nt?null:parseFloat(Ee)}return ke||null}function kt(ke){return{top:Math.floor(ke.top),right:Math.floor(ke.right),bottom:Math.floor(ke.bottom),left:Math.floor(ke.left),width:Math.floor(ke.width),height:Math.floor(ke.height)}}const Re="cdk-global-overlay-wrapper";class te{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ee){const nt=Ee.getConfig();this._overlayRef=Ee,this._width&&!nt.width&&Ee.updateSize({width:this._width}),this._height&&!nt.height&&Ee.updateSize({height:this._height}),Ee.hostElement.classList.add(Re),this._isDisposed=!1}top(Ee=""){return this._bottomOffset="",this._topOffset=Ee,this._alignItems="flex-start",this}left(Ee=""){return this._xOffset=Ee,this._xPosition="left",this}bottom(Ee=""){return this._topOffset="",this._bottomOffset=Ee,this._alignItems="flex-end",this}right(Ee=""){return this._xOffset=Ee,this._xPosition="right",this}start(Ee=""){return this._xOffset=Ee,this._xPosition="start",this}end(Ee=""){return this._xOffset=Ee,this._xPosition="end",this}width(Ee=""){return this._overlayRef?this._overlayRef.updateSize({width:Ee}):this._width=Ee,this}height(Ee=""){return this._overlayRef?this._overlayRef.updateSize({height:Ee}):this._height=Ee,this}centerHorizontally(Ee=""){return this.left(Ee),this._xPosition="center",this}centerVertically(Ee=""){return this.top(Ee),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ee=this._overlayRef.overlayElement.style,nt=this._overlayRef.hostElement.style,at=this._overlayRef.getConfig(),{width:yt,height:Jt,maxWidth:Qe,maxHeight:Ft}=at,it=!("100%"!==yt&&"100vw"!==yt||Qe&&"100%"!==Qe&&"100vw"!==Qe),Mt=!("100%"!==Jt&&"100vh"!==Jt||Ft&&"100%"!==Ft&&"100vh"!==Ft),lt=this._xPosition,Bt=this._xOffset,ct="rtl"===this._overlayRef.getConfig().direction;let Tt="",rt="",Et="";it?Et="flex-start":"center"===lt?(Et="center",ct?rt=Bt:Tt=Bt):ct?"left"===lt||"end"===lt?(Et="flex-end",Tt=Bt):("right"===lt||"start"===lt)&&(Et="flex-start",rt=Bt):"left"===lt||"start"===lt?(Et="flex-start",Tt=Bt):("right"===lt||"end"===lt)&&(Et="flex-end",rt=Bt),Ee.position=this._cssPosition,Ee.marginLeft=it?"0":Tt,Ee.marginTop=Mt?"0":this._topOffset,Ee.marginBottom=this._bottomOffset,Ee.marginRight=it?"0":rt,nt.justifyContent=Et,nt.alignItems=Mt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ee=this._overlayRef.overlayElement.style,nt=this._overlayRef.hostElement,at=nt.style;nt.classList.remove(Re),at.justifyContent=at.alignItems=Ee.marginTop=Ee.marginBottom=Ee.marginLeft=Ee.marginRight=Ee.position="",this._overlayRef=null,this._isDisposed=!0}}let y=(()=>{class ke{constructor(nt,at,yt,Jt){this._viewportRuler=nt,this._document=at,this._platform=yt,this._overlayContainer=Jt}global(){return new te}flexibleConnectedTo(nt){return new st(nt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(r.Xj),g.KVO(m.qQ),g.KVO(D.OD),g.KVO(Oe))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),M=0,Y=(()=>{class ke{constructor(nt,at,yt,Jt,Qe,Ft,it,Mt,lt,Bt,ct,Tt){this.scrollStrategies=nt,this._overlayContainer=at,this._componentFactoryResolver=yt,this._positionBuilder=Jt,this._keyboardDispatcher=Qe,this._injector=Ft,this._ngZone=it,this._document=Mt,this._directionality=lt,this._location=Bt,this._outsideClickDispatcher=ct,this._animationsModuleType=Tt}create(nt){const at=this._createHostElement(),yt=this._createPaneElement(at),Jt=this._createPortalOutlet(yt),Qe=new $(nt);return Qe.direction=Qe.direction||this._directionality.value,new De(Jt,at,yt,Qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(g.uvJ))}position(){return this._positionBuilder}_createPaneElement(nt){const at=this._document.createElement("div");return at.id="cdk-overlay-"+M++,at.classList.add("cdk-overlay-pane"),nt.appendChild(at),at}_createHostElement(){const nt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(nt),nt}_createPortalOutlet(nt){return this._appRef||(this._appRef=this._injector.get(g.o8S)),new z.aI(nt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(at){return new(at||ke)(g.KVO(q),g.KVO(Oe),g.KVO(g.OM3),g.KVO(y),g.KVO(_t),g.KVO(g.zZn),g.KVO(g.SKi),g.KVO(m.qQ),g.KVO(k.dS),g.KVO(m.aZ),g.KVO(zt),g.KVO(g.bc$,8))};static#t=this.\u0275prov=g.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})();const G=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_e=new g.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const ke=(0,g.WQX)(Y);return()=>ke.scrollStrategies.reposition()}});let Z=(()=>{class ke{constructor(nt){this.elementRef=nt}static#e=this.\u0275fac=function(at){return new(at||ke)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:ke,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ke})(),f=(()=>{class ke{get offsetX(){return this._offsetX}set offsetX(nt){this._offsetX=nt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(nt){this._offsetY=nt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(nt){this._disposeOnNavigation=nt}constructor(nt,at,yt,Jt,Qe){this._overlay=nt,this._dir=Qe,this._backdropSubscription=A.yU.EMPTY,this._attachSubscription=A.yU.EMPTY,this._detachSubscription=A.yU.EMPTY,this._positionSubscription=A.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,g.WQX)(g.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new g.bkB,this.positionChange=new g.bkB,this.attach=new g.bkB,this.detach=new g.bkB,this.overlayKeydown=new g.bkB,this.overlayOutsideClick=new g.bkB,this._templatePortal=new z.VA(at,yt),this._scrollStrategyFactory=Jt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(nt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),nt.origin&&this.open&&this._position.apply()),nt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=G);const nt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=nt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=nt.detachments().subscribe(()=>this.detach.emit()),nt.keydownEvents().subscribe(at=>{this.overlayKeydown.next(at),at.keyCode===b._f&&!this.disableClose&&!(0,b.rp)(at)&&(at.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(at=>{const yt=this._getOriginElement(),Jt=(0,D.Fb)(at);(!yt||yt!==Jt&&!yt.contains(Jt))&&this.overlayOutsideClick.next(at)})}_buildConfig(){const nt=this._position=this.positionStrategy||this._createPositionStrategy(),at=new $({direction:this._dir,positionStrategy:nt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(at.width=this.width),(this.height||0===this.height)&&(at.height=this.height),(this.minWidth||0===this.minWidth)&&(at.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(at.minHeight=this.minHeight),this.backdropClass&&(at.backdropClass=this.backdropClass),this.panelClass&&(at.panelClass=this.panelClass),at}_updatePositionStrategy(nt){const at=this.positions.map(yt=>({originX:yt.originX,originY:yt.originY,overlayX:yt.overlayX,overlayY:yt.overlayY,offsetX:yt.offsetX||this.offsetX,offsetY:yt.offsetY||this.offsetY,panelClass:yt.panelClass||void 0}));return nt.setOrigin(this._getOrigin()).withPositions(at).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const nt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(nt),nt}_getOrigin(){return this.origin instanceof Z?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Z?this.origin.elementRef.nativeElement:this.origin instanceof g.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(nt=>{this.backdropClick.emit(nt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,F.v)(()=>this.positionChange.observers.length>0)).subscribe(nt=>{this._ngZone.run(()=>this.positionChange.emit(nt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(at){return new(at||ke)(g.rXU(Y),g.rXU(g.C4Q),g.rXU(g.c1b),g.rXU(_e),g.rXU(k.dS,8))};static#t=this.\u0275dir=g.FsC({type:ke,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",g.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",g.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",g.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",g.L39],push:[2,"cdkConnectedOverlayPush","push",g.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",g.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[g.GFd,g.OA$]})}return ke})();const x={provide:_e,deps:[Y],useFactory:function V(ke){return()=>ke.scrollStrategies.reposition()}};let ye=(()=>{class ke{static#e=this.\u0275fac=function(at){return new(at||ke)};static#t=this.\u0275mod=g.$C({type:ke});static#n=this.\u0275inj=g.G2t({providers:[Y,x],imports:[k.jI,z.jc,r.E9,r.E9]})}return ke})()},36860:(bn,be,w)=>{"use strict";w.d(be,{BD:()=>ce,BQ:()=>B,CZ:()=>J,Fb:()=>ae,KT:()=>Q,OD:()=>C,r5:()=>A,v8:()=>Me,vc:()=>Ie});var r=w(54438),m=w(60177);let g;try{g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g=!1}let k,C=(()=>{class q{constructor(ge){this._platformId=ge,this.isBrowser=this._platformId?(0,m.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(K){return new(K||q)(r.KVO(r.Agw))};static#t=this.\u0275prov=r.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})();function B(q){return function z(){if(null==k&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>k=!0}))}finally{k=k||!1}return k}()?q:!!q.capture}var A=function(q){return q[q.NORMAL=0]="NORMAL",q[q.NEGATED=1]="NEGATED",q[q.INVERTED=2]="INVERTED",q}(A||{});let T,b,W;function J(){if(null==b){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return b=!1,b;if("scrollBehavior"in document.documentElement.style)b=!0;else{const q=Element.prototype.scrollTo;b=!!q&&!/\{\s*\[native code\]\s*\}/.test(q.toString())}}return b}function ce(){if("object"!=typeof document||!document)return A.NORMAL;if(null==T){const q=document.createElement("div"),$=q.style;q.dir="rtl",$.width="1px",$.overflow="auto",$.visibility="hidden",$.pointerEvents="none",$.position="absolute";const ge=document.createElement("div"),K=ge.style;K.width="2px",K.height="1px",q.appendChild(ge),document.body.appendChild(q),T=A.NORMAL,0===q.scrollLeft&&(q.scrollLeft=1,T=0===q.scrollLeft?A.NEGATED:A.INVERTED),q.remove()}return T}function Q(q){if(function se(){if(null==W){const q=typeof document<"u"?document.head:null;W=!(!q||!q.createShadowRoot&&!q.attachShadow)}return W}()){const $=q.getRootNode?q.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&$ instanceof ShadowRoot)return $}return null}function Ie(){let q=typeof document<"u"&&document?document.activeElement:null;for(;q&&q.shadowRoot;){const $=q.shadowRoot.activeElement;if($===q)break;q=$}return q}function ae(q){return q.composedPath?q.composedPath()[0]:q.target}function Me(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(bn,be,w)=>{"use strict";w.d(be,{A8:()=>z,I3:()=>Q,JP:()=>Me,VA:()=>B,aI:()=>J,jc:()=>ae,lb:()=>T});var r=w(54438),m=w(60177);class k{attach($){return this._attachedHost=$,$.attach(this)}detach(){let $=this._attachedHost;null!=$&&(this._attachedHost=null,$.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost($){this._attachedHost=$}}class z extends k{constructor($,ge,K,Ne,Ve){super(),this.component=$,this.viewContainerRef=ge,this.injector=K,this.componentFactoryResolver=Ne,this.projectableNodes=Ve}}class B extends k{constructor($,ge,K,Ne){super(),this.templateRef=$,this.viewContainerRef=ge,this.context=K,this.injector=Ne}get origin(){return this.templateRef.elementRef}attach($,ge=this.context){return this.context=ge,super.attach($)}detach(){return this.context=void 0,super.detach()}}class A extends k{constructor($){super(),this.element=$ instanceof r.aKT?$.nativeElement:$}}class T{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach($){return $ instanceof z?(this._attachedPortal=$,this.attachComponentPortal($)):$ instanceof B?(this._attachedPortal=$,this.attachTemplatePortal($)):this.attachDomPortal&&$ instanceof A?(this._attachedPortal=$,this.attachDomPortal($)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn($){this._disposeFn=$}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class J extends T{constructor($,ge,K,Ne,Ve){super(),this.outletElement=$,this._componentFactoryResolver=ge,this._appRef=K,this._defaultInjector=Ne,this.attachDomPortal=Ge=>{const gt=Ge.element,_t=this._document.createComment("dom-portal");gt.parentNode.insertBefore(_t,gt),this.outletElement.appendChild(gt),this._attachedPortal=Ge,super.setDisposeFn(()=>{_t.parentNode&&_t.parentNode.replaceChild(gt,_t)})},this._document=Ve}attachComponentPortal($){const K=($.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($.component);let Ne;return $.viewContainerRef?(Ne=$.viewContainerRef.createComponent(K,$.viewContainerRef.length,$.injector||$.viewContainerRef.injector,$.projectableNodes||void 0),this.setDisposeFn(()=>Ne.destroy())):(Ne=K.create($.injector||this._defaultInjector||r.zZn.NULL),this._appRef.attachView(Ne.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ne.hostView),Ne.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ne)),this._attachedPortal=$,Ne}attachTemplatePortal($){let ge=$.viewContainerRef,K=ge.createEmbeddedView($.templateRef,$.context,{injector:$.injector});return K.rootNodes.forEach(Ne=>this.outletElement.appendChild(Ne)),K.detectChanges(),this.setDisposeFn(()=>{let Ne=ge.indexOf(K);-1!==Ne&&ge.remove(Ne)}),this._attachedPortal=$,K}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode($){return $.hostView.rootNodes[0]}}let Q=(()=>{class q extends T{constructor(ge,K,Ne){super(),this._componentFactoryResolver=ge,this._viewContainerRef=K,this._isInitialized=!1,this.attached=new r.bkB,this.attachDomPortal=Ve=>{const Ge=Ve.element,gt=this._document.createComment("dom-portal");Ve.setAttachedHost(this),Ge.parentNode.insertBefore(gt,Ge),this._getRootNode().appendChild(Ge),this._attachedPortal=Ve,super.setDisposeFn(()=>{gt.parentNode&&gt.parentNode.replaceChild(Ge,gt)})},this._document=Ne}get portal(){return this._attachedPortal}set portal(ge){this.hasAttached()&&!ge&&!this._isInitialized||(this.hasAttached()&&super.detach(),ge&&super.attach(ge),this._attachedPortal=ge||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ge){ge.setAttachedHost(this);const K=null!=ge.viewContainerRef?ge.viewContainerRef:this._viewContainerRef,Ve=(ge.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ge.component),Ge=K.createComponent(Ve,K.length,ge.injector||K.injector,ge.projectableNodes||void 0);return K!==this._viewContainerRef&&this._getRootNode().appendChild(Ge.hostView.rootNodes[0]),super.setDisposeFn(()=>Ge.destroy()),this._attachedPortal=ge,this._attachedRef=Ge,this.attached.emit(Ge),Ge}attachTemplatePortal(ge){ge.setAttachedHost(this);const K=this._viewContainerRef.createEmbeddedView(ge.templateRef,ge.context,{injector:ge.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ge,this._attachedRef=K,this.attached.emit(K),K}_getRootNode(){const ge=this._viewContainerRef.element.nativeElement;return ge.nodeType===ge.ELEMENT_NODE?ge:ge.parentNode}static#e=this.\u0275fac=function(K){return new(K||q)(r.rXU(r.OM3),r.rXU(r.c1b),r.rXU(m.qQ))};static#t=this.\u0275dir=r.FsC({type:q,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[r.Vt3]})}return q})(),ae=(()=>{class q{static#e=this.\u0275fac=function(K){return new(K||q)};static#t=this.\u0275mod=r.$C({type:q});static#n=this.\u0275inj=r.G2t({})}return q})();class Me{constructor($,ge){this._parentInjector=$,this._customTokens=ge}get($,ge){const K=this._customTokens.get($);return typeof K<"u"?K:this._parentInjector.get($,ge)}}},65478:(bn,be,w)=>{"use strict";w.d(be,{E$:()=>wt,E9:()=>ne,Gj:()=>Ce,R:()=>gt,Xj:()=>Rn,d6:()=>st,uv:()=>_t,yg:()=>Ve});var r=w(14085),m=w(54438),g=w(85052),C=w(15877),D=w(2573),h=w(35426),U=w(94974),F=w(82755),k=w(81027),z=w(28454),B=w(21082),A=w(9065),T=w(14264),b=w(37925),J=w(35160),ce=w(1670),W=w(32914),se=w(49784),Q=w(36860),Ie=w(60177),ae=w(28203),Me=w(45024);const q=["contentWrapper"],$=["*"],ge=new m.nKC("VIRTUAL_SCROLL_STRATEGY");class K{constructor(te,y,M){this._scrolledIndexChange=new g.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,B.F)()),this._viewport=null,this._itemSize=te,this._minBufferPx=y,this._maxBufferPx=M}attach(te){this._viewport=te,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(te,y,M){this._itemSize=te,this._minBufferPx=y,this._maxBufferPx=M,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(te,y){this._viewport&&this._viewport.scrollToOffset(te*this._itemSize,y)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const te=this._viewport.getRenderedRange(),y={start:te.start,end:te.end},M=this._viewport.getViewportSize(),Y=this._viewport.getDataLength();let G=this._viewport.measureScrollOffset(),_e=this._itemSize>0?G/this._itemSize:0;if(y.end>Y){const f=Math.ceil(M/this._itemSize),V=Math.max(0,Math.min(_e,Y-f));_e!=V&&(_e=V,G=V*this._itemSize,y.start=Math.floor(_e)),y.end=Math.max(0,Math.min(Y,y.start+f))}const Z=G-y.start*this._itemSize;if(Z<this._minBufferPx&&0!=y.start){const f=Math.ceil((this._maxBufferPx-Z)/this._itemSize);y.start=Math.max(0,y.start-f),y.end=Math.min(Y,Math.ceil(_e+(M+this._minBufferPx)/this._itemSize))}else{const f=y.end*this._itemSize-(G+M);if(f<this._minBufferPx&&y.end!=Y){const V=Math.ceil((this._maxBufferPx-f)/this._itemSize);V>0&&(y.end=Math.min(Y,y.end+V),y.start=Math.max(0,Math.floor(_e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(y),this._viewport.setRenderedContentOffset(this._itemSize*y.start),this._scrolledIndexChange.next(Math.floor(_e))}}function Ne(Re){return Re._scrollStrategy}let Ve=(()=>{class Re{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new K(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(y){this._itemSize=(0,r.OE)(y)}get minBufferPx(){return this._minBufferPx}set minBufferPx(y){this._minBufferPx=(0,r.OE)(y)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(y){this._maxBufferPx=(0,r.OE)(y)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(M){return new(M||Re)};static#t=this.\u0275dir=m.FsC({type:Re,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[m.Jv_([{provide:ge,useFactory:Ne,deps:[(0,m.Rfq)(()=>Re)]}]),m.OA$]})}return Re})(),gt=(()=>{class Re{constructor(y,M,Y){this._ngZone=y,this._platform=M,this._scrolled=new g.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Y}register(y){this.scrollContainers.has(y)||this.scrollContainers.set(y,y.elementScrolled().subscribe(()=>this._scrolled.next(y)))}deregister(y){const M=this.scrollContainers.get(y);M&&(M.unsubscribe(),this.scrollContainers.delete(y))}scrolled(y=20){return this._platform.isBrowser?new D.c(M=>{this._globalSubscription||this._addGlobalListener();const Y=y>0?this._scrolled.pipe((0,A.Z)(y)).subscribe(M):this._scrolled.subscribe(M);return this._scrolledCount++,()=>{Y.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,C.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((y,M)=>this.deregister(M)),this._scrolled.complete()}ancestorScrolled(y,M){const Y=this.getAncestorScrollContainers(y);return this.scrolled(M).pipe((0,T.p)(G=>!G||Y.indexOf(G)>-1))}getAncestorScrollContainers(y){const M=[];return this.scrollContainers.forEach((Y,G)=>{this._scrollableContainsElement(G,y)&&M.push(G)}),M}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(y,M){let Y=(0,r.i8)(M),G=y.getElementRef().nativeElement;do{if(Y==G)return!0}while(Y=Y.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const y=this._getWindow();return(0,h.R)(y.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(M){return new(M||Re)(m.KVO(m.SKi),m.KVO(Q.OD),m.KVO(Ie.qQ,8))};static#t=this.\u0275prov=m.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),_t=(()=>{class Re{constructor(y,M,Y,G){this.elementRef=y,this.scrollDispatcher=M,this.ngZone=Y,this.dir=G,this._destroyed=new g.B,this._elementScrolled=new D.c(_e=>this.ngZone.runOutsideAngular(()=>(0,h.R)(this.elementRef.nativeElement,"scroll").pipe((0,b.Q)(this._destroyed)).subscribe(_e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(y){const M=this.elementRef.nativeElement,Y=this.dir&&"rtl"==this.dir.value;null==y.left&&(y.left=Y?y.end:y.start),null==y.right&&(y.right=Y?y.start:y.end),null!=y.bottom&&(y.top=M.scrollHeight-M.clientHeight-y.bottom),Y&&(0,Q.BD)()!=Q.r5.NORMAL?(null!=y.left&&(y.right=M.scrollWidth-M.clientWidth-y.left),(0,Q.BD)()==Q.r5.INVERTED?y.left=y.right:(0,Q.BD)()==Q.r5.NEGATED&&(y.left=y.right?-y.right:y.right)):null!=y.right&&(y.left=M.scrollWidth-M.clientWidth-y.right),this._applyScrollToOptions(y)}_applyScrollToOptions(y){const M=this.elementRef.nativeElement;(0,Q.CZ)()?M.scrollTo(y):(null!=y.top&&(M.scrollTop=y.top),null!=y.left&&(M.scrollLeft=y.left))}measureScrollOffset(y){const M="left",Y="right",G=this.elementRef.nativeElement;if("top"==y)return G.scrollTop;if("bottom"==y)return G.scrollHeight-G.clientHeight-G.scrollTop;const _e=this.dir&&"rtl"==this.dir.value;return"start"==y?y=_e?Y:M:"end"==y&&(y=_e?M:Y),_e&&(0,Q.BD)()==Q.r5.INVERTED?y==M?G.scrollWidth-G.clientWidth-G.scrollLeft:G.scrollLeft:_e&&(0,Q.BD)()==Q.r5.NEGATED?y==M?G.scrollLeft+G.scrollWidth-G.clientWidth:-G.scrollLeft:y==M?G.scrollLeft:G.scrollWidth-G.clientWidth-G.scrollLeft}static#e=this.\u0275fac=function(M){return new(M||Re)(m.rXU(m.aKT),m.rXU(gt),m.rXU(m.SKi),m.rXU(ae.dS,8))};static#t=this.\u0275dir=m.FsC({type:Re,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Re})(),Rn=(()=>{class Re{constructor(y,M,Y){this._platform=y,this._change=new g.B,this._changeListener=G=>{this._change.next(G)},this._document=Y,M.runOutsideAngular(()=>{if(y.isBrowser){const G=this._getWindow();G.addEventListener("resize",this._changeListener),G.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const y=this._getWindow();y.removeEventListener("resize",this._changeListener),y.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const y={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),y}getViewportRect(){const y=this.getViewportScrollPosition(),{width:M,height:Y}=this.getViewportSize();return{top:y.top,left:y.left,bottom:y.top+Y,right:y.left+M,height:Y,width:M}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const y=this._document,M=this._getWindow(),Y=y.documentElement,G=Y.getBoundingClientRect();return{top:-G.top||y.body.scrollTop||M.scrollY||Y.scrollTop||0,left:-G.left||y.body.scrollLeft||M.scrollX||Y.scrollLeft||0}}change(y=20){return y>0?this._change.pipe((0,A.Z)(y)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const y=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:y.innerWidth,height:y.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(M){return new(M||Re)(m.KVO(Q.OD),m.KVO(m.SKi),m.KVO(Ie.qQ,8))};static#t=this.\u0275prov=m.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();const Oe=new m.nKC("VIRTUAL_SCROLLABLE");let De=(()=>{class Re extends _t{constructor(y,M,Y,G){super(y,M,Y,G)}measureViewportSize(y){const M=this.elementRef.nativeElement;return"horizontal"===y?M.clientWidth:M.clientHeight}static#e=this.\u0275fac=function(M){return new(M||Re)(m.rXU(m.aKT),m.rXU(gt),m.rXU(m.SKi),m.rXU(ae.dS,8))};static#t=this.\u0275dir=m.FsC({type:Re,features:[m.Vt3]})}return Re})();const We=typeof requestAnimationFrame<"u"?U.X:F.$;let st=(()=>{class Re extends De{get orientation(){return this._orientation}set orientation(y){this._orientation!==y&&(this._orientation=y,this._calculateSpacerSize())}constructor(y,M,Y,G,_e,Z,f,V){super(y,Z,Y,_e),this.elementRef=y,this._changeDetectorRef=M,this._scrollStrategy=G,this.scrollable=V,this._platform=(0,m.WQX)(Q.OD),this._detachedSubject=new g.B,this._renderedRangeSubject=new g.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new D.c(x=>this._scrollStrategy.scrolledIndexChange.subscribe(ye=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(ye))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=k.yU.EMPTY,this._injector=(0,m.WQX)(m.zZn),this._isDestroyed=!1,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,J.Z)(null),(0,A.Z)(0,We),(0,b.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(y){this.ngZone.runOutsideAngular(()=>{this._forOf=y,this._forOf.dataStream.pipe((0,b.Q)(this._detachedSubject)).subscribe(M=>{const Y=M.length;Y!==this._dataLength&&(this._dataLength=Y,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(y){return this.getElementRef().nativeElement.getBoundingClientRect()[y]}setTotalContentSize(y){this._totalContentSize!==y&&(this._totalContentSize=y,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(y){(function He(Re,te){return Re.start==te.start&&Re.end==te.end})(this._renderedRange,y)||(this.appendOnly&&(y={start:0,end:Math.max(this._renderedRange.end,y.end)}),this._renderedRangeSubject.next(this._renderedRange=y),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(y,M="to-start"){y=this.appendOnly&&"to-start"===M?0:y;const G="horizontal"==this.orientation,_e=G?"X":"Y";let f=`translate${_e}(${Number((G&&this.dir&&"rtl"==this.dir.value?-1:1)*y)}px)`;this._renderedContentOffset=y,"to-end"===M&&(f+=` translate${_e}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(y,M="auto"){const Y={behavior:M};"horizontal"===this.orientation?Y.start=y:Y.top=y,this.scrollable.scrollTo(Y)}scrollToIndex(y,M="auto"){this._scrollStrategy.scrollToIndex(y,M)}measureScrollOffset(y){let M;return M=this.scrollable==this?Y=>super.measureScrollOffset(Y):Y=>this.scrollable.measureScrollOffset(Y),Math.max(0,M(y??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(y){let M;const Y="left",G="right",_e="rtl"==this.dir?.value;M="start"==y?_e?G:Y:"end"==y?_e?Y:G:y||("horizontal"===this.orientation?"left":"top");const Z=this.scrollable.measureBoundingClientRectWithScrollOffset(M);return this.elementRef.nativeElement.getBoundingClientRect()[M]-Z}measureRenderedContentSize(){const y=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?y.offsetWidth:y.offsetHeight}measureRangeSize(y){return this._forOf?this._forOf.measureRangeSize(y,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(y){y&&this._runAfterChangeDetection.push(y),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,m.mal)(()=>{this._isChangeDetectionPending=!1;const y=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const M of y)M()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(M){return new(M||Re)(m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(m.SKi),m.rXU(ge,8),m.rXU(ae.dS,8),m.rXU(gt),m.rXU(Rn),m.rXU(Oe,8))};static#t=this.\u0275cmp=m.VBU({type:Re,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(M,Y){if(1&M&&m.GBs(q,7),2&M){let G;m.mGM(G=m.lsd())&&(Y._contentWrapper=G.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(M,Y){2&M&&m.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Y.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Y.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",m.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[m.Jv_([{provide:_t,useFactory:(y,M)=>y||M,deps:[[new m.Xx1,new m.y_5(Oe)],Re]}]),m.GFd,m.Vt3,m.aNF],ngContentSelectors:$,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(M,Y){1&M&&(m.NAR(),m.j41(0,"div",1,0),m.SdG(2),m.k0s(),m.nrm(3,"div",2)),2&M&&(m.R7$(3),m.xc7("width",Y._totalContentWidth)("height",Y._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return Re})();function ft(Re,te,y){if(!y.getBoundingClientRect)return 0;const Y=y.getBoundingClientRect();return"horizontal"===Re?"start"===te?Y.left:Y.right:"start"===te?Y.top:Y.bottom}let wt=(()=>{class Re{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(y){this._cdkVirtualForOf=y,(0,Me.y4)(y)?this._dataSourceChanges.next(y):this._dataSourceChanges.next(new Me.hx((0,z.A)(y)?y:Array.from(y||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(y){this._needsUpdate=!0,this._cdkVirtualForTrackBy=y?(M,Y)=>y(M+(this._renderedRange?this._renderedRange.start:0),Y):void 0}set cdkVirtualForTemplate(y){y&&(this._needsUpdate=!0,this._template=y)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(y){this._viewRepeater.viewCacheSize=(0,r.OE)(y)}constructor(y,M,Y,G,_e,Z){this._viewContainerRef=y,this._template=M,this._differs=Y,this._viewRepeater=G,this._viewport=_e,this.viewChange=new g.B,this._dataSourceChanges=new g.B,this.dataStream=this._dataSourceChanges.pipe((0,J.Z)(null),(0,ce.J)(),(0,W.n)(([f,V])=>this._changeDataSource(f,V)),(0,se.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new g.B,this.dataStream.subscribe(f=>{this._data=f,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,b.Q)(this._destroyed)).subscribe(f=>{this._renderedRange=f,this.viewChange.observers.length&&Z.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(y,M){if(y.start>=y.end)return 0;const Y=y.start-this._renderedRange.start,G=y.end-y.start;let _e,Z;for(let f=0;f<G;f++){const V=this._viewContainerRef.get(f+Y);if(V&&V.rootNodes.length){_e=Z=V.rootNodes[0];break}}for(let f=G-1;f>-1;f--){const V=this._viewContainerRef.get(f+Y);if(V&&V.rootNodes.length){Z=V.rootNodes[V.rootNodes.length-1];break}}return _e&&Z?ft(M,"end",Z)-ft(M,"start",_e):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const y=this._differ.diff(this._renderedItems);y?this._applyChanges(y):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((y,M)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(y,M):M)),this._needsUpdate=!0)}_changeDataSource(y,M){return y&&y.disconnect(this),this._needsUpdate=!0,M?M.connect(this):(0,C.of)()}_updateContext(){const y=this._data.length;let M=this._viewContainerRef.length;for(;M--;){const Y=this._viewContainerRef.get(M);Y.context.index=this._renderedRange.start+M,Y.context.count=y,this._updateComputedContextProperties(Y.context),Y.detectChanges()}}_applyChanges(y){this._viewRepeater.applyChanges(y,this._viewContainerRef,(G,_e,Z)=>this._getEmbeddedViewArgs(G,Z),G=>G.item),y.forEachIdentityChange(G=>{this._viewContainerRef.get(G.currentIndex).context.$implicit=G.item});const M=this._data.length;let Y=this._viewContainerRef.length;for(;Y--;){const G=this._viewContainerRef.get(Y);G.context.index=this._renderedRange.start+Y,G.context.count=M,this._updateComputedContextProperties(G.context)}}_updateComputedContextProperties(y){y.first=0===y.index,y.last=y.index===y.count-1,y.even=y.index%2==0,y.odd=!y.even}_getEmbeddedViewArgs(y,M){return{templateRef:this._template,context:{$implicit:y.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:M}}static#e=this.\u0275fac=function(M){return new(M||Re)(m.rXU(m.c1b),m.rXU(m.C4Q),m.rXU(m._q3),m.rXU(Me.sL),m.rXU(st,4),m.rXU(m.SKi))};static#t=this.\u0275dir=m.FsC({type:Re,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[m.Jv_([{provide:Me.sL,useClass:Me.DQ}])]})}return Re})(),Ce=(()=>{class Re{static#e=this.\u0275fac=function(M){return new(M||Re)};static#t=this.\u0275mod=m.$C({type:Re});static#n=this.\u0275inj=m.G2t({})}return Re})(),ne=(()=>{class Re{static#e=this.\u0275fac=function(M){return new(M||Re)};static#t=this.\u0275mod=m.$C({type:Re});static#n=this.\u0275inj=m.G2t({imports:[ae.jI,Ce,ae.jI,Ce]})}return Re})()},45887:(bn,be,w)=>{"use strict";w.d(be,{N0:()=>it}),w(28203),w(45024),w(36860);var C=w(65478),h=(w(60177),w(54438));w(85052),w(29160),w(28454),w(15877),w(37925);let it=(()=>{class lt{static#e=this.\u0275fac=function(Tt){return new(Tt||lt)};static#t=this.\u0275mod=h.$C({type:lt});static#n=this.\u0275inj=h.G2t({imports:[C.E9]})}return lt})()},64109:(bn,be,w)=>{"use strict";w.d(be,{Dc:()=>ne}),w(45024),w(28454),w(85052),w(29160),w(15877),w(82656),w(2515),w(35892),w(17365),w(14264),w(37925),w(35160),w(39705),w(32914),w(36110),w(84968),w(26758),w(21082);var Q=w(54438);w(18617),w(28203),w(8045);let ne=(()=>{class Re{static#e=this.\u0275fac=function(M){return new(M||Re)};static#t=this.\u0275mod=Q.$C({type:Re});static#n=this.\u0275inj=Q.G2t({})}return Re})()},60177:(bn,be,w)=>{"use strict";w.d(be,{AJ:()=>es,B3:()=>bo,EO:()=>nn,Jj:()=>kr,MD:()=>os,N0:()=>Ls,OI:()=>_r,PV:()=>Hi,Pc:()=>Mo,QT:()=>g,QX:()=>ri,Sm:()=>ce,Sq:()=>ht,T3:()=>Bo,TG:()=>Ps,UE:()=>Fs,VF:()=>D,Vy:()=>Ro,Xr:()=>gs,YU:()=>Vr,Yq:()=>Jt,ZD:()=>C,_b:()=>xn,aZ:()=>se,bT:()=>lr,e1:()=>Ri,fG:()=>eo,fw:()=>W,hb:()=>b,hj:()=>k,lG:()=>Hn,m1:()=>si,oe:()=>Xr,qQ:()=>U,ux:()=>ui,vh:()=>Os});var r=w(54438);let m=null;function g(){return m}function C(v){m??=v}class D{}const U=new r.nKC("");let F=(()=>{class v{historyGo(I){throw new Error("")}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275prov=r.jDH({token:v,factory:()=>(0,r.WQX)(z),providedIn:"platform"})}return v})();const k=new r.nKC("");let z=(()=>{class v extends F{constructor(){super(),this._doc=(0,r.WQX)(U),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(I){const re=g().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",I,!1),()=>re.removeEventListener("popstate",I)}onHashChange(I){const re=g().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",I,!1),()=>re.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,re,Ze){this._history.pushState(I,re,Ze)}replaceState(I,re,Ze){this._history.replaceState(I,re,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275prov=r.jDH({token:v,factory:()=>new v,providedIn:"platform"})}return v})();function B(v,j){if(0==v.length)return j;if(0==j.length)return v;let I=0;return v.endsWith("/")&&I++,j.startsWith("/")&&I++,2==I?v+j.substring(1):1==I?v+j:v+"/"+j}function A(v){const j=v.match(/#|\?|$/),I=j&&j.index||v.length;return v.slice(0,I-("/"===v[I-1]?1:0))+v.slice(I)}function T(v){return v&&"?"!==v[0]?"?"+v:v}let b=(()=>{class v{historyGo(I){throw new Error("")}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275prov=r.jDH({token:v,factory:()=>(0,r.WQX)(ce),providedIn:"root"})}return v})();const J=new r.nKC("");let ce=(()=>{class v extends b{constructor(I,re){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=re??this._platformLocation.getBaseHrefFromDOM()??(0,r.WQX)(U).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return B(this._baseHref,I)}path(I=!1){const re=this._platformLocation.pathname+T(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&I?`${re}${Ze}`:re}pushState(I,re,Ze,Dt){const Zt=this.prepareExternalUrl(Ze+T(Dt));this._platformLocation.pushState(I,re,Zt)}replaceState(I,re,Ze,Dt){const Zt=this.prepareExternalUrl(Ze+T(Dt));this._platformLocation.replaceState(I,re,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(re){return new(re||v)(r.KVO(F),r.KVO(J,8))};static#t=this.\u0275prov=r.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),W=(()=>{class v extends b{constructor(I,re){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){const re=this._platformLocation.hash??"#";return re.length>0?re.substring(1):re}prepareExternalUrl(I){const re=B(this._baseHref,I);return re.length>0?"#"+re:re}pushState(I,re,Ze,Dt){let Zt=this.prepareExternalUrl(Ze+T(Dt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.pushState(I,re,Zt)}replaceState(I,re,Ze,Dt){let Zt=this.prepareExternalUrl(Ze+T(Dt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.replaceState(I,re,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(re){return new(re||v)(r.KVO(F),r.KVO(J,8))};static#t=this.\u0275prov=r.jDH({token:v,factory:v.\u0275fac})}return v})(),se=(()=>{class v{constructor(I){this._subject=new r.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const re=this._locationStrategy.getBaseHref();this._basePath=function Me(v){if(new RegExp("^(https?:)?//").test(v)){const[,I]=v.split(/\/\/[^\/]+/);return I}return v}(A(ae(re))),this._locationStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,re=""){return this.path()==this.normalize(I+T(re))}normalize(I){return v.stripTrailingSlash(function Ie(v,j){if(!v||!j.startsWith(v))return j;const I=j.substring(v.length);return""===I||["/",";","?","#"].includes(I[0])?I:j}(this._basePath,ae(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,re="",Ze=null){this._locationStrategy.pushState(Ze,"",I,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+T(re)),Ze)}replaceState(I,re="",Ze=null){this._locationStrategy.replaceState(Ze,"",I,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+T(re)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription??=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)}),()=>{const re=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(re,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",re){this._urlChangeListeners.forEach(Ze=>Ze(I,re))}subscribe(I,re,Ze){return this._subject.subscribe({next:I,error:re,complete:Ze})}static#e=this.normalizeQueryParams=T;static#t=this.joinWithSlash=B;static#n=this.stripTrailingSlash=A;static#s=this.\u0275fac=function(re){return new(re||v)(r.KVO(b))};static#a=this.\u0275prov=r.jDH({token:v,factory:()=>function Q(){return new se((0,r.KVO)(b))}(),providedIn:"root"})}return v})();function ae(v){return v.replace(/\/index.html$/,"")}const q={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var $=function(v){return v[v.Decimal=0]="Decimal",v[v.Percent=1]="Percent",v[v.Currency=2]="Currency",v[v.Scientific=3]="Scientific",v}($||{}),K=function(v){return v[v.Format=0]="Format",v[v.Standalone=1]="Standalone",v}(K||{}),Ne=function(v){return v[v.Narrow=0]="Narrow",v[v.Abbreviated=1]="Abbreviated",v[v.Wide=2]="Wide",v[v.Short=3]="Short",v}(Ne||{}),Ve=function(v){return v[v.Short=0]="Short",v[v.Medium=1]="Medium",v[v.Long=2]="Long",v[v.Full=3]="Full",v}(Ve||{});const Ge={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function st(v,j){return Z((0,r.H5H)(v)[r.KH2.DateFormat],j)}function ft(v,j){return Z((0,r.H5H)(v)[r.KH2.TimeFormat],j)}function wt(v,j){return Z((0,r.H5H)(v)[r.KH2.DateTimeFormat],j)}function kt(v,j){const I=(0,r.H5H)(v),re=I[r.KH2.NumberSymbols][j];if(typeof re>"u"){if(j===Ge.CurrencyDecimal)return I[r.KH2.NumberSymbols][Ge.Decimal];if(j===Ge.CurrencyGroup)return I[r.KH2.NumberSymbols][Ge.Group]}return re}function je(v,j){return(0,r.H5H)(v)[r.KH2.NumberFormats][j]}function M(v){if(!v[r.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${v[r.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Z(v,j){for(let I=j;I>-1;I--)if(typeof v[I]<"u")return v[I];throw new Error("Locale data API: locale data undefined")}function f(v){const[j,I]=v.split(":");return{hours:+j,minutes:+I}}const Te=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ke={},Ee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nt=function(v){return v[v.Short=0]="Short",v[v.ShortGMT=1]="ShortGMT",v[v.Long=2]="Long",v[v.Extended=3]="Extended",v}(nt||{}),at=function(v){return v[v.FullYear=0]="FullYear",v[v.Month=1]="Month",v[v.Date=2]="Date",v[v.Hours=3]="Hours",v[v.Minutes=4]="Minutes",v[v.Seconds=5]="Seconds",v[v.FractionalSeconds=6]="FractionalSeconds",v[v.Day=7]="Day",v}(at||{}),yt=function(v){return v[v.DayPeriods=0]="DayPeriods",v[v.Days=1]="Days",v[v.Months=2]="Months",v[v.Eras=3]="Eras",v}(yt||{});function Jt(v,j,I,re){let Ze=function Dn(v){if(Sn(v))return v;if("number"==typeof v&&!isNaN(v))return new Date(v);if("string"==typeof v){if(v=v.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(v)){const[Ze,Dt=1,Zt=1]=v.split("-").map(nr=>+nr);return Qe(Ze,Dt-1,Zt)}const I=parseFloat(v);if(!isNaN(v-I))return new Date(I);let re;if(re=v.match(Te))return function Pn(v){const j=new Date(0);let I=0,re=0;const Ze=v[8]?j.setUTCFullYear:j.setFullYear,Dt=v[8]?j.setUTCHours:j.setHours;v[9]&&(I=Number(v[9]+v[10]),re=Number(v[9]+v[11])),Ze.call(j,Number(v[1]),Number(v[2])-1,Number(v[3]));const Zt=Number(v[4]||0)-I,nr=Number(v[5]||0)-re,Ur=Number(v[6]||0),Jr=Math.floor(1e3*parseFloat("0."+(v[7]||0)));return Dt.call(j,Zt,nr,Ur,Jr),j}(re)}const j=new Date(v);if(!Sn(j))throw new Error(`Unable to convert "${v}" into a date`);return j}(v);j=Ft(I,j)||j;let nr,Zt=[];for(;j;){if(nr=Ee.exec(j),!nr){Zt.push(j);break}{Zt=Zt.concat(nr.slice(1));const di=Zt.pop();if(!di)break;j=di}}let Ur=Ze.getTimezoneOffset();re&&(Ur=Qt(re,Ur),Ze=function Lt(v,j,I){const re=I?-1:1,Ze=v.getTimezoneOffset();return function jn(v,j){return(v=new Date(v.getTime())).setMinutes(v.getMinutes()+j),v}(v,re*(Qt(j,Ze)-Ze))}(Ze,re,!0));let Jr="";return Zt.forEach(di=>{const Kr=function Yt(v){if(cn[v])return cn[v];let j;switch(v){case"G":case"GG":case"GGG":j=Tt(yt.Eras,Ne.Abbreviated);break;case"GGGG":j=Tt(yt.Eras,Ne.Wide);break;case"GGGGG":j=Tt(yt.Eras,Ne.Narrow);break;case"y":j=Bt(at.FullYear,1,0,!1,!0);break;case"yy":j=Bt(at.FullYear,2,0,!0,!0);break;case"yyy":j=Bt(at.FullYear,3,0,!1,!0);break;case"yyyy":j=Bt(at.FullYear,4,0,!1,!0);break;case"Y":j=wn(1);break;case"YY":j=wn(2,!0);break;case"YYY":j=wn(3);break;case"YYYY":j=wn(4);break;case"M":case"L":j=Bt(at.Month,1,1);break;case"MM":case"LL":j=Bt(at.Month,2,1);break;case"MMM":j=Tt(yt.Months,Ne.Abbreviated);break;case"MMMM":j=Tt(yt.Months,Ne.Wide);break;case"MMMMM":j=Tt(yt.Months,Ne.Narrow);break;case"LLL":j=Tt(yt.Months,Ne.Abbreviated,K.Standalone);break;case"LLLL":j=Tt(yt.Months,Ne.Wide,K.Standalone);break;case"LLLLL":j=Tt(yt.Months,Ne.Narrow,K.Standalone);break;case"w":j=Cr(1);break;case"ww":j=Cr(2);break;case"W":j=Cr(1,!0);break;case"d":j=Bt(at.Date,1);break;case"dd":j=Bt(at.Date,2);break;case"c":case"cc":j=Bt(at.Day,1);break;case"ccc":j=Tt(yt.Days,Ne.Abbreviated,K.Standalone);break;case"cccc":j=Tt(yt.Days,Ne.Wide,K.Standalone);break;case"ccccc":j=Tt(yt.Days,Ne.Narrow,K.Standalone);break;case"cccccc":j=Tt(yt.Days,Ne.Short,K.Standalone);break;case"E":case"EE":case"EEE":j=Tt(yt.Days,Ne.Abbreviated);break;case"EEEE":j=Tt(yt.Days,Ne.Wide);break;case"EEEEE":j=Tt(yt.Days,Ne.Narrow);break;case"EEEEEE":j=Tt(yt.Days,Ne.Short);break;case"a":case"aa":case"aaa":j=Tt(yt.DayPeriods,Ne.Abbreviated);break;case"aaaa":j=Tt(yt.DayPeriods,Ne.Wide);break;case"aaaaa":j=Tt(yt.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":j=Tt(yt.DayPeriods,Ne.Abbreviated,K.Standalone,!0);break;case"bbbb":j=Tt(yt.DayPeriods,Ne.Wide,K.Standalone,!0);break;case"bbbbb":j=Tt(yt.DayPeriods,Ne.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":j=Tt(yt.DayPeriods,Ne.Abbreviated,K.Format,!0);break;case"BBBB":j=Tt(yt.DayPeriods,Ne.Wide,K.Format,!0);break;case"BBBBB":j=Tt(yt.DayPeriods,Ne.Narrow,K.Format,!0);break;case"h":j=Bt(at.Hours,1,-12);break;case"hh":j=Bt(at.Hours,2,-12);break;case"H":j=Bt(at.Hours,1);break;case"HH":j=Bt(at.Hours,2);break;case"m":j=Bt(at.Minutes,1);break;case"mm":j=Bt(at.Minutes,2);break;case"s":j=Bt(at.Seconds,1);break;case"ss":j=Bt(at.Seconds,2);break;case"S":j=Bt(at.FractionalSeconds,1);break;case"SS":j=Bt(at.FractionalSeconds,2);break;case"SSS":j=Bt(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=Et(nt.Short);break;case"ZZZZZ":j=Et(nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=Et(nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=Et(nt.Long);break;default:return null}return cn[v]=j,j}(di);Jr+=Kr?Kr(Ze,I,Ur):"''"===di?"'":di.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Jr}function Qe(v,j,I){const re=new Date(0);return re.setFullYear(v,j,I),re.setHours(0,0,0),re}function Ft(v,j){const I=function _t(v){return(0,r.H5H)(v)[r.KH2.LocaleId]}(v);if(ke[I]??={},ke[I][j])return ke[I][j];let re="";switch(j){case"shortDate":re=st(v,Ve.Short);break;case"mediumDate":re=st(v,Ve.Medium);break;case"longDate":re=st(v,Ve.Long);break;case"fullDate":re=st(v,Ve.Full);break;case"shortTime":re=ft(v,Ve.Short);break;case"mediumTime":re=ft(v,Ve.Medium);break;case"longTime":re=ft(v,Ve.Long);break;case"fullTime":re=ft(v,Ve.Full);break;case"short":const Ze=Ft(v,"shortTime"),Dt=Ft(v,"shortDate");re=it(wt(v,Ve.Short),[Ze,Dt]);break;case"medium":const Zt=Ft(v,"mediumTime"),nr=Ft(v,"mediumDate");re=it(wt(v,Ve.Medium),[Zt,nr]);break;case"long":const Ur=Ft(v,"longTime"),Jr=Ft(v,"longDate");re=it(wt(v,Ve.Long),[Ur,Jr]);break;case"full":const di=Ft(v,"fullTime"),Kr=Ft(v,"fullDate");re=it(wt(v,Ve.Full),[di,Kr])}return re&&(ke[I][j]=re),re}function it(v,j){return j&&(v=v.replace(/\{([^}]+)}/g,function(I,re){return null!=j&&re in j?j[re]:I})),v}function Mt(v,j,I="-",re,Ze){let Dt="";(v<0||Ze&&v<=0)&&(Ze?v=1-v:(v=-v,Dt=I));let Zt=String(v);for(;Zt.length<j;)Zt="0"+Zt;return re&&(Zt=Zt.slice(Zt.length-j)),Dt+Zt}function Bt(v,j,I=0,re=!1,Ze=!1){return function(Dt,Zt){let nr=function ct(v,j){switch(v){case at.FullYear:return j.getFullYear();case at.Month:return j.getMonth();case at.Date:return j.getDate();case at.Hours:return j.getHours();case at.Minutes:return j.getMinutes();case at.Seconds:return j.getSeconds();case at.FractionalSeconds:return j.getMilliseconds();case at.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${v}".`)}}(v,Dt);if((I>0||nr>-I)&&(nr+=I),v===at.Hours)0===nr&&-12===I&&(nr=12);else if(v===at.FractionalSeconds)return function lt(v,j){return Mt(v,3).substring(0,j)}(nr,j);const Ur=kt(Zt,Ge.MinusSign);return Mt(nr,j,Ur,re,Ze)}}function Tt(v,j,I=K.Format,re=!1){return function(Ze,Dt){return function rt(v,j,I,re,Ze,Dt){switch(I){case yt.Months:return function Oe(v,j,I){const re=(0,r.H5H)(v),Dt=Z([re[r.KH2.MonthsFormat],re[r.KH2.MonthsStandalone]],j);return Z(Dt,I)}(j,Ze,re)[v.getMonth()];case yt.Days:return function Rn(v,j,I){const re=(0,r.H5H)(v),Dt=Z([re[r.KH2.DaysFormat],re[r.KH2.DaysStandalone]],j);return Z(Dt,I)}(j,Ze,re)[v.getDay()];case yt.DayPeriods:const Zt=v.getHours(),nr=v.getMinutes();if(Dt){const Jr=function Y(v){const j=(0,r.H5H)(v);return M(j),(j[r.KH2.ExtraData][2]||[]).map(re=>"string"==typeof re?f(re):[f(re[0]),f(re[1])])}(j),di=function G(v,j,I){const re=(0,r.H5H)(v);M(re);const Dt=Z([re[r.KH2.ExtraData][0],re[r.KH2.ExtraData][1]],j)||[];return Z(Dt,I)||[]}(j,Ze,re),Kr=Jr.findIndex(fi=>{if(Array.isArray(fi)){const[Di,Zr]=fi,so=Zt>=Di.hours&&nr>=Di.minutes,cs=Zt<Zr.hours||Zt===Zr.hours&&nr<Zr.minutes;if(Di.hours<Zr.hours){if(so&&cs)return!0}else if(so||cs)return!0}else if(fi.hours===Zt&&fi.minutes===nr)return!0;return!1});if(-1!==Kr)return di[Kr]}return function zt(v,j,I){const re=(0,r.H5H)(v),Dt=Z([re[r.KH2.DayPeriodsFormat],re[r.KH2.DayPeriodsStandalone]],j);return Z(Dt,I)}(j,Ze,re)[Zt<12?0:1];case yt.Eras:return function De(v,j){return Z((0,r.H5H)(v)[r.KH2.Eras],j)}(j,re)[v.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(Ze,Dt,v,j,I,re)}}function Et(v){return function(j,I,re){const Ze=-1*re,Dt=kt(I,Ge.MinusSign),Zt=Ze>0?Math.floor(Ze/60):Math.ceil(Ze/60);switch(v){case nt.Short:return(Ze>=0?"+":"")+Mt(Zt,2,Dt)+Mt(Math.abs(Ze%60),2,Dt);case nt.ShortGMT:return"GMT"+(Ze>=0?"+":"")+Mt(Zt,1,Dt);case nt.Long:return"GMT"+(Ze>=0?"+":"")+Mt(Zt,2,Dt)+":"+Mt(Math.abs(Ze%60),2,Dt);case nt.Extended:return 0===re?"Z":(Ze>=0?"+":"")+Mt(Zt,2,Dt)+":"+Mt(Math.abs(Ze%60),2,Dt);default:throw new Error(`Unknown zone width "${v}"`)}}}const vn=0,In=4;function Jn(v){const j=v.getDay(),I=0===j?-3:In-j;return Qe(v.getFullYear(),v.getMonth(),v.getDate()+I)}function Cr(v,j=!1){return function(I,re){let Ze;if(j){const Dt=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,Zt=I.getDate();Ze=1+Math.floor((Zt+Dt)/7)}else{const Dt=Jn(I),Zt=function Un(v){const j=Qe(v,vn,1).getDay();return Qe(v,0,1+(j<=In?In:In+7)-j)}(Dt.getFullYear()),nr=Dt.getTime()-Zt.getTime();Ze=1+Math.round(nr/6048e5)}return Mt(Ze,v,kt(re,Ge.MinusSign))}}function wn(v,j=!1){return function(I,re){return Mt(Jn(I).getFullYear(),v,kt(re,Ge.MinusSign),j)}}const cn={};function Qt(v,j){v=v.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+v)/6e4;return isNaN(I)?j:I}function Sn(v){return v instanceof Date&&!isNaN(v.valueOf())}const Tn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,dn=22,Bn=".",Ct="0",me=";",ue=",",Ue="#";function fn(v,j,I,re,Ze,Dt,Zt=!1){let nr="",Ur=!1;if(isFinite(v)){let Jr=function Io(v){let re,Ze,Dt,Zt,nr,j=Math.abs(v)+"",I=0;for((Ze=j.indexOf(Bn))>-1&&(j=j.replace(Bn,"")),(Dt=j.search(/e/i))>0?(Ze<0&&(Ze=Dt),Ze+=+j.slice(Dt+1),j=j.substring(0,Dt)):Ze<0&&(Ze=j.length),Dt=0;j.charAt(Dt)===Ct;Dt++);if(Dt===(nr=j.length))re=[0],Ze=1;else{for(nr--;j.charAt(nr)===Ct;)nr--;for(Ze-=Dt,re=[],Zt=0;Dt<=nr;Dt++,Zt++)re[Zt]=Number(j.charAt(Dt))}return Ze>dn&&(re=re.splice(0,dn-1),I=Ze-1,Ze=1),{digits:re,exponent:I,integerLen:Ze}}(v);Zt&&(Jr=function li(v){if(0===v.digits[0])return v;const j=v.digits.length-v.integerLen;return v.exponent?v.exponent+=2:(0===j?v.digits.push(0,0):1===j&&v.digits.push(0),v.integerLen+=2),v}(Jr));let di=j.minInt,Kr=j.minFrac,fi=j.maxFrac;if(Dt){const As=Dt.match(Tn);if(null===As)throw new Error(`${Dt} is not a valid digit info`);const ta=As[1],aa=As[3],hs=As[5];null!=ta&&(di=wo(ta)),null!=aa&&(Kr=wo(aa)),null!=hs?fi=wo(hs):null!=aa&&Kr>fi&&(fi=Kr)}!function Co(v,j,I){if(j>I)throw new Error(`The minimum number of digits after fraction (${j}) is higher than the maximum (${I}).`);let re=v.digits,Ze=re.length-v.integerLen;const Dt=Math.min(Math.max(j,Ze),I);let Zt=Dt+v.integerLen,nr=re[Zt];if(Zt>0){re.splice(Math.max(v.integerLen,Zt));for(let Kr=Zt;Kr<re.length;Kr++)re[Kr]=0}else{Ze=Math.max(0,Ze),v.integerLen=1,re.length=Math.max(1,Zt=Dt+1),re[0]=0;for(let Kr=1;Kr<Zt;Kr++)re[Kr]=0}if(nr>=5)if(Zt-1<0){for(let Kr=0;Kr>Zt;Kr--)re.unshift(0),v.integerLen++;re.unshift(1),v.integerLen++}else re[Zt-1]++;for(;Ze<Math.max(0,Dt);Ze++)re.push(0);let Ur=0!==Dt;const Jr=j+v.integerLen,di=re.reduceRight(function(Kr,fi,Di,Zr){return Zr[Di]=(fi+=Kr)<10?fi:fi-10,Ur&&(0===Zr[Di]&&Di>=Jr?Zr.pop():Ur=!1),fi>=10?1:0},0);di&&(re.unshift(di),v.integerLen++)}(Jr,Kr,fi);let Di=Jr.digits,Zr=Jr.integerLen;const so=Jr.exponent;let cs=[];for(Ur=Di.every(As=>!As);Zr<di;Zr++)Di.unshift(0);for(;Zr<0;Zr++)Di.unshift(0);Zr>0?cs=Di.splice(Zr,Di.length):(cs=Di,Di=[0]);const Us=[];for(Di.length>=j.lgSize&&Us.unshift(Di.splice(-j.lgSize,Di.length).join(""));Di.length>j.gSize;)Us.unshift(Di.splice(-j.gSize,Di.length).join(""));Di.length&&Us.unshift(Di.join("")),nr=Us.join(kt(I,re)),cs.length&&(nr+=kt(I,Ze)+cs.join("")),so&&(nr+=kt(I,Ge.Exponential)+"+"+so)}else nr=kt(I,Ge.Infinity);return nr=v<0&&!Ur?j.negPre+nr+j.negSuf:j.posPre+nr+j.posSuf,nr}function mi(v,j="-"){const I={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},re=v.split(me),Ze=re[0],Dt=re[1],Zt=-1!==Ze.indexOf(Bn)?Ze.split(Bn):[Ze.substring(0,Ze.lastIndexOf(Ct)+1),Ze.substring(Ze.lastIndexOf(Ct)+1)],nr=Zt[0],Ur=Zt[1]||"";I.posPre=nr.substring(0,nr.indexOf(Ue));for(let di=0;di<Ur.length;di++){const Kr=Ur.charAt(di);Kr===Ct?I.minFrac=I.maxFrac=di+1:Kr===Ue?I.maxFrac=di+1:I.posSuf+=Kr}const Jr=nr.split(ue);if(I.gSize=Jr[1]?Jr[1].length:0,I.lgSize=Jr[2]||Jr[1]?(Jr[2]||Jr[1]).length:0,Dt){const di=Ze.length-I.posPre.length-I.posSuf.length,Kr=Dt.indexOf(Ue);I.negPre=Dt.substring(0,Kr).replace(/'/g,""),I.negSuf=Dt.slice(Kr+di).replace(/'/g,"")}else I.negPre=j+I.posPre,I.negSuf=I.posSuf;return I}function wo(v){const j=parseInt(v);if(isNaN(j))throw new Error("Invalid integer literal when parsing "+v);return j}function nn(v,j,I){return(0,r.XSP)(v,j,I)}function xn(v,j){j=encodeURIComponent(j);for(const I of v.split(";")){const re=I.indexOf("="),[Ze,Dt]=-1==re?[I,""]:[I.slice(0,re),I.slice(re+1)];if(Ze.trim()===j)return decodeURIComponent(Dt)}return null}const sr=/\s+/,br=[];let Vr=(()=>{class v{constructor(I,re){this._ngEl=I,this._renderer=re,this.initialClasses=br,this.stateMap=new Map}set klass(I){this.initialClasses=null!=I?I.trim().split(sr):br}set ngClass(I){this.rawClass="string"==typeof I?I.trim().split(sr):I}ngDoCheck(){for(const re of this.initialClasses)this._updateState(re,!0);const I=this.rawClass;if(Array.isArray(I)||I instanceof Set)for(const re of I)this._updateState(re,!0);else if(null!=I)for(const re of Object.keys(I))this._updateState(re,!!I[re]);this._applyStateDiff()}_updateState(I,re){const Ze=this.stateMap.get(I);void 0!==Ze?(Ze.enabled!==re&&(Ze.changed=!0,Ze.enabled=re),Ze.touched=!0):this.stateMap.set(I,{enabled:re,changed:!0,touched:!0})}_applyStateDiff(){for(const I of this.stateMap){const re=I[0],Ze=I[1];Ze.changed?(this._toggleClass(re,Ze.enabled),Ze.changed=!1):Ze.touched||(Ze.enabled&&this._toggleClass(re,!1),this.stateMap.delete(re)),Ze.touched=!1}}_toggleClass(I,re){(I=I.trim()).length>0&&I.split(sr).forEach(Ze=>{re?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.aKT),r.rXU(r.sFG))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return v})(),_r=(()=>{class v{constructor(I){this._viewContainerRef=I,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(I){return void 0!==I.ngComponentOutletNgModule||void 0!==I.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(I){return void 0!==I.ngComponentOutlet||void 0!==I.ngComponentOutletContent||void 0!==I.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(I)}ngOnChanges(I){if(this._needToReCreateComponentInstance(I)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const re=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(I)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,r.w6W)(this.ngComponentOutletNgModule,jt(re)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(jt(re)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:re,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const I of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(I,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(I){for(const[re,Ze]of this._inputsUsed)Ze?(I.setInput(re,this.ngComponentOutletInputs[re]),this._inputsUsed.set(re,!1)):(I.setInput(re,void 0),this._inputsUsed.delete(re))}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.c1b))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[r.OA$]})}return v})();function jt(v){return v.get(r.Vns).injector}class pe{constructor(j,I,re,Ze){this.$implicit=j,this.ngForOf=I,this.index=re,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ht=(()=>{class v{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,re,Ze){this._viewContainer=I,this._template=re,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const re=this._viewContainer;I.forEachOperation((Ze,Dt,Zt)=>{if(null==Ze.previousIndex)re.createEmbeddedView(this._template,new pe(Ze.item,this._ngForOf,-1,-1),null===Zt?void 0:Zt);else if(null==Zt)re.remove(null===Dt?void 0:Dt);else if(null!==Dt){const nr=re.get(Dt);re.move(nr,Zt),pn(nr,Ze)}});for(let Ze=0,Dt=re.length;Ze<Dt;Ze++){const nr=re.get(Ze).context;nr.index=Ze,nr.count=Dt,nr.ngForOf=this._ngForOf}I.forEachIdentityChange(Ze=>{pn(re.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard(I,re){return!0}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(r._q3))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return v})();function pn(v,j){v.context.$implicit=j.item}let lr=(()=>{class v{constructor(I,re){this._viewContainer=I,this._context=new Dr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){ni("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){ni("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,re){return!0}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.c1b),r.rXU(r.C4Q))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return v})();class Dr{constructor(){this.$implicit=null,this.ngIf=null}}function ni(v,j){if(j&&!j.createEmbeddedView)throw new Error(`${v} must be a TemplateRef, but received '${(0,r.Tbb)(j)}'.`)}class Yr{constructor(j,I){this._viewContainerRef=j,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let ui=(()=>{class v{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const re=I===this._ngSwitch;return this._lastCasesMatched||=re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),re}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const re of this._defaultViews)re.enforceState(I)}}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return v})(),Ri=(()=>{class v{constructor(I,re,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new Yr(I,re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(ui,9))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return v})(),eo=(()=>{class v{constructor(I,re,Ze){Ze._addDefault(new Yr(I,re))}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(ui,9))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return v})(),bo=(()=>{class v{constructor(I,re,Ze){this._ngEl=I,this._differs=re,this._renderer=Ze,this._ngStyle=null,this._differ=null}set ngStyle(I){this._ngStyle=I,!this._differ&&I&&(this._differ=this._differs.find(I).create())}ngDoCheck(){if(this._differ){const I=this._differ.diff(this._ngStyle);I&&this._applyChanges(I)}}_setStyle(I,re){const[Ze,Dt]=I.split("."),Zt=-1===Ze.indexOf("-")?void 0:r.czy.DashCase;null!=re?this._renderer.setStyle(this._ngEl.nativeElement,Ze,Dt?`${re}${Dt}`:re,Zt):this._renderer.removeStyle(this._ngEl.nativeElement,Ze,Zt)}_applyChanges(I){I.forEachRemovedItem(re=>this._setStyle(re.key,null)),I.forEachAddedItem(re=>this._setStyle(re.key,re.currentValue)),I.forEachChangedItem(re=>this._setStyle(re.key,re.currentValue))}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.aKT),r.rXU(r.MKu),r.rXU(r.sFG))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return v})(),Bo=(()=>{class v{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(this._shouldRecreateView(I)){const re=this._viewContainerRef;if(this._viewRef&&re.remove(re.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ze=this._createContextForwardProxy();this._viewRef=re.createEmbeddedView(this.ngTemplateOutlet,Ze,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(I){return!!I.ngTemplateOutlet||!!I.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(I,re,Ze)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,re,Ze),get:(I,re,Ze)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,re,Ze)}})}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.c1b))};static#t=this.\u0275dir=r.FsC({type:v,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.OA$]})}return v})();function Se(v,j){return new r.wOt(2100,!1)}class vt{createSubscription(j,I){return(0,r.O8t)(()=>j.subscribe({next:I,error:re=>{throw re}}))}dispose(j){(0,r.O8t)(()=>j.unsubscribe())}}class Xt{createSubscription(j,I){return j.then(I,re=>{throw re})}dispose(j){}}const Cn=new Xt,tr=new vt;let kr=(()=>{class v{constructor(I){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=I}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(I){if(!this._obj){if(I)try{this.markForCheckOnValueUpdate=!1,this._subscribe(I)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return I!==this._obj?(this._dispose(),this.transform(I)):this._latestValue}_subscribe(I){this._obj=I,this._strategy=this._selectStrategy(I),this._subscription=this._strategy.createSubscription(I,re=>this._updateLatestValue(I,re))}_selectStrategy(I){if((0,r.jNT)(I))return Cn;if((0,r.zjR)(I))return tr;throw Se()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(I,re){I===this._obj&&(this._latestValue=re,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.gRc,16))};static#t=this.\u0275pipe=r.EJ8({name:"async",type:v,pure:!1,standalone:!0})}return v})();const $r=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Hi=(()=>{class v{transform(I){if(null==I)return null;if("string"!=typeof I)throw Se();return I.replace($r,re=>re[0].toUpperCase()+re.slice(1).toLowerCase())}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275pipe=r.EJ8({name:"titlecase",type:v,pure:!0,standalone:!0})}return v})(),Mo=(()=>{class v{transform(I){if(null==I)return null;if("string"!=typeof I)throw Se();return I.toUpperCase()}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275pipe=r.EJ8({name:"uppercase",type:v,pure:!0,standalone:!0})}return v})();const xs=new r.nKC(""),da=new r.nKC("");let Os=(()=>{class v{constructor(I,re,Ze){this.locale=I,this.defaultTimezone=re,this.defaultOptions=Ze}transform(I,re,Ze,Dt){if(null==I||""===I||I!=I)return null;try{return Jt(I,re??this.defaultOptions?.dateFormat??"mediumDate",Dt||this.locale,Ze??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Zt){throw Se()}}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.xe9,16),r.rXU(xs,24),r.rXU(da,24))};static#t=this.\u0275pipe=r.EJ8({name:"date",type:v,pure:!0,standalone:!0})}return v})(),Ps=(()=>{class v{transform(I){return JSON.stringify(I,null,2)}static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275pipe=r.EJ8({name:"json",type:v,pure:!1,standalone:!0})}return v})(),Hn=(()=>{class v{constructor(I){this.differs=I,this.keyValues=[],this.compareFn=Ir}transform(I,re=Ir){if(!I||!(I instanceof Map)&&"object"!=typeof I)return null;this.differ??=this.differs.find(I).create();const Ze=this.differ.diff(I),Dt=re!==this.compareFn;return Ze&&(this.keyValues=[],Ze.forEachItem(Zt=>{this.keyValues.push(function Gn(v,j){return{key:v,value:j}}(Zt.key,Zt.currentValue))})),(Ze||Dt)&&(this.keyValues.sort(re),this.compareFn=re),this.keyValues}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.MKu,16))};static#t=this.\u0275pipe=r.EJ8({name:"keyvalue",type:v,pure:!1,standalone:!0})}return v})();function Ir(v,j){const I=v.key,re=j.key;if(I===re)return 0;if(void 0===I)return 1;if(void 0===re)return-1;if(null===I)return 1;if(null===re)return-1;if("string"==typeof I&&"string"==typeof re)return I<re?-1:1;if("number"==typeof I&&"number"==typeof re)return I-re;if("boolean"==typeof I&&"boolean"==typeof re)return I<re?-1:1;const Ze=String(I),Dt=String(re);return Ze==Dt?0:Ze<Dt?-1:1}let ri=(()=>{class v{constructor(I){this._locale=I}transform(I,re,Ze){if(!ki(I))return null;Ze||=this._locale;try{return function ti(v,j,I){return fn(v,mi(je(j,$.Decimal),kt(j,Ge.MinusSign)),j,Ge.Group,Ge.Decimal,I)}(Ji(I),Ze,re)}catch(Dt){throw Se()}}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.xe9,16))};static#t=this.\u0275pipe=r.EJ8({name:"number",type:v,pure:!0,standalone:!0})}return v})(),si=(()=>{class v{constructor(I){this._locale=I}transform(I,re,Ze){if(!ki(I))return null;Ze||=this._locale;try{return function Hr(v,j,I){return fn(v,mi(je(j,$.Percent),kt(j,Ge.MinusSign)),j,Ge.Group,Ge.Decimal,I,!0).replace(new RegExp("%","g"),kt(j,Ge.PercentSign))}(Ji(I),Ze,re)}catch(Dt){throw Se()}}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.xe9,16))};static#t=this.\u0275pipe=r.EJ8({name:"percent",type:v,pure:!0,standalone:!0})}return v})(),Xr=(()=>{class v{constructor(I,re="USD"){this._locale=I,this._defaultCurrencyCode=re}transform(I,re=this._defaultCurrencyCode,Ze="symbol",Dt,Zt){if(!ki(I))return null;Zt||=this._locale,"boolean"==typeof Ze&&(Ze=Ze?"symbol":"code");let nr=re||this._defaultCurrencyCode;"code"!==Ze&&(nr="symbol"===Ze||"symbol-narrow"===Ze?function V(v,j,I="en"){const re=function te(v){return(0,r.H5H)(v)[r.KH2.Currencies]}(I)[v]||q[v]||[],Ze=re[1];return"narrow"===j&&"string"==typeof Ze?Ze:re[0]||v}(nr,"symbol"===Ze?"wide":"narrow",Zt):Ze);try{return function cr(v,j,I,re,Ze){const Zt=mi(je(j,$.Currency),kt(j,Ge.MinusSign));return Zt.minFrac=function ye(v){let j;const I=q[v];return I&&(j=I[2]),"number"==typeof j?j:2}(re),Zt.maxFrac=Zt.minFrac,fn(v,Zt,j,Ge.CurrencyGroup,Ge.CurrencyDecimal,Ze).replace("\xa4",I).replace("\xa4","").trim()}(Ji(I),Zt,nr,re,Dt)}catch(Ur){throw Se()}}static#e=this.\u0275fac=function(re){return new(re||v)(r.rXU(r.xe9,16),r.rXU(r.Ocv,16))};static#t=this.\u0275pipe=r.EJ8({name:"currency",type:v,pure:!0,standalone:!0})}return v})();function ki(v){return!(null==v||""===v||v!=v)}function Ji(v){if("string"==typeof v&&!isNaN(Number(v)-parseFloat(v)))return Number(v);if("number"!=typeof v)throw new Error(`${v} is not a number`);return v}let os=(()=>{class v{static#e=this.\u0275fac=function(re){return new(re||v)};static#t=this.\u0275mod=r.$C({type:v});static#n=this.\u0275inj=r.G2t({})}return v})();const es="browser",rs="server";function Fs(v){return v===es}function Ro(v){return v===rs}let gs=(()=>{class v{static#e=this.\u0275prov=(0,r.jDH)({token:v,providedIn:"root",factory:()=>Fs((0,r.WQX)(r.Agw))?new ha((0,r.WQX)(U),window):new Vo})}return v})();class ha{constructor(j,I){this.document=j,this.window=I,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(j){this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){const I=function Es(v,j){const I=v.getElementById(j)||v.getElementsByName(j)[0];if(I)return I;if("function"==typeof v.createTreeWalker&&v.body&&"function"==typeof v.body.attachShadow){const re=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT);let Ze=re.currentNode;for(;Ze;){const Dt=Ze.shadowRoot;if(Dt){const Zt=Dt.getElementById(j)||Dt.querySelector(`[name="${j}"]`);if(Zt)return Zt}Ze=re.nextNode()}}return null}(this.document,j);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(j){this.window.history.scrollRestoration=j}scrollToElement(j){const I=j.getBoundingClientRect(),re=I.left+this.window.pageXOffset,Ze=I.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(re-Dt[0],Ze-Dt[1])}}class Vo{setOffset(j){}getScrollPosition(){return[0,0]}scrollToPosition(j){}scrollToAnchor(j){}setHistoryScrollRestoration(j){}}class Ls{}},21626:(bn,be,w)=>{"use strict";w.d(be,{$R:()=>Lt,Lr:()=>b,Nl:()=>Me,Qq:()=>wt,Sx:()=>Sn});var r=w(28407),m=w(54438),g=w(15877),C=w(2573),D=w(21472),h=w(26758),U=w(14264),F=w(36110),k=w(15152),z=w(32914),B=w(60177);class A{}class T{}class b{constructor(pe){this.normalizedNames=new Map,this.lazyUpdate=null,pe?"string"==typeof pe?this.lazyInit=()=>{this.headers=new Map,pe.split("\n").forEach(ht=>{const pn=ht.indexOf(":");if(pn>0){const On=ht.slice(0,pn),lr=On.toLowerCase(),Dr=ht.slice(pn+1).trim();this.maybeSetNormalizedName(On,lr),this.headers.has(lr)?this.headers.get(lr).push(Dr):this.headers.set(lr,[Dr])}})}:typeof Headers<"u"&&pe instanceof Headers?(this.headers=new Map,pe.forEach((ht,pn)=>{this.setHeaderEntries(pn,ht)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(pe).forEach(([ht,pn])=>{this.setHeaderEntries(ht,pn)})}:this.headers=new Map}has(pe){return this.init(),this.headers.has(pe.toLowerCase())}get(pe){this.init();const ht=this.headers.get(pe.toLowerCase());return ht&&ht.length>0?ht[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pe){return this.init(),this.headers.get(pe.toLowerCase())||null}append(pe,ht){return this.clone({name:pe,value:ht,op:"a"})}set(pe,ht){return this.clone({name:pe,value:ht,op:"s"})}delete(pe,ht){return this.clone({name:pe,value:ht,op:"d"})}maybeSetNormalizedName(pe,ht){this.normalizedNames.has(ht)||this.normalizedNames.set(ht,pe)}init(){this.lazyInit&&(this.lazyInit instanceof b?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pe=>this.applyUpdate(pe)),this.lazyUpdate=null))}copyFrom(pe){pe.init(),Array.from(pe.headers.keys()).forEach(ht=>{this.headers.set(ht,pe.headers.get(ht)),this.normalizedNames.set(ht,pe.normalizedNames.get(ht))})}clone(pe){const ht=new b;return ht.lazyInit=this.lazyInit&&this.lazyInit instanceof b?this.lazyInit:this,ht.lazyUpdate=(this.lazyUpdate||[]).concat([pe]),ht}applyUpdate(pe){const ht=pe.name.toLowerCase();switch(pe.op){case"a":case"s":let pn=pe.value;if("string"==typeof pn&&(pn=[pn]),0===pn.length)return;this.maybeSetNormalizedName(pe.name,ht);const On=("a"===pe.op?this.headers.get(ht):void 0)||[];On.push(...pn),this.headers.set(ht,On);break;case"d":const lr=pe.value;if(lr){let Dr=this.headers.get(ht);if(!Dr)return;Dr=Dr.filter(ni=>-1===lr.indexOf(ni)),0===Dr.length?(this.headers.delete(ht),this.normalizedNames.delete(ht)):this.headers.set(ht,Dr)}else this.headers.delete(ht),this.normalizedNames.delete(ht)}}setHeaderEntries(pe,ht){const pn=(Array.isArray(ht)?ht:[ht]).map(lr=>lr.toString()),On=pe.toLowerCase();this.headers.set(On,pn),this.maybeSetNormalizedName(pe,On)}forEach(pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ht=>pe(this.normalizedNames.get(ht),this.headers.get(ht)))}}class ce{encodeKey(pe){return Ie(pe)}encodeValue(pe){return Ie(pe)}decodeKey(pe){return decodeURIComponent(pe)}decodeValue(pe){return decodeURIComponent(pe)}}const se=/%(\d[a-f0-9])/gi,Q={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ie(jt){return encodeURIComponent(jt).replace(se,(pe,ht)=>Q[ht]??pe)}function ae(jt){return`${jt}`}class Me{constructor(pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pe.encoder||new ce,pe.fromString){if(pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function W(jt,pe){const ht=new Map;return jt.length>0&&jt.replace(/^\?/,"").split("&").forEach(On=>{const lr=On.indexOf("="),[Dr,ni]=-1==lr?[pe.decodeKey(On),""]:[pe.decodeKey(On.slice(0,lr)),pe.decodeValue(On.slice(lr+1))],Yr=ht.get(Dr)||[];Yr.push(ni),ht.set(Dr,Yr)}),ht}(pe.fromString,this.encoder)}else pe.fromObject?(this.map=new Map,Object.keys(pe.fromObject).forEach(ht=>{const pn=pe.fromObject[ht],On=Array.isArray(pn)?pn.map(ae):[ae(pn)];this.map.set(ht,On)})):this.map=null}has(pe){return this.init(),this.map.has(pe)}get(pe){this.init();const ht=this.map.get(pe);return ht?ht[0]:null}getAll(pe){return this.init(),this.map.get(pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pe,ht){return this.clone({param:pe,value:ht,op:"a"})}appendAll(pe){const ht=[];return Object.keys(pe).forEach(pn=>{const On=pe[pn];Array.isArray(On)?On.forEach(lr=>{ht.push({param:pn,value:lr,op:"a"})}):ht.push({param:pn,value:On,op:"a"})}),this.clone(ht)}set(pe,ht){return this.clone({param:pe,value:ht,op:"s"})}delete(pe,ht){return this.clone({param:pe,value:ht,op:"d"})}toString(){return this.init(),this.keys().map(pe=>{const ht=this.encoder.encodeKey(pe);return this.map.get(pe).map(pn=>ht+"="+this.encoder.encodeValue(pn)).join("&")}).filter(pe=>""!==pe).join("&")}clone(pe){const ht=new Me({encoder:this.encoder});return ht.cloneFrom=this.cloneFrom||this,ht.updates=(this.updates||[]).concat(pe),ht}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pe=>this.map.set(pe,this.cloneFrom.map.get(pe))),this.updates.forEach(pe=>{switch(pe.op){case"a":case"s":const ht=("a"===pe.op?this.map.get(pe.param):void 0)||[];ht.push(ae(pe.value)),this.map.set(pe.param,ht);break;case"d":if(void 0===pe.value){this.map.delete(pe.param);break}{let pn=this.map.get(pe.param)||[];const On=pn.indexOf(ae(pe.value));-1!==On&&pn.splice(On,1),pn.length>0?this.map.set(pe.param,pn):this.map.delete(pe.param)}}}),this.cloneFrom=this.updates=null)}}class ${constructor(){this.map=new Map}set(pe,ht){return this.map.set(pe,ht),this}get(pe){return this.map.has(pe)||this.map.set(pe,pe.defaultValue()),this.map.get(pe)}delete(pe){return this.map.delete(pe),this}has(pe){return this.map.has(pe)}keys(){return this.map.keys()}}function K(jt){return typeof ArrayBuffer<"u"&&jt instanceof ArrayBuffer}function Ne(jt){return typeof Blob<"u"&&jt instanceof Blob}function Ve(jt){return typeof FormData<"u"&&jt instanceof FormData}class gt{constructor(pe,ht,pn,On){let lr;if(this.url=ht,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pe.toUpperCase(),function ge(jt){switch(jt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||On?(this.body=void 0!==pn?pn:null,lr=On):lr=pn,lr&&(this.reportProgress=!!lr.reportProgress,this.withCredentials=!!lr.withCredentials,lr.responseType&&(this.responseType=lr.responseType),lr.headers&&(this.headers=lr.headers),lr.context&&(this.context=lr.context),lr.params&&(this.params=lr.params),this.transferCache=lr.transferCache),this.headers??=new b,this.context??=new $,this.params){const Dr=this.params.toString();if(0===Dr.length)this.urlWithParams=ht;else{const ni=ht.indexOf("?");this.urlWithParams=ht+(-1===ni?"?":ni<ht.length-1?"&":"")+Dr}}else this.params=new Me,this.urlWithParams=ht}serializeBody(){return null===this.body?null:"string"==typeof this.body||K(this.body)||Ne(this.body)||Ve(this.body)||function Ge(jt){return typeof URLSearchParams<"u"&&jt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ve(this.body)?null:Ne(this.body)?this.body.type||null:K(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pe={}){const ht=pe.method||this.method,pn=pe.url||this.url,On=pe.responseType||this.responseType,lr=pe.transferCache??this.transferCache,Dr=void 0!==pe.body?pe.body:this.body,ni=pe.withCredentials??this.withCredentials,Yr=pe.reportProgress??this.reportProgress;let ui=pe.headers||this.headers,Ri=pe.params||this.params;const eo=pe.context??this.context;return void 0!==pe.setHeaders&&(ui=Object.keys(pe.setHeaders).reduce((Ki,Qi)=>Ki.set(Qi,pe.setHeaders[Qi]),ui)),pe.setParams&&(Ri=Object.keys(pe.setParams).reduce((Ki,Qi)=>Ki.set(Qi,pe.setParams[Qi]),Ri)),new gt(ht,pn,Dr,{params:Ri,headers:ui,context:eo,reportProgress:Yr,responseType:On,withCredentials:ni,transferCache:lr})}}var _t=function(jt){return jt[jt.Sent=0]="Sent",jt[jt.UploadProgress=1]="UploadProgress",jt[jt.ResponseHeader=2]="ResponseHeader",jt[jt.DownloadProgress=3]="DownloadProgress",jt[jt.Response=4]="Response",jt[jt.User=5]="User",jt}(_t||{});class zt{constructor(pe,ht=200,pn="OK"){this.headers=pe.headers||new b,this.status=void 0!==pe.status?pe.status:ht,this.statusText=pe.statusText||pn,this.url=pe.url||null,this.ok=this.status>=200&&this.status<300}}class Rn extends zt{constructor(pe={}){super(pe),this.type=_t.ResponseHeader}clone(pe={}){return new Rn({headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class Oe extends zt{constructor(pe={}){super(pe),this.type=_t.Response,this.body=void 0!==pe.body?pe.body:null}clone(pe={}){return new Oe({body:void 0!==pe.body?pe.body:this.body,headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class De extends zt{constructor(pe){super(pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pe.url||"(unknown url)"}`:`Http failure response for ${pe.url||"(unknown url)"}: ${pe.status} ${pe.statusText}`,this.error=pe.error||null}}function ft(jt,pe){return{body:pe,headers:jt.headers,context:jt.context,observe:jt.observe,params:jt.params,reportProgress:jt.reportProgress,responseType:jt.responseType,withCredentials:jt.withCredentials,transferCache:jt.transferCache}}let wt=(()=>{class jt{constructor(ht){this.handler=ht}request(ht,pn,On={}){let lr;if(ht instanceof gt)lr=ht;else{let Yr,ui;Yr=On.headers instanceof b?On.headers:new b(On.headers),On.params&&(ui=On.params instanceof Me?On.params:new Me({fromObject:On.params})),lr=new gt(ht,pn,void 0!==On.body?On.body:null,{headers:Yr,context:On.context,params:ui,reportProgress:On.reportProgress,responseType:On.responseType||"json",withCredentials:On.withCredentials,transferCache:On.transferCache})}const Dr=(0,g.of)(lr).pipe((0,h.H)(Yr=>this.handler.handle(Yr)));if(ht instanceof gt||"events"===On.observe)return Dr;const ni=Dr.pipe((0,U.p)(Yr=>Yr instanceof Oe));switch(On.observe||"body"){case"body":switch(lr.responseType){case"arraybuffer":return ni.pipe((0,F.T)(Yr=>{if(null!==Yr.body&&!(Yr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yr.body}));case"blob":return ni.pipe((0,F.T)(Yr=>{if(null!==Yr.body&&!(Yr.body instanceof Blob))throw new Error("Response is not a Blob.");return Yr.body}));case"text":return ni.pipe((0,F.T)(Yr=>{if(null!==Yr.body&&"string"!=typeof Yr.body)throw new Error("Response is not a string.");return Yr.body}));default:return ni.pipe((0,F.T)(Yr=>Yr.body))}case"response":return ni;default:throw new Error(`Unreachable: unhandled observe type ${On.observe}}`)}}delete(ht,pn={}){return this.request("DELETE",ht,pn)}get(ht,pn={}){return this.request("GET",ht,pn)}head(ht,pn={}){return this.request("HEAD",ht,pn)}jsonp(ht,pn){return this.request("JSONP",ht,{params:(new Me).append(pn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ht,pn={}){return this.request("OPTIONS",ht,pn)}patch(ht,pn,On={}){return this.request("PATCH",ht,ft(On,pn))}post(ht,pn,On={}){return this.request("POST",ht,ft(On,pn))}put(ht,pn,On={}){return this.request("PUT",ht,ft(On,pn))}static#e=this.\u0275fac=function(pn){return new(pn||jt)(m.KVO(A))};static#t=this.\u0275prov=m.jDH({token:jt,factory:jt.\u0275fac})}return jt})();const kt=/^\)\]\}',?\n/;function Ce(jt){if(jt.url)return jt.url;const pe="X-Request-URL".toLocaleLowerCase();return jt.headers.get(pe)}let ne=(()=>{class jt{constructor(){this.fetchImpl=(0,m.WQX)(Re,{optional:!0})?.fetch??((...ht)=>globalThis.fetch(...ht)),this.ngZone=(0,m.WQX)(m.SKi)}handle(ht){return new C.c(pn=>{const On=new AbortController;return this.doRequest(ht,On.signal,pn).then(te,lr=>pn.error(new De({error:lr}))),()=>On.abort()})}doRequest(ht,pn,On){var lr=this;return(0,r.A)(function*(){const Dr=lr.createRequestInit(ht);let ni;try{const Yi=lr.ngZone.runOutsideAngular(()=>lr.fetchImpl(ht.urlWithParams,{signal:pn,...Dr}));(function y(jt){jt.then(te,te)})(Yi),On.next({type:_t.Sent}),ni=yield Yi}catch(Yi){return void On.error(new De({error:Yi,status:Yi.status??0,statusText:Yi.statusText,url:ht.urlWithParams,headers:Yi.headers}))}const Yr=new b(ni.headers),ui=ni.statusText,Ri=Ce(ni)??ht.urlWithParams;let eo=ni.status,Ki=null;if(ht.reportProgress&&On.next(new Rn({headers:Yr,status:eo,statusText:ui,url:Ri})),ni.body){const Yi=ni.headers.get("content-length"),qi=[],bo=ni.body.getReader();let Gt,Se,Bo=0;const vt=typeof Zone<"u"&&Zone.current;yield lr.ngZone.runOutsideAngular((0,r.A)(function*(){for(;;){const{done:Cn,value:tr}=yield bo.read();if(Cn)break;if(qi.push(tr),Bo+=tr.length,ht.reportProgress){Se="text"===ht.responseType?(Se??"")+(Gt??=new TextDecoder).decode(tr,{stream:!0}):void 0;const kr=()=>On.next({type:_t.DownloadProgress,total:Yi?+Yi:void 0,loaded:Bo,partialText:Se});vt?vt.run(kr):kr()}}}));const Xt=lr.concatChunks(qi,Bo);try{const Cn=ni.headers.get("Content-Type")??"";Ki=lr.parseBody(ht,Xt,Cn)}catch(Cn){return void On.error(new De({error:Cn,headers:new b(ni.headers),status:ni.status,statusText:ni.statusText,url:Ce(ni)??ht.urlWithParams}))}}0===eo&&(eo=Ki?200:0),eo>=200&&eo<300?(On.next(new Oe({body:Ki,headers:Yr,status:eo,statusText:ui,url:Ri})),On.complete()):On.error(new De({error:Ki,headers:Yr,status:eo,statusText:ui,url:Ri}))})()}parseBody(ht,pn,On){switch(ht.responseType){case"json":const lr=(new TextDecoder).decode(pn).replace(kt,"");return""===lr?null:JSON.parse(lr);case"text":return(new TextDecoder).decode(pn);case"blob":return new Blob([pn],{type:On});case"arraybuffer":return pn.buffer}}createRequestInit(ht){const pn={},On=ht.withCredentials?"include":void 0;if(ht.headers.forEach((lr,Dr)=>pn[lr]=Dr.join(",")),ht.headers.has("Accept")||(pn.Accept="application/json, text/plain, */*"),!ht.headers.has("Content-Type")){const lr=ht.detectContentTypeHeader();null!==lr&&(pn["Content-Type"]=lr)}return{body:ht.serializeBody(),method:ht.method,headers:pn,credentials:On}}concatChunks(ht,pn){const On=new Uint8Array(pn);let lr=0;for(const Dr of ht)On.set(Dr,lr),lr+=Dr.length;return On}static#e=this.\u0275fac=function(pn){return new(pn||jt)};static#t=this.\u0275prov=m.jDH({token:jt,factory:jt.\u0275fac})}return jt})();class Re{}function te(){}function M(jt,pe){return pe(jt)}function Y(jt,pe){return(ht,pn)=>pe.intercept(ht,{handle:On=>jt(On,pn)})}const _e=new m.nKC(""),Z=new m.nKC(""),f=new m.nKC(""),V=new m.nKC("",{providedIn:"root",factory:()=>!0});function x(){let jt=null;return(pe,ht)=>{null===jt&&(jt=((0,m.WQX)(_e,{optional:!0})??[]).reduceRight(Y,M));const pn=(0,m.WQX)(m.TgB);if((0,m.WQX)(V)){const lr=pn.add();return jt(pe,ht).pipe((0,k.j)(()=>pn.remove(lr)))}return jt(pe,ht)}}let ke=(()=>{class jt extends A{constructor(ht,pn){super(),this.backend=ht,this.injector=pn,this.chain=null,this.pendingTasks=(0,m.WQX)(m.TgB),this.contributeToStability=(0,m.WQX)(V)}handle(ht){if(null===this.chain){const pn=Array.from(new Set([...this.injector.get(Z),...this.injector.get(f,[])]));this.chain=pn.reduceRight((On,lr)=>function G(jt,pe,ht){return(pn,On)=>(0,m.N4e)(ht,()=>pe(pn,lr=>jt(lr,On)))}(On,lr,this.injector),M)}if(this.contributeToStability){const pn=this.pendingTasks.add();return this.chain(ht,On=>this.backend.handle(On)).pipe((0,k.j)(()=>this.pendingTasks.remove(pn)))}return this.chain(ht,pn=>this.backend.handle(pn))}static#e=this.\u0275fac=function(pn){return new(pn||jt)(m.KVO(T),m.KVO(m.uvJ))};static#t=this.\u0275prov=m.jDH({token:jt,factory:jt.\u0275fac})}return jt})();const ct=/^\)\]\}',?\n/;let rt=(()=>{class jt{constructor(ht){this.xhrFactory=ht}handle(ht){if("JSONP"===ht.method)throw new m.wOt(-2800,!1);const pn=this.xhrFactory;return(pn.\u0275loadImpl?(0,D.H)(pn.\u0275loadImpl()):(0,g.of)(null)).pipe((0,z.n)(()=>new C.c(lr=>{const Dr=pn.build();if(Dr.open(ht.method,ht.urlWithParams),ht.withCredentials&&(Dr.withCredentials=!0),ht.headers.forEach((qi,bo)=>Dr.setRequestHeader(qi,bo.join(","))),ht.headers.has("Accept")||Dr.setRequestHeader("Accept","application/json, text/plain, */*"),!ht.headers.has("Content-Type")){const qi=ht.detectContentTypeHeader();null!==qi&&Dr.setRequestHeader("Content-Type",qi)}if(ht.responseType){const qi=ht.responseType.toLowerCase();Dr.responseType="json"!==qi?qi:"text"}const ni=ht.serializeBody();let Yr=null;const ui=()=>{if(null!==Yr)return Yr;const qi=Dr.statusText||"OK",bo=new b(Dr.getAllResponseHeaders()),Bo=function Tt(jt){return"responseURL"in jt&&jt.responseURL?jt.responseURL:/^X-Request-URL:/m.test(jt.getAllResponseHeaders())?jt.getResponseHeader("X-Request-URL"):null}(Dr)||ht.url;return Yr=new Rn({headers:bo,status:Dr.status,statusText:qi,url:Bo}),Yr},Ri=()=>{let{headers:qi,status:bo,statusText:Bo,url:Gt}=ui(),Se=null;204!==bo&&(Se=typeof Dr.response>"u"?Dr.responseText:Dr.response),0===bo&&(bo=Se?200:0);let vt=bo>=200&&bo<300;if("json"===ht.responseType&&"string"==typeof Se){const Xt=Se;Se=Se.replace(ct,"");try{Se=""!==Se?JSON.parse(Se):null}catch(Cn){Se=Xt,vt&&(vt=!1,Se={error:Cn,text:Se})}}vt?(lr.next(new Oe({body:Se,headers:qi,status:bo,statusText:Bo,url:Gt||void 0})),lr.complete()):lr.error(new De({error:Se,headers:qi,status:bo,statusText:Bo,url:Gt||void 0}))},eo=qi=>{const{url:bo}=ui(),Bo=new De({error:qi,status:Dr.status||0,statusText:Dr.statusText||"Unknown Error",url:bo||void 0});lr.error(Bo)};let Ki=!1;const Qi=qi=>{Ki||(lr.next(ui()),Ki=!0);let bo={type:_t.DownloadProgress,loaded:qi.loaded};qi.lengthComputable&&(bo.total=qi.total),"text"===ht.responseType&&Dr.responseText&&(bo.partialText=Dr.responseText),lr.next(bo)},Yi=qi=>{let bo={type:_t.UploadProgress,loaded:qi.loaded};qi.lengthComputable&&(bo.total=qi.total),lr.next(bo)};return Dr.addEventListener("load",Ri),Dr.addEventListener("error",eo),Dr.addEventListener("timeout",eo),Dr.addEventListener("abort",eo),ht.reportProgress&&(Dr.addEventListener("progress",Qi),null!==ni&&Dr.upload&&Dr.upload.addEventListener("progress",Yi)),Dr.send(ni),lr.next({type:_t.Sent}),()=>{Dr.removeEventListener("error",eo),Dr.removeEventListener("abort",eo),Dr.removeEventListener("load",Ri),Dr.removeEventListener("timeout",eo),ht.reportProgress&&(Dr.removeEventListener("progress",Qi),null!==ni&&Dr.upload&&Dr.upload.removeEventListener("progress",Yi)),Dr.readyState!==Dr.DONE&&Dr.abort()}})))}static#e=this.\u0275fac=function(pn){return new(pn||jt)(m.KVO(B.N0))};static#t=this.\u0275prov=m.jDH({token:jt,factory:jt.\u0275fac})}return jt})();const Et=new m.nKC(""),In=new m.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jn=new m.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Cr{}let wn=(()=>{class jt{constructor(ht,pn,On){this.doc=ht,this.platform=pn,this.cookieName=On,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ht=this.doc.cookie||"";return ht!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,B._b)(ht,this.cookieName),this.lastCookieString=ht),this.lastToken}static#e=this.\u0275fac=function(pn){return new(pn||jt)(m.KVO(B.qQ),m.KVO(m.Agw),m.KVO(In))};static#t=this.\u0275prov=m.jDH({token:jt,factory:jt.\u0275fac})}return jt})();function cn(jt,pe){const ht=jt.url.toLowerCase();if(!(0,m.WQX)(Et)||"GET"===jt.method||"HEAD"===jt.method||ht.startsWith("http://")||ht.startsWith("https://"))return pe(jt);const pn=(0,m.WQX)(Cr).getToken(),On=(0,m.WQX)(Jn);return null!=pn&&!jt.headers.has(On)&&(jt=jt.clone({headers:jt.headers.set(On,pn)})),pe(jt)}var Qt=function(jt){return jt[jt.Interceptors=0]="Interceptors",jt[jt.LegacyInterceptors=1]="LegacyInterceptors",jt[jt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",jt[jt.NoXsrfProtection=3]="NoXsrfProtection",jt[jt.JsonpSupport=4]="JsonpSupport",jt[jt.RequestsMadeViaParent=5]="RequestsMadeViaParent",jt[jt.Fetch=6]="Fetch",jt}(Qt||{});function Lt(...jt){const pe=[wt,rt,ke,{provide:A,useExisting:ke},{provide:T,useFactory:()=>(0,m.WQX)(ne,{optional:!0})??(0,m.WQX)(rt)},{provide:Z,useValue:cn,multi:!0},{provide:Et,useValue:!0},{provide:Cr,useClass:wn}];for(const ht of jt)pe.push(...ht.\u0275providers);return(0,m.EmA)(pe)}const Pn=new m.nKC("");function Sn(){return function jn(jt,pe){return{\u0275kind:jt,\u0275providers:pe}}(Qt.LegacyInterceptors,[{provide:Pn,useFactory:x},{provide:Z,useExisting:Pn,multi:!0}])}},50583:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["de",[["AM","PM"],r,r],r,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],r,r],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} 'um' {0}",r],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[r,"\u0440."],CUC:[r,"Cub$"],DEM:["DM"],FKP:[r,"Fl\xa3"],GHS:[r,"\u20b5"],GNF:[r,"F.G."],KMF:[r,"FC"],PHP:[r,"\u20b1"],RON:[r,"L"],RUR:[r,"\u0440."],RWF:[r,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[r,"K"]},"ltr",function m(C){const h=Math.floor(Math.abs(C)),U=C.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===U?1:5}]},37522:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function m(C){const D=C,h=Math.floor(Math.abs(C)),U=C.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===D?1:0===F&&0!==h&&h%1e6==0&&0===U||!(F>=0&&F<=5)?4:5}]},57078:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["fr",[["AM","PM"],r,r],r,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],r,[["av. J.-C.","ap. J.-C."],r,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",r],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[r,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[r,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[r,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[r,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[r,"\xa5"],KMF:[r,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[r,"$C"],NZD:["$NZ","$"],PHP:[r,"\u20b1"],RHD:["$RH"],RON:[r,"L"],RWF:[r,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[r,"$T"],TTD:["$TT","$"],TWD:[r,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[r,"$"],XPF:["FCFP"],ZMW:[r,"Kw"]},"ltr",function m(C){const h=Math.floor(Math.abs(C)),U=C.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===h||1===h?1:0===F&&0!==h&&h%1e6==0&&0===U||!(F>=0&&F<=5)?4:5}]},83649:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["it",[["m.","p."],["AM","PM"],r],r,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],r,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],r,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} {0}",r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[r,"R$"],BYN:[r,"Br"],EGP:[r,"\xa3E"],HKD:[r,"$"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NOK:[r,"NKr"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:[r,"$"],VND:[r,"\u20ab"]},"ltr",function m(C){const h=Math.floor(Math.abs(C)),U=C.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===h&&0===U?1:0===F&&0!==h&&h%1e6==0&&0===U||!(F>=0&&F<=5)?4:5}]},43649:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["ja",[["\u5348\u524d","\u5348\u5f8c"],r,r],r,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],r,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],r],r,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],r],0,[6,0],["y/MM/dd",r,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[r,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[r,"\u20b1"],RON:[r,"\u30ec\u30a4"],XXX:[]},"ltr",function m(C){return 5}]},98138:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["pt",[["AM","PM"],r,r],r,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],r,[["a.C.","d.C."],r,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[r,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[r,"\u20b1"],PTE:["Esc."],RON:[r,"L"],SYP:[r,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function m(C){const h=Math.floor(Math.abs(C)),U=C.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return h===Math.floor(h)&&h>=0&&h<=1?1:0===F&&0!==h&&h%1e6==0&&0===U||!(F>=0&&F<=5)?4:5}]},29512:(bn,be,w)=>{"use strict";w.d(be,{A:()=>g});const r=void 0,g=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],r,r],r,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],r,[["\u516c\u5143\u524d","\u516c\u5143"],r,r],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",r,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[r,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[r,"\u20b1"],RUR:[r,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function m(C){return 5}]},54438:(bn,be,w)=>{"use strict";function r(e,t){return Object.is(e,t)}w.d(be,{bc$:()=>hm,iLQ:()=>T_,sZ2:()=>eh,hnV:()=>oC,wjH:()=>yf,Hbi:()=>ZR,o8S:()=>nd,BIS:()=>nh,gRc:()=>EC,Ql9:()=>bR,OM3:()=>$m,Ocv:()=>TR,abz:()=>Kc,Z63:()=>Rr,aKT:()=>zu,uvJ:()=>Gs,zcH:()=>Na,bkB:()=>ol,duS:()=>Pr,y_5:()=>gs,$GK:()=>$r,nKC:()=>_r,zZn:()=>Oa,_q3:()=>eb,MKu:()=>tb,xe9:()=>Xy,Co$:()=>H0,Vns:()=>_f,SKi:()=>wa,Xx1:()=>ha,Agw:()=>th,PLl:()=>qf,rOR:()=>bd,sFG:()=>Px,_9s:()=>wv,czy:()=>lp,WPN:()=>Pc,kdw:()=>Vo,C4Q:()=>Nm,NYb:()=>fR,giA:()=>rC,RxE:()=>YA,c1b:()=>qg,gXe:()=>to,mal:()=>a_,Tzd:()=>eE,Af3:()=>Ds,tdH:()=>LM,L39:()=>SI,EWP:()=>OI,a0P:()=>LI,Ol2:()=>jv,w6W:()=>DM,oH4:()=>_C,QZP:()=>qC,SmG:()=>NR,Rfq:()=>wn,WQX:()=>Pi,hFB:()=>Jp,naY:()=>BR,Hps:()=>Bv,QuC:()=>$n,EmA:()=>qt,geq:()=>uM,Udg:()=>RI,CGW:()=>Gf,fpN:()=>JR,HJs:()=>UI,N4e:()=>as,vPA:()=>A0,O8t:()=>PI,ebz:()=>aM,dtW:()=>cM,H3F:()=>QA,H8p:()=>ts,KH2:()=>Np,TgB:()=>yu,wOt:()=>x,WHO:()=>tC,e01:()=>nC,lNU:()=>V,h9k:()=>ws,$MX:()=>ih,ZF7:()=>Mu,Kcf:()=>Hc,e5t:()=>ef,UyX:()=>Tu,cWb:()=>Is,osQ:()=>zc,H5H:()=>_y,Zy3:()=>ye,mq5:()=>e1,JZv:()=>ct,LfX:()=>So,plB:()=>lh,jNT:()=>Hy,zjR:()=>iC,XSP:()=>cD,TL$:()=>um,Tbb:()=>In,rcV:()=>Ql,nM4:()=>L0,Vt3:()=>Lv,GFd:()=>K0,OA$:()=>Ia,Jv_:()=>lA,aNF:()=>uA,R7$:()=>Sr,BMQ:()=>ty,HbH:()=>kE,ZvI:()=>jE,AVh:()=>cy,vxM:()=>$E,wni:()=>B1,VBU:()=>rn,FsC:()=>tt,jDH:()=>li,G2t:()=>Co,$C:()=>N,EJ8:()=>xt,rXU:()=>Mi,nrm:()=>fy,eu8:()=>py,bVm:()=>g_,qex:()=>m_,k0s:()=>p_,j41:()=>f_,RV6:()=>qE,xGo:()=>Pf,Mr5:()=>my,pXf:()=>v1,nnv:()=>y1,YFu:()=>Ey,uP7:()=>Ay,k04:()=>b1,PLo:()=>by,KVO:()=>Ji,kS0:()=>ec,QTQ:()=>Gi,bIt:()=>Cy,lsd:()=>U1,joV:()=>gh,qSk:()=>Cc,XpG:()=>x1,nI1:()=>SA,bMT:()=>RA,i5U:()=>IA,ii3:()=>OA,SdG:()=>T1,NAR:()=>M1,Y8G:()=>oy,FS9:()=>My,Mz_:()=>E_,lJ4:()=>pA,eq3:()=>mA,l_i:()=>gA,sMw:()=>_A,ziG:()=>vA,s1E:()=>yA,l4e:()=>bA,sGs:()=>EA,lV:()=>AA,zJS:()=>CA,NyB:()=>G1,mGM:()=>L1,sdS:()=>j1,Dyx:()=>QE,Z7z:()=>YE,fX1:()=>XE,Vm6:()=>WE,Njj:()=>zs,EBC:()=>Tg,tSv:()=>Mg,eBV:()=>Ss,npT:()=>Zu,f$h:()=>Wc,B4B:()=>Fc,n$t:()=>Eg,wjB:()=>dA,Aen:()=>Ru,xc7:()=>ay,Kam:()=>wy,zvX:()=>gy,DNE:()=>Hv,C5r:()=>PA,EFF:()=>Z1,JRh:()=>Dy,SpI:()=>A_,Lme:()=>Sy,E5c:()=>Ry,SjE:()=>Iy,DH7:()=>oA,mxI:()=>Py,R50:()=>Oy,GBs:()=>N1,wEZ:()=>V1});let m=null,g=!1,C=1;const D=Symbol("SIGNAL");function h(e){const t=m;return m=e,t}function U(){return m}const z={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function B(e){if(g)throw new Error("");if(null===m)return;m.consumerOnSignalRead(e);const t=m.nextProducerIndex++;$(m),t<m.producerNode.length&&m.producerNode[t]!==e&&q(m)&&Me(m.producerNode[t],m.producerIndexOfThis[t]),m.producerNode[t]!==e&&(m.producerNode[t]=e,m.producerIndexOfThis[t]=q(m)?ae(e,m,t):0),m.producerLastReadVersion[t]=e.version}function T(e){if((!q(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==C)){if(!e.producerMustRecompute(e)&&!Q(e))return e.dirty=!1,void(e.lastCleanEpoch=C);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=C}}function b(e){if(void 0===e.liveConsumerNode)return;const t=g;g=!0;try{for(const n of e.liveConsumerNode)n.dirty||ce(n)}finally{g=t}}function J(){return!1!==m?.consumerAllowSignalWrites}function ce(e){e.dirty=!0,b(e),e.consumerMarkedDirty?.(e)}function W(e){return e&&(e.nextProducerIndex=0),h(e)}function se(e,t){if(h(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(q(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Me(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Q(e){$(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(T(n),o!==n.version))return!0}return!1}function Ie(e){if($(e),q(e))for(let t=0;t<e.producerNode.length;t++)Me(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ae(e,t,n){if(ge(e),0===e.liveConsumerNode.length&&K(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=ae(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Me(e,t){if(ge(e),1===e.liveConsumerNode.length&&K(e))for(let o=0;o<e.producerNode.length;o++)Me(e.producerNode[o],e.producerIndexOfThis[o]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];$(a),a.producerIndexOfThis[o]=t}}function q(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function $(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ge(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function K(e){return void 0!==e.producerNode}function Ne(e){const t=Object.create(_t);t.computation=e;const n=()=>{if(T(t),B(t),t.value===gt)throw t.error;return t.value};return n[D]=t,n}const Ve=Symbol("UNSET"),Ge=Symbol("COMPUTING"),gt=Symbol("ERRORED"),_t={...z,value:Ve,dirty:!0,error:null,equal:r,producerMustRecompute:e=>e.value===Ve||e.value===Ge,producerRecomputeValue(e){if(e.value===Ge)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Ge;const n=W(e);let o;try{o=e.computation()}catch(a){o=gt,e.error=a}finally{se(e,n)}t!==Ve&&t!==gt&&o!==gt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Rn=function zt(){throw new Error};function Oe(){Rn()}let He=null;function wt(e,t){J()||Oe(),e.equal(e.value,t)||(e.value=t,function ne(e){e.version++,function A(){C++}(),b(e),He?.()}(e))}const Ce={...z,equal:r,value:void 0};const te=()=>{},y={...z,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:te};var Y=w(29160),G=w(85052),_e=w(81027),Z=w(36110);const V="https://g.co/ng/security#xss";class x extends Error{constructor(t,n){super(ye(t,n)),this.code=t}}function ye(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const Te=Symbol("InputSignalNode#UNSET"),ke={...Ce,transformFn:void 0,applyValueToInputSignal(e,t){wt(e,t)}};function at(e,t){const n=Object.create(ke);function o(){if(B(n),n.value===Te)throw new x(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,o[D]=n,o}function yt(e){return{toString:e}.toString()}const Qe="__parameters__";function lt(e,t,n){return yt(()=>{const o=function Mt(e){return function(...n){if(e){const o=e(...n);for(const a in o)this[a]=o[a]}}}(t);function a(..._){if(this instanceof a)return o.apply(this,_),this;const R=new a(..._);return fe.annotation=R,fe;function fe(Fe,dt,Rt){const yn=Fe.hasOwnProperty(Qe)?Fe[Qe]:Object.defineProperty(Fe,Qe,{value:[]})[Qe];for(;yn.length<=Rt;)yn.push(null);return(yn[Rt]=yn[Rt]||[]).push(R),Fe}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const ct=globalThis;function Et(e){for(let t in e)if(e[t]===Et)return t;throw Error("Could not find renamed property on target object.")}function vn(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function In(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(In).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Un(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Cr=Et({__forward_ref__:Et});function wn(e){return e.__forward_ref__=wn,e.toString=function(){return In(this())},e}function cn(e){return Yt(e)?e():e}function Yt(e){return"function"==typeof e&&e.hasOwnProperty(Cr)&&e.__forward_ref__===wn}function Pn(e,t,n){e!=t&&function Ht(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(n,e,t,"==")}function li(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Co(e){return{providers:e.providers||[],imports:e.imports||[]}}function wo(e){return xo(e,xn)||xo(e,br)}function So(e){return null!==wo(e)}function xo(e,t){return e.hasOwnProperty(t)?e[t]:null}function nn(e){return e&&(e.hasOwnProperty(sr)||e.hasOwnProperty(Vr))?e[sr]:null}const xn=Et({\u0275prov:Et}),sr=Et({\u0275inj:Et}),br=Et({ngInjectableDef:Et}),Vr=Et({ngInjectorDef:Et});class _r{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=li({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ri(e){return e&&!!e.\u0275providers}const eo=Et({\u0275cmp:Et}),Ki=Et({\u0275dir:Et}),Qi=Et({\u0275pipe:Et}),Yi=Et({\u0275mod:Et}),qi=Et({\u0275fac:Et}),bo=Et({__NG_ELEMENT_ID__:Et}),Bo=Et({__NG_ENV_ID__:Et});function Gt(e){return"string"==typeof e?e:null==e?"":String(e)}function Ii(e,t){throw new x(-201,!1)}var $r=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($r||{});let Hi;function Mo(){return Hi}function Wo(e){const t=Hi;return Hi=e,t}function xs(e,t,n){const o=wo(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&$r.Optional?null:void 0!==t?t:void Ii()}const Lo={},ps="__NG_DI_FLAG__",Xo="ngTempTokenPath",Gn=/\n/gm,Ir="__source";let ri;function Xr(e){const t=ri;return ri=e,t}function ki(e,t=$r.Default){if(void 0===ri)throw new x(-203,!1);return null===ri?xs(e,void 0,t):ri.get(e,t&$r.Optional?null:void 0,t)}function Ji(e,t=$r.Default){return(Mo()||ki)(cn(e),t)}function Pi(e,t=$r.Default){return Ji(e,os(t))}function os(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function es(e){const t=[];for(let n=0;n<e.length;n++){const o=cn(e[n]);if(Array.isArray(o)){if(0===o.length)throw new x(900,!1);let a,_=$r.Default;for(let R=0;R<o.length;R++){const fe=o[R],Fe=Fs(fe);"number"==typeof Fe?-1===Fe?a=fe.token:_|=Fe:a=fe}t.push(Ji(a,_))}else t.push(Ji(o))}return t}function rs(e,t){return e[ps]=t,e.prototype[ps]=t,e}function Fs(e){return e[ps]}const gs=rs(lt("Inject",e=>({token:e})),-1),ha=rs(lt("Optional"),8),Vo=rs(lt("SkipSelf"),4);function _s(e,t){return e.hasOwnProperty(qi)?e[qi]:null}function Vn(e,t){e.forEach(n=>Array.isArray(n)?Vn(n,t):t(n))}function Wn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function er(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zi(e,t,n){let o=an(e,t);return o>=0?e[1|o]=n:(o=~o,function Zi(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(1===a)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function Vt(e,t){const n=an(e,t);if(n>=0)return e[1|n]}function an(e,t){return function ar(e,t,n){let o=0,a=e.length>>n;for(;a!==o;){const _=o+(a-o>>1),R=e[_<<n];if(t===R)return _<<n;R>t?a=_:o=_+1}return~(a<<n)}(e,t,1)}const Er={},rr=[],Rr=new _r(""),Pr=new _r("",-1),ii=new _r("");class zr{get(t,n=Lo){if(n===Lo){const o=new Error(`NullInjectorError: No provider for ${In(t)}!`);throw o.name="NullInjectorError",o}return n}}var Ni=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ni||{}),to=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(to||{}),ho=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ho||{});function co(e,t,n){let o=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const _=t.length;if(a+_===o||e.charCodeAt(a+_)<=32)return a}n=a+1}}function _o(e,t,n){let o=0;for(;o<n.length;){const a=n[o];if("number"==typeof a){if(0!==a)break;o++;const _=n[o++],R=n[o++],fe=n[o++];e.setAttribute(t,R,fe,_)}else{const _=a,R=n[++o];vo(_)?e.setProperty(t,_,R):e.setAttribute(t,_,R),o++}}return o}function Oo(e){return 3===e||4===e||6===e}function vo(e){return 64===e.charCodeAt(0)}function Yo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:0===n||Je(e,n,a,null,-1===n||2===n?t[++o]:null)}}return e}function Je(e,t,n,o,a){let _=0,R=e.length;if(-1===t)R=-1;else for(;_<e.length;){const fe=e[_++];if("number"==typeof fe){if(fe===t){R=-1;break}if(fe>t){R=_-1;break}}}for(;_<e.length;){const fe=e[_];if("number"==typeof fe)break;if(fe===n){if(null===o)return void(null!==a&&(e[_+1]=a));if(o===e[_+1])return void(e[_+2]=a)}_++,null!==o&&_++,null!==a&&_++}-1!==R&&(e.splice(R,0,t),_=R+1),e.splice(_++,0,n),null!==o&&e.splice(_++,0,o),null!==a&&e.splice(_++,0,a)}const Kt="ng-template";function Ke(e,t,n,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==co(t[a+1].toLowerCase(),n,0))return!0}else if(L(e))return!1;if(a=t.indexOf(1,a),a>-1){let _;for(;++a<t.length&&"string"==typeof(_=t[a]);)if(_.toLowerCase()===n)return!0}return!1}function L(e){return 4===e.type&&e.value!==Kt}function de(e,t,n){return t===(4!==e.type||n?e.value:Kt)}function O(e,t,n){let o=4;const a=e.attrs,_=null!==a?function zn(e){for(let t=0;t<e.length;t++)if(Oo(e[t]))return t;return e.length}(a):0;let R=!1;for(let fe=0;fe<t.length;fe++){const Fe=t[fe];if("number"!=typeof Fe){if(!R)if(4&o){if(o=2|1&o,""!==Fe&&!de(e,Fe,n)||""===Fe&&1===t.length){if(ie(o))return!1;R=!0}}else if(8&o){if(null===a||!Ke(e,a,Fe,n)){if(ie(o))return!1;R=!0}}else{const dt=t[++fe],Rt=X(Fe,a,L(e),n);if(-1===Rt){if(ie(o))return!1;R=!0;continue}if(""!==dt){let yn;if(yn=Rt>_?"":a[Rt+1].toLowerCase(),2&o&&dt!==yn){if(ie(o))return!1;R=!0}}}}else{if(!R&&!ie(o)&&!ie(Fe))return!1;if(R&&ie(Fe))continue;R=!1,o=Fe|1&o}}return ie(o)||R}function ie(e){return!(1&e)}function X(e,t,n,o){if(null===t)return-1;let a=0;if(o||!n){let _=!1;for(;a<t.length;){const R=t[a];if(R===e)return a;if(3===R||6===R)_=!0;else{if(1===R||2===R){let fe=t[++a];for(;"string"==typeof fe;)fe=t[++a];continue}if(4===R)break;if(0===R){a+=4;continue}}a+=_?1:2}return-1}return function hr(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Ye(e,t,n=!1){for(let o=0;o<t.length;o++)if(O(e,t[o],n))return!0;return!1}function Li(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function $i(e,t){return e?":not("+t.trim()+")":t}function hi(e){let t=e[0],n=1,o=2,a="",_=!1;for(;n<e.length;){let R=e[n];if("string"==typeof R)if(2&o){const fe=e[++n];a+="["+R+(fe.length>0?'="'+fe+'"':"")+"]"}else 8&o?a+="."+R:4&o&&(a+=" "+R);else""!==a&&!ie(R)&&(t+=$i(_,a),a=""),o=R,_=_||!ie(o);n++}return""!==a&&(t+=$i(_,a)),t}function rn(e){return yt(()=>{const t=dr(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ni.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||to.Emulated,styles:e.styles||rr,_:null,schemas:e.schemas||null,tView:null,id:""};Mr(n);const o=e.dependencies;return n.directiveDefs=yr(o,!1),n.pipeDefs=yr(o,!0),n.id=function Fi(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function It(e){return Wt(e)||ln(e)}function P(e){return null!==e}function N(e){return yt(()=>({type:e.type,bootstrap:e.bootstrap||rr,declarations:e.declarations||rr,imports:e.imports||rr,exports:e.exports||rr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Pe(e,t){if(null==e)return Er;const n={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let _,R,fe=ho.None;Array.isArray(a)?(fe=a[0],_=a[1],R=a[2]??_):(_=a,R=a),t?(n[_]=fe!==ho.None?[o,fe]:o,t[_]=R):n[_]=o}return n}function tt(e){return yt(()=>{const t=dr(e);return Mr(t),t})}function xt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Wt(e){return e[eo]||null}function ln(e){return e[Ki]||null}function Ln(e){return e[Qi]||null}function $n(e){const t=Wt(e)||ln(e)||Ln(e);return null!==t&&t.standalone}function pr(e,t){const n=e[Yi]||null;if(!n&&!0===t)throw new Error(`Type ${In(e)} does not have '\u0275mod' property.`);return n}function dr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Er,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||rr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pe(e.inputs,t),outputs:Pe(e.outputs),debugInfo:null}}function Mr(e){e.features?.forEach(t=>t(e))}function yr(e,t){if(!e)return null;const n=t?Ln:It;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(P)}function qt(e){return{\u0275providers:e}}function Fn(...e){return{\u0275providers:En(0,e),\u0275fromNgModule:!0}}function En(e,...t){const n=[],o=new Set;let a;const _=R=>{n.push(R)};return Vn(t,R=>{const fe=R;jr(fe,_,[],o)&&(a||=[],a.push(fe))}),void 0!==a&&qn(a,_),n}function qn(e,t){for(let n=0;n<e.length;n++){const{ngModule:o,providers:a}=e[n];Oi(a,_=>{t(_,o)})}}function jr(e,t,n,o){if(!(e=cn(e)))return!1;let a=null,_=nn(e);const R=!_&&Wt(e);if(_||R){if(R&&!R.standalone)return!1;a=e}else{const Fe=e.ngModule;if(_=nn(Fe),!_)return!1;a=Fe}const fe=o.has(a);if(R){if(fe)return!1;if(o.add(a),R.dependencies){const Fe="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const dt of Fe)jr(dt,t,n,o)}}else{if(!_)return!1;{if(null!=_.imports&&!fe){let dt;o.add(a);try{Vn(_.imports,Rt=>{jr(Rt,t,n,o)&&(dt||=[],dt.push(Rt))})}finally{}void 0!==dt&&qn(dt,t)}if(!fe){const dt=_s(a)||(()=>new a);t({provide:a,useFactory:dt,deps:rr},a),t({provide:ii,useValue:a,multi:!0},a),t({provide:Rr,useValue:()=>Ji(a),multi:!0},a)}const Fe=_.providers;if(null!=Fe&&!fe){const dt=e;Oi(Fe,Rt=>{t(Rt,dt)})}}}return a!==e&&void 0!==e.providers}function Oi(e,t){for(let n of e)Ri(n)&&(n=n.\u0275providers),Array.isArray(n)?Oi(n,t):t(n)}const xi=Et({provide:String,useValue:Et});function Ei(e){return null!==e&&"object"==typeof e&&xi in e}function No(e){return"function"==typeof e}const ts=new _r(""),Ts={},Qo={};let Go;function Ea(){return void 0===Go&&(Go=new zr),Go}class Gs{}class oa extends Gs{get destroyed(){return this._destroyed}constructor(t,n,o,a){super(),this.parent=n,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ks(t,R=>this.processProvider(R)),this.records.set(Pr,Pa(void 0,this)),a.has("environment")&&this.records.set(Gs,Pa(void 0,this));const _=this.records.get(ts);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(ii,rr,$r.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=h(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),h(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Xr(this),o=Wo(void 0);try{return t()}finally{Xr(n),Wo(o)}}get(t,n=Lo,o=$r.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Bo))return t[Bo](this);o=os(o);const _=Xr(this),R=Wo(void 0);try{if(!(o&$r.SkipSelf)){let Fe=this.records.get(t);if(void 0===Fe){const dt=function ko(e){return"function"==typeof e||"object"==typeof e&&e instanceof _r}(t)&&wo(t);Fe=dt&&this.injectableDefInScope(dt)?Pa(Sa(t),Ts):null,this.records.set(t,Fe)}if(null!=Fe)return this.hydrate(t,Fe)}return(o&$r.Self?Ea():this.parent).get(t,n=o&$r.Optional&&n===Lo?null:n)}catch(fe){if("NullInjectorError"===fe.name){if((fe[Xo]=fe[Xo]||[]).unshift(In(t)),_)throw fe;return function Ro(e,t,n,o){const a=e[Xo];throw t[Ir]&&a.unshift(t[Ir]),e.message=function Ms(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=In(t);if(Array.isArray(t))a=t.map(In).join(" -> ");else if("object"==typeof t){let _=[];for(let R in t)if(t.hasOwnProperty(R)){let fe=t[R];_.push(R+":"+("string"==typeof fe?JSON.stringify(fe):In(fe)))}a=`{${_.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(Gn,"\n  ")}`}("\n"+e.message,a,n,o),e.ngTokenPath=a,e[Xo]=null,e}(fe,t,"R3InjectorError",this.source)}throw fe}finally{Wo(R),Xr(_)}}resolveInjectorInitializers(){const t=h(null),n=Xr(this),o=Wo(void 0);try{const _=this.get(Rr,rr,$r.Self);for(const R of _)R()}finally{Xr(n),Wo(o),h(t)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(In(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(t){let n=No(t=cn(t))?t:cn(t&&t.provide);const o=function gc(e){return Ei(e)?Pa(void 0,e.useValue):Pa($a(e),Ts)}(t);if(!No(t)&&!0===t.multi){let a=this.records.get(n);a||(a=Pa(void 0,Ts,!0),a.factory=()=>es(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,o)}hydrate(t,n){const o=h(null);try{return n.value===Ts&&(n.value=Qo,n.value=n.factory()),"object"==typeof n.value&&n.value&&function fo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{h(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=cn(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sa(e){const t=wo(e),n=null!==t?t.factory:_s(e);if(null!==n)return n;if(e instanceof _r)throw new x(204,!1);if(e instanceof Function)return function Ja(e){if(e.length>0)throw new x(204,!1);const n=function Po(e){return e&&(e[xn]||e[br])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new x(204,!1)}function $a(e,t,n){let o;if(No(e)){const a=cn(e);return _s(a)||Sa(a)}if(Ei(e))o=()=>cn(e.useValue);else if(function ji(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...es(e.deps||[]));else if(function Ho(e){return!(!e||!e.useExisting)}(e))o=()=>Ji(cn(e.useExisting));else{const a=cn(e&&(e.useClass||e.provide));if(!function Wi(e){return!!e.deps}(e))return _s(a)||Sa(a);o=()=>new a(...es(e.deps))}return o}function Pa(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ks(e,t){for(const n of e)Array.isArray(n)?ks(n,t):n&&Ri(n)?ks(n.\u0275providers,t):t(n)}function as(e,t){e instanceof oa&&e.assertNotDestroyed();const o=Xr(e),a=Wo(void 0);try{return t()}finally{Xr(o),Wo(a)}}function sa(){return void 0!==Mo()||null!=function si(){return ri}()}function Ds(e){if(!sa())throw new x(-203,!1)}const Di=0,Zr=1,so=2,cs=3,Us=4,As=5,ta=6,aa=7,hs=8,Ns=9,ya=10,jo=11,ll=12,uc=13,Aa=14,Ws=15,_c=16,vc=17,ka=18,Bc=19,hn=20,dc=21,Nc=22,va=23,Bi=25,ql=1,hc=7,Ua=9,ma=10;var Ll=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ll||{});function Jo(e){return Array.isArray(e)&&"object"==typeof e[ql]}function Ta(e){return Array.isArray(e)&&!0===e[ql]}function tc(e){return!!(4&e.flags)}function Lc(e){return e.componentOffset>-1}function Ko(e){return!(1&~e.flags)}function bc(e){return!!e.template}function nc(e){return!!(512&e[so])}class Uc{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ra(e,t,n,o){null!==t?t.applyValueToInputSignal(t,o):e[n]=o}function Ia(){return ul}function ul(e){return e.type.prototype.ngOnChanges&&(e.setInput=mc),pc}function pc(){const e=od(this),t=e?.current;if(t){const n=e.previous;if(n===Er)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function mc(e,t,n,o,a){const _=this.declaredInputs[o],R=od(e)||function sd(e,t){return e[eu]=t}(e,{previous:Er,current:null}),fe=R.current||(R.current={}),Fe=R.previous,dt=Fe[_];fe[_]=new Uc(dt&&dt.currentValue,n,Fe===Er),Ra(e,t,a,n)}Ia.ngInherit=!0;const eu="__ngSimpleChanges__";function od(e){return e[eu]||null}const Sc=function(e,t,n){},Pu="svg";function Xs(e){for(;Array.isArray(e);)e=e[Di];return e}function Ca(e,t){return Xs(t[e])}function Va(e,t){return Xs(t[e.index])}function Wa(e,t){return e.data[t]}function Vc(e,t){return e[t]}function Ga(e,t){const n=t[e];return Jo(n)?n:n[Di]}function Rc(e){return!(128&~e[so])}function qa(e,t){return null==t?null:e[t]}function Cl(e){e[vc]=0}function Bu(e){1024&e[so]||(e[so]|=1024,Rc(e)&&ze(e))}function p(e){return!!(9216&e[so]||e[va]?.dirty)}function ee(e){e[ya].changeDetectionScheduler?.notify(8),64&e[so]&&(e[so]|=1024),p(e)&&ze(e)}function ze(e){e[ya].changeDetectionScheduler?.notify(0);let t=tn(e);for(;null!==t&&!(8192&t[so])&&(t[so]|=8192,Rc(t));)t=tn(t)}function ut(e,t){if(!(256&~e[so]))throw new x(911,!1);null===e[dc]&&(e[dc]=[]),e[dc].push(t)}function tn(e){const t=e[cs];return Ta(t)?t[cs]:t}const en={lFrame:kd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let fr=!1;function Ui(){return en.bindingsEnabled}function qr(){return null!==en.skipHydrationRootTNode}function mr(){return en.lFrame.lView}function yo(){return en.lFrame.tView}function Ss(e){return en.lFrame.contextLView=e,e[hs]}function zs(e){return en.lFrame.contextLView=null,e}function lo(){let e=ga();for(;null!==e&&64===e.type;)e=e.parent;return e}function ga(){return en.lFrame.currentTNode}function Ys(){const e=en.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Cs(e,t){const n=en.lFrame;n.currentTNode=e,n.isParent=t}function ls(){return en.lFrame.isParent}function ja(){en.lFrame.isParent=!1}function wf(){return fr}function Vl(e){fr=e}function Xa(){const e=en.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xl(){return en.lFrame.bindingIndex}function Fa(){return en.lFrame.bindingIndex++}function Gl(e){const t=en.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cd(e){en.lFrame.inI18n=e}function ph(e,t){const n=en.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ac(t)}function Ac(e){en.lFrame.currentDirectiveIndex=e}function Ml(e){const t=en.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ca(){return en.lFrame.currentQueryIndex}function jl(e){en.lFrame.currentQueryIndex=e}function Tl(e){const t=e[Zr];return 2===t.type?t.declTNode:1===t.type?e[As]:null}function ld(e,t,n){if(n&$r.SkipSelf){let a=t,_=e;for(;!(a=a.parent,null!==a||n&$r.Host||(a=Tl(_),null===a||(_=_[Aa],10&a.type))););if(null===a)return!1;t=a,e=_}const o=en.lFrame=mh();return o.currentTNode=t,o.lView=e,!0}function Nu(e){const t=mh(),n=e[Zr];en.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function mh(){const e=en.lFrame,t=null===e?null:e.child;return null===t?kd(e):t}function kd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Lu(){const e=en.lFrame;return en.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dl=Lu;function el(){const e=Lu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ba(){return en.lFrame.selectedIndex}function us(e){en.lFrame.selectedIndex=e}function fa(){const e=en.lFrame;return Wa(e.tView,e.selectedIndex)}function Cc(){en.lFrame.currentNamespace=Pu}function gh(){!function Tf(){en.lFrame.currentNamespace=null}()}let Df=!0;function fl(){return Df}function pl(e){Df=e}function jc(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const _=e.data[n].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:fe,ngAfterViewInit:Fe,ngAfterViewChecked:dt,ngOnDestroy:Rt}=_;R&&(e.contentHooks??=[]).push(-n,R),fe&&((e.contentHooks??=[]).push(n,fe),(e.contentCheckHooks??=[]).push(n,fe)),Fe&&(e.viewHooks??=[]).push(-n,Fe),dt&&((e.viewHooks??=[]).push(n,dt),(e.viewCheckHooks??=[]).push(n,dt)),null!=Rt&&(e.destroyHooks??=[]).push(n,Rt)}}function ud(e,t,n){cu(e,t,3,n)}function Nd(e,t,n,o){(3&e[so])===n&&cu(e,t,n,o)}function Uu(e,t){let n=e[so];(3&n)===t&&(n&=16383,n+=1,e[so]=n)}function cu(e,t,n,o){const _=o??-1,R=t.length-1;let fe=0;for(let Fe=void 0!==o?65535&e[vc]:0;Fe<R;Fe++)if("number"==typeof t[Fe+1]){if(fe=t[Fe],null!=o&&fe>=o)break}else t[Fe]<0&&(e[vc]+=65536),(fe<_||-1==_)&&(Sf(e,n,t,Fe),e[vc]=(4294901760&e[vc])+Fe+2),Fe++}function _h(e,t){Sc(4,e,t);const n=h(null);try{t.call(e)}finally{h(n),Sc(5,e,t)}}function Sf(e,t,n,o){const a=n[o]<0,_=n[o+1],fe=e[a?-n[o]:n[o]];a?e[so]>>14<e[vc]>>16&&(3&e[so])===t&&(e[so]+=16384,_h(fe,_)):_h(fe,_)}const Vu=-1;class Kl{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}const hd={};class Rl{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=os(o);const a=this.injector.get(t,hd,o);return a!==hd||n===hd?a:this.parentInjector.get(t,n,o)}}function bh(e){return e!==Vu}function lu(e){return 32767&e}function uu(e,t){let n=function Ud(e){return e>>16}(e),o=t;for(;n>0;)o=o[Aa],n--;return o}let du=!0;function fd(e){const t=du;return du=e,t}const Ah=255,Ch=5;let If=0;const tl={};function zl(e,t){const n=$l(e,t);if(-1!==n)return n;const o=t[Zr];o.firstCreatePass&&(e.injectorIndex=t.length,nl(o.data,e),nl(t,null),nl(o.blueprint,null));const a=hu(e,t),_=e.injectorIndex;if(bh(a)){const R=lu(a),fe=uu(a,t),Fe=fe[Zr].data;for(let dt=0;dt<8;dt++)t[_+dt]=fe[R+dt]|Fe[R+dt]}return t[_+8]=a,_}function nl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $l(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function hu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;null!==a;){if(o=Il(a),null===o)return Vu;if(n++,a=a[Aa],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Vu}function Gu(e,t,n){!function Kp(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(bo)&&(o=n[bo]),null==o&&(o=n[bo]=If++);const a=o&Ah;t.data[e+(a>>Ch)]|=1<<a}(e,t,n)}function fu(e,t,n){if(n&$r.Optional||void 0!==e)return e;Ii()}function qo(e,t,n,o){if(n&$r.Optional&&void 0===o&&(o=null),!(n&($r.Self|$r.Host))){const a=e[Ns],_=Wo(void 0);try{return a?a.get(t,o,n&$r.Optional):xs(t,o,n&$r.Optional)}finally{Wo(_)}}return fu(o,0,n)}function md(e,t,n,o=$r.Default,a){if(null!==e){if(2048&t[so]&&!(o&$r.Self)){const R=function Th(e,t,n,o,a){let _=e,R=t;for(;null!==_&&null!==R&&2048&R[so]&&!(512&R[so]);){const fe=Vd(_,R,n,o|$r.Self,tl);if(fe!==tl)return fe;let Fe=_.parent;if(!Fe){const dt=R[hn];if(dt){const Rt=dt.get(n,tl,o);if(Rt!==tl)return Rt}Fe=Il(R),R=R[Aa]}_=Fe}return a}(e,t,n,o,tl);if(R!==tl)return R}const _=Vd(e,t,n,o,tl);if(_!==tl)return _}return qo(t,n,o,a)}function Vd(e,t,n,o,a){const _=function Of(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(bo)?e[bo]:void 0;return"number"==typeof t?t>=0?t&Ah:xh:t}(n);if("function"==typeof _){if(!ld(t,e,o))return o&$r.Host?fu(a,0,o):qo(t,n,o,a);try{let R;if(R=_(o),null!=R||o&$r.Optional)return R;Ii()}finally{dl()}}else if("number"==typeof _){let R=null,fe=$l(e,t),Fe=Vu,dt=o&$r.Host?t[Ws][As]:null;for((-1===fe||o&$r.SkipSelf)&&(Fe=-1===fe?hu(e,t):t[fe+8],Fe!==Vu&&wh(o,!1)?(R=t[Zr],fe=lu(Fe),t=uu(Fe,t)):fe=-1);-1!==fe;){const Rt=t[Zr];if(ic(_,fe,Rt.data)){const yn=pu(fe,t,n,R,o,dt);if(yn!==tl)return yn}Fe=t[fe+8],Fe!==Vu&&wh(o,t[Zr].data[fe+8]===dt)&&ic(_,fe,t)?(R=Rt,fe=lu(Fe),t=uu(Fe,t)):fe=-1}}return a}function pu(e,t,n,o,a,_){const R=t[Zr],fe=R.data[e+8],Rt=Gd(fe,R,n,null==o?Lc(fe)&&du:o!=R&&!!(3&fe.type),a&$r.Host&&_===fe);return null!==Rt?Wl(t,R,Rt,fe):tl}function Gd(e,t,n,o,a){const _=e.providerIndexes,R=t.data,fe=1048575&_,Fe=e.directiveStart,Rt=_>>20,Yn=a?fe+Rt:e.directiveEnd;for(let ir=o?fe:fe+Rt;ir<Yn;ir++){const xr=R[ir];if(ir<Fe&&n===xr||ir>=Fe&&xr.type===n)return ir}if(a){const ir=R[Fe];if(ir&&bc(ir)&&ir.type===n)return Fe}return null}function Wl(e,t,n,o){let a=e[n];const _=t.data;if(function Dl(e){return e instanceof Kl}(a)){const R=a;R.resolving&&function Cn(e,t){throw t&&t.join(" > "),new x(-200,e)}(function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Gt(e)}(_[n]));const fe=fd(R.canSeeViewProviders);R.resolving=!0;const dt=R.injectImpl?Wo(R.injectImpl):null;ld(e,o,$r.Default);try{a=e[n]=R.factory(void 0,_,e,o),t.firstCreatePass&&n>=o.directiveStart&&function Ic(e,t,n){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:_}=t.type.prototype;if(o){const R=ul(t);(n.preOrderHooks??=[]).push(e,R),(n.preOrderCheckHooks??=[]).push(e,R)}a&&(n.preOrderHooks??=[]).push(0-e,a),_&&((n.preOrderHooks??=[]).push(e,_),(n.preOrderCheckHooks??=[]).push(e,_))}(n,_[n],t)}finally{null!==dt&&Wo(dt),fd(fe),R.resolving=!1,dl()}}return a}function ic(e,t,n){return!!(n[t+(e>>Ch)]&1<<e)}function wh(e,t){return!(e&$r.Self||e&$r.Host&&t)}class Ya{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return md(this._tNode,this._lView,t,os(o),n)}}function xh(){return new Ya(lo(),mr())}function Pf(e){return yt(()=>{const t=e.prototype.constructor,n=t[qi]||Mh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const _=a[qi]||Mh(a);if(_&&_!==n)return _;a=Object.getPrototypeOf(a)}return _=>new _})}function Mh(e){return Yt(e)?()=>{const t=Mh(cn(e));return t&&t()}:_s(e)}function Il(e){const t=e[Zr],n=t.type;return 2===n?t.declTNode:1===n?e[As]:null}function ec(e){return function pd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let a=0;for(;a<o;){const _=n[a];if(Oo(_))break;if(0===_)a+=2;else if("number"==typeof _)for(a++;a<o&&"string"==typeof n[a];)a++;else{if(_===t)return n[a+1];a+=2}}}return null}(lo(),e)}function _d(e,t=null,n=null,o){const a=vd(e,t,n,o);return a.resolveInjectorInitializers(),a}function vd(e,t=null,n=null,o,a=new Set){const _=[n||rr,Fn(e)];return o=o||("object"==typeof e?void 0:In(e)),new oa(_,t||Ea(),o||null,a)}class Oa{static#e=this.THROW_IF_NOT_FOUND=Lo;static#t=this.NULL=new zr;static create(t,n){if(Array.isArray(t))return _d({name:""},n,t,"");{const o=t.name??"";return _d({name:o},t.parent,t.providers,o)}}static#n=this.\u0275prov=li({token:Oa,providedIn:"any",factory:()=>Ji(Pr)});static#s=this.__NG_ELEMENT_ID__=-1}new _r("").__NG_ELEMENT_ID__=e=>{const t=lo();if(null===t)throw new x(204,!1);if(2&t.type)return t.value;if(e&$r.Optional)return null;throw new x(204,!1)};function yd(e){return e.ngOriginalError}const il=!0;let Kc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Kd;static#t=this.__NG_ENV_ID__=n=>n}return e})();class Hp extends Kc{constructor(t){super(),this._lView=t}onDestroy(t){return ut(this._lView,t),()=>function Ut(e,t){if(null===e[dc])return;const n=e[dc].indexOf(t);-1!==n&&e[dc].splice(n,1)}(this._lView,t)}}function Kd(){return new Hp(mr())}let yu=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=li({token:e,providedIn:"root",factory:()=>new e})}return e})();const ol=class Hd extends G.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,sa()&&(this.destroyRef=Pi(Kc,{optional:!0})??void 0,this.pendingTasks=Pi(yu,{optional:!0})??void 0)}emit(t){const n=h(null);try{super.next(t)}finally{h(n)}}subscribe(t,n,o){let a=t,_=n||(()=>null),R=o;if(t&&"object"==typeof t){const Fe=t;a=Fe.next?.bind(Fe),_=Fe.error?.bind(Fe),R=Fe.complete?.bind(Fe)}this.__isAsync&&(_=this.wrapInTimeout(_),a&&(a=this.wrapInTimeout(a)),R&&(R=this.wrapInTimeout(R)));const fe=super.subscribe({next:a,error:_,complete:R});return t instanceof _e.yU&&t.add(fe),fe}wrapInTimeout(t){return n=>{const o=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==o&&this.pendingTasks?.remove(o)})}}};function zd(...e){}function bu(e){let t,n;function o(){e=zd;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Nf(e){return queueMicrotask(()=>e()),()=>{e=zd}}const Fh="isAngularZone",$d=Fh+"_ID";let $p=0;class wa{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ol(!1),this.onMicrotaskEmpty=new ol(!1),this.onStable=new ol(!1),this.onError=new ol(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:_=il}=t;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!a&&o,R.shouldCoalesceRunChangeDetection=a,R.callbackScheduled=!1,R.scheduleInRootZone=_,function Wp(e){const t=()=>{!function kh(e){function t(){bu(()=>{e.callbackScheduled=!1,Au(e),e.isCheckStableRunning=!0,Eu(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Au(e))}(e)},n=$p++;e._inner=e._inner.fork({name:"angular",properties:{[Fh]:!0,[$d]:n,[$d+n]:!0},onInvokeTask:(o,a,_,R,fe,Fe)=>{if(function Uf(e){return Xd(e,"__ignore_ng_zone__")}(Fe))return o.invokeTask(_,R,fe,Fe);try{return Cu(e),o.invokeTask(_,R,fe,Fe)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===R.type||e.shouldCoalesceRunChangeDetection)&&t(),Wd(e)}},onInvoke:(o,a,_,R,fe,Fe,dt)=>{try{return Cu(e),o.invoke(_,R,fe,Fe,dt)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Ol(e){return Xd(e,"__scheduler_tick__")}(Fe)&&t(),Wd(e)}},onHasTask:(o,a,_,R)=>{o.hasTask(_,R),a===_&&("microTask"==R.change?(e._hasPendingMicrotasks=R.microTask,Au(e),Eu(e)):"macroTask"==R.change&&(e.hasPendingMacrotasks=R.macroTask))},onHandleError:(o,a,_,R)=>(o.handleError(_,R),e.runOutsideAngular(()=>e.onError.emit(R)),!1)})}(R)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Fh)}static assertInAngularZone(){if(!wa.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(wa.isInAngularZone())throw new x(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,a){const _=this._inner,R=_.scheduleEventTask("NgZoneEvent: "+a,t,Lf,zd,zd);try{return _.runTask(R,n,o)}finally{_.cancelTask(R)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const Lf={};function Eu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Au(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Cu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wd(e){e._nesting--,Eu(e)}class Ku{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ol,this.onMicrotaskEmpty=new ol,this.onStable=new ol,this.onError=new ol}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,a){return t.apply(n,o)}}function Xd(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Na{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&yd(t);for(;n&&yd(n);)n=yd(n);return n||null}}const Hu=new _r("",{providedIn:"root",factory:()=>{const e=Pi(wa),t=Pi(Na);return n=>e.runOutsideAngular(()=>t.handleError(n))}});class Vf{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Pi(Na,{optional:!0}),this.destroyRef=Pi(Kc),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new x(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{const n=this.listeners?.indexOf(t);void 0!==n&&-1!==n&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed)throw new x(953,!1);if(null===this.listeners)return;const n=h(null);try{for(const o of this.listeners)try{o(t)}catch(a){this.errorHandler?.handleError(a)}}finally{h(n)}}}function Gf(e){return new Vf}function jf(e,t){return at(e,t)}const Jp=(jf.required=function Qp(e){return at(Te,e)},jf);function Zp(){return Yl(lo(),mr())}function Yl(e,t){return new zu(Va(e,t))}let zu=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Zp}return e})();function Bh(e){return e instanceof zu?e.nativeElement:e}function Kf(){return this._results[Symbol.iterator]()}class bd{static#e=Symbol.iterator;get changes(){return this._changes??=new ol}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=bd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Kf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const o=function ds(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ea(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],_=t[o];if(n&&(a=n(a),_=n(_)),_!==a)return!1}return!0}(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Wu(e){return!(128&~e.flags)}const Lh=new Map;let Hf=0;function Uh(e){Lh.delete(e[Bc])}const Yu="__ngContext__";function oc(e,t){Jo(t)?(e[Yu]=t[Bc],function tm(e){Lh.set(e[Bc],e)}(t)):e[Yu]=t}function Hh(e){return $h(e[ll])}function zh(e){return $h(e[Us])}function $h(e){for(;null!==e&&!Ta(e);)e=e[Us];return e}let qh;function um(e){qh=e}function gl(){if(void 0!==qh)return qh;if(typeof document<"u")return document;throw new x(210,!1)}const eh=new _r("",{providedIn:"root",factory:()=>dm}),dm="ng",qf=new _r(""),th=new _r("",{providedIn:"platform",factory:()=>"unknown"}),hm=new _r(""),nh=new _r("",{providedIn:"root",factory:()=>gl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Mn=()=>null;function or(e,t,n=!1){return Mn(e,t,n)}const Qa=new _r("",{providedIn:"root",factory:()=>!1});let ba,Fl;function _l(e){return function Js(){if(void 0===ba&&(ba=null,ct.trustedTypes))try{ba=ct.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ba}()?.createHTML(e)||e}function vl(){if(void 0===Fl&&(Fl=null,ct.trustedTypes))try{Fl=ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Fl}function xa(e){return vl()?.createHTML(e)||e}function Md(e){return vl()?.createScriptURL(e)||e}class sl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${V})`}}class Ha extends sl{getTypeName(){return"HTML"}}class Oc extends sl{getTypeName(){return"Style"}}class ep extends sl{getTypeName(){return"Script"}}class tp extends sl{getTypeName(){return"URL"}}class np extends sl{getTypeName(){return"ResourceURL"}}function Ql(e){return e instanceof sl?e.changingThisBreaksApplicationSecurity:e}function Mu(e,t){const n=function rp(e){return e instanceof sl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${V})`)}return n===t}function Hc(e){return new Ha(e)}function Is(e){return new Oc(e)}function Tu(e){return new ep(e)}function zc(e){return new tp(e)}function ef(e){return new np(e)}function tf(e){const t=new ip(e);return function nf(){try{return!!(new window.DOMParser).parseFromString(_l(""),"text/html")}catch{return!1}}()?new ia(t):t}class ia{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(_l(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class ip{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=_l(t),n}}const Td=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ih(e){return(e=String(e)).match(Td)?e:"unsafe:"+e}function Jl(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Du(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const rf=Jl("area,br,col,hr,img,wbr"),sf=Jl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dd=Jl("rp,rt"),Ju=Du(rf,Du(sf,Jl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Du(Dd,Jl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Du(Dd,sf)),oh=Jl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=Du(oh,Jl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),op=Jl("script,style,template");class Rd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0,a=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)a.push(n),n=ym(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let _=vm(n);if(_){n=_;break}n=a.pop()}return this.buf.join("")}startElement(t){const n=Ar(t).toLowerCase();if(!Ju.hasOwnProperty(n))return this.sanitizedSomething=!0,!op.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let a=0;a<o.length;a++){const _=o.item(a),R=_.name,fe=R.toLowerCase();if(!Sd.hasOwnProperty(fe)){this.sanitizedSomething=!0;continue}let Fe=_.value;oh[fe]&&(Fe=ih(Fe)),this.buf.push(" ",R,'="',Ma(Fe),'"')}return this.buf.push(">"),!0}endElement(t){const n=Ar(t).toLowerCase();Ju.hasOwnProperty(n)&&!rf.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Ma(t))}}function vm(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw no(t);return t}function ym(e){const t=e.firstChild;if(t&&function _m(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw no(t);return t}function Ar(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function no(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const pa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ks=/([^\#-~ |!])/g;function Ma(e){return e.replace(/&/g,"&amp;").replace(pa,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ks,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zs;function ws(e,t){let n=null;try{Zs=Zs||tf(e);let o=t?String(t):"";n=Zs.getInertBodyElement(o);let a=5,_=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=_,_=n.innerHTML,n=Zs.getInertBodyElement(o)}while(o!==_);return _l((new Rd).sanitizeChildren(La(n)||n))}finally{if(n){const o=La(n)||n;for(;o.firstChild;)o.firstChild.remove()}}}function La(e){return"content"in e&&function al(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pc||{});function Zu(e){const t=cf();return t?xa(t.sanitize(Pc.HTML,e)||""):Mu(e,"HTML")?xa(Ql(e)):ws(gl(),Gt(e))}function Fc(e){const t=cf();return t?t.sanitize(Pc.URL,e)||"":Mu(e,"URL")?Ql(e):ih(Gt(e))}function Wc(e){const t=cf();if(t)return Md(t.sanitize(Pc.RESOURCE_URL,e)||"");if(Mu(e,"ResourceURL"))return Md(Ql(e));throw new x(904,!1)}function Eg(e,t,n){return function G_(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Wc:Fc}(t,n)(e)}function cf(){const e=mr();return e&&e[ya].sanitizer}const j_=/^>|^->|<!--|-->|--!>|<!-$/g,K_=/(<|>)/g,H_="\u200b$1\u200b";function Mg(e){return e.ownerDocument.defaultView}function Tg(e){return e.ownerDocument}function yl(e){return e instanceof Function?e():e}function Xc(e){return"browser"===(e??Pi(Oa)).get(th)}var lp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(lp||{});let kc;function lf(e,t){return kc(e,t)}function ch(e,t,n,o,a){if(null!=o){let _,R=!1;Ta(o)?_=o:Jo(o)&&(R=!0,o=o[Di]);const fe=Xs(o);0===e&&null!==n?null==a?Pg(t,n,fe):Id(t,n,fe,a||null,!0):1===e&&null!==n?Id(t,n,fe,a||null,!0):2===e?ff(t,fe,R):3===e&&t.destroyNode(fe),null!=_&&function he(e,t,n,o,a){const _=n[hc];_!==Xs(n)&&ch(t,e,o,_,a);for(let fe=ma;fe<n.length;fe++){const Fe=n[fe];fp(Fe[Zr],Fe,e,t,o,_)}}(t,e,_,n,a)}}function wm(e,t){return e.createText(t)}function Rg(e,t,n){e.setValue(t,n)}function uf(e,t){return e.createComment(function bm(e){return e.replace(j_,t=>t.replace(K_,H_))}(t))}function up(e,t,n){return e.createElement(t,n)}function Ig(e,t){t[ya].changeDetectionScheduler?.notify(9),fp(e,t,t[jo],2,null,null)}function Mm(e,t){const n=e[Ua],o=t[cs];(Jo(o)||t[Ws]!==o[cs][Ws])&&(e[so]|=Ll.HasTransplantedViews),null===n?e[Ua]=[t]:n.push(t)}function Tm(e,t){const n=e[Ua],o=n.indexOf(t);n.splice(o,1)}function df(e,t){if(e.length<=ma)return;const n=ma+t,o=e[n];if(o){const a=o[_c];null!==a&&a!==e&&Tm(a,o),t>0&&(e[n-1][Us]=o[Us]);const _=er(e,ma+t);!function xm(e,t){Ig(e,t),t[Di]=null,t[As]=null}(o[Zr],o);const R=_[ka];null!==R&&R.detachView(_[Zr]),o[cs]=null,o[Us]=null,o[so]&=-129}return o}function dp(e,t){if(!(256&t[so])){const n=t[jo];n.destroyNode&&fp(e,t,n,3,null,null),function tv(e){let t=e[ll];if(!t)return hf(e[Zr],e);for(;t;){let n=null;if(Jo(t))n=t[ll];else{const o=t[ma];o&&(n=o)}if(!n){for(;t&&!t[Us]&&t!==e;)Jo(t)&&hf(t[Zr],t),t=t[cs];null===t&&(t=e),Jo(t)&&hf(t[Zr],t),n=t&&t[Us]}t=n}}(t)}}function hf(e,t){if(256&t[so])return;const n=h(null);try{t[so]&=-129,t[so]|=256,t[va]&&Ie(t[va]),function rv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const a=t[n[o]];if(!(a instanceof Kl)){const _=n[o+1];if(Array.isArray(_))for(let R=0;R<_.length;R+=2){const fe=a[_[R]],Fe=_[R+1];Sc(4,fe,Fe);try{Fe.call(fe)}finally{Sc(5,fe,Fe)}}else{Sc(4,a,_);try{_.call(a)}finally{Sc(5,a,_)}}}}}(e,t),function Dm(e,t){const n=e.cleanup,o=t[aa];if(null!==n)for(let _=0;_<n.length-1;_+=2)if("string"==typeof n[_]){const R=n[_+3];R>=0?o[R]():o[-R].unsubscribe(),_+=2}else n[_].call(o[n[_+1]]);null!==o&&(t[aa]=null);const a=t[dc];if(null!==a){t[dc]=null;for(let _=0;_<a.length;_++)(0,a[_])()}}(e,t),1===t[Zr].type&&t[jo].destroy();const o=t[_c];if(null!==o&&Ta(t[cs])){o!==t[cs]&&Tm(o,t);const a=t[ka];null!==a&&a.detachView(e)}Uh(t)}finally{h(n)}}function Sm(e,t,n){return Og(e,t.parent,n)}function Og(e,t,n){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return n[Di];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:_}=e.data[o.directiveStart+a];if(_===to.None||_===to.Emulated)return null}return Va(o,n)}}function Id(e,t,n,o,a){e.insertBefore(t,n,o,a)}function Pg(e,t,n){e.appendChild(t,n)}function Fg(e,t,n,o,a){null!==o?Id(e,t,n,o,a):Pg(e,t,n)}function Rm(e,t){return e.parentNode(t)}function kg(e,t,n){return Ng(e,t,n)}function Bg(e,t,n){return 40&e.type?Va(e,n):null}let Im,Ng=Bg;function Lg(e,t){Ng=e,Im=t}function hp(e,t,n,o){const a=Sm(e,o,t),_=t[jo],fe=kg(o.parent||t[As],o,t);if(null!=a)if(Array.isArray(n))for(let Fe=0;Fe<n.length;Fe++)Fg(_,a,n[Fe],fe,!1);else Fg(_,a,n,fe,!1);void 0!==Im&&Im(_,o,t,n,a)}function Od(e,t){if(null!==t){const n=t.type;if(3&n)return Va(t,e);if(4&n)return Om(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return Od(e,o);{const a=e[t.index];return Ta(a)?Om(-1,a):Xs(a)}}if(128&n)return Od(e,t.next);if(32&n)return lf(t,e)()||Xs(e[t.index]);{const o=Ug(e,t);return null!==o?Array.isArray(o)?o[0]:Od(tn(e[Ws]),o):Od(e,t.next)}}return null}function Ug(e,t){return null!==t?e[Ws][As].projection[t.projection]:null}function Om(e,t){const n=ma+e+1;if(n<t.length){const o=t[n],a=o[Zr].firstChild;if(null!==a)return Od(o,a)}return t[hc]}function ff(e,t,n){e.removeChild(null,t,n)}function Pm(e,t,n,o,a,_,R){for(;null!=n;){if(128===n.type){n=n.next;continue}const fe=o[n.index],Fe=n.type;if(R&&0===t&&(fe&&oc(Xs(fe),o),n.flags|=2),32&~n.flags)if(8&Fe)Pm(e,t,n.child,o,a,_,!1),ch(t,e,a,fe,_);else if(32&Fe){const dt=lf(n,o);let Rt;for(;Rt=dt();)ch(t,e,a,Rt,_);ch(t,e,a,fe,_)}else 16&Fe?E(e,t,o,n,a,_):ch(t,e,a,fe,_);n=R?n.projectionNext:n.next}}function fp(e,t,n,o,a,_){Pm(n,o,e.firstChild,t,a,_,!1)}function E(e,t,n,o,a,_){const R=n[Ws],Fe=R[As].projection[o.projection];if(Array.isArray(Fe))for(let dt=0;dt<Fe.length;dt++)ch(t,e,a,Fe[dt],_);else{let dt=Fe;const Rt=R[cs];Wu(o)&&(dt.flags|=128),Pm(e,t,dt,Rt,a,_,!0)}}function An(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zn(e,t,n){const{mergedAttrs:o,classes:a,styles:_}=n;null!==o&&_o(e,t,o),null!==a&&An(e,t,a),null!==_&&function $t(e,t,n){e.setAttribute(t,"style",n)}(e,t,_)}const Xn={};function Sr(e=1){Si(yo(),mr(),Ba()+e,!1)}function Si(e,t,n,o){if(!o)if(3&~t[so]){const _=e.preOrderHooks;null!==_&&Nd(t,_,0,n)}else{const _=e.preOrderCheckHooks;null!==_&&ud(t,_,n)}us(n)}function Mi(e,t=$r.Default){const n=mr();return null===n?Ji(e,t):md(lo(),n,cn(e),t)}function Gi(){throw new Error("invalid")}function Eo(e,t,n,o,a,_){const R=h(null);try{let fe=null;a&ho.SignalBased&&(fe=t[o][D]),null!==fe&&void 0!==fe.transformFn&&(_=fe.transformFn(_)),a&ho.HasDecoratorInputTransform&&(_=e.inputTransforms[o].call(t,_)),null!==e.setInput?e.setInput(t,fe,_,n,o):Ra(t,fe,o,_)}finally{h(R)}}function is(e,t,n,o,a,_,R,fe,Fe,dt,Rt){const yn=t.blueprint.slice();return yn[Di]=a,yn[so]=204|o,(null!==dt||e&&2048&e[so])&&(yn[so]|=2048),Cl(yn),yn[cs]=yn[Aa]=e,yn[hs]=n,yn[ya]=R||e&&e[ya],yn[jo]=fe||e&&e[jo],yn[Ns]=Fe||e&&e[Ns]||null,yn[As]=_,yn[Bc]=function em(){return Hf++}(),yn[ta]=Rt,yn[hn]=dt,yn[Ws]=2==t.type?e[Ws]:yn,yn}function ys(e,t,n,o,a){let _=e.data[t];if(null===_)_=ss(e,t,n,o,a),function Ec(){return en.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=n,_.value=o,_.attrs=a;const R=Ys();_.injectorIndex=null===R?-1:R.injectorIndex}return Cs(_,!0),_}function ss(e,t,n,o,a){const _=ga(),R=ls(),Fe=e.data[t]=function ow(e,t,n,o,a,_){let R=t?t.injectorIndex:-1,fe=0;return qr()&&(fe|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:R,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:fe,providerIndexes:0,value:a,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?_:_&&_.parent,n,t,o,a);return null===e.firstChild&&(e.firstChild=Fe),null!==_&&(R?null==_.child&&null!==Fe.parent&&(_.child=Fe):null===_.next&&(_.next=Fe,Fe.prev=_)),Fe}function Vs(e,t,n,o){if(0===n)return-1;const a=t.length;for(let _=0;_<n;_++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function qs(e,t,n,o,a){const _=Ba(),R=2&o;try{us(-1),R&&t.length>Bi&&Si(e,t,Bi,!1),Sc(R?2:0,a),n(o,a)}finally{us(_),Sc(R?3:1,a)}}function Yc(e,t,n){if(tc(t)){const o=h(null);try{const _=t.directiveEnd;for(let R=t.directiveStart;R<_;R++){const fe=e.data[R];fe.contentQueries&&fe.contentQueries(1,n[R],R)}}finally{h(o)}}}function xc(e,t,n){Ui()&&(function hw(e,t,n,o){const a=n.directiveStart,_=n.directiveEnd;Lc(n)&&function yw(e,t,n){const o=Va(t,e),a=za(n);let R=16;n.signals?R=4096:n.onPush&&(R=64);const fe=jg(e,is(e,a,null,R,o,t,null,e[ya].rendererFactory.createRenderer(o,n),null,null,null));e[t.index]=fe}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||zl(n,t),oc(o,t);const R=n.initialInputs;for(let fe=a;fe<_;fe++){const Fe=e.data[fe],dt=Wl(t,e,fe,n);oc(dt,t),null!==R&&bw(0,fe-a,dt,Fe,0,R),bc(Fe)&&(Ga(n.index,t)[hs]=Wl(t,e,fe,n))}}(e,t,n,Va(n,t)),!(64&~n.flags)&&yb(e,t,n))}function Qc(e,t,n=Va){const o=t.localNames;if(null!==o){let a=t.index+1;for(let _=0;_<o.length;_+=2){const R=o[_+1],fe=-1===R?n(t,e):e[R];e[a++]=fe}}}function za(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function bl(e,t,n,o,a,_,R,fe,Fe,dt,Rt){const yn=Bi+o,Yn=yn+a,ir=function Su(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Xn);return n}(yn,Yn),xr="function"==typeof dt?dt():dt;return ir[Zr]={type:e,blueprint:ir,template:n,queries:null,viewQuery:fe,declTNode:t,data:ir.slice().fill(null,yn),bindingStartIndex:yn,expandoStartIndex:Yn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:Fe,consts:xr,incompleteFirstPass:!1,ssrId:Rt}}let mb=()=>null;function gb(e,t,n,o,a){for(let _ in t){if(!t.hasOwnProperty(_))continue;const R=t[_];if(void 0===R)continue;o??={};let fe,Fe=ho.None;Array.isArray(R)?(fe=R[0],Fe=R[1]):fe=R;let dt=_;if(null!==a){if(!a.hasOwnProperty(_))continue;dt=a[_]}0===e?_b(o,n,dt,fe,Fe):_b(o,n,dt,fe)}return o}function _b(e,t,n,o,a){let _;e.hasOwnProperty(n)?(_=e[n]).push(t,o):_=e[n]=[t,o],void 0!==a&&_.push(a)}function kl(e,t,n,o,a,_,R,fe){const Fe=Va(t,n);let Rt,dt=t.inputs;!fe&&null!=dt&&(Rt=dt[o])?(lv(e,n,Rt,o,a),Lc(t)&&function cw(e,t){const n=Ga(t,e);16&n[so]||(n[so]|=64)}(n,t.index)):3&t.type&&(o=function aw(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=R?R(a,t.value||"",o):a,_.setProperty(Fe,o,a))}function ov(e,t,n,o){if(Ui()){const a=null===o?null:{"":-1},_=function pw(e,t){const n=e.directiveRegistry;let o=null,a=null;if(n)for(let _=0;_<n.length;_++){const R=n[_];if(Ye(t,R.selectors,!1))if(o||(o=[]),bc(R))if(null!==R.findHostDirectiveDefs){const fe=[];a=a||new Map,R.findHostDirectiveDefs(R,fe,a),o.unshift(...fe,R),sv(e,t,fe.length)}else o.unshift(R),sv(e,t,0);else a=a||new Map,R.findHostDirectiveDefs?.(R,o,a),o.push(R)}return null===o?null:[o,a]}(e,n);let R,fe;null===_?R=fe=null:[R,fe]=_,null!==R&&vb(e,t,n,R,a,fe),a&&function mw(e,t,n){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const _=n[t[a+1]];if(null==_)throw new x(-301,!1);o.push(t[a],_)}}}(n,o,a)}n.mergedAttrs=Yo(n.mergedAttrs,n.attrs)}function vb(e,t,n,o,a,_){for(let dt=0;dt<o.length;dt++)Gu(zl(n,t),e,o[dt].type);!function _w(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let dt=0;dt<o.length;dt++){const Rt=o[dt];Rt.providersResolver&&Rt.providersResolver(Rt)}let R=!1,fe=!1,Fe=Vs(e,t,o.length,null);for(let dt=0;dt<o.length;dt++){const Rt=o[dt];n.mergedAttrs=Yo(n.mergedAttrs,Rt.hostAttrs),vw(e,n,t,Fe,Rt),gw(Fe,Rt,a),null!==Rt.contentQueries&&(n.flags|=4),(null!==Rt.hostBindings||null!==Rt.hostAttrs||0!==Rt.hostVars)&&(n.flags|=64);const yn=Rt.type.prototype;!R&&(yn.ngOnChanges||yn.ngOnInit||yn.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),R=!0),!fe&&(yn.ngOnChanges||yn.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),fe=!0),Fe++}!function sw(e,t,n){const a=t.directiveEnd,_=e.data,R=t.attrs,fe=[];let Fe=null,dt=null;for(let Rt=t.directiveStart;Rt<a;Rt++){const yn=_[Rt],Yn=n?n.get(yn):null,xr=Yn?Yn.outputs:null;Fe=gb(0,yn.inputs,Rt,Fe,Yn?Yn.inputs:null),dt=gb(1,yn.outputs,Rt,dt,xr);const Ai=null===Fe||null===R||L(t)?null:Ew(Fe,Rt,R);fe.push(Ai)}null!==Fe&&(Fe.hasOwnProperty("class")&&(t.flags|=8),Fe.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=fe,t.inputs=Fe,t.outputs=dt}(e,n,_)}function yb(e,t,n){const o=n.directiveStart,a=n.directiveEnd,_=n.index,R=function Mf(){return en.lFrame.currentDirectiveIndex}();try{us(_);for(let fe=o;fe<a;fe++){const Fe=e.data[fe],dt=t[fe];Ac(fe),(null!==Fe.hostBindings||0!==Fe.hostVars||null!==Fe.hostAttrs)&&fw(Fe,dt)}}finally{us(-1),Ac(R)}}function fw(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sv(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function gw(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;bc(t)&&(n[""]=e)}}function vw(e,t,n,o,a){e.data[o]=a;const _=a.factory||(a.factory=_s(a.type)),R=new Kl(_,bc(a),Mi);e.blueprint[o]=R,n[o]=R,function uw(e,t,n,o,a){const _=a.hostBindings;if(_){let R=e.hostBindingOpCodes;null===R&&(R=e.hostBindingOpCodes=[]);const fe=~t.index;(function dw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(R)!=fe&&R.push(fe),R.push(n,o,_)}}(e,t,o,Vs(e,n,a.hostVars,Xn),a)}function av(e,t,n,o,a,_,R){if(null==_)e.removeAttribute(t,a,n);else{const fe=null==R?Gt(_):R(_,o||"",a);e.setAttribute(t,a,fe,n)}}function bw(e,t,n,o,a,_){const R=_[t];if(null!==R)for(let fe=0;fe<R.length;)Eo(o,n,R[fe++],R[fe++],R[fe++],R[fe++])}function Ew(e,t,n){let o=null,a=0;for(;a<n.length;){const _=n[a];if(0!==_)if(5!==_){if("number"==typeof _)break;if(e.hasOwnProperty(_)){null===o&&(o=[]);const R=e[_];for(let fe=0;fe<R.length;fe+=3)if(R[fe]===t){o.push(_,R[fe+1],R[fe+2],n[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function bb(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Eb(e,t){const n=e.contentQueries;if(null!==n){const o=h(null);try{for(let a=0;a<n.length;a+=2){const R=n[a+1];if(-1!==R){const fe=e.data[R];jl(n[a]),fe.contentQueries(2,t[R],R)}}}finally{h(o)}}}function jg(e,t){return e[ll]?e[uc][Us]=t:e[ll]=t,e[uc]=t,t}function cv(e,t,n){jl(0);const o=h(null);try{t(e,n)}finally{h(o)}}function Ab(e){return e[aa]??=[]}function Cb(e){return e.cleanup??=[]}function wb(e,t,n){return(null===e||bc(e))&&(n=function Fu(e){for(;Array.isArray(e);){if("object"==typeof e[ql])return e;e=e[Di]}return null}(n[t.index])),n[jo]}function Kg(e,t){const n=e[Ns],o=n?n.get(Na,null):null;o&&o.handleError(t)}function lv(e,t,n,o,a){for(let _=0;_<n.length;){const R=n[_++],fe=n[_++],Fe=n[_++];Eo(e.data[R],t[R],o,fe,Fe,a)}}function Pd(e,t,n){const o=Ca(t,e);Rg(e[jo],o,n)}function Aw(e,t){const n=Ga(t,e),o=n[Zr];!function Cw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n);const a=n[Di];null!==a&&null===n[ta]&&(n[ta]=or(a,n[Ns])),uv(o,n,n[hs])}function uv(e,t,n){Nu(t);try{const o=e.viewQuery;null!==o&&cv(1,o,n);const a=e.template;null!==a&&qs(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ka]?.finishViewCreation(e),e.staticContentQueries&&Eb(e,t),e.staticViewQueries&&cv(2,e.viewQuery,n);const _=e.components;null!==_&&function ww(e,t){for(let n=0;n<t.length;n++)Aw(e,t[n])}(t,_)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[so]&=-5,el()}}function pp(e,t,n,o){const a=h(null);try{const _=t.tView,Fe=is(e,_,n,4096&e[so]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);Fe[_c]=e[t.index];const Rt=e[ka];return null!==Rt&&(Fe[ka]=Rt.createEmbeddedView(_)),uv(_,Fe,n),Fe}finally{h(a)}}function xb(e,t){const n=ma+t;if(n<e.length)return e[n]}function pf(e,t){return!t||null===t.firstChild||Wu(e)}function mp(e,t,n,o=!0){const a=t[Zr];if(function nv(e,t,n,o){const a=ma+o,_=n.length;o>0&&(n[a-1][Us]=t),o<_-ma?(t[Us]=n[a],Wn(n,ma+o,t)):(n.push(t),t[Us]=null),t[cs]=n;const R=t[_c];null!==R&&n!==R&&Mm(R,t);const fe=t[ka];null!==fe&&fe.insertView(e),ee(t),t[so]|=128}(a,t,e,n),o){const R=Om(n,e),fe=t[jo],Fe=Rm(fe,e[hc]);null!==Fe&&function ev(e,t,n,o,a,_){o[Di]=a,o[As]=t,fp(e,o,n,1,a,_)}(a,e[As],fe,t,Fe,R)}const _=t[ta];null!==_&&null!==_.firstChild&&(_.firstChild=null)}function dv(e,t){const n=df(e,t);return void 0!==n&&dp(n[Zr],n),n}function Fm(e,t,n,o,a=!1){for(;null!==n;){if(128===n.type){n=a?n.projectionNext:n.next;continue}const _=t[n.index];null!==_&&o.push(Xs(_)),Ta(_)&&Mb(_,o);const R=n.type;if(8&R)Fm(e,t,n.child,o);else if(32&R){const fe=lf(n,t);let Fe;for(;Fe=fe();)o.push(Fe)}else if(16&R){const fe=Ug(t,n);if(Array.isArray(fe))o.push(...fe);else{const Fe=tn(t[Ws]);Fm(Fe[Zr],Fe,fe,o,!0)}}n=a?n.projectionNext:n.next}return o}function Mb(e,t){for(let n=ma;n<e.length;n++){const o=e[n],a=o[Zr].firstChild;null!==a&&Fm(o[Zr],o,a,t)}e[hc]!==e[Di]&&t.push(e[hc])}let Tb=[];const Dw={...z,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ze(e.lView)},consumerOnSignalRead(){this.lView[va]=this}},Rw={...z,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=tn(e.lView);for(;t&&!Db(t[Zr]);)t=tn(t);t&&Bu(t)},consumerOnSignalRead(){this.lView[va]=this}};function Db(e){return 2!==e.type}const Iw=100;function Hg(e,t=!0,n=0){const o=e[ya],a=o.rendererFactory;a.begin?.();try{!function Ow(e,t){const n=wf();try{Vl(!0),hv(e,t);let o=0;for(;p(e);){if(o===Iw)throw new x(103,!1);o++,hv(e,1)}}finally{Vl(n)}}(e,n)}catch(R){throw t&&Kg(e,R),R}finally{a.end?.(),o.inlineEffectRunner?.flush()}}function Pw(e,t,n,o){const a=t[so];if(!(256&~a))return;t[ya].inlineEffectRunner?.flush(),Nu(t);let fe=!0,Fe=null,dt=null;Db(e)?(dt=function xw(e){return e[va]??function Mw(e){const t=Tb.pop()??Object.create(Dw);return t.lView=e,t}(e)}(t),Fe=W(dt)):null===U()?(fe=!1,dt=function Sw(e){const t=e[va]??Object.create(Rw);return t.lView=e,t}(t),Fe=W(dt)):t[va]&&(Ie(t[va]),t[va]=null);try{Cl(t),function xf(e){return en.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&qs(e,t,n,2,o);const Rt=!(3&~a);if(Rt){const ir=e.preOrderCheckHooks;null!==ir&&ud(t,ir,null)}else{const ir=e.preOrderHooks;null!==ir&&Nd(t,ir,0,null),Uu(t,0)}if(function Fw(e){for(let t=Hh(e);null!==t;t=zh(t)){if(!(t[so]&Ll.HasTransplantedViews))continue;const n=t[Ua];for(let o=0;o<n.length;o++)Bu(n[o])}}(t),Rb(t,0),null!==e.contentQueries&&Eb(e,t),Rt){const ir=e.contentCheckHooks;null!==ir&&ud(t,ir)}else{const ir=e.contentHooks;null!==ir&&Nd(t,ir,1),Uu(t,1)}!function zo(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)us(~a);else{const _=a,R=n[++o],fe=n[++o];ph(R,_),fe(2,t[_])}}}finally{us(-1)}}(e,t);const yn=e.components;null!==yn&&Ob(t,yn,0);const Yn=e.viewQuery;if(null!==Yn&&cv(2,Yn,o),Rt){const ir=e.viewCheckHooks;null!==ir&&ud(t,ir)}else{const ir=e.viewHooks;null!==ir&&Nd(t,ir,2),Uu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Nc]){for(const ir of t[Nc])ir();t[Nc]=null}t[so]&=-73}catch(Rt){throw ze(t),Rt}finally{null!==dt&&(se(dt,Fe),fe&&function Tw(e){e.lView[va]!==e&&(e.lView=null,Tb.push(e))}(dt)),el()}}function Rb(e,t){for(let n=Hh(e);null!==n;n=zh(n))for(let o=ma;o<n.length;o++)Ib(n[o],t)}function kw(e,t,n){Ib(Ga(t,e),n)}function Ib(e,t){Rc(e)&&hv(e,t)}function hv(e,t){const o=e[Zr],a=e[so],_=e[va];let R=!!(0===t&&16&a);if(R||=!!(64&a&&0===t),R||=!!(1024&a),R||=!(!_?.dirty||!Q(_)),R||=!1,_&&(_.dirty=!1),e[so]&=-9217,R)Pw(o,e,o.template,e[hs]);else if(8192&a){Rb(e,1);const fe=o.components;null!==fe&&Ob(e,fe,1)}}function Ob(e,t,n){for(let o=0;o<t.length;o++)kw(e,t[o],n)}function km(e,t){const n=wf()?64:1088;for(e[ya].changeDetectionScheduler?.notify(t);e;){e[so]|=n;const o=tn(e);if(nc(e)&&!o)return e;e=o}return null}class Bm{get rootNodes(){const t=this._lView,n=t[Zr];return Fm(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hs]}set context(t){this._lView[hs]=t}get destroyed(){return!(256&~this._lView[so])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[cs];if(Ta(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(df(t,o),er(n,o))}this._attachedToViewContainer=!1}dp(this._lView[Zr],this._lView)}onDestroy(t){ut(this._lView,t)}markForCheck(){km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[so]&=-129}reattach(){ee(this._lView),this._lView[so]|=128}detectChanges(){this._lView[so]|=1024,Hg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=nc(this._lView),n=this._lView[_c];null!==n&&!t&&Tm(n,this._lView),Ig(this._lView[Zr],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=t;const n=nc(this._lView),o=this._lView[_c];null!==o&&!n&&Mm(o,this._lView),ee(this._lView)}}let Nm=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Lw}return e})();const Bw=Nm,Nw=class extends Bw{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){const a=pp(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new Bm(a)}};function Lw(){return zg(lo(),mr())}function zg(e,t){return 4&e.type?new Nw(t,e,Yl(e,t)):null}function kb(e,t,n){const o=t.insertBeforeIndex,a=Array.isArray(o)?o[0]:o;return null===a?Bg(e,0,n):Xs(n[a])}function Bb(e,t,n,o,a){const _=t.insertBeforeIndex;if(Array.isArray(_)){let R=o,fe=null;if(3&t.type||(fe=R,R=a),null!==R&&-1===t.componentOffset)for(let Fe=1;Fe<_.length;Fe++)Id(e,R,n[_[Fe]],fe,!1)}}function Nb(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];Lb(o)||Ww(o,t)&&null===Xw(o)&&Yw(o,t.index)}}function Lb(e){return!(64&e.type)}function Ww(e,t){return Lb(t)||e.index>t.index}function Xw(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Yw(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Lg(kb,Bb),e.insertBeforeIndex=t)}function Gm(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Zw(e,t,n){const o=ss(e,n,64,null,null);return Nb(t,o),o}function Wg(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Ub(e){return e>>>17}function Vb(e){return(131070&e)>>>1}function gv(e,t,n){e.index=0;const o=Wg(t,n);e.removes=null!==o?t.remove[o]:rr}function Xg(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),gv(e,e.lView[Zr].data[~t],e.lView),Xg(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),Xg(e))}function ex(){const e={stack:[],index:-1};return function t(n,o){for(e.lView=o;e.stack.length;)e.stack.pop();return gv(e,n.value,o),Xg.bind(null,e)}}let Xb=()=>{},Qb=()=>{},qb=()=>null;function gf(e,t){return qb(e,t)}class _p{}const zm=new _r("",{providedIn:"root",factory:()=>!1}),e0=new _r(""),Cv=new _r("");class Rx{}class t0{}class Ox{resolveComponentFactory(t){throw function Ix(e){const t=Error(`No component factory found for ${In(e)}.`);return t.ngComponent=e,t}(t)}}class $m{static#e=this.NULL=new Ox}class wv{}let Px=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Fx(){const e=mr(),n=Ga(lo().index,e);return(Jo(n)?n:e)[jo]}()}return e})(),kx=(()=>{class e{static#e=this.\u0275prov=li({token:e,providedIn:"root",factory:()=>null})}return e})();function lh(e){return!!pr(e)}function Zg(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,_=0;if(null!==t)for(let R=0;R<t.length;R++){const fe=t[R];"number"==typeof fe?_=fe:1==_?a=Un(a,fe):2==_&&(o=Un(o,fe+": "+t[++R]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}class s0 extends $m{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Wt(t);return new Ym(n,this.ngModule)}}function a0(e,t){const n=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const _=Array.isArray(a),R=_?a[0]:a;n.push(t?{propName:R,templateName:o,isSignal:!!((_?a[1]:ho.None)&ho.SignalBased)}:{propName:R,templateName:o})}return n}class Ym extends t0{get inputs(){const t=this.componentDef,n=t.inputTransforms,o=a0(t.inputs,!0);if(null!==n)for(const a of o)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return o}get outputs(){return a0(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Gr(e){return e.map(hi).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,a){const _=h(null);try{let R=(a=a||this.ngModule)instanceof Gs?a:a?.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const fe=R?new Rl(t,R):t,Fe=fe.get(wv,null);if(null===Fe)throw new x(407,!1);const yn={rendererFactory:Fe,sanitizer:fe.get(kx,null),inlineEffectRunner:null,changeDetectionScheduler:fe.get(_p,null)},Yn=Fe.createRenderer(null,this.componentDef),ir=this.componentDef.selectors[0][0]||"div",xr=o?function Gg(e,t,n,o){const _=o.get(Qa,!1)||n===to.ShadowDom,R=e.selectRootElement(t,_);return function tw(e){mb(e)}(R),R}(Yn,o,this.componentDef.encapsulation,fe):up(Yn,ir,function Lx(e){const t=e.toLowerCase();return"svg"===t?Pu:"math"===t?"math":null}(ir));let Ai=512;this.componentDef.signals?Ai|=4096:this.componentDef.onPush||(Ai|=16);let ro=null;null!==xr&&(ro=or(xr,fe,!0));const uo=bl(0,null,null,1,0,null,null,null,null,null,null),vi=is(null,uo,null,Ai,null,null,yn,Yn,fe,null,ro);Nu(vi);let bs,ua,Da=null;try{const lc=this.componentDef;let Nl,Vp=null;lc.findHostDirectiveDefs?(Nl=[],Vp=new Map,lc.findHostDirectiveDefs(lc,Nl,Vp),Nl.push(lc)):Nl=[lc];const ew=function Vx(e,t){const n=e[Zr],o=Bi;return e[o]=t,ys(n,o,2,"#host",null)}(vi,xr);Da=function Gx(e,t,n,o,a,_,R){const fe=a[Zr];!function jx(e,t,n,o){for(const a of e)t.mergedAttrs=Yo(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Zg(t,t.mergedAttrs,!0),null!==n&&Zn(o,n,t))}(o,e,t,R);let Fe=null;null!==t&&(Fe=or(t,a[Ns]));const dt=_.rendererFactory.createRenderer(t,n);let Rt=16;n.signals?Rt=4096:n.onPush&&(Rt=64);const yn=is(a,za(n),null,Rt,a[e.index],e,_,dt,null,null,Fe);return fe.firstCreatePass&&sv(fe,e,o.length-1),jg(a,yn),a[e.index]=yn}(ew,xr,lc,Nl,vi,yn,Yn),ua=Wa(uo,Bi),xr&&function Hx(e,t,n,o){if(o)_o(e,n,["ng-version","18.2.12"]);else{const{attrs:a,classes:_}=function et(e){const t=[],n=[];let o=1,a=2;for(;o<e.length;){let _=e[o];if("string"==typeof _)2===a?""!==_&&t.push(_,e[++o]):8===a&&n.push(_);else{if(!ie(a))break;a=_}o++}return{attrs:t,classes:n}}(t.selectors[0]);a&&_o(e,n,a),_&&_.length>0&&An(e,n,_.join(" "))}}(Yn,lc,xr,o),void 0!==n&&function zx(e,t,n){const o=e.projection=[];for(let a=0;a<t.length;a++){const _=n[a];o.push(null!=_?Array.from(_):null)}}(ua,this.ngContentSelectors,n),bs=function Kx(e,t,n,o,a,_){const R=lo(),fe=a[Zr],Fe=Va(R,a);vb(fe,a,R,n,null,o);for(let Rt=0;Rt<n.length;Rt++)oc(Wl(a,fe,R.directiveStart+Rt,R),a);yb(fe,a,R),Fe&&oc(Fe,a);const dt=Wl(a,fe,R.directiveStart+R.componentOffset,R);if(e[hs]=a[hs]=dt,null!==_)for(const Rt of _)Rt(dt,t);return Yc(fe,R,a),dt}(Da,lc,Nl,Vp,vi,[$x]),uv(uo,vi,null)}catch(lc){throw null!==Da&&Uh(Da),Uh(vi),lc}finally{el()}return new Ux(this.componentType,bs,Yl(ua,vi),vi,ua)}finally{h(_)}}}class Ux extends Rx{constructor(t,n,o,a,_){super(),this.location=o,this._rootLView=a,this._tNode=_,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Bm(a,void 0,!1),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const _=this._rootLView;lv(_[Zr],_,a,t,n),this.previousInputValues.set(t,n),km(Ga(this._tNode.index,_),1)}}get injector(){return new Ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $x(){const e=lo();jc(mr()[Zr],e)}let qg=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Wx}return e})();function Wx(){return u0(lo(),mr())}const Xx=qg,c0=class extends Xx{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return Yl(this._hostTNode,this._hostLView)}get injector(){return new Ya(this._hostTNode,this._hostLView)}get parentInjector(){const t=hu(this._hostTNode,this._hostLView);if(bh(t)){const n=uu(t,this._hostLView),o=lu(t);return new Ya(n[Zr].data[o+8],n)}return new Ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=l0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ma}createEmbeddedView(t,n,o){let a,_;"number"==typeof o?a=o:null!=o&&(a=o.index,_=o.injector);const R=gf(this._lContainer,t.ssrId),fe=t.createEmbeddedViewImpl(n||{},_,R);return this.insertImpl(fe,a,pf(this._hostTNode,R)),fe}createComponent(t,n,o,a,_){const R=t&&!function Ze(e){return"function"==typeof e}(t);let fe;if(R)fe=n;else{const xr=n||{};fe=xr.index,o=xr.injector,a=xr.projectableNodes,_=xr.environmentInjector||xr.ngModuleRef}const Fe=R?t:new Ym(Wt(t)),dt=o||this.parentInjector;if(!_&&null==Fe.ngModule){const Ai=(R?dt:this.parentInjector).get(Gs,null);Ai&&(_=Ai)}const Rt=Wt(Fe.componentType??{}),yn=gf(this._lContainer,Rt?.id??null),ir=Fe.create(dt,a,yn?.firstChild??null,_);return this.insertImpl(ir.hostView,fe,pf(this._hostTNode,yn)),ir}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){const a=t._lView;if(function Za(e){return Ta(e[cs])}(a)){const fe=this.indexOf(t);if(-1!==fe)this.detach(fe);else{const Fe=a[cs],dt=new c0(Fe,Fe[As],Fe[cs]);dt.detach(dt.indexOf(t))}}const _=this._adjustIndex(n),R=this._lContainer;return mp(R,a,_,o),t.attachToViewContainerRef(),Wn(Tv(R),_,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=l0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=df(this._lContainer,n);o&&(er(Tv(this._lContainer),n),dp(o[Zr],o))}detach(t){const n=this._adjustIndex(t,-1),o=df(this._lContainer,n);return o&&null!=er(Tv(this._lContainer),n)?new Bm(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function l0(e){return e[8]}function Tv(e){return e[8]||(e[8]=[])}function u0(e,t){let n;const o=t[e.index];return Ta(o)?n=o:(n=bb(o,t,null,e),t[e.index]=n,jg(t,n)),d0(n,t,e,o),new c0(n,e,t)}let d0=function f0(e,t,n,o){if(e[hc])return;let a;a=8&n.type?Xs(o):function Yx(e,t){const n=e[jo],o=n.createComment(""),a=Va(t,e);return Id(n,Rm(n,a),o,function iv(e,t){return e.nextSibling(t)}(n,a),!1),o}(t,n),e[hc]=a},Dv=()=>!1;class Sv{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let _=0;_<o;_++){const R=n.getByIndex(_);a.push(this.queries[R.indexInDeclarationView].clone())}return new Rv(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==kv(t,n).matches&&this.queries[n].setDirty()}}class p0{constructor(t,n,o=null){this.flags=n,this.read=o,this.predicate="string"==typeof t?function rM(e){return e.split(",").map(t=>t.trim())}(t):t}}class Iv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const a=null!==n?n.length:0,_=this.getByIndex(o).embeddedTView(t,a);_&&(_.indexInDeclarationView=o,null!==n?n.push(_):n=[_])}return null!==n?new Iv(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ov{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Ov(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const _=o[a];this.matchTNodeWithReadOption(t,n,qx(n,_)),this.matchTNodeWithReadOption(t,n,Gd(n,t,_,!1,!1))}else o===Nm?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Gd(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===zu||a===qg||a===Nm&&4&n.type)this.addMatch(n.index,-2);else{const _=Gd(n,t,a,!1,!1);null!==_&&this.addMatch(n.index,_)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function qx(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function tM(e,t,n,o){return-1===n?function eM(e,t){return 11&e.type?Yl(e,t):4&e.type?zg(e,t):null}(t,e):-2===n?function nM(e,t,n){return n===zu?Yl(t,e):n===Nm?zg(t,e):n===qg?u0(t,e):void 0}(e,t,o):Wl(e,e[Zr],n,t)}function m0(e,t,n,o){const a=t[ka].queries[o];if(null===a.matches){const _=e.data,R=n.matches,fe=[];for(let Fe=0;null!==R&&Fe<R.length;Fe+=2){const dt=R[Fe];fe.push(dt<0?null:tM(t,_[dt],R[Fe+1],n.metadata.read))}a.matches=fe}return a.matches}function Pv(e,t,n,o){const a=e.queries.getByIndex(n),_=a.matches;if(null!==_){const R=m0(e,t,a,n);for(let fe=0;fe<_.length;fe+=2){const Fe=_[fe];if(Fe>0)o.push(R[fe/2]);else{const dt=_[fe+1],Rt=t[-Fe];for(let yn=ma;yn<Rt.length;yn++){const Yn=Rt[yn];Yn[_c]===Yn[cs]&&Pv(Yn[Zr],Yn,dt,o)}if(null!==Rt[Ua]){const yn=Rt[Ua];for(let Yn=0;Yn<yn.length;Yn++){const ir=yn[Yn];Pv(ir[Zr],ir,dt,o)}}}}}return o}function Fv(e,t){return e[ka].queries[t].queryList}function g0(e,t,n){const o=new bd(!(4&~n));return function iw(e,t,n,o){const a=Ab(t);a.push(n),e.firstCreatePass&&Cb(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[ka]??=new Rv).queries.push(new Sv(o))-1}function _0(e,t,n){const o=yo();return o.firstCreatePass&&(y0(o,new p0(e,t,n),-1),!(2&~t)&&(o.staticViewQueries=!0)),g0(o,mr(),t)}function y0(e,t,n){null===e.queries&&(e.queries=new Iv),e.queries.track(new Ov(t,n))}function kv(e,t){return e.queries.getByIndex(t)}function b0(e,t){const n=e[Zr],o=kv(n,t);return o.crossesNgTemplate?Pv(n,e,t,[]):m0(n,e,o,t)}const E0=new Set;function El(e){E0.has(e)||(E0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Bv(e){return"function"==typeof e&&void 0!==e[D]}function A0(e,t){El("NgSignals");const n=function We(e){const t=Object.create(Ce);t.value=e;const n=()=>(B(t),t.value);return n[D]=t,n}(e),o=n[D];return t?.equal&&(o.equal=t.equal),n.set=a=>wt(o,a),n.update=a=>function kt(e,t){J()||Oe(),wt(e,t(e.value))}(o,a),n.asReadonly=C0.bind(n),n}function C0(){const e=this[D];if(void 0===e.readonlyFn){const t=()=>this();t[D]=e,e.readonlyFn=t}return e.readonlyFn}function w0(e){return Bv(e)&&"function"==typeof e.set}function Nv(e,t){let n;const o=Ne(()=>{n._dirtyCounter();const a=function oM(e,t){const n=e._lView,o=e._queryIndex;if(void 0===n||void 0===o||4&n[so])return t?void 0:rr;const a=Fv(n,o),_=b0(n,o);return a.reset(_,Bh),t?a.first:a._changesDetected||void 0===e._flatValue?e._flatValue=a.toArray():e._flatValue}(n,e);if(t&&void 0===a)throw new x(-951,!1);return a});return n=o[D],n._dirtyCounter=A0(0),n._flatValue=void 0,o}function S0(e,t){return function x0(){return Nv(!0,!1)}()}const aM=(S0.required=function sM(e,t){return function M0(){return Nv(!0,!0)}()},S0);function cM(e,t){return function T0(){return Nv(!1,!1)}()}function R0(e){const t=Object.create(ke),n=new Vf;function o(){return B(t),I0(t.value),t.value}return t.value=e,o[D]=t,o.asReadonly=C0.bind(o),o.set=a=>{t.equal(t.value,a)||(wt(t,a),n.emit(a))},o.update=a=>{I0(t.value),o.set(a(t.value))},o.subscribe=n.subscribe.bind(n),o.destroyRef=n.destroyRef,o}function I0(e){if(e===Te)throw new x(952,!1)}function O0(e){return R0(e)}const uM=(O0.required=function lM(){return R0(Te)},O0);function Lv(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let a;if(bc(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new x(903,!1);a=t.\u0275dir}if(a){if(n){o.push(a);const R=e;R.inputs=t_(e.inputs),R.inputTransforms=t_(e.inputTransforms),R.declaredInputs=t_(e.declaredInputs),R.outputs=t_(e.outputs);const fe=a.hostBindings;fe&&CM(e,fe);const Fe=a.viewQuery,dt=a.contentQueries;if(Fe&&EM(e,Fe),dt&&AM(e,dt),yM(e,a),vn(e.outputs,a.outputs),bc(a)&&a.data.animation){const Rt=e.data;Rt.animation=(Rt.animation||[]).concat(a.data.animation)}}const _=a.features;if(_)for(let R=0;R<_.length;R++){const fe=_[R];fe&&fe.ngInherit&&fe(e),fe===Lv&&(n=!1)}}t=Object.getPrototypeOf(t)}!function bM(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Yo(a.hostAttrs,n=Yo(n,a.hostAttrs))}}(o)}function yM(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const o=t.inputs[n];if(void 0!==o&&(e.inputs[n]=o,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const a=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function t_(e){return e===Er?{}:e===rr?[]:e}function EM(e,t){const n=e.viewQuery;e.viewQuery=n?(o,a)=>{t(o,a),n(o,a)}:t}function AM(e,t){const n=e.contentQueries;e.contentQueries=n?(o,a,_)=>{t(o,a,_),n(o,a,_)}:t}function CM(e,t){const n=e.hostBindings;e.hostBindings=n?(o,a)=>{t(o,a),n(o,a)}:t}function L0(e){const t=n=>{const o=Array.isArray(e);null===n.hostDirectives?(n.findHostDirectiveDefs=U0,n.hostDirectives=o?e.map(Uv):[e]):o?n.hostDirectives.unshift(...e.map(Uv)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function U0(e,t,n){if(null!==e.hostDirectives)for(const o of e.hostDirectives)if("function"==typeof o){const a=o();for(const _ of a)V0(Uv(_),t,n)}else V0(o,t,n)}function V0(e,t,n){const o=ln(e.directive);(function TM(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(o.declaredInputs,e.inputs),U0(o,t,n),n.set(o,e),t.push(o)}function Uv(e){return"function"==typeof e?{directive:cn(e),inputs:Er,outputs:Er}:{directive:cn(e.directive),inputs:G0(e.inputs),outputs:G0(e.outputs)}}function G0(e){if(void 0===e||0===e.length)return Er;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function K0(e){const t=e.inputConfig,n={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(n[o]=a[3])}e.inputTransforms=n}class _f{}class H0{}function DM(e,t){return new Vv(e,t??null,[])}class Vv extends _f{constructor(t,n,o,a=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s0(this);const _=pr(t);this._bootstrapComponents=yl(_.bootstrap),this._r3Injector=vd(t,n,[{provide:_f,useValue:this},{provide:$m,useValue:this.componentFactoryResolver},...o],In(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Gv extends H0{constructor(t){super(),this.moduleType=t}create(t){return new Vv(this.moduleType,t,[])}}class z0 extends _f{constructor(t){super(),this.componentFactoryResolver=new s0(this),this.instance=null;const n=new oa([...t.providers,{provide:_f,useValue:this},{provide:$m,useValue:this.componentFactoryResolver}],t.parent||Ea(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jv(e,t,n=null){return new z0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function n_(e){return!!Kv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Kv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ed(e,t,n){return e[t]=n}function Jm(e,t){return e[t]}function sc(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vf(e,t,n,o){const a=sc(e,t,n);return sc(e,t+1,o)||a}function r_(e,t,n,o,a){const _=vf(e,t,n,o);return sc(e,t+2,a)||_}function su(e,t,n,o,a,_){const R=vf(e,t,n,o);return vf(e,t+2,a,_)||R}function Zm(e,t,n,o,a,_,R,fe,Fe,dt){const Rt=n+Bi,yn=t.firstCreatePass?function FM(e,t,n,o,a,_,R,fe,Fe){const dt=t.consts,Rt=ys(t,e,4,R||null,fe||null);ov(t,n,Rt,qa(dt,Fe)),jc(t,Rt);const yn=Rt.tView=bl(2,Rt,o,a,_,t.directiveRegistry,t.pipeRegistry,null,t.schemas,dt,null);return null!==t.queries&&(t.queries.template(t,Rt),yn.queries=t.queries.embeddedTView(Rt)),Rt}(Rt,t,e,o,a,_,R,fe,Fe):t.data[Rt];Cs(yn,!1);const Yn=$0(t,e,yn,n);fl()&&hp(t,e,Yn,yn),oc(Yn,e);const ir=bb(Yn,e,Yn,yn);return e[Rt]=ir,jg(e,ir),function h0(e,t,n){return Dv(e,t,n)}(ir,yn,e),Ko(yn)&&xc(t,e,yn),null!=Fe&&Qc(e,yn,dt),yn}function Hv(e,t,n,o,a,_,R,fe){const Fe=mr(),dt=yo();return Zm(Fe,dt,e,t,n,o,a,qa(dt.consts,_),R,fe),Hv}let $0=function W0(e,t,n,o){return pl(!0),t[jo].createComment("")};function LM(e,t){if(null!==U())throw new x(-602,!1)}var yf=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(yf||{});let q0=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=li({token:e,providedIn:"root",factory:()=>new e})}return e})();class tg{constructor(){this.ngZone=Pi(wa),this.scheduler=Pi(_p),this.errorHandler=Pi(Na,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[yf.EarlyRead,yf.Write,yf.MixedReadWrite,yf.Read];execute(){this.executing=!0;for(const t of tg.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(o){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static#t=this.\u0275prov=li({token:tg,providedIn:"root",factory:()=>new tg})}class UM{constructor(t,n,o,a){this.impl=t,this.hooks=n,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function eE(e,t){!t?.injector&&Ds();const n=t?.injector??Pi(Oa);return Xc(n)?(El("NgAfterRender"),tE(e,n,t,!1)):nE}function a_(e,t){!t?.injector&&Ds();const n=t?.injector??Pi(Oa);return Xc(n)?(El("NgAfterNextRender"),tE(e,n,t,!0)):nE}function tE(e,t,n,o){const a=t.get(q0);a.impl??=t.get(tg);const _=n?.phase??yf.MixedReadWrite,R=!0!==n?.manualCleanup?t.get(Kc):null,fe=new UM(a.impl,function VM(e,t){if(e instanceof Function){const n=[void 0,void 0,void 0,void 0];return n[t]=e,n}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,_),o,R);return a.impl.register(fe),fe}const nE={destroy(){}};function ty(e,t,n,o){const a=mr();return sc(a,Fa(),t)&&(yo(),function qu(e,t,n,o,a,_){const R=Va(e,t);av(t[jo],R,_,e.value,n,o,a)}(fa(),a,e,t,n,o)),ty}function Tp(e,t,n,o){return sc(e,Fa(),n)?t+Gt(n)+o:Xn}function u_(e,t){return e<<17|t<<2}function hh(e){return e>>17&32767}function ny(e){return 2|e}function Ef(e){return(131068&e)>>2}function ry(e,t){return-131069&e|t<<2}function iy(e){return 1|e}function DE(e,t,n,o){const a=e[n+1],_=null===t;let R=o?hh(a):Ef(a),fe=!1;for(;0!==R&&(!1===fe||_);){const dt=e[R+1];AT(e[R],t)&&(fe=!0,e[R+1]=o?iy(dt):ny(dt)),R=o?hh(dt):Ef(dt)}fe&&(e[n+1]=o?ny(a):iy(a))}function AT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&an(e,t)>=0}const Mc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SE(e){return e.substring(Mc.key,Mc.keyEnd)}function CT(e){return e.substring(Mc.value,Mc.valueEnd)}function RE(e,t){const n=Mc.textEnd;return n===t?-1:(t=Mc.keyEnd=function MT(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Mc.key=t,n),kp(e,t,n))}function IE(e,t){const n=Mc.textEnd;let o=Mc.key=kp(e,t,n);return n===o?-1:(o=Mc.keyEnd=function TT(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=PE(e,o,n),o=Mc.value=kp(e,o,n),o=Mc.valueEnd=function DT(e,t,n){let o=-1,a=-1,_=-1,R=t,fe=R;for(;R<n;){const Fe=e.charCodeAt(R++);if(59===Fe)return fe;34===Fe||39===Fe?fe=R=FE(e,Fe,R,n):t===R-4&&85===_&&82===a&&76===o&&40===Fe?fe=R=FE(e,41,R,n):Fe>32&&(fe=R),_=a,a=o,o=-33&Fe}return fe}(e,o,n),PE(e,o,n))}function OE(e){Mc.key=0,Mc.keyEnd=0,Mc.value=0,Mc.valueEnd=0,Mc.textEnd=e.length}function kp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function PE(e,t,n,o){return(t=kp(e,t,n))<n&&t++,t}function FE(e,t,n,o){let a=-1,_=n;for(;_<o;){const R=e.charCodeAt(_++);if(R==t&&92!==a)return _;a=92==R&&92===a?0:R}throw new Error}function oy(e,t,n){const o=mr();return sc(o,Fa(),t)&&kl(yo(),fa(),o,e,t,o[jo],n,!1),oy}function sy(e,t,n,o,a){const R=a?"class":"style";lv(e,n,t.inputs[R],R,o)}function ay(e,t,n){return Iu(e,t,n,!1),ay}function cy(e,t){return Iu(e,t,null,!0),cy}function Ru(e){Ou(LE,ST,e,!1)}function ST(e,t){for(let n=function xT(e){return OE(e),IE(e,kp(e,0,Mc.textEnd))}(t);n>=0;n=IE(t,n))LE(e,SE(t),CT(t))}function kE(e){Ou(kT,td,e,!0)}function td(e,t){for(let n=function wT(e){return OE(e),RE(e,kp(e,0,Mc.textEnd))}(t);n>=0;n=RE(t,n))zi(e,SE(t),!0)}function Iu(e,t,n,o){const a=mr(),_=yo(),R=Gl(2);_.firstUpdatePass&&NE(_,e,R,o),t!==Xn&&sc(a,R,t)&&UE(_,_.data[Ba()],a,a[jo],e,a[R+1]=function NT(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=In(Ql(e)))),e}(t,n),o,R)}function Ou(e,t,n,o){const a=yo(),_=Gl(2);a.firstUpdatePass&&NE(a,null,_,o);const R=mr();if(n!==Xn&&sc(R,_,n)){const fe=a.data[Ba()];if(GE(fe,o)&&!BE(a,_)){let Fe=o?fe.classesWithoutHost:fe.stylesWithoutHost;null!==Fe&&(n=Un(Fe,n||"")),sy(a,fe,R,n,o)}else!function BT(e,t,n,o,a,_,R,fe){a===Xn&&(a=rr);let Fe=0,dt=0,Rt=0<a.length?a[0]:null,yn=0<_.length?_[0]:null;for(;null!==Rt||null!==yn;){const Yn=Fe<a.length?a[Fe+1]:void 0,ir=dt<_.length?_[dt+1]:void 0;let Ai,xr=null;Rt===yn?(Fe+=2,dt+=2,Yn!==ir&&(xr=yn,Ai=ir)):null===yn||null!==Rt&&Rt<yn?(Fe+=2,xr=Rt):(dt+=2,xr=yn,Ai=ir),null!==xr&&UE(e,t,n,o,xr,Ai,R,fe),Rt=Fe<a.length?a[Fe]:null,yn=dt<_.length?_[dt]:null}}(a,fe,R,R[jo],R[_+1],R[_+1]=function FT(e,t,n){if(null==n||""===n)return rr;const o=[],a=Ql(n);if(Array.isArray(a))for(let _=0;_<a.length;_++)e(o,a[_],!0);else if("object"==typeof a)for(const _ in a)a.hasOwnProperty(_)&&e(o,_,a[_]);else"string"==typeof a&&t(o,a);return o}(e,t,n),o,_)}}function BE(e,t){return t>=e.expandoStartIndex}function NE(e,t,n,o){const a=e.data;if(null===a[n+1]){const _=a[Ba()],R=BE(e,n);GE(_,o)&&null===t&&!R&&(t=!1),t=function RT(e,t,n,o){const a=Ml(e);let _=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(n=rg(n=ly(null,e,t,n,o),t.attrs,o),_=null);else{const R=t.directiveStylingLast;if(-1===R||e[R]!==a)if(n=ly(a,e,t,n,o),null===_){let Fe=function IT(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Ef(o))return e[hh(o)]}(e,t,o);void 0!==Fe&&Array.isArray(Fe)&&(Fe=ly(null,e,t,Fe[1],o),Fe=rg(Fe,t.attrs,o),function OT(e,t,n,o){e[hh(n?t.classBindings:t.styleBindings)]=o}(e,t,o,Fe))}else _=function PT(e,t,n){let o;const a=t.directiveEnd;for(let _=1+t.directiveStylingLast;_<a;_++)o=rg(o,e[_].hostAttrs,n);return rg(o,t.attrs,n)}(e,t,o)}return void 0!==_&&(o?t.residualClasses=_:t.residualStyles=_),n}(a,_,t,o),function bT(e,t,n,o,a,_){let R=_?t.classBindings:t.styleBindings,fe=hh(R),Fe=Ef(R);e[o]=n;let Rt,dt=!1;if(Array.isArray(n)?(Rt=n[1],(null===Rt||an(n,Rt)>0)&&(dt=!0)):Rt=n,a)if(0!==Fe){const Yn=hh(e[fe+1]);e[o+1]=u_(Yn,fe),0!==Yn&&(e[Yn+1]=ry(e[Yn+1],o)),e[fe+1]=function vT(e,t){return 131071&e|t<<17}(e[fe+1],o)}else e[o+1]=u_(fe,0),0!==fe&&(e[fe+1]=ry(e[fe+1],o)),fe=o;else e[o+1]=u_(Fe,0),0===fe?fe=o:e[Fe+1]=ry(e[Fe+1],o),Fe=o;dt&&(e[o+1]=ny(e[o+1])),DE(e,Rt,o,!0),DE(e,Rt,o,!1),function ET(e,t,n,o,a){const _=a?e.residualClasses:e.residualStyles;null!=_&&"string"==typeof t&&an(_,t)>=0&&(n[o+1]=iy(n[o+1]))}(t,Rt,e,o,_),R=u_(fe,Fe),_?t.classBindings=R:t.styleBindings=R}(a,_,t,n,R,o)}}function ly(e,t,n,o,a){let _=null;const R=n.directiveEnd;let fe=n.directiveStylingLast;for(-1===fe?fe=n.directiveStart:fe++;fe<R&&(_=t[fe],o=rg(o,_.hostAttrs,a),_!==e);)fe++;return null!==e&&(n.directiveStylingLast=fe),o}function rg(e,t,n){const o=n?1:2;let a=-1;if(null!==t)for(let _=0;_<t.length;_++){const R=t[_];"number"==typeof R?a=R:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),zi(e,R,!!n||t[++_]))}return void 0===e?null:e}function LE(e,t,n){zi(e,t,Ql(n))}function kT(e,t,n){const o=String(t);""!==o&&!o.includes(" ")&&zi(e,o,n)}function UE(e,t,n,o,a,_,R,fe){if(!(3&t.type))return;const Fe=e.data,dt=Fe[fe+1],Rt=function yT(e){return!(1&~e)}(dt)?VE(Fe,t,n,a,Ef(dt),R):void 0;d_(Rt)||(d_(_)||function _T(e){return!(2&~e)}(dt)&&(_=VE(Fe,null,n,a,fe,R)),function ot(e,t,n,o,a){if(t)a?e.addClass(n,o):e.removeClass(n,o);else{let _=-1===o.indexOf("-")?void 0:lp.DashCase;null==a?e.removeStyle(n,o,_):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),_|=lp.Important),e.setStyle(n,o,a,_))}}(o,R,Ca(Ba(),n),a,_))}function VE(e,t,n,o,a,_){const R=null===t;let fe;for(;a>0;){const Fe=e[a],dt=Array.isArray(Fe),Rt=dt?Fe[1]:Fe,yn=null===Rt;let Yn=n[a+1];Yn===Xn&&(Yn=yn?rr:void 0);let ir=yn?Vt(Yn,o):Rt===o?Yn:void 0;if(dt&&!d_(ir)&&(ir=Vt(Fe,o)),d_(ir)&&(fe=ir,R))return fe;const xr=e[a+1];a=R?hh(xr):Ef(xr)}if(null!==t){let Fe=_?t.residualClasses:t.residualStyles;null!=Fe&&(fe=Vt(Fe,o))}return fe}function d_(e){return void 0!==e}function GE(e,t){return!!(e.flags&(t?8:16))}function jE(e,t,n){Ou(zi,td,Tp(mr(),e,t,n),!0)}class WT{destroy(t){}updateValue(t,n){}swap(t,n){const o=Math.min(t,n),a=Math.max(t,n),_=this.detach(a);if(a-o>1){const R=this.detach(o);this.attach(o,_),this.attach(a,R)}else this.attach(o,_)}move(t,n){this.attach(n,this.detach(t))}}function uy(e,t,n,o,a){return e===n&&Object.is(t,o)?1:Object.is(a(e,t),a(n,o))?-1:0}function dy(e,t,n,o){return!(void 0===t||!t.has(o)||(e.attach(n,t.get(o)),t.delete(o),0))}function KE(e,t,n,o,a){if(dy(e,t,o,n(o,a)))e.updateValue(o,a);else{const _=e.create(o,a);e.attach(o,_)}}function HE(e,t,n,o){const a=new Set;for(let _=t;_<=n;_++)a.add(o(_,e.at(_)));return a}class zE{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let o=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(o);)o=a.get(o);a.set(o,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,o]of this.kvMap)if(t(o,n),void 0!==this._vMap){const a=this._vMap;for(;a.has(o);)o=a.get(o),t(o,n)}}}function $E(e,t){El("NgControlFlow");const n=mr(),o=Fa(),a=n[o]!==Xn?n[o]:-1,_=-1!==a?h_(n,Bi+a):void 0;if(sc(n,o,e)){const fe=h(null);try{if(void 0!==_&&dv(_,0),-1!==e){const Fe=Bi+e,dt=h_(n,Fe),Rt=hy(n[Zr],Fe),yn=gf(dt,Rt.tView.ssrId);mp(dt,pp(n,Rt,t,{dehydratedView:yn}),0,pf(Rt,yn))}}finally{h(fe)}}else if(void 0!==_){const fe=xb(_,0);void 0!==fe&&(fe[hs]=t)}}class YT{constructor(t,n,o){this.lContainer=t,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ma}}function WE(e){return e}function XE(e,t){return t}class QT{constructor(t,n,o){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=o}}function YE(e,t,n,o,a,_,R,fe,Fe,dt,Rt,yn,Yn){El("NgControlFlow");const ir=mr(),xr=yo(),Ai=void 0!==Fe,ro=mr(),uo=fe?R.bind(ro[Ws][hs]):R,vi=new QT(Ai,uo);ro[Bi+e]=vi,Zm(ir,xr,e+1,t,n,o,a,qa(xr.consts,_)),Ai&&Zm(ir,xr,e+2,Fe,dt,Rt,yn,qa(xr.consts,Yn))}class JT extends WT{constructor(t,n,o){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=o,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ma}at(t){return this.getLView(t)[hs].$implicit}attach(t,n){const o=n[ta];this.needsIndexUpdate||=t!==this.length,mp(this.lContainer,n,t,pf(this.templateTNode,o))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function ZT(e,t){return df(e,t)}(this.lContainer,t)}create(t,n){const o=gf(this.lContainer,this.templateTNode.tView.ssrId),a=pp(this.hostLView,this.templateTNode,new YT(this.lContainer,n,t),{dehydratedView:o});return this.operationsCounter?.recordCreate(),a}destroy(t){dp(t[Zr],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[hs].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[hs].$index=t}getLView(t){return function qT(e,t){return xb(e,t)}(this.lContainer,t)}}function QE(e){const t=h(null),n=Ba();try{const o=mr(),a=o[Zr],_=o[n],R=n+1,fe=h_(o,R);if(void 0===_.liveCollection){const dt=hy(a,R);_.liveCollection=new JT(fe,o,dt)}else _.liveCollection.reset();const Fe=_.liveCollection;if(function XT(e,t,n){let o,a,_=0,R=e.length-1;if(Array.isArray(t)){let Fe=t.length-1;for(;_<=R&&_<=Fe;){const dt=e.at(_),Rt=t[_],yn=uy(_,dt,_,Rt,n);if(0!==yn){yn<0&&e.updateValue(_,Rt),_++;continue}const Yn=e.at(R),ir=t[Fe],xr=uy(R,Yn,Fe,ir,n);if(0!==xr){xr<0&&e.updateValue(R,ir),R--,Fe--;continue}const Ai=n(_,dt),ro=n(R,Yn),uo=n(_,Rt);if(Object.is(uo,ro)){const vi=n(Fe,ir);Object.is(vi,Ai)?(e.swap(_,R),e.updateValue(R,ir),Fe--,R--):e.move(R,_),e.updateValue(_,Rt),_++}else if(o??=new zE,a??=HE(e,_,R,n),dy(e,o,_,uo))e.updateValue(_,Rt),_++,R++;else if(a.has(uo))o.set(Ai,e.detach(_)),R--;else{const vi=e.create(_,t[_]);e.attach(_,vi),_++,R++}}for(;_<=Fe;)KE(e,o,n,_,t[_]),_++}else if(null!=t){const Fe=t[Symbol.iterator]();let dt=Fe.next();for(;!dt.done&&_<=R;){const Rt=e.at(_),yn=dt.value,Yn=uy(_,Rt,_,yn,n);if(0!==Yn)Yn<0&&e.updateValue(_,yn),_++,dt=Fe.next();else{o??=new zE,a??=HE(e,_,R,n);const ir=n(_,yn);if(dy(e,o,_,ir))e.updateValue(_,yn),_++,R++,dt=Fe.next();else if(a.has(ir)){const xr=n(_,Rt);o.set(xr,e.detach(_)),R--}else e.attach(_,e.create(_,yn)),_++,R++,dt=Fe.next()}}for(;!dt.done;)KE(e,o,n,e.length,dt.value),dt=Fe.next()}for(;_<=R;)e.destroy(e.detach(R--));o?.forEach(Fe=>{e.destroy(Fe)})}(Fe,e,_.trackByFn),Fe.updateIndexes(),_.hasEmptyBlock){const dt=Fa(),Rt=0===Fe.length;if(sc(o,dt,Rt)){const yn=n+2,Yn=h_(o,yn);if(Rt){const ir=hy(a,yn),xr=gf(Yn,ir.tView.ssrId);mp(Yn,pp(o,ir,void 0,{dehydratedView:xr}),0,pf(ir,xr))}else dv(Yn,0)}}}finally{h(t)}}function h_(e,t){return e[t]}function hy(e,t){return Wa(e,t)}function f_(e,t,n,o){const a=mr(),_=yo(),R=Bi+e,fe=a[jo],Fe=_.firstCreatePass?function eD(e,t,n,o,a,_){const R=t.consts,Fe=ys(t,e,2,o,qa(R,a));return ov(t,n,Fe,qa(R,_)),null!==Fe.attrs&&Zg(Fe,Fe.attrs,!1),null!==Fe.mergedAttrs&&Zg(Fe,Fe.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Fe),Fe}(R,_,a,t,n,o):_.data[R],dt=JE(_,a,Fe,fe,t,e);a[R]=dt;const Rt=Ko(Fe);return Cs(Fe,!0),Zn(fe,dt,Fe),!function yp(e){return!(32&~e.flags)}(Fe)&&fl()&&hp(_,a,dt,Fe),0===function Fr(){return en.lFrame.elementDepthCount}()&&oc(dt,a),function Lr(){en.lFrame.elementDepthCount++}(),Rt&&(xc(_,a,Fe),Yc(_,Fe,a)),null!==o&&Qc(a,Fe),f_}function p_(){let e=lo();ls()?ja():(e=e.parent,Cs(e,!1));const t=e;(function Ao(e){return en.skipHydrationRootTNode===e})(t)&&function Fo(){en.skipHydrationRootTNode=null}(),function ei(){en.lFrame.elementDepthCount--}();const n=yo();return n.firstCreatePass&&(jc(n,e),tc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Rf(e){return!!(8&e.flags)}(t)&&sy(n,t,mr(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function dd(e){return!!(16&e.flags)}(t)&&sy(n,t,mr(),t.stylesWithoutHost,!1),p_}function fy(e,t,n,o){return f_(e,t,n,o),p_(),fy}let JE=(e,t,n,o,a,_)=>(pl(!0),up(o,a,function Bd(){return en.lFrame.currentNamespace}()));function m_(e,t,n){const o=mr(),a=yo(),_=e+Bi,R=a.firstCreatePass?function rD(e,t,n,o,a){const _=t.consts,R=qa(_,o),fe=ys(t,e,8,"ng-container",R);return null!==R&&Zg(fe,R,!0),ov(t,n,fe,qa(_,a)),null!==t.queries&&t.queries.elementStart(t,fe),fe}(_,a,o,t,n):a.data[_];Cs(R,!0);const fe=ZE(a,o,R,e);return o[_]=fe,fl()&&hp(a,o,fe,R),oc(fe,o),Ko(R)&&(xc(a,o,R),Yc(a,R,o)),null!=n&&Qc(o,R),m_}function g_(){let e=lo();const t=yo();return ls()?ja():(e=e.parent,Cs(e,!1)),t.firstCreatePass&&(jc(t,e),tc(e)&&t.queries.elementEnd(e)),g_}function py(e,t,n){return m_(e,t,n),g_(),py}let ZE=(e,t,n,o)=>(pl(!0),uf(t[jo],""));function qE(){return mr()}function my(e,t,n){const o=mr();return sc(o,Fa(),t)&&kl(yo(),fa(),o,e,t,o[jo],n,!0),my}function gy(e,t,n){const o=mr();if(sc(o,Fa(),t)){const _=yo(),R=fa();kl(_,R,o,e,t,wb(Ml(_.data),R,o),n,!0)}return gy}const Af=void 0;var aD=["en",[["a","p"],["AM","PM"],Af],[["AM","PM"],Af,Af],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Af,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Af,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Af,"{1} 'at' {0}",Af],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sD(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let Bp={};function cD(e,t,n){"string"!=typeof t&&(n=t,t=e[Np.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Bp[t]=e,n&&(Bp[t][Np.ExtraData]=n)}function _y(e){const t=function lD(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=t1(t);if(n)return n;const o=t.split("-")[0];if(n=t1(o),n)return n;if("en"===o)return aD;throw new x(701,!1)}function e1(e){return _y(e)[Np.PluralCase]}function t1(e){return e in Bp||(Bp[e]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[e]),Bp[e]}var Np=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Np||{});const uD=["zero","one","two","few","many"],__="en-US",v_={marker:"element"},y_={marker:"ICU"};var Bl=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Bl||{});let n1=__,ig=0,og=0;let sg=(e,t,n,o)=>(pl(!0),function r1(e,t,n){const o=e[jo];switch(n){case Node.COMMENT_NODE:return uf(o,t);case Node.TEXT_NODE:return wm(o,t);case Node.ELEMENT_NODE:return up(o,t,null)}}(e,n,o));function o1(e,t,n,o){const a=n[jo];let R,_=null;for(let fe=0;fe<t.length;fe++){const Fe=t[fe];if("string"==typeof Fe){const dt=t[++fe];null===n[dt]&&(n[dt]=sg(n,dt,Fe,Node.TEXT_NODE))}else if("number"==typeof Fe)switch(1&Fe){case 0:const dt=Ub(Fe);let Rt,yn;if(null===_&&(_=dt,R=Rm(a,o)),dt===_?(Rt=o,yn=R):(Rt=null,yn=Xs(n[dt])),null!==yn){const Ai=Vb(Fe);Id(a,yn,n[Ai],Rt,!1);const uo=Gm(e,Ai);if(null!==uo&&"object"==typeof uo){const vi=Wg(uo,n);null!==vi&&o1(e,uo.create[vi],n,n[uo.anchorIdx])}}break;case 1:const ir=t[++fe],xr=t[++fe];av(a,Ca(Fe>>>1,n),null,null,ir,xr,null)}else switch(Fe){case y_:const dt=t[++fe],Rt=t[++fe];null===n[Rt]&&oc(n[Rt]=sg(n,Rt,dt,Node.COMMENT_NODE),n);break;case v_:const yn=t[++fe],Yn=t[++fe];null===n[Yn]&&oc(n[Yn]=sg(n,Yn,yn,Node.ELEMENT_NODE),n)}}}function s1(e,t,n,o,a){for(let _=0;_<n.length;_++){const R=n[_],fe=n[++_];if(R&a){let Fe="";for(let dt=_+1;dt<=_+fe;dt++){const Rt=n[dt];if("string"==typeof Rt)Fe+=Rt;else if("number"==typeof Rt)if(Rt<0)Fe+=Gt(t[o-Rt]);else{const yn=Rt>>>2;switch(3&Rt){case 1:const Yn=n[++dt],ir=n[++dt],xr=e.data[yn];"string"==typeof xr?av(t[jo],t[yn],null,xr,Yn,Fe,ir):kl(e,xr,t,Yn,Fe,t[jo],ir,!1);break;case 0:const Ai=t[yn];null!==Ai&&Rg(t[jo],Ai,Fe);break;case 2:bD(e,Gm(e,yn),t,Fe);break;case 3:a1(e,Gm(e,yn),o,t)}}}}else{const Fe=n[_+1];if(Fe>0&&!(3&~Fe)){const Rt=Gm(e,Fe>>>2);t[Rt.currentCaseLViewIndex]<0&&a1(e,Rt,o,t)}}_+=fe}}function a1(e,t,n,o){let a=o[t.currentCaseLViewIndex];if(null!==a){let _=ig;a<0&&(a=o[t.currentCaseLViewIndex]=~a,_=-1),s1(e,o,t.update[a],n,_)}}function bD(e,t,n,o){const a=function ED(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function dD(e,t){const n=e1(t)(parseInt(e,10)),o=uD[n];return void 0!==o?o:"other"}(t,function pD(){return n1}());n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(Wg(t,n)!==a&&(c1(e,t,n),n[t.currentCaseLViewIndex]=null===a?null:~a,null!==a)){const R=n[t.anchorIdx];R&&o1(e,t.create[a],n,R),function bx(e,t,n){Qb(e,t,n)}(n,t.anchorIdx,a)}}function c1(e,t,n){let o=Wg(t,n);if(null!==o){const a=t.remove[o];for(let _=0;_<a.length;_++){const R=a[_];if(R>0){const fe=Ca(R,n);null!==fe&&ff(n[jo],fe)}else c1(e,Gm(e,~R),n)}}}const b_=/\ufffd(\d+):?\d*\ufffd/gi,CD=/\ufffd(\d+)\ufffd/,u1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ag="\ufffd",wD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,MD=/\uE500/g;function d1(e,t,n,o,a,_,R){const fe=Vs(e,o,1,null);let Fe=fe<<Bl.SHIFT,dt=Ys();t===dt&&(dt=null),null===dt&&(Fe|=Bl.APPEND_EAGERLY),R&&(Fe|=Bl.COMMENT,function q_(e){void 0===kc&&(kc=e())}(ex)),a.push(Fe,null===_?"":_);const Rt=ss(e,fe,R?32:1,null===_?"":_,null);Nb(n,Rt);const yn=Rt.index;return Cs(Rt,!1),null!==dt&&t!==dt&&function Jw(e,t){let n=e.insertBeforeIndex;null===n?(Lg(kb,Bb),n=e.insertBeforeIndex=[null,t]):(Pn(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(dt,yn),Rt}function SD(e,t,n,o,a,_,R,fe){const Fe=fe.match(b_),Rt=d1(t,n,o,R,a,Fe?null:fe,!1).index;Fe&&cg(_,fe,Rt,null,0,null),e.push({kind:0,index:Rt})}function cg(e,t,n,o,a,_){const R=e.length,fe=R+1;e.push(null,null);const Fe=R+2,dt=t.split(b_);let Rt=0;for(let yn=0;yn<dt.length;yn++){const Yn=dt[yn];if(1&yn){const ir=a+parseInt(Yn,10);e.push(-1-ir),Rt|=h1(ir)}else""!==Yn&&e.push(Yn)}return e.push(n<<2|(o?1:0)),o&&e.push(o,_),e[R]=Rt,e[fe]=e.length-Fe,Rt}function h1(e){return 1<<Math.min(e,31)}function f1(e){let t,_,n="",o=0,a=!1;for(;null!==(t=wD.exec(e));)a?t[0]===`${ag}/*${_}${ag}`&&(o=t.index,a=!1):(n+=e.substring(o,t.index+t[0].length),_=t[1],a=!0);return n+=e.slice(o),n}function p1(e,t,n,o,a,_,R){let fe=0;const Fe={type:_.type,currentCaseLViewIndex:Vs(t,n,1,null),anchorIdx:R,cases:[],create:[],remove:[],update:[]};(function BD(e,t,n){e.push(h1(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(o,_,R),function Qw(e,t,n){const o=e.data[t];null===o?e.data[t]=n:o.value=n}(t,R,Fe);const dt=_.values,Rt=[];for(let yn=0;yn<dt.length;yn++){const Yn=dt[yn],ir=[];for(let Ai=0;Ai<Yn.length;Ai++){const ro=Yn[Ai];if("string"!=typeof ro){const uo=ir.push(ro)-1;Yn[Ai]=`\x3c!--\ufffd${uo}\ufffd--\x3e`}}const xr=[];Rt.push(xr),fe=FD(xr,t,Fe,n,o,a,_.cases[yn],Yn.join(""),ir)|fe}fe&&function ND(e,t,n){e.push(t,1,n<<2|3)}(o,fe,R),e.push({kind:3,index:R,cases:Rt,currentCaseLViewIndex:Fe.currentCaseLViewIndex})}function PD(e){const t=[],n=[];let o=1,a=0;const _=vy(e=e.replace(u1,function(R,fe,Fe){return o="select"===Fe?0:1,a=parseInt(fe.slice(1),10),""}));for(let R=0;R<_.length;){let fe=_[R++].trim();1===o&&(fe=fe.replace(/\s*(?:=)?(\w+)\s*/,"$1")),fe.length&&t.push(fe);const Fe=vy(_[R++]);t.length>n.length&&n.push(Fe)}return{type:o,mainBinding:a,cases:t,values:n}}function vy(e){if(!e)return[];let t=0;const n=[],o=[],a=/[{}]/g;let _;for(a.lastIndex=0;_=a.exec(e);){const fe=_.index;if("}"==_[0]){if(n.pop(),0==n.length){const Fe=e.substring(t,fe);u1.test(Fe)?o.push(PD(Fe)):o.push(Fe),t=fe+1}}else{if(0==n.length){const Fe=e.substring(t,fe);o.push(Fe),t=fe+1}n.push("{")}}const R=e.substring(t);return o.push(R),o}function FD(e,t,n,o,a,_,R,fe,Fe){const dt=[],Rt=[],yn=[];n.cases.push(R),n.create.push(dt),n.remove.push(Rt),n.update.push(yn);const ir=tf(gl()).getInertBodyElement(fe),xr=La(ir)||ir;return xr?m1(e,t,n,o,a,dt,Rt,yn,xr,_,Fe,0):0}function m1(e,t,n,o,a,_,R,fe,Fe,dt,Rt,yn){let Yn=0,ir=Fe.firstChild;for(;ir;){const xr=Vs(t,o,1,null);switch(ir.nodeType){case Node.ELEMENT_NODE:const Ai=ir,ro=Ai.tagName.toLowerCase();if(Ju.hasOwnProperty(ro)){yy(_,v_,ro,dt,xr),t.data[xr]=ro;const ua=Ai.attributes;for(let lc=0;lc<ua.length;lc++){const Nl=ua.item(lc),Vp=Nl.name.toLowerCase();Nl.value.match(b_)?Sd.hasOwnProperty(Vp)&&cg(fe,Nl.value,xr,Nl.name,0,oh[Vp]?ih:null):LD(_,xr,Nl)}const Da={kind:1,index:xr,children:[]};e.push(Da),Yn=m1(Da.children,t,n,o,a,_,R,fe,ir,xr,Rt,yn+1)|Yn,g1(R,xr,yn)}break;case Node.TEXT_NODE:const uo=ir.textContent||"",vi=uo.match(b_);yy(_,null,vi?"":uo,dt,xr),g1(R,xr,yn),vi&&(Yn=cg(fe,uo,xr,null,0,null)|Yn),e.push({kind:0,index:xr});break;case Node.COMMENT_NODE:const bs=CD.exec(ir.textContent||"");if(bs){const Da=Rt[parseInt(bs[1],10)];yy(_,y_,"",dt,xr),p1(e,t,o,a,dt,Da,xr),kD(R,xr,yn)}}ir=ir.nextSibling}return Yn}function g1(e,t,n){0===n&&e.push(t)}function kD(e,t,n){0===n&&(e.push(~t),e.push(t))}function yy(e,t,n,o,a){null!==t&&e.push(t),e.push(n,a,function qw(e,t,n){return e|t<<17|n<<1}(0,o,a))}function LD(e,t,n){e.push(t<<1|1,n.name,n.value)}const _1=0,UD=/\[(\ufffd.+?\ufffd?)\]/,VD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,GD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,jD=/{([A-Z0-9_]+)}/g,KD=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,HD=/\/\*/,zD=/\d+\:(\d+)/;function by(e,t,n=-1){const o=yo(),a=mr(),_=Bi+e,R=qa(o.consts,t),fe=Ys();o.firstCreatePass&&function DD(e,t,n,o,a,_){const R=Ys(),fe=[],Fe=[],dt=[[]],Rt=[[]];a=function OD(e,t){if(function jb(e){return-1===e}(t))return f1(e);{const n=e.indexOf(`:${t}${ag}`)+2+t.toString().length,o=e.search(new RegExp(`${ag}\\/\\*\\d+:${t}${ag}`));return f1(e.substring(n,o))}}(a,_);const yn=function TD(e){return e.replace(MD," ")}(a).split(xD);for(let Yn=0;Yn<yn.length;Yn++){let ir=yn[Yn];if(1&Yn){const xr=47===ir.charCodeAt(0),Ai=ir.charCodeAt(xr?1:0),ro=Bi+Number.parseInt(ir.substring(xr?2:1));if(xr)dt.shift(),Rt.shift(),Cs(Ys(),!1);else{const uo=Zw(e,dt[0],ro);dt.unshift([]),Cs(uo,!0);const vi={kind:2,index:ro,children:[],type:35===Ai?0:1};Rt[0].push(vi),Rt.unshift(vi.children)}}else{const xr=vy(ir);for(let Ai=0;Ai<xr.length;Ai++){let ro=xr[Ai];if(1&Ai){const uo=ro;if("object"!=typeof uo)throw new Error(`Unable to parse ICU expression in "${a}" message.`);const bs=d1(e,R,dt[0],n,fe,"",!0).index;p1(Rt[0],e,n,Fe,t,uo,bs)}else""!==ro&&SD(Rt[0],e,R,dt[0],fe,Fe,n,ro)}}}e.data[o]={create:fe,update:Fe,ast:Rt[0],parentTNodeIndex:t}}(o,null===fe?0:fe.index,a,_,R,n),2===o.type?a[Ws][so]|=32:a[so]|=32;const Fe=o.data[_],Rt=Og(o,fe===a[As]?null:fe,a),yn=fe&&8&fe.type?a[fe.index]:null;(function ux(e,t,n,o){Xb(e,t,n,o)})(a,_,fe,n),function yD(e,t,n,o){const a=e[jo];for(let _=0;_<t.length;_++){const R=t[_++],dt=(R&Bl.APPEND_EAGERLY)===Bl.APPEND_EAGERLY,Rt=R>>>Bl.SHIFT;let yn=e[Rt],Yn=!1;null===yn&&(yn=e[Rt]=sg(e,Rt,t[_],(R&Bl.COMMENT)===Bl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Yn=fl()),dt&&null!==n&&Yn&&Id(a,n,yn,o,!1)}}(a,Fe.create,Rt,yn),cd(!0)}function Ey(){cd(!1)}function v1(e,t,n){by(e,t,n),Ey()}function Ay(e){return function mD(e){e&&(ig|=1<<Math.min(og,31)),og++}(sc(mr(),Fa(),e)),Ay}function y1(e){!function gD(e,t,n){if(og>0){const o=e.data[n];s1(e,t,Array.isArray(o)?o:o.update,xl()-og-1,ig)}ig=0,og=0}(yo(),mr(),e+Bi)}function b1(e,t={}){return function $D(e,t={}){let n=e;if(UD.test(e)){const o={},a=[_1];n=n.replace(VD,(_,R,fe)=>{const Fe=R||fe,dt=o[Fe]||[];if(dt.length||(Fe.split("|").forEach(Ai=>{const ro=Ai.match(zD),uo=ro?parseInt(ro[1],10):_1,vi=HD.test(Ai);dt.push([uo,vi,Ai])}),o[Fe]=dt),!dt.length)throw new Error(`i18n postprocess: unmatched placeholder - ${Fe}`);const Rt=a[a.length-1];let yn=0;for(let Ai=0;Ai<dt.length;Ai++)if(dt[Ai][0]===Rt){yn=Ai;break}const[Yn,ir,xr]=dt[yn];return ir?a.pop():Rt!==Yn&&a.push(Yn),dt.splice(yn,1),xr})}return Object.keys(t).length&&(n=n.replace(GD,(o,a,_,R,fe,Fe)=>t.hasOwnProperty(_)?`${a}${t[_]}${Fe}`:o),n=n.replace(jD,(o,a)=>t.hasOwnProperty(a)?t[a]:o),n=n.replace(KD,(o,a)=>{if(t.hasOwnProperty(a)){const _=t[a];if(!_.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${a}`);return _.shift()}return o})),n}(e,t)}let E1=(e,t,n)=>{};function Cy(e,t,n,o){const a=mr(),_=yo(),R=lo();return xy(_,a,a[jo],R,e,t,o),Cy}function wy(e,t){const n=lo(),o=mr(),a=yo();return xy(a,o,wb(Ml(a.data),n,o),n,e,t),wy}function xy(e,t,n,o,a,_,R){const fe=Ko(o),dt=e.firstCreatePass&&Cb(e),Rt=t[hs],yn=Ab(t);let Yn=!0;if(3&o.type||R){const Ai=Va(o,t),ro=R?R(Ai):Ai,uo=yn.length,vi=R?ua=>R(Xs(ua[o.index])):o.index;let bs=null;if(!R&&fe&&(bs=function XD(e,t,n,o){const a=e.cleanup;if(null!=a)for(let _=0;_<a.length-1;_+=2){const R=a[_];if(R===n&&a[_+1]===o){const fe=t[aa],Fe=a[_+2];return fe.length>Fe?fe[Fe]:null}"string"==typeof R&&(_+=2)}return null}(e,t,a,o.index)),null!==bs)(bs.__ngLastListenerFn__||bs).__ngNextListenerFn__=_,bs.__ngLastListenerFn__=_,Yn=!1;else{_=w1(o,t,Rt,_),E1(Ai,a,_);const ua=n.listen(ro,a,_);yn.push(_,ua),dt&&dt.push(a,vi,uo,uo+1)}}else _=w1(o,t,Rt,_);const ir=o.outputs;let xr;if(Yn&&null!==ir&&(xr=ir[a])){const Ai=xr.length;if(Ai)for(let ro=0;ro<Ai;ro+=2){const Da=t[xr[ro]][xr[ro+1]].subscribe(_),lc=yn.length;yn.push(_,Da),dt&&dt.push(a,o.index,lc,-(lc+1))}}}function C1(e,t,n,o){const a=h(null);try{return Sc(6,t,n),!1!==n(o)}catch(_){return Kg(e,_),!1}finally{Sc(7,t,n),h(a)}}function w1(e,t,n,o){return function a(_){if(_===Function)return o;km(e.componentOffset>-1?Ga(e.index,t):t,5);let fe=C1(t,n,o,_),Fe=a.__ngNextListenerFn__;for(;Fe;)fe=C1(t,n,Fe,_)&&fe,Fe=Fe.__ngNextListenerFn__;return fe}}function x1(e=1){return function hl(e){return(en.lFrame.contextLView=function i(e,t){for(;e>0;)t=t[Aa],e--;return t}(e,en.lFrame.contextLView))[hs]}(e)}function YD(e,t){let n=null;const o=function Pt(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const _=t[a];if("*"!==_){if(null===o?Ye(e,_,!0):Li(o,_))return a}else n=a}return n}function M1(e){const t=mr()[Ws][As];if(!t.projection){const o=t.projection=function gr(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(e?e.length:1,null),a=o.slice();let _=t.child;for(;null!==_;){if(128!==_.type){const R=e?YD(_,e):0;null!==R&&(a[R]?a[R].projectionNext=_:o[R]=_,a[R]=_)}_=_.next}}}function T1(e,t=0,n,o,a,_){const R=mr(),fe=yo(),Fe=o?e+1:null;null!==Fe&&Zm(R,fe,Fe,o,a,_,null,n);const dt=ys(fe,Bi+e,16,null,n||null);null===dt.projection&&(dt.projection=t),ja();const yn=!R[ta]||qr();null===R[Ws][As].projection[dt.projection]&&null!==Fe?function QD(e,t,n){const o=Bi+n,a=t.data[o],_=e[o],R=gf(_,a.tView.ssrId);mp(_,pp(e,a,void 0,{dehydratedView:R}),0,pf(a,R))}(R,fe,Fe):yn&&32&~dt.flags&&function c(e,t,n){E(t[jo],0,t,n,Sm(e,n,t),kg(n.parent||t[As],n,t))}(fe,R,dt)}function My(e,t,n){return E_(e,"",t,"",n),My}function E_(e,t,n,o,a){const _=mr(),R=Tp(_,t,n,o);return R!==Xn&&kl(yo(),fa(),_,e,R,_[jo],a,!1),E_}function B1(e,t,n,o){!function v0(e,t,n,o){const a=yo();if(a.firstCreatePass){const _=lo();y0(a,new p0(t,n,o),_.index),function iM(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),!(2&~n)&&(a.staticContentQueries=!0)}return g0(a,mr(),n)}(e,t,n,o)}function N1(e,t,n){_0(e,t,n)}function L1(e){const t=mr(),n=yo(),o=ca();jl(o+1);const a=kv(n,o);if(e.dirty&&function Gc(e){return!(4&~e[so])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const _=b0(t,o);e.reset(_,Bh),e.notifyOnChanges()}return!0}return!1}function U1(){return Fv(mr(),ca())}function V1(e,t,n,o){!function D0(e,t){const n=e[D];n._lView=mr(),n._queryIndex=t,n._queryList=Fv(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(o=>o+1))}(e,_0(t,n,o))}function G1(e=1){jl(ca()+e)}function j1(e){return Vc(function wl(){return en.lFrame.contextLView}(),Bi+e)}function Z1(e,t=""){const n=mr(),o=yo(),a=e+Bi,_=o.firstCreatePass?ys(o,a,1,t,null):o.data[a],R=q1(o,n,_,t,e);n[a]=R,fl()&&hp(o,n,R,_),Cs(_,!1)}let q1=(e,t,n,o,a)=>(pl(!0),wm(t[jo],o));function Dy(e){return A_("",e,""),Dy}function A_(e,t,n){const o=mr(),a=Tp(o,e,t,n);return a!==Xn&&Pd(o,Ba(),a),A_}function Sy(e,t,n,o,a){const _=mr(),R=function Dp(e,t,n,o,a,_){const fe=vf(e,xl(),n,a);return Gl(2),fe?t+Gt(n)+o+Gt(a)+_:Xn}(_,e,t,n,o,a);return R!==Xn&&Pd(_,Ba(),R),Sy}function Ry(e,t,n,o,a,_,R){const fe=mr(),Fe=function Sp(e,t,n,o,a,_,R,fe){const dt=r_(e,xl(),n,a,R);return Gl(3),dt?t+Gt(n)+o+Gt(a)+_+Gt(R)+fe:Xn}(fe,e,t,n,o,a,_,R);return Fe!==Xn&&Pd(fe,Ba(),Fe),Ry}function Iy(e,t,n,o,a,_,R,fe,Fe,dt,Rt){const yn=mr(),Yn=function Ip(e,t,n,o,a,_,R,fe,Fe,dt,Rt,yn){const Yn=xl();let ir=su(e,Yn,n,a,R,Fe);return ir=sc(e,Yn+4,Rt)||ir,Gl(5),ir?t+Gt(n)+o+Gt(a)+_+Gt(R)+fe+Gt(Fe)+dt+Gt(Rt)+yn:Xn}(yn,e,t,n,o,a,_,R,fe,Fe,dt,Rt);return Yn!==Xn&&Pd(yn,Ba(),Yn),Iy}function Oy(e,t,n){w0(t)&&(t=t());const o=mr();return sc(o,Fa(),t)&&kl(yo(),fa(),o,e,t,o[jo],n,!1),Oy}function oA(e,t){const n=w0(e);return n&&e.set(t),n}function Py(e,t){const n=mr(),o=yo(),a=lo();return xy(o,n,n[jo],a,e,t),Py}function Fy(e,t,n,o,a){if(e=cn(e),Array.isArray(e))for(let _=0;_<e.length;_++)Fy(e[_],t,n,o,a);else{const _=yo(),R=mr(),fe=lo();let Fe=No(e)?e:cn(e.provide);const dt=$a(e),Rt=1048575&fe.providerIndexes,yn=fe.directiveStart,Yn=fe.providerIndexes>>20;if(No(e)||!e.multi){const ir=new Kl(dt,a,Mi),xr=By(Fe,t,a?Rt:Rt+Yn,yn);-1===xr?(Gu(zl(fe,R),_,Fe),ky(_,e,t.length),t.push(Fe),fe.directiveStart++,fe.directiveEnd++,a&&(fe.providerIndexes+=1048576),n.push(ir),R.push(ir)):(n[xr]=ir,R[xr]=ir)}else{const ir=By(Fe,t,Rt+Yn,yn),xr=By(Fe,t,Rt,Rt+Yn),ro=xr>=0&&n[xr];if(a&&!ro||!a&&!(ir>=0&&n[ir])){Gu(zl(fe,R),_,Fe);const uo=function pS(e,t,n,o,a){const _=new Kl(e,n,Mi);return _.multi=[],_.index=t,_.componentProviders=0,cA(_,a,o&&!n),_}(a?fS:hS,n.length,a,o,dt);!a&&ro&&(n[xr].providerFactory=uo),ky(_,e,t.length,0),t.push(Fe),fe.directiveStart++,fe.directiveEnd++,a&&(fe.providerIndexes+=1048576),n.push(uo),R.push(uo)}else ky(_,e,ir>-1?ir:xr,cA(n[a?xr:ir],dt,!a&&o));!a&&o&&ro&&n[xr].componentProviders++}}}function ky(e,t,n,o){const a=No(t),_=function mo(e){return!!e.useClass}(t);if(a||_){const Fe=(_?cn(t.useClass):t).prototype.ngOnDestroy;if(Fe){const dt=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const Rt=dt.indexOf(n);-1===Rt?dt.push(n,[o,Fe]):dt[Rt+1].push(o,Fe)}else dt.push(n,Fe)}}}function cA(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function By(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function hS(e,t,n,o){return Ny(this.multi,[])}function fS(e,t,n,o){const a=this.multi;let _;if(this.providerFactory){const R=this.providerFactory.componentProviders,fe=Wl(n,n[Zr],this.providerFactory.index,o);_=fe.slice(0,R),Ny(a,_);for(let Fe=R;Fe<fe.length;Fe++)_.push(fe[Fe])}else _=[],Ny(a,_);return _}function Ny(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function lA(e,t=[]){return n=>{n.providersResolver=(o,a)=>function dS(e,t,n){const o=yo();if(o.firstCreatePass){const a=bc(e);Fy(n,o.data,o.blueprint,a,!0),Fy(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let mS=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=En(0,n.type),a=o.length>0?jv([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=li({token:e,providedIn:"environment",factory:()=>new e(Ji(Gs))})}return e})();function uA(e){El("NgStandalone"),e.getStandaloneInjector=t=>t.get(mS).getOrCreateStandaloneInjector(e)}function dA(e,t,n){const o=e.\u0275cmp;o.directiveDefs=yr(t,!1),o.pipeDefs=yr(n,!0)}function pA(e,t,n){const o=Xa()+e,a=mr();return a[o]===Xn?ed(a,o,n?t.call(n):t()):Jm(a,o)}function mA(e,t,n,o){return wA(mr(),Xa(),e,t,n,o)}function gA(e,t,n,o,a){return xA(mr(),Xa(),e,t,n,o,a)}function _A(e,t,n,o,a,_){return function MA(e,t,n,o,a,_,R,fe){const Fe=t+n;return r_(e,Fe,a,_,R)?ed(e,Fe+3,fe?o.call(fe,a,_,R):o(a,_,R)):lg(e,Fe+3)}(mr(),Xa(),e,t,n,o,a,_)}function vA(e,t,n,o,a,_,R){return TA(mr(),Xa(),e,t,n,o,a,_,R)}function yA(e,t,n,o,a,_,R,fe){const Fe=Xa()+e,dt=mr(),Rt=su(dt,Fe,n,o,a,_);return sc(dt,Fe+4,R)||Rt?ed(dt,Fe+5,fe?t.call(fe,n,o,a,_,R):t(n,o,a,_,R)):Jm(dt,Fe+5)}function bA(e,t,n,o,a,_,R,fe,Fe){const dt=Xa()+e,Rt=mr(),yn=su(Rt,dt,n,o,a,_);return vf(Rt,dt+4,R,fe)||yn?ed(Rt,dt+6,Fe?t.call(Fe,n,o,a,_,R,fe):t(n,o,a,_,R,fe)):Jm(Rt,dt+6)}function EA(e,t,n,o,a,_,R,fe,Fe,dt){const Rt=Xa()+e,yn=mr();let Yn=su(yn,Rt,n,o,a,_);return r_(yn,Rt+4,R,fe,Fe)||Yn?ed(yn,Rt+7,dt?t.call(dt,n,o,a,_,R,fe,Fe):t(n,o,a,_,R,fe,Fe)):Jm(yn,Rt+7)}function AA(e,t,n,o,a,_,R,fe,Fe,dt,Rt){const yn=Xa()+e,Yn=mr(),ir=su(Yn,yn,n,o,a,_);return su(Yn,yn+4,R,fe,Fe,dt)||ir?ed(Yn,yn+8,Rt?t.call(Rt,n,o,a,_,R,fe,Fe,dt):t(n,o,a,_,R,fe,Fe,dt)):Jm(Yn,yn+8)}function CA(e,t,n,o){return function DA(e,t,n,o,a,_){let R=t+n,fe=!1;for(let Fe=0;Fe<a.length;Fe++)sc(e,R++,a[Fe])&&(fe=!0);return fe?ed(e,R,o.apply(_,a)):lg(e,R)}(mr(),Xa(),e,t,n,o)}function lg(e,t){const n=e[t];return n===Xn?void 0:n}function wA(e,t,n,o,a,_){const R=t+n;return sc(e,R,a)?ed(e,R+1,_?o.call(_,a):o(a)):lg(e,R+1)}function xA(e,t,n,o,a,_,R){const fe=t+n;return vf(e,fe,a,_)?ed(e,fe+2,R?o.call(R,a,_):o(a,_)):lg(e,fe+2)}function TA(e,t,n,o,a,_,R,fe,Fe){const dt=t+n;return su(e,dt,a,_,R,fe)?ed(e,dt+4,Fe?o.call(Fe,a,_,R,fe):o(a,_,R,fe)):lg(e,dt+4)}function SA(e,t){const n=yo();let o;const a=e+Bi;n.firstCreatePass?(o=function vS(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[a]=o,o.onDestroy&&(n.destroyHooks??=[]).push(a,o.onDestroy)):o=n.data[a];const _=o.factory||(o.factory=_s(o.type)),fe=Wo(Mi);try{const Fe=fd(!1),dt=_();return fd(Fe),function Ty(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,mr(),a,dt),dt}finally{Wo(fe)}}function RA(e,t,n){const o=e+Bi,a=mr(),_=Vc(a,o);return ug(a,o)?wA(a,Xa(),t,_.transform,n,_):_.transform(n)}function IA(e,t,n,o){const a=e+Bi,_=mr(),R=Vc(_,a);return ug(_,a)?xA(_,Xa(),t,R.transform,n,o,R):R.transform(n,o)}function OA(e,t,n,o,a,_){const R=e+Bi,fe=mr(),Fe=Vc(fe,R);return ug(fe,R)?TA(fe,Xa(),t,Fe.transform,n,o,a,_,Fe):Fe.transform(n,o,a,_)}function ug(e,t){return e[Zr].data[t].pure}function PA(e,t){return zg(e,t)}class YA{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let QA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const tC=new _r(""),nC=new _r("");let Ky,fR=(()=>{class e{constructor(n,o,a){this._ngZone=n,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ky||(function pR(e){Ky=e}(a),a.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,a){let _=-1;o&&o>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==_),n()},o)),this._callbacks.push({doneCb:n,timeoutId:_,updateCb:a})}whenStable(n,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,a),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,a){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(Ji(wa),Ji(rC),Ji(nC))};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac})}return e})(),rC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Ky?.findTestabilityInTree(this,n,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Hy(e){return!!e&&"function"==typeof e.then}function iC(e){return!!e&&"function"==typeof e.subscribe}const oC=new _r("");let sC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=Pi(oC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const a of this.appInits){const _=a();if(Hy(_))n.push(_);else if(iC(_)){const R=new Promise((fe,Fe)=>{_.subscribe({complete:fe,error:Fe})});n.push(R)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(a=>{this.reject(a)}),0===n.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const T_=new _r("");function cC(e,t){return Array.isArray(t)?t.reduce(cC,e):{...e,...t}}let nd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pi(Hu),this.afterRenderManager=Pi(q0),this.zonelessEnabled=Pi(zm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new G.B,this.afterTick=new G.B,this.componentTypes=[],this.components=[],this.isStable=Pi(yu).hasPendingTasks.pipe((0,Z.T)(n=>!n)),this._injector=Pi(Gs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,o){const a=n instanceof t0;if(!this._injector.get(sC).done)throw!a&&$n(n),new x(405,!1);let R;R=a?n:this._injector.get($m).resolveComponentFactory(n),this.componentTypes.push(R.componentType);const fe=function mR(e){return e.isBoundToModule}(R)?void 0:this._injector.get(_f),dt=R.create(Oa.NULL,[],o||R.selector,fe),Rt=dt.location.nativeElement,yn=dt.injector.get(tC,null);return yn?.registerApplication(Rt),dt.onDestroy(()=>{this.detachView(dt.hostView),D_(this.components,dt),yn?.unregisterApplication(Rt)}),this._loadComponent(dt),dt}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new x(101,!1);const n=h(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,h(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(wv,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:_}of this._views)vR(a,_,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>p(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;D_(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(T_,[]);[...this._bootstrapListeners,...o].forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>D_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function D_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function vR(e,t,n,o){(n||p(e))&&Hg(e,t,n&&!o?0:1)}class yR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let bR=(()=>{class e{compileModuleSync(n){return new Gv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),_=yl(pr(n).declarations).reduce((R,fe)=>{const Fe=Wt(fe);return Fe&&R.push(new Ym(Fe)),R},[]);return new yR(o,_)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CR=(()=>{class e{constructor(){this.zone=Pi(wa),this.changeDetectionScheduler=Pi(_p),this.applicationRef=Pi(nd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zy({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new wa({...$y(),scheduleInRootZone:n}),[{provide:wa,useFactory:e},{provide:Rr,multi:!0,useFactory:()=>{const o=Pi(CR,{optional:!0});return()=>o.initialize()}},{provide:Rr,multi:!0,useFactory:()=>{const o=Pi(xR);return()=>{o.initialize()}}},!0===t?{provide:e0,useValue:!0}:[],{provide:Cv,useValue:n??il}]}function $y(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let xR=(()=>{class e{constructor(){this.subscription=new _e.yU,this.initialized=!1,this.zone=Pi(wa),this.pendingTasks=Pi(yu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{wa.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{wa.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fg=(()=>{class e{constructor(){this.appRef=Pi(nd),this.taskService=Pi(yu),this.ngZone=Pi(wa),this.zonelessEnabled=Pi(zm),this.disableScheduling=Pi(e0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new _e.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($d):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Pi(Cv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ku||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Nf:bu;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($d+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(n),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Xy=new _r("",{providedIn:"root",factory:()=>Pi(Xy,$r.Optional|$r.SkipSelf)||function MR(){return typeof $localize<"u"&&$localize.locale||__}()}),TR=new _r("",{providedIn:"root",factory:()=>"USD"}),R_=new _r("");function I_(e){return!e.moduleRef}let mC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const a=o?.scheduleInRootZone,R=o?.ignoreChangesOutsideZone,fe=[zy({ngZoneFactory:()=>function Xp(e="zone.js",t){return"noop"===e?new Ku:"zone.js"===e?new wa(t):e}(o?.ngZone,{...$y({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:a}),ignoreChangesOutsideZone:R}),{provide:_p,useExisting:fg}],Fe=function SM(e,t,n){return new Vv(e,t,n,!1)}(n.moduleType,this.injector,fe);return function pC(e){const t=I_(e)?e.r3Injector:e.moduleRef.injector,n=t.get(wa);return n.run(()=>{I_(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Na,null);let a;if(n.runOutsideAngular(()=>{a=n.onError.subscribe({next:_=>{o.handleError(_)}})}),I_(e)){const _=()=>t.destroy(),R=e.platformInjector.get(R_);R.add(_),t.onDestroy(()=>{a.unsubscribe(),R.delete(_)})}else{const _=()=>e.moduleRef.destroy(),R=e.platformInjector.get(R_);R.add(_),e.moduleRef.onDestroy(()=>{D_(e.allPlatformModules,e.moduleRef),a.unsubscribe(),R.delete(_)})}return function _R(e,t,n){try{const o=n();return Hy(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,n,()=>{const _=t.get(sC);return _.runInitializers(),_.donePromise.then(()=>{if(function fD(e){"string"==typeof e&&(n1=e.toLowerCase().replace(/_/g,"-"))}(t.get(Xy,__)||__),I_(e)){const fe=t.get(nd);return void 0!==e.rootComponent&&fe.bootstrap(e.rootComponent),fe}return function OR(e,t){const n=e.injector.get(nd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>n.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new x(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:Fe,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,o=[]){const a=cC({},o);return function AR(e,t,n){const o=new Gv(n);return Promise.resolve(o)}(0,0,n).then(_=>this.bootstrapModuleFactory(_,a))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(R_,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(Ji(Oa))};static#t=this.\u0275prov=li({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),fh=null;const gC=new _r("");function _C(e,t,n=[]){const o=`Platform: ${t}`,a=new _r(o);return(_=[])=>{let R=Yy();if(!R||R.injector.get(gC,!1)){const fe=[...n,..._,{provide:a,useValue:!0}];e?e(fe):function PR(e){if(fh&&!fh.get(gC,!1))throw new x(400,!1);(function aC(){!function De(e){Rn=e}(()=>{throw new x(600,!1)})})(),fh=e;const t=e.get(mC);(function yC(e){e.get(qf,null)?.forEach(n=>n())})(e)}(function vC(e=[],t){return Oa.create({name:t,providers:[{provide:ts,useValue:"platform"},{provide:R_,useValue:new Set([()=>fh=null])},...e]})}(fe,o))}return function FR(){const t=Yy();if(!t)throw new x(401,!1);return t}()}}function Yy(){return fh?.get(mC)??null}function BR(){return!1}function NR(){}let EC=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=LR}return e})();function LR(e){return function UR(e,t,n){if(Lc(e)&&!n){const o=Ga(e.index,t);return new Bm(o,o)}return 175&e.type?new Bm(t[Ws],t):null}(lo(),mr(),!(16&~e))}class xC{constructor(){}supports(t){return n_(t)}create(t){return new HR(t)}}const KR=(e,t)=>t;class HR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||KR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,a=0,_=null;for(;n||o;){const R=!o||n&&n.currentIndex<TC(o,a,_)?n:o,fe=TC(R,a,_),Fe=R.currentIndex;if(R===o)a--,o=o._nextRemoved;else if(n=n._next,null==R.previousIndex)a++;else{_||(_=[]);const dt=fe-a,Rt=Fe-a;if(dt!=Rt){for(let Yn=0;Yn<dt;Yn++){const ir=Yn<_.length?_[Yn]:_[Yn]=0,xr=ir+Yn;Rt<=xr&&xr<dt&&(_[Yn]=ir+1)}_[R.previousIndex]=Rt-dt}}fe!==Fe&&t(R,fe,Fe)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!n_(t))throw new x(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,_,R,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let fe=0;fe<this.length;fe++)_=t[fe],R=this._trackByFn(fe,_),null!==n&&Object.is(n.trackById,R)?(o&&(n=this._verifyReinsertion(n,_,R,fe)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,R,fe),o=!0),n=n._next}else a=0,function OM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,fe=>{R=this._trackByFn(a,fe),null!==n&&Object.is(n.trackById,R)?(o&&(n=this._verifyReinsertion(n,fe,R,a)),Object.is(n.item,fe)||this._addIdentityChange(n,fe)):(n=this._mismatch(n,fe,R,a),o=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,a){let _;return null===t?_=this._itTail:(_=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,_,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,_,a)):t=this._addAfter(new zR(n,o),_,a),t}_verifyReinsertion(t,n,o,a){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==_?t=this._reinsertAfter(_,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,_=t._nextRemoved;return null===a?this._removalsHead=_:a._nextRemoved=_,null===_?this._removalsTail=a:_._prevRemoved=a,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new MC),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $R{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class MC{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new $R,this.map.set(n,o)),o.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TC(e,t,n){const o=e.previousIndex;if(null===o)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}class DC{constructor(){}supports(t){return t instanceof Map||Kv(t)}create(){return new WR}}class WR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Kv(t)))throw new x(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const _=this._getOrCreateRecordForKey(a,o);n=this._insertBeforeOrAppend(n,_)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const _=a._prev,R=a._next;return _&&(_._next=R),R&&(R._prev=_),a._next=null,a._prev=null,a}const o=new XR(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class XR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SC(){return new eb([new xC])}let eb=(()=>{class e{static#e=this.\u0275prov=li({token:e,providedIn:"root",factory:SC});constructor(n){this.factories=n}static create(n,o){if(null!=o){const a=o.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||SC()),deps:[[e,new Vo,new ha]]}}find(n){const o=this.factories.find(a=>a.supports(n));if(null!=o)return o;throw new x(901,!1)}}return e})();function RC(){return new tb([new DC])}let tb=(()=>{class e{static#e=this.\u0275prov=li({token:e,providedIn:"root",factory:RC});constructor(n){this.factories=n}static create(n,o){if(o){const a=o.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||RC()),deps:[[e,new Vo,new ha]]}}find(n){const o=this.factories.find(a=>a.supports(n));if(o)return o;throw new x(901,!1)}}return e})();const JR=_C(null,"core",[]);let ZR=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(o){return new(o||e)(Ji(nd))};static#t=this.\u0275mod=N({type:e});static#n=this.\u0275inj=Co({})}return e})();function SI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function RI(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function OI(e,t){El("NgSignals");const n=Ne(e);return t?.equal&&(n[D].equal=t.equal),n}function PI(e){const t=h(null);try{return e()}finally{h(t)}}const FI=new _r("",{providedIn:"root",factory:()=>Pi(kI)});let kI=(()=>{class e{static#e=this.\u0275prov=li({token:e,providedIn:"root",factory:()=>new BI})}return e})();class BI{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Pi(yu),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const o=this.queues.get(n);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class NI{constructor(t,n,o,a,_,R){this.scheduler=t,this.effectFn=n,this.creationZone=o,this.injector=_,this.watcher=function Re(e,t,n){const o=Object.create(y);n&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=t;const a=Fe=>{o.cleanupFn=Fe};return o.ref={notify:()=>ce(o),run:()=>{if(null===o.fn)return;if(function F(){return g}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Q(o))return;o.hasRun=!0;const Fe=W(o);try{o.cleanupFn(),o.cleanupFn=te,o.fn(a)}finally{se(o,Fe)}},cleanup:()=>o.cleanupFn(),destroy:()=>function R(Fe){(function _(Fe){return null===Fe.fn&&null===Fe.schedule})(Fe)||(Ie(Fe),Fe.cleanupFn(),Fe.fn=null,Fe.schedule=null,Fe.cleanupFn=te)}(o),[D]:o},o.ref}(fe=>this.runEffect(fe),()=>this.schedule(),R),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(Na,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function qC(e,t){El("NgSignals"),!t?.injector&&Ds();const n=t?.injector??Pi(Oa),o=!0!==t?.manualCleanup?n.get(Kc):null,a=new NI(n.get(FI),e,typeof Zone>"u"?null:Zone.current,o,n,t?.allowSignalWrites??!1),_=n.get(EC,null,{optional:!0});return _&&8&_._lView[so]?(_._lView[Nc]??=[]).push(a.watcher.notify):a.watcher.notify(),a}function LI(e,t){const n=Wt(e),o=t.elementInjector||Ea();return new Ym(n).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function UI(e){const t=Wt(e);if(!t)return null;const n=new Ym(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},89079:(bn,be,w)=>{"use strict";w.d(be,{br:()=>k,ot:()=>z,pQ:()=>D});var r=w(54438),m=w(2573),g=w(60391),C=w(37925);function D(A){A||((0,r.Af3)(D),A=(0,r.WQX)(r.abz));const T=new m.c(b=>A.onDestroy(b.next.bind(b)));return b=>b.pipe((0,C.Q)(T))}function k(A,T){!T?.injector&&(0,r.Af3)(k);const b=T?.injector??(0,r.WQX)(r.zZn),J=new g.m(1),ce=(0,r.QZP)(()=>{let W;try{W=A()}catch(se){return void(0,r.O8t)(()=>J.error(se))}(0,r.O8t)(()=>J.next(W))},{injector:b,manualCleanup:!0});return b.get(r.abz).onDestroy(()=>{ce.destroy(),J.complete()}),J.asObservable()}function z(A,T){const b=!T?.manualCleanup;b&&!T?.injector&&(0,r.Af3)(z);const J=b?T?.injector?.get(r.abz)??(0,r.WQX)(r.abz):null,ce=function B(A=Object.is){return(T,b)=>1===T.kind&&1===b.kind&&A(T.value,b.value)}(T?.equal);let W;W=(0,r.vPA)(T?.requireSync?{kind:0}:{kind:1,value:T?.initialValue},{equal:ce});const se=A.subscribe({next:Q=>W.set({kind:1,value:Q}),error:Q=>{if(T?.rejectErrors)throw Q;W.set({kind:2,error:Q})}});if(T?.requireSync&&0===W().kind)throw new r.wOt(601,!1);return J?.onDestroy(se.unsubscribe.bind(se)),(0,r.EWP)(()=>{const Q=W();switch(Q.kind){case 1:return Q.value;case 2:throw Q.error;case 0:throw new r.wOt(601,!1)}},{equal:T?.equal})}},89417:(bn,be,w)=>{"use strict";w.d(be,{$R:()=>ki,BC:()=>V,Bm:()=>_o,Fm:()=>ps,JD:()=>es,MJ:()=>qi,MR:()=>Ps,Q0:()=>xs,VZ:()=>Ti,X1:()=>de,YN:()=>L,YS:()=>zi,Yp:()=>co,ZU:()=>Y,cV:()=>Ki,cb:()=>x,cz:()=>se,gE:()=>ue,hs:()=>bo,j4:()=>si,k0:()=>ae,kq:()=>k,l_:()=>Ir,me:()=>J,ok:()=>Yo,qT:()=>Mo,tU:()=>Rr,v8:()=>po,vO:()=>G,vS:()=>Hi,wz:()=>Ms,xH:()=>gs,xh:()=>Er,xq:()=>Vt,y7:()=>ea,zX:()=>gr,ze:()=>Kt});var r=w(54438),m=w(60177),g=w(21472),C=w(46104),D=w(85052),h=w(36110);let U=(()=>{class O{constructor(X,Ye){this._renderer=X,this._elementRef=Ye,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(X,Ye){this._renderer.setProperty(this._elementRef.nativeElement,X,Ye)}registerOnTouched(X){this.onTouched=X}registerOnChange(X){this.onChange=X}setDisabledState(X){this.setProperty("disabled",X)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(r.sFG),r.rXU(r.aKT))};static#t=this.\u0275dir=r.FsC({type:O})}return O})(),F=(()=>{class O extends U{static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,features:[r.Vt3]})}return O})();const k=new r.nKC(""),A={provide:k,useExisting:(0,r.Rfq)(()=>J),multi:!0},b=new r.nKC("");let J=(()=>{class O extends U{constructor(X,Ye,Pt){super(X,Ye),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T(){const O=(0,m.QT)()?(0,m.QT)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(X){this.setProperty("value",X??"")}_handleInput(X){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(X)}_compositionStart(){this._composing=!0}_compositionEnd(X){this._composing=!1,this._compositionMode&&this.onChange(X)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(b,8))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("input",function(hr){return Pt._handleInput(hr.target.value)})("blur",function(){return Pt.onTouched()})("compositionstart",function(){return Pt._compositionStart()})("compositionend",function(hr){return Pt._compositionEnd(hr.target.value)})},features:[r.Jv_([A]),r.Vt3]})}return O})();function ce(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}function W(O){return null!=O&&"number"==typeof O.length}const se=new r.nKC(""),Q=new r.nKC(""),Ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(ie){return Me(ie)}static max(ie){return q(ie)}static required(ie){return $(ie)}static requiredTrue(ie){return ge(ie)}static email(ie){return function K(O){return ce(O.value)||Ie.test(O.value)?null:{email:!0}}(ie)}static minLength(ie){return Ne(ie)}static maxLength(ie){return Ve(ie)}static pattern(ie){return function Ge(O){if(!O)return gt;let ie,X;return"string"==typeof O?(X="","^"!==O.charAt(0)&&(X+="^"),X+=O,"$"!==O.charAt(O.length-1)&&(X+="$"),ie=new RegExp(X)):(X=O.toString(),ie=O),Ye=>{if(ce(Ye.value))return null;const Pt=Ye.value;return ie.test(Pt)?null:{pattern:{requiredPattern:X,actualValue:Pt}}}}(ie)}static nullValidator(ie){return null}static compose(ie){return We(ie)}static composeAsync(ie){return ft(ie)}}function Me(O){return ie=>{if(ce(ie.value)||ce(O))return null;const X=parseFloat(ie.value);return!isNaN(X)&&X<O?{min:{min:O,actual:ie.value}}:null}}function q(O){return ie=>{if(ce(ie.value)||ce(O))return null;const X=parseFloat(ie.value);return!isNaN(X)&&X>O?{max:{max:O,actual:ie.value}}:null}}function $(O){return ce(O.value)?{required:!0}:null}function ge(O){return!0===O.value?null:{required:!0}}function Ne(O){return ie=>ce(ie.value)||!W(ie.value)?null:ie.value.length<O?{minlength:{requiredLength:O,actualLength:ie.value.length}}:null}function Ve(O){return ie=>W(ie.value)&&ie.value.length>O?{maxlength:{requiredLength:O,actualLength:ie.value.length}}:null}function gt(O){return null}function _t(O){return null!=O}function zt(O){return(0,r.jNT)(O)?(0,g.H)(O):O}function Rn(O){let ie={};return O.forEach(X=>{ie=null!=X?{...ie,...X}:ie}),0===Object.keys(ie).length?null:ie}function Oe(O,ie){return ie.map(X=>X(O))}function He(O){return O.map(ie=>function De(O){return!O.validate}(ie)?ie:X=>ie.validate(X))}function We(O){if(!O)return null;const ie=O.filter(_t);return 0==ie.length?null:function(X){return Rn(Oe(X,ie))}}function st(O){return null!=O?We(He(O)):null}function ft(O){if(!O)return null;const ie=O.filter(_t);return 0==ie.length?null:function(X){const Ye=Oe(X,ie).map(zt);return(0,C.p)(Ye).pipe((0,h.T)(Rn))}}function wt(O){return null!=O?ft(He(O)):null}function kt(O,ie){return null===O?[ie]:Array.isArray(O)?[...O,ie]:[O,ie]}function je(O){return O._rawValidators}function Ce(O){return O._rawAsyncValidators}function ne(O){return O?Array.isArray(O)?O:[O]:[]}function Re(O,ie){return Array.isArray(O)?O.includes(ie):O===ie}function te(O,ie){const X=ne(ie);return ne(O).forEach(Pt=>{Re(X,Pt)||X.push(Pt)}),X}function y(O,ie){return ne(ie).filter(X=>!Re(O,X))}class M{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ie){this._rawValidators=ie||[],this._composedValidatorFn=st(this._rawValidators)}_setAsyncValidators(ie){this._rawAsyncValidators=ie||[],this._composedAsyncValidatorFn=wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ie){this._onDestroyCallbacks.push(ie)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ie=>ie()),this._onDestroyCallbacks=[]}reset(ie=void 0){this.control&&this.control.reset(ie)}hasError(ie,X){return!!this.control&&this.control.hasError(ie,X)}getError(ie,X){return this.control?this.control.getError(ie,X):null}}class Y extends M{get formDirective(){return null}get path(){return null}}class G extends M{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _e{constructor(ie){this._cd=ie}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let V=(()=>{class O extends _e{constructor(X){super(X)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(G,2))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ye,Pt){2&Ye&&r.AVh("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)},features:[r.Vt3]})}return O})(),x=(()=>{class O extends _e{constructor(X){super(X)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(Y,10))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ye,Pt){2&Ye&&r.AVh("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)("ng-submitted",Pt.isSubmitted)},features:[r.Vt3]})}return O})();const vn="VALID",In="INVALID",Un="PENDING",Jn="DISABLED";class Cr{}class wn extends Cr{constructor(ie,X){super(),this.value=ie,this.source=X}}class cn extends Cr{constructor(ie,X){super(),this.pristine=ie,this.source=X}}class Yt extends Cr{constructor(ie,X){super(),this.touched=ie,this.source=X}}class Qt extends Cr{constructor(ie,X){super(),this.status=ie,this.source=X}}class jn extends Cr{constructor(ie){super(),this.source=ie}}class Lt extends Cr{constructor(ie){super(),this.source=ie}}function Dn(O){return(dn(O)?O.validators:O)||null}function Sn(O,ie){return(dn(ie)?ie.asyncValidators:O)||null}function dn(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function Bn(O,ie,X){const Ye=O.controls;if(!(ie?Object.keys(Ye):Ye).length)throw new r.wOt(1e3,"");if(!Ye[X])throw new r.wOt(1001,"")}function Ct(O,ie,X){O._forEachChild((Ye,Pt)=>{if(void 0===X[Pt])throw new r.wOt(1002,"")})}class me{constructor(ie,X){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,r.EWP)(()=>this.statusReactive()),this.statusReactive=(0,r.vPA)(void 0),this._pristine=(0,r.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,r.vPA)(!0),this._touched=(0,r.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,r.vPA)(!1),this._events=new D.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ie),this._assignAsyncValidators(X)}get validator(){return this._composedValidatorFn}set validator(ie){this._rawValidators=this._composedValidatorFn=ie}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ie){this._rawAsyncValidators=this._composedAsyncValidatorFn=ie}get parent(){return this._parent}get status(){return(0,r.O8t)(this.statusReactive)}set status(ie){(0,r.O8t)(()=>this.statusReactive.set(ie))}get valid(){return this.status===vn}get invalid(){return this.status===In}get pending(){return this.status==Un}get disabled(){return this.status===Jn}get enabled(){return this.status!==Jn}get pristine(){return(0,r.O8t)(this.pristineReactive)}set pristine(ie){(0,r.O8t)(()=>this.pristineReactive.set(ie))}get dirty(){return!this.pristine}get touched(){return(0,r.O8t)(this.touchedReactive)}set touched(ie){(0,r.O8t)(()=>this.touchedReactive.set(ie))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ie){this._assignValidators(ie)}setAsyncValidators(ie){this._assignAsyncValidators(ie)}addValidators(ie){this.setValidators(te(ie,this._rawValidators))}addAsyncValidators(ie){this.setAsyncValidators(te(ie,this._rawAsyncValidators))}removeValidators(ie){this.setValidators(y(ie,this._rawValidators))}removeAsyncValidators(ie){this.setAsyncValidators(y(ie,this._rawAsyncValidators))}hasValidator(ie){return Re(this._rawValidators,ie)}hasAsyncValidator(ie){return Re(this._rawAsyncValidators,ie)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ie={}){const X=!1===this.touched;this.touched=!0;const Ye=ie.sourceControl??this;this._parent&&!ie.onlySelf&&this._parent.markAsTouched({...ie,sourceControl:Ye}),X&&!1!==ie.emitEvent&&this._events.next(new Yt(!0,Ye))}markAllAsTouched(ie={}){this.markAsTouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:this}),this._forEachChild(X=>X.markAllAsTouched(ie))}markAsUntouched(ie={}){const X=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ye=ie.sourceControl??this;this._forEachChild(Pt=>{Pt.markAsUntouched({onlySelf:!0,emitEvent:ie.emitEvent,sourceControl:Ye})}),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,Ye),X&&!1!==ie.emitEvent&&this._events.next(new Yt(!1,Ye))}markAsDirty(ie={}){const X=!0===this.pristine;this.pristine=!1;const Ye=ie.sourceControl??this;this._parent&&!ie.onlySelf&&this._parent.markAsDirty({...ie,sourceControl:Ye}),X&&!1!==ie.emitEvent&&this._events.next(new cn(!1,Ye))}markAsPristine(ie={}){const X=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ye=ie.sourceControl??this;this._forEachChild(Pt=>{Pt.markAsPristine({onlySelf:!0,emitEvent:ie.emitEvent})}),this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,Ye),X&&!1!==ie.emitEvent&&this._events.next(new cn(!0,Ye))}markAsPending(ie={}){this.status=Un;const X=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new Qt(this.status,X)),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.markAsPending({...ie,sourceControl:X})}disable(ie={}){const X=this._parentMarkedDirty(ie.onlySelf);this.status=Jn,this.errors=null,this._forEachChild(Pt=>{Pt.disable({...ie,onlySelf:!0})}),this._updateValue();const Ye=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new wn(this.value,Ye)),this._events.next(new Qt(this.status,Ye)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ie,skipPristineCheck:X},this),this._onDisabledChange.forEach(Pt=>Pt(!0))}enable(ie={}){const X=this._parentMarkedDirty(ie.onlySelf);this.status=vn,this._forEachChild(Ye=>{Ye.enable({...ie,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent}),this._updateAncestors({...ie,skipPristineCheck:X},this),this._onDisabledChange.forEach(Ye=>Ye(!1))}_updateAncestors(ie,X){this._parent&&!ie.onlySelf&&(this._parent.updateValueAndValidity(ie),ie.skipPristineCheck||this._parent._updatePristine({},X),this._parent._updateTouched({},X))}setParent(ie){this._parent=ie}getRawValue(){return this.value}updateValueAndValidity(ie={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ye=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vn||this.status===Un)&&this._runAsyncValidator(Ye,ie.emitEvent)}const X=ie.sourceControl??this;!1!==ie.emitEvent&&(this._events.next(new wn(this.value,X)),this._events.next(new Qt(this.status,X)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ie.onlySelf&&this._parent.updateValueAndValidity({...ie,sourceControl:X})}_updateTreeValidity(ie={emitEvent:!0}){this._forEachChild(X=>X._updateTreeValidity(ie)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ie.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jn:vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ie,X){if(this.asyncValidator){this.status=Un,this._hasOwnPendingAsyncValidator={emitEvent:!1!==X};const Ye=zt(this.asyncValidator(this));this._asyncValidationSubscription=Ye.subscribe(Pt=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Pt,{emitEvent:X,shouldHaveEmitted:ie})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const ie=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ie}return!1}setErrors(ie,X={}){this.errors=ie,this._updateControlsErrors(!1!==X.emitEvent,this,X.shouldHaveEmitted)}get(ie){let X=ie;return null==X||(Array.isArray(X)||(X=X.split(".")),0===X.length)?null:X.reduce((Ye,Pt)=>Ye&&Ye._find(Pt),this)}getError(ie,X){const Ye=X?this.get(X):this;return Ye&&Ye.errors?Ye.errors[ie]:null}hasError(ie,X){return!!this.getError(ie,X)}get root(){let ie=this;for(;ie._parent;)ie=ie._parent;return ie}_updateControlsErrors(ie,X,Ye){this.status=this._calculateStatus(),ie&&this.statusChanges.emit(this.status),(ie||Ye)&&this._events.next(new Qt(this.status,X)),this._parent&&this._parent._updateControlsErrors(ie,X,Ye)}_initObservables(){this.valueChanges=new r.bkB,this.statusChanges=new r.bkB}_calculateStatus(){return this._allControlsDisabled()?Jn:this.errors?In:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Un)?Un:this._anyControlsHaveStatus(In)?In:vn}_anyControlsHaveStatus(ie){return this._anyControls(X=>X.status===ie)}_anyControlsDirty(){return this._anyControls(ie=>ie.dirty)}_anyControlsTouched(){return this._anyControls(ie=>ie.touched)}_updatePristine(ie,X){const Ye=!this._anyControlsDirty(),Pt=this.pristine!==Ye;this.pristine=Ye,this._parent&&!ie.onlySelf&&this._parent._updatePristine(ie,X),Pt&&this._events.next(new cn(this.pristine,X))}_updateTouched(ie={},X){this.touched=this._anyControlsTouched(),this._events.next(new Yt(this.touched,X)),this._parent&&!ie.onlySelf&&this._parent._updateTouched(ie,X)}_registerOnCollectionChange(ie){this._onCollectionChange=ie}_setUpdateStrategy(ie){dn(ie)&&null!=ie.updateOn&&(this._updateOn=ie.updateOn)}_parentMarkedDirty(ie){return!ie&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ie){return null}_assignValidators(ie){this._rawValidators=Array.isArray(ie)?ie.slice():ie,this._composedValidatorFn=function Pn(O){return Array.isArray(O)?st(O):O||null}(this._rawValidators)}_assignAsyncValidators(ie){this._rawAsyncValidators=Array.isArray(ie)?ie.slice():ie,this._composedAsyncValidatorFn=function Tn(O){return Array.isArray(O)?wt(O):O||null}(this._rawAsyncValidators)}}class ue extends me{constructor(ie,X,Ye){super(Dn(X),Sn(Ye,X)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(X),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ie,X){return this.controls[ie]?this.controls[ie]:(this.controls[ie]=X,X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange),X)}addControl(ie,X,Ye={}){this.registerControl(ie,X),this.updateValueAndValidity({emitEvent:Ye.emitEvent}),this._onCollectionChange()}removeControl(ie,X={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}setControl(ie,X,Ye={}){this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),delete this.controls[ie],X&&this.registerControl(ie,X),this.updateValueAndValidity({emitEvent:Ye.emitEvent}),this._onCollectionChange()}contains(ie){return this.controls.hasOwnProperty(ie)&&this.controls[ie].enabled}setValue(ie,X={}){Ct(this,0,ie),Object.keys(ie).forEach(Ye=>{Bn(this,!0,Ye),this.controls[Ye].setValue(ie[Ye],{onlySelf:!0,emitEvent:X.emitEvent})}),this.updateValueAndValidity(X)}patchValue(ie,X={}){null!=ie&&(Object.keys(ie).forEach(Ye=>{const Pt=this.controls[Ye];Pt&&Pt.patchValue(ie[Ye],{onlySelf:!0,emitEvent:X.emitEvent})}),this.updateValueAndValidity(X))}reset(ie={},X={}){this._forEachChild((Ye,Pt)=>{Ye.reset(ie?ie[Pt]:null,{onlySelf:!0,emitEvent:X.emitEvent})}),this._updatePristine(X,this),this._updateTouched(X,this),this.updateValueAndValidity(X)}getRawValue(){return this._reduceChildren({},(ie,X,Ye)=>(ie[Ye]=X.getRawValue(),ie))}_syncPendingControls(){let ie=this._reduceChildren(!1,(X,Ye)=>!!Ye._syncPendingControls()||X);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){Object.keys(this.controls).forEach(X=>{const Ye=this.controls[X];Ye&&ie(Ye,X)})}_setUpControls(){this._forEachChild(ie=>{ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ie){for(const[X,Ye]of Object.entries(this.controls))if(this.contains(X)&&ie(Ye))return!0;return!1}_reduceValue(){return this._reduceChildren({},(X,Ye,Pt)=>((Ye.enabled||this.disabled)&&(X[Pt]=Ye.value),X))}_reduceChildren(ie,X){let Ye=ie;return this._forEachChild((Pt,zn)=>{Ye=X(Ye,Pt,zn)}),Ye}_allControlsDisabled(){for(const ie of Object.keys(this.controls))if(this.controls[ie].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ie){return this.controls.hasOwnProperty(ie)?this.controls[ie]:null}}class fn extends ue{}const Hr=new r.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ti}),ti="always";function mi(O,ie){return[...ie.path,O]}function li(O,ie,X=ti){So(O,ie),ie.valueAccessor.writeValue(O.value),(O.disabled||"always"===X)&&ie.valueAccessor.setDisabledState?.(O.disabled),function Po(O,ie){ie.valueAccessor.registerOnChange(X=>{O._pendingValue=X,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&xn(O,ie)})}(O,ie),function sr(O,ie){const X=(Ye,Pt)=>{ie.valueAccessor.writeValue(Ye),Pt&&ie.viewToModelUpdate(Ye)};O.registerOnChange(X),ie._registerOnDestroy(()=>{O._unregisterOnChange(X)})}(O,ie),function nn(O,ie){ie.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&xn(O,ie),"submit"!==O.updateOn&&O.markAsTouched()})}(O,ie),function wo(O,ie){if(ie.valueAccessor.setDisabledState){const X=Ye=>{ie.valueAccessor.setDisabledState(Ye)};O.registerOnDisabledChange(X),ie._registerOnDestroy(()=>{O._unregisterOnDisabledChange(X)})}}(O,ie)}function Io(O,ie,X=!0){const Ye=()=>{};ie.valueAccessor&&(ie.valueAccessor.registerOnChange(Ye),ie.valueAccessor.registerOnTouched(Ye)),xo(O,ie),O&&(ie._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function Co(O,ie){O.forEach(X=>{X.registerOnValidatorChange&&X.registerOnValidatorChange(ie)})}function So(O,ie){const X=je(O);null!==ie.validator?O.setValidators(kt(X,ie.validator)):"function"==typeof X&&O.setValidators([X]);const Ye=Ce(O);null!==ie.asyncValidator?O.setAsyncValidators(kt(Ye,ie.asyncValidator)):"function"==typeof Ye&&O.setAsyncValidators([Ye]);const Pt=()=>O.updateValueAndValidity();Co(ie._rawValidators,Pt),Co(ie._rawAsyncValidators,Pt)}function xo(O,ie){let X=!1;if(null!==O){if(null!==ie.validator){const Pt=je(O);if(Array.isArray(Pt)&&Pt.length>0){const zn=Pt.filter(hr=>hr!==ie.validator);zn.length!==Pt.length&&(X=!0,O.setValidators(zn))}}if(null!==ie.asyncValidator){const Pt=Ce(O);if(Array.isArray(Pt)&&Pt.length>0){const zn=Pt.filter(hr=>hr!==ie.asyncValidator);zn.length!==Pt.length&&(X=!0,O.setAsyncValidators(zn))}}}const Ye=()=>{};return Co(ie._rawValidators,Ye),Co(ie._rawAsyncValidators,Ye),X}function xn(O,ie){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),ie.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function br(O,ie){So(O,ie)}function On(O,ie){if(!O.hasOwnProperty("model"))return!1;const X=O.model;return!!X.isFirstChange()||!Object.is(ie,X.currentValue)}function Dr(O,ie){O._syncPendingControls(),ie.forEach(X=>{const Ye=X.control;"submit"===Ye.updateOn&&Ye._pendingChange&&(X.viewToModelUpdate(Ye._pendingValue),Ye._pendingChange=!1)})}function ni(O,ie){if(!ie)return null;let X,Ye,Pt;return Array.isArray(ie),ie.forEach(zn=>{zn.constructor===J?X=zn:function lr(O){return Object.getPrototypeOf(O.constructor)===F}(zn)?Ye=zn:Pt=zn}),Pt||Ye||X||null}const Ri={provide:Y,useExisting:(0,r.Rfq)(()=>Ki)},eo=Promise.resolve();let Ki=(()=>{class O extends Y{get submitted(){return(0,r.O8t)(this.submittedReactive)}constructor(X,Ye,Pt){super(),this.callSetDisabledState=Pt,this._submitted=(0,r.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,r.vPA)(!1),this._directives=new Set,this.ngSubmit=new r.bkB,this.form=new ue({},st(X),wt(Ye))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(X){eo.then(()=>{const Ye=this._findContainer(X.path);X.control=Ye.registerControl(X.name,X.control),li(X.control,X,this.callSetDisabledState),X.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(X)})}getControl(X){return this.form.get(X.path)}removeControl(X){eo.then(()=>{const Ye=this._findContainer(X.path);Ye&&Ye.removeControl(X.name),this._directives.delete(X)})}addFormGroup(X){eo.then(()=>{const Ye=this._findContainer(X.path),Pt=new ue({});br(Pt,X),Ye.registerControl(X.name,Pt),Pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(X){eo.then(()=>{const Ye=this._findContainer(X.path);Ye&&Ye.removeControl(X.name)})}getFormGroup(X){return this.form.get(X.path)}updateModel(X,Ye){eo.then(()=>{this.form.get(X.path).setValue(Ye)})}setValue(X){this.control.setValue(X)}onSubmit(X){return this.submittedReactive.set(!0),Dr(this.form,this._directives),this.ngSubmit.emit(X),"dialog"===X?.target?.method}onReset(){this.resetForm()}resetForm(X=void 0){this.form.reset(X),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(X){return X.pop(),X.length?this.form.get(X):this.form}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(se,10),r.rXU(Q,10),r.rXU(Hr,8))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("submit",function(hr){return Pt.onSubmit(hr)})("reset",function(){return Pt.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([Ri]),r.Vt3]})}return O})();function Qi(O,ie){const X=O.indexOf(ie);X>-1&&O.splice(X,1)}function Yi(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const qi=class extends me{constructor(ie=null,X,Ye){super(Dn(X),Sn(Ye,X)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ie),this._setUpdateStrategy(X),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dn(X)&&(X.nonNullable||X.initialValueIsDefault)&&(this.defaultValue=Yi(ie)?ie.value:ie)}setValue(ie,X={}){this.value=this._pendingValue=ie,this._onChange.length&&!1!==X.emitModelToViewChange&&this._onChange.forEach(Ye=>Ye(this.value,!1!==X.emitViewToModelChange)),this.updateValueAndValidity(X)}patchValue(ie,X={}){this.setValue(ie,X)}reset(ie=this.defaultValue,X={}){this._applyFormState(ie),this.markAsPristine(X),this.markAsUntouched(X),this.setValue(this.value,X),this._pendingChange=!1}_updateValue(){}_anyControls(ie){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ie){this._onChange.push(ie)}_unregisterOnChange(ie){Qi(this._onChange,ie)}registerOnDisabledChange(ie){this._onDisabledChange.push(ie)}_unregisterOnDisabledChange(ie){Qi(this._onDisabledChange,ie)}_forEachChild(ie){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ie){Yi(ie)?(this.value=this._pendingValue=ie.value,ie.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ie}},bo=qi;let Gt=(()=>{class O extends Y{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,features:[r.Vt3]})}return O})();const Ii={provide:G,useExisting:(0,r.Rfq)(()=>Hi)},$r=Promise.resolve();let Hi=(()=>{class O extends G{constructor(X,Ye,Pt,zn,hr,Li){super(),this._changeDetectorRef=hr,this.callSetDisabledState=Li,this.control=new qi,this._registered=!1,this.name="",this.update=new r.bkB,this._parent=X,this._setValidators(Ye),this._setAsyncValidators(Pt),this.valueAccessor=ni(0,zn)}ngOnChanges(X){if(this._checkForErrors(),!this._registered||"name"in X){if(this._registered&&(this._checkName(),this.formDirective)){const Ye=X.name.previousValue;this.formDirective.removeControl({name:Ye,path:this._getPath(Ye)})}this._setUpControl()}"isDisabled"in X&&this._updateDisabled(X),On(X,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){li(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(X){$r.then(()=>{this.control.setValue(X,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(X){const Ye=X.isDisabled.currentValue,Pt=0!==Ye&&(0,r.L39)(Ye);$r.then(()=>{Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(X){return this._parent?mi(X,this._parent):[X]}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(Y,9),r.rXU(se,10),r.rXU(Q,10),r.rXU(k,10),r.rXU(r.gRc,8),r.rXU(Hr,8))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Jv_([Ii]),r.Vt3,r.OA$]})}return O})(),Mo=(()=>{class O{static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return O})();const Wo={provide:k,useExisting:(0,r.Rfq)(()=>xs),multi:!0};let xs=(()=>{class O extends F{writeValue(X){this.setProperty("value",X??"")}registerOnChange(X){this.onChange=Ye=>{X(""==Ye?null:parseFloat(Ye))}}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("input",function(hr){return Pt.onChange(hr.target.value)})("blur",function(){return Pt.onTouched()})},features:[r.Jv_([Wo]),r.Vt3]})}return O})();const da={provide:k,useExisting:(0,r.Rfq)(()=>ps),multi:!0};let Lo=(()=>{class O{constructor(){this._accessors=[]}add(X,Ye){this._accessors.push([X,Ye])}remove(X){for(let Ye=this._accessors.length-1;Ye>=0;--Ye)if(this._accessors[Ye][1]===X)return void this._accessors.splice(Ye,1)}select(X){this._accessors.forEach(Ye=>{this._isSameGroup(Ye,X)&&Ye[1]!==X&&Ye[1].fireUncheck(X.value)})}_isSameGroup(X,Ye){return!!X[0].control&&X[0]._parent===Ye._control._parent&&X[1].name===Ye.name}static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275prov=r.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),ps=(()=>{class O extends F{constructor(X,Ye,Pt,zn){super(X,Ye),this._registry=Pt,this._injector=zn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,r.WQX)(Hr,{optional:!0})??ti}ngOnInit(){this._control=this._injector.get(G),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(X){this._state=X===this.value,this.setProperty("checked",this._state)}registerOnChange(X){this._fn=X,this.onChange=()=>{X(this.value),this._registry.select(this)}}setDisabledState(X){(this.setDisabledStateFired||X||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",X),this.setDisabledStateFired=!0}fireUncheck(X){this.writeValue(X)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(Lo),r.rXU(r.zZn))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("change",function(){return Pt.onChange()})("blur",function(){return Pt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Jv_([da]),r.Vt3]})}return O})();const Xo={provide:k,useExisting:(0,r.Rfq)(()=>Ps),multi:!0};let Ps=(()=>{class O extends F{writeValue(X){this.setProperty("value",parseFloat(X))}registerOnChange(X){this.onChange=Ye=>{X(""==Ye?null:parseFloat(Ye))}}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("change",function(hr){return Pt.onChange(hr.target.value)})("input",function(hr){return Pt.onChange(hr.target.value)})("blur",function(){return Pt.onTouched()})},features:[r.Jv_([Xo]),r.Vt3]})}return O})();const Gn=new r.nKC(""),Hn={provide:G,useExisting:(0,r.Rfq)(()=>Ir)};let Ir=(()=>{class O extends G{set isDisabled(X){}static#e=this._ngModelWarningSentOnce=!1;constructor(X,Ye,Pt,zn,hr){super(),this._ngModelWarningConfig=zn,this.callSetDisabledState=hr,this.update=new r.bkB,this._ngModelWarningSent=!1,this._setValidators(X),this._setAsyncValidators(Ye),this.valueAccessor=ni(0,Pt)}ngOnChanges(X){if(this._isControlChanged(X)){const Ye=X.form.previousValue;Ye&&Io(Ye,this,!1),li(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}On(X,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Io(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_isControlChanged(X){return X.hasOwnProperty("form")}static#t=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(se,10),r.rXU(Q,10),r.rXU(k,10),r.rXU(Gn,8),r.rXU(Hr,8))};static#n=this.\u0275dir=r.FsC({type:O,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Jv_([Hn]),r.Vt3,r.OA$]})}return O})();const ri={provide:Y,useExisting:(0,r.Rfq)(()=>si)};let si=(()=>{class O extends Y{get submitted(){return(0,r.O8t)(this._submittedReactive)}set submitted(X){this._submittedReactive.set(X)}constructor(X,Ye,Pt){super(),this.callSetDisabledState=Pt,this._submitted=(0,r.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,r.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.bkB,this._setValidators(X),this._setAsyncValidators(Ye)}ngOnChanges(X){this._checkFormPresent(),X.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(X){const Ye=this.form.get(X.path);return li(Ye,X,this.callSetDisabledState),Ye.updateValueAndValidity({emitEvent:!1}),this.directives.push(X),Ye}getControl(X){return this.form.get(X.path)}removeControl(X){Io(X.control||null,X,!1),function Yr(O,ie){const X=O.indexOf(ie);X>-1&&O.splice(X,1)}(this.directives,X)}addFormGroup(X){this._setUpFormContainer(X)}removeFormGroup(X){this._cleanUpFormContainer(X)}getFormGroup(X){return this.form.get(X.path)}addFormArray(X){this._setUpFormContainer(X)}removeFormArray(X){this._cleanUpFormContainer(X)}getFormArray(X){return this.form.get(X.path)}updateModel(X,Ye){this.form.get(X.path).setValue(Ye)}onSubmit(X){return this._submittedReactive.set(!0),Dr(this.form,this.directives),this.ngSubmit.emit(X),this.form._events.next(new jn(this.control)),"dialog"===X?.target?.method}onReset(){this.resetForm()}resetForm(X=void 0){this.form.reset(X),this._submittedReactive.set(!1),this.form._events.next(new Lt(this.form))}_updateDomValue(){this.directives.forEach(X=>{const Ye=X.control,Pt=this.form.get(X.path);Ye!==Pt&&(Io(Ye||null,X),(O=>O instanceof qi)(Pt)&&(li(Pt,X,this.callSetDisabledState),X.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(X){const Ye=this.form.get(X.path);br(Ye,X),Ye.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(X){if(this.form){const Ye=this.form.get(X.path);Ye&&function Vr(O,ie){return xo(O,ie)}(Ye,X)&&Ye.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){So(this.form,this),this._oldForm&&xo(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(se,10),r.rXU(Q,10),r.rXU(Hr,8))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","formGroup",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("submit",function(hr){return Pt.onSubmit(hr)})("reset",function(){return Pt.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([ri]),r.Vt3,r.OA$]})}return O})();const Xr={provide:Y,useExisting:(0,r.Rfq)(()=>ki)};let ki=(()=>{class O extends Gt{constructor(X,Ye,Pt){super(),this.name=null,this._parent=X,this._setValidators(Ye),this._setAsyncValidators(Pt)}_checkParentType(){Pi(this._parent)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(Y,13),r.rXU(se,10),r.rXU(Q,10))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[r.Jv_([Xr]),r.Vt3]})}return O})();const Ji={provide:Y,useExisting:(0,r.Rfq)(()=>po)};let po=(()=>{class O extends Y{constructor(X,Ye,Pt){super(),this.name=null,this._parent=X,this._setValidators(Ye),this._setAsyncValidators(Pt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Pi(this._parent)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(Y,13),r.rXU(se,10),r.rXU(Q,10))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[r.Jv_([Ji]),r.Vt3]})}return O})();function Pi(O){return!(O instanceof ki||O instanceof si||O instanceof po)}const os={provide:G,useExisting:(0,r.Rfq)(()=>es)};let es=(()=>{class O extends G{set isDisabled(X){}static#e=this._ngModelWarningSentOnce=!1;constructor(X,Ye,Pt,zn,hr){super(),this._ngModelWarningConfig=hr,this._added=!1,this.name=null,this.update=new r.bkB,this._ngModelWarningSent=!1,this._parent=X,this._setValidators(Ye),this._setAsyncValidators(Pt),this.valueAccessor=ni(0,zn)}ngOnChanges(X){this._added||this._setUpControl(),On(X,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(Y,13),r.rXU(se,10),r.rXU(Q,10),r.rXU(k,10),r.rXU(Gn,8))};static#n=this.\u0275dir=r.FsC({type:O,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Jv_([os]),r.Vt3,r.OA$]})}return O})();const rs={provide:k,useExisting:(0,r.Rfq)(()=>Ms),multi:!0};function Fs(O,ie){return null==O?`${ie}`:(ie&&"object"==typeof ie&&(ie="Object"),`${O}: ${ie}`.slice(0,50))}let Ms=(()=>{class O extends F{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(X){this._compareWith=X}writeValue(X){this.value=X;const Pt=Fs(this._getOptionId(X),X);this.setProperty("value",Pt)}registerOnChange(X){this.onChange=Ye=>{this.value=this._getOptionValue(Ye),X(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(X){for(const Ye of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ye),X))return Ye;return null}_getOptionValue(X){const Ye=function Ro(O){return O.split(":")[0]}(X);return this._optionMap.has(Ye)?this._optionMap.get(Ye):X}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("change",function(hr){return Pt.onChange(hr.target.value)})("blur",function(){return Pt.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([rs]),r.Vt3]})}return O})(),gs=(()=>{class O{constructor(X,Ye,Pt){this._element=X,this._renderer=Ye,this._select=Pt,this._select&&(this.id=this._select._registerOption())}set ngValue(X){null!=this._select&&(this._select._optionMap.set(this.id,X),this._setElementValue(Fs(this.id,X)),this._select.writeValue(this._select.value))}set value(X){this._setElementValue(X),this._select&&this._select.writeValue(this._select.value)}_setElementValue(X){this._renderer.setProperty(this._element.nativeElement,"value",X)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Ms,9))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return O})();const ha={provide:k,useExisting:(0,r.Rfq)(()=>_s),multi:!0};function Es(O,ie){return null==O?`${ie}`:("string"==typeof ie&&(ie=`'${ie}'`),ie&&"object"==typeof ie&&(ie="Object"),`${O}: ${ie}`.slice(0,50))}let _s=(()=>{class O extends F{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(X){this._compareWith=X}writeValue(X){let Ye;if(this.value=X,Array.isArray(X)){const Pt=X.map(zn=>this._getOptionId(zn));Ye=(zn,hr)=>{zn._setSelected(Pt.indexOf(hr.toString())>-1)}}else Ye=(Pt,zn)=>{Pt._setSelected(!1)};this._optionMap.forEach(Ye)}registerOnChange(X){this.onChange=Ye=>{const Pt=[],zn=Ye.selectedOptions;if(void 0!==zn){const hr=zn;for(let Li=0;Li<hr.length;Li++){const hi=this._getOptionValue(hr[Li].value);Pt.push(hi)}}else{const hr=Ye.options;for(let Li=0;Li<hr.length;Li++){const $i=hr[Li];if($i.selected){const hi=this._getOptionValue($i.value);Pt.push(hi)}}}this.value=Pt,X(Pt)}}_registerOption(X){const Ye=(this._idCounter++).toString();return this._optionMap.set(Ye,X),Ye}_getOptionId(X){for(const Ye of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ye)._value,X))return Ye;return null}_getOptionValue(X){const Ye=function Vo(O){return O.split(":")[0]}(X);return this._optionMap.has(Ye)?this._optionMap.get(Ye)._value:X}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ye,Pt){1&Ye&&r.bIt("change",function(hr){return Pt.onChange(hr.target)})("blur",function(){return Pt.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([ha]),r.Vt3]})}return O})(),ea=(()=>{class O{constructor(X,Ye,Pt){this._element=X,this._renderer=Ye,this._select=Pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(X){null!=this._select&&(this._value=X,this._setElementValue(Es(this.id,X)),this._select.writeValue(this._select.value))}set value(X){this._select?(this._value=X,this._setElementValue(Es(this.id,X)),this._select.writeValue(this._select.value)):this._setElementValue(X)}_setElementValue(X){this._renderer.setProperty(this._element.nativeElement,"value",X)}_setSelected(X){this._renderer.setProperty(this._element.nativeElement,"selected",X)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Ye){return new(Ye||O)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(_s,9))};static#t=this.\u0275dir=r.FsC({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return O})();function ds(O){return"number"==typeof O?O:parseInt(O,10)}function Vn(O){return"number"==typeof O?O:parseFloat(O)}let Wn=(()=>{class O{constructor(){this._validator=gt}ngOnChanges(X){if(this.inputName in X){const Ye=this.normalizeInput(X[this.inputName].currentValue);this._enabled=this.enabled(Ye),this._validator=this._enabled?this.createValidator(Ye):gt,this._onChange&&this._onChange()}}validate(X){return this._validator(X)}registerOnValidatorChange(X){this._onChange=X}enabled(X){return null!=X}static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275dir=r.FsC({type:O,features:[r.OA$]})}return O})();const er={provide:se,useExisting:(0,r.Rfq)(()=>gr),multi:!0};let gr=(()=>{class O extends Wn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=X=>Vn(X),this.createValidator=X=>q(X)}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ye,Pt){2&Ye&&r.BMQ("max",Pt._enabled?Pt.max:null)},inputs:{max:"max"},features:[r.Jv_([er]),r.Vt3]})}return O})();const ai={provide:se,useExisting:(0,r.Rfq)(()=>Ti),multi:!0};let Ti=(()=>{class O extends Wn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=X=>Vn(X),this.createValidator=X=>Me(X)}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ye,Pt){2&Ye&&r.BMQ("min",Pt._enabled?Pt.min:null)},inputs:{min:"min"},features:[r.Jv_([ai]),r.Vt3]})}return O})();const Zi={provide:se,useExisting:(0,r.Rfq)(()=>zi),multi:!0},go={provide:se,useExisting:(0,r.Rfq)(()=>Vt),multi:!0};let zi=(()=>{class O extends Wn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.L39,this.createValidator=X=>$}enabled(X){return X}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ye,Pt){2&Ye&&r.BMQ("required",Pt._enabled?"":null)},inputs:{required:"required"},features:[r.Jv_([Zi]),r.Vt3]})}return O})(),Vt=(()=>{class O extends zi{constructor(){super(...arguments),this.createValidator=X=>ge}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Ye,Pt){2&Ye&&r.BMQ("required",Pt._enabled?"":null)},features:[r.Jv_([go]),r.Vt3]})}return O})();const ar={provide:se,useExisting:(0,r.Rfq)(()=>Er),multi:!0};let Er=(()=>{class O extends Wn{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=X=>ds(X),this.createValidator=X=>Ne(X)}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ye,Pt){2&Ye&&r.BMQ("minlength",Pt._enabled?Pt.minlength:null)},inputs:{minlength:"minlength"},features:[r.Jv_([ar]),r.Vt3]})}return O})();const rr={provide:se,useExisting:(0,r.Rfq)(()=>Rr),multi:!0};let Rr=(()=>{class O extends Wn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=X=>ds(X),this.createValidator=X=>Ve(X)}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275dir=r.FsC({type:O,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ye,Pt){2&Ye&&r.BMQ("maxlength",Pt._enabled?Pt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.Jv_([rr]),r.Vt3]})}return O})(),ho=(()=>{class O{static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275mod=r.$C({type:O});static#n=this.\u0275inj=r.G2t({})}return O})();class co extends me{constructor(ie,X,Ye){super(Dn(X),Sn(Ye,X)),this.controls=ie,this._initObservables(),this._setUpdateStrategy(X),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ie){return this.controls[this._adjustIndex(ie)]}push(ie,X={}){this.controls.push(ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}insert(ie,X,Ye={}){this.controls.splice(ie,0,X),this._registerControl(X),this.updateValueAndValidity({emitEvent:Ye.emitEvent})}removeAt(ie,X={}){let Ye=this._adjustIndex(ie);Ye<0&&(Ye=0),this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),this.controls.splice(Ye,1),this.updateValueAndValidity({emitEvent:X.emitEvent})}setControl(ie,X,Ye={}){let Pt=this._adjustIndex(ie);Pt<0&&(Pt=0),this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),this.controls.splice(Pt,1),X&&(this.controls.splice(Pt,0,X),this._registerControl(X)),this.updateValueAndValidity({emitEvent:Ye.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ie,X={}){Ct(this,0,ie),ie.forEach((Ye,Pt)=>{Bn(this,!1,Pt),this.at(Pt).setValue(Ye,{onlySelf:!0,emitEvent:X.emitEvent})}),this.updateValueAndValidity(X)}patchValue(ie,X={}){null!=ie&&(ie.forEach((Ye,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(Ye,{onlySelf:!0,emitEvent:X.emitEvent})}),this.updateValueAndValidity(X))}reset(ie=[],X={}){this._forEachChild((Ye,Pt)=>{Ye.reset(ie[Pt],{onlySelf:!0,emitEvent:X.emitEvent})}),this._updatePristine(X,this),this._updateTouched(X,this),this.updateValueAndValidity(X)}getRawValue(){return this.controls.map(ie=>ie.getRawValue())}clear(ie={}){this.controls.length<1||(this._forEachChild(X=>X._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ie.emitEvent}))}_adjustIndex(ie){return ie<0?ie+this.length:ie}_syncPendingControls(){let ie=this.controls.reduce((X,Ye)=>!!Ye._syncPendingControls()||X,!1);return ie&&this.updateValueAndValidity({onlySelf:!0}),ie}_forEachChild(ie){this.controls.forEach((X,Ye)=>{ie(X,Ye)})}_updateValue(){this.value=this.controls.filter(ie=>ie.enabled||this.disabled).map(ie=>ie.value)}_anyControls(ie){return this.controls.some(X=>X.enabled&&ie(X))}_setUpControls(){this._forEachChild(ie=>this._registerControl(ie))}_allControlsDisabled(){for(const ie of this.controls)if(ie.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ie){ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange)}_find(ie){return this.at(ie)??null}}const _o=co;function vo(O){return!!O&&(void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn)}let Yo=(()=>{class O{constructor(){this.useNonNullable=!1}get nonNullable(){const X=new O;return X.useNonNullable=!0,X}group(X,Ye=null){const Pt=this._reduceControls(X);let zn={};return vo(Ye)?zn=Ye:null!==Ye&&(zn.validators=Ye.validator,zn.asyncValidators=Ye.asyncValidator),new ue(Pt,zn)}record(X,Ye=null){const Pt=this._reduceControls(X);return new fn(Pt,Ye)}control(X,Ye,Pt){let zn={};return this.useNonNullable?(vo(Ye)?zn=Ye:(zn.validators=Ye,zn.asyncValidators=Pt),new qi(X,{...zn,nonNullable:!0})):new qi(X,Ye,Pt)}array(X,Ye,Pt){const zn=X.map(hr=>this._createControl(hr));return new co(zn,Ye,Pt)}_reduceControls(X){const Ye={};return Object.keys(X).forEach(Pt=>{Ye[Pt]=this._createControl(X[Pt])}),Ye}_createControl(X){return X instanceof qi||X instanceof me?X:Array.isArray(X)?this.control(X[0],X.length>1?X[1]:null,X.length>2?X[2]:null):this.control(X)}static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275prov=r.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),Kt=(()=>{class O extends Yo{group(X,Ye=null){return super.group(X,Ye)}control(X,Ye,Pt){return super.control(X,Ye,Pt)}array(X,Ye,Pt){return super.array(X,Ye,Pt)}static#e=this.\u0275fac=(()=>{let X;return function(Pt){return(X||(X=r.xGo(O)))(Pt||O)}})();static#t=this.\u0275prov=r.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),L=(()=>{class O{static withConfig(X){return{ngModule:O,providers:[{provide:Hr,useValue:X.callSetDisabledState??ti}]}}static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275mod=r.$C({type:O});static#n=this.\u0275inj=r.G2t({imports:[ho]})}return O})(),de=(()=>{class O{static withConfig(X){return{ngModule:O,providers:[{provide:Gn,useValue:X.warnOnNgModelWithFormControl??"always"},{provide:Hr,useValue:X.callSetDisabledState??ti}]}}static#e=this.\u0275fac=function(Ye){return new(Ye||O)};static#t=this.\u0275mod=r.$C({type:O});static#n=this.\u0275inj=r.G2t({imports:[ho]})}return O})()},35801:(bn,be,w)=>{"use strict";w.d(be,{Zi:()=>kt,tN:()=>ne});const r=":",m="|",g="@@",C="\u241f";let D;function W(y){D??=new TextEncoder;const M=D.encode(y),Y=new DataView(M.buffer,M.byteOffset,M.byteLength);let G=Q(Y,M.length,0),_e=Q(Y,M.length,102072);return 0==G&&(0==_e||1==_e)&&(G^=319790063,_e^=-1801410264),BigInt.asUintN(32,BigInt(G))<<BigInt(32)|BigInt.asUintN(32,BigInt(_e))}function Q(y,M,Y){let G=2654435769,_e=2654435769,Z=0;const f=M-12;for(;Z<=f;Z+=12){G+=y.getUint32(Z,!0),_e+=y.getUint32(Z+4,!0);const x=Ie(G,_e,Y+=y.getUint32(Z+8,!0));G=x[0],_e=x[1],Y=x[2]}const V=M-Z;return Y+=M,V>=4?(G+=y.getUint32(Z,!0),Z+=4,V>=8?(_e+=y.getUint32(Z,!0),Z+=4,V>=9&&(Y+=y.getUint8(Z++)<<8),V>=10&&(Y+=y.getUint8(Z++)<<16),11===V&&(Y+=y.getUint8(Z++)<<24)):(V>=5&&(_e+=y.getUint8(Z++)),V>=6&&(_e+=y.getUint8(Z++)<<8),7===V&&(_e+=y.getUint8(Z++)<<16))):(V>=1&&(G+=y.getUint8(Z++)),V>=2&&(G+=y.getUint8(Z++)<<8),3===V&&(G+=y.getUint8(Z++)<<16)),Ie(G,_e,Y)[2]}function Ie(y,M,Y){return y-=M,y-=Y,M-=Y,M-=y^=Y>>>13,Y-=y,Y-=M^=y<<8,y-=M,y-=Y^=M>>>13,M-=Y,M-=y^=Y>>>12,Y-=y,Y-=M^=y<<16,y-=M,y-=Y^=M>>>5,M-=Y,M-=y^=Y>>>3,Y-=y,Y-=M^=y<<10,[y,M,Y^=M>>>15]}function Ve(y,M,Y,G,_e=[]){const Z={},f={},V={},x=function Ge(y,M){const{text:Y,block:G}=_t(y,M);if(void 0===G)return{text:Y};{const[_e,...Z]=G.split(C),[f,V]=_e.split(g,2);let[x,ye]=f.split(m,2);return void 0===ye&&(ye=x,x=void 0),""===ye&&(ye=void 0),{text:Y,meaning:x,description:ye,customId:V,legacyIds:Z}}}(y[0],y.raw[0]),ye=[x.text],Te=[];let ke=x.text;for(let at=1;at<y.length;at++){const{messagePart:yt,placeholderName:Jt=zt(at),associatedMessageId:Qe}=gt(y[at],y.raw[at]);ke+=`{$${Jt}}${yt}`,void 0!==M&&(Z[Jt]=M[at-1],f[Jt]=_e[at-1]),Te.push(Jt),void 0!==Qe&&(V[Jt]=Qe),ye.push(yt)}const Ee=x.customId||function se(y,M=""){let Y=W(y);return M&&(Y=BigInt.asUintN(64,Y<<BigInt(1))|Y>>BigInt(63)&BigInt(1),Y+=W(M)),BigInt.asUintN(63,Y).toString()}(ke,x.meaning||""),nt=x.legacyIds?x.legacyIds.filter(at=>at!==Ee):[];return{id:Ee,legacyIds:nt,substitutions:Z,substitutionLocations:f,text:ke,customId:x.customId,meaning:x.meaning||"",description:x.description||"",messageParts:ye,messagePartLocations:G,placeholderNames:Te,associatedMessageIds:V,location:Y}}function gt(y,M){const{text:Y,block:G}=_t(y,M);if(void 0===G)return{messagePart:Y};{const[_e,Z]=G.split(g);return{messagePart:Y,placeholderName:_e,associatedMessageId:Z}}}function _t(y,M){if(M.charAt(0)!==r)return{text:y};{const Y=Rn(y,M);return{block:y.substring(1,Y),text:y.substring(Y+1)}}}function zt(y){return 1===y?"PH":"PH_"+(y-1)}function Rn(y,M){for(let Y=1,G=1;Y<y.length;Y++,G++)if("\\"===M[G])G++;else if(y[Y]===r)return Y;throw new Error(`Unterminated $localize metadata block in "${M}".`)}class Oe extends Error{constructor(M){super(`No translation found for ${wt(M)}.`),this.parsedMessage=M,this.type="MissingTranslationError"}}function ft(y,M){return Object.defineProperty(y,"raw",{value:M}),y}function wt(y){const M=y.meaning&&` - "${y.meaning}"`,Y=y.legacyIds&&y.legacyIds.length>0?` [${y.legacyIds.map(G=>`"${G}"`).join(", ")}]`:"";return`"${y.id}"${Y} ("${y.text}"${M})`}function kt(y){$localize.translate||($localize.translate=Ce),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(y).forEach(M=>{$localize.TRANSLATIONS[M]=function We(y){const M=y.split(/{\$([^}]*)}/),Y=[M[0]],G=[];for(let Z=1;Z<M.length-1;Z+=2)G.push(M[Z]),Y.push(`${M[Z+1]}`);const _e=Y.map(Z=>Z.charAt(0)===r?"\\"+Z:Z);return{text:y,messageParts:ft(Y,_e),placeholderNames:G}}(y[M])})}function Ce(y,M){try{return function He(y,M,Y){const G=Ve(M,Y);let _e=y[G.id];if(void 0!==G.legacyIds)for(let Z=0;Z<G.legacyIds.length&&void 0===_e;Z++)_e=y[G.legacyIds[Z]];if(void 0===_e)throw new Oe(G);return[_e.messageParts,_e.placeholderNames.map(Z=>{if(G.substitutions.hasOwnProperty(Z))return G.substitutions[Z];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${wt(G)}.\nThe translation contains a placeholder with name ${Z}, which does not exist in the message.`)})]}($localize.TRANSLATIONS,y,M)}catch(Y){return console.warn(Y.message),[y,M]}}const ne=function(y,...M){if(ne.translate){const G=ne.translate(y,M);y=G[0],M=G[1]}let Y=te(y[0],y.raw[0]);for(let G=1;G<y.length;G++)Y+=M[G-1]+te(y[G],y.raw[G]);return Y},Re=":";function te(y,M){return M.charAt(0)===Re?y.substring(Rn(y,M)+1):y}},65571:(bn,be,w)=>{"use strict";w.d(be,{Vg:()=>Ie,ec:()=>se,pc:()=>Q});var r=w(18617),m=w(45024),g=w(67336),C=w(54438),D=w(28203),h=w(89417),U=w(86600);const F=["button"],k=["*"];function z(ae,Me){if(1&ae&&C.nrm(0,"mat-pseudo-checkbox",3),2&ae){const q=C.XpG();C.Y8G("disabled",q.disabled)}}function B(ae,Me){if(1&ae&&C.nrm(0,"mat-pseudo-checkbox",3),2&ae){const q=C.XpG();C.Y8G("disabled",q.disabled)}}const A=new C.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function T(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),b=new C.nKC("MatButtonToggleGroup"),J={provide:h.kq,useExisting:(0,C.Rfq)(()=>se),multi:!0};let ce=0;class W{constructor(Me,q){this.source=Me,this.value=q}}let se=(()=>{class ae{get name(){return this._name}set name(q){this._name=q,this._markButtonsForCheck()}get value(){const q=this._selectionModel?this._selectionModel.selected:[];return this.multiple?q.map($=>$.value):q[0]?q[0].value:void 0}set value(q){this._setSelectionByValue(q),this.valueChange.emit(this.value)}get selected(){const q=this._selectionModel?this._selectionModel.selected:[];return this.multiple?q:q[0]||null}get multiple(){return this._multiple}set multiple(q){this._multiple=q,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(q){this._disabled=q,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(q){this._disabledInteractive=q,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(q){this._hideSingleSelectionIndicator=q,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(q){this._hideMultipleSelectionIndicator=q,this._markButtonsForCheck()}constructor(q,$,ge){this._changeDetector=q,this._dir=ge,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+ce++,this.valueChange=new C.bkB,this.change=new C.bkB,this.appearance=$&&$.appearance?$.appearance:"standard",this.hideSingleSelectionIndicator=$?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=$?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new m.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(q=>q.checked)),this.multiple||this._initializeTabIndex()}writeValue(q){this.value=q,this._changeDetector.markForCheck()}registerOnChange(q){this._controlValueAccessorChangeFn=q}registerOnTouched(q){this._onTouched=q}setDisabledState(q){this.disabled=q}_keydown(q){if(this.multiple||this.disabled)return;const ge=q.target.id,K=this._buttonToggles.toArray().findIndex(Ve=>Ve.buttonId===ge);let Ne=null;switch(q.keyCode){case g.t6:case g.Fm:Ne=this._buttonToggles.get(K)||null;break;case g.i7:Ne=this._getNextButton(K,-1);break;case g.UQ:Ne=this._getNextButton(K,"ltr"===this.dir?-1:1);break;case g.n6:Ne=this._getNextButton(K,1);break;case g.LE:Ne=this._getNextButton(K,"ltr"===this.dir?1:-1);break;default:return}Ne&&(q.preventDefault(),Ne._onButtonClick(),Ne.focus())}_emitChangeEvent(q){const $=new W(q,this.value);this._rawValue=$.value,this._controlValueAccessorChangeFn($.value),this.change.emit($)}_syncButtonToggle(q,$,ge=!1,K=!1){!this.multiple&&this.selected&&!q.checked&&(this.selected.checked=!1),this._selectionModel?$?this._selectionModel.select(q):this._selectionModel.deselect(q):K=!0,K?Promise.resolve().then(()=>this._updateModelValue(q,ge)):this._updateModelValue(q,ge)}_isSelected(q){return this._selectionModel&&this._selectionModel.isSelected(q)}_isPrechecked(q){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some($=>null!=q.value&&$===q.value):q.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(q=>{q.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let q=0;q<this._buttonToggles.length;q++){const $=this._buttonToggles.get(q);if(!$.disabled){$.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(q,$){const ge=this._buttonToggles;for(let K=1;K<=ge.length;K++){const Ve=ge.get((q+$*K+ge.length)%ge.length);if(Ve&&!Ve.disabled)return Ve}return null}_setSelectionByValue(q){this._rawValue=q,this._buttonToggles&&(this.multiple&&q?(Array.isArray(q),this._clearSelection(),q.forEach($=>this._selectValue($))):(this._clearSelection(),this._selectValue(q)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(q=>{q.checked=!1,this.multiple||(q.tabIndex=-1)})}_selectValue(q){const $=this._buttonToggles.find(ge=>null!=ge.value&&ge.value===q);$&&($.checked=!0,this._selectionModel.select($),this.multiple||($.tabIndex=0))}_updateModelValue(q,$){$&&this._emitChangeEvent(q),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(q=>q._markForCheck())}static#e=this.\u0275fac=function($){return new($||ae)(C.rXU(C.gRc),C.rXU(A,8),C.rXU(D.dS,8))};static#t=this.\u0275dir=C.FsC({type:ae,selectors:[["mat-button-toggle-group"]],contentQueries:function($,ge,K){if(1&$&&C.wni(K,Q,5),2&$){let Ne;C.mGM(Ne=C.lsd())&&(ge._buttonToggles=Ne)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function($,ge){1&$&&C.bIt("keydown",function(Ne){return ge._keydown(Ne)}),2&$&&(C.BMQ("role",ge.multiple?"group":"radiogroup")("aria-disabled",ge.disabled),C.AVh("mat-button-toggle-vertical",ge.vertical)("mat-button-toggle-group-appearance-standard","standard"===ge.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",C.L39],value:"value",multiple:[2,"multiple","multiple",C.L39],disabled:[2,"disabled","disabled",C.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",C.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",C.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",C.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[C.Jv_([J,{provide:b,useExisting:ae}]),C.GFd]})}return ae})(),Q=(()=>{class ae{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(q){this._tabIndex=q,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(q){this._appearance=q}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(q){q!==this._checked&&(this._checked=q,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(q){this._disabled=q}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(q){this._disabledInteractive=q}constructor(q,$,ge,K,Ne,Ve){this._changeDetectorRef=$,this._elementRef=ge,this._focusMonitor=K,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new C.bkB;const Ge=Number(Ne);this.tabIndex=Ge||0===Ge?Ge:null,this.buttonToggleGroup=q,this.appearance=Ve&&Ve.appearance?Ve.appearance:"standard",this.disabledInteractive=Ve?.disabledInteractive??!1}ngOnInit(){const q=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+ce++,q&&(q._isPrechecked(this)?this.checked=!0:q._isSelected(this)!==this._checked&&q._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const q=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),q&&q._isSelected(this)&&q._syncButtonToggle(this,!1,!1,!0)}focus(q){this._buttonElement.nativeElement.focus(q)}_onButtonClick(){if(this.disabled)return;const q=!!this.isSingleSelector()||!this._checked;if(q!==this._checked&&(this._checked=q,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const $=this.buttonToggleGroup._buttonToggles.find(ge=>0===ge.tabIndex);$&&($.tabIndex=-1),this.tabIndex=0}this.change.emit(new W(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function($){return new($||ae)(C.rXU(b,8),C.rXU(C.gRc),C.rXU(C.aKT),C.rXU(r.FN),C.kS0("tabindex"),C.rXU(A,8))};static#t=this.\u0275cmp=C.VBU({type:ae,selectors:[["mat-button-toggle"]],viewQuery:function($,ge){if(1&$&&C.GBs(F,5),2&$){let K;C.mGM(K=C.lsd())&&(ge._buttonElement=K.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function($,ge){1&$&&C.bIt("focus",function(){return ge.focus()}),2&$&&(C.BMQ("aria-label",null)("aria-labelledby",null)("id",ge.id)("name",null),C.AVh("mat-button-toggle-standalone",!ge.buttonToggleGroup)("mat-button-toggle-checked",ge.checked)("mat-button-toggle-disabled",ge.disabled)("mat-button-toggle-disabled-interactive",ge.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===ge.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",C.L39],appearance:"appearance",checked:[2,"checked","checked",C.L39],disabled:[2,"disabled","disabled",C.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",C.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[C.GFd,C.aNF],ngContentSelectors:k,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function($,ge){if(1&$){const K=C.RV6();C.NAR(),C.j41(0,"button",1,0),C.bIt("click",function(){return C.eBV(K),C.Njj(ge._onButtonClick())}),C.j41(2,"span",2),C.DNE(3,z,1,1,"mat-pseudo-checkbox",3)(4,B,1,1,"mat-pseudo-checkbox",3),C.SdG(5),C.k0s()(),C.nrm(6,"span",4)(7,"span",5)}if(2&$){const K=C.sdS(1);C.Y8G("id",ge.buttonId)("disabled",ge.disabled&&!ge.disabledInteractive||null),C.BMQ("role",ge.isSingleSelector()?"radio":"button")("tabindex",ge.disabled&&!ge.disabledInteractive?-1:ge.tabIndex)("aria-pressed",ge.isSingleSelector()?null:ge.checked)("aria-checked",ge.isSingleSelector()?ge.checked:null)("name",ge._getButtonName())("aria-label",ge.ariaLabel)("aria-labelledby",ge.ariaLabelledby)("aria-disabled",ge.disabled&&ge.disabledInteractive?"true":null),C.R7$(3),C.vxM(ge.buttonToggleGroup&&ge.checked&&!ge.buttonToggleGroup.multiple&&!ge.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),C.R7$(),C.vxM(ge.buttonToggleGroup&&ge.checked&&ge.buttonToggleGroup.multiple&&!ge.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),C.R7$(3),C.Y8G("matRippleTrigger",K)("matRippleDisabled",ge.disableRipple||ge.disabled)}},dependencies:[U.r6,U.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return ae})(),Ie=(()=>{class ae{static#e=this.\u0275fac=function($){return new($||ae)};static#t=this.\u0275mod=C.$C({type:ae});static#n=this.\u0275inj=C.G2t({imports:[U.yE,U.pZ,Q,U.yE]})}return ae})()},88834:(bn,be,w)=>{"use strict";w.d(be,{$z:()=>Me,Hl:()=>Rn});var r=w(36860),m=w(54438),g=w(18617),C=w(86600);const D=["mat-button",""],h=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],U=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ce=new m.nKC("MAT_BUTTON_CONFIG"),se=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Q=(()=>{class Oe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(He){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,He)}get disableRipple(){return this._disableRipple}set disableRipple(He){this._disableRipple=He,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(He){this._disabled=He,this._updateRippleDisabled()}constructor(He,We,st,ft){this._elementRef=He,this._platform=We,this._ngZone=st,this._animationMode=ft,this._focusMonitor=(0,m.WQX)(g.FN),this._rippleLoader=(0,m.WQX)(C.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const wt=(0,m.WQX)(ce,{optional:!0}),kt=He.nativeElement,je=kt.classList;this.disabledInteractive=wt?.disabledInteractive??!1,this.color=wt?.color??null,this._rippleLoader?.configureRipple(kt,{className:"mat-mdc-button-ripple"});for(const{attribute:Ce,mdcClasses:ne}of se)kt.hasAttribute(Ce)&&je.add(...ne)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(He="program",We){He?this._focusMonitor.focusVia(this._elementRef.nativeElement,He,We):this._elementRef.nativeElement.focus(We)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(We){m.QTQ()};static#t=this.\u0275dir=m.FsC({type:Oe,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",m.L39],disabled:[2,"disabled","disabled",m.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",m.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",m.L39]},features:[m.GFd]})}return Oe})(),Me=(()=>{class Oe extends Q{constructor(He,We,st,ft){super(He,We,st,ft)}static#e=this.\u0275fac=function(We){return new(We||Oe)(m.rXU(m.aKT),m.rXU(r.OD),m.rXU(m.SKi),m.rXU(m.bc$,8))};static#t=this.\u0275cmp=m.VBU({type:Oe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(We,st){2&We&&(m.BMQ("disabled",st._getDisabledAttribute())("aria-disabled",st._getAriaDisabled()),m.HbH(st.color?"mat-"+st.color:""),m.AVh("mat-mdc-button-disabled",st.disabled)("mat-mdc-button-disabled-interactive",st.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===st._animationMode)("mat-unthemed",!st.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[m.Vt3,m.aNF],attrs:D,ngContentSelectors:U,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(We,st){1&We&&(m.NAR(h),m.nrm(0,"span",0),m.SdG(1),m.j41(2,"span",1),m.SdG(3,1),m.k0s(),m.SdG(4,2),m.nrm(5,"span",2)(6,"span",3)),2&We&&m.AVh("mdc-button__ripple",!st._isFab)("mdc-fab__ripple",st._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),Rn=(()=>{class Oe{static#e=this.\u0275fac=function(We){return new(We||Oe)};static#t=this.\u0275mod=m.$C({type:Oe});static#n=this.\u0275inj=m.G2t({imports:[C.yE,C.pZ,C.yE]})}return Oe})()},82765:(bn,be,w)=>{"use strict";w.d(be,{So:()=>b,g7:()=>se});var r=w(54438),m=w(89417),g=w(86600);const C=["input"],D=["label"],h=["*"],U=new r.nKC("mat-checkbox-default-options",{providedIn:"root",factory:F});function F(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var k=function(Q){return Q[Q.Init=0]="Init",Q[Q.Checked=1]="Checked",Q[Q.Unchecked=2]="Unchecked",Q[Q.Indeterminate=3]="Indeterminate",Q}(k||{});const z={provide:m.kq,useExisting:(0,r.Rfq)(()=>b),multi:!0};class B{}let A=0;const T=F();let b=(()=>{class Q{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(ae){const Me=new B;return Me.source=this,Me.checked=ae,Me}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ae,Me,q,$,ge,K){this._elementRef=ae,this._changeDetectorRef=Me,this._ngZone=q,this._animationMode=ge,this._options=K,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new r.bkB,this.indeterminateChange=new r.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=k.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||T,this.color=this._options.color||T.color,this.tabIndex=parseInt($)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++A,this.disabledInteractive=K?.disabledInteractive??!1}ngOnChanges(ae){ae.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(ae){ae!=this.checked&&(this._checked=ae,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(ae){ae!==this.disabled&&(this._disabled=ae,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(ae){const Me=ae!=this._indeterminate;this._indeterminate=ae,Me&&(this._transitionCheckState(this._indeterminate?k.Indeterminate:this.checked?k.Checked:k.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(ae){this.checked=!!ae}registerOnChange(ae){this._controlValueAccessorChangeFn=ae}registerOnTouched(ae){this._onTouched=ae}setDisabledState(ae){this.disabled=ae}validate(ae){return this.required&&!0!==ae.value?{required:!0}:null}registerOnValidatorChange(ae){this._validatorChangeFn=ae}_transitionCheckState(ae){let Me=this._currentCheckState,q=this._getAnimationTargetElement();if(Me!==ae&&q&&(this._currentAnimationClass&&q.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(Me,ae),this._currentCheckState=ae,this._currentAnimationClass.length>0)){q.classList.add(this._currentAnimationClass);const $=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{q.classList.remove($)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const ae=this._options?.clickAction;this.disabled||"noop"===ae?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===ae)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==ae&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?k.Checked:k.Unchecked),this._emitChangeEvent())}_onInteractionEvent(ae){ae.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(ae,Me){if("NoopAnimations"===this._animationMode)return"";switch(ae){case k.Init:if(Me===k.Checked)return this._animationClasses.uncheckedToChecked;if(Me==k.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case k.Unchecked:return Me===k.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case k.Checked:return Me===k.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case k.Indeterminate:return Me===k.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(ae){const Me=this._inputElement;Me&&(Me.nativeElement.indeterminate=ae)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(ae){ae.target&&this._labelElement.nativeElement.contains(ae.target)&&ae.stopPropagation()}static#e=this.\u0275fac=function(Me){return new(Me||Q)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(r.SKi),r.kS0("tabindex"),r.rXU(r.bc$,8),r.rXU(U,8))};static#t=this.\u0275cmp=r.VBU({type:Q,selectors:[["mat-checkbox"]],viewQuery:function(Me,q){if(1&Me&&(r.GBs(C,5),r.GBs(D,5),r.GBs(g.r6,5)),2&Me){let $;r.mGM($=r.lsd())&&(q._inputElement=$.first),r.mGM($=r.lsd())&&(q._labelElement=$.first),r.mGM($=r.lsd())&&(q.ripple=$.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(Me,q){2&Me&&(r.Mr5("id",q.id),r.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),r.HbH(q.color?"mat-"+q.color:"mat-accent"),r.AVh("_mat-animation-noopable","NoopAnimations"===q._animationMode)("mdc-checkbox--disabled",q.disabled)("mat-mdc-checkbox-disabled",q.disabled)("mat-mdc-checkbox-checked",q.checked)("mat-mdc-checkbox-disabled-interactive",q.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",r.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",r.L39],tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?void 0:(0,r.Udg)(ae)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",r.L39],checked:[2,"checked","checked",r.L39],disabled:[2,"disabled","disabled",r.L39],indeterminate:[2,"indeterminate","indeterminate",r.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[r.Jv_([z,{provide:m.cz,useExisting:Q,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:h,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(Me,q){if(1&Me){const $=r.RV6();r.NAR(),r.j41(0,"div",3),r.bIt("click",function(K){return r.eBV($),r.Njj(q._preventBubblingFromLabel(K))}),r.j41(1,"div",4,0)(3,"div",5),r.bIt("click",function(){return r.eBV($),r.Njj(q._onTouchTargetClick())}),r.k0s(),r.j41(4,"input",6,1),r.bIt("blur",function(){return r.eBV($),r.Njj(q._onBlur())})("click",function(){return r.eBV($),r.Njj(q._onInputClick())})("change",function(K){return r.eBV($),r.Njj(q._onInteractionEvent(K))}),r.k0s(),r.nrm(6,"div",7),r.j41(7,"div",8),r.qSk(),r.j41(8,"svg",9),r.nrm(9,"path",10),r.k0s(),r.joV(),r.nrm(10,"div",11),r.k0s(),r.nrm(11,"div",12),r.k0s(),r.j41(12,"label",13,2),r.SdG(14),r.k0s()()}if(2&Me){const $=r.sdS(2);r.Y8G("labelPosition",q.labelPosition),r.R7$(4),r.AVh("mdc-checkbox--selected",q.checked),r.Y8G("checked",q.checked)("indeterminate",q.indeterminate)("disabled",q.disabled&&!q.disabledInteractive)("id",q.inputId)("required",q.required)("tabIndex",q.disabled&&!q.disabledInteractive?-1:q.tabIndex),r.BMQ("aria-label",q.ariaLabel||null)("aria-labelledby",q.ariaLabelledby)("aria-describedby",q.ariaDescribedby)("aria-checked",q.indeterminate?"mixed":null)("aria-disabled",!(!q.disabled||!q.disabledInteractive)||null)("name",q.name)("value",q.value),r.R7$(7),r.Y8G("matRippleTrigger",$)("matRippleDisabled",q.disableRipple||q.disabled)("matRippleCentered",!0),r.R7$(),r.Y8G("for",q.inputId)}},dependencies:[g.r6,g.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Q})(),se=(()=>{class Q{static#e=this.\u0275fac=function(Me){return new(Me||Q)};static#t=this.\u0275mod=r.$C({type:Q});static#n=this.\u0275inj=r.G2t({imports:[b,g.yE,g.yE]})}return Q})()},86600:(bn,be,w)=>{"use strict";w.d(be,{es:()=>M,QC:()=>Tt,is:()=>Bt,$E:()=>Qe,yE:()=>ge,wT:()=>In,Sy:()=>Cr,wg:()=>Mt,r6:()=>Ft,Ej:()=>Dn,pZ:()=>it,Ex:()=>f,X0:()=>Rn,tO:()=>Pn,jb:()=>Un,TL:()=>Jn});var r=w(54438),m=w(18617),g=w(28203),D=w(60177),h=w(36860),U=w(14085),F=w(85052),k=w(67336);const A=["text"],T=[[["mat-icon"]],"*"],b=["mat-icon","*"];function J(Sn,Tn){if(1&Sn&&r.nrm(0,"mat-pseudo-checkbox",1),2&Sn){const dn=r.XpG();r.Y8G("disabled",dn.disabled)("state",dn.selected?"checked":"unchecked")}}function ce(Sn,Tn){if(1&Sn&&r.nrm(0,"mat-pseudo-checkbox",3),2&Sn){const dn=r.XpG();r.Y8G("disabled",dn.disabled)}}function W(Sn,Tn){if(1&Sn&&(r.j41(0,"span",4),r.EFF(1),r.k0s()),2&Sn){const dn=r.XpG();r.R7$(),r.SpI("(",dn.group.label,")")}}const se=["mat-internal-form-field",""],Q=["*"],$=new r.nKC("mat-sanity-checks",{providedIn:"root",factory:function q(){return!0}});let ge=(()=>{class Sn{constructor(dn,Bn,Ct){this._sanityChecks=Bn,this._document=Ct,this._hasDoneGlobalChecks=!1,dn._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(dn){return!(0,h.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[dn])}static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)(r.KVO(m.Q_),r.KVO($,8),r.KVO(D.qQ))};static#t=this.\u0275mod=r.$C({type:Sn});static#n=this.\u0275inj=r.G2t({imports:[g.jI,g.jI]})}return Sn})();class Rn{constructor(Tn,dn,Bn,Ct,me){this._defaultMatcher=Tn,this.ngControl=dn,this._parentFormGroup=Bn,this._parentForm=Ct,this._stateChanges=me,this.errorState=!1}updateErrorState(){const Tn=this.errorState,dn=this._parentFormGroup||this._parentForm,Bn=this.matcher||this._defaultMatcher,Ct=this.ngControl?this.ngControl.control:null,me=Bn?.isErrorState(Ct,dn)??!1;me!==Tn&&(this.errorState=me,this._stateChanges.next())}}let M=(()=>{class Sn{isErrorState(dn,Bn){return!!(dn&&dn.invalid&&(dn.touched||Bn&&Bn.submitted))}static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)};static#t=this.\u0275prov=r.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}return Sn})();var f=function(Sn){return Sn[Sn.FADING_IN=0]="FADING_IN",Sn[Sn.VISIBLE=1]="VISIBLE",Sn[Sn.FADING_OUT=2]="FADING_OUT",Sn[Sn.HIDDEN=3]="HIDDEN",Sn}(f||{});class V{constructor(Tn,dn,Bn,Ct=!1){this._renderer=Tn,this.element=dn,this.config=Bn,this._animationForciblyDisabledThroughCss=Ct,this.state=f.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const x=(0,h.BQ)({passive:!0,capture:!0});class ye{constructor(){this._events=new Map,this._delegateEventHandler=Tn=>{const dn=(0,h.Fb)(Tn);dn&&this._events.get(Tn.type)?.forEach((Bn,Ct)=>{(Ct===dn||Ct.contains(dn))&&Bn.forEach(me=>me.handleEvent(Tn))})}}addHandler(Tn,dn,Bn,Ct){const me=this._events.get(dn);if(me){const ue=me.get(Bn);ue?ue.add(Ct):me.set(Bn,new Set([Ct]))}else this._events.set(dn,new Map([[Bn,new Set([Ct])]])),Tn.runOutsideAngular(()=>{document.addEventListener(dn,this._delegateEventHandler,x)})}removeHandler(Tn,dn,Bn){const Ct=this._events.get(Tn);if(!Ct)return;const me=Ct.get(dn);me&&(me.delete(Bn),0===me.size&&Ct.delete(dn),0===Ct.size&&(this._events.delete(Tn),document.removeEventListener(Tn,this._delegateEventHandler,x)))}}const Te={enterDuration:225,exitDuration:150},Ee=(0,h.BQ)({passive:!0,capture:!0}),nt=["mousedown","touchstart"],at=["mouseup","mouseleave","touchend","touchcancel"];class yt{static#e=this._eventManager=new ye;constructor(Tn,dn,Bn,Ct){this._target=Tn,this._ngZone=dn,this._platform=Ct,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ct.isBrowser&&(this._containerElement=(0,U.i8)(Bn))}fadeInRipple(Tn,dn,Bn={}){const Ct=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),me={...Te,...Bn.animation};Bn.centered&&(Tn=Ct.left+Ct.width/2,dn=Ct.top+Ct.height/2);const ue=Bn.radius||function Jt(Sn,Tn,dn){const Bn=Math.max(Math.abs(Sn-dn.left),Math.abs(Sn-dn.right)),Ct=Math.max(Math.abs(Tn-dn.top),Math.abs(Tn-dn.bottom));return Math.sqrt(Bn*Bn+Ct*Ct)}(Tn,dn,Ct),Ue=Tn-Ct.left,bt=dn-Ct.top,Ht=me.enterDuration,fn=document.createElement("div");fn.classList.add("mat-ripple-element"),fn.style.left=Ue-ue+"px",fn.style.top=bt-ue+"px",fn.style.height=2*ue+"px",fn.style.width=2*ue+"px",null!=Bn.color&&(fn.style.backgroundColor=Bn.color),fn.style.transitionDuration=`${Ht}ms`,this._containerElement.appendChild(fn);const cr=window.getComputedStyle(fn),ti=cr.transitionDuration,mi="none"===cr.transitionProperty||"0s"===ti||"0s, 0s"===ti||0===Ct.width&&0===Ct.height,li=new V(this,fn,Bn,mi);fn.style.transform="scale3d(1, 1, 1)",li.state=f.FADING_IN,Bn.persistent||(this._mostRecentTransientRipple=li);let Io=null;return!mi&&(Ht||me.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Co=()=>{Io&&(Io.fallbackTimer=null),clearTimeout(So),this._finishRippleTransition(li)},wo=()=>this._destroyRipple(li),So=setTimeout(wo,Ht+100);fn.addEventListener("transitionend",Co),fn.addEventListener("transitioncancel",wo),Io={onTransitionEnd:Co,onTransitionCancel:wo,fallbackTimer:So}}),this._activeRipples.set(li,Io),(mi||!Ht)&&this._finishRippleTransition(li),li}fadeOutRipple(Tn){if(Tn.state===f.FADING_OUT||Tn.state===f.HIDDEN)return;const dn=Tn.element,Bn={...Te,...Tn.config.animation};dn.style.transitionDuration=`${Bn.exitDuration}ms`,dn.style.opacity="0",Tn.state=f.FADING_OUT,(Tn._animationForciblyDisabledThroughCss||!Bn.exitDuration)&&this._finishRippleTransition(Tn)}fadeOutAll(){this._getActiveRipples().forEach(Tn=>Tn.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Tn=>{Tn.config.persistent||Tn.fadeOut()})}setupTriggerEvents(Tn){const dn=(0,U.i8)(Tn);!this._platform.isBrowser||!dn||dn===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=dn,nt.forEach(Bn=>{yt._eventManager.addHandler(this._ngZone,Bn,dn,this)}))}handleEvent(Tn){"mousedown"===Tn.type?this._onMousedown(Tn):"touchstart"===Tn.type?this._onTouchStart(Tn):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{at.forEach(dn=>{this._triggerElement.addEventListener(dn,this,Ee)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Tn){Tn.state===f.FADING_IN?this._startFadeOutTransition(Tn):Tn.state===f.FADING_OUT&&this._destroyRipple(Tn)}_startFadeOutTransition(Tn){const dn=Tn===this._mostRecentTransientRipple,{persistent:Bn}=Tn.config;Tn.state=f.VISIBLE,!Bn&&(!dn||!this._isPointerDown)&&Tn.fadeOut()}_destroyRipple(Tn){const dn=this._activeRipples.get(Tn)??null;this._activeRipples.delete(Tn),this._activeRipples.size||(this._containerRect=null),Tn===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Tn.state=f.HIDDEN,null!==dn&&(Tn.element.removeEventListener("transitionend",dn.onTransitionEnd),Tn.element.removeEventListener("transitioncancel",dn.onTransitionCancel),null!==dn.fallbackTimer&&clearTimeout(dn.fallbackTimer)),Tn.element.remove()}_onMousedown(Tn){const dn=(0,m._G)(Tn),Bn=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!dn&&!Bn&&(this._isPointerDown=!0,this.fadeInRipple(Tn.clientX,Tn.clientY,this._target.rippleConfig))}_onTouchStart(Tn){if(!this._target.rippleDisabled&&!(0,m.w6)(Tn)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const dn=Tn.changedTouches;if(dn)for(let Bn=0;Bn<dn.length;Bn++)this.fadeInRipple(dn[Bn].clientX,dn[Bn].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Tn=>{!Tn.config.persistent&&(Tn.state===f.VISIBLE||Tn.config.terminateOnPointerUp&&Tn.state===f.FADING_IN)&&Tn.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Tn=this._triggerElement;Tn&&(nt.forEach(dn=>yt._eventManager.removeHandler(dn,Tn,this)),this._pointerUpEventsRegistered&&(at.forEach(dn=>Tn.removeEventListener(dn,this,Ee)),this._pointerUpEventsRegistered=!1))}}const Qe=new r.nKC("mat-ripple-global-options");let Ft=(()=>{class Sn{get disabled(){return this._disabled}set disabled(dn){dn&&this.fadeOutAllNonPersistent(),this._disabled=dn,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(dn){this._trigger=dn,this._setupTriggerEventsIfEnabled()}constructor(dn,Bn,Ct,me,ue){this._elementRef=dn,this._animationMode=ue,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=me||{},this._rippleRenderer=new yt(this,Bn,dn,Ct)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(dn,Bn=0,Ct){return"number"==typeof dn?this._rippleRenderer.fadeInRipple(dn,Bn,{...this.rippleConfig,...Ct}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...dn})}static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(h.OD),r.rXU(Qe,8),r.rXU(r.bc$,8))};static#t=this.\u0275dir=r.FsC({type:Sn,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Bn,Ct){2&Bn&&r.AVh("mat-ripple-unbounded",Ct.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Sn})(),it=(()=>{class Sn{static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)};static#t=this.\u0275mod=r.$C({type:Sn});static#n=this.\u0275inj=r.G2t({imports:[ge,ge]})}return Sn})(),Mt=(()=>{class Sn{constructor(dn){this._animationMode=dn,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)(r.rXU(r.bc$,8))};static#t=this.\u0275cmp=r.VBU({type:Sn,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Bn,Ct){2&Bn&&r.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Ct.state)("mat-pseudo-checkbox-checked","checked"===Ct.state)("mat-pseudo-checkbox-disabled",Ct.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ct.appearance)("mat-pseudo-checkbox-full","full"===Ct.appearance)("_mat-animation-noopable","NoopAnimations"===Ct._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(Bn,Ct){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Sn})(),lt=(()=>{class Sn{static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)};static#t=this.\u0275mod=r.$C({type:Sn});static#n=this.\u0275inj=r.G2t({imports:[ge]})}return Sn})();const Bt=new r.nKC("MAT_OPTION_PARENT_COMPONENT"),Tt=new r.nKC("MatOptgroup");let Et=0;class vn{constructor(Tn,dn=!1){this.source=Tn,this.isUserInput=dn}}let In=(()=>{class Sn{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(dn){this._disabled=dn}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(dn,Bn,Ct,me){this._element=dn,this._changeDetectorRef=Bn,this._parent=Ct,this.group=me,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Et++,this.onSelectionChange=new r.bkB,this._stateChanges=new F.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(dn=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),dn&&this._emitSelectionChangeEvent())}deselect(dn=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),dn&&this._emitSelectionChangeEvent())}focus(dn,Bn){const Ct=this._getHostElement();"function"==typeof Ct.focus&&Ct.focus(Bn)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(dn){(dn.keyCode===k.Fm||dn.keyCode===k.t6)&&!(0,k.rp)(dn)&&(this._selectViaInteraction(),dn.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const dn=this.viewValue;dn!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=dn)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(dn=!1){this.onSelectionChange.emit(new vn(this,dn))}static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(Bt,8),r.rXU(Tt,8))};static#t=this.\u0275cmp=r.VBU({type:Sn,selectors:[["mat-option"]],viewQuery:function(Bn,Ct){if(1&Bn&&r.GBs(A,7),2&Bn){let me;r.mGM(me=r.lsd())&&(Ct._text=me.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Bn,Ct){1&Bn&&r.bIt("click",function(){return Ct._selectViaInteraction()})("keydown",function(ue){return Ct._handleKeydown(ue)}),2&Bn&&(r.Mr5("id",Ct.id),r.BMQ("aria-selected",Ct.selected)("aria-disabled",Ct.disabled.toString()),r.AVh("mdc-list-item--selected",Ct.selected)("mat-mdc-option-multiple",Ct.multiple)("mat-mdc-option-active",Ct.active)("mdc-list-item--disabled",Ct.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",r.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[r.GFd,r.aNF],ngContentSelectors:b,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Bn,Ct){1&Bn&&(r.NAR(T),r.DNE(0,J,1,2,"mat-pseudo-checkbox",1),r.SdG(1),r.j41(2,"span",2,0),r.SdG(4,1),r.k0s(),r.DNE(5,ce,1,1,"mat-pseudo-checkbox",3)(6,W,2,1,"span",4),r.nrm(7,"div",5)),2&Bn&&(r.vxM(Ct.multiple?0:-1),r.R7$(5),r.vxM(Ct.multiple||!Ct.selected||Ct.hideSingleSelectionIndicator?-1:5),r.R7$(),r.vxM(Ct.group&&Ct.group._inert?6:-1),r.R7$(),r.Y8G("matRippleTrigger",Ct._getHostElement())("matRippleDisabled",Ct.disabled||Ct.disableRipple))},dependencies:[Mt,Ft],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Sn})();function Un(Sn,Tn,dn){if(dn.length){let Bn=Tn.toArray(),Ct=dn.toArray(),me=0;for(let ue=0;ue<Sn+1;ue++)Bn[ue].group&&Bn[ue].group===Ct[me]&&me++;return me}return 0}function Jn(Sn,Tn,dn,Bn){return Sn<dn?Sn:Sn+Tn>dn+Bn?Math.max(0,Sn-Bn+Tn):dn}let Cr=(()=>{class Sn{static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)};static#t=this.\u0275mod=r.$C({type:Sn});static#n=this.\u0275inj=r.G2t({imports:[it,ge,lt]})}return Sn})();const wn={capture:!0},cn=["focus","mousedown","mouseenter","touchstart"],Yt="mat-ripple-loader-uninitialized",Qt="mat-ripple-loader-class-name",jn="mat-ripple-loader-centered",Lt="mat-ripple-loader-disabled";let Dn=(()=>{class Sn{constructor(){this._document=(0,r.WQX)(D.qQ,{optional:!0}),this._animationMode=(0,r.WQX)(r.bc$,{optional:!0}),this._globalRippleOptions=(0,r.WQX)(Qe,{optional:!0}),this._platform=(0,r.WQX)(h.OD),this._ngZone=(0,r.WQX)(r.SKi),this._hosts=new Map,this._onInteraction=dn=>{const Bn=(0,h.Fb)(dn);if(Bn instanceof HTMLElement){const Ct=Bn.closest(`[${Yt}="${this._globalRippleOptions?.namespace??""}"]`);Ct&&this._createRipple(Ct)}},this._ngZone.runOutsideAngular(()=>{for(const dn of cn)this._document?.addEventListener(dn,this._onInteraction,wn)})}ngOnDestroy(){const dn=this._hosts.keys();for(const Bn of dn)this.destroyRipple(Bn);for(const Bn of cn)this._document?.removeEventListener(Bn,this._onInteraction,wn)}configureRipple(dn,Bn){dn.setAttribute(Yt,this._globalRippleOptions?.namespace??""),(Bn.className||!dn.hasAttribute(Qt))&&dn.setAttribute(Qt,Bn.className||""),Bn.centered&&dn.setAttribute(jn,""),Bn.disabled&&dn.setAttribute(Lt,"")}getRipple(dn){return this._hosts.get(dn)||this._createRipple(dn)}setDisabled(dn,Bn){const Ct=this._hosts.get(dn);Ct?Ct.disabled=Bn:Bn?dn.setAttribute(Lt,""):dn.removeAttribute(Lt)}_createRipple(dn){if(!this._document)return;const Bn=this._hosts.get(dn);if(Bn)return Bn;dn.querySelector(".mat-ripple")?.remove();const Ct=this._document.createElement("span");Ct.classList.add("mat-ripple",dn.getAttribute(Qt)),dn.append(Ct);const me=new Ft(new r.aKT(Ct),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return me._isInitialized=!0,me.trigger=dn,me.centered=dn.hasAttribute(jn),me.disabled=dn.hasAttribute(Lt),this.attachRipple(dn,me),me}attachRipple(dn,Bn){dn.removeAttribute(Yt),this._hosts.set(dn,Bn)}destroyRipple(dn){const Bn=this._hosts.get(dn);Bn&&(Bn.ngOnDestroy(),this._hosts.delete(dn))}static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)};static#t=this.\u0275prov=r.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}return Sn})(),Pn=(()=>{class Sn{static#e=this.\u0275fac=function(Bn){return new(Bn||Sn)};static#t=this.\u0275cmp=r.VBU({type:Sn,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Bn,Ct){2&Bn&&r.AVh("mdc-form-field--align-end","before"===Ct.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[r.aNF],attrs:se,ngContentSelectors:Q,decls:1,vars:0,template:function(Bn,Ct){1&Bn&&(r.NAR(),r.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Sn})()},34006:(bn,be,w)=>{"use strict";w.d(be,{BI:()=>kt,CP:()=>Ge,E7:()=>Ce,Vh:()=>_t,Yi:()=>je,bZ:()=>We,hM:()=>te,tx:()=>ft});var r=w(47987),m=w(60177),g=w(54438),C=w(18617),D=w(82529),h=w(14085),U=w(76939),F=w(85052),k=w(76718),z=w(45946),B=w(14264),A=w(17365),T=w(35160),b=w(67336),J=w(65478),ce=w(86600);function se(Y,G){}w(49969);class Q{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ie="mdc-dialog--open",ae="mdc-dialog--opening",Me="mdc-dialog--closing";let ge=(()=>{class Y extends D.sU{constructor(_e,Z,f,V,x,ye,Te,ke,Ee){super(_e,Z,f,V,x,ye,Te,Ee),this._animationMode=ke,this._animationStateChanged=new g.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ne(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ne(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(K,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ae,Ie)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ie),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ie),this._animationsEnabled?(this._hostElement.style.setProperty(K,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Me)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(_e){this._actionSectionCount+=_e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ae,Me)}_waitForAnimationToComplete(_e,Z){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Z,_e)}_requestAnimationFrame(_e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):_e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(_e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:_e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(_e){const Z=super.attachComponentPortal(_e);return Z.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Z}static#e=this.\u0275fac=function(Z){return new(Z||Y)(g.rXU(g.aKT),g.rXU(C.GX),g.rXU(m.qQ,8),g.rXU(Q),g.rXU(C.Z7),g.rXU(g.SKi),g.rXU(r.yY),g.rXU(g.bc$,8),g.rXU(C.FN))};static#t=this.\u0275cmp=g.VBU({type:Y,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(Z,f){2&Z&&(g.Mr5("id",f._config.id),g.BMQ("aria-modal",f._config.ariaModal)("role",f._config.role)("aria-labelledby",f._config.ariaLabel?null:f._ariaLabelledByQueue[0])("aria-label",f._config.ariaLabel)("aria-describedby",f._config.ariaDescribedBy||null),g.AVh("_mat-animation-noopable",!f._animationsEnabled)("mat-mdc-dialog-container-with-actions",f._actionSectionCount>0))},standalone:!0,features:[g.Vt3,g.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Z,f){1&Z&&(g.j41(0,"div",0)(1,"div",1),g.DNE(2,se,0,0,"ng-template",2),g.k0s()())},dependencies:[U.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Y})();const K="--mat-dialog-transition-duration";function Ne(Y){return null==Y?null:"number"==typeof Y?Y:Y.endsWith("ms")?(0,h.OE)(Y.substring(0,Y.length-2)):Y.endsWith("s")?1e3*(0,h.OE)(Y.substring(0,Y.length-1)):"0"===Y?0:null}var Ve=function(Y){return Y[Y.OPEN=0]="OPEN",Y[Y.CLOSING=1]="CLOSING",Y[Y.CLOSED=2]="CLOSED",Y}(Ve||{});class Ge{constructor(G,_e,Z){this._ref=G,this._containerInstance=Z,this._afterOpened=new F.B,this._beforeClosed=new F.B,this._state=Ve.OPEN,this.disableClose=_e.disableClose,this.id=G.id,G.addPanelClass("mat-mdc-dialog-panel"),Z._animationStateChanged.pipe((0,B.p)(f=>"opened"===f.state),(0,A.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Z._animationStateChanged.pipe((0,B.p)(f=>"closed"===f.state),(0,A.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),G.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,k.h)(this.backdropClick(),this.keydownEvents().pipe((0,B.p)(f=>f.keyCode===b._f&&!this.disableClose&&!(0,b.rp)(f)))).subscribe(f=>{this.disableClose||(f.preventDefault(),gt(this,"keydown"===f.type?"keyboard":"mouse"))})}close(G){this._result=G,this._containerInstance._animationStateChanged.pipe((0,B.p)(_e=>"closing"===_e.state),(0,A.s)(1)).subscribe(_e=>{this._beforeClosed.next(G),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),_e.totalTime+100)}),this._state=Ve.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(G){let _e=this._ref.config.positionStrategy;return G&&(G.left||G.right)?G.left?_e.left(G.left):_e.right(G.right):_e.centerHorizontally(),G&&(G.top||G.bottom)?G.top?_e.top(G.top):_e.bottom(G.bottom):_e.centerVertically(),this._ref.updatePosition(),this}updateSize(G="",_e=""){return this._ref.updateSize(G,_e),this}addPanelClass(G){return this._ref.addPanelClass(G),this}removePanelClass(G){return this._ref.removePanelClass(G),this}getState(){return this._state}_finishDialogClose(){this._state=Ve.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function gt(Y,G,_e){return Y._closeInteractionType=G,Y.close(_e)}const _t=new g.nKC("MatMdcDialogData"),zt=new g.nKC("mat-mdc-dialog-default-options"),Rn=new g.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Y=(0,g.WQX)(r.hJ);return()=>Y.scrollStrategies.block()}});let He=0,We=(()=>{class Y{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const _e=this._parentDialog;return _e?_e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(_e,Z,f,V,x,ye,Te,ke){this._overlay=_e,this._defaultOptions=V,this._scrollStrategy=x,this._parentDialog=ye,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this.dialogConfigClass=Q,this.afterAllClosed=(0,z.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,T.Z)(void 0))),this._dialog=Z.get(D.lG),this._dialogRefConstructor=Ge,this._dialogContainerType=ge,this._dialogDataToken=_t}open(_e,Z){let f;(Z={...this._defaultOptions||new Q,...Z}).id=Z.id||"mat-mdc-dialog-"+He++,Z.scrollStrategy=Z.scrollStrategy||this._scrollStrategy();const V=this._dialog.open(_e,{...Z,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Z},{provide:D.Pe,useValue:Z}]},templateContext:()=>({dialogRef:f}),providers:(x,ye,Te)=>(f=new this._dialogRefConstructor(x,Z,Te),f.updatePosition(Z?.position),[{provide:this._dialogContainerType,useValue:Te},{provide:this._dialogDataToken,useValue:ye.data},{provide:this._dialogRefConstructor,useValue:f}])});return f.componentRef=V.componentRef,f.componentInstance=V.componentInstance,this.openDialogs.push(f),this.afterOpened.next(f),f.afterClosed().subscribe(()=>{const x=this.openDialogs.indexOf(f);x>-1&&(this.openDialogs.splice(x,1),this.openDialogs.length||this._getAfterAllClosed().next())}),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(_e){return this.openDialogs.find(Z=>Z.id===_e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(_e){let Z=_e.length;for(;Z--;)_e[Z].close()}static#e=this.\u0275fac=function(Z){return new(Z||Y)(g.KVO(r.hJ),g.KVO(g.zZn),g.KVO(m.aZ,8),g.KVO(zt,8),g.KVO(Rn),g.KVO(Y,12),g.KVO(r.Sf),g.KVO(g.bc$,8))};static#t=this.\u0275prov=g.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),st=0,ft=(()=>{class Y{constructor(_e,Z,f){this.dialogRef=_e,this._elementRef=Z,this._dialog=f,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ne(this._elementRef,this._dialog.openDialogs))}ngOnChanges(_e){const Z=_e._matDialogClose||_e._matDialogCloseResult;Z&&(this.dialogResult=Z.currentValue)}_onButtonClick(_e){gt(this.dialogRef,0===_e.screenX&&0===_e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(Z){return new(Z||Y)(g.rXU(Ge,8),g.rXU(g.aKT),g.rXU(We))};static#t=this.\u0275dir=g.FsC({type:Y,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Z,f){1&Z&&g.bIt("click",function(x){return f._onButtonClick(x)}),2&Z&&g.BMQ("aria-label",f.ariaLabel||null)("type",f.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[g.OA$]})}return Y})(),wt=(()=>{class Y{constructor(_e,Z,f){this._dialogRef=_e,this._elementRef=Z,this._dialog=f}ngOnInit(){this._dialogRef||(this._dialogRef=ne(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(Z){return new(Z||Y)(g.rXU(Ge,8),g.rXU(g.aKT),g.rXU(We))};static#t=this.\u0275dir=g.FsC({type:Y,standalone:!0})}return Y})(),kt=(()=>{class Y extends wt{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+st++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let _e;return function(f){return(_e||(_e=g.xGo(Y)))(f||Y)}})();static#t=this.\u0275dir=g.FsC({type:Y,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Z,f){2&Z&&g.Mr5("id",f.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[g.Vt3]})}return Y})(),je=(()=>{class Y{static#e=this.\u0275fac=function(Z){return new(Z||Y)};static#t=this.\u0275dir=g.FsC({type:Y,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[g.nM4([J.uv])]})}return Y})(),Ce=(()=>{class Y extends wt{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let _e;return function(f){return(_e||(_e=g.xGo(Y)))(f||Y)}})();static#t=this.\u0275dir=g.FsC({type:Y,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(Z,f){2&Z&&g.AVh("mat-mdc-dialog-actions-align-start","start"===f.align)("mat-mdc-dialog-actions-align-center","center"===f.align)("mat-mdc-dialog-actions-align-end","end"===f.align)},inputs:{align:"align"},standalone:!0,features:[g.Vt3]})}return Y})();function ne(Y,G){let _e=Y.nativeElement.parentElement;for(;_e&&!_e.classList.contains("mat-mdc-dialog-container");)_e=_e.parentElement;return _e?G.find(Z=>Z.id===_e.id):null}let te=(()=>{class Y{static#e=this.\u0275fac=function(Z){return new(Z||Y)};static#t=this.\u0275mod=g.$C({type:Y});static#n=this.\u0275inj=g.G2t({providers:[We],imports:[D.Ph,r.z_,U.jc,ce.yE,ce.yE]})}return Y})()},71997:(bn,be,w)=>{"use strict";w.d(be,{q:()=>C,w:()=>D});var r=w(54438),m=w(14085),g=w(86600);let C=(()=>{class h{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(F){this._vertical=(0,m.he)(F)}get inset(){return this._inset}set inset(F){this._inset=(0,m.he)(F)}static#e=this.\u0275fac=function(k){return new(k||h)};static#t=this.\u0275cmp=r.VBU({type:h,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(k,z){2&k&&(r.BMQ("aria-orientation",z.vertical?"vertical":"horizontal"),r.AVh("mat-divider-vertical",z.vertical)("mat-divider-horizontal",!z.vertical)("mat-divider-inset",z.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(k,z){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return h})(),D=(()=>{class h{static#e=this.\u0275fac=function(k){return new(k||h)};static#t=this.\u0275mod=r.$C({type:h});static#n=this.\u0275inj=r.G2t({imports:[g.yE,g.yE]})}return h})()},53719:(bn,be,w)=>{"use strict";w.d(be,{RG:()=>Jt,TL:()=>He,qT:()=>_e,xb:()=>x});var r=w(54438),m=w(60177),C=(w(49969),w(72318)),D=w(86600);let Oe=0;const De=new r.nKC("MatError");let He=(()=>{class Qe{constructor(it,Mt){this.id="mat-mdc-error-"+Oe++,it||Mt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Mt){return new(Mt||Qe)(r.kS0("aria-live"),r.rXU(r.aKT))};static#t=this.\u0275dir=r.FsC({type:Qe,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Mt,lt){2&Mt&&r.Mr5("id",lt.id)},inputs:{id:"id"},standalone:!0,features:[r.Jv_([{provide:De,useExisting:Qe}])]})}return Qe})(),_e=(()=>{class Qe{static#e=this.\u0275fac=function(Mt){return new(Mt||Qe)};static#t=this.\u0275dir=r.FsC({type:Qe})}return Qe})();const x=new r.nKC("MatFormField");let Jt=(()=>{class Qe{static#e=this.\u0275fac=function(Mt){return new(Mt||Qe)};static#t=this.\u0275mod=r.$C({type:Qe});static#n=this.\u0275inj=r.G2t({imports:[D.yE,m.MD,C.w5,D.yE]})}return Qe})()},59115:(bn,be,w)=>{"use strict";w.d(be,{Cn:()=>Y,Cp:()=>M,fb:()=>gt,kk:()=>je,z8:()=>De});var r=w(54438),m=w(18617),g=w(67336),C=w(85052),D=w(76718),h=w(81027),U=w(15877),F=w(82755),k=w(35160),z=w(32914),B=w(37925),A=w(14264),T=w(17365),b=w(19833),J=w(60177),ce=w(86600),W=w(76939),se=w(49969),Q=w(28203),Ie=w(47987),ae=w(36860),Me=w(65478);const q=["mat-menu-item",""],$=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ge=["mat-icon, [matMenuItemIcon]","*"];function K(G,_e){1&G&&(r.qSk(),r.j41(0,"svg",2),r.nrm(1,"polygon",3),r.k0s())}const Ne=["*"];function Ve(G,_e){if(1&G){const Z=r.RV6();r.j41(0,"div",0),r.bIt("keydown",function(V){r.eBV(Z);const x=r.XpG();return r.Njj(x._handleKeydown(V))})("click",function(){r.eBV(Z);const V=r.XpG();return r.Njj(V.closed.emit("click"))})("@transformMenu.start",function(V){r.eBV(Z);const x=r.XpG();return r.Njj(x._onAnimationStart(V))})("@transformMenu.done",function(V){r.eBV(Z);const x=r.XpG();return r.Njj(x._onAnimationDone(V))}),r.j41(1,"div",1),r.SdG(2),r.k0s()()}if(2&G){const Z=r.XpG();r.HbH(Z._classList),r.Y8G("id",Z.panelId)("@transformMenu",Z._panelAnimationState),r.BMQ("aria-label",Z.ariaLabel||null)("aria-labelledby",Z.ariaLabelledby||null)("aria-describedby",Z.ariaDescribedby||null)}}const Ge=new r.nKC("MAT_MENU_PANEL");let gt=(()=>{class G{constructor(Z,f,V,x,ye){this._elementRef=Z,this._document=f,this._focusMonitor=V,this._parentMenu=x,this._changeDetectorRef=ye,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new C.B,this._focused=new C.B,this._highlighted=!1,this._triggersSubmenu=!1,x?.addItem?.(this)}focus(Z,f){this._focusMonitor&&Z?this._focusMonitor.focusVia(this._getHostElement(),Z,f):this._getHostElement().focus(f),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Z){this.disabled&&(Z.preventDefault(),Z.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Z=this._elementRef.nativeElement.cloneNode(!0),f=Z.querySelectorAll("mat-icon, .material-icons");for(let V=0;V<f.length;V++)f[V].remove();return Z.textContent?.trim()||""}_setHighlighted(Z){this._highlighted=Z,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Z){this._triggersSubmenu=Z,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(f){return new(f||G)(r.rXU(r.aKT),r.rXU(J.qQ),r.rXU(m.FN),r.rXU(Ge,8),r.rXU(r.gRc))};static#t=this.\u0275cmp=r.VBU({type:G,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(f,V){1&f&&r.bIt("click",function(ye){return V._checkDisabled(ye)})("mouseenter",function(){return V._handleMouseEnter()}),2&f&&(r.BMQ("role",V.role)("tabindex",V._getTabIndex())("aria-disabled",V.disabled)("disabled",V.disabled||null),r.AVh("mat-mdc-menu-item-highlighted",V._highlighted)("mat-mdc-menu-item-submenu-trigger",V._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",r.L39],disableRipple:[2,"disableRipple","disableRipple",r.L39]},exportAs:["matMenuItem"],standalone:!0,features:[r.GFd,r.aNF],attrs:q,ngContentSelectors:ge,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(f,V){1&f&&(r.NAR($),r.SdG(0),r.j41(1,"span",0),r.SdG(2,1),r.k0s(),r.nrm(3,"div",1),r.DNE(4,K,2,0,":svg:svg",2)),2&f&&(r.R7$(3),r.Y8G("matRippleDisabled",V.disableRipple||V.disabled)("matRippleTrigger",V._getHostElement()),r.R7$(),r.vxM(V._triggersSubmenu?4:-1))},dependencies:[ce.r6],encapsulation:2,changeDetection:0})}return G})();const Oe=new r.nKC("MatMenuContent");let De=(()=>{class G{constructor(Z,f,V,x,ye,Te,ke){this._template=Z,this._componentFactoryResolver=f,this._appRef=V,this._injector=x,this._viewContainerRef=ye,this._document=Te,this._changeDetectorRef=ke,this._attached=new C.B}attach(Z={}){this._portal||(this._portal=new W.VA(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new W.aI(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const f=this._template.elementRef.nativeElement;f.parentNode.insertBefore(this._outlet.outletElement,f),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,Z),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}static#e=this.\u0275fac=function(f){return new(f||G)(r.rXU(r.C4Q),r.rXU(r.OM3),r.rXU(r.o8S),r.rXU(r.zZn),r.rXU(r.c1b),r.rXU(J.qQ),r.rXU(r.gRc))};static#t=this.\u0275dir=r.FsC({type:G,selectors:[["ng-template","matMenuContent",""]],standalone:!0,features:[r.Jv_([{provide:Oe,useExisting:G}])]})}return G})();const He={transformMenu:(0,se.hZ)("transformMenu",[(0,se.wk)("void",(0,se.iF)({opacity:0,transform:"scale(0.8)"})),(0,se.kY)("void => enter",(0,se.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,se.iF)({opacity:1,transform:"scale(1)"}))),(0,se.kY)("* => void",(0,se.i0)("100ms 25ms linear",(0,se.iF)({opacity:0})))]),fadeInItems:(0,se.hZ)("fadeInItems",[(0,se.wk)("showing",(0,se.iF)({opacity:1})),(0,se.kY)("void => *",[(0,se.iF)({opacity:0}),(0,se.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ft=0;const wt=new r.nKC("mat-menu-default-options",{providedIn:"root",factory:function kt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let je=(()=>{class G{get xPosition(){return this._xPosition}set xPosition(Z){this._xPosition=Z,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Z){this._yPosition=Z,this.setPositionClasses()}set panelClass(Z){const f=this._previousPanelClass,V={...this._classList};f&&f.length&&f.split(" ").forEach(x=>{V[x]=!1}),this._previousPanelClass=Z,Z&&Z.length&&(Z.split(" ").forEach(x=>{V[x]=!0}),this._elementRef.nativeElement.className=""),this._classList=V}get classList(){return this.panelClass}set classList(Z){this.panelClass=Z}constructor(Z,f,V,x){this._elementRef=Z,this._changeDetectorRef=x,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new r.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new C.B,this.closed=new r.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+ft++,this._injector=(0,r.WQX)(r.zZn),this.overlayPanelClass=V.overlayPanelClass||"",this._xPosition=V.xPosition,this._yPosition=V.yPosition,this.backdropClass=V.backdropClass,this.overlapTrigger=V.overlapTrigger,this.hasBackdrop=V.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new m.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,k.Z)(this._directDescendantItems),(0,z.n)(Z=>(0,D.h)(...Z.map(f=>f._focused)))).subscribe(Z=>this._keyManager.updateActiveItem(Z)),this._directDescendantItems.changes.subscribe(Z=>{const f=this._keyManager;if("enter"===this._panelAnimationState&&f.activeItem?._hasFocus()){const V=Z.toArray(),x=Math.max(0,Math.min(V.length-1,f.activeItemIndex||0));V[x]&&!V[x].disabled?f.setActiveItem(x):f.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,k.Z)(this._directDescendantItems),(0,z.n)(f=>(0,D.h)(...f.map(V=>V._hovered))))}addItem(Z){}removeItem(Z){}_handleKeydown(Z){const f=Z.keyCode,V=this._keyManager;switch(f){case g._f:(0,g.rp)(Z)||(Z.preventDefault(),this.closed.emit("keydown"));break;case g.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case g.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(f===g.i7||f===g.n6)&&V.setFocusOrigin("keyboard"),void V.onKeydown(Z)}Z.stopPropagation()}focusFirstItem(Z="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,r.mal)(()=>{let f=null;if(this._directDescendantItems.length&&(f=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!f||!f.contains(document.activeElement)){const V=this._keyManager;V.setFocusOrigin(Z).setFirstItemActive(),!V.activeItem&&f&&f.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Z){if(null===this._baseElevation){const Te=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Te)}const f=Math.min(this._baseElevation+Z,24),V=`${this._elevationPrefix}${f}`,x=Object.keys(this._classList).find(ye=>ye.startsWith(this._elevationPrefix));if(!x||x===this._previousElevation){const ye={...this._classList};this._previousElevation&&(ye[this._previousElevation]=!1),ye[V]=!0,this._previousElevation=V,this._classList=ye}}setPositionClasses(Z=this.xPosition,f=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Z,"mat-menu-after":"after"===Z,"mat-menu-above":"above"===f,"mat-menu-below":"below"===f},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Z){this._animationDone.next(Z),this._isAnimating=!1}_onAnimationStart(Z){this._isAnimating=!0,"enter"===Z.toState&&0===this._keyManager.activeItemIndex&&(Z.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,k.Z)(this._allItems)).subscribe(Z=>{this._directDescendantItems.reset(Z.filter(f=>f._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(f){return new(f||G)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(wt),r.rXU(r.gRc))};static#t=this.\u0275cmp=r.VBU({type:G,selectors:[["mat-menu"]],contentQueries:function(f,V,x){if(1&f&&(r.wni(x,Oe,5),r.wni(x,gt,5),r.wni(x,gt,4)),2&f){let ye;r.mGM(ye=r.lsd())&&(V.lazyContent=ye.first),r.mGM(ye=r.lsd())&&(V._allItems=ye),r.mGM(ye=r.lsd())&&(V.items=ye)}},viewQuery:function(f,V){if(1&f&&r.GBs(r.C4Q,5),2&f){let x;r.mGM(x=r.lsd())&&(V.templateRef=x.first)}},hostVars:3,hostBindings:function(f,V){2&f&&r.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",r.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Z=>null==Z?null:(0,r.L39)(Z)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[r.Jv_([{provide:Ge,useExisting:G}]),r.GFd,r.aNF],ngContentSelectors:Ne,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(f,V){1&f&&(r.NAR(),r.DNE(0,Ve,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[He.transformMenu,He.fadeInItems]},changeDetection:0})}return G})();const Ce=new r.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const G=(0,r.WQX)(Ie.hJ);return()=>G.scrollStrategies.reposition()}}),Re={provide:Ce,deps:[Ie.hJ],useFactory:function ne(G){return()=>G.scrollStrategies.reposition()}},te=(0,ae.BQ)({passive:!0});let M=(()=>{class G{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Z){this.menu=Z}get menu(){return this._menu}set menu(Z){Z!==this._menu&&(this._menu=Z,this._menuCloseSubscription.unsubscribe(),Z&&(this._menuCloseSubscription=Z.close.subscribe(f=>{this._destroyMenu(f),("click"===f||"tab"===f)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(f)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Z,f,V,x,ye,Te,ke,Ee,nt){this._overlay=Z,this._element=f,this._viewContainerRef=V,this._menuItemInstance=Te,this._dir=ke,this._focusMonitor=Ee,this._ngZone=nt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=h.yU.EMPTY,this._hoverSubscription=h.yU.EMPTY,this._menuCloseSubscription=h.yU.EMPTY,this._changeDetectorRef=(0,r.WQX)(r.gRc),this._handleTouchStart=at=>{(0,m.w6)(at)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new r.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=x,this._parentMaterialMenu=ye instanceof je?ye:void 0,f.nativeElement.addEventListener("touchstart",this._handleTouchStart,te)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,te),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Z=this.menu;if(this._menuOpen||!Z)return;const f=this._createOverlay(Z),V=f.getConfig(),x=V.positionStrategy;this._setPosition(Z,x),V.hasBackdrop=null==Z.hasBackdrop?!this.triggersSubmenu():Z.hasBackdrop,f.attach(this._getPortal(Z)),Z.lazyContent&&Z.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Z),Z instanceof je&&(Z._startAnimation(),Z._directDescendantItems.changes.pipe((0,B.Q)(Z.close)).subscribe(()=>{x.withLockedPosition(!1).reapplyLastPosition(),x.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Z,f){this._focusMonitor&&Z?this._focusMonitor.focusVia(this._element,Z,f):this._element.nativeElement.focus(f)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Z){if(!this._overlayRef||!this.menuOpen)return;const f=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Z||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,f instanceof je?(f._resetAnimation(),f.lazyContent?f._animationDone.pipe((0,A.p)(V=>"void"===V.toState),(0,T.s)(1),(0,B.Q)(f.lazyContent._attached)).subscribe({next:()=>f.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),f?.lazyContent?.detach())}_initMenu(Z){Z.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Z.direction=this.dir,this._setMenuElevation(Z),Z.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Z){if(Z.setElevation){let f=0,V=Z.parentMenu;for(;V;)f++,V=V.parentMenu;Z.setElevation(f)}}_setIsMenuOpen(Z){Z!==this._menuOpen&&(this._menuOpen=Z,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Z),this._changeDetectorRef.markForCheck())}_createOverlay(Z){if(!this._overlayRef){const f=this._getOverlayConfig(Z);this._subscribeToPositions(Z,f.positionStrategy),this._overlayRef=this._overlay.create(f),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Z){return new Ie.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Z.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Z.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Z,f){Z.setPositionClasses&&f.positionChanges.subscribe(V=>{const x="start"===V.connectionPair.overlayX?"after":"before",ye="top"===V.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Z.setPositionClasses(x,ye)):Z.setPositionClasses(x,ye)})}_setPosition(Z,f){let[V,x]="before"===Z.xPosition?["end","start"]:["start","end"],[ye,Te]="above"===Z.yPosition?["bottom","top"]:["top","bottom"],[ke,Ee]=[ye,Te],[nt,at]=[V,x],yt=0;if(this.triggersSubmenu()){if(at=V="before"===Z.xPosition?"start":"end",x=nt="end"===V?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Jt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Jt?Jt._getHostElement().offsetTop:0}yt="bottom"===ye?this._parentInnerPadding:-this._parentInnerPadding}}else Z.overlapTrigger||(ke="top"===ye?"bottom":"top",Ee="top"===Te?"bottom":"top");f.withPositions([{originX:V,originY:ke,overlayX:nt,overlayY:ye,offsetY:yt},{originX:x,originY:ke,overlayX:at,overlayY:ye,offsetY:yt},{originX:V,originY:Ee,overlayX:nt,overlayY:Te,offsetY:-yt},{originX:x,originY:Ee,overlayX:at,overlayY:Te,offsetY:-yt}])}_menuClosingActions(){const Z=this._overlayRef.backdropClick(),f=this._overlayRef.detachments(),V=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,U.of)(),x=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,A.p)(ye=>ye!==this._menuItemInstance),(0,A.p)(()=>this._menuOpen)):(0,U.of)();return(0,D.h)(Z,V,x,f)}_handleMousedown(Z){(0,m._G)(Z)||(this._openedBy=0===Z.button?"mouse":void 0,this.triggersSubmenu()&&Z.preventDefault())}_handleKeydown(Z){const f=Z.keyCode;(f===g.Fm||f===g.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(f===g.LE&&"ltr"===this.dir||f===g.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Z){this.triggersSubmenu()?(Z.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,A.p)(Z=>Z===this._menuItemInstance&&!Z.disabled),(0,b.c)(0,F.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof je&&this.menu._isAnimating?this.menu._animationDone.pipe((0,T.s)(1),(0,b.c)(0,F.$),(0,B.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Z){return(!this._portal||this._portal.templateRef!==Z.templateRef)&&(this._portal=new W.VA(Z.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(f){return new(f||G)(r.rXU(Ie.hJ),r.rXU(r.aKT),r.rXU(r.c1b),r.rXU(Ce),r.rXU(Ge,8),r.rXU(gt,10),r.rXU(Q.dS,8),r.rXU(m.FN),r.rXU(r.SKi))};static#t=this.\u0275dir=r.FsC({type:G,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(f,V){1&f&&r.bIt("click",function(ye){return V._handleClick(ye)})("mousedown",function(ye){return V._handleMousedown(ye)})("keydown",function(ye){return V._handleKeydown(ye)}),2&f&&r.BMQ("aria-haspopup",V.menu?"menu":null)("aria-expanded",V.menuOpen)("aria-controls",V.menuOpen?V.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return G})(),Y=(()=>{class G{static#e=this.\u0275fac=function(f){return new(f||G)};static#t=this.\u0275mod=r.$C({type:G});static#n=this.\u0275inj=r.G2t({providers:[Re],imports:[J.MD,ce.pZ,ce.yE,Ie.z_,Me.Gj,ce.yE]})}return G})()},67575:(bn,be,w)=>{"use strict";w.d(be,{HM:()=>F,PO:()=>z});var r=w(54438),g=(w(60177),w(86600));function C(B,A){1&B&&r.nrm(0,"div",2)}const D=new r.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let F=(()=>{class B{constructor(T,b,J,ce,W){this._elementRef=T,this._ngZone=b,this._changeDetectorRef=J,this._animationMode=ce,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new r.bkB,this._mode="determinate",this._transitionendHandler=se=>{0===this.animationEnd.observers.length||!se.target||!se.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===ce,W&&(W.color&&(this.color=this._defaultColor=W.color),this.mode=W.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(T){this._color=T}get value(){return this._value}set value(T){this._value=k(T||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(T){this._bufferValue=k(T||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(T){this._mode=T,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(b){return new(b||B)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(r.gRc),r.rXU(r.bc$,8),r.rXU(D,8))};static#t=this.\u0275cmp=r.VBU({type:B,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(b,J){2&b&&(r.BMQ("aria-valuenow",J._isIndeterminate()?null:J.value)("mode",J.mode),r.HbH("mat-"+J.color),r.AVh("_mat-animation-noopable",J._isNoopAnimation)("mdc-linear-progress--animation-ready",!J._isNoopAnimation)("mdc-linear-progress--indeterminate",J._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",r.Udg],bufferValue:[2,"bufferValue","bufferValue",r.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[r.GFd,r.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(b,J){1&b&&(r.j41(0,"div",0),r.nrm(1,"div",1),r.DNE(2,C,1,0,"div",2),r.k0s(),r.j41(3,"div",3),r.nrm(4,"span",4),r.k0s(),r.j41(5,"div",5),r.nrm(6,"span",4),r.k0s()),2&b&&(r.R7$(),r.xc7("flex-basis",J._getBufferBarFlexBasis()),r.R7$(),r.vxM("buffer"===J.mode?2:-1),r.R7$(),r.xc7("transform",J._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return B})();function k(B,A=0,T=100){return Math.max(A,Math.min(T,B))}let z=(()=>{class B{static#e=this.\u0275fac=function(b){return new(b||B)};static#t=this.\u0275mod=r.$C({type:B});static#n=this.\u0275inj=r.G2t({imports:[g.yE]})}return B})()},5951:(bn,be,w)=>{"use strict";w.d(be,{VT:()=>ce,Wk:()=>se,_g:()=>W});var r=w(18617),m=w(45024),g=w(54438),C=w(89417),D=w(86600),h=w(60177);const U=["input"],F=["formField"],k=["*"];let z=0;class B{constructor(Ie,ae){this.source=Ie,this.value=ae}}const A={provide:C.kq,useExisting:(0,g.Rfq)(()=>ce),multi:!0},T=new g.nKC("MatRadioGroup"),b=new g.nKC("mat-radio-default-options",{providedIn:"root",factory:function J(){return{color:"accent",disabledInteractive:!1}}});let ce=(()=>{class Q{get name(){return this._name}set name(ae){this._name=ae,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(ae){this._labelPosition="before"===ae?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(ae){this._value!==ae&&(this._value=ae,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(ae){this._selected=ae,this.value=ae?ae.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(ae){this._disabled=ae,this._markRadiosForCheck()}get required(){return this._required}set required(ae){this._required=ae,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(ae){this._disabledInteractive=ae,this._markRadiosForCheck()}constructor(ae){this._changeDetector=ae,this._value=null,this._name="mat-radio-group-"+z++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new g.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(ae=>ae===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(ae=>{ae.name=this.name,ae._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(Me=>{Me.checked=this.value===Me.value,Me.checked&&(this._selected=Me)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new B(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(ae=>ae._markForCheck())}writeValue(ae){this.value=ae,this._changeDetector.markForCheck()}registerOnChange(ae){this._controlValueAccessorChangeFn=ae}registerOnTouched(ae){this.onTouched=ae}setDisabledState(ae){this.disabled=ae,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(Me){return new(Me||Q)(g.rXU(g.gRc))};static#t=this.\u0275dir=g.FsC({type:Q,selectors:[["mat-radio-group"]],contentQueries:function(Me,q,$){if(1&Me&&g.wni($,W,5),2&Me){let ge;g.mGM(ge=g.lsd())&&(q._radios=ge)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",g.L39],required:[2,"required","required",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[g.Jv_([A,{provide:T,useExisting:Q}]),g.GFd]})}return Q})(),W=(()=>{class Q{get checked(){return this._checked}set checked(ae){this._checked!==ae&&(this._checked=ae,ae&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!ae&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),ae&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(ae){this._value!==ae&&(this._value=ae,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===ae),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(ae){this._labelPosition=ae}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(ae){this._setDisabled(ae)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(ae){this._required=ae}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(ae){this._color=ae}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(ae){this._disabledInteractive=ae}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ae,Me,q,$,ge,K,Ne,Ve){this._elementRef=Me,this._changeDetector=q,this._focusMonitor=$,this._radioDispatcher=ge,this._defaultOptions=Ne,this._ngZone=(0,g.WQX)(g.SKi),this._uniqueId="mat-radio-"+ ++z,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new g.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,g.WQX)(g.zZn),this._onInputClick=Ge=>{this.disabled&&this.disabledInteractive&&Ge.preventDefault()},this.radioGroup=ae,this._noopAnimations="NoopAnimations"===K,this._disabledInteractive=Ne?.disabledInteractive??!1,Ve&&(this.tabIndex=(0,g.Udg)(Ve,0))}focus(ae,Me){Me?this._focusMonitor.focusVia(this._inputElement,Me,ae):this._inputElement.nativeElement.focus(ae)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((ae,Me)=>{ae!==this.id&&Me===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{!ae&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new B(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(ae){if(ae.stopPropagation(),!this.checked&&!this.disabled){const Me=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),Me&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(ae){this._onInputInteraction(ae),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(ae){this._disabled!==ae&&(this._disabled=ae,this._changeDetector.markForCheck())}_updateTabIndex(){const ae=this.radioGroup;let Me;if(Me=ae&&ae.selected&&!this.disabled?ae.selected===this?this.tabIndex:-1:this.tabIndex,Me!==this._previousTabIndex){const q=this._inputElement?.nativeElement;q&&(q.setAttribute("tabindex",Me+""),this._previousTabIndex=Me,(0,g.mal)(()=>{queueMicrotask(()=>{ae&&ae.selected&&ae.selected!==this&&document.activeElement===q&&(ae.selected?._inputElement.nativeElement.focus(),document.activeElement===q&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(Me){return new(Me||Q)(g.rXU(T,8),g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(r.FN),g.rXU(m.zP),g.rXU(g.bc$,8),g.rXU(b,8),g.kS0("tabindex"))};static#t=this.\u0275cmp=g.VBU({type:Q,selectors:[["mat-radio-button"]],viewQuery:function(Me,q){if(1&Me&&(g.GBs(U,5),g.GBs(F,7,g.aKT)),2&Me){let $;g.mGM($=g.lsd())&&(q._inputElement=$.first),g.mGM($=g.lsd())&&(q._rippleTrigger=$.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(Me,q){1&Me&&g.bIt("focus",function(){return q._inputElement.nativeElement.focus()}),2&Me&&(g.BMQ("id",q.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),g.AVh("mat-primary","primary"===q.color)("mat-accent","accent"===q.color)("mat-warn","warn"===q.color)("mat-mdc-radio-checked",q.checked)("mat-mdc-radio-disabled",q.disabled)("mat-mdc-radio-disabled-interactive",q.disabledInteractive)("_mat-animation-noopable",q._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",g.L39],tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?0:(0,g.Udg)(ae)],checked:[2,"checked","checked",g.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",g.L39],required:[2,"required","required",g.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:k,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(Me,q){if(1&Me){const $=g.RV6();g.NAR(),g.j41(0,"div",2,0)(2,"div",3)(3,"div",4),g.bIt("click",function(K){return g.eBV($),g.Njj(q._onTouchTargetClick(K))}),g.k0s(),g.j41(4,"input",5,1),g.bIt("change",function(K){return g.eBV($),g.Njj(q._onInputInteraction(K))}),g.k0s(),g.j41(6,"div",6),g.nrm(7,"div",7)(8,"div",8),g.k0s(),g.j41(9,"div",9),g.nrm(10,"div",10),g.k0s()(),g.j41(11,"label",11),g.SdG(12),g.k0s()()}2&Me&&(g.Y8G("labelPosition",q.labelPosition),g.R7$(2),g.AVh("mdc-radio--disabled",q.disabled),g.R7$(2),g.Y8G("id",q.inputId)("checked",q.checked)("disabled",q.disabled&&!q.disabledInteractive)("required",q.required),g.BMQ("name",q.name)("value",q.value)("aria-label",q.ariaLabel)("aria-labelledby",q.ariaLabelledby)("aria-describedby",q.ariaDescribedby)("aria-disabled",q.disabled&&q.disabledInteractive?"true":null),g.R7$(5),g.Y8G("matRippleTrigger",q._rippleTrigger.nativeElement)("matRippleDisabled",q._isRippleDisabled())("matRippleCentered",!0),g.R7$(2),g.Y8G("for",q.inputId))},dependencies:[D.r6,D.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return Q})(),se=(()=>{class Q{static#e=this.\u0275fac=function(Me){return new(Me||Q)};static#t=this.\u0275mod=g.$C({type:Q});static#n=this.\u0275inj=g.G2t({imports:[D.yE,h.MD,D.pZ,W,D.yE]})}return Q})()},82798:(bn,be,w)=>{"use strict";w.d(be,{JO:()=>ft,VO:()=>Ce,Ve:()=>Re});var r=w(47987),m=w(60177),g=w(54438),C=w(86600),D=w(53719),h=w(65478),U=w(18617),F=w(28203),k=w(45024),z=w(67336),B=w(89417),A=w(85052),T=w(45946),b=w(76718),J=w(35160),ce=w(32914),W=w(14264),se=w(36110),Q=w(21082),Ie=w(37925),ae=w(17365),Me=w(49969);const q=["trigger"],$=["panel"],ge=[[["mat-select-trigger"]],"*"],K=["mat-select-trigger","*"];function Ne(te,y){if(1&te&&(g.j41(0,"span",4),g.EFF(1),g.k0s()),2&te){const M=g.XpG();g.R7$(),g.JRh(M.placeholder)}}function Ve(te,y){1&te&&g.SdG(0)}function Ge(te,y){if(1&te&&(g.j41(0,"span",11),g.EFF(1),g.k0s()),2&te){const M=g.XpG(2);g.R7$(),g.JRh(M.triggerValue)}}function gt(te,y){if(1&te&&(g.j41(0,"span",5),g.DNE(1,Ve,1,0)(2,Ge,2,1,"span",11),g.k0s()),2&te){const M=g.XpG();g.R7$(),g.vxM(M.customTrigger?1:2)}}function _t(te,y){if(1&te){const M=g.RV6();g.j41(0,"div",12,1),g.bIt("@transformPanel.done",function(G){g.eBV(M);const _e=g.XpG();return g.Njj(_e._panelDoneAnimatingStream.next(G.toState))})("keydown",function(G){g.eBV(M);const _e=g.XpG();return g.Njj(_e._handleKeydown(G))}),g.SdG(2,1),g.k0s()}if(2&te){const M=g.XpG();g.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",M._getPanelTheme(),""),g.Y8G("ngClass",M.panelClass)("@transformPanel","showing"),g.BMQ("id",M.id+"-panel")("aria-multiselectable",M.multiple)("aria-label",M.ariaLabel||null)("aria-labelledby",M._getPanelAriaLabelledby())}}const zt={transformPanelWrap:(0,Me.hZ)("transformPanelWrap",[(0,Me.kY)("* => void",(0,Me.P)("@transformPanel",[(0,Me.MA)()],{optional:!0}))]),transformPanel:(0,Me.hZ)("transformPanel",[(0,Me.wk)("void",(0,Me.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,Me.kY)("void => showing",(0,Me.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Me.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,Me.kY)("* => void",(0,Me.i0)("100ms linear",(0,Me.iF)({opacity:0})))])};let He=0;const We=new g.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const te=(0,g.WQX)(r.hJ);return()=>te.scrollStrategies.reposition()}}),ft=new g.nKC("MAT_SELECT_CONFIG"),wt={provide:We,deps:[r.hJ],useFactory:function st(te){return()=>te.scrollStrategies.reposition()}},kt=new g.nKC("MatSelectTrigger");class je{constructor(y,M){this.source=y,this.value=M}}let Ce=(()=>{class te{_scrollOptionIntoView(M){const Y=this.options.toArray()[M];if(Y){const G=this.panel.nativeElement,_e=(0,C.jb)(M,this.options,this.optionGroups),Z=Y._getHostElement();G.scrollTop=0===M&&1===_e?0:(0,C.TL)(Z.offsetTop,Z.offsetHeight,G.scrollTop,G.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(M){return new je(this,M)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(M){this._hideSingleSelectionIndicator=M,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(M){this._placeholder=M,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(B.k0.required)??!1}set required(M){this._required=M,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(M){this._multiple=M}get compareWith(){return this._compareWith}set compareWith(M){this._compareWith=M,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(M){this._assignValue(M)&&this._onChange(M)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(M){this._errorStateTracker.matcher=M}get id(){return this._id}set id(M){this._id=M||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(M){this._errorStateTracker.errorState=M}constructor(M,Y,G,_e,Z,f,V,x,ye,Te,ke,Ee,nt,at){this._viewportRuler=M,this._changeDetectorRef=Y,this._elementRef=Z,this._dir=f,this._parentFormField=ye,this.ngControl=Te,this._liveAnnouncer=nt,this._defaultOptions=at,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(yt,Jt)=>yt===Jt,this._uid="mat-select-"+He++,this._triggerAriaLabelledBy=null,this._destroy=new A.B,this.stateChanges=new A.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+He++,this._panelDoneAnimatingStream=new A.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new A.B,this.optionSelectionChanges=(0,T.v)(()=>{const yt=this.options;return yt?yt.changes.pipe((0,J.Z)(yt),(0,ce.n)(()=>(0,b.h)(...yt.map(Jt=>Jt.onSelectionChange)))):this._initialized.pipe((0,ce.n)(()=>this.optionSelectionChanges))}),this.openedChange=new g.bkB,this._openedStream=this.openedChange.pipe((0,W.p)(yt=>yt),(0,se.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,W.p)(yt=>!yt),(0,se.T)(()=>{})),this.selectionChange=new g.bkB,this.valueChange=new g.bkB,this._trackedModal=null,this._skipPredicate=yt=>!this.panelOpen&&yt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=at?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=at.typeaheadDebounceInterval),this._errorStateTracker=new C.X0(_e,Te,x,V,this.stateChanges),this._scrollStrategyFactory=Ee,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ke)||0,this.id=this.id}ngOnInit(){this._selectionModel=new k.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Q.F)(),(0,Ie.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,Ie.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,Ie.Q)(this._destroy)).subscribe(M=>{M.added.forEach(Y=>Y.select()),M.removed.forEach(Y=>Y.deselect())}),this.options.changes.pipe((0,J.Z)(null),(0,Ie.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const M=this._getTriggerAriaLabelledby(),Y=this.ngControl;if(M!==this._triggerAriaLabelledBy){const G=this._elementRef.nativeElement;this._triggerAriaLabelledBy=M,M?G.setAttribute("aria-labelledby",M):G.removeAttribute("aria-labelledby")}Y&&(this._previousControl!==Y.control&&(void 0!==this._previousControl&&null!==Y.disabled&&Y.disabled!==this.disabled&&(this.disabled=Y.disabled),this._previousControl=Y.control),this.updateErrorState())}ngOnChanges(M){(M.disabled||M.userAriaDescribedBy)&&this.stateChanges.next(),M.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const M=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!M)return;const Y=`${this.id}-panel`;this._trackedModal&&(0,U.Ae)(this._trackedModal,"aria-owns",Y),(0,U.px)(M,"aria-owns",Y),this._trackedModal=M}_clearFromModal(){this._trackedModal&&((0,U.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(M){this._assignValue(M)}registerOnChange(M){this._onChange=M}registerOnTouched(M){this._onTouched=M}setDisabledState(M){this.disabled=M,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const M=this._selectionModel.selected.map(Y=>Y.viewValue);return this._isRtl()&&M.reverse(),M.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(M){this.disabled||(this.panelOpen?this._handleOpenKeydown(M):this._handleClosedKeydown(M))}_handleClosedKeydown(M){const Y=M.keyCode,G=Y===z.n6||Y===z.i7||Y===z.UQ||Y===z.LE,_e=Y===z.Fm||Y===z.t6,Z=this._keyManager;if(!Z.isTyping()&&_e&&!(0,z.rp)(M)||(this.multiple||M.altKey)&&G)M.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;Z.onKeydown(M);const V=this.selected;V&&f!==V&&this._liveAnnouncer.announce(V.viewValue,1e4)}}_handleOpenKeydown(M){const Y=this._keyManager,G=M.keyCode,_e=G===z.n6||G===z.i7,Z=Y.isTyping();if(_e&&M.altKey)M.preventDefault(),this.close();else if(Z||G!==z.Fm&&G!==z.t6||!Y.activeItem||(0,z.rp)(M))if(!Z&&this._multiple&&G===z.A&&M.ctrlKey){M.preventDefault();const f=this.options.some(V=>!V.disabled&&!V.selected);this.options.forEach(V=>{V.disabled||(f?V.select():V.deselect())})}else{const f=Y.activeItemIndex;Y.onKeydown(M),this._multiple&&_e&&M.shiftKey&&Y.activeItem&&Y.activeItemIndex!==f&&Y.activeItem._selectViaInteraction()}else M.preventDefault(),Y.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ae.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(M){if(this.options.forEach(Y=>Y.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&M)Array.isArray(M),M.forEach(Y=>this._selectOptionByValue(Y)),this._sortValues();else{const Y=this._selectOptionByValue(M);Y?this._keyManager.updateActiveItem(Y):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(M){const Y=this.options.find(G=>{if(this._selectionModel.isSelected(G))return!1;try{return null!=G.value&&this._compareWith(G.value,M)}catch{return!1}});return Y&&this._selectionModel.select(Y),Y}_assignValue(M){return!!(M!==this._value||this._multiple&&Array.isArray(M))&&(this.options&&this._setSelectionByValue(M),this._value=M,!0)}_getOverlayWidth(M){return"auto"===this.panelWidth?(M instanceof r.$Q?M.elementRef:M||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const M of this.options)M._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new U.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const M=(0,b.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ie.Q)(M)).subscribe(Y=>{this._onSelect(Y.source,Y.isUserInput),Y.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,b.h)(...this.options.map(Y=>Y._stateChanges)).pipe((0,Ie.Q)(M)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(M,Y){const G=this._selectionModel.isSelected(M);null!=M.value||this._multiple?(G!==M.selected&&(M.selected?this._selectionModel.select(M):this._selectionModel.deselect(M)),Y&&this._keyManager.setActiveItem(M),this.multiple&&(this._sortValues(),Y&&this.focus())):(M.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(M.value)),G!==this._selectionModel.isSelected(M)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const M=this.options.toArray();this._selectionModel.sort((Y,G)=>this.sortComparator?this.sortComparator(Y,G,M):M.indexOf(Y)-M.indexOf(G)),this.stateChanges.next()}}_propagateChanges(M){let Y;Y=this.multiple?this.selected.map(G=>G.value):this.selected?this.selected.value:M,this._value=Y,this.valueChange.emit(Y),this._onChange(Y),this.selectionChange.emit(this._getChangeEvent(Y)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let M=-1;for(let Y=0;Y<this.options.length;Y++)if(!this.options.get(Y).disabled){M=Y;break}this._keyManager.setActiveItem(M)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(M){this._elementRef.nativeElement.focus(M)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const M=this._parentFormField?.getLabelId();return this.ariaLabelledby?(M?M+" ":"")+this.ariaLabelledby:M}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const M=this._parentFormField?.getLabelId();let Y=(M?M+" ":"")+this._valueId;return this.ariaLabelledby&&(Y+=" "+this.ariaLabelledby),Y}_panelDoneAnimating(M){this.openedChange.emit(M)}setDescribedByIds(M){M.length?this._elementRef.nativeElement.setAttribute("aria-describedby",M.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Y){return new(Y||te)(g.rXU(h.Xj),g.rXU(g.gRc),g.rXU(g.SKi),g.rXU(C.es),g.rXU(g.aKT),g.rXU(F.dS,8),g.rXU(B.cV,8),g.rXU(B.j4,8),g.rXU(D.xb,8),g.rXU(B.vO,10),g.kS0("tabindex"),g.rXU(We),g.rXU(U.Ai),g.rXU(ft,8))};static#t=this.\u0275cmp=g.VBU({type:te,selectors:[["mat-select"]],contentQueries:function(Y,G,_e){if(1&Y&&(g.wni(_e,kt,5),g.wni(_e,C.wT,5),g.wni(_e,C.QC,5)),2&Y){let Z;g.mGM(Z=g.lsd())&&(G.customTrigger=Z.first),g.mGM(Z=g.lsd())&&(G.options=Z),g.mGM(Z=g.lsd())&&(G.optionGroups=Z)}},viewQuery:function(Y,G){if(1&Y&&(g.GBs(q,5),g.GBs($,5),g.GBs(r.WB,5)),2&Y){let _e;g.mGM(_e=g.lsd())&&(G.trigger=_e.first),g.mGM(_e=g.lsd())&&(G.panel=_e.first),g.mGM(_e=g.lsd())&&(G._overlayDir=_e.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Y,G){1&Y&&g.bIt("keydown",function(Z){return G._handleKeydown(Z)})("focus",function(){return G._onFocus()})("blur",function(){return G._onBlur()}),2&Y&&(g.BMQ("id",G.id)("tabindex",G.disabled?-1:G.tabIndex)("aria-controls",G.panelOpen?G.id+"-panel":null)("aria-expanded",G.panelOpen)("aria-label",G.ariaLabel||null)("aria-required",G.required.toString())("aria-disabled",G.disabled.toString())("aria-invalid",G.errorState)("aria-activedescendant",G._getAriaActiveDescendant()),g.AVh("mat-mdc-select-disabled",G.disabled)("mat-mdc-select-invalid",G.errorState)("mat-mdc-select-required",G.required)("mat-mdc-select-empty",G.empty)("mat-mdc-select-multiple",G.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39],tabIndex:[2,"tabIndex","tabIndex",M=>null==M?0:(0,g.Udg)(M)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",g.L39],placeholder:"placeholder",required:[2,"required","required",g.L39],multiple:[2,"multiple","multiple",g.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",g.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",g.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[g.Jv_([{provide:D.qT,useExisting:te},{provide:C.is,useExisting:te}]),g.GFd,g.OA$,g.aNF],ngContentSelectors:K,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Y,G){if(1&Y){const _e=g.RV6();g.NAR(ge),g.j41(0,"div",2,0),g.bIt("click",function(){return g.eBV(_e),g.Njj(G.open())}),g.j41(3,"div",3),g.DNE(4,Ne,2,1,"span",4)(5,gt,3,1,"span",5),g.k0s(),g.j41(6,"div",6)(7,"div",7),g.qSk(),g.j41(8,"svg",8),g.nrm(9,"path",9),g.k0s()()()(),g.DNE(10,_t,3,9,"ng-template",10),g.bIt("backdropClick",function(){return g.eBV(_e),g.Njj(G.close())})("attach",function(){return g.eBV(_e),g.Njj(G._onAttached())})("detach",function(){return g.eBV(_e),g.Njj(G.close())})}if(2&Y){const _e=g.sdS(1);g.R7$(3),g.BMQ("id",G._valueId),g.R7$(),g.vxM(G.empty?4:5),g.R7$(6),g.Y8G("cdkConnectedOverlayPanelClass",G._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",G._scrollStrategy)("cdkConnectedOverlayOrigin",G._preferredOverlayOrigin||_e)("cdkConnectedOverlayOpen",G.panelOpen)("cdkConnectedOverlayPositions",G._positions)("cdkConnectedOverlayWidth",G._overlayWidth)}},dependencies:[r.$Q,r.WB,m.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[zt.transformPanel]},changeDetection:0})}return te})(),Re=(()=>{class te{static#e=this.\u0275fac=function(Y){return new(Y||te)};static#t=this.\u0275mod=g.$C({type:te});static#n=this.\u0275inj=g.G2t({providers:[wt],imports:[m.MD,r.z_,C.Sy,C.yE,h.Gj,D.RG,C.Sy,C.yE]})}return te})()},90882:(bn,be,w)=>{"use strict";w.d(be,{El:()=>wt,LG:()=>kt,US:()=>je,vg:()=>Ce});var r=w(65478),m=w(54438),g=w(86600),C=w(18617),D=w(28203),h=w(14085),U=w(67336),F=w(36860),k=w(60177),z=w(85052),B=w(35426),A=w(76718),T=w(14264),b=w(36110),J=w(99539),ce=w(37925),W=w(17365),se=w(35160),Q=w(87996),Ie=w(49969);const ae=["*"],Me=["content"],q=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$=["mat-drawer","mat-drawer-content","*"];function ge(ne,Re){if(1&ne){const te=m.RV6();m.j41(0,"div",1),m.bIt("click",function(){m.eBV(te);const M=m.XpG();return m.Njj(M._onBackdropClicked())}),m.k0s()}if(2&ne){const te=m.XpG();m.AVh("mat-drawer-shown",te._isShowingBackdrop())}}function K(ne,Re){1&ne&&(m.j41(0,"mat-drawer-content"),m.SdG(1,2),m.k0s())}const Ne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ve=["mat-sidenav","mat-sidenav-content","*"];function Ge(ne,Re){if(1&ne){const te=m.RV6();m.j41(0,"div",1),m.bIt("click",function(){m.eBV(te);const M=m.XpG();return m.Njj(M._onBackdropClicked())}),m.k0s()}if(2&ne){const te=m.XpG();m.AVh("mat-drawer-shown",te._isShowingBackdrop())}}function gt(ne,Re){1&ne&&(m.j41(0,"mat-sidenav-content"),m.SdG(1,2),m.k0s())}const zt={transformDrawer:(0,Ie.hZ)("transform",[(0,Ie.wk)("open, open-instant",(0,Ie.iF)({transform:"none",visibility:"visible"})),(0,Ie.wk)("void",(0,Ie.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Ie.kY)("void => open-instant",(0,Ie.i0)("0ms")),(0,Ie.kY)("void <=> open, open-instant => void",(0,Ie.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Oe=new m.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function He(){return!1}}),De=new m.nKC("MAT_DRAWER_CONTAINER");let We=(()=>{class ne extends r.uv{constructor(te,y,M,Y,G){super(M,Y,G),this._changeDetectorRef=te,this._container=y}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(y){return new(y||ne)(m.rXU(m.gRc),m.rXU((0,m.Rfq)(()=>ft)),m.rXU(m.aKT),m.rXU(r.R),m.rXU(m.SKi))};static#t=this.\u0275cmp=m.VBU({type:ne,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(y,M){2&y&&m.xc7("margin-left",M._container._contentMargins.left,"px")("margin-right",M._container._contentMargins.right,"px")},standalone:!0,features:[m.Jv_([{provide:r.uv,useExisting:ne}]),m.Vt3,m.aNF],ngContentSelectors:ae,decls:1,vars:0,template:function(y,M){1&y&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})}return ne})(),st=(()=>{class ne{get position(){return this._position}set position(te){(te="end"===te?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(te),this._position=te,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(te){this._mode=te,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(te){this._disableClose=(0,h.he)(te)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(te){("true"===te||"false"===te||null==te)&&(te=(0,h.he)(te)),this._autoFocus=te}get opened(){return this._opened}set opened(te){this.toggle((0,h.he)(te))}constructor(te,y,M,Y,G,_e,Z,f){this._elementRef=te,this._focusTrapFactory=y,this._focusMonitor=M,this._platform=Y,this._ngZone=G,this._interactivityChecker=_e,this._doc=Z,this._container=f,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new z.B,this._animationEnd=new z.B,this._animationState="void",this.openedChange=new m.bkB(!0),this._openedStream=this.openedChange.pipe((0,T.p)(V=>V),(0,b.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,T.p)(V=>V.fromState!==V.toState&&0===V.toState.indexOf("open")),(0,J.u)(void 0)),this._closedStream=this.openedChange.pipe((0,T.p)(V=>!V),(0,b.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,T.p)(V=>V.fromState!==V.toState&&"void"===V.toState),(0,J.u)(void 0)),this._destroyed=new z.B,this.onPositionChanged=new m.bkB,this._modeChanged=new z.B,this._injector=(0,m.WQX)(m.zZn),this._changeDetectorRef=(0,m.WQX)(m.gRc),this.openedChange.pipe((0,ce.Q)(this._destroyed)).subscribe(V=>{V?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,B.R)(this._elementRef.nativeElement,"keydown").pipe((0,T.p)(V=>V.keyCode===U._f&&!this.disableClose&&!(0,U.rp)(V)),(0,ce.Q)(this._destroyed)).subscribe(V=>this._ngZone.run(()=>{this.close(),V.stopPropagation(),V.preventDefault()}))}),this._animationEnd.subscribe(V=>{const{fromState:x,toState:ye}=V;(0===ye.indexOf("open")&&"void"===x||"void"===ye&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(te,y){this._interactivityChecker.isFocusable(te)||(te.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const M=()=>{te.removeEventListener("blur",M),te.removeEventListener("mousedown",M),te.removeAttribute("tabindex")};te.addEventListener("blur",M),te.addEventListener("mousedown",M)})),te.focus(y)}_focusByCssSelector(te,y){let M=this._elementRef.nativeElement.querySelector(te);M&&this._forceFocus(M,y)}_takeFocus(){if(!this._focusTrap)return;const te=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,m.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof te.focus&&te.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(te){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,te):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const te=this._doc.activeElement;return!!te&&this._elementRef.nativeElement.contains(te)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(te){return this.toggle(!0,te)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(te=!this.opened,y){te&&y&&(this._openedVia=y);const M=this._setOpen(te,!te&&this._isFocusWithinDrawer(),this._openedVia||"program");return te||(this._openedVia=null),M}_setOpen(te,y,M){return this._opened=te,te?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",y&&this._restoreFocus(M)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(Y=>{this.openedChange.pipe((0,W.s)(1)).subscribe(G=>Y(G?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(te){if(!this._platform.isBrowser)return;const y=this._elementRef.nativeElement,M=y.parentNode;"end"===te?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),M.insertBefore(this._anchor,y)),M.appendChild(y)):this._anchor&&this._anchor.parentNode.insertBefore(y,this._anchor)}static#e=this.\u0275fac=function(y){return new(y||ne)(m.rXU(m.aKT),m.rXU(C.GX),m.rXU(C.FN),m.rXU(F.OD),m.rXU(m.SKi),m.rXU(C.Z7),m.rXU(k.qQ,8),m.rXU(De,8))};static#t=this.\u0275cmp=m.VBU({type:ne,selectors:[["mat-drawer"]],viewQuery:function(y,M){if(1&y&&m.GBs(Me,5),2&y){let Y;m.mGM(Y=m.lsd())&&(M._content=Y.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(y,M){1&y&&m.Kam("@transform.start",function(G){return M._animationStarted.next(G)})("@transform.done",function(G){return M._animationEnd.next(G)}),2&y&&(m.zvX("@transform",M._animationState),m.BMQ("align",null),m.AVh("mat-drawer-end","end"===M.position)("mat-drawer-over","over"===M.mode)("mat-drawer-push","push"===M.mode)("mat-drawer-side","side"===M.mode)("mat-drawer-opened",M.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[m.aNF],ngContentSelectors:ae,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(y,M){1&y&&(m.NAR(),m.j41(0,"div",1,0),m.SdG(2),m.k0s())},dependencies:[r.uv],encapsulation:2,data:{animation:[zt.transformDrawer]},changeDetection:0})}return ne})(),ft=(()=>{class ne{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(te){this._autosize=(0,h.he)(te)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(te){this._backdropOverride=null==te?null:(0,h.he)(te)}get scrollable(){return this._userContent||this._content}constructor(te,y,M,Y,G,_e=!1,Z){this._dir=te,this._element=y,this._ngZone=M,this._changeDetectorRef=Y,this._animationMode=Z,this._drawers=new m.rOR,this.backdropClick=new m.bkB,this._destroyed=new z.B,this._doCheckSubject=new z.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new z.B,this._injector=(0,m.WQX)(m.zZn),te&&te.change.pipe((0,ce.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),G.change().pipe((0,ce.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=_e}ngAfterContentInit(){this._allDrawers.changes.pipe((0,se.Z)(this._allDrawers),(0,ce.Q)(this._destroyed)).subscribe(te=>{this._drawers.reset(te.filter(y=>!y._container||y._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,se.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(te=>{this._watchDrawerToggle(te),this._watchDrawerPosition(te),this._watchDrawerMode(te)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Q.B)(10),(0,ce.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(te=>te.open())}close(){this._drawers.forEach(te=>te.close())}updateContentMargins(){let te=0,y=0;if(this._left&&this._left.opened)if("side"==this._left.mode)te+=this._left._getWidth();else if("push"==this._left.mode){const M=this._left._getWidth();te+=M,y-=M}if(this._right&&this._right.opened)if("side"==this._right.mode)y+=this._right._getWidth();else if("push"==this._right.mode){const M=this._right._getWidth();y+=M,te-=M}te=te||null,y=y||null,(te!==this._contentMargins.left||y!==this._contentMargins.right)&&(this._contentMargins={left:te,right:y},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(te){te._animationStarted.pipe((0,T.p)(y=>y.fromState!==y.toState),(0,ce.Q)(this._drawers.changes)).subscribe(y=>{"open-instant"!==y.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==te.mode&&te.openedChange.pipe((0,ce.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(te.opened))}_watchDrawerPosition(te){te&&te.onPositionChanged.pipe((0,ce.Q)(this._drawers.changes)).subscribe(()=>{(0,m.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:m.wjH.Read})})}_watchDrawerMode(te){te&&te._modeChanged.pipe((0,ce.Q)((0,A.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(te){const y=this._element.nativeElement.classList,M="mat-drawer-container-has-open";te?y.add(M):y.remove(M)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(te=>{"end"==te.position?this._end=te:this._start=te}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(te=>te&&!te.disableClose&&this._drawerHasBackdrop(te)).forEach(te=>te._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(te){return null!=te&&te.opened}_drawerHasBackdrop(te){return null==this._backdropOverride?!!te&&"side"!==te.mode:this._backdropOverride}static#e=this.\u0275fac=function(y){return new(y||ne)(m.rXU(D.dS,8),m.rXU(m.aKT),m.rXU(m.SKi),m.rXU(m.gRc),m.rXU(r.Xj),m.rXU(Oe),m.rXU(m.bc$,8))};static#t=this.\u0275cmp=m.VBU({type:ne,selectors:[["mat-drawer-container"]],contentQueries:function(y,M,Y){if(1&y&&(m.wni(Y,We,5),m.wni(Y,st,5)),2&y){let G;m.mGM(G=m.lsd())&&(M._content=G.first),m.mGM(G=m.lsd())&&(M._allDrawers=G)}},viewQuery:function(y,M){if(1&y&&m.GBs(We,5),2&y){let Y;m.mGM(Y=m.lsd())&&(M._userContent=Y.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(y,M){2&y&&m.AVh("mat-drawer-container-explicit-backdrop",M._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[m.Jv_([{provide:De,useExisting:ne}]),m.aNF],ngContentSelectors:$,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(y,M){1&y&&(m.NAR(q),m.DNE(0,ge,1,2,"div",0),m.SdG(1),m.SdG(2,1),m.DNE(3,K,2,0,"mat-drawer-content")),2&y&&(m.vxM(M.hasBackdrop?0:-1),m.R7$(3),m.vxM(M._content?-1:3))},dependencies:[We],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return ne})(),wt=(()=>{class ne extends We{constructor(te,y,M,Y,G){super(te,y,M,Y,G)}static#e=this.\u0275fac=function(y){return new(y||ne)(m.rXU(m.gRc),m.rXU((0,m.Rfq)(()=>je)),m.rXU(m.aKT),m.rXU(r.R),m.rXU(m.SKi))};static#t=this.\u0275cmp=m.VBU({type:ne,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(y,M){2&y&&m.xc7("margin-left",M._container._contentMargins.left,"px")("margin-right",M._container._contentMargins.right,"px")},standalone:!0,features:[m.Jv_([{provide:r.uv,useExisting:ne}]),m.Vt3,m.aNF],ngContentSelectors:ae,decls:1,vars:0,template:function(y,M){1&y&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})}return ne})(),kt=(()=>{class ne extends st{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(te){this._fixedInViewport=(0,h.he)(te)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(te){this._fixedTopGap=(0,h.OE)(te)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(te){this._fixedBottomGap=(0,h.OE)(te)}static#e=this.\u0275fac=(()=>{let te;return function(M){return(te||(te=m.xGo(ne)))(M||ne)}})();static#t=this.\u0275cmp=m.VBU({type:ne,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(y,M){2&y&&(m.BMQ("align",null),m.xc7("top",M.fixedInViewport?M.fixedTopGap:null,"px")("bottom",M.fixedInViewport?M.fixedBottomGap:null,"px"),m.AVh("mat-drawer-end","end"===M.position)("mat-drawer-over","over"===M.mode)("mat-drawer-push","push"===M.mode)("mat-drawer-side","side"===M.mode)("mat-drawer-opened",M.opened)("mat-sidenav-fixed",M.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[m.Vt3,m.aNF],ngContentSelectors:ae,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(y,M){1&y&&(m.NAR(),m.j41(0,"div",1,0),m.SdG(2),m.k0s())},dependencies:[r.uv],encapsulation:2,data:{animation:[zt.transformDrawer]},changeDetection:0})}return ne})(),je=(()=>{class ne extends ft{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let te;return function(M){return(te||(te=m.xGo(ne)))(M||ne)}})();static#t=this.\u0275cmp=m.VBU({type:ne,selectors:[["mat-sidenav-container"]],contentQueries:function(y,M,Y){if(1&y&&(m.wni(Y,wt,5),m.wni(Y,kt,5)),2&y){let G;m.mGM(G=m.lsd())&&(M._content=G.first),m.mGM(G=m.lsd())&&(M._allDrawers=G)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(y,M){2&y&&m.AVh("mat-drawer-container-explicit-backdrop",M._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[m.Jv_([{provide:De,useExisting:ne}]),m.Vt3,m.aNF],ngContentSelectors:Ve,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(y,M){1&y&&(m.NAR(Ne),m.DNE(0,Ge,1,2,"div",0),m.SdG(1),m.SdG(2,1),m.DNE(3,gt,2,0,"mat-sidenav-content")),2&y&&(m.vxM(M.hasBackdrop?0:-1),m.R7$(3),m.vxM(M._content?-1:3))},dependencies:[wt],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return ne})(),Ce=(()=>{class ne{static#e=this.\u0275fac=function(y){return new(y||ne)};static#t=this.\u0275mod=m.$C({type:ne});static#n=this.\u0275inj=m.G2t({imports:[g.yE,r.Gj,r.Gj,g.yE]})}return ne})()},30450:(bn,be,w)=>{"use strict";w.d(be,{mV:()=>ce});var r=w(54438),m=w(89417),g=w(18617),C=w(86600);const D=["switch"],h=["*"];function U(W,se){1&W&&(r.j41(0,"span",10),r.qSk(),r.j41(1,"svg",12),r.nrm(2,"path",13),r.k0s(),r.j41(3,"svg",14),r.nrm(4,"path",15),r.k0s()())}const F=new r.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),k={provide:m.kq,useExisting:(0,r.Rfq)(()=>A),multi:!0};class z{constructor(se,Q){this.source=se,this.checked=Q}}let B=0,A=(()=>{class W{_createChangeEvent(Q){return new z(this,Q)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(Q){this._checked=Q,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Q,Ie,ae,Me,q,$){this._elementRef=Q,this._focusMonitor=Ie,this._changeDetectorRef=ae,this.defaults=q,this._onChange=ge=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new r.bkB,this.toggleChange=new r.bkB,this.tabIndex=parseInt(Me)||0,this.color=q.color||"accent",this._noopAnimations="NoopAnimations"===$,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++B,this.hideIcon=q.hideIcon??!1,this.disabledInteractive=q.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Q=>{"keyboard"===Q||"program"===Q?(this._focused=!0,this._changeDetectorRef.markForCheck()):Q||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(Q){Q.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(Q){this.checked=!!Q}registerOnChange(Q){this._onChange=Q}registerOnTouched(Q){this._onTouched=Q}validate(Q){return this.required&&!0!==Q.value?{required:!0}:null}registerOnValidatorChange(Q){this._validatorOnChange=Q}setDisabledState(Q){this.disabled=Q,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new z(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(Ie){return new(Ie||W)(r.rXU(r.aKT),r.rXU(g.FN),r.rXU(r.gRc),r.kS0("tabindex"),r.rXU(F),r.rXU(r.bc$,8))};static#t=this.\u0275cmp=r.VBU({type:W,selectors:[["mat-slide-toggle"]],viewQuery:function(Ie,ae){if(1&Ie&&r.GBs(D,5),2&Ie){let Me;r.mGM(Me=r.lsd())&&(ae._switchElement=Me.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(Ie,ae){2&Ie&&(r.Mr5("id",ae.id),r.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),r.HbH(ae.color?"mat-"+ae.color:""),r.AVh("mat-mdc-slide-toggle-focused",ae._focused)("mat-mdc-slide-toggle-checked",ae.checked)("_mat-animation-noopable",ae._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",r.L39],color:"color",disabled:[2,"disabled","disabled",r.L39],disableRipple:[2,"disableRipple","disableRipple",r.L39],tabIndex:[2,"tabIndex","tabIndex",Q=>null==Q?0:(0,r.Udg)(Q)],checked:[2,"checked","checked",r.L39],hideIcon:[2,"hideIcon","hideIcon",r.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",r.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[r.Jv_([k,{provide:m.cz,useExisting:W,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:h,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(Ie,ae){if(1&Ie){const Me=r.RV6();r.NAR(),r.j41(0,"div",1)(1,"button",2,0),r.bIt("click",function(){return r.eBV(Me),r.Njj(ae._handleClick())}),r.nrm(3,"span",3),r.j41(4,"span",4)(5,"span",5)(6,"span",6),r.nrm(7,"span",7),r.k0s(),r.j41(8,"span",8),r.nrm(9,"span",9),r.k0s(),r.DNE(10,U,5,0,"span",10),r.k0s()()(),r.j41(11,"label",11),r.bIt("click",function($){return r.eBV(Me),r.Njj($.stopPropagation())}),r.SdG(12),r.k0s()()}if(2&Ie){const Me=r.sdS(2);r.Y8G("labelPosition",ae.labelPosition),r.R7$(),r.AVh("mdc-switch--selected",ae.checked)("mdc-switch--unselected",!ae.checked)("mdc-switch--checked",ae.checked)("mdc-switch--disabled",ae.disabled)("mat-mdc-slide-toggle-disabled-interactive",ae.disabledInteractive),r.Y8G("tabIndex",ae.disabled&&!ae.disabledInteractive?-1:ae.tabIndex)("disabled",ae.disabled&&!ae.disabledInteractive),r.BMQ("id",ae.buttonId)("name",ae.name)("aria-label",ae.ariaLabel)("aria-labelledby",ae._getAriaLabelledBy())("aria-describedby",ae.ariaDescribedby)("aria-required",ae.required||null)("aria-checked",ae.checked)("aria-disabled",ae.disabled&&ae.disabledInteractive?"true":null),r.R7$(8),r.Y8G("matRippleTrigger",Me)("matRippleDisabled",ae.disableRipple||ae.disabled)("matRippleCentered",!0),r.R7$(),r.vxM(ae.hideIcon?-1:10),r.R7$(),r.Y8G("for",ae.buttonId),r.BMQ("id",ae._labelId)}},dependencies:[C.r6,C.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return W})(),ce=(()=>{class W{static#e=this.\u0275fac=function(Ie){return new(Ie||W)};static#t=this.\u0275mod=r.$C({type:W});static#n=this.\u0275inj=r.G2t({imports:[A,C.yE,C.yE]})}return W})()},95416:(bn,be,w)=>{"use strict";w.d(be,{UG:()=>Ge,_T:()=>_t,x6:()=>Ve});var r=w(54438),m=w(88834),g=w(85052),C=w(60177),D=w(49969),h=w(76939),U=w(36860),F=w(18617),k=w(99327),z=w(47987),B=w(37925),A=w(86600);function T(zt,Rn){if(1&zt){const Oe=r.RV6();r.j41(0,"div",1)(1,"button",2),r.bIt("click",function(){r.eBV(Oe);const He=r.XpG();return r.Njj(He.action())}),r.EFF(2),r.k0s()()}if(2&zt){const Oe=r.XpG();r.R7$(2),r.SpI(" ",Oe.data.action," ")}}const b=["label"];function J(zt,Rn){}const ce=Math.pow(2,31)-1;class W{constructor(Rn,Oe){this._overlayRef=Oe,this._afterDismissed=new g.B,this._afterOpened=new g.B,this._onAction=new g.B,this._dismissedByAction=!1,this.containerInstance=Rn,Rn._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Rn){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Rn,ce))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const se=new r.nKC("MatSnackBarData");class Q{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Ie=(()=>{class zt{static#e=this.\u0275fac=function(De){return new(De||zt)};static#t=this.\u0275dir=r.FsC({type:zt,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return zt})(),ae=(()=>{class zt{static#e=this.\u0275fac=function(De){return new(De||zt)};static#t=this.\u0275dir=r.FsC({type:zt,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return zt})(),Me=(()=>{class zt{static#e=this.\u0275fac=function(De){return new(De||zt)};static#t=this.\u0275dir=r.FsC({type:zt,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return zt})(),q=(()=>{class zt{constructor(Oe,De){this.snackBarRef=Oe,this.data=De}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(De){return new(De||zt)(r.rXU(W),r.rXU(se))};static#t=this.\u0275cmp=r.VBU({type:zt,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[r.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(De,He){1&De&&(r.j41(0,"div",0),r.EFF(1),r.k0s(),r.DNE(2,T,3,1,"div",1)),2&De&&(r.R7$(),r.SpI(" ",He.data.message,"\n"),r.R7$(),r.vxM(He.hasAction?2:-1))},dependencies:[m.$z,Ie,ae,Me],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return zt})();const $={snackBarState:(0,D.hZ)("state",[(0,D.wk)("void, hidden",(0,D.iF)({transform:"scale(0.8)",opacity:0})),(0,D.wk)("visible",(0,D.iF)({transform:"scale(1)",opacity:1})),(0,D.kY)("* => visible",(0,D.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,D.kY)("* => void, * => hidden",(0,D.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,D.iF)({opacity:0})))])};let ge=0,K=(()=>{class zt extends h.lb{constructor(Oe,De,He,We,st){super(),this._ngZone=Oe,this._elementRef=De,this._changeDetectorRef=He,this._platform=We,this.snackBarConfig=st,this._document=(0,r.WQX)(C.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new g.B,this._onExit=new g.B,this._onEnter=new g.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ge++,this.attachDomPortal=ft=>{this._assertNotAttached();const wt=this._portalOutlet.attachDomPortal(ft);return this._afterPortalAttached(),wt},this._live="assertive"!==st.politeness||st.announcementMessage?"off"===st.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Oe){this._assertNotAttached();const De=this._portalOutlet.attachComponentPortal(Oe);return this._afterPortalAttached(),De}attachTemplatePortal(Oe){this._assertNotAttached();const De=this._portalOutlet.attachTemplatePortal(Oe);return this._afterPortalAttached(),De}onAnimationEnd(Oe){const{fromState:De,toState:He}=Oe;if(("void"===He&&"void"!==De||"hidden"===He)&&this._completeExit(),"visible"===He){const We=this._onEnter;this._ngZone.run(()=>{We.next(),We.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const Oe=this._elementRef.nativeElement,De=this.snackBarConfig.panelClass;De&&(Array.isArray(De)?De.forEach(st=>Oe.classList.add(st)):Oe.classList.add(De)),this._exposeToModals();const He=this._label.nativeElement,We="mdc-snackbar__label";He.classList.toggle(We,!He.querySelector(`.${We}`))}_exposeToModals(){const Oe=this._liveElementId,De=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let He=0;He<De.length;He++){const We=De[He],st=We.getAttribute("aria-owns");this._trackedModals.add(We),st?-1===st.indexOf(Oe)&&We.setAttribute("aria-owns",st+" "+Oe):We.setAttribute("aria-owns",Oe)}}_clearFromModals(){this._trackedModals.forEach(Oe=>{const De=Oe.getAttribute("aria-owns");if(De){const He=De.replace(this._liveElementId,"").trim();He.length>0?Oe.setAttribute("aria-owns",He):Oe.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Oe=this._elementRef.nativeElement.querySelector("[aria-hidden]"),De=this._elementRef.nativeElement.querySelector("[aria-live]");if(Oe&&De){let He=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Oe.contains(document.activeElement)&&(He=document.activeElement),Oe.removeAttribute("aria-hidden"),De.appendChild(Oe),He?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(De){return new(De||zt)(r.rXU(r.SKi),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(U.OD),r.rXU(Q))};static#t=this.\u0275cmp=r.VBU({type:zt,selectors:[["mat-snack-bar-container"]],viewQuery:function(De,He){if(1&De&&(r.GBs(h.I3,7),r.GBs(b,7)),2&De){let We;r.mGM(We=r.lsd())&&(He._portalOutlet=We.first),r.mGM(We=r.lsd())&&(He._label=We.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(De,He){1&De&&r.Kam("@state.done",function(st){return He.onAnimationEnd(st)}),2&De&&r.zvX("@state",He._animationState)},standalone:!0,features:[r.Vt3,r.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(De,He){1&De&&(r.j41(0,"div",1)(1,"div",2,0)(3,"div",3),r.DNE(4,J,0,0,"ng-template",4),r.k0s(),r.nrm(5,"div"),r.k0s()()),2&De&&(r.R7$(5),r.BMQ("aria-live",He._live)("role",He._role)("id",He._liveElementId))},dependencies:[h.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[$.snackBarState]}})}return zt})();const Ve=new r.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function Ne(){return new Q}});let Ge=(()=>{class zt{get _openedSnackBarRef(){const Oe=this._parentSnackBar;return Oe?Oe._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Oe){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Oe:this._snackBarRefAtThisLevel=Oe}constructor(Oe,De,He,We,st,ft){this._overlay=Oe,this._live=De,this._injector=He,this._breakpointObserver=We,this._parentSnackBar=st,this._defaultConfig=ft,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=q,this.snackBarContainerComponent=K,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(Oe,De){return this._attach(Oe,De)}openFromTemplate(Oe,De){return this._attach(Oe,De)}open(Oe,De="",He){const We={...this._defaultConfig,...He};return We.data={message:Oe,action:De},We.announcementMessage===Oe&&(We.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,We)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Oe,De){const We=r.zZn.create({parent:De&&De.viewContainerRef&&De.viewContainerRef.injector||this._injector,providers:[{provide:Q,useValue:De}]}),st=new h.A8(this.snackBarContainerComponent,De.viewContainerRef,We),ft=Oe.attach(st);return ft.instance.snackBarConfig=De,ft.instance}_attach(Oe,De){const He={...new Q,...this._defaultConfig,...De},We=this._createOverlay(He),st=this._attachSnackBarContainer(We,He),ft=new W(st,We);if(Oe instanceof r.C4Q){const wt=new h.VA(Oe,null,{$implicit:He.data,snackBarRef:ft});ft.instance=st.attachTemplatePortal(wt)}else{const wt=this._createInjector(He,ft),kt=new h.A8(Oe,void 0,wt),je=st.attachComponentPortal(kt);ft.instance=je.instance}return this._breakpointObserver.observe(k.Rp.HandsetPortrait).pipe((0,B.Q)(We.detachments())).subscribe(wt=>{We.overlayElement.classList.toggle(this.handsetCssClass,wt.matches)}),He.announcementMessage&&st._onAnnounce.subscribe(()=>{this._live.announce(He.announcementMessage,He.politeness)}),this._animateSnackBar(ft,He),this._openedSnackBarRef=ft,this._openedSnackBarRef}_animateSnackBar(Oe,De){Oe.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Oe&&(this._openedSnackBarRef=null),De.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Oe.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Oe.containerInstance.enter(),De.duration&&De.duration>0&&Oe.afterOpened().subscribe(()=>Oe._dismissAfter(De.duration))}_createOverlay(Oe){const De=new z.rR;De.direction=Oe.direction;let He=this._overlay.position().global();const We="rtl"===Oe.direction,st="left"===Oe.horizontalPosition||"start"===Oe.horizontalPosition&&!We||"end"===Oe.horizontalPosition&&We,ft=!st&&"center"!==Oe.horizontalPosition;return st?He.left("0"):ft?He.right("0"):He.centerHorizontally(),"top"===Oe.verticalPosition?He.top("0"):He.bottom("0"),De.positionStrategy=He,this._overlay.create(De)}_createInjector(Oe,De){return r.zZn.create({parent:Oe&&Oe.viewContainerRef&&Oe.viewContainerRef.injector||this._injector,providers:[{provide:W,useValue:De},{provide:se,useValue:Oe.data}]})}static#e=this.\u0275fac=function(De){return new(De||zt)(r.KVO(z.hJ),r.KVO(F.Ai),r.KVO(r.zZn),r.KVO(k.QP),r.KVO(zt,12),r.KVO(Ve))};static#t=this.\u0275prov=r.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})(),_t=(()=>{class zt{static#e=this.\u0275fac=function(De){return new(De||zt)};static#t=this.\u0275mod=r.$C({type:zt});static#n=this.\u0275inj=r.G2t({providers:[Ge],imports:[z.z_,h.jc,m.Hl,A.yE,q,A.yE]})}return zt})()},55911:(bn,be,w)=>{"use strict";w.d(be,{s5:()=>F});var r=w(54438),m=w(86600);let F=(()=>{class k{static#e=this.\u0275fac=function(A){return new(A||k)};static#t=this.\u0275mod=r.$C({type:k});static#n=this.\u0275inj=r.G2t({imports:[m.yE,m.yE]})}return k})()},14823:(bn,be,w)=>{"use strict";w.d(be,{oV:()=>gt,sM:()=>Me,uc:()=>Rn,zi:()=>ae});var r=w(37925),m=w(14085),g=w(67336),C=w(54438),D=w(60177),h=w(36860),U=w(18617),F=w(28203),k=w(47987),z=w(65478),B=w(76939),A=w(85052),b=(w(49969),w(86600));const J=["tooltip"],se=new C.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const Oe=(0,C.WQX)(k.hJ);return()=>Oe.scrollStrategies.reposition({scrollThrottle:20})}}),Ie={provide:se,deps:[k.hJ],useFactory:function Q(Oe){return()=>Oe.scrollStrategies.reposition({scrollThrottle:20})}};function ae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}const Me=new C.nKC("mat-tooltip-default-options",{providedIn:"root",factory:ae}),$="tooltip-panel",ge=(0,h.BQ)({passive:!0});let gt=(()=>{class Oe{get position(){return this._position}set position(He){He!==this._position&&(this._position=He,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(He){this._positionAtOrigin=(0,m.he)(He),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(He){const We=(0,m.he)(He);this._disabled!==We&&(this._disabled=We,We?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(He){this._showDelay=(0,m.OE)(He)}get hideDelay(){return this._hideDelay}set hideDelay(He){this._hideDelay=(0,m.OE)(He),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(He){const We=this._message;this._message=null!=He?String(He).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(We)}get tooltipClass(){return this._tooltipClass}set tooltipClass(He){this._tooltipClass=He,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(He,We,st,ft,wt,kt,je,Ce,ne,Re,te,y){this._overlay=He,this._elementRef=We,this._scrollDispatcher=st,this._viewContainerRef=ft,this._ngZone=wt,this._platform=kt,this._ariaDescriber=je,this._focusMonitor=Ce,this._dir=Re,this._defaultOptions=te,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=_t,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new A.B,this._injector=(0,C.WQX)(C.zZn),this._scrollStrategy=ne,this._document=y,te&&(this._showDelay=te.showDelay,this._hideDelay=te.hideDelay,te.position&&(this.position=te.position),te.positionAtOrigin&&(this.positionAtOrigin=te.positionAtOrigin),te.touchGestures&&(this.touchGestures=te.touchGestures),te.tooltipClass&&(this.tooltipClass=te.tooltipClass)),Re.change.pipe((0,r.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,r.Q)(this._destroyed)).subscribe(He=>{He?"keyboard"===He&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const He=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([We,st])=>{He.removeEventListener(We,st,ge)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(He,this.message,"tooltip"),this._focusMonitor.stopMonitoring(He)}show(He=this.showDelay,We){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const st=this._createOverlay(We);this._detach(),this._portal=this._portal||new B.A8(this._tooltipComponent,this._viewContainerRef);const ft=this._tooltipInstance=st.attach(this._portal).instance;ft._triggerElement=this._elementRef.nativeElement,ft._mouseLeaveHideDelay=this._hideDelay,ft.afterHidden().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),ft.show(He)}hide(He=this.hideDelay){const We=this._tooltipInstance;We&&(We.isVisible()?We.hide(He):(We._cancelPendingAnimations(),this._detach()))}toggle(He){this._isTooltipVisible()?this.hide():this.show(void 0,He)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(He){if(this._overlayRef){const ft=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!He)&&ft._origin instanceof C.aKT)return this._overlayRef;this._detach()}const We=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),st=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&He||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(We);return st.positionChanges.pipe((0,r.Q)(this._destroyed)).subscribe(ft=>{this._updateCurrentPositionClass(ft.connectionPair),this._tooltipInstance&&ft.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:st,panelClass:`${this._cssClassPrefix}-${$}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,r.Q)(this._destroyed)).subscribe(ft=>{this._isTooltipVisible()&&ft.keyCode===g._f&&!(0,g.rp)(ft)&&(ft.preventDefault(),ft.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(He){const We=He.getConfig().positionStrategy,st=this._getOrigin(),ft=this._getOverlayPosition();We.withPositions([this._addOffset({...st.main,...ft.main}),this._addOffset({...st.fallback,...ft.fallback})])}_addOffset(He){const st=!this._dir||"ltr"==this._dir.value;return"top"===He.originY?He.offsetY=-8:"bottom"===He.originY?He.offsetY=8:"start"===He.originX?He.offsetX=st?-8:8:"end"===He.originX&&(He.offsetX=st?8:-8),He}_getOrigin(){const He=!this._dir||"ltr"==this._dir.value,We=this.position;let st;"above"==We||"below"==We?st={originX:"center",originY:"above"==We?"top":"bottom"}:"before"==We||"left"==We&&He||"right"==We&&!He?st={originX:"start",originY:"center"}:("after"==We||"right"==We&&He||"left"==We&&!He)&&(st={originX:"end",originY:"center"});const{x:ft,y:wt}=this._invertPosition(st.originX,st.originY);return{main:st,fallback:{originX:ft,originY:wt}}}_getOverlayPosition(){const He=!this._dir||"ltr"==this._dir.value,We=this.position;let st;"above"==We?st={overlayX:"center",overlayY:"bottom"}:"below"==We?st={overlayX:"center",overlayY:"top"}:"before"==We||"left"==We&&He||"right"==We&&!He?st={overlayX:"end",overlayY:"center"}:("after"==We||"right"==We&&He||"left"==We&&!He)&&(st={overlayX:"start",overlayY:"center"});const{x:ft,y:wt}=this._invertPosition(st.overlayX,st.overlayY);return{main:st,fallback:{overlayX:ft,overlayY:wt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,C.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(He){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=He,this._tooltipInstance._markForCheck())}_invertPosition(He,We){return"above"===this.position||"below"===this.position?"top"===We?We="bottom":"bottom"===We&&(We="top"):"end"===He?He="start":"start"===He&&(He="end"),{x:He,y:We}}_updateCurrentPositionClass(He){const{overlayY:We,originX:st,originY:ft}=He;let wt;if(wt="center"===We?this._dir&&"rtl"===this._dir.value?"end"===st?"left":"right":"start"===st?"left":"right":"bottom"===We&&"top"===ft?"above":"below",wt!==this._currentPosition){const kt=this._overlayRef;if(kt){const je=`${this._cssClassPrefix}-${$}-`;kt.removePanelClass(je+this._currentPosition),kt.addPanelClass(je+wt)}this._currentPosition=wt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",He=>{let We;this._setupPointerExitEventsIfNeeded(),void 0!==He.x&&void 0!==He.y&&(We=He),this.show(void 0,We)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",He=>{const We=He.targetTouches?.[0],st=We?{x:We.clientX,y:We.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,st)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const He=[];if(this._platformSupportsMouseEvents())He.push(["mouseleave",We=>{const st=We.relatedTarget;(!st||!this._overlayRef?.overlayElement.contains(st))&&this.hide()}],["wheel",We=>this._wheelListener(We)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const We=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};He.push(["touchend",We],["touchcancel",We])}this._addListeners(He),this._passiveListeners.push(...He)}_addListeners(He){He.forEach(([We,st])=>{this._elementRef.nativeElement.addEventListener(We,st,ge)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(He){if(this._isTooltipVisible()){const We=this._document.elementFromPoint(He.clientX,He.clientY),st=this._elementRef.nativeElement;We!==st&&!st.contains(We)&&this.hide()}}_disableNativeGesturesIfNecessary(){const He=this.touchGestures;if("off"!==He){const We=this._elementRef.nativeElement,st=We.style;("on"===He||"INPUT"!==We.nodeName&&"TEXTAREA"!==We.nodeName)&&(st.userSelect=st.msUserSelect=st.webkitUserSelect=st.MozUserSelect="none"),("on"===He||!We.draggable)&&(st.webkitUserDrag="none"),st.touchAction="none",st.webkitTapHighlightColor="transparent"}}_syncAriaDescription(He){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,He,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#e=this.\u0275fac=function(We){return new(We||Oe)(C.rXU(k.hJ),C.rXU(C.aKT),C.rXU(z.R),C.rXU(C.c1b),C.rXU(C.SKi),C.rXU(h.OD),C.rXU(U.vr),C.rXU(U.FN),C.rXU(se),C.rXU(F.dS),C.rXU(Me,8),C.rXU(D.qQ))};static#t=this.\u0275dir=C.FsC({type:Oe,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(We,st){2&We&&C.AVh("mat-mdc-tooltip-disabled",st.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return Oe})(),_t=(()=>{class Oe{constructor(He,We,st){this._changeDetectorRef=He,this._elementRef=We,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new A.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===st}show(He){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},He)}hide(He){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},He)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:He}){(!He||!this._triggerElement.contains(He))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const He=this._elementRef.nativeElement.getBoundingClientRect();return He.height>24&&He.width>=200}_handleAnimationEnd({animationName:He}){(He===this._showAnimation||He===this._hideAnimation)&&this._finalizeAnimation(He===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(He){He?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(He){const We=this._tooltip.nativeElement,st=this._showAnimation,ft=this._hideAnimation;if(We.classList.remove(He?ft:st),We.classList.add(He?st:ft),this._isVisible!==He&&(this._isVisible=He,this._changeDetectorRef.markForCheck()),He&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const wt=getComputedStyle(We);("0s"===wt.getPropertyValue("animation-duration")||"none"===wt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}He&&this._onShow(),this._animationsDisabled&&(We.classList.add("_mat-animation-noopable"),this._finalizeAnimation(He))}static#e=this.\u0275fac=function(We){return new(We||Oe)(C.rXU(C.gRc),C.rXU(C.aKT),C.rXU(C.bc$,8))};static#t=this.\u0275cmp=C.VBU({type:Oe,selectors:[["mat-tooltip-component"]],viewQuery:function(We,st){if(1&We&&C.GBs(J,7),2&We){let ft;C.mGM(ft=C.lsd())&&(st._tooltip=ft.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(We,st){1&We&&C.bIt("mouseleave",function(wt){return st._handleMouseLeave(wt)})},standalone:!0,features:[C.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(We,st){if(1&We){const ft=C.RV6();C.j41(0,"div",1,0),C.bIt("animationend",function(kt){return C.eBV(ft),C.Njj(st._handleAnimationEnd(kt))}),C.j41(2,"div",2),C.EFF(3),C.k0s()()}2&We&&(C.AVh("mdc-tooltip--multiline",st._isMultiline),C.Y8G("ngClass",st.tooltipClass),C.R7$(3),C.JRh(st.message))},dependencies:[D.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Oe})(),Rn=(()=>{class Oe{static#e=this.\u0275fac=function(We){return new(We||Oe)};static#t=this.\u0275mod=C.$C({type:Oe});static#n=this.\u0275inj=C.G2t({providers:[Ie],imports:[U.Pd,D.MD,k.z_,b.yE,b.yE,z.Gj]})}return Oe})()},728:(bn,be,w)=>{"use strict";w.d(be,{wb:()=>vo});var r=w(54438),m=w(345),g=w(49969);function D(Ke){return new r.wOt(3e3,!1)}function je(Ke){switch(Ke.length){case 0:return new g.sf;case 1:return Ke[0];default:return new g.ui(Ke)}}function Ce(Ke,L,de=new Map,O=new Map){const ie=[],X=[];let Ye=-1,Pt=null;if(L.forEach(zn=>{const hr=zn.get("offset"),Li=hr==Ye,$i=Li&&Pt||new Map;zn.forEach((hi,Gr)=>{let et=Gr,rn=hi;if("offset"!==Gr)switch(et=Ke.normalizePropertyName(et,ie),rn){case g.FX:rn=de.get(Gr);break;case g.kp:rn=O.get(Gr);break;default:rn=Ke.normalizeStyleValue(Gr,et,rn,ie)}$i.set(et,rn)}),Li||X.push($i),Pt=$i,Ye=hr}),ie.length)throw function Ge(){return new r.wOt(3502,!1)}();return X}function ne(Ke,L,de,O){switch(L){case"start":Ke.onStart(()=>O(de&&Re(de,"start",Ke)));break;case"done":Ke.onDone(()=>O(de&&Re(de,"done",Ke)));break;case"destroy":Ke.onDestroy(()=>O(de&&Re(de,"destroy",Ke)))}}function Re(Ke,L,de){const X=te(Ke.element,Ke.triggerName,Ke.fromState,Ke.toState,L||Ke.phaseName,de.totalTime??Ke.totalTime,!!de.disabled),Ye=Ke._data;return null!=Ye&&(X._data=Ye),X}function te(Ke,L,de,O,ie="",X=0,Ye){return{element:Ke,triggerName:L,fromState:de,toState:O,phaseName:ie,totalTime:X,disabled:!!Ye}}function y(Ke,L,de){let O=Ke.get(L);return O||Ke.set(L,O=de),O}function M(Ke){const L=Ke.indexOf(":");return[Ke.substring(1,L),Ke.slice(L+1)]}const Y=typeof document>"u"?null:document.documentElement;function G(Ke){const L=Ke.parentNode||Ke.host||null;return L===Y?null:L}let Z=null,f=!1;function Te(Ke,L){for(;L;){if(L===Ke)return!0;L=G(L)}return!1}function ke(Ke,L,de){if(de)return Array.from(Ke.querySelectorAll(L));const O=Ke.querySelector(L);return O?[O]:[]}let nt=(()=>{class Ke{validateStyleProperty(de){return function V(Ke){Z||(Z=function ye(){return typeof document<"u"?document.body:null}()||{},f=!!Z.style&&"WebkitAppearance"in Z.style);let L=!0;return Z.style&&!function _e(Ke){return"ebkit"==Ke.substring(1,6)}(Ke)&&(L=Ke in Z.style,!L&&f&&(L="Webkit"+Ke.charAt(0).toUpperCase()+Ke.slice(1)in Z.style)),L}(de)}containsElement(de,O){return Te(de,O)}getParentElement(de){return G(de)}query(de,O,ie){return ke(de,O,ie)}computeStyle(de,O,ie){return ie||""}animate(de,O,ie,X,Ye,Pt=[],zn){return new g.sf(ie,X)}static#e=this.\u0275fac=function(O){return new(O||Ke)};static#t=this.\u0275prov=r.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();class at{static#e=this.NOOP=new nt}class yt{}const Qe=1e3,Mt="ng-enter",lt="ng-leave",Bt="ng-trigger",ct=".ng-trigger",Tt="ng-animating",rt=".ng-animating";function Et(Ke){if("number"==typeof Ke)return Ke;const L=Ke.match(/^(-?[\.\d]+)(m?s)/);return!L||L.length<2?0:vn(parseFloat(L[1]),L[2])}function vn(Ke,L){return"s"===L?Ke*Qe:Ke}function In(Ke,L,de){return Ke.hasOwnProperty("duration")?Ke:function Un(Ke,L,de){let ie,X=0,Ye="";if("string"==typeof Ke){const Pt=Ke.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pt)return L.push(D()),{duration:0,delay:0,easing:""};ie=vn(parseFloat(Pt[1]),Pt[2]);const zn=Pt[3];null!=zn&&(X=vn(parseFloat(zn),Pt[4]));const hr=Pt[5];hr&&(Ye=hr)}else ie=Ke;if(!de){let Pt=!1,zn=L.length;ie<0&&(L.push(function h(){return new r.wOt(3100,!1)}()),Pt=!0),X<0&&(L.push(function U(){return new r.wOt(3101,!1)}()),Pt=!0),Pt&&L.splice(zn,0,D())}return{duration:ie,delay:X,easing:Ye}}(Ke,L,de)}function wn(Ke,L,de){L.forEach((O,ie)=>{const X=Sn(ie);de&&!de.has(ie)&&de.set(ie,Ke.style[X]),Ke.style[X]=O})}function cn(Ke,L){L.forEach((de,O)=>{const ie=Sn(O);Ke.style[ie]=""})}function Yt(Ke){return Array.isArray(Ke)?1==Ke.length?Ke[0]:(0,g.K2)(Ke):Ke}const jn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Lt(Ke){let L=[];if("string"==typeof Ke){let de;for(;de=jn.exec(Ke);)L.push(de[1]);jn.lastIndex=0}return L}function Dn(Ke,L,de){const O=`${Ke}`,ie=O.replace(jn,(X,Ye)=>{let Pt=L[Ye];return null==Pt&&(de.push(function k(){return new r.wOt(3003,!1)}()),Pt=""),Pt.toString()});return ie==O?Ke:ie}const Pn=/-+([a-z0-9])/g;function Sn(Ke){return Ke.replace(Pn,(...L)=>L[1].toUpperCase())}function Ct(Ke,L,de){switch(L.type){case g.If.Trigger:return Ke.visitTrigger(L,de);case g.If.State:return Ke.visitState(L,de);case g.If.Transition:return Ke.visitTransition(L,de);case g.If.Sequence:return Ke.visitSequence(L,de);case g.If.Group:return Ke.visitGroup(L,de);case g.If.Animate:return Ke.visitAnimate(L,de);case g.If.Keyframes:return Ke.visitKeyframes(L,de);case g.If.Style:return Ke.visitStyle(L,de);case g.If.Reference:return Ke.visitReference(L,de);case g.If.AnimateChild:return Ke.visitAnimateChild(L,de);case g.If.AnimateRef:return Ke.visitAnimateRef(L,de);case g.If.Query:return Ke.visitQuery(L,de);case g.If.Stagger:return Ke.visitStagger(L,de);default:throw function z(){return new r.wOt(3004,!1)}()}}function me(Ke,L){return window.getComputedStyle(Ke)[L]}const ue=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ue extends yt{normalizePropertyName(L,de){return Sn(L)}normalizeStyleValue(L,de,O,ie){let X="";const Ye=O.toString().trim();if(ue.has(de)&&0!==O&&"0"!==O)if("number"==typeof O)X="px";else{const Pt=O.match(/^[+-]?[\d\.]+([a-z]*)$/);Pt&&0==Pt[1].length&&ie.push(function B(){return new r.wOt(3005,!1)}())}return Ye+X}}const mi="*";const wo=new Set(["true","1"]),So=new Set(["false","0"]);function xo(Ke,L){const de=wo.has(Ke)||So.has(Ke),O=wo.has(L)||So.has(L);return(ie,X)=>{let Ye=Ke==mi||Ke==ie,Pt=L==mi||L==X;return!Ye&&de&&"boolean"==typeof ie&&(Ye=ie?wo.has(Ke):So.has(Ke)),!Pt&&O&&"boolean"==typeof X&&(Pt=X?wo.has(L):So.has(L)),Ye&&Pt}}const nn=new RegExp("s*:selfs*,?","g");function xn(Ke,L,de,O){return new br(Ke).build(L,de,O)}class br{constructor(L){this._driver=L}build(L,de,O){const ie=new jt(de);return this._resetContextStyleTimingState(ie),Ct(this,Yt(L),ie)}_resetContextStyleTimingState(L){L.currentQuerySelector="",L.collectedStyles=new Map,L.collectedStyles.set("",new Map),L.currentTime=0}visitTrigger(L,de){let O=de.queryCount=0,ie=de.depCount=0;const X=[],Ye=[];return"@"==L.name.charAt(0)&&de.errors.push(function A(){return new r.wOt(3006,!1)}()),L.definitions.forEach(Pt=>{if(this._resetContextStyleTimingState(de),Pt.type==g.If.State){const zn=Pt,hr=zn.name;hr.toString().split(/\s*,\s*/).forEach(Li=>{zn.name=Li,X.push(this.visitState(zn,de))}),zn.name=hr}else if(Pt.type==g.If.Transition){const zn=this.visitTransition(Pt,de);O+=zn.queryCount,ie+=zn.depCount,Ye.push(zn)}else de.errors.push(function T(){return new r.wOt(3007,!1)}())}),{type:g.If.Trigger,name:L.name,states:X,transitions:Ye,queryCount:O,depCount:ie,options:null}}visitState(L,de){const O=this.visitStyle(L.styles,de),ie=L.options&&L.options.params||null;if(O.containsDynamicStyles){const X=new Set,Ye=ie||{};O.styles.forEach(Pt=>{Pt instanceof Map&&Pt.forEach(zn=>{Lt(zn).forEach(hr=>{Ye.hasOwnProperty(hr)||X.add(hr)})})}),X.size&&de.errors.push(function b(){return new r.wOt(3008,!1)}(0,X.values()))}return{type:g.If.State,name:L.name,style:O,options:ie?{params:ie}:null}}visitTransition(L,de){de.queryCount=0,de.depCount=0;const O=Ct(this,Yt(L.animation),de),ie=function li(Ke,L){const de=[];return"string"==typeof Ke?Ke.split(/\s*,\s*/).forEach(O=>function Io(Ke,L,de){if(":"==Ke[0]){const zn=function Co(Ke,L){switch(Ke){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(de,O)=>parseFloat(O)>parseFloat(de);case":decrement":return(de,O)=>parseFloat(O)<parseFloat(de);default:return L.push(function ge(){return new r.wOt(3016,!1)}()),"* => *"}}(Ke,de);if("function"==typeof zn)return void L.push(zn);Ke=zn}const O=Ke.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return de.push(function $(){return new r.wOt(3015,!1)}()),L;const ie=O[1],X=O[2],Ye=O[3];L.push(xo(ie,Ye)),"<"==X[0]&&(ie!=mi||Ye!=mi)&&L.push(xo(Ye,ie))}(O,de,L)):de.push(Ke),de}(L.expr,de.errors);return{type:g.If.Transition,matchers:ie,animation:O,queryCount:de.queryCount,depCount:de.depCount,options:pn(L.options)}}visitSequence(L,de){return{type:g.If.Sequence,steps:L.steps.map(O=>Ct(this,O,de)),options:pn(L.options)}}visitGroup(L,de){const O=de.currentTime;let ie=0;const X=L.steps.map(Ye=>{de.currentTime=O;const Pt=Ct(this,Ye,de);return ie=Math.max(ie,de.currentTime),Pt});return de.currentTime=ie,{type:g.If.Group,steps:X,options:pn(L.options)}}visitAnimate(L,de){const O=function ht(Ke,L){if(Ke.hasOwnProperty("duration"))return Ke;if("number"==typeof Ke)return On(In(Ke,L).duration,0,"");const de=Ke;if(de.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=On(0,0,"");return X.dynamic=!0,X.strValue=de,X}const ie=In(de,L);return On(ie.duration,ie.delay,ie.easing)}(L.timings,de.errors);de.currentAnimateTimings=O;let ie,X=L.styles?L.styles:(0,g.iF)({});if(X.type==g.If.Keyframes)ie=this.visitKeyframes(X,de);else{let Ye=L.styles,Pt=!1;if(!Ye){Pt=!0;const hr={};O.easing&&(hr.easing=O.easing),Ye=(0,g.iF)(hr)}de.currentTime+=O.duration+O.delay;const zn=this.visitStyle(Ye,de);zn.isEmptyStep=Pt,ie=zn}return de.currentAnimateTimings=null,{type:g.If.Animate,timings:O,style:ie,options:null}}visitStyle(L,de){const O=this._makeStyleAst(L,de);return this._validateStyleAst(O,de),O}_makeStyleAst(L,de){const O=[],ie=Array.isArray(L.styles)?L.styles:[L.styles];for(let Pt of ie)"string"==typeof Pt?Pt===g.kp?O.push(Pt):de.errors.push(new r.wOt(3002,!1)):O.push(new Map(Object.entries(Pt)));let X=!1,Ye=null;return O.forEach(Pt=>{if(Pt instanceof Map&&(Pt.has("easing")&&(Ye=Pt.get("easing"),Pt.delete("easing")),!X))for(let zn of Pt.values())if(zn.toString().indexOf("{{")>=0){X=!0;break}}),{type:g.If.Style,styles:O,easing:Ye,offset:L.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(L,de){const O=de.currentAnimateTimings;let ie=de.currentTime,X=de.currentTime;O&&X>0&&(X-=O.duration+O.delay),L.styles.forEach(Ye=>{"string"!=typeof Ye&&Ye.forEach((Pt,zn)=>{const hr=de.collectedStyles.get(de.currentQuerySelector),Li=hr.get(zn);let $i=!0;Li&&(X!=ie&&X>=Li.startTime&&ie<=Li.endTime&&(de.errors.push(function W(){return new r.wOt(3010,!1)}()),$i=!1),X=Li.startTime),$i&&hr.set(zn,{startTime:X,endTime:ie}),de.options&&function Qt(Ke,L,de){const O=L.params||{},ie=Lt(Ke);ie.length&&ie.forEach(X=>{O.hasOwnProperty(X)||de.push(function F(){return new r.wOt(3001,!1)}())})}(Pt,de.options,de.errors)})})}visitKeyframes(L,de){const O={type:g.If.Keyframes,styles:[],options:null};if(!de.currentAnimateTimings)return de.errors.push(function se(){return new r.wOt(3011,!1)}()),O;let X=0;const Ye=[];let Pt=!1,zn=!1,hr=0;const Li=L.steps.map(P=>{const N=this._makeStyleAst(P,de);let Pe=null!=N.offset?N.offset:function pe(Ke){if("string"==typeof Ke)return null;let L=null;if(Array.isArray(Ke))Ke.forEach(de=>{if(de instanceof Map&&de.has("offset")){const O=de;L=parseFloat(O.get("offset")),O.delete("offset")}});else if(Ke instanceof Map&&Ke.has("offset")){const de=Ke;L=parseFloat(de.get("offset")),de.delete("offset")}return L}(N.styles),tt=0;return null!=Pe&&(X++,tt=N.offset=Pe),zn=zn||tt<0||tt>1,Pt=Pt||tt<hr,hr=tt,Ye.push(tt),N});zn&&de.errors.push(function Q(){return new r.wOt(3012,!1)}()),Pt&&de.errors.push(function Ie(){return new r.wOt(3200,!1)}());const $i=L.steps.length;let hi=0;X>0&&X<$i?de.errors.push(function ae(){return new r.wOt(3202,!1)}()):0==X&&(hi=1/($i-1));const Gr=$i-1,et=de.currentTime,rn=de.currentAnimateTimings,It=rn.duration;return Li.forEach((P,N)=>{const Pe=hi>0?N==Gr?1:hi*N:Ye[N],tt=Pe*It;de.currentTime=et+rn.delay+tt,rn.duration=tt,this._validateStyleAst(P,de),P.offset=Pe,O.styles.push(P)}),O}visitReference(L,de){return{type:g.If.Reference,animation:Ct(this,Yt(L.animation),de),options:pn(L.options)}}visitAnimateChild(L,de){return de.depCount++,{type:g.If.AnimateChild,options:pn(L.options)}}visitAnimateRef(L,de){return{type:g.If.AnimateRef,animation:this.visitReference(L.animation,de),options:pn(L.options)}}visitQuery(L,de){const O=de.currentQuerySelector,ie=L.options||{};de.queryCount++,de.currentQuery=L;const[X,Ye]=function Vr(Ke){const L=!!Ke.split(/\s*,\s*/).find(de=>":self"==de);return L&&(Ke=Ke.replace(nn,"")),Ke=Ke.replace(/@\*/g,ct).replace(/@\w+/g,de=>ct+"-"+de.slice(1)).replace(/:animating/g,rt),[Ke,L]}(L.selector);de.currentQuerySelector=O.length?O+" "+X:X,y(de.collectedStyles,de.currentQuerySelector,new Map);const Pt=Ct(this,Yt(L.animation),de);return de.currentQuery=null,de.currentQuerySelector=O,{type:g.If.Query,selector:X,limit:ie.limit||0,optional:!!ie.optional,includeSelf:Ye,animation:Pt,originalSelector:L.selector,options:pn(L.options)}}visitStagger(L,de){de.currentQuery||de.errors.push(function Me(){return new r.wOt(3013,!1)}());const O="full"===L.timings?{duration:0,delay:0,easing:"full"}:In(L.timings,de.errors,!0);return{type:g.If.Stagger,animation:Ct(this,Yt(L.animation),de),timings:O,options:null}}}class jt{constructor(L){this.errors=L,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pn(Ke){return Ke?(Ke={...Ke}).params&&(Ke.params=function _r(Ke){return Ke?{...Ke}:null}(Ke.params)):Ke={},Ke}function On(Ke,L,de){return{duration:Ke,delay:L,easing:de}}function lr(Ke,L,de,O,ie,X,Ye=null,Pt=!1){return{type:1,element:Ke,keyframes:L,preStyleProps:de,postStyleProps:O,duration:ie,delay:X,totalTime:ie+X,easing:Ye,subTimeline:Pt}}class Dr{constructor(){this._map=new Map}get(L){return this._map.get(L)||[]}append(L,de){let O=this._map.get(L);O||this._map.set(L,O=[]),O.push(...de)}has(L){return this._map.has(L)}clear(){this._map.clear()}}const ui=new RegExp(":enter","g"),eo=new RegExp(":leave","g");function Ki(Ke,L,de,O,ie,X=new Map,Ye=new Map,Pt,zn,hr=[]){return(new Qi).buildKeyframes(Ke,L,de,O,ie,X,Ye,Pt,zn,hr)}class Qi{buildKeyframes(L,de,O,ie,X,Ye,Pt,zn,hr,Li=[]){hr=hr||new Dr;const $i=new qi(L,de,hr,ie,X,Li,[]);$i.options=zn;const hi=zn.delay?Et(zn.delay):0;$i.currentTimeline.delayNextStep(hi),$i.currentTimeline.setStyles([Ye],null,$i.errors,zn),Ct(this,O,$i);const Gr=$i.timelines.filter(et=>et.containsAnimation());if(Gr.length&&Pt.size){let et;for(let rn=Gr.length-1;rn>=0;rn--){const It=Gr[rn];if(It.element===de){et=It;break}}et&&!et.allowOnlyTimelineStyles()&&et.setStyles([Pt],null,$i.errors,zn)}return Gr.length?Gr.map(et=>et.buildKeyframes()):[lr(de,[],[],[],0,hi,"",!1)]}visitTrigger(L,de){}visitState(L,de){}visitTransition(L,de){}visitAnimateChild(L,de){const O=de.subInstructions.get(de.element);if(O){const ie=de.createSubContext(L.options),X=de.currentTimeline.currentTime,Ye=this._visitSubInstructions(O,ie,ie.options);X!=Ye&&de.transformIntoNewTimeline(Ye)}de.previousNode=L}visitAnimateRef(L,de){const O=de.createSubContext(L.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([L.options,L.animation.options],de,O),this.visitReference(L.animation,O),de.transformIntoNewTimeline(O.currentTimeline.currentTime),de.previousNode=L}_applyAnimationRefDelays(L,de,O){for(const ie of L){const X=ie?.delay;if(X){const Ye="number"==typeof X?X:Et(Dn(X,ie?.params??{},de.errors));O.delayNextStep(Ye)}}}_visitSubInstructions(L,de,O){let X=de.currentTimeline.currentTime;const Ye=null!=O.duration?Et(O.duration):null,Pt=null!=O.delay?Et(O.delay):null;return 0!==Ye&&L.forEach(zn=>{const hr=de.appendInstructionToTimeline(zn,Ye,Pt);X=Math.max(X,hr.duration+hr.delay)}),X}visitReference(L,de){de.updateOptions(L.options,!0),Ct(this,L.animation,de),de.previousNode=L}visitSequence(L,de){const O=de.subContextCount;let ie=de;const X=L.options;if(X&&(X.params||X.delay)&&(ie=de.createSubContext(X),ie.transformIntoNewTimeline(),null!=X.delay)){ie.previousNode.type==g.If.Style&&(ie.currentTimeline.snapshotCurrentStyles(),ie.previousNode=Yi);const Ye=Et(X.delay);ie.delayNextStep(Ye)}L.steps.length&&(L.steps.forEach(Ye=>Ct(this,Ye,ie)),ie.currentTimeline.applyStylesToKeyframe(),ie.subContextCount>O&&ie.transformIntoNewTimeline()),de.previousNode=L}visitGroup(L,de){const O=[];let ie=de.currentTimeline.currentTime;const X=L.options&&L.options.delay?Et(L.options.delay):0;L.steps.forEach(Ye=>{const Pt=de.createSubContext(L.options);X&&Pt.delayNextStep(X),Ct(this,Ye,Pt),ie=Math.max(ie,Pt.currentTimeline.currentTime),O.push(Pt.currentTimeline)}),O.forEach(Ye=>de.currentTimeline.mergeTimelineCollectedStyles(Ye)),de.transformIntoNewTimeline(ie),de.previousNode=L}_visitTiming(L,de){if(L.dynamic){const O=L.strValue;return In(de.params?Dn(O,de.params,de.errors):O,de.errors)}return{duration:L.duration,delay:L.delay,easing:L.easing}}visitAnimate(L,de){const O=de.currentAnimateTimings=this._visitTiming(L.timings,de),ie=de.currentTimeline;O.delay&&(de.incrementTime(O.delay),ie.snapshotCurrentStyles());const X=L.style;X.type==g.If.Keyframes?this.visitKeyframes(X,de):(de.incrementTime(O.duration),this.visitStyle(X,de),ie.applyStylesToKeyframe()),de.currentAnimateTimings=null,de.previousNode=L}visitStyle(L,de){const O=de.currentTimeline,ie=de.currentAnimateTimings;!ie&&O.hasCurrentStyleProperties()&&O.forwardFrame();const X=ie&&ie.easing||L.easing;L.isEmptyStep?O.applyEmptyStep(X):O.setStyles(L.styles,X,de.errors,de.options),de.previousNode=L}visitKeyframes(L,de){const O=de.currentAnimateTimings,ie=de.currentTimeline.duration,X=O.duration,Pt=de.createSubContext().currentTimeline;Pt.easing=O.easing,L.styles.forEach(zn=>{Pt.forwardTime((zn.offset||0)*X),Pt.setStyles(zn.styles,zn.easing,de.errors,de.options),Pt.applyStylesToKeyframe()}),de.currentTimeline.mergeTimelineCollectedStyles(Pt),de.transformIntoNewTimeline(ie+X),de.previousNode=L}visitQuery(L,de){const O=de.currentTimeline.currentTime,ie=L.options||{},X=ie.delay?Et(ie.delay):0;X&&(de.previousNode.type===g.If.Style||0==O&&de.currentTimeline.hasCurrentStyleProperties())&&(de.currentTimeline.snapshotCurrentStyles(),de.previousNode=Yi);let Ye=O;const Pt=de.invokeQuery(L.selector,L.originalSelector,L.limit,L.includeSelf,!!ie.optional,de.errors);de.currentQueryTotal=Pt.length;let zn=null;Pt.forEach((hr,Li)=>{de.currentQueryIndex=Li;const $i=de.createSubContext(L.options,hr);X&&$i.delayNextStep(X),hr===de.element&&(zn=$i.currentTimeline),Ct(this,L.animation,$i),$i.currentTimeline.applyStylesToKeyframe(),Ye=Math.max(Ye,$i.currentTimeline.currentTime)}),de.currentQueryIndex=0,de.currentQueryTotal=0,de.transformIntoNewTimeline(Ye),zn&&(de.currentTimeline.mergeTimelineCollectedStyles(zn),de.currentTimeline.snapshotCurrentStyles()),de.previousNode=L}visitStagger(L,de){const O=de.parentContext,ie=de.currentTimeline,X=L.timings,Ye=Math.abs(X.duration),Pt=Ye*(de.currentQueryTotal-1);let zn=Ye*de.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":zn=Pt-zn;break;case"full":zn=O.currentStaggerTime}const Li=de.currentTimeline;zn&&Li.delayNextStep(zn);const $i=Li.currentTime;Ct(this,L.animation,de),de.previousNode=L,O.currentStaggerTime=ie.currentTime-$i+(ie.startTime-O.currentTimeline.startTime)}}const Yi={};class qi{constructor(L,de,O,ie,X,Ye,Pt,zn){this._driver=L,this.element=de,this.subInstructions=O,this._enterClassName=ie,this._leaveClassName=X,this.errors=Ye,this.timelines=Pt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=zn||new bo(this._driver,de,0),Pt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(L,de){if(!L)return;const O=L;let ie=this.options;null!=O.duration&&(ie.duration=Et(O.duration)),null!=O.delay&&(ie.delay=Et(O.delay));const X=O.params;if(X){let Ye=ie.params;Ye||(Ye=this.options.params={}),Object.keys(X).forEach(Pt=>{(!de||!Ye.hasOwnProperty(Pt))&&(Ye[Pt]=Dn(X[Pt],Ye,this.errors))})}}_copyOptions(){const L={};if(this.options){const de=this.options.params;if(de){const O=L.params={};Object.keys(de).forEach(ie=>{O[ie]=de[ie]})}}return L}createSubContext(L=null,de,O){const ie=de||this.element,X=new qi(this._driver,ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ie,O||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(L),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(L){return this.previousNode=Yi,this.currentTimeline=this.currentTimeline.fork(this.element,L),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(L,de,O){const ie={duration:de??L.duration,delay:this.currentTimeline.currentTime+(O??0)+L.delay,easing:""},X=new Bo(this._driver,L.element,L.keyframes,L.preStyleProps,L.postStyleProps,ie,L.stretchStartingKeyframe);return this.timelines.push(X),ie}incrementTime(L){this.currentTimeline.forwardTime(this.currentTimeline.duration+L)}delayNextStep(L){L>0&&this.currentTimeline.delayNextStep(L)}invokeQuery(L,de,O,ie,X,Ye){let Pt=[];if(ie&&Pt.push(this.element),L.length>0){L=(L=L.replace(ui,"."+this._enterClassName)).replace(eo,"."+this._leaveClassName);let hr=this._driver.query(this.element,L,1!=O);0!==O&&(hr=O<0?hr.slice(hr.length+O,hr.length):hr.slice(0,O)),Pt.push(...hr)}return!X&&0==Pt.length&&Ye.push(function q(){return new r.wOt(3014,!1)}()),Pt}}class bo{constructor(L,de,O,ie){this._driver=L,this.element=de,this.startTime=O,this._elementTimelineStylesLookup=ie,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(de),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(de,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(L){const de=1===this._keyframes.size&&this._pendingStyles.size;this.duration||de?(this.forwardTime(this.currentTime+L),de&&this.snapshotCurrentStyles()):this.startTime+=L}fork(L,de){return this.applyStylesToKeyframe(),new bo(this._driver,L,de||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(L){this.applyStylesToKeyframe(),this.duration=L,this._loadKeyframe()}_updateStyle(L,de){this._localTimelineStyles.set(L,de),this._globalTimelineStyles.set(L,de),this._styleSummary.set(L,{time:this.currentTime,value:de})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(L){L&&this._previousKeyframe.set("easing",L);for(let[de,O]of this._globalTimelineStyles)this._backFill.set(de,O||g.kp),this._currentKeyframe.set(de,g.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(L,de,O,ie){de&&this._previousKeyframe.set("easing",de);const X=ie&&ie.params||{},Ye=function Se(Ke,L){const de=new Map;let O;return Ke.forEach(ie=>{if("*"===ie){O??=L.keys();for(let X of O)de.set(X,g.kp)}else for(let[X,Ye]of ie)de.set(X,Ye)}),de}(L,this._globalTimelineStyles);for(let[Pt,zn]of Ye){const hr=Dn(zn,X,O);this._pendingStyles.set(Pt,hr),this._localTimelineStyles.has(Pt)||this._backFill.set(Pt,this._globalTimelineStyles.get(Pt)??g.kp),this._updateStyle(Pt,hr)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((L,de)=>{this._currentKeyframe.set(de,L)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((L,de)=>{this._currentKeyframe.has(de)||this._currentKeyframe.set(de,L)}))}snapshotCurrentStyles(){for(let[L,de]of this._localTimelineStyles)this._pendingStyles.set(L,de),this._updateStyle(L,de)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const L=[];for(let de in this._currentKeyframe)L.push(de);return L}mergeTimelineCollectedStyles(L){L._styleSummary.forEach((de,O)=>{const ie=this._styleSummary.get(O);(!ie||de.time>ie.time)&&this._updateStyle(O,de.value)})}buildKeyframes(){this.applyStylesToKeyframe();const L=new Set,de=new Set,O=1===this._keyframes.size&&0===this.duration;let ie=[];this._keyframes.forEach((Pt,zn)=>{const hr=new Map([...this._backFill,...Pt]);hr.forEach((Li,$i)=>{Li===g.FX?L.add($i):Li===g.kp&&de.add($i)}),O||hr.set("offset",zn/this.duration),ie.push(hr)});const X=[...L.values()],Ye=[...de.values()];if(O){const Pt=ie[0],zn=new Map(Pt);Pt.set("offset",0),zn.set("offset",1),ie=[Pt,zn]}return lr(this.element,ie,X,Ye,this.duration,this.startTime,this.easing,!1)}}class Bo extends bo{constructor(L,de,O,ie,X,Ye,Pt=!1){super(L,de,Ye.delay),this.keyframes=O,this.preStyleProps=ie,this.postStyleProps=X,this._stretchStartingKeyframe=Pt,this.timings={duration:Ye.duration,delay:Ye.delay,easing:Ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let L=this.keyframes,{delay:de,duration:O,easing:ie}=this.timings;if(this._stretchStartingKeyframe&&de){const X=[],Ye=O+de,Pt=de/Ye,zn=new Map(L[0]);zn.set("offset",0),X.push(zn);const hr=new Map(L[0]);hr.set("offset",Gt(Pt)),X.push(hr);const Li=L.length-1;for(let $i=1;$i<=Li;$i++){let hi=new Map(L[$i]);const Gr=hi.get("offset");hi.set("offset",Gt((de+Gr*O)/Ye)),X.push(hi)}O=Ye,de=0,ie="",L=X}return lr(this.element,L,this.preStyleProps,this.postStyleProps,O,de,ie,!0)}}function Gt(Ke,L=3){const de=Math.pow(10,L-1);return Math.round(Ke*de)/de}function vt(Ke,L,de,O,ie,X,Ye,Pt,zn,hr,Li,$i,hi){return{type:0,element:Ke,triggerName:L,isRemovalTransition:ie,fromState:de,fromStyles:X,toState:O,toStyles:Ye,timelines:Pt,queriedElements:zn,preStyleProps:hr,postStyleProps:Li,totalTime:$i,errors:hi}}const Xt={};class Cn{constructor(L,de,O){this._triggerName=L,this.ast=de,this._stateStyles=O}match(L,de,O,ie){return function kr(Ke,L,de,O,ie){return Ke.some(X=>X(L,de,O,ie))}(this.ast.matchers,L,de,O,ie)}buildStyles(L,de,O){let ie=this._stateStyles.get("*");return void 0!==L&&(ie=this._stateStyles.get(L?.toString())||ie),ie?ie.buildStyles(de,O):new Map}build(L,de,O,ie,X,Ye,Pt,zn,hr,Li){const $i=[],hi=this.ast.options&&this.ast.options.params||Xt,et=this.buildStyles(O,Pt&&Pt.params||Xt,$i),rn=zn&&zn.params||Xt,It=this.buildStyles(ie,rn,$i),P=new Set,N=new Map,Pe=new Map,tt="void"===ie,xt={params:Ii(rn,hi),delay:this.ast.options?.delay},Wt=Li?[]:Ki(L,de,this.ast.animation,X,Ye,et,It,xt,hr,$i);let ln=0;return Wt.forEach(Ln=>{ln=Math.max(Ln.duration+Ln.delay,ln)}),$i.length?vt(de,this._triggerName,O,ie,tt,et,It,[],[],N,Pe,ln,$i):(Wt.forEach(Ln=>{const $n=Ln.element,pr=y(N,$n,new Set);Ln.preStyleProps.forEach(Mr=>pr.add(Mr));const dr=y(Pe,$n,new Set);Ln.postStyleProps.forEach(Mr=>dr.add(Mr)),$n!==de&&P.add($n)}),vt(de,this._triggerName,O,ie,tt,et,It,Wt,[...P.values()],N,Pe,ln))}}function Ii(Ke,L){const de={...L};return Object.entries(Ke).forEach(([O,ie])=>{null!=ie&&(de[O]=ie)}),de}class $r{constructor(L,de,O){this.styles=L,this.defaultParams=de,this.normalizer=O}buildStyles(L,de){const O=new Map,ie=Ii(L,this.defaultParams);return this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((Ye,Pt)=>{Ye&&(Ye=Dn(Ye,ie,de));const zn=this.normalizer.normalizePropertyName(Pt,de);Ye=this.normalizer.normalizeStyleValue(Pt,zn,Ye,de),O.set(Pt,Ye)})}),O}}class Mo{constructor(L,de,O){this.name=L,this.ast=de,this._normalizer=O,this.transitionFactories=[],this.states=new Map,de.states.forEach(ie=>{this.states.set(ie.name,new $r(ie.style,ie.options&&ie.options.params||{},O))}),xs(this.states,"true","1"),xs(this.states,"false","0"),de.transitions.forEach(ie=>{this.transitionFactories.push(new Cn(L,ie,this.states))}),this.fallbackTransition=function Wo(Ke,L){return new Cn(Ke,{type:g.If.Transition,animation:{type:g.If.Sequence,steps:[],options:null},matchers:[(Ye,Pt)=>!0],options:null,queryCount:0,depCount:0},L)}(L,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(L,de,O,ie){return this.transitionFactories.find(Ye=>Ye.match(L,de,O,ie))||null}matchStyles(L,de,O){return this.fallbackTransition.buildStyles(L,de,O)}}function xs(Ke,L,de){Ke.has(L)?Ke.has(de)||Ke.set(de,Ke.get(L)):Ke.has(de)&&Ke.set(L,Ke.get(de))}const da=new Dr;class Os{constructor(L,de,O){this.bodyNode=L,this._driver=de,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(L,de){const O=[],X=xn(this._driver,de,O,[]);if(O.length)throw function gt(){return new r.wOt(3503,!1)}();this._animations.set(L,X)}_buildPlayer(L,de,O){const ie=L.element,X=Ce(this._normalizer,L.keyframes,de,O);return this._driver.animate(ie,X,L.duration,L.delay,L.easing,[],!0)}create(L,de,O={}){const ie=[],X=this._animations.get(L);let Ye;const Pt=new Map;if(X?(Ye=Ki(this._driver,de,X,Mt,lt,new Map,new Map,O,da,ie),Ye.forEach(Li=>{const $i=y(Pt,Li.element,new Map);Li.postStyleProps.forEach(hi=>$i.set(hi,null))})):(ie.push(function _t(){return new r.wOt(3300,!1)}()),Ye=[]),ie.length)throw function zt(){return new r.wOt(3504,!1)}();Pt.forEach((Li,$i)=>{Li.forEach((hi,Gr)=>{Li.set(Gr,this._driver.computeStyle($i,Gr,g.kp))})});const hr=je(Ye.map(Li=>{const $i=Pt.get(Li.element);return this._buildPlayer(Li,new Map,$i)}));return this._playersById.set(L,hr),hr.onDestroy(()=>this.destroy(L)),this.players.push(hr),hr}destroy(L){const de=this._getPlayer(L);de.destroy(),this._playersById.delete(L);const O=this.players.indexOf(de);O>=0&&this.players.splice(O,1)}_getPlayer(L){const de=this._playersById.get(L);if(!de)throw function Rn(){return new r.wOt(3301,!1)}();return de}listen(L,de,O,ie){const X=te(de,"","","");return ne(this._getPlayer(L),O,X,ie),()=>{}}command(L,de,O,ie){if("register"==O)return void this.register(L,ie[0]);if("create"==O)return void this.create(L,de,ie[0]||{});const X=this._getPlayer(L);switch(O){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(ie[0]));break;case"destroy":this.destroy(L)}}}const Lo="ng-animate-queued",Xo="ng-animate-disabled",Ir=[],ri={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},si={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class ki{get params(){return this.options.params}constructor(L,de=""){this.namespaceId=de;const O=L&&L.hasOwnProperty("value");if(this.value=function Fs(Ke){return Ke??null}(O?L.value:L),O){const{value:X,...Ye}=L;this.options=Ye}else this.options={};this.options.params||(this.options.params={})}absorbOptions(L){const de=L.params;if(de){const O=this.options.params;Object.keys(de).forEach(ie=>{null==O[ie]&&(O[ie]=de[ie])})}}}const Ji="void",po=new ki(Ji);class Pi{constructor(L,de,O){this.id=L,this.hostElement=de,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+L,Vo(de,this._hostClassName)}listen(L,de,O,ie){if(!this._triggers.has(de))throw function Oe(){return new r.wOt(3302,!1)}();if(null==O||0==O.length)throw function De(){return new r.wOt(3303,!1)}();if(!function Ms(Ke){return"start"==Ke||"done"==Ke}(O))throw function He(){return new r.wOt(3400,!1)}();const X=y(this._elementListeners,L,[]),Ye={name:de,phase:O,callback:ie};X.push(Ye);const Pt=y(this._engine.statesByElement,L,new Map);return Pt.has(de)||(Vo(L,Bt),Vo(L,Bt+"-"+de),Pt.set(de,po)),()=>{this._engine.afterFlush(()=>{const zn=X.indexOf(Ye);zn>=0&&X.splice(zn,1),this._triggers.has(de)||Pt.delete(de)})}}register(L,de){return!this._triggers.has(L)&&(this._triggers.set(L,de),!0)}_getTrigger(L){const de=this._triggers.get(L);if(!de)throw function We(){return new r.wOt(3401,!1)}();return de}trigger(L,de,O,ie=!0){const X=this._getTrigger(de),Ye=new es(this.id,de,L);let Pt=this._engine.statesByElement.get(L);Pt||(Vo(L,Bt),Vo(L,Bt+"-"+de),this._engine.statesByElement.set(L,Pt=new Map));let zn=Pt.get(de);const hr=new ki(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&zn&&hr.absorbOptions(zn.options),Pt.set(de,hr),zn||(zn=po),hr.value!==Ji&&zn.value===hr.value){if(!function Vn(Ke,L){const de=Object.keys(Ke),O=Object.keys(L);if(de.length!=O.length)return!1;for(let ie=0;ie<de.length;ie++){const X=de[ie];if(!L.hasOwnProperty(X)||Ke[X]!==L[X])return!1}return!0}(zn.params,hr.params)){const rn=[],It=X.matchStyles(zn.value,zn.params,rn),P=X.matchStyles(hr.value,hr.params,rn);rn.length?this._engine.reportError(rn):this._engine.afterFlush(()=>{cn(L,It),wn(L,P)})}return}const hi=y(this._engine.playersByElement,L,[]);hi.forEach(rn=>{rn.namespaceId==this.id&&rn.triggerName==de&&rn.queued&&rn.destroy()});let Gr=X.matchTransition(zn.value,hr.value,L,hr.params),et=!1;if(!Gr){if(!ie)return;Gr=X.fallbackTransition,et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:L,triggerName:de,transition:Gr,fromState:zn,toState:hr,player:Ye,isFallbackTransition:et}),et||(Vo(L,Lo),Ye.onStart(()=>{Ls(L,Lo)})),Ye.onDone(()=>{let rn=this.players.indexOf(Ye);rn>=0&&this.players.splice(rn,1);const It=this._engine.playersByElement.get(L);if(It){let P=It.indexOf(Ye);P>=0&&It.splice(P,1)}}),this.players.push(Ye),hi.push(Ye),Ye}deregister(L){this._triggers.delete(L),this._engine.statesByElement.forEach(de=>de.delete(L)),this._elementListeners.forEach((de,O)=>{this._elementListeners.set(O,de.filter(ie=>ie.name!=L))})}clearElementCache(L){this._engine.statesByElement.delete(L),this._elementListeners.delete(L);const de=this._engine.playersByElement.get(L);de&&(de.forEach(O=>O.destroy()),this._engine.playersByElement.delete(L))}_signalRemovalForInnerTriggers(L,de){const O=this._engine.driver.query(L,ct,!0);O.forEach(ie=>{if(ie[Xr])return;const X=this._engine.fetchNamespacesByElement(ie);X.size?X.forEach(Ye=>Ye.triggerLeaveAnimation(ie,de,!1,!0)):this.clearElementCache(ie)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(ie=>this.clearElementCache(ie)))}triggerLeaveAnimation(L,de,O,ie){const X=this._engine.statesByElement.get(L),Ye=new Map;if(X){const Pt=[];if(X.forEach((zn,hr)=>{if(Ye.set(hr,zn.value),this._triggers.has(hr)){const Li=this.trigger(L,hr,Ji,ie);Li&&Pt.push(Li)}}),Pt.length)return this._engine.markElementAsRemoved(this.id,L,!0,de,Ye),O&&je(Pt).onDone(()=>this._engine.processLeaveNode(L)),!0}return!1}prepareLeaveAnimationListeners(L){const de=this._elementListeners.get(L),O=this._engine.statesByElement.get(L);if(de&&O){const ie=new Set;de.forEach(X=>{const Ye=X.name;if(ie.has(Ye))return;ie.add(Ye);const zn=this._triggers.get(Ye).fallbackTransition,hr=O.get(Ye)||po,Li=new ki(Ji),$i=new es(this.id,Ye,L);this._engine.totalQueuedPlayers++,this._queue.push({element:L,triggerName:Ye,transition:zn,fromState:hr,toState:Li,player:$i,isFallbackTransition:!0})})}}removeNode(L,de){const O=this._engine;if(L.childElementCount&&this._signalRemovalForInnerTriggers(L,de),this.triggerLeaveAnimation(L,de,!0))return;let ie=!1;if(O.totalAnimations){const X=O.players.length?O.playersByQueriedElement.get(L):[];if(X&&X.length)ie=!0;else{let Ye=L;for(;Ye=Ye.parentNode;)if(O.statesByElement.get(Ye)){ie=!0;break}}}if(this.prepareLeaveAnimationListeners(L),ie)O.markElementAsRemoved(this.id,L,!1,de);else{const X=L[Xr];(!X||X===ri)&&(O.afterFlush(()=>this.clearElementCache(L)),O.destroyInnerAnimations(L),O._onRemovalComplete(L,de))}}insertNode(L,de){Vo(L,this._hostClassName)}drainQueuedTransitions(L){const de=[];return this._queue.forEach(O=>{const ie=O.player;if(ie.destroyed)return;const X=O.element,Ye=this._elementListeners.get(X);Ye&&Ye.forEach(Pt=>{if(Pt.name==O.triggerName){const zn=te(X,O.triggerName,O.fromState.value,O.toState.value);zn._data=L,ne(O.player,Pt.phase,zn,Pt.callback)}}),ie.markedForDestroy?this._engine.afterFlush(()=>{ie.destroy()}):de.push(O)}),this._queue=[],de.sort((O,ie)=>{const X=O.transition.ast.depCount,Ye=ie.transition.ast.depCount;return 0==X||0==Ye?X-Ye:this._engine.driver.containsElement(O.element,ie.element)?1:-1})}destroy(L){this.players.forEach(de=>de.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,L)}}class os{_onRemovalComplete(L,de){this.onRemovalComplete(L,de)}constructor(L,de,O){this.bodyNode=L,this.driver=de,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,X)=>{}}get queuedPlayers(){const L=[];return this._namespaceList.forEach(de=>{de.players.forEach(O=>{O.queued&&L.push(O)})}),L}createNamespace(L,de){const O=new Pi(L,de,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,de)?this._balanceNamespaceList(O,de):(this.newHostElements.set(de,O),this.collectEnterElement(de)),this._namespaceLookup[L]=O}_balanceNamespaceList(L,de){const O=this._namespaceList,ie=this.namespacesByHostElement;if(O.length-1>=0){let Ye=!1,Pt=this.driver.getParentElement(de);for(;Pt;){const zn=ie.get(Pt);if(zn){const hr=O.indexOf(zn);O.splice(hr+1,0,L),Ye=!0;break}Pt=this.driver.getParentElement(Pt)}Ye||O.unshift(L)}else O.push(L);return ie.set(de,L),L}register(L,de){let O=this._namespaceLookup[L];return O||(O=this.createNamespace(L,de)),O}registerTrigger(L,de,O){let ie=this._namespaceLookup[L];ie&&ie.register(de,O)&&this.totalAnimations++}destroy(L,de){L&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const O=this._fetchNamespace(L);this.namespacesByHostElement.delete(O.hostElement);const ie=this._namespaceList.indexOf(O);ie>=0&&this._namespaceList.splice(ie,1),O.destroy(de),delete this._namespaceLookup[L]}))}_fetchNamespace(L){return this._namespaceLookup[L]}fetchNamespacesByElement(L){const de=new Set,O=this.statesByElement.get(L);if(O)for(let ie of O.values())if(ie.namespaceId){const X=this._fetchNamespace(ie.namespaceId);X&&de.add(X)}return de}trigger(L,de,O,ie){if(Ro(de)){const X=this._fetchNamespace(L);if(X)return X.trigger(de,O,ie),!0}return!1}insertNode(L,de,O,ie){if(!Ro(de))return;const X=de[Xr];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const Ye=this.collectedLeaveElements.indexOf(de);Ye>=0&&this.collectedLeaveElements.splice(Ye,1)}if(L){const Ye=this._fetchNamespace(L);Ye&&Ye.insertNode(de,O)}ie&&this.collectEnterElement(de)}collectEnterElement(L){this.collectedEnterElements.push(L)}markElementAsDisabled(L,de){de?this.disabledNodes.has(L)||(this.disabledNodes.add(L),Vo(L,Xo)):this.disabledNodes.has(L)&&(this.disabledNodes.delete(L),Ls(L,Xo))}removeNode(L,de,O){if(Ro(de)){const ie=L?this._fetchNamespace(L):null;ie?ie.removeNode(de,O):this.markElementAsRemoved(L,de,!1,O);const X=this.namespacesByHostElement.get(de);X&&X.id!==L&&X.removeNode(de,O)}else this._onRemovalComplete(de,O)}markElementAsRemoved(L,de,O,ie,X){this.collectedLeaveElements.push(de),de[Xr]={namespaceId:L,setForRemoval:ie,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:X}}listen(L,de,O,ie,X){return Ro(de)?this._fetchNamespace(L).listen(de,O,ie,X):()=>{}}_buildInstruction(L,de,O,ie,X){return L.transition.build(this.driver,L.element,L.fromState.value,L.toState.value,O,ie,L.fromState.options,L.toState.options,de,X)}destroyInnerAnimations(L){let de=this.driver.query(L,ct,!0);de.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(de=this.driver.query(L,rt,!0),de.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(L){const de=this.playersByElement.get(L);de&&de.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(L){const de=this.playersByQueriedElement.get(L);de&&de.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(L=>{if(this.players.length)return je(this.players).onDone(()=>L());L()})}processLeaveNode(L){const de=L[Xr];if(de&&de.setForRemoval){if(L[Xr]=ri,de.namespaceId){this.destroyInnerAnimations(L);const O=this._fetchNamespace(de.namespaceId);O&&O.clearElementCache(L)}this._onRemovalComplete(L,de.setForRemoval)}L.classList?.contains(Xo)&&this.markElementAsDisabled(L,!1),this.driver.query(L,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(L=-1){let de=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,ie)=>this._balanceNamespaceList(O,ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)Vo(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{de=this._flushAnimations(O,L)}finally{for(let ie=0;ie<O.length;ie++)O[ie]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],de.length?je(de).onDone(()=>{O.forEach(ie=>ie())}):O.forEach(ie=>ie())}}reportError(L){throw function st(){return new r.wOt(3402,!1)}()}_flushAnimations(L,de){const O=new Dr,ie=[],X=new Map,Ye=[],Pt=new Map,zn=new Map,hr=new Map,Li=new Set;this.disabledNodes.forEach(qt=>{Li.add(qt);const Fn=this.driver.query(qt,".ng-animate-queued",!0);for(let En=0;En<Fn.length;En++)Li.add(Fn[En])});const $i=this.bodyNode,hi=Array.from(this.statesByElement.keys()),Gr=Es(hi,this.collectedEnterElements),et=new Map;let rn=0;Gr.forEach((qt,Fn)=>{const En=Mt+rn++;et.set(Fn,En),qt.forEach(qn=>Vo(qn,En))});const It=[],P=new Set,N=new Set;for(let qt=0;qt<this.collectedLeaveElements.length;qt++){const Fn=this.collectedLeaveElements[qt],En=Fn[Xr];En&&En.setForRemoval&&(It.push(Fn),P.add(Fn),En.hasAnimation?this.driver.query(Fn,".ng-star-inserted",!0).forEach(qn=>P.add(qn)):N.add(Fn))}const Pe=new Map,tt=Es(hi,Array.from(P));tt.forEach((qt,Fn)=>{const En=lt+rn++;Pe.set(Fn,En),qt.forEach(qn=>Vo(qn,En))}),L.push(()=>{Gr.forEach((qt,Fn)=>{const En=et.get(Fn);qt.forEach(qn=>Ls(qn,En))}),tt.forEach((qt,Fn)=>{const En=Pe.get(Fn);qt.forEach(qn=>Ls(qn,En))}),It.forEach(qt=>{this.processLeaveNode(qt)})});const xt=[],Wt=[];for(let qt=this._namespaceList.length-1;qt>=0;qt--)this._namespaceList[qt].drainQueuedTransitions(de).forEach(En=>{const qn=En.player,jr=En.element;if(xt.push(qn),this.collectedEnterElements.length){const No=jr[Xr];if(No&&No.setForMove){if(No.previousTriggersValues&&No.previousTriggersValues.has(En.triggerName)){const mo=No.previousTriggersValues.get(En.triggerName),ts=this.statesByElement.get(En.element);if(ts&&ts.has(En.triggerName)){const Ts=ts.get(En.triggerName);Ts.value=mo,ts.set(En.triggerName,Ts)}}return void qn.destroy()}}const bi=!$i||!this.driver.containsElement($i,jr),Oi=Pe.get(jr),xi=et.get(jr),Ei=this._buildInstruction(En,O,xi,Oi,bi);if(Ei.errors&&Ei.errors.length)return void Wt.push(Ei);if(bi)return qn.onStart(()=>cn(jr,Ei.fromStyles)),qn.onDestroy(()=>wn(jr,Ei.toStyles)),void ie.push(qn);if(En.isFallbackTransition)return qn.onStart(()=>cn(jr,Ei.fromStyles)),qn.onDestroy(()=>wn(jr,Ei.toStyles)),void ie.push(qn);const Ho=[];Ei.timelines.forEach(No=>{No.stretchStartingKeyframe=!0,this.disabledNodes.has(No.element)||Ho.push(No)}),Ei.timelines=Ho,O.append(jr,Ei.timelines),Ye.push({instruction:Ei,player:qn,element:jr}),Ei.queriedElements.forEach(No=>y(Pt,No,[]).push(qn)),Ei.preStyleProps.forEach((No,mo)=>{if(No.size){let ts=zn.get(mo);ts||zn.set(mo,ts=new Set),No.forEach((Ts,Qo)=>ts.add(Qo))}}),Ei.postStyleProps.forEach((No,mo)=>{let ts=hr.get(mo);ts||hr.set(mo,ts=new Set),No.forEach((Ts,Qo)=>ts.add(Qo))})});if(Wt.length){const qt=[];Wt.forEach(Fn=>{qt.push(function wt(){return new r.wOt(3505,!1)}())}),xt.forEach(Fn=>Fn.destroy()),this.reportError(qt)}const ln=new Map,Ln=new Map;Ye.forEach(qt=>{const Fn=qt.element;O.has(Fn)&&(Ln.set(Fn,Fn),this._beforeAnimationBuild(qt.player.namespaceId,qt.instruction,ln))}),ie.forEach(qt=>{const Fn=qt.element;this._getPreviousPlayers(Fn,!1,qt.namespaceId,qt.triggerName,null).forEach(qn=>{y(ln,Fn,[]).push(qn),qn.destroy()})});const $n=It.filter(qt=>Wn(qt,zn,hr)),pr=new Map;ha(pr,this.driver,N,hr,g.kp).forEach(qt=>{Wn(qt,zn,hr)&&$n.push(qt)});const Mr=new Map;Gr.forEach((qt,Fn)=>{ha(Mr,this.driver,new Set(qt),zn,g.FX)}),$n.forEach(qt=>{const Fn=pr.get(qt),En=Mr.get(qt);pr.set(qt,new Map([...Fn?.entries()??[],...En?.entries()??[]]))});const yr=[],Qr=[],Fi={};Ye.forEach(qt=>{const{element:Fn,player:En,instruction:qn}=qt;if(O.has(Fn)){if(Li.has(Fn))return En.onDestroy(()=>wn(Fn,qn.toStyles)),En.disabled=!0,En.overrideTotalTime(qn.totalTime),void ie.push(En);let jr=Fi;if(Ln.size>1){let Oi=Fn;const xi=[];for(;Oi=Oi.parentNode;){const Ei=Ln.get(Oi);if(Ei){jr=Ei;break}xi.push(Oi)}xi.forEach(Ei=>Ln.set(Ei,jr))}const bi=this._buildAnimation(En.namespaceId,qn,ln,X,Mr,pr);if(En.setRealPlayer(bi),jr===Fi)yr.push(En);else{const Oi=this.playersByElement.get(jr);Oi&&Oi.length&&(En.parentPlayer=je(Oi)),ie.push(En)}}else cn(Fn,qn.fromStyles),En.onDestroy(()=>wn(Fn,qn.toStyles)),Qr.push(En),Li.has(Fn)&&ie.push(En)}),Qr.forEach(qt=>{const Fn=X.get(qt.element);if(Fn&&Fn.length){const En=je(Fn);qt.setRealPlayer(En)}}),ie.forEach(qt=>{qt.parentPlayer?qt.syncPlayerEvents(qt.parentPlayer):qt.destroy()});for(let qt=0;qt<It.length;qt++){const Fn=It[qt],En=Fn[Xr];if(Ls(Fn,lt),En&&En.hasAnimation)continue;let qn=[];if(Pt.size){let bi=Pt.get(Fn);bi&&bi.length&&qn.push(...bi);let Oi=this.driver.query(Fn,rt,!0);for(let xi=0;xi<Oi.length;xi++){let Ei=Pt.get(Oi[xi]);Ei&&Ei.length&&qn.push(...Ei)}}const jr=qn.filter(bi=>!bi.destroyed);jr.length?_s(this,Fn,jr):this.processLeaveNode(Fn)}return It.length=0,yr.forEach(qt=>{this.players.push(qt),qt.onDone(()=>{qt.destroy();const Fn=this.players.indexOf(qt);this.players.splice(Fn,1)}),qt.play()}),yr}afterFlush(L){this._flushFns.push(L)}afterFlushAnimationsDone(L){this._whenQuietFns.push(L)}_getPreviousPlayers(L,de,O,ie,X){let Ye=[];if(de){const Pt=this.playersByQueriedElement.get(L);Pt&&(Ye=Pt)}else{const Pt=this.playersByElement.get(L);if(Pt){const zn=!X||X==Ji;Pt.forEach(hr=>{hr.queued||!zn&&hr.triggerName!=ie||Ye.push(hr)})}}return(O||ie)&&(Ye=Ye.filter(Pt=>!(O&&O!=Pt.namespaceId||ie&&ie!=Pt.triggerName))),Ye}_beforeAnimationBuild(L,de,O){const X=de.element,Ye=de.isRemovalTransition?void 0:L,Pt=de.isRemovalTransition?void 0:de.triggerName;for(const zn of de.timelines){const hr=zn.element,Li=hr!==X,$i=y(O,hr,[]);this._getPreviousPlayers(hr,Li,Ye,Pt,de.toState).forEach(Gr=>{const et=Gr.getRealPlayer();et.beforeDestroy&&et.beforeDestroy(),Gr.destroy(),$i.push(Gr)})}cn(X,de.fromStyles)}_buildAnimation(L,de,O,ie,X,Ye){const Pt=de.triggerName,zn=de.element,hr=[],Li=new Set,$i=new Set,hi=de.timelines.map(et=>{const rn=et.element;Li.add(rn);const It=rn[Xr];if(It&&It.removedBeforeQueried)return new g.sf(et.duration,et.delay);const P=rn!==zn,N=function ea(Ke){const L=[];return ds(Ke,L),L}((O.get(rn)||Ir).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===rn),Pe=X.get(rn),tt=Ye.get(rn),xt=Ce(this._normalizer,et.keyframes,Pe,tt),Wt=this._buildPlayer(et,xt,N);if(et.subTimeline&&ie&&$i.add(rn),P){const ln=new es(L,Pt,rn);ln.setRealPlayer(Wt),hr.push(ln)}return Wt});hr.forEach(et=>{y(this.playersByQueriedElement,et.element,[]).push(et),et.onDone(()=>function rs(Ke,L,de){let O=Ke.get(L);if(O){if(O.length){const ie=O.indexOf(de);O.splice(ie,1)}0==O.length&&Ke.delete(L)}return O}(this.playersByQueriedElement,et.element,et))}),Li.forEach(et=>Vo(et,Tt));const Gr=je(hi);return Gr.onDestroy(()=>{Li.forEach(et=>Ls(et,Tt)),wn(zn,de.toStyles)}),$i.forEach(et=>{y(ie,et,[]).push(Gr)}),Gr}_buildPlayer(L,de,O){return de.length>0?this.driver.animate(L.element,de,L.duration,L.delay,L.easing,O):new g.sf(L.duration,L.delay)}}class es{constructor(L,de,O){this.namespaceId=L,this.triggerName=de,this.element=O,this._player=new g.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(L){this._containsRealPlayer||(this._player=L,this._queuedCallbacks.forEach((de,O)=>{de.forEach(ie=>ne(L,O,void 0,ie))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(L.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(L){this.totalTime=L}syncPlayerEvents(L){const de=this._player;de.triggerCallback&&L.onStart(()=>de.triggerCallback("start")),L.onDone(()=>this.finish()),L.onDestroy(()=>this.destroy())}_queueEvent(L,de){y(this._queuedCallbacks,L,[]).push(de)}onDone(L){this.queued&&this._queueEvent("done",L),this._player.onDone(L)}onStart(L){this.queued&&this._queueEvent("start",L),this._player.onStart(L)}onDestroy(L){this.queued&&this._queueEvent("destroy",L),this._player.onDestroy(L)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(L){this.queued||this._player.setPosition(L)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(L){const de=this._player;de.triggerCallback&&de.triggerCallback(L)}}function Ro(Ke){return Ke&&1===Ke.nodeType}function gs(Ke,L){const de=Ke.style.display;return Ke.style.display=L??"none",de}function ha(Ke,L,de,O,ie){const X=[];de.forEach(zn=>X.push(gs(zn)));const Ye=[];O.forEach((zn,hr)=>{const Li=new Map;zn.forEach($i=>{const hi=L.computeStyle(hr,$i,ie);Li.set($i,hi),(!hi||0==hi.length)&&(hr[Xr]=si,Ye.push(hr))}),Ke.set(hr,Li)});let Pt=0;return de.forEach(zn=>gs(zn,X[Pt++])),Ye}function Es(Ke,L){const de=new Map;if(Ke.forEach(Pt=>de.set(Pt,[])),0==L.length)return de;const ie=new Set(L),X=new Map;function Ye(Pt){if(!Pt)return 1;let zn=X.get(Pt);if(zn)return zn;const hr=Pt.parentNode;return zn=de.has(hr)?hr:ie.has(hr)?1:Ye(hr),X.set(Pt,zn),zn}return L.forEach(Pt=>{const zn=Ye(Pt);1!==zn&&de.get(zn).push(Pt)}),de}function Vo(Ke,L){Ke.classList?.add(L)}function Ls(Ke,L){Ke.classList?.remove(L)}function _s(Ke,L,de){je(de).onDone(()=>Ke.processLeaveNode(L))}function ds(Ke,L){for(let de=0;de<Ke.length;de++){const O=Ke[de];O instanceof g.ui?ds(O.players,L):L.push(O)}}function Wn(Ke,L,de){const O=de.get(Ke);if(!O)return!1;let ie=L.get(Ke);return ie?O.forEach(X=>ie.add(X)):L.set(Ke,O),de.delete(Ke),!0}class er{constructor(L,de,O){this._driver=de,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(ie,X)=>{},this._transitionEngine=new os(L.body,de,O),this._timelineEngine=new Os(L.body,de,O),this._transitionEngine.onRemovalComplete=(ie,X)=>this.onRemovalComplete(ie,X)}registerTrigger(L,de,O,ie,X){const Ye=L+"-"+ie;let Pt=this._triggerCache[Ye];if(!Pt){const zn=[],Li=xn(this._driver,X,zn,[]);if(zn.length)throw function Ve(){return new r.wOt(3404,!1)}();Pt=function Hi(Ke,L,de){return new Mo(Ke,L,de)}(ie,Li,this._normalizer),this._triggerCache[Ye]=Pt}this._transitionEngine.registerTrigger(de,ie,Pt)}register(L,de){this._transitionEngine.register(L,de)}destroy(L,de){this._transitionEngine.destroy(L,de)}onInsert(L,de,O,ie){this._transitionEngine.insertNode(L,de,O,ie)}onRemove(L,de,O){this._transitionEngine.removeNode(L,de,O)}disableAnimations(L,de){this._transitionEngine.markElementAsDisabled(L,de)}process(L,de,O,ie){if("@"==O.charAt(0)){const[X,Ye]=M(O);this._timelineEngine.command(X,de,Ye,ie)}else this._transitionEngine.trigger(L,de,O,ie)}listen(L,de,O,ie,X){if("@"==O.charAt(0)){const[Ye,Pt]=M(O);return this._timelineEngine.listen(Ye,de,Pt,X)}return this._transitionEngine.listen(L,de,O,ie,X)}flush(L=-1){this._transitionEngine.flush(L)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(L){this._transitionEngine.afterFlushAnimationsDone(L)}}class ai{static#e=this.initialStylesByElement=new WeakMap;constructor(L,de,O){this._element=L,this._startStyles=de,this._endStyles=O,this._state=0;let ie=ai.initialStylesByElement.get(L);ie||ai.initialStylesByElement.set(L,ie=new Map),this._initialStyles=ie}start(){this._state<1&&(this._startStyles&&wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wn(this._element,this._initialStyles),this._endStyles&&(wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ai.initialStylesByElement.delete(this._element),this._startStyles&&(cn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cn(this._element,this._endStyles),this._endStyles=null),wn(this._element,this._initialStyles),this._state=3)}}function Ti(Ke){let L=null;return Ke.forEach((de,O)=>{(function Zi(Ke){return"display"===Ke||"position"===Ke})(O)&&(L=L||new Map,L.set(O,de))}),L}class go{constructor(L,de,O,ie){this.element=L,this.keyframes=de,this.options=O,this._specialStyles=ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(L=>L()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const L=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,L,this.options),this._finalKeyframe=L.length?L[L.length-1]:new Map;const de=()=>this._onFinish();this.domPlayer.addEventListener("finish",de),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",de)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(L){const de=[];return L.forEach(O=>{de.push(Object.fromEntries(O))}),de}_triggerWebAnimation(L,de,O){return L.animate(this._convertKeyframesToObject(de),O)}onStart(L){this._originalOnStartFns.push(L),this._onStartFns.push(L)}onDone(L){this._originalOnDoneFns.push(L),this._onDoneFns.push(L)}onDestroy(L){this._onDestroyFns.push(L)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(L=>L()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(L=>L()),this._onDestroyFns=[])}setPosition(L){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=L*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const L=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,ie)=>{"offset"!==ie&&L.set(ie,this._finished?O:me(this.element,ie))}),this.currentSnapshot=L}triggerCallback(L){const de="start"===L?this._onStartFns:this._onDoneFns;de.forEach(O=>O()),de.length=0}}class zi{validateStyleProperty(L){return!0}validateAnimatableStyleProperty(L){return!0}containsElement(L,de){return Te(L,de)}getParentElement(L){return G(L)}query(L,de,O){return ke(L,de,O)}computeStyle(L,de,O){return me(L,de)}animate(L,de,O,ie,X,Ye=[]){const zn={duration:O,delay:ie,fill:0==ie?"both":"forwards"};X&&(zn.easing=X);const hr=new Map,Li=Ye.filter(Gr=>Gr instanceof go);(function dn(Ke,L){return 0===Ke||0===L})(O,ie)&&Li.forEach(Gr=>{Gr.currentSnapshot.forEach((et,rn)=>hr.set(rn,et))});let $i=function Jn(Ke){return Ke.length?Ke[0]instanceof Map?Ke:Ke.map(L=>new Map(Object.entries(L))):[]}(de).map(Gr=>new Map(Gr));$i=function Bn(Ke,L,de){if(de.size&&L.length){let O=L[0],ie=[];if(de.forEach((X,Ye)=>{O.has(Ye)||ie.push(Ye),O.set(Ye,X)}),ie.length)for(let X=1;X<L.length;X++){let Ye=L[X];ie.forEach(Pt=>Ye.set(Pt,me(Ke,Pt)))}}return L}(L,$i,hr);const hi=function gr(Ke,L){let de=null,O=null;return Array.isArray(L)&&L.length?(de=Ti(L[0]),L.length>1&&(O=Ti(L[L.length-1]))):L instanceof Map&&(de=Ti(L)),de||O?new ai(Ke,de,O):null}(L,$i);return new go(L,$i,zn,hi)}}const ar="@.disabled";class Er{constructor(L,de,O,ie){this.namespaceId=L,this.delegate=de,this.engine=O,this._onDestroy=ie,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(L){this.delegate.destroyNode?.(L)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(L,de){return this.delegate.createElement(L,de)}createComment(L){return this.delegate.createComment(L)}createText(L){return this.delegate.createText(L)}appendChild(L,de){this.delegate.appendChild(L,de),this.engine.onInsert(this.namespaceId,de,L,!1)}insertBefore(L,de,O,ie=!0){this.delegate.insertBefore(L,de,O),this.engine.onInsert(this.namespaceId,de,L,ie)}removeChild(L,de,O){this.parentNode(de)&&this.engine.onRemove(this.namespaceId,de,this.delegate)}selectRootElement(L,de){return this.delegate.selectRootElement(L,de)}parentNode(L){return this.delegate.parentNode(L)}nextSibling(L){return this.delegate.nextSibling(L)}setAttribute(L,de,O,ie){this.delegate.setAttribute(L,de,O,ie)}removeAttribute(L,de,O){this.delegate.removeAttribute(L,de,O)}addClass(L,de){this.delegate.addClass(L,de)}removeClass(L,de){this.delegate.removeClass(L,de)}setStyle(L,de,O,ie){this.delegate.setStyle(L,de,O,ie)}removeStyle(L,de,O){this.delegate.removeStyle(L,de,O)}setProperty(L,de,O){"@"==de.charAt(0)&&de==ar?this.disableAnimations(L,!!O):this.delegate.setProperty(L,de,O)}setValue(L,de){this.delegate.setValue(L,de)}listen(L,de,O){return this.delegate.listen(L,de,O)}disableAnimations(L,de){this.engine.disableAnimations(L,de)}}class rr extends Er{constructor(L,de,O,ie,X){super(de,O,ie,X),this.factory=L,this.namespaceId=de}setProperty(L,de,O){"@"==de.charAt(0)?"."==de.charAt(1)&&de==ar?this.disableAnimations(L,O=void 0===O||!!O):this.engine.process(this.namespaceId,L,de.slice(1),O):this.delegate.setProperty(L,de,O)}listen(L,de,O){if("@"==de.charAt(0)){const ie=function Rr(Ke){switch(Ke){case"body":return document.body;case"document":return document;case"window":return window;default:return Ke}}(L);let X=de.slice(1),Ye="";return"@"!=X.charAt(0)&&([X,Ye]=function Pr(Ke){const L=Ke.indexOf(".");return[Ke.substring(0,L),Ke.slice(L+1)]}(X)),this.engine.listen(this.namespaceId,ie,X,Ye,Pt=>{this.factory.scheduleListenerCallback(Pt._data||-1,O,Pt)})}return this.delegate.listen(L,de,O)}}class ii{constructor(L,de,O){this.delegate=L,this.engine=de,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,de.onRemovalComplete=(ie,X)=>{X?.removeChild(null,ie)}}createRenderer(L,de){const ie=this.delegate.createRenderer(L,de);if(!L||!de?.data?.animation){const hr=this._rendererCache;let Li=hr.get(ie);return Li||(Li=new Er("",ie,this.engine,()=>hr.delete(ie)),hr.set(ie,Li)),Li}const X=de.id,Ye=de.id+"-"+this._currentId;this._currentId++,this.engine.register(Ye,L);const Pt=hr=>{Array.isArray(hr)?hr.forEach(Pt):this.engine.registerTrigger(X,Ye,L,hr.name,hr)};return de.data.animation.forEach(Pt),new rr(this,Ye,ie,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(L,de,O){if(L>=0&&L<this._microtaskId)return void this._zone.run(()=>de(O));const ie=this._animationCallbacksBuffer;0==ie.length&&queueMicrotask(()=>{this._zone.run(()=>{ie.forEach(X=>{const[Ye,Pt]=X;Ye(Pt)}),this._animationCallbacksBuffer=[]})}),ie.push([de,O])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var zr=w(60177);const co=[{provide:yt,useFactory:function to(){return new Ue}},{provide:er,useClass:(()=>{class Ke extends er{constructor(de,O,ie){super(de,O,ie)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(O){return new(O||Ke)(r.KVO(zr.qQ),r.KVO(at),r.KVO(yt))};static#t=this.\u0275prov=r.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})()},{provide:r._9s,useFactory:function ho(Ke,L,de){return new ii(Ke,L,de)},deps:[m.B7,er,r.SKi]}],_o=[{provide:at,useFactory:()=>new zi},{provide:r.bc$,useValue:"BrowserAnimations"},...co],Oo=[{provide:at,useClass:nt},{provide:r.bc$,useValue:"NoopAnimations"},...co];let vo=(()=>{class Ke{static withConfig(de){return{ngModule:Ke,providers:de.disableAnimations?Oo:_o}}static#e=this.\u0275fac=function(O){return new(O||Ke)};static#t=this.\u0275mod=r.$C({type:Ke});static#n=this.\u0275inj=r.G2t({providers:_o,imports:[m.Bb]})}return Ke})()},345:(bn,be,w)=>{"use strict";w.d(be,{B7:()=>ge,Bb:()=>G,hE:()=>f,sG:()=>te,up:()=>lt});var r=w(60177),m=w(54438);class g extends r.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C extends g{static makeCurrent(){(0,r.ZD)(new C)}onAndCancel(cn,Yt,Qt){return cn.addEventListener(Yt,Qt),()=>{cn.removeEventListener(Yt,Qt)}}dispatchEvent(cn,Yt){cn.dispatchEvent(Yt)}remove(cn){cn.remove()}createElement(cn,Yt){return(Yt=Yt||this.getDefaultDocument()).createElement(cn)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(cn){return cn.nodeType===Node.ELEMENT_NODE}isShadowRoot(cn){return cn instanceof DocumentFragment}getGlobalEventTarget(cn,Yt){return"window"===Yt?window:"document"===Yt?cn:"body"===Yt?cn.body:null}getBaseHref(cn){const Yt=function h(){return D=D||document.querySelector("base"),D?D.getAttribute("href"):null}();return null==Yt?null:function U(wn){return new URL(wn,document.baseURI).pathname}(Yt)}resetBaseElement(){D=null}getUserAgent(){return window.navigator.userAgent}getCookie(cn){return(0,r._b)(document.cookie,cn)}}let D=null,k=(()=>{class wn{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac})}return wn})();const z=new m.nKC("");let B=(()=>{class wn{constructor(Yt,Qt){this._zone=Qt,this._eventNameToPlugin=new Map,Yt.forEach(jn=>{jn.manager=this}),this._plugins=Yt.slice().reverse()}addEventListener(Yt,Qt,jn){return this._findPluginFor(Qt).addEventListener(Yt,Qt,jn)}getZone(){return this._zone}_findPluginFor(Yt){let Qt=this._eventNameToPlugin.get(Yt);if(Qt)return Qt;if(Qt=this._plugins.find(Lt=>Lt.supports(Yt)),!Qt)throw new m.wOt(5101,!1);return this._eventNameToPlugin.set(Yt,Qt),Qt}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(z),m.KVO(m.SKi))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac})}return wn})();class A{constructor(cn){this._doc=cn}}const T="ng-app-id";let b=(()=>{class wn{constructor(Yt,Qt,jn,Lt={}){this.doc=Yt,this.appId=Qt,this.nonce=jn,this.platformId=Lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,r.Vy)(Lt),this.resetHostNodes()}addStyles(Yt){for(const Qt of Yt)1===this.changeUsageCount(Qt,1)&&this.onStyleAdded(Qt)}removeStyles(Yt){for(const Qt of Yt)this.changeUsageCount(Qt,-1)<=0&&this.onStyleRemoved(Qt)}ngOnDestroy(){const Yt=this.styleNodesInDOM;Yt&&(Yt.forEach(Qt=>Qt.remove()),Yt.clear());for(const Qt of this.getAllStyles())this.onStyleRemoved(Qt);this.resetHostNodes()}addHost(Yt){this.hostNodes.add(Yt);for(const Qt of this.getAllStyles())this.addStyleToHost(Yt,Qt)}removeHost(Yt){this.hostNodes.delete(Yt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Yt){for(const Qt of this.hostNodes)this.addStyleToHost(Qt,Yt)}onStyleRemoved(Yt){const Qt=this.styleRef;Qt.get(Yt)?.elements?.forEach(jn=>jn.remove()),Qt.delete(Yt)}collectServerRenderedStyles(){const Yt=this.doc.head?.querySelectorAll(`style[${T}="${this.appId}"]`);if(Yt?.length){const Qt=new Map;return Yt.forEach(jn=>{null!=jn.textContent&&Qt.set(jn.textContent,jn)}),Qt}return null}changeUsageCount(Yt,Qt){const jn=this.styleRef;if(jn.has(Yt)){const Lt=jn.get(Yt);return Lt.usage+=Qt,Lt.usage}return jn.set(Yt,{usage:Qt,elements:[]}),Qt}getStyleElement(Yt,Qt){const jn=this.styleNodesInDOM,Lt=jn?.get(Qt);if(Lt?.parentNode===Yt)return jn.delete(Qt),Lt.removeAttribute(T),Lt;{const Dn=this.doc.createElement("style");return this.nonce&&Dn.setAttribute("nonce",this.nonce),Dn.textContent=Qt,this.platformIsServer&&Dn.setAttribute(T,this.appId),Yt.appendChild(Dn),Dn}}addStyleToHost(Yt,Qt){const jn=this.getStyleElement(Yt,Qt),Lt=this.styleRef,Dn=Lt.get(Qt)?.elements;Dn?Dn.push(jn):Lt.set(Qt,{elements:[jn],usage:1})}resetHostNodes(){const Yt=this.hostNodes;Yt.clear(),Yt.add(this.doc.head)}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(r.qQ),m.KVO(m.sZ2),m.KVO(m.BIS,8),m.KVO(m.Agw))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac})}return wn})();const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ce=/%COMP%/g,W="%COMP%",se=`_nghost-${W}`,Q=`_ngcontent-${W}`,ae=new m.nKC("",{providedIn:"root",factory:()=>!0});function $(wn,cn){return cn.map(Yt=>Yt.replace(ce,wn))}let ge=(()=>{class wn{constructor(Yt,Qt,jn,Lt,Dn,Pn,Sn,Tn=null){this.eventManager=Yt,this.sharedStylesHost=Qt,this.appId=jn,this.removeStylesOnCompDestroy=Lt,this.doc=Dn,this.platformId=Pn,this.ngZone=Sn,this.nonce=Tn,this.rendererByCompId=new Map,this.platformIsServer=(0,r.Vy)(Pn),this.defaultRenderer=new K(Yt,Dn,Sn,this.platformIsServer)}createRenderer(Yt,Qt){if(!Yt||!Qt)return this.defaultRenderer;this.platformIsServer&&Qt.encapsulation===m.gXe.ShadowDom&&(Qt={...Qt,encapsulation:m.gXe.Emulated});const jn=this.getOrCreateRenderer(Yt,Qt);return jn instanceof zt?jn.applyToHost(Yt):jn instanceof _t&&jn.applyStyles(),jn}getOrCreateRenderer(Yt,Qt){const jn=this.rendererByCompId;let Lt=jn.get(Qt.id);if(!Lt){const Dn=this.doc,Pn=this.ngZone,Sn=this.eventManager,Tn=this.sharedStylesHost,dn=this.removeStylesOnCompDestroy,Bn=this.platformIsServer;switch(Qt.encapsulation){case m.gXe.Emulated:Lt=new zt(Sn,Tn,Qt,this.appId,dn,Dn,Pn,Bn);break;case m.gXe.ShadowDom:return new gt(Sn,Tn,Yt,Qt,Dn,Pn,this.nonce,Bn);default:Lt=new _t(Sn,Tn,Qt,dn,Dn,Pn,Bn)}jn.set(Qt.id,Lt)}return Lt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(B),m.KVO(b),m.KVO(m.sZ2),m.KVO(ae),m.KVO(r.qQ),m.KVO(m.Agw),m.KVO(m.SKi),m.KVO(m.BIS))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac})}return wn})();class K{constructor(cn,Yt,Qt,jn){this.eventManager=cn,this.doc=Yt,this.ngZone=Qt,this.platformIsServer=jn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(cn,Yt){return Yt?this.doc.createElementNS(J[Yt]||Yt,cn):this.doc.createElement(cn)}createComment(cn){return this.doc.createComment(cn)}createText(cn){return this.doc.createTextNode(cn)}appendChild(cn,Yt){(Ge(cn)?cn.content:cn).appendChild(Yt)}insertBefore(cn,Yt,Qt){cn&&(Ge(cn)?cn.content:cn).insertBefore(Yt,Qt)}removeChild(cn,Yt){Yt.remove()}selectRootElement(cn,Yt){let Qt="string"==typeof cn?this.doc.querySelector(cn):cn;if(!Qt)throw new m.wOt(-5104,!1);return Yt||(Qt.textContent=""),Qt}parentNode(cn){return cn.parentNode}nextSibling(cn){return cn.nextSibling}setAttribute(cn,Yt,Qt,jn){if(jn){Yt=jn+":"+Yt;const Lt=J[jn];Lt?cn.setAttributeNS(Lt,Yt,Qt):cn.setAttribute(Yt,Qt)}else cn.setAttribute(Yt,Qt)}removeAttribute(cn,Yt,Qt){if(Qt){const jn=J[Qt];jn?cn.removeAttributeNS(jn,Yt):cn.removeAttribute(`${Qt}:${Yt}`)}else cn.removeAttribute(Yt)}addClass(cn,Yt){cn.classList.add(Yt)}removeClass(cn,Yt){cn.classList.remove(Yt)}setStyle(cn,Yt,Qt,jn){jn&(m.czy.DashCase|m.czy.Important)?cn.style.setProperty(Yt,Qt,jn&m.czy.Important?"important":""):cn.style[Yt]=Qt}removeStyle(cn,Yt,Qt){Qt&m.czy.DashCase?cn.style.removeProperty(Yt):cn.style[Yt]=""}setProperty(cn,Yt,Qt){null!=cn&&(cn[Yt]=Qt)}setValue(cn,Yt){cn.nodeValue=Yt}listen(cn,Yt,Qt){if("string"==typeof cn&&!(cn=(0,r.QT)().getGlobalEventTarget(this.doc,cn)))throw new Error(`Unsupported event target ${cn} for event ${Yt}`);return this.eventManager.addEventListener(cn,Yt,this.decoratePreventDefault(Qt))}decoratePreventDefault(cn){return Yt=>{if("__ngUnwrap__"===Yt)return cn;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>cn(Yt)):cn(Yt))&&Yt.preventDefault()}}}function Ge(wn){return"TEMPLATE"===wn.tagName&&void 0!==wn.content}class gt extends K{constructor(cn,Yt,Qt,jn,Lt,Dn,Pn,Sn){super(cn,Lt,Dn,Sn),this.sharedStylesHost=Yt,this.hostEl=Qt,this.shadowRoot=Qt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tn=$(jn.id,jn.styles);for(const dn of Tn){const Bn=document.createElement("style");Pn&&Bn.setAttribute("nonce",Pn),Bn.textContent=dn,this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(cn){return cn===this.hostEl?this.shadowRoot:cn}appendChild(cn,Yt){return super.appendChild(this.nodeOrShadowRoot(cn),Yt)}insertBefore(cn,Yt,Qt){return super.insertBefore(this.nodeOrShadowRoot(cn),Yt,Qt)}removeChild(cn,Yt){return super.removeChild(null,Yt)}parentNode(cn){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(cn)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _t extends K{constructor(cn,Yt,Qt,jn,Lt,Dn,Pn,Sn){super(cn,Lt,Dn,Pn),this.sharedStylesHost=Yt,this.removeStylesOnCompDestroy=jn,this.styles=Sn?$(Sn,Qt.styles):Qt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zt extends _t{constructor(cn,Yt,Qt,jn,Lt,Dn,Pn,Sn){const Tn=jn+"-"+Qt.id;super(cn,Yt,Qt,Lt,Dn,Pn,Sn,Tn),this.contentAttr=function Me(wn){return Q.replace(ce,wn)}(Tn),this.hostAttr=function q(wn){return se.replace(ce,wn)}(Tn)}applyToHost(cn){this.applyStyles(),this.setAttribute(cn,this.hostAttr,"")}createElement(cn,Yt){const Qt=super.createElement(cn,Yt);return super.setAttribute(Qt,this.contentAttr,""),Qt}}let Rn=(()=>{class wn extends A{constructor(Yt){super(Yt)}supports(Yt){return!0}addEventListener(Yt,Qt,jn){return Yt.addEventListener(Qt,jn,!1),()=>this.removeEventListener(Yt,Qt,jn)}removeEventListener(Yt,Qt,jn){return Yt.removeEventListener(Qt,jn)}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(r.qQ))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac})}return wn})();const Oe=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},He={alt:wn=>wn.altKey,control:wn=>wn.ctrlKey,meta:wn=>wn.metaKey,shift:wn=>wn.shiftKey};let We=(()=>{class wn extends A{constructor(Yt){super(Yt)}supports(Yt){return null!=wn.parseEventName(Yt)}addEventListener(Yt,Qt,jn){const Lt=wn.parseEventName(Qt),Dn=wn.eventCallback(Lt.fullKey,jn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.QT)().onAndCancel(Yt,Lt.domEventName,Dn))}static parseEventName(Yt){const Qt=Yt.toLowerCase().split("."),jn=Qt.shift();if(0===Qt.length||"keydown"!==jn&&"keyup"!==jn)return null;const Lt=wn._normalizeKey(Qt.pop());let Dn="",Pn=Qt.indexOf("code");if(Pn>-1&&(Qt.splice(Pn,1),Dn="code."),Oe.forEach(Tn=>{const dn=Qt.indexOf(Tn);dn>-1&&(Qt.splice(dn,1),Dn+=Tn+".")}),Dn+=Lt,0!=Qt.length||0===Lt.length)return null;const Sn={};return Sn.domEventName=jn,Sn.fullKey=Dn,Sn}static matchEventFullKeyCode(Yt,Qt){let jn=De[Yt.key]||Yt.key,Lt="";return Qt.indexOf("code.")>-1&&(jn=Yt.code,Lt="code."),!(null==jn||!jn)&&(jn=jn.toLowerCase()," "===jn?jn="space":"."===jn&&(jn="dot"),Oe.forEach(Dn=>{Dn!==jn&&(0,He[Dn])(Yt)&&(Lt+=Dn+".")}),Lt+=jn,Lt===Qt)}static eventCallback(Yt,Qt,jn){return Lt=>{wn.matchEventFullKeyCode(Lt,Yt)&&jn.runGuarded(()=>Qt(Lt))}}static _normalizeKey(Yt){return"esc"===Yt?"escape":Yt}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(r.qQ))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac})}return wn})();const te=(0,m.oH4)(m.fpN,"browser",[{provide:m.Agw,useValue:r.AJ},{provide:m.PLl,useValue:function je(){C.makeCurrent()},multi:!0},{provide:r.qQ,useFactory:function ne(){return(0,m.TL$)(document),document},deps:[]}]),y=new m.nKC(""),M=[{provide:m.e01,useClass:class F{addToWindow(cn){m.JZv.getAngularTestability=(Qt,jn=!0)=>{const Lt=cn.findTestabilityInTree(Qt,jn);if(null==Lt)throw new m.wOt(5103,!1);return Lt},m.JZv.getAllAngularTestabilities=()=>cn.getAllTestabilities(),m.JZv.getAllAngularRootElements=()=>cn.getAllRootElements(),m.JZv.frameworkStabilizers||(m.JZv.frameworkStabilizers=[]),m.JZv.frameworkStabilizers.push(Qt=>{const jn=m.JZv.getAllAngularTestabilities();let Lt=jn.length;const Dn=function(){Lt--,0==Lt&&Qt()};jn.forEach(Pn=>{Pn.whenStable(Dn)})})}findTestabilityInTree(cn,Yt,Qt){return null==Yt?null:cn.getTestability(Yt)??(Qt?(0,r.QT)().isShadowRoot(Yt)?this.findTestabilityInTree(cn,Yt.host,!0):this.findTestabilityInTree(cn,Yt.parentElement,!0):null)}},deps:[]},{provide:m.WHO,useClass:m.NYb,deps:[m.SKi,m.giA,m.e01]},{provide:m.NYb,useClass:m.NYb,deps:[m.SKi,m.giA,m.e01]}],Y=[{provide:m.H8p,useValue:"root"},{provide:m.zcH,useFactory:function Ce(){return new m.zcH},deps:[]},{provide:z,useClass:Rn,multi:!0,deps:[r.qQ,m.SKi,m.Agw]},{provide:z,useClass:We,multi:!0,deps:[r.qQ]},ge,b,B,{provide:m._9s,useExisting:ge},{provide:r.N0,useClass:k,deps:[]},[]];let G=(()=>{class wn{constructor(Yt){}static withServerTransition(Yt){return{ngModule:wn,providers:[{provide:m.sZ2,useValue:Yt.appId}]}}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(y,12))};static#t=this.\u0275mod=m.$C({type:wn});static#n=this.\u0275inj=m.G2t({providers:[...Y,...M],imports:[r.MD,m.Hbi]})}return wn})(),f=(()=>{class wn{constructor(Yt){this._doc=Yt}getTitle(){return this._doc.title}setTitle(Yt){this._doc.title=Yt||""}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(r.qQ))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac,providedIn:"root"})}return wn})(),lt=(()=>{class wn{static#e=this.\u0275fac=function(Qt){return new(Qt||wn)};static#t=this.\u0275prov=m.jDH({token:wn,factory:function(Qt){let jn=null;return jn=Qt?new(Qt||wn):m.KVO(Bt),jn},providedIn:"root"})}return wn})(),Bt=(()=>{class wn extends lt{constructor(Yt){super(),this._doc=Yt}sanitize(Yt,Qt){if(null==Qt)return null;switch(Yt){case m.WPN.NONE:return Qt;case m.WPN.HTML:return(0,m.ZF7)(Qt,"HTML")?(0,m.rcV)(Qt):(0,m.h9k)(this._doc,String(Qt)).toString();case m.WPN.STYLE:return(0,m.ZF7)(Qt,"Style")?(0,m.rcV)(Qt):Qt;case m.WPN.SCRIPT:if((0,m.ZF7)(Qt,"Script"))return(0,m.rcV)(Qt);throw new m.wOt(5200,!1);case m.WPN.URL:return(0,m.ZF7)(Qt,"URL")?(0,m.rcV)(Qt):(0,m.$MX)(String(Qt));case m.WPN.RESOURCE_URL:if((0,m.ZF7)(Qt,"ResourceURL"))return(0,m.rcV)(Qt);throw new m.wOt(5201,!1);default:throw new m.wOt(5202,!1)}}bypassSecurityTrustHtml(Yt){return(0,m.Kcf)(Yt)}bypassSecurityTrustStyle(Yt){return(0,m.cWb)(Yt)}bypassSecurityTrustScript(Yt){return(0,m.UyX)(Yt)}bypassSecurityTrustUrl(Yt){return(0,m.osQ)(Yt)}bypassSecurityTrustResourceUrl(Yt){return(0,m.e5t)(Yt)}static#e=this.\u0275fac=function(Qt){return new(Qt||wn)(m.KVO(r.qQ))};static#t=this.\u0275prov=m.jDH({token:wn,factory:wn.\u0275fac,providedIn:"root"})}return wn})()},38645:(bn,be,w)=>{"use strict";w.d(be,{nX:()=>os,nU:()=>Bt,wF:()=>On,Z:()=>pn,Ix:()=>fi,Wk:()=>so,wQ:()=>cs,iI:()=>tc,n3:()=>Vo,Sd:()=>lt});var r=w(54438),m=w(28454),g=w(21472),C=w(15877),D=w(29160),h=w(82656),U=w(50330),F=w(35892),k=w(45946),z=w(37479),B=w(45326),A=w(2515),T=w(7221),b=w(85052),J=w(81027),ce=w(60177),W=w(36110),se=w(32914),Q=w(17365),Ie=w(35160),ae=w(14264),Me=w(11756),q=w(60830),$=w(26758),ge=w(39705),K=w(28577),Ne=w(15210),Ve=w(95773),gt=w(47369),_t=w(66196);function zt(ve){return ve<=0?()=>A.w:(0,Ne.N)(($e,Ae)=>{let Xe=[];$e.subscribe((0,_t._)(Ae,St=>{Xe.push(St),ve<Xe.length&&Xe.shift()},()=>{for(const St of Xe)Ae.next(St);Ae.complete()},void 0,()=>{Xe=null}))})}var Rn=w(67074),Oe=w(19577),He=w(99539),We=w(15152),st=w(44710),ft=w(37925),wt=w(98297),kt=w(345);const je="primary",Ce=Symbol("RouteTitle");class ne{constructor($e){this.params=$e||{}}has($e){return Object.prototype.hasOwnProperty.call(this.params,$e)}get($e){if(this.has($e)){const Ae=this.params[$e];return Array.isArray(Ae)?Ae[0]:Ae}return null}getAll($e){if(this.has($e)){const Ae=this.params[$e];return Array.isArray(Ae)?Ae:[Ae]}return[]}get keys(){return Object.keys(this.params)}}function Re(ve){return new ne(ve)}function te(ve,$e,Ae){const Xe=Ae.path.split("/");if(Xe.length>ve.length||"full"===Ae.pathMatch&&($e.hasChildren()||Xe.length<ve.length))return null;const St={};for(let sn=0;sn<Xe.length;sn++){const Nn=Xe[sn],Nr=ve[sn];if(":"===Nn[0])St[Nn.substring(1)]=Nr;else if(Nn!==Nr.path)return null}return{consumed:ve.slice(0,Xe.length),posParams:St}}function M(ve,$e){const Ae=ve?Y(ve):void 0,Xe=$e?Y($e):void 0;if(!Ae||!Xe||Ae.length!=Xe.length)return!1;let St;for(let sn=0;sn<Ae.length;sn++)if(St=Ae[sn],!G(ve[St],$e[St]))return!1;return!0}function Y(ve){return[...Object.keys(ve),...Object.getOwnPropertySymbols(ve)]}function G(ve,$e){if(Array.isArray(ve)&&Array.isArray($e)){if(ve.length!==$e.length)return!1;const Ae=[...ve].sort(),Xe=[...$e].sort();return Ae.every((St,sn)=>Xe[sn]===St)}return ve===$e}function _e(ve){return ve.length>0?ve[ve.length-1]:null}function Z(ve){return(0,m.A)(ve)?ve:(0,r.jNT)(ve)?(0,g.H)(Promise.resolve(ve)):(0,C.of)(ve)}const f={exact:function Te(ve,$e,Ae){if(!it(ve.segments,$e.segments)||!at(ve.segments,$e.segments,Ae)||ve.numberOfChildren!==$e.numberOfChildren)return!1;for(const Xe in $e.children)if(!ve.children[Xe]||!Te(ve.children[Xe],$e.children[Xe],Ae))return!1;return!0},subset:Ee},V={exact:function ye(ve,$e){return M(ve,$e)},subset:function ke(ve,$e){return Object.keys($e).length<=Object.keys(ve).length&&Object.keys($e).every(Ae=>G(ve[Ae],$e[Ae]))},ignored:()=>!0};function x(ve,$e,Ae){return f[Ae.paths](ve.root,$e.root,Ae.matrixParams)&&V[Ae.queryParams](ve.queryParams,$e.queryParams)&&!("exact"===Ae.fragment&&ve.fragment!==$e.fragment)}function Ee(ve,$e,Ae){return nt(ve,$e,$e.segments,Ae)}function nt(ve,$e,Ae,Xe){if(ve.segments.length>Ae.length){const St=ve.segments.slice(0,Ae.length);return!(!it(St,Ae)||$e.hasChildren()||!at(St,Ae,Xe))}if(ve.segments.length===Ae.length){if(!it(ve.segments,Ae)||!at(ve.segments,Ae,Xe))return!1;for(const St in $e.children)if(!ve.children[St]||!Ee(ve.children[St],$e.children[St],Xe))return!1;return!0}{const St=Ae.slice(0,ve.segments.length),sn=Ae.slice(ve.segments.length);return!!(it(ve.segments,St)&&at(ve.segments,St,Xe)&&ve.children[je])&&nt(ve.children[je],$e,sn,Xe)}}function at(ve,$e,Ae){return $e.every((Xe,St)=>V[Ae](ve[St].parameters,Xe.parameters))}class yt{constructor($e=new Jt([],{}),Ae={},Xe=null){this.root=$e,this.queryParams=Ae,this.fragment=Xe}get queryParamMap(){return this._queryParamMap??=Re(this.queryParams),this._queryParamMap}toString(){return ct.serialize(this)}}class Jt{constructor($e,Ae){this.segments=$e,this.children=Ae,this.parent=null,Object.values(Ae).forEach(Xe=>Xe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tt(this)}}class Qe{constructor($e,Ae){this.path=$e,this.parameters=Ae}get parameterMap(){return this._parameterMap??=Re(this.parameters),this._parameterMap}toString(){return wn(this)}}function it(ve,$e){return ve.length===$e.length&&ve.every((Ae,Xe)=>Ae.path===$e[Xe].path)}let lt=(()=>{class ve{static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:()=>new Bt,providedIn:"root"})}return ve})();class Bt{parse($e){const Ae=new Bn($e);return new yt(Ae.parseRootSegment(),Ae.parseQueryParams(),Ae.parseFragment())}serialize($e){const Ae=`/${rt($e.root,!0)}`,Xe=function Yt(ve){const $e=Object.entries(ve).map(([Ae,Xe])=>Array.isArray(Xe)?Xe.map(St=>`${vn(Ae)}=${vn(St)}`).join("&"):`${vn(Ae)}=${vn(Xe)}`).filter(Ae=>Ae);return $e.length?`?${$e.join("&")}`:""}($e.queryParams);return`${Ae}${Xe}${"string"==typeof $e.fragment?`#${function In(ve){return encodeURI(ve)}($e.fragment)}`:""}`}}const ct=new Bt;function Tt(ve){return ve.segments.map($e=>wn($e)).join("/")}function rt(ve,$e){if(!ve.hasChildren())return Tt(ve);if($e){const Ae=ve.children[je]?rt(ve.children[je],!1):"",Xe=[];return Object.entries(ve.children).forEach(([St,sn])=>{St!==je&&Xe.push(`${St}:${rt(sn,!1)}`)}),Xe.length>0?`${Ae}(${Xe.join("//")})`:Ae}{const Ae=function Mt(ve,$e){let Ae=[];return Object.entries(ve.children).forEach(([Xe,St])=>{Xe===je&&(Ae=Ae.concat($e(St,Xe)))}),Object.entries(ve.children).forEach(([Xe,St])=>{Xe!==je&&(Ae=Ae.concat($e(St,Xe)))}),Ae}(ve,(Xe,St)=>St===je?[rt(ve.children[je],!1)]:[`${St}:${rt(Xe,!1)}`]);return 1===Object.keys(ve.children).length&&null!=ve.children[je]?`${Tt(ve)}/${Ae[0]}`:`${Tt(ve)}/(${Ae.join("//")})`}}function Et(ve){return encodeURIComponent(ve).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(ve){return Et(ve).replace(/%3B/gi,";")}function Un(ve){return Et(ve).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jn(ve){return decodeURIComponent(ve)}function Cr(ve){return Jn(ve.replace(/\+/g,"%20"))}function wn(ve){return`${Un(ve.path)}${function cn(ve){return Object.entries(ve).map(([$e,Ae])=>`;${Un($e)}=${Un(Ae)}`).join("")}(ve.parameters)}`}const Qt=/^[^\/()?;#]+/;function jn(ve){const $e=ve.match(Qt);return $e?$e[0]:""}const Lt=/^[^\/()?;=#]+/,Pn=/^[^=?&#]+/,Tn=/^[^&#]+/;class Bn{constructor($e){this.url=$e,this.remaining=$e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const $e={};if(this.consumeOptional("?"))do{this.parseQueryParam($e)}while(this.consumeOptional("&"));return $e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const $e=[];for(this.peekStartsWith("(")||$e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),$e.push(this.parseSegment());let Ae={};this.peekStartsWith("/(")&&(this.capture("/"),Ae=this.parseParens(!0));let Xe={};return this.peekStartsWith("(")&&(Xe=this.parseParens(!1)),($e.length>0||Object.keys(Ae).length>0)&&(Xe[je]=new Jt($e,Ae)),Xe}parseSegment(){const $e=jn(this.remaining);if(""===$e&&this.peekStartsWith(";"))throw new r.wOt(4009,!1);return this.capture($e),new Qe(Jn($e),this.parseMatrixParams())}parseMatrixParams(){const $e={};for(;this.consumeOptional(";");)this.parseParam($e);return $e}parseParam($e){const Ae=function Dn(ve){const $e=ve.match(Lt);return $e?$e[0]:""}(this.remaining);if(!Ae)return;this.capture(Ae);let Xe="";if(this.consumeOptional("=")){const St=jn(this.remaining);St&&(Xe=St,this.capture(Xe))}$e[Jn(Ae)]=Jn(Xe)}parseQueryParam($e){const Ae=function Sn(ve){const $e=ve.match(Pn);return $e?$e[0]:""}(this.remaining);if(!Ae)return;this.capture(Ae);let Xe="";if(this.consumeOptional("=")){const Nn=function dn(ve){const $e=ve.match(Tn);return $e?$e[0]:""}(this.remaining);Nn&&(Xe=Nn,this.capture(Xe))}const St=Cr(Ae),sn=Cr(Xe);if($e.hasOwnProperty(St)){let Nn=$e[St];Array.isArray(Nn)||(Nn=[Nn],$e[St]=Nn),Nn.push(sn)}else $e[St]=sn}parseParens($e){const Ae={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Xe=jn(this.remaining),St=this.remaining[Xe.length];if("/"!==St&&")"!==St&&";"!==St)throw new r.wOt(4010,!1);let sn;Xe.indexOf(":")>-1?(sn=Xe.slice(0,Xe.indexOf(":")),this.capture(sn),this.capture(":")):$e&&(sn=je);const Nn=this.parseChildren();Ae[sn]=1===Object.keys(Nn).length?Nn[je]:new Jt([],Nn),this.consumeOptional("//")}return Ae}peekStartsWith($e){return this.remaining.startsWith($e)}consumeOptional($e){return!!this.peekStartsWith($e)&&(this.remaining=this.remaining.substring($e.length),!0)}capture($e){if(!this.consumeOptional($e))throw new r.wOt(4011,!1)}}function Ct(ve){return ve.segments.length>0?new Jt([],{[je]:ve}):ve}function me(ve){const $e={};for(const[Xe,St]of Object.entries(ve.children)){const sn=me(St);if(Xe===je&&0===sn.segments.length&&sn.hasChildren())for(const[Nn,Nr]of Object.entries(sn.children))$e[Nn]=Nr;else(sn.segments.length>0||sn.hasChildren())&&($e[Xe]=sn)}return function ue(ve){if(1===ve.numberOfChildren&&ve.children[je]){const $e=ve.children[je];return new Jt(ve.segments.concat($e.segments),$e.children)}return ve}(new Jt(ve.segments,$e))}function Ue(ve){return ve instanceof yt}function Ht(ve){let $e;const St=Ct(function Ae(sn){const Nn={};for(const wr of sn.children){const io=Ae(wr);Nn[wr.outlet]=io}const Nr=new Jt(sn.url,Nn);return sn===ve&&($e=Nr),Nr}(ve.root));return $e??St}function fn(ve,$e,Ae,Xe){let St=ve;for(;St.parent;)St=St.parent;if(0===$e.length)return ti(St,St,St,Ae,Xe);const sn=function Io(ve){if("string"==typeof ve[0]&&1===ve.length&&"/"===ve[0])return new li(!0,0,ve);let $e=0,Ae=!1;const Xe=ve.reduce((St,sn,Nn)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const Nr={};return Object.entries(sn.outlets).forEach(([wr,io])=>{Nr[wr]="string"==typeof io?io.split("/"):io}),[...St,{outlets:Nr}]}if(sn.segmentPath)return[...St,sn.segmentPath]}return"string"!=typeof sn?[...St,sn]:0===Nn?(sn.split("/").forEach((Nr,wr)=>{0==wr&&"."===Nr||(0==wr&&""===Nr?Ae=!0:".."===Nr?$e++:""!=Nr&&St.push(Nr))}),St):[...St,sn]},[]);return new li(Ae,$e,Xe)}($e);if(sn.toRoot())return ti(St,St,new Jt([],{}),Ae,Xe);const Nn=function wo(ve,$e,Ae){if(ve.isAbsolute)return new Co($e,!0,0);if(!Ae)return new Co($e,!1,NaN);if(null===Ae.parent)return new Co(Ae,!0,0);const Xe=cr(ve.commands[0])?0:1;return function So(ve,$e,Ae){let Xe=ve,St=$e,sn=Ae;for(;sn>St;){if(sn-=St,Xe=Xe.parent,!Xe)throw new r.wOt(4005,!1);St=Xe.segments.length}return new Co(Xe,!1,St-sn)}(Ae,Ae.segments.length-1+Xe,ve.numberOfDoubleDots)}(sn,St,ve),Nr=Nn.processChildren?nn(Nn.segmentGroup,Nn.index,sn.commands):Po(Nn.segmentGroup,Nn.index,sn.commands);return ti(St,Nn.segmentGroup,Nr,Ae,Xe)}function cr(ve){return"object"==typeof ve&&null!=ve&&!ve.outlets&&!ve.segmentPath}function Hr(ve){return"object"==typeof ve&&null!=ve&&ve.outlets}function ti(ve,$e,Ae,Xe,St){let Nn,sn={};Xe&&Object.entries(Xe).forEach(([wr,io])=>{sn[wr]=Array.isArray(io)?io.map(Uo=>`${Uo}`):`${io}`}),Nn=ve===$e?Ae:mi(ve,$e,Ae);const Nr=Ct(me(Nn));return new yt(Nr,sn,St)}function mi(ve,$e,Ae){const Xe={};return Object.entries(ve.children).forEach(([St,sn])=>{Xe[St]=sn===$e?Ae:mi(sn,$e,Ae)}),new Jt(ve.segments,Xe)}class li{constructor($e,Ae,Xe){if(this.isAbsolute=$e,this.numberOfDoubleDots=Ae,this.commands=Xe,$e&&Xe.length>0&&cr(Xe[0]))throw new r.wOt(4003,!1);const St=Xe.find(Hr);if(St&&St!==_e(Xe))throw new r.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Co{constructor($e,Ae,Xe){this.segmentGroup=$e,this.processChildren=Ae,this.index=Xe}}function Po(ve,$e,Ae){if(ve??=new Jt([],{}),0===ve.segments.length&&ve.hasChildren())return nn(ve,$e,Ae);const Xe=function xn(ve,$e,Ae){let Xe=0,St=$e;const sn={match:!1,pathIndex:0,commandIndex:0};for(;St<ve.segments.length;){if(Xe>=Ae.length)return sn;const Nn=ve.segments[St],Nr=Ae[Xe];if(Hr(Nr))break;const wr=`${Nr}`,io=Xe<Ae.length-1?Ae[Xe+1]:null;if(St>0&&void 0===wr)break;if(wr&&io&&"object"==typeof io&&void 0===io.outlets){if(!_r(wr,io,Nn))return sn;Xe+=2}else{if(!_r(wr,{},Nn))return sn;Xe++}St++}return{match:!0,pathIndex:St,commandIndex:Xe}}(ve,$e,Ae),St=Ae.slice(Xe.commandIndex);if(Xe.match&&Xe.pathIndex<ve.segments.length){const sn=new Jt(ve.segments.slice(0,Xe.pathIndex),{});return sn.children[je]=new Jt(ve.segments.slice(Xe.pathIndex),ve.children),nn(sn,0,St)}return Xe.match&&0===St.length?new Jt(ve.segments,{}):Xe.match&&!ve.hasChildren()?sr(ve,$e,Ae):Xe.match?nn(ve,0,St):sr(ve,$e,Ae)}function nn(ve,$e,Ae){if(0===Ae.length)return new Jt(ve.segments,{});{const Xe=function xo(ve){return Hr(ve[0])?ve[0].outlets:{[je]:ve}}(Ae),St={};if(Object.keys(Xe).some(sn=>sn!==je)&&ve.children[je]&&1===ve.numberOfChildren&&0===ve.children[je].segments.length){const sn=nn(ve.children[je],$e,Ae);return new Jt(ve.segments,sn.children)}return Object.entries(Xe).forEach(([sn,Nn])=>{"string"==typeof Nn&&(Nn=[Nn]),null!==Nn&&(St[sn]=Po(ve.children[sn],$e,Nn))}),Object.entries(ve.children).forEach(([sn,Nn])=>{void 0===Xe[sn]&&(St[sn]=Nn)}),new Jt(ve.segments,St)}}function sr(ve,$e,Ae){const Xe=ve.segments.slice(0,$e);let St=0;for(;St<Ae.length;){const sn=Ae[St];if(Hr(sn)){const wr=br(sn.outlets);return new Jt(Xe,wr)}if(0===St&&cr(Ae[0])){Xe.push(new Qe(ve.segments[$e].path,Vr(Ae[0]))),St++;continue}const Nn=Hr(sn)?sn.outlets[je]:`${sn}`,Nr=St<Ae.length-1?Ae[St+1]:null;Nn&&Nr&&cr(Nr)?(Xe.push(new Qe(Nn,Vr(Nr))),St+=2):(Xe.push(new Qe(Nn,{})),St++)}return new Jt(Xe,{})}function br(ve){const $e={};return Object.entries(ve).forEach(([Ae,Xe])=>{"string"==typeof Xe&&(Xe=[Xe]),null!==Xe&&($e[Ae]=sr(new Jt([],{}),0,Xe))}),$e}function Vr(ve){const $e={};return Object.entries(ve).forEach(([Ae,Xe])=>$e[Ae]=`${Xe}`),$e}function _r(ve,$e,Ae){return ve==Ae.path&&M($e,Ae.parameters)}const jt="imperative";var pe=function(ve){return ve[ve.NavigationStart=0]="NavigationStart",ve[ve.NavigationEnd=1]="NavigationEnd",ve[ve.NavigationCancel=2]="NavigationCancel",ve[ve.NavigationError=3]="NavigationError",ve[ve.RoutesRecognized=4]="RoutesRecognized",ve[ve.ResolveStart=5]="ResolveStart",ve[ve.ResolveEnd=6]="ResolveEnd",ve[ve.GuardsCheckStart=7]="GuardsCheckStart",ve[ve.GuardsCheckEnd=8]="GuardsCheckEnd",ve[ve.RouteConfigLoadStart=9]="RouteConfigLoadStart",ve[ve.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ve[ve.ChildActivationStart=11]="ChildActivationStart",ve[ve.ChildActivationEnd=12]="ChildActivationEnd",ve[ve.ActivationStart=13]="ActivationStart",ve[ve.ActivationEnd=14]="ActivationEnd",ve[ve.Scroll=15]="Scroll",ve[ve.NavigationSkipped=16]="NavigationSkipped",ve}(pe||{});class ht{constructor($e,Ae){this.id=$e,this.url=Ae}}class pn extends ht{constructor($e,Ae,Xe="imperative",St=null){super($e,Ae),this.type=pe.NavigationStart,this.navigationTrigger=Xe,this.restoredState=St}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class On extends ht{constructor($e,Ae,Xe){super($e,Ae),this.urlAfterRedirects=Xe,this.type=pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var lr=function(ve){return ve[ve.Redirect=0]="Redirect",ve[ve.SupersededByNewNavigation=1]="SupersededByNewNavigation",ve[ve.NoDataFromResolver=2]="NoDataFromResolver",ve[ve.GuardRejected=3]="GuardRejected",ve}(lr||{}),Dr=function(ve){return ve[ve.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ve[ve.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ve}(Dr||{});class ni extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.reason=Xe,this.code=St,this.type=pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yr extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.reason=Xe,this.code=St,this.type=pe.NavigationSkipped}}class ui extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.error=Xe,this.target=St,this.type=pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ri extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.urlAfterRedirects=Xe,this.state=St,this.type=pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.urlAfterRedirects=Xe,this.state=St,this.type=pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends ht{constructor($e,Ae,Xe,St,sn){super($e,Ae),this.urlAfterRedirects=Xe,this.state=St,this.shouldActivate=sn,this.type=pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qi extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.urlAfterRedirects=Xe,this.state=St,this.type=pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends ht{constructor($e,Ae,Xe,St){super($e,Ae),this.urlAfterRedirects=Xe,this.state=St,this.type=pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor($e){this.route=$e,this.type=pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bo{constructor($e){this.route=$e,this.type=pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bo{constructor($e){this.snapshot=$e,this.type=pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor($e){this.snapshot=$e,this.type=pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor($e){this.snapshot=$e,this.type=pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor($e){this.snapshot=$e,this.type=pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor($e,Ae,Xe){this.routerEvent=$e,this.position=Ae,this.anchor=Xe,this.type=pe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cn{}class tr{constructor($e,Ae){this.url=$e,this.navigationBehaviorOptions=Ae}}function ps(ve){return ve.outlet||je}function Ps(ve){if(!ve)return null;if(ve.routeConfig?._injector)return ve.routeConfig._injector;for(let $e=ve.parent;$e;$e=$e.parent){const Ae=$e.routeConfig;if(Ae?._loadedInjector)return Ae._loadedInjector;if(Ae?._injector)return Ae._injector}return null}class Gn{get injector(){return Ps(this.route?.snapshot)??this.rootInjector}set injector($e){}constructor($e){this.rootInjector=$e,this.outlet=null,this.route=null,this.children=new Hn(this.rootInjector),this.attachRef=null}}let Hn=(()=>{class ve{constructor(Ae){this.rootInjector=Ae,this.contexts=new Map}onChildOutletCreated(Ae,Xe){const St=this.getOrCreateContext(Ae);St.outlet=Xe,this.contexts.set(Ae,St)}onChildOutletDestroyed(Ae){const Xe=this.getContext(Ae);Xe&&(Xe.outlet=null,Xe.attachRef=null)}onOutletDeactivated(){const Ae=this.contexts;return this.contexts=new Map,Ae}onOutletReAttached(Ae){this.contexts=Ae}getOrCreateContext(Ae){let Xe=this.getContext(Ae);return Xe||(Xe=new Gn(this.rootInjector),this.contexts.set(Ae,Xe)),Xe}getContext(Ae){return this.contexts.get(Ae)||null}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)(r.KVO(r.uvJ))};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();class Ir{constructor($e){this._root=$e}get root(){return this._root.value}parent($e){const Ae=this.pathFromRoot($e);return Ae.length>1?Ae[Ae.length-2]:null}children($e){const Ae=ri($e,this._root);return Ae?Ae.children.map(Xe=>Xe.value):[]}firstChild($e){const Ae=ri($e,this._root);return Ae&&Ae.children.length>0?Ae.children[0].value:null}siblings($e){const Ae=si($e,this._root);return Ae.length<2?[]:Ae[Ae.length-2].children.map(St=>St.value).filter(St=>St!==$e)}pathFromRoot($e){return si($e,this._root).map(Ae=>Ae.value)}}function ri(ve,$e){if(ve===$e.value)return $e;for(const Ae of $e.children){const Xe=ri(ve,Ae);if(Xe)return Xe}return null}function si(ve,$e){if(ve===$e.value)return[$e];for(const Ae of $e.children){const Xe=si(ve,Ae);if(Xe.length)return Xe.unshift($e),Xe}return[]}class Xr{constructor($e,Ae){this.value=$e,this.children=Ae}toString(){return`TreeNode(${this.value})`}}function ki(ve){const $e={};return ve&&ve.children.forEach(Ae=>$e[Ae.value.outlet]=Ae),$e}class Ji extends Ir{constructor($e,Ae){super($e),this.snapshot=Ae,Ro(this,$e)}toString(){return this.snapshot.toString()}}function po(ve){const $e=function Pi(ve){const sn=new rs([],{},{},"",{},je,ve,null,{});return new Fs("",new Xr(sn,[]))}(ve),Ae=new D.t([new Qe("",{})]),Xe=new D.t({}),St=new D.t({}),sn=new D.t({}),Nn=new D.t(""),Nr=new os(Ae,Xe,sn,Nn,St,je,ve,$e.root);return Nr.snapshot=$e.root,new Ji(new Xr(Nr,[]),$e)}class os{constructor($e,Ae,Xe,St,sn,Nn,Nr,wr){this.urlSubject=$e,this.paramsSubject=Ae,this.queryParamsSubject=Xe,this.fragmentSubject=St,this.dataSubject=sn,this.outlet=Nn,this.component=Nr,this._futureSnapshot=wr,this.title=this.dataSubject?.pipe((0,W.T)(io=>io[Ce]))??(0,C.of)(void 0),this.url=$e,this.params=Ae,this.queryParams=Xe,this.fragment=St,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,W.T)($e=>Re($e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,W.T)($e=>Re($e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function es(ve,$e,Ae="emptyOnly"){let Xe;const{routeConfig:St}=ve;return Xe=null===$e||"always"!==Ae&&""!==St?.path&&($e.component||$e.routeConfig?.loadComponent)?{params:{...ve.params},data:{...ve.data},resolve:{...ve.data,...ve._resolvedData??{}}}:{params:{...$e.params,...ve.params},data:{...$e.data,...ve.data},resolve:{...ve.data,...$e.data,...St?.data,...ve._resolvedData}},St&&Es(St)&&(Xe.resolve[Ce]=St.title),Xe}class rs{get title(){return this.data?.[Ce]}constructor($e,Ae,Xe,St,sn,Nn,Nr,wr,io){this.url=$e,this.params=Ae,this.queryParams=Xe,this.fragment=St,this.data=sn,this.outlet=Nn,this.component=Nr,this.routeConfig=wr,this._resolve=io}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Re(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Re(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Xe=>Xe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fs extends Ir{constructor($e,Ae){super(Ae),this.url=$e,Ro(this,Ae)}toString(){return Ms(this._root)}}function Ro(ve,$e){$e.value._routerState=ve,$e.children.forEach(Ae=>Ro(ve,Ae))}function Ms(ve){const $e=ve.children.length>0?` { ${ve.children.map(Ms).join(", ")} } `:"";return`${ve.value}${$e}`}function gs(ve){if(ve.snapshot){const $e=ve.snapshot,Ae=ve._futureSnapshot;ve.snapshot=Ae,M($e.queryParams,Ae.queryParams)||ve.queryParamsSubject.next(Ae.queryParams),$e.fragment!==Ae.fragment&&ve.fragmentSubject.next(Ae.fragment),M($e.params,Ae.params)||ve.paramsSubject.next(Ae.params),function y(ve,$e){if(ve.length!==$e.length)return!1;for(let Ae=0;Ae<ve.length;++Ae)if(!M(ve[Ae],$e[Ae]))return!1;return!0}($e.url,Ae.url)||ve.urlSubject.next(Ae.url),M($e.data,Ae.data)||ve.dataSubject.next(Ae.data)}else ve.snapshot=ve._futureSnapshot,ve.dataSubject.next(ve._futureSnapshot.data)}function ha(ve,$e){const Ae=M(ve.params,$e.params)&&function Ft(ve,$e){return it(ve,$e)&&ve.every((Ae,Xe)=>M(Ae.parameters,$e[Xe].parameters))}(ve.url,$e.url);return Ae&&!(!ve.parent!=!$e.parent)&&(!ve.parent||ha(ve.parent,$e.parent))}function Es(ve){return"string"==typeof ve.title||null===ve.title}let Vo=(()=>{class ve{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new r.bkB,this.deactivateEvents=new r.bkB,this.attachEvents=new r.bkB,this.detachEvents=new r.bkB,this.parentContexts=(0,r.WQX)(Hn),this.location=(0,r.WQX)(r.c1b),this.changeDetector=(0,r.WQX)(r.gRc),this.inputBinder=(0,r.WQX)(_s,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Ae){if(Ae.name){const{firstChange:Xe,previousValue:St}=Ae.name;if(Xe)return;this.isTrackedInParentContexts(St)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(St)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Ae){return this.parentContexts.getContext(Ae)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Ae=this.parentContexts.getContext(this.name);Ae?.route&&(Ae.attachRef?this.attach(Ae.attachRef,Ae.route):this.activateWith(Ae.route,Ae.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.wOt(4012,!1);this.location.detach();const Ae=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Ae.instance),Ae}attach(Ae,Xe){this.activated=Ae,this._activatedRoute=Xe,this.location.insert(Ae.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Ae.instance)}deactivate(){if(this.activated){const Ae=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ae)}}activateWith(Ae,Xe){if(this.isActivated)throw new r.wOt(4013,!1);this._activatedRoute=Ae;const St=this.location,Nn=Ae.snapshot.component,Nr=this.parentContexts.getOrCreateContext(this.name).children,wr=new Ls(Ae,Nr,St.injector);this.activated=St.createComponent(Nn,{index:St.length,injector:wr,environmentInjector:Xe}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275dir=r.FsC({type:ve,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.OA$]})}return ve})();class Ls{__ngOutletInjector($e){return new Ls(this.route,this.childContexts,$e)}constructor($e,Ae,Xe){this.route=$e,this.childContexts=Ae,this.parent=Xe}get($e,Ae){return $e===os?this.route:$e===Hn?this.childContexts:this.parent.get($e,Ae)}}const _s=new r.nKC("");let ea=(()=>{class ve{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Ae){this.unsubscribeFromRouteData(Ae),this.subscribeToRouteData(Ae)}unsubscribeFromRouteData(Ae){this.outletDataSubscriptions.get(Ae)?.unsubscribe(),this.outletDataSubscriptions.delete(Ae)}subscribeToRouteData(Ae){const{activatedRoute:Xe}=Ae,St=(0,h.z)([Xe.queryParams,Xe.params,Xe.data]).pipe((0,se.n)(([sn,Nn,Nr],wr)=>(Nr={...sn,...Nn,...Nr},0===wr?(0,C.of)(Nr):Promise.resolve(Nr)))).subscribe(sn=>{if(!Ae.isActivated||!Ae.activatedComponentRef||Ae.activatedRoute!==Xe||null===Xe.component)return void this.unsubscribeFromRouteData(Ae);const Nn=(0,r.HJs)(Xe.component);if(Nn)for(const{templateName:Nr}of Nn.inputs)Ae.activatedComponentRef.setInput(Nr,sn[Nr]);else this.unsubscribeFromRouteData(Ae)});this.outletDataSubscriptions.set(Ae,St)}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac})}return ve})();function Vn(ve,$e,Ae){if(Ae&&ve.shouldReuseRoute($e.value,Ae.value.snapshot)){const Xe=Ae.value;Xe._futureSnapshot=$e.value;const St=function Wn(ve,$e,Ae){return $e.children.map(Xe=>{for(const St of Ae.children)if(ve.shouldReuseRoute(Xe.value,St.value.snapshot))return Vn(ve,Xe,St);return Vn(ve,Xe)})}(ve,$e,Ae);return new Xr(Xe,St)}{if(ve.shouldAttach($e.value)){const sn=ve.retrieve($e.value);if(null!==sn){const Nn=sn.route;return Nn.value._futureSnapshot=$e.value,Nn.children=$e.children.map(Nr=>Vn(ve,Nr)),Nn}}const Xe=function er(ve){return new os(new D.t(ve.url),new D.t(ve.params),new D.t(ve.queryParams),new D.t(ve.fragment),new D.t(ve.data),ve.outlet,ve.component,ve)}($e.value),St=$e.children.map(sn=>Vn(ve,sn));return new Xr(Xe,St)}}class gr{constructor($e,Ae){this.redirectTo=$e,this.navigationBehaviorOptions=Ae}}const ai="ngNavigationCancelingError";function Ti(ve,$e){const{redirectTo:Ae,navigationBehaviorOptions:Xe}=Ue($e)?{redirectTo:$e,navigationBehaviorOptions:void 0}:$e,St=Zi(!1,lr.Redirect);return St.url=Ae,St.navigationBehaviorOptions=Xe,St}function Zi(ve,$e){const Ae=new Error(`NavigationCancelingError: ${ve||""}`);return Ae[ai]=!0,Ae.cancellationCode=$e,Ae}function zi(ve){return!!ve&&ve[ai]}class un{constructor($e,Ae,Xe,St,sn){this.routeReuseStrategy=$e,this.futureState=Ae,this.currState=Xe,this.forwardEvent=St,this.inputBindingEnabled=sn}activate($e){const Ae=this.futureState._root,Xe=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ae,Xe,$e),gs(this.futureState.root),this.activateChildRoutes(Ae,Xe,$e)}deactivateChildRoutes($e,Ae,Xe){const St=ki(Ae);$e.children.forEach(sn=>{const Nn=sn.value.outlet;this.deactivateRoutes(sn,St[Nn],Xe),delete St[Nn]}),Object.values(St).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,Xe)})}deactivateRoutes($e,Ae,Xe){const St=$e.value,sn=Ae?Ae.value:null;if(St===sn)if(St.component){const Nn=Xe.getContext(St.outlet);Nn&&this.deactivateChildRoutes($e,Ae,Nn.children)}else this.deactivateChildRoutes($e,Ae,Xe);else sn&&this.deactivateRouteAndItsChildren(Ae,Xe)}deactivateRouteAndItsChildren($e,Ae){$e.value.component&&this.routeReuseStrategy.shouldDetach($e.value.snapshot)?this.detachAndStoreRouteSubtree($e,Ae):this.deactivateRouteAndOutlet($e,Ae)}detachAndStoreRouteSubtree($e,Ae){const Xe=Ae.getContext($e.value.outlet),St=Xe&&$e.value.component?Xe.children:Ae,sn=ki($e);for(const Nn of Object.values(sn))this.deactivateRouteAndItsChildren(Nn,St);if(Xe&&Xe.outlet){const Nn=Xe.outlet.detach(),Nr=Xe.children.onOutletDeactivated();this.routeReuseStrategy.store($e.value.snapshot,{componentRef:Nn,route:$e,contexts:Nr})}}deactivateRouteAndOutlet($e,Ae){const Xe=Ae.getContext($e.value.outlet),St=Xe&&$e.value.component?Xe.children:Ae,sn=ki($e);for(const Nn of Object.values(sn))this.deactivateRouteAndItsChildren(Nn,St);Xe&&(Xe.outlet&&(Xe.outlet.deactivate(),Xe.children.onOutletDeactivated()),Xe.attachRef=null,Xe.route=null)}activateChildRoutes($e,Ae,Xe){const St=ki(Ae);$e.children.forEach(sn=>{this.activateRoutes(sn,St[sn.value.outlet],Xe),this.forwardEvent(new vt(sn.value.snapshot))}),$e.children.length&&this.forwardEvent(new Gt($e.value.snapshot))}activateRoutes($e,Ae,Xe){const St=$e.value,sn=Ae?Ae.value:null;if(gs(St),St===sn)if(St.component){const Nn=Xe.getOrCreateContext(St.outlet);this.activateChildRoutes($e,Ae,Nn.children)}else this.activateChildRoutes($e,Ae,Xe);else if(St.component){const Nn=Xe.getOrCreateContext(St.outlet);if(this.routeReuseStrategy.shouldAttach(St.snapshot)){const Nr=this.routeReuseStrategy.retrieve(St.snapshot);this.routeReuseStrategy.store(St.snapshot,null),Nn.children.onOutletReAttached(Nr.contexts),Nn.attachRef=Nr.componentRef,Nn.route=Nr.route.value,Nn.outlet&&Nn.outlet.attach(Nr.componentRef,Nr.route.value),gs(Nr.route.value),this.activateChildRoutes($e,null,Nn.children)}else Nn.attachRef=null,Nn.route=St,Nn.outlet&&Nn.outlet.activateWith(St,Nn.injector),this.activateChildRoutes($e,null,Nn.children)}else this.activateChildRoutes($e,null,Xe)}}class ar{constructor($e){this.path=$e,this.route=this.path[this.path.length-1]}}class Er{constructor($e,Ae){this.component=$e,this.route=Ae}}function rr(ve,$e,Ae){const Xe=ve._root;return ii(Xe,$e?$e._root:null,Ae,[Xe.value])}function Pr(ve,$e){const Ae=Symbol(),Xe=$e.get(ve,Ae);return Xe===Ae?"function"!=typeof ve||(0,r.LfX)(ve)?$e.get(ve):ve:Xe}function ii(ve,$e,Ae,Xe,St={canDeactivateChecks:[],canActivateChecks:[]}){const sn=ki($e);return ve.children.forEach(Nn=>{(function zr(ve,$e,Ae,Xe,St={canDeactivateChecks:[],canActivateChecks:[]}){const sn=ve.value,Nn=$e?$e.value:null,Nr=Ae?Ae.getContext(ve.value.outlet):null;if(Nn&&sn.routeConfig===Nn.routeConfig){const wr=function Ni(ve,$e,Ae){if("function"==typeof Ae)return Ae(ve,$e);switch(Ae){case"pathParamsChange":return!it(ve.url,$e.url);case"pathParamsOrQueryParamsChange":return!it(ve.url,$e.url)||!M(ve.queryParams,$e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ha(ve,$e)||!M(ve.queryParams,$e.queryParams);default:return!ha(ve,$e)}}(Nn,sn,sn.routeConfig.runGuardsAndResolvers);wr?St.canActivateChecks.push(new ar(Xe)):(sn.data=Nn.data,sn._resolvedData=Nn._resolvedData),ii(ve,$e,sn.component?Nr?Nr.children:null:Ae,Xe,St),wr&&Nr&&Nr.outlet&&Nr.outlet.isActivated&&St.canDeactivateChecks.push(new Er(Nr.outlet.component,Nn))}else Nn&&to($e,Nr,St),St.canActivateChecks.push(new ar(Xe)),ii(ve,null,sn.component?Nr?Nr.children:null:Ae,Xe,St)})(Nn,sn[Nn.value.outlet],Ae,Xe.concat([Nn.value]),St),delete sn[Nn.value.outlet]}),Object.entries(sn).forEach(([Nn,Nr])=>to(Nr,Ae.getContext(Nn),St)),St}function to(ve,$e,Ae){const Xe=ki(ve),St=ve.value;Object.entries(Xe).forEach(([sn,Nn])=>{to(Nn,St.component?$e?$e.children.getContext(sn):null:$e,Ae)}),Ae.canDeactivateChecks.push(new Er(St.component&&$e&&$e.outlet&&$e.outlet.isActivated?$e.outlet.component:null,St))}function ho(ve){return"function"==typeof ve}function Kt(ve){return ve instanceof U.G||"EmptyError"===ve?.name}const Ke=Symbol("INITIAL_VALUE");function L(){return(0,se.n)(ve=>(0,h.z)(ve.map($e=>$e.pipe((0,Q.s)(1),(0,Ie.Z)(Ke)))).pipe((0,W.T)($e=>{for(const Ae of $e)if(!0!==Ae){if(Ae===Ke)return Ke;if(!1===Ae||de(Ae))return Ae}return!0}),(0,ae.p)($e=>$e!==Ke),(0,Q.s)(1)))}function de(ve){return Ue(ve)||ve instanceof gr}function hi(ve){return(0,z.F)((0,ge.M)($e=>{if("boolean"!=typeof $e)throw Ti(0,$e)}),(0,W.T)($e=>!0===$e))}class et{constructor($e){this.segmentGroup=$e||null}}class rn extends Error{constructor($e){super(),this.urlTree=$e}}function It(ve){return(0,B.$)(new et(ve))}class tt{constructor($e,Ae){this.urlSerializer=$e,this.urlTree=Ae}lineralizeSegments($e,Ae){let Xe=[],St=Ae.root;for(;;){if(Xe=Xe.concat(St.segments),0===St.numberOfChildren)return(0,C.of)(Xe);if(St.numberOfChildren>1||!St.children[je])return(0,B.$)(new r.wOt(4e3,!1));St=St.children[je]}}applyRedirectCommands($e,Ae,Xe,St,sn){if("string"!=typeof Ae){const Nr=Ae,{queryParams:wr,fragment:io,routeConfig:Uo,url:Zo,outlet:Hs,params:na,data:js,title:Uc}=St,Ra=(0,r.N4e)(sn,()=>Nr({params:na,data:js,queryParams:wr,fragment:io,routeConfig:Uo,url:Zo,outlet:Hs,title:Uc}));if(Ra instanceof yt)throw new rn(Ra);Ae=Ra}const Nn=this.applyRedirectCreateUrlTree(Ae,this.urlSerializer.parse(Ae),$e,Xe);if("/"===Ae[0])throw new rn(Nn);return Nn}applyRedirectCreateUrlTree($e,Ae,Xe,St){const sn=this.createSegmentGroup($e,Ae.root,Xe,St);return new yt(sn,this.createQueryParams(Ae.queryParams,this.urlTree.queryParams),Ae.fragment)}createQueryParams($e,Ae){const Xe={};return Object.entries($e).forEach(([St,sn])=>{if("string"==typeof sn&&":"===sn[0]){const Nr=sn.substring(1);Xe[St]=Ae[Nr]}else Xe[St]=sn}),Xe}createSegmentGroup($e,Ae,Xe,St){const sn=this.createSegments($e,Ae.segments,Xe,St);let Nn={};return Object.entries(Ae.children).forEach(([Nr,wr])=>{Nn[Nr]=this.createSegmentGroup($e,wr,Xe,St)}),new Jt(sn,Nn)}createSegments($e,Ae,Xe,St){return Ae.map(sn=>":"===sn.path[0]?this.findPosParam($e,sn,St):this.findOrReturn(sn,Xe))}findPosParam($e,Ae,Xe){const St=Xe[Ae.path.substring(1)];if(!St)throw new r.wOt(4001,!1);return St}findOrReturn($e,Ae){let Xe=0;for(const St of Ae){if(St.path===$e.path)return Ae.splice(Xe),St;Xe++}return $e}}const xt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wt(ve,$e,Ae,Xe,St){const sn=ln(ve,$e,Ae);return sn.matched?(Xe=function Ii(ve,$e){return ve.providers&&!ve._injector&&(ve._injector=(0,r.Ol2)(ve.providers,$e,`Route: ${ve.path}`)),ve._injector??$e}($e,Xe),function Gr(ve,$e,Ae,Xe){const St=$e.canMatch;if(!St||0===St.length)return(0,C.of)(!0);const sn=St.map(Nn=>{const Nr=Pr(Nn,ve);return Z(function Je(ve){return ve&&ho(ve.canMatch)}(Nr)?Nr.canMatch($e,Ae):(0,r.N4e)(ve,()=>Nr($e,Ae)))});return(0,C.of)(sn).pipe(L(),hi())}(Xe,$e,Ae).pipe((0,W.T)(Nn=>!0===Nn?sn:{...xt}))):(0,C.of)(sn)}function ln(ve,$e,Ae){if("**"===$e.path)return function Ln(ve){return{matched:!0,parameters:ve.length>0?_e(ve).parameters:{},consumedSegments:ve,remainingSegments:[],positionalParamSegments:{}}}(Ae);if(""===$e.path)return"full"===$e.pathMatch&&(ve.hasChildren()||Ae.length>0)?{...xt}:{matched:!0,consumedSegments:[],remainingSegments:Ae,parameters:{},positionalParamSegments:{}};const St=($e.matcher||te)(Ae,ve,$e);if(!St)return{...xt};const sn={};Object.entries(St.posParams??{}).forEach(([Nr,wr])=>{sn[Nr]=wr.path});const Nn=St.consumed.length>0?{...sn,...St.consumed[St.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:St.consumed,remainingSegments:Ae.slice(St.consumed.length),parameters:Nn,positionalParamSegments:St.posParams??{}}}function $n(ve,$e,Ae,Xe){return Ae.length>0&&function Mr(ve,$e,Ae){return Ae.some(Xe=>Qr(ve,$e,Xe)&&ps(Xe)!==je)}(ve,Ae,Xe)?{segmentGroup:new Jt($e,dr(Xe,new Jt(Ae,ve.children))),slicedSegments:[]}:0===Ae.length&&function yr(ve,$e,Ae){return Ae.some(Xe=>Qr(ve,$e,Xe))}(ve,Ae,Xe)?{segmentGroup:new Jt(ve.segments,pr(ve,Ae,Xe,ve.children)),slicedSegments:Ae}:{segmentGroup:new Jt(ve.segments,ve.children),slicedSegments:Ae}}function pr(ve,$e,Ae,Xe){const St={};for(const sn of Ae)if(Qr(ve,$e,sn)&&!Xe[ps(sn)]){const Nn=new Jt([],{});St[ps(sn)]=Nn}return{...Xe,...St}}function dr(ve,$e){const Ae={};Ae[je]=$e;for(const Xe of ve)if(""===Xe.path&&ps(Xe)!==je){const St=new Jt([],{});Ae[ps(Xe)]=St}return Ae}function Qr(ve,$e,Ae){return(!(ve.hasChildren()||$e.length>0)||"full"!==Ae.pathMatch)&&""===Ae.path}class qt{}class qn{constructor($e,Ae,Xe,St,sn,Nn,Nr){this.injector=$e,this.configLoader=Ae,this.rootComponentType=Xe,this.config=St,this.urlTree=sn,this.paramsInheritanceStrategy=Nn,this.urlSerializer=Nr,this.applyRedirects=new tt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError($e){return new r.wOt(4002,`'${$e.segmentGroup}'`)}recognize(){const $e=$n(this.urlTree.root,[],[],this.config).segmentGroup;return this.match($e).pipe((0,W.T)(({children:Ae,rootSnapshot:Xe})=>{const St=new Xr(Xe,Ae),sn=new Fs("",St),Nn=function bt(ve,$e,Ae=null,Xe=null){return fn(Ht(ve),$e,Ae,Xe)}(Xe,[],this.urlTree.queryParams,this.urlTree.fragment);return Nn.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(Nn),{state:sn,tree:Nn}}))}match($e){const Ae=new rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),je,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,$e,je,Ae).pipe((0,W.T)(Xe=>({children:Xe,rootSnapshot:Ae})),(0,K.W)(Xe=>{if(Xe instanceof rn)return this.urlTree=Xe.urlTree,this.match(Xe.urlTree.root);throw Xe instanceof et?this.noMatchError(Xe):Xe}))}processSegmentGroup($e,Ae,Xe,St,sn){return 0===Xe.segments.length&&Xe.hasChildren()?this.processChildren($e,Ae,Xe,sn):this.processSegment($e,Ae,Xe,Xe.segments,St,!0,sn).pipe((0,W.T)(Nn=>Nn instanceof Xr?[Nn]:[]))}processChildren($e,Ae,Xe,St){const sn=[];for(const Nn of Object.keys(Xe.children))"primary"===Nn?sn.unshift(Nn):sn.push(Nn);return(0,g.H)(sn).pipe((0,$.H)(Nn=>{const Nr=Xe.children[Nn],wr=function Xo(ve,$e){const Ae=ve.filter(Xe=>ps(Xe)===$e);return Ae.push(...ve.filter(Xe=>ps(Xe)!==$e)),Ae}(Ae,Nn);return this.processSegmentGroup($e,wr,Nr,Nn,St)}),function Ge(ve,$e){return(0,Ne.N)((0,Ve.S)(ve,$e,arguments.length>=2,!0))}((Nn,Nr)=>(Nn.push(...Nr),Nn)),(0,gt.U)(null),function De(ve,$e){const Ae=arguments.length>=2;return Xe=>Xe.pipe(ve?(0,ae.p)((St,sn)=>ve(St,sn,Xe)):Oe.D,zt(1),Ae?(0,gt.U)($e):(0,Rn.v)(()=>new U.G))}(),(0,Me.Z)(Nn=>{if(null===Nn)return It(Xe);const Nr=Oi(Nn);return function jr(ve){ve.sort(($e,Ae)=>$e.value.outlet===je?-1:Ae.value.outlet===je?1:$e.value.outlet.localeCompare(Ae.value.outlet))}(Nr),(0,C.of)(Nr)}))}processSegment($e,Ae,Xe,St,sn,Nn,Nr){return(0,g.H)(Ae).pipe((0,$.H)(wr=>this.processSegmentAgainstRoute(wr._injector??$e,Ae,wr,Xe,St,sn,Nn,Nr).pipe((0,K.W)(io=>{if(io instanceof et)return(0,C.of)(null);throw io}))),(0,q.$)(wr=>!!wr),(0,K.W)(wr=>{if(Kt(wr))return function Fi(ve,$e,Ae){return 0===$e.length&&!ve.children[Ae]}(Xe,St,sn)?(0,C.of)(new qt):It(Xe);throw wr}))}processSegmentAgainstRoute($e,Ae,Xe,St,sn,Nn,Nr,wr){return ps(Xe)===Nn||Nn!==je&&Qr(St,sn,Xe)?void 0===Xe.redirectTo?this.matchSegmentAgainstRoute($e,St,Xe,sn,Nn,wr):this.allowRedirects&&Nr?this.expandSegmentAgainstRouteUsingRedirect($e,St,Ae,Xe,sn,Nn,wr):It(St):It(St)}expandSegmentAgainstRouteUsingRedirect($e,Ae,Xe,St,sn,Nn,Nr){const{matched:wr,parameters:io,consumedSegments:Uo,positionalParamSegments:Zo,remainingSegments:Hs}=ln(Ae,St,sn);if(!wr)return It(Ae);"string"==typeof St.redirectTo&&"/"===St.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const na=new rs(sn,io,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ei(St),ps(St),St.component??St._loadedComponent??null,St,Ho(St)),js=es(na,Nr,this.paramsInheritanceStrategy);na.params=Object.freeze(js.params),na.data=Object.freeze(js.data);const Uc=this.applyRedirects.applyRedirectCommands(Uo,St.redirectTo,Zo,na,$e);return this.applyRedirects.lineralizeSegments(St,Uc).pipe((0,Me.Z)(Ra=>this.processSegment($e,Xe,Ae,Ra.concat(Hs),Nn,!1,Nr)))}matchSegmentAgainstRoute($e,Ae,Xe,St,sn,Nn){const Nr=Wt(Ae,Xe,St,$e);return"**"===Xe.path&&(Ae.children={}),Nr.pipe((0,se.n)(wr=>wr.matched?this.getChildConfig($e=Xe._injector??$e,Xe,St).pipe((0,se.n)(({routes:io})=>{const Uo=Xe._loadedInjector??$e,{parameters:Zo,consumedSegments:Hs,remainingSegments:na}=wr,js=new rs(Hs,Zo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ei(Xe),ps(Xe),Xe.component??Xe._loadedComponent??null,Xe,Ho(Xe)),Uc=es(js,Nn,this.paramsInheritanceStrategy);js.params=Object.freeze(Uc.params),js.data=Object.freeze(Uc.data);const{segmentGroup:Ra,slicedSegments:Ia}=$n(Ae,Hs,na,io);if(0===Ia.length&&Ra.hasChildren())return this.processChildren(Uo,io,Ra,js).pipe((0,W.T)(pc=>new Xr(js,pc)));if(0===io.length&&0===Ia.length)return(0,C.of)(new Xr(js,[]));const ul=ps(Xe)===sn;return this.processSegment(Uo,io,Ra,Ia,ul?je:sn,!0,js).pipe((0,W.T)(pc=>new Xr(js,pc instanceof Xr?[pc]:[])))})):It(Ae)))}getChildConfig($e,Ae,Xe){return Ae.children?(0,C.of)({routes:Ae.children,injector:$e}):Ae.loadChildren?void 0!==Ae._loadedRoutes?(0,C.of)({routes:Ae._loadedRoutes,injector:Ae._loadedInjector}):function $i(ve,$e,Ae,Xe){const St=$e.canLoad;if(void 0===St||0===St.length)return(0,C.of)(!0);const sn=St.map(Nn=>{const Nr=Pr(Nn,ve);return Z(function _o(ve){return ve&&ho(ve.canLoad)}(Nr)?Nr.canLoad($e,Ae):(0,r.N4e)(ve,()=>Nr($e,Ae)))});return(0,C.of)(sn).pipe(L(),hi())}($e,Ae,Xe).pipe((0,Me.Z)(St=>St?this.configLoader.loadChildren($e,Ae).pipe((0,ge.M)(sn=>{Ae._loadedRoutes=sn.routes,Ae._loadedInjector=sn.injector})):function Pe(){return(0,B.$)(Zi(!1,lr.GuardRejected))}())):(0,C.of)({routes:[],injector:$e})}}function bi(ve){const $e=ve.value.routeConfig;return $e&&""===$e.path}function Oi(ve){const $e=[],Ae=new Set;for(const Xe of ve){if(!bi(Xe)){$e.push(Xe);continue}const St=$e.find(sn=>Xe.value.routeConfig===sn.value.routeConfig);void 0!==St?(St.children.push(...Xe.children),Ae.add(St)):$e.push(Xe)}for(const Xe of Ae){const St=Oi(Xe.children);$e.push(new Xr(Xe.value,St))}return $e.filter(Xe=>!Ae.has(Xe))}function Ei(ve){return ve.data||{}}function Ho(ve){return ve.resolve||{}}function mo(ve){const $e=ve.children.map(Ae=>mo(Ae)).flat();return[ve,...$e]}function Go(ve){return(0,se.n)($e=>{const Ae=ve($e);return Ae?(0,g.H)(Ae).pipe((0,W.T)(()=>$e)):(0,C.of)($e)})}let Ea=(()=>{class ve{buildTitle(Ae){let Xe,St=Ae.root;for(;void 0!==St;)Xe=this.getResolvedTitleForRoute(St)??Xe,St=St.children.find(sn=>sn.outlet===je);return Xe}getResolvedTitleForRoute(Ae){return Ae.data[Ce]}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:()=>(0,r.WQX)(Gs),providedIn:"root"})}return ve})(),Gs=(()=>{class ve extends Ea{constructor(Ae){super(),this.title=Ae}updateTitle(Ae){const Xe=this.buildTitle(Ae);void 0!==Xe&&this.title.setTitle(Xe)}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)(r.KVO(kt.hE))};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const oa=new r.nKC("",{providedIn:"root",factory:()=>({})});let Sa=(()=>{class ve{static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275cmp=r.VBU({type:ve,selectors:[["ng-component"]],standalone:!0,features:[r.aNF],decls:1,vars:0,template:function(Xe,St){1&Xe&&r.nrm(0,"router-outlet")},dependencies:[Vo],encapsulation:2})}return ve})();function Ja(ve){const $e=ve.children&&ve.children.map(Ja),Ae=$e?{...ve,children:$e}:{...ve};return!Ae.component&&!Ae.loadComponent&&($e||Ae.loadChildren)&&Ae.outlet&&Ae.outlet!==je&&(Ae.component=Sa),Ae}const gc=new r.nKC("");let $a=(()=>{class ve{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.WQX)(r.Ql9)}loadComponent(Ae){if(this.componentLoaders.get(Ae))return this.componentLoaders.get(Ae);if(Ae._loadedComponent)return(0,C.of)(Ae._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Ae);const Xe=Z(Ae.loadComponent()).pipe((0,W.T)(fo),(0,ge.M)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(Ae),Ae._loadedComponent=sn}),(0,We.j)(()=>{this.componentLoaders.delete(Ae)})),St=new T.G(Xe,()=>new b.B).pipe((0,st.B)());return this.componentLoaders.set(Ae,St),St}loadChildren(Ae,Xe){if(this.childrenLoaders.get(Xe))return this.childrenLoaders.get(Xe);if(Xe._loadedRoutes)return(0,C.of)({routes:Xe._loadedRoutes,injector:Xe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Xe);const sn=function Pa(ve,$e,Ae,Xe){return Z(ve.loadChildren()).pipe((0,W.T)(fo),(0,Me.Z)(St=>St instanceof r.Co$||Array.isArray(St)?(0,C.of)(St):(0,g.H)($e.compileModuleAsync(St))),(0,W.T)(St=>{Xe&&Xe(ve);let sn,Nn,Nr=!1;return Array.isArray(St)?(Nn=St,!0):(sn=St.create(Ae).injector,Nn=sn.get(gc,[],{optional:!0,self:!0}).flat()),{routes:Nn.map(Ja),injector:sn}}))}(Xe,this.compiler,Ae,this.onLoadEndListener).pipe((0,We.j)(()=>{this.childrenLoaders.delete(Xe)})),Nn=new T.G(sn,()=>new b.B).pipe((0,st.B)());return this.childrenLoaders.set(Xe,Nn),Nn}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();function fo(ve){return function Wi(ve){return ve&&"object"==typeof ve&&"default"in ve}(ve)?ve.default:ve}let ko=(()=>{class ve{static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:()=>(0,r.WQX)(ks),providedIn:"root"})}return ve})(),ks=(()=>{class ve{shouldProcessUrl(Ae){return!0}extract(Ae){return Ae}merge(Ae,Xe){return Ae}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const as=new r.nKC(""),sa=new r.nKC("");function Ds(ve,$e,Ae){const Xe=ve.get(sa),St=ve.get(ce.qQ);return ve.get(r.SKi).runOutsideAngular(()=>{if(!St.startViewTransition||Xe.skipNextTransition)return Xe.skipNextTransition=!1,new Promise(io=>setTimeout(io));let sn;const Nn=new Promise(io=>{sn=io}),Nr=St.startViewTransition(()=>(sn(),function Bs(ve){return new Promise($e=>{(0,r.mal)({read:()=>setTimeout($e)},{injector:ve})})}(ve))),{onViewTransitionCreated:wr}=Xe;return wr&&(0,r.N4e)(ve,()=>wr({transition:Nr,from:$e,to:Ae})),Nn})}const ms=new r.nKC("");let v=(()=>{class ve{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new b.B,this.transitionAbortSubject=new b.B,this.configLoader=(0,r.WQX)($a),this.environmentInjector=(0,r.WQX)(r.uvJ),this.urlSerializer=(0,r.WQX)(lt),this.rootContexts=(0,r.WQX)(Hn),this.location=(0,r.WQX)(ce.aZ),this.inputBindingEnabled=null!==(0,r.WQX)(_s,{optional:!0}),this.titleStrategy=(0,r.WQX)(Ea),this.options=(0,r.WQX)(oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,r.WQX)(ko),this.createViewTransition=(0,r.WQX)(as,{optional:!0}),this.navigationErrorHandler=(0,r.WQX)(ms,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,C.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=St=>this.events.next(new bo(St)),this.configLoader.onLoadStartListener=St=>this.events.next(new qi(St))}complete(){this.transitions?.complete()}handleNavigationRequest(Ae){const Xe=++this.navigationId;this.transitions?.next({...this.transitions.value,...Ae,id:Xe})}setupNavigations(Ae,Xe,St){return this.transitions=new D.t({id:0,currentUrlTree:Xe,currentRawUrl:Xe,extractedUrl:this.urlHandlingStrategy.extract(Xe),urlAfterRedirects:this.urlHandlingStrategy.extract(Xe),rawUrl:Xe,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:jt,restoredState:null,currentSnapshot:St.snapshot,targetSnapshot:null,currentRouterState:St,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ae.p)(sn=>0!==sn.id),(0,W.T)(sn=>({...sn,extractedUrl:this.urlHandlingStrategy.extract(sn.rawUrl)})),(0,se.n)(sn=>{let Nn=!1,Nr=!1;return(0,C.of)(sn).pipe((0,se.n)(wr=>{if(this.navigationId>sn.id)return this.cancelNavigationTransition(sn,"",lr.SupersededByNewNavigation),A.w;this.currentTransition=sn,this.currentNavigation={id:wr.id,initialUrl:wr.rawUrl,extractedUrl:wr.extractedUrl,targetBrowserUrl:"string"==typeof wr.extras.browserUrl?this.urlSerializer.parse(wr.extras.browserUrl):wr.extras.browserUrl,trigger:wr.source,extras:wr.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const io=!Ae.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!io&&"reload"!==(wr.extras.onSameUrlNavigation??Ae.onSameUrlNavigation)){const Zo="";return this.events.next(new Yr(wr.id,this.urlSerializer.serialize(wr.rawUrl),Zo,Dr.IgnoredSameUrlNavigation)),wr.resolve(!1),A.w}if(this.urlHandlingStrategy.shouldProcessUrl(wr.rawUrl))return(0,C.of)(wr).pipe((0,se.n)(Zo=>{const Hs=this.transitions?.getValue();return this.events.next(new pn(Zo.id,this.urlSerializer.serialize(Zo.extractedUrl),Zo.source,Zo.restoredState)),Hs!==this.transitions?.getValue()?A.w:Promise.resolve(Zo)}),function ji(ve,$e,Ae,Xe,St,sn){return(0,Me.Z)(Nn=>function Fn(ve,$e,Ae,Xe,St,sn,Nn="emptyOnly"){return new qn(ve,$e,Ae,Xe,St,Nn,sn).recognize()}(ve,$e,Ae,Xe,Nn.extractedUrl,St,sn).pipe((0,W.T)(({state:Nr,tree:wr})=>({...Nn,targetSnapshot:Nr,urlAfterRedirects:wr}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Ae.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ge.M)(Zo=>{sn.targetSnapshot=Zo.targetSnapshot,sn.urlAfterRedirects=Zo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zo.urlAfterRedirects};const Hs=new Ri(Zo.id,this.urlSerializer.serialize(Zo.extractedUrl),this.urlSerializer.serialize(Zo.urlAfterRedirects),Zo.targetSnapshot);this.events.next(Hs)}));if(io&&this.urlHandlingStrategy.shouldProcessUrl(wr.currentRawUrl)){const{id:Zo,extractedUrl:Hs,source:na,restoredState:js,extras:Uc}=wr,Ra=new pn(Zo,this.urlSerializer.serialize(Hs),na,js);this.events.next(Ra);const Ia=po(this.rootComponentType).snapshot;return this.currentTransition=sn={...wr,targetSnapshot:Ia,urlAfterRedirects:Hs,extras:{...Uc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Hs,(0,C.of)(sn)}{const Zo="";return this.events.next(new Yr(wr.id,this.urlSerializer.serialize(wr.extractedUrl),Zo,Dr.IgnoredByUrlHandlingStrategy)),wr.resolve(!1),A.w}}),(0,ge.M)(wr=>{const io=new eo(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot);this.events.next(io)}),(0,W.T)(wr=>(this.currentTransition=sn={...wr,guards:rr(wr.targetSnapshot,wr.currentSnapshot,this.rootContexts)},sn)),function O(ve,$e){return(0,Me.Z)(Ae=>{const{targetSnapshot:Xe,currentSnapshot:St,guards:{canActivateChecks:sn,canDeactivateChecks:Nn}}=Ae;return 0===Nn.length&&0===sn.length?(0,C.of)({...Ae,guardsResult:!0}):function ie(ve,$e,Ae,Xe){return(0,g.H)(ve).pipe((0,Me.Z)(St=>function Li(ve,$e,Ae,Xe,St){const sn=$e&&$e.routeConfig?$e.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,C.of)(!0);const Nn=sn.map(Nr=>{const wr=Ps($e)??St,io=Pr(Nr,wr);return Z(function Yo(ve){return ve&&ho(ve.canDeactivate)}(io)?io.canDeactivate(ve,$e,Ae,Xe):(0,r.N4e)(wr,()=>io(ve,$e,Ae,Xe))).pipe((0,q.$)())});return(0,C.of)(Nn).pipe(L())}(St.component,St.route,Ae,$e,Xe)),(0,q.$)(St=>!0!==St,!0))}(Nn,Xe,St,ve).pipe((0,Me.Z)(Nr=>Nr&&function co(ve){return"boolean"==typeof ve}(Nr)?function X(ve,$e,Ae,Xe){return(0,g.H)($e).pipe((0,$.H)(St=>(0,F.x)(function Pt(ve,$e){return null!==ve&&$e&&$e(new Bo(ve)),(0,C.of)(!0)}(St.route.parent,Xe),function Ye(ve,$e){return null!==ve&&$e&&$e(new Se(ve)),(0,C.of)(!0)}(St.route,Xe),function hr(ve,$e,Ae){const Xe=$e[$e.length-1],sn=$e.slice(0,$e.length-1).reverse().map(Nn=>function Rr(ve){const $e=ve.routeConfig?ve.routeConfig.canActivateChild:null;return $e&&0!==$e.length?{node:ve,guards:$e}:null}(Nn)).filter(Nn=>null!==Nn).map(Nn=>(0,k.v)(()=>{const Nr=Nn.guards.map(wr=>{const io=Ps(Nn.node)??Ae,Uo=Pr(wr,io);return Z(function vo(ve){return ve&&ho(ve.canActivateChild)}(Uo)?Uo.canActivateChild(Xe,ve):(0,r.N4e)(io,()=>Uo(Xe,ve))).pipe((0,q.$)())});return(0,C.of)(Nr).pipe(L())}));return(0,C.of)(sn).pipe(L())}(ve,St.path,Ae),function zn(ve,$e,Ae){const Xe=$e.routeConfig?$e.routeConfig.canActivate:null;if(!Xe||0===Xe.length)return(0,C.of)(!0);const St=Xe.map(sn=>(0,k.v)(()=>{const Nn=Ps($e)??Ae,Nr=Pr(sn,Nn);return Z(function Oo(ve){return ve&&ho(ve.canActivate)}(Nr)?Nr.canActivate($e,ve):(0,r.N4e)(Nn,()=>Nr($e,ve))).pipe((0,q.$)())}));return(0,C.of)(St).pipe(L())}(ve,St.route,Ae))),(0,q.$)(St=>!0!==St,!0))}(Xe,sn,ve,$e):(0,C.of)(Nr)),(0,W.T)(Nr=>({...Ae,guardsResult:Nr})))})}(this.environmentInjector,wr=>this.events.next(wr)),(0,ge.M)(wr=>{if(sn.guardsResult=wr.guardsResult,wr.guardsResult&&"boolean"!=typeof wr.guardsResult)throw Ti(0,wr.guardsResult);const io=new Ki(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot,!!wr.guardsResult);this.events.next(io)}),(0,ae.p)(wr=>!!wr.guardsResult||(this.cancelNavigationTransition(wr,"",lr.GuardRejected),!1)),Go(wr=>{if(wr.guards.canActivateChecks.length)return(0,C.of)(wr).pipe((0,ge.M)(io=>{const Uo=new Qi(io.id,this.urlSerializer.serialize(io.extractedUrl),this.urlSerializer.serialize(io.urlAfterRedirects),io.targetSnapshot);this.events.next(Uo)}),(0,se.n)(io=>{let Uo=!1;return(0,C.of)(io).pipe(function No(ve,$e){return(0,Me.Z)(Ae=>{const{targetSnapshot:Xe,guards:{canActivateChecks:St}}=Ae;if(!St.length)return(0,C.of)(Ae);const sn=new Set(St.map(wr=>wr.route)),Nn=new Set;for(const wr of sn)if(!Nn.has(wr))for(const io of mo(wr))Nn.add(io);let Nr=0;return(0,g.H)(Nn).pipe((0,$.H)(wr=>sn.has(wr)?function ts(ve,$e,Ae,Xe){const St=ve.routeConfig,sn=ve._resolve;return void 0!==St?.title&&!Es(St)&&(sn[Ce]=St.title),function Ts(ve,$e,Ae,Xe){const St=Y(ve);if(0===St.length)return(0,C.of)({});const sn={};return(0,g.H)(St).pipe((0,Me.Z)(Nn=>function Qo(ve,$e,Ae,Xe){const St=Ps($e)??Xe,sn=Pr(ve,St);return Z(sn.resolve?sn.resolve($e,Ae):(0,r.N4e)(St,()=>sn($e,Ae)))}(ve[Nn],$e,Ae,Xe).pipe((0,q.$)(),(0,ge.M)(Nr=>{if(Nr instanceof gr)throw Ti(new Bt,Nr);sn[Nn]=Nr}))),zt(1),(0,He.u)(sn),(0,K.W)(Nn=>Kt(Nn)?A.w:(0,B.$)(Nn)))}(sn,ve,$e,Xe).pipe((0,W.T)(Nn=>(ve._resolvedData=Nn,ve.data=es(ve,ve.parent,Ae).resolve,null)))}(wr,Xe,ve,$e):(wr.data=es(wr,wr.parent,ve).resolve,(0,C.of)(void 0))),(0,ge.M)(()=>Nr++),zt(1),(0,Me.Z)(wr=>Nr===Nn.size?(0,C.of)(Ae):A.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ge.M)({next:()=>Uo=!0,complete:()=>{Uo||this.cancelNavigationTransition(io,"",lr.NoDataFromResolver)}}))}),(0,ge.M)(io=>{const Uo=new Yi(io.id,this.urlSerializer.serialize(io.extractedUrl),this.urlSerializer.serialize(io.urlAfterRedirects),io.targetSnapshot);this.events.next(Uo)}))}),Go(wr=>{const io=Uo=>{const Zo=[];Uo.routeConfig?.loadComponent&&!Uo.routeConfig._loadedComponent&&Zo.push(this.configLoader.loadComponent(Uo.routeConfig).pipe((0,ge.M)(Hs=>{Uo.component=Hs}),(0,W.T)(()=>{})));for(const Hs of Uo.children)Zo.push(...io(Hs));return Zo};return(0,h.z)(io(wr.targetSnapshot.root)).pipe((0,gt.U)(null),(0,Q.s)(1))}),Go(()=>this.afterPreactivation()),(0,se.n)(()=>{const{currentSnapshot:wr,targetSnapshot:io}=sn,Uo=this.createViewTransition?.(this.environmentInjector,wr.root,io.root);return Uo?(0,g.H)(Uo).pipe((0,W.T)(()=>sn)):(0,C.of)(sn)}),(0,W.T)(wr=>{const io=function ds(ve,$e,Ae){const Xe=Vn(ve,$e._root,Ae?Ae._root:void 0);return new Ji(Xe,$e)}(Ae.routeReuseStrategy,wr.targetSnapshot,wr.currentRouterState);return this.currentTransition=sn={...wr,targetRouterState:io},this.currentNavigation.targetRouterState=io,sn}),(0,ge.M)(()=>{this.events.next(new Cn)}),((ve,$e,Ae,Xe)=>(0,W.T)(St=>(new un($e,St.targetRouterState,St.currentRouterState,Ae,Xe).activate(ve),St)))(this.rootContexts,Ae.routeReuseStrategy,wr=>this.events.next(wr),this.inputBindingEnabled),(0,Q.s)(1),(0,ge.M)({next:wr=>{Nn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects))),this.titleStrategy?.updateTitle(wr.targetRouterState.snapshot),wr.resolve(!0)},complete:()=>{Nn=!0}}),(0,ft.Q)(this.transitionAbortSubject.pipe((0,ge.M)(wr=>{throw wr}))),(0,We.j)(()=>{!Nn&&!Nr&&this.cancelNavigationTransition(sn,"",lr.SupersededByNewNavigation),this.currentTransition?.id===sn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,K.W)(wr=>{if(Nr=!0,zi(wr))this.events.next(new ni(sn.id,this.urlSerializer.serialize(sn.extractedUrl),wr.message,wr.cancellationCode)),function go(ve){return zi(ve)&&Ue(ve.url)}(wr)?this.events.next(new tr(wr.url,wr.navigationBehaviorOptions)):sn.resolve(!1);else{const io=new ui(sn.id,this.urlSerializer.serialize(sn.extractedUrl),wr,sn.targetSnapshot??void 0);try{const Uo=(0,r.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(io));if(Uo instanceof gr){const{message:Zo,cancellationCode:Hs}=Ti(0,Uo);this.events.next(new ni(sn.id,this.urlSerializer.serialize(sn.extractedUrl),Zo,Hs)),this.events.next(new tr(Uo.redirectTo,Uo.navigationBehaviorOptions))}else{this.events.next(io);const Zo=Ae.errorHandler(wr);sn.resolve(!!Zo)}}catch(Uo){this.options.resolveNavigationPromiseOnError?sn.resolve(!1):sn.reject(Uo)}}return A.w}))}))}cancelNavigationTransition(Ae,Xe,St){const sn=new ni(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Xe,St);this.events.next(sn),Ae.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const Ae=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Xe=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return Ae.toString()!==Xe?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();function j(ve){return ve!==jt}let I=(()=>{class ve{static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:()=>(0,r.WQX)(Ze),providedIn:"root"})}return ve})();class re{shouldDetach($e){return!1}store($e,Ae){}shouldAttach($e){return!1}retrieve($e){return null}shouldReuseRoute($e,Ae){return $e.routeConfig===Ae.routeConfig}}let Ze=(()=>{class ve extends re{static#e=this.\u0275fac=(()=>{let Ae;return function(St){return(Ae||(Ae=r.xGo(ve)))(St||ve)}})();static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),Dt=(()=>{class ve{static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:()=>(0,r.WQX)(Zt),providedIn:"root"})}return ve})(),Zt=(()=>{class ve extends Dt{constructor(){super(...arguments),this.location=(0,r.WQX)(ce.aZ),this.urlSerializer=(0,r.WQX)(lt),this.options=(0,r.WQX)(oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,r.WQX)(ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=po(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Ae){return this.location.subscribe(Xe=>{"popstate"===Xe.type&&Ae(Xe.url,Xe.state)})}handleRouterEvent(Ae,Xe){if(Ae instanceof pn)this.stateMemento=this.createStateMemento();else if(Ae instanceof Yr)this.rawUrlTree=Xe.initialUrl;else if(Ae instanceof Ri){if("eager"===this.urlUpdateStrategy&&!Xe.extras.skipLocationChange){const St=this.urlHandlingStrategy.merge(Xe.finalUrl,Xe.initialUrl);this.setBrowserUrl(Xe.targetBrowserUrl??St,Xe)}}else Ae instanceof Cn?(this.currentUrlTree=Xe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Xe.finalUrl,Xe.initialUrl),this.routerState=Xe.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Xe.extras.skipLocationChange&&this.setBrowserUrl(Xe.targetBrowserUrl??this.rawUrlTree,Xe)):Ae instanceof ni&&(Ae.code===lr.GuardRejected||Ae.code===lr.NoDataFromResolver)?this.restoreHistory(Xe):Ae instanceof ui?this.restoreHistory(Xe,!0):Ae instanceof On&&(this.lastSuccessfulId=Ae.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Ae,Xe){const St=Ae instanceof yt?this.urlSerializer.serialize(Ae):Ae;if(this.location.isCurrentPathEqualTo(St)||Xe.extras.replaceUrl){const Nn={...Xe.extras.state,...this.generateNgRouterState(Xe.id,this.browserPageId)};this.location.replaceState(St,"",Nn)}else{const sn={...Xe.extras.state,...this.generateNgRouterState(Xe.id,this.browserPageId+1)};this.location.go(St,"",sn)}}restoreHistory(Ae,Xe=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-this.browserPageId;0!==sn?this.location.historyGo(sn):this.currentUrlTree===Ae.finalUrl&&0===sn&&(this.resetState(Ae),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Xe&&this.resetState(Ae),this.resetUrlToCurrentUrlTree())}resetState(Ae){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ae.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Ae,Xe){return"computed"===this.canceledNavigationResolution?{navigationId:Ae,\u0275routerPageId:Xe}:{navigationId:Ae}}static#e=this.\u0275fac=(()=>{let Ae;return function(St){return(Ae||(Ae=r.xGo(ve)))(St||ve)}})();static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();var nr=function(ve){return ve[ve.COMPLETE=0]="COMPLETE",ve[ve.FAILED=1]="FAILED",ve[ve.REDIRECTING=2]="REDIRECTING",ve}(nr||{});function Ur(ve,$e){ve.events.pipe((0,ae.p)(Ae=>Ae instanceof On||Ae instanceof ni||Ae instanceof ui||Ae instanceof Yr),(0,W.T)(Ae=>Ae instanceof On||Ae instanceof Yr?nr.COMPLETE:Ae instanceof ni&&(Ae.code===lr.Redirect||Ae.code===lr.SupersededByNewNavigation)?nr.REDIRECTING:nr.FAILED),(0,ae.p)(Ae=>Ae!==nr.REDIRECTING),(0,Q.s)(1)).subscribe(()=>{$e()})}function Jr(ve){throw ve}const di={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class ve{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,r.WQX)(r.H3F),this.stateManager=(0,r.WQX)(Dt),this.options=(0,r.WQX)(oa,{optional:!0})||{},this.pendingTasks=(0,r.WQX)(r.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,r.WQX)(v),this.urlSerializer=(0,r.WQX)(lt),this.location=(0,r.WQX)(ce.aZ),this.urlHandlingStrategy=(0,r.WQX)(ko),this._events=new b.B,this.errorHandler=this.options.errorHandler||Jr,this.navigated=!1,this.routeReuseStrategy=(0,r.WQX)(I),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,r.WQX)(gc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,r.WQX)(_s,{optional:!0}),this.eventsSubscription=new J.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ae=>{this.console.warn(Ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Ae=this.navigationTransitions.events.subscribe(Xe=>{try{const St=this.navigationTransitions.currentTransition,sn=this.navigationTransitions.currentNavigation;if(null!==St&&null!==sn)if(this.stateManager.handleRouterEvent(Xe,sn),Xe instanceof ni&&Xe.code!==lr.Redirect&&Xe.code!==lr.SupersededByNewNavigation)this.navigated=!0;else if(Xe instanceof On)this.navigated=!0;else if(Xe instanceof tr){const Nn=Xe.navigationBehaviorOptions,Nr=this.urlHandlingStrategy.merge(Xe.url,St.currentRawUrl),wr={browserUrl:St.extras.browserUrl,info:St.extras.info,skipLocationChange:St.extras.skipLocationChange,replaceUrl:St.extras.replaceUrl||"eager"===this.urlUpdateStrategy||j(St.source),...Nn};this.scheduleNavigation(Nr,jt,null,wr,{resolve:St.resolve,reject:St.reject,promise:St.promise})}(function Zr(ve){return!(ve instanceof Cn||ve instanceof tr)})(Xe)&&this._events.next(Xe)}catch(St){this.navigationTransitions.transitionAbortSubject.next(St)}});this.eventsSubscription.add(Ae)}resetRootComponentType(Ae){this.routerState.root.component=Ae,this.navigationTransitions.rootComponentType=Ae}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ae,Xe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ae,"popstate",Xe)},0)})}navigateToSyncWithBrowser(Ae,Xe,St){const sn={replaceUrl:!0},Nn=St?.navigationId?St:null;if(St){const wr={...St};delete wr.navigationId,delete wr.\u0275routerPageId,0!==Object.keys(wr).length&&(sn.state=wr)}const Nr=this.parseUrl(Ae);this.scheduleNavigation(Nr,Xe,Nn,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Ae){this.config=Ae.map(Ja),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Ae,Xe={}){const{relativeTo:St,queryParams:sn,fragment:Nn,queryParamsHandling:Nr,preserveFragment:wr}=Xe,io=wr?this.currentUrlTree.fragment:Nn;let Zo,Uo=null;switch(Nr??this.options.defaultQueryParamsHandling){case"merge":Uo={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Uo=this.currentUrlTree.queryParams;break;default:Uo=sn||null}null!==Uo&&(Uo=this.removeEmptyProps(Uo));try{Zo=Ht(St?St.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Ae[0]||"/"!==Ae[0][0])&&(Ae=[]),Zo=this.currentUrlTree.root}return fn(Zo,Ae,Uo,io??null)}navigateByUrl(Ae,Xe={skipLocationChange:!1}){const St=Ue(Ae)?Ae:this.parseUrl(Ae),sn=this.urlHandlingStrategy.merge(St,this.rawUrlTree);return this.scheduleNavigation(sn,jt,null,Xe)}navigate(Ae,Xe={skipLocationChange:!1}){return function Di(ve){for(let $e=0;$e<ve.length;$e++)if(null==ve[$e])throw new r.wOt(4008,!1)}(Ae),this.navigateByUrl(this.createUrlTree(Ae,Xe),Xe)}serializeUrl(Ae){return this.urlSerializer.serialize(Ae)}parseUrl(Ae){try{return this.urlSerializer.parse(Ae)}catch{return this.urlSerializer.parse("/")}}isActive(Ae,Xe){let St;if(St=!0===Xe?{...di}:!1===Xe?{...Kr}:Xe,Ue(Ae))return x(this.currentUrlTree,Ae,St);const sn=this.parseUrl(Ae);return x(this.currentUrlTree,sn,St)}removeEmptyProps(Ae){return Object.entries(Ae).reduce((Xe,[St,sn])=>(null!=sn&&(Xe[St]=sn),Xe),{})}scheduleNavigation(Ae,Xe,St,sn,Nn){if(this.disposed)return Promise.resolve(!1);let Nr,wr,io;Nn?(Nr=Nn.resolve,wr=Nn.reject,io=Nn.promise):io=new Promise((Zo,Hs)=>{Nr=Zo,wr=Hs});const Uo=this.pendingTasks.add();return Ur(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Uo))}),this.navigationTransitions.handleNavigationRequest({source:Xe,restoredState:St,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Ae,extras:sn,resolve:Nr,reject:wr,promise:io,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),io.catch(Zo=>Promise.reject(Zo))}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),so=(()=>{class ve{constructor(Ae,Xe,St,sn,Nn,Nr){this.router=Ae,this.route=Xe,this.tabIndexAttribute=St,this.renderer=sn,this.el=Nn,this.locationStrategy=Nr,this.href=null,this.onChanges=new b.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const wr=Nn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===wr||"area"===wr,this.isAnchorElement?this.subscription=Ae.events.subscribe(io=>{io instanceof On&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Ae){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ae)}ngOnChanges(Ae){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Ae){null==Ae?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ue(Ae)||Array.isArray(Ae)?Ae:[Ae],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ae,Xe,St,sn,Nn){const Nr=this.urlTree;return!!(null===Nr||this.isAnchorElement&&(0!==Ae||Xe||St||sn||Nn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Nr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ae=this.urlTree;this.href=null!==Ae&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ae)):null;const Xe=null===this.href?null:(0,r.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Xe)}applyAttributeValue(Ae,Xe){const St=this.renderer,sn=this.el.nativeElement;null!==Xe?St.setAttribute(sn,Ae,Xe):St.removeAttribute(sn,Ae)}get urlTree(){return null===this.routerLinkInput?null:Ue(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)(r.rXU(fi),r.rXU(os),r.kS0("tabindex"),r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(ce.hb))};static#t=this.\u0275dir=r.FsC({type:ve,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Xe,St){1&Xe&&r.bIt("click",function(Nn){return St.onClick(Nn.button,Nn.ctrlKey,Nn.shiftKey,Nn.altKey,Nn.metaKey)}),2&Xe&&r.BMQ("target",St.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",r.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",r.L39],replaceUrl:[2,"replaceUrl","replaceUrl",r.L39],routerLink:"routerLink"},standalone:!0,features:[r.GFd,r.OA$]})}return ve})(),cs=(()=>{class ve{get isActive(){return this._isActive}constructor(Ae,Xe,St,sn,Nn){this.router=Ae,this.element=Xe,this.renderer=St,this.cdr=sn,this.link=Nn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new r.bkB,this.routerEventsSubscription=Ae.events.subscribe(Nr=>{Nr instanceof On&&this.update()})}ngAfterContentInit(){(0,C.of)(this.links.changes,(0,C.of)(null)).pipe((0,wt.U)()).subscribe(Ae=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Ae=[...this.links.toArray(),this.link].filter(Xe=>!!Xe).map(Xe=>Xe.onChanges);this.linkInputChangesSubscription=(0,g.H)(Ae).pipe((0,wt.U)()).subscribe(Xe=>{this._isActive!==this.isLinkActive(this.router)(Xe)&&this.update()})}set routerLinkActive(Ae){const Xe=Array.isArray(Ae)?Ae:Ae.split(" ");this.classes=Xe.filter(St=>!!St)}ngOnChanges(Ae){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Ae=this.hasActiveLinks();this.classes.forEach(Xe=>{Ae?this.renderer.addClass(this.element.nativeElement,Xe):this.renderer.removeClass(this.element.nativeElement,Xe)}),Ae&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Ae&&(this._isActive=Ae,this.cdr.markForCheck(),this.isActiveChange.emit(Ae))})}isLinkActive(Ae){const Xe=function Us(ve){return!!ve.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return St=>{const sn=St.urlTree;return!!sn&&Ae.isActive(sn,Xe)}}hasActiveLinks(){const Ae=this.isLinkActive(this.router);return this.link&&Ae(this.link)||this.links.some(Ae)}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)(r.rXU(fi),r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(r.gRc),r.rXU(so,8))};static#t=this.\u0275dir=r.FsC({type:ve,selectors:[["","routerLinkActive",""]],contentQueries:function(Xe,St,sn){if(1&Xe&&r.wni(sn,so,5),2&Xe){let Nn;r.mGM(Nn=r.lsd())&&(St.links=Nn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[r.OA$]})}return ve})();class As{}let hs=(()=>{class ve{constructor(Ae,Xe,St,sn,Nn){this.router=Ae,this.injector=St,this.preloadingStrategy=sn,this.loader=Nn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.p)(Ae=>Ae instanceof On),(0,$.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ae,Xe){const St=[];for(const sn of Xe){sn.providers&&!sn._injector&&(sn._injector=(0,r.Ol2)(sn.providers,Ae,`Route: ${sn.path}`));const Nn=sn._injector??Ae,Nr=sn._loadedInjector??Nn;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&St.push(this.preloadConfig(Nn,sn)),(sn.children||sn._loadedRoutes)&&St.push(this.processRoutes(Nr,sn.children??sn._loadedRoutes))}return(0,g.H)(St).pipe((0,wt.U)())}preloadConfig(Ae,Xe){return this.preloadingStrategy.preload(Xe,()=>{let St;St=Xe.loadChildren&&void 0===Xe.canLoad?this.loader.loadChildren(Ae,Xe):(0,C.of)(null);const sn=St.pipe((0,Me.Z)(Nn=>null===Nn?(0,C.of)(void 0):(Xe._loadedRoutes=Nn.routes,Xe._loadedInjector=Nn.injector,this.processRoutes(Nn.injector??Ae,Nn.routes))));if(Xe.loadComponent&&!Xe._loadedComponent){const Nn=this.loader.loadComponent(Xe);return(0,g.H)([sn,Nn]).pipe((0,wt.U)())}return sn})}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)(r.KVO(fi),r.KVO(r.Ql9),r.KVO(r.uvJ),r.KVO(As),r.KVO($a))};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const Ns=new r.nKC("");let ya=(()=>{class ve{constructor(Ae,Xe,St,sn,Nn={}){this.urlSerializer=Ae,this.transitions=Xe,this.viewportScroller=St,this.zone=sn,this.options=Nn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Nn.scrollPositionRestoration||="disabled",Nn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ae=>{Ae instanceof pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ae.navigationTrigger,this.restoredId=Ae.restoredState?Ae.restoredState.navigationId:0):Ae instanceof On?(this.lastId=Ae.id,this.scheduleScrollEvent(Ae,this.urlSerializer.parse(Ae.urlAfterRedirects).fragment)):Ae instanceof Yr&&Ae.code===Dr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ae,this.urlSerializer.parse(Ae.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ae=>{Ae instanceof Xt&&(Ae.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ae.position):Ae.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ae.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ae,Xe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xt(Ae,"popstate"===this.lastSource?this.store[this.restoredId]:null,Xe))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Xe){r.QTQ()};static#t=this.\u0275prov=r.jDH({token:ve,factory:ve.\u0275fac})}return ve})();function uc(ve,$e){return{\u0275kind:ve,\u0275providers:$e}}function ka(){const ve=(0,r.WQX)(r.zZn);return $e=>{const Ae=ve.get(r.o8S);if($e!==Ae.components[0])return;const Xe=ve.get(fi),St=ve.get(Bc);1===ve.get(hn)&&Xe.initialNavigation(),ve.get(Bi,null,r.$GK.Optional)?.setUpPreloading(),ve.get(Ns,null,r.$GK.Optional)?.init(),Xe.resetRootComponentType(Ae.componentTypes[0]),St.closed||(St.next(),St.complete(),St.unsubscribe())}}const Bc=new r.nKC("",{factory:()=>new b.B}),hn=new r.nKC("",{providedIn:"root",factory:()=>1}),Bi=new r.nKC("");function ql(ve){return uc(0,[{provide:Bi,useExisting:hs},{provide:As,useExisting:ve}])}function ma(ve){return uc(9,[{provide:as,useValue:Ds},{provide:sa,useValue:{skipNextTransition:!!ve?.skipInitialTransition,...ve}}])}const Jo=new r.nKC("ROUTER_FORROOT_GUARD"),Ta=[ce.aZ,{provide:lt,useClass:Bt},fi,Hn,{provide:os,useFactory:function ll(ve){return ve.routerState.root},deps:[fi]},$a,[]];let tc=(()=>{class ve{constructor(Ae){}static forRoot(Ae,Xe){return{ngModule:ve,providers:[Ta,[],{provide:gc,multi:!0,useValue:Ae},{provide:Jo,useFactory:nc,deps:[[fi,new r.Xx1,new r.kdw]]},{provide:oa,useValue:Xe||{}},Xe?.useHash?{provide:ce.hb,useClass:ce.fw}:{provide:ce.hb,useClass:ce.Sm},{provide:Ns,useFactory:()=>{const ve=(0,r.WQX)(ce.Xr),$e=(0,r.WQX)(r.SKi),Ae=(0,r.WQX)(oa),Xe=(0,r.WQX)(v),St=(0,r.WQX)(lt);return Ae.scrollOffset&&ve.setOffset(Ae.scrollOffset),new ya(St,Xe,ve,$e,Ae)}},Xe?.preloadingStrategy?ql(Xe.preloadingStrategy).\u0275providers:[],Xe?.initialNavigation?rc(Xe):[],Xe?.bindToComponentInputs?uc(8,[ea,{provide:_s,useExisting:ea}]).\u0275providers:[],Xe?.enableViewTransitions?ma().\u0275providers:[],[{provide:Dc,useFactory:ka},{provide:r.iLQ,multi:!0,useExisting:Dc}]]}}static forChild(Ae){return{ngModule:ve,providers:[{provide:gc,multi:!0,useValue:Ae}]}}static#e=this.\u0275fac=function(Xe){return new(Xe||ve)(r.KVO(Jo,8))};static#t=this.\u0275mod=r.$C({type:ve});static#n=this.\u0275inj=r.G2t({})}return ve})();function nc(ve){return"guarded"}function rc(ve){return["disabled"===ve.initialNavigation?uc(3,[{provide:r.hnV,multi:!0,useFactory:()=>{const $e=(0,r.WQX)(fi);return()=>{$e.setUpLocationChangeListener()}}},{provide:hn,useValue:2}]).\u0275providers:[],"enabledBlocking"===ve.initialNavigation?uc(2,[{provide:hn,useValue:0},{provide:r.hnV,multi:!0,deps:[r.zZn],useFactory:$e=>{const Ae=$e.get(ce.hj,Promise.resolve());return()=>Ae.then(()=>new Promise(Xe=>{const St=$e.get(fi),sn=$e.get(Bc);Ur(St,()=>{Xe(!0)}),$e.get(v).afterPreactivation=()=>(Xe(!0),sn.closed?(0,C.of)(void 0):sn),St.initialNavigation()}))}}]).\u0275providers:[]]}const Dc=new r.nKC("")},92014:(bn,be,w)=>{"use strict";w.d(be,{rc:()=>Vt,En:()=>Hr,rK:()=>zi,l6:()=>ii,MD:()=>Oo,Um:()=>co,Uw:()=>an,il:()=>Ro,Mz:()=>_o,rM:()=>Hn,xi:()=>Xo,Lt:()=>hr});var r=w(54438),m=w(85052),g=w(14264),C=w(2573),D=w(20075),h=w(8502),U=w(15877),F=w(46104),k=w(45326),z=w(2515),B=w(11756),A=w(36110),T=w(47369),b=w(28577),J=w(21472),ce=w(28454),W=w(37925),se=w(15152),Q=w(49784),Ie=w(21082),ae=w(17365),Me=w(60391),q=w(29160),$=w(89079);const ge="NGXS_META",K="NGXS_OPTIONS_META",Ne="NGXS_SELECTOR_META";function Ve(et){if(!et.hasOwnProperty(ge)){const rn={name:null,actions:{},defaults:{},path:null,makeRootSelector:It=>It.getStateGetter(rn.name),children:[]};Object.defineProperty(et,ge,{value:rn})}return Ge(et)}function Ge(et){return et[ge]}function _t(et){return et[Ne]}function Rn(et,rn=Object.is){let It=null,P=null;function N(){return function zt(et,rn,It){if(null===rn||null===It||rn.length!==It.length)return!1;const P=rn.length;for(let N=0;N<P;N++)if(!et(rn[N],It[N]))return!1;return!0}(rn,It,arguments)||(P=et.apply(null,arguments)),It=arguments,P}return N.reset=function(){It=null,P=null},N}let He=(()=>{class et{static#e=this._value={};static set(It){this._value=It}static pop(){const It=this._value;return this._value={},It}}return et})();const We=new r.nKC("",{providedIn:"root",factory:()=>He.pop()});let st=(()=>{class et extends Me.m{constructor(){super(1)}bootstrap(){this.next(!0),this.complete()}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();function je(et){const rn=[];let It=!1;return function(...N){if(It)rn.unshift(N);else{for(It=!0,et(...N);rn.length>0;){const Pe=rn.pop();Pe&&et(...Pe)}It=!1}}}class Ce extends m.B{constructor(){super(...arguments),this._orderedNext=je(rn=>super.next(rn))}next(rn){this._orderedNext(rn)}}class ne extends q.t{constructor(rn){super(rn),this._orderedNext=je(It=>super.next(It)),this._currentValue=rn}getValue(){return this._currentValue}next(rn){this._currentValue=rn,this._orderedNext(rn)}}function Re(et){return rn=>new C.c(It=>rn.subscribe({next(P){et(()=>It.next(P))},error(P){et(()=>It.error(P))},complete(){et(()=>It.complete())}}))}let te=(()=>{class et extends ne{constructor(){super({}),this.state=(0,$.ot)(this.pipe(Re(r.O8t)),{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();var y=w(60177),M=w(81954),Y=w(15210),G=w(66196);function _e(et,rn){return rn?It=>It.pipe(_e((P,N)=>(0,M.Tg)(et(P,N)).pipe((0,A.T)((Pe,tt)=>rn(P,Pe,N,tt))))):(0,Y.N)((It,P)=>{let N=0,Pe=null,tt=!1;It.subscribe((0,G._)(P,xt=>{Pe||(Pe=(0,G._)(P,void 0,()=>{Pe=null,tt&&P.complete()}),(0,M.Tg)(et(xt,N++)).subscribe(Pe))},()=>{tt=!0,!Pe&&P.complete()}))})}var Z=w(39705),f=w(35160),V=w(1670);let x=(()=>{class et{static#e=this.type="@@INIT"}return et})(),ye=(()=>{class et{static#e=this.type="@@UPDATE_STATE";constructor(It){this.addedStates=It}}return et})();const ke=new r.nKC("");function Ee(et){return et.constructor?.type||et.type}const at=(et,rn,It)=>{et={...et};const P=rn.split("."),N=P.length-1;return P.reduce((Pe,tt,xt)=>(Pe[tt]=xt===N?It:Array.isArray(Pe[tt])?Pe[tt].slice():{...Pe[tt]},Pe&&Pe[tt]),et),et},yt=(et,rn)=>rn.split(".").reduce((It,P)=>It&&It[P],et);let Jn=(()=>{class et{enter(It){return It()}leave(It){return It()}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),Bn=(()=>{class et{constructor(It,P){this._ngZone=It,this._platformId=P}enter(It){return(0,y.Vy)(this._platformId)?this.runInsideAngular(It):this.runOutsideAngular(It)}leave(It){return this.runInsideAngular(It)}runInsideAngular(It){return r.SKi.isInAngularZone()?It():this._ngZone.run(It)}runOutsideAngular(It){return r.SKi.isInAngularZone()?this._ngZone.runOutsideAngular(It):It()}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(r.SKi),r.KVO(r.Agw))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();const ue=new r.nKC(""),Ue=new r.nKC("",{providedIn:"root",factory:()=>{const et=(0,r.WQX)(r.SKi),rn=(0,r.WQX)(r.duS),It=rn.get(ue);return rn.get(It||(et instanceof r.SKi?Bn:Jn))}});let bt=(()=>{class et{constructor(It){this._executionStrategy=It}enter(It){return this._executionStrategy.enter(It)}leave(It){return this._executionStrategy.leave(It)}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(Ue))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();const Ht=et=>(...rn)=>et.shift()(...rn,(...P)=>Ht(et)(...P));function fn(et){return Re(rn=>et.leave(rn))}let cr=(()=>{class et extends Ce{constructor(){super(),this.dispatched$=new m.B,this.pipe((0,g.p)(It=>"DISPATCHED"===It.status)).subscribe(It=>{this.dispatched$.next(It)})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),Hr=(()=>{class et extends C.c{constructor(It,P){const N=It.pipe(fn(P),(0,D.u)());super(Pe=>{const tt=N.subscribe({next:xt=>Pe.next(xt),error:xt=>Pe.error(xt),complete:()=>Pe.complete()});Pe.add(tt)})}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(cr),r.KVO(bt))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),ti=(()=>{class et{constructor(){this.plugins=[],this._parentManager=(0,r.WQX)(et,{optional:!0,skipSelf:!0}),this._pluginHandlers=(0,r.WQX)(ke,{optional:!0}),this.registerHandlers()}get _rootPlugins(){return this._parentManager?.plugins||this.plugins}registerHandlers(){const It=this.getPluginHandlers();this._rootPlugins.push(...It)}getPluginHandlers(){return(this._pluginHandlers||[]).map(P=>P.handle?P.handle.bind(P):P)}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac})}return et})();const mi=new WeakMap,li=h.$.onUnhandledError;h.$.onUnhandledError=function(et){const rn=mi.get(et);if(rn)rn();else{if(!li)throw et;li.call(this,et)}};let So=(()=>{class et extends m.B{static#e=this.\u0275fac=(()=>{let It;return function(N){return(It||(It=r.xGo(et)))(N||et)}})();static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),xo=(()=>{class et{constructor(It,P,N,Pe,tt,xt){this._ngZone=It,this._actions=P,this._actionResults=N,this._pluginManager=Pe,this._stateStream=tt,this._ngxsExecutionStrategy=xt}dispatch(It){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(It)).pipe(function wo(et){return rn=>{let It=rn.subscribe({error:P=>{et.runOutsideAngular(()=>{queueMicrotask(()=>{It&&function Io(et){const rn=mi.get(et);rn&&rn()}(P)})})}});return new C.c(P=>(It?.unsubscribe(),It=null,rn.subscribe(P)))}}(this._ngZone),fn(this._ngxsExecutionStrategy))}dispatchByEvents(It){return Array.isArray(It)?0===It.length?(0,U.of)(void 0):(0,F.p)(It.map(P=>this.dispatchSingle(P))).pipe((0,A.T)(()=>{})):this.dispatchSingle(It)}dispatchSingle(It){const P=this._stateStream.getValue();return Ht([...this._pluginManager.plugins,(Pe,tt)=>{Pe!==P&&this._stateStream.next(Pe);const xt=this.getActionResultStream(tt);return xt.subscribe(Wt=>this._actions.next(Wt)),this._actions.next({action:tt,status:"DISPATCHED"}),this.createDispatchObservable(xt)}])(P,It).pipe((0,Q.t)())}getActionResultStream(It){return this._actionResults.pipe((0,g.p)(P=>P.action===It&&"DISPATCHED"!==P.status),(0,ae.s)(1),(0,Q.t)())}createDispatchObservable(It){return It.pipe(_e(P=>{switch(P.status){case"SUCCESSFUL":return(0,U.of)(this._stateStream.getValue());case"ERRORED":return(0,k.$)(()=>P.error);default:return z.w}})).pipe((0,Q.t)())}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(r.SKi),r.KVO(cr),r.KVO(So),r.KVO(ti),r.KVO(te),r.KVO(bt))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();const nn=new r.nKC(""),xn=new r.nKC(""),sr=new r.nKC("");let br=(()=>{class et{constructor(){this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=Bn,this.selectorOptions={injectContainerState:!1,suppressErrors:!1}}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:()=>(()=>{const It=new et,P=(0,r.WQX)(sr);return{...It,...P,selectorOptions:{...It.selectorOptions,...P.selectorOptions}}})(),providedIn:"root"})}return et})();class Vr{constructor(rn,It,P){this.previousValue=rn,this.currentValue=It,this.firstChange=P}}let jt=(()=>{class et{constructor(It,P,N){this._stateStream=It,this._dispatcher=P,this._config=N}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:P=>this._stateStream.next(P),dispatch:P=>this._dispatcher.dispatch(P)}}setStateToTheCurrentWithNew(It){const P=this.getRootStateOperations(),N=P.getState();P.setState({...N,...It.defaults})}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(te),r.KVO(xo),r.KVO(br))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();const ht=!1;function ni(et){const rn=_t(et)||Ge(et);return rn&&rn.makeRootSelector||(()=>et)}function ui(et){return rn=>{for(let It=0;It<et.length;It++){if(!rn)return;rn=rn[et[It]]}return rn}}function Ri(et){const rn=et;let It="store."+rn[0],P=0;const N=rn.length;let Pe=It;for(;++P<N;)Pe=Pe+" && "+(It=It+"."+rn[P]);return new Function("store","return "+Pe+";")}const Ki=new r.nKC("",{providedIn:"root",factory:()=>(0,r.WQX)(br).compatibility?.strictContentSecurityPolicy?ui:Ri});let Bo=(()=>{class et{constructor(){this._actionTypeToHandlersMap=new Map}ngOnDestroy(){this._actionTypeToHandlersMap.clear()}get(It){return this._actionTypeToHandlersMap.get(It)}register(It,P){const N=this._actionTypeToHandlersMap.get(It)??new Set;return N.add(P),this._actionTypeToHandlersMap.set(It,N),()=>{this._actionTypeToHandlersMap.get(It).delete(P)}}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();new RegExp("^[a-zA-Z0-9_]+$"),new r.nKC("",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let Mo=(()=>{class et{constructor(){this._ngZone=(0,r.WQX)(r.SKi),this._errorHandler=(0,r.WQX)(r.zcH)}handleError(It,P){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(It))}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),xs=(()=>{class et{constructor(It){this._internalStateOperations=It}createStateContext(It){const P=this._internalStateOperations.getRootStateOperations();return{getState:()=>Lo(P.getState(),It),patchState(N){const Pe=P.getState(),tt=function Wo(et){return rn=>{const It={...rn};for(const P in et)It[P]=et[P];return It}}(N);Os(P,Pe,tt,It)},setState(N){const Pe=P.getState();!function Ft(et){return"function"==typeof et}(N)?da(P,Pe,N,It):Os(P,Pe,N,It)},dispatch:N=>P.dispatch(N)}}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(jt))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();function da(et,rn,It,P){const N=at(rn,P,It);return et.setState(N),N}function Os(et,rn,It,P){return da(et,rn,It(Lo(rn,P)),P)}function Lo(et,rn){return yt(et,rn)}function Xo(...et){return ri(et,["DISPATCHED"])}function Hn(...et){return ri(et,["SUCCESSFUL","CANCELED","ERRORED"],Xr)}function ri(et,rn,It=ki){const P=function Ji(et){return et.reduce((rn,It)=>(rn[Ee(It)]=!0,rn),{})}(et),N=rn&&function po(et){return et.reduce((rn,It)=>(rn[It]=!0,rn),{})}(rn);return function(Pe){return Pe.pipe(function si(et,rn){return(0,g.p)(It=>{const P=Ee(It.action);return et[P]&&(!rn||rn[It.status])})}(P,N),It())}}function Xr(){return(0,A.T)(({action:et,status:rn,error:It})=>({action:et,result:{successful:"SUCCESSFUL"===rn,canceled:"CANCELED"===rn,error:It}}))}function ki(){return(0,A.T)(et=>et.action)}function os(et){let rn=void 0===et?{}:et;return et&&(Array.isArray(et)?rn=et.slice():"object"==typeof et&&(rn={...et})),rn}let es=(()=>{class et{constructor(){this._injector=(0,r.WQX)(r.zZn),this._config=(0,r.WQX)(br),this._parentFactory=(0,r.WQX)(et,{optional:!0,skipSelf:!0}),this._stateContextFactory=(0,r.WQX)(xs),this._actions=(0,r.WQX)(cr),this._actionResults=(0,r.WQX)(So),this._initialState=(0,r.WQX)(We,{optional:!0}),this._actionRegistry=(0,r.WQX)(Bo),this._propGetter=(0,r.WQX)(Ki),this._actionsSubscription=null,this._ngxsUnhandledErrorHandler=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=Rn(()=>{const It=this,P=It._propGetter;return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(tt){let xt=function N(tt){const xt=It.statePaths[tt];return xt?P(xt.split(".")):null}(tt);return xt||((...Wt)=>(xt||(xt=function N(tt){const xt=It.statePaths[tt];return xt?P(xt.split(".")):null}(tt)),xt?xt(...Wt):void 0))},getSelectorOptions:tt=>({...It._config.selectorOptions,...tt||{}})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}ngOnDestroy(){this._actionsSubscription?.unsubscribe()}add(It){const{newStates:P}=this.addToStatesMap(It);if(!P.length)return[];const N=function Qi(et){const rn=It=>{const P=et.find(N=>N===It);return P[ge].name};return et.reduce((It,P)=>{const{name:N,children:Pe}=P[ge];return It[N]=(Pe||[]).map(rn),It},{})}(P),Pe=function bo(et){const rn=[],It={},P=(N,Pe=[])=>{Array.isArray(Pe)||(Pe=[]),Pe.push(N),It[N]=!0,et[N].forEach(tt=>{It[tt]||P(tt,Pe.slice(0))}),rn.indexOf(N)<0&&rn.push(N)};return Object.keys(et).forEach(N=>P(N)),rn.reverse()}(N),tt=function qi(et,rn={}){const It=(P,N)=>{for(const Pe in P)if(P.hasOwnProperty(Pe)&&P[Pe].indexOf(N)>=0){const tt=It(P,Pe);return null!==tt?`${tt}.${Pe}`:Pe}return null};for(const P in et)if(et.hasOwnProperty(P)){const N=It(et,P);rn[P]=N?`${N}.${P}`:P}return rn}(N),xt=function Yi(et){return et.reduce((rn,It)=>(rn[It[ge].name]=It,rn),{})}(P),Wt=[];for(const ln of Pe){const Ln=xt[ln],$n=tt[ln],pr=Ln[ge];this.addRuntimeInfoToMeta(pr,$n);const dr={name:ln,path:$n,isInitialised:!1,actions:pr.actions,instance:this._injector.get(Ln),defaults:os(pr.defaults)};this.hasBeenMountedAndBootstrapped(ln,$n)||Wt.push(dr),this.states.push(dr),this.hydrateActionMetasMap(dr)}return Wt}addAndReturnDefaults(It){const N=this.add(It||[]);return{defaults:N.reduce((tt,xt)=>at(tt,xt.path,xt.defaults),{}),states:N}}connectActionHandlers(){this._parentFactory||null!==this._actionsSubscription||(this._actionsSubscription=this._actions.pipe((0,g.p)(It=>"DISPATCHED"===It.status),(0,B.Z)(It=>{const P=It.action;return this.invokeActions(P).pipe((0,A.T)(()=>({action:P,status:"SUCCESSFUL"})),(0,T.U)({action:P,status:"CANCELED"}),(0,b.W)(N=>{const Pe=this._ngxsUnhandledErrorHandler||=this._injector.get(Mo),tt=function Co(et,rn){if(null!==et&&"object"==typeof et){let It=!1;mi.set(et,()=>{It||(It=!0,rn())})}return et}(N,()=>Pe.handleError(N,{action:P}));return(0,U.of)({action:P,status:"ERRORED",error:tt})}))})).subscribe(It=>this._actionResults.next(It)))}invokeActions(It){const P=Ee(It),N=[];let Pe=!1;const tt=this._actionRegistry.get(P);if(tt)for(const xt of tt){let Wt;try{Wt=xt(It)}catch(ln){Wt=(0,k.$)(()=>ln)}N.push(Wt),Pe=!0}return N.length||N.push((0,U.of)(void 0)),(0,F.p)(N)}addToStatesMap(It){const P=[],N=this.statesByName;for(const Pe of It){const tt=Ge(Pe).name;!N[tt]&&(P.push(Pe),N[tt]=Pe)}return{newStates:P}}addRuntimeInfoToMeta(It,P){this.statePaths[It.name]=P,It.path=P}hasBeenMountedAndBootstrapped(It,P){const N=void 0!==yt(this._initialState,P);return this.statesByName[It]&&N}hydrateActionMetasMap({path:It,actions:P,instance:N}){const{dispatched$:Pe}=this._actions;for(const tt of Object.keys(P)){const xt=P[tt].map(Wt=>{const ln=!!Wt.options.cancelUncompleted;return Ln=>{const $n=this._stateContextFactory.createStateContext(It);let pr=N[Wt.fn]($n,Ln);if((0,r.jNT)(pr)&&(pr=(0,J.H)(pr)),(0,ce.A)(pr)){if(pr=pr.pipe((0,B.Z)(dr=>(0,r.jNT)(dr)?(0,J.H)(dr):(0,ce.A)(dr)?dr:(0,U.of)(dr)),(0,T.U)(void 0)),ln){const dr=Pe.pipe(Xo(Ln));pr=pr.pipe((0,W.Q)(dr))}pr=pr.pipe((0,se.j)(()=>{$n.setState=rs,$n.patchState=rs}))}else pr=(0,U.of)(void 0);return pr}});for(const Wt of xt)this._actionRegistry.register(tt,Wt)}}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac})}return et})();function rs(){}let Ro=(()=>{class et{constructor(It,P,N,Pe,tt,xt){this._stateStream=It,this._internalStateOperations=P,this._config=N,this._internalExecutionStrategy=Pe,this._stateFactory=tt,this._selectableStateStream=this._stateStream.pipe(fn(this._internalExecutionStrategy),(0,Q.t)({bufferSize:1,refCount:!0})),this.initStateStream(xt)}dispatch(It){return this._internalStateOperations.getRootStateOperations().dispatch(It)}select(It){const P=this.getStoreBoundSelectorFn(It);return this._selectableStateStream.pipe((0,A.T)(P),(0,b.W)(N=>this._config.selectorOptions.suppressErrors&&N instanceof TypeError?(0,U.of)(void 0):(0,k.$)(N)),(0,Ie.F)(),fn(this._internalExecutionStrategy))}selectOnce(It){return this.select(It).pipe((0,ae.s)(1))}selectSnapshot(It){return this.getStoreBoundSelectorFn(It)(this._stateStream.getValue())}selectSignal(It){const P=this.getStoreBoundSelectorFn(It);return(0,r.EWP)(()=>P(this._stateStream.state()))}subscribe(It){return this._selectableStateStream.pipe(fn(this._internalExecutionStrategy)).subscribe(It)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(It){this._internalStateOperations.getRootStateOperations().setState(It)}getStoreBoundSelectorFn(It){return ni(It)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(It){const P=this._stateStream.value;(!P||0===Object.keys(P).length)&&this._stateStream.next(It)}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(te),r.KVO(jt),r.KVO(br),r.KVO(bt),r.KVO(es),r.KVO(We,8))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();const gs=new r.nKC("");let Es=(()=>{class et{static#e=this.store=null;static#t=this.config=null;constructor(It,P){et.store=It,et.config=P}ngOnDestroy(){et.store=null,et.config=null}static#n=this.\u0275fac=function(P){return new(P||et)(r.KVO(Ro),r.KVO(br))};static#s=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),Ls=(()=>{class et{constructor(It,P,N,Pe){this._store=It,this._internalStateOperations=P,this._stateContextFactory=N,this._appBootstrappedState=Pe,this._destroy$=new Me.m(1)}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(It,P){this._internalStateOperations.getRootStateOperations().dispatch(It).pipe((0,g.p)(()=>!!P),(0,Z.M)(()=>this._invokeInitOnStates(P.states)),(0,B.Z)(()=>this._appBootstrappedState),(0,g.p)(N=>!!N),(0,W.Q)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(P.states))}_invokeInitOnStates(It){for(const P of It){const N=P.instance;N.ngxsOnChanges&&this._store.select(Pe=>yt(Pe,P.path)).pipe((0,f.Z)(void 0),(0,V.J)(),(0,W.Q)(this._destroy$)).subscribe(([Pe,tt])=>{const xt=new Vr(Pe,tt,!P.isInitialised);N.ngxsOnChanges(xt)}),N.ngxsOnInit&&N.ngxsOnInit(this._getStateContext(P)),P.isInitialised=!0}}_invokeBootstrapOnStates(It){for(const P of It){const N=P.instance;N.ngxsAfterBootstrap&&N.ngxsAfterBootstrap(this._getStateContext(P))}}_getStateContext(It){return this._stateContextFactory.createStateContext(It.path)}static#e=this.\u0275fac=function(P){return new(P||et)(r.KVO(Ro),r.KVO(jt),r.KVO(xs),r.KVO(st))};static#t=this.\u0275prov=r.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})();new r.nKC(""),new r.nKC("");let ai=(()=>{class et{constructor(){!function ea(){((0,r.WQX)(gs,{optional:!0})||[]).forEach(tt=>tt());const rn=(0,r.WQX)(es),It=(0,r.WQX)(jt);(0,r.WQX)(Ro),(0,r.WQX)(Es);const P=(0,r.WQX)(nn,{optional:!0})||[],N=(0,r.WQX)(Ls),Pe=rn.addAndReturnDefaults(P);It.setStateToTheCurrentWithNew(Pe),rn.connectActionHandlers(),N.ngxsBootstrap(new x,Pe)}()}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275mod=r.$C({type:et});static#n=this.\u0275inj=r.G2t({})}return et})(),Ti=(()=>{class et{constructor(){!function ds(){(0,r.WQX)(Ro);const et=(0,r.WQX)(jt),rn=(0,r.WQX)(es),It=(0,r.WQX)(xn,{optional:!0})||[],P=(0,r.WQX)(Ls),N=It.reduce((tt,xt)=>tt.concat(xt),[]),Pe=rn.addAndReturnDefaults(N);Pe.states.length&&(et.setStateToTheCurrentWithNew(Pe),P.ngxsBootstrap(new ye(Pe.defaults),Pe))}()}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275mod=r.$C({type:et});static#n=this.\u0275inj=r.G2t({})}return et})();function Zi(et,rn){return[es,ti,...et,{provide:nn,useValue:et},{provide:r.iLQ,useFactory:()=>{const It=(0,r.WQX)(st);return()=>It.bootstrap()},multi:!0},{provide:sr,useValue:rn},{provide:ue,useValue:rn.executionStrategy}]}function go(et){return[es,ti,...et,{provide:xn,multi:!0,useValue:et}]}let zi=(()=>{class et{static forRoot(It=[],P={}){return{ngModule:ai,providers:Zi(It,P)}}static forFeature(It=[]){return{ngModule:Ti,providers:go(It)}}static#e=this.\u0275fac=function(P){return new(P||et)};static#t=this.\u0275mod=r.$C({type:et});static#n=this.\u0275inj=r.G2t({})}return et})();function Vt(et,rn){return(It,P,N)=>{const Pe=Ve(It.constructor),tt=Array.isArray(et)?et:[et];for(const xt of tt){const Wt=xt.type;Pe.actions[Wt]||(Pe.actions[Wt]=[]),Pe.actions[Wt].push({fn:P,options:rn||{},type:Wt})}}}function an(et){return rn=>{const It=rn,P=Ve(It),N=Object.getPrototypeOf(It),Pe=function un(et,rn){return{...et[K]||{},...rn}}(N,et);(function ar(et){const{meta:rn,inheritedStateClass:It,optionsWithInheritance:P}=et,{children:N,defaults:Pe,name:tt}=P,xt="string"==typeof tt?tt:tt&&tt.getName()||null;It.hasOwnProperty(ge)&&(rn.actions={...rn.actions,...(It[ge]||{}).actions}),rn.children=N,rn.defaults=Pe,rn.name=xt})({meta:P,inheritedStateClass:N,optionsWithInheritance:Pe}),It[K]=Pe}}const Er=36;function ii(et,...rn){return function(It,P){const N=P.toString(),Pe=`__${N}__selector`,tt=function Rr(et,rn,It=[]){return rn=rn||function Pr(et){const rn=et.length-1;return et.charCodeAt(rn)===Er?et.slice(0,rn):et}(et),"string"==typeof rn?function eo(et,rn){return rn?.compatibility?.strictContentSecurityPolicy?ui(et):Ri(et)}(It.length?[rn,...It]:rn.split("."),Es.config):rn}(N,et,rn);Object.defineProperties(It,{[Pe]:{writable:!0,enumerable:!1,configurable:!0},[N]:{enumerable:!0,configurable:!0,get(){return this[Pe]||(this[Pe]=function rr(et){return Es.store||function Sn(){throw new Error("You have forgotten to import the NGXS module!")}(),Es.store.select(et)}(tt))}}})}}const zr="NGXS_SELECTOR_OPTIONS_META",Ni={getOptions:et=>et&&et[zr]||{},defineOptions:(et,rn)=>{et&&(et[zr]=rn)}};function to(et,rn){const It=function gt(et){return et.hasOwnProperty(Ne)||Object.defineProperty(et,Ne,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),_t(et)}(et);It.originalFn=et;let P=()=>({});rn&&(It.containerClass=rn.containerClass,It.selectorName=rn.selectorName||null,P=rn.getSelectorOptions||P);const N={...It};return It.getSelectorOptions=()=>function ho(et,rn){return{...Ni.getOptions(et.containerClass)||{},...Ni.getOptions(et.originalFn)||{},...et.getSelectorOptions()||{},...rn}}(N,P()),It}function co(et){return function(It,P,N){if(P){N||=Object.getOwnPropertyDescriptor(It,P);const Pe=N.value||N.originalFn;Pe&&Ni.defineOptions(Pe,et)}else Ni.defineOptions(It,et)}}function _o(et,rn,It){const P=function On(et,rn){const It=rn&&rn.containerClass,N=Rn(function(){const tt=et.apply(It,arguments);return"function"==typeof tt?Rn.apply(null,[tt]):tt});return Object.setPrototypeOf(N,et),N}(rn,It),N=to(rn,It);return N.makeRootSelector=function pn(et,rn,It){return P=>{const{argumentSelectorFunctions:N,selectorOptions:Pe}=function lr(et,rn,It=[]){const P=rn.getSelectorOptions(),N=et.getSelectorOptions(P),tt=function Dr(et=[],rn,It){const P=[];return It&&(rn.injectContainerState||0===et.length)&&Ge(It)&&P.push(It),P.push(...et),P}(It,N,rn.containerClass).map(xt=>ni(xt)(et));return{selectorOptions:N,argumentSelectorFunctions:tt}}(P,et,rn),{suppressErrors:tt}=Pe;return function(Wt){const ln=N.map(Ln=>Ln(Wt));try{return It(...ln)}catch(Ln){if(tt&&Ln instanceof TypeError)return;throw ht&&console.error("The selector below has thrown an error upon invocation. Please check for any unsafe property access that may result in null or undefined values.",et.originalFn),Ln}}}}(N,et,P),P}function Oo(et){return(rn,It,P)=>{P||=Object.getOwnPropertyDescriptor(rn,It);const N=P?.value,Pe=_o(et,N,{containerClass:rn,selectorName:It.toString(),getSelectorOptions:()=>({})});return{configurable:!0,get:()=>Pe,originalFn:N}}}function hr(et){return(0,r.WQX)(Ro).selectSignal(et)}},9989:(bn,be,w)=>{"use strict";w.d(be,{Ay:()=>zn});const r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m=Object.keys,g=Array.isArray;function C(P,N){return"object"!=typeof N||m(N).forEach(function(Pe){P[Pe]=N[Pe]}),P}typeof Promise>"u"||r.Promise||(r.Promise=Promise);const D=Object.getPrototypeOf,h={}.hasOwnProperty;function U(P,N){return h.call(P,N)}function F(P,N){"function"==typeof N&&(N=N(D(P))),(typeof Reflect>"u"?m:Reflect.ownKeys)(N).forEach(Pe=>{z(P,Pe,N[Pe])})}const k=Object.defineProperty;function z(P,N,Pe,tt){k(P,N,C(Pe&&U(Pe,"get")&&"function"==typeof Pe.get?{get:Pe.get,set:Pe.set,configurable:!0}:{value:Pe,configurable:!0,writable:!0},tt))}function B(P){return{from:function(N){return P.prototype=Object.create(N.prototype),z(P.prototype,"constructor",P),{extend:F.bind(null,P.prototype)}}}}const A=Object.getOwnPropertyDescriptor;function T(P,N){let Pe;return A(P,N)||(Pe=D(P))&&T(Pe,N)}const b=[].slice;function J(P,N,Pe){return b.call(P,N,Pe)}function ce(P,N){return N(P)}function W(P){if(!P)throw new Error("Assertion Failed")}function se(P){r.setImmediate?setImmediate(P):setTimeout(P,0)}function Q(P,N){return P.reduce((Pe,tt,xt)=>{var Wt=N(tt,xt);return Wt&&(Pe[Wt[0]]=Wt[1]),Pe},{})}function Ie(P,N){if("string"==typeof N&&U(P,N))return P[N];if(!N)return P;if("string"!=typeof N){for(var Pe=[],tt=0,xt=N.length;tt<xt;++tt){var Wt=Ie(P,N[tt]);Pe.push(Wt)}return Pe}var ln=N.indexOf(".");if(-1!==ln){var Ln=P[N.substr(0,ln)];return null==Ln?void 0:Ie(Ln,N.substr(ln+1))}}function ae(P,N,Pe){if(P&&void 0!==N&&(!("isFrozen"in Object)||!Object.isFrozen(P)))if("string"!=typeof N&&"length"in N){W("string"!=typeof Pe&&"length"in Pe);for(var tt=0,xt=N.length;tt<xt;++tt)ae(P,N[tt],Pe[tt])}else{var Wt=N.indexOf(".");if(-1!==Wt){var ln=N.substr(0,Wt),Ln=N.substr(Wt+1);if(""===Ln)void 0===Pe?g(P)&&!isNaN(parseInt(ln))?P.splice(ln,1):delete P[ln]:P[ln]=Pe;else{var $n=P[ln];$n&&U(P,ln)||($n=P[ln]={}),ae($n,Ln,Pe)}}else void 0===Pe?g(P)&&!isNaN(parseInt(N))?P.splice(N,1):delete P[N]:P[N]=Pe}}function Me(P){var N={};for(var Pe in P)U(P,Pe)&&(N[Pe]=P[Pe]);return N}const q=[].concat;function $(P){return q.apply([],P)}const ge="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($([8,16,32,64].map(P=>["Int","Uint","Float"].map(N=>N+P+"Array")))).filter(P=>r[P]),K=ge.map(P=>r[P]);Q(ge,P=>[P,!0]);let Ne=null;function Ve(P){Ne=typeof WeakMap<"u"&&new WeakMap;const N=Ge(P);return Ne=null,N}function Ge(P){if(!P||"object"!=typeof P)return P;let N=Ne&&Ne.get(P);if(N)return N;if(g(P)){N=[],Ne&&Ne.set(P,N);for(var Pe=0,tt=P.length;Pe<tt;++Pe)N.push(Ge(P[Pe]))}else if(K.indexOf(P.constructor)>=0)N=P;else{const Wt=D(P);for(var xt in N=Wt===Object.prototype?{}:Object.create(Wt),Ne&&Ne.set(P,N),P)U(P,xt)&&(N[xt]=Ge(P[xt]))}return N}const{toString:gt}={};function _t(P){return gt.call(P).slice(8,-1)}const zt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Rn="symbol"==typeof zt?function(P){var N;return null!=P&&(N=P[zt])&&N.apply(P)}:function(){return null},Oe={};function De(P){var N,Pe,tt,xt;if(1===arguments.length){if(g(P))return P.slice();if(this===Oe&&"string"==typeof P)return[P];if(xt=Rn(P)){for(Pe=[];!(tt=xt.next()).done;)Pe.push(tt.value);return Pe}if(null==P)return[P];if("number"==typeof(N=P.length)){for(Pe=new Array(N);N--;)Pe[N]=P[N];return Pe}return[P]}for(N=arguments.length,Pe=new Array(N);N--;)Pe[N]=arguments[N];return Pe}const He=typeof Symbol<"u"?P=>"AsyncFunction"===P[Symbol.toStringTag]:()=>!1;var We=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function st(P,N){We=P,ft=N}var ft=()=>!0;const wt=!new Error("").stack;function kt(){if(wt)try{throw new Error}catch(P){return P}return new Error}function je(P,N){var Pe=P.stack;return Pe?(N=N||0,0===Pe.indexOf(P.name)&&(N+=(P.name+P.message).split("\n").length),Pe.split("\n").slice(N).filter(ft).map(tt=>"\n"+tt).join("")):""}var Ce=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ne=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ce),Re={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function te(P,N){this._e=kt(),this.name=P,this.message=N}function y(P,N){return P+". Errors: "+Object.keys(N).map(Pe=>N[Pe].toString()).filter((Pe,tt,xt)=>xt.indexOf(Pe)===tt).join("\n")}function M(P,N,Pe,tt){this._e=kt(),this.failures=N,this.failedKeys=tt,this.successCount=Pe,this.message=y(P,N)}function Y(P,N){this._e=kt(),this.name="BulkError",this.failures=Object.keys(N).map(Pe=>N[Pe]),this.failuresByPos=N,this.message=y(P,N)}B(te).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+je(this._e,2))}},toString:function(){return this.name+": "+this.message}}),B(M).from(te),B(Y).from(te);var G=ne.reduce((P,N)=>(P[N]=N+"Error",P),{});const _e=te;var Z=ne.reduce((P,N)=>{var Pe=N+"Error";function tt(xt,Wt){this._e=kt(),this.name=Pe,xt?"string"==typeof xt?(this.message=`${xt}${Wt?"\n "+Wt:""}`,this.inner=Wt||null):"object"==typeof xt&&(this.message=`${xt.name} ${xt.message}`,this.inner=xt):(this.message=Re[N]||Pe,this.inner=null)}return B(tt).from(_e),P[N]=tt,P},{});Z.Syntax=SyntaxError,Z.Type=TypeError,Z.Range=RangeError;var f=Ce.reduce((P,N)=>(P[N+"Error"]=Z[N],P),{}),V=ne.reduce((P,N)=>(-1===["Syntax","Type","Range"].indexOf(N)&&(P[N+"Error"]=Z[N]),P),{});function x(){}function ye(P){return P}function Te(P,N){return null==P||P===ye?N:function(Pe){return N(P(Pe))}}function ke(P,N){return function(){P.apply(this,arguments),N.apply(this,arguments)}}function Ee(P,N){return P===x?N:function(){var Pe=P.apply(this,arguments);void 0!==Pe&&(arguments[0]=Pe);var tt=this.onsuccess,xt=this.onerror;this.onsuccess=null,this.onerror=null;var Wt=N.apply(this,arguments);return tt&&(this.onsuccess=this.onsuccess?ke(tt,this.onsuccess):tt),xt&&(this.onerror=this.onerror?ke(xt,this.onerror):xt),void 0!==Wt?Wt:Pe}}function nt(P,N){return P===x?N:function(){P.apply(this,arguments);var Pe=this.onsuccess,tt=this.onerror;this.onsuccess=this.onerror=null,N.apply(this,arguments),Pe&&(this.onsuccess=this.onsuccess?ke(Pe,this.onsuccess):Pe),tt&&(this.onerror=this.onerror?ke(tt,this.onerror):tt)}}function at(P,N){return P===x?N:function(Pe){var tt=P.apply(this,arguments);C(Pe,tt);var xt=this.onsuccess,Wt=this.onerror;this.onsuccess=null,this.onerror=null;var ln=N.apply(this,arguments);return xt&&(this.onsuccess=this.onsuccess?ke(xt,this.onsuccess):xt),Wt&&(this.onerror=this.onerror?ke(Wt,this.onerror):Wt),void 0===tt?void 0===ln?void 0:ln:C(tt,ln)}}function yt(P,N){return P===x?N:function(){return!1!==N.apply(this,arguments)&&P.apply(this,arguments)}}function Jt(P,N){return P===x?N:function(){var Pe=P.apply(this,arguments);if(Pe&&"function"==typeof Pe.then){for(var tt=this,xt=arguments.length,Wt=new Array(xt);xt--;)Wt[xt]=arguments[xt];return Pe.then(function(){return N.apply(tt,Wt)})}return N.apply(this,arguments)}}V.ModifyError=M,V.DexieError=te,V.BulkError=Y;var Qe={};const Ft=100,[it,Mt,lt]=typeof Promise>"u"?[]:(()=>{let P=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[P,D(P),P];const N=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[N,D(N),P]})(),Bt=Mt&&Mt.then,ct=it&&it.constructor,Tt=!!lt;var rt=!1,Et=lt?()=>{lt.then(Ht)}:r.setImmediate?setImmediate.bind(null,Ht):r.MutationObserver?()=>{var P=document.createElement("div");new MutationObserver(()=>{Ht(),P=null}).observe(P,{attributes:!0}),P.setAttribute("i","1")}:()=>{setTimeout(Ht,0)},vn=function(P,N){jn.push([P,N]),Un&&(Et(),Un=!1)},In=!0,Un=!0,Jn=[],Cr=[],wn=null,cn=ye,Yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Dr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(P=>{try{Dr(P[0],P[1])}catch{}})}},Qt=Yt,jn=[],Lt=0,Dn=[];function Pn(P){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=x,this._lib=!1;var N=this._PSD=Qt;if(We&&(this._stackHolder=kt(),this._prev=null,this._numPrev=0),"function"!=typeof P){if(P!==Qe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Bn(this,this._value))}this._state=null,this._value=null,++N.ref,dn(this,P)}const Sn={get:function(){var P=Qt,N=So;function Pe(tt,xt){var Wt=!P.global&&(P!==Qt||N!==So);const ln=Wt&&!xn();var Ln=new Pn(($n,pr)=>{me(this,new Tn(pn(tt,P,Wt,ln),pn(xt,P,Wt,ln),$n,pr,P))});return We&&bt(Ln,this),Ln}return Pe.prototype=Qe,Pe},set:function(P){z(this,"then",P&&P.prototype===Qe?Sn:{get:function(){return P},set:Sn.set})}};function Tn(P,N,Pe,tt,xt){this.onFulfilled="function"==typeof P?P:null,this.onRejected="function"==typeof N?N:null,this.resolve=Pe,this.reject=tt,this.psd=xt}function dn(P,N){try{N(Pe=>{if(null===P._state){if(Pe===P)throw new TypeError("A promise cannot be resolved with itself.");var tt=P._lib&&fn();Pe&&"function"==typeof Pe.then?dn(P,(xt,Wt)=>{Pe instanceof Pn?Pe._then(xt,Wt):Pe.then(xt,Wt)}):(P._state=!0,P._value=Pe,Ct(P)),tt&&cr()}},Bn.bind(null,P))}catch(Pe){Bn(P,Pe)}}function Bn(P,N){if(Cr.push(N),null===P._state){var Pe=P._lib&&fn();N=cn(N),P._state=!1,P._value=N,We&&null!==N&&"object"==typeof N&&!N._promise&&function(){try{(()=>{var tt=T(N,"stack");N._promise=P,z(N,"stack",{get:()=>rt?tt&&(tt.get?tt.get.apply(N):tt.value):P.stack})}).apply(null,void 0)}catch(ln){}}(),tt=P,Jn.some(xt=>xt._value===tt._value)||Jn.push(tt),Ct(P),Pe&&cr()}var tt}function Ct(P){var N=P._listeners;P._listeners=[];for(var Pe=0,tt=N.length;Pe<tt;++Pe)me(P,N[Pe]);var xt=P._PSD;--xt.ref||xt.finalize(),0===Lt&&(++Lt,vn(()=>{0==--Lt&&Hr()},[]))}function me(P,N){if(null!==P._state){var Pe=P._state?N.onFulfilled:N.onRejected;if(null===Pe)return(P._state?N.resolve:N.reject)(P._value);++N.psd.ref,++Lt,vn(ue,[Pe,P,N])}else P._listeners.push(N)}function ue(P,N,Pe){try{wn=N;var tt,xt=N._value;N._state?tt=P(xt):(Cr.length&&(Cr=[]),tt=P(xt),-1===Cr.indexOf(xt)&&function(Wt){for(var ln=Jn.length;ln;)if(Jn[--ln]._value===Wt._value)return void Jn.splice(ln,1)}(N)),Pe.resolve(tt)}catch(Wt){Pe.reject(Wt)}finally{wn=null,0==--Lt&&Hr(),--Pe.psd.ref||Pe.psd.finalize()}}function Ue(P,N,Pe){if(N.length===Pe)return N;var tt="";if(!1===P._state){var xt,Wt,ln=P._value;null!=ln?(xt=ln.name||"Error",Wt=ln.message||ln,tt=je(ln,0)):(xt=ln,Wt=""),N.push(xt+(Wt?": "+Wt:"")+tt)}return We&&((tt=je(P._stackHolder,2))&&-1===N.indexOf(tt)&&N.push(tt),P._prev&&Ue(P._prev,N,Pe)),N}function bt(P,N){var Pe=N?N._numPrev+1:0;Pe<100&&(P._prev=N,P._numPrev=Pe)}function Ht(){fn()&&cr()}function fn(){var P=In;return In=!1,Un=!1,P}function cr(){var P,N,Pe;do{for(;jn.length>0;)for(P=jn,jn=[],Pe=P.length,N=0;N<Pe;++N){var tt=P[N];tt[0].apply(null,tt[1])}}while(jn.length>0);In=!0,Un=!0}function Hr(){var P=Jn;Jn=[],P.forEach(tt=>{tt._PSD.onunhandled.call(null,tt._value,tt)});for(var N=Dn.slice(0),Pe=N.length;Pe;)N[--Pe]()}function ti(P){return new Pn(Qe,!1,P)}function mi(P,N){var Pe=Qt;return function(){var tt=fn(),xt=Qt;try{return _r(Pe,!0),P.apply(this,arguments)}catch(Wt){N&&N(Wt)}finally{_r(xt,!1),tt&&cr()}}}F(Pn.prototype,{then:Sn,_then:function(P,N){me(this,new Tn(null,null,P,N,Qt))},catch:function(P){if(1===arguments.length)return this.then(null,P);var N=arguments[0],Pe=arguments[1];return this.then(null,"function"==typeof N?tt=>tt instanceof N?Pe(tt):ti(tt):tt=>tt&&tt.name===N?Pe(tt):ti(tt))},finally:function(P){return this.then(N=>(P(),N),N=>(P(),ti(N)))},stack:{get:function(){if(this._stack)return this._stack;try{rt=!0;var P=Ue(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=P),P}finally{rt=!1}}},timeout:function(P,N){return P<1/0?new Pn((Pe,tt)=>{var xt=setTimeout(()=>tt(new Z.Timeout(N)),P);this.then(Pe,tt).finally(clearTimeout.bind(null,xt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(Pn.prototype,Symbol.toStringTag,"Dexie.Promise"),Yt.env=jt(),F(Pn,{all:function(){var P=De.apply(null,arguments).map(sr);return new Pn(function(N,Pe){0===P.length&&N([]);var tt=P.length;P.forEach((xt,Wt)=>Pn.resolve(xt).then(ln=>{P[Wt]=ln,--tt||N(P)},Pe))})},resolve:P=>{if(P instanceof Pn)return P;if(P&&"function"==typeof P.then)return new Pn((Pe,tt)=>{P.then(Pe,tt)});var N=new Pn(Qe,!0,P);return bt(N,wn),N},reject:ti,race:function(){var P=De.apply(null,arguments).map(sr);return new Pn((N,Pe)=>{P.map(tt=>Pn.resolve(tt).then(N,Pe))})},PSD:{get:()=>Qt,set:P=>Qt=P},totalEchoes:{get:()=>So},newPSD:Po,usePSD:pe,scheduler:{get:()=>vn,set:P=>{vn=P}},rejectionMapper:{get:()=>cn,set:P=>{cn=P}},follow:(P,N)=>new Pn((Pe,tt)=>Po((xt,Wt)=>{var ln=Qt;ln.unhandleds=[],ln.onunhandled=Wt,ln.finalize=ke(function(){var Ln;Ln=()=>{0===this.unhandleds.length?xt():Wt(this.unhandleds[0])},Dn.push(function $n(){Ln(),Dn.splice(Dn.indexOf($n),1)}),++Lt,vn(()=>{0==--Lt&&Hr()},[])},ln.finalize),P()},N,Pe,tt))}),ct&&(ct.allSettled&&z(Pn,"allSettled",function(){const P=De.apply(null,arguments).map(sr);return new Pn(N=>{0===P.length&&N([]);let Pe=P.length;const tt=new Array(Pe);P.forEach((xt,Wt)=>Pn.resolve(xt).then(ln=>tt[Wt]={status:"fulfilled",value:ln},ln=>tt[Wt]={status:"rejected",reason:ln}).then(()=>--Pe||N(tt)))})}),ct.any&&typeof AggregateError<"u"&&z(Pn,"any",function(){const P=De.apply(null,arguments).map(sr);return new Pn((N,Pe)=>{0===P.length&&Pe(new AggregateError([]));let tt=P.length;const xt=new Array(tt);P.forEach((Wt,ln)=>Pn.resolve(Wt).then(Ln=>N(Ln),Ln=>{xt[ln]=Ln,--tt||Pe(new AggregateError(xt))}))})}));const li={awaits:0,echoes:0,id:0};var Io=0,Co=[],wo=0,So=0,xo=0;function Po(P,N,Pe,tt){var xt=Qt,Wt=Object.create(xt);Wt.parent=xt,Wt.ref=0,Wt.global=!1,Wt.id=++xo;var ln=Yt.env;Wt.env=Tt?{Promise:Pn,PromiseProp:{value:Pn,configurable:!0,writable:!0},all:Pn.all,race:Pn.race,allSettled:Pn.allSettled,any:Pn.any,resolve:Pn.resolve,reject:Pn.reject,nthen:On(ln.nthen,Wt),gthen:On(ln.gthen,Wt)}:{},N&&C(Wt,N),++xt.ref,Wt.finalize=function(){--this.parent.ref||this.parent.finalize()};var Ln=pe(Wt,P,Pe,tt);return 0===Wt.ref&&Wt.finalize(),Ln}function nn(){return li.id||(li.id=++Io),++li.awaits,li.echoes+=Ft,li.id}function xn(){return!!li.awaits&&(0==--li.awaits&&(li.id=0),li.echoes=li.awaits*Ft,!0)}function sr(P){return li.echoes&&P&&P.constructor===ct?(nn(),P.then(N=>(xn(),N),N=>(xn(),ni(N)))):P}function br(P){++So,li.echoes&&0!=--li.echoes||(li.echoes=li.id=0),Co.push(Qt),_r(P,!0)}function Vr(){var P=Co[Co.length-1];Co.pop(),_r(P,!1)}function _r(P,N){var Pe=Qt;if((N?!li.echoes||wo++&&P===Qt:!wo||--wo&&P===Qt)||ht(N?br.bind(null,P):Vr),P!==Qt&&(Qt=P,Pe===Yt&&(Yt.env=jt()),Tt)){var tt=Yt.env.Promise,xt=P.env;Mt.then=xt.nthen,tt.prototype.then=xt.gthen,(Pe.global||P.global)&&(Object.defineProperty(r,"Promise",xt.PromiseProp),tt.all=xt.all,tt.race=xt.race,tt.resolve=xt.resolve,tt.reject=xt.reject,xt.allSettled&&(tt.allSettled=xt.allSettled),xt.any&&(tt.any=xt.any))}}function jt(){var P=r.Promise;return Tt?{Promise:P,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:P.all,race:P.race,allSettled:P.allSettled,any:P.any,resolve:P.resolve,reject:P.reject,nthen:Mt.then,gthen:P.prototype.then}:{}}function pe(P,N,Pe,tt,xt){var Wt=Qt;try{return _r(P,!0),N(Pe,tt,xt)}finally{_r(Wt,!1)}}function ht(P){Bt.call(it,P)}function pn(P,N,Pe,tt){return"function"!=typeof P?P:function(){var xt=Qt;Pe&&nn(),_r(N,!0);try{return P.apply(this,arguments)}finally{_r(xt,!1),tt&&ht(xn)}}}function On(P,N){return function(Pe,tt){return P.call(this,pn(Pe,N),pn(tt,N))}}-1===(""+Bt).indexOf("[native code]")&&(nn=xn=x);const lr="unhandledrejection";function Dr(P,N){var Pe;try{Pe=N.onuncatched(P)}catch{}if(!1!==Pe)try{var tt,xt={promise:N,reason:P};if(r.document&&document.createEvent?((tt=document.createEvent("Event")).initEvent(lr,!0,!0),C(tt,xt)):r.CustomEvent&&C(tt=new CustomEvent(lr,{detail:xt}),xt),tt&&r.dispatchEvent&&(dispatchEvent(tt),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(tt)}catch{}We&&tt&&!tt.defaultPrevented&&console.warn(`Unhandled rejection: ${P.stack||P}`)}catch{}}var ni=Pn.reject;function Yr(P,N,Pe,tt){if(P.idbdb&&(P._state.openComplete||Qt.letThrough||P._vip)){var xt=P._createTransaction(N,Pe,P._dbSchema);try{xt.create(),P._state.PR1398_maxLoop=3}catch(Wt){return Wt.name===G.InvalidState&&P.isOpen()&&--P._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),P._close(),P.open().then(()=>Yr(P,N,Pe,tt))):ni(Wt)}return xt._promise(N,(Wt,ln)=>Po(()=>(Qt.trans=xt,tt(Wt,ln,xt)))).then(Wt=>xt._completion.then(()=>Wt))}if(P._state.openComplete)return ni(new Z.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._options.autoOpen)return ni(new Z.DatabaseClosed);P.open().catch(x)}return P._state.dbReadyPromise.then(()=>Yr(P,N,Pe,tt))}const eo=-1/0,Ki="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qi="String expected.",Yi=[],qi=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),bo=qi,Bo=qi,Gt=P=>!/(dexie\.js|dexie\.min\.js)/.test(P),Se="__dbnames",vt="readonly",Xt="readwrite";function Cn(P,N){return P?N?function(){return P.apply(this,arguments)&&N.apply(this,arguments)}:P:N}const tr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function kr(P){return"string"!=typeof P||/\./.test(P)?N=>N:N=>(void 0===N[P]&&P in N&&delete(N=Ve(N))[P],N)}class Ii{_trans(N,Pe,tt){const xt=this._tx||Qt.trans,Wt=this.name;function ln($n,pr,dr){if(!dr.schema[Wt])throw new Z.NotFound("Table "+Wt+" not part of transaction");return Pe(dr.idbtrans,dr)}const Ln=fn();try{return xt&&xt.db===this.db?xt===Qt.trans?xt._promise(N,ln,tt):Po(()=>xt._promise(N,ln,tt),{trans:xt,transless:Qt.transless||Qt}):Yr(this.db,N,[this.name],ln)}finally{Ln&&cr()}}get(N,Pe){return N&&N.constructor===Object?this.where(N).first(Pe):this._trans("readonly",tt=>this.core.get({trans:tt,key:N}).then(xt=>this.hook.reading.fire(xt))).then(Pe)}where(N){if("string"==typeof N)return new this.db.WhereClause(this,N);if(g(N))return new this.db.WhereClause(this,`[${N.join("+")}]`);const Pe=m(N);if(1===Pe.length)return this.where(Pe[0]).equals(N[Pe[0]]);const tt=this.schema.indexes.concat(this.schema.primKey).filter(pr=>{if(pr.compound&&Pe.every(dr=>pr.keyPath.indexOf(dr)>=0)){for(let dr=0;dr<Pe.length;++dr)if(-1===Pe.indexOf(pr.keyPath[dr]))return!1;return!0}return!1}).sort((pr,dr)=>pr.keyPath.length-dr.keyPath.length)[0];if(tt&&"\uffff"!==this.db._maxKey){const pr=tt.keyPath.slice(0,Pe.length);return this.where(pr).equals(pr.map(dr=>N[dr]))}!tt&&We&&console.warn(`The query ${JSON.stringify(N)} on ${this.name} would benefit of a compound index [${Pe.join("+")}]`);const{idxByName:xt}=this.schema,Wt=this.db._deps.indexedDB;function ln(pr,dr){try{return 0===Wt.cmp(pr,dr)}catch{return!1}}const[Ln,$n]=Pe.reduce(([pr,dr],Mr)=>{const yr=xt[Mr],Qr=N[Mr];return[pr||yr,pr||!yr?Cn(dr,yr&&yr.multi?Fi=>{const qt=Ie(Fi,Mr);return g(qt)&&qt.some(Fn=>ln(Qr,Fn))}:Fi=>ln(Qr,Ie(Fi,Mr))):dr]},[null,null]);return Ln?this.where(Ln.name).equals(N[Ln.keyPath]).filter($n):tt?this.filter($n):this.where(Pe).equals("")}filter(N){return this.toCollection().and(N)}count(N){return this.toCollection().count(N)}offset(N){return this.toCollection().offset(N)}limit(N){return this.toCollection().limit(N)}each(N){return this.toCollection().each(N)}toArray(N){return this.toCollection().toArray(N)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(N){return new this.db.Collection(new this.db.WhereClause(this,g(N)?`[${N.join("+")}]`:N))}reverse(){return this.toCollection().reverse()}mapToClass(N){this.schema.mappedClass=N;const Pe=tt=>{if(!tt)return tt;const xt=Object.create(N.prototype);for(var Wt in tt)if(U(tt,Wt))try{xt[Wt]=tt[Wt]}catch{}return xt};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Pe,this.hook("reading",Pe),N}defineClass(){return this.mapToClass(function(N){C(this,N)})}add(N,Pe){const{auto:tt,keyPath:xt}=this.schema.primKey;let Wt=N;return xt&&tt&&(Wt=kr(xt)(N)),this._trans("readwrite",ln=>this.core.mutate({trans:ln,type:"add",keys:null!=Pe?[Pe]:null,values:[Wt]})).then(ln=>ln.numFailures?Pn.reject(ln.failures[0]):ln.lastResult).then(ln=>{if(xt)try{ae(N,xt,ln)}catch{}return ln})}update(N,Pe){if("object"!=typeof N||g(N))return this.where(":id").equals(N).modify(Pe);{const tt=Ie(N,this.schema.primKey.keyPath);if(void 0===tt)return ni(new Z.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof Pe?m(Pe).forEach(xt=>{ae(N,xt,Pe[xt])}):Pe(N,{value:N,primKey:tt})}catch{}return this.where(":id").equals(tt).modify(Pe)}}put(N,Pe){const{auto:tt,keyPath:xt}=this.schema.primKey;let Wt=N;return xt&&tt&&(Wt=kr(xt)(N)),this._trans("readwrite",ln=>this.core.mutate({trans:ln,type:"put",values:[Wt],keys:null!=Pe?[Pe]:null})).then(ln=>ln.numFailures?Pn.reject(ln.failures[0]):ln.lastResult).then(ln=>{if(xt)try{ae(N,xt,ln)}catch{}return ln})}delete(N){return this._trans("readwrite",Pe=>this.core.mutate({trans:Pe,type:"delete",keys:[N]})).then(Pe=>Pe.numFailures?Pn.reject(Pe.failures[0]):void 0)}clear(){return this._trans("readwrite",N=>this.core.mutate({trans:N,type:"deleteRange",range:tr})).then(N=>N.numFailures?Pn.reject(N.failures[0]):void 0)}bulkGet(N){return this._trans("readonly",Pe=>this.core.getMany({keys:N,trans:Pe}).then(tt=>tt.map(xt=>this.hook.reading.fire(xt))))}bulkAdd(N,Pe,tt){const xt=Array.isArray(Pe)?Pe:void 0,Wt=(tt=tt||(xt?void 0:Pe))?tt.allKeys:void 0;return this._trans("readwrite",ln=>{const{auto:Ln,keyPath:$n}=this.schema.primKey;if($n&&xt)throw new Z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(xt&&xt.length!==N.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");const pr=N.length;let dr=$n&&Ln?N.map(kr($n)):N;return this.core.mutate({trans:ln,type:"add",keys:xt,values:dr,wantResults:Wt}).then(({numFailures:Mr,results:yr,lastResult:Qr,failures:Fi})=>{if(0===Mr)return Wt?yr:Qr;throw new Y(`${this.name}.bulkAdd(): ${Mr} of ${pr} operations failed`,Fi)})})}bulkPut(N,Pe,tt){const xt=Array.isArray(Pe)?Pe:void 0,Wt=(tt=tt||(xt?void 0:Pe))?tt.allKeys:void 0;return this._trans("readwrite",ln=>{const{auto:Ln,keyPath:$n}=this.schema.primKey;if($n&&xt)throw new Z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(xt&&xt.length!==N.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");const pr=N.length;let dr=$n&&Ln?N.map(kr($n)):N;return this.core.mutate({trans:ln,type:"put",keys:xt,values:dr,wantResults:Wt}).then(({numFailures:Mr,results:yr,lastResult:Qr,failures:Fi})=>{if(0===Mr)return Wt?yr:Qr;throw new Y(`${this.name}.bulkPut(): ${Mr} of ${pr} operations failed`,Fi)})})}bulkDelete(N){const Pe=N.length;return this._trans("readwrite",tt=>this.core.mutate({trans:tt,type:"delete",keys:N})).then(({numFailures:tt,lastResult:xt,failures:Wt})=>{if(0===tt)return xt;throw new Y(`${this.name}.bulkDelete(): ${tt} of ${Pe} operations failed`,Wt)})}}function $r(P){var N={},Pe=function(ln,Ln){if(Ln){for(var $n=arguments.length,pr=new Array($n-1);--$n;)pr[$n-1]=arguments[$n];return N[ln].subscribe.apply(null,pr),P}if("string"==typeof ln)return N[ln]};Pe.addEventType=Wt;for(var tt=1,xt=arguments.length;tt<xt;++tt)Wt(arguments[tt]);return Pe;function Wt(ln,Ln,$n){if("object"!=typeof ln){var pr;Ln||(Ln=yt),$n||($n=x);var dr={subscribers:[],fire:$n,subscribe:function(Mr){-1===dr.subscribers.indexOf(Mr)&&(dr.subscribers.push(Mr),dr.fire=Ln(dr.fire,Mr))},unsubscribe:function(Mr){dr.subscribers=dr.subscribers.filter(function(yr){return yr!==Mr}),dr.fire=dr.subscribers.reduce(Ln,$n)}};return N[ln]=Pe[ln]=dr,dr}m(pr=ln).forEach(function(Mr){var yr=pr[Mr];if(g(yr))Wt(Mr,pr[Mr][0],pr[Mr][1]);else{if("asap"!==yr)throw new Z.InvalidArgument("Invalid event config");var Qr=Wt(Mr,ye,function(){for(var Fi=arguments.length,qt=new Array(Fi);Fi--;)qt[Fi]=arguments[Fi];Qr.subscribers.forEach(function(Fn){se(function(){Fn.apply(null,qt)})})})}})}}function Hi(P,N){return B(N).from({prototype:P}),N}function Mo(P,N){return!(P.filter||P.algorithm||P.or)&&(N?P.justLimit:!P.replayFilter)}function Wo(P,N){P.filter=Cn(P.filter,N)}function xs(P,N,Pe){var tt=P.replayFilter;P.replayFilter=tt?()=>Cn(tt(),N()):N,P.justLimit=Pe&&!tt}function da(P,N){if(P.isPrimKey)return N.primaryKey;const Pe=N.getIndexByKeyPath(P.index);if(!Pe)throw new Z.Schema("KeyPath "+P.index+" on object store "+N.name+" is not indexed");return Pe}function Os(P,N,Pe){const tt=da(P,N.schema);return N.openCursor({trans:Pe,values:!P.keysOnly,reverse:"prev"===P.dir,unique:!!P.unique,query:{index:tt,range:P.range}})}function Lo(P,N,Pe,tt){const xt=P.replayFilter?Cn(P.filter,P.replayFilter()):P.filter;if(P.or){const Wt={},ln=(Ln,$n,pr)=>{if(!xt||xt($n,pr,yr=>$n.stop(yr),yr=>$n.fail(yr))){var dr=$n.primaryKey,Mr=""+dr;"[object ArrayBuffer]"===Mr&&(Mr=""+new Uint8Array(dr)),U(Wt,Mr)||(Wt[Mr]=!0,N(Ln,$n,pr))}};return Promise.all([P.or._iterate(ln,Pe),ps(Os(P,tt,Pe),P.algorithm,ln,!P.keysOnly&&P.valueMapper)])}return ps(Os(P,tt,Pe),Cn(P.algorithm,xt),N,!P.keysOnly&&P.valueMapper)}function ps(P,N,Pe,tt){var xt=mi(tt?(Wt,ln,Ln)=>Pe(tt(Wt),ln,Ln):Pe);return P.then(Wt=>{if(Wt)return Wt.start(()=>{var ln=()=>Wt.continue();N&&!N(Wt,Ln=>ln=Ln,Ln=>{Wt.stop(Ln),ln=x},Ln=>{Wt.fail(Ln),ln=x})||xt(Wt.value,Wt,Ln=>ln=Ln),ln()})})}function Xo(P,N){try{const Pe=Ps(P),tt=Ps(N);if(Pe!==tt)return"Array"===Pe?1:"Array"===tt?-1:"binary"===Pe?1:"binary"===tt?-1:"string"===Pe?1:"string"===tt?-1:"Date"===Pe?1:"Date"!==tt?NaN:-1;switch(Pe){case"number":case"Date":case"string":return P>N?1:P<N?-1:0;case"binary":return function(xt,Wt){const ln=xt.length,Ln=Wt.length,$n=ln<Ln?ln:Ln;for(let pr=0;pr<$n;++pr)if(xt[pr]!==Wt[pr])return xt[pr]<Wt[pr]?-1:1;return ln===Ln?0:ln<Ln?-1:1}(Gn(P),Gn(N));case"Array":return function(xt,Wt){const ln=xt.length,Ln=Wt.length,$n=ln<Ln?ln:Ln;for(let pr=0;pr<$n;++pr){const dr=Xo(xt[pr],Wt[pr]);if(0!==dr)return dr}return ln===Ln?0:ln<Ln?-1:1}(P,N)}}catch{}return NaN}function Ps(P){const N=typeof P;if("object"!==N)return N;if(ArrayBuffer.isView(P))return"binary";const Pe=_t(P);return"ArrayBuffer"===Pe?"binary":Pe}function Gn(P){return P instanceof Uint8Array?P:ArrayBuffer.isView(P)?new Uint8Array(P.buffer,P.byteOffset,P.byteLength):new Uint8Array(P)}class Hn{_read(N,Pe){var tt=this._ctx;return tt.error?tt.table._trans(null,ni.bind(null,tt.error)):tt.table._trans("readonly",N).then(Pe)}_write(N){var Pe=this._ctx;return Pe.error?Pe.table._trans(null,ni.bind(null,Pe.error)):Pe.table._trans("readwrite",N,"locked")}_addAlgorithm(N){var Pe=this._ctx;Pe.algorithm=Cn(Pe.algorithm,N)}_iterate(N,Pe){return Lo(this._ctx,N,Pe,this._ctx.table.core)}clone(N){var Pe=Object.create(this.constructor.prototype),tt=Object.create(this._ctx);return N&&C(tt,N),Pe._ctx=tt,Pe}raw(){return this._ctx.valueMapper=null,this}each(N){var Pe=this._ctx;return this._read(tt=>Lo(Pe,N,tt,Pe.table.core))}count(N){return this._read(Pe=>{const tt=this._ctx,xt=tt.table.core;if(Mo(tt,!0))return xt.count({trans:Pe,query:{index:da(tt,xt.schema),range:tt.range}}).then(ln=>Math.min(ln,tt.limit));var Wt=0;return Lo(tt,()=>(++Wt,!1),Pe,xt).then(()=>Wt)}).then(N)}sortBy(N,Pe){const tt=N.split(".").reverse(),xt=tt[0],Wt=tt.length-1;function ln(pr,dr){return dr?ln(pr[tt[dr]],dr-1):pr[xt]}var Ln="next"===this._ctx.dir?1:-1;function $n(pr,dr){var Mr=ln(pr,Wt),yr=ln(dr,Wt);return Mr<yr?-Ln:Mr>yr?Ln:0}return this.toArray(function(pr){return pr.sort($n)}).then(Pe)}toArray(N){return this._read(Pe=>{var tt=this._ctx;if("next"===tt.dir&&Mo(tt,!0)&&tt.limit>0){const{valueMapper:xt}=tt,Wt=da(tt,tt.table.core.schema);return tt.table.core.query({trans:Pe,limit:tt.limit,values:!0,query:{index:Wt,range:tt.range}}).then(({result:ln})=>xt?ln.map(xt):ln)}{const xt=[];return Lo(tt,Wt=>xt.push(Wt),Pe,tt.table.core).then(()=>xt)}},N)}offset(N){var Pe=this._ctx;return N<=0||(Pe.offset+=N,Mo(Pe)?xs(Pe,()=>{var tt=N;return(xt,Wt)=>0===tt||(1===tt?(--tt,!1):(Wt(()=>{xt.advance(tt),tt=0}),!1))}):xs(Pe,()=>{var tt=N;return()=>--tt<0})),this}limit(N){return this._ctx.limit=Math.min(this._ctx.limit,N),xs(this._ctx,()=>{var Pe=N;return function(tt,xt,Wt){return--Pe<=0&&xt(Wt),Pe>=0}},!0),this}until(N,Pe){return Wo(this._ctx,function(tt,xt,Wt){return!N(tt.value)||(xt(Wt),Pe)}),this}first(N){return this.limit(1).toArray(function(Pe){return Pe[0]}).then(N)}last(N){return this.reverse().first(N)}filter(N){var Pe;return Wo(this._ctx,function(xt){return N(xt.value)}),(Pe=this._ctx).isMatch=Cn(Pe.isMatch,N),this}and(N){return this.filter(N)}or(N){return new this.db.WhereClause(this._ctx.table,N,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(N){var Pe=this._ctx;return Pe.keysOnly=!Pe.isMatch,this.each(function(tt,xt){N(xt.key,xt)})}eachUniqueKey(N){return this._ctx.unique="unique",this.eachKey(N)}eachPrimaryKey(N){var Pe=this._ctx;return Pe.keysOnly=!Pe.isMatch,this.each(function(tt,xt){N(xt.primaryKey,xt)})}keys(N){var Pe=this._ctx;Pe.keysOnly=!Pe.isMatch;var tt=[];return this.each(function(xt,Wt){tt.push(Wt.key)}).then(function(){return tt}).then(N)}primaryKeys(N){var Pe=this._ctx;if("next"===Pe.dir&&Mo(Pe,!0)&&Pe.limit>0)return this._read(xt=>{var Wt=da(Pe,Pe.table.core.schema);return Pe.table.core.query({trans:xt,values:!1,limit:Pe.limit,query:{index:Wt,range:Pe.range}})}).then(({result:xt})=>xt).then(N);Pe.keysOnly=!Pe.isMatch;var tt=[];return this.each(function(xt,Wt){tt.push(Wt.primaryKey)}).then(function(){return tt}).then(N)}uniqueKeys(N){return this._ctx.unique="unique",this.keys(N)}firstKey(N){return this.limit(1).keys(function(Pe){return Pe[0]}).then(N)}lastKey(N){return this.reverse().firstKey(N)}distinct(){var N=this._ctx,Pe=N.index&&N.table.schema.idxByName[N.index];if(!Pe||!Pe.multi)return this;var tt={};return Wo(this._ctx,function(xt){var Wt=xt.primaryKey.toString(),ln=U(tt,Wt);return tt[Wt]=!0,!ln}),this}modify(N){var Pe=this._ctx;return this._write(tt=>{var xt;if("function"==typeof N)xt=N;else{var Wt=m(N),ln=Wt.length;xt=function(qt){for(var Fn=!1,En=0;En<ln;++En){var qn=Wt[En],jr=N[qn];Ie(qt,qn)!==jr&&(ae(qt,qn,jr),Fn=!0)}return Fn}}const Ln=Pe.table.core,{outbound:$n,extractKey:pr}=Ln.schema.primaryKey,dr=this.db._options.modifyChunkSize||200,Mr=[];let yr=0;const Qr=[],Fi=(qt,Fn)=>{const{failures:En,numFailures:qn}=Fn;yr+=qt-qn;for(let jr of m(En))Mr.push(En[jr])};return this.clone().primaryKeys().then(qt=>{const Fn=En=>{const qn=Math.min(dr,qt.length-En);return Ln.getMany({trans:tt,keys:qt.slice(En,En+qn),cache:"immutable"}).then(jr=>{const bi=[],Oi=[],xi=$n?[]:null,Ei=[];for(let ji=0;ji<qn;++ji){const No=jr[ji],mo={value:Ve(No),primKey:qt[En+ji]};!1!==xt.call(mo,mo.value,mo)&&(null==mo.value?Ei.push(qt[En+ji]):$n||0===Xo(pr(No),pr(mo.value))?(Oi.push(mo.value),$n&&xi.push(qt[En+ji])):(Ei.push(qt[En+ji]),bi.push(mo.value)))}const Ho=Mo(Pe)&&Pe.limit===1/0&&("function"!=typeof N||N===Ir)&&{index:Pe.index,range:Pe.range};return Promise.resolve(bi.length>0&&Ln.mutate({trans:tt,type:"add",values:bi}).then(ji=>{for(let No in ji.failures)Ei.splice(parseInt(No),1);Fi(bi.length,ji)})).then(()=>(Oi.length>0||Ho&&"object"==typeof N)&&Ln.mutate({trans:tt,type:"put",keys:xi,values:Oi,criteria:Ho,changeSpec:"function"!=typeof N&&N}).then(ji=>Fi(Oi.length,ji))).then(()=>(Ei.length>0||Ho&&N===Ir)&&Ln.mutate({trans:tt,type:"delete",keys:Ei,criteria:Ho}).then(ji=>Fi(Ei.length,ji))).then(()=>qt.length>En+qn&&Fn(En+dr))})};return Fn(0).then(()=>{if(Mr.length>0)throw new M("Error modifying one or more objects",Mr,yr,Qr);return qt.length})})})}delete(){var N=this._ctx,Pe=N.range;return Mo(N)&&(N.isPrimKey&&!Bo||3===Pe.type)?this._write(tt=>{const{primaryKey:xt}=N.table.core.schema,Wt=Pe;return N.table.core.count({trans:tt,query:{index:xt,range:Wt}}).then(ln=>N.table.core.mutate({trans:tt,type:"deleteRange",range:Wt}).then(({failures:Ln,numFailures:dr})=>{if(dr)throw new M("Could not delete some values",Object.keys(Ln).map(Mr=>Ln[Mr]),ln-dr);return ln-dr}))}):this.modify(Ir)}}const Ir=(P,N)=>N.value=null;function ri(P,N){return P<N?-1:P===N?0:1}function si(P,N){return P>N?-1:P===N?0:1}function Xr(P,N,Pe){var tt=P instanceof es?new P.Collection(P):P;return tt._ctx.error=Pe?new Pe(N):new TypeError(N),tt}function ki(P){return new P.Collection(P,()=>os("")).limit(0)}function Ji(P,N,Pe,tt,xt,Wt){for(var ln=Math.min(P.length,tt.length),Ln=-1,$n=0;$n<ln;++$n){var pr=N[$n];if(pr!==tt[$n])return xt(P[$n],Pe[$n])<0?P.substr(0,$n)+Pe[$n]+Pe.substr($n+1):xt(P[$n],tt[$n])<0?P.substr(0,$n)+tt[$n]+Pe.substr($n+1):Ln>=0?P.substr(0,Ln)+N[Ln]+Pe.substr(Ln+1):null;xt(P[$n],pr)<0&&(Ln=$n)}return ln<tt.length&&"next"===Wt?P+Pe.substr(P.length):ln<P.length&&"prev"===Wt?P.substr(0,Pe.length):Ln<0?null:P.substr(0,Ln)+tt[Ln]+Pe.substr(Ln+1)}function po(P,N,Pe,tt){var xt,Wt,ln,Ln,$n,pr,dr,Mr=Pe.length;if(!Pe.every(qt=>"string"==typeof qt))return Xr(P,Qi);function yr(qt){xt=function(En){return"next"===En?qn=>qn.toUpperCase():qn=>qn.toLowerCase()}(qt),Wt=function(En){return"next"===En?qn=>qn.toLowerCase():qn=>qn.toUpperCase()}(qt),ln="next"===qt?ri:si;var Fn=Pe.map(function(En){return{lower:Wt(En),upper:xt(En)}}).sort(function(En,qn){return ln(En.lower,qn.lower)});Ln=Fn.map(function(En){return En.upper}),$n=Fn.map(function(En){return En.lower}),pr=qt,dr="next"===qt?"":tt}yr("next");var Qr=new P.Collection(P,()=>Pi(Ln[0],$n[Mr-1]+tt));Qr._ondirectionchange=function(qt){yr(qt)};var Fi=0;return Qr._addAlgorithm(function(qt,Fn,En){var qn=qt.key;if("string"!=typeof qn)return!1;var jr=Wt(qn);if(N(jr,$n,Fi))return!0;for(var bi=null,Oi=Fi;Oi<Mr;++Oi){var xi=Ji(qn,jr,Ln[Oi],$n[Oi],ln,pr);null===xi&&null===bi?Fi=Oi+1:(null===bi||ln(bi,xi)>0)&&(bi=xi)}return Fn(null!==bi?function(){qt.continue(bi+dr)}:En),!1}),Qr}function Pi(P,N,Pe,tt){return{type:2,lower:P,upper:N,lowerOpen:Pe,upperOpen:tt}}function os(P){return{type:1,lower:P,upper:P}}class es{get Collection(){return this._ctx.table.db.Collection}between(N,Pe,tt,xt){tt=!1!==tt,xt=!0===xt;try{return this._cmp(N,Pe)>0||0===this._cmp(N,Pe)&&(tt||xt)&&(!tt||!xt)?ki(this):new this.Collection(this,()=>Pi(N,Pe,!tt,!xt))}catch{return Xr(this,Ki)}}equals(N){return null==N?Xr(this,Ki):new this.Collection(this,()=>os(N))}above(N){return null==N?Xr(this,Ki):new this.Collection(this,()=>Pi(N,void 0,!0))}aboveOrEqual(N){return null==N?Xr(this,Ki):new this.Collection(this,()=>Pi(N,void 0,!1))}below(N){return null==N?Xr(this,Ki):new this.Collection(this,()=>Pi(void 0,N,!1,!0))}belowOrEqual(N){return null==N?Xr(this,Ki):new this.Collection(this,()=>Pi(void 0,N))}startsWith(N){return"string"!=typeof N?Xr(this,Qi):this.between(N,N+"\uffff",!0,!0)}startsWithIgnoreCase(N){return""===N?this.startsWith(N):po(this,(Pe,tt)=>0===Pe.indexOf(tt[0]),[N],"\uffff")}equalsIgnoreCase(N){return po(this,(Pe,tt)=>Pe===tt[0],[N],"")}anyOfIgnoreCase(){var N=De.apply(Oe,arguments);return 0===N.length?ki(this):po(this,(Pe,tt)=>-1!==tt.indexOf(Pe),N,"")}startsWithAnyOfIgnoreCase(){var N=De.apply(Oe,arguments);return 0===N.length?ki(this):po(this,(Pe,tt)=>tt.some(xt=>0===Pe.indexOf(xt)),N,"\uffff")}anyOf(){const N=De.apply(Oe,arguments);let Pe=this._cmp;try{N.sort(Pe)}catch{return Xr(this,Ki)}if(0===N.length)return ki(this);const tt=new this.Collection(this,()=>Pi(N[0],N[N.length-1]));tt._ondirectionchange=Wt=>{Pe="next"===Wt?this._ascending:this._descending,N.sort(Pe)};let xt=0;return tt._addAlgorithm((Wt,ln,Ln)=>{const $n=Wt.key;for(;Pe($n,N[xt])>0;)if(++xt,xt===N.length)return ln(Ln),!1;return 0===Pe($n,N[xt])||(ln(()=>{Wt.continue(N[xt])}),!1)}),tt}notEqual(N){return this.inAnyRange([[eo,N],[N,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const N=De.apply(Oe,arguments);if(0===N.length)return new this.Collection(this);try{N.sort(this._ascending)}catch{return Xr(this,Ki)}const Pe=N.reduce((tt,xt)=>tt?tt.concat([[tt[tt.length-1][1],xt]]):[[eo,xt]],null);return Pe.push([N[N.length-1],this.db._maxKey]),this.inAnyRange(Pe,{includeLowers:!1,includeUppers:!1})}inAnyRange(N,Pe){const tt=this._cmp,xt=this._ascending,Wt=this._descending,ln=this._min,Ln=this._max;if(0===N.length)return ki(this);if(!N.every(qn=>void 0!==qn[0]&&void 0!==qn[1]&&xt(qn[0],qn[1])<=0))return Xr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Z.InvalidArgument);const $n=!Pe||!1!==Pe.includeLowers,pr=Pe&&!0===Pe.includeUppers;let dr,Mr=xt;function yr(qn,jr){return Mr(qn[0],jr[0])}try{dr=N.reduce(function(qn,jr){let bi=0,Oi=qn.length;for(;bi<Oi;++bi){const xi=qn[bi];if(tt(jr[0],xi[1])<0&&tt(jr[1],xi[0])>0){xi[0]=ln(xi[0],jr[0]),xi[1]=Ln(xi[1],jr[1]);break}}return bi===Oi&&qn.push(jr),qn},[]),dr.sort(yr)}catch{return Xr(this,Ki)}let Qr=0;const Fi=pr?qn=>xt(qn,dr[Qr][1])>0:qn=>xt(qn,dr[Qr][1])>=0,qt=$n?qn=>Wt(qn,dr[Qr][0])>0:qn=>Wt(qn,dr[Qr][0])>=0;let Fn=Fi;const En=new this.Collection(this,()=>Pi(dr[0][0],dr[dr.length-1][1],!$n,!pr));return En._ondirectionchange=qn=>{"next"===qn?(Fn=Fi,Mr=xt):(Fn=qt,Mr=Wt),dr.sort(yr)},En._addAlgorithm((qn,jr,bi)=>{for(var Oi=qn.key;Fn(Oi);)if(++Qr,Qr===dr.length)return jr(bi),!1;return!((Fi(xi=Oi)||qt(xi))&&(0===this._cmp(Oi,dr[Qr][1])||0===this._cmp(Oi,dr[Qr][0])||jr(()=>{qn.continue(Mr===xt?dr[Qr][0]:dr[Qr][1])}),1));var xi}),En}startsWithAnyOf(){const N=De.apply(Oe,arguments);return N.every(Pe=>"string"==typeof Pe)?0===N.length?ki(this):this.inAnyRange(N.map(Pe=>[Pe,Pe+"\uffff"])):Xr(this,"startsWithAnyOf() only works with strings")}}function rs(P){return mi(function(N){return Fs(N),P(N.target.error),!1})}function Fs(P){P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault()}const Ro="storagemutated",Ms="x-storagemutated-1",gs=$r(null,Ro);class ha{_lock(){return W(!Qt.global),++this._reculock,1!==this._reculock||Qt.global||(Qt.lockOwnerFor=this),this}_unlock(){if(W(!Qt.global),0==--this._reculock)for(Qt.global||(Qt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var N=this._blockedFuncs.shift();try{pe(N[1],N[0])}catch{}}return this}_locked(){return this._reculock&&Qt.lockOwnerFor!==this}create(N){if(!this.mode)return this;const Pe=this.db.idbdb,tt=this.db._state.dbOpenError;if(W(!this.idbtrans),!N&&!Pe)switch(tt&&tt.name){case"DatabaseClosedError":throw new Z.DatabaseClosed(tt);case"MissingAPIError":throw new Z.MissingAPI(tt.message,tt);default:throw new Z.OpenFailed(tt)}if(!this.active)throw new Z.TransactionInactive;return W(null===this._completion._state),(N=this.idbtrans=N||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):Pe.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=mi(xt=>{Fs(xt),this._reject(N.error)}),N.onabort=mi(xt=>{Fs(xt),this.active&&this._reject(new Z.Abort(N.error)),this.active=!1,this.on("abort").fire(xt)}),N.oncomplete=mi(()=>{this.active=!1,this._resolve(),"mutatedParts"in N&&gs.storagemutated.fire(N.mutatedParts)}),this}_promise(N,Pe,tt){if("readwrite"===N&&"readwrite"!==this.mode)return ni(new Z.ReadOnly("Transaction is readonly"));if(!this.active)return ni(new Z.TransactionInactive);if(this._locked())return new Pn((Wt,ln)=>{this._blockedFuncs.push([()=>{this._promise(N,Pe,tt).then(Wt,ln)},Qt])});if(tt)return Po(()=>{var Wt=new Pn((ln,Ln)=>{this._lock();const $n=Pe(ln,Ln,this);$n&&$n.then&&$n.then(ln,Ln)});return Wt.finally(()=>this._unlock()),Wt._lib=!0,Wt});var xt=new Pn((Wt,ln)=>{var Ln=Pe(Wt,ln,this);Ln&&Ln.then&&Ln.then(Wt,ln)});return xt._lib=!0,xt}_root(){return this.parent?this.parent._root():this}waitFor(N){var Pe=this._root();const tt=Pn.resolve(N);if(Pe._waitingFor)Pe._waitingFor=Pe._waitingFor.then(()=>tt);else{Pe._waitingFor=tt,Pe._waitingQueue=[];var xt=Pe.idbtrans.objectStore(Pe.storeNames[0]);!function ln(){for(++Pe._spinCount;Pe._waitingQueue.length;)Pe._waitingQueue.shift()();Pe._waitingFor&&(xt.get(-1/0).onsuccess=ln)}()}var Wt=Pe._waitingFor;return new Pn((ln,Ln)=>{tt.then($n=>Pe._waitingQueue.push(mi(ln.bind(null,$n))),$n=>Pe._waitingQueue.push(mi(Ln.bind(null,$n)))).finally(()=>{Pe._waitingFor===Wt&&(Pe._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Z.Abort))}table(N){const Pe=this._memoizedTables||(this._memoizedTables={});if(U(Pe,N))return Pe[N];const tt=this.schema[N];if(!tt)throw new Z.NotFound("Table "+N+" not part of transaction");const xt=new this.db.Table(N,tt,this);return xt.core=this.db.core.table(N),Pe[N]=xt,xt}}function Es(P,N,Pe,tt,xt,Wt,ln){return{name:P,keyPath:N,unique:Pe,multi:tt,auto:xt,compound:Wt,src:(Pe&&!ln?"&":"")+(tt?"*":"")+(xt?"++":"")+Vo(N)}}function Vo(P){return"string"==typeof P?P:P?"["+[].join.call(P,"+")+"]":""}function Ls(P,N,Pe){return{name:P,primKey:N,indexes:Pe,mappedClass:null,idxByName:Q(Pe,tt=>[tt.name,tt])}}let _s=P=>{try{return P.only([[]]),_s=()=>[[]],[[]]}catch{return _s=()=>"\uffff","\uffff"}};function ea(P){return null==P?()=>{}:"string"==typeof P?1===(N=P).split(".").length?tt=>tt[N]:tt=>Ie(tt,N):N=>Ie(N,P);var N}function ds(P){return[].slice.call(P)}let Vn=0;function Wn(P){return null==P?":id":"string"==typeof P?P:`[${P.join("+")}]`}function er(P,N,Pe){function tt($n){if(3===$n.type)return null;if(4===$n.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:pr,upper:dr,lowerOpen:Mr,upperOpen:yr}=$n;return void 0===pr?void 0===dr?null:N.upperBound(dr,!!yr):void 0===dr?N.lowerBound(pr,!!Mr):N.bound(pr,dr,!!Mr,!!yr)}const{schema:xt,hasGetAll:Wt}=function($n,pr){const dr=ds($n.objectStoreNames);return{schema:{name:$n.name,tables:dr.map(Mr=>pr.objectStore(Mr)).map(Mr=>{const{keyPath:yr,autoIncrement:Qr}=Mr,Fi=g(yr),Fn={},En={name:Mr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==yr,compound:Fi,keyPath:yr,autoIncrement:Qr,unique:!0,extractKey:ea(yr)},indexes:ds(Mr.indexNames).map(qn=>Mr.index(qn)).map(qn=>{const{name:jr,unique:bi,multiEntry:Oi,keyPath:xi}=qn,Ei={name:jr,compound:g(xi),keyPath:xi,unique:bi,multiEntry:Oi,extractKey:ea(xi)};return Fn[Wn(xi)]=Ei,Ei}),getIndexByKeyPath:qn=>Fn[Wn(qn)]};return Fn[":id"]=En.primaryKey,null!=yr&&(Fn[Wn(yr)]=En.primaryKey),En})},hasGetAll:dr.length>0&&"getAll"in pr.objectStore(dr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(P,Pe),ln=xt.tables.map($n=>function(pr){const dr=pr.name;return{name:dr,schema:pr,mutate:function({trans:Mr,type:yr,keys:Qr,values:Fi,range:qt}){return new Promise((Fn,En)=>{Fn=mi(Fn);const qn=Mr.objectStore(dr),jr=null==qn.keyPath,bi="put"===yr||"add"===yr;if(!bi&&"delete"!==yr&&"deleteRange"!==yr)throw new Error("Invalid operation type: "+yr);const{length:Oi}=Qr||Fi||{length:1};if(Qr&&Fi&&Qr.length!==Fi.length)throw new Error("Given keys array must have same length as given values array.");if(0===Oi)return Fn({numFailures:0,failures:{},results:[],lastResult:void 0});let xi;const Ei=[],Ho=[];let ji=0;const No=ts=>{++ji,Fs(ts)};if("deleteRange"===yr){if(4===qt.type)return Fn({numFailures:ji,failures:Ho,results:[],lastResult:void 0});Ei.push(xi=3===qt.type?qn.clear():qn.delete(tt(qt)))}else{const[ts,Ts]=bi?jr?[Fi,Qr]:[Fi,null]:[Qr,null];if(bi)for(let Qo=0;Qo<Oi;++Qo)Ei.push(xi=Ts&&void 0!==Ts[Qo]?qn[yr](ts[Qo],Ts[Qo]):qn[yr](ts[Qo])),xi.onerror=No;else for(let Qo=0;Qo<Oi;++Qo)Ei.push(xi=qn[yr](ts[Qo])),xi.onerror=No}const mo=ts=>{const Ts=ts.target.result;Ei.forEach((Qo,Go)=>null!=Qo.error&&(Ho[Go]=Qo.error)),Fn({numFailures:ji,failures:Ho,results:"delete"===yr?Qr:Ei.map(Qo=>Qo.result),lastResult:Ts})};xi.onerror=ts=>{No(ts),mo(ts)},xi.onsuccess=mo})},getMany:({trans:Mr,keys:yr})=>new Promise((Qr,Fi)=>{Qr=mi(Qr);const qt=Mr.objectStore(dr),Fn=yr.length,En=new Array(Fn);let qn,jr=0,bi=0;const Oi=Ei=>{const Ho=Ei.target;En[Ho._pos]=Ho.result,++bi===jr&&Qr(En)},xi=rs(Fi);for(let Ei=0;Ei<Fn;++Ei)null!=yr[Ei]&&(qn=qt.get(yr[Ei]),qn._pos=Ei,qn.onsuccess=Oi,qn.onerror=xi,++jr);0===jr&&Qr(En)}),get:({trans:Mr,key:yr})=>new Promise((Qr,Fi)=>{Qr=mi(Qr);const qt=Mr.objectStore(dr).get(yr);qt.onsuccess=Fn=>Qr(Fn.target.result),qt.onerror=rs(Fi)}),query:function(Mr){return yr=>new Promise((Qr,Fi)=>{Qr=mi(Qr);const{trans:qt,values:Fn,limit:En,query:qn}=yr,jr=En===1/0?void 0:En,{index:bi,range:Oi}=qn,xi=qt.objectStore(dr),Ei=bi.isPrimaryKey?xi:xi.index(bi.name),Ho=tt(Oi);if(0===En)return Qr({result:[]});if(Mr){const ji=Fn?Ei.getAll(Ho,jr):Ei.getAllKeys(Ho,jr);ji.onsuccess=No=>Qr({result:No.target.result}),ji.onerror=rs(Fi)}else{let ji=0;const No=Fn||!("openKeyCursor"in Ei)?Ei.openCursor(Ho):Ei.openKeyCursor(Ho),mo=[];No.onsuccess=ts=>{const Ts=No.result;return Ts?(mo.push(Fn?Ts.value:Ts.primaryKey),++ji===En?Qr({result:mo}):void Ts.continue()):Qr({result:mo})},No.onerror=rs(Fi)}})}(Wt),openCursor:function({trans:Mr,values:yr,query:Qr,reverse:Fi,unique:qt}){return new Promise((Fn,En)=>{Fn=mi(Fn);const{index:qn,range:jr}=Qr,bi=Mr.objectStore(dr),Oi=qn.isPrimaryKey?bi:bi.index(qn.name),xi=Fi?qt?"prevunique":"prev":qt?"nextunique":"next",Ei=yr||!("openKeyCursor"in Oi)?Oi.openCursor(tt(jr),xi):Oi.openKeyCursor(tt(jr),xi);Ei.onerror=rs(En),Ei.onsuccess=mi(Ho=>{const ji=Ei.result;if(!ji)return void Fn(null);ji.___id=++Vn,ji.done=!1;const No=ji.continue.bind(ji);let mo=ji.continuePrimaryKey;mo&&(mo=mo.bind(ji));const ts=ji.advance.bind(ji),Ts=()=>{throw new Error("Cursor not stopped")};ji.trans=Mr,ji.stop=ji.continue=ji.continuePrimaryKey=ji.advance=()=>{throw new Error("Cursor not started")},ji.fail=mi(En),ji.next=function(){let Qo=1;return this.start(()=>Qo--?this.continue():this.stop()).then(()=>this)},ji.start=Qo=>{const Go=new Promise((Gs,oa)=>{Gs=mi(Gs),Ei.onerror=rs(oa),ji.fail=oa,ji.stop=Sa=>{ji.stop=ji.continue=ji.continuePrimaryKey=ji.advance=Ts,Gs(Sa)}}),Ea=()=>{if(Ei.result)try{Qo()}catch(Gs){ji.fail(Gs)}else ji.done=!0,ji.start=()=>{throw new Error("Cursor behind last entry")},ji.stop()};return Ei.onsuccess=mi(Gs=>{Ei.onsuccess=Ea,Ea()}),ji.continue=No,ji.continuePrimaryKey=mo,ji.advance=ts,Ea(),Go},Fn(ji)},En)})},count({query:Mr,trans:yr}){const{index:Qr,range:Fi}=Mr;return new Promise((qt,Fn)=>{const En=yr.objectStore(dr),qn=Qr.isPrimaryKey?En:En.index(Qr.name),jr=tt(Fi),bi=jr?qn.count(jr):qn.count();bi.onsuccess=mi(Oi=>qt(Oi.target.result)),bi.onerror=rs(Fn)})}}}($n)),Ln={};return ln.forEach($n=>Ln[$n.name]=$n),{stack:"dbcore",transaction:P.transaction.bind(P),table($n){if(!Ln[$n])throw new Error(`Table '${$n}' not found`);return Ln[$n]},MIN_KEY:-1/0,MAX_KEY:_s(N),schema:xt}}function gr({_novip:P},N){const tt=function(xt,Wt,{IDBKeyRange:ln},$n){return{dbcore:(dr=er(Wt,ln,$n),Mr=xt.dbcore,Mr.reduce((yr,{create:Qr})=>({...yr,...Qr(yr)}),dr))};var dr,Mr}(P._middlewares,N.db,P._deps,N);P.core=tt.dbcore,P.tables.forEach(xt=>{const Wt=xt.name;P.core.schema.tables.some(ln=>ln.name===Wt)&&(xt.core=P.core.table(Wt),P[Wt]instanceof P.Table&&(P[Wt].core=xt.core))})}function ai({_novip:P},N,Pe,tt){Pe.forEach(xt=>{const Wt=tt[xt];N.forEach(ln=>{const Ln=T(ln,xt);(!Ln||"value"in Ln&&void 0===Ln.value)&&(ln===P.Transaction.prototype||ln instanceof P.Transaction?z(ln,xt,{get(){return this.table(xt)},set($n){k(this,xt,{value:$n,writable:!0,configurable:!0,enumerable:!0})}}):ln[xt]=new P.Table(xt,Wt))})})}function Ti({_novip:P},N){N.forEach(Pe=>{for(let tt in Pe)Pe[tt]instanceof P.Table&&delete Pe[tt]})}function Zi(P,N){return P._cfg.version-N._cfg.version}function zi(P,N){const Pe={del:[],add:[],change:[]};let tt;for(tt in P)N[tt]||Pe.del.push(tt);for(tt in N){const xt=P[tt],Wt=N[tt];if(xt){const ln={name:tt,def:Wt,recreate:!1,del:[],add:[],change:[]};if(""+(xt.primKey.keyPath||"")!=""+(Wt.primKey.keyPath||"")||xt.primKey.auto!==Wt.primKey.auto&&!qi)ln.recreate=!0,Pe.change.push(ln);else{const Ln=xt.idxByName,$n=Wt.idxByName;let pr;for(pr in Ln)$n[pr]||ln.del.push(pr);for(pr in $n){const dr=Ln[pr],Mr=$n[pr];dr?dr.src!==Mr.src&&ln.change.push(Mr):ln.add.push(Mr)}(ln.del.length>0||ln.add.length>0||ln.change.length>0)&&Pe.change.push(ln)}}else Pe.add.push([tt,Wt])}return Pe}function Vt(P,N,Pe,tt){const xt=P.db.createObjectStore(N,Pe.keyPath?{keyPath:Pe.keyPath,autoIncrement:Pe.auto}:{autoIncrement:Pe.auto});return tt.forEach(Wt=>an(xt,Wt)),xt}function an(P,N){P.createIndex(N.name,N.keyPath,{unique:N.unique,multiEntry:N.multi})}function un(P,N,Pe){const tt={};return J(N.objectStoreNames,0).forEach(xt=>{const Wt=Pe.objectStore(xt);let ln=Wt.keyPath;const Ln=Es(Vo(ln),ln||"",!1,!1,!!Wt.autoIncrement,ln&&"string"!=typeof ln,!0),$n=[];for(let dr=0;dr<Wt.indexNames.length;++dr){const Mr=Wt.index(Wt.indexNames[dr]);ln=Mr.keyPath;var pr=Es(Mr.name,ln,!!Mr.unique,!!Mr.multiEntry,!1,ln&&"string"!=typeof ln,!1);$n.push(pr)}tt[xt]=Ls(xt,Ln,$n)}),tt}function ar({_novip:P},N,Pe){const tt=Pe.db.objectStoreNames;for(let xt=0;xt<tt.length;++xt){const Wt=tt[xt],ln=Pe.objectStore(Wt);P._hasGetAll="getAll"in ln;for(let Ln=0;Ln<ln.indexNames.length;++Ln){const $n=ln.indexNames[Ln],pr=ln.index($n).keyPath,dr="string"==typeof pr?pr:"["+J(pr).join("+")+"]";if(N[Wt]){const Mr=N[Wt].idxByName[dr];Mr&&(Mr.name=$n,delete N[Wt].idxByName[dr],N[Wt].idxByName[$n]=Mr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(P._hasGetAll=!1)}class Er{_parseStoresSpec(N,Pe){m(N).forEach(tt=>{if(null!==N[tt]){var xt=N[tt].split(",").map((ln,Ln)=>{const $n=(ln=ln.trim()).replace(/([&*]|\+\+)/g,""),pr=/^\[/.test($n)?$n.match(/^\[(.*)\]$/)[1].split("+"):$n;return Es($n,pr||null,/\&/.test(ln),/\*/.test(ln),/\+\+/.test(ln),g(pr),0===Ln)}),Wt=xt.shift();if(Wt.multi)throw new Z.Schema("Primary key cannot be multi-valued");xt.forEach(ln=>{if(ln.auto)throw new Z.Schema("Only primary key can be marked as autoIncrement (++)");if(!ln.keyPath)throw new Z.Schema("Index must have a name and cannot be an empty string")}),Pe[tt]=Ls(tt,Wt,xt)}})}stores(N){const Pe=this.db;this._cfg.storesSource=this._cfg.storesSource?C(this._cfg.storesSource,N):N;const xt={};let Wt={};return Pe._versions.forEach(ln=>{C(xt,ln._cfg.storesSource),Wt=ln._cfg.dbschema={},ln._parseStoresSpec(xt,Wt)}),Pe._dbSchema=Wt,Ti(Pe,[Pe._allTables,Pe,Pe.Transaction.prototype]),ai(Pe,[Pe._allTables,Pe,Pe.Transaction.prototype,this._cfg.tables],m(Wt),Wt),Pe._storeNames=m(Wt),this}upgrade(N){return this._cfg.contentUpgrade=Jt(this._cfg.contentUpgrade||x,N),this}}function rr(P,N){let Pe=P._dbNamesDB;return Pe||(Pe=P._dbNamesDB=new zn(Se,{addons:[],indexedDB:P,IDBKeyRange:N}),Pe.version(1).stores({dbnames:"name"})),Pe.table("dbnames")}function Rr(P){return P&&"function"==typeof P.databases}function Pr(P){return Po(function(){return Qt.letThrough=!0,P()})}function ii(){var P;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(N){var Pe=function(){return indexedDB.databases().finally(N)};P=setInterval(Pe,100),Pe()}).finally(function(){return clearInterval(P)}):Promise.resolve()}function Ni(P){var N=Wt=>P.next(Wt),Pe=xt(N),tt=xt(Wt=>P.throw(Wt));function xt(Wt){return ln=>{var Ln=Wt(ln),$n=Ln.value;return Ln.done?$n:$n&&"function"==typeof $n.then?$n.then(Pe,tt):g($n)?Promise.all($n).then(Pe,tt):Pe($n)}}return xt(N)()}function to(P,N,Pe){var tt=arguments.length;if(tt<2)throw new Z.InvalidArgument("Too few arguments");for(var xt=new Array(tt-1);--tt;)xt[tt-1]=arguments[tt];return Pe=xt.pop(),[P,$(xt),Pe]}function ho(P,N,Pe,tt,xt){return Pn.resolve().then(()=>{const Wt=Qt.transless||Qt,ln=P._createTransaction(N,Pe,P._dbSchema,tt),Ln={trans:ln,transless:Wt};if(tt)ln.idbtrans=tt.idbtrans;else try{ln.create(),P._state.PR1398_maxLoop=3}catch(Mr){return Mr.name===G.InvalidState&&P.isOpen()&&--P._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),P._close(),P.open().then(()=>ho(P,N,Pe,null,xt))):ni(Mr)}const $n=He(xt);let pr;$n&&nn();const dr=Pn.follow(()=>{if(pr=xt.call(ln,ln),pr)if($n){var Mr=xn.bind(null,null);pr.then(Mr,Mr)}else"function"==typeof pr.next&&"function"==typeof pr.throw&&(pr=Ni(pr))},Ln);return(pr&&"function"==typeof pr.then?Pn.resolve(pr).then(Mr=>ln.active?Mr:ni(new Z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):dr.then(()=>pr)).then(Mr=>(tt&&ln._resolve(),ln._completion.then(()=>Mr))).catch(Mr=>(ln._reject(Mr),ni(Mr)))})}function co(P,N,Pe){const tt=g(P)?P.slice():[P];for(let xt=0;xt<Pe;++xt)tt.push(N);return tt}const _o={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(P){return{...P,table(N){const Pe=P.table(N),{schema:tt}=Pe,xt={},Wt=[];function ln(dr,Mr,yr){const Qr=Wn(dr),Fi=xt[Qr]=xt[Qr]||[],qt=null==dr?0:"string"==typeof dr?1:dr.length,Fn=Mr>0,En={...yr,isVirtual:Fn,keyTail:Mr,keyLength:qt,extractKey:ea(dr),unique:!Fn&&yr.unique};return Fi.push(En),En.isPrimaryKey||Wt.push(En),qt>1&&ln(2===qt?dr[0]:dr.slice(0,qt-1),Mr+1,yr),Fi.sort((qn,jr)=>qn.keyTail-jr.keyTail),En}const Ln=ln(tt.primaryKey.keyPath,0,tt.primaryKey);xt[":id"]=[Ln];for(const dr of tt.indexes)ln(dr.keyPath,0,dr);function $n(dr){const Mr=dr.query.index;return Mr.isVirtual?{...dr,query:{index:Mr,range:(yr=dr.query.range,Qr=Mr.keyTail,{type:1===yr.type?2:yr.type,lower:co(yr.lower,yr.lowerOpen?P.MAX_KEY:P.MIN_KEY,Qr),lowerOpen:!0,upper:co(yr.upper,yr.upperOpen?P.MIN_KEY:P.MAX_KEY,Qr),upperOpen:!0})}}:dr;var yr,Qr}return{...Pe,schema:{...tt,primaryKey:Ln,indexes:Wt,getIndexByKeyPath:function(dr){const Mr=xt[Wn(dr)];return Mr&&Mr[0]}},count:dr=>Pe.count($n(dr)),query:dr=>Pe.query($n(dr)),openCursor(dr){const{keyTail:Mr,isVirtual:yr,keyLength:Qr}=dr.query.index;return yr?Pe.openCursor($n(dr)).then(Fi=>{return Fi&&(qt=Fi,Object.create(qt,{continue:{value:function(En){null!=En?qt.continue(co(En,dr.reverse?P.MAX_KEY:P.MIN_KEY,Mr)):dr.unique?qt.continue(qt.key.slice(0,Qr).concat(dr.reverse?P.MIN_KEY:P.MAX_KEY,Mr)):qt.continue()}},continuePrimaryKey:{value(En,qn){qt.continuePrimaryKey(co(En,P.MAX_KEY,Mr),qn)}},primaryKey:{get:()=>qt.primaryKey},key:{get(){const En=qt.key;return 1===Qr?En[0]:En.slice(0,Qr)}},value:{get:()=>qt.value}}));var qt}):Pe.openCursor(dr)}}}}}};function Oo(P,N,Pe,tt){return Pe=Pe||{},tt=tt||"",m(P).forEach(xt=>{if(U(N,xt)){var Wt=P[xt],ln=N[xt];if("object"==typeof Wt&&"object"==typeof ln&&Wt&&ln){const Ln=_t(Wt);Ln!==_t(ln)?Pe[tt+xt]=N[xt]:"Object"===Ln?Oo(Wt,ln,Pe,tt+xt+"."):Wt!==ln&&(Pe[tt+xt]=N[xt])}else Wt!==ln&&(Pe[tt+xt]=N[xt])}else Pe[tt+xt]=void 0}),m(N).forEach(xt=>{U(P,xt)||(Pe[tt+xt]=N[xt])}),Pe}const vo={stack:"dbcore",name:"HooksMiddleware",level:2,create:P=>({...P,table(N){const Pe=P.table(N),{primaryKey:tt}=Pe.schema;return{...Pe,mutate(Wt){const ln=Qt.trans,{deleting:Ln,creating:$n,updating:pr}=ln.table(N).hook;switch(Wt.type){case"add":if($n.fire===x)break;return ln._promise("readwrite",()=>dr(Wt),!0);case"put":if($n.fire===x&&pr.fire===x)break;return ln._promise("readwrite",()=>dr(Wt),!0);case"delete":if(Ln.fire===x)break;return ln._promise("readwrite",()=>dr(Wt),!0);case"deleteRange":if(Ln.fire===x)break;return ln._promise("readwrite",()=>{return Mr((yr=Wt).trans,yr.range,1e4);var yr},!0)}return Pe.mutate(Wt);function dr(yr){const Qr=Qt.trans,Fi=yr.keys||("delete"===(Fn=yr).type?Fn.keys:Fn.keys||Fn.values.map(tt.extractKey));var Fn;if(!Fi)throw new Error("Keys missing");return"delete"!==(yr="add"===yr.type||"put"===yr.type?{...yr,keys:Fi}:{...yr}).type&&(yr.values=[...yr.values]),yr.keys&&(yr.keys=[...yr.keys]),function(qt,Fn,En){return"add"===Fn.type?Promise.resolve([]):qt.getMany({trans:Fn.trans,keys:En,cache:"immutable"})}(Pe,yr,Fi).then(qt=>{const Fn=Fi.map((En,qn)=>{const jr=qt[qn],bi={onerror:null,onsuccess:null};if("delete"===yr.type)Ln.fire.call(bi,En,jr,Qr);else if("add"===yr.type||void 0===jr){const Oi=$n.fire.call(bi,En,yr.values[qn],Qr);null==En&&null!=Oi&&(yr.keys[qn]=En=Oi,tt.outbound||ae(yr.values[qn],tt.keyPath,En))}else{const Oi=Oo(jr,yr.values[qn]),xi=pr.fire.call(bi,Oi,En,jr,Qr);if(xi){const Ei=yr.values[qn];Object.keys(xi).forEach(Ho=>{U(Ei,Ho)?Ei[Ho]=xi[Ho]:ae(Ei,Ho,xi[Ho])})}}return bi});return Pe.mutate(yr).then(({failures:En,results:qn,numFailures:jr,lastResult:bi})=>{for(let Oi=0;Oi<Fi.length;++Oi){const xi=qn?qn[Oi]:Fi[Oi],Ei=Fn[Oi];null==xi?Ei.onerror&&Ei.onerror(En[Oi]):Ei.onsuccess&&Ei.onsuccess("put"===yr.type&&qt[Oi]?yr.values[Oi]:xi)}return{failures:En,results:qn,numFailures:jr,lastResult:bi}}).catch(En=>(Fn.forEach(qn=>qn.onerror&&qn.onerror(En)),Promise.reject(En)))})}function Mr(yr,Qr,Fi){return Pe.query({trans:yr,values:!1,query:{index:tt,range:Qr},limit:Fi}).then(({result:qt})=>dr({type:"delete",keys:qt,trans:yr}).then(Fn=>Fn.numFailures>0?Promise.reject(Fn.failures[0]):qt.length<Fi?{failures:[],numFailures:0,lastResult:void 0}:Mr(yr,{...Qr,lower:qt[qt.length-1],lowerOpen:!0},Fi)))}}}}})};function Yo(P,N,Pe){try{if(!N||N.keys.length<P.length)return null;const tt=[];for(let xt=0,Wt=0;xt<N.keys.length&&Wt<P.length;++xt)0===Xo(N.keys[xt],P[Wt])&&(tt.push(Pe?Ve(N.values[xt]):N.values[xt]),++Wt);return tt.length===P.length?tt:null}catch{return null}}const Je={stack:"dbcore",level:-1,create:P=>({table:N=>{const Pe=P.table(N);return{...Pe,getMany:tt=>{if(!tt.cache)return Pe.getMany(tt);const xt=Yo(tt.keys,tt.trans._cache,"clone"===tt.cache);return xt?Pn.resolve(xt):Pe.getMany(tt).then(Wt=>(tt.trans._cache={keys:tt.keys,values:"clone"===tt.cache?Ve(Wt):Wt},Wt))},mutate:tt=>("add"!==tt.type&&(tt.trans._cache=null),Pe.mutate(tt))}}})};function Kt(P){return!("from"in P)}const Ke=function(P,N){if(!this){const Pe=new Ke;return P&&"d"in P&&C(Pe,P),Pe}C(this,arguments.length?{d:1,from:P,to:arguments.length>1?N:P}:{d:0})};function L(P,N,Pe){const tt=Xo(N,Pe);if(isNaN(tt))return;if(tt>0)throw RangeError();if(Kt(P))return C(P,{from:N,to:Pe,d:1});const xt=P.l,Wt=P.r;if(Xo(Pe,P.from)<0)return xt?L(xt,N,Pe):P.l={from:N,to:Pe,d:1,l:null,r:null},X(P);if(Xo(N,P.to)>0)return Wt?L(Wt,N,Pe):P.r={from:N,to:Pe,d:1,l:null,r:null},X(P);Xo(N,P.from)<0&&(P.from=N,P.l=null,P.d=Wt?Wt.d+1:1),Xo(Pe,P.to)>0&&(P.to=Pe,P.r=null,P.d=P.l?P.l.d+1:1);const ln=!P.r;xt&&!P.l&&de(P,xt),Wt&&ln&&de(P,Wt)}function de(P,N){Kt(N)||function Pe(tt,{from:xt,to:Wt,l:ln,r:Ln}){L(tt,xt,Wt),ln&&Pe(tt,ln),Ln&&Pe(tt,Ln)}(P,N)}function ie(P){let N=Kt(P)?null:{s:0,n:P};return{next(Pe){const tt=arguments.length>0;for(;N;)switch(N.s){case 0:if(N.s=1,tt)for(;N.n.l&&Xo(Pe,N.n.from)<0;)N={up:N,n:N.n.l,s:1};else for(;N.n.l;)N={up:N,n:N.n.l,s:1};case 1:if(N.s=2,!tt||Xo(Pe,N.n.to)<=0)return{value:N.n,done:!1};case 2:if(N.n.r){N.s=3,N={up:N,n:N.n.r,s:0};continue}case 3:N=N.up}return{done:!0}}}}function X(P){var N,Pe;const tt=((null===(N=P.r)||void 0===N?void 0:N.d)||0)-((null===(Pe=P.l)||void 0===Pe?void 0:Pe.d)||0),xt=tt>1?"r":tt<-1?"l":"";if(xt){const Wt="r"===xt?"l":"r",ln={...P},Ln=P[xt];P.from=Ln.from,P.to=Ln.to,P[xt]=Ln[xt],ln[xt]=Ln[Wt],P[Wt]=ln,ln.d=Ye(ln)}P.d=Ye(P)}function Ye({r:P,l:N}){return(P?N?Math.max(P.d,N.d):P.d:N?N.d:0)+1}F(Ke.prototype,{add(P){return de(this,P),this},addKey(P){return L(this,P,P),this},addKeys(P){return P.forEach(N=>L(this,N,N)),this},[zt](){return ie(this)}});const Pt={stack:"dbcore",level:0,create:P=>{const N=P.schema.name,Pe=new Ke(P.MIN_KEY,P.MAX_KEY);return{...P,table:tt=>{const xt=P.table(tt),{schema:Wt}=xt,{primaryKey:ln}=Wt,{extractKey:Ln,outbound:$n}=ln,pr={...xt,mutate:yr=>{const Qr=yr.trans,Fi=Qr.mutatedParts||(Qr.mutatedParts={}),qt=xi=>{const Ei=`idb://${N}/${tt}/${xi}`;return Fi[Ei]||(Fi[Ei]=new Ke)},Fn=qt(""),En=qt(":dels"),{type:qn}=yr;let[jr,bi]="deleteRange"===yr.type?[yr.range]:"delete"===yr.type?[yr.keys]:yr.values.length<50?[[],yr.values]:[];const Oi=yr.trans._cache;return xt.mutate(yr).then(xi=>{if(g(jr)){"delete"!==qn&&(jr=xi.results),Fn.addKeys(jr);const Ei=Yo(jr,Oi);Ei||"add"===qn||En.addKeys(jr),(Ei||bi)&&(Ho=qt,No=Ei,mo=bi,Wt.indexes.forEach(function ts(Ts){const Qo=Ho(Ts.name||"");function Go(Gs){return null!=Gs?Ts.extractKey(Gs):null}const Ea=Gs=>Ts.multiEntry&&g(Gs)?Gs.forEach(oa=>Qo.addKey(oa)):Qo.addKey(Gs);(No||mo).forEach((Gs,oa)=>{const Sa=No&&Go(No[oa]),Ja=mo&&Go(mo[oa]);0!==Xo(Sa,Ja)&&(null!=Sa&&Ea(Sa),null!=Ja&&Ea(Ja))})}))}else if(jr){const Ei={from:jr.lower,to:jr.upper};En.add(Ei),Fn.add(Ei)}else Fn.add(Pe),En.add(Pe),Wt.indexes.forEach(Ei=>qt(Ei.name).add(Pe));var Ho,No,mo;return xi})}},dr=({query:{index:yr,range:Qr}})=>{var Fi,qt;return[yr,new Ke(null!==(Fi=Qr.lower)&&void 0!==Fi?Fi:P.MIN_KEY,null!==(qt=Qr.upper)&&void 0!==qt?qt:P.MAX_KEY)]},Mr={get:yr=>[ln,new Ke(yr.key)],getMany:yr=>[ln,(new Ke).addKeys(yr.keys)],count:dr,query:dr,openCursor:dr};return m(Mr).forEach(yr=>{pr[yr]=function(Qr){const{subscr:Fi}=Qt;if(Fi){const qt=bi=>{const Oi=`idb://${N}/${tt}/${bi}`;return Fi[Oi]||(Fi[Oi]=new Ke)},Fn=qt(""),En=qt(":dels"),[qn,jr]=Mr[yr](Qr);if(qt(qn.name||"").add(jr),!qn.isPrimaryKey){if("count"!==yr){const bi="query"===yr&&$n&&Qr.values&&xt.query({...Qr,values:!1});return xt[yr].apply(this,arguments).then(Oi=>{if("query"===yr){if($n&&Qr.values)return bi.then(({result:Ei})=>(Fn.addKeys(Ei),Oi));const xi=Qr.values?Oi.result.map(Ln):Oi.result;Qr.values?Fn.addKeys(xi):En.addKeys(xi)}else if("openCursor"===yr){const xi=Oi,Ei=Qr.values;return xi&&Object.create(xi,{key:{get:()=>(En.addKey(xi.primaryKey),xi.key)},primaryKey:{get(){const Ho=xi.primaryKey;return En.addKey(Ho),Ho}},value:{get:()=>(Ei&&Fn.addKey(xi.primaryKey),xi.value)}})}return Oi})}En.add(Pe)}}return xt[yr].apply(this,arguments)}}),pr}}}};class zn{constructor(N,Pe){this._middlewares={},this.verno=0;const tt=zn.dependencies;this._options=Pe={addons:zn.addons,autoOpen:!0,indexedDB:tt.indexedDB,IDBKeyRange:tt.IDBKeyRange,...Pe},this._deps={indexedDB:Pe.indexedDB,IDBKeyRange:Pe.IDBKeyRange};const{addons:xt}=Pe;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const Wt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:x,dbReadyPromise:null,cancelOpen:x,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var ln,Ln;Wt.dbReadyPromise=new Pn(Ln=>{Wt.dbReadyResolve=Ln}),Wt.openCanceller=new Pn((Ln,$n)=>{Wt.cancelOpen=$n}),this._state=Wt,this.name=N,this.on=$r(this,"populate","blocked","versionchange","close",{ready:[Jt,x]}),this.on.ready.subscribe=ce(this.on.ready.subscribe,Ln=>($n,pr)=>{zn.vip(()=>{const dr=this._state;if(dr.openComplete)dr.dbOpenError||Pn.resolve().then($n),pr&&Ln($n);else if(dr.onReadyBeingFired)dr.onReadyBeingFired.push($n),pr&&Ln($n);else{Ln($n);const Mr=this;pr||Ln(function yr(){Mr.on.ready.unsubscribe($n),Mr.on.ready.unsubscribe(yr)})}})}),this.Collection=(ln=this,Hi(Hn.prototype,function(Ln,$n){this.db=ln;let pr=tr,dr=null;if($n)try{pr=$n()}catch(Fi){dr=Fi}const Mr=Ln._ctx,yr=Mr.table,Qr=yr.hook.reading.fire;this._ctx={table:yr,index:Mr.index,isPrimKey:!Mr.index||yr.schema.primKey.keyPath&&Mr.index===yr.schema.primKey.name,range:pr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:dr,or:Mr.or,valueMapper:Qr!==ye?Qr:null}})),this.Table=(Ln=this,Hi(Ii.prototype,function($n,pr,dr){this.db=Ln,this._tx=dr,this.name=$n,this.schema=pr,this.hook=Ln._allTables[$n]?Ln._allTables[$n].hook:$r(null,{creating:[Ee,x],reading:[Te,ye],updating:[at,x],deleting:[nt,x]})})),this.Transaction=function(Ln){return Hi(ha.prototype,function($n,pr,dr,Mr,yr){this.db=Ln,this.mode=$n,this.storeNames=pr,this.schema=dr,this.chromeTransactionDurability=Mr,this.idbtrans=null,this.on=$r(this,"complete","error","abort"),this.parent=yr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pn((Qr,Fi)=>{this._resolve=Qr,this._reject=Fi}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},Qr=>{var Fi=this.active;return this.active=!1,this.on.error.fire(Qr),this.parent?this.parent._reject(Qr):Fi&&this.idbtrans&&this.idbtrans.abort(),ni(Qr)})})}(this),this.Version=function(Ln){return Hi(Er.prototype,function($n){this.db=Ln,this._cfg={version:$n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(Ln){return Hi(es.prototype,function($n,pr,dr){this.db=Ln,this._ctx={table:$n,index:":id"===pr?null:pr,or:dr};const Mr=Ln._deps.indexedDB;if(!Mr)throw new Z.MissingAPI;this._cmp=this._ascending=Mr.cmp.bind(Mr),this._descending=(yr,Qr)=>Mr.cmp(Qr,yr),this._max=(yr,Qr)=>Mr.cmp(yr,Qr)>0?yr:Qr,this._min=(yr,Qr)=>Mr.cmp(yr,Qr)<0?yr:Qr,this._IDBKeyRange=Ln._deps.IDBKeyRange})}(this),this.on("versionchange",Ln=>{Ln.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",Ln=>{!Ln.newVersion||Ln.newVersion<Ln.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${Ln.oldVersion/10}`)}),this._maxKey=_s(Pe.IDBKeyRange),this._createTransaction=(Ln,$n,pr,dr)=>new this.Transaction(Ln,$n,pr,this._options.chromeTransactionDurability,dr),this._fireOnBlocked=Ln=>{this.on("blocked").fire(Ln),Yi.filter($n=>$n.name===this.name&&$n!==this&&!$n._state.vcFired).map($n=>$n.on("versionchange").fire(Ln))},this.use(_o),this.use(vo),this.use(Pt),this.use(Je),this.vip=Object.create(this,{_vip:{value:!0}}),xt.forEach(Ln=>Ln(this))}version(N){if(isNaN(N)||N<.1)throw new Z.Type("Given version is not a positive number");if(N=Math.round(10*N)/10,this.idbdb||this._state.isBeingOpened)throw new Z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,N);const Pe=this._versions;var tt=Pe.filter(xt=>xt._cfg.version===N)[0];return tt||(tt=new this.Version(N),Pe.push(tt),Pe.sort(Zi),tt.stores({}),this._state.autoSchema=!1,tt)}_whenReady(N){return this.idbdb&&(this._state.openComplete||Qt.letThrough||this._vip)?N():new Pn((Pe,tt)=>{if(this._state.openComplete)return tt(new Z.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void tt(new Z.DatabaseClosed);this.open().catch(x)}this._state.dbReadyPromise.then(Pe,tt)}).then(N)}use({stack:N,create:Pe,level:tt,name:xt}){xt&&this.unuse({stack:N,name:xt});const Wt=this._middlewares[N]||(this._middlewares[N]=[]);return Wt.push({stack:N,create:Pe,level:tt??10,name:xt}),Wt.sort((ln,Ln)=>ln.level-Ln.level),this}unuse({stack:N,name:Pe,create:tt}){return N&&this._middlewares[N]&&(this._middlewares[N]=this._middlewares[N].filter(xt=>tt?xt.create!==tt:!!Pe&&xt.name!==Pe)),this}open(){return function zr(P){const N=P._state,{indexedDB:Pe}=P._deps;if(N.isBeingOpened||P.idbdb)return N.dbReadyPromise.then(()=>N.dbOpenError?ni(N.dbOpenError):P);We&&(N.openCanceller._stackHolder=kt()),N.isBeingOpened=!0,N.dbOpenError=null,N.openComplete=!1;const tt=N.openCanceller;function xt(){if(N.openCanceller!==tt)throw new Z.DatabaseClosed("db.open() was cancelled")}let Wt=N.dbReadyResolve,ln=null,Ln=!1;const $n=()=>new Pn((pr,dr)=>{if(xt(),!Pe)throw new Z.MissingAPI;const Mr=P.name,yr=N.autoSchema?Pe.open(Mr):Pe.open(Mr,Math.round(10*P.verno));if(!yr)throw new Z.MissingAPI;yr.onerror=rs(dr),yr.onblocked=mi(P._fireOnBlocked),yr.onupgradeneeded=mi(Qr=>{if(ln=yr.transaction,N.autoSchema&&!P._options.allowEmptyDB){yr.onerror=Fs,ln.abort(),yr.result.close();const qt=Pe.deleteDatabase(Mr);qt.onsuccess=qt.onerror=mi(()=>{dr(new Z.NoSuchDatabase(`Database ${Mr} doesnt exist`))})}else{ln.onerror=rs(dr);var Fi=Qr.oldVersion>Math.pow(2,62)?0:Qr.oldVersion;Ln=Fi<1,P._novip.idbdb=yr.result,function go(P,N,Pe,tt){const xt=P._dbSchema,Wt=P._createTransaction("readwrite",P._storeNames,xt);Wt.create(Pe),Wt._completion.catch(tt);const ln=Wt._reject.bind(Wt),Ln=Qt.transless||Qt;Po(()=>{Qt.trans=Wt,Qt.transless=Ln,0===N?(m(xt).forEach($n=>{Vt(Pe,$n,xt[$n].primKey,xt[$n].indexes)}),gr(P,Pe),Pn.follow(()=>P.on.populate.fire(Wt)).catch(ln)):function({_novip:$n},pr,dr,Mr){const yr=[],Qr=$n._versions;let Fi=$n._dbSchema=un(0,$n.idbdb,Mr),qt=!1;return Qr.filter(qn=>qn._cfg.version>=pr).forEach(qn=>{yr.push(()=>{const jr=Fi,bi=qn._cfg.dbschema;ar($n,jr,Mr),ar($n,bi,Mr),Fi=$n._dbSchema=bi;const Oi=zi(jr,bi);Oi.add.forEach(Ei=>{Vt(Mr,Ei[0],Ei[1].primKey,Ei[1].indexes)}),Oi.change.forEach(Ei=>{if(Ei.recreate)throw new Z.Upgrade("Not yet support for changing primary key");{const Ho=Mr.objectStore(Ei.name);Ei.add.forEach(ji=>an(Ho,ji)),Ei.change.forEach(ji=>{Ho.deleteIndex(ji.name),an(Ho,ji)}),Ei.del.forEach(ji=>Ho.deleteIndex(ji))}});const xi=qn._cfg.contentUpgrade;if(xi&&qn._cfg.version>pr){gr($n,Mr),dr._memoizedTables={},qt=!0;let Ei=Me(bi);Oi.del.forEach(mo=>{Ei[mo]=jr[mo]}),Ti($n,[$n.Transaction.prototype]),ai($n,[$n.Transaction.prototype],m(Ei),Ei),dr.schema=Ei;const Ho=He(xi);let ji;Ho&&nn();const No=Pn.follow(()=>{if(ji=xi(dr),ji&&Ho){var mo=xn.bind(null,null);ji.then(mo,mo)}});return ji&&"function"==typeof ji.then?Pn.resolve(ji):No.then(()=>ji)}}),yr.push(jr=>{var bi,Oi;(!qt||!bo)&&(bi=qn._cfg.dbschema,[].slice.call((Oi=jr).db.objectStoreNames).forEach(xi=>null==bi[xi]&&Oi.db.deleteObjectStore(xi))),Ti($n,[$n.Transaction.prototype]),ai($n,[$n.Transaction.prototype],$n._storeNames,$n._dbSchema),dr.schema=$n._dbSchema})}),function En(){return yr.length?Pn.resolve(yr.shift()(dr.idbtrans)).then(En):Pn.resolve()}().then(()=>{var qn,jr;jr=Mr,m(qn=Fi).forEach(bi=>{jr.db.objectStoreNames.contains(bi)||Vt(jr,bi,qn[bi].primKey,qn[bi].indexes)})})}(P,N,Wt,Pe).catch(ln)})}(P,Fi/10,ln,dr)}},dr),yr.onsuccess=mi(()=>{ln=null;const Qr=P._novip.idbdb=yr.result,Fi=J(Qr.objectStoreNames);if(Fi.length>0)try{const Fn=Qr.transaction(1===(qt=Fi).length?qt[0]:qt,"readonly");N.autoSchema?function({_novip:En},qn,jr){En.verno=qn.version/10;const bi=En._dbSchema=un(0,qn,jr);En._storeNames=J(qn.objectStoreNames,0),ai(En,[En._allTables],m(bi),bi)}(P,Qr,Fn):(ar(P,P._dbSchema,Fn),function(En,qn){const jr=zi(un(0,En.idbdb,qn),En._dbSchema);return!(jr.add.length||jr.change.some(bi=>bi.add.length||bi.change.length))}(P,Fn)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),gr(P,Fn)}catch{}var qt;Yi.push(P),Qr.onversionchange=mi(Fn=>{N.vcFired=!0,P.on("versionchange").fire(Fn)}),Qr.onclose=mi(Fn=>{P.on("close").fire(Fn)}),Ln&&function({indexedDB:Fn,IDBKeyRange:En},qn){!Rr(Fn)&&qn!==Se&&rr(Fn,En).put({name:qn}).catch(x)}(P._deps,Mr),pr()},dr)}).catch(pr=>pr&&"UnknownError"===pr.name&&N.PR1398_maxLoop>0?(N.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),$n()):Pn.reject(pr));return Pn.race([tt,(typeof navigator>"u"?Pn.resolve():ii()).then($n)]).then(()=>(xt(),N.onReadyBeingFired=[],Pn.resolve(Pr(()=>P.on.ready.fire(P.vip))).then(function pr(){if(N.onReadyBeingFired.length>0){let dr=N.onReadyBeingFired.reduce(Jt,x);return N.onReadyBeingFired=[],Pn.resolve(Pr(()=>dr(P.vip))).then(pr)}}))).finally(()=>{N.onReadyBeingFired=null,N.isBeingOpened=!1}).then(()=>P).catch(pr=>{N.dbOpenError=pr;try{ln&&ln.abort()}catch{}return tt===N.openCanceller&&P._close(),ni(pr)}).finally(()=>{N.openComplete=!0,Wt()})}(this)}_close(){const N=this._state,Pe=Yi.indexOf(this);if(Pe>=0&&Yi.splice(Pe,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}N.dbReadyPromise=new Pn(tt=>{N.dbReadyResolve=tt}),N.openCanceller=new Pn((tt,xt)=>{N.cancelOpen=xt})}close(){this._close();const N=this._state;this._options.autoOpen=!1,N.dbOpenError=new Z.DatabaseClosed,N.isBeingOpened&&N.cancelOpen(N.dbOpenError)}delete(){const N=arguments.length>0,Pe=this._state;return new Pn((tt,xt)=>{const Wt=()=>{this.close();var ln=this._deps.indexedDB.deleteDatabase(this.name);ln.onsuccess=mi(()=>{(function({indexedDB:Ln,IDBKeyRange:$n},pr){!Rr(Ln)&&pr!==Se&&rr(Ln,$n).delete(pr).catch(x)})(this._deps,this.name),tt()}),ln.onerror=rs(xt),ln.onblocked=this._fireOnBlocked};if(N)throw new Z.InvalidArgument("Arguments not allowed in db.delete()");Pe.isBeingOpened?Pe.dbReadyPromise.then(Wt):Wt()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const N=this._state.dbOpenError;return N&&"DatabaseClosed"===N.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return m(this._allTables).map(N=>this._allTables[N])}transaction(){const N=to.apply(this,arguments);return this._transaction.apply(this,N)}_transaction(N,Pe,tt){let xt=Qt.trans;xt&&xt.db===this&&-1===N.indexOf("!")||(xt=null);const Wt=-1!==N.indexOf("?");let ln,Ln;N=N.replace("!","").replace("?","");try{if(Ln=Pe.map(pr=>{var dr=pr instanceof this.Table?pr.name:pr;if("string"!=typeof dr)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return dr}),"r"==N||N===vt)ln=vt;else{if("rw"!=N&&N!=Xt)throw new Z.InvalidArgument("Invalid transaction mode: "+N);ln=Xt}if(xt){if(xt.mode===vt&&ln===Xt){if(!Wt)throw new Z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");xt=null}xt&&Ln.forEach(pr=>{if(xt&&-1===xt.storeNames.indexOf(pr)){if(!Wt)throw new Z.SubTransaction("Table "+pr+" not included in parent transaction.");xt=null}}),Wt&&xt&&!xt.active&&(xt=null)}}catch(pr){return xt?xt._promise(null,(dr,Mr)=>{Mr(pr)}):ni(pr)}const $n=ho.bind(null,this,ln,Ln,xt,tt);return xt?xt._promise(ln,$n,"lock"):Qt.trans?pe(Qt.transless,()=>this._whenReady($n)):this._whenReady($n)}table(N){if(!U(this._allTables,N))throw new Z.InvalidTable(`Table ${N} does not exist`);return this._allTables[N]}}const hr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Li{constructor(N){this._subscribe=N}subscribe(N,Pe,tt){return this._subscribe(N&&"function"!=typeof N?N:{next:N,error:Pe,complete:tt})}[hr](){return this}}function $i(P,N){return m(N).forEach(Pe=>{de(P[Pe]||(P[Pe]=new Ke),N[Pe])}),P}let Gr;try{Gr={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{Gr={indexedDB:null,IDBKeyRange:null}}const et=zn;function rn(P){let N=It;try{It=!0,gs.storagemutated.fire(P)}finally{It=N}}F(et,{...V,delete:P=>new et(P,{addons:[]}).delete(),exists:P=>new et(P,{addons:[]}).open().then(N=>(N.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(P){try{return function({indexedDB:N,IDBKeyRange:Pe}){return Rr(N)?Promise.resolve(N.databases()).then(tt=>tt.map(xt=>xt.name).filter(xt=>xt!==Se)):rr(N,Pe).toCollection().primaryKeys()}(et.dependencies).then(P)}catch{return ni(new Z.MissingAPI)}},defineClass:()=>function(P){C(this,P)},ignoreTransaction:P=>Qt.trans?pe(Qt.transless,P):P(),vip:Pr,async:function(P){return function(){try{var N=Ni(P.apply(this,arguments));return N&&"function"==typeof N.then?N:Pn.resolve(N)}catch(Pe){return ni(Pe)}}},spawn:function(P,N,Pe){try{var tt=Ni(P.apply(Pe,N||[]));return tt&&"function"==typeof tt.then?tt:Pn.resolve(tt)}catch(xt){return ni(xt)}},currentTransaction:{get:()=>Qt.trans||null},waitFor:function(P,N){const Pe=Pn.resolve("function"==typeof P?et.ignoreTransaction(P):P).timeout(N||6e4);return Qt.trans?Qt.trans.waitFor(Pe):Pe},Promise:Pn,debug:{get:()=>We,set:P=>{st(P,"dexie"===P?()=>!0:Gt)}},derive:B,extend:C,props:F,override:ce,Events:$r,on:gs,liveQuery:function hi(P){let N,Pe=!1;const tt=new Li(xt=>{const Wt=He(P);let ln=!1,Ln={},$n={};const pr={get closed(){return ln},unsubscribe:()=>{ln=!0,gs.storagemutated.unsubscribe(Qr)}};xt.start&&xt.start(pr);let dr=!1,Mr=!1;function yr(){return m($n).some(qt=>Ln[qt]&&function O(P,N){const Pe=ie(N);let tt=Pe.next();if(tt.done)return!1;let xt=tt.value;const Wt=ie(P);let ln=Wt.next(xt.from),Ln=ln.value;for(;!tt.done&&!ln.done;){if(Xo(Ln.from,xt.to)<=0&&Xo(Ln.to,xt.from)>=0)return!0;Xo(xt.from,Ln.from)<0?xt=(tt=Pe.next(Ln.from)).value:Ln=(ln=Wt.next(xt.from)).value}return!1}(Ln[qt],$n[qt]))}const Qr=qt=>{$i(Ln,qt),yr()&&Fi()},Fi=()=>{if(dr||ln)return;Ln={};const qt={},Fn=function(En){Wt&&nn();const qn=()=>Po(P,{subscr:En,trans:null}),jr=Qt.trans?pe(Qt.transless,qn):qn();return Wt&&jr.then(xn,xn),jr}(qt);Mr||(gs(Ro,Qr),Mr=!0),dr=!0,Promise.resolve(Fn).then(En=>{Pe=!0,N=En,dr=!1,ln||(yr()?Fi():(Ln={},$n=qt,xt.next&&xt.next(En)))},En=>{dr=!1,Pe=!1,xt.error&&xt.error(En),pr.unsubscribe()})};return Fi(),pr});return tt.hasValue=()=>Pe,tt.getValue=()=>N,tt},extendObservabilitySet:$i,getByKeyPath:Ie,setByKeyPath:ae,delByKeyPath:function(P,N){"string"==typeof N?ae(P,N,void 0):"length"in N&&[].map.call(N,function(Pe){ae(P,Pe,void 0)})},shallowClone:Me,deepClone:Ve,getObjectDiff:Oo,cmp:Xo,asap:se,minKey:eo,addons:[],connections:Yi,errnames:G,dependencies:Gr,semVer:"3.2.7",version:"3.2.7".split(".").map(P=>parseInt(P)).reduce((P,N,Pe)=>P+N/Math.pow(10,2*Pe))}),et.maxKey=_s(et.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(gs(Ro,P=>{if(!It){let N;qi?(N=document.createEvent("CustomEvent"),N.initCustomEvent(Ms,!0,!0,P)):N=new CustomEvent(Ms,{detail:P}),It=!0,dispatchEvent(N),It=!1}}),addEventListener(Ms,({detail:P})=>{It||rn(P)}));let It=!1;if(typeof BroadcastChannel<"u"){const P=new BroadcastChannel(Ms);"function"==typeof P.unref&&P.unref(),gs(Ro,N=>{It||P.postMessage(N)}),P.onmessage=N=>{N.data&&rn(N.data)}}else if(typeof self<"u"&&typeof navigator<"u"){gs(Ro,N=>{try{It||(typeof localStorage<"u"&&localStorage.setItem(Ms,JSON.stringify({trig:Math.random(),changedParts:N})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(Pe=>Pe.postMessage({type:Ms,changedParts:N})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",N=>{if(N.key===Ms){const Pe=JSON.parse(N.newValue);Pe&&rn(Pe.changedParts)}});const P=self.document&&navigator.serviceWorker;P&&P.addEventListener("message",function({data:N}){N&&N.type===Ms&&rn(N.changedParts)})}Pn.rejectionMapper=function(P,N){if(!P||P instanceof te||P instanceof TypeError||P instanceof SyntaxError||!P.name||!f[P.name])return P;var Pe=new f[P.name](N||P.message,P);return"stack"in P&&z(Pe,"stack",{get:function(){return this.inner.stack}}),Pe},st(We,Gt)},81025:(bn,be,w)=>{"use strict";w.d(be,{$i:()=>Ee,IP:()=>f,YT:()=>Z,ht:()=>Te,jM:()=>x,lE:()=>m,vI:()=>ye});var r=Symbol.for("immer-nothing"),m=Symbol.for("immer-draftable"),g=Symbol.for("immer-state");function D(Qe,...Ft){throw new Error(`[Immer] minified error nr: ${Qe}. Full error at: https://bit.ly/3cXEKWf`)}var h=Object.getPrototypeOf;function U(Qe){return!!Qe&&!!Qe[g]}function F(Qe){return!!Qe&&(z(Qe)||Array.isArray(Qe)||!!Qe[m]||!!Qe.constructor?.[m]||se(Qe)||Q(Qe))}var k=Object.prototype.constructor.toString();function z(Qe){if(!Qe||"object"!=typeof Qe)return!1;const Ft=h(Qe);if(null===Ft)return!0;const it=Object.hasOwnProperty.call(Ft,"constructor")&&Ft.constructor;return it===Object||"function"==typeof it&&Function.toString.call(it)===k}function A(Qe,Ft){0===T(Qe)?Reflect.ownKeys(Qe).forEach(it=>{Ft(it,Qe[it],Qe)}):Qe.forEach((it,Mt)=>Ft(Mt,it,Qe))}function T(Qe){const Ft=Qe[g];return Ft?Ft.type_:Array.isArray(Qe)?1:se(Qe)?2:Q(Qe)?3:0}function b(Qe,Ft){return 2===T(Qe)?Qe.has(Ft):Object.prototype.hasOwnProperty.call(Qe,Ft)}function J(Qe,Ft){return 2===T(Qe)?Qe.get(Ft):Qe[Ft]}function ce(Qe,Ft,it){const Mt=T(Qe);2===Mt?Qe.set(Ft,it):3===Mt?Qe.add(it):Qe[Ft]=it}function se(Qe){return Qe instanceof Map}function Q(Qe){return Qe instanceof Set}function Ie(Qe){return Qe.copy_||Qe.base_}function ae(Qe,Ft){if(se(Qe))return new Map(Qe);if(Q(Qe))return new Set(Qe);if(Array.isArray(Qe))return Array.prototype.slice.call(Qe);const it=z(Qe);if(!0===Ft||"class_only"===Ft&&!it){const Mt=Object.getOwnPropertyDescriptors(Qe);delete Mt[g];let lt=Reflect.ownKeys(Mt);for(let Bt=0;Bt<lt.length;Bt++){const ct=lt[Bt],Tt=Mt[ct];!1===Tt.writable&&(Tt.writable=!0,Tt.configurable=!0),(Tt.get||Tt.set)&&(Mt[ct]={configurable:!0,writable:!0,enumerable:Tt.enumerable,value:Qe[ct]})}return Object.create(h(Qe),Mt)}{const Mt=h(Qe);if(null!==Mt&&it)return{...Qe};const lt=Object.create(Mt);return Object.assign(lt,Qe)}}function Me(Qe,Ft=!1){return $(Qe)||U(Qe)||!F(Qe)||(T(Qe)>1&&(Qe.set=Qe.add=Qe.clear=Qe.delete=q),Object.freeze(Qe),Ft&&Object.entries(Qe).forEach(([it,Mt])=>Me(Mt,!0))),Qe}function q(){D(2)}function $(Qe){return Object.isFrozen(Qe)}var Ve,ge={};function K(Qe){const Ft=ge[Qe];return Ft||D(0),Ft}function Ne(Qe,Ft){ge[Qe]||(ge[Qe]=Ft)}function Ge(){return Ve}function _t(Qe,Ft){Ft&&(K("Patches"),Qe.patches_=[],Qe.inversePatches_=[],Qe.patchListener_=Ft)}function zt(Qe){Rn(Qe),Qe.drafts_.forEach(De),Qe.drafts_=null}function Rn(Qe){Qe===Ve&&(Ve=Qe.parent_)}function Oe(Qe){return Ve=function gt(Qe,Ft){return{drafts_:[],parent_:Qe,immer_:Ft,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(Ve,Qe)}function De(Qe){const Ft=Qe[g];0===Ft.type_||1===Ft.type_?Ft.revoke_():Ft.revoked_=!0}function He(Qe,Ft){Ft.unfinalizedDrafts_=Ft.drafts_.length;const it=Ft.drafts_[0];return void 0!==Qe&&Qe!==it?(it[g].modified_&&(zt(Ft),D(4)),F(Qe)&&(Qe=We(Ft,Qe),Ft.parent_||ft(Ft,Qe)),Ft.patches_&&K("Patches").generateReplacementPatches_(it[g].base_,Qe,Ft.patches_,Ft.inversePatches_)):Qe=We(Ft,it,[]),zt(Ft),Ft.patches_&&Ft.patchListener_(Ft.patches_,Ft.inversePatches_),Qe!==r?Qe:void 0}function We(Qe,Ft,it){if($(Ft))return Ft;const Mt=Ft[g];if(!Mt)return A(Ft,(lt,Bt)=>st(Qe,Mt,Ft,lt,Bt,it)),Ft;if(Mt.scope_!==Qe)return Ft;if(!Mt.modified_)return ft(Qe,Mt.base_,!0),Mt.base_;if(!Mt.finalized_){Mt.finalized_=!0,Mt.scope_.unfinalizedDrafts_--;const lt=Mt.copy_;let Bt=lt,ct=!1;3===Mt.type_&&(Bt=new Set(lt),lt.clear(),ct=!0),A(Bt,(Tt,rt)=>st(Qe,Mt,lt,Tt,rt,it,ct)),ft(Qe,lt,!1),it&&Qe.patches_&&K("Patches").generatePatches_(Mt,it,Qe.patches_,Qe.inversePatches_)}return Mt.copy_}function st(Qe,Ft,it,Mt,lt,Bt,ct){if(U(lt)){const rt=We(Qe,lt,Bt&&Ft&&3!==Ft.type_&&!b(Ft.assigned_,Mt)?Bt.concat(Mt):void 0);if(ce(it,Mt,rt),!U(rt))return;Qe.canAutoFreeze_=!1}else ct&&it.add(lt);if(F(lt)&&!$(lt)){if(!Qe.immer_.autoFreeze_&&Qe.unfinalizedDrafts_<1)return;We(Qe,lt),(!Ft||!Ft.scope_.parent_)&&"symbol"!=typeof Mt&&Object.prototype.propertyIsEnumerable.call(it,Mt)&&ft(Qe,lt)}}function ft(Qe,Ft,it=!1){!Qe.parent_&&Qe.immer_.autoFreeze_&&Qe.canAutoFreeze_&&Me(Ft,it)}var kt={get(Qe,Ft){if(Ft===g)return Qe;const it=Ie(Qe);if(!b(it,Ft))return function ne(Qe,Ft,it){const Mt=Re(Ft,it);return Mt?"value"in Mt?Mt.value:Mt.get?.call(Qe.draft_):void 0}(Qe,it,Ft);const Mt=it[Ft];return Qe.finalized_||!F(Mt)?Mt:Mt===Ce(Qe.base_,Ft)?(y(Qe),Qe.copy_[Ft]=Y(Mt,Qe)):Mt},has:(Qe,Ft)=>Ft in Ie(Qe),ownKeys:Qe=>Reflect.ownKeys(Ie(Qe)),set(Qe,Ft,it){const Mt=Re(Ie(Qe),Ft);if(Mt?.set)return Mt.set.call(Qe.draft_,it),!0;if(!Qe.modified_){const lt=Ce(Ie(Qe),Ft),Bt=lt?.[g];if(Bt&&Bt.base_===it)return Qe.copy_[Ft]=it,Qe.assigned_[Ft]=!1,!0;if(function W(Qe,Ft){return Qe===Ft?0!==Qe||1/Qe==1/Ft:Qe!=Qe&&Ft!=Ft}(it,lt)&&(void 0!==it||b(Qe.base_,Ft)))return!0;y(Qe),te(Qe)}return Qe.copy_[Ft]===it&&(void 0!==it||Ft in Qe.copy_)||Number.isNaN(it)&&Number.isNaN(Qe.copy_[Ft])||(Qe.copy_[Ft]=it,Qe.assigned_[Ft]=!0),!0},deleteProperty:(Qe,Ft)=>(void 0!==Ce(Qe.base_,Ft)||Ft in Qe.base_?(Qe.assigned_[Ft]=!1,y(Qe),te(Qe)):delete Qe.assigned_[Ft],Qe.copy_&&delete Qe.copy_[Ft],!0),getOwnPropertyDescriptor(Qe,Ft){const it=Ie(Qe),Mt=Reflect.getOwnPropertyDescriptor(it,Ft);return Mt&&{writable:!0,configurable:1!==Qe.type_||"length"!==Ft,enumerable:Mt.enumerable,value:it[Ft]}},defineProperty(){D(11)},getPrototypeOf:Qe=>h(Qe.base_),setPrototypeOf(){D(12)}},je={};function Ce(Qe,Ft){const it=Qe[g];return(it?Ie(it):Qe)[Ft]}function Re(Qe,Ft){if(!(Ft in Qe))return;let it=h(Qe);for(;it;){const Mt=Object.getOwnPropertyDescriptor(it,Ft);if(Mt)return Mt;it=h(it)}}function te(Qe){Qe.modified_||(Qe.modified_=!0,Qe.parent_&&te(Qe.parent_))}function y(Qe){Qe.copy_||(Qe.copy_=ae(Qe.base_,Qe.scope_.immer_.useStrictShallowCopy_))}function Y(Qe,Ft){const it=se(Qe)?K("MapSet").proxyMap_(Qe,Ft):Q(Qe)?K("MapSet").proxySet_(Qe,Ft):function wt(Qe,Ft){const it=Array.isArray(Qe),Mt={type_:it?1:0,scope_:Ft?Ft.scope_:Ge(),modified_:!1,finalized_:!1,assigned_:{},parent_:Ft,base_:Qe,draft_:null,copy_:null,revoke_:null,isManual_:!1};let lt=Mt,Bt=kt;it&&(lt=[Mt],Bt=je);const{revoke:ct,proxy:Tt}=Proxy.revocable(lt,Bt);return Mt.draft_=Tt,Mt.revoke_=ct,Tt}(Qe,Ft);return(Ft?Ft.scope_:Ge()).drafts_.push(it),it}function _e(Qe){if(!F(Qe)||$(Qe))return Qe;const Ft=Qe[g];let it;if(Ft){if(!Ft.modified_)return Ft.base_;Ft.finalized_=!0,it=ae(Qe,Ft.scope_.immer_.useStrictShallowCopy_)}else it=ae(Qe,!0);return A(it,(Mt,lt)=>{ce(it,Mt,_e(lt))}),Ft&&(Ft.finalized_=!1),it}function Z(){const Ft="replace",it="add",Mt="remove";function vn(Un){if(!F(Un))return Un;if(Array.isArray(Un))return Un.map(vn);if(se(Un))return new Map(Array.from(Un.entries()).map(([Cr,wn])=>[Cr,vn(wn)]));if(Q(Un))return new Set(Array.from(Un).map(vn));const Jn=Object.create(h(Un));for(const Cr in Un)Jn[Cr]=vn(Un[Cr]);return b(Un,m)&&(Jn[m]=Un[m]),Jn}function In(Un){return U(Un)?vn(Un):Un}Ne("Patches",{applyPatches_:function Et(Un,Jn){return Jn.forEach(Cr=>{const{path:wn,op:cn}=Cr;let Yt=Un;for(let Dn=0;Dn<wn.length-1;Dn++){const Pn=T(Yt);let Sn=wn[Dn];"string"!=typeof Sn&&"number"!=typeof Sn&&(Sn=""+Sn),(0===Pn||1===Pn)&&("__proto__"===Sn||"constructor"===Sn)&&D(19),"function"==typeof Yt&&"prototype"===Sn&&D(19),Yt=J(Yt,Sn),"object"!=typeof Yt&&D(18,wn.join("/"))}const Qt=T(Yt),jn=vn(Cr.value),Lt=wn[wn.length-1];switch(cn){case Ft:switch(Qt){case 2:return Yt.set(Lt,jn);case 3:D(16);default:return Yt[Lt]=jn}case it:switch(Qt){case 1:return"-"===Lt?Yt.push(jn):Yt.splice(Lt,0,jn);case 2:return Yt.set(Lt,jn);case 3:return Yt.add(jn);default:return Yt[Lt]=jn}case Mt:switch(Qt){case 1:return Yt.splice(Lt,1);case 2:return Yt.delete(Lt);case 3:return Yt.delete(Cr.value);default:return delete Yt[Lt]}default:D(17)}}),Un},generatePatches_:function lt(Un,Jn,Cr,wn){switch(Un.type_){case 0:case 2:return function ct(Un,Jn,Cr,wn){const{base_:cn,copy_:Yt}=Un;A(Un.assigned_,(Qt,jn)=>{const Lt=J(cn,Qt),Dn=J(Yt,Qt),Pn=jn?b(cn,Qt)?Ft:it:Mt;if(Lt===Dn&&Pn===Ft)return;const Sn=Jn.concat(Qt);Cr.push(Pn===Mt?{op:Pn,path:Sn}:{op:Pn,path:Sn,value:Dn}),wn.push(Pn===it?{op:Mt,path:Sn}:Pn===Mt?{op:it,path:Sn,value:In(Lt)}:{op:Ft,path:Sn,value:In(Lt)})})}(Un,Jn,Cr,wn);case 1:return function Bt(Un,Jn,Cr,wn){let{base_:cn,assigned_:Yt}=Un,Qt=Un.copy_;Qt.length<cn.length&&([cn,Qt]=[Qt,cn],[Cr,wn]=[wn,Cr]);for(let jn=0;jn<cn.length;jn++)if(Yt[jn]&&Qt[jn]!==cn[jn]){const Lt=Jn.concat([jn]);Cr.push({op:Ft,path:Lt,value:In(Qt[jn])}),wn.push({op:Ft,path:Lt,value:In(cn[jn])})}for(let jn=cn.length;jn<Qt.length;jn++){const Lt=Jn.concat([jn]);Cr.push({op:it,path:Lt,value:In(Qt[jn])})}for(let jn=Qt.length-1;cn.length<=jn;--jn){const Lt=Jn.concat([jn]);wn.push({op:Mt,path:Lt})}}(Un,Jn,Cr,wn);case 3:return function Tt(Un,Jn,Cr,wn){let{base_:cn,copy_:Yt}=Un,Qt=0;cn.forEach(jn=>{if(!Yt.has(jn)){const Lt=Jn.concat([Qt]);Cr.push({op:Mt,path:Lt,value:jn}),wn.unshift({op:it,path:Lt,value:jn})}Qt++}),Qt=0,Yt.forEach(jn=>{if(!cn.has(jn)){const Lt=Jn.concat([Qt]);Cr.push({op:it,path:Lt,value:jn}),wn.unshift({op:Mt,path:Lt,value:jn})}Qt++})}(Un,Jn,Cr,wn)}},generateReplacementPatches_:function rt(Un,Jn,Cr,wn){Cr.push({op:Ft,path:[],value:Jn===r?void 0:Jn}),wn.push({op:Ft,path:[],value:Un})}})}function f(){class Qe extends Map{constructor(rt,Et){super(),this[g]={type_:2,parent_:Et,scope_:Et?Et.scope_:Ge(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:rt,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Ie(this[g]).size}has(rt){return Ie(this[g]).has(rt)}set(rt,Et){const vn=this[g];return ct(vn),(!Ie(vn).has(rt)||Ie(vn).get(rt)!==Et)&&(it(vn),te(vn),vn.assigned_.set(rt,!0),vn.copy_.set(rt,Et),vn.assigned_.set(rt,!0)),this}delete(rt){if(!this.has(rt))return!1;const Et=this[g];return ct(Et),it(Et),te(Et),Et.base_.has(rt)?Et.assigned_.set(rt,!1):Et.assigned_.delete(rt),Et.copy_.delete(rt),!0}clear(){const rt=this[g];ct(rt),Ie(rt).size&&(it(rt),te(rt),rt.assigned_=new Map,A(rt.base_,Et=>{rt.assigned_.set(Et,!1)}),rt.copy_.clear())}forEach(rt,Et){Ie(this[g]).forEach((In,Un,Jn)=>{rt.call(Et,this.get(Un),Un,this)})}get(rt){const Et=this[g];ct(Et);const vn=Ie(Et).get(rt);if(Et.finalized_||!F(vn)||vn!==Et.base_.get(rt))return vn;const In=Y(vn,Et);return it(Et),Et.copy_.set(rt,In),In}keys(){return Ie(this[g]).keys()}values(){const rt=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const Et=rt.next();return Et.done?Et:{done:!1,value:this.get(Et.value)}}}}entries(){const rt=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const Et=rt.next();if(Et.done)return Et;const vn=this.get(Et.value);return{done:!1,value:[Et.value,vn]}}}}[Symbol.iterator](){return this.entries()}}function it(Tt){Tt.copy_||(Tt.assigned_=new Map,Tt.copy_=new Map(Tt.base_))}class Mt extends Set{constructor(rt,Et){super(),this[g]={type_:3,parent_:Et,scope_:Et?Et.scope_:Ge(),modified_:!1,finalized_:!1,copy_:void 0,base_:rt,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Ie(this[g]).size}has(rt){const Et=this[g];return ct(Et),Et.copy_?!!(Et.copy_.has(rt)||Et.drafts_.has(rt)&&Et.copy_.has(Et.drafts_.get(rt))):Et.base_.has(rt)}add(rt){const Et=this[g];return ct(Et),this.has(rt)||(Bt(Et),te(Et),Et.copy_.add(rt)),this}delete(rt){if(!this.has(rt))return!1;const Et=this[g];return ct(Et),Bt(Et),te(Et),Et.copy_.delete(rt)||!!Et.drafts_.has(rt)&&Et.copy_.delete(Et.drafts_.get(rt))}clear(){const rt=this[g];ct(rt),Ie(rt).size&&(Bt(rt),te(rt),rt.copy_.clear())}values(){const rt=this[g];return ct(rt),Bt(rt),rt.copy_.values()}entries(){const rt=this[g];return ct(rt),Bt(rt),rt.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(rt,Et){const vn=this.values();let In=vn.next();for(;!In.done;)rt.call(Et,In.value,In.value,this),In=vn.next()}}function Bt(Tt){Tt.copy_||(Tt.copy_=new Set,Tt.base_.forEach(rt=>{if(F(rt)){const Et=Y(rt,Tt);Tt.drafts_.set(rt,Et),Tt.copy_.add(Et)}else Tt.copy_.add(rt)}))}function ct(Tt){Tt.revoked_&&D(3,JSON.stringify(Ie(Tt)))}Ne("MapSet",{proxyMap_:function Ft(Tt,rt){return new Qe(Tt,rt)},proxySet_:function lt(Tt,rt){return new Mt(Tt,rt)}})}A(kt,(Qe,Ft)=>{je[Qe]=function(){return arguments[0]=arguments[0][0],Ft.apply(this,arguments)}}),je.deleteProperty=function(Qe,Ft){return je.set.call(this,Qe,Ft,void 0)},je.set=function(Qe,Ft,it){return kt.set.call(this,Qe[0],Ft,it,Qe[0])};var V=new class{constructor(Qe){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(Ft,it,Mt)=>{if("function"==typeof Ft&&"function"!=typeof it){const Bt=it;it=Ft;const ct=this;return function(rt=Bt,...Et){return ct.produce(rt,vn=>it.call(this,vn,...Et))}}let lt;if("function"!=typeof it&&D(6),void 0!==Mt&&"function"!=typeof Mt&&D(7),F(Ft)){const Bt=Oe(this),ct=Y(Ft,void 0);let Tt=!0;try{lt=it(ct),Tt=!1}finally{Tt?zt(Bt):Rn(Bt)}return _t(Bt,Mt),He(lt,Bt)}if(!Ft||"object"!=typeof Ft){if(lt=it(Ft),void 0===lt&&(lt=Ft),lt===r&&(lt=void 0),this.autoFreeze_&&Me(lt,!0),Mt){const Bt=[],ct=[];K("Patches").generateReplacementPatches_(Ft,lt,Bt,ct),Mt(Bt,ct)}return lt}D(1)},this.produceWithPatches=(Ft,it)=>{if("function"==typeof Ft)return(ct,...Tt)=>this.produceWithPatches(ct,rt=>Ft(rt,...Tt));let Mt,lt;return[this.produce(Ft,it,(ct,Tt)=>{Mt=ct,lt=Tt}),Mt,lt]},"boolean"==typeof Qe?.autoFreeze&&this.setAutoFreeze(Qe.autoFreeze),"boolean"==typeof Qe?.useStrictShallowCopy&&this.setUseStrictShallowCopy(Qe.useStrictShallowCopy)}createDraft(Qe){F(Qe)||D(8),U(Qe)&&(Qe=function G(Qe){return U(Qe)||D(10),_e(Qe)}(Qe));const Ft=Oe(this),it=Y(Qe,void 0);return it[g].isManual_=!0,Rn(Ft),it}finishDraft(Qe,Ft){const it=Qe&&Qe[g];(!it||!it.isManual_)&&D(9);const{scope_:Mt}=it;return _t(Mt,Ft),He(void 0,Mt)}setAutoFreeze(Qe){this.autoFreeze_=Qe}setUseStrictShallowCopy(Qe){this.useStrictShallowCopy_=Qe}applyPatches(Qe,Ft){let it;for(it=Ft.length-1;it>=0;it--){const lt=Ft[it];if(0===lt.path.length&&"replace"===lt.op){Qe=lt.value;break}}it>-1&&(Ft=Ft.slice(it+1));const Mt=K("Patches").applyPatches_;return U(Qe)?Mt(Qe,Ft):this.produce(Qe,lt=>Mt(lt,Ft))}},x=V.produce,ye=V.produceWithPatches.bind(V),Te=V.setAutoFreeze.bind(V),Ee=(V.setUseStrictShallowCopy.bind(V),V.applyPatches.bind(V));V.createDraft.bind(V),V.finishDraft.bind(V)},17225:(bn,be,w)=>{"use strict";function r(m){return{all:m=m||new Map,on:function(g,C){var D=m.get(g);D?D.push(C):m.set(g,[C])},off:function(g,C){var D=m.get(g);D&&(C?D.splice(D.indexOf(C)>>>0,1):m.set(g,[]))},emit:function(g,C){var D=m.get(g);D&&D.slice().map(function(h){h(C)}),(D=m.get("*"))&&D.slice().map(function(h){h(g,C)})}}}w.r(be),w.d(be,{default:()=>r})},73845:(bn,be,w)=>{"use strict";w.d(be,{Je:()=>y,Un:()=>M});var r=w(85052),m=w(15877),g=w(2573),C=w(60391),D=w(19827);const h=new g.c(D.l);w(2515);var k=w(14264),z=w(39705),B=w(17365),A=w(11756),T=w(36110),b=w(28577),J=w(32914);w(35160),w(8360),w(15210),w(66196),w(96513),w(20075);var $=w(60177),ge=w(54438);function Ne(_e){return!(!_e.parentElement||"picture"!==_e.parentElement.nodeName.toLowerCase())}function Ve(_e){return"img"===_e.nodeName.toLowerCase()}function Ge(_e,Z,f){return Ve(_e)?f&&"srcset"in _e?_e.srcset=Z:_e.src=Z:_e.style.backgroundImage=`url('${Z}')`,_e}function gt(_e){return Z=>{const f=Z.parentElement.getElementsByTagName("source");for(let V=0;V<f.length;V++){const x=f[V].getAttribute(_e);x&&("srcset"in f[V]?f[V].srcset=x:f[V].src=x)}}}const _t=gt("defaultImage"),zt=gt("lazyLoad"),Rn=gt("errorImage");function Oe(_e){return(Z,f,V)=>{Ve(Z)&&Ne(Z)&&_e(Z),f&&Ge(Z,f,V)}}const De=Oe(_t),He=Oe(zt),We=Oe(Rn);class st{constructor(){this.navigator=function K(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(Z){this.platformId=Z}onDestroy(Z){}onAttributeChange(Z){}}function wt(_e,Z){_e.className=_e.className.replace(Z,"")}function kt(_e,Z){_e.className.includes(Z)||(_e.className+=` ${Z}`)}class Ce extends st{setup(Z){De(Z.element,Z.defaultImagePath,Z.useSrcset),Z.imagePath&&kt(Z.element,"ng-lazyloading"),function je(_e,Z){return _e.className&&_e.className.includes(Z)}(Z.element,"ng-lazyloaded")&&wt(Z.element,"ng-lazyloaded")}finally(Z){kt(Z.element,"ng-lazyloaded"),wt(Z.element,"ng-lazyloading")}loadImage(Z){if(this.skipLazyLoading(Z))return[Z.imagePath];const{element:f,useSrcset:V,imagePath:x,decode:ye}=Z;let Te;return Ve(f)&&Ne(f)?(Te=f.parentNode.cloneNode(!0).getElementsByTagName("img")[0],zt(Te),Ge(Te,x,V)):(Te=new Image,Ve(f)&&f.referrerPolicy&&(Te.referrerPolicy=f.referrerPolicy),Ve(f)&&f.sizes&&(Te.sizes=f.sizes),V&&"srcset"in Te?Te.srcset=x:Te.src=x),ye&&Te.decode?Te.decode().then(()=>x):new Promise((ke,Ee)=>{Te.onload=()=>ke(x),Te.onerror=()=>Ee(null)})}setErrorImage(Z,f){const{element:V,useSrcset:x,errorImagePath:ye}=f;We(V,ye,x),kt(V,"ng-failed-lazyloaded")}setLoadedImage(Z,f){const{element:V,useSrcset:x}=f;He(V,Z,x)}isDisabled(){return(0,$.Vy)(this.platformId)&&!this.isBot()}skipLazyLoading(Z){return this.isBot(Z)}isBot(Z){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class ne extends Ce{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new r.B,this.uniqKey={}}getObservable(Z){if(this.skipLazyLoading(Z))return(0,m.of)({isIntersecting:!0});if(Z.customObservable)return Z.customObservable;const f=Z.scrollContainer||this.uniqKey,V={root:Z.scrollContainer||null};Z.offset&&(V.rootMargin=`${Z.offset}px`);let x=this.observers.get(f);return x||(x=new IntersectionObserver(ye=>this.loadingCallback(ye),V),this.observers.set(f,x)),x.observe(Z.element),g.c.create(ye=>{const Te=this.intersectionSubject.pipe((0,k.p)(ke=>ke.target===Z.element)).subscribe(ye);return()=>{Te.unsubscribe(),x.unobserve(Z.element)}})}isVisible(Z){return Z.isIntersecting}loadingCallback(Z){Z.forEach(f=>this.intersectionSubject.next(f))}}const te=new ge.nKC("LazyLoadImageHooks");let y=(()=>{class _e{constructor(f,V,x,ye){this.onStateChange=new ge.bkB,this.elementRef=f,this.ngZone=V,this.propertyChanges$=new C.m,this.hooks=ye,this.hooks.setPlatformId(x),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(f=>console.log(f))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,z.M)(f=>this.hooks.onAttributeChange(f)),(0,z.M)(f=>f.onStateChange.emit({reason:"setup"})),(0,z.M)(f=>this.hooks.setup(f)),(0,J.n)(f=>f.imagePath?this.hooks.getObservable(f).pipe(function Re(_e,Z){return f=>f.pipe((0,z.M)(V=>Z.onStateChange.emit({reason:"observer-emit",data:V})),(0,k.p)(V=>_e.isVisible(V,Z)),(0,B.s)(1),(0,z.M)(()=>Z.onStateChange.emit({reason:"start-loading"})),(0,A.Z)(()=>_e.loadImage(Z)),(0,z.M)(()=>Z.onStateChange.emit({reason:"mount-image"})),(0,z.M)(V=>_e.setLoadedImage(V,Z)),(0,z.M)(()=>Z.onStateChange.emit({reason:"loading-succeeded"})),(0,T.T)(()=>!0),(0,b.W)(V=>(Z.onStateChange.emit({reason:"loading-failed",data:V}),_e.setErrorImage(V,Z),(0,m.of)(!1))),(0,z.M)(()=>{Z.onStateChange.emit({reason:"finally"}),_e.finally(Z)}))}(this.hooks,f)):function U(){return h}())).subscribe({next:()=>null})})}ngOnDestroy(){this.propertyChanges$.pipe((0,B.s)(1)).subscribe({next:f=>this.hooks.onDestroy(f)}).unsubscribe(),this.loadSubscription?.unsubscribe(),this.debugSubscription?.unsubscribe()}}return _e.\u0275fac=function(f){return new(f||_e)(ge.rXU(ge.aKT),ge.rXU(ge.SKi),ge.rXU(ge.Agw),ge.rXU(te))},_e.\u0275dir=ge.FsC({type:_e,selectors:[["","lazyLoad",""]],inputs:{lazyImage:[0,"lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[ge.OA$]}),_e})(),M=(()=>{class _e{}return _e.\u0275fac=function(f){return new(f||_e)},_e.\u0275mod=ge.$C({type:_e}),_e.\u0275inj=ge.G2t({providers:[{provide:te,useClass:ne}]}),_e})();class Y{constructor(Z,f,V,x){this.left=Z,this.top=f,this.right=V,this.bottom=x}static fromElement(Z){const{left:f,top:V,right:x,bottom:ye}=Z.getBoundingClientRect();return 0===f&&0===V&&0===x&&0===ye?Y.empty:new Y(f,V,x,ye)}static fromWindow(Z){return new Y(0,0,Z.innerWidth,Z.innerHeight)}inflate(Z){this.left-=Z,this.top-=Z,this.right+=Z,this.bottom+=Z}intersectsWith(Z){return Z.left<this.right&&this.left<Z.right&&Z.top<this.bottom&&this.top<Z.bottom}getIntersectionWith(Z){const f=Math.max(this.left,Z.left),V=Math.max(this.top,Z.top),x=Math.min(this.right,Z.right),ye=Math.min(this.bottom,Z.bottom);return x>=f&&ye>=V?new Y(f,V,x,ye):Y.empty}}Y.empty=new Y(0,0,0,0)},90450:(bn,be,w)=>{"use strict";w.d(be,{J:()=>Q,Uh:()=>F,cm:()=>ae,gq:()=>B,ob:()=>Me,tA:()=>q});var r=w(54438),m=w(60177),g=w(15877),C=w(29160),D=w(85052),h=w(14264);const U=new r.nKC("recaptcha-language"),F=new r.nKC("recaptcha-base-url"),k=new r.nKC("recaptcha-nonce-tag"),z=new r.nKC("recaptcha-settings"),B=new r.nKC("recaptcha-v3-site-key"),A=new r.nKC("recaptcha-loader-options"),J={loadScript:function T(K,Ne,Ve,{url:Ge,lang:gt,nonce:_t}={}){window.ng2recaptchaloaded=()=>{Ve(grecaptcha)};const zt=document.createElement("script");zt.innerHTML="";const{url:Rn,nonce:Oe}=Ne(new URL(Ge||"https://www.google.com/recaptcha/api.js"));Rn.searchParams.set("render","explicit"===K?K:K.key),Rn.searchParams.set("onload","ng2recaptchaloaded"),Rn.searchParams.set("trustedtypes","true"),gt&&Rn.searchParams.set("hl",gt),zt.src=Rn.href;const De=Oe||_t;De&&zt.setAttribute("nonce",De),zt.async=!0,zt.defer=!0,document.head.appendChild(zt)},newLoadScript:function b({v3SiteKey:K,onBeforeLoad:Ne,onLoaded:Ve}){J.loadScript(K?{key:K}:"explicit",Ne,Ve)}};let W=(()=>{class K{static#e=this.ready=null;constructor(Ve,Ge,gt,_t,zt,Rn){this.platformId=Ve,this.language=Ge,this.baseUrl=gt,this.nonce=_t,this.v3SiteKey=zt,this.options=Rn;const Oe=this.init();this.ready=Oe?function ce(K){return K.asObservable().pipe((0,h.p)(Ne=>null!==Ne))}(Oe):(0,g.of)()}init(){if(K.ready)return K.ready;if(!(0,m.UE)(this.platformId))return;const Ve=new C.t(null);return K.ready=Ve,J.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:Ge=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(Ge);const gt=new URL(this.baseUrl??Ge);return this.language&&gt.searchParams.set("hl",this.language),{url:gt,nonce:this.nonce}},onLoaded:Ge=>{let gt=Ge;this.options?.onLoaded&&(gt=this.options.onLoaded(Ge)),Ve.next(gt)}}),Ve}static#t=this.\u0275fac=function(Ge){return new(Ge||K)(r.KVO(r.Agw),r.KVO(U,8),r.KVO(F,8),r.KVO(k,8),r.KVO(B,8),r.KVO(A,8))};static#n=this.\u0275prov=r.jDH({token:K,factory:K.\u0275fac})}return K})(),se=0,Q=(()=>{class K{constructor(Ve,Ge,gt,_t){this.elementRef=Ve,this.loader=Ge,this.zone=gt,this.id="ngrecaptcha-"+se++,this.errorMode="default",this.resolved=new r.bkB,this.error=new r.bkB,this.errored=new r.bkB,_t&&(this.siteKey=_t.siteKey,this.theme=_t.theme,this.type=_t.type,this.size=_t.size,this.badge=_t.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(Ve=>{null!=Ve&&Ve.render instanceof Function&&(this.grecaptcha=Ve,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(Ve){this.error.emit(Ve),this.errored.emit(Ve)}captchaResponseCallback(Ve){this.resolved.emit(Ve)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const Ve={badge:this.badge,callback:Ge=>{this.zone.run(()=>this.captchaResponseCallback(Ge))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(Ve["error-callback"]=(...Ge)=>{this.zone.run(()=>this.onError(Ge))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,Ve),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}static#e=this.\u0275fac=function(Ge){return new(Ge||K)(r.rXU(r.aKT),r.rXU(W),r.rXU(r.SKi),r.rXU(z,8))};static#t=this.\u0275cmp=r.VBU({type:K,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(Ge,gt){2&Ge&&r.BMQ("id",gt.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(Ge,gt){},encapsulation:2})}return K})(),Ie=(()=>{class K{static#e=this.\u0275fac=function(Ge){return new(Ge||K)};static#t=this.\u0275mod=r.$C({type:K});static#n=this.\u0275inj=r.G2t({})}return K})(),ae=(()=>{class K{static#e=this.\u0275fac=function(Ge){return new(Ge||K)};static#t=this.\u0275mod=r.$C({type:K});static#n=this.\u0275inj=r.G2t({providers:[W],imports:[Ie]})}return K})(),Me=(()=>{class K{constructor(Ve,Ge,gt){this.recaptchaLoader=Ge,this.zone=Ve,this.siteKey=gt,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new D.B,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new D.B,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(Ve){const Ge=new D.B;return this.grecaptcha?this.executeActionWithSubject(Ve,Ge):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([Ve,Ge])),Ge.asObservable()}executeActionWithSubject(Ve,Ge){const gt=_t=>{this.zone.run(()=>{Ge.error(_t),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:Ve,error:_t})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:Ve}).then(_t=>{this.zone.run(()=>{Ge.next(_t),Ge.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:Ve,token:_t})})},gt)}catch(_t){gt(_t)}})}init(){this.recaptchaLoader.ready.subscribe(Ve=>{this.grecaptcha=Ve,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([Ge,gt])=>this.executeActionWithSubject(Ge,gt)),this.actionBacklog=void 0)})}static#e=this.\u0275fac=function(Ge){return new(Ge||K)(r.KVO(r.SKi),r.KVO(W),r.KVO(B))};static#t=this.\u0275prov=r.jDH({token:K,factory:K.\u0275fac})}return K})(),q=(()=>{class K{static#e=this.\u0275fac=function(Ge){return new(Ge||K)};static#t=this.\u0275mod=r.$C({type:K});static#n=this.\u0275inj=r.G2t({providers:[Me,W]})}return K})()},11562:(bn,be,w)=>{"use strict";w.d(be,{YG:()=>Z,bk:()=>_e});var r=w(54438),m=w(60177);const g=["dialogPopup"],C=["hueSlider"],D=["alphaSlider"];function h(f,V){if(1&f&&r.nrm(0,"div"),2&f){const x=r.XpG();r.ZvI("arrow arrow-",x.cpUsePosition,""),r.xc7("left",x.cpArrowPosition)("top",x.arrowTop,"px")}}function U(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",28),r.bIt("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onColorChange(Te))})("dragStart",function(){r.eBV(x);const Te=r.XpG();return r.Njj(Te.onDragStart("saturation-lightness"))})("dragEnd",function(){r.eBV(x);const Te=r.XpG();return r.Njj(Te.onDragEnd("saturation-lightness"))}),r.nrm(1,"div",16),r.k0s()}if(2&f){const x=r.XpG();r.xc7("background-color",x.hueSliderColor),r.Y8G("rgX",1)("rgY",1),r.R7$(),r.xc7("top",null==x.slider?null:x.slider.v,"px")("left",null==x.slider?null:x.slider.s,"px")}}function F(f,V){1&f&&(r.qSk(),r.j41(0,"svg",29),r.nrm(1,"path",30)(2,"path",31),r.k0s())}function k(f,V){if(1&f){const x=r.RV6();r.j41(0,"button",32),r.bIt("click",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAddPresetColor(Te,ke.selectedColor))}),r.EFF(1),r.k0s()}if(2&f){const x=r.XpG();r.HbH(x.cpAddColorButtonClass),r.Y8G("disabled",x.cpPresetColors&&x.cpPresetColors.length>=x.cpMaxPresetColorsLength),r.R7$(),r.SpI(" ",x.cpAddColorButtonText," ")}}function z(f,V){1&f&&r.nrm(0,"div",33)}function B(f,V){if(1&f){const x=r.RV6();r.j41(0,"input",39),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAlphaInput(Te))}),r.k0s()}if(2&f){const x=r.XpG(2);r.Y8G("rg",1)("value",null==x.cmykText?null:x.cmykText.a)}}function A(f,V){1&f&&(r.j41(0,"div"),r.EFF(1,"A"),r.k0s())}function T(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",34)(1,"div",35)(2,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onCyanInput(Te))}),r.k0s(),r.j41(3,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onMagentaInput(Te))}),r.k0s(),r.j41(4,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onYellowInput(Te))}),r.k0s(),r.j41(5,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onBlackInput(Te))}),r.k0s(),r.DNE(6,B,1,2,"input",37),r.k0s(),r.j41(7,"div",35)(8,"div"),r.EFF(9,"C"),r.k0s(),r.j41(10,"div"),r.EFF(11,"M"),r.k0s(),r.j41(12,"div"),r.EFF(13,"Y"),r.k0s(),r.j41(14,"div"),r.EFF(15,"K"),r.k0s(),r.DNE(16,A,2,0,"div",38),r.k0s()()}if(2&f){const x=r.XpG();r.xc7("display",3!==x.format?"none":"block"),r.R7$(2),r.Y8G("rg",100)("value",null==x.cmykText?null:x.cmykText.c),r.R7$(),r.Y8G("rg",100)("value",null==x.cmykText?null:x.cmykText.m),r.R7$(),r.Y8G("rg",100)("value",null==x.cmykText?null:x.cmykText.y),r.R7$(),r.Y8G("rg",100)("value",null==x.cmykText?null:x.cmykText.k),r.R7$(),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel),r.R7$(10),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel)}}function b(f,V){if(1&f){const x=r.RV6();r.j41(0,"input",39),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAlphaInput(Te))}),r.k0s()}if(2&f){const x=r.XpG(2);r.Y8G("rg",1)("value",null==x.hslaText?null:x.hslaText.a)}}function J(f,V){1&f&&(r.j41(0,"div"),r.EFF(1,"A"),r.k0s())}function ce(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",40)(1,"div",35)(2,"input",41),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onHueInput(Te))}),r.k0s(),r.j41(3,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onSaturationInput(Te))}),r.k0s(),r.j41(4,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onLightnessInput(Te))}),r.k0s(),r.DNE(5,b,1,2,"input",37),r.k0s(),r.j41(6,"div",35)(7,"div"),r.EFF(8,"H"),r.k0s(),r.j41(9,"div"),r.EFF(10,"S"),r.k0s(),r.j41(11,"div"),r.EFF(12,"L"),r.k0s(),r.DNE(13,J,2,0,"div",38),r.k0s()()}if(2&f){const x=r.XpG();r.xc7("display",2!==x.format?"none":"block"),r.R7$(2),r.Y8G("rg",360)("value",null==x.hslaText?null:x.hslaText.h),r.R7$(),r.Y8G("rg",100)("value",null==x.hslaText?null:x.hslaText.s),r.R7$(),r.Y8G("rg",100)("value",null==x.hslaText?null:x.hslaText.l),r.R7$(),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel),r.R7$(8),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel)}}function W(f,V){if(1&f){const x=r.RV6();r.j41(0,"input",39),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAlphaInput(Te))}),r.k0s()}if(2&f){const x=r.XpG(2);r.Y8G("rg",1)("value",null==x.rgbaText?null:x.rgbaText.a)}}function se(f,V){1&f&&(r.j41(0,"div"),r.EFF(1,"A"),r.k0s())}function Q(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",42)(1,"div",35)(2,"input",43),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onRedInput(Te))}),r.k0s(),r.j41(3,"input",43),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onGreenInput(Te))}),r.k0s(),r.j41(4,"input",43),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onBlueInput(Te))}),r.k0s(),r.DNE(5,W,1,2,"input",37),r.k0s(),r.j41(6,"div",35)(7,"div"),r.EFF(8,"R"),r.k0s(),r.j41(9,"div"),r.EFF(10,"G"),r.k0s(),r.j41(11,"div"),r.EFF(12,"B"),r.k0s(),r.DNE(13,se,2,0,"div",38),r.k0s()()}if(2&f){const x=r.XpG();r.xc7("display",1!==x.format?"none":"block"),r.R7$(2),r.Y8G("rg",255)("value",null==x.rgbaText?null:x.rgbaText.r),r.R7$(),r.Y8G("rg",255)("value",null==x.rgbaText?null:x.rgbaText.g),r.R7$(),r.Y8G("rg",255)("value",null==x.rgbaText?null:x.rgbaText.b),r.R7$(),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel),r.R7$(8),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel)}}function Ie(f,V){if(1&f){const x=r.RV6();r.j41(0,"input",39),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAlphaInput(Te))}),r.k0s()}if(2&f){const x=r.XpG(2);r.Y8G("rg",1)("value",x.hexAlpha)}}function ae(f,V){1&f&&(r.j41(0,"div"),r.EFF(1,"A"),r.k0s())}function Me(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",44)(1,"div",35)(2,"input",45),r.bIt("blur",function(){r.eBV(x);const Te=r.XpG();return r.Njj(Te.onHexInput(null))})("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onHexInput(Te))}),r.k0s(),r.DNE(3,Ie,1,2,"input",37),r.k0s(),r.j41(4,"div",35)(5,"div"),r.EFF(6,"Hex"),r.k0s(),r.DNE(7,ae,2,0,"div",38),r.k0s()()}if(2&f){const x=r.XpG();r.xc7("display",0!==x.format?"none":"block"),r.AVh("hex-alpha","forced"===x.cpAlphaChannel),r.R7$(2),r.Y8G("value",x.hexText),r.R7$(),r.Y8G("ngIf","forced"===x.cpAlphaChannel),r.R7$(4),r.Y8G("ngIf","forced"===x.cpAlphaChannel)}}function q(f,V){if(1&f){const x=r.RV6();r.j41(0,"input",39),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAlphaInput(Te))}),r.k0s()}if(2&f){const x=r.XpG(2);r.Y8G("rg",1)("value",null==x.hslaText?null:x.hslaText.a)}}function $(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",46)(1,"div",35)(2,"input",36),r.bIt("keyup.enter",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onAcceptColor(Te))})("newValue",function(Te){r.eBV(x);const ke=r.XpG();return r.Njj(ke.onValueInput(Te))}),r.k0s(),r.DNE(3,q,1,2,"input",37),r.k0s(),r.j41(4,"div",35)(5,"div"),r.EFF(6,"V"),r.k0s(),r.j41(7,"div"),r.EFF(8,"A"),r.k0s()()()}if(2&f){const x=r.XpG();r.R7$(2),r.Y8G("rg",100)("value",null==x.hslaText?null:x.hslaText.l),r.R7$(),r.Y8G("ngIf","disabled"!==x.cpAlphaChannel)}}function ge(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",47)(1,"span",48),r.bIt("click",function(){r.eBV(x);const Te=r.XpG();return r.Njj(Te.onFormatToggle(-1))}),r.k0s(),r.j41(2,"span",48),r.bIt("click",function(){r.eBV(x);const Te=r.XpG();return r.Njj(Te.onFormatToggle(1))}),r.k0s()()}}function K(f,V){if(1&f){const x=r.RV6();r.j41(0,"span",55),r.bIt("click",function(Te){r.eBV(x);const ke=r.XpG().$implicit,Ee=r.XpG(3);return r.Njj(Ee.onRemovePresetColor(Te,ke))}),r.k0s()}if(2&f){const x=r.XpG(4);r.HbH(x.cpRemoveColorButtonClass)}}function Ne(f,V){if(1&f){const x=r.RV6();r.j41(0,"div",53),r.bIt("click",function(){const Te=r.eBV(x).$implicit,ke=r.XpG(3);return r.Njj(ke.setColorFromString(Te))}),r.DNE(1,K,1,3,"span",54),r.k0s()}if(2&f){const x=V.$implicit,ye=r.XpG(3);r.xc7("background-color",x),r.R7$(),r.Y8G("ngIf",ye.cpAddColorButton)}}function Ve(f,V){if(1&f&&(r.j41(0,"div"),r.DNE(1,Ne,2,3,"div",52),r.k0s()),2&f){const x=r.XpG(2);r.HbH(x.cpPresetColorsClass),r.R7$(),r.Y8G("ngForOf",x.cpPresetColors)}}function Ge(f,V){if(1&f&&(r.j41(0,"div"),r.EFF(1),r.k0s()),2&f){const x=r.XpG(2);r.HbH(x.cpPresetEmptyMessageClass),r.R7$(),r.JRh(x.cpPresetEmptyMessage)}}function gt(f,V){if(1&f&&(r.j41(0,"div",49),r.nrm(1,"hr"),r.j41(2,"div",50),r.EFF(3),r.k0s(),r.DNE(4,Ve,2,4,"div",51)(5,Ge,2,4,"div",51),r.k0s()),2&f){const x=r.XpG();r.R7$(3),r.JRh(x.cpPresetLabel),r.R7$(),r.Y8G("ngIf",null==x.cpPresetColors?null:x.cpPresetColors.length),r.R7$(),r.Y8G("ngIf",!(null!=x.cpPresetColors&&x.cpPresetColors.length)&&x.cpAddColorButton)}}function _t(f,V){if(1&f){const x=r.RV6();r.j41(0,"button",58),r.bIt("click",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onCancelColor(Te))}),r.EFF(1),r.k0s()}if(2&f){const x=r.XpG(2);r.HbH(x.cpCancelButtonClass),r.R7$(),r.JRh(x.cpCancelButtonText)}}function zt(f,V){if(1&f){const x=r.RV6();r.j41(0,"button",58),r.bIt("click",function(Te){r.eBV(x);const ke=r.XpG(2);return r.Njj(ke.onAcceptColor(Te))}),r.EFF(1),r.k0s()}if(2&f){const x=r.XpG(2);r.HbH(x.cpOKButtonClass),r.R7$(),r.JRh(x.cpOKButtonText)}}function Rn(f,V){if(1&f&&(r.j41(0,"div",56),r.DNE(1,_t,2,4,"button",57)(2,zt,2,4,"button",57),r.k0s()),2&f){const x=r.XpG();r.R7$(),r.Y8G("ngIf",x.cpCancelButton),r.R7$(),r.Y8G("ngIf",x.cpOKButton)}}function Oe(f,V){1&f&&r.eu8(0)}function De(f,V){if(1&f&&(r.j41(0,"div",59),r.DNE(1,Oe,1,0,"ng-container",60),r.k0s()),2&f){const x=r.XpG();r.R7$(),r.Y8G("ngTemplateOutlet",x.cpExtraTemplate)}}var He=function(f){return f[f.HEX=0]="HEX",f[f.RGBA=1]="RGBA",f[f.HSLA=2]="HSLA",f[f.CMYK=3]="CMYK",f}(He||{});class We{r;g;b;a;constructor(V,x,ye,Te){this.r=V,this.g=x,this.b=ye,this.a=Te}}class st{h;s;v;a;constructor(V,x,ye,Te){this.h=V,this.s=x,this.v=ye,this.a=Te}}class ft{h;s;l;a;constructor(V,x,ye,Te){this.h=V,this.s=x,this.l=ye,this.a=Te}}class wt{c;m;y;k;a;constructor(V,x,ye,Te,ke=1){this.c=V,this.m=x,this.y=ye,this.k=Te,this.a=ke}}let Ce=(()=>{class f{rg;text;newValue=new r.bkB;inputChange(x){const ye=x.target.value;if(void 0===this.rg)this.newValue.emit(ye);else{const Te=parseFloat(ye);this.newValue.emit({v:Te,rg:this.rg})}}static \u0275fac=function(ye){return new(ye||f)};static \u0275dir=r.FsC({type:f,selectors:[["","text",""]],hostBindings:function(ye,Te){1&ye&&r.bIt("input",function(Ee){return Te.inputChange(Ee)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}})}return f})(),ne=(()=>{class f{elRef;listenerMove;listenerStop;rgX;rgY;slider;dragEnd=new r.bkB;dragStart=new r.bkB;newValue=new r.bkB;mouseDown(x){this.start(x)}touchStart(x){this.start(x)}constructor(x){this.elRef=x,this.listenerMove=ye=>this.move(ye),this.listenerStop=()=>this.stop()}move(x){x.preventDefault(),this.setCursor(x)}start(x){this.setCursor(x),x.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(x){const ye=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==x.pageX?x.pageX:x.touches[0].pageX)-ye.left-window.pageXOffset}getY(x){const ye=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==x.pageY?x.pageY:x.touches[0].pageY)-ye.top-window.pageYOffset}setCursor(x){const ye=this.elRef.nativeElement.offsetWidth,Te=this.elRef.nativeElement.offsetHeight,ke=Math.max(0,Math.min(this.getX(x),ye)),Ee=Math.max(0,Math.min(this.getY(x),Te));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:ke/ye,v:1-Ee/Te,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:Ee/Te,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:ke/ye,rgX:this.rgX})}static \u0275fac=function(ye){return new(ye||f)(r.rXU(r.aKT))};static \u0275dir=r.FsC({type:f,selectors:[["","slider",""]],hostBindings:function(ye,Te){1&ye&&r.bIt("mousedown",function(Ee){return Te.mouseDown(Ee)})("touchstart",function(Ee){return Te.touchStart(Ee)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}})}return f})();class Re{h;s;v;a;constructor(V,x,ye,Te){this.h=V,this.s=x,this.v=ye,this.a=Te}}class te{h;s;v;a;constructor(V,x,ye,Te){this.h=V,this.s=x,this.v=ye,this.a=Te}}let y=(()=>{class f{active=null;setActive(x){this.active&&this.active!==x&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=x}hsva2hsla(x){const ye=x.h,Te=x.s,ke=x.v,Ee=x.a;if(0===ke)return new ft(ye,0,0,Ee);if(0===Te&&1===ke)return new ft(ye,1,1,Ee);{const nt=ke*(2-Te)/2;return new ft(ye,ke*Te/(1-Math.abs(2*nt-1)),nt,Ee)}}hsla2hsva(x){const ye=Math.min(x.h,1),Te=Math.min(x.s,1),ke=Math.min(x.l,1),Ee=Math.min(x.a,1);if(0===ke)return new st(ye,0,0,Ee);{const nt=ke+Te*(1-Math.abs(2*ke-1))/2;return new st(ye,2*(nt-ke)/nt,nt,Ee)}}hsvaToRgba(x){let ye,Te,ke;const Ee=x.h,nt=x.s,at=x.v,yt=x.a,Jt=Math.floor(6*Ee),Qe=6*Ee-Jt,Ft=at*(1-nt),it=at*(1-Qe*nt),Mt=at*(1-(1-Qe)*nt);switch(Jt%6){case 0:ye=at,Te=Mt,ke=Ft;break;case 1:ye=it,Te=at,ke=Ft;break;case 2:ye=Ft,Te=at,ke=Mt;break;case 3:ye=Ft,Te=it,ke=at;break;case 4:ye=Mt,Te=Ft,ke=at;break;case 5:ye=at,Te=Ft,ke=it;break;default:ye=0,Te=0,ke=0}return new We(ye,Te,ke,yt)}cmykToRgb(x){return new We((1-x.c)*(1-x.k),(1-x.m)*(1-x.k),(1-x.y)*(1-x.k),x.a)}rgbaToCmyk(x){const ye=1-Math.max(x.r,x.g,x.b);return 1===ye?new wt(0,0,0,1,x.a):new wt((1-x.r-ye)/(1-ye),(1-x.g-ye)/(1-ye),(1-x.b-ye)/(1-ye),ye,x.a)}rgbaToHsva(x){let ye,Te;const ke=Math.min(x.r,1),Ee=Math.min(x.g,1),nt=Math.min(x.b,1),at=Math.min(x.a,1),yt=Math.max(ke,Ee,nt),Jt=Math.min(ke,Ee,nt),Qe=yt,Ft=yt-Jt;if(Te=0===yt?0:Ft/yt,yt===Jt)ye=0;else{switch(yt){case ke:ye=(Ee-nt)/Ft+(Ee<nt?6:0);break;case Ee:ye=(nt-ke)/Ft+2;break;case nt:ye=(ke-Ee)/Ft+4;break;default:ye=0}ye/=6}return new st(ye,Te,Qe,at)}rgbaToHex(x,ye){let Te="#"+(16777216|x.r<<16|x.g<<8|x.b).toString(16).substr(1);return ye&&(Te+=(256|Math.round(255*x.a)).toString(16).substr(1)),Te}normalizeCMYK(x){return new wt(x.c/100,x.m/100,x.y/100,x.k/100,x.a)}denormalizeCMYK(x){return new wt(Math.floor(100*x.c),Math.floor(100*x.m),Math.floor(100*x.y),Math.floor(100*x.k),x.a)}denormalizeRGBA(x){return new We(Math.round(255*x.r),Math.round(255*x.g),Math.round(255*x.b),x.a)}stringToHsva(x="",ye=!1){let Te=null;x=(x||"").toLowerCase();const ke=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(Ee){return new We(parseInt(Ee[2],10)/255,parseInt(Ee[3],10)/255,parseInt(Ee[4],10)/255,isNaN(parseFloat(Ee[5]))?1:parseFloat(Ee[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(Ee){return new ft(parseInt(Ee[2],10)/360,parseInt(Ee[3],10)/100,parseInt(Ee[4],10)/100,isNaN(parseFloat(Ee[5]))?1:parseFloat(Ee[5]))}}];ke.push(ye?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(Ee){return new We(parseInt(Ee[1],16)/255,parseInt(Ee[2],16)/255,parseInt(Ee[3],16)/255,parseInt(Ee[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(Ee){return new We(parseInt(Ee[1],16)/255,parseInt(Ee[2],16)/255,parseInt(Ee[3],16)/255,1)}}),ke.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(Ee){return new We(parseInt(Ee[1]+Ee[1],16)/255,parseInt(Ee[2]+Ee[2],16)/255,parseInt(Ee[3]+Ee[3],16)/255,1)}});for(const Ee in ke)if(ke.hasOwnProperty(Ee)){const nt=ke[Ee],at=nt.re.exec(x),yt=at&&nt.parse(at);if(yt)return yt instanceof We?Te=this.rgbaToHsva(yt):yt instanceof ft&&(Te=this.hsla2hsva(yt)),Te}return Te}outputFormat(x,ye,Te){switch("auto"===ye&&(ye=x.a<1?"rgba":"hex"),ye){case"hsla":const ke=this.hsva2hsla(x),Ee=new ft(Math.round(360*ke.h),Math.round(100*ke.s),Math.round(100*ke.l),Math.round(100*ke.a)/100);return x.a<1||"always"===Te?"hsla("+Ee.h+","+Ee.s+"%,"+Ee.l+"%,"+Ee.a+")":"hsl("+Ee.h+","+Ee.s+"%,"+Ee.l+"%)";case"rgba":const nt=this.denormalizeRGBA(this.hsvaToRgba(x));return x.a<1||"always"===Te?"rgba("+nt.r+","+nt.g+","+nt.b+","+Math.round(100*nt.a)/100+")":"rgb("+nt.r+","+nt.g+","+nt.b+")";default:const at="always"===Te||"forced"===Te;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(x)),at)}}static \u0275fac=function(ye){return new(ye||f)};static \u0275prov=r.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();const M=typeof window<"u"&&"ontouchstart"in window;let Y=(()=>{class f{ngZone;elRef;cdRef;document;platformId;service;isIE10=!1;cmyk;hsva;width;height;cmykColor;outputColor;initialColor;fallbackColor;listenerResize;listenerMouseDown;directiveInstance;sliderH;sliderDimMax;directiveElementRef;dialogArrowSize=10;dialogArrowOffset=15;dialogInputFields=[He.HEX,He.RGBA,He.HSLA,He.CMYK];useRootViewContainer=!1;show;hidden;top;left;position;format;slider;hexText;hexAlpha;cmykText;hslaText;rgbaText;arrowTop;selectedColor;hueSliderColor;alphaSliderColor;cpWidth;cpHeight;cpColorMode;cpCmykEnabled;cpAlphaChannel;cpOutputFormat;cpDisableInput;cpDialogDisplay;cpIgnoredElements;cpSaveClickOutside;cpCloseClickOutside;cpPosition;cpUsePosition;cpPositionOffset;cpOKButton;cpOKButtonText;cpOKButtonClass;cpCancelButton;cpCancelButtonText;cpCancelButtonClass;cpEyeDropper;eyeDropperSupported;cpPresetLabel;cpPresetColors;cpPresetColorsClass;cpMaxPresetColorsLength;cpPresetEmptyMessage;cpPresetEmptyMessageClass;cpAddColorButton;cpAddColorButtonText;cpAddColorButtonClass;cpRemoveColorButtonClass;cpArrowPosition;cpTriggerElement;cpExtraTemplate;dialogElement;hueSlider;alphaSlider;handleEsc(x){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(x)}handleEnter(x){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(x)}constructor(x,ye,Te,ke,Ee,nt){this.ngZone=x,this.elRef=ye,this.cdRef=Te,this.document=ke,this.platformId=Ee,this.service=nt,this.eyeDropperSupported=(0,m.UE)(this.platformId)&&"EyeDropper"in this.document.defaultView}ngOnInit(){this.slider=new Re(0,0,0,0),this.sliderDimMax=new te(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?He.CMYK:"rgba"===this.cpOutputFormat?He.RGBA:"hsla"===this.cpOutputFormat?He.HSLA:He.HEX,this.listenerMouseDown=Te=>{this.onMouseDown(Te)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new te(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(x,ye=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(x),this.setColorFromString(x,ye),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(x,ye,Te,ke,Ee,nt,at,yt,Jt,Qe,Ft,it,Mt,lt,Bt,ct,Tt,rt,Et,vn,In,Un,Jn,Cr,wn,cn,Yt,Qt,jn,Lt,Dn,Pn,Sn,Tn,dn,Bn,Ct,me){this.setInitialColor(Te),this.setColorMode(yt),this.isIE10=10===function je(){let f="";typeof navigator<"u"&&(f=navigator.userAgent.toLowerCase());const V=f.indexOf("msie ");return V>0&&parseInt(f.substring(V+5,f.indexOf(".",V)),10)}(),this.directiveInstance=x,this.directiveElementRef=ye,this.cpDisableInput=it,this.cpCmykEnabled=Jt,this.cpAlphaChannel=Qe,this.cpOutputFormat=Ft,this.cpDialogDisplay=nt,this.cpIgnoredElements=Mt,this.cpSaveClickOutside=lt,this.cpCloseClickOutside=Bt,this.useRootViewContainer=ct,this.width=this.cpWidth=parseInt(ke,10),this.height=this.cpHeight=parseInt(Ee,10),this.cpPosition=Tt,this.cpPositionOffset=parseInt(rt,10),this.cpOKButton=cn,this.cpOKButtonText=Qt,this.cpOKButtonClass=Yt,this.cpCancelButton=jn,this.cpCancelButtonText=Dn,this.cpCancelButtonClass=Lt,this.cpEyeDropper=Bn,this.fallbackColor=at||"#fff",this.setPresetConfig(vn,In),this.cpPresetColorsClass=Un,this.cpMaxPresetColorsLength=Jn,this.cpPresetEmptyMessage=Cr,this.cpPresetEmptyMessageClass=wn,this.cpAddColorButton=Pn,this.cpAddColorButtonText=Tn,this.cpAddColorButtonClass=Sn,this.cpRemoveColorButtonClass=dn,this.cpTriggerElement=Ct,this.cpExtraTemplate=me,Et||(this.dialogArrowOffset=0),"inline"===nt&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===Ft&&"always"!==Qe&&"forced"!==Qe&&(this.cpAlphaChannel="disabled")}setColorMode(x){switch(x.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(x){this.initialColor=x}setPresetConfig(x,ye){this.cpPresetLabel=x,this.cpPresetColors=ye}setColorFromString(x,ye=!0,Te=!0){let ke;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(ke=this.service.stringToHsva(x,!0),!ke&&!this.hsva&&(ke=this.service.stringToHsva(x,!1))):ke=this.service.stringToHsva(x,!1),!ke&&!this.hsva&&(ke=this.service.stringToHsva(this.fallbackColor,!1)),ke&&(this.hsva=ke,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(ye,Te))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(x){this.directiveInstance.sliderDragEnd({slider:x,color:this.outputColor})}onDragStart(x){this.directiveInstance.sliderDragStart({slider:x,color:this.outputColor})}onMouseDown(x){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&x.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,x.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,x.target)&&0===this.cpIgnoredElements.filter(ye=>ye===x.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(x){x.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(x){this.hsva=null,x.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(ye=>{this.setColorFromString(ye.sRGBHex,!0)})}onFormatToggle(x){const ye=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),Te=((this.dialogInputFields.indexOf(this.format)+x)%ye+ye)%ye;this.format=this.dialogInputFields[Te]}onColorChange(x){this.hsva.s=x.s/x.rgX,this.hsva.v=x.v/x.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(x){this.hsva.h=x.v/x.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(x){this.hsva.v=x.v/x.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(x){this.hsva.a=x.v/x.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(x){if(null===x)this.updateColorPicker();else{x&&"#"!==x[0]&&(x="#"+x);let ye=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(ye=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const Te=ye.test(x);Te&&(x.length<5&&(x="#"+x.substring(1).split("").map(ke=>ke+ke).join("")),"forced"===this.cpAlphaChannel&&(x+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(x,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:Te,value:x,color:this.outputColor})}}onRedInput(x){const ye=this.service.hsvaToRgba(this.hsva),Te=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;Te&&(ye.r=x.v/x.rg,this.hsva=this.service.rgbaToHsva(ye),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:Te,value:ye.r,color:this.outputColor})}onBlueInput(x){const ye=this.service.hsvaToRgba(this.hsva),Te=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;Te&&(ye.b=x.v/x.rg,this.hsva=this.service.rgbaToHsva(ye),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:Te,value:ye.b,color:this.outputColor})}onGreenInput(x){const ye=this.service.hsvaToRgba(this.hsva),Te=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;Te&&(ye.g=x.v/x.rg,this.hsva=this.service.rgbaToHsva(ye),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:Te,value:ye.g,color:this.outputColor})}onHueInput(x){const ye=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;ye&&(this.hsva.h=x.v/x.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:ye,value:this.hsva.h,color:this.outputColor})}onValueInput(x){const ye=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;ye&&(this.hsva.v=x.v/x.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:ye,value:this.hsva.v,color:this.outputColor})}onAlphaInput(x){const ye=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;ye&&(this.hsva.a=x.v/x.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:ye,value:this.hsva.a,color:this.outputColor})}onLightnessInput(x){const ye=this.service.hsva2hsla(this.hsva),Te=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;Te&&(ye.l=x.v/x.rg,this.hsva=this.service.hsla2hsva(ye),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:Te,value:ye.l,color:this.outputColor})}onSaturationInput(x){const ye=this.service.hsva2hsla(this.hsva),Te=!isNaN(x.v)&&x.v>=0&&x.v<=x.rg;Te&&(ye.s=x.v/x.rg,this.hsva=this.service.hsla2hsva(ye),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:Te,value:ye.s,color:this.outputColor})}onCyanInput(x){!isNaN(x.v)&&x.v>=0&&x.v<=x.rg&&(this.cmyk.c=x.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(x){!isNaN(x.v)&&x.v>=0&&x.v<=x.rg&&(this.cmyk.m=x.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(x){!isNaN(x.v)&&x.v>=0&&x.v<=x.rg&&(this.cmyk.y=x.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(x){!isNaN(x.v)&&x.v>=0&&x.v<=x.rg&&(this.cmyk.k=x.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(x,ye){x.stopPropagation(),this.cpPresetColors.filter(Te=>Te===ye).length||(this.cpPresetColors=this.cpPresetColors.concat(ye),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(x,ye){x.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(Te=>Te!==ye),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{M?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(M?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(x=!0,ye=!0,Te=!1){if(this.sliderDimMax){let ke,Ee,nt;2===this.cpColorMode&&(this.hsva.s=0);const at=this.outputColor;if(Ee=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(Te?(nt=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(nt)):(nt=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(nt))),nt=this.service.denormalizeRGBA(nt),this.sliderH=this.hsva.h):nt=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),ke=this.service.denormalizeRGBA(this.service.hsvaToRgba(new st(this.sliderH||this.hsva.h,1,1,1))),ye&&(this.hslaText=new ft(Math.round(360*Ee.h),Math.round(100*Ee.s),Math.round(100*Ee.l),Math.round(100*Ee.a)/100),this.rgbaText=new We(nt.r,nt.g,nt.b,Math.round(100*nt.a)/100),this.cpCmykEnabled&&(this.cmykText=new wt(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(nt,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==He.RGBA&&this.format!==He.CMYK&&this.format!==He.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?He.RGBA:He.HEX),this.hueSliderColor="rgb("+ke.r+","+ke.g+","+ke.b+")",this.alphaSliderColor="rgb("+nt.r+","+nt.g+","+nt.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==He.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const yt=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${yt})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new Re((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),x&&at!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let Te,x="static",ye="",ke=null,Ee=null,nt=this.directiveElementRef.nativeElement.parentNode;const at=this.dialogElement.nativeElement.offsetHeight;for(;null!==nt&&"HTML"!==nt.tagName;){if(Te=window.getComputedStyle(nt),x=Te.getPropertyValue("position"),ye=Te.getPropertyValue("transform"),"static"!==x&&null===ke&&(ke=nt),ye&&"none"!==ye&&null===Ee&&(Ee=nt),"fixed"===x){ke=Ee;break}nt=nt.parentNode}const yt=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==x);if(this.useRootViewContainer||"fixed"===x&&(!ke||ke instanceof HTMLUnknownElement))this.top=yt.top,this.left=yt.left;else{null===ke&&(ke=nt);const ct=this.createDialogBox(ke,"fixed"!==x);this.top=yt.top-ct.top,this.left=yt.left-ct.left}"fixed"===x&&(this.position="fixed");let Jt=this.cpPosition;const Qe=this.dialogElement.nativeElement.getBoundingClientRect();switch("auto"===this.cpPosition&&(Jt=function kt(f,V){let x="right",ye="bottom";const{height:Te,width:ke}=f,{top:Ee,left:nt}=V,at=Ee+V.height,yt=nt+V.width,Jt=Ee-Te<0,Qe=at+Te>(window.innerHeight||document.documentElement.clientHeight),Ft=nt-ke<0,it=yt+ke>(window.innerWidth||document.documentElement.clientWidth);return Qe&&(ye="top"),Jt&&(ye="bottom"),Ft&&(x="right"),it&&(x="left"),Jt&&Qe&&Ft&&it?["left","right","top","bottom"].reduce((Bt,ct)=>f[Bt]>f[ct]?Bt:ct):Ft&&it?Jt?"bottom":Qe||Ee>at?"top":"bottom":Jt&&Qe?Ft?"right":it||nt>yt?"left":"right":`${ye}-${x}`}(Qe,this.cpTriggerElement.nativeElement.getBoundingClientRect())),this.arrowTop="top"===Jt?at-1:void 0,this.cpArrowPosition=void 0,Jt){case"top":this.top-=at+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*yt.width-this.dialogArrowOffset;break;case"bottom":this.top+=yt.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*yt.width-this.dialogArrowOffset;break;case"top-left":case"left-top":this.top-=at-yt.height+yt.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"top-right":case"right-top":this.top-=at-yt.height+yt.height*this.cpPositionOffset/100,this.left+=yt.width+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"left":case"bottom-left":case"left-bottom":this.top+=yt.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2;break;default:this.top+=yt.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=yt.width+this.dialogArrowSize-2}const Ft=window.innerHeight,it=window.innerWidth,Mt=this.elRef.nativeElement.getBoundingClientRect();this.top+Qe.height>Ft&&(this.top=Ft-Qe.height,this.cpArrowPosition=Mt.x/2-20),this.left+Qe.width>it&&(this.left=it-Qe.width,this.cpArrowPosition=Mt.x/2-20),this.cpUsePosition=Jt}}isDescendant(x,ye){let Te=ye.parentNode;for(;null!==Te;){if(Te===x)return!0;Te=Te.parentNode}return!1}createDialogBox(x,ye){const{top:Te,left:ke}=x.getBoundingClientRect();return{top:Te+(ye?window.pageYOffset:0),left:ke+(ye?window.pageXOffset:0),width:x.offsetWidth,height:x.offsetHeight}}static \u0275fac=function(ye){return new(ye||f)(r.rXU(r.SKi),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(m.qQ),r.rXU(r.Agw),r.rXU(y))};static \u0275cmp=r.VBU({type:f,selectors:[["color-picker"]],viewQuery:function(ye,Te){if(1&ye&&(r.GBs(g,7),r.GBs(C,7),r.GBs(D,7)),2&ye){let ke;r.mGM(ke=r.lsd())&&(Te.dialogElement=ke.first),r.mGM(ke=r.lsd())&&(Te.hueSlider=ke.first),r.mGM(ke=r.lsd())&&(Te.alphaSlider=ke.first)}},hostBindings:function(ye,Te){1&ye&&r.bIt("keyup.esc",function(Ee){return Te.handleEsc(Ee)},!1,r.EBC)("keyup.enter",function(Ee){return Te.handleEnter(Ee)},!1,r.EBC)},decls:30,vars:51,consts:[["dialogPopup",""],["hueSlider",""],["valueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"cursor"],[1,"value",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"alpha",3,"newValue","dragStart","dragEnd","slider","rgX"],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"newValue","dragStart","dragEnd","slider","rgX","rgY"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"click","disabled"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"keyup.enter","newValue","text","rg","value"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"keyup.enter","newValue","text","rg","value"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"keyup.enter","newValue","text","rg","value"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"keyup.enter","newValue","text","rg","value"],[1,"hex-text"],[3,"blur","keyup.enter","newValue","text","value"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(ye,Te){if(1&ye){const ke=r.RV6();r.j41(0,"div",4,0),r.bIt("click",function(nt){return r.eBV(ke),r.Njj(nt.stopPropagation())}),r.DNE(2,h,1,7,"div",5)(3,U,2,8,"div",6),r.j41(4,"div",7)(5,"div",8),r.nrm(6,"div",9),r.j41(7,"div",10),r.bIt("click",function(){return r.eBV(ke),r.Njj(Te.eyeDropperSupported&&Te.cpEyeDropper&&Te.onEyeDropper())}),r.DNE(8,F,3,0,"svg",11),r.k0s(),r.DNE(9,k,2,5,"button",12),r.k0s(),r.j41(10,"div",13),r.DNE(11,z,1,0,"div",14),r.j41(12,"div",15,1),r.bIt("newValue",function(nt){return r.eBV(ke),r.Njj(Te.onHueChange(nt))})("dragStart",function(){return r.eBV(ke),r.Njj(Te.onDragStart("hue"))})("dragEnd",function(){return r.eBV(ke),r.Njj(Te.onDragEnd("hue"))}),r.nrm(14,"div",16),r.k0s(),r.j41(15,"div",17,2),r.bIt("newValue",function(nt){return r.eBV(ke),r.Njj(Te.onValueChange(nt))})("dragStart",function(){return r.eBV(ke),r.Njj(Te.onDragStart("value"))})("dragEnd",function(){return r.eBV(ke),r.Njj(Te.onDragEnd("value"))}),r.nrm(17,"div",16),r.k0s(),r.j41(18,"div",18,3),r.bIt("newValue",function(nt){return r.eBV(ke),r.Njj(Te.onAlphaChange(nt))})("dragStart",function(){return r.eBV(ke),r.Njj(Te.onDragStart("alpha"))})("dragEnd",function(){return r.eBV(ke),r.Njj(Te.onDragEnd("alpha"))}),r.nrm(20,"div",16),r.k0s()()(),r.DNE(21,T,17,12,"div",19)(22,ce,14,10,"div",20)(23,Q,14,10,"div",21)(24,Me,8,7,"div",22)(25,$,9,3,"div",23)(26,ge,3,0,"div",24)(27,gt,6,3,"div",25)(28,Rn,3,2,"div",26)(29,De,2,1,"div",27),r.k0s()}2&ye&&(r.xc7("display",Te.show?"block":"none")("visibility",Te.hidden?"hidden":"visible")("top",Te.top,"px")("left",Te.left,"px")("position",Te.position)("height",Te.cpHeight,"px")("width",Te.cpWidth,"px"),r.AVh("open",Te.show),r.R7$(2),r.Y8G("ngIf","popup"===Te.cpDialogDisplay),r.R7$(),r.Y8G("ngIf",1===(Te.cpColorMode||1)),r.R7$(4),r.xc7("background-color",Te.selectedColor)("cursor",Te.eyeDropperSupported&&Te.cpEyeDropper?"pointer":null),r.R7$(),r.Y8G("ngIf",Te.eyeDropperSupported&&Te.cpEyeDropper),r.R7$(),r.Y8G("ngIf",Te.cpAddColorButton),r.R7$(2),r.Y8G("ngIf","disabled"===Te.cpAlphaChannel),r.R7$(),r.xc7("display",1===(Te.cpColorMode||1)?"block":"none"),r.Y8G("rgX",1),r.R7$(2),r.xc7("left",null==Te.slider?null:Te.slider.h,"px"),r.R7$(),r.xc7("display",2===(Te.cpColorMode||1)?"block":"none"),r.Y8G("rgX",1),r.R7$(2),r.xc7("right",null==Te.slider?null:Te.slider.v,"px"),r.R7$(),r.xc7("display","disabled"===Te.cpAlphaChannel?"none":"block")("background-color",Te.alphaSliderColor),r.Y8G("rgX",1),r.R7$(2),r.xc7("left",null==Te.slider?null:Te.slider.a,"px"),r.R7$(),r.Y8G("ngIf",!Te.cpDisableInput&&1===(Te.cpColorMode||1)),r.R7$(),r.Y8G("ngIf",!Te.cpDisableInput&&1===(Te.cpColorMode||1)),r.R7$(),r.Y8G("ngIf",!Te.cpDisableInput&&1===(Te.cpColorMode||1)),r.R7$(),r.Y8G("ngIf",!Te.cpDisableInput&&1===(Te.cpColorMode||1)),r.R7$(),r.Y8G("ngIf",!Te.cpDisableInput&&2===(Te.cpColorMode||1)),r.R7$(),r.Y8G("ngIf",!Te.cpDisableInput&&1===(Te.cpColorMode||1)),r.R7$(),r.Y8G("ngIf",(null==Te.cpPresetColors?null:Te.cpPresetColors.length)||Te.cpAddColorButton),r.R7$(),r.Y8G("ngIf",Te.cpOKButton||Te.cpCancelButton),r.R7$(),r.Y8G("ngIf",Te.cpExtraTemplate))},dependencies:[m.Sq,m.bT,m.T3,Ce,ne],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.color-picker *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;-webkit-flex:1;-ms-flex:1;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2})}return f})(),_e=(()=>{class f{injector;cfr;appRef;vcRef;elRef;_service;dialog;dialogCreated=!1;ignoreChanges=!1;cmpRef;viewAttachedToAppRef=!1;colorPicker;cpWidth="230px";cpHeight="auto";cpToggle=!1;cpDisabled=!1;cpIgnoredElements=[];cpFallbackColor="";cpColorMode="color";cpCmykEnabled=!1;cpOutputFormat="auto";cpAlphaChannel="enabled";cpDisableInput=!1;cpDialogDisplay="popup";cpSaveClickOutside=!0;cpCloseClickOutside=!0;cpUseRootViewContainer=!1;cpPosition="auto";cpPositionOffset="0%";cpPositionRelativeToArrow=!1;cpOKButton=!1;cpOKButtonText="OK";cpOKButtonClass="cp-ok-button-class";cpCancelButton=!1;cpCancelButtonText="Cancel";cpCancelButtonClass="cp-cancel-button-class";cpEyeDropper=!1;cpPresetLabel="Preset colors";cpPresetColors;cpPresetColorsClass="cp-preset-colors-class";cpMaxPresetColorsLength=6;cpPresetEmptyMessage="No colors added";cpPresetEmptyMessageClass="preset-empty-message";cpAddColorButton=!1;cpAddColorButtonText="Add color";cpAddColorButtonClass="cp-add-color-button-class";cpRemoveColorButtonClass="cp-remove-color-button-class";cpArrowPosition=0;cpExtraTemplate;cpInputChange=new r.bkB(!0);cpToggleChange=new r.bkB(!0);cpSliderChange=new r.bkB(!0);cpSliderDragEnd=new r.bkB(!0);cpSliderDragStart=new r.bkB(!0);colorPickerOpen=new r.bkB(!0);colorPickerClose=new r.bkB(!0);colorPickerCancel=new r.bkB(!0);colorPickerSelect=new r.bkB(!0);colorPickerChange=new r.bkB(!1);cpCmykColorChange=new r.bkB(!0);cpPresetColorsChange=new r.bkB(!0);handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(x){this.inputChange(x)}constructor(x,ye,Te,ke,Ee,nt){this.injector=x,this.cfr=ye,this.appRef=Te,this.vcRef=ke,this.elRef=Ee,this._service=nt}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(x){x.cpToggle&&!this.cpDisabled&&(x.cpToggle.currentValue?this.openDialog():x.cpToggle.currentValue||this.closeDialog()),x.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(x.colorPicker.currentValue),this.dialog.setColorFromString(x.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(x.cpPresetLabel||x.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&(this.cmpRef.instance.cpAlphaChannel=this.cpAlphaChannel,this.dialog.openDialog(this.colorPicker));else{let x=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const ke=this.injector.get(this.appRef.componentTypes[0],r.zZn.NULL);ke!==r.zZn.NULL?x=ke.vcRef||ke.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const ye=this.cfr.resolveComponentFactory(Y);if(this.viewAttachedToAppRef)this.cmpRef=ye.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const Te=r.zZn.create({providers:[],parent:x.injector});this.cmpRef=x.createComponent(ye,0,Te,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==x&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(x){this.cpCmykColorChange.emit(x)}stateChanged(x){this.cpToggleChange.emit(x),x?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(x,ye=!0){this.ignoreChanges=ye,this.colorPickerChange.emit(x)}colorSelected(x){this.colorPickerSelect.emit(x)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const x=this.elRef.nativeElement,ye=this.cpIgnoredElements.filter(Te=>Te===x);!this.cpDisabled&&!ye.length&&(typeof document<"u"&&x===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(x){this.dialog?this.dialog.setColorFromString(x.target.value,!0):(this.colorPicker=x.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(x){this.cpInputChange.emit(x)}sliderChanged(x){this.cpSliderChange.emit(x)}sliderDragEnd(x){this.cpSliderDragEnd.emit(x)}sliderDragStart(x){this.cpSliderDragStart.emit(x)}presetColorsChanged(x){this.cpPresetColorsChange.emit(x)}static \u0275fac=function(ye){return new(ye||f)(r.rXU(r.zZn),r.rXU(r.OM3),r.rXU(r.o8S),r.rXU(r.c1b),r.rXU(r.aKT),r.rXU(y))};static \u0275dir=r.FsC({type:f,selectors:[["","colorPicker",""]],hostBindings:function(ye,Te){1&ye&&r.bIt("click",function(){return Te.handleClick()})("focus",function(){return Te.handleFocus()})("input",function(Ee){return Te.handleInput(Ee)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[r.OA$]})}return f})(),Z=(()=>{class f{static \u0275fac=function(ye){return new(ye||f)};static \u0275mod=r.$C({type:f});static \u0275inj=r.G2t({imports:[m.MD]})}return f})()},47428:(bn,be,w)=>{"use strict";w.d(be,{HU:()=>$,p:()=>b});var r=w(28407),m=w(54438),g=w(60177);w(38645),w(14264),w(87145);const F=new m.nKC("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),k=new m.nKC("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:K}=(0,m.WQX)(g.qQ);if(!K)throw new Error("Window is not available");return K}}),B=new m.nKC("ngx-data-layer",{providedIn:"root",factory:()=>function z(K){return K?K.dataLayer=K.dataLayer||[]:null}((0,m.WQX)(k))}),T=new m.nKC("ngx-gtag-fn",{providedIn:"root",factory:()=>function A(K,Ne){return K?K.gtag=K.gtag||function(){Ne.push(arguments)}:null}((0,m.WQX)(k),(0,m.WQX)(B))});let b=(()=>{class K{constructor(Ve,Ge,gt){this.settings=Ve,this._document=Ge,this._gtag=gt}get document(){return this._document}throw(Ve){(this.settings.enableTracing||(0,m.naY)())&&console&&console.error&&console.error(Ve)}toKeyValue(Ve){return Ve.size>0?Array.from(Ve).reduce((Ge,[gt,_t])=>Object.defineProperty(Ge,gt,{value:_t,enumerable:!0}),{}):void 0}gtag(...Ve){try{this._gtag(...Ve.filter(Ge=>void 0!==Ge))}catch(Ge){this.throw(Ge)}}event(Ve,Ge,gt,_t,zt,Rn){try{const Oe=new Map;Ge&&Oe.set("event_category",Ge),gt&&Oe.set("event_label",gt),_t&&Oe.set("value",_t),void 0!==zt&&Oe.set("interaction",zt),Rn&&Object.entries(Rn).map(([He,We])=>Oe.set(He,We));const De=this.toKeyValue(Oe);De?this.gtag("event",Ve,De):this.gtag("event",Ve)}catch(Oe){this.throw(Oe)}}pageView(Ve,Ge,gt,_t){try{const zt=new Map([["page_path",Ve]]);Ge&&zt.set("page_title",Ge),(gt||this.document)&&zt.set("page_location",gt||this.document.location.href),_t&&Object.entries(_t).map(([Rn,Oe])=>zt.set(Rn,Oe)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(zt))}catch(zt){this.throw(zt)}}appView(Ve,Ge,gt,_t,zt){try{const Rn=new Map([["screen_name",Ve],["app_name",Ge]]);gt&&Rn.set("app_id",gt),_t&&Rn.set("app_version",_t),zt&&Rn.set("app_installer_id",zt),this.gtag("event","screen_view",this.toKeyValue(Rn))}catch(Rn){this.throw(Rn)}}set(...Ve){try{this._gtag("set",...Ve)}catch(Ge){this.throw(Ge)}}exception(Ve,Ge){try{const gt=new Map;Ve&&gt.set("description",Ve),Ge&&gt.set("fatal",Ge),this.toKeyValue(gt)?this.gtag("event","exception",this.toKeyValue(gt)):this.gtag("event","exception")}catch(gt){this.throw(gt)}}}return K.\u0275fac=function(Ve){return new(Ve||K)(m.KVO(F),m.KVO(g.qQ),m.KVO(T))},K.\u0275prov=m.jDH({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const se={provide:m.hnV,multi:!0,useFactory:function Q(K,Ne,Ve){return(0,r.A)(function*(){if(!K.trackingCode)return void((0,m.naY)()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."));if(!Ne)return void((0,m.naY)()||console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface."));Ve||(0,m.naY)()||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),K.uri=K.uri||`https://www.googletagmanager.com/gtag/js?id=${K.trackingCode}`,K.initCommands=K?.initCommands??[],K.initCommands.find(_t=>"config"===_t.command)||K.initCommands.unshift({command:"config",values:[K.trackingCode]}),K.initCommands.find(_t=>"js"===_t.command)||K.initCommands.unshift({command:"js",values:[new Date]});for(const _t of K.initCommands)Ne(_t.command,..._t.values);const Ge=Ve.createElement("script");Ge.async=!0,Ge.src=K.uri,K.nonce&&Ge.setAttribute("nonce",K.nonce),Ve.getElementsByTagName("head")[0].appendChild(Ge)})},deps:[F,T,g.qQ]};new m.nKC("ngx-google-analytics-routing-settings",{factory:()=>({})});let $=(()=>{class K{static forRoot(Ve,Ge=[],gt,_t,zt){return{ngModule:K,providers:[{provide:F,useValue:{trackingCode:Ve,initCommands:Ge,uri:gt,enableTracing:_t,nonce:zt}},se]}}}return K.\u0275fac=function(Ve){return new(Ve||K)},K.\u0275mod=m.$C({type:K}),K.\u0275inj=m.G2t({}),K})()},35286:(bn,be,w)=>{"use strict";w.d(be,{GY:()=>Ve,Rl:()=>We,i0:()=>ft,y2:()=>je});var r=w(28407),m=w(60177),g=w(54438),C=w(85052),D=w(76718),h=w(15877),U=w(43654),F=w(32914),k=w(99539),z=w(21082),B=w(49784),A=w(35160),T=w(36110),J=(w(37925),w(60830)),ce=w(40832),W=w(21626),se=w(345);let Me=(()=>{class ne{constructor(){this._buttonClick$=new C.B,this.copied$=this._buttonClick$.pipe((0,F.n)(()=>(0,D.h)((0,h.of)(!0),(0,U.O)(3e3).pipe((0,k.u)(!1)))),(0,z.F)(),(0,B.t)(1)),this.copiedText$=this.copied$.pipe((0,A.Z)(!1),(0,T.T)(te=>te?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(y){return new(y||ne)};static#t=this.\u0275cmp=g.VBU({type:ne,selectors:[["markdown-clipboard"]],standalone:!0,features:[g.aNF],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(y,M){1&y&&(g.j41(0,"button",0),g.nI1(1,"async"),g.bIt("click",function(){return M.onCopyToClipboardClick()}),g.EFF(2),g.nI1(3,"async"),g.k0s()),2&y&&(g.AVh("copied",g.bMT(1,3,M.copied$)),g.R7$(2),g.JRh(g.bMT(3,5,M.copiedText$)))},dependencies:[m.Jj],encapsulation:2,changeDetection:0})}return ne})();const q=new g.nKC("CLIPBOARD_OPTIONS"),Ne=new g.nKC("MARKED_EXTENSIONS"),Ve=new g.nKC("MARKED_OPTIONS"),De=new g.nKC("SECURITY_CONTEXT");let We=(()=>{class ne{get options(){return this._options}set options(te){this._options={...this.DEFAULT_MARKED_OPTIONS,...te}}get renderer(){return this.options.renderer}set renderer(te){this.options.renderer=te}constructor(te,y,M,Y,G,_e,Z){this.clipboardOptions=te,this.extensions=y,this.platform=Y,this.securityContext=G,this.http=_e,this.sanitizer=Z,this.DEFAULT_MARKED_OPTIONS={renderer:new ce.A4},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new C.B,this.reload$=this._reload$.asObservable(),this.options=M}parse(te,y=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:M,inline:Y,emoji:G,mermaid:_e,disableSanitizer:Z}=y,f={...this.options,...y.markedOptions},V=f.renderer||this.renderer||new ce.A4;this.extensions&&(this.renderer=this.extendsRendererForExtensions(V)),_e&&(this.renderer=this.extendsRendererForMermaid(V));const x=this.trimIndentation(te),ye=M?this.decodeHtml(x):x,Te=G?this.parseEmoji(ye):ye,ke=this.parseMarked(Te,f,Y);return(Z?ke:this.sanitizer.sanitize(this.securityContext,ke))||""}render(te,y=this.DEFAULT_RENDER_OPTIONS,M){const{clipboard:Y,clipboardOptions:G,katex:_e,katexOptions:Z,mermaid:f,mermaidOptions:V}=y;_e&&this.renderKatex(te,{...this.DEFAULT_KATEX_OPTIONS,...Z}),f&&this.renderMermaid(te,{...this.DEFAULT_MERMAID_OPTIONS,...V}),Y&&this.renderClipboard(te,M,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...G}),this.highlight(te)}reload(){this._reload$.next()}getSource(te){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(te,{responseType:"text"}).pipe((0,T.T)(y=>this.handleExtension(te,y)))}highlight(te){if(!(0,m.UE)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;te||(te=document);const y=te.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(y,M=>M.classList.add("language-none")),Prism.highlightAllUnder(te)}decodeHtml(te){if(!(0,m.UE)(this.platform))return te;const y=document.createElement("textarea");return y.innerHTML=te,y.value}extendsRendererForExtensions(te){const y=te;return!0===y.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&ce.xI.use(...this.extensions),y.\u0275NgxMarkdownRendererExtendedForExtensions=!0),te}extendsRendererForMermaid(te){const y=te;if(!0===y.\u0275NgxMarkdownRendererExtendedForMermaid)return te;const M=te.code;return te.code=function(Y,G,_e){return"mermaid"===G?`<div class="mermaid">${Y}</div>`:M.call(this,Y,G,_e)},y.\u0275NgxMarkdownRendererExtendedForMermaid=!0,te}handleExtension(te,y){const M=te.lastIndexOf("://"),Y=M>-1?te.substring(M+4):te,G=Y.lastIndexOf("/"),_e=G>-1?Y.substring(G+1).split("?")[0]:"",Z=_e.lastIndexOf("."),f=Z>-1?_e.substring(Z+1):"";return f&&"md"!==f?"```"+f+"\n"+y+"\n```":y}parseMarked(te,y,M=!1){if(y.renderer){const Y={...y.renderer};delete Y.\u0275NgxMarkdownRendererExtendedForExtensions,delete Y.\u0275NgxMarkdownRendererExtendedForMermaid,delete y.renderer,ce.xI.use({renderer:Y})}return M?ce.xI.parseInline(te,y):ce.xI.parse(te,y)}parseEmoji(te){if(!(0,m.UE)(this.platform))return te;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(te)}renderKatex(te,y){if((0,m.UE)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(te,y)}}renderClipboard(te,y,M){if(!(0,m.UE)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!y)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:Y,buttonTemplate:G}=M,_e=te.querySelectorAll("pre");for(let Z=0;Z<_e.length;Z++){const f=_e.item(Z),V=document.createElement("div");V.style.position="relative",f.parentNode.insertBefore(V,f),V.appendChild(f);const x=document.createElement("div");let ye,Te;if(x.classList.add("markdown-clipboard-toolbar"),x.style.position="absolute",x.style.top=".5em",x.style.right=".5em",x.style.zIndex="1",V.insertAdjacentElement("beforeend",x),V.onmouseenter=()=>x.classList.add("hover"),V.onmouseleave=()=>x.classList.remove("hover"),Y){const ke=y.createComponent(Y);ye=ke.hostView,ke.changeDetectorRef.markForCheck()}else if(G)ye=y.createEmbeddedView(G);else{const ke=y.createComponent(Me);ye=ke.hostView,ke.changeDetectorRef.markForCheck()}ye.rootNodes.forEach(ke=>{x.appendChild(ke),Te=new ClipboardJS(ke,{text:()=>f.innerText})}),ye.onDestroy(()=>Te.destroy())}}renderMermaid(te,y=this.DEFAULT_MERMAID_OPTIONS){if(!(0,m.UE)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const M=te.querySelectorAll(".mermaid");0!==M.length&&(mermaid.initialize(y),mermaid.run({nodes:M}))}trimIndentation(te){if(!te)return"";let y;return te.split("\n").map(M=>{let Y=y;return M.length>0&&(Y=isNaN(Y)?M.search(/\S|$/):Math.min(M.search(/\S|$/),Y)),isNaN(y)&&(y=Y),Y?M.substring(Y):M}).join("\n")}static#e=this.\u0275fac=function(y){return new(y||ne)(g.KVO(q,8),g.KVO(Ne,8),g.KVO(Ve,8),g.KVO(g.Agw),g.KVO(De),g.KVO(W.Qq,8),g.KVO(se.up))};static#t=this.\u0275prov=g.jDH({token:ne,factory:ne.\u0275fac})}return ne})(),ft=(()=>{class ne{constructor(te,y,M,Y,G){this.domSanitizer=te,this.elementRef=y,this.markdownService=M,this.viewContainerRef=Y,this.zone=G}transform(te,y){var M=this;return(0,r.A)(function*(){if(null==te)return"";if("string"!=typeof te)return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof te}]`),te;const Y=yield M.markdownService.parse(te,y);return M.zone.onStable.pipe((0,J.$)()).subscribe(()=>M.markdownService.render(M.elementRef.nativeElement,y,M.viewContainerRef)),M.domSanitizer.bypassSecurityTrustHtml(Y)})()}static#e=this.\u0275fac=function(y){return new(y||ne)(g.rXU(se.up,16),g.rXU(g.aKT,16),g.rXU(We,16),g.rXU(g.c1b,16),g.rXU(g.SKi,16))};static#t=this.\u0275pipe=g.EJ8({name:"markdown",type:ne,pure:!0,standalone:!0})}return ne})();function wt(ne){return[We,ne?.loader??[],ne?.clipboardOptions??[],ne?.markedOptions??[],{provide:Ne,useValue:ne?.markedExtensions??[]},{provide:De,useValue:ne?.sanitize??g.WPN.HTML}]}let je=(()=>{class ne{static forRoot(te){return{ngModule:ne,providers:[wt(te)]}}static forChild(){return{ngModule:ne}}static#e=this.\u0275fac=function(y){return new(y||ne)};static#t=this.\u0275mod=g.$C({type:ne});static#n=this.\u0275inj=g.G2t({imports:[m.MD]})}return ne})();var Ce;!function(ne){let Re;var M;let te,y;(M=Re=ne.SecurityLevel||(ne.SecurityLevel={})).Strict="strict",M.Loose="loose",M.Antiscript="antiscript",M.Sandbox="sandbox",function(M){M.Base="base",M.Forest="forest",M.Dark="dark",M.Default="default",M.Neutral="neutral"}(te=ne.Theme||(ne.Theme={})),function(M){M[M.Debug=1]="Debug",M[M.Info=2]="Info",M[M.Warn=3]="Warn",M[M.Error=4]="Error",M[M.Fatal=5]="Fatal"}(y=ne.LogLevel||(ne.LogLevel={}))}(Ce||(Ce={}))},74902:(bn,be,w)=>{"use strict";var r;w.d(be,{F:()=>C});var m=w(54438),g=w(5442);let C=(()=>{class D{constructor(){this._papa=r||(r=w.t(g,2))}parse(U,F){return this._papa.parse(U,F)}unparse(U,F){return this._papa.unparse(U,F)}setLocalChunkSize(U){this._papa.LocalChunkSize=U}setRemoteChunkSize(U){this._papa.RemoteChunkSize=U}setDefaultDelimiter(U){this._papa.DefaultDelimiter=U}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=m.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},27878:(bn,be,w)=>{"use strict";w.d(be,{CP:()=>k,TL:()=>z,wR:()=>B});var r=w(54438),m=w(85052),g=w(11756),C=w(2573),D=w(15152),h=function(A){return A[A.Queue=0]="Queue",A[A.Uploading=1]="Uploading",A[A.Done=2]="Done",A[A.Cancelled=3]="Cancelled",A}(h||{});function U(A){if(0===A)return"0 Byte";const J=Math.floor(Math.log(A)/Math.log(1024));return parseFloat((A/Math.pow(1024,J)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][J]}class F{constructor(T=Number.POSITIVE_INFINITY,b=["*"],J=Number.POSITIVE_INFINITY,ce=Number.POSITIVE_INFINITY){this.queue=[],this.serviceEvents=new r.bkB,this.uploadScheduler=new m.B,this.subs=[],this.contentTypes=b,this.maxUploads=J,this.maxFileSize=ce,this.uploadScheduler.pipe((0,g.Z)(W=>this.startUpload(W),T)).subscribe(W=>this.serviceEvents.emit(W))}handleFiles(T){const b=[].reduce.call(T,(J,ce,W)=>{const se=J.length+this.queue.length+1;if(this.isContentTypeAllowed(ce.type)&&se<=this.maxUploads&&this.isFileSizeAllowed(ce.size))J=J.concat(ce);else{const Q=this.makeUploadFile(ce,W);this.serviceEvents.emit({type:"rejected",file:Q})}return J},[]);this.queue.push(...b.map((J,ce)=>{const W=this.makeUploadFile(J,ce);return this.serviceEvents.emit({type:"addedToQueue",file:W}),W})),this.serviceEvents.emit({type:"allAddedToQueue"})}initInputEvents(T){return T.subscribe(b=>{switch(b.type){case"uploadFile":const J=this.queue.findIndex(Ie=>Ie===b.file);-1!==J&&b.file&&this.uploadScheduler.next({file:this.queue[J],event:b});break;case"uploadAll":this.queue.filter(Ie=>Ie.progress.status===h.Queue).forEach(Ie=>this.uploadScheduler.next({file:Ie,event:b}));break;case"cancel":const W=b.id||null;if(!W)return;this.subs.filter(Ie=>Ie.id===W).forEach(Ie=>{if(Ie.sub){Ie.sub.unsubscribe();const ae=this.queue.findIndex(Me=>Me.id===W);-1!==ae&&(this.queue[ae].progress.status=h.Cancelled,this.serviceEvents.emit({type:"cancelled",file:this.queue[ae]}))}});break;case"cancelAll":this.subs.forEach(Ie=>{Ie.sub&&Ie.sub.unsubscribe();const ae=this.queue.find(Me=>Me.id===Ie.id);ae&&(ae.progress.status=h.Cancelled,this.serviceEvents.emit({type:"cancelled",file:ae}))});break;case"remove":if(!b.id)return;const Q=this.queue.findIndex(Ie=>Ie.id===b.id);if(-1!==Q){const Ie=this.queue[Q];this.queue.splice(Q,1),this.serviceEvents.emit({type:"removed",file:Ie})}break;case"removeAll":this.queue.length&&(this.queue=[],this.serviceEvents.emit({type:"removedAll"}))}})}startUpload(T){return new C.c(b=>{const J=this.uploadFile(T.file,T.event).pipe((0,D.j)(()=>{b.closed||b.complete()})).subscribe({next:ce=>{b.next(ce)},error:ce=>{b.error(ce),b.complete()},complete:()=>{b.complete()}});this.subs.push({id:T.file.id,sub:J})})}uploadFile(T,b){return new C.c(J=>{const ce=b.url||"",W=b.method||"POST",se=b.data||{},Q=b.headers||{},Ie=new XMLHttpRequest,ae=(new Date).getTime();let Me=T.progress.data&&T.progress.data.startTime||ae,q=0,$=null;Ie.open(W,ce,!0),Ie.withCredentials=!!b.withCredentials,Ie.upload.onprogress=ge=>{if(ge.lengthComputable){const K=Math.round(100*ge.loaded/ge.total),Ne=(new Date).getTime()-ae;q=Math.round(ge.loaded/Ne*1e3),Me=T.progress.data&&T.progress.data.startTime||(new Date).getTime(),$=Math.ceil((ge.total-ge.loaded)/q),T.progress={status:h.Uploading,data:{percentage:K,speed:q,speedHuman:`${U(q)}/s`,startTime:Me,endTime:null,eta:$,etaHuman:this.secondsToHuman($)}},J.next({type:"uploading",file:T})}},Ie.upload.ontimeout=ge=>{J.error(ge),J.complete()},Ie.upload.onerror=ge=>{J.error(ge),J.complete()},Ie.upload.onabort=()=>{J.complete()},Ie.onreadystatechange=()=>{if(Ie.readyState===XMLHttpRequest.DONE){const ge=Math.round(T.size/((new Date).getTime()-Me)*1e3);T.progress={status:h.Done,data:{percentage:100,speed:ge,speedHuman:`${U(ge)}/s`,startTime:Me,endTime:(new Date).getTime(),eta:$,etaHuman:this.secondsToHuman($||0)}},T.responseStatus=Ie.status;try{T.response=JSON.parse(Ie.response)}catch{T.response=Ie.response}T.responseHeaders=this.parseResponseHeaders(Ie.getAllResponseHeaders()),J.next({type:"done",file:T}),J.complete()}};try{const ge=T.nativeFile,K=this.queue.findIndex(Ve=>Ve.nativeFile===ge);let Ne;this.queue[K].progress.status===h.Cancelled&&J.complete(),Object.keys(Q).forEach(Ve=>Ie.setRequestHeader(Ve,Q[Ve])),!1!==b.includeWebKitFormBoundary?(Object.keys(se).forEach(Ve=>T.form.append(Ve,se[Ve])),T.form.append(b.fieldName||"file",ge,ge.name),Ne=T.form):Ne=ge,this.serviceEvents.emit({type:"start",file:T}),Ie.send(Ne)}catch{J.complete()}return()=>{Ie.abort()}})}secondsToHuman(T){return new Date(1e3*T).toISOString().substr(11,8)}generateId(){return Math.random().toString(36).substring(7)}setContentTypes(T){this.contentTypes=typeof T<"u"&&T instanceof Array?void 0!==T.find(b=>"*"===b)?["*"]:T:["*"]}allContentTypesAllowed(){return void 0!==this.contentTypes.find(T=>"*"===T)}isContentTypeAllowed(T){return!!this.allContentTypesAllowed()||void 0!==this.contentTypes.find(b=>b===T)}isFileSizeAllowed(T){return!this.maxFileSize||T<=this.maxFileSize}makeUploadFile(T,b){return{fileIndex:b,id:this.generateId(),name:T.name,size:T.size,type:T.type,form:new FormData,progress:{status:h.Queue,data:{percentage:0,speed:0,speedHuman:`${U(0)}/s`,startTime:null,endTime:null,eta:null,etaHuman:null}},lastModifiedDate:new Date(T.lastModified),sub:void 0,nativeFile:T}}parseResponseHeaders(T){return T?T.split("\n").map(b=>b.split(/: */,2)).filter(b=>b[0]).reduce((b,J)=>(b[J[0]]=J[1],b),{}):{}}}let k=(()=>{class A{constructor(b){this.elementRef=b,this.stopEvent=J=>{J.stopPropagation(),J.preventDefault()},this.uploadOutput=new r.bkB}ngOnInit(){this._sub=[],this.upload=new F(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this._sub.push(this.upload.serviceEvents.subscribe(se=>{this.uploadOutput.emit(se)})),this.uploadInput instanceof r.bkB&&this._sub.push(this.upload.initInputEvents(this.uploadInput)),this.el.addEventListener("drop",this.stopEvent,!1),this.el.addEventListener("dragenter",this.stopEvent,!1),this.el.addEventListener("dragover",this.stopEvent,!1)}ngOnDestroy(){this._sub&&this._sub.forEach(b=>b.unsubscribe())}onDrop(b){b.stopPropagation(),b.preventDefault(),this.uploadOutput.emit({type:"drop"}),this.upload.handleFiles(b.dataTransfer.files)}onDragOver(b){b&&this.uploadOutput.emit({type:"dragOver"})}onDragLeave(b){b&&this.uploadOutput.emit({type:"dragOut"})}static#e=this.\u0275fac=function(J){return new(J||A)(r.rXU(r.aKT))};static#t=this.\u0275dir=r.FsC({type:A,selectors:[["","ngFileDrop",""]],hostBindings:function(J,ce){1&J&&r.bIt("drop",function(se){return ce.onDrop(se)})("dragover",function(se){return ce.onDragOver(se)})("dragleave",function(se){return ce.onDragLeave(se)})},inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}})}return A})(),z=(()=>{class A{constructor(b){this.elementRef=b,this.fileListener=()=>{this.el.files&&this.upload.handleFiles(this.el.files)},this.uploadOutput=new r.bkB}ngOnInit(){this._sub=[],this.upload=new F(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this.el.addEventListener("change",this.fileListener,!1),this._sub.push(this.upload.serviceEvents.subscribe(se=>{this.uploadOutput.emit(se)})),this.uploadInput instanceof r.bkB&&this._sub.push(this.upload.initInputEvents(this.uploadInput))}ngOnDestroy(){this.el&&(this.el.removeEventListener("change",this.fileListener,!1),this._sub.forEach(b=>b.unsubscribe()))}static#e=this.\u0275fac=function(J){return new(J||A)(r.rXU(r.aKT))};static#t=this.\u0275dir=r.FsC({type:A,selectors:[["","ngFileSelect",""]],inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}})}return A})(),B=(()=>{class A{static#e=this.\u0275fac=function(J){return new(J||A)};static#t=this.\u0275mod=r.$C({type:A});static#n=this.\u0275inj=r.G2t({})}return A})()},40832:(bn,be,w)=>{"use strict";w.d(be,{A4:()=>K,xI:()=>zt});let m={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function g(kt){m=kt}const C=/[&<>"']/,D=new RegExp(C.source,"g"),h=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,U=new RegExp(h.source,"g"),F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k=kt=>F[kt];function z(kt,je){if(je){if(C.test(kt))return kt.replace(D,k)}else if(h.test(kt))return kt.replace(U,k);return kt}const B=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,T=/(^|[^\[])\^/g;function b(kt,je){kt="string"==typeof kt?kt:kt.source,je=je||"";const Ce={replace:(ne,Re)=>(Re=(Re="object"==typeof Re&&"source"in Re?Re.source:Re).replace(T,"$1"),kt=kt.replace(ne,Re),Ce),getRegex:()=>new RegExp(kt,je)};return Ce}function J(kt){try{kt=encodeURI(kt).replace(/%25/g,"%")}catch{return null}return kt}const ce={exec:()=>null};function W(kt,je){const ne=kt.replace(/\|/g,(te,y,M)=>{let Y=!1,G=y;for(;--G>=0&&"\\"===M[G];)Y=!Y;return Y?"|":" |"}).split(/ \|/);let Re=0;if(ne[0].trim()||ne.shift(),ne.length>0&&!ne[ne.length-1].trim()&&ne.pop(),je)if(ne.length>je)ne.splice(je);else for(;ne.length<je;)ne.push("");for(;Re<ne.length;Re++)ne[Re]=ne[Re].trim().replace(/\\\|/g,"|");return ne}function se(kt,je,Ce){const ne=kt.length;if(0===ne)return"";let Re=0;for(;Re<ne;){const te=kt.charAt(ne-Re-1);if(te!==je||Ce){if(te===je||!Ce)break;Re++}else Re++}return kt.slice(0,ne-Re)}function Ie(kt,je,Ce,ne){const Re=je.href,te=je.title?z(je.title):null,y=kt[1].replace(/\\([\[\]])/g,"$1");if("!"!==kt[0].charAt(0)){ne.state.inLink=!0;const M={type:"link",raw:Ce,href:Re,title:te,text:y,tokens:ne.inlineTokens(y)};return ne.state.inLink=!1,M}return{type:"image",raw:Ce,href:Re,title:te,text:z(y)}}class Me{options;rules;lexer;constructor(je){this.options=je||m}space(je){const Ce=this.rules.block.newline.exec(je);if(Ce&&Ce[0].length>0)return{type:"space",raw:Ce[0]}}code(je){const Ce=this.rules.block.code.exec(je);if(Ce){const ne=Ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ce[0],codeBlockStyle:"indented",text:this.options.pedantic?ne:se(ne,"\n")}}}fences(je){const Ce=this.rules.block.fences.exec(je);if(Ce){const ne=Ce[0],Re=function ae(kt,je){const Ce=kt.match(/^(\s+)(?:```)/);if(null===Ce)return je;const ne=Ce[1];return je.split("\n").map(Re=>{const te=Re.match(/^\s+/);if(null===te)return Re;const[y]=te;return y.length>=ne.length?Re.slice(ne.length):Re}).join("\n")}(ne,Ce[3]||"");return{type:"code",raw:ne,lang:Ce[2]?Ce[2].trim().replace(this.rules.inline._escapes,"$1"):Ce[2],text:Re}}}heading(je){const Ce=this.rules.block.heading.exec(je);if(Ce){let ne=Ce[2].trim();if(/#$/.test(ne)){const Re=se(ne,"#");(this.options.pedantic||!Re||/ $/.test(Re))&&(ne=Re.trim())}return{type:"heading",raw:Ce[0],depth:Ce[1].length,text:ne,tokens:this.lexer.inline(ne)}}}hr(je){const Ce=this.rules.block.hr.exec(je);if(Ce)return{type:"hr",raw:Ce[0]}}blockquote(je){const Ce=this.rules.block.blockquote.exec(je);if(Ce){const ne=se(Ce[0].replace(/^ *>[ \t]?/gm,""),"\n"),Re=this.lexer.state.top;this.lexer.state.top=!0;const te=this.lexer.blockTokens(ne);return this.lexer.state.top=Re,{type:"blockquote",raw:Ce[0],tokens:te,text:ne}}}list(je){let Ce=this.rules.block.list.exec(je);if(Ce){let ne=Ce[1].trim();const Re=ne.length>1,te={type:"list",raw:"",ordered:Re,start:Re?+ne.slice(0,-1):"",loose:!1,items:[]};ne=Re?`\\d{1,9}\\${ne.slice(-1)}`:`\\${ne}`,this.options.pedantic&&(ne=Re?ne:"[*+-]");const y=new RegExp(`^( {0,3}${ne})((?:[\t ][^\\n]*)?(?:\\n|$))`);let M="",Y="",G=!1;for(;je;){let _e=!1;if(!(Ce=y.exec(je))||this.rules.block.hr.test(je))break;M=Ce[0],je=je.substring(M.length);let Z=Ce[2].split("\n",1)[0].replace(/^\t+/,ke=>" ".repeat(3*ke.length)),f=je.split("\n",1)[0],V=0;this.options.pedantic?(V=2,Y=Z.trimStart()):(V=Ce[2].search(/[^ ]/),V=V>4?1:V,Y=Z.slice(V),V+=Ce[1].length);let x=!1;if(!Z&&/^ *$/.test(f)&&(M+=f+"\n",je=je.substring(f.length+1),_e=!0),!_e){const ke=new RegExp(`^ {0,${Math.min(3,V-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ee=new RegExp(`^ {0,${Math.min(3,V-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),nt=new RegExp(`^ {0,${Math.min(3,V-1)}}(?:\`\`\`|~~~)`),at=new RegExp(`^ {0,${Math.min(3,V-1)}}#`);for(;je;){const yt=je.split("\n",1)[0];if(f=yt,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),nt.test(f)||at.test(f)||ke.test(f)||Ee.test(je))break;if(f.search(/[^ ]/)>=V||!f.trim())Y+="\n"+f.slice(V);else{if(x||Z.search(/[^ ]/)>=4||nt.test(Z)||at.test(Z)||Ee.test(Z))break;Y+="\n"+f}!x&&!f.trim()&&(x=!0),M+=yt+"\n",je=je.substring(yt.length+1),Z=f.slice(V)}}te.loose||(G?te.loose=!0:/\n *\n *$/.test(M)&&(G=!0));let Te,ye=null;this.options.gfm&&(ye=/^\[[ xX]\] /.exec(Y),ye&&(Te="[ ] "!==ye[0],Y=Y.replace(/^\[[ xX]\] +/,""))),te.items.push({type:"list_item",raw:M,task:!!ye,checked:Te,loose:!1,text:Y,tokens:[]}),te.raw+=M}te.items[te.items.length-1].raw=M.trimEnd(),te.items[te.items.length-1].text=Y.trimEnd(),te.raw=te.raw.trimEnd();for(let _e=0;_e<te.items.length;_e++)if(this.lexer.state.top=!1,te.items[_e].tokens=this.lexer.blockTokens(te.items[_e].text,[]),!te.loose){const Z=te.items[_e].tokens.filter(V=>"space"===V.type),f=Z.length>0&&Z.some(V=>/\n.*\n/.test(V.raw));te.loose=f}if(te.loose)for(let _e=0;_e<te.items.length;_e++)te.items[_e].loose=!0;return te}}html(je){const Ce=this.rules.block.html.exec(je);if(Ce)return{type:"html",block:!0,raw:Ce[0],pre:"pre"===Ce[1]||"script"===Ce[1]||"style"===Ce[1],text:Ce[0]}}def(je){const Ce=this.rules.block.def.exec(je);if(Ce){const ne=Ce[1].toLowerCase().replace(/\s+/g," "),Re=Ce[2]?Ce[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",te=Ce[3]?Ce[3].substring(1,Ce[3].length-1).replace(this.rules.inline._escapes,"$1"):Ce[3];return{type:"def",tag:ne,raw:Ce[0],href:Re,title:te}}}table(je){const Ce=this.rules.block.table.exec(je);if(Ce){if(!/[:|]/.test(Ce[2]))return;const ne={type:"table",raw:Ce[0],header:W(Ce[1]).map(Re=>({text:Re,tokens:[]})),align:Ce[2].replace(/^\||\| *$/g,"").split("|"),rows:Ce[3]&&Ce[3].trim()?Ce[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(ne.header.length===ne.align.length){let te,y,M,Y,Re=ne.align.length;for(te=0;te<Re;te++){const G=ne.align[te];G&&(ne.align[te]=/^ *-+: *$/.test(G)?"right":/^ *:-+: *$/.test(G)?"center":/^ *:-+ *$/.test(G)?"left":null)}for(Re=ne.rows.length,te=0;te<Re;te++)ne.rows[te]=W(ne.rows[te],ne.header.length).map(G=>({text:G,tokens:[]}));for(Re=ne.header.length,y=0;y<Re;y++)ne.header[y].tokens=this.lexer.inline(ne.header[y].text);for(Re=ne.rows.length,y=0;y<Re;y++)for(Y=ne.rows[y],M=0;M<Y.length;M++)Y[M].tokens=this.lexer.inline(Y[M].text);return ne}}}lheading(je){const Ce=this.rules.block.lheading.exec(je);if(Ce)return{type:"heading",raw:Ce[0],depth:"="===Ce[2].charAt(0)?1:2,text:Ce[1],tokens:this.lexer.inline(Ce[1])}}paragraph(je){const Ce=this.rules.block.paragraph.exec(je);if(Ce){const ne="\n"===Ce[1].charAt(Ce[1].length-1)?Ce[1].slice(0,-1):Ce[1];return{type:"paragraph",raw:Ce[0],text:ne,tokens:this.lexer.inline(ne)}}}text(je){const Ce=this.rules.block.text.exec(je);if(Ce)return{type:"text",raw:Ce[0],text:Ce[0],tokens:this.lexer.inline(Ce[0])}}escape(je){const Ce=this.rules.inline.escape.exec(je);if(Ce)return{type:"escape",raw:Ce[0],text:z(Ce[1])}}tag(je){const Ce=this.rules.inline.tag.exec(je);if(Ce)return!this.lexer.state.inLink&&/^<a /i.test(Ce[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ce[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ce[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ce[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Ce[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Ce[0]}}link(je){const Ce=this.rules.inline.link.exec(je);if(Ce){const ne=Ce[2].trim();if(!this.options.pedantic&&/^</.test(ne)){if(!/>$/.test(ne))return;const y=se(ne.slice(0,-1),"\\");if((ne.length-y.length)%2==0)return}else{const y=function Q(kt,je){if(-1===kt.indexOf(je[1]))return-1;let Ce=0;for(let ne=0;ne<kt.length;ne++)if("\\"===kt[ne])ne++;else if(kt[ne]===je[0])Ce++;else if(kt[ne]===je[1]&&(Ce--,Ce<0))return ne;return-1}(Ce[2],"()");if(y>-1){const Y=(0===Ce[0].indexOf("!")?5:4)+Ce[1].length+y;Ce[2]=Ce[2].substring(0,y),Ce[0]=Ce[0].substring(0,Y).trim(),Ce[3]=""}}let Re=Ce[2],te="";if(this.options.pedantic){const y=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);y&&(Re=y[1],te=y[3])}else te=Ce[3]?Ce[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(Re=this.options.pedantic&&!/>$/.test(ne)?Re.slice(1):Re.slice(1,-1)),Ie(Ce,{href:Re&&Re.replace(this.rules.inline._escapes,"$1"),title:te&&te.replace(this.rules.inline._escapes,"$1")},Ce[0],this.lexer)}}reflink(je,Ce){let ne;if((ne=this.rules.inline.reflink.exec(je))||(ne=this.rules.inline.nolink.exec(je))){let Re=(ne[2]||ne[1]).replace(/\s+/g," ");if(Re=Ce[Re.toLowerCase()],!Re){const te=ne[0].charAt(0);return{type:"text",raw:te,text:te}}return Ie(ne,Re,ne[0],this.lexer)}}emStrong(je,Ce,ne=""){let Re=this.rules.inline.emStrong.lDelim.exec(je);if(!(!Re||Re[3]&&ne.match(/[\p{L}\p{N}]/u))&&(!Re[1]&&!Re[2]||!ne||this.rules.inline.punctuation.exec(ne))){const y=[...Re[0]].length-1;let M,Y,G=y,_e=0;const Z="*"===Re[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Z.lastIndex=0,Ce=Ce.slice(-1*je.length+y);null!=(Re=Z.exec(Ce));){if(M=Re[1]||Re[2]||Re[3]||Re[4]||Re[5]||Re[6],!M)continue;if(Y=[...M].length,Re[3]||Re[4]){G+=Y;continue}if((Re[5]||Re[6])&&y%3&&!((y+Y)%3)){_e+=Y;continue}if(G-=Y,G>0)continue;Y=Math.min(Y,Y+G+_e);const f=[...Re[0]][0].length,V=je.slice(0,y+Re.index+f+Y);if(Math.min(y,Y)%2){const ye=V.slice(1,-1);return{type:"em",raw:V,text:ye,tokens:this.lexer.inlineTokens(ye)}}const x=V.slice(2,-2);return{type:"strong",raw:V,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(je){const Ce=this.rules.inline.code.exec(je);if(Ce){let ne=Ce[2].replace(/\n/g," ");const Re=/[^ ]/.test(ne),te=/^ /.test(ne)&&/ $/.test(ne);return Re&&te&&(ne=ne.substring(1,ne.length-1)),ne=z(ne,!0),{type:"codespan",raw:Ce[0],text:ne}}}br(je){const Ce=this.rules.inline.br.exec(je);if(Ce)return{type:"br",raw:Ce[0]}}del(je){const Ce=this.rules.inline.del.exec(je);if(Ce)return{type:"del",raw:Ce[0],text:Ce[2],tokens:this.lexer.inlineTokens(Ce[2])}}autolink(je){const Ce=this.rules.inline.autolink.exec(je);if(Ce){let ne,Re;return"@"===Ce[2]?(ne=z(Ce[1]),Re="mailto:"+ne):(ne=z(Ce[1]),Re=ne),{type:"link",raw:Ce[0],text:ne,href:Re,tokens:[{type:"text",raw:ne,text:ne}]}}}url(je){let Ce;if(Ce=this.rules.inline.url.exec(je)){let ne,Re;if("@"===Ce[2])ne=z(Ce[0]),Re="mailto:"+ne;else{let te;do{te=Ce[0],Ce[0]=this.rules.inline._backpedal.exec(Ce[0])[0]}while(te!==Ce[0]);ne=z(Ce[0]),Re="www."===Ce[1]?"http://"+Ce[0]:Ce[0]}return{type:"link",raw:Ce[0],text:ne,href:Re,tokens:[{type:"text",raw:ne,text:ne}]}}}inlineText(je){const Ce=this.rules.inline.text.exec(je);if(Ce){let ne;return ne=this.lexer.state.inRawBlock?Ce[0]:z(Ce[0]),{type:"text",raw:Ce[0],text:ne}}}}const q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ce,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};q.def=b(q.def).replace("label",q._label).replace("title",q._title).getRegex(),q.bullet=/(?:[*+-]|\d{1,9}[.)])/,q.listItemStart=b(/^( *)(bull) */).replace("bull",q.bullet).getRegex(),q.list=b(q.list).replace(/bull/g,q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+q.def.source+")").getRegex(),q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,q.html=b(q.html,"i").replace("comment",q._comment).replace("tag",q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),q.lheading=b(q.lheading).replace(/bull/g,q.bullet).getRegex(),q.paragraph=b(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex(),q.blockquote=b(q.blockquote).replace("paragraph",q.paragraph).getRegex(),q.normal={...q},q.gfm={...q.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},q.gfm.table=b(q.gfm.table).replace("hr",q.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex(),q.gfm.paragraph=b(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",q.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex(),q.pedantic={...q.normal,html:b("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ce,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:b(q.normal._paragraph).replace("hr",q.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const $={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ce,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ce,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};$.punctuation=b($.punctuation,"u").replace(/punctuation/g,$._punctuation).getRegex(),$.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,$.anyPunctuation=/\\[punct]/g,$._escapes=/\\([punct])/g,$._comment=b(q._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),$.emStrong.lDelim=b($.emStrong.lDelim,"u").replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimAst=b($.emStrong.rDelimAst,"gu").replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimUnd=b($.emStrong.rDelimUnd,"gu").replace(/punct/g,$._punctuation).getRegex(),$.anyPunctuation=b($.anyPunctuation,"gu").replace(/punct/g,$._punctuation).getRegex(),$._escapes=b($._escapes,"gu").replace(/punct/g,$._punctuation).getRegex(),$._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,$._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,$.autolink=b($.autolink).replace("scheme",$._scheme).replace("email",$._email).getRegex(),$._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,$.tag=b($.tag).replace("comment",$._comment).replace("attribute",$._attribute).getRegex(),$._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,$._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,$.link=b($.link).replace("label",$._label).replace("href",$._href).replace("title",$._title).getRegex(),$.reflink=b($.reflink).replace("label",$._label).replace("ref",q._label).getRegex(),$.nolink=b($.nolink).replace("ref",q._label).getRegex(),$.reflinkSearch=b($.reflinkSearch,"g").replace("reflink",$.reflink).replace("nolink",$.nolink).getRegex(),$.normal={...$},$.pedantic={...$.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",$._label).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$._label).getRegex()},$.gfm={...$.normal,escape:b($.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$.gfm.url=b($.gfm.url,"i").replace("email",$.gfm._extended_email).getRegex(),$.breaks={...$.gfm,br:b($.br).replace("{2,}","*").getRegex(),text:b($.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ge{tokens;options;state;tokenizer;inlineQueue;constructor(je){this.tokens=[],this.tokens.links=Object.create(null),this.options=je||m,this.options.tokenizer=this.options.tokenizer||new Me,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Ce={block:q.normal,inline:$.normal};this.options.pedantic?(Ce.block=q.pedantic,Ce.inline=$.pedantic):this.options.gfm&&(Ce.block=q.gfm,Ce.inline=this.options.breaks?$.breaks:$.gfm),this.tokenizer.rules=Ce}static get rules(){return{block:q,inline:$}}static lex(je,Ce){return new ge(Ce).lex(je)}static lexInline(je,Ce){return new ge(Ce).inlineTokens(je)}lex(je){let Ce;for(je=je.replace(/\r\n|\r/g,"\n"),this.blockTokens(je,this.tokens);Ce=this.inlineQueue.shift();)this.inlineTokens(Ce.src,Ce.tokens);return this.tokens}blockTokens(je,Ce=[]){let ne,Re,te,y;for(je=this.options.pedantic?je.replace(/\t/g,"    ").replace(/^ +$/gm,""):je.replace(/^( *)(\t+)/gm,(M,Y,G)=>Y+"    ".repeat(G.length));je;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(M=>!!(ne=M.call({lexer:this},je,Ce))&&(je=je.substring(ne.raw.length),Ce.push(ne),!0)))){if(ne=this.tokenizer.space(je)){je=je.substring(ne.raw.length),1===ne.raw.length&&Ce.length>0?Ce[Ce.length-1].raw+="\n":Ce.push(ne);continue}if(ne=this.tokenizer.code(je)){je=je.substring(ne.raw.length),Re=Ce[Ce.length-1],!Re||"paragraph"!==Re.type&&"text"!==Re.type?Ce.push(ne):(Re.raw+="\n"+ne.raw,Re.text+="\n"+ne.text,this.inlineQueue[this.inlineQueue.length-1].src=Re.text);continue}if(ne=this.tokenizer.fences(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.heading(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.hr(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.blockquote(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.list(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.html(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.def(je)){je=je.substring(ne.raw.length),Re=Ce[Ce.length-1],!Re||"paragraph"!==Re.type&&"text"!==Re.type?this.tokens.links[ne.tag]||(this.tokens.links[ne.tag]={href:ne.href,title:ne.title}):(Re.raw+="\n"+ne.raw,Re.text+="\n"+ne.raw,this.inlineQueue[this.inlineQueue.length-1].src=Re.text);continue}if(ne=this.tokenizer.table(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.lheading(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(te=je,this.options.extensions&&this.options.extensions.startBlock){let M=1/0;const Y=je.slice(1);let G;this.options.extensions.startBlock.forEach(_e=>{G=_e.call({lexer:this},Y),"number"==typeof G&&G>=0&&(M=Math.min(M,G))}),M<1/0&&M>=0&&(te=je.substring(0,M+1))}if(this.state.top&&(ne=this.tokenizer.paragraph(te))){Re=Ce[Ce.length-1],y&&"paragraph"===Re.type?(Re.raw+="\n"+ne.raw,Re.text+="\n"+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Re.text):Ce.push(ne),y=te.length!==je.length,je=je.substring(ne.raw.length);continue}if(ne=this.tokenizer.text(je)){je=je.substring(ne.raw.length),Re=Ce[Ce.length-1],Re&&"text"===Re.type?(Re.raw+="\n"+ne.raw,Re.text+="\n"+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Re.text):Ce.push(ne);continue}if(je){const M="Infinite loop on byte: "+je.charCodeAt(0);if(this.options.silent){console.error(M);break}throw new Error(M)}}return this.state.top=!0,Ce}inline(je,Ce=[]){return this.inlineQueue.push({src:je,tokens:Ce}),Ce}inlineTokens(je,Ce=[]){let ne,Re,te,M,Y,G,y=je;if(this.tokens.links){const _e=Object.keys(this.tokens.links);if(_e.length>0)for(;null!=(M=this.tokenizer.rules.inline.reflinkSearch.exec(y));)_e.includes(M[0].slice(M[0].lastIndexOf("[")+1,-1))&&(y=y.slice(0,M.index)+"["+"a".repeat(M[0].length-2)+"]"+y.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(M=this.tokenizer.rules.inline.blockSkip.exec(y));)y=y.slice(0,M.index)+"["+"a".repeat(M[0].length-2)+"]"+y.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(M=this.tokenizer.rules.inline.anyPunctuation.exec(y));)y=y.slice(0,M.index)+"++"+y.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;je;)if(Y||(G=""),Y=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_e=>!!(ne=_e.call({lexer:this},je,Ce))&&(je=je.substring(ne.raw.length),Ce.push(ne),!0)))){if(ne=this.tokenizer.escape(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.tag(je)){je=je.substring(ne.raw.length),Re=Ce[Ce.length-1],Re&&"text"===ne.type&&"text"===Re.type?(Re.raw+=ne.raw,Re.text+=ne.text):Ce.push(ne);continue}if(ne=this.tokenizer.link(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.reflink(je,this.tokens.links)){je=je.substring(ne.raw.length),Re=Ce[Ce.length-1],Re&&"text"===ne.type&&"text"===Re.type?(Re.raw+=ne.raw,Re.text+=ne.text):Ce.push(ne);continue}if(ne=this.tokenizer.emStrong(je,y,G)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.codespan(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.br(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.del(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(ne=this.tokenizer.autolink(je)){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(!this.state.inLink&&(ne=this.tokenizer.url(je))){je=je.substring(ne.raw.length),Ce.push(ne);continue}if(te=je,this.options.extensions&&this.options.extensions.startInline){let _e=1/0;const Z=je.slice(1);let f;this.options.extensions.startInline.forEach(V=>{f=V.call({lexer:this},Z),"number"==typeof f&&f>=0&&(_e=Math.min(_e,f))}),_e<1/0&&_e>=0&&(te=je.substring(0,_e+1))}if(ne=this.tokenizer.inlineText(te)){je=je.substring(ne.raw.length),"_"!==ne.raw.slice(-1)&&(G=ne.raw.slice(-1)),Y=!0,Re=Ce[Ce.length-1],Re&&"text"===Re.type?(Re.raw+=ne.raw,Re.text+=ne.text):Ce.push(ne);continue}if(je){const _e="Infinite loop on byte: "+je.charCodeAt(0);if(this.options.silent){console.error(_e);break}throw new Error(_e)}}return Ce}}class K{options;constructor(je){this.options=je||m}code(je,Ce,ne){const Re=(Ce||"").match(/^\S*/)?.[0];return je=je.replace(/\n$/,"")+"\n",Re?'<pre><code class="language-'+z(Re)+'">'+(ne?je:z(je,!0))+"</code></pre>\n":"<pre><code>"+(ne?je:z(je,!0))+"</code></pre>\n"}blockquote(je){return`<blockquote>\n${je}</blockquote>\n`}html(je,Ce){return je}heading(je,Ce,ne){return`<h${Ce}>${je}</h${Ce}>\n`}hr(){return"<hr>\n"}list(je,Ce,ne){const Re=Ce?"ol":"ul";return"<"+Re+(Ce&&1!==ne?' start="'+ne+'"':"")+">\n"+je+"</"+Re+">\n"}listitem(je,Ce,ne){return`<li>${je}</li>\n`}checkbox(je){return"<input "+(je?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(je){return`<p>${je}</p>\n`}table(je,Ce){return Ce&&(Ce=`<tbody>${Ce}</tbody>`),"<table>\n<thead>\n"+je+"</thead>\n"+Ce+"</table>\n"}tablerow(je){return`<tr>\n${je}</tr>\n`}tablecell(je,Ce){const ne=Ce.header?"th":"td";return(Ce.align?`<${ne} align="${Ce.align}">`:`<${ne}>`)+je+`</${ne}>\n`}strong(je){return`<strong>${je}</strong>`}em(je){return`<em>${je}</em>`}codespan(je){return`<code>${je}</code>`}br(){return"<br>"}del(je){return`<del>${je}</del>`}link(je,Ce,ne){const Re=J(je);if(null===Re)return ne;let te='<a href="'+(je=Re)+'"';return Ce&&(te+=' title="'+Ce+'"'),te+=">"+ne+"</a>",te}image(je,Ce,ne){const Re=J(je);if(null===Re)return ne;let te=`<img src="${je=Re}" alt="${ne}"`;return Ce&&(te+=` title="${Ce}"`),te+=">",te}text(je){return je}}class Ne{strong(je){return je}em(je){return je}codespan(je){return je}del(je){return je}html(je){return je}text(je){return je}link(je,Ce,ne){return""+ne}image(je,Ce,ne){return""+ne}br(){return""}}class Ve{options;renderer;textRenderer;constructor(je){this.options=je||m,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ne}static parse(je,Ce){return new Ve(Ce).parse(je)}static parseInline(je,Ce){return new Ve(Ce).parseInline(je)}parse(je,Ce=!0){let ne="";for(let Re=0;Re<je.length;Re++){const te=je[Re];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[te.type]){const y=te,M=this.options.extensions.renderers[y.type].call({parser:this},y);if(!1!==M||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(y.type)){ne+=M||"";continue}}switch(te.type){case"space":continue;case"hr":ne+=this.renderer.hr();continue;case"heading":{const y=te;ne+=this.renderer.heading(this.parseInline(y.tokens),y.depth,this.parseInline(y.tokens,this.textRenderer).replace(B,(je,Ce)=>"colon"===(Ce=Ce.toLowerCase())?":":"#"===Ce.charAt(0)?"x"===Ce.charAt(1)?String.fromCharCode(parseInt(Ce.substring(2),16)):String.fromCharCode(+Ce.substring(1)):""));continue}case"code":ne+=this.renderer.code(te.text,te.lang,!!te.escaped);continue;case"table":{const y=te;let M="",Y="";for(let _e=0;_e<y.header.length;_e++)Y+=this.renderer.tablecell(this.parseInline(y.header[_e].tokens),{header:!0,align:y.align[_e]});M+=this.renderer.tablerow(Y);let G="";for(let _e=0;_e<y.rows.length;_e++){const Z=y.rows[_e];Y="";for(let f=0;f<Z.length;f++)Y+=this.renderer.tablecell(this.parseInline(Z[f].tokens),{header:!1,align:y.align[f]});G+=this.renderer.tablerow(Y)}ne+=this.renderer.table(M,G);continue}case"blockquote":{const M=this.parse(te.tokens);ne+=this.renderer.blockquote(M);continue}case"list":{const y=te,M=y.ordered,Y=y.start,G=y.loose;let _e="";for(let Z=0;Z<y.items.length;Z++){const f=y.items[Z],V=f.checked,x=f.task;let ye="";if(f.task){const Te=this.renderer.checkbox(!!V);G?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=Te+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=Te+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:Te+" "}):ye+=Te+" "}ye+=this.parse(f.tokens,G),_e+=this.renderer.listitem(ye,x,!!V)}ne+=this.renderer.list(_e,M,Y);continue}case"html":ne+=this.renderer.html(te.text,te.block);continue;case"paragraph":ne+=this.renderer.paragraph(this.parseInline(te.tokens));continue;case"text":{let y=te,M=y.tokens?this.parseInline(y.tokens):y.text;for(;Re+1<je.length&&"text"===je[Re+1].type;)y=je[++Re],M+="\n"+(y.tokens?this.parseInline(y.tokens):y.text);ne+=Ce?this.renderer.paragraph(M):M;continue}default:{const y='Token with "'+te.type+'" type was not found.';if(this.options.silent)return console.error(y),"";throw new Error(y)}}}return ne}parseInline(je,Ce){Ce=Ce||this.renderer;let ne="";for(let Re=0;Re<je.length;Re++){const te=je[Re];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[te.type]){const y=this.options.extensions.renderers[te.type].call({parser:this},te);if(!1!==y||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(te.type)){ne+=y||"";continue}}switch(te.type){case"escape":case"text":ne+=Ce.text(te.text);break;case"html":ne+=Ce.html(te.text);break;case"link":ne+=Ce.link(te.href,te.title,this.parseInline(te.tokens,Ce));break;case"image":ne+=Ce.image(te.href,te.title,te.text);break;case"strong":ne+=Ce.strong(this.parseInline(te.tokens,Ce));break;case"em":ne+=Ce.em(this.parseInline(te.tokens,Ce));break;case"codespan":ne+=Ce.codespan(te.text);break;case"br":ne+=Ce.br();break;case"del":ne+=Ce.del(this.parseInline(te.tokens,Ce));break;default:{const y='Token with "'+te.type+'" type was not found.';if(this.options.silent)return console.error(y),"";throw new Error(y)}}}return ne}}class Ge{options;constructor(je){this.options=je||m}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(je){return je}postprocess(je){return je}}const _t=new class gt{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(ge.lex,Ve.parse);parseInline=this.#e(ge.lexInline,Ve.parseInline);Parser=Ve;Renderer=K;TextRenderer=Ne;Lexer=ge;Tokenizer=Me;Hooks=Ge;constructor(...je){this.use(...je)}walkTokens(je,Ce){let ne=[];for(const Re of je)switch(ne=ne.concat(Ce.call(this,Re)),Re.type){case"table":{const te=Re;for(const y of te.header)ne=ne.concat(this.walkTokens(y.tokens,Ce));for(const y of te.rows)for(const M of y)ne=ne.concat(this.walkTokens(M.tokens,Ce));break}case"list":ne=ne.concat(this.walkTokens(Re.items,Ce));break;default:{const te=Re;this.defaults.extensions?.childTokens?.[te.type]?this.defaults.extensions.childTokens[te.type].forEach(y=>{ne=ne.concat(this.walkTokens(te[y],Ce))}):te.tokens&&(ne=ne.concat(this.walkTokens(te.tokens,Ce)))}}return ne}use(...je){const Ce=this.defaults.extensions||{renderers:{},childTokens:{}};return je.forEach(ne=>{const Re={...ne};if(Re.async=this.defaults.async||Re.async||!1,ne.extensions&&(ne.extensions.forEach(te=>{if(!te.name)throw new Error("extension name required");if("renderer"in te){const y=Ce.renderers[te.name];Ce.renderers[te.name]=y?function(...M){let Y=te.renderer.apply(this,M);return!1===Y&&(Y=y.apply(this,M)),Y}:te.renderer}if("tokenizer"in te){if(!te.level||"block"!==te.level&&"inline"!==te.level)throw new Error("extension level must be 'block' or 'inline'");const y=Ce[te.level];y?y.unshift(te.tokenizer):Ce[te.level]=[te.tokenizer],te.start&&("block"===te.level?Ce.startBlock?Ce.startBlock.push(te.start):Ce.startBlock=[te.start]:"inline"===te.level&&(Ce.startInline?Ce.startInline.push(te.start):Ce.startInline=[te.start]))}"childTokens"in te&&te.childTokens&&(Ce.childTokens[te.name]=te.childTokens)}),Re.extensions=Ce),ne.renderer){const te=this.defaults.renderer||new K(this.defaults);for(const y in ne.renderer){const M=ne.renderer[y],G=te[y];te[y]=(..._e)=>{let Z=M.apply(te,_e);return!1===Z&&(Z=G.apply(te,_e)),Z||""}}Re.renderer=te}if(ne.tokenizer){const te=this.defaults.tokenizer||new Me(this.defaults);for(const y in ne.tokenizer){const M=ne.tokenizer[y],G=te[y];te[y]=(..._e)=>{let Z=M.apply(te,_e);return!1===Z&&(Z=G.apply(te,_e)),Z}}Re.tokenizer=te}if(ne.hooks){const te=this.defaults.hooks||new Ge;for(const y in ne.hooks){const M=ne.hooks[y],G=te[y];te[y]=Ge.passThroughHooks.has(y)?_e=>{if(this.defaults.async)return Promise.resolve(M.call(te,_e)).then(f=>G.call(te,f));const Z=M.call(te,_e);return G.call(te,Z)}:(..._e)=>{let Z=M.apply(te,_e);return!1===Z&&(Z=G.apply(te,_e)),Z}}Re.hooks=te}if(ne.walkTokens){const te=this.defaults.walkTokens,y=ne.walkTokens;Re.walkTokens=function(M){let Y=[];return Y.push(y.call(this,M)),te&&(Y=Y.concat(te.call(this,M))),Y}}this.defaults={...this.defaults,...Re}}),this}setOptions(je){return this.defaults={...this.defaults,...je},this}lexer(je,Ce){return ge.lex(je,Ce??this.defaults)}parser(je,Ce){return Ve.parse(je,Ce??this.defaults)}#e(je,Ce){return(ne,Re)=>{const te={...Re},y={...this.defaults,...te};!0===this.defaults.async&&!1===te.async&&(y.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),y.async=!0);const M=this.#t(!!y.silent,!!y.async);if(typeof ne>"u"||null===ne)return M(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof ne)return M(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ne)+", string expected"));if(y.hooks&&(y.hooks.options=y),y.async)return Promise.resolve(y.hooks?y.hooks.preprocess(ne):ne).then(Y=>je(Y,y)).then(Y=>y.walkTokens?Promise.all(this.walkTokens(Y,y.walkTokens)).then(()=>Y):Y).then(Y=>Ce(Y,y)).then(Y=>y.hooks?y.hooks.postprocess(Y):Y).catch(M);try{y.hooks&&(ne=y.hooks.preprocess(ne));const Y=je(ne,y);y.walkTokens&&this.walkTokens(Y,y.walkTokens);let G=Ce(Y,y);return y.hooks&&(G=y.hooks.postprocess(G)),G}catch(Y){return M(Y)}}}#t(je,Ce){return ne=>{if(ne.message+="\nPlease report this to https://github.com/markedjs/marked.",je){const Re="<p>An error occurred:</p><pre>"+z(ne.message+"",!0)+"</pre>";return Ce?Promise.resolve(Re):Re}if(Ce)return Promise.reject(ne);throw ne}}};function zt(kt,je){return _t.parse(kt,je)}zt.options=zt.setOptions=function(kt){return _t.setOptions(kt),g(zt.defaults=_t.defaults),zt},zt.getDefaults=function r(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},zt.defaults=m,zt.use=function(...kt){return _t.use(...kt),g(zt.defaults=_t.defaults),zt},zt.walkTokens=function(kt,je){return _t.walkTokens(kt,je)},zt.parseInline=_t.parseInline,zt.Parser=Ve,zt.parser=Ve.parse,zt.Renderer=K,zt.TextRenderer=Ne,zt.Lexer=ge,zt.lexer=ge.lex,zt.Tokenizer=Me,zt.Hooks=Ge,zt.parse=zt},34992:(bn,be,w)=>{"use strict";w.d(be,{A:()=>B});var r=w(28407),m=w(91677);class C extends Error{constructor(T){super(T),this.name="TimeoutError"}}class D extends Error{constructor(T){super(),this.name="AbortError",this.message=T}}const h=A=>void 0===globalThis.DOMException?new D(A):new DOMException(A),U=A=>{const T=void 0===A.reason?h("This operation was aborted."):A.reason;return T instanceof Error?T:h(T)};class z{#e=[];enqueue(T,b){const J={priority:(b={priority:0,...b}).priority,run:T};if(this.size&&this.#e[this.size-1].priority>=b.priority)return void this.#e.push(J);const ce=function k(A,T,b){let J=0,ce=A.length;for(;ce>0;){const W=Math.trunc(ce/2);let se=J+W;b(A[se],T)<=0?(J=++se,ce-=W+1):ce=W}return J}(this.#e,J,(W,se)=>se.priority-W.priority);this.#e.splice(ce,0,J)}dequeue(){return this.#e.shift()?.run}filter(T){return this.#e.filter(b=>b.priority===T.priority).map(b=>b.run)}get size(){return this.#e.length}}class B extends m{#e;#t;#n=0;#s;#a;#l=0;#r;#c;#i;#d;#o=0;#h;#u;#g;timeout;constructor(T){if(super(),!("number"==typeof(T={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:z,...T}).intervalCap&&T.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${T.intervalCap?.toString()??""}\` (${typeof T.intervalCap})`);if(void 0===T.interval||!(Number.isFinite(T.interval)&&T.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${T.interval?.toString()??""}\` (${typeof T.interval})`);this.#e=T.carryoverConcurrencyCount,this.#t=T.intervalCap===Number.POSITIVE_INFINITY||0===T.interval,this.#s=T.intervalCap,this.#a=T.interval,this.#i=new T.queueClass,this.#d=T.queueClass,this.concurrency=T.concurrency,this.timeout=T.timeout,this.#g=!0===T.throwOnTimeout,this.#u=!1===T.autoStart}get#y(){return this.#t||this.#n<this.#s}get#b(){return this.#o<this.#h}#E(){this.#o--,this.#f(),this.emit("next")}#A(){this.#v(),this.#_(),this.#c=void 0}get#C(){const T=Date.now();if(void 0===this.#r){const b=this.#l-T;if(!(b<0))return void 0===this.#c&&(this.#c=setTimeout(()=>{this.#A()},b)),!0;this.#n=this.#e?this.#o:0}return!1}#f(){if(0===this.#i.size)return this.#r&&clearInterval(this.#r),this.#r=void 0,this.emit("empty"),0===this.#o&&this.emit("idle"),!1;if(!this.#u){const T=!this.#C;if(this.#y&&this.#b){const b=this.#i.dequeue();return!!b&&(this.emit("active"),b(),T&&this.#_(),!0)}}return!1}#_(){this.#t||void 0!==this.#r||(this.#r=setInterval(()=>{this.#v()},this.#a),this.#l=Date.now()+this.#a)}#v(){0===this.#n&&0===this.#o&&this.#r&&(clearInterval(this.#r),this.#r=void 0),this.#n=this.#e?this.#o:0,this.#p()}#p(){for(;this.#f(););}get concurrency(){return this.#h}set concurrency(T){if(!("number"==typeof T&&T>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${T}\` (${typeof T})`);this.#h=T,this.#p()}#w(T){return(0,r.A)(function*(){return new Promise((b,J)=>{T.addEventListener("abort",()=>{J(T.reason)},{once:!0})})})()}add(T,b={}){var J=this;return(0,r.A)(function*(){return b={timeout:J.timeout,throwOnTimeout:J.#g,...b},new Promise((ce,W)=>{J.#i.enqueue((0,r.A)(function*(){J.#o++,J.#n++;try{b.signal?.throwIfAborted();let se=T({signal:b.signal});b.timeout&&(se=function F(A,T){const{milliseconds:b,fallback:J,message:ce,customTimers:W={setTimeout,clearTimeout}}=T;let se;const Ie=new Promise((ae,Me)=>{if("number"!=typeof b||1!==Math.sign(b))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${b}\``);if(T.signal){const{signal:$}=T;$.aborted&&Me(U($));const ge=()=>{Me(U($))};$.addEventListener("abort",ge,{once:!0}),A.finally(()=>{$.removeEventListener("abort",ge)})}if(b===Number.POSITIVE_INFINITY)return void A.then(ae,Me);const q=new C;se=W.setTimeout.call(void 0,()=>{if(J)try{ae(J())}catch($){Me($)}else"function"==typeof A.cancel&&A.cancel(),!1===ce?ae():ce instanceof Error?Me(ce):(q.message=ce??`Promise timed out after ${b} milliseconds`,Me(q))},b),(0,r.A)(function*(){try{ae(yield A)}catch($){Me($)}})()}).finally(()=>{Ie.clear()});return Ie.clear=()=>{W.clearTimeout.call(void 0,se),se=void 0},Ie}(Promise.resolve(se),{milliseconds:b.timeout})),b.signal&&(se=Promise.race([se,J.#w(b.signal)]));const Q=yield se;ce(Q),J.emit("completed",Q)}catch(se){if(se instanceof C&&!b.throwOnTimeout)return void ce();W(se),J.emit("error",se)}finally{J.#E()}}),b),J.emit("add"),J.#f()})})()}addAll(T,b){var J=this;return(0,r.A)(function*(){return Promise.all(T.map(function(){var ce=(0,r.A)(function*(W){return J.add(W,b)});return function(W){return ce.apply(this,arguments)}}()))})()}start(){return this.#u?(this.#u=!1,this.#p(),this):this}pause(){this.#u=!0}clear(){this.#i=new this.#d}onEmpty(){var T=this;return(0,r.A)(function*(){0!==T.#i.size&&(yield T.#m("empty"))})()}onSizeLessThan(T){var b=this;return(0,r.A)(function*(){b.#i.size<T||(yield b.#m("next",()=>b.#i.size<T))})()}onIdle(){var T=this;return(0,r.A)(function*(){0===T.#o&&0===T.#i.size||(yield T.#m("idle"))})()}#m(T,b){var J=this;return(0,r.A)(function*(){return new Promise(ce=>{const W=()=>{b&&!b()||(J.off(T,W),ce())};J.on(T,W)})})()}get size(){return this.#i.size}sizeBy(T){return this.#i.filter(T).length}get pending(){return this.#o}get isPaused(){return this.#u}}},70432:(bn,be,w)=>{"use strict";w.d(be,{A:()=>k});var r=w(28407),m=w(64090);const g=Object.prototype.toString,C=B=>"[object Error]"===g.call(B),D=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);class U extends Error{constructor(A){super(),A instanceof Error?(this.originalError=A,({message:A}=A)):(this.originalError=new Error(A),this.originalError.stack=this.stack),this.name="AbortError",this.message=A}}const F=(B,A,T)=>{const b=T.retries-(A-1);return B.attemptNumber=A,B.retriesLeft=b,B};function k(B,A){return z.apply(this,arguments)}function z(){return z=(0,r.A)(function*(B,A){return new Promise((T,b)=>{A={...A},A.onFailedAttempt??=()=>{},A.shouldRetry??=()=>!0,A.retries??=10;const J=m.operation(A),ce=()=>{J.stop(),b(A.signal?.reason)};A.signal&&!A.signal.aborted&&A.signal.addEventListener("abort",ce,{once:!0});const W=()=>{A.signal?.removeEventListener("abort",ce),J.stop()};J.attempt(function(){var se=(0,r.A)(function*(Q){try{const Ie=yield B(Q);W(),T(Ie)}catch(Ie){try{if(!(Ie instanceof Error))throw new TypeError(`Non-error was thrown: "${Ie}". You should only throw errors.`);if(Ie instanceof U)throw Ie.originalError;if(Ie instanceof TypeError&&!function h(B){return!(!B||!C(B)||"TypeError"!==B.name||"string"!=typeof B.message)&&("Load failed"===B.message?void 0===B.stack:D.has(B.message))}(Ie))throw Ie;if(F(Ie,Q,A),(yield A.shouldRetry(Ie))||(J.stop(),b(Ie)),yield A.onFailedAttempt(Ie),!J.retry(Ie))throw J.mainError()}catch(ae){F(ae,Q,A),W(),b(ae)}}});return function(Q){return se.apply(this,arguments)}}())})}),z.apply(this,arguments)}},28407:(bn,be,w)=>{"use strict";function r(g,C,D,h,U,F,k){try{var z=g[F](k),B=z.value}catch(A){return void D(A)}z.done?C(B):Promise.resolve(B).then(h,U)}function m(g){return function(){var C=this,D=arguments;return new Promise(function(h,U){var F=g.apply(C,D);function k(B){r(F,h,U,k,z,"next",B)}function z(B){r(F,h,U,k,z,"throw",B)}k(void 0)})}}w.d(be,{A:()=>m})},31635:(bn,be,w)=>{"use strict";function A(st,ft,wt,kt){return new(wt||(wt=Promise))(function(Ce,ne){function Re(M){try{y(kt.next(M))}catch(Y){ne(Y)}}function te(M){try{y(kt.throw(M))}catch(Y){ne(Y)}}function y(M){M.done?Ce(M.value):function je(Ce){return Ce instanceof wt?Ce:new wt(function(ne){ne(Ce)})}(M.value).then(Re,te)}y((kt=kt.apply(st,ft||[])).next())})}function ae(st){return this instanceof ae?(this.v=st,this):new ae(st)}function Me(st,ft,wt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,kt=wt.apply(st,ft||[]),Ce=[];return je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Re("next"),Re("throw"),Re("return",function ne(_e){return function(Z){return Promise.resolve(Z).then(_e,Y)}}),je[Symbol.asyncIterator]=function(){return this},je;function Re(_e,Z){kt[_e]&&(je[_e]=function(f){return new Promise(function(V,x){Ce.push([_e,f,V,x])>1||te(_e,f)})},Z&&(je[_e]=Z(je[_e])))}function te(_e,Z){try{!function y(_e){_e.value instanceof ae?Promise.resolve(_e.value.v).then(M,Y):G(Ce[0][2],_e)}(kt[_e](Z))}catch(f){G(Ce[0][3],f)}}function M(_e){te("next",_e)}function Y(_e){te("throw",_e)}function G(_e,Z){_e(Z),Ce.shift(),Ce.length&&te(Ce[0][0],Ce[0][1])}}function $(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,ft=st[Symbol.asyncIterator];return ft?ft.call(st):(st=function ce(st){var ft="function"==typeof Symbol&&Symbol.iterator,wt=ft&&st[ft],kt=0;if(wt)return wt.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&kt>=st.length&&(st=void 0),{value:st&&st[kt++],done:!st}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),wt={},kt("next"),kt("throw"),kt("return"),wt[Symbol.asyncIterator]=function(){return this},wt);function kt(Ce){wt[Ce]=st[Ce]&&function(ne){return new Promise(function(Re,te){!function je(Ce,ne,Re,te){Promise.resolve(te).then(function(y){Ce({value:y,done:Re})},ne)}(Re,te,(ne=st[Ce](ne)).done,ne.value)})}}}w.d(be,{AQ:()=>Me,N3:()=>ae,sH:()=>A,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError}}]);