(self.webpackChunkhuman_studio_next=self.webpackChunkhuman_studio_next||[]).push([[502,449,76],{5763:(en,ot,w)=>{"use strict";w.d(ot,{rc:()=>Ti,En:()=>Dt,rK:()=>Vr,l6:()=>Qo,MD:()=>Fs,Um:()=>ns,Uw:()=>qi,il:()=>ts,Mz:()=>Ko,rM:()=>Ii,xi:()=>sr});var r=w(4438),x=w(391);let f=(()=>{class mt{constructor(){this.bootstrap$=new x.m(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return mt.\u0275fac=function(Ut){return new(Ut||mt)},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function b(mt,mn){return mt===mn}function C(mt,mn=b){let Ut=null,dn=null;function Xe(){return function E(mt,mn,Ut){if(null===mn||null===Ut||mn.length!==Ut.length)return!1;const dn=mn.length;for(let Xe=0;Xe<dn;Xe++)if(!mt(mn[Xe],Ut[Xe]))return!1;return!0}(mn,Ut,arguments)||(dn=mt.apply(null,arguments)),Ut=arguments,dn}return Xe.reset=function(){Ut=null,dn=null},Xe}let u=(()=>{class mt{static set(Ut){this._value=Ut}static pop(){const Ut=this._value;return this._value={},Ut}}return mt._value={},mt})();const F=new r.nKC("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>u.pop()}),S=new r.nKC("\u0275NGXS_STATE_FACTORY"),U=new r.nKC("\u0275NGXS_STATE_CONTEXT_FACTORY");var O=w(177),y=w(2573),_=w(5052),D=w(9160),W=w(5877),K=w(6104),L=w(5326),ie=w(2515),ae=w(1472),le=w(8454),fe=w(4264),q=w(6110),$=w(75),j=w(9784),Q=w(7365),ee=w(1954),be=w(5210),Se=w(6196);function Qe(mt,mn){return mn?Ut=>Ut.pipe(Qe((dn,Xe)=>(0,ee.Tg)(mt(dn,Xe)).pipe((0,q.T)((Rt,qt)=>mn(dn,Rt,Xe,qt))))):(0,be.N)((Ut,dn)=>{let Xe=0,Rt=null,qt=!1;Ut.subscribe((0,Se._)(dn,zn=>{Rt||(Rt=(0,Se._)(dn,void 0,()=>{Rt=null,qt&&dn.complete()}),(0,ee.Tg)(mt(zn,Xe++)).subscribe(Rt))},()=>{qt=!0,!Rt&&dn.complete()}))})}var nt=w(1756),De=w(7369),ut=w(8577),Ft=w(7925),ve=w(1082),I=w(9705),V=w(5160),ge=w(1670);function Y(mt){return mt.constructor&&mt.constructor.type?mt.constructor.type:mt.type}const M=(mt,mn,Ut)=>{mt=Object.assign({},mt);const dn=mn.split("."),Xe=dn.length-1;return dn.reduce((Rt,qt,zn)=>(Rt[qt]=zn===Xe?Ut:Array.isArray(Rt[qt])?Rt[qt].slice():Object.assign({},Rt[qt]),Rt&&Rt[qt]),mt),mt},Z=(mt,mn)=>mn.split(".").reduce((Ut,dn)=>Ut&&Ut[dn],mt),z=mt=>mt&&"object"==typeof mt&&!Array.isArray(mt),H=(mt,...mn)=>{if(!mn.length)return mt;const Ut=mn.shift();if(z(mt)&&z(Ut))for(const dn in Ut)z(Ut[dn])?(mt[dn]||Object.assign(mt,{[dn]:{}}),H(mt[dn],Ut[dn])):Object.assign(mt,{[dn]:Ut[dn]});return H(mt,...mn)};let Ke=(()=>{class mt{constructor(Ut,dn){this._ngZone=Ut,this._platformId=dn}enter(Ut){return(0,O.Vy)(this._platformId)?this.runInsideAngular(Ut):this.runOutsideAngular(Ut)}leave(Ut){return this.runInsideAngular(Ut)}runInsideAngular(Ut){return r.SKi.isInAngularZone()?Ut():this._ngZone.run(Ut)}runOutsideAngular(Ut){return r.SKi.isInAngularZone()?this._ngZone.runOutsideAngular(Ut):Ut()}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(r.SKi),r.KVO(r.Agw))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const Tt=new r.nKC("ROOT_OPTIONS"),$e=new r.nKC("ROOT_STATE_TOKEN"),Lt=new r.nKC("FEATURE_STATE_TOKEN"),Xt=new r.nKC("NGXS_PLUGINS"),gn="NGXS_META",Ln="NGXS_OPTIONS_META",$n="NGXS_SELECTOR_META";let gr=(()=>{class mt{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=Ke}}return mt.\u0275fac=function(Ut){return new(Ut||mt)},mt.\u0275prov=r.jDH({token:mt,factory:function(Ut){let dn=null;return Ut?dn=new Ut:(Xe=r.KVO(Tt),dn=H(new mt,Xe)),dn;var Xe},providedIn:"root"}),mt})();class sn{constructor(mn,Ut,dn){this.previousValue=mn,this.currentValue=Ut,this.firstChange=dn}}let St=(()=>{class mt{enter(Ut){return Ut()}leave(Ut){return Ut()}}return mt.\u0275fac=function(Ut){return new(Ut||mt)},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const Fe=new r.nKC("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),Ue=new r.nKC("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const mt=(0,r.WQX)(r.duS),mn=mt.get(Fe);return mt.get(mn||(typeof r.JZv.Zone<"u"?Ke:St))}});function Ce(mt){if(!mt.hasOwnProperty(gn)){const mn={name:null,actions:{},defaults:{},path:null,makeRootSelector:Ut=>Ut.getStateGetter(mn.name),children:[]};Object.defineProperty(mt,gn,{value:mn})}return me(mt)}function me(mt){return mt[gn]}function Me(mt){return mt[$n]}function Kt(mt,mn){return mn&&mn.compatibility&&mn.compatibility.strictContentSecurityPolicy?function We(mt){const mn=mt.slice();return Ut=>mn.reduce((dn,Xe)=>dn&&dn[Xe],Ut)}(mt):function Gt(mt){const mn=mt;let Ut="store."+mn[0],dn=0;const Xe=mn.length;let Rt=Ut;for(;++dn<Xe;)Rt=Rt+" && "+(Ut=Ut+"."+mn[dn]);return new Function("store","return "+Rt+";")}(mt)}function sr(...mt){return Cr(mt,["DISPATCHED"])}function Ii(...mt){return Cr(mt,["SUCCESSFUL","CANCELED","ERRORED"],Or)}function Cr(mt,mn,Ut=fi){const dn=function Yi(mt){return mt.reduce((mn,Ut)=>(mn[Y(Ut)]=!0,mn),{})}(mt),Xe=mn&&function ho(mt){return mt.reduce((mn,Ut)=>(mn[Ut]=!0,mn),{})}(mn);return function(Rt){return Rt.pipe(function ii(mt,mn){return(0,fe.p)(Ut=>{const dn=Y(Ut.action);return mt[dn]&&(!mn||mn[Ut.status])})}(dn,Xe),Ut())}}function Or(){return(0,q.T)(({action:mt,status:mn,error:Ut})=>({action:mt,result:{successful:"SUCCESSFUL"===mn,canceled:"CANCELED"===mn,error:Ut}}))}function fi(){return(0,q.T)(mt=>mt.action)}function Vi(mt){return mn=>new y.c(Ut=>mn.subscribe({next(dn){mt.leave(()=>Ut.next(dn))},error(dn){mt.leave(()=>Ut.error(dn))},complete(){mt.leave(()=>Ut.complete())}}))}let Qi=(()=>{class mt{constructor(Ut){this._executionStrategy=Ut}enter(Ut){return this._executionStrategy.enter(Ut)}leave(Ut){return this._executionStrategy.leave(Ut)}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(Ue))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function Ve(mt){const mn=[];let Ut=!1;return function(...Xe){if(Ut)mn.unshift(Xe);else{for(Ut=!0,mt(...Xe);mn.length>0;){const Rt=mn.pop();Rt&&mt(...Rt)}Ut=!1}}}class _t extends _.B{constructor(){super(...arguments),this._orderedNext=Ve(mn=>super.next(mn))}next(mn){this._orderedNext(mn)}}class an extends D.t{constructor(mn){super(mn),this._orderedNext=Ve(Ut=>super.next(Ut)),this._currentValue=mn}getValue(){return this._currentValue}next(mn){this._currentValue=mn,this._orderedNext(mn)}}let _e=(()=>{class mt extends _t{ngOnDestroy(){this.complete()}}return mt.\u0275fac=(()=>{let mn;return function(dn){return(mn||(mn=r.xGo(mt)))(dn||mt)}})(),mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Dt=(()=>{class mt extends y.c{constructor(Ut,dn){const Xe=Ut.pipe(Vi(dn),(0,$.u)());super(Rt=>{const qt=Xe.subscribe({next:zn=>Rt.next(zn),error:zn=>Rt.error(zn),complete:()=>Rt.complete()});Rt.add(qt)})}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(_e),r.KVO(Qi))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const on=mt=>(...mn)=>mt.shift()(...mn,(...dn)=>on(mt)(...dn));let qn=(()=>{class mt{constructor(Ut){this._injector=Ut,this._errorHandler=null}reportErrorSafely(Ut){null===this._errorHandler&&(this._errorHandler=this._injector.get(r.zcH));try{this._errorHandler.handleError(Ut)}catch{}}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(r.zZn))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Gr=(()=>{class mt extends an{constructor(){super({})}ngOnDestroy(){this.complete()}}return mt.\u0275fac=function(Ut){return new(Ut||mt)},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Ai=(()=>{class mt{constructor(Ut,dn){this._parentManager=Ut,this._pluginHandlers=dn,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const Ut=this.getPluginHandlers();this.rootPlugins.push(...Ut)}getPluginHandlers(){return(this._pluginHandlers||[]).map(dn=>dn.handle?dn.handle.bind(dn):dn)}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(mt,12),r.KVO(Xt,8))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac}),mt})(),Mi=(()=>{class mt extends _.B{}return mt.\u0275fac=(()=>{let mn;return function(dn){return(mn||(mn=r.xGo(mt)))(dn||mt)}})(),mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),pi=(()=>{class mt{constructor(Ut,dn,Xe,Rt,qt,zn){this._actions=Ut,this._actionResults=dn,this._pluginManager=Xe,this._stateStream=Rt,this._ngxsExecutionStrategy=qt,this._internalErrorReporter=zn}dispatch(Ut){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(Ut)).pipe(function Un(mt,mn){return Ut=>{let dn=!1;return Ut.subscribe({error:Xe=>{mn.enter(()=>Promise.resolve().then(()=>{dn||mn.leave(()=>mt.reportErrorSafely(Xe))}))}}),new y.c(Xe=>(dn=!0,Ut.pipe(Vi(mn)).subscribe(Xe)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(Ut){return Array.isArray(Ut)?0===Ut.length?(0,W.of)(this._stateStream.getValue()):(0,K.p)(Ut.map(dn=>this.dispatchSingle(dn))):this.dispatchSingle(Ut)}dispatchSingle(Ut){const dn=this._stateStream.getValue();return on([...this._pluginManager.plugins,(Rt,qt)=>{Rt!==dn&&this._stateStream.next(Rt);const zn=this.getActionResultStream(qt);return zn.subscribe(fr=>this._actions.next(fr)),this._actions.next({action:qt,status:"DISPATCHED"}),this.createDispatchObservable(zn)}])(dn,Ut).pipe((0,j.t)())}getActionResultStream(Ut){return this._actionResults.pipe((0,fe.p)(dn=>dn.action===Ut&&"DISPATCHED"!==dn.status),(0,Q.s)(1),(0,j.t)())}createDispatchObservable(Ut){return Ut.pipe(Qe(dn=>{switch(dn.status){case"SUCCESSFUL":return(0,W.of)(this._stateStream.getValue());case"ERRORED":return(0,L.$)(dn.error);default:return ie.w}})).pipe((0,j.t)())}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(_e),r.KVO(Mi),r.KVO(Ai),r.KVO(Gr),r.KVO(Qi),r.KVO(qn))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Zt=(()=>{class mt{constructor(Ut,dn,Xe){this._stateStream=Ut,this._dispatcher=dn,this._config=Xe}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:dn=>this._stateStream.next(dn),dispatch:dn=>this._dispatcher.dispatch(dn)}}setStateToTheCurrentWithNew(Ut){const dn=this.getRootStateOperations(),Xe=dn.getState();dn.setState(Object.assign(Object.assign({},Xe),Ut.defaults))}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(Gr),r.KVO(pi),r.KVO(gr))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),hr=(()=>{class mt{constructor(Ut){this._internalStateOperations=Ut}createStateContext(Ut){const dn=this._internalStateOperations.getRootStateOperations();return{getState:()=>Bi(dn.getState(),Ut.path),patchState(Xe){const Rt=dn.getState(),qt=function Hn(mt){return mn=>{const Ut=Object.assign({},mn);for(const dn in mt)Ut[dn]=mt[dn];return Ut}}(Xe);return qr(dn,Rt,qt,Ut.path)},setState(Xe){const Rt=dn.getState();return function xt(mt){return"function"==typeof mt}(Xe)?qr(dn,Rt,Xe,Ut.path):Dr(dn,Rt,Xe,Ut.path)},dispatch:Xe=>dn.dispatch(Xe)}}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(Zt))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function Dr(mt,mn,Ut,dn){const Xe=M(mn,dn,Ut);return mt.setState(Xe),Xe}function qr(mt,mn,Ut,dn){return Dr(mt,mn,Ut(Bi(mn,dn)),dn)}function Bi(mt,mn){return Z(mt,mn)}new RegExp("^[a-zA-Z0-9_]+$");let Rr=(()=>{class mt{}return mt.type="@@INIT",mt})(),ci=(()=>{class mt{constructor(Ut){this.addedStates=Ut}}return mt.type="@@UPDATE_STATE",mt})();new r.nKC("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let ko=(()=>{class mt{constructor(Ut,dn,Xe,Rt,qt,zn,fr){this._injector=Ut,this._config=dn,this._parentFactory=Xe,this._actions=Rt,this._actionResults=qt,this._stateContextFactory=zn,this._initialState=fr,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=C(()=>{const mr=this;function $r(li){const Wr=mr.statePaths[li];return Wr?Kt(Wr.split("."),mr._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(li){let Wr=$r(li);return Wr||((...eo)=>(Wr||(Wr=$r(li)),Wr?Wr(...eo):void 0))},getSelectorOptions:li=>Object.assign(Object.assign({},mr._config.selectorOptions),li||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(Ut){let dn=Ut;return Array.isArray(Ut)?dn=Ut.slice():function Er(mt){return"object"==typeof mt&&null!==mt||"function"==typeof mt}(Ut)?dn=Object.assign({},Ut):void 0===Ut&&(dn={}),dn}ngOnDestroy(){var Ut;null===(Ut=this._actionsSubscription)||void 0===Ut||Ut.unsubscribe()}add(Ut){const{newStates:dn}=this.addToStatesMap(Ut);if(!dn.length)return[];const Xe=function On(mt){const mn=Ut=>mt.find(Xe=>Xe===Ut)[gn].name;return mt.reduce((Ut,dn)=>{const{name:Xe,children:Rt}=dn[gn];return Ut[Xe]=(Rt||[]).map(mn),Ut},{})}(dn),Rt=function tr(mt){const mn=[],Ut={},dn=(Xe,Rt=[])=>{Array.isArray(Rt)||(Rt=[]),Rt.push(Xe),Ut[Xe]=!0,mt[Xe].forEach(qt=>{Ut[qt]||dn(qt,Rt.slice(0))}),mn.indexOf(Xe)<0&&mn.push(Xe)};return Object.keys(mt).forEach(Xe=>dn(Xe)),mn.reverse()}(Xe),qt=function Cn(mt,mn={}){const Ut=(dn,Xe)=>{for(const Rt in dn)if(dn.hasOwnProperty(Rt)&&dn[Rt].indexOf(Xe)>=0){const qt=Ut(dn,Rt);return null!==qt?`${qt}.${Rt}`:Rt}return null};for(const dn in mt)if(mt.hasOwnProperty(dn)){const Xe=Ut(mt,dn);mn[dn]=Xe?`${Xe}.${dn}`:dn}return mn}(Xe),zn=function vr(mt){return mt.reduce((mn,Ut)=>(mn[Ut[gn].name]=Ut,mn),{})}(dn),fr=[];for(const mr of Rt){const $r=zn[mr],jr=qt[mr],li=$r[gn];this.addRuntimeInfoToMeta(li,jr);const Wr={name:mr,path:jr,isInitialised:!1,actions:li.actions,instance:this._injector.get($r),defaults:mt._cloneDefaults(li.defaults)};this.hasBeenMountedAndBootstrapped(mr,jr)||fr.push(Wr),this.states.push(Wr)}return fr}addAndReturnDefaults(Ut){const Xe=this.add(Ut||[]);return{defaults:Xe.reduce((qt,zn)=>M(qt,zn.path,zn.defaults),{}),states:Xe}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const Ut=new _.B;this._actionsSubscription=this._actions.pipe((0,fe.p)(dn=>"DISPATCHED"===dn.status),(0,nt.Z)(dn=>{Ut.next(dn);const Xe=dn.action;return this.invokeActions(Ut,Xe).pipe((0,q.T)(()=>({action:Xe,status:"SUCCESSFUL"})),(0,De.U)({action:Xe,status:"CANCELED"}),(0,ut.W)(Rt=>(0,W.of)({action:Xe,status:"ERRORED",error:Rt})))})).subscribe(dn=>this._actionResults.next(dn))}invokeActions(Ut,dn){const Xe=Y(dn),Rt=[];let qt=!1;for(const zn of this.states){const fr=zn.actions[Xe];if(fr)for(const mr of fr){const $r=this._stateContextFactory.createStateContext(zn);try{let jr=zn.instance[mr.fn]($r,dn);jr instanceof Promise&&(jr=(0,ae.H)(jr)),(0,le.A)(jr)?(jr=jr.pipe((0,nt.Z)(li=>li instanceof Promise?(0,ae.H)(li):(0,le.A)(li)?li:(0,W.of)(li)),(0,De.U)({})),mr.options.cancelUncompleted&&(jr=jr.pipe((0,Ft.Q)(Ut.pipe(sr(dn)))))):jr=(0,W.of)({}).pipe((0,j.t)()),Rt.push(jr)}catch(jr){Rt.push((0,L.$)(jr))}qt=!0}}return Rt.length||Rt.push((0,W.of)({})),(0,K.p)(Rt)}addToStatesMap(Ut){const dn=[],Xe=this.statesByName;for(const Rt of Ut){const qt=me(Rt).name;!Xe[qt]&&(dn.push(Rt),Xe[qt]=Rt)}return{newStates:dn}}addRuntimeInfoToMeta(Ut,dn){this.statePaths[Ut.name]=dn,Ut.path=dn}hasBeenMountedAndBootstrapped(Ut,dn){const Xe=void 0!==Z(this._initialState,dn);return this.statesByName[Ut]&&Xe}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(r.zZn),r.KVO(gr),r.KVO(mt,12),r.KVO(_e),r.KVO(Mi),r.KVO(hr),r.KVO(F,8))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac}),mt})();function Cs(mt){const mn=Me(mt)||me(mt);return mn&&mn.makeRootSelector||(()=>mt)}let ts=(()=>{class mt{constructor(Ut,dn,Xe,Rt,qt,zn){this._stateStream=Ut,this._internalStateOperations=dn,this._config=Xe,this._internalExecutionStrategy=Rt,this._stateFactory=qt,this._selectableStateStream=this._stateStream.pipe(Vi(this._internalExecutionStrategy),(0,j.t)({bufferSize:1,refCount:!0})),this.initStateStream(zn)}dispatch(Ut){return this._internalStateOperations.getRootStateOperations().dispatch(Ut)}select(Ut){const dn=this.getStoreBoundSelectorFn(Ut);return this._selectableStateStream.pipe((0,q.T)(dn),(0,ut.W)(Xe=>{const{suppressErrors:Rt}=this._config.selectorOptions;return Xe instanceof TypeError&&Rt?(0,W.of)(void 0):(0,L.$)(Xe)}),(0,ve.F)(),Vi(this._internalExecutionStrategy))}selectOnce(Ut){return this.select(Ut).pipe((0,Q.s)(1))}selectSnapshot(Ut){return this.getStoreBoundSelectorFn(Ut)(this._stateStream.getValue())}subscribe(Ut){return this._selectableStateStream.pipe(Vi(this._internalExecutionStrategy)).subscribe(Ut)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(Ut){return this._internalStateOperations.getRootStateOperations().setState(Ut)}getStoreBoundSelectorFn(Ut){return Cs(Ut)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(Ut){const dn=this._stateStream.value;if(!dn||0===Object.keys(dn).length){const qt=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),Ut):Ut;this._stateStream.next(qt)}}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(Gr),r.KVO(Zt),r.KVO(gr),r.KVO(Qi),r.KVO(ko),r.KVO(F,8))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Jo=(()=>{class mt{constructor(Ut,dn){mt.store=Ut,mt.config=dn}ngOnDestroy(){mt.store=null,mt.config=null}}return mt.store=null,mt.config=null,mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(ts),r.KVO(gr))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Us=(()=>{class mt{constructor(Ut,dn,Xe,Rt,qt){this._store=Ut,this._internalErrorReporter=dn,this._internalStateOperations=Xe,this._stateContextFactory=Rt,this._bootstrapper=qt,this._destroy$=new _.B}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(Ut,dn){this._internalStateOperations.getRootStateOperations().dispatch(Ut).pipe((0,fe.p)(()=>!!dn),(0,I.M)(()=>this._invokeInitOnStates(dn.states)),(0,nt.Z)(()=>this._bootstrapper.appBootstrapped$),(0,fe.p)(Xe=>!!Xe),(0,ut.W)(Xe=>(this._internalErrorReporter.reportErrorSafely(Xe),ie.w)),(0,Ft.Q)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(dn.states))}_invokeInitOnStates(Ut){for(const dn of Ut){const Xe=dn.instance;Xe.ngxsOnChanges&&this._store.select(Rt=>Z(Rt,dn.path)).pipe((0,V.Z)(void 0),(0,ge.J)(),(0,Ft.Q)(this._destroy$)).subscribe(([Rt,qt])=>{const zn=new sn(Rt,qt,!dn.isInitialised);Xe.ngxsOnChanges(zn)}),Xe.ngxsOnInit&&Xe.ngxsOnInit(this._getStateContext(dn)),dn.isInitialised=!0}}_invokeBootstrapOnStates(Ut){for(const dn of Ut){const Xe=dn.instance;Xe.ngxsAfterBootstrap&&Xe.ngxsAfterBootstrap(this._getStateContext(dn))}}_getStateContext(Ut){return this._stateContextFactory.createStateContext(Ut)}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(ts),r.KVO(qn),r.KVO(Zt),r.KVO(hr),r.KVO(f))},mt.\u0275prov=r.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),jn=(()=>{class mt{constructor(Ut,dn,Xe,Rt,qt=[],zn){const fr=Ut.addAndReturnDefaults(qt);dn.setStateToTheCurrentWithNew(fr),Ut.connectActionHandlers(),zn.ngxsBootstrap(new Rr,fr)}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(ko),r.KVO(Zt),r.KVO(ts),r.KVO(Jo),r.KVO($e,8),r.KVO(Us))},mt.\u0275mod=r.$C({type:mt}),mt.\u0275inj=r.G2t({}),mt})(),Zn=(()=>{class mt{constructor(Ut,dn,Xe,Rt=[],qt){const zn=mt.flattenStates(Rt),fr=Xe.addAndReturnDefaults(zn);fr.states.length&&(dn.setStateToTheCurrentWithNew(fr),qt.ngxsBootstrap(new ci(fr.defaults),fr))}static flattenStates(Ut=[]){return Ut.reduce((dn,Xe)=>dn.concat(Xe),[])}}return mt.\u0275fac=function(Ut){return new(Ut||mt)(r.KVO(ts),r.KVO(Zt),r.KVO(ko),r.KVO(Lt,8),r.KVO(Us))},mt.\u0275mod=r.$C({type:mt}),mt.\u0275inj=r.G2t({}),mt})(),Vr=(()=>{class mt{static forRoot(Ut=[],dn={}){return{ngModule:jn,providers:[ko,Ai,...Ut,...mt.ngxsTokenProviders(Ut,dn)]}}static forFeature(Ut=[]){return{ngModule:Zn,providers:[ko,Ai,...Ut,{provide:Lt,multi:!0,useValue:Ut}]}}static ngxsTokenProviders(Ut,dn){return[{provide:Fe,useValue:dn.executionStrategy},{provide:$e,useValue:Ut},{provide:Tt,useValue:dn},{provide:r.iLQ,useFactory:mt.appBootstrapListenerFactory,multi:!0,deps:[f]},{provide:U,useExisting:hr},{provide:S,useExisting:ko}]}static appBootstrapListenerFactory(Ut){return()=>Ut.bootstrap()}}return mt.\u0275fac=function(Ut){return new(Ut||mt)},mt.\u0275mod=r.$C({type:mt}),mt.\u0275inj=r.G2t({}),mt})();function Ti(mt,mn){return(Ut,dn)=>{const Xe=Ce(Ut.constructor);Array.isArray(mt)||(mt=[mt]);for(const Rt of mt){const qt=Rt.type;Xe.actions[qt]||(Xe.actions[qt]=[]),Xe.actions[qt].push({fn:dn,options:mn||{},type:qt})}}}function qi(mt){return mn=>{const Ut=mn,dn=Ce(Ut),Xe=Object.getPrototypeOf(Ut),Rt=function Co(mt,mn){return Object.assign(Object.assign({},mt[Ln]||{}),mn)}(Xe,mt);(function Ni(mt){const{meta:mn,inheritedStateClass:Ut,optionsWithInheritance:dn}=mt,{children:Xe,defaults:Rt,name:qt}=dn,zn="string"==typeof qt?qt:qt&&qt.getName()||null;if(Ut.hasOwnProperty(gn)){const fr=Ut[gn]||{};mn.actions=Object.assign(Object.assign({},mn.actions),fr.actions)}mn.children=Xe,mn.defaults=Rt,mn.name=zn})({meta:dn,inheritedStateClass:Xe,optionsWithInheritance:Rt}),Ut[Ln]=Rt}}const ji=36;function Qo(mt,...mn){return function(Ut,dn){const Xe=dn.toString(),Rt=`__${Xe}__selector`,qt=function Lo(mt,mn,Ut=[]){return mn=mn||function lo(mt){const mn=mt.length-1;return mt.charCodeAt(mn)===ji?mt.slice(0,mn):mt}(mt),"string"==typeof mn?Kt(Ut.length?[mn,...Ut]:mn.split("."),Jo.config):mn}(Xe,mt,mn);Object.defineProperties(Ut,{[Rt]:{writable:!0,enumerable:!1,configurable:!0},[Xe]:{enumerable:!0,configurable:!0,get(){return this[Rt]||(this[Rt]=function co(mt){return Jo.store||function dt(){throw new Error("You have forgotten to import the NGXS module!")}(),Jo.store.select(mt)}(qt))}}})}}const ta="NGXS_SELECTOR_OPTIONS_META",Ws={getOptions:mt=>mt&&mt[ta]||{},defineOptions:(mt,mn)=>{mt&&(mt[ta]=mn)}};function cs(mt,mn){const Ut=function it(mt){return mt.hasOwnProperty($n)||Object.defineProperty(mt,$n,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Me(mt)}(mt);Ut.originalFn=mt;let dn=()=>({});mn&&(Ut.containerClass=mn.containerClass,Ut.selectorName=mn.selectorName||null,dn=mn.getSelectorOptions||dn);const Xe=Object.assign({},Ut);return Ut.getSelectorOptions=()=>function Ns(mt,mn){return Object.assign(Object.assign(Object.assign(Object.assign({},Ws.getOptions(mt.containerClass)||{}),Ws.getOptions(mt.originalFn)||{}),mt.getSelectorOptions()||{}),mn)}(Xe,dn()),Ut}function ns(mt){return function(Ut,dn,Xe){if(dn){Xe||(Xe=Object.getOwnPropertyDescriptor(Ut,dn));const Rt=Xe.value||Xe.originalFn;Rt&&Ws.defineOptions(Rt,mt)}else Ws.defineOptions(Ut,mt)}}function Ko(mt,mn,Ut){const dn=function Po(mt,mn){const Ut=mn&&mn.containerClass,Xe=C(function(...qt){const zn=mt.apply(Ut,qt);return zn instanceof Function?C.apply(null,[zn]):zn});return Object.setPrototypeOf(Xe,mt),Xe}(mn,Ut),Xe=cs(mn,Ut);return Xe.makeRootSelector=function Yo(mt,mn,Ut){return dn=>{const{argumentSelectorFunctions:Xe,selectorOptions:Rt}=function ss(mt,mn,Ut=[]){const dn=mn.getSelectorOptions(),Xe=mt.getSelectorOptions(dn),qt=function as(mt=[],mn,Ut){const dn=[];return Ut&&(0===mt.length||mn.injectContainerState)&&me(Ut)&&dn.push(Ut),mt&&dn.push(...mt),dn}(Ut,Xe,mn.containerClass).map(zn=>Cs(zn)(mt));return{selectorOptions:Xe,argumentSelectorFunctions:qt}}(dn,mt,mn);return function(zn){const fr=Xe.map(mr=>mr(zn));try{return Ut(...fr)}catch(mr){if(mr instanceof TypeError&&Rt.suppressErrors)return;throw mr}}}}(Xe,mt,dn),dn}function Fs(mt){return(mn,Ut,dn)=>{dn||(dn=Object.getOwnPropertyDescriptor(mn,Ut));const Xe=dn?.value,Rt=Ko(mt,Xe,{containerClass:mn,selectorName:Ut.toString(),getSelectorOptions:()=>({})}),qt={configurable:!0,get:()=>Rt};return qt.originalFn=Xe,qt}}},8638:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{Constants:()=>x,MotionController:()=>_,fetchProfile:()=>u,fetchProfilesList:()=>E});var r=w(8407);const x={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};function f(D){return b.apply(this,arguments)}function b(){return(b=(0,r.A)(function*(D){const W=yield fetch(D);if(W.ok)return W.json();throw new Error(W.statusText)})).apply(this,arguments)}function E(D){return C.apply(this,arguments)}function C(){return(C=(0,r.A)(function*(D){if(!D)throw new Error("No basePath supplied");return yield f(`${D}/profilesList.json`)})).apply(this,arguments)}function u(D,W){return F.apply(this,arguments)}function F(){return(F=(0,r.A)(function*(D,W,K=null,L=!0){if(!D)throw new Error("No xrInputSource supplied");if(!W)throw new Error("No basePath supplied");const ie=yield E(W);let ae;if(D.profiles.some(q=>{const $=ie[q];return $&&(ae={profileId:q,profilePath:`${W}/${$.path}`,deprecated:!!$.deprecated}),!!ae}),!ae){if(!K)throw new Error("No matching profile name found");const q=ie[K];if(!q)throw new Error(`No matching profile name found and default profile "${K}" missing.`);ae={profileId:K,profilePath:`${W}/${q.path}`,deprecated:!!q.deprecated}}const le=yield f(ae.profilePath);let fe;if(L){let q;if(q="any"===D.handedness?le.layouts[Object.keys(le.layouts)[0]]:le.layouts[D.handedness],!q)throw new Error(`No matching handedness, ${D.handedness}, in profile ${ae.profileId}`);q.assetPath&&(fe=ae.profilePath.replace("profile.json",q.assetPath))}return{profile:le,assetPath:fe}})).apply(this,arguments)}const S={xAxis:0,yAxis:0,button:0,state:x.ComponentState.DEFAULT};class O{constructor(W){this.componentProperty=W.componentProperty,this.states=W.states,this.valueNodeName=W.valueNodeName,this.valueNodeProperty=W.valueNodeProperty,this.valueNodeProperty===x.VisualResponseProperty.TRANSFORM&&(this.minNodeName=W.minNodeName,this.maxNodeName=W.maxNodeName),this.value=0,this.updateFromComponent(S)}updateFromComponent({xAxis:W,yAxis:K,button:L,state:ie}){const{normalizedXAxis:ae,normalizedYAxis:le}=function U(D=0,W=0){let K=D,L=W;if(Math.sqrt(D*D+W*W)>1){const le=Math.atan2(W,D);K=Math.cos(le),L=Math.sin(le)}return{normalizedXAxis:.5*K+.5,normalizedYAxis:.5*L+.5}}(W,K);switch(this.componentProperty){case x.ComponentProperty.X_AXIS:this.value=this.states.includes(ie)?ae:.5;break;case x.ComponentProperty.Y_AXIS:this.value=this.states.includes(ie)?le:.5;break;case x.ComponentProperty.BUTTON:this.value=this.states.includes(ie)?L:0;break;case x.ComponentProperty.STATE:this.value=this.valueNodeProperty===x.VisualResponseProperty.VISIBILITY?this.states.includes(ie):this.states.includes(ie)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class y{constructor(W,K){if(!(W&&K&&K.visualResponses&&K.gamepadIndices&&0!==Object.keys(K.gamepadIndices).length))throw new Error("Invalid arguments supplied");this.id=W,this.type=K.type,this.rootNodeName=K.rootNodeName,this.touchPointNodeName=K.touchPointNodeName,this.visualResponses={},Object.keys(K.visualResponses).forEach(L=>{const ie=new O(K.visualResponses[L]);this.visualResponses[L]=ie}),this.gamepadIndices=Object.assign({},K.gamepadIndices),this.values={state:x.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(W){if(this.values.state=x.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&W.buttons.length>this.gamepadIndices.button){const K=W.buttons[this.gamepadIndices.button];this.values.button=K.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,K.pressed||1===this.values.button?this.values.state=x.ComponentState.PRESSED:(K.touched||this.values.button>x.ButtonTouchThreshold)&&(this.values.state=x.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&W.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=W.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===x.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>x.AxisTouchThreshold&&(this.values.state=x.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&W.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=W.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===x.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>x.AxisTouchThreshold&&(this.values.state=x.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(K=>{K.updateFromComponent(this.values)})}}class _{constructor(W,K,L){if(!W)throw new Error("No xrInputSource supplied");if(!K)throw new Error("No profile supplied");this.xrInputSource=W,this.assetUrl=L,this.id=K.profileId,this.layoutDescription=K.layouts[W.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(ie=>{this.components[ie]=new y(ie,this.layoutDescription.components[ie])}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const W=[];return Object.values(this.components).forEach(K=>{W.push(K.data)}),W}updateFromGamepad(){Object.values(this.components).forEach(W=>{W.updateFromGamepad(this.xrInputSource.gamepad)})}}},6733:(en,ot,w)=>{"use strict";var r=w(741);function x(){var f={},b=0,E=0,C=0;return{add:function u(U,O){O||(O=U,U=0),U>E?E=U:U<C&&(C=U),f[U]||(f[U]=[]),f[U].push(O),b++},process:function F(){for(var U=C;U<=E;U++)for(var O=f[U],y=0;y<O.length;y++)(0,O[y])()},size:function S(){return b}}}en.exports=function(b){var E=(b=b||{}).reporter,C=r.getOption(b,"async",!0),u=r.getOption(b,"auto",!0);u&&!C&&(E&&E.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),C=!0);var S,F=x(),U=!1;function y(){for(U=!0;F.size();){var ie=F;F=x(),ie.process()}U=!1}function D(){S=function L(ie){return setTimeout(ie,0)}(y)}return{add:function O(ie,ae){!U&&u&&C&&0===F.size()&&D(),F.add(ie,ae)},force:function _(ie){U||(void 0===ie&&(ie=C),S&&(function K(ie){clearTimeout(ie)}(S),S=null),ie?D():y())}}}},741:en=>{"use strict";(en.exports={}).getOption=function w(r,x,f){var b=r[x];return null==b&&void 0!==f?f:b}},4680:(en,ot,w)=>{"use strict";var r=w(9222),x=w(5924),f=x(r("String.prototype.indexOf"));en.exports=function(E,C){var u=r(E,!!C);return"function"==typeof u&&f(E,".prototype.")>-1?x(u):u}},5924:(en,ot,w)=>{"use strict";var r=w(2988),x=w(9222),f=w(3330),b=w(3698),E=x("%Function.prototype.apply%"),C=x("%Function.prototype.call%"),u=x("%Reflect.apply%",!0)||r.call(C,E),F=w(2182),S=x("%Math.max%");en.exports=function(y){if("function"!=typeof y)throw new b("a function is required");var _=u(r,C,arguments);return f(_,1+S(0,y.length-(arguments.length-1)),!0)};var U=function(){return u(r,E,arguments)};F?F(en.exports,"apply",{value:U}):en.exports.apply=U},7092:(en,ot)=>{"use strict";ot.r=function D(ae,le){var fe=ae.slice(0,33);return new Promise(function(q,$){var j=new FileReader;j.onload=function(){var Q=new Uint8Array(j.result),ee=ae.slice(33),be=function ie(ae,le,fe,q){if(fe===C)return ae[13]=1,ae[14]=le>>8,ae[15]=255&le,ae[16]=le>>8,ae[17]=255&le,ae;if(fe===E){var $=new Uint8Array(13);le*=39.3701,$[0]=U,$[1]=O,$[2]=y,$[3]=_,$[4]=le>>>24,$[5]=le>>>16,$[6]=le>>>8,$[7]=255&le,$[8]=$[4],$[9]=$[5],$[10]=$[6],$[11]=$[7],$[12]=1;var j=function f(ae){var le=-1;b||(b=function x(){for(var ae=new Int32Array(256),le=0;le<256;le++){for(var fe=le,q=0;q<8;q++)fe=1&fe?3988292384^fe>>>1:fe>>>1;ae[le]=fe}return ae}());for(var fe=0;fe<ae.length;fe++)le=b[255&(le^ae[fe])]^le>>>8;return~le}($),Q=new Uint8Array(4);if(Q[0]=j>>>24,Q[1]=j>>>16,Q[2]=j>>>8,Q[3]=255&j,q){var ee=function L(ae){for(var fe=ae.length-1;fe>=4;fe--)if(9===ae[fe-4]&&ae[fe-3]===U&&ae[fe-2]===O&&ae[fe-1]===y&&ae[fe]===_)return fe-3}(ae);return ae.set($,ee),ae.set(Q,ee+13),ae}var be=new Uint8Array(4);be[0]=0,be[1]=0,be[2]=0,be[3]=9;var Se=new Uint8Array(54);return Se.set(ae,0),Se.set(be,33),Se.set($,37),Se.set(Q,50),Se}}(Q,le,ae.type);q(new Blob([be,ee],{type:ae.type}))},j.readAsArrayBuffer(fe)})};var b=void 0,E="image/png",C="image/jpeg",U=112,O=72,y=89,_=115},6938:(en,ot,w)=>{"use strict";w.d(ot,{Z:()=>x});var r=w(9727);function x(f,b={}){return function(E,C){const u=Reflect.getMetadata("design:type",E,C);r.s.addTypeMetadata({target:E.constructor,propertyName:C,reflectedType:u,typeFunction:f,options:b})}}},5460:(en,ot,w)=>{"use strict";w.d(ot,{_:()=>r});var r=function(x){return x[x.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",x[x.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",x[x.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",x}(r||{})},470:(en,ot,w)=>{"use strict";w.d(ot,{uK:()=>K,bj:()=>D});var r=w(9727),x=w(5460);class C{constructor(q,$){this.transformationType=q,this.options=$,this.recursionStack=new Set}transform(q,$,j,Q,ee,be=0){if(Array.isArray($)||$ instanceof Set){const Se=Q&&this.transformationType===x._.PLAIN_TO_CLASS?function E(fe){const q=new fe;return q instanceof Set||"push"in q?q:[]}(Q):[];return $.forEach((Qe,nt)=>{const De=q?q[nt]:void 0;if(this.options.enableCircularCheck&&this.isCircular(Qe))this.transformationType===x._.CLASS_TO_CLASS&&(Se instanceof Set?Se.add(Qe):Se.push(Qe));else{let ut;if("function"!=typeof j&&j&&j.options&&j.options.discriminator&&j.options.discriminator.property&&j.options.discriminator.subTypes){if(this.transformationType===x._.PLAIN_TO_CLASS){ut=j.options.discriminator.subTypes.find(V=>V.name===Qe[j.options.discriminator.property]);const I=j.typeFunction({newObject:Se,object:Qe,property:void 0});ut=void 0===ut?I:ut.value,j.options.keepDiscriminatorProperty||delete Qe[j.options.discriminator.property]}this.transformationType===x._.CLASS_TO_CLASS&&(ut=Qe.constructor),this.transformationType===x._.CLASS_TO_PLAIN&&(Qe[j.options.discriminator.property]=j.options.discriminator.subTypes.find(ve=>ve.value===Qe.constructor).name)}else ut=j;const Ft=this.transform(De,Qe,ut,void 0,Qe instanceof Map,be+1);Se instanceof Set?Se.add(Ft):Se.push(Ft)}}),Se}if(j===String&&!ee)return null==$?$:String($);if(j===Number&&!ee)return null==$?$:Number($);if(j===Boolean&&!ee)return null==$?$:!!$;if((j===Date||$ instanceof Date)&&!ee)return $ instanceof Date?new Date($.valueOf()):null==$?$:new Date($);if(function f(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0}().Buffer&&(j===Buffer||$ instanceof Buffer)&&!ee)return null==$?$:Buffer.from($);if(function b(fe){return null!==fe&&"object"==typeof fe&&"function"==typeof fe.then}($)&&!ee)return new Promise((Se,Qe)=>{$.then(nt=>Se(this.transform(void 0,nt,j,void 0,void 0,be+1)),Qe)});if(!ee&&null!==$&&"object"==typeof $&&"function"==typeof $.then)return $;if("object"==typeof $&&null!==$){!j&&$.constructor!==Object&&(!Array.isArray($)&&$.constructor===Array||(j=$.constructor)),!j&&q&&(j=q.constructor),this.options.enableCircularCheck&&this.recursionStack.add($);const Se=this.getKeys(j,$,ee);let Qe=q||{};!q&&(this.transformationType===x._.PLAIN_TO_CLASS||this.transformationType===x._.CLASS_TO_CLASS)&&(Qe=ee?new Map:j?new j:{});for(const nt of Se){if("__proto__"===nt||"constructor"===nt)continue;const De=nt;let ve,ut=nt,Ft=nt;if(!this.options.ignoreDecorators&&j)if(this.transformationType===x._.PLAIN_TO_CLASS){const ke=r.s.findExposeMetadataByCustomName(j,nt);ke&&(Ft=ke.propertyName,ut=ke.propertyName)}else if(this.transformationType===x._.CLASS_TO_PLAIN||this.transformationType===x._.CLASS_TO_CLASS){const ke=r.s.findExposeMetadata(j,nt);ke&&ke.options&&ke.options.name&&(ut=ke.options.name)}ve=this.transformationType===x._.PLAIN_TO_CLASS?$[De]:$ instanceof Map?$.get(De):$[De]instanceof Function?$[De]():$[De];let I,V=ve instanceof Map;if(j&&ee)I=j;else if(j){const ke=r.s.findTypeMetadata(j,Ft);if(ke){const Ht=ke.typeFunction?ke.typeFunction({newObject:Qe,object:$,property:Ft}):ke.reflectedType;ke.options&&ke.options.discriminator&&ke.options.discriminator.property&&ke.options.discriminator.subTypes?$[De]instanceof Array?I=ke:(this.transformationType===x._.PLAIN_TO_CLASS&&(I=ke.options.discriminator.subTypes.find(ln=>{if(ve&&ve instanceof Object&&ke.options.discriminator.property in ve)return ln.name===ve[ke.options.discriminator.property]}),I=void 0===I?Ht:I.value,ke.options.keepDiscriminatorProperty||ve&&ve instanceof Object&&ke.options.discriminator.property in ve&&delete ve[ke.options.discriminator.property]),this.transformationType===x._.CLASS_TO_CLASS&&(I=ve.constructor),this.transformationType===x._.CLASS_TO_PLAIN&&ve&&(ve[ke.options.discriminator.property]=ke.options.discriminator.subTypes.find(ln=>ln.value===ve.constructor).name)):I=Ht,V=V||ke.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(xt=>xt.target===j&&!!xt.properties[Ft]).forEach(xt=>I=xt.properties[Ft]);else if(this.options.enableImplicitConversion&&this.transformationType===x._.PLAIN_TO_CLASS){const xt=Reflect.getMetadata("design:type",j.prototype,Ft);xt&&(I=xt)}}const ge=Array.isArray($[De])?this.getReflectedType(j,Ft):void 0,Pe=q?q[De]:void 0;if(Qe.constructor.prototype){const ke=Object.getOwnPropertyDescriptor(Qe.constructor.prototype,ut);if((this.transformationType===x._.PLAIN_TO_CLASS||this.transformationType===x._.CLASS_TO_CLASS)&&(ke&&!ke.set||Qe[ut]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(ve)){if(this.transformationType===x._.CLASS_TO_CLASS){let ke=ve;ke=this.applyCustomTransformations(ke,j,nt,$,this.transformationType),(void 0!==ke||this.options.exposeUnsetFields)&&(Qe instanceof Map?Qe.set(ut,ke):Qe[ut]=ke)}}else{const ke=this.transformationType===x._.PLAIN_TO_CLASS?ut:nt;let xt;this.transformationType===x._.CLASS_TO_PLAIN?(xt=$[ke],xt=this.applyCustomTransformations(xt,j,ke,$,this.transformationType),xt=$[ke]===xt?ve:xt,xt=this.transform(Pe,xt,I,ge,V,be+1)):void 0===ve&&this.options.exposeDefaultValues?xt=Qe[ut]:(xt=this.transform(Pe,ve,I,ge,V,be+1),xt=this.applyCustomTransformations(xt,j,ke,$,this.transformationType)),(void 0!==xt||this.options.exposeUnsetFields)&&(Qe instanceof Map?Qe.set(ut,xt):Qe[ut]=xt)}}return this.options.enableCircularCheck&&this.recursionStack.delete($),Qe}return $}applyCustomTransformations(q,$,j,Q,ee){let be=r.s.findTransformMetadatas($,j,this.transformationType);return void 0!==this.options.version&&(be=be.filter(Se=>!Se.options||this.checkVersion(Se.options.since,Se.options.until))),be=be.filter(this.options.groups&&this.options.groups.length?Se=>!Se.options||this.checkGroups(Se.options.groups):Se=>!Se.options||!Se.options.groups||!Se.options.groups.length),be.forEach(Se=>{q=Se.transformFn({value:q,key:j,obj:Q,type:ee,options:this.options})}),q}isCircular(q){return this.recursionStack.has(q)}getReflectedType(q,$){if(!q)return;const j=r.s.findTypeMetadata(q,$);return j?j.reflectedType:void 0}getKeys(q,$,j){let Q=r.s.getStrategy(q);"none"===Q&&(Q=this.options.strategy||"exposeAll");let ee=[];if(("exposeAll"===Q||j)&&(ee=$ instanceof Map?Array.from($.keys()):Object.keys($)),j)return ee;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&q&&(ee=[...r.s.getExposedProperties(q,this.transformationType),...r.s.getExcludedProperties(q,this.transformationType)]),!this.options.ignoreDecorators&&q){let be=r.s.getExposedProperties(q,this.transformationType);this.transformationType===x._.PLAIN_TO_CLASS&&(be=be.map(Qe=>{const nt=r.s.findExposeMetadata(q,Qe);return nt&&nt.options&&nt.options.name?nt.options.name:Qe})),ee=this.options.excludeExtraneousValues?be:ee.concat(be);const Se=r.s.getExcludedProperties(q,this.transformationType);Se.length>0&&(ee=ee.filter(Qe=>!Se.includes(Qe))),void 0!==this.options.version&&(ee=ee.filter(Qe=>{const nt=r.s.findExposeMetadata(q,Qe);return!nt||!nt.options||this.checkVersion(nt.options.since,nt.options.until)})),ee=ee.filter(this.options.groups&&this.options.groups.length?Qe=>{const nt=r.s.findExposeMetadata(q,Qe);return!nt||!nt.options||this.checkGroups(nt.options.groups)}:Qe=>{const nt=r.s.findExposeMetadata(q,Qe);return!(nt&&nt.options&&nt.options.groups&&nt.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(ee=ee.filter(be=>this.options.excludePrefixes.every(Se=>be.substr(0,Se.length)!==Se))),ee=ee.filter((be,Se,Qe)=>Qe.indexOf(be)===Se),ee}checkVersion(q,$){let j=!0;return j&&q&&(j=this.options.version>=q),j&&$&&(j=this.options.version<$),j}checkGroups(q){return!q||this.options.groups.some($=>q.includes($))}}const u={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},S=new class F{instanceToPlain(q,$){return new C(x._.CLASS_TO_PLAIN,{...u,...$}).transform(void 0,q,void 0,void 0,void 0,void 0)}classToPlainFromExist(q,$,j){return new C(x._.CLASS_TO_PLAIN,{...u,...j}).transform($,q,void 0,void 0,void 0,void 0)}plainToInstance(q,$,j){return new C(x._.PLAIN_TO_CLASS,{...u,...j}).transform(void 0,$,q,void 0,void 0,void 0)}plainToClassFromExist(q,$,j){return new C(x._.PLAIN_TO_CLASS,{...u,...j}).transform(q,$,void 0,void 0,void 0,void 0)}instanceToInstance(q,$){return new C(x._.CLASS_TO_CLASS,{...u,...$}).transform(void 0,q,void 0,void 0,void 0,void 0)}classToClassFromExist(q,$,j){return new C(x._.CLASS_TO_CLASS,{...u,...j}).transform($,q,void 0,void 0,void 0,void 0)}serialize(q,$){return JSON.stringify(this.instanceToPlain(q,$))}deserialize(q,$,j){const Q=JSON.parse($);return this.plainToInstance(q,Q,j)}deserializeArray(q,$,j){const Q=JSON.parse($);return this.plainToInstance(q,Q,j)}};function D(fe,q,$){return S.plainToInstance(fe,q,$)}function K(fe,q){return S.instanceToInstance(fe,q)}},9727:(en,ot,w)=>{"use strict";w.d(ot,{s:()=>f});var r=w(5460);const f=new class x{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(E){this._typeMetadatas.has(E.target)||this._typeMetadatas.set(E.target,new Map),this._typeMetadatas.get(E.target).set(E.propertyName,E)}addTransformMetadata(E){this._transformMetadatas.has(E.target)||this._transformMetadatas.set(E.target,new Map),this._transformMetadatas.get(E.target).has(E.propertyName)||this._transformMetadatas.get(E.target).set(E.propertyName,[]),this._transformMetadatas.get(E.target).get(E.propertyName).push(E)}addExposeMetadata(E){this._exposeMetadatas.has(E.target)||this._exposeMetadatas.set(E.target,new Map),this._exposeMetadatas.get(E.target).set(E.propertyName,E)}addExcludeMetadata(E){this._excludeMetadatas.has(E.target)||this._excludeMetadatas.set(E.target,new Map),this._excludeMetadatas.get(E.target).set(E.propertyName,E)}findTransformMetadatas(E,C,u){return this.findMetadatas(this._transformMetadatas,E,C).filter(F=>!F.options||!0===F.options.toClassOnly&&!0===F.options.toPlainOnly||(!0===F.options.toClassOnly?u===r._.CLASS_TO_CLASS||u===r._.PLAIN_TO_CLASS:!0!==F.options.toPlainOnly||u===r._.CLASS_TO_PLAIN))}findExcludeMetadata(E,C){return this.findMetadata(this._excludeMetadatas,E,C)}findExposeMetadata(E,C){return this.findMetadata(this._exposeMetadatas,E,C)}findExposeMetadataByCustomName(E,C){return this.getExposedMetadatas(E).find(u=>u.options&&u.options.name===C)}findTypeMetadata(E,C){return this.findMetadata(this._typeMetadatas,E,C)}getStrategy(E){const C=this._excludeMetadatas.get(E),u=C&&C.get(void 0),F=this._exposeMetadatas.get(E),S=F&&F.get(void 0);return u&&S||!u&&!S?"none":u?"excludeAll":"exposeAll"}getExposedMetadatas(E){return this.getMetadata(this._exposeMetadatas,E)}getExcludedMetadatas(E){return this.getMetadata(this._excludeMetadatas,E)}getExposedProperties(E,C){return this.getExposedMetadatas(E).filter(u=>!u.options||!0===u.options.toClassOnly&&!0===u.options.toPlainOnly||(!0===u.options.toClassOnly?C===r._.CLASS_TO_CLASS||C===r._.PLAIN_TO_CLASS:!0!==u.options.toPlainOnly||C===r._.CLASS_TO_PLAIN)).map(u=>u.propertyName)}getExcludedProperties(E,C){return this.getExcludedMetadatas(E).filter(u=>!u.options||!0===u.options.toClassOnly&&!0===u.options.toPlainOnly||(!0===u.options.toClassOnly?C===r._.CLASS_TO_CLASS||C===r._.PLAIN_TO_CLASS:!0!==u.options.toPlainOnly||C===r._.CLASS_TO_PLAIN)).map(u=>u.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(E,C){const u=E.get(C);let F;u&&(F=Array.from(u.values()).filter(U=>void 0!==U.propertyName));const S=[];for(const U of this.getAncestors(C)){const O=E.get(U);if(O){const y=Array.from(O.values()).filter(_=>void 0!==_.propertyName);S.push(...y)}}return S.concat(F||[])}findMetadata(E,C,u){const F=E.get(C);if(F){const S=F.get(u);if(S)return S}for(const S of this.getAncestors(C)){const U=E.get(S);if(U){const O=U.get(u);if(O)return O}}}findMetadatas(E,C,u){const F=E.get(C);let S;F&&(S=F.get(u));const U=[];for(const O of this.getAncestors(C)){const y=E.get(O);y&&y.has(u)&&U.push(...y.get(u))}return U.slice().reverse().concat((S||[]).slice().reverse())}getAncestors(E){if(!E)return[];if(!this._ancestorsMap.has(E)){const C=[];for(let u=Object.getPrototypeOf(E.prototype.constructor);typeof u.prototype<"u";u=Object.getPrototypeOf(u.prototype.constructor))C.push(u);this._ancestorsMap.set(E,C)}return this._ancestorsMap.get(E)}}},2948:(en,ot,w)=>{"use strict";var r=w(2182),x=w(5097),f=w(3698),b=w(9234);en.exports=function(C,u,F){if(!C||"object"!=typeof C&&"function"!=typeof C)throw new f("`obj` must be an object or a function`");if("string"!=typeof u&&"symbol"!=typeof u)throw new f("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new f("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new f("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new f("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new f("`loose`, if provided, must be a boolean");var S=arguments.length>3?arguments[3]:null,U=arguments.length>4?arguments[4]:null,O=arguments.length>5?arguments[5]:null,y=arguments.length>6&&arguments[6],_=!!b&&b(C,u);if(r)r(C,u,{configurable:null===O&&_?_.configurable:!O,enumerable:null===S&&_?_.enumerable:!S,value:F,writable:null===U&&_?_.writable:!U});else{if(!y&&(S||U||O))throw new x("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");C[u]=F}}},8851:(en,ot)=>{ot.TF=function C(u){return u.replace(/[^\u0000-\u007e]/g,function(F){return x[F]||F})};for(var r=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],x={},f=0;f<r.length;f+=1)for(var b=r[f].chars,E=0;E<b.length;E+=1)x[b[E]]=r[f].base},7764:en=>{"use strict";var ot=en.exports={};ot.isIE=function(w){return!(!function r(){var f=navigator.userAgent.toLowerCase();return-1!==f.indexOf("msie")||-1!==f.indexOf("trident")||-1!==f.indexOf(" edge/")}()||w&&w!==function(){var b=3,E=document.createElement("div"),C=E.getElementsByTagName("i");do{E.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e"}while(C[0]);return b>4?b:void 0}())},ot.isLegacyOpera=function(){return!!window.opera}},6565:en=>{"use strict";(en.exports={}).forEach=function(w,r){for(var x=0;x<w.length;x++){var f=r(w[x]);if(f)return f}}},7618:(en,ot,w)=>{"use strict";var r=w(7764);en.exports=function(x){var f=(x=x||{}).reporter,b=x.batchProcessor,E=x.stateHandler.getState;if(!f)throw new Error("Missing required dependency: reporter.");function S(O){return E(O).object}return{makeDetectable:function F(O,y,_){_||(_=y,y=O,O=null),O=O||{},r.isIE(8)?_(y):function W(K,L){var ie=function u(O){var y=x.important?" !important; ":"; ";return(O.join(y)+y).trim()}(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),ae=!1,le=window.getComputedStyle(K),fe=K.offsetWidth,q=K.offsetHeight;function $(){function j(){if("static"===le.position){K.style.setProperty("position","relative",O.important?"important":"");var be=function(Se,Qe,nt,De){var Ft=nt[De];"auto"!==Ft&&"0"!==function ut(ve){return ve.replace(/[^-\d\.]/g,"")}(Ft)&&(Se.warn("An element that is positioned static has style."+De+"="+Ft+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+De+" will be set to 0. Element: ",Qe),Qe.style.setProperty(De,"0",O.important?"important":""))};be(f,K,le,"top"),be(f,K,le,"right"),be(f,K,le,"bottom"),be(f,K,le,"left")}}""!==le.position&&(j(),ae=!0);var ee=document.createElement("object");ee.style.cssText=ie,ee.tabIndex=-1,ee.type="text/html",ee.setAttribute("aria-hidden","true"),ee.onload=function Q(){ae||j(),function be(Qe,nt){if(!Qe.contentDocument){var De=E(Qe);return De.checkForObjectDocumentTimeoutId&&window.clearTimeout(De.checkForObjectDocumentTimeoutId),void(De.checkForObjectDocumentTimeoutId=setTimeout(function(){De.checkForObjectDocumentTimeoutId=0,be(Qe,nt)},100))}nt(Qe.contentDocument)}(this,function(nt){L(K)})},r.isIE()||(ee.data="about:blank"),E(K)&&(K.appendChild(ee),E(K).object=ee,r.isIE()&&(ee.data="about:blank"))}E(K).startSize={width:fe,height:q},b?b.add($):$()}(y,_)},addListener:function C(O,y){function _(){y(O)}if(r.isIE(8))E(O).object={proxy:_},O.attachEvent("onresize",_);else{var D=S(O);if(!D)throw new Error("Element is not detectable by this strategy.");D.contentDocument.defaultView.addEventListener("resize",_)}},uninstall:function U(O){if(E(O)){var y=S(O);y&&(r.isIE(8)?O.detachEvent("onresize",y.proxy):O.removeChild(y),E(O).checkForObjectDocumentTimeoutId&&window.clearTimeout(E(O).checkForObjectDocumentTimeoutId),delete E(O).object)}}}}},7728:(en,ot,w)=>{"use strict";var r=w(6565).forEach;en.exports=function(x){var f=(x=x||{}).reporter,b=x.batchProcessor,E=x.stateHandler.getState,u=x.idHandler;if(!b)throw new Error("Missing required dependency: batchProcessor");if(!f)throw new Error("Missing required dependency: reporter.");var F=function _(){var Q=document.createElement("div");Q.style.cssText=y(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var ee=document.createElement("div");ee.style.cssText=y(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),ee.appendChild(Q),document.body.insertBefore(ee,document.body.firstChild);var be=500-ee.clientWidth,Se=500-ee.clientHeight;return document.body.removeChild(ee),{width:be,height:Se}}(),U="erd_scroll_detection_container";function O($){!function D($,j,Q){if(!$.getElementById(j)){var be=Q+"_animation",Se=Q+"_animation_active",Qe="/* Created by the element-resize-detector library. */\n";Qe+="."+Q+" > div::-webkit-scrollbar { "+y(["display: none"])+" }\n\n",Qe+="."+Se+" { "+y(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+be,"animation-name: "+be])+" }\n",Qe+="@-webkit-keyframes "+be+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function ee(nt,De){De=De||function(Ft){$.head.appendChild(Ft)};var ut=$.createElement("style");return ut.innerHTML=nt,ut.id=j,De(ut),ut}(Qe+="@keyframes "+be+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}($,"erd_scroll_detection_scrollbar_style",U)}function y($){var j=x.important?" !important; ":"; ";return($.join(j)+j).trim()}function K($,j,Q){if($.addEventListener)$.addEventListener(j,Q);else{if(!$.attachEvent)return f.error("[scroll] Don't know how to add event listeners.");$.attachEvent("on"+j,Q)}}function L($,j,Q){if($.removeEventListener)$.removeEventListener(j,Q);else{if(!$.detachEvent)return f.error("[scroll] Don't know how to remove event listeners.");$.detachEvent("on"+j,Q)}}function ie($){return E($).container.childNodes[0].childNodes[0].childNodes[0]}function ae($){return E($).container.childNodes[0].childNodes[0].childNodes[1]}return O(window.document),{makeDetectable:function fe($,j,Q){function ee(){if($.debug){var P=Array.prototype.slice.call(arguments);if(P.unshift(u.get(j),"Scroll: "),f.log.apply)f.log.apply(null,P);else for(var B=0;B<P.length;B++)f.log(P[B])}}function Se(P){var B=E(P).container.childNodes[0],R=window.getComputedStyle(B);return!R.width||-1===R.width.indexOf("px")}function Qe(){var P=window.getComputedStyle(j),B={};return B.position=P.position,B.width=j.offsetWidth,B.height=j.offsetHeight,B.top=P.top,B.right=P.right,B.bottom=P.bottom,B.left=P.left,B.widthCSS=P.width,B.heightCSS=P.height,B}function ut(){if(ee("storeStyle invoked."),E(j)){var P=Qe();E(j).style=P}else ee("Aborting because element has been uninstalled")}function Ft(P,B,R){E(P).lastWidth=B,E(P).lastHeight=R}function I(){return 2*F.width+1}function V(){return 2*F.height+1}function ge(P){return P+10+I()}function Pe(P){return P+10+V()}function Ht(P,B,R){var N=ie(P),Y=ae(P),h=ge(B),M=Pe(R),Z=function ke(P){return 2*P+I()}(B),z=function xt(P){return 2*P+V()}(R);N.scrollLeft=h,N.scrollTop=M,Y.scrollLeft=Z,Y.scrollTop=z}function ln(){var P=E(j).container;if(!P){(P=document.createElement("div")).className=U,P.style.cssText=y(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),E(j).container=P,function W($){$.className+=" "+U+"_animation_active"}(P),j.appendChild(P);var B=function(){E(j).onRendered&&E(j).onRendered()};K(P,"animationstart",B),E(j).onAnimationStart=B}return P}function Bt(){if(ee("Injecting elements"),E(j)){!function P(){var At=E(j).style;if("static"===At.position){j.style.setProperty("position","relative",$.important?"important":"");var Qt=function(Ke,pt,Tt,$e){var Xt=Tt[$e];"auto"!==Xt&&"0"!==function Lt(gn){return gn.replace(/[^-\d\.]/g,"")}(Xt)&&(Ke.warn("An element that is positioned static has style."+$e+"="+Xt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+$e+" will be set to 0. Element: ",pt),pt.style[$e]=0)};Qt(f,j,At,"top"),Qt(f,j,At,"right"),Qt(f,j,At,"bottom"),Qt(f,j,At,"left")}}();var R=E(j).container;R||(R=ln());var N=F.width,Y=F.height,h=y(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),M=y(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function B(At,Qt,Ke,pt){return["left: "+(At=At?At+"px":"0"),"top: "+(Qt=Qt?Qt+"px":"0"),"right: "+(pt=pt?pt+"px":"0"),"bottom: "+(Ke=Ke?Ke+"px":"0")]}(-(1+N),-(1+Y),-Y,-N))),Z=y(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),z=y(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),H=y(["position: absolute","left: 0","top: 0"]),X=y(["position: absolute","width: 200%","height: 200%"]),oe=document.createElement("div"),He=document.createElement("div"),rt=document.createElement("div"),ft=document.createElement("div"),It=document.createElement("div"),Ge=document.createElement("div");oe.dir="ltr",oe.style.cssText=h,oe.className=U,He.className=U,He.style.cssText=M,rt.style.cssText=Z,ft.style.cssText=H,It.style.cssText=z,Ge.style.cssText=X,rt.appendChild(ft),It.appendChild(Ge),He.appendChild(rt),He.appendChild(It),oe.appendChild(He),R.appendChild(oe),K(rt,"scroll",Ct),K(It,"scroll",dt),E(j).onExpandScroll=Ct,E(j).onShrinkScroll=dt}else ee("Aborting because element has been uninstalled");function Ct(){var At=E(j);At&&At.onExpand?At.onExpand():ee("Aborting expand scroll handler: element has been uninstalled")}function dt(){var At=E(j);At&&At.onShrink?At.onShrink():ee("Aborting shrink scroll handler: element has been uninstalled")}}function Ye(){function P(Z,z,H){var X=function ve(P){return ie(P).childNodes[0]}(Z),oe=ge(z),He=Pe(H);X.style.setProperty("width",oe+"px",$.important?"important":""),X.style.setProperty("height",He+"px",$.important?"important":"")}function B(Z){var z=j.offsetWidth,H=j.offsetHeight,X=z!==E(j).lastWidth||H!==E(j).lastHeight;ee("Storing current size",z,H),Ft(j,z,H),b.add(0,function(){if(X){if(!E(j))return void ee("Aborting because element has been uninstalled");if(!R())return void ee("Aborting because element container has not been initialized");$.debug&&(j.offsetWidth!==z||j.offsetHeight!==H)&&f.warn(u.get(j),"Scroll: Size changed before updating detector elements."),P(j,z,H)}}),b.add(1,function(){E(j)?R()?Ht(j,z,H):ee("Aborting because element container has not been initialized"):ee("Aborting because element has been uninstalled")}),X&&Z&&b.add(2,function(){E(j)?R()?Z():ee("Aborting because element container has not been initialized"):ee("Aborting because element has been uninstalled")})}function R(){return!!E(j).container}function N(){ee("notifyListenersIfNeeded invoked");var z=E(j);return function Z(){return void 0===E(j).lastNotifiedWidth}()&&z.lastWidth===z.startSize.width&&z.lastHeight===z.startSize.height?ee("Not notifying: Size is the same as the start size, and there has been no notification yet."):z.lastWidth===z.lastNotifiedWidth&&z.lastHeight===z.lastNotifiedHeight?ee("Not notifying: Size already notified"):(ee("Current size not notified, notifying..."),z.lastNotifiedWidth=z.lastWidth,z.lastNotifiedHeight=z.lastHeight,void r(E(j).listeners,function(H){H(j)}))}function h(){ee("Scroll detected."),Se(j)?ee("Scroll event fired while unrendered. Ignoring..."):B(N)}if(ee("registerListenersAndPositionElements invoked."),E(j)){E(j).onRendered=function Y(){if(ee("startanimation triggered."),Se(j))ee("Ignoring since element is still unrendered...");else{ee("Element rendered.");var Z=ie(j),z=ae(j);(0===Z.scrollLeft||0===Z.scrollTop||0===z.scrollLeft||0===z.scrollTop)&&(ee("Scrollbars out of sync. Updating detector elements..."),B(N))}},E(j).onExpand=h,E(j).onShrink=h;var M=E(j).style;P(j,M.width,M.height)}else ee("Aborting because element has been uninstalled")}function Ze(){if(ee("finalizeDomMutation invoked."),E(j)){var P=E(j).style;Ft(j,P.width,P.height),Ht(j,P.width,P.height)}else ee("Aborting because element has been uninstalled")}function Ot(){Q(j)}function ye(){ee("Installing..."),function De(){E(j).listeners=[]}(),function nt(){var P=Qe();E(j).startSize={width:P.width,height:P.height},ee("Element start size",E(j).startSize)}(),b.add(0,ut),b.add(1,Bt),b.add(2,Ye),b.add(3,Ze),b.add(4,Ot)}Q||(Q=j,j=$,$=null),$=$||{},ee("Making detectable..."),function be(P){return!function B(R){var N=R.getRootNode&&R.getRootNode().contains(R);return R===R.ownerDocument.body||R.ownerDocument.body.contains(R)||N}(P)||null===window.getComputedStyle(P)}(j)?(ee("Element is detached"),ln(),ee("Waiting until element is attached..."),E(j).onRendered=function(){ee("Element is now attached"),ye()}):ye()},addListener:function le($,j){if(!E($).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");E($).listeners.push(j)},uninstall:function q($){var j=E($);j&&(j.onExpandScroll&&L(ie($),"scroll",j.onExpandScroll),j.onShrinkScroll&&L(ae($),"scroll",j.onShrinkScroll),j.onAnimationStart&&L(j.container,"animationstart",j.onAnimationStart),j.container&&$.removeChild(j.container))},initDocument:O}}},8465:(en,ot,w)=>{"use strict";var r=w(6565).forEach,x=w(6861),f=w(9216),b=w(6100),E=w(1157),C=w(8816),u=w(7764),F=w(6733),S=w(3133),U=w(7618),O=w(7728);function y(K){return Array.isArray(K)||void 0!==K.length}function _(K){if(Array.isArray(K))return K;var L=[];return r(K,function(ie){L.push(ie)}),L}function D(K){return K&&1===K.nodeType}function W(K,L,ie){var ae=K[L];return null==ae&&void 0!==ie?ie:ae}en.exports=function(K){var L;if((K=K||{}).idHandler)L={get:function(ve){return K.idHandler.get(ve,!0)},set:K.idHandler.set};else{var ie=b(),ae=E({idGenerator:ie,stateHandler:S});L=ae}var le=K.reporter;le||(le=C(!1===le));var q=W(K,"batchProcessor",F({reporter:le})),$={};$.callOnAdd=!!W(K,"callOnAdd",!0),$.debug=!!W(K,"debug",!1);var ee,j=f(L),Q=x({stateHandler:S}),be=W(K,"strategy","object"),Se=W(K,"important",!1),Qe={reporter:le,batchProcessor:q,stateHandler:S,idHandler:L,important:Se};if("scroll"===be&&(u.isLegacyOpera()?(le.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),be="object"):u.isIE(9)&&(le.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),be="object")),"scroll"===be)ee=O(Qe);else{if("object"!==be)throw new Error("Invalid strategy name: "+be);ee=U(Qe)}var nt={};return{listenTo:function De(ve,I,V){function ge(Bt){var Ye=j.get(Bt);r(Ye,function(Ot){Ot(Bt)})}function Pe(Bt,Ye,Ze){j.add(Ye,Ze),Bt&&Ze(Ye)}if(V||(V=I,I=ve,ve={}),!I)throw new Error("At least one element required.");if(!V)throw new Error("Listener required.");if(D(I))I=[I];else{if(!y(I))return le.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");I=_(I)}var ke=0,xt=W(ve,"callOnAdd",$.callOnAdd),Ht=W(ve,"onReady",function(){}),ln=W(ve,"debug",$.debug);r(I,function(Ye){S.getState(Ye)||(S.initState(Ye),L.set(Ye));var Ze=L.get(Ye);if(ln&&le.log("Attaching listener to element",Ze,Ye),!Q.isDetectable(Ye))return ln&&le.log(Ze,"Not detectable."),Q.isBusy(Ye)?(ln&&le.log(Ze,"System busy making it detectable"),Pe(xt,Ye,V),nt[Ze]=nt[Ze]||[],void nt[Ze].push(function(){++ke===I.length&&Ht()})):(ln&&le.log(Ze,"Making detectable..."),Q.markBusy(Ye,!0),ee.makeDetectable({debug:ln,important:Se},Ye,function(ye){if(ln&&le.log(Ze,"onElementDetectable"),S.getState(ye)){Q.markAsDetectable(ye),Q.markBusy(ye,!1),ee.addListener(ye,ge),Pe(xt,ye,V);var P=S.getState(ye);P&&P.startSize&&(P.startSize.width!==ye.offsetWidth||P.startSize.height!==ye.offsetHeight)&&ge(ye),nt[Ze]&&r(nt[Ze],function(N){N()})}else ln&&le.log(Ze,"Element uninstalled before being detectable.");delete nt[Ze],++ke===I.length&&Ht()}));ln&&le.log(Ze,"Already detecable, adding listener."),Pe(xt,Ye,V),ke++}),ke===I.length&&Ht()},removeListener:j.removeListener,removeAllListeners:j.removeAllListeners,uninstall:function ut(ve){if(!ve)return le.error("At least one element is required.");if(D(ve))ve=[ve];else{if(!y(ve))return le.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");ve=_(ve)}r(ve,function(I){j.removeAllListeners(I),ee.uninstall(I),S.cleanState(I)})},initDocument:function Ft(ve){ee.initDocument&&ee.initDocument(ve)}}}},6861:en=>{"use strict";en.exports=function(ot){var w=ot.stateHandler.getState;return{isDetectable:function r(E){var C=w(E);return C&&!!C.isDetectable},markAsDetectable:function x(E){w(E).isDetectable=!0},isBusy:function f(E){return!!w(E).busy},markBusy:function b(E,C){w(E).busy=!!C}}}},6100:en=>{"use strict";en.exports=function(){var ot=1;return{generate:function w(){return ot++}}}},1157:en=>{"use strict";en.exports=function(ot){var w=ot.idGenerator,r=ot.stateHandler.getState;return{get:function x(b){var E=r(b);return E&&void 0!==E.id?E.id:null},set:function f(b){var E=r(b);if(!E)throw new Error("setId required the element to have a resize detection state.");var C=w.generate();return E.id=C,C}}}},9216:en=>{"use strict";en.exports=function(ot){var w={};function r(E){var C=ot.get(E);return void 0===C?[]:w[C]||[]}return{get:r,add:function x(E,C){var u=ot.get(E);w[u]||(w[u]=[]),w[u].push(C)},removeListener:function f(E,C){for(var u=r(E),F=0,S=u.length;F<S;++F)if(u[F]===C){u.splice(F,1);break}},removeAllListeners:function b(E){var C=r(E);C&&(C.length=0)}}}},8816:en=>{"use strict";en.exports=function(ot){function w(){}var r={log:w,warn:w,error:w};if(!ot&&window.console){var x=function(f,b){f[b]=function(){var C=console[b];if(C.apply)C.apply(console,arguments);else for(var u=0;u<arguments.length;u++)C(arguments[u])}};x(r,"log"),x(r,"warn"),x(r,"error")}return r}},3133:en=>{"use strict";var ot="_erd";function r(f){return f[ot]}en.exports={initState:function w(f){return f[ot]={},r(f)},getState:r,cleanState:function x(f){delete f[ot]}}},2182:(en,ot,w)=>{"use strict";var x=w(9222)("%Object.defineProperty%",!0)||!1;if(x)try{x({},"a",{value:1})}catch{x=!1}en.exports=x},1776:en=>{"use strict";en.exports=EvalError},2276:en=>{"use strict";en.exports=Error},3433:en=>{"use strict";en.exports=RangeError},2025:en=>{"use strict";en.exports=ReferenceError},5097:en=>{"use strict";en.exports=SyntaxError},3698:en=>{"use strict";en.exports=TypeError},7378:en=>{"use strict";en.exports=URIError},7678:function(en,ot){var w,x;void 0!==(x="function"==typeof(w=function(){"use strict";function b(U,O,y){var _=new XMLHttpRequest;_.open("GET",U),_.responseType="blob",_.onload=function(){S(_.response,O,y)},_.onerror=function(){console.error("could not download file")},_.send()}function E(U){var O=new XMLHttpRequest;O.open("HEAD",U,!1);try{O.send()}catch{}return 200<=O.status&&299>=O.status}function C(U){try{U.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),U.dispatchEvent(O)}}var u="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),S=u.saveAs||("object"!=typeof window||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(U,O,y){var _=u.URL||u.webkitURL,D=document.createElement("a");D.download=O=O||U.name||"download",D.rel="noopener","string"==typeof U?(D.href=U,D.origin===location.origin?C(D):E(D.href)?b(U,O,y):C(D,D.target="_blank")):(D.href=_.createObjectURL(U),setTimeout(function(){_.revokeObjectURL(D.href)},4e4),setTimeout(function(){C(D)},0))}:"msSaveOrOpenBlob"in navigator?function(U,O,y){if(O=O||U.name||"download","string"!=typeof U)navigator.msSaveOrOpenBlob(function f(U,O){return typeof O>"u"?O={autoBom:!1}:"object"!=typeof O&&(console.warn("Deprecated: Expected third argument to be a object"),O={autoBom:!O}),O.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(U.type)?new Blob(["\ufeff",U],{type:U.type}):U}(U,y),O);else if(E(U))b(U,O,y);else{var _=document.createElement("a");_.href=U,_.target="_blank",setTimeout(function(){C(_)})}}:function(U,O,y,_){if((_=_||open("","_blank"))&&(_.document.title=_.document.body.innerText="downloading..."),"string"==typeof U)return b(U,O,y);var D="application/octet-stream"===U.type,W=/constructor/i.test(u.HTMLElement)||u.safari,K=/CriOS\/[\d]+/.test(navigator.userAgent);if((K||D&&W||F)&&typeof FileReader<"u"){var L=new FileReader;L.onloadend=function(){var le=L.result;le=K?le:le.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=le:location=le,_=null},L.readAsDataURL(U)}else{var ie=u.URL||u.webkitURL,ae=ie.createObjectURL(U);_?_.location=ae:location.href=ae,_=null,setTimeout(function(){ie.revokeObjectURL(ae)},4e4)}});u.saveAs=S.saveAs=S,en.exports=S})?w.apply(ot,[]):w)&&(en.exports=x)},4864:en=>{"use strict";var w=Object.prototype.toString,r=Math.max,f=function(u,F){for(var S=[],U=0;U<u.length;U+=1)S[U]=u[U];for(var O=0;O<F.length;O+=1)S[O+u.length]=F[O];return S};en.exports=function(u){var F=this;if("function"!=typeof F||"[object Function]"!==w.apply(F))throw new TypeError("Function.prototype.bind called on incompatible "+F);for(var U,S=function(u,F){for(var S=[],U=1,O=0;U<u.length;U+=1,O+=1)S[O]=u[U];return S}(arguments),y=r(0,F.length-S.length),_=[],D=0;D<y;D++)_[D]="$"+D;if(U=Function("binder","return function ("+function(C,u){for(var F="",S=0;S<C.length;S+=1)F+=C[S],S+1<C.length&&(F+=",");return F}(_)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof U){var K=F.apply(this,f(S,arguments));return Object(K)===K?K:this}return F.apply(u,f(S,arguments))}),F.prototype){var W=function(){};W.prototype=F.prototype,U.prototype=new W,W.prototype=null}return U}},2988:(en,ot,w)=>{"use strict";var r=w(4864);en.exports=Function.prototype.bind||r},9222:(en,ot,w)=>{"use strict";var r,x=w(2276),f=w(1776),b=w(3433),E=w(2025),C=w(5097),u=w(3698),F=w(7378),S=Function,U=function(ve){try{return S('"use strict"; return ('+ve+").constructor;")()}catch{}},O=Object.getOwnPropertyDescriptor;if(O)try{O({},"")}catch{O=null}var y=function(){throw new u},_=O?function(){try{return y}catch{try{return O(arguments,"callee").get}catch{return y}}}():y,D=w(7528)(),W=w(8003)(),K=Object.getPrototypeOf||(W?function(ve){return ve.__proto__}:null),L={},ie=typeof Uint8Array>"u"||!K?r:K(Uint8Array),ae={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":D&&K?K([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":x,"%eval%":eval,"%EvalError%":f,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":L,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D&&K?K(K([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!D||!K?r:K((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":b,"%ReferenceError%":E,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!D||!K?r:K((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D&&K?K(""[Symbol.iterator]()):r,"%Symbol%":D?Symbol:r,"%SyntaxError%":C,"%ThrowTypeError%":_,"%TypedArray%":ie,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(K)try{null.error}catch(ve){var le=K(K(ve));ae["%Error.prototype%"]=le}var fe=function ve(I){var V;if("%AsyncFunction%"===I)V=U("async function () {}");else if("%GeneratorFunction%"===I)V=U("function* () {}");else if("%AsyncGeneratorFunction%"===I)V=U("async function* () {}");else if("%AsyncGenerator%"===I){var ge=ve("%AsyncGeneratorFunction%");ge&&(V=ge.prototype)}else if("%AsyncIteratorPrototype%"===I){var Pe=ve("%AsyncGenerator%");Pe&&K&&(V=K(Pe.prototype))}return ae[I]=V,V},q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$=w(2988),j=w(8252),Q=$.call(Function.call,Array.prototype.concat),ee=$.call(Function.apply,Array.prototype.splice),be=$.call(Function.call,String.prototype.replace),Se=$.call(Function.call,String.prototype.slice),Qe=$.call(Function.call,RegExp.prototype.exec),nt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,De=/\\(\\)?/g,Ft=function(I,V){var Pe,ge=I;if(j(q,ge)&&(ge="%"+(Pe=q[ge])[0]+"%"),j(ae,ge)){var ke=ae[ge];if(ke===L&&(ke=fe(ge)),typeof ke>"u"&&!V)throw new u("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:Pe,name:ge,value:ke}}throw new C("intrinsic "+I+" does not exist!")};en.exports=function(I,V){if("string"!=typeof I||0===I.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof V)throw new u('"allowMissing" argument must be a boolean');if(null===Qe(/^%?[^%]*%?$/,I))throw new C("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ge=function(I){var V=Se(I,0,1),ge=Se(I,-1);if("%"===V&&"%"!==ge)throw new C("invalid intrinsic syntax, expected closing `%`");if("%"===ge&&"%"!==V)throw new C("invalid intrinsic syntax, expected opening `%`");var Pe=[];return be(I,nt,function(ke,xt,Ht,ln){Pe[Pe.length]=Ht?be(ln,De,"$1"):xt||ke}),Pe}(I),Pe=ge.length>0?ge[0]:"",ke=Ft("%"+Pe+"%",V),xt=ke.name,Ht=ke.value,ln=!1,Bt=ke.alias;Bt&&(Pe=Bt[0],ee(ge,Q([0,1],Bt)));for(var Ye=1,Ze=!0;Ye<ge.length;Ye+=1){var Ot=ge[Ye],ye=Se(Ot,0,1),P=Se(Ot,-1);if(('"'===ye||"'"===ye||"`"===ye||'"'===P||"'"===P||"`"===P)&&ye!==P)throw new C("property names with quotes must have matching quotes");if(("constructor"===Ot||!Ze)&&(ln=!0),j(ae,xt="%"+(Pe+="."+Ot)+"%"))Ht=ae[xt];else if(null!=Ht){if(!(Ot in Ht)){if(!V)throw new u("base intrinsic for "+I+" exists, but the property is not available.");return}if(O&&Ye+1>=ge.length){var B=O(Ht,Ot);Ht=(Ze=!!B)&&"get"in B&&!("originalValue"in B.get)?B.get:Ht[Ot]}else Ze=j(Ht,Ot),Ht=Ht[Ot];Ze&&!ln&&(ae[xt]=Ht)}}return Ht}},9818:(en,ot,w)=>{"use strict";w.d(ot,{Ov:()=>f,p8:()=>r,tb:()=>x});var r=1e-6,x=typeof Float32Array<"u"?Float32Array:Array,f=Math.random;Math,Math.hypot||(Math.hypot=function(){for(var F=0,S=arguments.length;S--;)F+=arguments[S]*arguments[S];return Math.sqrt(F)})},7928:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{add:()=>ee,adjoint:()=>O,clone:()=>b,copy:()=>E,create:()=>x,determinant:()=>y,equals:()=>De,exactEquals:()=>nt,frob:()=>Q,fromMat2d:()=>le,fromMat4:()=>f,fromQuat:()=>fe,fromRotation:()=>ie,fromScaling:()=>ae,fromTranslation:()=>L,fromValues:()=>C,identity:()=>F,invert:()=>U,mul:()=>ut,multiply:()=>_,multiplyScalar:()=>Se,multiplyScalarAndAdd:()=>Qe,normalFromMat4:()=>q,projection:()=>$,rotate:()=>W,scale:()=>K,set:()=>u,str:()=>j,sub:()=>Ft,subtract:()=>be,translate:()=>D,transpose:()=>S});var r=w(9818);function x(){var ve=new r.tb(9);return r.tb!=Float32Array&&(ve[1]=0,ve[2]=0,ve[3]=0,ve[5]=0,ve[6]=0,ve[7]=0),ve[0]=1,ve[4]=1,ve[8]=1,ve}function f(ve,I){return ve[0]=I[0],ve[1]=I[1],ve[2]=I[2],ve[3]=I[4],ve[4]=I[5],ve[5]=I[6],ve[6]=I[8],ve[7]=I[9],ve[8]=I[10],ve}function b(ve){var I=new r.tb(9);return I[0]=ve[0],I[1]=ve[1],I[2]=ve[2],I[3]=ve[3],I[4]=ve[4],I[5]=ve[5],I[6]=ve[6],I[7]=ve[7],I[8]=ve[8],I}function E(ve,I){return ve[0]=I[0],ve[1]=I[1],ve[2]=I[2],ve[3]=I[3],ve[4]=I[4],ve[5]=I[5],ve[6]=I[6],ve[7]=I[7],ve[8]=I[8],ve}function C(ve,I,V,ge,Pe,ke,xt,Ht,ln){var Bt=new r.tb(9);return Bt[0]=ve,Bt[1]=I,Bt[2]=V,Bt[3]=ge,Bt[4]=Pe,Bt[5]=ke,Bt[6]=xt,Bt[7]=Ht,Bt[8]=ln,Bt}function u(ve,I,V,ge,Pe,ke,xt,Ht,ln,Bt){return ve[0]=I,ve[1]=V,ve[2]=ge,ve[3]=Pe,ve[4]=ke,ve[5]=xt,ve[6]=Ht,ve[7]=ln,ve[8]=Bt,ve}function F(ve){return ve[0]=1,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=1,ve[5]=0,ve[6]=0,ve[7]=0,ve[8]=1,ve}function S(ve,I){if(ve===I){var V=I[1],ge=I[2],Pe=I[5];ve[1]=I[3],ve[2]=I[6],ve[3]=V,ve[5]=I[7],ve[6]=ge,ve[7]=Pe}else ve[0]=I[0],ve[1]=I[3],ve[2]=I[6],ve[3]=I[1],ve[4]=I[4],ve[5]=I[7],ve[6]=I[2],ve[7]=I[5],ve[8]=I[8];return ve}function U(ve,I){var V=I[0],ge=I[1],Pe=I[2],ke=I[3],xt=I[4],Ht=I[5],ln=I[6],Bt=I[7],Ye=I[8],Ze=Ye*xt-Ht*Bt,Ot=-Ye*ke+Ht*ln,ye=Bt*ke-xt*ln,P=V*Ze+ge*Ot+Pe*ye;return P?(ve[0]=Ze*(P=1/P),ve[1]=(-Ye*ge+Pe*Bt)*P,ve[2]=(Ht*ge-Pe*xt)*P,ve[3]=Ot*P,ve[4]=(Ye*V-Pe*ln)*P,ve[5]=(-Ht*V+Pe*ke)*P,ve[6]=ye*P,ve[7]=(-Bt*V+ge*ln)*P,ve[8]=(xt*V-ge*ke)*P,ve):null}function O(ve,I){var V=I[0],ge=I[1],Pe=I[2],ke=I[3],xt=I[4],Ht=I[5],ln=I[6],Bt=I[7],Ye=I[8];return ve[0]=xt*Ye-Ht*Bt,ve[1]=Pe*Bt-ge*Ye,ve[2]=ge*Ht-Pe*xt,ve[3]=Ht*ln-ke*Ye,ve[4]=V*Ye-Pe*ln,ve[5]=Pe*ke-V*Ht,ve[6]=ke*Bt-xt*ln,ve[7]=ge*ln-V*Bt,ve[8]=V*xt-ge*ke,ve}function y(ve){var Pe=ve[3],ke=ve[4],xt=ve[5],Ht=ve[6],ln=ve[7],Bt=ve[8];return ve[0]*(Bt*ke-xt*ln)+ve[1]*(-Bt*Pe+xt*Ht)+ve[2]*(ln*Pe-ke*Ht)}function _(ve,I,V){var ge=I[0],Pe=I[1],ke=I[2],xt=I[3],Ht=I[4],ln=I[5],Bt=I[6],Ye=I[7],Ze=I[8],Ot=V[0],ye=V[1],P=V[2],B=V[3],R=V[4],N=V[5],Y=V[6],h=V[7],M=V[8];return ve[0]=Ot*ge+ye*xt+P*Bt,ve[1]=Ot*Pe+ye*Ht+P*Ye,ve[2]=Ot*ke+ye*ln+P*Ze,ve[3]=B*ge+R*xt+N*Bt,ve[4]=B*Pe+R*Ht+N*Ye,ve[5]=B*ke+R*ln+N*Ze,ve[6]=Y*ge+h*xt+M*Bt,ve[7]=Y*Pe+h*Ht+M*Ye,ve[8]=Y*ke+h*ln+M*Ze,ve}function D(ve,I,V){var ge=I[0],Pe=I[1],ke=I[2],xt=I[3],Ht=I[4],ln=I[5],Bt=I[6],Ye=I[7],Ze=I[8],Ot=V[0],ye=V[1];return ve[0]=ge,ve[1]=Pe,ve[2]=ke,ve[3]=xt,ve[4]=Ht,ve[5]=ln,ve[6]=Ot*ge+ye*xt+Bt,ve[7]=Ot*Pe+ye*Ht+Ye,ve[8]=Ot*ke+ye*ln+Ze,ve}function W(ve,I,V){var ge=I[0],Pe=I[1],ke=I[2],xt=I[3],Ht=I[4],ln=I[5],Bt=I[6],Ye=I[7],Ze=I[8],Ot=Math.sin(V),ye=Math.cos(V);return ve[0]=ye*ge+Ot*xt,ve[1]=ye*Pe+Ot*Ht,ve[2]=ye*ke+Ot*ln,ve[3]=ye*xt-Ot*ge,ve[4]=ye*Ht-Ot*Pe,ve[5]=ye*ln-Ot*ke,ve[6]=Bt,ve[7]=Ye,ve[8]=Ze,ve}function K(ve,I,V){var ge=V[0],Pe=V[1];return ve[0]=ge*I[0],ve[1]=ge*I[1],ve[2]=ge*I[2],ve[3]=Pe*I[3],ve[4]=Pe*I[4],ve[5]=Pe*I[5],ve[6]=I[6],ve[7]=I[7],ve[8]=I[8],ve}function L(ve,I){return ve[0]=1,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=1,ve[5]=0,ve[6]=I[0],ve[7]=I[1],ve[8]=1,ve}function ie(ve,I){var V=Math.sin(I),ge=Math.cos(I);return ve[0]=ge,ve[1]=V,ve[2]=0,ve[3]=-V,ve[4]=ge,ve[5]=0,ve[6]=0,ve[7]=0,ve[8]=1,ve}function ae(ve,I){return ve[0]=I[0],ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=I[1],ve[5]=0,ve[6]=0,ve[7]=0,ve[8]=1,ve}function le(ve,I){return ve[0]=I[0],ve[1]=I[1],ve[2]=0,ve[3]=I[2],ve[4]=I[3],ve[5]=0,ve[6]=I[4],ve[7]=I[5],ve[8]=1,ve}function fe(ve,I){var V=I[0],ge=I[1],Pe=I[2],ke=I[3],xt=V+V,Ht=ge+ge,ln=Pe+Pe,Bt=V*xt,Ye=ge*xt,Ze=ge*Ht,Ot=Pe*xt,ye=Pe*Ht,P=Pe*ln,B=ke*xt,R=ke*Ht,N=ke*ln;return ve[0]=1-Ze-P,ve[3]=Ye-N,ve[6]=Ot+R,ve[1]=Ye+N,ve[4]=1-Bt-P,ve[7]=ye-B,ve[2]=Ot-R,ve[5]=ye+B,ve[8]=1-Bt-Ze,ve}function q(ve,I){var V=I[0],ge=I[1],Pe=I[2],ke=I[3],xt=I[4],Ht=I[5],ln=I[6],Bt=I[7],Ye=I[8],Ze=I[9],Ot=I[10],ye=I[11],P=I[12],B=I[13],R=I[14],N=I[15],Y=V*Ht-ge*xt,h=V*ln-Pe*xt,M=V*Bt-ke*xt,Z=ge*ln-Pe*Ht,z=ge*Bt-ke*Ht,H=Pe*Bt-ke*ln,X=Ye*B-Ze*P,oe=Ye*R-Ot*P,He=Ye*N-ye*P,rt=Ze*R-Ot*B,ft=Ze*N-ye*B,It=Ot*N-ye*R,Ge=Y*It-h*ft+M*rt+Z*He-z*oe+H*X;return Ge?(ve[0]=(Ht*It-ln*ft+Bt*rt)*(Ge=1/Ge),ve[1]=(ln*He-xt*It-Bt*oe)*Ge,ve[2]=(xt*ft-Ht*He+Bt*X)*Ge,ve[3]=(Pe*ft-ge*It-ke*rt)*Ge,ve[4]=(V*It-Pe*He+ke*oe)*Ge,ve[5]=(ge*He-V*ft-ke*X)*Ge,ve[6]=(B*H-R*z+N*Z)*Ge,ve[7]=(R*M-P*H-N*h)*Ge,ve[8]=(P*z-B*M+N*Y)*Ge,ve):null}function $(ve,I,V){return ve[0]=2/I,ve[1]=0,ve[2]=0,ve[3]=0,ve[4]=-2/V,ve[5]=0,ve[6]=-1,ve[7]=1,ve[8]=1,ve}function j(ve){return"mat3("+ve[0]+", "+ve[1]+", "+ve[2]+", "+ve[3]+", "+ve[4]+", "+ve[5]+", "+ve[6]+", "+ve[7]+", "+ve[8]+")"}function Q(ve){return Math.hypot(ve[0],ve[1],ve[2],ve[3],ve[4],ve[5],ve[6],ve[7],ve[8])}function ee(ve,I,V){return ve[0]=I[0]+V[0],ve[1]=I[1]+V[1],ve[2]=I[2]+V[2],ve[3]=I[3]+V[3],ve[4]=I[4]+V[4],ve[5]=I[5]+V[5],ve[6]=I[6]+V[6],ve[7]=I[7]+V[7],ve[8]=I[8]+V[8],ve}function be(ve,I,V){return ve[0]=I[0]-V[0],ve[1]=I[1]-V[1],ve[2]=I[2]-V[2],ve[3]=I[3]-V[3],ve[4]=I[4]-V[4],ve[5]=I[5]-V[5],ve[6]=I[6]-V[6],ve[7]=I[7]-V[7],ve[8]=I[8]-V[8],ve}function Se(ve,I,V){return ve[0]=I[0]*V,ve[1]=I[1]*V,ve[2]=I[2]*V,ve[3]=I[3]*V,ve[4]=I[4]*V,ve[5]=I[5]*V,ve[6]=I[6]*V,ve[7]=I[7]*V,ve[8]=I[8]*V,ve}function Qe(ve,I,V,ge){return ve[0]=I[0]+V[0]*ge,ve[1]=I[1]+V[1]*ge,ve[2]=I[2]+V[2]*ge,ve[3]=I[3]+V[3]*ge,ve[4]=I[4]+V[4]*ge,ve[5]=I[5]+V[5]*ge,ve[6]=I[6]+V[6]*ge,ve[7]=I[7]+V[7]*ge,ve[8]=I[8]+V[8]*ge,ve}function nt(ve,I){return ve[0]===I[0]&&ve[1]===I[1]&&ve[2]===I[2]&&ve[3]===I[3]&&ve[4]===I[4]&&ve[5]===I[5]&&ve[6]===I[6]&&ve[7]===I[7]&&ve[8]===I[8]}function De(ve,I){var V=ve[0],ge=ve[1],Pe=ve[2],ke=ve[3],xt=ve[4],Ht=ve[5],ln=ve[6],Bt=ve[7],Ye=ve[8],Ze=I[0],Ot=I[1],ye=I[2],P=I[3],B=I[4],R=I[5],N=I[6],Y=I[7],h=I[8];return Math.abs(V-Ze)<=r.p8*Math.max(1,Math.abs(V),Math.abs(Ze))&&Math.abs(ge-Ot)<=r.p8*Math.max(1,Math.abs(ge),Math.abs(Ot))&&Math.abs(Pe-ye)<=r.p8*Math.max(1,Math.abs(Pe),Math.abs(ye))&&Math.abs(ke-P)<=r.p8*Math.max(1,Math.abs(ke),Math.abs(P))&&Math.abs(xt-B)<=r.p8*Math.max(1,Math.abs(xt),Math.abs(B))&&Math.abs(Ht-R)<=r.p8*Math.max(1,Math.abs(Ht),Math.abs(R))&&Math.abs(ln-N)<=r.p8*Math.max(1,Math.abs(ln),Math.abs(N))&&Math.abs(Bt-Y)<=r.p8*Math.max(1,Math.abs(Bt),Math.abs(Y))&&Math.abs(Ye-h)<=r.p8*Math.max(1,Math.abs(Ye),Math.abs(h))}var ut=_,Ft=be},5133:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{add:()=>Ze,adjoint:()=>U,clone:()=>f,copy:()=>b,create:()=>x,determinant:()=>O,equals:()=>R,exactEquals:()=>B,frob:()=>Ye,fromQuat:()=>ut,fromQuat2:()=>ee,fromRotation:()=>fe,fromRotationTranslation:()=>Q,fromRotationTranslationScale:()=>nt,fromRotationTranslationScaleOrigin:()=>De,fromScaling:()=>le,fromTranslation:()=>ae,fromValues:()=>E,fromXRotation:()=>q,fromYRotation:()=>$,fromZRotation:()=>j,frustum:()=>Ft,getRotation:()=>Qe,getScaling:()=>Se,getTranslation:()=>be,identity:()=>u,invert:()=>S,lookAt:()=>Ht,mul:()=>N,multiply:()=>y,multiplyScalar:()=>ye,multiplyScalarAndAdd:()=>P,ortho:()=>ke,orthoNO:()=>Pe,orthoZO:()=>xt,perspective:()=>I,perspectiveFromFieldOfView:()=>ge,perspectiveNO:()=>ve,perspectiveZO:()=>V,rotate:()=>W,rotateX:()=>K,rotateY:()=>L,rotateZ:()=>ie,scale:()=>D,set:()=>C,str:()=>Bt,sub:()=>Y,subtract:()=>Ot,targetTo:()=>ln,translate:()=>_,transpose:()=>F});var r=w(9818);function x(){var h=new r.tb(16);return r.tb!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h}function f(h){var M=new r.tb(16);return M[0]=h[0],M[1]=h[1],M[2]=h[2],M[3]=h[3],M[4]=h[4],M[5]=h[5],M[6]=h[6],M[7]=h[7],M[8]=h[8],M[9]=h[9],M[10]=h[10],M[11]=h[11],M[12]=h[12],M[13]=h[13],M[14]=h[14],M[15]=h[15],M}function b(h,M){return h[0]=M[0],h[1]=M[1],h[2]=M[2],h[3]=M[3],h[4]=M[4],h[5]=M[5],h[6]=M[6],h[7]=M[7],h[8]=M[8],h[9]=M[9],h[10]=M[10],h[11]=M[11],h[12]=M[12],h[13]=M[13],h[14]=M[14],h[15]=M[15],h}function E(h,M,Z,z,H,X,oe,He,rt,ft,It,Ge,Ct,dt,At,Qt){var Ke=new r.tb(16);return Ke[0]=h,Ke[1]=M,Ke[2]=Z,Ke[3]=z,Ke[4]=H,Ke[5]=X,Ke[6]=oe,Ke[7]=He,Ke[8]=rt,Ke[9]=ft,Ke[10]=It,Ke[11]=Ge,Ke[12]=Ct,Ke[13]=dt,Ke[14]=At,Ke[15]=Qt,Ke}function C(h,M,Z,z,H,X,oe,He,rt,ft,It,Ge,Ct,dt,At,Qt,Ke){return h[0]=M,h[1]=Z,h[2]=z,h[3]=H,h[4]=X,h[5]=oe,h[6]=He,h[7]=rt,h[8]=ft,h[9]=It,h[10]=Ge,h[11]=Ct,h[12]=dt,h[13]=At,h[14]=Qt,h[15]=Ke,h}function u(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function F(h,M){if(h===M){var Z=M[1],z=M[2],H=M[3],X=M[6],oe=M[7],He=M[11];h[1]=M[4],h[2]=M[8],h[3]=M[12],h[4]=Z,h[6]=M[9],h[7]=M[13],h[8]=z,h[9]=X,h[11]=M[14],h[12]=H,h[13]=oe,h[14]=He}else h[0]=M[0],h[1]=M[4],h[2]=M[8],h[3]=M[12],h[4]=M[1],h[5]=M[5],h[6]=M[9],h[7]=M[13],h[8]=M[2],h[9]=M[6],h[10]=M[10],h[11]=M[14],h[12]=M[3],h[13]=M[7],h[14]=M[11],h[15]=M[15];return h}function S(h,M){var Z=M[0],z=M[1],H=M[2],X=M[3],oe=M[4],He=M[5],rt=M[6],ft=M[7],It=M[8],Ge=M[9],Ct=M[10],dt=M[11],At=M[12],Qt=M[13],Ke=M[14],pt=M[15],Tt=Z*He-z*oe,$e=Z*rt-H*oe,Lt=Z*ft-X*oe,Xt=z*rt-H*He,gn=z*ft-X*He,Ln=H*ft-X*rt,$n=It*Qt-Ge*At,gr=It*Ke-Ct*At,sn=It*pt-dt*At,St=Ge*Ke-Ct*Qt,Fe=Ge*pt-dt*Qt,Ue=Ct*pt-dt*Ke,Ce=Tt*Ue-$e*Fe+Lt*St+Xt*sn-gn*gr+Ln*$n;return Ce?(h[0]=(He*Ue-rt*Fe+ft*St)*(Ce=1/Ce),h[1]=(H*Fe-z*Ue-X*St)*Ce,h[2]=(Qt*Ln-Ke*gn+pt*Xt)*Ce,h[3]=(Ct*gn-Ge*Ln-dt*Xt)*Ce,h[4]=(rt*sn-oe*Ue-ft*gr)*Ce,h[5]=(Z*Ue-H*sn+X*gr)*Ce,h[6]=(Ke*Lt-At*Ln-pt*$e)*Ce,h[7]=(It*Ln-Ct*Lt+dt*$e)*Ce,h[8]=(oe*Fe-He*sn+ft*$n)*Ce,h[9]=(z*sn-Z*Fe-X*$n)*Ce,h[10]=(At*gn-Qt*Lt+pt*Tt)*Ce,h[11]=(Ge*Lt-It*gn-dt*Tt)*Ce,h[12]=(He*gr-oe*St-rt*$n)*Ce,h[13]=(Z*St-z*gr+H*$n)*Ce,h[14]=(Qt*$e-At*Xt-Ke*Tt)*Ce,h[15]=(It*Xt-Ge*$e+Ct*Tt)*Ce,h):null}function U(h,M){var Z=M[0],z=M[1],H=M[2],X=M[3],oe=M[4],He=M[5],rt=M[6],ft=M[7],It=M[8],Ge=M[9],Ct=M[10],dt=M[11],At=M[12],Qt=M[13],Ke=M[14],pt=M[15];return h[0]=He*(Ct*pt-dt*Ke)-Ge*(rt*pt-ft*Ke)+Qt*(rt*dt-ft*Ct),h[1]=-(z*(Ct*pt-dt*Ke)-Ge*(H*pt-X*Ke)+Qt*(H*dt-X*Ct)),h[2]=z*(rt*pt-ft*Ke)-He*(H*pt-X*Ke)+Qt*(H*ft-X*rt),h[3]=-(z*(rt*dt-ft*Ct)-He*(H*dt-X*Ct)+Ge*(H*ft-X*rt)),h[4]=-(oe*(Ct*pt-dt*Ke)-It*(rt*pt-ft*Ke)+At*(rt*dt-ft*Ct)),h[5]=Z*(Ct*pt-dt*Ke)-It*(H*pt-X*Ke)+At*(H*dt-X*Ct),h[6]=-(Z*(rt*pt-ft*Ke)-oe*(H*pt-X*Ke)+At*(H*ft-X*rt)),h[7]=Z*(rt*dt-ft*Ct)-oe*(H*dt-X*Ct)+It*(H*ft-X*rt),h[8]=oe*(Ge*pt-dt*Qt)-It*(He*pt-ft*Qt)+At*(He*dt-ft*Ge),h[9]=-(Z*(Ge*pt-dt*Qt)-It*(z*pt-X*Qt)+At*(z*dt-X*Ge)),h[10]=Z*(He*pt-ft*Qt)-oe*(z*pt-X*Qt)+At*(z*ft-X*He),h[11]=-(Z*(He*dt-ft*Ge)-oe*(z*dt-X*Ge)+It*(z*ft-X*He)),h[12]=-(oe*(Ge*Ke-Ct*Qt)-It*(He*Ke-rt*Qt)+At*(He*Ct-rt*Ge)),h[13]=Z*(Ge*Ke-Ct*Qt)-It*(z*Ke-H*Qt)+At*(z*Ct-H*Ge),h[14]=-(Z*(He*Ke-rt*Qt)-oe*(z*Ke-H*Qt)+At*(z*rt-H*He)),h[15]=Z*(He*Ct-rt*Ge)-oe*(z*Ct-H*Ge)+It*(z*rt-H*He),h}function O(h){var M=h[0],Z=h[1],z=h[2],H=h[3],X=h[4],oe=h[5],He=h[6],rt=h[7],ft=h[8],It=h[9],Ge=h[10],Ct=h[11],dt=h[12],At=h[13],Qt=h[14],Ke=h[15];return(M*oe-Z*X)*(Ge*Ke-Ct*Qt)-(M*He-z*X)*(It*Ke-Ct*At)+(M*rt-H*X)*(It*Qt-Ge*At)+(Z*He-z*oe)*(ft*Ke-Ct*dt)-(Z*rt-H*oe)*(ft*Qt-Ge*dt)+(z*rt-H*He)*(ft*At-It*dt)}function y(h,M,Z){var z=M[0],H=M[1],X=M[2],oe=M[3],He=M[4],rt=M[5],ft=M[6],It=M[7],Ge=M[8],Ct=M[9],dt=M[10],At=M[11],Qt=M[12],Ke=M[13],pt=M[14],Tt=M[15],$e=Z[0],Lt=Z[1],Xt=Z[2],gn=Z[3];return h[0]=$e*z+Lt*He+Xt*Ge+gn*Qt,h[1]=$e*H+Lt*rt+Xt*Ct+gn*Ke,h[2]=$e*X+Lt*ft+Xt*dt+gn*pt,h[3]=$e*oe+Lt*It+Xt*At+gn*Tt,h[4]=($e=Z[4])*z+(Lt=Z[5])*He+(Xt=Z[6])*Ge+(gn=Z[7])*Qt,h[5]=$e*H+Lt*rt+Xt*Ct+gn*Ke,h[6]=$e*X+Lt*ft+Xt*dt+gn*pt,h[7]=$e*oe+Lt*It+Xt*At+gn*Tt,h[8]=($e=Z[8])*z+(Lt=Z[9])*He+(Xt=Z[10])*Ge+(gn=Z[11])*Qt,h[9]=$e*H+Lt*rt+Xt*Ct+gn*Ke,h[10]=$e*X+Lt*ft+Xt*dt+gn*pt,h[11]=$e*oe+Lt*It+Xt*At+gn*Tt,h[12]=($e=Z[12])*z+(Lt=Z[13])*He+(Xt=Z[14])*Ge+(gn=Z[15])*Qt,h[13]=$e*H+Lt*rt+Xt*Ct+gn*Ke,h[14]=$e*X+Lt*ft+Xt*dt+gn*pt,h[15]=$e*oe+Lt*It+Xt*At+gn*Tt,h}function _(h,M,Z){var oe,He,rt,ft,It,Ge,Ct,dt,At,Qt,Ke,pt,z=Z[0],H=Z[1],X=Z[2];return M===h?(h[12]=M[0]*z+M[4]*H+M[8]*X+M[12],h[13]=M[1]*z+M[5]*H+M[9]*X+M[13],h[14]=M[2]*z+M[6]*H+M[10]*X+M[14],h[15]=M[3]*z+M[7]*H+M[11]*X+M[15]):(He=M[1],rt=M[2],ft=M[3],It=M[4],Ge=M[5],Ct=M[6],dt=M[7],At=M[8],Qt=M[9],Ke=M[10],pt=M[11],h[0]=oe=M[0],h[1]=He,h[2]=rt,h[3]=ft,h[4]=It,h[5]=Ge,h[6]=Ct,h[7]=dt,h[8]=At,h[9]=Qt,h[10]=Ke,h[11]=pt,h[12]=oe*z+It*H+At*X+M[12],h[13]=He*z+Ge*H+Qt*X+M[13],h[14]=rt*z+Ct*H+Ke*X+M[14],h[15]=ft*z+dt*H+pt*X+M[15]),h}function D(h,M,Z){var z=Z[0],H=Z[1],X=Z[2];return h[0]=M[0]*z,h[1]=M[1]*z,h[2]=M[2]*z,h[3]=M[3]*z,h[4]=M[4]*H,h[5]=M[5]*H,h[6]=M[6]*H,h[7]=M[7]*H,h[8]=M[8]*X,h[9]=M[9]*X,h[10]=M[10]*X,h[11]=M[11]*X,h[12]=M[12],h[13]=M[13],h[14]=M[14],h[15]=M[15],h}function W(h,M,Z,z){var rt,ft,It,Ge,Ct,dt,At,Qt,Ke,pt,Tt,$e,Lt,Xt,gn,Ln,$n,gr,sn,St,Fe,Ue,Ce,me,H=z[0],X=z[1],oe=z[2],He=Math.hypot(H,X,oe);return He<r.p8?null:(H*=He=1/He,X*=He,oe*=He,rt=Math.sin(Z),ft=Math.cos(Z),Ct=M[1],dt=M[2],At=M[3],Ke=M[5],pt=M[6],Tt=M[7],Lt=M[9],Xt=M[10],gn=M[11],sn=H*X*(It=1-ft)-oe*rt,St=X*X*It+ft,Fe=oe*X*It+H*rt,Ue=H*oe*It+X*rt,Ce=X*oe*It-H*rt,me=oe*oe*It+ft,h[0]=(Ge=M[0])*(Ln=H*H*It+ft)+(Qt=M[4])*($n=X*H*It+oe*rt)+($e=M[8])*(gr=oe*H*It-X*rt),h[1]=Ct*Ln+Ke*$n+Lt*gr,h[2]=dt*Ln+pt*$n+Xt*gr,h[3]=At*Ln+Tt*$n+gn*gr,h[4]=Ge*sn+Qt*St+$e*Fe,h[5]=Ct*sn+Ke*St+Lt*Fe,h[6]=dt*sn+pt*St+Xt*Fe,h[7]=At*sn+Tt*St+gn*Fe,h[8]=Ge*Ue+Qt*Ce+$e*me,h[9]=Ct*Ue+Ke*Ce+Lt*me,h[10]=dt*Ue+pt*Ce+Xt*me,h[11]=At*Ue+Tt*Ce+gn*me,M!==h&&(h[12]=M[12],h[13]=M[13],h[14]=M[14],h[15]=M[15]),h)}function K(h,M,Z){var z=Math.sin(Z),H=Math.cos(Z),X=M[4],oe=M[5],He=M[6],rt=M[7],ft=M[8],It=M[9],Ge=M[10],Ct=M[11];return M!==h&&(h[0]=M[0],h[1]=M[1],h[2]=M[2],h[3]=M[3],h[12]=M[12],h[13]=M[13],h[14]=M[14],h[15]=M[15]),h[4]=X*H+ft*z,h[5]=oe*H+It*z,h[6]=He*H+Ge*z,h[7]=rt*H+Ct*z,h[8]=ft*H-X*z,h[9]=It*H-oe*z,h[10]=Ge*H-He*z,h[11]=Ct*H-rt*z,h}function L(h,M,Z){var z=Math.sin(Z),H=Math.cos(Z),X=M[0],oe=M[1],He=M[2],rt=M[3],ft=M[8],It=M[9],Ge=M[10],Ct=M[11];return M!==h&&(h[4]=M[4],h[5]=M[5],h[6]=M[6],h[7]=M[7],h[12]=M[12],h[13]=M[13],h[14]=M[14],h[15]=M[15]),h[0]=X*H-ft*z,h[1]=oe*H-It*z,h[2]=He*H-Ge*z,h[3]=rt*H-Ct*z,h[8]=X*z+ft*H,h[9]=oe*z+It*H,h[10]=He*z+Ge*H,h[11]=rt*z+Ct*H,h}function ie(h,M,Z){var z=Math.sin(Z),H=Math.cos(Z),X=M[0],oe=M[1],He=M[2],rt=M[3],ft=M[4],It=M[5],Ge=M[6],Ct=M[7];return M!==h&&(h[8]=M[8],h[9]=M[9],h[10]=M[10],h[11]=M[11],h[12]=M[12],h[13]=M[13],h[14]=M[14],h[15]=M[15]),h[0]=X*H+ft*z,h[1]=oe*H+It*z,h[2]=He*H+Ge*z,h[3]=rt*H+Ct*z,h[4]=ft*H-X*z,h[5]=It*H-oe*z,h[6]=Ge*H-He*z,h[7]=Ct*H-rt*z,h}function ae(h,M){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=M[0],h[13]=M[1],h[14]=M[2],h[15]=1,h}function le(h,M){return h[0]=M[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=M[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=M[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function fe(h,M,Z){var He,rt,ft,z=Z[0],H=Z[1],X=Z[2],oe=Math.hypot(z,H,X);return oe<r.p8?null:(z*=oe=1/oe,H*=oe,X*=oe,He=Math.sin(M),rt=Math.cos(M),h[0]=z*z*(ft=1-rt)+rt,h[1]=H*z*ft+X*He,h[2]=X*z*ft-H*He,h[3]=0,h[4]=z*H*ft-X*He,h[5]=H*H*ft+rt,h[6]=X*H*ft+z*He,h[7]=0,h[8]=z*X*ft+H*He,h[9]=H*X*ft-z*He,h[10]=X*X*ft+rt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h)}function q(h,M){var Z=Math.sin(M),z=Math.cos(M);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=z,h[6]=Z,h[7]=0,h[8]=0,h[9]=-Z,h[10]=z,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function $(h,M){var Z=Math.sin(M),z=Math.cos(M);return h[0]=z,h[1]=0,h[2]=-Z,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=Z,h[9]=0,h[10]=z,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function j(h,M){var Z=Math.sin(M),z=Math.cos(M);return h[0]=z,h[1]=Z,h[2]=0,h[3]=0,h[4]=-Z,h[5]=z,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Q(h,M,Z){var z=M[0],H=M[1],X=M[2],oe=M[3],He=z+z,rt=H+H,ft=X+X,It=z*He,Ge=z*rt,Ct=z*ft,dt=H*rt,At=H*ft,Qt=X*ft,Ke=oe*He,pt=oe*rt,Tt=oe*ft;return h[0]=1-(dt+Qt),h[1]=Ge+Tt,h[2]=Ct-pt,h[3]=0,h[4]=Ge-Tt,h[5]=1-(It+Qt),h[6]=At+Ke,h[7]=0,h[8]=Ct+pt,h[9]=At-Ke,h[10]=1-(It+dt),h[11]=0,h[12]=Z[0],h[13]=Z[1],h[14]=Z[2],h[15]=1,h}function ee(h,M){var Z=new r.tb(3),z=-M[0],H=-M[1],X=-M[2],oe=M[3],He=M[4],rt=M[5],ft=M[6],It=M[7],Ge=z*z+H*H+X*X+oe*oe;return Ge>0?(Z[0]=2*(He*oe+It*z+rt*X-ft*H)/Ge,Z[1]=2*(rt*oe+It*H+ft*z-He*X)/Ge,Z[2]=2*(ft*oe+It*X+He*H-rt*z)/Ge):(Z[0]=2*(He*oe+It*z+rt*X-ft*H),Z[1]=2*(rt*oe+It*H+ft*z-He*X),Z[2]=2*(ft*oe+It*X+He*H-rt*z)),Q(h,M,Z),h}function be(h,M){return h[0]=M[12],h[1]=M[13],h[2]=M[14],h}function Se(h,M){var X=M[4],oe=M[5],He=M[6],rt=M[8],ft=M[9],It=M[10];return h[0]=Math.hypot(M[0],M[1],M[2]),h[1]=Math.hypot(X,oe,He),h[2]=Math.hypot(rt,ft,It),h}function Qe(h,M){var Z=new r.tb(3);Se(Z,M);var z=1/Z[0],H=1/Z[1],X=1/Z[2],oe=M[0]*z,He=M[1]*H,rt=M[2]*X,ft=M[4]*z,It=M[5]*H,Ge=M[6]*X,Ct=M[8]*z,dt=M[9]*H,At=M[10]*X,Qt=oe+It+At,Ke=0;return Qt>0?(Ke=2*Math.sqrt(Qt+1),h[3]=.25*Ke,h[0]=(Ge-dt)/Ke,h[1]=(Ct-rt)/Ke,h[2]=(He-ft)/Ke):oe>It&&oe>At?(Ke=2*Math.sqrt(1+oe-It-At),h[3]=(Ge-dt)/Ke,h[0]=.25*Ke,h[1]=(He+ft)/Ke,h[2]=(Ct+rt)/Ke):It>At?(Ke=2*Math.sqrt(1+It-oe-At),h[3]=(Ct-rt)/Ke,h[0]=(He+ft)/Ke,h[1]=.25*Ke,h[2]=(Ge+dt)/Ke):(Ke=2*Math.sqrt(1+At-oe-It),h[3]=(He-ft)/Ke,h[0]=(Ct+rt)/Ke,h[1]=(Ge+dt)/Ke,h[2]=.25*Ke),h}function nt(h,M,Z,z){var H=M[0],X=M[1],oe=M[2],He=M[3],rt=H+H,ft=X+X,It=oe+oe,Ge=H*rt,Ct=H*ft,dt=H*It,At=X*ft,Qt=X*It,Ke=oe*It,pt=He*rt,Tt=He*ft,$e=He*It,Lt=z[0],Xt=z[1],gn=z[2];return h[0]=(1-(At+Ke))*Lt,h[1]=(Ct+$e)*Lt,h[2]=(dt-Tt)*Lt,h[3]=0,h[4]=(Ct-$e)*Xt,h[5]=(1-(Ge+Ke))*Xt,h[6]=(Qt+pt)*Xt,h[7]=0,h[8]=(dt+Tt)*gn,h[9]=(Qt-pt)*gn,h[10]=(1-(Ge+At))*gn,h[11]=0,h[12]=Z[0],h[13]=Z[1],h[14]=Z[2],h[15]=1,h}function De(h,M,Z,z,H){var X=M[0],oe=M[1],He=M[2],rt=M[3],ft=X+X,It=oe+oe,Ge=He+He,Ct=X*ft,dt=X*It,At=X*Ge,Qt=oe*It,Ke=oe*Ge,pt=He*Ge,Tt=rt*ft,$e=rt*It,Lt=rt*Ge,Xt=z[0],gn=z[1],Ln=z[2],$n=H[0],gr=H[1],sn=H[2],St=(1-(Qt+pt))*Xt,Fe=(dt+Lt)*Xt,Ue=(At-$e)*Xt,Ce=(dt-Lt)*gn,me=(1-(Ct+pt))*gn,it=(Ke+Tt)*gn,Me=(At+$e)*Ln,We=(Ke-Tt)*Ln,Gt=(1-(Ct+Qt))*Ln;return h[0]=St,h[1]=Fe,h[2]=Ue,h[3]=0,h[4]=Ce,h[5]=me,h[6]=it,h[7]=0,h[8]=Me,h[9]=We,h[10]=Gt,h[11]=0,h[12]=Z[0]+$n-(St*$n+Ce*gr+Me*sn),h[13]=Z[1]+gr-(Fe*$n+me*gr+We*sn),h[14]=Z[2]+sn-(Ue*$n+it*gr+Gt*sn),h[15]=1,h}function ut(h,M){var Z=M[0],z=M[1],H=M[2],X=M[3],oe=Z+Z,He=z+z,rt=H+H,ft=Z*oe,It=z*oe,Ge=z*He,Ct=H*oe,dt=H*He,At=H*rt,Qt=X*oe,Ke=X*He,pt=X*rt;return h[0]=1-Ge-At,h[1]=It+pt,h[2]=Ct-Ke,h[3]=0,h[4]=It-pt,h[5]=1-ft-At,h[6]=dt+Qt,h[7]=0,h[8]=Ct+Ke,h[9]=dt-Qt,h[10]=1-ft-Ge,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Ft(h,M,Z,z,H,X,oe){var He=1/(Z-M),rt=1/(H-z),ft=1/(X-oe);return h[0]=2*X*He,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*X*rt,h[6]=0,h[7]=0,h[8]=(Z+M)*He,h[9]=(H+z)*rt,h[10]=(oe+X)*ft,h[11]=-1,h[12]=0,h[13]=0,h[14]=oe*X*2*ft,h[15]=0,h}function ve(h,M,Z,z,H){var oe,X=1/Math.tan(M/2);return h[0]=X/Z,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=X,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,null!=H&&H!==1/0?(h[10]=(H+z)*(oe=1/(z-H)),h[14]=2*H*z*oe):(h[10]=-1,h[14]=-2*z),h}var I=ve;function V(h,M,Z,z,H){var oe,X=1/Math.tan(M/2);return h[0]=X/Z,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=X,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,null!=H&&H!==1/0?(h[10]=H*(oe=1/(z-H)),h[14]=H*z*oe):(h[10]=-1,h[14]=-z),h}function ge(h,M,Z,z){var H=Math.tan(M.upDegrees*Math.PI/180),X=Math.tan(M.downDegrees*Math.PI/180),oe=Math.tan(M.leftDegrees*Math.PI/180),He=Math.tan(M.rightDegrees*Math.PI/180),rt=2/(oe+He),ft=2/(H+X);return h[0]=rt,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=ft,h[6]=0,h[7]=0,h[8]=-(oe-He)*rt*.5,h[9]=(H-X)*ft*.5,h[10]=z/(Z-z),h[11]=-1,h[12]=0,h[13]=0,h[14]=z*Z/(Z-z),h[15]=0,h}function Pe(h,M,Z,z,H,X,oe){var He=1/(M-Z),rt=1/(z-H),ft=1/(X-oe);return h[0]=-2*He,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*rt,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*ft,h[11]=0,h[12]=(M+Z)*He,h[13]=(H+z)*rt,h[14]=(oe+X)*ft,h[15]=1,h}var ke=Pe;function xt(h,M,Z,z,H,X,oe){var He=1/(M-Z),rt=1/(z-H),ft=1/(X-oe);return h[0]=-2*He,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*rt,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=ft,h[11]=0,h[12]=(M+Z)*He,h[13]=(H+z)*rt,h[14]=X*ft,h[15]=1,h}function Ht(h,M,Z,z){var H,X,oe,He,rt,ft,It,Ge,Ct,dt,At=M[0],Qt=M[1],Ke=M[2],pt=z[0],Tt=z[1],$e=z[2],Lt=Z[0],Xt=Z[1],gn=Z[2];return Math.abs(At-Lt)<r.p8&&Math.abs(Qt-Xt)<r.p8&&Math.abs(Ke-gn)<r.p8?u(h):(It=At-Lt,Ge=Qt-Xt,Ct=Ke-gn,H=Tt*(Ct*=dt=1/Math.hypot(It,Ge,Ct))-$e*(Ge*=dt),X=$e*(It*=dt)-pt*Ct,oe=pt*Ge-Tt*It,(dt=Math.hypot(H,X,oe))?(H*=dt=1/dt,X*=dt,oe*=dt):(H=0,X=0,oe=0),He=Ge*oe-Ct*X,rt=Ct*H-It*oe,ft=It*X-Ge*H,(dt=Math.hypot(He,rt,ft))?(He*=dt=1/dt,rt*=dt,ft*=dt):(He=0,rt=0,ft=0),h[0]=H,h[1]=He,h[2]=It,h[3]=0,h[4]=X,h[5]=rt,h[6]=Ge,h[7]=0,h[8]=oe,h[9]=ft,h[10]=Ct,h[11]=0,h[12]=-(H*At+X*Qt+oe*Ke),h[13]=-(He*At+rt*Qt+ft*Ke),h[14]=-(It*At+Ge*Qt+Ct*Ke),h[15]=1,h)}function ln(h,M,Z,z){var H=M[0],X=M[1],oe=M[2],He=z[0],rt=z[1],ft=z[2],It=H-Z[0],Ge=X-Z[1],Ct=oe-Z[2],dt=It*It+Ge*Ge+Ct*Ct;dt>0&&(It*=dt=1/Math.sqrt(dt),Ge*=dt,Ct*=dt);var At=rt*Ct-ft*Ge,Qt=ft*It-He*Ct,Ke=He*Ge-rt*It;return(dt=At*At+Qt*Qt+Ke*Ke)>0&&(At*=dt=1/Math.sqrt(dt),Qt*=dt,Ke*=dt),h[0]=At,h[1]=Qt,h[2]=Ke,h[3]=0,h[4]=Ge*Ke-Ct*Qt,h[5]=Ct*At-It*Ke,h[6]=It*Qt-Ge*At,h[7]=0,h[8]=It,h[9]=Ge,h[10]=Ct,h[11]=0,h[12]=H,h[13]=X,h[14]=oe,h[15]=1,h}function Bt(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}function Ye(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}function Ze(h,M,Z){return h[0]=M[0]+Z[0],h[1]=M[1]+Z[1],h[2]=M[2]+Z[2],h[3]=M[3]+Z[3],h[4]=M[4]+Z[4],h[5]=M[5]+Z[5],h[6]=M[6]+Z[6],h[7]=M[7]+Z[7],h[8]=M[8]+Z[8],h[9]=M[9]+Z[9],h[10]=M[10]+Z[10],h[11]=M[11]+Z[11],h[12]=M[12]+Z[12],h[13]=M[13]+Z[13],h[14]=M[14]+Z[14],h[15]=M[15]+Z[15],h}function Ot(h,M,Z){return h[0]=M[0]-Z[0],h[1]=M[1]-Z[1],h[2]=M[2]-Z[2],h[3]=M[3]-Z[3],h[4]=M[4]-Z[4],h[5]=M[5]-Z[5],h[6]=M[6]-Z[6],h[7]=M[7]-Z[7],h[8]=M[8]-Z[8],h[9]=M[9]-Z[9],h[10]=M[10]-Z[10],h[11]=M[11]-Z[11],h[12]=M[12]-Z[12],h[13]=M[13]-Z[13],h[14]=M[14]-Z[14],h[15]=M[15]-Z[15],h}function ye(h,M,Z){return h[0]=M[0]*Z,h[1]=M[1]*Z,h[2]=M[2]*Z,h[3]=M[3]*Z,h[4]=M[4]*Z,h[5]=M[5]*Z,h[6]=M[6]*Z,h[7]=M[7]*Z,h[8]=M[8]*Z,h[9]=M[9]*Z,h[10]=M[10]*Z,h[11]=M[11]*Z,h[12]=M[12]*Z,h[13]=M[13]*Z,h[14]=M[14]*Z,h[15]=M[15]*Z,h}function P(h,M,Z,z){return h[0]=M[0]+Z[0]*z,h[1]=M[1]+Z[1]*z,h[2]=M[2]+Z[2]*z,h[3]=M[3]+Z[3]*z,h[4]=M[4]+Z[4]*z,h[5]=M[5]+Z[5]*z,h[6]=M[6]+Z[6]*z,h[7]=M[7]+Z[7]*z,h[8]=M[8]+Z[8]*z,h[9]=M[9]+Z[9]*z,h[10]=M[10]+Z[10]*z,h[11]=M[11]+Z[11]*z,h[12]=M[12]+Z[12]*z,h[13]=M[13]+Z[13]*z,h[14]=M[14]+Z[14]*z,h[15]=M[15]+Z[15]*z,h}function B(h,M){return h[0]===M[0]&&h[1]===M[1]&&h[2]===M[2]&&h[3]===M[3]&&h[4]===M[4]&&h[5]===M[5]&&h[6]===M[6]&&h[7]===M[7]&&h[8]===M[8]&&h[9]===M[9]&&h[10]===M[10]&&h[11]===M[11]&&h[12]===M[12]&&h[13]===M[13]&&h[14]===M[14]&&h[15]===M[15]}function R(h,M){var Z=h[0],z=h[1],H=h[2],X=h[3],oe=h[4],He=h[5],rt=h[6],ft=h[7],It=h[8],Ge=h[9],Ct=h[10],dt=h[11],At=h[12],Qt=h[13],Ke=h[14],pt=h[15],Tt=M[0],$e=M[1],Lt=M[2],Xt=M[3],gn=M[4],Ln=M[5],$n=M[6],gr=M[7],sn=M[8],St=M[9],Fe=M[10],Ue=M[11],Ce=M[12],me=M[13],it=M[14],Me=M[15];return Math.abs(Z-Tt)<=r.p8*Math.max(1,Math.abs(Z),Math.abs(Tt))&&Math.abs(z-$e)<=r.p8*Math.max(1,Math.abs(z),Math.abs($e))&&Math.abs(H-Lt)<=r.p8*Math.max(1,Math.abs(H),Math.abs(Lt))&&Math.abs(X-Xt)<=r.p8*Math.max(1,Math.abs(X),Math.abs(Xt))&&Math.abs(oe-gn)<=r.p8*Math.max(1,Math.abs(oe),Math.abs(gn))&&Math.abs(He-Ln)<=r.p8*Math.max(1,Math.abs(He),Math.abs(Ln))&&Math.abs(rt-$n)<=r.p8*Math.max(1,Math.abs(rt),Math.abs($n))&&Math.abs(ft-gr)<=r.p8*Math.max(1,Math.abs(ft),Math.abs(gr))&&Math.abs(It-sn)<=r.p8*Math.max(1,Math.abs(It),Math.abs(sn))&&Math.abs(Ge-St)<=r.p8*Math.max(1,Math.abs(Ge),Math.abs(St))&&Math.abs(Ct-Fe)<=r.p8*Math.max(1,Math.abs(Ct),Math.abs(Fe))&&Math.abs(dt-Ue)<=r.p8*Math.max(1,Math.abs(dt),Math.abs(Ue))&&Math.abs(At-Ce)<=r.p8*Math.max(1,Math.abs(At),Math.abs(Ce))&&Math.abs(Qt-me)<=r.p8*Math.max(1,Math.abs(Qt),Math.abs(me))&&Math.abs(Ke-it)<=r.p8*Math.max(1,Math.abs(Ke),Math.abs(it))&&Math.abs(pt-Me)<=r.p8*Math.max(1,Math.abs(pt),Math.abs(Me))}var N=y,Y=Ot},9556:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{add:()=>Qe,calculateW:()=>D,clone:()=>Q,conjugate:()=>fe,copy:()=>be,create:()=>E,dot:()=>ut,equals:()=>xt,exactEquals:()=>ke,exp:()=>W,fromEuler:()=>$,fromMat3:()=>q,fromValues:()=>ee,getAngle:()=>S,getAxisAngle:()=>F,identity:()=>C,invert:()=>le,len:()=>I,length:()=>ve,lerp:()=>Ft,ln:()=>K,mul:()=>nt,multiply:()=>U,normalize:()=>Pe,pow:()=>L,random:()=>ae,rotateX:()=>O,rotateY:()=>y,rotateZ:()=>_,rotationTo:()=>Ht,scale:()=>De,set:()=>Se,setAxes:()=>Bt,setAxisAngle:()=>u,slerp:()=>ie,sqlerp:()=>ln,sqrLen:()=>ge,squaredLength:()=>V,str:()=>j});var r=w(9818),x=w(7928),f=w(8472),b=w(4525);function E(){var Ye=new r.tb(4);return r.tb!=Float32Array&&(Ye[0]=0,Ye[1]=0,Ye[2]=0),Ye[3]=1,Ye}function C(Ye){return Ye[0]=0,Ye[1]=0,Ye[2]=0,Ye[3]=1,Ye}function u(Ye,Ze,Ot){Ot*=.5;var ye=Math.sin(Ot);return Ye[0]=ye*Ze[0],Ye[1]=ye*Ze[1],Ye[2]=ye*Ze[2],Ye[3]=Math.cos(Ot),Ye}function F(Ye,Ze){var Ot=2*Math.acos(Ze[3]),ye=Math.sin(Ot/2);return ye>r.p8?(Ye[0]=Ze[0]/ye,Ye[1]=Ze[1]/ye,Ye[2]=Ze[2]/ye):(Ye[0]=1,Ye[1]=0,Ye[2]=0),Ot}function S(Ye,Ze){var Ot=ut(Ye,Ze);return Math.acos(2*Ot*Ot-1)}function U(Ye,Ze,Ot){var ye=Ze[0],P=Ze[1],B=Ze[2],R=Ze[3],N=Ot[0],Y=Ot[1],h=Ot[2],M=Ot[3];return Ye[0]=ye*M+R*N+P*h-B*Y,Ye[1]=P*M+R*Y+B*N-ye*h,Ye[2]=B*M+R*h+ye*Y-P*N,Ye[3]=R*M-ye*N-P*Y-B*h,Ye}function O(Ye,Ze,Ot){Ot*=.5;var ye=Ze[0],P=Ze[1],B=Ze[2],R=Ze[3],N=Math.sin(Ot),Y=Math.cos(Ot);return Ye[0]=ye*Y+R*N,Ye[1]=P*Y+B*N,Ye[2]=B*Y-P*N,Ye[3]=R*Y-ye*N,Ye}function y(Ye,Ze,Ot){Ot*=.5;var ye=Ze[0],P=Ze[1],B=Ze[2],R=Ze[3],N=Math.sin(Ot),Y=Math.cos(Ot);return Ye[0]=ye*Y-B*N,Ye[1]=P*Y+R*N,Ye[2]=B*Y+ye*N,Ye[3]=R*Y-P*N,Ye}function _(Ye,Ze,Ot){Ot*=.5;var ye=Ze[0],P=Ze[1],B=Ze[2],R=Ze[3],N=Math.sin(Ot),Y=Math.cos(Ot);return Ye[0]=ye*Y+P*N,Ye[1]=P*Y-ye*N,Ye[2]=B*Y+R*N,Ye[3]=R*Y-B*N,Ye}function D(Ye,Ze){var Ot=Ze[0],ye=Ze[1],P=Ze[2];return Ye[0]=Ot,Ye[1]=ye,Ye[2]=P,Ye[3]=Math.sqrt(Math.abs(1-Ot*Ot-ye*ye-P*P)),Ye}function W(Ye,Ze){var Ot=Ze[0],ye=Ze[1],P=Ze[2],B=Ze[3],R=Math.sqrt(Ot*Ot+ye*ye+P*P),N=Math.exp(B),Y=R>0?N*Math.sin(R)/R:0;return Ye[0]=Ot*Y,Ye[1]=ye*Y,Ye[2]=P*Y,Ye[3]=N*Math.cos(R),Ye}function K(Ye,Ze){var Ot=Ze[0],ye=Ze[1],P=Ze[2],B=Ze[3],R=Math.sqrt(Ot*Ot+ye*ye+P*P),N=R>0?Math.atan2(R,B)/R:0;return Ye[0]=Ot*N,Ye[1]=ye*N,Ye[2]=P*N,Ye[3]=.5*Math.log(Ot*Ot+ye*ye+P*P+B*B),Ye}function L(Ye,Ze,Ot){return K(Ye,Ze),De(Ye,Ye,Ot),W(Ye,Ye),Ye}function ie(Ye,Ze,Ot,ye){var z,H,X,oe,He,P=Ze[0],B=Ze[1],R=Ze[2],N=Ze[3],Y=Ot[0],h=Ot[1],M=Ot[2],Z=Ot[3];return(H=P*Y+B*h+R*M+N*Z)<0&&(H=-H,Y=-Y,h=-h,M=-M,Z=-Z),1-H>r.p8?(z=Math.acos(H),X=Math.sin(z),oe=Math.sin((1-ye)*z)/X,He=Math.sin(ye*z)/X):(oe=1-ye,He=ye),Ye[0]=oe*P+He*Y,Ye[1]=oe*B+He*h,Ye[2]=oe*R+He*M,Ye[3]=oe*N+He*Z,Ye}function ae(Ye){var Ze=r.Ov(),Ot=r.Ov(),ye=r.Ov(),P=Math.sqrt(1-Ze),B=Math.sqrt(Ze);return Ye[0]=P*Math.sin(2*Math.PI*Ot),Ye[1]=P*Math.cos(2*Math.PI*Ot),Ye[2]=B*Math.sin(2*Math.PI*ye),Ye[3]=B*Math.cos(2*Math.PI*ye),Ye}function le(Ye,Ze){var Ot=Ze[0],ye=Ze[1],P=Ze[2],B=Ze[3],R=Ot*Ot+ye*ye+P*P+B*B,N=R?1/R:0;return Ye[0]=-Ot*N,Ye[1]=-ye*N,Ye[2]=-P*N,Ye[3]=B*N,Ye}function fe(Ye,Ze){return Ye[0]=-Ze[0],Ye[1]=-Ze[1],Ye[2]=-Ze[2],Ye[3]=Ze[3],Ye}function q(Ye,Ze){var ye,Ot=Ze[0]+Ze[4]+Ze[8];if(Ot>0)ye=Math.sqrt(Ot+1),Ye[3]=.5*ye,Ye[0]=(Ze[5]-Ze[7])*(ye=.5/ye),Ye[1]=(Ze[6]-Ze[2])*ye,Ye[2]=(Ze[1]-Ze[3])*ye;else{var P=0;Ze[4]>Ze[0]&&(P=1),Ze[8]>Ze[3*P+P]&&(P=2);var B=(P+1)%3,R=(P+2)%3;ye=Math.sqrt(Ze[3*P+P]-Ze[3*B+B]-Ze[3*R+R]+1),Ye[P]=.5*ye,Ye[3]=(Ze[3*B+R]-Ze[3*R+B])*(ye=.5/ye),Ye[B]=(Ze[3*B+P]+Ze[3*P+B])*ye,Ye[R]=(Ze[3*R+P]+Ze[3*P+R])*ye}return Ye}function $(Ye,Ze,Ot,ye){var P=.5*Math.PI/180;Ze*=P,Ot*=P,ye*=P;var B=Math.sin(Ze),R=Math.cos(Ze),N=Math.sin(Ot),Y=Math.cos(Ot),h=Math.sin(ye),M=Math.cos(ye);return Ye[0]=B*Y*M-R*N*h,Ye[1]=R*N*M+B*Y*h,Ye[2]=R*Y*h-B*N*M,Ye[3]=R*Y*M+B*N*h,Ye}function j(Ye){return"quat("+Ye[0]+", "+Ye[1]+", "+Ye[2]+", "+Ye[3]+")"}var Ye,Ze,Ot,Q=b.clone,ee=b.fromValues,be=b.copy,Se=b.set,Qe=b.add,nt=U,De=b.scale,ut=b.dot,Ft=b.lerp,ve=b.length,I=ve,V=b.squaredLength,ge=V,Pe=b.normalize,ke=b.exactEquals,xt=b.equals,Ht=(Ye=f.create(),Ze=f.fromValues(1,0,0),Ot=f.fromValues(0,1,0),function(ye,P,B){var R=f.dot(P,B);return R<-.999999?(f.cross(Ye,Ze,P),f.len(Ye)<1e-6&&f.cross(Ye,Ot,P),f.normalize(Ye,Ye),u(ye,Ye,Math.PI),ye):R>.999999?(ye[0]=0,ye[1]=0,ye[2]=0,ye[3]=1,ye):(f.cross(Ye,P,B),ye[0]=Ye[0],ye[1]=Ye[1],ye[2]=Ye[2],ye[3]=1+R,Pe(ye,ye))}),ln=function(){var Ye=E(),Ze=E();return function(Ot,ye,P,B,R,N){return ie(Ye,ye,R,N),ie(Ze,P,B,N),ie(Ot,Ye,Ze,2*N*(1-N)),Ot}}(),Bt=function(){var Ye=x.create();return function(Ze,Ot,ye,P){return Ye[0]=ye[0],Ye[3]=ye[1],Ye[6]=ye[2],Ye[1]=P[0],Ye[4]=P[1],Ye[7]=P[2],Ye[2]=-Ot[0],Ye[5]=-Ot[1],Ye[8]=-Ot[2],Pe(Ze,q(Ze,Ye))}}()},559:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{add:()=>u,angle:()=>ve,ceil:()=>O,clone:()=>f,copy:()=>E,create:()=>x,cross:()=>ee,dist:()=>Bt,distance:()=>ie,div:()=>ln,divide:()=>U,dot:()=>Q,equals:()=>Pe,exactEquals:()=>ge,floor:()=>y,forEach:()=>Ot,fromValues:()=>b,inverse:()=>$,len:()=>ke,length:()=>le,lerp:()=>be,max:()=>D,min:()=>_,mul:()=>Ht,multiply:()=>S,negate:()=>q,normalize:()=>j,random:()=>Se,rotate:()=>Ft,round:()=>W,scale:()=>K,scaleAndAdd:()=>L,set:()=>C,sqrDist:()=>Ye,sqrLen:()=>Ze,squaredDistance:()=>ae,squaredLength:()=>fe,str:()=>V,sub:()=>xt,subtract:()=>F,transformMat2:()=>Qe,transformMat2d:()=>nt,transformMat3:()=>De,transformMat4:()=>ut,zero:()=>I});var r=w(9818);function x(){var ye=new r.tb(2);return r.tb!=Float32Array&&(ye[0]=0,ye[1]=0),ye}function f(ye){var P=new r.tb(2);return P[0]=ye[0],P[1]=ye[1],P}function b(ye,P){var B=new r.tb(2);return B[0]=ye,B[1]=P,B}function E(ye,P){return ye[0]=P[0],ye[1]=P[1],ye}function C(ye,P,B){return ye[0]=P,ye[1]=B,ye}function u(ye,P,B){return ye[0]=P[0]+B[0],ye[1]=P[1]+B[1],ye}function F(ye,P,B){return ye[0]=P[0]-B[0],ye[1]=P[1]-B[1],ye}function S(ye,P,B){return ye[0]=P[0]*B[0],ye[1]=P[1]*B[1],ye}function U(ye,P,B){return ye[0]=P[0]/B[0],ye[1]=P[1]/B[1],ye}function O(ye,P){return ye[0]=Math.ceil(P[0]),ye[1]=Math.ceil(P[1]),ye}function y(ye,P){return ye[0]=Math.floor(P[0]),ye[1]=Math.floor(P[1]),ye}function _(ye,P,B){return ye[0]=Math.min(P[0],B[0]),ye[1]=Math.min(P[1],B[1]),ye}function D(ye,P,B){return ye[0]=Math.max(P[0],B[0]),ye[1]=Math.max(P[1],B[1]),ye}function W(ye,P){return ye[0]=Math.round(P[0]),ye[1]=Math.round(P[1]),ye}function K(ye,P,B){return ye[0]=P[0]*B,ye[1]=P[1]*B,ye}function L(ye,P,B,R){return ye[0]=P[0]+B[0]*R,ye[1]=P[1]+B[1]*R,ye}function ie(ye,P){return Math.hypot(P[0]-ye[0],P[1]-ye[1])}function ae(ye,P){var B=P[0]-ye[0],R=P[1]-ye[1];return B*B+R*R}function le(ye){return Math.hypot(ye[0],ye[1])}function fe(ye){var P=ye[0],B=ye[1];return P*P+B*B}function q(ye,P){return ye[0]=-P[0],ye[1]=-P[1],ye}function $(ye,P){return ye[0]=1/P[0],ye[1]=1/P[1],ye}function j(ye,P){var B=P[0],R=P[1],N=B*B+R*R;return N>0&&(N=1/Math.sqrt(N)),ye[0]=P[0]*N,ye[1]=P[1]*N,ye}function Q(ye,P){return ye[0]*P[0]+ye[1]*P[1]}function ee(ye,P,B){var R=P[0]*B[1]-P[1]*B[0];return ye[0]=ye[1]=0,ye[2]=R,ye}function be(ye,P,B,R){var N=P[0],Y=P[1];return ye[0]=N+R*(B[0]-N),ye[1]=Y+R*(B[1]-Y),ye}function Se(ye,P){P=P||1;var B=2*r.Ov()*Math.PI;return ye[0]=Math.cos(B)*P,ye[1]=Math.sin(B)*P,ye}function Qe(ye,P,B){var R=P[0],N=P[1];return ye[0]=B[0]*R+B[2]*N,ye[1]=B[1]*R+B[3]*N,ye}function nt(ye,P,B){var R=P[0],N=P[1];return ye[0]=B[0]*R+B[2]*N+B[4],ye[1]=B[1]*R+B[3]*N+B[5],ye}function De(ye,P,B){var R=P[0],N=P[1];return ye[0]=B[0]*R+B[3]*N+B[6],ye[1]=B[1]*R+B[4]*N+B[7],ye}function ut(ye,P,B){var R=P[0],N=P[1];return ye[0]=B[0]*R+B[4]*N+B[12],ye[1]=B[1]*R+B[5]*N+B[13],ye}function Ft(ye,P,B,R){var N=P[0]-B[0],Y=P[1]-B[1],h=Math.sin(R),M=Math.cos(R);return ye[0]=N*M-Y*h+B[0],ye[1]=N*h+Y*M+B[1],ye}function ve(ye,P){var B=ye[0],R=ye[1],N=P[0],Y=P[1],h=Math.sqrt(B*B+R*R)*Math.sqrt(N*N+Y*Y);return Math.acos(Math.min(Math.max(h&&(B*N+R*Y)/h,-1),1))}function I(ye){return ye[0]=0,ye[1]=0,ye}function V(ye){return"vec2("+ye[0]+", "+ye[1]+")"}function ge(ye,P){return ye[0]===P[0]&&ye[1]===P[1]}function Pe(ye,P){var B=ye[0],R=ye[1],N=P[0],Y=P[1];return Math.abs(B-N)<=r.p8*Math.max(1,Math.abs(B),Math.abs(N))&&Math.abs(R-Y)<=r.p8*Math.max(1,Math.abs(R),Math.abs(Y))}var ye,ke=le,xt=F,Ht=S,ln=U,Bt=ie,Ye=ae,Ze=fe,Ot=(ye=x(),function(P,B,R,N,Y,h){var M,Z;for(B||(B=2),R||(R=0),Z=N?Math.min(N*B+R,P.length):P.length,M=R;M<Z;M+=B)ye[0]=P[M],ye[1]=P[M+1],Y(ye,ye,h),P[M]=ye[0],P[M+1]=ye[1];return P})},8472:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{add:()=>F,angle:()=>ge,bezier:()=>Qe,ceil:()=>y,clone:()=>f,copy:()=>C,create:()=>x,cross:()=>ee,dist:()=>Ze,distance:()=>ae,div:()=>Ye,divide:()=>O,dot:()=>Q,equals:()=>Ht,exactEquals:()=>xt,floor:()=>_,forEach:()=>B,fromValues:()=>E,hermite:()=>Se,inverse:()=>$,len:()=>ye,length:()=>b,lerp:()=>be,max:()=>W,min:()=>D,mul:()=>Bt,multiply:()=>U,negate:()=>q,normalize:()=>j,random:()=>nt,rotateX:()=>ve,rotateY:()=>I,rotateZ:()=>V,round:()=>K,scale:()=>L,scaleAndAdd:()=>ie,set:()=>u,sqrDist:()=>Ot,sqrLen:()=>P,squaredDistance:()=>le,squaredLength:()=>fe,str:()=>ke,sub:()=>ln,subtract:()=>S,transformMat3:()=>ut,transformMat4:()=>De,transformQuat:()=>Ft,zero:()=>Pe});var r=w(9818);function x(){var R=new r.tb(3);return r.tb!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function f(R){var N=new r.tb(3);return N[0]=R[0],N[1]=R[1],N[2]=R[2],N}function b(R){return Math.hypot(R[0],R[1],R[2])}function E(R,N,Y){var h=new r.tb(3);return h[0]=R,h[1]=N,h[2]=Y,h}function C(R,N){return R[0]=N[0],R[1]=N[1],R[2]=N[2],R}function u(R,N,Y,h){return R[0]=N,R[1]=Y,R[2]=h,R}function F(R,N,Y){return R[0]=N[0]+Y[0],R[1]=N[1]+Y[1],R[2]=N[2]+Y[2],R}function S(R,N,Y){return R[0]=N[0]-Y[0],R[1]=N[1]-Y[1],R[2]=N[2]-Y[2],R}function U(R,N,Y){return R[0]=N[0]*Y[0],R[1]=N[1]*Y[1],R[2]=N[2]*Y[2],R}function O(R,N,Y){return R[0]=N[0]/Y[0],R[1]=N[1]/Y[1],R[2]=N[2]/Y[2],R}function y(R,N){return R[0]=Math.ceil(N[0]),R[1]=Math.ceil(N[1]),R[2]=Math.ceil(N[2]),R}function _(R,N){return R[0]=Math.floor(N[0]),R[1]=Math.floor(N[1]),R[2]=Math.floor(N[2]),R}function D(R,N,Y){return R[0]=Math.min(N[0],Y[0]),R[1]=Math.min(N[1],Y[1]),R[2]=Math.min(N[2],Y[2]),R}function W(R,N,Y){return R[0]=Math.max(N[0],Y[0]),R[1]=Math.max(N[1],Y[1]),R[2]=Math.max(N[2],Y[2]),R}function K(R,N){return R[0]=Math.round(N[0]),R[1]=Math.round(N[1]),R[2]=Math.round(N[2]),R}function L(R,N,Y){return R[0]=N[0]*Y,R[1]=N[1]*Y,R[2]=N[2]*Y,R}function ie(R,N,Y,h){return R[0]=N[0]+Y[0]*h,R[1]=N[1]+Y[1]*h,R[2]=N[2]+Y[2]*h,R}function ae(R,N){return Math.hypot(N[0]-R[0],N[1]-R[1],N[2]-R[2])}function le(R,N){var Y=N[0]-R[0],h=N[1]-R[1],M=N[2]-R[2];return Y*Y+h*h+M*M}function fe(R){var N=R[0],Y=R[1],h=R[2];return N*N+Y*Y+h*h}function q(R,N){return R[0]=-N[0],R[1]=-N[1],R[2]=-N[2],R}function $(R,N){return R[0]=1/N[0],R[1]=1/N[1],R[2]=1/N[2],R}function j(R,N){var Y=N[0],h=N[1],M=N[2],Z=Y*Y+h*h+M*M;return Z>0&&(Z=1/Math.sqrt(Z)),R[0]=N[0]*Z,R[1]=N[1]*Z,R[2]=N[2]*Z,R}function Q(R,N){return R[0]*N[0]+R[1]*N[1]+R[2]*N[2]}function ee(R,N,Y){var h=N[0],M=N[1],Z=N[2],z=Y[0],H=Y[1],X=Y[2];return R[0]=M*X-Z*H,R[1]=Z*z-h*X,R[2]=h*H-M*z,R}function be(R,N,Y,h){var M=N[0],Z=N[1],z=N[2];return R[0]=M+h*(Y[0]-M),R[1]=Z+h*(Y[1]-Z),R[2]=z+h*(Y[2]-z),R}function Se(R,N,Y,h,M,Z){var z=Z*Z,H=z*(2*Z-3)+1,X=z*(Z-2)+Z,oe=z*(Z-1),He=z*(3-2*Z);return R[0]=N[0]*H+Y[0]*X+h[0]*oe+M[0]*He,R[1]=N[1]*H+Y[1]*X+h[1]*oe+M[1]*He,R[2]=N[2]*H+Y[2]*X+h[2]*oe+M[2]*He,R}function Qe(R,N,Y,h,M,Z){var z=1-Z,H=z*z,X=Z*Z,oe=H*z,He=3*Z*H,rt=3*X*z,ft=X*Z;return R[0]=N[0]*oe+Y[0]*He+h[0]*rt+M[0]*ft,R[1]=N[1]*oe+Y[1]*He+h[1]*rt+M[1]*ft,R[2]=N[2]*oe+Y[2]*He+h[2]*rt+M[2]*ft,R}function nt(R,N){N=N||1;var Y=2*r.Ov()*Math.PI,h=2*r.Ov()-1,M=Math.sqrt(1-h*h)*N;return R[0]=Math.cos(Y)*M,R[1]=Math.sin(Y)*M,R[2]=h*N,R}function De(R,N,Y){var h=N[0],M=N[1],Z=N[2],z=Y[3]*h+Y[7]*M+Y[11]*Z+Y[15];return R[0]=(Y[0]*h+Y[4]*M+Y[8]*Z+Y[12])/(z=z||1),R[1]=(Y[1]*h+Y[5]*M+Y[9]*Z+Y[13])/z,R[2]=(Y[2]*h+Y[6]*M+Y[10]*Z+Y[14])/z,R}function ut(R,N,Y){var h=N[0],M=N[1],Z=N[2];return R[0]=h*Y[0]+M*Y[3]+Z*Y[6],R[1]=h*Y[1]+M*Y[4]+Z*Y[7],R[2]=h*Y[2]+M*Y[5]+Z*Y[8],R}function Ft(R,N,Y){var h=Y[0],M=Y[1],Z=Y[2],H=N[0],X=N[1],oe=N[2],He=M*oe-Z*X,rt=Z*H-h*oe,ft=h*X-M*H,It=M*ft-Z*rt,Ge=Z*He-h*ft,Ct=h*rt-M*He,dt=2*Y[3];return rt*=dt,ft*=dt,Ge*=2,Ct*=2,R[0]=H+(He*=dt)+(It*=2),R[1]=X+rt+Ge,R[2]=oe+ft+Ct,R}function ve(R,N,Y,h){var M=[],Z=[];return M[0]=N[0]-Y[0],M[1]=N[1]-Y[1],M[2]=N[2]-Y[2],Z[0]=M[0],Z[1]=M[1]*Math.cos(h)-M[2]*Math.sin(h),Z[2]=M[1]*Math.sin(h)+M[2]*Math.cos(h),R[0]=Z[0]+Y[0],R[1]=Z[1]+Y[1],R[2]=Z[2]+Y[2],R}function I(R,N,Y,h){var M=[],Z=[];return M[0]=N[0]-Y[0],M[1]=N[1]-Y[1],M[2]=N[2]-Y[2],Z[0]=M[2]*Math.sin(h)+M[0]*Math.cos(h),Z[1]=M[1],Z[2]=M[2]*Math.cos(h)-M[0]*Math.sin(h),R[0]=Z[0]+Y[0],R[1]=Z[1]+Y[1],R[2]=Z[2]+Y[2],R}function V(R,N,Y,h){var M=[],Z=[];return M[0]=N[0]-Y[0],M[1]=N[1]-Y[1],M[2]=N[2]-Y[2],Z[0]=M[0]*Math.cos(h)-M[1]*Math.sin(h),Z[1]=M[0]*Math.sin(h)+M[1]*Math.cos(h),Z[2]=M[2],R[0]=Z[0]+Y[0],R[1]=Z[1]+Y[1],R[2]=Z[2]+Y[2],R}function ge(R,N){var Y=R[0],h=R[1],M=R[2],Z=N[0],z=N[1],H=N[2],He=Math.sqrt(Y*Y+h*h+M*M)*Math.sqrt(Z*Z+z*z+H*H),rt=He&&Q(R,N)/He;return Math.acos(Math.min(Math.max(rt,-1),1))}function Pe(R){return R[0]=0,R[1]=0,R[2]=0,R}function ke(R){return"vec3("+R[0]+", "+R[1]+", "+R[2]+")"}function xt(R,N){return R[0]===N[0]&&R[1]===N[1]&&R[2]===N[2]}function Ht(R,N){var Y=R[0],h=R[1],M=R[2],Z=N[0],z=N[1],H=N[2];return Math.abs(Y-Z)<=r.p8*Math.max(1,Math.abs(Y),Math.abs(Z))&&Math.abs(h-z)<=r.p8*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(M-H)<=r.p8*Math.max(1,Math.abs(M),Math.abs(H))}var R,ln=S,Bt=U,Ye=O,Ze=ae,Ot=le,ye=b,P=fe,B=(R=x(),function(N,Y,h,M,Z,z){var H,X;for(Y||(Y=3),h||(h=0),X=M?Math.min(M*Y+h,N.length):N.length,H=h;H<X;H+=Y)R[0]=N[H],R[1]=N[H+1],R[2]=N[H+2],Z(R,R,z),N[H]=R[0],N[H+1]=R[1],N[H+2]=R[2];return N})},4525:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{add:()=>u,ceil:()=>O,clone:()=>f,copy:()=>E,create:()=>x,cross:()=>ee,dist:()=>Pe,distance:()=>ie,div:()=>ge,divide:()=>U,dot:()=>Q,equals:()=>ve,exactEquals:()=>Ft,floor:()=>y,forEach:()=>ln,fromValues:()=>b,inverse:()=>$,len:()=>xt,length:()=>le,lerp:()=>be,max:()=>D,min:()=>_,mul:()=>V,multiply:()=>S,negate:()=>q,normalize:()=>j,random:()=>Se,round:()=>W,scale:()=>K,scaleAndAdd:()=>L,set:()=>C,sqrDist:()=>ke,sqrLen:()=>Ht,squaredDistance:()=>ae,squaredLength:()=>fe,str:()=>ut,sub:()=>I,subtract:()=>F,transformMat4:()=>Qe,transformQuat:()=>nt,zero:()=>De});var r=w(9818);function x(){var Bt=new r.tb(4);return r.tb!=Float32Array&&(Bt[0]=0,Bt[1]=0,Bt[2]=0,Bt[3]=0),Bt}function f(Bt){var Ye=new r.tb(4);return Ye[0]=Bt[0],Ye[1]=Bt[1],Ye[2]=Bt[2],Ye[3]=Bt[3],Ye}function b(Bt,Ye,Ze,Ot){var ye=new r.tb(4);return ye[0]=Bt,ye[1]=Ye,ye[2]=Ze,ye[3]=Ot,ye}function E(Bt,Ye){return Bt[0]=Ye[0],Bt[1]=Ye[1],Bt[2]=Ye[2],Bt[3]=Ye[3],Bt}function C(Bt,Ye,Ze,Ot,ye){return Bt[0]=Ye,Bt[1]=Ze,Bt[2]=Ot,Bt[3]=ye,Bt}function u(Bt,Ye,Ze){return Bt[0]=Ye[0]+Ze[0],Bt[1]=Ye[1]+Ze[1],Bt[2]=Ye[2]+Ze[2],Bt[3]=Ye[3]+Ze[3],Bt}function F(Bt,Ye,Ze){return Bt[0]=Ye[0]-Ze[0],Bt[1]=Ye[1]-Ze[1],Bt[2]=Ye[2]-Ze[2],Bt[3]=Ye[3]-Ze[3],Bt}function S(Bt,Ye,Ze){return Bt[0]=Ye[0]*Ze[0],Bt[1]=Ye[1]*Ze[1],Bt[2]=Ye[2]*Ze[2],Bt[3]=Ye[3]*Ze[3],Bt}function U(Bt,Ye,Ze){return Bt[0]=Ye[0]/Ze[0],Bt[1]=Ye[1]/Ze[1],Bt[2]=Ye[2]/Ze[2],Bt[3]=Ye[3]/Ze[3],Bt}function O(Bt,Ye){return Bt[0]=Math.ceil(Ye[0]),Bt[1]=Math.ceil(Ye[1]),Bt[2]=Math.ceil(Ye[2]),Bt[3]=Math.ceil(Ye[3]),Bt}function y(Bt,Ye){return Bt[0]=Math.floor(Ye[0]),Bt[1]=Math.floor(Ye[1]),Bt[2]=Math.floor(Ye[2]),Bt[3]=Math.floor(Ye[3]),Bt}function _(Bt,Ye,Ze){return Bt[0]=Math.min(Ye[0],Ze[0]),Bt[1]=Math.min(Ye[1],Ze[1]),Bt[2]=Math.min(Ye[2],Ze[2]),Bt[3]=Math.min(Ye[3],Ze[3]),Bt}function D(Bt,Ye,Ze){return Bt[0]=Math.max(Ye[0],Ze[0]),Bt[1]=Math.max(Ye[1],Ze[1]),Bt[2]=Math.max(Ye[2],Ze[2]),Bt[3]=Math.max(Ye[3],Ze[3]),Bt}function W(Bt,Ye){return Bt[0]=Math.round(Ye[0]),Bt[1]=Math.round(Ye[1]),Bt[2]=Math.round(Ye[2]),Bt[3]=Math.round(Ye[3]),Bt}function K(Bt,Ye,Ze){return Bt[0]=Ye[0]*Ze,Bt[1]=Ye[1]*Ze,Bt[2]=Ye[2]*Ze,Bt[3]=Ye[3]*Ze,Bt}function L(Bt,Ye,Ze,Ot){return Bt[0]=Ye[0]+Ze[0]*Ot,Bt[1]=Ye[1]+Ze[1]*Ot,Bt[2]=Ye[2]+Ze[2]*Ot,Bt[3]=Ye[3]+Ze[3]*Ot,Bt}function ie(Bt,Ye){return Math.hypot(Ye[0]-Bt[0],Ye[1]-Bt[1],Ye[2]-Bt[2],Ye[3]-Bt[3])}function ae(Bt,Ye){var Ze=Ye[0]-Bt[0],Ot=Ye[1]-Bt[1],ye=Ye[2]-Bt[2],P=Ye[3]-Bt[3];return Ze*Ze+Ot*Ot+ye*ye+P*P}function le(Bt){return Math.hypot(Bt[0],Bt[1],Bt[2],Bt[3])}function fe(Bt){var Ye=Bt[0],Ze=Bt[1],Ot=Bt[2],ye=Bt[3];return Ye*Ye+Ze*Ze+Ot*Ot+ye*ye}function q(Bt,Ye){return Bt[0]=-Ye[0],Bt[1]=-Ye[1],Bt[2]=-Ye[2],Bt[3]=-Ye[3],Bt}function $(Bt,Ye){return Bt[0]=1/Ye[0],Bt[1]=1/Ye[1],Bt[2]=1/Ye[2],Bt[3]=1/Ye[3],Bt}function j(Bt,Ye){var Ze=Ye[0],Ot=Ye[1],ye=Ye[2],P=Ye[3],B=Ze*Ze+Ot*Ot+ye*ye+P*P;return B>0&&(B=1/Math.sqrt(B)),Bt[0]=Ze*B,Bt[1]=Ot*B,Bt[2]=ye*B,Bt[3]=P*B,Bt}function Q(Bt,Ye){return Bt[0]*Ye[0]+Bt[1]*Ye[1]+Bt[2]*Ye[2]+Bt[3]*Ye[3]}function ee(Bt,Ye,Ze,Ot){var ye=Ze[0]*Ot[1]-Ze[1]*Ot[0],P=Ze[0]*Ot[2]-Ze[2]*Ot[0],B=Ze[0]*Ot[3]-Ze[3]*Ot[0],R=Ze[1]*Ot[2]-Ze[2]*Ot[1],N=Ze[1]*Ot[3]-Ze[3]*Ot[1],Y=Ze[2]*Ot[3]-Ze[3]*Ot[2],h=Ye[0],M=Ye[1],Z=Ye[2],z=Ye[3];return Bt[0]=M*Y-Z*N+z*R,Bt[1]=-h*Y+Z*B-z*P,Bt[2]=h*N-M*B+z*ye,Bt[3]=-h*R+M*P-Z*ye,Bt}function be(Bt,Ye,Ze,Ot){var ye=Ye[0],P=Ye[1],B=Ye[2],R=Ye[3];return Bt[0]=ye+Ot*(Ze[0]-ye),Bt[1]=P+Ot*(Ze[1]-P),Bt[2]=B+Ot*(Ze[2]-B),Bt[3]=R+Ot*(Ze[3]-R),Bt}function Se(Bt,Ye){var Ze,Ot,ye,P,B,R;Ye=Ye||1;do{B=(Ze=2*r.Ov()-1)*Ze+(Ot=2*r.Ov()-1)*Ot}while(B>=1);do{R=(ye=2*r.Ov()-1)*ye+(P=2*r.Ov()-1)*P}while(R>=1);var N=Math.sqrt((1-B)/R);return Bt[0]=Ye*Ze,Bt[1]=Ye*Ot,Bt[2]=Ye*ye*N,Bt[3]=Ye*P*N,Bt}function Qe(Bt,Ye,Ze){var Ot=Ye[0],ye=Ye[1],P=Ye[2],B=Ye[3];return Bt[0]=Ze[0]*Ot+Ze[4]*ye+Ze[8]*P+Ze[12]*B,Bt[1]=Ze[1]*Ot+Ze[5]*ye+Ze[9]*P+Ze[13]*B,Bt[2]=Ze[2]*Ot+Ze[6]*ye+Ze[10]*P+Ze[14]*B,Bt[3]=Ze[3]*Ot+Ze[7]*ye+Ze[11]*P+Ze[15]*B,Bt}function nt(Bt,Ye,Ze){var Ot=Ye[0],ye=Ye[1],P=Ye[2],B=Ze[0],R=Ze[1],N=Ze[2],Y=Ze[3],h=Y*Ot+R*P-N*ye,M=Y*ye+N*Ot-B*P,Z=Y*P+B*ye-R*Ot,z=-B*Ot-R*ye-N*P;return Bt[0]=h*Y+z*-B+M*-N-Z*-R,Bt[1]=M*Y+z*-R+Z*-B-h*-N,Bt[2]=Z*Y+z*-N+h*-R-M*-B,Bt[3]=Ye[3],Bt}function De(Bt){return Bt[0]=0,Bt[1]=0,Bt[2]=0,Bt[3]=0,Bt}function ut(Bt){return"vec4("+Bt[0]+", "+Bt[1]+", "+Bt[2]+", "+Bt[3]+")"}function Ft(Bt,Ye){return Bt[0]===Ye[0]&&Bt[1]===Ye[1]&&Bt[2]===Ye[2]&&Bt[3]===Ye[3]}function ve(Bt,Ye){var Ze=Bt[0],Ot=Bt[1],ye=Bt[2],P=Bt[3],B=Ye[0],R=Ye[1],N=Ye[2],Y=Ye[3];return Math.abs(Ze-B)<=r.p8*Math.max(1,Math.abs(Ze),Math.abs(B))&&Math.abs(Ot-R)<=r.p8*Math.max(1,Math.abs(Ot),Math.abs(R))&&Math.abs(ye-N)<=r.p8*Math.max(1,Math.abs(ye),Math.abs(N))&&Math.abs(P-Y)<=r.p8*Math.max(1,Math.abs(P),Math.abs(Y))}var Bt,I=F,V=S,ge=U,Pe=ie,ke=ae,xt=le,Ht=fe,ln=(Bt=x(),function(Ye,Ze,Ot,ye,P,B){var R,N;for(Ze||(Ze=4),Ot||(Ot=0),N=ye?Math.min(ye*Ze+Ot,Ye.length):Ye.length,R=Ot;R<N;R+=Ze)Bt[0]=Ye[R],Bt[1]=Ye[R+1],Bt[2]=Ye[R+2],Bt[3]=Ye[R+3],P(Bt,Bt,B),Ye[R]=Bt[0],Ye[R+1]=Bt[1],Ye[R+2]=Bt[2],Ye[R+3]=Bt[3];return Ye})},9234:(en,ot,w)=>{"use strict";var x=w(9222)("%Object.getOwnPropertyDescriptor%",!0);if(x)try{x([],"length")}catch{x=null}en.exports=x},8931:(en,ot,w)=>{var r;!function(x,f,b,E){"use strict";var K,C=["","webkit","Moz","MS","ms","o"],u=f.createElement("div"),F="function",S=Math.round,U=Math.abs,O=Date.now;function y(Yt,un,Xn){return setTimeout(le(Yt,Xn),un)}function _(Yt,un,Xn){return!!Array.isArray(Yt)&&(D(Yt,Xn[un],Xn),!0)}function D(Yt,un,Xn){var Rr;if(Yt)if(Yt.forEach)Yt.forEach(un,Xn);else if(Yt.length!==E)for(Rr=0;Rr<Yt.length;)un.call(Xn,Yt[Rr],Rr,Yt),Rr++;else for(Rr in Yt)Yt.hasOwnProperty(Rr)&&un.call(Xn,Yt[Rr],Rr,Yt)}function W(Yt,un,Xn){var Rr="DEPRECATED METHOD: "+un+"\n"+Xn+" AT \n";return function(){var ci=new Error("get-stack-trace"),$i=ci&&ci.stack?ci.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ao=x.console&&(x.console.warn||x.console.log);return Ao&&Ao.call(x.console,Rr,$i),Yt.apply(this,arguments)}}K="function"!=typeof Object.assign?function(un){if(un===E||null===un)throw new TypeError("Cannot convert undefined or null to object");for(var Xn=Object(un),Rr=1;Rr<arguments.length;Rr++){var ci=arguments[Rr];if(ci!==E&&null!==ci)for(var $i in ci)ci.hasOwnProperty($i)&&(Xn[$i]=ci[$i])}return Xn}:Object.assign;var L=W(function(un,Xn,Rr){for(var ci=Object.keys(Xn),$i=0;$i<ci.length;)(!Rr||Rr&&un[ci[$i]]===E)&&(un[ci[$i]]=Xn[ci[$i]]),$i++;return un},"extend","Use `assign`."),ie=W(function(un,Xn){return L(un,Xn,!0)},"merge","Use `assign`.");function ae(Yt,un,Xn){var ci,Rr=un.prototype;(ci=Yt.prototype=Object.create(Rr)).constructor=Yt,ci._super=Rr,Xn&&K(ci,Xn)}function le(Yt,un){return function(){return Yt.apply(un,arguments)}}function fe(Yt,un){return typeof Yt==F?Yt.apply(un&&un[0]||E,un):Yt}function q(Yt,un){return Yt===E?un:Yt}function $(Yt,un,Xn){D(be(un),function(Rr){Yt.addEventListener(Rr,Xn,!1)})}function j(Yt,un,Xn){D(be(un),function(Rr){Yt.removeEventListener(Rr,Xn,!1)})}function Q(Yt,un){for(;Yt;){if(Yt==un)return!0;Yt=Yt.parentNode}return!1}function ee(Yt,un){return Yt.indexOf(un)>-1}function be(Yt){return Yt.trim().split(/\s+/g)}function Se(Yt,un,Xn){if(Yt.indexOf&&!Xn)return Yt.indexOf(un);for(var Rr=0;Rr<Yt.length;){if(Xn&&Yt[Rr][Xn]==un||!Xn&&Yt[Rr]===un)return Rr;Rr++}return-1}function Qe(Yt){return Array.prototype.slice.call(Yt,0)}function nt(Yt,un,Xn){for(var Rr=[],ci=[],$i=0;$i<Yt.length;){var Ao=un?Yt[$i][un]:Yt[$i];Se(ci,Ao)<0&&Rr.push(Yt[$i]),ci[$i]=Ao,$i++}return Xn&&(Rr=un?Rr.sort(function(ko,Yo){return ko[un]>Yo[un]}):Rr.sort()),Rr}function De(Yt,un){for(var Xn,Rr,ci=un[0].toUpperCase()+un.slice(1),$i=0;$i<C.length;){if((Rr=(Xn=C[$i])?Xn+ci:un)in Yt)return Rr;$i++}return E}var ut=1;function ve(Yt){var un=Yt.ownerDocument||Yt;return un.defaultView||un.parentWindow||x}var V="ontouchstart"in x,ge=De(x,"PointerEvent")!==E,Pe=V&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ke="touch",Ht="mouse",Bt=25,Ye=1,Ot=4,ye=8,P=1,B=2,R=4,N=8,Y=16,h=B|R,M=N|Y,Z=h|M,z=["x","y"],H=["clientX","clientY"];function X(Yt,un){var Xn=this;this.manager=Yt,this.callback=un,this.element=Yt.element,this.target=Yt.options.inputTarget,this.domHandler=function(Rr){fe(Yt.options.enable,[Yt])&&Xn.handler(Rr)},this.init()}function He(Yt,un,Xn){var Rr=Xn.pointers.length,ci=Xn.changedPointers.length,$i=un&Ye&&Rr-ci==0,Ao=un&(Ot|ye)&&Rr-ci==0;Xn.isFirst=!!$i,Xn.isFinal=!!Ao,$i&&(Yt.session={}),Xn.eventType=un,function rt(Yt,un){var Xn=Yt.session,Rr=un.pointers,ci=Rr.length;Xn.firstInput||(Xn.firstInput=Ge(un)),ci>1&&!Xn.firstMultiple?Xn.firstMultiple=Ge(un):1===ci&&(Xn.firstMultiple=!1);var $i=Xn.firstInput,Ao=Xn.firstMultiple,go=Ao?Ao.center:$i.center,ko=un.center=Ct(Rr);un.timeStamp=O(),un.deltaTime=un.timeStamp-$i.timeStamp,un.angle=Ke(go,ko),un.distance=Qt(go,ko),function ft(Yt,un){var Xn=un.center,Rr=Yt.offsetDelta||{},ci=Yt.prevDelta||{},$i=Yt.prevInput||{};(un.eventType===Ye||$i.eventType===Ot)&&(ci=Yt.prevDelta={x:$i.deltaX||0,y:$i.deltaY||0},Rr=Yt.offsetDelta={x:Xn.x,y:Xn.y}),un.deltaX=ci.x+(Xn.x-Rr.x),un.deltaY=ci.y+(Xn.y-Rr.y)}(Xn,un),un.offsetDirection=At(un.deltaX,un.deltaY);var Yo=dt(un.deltaTime,un.deltaX,un.deltaY);un.overallVelocityX=Yo.x,un.overallVelocityY=Yo.y,un.overallVelocity=U(Yo.x)>U(Yo.y)?Yo.x:Yo.y,un.scale=Ao?function Tt(Yt,un){return Qt(un[0],un[1],H)/Qt(Yt[0],Yt[1],H)}(Ao.pointers,Rr):1,un.rotation=Ao?function pt(Yt,un){return Ke(un[1],un[0],H)+Ke(Yt[1],Yt[0],H)}(Ao.pointers,Rr):0,un.maxPointers=Xn.prevInput?un.pointers.length>Xn.prevInput.maxPointers?un.pointers.length:Xn.prevInput.maxPointers:un.pointers.length,function It(Yt,un){var ci,$i,Ao,go,Xn=Yt.lastInterval||un,Rr=un.timeStamp-Xn.timeStamp;if(un.eventType!=ye&&(Rr>Bt||Xn.velocity===E)){var ko=un.deltaX-Xn.deltaX,Yo=un.deltaY-Xn.deltaY,Po=dt(Rr,ko,Yo);$i=Po.x,Ao=Po.y,ci=U(Po.x)>U(Po.y)?Po.x:Po.y,go=At(ko,Yo),Yt.lastInterval=un}else ci=Xn.velocity,$i=Xn.velocityX,Ao=Xn.velocityY,go=Xn.direction;un.velocity=ci,un.velocityX=$i,un.velocityY=Ao,un.direction=go}(Xn,un);var Po=Yt.element;Q(un.srcEvent.target,Po)&&(Po=un.srcEvent.target),un.target=Po}(Yt,Xn),Yt.emit("hammer.input",Xn),Yt.recognize(Xn),Yt.session.prevInput=Xn}function Ge(Yt){for(var un=[],Xn=0;Xn<Yt.pointers.length;)un[Xn]={clientX:S(Yt.pointers[Xn].clientX),clientY:S(Yt.pointers[Xn].clientY)},Xn++;return{timeStamp:O(),pointers:un,center:Ct(un),deltaX:Yt.deltaX,deltaY:Yt.deltaY}}function Ct(Yt){var un=Yt.length;if(1===un)return{x:S(Yt[0].clientX),y:S(Yt[0].clientY)};for(var Xn=0,Rr=0,ci=0;ci<un;)Xn+=Yt[ci].clientX,Rr+=Yt[ci].clientY,ci++;return{x:S(Xn/un),y:S(Rr/un)}}function dt(Yt,un,Xn){return{x:un/Yt||0,y:Xn/Yt||0}}function At(Yt,un){return Yt===un?P:U(Yt)>=U(un)?Yt<0?B:R:un<0?N:Y}function Qt(Yt,un,Xn){Xn||(Xn=z);var Rr=un[Xn[0]]-Yt[Xn[0]],ci=un[Xn[1]]-Yt[Xn[1]];return Math.sqrt(Rr*Rr+ci*ci)}function Ke(Yt,un,Xn){return Xn||(Xn=z),180*Math.atan2(un[Xn[1]]-Yt[Xn[1]],un[Xn[0]]-Yt[Xn[0]])/Math.PI}X.prototype={handler:function(){},init:function(){this.evEl&&$(this.element,this.evEl,this.domHandler),this.evTarget&&$(this.target,this.evTarget,this.domHandler),this.evWin&&$(ve(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(ve(this.element),this.evWin,this.domHandler)}};var $e={mousedown:Ye,mousemove:2,mouseup:Ot},Lt="mousedown",Xt="mousemove mouseup";function gn(){this.evEl=Lt,this.evWin=Xt,this.pressed=!1,X.apply(this,arguments)}ae(gn,X,{handler:function(un){var Xn=$e[un.type];Xn&Ye&&0===un.button&&(this.pressed=!0),2&Xn&&1!==un.which&&(Xn=Ot),this.pressed&&(Xn&Ot&&(this.pressed=!1),this.callback(this.manager,Xn,{pointers:[un],changedPointers:[un],pointerType:Ht,srcEvent:un}))}});var Ln={pointerdown:Ye,pointermove:2,pointerup:Ot,pointercancel:ye,pointerout:ye},$n={2:ke,3:"pen",4:Ht,5:"kinect"},gr="pointerdown",sn="pointermove pointerup pointercancel";function St(){this.evEl=gr,this.evWin=sn,X.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}x.MSPointerEvent&&!x.PointerEvent&&(gr="MSPointerDown",sn="MSPointerMove MSPointerUp MSPointerCancel"),ae(St,X,{handler:function(un){var Xn=this.store,Rr=!1,ci=un.type.toLowerCase().replace("ms",""),$i=Ln[ci],Ao=$n[un.pointerType]||un.pointerType,go=Ao==ke,ko=Se(Xn,un.pointerId,"pointerId");$i&Ye&&(0===un.button||go)?ko<0&&(Xn.push(un),ko=Xn.length-1):$i&(Ot|ye)&&(Rr=!0),!(ko<0)&&(Xn[ko]=un,this.callback(this.manager,$i,{pointers:Xn,changedPointers:[un],pointerType:Ao,srcEvent:un}),Rr&&Xn.splice(ko,1))}});var Fe={touchstart:Ye,touchmove:2,touchend:Ot,touchcancel:ye};function me(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,X.apply(this,arguments)}function it(Yt,un){var Xn=Qe(Yt.touches),Rr=Qe(Yt.changedTouches);return un&(Ot|ye)&&(Xn=nt(Xn.concat(Rr),"identifier",!0)),[Xn,Rr]}ae(me,X,{handler:function(un){var Xn=Fe[un.type];if(Xn===Ye&&(this.started=!0),this.started){var Rr=it.call(this,un,Xn);Xn&(Ot|ye)&&Rr[0].length-Rr[1].length==0&&(this.started=!1),this.callback(this.manager,Xn,{pointers:Rr[0],changedPointers:Rr[1],pointerType:ke,srcEvent:un})}}});var Me={touchstart:Ye,touchmove:2,touchend:Ot,touchcancel:ye},We="touchstart touchmove touchend touchcancel";function Gt(){this.evTarget=We,this.targetIds={},X.apply(this,arguments)}function Kt(Yt,un){var Xn=Qe(Yt.touches),Rr=this.targetIds;if(un&(2|Ye)&&1===Xn.length)return Rr[Xn[0].identifier]=!0,[Xn,Xn];var ci,$i,Ao=Qe(Yt.changedTouches),go=[],ko=this.target;if($i=Xn.filter(function(Yo){return Q(Yo.target,ko)}),un===Ye)for(ci=0;ci<$i.length;)Rr[$i[ci].identifier]=!0,ci++;for(ci=0;ci<Ao.length;)Rr[Ao[ci].identifier]&&go.push(Ao[ci]),un&(Ot|ye)&&delete Rr[Ao[ci].identifier],ci++;return go.length?[nt($i.concat(go),"identifier",!0),go]:void 0}ae(Gt,X,{handler:function(un){var Xn=Me[un.type],Rr=Kt.call(this,un,Xn);Rr&&this.callback(this.manager,Xn,{pointers:Rr[0],changedPointers:Rr[1],pointerType:ke,srcEvent:un})}});var On=2500;function Cn(){X.apply(this,arguments);var Yt=le(this.handler,this);this.touch=new Gt(this.manager,Yt),this.mouse=new gn(this.manager,Yt),this.primaryTouch=null,this.lastTouches=[]}function tr(Yt,un){Yt&Ye?(this.primaryTouch=un.changedPointers[0].identifier,Er.call(this,un)):Yt&(Ot|ye)&&Er.call(this,un)}function Er(Yt){var un=Yt.changedPointers[0];if(un.identifier===this.primaryTouch){var Xn={x:un.clientX,y:un.clientY};this.lastTouches.push(Xn);var Rr=this.lastTouches;setTimeout(function(){var $i=Rr.indexOf(Xn);$i>-1&&Rr.splice($i,1)},On)}}function _r(Yt){for(var un=Yt.srcEvent.clientX,Xn=Yt.srcEvent.clientY,Rr=0;Rr<this.lastTouches.length;Rr++){var ci=this.lastTouches[Rr],$i=Math.abs(un-ci.x),Ao=Math.abs(Xn-ci.y);if($i<=25&&Ao<=25)return!0}return!1}ae(Cn,X,{handler:function(un,Xn,Rr){var $i=Rr.pointerType==Ht;if(!($i&&Rr.sourceCapabilities&&Rr.sourceCapabilities.firesTouchEvents)){if(Rr.pointerType==ke)tr.call(this,Xn,Rr);else if($i&&_r.call(this,Rr))return;this.callback(un,Xn,Rr)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var sr=De(u.style,"touchAction"),_n=sr!==E,_i="compute",so="manipulation",Cr="none",ii="pan-x",Or="pan-y",fi=function Vi(){if(!_n)return!1;var Yt={},un=x.CSS&&x.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Xn){Yt[Xn]=!un||x.CSS.supports("touch-action",Xn)}),Yt}();function Yi(Yt,un){this.manager=Yt,this.set(un)}Yi.prototype={set:function(Yt){Yt==_i&&(Yt=this.compute()),_n&&this.manager.element.style&&fi[Yt]&&(this.manager.element.style[sr]=Yt),this.actions=Yt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Yt=[];return D(this.manager.recognizers,function(un){fe(un.options.enable,[un])&&(Yt=Yt.concat(un.getTouchAction()))}),function ho(Yt){if(ee(Yt,Cr))return Cr;var un=ee(Yt,ii),Xn=ee(Yt,Or);return un&&Xn?Cr:un||Xn?un?ii:Or:ee(Yt,so)?so:"auto"}(Yt.join(" "))},preventDefaults:function(Yt){var un=Yt.srcEvent,Xn=Yt.offsetDirection;if(!this.manager.session.prevented){var Rr=this.actions,ci=ee(Rr,Cr)&&!fi[Cr],$i=ee(Rr,Or)&&!fi[Or],Ao=ee(Rr,ii)&&!fi[ii];if(ci&&1===Yt.pointers.length&&Yt.distance<2&&Yt.deltaTime<250)return;return Ao&&$i||!(ci||$i&&Xn&h||Ao&&Xn&M)?void 0:this.preventSrc(un)}un.preventDefault()},preventSrc:function(Yt){this.manager.session.prevented=!0,Yt.preventDefault()}};var Qi=1;function Un(Yt){this.options=K({},this.defaults,Yt||{}),this.id=function Ft(){return ut++}(),this.manager=null,this.options.enable=q(this.options.enable,!0),this.state=Qi,this.simultaneous={},this.requireFail=[]}function qn(Yt){return 16&Yt?"cancel":8&Yt?"end":4&Yt?"move":2&Yt?"start":""}function Gr(Yt){return Yt==Y?"down":Yt==N?"up":Yt==B?"left":Yt==R?"right":""}function Ai(Yt,un){var Xn=un.manager;return Xn?Xn.get(Yt):Yt}function Mi(){Un.apply(this,arguments)}function pi(){Mi.apply(this,arguments),this.pX=null,this.pY=null}function di(){Mi.apply(this,arguments)}function Zt(){Un.apply(this,arguments),this._timer=null,this._input=null}function Tn(){Mi.apply(this,arguments)}function Hn(){Mi.apply(this,arguments)}function hr(){Un.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Dr(Yt,un){return(un=un||{}).recognizers=q(un.recognizers,Dr.defaults.preset),new hi(Yt,un)}function hi(Yt,un){this.options=K({},Dr.defaults,un||{}),this.options.inputTarget=this.options.inputTarget||Yt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Yt,this.input=function oe(Yt){return new(Yt.options.inputClass||(ge?St:Pe?Gt:V?Cn:gn))(Yt,He)}(this),this.touchAction=new Yi(this,this.options.touchAction),po(this,!0),D(this.options.recognizers,function(Xn){var Rr=this.add(new Xn[0](Xn[1]));Xn[2]&&Rr.recognizeWith(Xn[2]),Xn[3]&&Rr.requireFailure(Xn[3])},this)}function po(Yt,un){var Rr,Xn=Yt.element;Xn.style&&(D(Yt.options.cssProps,function(ci,$i){Rr=De(Xn.style,$i),un?(Yt.oldCssProps[Rr]=Xn.style[Rr],Xn.style[Rr]=ci):Xn.style[Rr]=Yt.oldCssProps[Rr]||""}),un||(Yt.oldCssProps={}))}Un.prototype={defaults:{},set:function(Yt){return K(this.options,Yt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Yt){if(_(Yt,"recognizeWith",this))return this;var un=this.simultaneous;return un[(Yt=Ai(Yt,this)).id]||(un[Yt.id]=Yt,Yt.recognizeWith(this)),this},dropRecognizeWith:function(Yt){return _(Yt,"dropRecognizeWith",this)||(Yt=Ai(Yt,this),delete this.simultaneous[Yt.id]),this},requireFailure:function(Yt){if(_(Yt,"requireFailure",this))return this;var un=this.requireFail;return-1===Se(un,Yt=Ai(Yt,this))&&(un.push(Yt),Yt.requireFailure(this)),this},dropRequireFailure:function(Yt){if(_(Yt,"dropRequireFailure",this))return this;Yt=Ai(Yt,this);var un=Se(this.requireFail,Yt);return un>-1&&this.requireFail.splice(un,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Yt){return!!this.simultaneous[Yt.id]},emit:function(Yt){var un=this,Xn=this.state;function Rr(ci){un.manager.emit(ci,Yt)}Xn<8&&Rr(un.options.event+qn(Xn)),Rr(un.options.event),Yt.additionalEvent&&Rr(Yt.additionalEvent),Xn>=8&&Rr(un.options.event+qn(Xn))},tryEmit:function(Yt){if(this.canEmit())return this.emit(Yt);this.state=32},canEmit:function(){for(var Yt=0;Yt<this.requireFail.length;){if(!(this.requireFail[Yt].state&(32|Qi)))return!1;Yt++}return!0},recognize:function(Yt){var un=K({},Yt);if(!fe(this.options.enable,[this,un]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Qi),this.state=this.process(un),30&this.state&&this.tryEmit(un)},process:function(Yt){},getTouchAction:function(){},reset:function(){}},ae(Mi,Un,{defaults:{pointers:1},attrTest:function(Yt){var un=this.options.pointers;return 0===un||Yt.pointers.length===un},process:function(Yt){var un=this.state,Xn=Yt.eventType,Rr=6&un,ci=this.attrTest(Yt);return Rr&&(Xn&ye||!ci)?16|un:Rr||ci?Xn&Ot?8|un:2&un?4|un:2:32}}),ae(pi,Mi,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var Yt=this.options.direction,un=[];return Yt&h&&un.push(Or),Yt&M&&un.push(ii),un},directionTest:function(Yt){var un=this.options,Xn=!0,Rr=Yt.distance,ci=Yt.direction,$i=Yt.deltaX,Ao=Yt.deltaY;return ci&un.direction||(un.direction&h?(ci=0===$i?P:$i<0?B:R,Xn=$i!=this.pX,Rr=Math.abs(Yt.deltaX)):(ci=0===Ao?P:Ao<0?N:Y,Xn=Ao!=this.pY,Rr=Math.abs(Yt.deltaY))),Yt.direction=ci,Xn&&Rr>un.threshold&&ci&un.direction},attrTest:function(Yt){return Mi.prototype.attrTest.call(this,Yt)&&(2&this.state||!(2&this.state)&&this.directionTest(Yt))},emit:function(Yt){this.pX=Yt.deltaX,this.pY=Yt.deltaY;var un=Gr(Yt.direction);un&&(Yt.additionalEvent=this.options.event+un),this._super.emit.call(this,Yt)}}),ae(di,Mi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Cr]},attrTest:function(Yt){return this._super.attrTest.call(this,Yt)&&(Math.abs(Yt.scale-1)>this.options.threshold||2&this.state)},emit:function(Yt){1!==Yt.scale&&(Yt.additionalEvent=this.options.event+(Yt.scale<1?"in":"out")),this._super.emit.call(this,Yt)}}),ae(Zt,Un,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Yt){var un=this.options,Xn=Yt.pointers.length===un.pointers,Rr=Yt.distance<un.threshold,ci=Yt.deltaTime>un.time;if(this._input=Yt,!Rr||!Xn||Yt.eventType&(Ot|ye)&&!ci)this.reset();else if(Yt.eventType&Ye)this.reset(),this._timer=y(function(){this.state=8,this.tryEmit()},un.time,this);else if(Yt.eventType&Ot)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Yt){8===this.state&&(Yt&&Yt.eventType&Ot?this.manager.emit(this.options.event+"up",Yt):(this._input.timeStamp=O(),this.manager.emit(this.options.event,this._input)))}}),ae(Tn,Mi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Cr]},attrTest:function(Yt){return this._super.attrTest.call(this,Yt)&&(Math.abs(Yt.rotation)>this.options.threshold||2&this.state)}}),ae(Hn,Mi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:h|M,pointers:1},getTouchAction:function(){return pi.prototype.getTouchAction.call(this)},attrTest:function(Yt){var Xn,un=this.options.direction;return un&(h|M)?Xn=Yt.overallVelocity:un&h?Xn=Yt.overallVelocityX:un&M&&(Xn=Yt.overallVelocityY),this._super.attrTest.call(this,Yt)&&un&Yt.offsetDirection&&Yt.distance>this.options.threshold&&Yt.maxPointers==this.options.pointers&&U(Xn)>this.options.velocity&&Yt.eventType&Ot},emit:function(Yt){var un=Gr(Yt.offsetDirection);un&&this.manager.emit(this.options.event+un,Yt),this.manager.emit(this.options.event,Yt)}}),ae(hr,Un,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[so]},process:function(Yt){var un=this.options,Xn=Yt.pointers.length===un.pointers,Rr=Yt.distance<un.threshold,ci=Yt.deltaTime<un.time;if(this.reset(),Yt.eventType&Ye&&0===this.count)return this.failTimeout();if(Rr&&ci&&Xn){if(Yt.eventType!=Ot)return this.failTimeout();var $i=!this.pTime||Yt.timeStamp-this.pTime<un.interval,Ao=!this.pCenter||Qt(this.pCenter,Yt.center)<un.posThreshold;if(this.pTime=Yt.timeStamp,this.pCenter=Yt.center,Ao&&$i?this.count+=1:this.count=1,this._input=Yt,0==this.count%un.taps)return this.hasRequireFailures()?(this._timer=y(function(){this.state=8,this.tryEmit()},un.interval,this),2):8}return 32},failTimeout:function(){return this._timer=y(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Dr.VERSION="2.0.7",Dr.defaults={domEvents:!1,touchAction:_i,enable:!0,inputTarget:null,inputClass:null,preset:[[Tn,{enable:!1}],[di,{enable:!1},["rotate"]],[Hn,{direction:h}],[pi,{direction:h},["swipe"]],[hr],[hr,{event:"doubletap",taps:2},["tap"]],[Zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hi.prototype={set:function(Yt){return K(this.options,Yt),Yt.touchAction&&this.touchAction.update(),Yt.inputTarget&&(this.input.destroy(),this.input.target=Yt.inputTarget,this.input.init()),this},stop:function(Yt){this.session.stopped=Yt?2:1},recognize:function(Yt){var un=this.session;if(!un.stopped){this.touchAction.preventDefaults(Yt);var Xn,Rr=this.recognizers,ci=un.curRecognizer;(!ci||ci&&8&ci.state)&&(ci=un.curRecognizer=null);for(var $i=0;$i<Rr.length;)Xn=Rr[$i],2===un.stopped||ci&&Xn!=ci&&!Xn.canRecognizeWith(ci)?Xn.reset():Xn.recognize(Yt),!ci&&14&Xn.state&&(ci=un.curRecognizer=Xn),$i++}},get:function(Yt){if(Yt instanceof Un)return Yt;for(var un=this.recognizers,Xn=0;Xn<un.length;Xn++)if(un[Xn].options.event==Yt)return un[Xn];return null},add:function(Yt){if(_(Yt,"add",this))return this;var un=this.get(Yt.options.event);return un&&this.remove(un),this.recognizers.push(Yt),Yt.manager=this,this.touchAction.update(),Yt},remove:function(Yt){if(_(Yt,"remove",this))return this;if(Yt=this.get(Yt)){var un=this.recognizers,Xn=Se(un,Yt);-1!==Xn&&(un.splice(Xn,1),this.touchAction.update())}return this},on:function(Yt,un){if(Yt!==E&&un!==E){var Xn=this.handlers;return D(be(Yt),function(Rr){Xn[Rr]=Xn[Rr]||[],Xn[Rr].push(un)}),this}},off:function(Yt,un){if(Yt!==E){var Xn=this.handlers;return D(be(Yt),function(Rr){un?Xn[Rr]&&Xn[Rr].splice(Se(Xn[Rr],un),1):delete Xn[Rr]}),this}},emit:function(Yt,un){this.options.domEvents&&function Ro(Yt,un){var Xn=f.createEvent("Event");Xn.initEvent(Yt,!0,!0),Xn.gesture=un,un.target.dispatchEvent(Xn)}(Yt,un);var Xn=this.handlers[Yt]&&this.handlers[Yt].slice();if(Xn&&Xn.length){un.type=Yt,un.preventDefault=function(){un.srcEvent.preventDefault()};for(var Rr=0;Rr<Xn.length;)Xn[Rr](un),Rr++}},destroy:function(){this.element&&po(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},K(Dr,{INPUT_START:Ye,INPUT_MOVE:2,INPUT_END:Ot,INPUT_CANCEL:ye,STATE_POSSIBLE:Qi,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:P,DIRECTION_LEFT:B,DIRECTION_RIGHT:R,DIRECTION_UP:N,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:h,DIRECTION_VERTICAL:M,DIRECTION_ALL:Z,Manager:hi,Input:X,TouchAction:Yi,TouchInput:Gt,MouseInput:gn,PointerEventInput:St,TouchMouseInput:Cn,SingleTouchInput:me,Recognizer:Un,AttrRecognizer:Mi,Tap:hr,Pan:pi,Swipe:Hn,Pinch:di,Rotate:Tn,Press:Zt,on:$,off:j,each:D,merge:ie,extend:L,assign:K,inherit:ae,bindFn:le,prefixed:De}),(typeof x<"u"?x:typeof self<"u"?self:{}).Hammer=Dr,(r=function(){return Dr}.call(ot,w,ot,en))!==E&&(en.exports=r)}(window,document)},401:(en,ot,w)=>{"use strict";var r=w(2182),x=function(){return!!r};x.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch{return!0}},en.exports=x},8003:en=>{"use strict";var ot={__proto__:null,foo:{}},w=Object;en.exports=function(){return{__proto__:ot}.foo===ot.foo&&!(ot instanceof w)}},7528:(en,ot,w)=>{"use strict";var r=typeof Symbol<"u"&&Symbol,x=w(3757);en.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&x()}},3757:en=>{"use strict";en.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var w={},r=Symbol("test"),x=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(x))return!1;for(r in w[r]=42,w)return!1;if("function"==typeof Object.keys&&0!==Object.keys(w).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(w).length)return!1;var b=Object.getOwnPropertySymbols(w);if(1!==b.length||b[0]!==r||!Object.prototype.propertyIsEnumerable.call(w,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var E=Object.getOwnPropertyDescriptor(w,r);if(42!==E.value||!0!==E.enumerable)return!1}return!0}},8252:(en,ot,w)=>{"use strict";var r=Function.prototype.call,x=Object.prototype.hasOwnProperty,f=w(2988);en.exports=f.call(r,x)},7953:(en,ot)=>{var r;!function(){"use strict";var x=function(){this.init()};x.prototype={init:function(){var y=this||f;return y._counter=1e3,y._html5AudioPool=[],y.html5PoolSize=10,y._codecs={},y._howls=[],y._muted=!1,y._volume=1,y._canPlayEvent="canplaythrough",y._navigator=typeof window<"u"&&window.navigator?window.navigator:null,y.masterGain=null,y.noAudio=!1,y.usingWebAudio=!0,y.autoSuspend=!0,y.ctx=null,y.autoUnlock=!0,y._setup(),y},volume:function(y){var _=this||f;if(y=parseFloat(y),_.ctx||O(),typeof y<"u"&&y>=0&&y<=1){if(_._volume=y,_._muted)return _;_.usingWebAudio&&_.masterGain.gain.setValueAtTime(y,f.ctx.currentTime);for(var D=0;D<_._howls.length;D++)if(!_._howls[D]._webAudio)for(var W=_._howls[D]._getSoundIds(),K=0;K<W.length;K++){var L=_._howls[D]._soundById(W[K]);L&&L._node&&(L._node.volume=L._volume*y)}return _}return _._volume},mute:function(y){var _=this||f;_.ctx||O(),_._muted=y,_.usingWebAudio&&_.masterGain.gain.setValueAtTime(y?0:_._volume,f.ctx.currentTime);for(var D=0;D<_._howls.length;D++)if(!_._howls[D]._webAudio)for(var W=_._howls[D]._getSoundIds(),K=0;K<W.length;K++){var L=_._howls[D]._soundById(W[K]);L&&L._node&&(L._node.muted=!!y||L._muted)}return _},stop:function(){for(var y=this||f,_=0;_<y._howls.length;_++)y._howls[_].stop();return y},unload:function(){for(var y=this||f,_=y._howls.length-1;_>=0;_--)y._howls[_].unload();return y.usingWebAudio&&y.ctx&&typeof y.ctx.close<"u"&&(y.ctx.close(),y.ctx=null,O()),y},codecs:function(y){return(this||f)._codecs[y.replace(/^x-/,"")]},_setup:function(){var y=this||f;if(y.state=y.ctx&&y.ctx.state||"suspended",y._autoSuspend(),!y.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(y._canPlayEvent="canplay")}catch{y.noAudio=!0}else y.noAudio=!0;try{(new Audio).muted&&(y.noAudio=!0)}catch{}return y.noAudio||y._setupCodecs(),y},_setupCodecs:function(){var y=this||f,_=null;try{_=typeof Audio<"u"?new Audio:null}catch{return y}if(!_||"function"!=typeof _.canPlayType)return y;var D=_.canPlayType("audio/mpeg;").replace(/^no$/,""),W=y._navigator?y._navigator.userAgent:"",K=W.match(/OPR\/(\d+)/g),L=K&&parseInt(K[0].split("/")[1],10)<33,ie=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome"),ae=W.match(/Version\/(.*?) /),le=ie&&ae&&parseInt(ae[1],10)<15;return y._codecs={mp3:!(L||!D&&!_.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!D,opus:!!_.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(_.canPlayType('audio/wav; codecs="1"')||_.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!_.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!_.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(_.canPlayType("audio/x-m4a;")||_.canPlayType("audio/m4a;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(_.canPlayType("audio/x-m4b;")||_.canPlayType("audio/m4b;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(_.canPlayType("audio/x-mp4;")||_.canPlayType("audio/mp4;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(le||!_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(le||!_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!_.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(_.canPlayType("audio/x-flac;")||_.canPlayType("audio/flac;")).replace(/^no$/,"")},y},_unlockAudio:function(){var y=this||f;if(!y._audioUnlocked&&y.ctx){y._audioUnlocked=!1,y.autoUnlock=!1,!y._mobileUnloaded&&44100!==y.ctx.sampleRate&&(y._mobileUnloaded=!0,y.unload()),y._scratchBuffer=y.ctx.createBuffer(1,1,22050);var _=function(D){for(;y._html5AudioPool.length<y.html5PoolSize;)try{var W=new Audio;W._unlocked=!0,y._releaseHtml5Audio(W)}catch{y.noAudio=!0;break}for(var K=0;K<y._howls.length;K++)if(!y._howls[K]._webAudio)for(var L=y._howls[K]._getSoundIds(),ie=0;ie<L.length;ie++){var ae=y._howls[K]._soundById(L[ie]);ae&&ae._node&&!ae._node._unlocked&&(ae._node._unlocked=!0,ae._node.load())}y._autoResume();var le=y.ctx.createBufferSource();le.buffer=y._scratchBuffer,le.connect(y.ctx.destination),typeof le.start>"u"?le.noteOn(0):le.start(0),"function"==typeof y.ctx.resume&&y.ctx.resume(),le.onended=function(){le.disconnect(0),y._audioUnlocked=!0,document.removeEventListener("touchstart",_,!0),document.removeEventListener("touchend",_,!0),document.removeEventListener("click",_,!0),document.removeEventListener("keydown",_,!0);for(var fe=0;fe<y._howls.length;fe++)y._howls[fe]._emit("unlock")}};return document.addEventListener("touchstart",_,!0),document.addEventListener("touchend",_,!0),document.addEventListener("click",_,!0),document.addEventListener("keydown",_,!0),y}},_obtainHtml5Audio:function(){var y=this||f;if(y._html5AudioPool.length)return y._html5AudioPool.pop();var _=(new Audio).play();return _&&typeof Promise<"u"&&(_ instanceof Promise||"function"==typeof _.then)&&_.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(y){var _=this||f;return y._unlocked&&_._html5AudioPool.push(y),_},_autoSuspend:function(){var y=this;if(y.autoSuspend&&y.ctx&&!(typeof y.ctx.suspend>"u")&&f.usingWebAudio){for(var _=0;_<y._howls.length;_++)if(y._howls[_]._webAudio)for(var D=0;D<y._howls[_]._sounds.length;D++)if(!y._howls[_]._sounds[D]._paused)return y;return y._suspendTimer&&clearTimeout(y._suspendTimer),y._suspendTimer=setTimeout(function(){if(y.autoSuspend){y._suspendTimer=null,y.state="suspending";var W=function(){y.state="suspended",y._resumeAfterSuspend&&(delete y._resumeAfterSuspend,y._autoResume())};y.ctx.suspend().then(W,W)}},3e4),y}},_autoResume:function(){var y=this;if(y.ctx&&!(typeof y.ctx.resume>"u")&&f.usingWebAudio)return"running"===y.state&&"interrupted"!==y.ctx.state&&y._suspendTimer?(clearTimeout(y._suspendTimer),y._suspendTimer=null):"suspended"===y.state||"running"===y.state&&"interrupted"===y.ctx.state?(y.ctx.resume().then(function(){y.state="running";for(var _=0;_<y._howls.length;_++)y._howls[_]._emit("resume")}),y._suspendTimer&&(clearTimeout(y._suspendTimer),y._suspendTimer=null)):"suspending"===y.state&&(y._resumeAfterSuspend=!0),y}};var f=new x,b=function(y){y.src&&0!==y.src.length?this.init(y):console.error("An array of source files must be passed with any new Howl.")};b.prototype={init:function(y){var _=this;return f.ctx||O(),_._autoplay=y.autoplay||!1,_._format="string"!=typeof y.format?y.format:[y.format],_._html5=y.html5||!1,_._muted=y.mute||!1,_._loop=y.loop||!1,_._pool=y.pool||5,_._preload="boolean"!=typeof y.preload&&"metadata"!==y.preload||y.preload,_._rate=y.rate||1,_._sprite=y.sprite||{},_._src="string"!=typeof y.src?y.src:[y.src],_._volume=void 0!==y.volume?y.volume:1,_._xhr={method:y.xhr&&y.xhr.method?y.xhr.method:"GET",headers:y.xhr&&y.xhr.headers?y.xhr.headers:null,withCredentials:!(!y.xhr||!y.xhr.withCredentials)&&y.xhr.withCredentials},_._duration=0,_._state="unloaded",_._sounds=[],_._endTimers={},_._queue=[],_._playLock=!1,_._onend=y.onend?[{fn:y.onend}]:[],_._onfade=y.onfade?[{fn:y.onfade}]:[],_._onload=y.onload?[{fn:y.onload}]:[],_._onloaderror=y.onloaderror?[{fn:y.onloaderror}]:[],_._onplayerror=y.onplayerror?[{fn:y.onplayerror}]:[],_._onpause=y.onpause?[{fn:y.onpause}]:[],_._onplay=y.onplay?[{fn:y.onplay}]:[],_._onstop=y.onstop?[{fn:y.onstop}]:[],_._onmute=y.onmute?[{fn:y.onmute}]:[],_._onvolume=y.onvolume?[{fn:y.onvolume}]:[],_._onrate=y.onrate?[{fn:y.onrate}]:[],_._onseek=y.onseek?[{fn:y.onseek}]:[],_._onunlock=y.onunlock?[{fn:y.onunlock}]:[],_._onresume=[],_._webAudio=f.usingWebAudio&&!_._html5,typeof f.ctx<"u"&&f.ctx&&f.autoUnlock&&f._unlockAudio(),f._howls.push(_),_._autoplay&&_._queue.push({event:"play",action:function(){_.play()}}),_._preload&&"none"!==_._preload&&_.load(),_},load:function(){var y=this,_=null;if(f.noAudio)y._emit("loaderror",null,"No audio support.");else{"string"==typeof y._src&&(y._src=[y._src]);for(var D=0;D<y._src.length;D++){var W,K;if(y._format&&y._format[D])W=y._format[D];else{if("string"!=typeof(K=y._src[D])){y._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(W=/^data:audio\/([^;,]+);/i.exec(K))||(W=/\.([^.]+)$/.exec(K.split("?",1)[0])),W&&(W=W[1].toLowerCase())}if(W||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),W&&f.codecs(W)){_=y._src[D];break}}if(_)return y._src=_,y._state="loading","https:"===window.location.protocol&&"http:"===_.slice(0,5)&&(y._html5=!0,y._webAudio=!1),new E(y),y._webAudio&&u(y),y;y._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(y,_){var D=this,W=null;if("number"==typeof y)W=y,y=null;else{if("string"==typeof y&&"loaded"===D._state&&!D._sprite[y])return null;if(typeof y>"u"&&(y="__default",!D._playLock)){for(var K=0,L=0;L<D._sounds.length;L++)D._sounds[L]._paused&&!D._sounds[L]._ended&&(K++,W=D._sounds[L]._id);1===K?y=null:W=null}}var ie=W?D._soundById(W):D._inactiveSound();if(!ie)return null;if(W&&!y&&(y=ie._sprite||"__default"),"loaded"!==D._state){ie._sprite=y,ie._ended=!1;var ae=ie._id;return D._queue.push({event:"play",action:function(){D.play(ae)}}),ae}if(W&&!ie._paused)return _||D._loadQueue("play"),ie._id;D._webAudio&&f._autoResume();var le=Math.max(0,ie._seek>0?ie._seek:D._sprite[y][0]/1e3),fe=Math.max(0,(D._sprite[y][0]+D._sprite[y][1])/1e3-le),q=1e3*fe/Math.abs(ie._rate),$=D._sprite[y][0]/1e3,j=(D._sprite[y][0]+D._sprite[y][1])/1e3;ie._sprite=y,ie._ended=!1;var Q=function(){ie._paused=!1,ie._seek=le,ie._start=$,ie._stop=j,ie._loop=!(!ie._loop&&!D._sprite[y][2])};if(!(le>=j)){var ee=ie._node;if(D._webAudio){var be=function(){D._playLock=!1,Q(),D._refreshBuffer(ie),ee.gain.setValueAtTime(ie._muted||D._muted?0:ie._volume,f.ctx.currentTime),ie._playStart=f.ctx.currentTime,typeof ee.bufferSource.start>"u"?ee.bufferSource.noteGrainOn(0,le,ie._loop?86400:fe):ee.bufferSource.start(0,le,ie._loop?86400:fe),q!==1/0&&(D._endTimers[ie._id]=setTimeout(D._ended.bind(D,ie),q)),_||setTimeout(function(){D._emit("play",ie._id),D._loadQueue()},0)};"running"===f.state&&"interrupted"!==f.ctx.state?be():(D._playLock=!0,D.once("resume",be),D._clearTimer(ie._id))}else{var Se=function(){ee.currentTime=le,ee.muted=ie._muted||D._muted||f._muted||ee.muted,ee.volume=ie._volume*f.volume(),ee.playbackRate=ie._rate;try{var De=ee.play();if(De&&typeof Promise<"u"&&(De instanceof Promise||"function"==typeof De.then)?(D._playLock=!0,Q(),De.then(function(){D._playLock=!1,ee._unlocked=!0,_?D._loadQueue():D._emit("play",ie._id)}).catch(function(){D._playLock=!1,D._emit("playerror",ie._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),ie._ended=!0,ie._paused=!0})):_||(D._playLock=!1,Q(),D._emit("play",ie._id)),ee.playbackRate=ie._rate,ee.paused)return void D._emit("playerror",ie._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==y||ie._loop?D._endTimers[ie._id]=setTimeout(D._ended.bind(D,ie),q):(D._endTimers[ie._id]=function(){D._ended(ie),ee.removeEventListener("ended",D._endTimers[ie._id],!1)},ee.addEventListener("ended",D._endTimers[ie._id],!1))}catch(ut){D._emit("playerror",ie._id,ut)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===ee.src&&(ee.src=D._src,ee.load());var Qe=window&&window.ejecta||!ee.readyState&&f._navigator.isCocoonJS;if(ee.readyState>=3||Qe)Se();else{D._playLock=!0,D._state="loading";var nt=function(){D._state="loaded",Se(),ee.removeEventListener(f._canPlayEvent,nt,!1)};ee.addEventListener(f._canPlayEvent,nt,!1),D._clearTimer(ie._id)}}return ie._id}D._ended(ie)},pause:function(y){var _=this;if("loaded"!==_._state||_._playLock)return _._queue.push({event:"pause",action:function(){_.pause(y)}}),_;for(var D=_._getSoundIds(y),W=0;W<D.length;W++){_._clearTimer(D[W]);var K=_._soundById(D[W]);if(K&&!K._paused&&(K._seek=_.seek(D[W]),K._rateSeek=0,K._paused=!0,_._stopFade(D[W]),K._node))if(_._webAudio){if(!K._node.bufferSource)continue;typeof K._node.bufferSource.stop>"u"?K._node.bufferSource.noteOff(0):K._node.bufferSource.stop(0),_._cleanBuffer(K._node)}else(!isNaN(K._node.duration)||K._node.duration===1/0)&&K._node.pause();arguments[1]||_._emit("pause",K?K._id:null)}return _},stop:function(y,_){var D=this;if("loaded"!==D._state||D._playLock)return D._queue.push({event:"stop",action:function(){D.stop(y)}}),D;for(var W=D._getSoundIds(y),K=0;K<W.length;K++){D._clearTimer(W[K]);var L=D._soundById(W[K]);L&&(L._seek=L._start||0,L._rateSeek=0,L._paused=!0,L._ended=!0,D._stopFade(W[K]),L._node&&(D._webAudio?L._node.bufferSource&&(typeof L._node.bufferSource.stop>"u"?L._node.bufferSource.noteOff(0):L._node.bufferSource.stop(0),D._cleanBuffer(L._node)):(!isNaN(L._node.duration)||L._node.duration===1/0)&&(L._node.currentTime=L._start||0,L._node.pause(),L._node.duration===1/0&&D._clearSound(L._node))),_||D._emit("stop",L._id))}return D},mute:function(y,_){var D=this;if("loaded"!==D._state||D._playLock)return D._queue.push({event:"mute",action:function(){D.mute(y,_)}}),D;if(typeof _>"u"){if("boolean"!=typeof y)return D._muted;D._muted=y}for(var W=D._getSoundIds(_),K=0;K<W.length;K++){var L=D._soundById(W[K]);L&&(L._muted=y,L._interval&&D._stopFade(L._id),D._webAudio&&L._node?L._node.gain.setValueAtTime(y?0:L._volume,f.ctx.currentTime):L._node&&(L._node.muted=!!f._muted||y),D._emit("mute",L._id))}return D},volume:function(){var D,W,ie,y=this,_=arguments;if(0===_.length)return y._volume;if(1===_.length||2===_.length&&typeof _[1]>"u"?y._getSoundIds().indexOf(_[0])>=0?W=parseInt(_[0],10):D=parseFloat(_[0]):_.length>=2&&(D=parseFloat(_[0]),W=parseInt(_[1],10)),!(typeof D<"u"&&D>=0&&D<=1))return(ie=W?y._soundById(W):y._sounds[0])?ie._volume:0;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"volume",action:function(){y.volume.apply(y,_)}}),y;typeof W>"u"&&(y._volume=D),W=y._getSoundIds(W);for(var ae=0;ae<W.length;ae++)(ie=y._soundById(W[ae]))&&(ie._volume=D,_[2]||y._stopFade(W[ae]),y._webAudio&&ie._node&&!ie._muted?ie._node.gain.setValueAtTime(D,f.ctx.currentTime):ie._node&&!ie._muted&&(ie._node.volume=D*f.volume()),y._emit("volume",ie._id));return y},fade:function(y,_,D,W){var K=this;if("loaded"!==K._state||K._playLock)return K._queue.push({event:"fade",action:function(){K.fade(y,_,D,W)}}),K;y=Math.min(Math.max(0,parseFloat(y)),1),_=Math.min(Math.max(0,parseFloat(_)),1),D=parseFloat(D),K.volume(y,W);for(var L=K._getSoundIds(W),ie=0;ie<L.length;ie++){var ae=K._soundById(L[ie]);if(ae){if(W||K._stopFade(L[ie]),K._webAudio&&!ae._muted){var le=f.ctx.currentTime,fe=le+D/1e3;ae._volume=y,ae._node.gain.setValueAtTime(y,le),ae._node.gain.linearRampToValueAtTime(_,fe)}K._startFadeInterval(ae,y,_,D,L[ie],typeof W>"u")}}return K},_startFadeInterval:function(y,_,D,W,K,L){var ie=this,ae=_,le=D-_,fe=Math.abs(le/.01),q=Math.max(4,fe>0?W/fe:W),$=Date.now();y._fadeTo=D,y._interval=setInterval(function(){var j=(Date.now()-$)/W;$=Date.now(),ae+=le*j,ae=Math.round(100*ae)/100,ae=le<0?Math.max(D,ae):Math.min(D,ae),ie._webAudio?y._volume=ae:ie.volume(ae,y._id,!0),L&&(ie._volume=ae),(D<_&&ae<=D||D>_&&ae>=D)&&(clearInterval(y._interval),y._interval=null,y._fadeTo=null,ie.volume(D,y._id),ie._emit("fade",y._id))},q)},_stopFade:function(y){var _=this,D=_._soundById(y);return D&&D._interval&&(_._webAudio&&D._node.gain.cancelScheduledValues(f.ctx.currentTime),clearInterval(D._interval),D._interval=null,_.volume(D._fadeTo,y),D._fadeTo=null,_._emit("fade",y)),_},loop:function(){var D,W,K,y=this,_=arguments;if(0===_.length)return y._loop;if(1===_.length){if("boolean"!=typeof _[0])return!!(K=y._soundById(parseInt(_[0],10)))&&K._loop;y._loop=D=_[0]}else 2===_.length&&(D=_[0],W=parseInt(_[1],10));for(var L=y._getSoundIds(W),ie=0;ie<L.length;ie++)(K=y._soundById(L[ie]))&&(K._loop=D,y._webAudio&&K._node&&K._node.bufferSource&&(K._node.bufferSource.loop=D,D&&(K._node.bufferSource.loopStart=K._start||0,K._node.bufferSource.loopEnd=K._stop,y.playing(L[ie])&&(y.pause(L[ie],!0),y.play(L[ie],!0)))));return y},rate:function(){var D,W,ie,y=this,_=arguments;if(0===_.length?W=y._sounds[0]._id:1===_.length?y._getSoundIds().indexOf(_[0])>=0?W=parseInt(_[0],10):D=parseFloat(_[0]):2===_.length&&(D=parseFloat(_[0]),W=parseInt(_[1],10)),"number"!=typeof D)return(ie=y._soundById(W))?ie._rate:y._rate;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"rate",action:function(){y.rate.apply(y,_)}}),y;typeof W>"u"&&(y._rate=D),W=y._getSoundIds(W);for(var ae=0;ae<W.length;ae++)if(ie=y._soundById(W[ae])){y.playing(W[ae])&&(ie._rateSeek=y.seek(W[ae]),ie._playStart=y._webAudio?f.ctx.currentTime:ie._playStart),ie._rate=D,y._webAudio&&ie._node&&ie._node.bufferSource?ie._node.bufferSource.playbackRate.setValueAtTime(D,f.ctx.currentTime):ie._node&&(ie._node.playbackRate=D);var le=y.seek(W[ae]),q=1e3*((y._sprite[ie._sprite][0]+y._sprite[ie._sprite][1])/1e3-le)/Math.abs(ie._rate);(y._endTimers[W[ae]]||!ie._paused)&&(y._clearTimer(W[ae]),y._endTimers[W[ae]]=setTimeout(y._ended.bind(y,ie),q)),y._emit("rate",ie._id)}return y},seek:function(){var D,W,y=this,_=arguments;if(0===_.length?y._sounds.length&&(W=y._sounds[0]._id):1===_.length?y._getSoundIds().indexOf(_[0])>=0?W=parseInt(_[0],10):y._sounds.length&&(W=y._sounds[0]._id,D=parseFloat(_[0])):2===_.length&&(D=parseFloat(_[0]),W=parseInt(_[1],10)),typeof W>"u")return 0;if("number"==typeof D&&("loaded"!==y._state||y._playLock))return y._queue.push({event:"seek",action:function(){y.seek.apply(y,_)}}),y;var ie=y._soundById(W);if(ie){if(!("number"==typeof D&&D>=0)){if(y._webAudio){var q=y.playing(W)?f.ctx.currentTime-ie._playStart:0;return ie._seek+((ie._rateSeek?ie._rateSeek-ie._seek:0)+q*Math.abs(ie._rate))}return ie._node.currentTime}var ae=y.playing(W);ae&&y.pause(W,!0),ie._seek=D,ie._ended=!1,y._clearTimer(W),!y._webAudio&&ie._node&&!isNaN(ie._node.duration)&&(ie._node.currentTime=D);var le=function(){ae&&y.play(W,!0),y._emit("seek",W)};if(ae&&!y._webAudio){var fe=function(){y._playLock?setTimeout(fe,0):le()};setTimeout(fe,0)}else le()}return y},playing:function(y){var _=this;if("number"==typeof y){var D=_._soundById(y);return!!D&&!D._paused}for(var W=0;W<_._sounds.length;W++)if(!_._sounds[W]._paused)return!0;return!1},duration:function(y){var _=this,D=_._duration,W=_._soundById(y);return W&&(D=_._sprite[W._sprite][1]/1e3),D},state:function(){return this._state},unload:function(){for(var y=this,_=y._sounds,D=0;D<_.length;D++)_[D]._paused||y.stop(_[D]._id),y._webAudio||(y._clearSound(_[D]._node),_[D]._node.removeEventListener("error",_[D]._errorFn,!1),_[D]._node.removeEventListener(f._canPlayEvent,_[D]._loadFn,!1),_[D]._node.removeEventListener("ended",_[D]._endFn,!1),f._releaseHtml5Audio(_[D]._node)),delete _[D]._node,y._clearTimer(_[D]._id);var W=f._howls.indexOf(y);W>=0&&f._howls.splice(W,1);var K=!0;for(D=0;D<f._howls.length;D++)if(f._howls[D]._src===y._src||y._src.indexOf(f._howls[D]._src)>=0){K=!1;break}return C&&K&&delete C[y._src],f.noAudio=!1,y._state="unloaded",y._sounds=[],y=null,null},on:function(y,_,D,W){return"function"==typeof _&&this["_on"+y].push(W?{id:D,fn:_,once:W}:{id:D,fn:_}),this},off:function(y,_,D){var W=this,K=W["_on"+y],L=0;if("number"==typeof _&&(D=_,_=null),_||D)for(L=0;L<K.length;L++){var ie=D===K[L].id;if(_===K[L].fn&&ie||!_&&ie){K.splice(L,1);break}}else if(y)W["_on"+y]=[];else{var ae=Object.keys(W);for(L=0;L<ae.length;L++)0===ae[L].indexOf("_on")&&Array.isArray(W[ae[L]])&&(W[ae[L]]=[])}return W},once:function(y,_,D){return this.on(y,_,D,1),this},_emit:function(y,_,D){for(var W=this,K=W["_on"+y],L=K.length-1;L>=0;L--)(!K[L].id||K[L].id===_||"load"===y)&&(setTimeout(function(ie){ie.call(this,_,D)}.bind(W,K[L].fn),0),K[L].once&&W.off(y,K[L].fn,K[L].id));return W._loadQueue(y),W},_loadQueue:function(y){var _=this;if(_._queue.length>0){var D=_._queue[0];D.event===y&&(_._queue.shift(),_._loadQueue()),y||D.action()}return _},_ended:function(y){var _=this,D=y._sprite;if(!_._webAudio&&y._node&&!y._node.paused&&!y._node.ended&&y._node.currentTime<y._stop)return setTimeout(_._ended.bind(_,y),100),_;var W=!(!y._loop&&!_._sprite[D][2]);if(_._emit("end",y._id),!_._webAudio&&W&&_.stop(y._id,!0).play(y._id),_._webAudio&&W){_._emit("play",y._id),y._seek=y._start||0,y._rateSeek=0,y._playStart=f.ctx.currentTime;var K=1e3*(y._stop-y._start)/Math.abs(y._rate);_._endTimers[y._id]=setTimeout(_._ended.bind(_,y),K)}return _._webAudio&&!W&&(y._paused=!0,y._ended=!0,y._seek=y._start||0,y._rateSeek=0,_._clearTimer(y._id),_._cleanBuffer(y._node),f._autoSuspend()),!_._webAudio&&!W&&_.stop(y._id,!0),_},_clearTimer:function(y){var _=this;if(_._endTimers[y]){if("function"!=typeof _._endTimers[y])clearTimeout(_._endTimers[y]);else{var D=_._soundById(y);D&&D._node&&D._node.removeEventListener("ended",_._endTimers[y],!1)}delete _._endTimers[y]}return _},_soundById:function(y){for(var _=this,D=0;D<_._sounds.length;D++)if(y===_._sounds[D]._id)return _._sounds[D];return null},_inactiveSound:function(){var y=this;y._drain();for(var _=0;_<y._sounds.length;_++)if(y._sounds[_]._ended)return y._sounds[_].reset();return new E(y)},_drain:function(){var y=this,_=y._pool,D=0,W=0;if(!(y._sounds.length<_)){for(W=0;W<y._sounds.length;W++)y._sounds[W]._ended&&D++;for(W=y._sounds.length-1;W>=0;W--){if(D<=_)return;y._sounds[W]._ended&&(y._webAudio&&y._sounds[W]._node&&y._sounds[W]._node.disconnect(0),y._sounds.splice(W,1),D--)}}},_getSoundIds:function(y){if(typeof y>"u"){for(var D=[],W=0;W<this._sounds.length;W++)D.push(this._sounds[W]._id);return D}return[y]},_refreshBuffer:function(y){return y._node.bufferSource=f.ctx.createBufferSource(),y._node.bufferSource.buffer=C[this._src],y._node.bufferSource.connect(y._panner?y._panner:y._node),y._node.bufferSource.loop=y._loop,y._loop&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop||0),y._node.bufferSource.playbackRate.setValueAtTime(y._rate,f.ctx.currentTime),this},_cleanBuffer:function(y){var D=f._navigator&&f._navigator.vendor.indexOf("Apple")>=0;if(!y.bufferSource)return this;if(f._scratchBuffer&&y.bufferSource&&(y.bufferSource.onended=null,y.bufferSource.disconnect(0),D))try{y.bufferSource.buffer=f._scratchBuffer}catch{}return y.bufferSource=null,this},_clearSound:function(y){/MSIE |Trident\//.test(f._navigator&&f._navigator.userAgent)||(y.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var E=function(y){this._parent=y,this.init()};E.prototype={init:function(){var y=this,_=y._parent;return y._muted=_._muted,y._loop=_._loop,y._volume=_._volume,y._rate=_._rate,y._seek=0,y._paused=!0,y._ended=!0,y._sprite="__default",y._id=++f._counter,_._sounds.push(y),y.create(),y},create:function(){var y=this,_=y._parent,D=f._muted||y._muted||y._parent._muted?0:y._volume;return _._webAudio?(y._node=typeof f.ctx.createGain>"u"?f.ctx.createGainNode():f.ctx.createGain(),y._node.gain.setValueAtTime(D,f.ctx.currentTime),y._node.paused=!0,y._node.connect(f.masterGain)):f.noAudio||(y._node=f._obtainHtml5Audio(),y._errorFn=y._errorListener.bind(y),y._node.addEventListener("error",y._errorFn,!1),y._loadFn=y._loadListener.bind(y),y._node.addEventListener(f._canPlayEvent,y._loadFn,!1),y._endFn=y._endListener.bind(y),y._node.addEventListener("ended",y._endFn,!1),y._node.src=_._src,y._node.preload=!0===_._preload?"auto":_._preload,y._node.volume=D*f.volume(),y._node.load()),y},reset:function(){var y=this,_=y._parent;return y._muted=_._muted,y._loop=_._loop,y._volume=_._volume,y._rate=_._rate,y._seek=0,y._rateSeek=0,y._paused=!0,y._ended=!0,y._sprite="__default",y._id=++f._counter,y},_errorListener:function(){var y=this;y._parent._emit("loaderror",y._id,y._node.error?y._node.error.code:0),y._node.removeEventListener("error",y._errorFn,!1)},_loadListener:function(){var y=this,_=y._parent;_._duration=Math.ceil(10*y._node.duration)/10,0===Object.keys(_._sprite).length&&(_._sprite={__default:[0,1e3*_._duration]}),"loaded"!==_._state&&(_._state="loaded",_._emit("load"),_._loadQueue()),y._node.removeEventListener(f._canPlayEvent,y._loadFn,!1)},_endListener:function(){var y=this,_=y._parent;_._duration===1/0&&(_._duration=Math.ceil(10*y._node.duration)/10,_._sprite.__default[1]===1/0&&(_._sprite.__default[1]=1e3*_._duration),_._ended(y)),y._node.removeEventListener("ended",y._endFn,!1)}};var C={},u=function(y){var _=y._src;if(C[_])return y._duration=C[_].duration,void U(y);if(/^data:[^;]+;base64,/.test(_)){for(var D=atob(_.split(",")[1]),W=new Uint8Array(D.length),K=0;K<D.length;++K)W[K]=D.charCodeAt(K);S(W.buffer,y)}else{var L=new XMLHttpRequest;L.open(y._xhr.method,_,!0),L.withCredentials=y._xhr.withCredentials,L.responseType="arraybuffer",y._xhr.headers&&Object.keys(y._xhr.headers).forEach(function(ie){L.setRequestHeader(ie,y._xhr.headers[ie])}),L.onload=function(){var ie=(L.status+"")[0];"0"===ie||"2"===ie||"3"===ie?S(L.response,y):y._emit("loaderror",null,"Failed loading audio file with status: "+L.status+".")},L.onerror=function(){y._webAudio&&(y._html5=!0,y._webAudio=!1,y._sounds=[],delete C[_],y.load())},F(L)}},F=function(y){try{y.send()}catch{y.onerror()}},S=function(y,_){var D=function(){_._emit("loaderror",null,"Decoding audio data failed.")},W=function(K){K&&_._sounds.length>0?(C[_._src]=K,U(_,K)):D()};typeof Promise<"u"&&1===f.ctx.decodeAudioData.length?f.ctx.decodeAudioData(y).then(W).catch(D):f.ctx.decodeAudioData(y,W,D)},U=function(y,_){_&&!y._duration&&(y._duration=_.duration),0===Object.keys(y._sprite).length&&(y._sprite={__default:[0,1e3*y._duration]}),"loaded"!==y._state&&(y._state="loaded",y._emit("load"),y._loadQueue())},O=function(){if(f.usingWebAudio){try{typeof AudioContext<"u"?f.ctx=new AudioContext:typeof webkitAudioContext<"u"?f.ctx=new webkitAudioContext:f.usingWebAudio=!1}catch{f.usingWebAudio=!1}f.ctx||(f.usingWebAudio=!1);var y=/iP(hone|od|ad)/.test(f._navigator&&f._navigator.platform),_=f._navigator&&f._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),D=_?parseInt(_[1],10):null;if(y&&D&&D<9){var W=/safari/.test(f._navigator&&f._navigator.userAgent.toLowerCase());f._navigator&&!W&&(f.usingWebAudio=!1)}f.usingWebAudio&&(f.masterGain=typeof f.ctx.createGain>"u"?f.ctx.createGainNode():f.ctx.createGain(),f.masterGain.gain.setValueAtTime(f._muted?0:f._volume,f.ctx.currentTime),f.masterGain.connect(f.ctx.destination)),f._setup()}};void 0!==(r=function(){return{Howler:f,Howl:b}}.apply(ot,[]))&&(en.exports=r),ot.Howler=f,ot.Howl=b,typeof global<"u"?(global.HowlerGlobal=x,global.Howler=f,global.Howl=b,global.Sound=E):typeof window<"u"&&(window.HowlerGlobal=x,window.Howler=f,window.Howl=b,window.Sound=E)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(f){var b=this;if(!b.ctx||!b.ctx.listener)return b;for(var E=b._howls.length-1;E>=0;E--)b._howls[E].stereo(f);return b},HowlerGlobal.prototype.pos=function(f,b,E){var C=this;return C.ctx&&C.ctx.listener?"number"!=typeof f?C._pos:(C._pos=[f,b="number"!=typeof b?C._pos[1]:b,E="number"!=typeof E?C._pos[2]:E],typeof C.ctx.listener.positionX<"u"?(C.ctx.listener.positionX.setTargetAtTime(C._pos[0],Howler.ctx.currentTime,.1),C.ctx.listener.positionY.setTargetAtTime(C._pos[1],Howler.ctx.currentTime,.1),C.ctx.listener.positionZ.setTargetAtTime(C._pos[2],Howler.ctx.currentTime,.1)):C.ctx.listener.setPosition(C._pos[0],C._pos[1],C._pos[2]),C):C},HowlerGlobal.prototype.orientation=function(f,b,E,C,u,F){var S=this;if(!S.ctx||!S.ctx.listener)return S;var U=S._orientation;return"number"!=typeof f?U:(S._orientation=[f,b="number"!=typeof b?U[1]:b,E="number"!=typeof E?U[2]:E,C="number"!=typeof C?U[3]:C,u="number"!=typeof u?U[4]:u,F="number"!=typeof F?U[5]:F],typeof S.ctx.listener.forwardX<"u"?(S.ctx.listener.forwardX.setTargetAtTime(f,Howler.ctx.currentTime,.1),S.ctx.listener.forwardY.setTargetAtTime(b,Howler.ctx.currentTime,.1),S.ctx.listener.forwardZ.setTargetAtTime(E,Howler.ctx.currentTime,.1),S.ctx.listener.upX.setTargetAtTime(C,Howler.ctx.currentTime,.1),S.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),S.ctx.listener.upZ.setTargetAtTime(F,Howler.ctx.currentTime,.1)):S.ctx.listener.setOrientation(f,b,E,C,u,F),S)},Howl.prototype.init=function(f){return function(b){var E=this;return E._orientation=b.orientation||[1,0,0],E._stereo=b.stereo||null,E._pos=b.pos||null,E._pannerAttr={coneInnerAngle:typeof b.coneInnerAngle<"u"?b.coneInnerAngle:360,coneOuterAngle:typeof b.coneOuterAngle<"u"?b.coneOuterAngle:360,coneOuterGain:typeof b.coneOuterGain<"u"?b.coneOuterGain:0,distanceModel:typeof b.distanceModel<"u"?b.distanceModel:"inverse",maxDistance:typeof b.maxDistance<"u"?b.maxDistance:1e4,panningModel:typeof b.panningModel<"u"?b.panningModel:"HRTF",refDistance:typeof b.refDistance<"u"?b.refDistance:1,rolloffFactor:typeof b.rolloffFactor<"u"?b.rolloffFactor:1},E._onstereo=b.onstereo?[{fn:b.onstereo}]:[],E._onpos=b.onpos?[{fn:b.onpos}]:[],E._onorientation=b.onorientation?[{fn:b.onorientation}]:[],f.call(this,b)}}(Howl.prototype.init),Howl.prototype.stereo=function(f,b){var E=this;if(!E._webAudio)return E;if("loaded"!==E._state)return E._queue.push({event:"stereo",action:function(){E.stereo(f,b)}}),E;var C=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof b>"u"){if("number"!=typeof f)return E._stereo;E._stereo=f,E._pos=[f,0,0]}for(var u=E._getSoundIds(b),F=0;F<u.length;F++){var S=E._soundById(u[F]);if(S){if("number"!=typeof f)return S._stereo;S._stereo=f,S._pos=[f,0,0],S._node&&(S._pannerAttr.panningModel="equalpower",(!S._panner||!S._panner.pan)&&x(S,C),"spatial"===C?typeof S._panner.positionX<"u"?(S._panner.positionX.setValueAtTime(f,Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):S._panner.setPosition(f,0,0):S._panner.pan.setValueAtTime(f,Howler.ctx.currentTime)),E._emit("stereo",S._id)}}return E},Howl.prototype.pos=function(f,b,E,C){var u=this;if(!u._webAudio)return u;if("loaded"!==u._state)return u._queue.push({event:"pos",action:function(){u.pos(f,b,E,C)}}),u;if(b="number"!=typeof b?0:b,E="number"!=typeof E?-.5:E,typeof C>"u"){if("number"!=typeof f)return u._pos;u._pos=[f,b,E]}for(var F=u._getSoundIds(C),S=0;S<F.length;S++){var U=u._soundById(F[S]);if(U){if("number"!=typeof f)return U._pos;U._pos=[f,b,E],U._node&&((!U._panner||U._panner.pan)&&x(U,"spatial"),typeof U._panner.positionX<"u"?(U._panner.positionX.setValueAtTime(f,Howler.ctx.currentTime),U._panner.positionY.setValueAtTime(b,Howler.ctx.currentTime),U._panner.positionZ.setValueAtTime(E,Howler.ctx.currentTime)):U._panner.setPosition(f,b,E)),u._emit("pos",U._id)}}return u},Howl.prototype.orientation=function(f,b,E,C){var u=this;if(!u._webAudio)return u;if("loaded"!==u._state)return u._queue.push({event:"orientation",action:function(){u.orientation(f,b,E,C)}}),u;if(b="number"!=typeof b?u._orientation[1]:b,E="number"!=typeof E?u._orientation[2]:E,typeof C>"u"){if("number"!=typeof f)return u._orientation;u._orientation=[f,b,E]}for(var F=u._getSoundIds(C),S=0;S<F.length;S++){var U=u._soundById(F[S]);if(U){if("number"!=typeof f)return U._orientation;U._orientation=[f,b,E],U._node&&(U._panner||(U._pos||(U._pos=u._pos||[0,0,-.5]),x(U,"spatial")),typeof U._panner.orientationX<"u"?(U._panner.orientationX.setValueAtTime(f,Howler.ctx.currentTime),U._panner.orientationY.setValueAtTime(b,Howler.ctx.currentTime),U._panner.orientationZ.setValueAtTime(E,Howler.ctx.currentTime)):U._panner.setOrientation(f,b,E)),u._emit("orientation",U._id)}}return u},Howl.prototype.pannerAttr=function(){var E,C,u,f=this,b=arguments;if(!f._webAudio)return f;if(0===b.length)return f._pannerAttr;if(1===b.length){if("object"!=typeof b[0])return(u=f._soundById(parseInt(b[0],10)))?u._pannerAttr:f._pannerAttr;E=b[0],typeof C>"u"&&(E.pannerAttr||(E.pannerAttr={coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor,panningModel:E.panningModel}),f._pannerAttr={coneInnerAngle:typeof E.pannerAttr.coneInnerAngle<"u"?E.pannerAttr.coneInnerAngle:f._coneInnerAngle,coneOuterAngle:typeof E.pannerAttr.coneOuterAngle<"u"?E.pannerAttr.coneOuterAngle:f._coneOuterAngle,coneOuterGain:typeof E.pannerAttr.coneOuterGain<"u"?E.pannerAttr.coneOuterGain:f._coneOuterGain,distanceModel:typeof E.pannerAttr.distanceModel<"u"?E.pannerAttr.distanceModel:f._distanceModel,maxDistance:typeof E.pannerAttr.maxDistance<"u"?E.pannerAttr.maxDistance:f._maxDistance,refDistance:typeof E.pannerAttr.refDistance<"u"?E.pannerAttr.refDistance:f._refDistance,rolloffFactor:typeof E.pannerAttr.rolloffFactor<"u"?E.pannerAttr.rolloffFactor:f._rolloffFactor,panningModel:typeof E.pannerAttr.panningModel<"u"?E.pannerAttr.panningModel:f._panningModel})}else 2===b.length&&(E=b[0],C=parseInt(b[1],10));for(var F=f._getSoundIds(C),S=0;S<F.length;S++)if(u=f._soundById(F[S])){var U=u._pannerAttr;U={coneInnerAngle:typeof E.coneInnerAngle<"u"?E.coneInnerAngle:U.coneInnerAngle,coneOuterAngle:typeof E.coneOuterAngle<"u"?E.coneOuterAngle:U.coneOuterAngle,coneOuterGain:typeof E.coneOuterGain<"u"?E.coneOuterGain:U.coneOuterGain,distanceModel:typeof E.distanceModel<"u"?E.distanceModel:U.distanceModel,maxDistance:typeof E.maxDistance<"u"?E.maxDistance:U.maxDistance,refDistance:typeof E.refDistance<"u"?E.refDistance:U.refDistance,rolloffFactor:typeof E.rolloffFactor<"u"?E.rolloffFactor:U.rolloffFactor,panningModel:typeof E.panningModel<"u"?E.panningModel:U.panningModel};var O=u._panner;O||(u._pos||(u._pos=f._pos||[0,0,-.5]),x(u,"spatial"),O=u._panner),O.coneInnerAngle=U.coneInnerAngle,O.coneOuterAngle=U.coneOuterAngle,O.coneOuterGain=U.coneOuterGain,O.distanceModel=U.distanceModel,O.maxDistance=U.maxDistance,O.refDistance=U.refDistance,O.rolloffFactor=U.rolloffFactor,O.panningModel=U.panningModel}return f},Sound.prototype.init=function(f){return function(){var b=this,E=b._parent;b._orientation=E._orientation,b._stereo=E._stereo,b._pos=E._pos,b._pannerAttr=E._pannerAttr,f.call(this),b._stereo?E.stereo(b._stereo):b._pos&&E.pos(b._pos[0],b._pos[1],b._pos[2],b._id)}}(Sound.prototype.init),Sound.prototype.reset=function(f){return function(){var b=this,E=b._parent;return b._orientation=E._orientation,b._stereo=E._stereo,b._pos=E._pos,b._pannerAttr=E._pannerAttr,b._stereo?E.stereo(b._stereo):b._pos?E.pos(b._pos[0],b._pos[1],b._pos[2],b._id):b._panner&&(b._panner.disconnect(0),b._panner=void 0,E._refreshBuffer(b)),f.call(this)}}(Sound.prototype.reset);var x=function(f,b){"spatial"===(b=b||"spatial")?(f._panner=Howler.ctx.createPanner(),f._panner.coneInnerAngle=f._pannerAttr.coneInnerAngle,f._panner.coneOuterAngle=f._pannerAttr.coneOuterAngle,f._panner.coneOuterGain=f._pannerAttr.coneOuterGain,f._panner.distanceModel=f._pannerAttr.distanceModel,f._panner.maxDistance=f._pannerAttr.maxDistance,f._panner.refDistance=f._pannerAttr.refDistance,f._panner.rolloffFactor=f._pannerAttr.rolloffFactor,f._panner.panningModel=f._pannerAttr.panningModel,typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(f._pos[0],Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(f._pos[1],Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(f._pos[2],Howler.ctx.currentTime)):f._panner.setPosition(f._pos[0],f._pos[1],f._pos[2]),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(f._orientation[0],Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(f._orientation[1],Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(f._orientation[2],Howler.ctx.currentTime)):f._panner.setOrientation(f._orientation[0],f._orientation[1],f._orientation[2])):(f._panner=Howler.ctx.createStereoPanner(),f._panner.pan.setValueAtTime(f._stereo,Howler.ctx.currentTime)),f._panner.connect(f._node),f._paused||f._parent.pause(f._id,!0).play(f._id,!0)}}()},7662:(en,ot,w)=>{"use strict";w.d(ot,{mo:()=>_n});var r=w(8407);const f=(()=>{let Ve=0;return()=>(Ve+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${Ve}`)})();function E(Ve){const _t=[];for(let an=0,_e=Ve.length;an<_e;an++)_t.push(Ve[an]);return _t}function C(Ve,_t){const _e=(Ve.ownerDocument.defaultView||window).getComputedStyle(Ve).getPropertyValue(_t);return _e?parseFloat(_e.replace("px","")):0}function S(Ve,_t={}){const an=_t.width||function u(Ve){const _t=C(Ve,"border-left-width"),an=C(Ve,"border-right-width");return Ve.clientWidth+_t+an}(Ve),_e=_t.height||function F(Ve){const _t=C(Ve,"border-top-width"),an=C(Ve,"border-bottom-width");return Ve.clientHeight+_t+an}(Ve);return{width:an,height:_e}}const O=16384;function D(Ve){return new Promise((_t,an)=>{const _e=new Image;_e.decode=()=>_t(_e),_e.onload=()=>_t(_e),_e.onerror=an,_e.crossOrigin="anonymous",_e.decoding="async",_e.src=Ve})}function K(){return(K=(0,r.A)(function*(Ve){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(Ve)).then(encodeURIComponent).then(_t=>`data:image/svg+xml;charset=utf-8,${_t}`)})).apply(this,arguments)}function ie(){return ie=(0,r.A)(function*(Ve,_t,an){const _e="http://www.w3.org/2000/svg",Dt=document.createElementNS(_e,"svg"),on=document.createElementNS(_e,"foreignObject");return Dt.setAttribute("width",`${_t}`),Dt.setAttribute("height",`${an}`),Dt.setAttribute("viewBox",`0 0 ${_t} ${an}`),on.setAttribute("width","100%"),on.setAttribute("height","100%"),on.setAttribute("x","0"),on.setAttribute("y","0"),on.setAttribute("externalResourcesRequired","true"),Dt.appendChild(on),on.appendChild(Ve),function W(Ve){return K.apply(this,arguments)}(Dt)}),ie.apply(this,arguments)}const ae=(Ve,_t)=>{if(Ve instanceof _t)return!0;const an=Object.getPrototypeOf(Ve);return null!==an&&(an.constructor.name===_t.name||ae(an,_t))};function $(Ve,_t,an){const _e=window.getComputedStyle(Ve,an),Dt=_e.getPropertyValue("content");if(""===Dt||"none"===Dt)return;const on=f();try{_t.className=`${_t.className} ${on}`}catch{return}const Un=document.createElement("style");Un.appendChild(function q(Ve,_t,an){const _e=`.${Ve}:${_t}`,Dt=an.cssText?function le(Ve){const _t=Ve.getPropertyValue("content");return`${Ve.cssText} content: '${_t.replace(/'|"/g,"")}';`}(an):function fe(Ve){return E(Ve).map(_t=>`${_t}: ${Ve.getPropertyValue(_t)}${Ve.getPropertyPriority(_t)?" !important":""};`).join(" ")}(an);return document.createTextNode(`${_e}{${Dt}}`)}(on,an,_e)),_t.appendChild(Un)}const Q="application/font-woff",ee="image/jpeg",be={woff:Q,woff2:Q,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ee,jpeg:ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Qe(Ve){const _t=function Se(Ve){const _t=/\.([^./]*?)$/g.exec(Ve);return _t?_t[1]:""}(Ve).toLowerCase();return be[_t]||""}function De(Ve){return-1!==Ve.search(/^(data:)/)}function ut(Ve,_t){return`data:${_t};base64,${Ve}`}function Ft(Ve,_t,an){return ve.apply(this,arguments)}function ve(){return(ve=(0,r.A)(function*(Ve,_t,an){const _e=yield fetch(Ve,_t);if(404===_e.status)throw new Error(`Resource "${_e.url}" not found`);const Dt=yield _e.blob();return new Promise((on,Un)=>{const qn=new FileReader;qn.onerror=Un,qn.onloadend=()=>{try{on(an({res:_e,result:qn.result}))}catch(Gr){Un(Gr)}},qn.readAsDataURL(Dt)})})).apply(this,arguments)}const I={};function ge(Ve,_t,an){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.A)(function*(Ve,_t,an){const _e=function V(Ve,_t,an){let _e=Ve.replace(/\?.*/,"");return an&&(_e=Ve),/ttf|otf|eot|woff2?/i.test(_e)&&(_e=_e.replace(/.*\//,"")),_t?`[${_t}]${_e}`:_e}(Ve,_t,an.includeQueryParams);if(null!=I[_e])return I[_e];let Dt;an.cacheBust&&(Ve+=(/\?/.test(Ve)?"&":"?")+(new Date).getTime());try{const on=yield Ft(Ve,an.fetchRequestInit,({res:Un,result:qn})=>(_t||(_t=Un.headers.get("Content-Type")||""),function nt(Ve){return Ve.split(/,/)[1]}(qn)));Dt=ut(on,_t)}catch(on){Dt=an.imagePlaceholder||"";let Un=`Failed to fetch resource: ${Ve}`;on&&(Un="string"==typeof on?on:on.message),Un&&console.warn(Un)}return I[_e]=Dt,Dt})).apply(this,arguments)}function xt(){return(xt=(0,r.A)(function*(Ve){const _t=Ve.toDataURL();return"data:,"===_t?Ve.cloneNode(!1):D(_t)})).apply(this,arguments)}function ln(){return(ln=(0,r.A)(function*(Ve,_t){if(Ve.currentSrc){const on=document.createElement("canvas"),Un=on.getContext("2d");return on.width=Ve.clientWidth,on.height=Ve.clientHeight,Un?.drawImage(Ve,0,0,on.width,on.height),D(on.toDataURL())}const an=Ve.poster,_e=Qe(an);return D(yield ge(an,_e,_t))})).apply(this,arguments)}function Ye(){return(Ye=(0,r.A)(function*(Ve){var _t;try{if(null!==(_t=Ve?.contentDocument)&&void 0!==_t&&_t.body)return yield z(Ve.contentDocument.body,{},!0)}catch{}return Ve.cloneNode(!1)})).apply(this,arguments)}function Ot(){return Ot=(0,r.A)(function*(Ve,_t){return ae(Ve,HTMLCanvasElement)?function ke(Ve){return xt.apply(this,arguments)}(Ve):ae(Ve,HTMLVideoElement)?function Ht(Ve,_t){return ln.apply(this,arguments)}(Ve,_t):ae(Ve,HTMLIFrameElement)?function Bt(Ve){return Ye.apply(this,arguments)}(Ve):Ve.cloneNode(!1)}),Ot.apply(this,arguments)}const ye=Ve=>null!=Ve.tagName&&"SLOT"===Ve.tagName.toUpperCase();function B(){return(B=(0,r.A)(function*(Ve,_t,an){var _e,Dt;let on=[];return on=ye(Ve)&&Ve.assignedNodes?E(Ve.assignedNodes()):ae(Ve,HTMLIFrameElement)&&null!==(_e=Ve.contentDocument)&&void 0!==_e&&_e.body?E(Ve.contentDocument.body.childNodes):E((null!==(Dt=Ve.shadowRoot)&&void 0!==Dt?Dt:Ve).childNodes),0===on.length||ae(Ve,HTMLVideoElement)||(yield on.reduce((Un,qn)=>Un.then(()=>z(qn,an)).then(Gr=>{Gr&&_t.appendChild(Gr)}),Promise.resolve())),_t})).apply(this,arguments)}function Z(){return(Z=(0,r.A)(function*(Ve,_t){const an=Ve.querySelectorAll?Ve.querySelectorAll("use"):[];if(0===an.length)return Ve;const _e={};for(let on=0;on<an.length;on++){const qn=an[on].getAttribute("xlink:href");if(qn){const Gr=Ve.querySelector(qn),Ai=document.querySelector(qn);!Gr&&Ai&&!_e[qn]&&(_e[qn]=yield z(Ai,_t,!0))}}const Dt=Object.values(_e);if(Dt.length){const on="http://www.w3.org/1999/xhtml",Un=document.createElementNS(on,"svg");Un.setAttribute("xmlns",on),Un.style.position="absolute",Un.style.width="0",Un.style.height="0",Un.style.overflow="hidden",Un.style.display="none";const qn=document.createElementNS(on,"defs");Un.appendChild(qn);for(let Gr=0;Gr<Dt.length;Gr++)qn.appendChild(Dt[Gr]);Ve.appendChild(Un)}return Ve})).apply(this,arguments)}function z(Ve,_t,an){return H.apply(this,arguments)}function H(){return H=(0,r.A)(function*(Ve,_t,an){return an||!_t.filter||_t.filter(Ve)?Promise.resolve(Ve).then(_e=>function Ze(Ve,_t){return Ot.apply(this,arguments)}(_e,_t)).then(_e=>function P(Ve,_t,an){return B.apply(this,arguments)}(Ve,_e,_t)).then(_e=>function h(Ve,_t){return ae(_t,Element)&&(function R(Ve,_t){const an=_t.style;if(!an)return;const _e=window.getComputedStyle(Ve);_e.cssText?(an.cssText=_e.cssText,an.transformOrigin=_e.transformOrigin):E(_e).forEach(Dt=>{let on=_e.getPropertyValue(Dt);"font-size"===Dt&&on.endsWith("px")&&(on=Math.floor(parseFloat(on.substring(0,on.length-2)))-.1+"px"),ae(Ve,HTMLIFrameElement)&&"display"===Dt&&"inline"===on&&(on="block"),"d"===Dt&&_t.getAttribute("d")&&(on=`path(${_t.getAttribute("d")})`),an.setProperty(Dt,on,_e.getPropertyPriority(Dt))})}(Ve,_t),function j(Ve,_t){$(Ve,_t,":before"),$(Ve,_t,":after")}(Ve,_t),function N(Ve,_t){ae(Ve,HTMLTextAreaElement)&&(_t.innerHTML=Ve.value),ae(Ve,HTMLInputElement)&&_t.setAttribute("value",Ve.value)}(Ve,_t),function Y(Ve,_t){if(ae(Ve,HTMLSelectElement)){const _e=Array.from(_t.children).find(Dt=>Ve.value===Dt.getAttribute("value"));_e&&_e.setAttribute("selected","")}}(Ve,_t)),_t}(Ve,_e)).then(_e=>function M(Ve,_t){return Z.apply(this,arguments)}(_e,_t)):null}),H.apply(this,arguments)}const X=/url\((['"]?)([^'"]+?)\1\)/g,oe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,He=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ge(){return(Ge=(0,r.A)(function*(Ve,_t,an,_e,Dt){try{const on=an?function x(Ve,_t){if(Ve.match(/^[a-z]+:\/\//i))return Ve;if(Ve.match(/^\/\//))return window.location.protocol+Ve;if(Ve.match(/^[a-z]+:/i))return Ve;const an=document.implementation.createHTMLDocument(),_e=an.createElement("base"),Dt=an.createElement("a");return an.head.appendChild(_e),an.body.appendChild(Dt),_t&&(_e.href=_t),Dt.href=Ve,Dt.href}(_t,an):_t,Un=Qe(_t);let qn;return qn=Dt?ut(yield Dt(on),Un):yield ge(on,Un,_e),Ve.replace(function rt(Ve){const _t=Ve.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${_t})(['"]?\\))`,"g")}(_t),`$1${qn}$3`)}catch{}return Ve})).apply(this,arguments)}function dt(Ve){return-1!==Ve.search(X)}function At(Ve,_t,an){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,r.A)(function*(Ve,_t,an){if(!dt(Ve))return Ve;const _e=function Ct(Ve,{preferredFontFormat:_t}){return _t?Ve.replace(He,an=>{for(;;){const[_e,,Dt]=oe.exec(an)||[];if(!Dt)return"";if(Dt===_t)return`src: ${_e};`}}):Ve}(Ve,an);return function ft(Ve){const _t=[];return Ve.replace(X,(an,_e,Dt)=>(_t.push(Dt),an)),_t.filter(an=>!De(an))}(_e).reduce((on,Un)=>on.then(qn=>function It(Ve,_t,an,_e,Dt){return Ge.apply(this,arguments)}(qn,Un,_t,an)),Promise.resolve(_e))}),Qt.apply(this,arguments)}function Ke(Ve,_t,an){return pt.apply(this,arguments)}function pt(){return(pt=(0,r.A)(function*(Ve,_t,an){var _e;const Dt=null===(_e=_t.style)||void 0===_e?void 0:_e.getPropertyValue(Ve);if(Dt){const on=yield At(Dt,null,an);return _t.style.setProperty(Ve,on,_t.style.getPropertyPriority(Ve)),!0}return!1})).apply(this,arguments)}function $e(){return($e=(0,r.A)(function*(Ve,_t){(yield Ke("background",Ve,_t))||(yield Ke("background-image",Ve,_t)),(yield Ke("mask",Ve,_t))||(yield Ke("mask-image",Ve,_t))})).apply(this,arguments)}function Xt(){return(Xt=(0,r.A)(function*(Ve,_t){const an=ae(Ve,HTMLImageElement);if((!an||De(Ve.src))&&(!ae(Ve,SVGImageElement)||De(Ve.href.baseVal)))return;const _e=an?Ve.src:Ve.href.baseVal,Dt=yield ge(_e,Qe(_e),_t);yield new Promise((on,Un)=>{Ve.onload=on,Ve.onerror=Un;const qn=Ve;qn.decode&&(qn.decode=on),"lazy"===qn.loading&&(qn.loading="eager"),an?(Ve.srcset="",Ve.src=Dt):Ve.href.baseVal=Dt})})).apply(this,arguments)}function Ln(){return(Ln=(0,r.A)(function*(Ve,_t){const _e=E(Ve.childNodes).map(Dt=>$n(Dt,_t));yield Promise.all(_e).then(()=>Ve)})).apply(this,arguments)}function $n(Ve,_t){return gr.apply(this,arguments)}function gr(){return gr=(0,r.A)(function*(Ve,_t){ae(Ve,Element)&&(yield function Tt(Ve,_t){return $e.apply(this,arguments)}(Ve,_t),yield function Lt(Ve,_t){return Xt.apply(this,arguments)}(Ve,_t),yield function gn(Ve,_t){return Ln.apply(this,arguments)}(Ve,_t))}),gr.apply(this,arguments)}const St={};function Fe(Ve){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.A)(function*(Ve){let _t=St[Ve];return null!=_t||(_t={url:Ve,cssText:yield(yield fetch(Ve)).text()},St[Ve]=_t),_t})).apply(this,arguments)}function Ce(Ve,_t){return me.apply(this,arguments)}function me(){return me=(0,r.A)(function*(Ve,_t){let an=Ve.cssText;const _e=/url\(["']?([^"')]+)["']?\)/g,on=(an.match(/url\([^)]+\)/g)||[]).map(function(){var Un=(0,r.A)(function*(qn){let Gr=qn.replace(_e,"$1");return Gr.startsWith("https://")||(Gr=new URL(Gr,Ve.url).href),Ft(Gr,_t.fetchRequestInit,({result:Ai})=>(an=an.replace(qn,`url(${Ai})`),[qn,Ai]))});return function(qn){return Un.apply(this,arguments)}}());return Promise.all(on).then(()=>an)}),me.apply(this,arguments)}function it(Ve){if(null==Ve)return[];const _t=[];let _e=Ve.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const Dt=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const Gr=Dt.exec(_e);if(null===Gr)break;_t.push(Gr[0])}_e=_e.replace(Dt,"");const on=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,qn=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let Gr=on.exec(_e);if(null===Gr){if(Gr=qn.exec(_e),null===Gr)break;on.lastIndex=qn.lastIndex}else qn.lastIndex=on.lastIndex;_t.push(Gr[0])}return _t}function We(){return(We=(0,r.A)(function*(Ve,_t){const an=[],_e=[];return Ve.forEach(Dt=>{if("cssRules"in Dt)try{E(Dt.cssRules||[]).forEach((on,Un)=>{if(on.type===CSSRule.IMPORT_RULE){let qn=Un+1;const Ai=Fe(on.href).then(Mi=>Ce(Mi,_t)).then(Mi=>it(Mi).forEach(pi=>{try{Dt.insertRule(pi,pi.startsWith("@import")?qn+=1:Dt.cssRules.length)}catch(di){console.error("Error inserting rule from remote css",{rule:pi,error:di})}})).catch(Mi=>{console.error("Error loading remote css",Mi.toString())});_e.push(Ai)}})}catch(on){const Un=Ve.find(qn=>null==qn.href)||document.styleSheets[0];null!=Dt.href&&_e.push(Fe(Dt.href).then(qn=>Ce(qn,_t)).then(qn=>it(qn).forEach(Gr=>{Un.insertRule(Gr,Dt.cssRules.length)})).catch(qn=>{console.error("Error loading remote stylesheet",qn)})),console.error("Error inlining remote css file",on)}}),Promise.all(_e).then(()=>(Ve.forEach(Dt=>{if("cssRules"in Dt)try{E(Dt.cssRules||[]).forEach(on=>{an.push(on)})}catch(on){console.error(`Error while reading CSS rules from ${Dt.href}`,on)}}),an))})).apply(this,arguments)}function On(){return On=(0,r.A)(function*(Ve,_t){if(null==Ve.ownerDocument)throw new Error("Provided element is not within a Document");const an=E(Ve.ownerDocument.styleSheets),_e=yield function Me(Ve,_t){return We.apply(this,arguments)}(an,_t);return function Gt(Ve){return Ve.filter(_t=>_t.type===CSSRule.FONT_FACE_RULE).filter(_t=>dt(_t.style.getPropertyValue("src")))}(_e)}),On.apply(this,arguments)}function Cn(){return Cn=(0,r.A)(function*(Ve,_t){const an=yield function Kt(Ve,_t){return On.apply(this,arguments)}(Ve,_t);return(yield Promise.all(an.map(Dt=>At(Dt.cssText,Dt.parentStyleSheet?Dt.parentStyleSheet.href:null,_t)))).join("\n")}),Cn.apply(this,arguments)}function Er(){return Er=(0,r.A)(function*(Ve,_t){const an=null!=_t.fontEmbedCSS?_t.fontEmbedCSS:_t.skipFonts?null:yield function vr(Ve,_t){return Cn.apply(this,arguments)}(Ve,_t);if(an){const _e=document.createElement("style"),Dt=document.createTextNode(an);_e.appendChild(Dt),Ve.firstChild?Ve.insertBefore(_e,Ve.firstChild):Ve.appendChild(_e)}}),Er.apply(this,arguments)}function sr(){return sr=(0,r.A)(function*(Ve,_t={}){const{width:an,height:_e}=S(Ve,_t),Dt=yield z(Ve,_t,!0);return yield function tr(Ve,_t){return Er.apply(this,arguments)}(Dt,_t),yield $n(Dt,_t),function sn(Ve,_t){const{style:an}=Ve;_t.backgroundColor&&(an.backgroundColor=_t.backgroundColor),_t.width&&(an.width=`${_t.width}px`),_t.height&&(an.height=`${_t.height}px`);const _e=_t.style;null!=_e&&Object.keys(_e).forEach(Dt=>{an[Dt]=_e[Dt]})}(Dt,_t),yield function L(Ve,_t,an){return ie.apply(this,arguments)}(Dt,an,_e)}),sr.apply(this,arguments)}function _n(Ve){return _i.apply(this,arguments)}function _i(){return _i=(0,r.A)(function*(Ve,_t={}){const{width:an,height:_e}=S(Ve,_t),Dt=yield function _r(Ve){return sr.apply(this,arguments)}(Ve,_t),on=yield D(Dt),Un=document.createElement("canvas"),qn=Un.getContext("2d"),Gr=_t.pixelRatio||function U(){let Ve,_t;try{_t=process}catch{}const an=_t&&_t.env?_t.env.devicePixelRatio:null;return an&&(Ve=parseInt(an,10),Number.isNaN(Ve)&&(Ve=1)),Ve||window.devicePixelRatio||1}(),Ai=_t.canvasWidth||an,Mi=_t.canvasHeight||_e;return Un.width=Ai*Gr,Un.height=Mi*Gr,_t.skipAutoScale||function y(Ve){(Ve.width>O||Ve.height>O)&&(Ve.width>O&&Ve.height>O?Ve.width>Ve.height?(Ve.height*=O/Ve.width,Ve.width=O):(Ve.width*=O/Ve.height,Ve.height=O):Ve.width>O?(Ve.height*=O/Ve.width,Ve.width=O):(Ve.width*=O/Ve.height,Ve.height=O))}(Un),Un.style.width=`${Ai}`,Un.style.height=`${Mi}`,_t.backgroundColor&&(qn.fillStyle=_t.backgroundColor,qn.fillRect(0,0,Un.width,Un.height)),qn.drawImage(on,0,0,Un.width,Un.height),Un}),_i.apply(this,arguments)}},5114:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{KTX2Container:()=>O,read:()=>K,write:()=>ae});const r=new Uint8Array([0]),x=[171,75,84,88,32,50,48,187,13,10,26,10];var f,b,E,C,u,F,S,U,le;(le=f||(f={}))[le.NONE=0]="NONE",le[le.BASISLZ=1]="BASISLZ",le[le.ZSTD=2]="ZSTD",le[le.ZLIB=3]="ZLIB",function(le){le[le.BASICFORMAT=0]="BASICFORMAT"}(b||(b={})),function(le){le[le.UNSPECIFIED=0]="UNSPECIFIED",le[le.ETC1S=163]="ETC1S",le[le.UASTC=166]="UASTC"}(E||(E={})),function(le){le[le.UNSPECIFIED=0]="UNSPECIFIED",le[le.SRGB=1]="SRGB"}(C||(C={})),function(le){le[le.UNSPECIFIED=0]="UNSPECIFIED",le[le.LINEAR=1]="LINEAR",le[le.SRGB=2]="SRGB",le[le.ITU=3]="ITU",le[le.NTSC=4]="NTSC",le[le.SLOG=5]="SLOG",le[le.SLOG2=6]="SLOG2"}(u||(u={})),function(le){le[le.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",le[le.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(F||(F={})),function(le){le[le.RGB=0]="RGB",le[le.RRR=3]="RRR",le[le.GGG=4]="GGG",le[le.AAA=15]="AAA"}(S||(S={})),function(le){le[le.RGB=0]="RGB",le[le.RGBA=3]="RGBA",le[le.RRR=4]="RRR",le[le.RRRG=5]="RRRG"}(U||(U={}));class O{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=f.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:b.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:E.UNSPECIFIED,colorPrimaries:C.SRGB,transferFunction:C.SRGB,flags:F.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class y{constructor(fe,q,$,j){this._dataView=new DataView(fe.buffer,fe.byteOffset+q,$),this._littleEndian=j,this._offset=0}_nextUint8(){const fe=this._dataView.getUint8(this._offset);return this._offset+=1,fe}_nextUint16(){const fe=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,fe}_nextUint32(){const fe=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,fe}_nextUint64(){const fe=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,fe}_skip(fe){return this._offset+=fe,this}_scan(fe,q=0){const $=this._offset;let j=0;for(;this._dataView.getUint8(this._offset)!==q&&j<fe;)j++,this._offset++;return j<fe&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+$,j)}}function _(le){return typeof TextEncoder<"u"?(new TextEncoder).encode(le):Buffer.from(le)}function D(le){return typeof TextDecoder<"u"?(new TextDecoder).decode(le):Buffer.from(le).toString("utf8")}function W(le){let fe=0;for(const j of le)fe+=j.byteLength;const q=new Uint8Array(fe);let $=0;for(const j of le)q.set(new Uint8Array(j),$),$+=j.byteLength;return q}function K(le){const fe=new Uint8Array(le.buffer,le.byteOffset,x.length);if(fe[0]!==x[0]||fe[1]!==x[1]||fe[2]!==x[2]||fe[3]!==x[3]||fe[4]!==x[4]||fe[5]!==x[5]||fe[6]!==x[6]||fe[7]!==x[7]||fe[8]!==x[8]||fe[9]!==x[9]||fe[10]!==x[10]||fe[11]!==x[11])throw new Error("Missing KTX 2.0 identifier.");const q=new O,$=17*Uint32Array.BYTES_PER_ELEMENT,j=new y(le,x.length,$,!0);q.vkFormat=j._nextUint32(),q.typeSize=j._nextUint32(),q.pixelWidth=j._nextUint32(),q.pixelHeight=j._nextUint32(),q.pixelDepth=j._nextUint32(),q.layerCount=j._nextUint32(),q.faceCount=j._nextUint32();const Q=j._nextUint32();q.supercompressionScheme=j._nextUint32();const ee=j._nextUint32(),be=j._nextUint32(),Se=j._nextUint32(),Qe=j._nextUint32(),nt=j._nextUint64(),De=j._nextUint64(),ut=new y(le,x.length+$,3*Q*8,!0);for(let h=0;h<Q;h++)q.levels.push({levelData:new Uint8Array(le.buffer,le.byteOffset+ut._nextUint64(),ut._nextUint64()),uncompressedByteLength:ut._nextUint64()});const Ft=new y(le,ee,be,!0),ve={vendorId:Ft._skip(4)._nextUint16(),descriptorType:Ft._nextUint16(),versionNumber:Ft._nextUint16(),descriptorBlockSize:Ft._nextUint16(),colorModel:Ft._nextUint8(),colorPrimaries:Ft._nextUint8(),transferFunction:Ft._nextUint8(),flags:Ft._nextUint8(),texelBlockDimension:{x:Ft._nextUint8()+1,y:Ft._nextUint8()+1,z:Ft._nextUint8()+1,w:Ft._nextUint8()+1},bytesPlane:[Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8()],samples:[]},I=(ve.descriptorBlockSize/4-6)/4;for(let h=0;h<I;h++)ve.samples[h]={bitOffset:Ft._nextUint16(),bitLength:Ft._nextUint8(),channelID:Ft._nextUint8(),samplePosition:[Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8(),Ft._nextUint8()],sampleLower:Ft._nextUint32(),sampleUpper:Ft._nextUint32()};q.dataFormatDescriptor.length=0,q.dataFormatDescriptor.push(ve);const V=new y(le,Se,Qe,!0);for(;V._offset<Qe;){const h=V._nextUint32(),M=V._scan(h),Z=D(M),z=V._scan(h-M.byteLength);q.keyValue[Z]=Z.match(/^ktx/i)?D(z):z,h%4&&V._skip(4-h%4)}if(De<=0)return q;const ge=new y(le,nt,De,!0),Pe=ge._nextUint16(),ke=ge._nextUint16(),xt=ge._nextUint32(),Ht=ge._nextUint32(),ln=ge._nextUint32(),Bt=ge._nextUint32(),Ye=[];for(let h=0;h<Q;h++)Ye.push({imageFlags:ge._nextUint32(),rgbSliceByteOffset:ge._nextUint32(),rgbSliceByteLength:ge._nextUint32(),alphaSliceByteOffset:ge._nextUint32(),alphaSliceByteLength:ge._nextUint32()});const Ze=nt+ge._offset,Ot=Ze+xt,ye=Ot+Ht,P=ye+ln,B=new Uint8Array(le.buffer,le.byteOffset+Ze,xt),R=new Uint8Array(le.buffer,le.byteOffset+Ot,Ht),N=new Uint8Array(le.buffer,le.byteOffset+ye,ln),Y=new Uint8Array(le.buffer,le.byteOffset+P,Bt);return q.globalData={endpointCount:Pe,selectorCount:ke,imageDescs:Ye,endpointsData:B,selectorsData:R,tablesData:N,extendedData:Y},q}function L(){return(L=Object.assign||function(le){for(var fe=1;fe<arguments.length;fe++){var q=arguments[fe];for(var $ in q)Object.prototype.hasOwnProperty.call(q,$)&&(le[$]=q[$])}return le}).apply(this,arguments)}const ie={keepWriter:!1};function ae(le,fe={}){fe=L({},ie,fe);let q=new ArrayBuffer(0);if(le.globalData){const ge=new ArrayBuffer(20+5*le.globalData.imageDescs.length*4),Pe=new DataView(ge);Pe.setUint16(0,le.globalData.endpointCount,!0),Pe.setUint16(2,le.globalData.selectorCount,!0),Pe.setUint32(4,le.globalData.endpointsData.byteLength,!0),Pe.setUint32(8,le.globalData.selectorsData.byteLength,!0),Pe.setUint32(12,le.globalData.tablesData.byteLength,!0),Pe.setUint32(16,le.globalData.extendedData.byteLength,!0);for(let ke=0;ke<le.globalData.imageDescs.length;ke++){const xt=le.globalData.imageDescs[ke];Pe.setUint32(20+5*ke*4+0,xt.imageFlags,!0),Pe.setUint32(20+5*ke*4+4,xt.rgbSliceByteOffset,!0),Pe.setUint32(20+5*ke*4+8,xt.rgbSliceByteLength,!0),Pe.setUint32(20+5*ke*4+12,xt.alphaSliceByteOffset,!0),Pe.setUint32(20+5*ke*4+16,xt.alphaSliceByteLength,!0)}q=W([ge,le.globalData.endpointsData,le.globalData.selectorsData,le.globalData.tablesData,le.globalData.extendedData])}const $=[];let j=le.keyValue;fe.keepWriter||(j=L({},le.keyValue,{KTXwriter:"KTX-Parse v0.0.4"}));for(const ge in j){const Pe=j[ge],ke=_(ge),xt="string"==typeof Pe?_(Pe):Pe,Ht=ke.byteLength+1+xt.byteLength+1,ln=Ht%4?4-Ht%4:0;$.push(W([new Uint32Array([Ht]),ke,r,xt,r,new Uint8Array(ln).fill(0)]))}const Q=W($),ee=new ArrayBuffer(44),be=new DataView(ee);if(1!==le.dataFormatDescriptor.length||le.dataFormatDescriptor[0].descriptorType!==b.BASICFORMAT)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const Se=le.dataFormatDescriptor[0];be.setUint32(0,44,!0),be.setUint16(4,Se.vendorId,!0),be.setUint16(6,Se.descriptorType,!0),be.setUint16(8,Se.versionNumber,!0),be.setUint16(10,Se.descriptorBlockSize,!0),be.setUint8(12,Se.colorModel),be.setUint8(13,Se.colorPrimaries),be.setUint8(14,Se.transferFunction),be.setUint8(15,Se.flags),be.setUint8(16,Se.texelBlockDimension.x-1),be.setUint8(17,Se.texelBlockDimension.y-1),be.setUint8(18,Se.texelBlockDimension.z-1),be.setUint8(19,Se.texelBlockDimension.w-1);for(let ge=0;ge<8;ge++)be.setUint8(20+ge,Se.bytesPlane[ge]);for(let ge=0;ge<Se.samples.length;ge++){const Pe=Se.samples[ge],ke=28+16*ge;be.setUint16(ke+0,Pe.bitOffset,!0),be.setUint8(ke+2,Pe.bitLength),be.setUint8(ke+3,Pe.channelID),be.setUint8(ke+4,Pe.samplePosition[0]),be.setUint8(ke+5,Pe.samplePosition[1]),be.setUint8(ke+6,Pe.samplePosition[2]),be.setUint8(ke+7,Pe.samplePosition[3]),be.setUint32(ke+8,Pe.sampleLower,!0),be.setUint32(ke+12,Pe.sampleUpper,!0)}const Qe=x.length+68+3*le.levels.length*8,nt=Qe+ee.byteLength;let De=nt+Q.byteLength;De%8&&(De+=8-De%8);const ut=[],Ft=new DataView(new ArrayBuffer(3*le.levels.length*8));let ve=De+q.byteLength;for(let ge=0;ge<le.levels.length;ge++){const Pe=le.levels[ge];ut.push(Pe.levelData),Ft.setBigUint64(24*ge+0,BigInt(ve),!0),Ft.setBigUint64(24*ge+8,BigInt(Pe.levelData.byteLength),!0),Ft.setBigUint64(24*ge+16,BigInt(Pe.uncompressedByteLength),!0),ve+=Pe.levelData.byteLength}const I=new ArrayBuffer(68),V=new DataView(I);return V.setUint32(0,le.vkFormat,!0),V.setUint32(4,le.typeSize,!0),V.setUint32(8,le.pixelWidth,!0),V.setUint32(12,le.pixelHeight,!0),V.setUint32(16,le.pixelDepth,!0),V.setUint32(20,le.layerCount,!0),V.setUint32(24,le.faceCount,!0),V.setUint32(28,le.levels.length,!0),V.setUint32(32,le.supercompressionScheme,!0),V.setUint32(36,Qe,!0),V.setUint32(40,ee.byteLength,!0),V.setUint32(44,nt,!0),V.setUint32(48,Q.byteLength,!0),V.setBigUint64(52,BigInt(De),!0),V.setBigUint64(60,BigInt(q.byteLength),!0),new Uint8Array(W([new Uint8Array(x).buffer,I,Ft.buffer,ee,Q,new ArrayBuffer(De-(nt+Q.byteLength)),q,...ut]))}},9204:function(en,ot,w){var r;en=w.nmd(en),function(){var x,C="Expected a function",F="__lodash_hash_undefined__",U="__lodash_placeholder__",$=128,Ft=1/0,ve=9007199254740991,V=NaN,ge=4294967295,xt=[["ary",$],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ht="[object Arguments]",ln="[object Array]",Ye="[object Boolean]",Ze="[object Date]",ye="[object Error]",P="[object Function]",B="[object GeneratorFunction]",R="[object Map]",N="[object Number]",h="[object Object]",M="[object Promise]",z="[object RegExp]",H="[object Set]",X="[object String]",oe="[object Symbol]",rt="[object WeakMap]",It="[object ArrayBuffer]",Ge="[object DataView]",Ct="[object Float32Array]",dt="[object Float64Array]",At="[object Int8Array]",Qt="[object Int16Array]",Ke="[object Int32Array]",pt="[object Uint8Array]",Tt="[object Uint8ClampedArray]",$e="[object Uint16Array]",Lt="[object Uint32Array]",Xt=/\b__p \+= '';/g,gn=/\b(__p \+=) '' \+/g,Ln=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$n=/&(?:amp|lt|gt|quot|#39);/g,gr=/[&<>"']/g,sn=RegExp($n.source),St=RegExp(gr.source),Fe=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,Gt=RegExp(We.source),Kt=/^\s+/,On=/\s/,vr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cn=/\{\n\/\* \[wrapped with (.+)\] \*/,tr=/,? & /,Er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_r=/[()=,{}\[\]\/\s]/,sr=/\\(\\)?/g,_n=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,Ii=/^[-+]0x[0-9a-f]+$/i,so=/^0b[01]+$/i,Cr=/^\[object .+?Constructor\]$/,ii=/^0o[0-7]+$/i,Or=/^(?:0|[1-9]\d*)$/,fi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yi=/($^)/,ho=/['\n\r\u2028\u2029\\]/g,Vi="\\ud800-\\udfff",an="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",Dt="a-z\\xdf-\\xf6\\xf8-\\xff",Ai="A-Z\\xc0-\\xd6\\xd8-\\xde",Mi="\\ufe0e\\ufe0f",pi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="["+Vi+"]",Tn="["+pi+"]",Hn="["+an+"]",hr="\\d+",Dr="["+_e+"]",qr="["+Dt+"]",Bi="[^"+Vi+pi+hr+_e+Dt+Ai+"]",hi="\\ud83c[\\udffb-\\udfff]",Ro="[^"+Vi+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Yt="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+Ai+"]",Rr="(?:"+qr+"|"+Bi+")",ci="(?:"+un+"|"+Bi+")",$i="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ao="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",go="(?:"+Hn+"|"+hi+")?",ko="["+Mi+"]?",as=ko+go+"(?:\\u200d(?:"+[Ro,Ji,Yt].join("|")+")"+ko+go+")*",Cs="(?:"+[Dr,Ji,Yt].join("|")+")"+as,ts="(?:"+[Ro+Hn+"?",Hn,Ji,Yt,Zt].join("|")+")",Jo=RegExp("['\u2019]","g"),Us=RegExp(Hn,"g"),jn=RegExp(hi+"(?="+hi+")|"+ts+as,"g"),Zn=RegExp([un+"?"+qr+"+"+$i+"(?="+[Tn,un,"$"].join("|")+")",ci+"+"+Ao+"(?="+[Tn,un+Rr,"$"].join("|")+")",un+"?"+Rr+"+"+$i,un+"+"+Ao,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hr,Cs].join("|"),"g"),Vr=RegExp("[\\u200d"+Vi+an+Mi+"]"),Ti=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Co=-1,Ni={};Ni[Ct]=Ni[dt]=Ni[At]=Ni[Qt]=Ni[Ke]=Ni[pt]=Ni[Tt]=Ni[$e]=Ni[Lt]=!0,Ni[Ht]=Ni[ln]=Ni[It]=Ni[Ye]=Ni[Ge]=Ni[Ze]=Ni[ye]=Ni[P]=Ni[R]=Ni[N]=Ni[h]=Ni[z]=Ni[H]=Ni[X]=Ni[rt]=!1;var ji={};ji[Ht]=ji[ln]=ji[It]=ji[Ge]=ji[Ye]=ji[Ze]=ji[Ct]=ji[dt]=ji[At]=ji[Qt]=ji[Ke]=ji[R]=ji[N]=ji[h]=ji[z]=ji[H]=ji[X]=ji[oe]=ji[pt]=ji[Tt]=ji[$e]=ji[Lt]=!0,ji[ye]=ji[P]=ji[rt]=!1;var Qo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ta=parseFloat,Ws=parseInt,cs="object"==typeof global&&global&&global.Object===Object&&global,Ns="object"==typeof self&&self&&self.Object===Object&&self,ns=cs||Ns||Function("return this")(),Ks=ot&&!ot.nodeType&&ot,Go=Ks&&en&&!en.nodeType&&en,Aa=Go&&Go.exports===Ks,oa=Aa&&cs.process,Ko=function(){try{return Go&&Go.require&&Go.require("util").types||oa&&oa.binding&&oa.binding("util")}catch{}}(),Fs=Ko&&Ko.isArrayBuffer,Vs=Ko&&Ko.isDate,ds=Ko&&Ko.isMap,Xs=Ko&&Ko.isRegExp,Jn=Ko&&Ko.isSet,rr=Ko&&Ko.isTypedArray;function ur(Fn,lr,wn){switch(wn.length){case 0:return Fn.call(lr);case 1:return Fn.call(lr,wn[0]);case 2:return Fn.call(lr,wn[0],wn[1]);case 3:return Fn.call(lr,wn[0],wn[1],wn[2])}return Fn.apply(lr,wn)}function Ar(Fn,lr,wn,er){for(var Ur=-1,gi=null==Fn?0:Fn.length;++Ur<gi;){var Fi=Fn[Ur];lr(er,Fi,wn(Fi),Fn)}return er}function Di(Fn,lr){for(var wn=-1,er=null==Fn?0:Fn.length;++wn<er&&!1!==lr(Fn[wn],wn,Fn););return Fn}function mt(Fn,lr){for(var wn=null==Fn?0:Fn.length;wn--&&!1!==lr(Fn[wn],wn,Fn););return Fn}function mn(Fn,lr){for(var wn=-1,er=null==Fn?0:Fn.length;++wn<er;)if(!lr(Fn[wn],wn,Fn))return!1;return!0}function Ut(Fn,lr){for(var wn=-1,er=null==Fn?0:Fn.length,Ur=0,gi=[];++wn<er;){var Fi=Fn[wn];lr(Fi,wn,Fn)&&(gi[Ur++]=Fi)}return gi}function dn(Fn,lr){return!(null==Fn||!Fn.length)&&yo(Fn,lr,0)>-1}function Xe(Fn,lr,wn){for(var er=-1,Ur=null==Fn?0:Fn.length;++er<Ur;)if(wn(lr,Fn[er]))return!0;return!1}function Rt(Fn,lr){for(var wn=-1,er=null==Fn?0:Fn.length,Ur=Array(er);++wn<er;)Ur[wn]=lr(Fn[wn],wn,Fn);return Ur}function qt(Fn,lr){for(var wn=-1,er=lr.length,Ur=Fn.length;++wn<er;)Fn[Ur+wn]=lr[wn];return Fn}function zn(Fn,lr,wn,er){var Ur=-1,gi=null==Fn?0:Fn.length;for(er&&gi&&(wn=Fn[++Ur]);++Ur<gi;)wn=lr(wn,Fn[Ur],Ur,Fn);return wn}function fr(Fn,lr,wn,er){var Ur=null==Fn?0:Fn.length;for(er&&Ur&&(wn=Fn[--Ur]);Ur--;)wn=lr(wn,Fn[Ur],Ur,Fn);return wn}function mr(Fn,lr){for(var wn=-1,er=null==Fn?0:Fn.length;++wn<er;)if(lr(Fn[wn],wn,Fn))return!0;return!1}var $r=ce("length");function Wr(Fn,lr,wn){var er;return wn(Fn,function(Ur,gi,Fi){if(lr(Ur,gi,Fi))return er=gi,!1}),er}function eo(Fn,lr,wn,er){for(var Ur=Fn.length,gi=wn+(er?1:-1);er?gi--:++gi<Ur;)if(lr(Fn[gi],gi,Fn))return gi;return-1}function yo(Fn,lr,wn){return lr==lr?function Pt(Fn,lr,wn){for(var er=wn-1,Ur=Fn.length;++er<Ur;)if(Fn[er]===lr)return er;return-1}(Fn,lr,wn):eo(Fn,tt,wn)}function Mo(Fn,lr,wn,er){for(var Ur=wn-1,gi=Fn.length;++Ur<gi;)if(er(Fn[Ur],lr))return Ur;return-1}function tt(Fn){return Fn!=Fn}function re(Fn,lr){var wn=null==Fn?0:Fn.length;return wn?yr(Fn,lr)/wn:V}function ce(Fn){return function(lr){return null==lr?x:lr[Fn]}}function Je(Fn){return function(lr){return null==Fn?x:Fn[lr]}}function Le(Fn,lr,wn,er,Ur){return Ur(Fn,function(gi,Fi,Si){wn=er?(er=!1,gi):lr(wn,gi,Fi,Si)}),wn}function yr(Fn,lr){for(var wn,er=-1,Ur=Fn.length;++er<Ur;){var gi=lr(Fn[er]);gi!==x&&(wn=wn===x?gi:wn+gi)}return wn}function ti(Fn,lr){for(var wn=-1,er=Array(Fn);++wn<Fn;)er[wn]=lr(wn);return er}function rn(Fn){return Fn&&Fn.slice(0,Yn(Fn)+1).replace(Kt,"")}function pe(Fn){return function(lr){return Fn(lr)}}function Re(Fn,lr){return Rt(lr,function(wn){return Fn[wn]})}function bt(Fn,lr){return Fn.has(lr)}function tn(Fn,lr){for(var wn=-1,er=Fn.length;++wn<er&&yo(lr,Fn[wn],0)>-1;);return wn}function An(Fn,lr){for(var wn=Fn.length;wn--&&yo(lr,Fn[wn],0)>-1;);return wn}var ar=Je({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Zr=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function si(Fn){return"\\"+Qo[Fn]}function Pr(Fn){return Vr.test(Fn)}function Pi(Fn){var lr=-1,wn=Array(Fn.size);return Fn.forEach(function(er,Ur){wn[++lr]=[Ur,er]}),wn}function xe(Fn,lr){return function(wn){return Fn(lr(wn))}}function he(Fn,lr){for(var wn=-1,er=Fn.length,Ur=0,gi=[];++wn<er;){var Fi=Fn[wn];(Fi===lr||Fi===U)&&(Fn[wn]=U,gi[Ur++]=wn)}return gi}function qe(Fn){var lr=-1,wn=Array(Fn.size);return Fn.forEach(function(er){wn[++lr]=er}),wn}function xn(Fn){return Pr(Fn)?function wr(Fn){for(var lr=jn.lastIndex=0;jn.test(Fn);)++lr;return lr}(Fn):$r(Fn)}function nr(Fn){return Pr(Fn)?function Lr(Fn){return Fn.match(jn)||[]}(Fn):function jr(Fn){return Fn.split("")}(Fn)}function Yn(Fn){for(var lr=Fn.length;lr--&&On.test(Fn.charAt(lr)););return lr}var kr=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Hi=function Fn(lr){var l,wn=(lr=null==lr?ns:Hi.defaults(ns.Object(),lr,Hi.pick(ns,qi))).Array,er=lr.Date,Ur=lr.Error,gi=lr.Function,Fi=lr.Math,Si=lr.Object,Xi=lr.RegExp,zo=lr.String,ki=lr.TypeError,As=wn.prototype,qo=Si.prototype,js=lr["__core-js_shared__"],Te=gi.prototype.toString,et=qo.hasOwnProperty,ht=0,Vt=(l=/[^.]+$/.exec(js&&js.keys&&js.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",yn=qo.toString,Wn=Te.call(Si),ir=ns._,Ci=Xi("^"+Te.call(et).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Li=Aa?lr.Buffer:x,io=lr.Symbol,vo=lr.Uint8Array,Xo=Li?Li.allocUnsafe:x,gs=xe(Si.getPrototypeOf,Si),Ms=Si.create,ca=qo.propertyIsEnumerable,ya=As.splice,Ee=io?io.isConcatSpreadable:x,yt=io?io.iterator:x,Sn=io?io.toStringTag:x,st=function(){try{var l=kl(Si,"defineProperty");return l({},"",{}),l}catch{}}(),vn=lr.clearTimeout!==ns.clearTimeout&&lr.clearTimeout,cr=er&&er.now!==ns.Date.now&&er.now,bi=lr.setTimeout!==ns.setTimeout&&lr.setTimeout,ao=Fi.ceil,ls=Fi.floor,Rs=Si.getOwnPropertySymbols,qs=Li?Li.isBuffer:x,us=lr.isFinite,fa=As.join,hs=xe(Si.keys,Si),fs=Fi.max,Fo=Fi.min,Ki=er.now,Do=lr.parseInt,xs=Fi.random,pa=As.reverse,Ys=kl(lr,"DataView"),sa=kl(lr,"Map"),Sa=kl(lr,"Promise"),_s=kl(lr,"Set"),ra=kl(lr,"WeakMap"),ba=kl(Si,"create"),Bo=ra&&new ra,ma={},Xl=$c(Ys),Yl=$c(sa),da=$c(Sa),qc=$c(_s),Ql=$c(ra),$a=io?io.prototype:x,hl=$a?$a.valueOf:x,Dc=$a?$a.toString:x;function fn(l){if(fo(l)&&!Gn(l)&&!(l instanceof Os)){if(l instanceof Vo)return l;if(et.call(l,"__wrapped__"))return Al(l)}return new Vo(l)}var ql=function(){function l(){}return function(v){if(!yi(v))return{};if(Ms)return Ms(v);l.prototype=v;var se=new l;return l.prototype=x,se}}();function Za(){}function Vo(l,v){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=x}function Os(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function sl(l){var v=-1,se=null==l?0:l.length;for(this.clear();++v<se;){var ct=l[v];this.set(ct[0],ct[1])}}function Wa(l){var v=-1,se=null==l?0:l.length;for(this.clear();++v<se;){var ct=l[v];this.set(ct[0],ct[1])}}function es(l){var v=-1,se=null==l?0:l.length;for(this.clear();++v<se;){var ct=l[v];this.set(ct[0],ct[1])}}function ue(l){var v=-1,se=null==l?0:l.length;for(this.__data__=new es;++v<se;)this.add(l[v])}function Be(l){var v=this.__data__=new Wa(l);this.size=v.size}function xi(l,v){var se=Gn(l),ct=!se&&dr(l),nn=!se&&!ct&&Sr(l),Pn=!se&&!ct&&!nn&&oc(l),or=se||ct||nn||Pn,xr=or?ti(l.length,zo):[],zr=xr.length;for(var Gi in l)(v||et.call(l,Gi))&&(!or||!("length"==Gi||nn&&("offset"==Gi||"parent"==Gi)||Pn&&("buffer"==Gi||"byteLength"==Gi||"byteOffset"==Gi)||Ac(Gi,zr)))&&xr.push(Gi);return xr}function jo(l){var v=l.length;return v?l[Ua(0,v-1)]:x}function Ls(l,v){return Bl(Va(l),ec(v,0,l.length))}function Ds(l){return Bl(Va(l))}function ga(l,v,se){(se!==x&&!Mn(l[v],se)||se===x&&!(v in l))&&al(l,v,se)}function Na(l,v,se){var ct=l[v];(!et.call(l,v)||!Mn(ct,se)||se===x&&!(v in l))&&al(l,v,se)}function _a(l,v){for(var se=l.length;se--;)if(Mn(l[se][0],v))return se;return-1}function xa(l,v,se,ct){return La(l,function(nn,Pn,or){v(ct,nn,se(nn),or)}),ct}function xl(l,v){return l&&Pa(v,Qa(v),l)}function al(l,v,se){"__proto__"==v&&st?st(l,v,{configurable:!0,enumerable:!0,value:se,writable:!0}):l[v]=se}function jl(l,v){for(var se=-1,ct=v.length,nn=wn(ct),Pn=null==l;++se<ct;)nn[se]=Pn?x:fh(l,v[se]);return nn}function ec(l,v,se){return l==l&&(se!==x&&(l=l<=se?l:se),v!==x&&(l=l>=v?l:v)),l}function ll(l,v,se,ct,nn,Pn){var or,xr=1&v,zr=2&v,Gi=4&v;if(se&&(or=nn?se(l,ct,nn,Pn):se(l)),or!==x)return or;if(!yi(l))return l;var Ui=Gn(l);if(Ui){if(or=function Bf(l){var v=l.length,se=new l.constructor(v);return v&&"string"==typeof l[0]&&et.call(l,"index")&&(se.index=l.index,se.input=l.input),se}(l),!xr)return Va(l,or)}else{var oo=Ha(l),To=oo==P||oo==B;if(Sr(l))return Sf(l,xr);if(oo==h||oo==Ht||To&&!nn){if(or=zr||To?{}:kh(l),!xr)return zr?function tu(l,v){return Pa(l,Gc(l),v)}(l,function Oc(l,v){return l&&Pa(v,tl(v),l)}(or,l)):function eu(l,v){return Pa(l,Oh(l),v)}(l,xl(or,l))}else{if(!ji[oo])return nn?l:{};or=function $u(l,v,se){var ct=l.constructor;switch(v){case It:return Lu(l);case Ye:case Ze:return new ct(+l);case Ge:return function Ea(l,v){var se=v?Lu(l.buffer):l.buffer;return new l.constructor(se,l.byteOffset,l.byteLength)}(l,se);case Ct:case dt:case At:case Qt:case Ke:case pt:case Tt:case $e:case Lt:return Lc(l,se);case R:return new ct;case N:case X:return new ct(l);case z:return function Ed(l){var v=new l.constructor(l.source,_i.exec(l));return v.lastIndex=l.lastIndex,v}(l);case H:return new ct;case oe:return function Nc(l){return hl?Si(hl.call(l)):{}}(l)}}(l,oo,xr)}}Pn||(Pn=new Be);var Ho=Pn.get(l);if(Ho)return Ho;Pn.set(l,or),mc(l)?l.forEach(function(Wo){or.add(ll(Wo,v,se,Wo,l,Pn))}):ia(l)&&l.forEach(function(Wo,$s){or.set($s,ll(Wo,v,se,$s,l,Pn))});var Gs=Ui?x:(Gi?zr?zu:Gu:zr?tl:Qa)(l);return Di(Gs||l,function(Wo,$s){Gs&&(Wo=l[$s=Wo]),Na(or,$s,ll(Wo,v,se,$s,l,Pn))}),or}function Wd(l,v,se){var ct=se.length;if(null==l)return!ct;for(l=Si(l);ct--;){var nn=se[ct],or=l[nn];if(or===x&&!(nn in l)||!(0,v[nn])(or))return!1}return!0}function yd(l,v,se){if("function"!=typeof l)throw new ki(C);return Id(function(){l.apply(x,se)},v)}function ed(l,v,se,ct){var nn=-1,Pn=dn,or=!0,xr=l.length,zr=[],Gi=v.length;if(!xr)return zr;se&&(v=Rt(v,pe(se))),ct?(Pn=Xe,or=!1):v.length>=200&&(Pn=bt,or=!1,v=new ue(v));e:for(;++nn<xr;){var Ui=l[nn],oo=null==se?Ui:se(Ui);if(Ui=ct||0!==Ui?Ui:0,or&&oo==oo){for(var To=Gi;To--;)if(v[To]===oo)continue e;zr.push(Ui)}else Pn(v,oo,ct)||zr.push(Ui)}return zr}fn.templateSettings={escape:Fe,evaluate:Ue,interpolate:Ce,variable:"",imports:{_:fn}},(fn.prototype=Za.prototype).constructor=fn,(Vo.prototype=ql(Za.prototype)).constructor=Vo,(Os.prototype=ql(Za.prototype)).constructor=Os,sl.prototype.clear=function Ia(){this.__data__=ba?ba(null):{},this.size=0},sl.prototype.delete=function Zl(l){var v=this.has(l)&&delete this.__data__[l];return this.size-=v?1:0,v},sl.prototype.get=function ka(l){var v=this.__data__;if(ba){var se=v[l];return se===F?x:se}return et.call(v,l)?v[l]:x},sl.prototype.has=function Fa(l){var v=this.__data__;return ba?v[l]!==x:et.call(v,l)},sl.prototype.set=function Ic(l,v){var se=this.__data__;return this.size+=this.has(l)?0:1,se[l]=ba&&v===x?F:v,this},Wa.prototype.clear=function Zc(){this.__data__=[],this.size=0},Wa.prototype.delete=function bl(l){var v=this.__data__,se=_a(v,l);return!(se<0||(se==v.length-1?v.pop():ya.call(v,se,1),--this.size,0))},Wa.prototype.get=function Rc(l){var v=this.__data__,se=_a(v,l);return se<0?x:v[se][1]},Wa.prototype.has=function Jl(l){return _a(this.__data__,l)>-1},Wa.prototype.set=function _d(l,v){var se=this.__data__,ct=_a(se,l);return ct<0?(++this.size,se.push([l,v])):se[ct][1]=v,this},es.prototype.clear=function bc(){this.size=0,this.__data__={hash:new sl,map:new(sa||Wa),string:new sl}},es.prototype.delete=function Jc(l){var v=su(this,l).delete(l);return this.size-=v?1:0,v},es.prototype.get=function Ja(l){return su(this,l).get(l)},es.prototype.has=function vd(l){return su(this,l).has(l)},es.prototype.set=function Pu(l,v){var se=su(this,l),ct=se.size;return se.set(l,v),this.size+=se.size==ct?0:1,this},ue.prototype.add=ue.prototype.push=function Ne(l){return this.__data__.set(l,F),this},ue.prototype.has=function at(l){return this.__data__.has(l)},Be.prototype.clear=function lt(){this.__data__=new Wa,this.size=0},Be.prototype.delete=function pn(l){var v=this.__data__,se=v.delete(l);return this.size=v.size,se},Be.prototype.get=function In(l){return this.__data__.get(l)},Be.prototype.has=function Kr(l){return this.__data__.has(l)},Be.prototype.set=function to(l,v){var se=this.__data__;if(se instanceof Wa){var ct=se.__data__;if(!sa||ct.length<199)return ct.push([l,v]),this.size=++se.size,this;se=this.__data__=new es(ct)}return se.set(l,v),this.size=se.size,this};var La=ja(va),Kd=ja(nd,!0);function tc(l,v){var se=!0;return La(l,function(ct,nn,Pn){return se=!!v(ct,nn,Pn)}),se}function uc(l,v,se){for(var ct=-1,nn=l.length;++ct<nn;){var Pn=l[ct],or=v(Pn);if(null!=or&&(xr===x?or==or&&!ws(or):se(or,xr)))var xr=or,zr=Pn}return zr}function Yd(l,v){var se=[];return La(l,function(ct,nn,Pn){v(ct,nn,Pn)&&se.push(ct)}),se}function rs(l,v,se,ct,nn){var Pn=-1,or=l.length;for(se||(se=Nf),nn||(nn=[]);++Pn<or;){var xr=l[Pn];v>0&&se(xr)?v>1?rs(xr,v-1,se,ct,nn):qt(nn,xr):ct||(nn[nn.length]=xr)}return nn}var td=If(),Ec=If(!0);function va(l,v){return l&&td(l,v,Qa)}function nd(l,v){return l&&Ec(l,v,Qa)}function nc(l,v){return Ut(v,function(se){return os(l[se])})}function cl(l,v){for(var se=0,ct=(v=Js(v,l)).length;null!=l&&se<ct;)l=l[Nl(v[se++])];return se&&se==ct?l:x}function el(l,v,se){var ct=v(l);return Gn(l)?ct:qt(ct,se(l))}function Ka(l){return null==l?l===x?"[object Undefined]":"[object Null]":Sn&&Sn in Si(l)?function Ba(l){var v=et.call(l,Sn),se=l[Sn];try{l[Sn]=x;var ct=!0}catch{}var nn=yn.call(l);return ct&&(v?l[Sn]=se:delete l[Sn]),nn}(l):function Hf(l){return yn.call(l)}(l)}function rd(l,v){return l>v}function Qd(l,v){return null!=l&&et.call(l,v)}function Ol(l,v){return null!=l&&v in Si(l)}function p(l,v,se){for(var ct=se?Xe:dn,nn=l[0].length,Pn=l.length,or=Pn,xr=wn(Pn),zr=1/0,Gi=[];or--;){var Ui=l[or];or&&v&&(Ui=Rt(Ui,pe(v))),zr=Fo(Ui.length,zr),xr[or]=!se&&(v||nn>=120&&Ui.length>=120)?new ue(or&&Ui):x}Ui=l[0];var oo=-1,To=xr[0];e:for(;++oo<nn&&Gi.length<zr;){var Ho=Ui[oo],ps=v?v(Ho):Ho;if(Ho=se||0!==Ho?Ho:0,!(To?bt(To,ps):ct(Gi,ps,se))){for(or=Pn;--or;){var Gs=xr[or];if(!(Gs?bt(Gs,ps):ct(l[or],ps,se)))continue e}To&&To.push(ps),Gi.push(Ho)}}return Gi}function je(l,v,se){var ct=null==(l=zc(l,v=Js(v,l)))?l:l[Nl(wa(v))];return null==ct?x:ur(ct,l,se)}function vt(l){return fo(l)&&Ka(l)==Ht}function bn(l,v,se,ct,nn){return l===v||(null==l||null==v||!fo(l)&&!fo(v)?l!=l&&v!=v:function Vn(l,v,se,ct,nn,Pn){var or=Gn(l),xr=Gn(v),zr=or?ln:Ha(l),Gi=xr?ln:Ha(v),Ui=(zr=zr==Ht?h:zr)==h,oo=(Gi=Gi==Ht?h:Gi)==h,To=zr==Gi;if(To&&Sr(l)){if(!Sr(v))return!1;or=!0,Ui=!1}if(To&&!Ui)return Pn||(Pn=new Be),or||oc(l)?Pf(l,v,se,ct,nn,Pn):function kf(l,v,se,ct,nn,Pn,or){switch(se){case Ge:if(l.byteLength!=v.byteLength||l.byteOffset!=v.byteOffset)return!1;l=l.buffer,v=v.buffer;case It:return!(l.byteLength!=v.byteLength||!Pn(new vo(l),new vo(v)));case Ye:case Ze:case N:return Mn(+l,+v);case ye:return l.name==v.name&&l.message==v.message;case z:case X:return l==v+"";case R:var xr=Pi;case H:if(xr||(xr=qe),l.size!=v.size&&!(1&ct))return!1;var Gi=or.get(l);if(Gi)return Gi==v;ct|=2,or.set(l,v);var Ui=Pf(xr(l),xr(v),ct,nn,Pn,or);return or.delete(l),Ui;case oe:if(hl)return hl.call(l)==hl.call(v)}return!1}(l,v,zr,se,ct,nn,Pn);if(!(1&se)){var Ho=Ui&&et.call(l,"__wrapped__"),ps=oo&&et.call(v,"__wrapped__");if(Ho||ps){var Gs=Ho?l.value():l,Wo=ps?v.value():v;return Pn||(Pn=new Be),nn(Gs,Wo,se,ct,Pn)}}return!!To&&(Pn||(Pn=new Be),function Ff(l,v,se,ct,nn,Pn){var or=1&se,xr=Gu(l),zr=xr.length;if(zr!=Gu(v).length&&!or)return!1;for(var oo=zr;oo--;){var To=xr[oo];if(!(or?To in v:et.call(v,To)))return!1}var Ho=Pn.get(l),ps=Pn.get(v);if(Ho&&ps)return Ho==v&&ps==l;var Gs=!0;Pn.set(l,v),Pn.set(v,l);for(var Wo=or;++oo<zr;){var $s=l[To=xr[oo]],na=v[To];if(ct)var lc=or?ct(na,$s,To,v,l,Pn):ct($s,na,To,l,v,Pn);if(!(lc===x?$s===na||nn($s,na,se,ct,Pn):lc)){Gs=!1;break}Wo||(Wo="constructor"==To)}if(Gs&&!Wo){var Il=l.constructor,Kl=v.constructor;Il!=Kl&&"constructor"in l&&"constructor"in v&&!("function"==typeof Il&&Il instanceof Il&&"function"==typeof Kl&&Kl instanceof Kl)&&(Gs=!1)}return Pn.delete(l),Pn.delete(v),Gs}(l,v,se,ct,nn,Pn))}(l,v,se,ct,bn,nn))}function br(l,v,se,ct){var nn=se.length,Pn=nn,or=!ct;if(null==l)return!Pn;for(l=Si(l);nn--;){var xr=se[nn];if(or&&xr[2]?xr[1]!==l[xr[0]]:!(xr[0]in l))return!1}for(;++nn<Pn;){var zr=(xr=se[nn])[0],Gi=l[zr],Ui=xr[1];if(or&&xr[2]){if(Gi===x&&!(zr in l))return!1}else{var oo=new Be;if(ct)var To=ct(Gi,Ui,zr,l,v,oo);if(!(To===x?bn(Ui,Gi,3,ct,oo):To))return!1}}return!0}function Jr(l){return!(!yi(l)||function Nh(l){return!!Vt&&Vt in l}(l))&&(os(l)?Ci:Cr).test($c(l))}function no(l){return"function"==typeof l?l:null==l?Sl:"object"==typeof l?Gn(l)?Uo(l[0],l[1]):Io(l):km(l)}function Ei(l){if(!au(l))return hs(l);var v=[];for(var se in Si(l))et.call(l,se)&&"constructor"!=se&&v.push(se);return v}function $o(l,v){return l<v}function Oo(l,v){var se=-1,ct=Xr(l)?wn(l.length):[];return La(l,function(nn,Pn,or){ct[++se]=v(nn,Pn,or)}),ct}function Io(l){var v=Hc(l);return 1==v.length&&v[0][2]?Ku(v[0][0],v[0][1]):function(se){return se===l||br(se,l,v)}}function Uo(l,v){return Fh(l)&&dm(v)?Ku(Nl(l),v):function(se){var ct=fh(se,l);return ct===x&&ct===v?pf(se,l):bn(v,ct,3)}}function Tr(l,v,se,ct,nn){l!==v&&td(v,function(Pn,or){if(nn||(nn=new Be),yi(Pn))!function Eo(l,v,se,ct,nn,Pn,or){var xr=Sd(l,se),zr=Sd(v,se),Gi=or.get(zr);if(Gi)ga(l,se,Gi);else{var Ui=Pn?Pn(xr,zr,se+"",l,v,or):x,oo=Ui===x;if(oo){var To=Gn(zr),Ho=!To&&Sr(zr),ps=!To&&!Ho&&oc(zr);Ui=zr,To||Ho||ps?Gn(xr)?Ui=xr:ri(xr)?Ui=Va(xr):Ho?(oo=!1,Ui=Sf(zr,!0)):ps?(oo=!1,Ui=Lc(zr,!0)):Ui=[]:pc(zr)||dr(zr)?(Ui=xr,dr(xr)?Ui=gc(xr):(!yi(xr)||os(xr))&&(Ui=kh(zr))):oo=!1}oo&&(or.set(zr,Ui),nn(Ui,zr,ct,Pn,or),or.delete(zr)),ga(l,se,Ui)}}(l,v,or,se,Tr,ct,nn);else{var xr=ct?ct(Sd(l,or),Pn,or+"",l,v,nn):x;xr===x&&(xr=Pn),ga(l,or,xr)}},tl)}function Ps(l,v){var se=l.length;if(se)return Ac(v+=v<0?se:0,se)?l[v]:x}function zs(l,v,se){v=v.length?Rt(v,function(Pn){return Gn(Pn)?function(or){return cl(or,1===Pn.length?Pn[0]:Pn)}:Pn}):[Sl];var ct=-1;return v=Rt(v,pe(Zo())),function Wt(Fn,lr){var wn=Fn.length;for(Fn.sort(lr);wn--;)Fn[wn]=Fn[wn].value;return Fn}(Oo(l,function(Pn,or,xr){return{criteria:Rt(v,function(Gi){return Gi(Pn)}),index:++ct,value:Pn}}),function(Pn,or){return function lm(l,v,se){for(var ct=-1,nn=l.criteria,Pn=v.criteria,or=nn.length,xr=se.length;++ct<or;){var zr=Gl(nn[ct],Pn[ct]);if(zr)return ct>=xr?zr:zr*("desc"==se[ct]?-1:1)}return l.index-v.index}(Pn,or,se)})}function aa(l,v,se){for(var ct=-1,nn=v.length,Pn={};++ct<nn;){var or=v[ct],xr=cl(l,or);se(xr,or)&&bd(Pn,Js(or,l),xr)}return Pn}function Ts(l,v,se,ct){var nn=ct?Mo:yo,Pn=-1,or=v.length,xr=l;for(l===v&&(v=Va(v)),se&&(xr=Rt(l,pe(se)));++Pn<or;)for(var zr=0,Gi=v[Pn],Ui=se?se(Gi):Gi;(zr=nn(xr,Ui,zr,ct))>-1;)xr!==l&&ya.call(xr,zr,1),ya.call(l,zr,1);return l}function is(l,v){for(var se=l?v.length:0,ct=se-1;se--;){var nn=v[se];if(se==ct||nn!==Pn){var Pn=nn;Ac(nn)?ya.call(l,nn,1):Bu(l,nn)}}return l}function Ua(l,v){return l+ls(xs()*(v-l+1))}function Pc(l,v){var se="";if(!l||v<1||v>ve)return se;do{v%2&&(se+=l),(v=ls(v/2))&&(l+=l)}while(v);return se}function Es(l,v){return cd(um(l,v,Sl),l+"")}function Xa(l){return jo(Vl(l))}function wc(l,v){var se=Vl(l);return Bl(se,ec(v,0,se.length))}function bd(l,v,se,ct){if(!yi(l))return l;for(var nn=-1,Pn=(v=Js(v,l)).length,or=Pn-1,xr=l;null!=xr&&++nn<Pn;){var zr=Nl(v[nn]),Gi=se;if("__proto__"===zr||"constructor"===zr||"prototype"===zr)return l;if(nn!=or){var Ui=xr[zr];(Gi=ct?ct(Ui,zr,xr):x)===x&&(Gi=yi(Ui)?Ui:Ac(v[nn+1])?[]:{})}Na(xr,zr,Gi),xr=xr[zr]}return l}var Hl=Bo?function(l,v){return Bo.set(l,v),l}:Sl,Cc=st?function(l,v){return st(l,"toString",{configurable:!0,enumerable:!1,value:Sp(v),writable:!0})}:Sl;function sm(l){return Bl(Vl(l))}function El(l,v,se){var ct=-1,nn=l.length;v<0&&(v=-v>nn?0:nn+v),(se=se>nn?nn:se)<0&&(se+=nn),nn=v>se?0:se-v>>>0,v>>>=0;for(var Pn=wn(nn);++ct<nn;)Pn[ct]=l[ct+v];return Pn}function am(l,v){var se;return La(l,function(ct,nn,Pn){return!(se=v(ct,nn,Pn))}),!!se}function id(l,v,se){var ct=0,nn=null==l?ct:l.length;if("number"==typeof v&&v==v&&nn<=2147483647){for(;ct<nn;){var Pn=ct+nn>>>1,or=l[Pn];null!==or&&!ws(or)&&(se?or<=v:or<v)?ct=Pn+1:nn=Pn}return nn}return od(l,v,Sl,se)}function od(l,v,se,ct){var nn=0,Pn=null==l?0:l.length;if(0===Pn)return 0;for(var or=(v=se(v))!=v,xr=null===v,zr=ws(v),Gi=v===x;nn<Pn;){var Ui=ls((nn+Pn)/2),oo=se(l[Ui]),To=oo!==x,Ho=null===oo,ps=oo==oo,Gs=ws(oo);if(or)var Wo=ct||ps;else Wo=Gi?ps&&(ct||To):xr?ps&&To&&(ct||!Ho):zr?ps&&To&&!Ho&&(ct||!Gs):!Ho&&!Gs&&(ct?oo<=v:oo<v);Wo?nn=Ui+1:Pn=Ui}return Fo(Pn,4294967294)}function ku(l,v){for(var se=-1,ct=l.length,nn=0,Pn=[];++se<ct;){var or=l[se],xr=v?v(or):or;if(!se||!Mn(xr,zr)){var zr=xr;Pn[nn++]=0===or?0:or}}return Pn}function Fu(l){return"number"==typeof l?l:ws(l)?V:+l}function dl(l){if("string"==typeof l)return l;if(Gn(l))return Rt(l,dl)+"";if(ws(l))return Dc?Dc.call(l):"";var v=l+"";return"0"==v&&1/l==-Ft?"-0":v}function kc(l,v,se){var ct=-1,nn=dn,Pn=l.length,or=!0,xr=[],zr=xr;if(se)or=!1,nn=Xe;else if(Pn>=200){var Gi=v?null:Of(l);if(Gi)return qe(Gi);or=!1,nn=bt,zr=new ue}else zr=v?[]:xr;e:for(;++ct<Pn;){var Ui=l[ct],oo=v?v(Ui):Ui;if(Ui=se||0!==Ui?Ui:0,or&&oo==oo){for(var To=zr.length;To--;)if(zr[To]===oo)continue e;v&&zr.push(oo),xr.push(Ui)}else nn(zr,oo,se)||(zr!==xr&&zr.push(oo),xr.push(Ui))}return xr}function Bu(l,v){return null==(l=zc(l,v=Js(v,l)))||delete l[Nl(wa(v))]}function Nu(l,v,se,ct){return bd(l,v,se(cl(l,v)),ct)}function Fc(l,v,se,ct){for(var nn=l.length,Pn=ct?nn:-1;(ct?Pn--:++Pn<nn)&&v(l[Pn],Pn,l););return se?El(l,ct?0:Pn,ct?Pn+1:nn):El(l,ct?Pn+1:0,ct?nn:Pn)}function xd(l,v){var se=l;return se instanceof Os&&(se=se.value()),zn(v,function(ct,nn){return nn.func.apply(nn.thisArg,qt([ct],nn.args))},se)}function qd(l,v,se){var ct=l.length;if(ct<2)return ct?kc(l[0]):[];for(var nn=-1,Pn=wn(ct);++nn<ct;)for(var or=l[nn],xr=-1;++xr<ct;)xr!=nn&&(Pn[nn]=ed(Pn[nn]||or,l[xr],v,se));return kc(rs(Pn,1),v,se)}function Dh(l,v,se){for(var ct=-1,nn=l.length,Pn=v.length,or={};++ct<nn;)se(or,l[ct],ct<Pn?v[ct]:x);return or}function Zd(l){return ri(l)?l:[]}function Th(l){return"function"==typeof l?l:Sl}function Js(l,v){return Gn(l)?l:Fh(l,v)?[l]:Xu(la(l))}var Bc=Es;function ea(l,v,se){var ct=l.length;return se=se===x?ct:se,!v&&se>=ct?l:El(l,v,se)}var Sh=vn||function(l){return ns.clearTimeout(l)};function Sf(l,v){if(v)return l.slice();var se=l.length,ct=Xo?Xo(se):new l.constructor(se);return l.copy(ct),ct}function Lu(l){var v=new l.constructor(l.byteLength);return new vo(v).set(new vo(l)),v}function Lc(l,v){var se=v?Lu(l.buffer):l.buffer;return new l.constructor(se,l.byteOffset,l.length)}function Gl(l,v){if(l!==v){var se=l!==x,ct=null===l,nn=l==l,Pn=ws(l),or=v!==x,xr=null===v,zr=v==v,Gi=ws(v);if(!xr&&!Gi&&!Pn&&l>v||Pn&&or&&zr&&!xr&&!Gi||ct&&or&&zr||!se&&zr||!nn)return 1;if(!ct&&!Pn&&!Gi&&l<v||Gi&&se&&nn&&!ct&&!Pn||xr&&se&&nn||!or&&nn||!zr)return-1}return 0}function Jd(l,v,se,ct){for(var nn=-1,Pn=l.length,or=se.length,xr=-1,zr=v.length,Gi=fs(Pn-or,0),Ui=wn(zr+Gi),oo=!ct;++xr<zr;)Ui[xr]=v[xr];for(;++nn<or;)(oo||nn<Pn)&&(Ui[se[nn]]=l[nn]);for(;Gi--;)Ui[xr++]=l[nn++];return Ui}function sd(l,v,se,ct){for(var nn=-1,Pn=l.length,or=-1,xr=se.length,zr=-1,Gi=v.length,Ui=fs(Pn-xr,0),oo=wn(Ui+Gi),To=!ct;++nn<Ui;)oo[nn]=l[nn];for(var Ho=nn;++zr<Gi;)oo[Ho+zr]=v[zr];for(;++or<xr;)(To||nn<Pn)&&(oo[Ho+se[or]]=l[nn++]);return oo}function Va(l,v){var se=-1,ct=l.length;for(v||(v=wn(ct));++se<ct;)v[se]=l[se];return v}function Pa(l,v,se,ct){var nn=!se;se||(se={});for(var Pn=-1,or=v.length;++Pn<or;){var xr=v[Pn],zr=ct?ct(se[xr],l[xr],xr,se,l):x;zr===x&&(zr=l[xr]),nn?al(se,xr,zr):Na(se,xr,zr)}return se}function vs(l,v){return function(se,ct){var nn=Gn(se)?Ar:xa,Pn=v?v():{};return nn(se,l,Zo(ct,2),Pn)}}function wl(l){return Es(function(v,se){var ct=-1,nn=se.length,Pn=nn>1?se[nn-1]:x,or=nn>2?se[2]:x;for(Pn=l.length>3&&"function"==typeof Pn?(nn--,Pn):x,or&&pl(se[0],se[1],or)&&(Pn=nn<3?x:Pn,nn=1),v=Si(v);++ct<nn;){var xr=se[ct];xr&&l(v,xr,ct,Pn)}return v})}function ja(l,v){return function(se,ct){if(null==se)return se;if(!Xr(se))return l(se,ct);for(var nn=se.length,Pn=v?nn:-1,or=Si(se);(v?Pn--:++Pn<nn)&&!1!==ct(or[Pn],Pn,or););return se}}function If(l){return function(v,se,ct){for(var nn=-1,Pn=Si(v),or=ct(v),xr=or.length;xr--;){var zr=or[l?xr:++nn];if(!1===se(Pn[zr],zr,Pn))break}return v}}function Rf(l){return function(v){var se=Pr(v=la(v))?nr(v):x,ct=se?se[0]:v.charAt(0),nn=se?ea(se,1).join(""):v.slice(1);return ct[l]()+nn}}function ad(l){return function(v){return zn(Rm(Ep(v).replace(Jo,"")),l,"")}}function nu(l){return function(){var v=arguments;switch(v.length){case 0:return new l;case 1:return new l(v[0]);case 2:return new l(v[0],v[1]);case 3:return new l(v[0],v[1],v[2]);case 4:return new l(v[0],v[1],v[2],v[3]);case 5:return new l(v[0],v[1],v[2],v[3],v[4]);case 6:return new l(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new l(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var se=ql(l.prototype),ct=l.apply(se,v);return yi(ct)?ct:se}}function cm(l){return function(v,se,ct){var nn=Si(v);if(!Xr(v)){var Pn=Zo(se,3);v=Qa(v),se=function(xr){return Pn(nn[xr],xr,nn)}}var or=l(v,se,ct);return or>-1?nn[Pn?v[or]:or]:x}}function Vu(l){return ic(function(v){var se=v.length,ct=se,nn=Vo.prototype.thru;for(l&&v.reverse();ct--;){var Pn=v[ct];if("function"!=typeof Pn)throw new ki(C);if(nn&&!or&&"wrapper"==Cl(Pn))var or=new Vo([],!0)}for(ct=or?ct:se;++ct<se;){var xr=Cl(Pn=v[ct]),zr="wrapper"==xr?Ad(Pn):x;or=zr&&Bh(zr[0])&&424==zr[1]&&!zr[4].length&&1==zr[9]?or[Cl(zr[0])].apply(or,zr[3]):1==Pn.length&&Bh(Pn)?or[xr]():or.thru(Pn)}return function(){var Gi=arguments,Ui=Gi[0];if(or&&1==Gi.length&&Gn(Ui))return or.plant(Ui).value();for(var oo=0,To=se?v[oo].apply(this,Gi):Ui;++oo<se;)To=v[oo].call(this,To);return To}})}function Uc(l,v,se,ct,nn,Pn,or,xr,zr,Gi){var Ui=v&$,oo=1&v,To=2&v,Ho=24&v,ps=512&v,Gs=To?x:nu(l);return function Wo(){for(var $s=arguments.length,na=wn($s),lc=$s;lc--;)na[lc]=arguments[lc];if(Ho)var Il=Md(Wo),Kl=function Kn(Fn,lr){for(var wn=Fn.length,er=0;wn--;)Fn[wn]===lr&&++er;return er}(na,Il);if(ct&&(na=Jd(na,ct,nn,Ho)),Pn&&(na=sd(na,Pn,or,Ho)),$s-=Kl,Ho&&$s<Gi){var Oa=he(na,Il);return wd(l,v,Uc,Wo.placeholder,se,na,Oa,xr,zr,Gi-$s)}var cc=oo?se:this,Hd=To?cc[l]:l;return $s=na.length,xr?na=function hc(l,v){for(var se=l.length,ct=Fo(v.length,se),nn=Va(l);ct--;){var Pn=v[ct];l[ct]=Ac(Pn,se)?nn[Pn]:x}return l}(na,xr):ps&&$s>1&&na.reverse(),Ui&&zr<$s&&(na.length=zr),this&&this!==ns&&this instanceof Wo&&(Hd=Gs||nu(Hd)),Hd.apply(cc,na)}}function Ih(l,v){return function(se,ct){return function J(l,v,se,ct){return va(l,function(nn,Pn,or){v(ct,se(nn),Pn,or)}),ct}(se,l,v(ct),{})}}function Vc(l,v){return function(se,ct){var nn;if(se===x&&ct===x)return v;if(se!==x&&(nn=se),ct!==x){if(nn===x)return ct;"string"==typeof se||"string"==typeof ct?(se=dl(se),ct=dl(ct)):(se=Fu(se),ct=Fu(ct)),nn=l(se,ct)}return nn}}function iu(l){return ic(function(v){return v=Rt(v,pe(Zo())),Es(function(se){var ct=this;return l(v,function(nn){return ur(nn,ct,se)})})})}function ld(l,v){var se=(v=v===x?" ":dl(v)).length;if(se<2)return se?Pc(v,l):v;var ct=Pc(v,ao(l/xn(v)));return Pr(v)?ea(nr(ct),0,l).join(""):ct.slice(0,l)}function Rh(l){return function(v,se,ct){return ct&&"number"!=typeof ct&&pl(v,se,ct)&&(se=ct=x),v=gl(v),se===x?(se=v,v=0):se=gl(se),function Pl(l,v,se,ct){for(var nn=-1,Pn=fs(ao((v-l)/(se||1)),0),or=wn(Pn);Pn--;)or[ct?Pn:++nn]=l,l+=se;return or}(v,se,ct=ct===x?v<se?1:-1:gl(ct),l)}}function jc(l){return function(v,se){return"string"==typeof v&&"string"==typeof se||(v=za(v),se=za(se)),l(v,se)}}function wd(l,v,se,ct,nn,Pn,or,xr,zr,Gi){var Ui=8&v;v|=Ui?32:64,4&(v&=~(Ui?64:32))||(v&=-4);var Gs=[l,v,nn,Ui?Pn:x,Ui?or:x,Ui?x:Pn,Ui?x:or,xr,zr,Gi],Wo=se.apply(x,Gs);return Bh(l)&&ml(Wo,Gs),Wo.placeholder=ct,Lh(Wo,l,v)}function fl(l){var v=Fi[l];return function(se,ct){if(se=za(se),(ct=null==ct?0:Fo(ys(ct),292))&&us(se)){var nn=(la(se)+"e").split("e");return+((nn=(la(v(nn[0]+"e"+(+nn[1]+ct)))+"e").split("e"))[0]+"e"+(+nn[1]-ct))}return v(se)}}var Of=_s&&1/qe(new _s([,-0]))[1]==Ft?function(l){return new _s(l)}:Ip;function Cd(l){return function(v){var se=Ha(v);return se==R?Pi(v):se==H?function wt(Fn){var lr=-1,wn=Array(Fn.size);return Fn.forEach(function(er){wn[++lr]=[er,er]}),wn}(v):function _o(Fn,lr){return Rt(lr,function(wn){return[wn,Fn[wn]]})}(v,l(v))}}function rc(l,v,se,ct,nn,Pn,or,xr){var zr=2&v;if(!zr&&"function"!=typeof l)throw new ki(C);var Gi=ct?ct.length:0;if(Gi||(v&=-97,ct=nn=x),or=or===x?or:fs(ys(or),0),xr=xr===x?xr:ys(xr),Gi-=nn?nn.length:0,64&v){var Ui=ct,oo=nn;ct=nn=x}var To=zr?x:Ad(l),Ho=[l,v,se,ct,nn,Ui,oo,Pn,or,xr];if(To&&function Fl(l,v){var se=l[1],ct=v[1],nn=se|ct;if(!(nn<131)&&!(ct==$&&8==se||ct==$&&256==se&&l[7].length<=v[8]||384==ct&&v[7].length<=v[8]&&8==se))return l;1&ct&&(l[2]=v[2],nn|=1&se?0:4);var xr=v[3];if(xr){var zr=l[3];l[3]=zr?Jd(zr,xr,v[4]):xr,l[4]=zr?he(l[3],U):v[4]}(xr=v[5])&&(l[5]=(zr=l[5])?sd(zr,xr,v[6]):xr,l[6]=zr?he(l[5],U):v[6]),(xr=v[7])&&(l[7]=xr),ct&$&&(l[8]=null==l[8]?v[8]:Fo(l[8],v[8])),null==l[9]&&(l[9]=v[9]),l[0]=v[0],l[1]=nn}(Ho,To),l=Ho[0],v=Ho[1],se=Ho[2],ct=Ho[3],nn=Ho[4],!(xr=Ho[9]=Ho[9]===x?zr?0:l.length:fs(Ho[9]-Gi,0))&&24&v&&(v&=-25),v&&1!=v)ps=8==v||16==v?function ru(l,v,se){var ct=nu(l);return function nn(){for(var Pn=arguments.length,or=wn(Pn),xr=Pn,zr=Md(nn);xr--;)or[xr]=arguments[xr];var Gi=Pn<3&&or[0]!==zr&&or[Pn-1]!==zr?[]:he(or,zr);return(Pn-=Gi.length)<se?wd(l,v,Uc,nn.placeholder,x,or,Gi,x,x,se-Pn):ur(this&&this!==ns&&this instanceof nn?ct:l,this,or)}}(l,v,xr):32!=v&&33!=v||nn.length?Uc.apply(x,Ho):function bg(l,v,se,ct){var nn=1&v,Pn=nu(l);return function or(){for(var xr=-1,zr=arguments.length,Gi=-1,Ui=ct.length,oo=wn(Ui+zr),To=this&&this!==ns&&this instanceof or?Pn:l;++Gi<Ui;)oo[Gi]=ct[Gi];for(;zr--;)oo[Gi++]=arguments[++xr];return ur(To,nn?se:this,oo)}}(l,v,se,ct);else var ps=function Uu(l,v,se){var ct=1&v,nn=nu(l);return function Pn(){return(this&&this!==ns&&this instanceof Pn?nn:l).apply(ct?se:this,arguments)}}(l,v,se);return Lh((To?Hl:ml)(ps,Ho),l,v)}function ju(l,v,se,ct){return l===x||Mn(l,qo[se])&&!et.call(ct,se)?v:l}function ou(l,v,se,ct,nn,Pn){return yi(l)&&yi(v)&&(Pn.set(v,l),Tr(l,v,x,ou,Pn),Pn.delete(v)),l}function Hu(l){return pc(l)?x:l}function Pf(l,v,se,ct,nn,Pn){var or=1&se,xr=l.length,zr=v.length;if(xr!=zr&&!(or&&zr>xr))return!1;var Gi=Pn.get(l),Ui=Pn.get(v);if(Gi&&Ui)return Gi==v&&Ui==l;var oo=-1,To=!0,Ho=2&se?new ue:x;for(Pn.set(l,v),Pn.set(v,l);++oo<xr;){var ps=l[oo],Gs=v[oo];if(ct)var Wo=or?ct(Gs,ps,oo,v,l,Pn):ct(ps,Gs,oo,l,v,Pn);if(Wo!==x){if(Wo)continue;To=!1;break}if(Ho){if(!mr(v,function($s,na){if(!bt(Ho,na)&&(ps===$s||nn(ps,$s,se,ct,Pn)))return Ho.push(na)})){To=!1;break}}else if(ps!==Gs&&!nn(ps,Gs,se,ct,Pn)){To=!1;break}}return Pn.delete(l),Pn.delete(v),To}function ic(l){return cd(um(l,x,Qu),l+"")}function Gu(l){return el(l,Qa,Oh)}function zu(l){return el(l,tl,Gc)}var Ad=Bo?function(l){return Bo.get(l)}:Ip;function Cl(l){for(var v=l.name+"",se=ma[v],ct=et.call(ma,v)?se.length:0;ct--;){var nn=se[ct],Pn=nn.func;if(null==Pn||Pn==l)return nn.name}return v}function Md(l){return(et.call(fn,"placeholder")?fn:l).placeholder}function Zo(){var l=fn.iteratee||yh;return l=l===yh?no:l,arguments.length?l(arguments[0],arguments[1]):l}function su(l,v){var se=l.__data__;return function Lf(l){var v=typeof l;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==l:null===l}(v)?se["string"==typeof v?"string":"hash"]:se.map}function Hc(l){for(var v=Qa(l),se=v.length;se--;){var ct=v[se],nn=l[ct];v[se]=[ct,nn,dm(nn)]}return v}function kl(l,v){var se=function ni(Fn,lr){return null==Fn?x:Fn[lr]}(l,v);return Jr(se)?se:x}var Oh=Rs?function(l){return null==l?[]:(l=Si(l),Ut(Rs(l),function(v){return ca.call(l,v)}))}:jd,Gc=Rs?function(l){for(var v=[];l;)qt(v,Oh(l)),l=gs(l);return v}:jd,Ha=Ka;function Td(l,v,se){for(var ct=-1,nn=(v=Js(v,l)).length,Pn=!1;++ct<nn;){var or=Nl(v[ct]);if(!(Pn=null!=l&&se(l,or)))break;l=l[or]}return Pn||++ct!=nn?Pn:!!(nn=null==l?0:l.length)&&Ir(nn)&&Ac(or,nn)&&(Gn(l)||dr(l))}function kh(l){return"function"!=typeof l.constructor||au(l)?{}:ql(gs(l))}function Nf(l){return Gn(l)||dr(l)||!!(Ee&&l&&l[Ee])}function Ac(l,v){var se=typeof l;return!!(v=v??ve)&&("number"==se||"symbol"!=se&&Or.test(l))&&l>-1&&l%1==0&&l<v}function pl(l,v,se){if(!yi(se))return!1;var ct=typeof v;return!!("number"==ct?Xr(se)&&Ac(v,se.length):"string"==ct&&v in se)&&Mn(se[v],l)}function Fh(l,v){if(Gn(l))return!1;var se=typeof l;return!("number"!=se&&"symbol"!=se&&"boolean"!=se&&null!=l&&!ws(l))||it.test(l)||!me.test(l)||null!=v&&l in Si(v)}function Bh(l){var v=Cl(l),se=fn[v];if("function"!=typeof se||!(v in Os.prototype))return!1;if(l===se)return!0;var ct=Ad(se);return!!ct&&l===ct[0]}(Ys&&Ha(new Ys(new ArrayBuffer(1)))!=Ge||sa&&Ha(new sa)!=R||Sa&&Ha(Sa.resolve())!=M||_s&&Ha(new _s)!=H||ra&&Ha(new ra)!=rt)&&(Ha=function(l){var v=Ka(l),se=v==h?l.constructor:x,ct=se?$c(se):"";if(ct)switch(ct){case Xl:return Ge;case Yl:return R;case da:return M;case qc:return H;case Ql:return rt}return v});var Uf=js?os:bf;function au(l){var v=l&&l.constructor;return l===("function"==typeof v&&v.prototype||qo)}function dm(l){return l==l&&!yi(l)}function Ku(l,v){return function(se){return null!=se&&se[l]===v&&(v!==x||l in Si(se))}}function um(l,v,se){return v=fs(v===x?l.length-1:v,0),function(){for(var ct=arguments,nn=-1,Pn=fs(ct.length-v,0),or=wn(Pn);++nn<Pn;)or[nn]=ct[v+nn];nn=-1;for(var xr=wn(v+1);++nn<v;)xr[nn]=ct[nn];return xr[v]=se(or),ur(l,this,xr)}}function zc(l,v){return v.length<2?l:cl(l,El(v,0,-1))}function Sd(l,v){if(("constructor"!==v||"function"!=typeof l[v])&&"__proto__"!=v)return l[v]}var ml=Gf(Hl),Id=bi||function(l,v){return ns.setTimeout(l,v)},cd=Gf(Cc);function Lh(l,v,se){var ct=v+"";return cd(l,function Wu(l,v){var se=v.length;if(!se)return l;var ct=se-1;return v[ct]=(se>1?"& ":"")+v[ct],v=v.join(se>2?", ":" "),l.replace(vr,"{\n/* [wrapped with "+v+"] */\n")}(ct,function zf(l,v){return Di(xt,function(se){var ct="_."+se[0];v&se[1]&&!dn(l,ct)&&l.push(ct)}),l.sort()}(function Ph(l){var v=l.match(Cn);return v?v[1].split(tr):[]}(ct),se)))}function Gf(l){var v=0,se=0;return function(){var ct=Ki(),nn=16-(ct-se);if(se=ct,nn>0){if(++v>=800)return arguments[0]}else v=0;return l.apply(x,arguments)}}function Bl(l,v){var se=-1,ct=l.length,nn=ct-1;for(v=v===x?ct:v;++se<v;){var Pn=Ua(se,nn),or=l[Pn];l[Pn]=l[se],l[se]=or}return l.length=v,l}var Xu=function Vf(l){var v=c(l,function(ct){return 500===se.size&&se.clear(),ct}),se=v.cache;return v}(function(l){var v=[];return 46===l.charCodeAt(0)&&v.push(""),l.replace(Me,function(se,ct,nn,Pn){v.push(nn?Pn.replace(sr,"$1"):ct||se)}),v});function Nl(l){if("string"==typeof l||ws(l))return l;var v=l+"";return"0"==v&&1/l==-Ft?"-0":v}function $c(l){if(null!=l){try{return Te.call(l)}catch{}try{return l+""}catch{}}return""}function Al(l){if(l instanceof Os)return l.clone();var v=new Vo(l.__wrapped__,l.__chain__);return v.__actions__=Va(l.__actions__),v.__index__=l.__index__,v.__values__=l.__values__,v}var ud=Es(function(l,v){return ri(l)?ed(l,rs(v,1,ri,!0)):[]}),Ll=Es(function(l,v){var se=wa(v);return ri(se)&&(se=x),ri(l)?ed(l,rs(v,1,ri,!0),Zo(se,2)):[]}),Vh=Es(function(l,v){var se=wa(v);return ri(se)&&(se=x),ri(l)?ed(l,rs(v,1,ri,!0),x,se):[]});function lu(l,v,se){var ct=null==l?0:l.length;if(!ct)return-1;var nn=null==se?0:ys(se);return nn<0&&(nn=fs(ct+nn,0)),eo(l,Zo(v,3),nn)}function hd(l,v,se){var ct=null==l?0:l.length;if(!ct)return-1;var nn=ct-1;return se!==x&&(nn=ys(se),nn=se<0?fs(ct+nn,0):Fo(nn,ct-1)),eo(l,Zo(v,3),nn,!0)}function Qu(l){return null!=l&&l.length?rs(l,1):[]}function zh(l){return l&&l.length?l[0]:x}var Ml=Es(function(l){var v=Rt(l,Zd);return v.length&&v[0]===l[0]?p(v):[]}),$h=Es(function(l){var v=wa(l),se=Rt(l,Zd);return v===wa(se)?v=x:se.pop(),se.length&&se[0]===l[0]?p(se,Zo(v,2)):[]}),Kf=Es(function(l){var v=wa(l),se=Rt(l,Zd);return(v="function"==typeof v?v:x)&&se.pop(),se.length&&se[0]===l[0]?p(se,x,v):[]});function wa(l){var v=null==l?0:l.length;return v?l[v-1]:x}var Zu=Es(Xf);function Xf(l,v){return l&&l.length&&v&&v.length?Ts(l,v):l}var Ju=ic(function(l,v){var se=null==l?0:l.length,ct=jl(l,v);return is(l,Rt(v,function(nn){return Ac(nn,se)?+nn:nn}).sort(Gl)),ct});function hu(l){return null==l?l:pa.call(l)}var np=Es(function(l){return kc(rs(l,1,ri,!0))}),rp=Es(function(l){var v=wa(l);return ri(v)&&(v=x),kc(rs(l,1,ri,!0),Zo(v,2))}),ip=Es(function(l){var v=wa(l);return v="function"==typeof v?v:x,kc(rs(l,1,ri,!0),x,v)});function fu(l){if(!l||!l.length)return[];var v=0;return l=Ut(l,function(se){if(ri(se))return v=fs(se.length,v),!0}),ti(v,function(se){return Rt(l,ce(se))})}function pu(l,v){if(!l||!l.length)return[];var se=fu(l);return null==v?se:Rt(se,function(ct){return ur(v,x,ct)})}var pm=Es(function(l,v){return ri(l)?ed(l,v):[]}),Zh=Es(function(l){return qd(Ut(l,ri))}),Jh=Es(function(l){var v=wa(l);return ri(v)&&(v=x),qd(Ut(l,ri),Zo(v,2))}),mm=Es(function(l){var v=wa(l);return v="function"==typeof v?v:x,qd(Ut(l,ri),x,v)}),Kc=Es(fu),ef=Es(function(l){var v=l.length,se=v>1?l[v-1]:x;return se="function"==typeof se?(l.pop(),se):x,pu(l,se)});function nh(l){var v=fn(l);return v.__chain__=!0,v}function mu(l,v){return v(l)}var vm=ic(function(l){var v=l.length,se=v?l[0]:0,ct=this.__wrapped__,nn=function(Pn){return jl(Pn,l)};return!(v>1||this.__actions__.length)&&ct instanceof Os&&Ac(se)?((ct=ct.slice(se,+se+(v?1:0))).__actions__.push({func:mu,args:[nn],thisArg:x}),new Vo(ct,this.__chain__).thru(function(Pn){return v&&!Pn.length&&Pn.push(x),Pn})):this.thru(nn)}),gu=vs(function(l,v,se){et.call(l,se)?++l[se]:al(l,se,1)}),ih=cm(lu),_u=cm(hd);function vu(l,v){return(Gn(l)?Di:La)(l,Zo(v,3))}function Bd(l,v){return(Gn(l)?mt:Kd)(l,Zo(v,3))}var Em=vs(function(l,v,se){et.call(l,se)?l[se].push(v):al(l,se,[v])}),yu=Es(function(l,v,se){var ct=-1,nn="function"==typeof v,Pn=Xr(l)?wn(l.length):[];return La(l,function(or){Pn[++ct]=nn?ur(v,or,se):je(or,v,se)}),Pn}),cp=vs(function(l,v,se){al(l,se,v)});function fd(l,v){return(Gn(l)?Rt:Oo)(l,Zo(v,3))}var wm=vs(function(l,v,se){l[se?0:1].push(v)},function(){return[[],[]]}),xg=Es(function(l,v){if(null==l)return[];var se=v.length;return se>1&&pl(l,v[0],v[1])?v=[]:se>2&&pl(v[0],v[1],v[2])&&(v=[v[0]]),zs(l,rs(v,1),[])}),cf=cr||function(){return ns.Date.now()};function up(l,v,se){return v=se?x:v,rc(l,$,x,x,x,x,v=l&&null==v?l.length:v)}function xu(l,v){var se;if("function"!=typeof v)throw new ki(C);return l=ys(l),function(){return--l>0&&(se=v.apply(this,arguments)),l<=1&&(v=x),se}}var Eu=Es(function(l,v,se){var ct=1;if(se.length){var nn=he(se,Md(Eu));ct|=32}return rc(l,ct,v,se,nn)}),hp=Es(function(l,v,se){var ct=3;if(se.length){var nn=he(se,Md(hp));ct|=32}return rc(v,ct,l,se,nn)});function wu(l,v,se){var ct,nn,Pn,or,xr,zr,Gi=0,Ui=!1,oo=!1,To=!0;if("function"!=typeof l)throw new ki(C);function Ho(Oa){var cc=ct,Hd=nn;return ct=nn=x,Gi=Oa,or=l.apply(Hd,cc)}function Wo(Oa){var cc=Oa-zr;return zr===x||cc>=v||cc<0||oo&&Oa-Gi>=Pn}function $s(){var Oa=cf();if(Wo(Oa))return na(Oa);xr=Id($s,function Gs(Oa){var Um=v-(Oa-zr);return oo?Fo(Um,Pn-(Oa-Gi)):Um}(Oa))}function na(Oa){return xr=x,To&&ct?Ho(Oa):(ct=nn=x,or)}function Kl(){var Oa=cf(),cc=Wo(Oa);if(ct=arguments,nn=this,zr=Oa,cc){if(xr===x)return function ps(Oa){return Gi=Oa,xr=Id($s,v),Ui?Ho(Oa):or}(zr);if(oo)return Sh(xr),xr=Id($s,v),Ho(zr)}return xr===x&&(xr=Id($s,v)),or}return v=za(v)||0,yi(se)&&(Ui=!!se.leading,Pn=(oo="maxWait"in se)?fs(za(se.maxWait)||0,v):Pn,To="trailing"in se?!!se.trailing:To),Kl.cancel=function lc(){xr!==x&&Sh(xr),Gi=0,ct=zr=nn=xr=x},Kl.flush=function Il(){return xr===x?or:na(cf())},Kl}var d=Es(function(l,v){return yd(l,1,v)}),s=Es(function(l,v,se){return yd(l,za(v)||0,se)});function c(l,v){if("function"!=typeof l||null!=v&&"function"!=typeof v)throw new ki(C);var se=function(){var ct=arguments,nn=v?v.apply(this,ct):ct[0],Pn=se.cache;if(Pn.has(nn))return Pn.get(nn);var or=l.apply(this,ct);return se.cache=Pn.set(nn,or)||Pn,or};return se.cache=new(c.Cache||es),se}function T(l){if("function"!=typeof l)throw new ki(C);return function(){var v=arguments;switch(v.length){case 0:return!l.call(this);case 1:return!l.call(this,v[0]);case 2:return!l.call(this,v[0],v[1]);case 3:return!l.call(this,v[0],v[1],v[2])}return!l.apply(this,v)}}c.Cache=es;var de=Bc(function(l,v){var se=(v=1==v.length&&Gn(v[0])?Rt(v[0],pe(Zo())):Rt(rs(v,1),pe(Zo()))).length;return Es(function(ct){for(var nn=-1,Pn=Fo(ct.length,se);++nn<Pn;)ct[nn]=v[nn].call(this,ct[nn]);return ur(l,this,ct)})}),te=Es(function(l,v){var se=he(v,Md(te));return rc(l,32,x,v,se)}),we=Es(function(l,v){var se=he(v,Md(we));return rc(l,64,x,v,se)}),Oe=ic(function(l,v){return rc(l,256,x,x,x,v)});function Mn(l,v){return l===v||l!=l&&v!=v}var Bn=jc(rd),Qn=jc(function(l,v){return l>=v}),dr=vt(function(){return arguments}())?vt:function(l){return fo(l)&&et.call(l,"callee")&&!ca.call(l,"callee")},Gn=wn.isArray,Nr=Fs?pe(Fs):function jt(l){return fo(l)&&Ka(l)==It};function Xr(l){return null!=l&&Ir(l.length)&&!os(l)}function ri(l){return fo(l)&&Xr(l)}var Sr=qs||bf,Hr=Vs?pe(Vs):function hn(l){return fo(l)&&Ka(l)==Ze};function No(l){if(!fo(l))return!1;var v=Ka(l);return v==ye||"[object DOMException]"==v||"string"==typeof l.message&&"string"==typeof l.name&&!pc(l)}function os(l){if(!yi(l))return!1;var v=Ka(l);return v==P||v==B||"[object AsyncFunction]"==v||"[object Proxy]"==v}function Ri(l){return"number"==typeof l&&l==ys(l)}function Ir(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=ve}function yi(l){var v=typeof l;return null!=l&&("object"==v||"function"==v)}function fo(l){return null!=l&&"object"==typeof l}var ia=ds?pe(ds):function Nn(l){return fo(l)&&Ha(l)==R};function zl(l){return"number"==typeof l||fo(l)&&Ka(l)==N}function pc(l){if(!fo(l)||Ka(l)!=h)return!1;var v=gs(l);if(null===v)return!0;var se=et.call(v,"constructor")&&v.constructor;return"function"==typeof se&&se instanceof se&&Te.call(se)==Wn}var Cu=Xs?pe(Xs):function ei(l){return fo(l)&&Ka(l)==z},mc=Jn?pe(Jn):function oi(l){return fo(l)&&Ha(l)==H};function Ca(l){return"string"==typeof l||!Gn(l)&&fo(l)&&Ka(l)==X}function ws(l){return"symbol"==typeof l||fo(l)&&Ka(l)==oe}var oc=rr?pe(rr):function wi(l){return fo(l)&&Ir(l.length)&&!!Ni[Ka(l)]},Ld=jc($o),sc=jc(function(l,v){return l<=v});function Ma(l){if(!l)return[];if(Xr(l))return Ca(l)?nr(l):Va(l);if(yt&&l[yt])return function Wi(Fn){for(var lr,wn=[];!(lr=Fn.next()).done;)wn.push(lr.value);return wn}(l[yt]());var v=Ha(l);return(v==R?Pi:v==H?qe:Vl)(l)}function gl(l){return l?(l=za(l))===Ft||l===-Ft?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function ys(l){var v=gl(l),se=v%1;return v==v?se?v-se:v:0}function Ud(l){return l?ec(ys(l),0,ge):0}function za(l){if("number"==typeof l)return l;if(ws(l))return V;if(yi(l)){var v="function"==typeof l.valueOf?l.valueOf():l;l=yi(v)?v+"":v}if("string"!=typeof l)return 0===l?l:+l;l=rn(l);var se=so.test(l);return se||ii.test(l)?Ws(l.slice(2),se?2:8):Ii.test(l)?V:+l}function gc(l){return Pa(l,tl(l))}function la(l){return null==l?"":dl(l)}var uf=wl(function(l,v){if(au(v)||Xr(v))Pa(v,Qa(v),l);else for(var se in v)et.call(v,se)&&Na(l,se,v[se])}),Mm=wl(function(l,v){Pa(v,tl(v),l)}),uh=wl(function(l,v,se,ct){Pa(v,tl(v),l,ct)}),Du=wl(function(l,v,se,ct){Pa(v,Qa(v),l,ct)}),Tu=ic(jl),Vd=Es(function(l,v){l=Si(l);var se=-1,ct=v.length,nn=ct>2?v[2]:x;for(nn&&pl(v[0],v[1],nn)&&(ct=1);++se<ct;)for(var Pn=v[se],or=tl(Pn),xr=-1,zr=or.length;++xr<zr;){var Gi=or[xr],Ui=l[Gi];(Ui===x||Mn(Ui,qo[Gi])&&!et.call(l,Gi))&&(l[Gi]=Pn[Gi])}return l}),hf=Es(function(l){return l.push(x,ou),ur(gh,x,l)});function fh(l,v,se){var ct=null==l?x:cl(l,v);return ct===x?se:ct}function pf(l,v){return null!=l&&Td(l,v,Ol)}var mf=Ih(function(l,v,se){null!=v&&"function"!=typeof v.toString&&(v=yn.call(v)),l[v]=se},Sp(Sl)),wg=Ih(function(l,v,se){null!=v&&"function"!=typeof v.toString&&(v=yn.call(v)),et.call(l,v)?l[v].push(se):l[v]=[se]},Zo),Dm=Es(je);function Qa(l){return Xr(l)?xi(l):Ei(l)}function tl(l){return Xr(l)?xi(l,!0):function So(l){if(!yi(l))return function jf(l){var v=[];if(null!=l)for(var se in Si(l))v.push(se);return v}(l);var v=au(l),se=[];for(var ct in l)"constructor"==ct&&(v||!et.call(l,ct))||se.push(ct);return se}(l)}var mh=wl(function(l,v,se){Tr(l,v,se)}),gh=wl(function(l,v,se,ct){Tr(l,v,se,ct)}),_h=ic(function(l,v){var se={};if(null==l)return se;var ct=!1;v=Rt(v,function(Pn){return Pn=Js(Pn,l),ct||(ct=Pn.length>1),Pn}),Pa(l,zu(l),se),ct&&(se=ll(se,7,Hu));for(var nn=v.length;nn--;)Bu(se,v[nn]);return se}),xp=ic(function(l,v){return null==l?{}:function bo(l,v){return aa(l,v,function(se,ct){return pf(l,ct)})}(l,v)});function gf(l,v){if(null==l)return{};var se=Rt(zu(l),function(ct){return[ct]});return v=Zo(v),aa(l,se,function(ct,nn){return v(ct,nn[0])})}var Bs=Cd(Qa),Da=Cd(tl);function Vl(l){return null==l?[]:Re(l,Qa(l))}var ac=ad(function(l,v,se){return v=v.toLowerCase(),l+(se?_c(v):v)});function _c(l){return Mp(la(l).toLowerCase())}function Ep(l){return(l=la(l))&&l.replace(fi,ar).replace(Us,"")}var F_=ad(function(l,v,se){return l+(se?"-":"")+v.toLowerCase()}),B_=ad(function(l,v,se){return l+(se?" ":"")+v.toLowerCase()}),Ag=Rf("toLowerCase"),Sm=ad(function(l,v,se){return l+(se?"_":"")+v.toLowerCase()}),j_=ad(function(l,v,se){return l+(se?" ":"")+Mp(v)}),Ig=ad(function(l,v,se){return l+(se?" ":"")+v.toUpperCase()}),Mp=Rf("toUpperCase");function Rm(l,v,se){return l=la(l),(v=se?x:v)===x?function mi(Fn){return Ti.test(Fn)}(l)?function Fr(Fn){return Fn.match(Zn)||[]}(l):function li(Fn){return Fn.match(Er)||[]}(l):l.match(v)||[]}var Dp=Es(function(l,v){try{return ur(l,x,v)}catch(se){return No(se)?se:new Ur(se)}}),Rg=ic(function(l,v){return Di(v,function(se){se=Nl(se),al(l,se,Eu(l[se],l))}),l});function Sp(l){return function(){return l}}var yf=Vu(),Og=Vu(!0);function Sl(l){return l}function yh(l){return no("function"==typeof l?l:ll(l,1))}var $_=Es(function(l,v){return function(se){return je(se,l,v)}}),W_=Es(function(l,v){return function(se){return je(l,se,v)}});function Pm(l,v,se){var ct=Qa(v),nn=nc(v,ct);null==se&&(!yi(v)||!nn.length&&ct.length)&&(se=v,v=l,l=this,nn=nc(v,Qa(v)));var Pn=!(yi(se)&&"chain"in se&&!se.chain),or=os(l);return Di(nn,function(xr){var zr=v[xr];l[xr]=zr,or&&(l.prototype[xr]=function(){var Gi=this.__chain__;if(Pn||Gi){var Ui=l(this.__wrapped__);return(Ui.__actions__=Va(this.__actions__)).push({func:zr,args:arguments,thisArg:l}),Ui.__chain__=Gi,Ui}return zr.apply(l,qt([this.value()],arguments))})}),l}function Ip(){}var Fg=iu(Rt),Bg=iu(mn),bh=iu(mr);function km(l){return Fh(l)?ce(Nl(l)):function Zs(l){return function(v){return cl(v,l)}}(l)}var K_=Rh(),Rp=Rh(!0);function jd(){return[]}function bf(){return!1}var Lm=Vc(function(l,v){return l+v},0),X_=fl("ceil"),Y_=Vc(function(l,v){return l/v},1),Q_=fl("floor"),Hg=Vc(function(l,v){return l*v},1),tv=fl("round"),nv=Vc(function(l,v){return l-v},0);return fn.after=function Yc(l,v){if("function"!=typeof v)throw new ki(C);return l=ys(l),function(){if(--l<1)return v.apply(this,arguments)}},fn.ary=up,fn.assign=uf,fn.assignIn=Mm,fn.assignInWith=uh,fn.assignWith=Du,fn.at=Tu,fn.before=xu,fn.bind=Eu,fn.bindAll=Rg,fn.bindKey=hp,fn.castArray=function zt(){if(!arguments.length)return[];var l=arguments[0];return Gn(l)?l:[l]},fn.chain=nh,fn.chunk=function Wc(l,v,se){v=(se?pl(l,v,se):v===x)?1:fs(ys(v),0);var ct=null==l?0:l.length;if(!ct||v<1)return[];for(var nn=0,Pn=0,or=wn(ao(ct/v));nn<ct;)or[Pn++]=El(l,nn,nn+=v);return or},fn.compact=function Uh(l){for(var v=-1,se=null==l?0:l.length,ct=0,nn=[];++v<se;){var Pn=l[v];Pn&&(nn[ct++]=Pn)}return nn},fn.concat=function dd(){var l=arguments.length;if(!l)return[];for(var v=wn(l-1),se=arguments[0],ct=l;ct--;)v[ct-1]=arguments[ct];return qt(Gn(se)?Va(se):[se],rs(v,1))},fn.cond=function Tp(l){var v=null==l?0:l.length,se=Zo();return l=v?Rt(l,function(ct){if("function"!=typeof ct[1])throw new ki(C);return[se(ct[0]),ct[1]]}):[],Es(function(ct){for(var nn=-1;++nn<v;){var Pn=l[nn];if(ur(Pn[0],this,ct))return ur(Pn[1],this,ct)}})},fn.conforms=function vf(l){return function xc(l){var v=Qa(l);return function(se){return Wd(se,l,v)}}(ll(l,1))},fn.constant=Sp,fn.countBy=gu,fn.create=function pp(l,v){var se=ql(l);return null==v?se:xl(se,v)},fn.curry=function df(l,v,se){var ct=rc(l,8,x,x,x,x,x,v=se?x:v);return ct.placeholder=df.placeholder,ct},fn.curryRight=function ch(l,v,se){var ct=rc(l,16,x,x,x,x,x,v=se?x:v);return ct.placeholder=ch.placeholder,ct},fn.debounce=wu,fn.defaults=Vd,fn.defaultsDeep=hf,fn.defer=d,fn.delay=s,fn.difference=ud,fn.differenceBy=Ll,fn.differenceWith=Vh,fn.drop=function Yu(l,v,se){var ct=null==l?0:l.length;return ct?El(l,(v=se||v===x?1:ys(v))<0?0:v,ct):[]},fn.dropRight=function Rd(l,v,se){var ct=null==l?0:l.length;return ct?El(l,0,(v=ct-(v=se||v===x?1:ys(v)))<0?0:v):[]},fn.dropRightWhile=function $f(l,v){return l&&l.length?Fc(l,Zo(v,3),!0,!0):[]},fn.dropWhile=function jh(l,v){return l&&l.length?Fc(l,Zo(v,3),!0):[]},fn.fill=function Hh(l,v,se,ct){var nn=null==l?0:l.length;return nn?(se&&"number"!=typeof se&&pl(l,v,se)&&(se=0,ct=nn),function Xd(l,v,se,ct){var nn=l.length;for((se=ys(se))<0&&(se=-se>nn?0:nn+se),(ct=ct===x||ct>nn?nn:ys(ct))<0&&(ct+=nn),ct=se>ct?0:Ud(ct);se<ct;)l[se++]=v;return l}(l,v,se,ct)):[]},fn.filter=function nf(l,v){return(Gn(l)?Ut:Yd)(l,Zo(v,3))},fn.flatMap=function oh(l,v){return rs(fd(l,v),1)},fn.flatMapDeep=function Fd(l,v){return rs(fd(l,v),Ft)},fn.flatMapDepth=function sh(l,v,se){return se=se===x?1:ys(se),rs(fd(l,v),se)},fn.flatten=Qu,fn.flattenDeep=function Wf(l){return null!=l&&l.length?rs(l,Ft):[]},fn.flattenDepth=function qu(l,v){return null!=l&&l.length?rs(l,v=v===x?1:ys(v)):[]},fn.flip=function m(l){return rc(l,512)},fn.flow=yf,fn.flowRight=Og,fn.fromPairs=function Gh(l){for(var v=-1,se=null==l?0:l.length,ct={};++v<se;){var nn=l[v];ct[nn[0]]=nn[1]}return ct},fn.functions=function ff(l){return null==l?[]:nc(l,Qa(l))},fn.functionsIn=function Eg(l){return null==l?[]:nc(l,tl(l))},fn.groupBy=Em,fn.initial=function hm(l){return null!=l&&l.length?El(l,0,-1):[]},fn.intersection=Ml,fn.intersectionBy=$h,fn.intersectionWith=Kf,fn.invert=mf,fn.invertBy=wg,fn.invokeMap=yu,fn.iteratee=yh,fn.keyBy=cp,fn.keys=Qa,fn.keysIn=tl,fn.map=fd,fn.mapKeys=function Su(l,v){var se={};return v=Zo(v,3),va(l,function(ct,nn,Pn){al(se,v(ct,nn,Pn),ct)}),se},fn.mapValues=function Iu(l,v){var se={};return v=Zo(v,3),va(l,function(ct,nn,Pn){al(se,nn,v(ct,nn,Pn))}),se},fn.matches=function z_(l){return Io(ll(l,1))},fn.matchesProperty=function Pg(l,v){return Uo(l,ll(v,1))},fn.memoize=c,fn.merge=mh,fn.mergeWith=gh,fn.method=$_,fn.methodOf=W_,fn.mixin=Pm,fn.negate=T,fn.nthArg=function Is(l){return l=ys(l),Es(function(v){return Ps(v,l)})},fn.omit=_h,fn.omitBy=function bp(l,v){return gf(l,T(Zo(v)))},fn.once=function G(l){return xu(2,l)},fn.orderBy=function rf(l,v,se,ct){return null==l?[]:(Gn(v)||(v=null==v?[]:[v]),Gn(se=ct?x:se)||(se=null==se?[]:[se]),zs(l,v,se))},fn.over=Fg,fn.overArgs=de,fn.overEvery=Bg,fn.overSome=bh,fn.partial=te,fn.partialRight=we,fn.partition=wm,fn.pick=xp,fn.pickBy=gf,fn.property=km,fn.propertyOf=function Ng(l){return function(v){return null==l?x:cl(l,v)}},fn.pull=Zu,fn.pullAll=Xf,fn.pullAllBy=function Pd(l,v,se){return l&&l.length&&v&&v.length?Ts(l,v,Zo(se,2)):l},fn.pullAllWith=function uu(l,v,se){return l&&l.length&&v&&v.length?Ts(l,v,x,se):l},fn.pullAt=Ju,fn.range=K_,fn.rangeRight=Rp,fn.rearg=Oe,fn.reject=function Cm(l,v){return(Gn(l)?Ut:Yd)(l,T(Zo(v,3)))},fn.remove=function eh(l,v){var se=[];if(!l||!l.length)return se;var ct=-1,nn=[],Pn=l.length;for(v=Zo(v,3);++ct<Pn;){var or=l[ct];v(or,ct,l)&&(se.push(or),nn.push(ct))}return is(l,nn),se},fn.rest=function Ie(l,v){if("function"!=typeof l)throw new ki(C);return Es(l,v=v===x?v:ys(v))},fn.reverse=hu,fn.sampleSize=function bu(l,v,se){return v=(se?pl(l,v,se):v===x)?1:ys(v),(Gn(l)?Ls:wc)(l,v)},fn.set=function mo(l,v,se){return null==l?l:bd(l,v,se)},fn.setWith=function Hs(l,v,se,ct){return ct="function"==typeof ct?ct:x,null==l?l:bd(l,v,se,ct)},fn.shuffle=function lf(l){return(Gn(l)?Ds:sm)(l)},fn.slice=function fc(l,v,se){var ct=null==l?0:l.length;return ct?(se&&"number"!=typeof se&&pl(l,v,se)?(v=0,se=ct):(v=null==v?0:ys(v),se=se===x?ct:ys(se)),El(l,v,se)):[]},fn.sortBy=xg,fn.sortedUniq=function th(l){return l&&l.length?ku(l):[]},fn.sortedUniqBy=function Zf(l,v){return l&&l.length?ku(l,Zo(v,2)):[]},fn.split=function V_(l,v,se){return se&&"number"!=typeof se&&pl(l,v,se)&&(v=se=x),(se=se===x?ge:se>>>0)?(l=la(l))&&("string"==typeof v||null!=v&&!Cu(v))&&!(v=dl(v))&&Pr(l)?ea(nr(l),0,se):l.split(v,se):[]},fn.spread=function ze(l,v){if("function"!=typeof l)throw new ki(C);return v=null==v?0:fs(ys(v),0),Es(function(se){var ct=se[v],nn=ea(se,0,v);return ct&&qt(nn,ct),ur(l,this,nn)})},fn.tail=function Jf(l){var v=null==l?0:l.length;return v?El(l,1,v):[]},fn.take=function Yh(l,v,se){return l&&l.length?El(l,0,(v=se||v===x?1:ys(v))<0?0:v):[]},fn.takeRight=function Qh(l,v,se){var ct=null==l?0:l.length;return ct?El(l,(v=ct-(v=se||v===x?1:ys(v)))<0?0:v,ct):[]},fn.takeRightWhile=function ep(l,v){return l&&l.length?Fc(l,Zo(v,3),!1,!0):[]},fn.takeWhile=function tp(l,v){return l&&l.length?Fc(l,Zo(v,3)):[]},fn.tap=function _m(l,v){return v(l),l},fn.throttle=function gt(l,v,se){var ct=!0,nn=!0;if("function"!=typeof l)throw new ki(C);return yi(se)&&(ct="leading"in se?!!se.leading:ct,nn="trailing"in se?!!se.trailing:nn),wu(l,v,{leading:ct,maxWait:v,trailing:nn})},fn.thru=mu,fn.toArray=Ma,fn.toPairs=Bs,fn.toPairsIn=Da,fn.toPath=function Nm(l){return Gn(l)?Rt(l,Nl):ws(l)?[l]:Va(Xu(la(l)))},fn.toPlainObject=gc,fn.transform=function ua(l,v,se){var ct=Gn(l),nn=ct||Sr(l)||oc(l);if(v=Zo(v,4),null==se){var Pn=l&&l.constructor;se=nn?ct?new Pn:[]:yi(l)&&os(Pn)?ql(gs(l)):{}}return(nn?Di:va)(l,function(or,xr,zr){return v(se,or,xr,zr)}),se},fn.unary=function Mt(l){return up(l,1)},fn.union=np,fn.unionBy=rp,fn.unionWith=ip,fn.uniq=function op(l){return l&&l.length?kc(l):[]},fn.uniqBy=function qh(l,v){return l&&l.length?kc(l,Zo(v,2)):[]},fn.uniqWith=function sp(l,v){return v="function"==typeof v?v:x,l&&l.length?kc(l,x,v):[]},fn.unset=function ks(l,v){return null==l||Bu(l,v)},fn.unzip=fu,fn.unzipWith=pu,fn.update=function qa(l,v,se){return null==l?l:Nu(l,v,Th(se))},fn.updateWith=function Ul(l,v,se,ct){return ct="function"==typeof ct?ct:x,null==l?l:Nu(l,v,Th(se),ct)},fn.values=Vl,fn.valuesIn=function vh(l){return null==l?[]:Re(l,tl(l))},fn.without=pm,fn.words=Rm,fn.wrap=function Nt(l,v){return te(Th(v),l)},fn.xor=Zh,fn.xorBy=Jh,fn.xorWith=mm,fn.zip=Kc,fn.zipObject=function ap(l,v){return Dh(l||[],v||[],Na)},fn.zipObjectDeep=function gm(l,v){return Dh(l||[],v||[],bd)},fn.zipWith=ef,fn.entries=Bs,fn.entriesIn=Da,fn.extend=Mm,fn.extendWith=uh,Pm(fn,fn),fn.add=Lm,fn.attempt=Dp,fn.camelCase=ac,fn.capitalize=_c,fn.ceil=X_,fn.clamp=function ul(l,v,se){return se===x&&(se=v,v=x),se!==x&&(se=(se=za(se))==se?se:0),v!==x&&(v=(v=za(v))==v?v:0),ec(za(l),v,se)},fn.clone=function kt(l){return ll(l,4)},fn.cloneDeep=function kn(l){return ll(l,5)},fn.cloneDeepWith=function Dn(l,v){return ll(l,5,v="function"==typeof v?v:x)},fn.cloneWith=function Jt(l,v){return ll(l,4,v="function"==typeof v?v:x)},fn.conformsTo=function Rn(l,v){return null==v||Wd(l,v,Qa(v))},fn.deburr=Ep,fn.defaultTo=function Om(l,v){return null==l||l!=l?v:l},fn.divide=Y_,fn.endsWith=function Cg(l,v,se){l=la(l),v=dl(v);var ct=l.length,nn=se=se===x?ct:ec(ys(se),0,ct);return(se-=v.length)>=0&&l.slice(se,nn)==v},fn.eq=Mn,fn.escape=function Tm(l){return(l=la(l))&&St.test(l)?l.replace(gr,Zr):l},fn.escapeRegExp=function wp(l){return(l=la(l))&&Gt.test(l)?l.replace(We,"\\$&"):l},fn.every=function Xc(l,v,se){var ct=Gn(l)?mn:tc;return se&&pl(l,v,se)&&(v=x),ct(l,Zo(v,3))},fn.find=ih,fn.findIndex=lu,fn.findKey=function mp(l,v){return Wr(l,Zo(v,3),va)},fn.findLast=_u,fn.findLastIndex=hd,fn.findLastKey=function gp(l,v){return Wr(l,Zo(v,3),nd)},fn.floor=Q_,fn.forEach=vu,fn.forEachRight=Bd,fn.forIn=function hh(l,v){return null==l?l:td(l,Zo(v,3),tl)},fn.forInRight=function _p(l,v){return null==l?l:Ec(l,Zo(v,3),tl)},fn.forOwn=function vp(l,v){return l&&va(l,Zo(v,3))},fn.forOwnRight=function yp(l,v){return l&&nd(l,Zo(v,3))},fn.get=fh,fn.gt=Bn,fn.gte=Qn,fn.has=function ph(l,v){return null!=l&&Td(l,v,Qd)},fn.hasIn=pf,fn.head=zh,fn.identity=Sl,fn.includes=function ah(l,v,se,ct){l=Xr(l)?l:Vl(l),se=se&&!ct?ys(se):0;var nn=l.length;return se<0&&(se=fs(nn+se,0)),Ca(l)?se<=nn&&l.indexOf(v,se)>-1:!!nn&&yo(l,v,se)>-1},fn.indexOf=function Od(l,v,se){var ct=null==l?0:l.length;if(!ct)return-1;var nn=null==se?0:ys(se);return nn<0&&(nn=fs(ct+nn,0)),yo(l,v,nn)},fn.inRange=function Tl(l,v,se){return v=gl(v),se===x?(se=v,v=0):se=gl(se),function i(l,v,se){return l>=Fo(v,se)&&l<fs(v,se)}(l=za(l),v,se)},fn.invoke=Dm,fn.isArguments=dr,fn.isArray=Gn,fn.isArrayBuffer=Nr,fn.isArrayLike=Xr,fn.isArrayLikeObject=ri,fn.isBoolean=function Br(l){return!0===l||!1===l||fo(l)&&Ka(l)==Ye},fn.isBuffer=Sr,fn.isDate=Hr,fn.isElement=function ai(l){return fo(l)&&1===l.nodeType&&!pc(l)},fn.isEmpty=function ui(l){if(null==l)return!0;if(Xr(l)&&(Gn(l)||"string"==typeof l||"function"==typeof l.splice||Sr(l)||oc(l)||dr(l)))return!l.length;var v=Ha(l);if(v==R||v==H)return!l.size;if(au(l))return!Ei(l).length;for(var se in l)if(et.call(l,se))return!1;return!0},fn.isEqual=function ro(l,v){return bn(l,v)},fn.isEqualWith=function Zi(l,v,se){var ct=(se="function"==typeof se?se:x)?se(l,v):x;return ct===x?bn(l,v,x,se):!!ct},fn.isError=No,fn.isFinite=function wo(l){return"number"==typeof l&&us(l)},fn.isFunction=os,fn.isInteger=Ri,fn.isLength=Ir,fn.isMap=ia,fn.isMatch=function Qs(l,v){return l===v||br(l,v,Hc(v))},fn.isMatchWith=function Ss(l,v,se){return se="function"==typeof se?se:x,br(l,v,Hc(v),se)},fn.isNaN=function Ga(l){return zl(l)&&l!=+l},fn.isNative=function Ra(l){if(Uf(l))throw new Ur("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Jr(l)},fn.isNil=function Dl(l){return null==l},fn.isNull=function Ya(l){return null===l},fn.isNumber=zl,fn.isObject=yi,fn.isObjectLike=fo,fn.isPlainObject=pc,fn.isRegExp=Cu,fn.isSafeInteger=function Au(l){return Ri(l)&&l>=-ve&&l<=ve},fn.isSet=mc,fn.isString=Ca,fn.isSymbol=ws,fn.isTypedArray=oc,fn.isUndefined=function Nd(l){return l===x},fn.isWeakMap=function dh(l){return fo(l)&&Ha(l)==rt},fn.isWeakSet=function Mu(l){return fo(l)&&"[object WeakSet]"==Ka(l)},fn.join=function Wh(l,v){return null==l?"":fa.call(l,v)},fn.kebabCase=F_,fn.last=wa,fn.lastIndexOf=function cu(l,v,se){var ct=null==l?0:l.length;if(!ct)return-1;var nn=ct;return se!==x&&(nn=(nn=ys(se))<0?fs(ct+nn,0):Fo(nn,ct-1)),v==v?function cn(Fn,lr,wn){for(var er=wn+1;er--;)if(Fn[er]===lr)return er;return er}(l,v,nn):eo(l,tt,nn,!0)},fn.lowerCase=B_,fn.lowerFirst=Ag,fn.lt=Ld,fn.lte=sc,fn.max=function Vg(l){return l&&l.length?uc(l,Sl,rd):x},fn.maxBy=function q_(l,v){return l&&l.length?uc(l,Zo(v,2),rd):x},fn.mean=function Z_(l){return re(l,Sl)},fn.meanBy=function J_(l,v){return re(l,Zo(v,2))},fn.min=function ev(l){return l&&l.length?uc(l,Sl,$o):x},fn.minBy=function jg(l,v){return l&&l.length?uc(l,Zo(v,2),$o):x},fn.stubArray=jd,fn.stubFalse=bf,fn.stubObject=function xf(){return{}},fn.stubString=function Lg(){return""},fn.stubTrue=function Fm(){return!0},fn.multiply=Hg,fn.nth=function du(l,v){return l&&l.length?Ps(l,ys(v)):x},fn.noConflict=function kg(){return ns._===this&&(ns._=ir),this},fn.noop=Ip,fn.now=cf,fn.pad=function N_(l,v,se){l=la(l);var ct=(v=ys(v))?xn(l):0;if(!v||ct>=v)return l;var nn=(v-ct)/2;return ld(ls(nn),se)+l+ld(ao(nn),se)},fn.padEnd=function L_(l,v,se){l=la(l);var ct=(v=ys(v))?xn(l):0;return v&&ct<v?l+ld(v-ct,se):l},fn.padStart=function U_(l,v,se){l=la(l);var ct=(v=ys(v))?xn(l):0;return v&&ct<v?ld(v-ct,se)+l:l},fn.parseInt=function Mg(l,v,se){return se||null==v?v=0:v&&(v=+v),Do(la(l).replace(Kt,""),v||0)},fn.random=function $l(l,v,se){if(se&&"boolean"!=typeof se&&pl(l,v,se)&&(v=se=x),se===x&&("boolean"==typeof v?(se=v,v=x):"boolean"==typeof l&&(se=l,l=x)),l===x&&v===x?(l=0,v=1):(l=gl(l),v===x?(v=l,l=0):v=gl(v)),l>v){var ct=l;l=v,v=ct}if(se||l%1||v%1){var nn=xs();return Fo(l+nn*(v-l+ta("1e-"+((nn+"").length-1))),v)}return Ua(l,v)},fn.reduce=function sf(l,v,se){var ct=Gn(l)?zn:Le,nn=arguments.length<3;return ct(l,Zo(v,4),se,nn,La)},fn.reduceRight=function af(l,v,se){var ct=Gn(l)?fr:Le,nn=arguments.length<3;return ct(l,Zo(v,4),se,nn,Kd)},fn.repeat=function _f(l,v,se){return v=(se?pl(l,v,se):v===x)?1:ys(v),Pc(la(l),v)},fn.replace=function Cp(){var l=arguments,v=la(l[0]);return l.length<3?v:v.replace(l[1],l[2])},fn.result=function Yr(l,v,se){var ct=-1,nn=(v=Js(v,l)).length;for(nn||(nn=1,l=x);++ct<nn;){var Pn=null==l?x:l[Nl(v[ct])];Pn===x&&(ct=nn,Pn=se),l=os(Pn)?Pn.call(l):Pn}return l},fn.round=tv,fn.runInContext=Fn,fn.sample=function Am(l){return(Gn(l)?jo:Xa)(l)},fn.size=function lh(l){if(null==l)return 0;if(Xr(l))return Ca(l)?xn(l):l.length;var v=Ha(l);return v==R||v==H?l.size:Ei(l).length},fn.snakeCase=Sm,fn.some=function dp(l,v,se){var ct=Gn(l)?mr:am;return se&&pl(l,v,se)&&(v=x),ct(l,Zo(v,3))},fn.sortedIndex=function Kh(l,v){return id(l,v)},fn.sortedIndexBy=function fm(l,v,se){return od(l,v,Zo(se,2))},fn.sortedIndexOf=function Yf(l,v){var se=null==l?0:l.length;if(se){var ct=id(l,v);if(ct<se&&Mn(l[ct],v))return ct}return-1},fn.sortedLastIndex=function Xh(l,v){return id(l,v,!0)},fn.sortedLastIndexBy=function Qf(l,v,se){return od(l,v,Zo(se,2),!0)},fn.sortedLastIndexOf=function qf(l,v){if(null!=l&&l.length){var ct=id(l,v,!0)-1;if(Mn(l[ct],v))return ct}return-1},fn.startCase=j_,fn.startsWith=function Im(l,v,se){return l=la(l),se=null==se?0:ec(ys(se),0,l.length),v=dl(v),l.slice(se,se+v.length)==v},fn.subtract=nv,fn.sum=function Wl(l){return l&&l.length?yr(l,Sl):0},fn.sumBy=function rv(l,v){return l&&l.length?yr(l,Zo(v,2)):0},fn.template=function Dg(l,v,se){var ct=fn.templateSettings;se&&pl(l,v,se)&&(v=x),l=la(l),v=uh({},v,ct,ju);var xr,zr,nn=uh({},v.imports,ct.imports,ju),Pn=Qa(nn),or=Re(nn,Pn),Gi=0,Ui=v.interpolate||Yi,oo="__p += '",To=Xi((v.escape||Yi).source+"|"+Ui.source+"|"+(Ui===Ce?_n:Yi).source+"|"+(v.evaluate||Yi).source+"|$","g"),Ho="//# sourceURL="+(et.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Co+"]")+"\n";l.replace(To,function(Wo,$s,na,lc,Il,Kl){return na||(na=lc),oo+=l.slice(Gi,Kl).replace(ho,si),$s&&(xr=!0,oo+="' +\n__e("+$s+") +\n'"),Il&&(zr=!0,oo+="';\n"+Il+";\n__p += '"),na&&(oo+="' +\n((__t = ("+na+")) == null ? '' : __t) +\n'"),Gi=Kl+Wo.length,Wo}),oo+="';\n";var ps=et.call(v,"variable")&&v.variable;if(ps){if(_r.test(ps))throw new Ur("Invalid `variable` option passed into `_.template`")}else oo="with (obj) {\n"+oo+"\n}\n";oo=(zr?oo.replace(Xt,""):oo).replace(gn,"$1").replace(Ln,"$1;"),oo="function("+(ps||"obj")+") {\n"+(ps?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(xr?", __e = _.escape":"")+(zr?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+oo+"return __p\n}";var Gs=Dp(function(){return gi(Pn,Ho+"return "+oo).apply(x,or)});if(Gs.source=oo,No(Gs))throw Gs;return Gs},fn.times=function Bm(l,v){if((l=ys(l))<1||l>ve)return[];var se=ge,ct=Fo(l,ge);v=Zo(v),l-=ge;for(var nn=ti(ct,v);++se<l;)v(se);return nn},fn.toFinite=gl,fn.toInteger=ys,fn.toLength=Ud,fn.toLower=function Ru(l){return la(l).toLowerCase()},fn.toNumber=za,fn.toSafeInteger=function fp(l){return l?ec(ys(l),-ve,ve):0===l?l:0},fn.toString=la,fn.toUpper=function Tg(l){return la(l).toUpperCase()},fn.trim=function Sg(l,v,se){if((l=la(l))&&(se||v===x))return rn(l);if(!l||!(v=dl(v)))return l;var ct=nr(l),nn=nr(v);return ea(ct,tn(ct,nn),An(ct,nn)+1).join("")},fn.trimEnd=function H_(l,v,se){if((l=la(l))&&(se||v===x))return l.slice(0,Yn(l)+1);if(!l||!(v=dl(v)))return l;var ct=nr(l);return ea(ct,0,An(ct,nr(v))+1).join("")},fn.trimStart=function Wy(l,v,se){if((l=la(l))&&(se||v===x))return l.replace(Kt,"");if(!l||!(v=dl(v)))return l;var ct=nr(l);return ea(ct,tn(ct,nr(v))).join("")},fn.truncate=function Ap(l,v){var se=30,ct="...";if(yi(v)){var nn="separator"in v?v.separator:nn;se="length"in v?ys(v.length):se,ct="omission"in v?dl(v.omission):ct}var Pn=(l=la(l)).length;if(Pr(l)){var or=nr(l);Pn=or.length}if(se>=Pn)return l;var xr=se-xn(ct);if(xr<1)return ct;var zr=or?ea(or,0,xr).join(""):l.slice(0,xr);if(nn===x)return zr+ct;if(or&&(xr+=zr.length-xr),Cu(nn)){if(l.slice(xr).search(nn)){var Gi,Ui=zr;for(nn.global||(nn=Xi(nn.source,la(_i.exec(nn))+"g")),nn.lastIndex=0;Gi=nn.exec(Ui);)var oo=Gi.index;zr=zr.slice(0,oo===x?xr:oo)}}else if(l.indexOf(dl(nn),xr)!=xr){var To=zr.lastIndexOf(nn);To>-1&&(zr=zr.slice(0,To))}return zr+ct},fn.unescape=function G_(l){return(l=la(l))&&sn.test(l)?l.replace($n,kr):l},fn.uniqueId=function Ug(l){var v=++ht;return la(l)+v},fn.upperCase=Ig,fn.upperFirst=Mp,fn.each=vu,fn.eachRight=Bd,fn.first=zh,Pm(fn,function(){var l={};return va(fn,function(v,se){et.call(fn.prototype,se)||(l[se]=v)}),l}(),{chain:!1}),fn.VERSION="4.17.21",Di(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){fn[l].placeholder=fn}),Di(["drop","take"],function(l,v){Os.prototype[l]=function(se){se=se===x?1:fs(ys(se),0);var ct=this.__filtered__&&!v?new Os(this):this.clone();return ct.__filtered__?ct.__takeCount__=Fo(se,ct.__takeCount__):ct.__views__.push({size:Fo(se,ge),type:l+(ct.__dir__<0?"Right":"")}),ct},Os.prototype[l+"Right"]=function(se){return this.reverse()[l](se).reverse()}}),Di(["filter","map","takeWhile"],function(l,v){var se=v+1,ct=1==se||3==se;Os.prototype[l]=function(nn){var Pn=this.clone();return Pn.__iteratees__.push({iteratee:Zo(nn,3),type:se}),Pn.__filtered__=Pn.__filtered__||ct,Pn}}),Di(["head","last"],function(l,v){var se="take"+(v?"Right":"");Os.prototype[l]=function(){return this[se](1).value()[0]}}),Di(["initial","tail"],function(l,v){var se="drop"+(v?"":"Right");Os.prototype[l]=function(){return this.__filtered__?new Os(this):this[se](1)}}),Os.prototype.compact=function(){return this.filter(Sl)},Os.prototype.find=function(l){return this.filter(l).head()},Os.prototype.findLast=function(l){return this.reverse().find(l)},Os.prototype.invokeMap=Es(function(l,v){return"function"==typeof l?new Os(this):this.map(function(se){return je(se,l,v)})}),Os.prototype.reject=function(l){return this.filter(T(Zo(l)))},Os.prototype.slice=function(l,v){l=ys(l);var se=this;return se.__filtered__&&(l>0||v<0)?new Os(se):(l<0?se=se.takeRight(-l):l&&(se=se.drop(l)),v!==x&&(se=(v=ys(v))<0?se.dropRight(-v):se.take(v-l)),se)},Os.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Os.prototype.toArray=function(){return this.take(ge)},va(Os.prototype,function(l,v){var se=/^(?:filter|find|map|reject)|While$/.test(v),ct=/^(?:head|last)$/.test(v),nn=fn[ct?"take"+("last"==v?"Right":""):v],Pn=ct||/^find/.test(v);nn&&(fn.prototype[v]=function(){var or=this.__wrapped__,xr=ct?[1]:arguments,zr=or instanceof Os,Gi=xr[0],Ui=zr||Gn(or),oo=function($s){var na=nn.apply(fn,qt([$s],xr));return ct&&To?na[0]:na};Ui&&se&&"function"==typeof Gi&&1!=Gi.length&&(zr=Ui=!1);var To=this.__chain__,ps=Pn&&!To,Gs=zr&&!this.__actions__.length;if(!Pn&&Ui){or=Gs?or:new Os(this);var Wo=l.apply(or,xr);return Wo.__actions__.push({func:mu,args:[oo],thisArg:x}),new Vo(Wo,To)}return ps&&Gs?l.apply(this,xr):(Wo=this.thru(oo),ps?ct?Wo.value()[0]:Wo.value():Wo)})}),Di(["pop","push","shift","sort","splice","unshift"],function(l){var v=As[l],se=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",ct=/^(?:pop|shift)$/.test(l);fn.prototype[l]=function(){var nn=arguments;if(ct&&!this.__chain__){var Pn=this.value();return v.apply(Gn(Pn)?Pn:[],nn)}return this[se](function(or){return v.apply(Gn(or)?or:[],nn)})}}),va(Os.prototype,function(l,v){var se=fn[v];if(se){var ct=se.name+"";et.call(ma,ct)||(ma[ct]=[]),ma[ct].push({name:v,func:se})}}),ma[Uc(x,2).name]=[{name:"wrapper",func:x}],Os.prototype.clone=function Tc(){var l=new Os(this.__wrapped__);return l.__actions__=Va(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Va(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Va(this.__views__),l},Os.prototype.reverse=function Rl(){if(this.__filtered__){var l=new Os(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Os.prototype.value=function Sc(){var l=this.__wrapped__.value(),v=this.__dir__,se=Gn(l),ct=v<0,nn=se?l.length:0,Pn=function Dd(l,v,se){for(var ct=-1,nn=se.length;++ct<nn;){var Pn=se[ct],or=Pn.size;switch(Pn.type){case"drop":l+=or;break;case"dropRight":v-=or;break;case"take":v=Fo(v,l+or);break;case"takeRight":l=fs(l,v-or)}}return{start:l,end:v}}(0,nn,this.__views__),or=Pn.start,xr=Pn.end,zr=xr-or,Gi=ct?xr:or-1,Ui=this.__iteratees__,oo=Ui.length,To=0,Ho=Fo(zr,this.__takeCount__);if(!se||!ct&&nn==zr&&Ho==zr)return xd(l,this.__actions__);var ps=[];e:for(;zr--&&To<Ho;){for(var Gs=-1,Wo=l[Gi+=v];++Gs<oo;){var $s=Ui[Gs],lc=$s.type,Il=(0,$s.iteratee)(Wo);if(2==lc)Wo=Il;else if(!Il){if(1==lc)continue e;break e}}ps[To++]=Wo}return ps},fn.prototype.at=vm,fn.prototype.chain=function tf(){return nh(this)},fn.prototype.commit=function lp(){return new Vo(this.value(),this.__chain__)},fn.prototype.next=function ym(){this.__values__===x&&(this.__values__=Ma(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?x:this.__values__[this.__index__++]}},fn.prototype.plant=function kd(l){for(var v,se=this;se instanceof Za;){var ct=Al(se);ct.__index__=0,ct.__values__=x,v?nn.__wrapped__=ct:v=ct;var nn=ct;se=se.__wrapped__}return nn.__wrapped__=l,v},fn.prototype.reverse=function xm(){var l=this.__wrapped__;if(l instanceof Os){var v=l;return this.__actions__.length&&(v=new Os(this)),(v=v.reverse()).__actions__.push({func:mu,args:[hu],thisArg:x}),new Vo(v,this.__chain__)}return this.thru(hu)},fn.prototype.toJSON=fn.prototype.valueOf=fn.prototype.value=function rh(){return xd(this.__wrapped__,this.__actions__)},fn.prototype.first=fn.prototype.head,yt&&(fn.prototype[yt]=function bm(){return this}),fn}();ns._=Hi,(r=function(){return Hi}.call(ot,w,ot,en))!==x&&(en.exports=r)}.call(this)},3828:(en,ot,w)=>{var r;!function(x,f,b){if(x){for(var S,E={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},F={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},U=1;U<20;++U)E[111+U]="f"+U;for(U=0;U<=9;++U)E[U+96]=U.toString();$.prototype.bind=function(j,Q,ee){return this._bindMultiple.call(this,j=j instanceof Array?j:[j],Q,ee),this},$.prototype.unbind=function(j,Q){return this.bind.call(this,j,function(){},Q)},$.prototype.trigger=function(j,Q){return this._directMap[j+":"+Q]&&this._directMap[j+":"+Q]({},j),this},$.prototype.reset=function(){var j=this;return j._callbacks={},j._directMap={},j},$.prototype.stopCallback=function(j,Q){if((" "+Q.className+" ").indexOf(" mousetrap ")>-1||q(Q,this.target))return!1;if("composedPath"in j&&"function"==typeof j.composedPath){var be=j.composedPath()[0];be!==j.target&&(Q=be)}return"INPUT"==Q.tagName||"SELECT"==Q.tagName||"TEXTAREA"==Q.tagName||Q.isContentEditable},$.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},$.addKeycodes=function(j){for(var Q in j)j.hasOwnProperty(Q)&&(E[Q]=j[Q]);S=null},$.init=function(){var j=$(f);for(var Q in j)"_"!==Q.charAt(0)&&($[Q]=function(ee){return function(){return j[ee].apply(j,arguments)}}(Q))},$.init(),x.Mousetrap=$,en.exports&&(en.exports=$),void 0!==(r=function(){return $}.call(ot,w,ot,en))&&(en.exports=r)}function O(j,Q,ee){j.addEventListener?j.addEventListener(Q,ee,!1):j.attachEvent("on"+Q,ee)}function y(j){if("keypress"==j.type){var Q=String.fromCharCode(j.which);return j.shiftKey||(Q=Q.toLowerCase()),Q}return E[j.which]?E[j.which]:C[j.which]?C[j.which]:String.fromCharCode(j.which).toLowerCase()}function _(j,Q){return j.sort().join(",")===Q.sort().join(",")}function L(j){return"shift"==j||"ctrl"==j||"alt"==j||"meta"==j}function ae(j,Q,ee){return ee||(ee=function ie(){if(!S)for(var j in S={},E)j>95&&j<112||E.hasOwnProperty(j)&&(S[E[j]]=j);return S}()[j]?"keydown":"keypress"),"keypress"==ee&&Q.length&&(ee="keydown"),ee}function fe(j,Q){var ee,be,Se,Qe=[];for(ee=function le(j){return"+"===j?["+"]:(j=j.replace(/\+{2}/g,"+plus")).split("+")}(j),Se=0;Se<ee.length;++Se)F[be=ee[Se]]&&(be=F[be]),Q&&"keypress"!=Q&&u[be]&&(be=u[be],Qe.push("shift")),L(be)&&Qe.push(be);return{key:be,modifiers:Qe,action:Q=ae(be,Qe,Q)}}function q(j,Q){return null!==j&&j!==f&&(j===Q||q(j.parentNode,Q))}function $(j){var Q=this;if(j=j||f,!(Q instanceof $))return new $(j);Q.target=j,Q._callbacks={},Q._directMap={};var be,ee={},Se=!1,Qe=!1,nt=!1;function De(Pe){Pe=Pe||{};var xt,ke=!1;for(xt in ee)Pe[xt]?ke=!0:ee[xt]=0;ke||(nt=!1)}function ut(Pe,ke,xt,Ht,ln,Bt){var Ye,Ze,Ot=[],ye=xt.type;if(!Q._callbacks[Pe])return[];for("keyup"==ye&&L(Pe)&&(ke=[Pe]),Ye=0;Ye<Q._callbacks[Pe].length;++Ye)Ze=Q._callbacks[Pe][Ye],!Ht&&Ze.seq&&ee[Ze.seq]!=Ze.level||ye!=Ze.action||("keypress"!=ye||xt.metaKey||xt.ctrlKey)&&!_(ke,Ze.modifiers)||((!Ht&&Ze.combo==ln||Ht&&Ze.seq==Ht&&Ze.level==Bt)&&Q._callbacks[Pe].splice(Ye,1),Ot.push(Ze));return Ot}function Ft(Pe,ke,xt,Ht){Q.stopCallback(ke,ke.target||ke.srcElement,xt,Ht)||!1===Pe(ke,xt)&&(function W(j){j.preventDefault?j.preventDefault():j.returnValue=!1}(ke),function K(j){j.stopPropagation?j.stopPropagation():j.cancelBubble=!0}(ke))}function ve(Pe){"number"!=typeof Pe.which&&(Pe.which=Pe.keyCode);var ke=y(Pe);if(ke){if("keyup"==Pe.type&&Se===ke)return void(Se=!1);Q.handleKey(ke,function D(j){var Q=[];return j.shiftKey&&Q.push("shift"),j.altKey&&Q.push("alt"),j.ctrlKey&&Q.push("ctrl"),j.metaKey&&Q.push("meta"),Q}(Pe),Pe)}}function ge(Pe,ke,xt,Ht,ln){Q._directMap[Pe+":"+xt]=ke;var Ye,Bt=(Pe=Pe.replace(/\s+/g," ")).split(" ");Bt.length>1?function V(Pe,ke,xt,Ht){function ln(ye){return function(){nt=ye,++ee[Pe],function I(){clearTimeout(be),be=setTimeout(De,1e3)}()}}function Bt(ye){Ft(xt,ye,Pe),"keyup"!==Ht&&(Se=y(ye)),setTimeout(De,10)}ee[Pe]=0;for(var Ye=0;Ye<ke.length;++Ye){var Ot=Ye+1===ke.length?Bt:ln(Ht||fe(ke[Ye+1]).action);ge(ke[Ye],Ot,Ht,Pe,Ye)}}(Pe,Bt,ke,xt):(Ye=fe(Pe,xt),Q._callbacks[Ye.key]=Q._callbacks[Ye.key]||[],ut(Ye.key,Ye.modifiers,{type:Ye.action},Ht,Pe,ln),Q._callbacks[Ye.key][Ht?"unshift":"push"]({callback:ke,modifiers:Ye.modifiers,action:Ye.action,seq:Ht,level:ln,combo:Pe}))}Q._handleKey=function(Pe,ke,xt){var ln,Ht=ut(Pe,ke,xt),Bt={},Ye=0,Ze=!1;for(ln=0;ln<Ht.length;++ln)Ht[ln].seq&&(Ye=Math.max(Ye,Ht[ln].level));for(ln=0;ln<Ht.length;++ln)if(Ht[ln].seq){if(Ht[ln].level!=Ye)continue;Ze=!0,Bt[Ht[ln].seq]=1,Ft(Ht[ln].callback,xt,Ht[ln].combo,Ht[ln].seq)}else Ze||Ft(Ht[ln].callback,xt,Ht[ln].combo);var Ot="keypress"==xt.type&&Qe;xt.type==nt&&!L(Pe)&&!Ot&&De(Bt),Qe=Ze&&"keydown"==xt.type},Q._bindMultiple=function(Pe,ke,xt){for(var Ht=0;Ht<Pe.length;++Ht)ge(Pe[Ht],ke,xt)},O(j,"keypress",ve),O(j,"keydown",ve),O(j,"keyup",ve)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},4434:function(en,ot,w){"use strict";var r=this&&this.__createBinding||(Object.create?function(u,F,S,U){void 0===U&&(U=S);var O=Object.getOwnPropertyDescriptor(F,S);(!O||("get"in O?!F.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return F[S]}}),Object.defineProperty(u,U,O)}:function(u,F,S,U){void 0===U&&(U=S),u[U]=F[S]}),x=this&&this.__setModuleDefault||(Object.create?function(u,F){Object.defineProperty(u,"default",{enumerable:!0,value:F})}:function(u,F){u.default=F}),f=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var F={};if(null!=u)for(var S in u)"default"!==S&&Object.prototype.hasOwnProperty.call(u,S)&&r(F,u,S);return x(F,u),F};Object.defineProperty(ot,"__esModule",{value:!0}),ot.objectSorter=void 0;const b=f(w(9209)),E=w(1921);ot.objectSorter=u=>{const{sort:F,coerce:S,trim:U}={sort:!0,coerce:!0,trim:!1,...u},O_array="boolean"==typeof F?F:F?.array??!1,O_typedArray="boolean"!=typeof F&&(F?.typedArray??!1),O_object="boolean"==typeof F?F:F?.object??!1,O_set="boolean"==typeof F?F:F?.set??!1,O_map="boolean"==typeof F?F:F?.map??!1,y_boolean="boolean"==typeof S?S:S?.boolean??!1,y_number="boolean"==typeof S?S:S?.number??!1,y_bigint="boolean"==typeof S?S:S?.bigint??!1,y_string="boolean"==typeof S?S:S?.string??!1,y_undefined="boolean"==typeof S?S:S?.undefined??!1,y_null="boolean"==typeof S?S:S?.null??!1,y_symbol="boolean"==typeof S?S:S?.symbol??!1,y_function="boolean"==typeof S?S:S?.function??!1,y_date="boolean"==typeof S?S:S?.date??!1,y_set="boolean"==typeof S?S:S?.set??!1,__string="boolean"==typeof U?U:U?.string??!1,__function="boolean"==typeof U?U:U?.function??!1,D={unknown:function(L){return`<:${L.constructor?.name??"unknonw"}>:${"function"==typeof L.toString?L.toString():"unknown"}`}};return D.hashable=b._hashable.bind(D),D.string=__string?y_string?b._stringTrimCoerce.bind(D):b._stringTrim.bind(D):y_string?b._stringCoerce.bind(D):b._string.bind(D),D.number=y_number?b._numberCoerce.bind(D):b._number.bind(D),D.bigint=y_bigint?b._bigIntCoerce.bind(D):b._bigInt.bind(D),D.boolean=y_boolean?b._booleanCoerce.bind(D):b._boolean.bind(D),D.symbol=y_symbol?b._symbolCoerce.bind(D):b._symbol.bind(D),D.undefined=y_undefined?b._undefinedCoerce.bind(D):b._undefined.bind(D),D.null=y_null?b._nullCoerce.bind(D):b._null.bind(D),D.function=__function?y_function?b._functionTrimCoerce.bind(D):b._functionTrim.bind(D):y_function?b._functionCoerce.bind(D):b._function.bind(D),D.date=y_date?b._dateCoerce.bind(D):b._date.bind(D),D.array=O_array?b._arraySort.bind(D):b._array.bind(D),D.typedarray=O_typedArray?b._typedArraySort.bind(D):b._typedArray.bind(D),D.set=O_set?y_set?b._setSortCoerce.bind(D):b._setSort.bind(D):y_set?b._setCoerce.bind(D):b._set.bind(D),D.object=O_object?b._objectSort.bind(D):b._object.bind(D),D.map=O_map?b._mapSort.bind(D):b._map.bind(D),function W(K){return D[(0,E.guessType)(K)](K)}}},9209:(en,ot,w)=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0}),ot._mapSort=ot._map=ot._objectSort=ot._object=ot._setCoerce=ot._set=ot._setSort=ot._setSortCoerce=ot._typedArray=ot._typedArraySort=ot._array=ot._arraySort=ot._date=ot._dateCoerce=ot._functionTrim=ot._functionTrimCoerce=ot._function=ot._functionCoerce=ot._null=ot._nullCoerce=ot._undefined=ot._undefinedCoerce=ot._symbol=ot._symbolCoerce=ot._boolean=ot._booleanCoerce=ot._bigInt=ot._bigIntCoerce=ot._number=ot._numberCoerce=ot._stringTrim=ot._stringTrimCoerce=ot._string=ot._stringCoerce=ot._hashable=ot.PREFIX=void 0;const r=w(1921);function Q(ge){const Pe=this;return"["+ge.map(ke=>Pe[(0,r.guessType)(ke)](ke)).sort().toString()+"]"}function ee(ge){const Pe=this;return"["+ge.map(ke=>Pe[(0,r.guessType)(ke)](ke)).toString()+"]"}ot.PREFIX={string:"<:s>",number:"<:n>",bigint:"<:bi>",boolean:"<:b>",symbol:"<:smbl>",undefined:"<:undf>",null:"<:null>",function:"<:func>",array:"",date:"<:date>",set:"<:set>",map:"<:map>"},ot._hashable=function x(ge){return ge.toHashableString()},ot._stringCoerce=function f(ge){return ge},ot._string=function b(ge){return ot.PREFIX.string+":"+ge},ot._stringTrimCoerce=function E(ge){return ge.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ot._stringTrim=function C(ge){return ot.PREFIX.string+":"+ge.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ot._numberCoerce=function u(ge){return ge.toString()},ot._number=function F(ge){return`${ot.PREFIX.number}:${ge}`},ot._bigIntCoerce=function S(ge){return ge.toString()},ot._bigInt=function U(ge){return`${ot.PREFIX.bigint}:${ge.toString()}`},ot._booleanCoerce=function O(ge){return ge?"1":"0"},ot._boolean=function y(ge){return ot.PREFIX.boolean+":"+ge.toString()},ot._symbolCoerce=function _(){return ot.PREFIX.symbol},ot._symbol=function D(ge){return ot.PREFIX.symbol+":"+ge.toString()},ot._undefinedCoerce=function W(){return""},ot._undefined=function K(){return ot.PREFIX.undefined},ot._nullCoerce=function L(){return""},ot._null=function ie(){return ot.PREFIX.null},ot._functionCoerce=function ae(ge){return ge.name+"=>"+ge.toString()},ot._function=function le(ge){return ot.PREFIX.function+":"+ge.name+"=>"+ge.toString()},ot._functionTrimCoerce=function fe(ge){return ge.name+"=>"+ge.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ot._functionTrim=function q(ge){return ot.PREFIX.function+":"+ge.name+"=>"+ge.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},ot._dateCoerce=function $(ge){return ge.toISOString()},ot._date=function j(ge){return ot.PREFIX.date+":"+ge.toISOString()},ot._arraySort=Q,ot._array=ee,ot._typedArraySort=function be(ge){const Pe=this;return"["+Array.prototype.slice.call(ge).map(xt=>Pe[(0,r.guessType)(xt)](xt)).sort().toString()+"]"},ot._typedArray=function Se(ge){const Pe=this;return"["+Array.prototype.slice.call(ge).map(xt=>Pe[(0,r.guessType)(xt)](xt)).toString()+"]"},ot._setSortCoerce=function Qe(ge){return Q.call(this,Array.from(ge))},ot._setSort=function nt(ge){return`${ot.PREFIX.set}:${Q.call(this,Array.from(ge))}`},ot._set=function De(ge){return`${ot.PREFIX.set}:${ee.call(this,Array.from(ge))}`},ot._setCoerce=function ut(ge){return ee.call(this,Array.from(ge))},ot._object=function Ft(ge){const Pe=this,ke=Object.keys(ge),xt=[];for(const Ht of ke){const ln=ge[Ht],Bt=(0,r.guessType)(ln);xt.push(Ht+":"+Pe[Bt](ln))}return"{"+xt.toString()+"}"},ot._objectSort=function ve(ge){const Pe=this,ke=Object.keys(ge).sort(),xt=[];for(const Ht of ke){const ln=ge[Ht],Bt=(0,r.guessType)(ln);xt.push(Ht+":"+Pe[Bt](ln))}return"{"+xt.toString()+"}"},ot._map=function I(ge){const Pe=this,ke=Array.from(ge),xt=[];for(const Ht of ke){const[ln,Bt]=Ht;xt.push([Pe[(0,r.guessType)(ln)](ln),Pe[(0,r.guessType)(Bt)](Bt)])}return"["+xt.join(";")+"]"},ot._mapSort=function V(ge){const Pe=this,ke=Array.from(ge),xt=[];for(const Ht of ke){const[ln,Bt]=Ht;xt.push([Pe[(0,r.guessType)(ln)](ln),Pe[(0,r.guessType)(Bt)](Bt)])}return"["+xt.sort().join(";")+"]"}},1921:(en,ot)=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0}),ot.instanceOfHashable=ot.guessType=ot.guessObjectType=ot.TYPE_MAP=void 0,ot.TYPE_MAP={Array:"array",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",BigUint64Array:"typedarray",BigInt64Array:"typedarray",Buffer:"typedarray",Map:"map",Set:"set",Date:"date",String:"string",Number:"number",BigInt:"bigint",Boolean:"boolean",Object:"object"},ot.guessObjectType=f=>null===f?"null":(0,ot.instanceOfHashable)(f)?"hashable":ot.TYPE_MAP[f?.constructor?.name??"unknown"]||"unknown",ot.guessType=f=>{const b=typeof f;return"object"!==b?b:(0,ot.guessObjectType)(f)},ot.instanceOfHashable=f=>"function"==typeof f.toHashableString},2298:(en,ot,w)=>{var r="function"==typeof Map&&Map.prototype,x=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f=r&&x&&"function"==typeof x.get?x.get:null,b=r&&Map.prototype.forEach,E="function"==typeof Set&&Set.prototype,C=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=E&&C&&"function"==typeof C.get?C.get:null,F=E&&Set.prototype.forEach,U="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,y="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,D="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,W=Boolean.prototype.valueOf,K=Object.prototype.toString,L=Function.prototype.toString,ie=String.prototype.match,ae=String.prototype.slice,le=String.prototype.replace,fe=String.prototype.toUpperCase,q=String.prototype.toLowerCase,$=RegExp.prototype.test,j=Array.prototype.concat,Q=Array.prototype.join,ee=Array.prototype.slice,be=Math.floor,Se="function"==typeof BigInt?BigInt.prototype.valueOf:null,Qe=Object.getOwnPropertySymbols,nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,De="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ut="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ft=Object.prototype.propertyIsEnumerable,ve=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(pt){return pt.__proto__}:null);function I(pt,Tt){if(pt===1/0||pt===-1/0||pt!=pt||pt&&pt>-1e3&&pt<1e3||$.call(/e/,Tt))return Tt;var $e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof pt){var Lt=pt<0?-be(-pt):be(pt);if(Lt!==pt){var Xt=String(Lt),gn=ae.call(Tt,Xt.length+1);return le.call(Xt,$e,"$&_")+"."+le.call(le.call(gn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return le.call(Tt,$e,"$&_")}var V=w(2634),ge=V.custom,Pe=P(ge)?ge:null;function ke(pt,Tt,$e){var Lt="double"===($e.quoteStyle||Tt)?'"':"'";return Lt+pt+Lt}function xt(pt){return le.call(String(pt),/"/g,"&quot;")}function Ht(pt){return!("[object Array]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}function Bt(pt){return!("[object RegExp]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}function P(pt){if(De)return pt&&"object"==typeof pt&&pt instanceof Symbol;if("symbol"==typeof pt)return!0;if(!pt||"object"!=typeof pt||!nt)return!1;try{return nt.call(pt),!0}catch{}return!1}en.exports=function pt(Tt,$e,Lt,Xt){var gn=$e||{};if(N(gn,"quoteStyle")&&"single"!==gn.quoteStyle&&"double"!==gn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(N(gn,"maxStringLength")&&("number"==typeof gn.maxStringLength?gn.maxStringLength<0&&gn.maxStringLength!==1/0:null!==gn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ln=!N(gn,"customInspect")||gn.customInspect;if("boolean"!=typeof Ln&&"symbol"!==Ln)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(N(gn,"indent")&&null!==gn.indent&&"\t"!==gn.indent&&!(parseInt(gn.indent,10)===gn.indent&&gn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(N(gn,"numericSeparator")&&"boolean"!=typeof gn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $n=gn.numericSeparator;if(typeof Tt>"u")return"undefined";if(null===Tt)return"null";if("boolean"==typeof Tt)return Tt?"true":"false";if("string"==typeof Tt)return rt(Tt,gn);if("number"==typeof Tt){if(0===Tt)return 1/0/Tt>0?"0":"-0";var gr=String(Tt);return $n?I(Tt,gr):gr}if("bigint"==typeof Tt){var sn=String(Tt)+"n";return $n?I(Tt,sn):sn}var St=typeof gn.depth>"u"?5:gn.depth;if(typeof Lt>"u"&&(Lt=0),Lt>=St&&St>0&&"object"==typeof Tt)return Ht(Tt)?"[Array]":"[Object]";var Fe=function At(pt,Tt){var $e;if("\t"===pt.indent)$e="\t";else{if(!("number"==typeof pt.indent&&pt.indent>0))return null;$e=Q.call(Array(pt.indent+1)," ")}return{base:$e,prev:Q.call(Array(Tt+1),$e)}}(gn,Lt);if(typeof Xt>"u")Xt=[];else if(M(Xt,Tt)>=0)return"[Circular]";function Ue(Ii,so,Cr){if(so&&(Xt=ee.call(Xt)).push(so),Cr){var ii={depth:gn.depth};return N(gn,"quoteStyle")&&(ii.quoteStyle=gn.quoteStyle),pt(Ii,ii,Lt+1,Xt)}return pt(Ii,gn,Lt+1,Xt)}if("function"==typeof Tt&&!Bt(Tt)){var Ce=function h(pt){if(pt.name)return pt.name;var Tt=ie.call(L.call(pt),/^function\s*([\w$]+)/);return Tt?Tt[1]:null}(Tt),me=Ke(Tt,Ue);return"[Function"+(Ce?": "+Ce:" (anonymous)")+"]"+(me.length>0?" { "+Q.call(me,", ")+" }":"")}if(P(Tt)){var it=De?le.call(String(Tt),/^(Symbol\(.*\))_[^)]*$/,"$1"):nt.call(Tt);return"object"!=typeof Tt||De?it:It(it)}if(function He(pt){return!(!pt||"object"!=typeof pt)&&(typeof HTMLElement<"u"&&pt instanceof HTMLElement||"string"==typeof pt.nodeName&&"function"==typeof pt.getAttribute)}(Tt)){for(var Me="<"+q.call(String(Tt.nodeName)),We=Tt.attributes||[],Gt=0;Gt<We.length;Gt++)Me+=" "+We[Gt].name+"="+ke(xt(We[Gt].value),"double",gn);return Me+=">",Tt.childNodes&&Tt.childNodes.length&&(Me+="..."),Me+"</"+q.call(String(Tt.nodeName))+">"}if(Ht(Tt)){if(0===Tt.length)return"[]";var Kt=Ke(Tt,Ue);return Fe&&!function dt(pt){for(var Tt=0;Tt<pt.length;Tt++)if(M(pt[Tt],"\n")>=0)return!1;return!0}(Kt)?"["+Qt(Kt,Fe)+"]":"[ "+Q.call(Kt,", ")+" ]"}if(function Ye(pt){return!("[object Error]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}(Tt)){var On=Ke(Tt,Ue);return"cause"in Error.prototype||!("cause"in Tt)||Ft.call(Tt,"cause")?0===On.length?"["+String(Tt)+"]":"{ ["+String(Tt)+"] "+Q.call(On,", ")+" }":"{ ["+String(Tt)+"] "+Q.call(j.call("[cause]: "+Ue(Tt.cause),On),", ")+" }"}if("object"==typeof Tt&&Ln){if(Pe&&"function"==typeof Tt[Pe]&&V)return V(Tt,{depth:St-Lt});if("symbol"!==Ln&&"function"==typeof Tt.inspect)return Tt.inspect()}if(function Z(pt){if(!f||!pt||"object"!=typeof pt)return!1;try{f.call(pt);try{u.call(pt)}catch{return!0}return pt instanceof Map}catch{}return!1}(Tt)){var vr=[];return b&&b.call(Tt,function(Ii,so){vr.push(Ue(so,Tt,!0)+" => "+Ue(Ii,Tt))}),Ct("Map",f.call(Tt),vr,Fe)}if(function X(pt){if(!u||!pt||"object"!=typeof pt)return!1;try{u.call(pt);try{f.call(pt)}catch{return!0}return pt instanceof Set}catch{}return!1}(Tt)){var Cn=[];return F&&F.call(Tt,function(Ii){Cn.push(Ue(Ii,Tt))}),Ct("Set",u.call(Tt),Cn,Fe)}if(function z(pt){if(!U||!pt||"object"!=typeof pt)return!1;try{U.call(pt,U);try{y.call(pt,y)}catch{return!0}return pt instanceof WeakMap}catch{}return!1}(Tt))return Ge("WeakMap");if(function oe(pt){if(!y||!pt||"object"!=typeof pt)return!1;try{y.call(pt,y);try{U.call(pt,U)}catch{return!0}return pt instanceof WeakSet}catch{}return!1}(Tt))return Ge("WeakSet");if(function H(pt){if(!D||!pt||"object"!=typeof pt)return!1;try{return D.call(pt),!0}catch{}return!1}(Tt))return Ge("WeakRef");if(function Ot(pt){return!("[object Number]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}(Tt))return It(Ue(Number(Tt)));if(function B(pt){if(!pt||"object"!=typeof pt||!Se)return!1;try{return Se.call(pt),!0}catch{}return!1}(Tt))return It(Ue(Se.call(Tt)));if(function ye(pt){return!("[object Boolean]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}(Tt))return It(W.call(Tt));if(function Ze(pt){return!("[object String]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}(Tt))return It(Ue(String(Tt)));if(typeof window<"u"&&Tt===window)return"{ [object Window] }";if(Tt===global)return"{ [object globalThis] }";if(!function ln(pt){return!("[object Date]"!==Y(pt)||ut&&"object"==typeof pt&&ut in pt)}(Tt)&&!Bt(Tt)){var tr=Ke(Tt,Ue),Er=ve?ve(Tt)===Object.prototype:Tt instanceof Object||Tt.constructor===Object,_r=Tt instanceof Object?"":"null prototype",sr=!Er&&ut&&Object(Tt)===Tt&&ut in Tt?ae.call(Y(Tt),8,-1):_r?"Object":"",_i=(Er||"function"!=typeof Tt.constructor?"":Tt.constructor.name?Tt.constructor.name+" ":"")+(sr||_r?"["+Q.call(j.call([],sr||[],_r||[]),": ")+"] ":"");return 0===tr.length?_i+"{}":Fe?_i+"{"+Qt(tr,Fe)+"}":_i+"{ "+Q.call(tr,", ")+" }"}return String(Tt)};var R=Object.prototype.hasOwnProperty||function(pt){return pt in this};function N(pt,Tt){return R.call(pt,Tt)}function Y(pt){return K.call(pt)}function M(pt,Tt){if(pt.indexOf)return pt.indexOf(Tt);for(var $e=0,Lt=pt.length;$e<Lt;$e++)if(pt[$e]===Tt)return $e;return-1}function rt(pt,Tt){if(pt.length>Tt.maxStringLength){var $e=pt.length-Tt.maxStringLength,Lt="... "+$e+" more character"+($e>1?"s":"");return rt(ae.call(pt,0,Tt.maxStringLength),Tt)+Lt}return ke(le.call(le.call(pt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ft),"single",Tt)}function ft(pt){var Tt=pt.charCodeAt(0),$e={8:"b",9:"t",10:"n",12:"f",13:"r"}[Tt];return $e?"\\"+$e:"\\x"+(Tt<16?"0":"")+fe.call(Tt.toString(16))}function It(pt){return"Object("+pt+")"}function Ge(pt){return pt+" { ? }"}function Ct(pt,Tt,$e,Lt){return pt+" ("+Tt+") {"+(Lt?Qt($e,Lt):Q.call($e,", "))+"}"}function Qt(pt,Tt){if(0===pt.length)return"";var $e="\n"+Tt.prev+Tt.base;return $e+Q.call(pt,","+$e)+"\n"+Tt.prev}function Ke(pt,Tt){var $e=Ht(pt),Lt=[];if($e){Lt.length=pt.length;for(var Xt=0;Xt<pt.length;Xt++)Lt[Xt]=N(pt,Xt)?Tt(pt[Xt],pt):""}var Ln,gn="function"==typeof Qe?Qe(pt):[];if(De){Ln={};for(var $n=0;$n<gn.length;$n++)Ln["$"+gn[$n]]=gn[$n]}for(var gr in pt)N(pt,gr)&&($e&&String(Number(gr))===gr&&gr<pt.length||De&&Ln["$"+gr]instanceof Symbol||($.call(/[^\w$]/,gr)?Lt.push(Tt(gr,pt)+": "+Tt(pt[gr],pt)):Lt.push(gr+": "+Tt(pt[gr],pt))));if("function"==typeof Qe)for(var sn=0;sn<gn.length;sn++)Ft.call(pt,gn[sn])&&Lt.push("["+Tt(gn[sn])+"]: "+Tt(pt[gn[sn]],pt));return Lt}},5442:function(en,ot){var w,x;w=function f(){"use strict";var b=typeof self<"u"?self:typeof window<"u"?window:void 0!==b?b:{},E=!b.document&&!!b.postMessage,C=b.IS_PAPA_WORKER||!1,u={},F=0,S={parse:function(Q,ee){var be=(ee=ee||{}).dynamicTyping||!1;if(j(be)&&(ee.dynamicTypingFunction=be,be={}),ee.dynamicTyping=be,ee.transform=!!j(ee.transform)&&ee.transform,ee.worker&&S.WORKERS_SUPPORTED){var Se=function(){if(!S.WORKERS_SUPPORTED)return!1;var ut,Ft,nt=(ut=b.URL||b.webkitURL||null,Ft=f.toString(),S.BLOB_URL||(S.BLOB_URL=ut.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ft,")();"],{type:"text/javascript"})))),De=new b.Worker(nt);return De.onmessage=ae,De.id=F++,u[De.id]=De}();return Se.userStep=ee.step,Se.userChunk=ee.chunk,Se.userComplete=ee.complete,Se.userError=ee.error,ee.step=j(ee.step),ee.chunk=j(ee.chunk),ee.complete=j(ee.complete),ee.error=j(ee.error),delete ee.worker,void Se.postMessage({input:Q,config:ee,workerId:Se.id})}var nt,Qe=null;return"string"==typeof Q?(Q=65279===(nt=Q).charCodeAt(0)?nt.slice(1):nt,Qe=ee.download?new y(ee):new D(ee)):!0===Q.readable&&j(Q.read)&&j(Q.on)?Qe=new W(ee):(b.File&&Q instanceof File||Q instanceof Object)&&(Qe=new _(ee)),Qe.stream(Q)},unparse:function(Q,ee){var be=!1,Se=!0,Qe=",",nt="\r\n",De='"',ut=De+De,Ft=!1,ve=null,I=!1;!function(){if("object"==typeof ee){if("string"!=typeof ee.delimiter||S.BAD_DELIMITERS.filter(function(ke){return-1!==ee.delimiter.indexOf(ke)}).length||(Qe=ee.delimiter),("boolean"==typeof ee.quotes||"function"==typeof ee.quotes||Array.isArray(ee.quotes))&&(be=ee.quotes),"boolean"!=typeof ee.skipEmptyLines&&"string"!=typeof ee.skipEmptyLines||(Ft=ee.skipEmptyLines),"string"==typeof ee.newline&&(nt=ee.newline),"string"==typeof ee.quoteChar&&(De=ee.quoteChar),"boolean"==typeof ee.header&&(Se=ee.header),Array.isArray(ee.columns)){if(0===ee.columns.length)throw new Error("Option columns is empty");ve=ee.columns}void 0!==ee.escapeChar&&(ut=ee.escapeChar+De),("boolean"==typeof ee.escapeFormulae||ee.escapeFormulae instanceof RegExp)&&(I=ee.escapeFormulae instanceof RegExp?ee.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var V=new RegExp(L(De),"g");if("string"==typeof Q&&(Q=JSON.parse(Q)),Array.isArray(Q)){if(!Q.length||Array.isArray(Q[0]))return ge(null,Q,Ft);if("object"==typeof Q[0])return ge(ve||Object.keys(Q[0]),Q,Ft)}else if("object"==typeof Q)return"string"==typeof Q.data&&(Q.data=JSON.parse(Q.data)),Array.isArray(Q.data)&&(Q.fields||(Q.fields=Q.meta&&Q.meta.fields||ve),Q.fields||(Q.fields=Array.isArray(Q.data[0])?Q.fields:"object"==typeof Q.data[0]?Object.keys(Q.data[0]):[]),Array.isArray(Q.data[0])||"object"==typeof Q.data[0]||(Q.data=[Q.data])),ge(Q.fields||[],Q.data||[],Ft);throw new Error("Unable to serialize unrecognized input");function ge(ke,xt,Ht){var ln="";"string"==typeof ke&&(ke=JSON.parse(ke)),"string"==typeof xt&&(xt=JSON.parse(xt));var Bt=Array.isArray(ke)&&0<ke.length,Ye=!Array.isArray(xt[0]);if(Bt&&Se){for(var Ze=0;Ze<ke.length;Ze++)0<Ze&&(ln+=Qe),ln+=Pe(ke[Ze],Ze);0<xt.length&&(ln+=nt)}for(var Ot=0;Ot<xt.length;Ot++){var ye=Bt?ke.length:xt[Ot].length,P=!1,B=Bt?0===Object.keys(xt[Ot]).length:0===xt[Ot].length;if(Ht&&!Bt&&(P="greedy"===Ht?""===xt[Ot].join("").trim():1===xt[Ot].length&&0===xt[Ot][0].length),"greedy"===Ht&&Bt){for(var R=[],N=0;N<ye;N++)R.push(xt[Ot][Ye?ke[N]:N]);P=""===R.join("").trim()}if(!P){for(var h=0;h<ye;h++)0<h&&!B&&(ln+=Qe),ln+=Pe(xt[Ot][Bt&&Ye?ke[h]:h],h);Ot<xt.length-1&&(!Ht||0<ye&&!B)&&(ln+=nt)}}return ln}function Pe(ke,xt){if(null==ke)return"";if(ke.constructor===Date)return JSON.stringify(ke).slice(1,25);var Ht=!1;I&&"string"==typeof ke&&I.test(ke)&&(ke="'"+ke,Ht=!0);var ln=ke.toString().replace(V,ut);return(Ht=Ht||!0===be||"function"==typeof be&&be(ke,xt)||Array.isArray(be)&&be[xt]||function(Bt,Ye){for(var Ze=0;Ze<Ye.length;Ze++)if(-1<Bt.indexOf(Ye[Ze]))return!0;return!1}(ln,S.BAD_DELIMITERS)||-1<ln.indexOf(Qe)||" "===ln.charAt(0)||" "===ln.charAt(ln.length-1))?De+ln+De:ln}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(S.BAD_DELIMITERS=["\r","\n",'"',S.BYTE_ORDER_MARK],S.WORKERS_SUPPORTED=!E&&!!b.Worker,S.NODE_STREAM_INPUT=1,S.LocalChunkSize=10485760,S.RemoteChunkSize=5242880,S.DefaultDelimiter=",",S.Parser=ie,S.ParserHandle=K,S.NetworkStreamer=y,S.FileStreamer=_,S.StringStreamer=D,S.ReadableStreamStreamer=W,b.jQuery){var U=b.jQuery;U.fn.parse=function(Q){var ee=Q.config||{},be=[];return this.each(function(nt){if("INPUT"!==U(this).prop("tagName").toUpperCase()||"file"!==U(this).attr("type").toLowerCase()||!b.FileReader||!this.files||0===this.files.length)return!0;for(var De=0;De<this.files.length;De++)be.push({file:this.files[De],inputElem:this,instanceConfig:U.extend({},ee)})}),Se(),this;function Se(){if(0!==be.length){var De,ut,Ft,ve=be[0];if(j(Q.before)){var I=Q.before(ve.file,ve.inputElem);if("object"==typeof I){if("abort"===I.action)return"AbortError",De=ve.file,ut=ve.inputElem,Ft=I.reason,void(j(Q.error)&&Q.error({name:"AbortError"},De,ut,Ft));if("skip"===I.action)return void Qe();"object"==typeof I.config&&(ve.instanceConfig=U.extend(ve.instanceConfig,I.config))}else if("skip"===I)return void Qe()}var V=ve.instanceConfig.complete;ve.instanceConfig.complete=function(ge){j(V)&&V(ge,ve.file,ve.inputElem),Qe()},S.parse(ve.file,ve.instanceConfig)}else j(Q.complete)&&Q.complete()}function Qe(){be.splice(0,1),Se()}}}function O(Q){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(ee){var be=q(ee);be.chunkSize=parseInt(be.chunkSize),ee.step||ee.chunk||(be.chunkSize=null),this._handle=new K(be),(this._handle.streamer=this)._config=be}.call(this,Q),this.parseChunk=function(ee,be){if(this.isFirstChunk&&j(this._config.beforeFirstChunk)){var Se=this._config.beforeFirstChunk(ee);void 0!==Se&&(ee=Se)}this.isFirstChunk=!1,this._halted=!1;var Qe=this._partialLine+ee;this._partialLine="";var nt=this._handle.parse(Qe,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var De=nt.meta.cursor;this._finished||(this._partialLine=Qe.substring(De-this._baseIndex),this._baseIndex=De),nt&&nt.data&&(this._rowCount+=nt.data.length);var ut=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(C)b.postMessage({results:nt,workerId:S.WORKER_ID,finished:ut});else if(j(this._config.chunk)&&!be){if(this._config.chunk(nt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);nt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(nt.data),this._completeResults.errors=this._completeResults.errors.concat(nt.errors),this._completeResults.meta=nt.meta),this._completed||!ut||!j(this._config.complete)||nt&&nt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ut||nt&&nt.meta.paused||this._nextChunk(),nt}this._halted=!0},this._sendError=function(ee){j(this._config.error)?this._config.error(ee):C&&this._config.error&&b.postMessage({workerId:S.WORKER_ID,error:ee,finished:!1})}}function y(Q){var ee;(Q=Q||{}).chunkSize||(Q.chunkSize=S.RemoteChunkSize),O.call(this,Q),this._nextChunk=E?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(be){this._input=be,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(ee=new XMLHttpRequest,this._config.withCredentials&&(ee.withCredentials=this._config.withCredentials),E||(ee.onload=$(this._chunkLoaded,this),ee.onerror=$(this._chunkError,this)),ee.open(this._config.downloadRequestBody?"POST":"GET",this._input,!E),this._config.downloadRequestHeaders){var be=this._config.downloadRequestHeaders;for(var Se in be)ee.setRequestHeader(Se,be[Se])}this._config.chunkSize&&ee.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{ee.send(this._config.downloadRequestBody)}catch(nt){this._chunkError(nt.message)}E&&0===ee.status&&this._chunkError()}},this._chunkLoaded=function(){var Se;4===ee.readyState&&(ee.status<200||400<=ee.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:ee.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(Se=ee.getResponseHeader("Content-Range"))?-1:parseInt(Se.substring(Se.lastIndexOf("/")+1))),this.parseChunk(ee.responseText)))},this._chunkError=function(be){this._sendError(new Error(ee.statusText||be))}}function _(Q){var ee,be;(Q=Q||{}).chunkSize||(Q.chunkSize=S.LocalChunkSize),O.call(this,Q);var Se=typeof FileReader<"u";this.stream=function(Qe){this._input=Qe,be=Qe.slice||Qe.webkitSlice||Qe.mozSlice,Se?((ee=new FileReader).onload=$(this._chunkLoaded,this),ee.onerror=$(this._chunkError,this)):ee=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Qe=this._input;if(this._config.chunkSize){var nt=Math.min(this._start+this._config.chunkSize,this._input.size);Qe=be.call(Qe,this._start,nt)}var De=ee.readAsText(Qe,this._config.encoding);Se||this._chunkLoaded({target:{result:De}})},this._chunkLoaded=function(Qe){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Qe.target.result)},this._chunkError=function(){this._sendError(ee.error)}}function D(Q){var ee;O.call(this,Q=Q||{}),this.stream=function(be){return ee=be,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var be,Se=this._config.chunkSize;return Se?(be=ee.substring(0,Se),ee=ee.substring(Se)):(be=ee,ee=""),this._finished=!ee,this.parseChunk(be)}}}function W(Q){O.call(this,Q=Q||{});var ee=[],be=!0,Se=!1;this.pause=function(){O.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){O.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Qe){this._input=Qe,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Se&&1===ee.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),ee.length?this.parseChunk(ee.shift()):be=!0},this._streamData=$(function(Qe){try{ee.push("string"==typeof Qe?Qe:Qe.toString(this._config.encoding)),be&&(be=!1,this._checkIsFinished(),this.parseChunk(ee.shift()))}catch(nt){this._streamError(nt)}},this),this._streamError=$(function(Qe){this._streamCleanUp(),this._sendError(Qe)},this),this._streamEnd=$(function(){this._streamCleanUp(),Se=!0,this._streamData("")},this),this._streamCleanUp=$(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function K(Q){var ee,be,Se,Qe=Math.pow(2,53),nt=-Qe,De=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ut=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ft=this,ve=0,I=0,V=!1,ge=!1,Pe=[],ke={data:[],errors:[],meta:{}};if(j(Q.step)){var xt=Q.step;Q.step=function(Ot){if(ke=Ot,Bt())ln();else{if(ln(),0===ke.data.length)return;ve+=Ot.data.length,Q.preview&&ve>Q.preview?be.abort():(ke.data=ke.data[0],xt(ke,Ft))}}}function Ht(Ot){return"greedy"===Q.skipEmptyLines?""===Ot.join("").trim():1===Ot.length&&0===Ot[0].length}function ln(){return ke&&Se&&(Ze("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+S.DefaultDelimiter+"'"),Se=!1),Q.skipEmptyLines&&(ke.data=ke.data.filter(function(Ot){return!Ht(Ot)})),Bt()&&function(){if(ke)if(Array.isArray(ke.data[0])){for(var ye=0;Bt()&&ye<ke.data.length;ye++)ke.data[ye].forEach(Ot);ke.data.splice(0,1)}else ke.data.forEach(Ot);function Ot(P,B){j(Q.transformHeader)&&(P=Q.transformHeader(P,B)),Pe.push(P)}}(),function(){if(!ke||!Q.header&&!Q.dynamicTyping&&!Q.transform)return ke;function Ot(P,B){var R,N=Q.header?{}:[];for(R=0;R<P.length;R++){var Y=R,h=P[R];Q.header&&(Y=R>=Pe.length?"__parsed_extra":Pe[R]),Q.transform&&(h=Q.transform(h,Y)),h=Ye(Y,h),"__parsed_extra"===Y?(N[Y]=N[Y]||[],N[Y].push(h)):N[Y]=h}return Q.header&&(R>Pe.length?Ze("FieldMismatch","TooManyFields","Too many fields: expected "+Pe.length+" fields but parsed "+R,I+B):R<Pe.length&&Ze("FieldMismatch","TooFewFields","Too few fields: expected "+Pe.length+" fields but parsed "+R,I+B)),N}var ye=1;return!ke.data.length||Array.isArray(ke.data[0])?(ke.data=ke.data.map(Ot),ye=ke.data.length):ke.data=Ot(ke.data,0),Q.header&&ke.meta&&(ke.meta.fields=Pe),I+=ye,ke}()}function Bt(){return Q.header&&0===Pe.length}function Ye(Ot,ye){return P=Ot,Q.dynamicTypingFunction&&void 0===Q.dynamicTyping[P]&&(Q.dynamicTyping[P]=Q.dynamicTypingFunction(P)),!0===(Q.dynamicTyping[P]||Q.dynamicTyping)?"true"===ye||"TRUE"===ye||"false"!==ye&&"FALSE"!==ye&&(function(B){if(De.test(B)){var R=parseFloat(B);if(nt<R&&R<Qe)return!0}return!1}(ye)?parseFloat(ye):ut.test(ye)?new Date(ye):""===ye?null:ye):ye;var P}function Ze(Ot,ye,P,B){var R={type:Ot,code:ye,message:P};void 0!==B&&(R.row=B),ke.errors.push(R)}this.parse=function(Ot,ye,P){if(Q.newline||(Q.newline=function(Y,h){Y=Y.substring(0,1048576);var M=new RegExp(L(h)+"([^]*?)"+L(h),"gm"),Z=(Y=Y.replace(M,"")).split("\r"),z=Y.split("\n");if(1===Z.length||1<z.length&&z[0].length<Z[0].length)return"\n";for(var X=0,oe=0;oe<Z.length;oe++)"\n"===Z[oe][0]&&X++;return X>=Z.length/2?"\r\n":"\r"}(Ot,Q.quoteChar||'"')),Se=!1,Q.delimiter)j(Q.delimiter)&&(Q.delimiter=Q.delimiter(Ot),ke.meta.delimiter=Q.delimiter);else{var R=function(Y,h,M,Z,z){var H,X,oe,He;z=z||[",","\t","|",";",S.RECORD_SEP,S.UNIT_SEP];for(var rt=0;rt<z.length;rt++){var ft=z[rt],It=0,Ge=0,Ct=0;oe=void 0;for(var dt=new ie({comments:Z,delimiter:ft,newline:h,preview:10}).parse(Y),At=0;At<dt.data.length;At++)if(M&&Ht(dt.data[At]))Ct++;else{var Qt=dt.data[At].length;Ge+=Qt,void 0!==oe?0<Qt&&(It+=Math.abs(Qt-oe),oe=Qt):oe=Qt}0<dt.data.length&&(Ge/=dt.data.length-Ct),(void 0===X||It<=X)&&(void 0===He||He<Ge)&&1.99<Ge&&(X=It,H=ft,He=Ge)}return{successful:!!(Q.delimiter=H),bestDelimiter:H}}(Ot,Q.newline,Q.skipEmptyLines,Q.comments,Q.delimitersToGuess);R.successful?Q.delimiter=R.bestDelimiter:(Se=!0,Q.delimiter=S.DefaultDelimiter),ke.meta.delimiter=Q.delimiter}var N=q(Q);return Q.preview&&Q.header&&N.preview++,ee=Ot,be=new ie(N),ke=be.parse(ee,ye,P),ln(),V?{meta:{paused:!0}}:ke||{meta:{paused:!1}}},this.paused=function(){return V},this.pause=function(){V=!0,be.abort(),ee=j(Q.chunk)?"":ee.substring(be.getCharIndex())},this.resume=function(){Ft.streamer._halted?(V=!1,Ft.streamer.parseChunk(ee,!0)):setTimeout(Ft.resume,3)},this.aborted=function(){return ge},this.abort=function(){ge=!0,be.abort(),ke.meta.aborted=!0,j(Q.complete)&&Q.complete(ke),ee=""}}function L(Q){return Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ie(Q){var ee,be=(Q=Q||{}).delimiter,Se=Q.newline,Qe=Q.comments,nt=Q.step,De=Q.preview,ut=Q.fastMode,Ft=ee=null==Q.quoteChar?'"':Q.quoteChar;if(void 0!==Q.escapeChar&&(Ft=Q.escapeChar),("string"!=typeof be||-1<S.BAD_DELIMITERS.indexOf(be))&&(be=","),Qe===be)throw new Error("Comment character same as delimiter");!0===Qe?Qe="#":("string"!=typeof Qe||-1<S.BAD_DELIMITERS.indexOf(Qe))&&(Qe=!1),"\n"!==Se&&"\r"!==Se&&"\r\n"!==Se&&(Se="\n");var ve=0,I=!1;this.parse=function(V,ge,Pe){if("string"!=typeof V)throw new Error("Input must be a string");var ke=V.length,xt=be.length,Ht=Se.length,ln=Qe.length,Bt=j(nt),Ye=[],Ze=[],Ot=[],ye=ve=0;if(!V)return Ke();if(Q.header&&!ge){var P=V.split(Se)[0].split(be),B=[],R={},N=!1;for(var Y in P){var h=P[Y];j(Q.transformHeader)&&(h=Q.transformHeader(h,Y));var M=h,Z=R[h]||0;for(0<Z&&(N=!0,M=h+"_"+Z),R[h]=Z+1;B.includes(M);)M=M+"_"+Z;B.push(M)}if(N){var z=V.split(Se);z[0]=B.join(be),V=z.join(Se)}}if(ut||!1!==ut&&-1===V.indexOf(ee)){for(var H=V.split(Se),X=0;X<H.length;X++){if(ve+=(Ot=H[X]).length,X!==H.length-1)ve+=Se.length;else if(Pe)return Ke();if(!Qe||Ot.substring(0,ln)!==Qe){if(Bt){if(Ye=[],Ct(Ot.split(be)),pt(),I)return Ke()}else Ct(Ot.split(be));if(De&&De<=X)return Ye=Ye.slice(0,De),Ke(!0)}}return Ke()}for(var oe=V.indexOf(be,ve),He=V.indexOf(Se,ve),rt=new RegExp(L(Ft)+L(ee),"g"),ft=V.indexOf(ee,ve);;)if(V[ve]!==ee)if(Qe&&0===Ot.length&&V.substring(ve,ve+ln)===Qe){if(-1===He)return Ke();He=V.indexOf(Se,ve=He+Ht),oe=V.indexOf(be,ve)}else if(-1!==oe&&(oe<He||-1===He))Ot.push(V.substring(ve,oe)),oe=V.indexOf(be,ve=oe+xt);else{if(-1===He)break;if(Ot.push(V.substring(ve,He)),Qt(He+Ht),Bt&&(pt(),I))return Ke();if(De&&Ye.length>=De)return Ke(!0)}else for(ft=ve,ve++;;){if(-1===(ft=V.indexOf(ee,ft+1)))return Pe||Ze.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ye.length,index:ve}),At();if(ft===ke-1)return At(V.substring(ve,ft).replace(rt,ee));if(ee!==Ft||V[ft+1]!==Ft){if(ee===Ft||0===ft||V[ft-1]!==Ft){-1!==oe&&oe<ft+1&&(oe=V.indexOf(be,ft+1)),-1!==He&&He<ft+1&&(He=V.indexOf(Se,ft+1));var It=dt(-1===He?oe:Math.min(oe,He));if(V.substr(ft+1+It,xt)===be){Ot.push(V.substring(ve,ft).replace(rt,ee)),V[ve=ft+1+It+xt]!==ee&&(ft=V.indexOf(ee,ve)),oe=V.indexOf(be,ve),He=V.indexOf(Se,ve);break}var Ge=dt(He);if(V.substring(ft+1+Ge,ft+1+Ge+Ht)===Se){if(Ot.push(V.substring(ve,ft).replace(rt,ee)),Qt(ft+1+Ge+Ht),oe=V.indexOf(be,ve),ft=V.indexOf(ee,ve),Bt&&(pt(),I))return Ke();if(De&&Ye.length>=De)return Ke(!0);break}Ze.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ye.length,index:ve}),ft++}}else ft++}return At();function Ct(Tt){Ye.push(Tt),ye=ve}function dt(Tt){var $e=0;if(-1!==Tt){var Lt=V.substring(ft+1,Tt);Lt&&""===Lt.trim()&&($e=Lt.length)}return $e}function At(Tt){return Pe||(void 0===Tt&&(Tt=V.substring(ve)),Ot.push(Tt),ve=ke,Ct(Ot),Bt&&pt()),Ke()}function Qt(Tt){ve=Tt,Ct(Ot),Ot=[],He=V.indexOf(Se,ve)}function Ke(Tt){return{data:Ye,errors:Ze,meta:{delimiter:be,linebreak:Se,aborted:I,truncated:!!Tt,cursor:ye+(ge||0)}}}function pt(){nt(Ke()),Ye=[],Ze=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return ve}}function ae(Q){var ee=Q.data,be=u[ee.workerId],Se=!1;if(ee.error)be.userError(ee.error,ee.file);else if(ee.results&&ee.results.data){var Qe={abort:function(){Se=!0,le(ee.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:fe,resume:fe};if(j(be.userStep)){for(var nt=0;nt<ee.results.data.length&&(be.userStep({data:ee.results.data[nt],errors:ee.results.errors,meta:ee.results.meta},Qe),!Se);nt++);delete ee.results}else j(be.userChunk)&&(be.userChunk(ee.results,Qe,ee.file),delete ee.results)}ee.finished&&!Se&&le(ee.workerId,ee.results)}function le(Q,ee){var be=u[Q];j(be.userComplete)&&be.userComplete(ee),be.terminate(),delete u[Q]}function fe(){throw new Error("Not implemented.")}function q(Q){if("object"!=typeof Q||null===Q)return Q;var ee=Array.isArray(Q)?[]:{};for(var be in Q)ee[be]=q(Q[be]);return ee}function $(Q,ee){return function(){Q.apply(ee,arguments)}}function j(Q){return"function"==typeof Q}return C&&(b.onmessage=function(Q){var ee=Q.data;if(void 0===S.WORKER_ID&&ee&&(S.WORKER_ID=ee.workerId),"string"==typeof ee.input)b.postMessage({workerId:S.WORKER_ID,results:S.parse(ee.input,ee.config),finished:!0});else if(b.File&&ee.input instanceof File||ee.input instanceof Object){var be=S.parse(ee.input,ee.config);be&&b.postMessage({workerId:S.WORKER_ID,results:be,finished:!0})}}),(y.prototype=Object.create(O.prototype)).constructor=y,(_.prototype=Object.create(O.prototype)).constructor=_,(D.prototype=Object.create(D.prototype)).constructor=D,(W.prototype=Object.create(O.prototype)).constructor=W,S},void 0!==(x=w.apply(ot,[]))&&(en.exports=x)},1724:(en,ot,w)=>{var r=w(8788).default,x=w(9640).default,f=w(9420).default,b=w(1049).default,E=w(5199).default,C=w(5488).default,u=w(5985).default;(F=>{"use strict";var S={493:d=>{d.exports=w(1245)}},U={};function O(d){var s=U[d];if(void 0!==s)return s.exports;var m=U[d]={exports:{}};return S[d](m,m.exports,O),m.exports}O.n=d=>{var s=d&&d.__esModule?()=>d.default:()=>d;return O.d(s,{a:s}),s},O.d=(d,s)=>{for(var m in s)O.o(s,m)&&!O.o(d,m)&&Object.defineProperty(d,m,{enumerable:!0,get:s[m]})},O.o=(d,s)=>Object.prototype.hasOwnProperty.call(d,s),O.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var y={};O.r(y),O.d(y,{AABB:()=>ml,AbstractTexture:()=>Ot,AmbientLightNode:()=>mi,Animation:()=>rr,AnimationSystem:()=>bt,BIODIGITAL_HIGHLIGHT_COLOR:()=>ge,BIODIGITAL_PARTICLE_SCALE:()=>Ft,BIODIGITAL_SCENE_SCALE:()=>ut,BioDigitalAnatomyObject:()=>Xo,BioDigitalAnatomySceneGraph:()=>Ms,BioDigitalAnimationPlayer:()=>Zf,BioDigitalChapter:()=>zo,BioDigitalEngine:()=>qf,BioDigitalFileServer:()=>bu,BioDigitalMarker:()=>tp,BioDigitalRenderer:()=>hc,BioDigitalScreenMarker:()=>op,BioDigitalStory:()=>qs,BioDigitalWebSocketServer:()=>sf,BioDigitalXR:()=>yu,COMMIT:()=>df,CameraController:()=>Bt,CameraNode:()=>wr,CameraOrbiter:()=>xg,CameraTween:()=>ce,ClipId:()=>Zr,CubeTexture:()=>oe,DEFAULT_TONE_MAP_MODE:()=>ke,DirectionalLightNode:()=>Wi,ENABLE_COMPRESSED_TEXTURES:()=>Pe,EPSILON:()=>$,EmitterMap:()=>it,EventEmitter:()=>fe,FogModeNumericEnum:()=>si,FresnelTween:()=>re,Geometry:()=>$n,LegacyGeometry:()=>gr,LegacyLightNode:()=>ni,LegacyMaterial:()=>vr,LegacyMeshNode:()=>Me,LightNode:()=>Pr,MAX_ANIMATION_TICK:()=>V,MAX_FLOAT32:()=>j,MAX_SIMULATION_TICK:()=>I,Material:()=>Gt,MaterialTween:()=>$r,MeshNode:()=>St,MeshTopology:()=>Ke,MultiKeyMap:()=>ye,ObjectAttributeSwitch:()=>yr,ObjectAttributeTween:()=>yo,OrthographicCameraNode:()=>th,PARTICLE_WORKERS:()=>ve,ParticleComponentTween:()=>_o,ParticleSystem:()=>We,ParticleSystemDebugView:()=>cf,ParticleSystemTween:()=>ti,PerspectiveCameraNode:()=>Lr,PhysicalMaterial:()=>Qi,PointLightNode:()=>Pi,Pool:()=>nt,ResourceCache:()=>ca,SceneGraphMonitor:()=>us,SceneNode:()=>Qe,SpotLightNode:()=>xe,StoryAssetLoader:()=>Rs,Switch:()=>Je,TIMESTAMP:()=>ch,Texture:()=>ya,TextureFilter:()=>Ye,TextureTween:()=>li,TextureWrap:()=>Ze,TransformTween:()=>Ut,TransparencyModeEnum:()=>ar,Tween:()=>Ar,UnlitMaterial:()=>Vi,VERSION:()=>wu,XR:()=>hp,XRGrabber:()=>qh,XRInputCollection:()=>vu,XRInputController:()=>sh,applyTransform:()=>ir,atos:()=>cp,autoCameraRange:()=>Yf,barycentricCoord:()=>Jf,bigEnoughUintArray:()=>pt,boundsRayDistance:()=>Id,boundsSphereDistance:()=>ll,boxIntersectsPlaneBounds:()=>Ba,boxRayDistance:()=>cd,boxSphereDistance:()=>xc,buildRotationScaleMat3:()=>pi,canvasSpace:()=>rp,cartesianCoord:()=>Yh,clamp:()=>Q,cloneSceneNode:()=>rh,cloneSceneTree:()=>gu,colorArray:()=>Cn,copyBox:()=>$e,deepFreeze:()=>me,emptyBox:()=>Tt,eulerXYZFromMatrix:()=>xu,eulerZYXFromMatrix:()=>ee,fetchAssetLibrary:()=>fd,fill:()=>Fi,findAllTransfers:()=>Yc,findSceneNode:()=>fu,findSceneNodeByName:()=>pu,floatString:()=>Vn,getTranslation:()=>K,getTrianglePositions:()=>Kh,gltfBuildLegacyMaterial:()=>Bd,gltfBuildPhysicalMaterial:()=>ah,gltfBuildUnlitMaterial:()=>Em,gltfGeometry:()=>lp,isPowerOfTwo:()=>Ed,isTypedArray:()=>L,joinPath:()=>It,loadCompressedTexture:()=>Ee,loadGLTF:()=>bm,loadImage:()=>Ge,lookAtObject:()=>kr,makeClippingPlanes:()=>Xs,makeWorker:()=>Ns,makeWorkerService:()=>qo,memoize:()=>P,meshAlphaMode:()=>rs,normalizePlane:()=>jl,objectKey:()=>Ec,objectLookAt:()=>Yn,partial:()=>cn,pixelFormats:()=>z,planeDistanceToPoint:()=>al,positionFromArray:()=>fc,processGLTF:()=>ym,projectScreenSpace:()=>np,quatFromEulerXYZ:()=>Eu,quatFromEulerZYX:()=>q,rayIntersectTriangle:()=>hu,registerWorker:()=>cs,serveWorker:()=>up,setFrustumPlanesFromMatrix:()=>ec,setGeometryBounds:()=>Lt,setVectorOption:()=>ie,shaderOptionsKey:()=>va,textureMipLevels:()=>Ct,traverseSceneNodes:()=>Xi,triangleNormal:()=>Qh,vec3Equals:()=>Sd,vec3Pool:()=>De,vertexCount:()=>hs});const _=w(8472),D=w(9556),W=w(5133);function K(d,s,m){if(d[0]=s[12],d[1]=s[13],d[2]=s[14],m){const c=m[0],T=m[1],G=m[2];d[0]+=s[0]*c+s[4]*T+s[8]*G-c,d[1]+=s[1]*c+s[5]*T+s[9]*G-T,d[2]+=s[2]*c+s[6]*T+s[10]*G-G}return d}function L(d){return ArrayBuffer.isView(d)&&!(d instanceof DataView)}function ie(d,s){if(s)if((Array.isArray(s)||L(s))&&s.length>=3)(0,_.copy)(d,s);else{if(Array.isArray(s)||"object"!=typeof s)throw new Error("setVectorOption: unknown source format");{const{x:m,y:c,z:T}=s;(0,_.set)(d,m,c,T)}}return d}const ae=w(7225);var le=O.n(ae);class fe{constructor(){u(this,"on",void 0),u(this,"off",void 0),u(this,"emit",void 0),u(this,"destroy",void 0);const{all:s,on:m,off:c,emit:T}=le()();this.on=m,this.off=c,this.emit=T,this.destroy=()=>s.clear()}}function q(d,s,m,c){s*=.5,c*=.5,m*=.5;const T=Math.sin(s),G=Math.cos(s),de=Math.sin(m),te=Math.cos(m),we=Math.sin(c),Oe=Math.cos(c);return d[0]=T*te*Oe-G*de*we,d[1]=G*de*Oe+T*te*we,d[2]=G*te*we-T*de*Oe,d[3]=G*te*Oe+T*de*we,d}const $=1e-6,j=170141185e30,Q=(d,s=0,m=1)=>Math.max(s,Math.min(m,d));function ee(d,s){const m=s[0],c=s[1],T=s[2],G=s[4],de=s[5],te=s[6],we=s[8],Oe=s[9],Ie=s[10];let ze=m,gt=c,Mt=T,Nt=G,zt=de,kt=te,Jt=Ie;const kn=m*m+c*c+T*T,Dn=G*G+de*de+te*te;if(Math.abs(kn-1)>$){const Mn=Math.sqrt(kn);ze/=Mn,Nt/=Mn}if(Math.abs(Dn-1)>$){const Mn=Math.sqrt(Dn);gt/=Mn,zt/=Mn}const Rn=we*we+Oe*Oe+Ie*Ie;if(Math.abs(Rn-1)>$){const Mn=Math.sqrt(Rn);Mt/=Mn,kt/=Mn,Jt/=Mn}return d[1]=Math.asin(-Q(Mt,-1,1)),Math.abs(Mt)<.9999999?(d[0]=Math.atan2(kt,Jt),d[2]=Math.atan2(gt,ze)):(d[0]=0,d[2]=Math.atan2(-Nt,zt)),d}class be{constructor(s,m){const{deleteProperty:c,set:T,get:G,...de}=m,te={...de};return G&&(te.get=(we,Oe,Ie)=>{if(!/^\d+$/.test(Oe))return Reflect.get(we,Oe,Ie);const ze=parseInt(Oe,10);return G(we,ze,Ie)}),T&&(te.set=(we,Oe,Ie,ze)=>{if("length"===Oe){for(let Mt=we.length-1;Mt>=Ie;Mt--)void 0!==we[Mt]&&ze.pop();return we.length=Ie,!0}const gt="string"==typeof Oe&&/^\d+$/.test(Oe)?parseInt(Oe,10):Ie;return"number"==typeof gt&&gt>=0?T(we,gt,Ie,ze):(we[Oe]=Ie,!0)}),c&&(te.deleteProperty=(we,Oe)=>{const Ie="string"==typeof Oe&&/^\d+$/.test(Oe)&&parseInt(Oe,10);return"number"==typeof Ie?c(we,Ie):(Reflect.deleteProperty(we,Oe),!0)}),new Proxy(s,te)}}const Se=(F=new WeakMap,class extends be{constructor(s){const m=s?[...s]:[];super(m,{set:(T,G,de)=>{if(de===m[G])return!0;const te=m[G];return m[G]=de,C(F,this).emit("change",{index:G,value:de,previous:te}),void 0===te&&C(F,this).emit("add",{index:G,value:de}),!0},deleteProperty:(T,G)=>{if(G>=m.length)return!0;const de=m[G];return m[G]=void 0,C(F,this).emit("change",{index:G,value:void 0,previous:de}),C(F,this).emit("delete",{index:G,previous:de}),!0}}),E(this,F,new fe);const c=C(F,this);Object.defineProperties(this,{on:{value:c.on,enumerable:!1},off:{value:c.off,enumerable:!1},emit:{value:c.emit,enumerable:!1},destroy:{value:c.destroy,enumerable:!1}})}});class Qe extends fe{constructor(s={}){super(),u(this,"name",void 0),u(this,"parent",void 0),u(this,"children",void 0),u(this,"position",void 0),u(this,"origin",void 0),u(this,"scale",void 0),u(this,"quaternion",void 0),u(this,"rotation",void 0),u(this,"matrix",void 0),u(this,"worldMatrix",void 0),u(this,"rotationSource",void 0),u(this,"dirty",void 0),u(this,"matrixDirty",void 0),u(this,"worldMatrixDirty",void 0),u(this,"constraints",void 0),u(this,"updateWorldMatrix",void 0),u(this,"dirtyMatrix",void 0),u(this,"dirtyWorldMatrix",void 0),u(this,"updateMatrix",void 0),u(this,"setMatrix",void 0),u(this,"setWorldMatrix",void 0);const{arrays:m,name:c}=s;let T=null;if(this.name=c||"",this.children=new Set,this.position=m?.position||(0,_.create)(),ie(this.position,s?.position||[0,0,0]),this.origin=m?.origin||(0,_.create)(),ie(this.origin,s?.origin||[0,0,0]),this.scale=m?.scale||(0,_.create)(),ie(this.scale,s?.scale||[1,1,1]),this.quaternion=m?.quaternion||(0,D.create)(),s?.quaternion)if(4===s.quaternion.length)(0,D.copy)(this.quaternion,s.quaternion);else if("object"==typeof s.quaternion){const{x:Ie,y:ze,z:gt,w:Mt}=s.quaternion;(0,D.set)(this.quaternion,Ie,ze,gt,Mt)}this.rotation=m?.rotation||(0,_.create)(),ie(this.rotation,s?.rotation||[0,0,0]),this.matrix=m?.matrix||(0,W.create)(),this.worldMatrix=m?.worldMatrix||(0,W.create)(),this.constraints=new Se(s?.constraints),this.constraints.on("change",()=>{this.emit("change",{node:this,property:"constraints"})});let G=!0,de=!0,te="euler"===s.rotationSource||"quaternion"===s.rotationSource?s.rotationSource:s.rotation&&!s.quaternion?"euler":"quaternion",we="euler"===te;this.dirtyMatrix=()=>{G=!0,this.dirtyWorldMatrix()},this.dirtyWorldMatrix=()=>{if(!de){de=!0;for(const Ie of this.children)Ie.dirtyWorldMatrix();this.emit("dirty",{node:this})}},this.updateMatrix=()=>{if(G){const Ie=this.matrix,{position:ze,origin:gt,quaternion:Mt,rotation:Nt,scale:zt}=this;if(we){const[kt,Jt,kn]=Nt;q(Mt,kt,Jt,kn)}(0,W.fromRotationTranslationScaleOrigin)(Ie,Mt,ze,zt,gt),we||ee(Nt,Ie),G=!1,this.emit("updateMatrix",{node:this})}},this.updateWorldMatrix=Ie=>{this.updateMatrix(),de&&(this.parent?(this.parent.updateWorldMatrix(),(0,W.multiply)(this.worldMatrix,this.parent.worldMatrix,this.matrix)):(0,W.copy)(this.worldMatrix,this.matrix),Ie&&Ie(),de=!1,this.emit("updateWorldMatrix",{node:this}))},this.setMatrix=Ie=>{Ie!==this.matrix&&(0,W.copy)(this.matrix,Ie),K(this.position,this.matrix,this.origin),(0,W.getRotation)(this.quaternion,this.matrix),ee(this.rotation,this.matrix),(0,W.getScaling)(this.scale,this.matrix),G=!1,this.dirtyWorldMatrix()},this.setWorldMatrix=Ie=>{if(Ie!==this.worldMatrix&&(0,W.copy)(this.worldMatrix,Ie),this.parent){this.parent.updateWorldMatrix();const ze=this.matrix;(0,W.invert)(ze,this.parent.worldMatrix),(0,W.multiply)(this.matrix,ze,this.worldMatrix)}else(0,W.copy)(this.matrix,this.worldMatrix);this.setMatrix(this.matrix)};const Oe=this.destroy;this.destroy=()=>{this.parent=null,this.children.forEach(Ie=>this.remove(Ie)),this.emit("destroy",{node:this}),Oe()},Object.defineProperties(this,{rotationSource:{get:()=>te,set(Ie){Ie!==te&&(te=Ie,we="euler"===te,this.dirtyMatrix())}},dirty:{get:()=>G||de},matrixDirty:{get:()=>G},worldMatrixDirty:{get:()=>de},parent:{get:()=>T,set:(Ie=null)=>{if(T===Ie)return;let ze=null;T&&(T.children.delete(this),ze=T),Ie&&Ie.children.add(this),T=Ie,ze&&ze.emit("remove",{node:ze,child:this}),Ie&&Ie.emit("add",{node:Ie,child:this}),this.emit("parent",{node:this,parent:Ie}),this.dirtyWorldMatrix()}}})}add(s){s&&!this.children.has(s)&&(s.parent=this)}remove(s){s&&this.children.has(s)&&(s.parent=null)}}class nt{constructor(s,m,c=100){u(this,"activeCount",void 0),u(this,"size",void 0),u(this,"get",void 0),u(this,"release",void 0);const T=[];let G=0;Object.defineProperties(this,{activeCount:{get:()=>G},size:{get:()=>T.length}}),this.get=()=>(G++,T.length?T.pop():s()),this.release=de=>{if(G<=0)throw new Error("Pool: too many objects released.");G--,T.length<c&&(m&&m(de),T.push(de))}}}const De=new nt(()=>(0,_.create)(),d=>(0,_.set)(d,0,0,0)),ut=.01,Ft=.001,ve=!1,I=40,V=300,ge=[0,.8,1],Pe=!0,ke="granTurismo",xt=24*ut,Ht=new Float32Array([0,1,0]),ln=(0,W.create)();class Bt{constructor(s,m){u(this,"minDistance",void 0),u(this,"maxDistance",void 0),u(this,"zoom",void 0),u(this,"dollyScale",void 0),u(this,"camera",void 0),u(this,"position",void 0),u(this,"target",void 0),u(this,"up",void 0),u(this,"center",void 0),u(this,"distance",void 0),u(this,"orbit",void 0),u(this,"dolly",void 0),u(this,"pan",void 0),u(this,"setPosition",void 0),u(this,"setTarget",void 0),u(this,"setUp",void 0),u(this,"setCamera",void 0);const c=(0,_.create)(),T=(0,_.create)(),G=(0,_.create)(),de=s.up;let te=m?.distance??80*ut,we=m?.minDistance??.01*ut,Oe=m?.maxDistance??150*ut;function Ie(ze){s.parent?(s.updateWorldMatrix(),s.worldMatrix[12]=ze[0],s.worldMatrix[13]=ze[1],s.worldMatrix[14]=ze[2],s.setWorldMatrix(s.worldMatrix)):((0,_.copy)(s.position,ze),s.dirtyMatrix())}this.dollyScale=m?.dollyScale??xt,s.updateWorldMatrix(),m?.position?(ie(c,m.position),Ie(c)):(0,W.getTranslation)(c,s.worldMatrix),m?.target?(ie(T,m.target),s.lookAt(T),te=(0,_.distance)(c,T)):((0,_.transformMat4)(T,[0,0,-1],s.worldMatrix),(0,_.normalize)(T,T),(0,_.scale)(T,T,te)),m?.up&&(ie(de,m.up),(0,_.normalize)(de,de)),ie(G,m?.center||T),this.orbit=(ze=0,gt=0)=>{if(!ze&&!gt)return;const Mt=De.get(),Nt=De.get(),zt=De.get(),kt=De.get();if((0,_.subtract)(Mt,c,G),(0,_.subtract)(Nt,T,G),(0,_.subtract)(zt,Nt,Mt),(0,_.normalize)(zt,zt),(0,_.cross)(kt,de,zt),gt){const Jt=Math.sign(de[1])||1;(0,W.fromRotation)(ln,Jt*gt,Ht)}else(0,W.identity)(ln);ze&&(0,W.rotate)(ln,ln,ze,kt),(0,_.transformMat4)(Mt,Mt,ln),(0,_.transformMat4)(Nt,Nt,ln),(0,_.transformMat4)(de,de,ln),(0,_.normalize)(de,de),(0,_.add)(c,Mt,G),(0,_.add)(T,Nt,G),Ie(c),s.lookAt(T),De.release(Mt),De.release(Nt),De.release(zt),De.release(kt)},this.pan=(ze,gt,Mt=0)=>{if(!ze&&!gt&&!Mt)return;const Nt=De.get(),zt=De.get(),kt=De.get();(0,_.set)(Nt,0,0,0),(ze||Mt)&&(0,_.subtract)(zt,c,T),ze&&((0,_.cross)(kt,zt,de),(0,_.normalize)(kt,kt),(0,_.scale)(Nt,kt,ze)),gt&&(0,_.scaleAndAdd)(Nt,Nt,de,gt),Mt&&((0,_.normalize)(zt,zt),(0,_.scaleAndAdd)(Nt,Nt,zt,-Mt)),(0,_.add)(c,c,Nt),(0,_.add)(T,T,Nt),Ie(c),s.lookAt(T),De.release(Nt),De.release(zt),De.release(kt)},this.dolly=(ze=0)=>{ze&&(this.distance=we&&Oe?Math.abs(te+ze*te*this.dollyScale/Oe):Math.abs(te+ze))},this.setPosition=(ze,gt,Mt)=>{"number"==typeof ze?(0,_.set)(c,ze,gt,Mt):(0,_.copy)(c,ze),te=(0,_.distance)(c,T),Ie(c),(te<we||te>Oe)&&(this.distance=te),s.lookAt(T)},this.setTarget=(ze,gt,Mt)=>{"number"==typeof ze?(0,_.set)(T,ze,gt,Mt):(0,_.copy)(T,ze),te=(0,_.distance)(c,T),(te<we||te>Oe)&&(this.distance=te),s.lookAt(T)},this.setCamera=(ze,gt,Mt)=>{(0,_.copy)(c,ze),(0,_.copy)(T,gt),Mt&&(0,_.copy)(de,Mt),te=(0,_.distance)(c,T),Ie(c),(te<we||te>Oe)&&(this.distance=te),s.lookAt(T)},this.setUp=(ze,gt,Mt)=>{"number"==typeof ze?(0,_.set)(de,ze,gt,Mt):(0,_.copy)(de,ze),s.lookAt(T)},Object.defineProperties(this,{camera:{writable:!1,value:s},position:{writable:!1,value:c},target:{writable:!1,value:T},center:{writable:!1,value:G},up:{writable:!1,value:de},distance:{get:()=>te,set:ze=>{if((ze=Q(ze,we,Oe))!==te){te=ze;const gt=De.get();(0,_.subtract)(gt,c,T),(0,_.normalize)(gt,gt),(0,_.scaleAndAdd)(c,T,gt,te),De.release(gt),Ie(c)}}},zoom:{get:()=>1-(te-we)/(Oe-we),set:ze=>{this.distance=we+(1-ze)*(Oe-we)}},minDistance:{get:()=>we,set:ze=>{we=ze,this.distance=te}},maxDistance:{get:()=>Oe,set:ze=>{Oe=ze,this.distance=te}}})}}let Ye=((d={}).Nearest="nearest",d.Linear="linear",d),Ze=function(d){return d.ClampToEdge="clamp-to-edge",d.Repeat="repeat",d.MirrorRepeat="mirror-repeat",d}({});var d;class Ot extends fe{constructor(s){super(),u(this,"width",void 0),u(this,"height",void 0),u(this,"min",void 0),u(this,"mag",void 0),u(this,"mipmapFilter",void 0),u(this,"wrapU",void 0),u(this,"wrapV",void 0),u(this,"rowOrder",void 0),u(this,"anisotropy",void 0),u(this,"name",void 0),this.min=s?.min||s?.minMag||Ye.Linear,this.mag=s?.mag||s?.minMag||Ye.Linear,this.mipmapFilter=s?.mipmapFilter||Ye.Nearest,this.wrapU=s?.wrapU||s?.wrap||Ze.Repeat,this.wrapV=s?.wrapV||s?.wrap||Ze.Repeat,this.rowOrder=s?.rowOrder||"bottom-up",this.anisotropy=s?.anisotropy||1,this.name=s?.name||"";const m=this.destroy;return this.destroy=()=>{this.emit("destroy",{texture:this}),m()},new Proxy(this,{set:(c,T,G)=>(c[T]!==G&&(c[T]=G,c.emit("change",{texture:c,property:T})),!0)})}}class ye{constructor(s){u(this,"size",void 0),u(this,"has",void 0),u(this,"get",void 0),u(this,"set",void 0),u(this,"delete",void 0),u(this,"clear",void 0),u(this,"forEach",void 0),u(this,Symbol.iterator,void 0);const m={value:void 0,map:null};let c=0;function T(te){let we=m;for(let Oe=0;Oe<te.length;Oe++){const Ie=we.map?.get(te[Oe]);if(!Ie)return null;we=Ie}return we}function G(te,we){if(!we.length){const gt=void 0!==te.value;return gt&&(te.value=void 0,c--),gt}const[Oe,...Ie]=we,ze=te.map?.get(Oe);if(ze){const gt=G(ze,Ie);return void 0!==ze.value||ze.map?.size||te.map.delete(Oe),te.map.size||(te.map=null),gt}return!1}function de(te,we,Oe,Ie=[]){void 0!==te.value&&we.call(Oe,te.value,...Ie),te.map?.forEach((ze,gt)=>{de(ze,we,Oe,[...Ie,gt])},Oe)}this.has=(...te)=>{const we=T(te);return null!==we&&void 0!==we.value},this.get=(...te)=>{const we=T(te);return null===we?void 0:we.value},this.set=(...te)=>{const we=te.pop();let Oe=m;for(let Ie=0;Ie<te.length;Ie++){const ze=te[Ie];let gt;Oe.map?gt=Oe.map.get(ze):Oe.map=new Map,gt||(gt={value:void 0,map:null},Oe.map.set(ze,gt)),Oe=gt}return void 0===Oe.value&&c++,Oe.value=we,this},this.delete=(...te)=>G(m,te),this.clear=()=>(m.map=null,c=0,this),this.forEach=(te,we=this)=>de(m,te,we),this[Symbol.iterator]=()=>{const te=[];return de(m,(we,...Oe)=>te.push([Oe,we]),this),te[Symbol.iterator]()},Object.defineProperty(this,"size",{get:()=>c}),s&&s.forEach(te=>this.set(...te))}}function P(d){const s=new ye;return(...m)=>{let c=s.get(...m);return c||(c=d(...m),s.set(...m,c)),c}}const B=P(function(d,s){const m=d-1,c=s-1;return function(T,G){return Math.floor((T+m)/d)*Math.floor((G+c)/s)*16}});function R(d,s){return Math.floor((d+3)/4)*Math.floor((s+3)/4)*8}function N(d,s){return Math.floor((d+3)/4)*Math.floor((s+3)/4)*16}function Y(d,s){return(d=Math.max(d,16))*(s=Math.max(s,8))/4}function h(d,s){return(d=Math.max(d,8))*(s=Math.max(s,8))/2}function M(d,s){return Math.ceil(d/4)*Math.ceil(s/4)*8}function Z(d,s){return Math.ceil(d/4)*Math.ceil(s/4)*16}const z={r8unorm:{channels:1,compressed:!1,bits:8},r8snorm:{channels:1,compressed:!1,bits:8},r8uint:{channels:1,compressed:!1,bits:8},r8sint:{channels:1,compressed:!1,bits:8},r16uint:{channels:1,compressed:!1,bits:16},r16sint:{channels:1,compressed:!1,bits:16},r16float:{channels:1,compressed:!1,bits:16},rg8unorm:{channels:2,compressed:!1,bits:16},rg8snorm:{channels:2,compressed:!1,bits:16},rg8uint:{channels:2,compressed:!1,bits:16},rg8sint:{channels:2,compressed:!1,bits:16},r32uint:{channels:1,compressed:!1,bits:32},r32sint:{channels:1,compressed:!1,bits:32},r32float:{channels:1,compressed:!1,bits:32},rg16uint:{channels:2,compressed:!1,bits:32},rg16sint:{channels:2,compressed:!1,bits:32},rg16float:{channels:2,compressed:!1,bits:32},rgba8unorm:{channels:4,compressed:!1,bits:32},"rgba8unorm-srgb":{channels:4,compressed:!1,bits:32},rgba8snorm:{channels:4,compressed:!1,bits:32},rgba8uint:{channels:4,compressed:!1,bits:32},rgba8sint:{channels:4,compressed:!1,bits:32},bgra8unorm:{channels:4,compressed:!1,bits:32},"bgra8unorm-srgb":{channels:4,compressed:!1,bits:32},rgb9e5ufloat:{channels:3,compressed:!1,bits:32},rgb10a2uint:{channels:3,compressed:!1,bits:32},rgb10a2unorm:{channels:3,compressed:!1,bits:32},rg11b10ufloat:{channels:4,compressed:!1,bits:32},rg32uint:{channels:2,compressed:!1,bits:64},rg32sint:{channels:2,compressed:!1,bits:64},rg32float:{channels:2,compressed:!1,bits:64},rgba16uint:{channels:4,compressed:!1,bits:64},rgba16sint:{channels:4,compressed:!1,bits:64},rgba16float:{channels:4,compressed:!1,bits:64},rgba32uint:{channels:4,compressed:!1,bits:128},rgba32sint:{channels:4,compressed:!1,bits:128},rgba32float:{channels:4,compressed:!1,bits:128},stencil8:{channels:1,compressed:!1,bits:8},depth16unorm:{channels:1,compressed:!1,bits:8},depth24plus:{channels:1,compressed:!1,bits:24},"depth24plus-stencil8":{channels:2,compressed:!1,bits:32},depth32float:{channels:1,compressed:!1,bits:32},"depth32float-stencil8":{channels:2,compressed:!1,bits:40},"bc1-rgba-unorm":{channels:4,compressed:!0,size:R},"bc1-rgba-unorm-srgb":{channels:4,compressed:!0,size:R},"bc2-rgba-unorm":{channels:4,compressed:!0,size:N},"bc2-rgba-unorm-srgb":{channels:4,compressed:!0,size:N},"bc3-rgba-unorm":{channels:4,compressed:!0,size:N},"bc3-rgba-unorm-srgb":{channels:4,compressed:!0,size:N},"bc4-r-unorm":{channels:1,compressed:!0,size:M},"bc4-r-snorm":{channels:1,compressed:!0,size:M},"bc5-rg-unorm":{channels:2,compressed:!0,size:Z},"bc5-rg-snorm":{channels:2,compressed:!0,size:Z},"bc6h-rgb-ufloat":{channels:3,compressed:!0,size:Z},"bc6h-rgb-float":{channels:3,compressed:!0,size:Z},"bc7-rgba-unorm":{channels:4,compressed:!0,size:Z},"bc7-rgba-unorm-srgb":{channels:4,compressed:!0,size:Z},"etc2-rgb8unorm":{channels:3,compressed:!0,size:R},"etc2-rgb8unorm-srgb":{channels:3,compressed:!0,size:R},"etc2-rgb8a1unorm":{channels:4,compressed:!0,size:R},"etc2-rgb8a1unorm-srgb":{channels:4,compressed:!0,size:R},"etc2-rgba8unorm":{channels:4,compressed:!0,size:N},"etc2-rgba8unorm-srgb":{channels:4,compressed:!0,size:N},"eac-r11unorm":{channels:1,compressed:!0,size:R},"eac-r11snorm":{channels:1,compressed:!0,size:R},"eac-rg11unorm":{channels:2,compressed:!0,size:N},"eac-rg11snorm":{channels:2,compressed:!0,size:N},"astc-4x4-unorm":{channels:4,compressed:!0,size:B(4,4)},"astc-4x4-unorm-srgb":{channels:4,compressed:!0,size:B(4,4)},"astc-5x4-unorm":{channels:4,compressed:!0,size:B(5,4)},"astc-5x4-unorm-srgb":{channels:4,compressed:!0,size:B(5,4)},"astc-5x5-unorm":{channels:4,compressed:!0,size:B(5,5)},"astc-5x5-unorm-srgb":{channels:4,compressed:!0,size:B(5,5)},"astc-6x5-unorm":{channels:4,compressed:!0,size:B(6,5)},"astc-6x5-unorm-srgb":{channels:4,compressed:!0,size:B(6,5)},"astc-6x6-unorm":{channels:4,compressed:!0,size:B(6,6)},"astc-6x6-unorm-srgb":{channels:4,compressed:!0,size:B(6,6)},"astc-8x5-unorm":{channels:4,compressed:!0,size:B(8,5)},"astc-8x5-unorm-srgb":{channels:4,compressed:!0,size:B(8,5)},"astc-8x6-unorm":{channels:4,compressed:!0,size:B(8,6)},"astc-8x6-unorm-srgb":{channels:4,compressed:!0,size:B(8,6)},"astc-8x8-unorm":{channels:4,compressed:!0,size:B(8,8)},"astc-8x8-unorm-srgb":{channels:4,compressed:!0,size:B(8,8)},"astc-10x5-unorm":{channels:4,compressed:!0,size:B(10,5)},"astc-10x5-unorm-srgb":{channels:4,compressed:!0,size:B(10,5)},"astc-10x6-unorm":{channels:4,compressed:!0,size:B(10,6)},"astc-10x6-unorm-srgb":{channels:4,compressed:!0,size:B(10,6)},"astc-10x8-unorm":{channels:4,compressed:!0,size:B(10,8)},"astc-10x8-unorm-srgb":{channels:4,compressed:!0,size:B(10,8)},"astc-10x10-unorm":{channels:4,compressed:!0,size:B(10,10)},"astc-10x10-unorm-srgb":{channels:4,compressed:!0,size:B(10,10)},"astc-12x10-unorm":{channels:4,compressed:!0,size:B(12,10)},"astc-12x10-unorm-srgb":{channels:4,compressed:!0,size:B(12,10)},"astc-12x12-unorm":{channels:4,compressed:!0,size:B(12,12)},"astc-12x12-unorm-srgb":{channels:4,compressed:!0,size:B(12,12)},"astc-4x4-hdr":{channels:4,compressed:!0,size:B(4,4)},"astc-5x4-hdr":{channels:4,compressed:!0,size:B(5,4)},"astc-5x5-hdr":{channels:4,compressed:!0,size:B(5,5)},"astc-6x5-hdr":{channels:4,compressed:!0,size:B(6,5)},"astc-6x6-hdr":{channels:4,compressed:!0,size:B(6,6)},"astc-8x5-hdr":{channels:4,compressed:!0,size:B(8,5)},"astc-8x6-hdr":{channels:4,compressed:!0,size:B(8,6)},"astc-8x8-hdr":{channels:4,compressed:!0,size:B(8,8)},"astc-10x5-hdr":{channels:4,compressed:!0,size:B(10,5)},"astc-10x6-hdr":{channels:4,compressed:!0,size:B(10,6)},"astc-10x8-hdr":{channels:4,compressed:!0,size:B(10,8)},"astc-10x10-hdr":{channels:4,compressed:!0,size:B(10,10)},"astc-12x10-hdr":{channels:4,compressed:!0,size:B(12,10)},"astc-12x12-hdr":{channels:4,compressed:!0,size:B(12,12)},"pvrtc-rgb4unorm":{channels:3,compressed:!0,size:h},"pvrtc-rgb2unorm":{channels:3,compressed:!0,size:Y},"pvrtc-rgba4unorm":{channels:4,compressed:!0,size:h},"pvrtc-rgba2unorm":{channels:4,compressed:!0,size:Y}},H=new Map([[Uint8Array,"rgba8unorm"],[Uint8ClampedArray,"rgba8unorm"],[Uint16Array,"rgba16uint"],[Uint32Array,"rgba32uint"],[Int8Array,"rgba8sint"],[Int16Array,"rgba16sint"],[Int32Array,"rgba32sint"],[Float32Array,"rgba32float"]]);class X extends fe{constructor(s,m){super(),u(this,"source",void 0),u(this,"data",void 0),u(this,"levels",void 0),u(this,"format",void 0),u(this,"sizeDynamic",void 0),u(this,"dynamic",void 0),u(this,"width",void 0),u(this,"height",void 0),u(this,"valid",void 0),u(this,"update",void 0);let c=0,T=0,G=null,de=null,te=!1,we=!1,Oe=!1,Ie=!0;const ze=m?.format||H.get(s.constructor)||"rgba8unorm";if(typeof ImageData<"u"&&s instanceof ImageData)c=s.width,T=s.height,G=s.data,te=!0,Oe=!0;else if(typeof ImageBitmap<"u"&&s instanceof ImageBitmap)c=s.width,T=s.height;else if(typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(c=s.naturalWidth,T=s.naturalHeight,!s.naturalWidth){we=!0,te=!0,Ie=!1;const Mt=()=>{c=s.naturalWidth,T=s.naturalHeight,we=!1,te=!1,s.removeEventListener("load",Mt),Ie=!0,this.emit("resize",{source:this}),this.emit("update",{source:this})};s.addEventListener("load",Mt),this.on("destroy",()=>{s.removeEventListener("load",Mt)})}}else if(typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement){c=s.width,T=s.height,we=!0,te=!0,Oe=!0;const Mt=new MutationObserver(()=>{c=s.width,T=s.height,this.emit("resize",{source:this}),this.update()});Mt.observe(s,{subtree:!1,childList:!1,attributes:!0,attributeFilter:["width","height"]}),this.on("destroy",()=>{Mt.disconnect()})}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement){if(c=s.videoWidth,T=s.videoHeight,we=!1,te=!0,Oe=!0,s.readyState<s.HAVE_METADATA){we=!0;const Mt=()=>{c=s.videoWidth,T=s.videoHeight,we=!1,Ie=!0,s.removeEventListener("loadedmetadata",Mt),this.emit("resize",{source:this}),this.update()};s.addEventListener("loadedmetadata",Mt),this.on("destroy",()=>{s.removeEventListener("loadedmetadata",Mt)})}}else if(Array.isArray(s)&&s.length&&s[0].src)de=s.slice().sort((Mt,Nt)=>Mt.level-Nt.level),c=de[0].width,T=de[0].height,G=de[0].src;else{if(!L(s))throw new Error("Texture: unknown texture source format");{te=!0,Oe=!0,c=m?.width||0,T=m?.height||0;const Mt=z[ze];if(!0===Mt.compressed){if(Mt.size(c,T)!==s.byteLength)throw new Error("Texture: height and width do not match array size.")}else{const Nt=Mt.bits/8;if(!(c>0&&T>0)){const kt=Math.sqrt(s.byteLength/Nt);kt===Math.floor(kt)&&(c=T=kt)}if(!(c>0&&T>0))throw new Error("Texture: typed array texture requires width and height options or square image.");const zt=c*T;if(s.length%zt!=0||s.byteLength/zt>Nt)throw new Error("Texture: height and width do not match array size.")}G=s}}Object.defineProperties(this,{source:{value:s,writable:!1},data:{value:G,writable:!1},levels:{value:de,writable:!1},format:{value:ze,writable:!1}}),Object.defineProperties(this,we?{width:{get:()=>c},height:{get:()=>T},sizeDynamic:{get:()=>we},valid:{get:()=>Ie}}:{width:{value:c,writable:!1},height:{value:T,writable:!1},sizeDynamic:{value:we,writable:!1},valid:{value:Ie,writable:!1}}),this.update=Oe?()=>this.emit("update",{source:this}):()=>{};const gt=this.destroy;this.destroy=()=>{this.emit("destroy"),gt()},Object.defineProperties(this,te?{dynamic:{get:()=>te}}:{dynamic:{value:te,writable:!1}})}}class oe extends Ot{constructor(s,m){if(6!==s?.length)throw new Error("CubeTexture must have exactly 6 images");const c=s.map(Ie=>new X(Ie,m)),T=c[0],G=T.format;let de=!1;const te=()=>{const{width:Ie,height:ze,valid:gt}=T;if(!gt||!Ie||!ze)return!1;if(Ie!==ze)throw new Error("CubeTexture sources must be square.");for(let Mt=1;Mt<c.length;Mt++){const Nt=c[Mt];if(!Nt.valid||Nt.width!==Ie||Nt.height!==ze)return!1}return!0};for(let Ie=1;Ie<c.length;Ie++)if(c[Ie].format!==T.format)throw new Error("CubeTexture must have the same format for all sources");de=te(),super({mipmapFilter:Ye.Linear,wrap:Ze.ClampToEdge,...m}),u(this,"sources",void 0),u(this,"levels",void 0),u(this,"format",void 0),s=s.slice(),Object.freeze(s),c.forEach(Ie=>{Ie.on("resize",()=>{de=te(),this.emit("resize")}),Ie.on("update",()=>{de=te(),this.emit("update")})});let we=c.map(Ie=>Ie.levels);we.some(Ie=>!Ie)&&(we=null);const Oe=this.destroy;this.destroy=()=>{c.forEach(Ie=>{Ie.destroy()}),Oe()},Object.defineProperties(this,{sources:{value:s,writable:!1},levels:{value:we,writable:!1},format:{value:G,writable:!1},width:{get:()=>T.width},height:{get:()=>T.height},valid:{get:()=>de},sizeDynamic:{get:()=>T.sizeDynamic},dynamic:{value:T.dynamic,writable:!1}})}}const He=globalThis.fetch;function rt(){return ft.apply(this,arguments)}function ft(){return ft=b(function*(...d){const s=yield He(...d);if(!s.ok&&!/^file:\/\//.test(s.url))throw new Error(s.statusText?`Fetch [code ${s.status}]: '${s.statusText}'`:`Fetch request failed: '${s.status||"unknown status"}'`);return s}),ft.apply(this,arguments)}function It(d,...s){let m=d||"";return s.forEach(c=>{c&&(c.startsWith("/")&&(c=c.substring(1)),m.endsWith("/")?m+=c:m+="/"+c)}),m}function Ge(d){return new Promise((s,m)=>{const c=new Image;c.onload=()=>{c.onload=c.onerror=null,s(c)},c.onerror=()=>{c.onload=c.onerror=null,m(new Error("Error loading image"))},c.src=d})}function Ct(d,s){return Math.floor(Math.log2(Math.max(d,s)))+1}const dt=typeof createImageBitmap<"u";function At(d,s,m,c){return Qt.apply(this,arguments)}function Qt(){return Qt=b(function*(d,s,m,c){const T=/(.+)\.([^.]+)$/.exec(m);if(!T)throw new Error(`Invalid asset id: '${m}'`);const G=T[1],de=T[2],te=yield d("reflections",G,"outline");if(!te[de])return console.error(`Reflection not found: ${G}[${de}]`),null;const{src:we,intensity:Oe,space:Ie}=te[de],ze=function(Nt,zt){const kt=zt.split("/");return It(Nt,"content/states",kt[0],"reflections",kt[1]+"/")}(s,G),gt=yield Promise.all(we.map(function(){var Nt=b(function*(zt){if(zt=ze+zt,c?.loadImage){const kt=yield c.loadImage(zt);if(kt)return kt}if(dt){const kt=yield rt(zt),Jt=yield kt.blob();return createImageBitmap(Jt)}return Ge(zt)});return function(zt){return Nt.apply(this,arguments)}}())).catch(Nt=>(console.warn("Error loading environment asset: "+m,Nt),null));if(!gt)return null;const Mt=new oe(gt,{wrap:Ze.ClampToEdge,mag:Ye.Linear,min:Ye.Linear});return{space:Ie,texture:Mt,intensity:Oe,mipLevels:Ct(Mt.width,Mt.height)}}),Qt.apply(this,arguments)}let Ke=function(d){return d.points="points",d.lines="lines",d.lineLoop="line-loop",d.lineStrip="line-strip",d.triangles="triangles",d.triangleStrip="triangle-strip",d.triangleFan="triangle-fan",d}({});const pt=function(d,s,m,c){const T=d<256?Uint8Array:d<65536?Uint16Array:Uint32Array;return"number"==typeof s?new T(s):new T(s,m,c)};function Tt(){return{min:(0,_.fromValues)(1/0,1/0,1/0),max:(0,_.fromValues)(-1/0,-1/0,-1/0)}}function $e(d,s){(0,_.copy)(d.min,s.min),(0,_.copy)(d.max,s.max)}function Lt(d,s){const{min:m,max:c}=d;(0,_.set)(m,1/0,1/0,1/0),(0,_.set)(c,-1/0,-1/0,-1/0);for(let T=0;T<s.length;T++){const G=T%3,de=s[T];de<m[G]&&(m[G]=de),de>c[G]&&(c[G]=de)}}const Xt=/coord|texture|\buvs?\b/i,gn=/colou?r/i;class $n extends fe{constructor(s,m){super(),u(this,"attributes",void 0),u(this,"indices",void 0),u(this,"topology",void 0),u(this,"bounds",void 0),u(this,"name",void 0),u(this,"offset",void 0),u(this,"count",void 0),this.attributes=function Ln(d){const s={};return Object.keys(d).forEach(m=>{if("indices"===m)return;const c=d[m],T=L(c)?{data:c}:Array.isArray(c)?{data:new Float32Array(c)}:{...c},G=T.name||m;if(T.value){if(!Array.isArray(T.value)&&!L(T.value))throw new Error("array.value is not array or TypedArray");return void(s[G]={value:T.value})}const de=function(Oe){if(L(Oe.data))return Oe.data;let Ie=Oe.type;return Ie||(Ie=Float32Array),new Ie(Oe.data)}(T),te=T.numComponents||function(Oe,Ie){let ze=3;if(Xt.test(Oe)?ze=2:gn.test(Oe)&&(ze=4),Ie%ze>0)throw new Error(`Can not guess numComponents for attribute '${Oe}'. Tried ${ze} but ${Ie} values is not evenly divisible by ${ze}. You should specify it.`);return ze}(m,L(de)||Array.isArray(de)?de.length:0);var we;s[G]={data:de,numComponents:te,normalize:T.normalize?T.normalize:(we=de,we instanceof Int8Array||we instanceof Uint8Array),stride:T.stride||0,offset:T.offset||0,decodeMat:T.decodeMat||null,drawType:T.drawType||35044},void 0!==T.divisor&&(s[G]=T.divisor)}),s}(s),this.indices=null,s.indices&&(this.indices=L(s.indices)?s.indices:this.attributes.position?pt(this.attributes.position.data.length/3,s.indices):new Uint32Array(s.indices)),this.bounds=Tt(),this.name="",m?$e(this.bounds,m):this.attributes.position&&Lt(this.bounds,this.attributes.position.data);let c=Ke.triangles,T=this.indices?this.indices.length:(this.attributes.position?.data?.length||0)/3,G=0;const de=this.destroy;this.destroy=()=>{de();for(const te in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,te)&&(this.attributes[te]=null)},Object.defineProperties(this,{count:{get:()=>T,set:te=>{T!==te&&(T=te,this.emit("change",{geometry:this,property:"count"}))}},offset:{get:()=>G,set:te=>{G!==te&&(G=te,this.emit("change",{geometry:this,property:"offset"}))}},topology:{get:()=>c,set:te=>{c!==te&&(c=te,this.emit("change",{geometry:this,property:"topology"}))}}})}}class gr extends $n{constructor(s,m){super(s,m),u(this,"morphKeys",void 0),this.morphKeys=[]}}const sn=(0,_.create)();class St extends Qe{constructor(s,m,c){const{castShadow:T=!0,receiveShadow:G=!0,...de}=c||{};super(de),u(this,"geometry",void 0),u(this,"material",void 0),u(this,"normalMatrix",void 0),u(this,"castShadow",void 0),u(this,"receiveShadow",void 0),u(this,"reflected",void 0),u(this,"renderable",void 0),u(this,"worldBoundsDirty",void 0),u(this,"worldBounds",void 0),u(this,"dirtyWorldBounds",void 0),u(this,"updateWorldBounds",void 0);let te=1,we=!1,Oe=!0,Ie=T,ze=G,gt=!0;this.normalMatrix=(0,W.create)(),this.worldBounds=Tt();const Mt=this.updateWorldMatrix;this.updateWorldMatrix=()=>Mt(()=>{const{worldMatrix:Jt,normalMatrix:kn}=this;(0,W.invert)(kn,Jt),(0,W.transpose)(kn,kn),te=(0,W.determinant)(Jt),we=te<0,Oe=!!(m&&s&&te)}),this.dirtyWorldBounds=()=>{gt||(gt=!0,this.emit("dirty",{node:this}))},this.updateWorldBounds=()=>{if(this.updateWorldMatrix(),gt){let Jt=1/0,kn=1/0,Dn=1/0,Rn=-1/0,Mn=-1/0,Bn=-1/0;if(this.geometry){const{worldMatrix:Qn}=this,{bounds:dr}=this.geometry;for(let Gn=0;Gn<8;Gn++){sn[0]=1&Gn?dr.min[0]:dr.max[0],sn[1]=2&Gn?dr.min[1]:dr.max[1],sn[2]=4&Gn?dr.min[2]:dr.max[2],(0,_.transformMat4)(sn,sn,Qn);const Nr=sn[0],Xr=sn[1],ri=sn[2];Nr<Jt&&(Jt=Nr),Xr<kn&&(kn=Xr),ri<Dn&&(Dn=ri),Nr>Rn&&(Rn=Nr),Xr>Mn&&(Mn=Xr),ri>Bn&&(Bn=ri)}}(0,_.set)(this.worldBounds.min,Jt,kn,Dn),(0,_.set)(this.worldBounds.max,Rn,Mn,Bn),gt=!1,this.emit("updateWorldBounds",{node:this})}};const Nt=Jt=>this.emit("change",{node:this,property:Jt}),zt=Jt=>this.emit("change",{node:this,property:"material",detail:Jt?.property}),kt=Jt=>{this.dirtyWorldBounds(),this.emit("change",{node:this,property:"geometry",detail:Jt?.property})};m&&m.on("change",zt),s&&s.on("change",kt),this.on("dirty",()=>{gt=!0}),Object.defineProperties(this,{dirty:{get:()=>gt||this.matrixDirty||this.worldMatrixDirty},worldBoundsDirty:{get:()=>gt},reflected:{get:()=>we},renderable:{get:()=>Oe},material:{get:()=>m,set:Jt=>{Jt||(Jt=null),Jt!==m&&(m&&m.off("change",zt),(m=Jt)&&m.on("change",zt),Oe=!!(m&&s&&te),zt())}},geometry:{get:()=>s,set:Jt=>{Jt||(Jt=null),Jt!==s&&(s&&s.off("change",kt),(s=Jt)&&s.on("change",kt),Oe=!!(m&&s&&te),kt())}},castShadow:{get:()=>Ie,set:Jt=>{(Jt=!!Jt)!==Ie&&(Ie=Jt,Nt("castShadow"))}},receiveShadow:{get:()=>ze,set:Jt=>{(Jt=!!Jt)!==ze&&(ze=Jt,Nt("receiveShadow"))}}})}}const Fe=w(9685);var Ue=O.n(Fe);function Ce(d){if(!d)return d;const s=d.constructor;if(s===String||s===Number)return d;if(s===Object){const m={};for(const c in d)Object.prototype.hasOwnProperty.call(d,c)&&(m[c]=Ce(d[c]));return m}if(Array.isArray(d))return d.map(Ce);if(d instanceof Set){const m=new Set;return d.forEach(c=>m.add(Ce(c))),m}if(d instanceof Map){const m=new Map;return d.forEach((c,T)=>m.set(T,Ce(c))),m}return L(d)?new globalThis[d.constructor.name](d):Ue()(d)}function me(d){if(!d||"object"!=typeof d)return d;for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&me(d[s]);return Object.freeze(d)}class it extends fe{constructor(s,m){super(),u(this,"clear",void 0),u(this,"delete",void 0),u(this,"forEach",void 0),u(this,"get",void 0),u(this,"has",void 0),u(this,"set",void 0),u(this,"size",void 0),u(this,"entries",void 0),u(this,"keys",void 0),u(this,"values",void 0),u(this,Symbol.iterator,void 0),u(this,Symbol.toStringTag,void 0);const c=new Map,T=!!(m?.clone??1),G=T&&!!(m?.freeze??T);this.forEach=(te,we)=>(c.forEach((Oe,Ie)=>te.call(we,Oe,Ie,this)),this),this.get=te=>c.get(te),this.has=te=>c.has(te),this.entries=()=>c.entries(),this.keys=()=>c.keys(),this.values=()=>c.values(),this[Symbol.iterator]=()=>c[Symbol.iterator](),this[Symbol.toStringTag]=c[Symbol.toStringTag],this.clear=()=>{const te=Array.from(c.keys());c.clear();for(const we of te)this.emit("change",we),this.emit("delete",we);return this},this.delete=te=>!!c.has(te)&&(c.delete(te),this.emit("change",te),this.emit("delete",te),!0),this.set=(te,we)=>{if(we===c.get(te))return this;T&&(we=Ce(we)),G&&me(we);const Oe=c.has(te);return c.set(te,we),Oe||this.emit("add",te),this.emit("change",te),this};const de=this.destroy;if(this.destroy=()=>{this.clear(),de()},Object.defineProperties(this,{size:{get:()=>c.size}}),s)for(const[te,we]of s)this.set(te,we)}}class Me extends St{constructor(s,m,c){const{layer:T,visible:G,depthMask:de,renderOrder:te,clippable:we,...Oe}=c||{};super(s,m,{rotationSource:"euler",...Oe}),u(this,"layer",void 0),u(this,"renderOrder",void 0),u(this,"clippable",void 0),u(this,"modifiers",void 0),u(this,"morphKeyIndex",void 0),u(this,"morphFactor",void 0),u(this,"depthMask",void 0),u(this,"visible",void 0);let Ie=G??!0,ze=T||0,gt=we??!0,Mt=te||0,Nt=de??!0,zt=-1,kt=0,Jt=new it(void 0,{clone:!1});const kn=new Set,Dn=()=>{this.emit("change",{node:this,property:"modifier",detail:"value"})},Rn=()=>{const Qn=new Set(kn);kn.clear(),Jt.forEach(dr=>{"range"in dr&&dr.parent&&kn.add(dr.parent)}),Qn.forEach(dr=>{kn.has(dr)||dr.off("dirty",Dn)}),kn.forEach(dr=>{Qn.has(dr)||dr.on("dirty",Dn)}),Dn()};Jt.on("change",Rn);const Mn=()=>{this.emit("change",{node:this,property:"modifier"})};Jt.on("add",Mn),Jt.on("delete",Mn);const Bn=this.destroy;this.destroy=()=>{Jt&&Jt.off("change",Rn),Bn()},Object.defineProperties(this,{visible:{get:()=>Ie,set:Qn=>{Ie!==Qn&&(Ie=Qn,this.emit("change",{node:this,property:"visible"}))}},layer:{get:()=>ze,set:Qn=>{ze!==Qn&&(ze=Qn,this.emit("change",{node:this,property:"layer"}))}},clippable:{get:()=>gt,set:Qn=>{gt!==Qn&&(gt=Qn,this.emit("change",{node:this,property:"clippable"}))}},depthMask:{get:()=>Nt,set:Qn=>{Nt!==Qn&&(Nt=Qn,this.emit("change",{node:this,property:"depthMask"}))}},morphKeyIndex:{get:()=>zt,set:Qn=>{zt!==Qn&&(zt=Qn,this.emit("change",{node:this,property:"morphKeyIndex"}))}},morphFactor:{get:()=>kt,set:Qn=>{kt!==Qn&&(kt=Qn,this.emit("change",{node:this,property:"morphFactor"}))}},modifiers:{get:()=>Jt,set:Qn=>{const dr=Jt?.size||0;Jt!==Qn&&(Jt&&(Jt.off("change",Rn),Jt.off("add",Mn),Jt.off("delete",Mn)),Jt=Qn,Jt&&(Jt.on("change",Rn),Jt.on("add",Mn),Jt.on("delete",Mn)),(Jt?.size||dr)&&Mn())}},renderOrder:{get:()=>Mt,set:Qn=>{Mt!==Qn&&(Mt=Qn,this.emit("change",{node:this,property:"renderOrder"}))}}})}}class We extends Me{constructor(...s){super(...s),u(this,"playBackRate",void 0),u(this,"emissionAverage",void 0),u(this,"emissionVariance",void 0),u(this,"pointSize",void 0),u(this,"perspectivePoints",void 0),u(this,"roundPoints",void 0),u(this,"pointUVScale",void 0),u(this,"id",void 0),u(this,"name",void 0),u(this,"loaded",void 0),u(this,"subSystemIds",void 0)}}class Gt extends fe{constructor(s){const{transparent:m=!1,opacity:c=1,type:T="",name:G=""}=s||{};super(),u(this,"transparent",void 0),u(this,"opacity",void 0),u(this,"type",void 0),u(this,"name",void 0),u(this,"blendMode",void 0);let de=m,te=c,we=T,Oe=s?.blendMode||"normal";this.name=G;const Ie=this.destroy;this.destroy=()=>{this.emit("destroy",{material:this}),Ie()},Object.defineProperties(this,{transparent:{get:()=>de,set:ze=>{ze!==de&&(de=ze,this.emit("change",{material:this,property:"transparent"}))}},opacity:{get:()=>te,set:ze=>{ze!==te&&(te=ze,this.emit("change",{material:this,property:"opacity"}))}},blendMode:{get:()=>Oe,set:ze=>{ze!==Oe&&(Oe=ze,this.emit("change",{material:this,property:"blendMode"}))}},type:{get:()=>we,set:ze=>{ze!==we&&(we=ze,this.emit("change",{material:this,property:"type"}))}}})}}function Kt(d){return d?Ce(d):null}function On(d,s){const m=new Float32Array(s);if(d)for(let c=0;c<d.length;c++)m[c]=d[c];return m}class vr extends Gt{constructor(s){const{baseColor:m,emitColor:c,metallic:T,roughness:G,specularf0:de,specularColor:te,shine:we,glassFactor:Oe,murkiness:Ie,textures:ze,baseFresnel:gt,emitFresnel:Mt,specularFresnel:Nt,transparencyFresnel:zt,alphaFresnel:kt,reflectionFresnel:Jt,reflectionMap:kn,...Dn}=s||{};var Bn;super(Dn),u(this,"baseColor",void 0),u(this,"emitColor",void 0),u(this,"metallic",void 0),u(this,"roughness",void 0),u(this,"specularf0",void 0),u(this,"specularColor",void 0),u(this,"shine",void 0),u(this,"glassFactor",void 0),u(this,"murkiness",void 0),u(this,"textures",void 0),u(this,"baseFresnel",void 0),u(this,"emitFresnel",void 0),u(this,"specularFresnel",void 0),u(this,"transparencyFresnel",void 0),u(this,"alphaFresnel",void 0),u(this,"reflectionFresnel",void 0),u(this,"reflectionMap",void 0),this.type=Dn.type||"phong",this.baseColor=On(m,[1,1,1]),this.emitColor=On(c,[1,1,1,0]),this.metallic=T??1,this.roughness=G??1,this.specularf0=de??.1,this.specularColor=On(te,[1,1,1]),this.shine=we??70,this.glassFactor=Oe??0,this.murkiness=Ie??1,this.textures=function(Bn){if(!Bn)return[];if(!Array.isArray(Bn))throw new Error("textures option must an array of texture layers.");const Qn=[];return Bn.forEach(dr=>{const{texture:Gn,applyTo:Nr,blendMode:Xr,blendFactor:ri=1}=dr;Qn.push({texture:Gn,applyTo:Nr,blendMode:Xr,blendFactor:ri})}),Qn}(ze),this.baseFresnel=Kt(gt),this.emitFresnel=Kt(Mt),this.specularFresnel=Kt(Nt),this.transparencyFresnel=Kt(zt),this.alphaFresnel=Kt(kt),this.reflectionFresnel=Kt(Jt),this.reflectionMap=(Bn=kn)?Object.assign({},Bn):null;const Rn=()=>{this.emit("change",{material:this,property:"texture"})};this.textures.forEach(Bn=>{Bn.texture.on("change",Rn),Bn.texture.on("resize",Rn),Bn.texture.on("update",Rn)});const Mn=this.destroy;this.destroy=()=>{this.textures.forEach(Bn=>{Bn.texture.off("change",Rn),Bn.texture.off("resize",Rn),Bn.texture.off("update",Rn)}),this.textures.length=0,Mn()}}}const Cn=function(d){if(null==d)return;if("number"==typeof d)return[d,d,d];const{r:s,g:m,b:c,a:T}=d;return void 0===T?[s,m,c]:[s,m,c,T]},tr=/^([^/]+)\/([^/.]+)/;function Er(d){const s=tr.exec(d);if(!s)throw new Error(`Unable to parse material id "${d}"`);const[,m,c]=s;return"content/states/"+m+"/materials/"+c+"/"}const _r={metallic:new Set(["specular","shine"]),phong:new Set(["metallic","roughness"])},sr=["alphaFresnel","reflectionFresnel","transparencyFresnel"],_n=["baseFresnel","emitFresnel","specularFresnel"],_i={blendMode:"multiply",power:1},Ii={alphaFresnel:0,reflectionFresnel:1,transparencyFresnel:0,baseFresnel:1,specularFresnel:0,emitFresnel:0},so=new Set(["add","multiply"]),Cr=new Set(["add","multiply","forceAdd","over"]);function Or(){return Or=b(function*(d,s,m){const c=!!d.nodes?.some(kt=>"flags"===kt.type&&!0===kt.flags.transparent),T=d.alpha??1,G=Cn(d.baseColor),de=d.emit||0,te=d.emitColor?Cn({...d.emitColor,a:de}):[1,1,1,de],we=[],Oe={transparent:c,opacity:T,name:d.id||s,baseColor:G,emitColor:te,textures:we};d.nodes?.some(kt=>"flags"===kt.type&&!0===kt.flags.addBlend)&&(Oe.blendMode="add");const Ie="workflow"in d?d.workflow:"phong";var kt;"workflow"in d?"metallic"===d.workflow&&Object.assign(Oe,function(kt){const{metallic:Jt,roughness:kn,specularf0:Dn}=kt,Rn={type:"metallic",metallic:Jt,roughness:kn,specularf0:Dn};return"reflectionId"in kt&&console.warn("Material reflection maps are not supported on metallic/PBR materials."),Rn}(d)):Object.assign(Oe,yield(kt=b(function*(Jt,kn,Dn){const{shine:Rn,glassFactor:Mn=1,murkiness:Bn}=Jt,Qn={type:"phong",shine:Rn,glassFactor:Mn,murkiness:Bn,specularColor:Jt.specularColor?Cn(Jt.specularColor):[1,1,1]};if(Jt.reflectionId){if(!Dn.getAssetLibrary&&!Dn.server)throw new Error("Unable to load reflection asset without getAssetLibrary or server option");const dr=kn.replace(/\/materials\..*/,"/reflections."+Jt.reflectionId);try{const Gn=Dn.baseUrl||"",Nr=Dn.getAssetLibrary||((ri,Br,Sr)=>Dn.server.getAssetLibrary(Gn,ri,Br,Sr)),Xr=yield At(Nr,Gn,dr,Dn.server);Xr&&(Qn.reflectionMap={texture:Xr.texture,intensity:Xr.intensity,mipLevels:Xr.mipLevels})}catch(Gn){console.warn("Unable to load reflection asset "+dr+" for material "+kn,Gn)}}return Qn}),function(Jt,kn,Dn){return kt.apply(this,arguments)})(d,s,m));const ze=d.nodes?.find(kt=>"texture"===kt.type&&kt?.layers.length>0),gt=[],Mt=new Set,Nt=Symbol(s);if(ze?.layers.length){const kt=Er(s),Jt=P(Dn=>m.textureCache.get(Nt,Dn)),kn=_r[Ie];ze.layers.forEach(Dn=>{let Rn=Dn.blendMode||"over",Mn=Dn.applyTo;if("add"===Rn?Rn="over":"forceAdd"===Rn&&(Rn="add"),!Cr.has(Rn))throw new Error("Texture has invalid blend mode: "+Rn);if("color"===Mn&&(Mn="baseColor"),kn.has(Mn))return void console.warn(`"${Mn}" texture channels are not supported on ${Ie} materials.`);const Bn={texture:null,applyTo:Mn,blendMode:Rn,blendFactor:Dn.blendFactor??1};we.push(Bn);const dr=It(m.baseUrl||"",Dn.src||kt+(Dn.uri||""));Mt.add(dr),gt.push(Jt(dr).then(Gn=>{if(Bn.texture=Gn,!Gn)throw new Error("Failed to load texture")}).catch(Gn=>{console.warn("Error loading image",dr,Gn);const Nr=we.indexOf(Bn);Nr>=0&&we.splice(Nr,1)}))})}sr.forEach(kt=>{const Jt=d[kt];if(Jt){if(Jt.blendMode&&!so.has(Jt.blendMode))throw new Error(`Fresnel (${kt}) has invalid blend mode: ${Jt.blendMode}`);const kn=Ii[kt],Dn=1-kn;Oe[kt]={..._i,edge:kn,center:Dn,...Jt}}}),_n.forEach(kt=>{const Jt=d[kt];if(Jt){if(Jt.blendMode&&!so.has(Jt.blendMode))throw new Error(`Fresnel (${kt}) has invalid blend mode: ${Jt.blendMode}`);const kn=Ii[kt],Dn=1-kn;Oe[kt]={..._i,...Jt,center:Cn(Jt.center?Jt.center:Dn),edge:Cn(Jt.edge?Jt.edge:kn)}}}),yield Promise.all(gt);const zt=new vr(Oe);return zt.on("destroy",()=>{Mt.forEach(kt=>m.textureCache.release(Nt,kt))}),zt}),Or.apply(this,arguments)}const fi=d=>d?.map(({blendFactor:s=1,blendMode:m="over",...c})=>({...c,blendFactor:s,blendMode:m}))||[],Yi=d=>d?.map(({blendFactor:s=1,blendMode:m="over",channel:c="r",invert:T=!1,...G})=>({...G,blendFactor:s,blendMode:m,channel:c,invert:T}))||[];class ho extends Gt{constructor(s){const{blendMode:m,baseColor:c,baseColorMaps:T,opacityMaps:G,baseColorFresnel:de,opacityFresnel:te,...we}=s||{};super(we),u(this,"baseColor",void 0),u(this,"baseColorMaps",void 0),u(this,"opacityMaps",void 0),u(this,"baseColorFresnel",void 0),u(this,"opacityFresnel",void 0),this.blendMode=m||"normal",this.baseColor=On(c,[1,1,1]),this.baseColorMaps=fi(T),this.opacityMaps=Yi(G),this.baseColorFresnel=Kt(de),this.opacityFresnel=Kt(te);const Oe=()=>{this.emit("change",{material:this,property:"texture"})},Ie=new Set([...this.baseColorMaps,...this.opacityMaps].map(({texture:gt})=>gt));Ie.forEach(gt=>{gt.on("change",Oe),gt.on("resize",Oe),gt.on("update",Oe)});const ze=this.destroy;this.destroy=()=>{Ie.forEach(gt=>{gt.off("change",Oe),gt.off("resize",Oe),gt.off("update",Oe)}),this.baseColorMaps.length=0,this.opacityMaps.length=0,ze()}}}class Vi extends ho{constructor(s){super({...s,type:"unlit"})}}class Qi extends ho{constructor(s){const{normalMaps:m,metallic:c,metallicMaps:T,occlusionMaps:G,roughness:de,roughnessMaps:te,emissive:we,emissiveMaps:Oe,ior:Ie,specularFactor:ze,specularFactorMaps:gt,specularColor:Mt,specularColorMaps:Nt,emissiveFresnel:zt,...kt}=s||{};super({...kt,type:"physical"}),u(this,"normalMaps",void 0),u(this,"metallic",void 0),u(this,"metallicMaps",void 0),u(this,"occlusionMaps",void 0),u(this,"roughness",void 0),u(this,"roughnessMaps",void 0),u(this,"emissive",void 0),u(this,"emissiveMaps",void 0),u(this,"ior",void 0),u(this,"specularFactor",void 0),u(this,"specularFactorMaps",void 0),u(this,"specularColor",void 0),u(this,"specularColorMaps",void 0),u(this,"emissiveFresnel",void 0);let Jt=c??0,kn=Ie??1.5,Dn=de??1,Rn=ze??1;var Mn;this.normalMaps=(Mn=m,Mn?.map(({blendFactor:Gn=1,blendMode:Nr="over",...Xr})=>({...Xr,blendFactor:Gn,blendMode:Nr}))||[]),this.metallicMaps=Yi(T),this.roughnessMaps=Yi(te),this.occlusionMaps=Yi(G),this.emissive=On(we,[0,0,0]),this.emissiveMaps=fi(Oe),this.specularFactorMaps=Yi(gt),this.specularColor=On(Mt,[1,1,1]),this.specularColorMaps=fi(Nt),this.emissiveFresnel=Kt(zt);const Bn=()=>{this.emit("change",{material:this,property:"texture"})},Qn=new Set([...this.metallicMaps,...this.roughnessMaps,...this.occlusionMaps,...this.emissiveMaps].map(({texture:Gn})=>Gn));Qn.forEach(Gn=>{Gn.on("change",Bn),Gn.on("resize",Bn),Gn.on("update",Bn)});const dr=this.destroy;this.destroy=()=>{Qn.forEach(Gn=>{Gn.off("change",Bn),Gn.off("resize",Bn),Gn.off("update",Bn)}),this.emissiveMaps.length=0,this.specularColorMaps.length=0,this.normalMaps.length=0,this.metallicMaps.length=0,this.occlusionMaps.length=0,this.roughnessMaps.length=0,this.specularFactorMaps.length=0,dr()},Object.defineProperties(this,{metallic:{get:()=>Jt,set:Gn=>{Gn!==Jt&&(Jt=Gn,this.emit("change",{material:this,property:"metallic"}))}},roughness:{get:()=>Dn,set:Gn=>{Gn!==Dn&&(Dn=Gn,this.emit("change",{material:this,property:"roughness"}))}},ior:{get:()=>kn,set:Gn=>{Gn!==kn&&(kn=Gn,this.emit("change",{material:this,property:"ior"}))}},specularFactor:{get:()=>Rn,set:Gn=>{Gn!==Rn&&(Rn=Gn,this.emit("change",{material:this,property:"specularFactor"}))}}})}}function Ve(d,s){return{name:d.id||s,baseColor:Cn(d.baseColor)}}const _t=new Set(["add","multiply"]),an=(d,s,m,c,T)=>function(){var G=b(function*(de,te,we){const Oe={...Ve(de,te),...s(de)},Ie=Symbol(te),ze=Er(te),gt=[];yield Promise.all(m.map(function(){var Nt=b(function*(zt){const kt=de[zt];if(kt){const Jt=yield Promise.all(kt.map(function(){var kn=b(function*(Dn){const{uri:Rn,...Mn}=Dn,Qn=It(we.baseUrl||"",ze+(Rn||""));try{const dr=yield(Gn=Qn,we.textureCache.get(Ie,Gn));return gt.push(Qn),{...Mn,texture:dr}}catch(dr){return console.warn("Error loading image",Qn,dr),null}var Gn});return function(Dn){return kn.apply(this,arguments)}}()));Oe[zt]=Jt.filter(kn=>!!kn)}});return function(zt){return Nt.apply(this,arguments)}}())),c.forEach(Nt=>{const zt=de[Nt];if(zt){if(zt.blendMode&&!_t.has(zt.blendMode))throw new Error(`Fresnel (${Nt}) has invalid blend mode: ${zt.blendMode}`);Oe[Nt]={...zt}}}),T.forEach(Nt=>{const zt=de[Nt];if(zt){if(zt.blendMode&&!_t.has(zt.blendMode))throw new Error(`Fresnel (${Nt}) has invalid blend mode: ${zt.blendMode}`);Oe[Nt]={...zt,center:Cn(zt.center),edge:Cn(zt.edge)}}});const Mt=new d(Oe);return Mt.on("destroy",()=>{gt.forEach(Nt=>we.textureCache.release(Ie,Nt))}),Mt});return function(de,te,we){return G.apply(this,arguments)}}(),_e=an(Vi,function(d){const{opacity:s,blendMode:m}=d;return{opacity:s,blendMode:m}},["baseColorMaps","opacityMaps"],["opacityFresnel"],["baseColorFresnel"]),Dt=an(Qi,function(d){const{opacity:s,blendMode:m,ior:c,metallic:T,roughness:G,specularFactor:de}=d;return{opacity:s,blendMode:m,emissive:Cn(d.emissive),ior:c,metallic:T,roughness:G,specularColor:Cn(d.specularColor),specularFactor:de}},["baseColorMaps","emissiveMaps","metallicMaps","normalMaps","occlusionMaps","opacityMaps","roughnessMaps","specularColorMaps","specularFactorMaps"],["opacityFresnel"],["baseColorFresnel","emissiveFresnel"]);function on(d,s,m){return"workflow"in d&&"metallic"!==d.workflow?"physical"===d.workflow?Dt(d,s,m):"unlit"===d.workflow?_e(d,s,m):null:function ii(d,s,m){return Or.apply(this,arguments)}(d,s,m)}function Un(d,s){return qn.apply(this,arguments)}function qn(){return qn=b(function*(d,s){if("materialId"in d)return s.loadMaterial(d.materialId,s);if(void 0!==d.material&&"workflow"in d.material)return on(d.material,d.material.id,s);const m=d.material?.baseColor?Cn(d.material.baseColor):null,c=d.material&&"alpha"in d.material&&void 0!==d.material.alpha?d.material?.alpha:1,T=Symbol("particle material:"+d.id),G=[],de={transparent:!0,opacity:c,baseColor:m,textures:G,name:d.id},te=[],we=new Set;if("textures"in d){const Ie=d.textures?.length&&P(ze=>s.textureCache.get(T,ze));for(let ze=0,gt=d.textures?.length||0;ze<gt;ze++){const Mt=d.textures[ze],{src:Nt}=Mt;let zt=Mt.applyTo||"baseColor";"color"===zt&&(zt="baseColor");const kt={texture:null,applyTo:zt,blendMode:"over",blendFactor:1};G.push(kt);const Jt=It(s?.baseUrl||"",Nt.startsWith("/")?""+Nt:"/content/states/"+Nt);we.add(Jt),te.push(Ie(Jt).then(kn=>{kt.texture=kn}).catch(kn=>{console.warn("Error loading image",Jt,kn);const Dn=G.indexOf(kt);Dn>=0&&G.splice(Dn,1)}))}yield Promise.all(te)}const Oe=new vr(de);return Oe.on("destroy",()=>{we.forEach(Ie=>s.textureCache.release(T,Ie))}),Oe}),qn.apply(this,arguments)}const Gr=w(7928),Ai=(0,W.create)(),Mi=(0,W.create)();function pi(d,s,m){if(m?(0,W.fromScaling)(Mi,m):(0,W.identity)(Mi),s){const c=s[0],T=s[1],G=s[2];c&&((0,W.fromXRotation)(Ai,c),(0,W.multiply)(Mi,Ai,Mi)),T&&((0,W.fromYRotation)(Ai,T),(0,W.multiply)(Mi,Ai,Mi)),G&&((0,W.fromZRotation)(Ai,G),(0,W.multiply)(Mi,Ai,Mi))}return(0,Gr.fromMat4)(d,Mi)}const di=(0,_.create)(),Zt=Math.PI/180,Tn=(0,_.create)(),Hn=Math.PI/180,hr=2*Math.PI,Dr=(0,_.create)(),qr=Math.PI/180,Bi=Math.PI/180,hi=(0,_.create)(),po=(0,_.create)(),Ro=Math.PI/180,Ji=Math.PI,Yt=2*Ji,un=Math.PI/180;class Xn{constructor(){u(this,"translate",void 0),u(this,"rotate",void 0),u(this,"scale",void 0),u(this,"xform",void 0),u(this,"inverseXform",void 0),u(this,"normalXform",void 0),u(this,"dirty",void 0)}}const Rr={shapeTranslate:"translate",shapeRotate:"rotate",shapeScale:"scale"};function ci(d,s,m,c,T){const G=Rr[s],de=G&&d[G];return"shapeRotate"===s&&(m*=un,c*=un,T*=un),!!de&&(de[0]=m,de[1]=c,de[2]=T,d.dirty=!0,!0)}class $i extends Xn{constructor(s){super(),this.translate=s?.translate?(0,_.clone)(s.translate):null,this.xform=s?.scale||s?.rotate?(0,Gr.create)():null,this.xform?(this.rotate=(0,_.fromValues)(0,0,0),s?.rotate&&(0,_.scale)(this.rotate,s.rotate,un),this.scale=(0,_.fromValues)(1,1,1),s?.scale&&(0,_.copy)(this.scale,s.scale),this.inverseXform=(0,Gr.create)(),this.normalXform=(0,Gr.create)(),this.dirty=!0,this.updateXform()):(this.rotate=null,this.scale=null,this.inverseXform=null,this.normalXform=null,this.dirty=!1)}updateXform(){this.xform&&this.dirty&&(pi(this.xform,this.rotate,this.scale),(0,Gr.invert)(this.inverseXform,this.xform),(0,Gr.transpose)(this.normalXform,this.inverseXform)),this.dirty=!1}}const Ao=Math.PI/180,go=(0,Gr.create)();function ko(d,s){return s[0]*d.normal[0]+s[1]*d.normal[1]+s[2]*d.normal[2]}function Yo(d){const s=d[0],m=d[1],c=d[2];return s*s+m*m+c*c}const Po={Cube:class extends $i{in(d){const s=d[0],m=d[1],c=d[2];return s>=-.5&&s<=.5&&m>=-.5&&m<=.5&&c>=-.5&&c<=.5}out(d){const s=d[0],m=d[1],c=d[2];return s<=-.5||s>=.5||m<=-.5||m>=.5||c<=-.5||c>=.5}surfaceProjection(d,s,m){let c=d[0],T=d[1],G=d[2];const de=Math.abs(c+.5),te=Math.abs(c-.5),we=Math.abs(T+.5),Oe=Math.abs(T-.5),Ie=Math.abs(G+.5),ze=Math.abs(G-.5);de<te&&de<we&&de<Oe&&de<Ie&&de<ze?(c=-.5,(0,_.set)(m,-1,0,0)):te<we&&te<Oe&&te<Ie&&te<ze?(c=.5,(0,_.set)(m,1,0,0)):we<Oe&&we<Ie&&we<ze?(T=-.5,(0,_.set)(m,0,-1,0)):Oe<Ie&&Oe<ze?(T=.5,(0,_.set)(m,0,1,0)):Ie<ze?(G=-.5,(0,_.set)(m,0,0,-1)):(G=.5,(0,_.set)(m,0,0,1)),s[0]=Q(c,-.5,.5),s[1]=Q(T,-.5,.5),s[2]=Q(G,-.5,.5),this.xform&&(this.updateXform(),(0,_.transformMat3)(s,s,this.xform),(0,_.transformMat3)(m,m,this.normalXform),(0,_.normalize)(m,m)),this.translate&&(0,_.add)(s,s,this.translate)}},Cylinder:class extends $i{in(d){const s=d[0],m=d[1],c=d[2];return s*s+c*c<=1&&m>=-1&&m<=1}out(d){const s=d[0],m=d[1],c=d[2];return s*s+c*c>=1||m<=-1||m>=1}surfaceProjection(d,s,m){let c=d[0],T=d[1],G=d[2];if(T<=-1)(0,_.set)(m,0,-1,0),T=-1;else if(T>=1)(0,_.set)(m,0,1,0),T=1;else{const de=Math.sqrt(c*c+G*G);de>=1||1-Math.abs(T)>=1-de?(c/=de,G/=de,(0,_.set)(m,c,0,G)):(T=Math.sign(T),(0,_.set)(m,0,T,0))}s[0]=c,s[1]=T,s[2]=G,this.xform&&(this.updateXform(),(0,_.transformMat3)(s,s,this.xform),(0,_.transformMat3)(m,m,this.normalXform),(0,_.normalize)(m,m)),this.translate&&(0,_.add)(s,s,this.translate)}},Plane:class extends Xn{constructor(s){super(),u(this,"translate",void 0),u(this,"rotate",void 0),u(this,"normal",void 0),u(this,"distance",void 0),u(this,"xform",void 0),u(this,"dirty",!0),this.translate=(0,_.clone)(s.translate||[0,0,0]),this.rotate=(0,_.clone)(s.rotate||[0,0,0]),s.rotate&&(0,_.scale)(this.rotate,s.rotate,Ao),this.normal=(0,_.create)(),this.distance=0,this.updateXform()}updateXform(){this.dirty&&(this.normal[0]=0,this.normal[1]=1,this.normal[2]=0,pi(go,this.rotate),(0,_.transformMat3)(this.normal,this.normal,go),this.distance=(0,_.dot)(this.translate,this.normal),this.dirty=!1)}in(s){return this.updateXform(),ko(this,s)<=this.distance}out(s){return this.updateXform(),ko(this,s)>=this.distance}surfaceProjection(s,m,c){this.updateXform(),c[0]=this.normal[0],c[1]=this.normal[1],c[2]=this.normal[2];const T=De.get();(0,_.scale)(T,c,this.distance-(0,_.dot)(s,c)),(0,_.add)(m,s,T),De.release(T)}},Sphere:class extends $i{in(d){return Yo(d)<=1}out(d){return Yo(d)>=1}surfaceProjection(d,s,m){(0,_.normalize)(s,d),L(m)?m.set(s):(0,_.copy)(m,s),this.xform&&(this.updateXform(),(0,_.transformMat3)(s,s,this.xform),(0,_.transformMat3)(m,m,this.normalXform),(0,_.normalize)(m,m)),this.translate&&(0,_.add)(s,s,this.translate)}}},ss=Po;function as(d,s,m,c){const T=3*c;return d[0]=m[T],d[1]=m[T+1],d[2]=m[T+2],s?.translate&&(d[0]-=s.translate[0],d[1]-=s.translate[1],d[2]-=s.translate[2]),s?.inverseXform&&(s instanceof $i&&s.updateXform(),(0,_.transformMat3)(d,d,s.inverseXform)),d}const Cs=(0,_.create)(),ts=(0,_.create)(),Jo=(0,_.create)(),Us=(0,_.create)(),jn=(0,_.create)(),Zn=(0,_.create)(),Vr=(0,_.create)(),Ti=I/1e3,qi={CubePosition:function(d){const s=d.translate?(0,_.clone)(d.translate):null,m=d.scale||d.rotate?(0,Gr.create)():null,c=m?(0,_.create)():null;d.rotate&&(0,_.scale)(c,d.rotate,Zt);const T={scale:m?(0,_.clone)(d.scale)||(0,_.fromValues)(1,1,1):null,rotate:c,translate:s};let G=!0;return{set(de,te,we,Oe){"rotate"===de?(0,_.set)(c,te*Zt,we*Zt,Oe*Zt):de in T&&(0,_.set)(T[de],te,we,Oe),G=!0},update(de,te,we){const Oe=de.get("position");m&&G&&(pi(m,c,T.scale),G=!1);for(let Ie=te,ze=3*Ie;Ie<we;Ie++,ze+=3)di[0]=Math.random()-.5,di[1]=Math.random()-.5,di[2]=Math.random()-.5,m&&(0,_.transformMat3)(di,di,m),s&&(0,_.add)(di,di,s),Oe.set(di,ze)}}},CylinderPosition:function(d){const s=d.translate?(0,_.clone)(d.translate):null,m=d.scale||d.rotate?(0,Gr.create)():null,c=m?(0,_.create)():null;d.rotate&&(0,_.scale)(c,d.rotate,Hn);const T={scale:m?(0,_.clone)(d.scale)||(0,_.fromValues)(1,1,1):null,rotate:c,translate:s};let G=!0;return{set(de,te,we,Oe){"rotate"===de?(0,_.set)(c,te*Hn,we*Hn,Oe*Hn):de in T&&(0,_.set)(T[de],te,we,Oe),G=!0},update(de,te,we){const Oe=de.get("position");m&&G&&(pi(m,c,T.scale),G=!1);for(let Ie=te,ze=3*Ie;Ie<we;Ie++,ze+=3){const gt=Math.random()*hr,Mt=Math.random(),Nt=2*Math.random()-1;Tn[0]=Mt*Math.cos(gt),Tn[1]=Nt,Tn[2]=Mt*Math.sin(gt),m&&(0,_.transformMat3)(Tn,Tn,m),s&&(0,_.add)(Tn,Tn,s),Oe.set(Tn,ze)}}}},DirectionalVelocity:function(d){const s=(0,_.clone)(d.directionAverage);(0,_.normalize)(s,s);const m={directionAverage:s},c={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0,directionVariance:d.directionVariance||0};return{components:["velocity"],set(T,G,de,te){T in m?(0,_.set)(m[T],G,de,te):T in c&&(c[T]=G)},update(T,G,de){const te=T.get("velocity"),{forceAverage:we,forceVariance:Oe,directionVariance:Ie}=c;for(let ze=G,gt=3*ze;ze<de;ze++,gt+=3){const Mt=we+2*Math.random()*Oe-Oe;Dr[0]=s[0]+2*Math.random()*Ie-Ie,Dr[1]=s[1]+2*Math.random()*Ie-Ie,Dr[2]=s[2]+2*Math.random()*Ie-Ie,(0,_.normalize)(Dr,Dr),te[gt]+=Dr[0]*Mt,te[gt+1]+=Dr[1]*Mt,te[gt+2]+=Dr[2]*Mt}}}},Lifetime:function(d){const s={average:d.average,variance:d.variance||0};return{components:["lifetime","age"],set(m,c){m in s&&(s[m]=c)},update(m,c,T){const G=m.get("age"),de=m.get("lifetime");let{average:te,variance:we}=s;we>te&&(te=we=(te+we)/2);for(let Oe=c;Oe<T;Oe++)G[Oe]=0,de[Oe]=te,we>0&&(de[Oe]+=2*Math.random()*we-we)}}},PointPosition:function(d){const s=(0,_.clone)(d.position),m={position:s};return{set(c,T,G,de){c in m&&(0,_.set)(m[c],T,G,de)},update(c,T,G){const de=c.get("position");for(let te=T,we=3*te;te<G;te++,we+=3)de.set(s,we)}}},RandomRotation:function(d){const s={average:d.average*qr,variance:(d.variance||0)*qr};return{components:["uvRotate"],set(m,c){m in s&&(s[m]=c*qr)},update(m,c,T){const G=m.get("uvRotate"),{average:de,variance:te}=s;for(let we=c;we<T;we++){let Oe=de;te>0&&(Oe+=2*Math.random()*te-te),G[we]=Oe}}}},RandomRotationSpeed:function(d){const s={average:d.average*Bi,variance:(d.variance||0)*Bi};return{components:["rotationSpeed","uvRotate"],set(m,c){m in s&&(s[m]=c*Bi)},update(m,c,T){const G=m.get("rotationSpeed"),{average:de,variance:te}=s;for(let we=c;we<T;we++){let Oe=de;te>0&&(Oe+=2*Math.random()*te-te),G[we]=Oe}}}},RandomScale:function(d){const s={average:d.average,variance:d.variance||0};return{components:["scale"],set(m,c){m in s&&(s[m]=c)},update(m,c,T){const G=m.get("scale");let{average:de,variance:te}=s;te>de&&(de=te=(de+te)/2);for(let we=c;we<T;we++){let Oe=de;te>0&&(Oe+=2*Math.random()*te-te),G[we]=Oe}}}},RandomVelocity:function(d){const s={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0};return{components:["velocity"],set(m,c){m in s&&(s[m]=c)},update(m,c,T){const G=m.get("velocity"),{forceAverage:de,forceVariance:te}=s;for(let we=c,Oe=3*we;we<T;we++,Oe+=3){const Ie=de+2*Math.random()*te-te;hi[0]=2*Math.random()-1,hi[1]=2*Math.random()-1,hi[2]=2*Math.random()-1,(0,_.normalize)(hi,hi),G[Oe]+=hi[0]*Ie,G[Oe+1]+=hi[1]*Ie,G[Oe+2]+=hi[2]*Ie}}}},SpherePosition:function(d){const s=d.translate?(0,_.clone)(d.translate):null,m=d.scale||d.rotate?(0,Gr.create)():null,c=m?(0,_.create)():null;d.rotate&&(0,_.scale)(c,d.rotate,Ro);const T={scale:m?(0,_.clone)(d.scale)||(0,_.fromValues)(1,1,1):null,rotate:c,translate:s};let G=!0;return{set(de,te,we,Oe){"rotate"===de?(0,_.set)(c,te*Ro,we*Ro,Oe*Ro):de in T&&(0,_.set)(T[de],te,we,Oe),G=!0},update(de,te,we){const Oe=de.get("position");m&&G&&(pi(m,c,T.scale),G=!1);for(let Ie=te,ze=3*Ie;Ie<we;Ie++,ze+=3){const gt=Math.random()*Ji,Mt=Math.random()*Yt,Nt=Math.random(),zt=Math.sin(gt);po[0]=Nt*zt*Math.sin(Mt),po[1]=Nt*Math.cos(gt),po[2]=Nt*zt*Math.cos(Mt),m&&(0,_.transformMat3)(po,po,m),s&&(0,_.add)(po,po,s),Oe.set(po,ze)}}}},SpriteAnimationDuration:function(d,s,m){const c={average:d.average,variance:d.variance||0,startFrame:m.spriteStartFrame||0,endFrame:m.spriteEndFrame||Math.max(0,m.spriteCols*m.spriteCols-1)};return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],set(T,G){T in c&&(c[T]=G)},update(T,G,de){const te=T.get("spriteFrameDuration"),we=T.get("spriteCurrentTime"),{startFrame:Oe,endFrame:Ie}=c,ze=Ie-Oe;let{average:gt,variance:Mt}=c;Mt>gt&&(gt=Mt=(gt+Mt)/2);for(let Nt=G;Nt<de;Nt++){let zt=gt;Mt>0&&(zt+=2*Math.random()*Mt-Mt),we[Nt]=0,te[Nt]=ze?Math.max(zt/ze,0):0}}}}},Co={AgeColorBlend:function(d){const s=[];for(let G=0,de=d.colors.length;G<de;G++)s[G]=new Uint8Array(d.colors[G]);const m=d.shape?new ss[d.shape.type](d.shape):null,T=m?m[d.shape?.direction||"in"].bind(m):null;return{components:["position","age","lifetime","color"],set(G,de,te,we){ci(m,G,de,te,we)},update(G,de,te){const we=G.get("position"),Oe=G.get("age"),Ie=G.get("lifetime"),ze=G.get("color"),gt=s.length-1,Mt=m?De.get():null;for(let Nt=de,zt=4*Nt;Nt<te;Nt++,zt+=4)if(!T||T(as(Mt,m,we,Nt))){const kt=Ie[Nt]?Oe[Nt]/Ie[Nt]*gt:0,Jt=Math.floor(kt),Dn=s[Jt],Rn=s[Jt+1]||s[Jt],Mn=kt-Jt,Bn=1-Mn;ze[zt]=Bn*Dn[0]+Mn*Rn[0],ze[zt+1]=Bn*Dn[1]+Mn*Rn[1],ze[zt+2]=Bn*Dn[2]+Mn*Rn[2],ze[zt+3]=Bn*Dn[3]+Mn*Rn[3]}Mt&&De.release(Mt)}}},AxisForce:function(d){const s=d.forceAverage,m=d.forceVariance||0,c=(0,_.clone)(d.position),T=(0,_.clone)(d.direction);(0,_.normalize)(T,T);const G=d.shape?new ss[d.shape.type](d.shape):null,te=G?G[d.shape?.direction||"in"].bind(G):null,we={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0};return{components:["velocity","position"],set(Oe,Ie,ze,gt){"shapeTranslate"===Oe||"shapeRotate"===Oe||"shapeScale"===Oe?ci(G,Oe,Ie,ze,gt):Oe in we&&(we[Oe]=Ie)},update(Oe,Ie,ze,gt){const Mt=Oe.get("position"),Nt=Oe.get("velocity"),zt=s*gt,kt=m*gt,Jt=G?De.get():null,kn=De.get(),Dn=De.get(),Rn=De.get(),Mn=De.get();for(let Bn=Ie,Qn=3*Bn;Bn<ze;Bn++,Qn+=3)if(!te||te(as(Jt,G,Mt,Bn))){const dr=Qn+1,Gn=Qn+2;let Nr=zt;kt>0&&(Nr+=2*Math.random()*kt-kt),kn[0]=Mt[Qn],kn[1]=Mt[dr],kn[2]=Mt[Gn],(0,_.subtract)(Mn,kn,c);const Xr=(0,_.dot)(Mn,T);(0,_.scale)(Rn,T,Xr),(0,_.add)(Dn,Rn,c),(0,_.subtract)(Dn,kn,Dn),(0,_.normalize)(Dn,Dn),Nt[Qn]+=Dn[0]*Nr,Nt[dr]+=Dn[1]*Nr,Nt[Gn]+=Dn[2]*Nr}Jt&&De.release(Jt),De.release(kn),De.release(Dn),De.release(Rn),De.release(Mn)}}},BrownianMotion:function(d){const s=d.shape?new ss[d.shape.type](d.shape):null,c=s?s[d.shape?.direction||"in"].bind(s):null,T={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0,frequency:d.frequency};return{components:["velocity","position"],set(G,de,te,we){"shapeTranslate"===G||"shapeRotate"===G||"shapeScale"===G?ci(s,G,de,te,we):G in T&&(T[G]=de)},update(G,de,te,we){const Oe=G.get("position"),Ie=G.get("velocity"),ze=T.frequency*we,gt=T.forceAverage*we,Mt=T.forceVariance*we,Nt=s?De.get():null,zt=De.get();for(let kt=de,Jt=3*kt;kt<te;kt++,Jt+=3)if((!c||c(as(Nt,s,Oe,kt)))&&Math.random()<ze){let kn=gt;Mt>0&&(kn+=2*Math.random()*Mt-Mt),zt[0]=2*Math.random()-1,zt[1]=2*Math.random()-1,zt[2]=2*Math.random()-1,(0,_.normalize)(zt,zt),Ie[Jt]+=zt[0]*kn,Ie[Jt+1]+=zt[1]*kn,Ie[Jt+2]+=zt[2]*kn}Nt&&De.release(Nt),De.release(zt)}}},Gravity:function(d){const s=(0,_.clone)(d.position),m=d.shape?new ss[d.shape.type](d.shape):null,T=m?m[d.shape?.direction||"in"].bind(m):null,G={position:s},de={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0,radius:d.radius};return{components:["velocity","position"],set(te,we,Oe,Ie){"shapeTranslate"===te||"shapeRotate"===te||"shapeScale"===te?ci(m,te,we,Oe,Ie):te in G?(0,_.set)(G[te],we,Oe,Ie):te in de&&(de[te]=we)},update(te,we,Oe,Ie){const{forceAverage:ze,forceVariance:gt,radius:Mt}=de;if(0===Mt)return;const Nt=te.get("position"),zt=te.get("velocity"),kt=ze*Ie,Jt=gt*Ie,kn=m?De.get():null,Dn=G.position,Rn=De.get();for(let Mn=we,Bn=3*Mn;Mn<Oe;Mn++,Bn+=3)if(!T||T(as(kn,m,Nt,Mn))){let Qn=kt;Jt>0&&(Qn+=2*Math.random()*Jt-Jt);const dr=Bn+1,Gn=Bn+2;Rn[0]=Dn[0]-Nt[Bn],Rn[1]=Dn[1]-Nt[dr],Rn[2]=Dn[2]-Nt[Gn];const Nr=1/Math.max((0,_.length)(Rn),Mt);(0,_.scale)(Rn,Rn,Nr),Qn*=Nr*Nr,zt[Bn]+=Rn[0]*Qn,zt[Bn+1]+=Rn[1]*Qn,zt[Bn+2]+=Rn[2]*Qn}kn&&De.release(kn),De.release(Rn)}}},Friction:function(d){const s=d.shape?new ss[d.shape.type](d.shape):null,c=s?s[d.shape?.direction||"in"].bind(s):null,T={friction:1-d.friction};return{components:["velocity","position"],set(G,de,te,we){"shapeTranslate"===G||"shapeRotate"===G||"shapeScale"===G?ci(s,G,de,te,we):G in T&&(T[G]=1-de)},update(G,de,te,we){const Oe=G.get("position"),Ie=G.get("velocity"),ze=Math.pow(T.friction,we),gt=s?De.get():null;for(let Mt=de,Nt=3*Mt;Mt<te;Mt++,Nt+=3)c&&!c(as(gt,s,Oe,Mt))||(Ie[Nt]*=ze,Ie[Nt+1]*=ze,Ie[Nt+2]*=ze);gt&&De.release(gt)}}},Path:function(d,s){const m=function(de){const te=[];return de.forEach(({position:we,radius:Oe,forceAverage:Ie,forceVariance:ze},gt)=>{const Mt=(0,_.clone)(we),Nt=gt?(0,_.subtract)((0,_.create)(),Mt,te[gt-1].position):null,zt=gt?(0,_.length)(Nt):0,kt={position:Mt,radiusSquared:Oe?Oe*Oe:0,forceVariance:ze||0,forceAverage:Ie,vec:Nt,dir:gt?(0,_.scale)((0,_.create)(),Nt,1/zt):null,length:zt};te.push(kt)}),te}(d.nodes);s.path=m;const c=d.shape?new ss[d.shape.type](d.shape):null,G=c?c[d.shape?.direction||"in"].bind(c):null;return{components:["velocity","position","pathIndex"],set(de,te,we,Oe){ci(c,de,te,we,Oe)},update(de,te,we,Oe){const Ie=de.get("position"),ze=de.get("velocity"),gt=de.get("pathIndex"),Mt=c?De.get():null,Nt=De.get(),zt=De.get(),kt=De.get();for(let Jt=te,kn=3*Jt;Jt<we;Jt++,kn+=3)if(!G||G(as(Mt,c,Ie,Jt))){const Dn=gt[Jt];let Rn=m[Dn];if(Rn){const Mn=kn+1,Bn=kn+2;Nt[0]=Ie[kn],Nt[1]=Ie[Mn],Nt[2]=Ie[Bn];let Qn=null;if(Dn){if((0,_.subtract)(zt,Nt,m[Dn-1].position),(0,_.dot)(zt,Rn.dir)>Rn.length){const Gn=Dn+1;if(gt[Jt]=Gn,Rn=m[Gn],Rn){kt[0]=ze[kn],kt[1]=ze[Mn],kt[2]=ze[Bn];const Nr=(0,_.length)(kt);(0,_.scale)(kt,Rn.dir,Nr),ze.set(kt,kn)}}Rn&&(Qn=Rn.dir)}else{if((0,_.squaredDistance)(Nt,Rn.position)<Rn.radiusSquared){const dr=Dn+1;gt[Jt]=dr,Rn=m[dr]}Rn&&((0,_.subtract)(zt,Rn.position,Nt),Qn=(0,_.normalize)(zt,zt))}if(Rn){const Gn=Rn.forceVariance*Oe;let Nr=Rn.forceAverage*Oe;Gn>0&&(Nr+=2*Math.random()*Gn-Gn),ze[kn]+=Qn[0]*Nr,ze[Mn]+=Qn[1]*Nr,ze[Bn]+=Qn[2]*Nr}}}Mt&&De.release(Mt),De.release(Nt),De.release(zt),De.release(kt)}}},RadialForce:function(d){const s=(0,_.clone)(d.position),m=d.shape?new ss[d.shape.type](d.shape):null,T=m?m[d.shape?.direction||"in"].bind(m):null,G={position:s},de={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0};return{components:["velocity","position"],set(te,we,Oe,Ie){"shapeTranslate"===te||"shapeRotate"===te||"shapeScale"===te?ci(m,te,we,Oe,Ie):te in G?(0,_.set)(G[te],we,Oe,Ie):te in de&&(de[te]=we)},update(te,we,Oe,Ie){const ze=te.get("position"),gt=te.get("velocity"),Mt=de.forceAverage*Ie,Nt=de.forceVariance*Ie,zt=m?De.get():null,kt=De.get();for(let Jt=we,kn=3*Jt;Jt<Oe;Jt++,kn+=3)if(!T||T(as(zt,m,ze,Jt))){let Dn=Mt;Nt>0&&(Dn+=2*Math.random()*Nt-Nt);const Rn=kn+1,Mn=kn+2;kt[0]=ze[kn]-s[0],kt[1]=ze[Rn]-s[1],kt[2]=ze[Mn]-s[2],(0,_.normalize)(kt,kt),gt[kn]+=kt[0]*Dn,gt[Rn]+=kt[1]*Dn,gt[Mn]+=kt[2]*Dn}zt&&De.release(zt),De.release(kt)}}},SpriteAnimation:function(d,s,m){const c=m.spriteRows||0,T=m.spriteCols||1,G=m.spriteStartFrame||0,de=(m.spriteEndFrame||Math.max(0,c*T-1))-G;return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],update(te,we,Oe,Ie){const ze=te.get("uvTranslate"),gt=te.get("spriteFrameDuration"),Mt=te.get("spriteCurrentTime");for(let Nt=we,zt=2*Nt,kt=Nt+1;Nt<Oe;Nt++,zt+=2,kt+=2){Mt[Nt]=(Mt[Nt]+Ie)%(de*gt[Nt]);const kn=Math.floor(Mt[Nt]/gt[Nt]);ze[zt]=kn%T/T;const Rn=Math.floor(kn/T)+1;ze[kt]=-Rn/c}}}},UniformForce:function(d){const s=(0,_.clone)(d.directionAverage),m=d.shape?new ss[d.shape.type](d.shape):null,T=m?m[d.shape?.direction||"in"].bind(m):null,G={directionAverage:s},de={forceAverage:d.forceAverage,forceVariance:d.forceVariance||0,directionVariance:d.directionVariance||0};return{components:["velocity","position"],set(te,we,Oe,Ie){"shapeTranslate"===te||"shapeRotate"===te||"shapeScale"===te?ci(m,te,we,Oe,Ie):te in G?(0,_.set)(G[te],we,Oe,Ie):te in de&&(de[te]=we)},update(te,we,Oe,Ie){const ze=te.get("position"),gt=te.get("velocity"),{forceAverage:Mt,forceVariance:Nt,directionVariance:zt}=de,kt=Mt*Ie,Jt=Nt*Ie,kn=m?De.get():null,Dn=De.get();for(let Rn=we,Mn=3*Rn;Rn<Oe;Rn++,Mn+=3)if(!T||T(as(kn,m,ze,Rn))){let Bn=kt;Jt>0&&(Bn+=2*Math.random()*Jt-Jt),(0,_.copy)(Dn,s),zt&&(Dn[0]+=2*Math.random()*zt-zt,Dn[1]+=2*Math.random()*zt-zt,Dn[2]+=2*Math.random()*zt-zt,(0,_.normalize)(Dn,Dn)),gt[Mn]+=Dn[0]*Bn,gt[Mn+1]+=Dn[1]*Bn,gt[Mn+2]+=Dn[2]*Bn}kn&&De.release(kn),De.release(Dn)}}}},Ni={LifetimeKill:function(){return{components:["lifetime","age","dead"],update(d,s,m){const c=d.get("age"),T=d.get("lifetime"),G=d.get("dead");for(let de=s;de<m;de++)c[de]>=T[de]&&(G[de]=!0)}}},LifetimeStop:function(){return{components:["lifetime","age","stopped"],update(d,s,m){const c=d.get("age"),T=d.get("lifetime"),G=d.get("stopped");for(let de=s;de<m;de++)c[de]>=T[de]&&(G[de]=!0)}}},PathRadius:function(d,s){const{path:m=[]}=s;return{components:["position","pathIndex"],update(c,T,G){const de=c.get("position"),te=c.get("pathIndex");for(let we=T,Oe=3*we;we<G;we++,Oe+=3){const Ie=te[we],ze=Ie>0?m[Ie]:null;if(ze){const gt=Oe+1,Mt=Oe+2;Cs[0]=de[Oe],Cs[1]=de[gt],Cs[2]=de[Mt],(0,_.subtract)(ts,Cs,m[Ie-1].position);const zt=(0,_.dot)(ts,ze.dir);(0,_.scale)(Jo,ze.dir,zt),(0,_.subtract)(Jo,ts,Jo);const kt=(0,_.squaredLength)(Jo);if(kt>ze.radiusSquared){(0,_.normalize)(Jo,Jo);const Jt=(0,_.scale)(Jo,Jo,Math.sqrt(ze.radiusSquared)-Math.sqrt(kt));de[Oe]=Jt[0],de[gt]=Jt[1],de[Mt]=Jt[2]}}}}}},PathKill:function(d,s){const{path:m=[]}=s,c=m.length;return{components:["position","path","pathIndex","dead"],update(T,G,de){const te=T.get("pathIndex"),we=T.get("dead");for(let Oe=G;Oe<de;Oe++)te[Oe]>=c&&(we[Oe]=!0)}}},PathStop:function(d,s){const{path:m=[]}=s,c=m.length;return{components:["position","path","pathIndex","stopped"],update(T,G,de){const te=T.get("pathIndex"),we=T.get("stopped");for(let Oe=G;Oe<de;Oe++)te[Oe]>=c&&(we[Oe]=!0)}}},ShapeBounce:function(d,s){const m=new ss[d.shape.type](d.shape),c=d.shape.direction||"in",T=!!d.trap,G=s.trapId||0;T&&(s.trapId=G+1);const de=1<<G,te=["position","velocity"];T&&te.push("trap");const we=m[c].bind(m);return{components:te,set(Oe,Ie,ze,gt){ci(m,Oe,Ie,ze,gt)},update(Oe,Ie,ze){const gt=Oe.get("position"),Mt=Oe.get("velocity"),Nt=T?Oe.get("trap"):null,zt=De.get();for(let kt=Ie;kt<ze;kt++)if(as(zt,m,gt,kt),we(zt)){if(!T||Nt[kt]&de){const Jt=3*kt;m.surfaceProjection(zt,Us,jn),gt.set(Us,Jt),Zn[0]=Mt[Jt],Zn[1]=Mt[Jt+1],Zn[2]=Mt[Jt+2];const kn=(0,_.length)(Zn);if(kn){Zn[0]/=kn,Zn[1]/=kn,Zn[2]/=kn;const Dn=(0,_.dot)(Zn,jn);(0,_.scale)(Vr,jn,2*Dn),(0,_.subtract)(Vr,Zn,Vr),(0,_.scale)(Vr,Vr,kn)}else Vr[0]=0,Vr[1]=0,Vr[2]=0;Mt.set(Vr,Jt)}}else T&&(Nt[kt]|=de);De.release(zt)}}},ShapeKill:function(d,s){const m=new ss[d.shape.type](d.shape),c=d.shape.direction||"in",T=!!d.trap,G=s.trapId||0;T&&(s.trapId=G+1);const de=1<<G,te=["position","dead"];T&&te.push("trap");const we=m[c].bind(m);return{components:te,set(Oe,Ie,ze,gt){ci(m,Oe,Ie,ze,gt)},update(Oe,Ie,ze){const gt=Oe.get("position"),Mt=Oe.get("dead"),Nt=T?Oe.get("trap"):null,zt=De.get();for(let kt=Ie;kt<ze;kt++)as(zt,m,gt,kt),we(zt)?(!T||Nt[kt]&de)&&(Mt[kt]=!0):T&&(Nt[kt]|=de);De.release(zt)}}},ShapeStop:function(d,s){const m=new ss[d.shape.type](d.shape),c=d.shape.direction||"in",T=!!d.trap,G=s.trapId||0;T&&(s.trapId=G+1);const de=1<<G,te=["position","stopped"];T&&te.push("trap");const we=m[c].bind(m);return{components:te,set(Oe,Ie,ze,gt){ci(m,Oe,Ie,ze,gt)},update(Oe,Ie,ze){const gt=Oe.get("position"),Mt=Oe.get("stopped"),Nt=T?Oe.get("trap"):null,zt=De.get();for(let kt=Ie;kt<ze;kt++)as(zt,m,gt,kt),we(zt)?(!T||Nt[kt]&de)&&(Mt[kt]=!0):T&&(Nt[kt]|=de);De.release(zt)}}}},ji={position:{construct:Float32Array,size:3},velocity:{construct:Float32Array,size:3},color:{construct:Uint8Array,size:4,geometry:!0},scale:{construct:Float32Array,size:1,geometry:!0,init:1},uvRotate:{construct:Float32Array,size:1,geometry:!0},uvTranslate:{construct:Float32Array,size:2,geometry:2,init(d,s,m,c){const{spriteRows:T=0,spriteCols:G=1,spriteStartFrame:de=0}=c,te=de%G/G,we=(T-1-Math.floor(de/G))/T;for(let Oe=2*s,Ie=2*m;Oe<Ie;Oe+=2)d[Oe]=te,d[Oe+1]=we}},dead:{init:!1},stopped:{init:!1}},co=(0,_.create)();class Lo{constructor(s){u(this,"playBackRate",void 0),u(this,"emissionAverage",void 0),u(this,"emissionVariance",void 0),u(this,"bounds",Tt()),u(this,"arrays",void 0),u(this,"particles",void 0),u(this,"active",void 0),u(this,"subSystemIds",void 0),u(this,"update",void 0),u(this,"reset",void 0),u(this,"set",void 0);const{numParticles:m}=s,c=new Float32Array(3*m),T=new Float32Array(3*m),G={position:{data:c,numComponents:3,drawType:35048}},de=new Map([["position",c],["velocity",T]]),te={},we=new Map;function Oe(Rn){return"function"==typeof Rn?Rn:(Rn.components&&Rn.components.forEach(Mn=>{if(!de.has(Mn)){const Bn=ji[Mn],Qn=Bn?.construct||Array,dr=Bn?.size||1,Gn=new Qn(m*dr);de.set(Mn,Gn),Bn?.geometry&&(G[Mn]={data:Gn,drawType:35048,numComponents:dr})}}),Rn.update)}const Ie=[];s.creators.filter(Rn=>!!qi[Rn.type]||(console.error(`Undefined particle system creator: '${Rn.type}'`,Rn),!1)).forEach(Rn=>{const Mn=qi[Rn.type](Rn,te,s),Bn=Oe(Mn);Ie.push(Bn),Rn.id&&("function"!=typeof Mn?we.set(Rn.id,Mn):console.error("Cannot update component",Rn.type))});const ze=[];s.updaters?.filter(Rn=>!!Co[Rn.type]||(console.error(`Undefined particle system updater: '${Rn.type}'`,Rn),!1)).map(Rn=>{const Mn=Co[Rn.type](Rn,te,s),Bn=Oe(Mn);ze.push(Bn),Rn.id&&("function"!=typeof Mn?we.set(Rn.id,Mn):console.error("Cannot update component",Rn.type))});const gt=[];s.constraints?.filter(Rn=>!!Ni[Rn.type]||(console.error(`Undefined particle system constraint: '${Rn.type}'`,Rn),!1)).map(Rn=>{const Mn=Ni[Rn.type](Rn,te,s),Bn=Oe(Mn);gt.push(Bn),Rn.id&&("function"!=typeof Mn?we.set(Rn.id,Mn):console.error("Cannot update component",Rn.type))});const Mt=s.maxSpeed||0,Nt=Mt*Mt;this.playBackRate=1,this.emissionAverage=s.emissionAverage??1,this.emissionVariance=s.emissionVariance||0,this.subSystemIds=new Set(we.keys());let zt=1/0,kt=0,Jt=0;function kn(Rn){const Mn=kt-1;kt--,Rn!==Mn&&de.forEach((Bn,Qn)=>{const dr=ji[Qn];if(dr?.copy)return void dr.copy(Bn,Mn,Rn);const Gn=dr?.size||1;if(1===Gn)Bn[Rn]=Bn[Mn];else for(let Nr=0,Xr=Mn*Gn,ri=Rn*Gn;Nr<Gn;Nr++,Xr++,ri++)Bn[ri]=Bn[Xr]})}function Dn(Rn){const Mn=Jt;Jt++,Rn!==Mn&&de.forEach((Bn,Qn)=>{const dr=ji[Qn];if(dr?.swap)return void dr.swap(Bn,Mn,Rn);const Gn=dr?.size||1;if(1===Gn){const Nr=Bn[Rn];Bn[Rn]=Bn[Mn],Bn[Mn]=Nr}else for(let Nr=0,Xr=Mn*Gn,ri=Rn*Gn;Nr<Gn;Nr++,Xr++,ri++){const Br=Bn[ri];Bn[ri]=Bn[Xr],Bn[Xr]=Br}})}this.update=Rn=>{const Mn=Q(Rn-zt,0,Ti)*this.playBackRate;zt=Rn;let Bn=!1;if(kt<m){const ai=this.emissionVariance*Mn;let ui=Math.max(this.emissionAverage*Mn+2*Math.random()*ai-ai,0);if(ui=ui>=1?Math.floor(ui):Math.random()<ui?1:0,ui>0){const ro=Math.min(kt+ui,m);de.forEach((Zi,No)=>{const wo=ji[No];if("function"==typeof wo?.init)return void wo.init(Zi,kt,ro,s);const os=wo?.size||1,Ri=wo?.init??0;if(L(Zi))Zi.fill(Ri,kt*os,ro*os);else if(Array.isArray(Zi))if(1===os)for(let Ir=kt;Ir<ro;Ir++)Zi[Ir]=Ri;else for(let Ir=kt*os,yi=ro*os;Ir<yi;Ir++)Zi[Ir]=Ri}),Ie.forEach(Zi=>{Zi(de,kt,ro,Mn)}),kt=ro,Bn=!0}}if(kt>Jt){ze.forEach(ro=>{ro(de,Jt,kt,Mn)});for(let ro=Jt,Zi=3*ro,No=Zi+1,wo=Zi+2;ro<kt;ro++,Zi+=3,No+=3,wo+=3){if(co[0]=T[Zi]*Mn,co[1]=T[No]*Mn,co[2]=T[wo]*Mn,Nt>0){const os=co[0]*co[0]+co[1]*co[1]+co[2]*co[2];if(os>Nt){const Ri=Math.sqrt(os);(0,_.scale)(co,co,Mt/Ri),T.set(co,Zi)}}c[Zi]+=co[0],c[No]+=co[1],c[wo]+=co[2]}const Hr=de.get("rotationSpeed");if(Hr){const ro=de.get("uvRotate");for(let Zi=Jt;Zi<kt;Zi++)ro[Zi]+=Hr[Zi]*Mn}const ai=de.get("age"),ui=de.get("lifetime");if(ai&&ui)for(let ro=Jt;ro<kt;ro++)ai[ro]=Math.min(ai[ro]+Mn,ui[ro]);gt.forEach(ro=>{ro(de,Jt,kt,Mn)}),Bn=!0}const Qn=de.get("dead"),dr=de.get("stopped");if(Qn||dr)for(let Hr=kt-1;Hr>=Jt;Hr--)Qn&&Qn[Hr]?(kn(Hr),Bn=!0):dr&&dr[Hr]&&(Dn(Hr),Bn=!0);let Gn=1/0,Nr=1/0,Xr=1/0,ri=-1/0,Br=-1/0,Sr=-1/0;for(let Hr=0,ai=3*Hr,ui=ai+1,ro=ai+2;Hr<kt;Hr++,ai+=3,ui+=3,ro+=3){const Zi=c[ai],No=c[ui],wo=c[ro];Zi<Gn&&(Gn=Zi),No<Nr&&(Nr=No),wo<Xr&&(Xr=wo),Zi>ri&&(ri=Zi),No>Br&&(Br=No),wo>Sr&&(Sr=wo)}return(0,_.set)(this.bounds.min,Gn,Nr,Xr),(0,_.set)(this.bounds.max,ri,Br,Sr),Bn},this.reset=()=>{kt=0,Jt=0},this.set=(Rn,Mn,Bn,Qn,dr)=>{const Gn=we.get(Rn);Gn&&Gn.set&&Gn.set(Mn,Bn,Qn,dr)},Object.defineProperties(this,{arrays:{get:()=>G},particles:{get:()=>kt},active:{get:()=>kt-Jt}})}}var lo=new WeakMap,Qo=new WeakMap;class ta extends We{constructor(s,m){var c;super(null,null),c=this,E(this,lo,!1),E(this,Qo,void 0),u(this,"subSystemIds",void 0),u(this,"update",void 0),u(this,"load",void 0),u(this,"start",void 0),u(this,"pause",void 0),u(this,"reset",void 0),u(this,"set",void 0),u(this,"get",void 0),this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/(s.spriteCols||1),1/(s.spriteRows||1)],f(Qo,this,new ye);const T=new Lo(s),G=this.geometry=new gr(T.arrays,T.bounds);G.name=s.id,G.topology=Ke.points,G.count=T.particles;let de=null;this.load=()=>(de||(de=Un(s,m).then(we=>{this.material=we})),de),this.update=we=>{C(lo,this)||T.update(we)&&(G.count=T.particles,(0,_.copy)(G.bounds.min,T.bounds.min),(0,_.copy)(G.bounds.max,T.bounds.max),G.emit("change",{geometry:G,property:"attributes"}))},this.start=()=>{f(lo,this,!1)},this.pause=()=>{f(lo,this,!0)},this.reset=()=>{T.reset(),this.geometry.count=T.particles},this.set=(we,Oe,Ie,ze,gt)=>{T.set(we,Oe,Ie,ze,gt),void 0===ze&&void 0===gt?C(Qo,this).set(we,Oe,Ie):C(Qo,this).set(we,Oe,[Ie,ze,gt])},this.get=(we,Oe)=>C(Qo,this).get(we,Oe);const te=this.destroy;this.destroy=b(function*(){c.geometry?.destroy(),c.geometry=null,te(),!c.material&&de&&(yield de),c.material?.destroy(),c.material=null}),Object.defineProperties(this,{id:{writable:!1,value:s.id},name:{writable:!1,value:s.name||""},subSystemIds:{writable:!1,value:T.subSystemIds},loaded:{get:()=>!!this.material},playBackRate:{get:()=>T.playBackRate,set:we=>{if(we<=0)throw new Error("Negative or zero playback rate not supported");T.playBackRate=we}},emissionAverage:{get:()=>T.emissionAverage,set(we){T.emissionAverage=we}},emissionVariance:{get:()=>T.emissionVariance,set(we){T.emissionVariance=we}}})}}const Ws={};function cs(d,s){Ws[d]&&console.warn(`Worker '${d}' is already registered`,Ws[d]),Ws[d]=s}function Ns(d){const s=Ws[d];if(!s)throw new Error(`Worker ${d} is not registered.`);return s()}class ns extends fe{constructor(...s){super(...s),u(this,"arrays",{}),u(this,"particles",0),u(this,"bounds",Tt())}}class Ks{constructor(){u(this,"add",void 0),u(this,"remove",void 0),u(this,"start",void 0),u(this,"pause",void 0),u(this,"reset",void 0),u(this,"setPlayBackRate",void 0),u(this,"setEmissionAverage",void 0),u(this,"setEmissionVariance",void 0),u(this,"set",void 0),u(this,"destroy",void 0);let s=null,m=0;const c=new Map;function T(){if(s){if(!c.size)return clearTimeout(m),void(m=setTimeout(T,5e3));s.terminate(),s.onmessage=null,s=null}}function G(te){const{id:we,particles:Oe,arrays:Ie,bounds:ze}=te.data,{emitter:gt}=c.get(we);gt.particles=Oe,(0,_.copy)(gt.bounds.min,ze.min),(0,_.copy)(gt.bounds.max,ze.max);const Mt=[],Nt=[];Object.keys(Ie).forEach(zt=>{const{data:kt,...Jt}=Ie[zt];if(gt.arrays[zt]){if(Oe>0){const kn=Oe*(Jt.numComponents||3),Dn=kt.subarray(0,kn);gt.arrays[zt].data.subarray(0,kn).set(Dn)}}else gt.arrays[zt]={...Jt,data:kt.slice()};Nt.push(kt),Mt.push(kt.buffer)}),gt.emit("update"),s&&s.postMessage({command:"returnArrays",arrays:Nt},Mt)}function de(te){const{command:we,id:Oe}=te.data;if("update"===we)G(te);else if("create"===we){const Ie=c.get(Oe);G(te),Ie.resolved||(Ie.resolved=!0,Ie.resolve(Ie.emitter))}}this.add=te=>{const{id:we}=te;if(c.has(we))return console.warn(`Simulation worker manager: Simulation already exists: '${we}'`),c.get(we).promise;let Oe,Ie;const ze=new Promise((gt,Mt)=>{Oe=gt,Ie=Mt});return(s||(s=Ns("simulation"),s.onmessage=de),s).postMessage({command:"create",id:we,def:te}),c.set(we,{emitter:new ns,resolve:Oe,reject:Ie,promise:ze,resolved:!1}),ze},this.remove=te=>{c.has(te)?(c.delete(te),s&&(s.postMessage({command:"destroy",id:te}),c.size||(clearTimeout(m),m=setTimeout(T,5e3)))):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.start=te=>{c.has(te)?s&&s.postMessage({command:"start",id:te}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.pause=te=>{c.has(te)?s&&s.postMessage({command:"pause",id:te}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.reset=te=>{c.has(te)?s&&s.postMessage({command:"reset",id:te}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.setPlayBackRate=(te,we)=>{c.has(te)?s&&s.postMessage({command:"playBackRate",id:te,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.setEmissionAverage=(te,we)=>{c.has(te)?s&&s.postMessage({command:"emissionAverage",id:te,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.setEmissionVariance=(te,we)=>{c.has(te)?s&&s.postMessage({command:"emissionVariance",id:te,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.set=(te,we,Oe,Ie,ze,gt)=>{c.has(te)?s&&s.postMessage({command:"set",id:te,componentId:we,key:Oe,x:Ie,y:ze,z:gt}):console.warn(`Simulation worker manager: Simulation not found: '${te}'`)},this.destroy=()=>{c.forEach(te=>{te.resolved||te.reject(new Error("Simulation worker manager terminated."))}),c.clear(),T()}}}var Go=new WeakMap;class Aa extends We{constructor(s,m,c){var T;super(null,null),T=this,u(this,"subSystemIds",void 0),E(this,Go,void 0),u(this,"update",void 0),u(this,"load",void 0),u(this,"start",void 0),u(this,"pause",void 0),u(this,"reset",void 0),u(this,"set",void 0),u(this,"get",void 0);const{id:G,name:de}=s;let te=null;this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/s.spriteCols||1,1/s.spriteRows||1],this.subSystemIds=new Set([...s.creators.map(Mt=>Mt.id),...s.updaters?.map(Mt=>Mt.id)||[],...s.constraints?.map(Mt=>Mt.id)||[]].filter(Mt=>"string"==typeof Mt)),f(Go,this,new ye);let we=null;this.load=()=>(we||(we=Promise.all([Un(s,c),m.add(s)]).then(([Mt,Nt])=>{this.material=Mt,te=Nt;const zt=new gr(Nt.arrays,Nt.bounds);zt.name=s.id,zt.topology=Ke.points,zt.count=Nt.particles,te.on("update",()=>{zt.count=Nt.particles,(0,_.copy)(zt.bounds.min,Nt.bounds.min),(0,_.copy)(zt.bounds.max,Nt.bounds.max),zt.emit("change",{geometry:zt,property:"attributes"})}),this.geometry=zt})),we),this.update=()=>{},this.start=()=>m.start(G),this.pause=()=>m.pause(G),this.reset=()=>{m.reset(G),this.geometry&&(this.geometry.count=0)},this.set=(Mt,Nt,zt,kt,Jt)=>{m.set(G,Mt,Nt,zt,kt,Jt),void 0===kt&&void 0===Jt?C(Go,this).set(Mt,Nt,zt):C(Go,this).set(Mt,Nt,[zt,kt,Jt])},this.get=(Mt,Nt)=>C(Go,this).get(Mt,Nt);const Oe=this.destroy;this.destroy=b(function*(){T.pause(),m.remove(G),Oe(),we&&(yield we,T.geometry?.destroy(),T.geometry=null,T.material?.destroy(),T.material=null)});let Ie=this.playBackRate,ze=this.emissionAverage,gt=this.emissionVariance;Object.defineProperties(this,{id:{writable:!1,value:G},name:{writable:!1,value:de||""},loaded:{get:()=>!!this.material},playBackRate:{get:()=>Ie,set:Mt=>{if(Mt<=0)throw new Error("Negative or zero playback rate not supported");Ie=Mt,m.setPlayBackRate(G,Ie)}},emissionAverage:{get:()=>ze,set(Mt){ze=Mt,m.setEmissionAverage(G,ze)}},emissionVariance:{get:()=>gt,set(Mt){gt=Mt,m.setEmissionVariance(G,gt)}}})}}const oa={lights:[{lightId:"light0",params:{mode:"ambient",color:{r:.2,g:.2,b:.2,diffuse:!0}}},{lightId:"light1",params:{mode:"dir",dir:{x:1,y:0,z:-.5},color:{r:.1,g:.1,b:.2},diffuse:!0,specular:!0,space:"view"}},{lightId:"light2",params:{mode:"dir",dir:{x:-1,y:0,z:1},color:{r:.55,g:.5,b:.5},diffuse:!0,specular:!0,space:"view"}},{lightId:"light3",params:{mode:"dir",dir:{x:.25,y:0,z:-1},color:{r:.9,g:.9,b:.9},diffuse:!0,specular:!1,space:"view"}}]},Ko=w(4525);function Fs(d,s,m){return d+m*(s-d)}function Vs(d,s,m,c){const T=1-c;return s+T*T*(d-s)+c*c*(m-s)}const ds=[{name:"left",dim:0,direction:1},{name:"right",dim:0,direction:-1},{name:"bottom",dim:1,direction:1},{name:"top",dim:1,direction:-1},{name:"front",dim:2,direction:1},{name:"back",dim:2,direction:-1}];function Xs({clips:d,boundary:s,enabled:m}){if(!d||!1===m)return[];const{xmin:c=-1/0,xmax:T=1/0,ymin:G=-1/0,ymax:de=1/0,zmin:te=-1/0,zmax:we=1/0}=s||{},Oe=[T,de,we],Ie=[c,G,te],ze=[];return ds.forEach(({name:gt,dim:Mt,direction:Nt})=>{const zt=d[gt];if(!zt?.enabled||!zt?.progress&&!zt?.fadeDistance)return;const kt=(0,Ko.create)();kt[Mt]=Nt;const Jt=(zt.fade&&zt.fadeDistance||0)*ut,Dn=Fs(Ie[Mt],Oe[Mt],Nt>0?zt.progress:1-zt.progress)*ut-Jt*Nt;kt[3]=-Nt*Dn,ze.push({plane:kt,fade:Jt})}),ze.sort((gt,Mt)=>gt.fade-Mt.fade),ze}function Jn(d,s,m){if(!d.length)return 0;const c=Math.max(d.length-1,0);let T=Q(m,0,c);for(;T>0&&d[T].time>s;)T--;let G=T+1;for(;G<=c&&d[G].time<=s;)G++;return T=G-1,T}class rr{constructor(s){u(this,"keyFrames",[]),u(this,"value",{}),u(this,"targetData",void 0),u(this,"keyFrameIndex",0),this.targetData=s}update(s){const{keyFrames:m}=this;if(!m.length)return;this.keyFrameIndex=Q(Jn(m,s,this.keyFrameIndex),0,m.length-1);const{operations:c}=m[this.keyFrameIndex];for(const T in c)if(Object.prototype.hasOwnProperty.call(c,T)){const G=c[T],de=this.value[T];for(const te in G)if(Object.prototype.hasOwnProperty.call(G,te)){const we=G[te](s);de[te]=we}}}}function ur(d,s,m,c){const T=s-d;if("object"!=typeof c){if(!T)return()=>c;const Oe=c,Ie="object"==typeof m?m.value:m;return ze=>{const gt=Q((ze-d)/T,0,1);return Fs(Ie,Oe,gt)}}const G=c.value,de="object"==typeof m?m.value:m,[te,we]=c.controlPoints.y;return Oe=>{const Ie=Q((Oe-d)/T,0,1);return Nt=G,(1-(zt=Ie))*Vs(de,gt=te,Mt=we,zt)+zt*Vs(gt,Mt,Nt,zt);var gt,Mt,Nt,zt}}class Ar extends rr{constructor(s,m){super(s);const{keyFrames:c}=this,{targets:T,keys:G}=s;if(T.length<2)console.warn("Animations require at least two keyframes"+(m?`(${m})`:""));else for(let de=0,te=1;te<T.length;de++,te++){const we=G[de],Oe=G[te],Ie=T[te],ze=T[de],gt=c[de]={time:we,endTime:Oe,operations:{}};for(const Mt in Ie)if(Object.prototype.hasOwnProperty.call(Ie,Mt)){const Nt=Ie[Mt];if(Nt){this.value[Mt]={};const zt=gt.operations[Mt]={},kt=Ie[Mt],Jt=ze[Mt];for(const kn in Nt)Object.prototype.hasOwnProperty.call(Nt,kn)&&(zt[kn]=ur(we,Oe,Jt[kn],kt[kn]))}}}}}const Di={x:0,y:1,z:2},mt=Math.PI/180,mn={translate(d,s,m){const c=Di[s];return d.position[c]!==m&&(d.position[c]=m,!0)},scale(d,s,m){const c=Di[s];return d.scale[c]!==m&&(d.scale[c]=m,!0)},pivot(d,s,m){const c=Di[s];return d.origin[c]!==m&&(d.origin[c]=m,!0)},rotate(d,s,m){const c=Di[s];return d.rotation[c]!==(m*=mt)&&(d.rotation[c]=m,!0)}};class Ut extends Ar{constructor(s,m,c,T){super(s,c),u(this,"sceneNode",void 0);const G=/[.-]/.test(s.objectId)?s.objectId:T+"-"+s.objectId,de=m.story.anatomySceneGraph.anatomyObjects.get(G);this.sceneNode=de?.sceneNode||null}update(s){if(this.sceneNode){super.update(s);for(const m in this.value)if(Object.prototype.hasOwnProperty.call(this.value,m)){const c=this.value[m],T=mn[m],G=this.value[m];for(const de in c)Object.prototype.hasOwnProperty.call(c,de)&&T(this.sceneNode,de,G[de])&&this.sceneNode.dirtyMatrix()}}}}function dn(d,s){d[0]=s.r,d[1]=s.g,d[2]=s.b}const Xe=(d,s)=>{dn(d.baseColor,s),d.emit("change",{material:d,property:"baseColor"})},Rt=(d,s)=>{d.opacity=s.float},qt={baseColor:Xe,opacity:Rt},zn={baseColor:Xe,opacity:Rt,metallic(d,s){d.metallic=s.float},roughness(d,s){d.roughness=s.float},ior(d,s){d.ior=s.float},specularFactor(d,s){d.specularFactor=s.float},emissive(d,s){dn(d.emissive,s),d.emit("change",{material:d,property:"emissive"})},specularColor(d,s){dn(d.specularColor,s),d.emit("change",{material:d,property:"specularColor"})}},fr={alphaColor(d,s){d.opacity=s.float},baseColor:Xe,emitColor(d,s){dn(d.emitColor,s),d.emit("change",{material:d,property:"emitColor"})},specularColor(d,s){dn(d.specularColor,s),d.emit("change",{material:d,property:"specularColor"})}};function mr(d,s,m){for(const c in m)Object.prototype.hasOwnProperty.call(m,c)&&(0,d[c])(s,m[c])}class $r extends Ar{constructor(s,m,c,T){super(s,c),u(this,"materialId",void 0),u(this,"story",void 0),this.materialId=T+"/"+s.targetId,this.story=m.story}update(s){const m=this.story.materials.get(this.materialId);m&&(super.update(s),m instanceof Vi?mr(qt,m,this.value):m instanceof Qi?mr(zn,m,this.value):m instanceof vr&&mr(fr,m,this.value))}}const jr={blend:(d,s)=>d.blendFactor!==s.factor&&(d.blendFactor=s.factor,!0)};class li extends Ar{constructor(s,m,c,T){super(s,c),u(this,"materialId",void 0),u(this,"story",void 0),u(this,"textureLayer",void 0),u(this,"textureMapType",void 0),this.materialId=T+"/"+s.materialId,this.story=m.story,this.textureLayer=s.targetLayer,this.textureMapType=s.textureMapType||""}update(s){const m=this.story.materials.get(this.materialId);if(!m)return;const c=m instanceof vr?m.textures[this.textureLayer]:m[this.textureMapType]?.[this.textureLayer];if(c){super.update(s);for(const T in this.value)Object.prototype.hasOwnProperty.call(this.value,T)&&(0,jr[T])(c,this.value[T])&&m.emit("change",{material:m,property:"textures.blendFactor"})}}}const Wr=d=>(s,m,c,T)=>{const{x:G,y:de,z:te,val:we,rmin:Oe,rmax:Ie}=m;void 0===G||isNaN(we)?s.modifiers.delete(c):s.modifiers.set(c,{applyTo:d,value:we,range:{center:[G,de,te],minRadius:Oe,maxRadius:Ie},parent:T,priority:0})},eo={tnt(d,s,m,c){const{x:T,y:G,z:de,r:te,g:we,b:Oe,rmin:Ie,rmax:ze}=s;void 0===T||isNaN(te)?d.modifiers.delete(m):d.modifiers.set(m,{applyTo:"tintColor",value:[te,we,Oe],range:{center:[T,G,de],minRadius:Ie,maxRadius:ze},parent:c,priority:0})},brt:Wr("brightness"),sat:Wr("saturation"),o:Wr("opacity"),cst:Wr("contrast")};class yo extends Ar{constructor(s,m,c,T){super(s,c),u(this,"id",void 0),u(this,"chapter",void 0),u(this,"objects",void 0),this.id=c,this.objects=[],this.chapter=m;const{anatomyObjects:G}=m.story.anatomySceneGraph;(Array.isArray(s.objectIds)?s.objectIds:[s.objectId||""]).forEach(de=>{const te=/[.-]/.test(de)?de:T+"-"+de,we=G.get(te);we?this.objects.push(we):console.warn("missing tween target object: "+de)})}update(s){if(this.objects.length){super.update(s);for(const m in this.value)if(Object.prototype.hasOwnProperty.call(this.value,m)){const c=eo[m],T=this.value[m],G=m+"-"+this.id;this.objects.forEach(de=>{c(de,T,G,this.chapter.contentNode)})}}}}const Mo={alphaFresnel:!0,transparencyFresnel:!0,reflectionFresnel:!0,opacityFresnel:!0},tt={bias(d,s,m){const c=d[m];let T=!1;return c&&(isNaN(s.center)||c.biasCenter===s.center||(c.biasCenter=s.center,T=!0),isNaN(s.edge)||c.biasEdge===s.edge||(c.biasEdge=s.edge,T=!0),isNaN(s.power)||c.power===s.power||(c.power=s.power,T=!0)),T},center(d,s,m){const c=d[m];if(c)if(m in Mo)c.center=s.r;else if("number"!=typeof s){const T=c.center;T[0]=s.r,T[1]=s.g,T[2]=s.b}},edge(d,s,m){const c=d[m];if(c)if(m in Mo)c.edge="number"==typeof s?s:s.r;else if("number"!=typeof s){const T=c.edge;T[0]=s.r,T[1]=s.g,T[2]=s.b}}};class re extends Ar{constructor(s,m,c,T){super(s,c),u(this,"fresnelType",void 0),u(this,"materialId",void 0),u(this,"story",void 0),this.fresnelType=s.fresnelType,this.materialId=T+"/"+s.materialId,this.story=m.story}update(s){const m=this.story.materials.get(this.materialId);if(m){(c=m)[T=this.fresnelType]||(c[T]=Mo[T]?{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:0,edge:0}:{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:(0,_.create)(),edge:(0,_.create)()},c.emit("change",{material:c})),super.update(s);for(const c in this.value)Object.prototype.hasOwnProperty.call(this.value,c)&&!1!==(0,tt[c])(m,this.value[c],this.fresnelType)&&m.emit("change",{material:m,property:"fresnel"})}var c,T}}class ce extends Ar{constructor(s,m,c){super(s,c),u(this,"story",void 0),u(this,"textureLayer",void 0),this.story=m.story}update(s){const{cameraController:m}=this.story;if(!m)return;super.update(s);const{eye:c,look:T,up:G}=this.value;if(c){const{x:de,y:te,z:we}=c;m.setPosition(de*ut,te*ut,we*ut)}if(T){const{x:de,y:te,z:we}=T;m.setTarget(de*ut,te*ut,we*ut),(0,_.copy)(m.center,m.target)}if(G){const{x:de,y:te,z:we}=G;m.setUp(de,te,we)}}}class Je extends rr{constructor(s,m){super(s);const{keyFrames:c}=this,{targets:T,keys:G}=s;if(T.length<2)console.warn("Animations require at least two keyframes"+(m?`(${m})`:""));else for(let de=0,te=1;te<T.length;de++,te++){const Oe=G[te],Ie=T[de],ze=T[te],gt=c[de]={time:G[de],endTime:Oe,operations:{}},Mt=te+1===T.length;for(const Nt in Ie)if(Object.prototype.hasOwnProperty.call(Ie,Nt)){const zt=Ie[Nt];if(zt){this.value[Nt]={};const kt=gt.operations[Nt]={},Jt=ze[Nt],kn=Ie[Nt];for(const Dn in zt)if(Object.prototype.hasOwnProperty.call(zt,Dn)){const Rn=kn[Dn];if(Mt){const Mn=Jt[Dn];kt[Dn]=Bn=>Bn>=Oe?Mn:Rn}else kt[Dn]=()=>Rn}}}}}}function Le(d,s){s(d);for(let m=0;m<d.children.length;m++)Le(d.children[m],s)}const Wt={shown(d,s,m,c){const{showObjects:T}=c;Le(d,G=>{!1!==T?.[G.objectId]&&m.push([G,s])})},pickable(d,s){Le(d,m=>m.pickable=s)}};class yr extends Je{constructor(s,m,c,T){super(s,c),u(this,"chapterDef",void 0),u(this,"object",void 0);const G=/[.-]/.test(s.objectId)?s.objectId:T+"-"+s.objectId,{anatomyObjects:de}=m.story.anatomySceneGraph;this.chapterDef=m.definition,this.object=de.get(G)||null}update(s,m){if(!this.object||!this.value.attr)return;m&&!m.shownChanges&&(m.shownChanges=[]),super.update(s);const{attr:c}=this.value;for(const T in c)Object.prototype.hasOwnProperty.call(c,T)&&(0,Wt[T])(this.object,c[T],m.shownChanges,this.chapterDef)}}class ti extends Ar{constructor(s,m,c){super(s,c),u(this,"chapter",void 0),u(this,"particleSystemId",void 0);const T=m.id,G=m.story.module.tweenParticleLookup?.[T];this.particleSystemId=G?.[s.particleSystemId]||s.particleSystemId,this.chapter=m}update(s){const m=this.chapter.particleSystems.get(this.particleSystemId);if(m){super.update(s);for(const c in this.value.attr)Object.prototype.hasOwnProperty.call(this.value.attr,c)&&(m[c]=this.value.attr[c])}}}class _o extends Ar{constructor(s,m,c){super(s,c),u(this,"chapter",void 0),u(this,"particleSystemId",void 0),u(this,"subSystemId",void 0);const T=m.id,G=m.story.module.tweenParticleLookup?.[T];this.particleSystemId=G?.[s.particleSystemId]||s.particleSystemId,this.chapter=m,this.subSystemId=s.componentId;const de=this.chapter.particleSystems.get(this.particleSystemId);de&&!de.subSystemIds.has(this.subSystemId)&&console.warn("Unknown particle sub-system",this.particleSystemId,this.subSystemId)}update(s){const m=this.chapter.particleSystems.get(this.particleSystemId);if(m){super.update(s);for(const c in this.value)if(Object.prototype.hasOwnProperty.call(this.value,c))if("attr"===c){const T=this.value.attr;for(const G in T)Object.prototype.hasOwnProperty.call(T,G)&&m.set(this.subSystemId,G,T[G])}else{const T=this.value[c];void 0!==T.x&&m.set(this.subSystemId,c,T.x,T.y,T.z)}}}}const rn={objectXForm:Ut,material:$r,texture:li,objectAttr:yo,fresnel:re,particleSystem:ti,particleComponent:_o,camera:ce},pe={tween:rn,lerp:rn,switch:{objectAttr:yr}},Re={switch:{objectAttr:function(d){const{shownChanges:s}=d;if(s){const m=new Map;for(let c=0;c<s.length;c++){const[T,G]=s[c];G&&m.has(T)||m.set(T,G)}m.forEach((c,T)=>{T.shown=c}),s.length=0}}}};class bt{constructor(s){u(this,"currentTime",void 0),u(this,"root",void 0),u(this,"duration",void 0),u(this,"destroy",void 0);const{story:m,timelineMap:c}=s,{anatomyObjects:T}=s.story.anatomySceneGraph;let G=0,de=0;this.root=m.contentNode;const te={},we={},Oe=new Map,Ie=()=>{G=Array.from(Oe.values()).reduce((Dn,Rn)=>Math.max(Dn,Rn.end),0),de>G&&(de=G)},ze={},gt=new Set;function Mt(Dn){we[Dn.timelineId]?.forEach(Mn=>{Object.entries(Mn.tweens||{}).forEach(([Bn,Qn])=>{const[dr,Gn]=Qn.type.split(":");if(pe[dr]){const Nr=pe[dr][Gn];if(!Nr)throw new Error("Unsupported tween type: "+Gn);const Xr=Re[dr]?.[Gn];Xr&&gt.add(Xr);const ri=new Nr(Qn,s,Bn,Dn.timelineId);Dn.tweens.push(ri)}else console.warn(`"${dr}" animations not implemented yet.`,Qn)})})}function Nt(Dn,Rn){const{start:Mn,end:Bn,data:Qn}=Dn,{start:dr,end:Gn,fit:Nr,onEnd:Xr}=Qn,ri={start:Mn,end:Bn,inPoint:dr,outPoint:Gn,fit:Nr,onEnd:Xr,tweens:[],timelineId:Qn.timeline,morphRenderables:te[Qn.timeline]||null};Oe.set(Rn,ri),Mt(ri)}function zt(){Object.keys(s.tweens).forEach(Dn=>{const Rn=Dn.replace(/\/.*/,"");let Mn=we[Rn];we[Rn]||(Mn=we[Rn]=[]),Mn.push(s.tweens[Dn])}),Oe.forEach(Mt),s.active&&kt()}function kt(){Oe.forEach(Dn=>{const{fit:Rn,onEnd:Mn,start:Bn,end:Qn,inPoint:dr,outPoint:Gn}=Dn;if(de<Bn||de>Qn)return;const Nr=Gn-dr,Xr=Rn?Nr/(Qn-Bn):1;let ri=(de-Bn)*Xr+dr;const Br=Xr>=0?Gn:dr,Sr=Xr>=0?dr:Gn;var Hr,ai;ri>Br&&(ri="loop"===Mn?(ai=Nr,(Hr=ri-Sr)-Math.floor(Hr/ai)*ai+Sr):Br),Dn.tweens.forEach(ui=>ui.update(ri,ze)),gt.forEach(ui=>ui(ze)),Dn.morphRenderables&&Dn.morphRenderables.forEach(ui=>{const{meshNode:ro}=ui;if(!ro)return;const{morphKeys:Zi}=ro.geometry;if(!Zi.length)return console.warn(`Animation clip ${Dn.timelineId} is missing morph data for ${ui.morphId}`),void Dn.morphRenderables.delete(ui);const No=Q(Jn(Zi,ri,ro.morphKeyIndex),0,Zi.length-2),wo=Zi[No].time,Ri=Q((ri-wo)/(Zi[No+1].time-wo),0,1);ro.morphKeyIndex=No,ro.morphFactor=Ri})})}function Jt(){s.tweens&&(s.off("progress",Jt),zt())}function kn(Dn){const Rn=Oe.has(Dn),Mn=c.get(Dn);Mn?Nt(Mn,Dn):Rn&&Oe.delete(Dn),Rn?Ie():G=Math.max(G,Mn.end),kt()}T.forEach(Dn=>{Dn.renderables.forEach(Rn=>{const{morphId:Mn}=Rn;if(Mn){const Bn=Mn.replace(/\/.*$/,"");te[Bn]||(te[Bn]=new Set),te[Bn].add(Rn)}})}),s.tweens?zt():s.on("progress",Jt),s.on("activate",kt),c.on("change",kn),c.forEach(Nt),Ie(),Object.defineProperties(this,{currentTime:{get:()=>de,set(Dn){(Dn=Q(Dn,0,this.duration))!==de&&(de=Dn,s.active&&kt())}},duration:{get:()=>G}}),this.destroy=()=>{c.off("change",kn),s.off("progress",Jt),s.off("activate",kt)},kt()}}function tn(d,s,m){if("string"==typeof s&&(s=s.split(".")),!s.length)return d;const[c,...T]=s;if(!T.length)return d[c]=m,d;let G=d[c];return G||(G=d[c]={}),tn(G,T,m),d}function An(d,s={}){return d&&Object.keys(d).forEach(m=>{tn(s,m,d[m])}),s}const Kn={"annotations.margins":{top:80,left:50,right:50,bottom:50},"annotations.labelWidth":120,"annotations.horizontalLines":!1,"annotations.fadeoutAngle":100,"annotation.layout.labelWidth":100,"annotations.layout.type":"draggable","camera.optics.near":.1,"camera.optics.far":5e3,"camera.optics.fov":55,"camera.zoomLimits":{max:300,min:.01},"fog.color":[1,1,1],"fog.density":.01,"fog.enabled":!1,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.mode":1,"fog.start":0,"timeline.autoPlay.enabled":!1,"timeline.autoPlay.type":"play","timeline.chapterCamerasEnabled":!0,"timeline.prevNextMode":"scrub","ui.mouseWheel.capture":!0,"ui.zoom.mouseWheel.enabled":!0};let ar=function(d){return d.Alpha="alpha",d.ImprovedAlpha="improvedAlpha",d.AddAlpha="addAlpha",d.AlphaToCoverage="alphaToCoverage",d}({}),Zr=function(d){return d[d.LeftClip=0]="LeftClip",d[d.RightClip=1]="RightClip",d[d.BottomClip=2]="BottomClip",d[d.TopClip=3]="TopClip",d[d.FrontClip=4]="FrontClip",d[d.BackClip=5]="BackClip",d}({}),si=function(d){return d[d.Linear=1]="Linear",d[d.Exponential=2]="Exponential",d[d.ExponentialSquared=3]="ExponentialSquared",d}({});class ni extends Qe{constructor(s){const{castShadow:m=!0,type:c="dir",color:T,diffuse:G,specular:de,innerCone:te,outerCone:we,constantAttenuation:Oe,linearAttenuation:Ie,quadraticAttenuation:ze,...gt}=s||{};super(gt),u(this,"castShadow",void 0),u(this,"type",void 0),u(this,"color",void 0),u(this,"diffuse",void 0),u(this,"specular",void 0),u(this,"innerCone",void 0),u(this,"outerCone",void 0),u(this,"constantAttenuation",void 0),u(this,"linearAttenuation",void 0),u(this,"quadraticAttenuation",void 0),u(this,"viewSpace",void 0),this.castShadow=m,this.type=c,this.color=void 0===T?(0,_.fromValues)(1,1,1):(0,_.clone)(T),this.diffuse=G??!0,this.specular=de??!0,this.innerCone=te??.25,this.outerCone=we??0,this.constantAttenuation=Oe??0,this.linearAttenuation=Ie??0,this.quadraticAttenuation=ze??0,this.viewSpace=gt.viewSpace||!1}}class Pr extends Qe{constructor(s){const{castShadow:m=!0,intensity:c,color:T,...G}=s||{};super(G),u(this,"castShadow",void 0),u(this,"type",""),u(this,"intensity",void 0),u(this,"color",void 0),this.castShadow=m,this.intensity=c??1,this.color=void 0===T?(0,_.fromValues)(1,1,1):(0,_.clone)(T)}}class mi extends Pr{constructor(s){super(s),this.type="ambient"}}class Wi extends Pr{constructor(s){super(s),this.type="directional"}}class Pi extends Pr{constructor(s){super(s),this.type="point"}}class xe extends Pr{constructor(s){const{outerConeAngle:m,penumbraAngle:c,...T}=s||{};super(T),u(this,"outerConeAngle",void 0),u(this,"penumbraAngle",void 0),this.type="spot",this.outerConeAngle=m??Math.PI/4,this.penumbraAngle=c??0}}const he={ambient:mi,directional:Wi,point:Pi,spot:xe},qe=Math.PI/180;function Pt(){let d,s;return{promise:new Promise((m,c)=>{d=m,s=c}),resolve:d,reject:s}}function cn(d,...s){return(...m)=>d(...s,...m)}const xn=(0,W.create)(),nr=(0,W.create)();function Yn(d,s,m){d.updateWorldMatrix();const c=De.get();(0,_.add)(c,d.position,d.origin),d.parent&&(0,_.transformMat4)(c,c,d.parent.worldMatrix),(0,W.targetTo)(xn,c,s,m),d.parent&&((0,W.invert)(nr,d.parent.worldMatrix),(0,W.multiply)(xn,nr,xn)),De.release(c),(0,W.getRotation)(d.quaternion,xn),(0,D.normalize)(d.quaternion,d.quaternion),"euler"===d.rotationSource&&ee(d.rotation,xn),d.dirtyMatrix(),d.updateWorldMatrix()}function kr(d,s,m){if(s.parent){const c=De.get();s.updateWorldMatrix(),(0,W.getTranslation)(c,s.worldMatrix),Yn(d,c,m),De.release(c)}else Yn(d,s.position,m)}class wr extends Qe{constructor(s={}){const{up:m,near:c,far:T,...G}=s;super(G),u(this,"up",void 0),u(this,"near",void 0),u(this,"far",void 0),u(this,"projectionMatrix",void 0),u(this,"worldMatrixInverse",void 0),u(this,"projectionDirty",void 0),u(this,"dirtyProjection",void 0),u(this,"updateProjectionMatrix",void 0),this.up=(0,_.create)(),ie(this.up,m||[0,1,0]),this.near=c??.5,this.far=T??100,this.projectionMatrix=(0,W.create)(),this.worldMatrixInverse=(0,W.create)();const de=this.updateWorldMatrix;this.updateWorldMatrix=()=>de(()=>{(0,W.invert)(this.worldMatrixInverse,this.worldMatrix)})}lookAt(s){Yn(this,s,this.up)}}class Lr extends wr{constructor(s={}){const{aspect:m,fov:c,...T}=s;super(T),u(this,"aspect",void 0),u(this,"fov",void 0),this.aspect=m??1,this.fov=c??30*Math.PI/180;let G=!0;this.dirtyProjection=()=>{G=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{G&&(0,W.perspective)(this.projectionMatrix,this.fov,this.aspect,this.near,this.far),G=!1},Object.defineProperties(this,{dirty:{get:()=>G||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>G}})}}function Fr(d,s=d.properties){const{cameraController:m,camera:c}=d.story,{optics:T,zoomLimits:G}=s.camera;c instanceof Lr&&(c.fov=T.fov*Math.PI/180),c.far=T.far*ut,c.near=T.near*ut,c.dirtyProjection(),m.minDistance=G.min*ut,m.maxDistance=G.max*ut}function vi(d,s){return Hi.apply(this,arguments)}function Hi(){return(Hi=b(function*(d,s){yield Promise.all(Array.from(s).map(m=>m.load()))})).apply(this,arguments)}class Fn extends fe{constructor(s,m){super(),u(this,"clear",void 0),u(this,"forEach",void 0),u(this,"has",void 0),u(this,"add",void 0),u(this,"delete",void 0),u(this,"size",void 0),u(this,"entries",void 0),u(this,"keys",void 0),u(this,"values",void 0),u(this,Symbol.iterator,void 0),u(this,Symbol.toStringTag,void 0);const c=new Set,T=!!(m?.clone??1),G=T&&!!(m?.freeze??T);if(this.forEach=(de,te)=>(c.forEach((we,Oe)=>de.call(te,we,Oe,this)),this),this.has=de=>c.has(de),this.entries=()=>c.entries(),this.keys=()=>c.keys(),this.values=()=>c.values(),this[Symbol.iterator]=()=>c[Symbol.iterator](),this[Symbol.toStringTag]=c[Symbol.toStringTag],this.clear=()=>{const de=Array.from(c.keys());c.clear();for(const te of de)this.emit("delete",te);return this},this.delete=de=>!!c.has(de)&&(c.delete(de),this.emit("delete",de),!0),this.add=de=>(c.has(de)||(T&&(de=Ce(de)),G&&me(de),c.add(de),this.emit("add",de)),this),Object.defineProperties(this,{size:{get:()=>c.size}}),s)for(const de of s)this.add(de)}}const lr=new Set(["transform"]),wn=new Map([["shown",{tableProp:"showObjects",defaultValue:!1}],["pickable",{tableProp:"pickThroughObjects",transform:d=>!d,defaultValue:!0}],["occludesMarkers",{tableProp:"labelOccludingObjects",defaultValue:"auto",transform:d=>!0===d?"always":!1===d?"never":"auto"}]]),er=["opacity","saturation","brightness","contrast","tintColor"];function Ur(d,s,m,c,T,G=null){let de=!1;return m?.forEach(te=>{const{objectId:we}=te,Oe={};d.set(we,Oe);const Ie=c?.[we];wn.forEach(({tableProp:ze,transform:gt,defaultValue:Mt},Nt)=>{const zt=s[ze]||T?.[ze],kt=zt&&we in zt?gt?gt(zt[we]):zt[we]:Ie?.[Nt]??lr.has(Nt)?void 0:G?.[Nt];kt!==Mt&&void 0!==kt&&(Oe[Nt]=kt)}),er.forEach(ze=>{const gt=Ie?.[ze]??G?.[ze];(gt||0===gt)&&(Oe[ze]=gt)}),Ur(d,s,te.objects,c,T,Oe)&&(Oe.shown=!0),de=de||!0===Oe.shown}),de}function gi(d,s){const m=new Map;return Ur(m,s,d.sceneGraph,s.synchronization,d),m}function Fi(d,s){const m=[];for(let c=0;c<d;c++)m.push(s(c));return m}class Si extends fe{constructor(s){super(),u(this,"irradianceMode",void 0),u(this,"intensity",void 0),u(this,"quaternion",void 0),u(this,"irradianceCoefficients",void 0),u(this,"specularTexture",void 0),u(this,"irradianceTexture",void 0);let m=s?.intensity??1,c=s?.specularTexture||null,T=s?.irradianceTexture||null,G=s?.irradianceMode||(s.irradianceTexture?"image":"parametric");this.quaternion=(0,D.create)(),s?.quaternion&&(0,Ko.copy)(this.quaternion,s.quaternion),this.irradianceCoefficients=Fi(9,_.create),s?.irradianceCoefficients&&s.irradianceCoefficients.forEach((de,te)=>{(0,_.copy)(this.irradianceCoefficients[te],de)}),Object.defineProperties(this,{intensity:{get:()=>m,set:de=>{de!==m&&(m=de,this.emit("change",{property:"intensity"}))}},irradianceMode:{get:()=>G,set:de=>{de!==G&&(G=de,this.emit("change",{property:"irradianceMode"}))}},specularTexture:{get:()=>c,set:de=>{de!==c&&(c=de,this.emit("change",{property:"specularTexture"}))}},irradianceTexture:{get:()=>T,set:de=>{de!==T&&(T=de,this.emit("change",{property:"irradianceTexture"}))}}})}update(s){this.emit("change",s?{property:s}:{})}}function Xi(d,s){s(d),d.children.forEach(m=>Xi(m,s))}class zo extends fe{constructor(s,m,c,T){var G;super(),G=this,u(this,"id",void 0),u(this,"name",void 0),u(this,"description",void 0),u(this,"index",void 0),u(this,"story",void 0),u(this,"contentNode",void 0),u(this,"environmentNode",void 0),u(this,"properties",void 0),u(this,"background",void 0),u(this,"transparencyMode",void 0),u(this,"fallbackTransparency",void 0),u(this,"ui",void 0),u(this,"clippingPlanes",void 0),u(this,"definition",void 0),u(this,"environment",{}),u(this,"tweens",null),u(this,"particleSystemIds",void 0),u(this,"particleSystems",void 0),u(this,"timelineMap",void 0),u(this,"postProcess",void 0),u(this,"loadProgress",void 0),u(this,"active",void 0),u(this,"animationSystem",void 0),u(this,"physicalImageLight",void 0),u(this,"toneMapping",void 0),u(this,"load",void 0),u(this,"activate",void 0),u(this,"deactivate",void 0),u(this,"reset",void 0),u(this,"start",void 0),u(this,"stop",void 0),u(this,"update",void 0),u(this,"cancelLoading",void 0),this.name=m.displayName||"Chapter"+(T??""),this.description=m.description||"",this.id=m.id||(s.module.moduleId||"chapter")+(T??""),this.index=T??-1,this.definition=m;const de=new Set,te=new Set,we=this.contentNode=new Qe({name:this.name+": content"}),Oe=this.environmentNode=new Qe({name:this.name+": environment"});this.properties=function(Ir,yi={}){return An(Kn,yi),An(Ir,yi),yi}(m.properties),this.clippingPlanes=Xs(m.clippingPlanes||{}),this.background=Ce(m.background||null),this.transparencyMode=m.transparencyMode||ar.Alpha,this.fallbackTransparency=m.fallbackTransparency||ar.Alpha,this.timelineMap=new it(m.timelineMap?.map((Ir,yi)=>[Ir.id||String(yi),Ir])),this.postProcess=Ce(m.customData?.postprocess||[]);const Ie=this.particleSystems=new Map,ze=this.particleSystemIds=new Fn(m.customData?.particleSystems),gt=new Set(m.timelineMap?.map(({data:Ir})=>Ir.timeline));this.ui=Ce(m.ui||{}),this.ui.play||(this.ui.play={}),"count"in this.ui.play||(this.ui.play.count=gt.size>0?s.module.animation?.loop?-1:1:0);let Mt,Nt,zt=!1,kt=!1,Jt=null,kn=!1,Dn=0,Rn=0,Mn=null,Bn=ke,Qn=s.anatomySceneGraph.anatomyObjects.size;function dr(Ir){Nt&&Nt(Ir),Nt=void 0,Mt=void 0,Jt=null}Object.defineProperties(this,{loadProgress:{get:()=>Dn},active:{get:()=>zt},physicalImageLight:{get:()=>Mn},toneMapping:{get:()=>Bn},story:{value:s,writable:!1}});const Gn=()=>{const Ir=te.size,yi=te.size-de.size,fo=Ie.size,ia=Array.from(Ie.values()).filter(zl=>zl.loaded).length,Qs="environment"in m&&Object.keys(m.environment||{}).length||0,Ss=this.environment?Qs:0,Ga=s.module.assetLibraries?.tweens?.length||0,Ra=this.tweens?Ga:0,Ya=Ir+fo+Qs+Ga+("lights"in m&&m.lights?.libraries?.length||1),Dl=Ya?(yi+ia+Ss+Ra+Rn)/Ya:1;Dn!==Dl&&(Dn=Dl,this.emit("progress"))};function Nr(Ir){return Xr.apply(this,arguments)}function Xr(){return Xr=b(function*(Ir){const yi="default"===Ir?oa:yield c.getAssetLibrary("lights",Ir,"outline");if(yi.lights.forEach(fo=>{(function(d){const{displayName:s,lightId:m}=d,c=s||m;if("params"in d){const{params:de}=d,{color:te,dir:we,pos:Oe,mode:Ie,space:ze,...gt}=de,Mt=new ni({name:c,...gt,type:Ie});if(te){const{r:Nt,g:zt,b:kt}=te;(0,_.set)(Mt.color,Nt,zt,kt)}if("dir"===Ie){if(we){const{x:Nt,y:zt,z:kt}=we;(0,_.set)(Mt.position,-Nt,-zt,-kt),Mt.dirtyMatrix()}}else{if(Oe){const{x:Nt,y:zt,z:kt}=Oe;(0,_.set)(Mt.position,Nt,zt,kt),Mt.dirtyMatrix()}if("spot"===Ie&&we){const Nt=[0,0,0],zt=[0,0,0],kt=[0,0,-1],{x:Jt,y:kn,z:Dn}=we;(0,_.set)(zt,Jt,kn,Dn),(0,_.normalize)(zt,zt),(0,_.cross)(Nt,kt,zt),Math.abs((0,_.dot)(Nt,Nt))<$&&(0,_.set)(Nt,0,1,0);const Rn=Math.acos((0,_.dot)(kt,zt));(0,D.setAxisAngle)(Mt.quaternion,Nt,Rn)}}return Mt.viewSpace="view"===ze,Mt}const T=Cn(d.color),G=d.rotation?{x:d.rotation.x*qe,y:d.rotation.y*qe,z:d.rotation.z*qe}:void 0;return new he[d.type]({...d,name:c,color:T,rotation:G})}(fo)).parent=Oe}),"physicalImageLight"in yi&&yi.physicalImageLight){const{imageLightId:fo,intensity:ia,rotation:Qs}=yi.physicalImageLight,Ss=yield c.loadImageLight(fo);if(Ss&&(Mn=new Si({...Ss,intensity:ia}),Qs)){const{x:Ga,y:Ra,z:Ya}=Qs;(0,D.fromEuler)(Mn.quaternion,Ga,Ra,Ya),Mn.update("quaternion")}}Bn="toneMapping"in yi?yi.toneMapping:ke,Rn++,Gn()}),Xr.apply(this,arguments)}const ri=function(){var Ir=b(function*(){if("lightLibraryId"in m)return void(m.lightLibraryId&&(yield Nr(m.lightLibraryId)));const yi=new Set(m.lights?.libraries||[]);!yi.size&&s.module.assetLibraries?.lights&&s.module.assetLibraries?.lights.forEach(fo=>yi.add(fo)),yi.size||yi.add("default"),yield Promise.all([c.loadReflections(m.environment).then(fo=>{G.environment=fo,Gn()}),...Array.from(yi).map(Nr)])});return function(){return Ir.apply(this,arguments)}}(),Br=cn(vi,this,de),Sr=new Map;function Hr(Ir){const yi=ze.has(Ir)&&s.particleSystemDefs.get(Ir),fo=c.createParticleSystem(yi);Sr.has(Ir)||Sr.set(Ir,Qn++),fo.renderOrder=Sr.get(Ir),Ie.set(Ir,fo),kn&&fo.load().then(()=>{fo.parent=we,Gn()}),kt&&fo.start()}function ai(Ir){const yi=Ie.get(Ir);yi&&(yi.destroy(),Ie.delete(Ir)),s.particleSystemDefs.has(Ir)?ze.has(Ir)&&Hr(Ir):ze.delete(Ir),Gn(),Ie.forEach(fo=>fo.reset())}s.particleSystemDefs.on("change",ai),ze.on("add",Ir=>{if(!s.particleSystemDefs.has(Ir))throw new Error(`Unknown particle system '${Ir}'`);ai(Ir)}),ze.on("delete",ai);const ui=gi(s.module,m),ro=Ir=>{const{object:yi}=Ir;yi.loaded&&(yi.off("load",ro),de.delete(yi),Gn())},Zi=Ir=>{const{property:yi,object:fo}=Ir;"shown"!==yi&&"variant"!==yi||(fo.shown?(te.add(fo),fo.loaded||(de.add(fo),fo.on("load",ro),Gn(),kn&&fo.load())):(te.delete(fo),de.delete(fo)))};s.anatomySceneGraph.anatomyObjects.forEach(Ir=>{Ir.on("load",ro),!0===ui.get(Ir.objectId)?.shown&&(de.add(Ir),te.add(Ir))}),s.module.customData?.particleSystems?.forEach(Ir=>{ze.has(Ir.id)&&Hr(Ir.id)});const No=new bt(this);Object.defineProperty(this,"animationSystem",{value:No,writable:!1});const wo=function(){var Ir=b(function*(){try{yield Promise.all([c.loadTweenLibraries().then(yi=>{G.tweens=yi,Gn()}),Br(),Promise.all(Array.from(Ie.values()).map(yi=>yi.load().then(()=>{yi.parent=we,Gn()}))),ri()]),Gn(),Mt()}catch(yi){dr(yi)}});return function(){return Ir.apply(this,arguments)}}(),os=cn(Fr,this);this.load=()=>{if(!Jt){kn=!0;const{promise:Ir,resolve:yi,reject:fo}=Pt();Jt=Ir,Mt=yi,Nt=fo,Rn=0,Oe.children.forEach(ia=>{(ia instanceof ni||ia instanceof Pr)&&Oe.remove(ia)}),wo()}return Jt},this.cancelLoading=()=>{kn&&(kn=!1,dr(new Error("Loading canceled")))},this.reset=()=>{s.anatomySceneGraph.anatomyObjects.forEach(Ir=>Ir.reset(ui.get(Ir.objectId))),this.particleSystems.forEach(Ir=>Ir.reset()),os(),this.animationSystem.currentTime=0},this.activate=()=>{zt||(zt=!0,this.reset(),s.anatomySceneGraph.anatomyObjects.forEach(Ir=>Ir.on("change",Zi)),this.emit("activate"))},this.deactivate=()=>{zt&&(this.stop(),s.anatomySceneGraph.anatomyObjects.forEach(Ir=>Ir.off("change",Zi)),zt=!1,this.emit("deactivate"))},this.start=()=>{kt||(kt=!0,zt&&Ie.forEach(Ir=>Ir.start()))},this.stop=()=>{kt&&(kt=!1,Ie.forEach(Ir=>Ir.pause()))},this.update=Ir=>{Ie.forEach(yi=>yi.update(Ir))};const Ri=this.destroy;this.destroy=()=>{this.deactivate(),this.cancelLoading(),Mn?.destroy(),Mn=null,Xi(Oe,Ir=>{Ir.destroy()}),No.destroy(),we.destroy(),Oe.destroy(),de.clear(),te.clear(),s.anatomySceneGraph.anatomyObjects.forEach(Ir=>Ir.off("change",ro)),s.particleSystemDefs.off("change",ai),this.particleSystems.forEach(Ir=>Ir.destroy()),this.particleSystems.clear(),this.environment=null,this.tweens=null,this.emit("destroy"),Ri()}}}function ki(d){return d}function As(d,s,m=ki){return P((c,...T)=>d.getAsset(s,c).then(G=>G?m(G,c,...T):null))}function bs(d){return d instanceof ArrayBuffer?[d]:[]}function qo(d,s=bs){let m,c=0,T=0,G=0;const de={};function te(){if(clearTimeout(G),m){if(T)return void(G=setTimeout(te,8e3));m.terminate(),m.onmessage=null,m=null}}const we=Oe=>{const Ie=Oe.data;if(!Ie)return;const ze=de[Ie.requestId];ze&&(delete de[Ie.requestId],T--,Ie.error?(console.error("Web Worker error",Ie.error.stack),ze.reject(new Error(Ie.error.message))):ze.resolve(Ie.resource))};return function(Oe){m||(m=d(),m.onmessage=we);const Ie=new Promise((gt,Mt)=>{de[c]={resolve:gt,reject:Mt}}),ze=s(Oe);return m.postMessage({requestId:c,options:Oe},ze),c++,T++,clearTimeout(G),G=setTimeout(te,8e3),Ie}}const js=qo(()=>Ns("geometry"));function et(){return et=b(function*(d,s){const m=yield(G=d,de=s,js({...G,options:de})),c={...m.attributes};var G,de;m.indices&&(c.indices=m.indices);const T=new gr(c,m.boundary);return T.name=d.geometryId,T.topology=m.primitive||Ke.triangles,"morphKeys"in m?T.morphKeys=m.morphKeys:d.morphId&&console.warn("Morph asset not found: "+d.morphId),T}),et.apply(this,arguments)}var ht=new WeakMap;class Vt{constructor(){E(this,ht,new Map)}inc(s){const m=this.get(s)+1;return C(ht,this).set(s,m),m}dec(s){const m=this.get(s)-1;if(m<0)throw new Error("Count is below zero");return m?C(ht,this).set(s,m):C(ht,this).delete(s),m}get(s){return C(ht,this).get(s)||0}delete(s){C(ht,this).delete(s)}}const yn=Math.PI/180;function Wn(d,{x:s=0,y:m=0,z:c=0}){(0,_.set)(d,s,m,c)}function ir(d,s){let m=!1;if(s?.rotate){const{x:c,y:T,z:G}=s.rotate;G&&(m=!0,d.rotation[2]=G*yn),T&&(m=!0,d.rotation[1]=T*yn),c&&(m=!0,d.rotation[0]=c*yn)}s?.scale&&(m=!0,function(c,{x:T=1,y:G=1,z:de=1}){(0,_.set)(c,T,G,de)}(d.scale,s.scale)),s?.translate&&(m=!0,Wn(d.position,s.translate)),s?.pivot&&(m=!0,Wn(d.origin,s.pivot)),s?.constraints?.copyRotation&&d.constraints.push({type:"copyRotation"}),s?.constraints?.copyPosition&&d.constraints.push({type:"copyPosition"}),m&&d.dirtyMatrix()}const Ci=["opacity","saturation","brightness","contrast","tintColor"];function io(){return io=b(function*({materialId:d,geometryId:s,morphId:m,layer:c},T){const{loadMaterial:G,loadObjectGeometry:de,timelineIds:te,materialOptions:we,loadAllMorphs:Oe}=T;if(m&&!Oe){const Ie=m.replace(/\/.*$/,"");te.has(Ie)||(m="")}try{const[Ie,ze]=yield Promise.all([G(d,we),de(s,m||"")]);if(!ze)return console.warn("Geometry asset not found: "+s),null;if(!Ie)return console.warn("Material asset not found: "+d),null;const gt=new Me(ze,Ie);return c&&(gt.layer=c),function(Mt){const Nt=[];return"textures"in Mt.material&&Mt.material.textures.length&&Mt.geometry.topology!==Ke.points&&!Mt.geometry.attributes.texcoord&&Nt.push("Material has textures that cannot be displayed without UV coordinates."),Nt}(gt).forEach(Mt=>console.warn(Mt,gt)),gt}catch(Ie){return console.warn("Error loading renderable",Ie),null}}),io.apply(this,arguments)}function vo(d){return 0!==d[0]||0!==d[1]||0!==d[2]}class Xo extends fe{constructor(s,m){var c;super(),c=this,u(this,"objectId",void 0),u(this,"displayName",void 0),u(this,"layer",void 0),u(this,"renderOrder",0),u(this,"shown",void 0),u(this,"selected",void 0),u(this,"pickable",!0),u(this,"occludesMarkers","auto"),u(this,"transformId",void 0),u(this,"children",void 0),u(this,"parent",null),u(this,"sceneNode",void 0),u(this,"renderables",void 0),u(this,"variants",void 0),u(this,"modifiers",void 0),u(this,"variant",void 0),u(this,"variantCount",void 0),u(this,"loaded",void 0),u(this,"transformLoaded",void 0),u(this,"loadTransform",void 0),u(this,"load",void 0),u(this,"reset",void 0);let T=!1,G=!1,de=!1,te=!1,we=s.layer||0,Oe=null,Ie=new it(void 0,{clone:!1}),ze=0;const gt=[],{loadTransform:Mt,...Nt}=m;if(this.objectId=s.objectId,this.displayName=s.displayName||"",this.transformId=s.transformId||"",this.children=[],this.sceneNode=new Qe({name:this.displayName,rotationSource:"euler"}),this.variants=[],s.variants)s.variants.forEach(Bn=>{this.variants.push(Bn.map(Qn=>({meshNode:null,...Qn})))});else if(this.variants.push(s.renderables?.map(Bn=>({meshNode:null,...Bn}))||[]),s.geometryId){const{geometryId:Bn,materialId:Qn,morphId:dr}=s;this.variants[0].unshift({geometryId:Bn,materialId:Qn,morphId:dr,meshNode:null})}this.variants.forEach((Bn,Qn)=>{gt[Qn]=!1});const zt=(Bn,Qn,dr)=>{const{meshNode:Gn}=Bn;if(Gn){if(!dr||"modifier"===dr){Gn.modifiers.clear();for(const[Xr,ri]of this.modifiers)Gn.modifiers.set(Xr,ri)}if(Gn.layer=Bn.layer??we,Gn.visible=T,Gn.parent=Qn===ze?this.sceneNode:null,(!dr||"selected"===dr||"modifier"===dr)&&Gn.modifiers.has("__HIGHLIGHT:contrast")!==G)if(G){let Xr=1e7;Gn.modifiers.set("__HIGHLIGHT:contrast",{applyTo:"contrast",value:-.5,priority:Xr++}),Gn.modifiers.set("__HIGHLIGHT:brightness",{applyTo:"brightness",value:.15,priority:Xr++}),Gn.modifiers.set("__HIGHLIGHT:saturation",{applyTo:"saturation",value:-1,priority:Xr++}),Gn.modifiers.set("__HIGHLIGHT:tintColor",{applyTo:"tintColor",value:ge,priority:Xr++})}else Gn.modifiers.delete("__HIGHLIGHT:tintColor"),Gn.modifiers.delete("__HIGHLIGHT:saturation"),Gn.modifiers.delete("__HIGHLIGHT:brightness"),Gn.modifiers.delete("__HIGHLIGHT:contrast")}},kt=Bn=>{const Qn="variant"===Bn;this.variants.forEach((dr,Gn)=>{dr.forEach(Nr=>{zt(Nr,Gn,Qn?"":Bn)})})},Jt=P(b(function*(){Oe=yield Mt(c.transformId),ir(c.sceneNode,Oe)}));this.loadTransform=b(function*(){const Bn=[];c.transformId&&Bn.push(Jt()),c.parent&&Bn.push(c.parent.loadTransform()),yield Promise.all(Bn),de=!0,c.variants.forEach((Qn,dr)=>{Qn?.length||(gt[dr]=!0)}),c.emit("loadtransform",{object:c})});const kn=P(function(){var Bn=b(function*(Qn){const dr=c.variants[Qn];if(!dr)throw new Error("Variant index out of range");const Gn=yield Promise.all(dr.map(Nr=>function Li(d,s){return io.apply(this,arguments)}(Nr,Nt)));Gn.forEach((Nr,Xr)=>{Nr&&(Nr.name=Xr||1!==dr.length?c.displayName+" "+Xr:c.displayName,c.sceneNode.add(Nr),dr[Xr].meshNode=Nr,Nr.renderOrder=c.renderOrder+Xr/Gn.length,zt(dr[Xr],Qn))}),gt[Qn]=!0,c.emit("load",{object:c})});return function(Qn){return Bn.apply(this,arguments)}}()),Dn=()=>kn(ze);this.load=b(function*(){te=!0,yield c.loadTransform(),yield Dn()}),this.reset=Bn=>{!function(Nr,Xr){Nr.modifiers||(Nr.modifiers=new it(void 0,{clone:!1}));const{modifiers:ri}=Nr;Ci.forEach(Br=>{const Sr=Xr[Br];if(void 0!==Sr)if("object"==typeof Sr&&!Array.isArray(Sr)&&"priority"in Sr)ri.set(Br,"value"in Sr?{applyTo:Br,priority:Sr.priority,value:"number"==typeof Sr.value?Sr.value:[Sr.value.r,Sr.value.g,Sr.value.b]}:{applyTo:Br,priority:Sr.priority,fresnel:{center:"number"==typeof Sr.center?Sr.center:[Sr.center.r,Sr.center.g,Sr.center.b],edge:"number"==typeof Sr.edge?Sr.edge:[Sr.edge.r,Sr.edge.g,Sr.edge.b],centerBias:Sr.centerBias,edgeBias:Sr.edgeBias,power:Sr.power}});else if(Array.isArray(Sr)&&5===Sr.length){const[Hr,ai,ui,ro,Zi]=Sr;ri.set(Br,{applyTo:Br,fresnel:{center:Hr,edge:ai,centerBias:ui,edgeBias:ro,power:Zi}})}else ri.set(Br,{applyTo:Br,value:Sr});else ri.delete(Br)}),Nr.shown=Xr.shown??!1,Nr.pickable=Xr.pickable??!0,Nr.selected=Xr.selected??!1,Nr.occludesMarkers=Xr.occludesMarkers??"auto"}(this,Bn);const{sceneNode:Qn}=this;var dr,Gn;vo(Qn.position)&&((0,_.zero)(Qn.position),Qn.dirtyMatrix()),(1!==(dr=Qn.scale)[0]||1!==dr[1]||1!==dr[2])&&((0,_.set)(Qn.scale,1,1,1),Qn.dirtyMatrix()),"euler"===Qn.rotationSource?vo(Qn.rotation)&&((0,_.zero)(Qn.rotation),Qn.dirtyMatrix()):(0!==(Gn=Qn.quaternion)[0]||0!==Gn[1]||0!==Gn[2]||1!==Gn[3])&&((0,D.identity)(Qn.quaternion),Qn.dirtyMatrix()),ir(Qn,s),Oe&&ir(Qn,Oe),this.variants.forEach(Nr=>{Nr.forEach(Xr=>{Xr.meshNode&&(Xr.meshNode.morphFactor=0,Xr.meshNode.morphKeyIndex=-1)})})};const Rn=this.destroy;this.destroy=()=>{this.variants.forEach(Bn=>{Bn.forEach(Qn=>Qn?.meshNode?.destroy())}),this.sceneNode.destroy(),this.parent=null,this.emit("destroy",{object:this}),Rn()};const Mn=Bn=>{const Qn=Ie.get(Bn);this.variants[ze].forEach(Qn?Gn=>Gn.meshNode?.modifiers.set(Bn,Qn):Gn=>Gn.meshNode?.modifiers.delete(Bn)),this.emit("change",{object:this,property:"modifier"})};Ie.on("change",Mn),Object.defineProperties(this,{shown:{get:()=>T,set:Bn=>{T!==Bn&&(T=Bn,kt("shown"),this.emit("change",{object:this,property:"shown"}))}},layer:{get:()=>we,set:Bn=>{we!==Bn&&(we=Bn,kt("layer"),this.emit("change",{object:this,property:"layer"}))}},selected:{get:()=>G,set:Bn=>{G!==Bn&&(G=Bn,kt("selected"),this.emit("change",{object:this,property:"selected"}))}},variant:{get:()=>ze,set:Bn=>{ze!==Bn&&(ze=Bn,kt("variant"),te&&Dn(),this.emit("change",{object:this,property:"variant"}))}},variantCount:{writable:!1,value:this.variants.length},renderables:{get:()=>this.variants[ze]},modifiers:{get:()=>Ie,set:Bn=>{Ie!==Bn&&(Ie&&Ie.off("change",Mn),Ie=Bn,Ie&&Ie.on("change",Mn),kt("modifier"))}},loaded:{get:()=>de&&gt[ze]},transformLoaded:{get:()=>de}}),kt(),ir(this.sceneNode,s)}}function gs(d,s,m=null,c=0){for(let T=0;T<d.length;T++){const G=d[T],de=s(G,m,c++);G.objects&&(c=gs(G.objects,s,de,c))}return c}class Ms{constructor(s,m){u(this,"name",void 0),u(this,"anatomyRoots",void 0),u(this,"anatomyObjects",void 0),u(this,"sceneNode",void 0),u(this,"findAnatomyObject",void 0),u(this,"destroy",void 0);const{name:c,...T}=m;this.name=c||"",this.anatomyRoots=[];const G=this.anatomyObjects=new Map,de=new Map,te=this.sceneNode=new Qe({name:this.name||"Anatomy Scene Graph"});gs(s.sceneGraph,(we,Oe,Ie)=>{const{objectId:ze}=we,gt=new Xo(we,T);return G.set(ze,gt),gt.renderOrder=Ie,de.set(gt.sceneNode,gt),gt.parent=Oe,gt.sceneNode.parent=Oe?Oe.sceneNode:te,Oe?Oe?.children.push(gt):this.anatomyRoots.push(gt),void 0===we.layer&&Oe&&(gt.layer=Oe.layer),gt}),this.findAnatomyObject=we=>we instanceof St?this.findAnatomyObject(we.parent):de.get(we)||null,this.destroy=()=>{te.destroy(),G.forEach(we=>we.destroy()),G.clear(),de.clear(),this.anatomyRoots.length=0}}}class ca{constructor(s){u(this,"get",void 0),u(this,"release",void 0),u(this,"destroy",void 0);const{release:m,create:c,key:T,timeout:G=5e3}=s,de=new Map,te=new ye,we=new Map,Oe=new Map,Ie=new Set,ze=new Set;let gt=0;function Mt(){clearTimeout(gt),Ie.forEach(Nt=>{de.delete(Nt.key),Ie.delete(Nt),m&&(T?m(Nt.resource,Nt.key):m(Nt.resource,...we.get(Nt.key)))}),ze.forEach(Nt=>{const zt=we.get(Nt);zt&&(te.delete(...zt),we.delete(Nt))}),ze.clear(),gt=0}this.get=(...Nt)=>{let zt=te.get(...Nt);zt||(zt=Symbol(),te.set(...Nt,zt),we.set(zt,Nt)),ze.delete(zt);const kt=T?T(...Nt):zt;let Jt=de.get(kt);return Jt?(Ie.delete(Jt),gt&&!Ie.size&&(clearTimeout(gt),gt=0)):(Jt={key:kt,clients:new Set,resource:c(...Nt)},de.set(kt,Jt)),Jt.clients.add(zt),Oe.set(zt,Jt),Jt.resource},this.release=(...Nt)=>{const zt=te.get(...Nt);if(!zt)return;const kt=Oe.get(zt);kt&&(kt.clients.delete(zt),Oe.delete(zt),T&&te.delete(...Nt),ze.add(zt),kt.clients.size||(Ie.add(kt),gt||(gt=setTimeout(Mt,G))))},this.destroy=()=>{te.forEach((Nt,...zt)=>{this.release(...zt)}),Mt()}}}class ya extends Ot{constructor(s,m){super(m),u(this,"source",void 0),u(this,"data",void 0),u(this,"levels",void 0),u(this,"format",void 0),u(this,"sizeDynamic",void 0),u(this,"dynamic",void 0),u(this,"valid",void 0),u(this,"update",void 0);const c=new X(s,m);Object.defineProperties(this,{source:{value:c.source,writable:!1},data:{value:c.data,writable:!1},levels:{value:c.levels,writable:!1},format:{value:c.format,writable:!1},width:{get:()=>c.width},height:{get:()=>c.height},sizeDynamic:{get:()=>c.sizeDynamic},dynamic:{get:()=>c.dynamic},valid:{get:()=>c.valid}}),c.on("resize",()=>{this.emit("resize",{texture:this})}),c.on("update",()=>{this.emit("update",{texture:this})}),c.on("destroy",()=>{this.emit("destroy",{texture:this})}),this.update=c.update;const T=this.destroy;this.destroy=()=>{c.destroy(),T()}}}const Ee=qo(()=>Ns("texture")),yt=typeof createImageBitmap<"u",Sn=[{format:"bc1-rgba-unorm",fileExtension:"dds",fileNamePostfix:"-dxt1.dds"},{format:"pvrtc-rgb4unorm",fileExtension:"pvr",fileNamePostfix:"-pvrtc.pvr"},{format:"etc2-rgb8unorm",fileExtension:"pvr",fileNamePostfix:"-etc1.pvr"}];function vn(){return vn=b(function*(d,s){const{textureFormats:m,server:c,...T}=s||{};if(c?.loadImage){const te=yield c.loadImage(d);if(te)return new ya(te,{name:d,...T,rowOrder:"bottom-up"})}const G=d.replace(/(\.jpg|\.jpeg|\.png)$/,""),de=new URL(G,function(){if(document.baseURI)return new URL(document.baseURI);const te=document.getElementsByTagName("base");return new URL(te&&te.length&&te[0].href||document.URL)}()).href;for(let te=0;te<Sn.length&&Pe;te++){const{fileExtension:we,format:Oe,fileNamePostfix:Ie}=Sn[te];if(m?.includes(Oe)){const ze=de+Ie;try{const gt=yield Ee({url:ze,type:we});if(gt){const{levels:Mt,format:Nt}=gt;return"top-down"===T.rowOrder&&console.warn("Compressed textures cannot be flipped"),new ya(Mt,{name:d,...T,rowOrder:"bottom-up",format:Nt})}}catch(gt){console.warn("Failed to load texture",gt)}}}if(yt){const te=yield rt(d);try{const we="bottom-up"===T.rowOrder,Oe=yield te.blob(),Ie=we?void 0:"flipY",ze=yield createImageBitmap(Oe,{imageOrientation:Ie}),gt=new ya(ze,{name:d,...T,rowOrder:we?"bottom-up":"top-down"});return gt.on("destroy",()=>{ze.close()}),gt}catch{}}try{const te=yield Ge(d);return new ya(te,{name:d,rowOrder:T.rowOrder||"bottom-up",...T})}catch(te){console.warn("Failed to load uncompressed texture",te)}return null}),vn.apply(this,arguments)}class cr extends fe{constructor(s){super(),u(this,"get",void 0),u(this,"release",void 0);const{timeout:m,...c}=s,T=new WeakMap,G=new ca({key:(te,we)=>we,create:(te,we)=>{const Oe=function st(d,s){return vn.apply(this,arguments)}(we,c);return Oe.then(Ie=>{T.set(Oe,Ie),Ie&&this.emit("create",{texture:Ie})}),Oe},release:te=>{const we=te?T.get(te):null;we&&(we.destroy(),T.delete(te),this.emit("release",{texture:we}))},timeout:m});this.get=G.get,this.release=G.release;const de=this.destroy;this.destroy=()=>{G.destroy(),de()}}}const bi=[{format:"astc-6x6-hdr",fileNamePostfix:"-astc-6x6-hdr.pvr"},{format:"bc6h-rgb-ufloat",fileNamePostfix:"-bc6h.ktx2"},{format:"rgb9e5ufloat",fileNamePostfix:"-rgb9e5.pvr"},{format:"rgba16float",fileNamePostfix:"-rgbd.pvr"}],ao=function(){var d=b(function*(s,m=(c=>c.replace(/.*\.([\w\d]+)$/,"$1"))(s)||"pvr"){const c=yield Ee({url:s,type:m}),{faces:T,format:G}=c;if(!T||6!==T.length)throw new Error("Cube maps need exactly six faces.");return new oe(T,{name:s,format:G})});return function(m){return d.apply(this,arguments)}}();class ls extends fe{constructor(s){super(),u(this,"get",void 0),u(this,"release",void 0);let m=!1;const{timeout:c,textureFormats:T}=s,G=new WeakMap,de=new ca({create:we=>{const Oe=(Ie=b(function*(ze,gt){const Mt=yield Promise.all(["specular","diffuse-irradiance"].map(function(){var kt=b(function*(Jt){const kn=`/content/states/${ze.replace(/\.hdr$/,"")}-${Jt}`;for(let Dn=0;Dn<bi.length;Dn++){const{format:Rn,fileNamePostfix:Mn}=bi[Dn];try{if(gt.includes(Rn))return yield ao(kn+Mn)}catch(Bn){console.warn("Failed to load environment light image",Bn)}}return null});return function(Jt){return kt.apply(this,arguments)}}())),[Nt,zt]=Mt;return Nt&&zt?{specularTexture:Nt,irradianceTexture:zt}:(console.warn("Missing image-based light component"),null)}),function(ze,gt){return Ie.apply(this,arguments)})(we,T);var Ie;return Oe.then(Ie=>{if(m)throw Ie?.irradianceTexture.destroy(),Ie?.specularTexture.destroy(),new Error("Canceled loading image light textures.");G.set(Oe,Ie),this.emit("create",Ie)}),Oe},release:we=>{const Oe=we?G.get(we):null;Oe&&(Oe.irradianceTexture.destroy(),Oe.specularTexture.destroy(),G.delete(we),this.emit("release",Oe))},timeout:c});this.get=de.get,this.release=de.release;const te=this.destroy;this.destroy=()=>{m=!0,de.destroy(),te()}}}class Rs{constructor(){u(this,"loadReflections",void 0),u(this,"loadObjectGeometry",void 0),u(this,"createParticleSystem",void 0),u(this,"loadTweenLibraries",void 0),u(this,"loadTransform",void 0),u(this,"getAssetLibrary",void 0),u(this,"loadImageLight",void 0)}}class qs extends fe{constructor(s,m,c){let T=!1;super(),u(this,"contentNode",void 0),u(this,"environmentNode",void 0),u(this,"anatomySceneGraph",void 0),u(this,"materials",void 0),u(this,"activeChapter",void 0),u(this,"activeChapterIndex",void 0),u(this,"module",void 0),u(this,"chapters",void 0),u(this,"server",void 0),u(this,"camera",void 0),u(this,"cameraController",void 0),u(this,"particleSystemDefs",void 0),u(this,"variants",void 0),u(this,"playBackRate",void 0),u(this,"activateChapter",void 0),u(this,"createChapter",void 0),u(this,"start",void 0),u(this,"stop",void 0),u(this,"update",void 0),this.server=s,this.contentNode=new Qe({scale:[ut,ut,ut],name:"BioDigitalStory content",rotationSource:"euler"}),this.environmentNode=new Qe({scale:[ut,ut,ut],name:"BioDigitalStory environment",rotationSource:"euler"});const{camera:G,textureFormats:de,baseUrl:te,loadAllMorphs:we,...Oe}=c||{};this.camera=G||new Lr,this.cameraController=new Bt(this.camera),G||this.environmentNode.add(this.camera);let Ie=1,ze=-1,gt=null,Mt=!1,Nt=null;this.module=m;const zt=this.materials=new Map,kt=new cr({server:s,textureFormats:de}),Jt=new ls({textureFormats:de}),kn=As(s,"transform"),Dn=P((Ri,Ir,yi)=>s.getAssetLibrary(c?.baseUrl||"",Ri,Ir,yi)),Rn={baseUrl:te,server:s,textureCache:kt,getAssetLibrary:Dn},Mn=As(s,"material",function(){var Ri=b(function*(Ir,yi){const fo=yield on(Ir,yi,Rn);return zt.set(yi,fo),fo.on("destroy",()=>zt.delete(yi)),fo});return function(Ir,yi){return Ri.apply(this,arguments)}}()),Bn=P(Ri=>At(Dn,te||"",Ri,s)),Qn=P(function(Ri,Ir){const yi=As(Ri,"geometry"),fo=As(Ri,"morph");return function(){var ia=b(function*(Qs,Ss){const Ga=[yi(Qs,Ir).catch(Ya=>(console.error("Error loading geometry "+Qs,Ya),null))];Ss&&Ga.push(fo(Ss,Ir).catch(Ya=>(console.error("Error loading morph "+Ss,Ya),null)));const Ra=yield Promise.all(Ga);return Ra?.[0]?function Te(d,s){return et.apply(this,arguments)}({geometryId:Qs,morphId:Ss,buffers:{geometry:Ra[0],morph:Ra[1]||null}},Ir):null});return function(Qs,Ss){return ia.apply(this,arguments)}}()}(s,Oe));let dr=null;const Gn=new Set;this.particleSystemDefs=new it(m.customData?.particleSystems?.map(Ri=>[Ri.id,Ri]));const Nr=Ri=>{Gn.delete(Ri.node),Ri.node.off("destroy",Nr),!Gn.size&&dr&&(dr.destroy(),dr=null)},Xr=(Ri,Ir)=>{const yi=m.variantSchemas?.[Ri];if(!yi)throw new Error(`Missing variant schema '${Ri}'`);const fo=yi.themes[Ir];if(!fo)throw new Error(`Invalid index for variant schema '${Ri}'`);for(const ia in fo.objectVariants)if(Object.prototype.hasOwnProperty.call(fo.objectVariants,ia)){const Qs=fo.objectVariants[ia],Ss=this.anatomySceneGraph.anatomyObjects.get(ia);Ss&&(Ss.variant=Qs)}};let ri=null;const Br={loadReflections:(Ri=b(function*(Ir){const yi={lightMap:null,reflectionMap:null};return yield Promise.all(["lightMap","reflectionMap"].map(function(){var fo=b(function*(ia){const Qs=Ir?.[ia],Ss=Qs?.[0];if(Ss)try{yi[ia]=yield Bn(Ss)}catch(Ga){console.error("Error loading reflection map: "+ia,Ga)}});return function(ia){return fo.apply(this,arguments)}}())),yi}),function(yi){return Ri.apply(this,arguments)}),loadObjectGeometry:Qn,createParticleSystem:Ri=>{let Ir=null;const yi={...Rn,loadMaterial:Mn};return ve?(dr||(dr=new Ks),Ir=new Aa(Ri,dr,yi)):Ir=new ta(Ri,yi),Gn.add(Ir),Ir.on("destroy",Nr),Ir},loadTweenLibraries:()=>{if(!ri)if(m.assetLibraries?.tweens){const Ri={};ri=Promise.all(m.assetLibraries.tweens.map(Ir=>s.getAssetLibrary(te||"","animations",Ir,"manifest").then(yi=>{Ri[Ir]=yi}).catch(yi=>{console.error("Error loading tween library: "+Ir,yi)}))).then(()=>Ri)}else ri=Promise.resolve({});return ri},loadTransform:kn,getAssetLibrary:Dn,loadImageLight:Ri=>Jt.get(Ri)},Sr=new Set(m.chapters.map(Ri=>Ri.timelineMap?.map(({data:Ir})=>Ir.timeline)).reduce((Ri,Ir)=>Ir?[...Ri,...Ir]:Ri,[]));var Ri;this.anatomySceneGraph=new Ms(m,{loadTransform:Br.loadTransform,loadObjectGeometry:Br.loadObjectGeometry,loadMaterial:Mn,timelineIds:Sr,loadAllMorphs:we,materialOptions:Rn}),this.variants=new it(Object.entries(m.variantSchemas||{}).map(([Ri,Ir])=>[Ri,Ir.defaultSelection||0])),this.variants.on("change",Ri=>{Xr(Ri,this.variants.get(Ri)??0)}),this.variants.forEach((Ri,Ir)=>{Xr(Ir,Ri)});const Hr=[],ai=new Set,ui=Ri=>{Ri.deactivate(),this.contentNode.remove(Ri.contentNode),this.environmentNode.remove(Ri.environmentNode)},ro=new Vt,Zi=Ri=>{ro.dec(Ri)||(gt===Ri&&(this.anatomySceneGraph.sceneNode.parent=null,ui(Ri),gt=null,ze=-1),Ri.index=-1)},No=new be(Hr,{deleteProperty:(Ri,Ir)=>(Zi(Ri[Ir]),Ri[Ir]=void 0,!0),set:(Ri,Ir,yi)=>{if(yi===Ri[Ir])return!0;if(!yi||Ir>Ri.length)throw new Error("Missing elements in chapters array is not allowed");if(!ai.has(yi))throw new Error("Attempt to insert invalid chapter into array");const fo=Ri[Ir];return Ri[Ir]=yi,yi.index=Ir,ro.inc(yi),fo&&Zi(fo),gt===yi&&(ze=Ir),!0}}),wo=Ri=>{const Ir=Hr[Ri];if(Ir===gt)return ze=Ri,void(gt=Ir);const yi=ze>=0&&Hr[ze]||null;yi&&(ui(yi),this.contentNode.remove(yi.contentNode),this.environmentNode.remove(yi.environmentNode)),Ir?(this.contentNode.add(this.anatomySceneGraph.sceneNode),this.contentNode.add(Ir.contentNode),this.environmentNode.add(Ir.environmentNode),ze=Ri,gt=Ir,Ir.activate(),Mt&&Ir.start()):(this.contentNode.remove(this.anatomySceneGraph.sceneNode),ze=-1,gt=null),yi!==Ir&&this.emit("changechapter",ze)};this.activateChapter=function(){var Ri=b(function*(Ir){if(!(Ir>=0)||Ir>=Hr.length)throw new Error(`BioDigitalStory: chapter index ${Ir} not found.`);const yi=Hr[Ir];return Nt=yi,yield yi.load(),T||Nt!==yi||wo(yi.index),yi});return function(Ir){return Ri.apply(this,arguments)}}(),this.createChapter=(Ri,Ir=Hr.length)=>{if(Ir>Hr.length)throw new Error("Missing elements in chapters array is not allowed.");const yi=new zo(this,Ri,Br,Ir);return yi.on("destroy",()=>{const fo=Hr.indexOf(yi);fo>=0&&this.chapters.splice(fo,1),ai.delete(yi)}),ai.add(yi),this.chapters.splice(Ir,0,yi),Ir},this.start=()=>{Mt||(Mt=!0,gt?.start())},this.stop=()=>{Mt&&(Mt=!1,gt?.stop())},this.update=Ri=>{gt?.update(Ri)};const os=this.destroy;this.destroy=()=>{T||(this.stop(),T=!0,ze=-1,Hr.length=0,ai.forEach(Ri=>Ri.destroy()),Gn.forEach(Ri=>Ri.destroy()),Gn.clear(),this.particleSystemDefs.destroy(),this.variants.destroy(),dr&&(dr.destroy(),dr=null),this.anatomySceneGraph.destroy(),G||this.camera.destroy(),zt.forEach(Ri=>Ri.destroy()),zt.clear(),kt.destroy(),Jt.destroy(),this.emit("destroy"),os())},Object.defineProperties(this,{chapters:{writable:!1,value:No},playBackRate:{get:()=>Ie,set:Ri=>{if(Ri<=0)throw new Error("Negative or zero playback rate not supported");Ie=Ri,Gn.forEach(Ir=>Ir.playBackRate=Ie)}},activeChapterIndex:{get:()=>ze},activeChapter:{get:()=>gt}}),m.chapters.forEach((Ri,Ir)=>{this.createChapter(Ri,Ir)})}}class us extends fe{constructor(s=null){super(),u(this,"root",void 0),u(this,"has",void 0),u(this,"size",void 0);const m=new Set,{emit:c}=this;function T(Oe){Oe.parent&&m.has(Oe.parent)||te(Oe.node)}function G(Oe){de(Oe.child)}function de(Oe){Oe&&!m.has(Oe)&&(Oe.on("parent",T),Oe.on("add",G),m.add(Oe),Oe.children.forEach(de),c("add",Oe))}function te(Oe){Oe&&m.has(Oe)&&!m.has(Oe.parent)&&(Oe.off("parent",T),Oe.off("add",G),m.delete(Oe),Oe.children.forEach(te),c("remove",Oe))}Object.defineProperties(this,{root:{get:()=>s,set:Oe=>{Oe!==s&&(te(s),de(s=Oe))}},size:{get:()=>m.size}}),this.has=Oe=>m.has(Oe);const we=this.destroy;this.destroy=()=>{this.root=null,we()},de(s)}}class fa{constructor(s={}){u(this,"dirty",void 0),u(this,"sortDirty",void 0),u(this,"filterDirty",void 0),u(this,"size",void 0),u(this,"filteredSize",void 0),u(this,"queued",void 0),u(this,"has",void 0),u(this,"add",void 0),u(this,"delete",void 0),u(this,"update",void 0),u(this,"dirtySort",void 0),u(this,"dirtyFilter",void 0),u(this,"clear",void 0),u(this,Symbol.iterator,void 0);const{sort:m,sortCallback:c,filter:T,autoUpdate:G=!0}=s,de=new Set,te=new Set,we=[];let Oe=!1,Ie=!1;this.has=ze=>de.has(ze),this.queued=ze=>(G&&this.update(),te.has(ze)),this.add=ze=>{de.has(ze)||(de.add(ze),T&&!T(ze)||(we.push(ze),te.add(ze),Oe=!0))},this.delete=ze=>{de.has(ze)&&(de.delete(ze),te.delete(ze))},this.update=(...ze)=>{if(T&&Ie)for(const gt of de)T(gt,...ze)?te.has(gt)||(we.push(gt),te.add(gt),Oe=!0):te.delete(gt);for(let gt=we.length-1;gt>=0&&we.length>te.size;gt--){const Mt=we[gt];de.has(Mt)&&te.has(Mt)||we.splice(gt,1)}Ie=!1,Oe&&(m?m(we,...ze):c&&we.sort(c),Oe=!1)},this[Symbol.iterator]=()=>(G&&this.update(),we[Symbol.iterator]()),this.dirtySort=()=>{Oe=!0},this.dirtyFilter=()=>{Ie=!0},this.clear=()=>{de.clear(),te.clear(),we.length=0,Oe=!1,Ie=!1},Object.defineProperties(this,{dirty:{get:()=>Oe||Ie},sortDirty:{get:()=>Oe},filterDirty:{get:()=>Ie},size:{get:()=>de.size},filteredSize:{get:()=>(G&&this.update(),te.size)}})}}function hs(d,s){if(!d)return 0;const m=d?.attributes?.position?.data?.length||0,{indices:c}=d;if(c&&(!1!==s||d.count!==c.length)){const T=new Set;for(let G=d.offset,de=d.offset+d.count;G<de;G++)T.add(c[G]);return T.size}return Math.min(m/3,d.count)}const fs=w(559),Fo=6408,Do=5120,xs=5121,pa=5122,Ys=5123,sa=5124,Sa=5125,_s=5126,ra=36249,ba=33319,Bo=33320,Xl=36244,Rc={bool:35670,int:sa,uint:Sa,float:_s,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676},Jl=d=>Array.isArray(d)?d:[d],_d=/^\s*uniform(?:\s+(lowp|mediump|highp))?\s+([\w_][\w\d_]+)\s+([\w_][\w\d_]+)(?:\[((?:0x)?\d)+u?\])?;$/i;let es=function(d){return d.vert="vert",d.frag="frag",d}({});function bc(d,s,m){const{joinShader:c,...T}=m||{},G={vert:new Map,frag:new Map},de={vert:{extensions:[],declare:[],main:[]},frag:{extensions:[],declare:[],main:[]}},te={},we={vert:Ie(es.vert),frag:Ie(es.frag)};function Oe(Mt,Nt,zt){const kt=isNaN(zt)?Nt:`${Nt}[${zt}]`;if(G[Mt].has(kt))return G[Mt].get(kt)||"key";let Jt=d[Nt];if(!Jt)throw new Error(`Unknown reference: '${Nt}'`);"function"==typeof Jt&&(Jt=Jt(Mt,zt,T,we[Mt])||{}),"string"==typeof Jt&&(Jt={declare:[Jt]});const kn=Jt.symbol||kt;return G[Mt].set(kt,kn),Jt.requires&&Jl(Jt.requires).forEach(Dn=>{Dn!==Nt&&Oe(Mt,Dn)}),Jt.extensions&&Jl(Jt.extensions).forEach(Dn=>de[Mt].extensions.push(Dn)),Jt.declare&&Jl(Jt.declare).forEach(Dn=>{"string"==typeof Dn&&(Dn={define:Dn});const{define:Rn,type:Mn,...Bn}=Dn,Qn=Rn&&_d.exec(Rn),dr=Dn.uniform||Qn&&Qn[3];if(dr){const Gn=void 0!==Dn.count?Dn.count:Qn&&Qn[4]?parseInt(Qn[4]):1,Nr=Mn||Qn&&Qn[2];te[dr]={name:dr,...Bn,count:Gn,typeName:Nr},"string"==typeof Nr&&Rc[Nr]&&(te[dr].type=Rc[Nr])}Rn&&de[Mt].declare.push(Rn)}),Jt.main&&Jl(Jt.main).forEach(Dn=>de[Mt].main.push(Dn)),kn}function Ie(Mt){return(Nt,zt,kt)=>Oe(kt||Mt,Nt,zt)}const ze=s(es.vert,we.vert,T),gt=s(es.frag,we.frag,T);return Jl(ze).forEach(Mt=>de.vert.main.push(Mt)),Jl(gt).forEach(Mt=>de.frag.main.push(Mt)),{vert:c(de.vert),frag:c(de.frag),uniforms:te}}const Jc={webGlVersion:2,precision:"highp",textureLODext:!1};function Ja(d,s,m){return(c,T,G)=>({declare:`${G?.webGlVersion>=2?void 0!==m?`layout(location = ${m}) in`:"in":"attribute"} ${d} ${s};`,symbol:s})}function vd(d){return d.replace(/^(\w)/,s=>"v"+s.toUpperCase())}function Pu(d,s,m,c,T){const G=c?.webGlVersion>=2?d===es.frag?"in":"out":"varying";return void 0===T&&/^((u?int)|ivec[2-4])$/.test(s)&&(T="flat"),T&&(T+=" "),`${T||""}${G} ${s} ${m};`}function ue(d,s,m=vd(s),c){return function(T,G,de,te){const we=isNaN(G)?m:m+G;return T===es.frag?{declare:[Pu(T,d,we,de,c)],symbol:te(m,G,es.vert)}:{declare:[Pu(T,d,we,de,c)],main:[`${we} = ${te(s,G)};`]}}}const Ne={uint:"x",int:"x",float:"r",vec2:"rg",vec3:"rgb",vec4:"rgba"},at={};function Be(d){const s=`sampleBatchMatrix${d}`,m="vec"+d,c=Ne[m];return{[s]:`mat${d} ${s}(sampler2D sampler, uint index, uint offset) {\n\t\t\t\t${Fi(d,T=>`\n\t\t\t\t\tivec2 coord${T} = ivec2(offset + ${T}u, index);\n\t\t\t\t\t${m} row${T} = texelFetch(sampler, coord${T}, 0).${c};\n\t\t\t\t`).join("\n")}\n\t\t\t\treturn mat${d}(${Fi(d,T=>"row"+T).join(", ")});\n\t\t\t}`}}function lt(d,s,m=!0,c=s,T){const G=/^mat([2-4])$/.exec(d),de=/\[\d+\]$/.test(s),te=G&&parseInt(G[1],10),we=m?"MaterialSampler":"ModelSampler",Oe=G?`vec${te}${we}`:d+we,Ie=c+"SamplerOffset",ze=s.replace(/\[\d+\]$/,"");return T||(T=vd(ze)),{[T]:ue(d,ze,T),[Ie]:{declare:{define:`uniform uint ${Ie};`,samplerOffsetTarget:c}},[c]:(gt,Mt,Nt,zt)=>{const kt=isNaN(Mt)||de?ze:ze+Mt,Jt=de?s:kt;if(Nt?.multiDraw&&(!m||Nt?.multiMaterial)){if(G){if(gt===es.frag)return{symbol:zt(T,Mt)};const Dn=zt(m?"materialId":"gl_DrawID");return{declare:{uniform:Jt,type:d,multiDraw:m?"material":"model"},main:`${d} ${kt} = ${zt(`sampleBatchMatrix${te}`)}(${zt(Oe)}, ${Dn}, ${zt(Ie)});`}}const kn=zt(m?"materialSampleOffset":"modelSampleOffset");return{declare:{uniform:Jt,type:d,multiDraw:m?"material":"model"},symbol:`texelFetch(${zt(Oe)}, ivec2(${zt(Ie)}, ${kn}), 0).${Ne[d]}`}}return{declare:`uniform ${d} ${Jt};`,symbol:kt}}}}Object.keys(Ne).forEach(d=>{const s=d+"ModelSampler";at[s]=`uniform sampler2D ${s};`;const m=d+"MaterialSampler";at[m]=`uniform sampler2D ${m};`});const pn={vDrawId:ue("uint","gl_DrawID","vDrawId","flat"),gl_DrawID:(d,s,m,c)=>m?.multiDraw?d===es.frag?{symbol:c("vDrawId")}:{extensions:"#extension GL_ANGLE_multi_draw : require",symbol:"uint(gl_DrawID)"}:{symbol:"0"},vMaterialId:ue("uint","materialId","vMaterialId","flat"),materialId:(d,s,m,c)=>m?.multiDraw?d===es.frag?{symbol:c("vMaterialId")}:{declare:"uniform mediump usampler2D materialId;",symbol:`texelFetch(materialId, ivec2(0, ${c("modelSampleOffset")}), 0).x`}:{symbol:"0"},vModelSampleOffset:ue("uint","modelSampleOffset"),modelSampleOffset:(d,s,m,c)=>d===es.frag?{symbol:c("vModelSampleOffset")}:{main:[`uint modelSampleOffset = ${c("gl_DrawID")};`]},vMaterialSampleOffset:ue("uint","materialSampleOffset"),materialSampleOffset:(d,s,m,c)=>d===es.frag?{symbol:c("vMaterialSampleOffset")}:{symbol:c("materialId")},...at,...Be(2),...Be(3),...Be(4)};let In=function(d){return d.add="add",d.multiply="multiply",d}({});const Kr={baseColorFresnel:!1,baseColorFresnelBlendMode:In.multiply,opacityFresnel:!1,opacityFresnelBlendMode:In.multiply};function to(d,s="vec3",m=d+("float"===s?"Value":"Color"),c=("float"===s?"":"rgb")){const T=c?"."+c:"";return function(G,de,te,we){const Oe="add"===te[d+"BlendMode"]?"+":"*";return`${s} ${m}(${s} value, vec3 eyeDir, vec3 viewNormal) {\n\t\t\tfloat amount = ${we("fresnel")}(eyeDir, viewNormal, ${we(d+"BiasEdge")}, ${we(d+"BiasCenter")}, ${we(d+"Power")});\n\t\t\treturn ${"float"===s?"value":`value${T}`} ${Oe} mix(${we(d+"Edge")}${T}, ${we(d+"Center")}${T}, amount);\n\t\t}`}}function xi(d,s,m=d+("float"===s?"Value":"Color"),c){return{[m]:to(d,s,m,c),...lt(s||"vec3",d+"Center"),...lt(s||"vec3",d+"Edge"),...lt("float",d+"BiasCenter"),...lt("float",d+"BiasEdge"),...lt("float",d+"Power")}}const jo={...xi("baseColorFresnel"),...xi("opacityFresnel","float"),fresnel:"float fresnel(vec3 eyeDir, vec3 normal, float edgeBias, float centerBias, float power) {\n\t\tfloat fr = abs(dot(eyeDir, normal));\n\t\tfloat finalFr = clamp((fr - edgeBias) / (centerBias - edgeBias), 0.0, 1.0);\n\t\treturn pow(finalFr, power);\n\t}"},Ls={modifiers:[]},Ds={...jo,...lt("vec3","modifierCenter",!1),...lt("vec2","modifierRadius",!1),...lt("vec3","modifierColorValue",!1),...lt("float","modifierValue",!1),...lt("vec3","modifierFresnelCenter",!1),...lt("vec3","modifierFresnelEdge",!1),...lt("float","modifierFresnelBiasCenter",!1),...lt("float","modifierFresnelBiasEdge",!1),...lt("float","modifierFresnelPower",!1),modifierFactor:(d,s,m,c)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${c("worldPosition")} - ${c("modifierCenter",s)}) - ${c("modifierRadius",s)}.x) /\n\t\t\t\t${c("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},ga={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function Na(d,s){const m=(d.priority||0)-(s.priority||0);if(m)return m;const c=(ga[d.applyTo]||1/0)-(ga[s.applyTo]||1/0);if(c)return c;const T="range"in d,G="range"in s;return T!==G?Number(T)-Number(G):+("fresnel"in d)-+("fresnel"in s)}const _a=d=>(s,m,c)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${c("fresnel")}(${c("surfaceToView")}, ${c("viewNormal")}, ${c("modifierFresnelBiasEdge",m)}, ${c("modifierFresnelBiasCenter",m)}, ${c("modifierFresnelPower",m)});\n\t\t\t\tfloat value = mix(${c("modifierFresnelEdge",m)}.r, ${c("modifierFresnelCenter",m)}.r, fresnelAmount);\n\t\t\t`:`float value = ${c("modifierValue",m)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${c("modifierFactor",m)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${d}\n\t\t}`,xa={tintColor:(d,s,m)=>`{\n\t\t\t${d.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${m("fresnel")}(${m("surfaceToView")}, ${m("viewNormal")}, ${m("modifierFresnelBiasEdge",s)}, ${m("modifierFresnelBiasCenter",s)}, ${m("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${m("modifierFresnelEdge",s)}.rgb, ${m("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${m("modifierColorValue",s)};`}\n\t\t\t${d.range?`\n\t\t\t\tfloat modifierFactor = ${m("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(d,s,m)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${d.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${m("fresnel")}(${m("surfaceToView")}, ${m("viewNormal")}, ${m("modifierFresnelBiasEdge",s)}, ${m("modifierFresnelBiasCenter",s)}, ${m("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${m("modifierFresnelEdge",s)}.r, ${m("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${m("modifierValue",s)};`}\n\t\t\t${d.range?`\n\t\t\t\tfloat modifierFactor = ${m("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:_a("fragColor.a *= value;"),contrast:_a("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(d,s,m)=>`{\n\t\t\t${d.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${m("fresnel")}(${m("surfaceToView")}, ${m("viewNormal")}, ${m("modifierFresnelBiasEdge",s)}, ${m("modifierFresnelBiasCenter",s)}, ${m("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${m("modifierFresnelEdge",s)}.r, ${m("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${m("modifierValue",s)};`}\n\t\t\t${d.range?`\n\t\t\t\tfloat modifierFactor = ${m("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`};function xl(d,s){return s.modifiers?.map((m,c)=>{if("opacity"!==m.applyTo){const T=xa[m.applyTo];if(T)return T(m,c,d,s);console.warn("modifier not implemented",m.applyTo)}return""}).join("\n\t")}function Oc(d,s){return s.modifiers?.map((m,c)=>"opacity"===m.applyTo?(0,xa[m.applyTo])(m,c,d,s):"").join("\n\t")}function al(d,s){return(0,_.dot)(d,s)+d[3]}function jl(d,s=d){let m=(0,_.length)(d);return m>0&&(m=1/m),(0,Ko.scale)(s,d,m),s}function ec(d,s){const m=s[0],c=s[1],T=s[2],G=s[3],de=s[4],te=s[5],we=s[6],Oe=s[7],Ie=s[8],ze=s[9],gt=s[10],Mt=s[11],Nt=s[12],zt=s[13],kt=s[14],Jt=s[15];jl((0,Ko.set)(d[0],G-m,Oe-de,Mt-Ie,Jt-Nt)),jl((0,Ko.set)(d[1],G+m,Oe+de,Mt+Ie,Jt+Nt)),jl((0,Ko.set)(d[2],G+c,Oe+te,Mt+ze,Jt+zt)),jl((0,Ko.set)(d[3],G-c,Oe-te,Mt-ze,Jt-zt)),jl((0,Ko.set)(d[4],G-T,Oe-we,Mt-gt,Jt-kt)),jl((0,Ko.set)(d[5],G+T,Oe+we,Mt+gt,Jt+kt))}function ll(d,s,m,c,T=0,G=0){const de=c*c;let te=0;for(let we=0;we<3;we++){const Oe=m[we],Ie=Math.max(d[we+T],Math.min(s[we+G],Oe))-Oe;if(te+=Ie*Ie,te>de)return-1/0}return Math.sqrt(te)}function xc(d,s,m){return d&&m>=0?ll(d.min,d.max,s,m):-1/0}const Wd={...Jc,multiDraw:!1,multiMaterial:!1,topology:Ke.triangles,quantizedPositions:!1,octNormals:!1,quantizedUVs:!1,vertexColors:!1,morphTarget:!1,normals:!0,tangents:!1},yd={...lt("mat4","modelMatrix",!1),...lt("mat4","normalMatrix",!1),...lt("mat4","decodePositions",!1),...lt("mat3","decodeUVs",!1),...lt("float","morphFactor",!1),...lt("mat4","decodeMorphPositions",!1),"attr:position":Ja("vec3","position",0),"attr:normal":Ja("vec3","normal",1),"attr:tangent":Ja("vec3","tangent",4),"attr:color":Ja("vec4","color",3),"attr:texcoord":Ja("vec2","texcoord",2),"attr:morphPosition":Ja("vec3","morphPosition"),"attr:morphNormal":Ja("vec3","morphNormal"),"attr:morphTangent":Ja("vec3","morphTangent"),vModelPosition:ue("vec3","modelPosition"),modelPosition(d,s,m,c){if(d===es.frag)return{symbol:c("vModelPosition")};const T=m?.quantizedPositions,G=[`vec3 modelPosition = ${T?`${c("transformMat4")}(${c("decodePositions")}, ${c("attr:position")})`:c("attr:position")};`];return m.morphTarget&&G.push(`vec3 morphModelPosition = ${T?`${c("transformMat4")}(${c("decodeMorphPositions")}, ${c("attr:morphPosition")})`:c("attr:morphPosition")};`,`modelPosition = mix(modelPosition, morphModelPosition, ${c("morphFactor")});`),{main:G}},vNormal:ue("vec3","normal"),normal(d,s,m,c){if(!m.normals)return{symbol:"vec3(0.0)"};if(d===es.frag)return{main:[`vec3 normal = normalize(${c("vNormal")});`]};const T=m?.octNormals,G=[T?`vec3 decodedNormal = ${c("octDecode")}(${c("attr:normal")}.xy);`:`vec3 decodedNormal = ${c("attr:normal")};`];return m.morphTarget&&G.push(T?`vec3 decodedMorphNormal = ${c("octDecode")}(${c("attr:morphNormal")}.xy);`:`vec3 decodedMorphNormal = ${c("attr:morphNormal")};`,`decodedNormal = mix(decodedNormal, decodedMorphNormal, ${c("morphFactor")});`),G.push(`vec3 modelNormal = ${c("transformMat4")}(${c("normalMatrix")}, decodedNormal);`),{main:G,symbol:"modelNormal"}},vTangent:ue("vec3","tangent"),tangent:(d,s,m,c)=>d===es.frag?{main:[`vec3 tangent = ${c("vTangent")};`]}:{main:m.morphTarget?`vec3 modelTangent = mix(${c("attr:tangent")}, ${c("attr:morphTangent")}, ${c("morphFactor")});`:`vec3 modelTangent = ${c("attr:tangent")};`,symbol:"modelTangent"},vTexCoord:ue("vec2","texCoord"),texCoord:(d,s,m,c)=>d===es.frag?{symbol:c("vTexCoord")}:{main:[`vec2 texCoord = ${m?.quantizedUVs?`(${c("decodeUVs")} * vec3(${c("attr:texcoord")}, 1.0)).uv`:c("attr:texcoord")};`]},vVertexColor:ue("vec4","vertexColor"),vertexColor:(d,s,m,c)=>d===es.frag?{symbol:c("vVertexColor")}:{symbol:c("attr:color")},octDecode:"vec3 octDecode(vec2 oct) {\n\t\tvec3 v = vec3(oct.xy, 1.0 - abs(oct.x) - abs(oct.y));\n\t\tif (v.z < 0.0) {\n\t\t\tv.xy = (1.0 - abs(v.yx)) * vec2(v.x >= 0.0 ? 1.0 : -1.0, v.y >= 0.0 ? 1.0 : -1.0);\n\t\t}\n\t\treturn normalize(v);\n\t}"},ed={screenResolution:"uniform vec2 screenResolution;",viewIndex(d,s,m){if(d!==es.vert)throw new Error("multiview viewIndex only allowed in vertex shader");return m.multiView?{extensions:["#extension GL_OVR_multiview : require"],declare:"layout(num_views=2) in;",symbol:"gl_ViewID_OVR"}:"0"},projectionMatrixArray:"uniform mat4 projectionMatrix[2];",projectionMatrix:(d,s,m,c)=>m.multiView?{requires:"projectionMatrixArray",symbol:`projectionMatrix[${c("viewIndex")}]`}:"uniform mat4 projectionMatrix;",viewMatrixInverseArray:"uniform mat4 viewMatrixInverse[2];",vViewMatrixInverse:ue("mat4","viewMatrixInverse","vViewMatrixInverse"),viewMatrixInverse:(d,s,m,c)=>m.multiView?d===es.vert?{requires:"viewMatrixInverseArray",symbol:`viewMatrixInverse[${c("viewIndex")}]`}:{symbol:c("vViewMatrixInverse")}:"uniform mat4 viewMatrixInverse;",cameraPositionArray:"uniform vec3 cameraPosition[2];",vCameraPosition:ue("vec3","cameraPosition","vCameraPosition"),cameraPosition:(d,s,m,c)=>m.multiView?d===es.vert?{requires:"cameraPositionArray",symbol:`cameraPosition[${c("viewIndex")}]`}:{symbol:c("vCameraPosition")}:"uniform vec3 cameraPosition;",viewMatrixArray:"uniform mat4 viewMatrix[2];",vViewMatrix:ue("mat4","viewMatrix","vViewMatrix"),viewMatrix:(d,s,m,c)=>m.multiView?d===es.vert?{requires:"viewMatrixArray",symbol:`viewMatrix[${c("viewIndex")}]`}:{symbol:c("vViewMatrix")}:"uniform mat4 viewMatrix;"},La={...Wd,multiView:!1,...Jc},Kd={...yd,...ed,...pn,...lt("mat4","modelViewMatrix[2]",!1,"modelViewMatrixArray"),vModelViewMatrix:ue("mat4","modelViewMatrix","vModelViewMatrix"),modelViewMatrixSamplerOffset:(d,s,m)=>m?.multiView?{declare:{define:"uniform uint modelViewMatrixSamplerOffset[2];",samplerOffsetTarget:"modelViewMatrix"}}:{declare:{define:"uniform uint modelViewMatrixSamplerOffset;",samplerOffsetTarget:"modelViewMatrix"}},modelViewMatrix:(d,s,m,c)=>(m?.multiDraw||m?.multiView)&&d===es.frag?{symbol:c("vModelViewMatrix")}:m?.multiView?m?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model",count:2},main:`mat4 modelViewMatrix = ${c("sampleBatchMatrix4")}(${c("vec4ModelSampler")}, ${c("gl_DrawID")}, ${c("modelViewMatrixSamplerOffset")}[${c("viewIndex")}]);`}:{symbol:`${c("modelViewMatrixArray")}[${c("viewIndex")}]`}:m?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model"},main:`mat4 modelViewMatrix = ${c("sampleBatchMatrix4")}(${c("vec4ModelSampler")}, ${c("gl_DrawID")}, ${c("modelViewMatrixSamplerOffset")});`}:"uniform mat4 modelViewMatrix;",vScreenPosition:ue("vec4","screenPosition"),screenPosition:(d,s,m,c)=>d===es.frag?{symbol:c("vScreenPosition")}:{main:[`vec4 screenPosition = ${c("projectionMatrix")} * ${c("modelViewMatrix")} * vec4(${c("modelPosition")}, 1.0);`]},vWorldPosition:ue("vec3","worldPosition"),worldPosition:(d,s,m,c)=>d===es.frag&&m.topology!==Ke.points?{symbol:c("vWorldPosition")}:{main:[`vec3 worldPosition = ${c("transformMat4")}(${c("modelMatrix")}, ${c("modelPosition")});`]},vViewPosition:ue("vec3","viewPosition"),viewPosition:(d,s,m,c)=>d===es.frag?{symbol:c("vViewPosition")}:{main:[`vec3 viewPosition = ${c("transformMat4")}(${c("viewMatrix")}, ${c("worldPosition")});`]},normalizedViewPosition:(d,s,m,c)=>({main:`vec3 normalizedViewPosition = normalize(${c("viewPosition")});`}),vSurfaceToView:ue("vec3","surfaceToView"),surfaceToView:(d,s,m,c)=>d===es.frag?{main:[`vec3 surfaceToView = normalize(${c("vSurfaceToView")});`]}:{main:[`vec3 surfaceToView = ${c("transformMat4")}(${c("viewMatrix")}, ${c("cameraPosition")}) - ${c("viewPosition")};`]}};let tc=function(d){return d.opaque="opaque",d.blend="blend",d.test="test",d.hidden="hidden",d}({});const uc={...La,alphaMode:tc.opaque,textureLODext:!1};function Xd(d,s,m="baseColor",c="a"){const T=c?m+"."+c:m;return s.alphaMode===tc.test?`\n\t\tif (${T} <= 0.0) {\n\t\t\tdiscard;\n\t\t}\n\t\tif (${d("discardOpaque")} && ${T} >= 1.0) {\n\t\t\tdiscard;\n\t\t} else if (!${d("discardOpaque")} && ${T} < 1.0) {\n\t\t\tdiscard;\n\t\t}`:""}const Yd={...Kd,discardOpaque:"uniform bool discardOpaque;",...lt("float","opacity"),ambientLightColor:"uniform vec3 ambientLightColor;",gl_FragColor:(d,s,m)=>m.webGlVersion>=2?{declare:"out vec4 outputFragColor;",symbol:"outputFragColor"}:{symbol:"gl_FragColor"},extStandardDerivatives:(d,s,m)=>m.webGlVersion>=2?{}:{extensions:"#extension GL_OES_standard_derivatives : enable"},texture2D:(d,s,m)=>({symbol:m.webGlVersion>=2?"texture":"texture2D"}),textureCube:(d,s,m)=>({symbol:m.webGlVersion>=2?"texture":"textureCube"}),textureCubeLod:(d,s,m)=>m.webGlVersion>=2?{symbol:"textureLod"}:m?.textureLODext?{extensions:"#extension GL_EXT_shader_texture_lod : enable",symbol:"textureCubeLodEXT"}:{symbol:"textureCube"},PI:"#define PI 3.141592653589793",RECIPROCAL_PI:"#define RECIPROCAL_PI 0.3183098861837907",EPSILON:"#define EPSILON 1e-6",saturate:"#define saturate(a) clamp( a, 0.0, 1.0 )",pow2:"#define pow2(n) (n * n)",pow5:"\n\t\tfloat pow5(float n) {\n\t\t\tfloat n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\tvec3 pow5(vec3 n) {\n\t\t\tvec3 n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\t",transformMat4:"vec3 transformMat4(mat4 m, vec3 v) {\n\t\tvec4 v4 = m * vec4(v, 1.0);\n\t\treturn v4.xyz;\n\t}",isnan:(d,s,m)=>m.webGlVersion>=2?{symbol:"isnan"}:["bool isnan(float val) {\n\t\t\t\treturn !(val < 0.0 || 0.0 < val || val == 0.0);\n\t\t\t}","bvec2 isnan(vec2 v) { return bvec2(isnan(v.x), isnan(v.y)); }","bvec3 isnan(vec3 v) { return bvec3(isnan(v.xy), isnan(v.z)); }","bvec4 isnan(vec4 v) { return bvec4(isnan(v.xyz), isnan(v.w)); }"].join("\n"),isinf:(d,s,m)=>m.webGlVersion>=2?{symbol:"isinf"}:["bool isinf( float val ) {\n\t\t\t\tconst float inf = 1.0/0.0;\n\t\t\t\treturn abs(val) == inf;\n\t\t\t}","bvec2 isinf(vec2 v) { return bvec2(isinf(v.x), isinf(v.y)); }","bvec3 isinf(vec3 v) { return bvec3(isinf(v.xy), isinf(v.z)); }","bvec4 isinf(vec4 v) { return bvec4(isinf(v.xyz), isinf(v.w)); }"].join("\n")};function rs(d,s,m){if(!d.visible||!d.geometry.count||(d.updateWorldMatrix(),!d.renderable))return tc.hidden;const{twoPass:c=!1,maxClipDistances:T=0}=m||{},{opacity:G}=d.material,{opaque:de,blend:te,hidden:we}=tc;let Oe=tc.opaque;const Ie=!c,ze=tc.test,gt=Ie?te:ze;d.updateWorldBounds();const{min:Mt,max:Nt}=d.worldBounds,zt=De.get(),kt=De.get();for(let Mn=0,Bn=d.clippable&&s?.length||0;Mn<Bn;Mn++){const{plane:Qn,fade:dr}=s[Mn];if(kt[0]=Qn[0]>0?Nt[0]:Mt[0],kt[1]=Qn[1]>0?Nt[1]:Mt[1],kt[2]=Qn[2]>0?Nt[2]:Mt[2],al(Qn,kt)<=0)return we;Oe===de&&(dr>0||Mn>=T)&&(zt[0]=Qn[0]<0?Nt[0]:Mt[0],zt[1]=Qn[1]<0?Nt[1]:Mt[1],zt[2]=Qn[2]<0?Nt[2]:Mt[2],al(Qn,zt)<dr&&(Oe=gt))}De.release(zt),De.release(kt);const{material:Jt}=d;let kn=G,Dn=G;if(G<1&&Jt instanceof vr&&d.geometry.attributes.normal){const{glassFactor:Mn,murkiness:Bn}=Jt,Qn=Mn*Bn,dr=Mn*(Bn-1),Gn=Math.min(Qn,dr),Nr=Math.max(Qn,dr);kn=Math.max(Gn,kn),Dn=Math.max(Nr,Dn)}if(Oe!==gt)if(Jt instanceof vr){for(const Mn of Jt.textures)if("alpha"===Mn.applyTo||"transparency"===Mn.applyTo){Oe=gt,kn=0,Dn=1;break}}else Jt.opacityMaps.length&&(Oe=gt,kn=0,Dn=1);if("transparencyFresnel"in Jt&&Jt.transparencyFresnel){const{transparencyFresnel:Mn}=Jt;let Bn=1-Dn,Qn=1-kn;const dr=Math.max(Mn.center,Mn.edge),Gn=Math.min(Mn.center,Mn.edge);if("add"===Mn.blendMode?(Qn+=dr,Bn+=Gn):(Qn*=dr,Bn*=Gn),Dn=Q(1-Bn),kn=Q(1-Qn),0===Dn)return we}if("alphaFresnel"in Jt&&Jt.alphaFresnel){const{alphaFresnel:Mn}=Jt,Bn=Math.max(Mn.center,Mn.edge),Qn=Math.min(Mn.center,Mn.edge);if("add"===Mn.blendMode?(Dn=Q(Dn+Bn),kn=Q(kn+Qn)):(Dn=Q(Dn*Bn),kn=Q(kn*Qn)),0===Dn)return we}if("opacityFresnel"in Jt&&Jt.opacityFresnel){const{opacityFresnel:Mn}=Jt,Bn=Math.max(Mn.center,Mn.edge),Qn=Math.min(Mn.center,Mn.edge);if("add"===Mn.blendMode?(Dn=Q(Dn+Bn),kn=Q(kn+Qn)):(Dn=Q(Dn*Bn),kn=Q(kn*Qn)),0===Dn)return we}const{geometry:Rn}=d;if(Rn.attributes?.color&&(Oe=te),d.modifiers.forEach(Mn=>{if("opacity"===Mn.applyTo){let Bn=0,Qn=1;if("range"in Mn){let dr=Mn.value,Gn=1,Nr=Mn.range.minRadius,Xr=Mn.range.maxRadius;const ri=De.get();if(Mn.parent){Mn.parent.updateWorldMatrix();const Br=De.get();(0,W.getScaling)(Br,Mn.parent.worldMatrix);const Sr=(Br[0]+Br[1]+Br[2])/3;Nr*=Sr,Xr*=Sr,De.release(Br),(0,_.transformMat4)(ri,Mn.range.center,Mn.parent.worldMatrix)}else(0,_.copy)(ri,Mn.range.center);if(Nr>Xr&&(Gn=dr,dr=1,Nr=Xr,Xr=Mn.range.minRadius),xc(d.worldBounds,ri,1/0)>=Xr)Bn=Gn,Qn=Gn;else{const Br=Nr*Nr;(0,_.squaredDistance)(ri,Mt)<=Br&&(0,_.squaredDistance)(ri,Nt)<=Br?(Bn=dr,Qn=dr):(Bn=Math.min(Mn.value,1),Qn=Math.max(Mn.value,1))}De.release(ri)}else"fresnel"in Mn?(Bn=Math.min(Mn.fresnel.center,Mn.fresnel.edge),Qn=Math.max(Mn.fresnel.center,Mn.fresnel.edge)):(Bn=Mn.value,Qn=Mn.value);Dn*=Qn,kn*=Bn}}),Dn<=0)return we;if(kn<1){if(Ie||Dn<1)return te;Oe=ze}return Oe}const td=(0,w(4434).objectSorter)({sort:{array:!1,typedArray:!1,map:!0,object:!0,set:!0}});function Ec(d){return td(d)}function va(d){const s=Object.keys(d).sort();return function(m){const c=[];for(let T=0;T<s.length;T++){const G=s[T],de=m[G];void 0!==de&&c.push(G+":"+Ec(de))}return"{"+c.toString()+"}"}}const nd={clips:0,maxClipDistances:0};function nc(d,s){return Fi(Math.min(s.clips,s.maxClipDistances),m=>`{\n\t\tvec4 plane = ${d("clippingPlane",m)}.plane;\n\t\t${d("gl_ClipDistance",m)} = dot(${d("worldPosition4")}, plane);\n\t}`).join("\n\t")}const cl={ClippingPlane:"struct ClippingPlane {\n\t\tvec4 plane;\n\t\tfloat fade;\n\t};",worldPosition4:(d,s,m,c)=>({main:[`vec4 worldPosition4 = vec4(${c("worldPosition")}, 1.0);`]}),gl_ClipDistance:(d,s)=>({extensions:"#extension GL_ANGLE_clip_cull_distance : require",symbol:`gl_ClipDistance[${s}]`}),clippingPlane(d,s){const m=`clippingPlane${s}`;return{requires:["ClippingPlane"],declare:`uniform ClippingPlane ${m};`,symbol:m}},clippingPlaneAlpha:(d,s,m,c)=>({main:`float clippingPlaneAlpha = 1.0; {\n\t\t\tfloat distTransparency = 0.0;\n\t\t\t${Fi(m.clips,T=>`{\n\t\t\t\tvec4 plane = ${c("clippingPlane",T)}.plane;\n\t\t\t\tfloat fade = ${c("clippingPlane",T)}.fade;\n\t\t\t\tfloat planeDistance = dot(${c("worldPosition4")}, plane);\n\t\t\t\tfloat fadeAmount = fade == 0.0 ? -sign(planeDistance) : 1.0 - clamp(planeDistance / fade, 0.0, 1.0);\n\t\t\t\tdistTransparency = max(distTransparency, fadeAmount);\n\t\t\t}`).join("\n\t")}\n\t\t\tclippingPlaneAlpha = 1.0 - distTransparency;\n\t\t}`})},el={struct:-1,attribute:1,in:2,uniform:3,varying:4,out:5,const:6},Ka=/^\s*(struct|attribute|uniform|varying|in|out|const)\s+/,rd=(d,s)=>{const[m,c]=d,[T,G]=s,de=m.startsWith("#define")?-1:1,te=T.startsWith("#define")?-1:1;if(de!==te)return de-te;const we=Ka.exec(m),Oe=we&&el[we[1]]||1/0,Ie=Ka.exec(T),ze=Ie&&el[Ie[1]]||1/0;return Oe!==ze?Oe-ze:c-G},Qd=d=>({extensions:s,declare:m,main:c})=>{const T=d?.webGlVersion>=2?"#version 300 es\n":"",G=d?.precision||"highp",de=m.map((te,we)=>[te,we]).sort(rd).map(([te])=>te);return T+`${s.join("\n").trim()}\n\n\t${"highp"===G?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif":`precision ${G} float;`}\n\n\t${de.join("\n").trim()}\n\tvoid main() {\n\t${c.map(te=>"\t"+te).join("\n")}\n\t}`},Ol={acesNarkowicz:"ACESNarkowicz",linear:"",granTurismo:"GranTurismoToneMap",pbrNeutral:"PBRNeutralToneMapping"},i={linearToGamma:"vec4 linearToGamma( in vec4 value, in float gammaFactor ) {\n\t\treturn vec4( pow( max(vec3(0.0), value.rgb), vec3( 1.0 / gammaFactor ) ), value.a );\n\t}",sRGBToLinear:"vec4 sRGBToLinear( in vec4 value ) {\n\t\treturn vec4(\n\t\t\tmix(\n\t\t\t\tpow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ),\n\t\t\t\tvalue.rgb * 0.0773993808,\n\t\t\t\tvec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) )\n\t\t\t),\n\t\t\tvalue.w\n\t\t);\n\t}",ACESNarkowicz:"vec3 ACESNarkowicz(vec3 color) {\n\t\tconst float A = 2.51;\n\t\tconst float B = 0.03;\n\t\tconst float C = 2.43;\n\t\tconst float D = 0.59;\n\t\tconst float E = 0.14;\n\t\treturn clamp((color * (A * color + B)) / (color * (C * color + D) + E), 0.0, 1.0);\n\t}",GranTurismoToneMap:"vec3 GranTurismoToneMap(vec3 color) {\n\t\tconst float P = 1.0;  \n\t\tconst float a = 1.0;  \n\t\tconst float m = 0.22; \n\t\tconst float l = 0.4;  \n\t\tconst float c = 1.33; \n\t\tconst float b = 0.0;  \n\t\tconst vec3 P3 = vec3(P);\n\t\tconst vec3 m3 = vec3(m);\n\t\tconst vec3 c3 = vec3(c);\n\t\tfloat l0 = ((P - m) * l) / a;\n\t\tfloat L0 = m - m / a;\n\t\tfloat L1 = m + (1.0 - m) / a;\n\t\tfloat S0 = m + l0;\n\t\tfloat S1 = m + a * l0;\n\t\tfloat C2 = (a * P) / (P - S1);\n\t\tfloat CP = -C2 / P;\n\t\tvec3 w0 = 1.0 - smoothstep(0.0, m, color);\n\t\tvec3 w2 = step(m + l0, color);\n\t\tvec3 w1 = 1.0 - w0 - w2;\n\t\tvec3 T = m3 * pow(color / m3, c3) + vec3(b);\n\t\tvec3 S = P3 - (P3 - vec3(S1)) * exp(vec3(CP) * (color - vec3(S0)));\n\t\tvec3 L = m3 + vec3(a) * (color - m3);\n\t\treturn T * w0 + L * w1 + S * w2;\n\t}",PBRNeutralToneMapping:"vec3 PBRNeutralToneMapping( vec3 color ) {\n\t\tconst float startCompression = 0.8 - 0.04;\n\t\tconst float desaturation = 0.15;\n\n\t\tfloat x = min(color.r, min(color.g, color.b));\n\t\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\t\tcolor -= offset;\n\n\t\tfloat peak = max(color.r, max(color.g, color.b));\n\t\tif (peak < startCompression) return color;\n\n\t\tconst float d = 1. - startCompression;\n\t\tfloat newPeak = 1. - d * d / (peak + d - startCompression);\n\t\tcolor *= newPeak / peak;\n\n\t\tfloat g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);\n\t\treturn mix(color, newPeak * vec3(1, 1, 1), g);\n\t}",toneMap(d,s,m,c){const T=Ol[m?.toneMap];return`vec3 toneMap(vec3 color) {\n\t\t\t${T?`color = ${c(T)}(color);`:""}\n\t\t\treturn color;\n\t\t}`}};function p(d){return d.replace(/^(\w)/,s=>s.toUpperCase())}const J={...uc,uvScale:!1,uvRotate:!1,uvTranslate:!1};function je(d,s,m,c,T){const{blendMode:G}=c,de=`sample${p(d)}Texture`,te=T(d+"TextureBlendFactor",m);return`{\n\t\tvec3 texSample = ${T("sRGBToLinear")}(${T(de,m)}).rgb;\n\t\t${"multiply"===G?`${s} *= 1.0 - ${te} * (1.0 - texSample);`:"over"===G?`${s} = mix(${s}, texSample, ${te});`:`${s} += ${te} * texSample;`}\n\t}`}function vt(d,s,m,c,T){const{blendMode:G,channel:de,invert:te}=c,we=`sample${p(d)}Texture`,Oe=T(d+"TextureBlendFactor",m);return`{\n\t\tfloat texSample = (${T(we,m)}).${de};\n\t\t${te?"texSample = 1.0 - texSample;":""}\n\t\t${"over"===G?`${s} = mix(${s}, texSample, ${Oe});`:"multiply"===G?`${s} *= 1.0 - ${Oe} * (1.0 - texSample);`:`${s} += ${Oe} * texSample;`}\n\t}`}function jt(d){const s=`${d}TextureLayers`,m=`${d}TextureBlendFactor`;return{[`sample${p(d)}Texture`]:(T,G,de,te)=>({symbol:te("textureSample",de[s][G].samplerIndex)}),[m](T,G){const de=m+G;return{declare:`uniform float ${de};`,symbol:de}}}}function hn(d,s,m){return`{\n\t\t${m} *=  ${s("pointUVScale")};\n\t\t${d.uvTranslate?`${m} += ${s("uvTranslate")};`:""}\n\t\t${d.uvRotate?`\n\t\t\tvec2 centerCoord = ${d.uvTranslate?`${s("uvTranslate")} + ${s("pointUVScale")} * 0.5`:"vec2(0.5)"};\n\t\t\tvec2 pivot = ${m} - centerCoord;\n\t\t\tfloat c = ${s("cosPointRotation")};\n\t\t\tfloat s = ${s("sinPointRotation")};\n\t\t\t${m}.x = c * pivot.x + s * pivot.y + centerCoord.x;\n\t\t\t${m}.y = c * pivot.y - s * pivot.x + centerCoord.y;\n\t\t`:""}\n\t}`}const bn={"attr:uvTranslate":Ja("vec2","uvTranslate"),"attr:uvRotate":Ja("float","uvRotate"),...lt("vec2","pointUVScale"),vUvTranslate:ue("vec2","uvTranslate"),uvTranslate:(d,s,m,c)=>d===es.frag?{symbol:c("vUvTranslate")}:{symbol:c("attr:uvTranslate")},texCoord:(d,s,m,c)=>d===es.frag&&m.topology===Ke.points?{main:["vec2 pointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",hn(m,c,"pointTexCoord")],symbol:"pointTexCoord"}:d===es.frag?{symbol:c("vTexCoord")}:{main:[`vec2 texCoord = ${m?.quantizedUVs?`(${c("decodeUVs")} * vec3(${c("attr:texcoord")}, 1.0)).xy`:c("attr:texcoord")};`]},vFlippedTexCoord:ue("vec2","flippedTexCoord"),flippedTexCoord:(d,s,m,c)=>d===es.frag?m.topology===Ke.points?{main:["vec2 flippedPointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",hn(m,c,"flippedPointTexCoord"),"flippedPointTexCoord.y = 1.0 - flippedPointTexCoord.y;"],symbol:"flippedPointTexCoord"}:{symbol:c("vFlippedTexCoord")}:{main:`vec2 flippedTexCoord = vec2(${c("texCoord")}.x, 1.0 - ${c("texCoord")}.y);`,symbol:"flippedTexCoord"},vCosPointRotation:ue("float","cosPointRotation"),cosPointRotation:(d,s,m,c)=>d===es.frag?{symbol:c("vCosPointRotation")}:{main:[`float cosPointRotation = cos(${c("attr:uvRotate")});`]},vSinPointRotation:ue("float","sinPointRotation"),sinPointRotation:(d,s,m,c)=>d===es.frag?{symbol:c("vSinPointRotation")}:{main:[`float sinPointRotation = sin(${c("attr:uvRotate")});`]}};function Vn(d){return Math.floor(d)===d&&d!==1/0&&d!==-1/0?d+".0":String(d)}const Nn={roundPoints:!1,maxPointSize:256,perspectivePoints:!1,scaleAttr:!1},br={"attr:scale":Ja("float","scale"),...lt("float","pointSize"),glPointSize(d,s,m,c){if(d!==es.vert||m.topology!==Ke.points)return"0.0";const T=Vn(Math.floor(m.maxPointSize)),G=Vn(20*ut),de=Vn(Ft);return{main:`\n\t\t\t\t\tfloat glPointSize = ${m.perspectivePoints?`${c("pointSize")} * ${G} / length(${c("viewPosition")})`:c("pointSize")};\n\t\t\t\t\t${m.scaleAttr?`glPointSize *= ${c("attr:scale")};`:""}\n\t\t\t\t\tglPointSize *= ${de} * ${c("screenResolution")}.y;\n\t\t\t\t\tglPointSize = clamp(glPointSize, 0.0, ${T});\n\t\t\t\t`,symbol:"glPointSize"}}},Jr={...Wd,...J,...Kr,samplers:[],baseColorTextureLayers:[],opacityTextureLayers:[]},ei={...jo,...lt("vec3","baseColor"),...jt("baseColor"),...jt("opacity"),textureSample(d,s,m,c){const T="textureSample"+s,G="textureSampler"+s,de=c("bottom-up"===m.samplers[s].rowOrder?"flippedTexCoord":"texCoord");return{symbol:T,declare:`uniform sampler2D ${G};`,main:[`vec4 ${T} = ${c("texture2D")}(${G}, ${de});`]}},vViewNormal:ue("vec3","viewNormal"),viewNormal:(d,s,m,c)=>d===es.frag?{main:[`vec3 viewNormal = normalize(${c("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${c("viewMatrix")} * vec4(${c("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},color:(d,s,m,c)=>({main:`\n\t\t\t\tvec3 color = ${c("baseColor")}.rgb;\n\t\t\t\t${m.vertexColors?`color *= ${c("vertexColor")}.rgb;`:""}\n\t\t\t\t${m.baseColorTextureLayers.map((T,G)=>je("baseColor","color",G,T,c)).join("\n")}\n\t\t\t\t${m.baseColorFresnel?`color = ${c("baseColorFresnelColor")}(color, ${c("surfaceToView")}, ${c("viewNormal")});`:""}\n\t\t\t`}),alpha:(d,s,m,c)=>({main:`\n\t\t\tfloat alpha = ${c("opacity")};\n\t\t\t${m.vertexColors?`alpha *= ${c("vertexColor")}.a;`:""}\n\t\t\t${m.opacityTextureLayers.map((T,G)=>vt("opacity","alpha",G,T,c)).join("\n")}\n\t\t\t${m.opacityFresnel?`alpha = ${c("opacityFresnelValue")}(alpha, ${c("surfaceToView")}, ${c("viewNormal")});`:""}\n\t\t\t`})},oi={...uc,...Jr,...J,...Ls,...Nn,...nd,baseColorTextureLayers:[],opacityTextureLayers:[]},wi={...Yd,...ei,...cl,...Ds,...i,...bn,...br,Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};"},no=["baseColorFresnel","opacityFresnel"],Ei=["baseColorMaps","opacityMaps"],So=["baseColorFresnel","opacityFresnel"],$o=new Map(["biasCenter","biasEdge","power","center","edge"].map(d=>[d,p(d)])),Oo=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"]],Io={Fog:"struct Fog {\n\t\tvec3 color;\n\t\tfloat density;\n\t\tfloat start;\n\t\tfloat end;\n\t\tfloat min;\n\t\tfloat max;\n\t};",fog:{requires:["Fog"],declare:["uniform Fog fog;"]},applyFog(d,s,m,c){const T=m.fog;return`vec3 applyFog(vec3 color) {\n\t\t\t${c("Fog")} f = ${c("fog")};\n\n\t\t\tfloat fogDistance = length(${c("viewPosition")}.xyz) - f.start;\n\n\t\t\t${"linear"===T?"\n\t\t\t\tfloat fogAmount = fogDistance / (f.end - f.start);":`\n\n\t\t\t\tfloat fogAttenuation = f.density * max(fogDistance, 0.0);\n\t\t\t\t${"exp2"===T?"fogAttenuation *= fogAttenuation;":""}\n\t\t\t\tfloat fogAmount = 1.0 - exp(-fogAttenuation);`}\n\n\t\t\tfogAmount = clamp(fogAmount, f.min, f.max);\n\t\t\treturn mix(color, f.color, fogAmount);\n\t\t}`}},Uo={baseFresnel:!1,baseFresnelBlendMode:In.multiply,alphaFresnel:!1,alphaFresnelBlendMode:In.multiply,specularFresnel:!1,specularFresnelBlendMode:In.multiply,emitFresnel:!1,emitFresnelBlendMode:In.multiply,transparencyFresnel:!1,transparencyFresnelBlendMode:In.multiply,reflectionFresnel:!1,reflectionFresnelBlendMode:In.multiply},Tr={...jo,...xi("baseFresnel"),...xi("alphaFresnel","float"),...xi("specularFresnel"),...xi("emitFresnel"),...xi("transparencyFresnel","float"),...xi("reflectionFresnel","float")};function Eo(d,s,m,c,T,G){const de=m("textureBlendFactor",T),te=m("bottom-up"===c.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\tvec4 texSample = ${m("texture2D")}(${m("textureSampler",T)}, ${te});\n\t\t${G||"over"===c.blendMode?`${d} = mix(${d}, texSample.${s}, ${de});`:"multiply"===c.blendMode?`${d} *= 1.0 - ${de} * (1.0 - texSample.${s});`:`${d} += ${de} * texSample.${s};`}\n\t}`}const Ps={transparency:"alpha"},zs={transparency:(d,s,m,c)=>Eo("transparency","r",c,d,s,m),occlusion:(d,s,m,c)=>Eo(c("occlusion"),"r",c,d,s,m),metallic:(d,s,m,c)=>Eo(c("metallic"),"r",c,d,s,m),roughness:(d,s,m,c)=>Eo(c("roughness"),"r",c,d,s,m),shine:(d,s,m,c)=>Eo(c("shine"),"r",c,d,s,m),specular:(d,s,m,c)=>Eo(c("specular"),"r",c,d,s,m),baseColor(d,s,m,c,T){if(T.metallicMaterial||T.gammaInputPhong){const G=c("textureBlendFactor",s),de=c("bottom-up"===d.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${c("sRGBToLinear")}(${c("texture2D")}(${c("textureSampler",s)}, ${de}));\n\t\t\t\t${m||"over"===d.blendMode?`color = mix(color, texSample.rgb, ${G});`:"multiply"===d.blendMode?`color *= 1.0 - ${G} * (1.0 - texSample.rgb);`:`color += ${G} * texSample.rgb;`}\n\t\t\t}`}return Eo("color","rgb",c,d,s,m)},emit(d,s,m,c,T){if(T.metallicMaterial||T.gammaInputPhong){const G=c("textureBlendFactor",s),de=c("bottom-up"===d.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${c("sRGBToLinear")}(${c("texture2D")}(${c("textureSampler",s)}, ${de}));\n\t\t\t\t${m||"over"===d.blendMode?`emitRGB = mix(emitRGB, texSample.rgb, ${G});`:"multiply"===d.blendMode?`emitRGB *= 1.0 - ${G} * (1.0 - texSample.rgb);`:`emitRGB += ${G} * texSample.rgb;`}\n\t\t\t}`}return Eo("emitRGB","rgb",c,d,s,m)},alpha(d,s,m,c){const T=c("textureBlendFactor",s),G=c("bottom-up"===d.rowOrder?"flippedTexCoord":"texCoord"),de=`${c("texture2D")}(${c("textureSampler",s)}, ${G})`;return m?`transparency = mix(transparency, 1.0 - ${de}.r, ${T});`:`{\n\t\t\tvec4 texSample = ${de};\n\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t${"over"===d.blendMode?`alpha = mix(alpha, texSample.r, ${T});`:"multiply"===d.blendMode?`alpha *= 1.0 - ${T} * (1.0 - texSample.r);`:`alpha += ${T} * texSample.r;`}\n\t\t\ttransparency = 1.0 - alpha;\n\t\t}`},normals(d,s,m,c,T){const G=c("textureBlendFactor",s),de=m?"=":"+=",te=c("bottom-up"===d.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\tvec4 texSample = ${c("texture2D")}(${c("textureSampler",s)}, ${te});\n\t\t\tvec3 sampledValue = ${T.tangents?`${c("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);`:`${c("perturbNormal2Arb")}(texSample.xyz, ${c("viewPosition")}, ${c("viewNormal")}, ${te});`}\n\t\t\t${"add"===d.blendMode?`${c("adjustedViewNormal")} ${de} sampledValue * ${G};`:`${c("adjustedViewNormal")} = mix(${c("adjustedViewNormal")}, sampledValue, ${G});`}\n\t\t}`}},bo={...Tr,...lt("vec3","modifierCenter",!1),...lt("vec2","modifierRadius",!1),...lt("vec3","modifierColorValue",!1),...lt("float","modifierValue",!1),...lt("vec3","modifierFresnelCenter",!1),...lt("vec3","modifierFresnelEdge",!1),...lt("float","modifierFresnelBiasCenter",!1),...lt("float","modifierFresnelBiasEdge",!1),...lt("float","modifierFresnelPower",!1),modifierFactor:(d,s,m,c)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${c("worldPosition")} - ${c("modifierCenter",s)}) - ${c("modifierRadius",s)}.x) /\n\t\t\t\t${c("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},aa={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function Zs(d,s){const m=(d.priority||0)-(s.priority||0);if(m)return m;const c=(aa[d.applyTo]||1/0)-(aa[s.applyTo]||1/0);if(c)return c;const T="range"in d,G="range"in s;return T!==G?Number(T)-Number(G):+("fresnel"in d)-+("fresnel"in s)}const Ts=d=>(s,m,c)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${c("fresnel")}(${c("surfaceToView")}, ${c("adjustedViewNormal")}, ${c("modifierFresnelBiasEdge",m)}, ${c("modifierFresnelBiasCenter",m)}, ${c("modifierFresnelPower",m)});\n\t\t\t\tfloat value = mix(${c("modifierFresnelEdge",m)}.r, ${c("modifierFresnelCenter",m)}.r, fresnelAmount);\n\t\t\t`:`float value = ${c("modifierValue",m)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${c("modifierFactor",m)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${d}\n\t\t}`,is={tintColor:(d,s,m)=>`{\n\t\t\t${d.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${m("fresnel")}(${m("surfaceToView")}, ${m("adjustedViewNormal")}, ${m("modifierFresnelBiasEdge",s)}, ${m("modifierFresnelBiasCenter",s)}, ${m("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${m("modifierFresnelEdge",s)}.rgb, ${m("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${m("modifierColorValue",s)};`}\n\t\t\t${d.range?`\n\t\t\t\tfloat modifierFactor = ${m("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(d,s,m)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${d.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${m("fresnel")}(${m("surfaceToView")}, ${m("adjustedViewNormal")}, ${m("modifierFresnelBiasEdge",s)}, ${m("modifierFresnelBiasCenter",s)}, ${m("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${m("modifierFresnelEdge",s)}.r, ${m("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${m("modifierValue",s)};`}\n\t\t\t${d.range?`\n\t\t\t\tfloat modifierFactor = ${m("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Ts("fragColor.a *= value;"),contrast:Ts("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(d,s,m)=>`{\n\t\t\t${d.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${m("fresnel")}(${m("surfaceToView")}, ${m("adjustedViewNormal")}, ${m("modifierFresnelBiasEdge",s)}, ${m("modifierFresnelBiasCenter",s)}, ${m("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${m("modifierFresnelEdge",s)}.r, ${m("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${m("modifierValue",s)};`}\n\t\t\t${d.range?`\n\t\t\t\tfloat modifierFactor = ${m("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`},Ua={...uc,...J,...Uo,...Nn,modifiers:[],...nd,metallicMaterial:!1,gammaInputPhong:!1,textureLayers:[],reflectionMap:!1,environmentReflectionMap:!1,lightMapSpace:"",lights:0,fog:""},Pl={dir:0,point:1,spot:2},Pc={...Yd,...bn,...cl,...Io,...Tr,...bo,...i,...br,Light:"struct Light {\n\t\tint type;\n\t\tvec3 direction;\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tvec3 attenuation;\n\t\tfloat innerCone;\n\t\tfloat outerCone;\n\n\t\t\n\t\tbool diffuse;\n\t\tbool specular;\n\n\t\t\n\t\tbool viewSpace;\n\t};",lightSource(d,s){const m=`legacyLightSource${s}`;return{requires:"Light",declare:`uniform Light ${m};`,symbol:m}},IncidentLight:"struct IncidentLight {\n\t\tvec3 color;\n\t\tvec3 direction;\n\t};",ReflectedLight:"struct ReflectedLight {\n\t\tvec3 diffuse;\n\t\tvec3 specular;\n\t};",Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};",...lt("vec3","baseColor"),...lt("vec4","emitColor"),...lt("vec3","specularColor"),...lt("vec3","metalRoughSpecularf0"),...lt("float","phongShine"),...lt("float","glassFactor"),...lt("float","murkiness"),ambientLightColor:{declare:"uniform vec3 legacyAmbientLightColor;",symbol:"legacyAmbientLightColor"},reflectionMap:"uniform samplerCube reflectionMap;",...lt("float","reflectionMapIntensity"),...lt("float","reflectionMapMaxMipLevel"),lightMap:"uniform samplerCube lightMap;",...lt("float","lightMapIntensity"),textureSampler(d,s){const m=`textureSampler${s}`;return{declare:`uniform sampler2D ${m};`,symbol:m}},textureBlendFactor(d,s){const m=`textureBlendFactor${s}`;return{declare:`uniform float ${m};`,symbol:m}},specularF0:(d,s,m,c)=>({symbol:`${c("metalRoughSpecularf0")}.b`}),metallic:(d,s,m,c)=>({main:[`float metallic = ${c("metalRoughSpecularf0")}.r;`]}),roughness:(d,s,m,c)=>({main:[`float roughness = ${c("metalRoughSpecularf0")}.g;`]}),specular:()=>({main:["float specular = 1.0;"]}),occlusion:()=>({main:["float occlusion = 1.0;"]}),shine:(d,s,m,c)=>({main:[`float shine = ${c("phongShine")};`]}),vViewNormal:ue("vec3","viewNormal"),viewNormal:(d,s,m,c)=>d===es.frag?{main:[`vec3 viewNormal = normalize(${c("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${c("viewMatrix")} * vec4(${c("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},adjustedViewNormal:(d,s,m,c)=>({main:[`vec3 adjustedViewNormal = ${m.textureLayers?.some(G=>"normals"===G.applyTo)?"vec3(0.0)":c("viewNormal")};`]}),vTBN:ue("mat3","TBN"),TBN:(d,s,m,c)=>({main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tmat3 mat = mat3(${c("modelViewMatrix")});\n\t\t\t\t\tvec3 tangentW = normalize(vec3(mat * ${c("tangent")}));\n\t\t\t\t\tvec3 bitangentW = cross(${c("viewNormal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${c("viewNormal")});\n\t\t\t\t}\n\t\t\t`}),perturbNormal2Arb:{requires:["extStandardDerivatives"],declare:"vec3 perturbNormal2Arb( vec3 texSample, vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( uv.st );\n\t\t\tvec2 st1 = dFdy( uv.st );\n\t\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\t\t\n\t\t\tvec3 N = surf_norm;\n\t\t\tvec3 mapN = texSample * 2.0 - 1.0;\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}"},F_Schlick:"\n\t\tvec3 F_Schlick(const in vec3 specularColor, const in float dotLH) {\n\t\t\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\t\t\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\t\t}",G_GGX_SmithCorrelated:(d,s,m,c)=>`\n\t\tfloat G_GGX_SmithCorrelated(const in float alpha, const in float dotNL, const in float dotNV) {\n\t\t\tfloat a2 = ( alpha * alpha );\n\t\t\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * ( dotNV * dotNV ) );\n\t\t\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * ( dotNL * dotNL ) );\n\t\t\treturn 0.5 / max( gv + gl, ${c("EPSILON")} );\n\t\t}`,D_GGX:(d,s,m,c)=>`\n\t\tfloat D_GGX(const in float alpha, const in float dotNH) {\n\t\t\tfloat a2 = alpha * alpha;\n\t\t\tfloat denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n\t\t\treturn ${c("RECIPROCAL_PI")} * a2 / ( denom * denom );\n\t\t}`,BRDF_Specular_GGX:(d,s,m,c)=>`\n\t\tvec3 BRDF_Specular_GGX(const in IncidentLight incidentLight, const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat alpha = roughness * roughness;\n\t\t\tvec3 halfDir = normalize(incidentLight.direction + geometry.viewEyeDir);\n\t\t\tfloat dotNL = ${c("saturate")}( dot( geometry.viewNormal, incidentLight.direction ) );\n\t\t\tfloat dotNV = ${c("saturate")}( dot( geometry.viewNormal, geometry.viewEyeDir ) );\n\t\t\tfloat dotNH = ${c("saturate")}( dot( geometry.viewNormal, halfDir ) );\n\t\t\tfloat dotLH = ${c("saturate")}( dot( incidentLight.direction, halfDir ) );\n\t\t\tvec3  F = ${c("F_Schlick")}( specularColor, dotLH );\n\t\t\tfloat G = ${c("G_GGX_SmithCorrelated")}( alpha, dotNL, dotNV );\n\t\t\tfloat D = ${c("D_GGX")}( alpha, dotNH );\n\t\t\treturn F * (G * D);\n\t\t}`,computePBRLighting:(d,s,m,c)=>`\n\t\tvoid computePBRLighting(const in IncidentLight incidentLight, const in Geometry geometry, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\tfloat dotNL = ${c("saturate")}(dot(geometry.viewNormal, incidentLight.direction));\n\t\t\tvec3 irradianceOverPi = dotNL * incidentLight.color;\n\t\t\treflectedLight.diffuse += irradianceOverPi * material.diffuseColor;\n\t\t\treflectedLight.specular += irradianceOverPi * ${c("PI")} * ${c("BRDF_Specular_GGX")}(incidentLight, geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular = max(reflectedLight.specular, 0.0);\n\t\t}`,inverseTransformDirection:"vec3 inverseTransformDirection(in vec3 dir, in mat4 matrix) {\n\t\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\t}",GGXRoughnessToBlinnExponent:"float GGXRoughnessToBlinnExponent(const in float ggxRoughness) {\n\t\tfloat r = ggxRoughness + 0.0001;\n\t\treturn (2.0 / (r * r) - 2.0);\n\t}",getSpecularMIPLevel:"float getSpecularMIPLevel(const in float blinnShininessExponent, float maxMipLevels) {\n\t\tfloat desiredMIPLevel = maxMipLevels - 0.79248 - 0.5 * log2(blinnShininessExponent * blinnShininessExponent + 1.0);\n\t\treturn clamp(desiredMIPLevel, 0.0, maxMipLevels);\n\t}",getLightProbeIndirectRadiance:(d,s,m,c)=>`vec3 getLightProbeIndirectRadiance(const in samplerCube reflectMap, const in vec3 reflectVec, const in float blinnShininessExponent, float maxMipLevels) {\n\t\t\tfloat mipLevel = ${c("getSpecularMIPLevel")}(blinnShininessExponent, maxMipLevels); \n\t\t\tvec3 envMapColor = ${c("sRGBToLinear")}(${c("textureCubeLod")}(reflectMap, reflectVec, mipLevel)).rgb;\n\t\t\treturn envMapColor;\n\t\t}`,BRDF_Specular_GGX_Environment:(d,s,m,c)=>`vec3 BRDF_Specular_GGX_Environment(const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat dotNV = ${c("saturate")}(dot(geometry.viewNormal, geometry.viewEyeDir));\n\t\t\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022);\n\t\t\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04);\n\t\t\tvec4 r = roughness * c0 + c1;\n\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * dotNV)) * r.x + r.y;\n\t\t\tvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\treturn specularColor * AB.x + AB.y;\n\t\t}`,computePBRReflectionMapping:(d,s,m,c)=>`void computePBRReflectionMapping(\n\t\t\t\tconst in samplerCube reflectMap,\n\t\t\t\tconst in float intensity,\n\t\t\t\tconst in mat4 viewMatrix,\n\t\t\t\tconst in Geometry geometry,\n\t\t\t\tconst in Material material,\n\t\t\t\tinout ReflectedLight reflectedLight,\n\t\t\t\tfloat maxMipLevel\n\t\t) {\n\t\t\tvec3 reflectVec = reflect(-geometry.viewEyeDir, geometry.viewNormal);\n\t\t\treflectVec = ${c("inverseTransformDirection")}(reflectVec, viewMatrix);\n\t\t\tfloat blinnExpFromRoughness = ${c("GGXRoughnessToBlinnExponent")}(material.specularRoughness);\n\t\t\tvec3 radiance = ${c("getLightProbeIndirectRadiance")}(reflectMap, reflectVec, blinnExpFromRoughness, maxMipLevel);\n\t\t\tvec3 specularBRDFContrib = ${c("BRDF_Specular_GGX_Environment")}(geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular += radiance * specularBRDFContrib * intensity;\n\t\t}`,computePBRLightMapping:(d,s,m,c)=>`void computePBRLightMapping(const in samplerCube lightMap, const in float intensity, const in vec3 normal, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\treflectedLight.diffuse += ${c("sRGBToLinear")}(${c("textureCube")}(lightMap, normal)).rgb * material.diffuseColor * intensity;\n\t\t}`},Es=["baseFresnel","emitFresnel","alphaFresnel","reflectionFresnel","specularFresnel","transparencyFresnel"],Xa=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","metallic","roughness"]),wc=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","specular","shine"]),bd=["baseFresnel","emitFresnel","specularFresnel","transparencyFresnel","alphaFresnel","reflectionFresnel"],Hl=new Map(["biasCenter","biasEdge","power","center","edge"].map(d=>[d,p(d)])),Cc={emissiveFresnel:!1,emissiveFresnelBlendMode:In.multiply},sm={...xi("emissiveFresnel")},El=Math.pow(2,-126),am=Math.max(.045,Math.pow(El,.25)),id={directional:0,point:1,spot:2},od={...uc,...Jr,...Cc,...Ls,...Nn,...nd,baseColorTextureLayers:[],opacityTextureLayers:[],metallicTextureLayers:[],occlusionTextureLayers:[],roughnessTextureLayers:[],emissiveTextureLayers:[],specularFactorTextureLayers:[],specularColorTextureLayers:[],normalTextureLayers:[],lights:0,imageLightSpecularTexture:!1,imageLightIrradianceMode:"",computeBRDF:!1,fog:"",toneMap:"linear"},ku={...Yd,...ei,...cl,...br,...sm,...Ds,...Io,...i,...bn,LightSource:"struct LightSource {\n\t\tint type;\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat intensity;\n\t\tfloat innerConeCos;\n\t\tfloat outerConeCos;\n\t};",ComputedLight:"struct ComputedLight {\n\t\tvec3 intensity;\n\t\tfloat NdotL;\n\t\tfloat NdotH;\n\t\tfloat VdotH;\n\t};",NormalInfo:"struct NormalInfo {\n\t\tvec3 ng; \n\t\tvec3 t; \n\t\tvec3 b; \n\t\tvec3 n; \n\t};",lightSource(d,s){const m=`lightSource${s}`;return{requires:"LightSource",declare:`uniform LightSource ${m};`,symbol:m}},irradianceCoefficients:"uniform vec3 irradianceCoefficients[9];",imageLightLODScale:"uniform float imageLightLODScale;",imageLightSpecularTexture:"uniform samplerCube imageLightSpecularTexture;",imageLightIrradianceTexture:"uniform samplerCube imageLightIrradianceTexture;",imageLightIntensity:"uniform float imageLightIntensity;",imageLightRotation:"uniform mat3 imageLightRotation;",brdfLookUpTexture:"uniform sampler2D brdfLookUpTexture;",...lt("float","metallic"),...lt("float","roughness"),...lt("vec3","emissive"),...lt("float","ior"),...lt("float","specularFactor"),...lt("vec3","specularColor"),...jt("metallic"),...jt("roughness"),...jt("occlusion"),...jt("emissive"),...jt("specularFactor"),...jt("specularColor"),...jt("normal"),EPSILON:`#define EPSILON ${Math.max(1e-6,El)}`,f90:"const vec3 f90 = vec3(1.0);",clampedDot:"float clampedDot(vec3 x, vec3 y) {\n\t\treturn clamp(dot(x, y), 0.0, 1.0);\n\t}",getSpotAttenuation:"float getSpotAttenuation(vec3 pointToLightDirection, vec3 spotDirection, float outerConeCos, float innerConeCos) {\n\t\tfloat actualCos = dot(spotDirection, -pointToLightDirection);\n\t\tif (actualCos > outerConeCos) {\n\t\t\tif (actualCos < innerConeCos) {\n\t\t\t\treturn smoothstep(outerConeCos, innerConeCos, actualCos);\n\t\t\t}\n\t\t\treturn 1.0;\n\t\t}\n\t\treturn 0.0;\n\t}",getLightIntensity:(d,s,m,c)=>`vec3 getLightIntensity(LightSource light, vec3 pointToLight, vec3 pointToLightDirection) {\n\t\t\tfloat rangeAttenuation = 1.0;\n\t\t\tfloat spotAttenuation = 1.0;\n\t\t\tif (light.type != ${id.directional}) {\n\t\t\t\t\n\t\t\t\tfloat lenSq = dot(pointToLight, pointToLight);\n\t\t\t\trangeAttenuation = 1.0 / max(lenSq, ${c("EPSILON")});\n\t\t\t}\n\t\t\tif (light.type == ${id.spot}) {\n\t\t\t\tspotAttenuation = ${c("getSpotAttenuation")}(pointToLightDirection, light.direction, light.outerConeCos, light.innerConeCos);\n\t\t\t}\n\t\t\treturn rangeAttenuation * spotAttenuation * light.intensity * light.color;\n\t\t}`,fresnelSchlick:(d,s,m,c)=>`\n\t\tvec3 fresnelSchlick(vec3 f0, vec3 f90, float VdotH) {\n\t\t\tvec3 x = vec3(1.0) - VdotH;\n\t\t\treturn f0 + (f90 - f0) * ${c("pow5")}(x);\n\t\t}`,BRDF_Lambertian:(d,s,m,c)=>`\n\t\tvec3 BRDF_Lambertian(vec3 f0, vec3 f90, vec3 diffuseColor, float specularWeight, float VdotH) {\n\t\t\treturn (1.0 - specularWeight * ${c("fresnelSchlick")}(f0, f90, VdotH)) * (diffuseColor / ${c("PI")});\n\t\t}`,V_GGX:"\n\t\tfloat V_GGX(float NdotL, float NdotV, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat GGXV = NdotL * sqrt(NdotV * NdotV * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGXL = NdotV * sqrt(NdotL * NdotL * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGX = GGXV + GGXL;\n\t\t\tif (GGX > 0.0) {\n\t\t\t\treturn 0.5 / GGX;\n\t\t\t}\n\t\t\treturn 0.0;\n\t\t}",D_GGX:(d,s,m,c)=>`\n\t\tfloat D_GGX(float NdotH, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat f = (NdotH * NdotH) * (alphaRoughnessSq - 1.0) + 1.0;\n\t\t\treturn alphaRoughnessSq / (${c("PI")} * f * f);\n\t\t}`,BRDF_specularGGX:(d,s,m,c)=>`\n\t\tvec3 BRDF_specularGGX(vec3 f0, vec3 f90, float alphaRoughness, float specularWeight, float NdotV, ${c("ComputedLight")} light) {\n\t\t\tvec3 F = ${c("fresnelSchlick")}(f0, f90, light.VdotH);\n\t\t\tfloat Vis = ${c("V_GGX")}(light.NdotL, NdotV, alphaRoughness);\n\t\t\tfloat D = ${c("D_GGX")}(light.NdotH, alphaRoughness);\n\t\t\treturn specularWeight * F * Vis * D;\n\t\t}`,sampleSphericalHarmonic:"vec3 sampleSphericalHarmonic(in vec3 normal, in vec3 shCoefficients[9]) {\n\t\tfloat x = normal.x, y = normal.y, z = normal.z;\n\t\t// return shCoefficients[ 0 ] +\n\t\t// \t+ shCoefficients[ 1 ] * y;\n\t\t// \t+ shCoefficients[ 2 ] * z;\n\t\t// \t+ shCoefficients[ 3 ] * x;\n\t\t// \t+ shCoefficients[ 4 ] * x * y;\n\t\t// \t+ shCoefficients[ 5 ] * y * z;\n\t\t// \t+ shCoefficients[ 6 ] * (3.0 * z * z - 1.0);\n\t\t// \t+ shCoefficients[ 7 ] * x * z;\n\t\t// \t+ shCoefficients[ 8 ] * (x * x - y * y);\n\t\treturn shCoefficients[ 0 ] * 0.886227 +\n\t\t\t+ shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\t\t\t+ shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\t\t\t+ shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\t\t\t+ shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\t\t\t+ shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\t\t\t+ shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\t\t\t+ shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\t\t\t+ shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\t}",getSpecularSample:(d,s,m,c)=>`\n\tvec4 getSpecularSample(vec3 reflection, float roughness) {\n\t\tfloat lod = roughness * (2.0 - roughness) * ${c("imageLightLODScale")};\n\t\treturn ${c("textureCubeLod")}(${c("imageLightSpecularTexture")}, ${c("imageLightRotation")} * reflection, lod) * ${c("imageLightIntensity")};\n\t}`,vSurfaceToCamera:ue("vec3","surfaceToCamera"),surfaceToCamera:(d,s,m,c)=>d===es.frag?{main:[`vec3 surfaceToCamera = normalize(${c("vSurfaceToCamera")});`]}:{main:[`vec3 surfaceToCamera = normalize(${c("cameraPosition")} - ${c("worldPosition")});`]},vCosPointNegRotation:ue("float","cosPointNegRotation"),cosPointNegRotation:(d,s,m,c)=>d===es.frag?{symbol:c("vCosPointNegRotation")}:{main:[`float cosPointNegRotation = cos(-${c("attr:uvRotate")});`]},vSinPointNegRotation:ue("float","sinPointNegRotation"),sinPointNegRotation:(d,s,m,c)=>d===es.frag?{symbol:c("vSinPointNegRotation")}:{main:[`float sinPointNegRotation = sin(-${c("attr:uvRotate")});`]},vTBN:ue("mat3","TBN"),TBN(d,s,m,c){if(d===es.frag)return m.topology===Ke.points?{main:`\n\t\t\t\t\t\tmat3 TBN; {\n\t\t\t\t\t\t\tfloat c = ${c("cosPointNegRotation")};\n\t\t\t\t\t\t\tfloat s = ${c("sinPointNegRotation")};\n\t\t\t\t\t\t\tmat3 tmpRotation = mat3(\n\t\t\t\t\t\t\t\tc, s, 0,\n\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tTBN = tmpRotation * mat3(${c("viewMatrixInverse")}) * mat3(\n\t\t\t\t\t\t\t\t1.0 , 0.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, -1.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, 0.0, 1.0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t`}:m.tangents&&m.normals?{main:[`mat3 TBN = mat3(\n\t\t\t\t\t\t\tnormalize(${c("vTBN")}[0]),\n\t\t\t\t\t\t\tnormalize(${c("vTBN")}[1]),\n\t\t\t\t\t\t\tnormalize(${c("vTBN")}[2])\n\t\t\t\t\t\t);`]}:{requires:["extStandardDerivatives"],main:[`mat3 TBN;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 UV = ${c("texCoord")};\n\t\t\t\t\t\tvec2 uv_dx = dFdx(UV);\n\t\t\t\t\t\tvec2 uv_dy = dFdy(UV);\n\t\t\t\t\t\tif (length(uv_dx) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dx = vec2(1.0, 0.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (length(uv_dy) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dy = vec2(0.0, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 t_ = (uv_dy.t * dFdx(${c("worldPosition")}) - uv_dx.t * dFdy(${c("worldPosition")})) /\n\t\t\t\t\t\t(uv_dx.s * uv_dy.t - uv_dy.s * uv_dx.t);`,m.normals?`vec3 ng = ${c("normal")};`:`vec3 ng = normalize(cross(dFdx(${c("worldPosition")}), dFdy(${c("worldPosition")})));`,"\n\t\t\t\t\t\tTBN[0] = normalize(t_ - ng * dot(ng, t_));\n\t\t\t\t\t\tTBN[1] = cross(ng, TBN[0]);\n\t\t\t\t\t\tTBN[2] = ng;\n\t\t\t\t\t}"]};if(!m.tangents)throw new Error("Unable to compute TBN matrix in vertex shader without geometry tangents.");return{main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tvec3 tangentW = normalize(vec3(${c("modelMatrix")} * vec4(${c("tangent")}, 0.0)));\n\t\t\t\t\tvec3 bitangentW = cross(${c("normal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${c("normal")});\n\t\t\t\t}\n\t\t\t`}},iorOutside:{symbol:"1.0"},f0:(d,s,m,c)=>({main:`\n\t\t\tvec3 f0 = vec3(\n\t\t\t\t${c("saturate")}(\n\t\t\t\t\t${c("pow2")}(\n\t\t\t\t\t\t(${c("ior")} - ${c("iorOutside")}) /\n\t\t\t\t\t\t(${c("ior")} + ${c("iorOutside")})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) * ${c("specularColor")};\n\t\t\t${m.specularColorTextureLayers.map((T,G)=>je("specularColor","f0",G,T,c)).join("\n")}\n\n\t\t\t\n\t\t\tf0 = mix(f0, ${c("color")}, ${c("metalness")});\n\n\t\t\t\n\t\t`}),diffuseColor:(d,s,m,c)=>({main:`vec3 diffuseColor = mix(${c("color")}, vec3(0.0), ${c("metalness")});`}),specularWeight:(d,s,m,c)=>({main:`\n\t\t\tfloat specularWeight = ${c("specularFactor")};\n\t\t\t${m.specularFactorTextureLayers.map((T,G)=>vt("specularFactor","specularWeight",G,T,c)).join("\n")}\n\n\t\t\t\n\t\t\tspecularWeight = mix(specularWeight, 1.0, ${c("metalness")});\n\t\t\t`}),metalness:(d,s,m,c)=>({main:`\n\t\t\tfloat metalness = ${c("metallic")};\n\t\t\t${m.metallicTextureLayers.map((T,G)=>vt("metallic","metalness",G,T,c)).join("\n")}\n\t\t\t`}),perceptualRoughness:(d,s,m,c)=>({main:`float perceptualRoughness = ${c("roughness")}; {\n\t\t\t\t${m.roughnessTextureLayers.map((T,G)=>vt("roughness","perceptualRoughness",G,T,c)).join("\n")}\n\t\t\t\tperceptualRoughness = clamp(perceptualRoughness, ${am}, 1.0);\n\t\t\t}`}),alphaRoughness:(d,s,m,c)=>({main:`\n\t\t\t\tfloat alphaRoughness = ${c("perceptualRoughness")} * ${c("perceptualRoughness")};\n\t\t\t`}),ambientOcclusion:(d,s,m,c)=>({main:`\n\t\t\t\tfloat ambientOcclusion = 1.0;\n\t\t\t\t${m.occlusionTextureLayers.map((T,G)=>vt("occlusion","ambientOcclusion",G,T,c)).join("\n")}\n\t\t\t`}),emissiveOutput:(d,s,m,c)=>({main:`\n\t\t\t\tvec3 emissiveOutput = ${c("emissive")};\n\t\t\t\t${m.emissiveTextureLayers.map((T,G)=>je("emissive","emissiveOutput",G,T,c)).join("\n")}\n\t\t\t\t${m.emissiveFresnel?`emissiveOutput = ${c("emissiveFresnelColor")}(emissiveOutput, ${c("surfaceToView")}, ${c("viewNormal")});`:""}\n\t\t\t`}),sphericalHarmonicAmbient:(d,s,m,c)=>({main:`\n\t\t\t\tvec3 sphericalHarmonicAmbient = ${c("sampleSphericalHarmonic")}(${c("N")}, ${c("irradianceCoefficients")}) / ${c("PI")} * ${c("imageLightIntensity")};\n\t\t\t`}),irradianceSample:(d,s,m,c)=>({main:`\n\t\t\t\tvec3 irradianceSample = ${c("textureCube")}(${c("imageLightIrradianceTexture")}, ${c("imageLightRotation")} * ${c("N")}).rgb * ${c("imageLightIntensity")};\n\t\t\t`}),environmentBRDF:(d,s,m,c)=>({main:m.computeBRDF?`vec2 environmentBRDF; {\n\t\t\t\tconst vec4 c0 = vec4(-1, -0.0275, -0.572, 0.022);\n\t\t\t\tconst vec4 c1 = vec4(1, 0.0425, 1.04, -0.04);\n\t\t\t\tvec4 r = ${c("perceptualRoughness")} * c0 + c1;\n\t\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * ${c("NdotV")})) * r.x + r.y;\n\t\t\t\tenvironmentBRDF = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\t}`:`vec2 environmentBRDF; {\n\t\t\t\tvec2 brdfSamplePoint = clamp(vec2(${c("NdotV")}, ${c("perceptualRoughness")}), vec2(0.0, 0.0), vec2(1.0, 1.0));\n\t\t\t\tenvironmentBRDF = ${c("texture2D")}(${c("brdfLookUpTexture")}, brdfSamplePoint).rg;\n\t\t\t}`}),FssEss:(d,s,m,c)=>({main:`vec3 FssEss; {\n\t\t\tvec3 Fr = max(vec3(1.0 - ${c("perceptualRoughness")}), ${c("f0")}) - ${c("f0")};\n\t\t\tvec3 k_S = ${c("f0")} + Fr * ${c("pow5")}(1.0 - ${c("NdotV")});\n\t\t\tFssEss = k_S * ${c("environmentBRDF")}.x + ${c("environmentBRDF")}.y;\n\t\t}`}),iblRadianceLambertian:(d,s,m,c)=>({main:`\n\t\t\tvec3 iblRadianceLambertian;\n\t\t\t{\n\t\t\t\tvec3 irradiance = ${c("ambientLightColor")};\n\t\t\t\t${m.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t\t${c("parametric"===m.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t\t`:""}\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t\tvec3 weightedFssEss = ${c("specularWeight")} * ${c("FssEss")};\n\n\t\t\t\t\n\t\t\t\tfloat Ems = (1.0 - (${c("environmentBRDF")}.x + ${c("environmentBRDF")}.y));\n\t\t\t\tvec3 F_avg = ${c("specularWeight")} * (${c("f0")} + (1.0 - ${c("f0")}) / 21.0);\n\t\t\t\tvec3 FmsEms = Ems * weightedFssEss * F_avg / (1.0 - F_avg * Ems);\n\t\t\t\tvec3 k_D = ${c("diffuseColor")} * (1.0 - weightedFssEss + FmsEms); \n\n\t\t\t\tiblRadianceLambertian = (FmsEms + k_D) * irradiance;\n\t\t\t}`}),iblDiffuse:(d,s,m,c)=>({main:`vec3 iblDiffuse; {\n\t\t\tvec3 irradiance = ${c("ambientLightColor")};\n\t\t\t${m.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t${c("parametric"===m.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t`:""}\n\t\t\tiblDiffuse = irradiance * ${c("diffuseColor")};\n\t\t}`}),iblRadianceGGX:(d,s,m,c)=>({main:`vec3 iblRadianceGGX; {\n\t\t\tvec3 reflection = reflect(-${c("surfaceToCamera")}, ${c("N")});\n\t\t\tvec4 specularSample = ${c("getSpecularSample")}(reflection, ${c("perceptualRoughness")});\n\t\t\tvec3 specularLight = specularSample.rgb;\n\n\t\t\t\n\n\t\t\tiblRadianceGGX = ${c("specularWeight")} * specularLight * ${c("FssEss")};\n\t\t}`}),diffuseAmbient:(d,s,m,c)=>({main:`\n\t\t\t\tvec3 diffuseAmbient; {\n\t\t\t\t\tdiffuseAmbient = ${c("iblDiffuse")};\n\t\t\t\t\tdiffuseAmbient *= ${c("ambientOcclusion")};\n\t\t\t\t}\n\t\t\t`}),normalInfo:(d,s,m,c)=>({symbol:"normalInfo",main:[`${c("NormalInfo")} normalInfo; {\n\t\t\t\t\tnormalInfo.t = ${c("TBN")}[0];\n\t\t\t\t\tnormalInfo.b = ${c("TBN")}[1];\n\t\t\t\t\tvec3 ng = ${c("TBN")}[2];\n\t\t\t\t\tnormalInfo.ng = ng;\n\t\t\t\t\tnormalInfo.n = ng;\n\t\t\t\t`,...m.normalTextureLayers.length?[...m.normalTextureLayers.map((T,G)=>function(de,te,we){const{blendMode:Oe}=de,Ie=we("normalTextureBlendFactor",te);return`{\n\t\tvec4 texSample = ${we("sampleNormalTexture",te)};\n\t\tvec3 sampledNormal = ${we("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);\n\t\t${"over"===Oe?`normalInfo.n = mix(normalInfo.n, sampledNormal, ${Ie});`:`normalInfo.n += ${Ie} * sampledNormal;`}\n\t}`}(T,G,c)),"normalInfo.n = normalize(normalInfo.n);"]:[],"}"]}),N:(d,s,m,c)=>({symbol:`${c("normalInfo")}.n`}),NdotV:(d,s,m,c)=>({main:`float NdotV = ${c("clampedDot")}(${c("N")}, ${c("surfaceToCamera")});`}),punctualLight(d,s,m,c){const T=`punctualLight${s}`;return{symbol:T,main:`\n\t\t\t\t${c("ComputedLight")} ${T};\n\t\t\t\t{\n\t\t\t\t\t${c("ComputedLight")} light;\n\t\t\t\t\t${c("LightSource")} lightSource = ${c("lightSource",s)};\n\t\t\t\t\tvec3 pointToLight = lightSource.type == ${id.directional} ?\n\t\t\t\t\t\t-lightSource.direction :\n\t\t\t\t\t\tlightSource.position - ${c("worldPosition")} ;\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 L = normalize(pointToLight);\n\n\t\t\t\t\t\n\n\t\t\t\t\tvec3 H = normalize(L + ${c("surfaceToCamera")});\n\n\t\t\t\t\tvec3 n = ${c("normalInfo")}.n;\n\n\t\t\t\t\tlight.intensity = ${c("getLightIntensity")}(lightSource, pointToLight, L);\n\t\t\t\t\tlight.NdotL = ${c("clampedDot")}(${c("N")}, L);\n\t\t\t\t\tlight.NdotH = ${c("clampedDot")}(${c("N")}, H);\n\t\t\t\t\tlight.VdotH = ${c("clampedDot")}(${c("surfaceToCamera")}, H);\n\t\t\t\t\t${T} = light;\n\t\t\t\t}\n\t\t\t`}},diffuse:(d,s,m,c)=>({main:[`vec3 diffuse = ${c("diffuseAmbient")};`,...Fi(m.lights,T=>`{\n\t\t\t\t\tdiffuse += ${c("punctualLight",T)}.intensity * ${c("punctualLight",T)}.NdotL * ${c("BRDF_Lambertian")}(${c("f0")}, ${c("f90")}, ${c("diffuseColor")}, ${c("specularWeight")}, ${c("punctualLight",T)}.VdotH);\n\t\t\t\t}`)]}),specular:(d,s,m,c)=>({main:["vec3 specular = vec3(0.0);",m.imageLightSpecularTexture?`specular += ${c("iblRadianceGGX")} * ${c("ambientOcclusion")};`:"",...Fi(m.lights,T=>`{\n\t\t\t\t\tspecular += ${c("punctualLight",T)}.intensity * ${c("punctualLight",T)}.NdotL * ${c("BRDF_specularGGX")}(${c("f0")}, ${c("f90")}, ${c("alphaRoughness")}, ${c("specularWeight")}, ${c("NdotV")}, ${c("punctualLight",T)});\n\t\t\t\t}`)]})},Fu=["baseColorFresnel","opacityFresnel","emissiveFresnel"],dl=["baseColorMaps","opacityMaps","metallicMaps","roughnessMaps","occlusionMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"],kc=["baseColorFresnel","emissiveFresnel","opacityFresnel"],Bu=new Map(["biasCenter","biasEdge","power","center","edge"].map(d=>[d,p(d)])),Nu=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"],["metallicMaps","metallicTexture"],["roughnessMaps","roughnessTexture"],["occlusionMaps","occlusionTexture"],["emissiveMaps","emissiveTexture"],["specularFactorMaps","specularFactorTexture"],["specularColorMaps","specularColorTexture"],["normalMaps","normalTexture"]],Fc=new Map;Fc.set(Qi,{options:function(d){const{material:s}=d;if(!s||!d.geometry)return null;const{attributes:m,morphKeys:c,topology:T}=d.geometry,G=c.length>1&&d.morphKeyIndex>=0,de=Object.assign({},od,{normals:!!m.normal,vertexColors:!!m.color,tangents:!(!m.tangent||G&&c.length&&!c[0].attributes.tangent),uvRotate:!!m.uvRotate,scaleAttr:!!m.scale,uvTranslate:!!m.uvTranslate,topology:T,roundPoints:d instanceof We&&d.roundPoints,perspectivePoints:d instanceof We&&d.perspectivePoints,modifiers:d.modifiers?Array.from(d.modifiers.values()).sort(Na).map(te=>({applyTo:te.applyTo,range:"range"in te,fresnel:"fresnel"in te})):[],octNormals:2===m.normal?.numComponents,quantizedPositions:!!m.position?.decodeMat,quantizedUVs:!!m.texcoord?.decodeMat,morphTarget:G});if(m.texcoord||T===Ke.points){const te=new Map;de.samplers=[];const we=Oe=>{const{texture:Ie,...ze}=Oe;return{...ze,samplerIndex:te.get(Ie)}};dl.forEach(Oe=>{s[Oe].filter(({texture:Ie})=>!!Ie).forEach(Ie=>{te.has(Ie.texture)||(te.set(Ie.texture,te.size),de.samplers.push({rowOrder:Ie.texture.rowOrder}))})}),Object.assign(de,{baseColorTextureLayers:s.baseColorMaps.map(we),opacityTextureLayers:s.opacityMaps.map(we),metallicTextureLayers:s.metallicMaps.map(we),roughnessTextureLayers:s.roughnessMaps.map(we),occlusionTextureLayers:s.occlusionMaps.map(we),emissiveTextureLayers:s.emissiveMaps.map(we),specularFactorTextureLayers:s.specularFactorMaps.map(we),specularColorTextureLayers:s.specularColorMaps.map(we),normalTextureLayers:s.normalMaps.map(we)})}return Fu.forEach(te=>{const we=s[te];we&&(de[te]=!0,de[te+"BlendMode"]=we.blendMode||"multiply")}),de},key:va(od),shader:function(d){const s=Object.assign({},od,d),m={vert:c=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${c("glPointSize")};`:""}\n\t\t\tgl_Position = ${c("screenPosition")};\n\t\t\t${nc(c,s)}\n\t\t`,frag:(c,T)=>`\n\t\t\t\n\t\t\t${T.roundPoints&&"points"===T.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t${T.clips>T.maxClipDistances&&"opaque"!==T.alphaMode?`\n\t\t\t\tif (${c("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\t\t\tfragColor.rgb = ${c("emissiveOutput")} + ${c("diffuse")} + ${c("specular")};\n\n\t\t\tfragColor.a = ${c("alpha")};\n\n\t\t\t\n\t\t\t${Oc(c,T)}\n\n\t\t\t${T.clips>0&&"opaque"!==T.alphaMode?`fragColor.a *= ${c("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Xd(c,T,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${xl(c,T)}\n\n\t\t\t${T.fog?`fragColor.rgb = ${c("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${function(G,de,te){const we=Ol[de.toneMap];return we?`${te} = ${G(we)}(${te});`:""}(c,T,"fragColor.rgb")}\n\t\t\tfragColor = ${c("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${c("gl_FragColor")} = fragColor;\n\t\t`};return bc(ku,(c,T)=>m[c](T,s),{joinShader:Qd(s),...s})},setMaterialUniforms:function(d,s,m){d.baseColor=s.baseColor,d.opacity=s.opacity,d.metallic=s.metallic,d.roughness=s.roughness,d.emissive=s.emissive,d.ior=s.ior,d.specularFactor=s.specularFactor,d.specularColor=s.specularColor;const c=new Set;Nu.forEach(([T,G])=>{s[T].forEach(({texture:de,blendFactor:te},we)=>{if(d[G+"BlendFactor"+we]=te,!c.has(de)){const Oe=c.size;c.add(de);const Ie=m?.get(de);Ie?(Ie.update(),d["textureSampler"+Oe]=Ie.webglTexture):delete d[G+"Sampler"+we]}})}),kc.forEach(T=>{const G=s[T];G&&Bu.forEach((de,te)=>{d[T+de]=G[te]})})},textureKeys:["baseColorMaps","opacityMaps","metallicMaps","occlusionMaps","roughnessMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"]}),Fc.set(Vi,{options:function(d){const{material:s}=d;if(!s||!d.geometry)return null;const{attributes:m,morphKeys:c,topology:T}=d.geometry,G=c.length>1&&d.morphKeyIndex>=0,de=Object.assign({},oi,{vertexColors:!!m.color,uvRotate:!!m.uvRotate,scaleAttr:!!m.scale,uvTranslate:!!m.uvTranslate,topology:T,roundPoints:d instanceof We&&d.roundPoints,perspectivePoints:d instanceof We&&d.perspectivePoints,modifiers:d.modifiers?Array.from(d.modifiers.values()).sort(Na).map(te=>({applyTo:te.applyTo,range:"range"in te,fresnel:"fresnel"in te})):[],octNormals:2===m.normal?.numComponents,quantizedPositions:!!m.position?.decodeMat,quantizedUVs:!!m.texcoord?.decodeMat,morphTarget:G});if(m.texcoord||T===Ke.points){const te=new Map;de.samplers=[];const we=Oe=>{const{texture:Ie,...ze}=Oe;return{...ze,samplerIndex:te.get(Ie)}};Ei.forEach(Oe=>{s[Oe].filter(({texture:Ie})=>!!Ie).forEach(Ie=>{te.has(Ie.texture)||(te.set(Ie.texture,te.size),de.samplers.push({rowOrder:Ie.texture.rowOrder}))})}),Object.assign(de,{baseColorTextureLayers:s.baseColorMaps.map(we),opacityTextureLayers:s.opacityMaps.map(we)})}return no.forEach(te=>{const we=s[te];we&&(de[te]=!0,de[te+"BlendMode"]=we.blendMode||"multiply")}),de},key:va(oi),shader:function(d){const s=Object.assign({},oi,d),m={vert:c=>`\n\t\t${"points"===s.topology?`gl_PointSize = ${c("glPointSize")};`:""}\n\t\tgl_Position = ${c("screenPosition")};\n\t\t`,frag:(c,T)=>`\n\t\t\t\n\t\t\t${T.roundPoints&&"points"===T.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\n\t\t\t\n\t\t\t${T.clips>T.maxClipDistances&&"opaque"!==T.alphaMode?`\n\t\t\t\tif (${c("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\n\t\t\tfragColor = vec4(\n\t\t\t\t${c("color")},\n\t\t\t\t${c("alpha")}\n\t\t\t);\n\n\t\t\t\n\t\t\t${Oc(c,T)}\n\n\t\t\t${T.clips>0&&"opaque"!==T.alphaMode?`fragColor.a *= ${c("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Xd(c,T,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${xl(c,T)}\n\n\t\t\tfragColor = ${c("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${c("gl_FragColor")} = fragColor;\n\t\t`};return bc(wi,(c,T)=>m[c](T,s),{joinShader:Qd(s),...s})},setMaterialUniforms:function(d,s,m){d.opacity=s.opacity,d.baseColor=s.baseColor;const c=new Set;Oo.forEach(([T,G])=>{s[T].forEach(({texture:de,blendFactor:te},we)=>{if(d[G+"BlendFactor"+we]=te,!c.has(de)){const Oe=c.size;c.add(de);const Ie=m?.get(de);Ie?(Ie.update(),d["textureSampler"+Oe]=Ie.webglTexture):delete d[G+"Sampler"+we]}})}),So.forEach(T=>{const G=s[T];G&&$o.forEach((de,te)=>{d[T+de]=G[te]})})},textureKeys:["baseColorMaps","opacityMaps"]}),Fc.set(vr,{options:function(d){const{material:s}=d;if(!s||!d.geometry)return null;const{attributes:m,morphKeys:c,topology:T}=d.geometry,G="metallic"===s.type,de=G?Xa:wc,te=(m.texcoord||T===Ke.points)&&s.textures?.filter(Ie=>de.has(Ie.applyTo)).map(Ie=>({applyTo:Ie.applyTo,blendMode:Ie.blendMode,rowOrder:Ie.texture?.rowOrder||"top-down"}))||[],we=c.length>1&&d.morphKeyIndex>=0,Oe=Object.assign({},Ua,{metallicMaterial:G,normals:!!m.normal,vertexColors:!!m.color,tangents:!(!m.tangent||we&&c.length&&!c[0].attributes.tangent),uvRotate:!!m.uvRotate,scaleAttr:!!m.scale,uvTranslate:!!m.uvTranslate,topology:T,textureLayers:te,modifiers:d.modifiers?Array.from(d.modifiers.values()).sort(Zs).map(Ie=>({applyTo:Ie.applyTo,range:"range"in Ie,fresnel:"fresnel"in Ie})):[],octNormals:2===m.normal?.numComponents,quantizedPositions:!!m.position?.decodeMat,quantizedUVs:!!m.texcoord?.decodeMat,roundPoints:d instanceof We&&d.roundPoints,perspectivePoints:d instanceof We&&d.perspectivePoints,morphTarget:we,reflectionMap:!!s.reflectionMap});return Es.forEach(Ie=>{const ze=s[Ie];ze&&(Oe[Ie]=!0,Oe[Ie+"BlendMode"]=ze.blendMode||"multiply")}),Oe},key:va(Ua),shader:function(d){const s=Object.assign({},Ua,d),m={vert:c=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${c("glPointSize")};`:""}\n\t\t\tgl_Position = ${c("screenPosition")};\n\t\t\t${nc(c,s)}\n\t\t`,frag:(c,T)=>{return`\n\t\t\t\n\t\t\t${T.roundPoints&&"points"===T.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t\n\t\t\tvec3 color = ${c(T.vertexColors?"vertexColor":"baseColor")}.rgb;\n\t\t\tfloat alpha = ${"opaque"===T.alphaMode?"1.0":c("opacity")};\n\t\t\t${T.vertexColors?`alpha *= ${c("vertexColor")}.a;`:""}\n\n\t\t\t\n\t\t\t${T.clips>T.maxClipDistances&&"opaque"!==T.alphaMode?`\n\t\t\t\tif (${c("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tfloat emit = ${c("emitColor")}.a;\n\t\t\tvec3 emitRGB = ${c("emitColor")}.rgb;\n\n\t\t\tfloat transparency = 1.0 - alpha;\n\n\t\t\t${T.normals&&"opaque"!==T.alphaMode?`\n\t\t\tif (transparency > 0.0) {\n\t\t\t\tfloat gf = ${c("glassFactor")} * (${c("murkiness")} - abs(dot(${c("viewNormal")}, vec3(0.0, 0.0, -1.0))));\n\t\t\t\talpha = max(alpha, gf);\n\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t}\n\t\t\t`:""}\n\n\t\t\t\n\t\t\t${function(G,de,te){const we={};let Oe=!1,Ie=G.map((ze,gt)=>{const Mt=zs[ze.applyTo];if(Oe=Oe||"normals"===ze.applyTo,Mt){const Nt=Ps[ze.applyTo]||ze.applyTo,zt=!we[Nt];return we[Nt]=!0,Mt(ze,gt,zt,de,te)}return""}).join("\n\t");return Oe&&(Ie+=`\n${de("adjustedViewNormal")} = normalize(${de("adjustedViewNormal")});`),Ie}(T.textureLayers,c,T)}\n\n\t\t\tvec4 fragColor;\n\n\t\t\t\n\t\t\t${T.normals?`\n\t\t\t\t${T.metallicMaterial?`\n\t\t\t\t\t\n\t\t\t\t\t${c("Material")} material;\n\t\t\t\t\t${c("Geometry")} geometry;\n\t\t\t\t\t${c("ReflectedLight")} reflectedLight = ReflectedLight(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));\n\n\t\t\t\t\tfloat dielectricSpecular = 0.16 * ${c("specularF0")} * ${c("specularF0")};\n\t\t\t\t\tmaterial.diffuseColor = (1.0 - dielectricSpecular) * (1.0 - ${c("metallic")}) * color;\n\n\t\t\t\t\t\n\t\t\t\t\tmaterial.specularRoughness = clamp(sqrt(${c("roughness")}), 0.04, 1.0);\n\t\t\t\t\tmaterial.specularColor = mix(vec3(dielectricSpecular), color, ${c("metallic")});\n\n\t\t\t\t\t\n\t\t\t\t\tgeometry.position = ${c("viewPosition")};\n\t\t\t\t\tgeometry.viewNormal = ${c("adjustedViewNormal")};\n\t\t\t\t\tgeometry.viewEyeDir = -${c("normalizedViewPosition")};\n\n\t\t\t\t\t\n\t\t\t\t\t${T.environmentReflectionMap?`${c("computePBRReflectionMapping")}(\n\t\t\t\t\t\t${c("reflectionMap")},\n\t\t\t\t\t\t${c("reflectionMapIntensity")},\n\t\t\t\t\t\t${c("viewMatrix")},\n\t\t\t\t\t\tgeometry,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight,\n\t\t\t\t\t\t${c("reflectionMapMaxMipLevel")}\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\t\t\t\t\t${T.lightMapSpace?`${c("computePBRLightMapping")}(\n\t\t\t\t\t\t${c("lightMap")},\n\t\t\t\t\t\t${c("lightMapIntensity")},\n\t\t\t\t\t\tgeometry.${"world"===T.lightMapSpace?"worldNormal":"viewNormal"},\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${Fi(T.lights,G=>`{\n\t\t\t\t\t\t${c("IncidentLight")} light;\n\t\t\t\t\t\tlight.color = ${c("lightSource",G)}.color;\n\n\t\t\t\t\t\tif (${c("lightSource",G)}.type == ${Pl.dir}) {\n\t\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\t\tviewLightVec = normalize(${c("lightSource",G)}.position);\n\t\t\t\t\t\t\tif (!${c("lightSource",G)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = (${c("viewMatrix")} * vec4(viewLightVec, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlight.direction = viewLightVec;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${c("lightSource",G)}.position - ${c("worldPosition")};\n\t\t\t\t\t\t\tvec3 viewLightVec = ${c("lightSource",G)}.viewSpace ?\n\t\t\t\t\t\t\t\t(${c("viewMatrix")} * vec4(pointToLight, 0.0)).xyz :\n\t\t\t\t\t\t\t\tpointToLight;\n\t\t\t\t\t\t\tlight.direction = normalize(viewLightVec);\n\n\t\t\t\t\t\t\tfloat lightDist = ${c("lightSource",G)}.type == ${Pl.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tfloat attenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${c("lightSource",G)}.attenuation.x +\n\t\t\t\t\t\t\t\t${c("lightSource",G)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${c("lightSource",G)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${c("lightSource",G)}.type == ${Pl.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${c("viewMatrix")} * vec4(${c("lightSource",G)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), normalize(-viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${c("lightSource",G)}.innerCone) / max(${c("lightSource",G)}.outerCone - ${c("lightSource",G)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlight.color *= attenuation;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t${c("computePBRLighting")}(light, geometry, material, reflectedLight);\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${T.baseFresnel?`reflectedLight.diffuse = ${c("baseFresnelColor")}(reflectedLight.diffuse, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t${T.specularFresnel?`reflectedLight.specular = ${c("specularFresnelColor")}(reflectedLight.specular, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t${T.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${c("alphaFresnelValue")}(alpha, ${c("surfaceToView")}, ${c("adjustedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${T.transparencyFresnel?`transparency = ${c("transparencyFresnelValue")}(transparency, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t${T.emitFresnel?`emitRGB = ${c("emitFresnelColor")}(emitRGB, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 outgoingLight = ${c("occlusion")} * (reflectedLight.diffuse + reflectedLight.specular) +\n\t\t\t\t\t\temit * emitRGB;\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(outgoingLight, alpha);\n\t\t\t\t`:`\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t${T.reflectionMap?`\n\t\t\t\t\t\tfloat reflectFactor = 1.0;\n\t\t\t\t\t\t${T.reflectionFresnel?`reflectFactor = ${c("reflectionFresnelValue")}(reflectFactor, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t\tvec3 envLookup = reflect(-${c("surfaceToView")}, ${c("adjustedViewNormal")}); \n\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec4 envColor = ${c("textureCube")}(${c("reflectionMap")}, envLookup);\n\t\t\t\t\t\tcolor = mix(color, envColor.rgb, reflectFactor * ${c("specular")} * ${c("reflectionMapIntensity")});\n\t\t\t\t\t`:""}\n\n\t\t\t\t\tvec3 lightValue = vec3(0.0, 0.0, 0.0);\n\t\t\t\t\tvec3 specularValue = vec3(0.0, 0.0, 0.0);\n\n\t\t\t\t\t\n\t\t\t\t\t${Fi(T.lights,G=>`{\n\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\tfloat attenuation = 1.0;\n\n\t\t\t\t\t\tif (${c("lightSource",G)}.type == ${Pl.dir}) {\n\t\t\t\t\t\t\tif (${c("lightSource",G)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = ${c("lightSource",G)}.position;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvec3 pointToLight = normalize(-${c("lightSource",G)}.position);\n\t\t\t\t\t\t\t\tviewLightVec = -(${c("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${c("lightSource",G)}.position - ${c("worldPosition")};\n\t\t\t\t\t\t\tviewLightVec = ${c("lightSource",G)}.viewSpace ?\n\t\t\t\t\t\t\t\tpointToLight :\n\t\t\t\t\t\t\t\t(${c("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\n\t\t\t\t\t\t\tfloat lightDist = ${c("lightSource",G)}.type == ${Pl.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tattenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${c("lightSource",G)}.attenuation.x +\n\t\t\t\t\t\t\t\t${c("lightSource",G)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${c("lightSource",G)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${c("lightSource",G)}.type == ${Pl.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${c("viewMatrix")} * vec4(${c("lightSource",G)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), -normalize(viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${c("lightSource",G)}.innerCone) / max(${c("lightSource",G)}.outerCone - ${c("lightSource",G)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tviewLightVec = normalize(viewLightVec);\n\n\t\t\t\t\t\tfloat dotN = max(dot(${c("adjustedViewNormal")}, viewLightVec), 0.0);\n\t\t\t\t\t\tif (${c("lightSource",G)}.diffuse) {\n\t\t\t\t\t\t\tlightValue += dotN * attenuation * ${c("lightSource",G)}.color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (${c("lightSource",G)}.specular) {\n\t\t\t\t\t\t\tfloat specularScale = ${c("specular")} * pow(max(dot(reflect(-viewLightVec, -${c("adjustedViewNormal")}), -${c("normalizedViewPosition")}), 0.0), ${c("shine")}) * attenuation;\n\t\t\t\t\t\t\tspecularValue += ${c("specularColor")} * ${c("lightSource",G)}.color * specularScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${T.baseFresnel?`color.rgb = ${c("baseFresnelColor")}(color.rgb, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t${T.specularFresnel?`specularValue.rgb = ${c("specularFresnelColor")}(specularValue.rgb, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t${T.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${c("alphaFresnelValue")}(alpha, ${c("surfaceToView")}, ${c("adjustedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${T.transparencyFresnel?`transparency = ${c("transparencyFresnelValue")}(transparency, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\t\t\t\t\t${T.emitFresnel?`emitRGB = ${c("emitFresnelColor")}(emitRGB, ${c("surfaceToView")}, ${c("adjustedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(\n\t\t\t\t\t\tspecularValue +\n\t\t\t\t\t\t\tcolor * (lightValue + ${c("ambientLightColor")}) +\n\t\t\t\t\t\t\temit * emitRGB,\n\t\t\t\t\t\talpha\n\t\t\t\t\t);\n\t\t\t\t`}\n\t\t\t`:`\n\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\tfragColor = vec4(\n\t\t\t\t\t(color.rgb + (emit * color.rgb)) * (vec3(1.0) +\n\t\t\t\t\t\t${c("ambientLightColor")}),\n\t\t\t\t\talpha\n\t\t\t\t);\n\t\t\t`}\n\n\t\t\t\n\t\t\t${G=c,de=T,de.modifiers?.map((te,we)=>"opacity"===te.applyTo?(0,is[te.applyTo])(te,we,G,de):"").join("\n\t")}\n\n\t\t\t\n\n\t\t\t${T.clips>0&&"opaque"!==T.alphaMode?`fragColor.a *= ${c("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Xd(c,T,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${function(G,de){return de.modifiers?.map((te,we)=>{if("opacity"!==te.applyTo){const Oe=is[te.applyTo];if(Oe)return Oe(te,we,G,de);console.warn("modifier not implemented",te.applyTo)}return""}).join("\n\t")}(c,T)}\n\n\t\t\t${T.fog?`fragColor.rgb = ${c("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${T.metallicMaterial?`fragColor = ${c("linearToGamma")}(fragColor, 2.2);`:""}\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${c("gl_FragColor")} = fragColor;\n\t\t`;var G,de}};return bc(Pc,(c,T)=>m[c](T,s),{joinShader:Qd(s),...s})},setMaterialUniforms:function(d,s,m){if(d.opacity=s.opacity,d.baseColor=s.baseColor,d.emitColor=s.emitColor,d.glassFactor=s.glassFactor,d.murkiness=s.murkiness,"metallic"===s.type){let T=d.metalRoughSpecularf0;T||(T=d.metalRoughSpecularf0=new Float32Array(3)),T[0]=s.metallic,T[1]=s.roughness,T[2]=s.specularf0}else d.specularColor=s.specularColor,d.phongShine=s.shine;s.textures.forEach((T,G)=>{d["textureBlendFactor"+G]=T.blendFactor;const de=m?.get(T.texture);de?(de.update(),d["textureSampler"+G]=de.webglTexture):delete d["textureSampler"+G]}),bd.forEach(T=>{const G=s[T];G&&Hl.forEach((de,te)=>{d[T+de]=G[te]})});const{reflectionMap:c}=s;c&&(d.reflectionMapIntensity=c.intensity,d.reflectionMapMaxMipLevel=Math.max(0,c.mipLevels-1))},textureKeys:["textures"]});const xd=d=>Fc.get(d.constructor),qd=["shader","geometry","morph","vertexCount","transparency"],Dh={geometry:["shader","morph","vertexCount"],"geometry.*":["geometry","morph","shader"],"geometry.count":["transparency","vertexCount"],"geometry.offset":["vertexCount"],modifier:["shader","transparency"],"modifier.value":["transparency"],material:["shader"],"material.transparent":["transparency"],"material.clippable":["transparency"],"material.opacity":["transparency"],"material.fresnel":["transparency"],visible:["transparency"],morphKeyIndex:["morph"]};class Zd extends fe{constructor(s,{geometryBufferCache:m,shaderResourceCache:c,geometryUniformsCache:T,materialUniformsCache:G,vaoCache:de,alphaModeOptions:te,clippingPlanes:we,textureResourceCache:Oe}){super(),u(this,"programInfo",null),u(this,"bufferInfo",null),u(this,"vertexArrayInfo",null),u(this,"baseBufferInfo",null),u(this,"morphBufferInfo",[]),u(this,"baseVertexArrayInfo",null),u(this,"morphVAOs",[]),u(this,"uniforms",void 0),u(this,"screenPosition",void 0),u(this,"clockwise",!1),u(this,"mesh",void 0),u(this,"worldMatrix",void 0),u(this,"vertexCount",void 0),u(this,"layer",void 0),u(this,"renderOrder",void 0),u(this,"depthMask",void 0),u(this,"blendMode",void 0),u(this,"alphaMode",void 0),u(this,"dirty",void 0),u(this,"topology",void 0),u(this,"offset",void 0),u(this,"count",void 0),u(this,"update",void 0),u(this,"setDirty",void 0);let Ie=null,ze=null,gt=!0,Mt=!1,Nt=s.renderable,zt=null;this.mesh=s;const kt={shader:!0,geometry:!0,vertexCount:!0,transparency:!0,morph:!0},Jt={modelMatrix:s.worldMatrix,normalMatrix:s.normalMatrix},kn=new Map;this.uniforms=[null,null,Jt],this.worldMatrix=s.worldMatrix,this.screenPosition=(0,_.create)(),this.clockwise=s.reflected,this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,this.alphaMode=rs(s,we,te);const Dn=()=>{if(Ie){if(Ie.morphKeys.length>1){const Nr=this.morphBufferInfo;for(let Xr=0;Xr<Nr.length;Xr++)de?.release(s,this.programInfo,Nr[Xr]),m.release(this,Ie,Xr);this.morphVAOs.length=0}de?.release(s,this.programInfo,this.baseBufferInfo),m.release(this,Ie),this.baseBufferInfo=null,this.bufferInfo=null,this.morphBufferInfo.length=0,T.release(s,Ie),this.uniforms[1]=null,Ie=null}},Rn=Nr=>{if(Nr!==Ie){if(Ie&&Dn(),Ie=Nr,Ie){if(Ie.morphKeys.length>1){const Xr=this.morphBufferInfo;for(let ri=0,Br=Ie.morphKeys.length-1;ri<Br;ri++)Xr.push(m.get(this,Ie,ri))}this.baseBufferInfo=m.get(this,Ie),this.uniforms[1]=T.get(s,Ie),this.setDirty("geometry")}else this.uniforms[1]=null;Mt=!!Ie&&s.morphKeyIndex>=0&&Ie.morphKeys.length>1}},Mn=()=>{kn.forEach((Nr,Xr)=>{Oe.release(this,Xr)}),kn.clear(),G.release(s,ze),this.uniforms[0]=null,ze=null,zt=null},Bn=Nr=>{Nr!==ze&&(ze&&Mn(),ze=Nr,zt=xd(Nr),zt.textureKeys.forEach(Xr=>{ze[Xr].forEach(({texture:ri})=>{const Br=Oe?.get(this,ri);Br&&(Br.update(),kn.set(ri,Br))})}),this.uniforms[0]=G.get(s,ze))},Qn=Nr=>{if(this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,!Nr.property)return void this.setDirty();const Xr=[Nr.property+".*"];Xr.push(Nr.detail?Nr.property+"."+Nr.detail:Nr.property);for(let Br=0;Br<Xr.length;Br++){const Sr=Xr[Br];Dh[Sr]?.forEach(this.setDirty)}const ri=Mt;Mt=!!Ie&&s.morphKeyIndex>=0&&Ie.morphKeys.length>1,Mt!==ri&&this.setDirty("shader"),"geometry"===Nr.property?Rn(s.geometry):"material"===Nr.property&&Bn(s.material),gt=!0},dr=()=>{this.clockwise=s.reflected,Nt!==s.renderable&&(Nt=s.renderable,this.setDirty("transparency"))};s.on("change",Qn),s.on("updateWorldMatrix",dr),this.update=()=>{if(!gt)return!1;if(kt.transparency){const Br=rs(s,we,te);Br!==this.alphaMode&&(this.alphaMode=Br,kt.shader=!0),kt.transparency=!1}const Nr=this.programInfo;Nr&&!kt.shader||(Nr&&c.release(s),this.programInfo=c.get(s),kt.shader=!1);let ri=kt.morph;if(Ie&&(kt.geometry||Nr!==this.programInfo)){const{morphBufferInfo:Br,morphVAOs:Sr}=this;if(de){for(let Hr=0;Hr<Sr.length;Hr++)de.release(s,Nr,Br[Hr]);if(Sr.length=0,de.release(s,Nr,this.baseBufferInfo),Mt){for(let Hr=0;Hr<Br.length;Hr++)Sr[Hr]=de.get(s,this.programInfo,Br[Hr])||null;this.baseVertexArrayInfo=null}else this.baseVertexArrayInfo=de.get(s,this.programInfo,this.baseBufferInfo)||null;ri=!0}}if(ri){if(Mt){const{morphKeyIndex:Br}=s;this.bufferInfo=this.morphBufferInfo[Br],this.vertexArrayInfo=de?this.morphVAOs[Br]:null}else this.bufferInfo=this.baseBufferInfo,this.vertexArrayInfo=this.baseVertexArrayInfo;kt.morph=!1}return kt.geometry=!1,kt.vertexCount&&(this.vertexCount=hs(Ie,!1),kt.vertexCount=!1),this.uniforms[0]&&zt.setMaterialUniforms(this.uniforms[0],ze,kn),function(Br,Sr){Sr.modifiers&&Array.from(Sr.modifiers.values()).sort(Na).forEach((ai,ui)=>{if("range"in ai){const ro="modifierCenter"+ui,Zi="modifierRadius"+ui;if(Br[ro]||(Br[ro]=(0,_.create)()),Br[Zi]||(Br[Zi]=(0,fs.create)()),ai.parent){ai.parent.updateWorldMatrix(),(0,_.transformMat4)(Br[ro],ai.range.center,ai.parent.worldMatrix);const No=De.get();(0,W.getScaling)(No,ai.parent.worldMatrix);const wo=(No[0]+No[1]+No[2])/3;De.release(No);const os=ai.range.minRadius*wo;(0,fs.set)(Br[Zi],os,ai.range.maxRadius*wo-os)}else(0,_.copy)(Br[ro],ai.range.center),(0,fs.set)(Br[Zi],ai.range.minRadius,ai.range.maxRadius-ai.range.minRadius)}else"fresnel"in ai&&(Array.isArray(ai.fresnel.center)?(Br["modifierFresnelCenter"+ui]=[...ai.fresnel.center],Br["modifierFresnelEdge"+ui]=[...ai.fresnel.edge]):(Br["modifierFresnelCenter"+ui]=[ai.fresnel.center,0,0],Br["modifierFresnelEdge"+ui]=[ai.fresnel.edge,0,0]),Br["modifierFresnelBiasCenter"+ui]=ai.fresnel.centerBias,Br["modifierFresnelBiasEdge"+ui]=ai.fresnel.edgeBias,Br["modifierFresnelPower"+ui]=ai.fresnel.power);"value"in ai&&(Array.isArray(ai.value)?Br["modifierColorValue"+ui]=ai.value:Br["modifierValue"+ui]="contrast"===ai.applyTo?ai.value+1:ai.value)});const{geometry:Hr}=Sr;if(Hr?.morphKeys.length>1&&Sr.morphKeyIndex>=0){const{morphKeyIndex:ai}=Sr;Br.morphFactor=Sr.morphFactor,Br.decodePositions=Hr.morphKeys[ai].attributes.position?.decodeMat,Br.decodeMorphPositions=Hr.morphKeys[ai+1].attributes.position?.decodeMat}else delete Br.decodePositions,delete Br.decodeMorphPositions;Sr instanceof We&&(Br.pointSize=Sr.pointSize,Br.pointUVScale=Sr.pointUVScale)}(Jt,s),gt=!1,!0},this.setDirty=Nr=>{if(Nr)kt[Nr]||(kt[Nr]=!0,gt=!0,this.emit("dirty",Nr));else for(let Xr=0;Xr<qd.length;Xr++)this.setDirty(qd[Xr])};const Gn=this.destroy;this.destroy=()=>{s.off("change",Qn),s.off("updateWorldMatrix",dr),c.release(s),Mn(),Dn(),Gn()},Object.defineProperties(this,{topology:{get:()=>Ie?.topology||Ke.triangles},offset:{get:()=>Ie?.offset||0},count:{get:()=>Ie?.count||0},dirty:{get:()=>gt},blendMode:{get:()=>ze.blendMode}}),Rn(s.geometry),Bn(s.material)}}const Th=typeof WebGL2RenderingContext<"u";function Js(d){return Th&&d instanceof WebGL2RenderingContext}const Bc=[["blendColor","BLEND_COLOR"],["clearColor","COLOR_CLEAR_VALUE"],["colorMask","COLOR_WRITEMASK"],["depthRange","DEPTH_RANGE"],["scissor","SCISSOR_BOX"],["viewport","VIEWPORT"],["blendEquationSeparate",["BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA"]],["blendFuncSeparate",["BLEND_SRC_RGB","BLEND_SRC_ALPHA","BLEND_DST_RGB","BLEND_DST_ALPHA"]],["polygonOffset",["POLYGON_OFFSET_FACTOR","POLYGON_OFFSET_UNITS"]],["sampleCoverage",["SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT"]]],ea=[["clearDepth","DEPTH_CLEAR_VALUE"],["clearStencil","STENCIL_CLEAR_VALUE"],["cullFace","CULL_FACE_MODE"],["depthFunc","DEPTH_FUNC"],["frontFace","FRONT_FACE"]],Sh=[3042,2884,2929,3024,32823,32926,32928,3089,2960,35977],Sf=new Set([35977]),Lu=class{constructor(d){const s=new Map,m={},c={};let T=null,G=!1;function de(){Sh.forEach(te=>{Sf.has(te)&&!Js(d)||s.set(te,d.isEnabled(te))}),ea.forEach(([te,we])=>{m[te]=d.getParameter(d[we])}),G=d.getParameter(d.DEPTH_WRITEMASK),Bc.forEach(([te,we])=>{"string"==typeof we?c[te]=d.getParameter(d[we]):Array.isArray(we)&&(c[te]=[],we.forEach((Oe,Ie)=>{c[te][Ie]=d.getParameter(d[Oe])}))}),T=null,d.useProgram(null)}this.disable=te=>{s.get(te)&&(d.disable(te),s.set(te,!1))},this.enable=te=>{s.get(te)||(d.enable(te),s.set(te,!0))},this.useProgram=te=>{te!==T&&(T=te,d.useProgram(T))},ea.forEach(([te])=>{this[te]=we=>{m[te]!==we&&(m[te]=we,d[te](we))}}),this.depthMask=te=>{G!==te&&(G=te,d.depthMask(te))},Bc.forEach(([te])=>{this[te]=(...we)=>{const Oe=c[te];let Ie=!0;for(let ze=0,gt=Oe.length;ze<gt;ze++){const Mt=we[ze];Ie=Oe[ze]===Mt&&Ie,Oe[ze]=Mt}Ie||d[te].apply(d,we)}}),de(),this.reset=de,Object.defineProperties(this,{gl:{get:()=>d,set(te){te!==d&&(d=te,de())}}})}blendEquation(d){this.blendEquationSeparate(d,d)}blendFunc(d,s){this.blendFuncSeparate(d,s,d,s)}},Ea=w(5662),Ed=d=>!(d&d-1)&&d>0;var Nc=function(d){return d[d.Nearest=9728]="Nearest",d[d.Linear=9729]="Linear",d[d.NearestMipMapNearest=9984]="NearestMipMapNearest",d[d.LinearMipMapNearest=9985]="LinearMipMapNearest",d[d.NearestMipMapLinear=9986]="NearestMipMapLinear",d[d.LinearMipMapLinear=9987]="LinearMipMapLinear",d}(Nc||{});const Lc={[Ye.Nearest]:Nc.Nearest,[Ye.Linear]:Nc.Linear},Gl={[Ze.ClampToEdge]:33071,[Ze.Repeat]:10497,[Ze.MirrorRepeat]:33648},lm={[Ye.Nearest]:{[Ye.Nearest]:Nc.NearestMipMapNearest,[Ye.Linear]:Nc.NearestMipMapLinear},[Ye.Linear]:{[Ye.Nearest]:Nc.LinearMipMapNearest,[Ye.Linear]:Nc.LinearMipMapLinear}};function Jd(d,s,m){const{width:c,height:T}=s;m||(m=Ct(c,T));const G=Js(d)||Ed(c)&&Ed(T),de=G&&m>=2?lm[s.min][s.mipmapFilter]:Lc[s.min];return G?{width:c,height:T,min:de,mag:Lc[s.mag],wrapS:Gl[s.wrapU],wrapT:Gl[s.wrapV]}:{width:c,height:T,min:de,mag:Lc[s.mag],wrap:d.CLAMP_TO_EDGE}}const sd="WEBGL_compressed_texture_s3tc",Va="WEBGL_compressed_texture_s3tc_srgb",Pa="WEBGL_compressed_texture_etc",eu="WEBGL_compressed_texture_pvrtc",tu="EXT_texture_compression_rgtc",vs="WEBGL_compressed_texture_astc",wl="EXT_texture_compression_bptc",ja=d=>d.getExtension("WEBGL_compressed_texture_astc")?.getSupportedProfiles().includes("hdr"),If=new Map([[Do,[Int8Array]],[xs,[Uint8Array,Uint8ClampedArray]],[pa,[Int16Array]],[Ys,[Uint16Array]],[32819,[Uint16Array]],[32820,[Uint16Array]],[33635,[Uint16Array]],[sa,[Int32Array]],[Sa,[Uint32Array]],[35902,[Uint32Array]],[33640,[Uint32Array]],[35899,[Uint32Array]],[34042,[Uint32Array]],[36193,[Uint16Array]],[5131,[Uint16Array]],[_s,[Float32Array]]]),Uu=[["rgba8unorm",{format:Fo,internalFormat:Fo,type:xs}],["rgba16uint",{format:Fo,internalFormat:Fo,type:32819}]],Rf=[["etc2-rgb8unorm",{format:36196,extension:"WEBGL_compressed_texture_etc1"}],["rgba16float",{format:Fo,internalFormat:Fo,type:36193,extension:"OES_texture_half_float"}],["rgba32float",{format:Fo,internalFormat:Fo,type:_s,extension:"OES_texture_float"}]],ad=[["bc1-rgba-unorm",{format:33776,extension:sd}],["bc1-rgba-unorm-srgb",{format:35916,extension:Va}],["bc2-rgba-unorm",{format:33778,extension:sd}],["bc2-rgba-unorm-srgb",{format:35918,extension:Va}],["bc3-rgba-unorm",{format:33779,extension:sd}],["bc3-rgba-unorm-srgb",{format:35919,extension:Va}],["bc4-r-unorm",{format:36283,extension:tu}],["bc4-r-snorm",{format:36284,extension:tu}],["bc5-rg-unorm",{format:36285,extension:tu}],["bc5-rg-snorm",{format:36286,extension:tu}],["bc6h-rgb-ufloat",{format:36495,extension:wl}],["bc6h-rgb-float",{format:36494,extension:wl}],["bc7-rgba-unorm",{format:36492,extension:wl}],["bc7-rgba-unorm-srgb",{format:36493,extension:wl}],["etc2-rgb8unorm",{format:37492,extension:Pa}],["etc2-rgb8unorm-srgb",{format:37493,extension:Pa}],["etc2-rgb8a1unorm",{format:37494,extension:Pa}],["etc2-rgb8a1unorm-srgb",{format:37495,extension:Pa}],["etc2-rgba8unorm",{format:37496,extension:Pa}],["etc2-rgba8unorm-srgb",{format:37497,extension:Pa}],["eac-r11unorm",{format:37488,extension:Pa}],["eac-r11snorm",{format:37489,extension:Pa}],["eac-rg11unorm",{format:37490,extension:Pa}],["eac-rg11snorm",{format:37491,extension:Pa}],["astc-4x4-unorm",{format:37808,extension:vs}],["astc-5x4-unorm",{format:37809,extension:vs}],["astc-5x5-unorm",{format:37810,extension:vs}],["astc-6x5-unorm",{format:37811,extension:vs}],["astc-6x6-unorm",{format:37812,extension:vs}],["astc-8x5-unorm",{format:37813,extension:vs}],["astc-8x6-unorm",{format:37814,extension:vs}],["astc-8x8-unorm",{format:37815,extension:vs}],["astc-10x5-unorm",{format:37816,extension:vs}],["astc-10x6-unorm",{format:37817,extension:vs}],["astc-10x8-unorm",{format:37818,extension:vs}],["astc-10x10-unorm",{format:37819,extension:vs}],["astc-12x10-unorm",{format:37820,extension:vs}],["astc-12x12-unorm",{format:37821,extension:vs}],["astc-4x4-unorm-srgb",{format:37840,extension:vs}],["astc-5x4-unorm-srgb",{format:37841,extension:vs}],["astc-5x5-unorm-srgb",{format:37842,extension:vs}],["astc-6x5-unorm-srgb",{format:37843,extension:vs}],["astc-6x6-unorm-srgb",{format:37844,extension:vs}],["astc-8x5-unorm-srgb",{format:37845,extension:vs}],["astc-8x6-unorm-srgb",{format:37846,extension:vs}],["astc-8x8-unorm-srgb",{format:37847,extension:vs}],["astc-10x5-unorm-srgb",{format:37848,extension:vs}],["astc-10x6-unorm-srgb",{format:37849,extension:vs}],["astc-10x8-unorm-srgb",{format:37850,extension:vs}],["astc-10x10-unorm-srgb",{format:37851,extension:vs}],["astc-12x10-unorm-srgb",{format:37852,extension:vs}],["astc-12x12-unorm-srgb",{format:37853,extension:vs}],["astc-4x4-hdr",{format:37808,extension:vs,supported:ja}],["astc-5x4-hdr",{format:37809,extension:vs,supported:ja}],["astc-5x5-hdr",{format:37810,extension:vs,supported:ja}],["astc-6x5-hdr",{format:37811,extension:vs,supported:ja}],["astc-6x6-hdr",{format:37812,extension:vs,supported:ja}],["astc-8x5-hdr",{format:37813,extension:vs,supported:ja}],["astc-8x6-hdr",{format:37814,extension:vs,supported:ja}],["astc-8x8-hdr",{format:37815,extension:vs,supported:ja}],["astc-10x5-hdr",{format:37816,extension:vs,supported:ja}],["astc-10x6-hdr",{format:37817,extension:vs,supported:ja}],["astc-10x8-hdr",{format:37818,extension:vs,supported:ja}],["astc-10x10-hdr",{format:37819,extension:vs,supported:ja}],["astc-12x10-hdr",{format:37820,extension:vs,supported:ja}],["astc-12x12-hdr",{format:37821,extension:vs,supported:ja}],["pvrtc-rgb4unorm",{format:35840,extension:eu}],["pvrtc-rgb2unorm",{format:35841,extension:eu}],["pvrtc-rgba4unorm",{format:35842,extension:eu}],["pvrtc-rgba2unorm",{format:35843,extension:eu}]],nu=[["rgba8unorm",{format:Fo,internalFormat:32856,type:xs}],["rgba8snorm",{format:Fo,internalFormat:36759,type:Do}],["rgba8unorm-srgb",{format:Fo,internalFormat:35907,type:xs}],["rgba16uint",{format:ra,internalFormat:36214,type:Ys}],["r8unorm",{format:6403,internalFormat:33321,type:xs}],["r8snorm",{format:6403,internalFormat:36756,type:Do}],["r8uint",{format:Xl,internalFormat:33330,type:xs}],["r8sint",{format:Xl,internalFormat:33329,type:Do}],["r16uint",{format:Xl,internalFormat:33332,type:Ys}],["r16sint",{format:Xl,internalFormat:33331,type:pa}],["r16float",{format:6403,internalFormat:33325,type:5131}],["rg8unorm",{format:ba,internalFormat:33323,type:xs}],["rg8snorm",{format:ba,internalFormat:36757,type:Do}],["rg8uint",{format:ba,internalFormat:Bo,type:xs}],["rg8sint",{format:ba,internalFormat:Bo,type:Do}],["r32uint",{format:Xl,internalFormat:33334,type:Sa}],["r32sint",{format:Xl,internalFormat:33326,type:sa}],["r32float",{format:6403,internalFormat:33326,type:_s}],["rg16uint",{format:Bo,internalFormat:33338,type:Ys}],["rg16sint",{format:Bo,internalFormat:33337,type:pa}],["rg16float",{format:ba,internalFormat:33327,type:5131}],["rgba8uint",{format:ra,internalFormat:36220,type:xs}],["rgba8sint",{format:ra,internalFormat:36238,type:Do}],["rgb9e5ufloat",{format:6407,internalFormat:35901,type:35902}],["rgb10a2uint",{format:ra,internalFormat:36975,type:33640}],["rgb10a2unorm",{format:Fo,internalFormat:32857,type:33640}],["rg11b10ufloat",{format:6407,internalFormat:35898,type:35899}],["rg32uint",{format:Bo,internalFormat:33340,type:Sa}],["rg32sint",{format:Bo,internalFormat:33339,type:sa}],["rg32float",{format:ba,internalFormat:33328,type:_s}],["rgba16sint",{format:ra,internalFormat:36232,type:pa}],["rgba16float",{format:Fo,internalFormat:34842,type:5131}],["rgba32uint",{format:ra,internalFormat:36208,type:Sa}],["rgba32sint",{format:ra,internalFormat:36226,type:sa}],["rgba32float",{format:Fo,internalFormat:34836,type:_s}],["depth16unorm",{format:6402,internalFormat:33189,type:Ys}],["depth24plus",{format:6402,internalFormat:33190,type:Sa}],["depth24plus-stencil8",{format:34041,internalFormat:35056,type:34042}],["depth32float",{format:6402,internalFormat:36012,type:_s}],["depth32float-stencil8",{format:34041,internalFormat:36013,type:36269}]],ru={webgl1:new Map([...Uu,...ad,...Rf]),webgl2:new Map([...Uu,...ad,...nu])},cm=typeof ImageBitmap<"u",Vu=typeof ImageData<"u",Uc=[34069,34070,34071,34072,34073,34074];class Ih{constructor(s,m){u(this,"webglTexture",void 0),u(this,"texture",void 0),u(this,"update",void 0),u(this,"destroy",void 0),this.texture=m;const c=Js(s),T=m instanceof oe,G=T?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,de=T?m.sources:[m.source],te=T?m.levels:m.levels?[m.levels]:null,we=m.format,Oe=z[we],Ie=(c?ru.webgl2:ru.webgl1).get(we);if(!Ie)throw new Error(`Unsupported texture format: ${we}`);const{format:ze,extension:gt}=Ie;if(gt&&!s.getExtension(gt)||Ie.supported&&!Ie.supported(s))throw new Error(`Texture format ${we} not available, missing ${gt} extension.`);const Mt="internalFormat"in Ie?Ie.internalFormat:ze,Nt="type"in Ie?Ie.type:ze,zt=c;de.forEach(Hr=>{if(L(Hr)){const ai=If.get(Nt);if(ai&&!ai.some(ui=>Hr instanceof ui))throw new Error(`Invalid typed array for texture data type 0x${ze.toString(16)}`)}});let kt=zt?null:s.createTexture(),Jt=!0,kn=!0,Dn=!0,Rn=!0,Mn=!1,Bn=!1,Qn=0,dr=0,Gn=0,Nr=0,Xr=0;function ri(){kn=!0,Rn=!0,Dn=!0,Jt=!0}function Br(Hr){Rn=!0,Jt=!0;const{property:ai}=Hr;"min"!==ai&&"mag"!==ai&&"mipmapFilter"!==ai||(Dn=!0)}function Sr(){Dn=!0,Jt=!0}m.on("change",Br),m.on("resize",ri),m.on("update",Sr),this.update=()=>{if(!Jt)return;kt&&s.bindTexture(G,kt);const{width:Hr,height:ai}=m;kn&&(!zt||Nr===Hr&&Xr===ai||(kt&&s.deleteTexture(kt),kt=s.createTexture(),s.bindTexture(G,kt)),Mn=c||Ed(Hr)&&Ed(ai),Mn?te?.[0].length?(dr=te[0].reduce((ro,{level:Zi})=>Math.min(ro,Zi),1/0),Gn=te[0].reduce((ro,{level:Zi})=>Math.max(ro,Zi),dr),Qn=Gn-dr+1):(Qn=Ct(Hr,ai),dr=0,Gn=Qn-1):(Qn=1,dr=0,Gn=0),zt&&(s.texStorage2D(G,Qn,Mt,Hr,ai),Nr=Hr,Xr=ai));const ui={...Jd(s,m,Qn),target:G,auto:!1};if(c&&(ui.minLod=dr,ui.maxLod=Gn),Rn&&((0,Ea.setTextureParameters)(s,kt,ui),m.anisotropy>1)){const ro=s.getExtension("EXT_texture_filter_anisotropic");if(ro){const Zi=Math.min(s.getParameter(ro.MAX_TEXTURE_MAX_ANISOTROPY_EXT),m.anisotropy);s.texParameterf(G,ro.TEXTURE_MAX_ANISOTROPY_EXT,Zi)}}if(Dn){for(let ro=0;ro<de.length;ro++){const Zi=de[ro],No=te?.[ro],wo=T?Uc[ro]:s.TEXTURE_2D;if(No){Bn=!0;for(let os=0;os<Qn;os++){const{src:Ri,width:Ir,height:yi,level:fo}=No[os];Oe.compressed?zt?s.compressedTexSubImage2D(wo,fo,0,0,Ir,yi,Mt,Ri):s.compressedTexImage2D(wo,fo,Mt,Ir,yi,0,Ri):zt?s.texSubImage2D(wo,fo,0,0,Ir,yi,ze,Nt,Ri,0):s.texImage2D(wo,fo,Mt,Ir,yi,0,ze,Nt,Ri)}if(!c){const os=No[No.length-1];let{width:Ri,height:Ir,level:yi}=os;for(;Ri>1||Ir>1;)if(Ri=Math.ceil(Ri/2),Ir=Math.ceil(Ir/2),yi++,Oe.compressed){const fo=Oe.size(Ri,Ir),ia=new Uint8Array(fo);s.compressedTexImage2D(wo,yi,Mt,Ri,Ir,0,ia)}else s.texImage2D(wo,yi,Mt,Ri,Ir,0,ze,Nt,null)}}else if(Zi instanceof HTMLImageElement||Zi instanceof HTMLCanvasElement||Zi instanceof HTMLVideoElement||Vu&&Zi instanceof ImageData||cm&&Zi instanceof ImageBitmap)zt?s.texSubImage2D(wo,0,0,0,Hr,ai,ze,Nt,Zi):s.texImage2D(wo,0,Mt,ze,Nt,Zi);else{if(!L(Zi))throw s.deleteTexture(kt),new Error("Unknown texture source");Oe.compressed?zt?s.compressedTexSubImage2D(wo,0,0,0,Hr,ai,Mt,Zi):s.compressedTexImage2D(wo,0,Mt,Hr,ai,0,Zi):zt?s.texSubImage2D(wo,0,0,0,Hr,ai,ze,Nt,Zi,0):s.texImage2D(wo,0,Mt,Hr,ai,0,ze,Nt,Zi)}}Mn&&!Bn&&ui.min!==s.LINEAR&&ui.min!==s.NEAREST&&s.generateMipmap(G)}s.bindTexture(G,null),kn=!1,Rn=!1,Dn=!1,Jt=!1},this.destroy=()=>{m.off("change",Br),m.off("resize",ri),m.off("update",Sr),s.deleteTexture(kt)},Object.defineProperties(this,{webglTexture:{get:()=>kt}})}}class Vc extends fe{constructor(s){super(),u(this,"get",void 0),u(this,"release",void 0);const m=new ca({key:(T,G)=>G,create:(T,G)=>G?(this.emit("create",{texture:G}),new Ih(s,G)):null,release:T=>{T&&(T.destroy(),this.emit("release",{binding:T}))}});this.get=m.get,this.release=m.release;const c=this.destroy;this.destroy=()=>{m.destroy(),c()}}}class iu extends fe{constructor(s){super(),u(this,"get",void 0),u(this,"release",void 0);const m=new ca({key:(T,G)=>G,create:(T,G)=>(this.emit("create",{texture:G}),new Ih(s,G)),release:T=>{T.destroy(),this.emit("release",{binding:T})}});this.get=m.get,this.release=m.release;const c=this.destroy;this.destroy=()=>{m.destroy(),c()}}}class ld extends fe{constructor(s){super(),u(this,"get",void 0),u(this,"release",void 0);const m=new Map,c=new ye,T=new Map,G=new ca({key:(Oe,Ie,ze)=>((gt,Mt)=>{let Nt=c.get(gt,Mt);return Nt||(Nt=Symbol(),c.set(gt,Mt,Nt),T.set(Nt,{geometry:gt,morphIndex:Mt})),Nt})(Ie,ze),create:(Oe,Ie,ze)=>{if(!Ie.attributes)return null;const{position:gt,normal:Mt,tangent:Nt,...zt}=Ie.attributes;let kt=m.get(Ie);if(!kt){const Rn={...zt};if(Ie.indices&&(Rn.indices=Ie.indices),kt={indicesBuffer:void 0,numElements:void 0,elementType:void 0,attribBuffers:void 0,morphAttribBuffers:new Map,keysUsed:new Set},Object.keys(Rn).length){const Mn=(0,Ea.createBufferInfoFromArrays)(s,Rn),{indices:Bn,numElements:Qn,elementType:dr,attribs:Gn}=Mn;Object.assign(kt,{indicesBuffer:Bn,numElements:Qn,elementType:dr,attribBuffers:Gn})}m.set(Ie,kt),Ie.on("change",te)}const Jt=kt.attribBuffers?{...kt.attribBuffers}:{},kn=ze>=0&&kt.morphAttribBuffers.get(ze);if(kn){const{position:Rn,normal:Mn,tangent:Bn}=kn;Rn&&(Jt.position=Rn),Mn&&(Jt.normal=Mn),Bn&&(Jt.tangent=Bn)}else{const Rn=ze<0?Ie.attributes:Ie.morphKeys[ze].attributes;for(const[Mn,Bn]of Object.entries(Rn))Jt[Mn]||(Jt[Mn]=Bn)}if(ze>=0){const Rn=kt.morphAttribBuffers.get(ze+1)??Ie.morphKeys[ze+1].attributes;Rn.position&&(Jt.morphPosition=Rn.position),Rn.normal&&(Jt.morphNormal=Rn.normal),Rn.tangent&&(Jt.morphTangent=Rn.tangent),kt.keysUsed.add(ze)}const Dn=(0,Ea.createBufferInfoFromArrays)(s,Jt,{indices:kt?.indicesBuffer,elementType:kt?.elementType,numElements:kt?.numElements});return kt.morphAttribBuffers.set(ze,{position:Dn.attribs.position,normal:Dn.attribs.normal,tangent:Dn.attribs.tangent}),ze>=0&&Dn.attribs.morphPosition&&kt.morphAttribBuffers.set(ze+1,{position:Dn.attribs.morphPosition,normal:Dn.attribs.morphNormal,tangent:Dn.attribs.morphTangent}),this.emit("create",{geometry:Ie,morphIndex:ze}),Dn},release:(Oe,Ie)=>{const{geometry:ze,morphIndex:gt}=T.get(Ie);c.delete(ze,gt),T.delete(Ie);const Mt=m.get(ze);if(Mt){const{keysUsed:Nt}=Mt;Nt.delete(gt);for(let zt=gt,kt=gt+1;zt<=kt;zt++)if(!Nt.has(zt)&&!Nt.has(zt-1)){const Jt=Mt.morphAttribBuffers.get(zt);if(Jt){for(const kn of Object.values(Jt))kn?.buffer&&s.deleteBuffer(kn.buffer);Mt.morphAttribBuffers.delete(zt)}}if(!Mt.morphAttribBuffers.size){Mt.indicesBuffer&&s.deleteBuffer(Mt.indicesBuffer);for(const zt of Object.values(Mt.attribBuffers||{}))s.deleteBuffer(zt.buffer)}}Mt?.morphAttribBuffers.size||(m.delete(ze),ze.off("change",te)),this.emit("release",{bufferInfo:Oe,geometry:ze})}});function de(Oe,Ie){const ze=m.get(Oe);for(const Mt in ze.attribBuffers)Object.prototype.hasOwnProperty.call(ze.attribBuffers,Mt)&&(0,Ea.setAttribInfoBufferFromArray)(s,ze.attribBuffers[Mt],Oe.attributes[Mt].data);const gt=ze?.morphAttribBuffers.get(Ie);if(gt){const Mt=Ie<0?Oe.attributes:Oe.morphKeys[Ie].attributes;for(const Nt in gt)Object.prototype.hasOwnProperty.call(gt,Nt)&&gt[Nt]&&(0,Ea.setAttribInfoBufferFromArray)(s,gt[Nt],Mt[Nt].data)}}function te(Oe){const{geometry:Ie,property:ze,morphIndex:gt}=Oe;"attributes"===ze?de(Ie,-1):"morphKey"===ze&&de(Ie,gt)}this.get=(Oe,Ie,ze=-1)=>G.get(Oe,Ie,ze),this.release=(Oe,Ie,ze=-1)=>G.release(Oe,Ie,ze);const we=this.destroy;this.destroy=()=>{G.destroy(),we()}}}class bg extends fe{constructor(s){super(),u(this,"get",void 0),u(this,"release",void 0);const m=s instanceof WebGLRenderingContext&&s.getExtension("OES_vertex_array_object"),c=Js(s)?te=>s.deleteVertexArray(te):m?te=>m.deleteVertexArrayOES(te):()=>{},T=new ye,G=new ca({key:(te,we,Oe)=>((Ie,ze)=>{let gt=T.get(Ie,ze);return gt||(gt=Symbol(),T.set(Ie,ze,gt)),gt})(we,Oe),create:(te,we,Oe)=>te&&we&&Oe?(this.emit("create",{programInfo:we,bufferInfo:Oe}),(0,Ea.createVertexArrayInfo)(s,we,Oe)):null,release:(te,we,Oe,Ie)=>{te&&c(te.vertexArrayObject),T.delete(Oe,Ie),te&&this.emit("release",{vertexArrayInfo:te})}});this.get=G.get,this.release=G.release;const de=this.destroy;this.destroy=()=>{G.destroy(),de()}}}class Rh extends fe{constructor(s,m){function c(de){const te=de.material&&xd(de.material),we=te?.options(de)||null;return m?m(de,we):we}super(),u(this,"get",void 0),u(this,"release",void 0);const T=new ca({key:de=>{const te=de.material?.type||"",we=te&&c(de),Oe=de.material&&xd(de.material);return we?te+"::"+Oe.key(we):""},create:de=>{if(!de||!de.material)return null;const te=c(de),we=xd(de.material).shader(te);if(!we)return null;const{frag:Oe,vert:Ie}=we,ze=(0,Ea.createProgramInfo)(s,[Ie,Oe]);return this.emit("create",{programInfo:ze}),ze},release:de=>{de&&s.deleteProgram(de.program),this.emit("release",{programInfo:de})},timeout:18e5});this.get=de=>T.get(de),this.release=de=>T.release(de);const G=this.destroy;this.destroy=()=>{T.destroy(),G()}}}const jc={[Ke.points]:0,[Ke.lines]:1,[Ke.lineLoop]:2,[Ke.lineStrip]:3,[Ke.triangles]:4,[Ke.triangleStrip]:5,[Ke.triangleFan]:6};function wd(d,s,m){return void 0===s?d:"function"==typeof s?s(m):s}function fl(d,s,m={}){const{beforeRender:c,glState:T=d}=m,G=!Js(d)&&d.getExtension("OES_vertex_array_object")||null,de=Js(d)||!!G;return function(te,we,...Oe){let Ie=null,ze=null,gt=null,Mt=!1;T.frontFace(d.CCW);const Nt=[];for(const zt of te){const kt=wd(zt.programInfo,m.programInfo,zt),Jt=wd(zt.bufferInfo,m.bufferInfo,zt),kn=wd(zt.vertexArrayInfo,m.vertexArrayInfo,zt),Dn=wd(zt.uniforms,m.uniforms,zt),Rn=!!wd(zt.clockwise,m.clockwise,zt),Mn=kt!==Ie;if(Mn&&(Ie=kt,T.useProgram(kt.program),we&&((0,Ea.setUniforms)(kt,we),Nt.length=0)),Rn!==Mt&&(Mt=Rn,T.frontFace(Rn?d.CW:d.CCW)),kn&&de&&kt===zt.programInfo?kn!==gt&&((0,Ea.setBuffersAndAttributes)(d,kt,kn),gt=kn):(Mn||Jt!==ze)&&(ze=Jt,(0,Ea.setBuffersAndAttributes)(d,kt,Jt)),c&&c(zt,kt,kn||Jt,Dn,...Oe),Array.isArray(Dn))for(let Bn=0;Bn<Dn.length;Bn++){const Qn=Dn[Bn];(Bn>=Nt.length||Qn!==Nt[Bn])&&(Nt.length=Bn,Nt[Bn]=Qn,Qn&&(0,Ea.setUniforms)(kt,Qn))}else Dn&&(0,Ea.setUniforms)(kt,Dn);s(zt,kt,kn||Jt,Dn,...Oe)}de&&(G?G.bindVertexArrayOES(null):d.bindVertexArray(null))}}function Of(d,s){return fl(d,(m,c,T)=>{0!==m.count&&(0,Ea.drawBufferInfo)(d,T,jc[m.topology],m.count,m.offset)},s)}const Cd=d=>({blurCoefficient:d.blur??.1,texelOffset:new Float32Array([0,0])}),rc={passes:[{shader:"blur",uniforms:Cd,sourceTexture:"source",resize(d,s){d.texelOffset[0]=1/s}},{shader:"blur",uniforms:Cd,sourceTexture:"source",resize(d,s,m){d.texelOffset[1]=1/m}}],shaders:{blur:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0), MAX_BLUR);\n\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\tfloat count = 0.0;\n\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tcolor /= count;\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},ju=d=>({focusStart:d.focusStart??90*ut,focusEnd:d.focusEnd??130*ut,blurCoefficient:d.blur??.1,texelOffset:new Float32Array([0,0]),depthRange:new Float32Array([0,0])}),ou={passes:[{shader:"dof",uniforms:ju,sourceTexture:"source",depthTexture:"depthTex",resize(d,s){d.texelOffset[0]=1/s}},{shader:"dof",uniforms:ju,sourceTexture:"source",depthTexture:"depthTex",resize(d,s,m){d.texelOffset[1]=1/m}}],camera(d,s){d.depthRange[0]=s.near,d.depthRange[1]=s.far},shaders:{dof:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float focusStart;\n\t\tuniform float focusEnd;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform sampler2D depthTex;\n\t\tuniform vec2 texelOffset;\n\t\tuniform vec2 depthRange;\n\t\tvoid main() {\n\t\t\t\n\t\t\tfloat ndc = 2.0 * texture2D(depthTex, uv).r - 1.0;\n\t\t\tfloat depth = -(2.0 * depthRange.y * depthRange.x) / (ndc * (depthRange.y - depthRange.x) - depthRange.y - depthRange.x);\n\t\t\tfloat deltaDepth = max(depth - focusEnd, 0.0) + max(focusStart - depth, 0.0);\n\t\t\t\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tif (ndc < 1.0 && deltaDepth > 0.0) {\n\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * deltaDepth), MAX_BLUR);\n\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\tfloat count = 0.0;\n\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tcolor /= count;\n\t\t\t} else {\n\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t}\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},Hu=d=>({blurParams:new Float32Array([d.center?.[0]||0,d.center?.[1]||0,d.radius??.2,d.blur??.1]),texelParams:new Float32Array([0,0,0])}),Pf={passes:[{shader:"radialBlur",uniforms:Hu,sourceTexture:"source",resize(d,s,m){const c=s/m;d.texelParams[0]=c/s,d.texelParams[2]=c}},{shader:"radialBlur",uniforms:Hu,sourceTexture:"source",resize(d,s,m){const c=s/m;d.texelParams[1]=1/m,d.texelParams[2]=c}}],shaders:{radialBlur:"\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\t#define MAX_BLUR 20.0\n\t\t\tvarying vec2 uv;\n\t\t\tuniform sampler2D source;\n\t\t\tuniform vec4 blurParams;\n\t\t\tuniform vec3 texelParams;\n\t\t\tvoid main() {\n\t\t\t\tvec2 center = blurParams.xy;\n\t\t\t\tfloat radius = blurParams.z;\n\t\t\t\tfloat blurCoefficient = blurParams.w;\n\t\t\t\tvec2 texelOffset = texelParams.xy;\n\t\t\t\tfloat aspect = texelParams.z;\n\t\t\t\tvec2 pos = uv * 2.0 - 1.0;\n\t\t\t\tpos.x *= aspect;\n\t\t\t\tfloat r = length(pos - center);\n\t\t\t\tfloat deltaR = max(r - radius, 0.0);\n\t\t\t\t\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tif (deltaR > 0.0) {\n\t\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0 * deltaR), MAX_BLUR);\n\t\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\t\tfloat count = 0.0;\n\t\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t\tcolor /= count;\n\t\t\t\t} else {\n\t\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t\t}\n\t\t\t\tgl_FragColor = color;\n\t\t\t}".replace(/\n\t{3}/g,"\n").trim()}},kf=new Map([[10,[1.5,3,12]],[11,[1,1.5,3,12]],[12,[1,1.5,2,4,12]],[13,[1,1.5,2,2,4,12]],[14,[1,1.5,2,2,2,4,12]],[15,[1,1.5,2,2,2,2,4,12]],[20,[1.5,2,8]],[21,[1,1.5,2,8]],[22,[1,1.5,2,2,8]],[23,[1,1.5,2,2,2,8]],[24,[1,1.5,2,2,2,3,8]],[25,[1,1.5,2,2,2,2,4,8]],[26,[1,1.5,2,2,2,2,2,4,8]],[27,[1,1.5,2,2,2,2,2,2,4,8]],[28,[1,1.5,2,2,2,2,2,2,2,4,8]],[29,[1,1.5,2,2,2,2,2,2,2,2,4,8]],[39,[1,1,1,1,1,1.5,2,2,2,2,4,8]]]),Ff={passes:[{shader:"fxaa",uniforms:()=>({texelOffset:new Float32Array([0,0])}),sourceTexture:"source"}],shaders:{fxaa:function(d=25){const s=kf.get(d);if(!s)throw new Error("Undefined FXAA quality preset "+d);const[m,c,...T]=s;return`\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\n\t\tvarying vec2 uv;\n\n\t\tconst float fxaaQualitySubpix = 0.75;\n\t\tconst float fxaaQualityEdgeThreshold = 0.125;\n\t\tconst float fxaaQualityEdgeThresholdMin = 0.0;\n\n\t\t#define FxaaBool bool\n\t\t#define FxaaFloat float\n\t\t#define FxaaFloat2 vec2\n\t\t#define FxaaFloat3 vec3\n\t\t#define FxaaFloat4 vec4\n\t\t#define FxaaHalf float\n\t\t#define FxaaHalf2 vec2\n\t\t#define FxaaHalf3 vec3\n\t\t#define FxaaHalf4 vec4\n\t\t#define FxaaInt2 vec2\n\t\t#define FxaaTex sampler2D\n\n\t\t#define FxaaSat(x) clamp(x, 0.0, 1.0)\n\t\t#define FxaaTexTop(t, p) texture2D(t, p)\n\t\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\n\t\t#define lumaM rgbyM.y\n\n\t\t#define FXAA_QUALITY_P0 ${Vn(m)}\n\t\t#define FXAA_QUALITY_P1 ${Vn(c)}\n\n\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\n\t\tFxaaFloat4 FxaaPixelShader(\n\t\t\n\t\tFxaaFloat2 pos,\n\t\t\n\t\tFxaaTex tex,\n\t\t\n\t\tFxaaFloat2 fxaaQualityRcpFrame,\n\t\t\n\t\tFxaaFloat fxaaQualitySubpix,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThreshold,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThresholdMin\n\t\t) {\n\t\t\t\n\t\t\tFxaaFloat2 posM;\n\t\t\tposM.x = pos.x;\n\t\t\tposM.y = pos.y;\n\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat maxSM = max(lumaS, lumaM);\n\t\t\tFxaaFloat minSM = min(lumaS, lumaM);\n\t\t\tFxaaFloat maxESM = max(lumaE, maxSM);\n\t\t\tFxaaFloat minESM = min(lumaE, minSM);\n\t\t\tFxaaFloat maxWN = max(lumaN, lumaW);\n\t\t\tFxaaFloat minWN = min(lumaN, lumaW);\n\t\t\tFxaaFloat rangeMax = max(maxWN, maxESM);\n\t\t\tFxaaFloat rangeMin = min(minWN, minESM);\n\t\t\tFxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n\t\t\tFxaaFloat range = rangeMax - rangeMin;\n\t\t\tFxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n\t\t\tFxaaBool earlyExit = range < rangeMaxClamped;\n\t\t\t\n\t\t\tif(earlyExit)\n\t\t\t\treturn rgbyM;\n\t\t\t\n\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat lumaNS = lumaN + lumaS;\n\t\t\tFxaaFloat lumaWE = lumaW + lumaE;\n\t\t\tFxaaFloat subpixRcpRange = 1.0/range;\n\t\t\tFxaaFloat subpixNSWE = lumaNS + lumaWE;\n\t\t\tFxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n\t\t\tFxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n\t\t\t\n\t\t\tFxaaFloat lumaNESE = lumaNE + lumaSE;\n\t\t\tFxaaFloat lumaNWNE = lumaNW + lumaNE;\n\t\t\tFxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n\t\t\tFxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n\t\t\t\n\t\t\tFxaaFloat lumaNWSW = lumaNW + lumaSW;\n\t\t\tFxaaFloat lumaSWSE = lumaSW + lumaSE;\n\t\t\tFxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n\t\t\tFxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n\t\t\tFxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n\t\t\tFxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n\t\t\tFxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n\t\t\tFxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n\t\t\t\n\t\t\tFxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n\t\t\tFxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n\t\t\tFxaaBool horzSpan = edgeHorz >= edgeVert;\n\t\t\tFxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n\t\t\t\n\t\t\tif(!horzSpan) lumaN = lumaW;\n\t\t\tif(!horzSpan) lumaS = lumaE;\n\t\t\tif(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n\t\t\tFxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n\t\t\t\n\t\t\tFxaaFloat gradientN = lumaN - lumaM;\n\t\t\tFxaaFloat gradientS = lumaS - lumaM;\n\t\t\tFxaaFloat lumaNN = lumaN + lumaM;\n\t\t\tFxaaFloat lumaSS = lumaS + lumaM;\n\t\t\tFxaaBool pairN = abs(gradientN) >= abs(gradientS);\n\t\t\tFxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n\t\t\tif(pairN) lengthSign = -lengthSign;\n\t\t\tFxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n\t\t\t\n\t\t\tFxaaFloat2 posB;\n\t\t\tposB.x = posM.x;\n\t\t\tposB.y = posM.y;\n\t\t\tFxaaFloat2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\t\t\tif(!horzSpan) posB.x += lengthSign * 0.5;\n\t\t\tif( horzSpan) posB.y += lengthSign * 0.5;\n\t\t\t\n\t\t\tFxaaFloat2 posN;\n\t\t\tposN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n\t\t\tposN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat2 posP;\n\t\t\tposP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n\t\t\tposP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n\t\t\tFxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n\t\t\tFxaaFloat subpixE = subpixC * subpixC;\n\t\t\tFxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n\t\t\t\n\t\t\tif(!pairN) lumaNN = lumaSS;\n\t\t\tFxaaFloat gradientScaled = gradient * 1.0/4.0;\n\t\t\tFxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n\t\t\tFxaaFloat subpixF = subpixD * subpixE;\n\t\t\tFxaaBool lumaMLTZero = lumaMM < 0.0;\n\t\t\t\n\t\t\tlumaEndN -= lumaNN * 0.5;\n\t\t\tlumaEndP -= lumaNN * 0.5;\n\t\t\tFxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tFxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n\t\t\tFxaaBool doneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n\t\t\t${function G(de){if(!de.length)return"";const[te,...we]=de,Oe=Vn(te);return`if(doneNP) {\n\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * ${Oe};\n\t\t\tif(!doneN) posN.y -= offNP.y * ${Oe};\n\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * ${Oe};\n\t\t\tif(!doneP) posP.y += offNP.y * ${Oe};\n\t\t\t${G(we)}\n\t\t}\n`}(T)}\n\t\t\tFxaaFloat dstN = posM.x - posN.x;\n\t\t\tFxaaFloat dstP = posP.x - posM.x;\n\t\t\tif(!horzSpan) dstN = posM.y - posN.y;\n\t\t\tif(!horzSpan) dstP = posP.y - posM.y;\n\t\t\t\n\t\t\tFxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLength = (dstP + dstN);\n\t\t\tFxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLengthRcp = 1.0/spanLength;\n\t\t\t\n\t\t\tFxaaBool directionN = dstN < dstP;\n\t\t\tFxaaFloat dst = min(dstN, dstP);\n\t\t\tFxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n\t\t\tFxaaFloat subpixG = subpixF * subpixF;\n\t\t\tFxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n\t\t\tFxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n\t\t\t\n\t\t\tFxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n\t\t\tFxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n\t\t\tif(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n\t\t\tif( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n\t\t\treturn FxaaTexTop(tex, posM);\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tuv,\n\t\t\t\t\tsource,\n\t\t\t\t\ttexelOffset,\n\t\t\t\t\tfxaaQualitySubpix,\n\t\t\t\t\tfxaaQualityEdgeThreshold,\n\t\t\t\t\tfxaaQualityEdgeThresholdMin);\n\t\t}\n\t`.replace(/\n\t{2}/g,"\n").trim()}(25)}},ic=["VERTEX_SHADER","FRAGMENT_SHADER"],Gu=/ERROR:\s*\d+:(\d+)/gi;function zu(d,s){const m=s.map((T,G)=>{const te=d.createShader(d[ic[G]]);return d.shaderSource(te,T),d.compileShader(te),te}),c=d.createProgram();if(m.forEach(T=>{d.attachShader(c,T)}),d.linkProgram(c),!d.getProgramParameter(c,d.LINK_STATUS)){let T=!1;if(m.forEach((G,de)=>{if(!d.getShaderParameter(G,d.COMPILE_STATUS)){T=!0;const te=d.getShaderInfoLog(G),we="Error compiling: "+ic[de]+":\n"+te+"\n"+function(Oe,Ie=""){const ze=[...Ie.matchAll(Gu)],gt=new Map(ze.map((Mt,Nt)=>{const zt=parseInt(Mt[1],10),kt=ze[Nt+1];return[zt-1,Ie.substring(Mt.index,kt?kt.index:Ie.length)]}));return Oe.split("\n").map((Mt,Nt)=>{const zt=gt.get(Nt);return`${Nt+1}: ${Mt}${zt?`\n\n^^^ ${zt}`:""}`}).join("\n")}(d.getShaderSource(G));console.error(we)}d.deleteShader(G)}),!T){const G=d.getProgramInfoLog(c);console.error(`Error in program linking: ${G}`)}return d.deleteProgram(c),m.forEach(G=>{d.deleteShader(G)}),null}return(0,Ea.createProgramInfoFromProgram)(d,c)}const Ad={blur:rc,dof:ou,radialBlur:Pf,fxaa:Ff};function Cl(d){d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE)}class Md{constructor(s,m){u(this,"enabled",!0),u(this,"setPipeline",void 0),u(this,"begin",void 0),u(this,"render",void 0),u(this,"destroy",void 0);const c=m?.glState||s,T=Js(s),G=T||!!s.getExtension("WEBGL_depth_texture")||!!s.getExtension("WEBKIT_WEBGL_depth_texture"),de=s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT,te=(0,Ea.createBufferInfoFromArrays)(s,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),we=new ye,Oe=[],Ie=[],ze=T&&s.getParameter(s.MAX_SAMPLES)||1;let gt=null,Mt=0,Nt=0,zt=!0,kt=!1,Jt=null,kn=null,Dn=null,Rn=null,Mn=null,Bn=null;function Qn(){for(;Oe.length;){const{frameBuffer:ri,texture:Br}=Oe.pop();s.deleteFramebuffer(ri),s.deleteTexture(Br)}}function dr(){Jt&&(s.deleteFramebuffer(Jt),Jt=null),Rn&&(s.deleteFramebuffer(Rn),Rn=null),kn&&(s.deleteRenderbuffer(kn),kn=null),Mn&&(s.deleteRenderbuffer(Mn),Mn=null),Dn&&(s.deleteTexture(Dn),Dn=null),Bn&&(s.deleteTexture(Bn),Bn=null),Qn(),we.forEach(ri=>{s.deleteProgram(ri.program)}),we.clear()}const Gn=()=>{this.setPipeline(gt)};s.canvas.addEventListener("webglcontextlost",dr,!1),s.canvas.addEventListener("webglcontextrestored",Gn,!1);let Nr=0;const Xr=Of(s,{beforeRender(ri,Br,Sr,Hr){const ai=Oe.length?(Nr+1)%Oe.length:0;ri.sourceTexture&&(Hr[ri.sourceTexture]=ri.first?Dn:Oe[Nr].texture),ri.depthTexture&&(Hr[ri.depthTexture]=Bn),s.bindFramebuffer(s.FRAMEBUFFER,ri.last?null:Oe[ai].frameBuffer),c.viewport(0,0,Mt,Nt),c.depthMask(!0),s.clear(de),c.depthMask(!1),Nr=ai},glState:c});this.setPipeline=ri=>{gt=ri,Ie.length=0,zt=!0,kt=G&&!T,gt?.forEach(Br=>{const Sr=Ad[Br.effect];if(!Sr)return void console.warn("Unknown postprocess effect: "+Br.effect);if("fxaa"===Br.effect&&T)return;const Hr=Sr.passes.some(({depthTexture:ai})=>!!ai);!Hr||G?(Hr&&(kt=!0),Sr.passes.forEach(ai=>{let ui=we.get(Br.effect,ai.shader);ui||(ui=zu(s,["\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n\tuv = position * vec2(0.5) + vec2(0.5);\n\tgl_Position = vec4(position, 0.0, 1.0);\n}",Sr.shaders[ai.shader]]),we.set(Br.effect,ai.shader,ui));const ro="function"==typeof ai.uniforms?ai.uniforms(Br):Object.assign({},ai.uniforms),Zi=ai.resize||Sr.resize;Zi&&Zi(ro,Mt,Nt);const No=ai.camera||Sr.camera,{sourceTexture:wo,depthTexture:os}=ai;Ie.push({bufferInfo:te,programInfo:ui,uniforms:ro,topology:Ke.triangles,resize:Zi,camera:No,sourceTexture:wo,depthTexture:os,first:!1,last:!1})})):console.warn("Unsupported postprocess effect: "+Br.effect)}),Ie.length&&(Ie[0].first=!0,Ie[Ie.length-1].last=!0)},this.begin=()=>{if(!Ie.length||!this.enabled)return;const ri=s.drawingBufferWidth,Br=s.drawingBufferHeight,Sr=Mt!==ri||Nt!==Br;(Sr||zt)&&(Mt=ri,Nt=Br,zt=!1,Jt||(Jt=s.createFramebuffer(),T&&(kn=s.createRenderbuffer(),Rn=s.createFramebuffer()),Dn=s.createTexture()),kt?(Bn||(Bn=s.createTexture()),T||(s.deleteRenderbuffer(Mn),Mn=null)):Bn&&(s.deleteTexture(Bn),Bn=null),Mn||kt&&!T||(Mn=s.createRenderbuffer()),s.bindFramebuffer(s.FRAMEBUFFER,Jt),T?(s.bindRenderbuffer(s.RENDERBUFFER,Mn),s.renderbufferStorageMultisample(s.RENDERBUFFER,ze,s.DEPTH_COMPONENT24,Mt,Nt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,Mn),s.bindRenderbuffer(s.RENDERBUFFER,kn),s.renderbufferStorageMultisample(s.RENDERBUFFER,ze,s.RGBA8,Mt,Nt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,kn),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,Rn),s.bindTexture(s.TEXTURE_2D,Dn),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,Mt,Nt,0,s.RGBA,s.UNSIGNED_BYTE,null),Cl(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Dn,0),kt&&(s.bindTexture(s.TEXTURE_2D,Bn),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT24,Mt,Nt,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),Cl(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Bn,0))):(s.bindTexture(s.TEXTURE_2D,Dn),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,Mt,Nt,0,s.RGBA,s.UNSIGNED_BYTE,null),Cl(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Dn,0),s.bindTexture(s.TEXTURE_2D,null),kt?(s.bindTexture(s.TEXTURE_2D,Bn),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT,Mt,Nt,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),Cl(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Bn,0),s.bindTexture(s.TEXTURE_2D,null)):(s.bindRenderbuffer(s.RENDERBUFFER,Mn),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_COMPONENT16,Mt,Nt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,Mn),s.bindRenderbuffer(s.RENDERBUFFER,null))),Ie.forEach(Hr=>{Hr.resize&&Hr.resize(Hr.uniforms,Mt,Nt)}),Sr&&Qn()),s.bindFramebuffer(s.FRAMEBUFFER,Jt)},this.render=ri=>{if(!Ie.length||!this.enabled)return;const Br=Math.min(2,Ie.length-1);for(let Sr=Oe.length;Sr<Br;Sr++){const Hr=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,Hr);const ai=s.createTexture();s.bindTexture(s.TEXTURE_2D,ai),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,Mt,Nt,0,s.RGBA,s.UNSIGNED_BYTE,null),Cl(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,ai,0),s.bindTexture(s.TEXTURE_2D,null),Oe.push({frameBuffer:Hr,texture:ai})}if(Ie.forEach(Sr=>{Sr.camera&&Sr.camera(Sr.uniforms,ri)}),Nr=0,T){const Sr=kt?de:s.COLOR_BUFFER_BIT;s.bindFramebuffer(s.READ_FRAMEBUFFER,Jt),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,Rn),s.blitFramebuffer(0,0,Mt,Nt,0,0,Mt,Nt,Sr,s.NEAREST),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}c.disable(s.CULL_FACE),c.disable(s.DEPTH_TEST),Xr(Ie),s.bindFramebuffer(s.FRAMEBUFFER,null)},this.destroy=()=>{s.canvas.removeEventListener("webglcontextlost",dr,!1),s.canvas.removeEventListener("webglcontextrestored",Gn,!1),dr()}}}const Zo=["lightMap","reflectionMap"];class su extends fe{constructor(s,m){super(),u(this,"fog",void 0),u(this,"lightMap",void 0),u(this,"reflectionMap",void 0),u(this,"release",void 0),u(this,"restore",void 0);const c={lightMap:null,reflectionMap:null};["lightMap","reflectionMap"].forEach(de=>{const te={},we=de+"Intensity",Oe=de+"MaxMipLevel";s[we]=0,s[Oe]=0;let Ie="world";Object.defineProperties(te,{texture:{get:()=>c[de],set:ze=>{const gt=c[de],Mt=!!gt;if(gt&&(m.release(de,gt),s[de]=null),c[de]=ze||null,ze){const Nt=m.get(de,ze);Nt.update(),s[de]=Nt.webglTexture}Mt!==!!ze&&this.emit("change",{property:de})}},intensity:{get:()=>s[we],set:ze=>{s[we]=ze}},mipLevels:{get:()=>s[Oe],set:ze=>{s[Oe]=Math.max(0,ze-1)}},space:{get:()=>Ie,set:ze=>{ze!==Ie&&(Ie=ze,this.emit("change",{property:de}))}}}),Object.defineProperty(this,de,{writable:!1,value:te})});const T={mode:"",color:new Float32Array([1,1,1]),density:.01,start:0,end:1e3,min:0,max:1};Object.keys(T).forEach(de=>{s["fog."+de]=T[de]}),Object.defineProperty(this,"fog",{writable:!1,value:new Proxy(T,{set:(de,te,we)=>{let Oe=!1;return"color"===te?((0,_.copy)(s["fog.color"],we),Oe=!0):te in de&&de[te]!==we&&(de[te]=we,s["fog."+te]=we,Oe=!0),Oe&&this.emit("change",{property:"fog",detail:te}),!0}})}),this.release=()=>{Zo.forEach(de=>{const te=c[de];te&&m.release(de,te)})},this.restore=()=>{Zo.forEach(de=>{const te=c[de];if(te){const we=m.get(de,te);we.update(),s[de]=we.webglTexture}})};const G=this.destroy;this.destroy=()=>{this.release(),G()}}}const Hc={antialias:!0,powerPreference:"high-performance"};function kl(d,s){const{contextName:m,...c}=s||{},T=m?[m]:["webgl2","webgl","experimental-webgl"];let G=null,de="";function te(Oe){de=Oe.statusMessage||""}d.addEventListener("webglcontextcreationerror",te);for(let Oe=0;Oe<T.length;++Oe)if(G=d.getContext(T[Oe],{...Hc,...c}),G){(0,Ea.addExtensionsToContext)(G);break}if(d.removeEventListener("webglcontextcreationerror",te),!G)throw new Error("Unable to initialize WebGL: "+(de||"unknown error"));return G}function Ba(d,s){const m=De.get(),{min:c,max:T}=s;for(let G=0;G<d.length;G++){const de=d[G];if(m[0]=de[0]>0?T[0]:c[0],m[1]=de[1]>0?T[1]:c[1],m[2]=de[2]>0?T[2]:c[2],al(de,m)<0)return De.release(m),!1}return De.release(m),!0}function Oh(d,s,m){const c=d.get(m);return!!c?.renderable&&Ba(s,c.worldBounds)}function Gc(d,s){return d.has(s)||d.set(s,d.size),d.get(s)}function Ha(d){const s=new Map,m=new Map,c=new Map;return d.sort((T,G)=>{if(T.vertexArrayInfo&&G.vertexArrayInfo){if(T.vertexArrayInfo!==G.vertexArrayInfo){const de=Gc(c,T.vertexArrayInfo),te=Gc(c,G.vertexArrayInfo);if(de!==te)return de-te}}else{if(T.programInfo!==G.programInfo){const de=Gc(s,T.programInfo),te=Gc(s,G.programInfo);if(de!==te)return de-te}if(T.bufferInfo!==G.bufferInfo){const de=Gc(m,T.bufferInfo),te=Gc(m,G.bufferInfo);if(de!==te)return de-te}}return T.screenPosition[2]-G.screenPosition[2]}),d}function Dd(d,s){return d.has(s)||d.set(s,d.size),d.get(s)}const Ph={alpha:{noDepthMask:!1,orderDependent:!0,twoPass:!1},addAlpha:{noDepthMask:!0,orderDependent:!1,twoPass:!1},improvedAlpha:{noDepthMask:!0,orderDependent:!0,twoPass:!0}};function Td(d,...s){let m=ar.Alpha;for(let G=0;G<s.length;G++){const de=s[G];if(de===ar.Alpha||de===ar.AddAlpha||de===ar.ImprovedAlpha){m=de;break}}let c=!1;const T=Ph[m];for(const G in T)Object.prototype.hasOwnProperty.call(T,G)&&d[G]!==T[G]&&(d[G]=T[G],c=!0);return c}const Bf=(0,D.create)();function kh(d,s,m=0){let c=0;d.forEach(G=>{"ambient"!==G.type&&c++});let T=0;(0,_.set)(s.legacyAmbientLightColor,0,0,0);for(const G of d){const{type:de,color:te}=G;if("ambient"===de)(0,_.add)(s.legacyAmbientLightColor,s.legacyAmbientLightColor,te);else{G.updateWorldMatrix();const we="legacyLightSource"+T;s[we+".type"]=Pl[de],s[we+".viewSpace"]=!!G.viewSpace;const Oe=we+".position";s[Oe]||(s[Oe]=(0,_.create)()),(0,W.getTranslation)(s[Oe],G.worldMatrix);const Ie=we+".color";s[Ie]?(0,_.copy)(s[Ie],te):s[Ie]=(0,_.clone)(te);const ze=we+".attenuation";if(s[ze]||(s[ze]=new Float32Array(3)),s[ze][0]=G.constantAttenuation,s[ze][1]=G.linearAttenuation,s[ze][2]=G.quadraticAttenuation,s[we+".diffuse"]=G.diffuse,s[we+".specular"]=G.specular,"spot"===de){const gt=we+".direction";s[gt]?(0,_.set)(s[gt],0,0,-1):(s[gt]=(0,_.create)(),s[gt][2]=-1),(0,W.getRotation)(Bf,G.worldMatrix),(0,_.transformQuat)(s[gt],s[gt],Bf),s[we+".outerCone"]=G.outerCone,s[we+".innerCone"]=G.innerCone}else s[we+".direction"]=[0,0,0],s[we+".outerCone"]=0,s[we+".innerCone"]=0;T++}}for(;T<m;T++){const G="legacyLightSource"+T;delete s[G+".type"],delete s[G+".intensity"],delete s[G+".range"],delete s[G+".color"],delete s[G+".position"],delete s[G+".direction"],delete s[G+".outerCone"],delete s[G+".innerCone"]}return c}const $u=(0,D.create)();function Wu(d,s,m=0){let c=0;d.forEach(G=>{G instanceof mi||c++});let T=0;(0,_.set)(s.ambientLightColor,0,0,0);for(const G of d){const{type:de,color:te}=G;if(G instanceof mi)(0,_.scaleAndAdd)(s.ambientLightColor,s.ambientLightColor,te,G.intensity);else{G.updateWorldMatrix();const we="lightSource"+T;s[we+".type"]=id[de];const Oe=we+".position";s[Oe]||(s[Oe]=(0,_.create)()),(0,W.getTranslation)(s[Oe],G.worldMatrix);const Ie=we+".color";s[Ie]?(0,_.copy)(s[Ie],te):s[Ie]=(0,_.clone)(te),s[we+".intensity"]=G.intensity;const ze=we+".direction";if(s[ze]||(s[ze]=(0,_.create)()),(0,W.getRotation)($u,G.worldMatrix),(0,_.set)(s[ze],0,0,-1),(0,_.transformQuat)(s[ze],s[ze],$u),G instanceof xe){const gt=Math.cos(G.outerConeAngle),Mt=Math.cos(G.outerConeAngle-G.penumbraAngle);s[we+".outerConeCos"]=gt,s[we+".innerConeCos"]=Mt}else s[we+".outerCone"]=0,s[we+".innerCone"]=0;T++}}for(;T<m;T++){const G="lightSource"+T;delete s[G+".type"],delete s[G+".intensity"],delete s[G+".color"],delete s[G+".position"],delete s[G+".direction"],delete s[G+".outerConeCos"],delete s[G+".innerConeCos"]}return c}function Nf(d,s,m,c,T){if(d.imageLightIntensity=m?.intensity??1,m?(d.imageLightRotation||(d.imageLightRotation=(0,Gr.create)()),(0,Gr.fromQuat)(d.imageLightRotation,m.quaternion)):delete d.imageLightRotation,"parametric"===m?.irradianceMode&&m.irradianceCoefficients){d.irradianceCoefficients||(d.irradianceCoefficients=new Float32Array(27));for(let G=0,de=0;G<9;G++){const te=m.irradianceCoefficients[G];d.irradianceCoefficients[de++]=te[0],d.irradianceCoefficients[de++]=te[1],d.irradianceCoefficients[de++]=te[2]}}else delete d.irradianceCoefficients;if(c&&(s.release("imageLightSpecular",c),delete d.imageLightSpecularTexture),m?.specularTexture){const G=s.get("imageLightSpecular",m.specularTexture);G.update(),d.imageLightSpecularTexture=G.webglTexture,d.imageLightLODScale=m.specularTexture.levels[0].length-1}if(T&&(s.release("imageLightIrradiance",T),d.imageLightIrradianceTexture=null),m?.irradianceTexture&&"image"===m.irradianceMode){const G=s.get("imageLightIrradiance",m.irradianceTexture);G.update(),d.imageLightIrradianceTexture=G.webglTexture}}function Ac(d,s,m,c){const T=d.get(c);if(!T.update())return;const{alphaMode:G}=T;!c.visible||"opaque"!==G&&"test"!==G?s.delete(T):s.add(T),c.visible&&"opaque"!==G&&"hidden"!==G?m.add(T):m.delete(T)}function pl(d,s,m,c,T,G,de,te,we,Oe){const{worldMatrix:Ie}=G;de.uniformSetters.modelViewMatrix&&(0,W.multiply)(d.modelViewMatrix,Oe.worldMatrixInverse,Ie),(0,Ea.setUniforms)(de,d);const{maxClipDistances:ze}=m,gt=Math.min(ze,c.length);for(let Nt=0,zt=12288;Nt<ze;Nt++,zt++)Nt<gt?T.enable(zt):T.disable(zt);const Mt="add"===G.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;T.blendFunc(1,Mt),s.drawCalls++,s.drawVertices+=G.vertexCount}const Fh=(d,s,m,c,T)=>{const G=m?null:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,cameraPosition:(0,_.create)()},de=m?[d.modelViewMatrix.subarray(0,16),d.modelViewMatrix.subarray(16,32)]:null;return(te,we,Oe,Ie,ze,gt)=>{if(0===te.count)return;const{worldMatrix:Mt}=te,Nt="add"===te.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;if(c.blendFunc(1,Nt),de){if(we.uniformSetters.modelViewMatrix)for(let zt=0;zt<gt.length;zt++)(0,W.multiply)(de[zt],gt[zt].transform.inverse.matrix,Mt);(0,Ea.setUniforms)(we,d),T(te,we,Oe,Ie,ze,gt)}else for(const zt of gt){const kt=ze.getViewport(zt);c.viewport(kt.x,kt.y,kt.width,kt.height),G.projectionMatrix=zt.projectionMatrix,G.viewMatrixInverse=zt.transform.matrix;const{x:Jt,y:kn,z:Dn}=zt.transform.position;(0,_.set)(G.cameraPosition,Jt,kn,Dn);const Rn=zt.transform.inverse.matrix;G.viewMatrix=Rn,we.uniformSetters.modelViewMatrix&&(0,W.multiply)(d.modelViewMatrix,Rn,Mt),(0,Ea.setUniforms)(we,d),(0,Ea.setUniforms)(we,G),T(te,we,Oe,Ie,ze,gt)}s.drawCalls++,s.drawVertices+=2*te.vertexCount}};function Lf(d,s,m){const c=s.length,T=m.length;for(let G=c;G>T;G--){s.pop();const de="clippingPlane"+G;delete d[de+".plane"],delete d[de+".fade"]}for(let G=s.length;G<T;G++)s[G]={plane:(0,Ko.create)(),fade:0};return m.forEach(({plane:G,fade:de},te)=>{const{plane:we}=s[te];(0,Ko.copy)(we,G),s[te].fade=de;const Oe="clippingPlane"+te;d[Oe+".plane"]=we,d[Oe+".fade"]=de}),c!==T}class Bh extends fe{constructor({cubeTextureCache:s}){super(),u(this,"get",void 0),u(this,"release",void 0),u(this,"destroy",void 0);const m=new ca({key:(c,T)=>T,create:(c,T)=>{if(T){const G={};if(T instanceof vr&&T.reflectionMap){const de=s.get(T,T.reflectionMap.texture);de.update(),G.reflectionMap=de.webglTexture}return this.emit("create",{material:T}),G}return null},release:(c,T)=>{T&&(T instanceof vr&&T.reflectionMap&&s.release(T,T.reflectionMap.texture),this.emit("release",{material:T}))}});this.get=m.get,this.release=m.release,this.destroy=m.destroy}}const Nh=["ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","ALPHA_BITS","BLUE_BITS","DEPTH_BITS","GREEN_BITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","RED_BITS","SAMPLE_COVERAGE_VALUE","SAMPLES","STENCIL_BITS","SUBPIXEL_BITS","VENDOR","RENDERER","VERSION","SHADING_LANGUAGE_VERSION","COMPRESSED_TEXTURE_FORMATS","SAMPLE_BUFFERS"],Uf_webgl=Nh,Uf_webgl2=[...Nh,"MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET"],au=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],dm={OES_standard_derivatives:(d,s)=>({FRAGMENT_SHADER_DERIVATIVE_HINT_OES:d.getParameter(s.FRAGMENT_SHADER_DERIVATIVE_HINT_OES)}),WEBGL_draw_buffers:(d,s)=>({MAX_COLOR_ATTACHMENTS_WEBGL:d.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL),MAX_DRAW_BUFFERS_WEBGL:d.getParameter(s.MAX_DRAW_BUFFERS_WEBGL)}),WEBGL_debug_renderer_info:(d,s)=>({UNMASKED_VENDOR_WEBGL:d.getParameter(s.UNMASKED_VENDOR_WEBGL),UNMASKED_RENDERER_WEBGL:d.getParameter(s.UNMASKED_RENDERER_WEBGL)}),WEBGL_compressed_texture_astc:(d,s)=>({supportedProfiles:s.getSupportedProfiles&&s.getSupportedProfiles()||null}),EXT_texture_filter_anisotropic:(d,s)=>({anisotropy:d.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}),WEBGL_clip_cull_distance:(d,s)=>({MAX_CLIP_DISTANCES_WEBGL:d.getParameter(s.MAX_CLIP_DISTANCES_WEBGL),MAX_CULL_DISTANCES_WEBGL:d.getParameter(s.MAX_CULL_DISTANCES_WEBGL),MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL:d.getParameter(s.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL)})};function Ku(d,s){const m={};return au.forEach(c=>{const T=d.getShaderPrecisionFormat(s,d[c]);m[c]={rangeMin:T?.rangeMin||0,rangeMax:T?.rangeMax||0,precision:T?.precision||0}}),m}const Vf=["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxBindingsPerBindGroup","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxUniformBufferBindingSize","maxStorageBufferBindingSize","minUniformBufferOffsetAlignment","minStorageBufferOffsetAlignment","maxVertexBuffers","maxBufferSize","maxVertexAttributes","maxVertexBufferArrayStride","maxInterStageShaderComponents","maxInterStageShaderVariables","maxColorAttachments","maxColorAttachmentBytesPerSample","maxComputeWorkgroupStorageSize","maxComputeInvocationsPerWorkgroup","maxComputeWorkgroupSizeX","maxComputeWorkgroupSizeY","maxComputeWorkgroupSizeZ","maxComputeWorkgroupsPerDimension"];function jf(){return jf=b(function*(d){const s=b(function*(){if(!navigator.gpu)return null;const T=navigator.gpu.getPreferredCanvasFormat(),G=yield navigator.gpu.requestAdapter({powerPreference:"high-performance"});if(!G)return null;const de=yield G.requestAdapterInfo(),{architecture:te,vendor:we}=de;return{canvasFormat:T,architecture:te,vendor:we,perfCaveat:G.isFallbackAdapter,features:Array.from(G.features.keys()).sort(),limits:Vf.reduce((Oe,Ie)=>(Oe[Ie]=G.limits[Ie],Oe),{})}})();let m=!1;if(!Js(d)){const T=document.createElement("canvas");let G=T.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0});G||(G=T.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1})),G&&(m=!0,d=G)}const c=function(T){const G=T.getContextAttributes();if(!G)return null;const de={},te=Js(T);(te?Uf_webgl2:Uf_webgl).forEach(gt=>{const Nt=T.getParameter(T[gt]);if(Nt&&Nt.BYTES_PER_ELEMENT){if(Nt.length){de[gt]=[];for(let zt=0;zt<Nt.length;zt++)de[gt].push(Nt[zt])}}else de[gt]=Nt});const we=T.getSupportedExtensions()||[],Oe={};we.forEach(gt=>{const Mt=dm[gt];if(Mt){const Nt=T.getExtension(gt);Nt&&(Oe[gt]=Mt(T,Nt))}});const Ie=!0!==G.failIfMajorPerformanceCaveat,ze={version:te?2:1,antialias:G.antialias||!1,perfCaveat:Ie,params:de,extensions:{supported:we,capabilities:Oe}};if(!Ie){const gt=ze.extensions.capabilities.WEBGL_debug_renderer_info?.UNMASKED_RENDERER_WEBGL;gt&&/\bSwiftRenderer\b/.test(gt)&&(ze.perfCaveat=!0)}return ze.shaderPrecision={vertex:Ku(T,T.VERTEX_SHADER),fragment:Ku(T,T.FRAGMENT_SHADER)},ze}(d);return m&&d.getExtension("WEBGL_lose_context")?.loseContext(),{webgl:c,webgpu:yield s}}),jf.apply(this,arguments)}const Hf=["rg16float","rgba16float"],um=new Set(Object.keys(Ph)),zc=(0,W.create)();class hc extends fe{constructor(s){var m;super(),m=this,u(this,"transparencyMode",void 0),u(this,"root",void 0),u(this,"camera",void 0),u(this,"xrSession",void 0),u(this,"xrRefSpace",null),u(this,"maxDevicePixelRatio",1),u(this,"maxCanvasDimension",1/0),u(this,"minDevicePixelRatio",1),u(this,"physicalImageLight",void 0),u(this,"toneMapping",void 0),u(this,"clippingPlanes",void 0),u(this,"canvas",void 0),u(this,"environment",void 0),u(this,"extensions",void 0),u(this,"textureFormats",void 0),u(this,"running",void 0),u(this,"stats",void 0),u(this,"getGPUCapabilities",void 0),u(this,"setXRClearColor",void 0),u(this,"setPostProcessingPipeline",void 0),u(this,"setClippingPlanes",void 0),u(this,"start",void 0),u(this,"stop",void 0),u(this,"render",void 0);const c=s?.gl||function(Yr){if(typeof WebGLRenderingContext>"u")throw new Error("Browser does not support WebGL");const{canvas:mo,...Hs}=Yr||{},Bs=mo||document.createElement("canvas");try{return kl(Bs,{...Hs,failIfMajorPerformanceCaveat:!0})}catch{}return kl(Bs,{...Hs,failIfMajorPerformanceCaveat:!1})}(s),T=new Lu(c),G=c.canvas;if(!(G instanceof HTMLCanvasElement))throw new Error(`canvas type ${G?.constructor?.name||"unknown"} not supported.`);Object.assign(G.style,{width:"100%",height:"100%",position:"absolute"}),this.getGPUCapabilities=P(()=>function Fl(d){return jf.apply(this,arguments)}(c));const de=c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT,te=Js(c),we=te?2:1,Oe=te||!!c.getExtension("OES_vertex_array_object"),Ie=te&&!1!==s?.optimizations?.enableMultiView?c.getExtension("OCULUS_multiview"):null,ze=!!c.getExtension("EXT_shader_texture_lod"),gt=te?c.getParameter(c.MAX_SAMPLES):1,Mt=c.getParameter(c.ALIASED_POINT_SIZE_RANGE)?.[1]||32,{preserveDrawingBuffer:Nt=!1}=c.getContextAttributes()||{},zt=!1!==s?.optimizations?.enableHardwarePlaneClipping&&c.getExtension("WEBGL_clip_cull_distance")?c.getParameter(3378):0,kt=new Map,Jt=new Map,kn=new Set,Dn=new Set,Rn=new Set,Mn=[0,0,0,0],Bn={webGlVersion:we,vaoSupported:Oe,textureLODext:ze,maxPointSize:Mt,maxClipDistances:zt,multiView:!!Ie,preserveDrawingBuffer:Nt};let Qn=0,dr=0,Gn=ar.Alpha,Nr="linear",Xr=0,ri=!1,Br=null,Sr=!0,Hr=!0,ai=!0,ui=null,ro=null,Zi=null,No=s?.optimizations?.computeBRDF??!c.getExtension(te?"EXT_color_buffer_float":"WEBGL_color_buffer_float");const wo={noDepthMask:!1,orderDependent:!1,twoPass:!1,maxClipDistances:zt},os=[],Ri=[],Ir={geometries:0,meshes:0,materials:0,vaos:0,textures:0,materialTypes:{unlit:0,phong:0,metallic:0,physical:0},drawCalls:0,drawVertices:0,cpuTime:0,gpuTime:0,postProcessTime:0},ia=cn(Oh,Jt,os),Qs=new fa({sort:Ha,filter:ia}),Ss=new fa({sort:Yr=>wo.orderDependent?function(mo){const Hs=new Map,Bs=new Map,Da=new Map;return mo.sort((ua,ks)=>{if(ua.layer!==ks.layer)return ua.layer-ks.layer;if(ua.renderOrder!==ks.renderOrder)return ua.renderOrder-ks.renderOrder;if(ua.vertexArrayInfo&&ks.vertexArrayInfo){if(ua.vertexArrayInfo!==ks.vertexArrayInfo){const qa=Dd(Da,ua.vertexArrayInfo),Ul=Dd(Da,ks.vertexArrayInfo);if(qa!==Ul)return qa-Ul}}else{if(ua.programInfo!==ks.programInfo){const qa=Dd(Hs,ua.programInfo),Ul=Dd(Hs,ks.programInfo);if(qa!==Ul)return qa-Ul}if(ua.bufferInfo!==ks.bufferInfo)return Dd(Bs,ua.bufferInfo)-Dd(Bs,ks.bufferInfo)}return ua.screenPosition[2]-ks.screenPosition[2]}),mo}(Yr):Ha(Yr),filter:ia}),Ga=new Vc(c),Ra=new iu(c),Ya=new ld(c),Dl=Oe?new bg(c):null,zl=new Bh({cubeTextureCache:Ra}),pc=new Rh(c,function(Yr,mo){return mo?Object.assign({},mo,{alphaMode:rs(Yr,Ri,wo),lights:Yr.material instanceof vr?dr:Qn,clips:Yr.clippable?Ri.length:0,fog:gc.fog.mode,environmentReflectionMap:!!gc.reflectionMap.texture,lightMapSpace:gc.lightMap.texture&&gc.lightMap.space||"",imageLightIrradianceMode:ui?.irradianceMode||"",imageLightSpecularTexture:ui?.specularTexture,toneMap:Nr,computeBRDF:No},Bn):null}),Cu=new ca({key:(Yr,mo)=>mo,create:(Yr,mo)=>({decodePositions:mo.attributes.position.decodeMat||null,decodeUVs:mo.attributes.texcoord?.decodeMat||null})}),Au={geometryBufferCache:Ya,shaderResourceCache:pc,geometryUniformsCache:Cu,materialUniformsCache:zl,vaoCache:Dl,alphaModeOptions:wo,clippingPlanes:Ri,textureResourceCache:Ga},mc=new Md(c,{glState:T});mc.enabled=!0;const Ca={ambientLightColor:(0,_.fromValues)(.1,.1,.1),legacyAmbientLightColor:(0,_.fromValues)(.1,.1,.1),"fog.color":(0,_.fromValues)(1,1,1),"fog.density":.01,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.start":0},ws=Ie?{projectionMatrix:new Float32Array(32),viewMatrixInverse:new Float32Array(32),viewMatrix:new Float32Array(32),screenResolution:new Float32Array([1024,1024]),cameraPosition:new Float32Array(6)}:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,screenResolution:new Float32Array([1024,1024]),cameraPosition:(0,_.create)()},oc=Ie&&[ws.projectionMatrix.subarray(0,16),ws.projectionMatrix.subarray(16,32)],Nd=Ie&&[ws.viewMatrixInverse.subarray(0,16),ws.viewMatrixInverse.subarray(16,32)],dh=Ie&&[ws.cameraPosition.subarray(0,3),ws.cameraPosition.subarray(3,6)],Mu=Ie&&[ws.viewMatrix.subarray(0,16),ws.viewMatrix.subarray(16,32)],Ld={modelViewMatrix:Ie?new Float32Array(32):(0,W.create)(),discardOpaque:!1},sc=new us;let Ma=null,gl=null,ys=null,Ud=null,za=null;const gc=new su(Ca,Ra),fp=cn(Fh,Ld,Ir,!!Ie,T),la=cn(kh,Dn,Ca),uf=cn(Wu,Rn,Ca),Mm=cn(Nf,Ca,Ra),uh=cn(Ac,kt,Qs,Ss),Du=cn(Lf,Ca,Ri);function Tu(Yr){const mo="fog"!==Yr?.property||"mode"===Yr?.detail;kt.forEach(Hs=>{mo&&Hs.setDirty("shader"),Hs.setDirty("transparency")}),ai=!0}function pp(){Ir.materialTypes.physical>0&&!No?Ca.brdfLookUpTexture||(Ca.brdfLookUpTexture=function(Yr,mo=512,Hs=Yr){const Bs=Js(Yr),Da=Bs?ru.webgl2:ru.webgl1,ua=(Bs?!!Yr.getExtension("EXT_color_buffer_float"):!!Yr.getExtension("WEBGL_color_buffer_float"))&&Hf.find($l=>{const ac=Da.get($l);return!(!ac||ac.extension&&!Yr.getExtension(ac.extension))})||"rgba8unorm",ks=Da.get(ua),qa="internalFormat"in ks?ks.internalFormat:ks.format,Ul="type"in ks?ks.type:ks.format,Vl=(0,Ea.createBufferInfoFromArrays)(Yr,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),vh=zu(Yr,[`${Bs?"#version 300 es":""}\n\t\t${Bs?"in":"attribute"} vec2 position;\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(position, 0.0, 1.0);\n\t\t}`,`${Bs?"#version 300 es":""}\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#define SAMPLE_NUMBER 1024${Bs?"u":""}\n#define PI 3.14159265358979\n\n${Bs?"out vec4 fragColor;":""}\n\nuniform vec2 viewportSize;\n\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\n\n${Bs?"\nvec2 hammersley(uint i, uint N) {\n\t\n\tuint bits = (i << 16u) | (i >> 16u);\n\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\tfloat rdi = float(bits) * 2.3283064365386963e-10;\n\treturn vec2(float(i) /float(N), rdi);\n}":"\nvec2 hammersley(int i, int N) {\n\tfloat invBase = 1.0 / 2.0;\n\tfloat denom = 1.0;\n\tfloat vanDerCorput = 0.0;\n\tint n = i;\n\n\tfor(int b = 0; b < 32; b++) {\n\t\tif(n > 0) {\n\t\t\tdenom = mod(float(n), 2.0);\n\t\t\tvanDerCorput += denom * invBase;\n\t\t\tinvBase = invBase / 2.0;\n\t\t\tn = int(float(n) / 2.0);\n\t\t}\n\t}\n\n\treturn vec2(float(i) / float(N));\n}\n"}\n\n\nfloat G_Smith(float NoV, float NoL, float roughness) {\n\tfloat k = (roughness * roughness) / 2.0;\n\tfloat GGXL = NoL / (NoL * (1.0 - k) + k);\n\tfloat GGXV = NoV / (NoV * (1.0 - k) + k);\n\treturn GGXL * GGXV;\n}\n\n\nfloat V_SmithGGXCorrelated(float NoV, float NoL, float roughness) {\n\tfloat a2 = pow(roughness, 4.0);\n\tfloat GGXV = NoL * sqrt(NoV * NoV * (1.0 - a2) + a2);\n\tfloat GGXL = NoV * sqrt(NoL * NoL * (1.0 - a2) + a2);\n\treturn 0.5 / (GGXV + GGXL);\n}\n\n\nvec3 importanceSampleGGX(vec2 Xi, float roughness, vec3 N) {\n\tfloat a = roughness * roughness;\n\n\t\n\tfloat Phi = 2.0 * PI * Xi.x;\n\tfloat CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n\tfloat SinTheta = sqrt(1.0 - CosTheta * CosTheta);\n\n\t\n\tvec3 H;\n\tH.x = SinTheta * cos(Phi);\n\tH.y = SinTheta * sin(Phi);\n\tH.z = CosTheta;\n\t\n\t\n\tvec3 UpVector = abs(N.z) < 0.999 ? vec3(0.,0.,1.0) : vec3(1.0,0.,0.);\n\tvec3 TangentX = normalize(cross(UpVector, N));\n\tvec3 TangentY = cross(N, TangentX);\n\treturn TangentX * H.x + TangentY * H.y + N * H.z;\n}\n\n\n\nvec2 integrateBRDF(float roughness, float NoV) {\n\tvec3 V;\n\tV.x = sqrt(1.0 - NoV * NoV); \n\tV.y = 0.0;\n\tV.z = NoV; \n\t\n\t\n\tconst vec3 N = vec3(0.0, 0.0, 1.0);\n\t\n\tfloat A = 0.0;\n\tfloat B = 0.0;\n\t\n\tfor (${Bs?"uint i = 0u; i < SAMPLE_NUMBER; i++":"int i = 0; i < SAMPLE_NUMBER; i++"}) {\n\t\tvec2 Xi = hammersley(i, SAMPLE_NUMBER);\n\n\t\t\n\t\tvec3 H = importanceSampleGGX(Xi, roughness, N);\n\t\t\n\t\t\n\t\tvec3 L = 2.0 * dot(V, H) * H - V;\n\t\t\n\t\tfloat NoL = saturate(dot(N, L));\n\t\tfloat NoH = saturate(dot(N, H));\n\t\tfloat VoH = saturate(dot(V, H));\n\t\t\n\t\tif(NoL > 0.0) {\n\t\t\tfloat V_pdf = V_SmithGGXCorrelated(NoV, NoL, roughness) * VoH * NoL / NoH;\n\t\t\tfloat Fc = pow(1.0 - VoH, 5.0);\n\t\t\tA += (1.0 - Fc) * V_pdf;\n\t\t\tB += Fc * V_pdf;\n\t\t}\n\t}\n\n\treturn 4.0 * vec2(A, B) / float(SAMPLE_NUMBER);\n}\n\nvoid main() {\n\t\n\tvec2 uv = gl_FragCoord.xy / viewportSize;\n\tfloat a = uv.y;\n\tfloat mu = uv.x;\n\n\t\n\tvec2 res = integrateBRDF(a, mu);\n\t\n\t\n\t${Bs?"fragColor":"gl_FragColor"} = vec4(res.x, res.y, 0.0, 1.0);\n}`]),ul=Yr.createFramebuffer();Yr.bindFramebuffer(Yr.FRAMEBUFFER,ul);const Tl=Yr.createTexture();return Yr.bindTexture(Yr.TEXTURE_2D,Tl),Yr.texImage2D(Yr.TEXTURE_2D,0,qa,mo,mo,0,ks.format,Ul,null),Yr.texParameteri(Yr.TEXTURE_2D,Yr.TEXTURE_MAG_FILTER,Yr.LINEAR),Yr.texParameteri(Yr.TEXTURE_2D,Yr.TEXTURE_MIN_FILTER,Yr.LINEAR),Yr.texParameteri(Yr.TEXTURE_2D,Yr.TEXTURE_WRAP_S,Yr.CLAMP_TO_EDGE),Yr.texParameteri(Yr.TEXTURE_2D,Yr.TEXTURE_WRAP_T,Yr.CLAMP_TO_EDGE),Yr.framebufferTexture2D(Yr.FRAMEBUFFER,Yr.COLOR_ATTACHMENT0,Yr.TEXTURE_2D,Tl,0),Yr.bindTexture(Yr.TEXTURE_2D,null),Yr.bindFramebuffer(Yr.FRAMEBUFFER,ul),Hs.viewport(0,0,mo,mo),Hs.disable(Yr.CULL_FACE),Hs.disable(Yr.DEPTH_TEST),Hs.depthMask(!1),Hs.frontFace(Yr.CCW),Hs.useProgram(vh.program),(0,Ea.setUniforms)(vh,{viewportSize:[mo,mo]}),(0,Ea.setBuffersAndAttributes)(Yr,vh,Vl),(0,Ea.drawBufferInfo)(Yr,Vl,Yr.TRIANGLES,3,0),Yr.bindFramebuffer(Yr.FRAMEBUFFER,null),Tl}(c,512,T)):Ca.brdfLookUpTexture&&(c.deleteTexture(Ca.brdfLookUpTexture),delete Ca.brdfLookUpTexture)}function Vd(){Mm(ui,ro,Zi),ro=ui?.specularTexture||null,Zi="image"===ui?.irradianceMode&&ui.irradianceTexture||null,Tu()}function hf(){Hr=!0,ai=!0}function mp(Yr){const mo=kt.get(Yr.node);mo&&(Qs.has(mo)&&(Qs.dirtyFilter(),Qs.dirtySort()),Ss.has(mo)&&(Ss.dirtyFilter(),Ss.dirtySort()),Ri.length&&Yr.node.clippable&&mo.setDirty("transparency")),ai=!0}function gp(Yr){"material"===Yr.property&&(Sr=!0),"layer"!==Yr.property&&"renderOrder"!==Yr.property||Ss.dirtySort(),ai=!0}function hh(){ai=!0}function _p(Yr){if(c.isContextLost())return;const mo=new Zd(Yr,Au);kt.set(Yr,mo),Jt.set(mo,Yr),Yr.on("updateWorldBounds",mp),Yr.on("dirty",hh),Yr.on("change",gp),mo.on("dirty",hh),Ir.meshes++,Sr=!0,ai=!0}function vp(Yr){const mo=kt.get(Yr);kt.delete(Yr),Jt.delete(mo),Qs.delete(mo),Ss.delete(mo),mo.destroy(),Yr.off("updateWorldBounds",mp),Yr.off("dirty",hh),Yr.off("change",gp),mo.off("dirty",hh),Ir.meshes--,Sr=!0,ai=!0}const yp=cn(pl,Ld,Ir,Bn,Ri,T),ff=Of(c,{beforeRender:yp,glState:T}),Eg=fl(c,({bufferInfo:Yr,topology:mo,offset:Hs,count:Bs,depthMask:Da})=>{if(0===Bs)return;const ua=jc[mo];T.depthMask(!(wo.noDepthMask||!Da)),T.cullFace(c.BACK),(0,Ea.drawBufferInfo)(c,Yr,ua,Bs,Hs)},{beforeRender:yp,glState:T});let fh=!1,ph=-1/0;const pf=(Yr=!1)=>{if(c.isContextLost()||!Br)return;const mo=performance.now();if(function(Da,ua=1,ks=1/0,qa=0){ua=Math.max(0,ua),ks=Math.max(1,ks),qa=Math.max(0,qa);const Ul=0|Math.max(Da.clientWidth*qa,Math.min(ks,Da.clientWidth*ua)),Vl=0|Math.max(Da.clientHeight*qa,Math.min(ks,Da.clientHeight*ua));return(Da.width!==Ul||Da.height!==Vl)&&(Da.width=Ul,Da.height=Vl,!0)}(G,Math.min(window.devicePixelRatio,this.maxDevicePixelRatio),this.maxCanvasDimension,this.minDevicePixelRatio)&&(ai=!0,this.emit("resize")),!ai&&!Yr&&fh&&mo-ph<6)return;fh=!0,ph=mo,this.emit("begin",mo),Ir.drawCalls=0,Ir.drawVertices=0,this.emit("animate",mo);const Bs=G.clientWidth/G.clientHeight;if(Br&&Bs!==Br.aspect&&(Br.aspect=Bs,Br.dirtyProjection()),Yr||ai){for(const ks of kn)ks.updateWorldBounds();Br.updateWorldMatrix(),Br.projectionDirty&&Br.updateProjectionMatrix(),Rn.forEach(ks=>ks.updateWorldMatrix()),Dn.forEach(ks=>ks.updateWorldMatrix()),this.emit("update"),(Hr||Br.dirty)&&(Br.updateWorldMatrix(),Br.updateProjectionMatrix(),(0,W.multiply)(zc,Br.projectionMatrix,Br.worldMatrixInverse),ec(os,zc),Ie&&((0,W.copy)(oc[0],Br.projectionMatrix),(0,W.copy)(Nd[0],Br.worldMatrix),(0,W.copy)(Mu[0],Br.worldMatrixInverse),(0,W.getTranslation)(dh[0],Br.worldMatrix)),Array.isArray(ws.cameraPosition)&&(0,W.getTranslation)(ws.cameraPosition,Br.worldMatrix),Qs.dirtySort(),Ss.dirtySort(),Qs.dirtyFilter(),Ss.dirtyFilter());const Da=uf(),ua=la();Da===Qn&&ua===dr||(Qn=Da,dr=ua,Tu());for(const ks of kn){const qa=kt.get(ks);(qa.dirty||Hr)&&((0,W.getTranslation)(qa.screenPosition,ks.worldMatrix),(0,_.transformMat4)(qa.screenPosition,qa.screenPosition,zc)),uh(ks)}Hr=!1,mc.begin(),T.viewport(0,0,G.width,G.height),ws.screenResolution[0]=c.drawingBufferWidth,ws.screenResolution[1]=c.drawingBufferHeight,T.depthMask(!0),T.clearColor(0,0,0,0),c.clear(de),T.enable(c.DEPTH_TEST),T.enable(c.CULL_FACE),T.disable(c.BLEND),T.depthMask(!0),Ld.discardOpaque=!1,ff(Qs,[Ca,ws],Br),Ss.filteredSize&&(T.enable(c.BLEND),Ld.discardOpaque=!0,Eg(Ss,[Ca,ws],Br)),mc.render(Br),ai=!1}Sr&&(Sr=!1),Ir.cpuTime=performance.now()-mo,this.emit("end")};function mf(){pf(!1),fh=Nt,ri&&(Xr=requestAnimationFrame(mf))}const wg=fl(c,fp((Yr,mo,Hs)=>{(0,Ea.drawBufferInfo)(c,Hs,jc[Yr.topology],Yr.count,Yr.offset)}),{glState:T}),Dm=fl(c,fp((Yr,mo,Hs)=>{T.depthMask(!(wo.noDepthMask||!Yr.depthMask)),T.cullFace(c.BACK),(0,Ea.drawBufferInfo)(c,Hs,jc[Yr.topology],Yr.count,Yr.offset)}),{glState:T}),Qa=function(){var Yr=b(function*(){if(Ma&&!c.isContextLost()){try{yield Promise.all([c.makeXRCompatible(),Ma.requestReferenceSpace("local").then(mo=>{ys=mo})])}catch{}if(!c.isContextLost())if(Ie){gl=c.createFramebuffer(),Ud=new XRWebGLBinding(Ma,c);const mo=Ud.createProjectionLayer({textureType:"texture-array",depthFormat:te?c.DEPTH_COMPONENT24:c.DEPTH_COMPONENT});Ma.updateRenderState({layers:[mo]})}else{const mo=new XRWebGLLayer(Ma,c);yield Ma.updateRenderState({baseLayer:mo}),gl=mo.framebuffer}}});return function(){return Yr.apply(this,arguments)}}(),tl=(Yr,mo)=>{const Hs=performance.now();this.emit("begin",Hs),Ir.drawCalls=0,Ir.drawVertices=0;const Bs=mo.getViewerPose(this.xrRefSpace||ys);this.emit("xrframe",{frame:mo,viewerPose:Bs}),this.emit("animate",mo.predictedDisplayTime||Yr),uf(),la(),this.emit("update");const Da=mo.session;if(ri&&(Xr=Da.requestAnimationFrame(tl)),Bs&&Bs.views.length){const ua=Bs.views[0];(0,W.multiply)(zc,ua.projectionMatrix,ua.transform.inverse.matrix),ec(os,zc);for(const ul of kn){const Tl=kt.get(ul);ul.dirty&&ul.updateWorldBounds(),(0,W.getTranslation)(Tl.screenPosition,ul.worldMatrix),(0,_.transformMat4)(Tl.screenPosition,Tl.screenPosition,ua.projectionMatrix),uh(ul)}Qs.dirtySort(),Qs.dirtyFilter(),Ss.dirtySort(),Ss.dirtyFilter();const ks=Da.renderState.baseLayer;if(c.bindFramebuffer(c.FRAMEBUFFER,gl),Ie){const Tl=Ud.getViewSubImage(Da.renderState.layers[0],ua);c.bindFramebuffer(c.FRAMEBUFFER,gl);const $l=Tl.viewport;Ie.framebufferTextureMultisampleMultiviewOVR(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,Tl.colorTexture,0,gt,0,2),null===Tl.depthStencilTexture?null===za&&(za=c.createTexture(),c.bindTexture(c.TEXTURE_2D_ARRAY,za),c.texStorage3D(c.TEXTURE_2D_ARRAY,1,c.DEPTH_COMPONENT24,$l.width,$l.height,2)):za=Tl.depthStencilTexture,Ie.framebufferTextureMultisampleMultiviewOVR(c.DRAW_FRAMEBUFFER,c.DEPTH_ATTACHMENT,za,0,gt,0,2);for(let ac=0;ac<Bs.views.length;ac++){const _c=Bs.views[ac];(0,W.copy)(oc[ac],_c.projectionMatrix),(0,W.copy)(Nd[ac],_c.transform.matrix),(0,W.copy)(Mu[ac],_c.transform.inverse.matrix),(0,W.getTranslation)(dh[ac],_c.transform.matrix)}T.viewport($l.x,$l.y,$l.width,$l.height),ws.screenResolution[0]=$l.width,ws.screenResolution[1]=$l.height}else{T.viewport(0,0,ks.framebufferWidth,ks.framebufferHeight);const ul=ks.getViewport(ua);ws.screenResolution[0]=ul.width,ws.screenResolution[1]=ul.height}T.disable(c.SCISSOR_TEST),T.enable(c.DEPTH_TEST),T.enable(c.CULL_FACE),T.disable(c.BLEND),T.depthMask(!0),Ld.discardOpaque=!1;const[qa,Ul,Vl,vh]=Mn;T.clearColor(qa,Ul,Vl,vh),T.depthMask(!0),c.clear(de),wg(Qs,[Ca,ws],ks,Bs.views),Ss.filteredSize&&(T.enable(c.BLEND),Ld.discardOpaque=!0,Dm(Ss,[Ca,ws],ks,Bs.views)),Dm(Ss,[Ca,ws],ks,Bs.views)}this.emit("end")};function Su(Yr){Js(c)?(console.log("WebGL context lost. Attempting to recover.",Yr),Yr?.preventDefault(),gc.release(),kn.forEach(mo=>vp(mo)),Ya.destroy(),pc.destroy(),Ga.destroy(),Ra.destroy(),zl.destroy(),Dl?.destroy(),cancelAnimationFrame(Xr)):console.warn("WebGL context lost.")}function Iu(Yr){console.log("Restoring lost WebGL context.",Yr),(0,Ea.addExtensionsToContext)(c),T.reset(),gc.restore(),Vd(),kn.forEach(_p),G.style.left="1px",setTimeout(b(function*(){G.style.left="",Ma?(yield Qa(),ri&&(Xr=Ma.requestAnimationFrame(tl))):ri&&(Xr=requestAnimationFrame(mf))}),0)}const mh=function(){var Yr=b(function*(mo){mo!==Ma&&(Ma&&(Ma.cancelAnimationFrame(Xr),Ma.removeEventListener("end",gh),mo||(za&&(c.deleteTexture(za),za=null),gl&&Ie&&c.deleteFramebuffer(gl),gl=null)),ys=null,Ma=mo||null,Ma?(Ma.addEventListener("end",gh),yield Qa(),cancelAnimationFrame(Xr),ri&&!c.isContextLost()&&(Xr=Ma.requestAnimationFrame(tl))):(m.xrRefSpace=null,c.bindFramebuffer(c.FRAMEBUFFER,null),Br?.dirtyMatrix(),ri&&(Xr=requestAnimationFrame(mf))),ai=!0)});return function(Hs){return Yr.apply(this,arguments)}}();function gh(Yr){const{session:mo}=Yr;mo===Ma&&mh(null)}for(let Yr=0;Yr<6;Yr++)os.push((0,Ko.create)());Td(wo,Gn),Ie&&[oc,Nd,dh,Mu].forEach(Yr=>Yr.forEach(W.identity)),Ga.on("create",()=>Ir.textures++),Ga.on("release",()=>Ir.textures--),Ra.on("create",()=>Ir.textures++),Ra.on("release",()=>Ir.textures--),Ya.on("create",({geometry:Yr})=>{Yr&&Ir.geometries++}),Ya.on("release",({geometry:Yr})=>{Yr&&Ir.geometries--}),Dl&&(Dl.on("create",()=>Ir.vaos++),Dl.on("release",()=>Ir.vaos--)),sc.on("add",Yr=>{Yr instanceof Me?(kn.add(Yr),Yr.updateWorldBounds(),_p(Yr)):Yr instanceof Pr?Rn.add(Yr):Yr instanceof ni&&Dn.add(Yr),this.emit("add",Yr)}),sc.on("remove",Yr=>{Yr instanceof Me?(kn.delete(Yr),vp(Yr)):Yr instanceof Pr?Rn.delete(Yr):Yr instanceof ni&&Dn.delete(Yr),this.emit("remove",Yr)}),zl.on("create",({material:Yr})=>{Ir.materials++,Ir.materialTypes[Yr.type]++,pp()}),zl.on("release",({material:Yr})=>{Ir.materials--,Ir.materialTypes[Yr.type]--,pp()}),gc.on("change",Tu),G.addEventListener("webglcontextlost",Su,!1),G.addEventListener("webglcontextrestored",Iu,!1);const _h=c.getSupportedExtensions()||[];Object.freeze(_h),void 0!==s?.optimizations?.computeBRDF||No||this.getGPUCapabilities().then(({webgl:Yr})=>{No=Yr.perfCaveat});const bp=te?ru.webgl2:ru.webgl1,xp=Array.from(Object.keys(z)).filter(Yr=>{const mo=bp.get(Yr);return!(!mo||"extension"in mo&&!_h.includes(mo.extension)||mo.supported&&!mo.supported(c))});Object.defineProperties(this,{canvas:{value:G,writable:!1},root:{get:()=>sc.root,set(Yr){sc.root=Yr}},camera:{get:()=>Br,set(Yr){Br!==Yr&&(Br&&Br.off("dirty",hf),Ie||(ws.projectionMatrix=null,ws.viewMatrixInverse=null,ws.cameraPosition=null,ws.viewMatrix=null),Br=Yr,Br&&(Br.on("dirty",hf),Ie||(ws.projectionMatrix=Br.projectionMatrix,ws.viewMatrixInverse=Br.worldMatrix,ws.viewMatrix=Br.worldMatrixInverse,ws.cameraPosition=Br.worldMatrix instanceof Float32Array?Br.worldMatrix.subarray(12,15):(0,_.create)())))}},transparencyMode:{get:()=>Gn,set(Yr){if(!this.supportsTransparencyMode(Yr))throw new Error(`Unsupported transparency mode: ${Yr}`);Yr!==Gn&&(Gn=Yr,Td(wo,Yr),Tu())}},toneMapping:{get:()=>Nr,set(Yr){Yr!==Nr&&(Nr=Yr,Tu())}},physicalImageLight:{get:()=>ui,set(Yr){Yr!==ui&&(ui?.off("change",Vd),ui=Yr,ui?.on("change",Vd),Vd())}},xrSession:{set:mh,get:()=>Ma},clippingPlanes:{value:Ri,writable:!1},environment:{value:gc,writable:!1},extensions:{value:_h,writable:!1},textureFormats:{value:xp,writable:!1},stats:{value:Ir,writable:!1},running:{get:()=>ri}}),this.setXRClearColor=(Yr,mo,Hs,Bs)=>{Mn[0]=Yr,Mn[1]=mo,Mn[2]=Hs,Mn[3]=Bs},this.setPostProcessingPipeline=mc.setPipeline,this.setClippingPlanes=Yr=>{const mo=Du(Yr);kt.forEach(Hs=>{Hs.mesh?.clippable&&(mo&&Hs.setDirty("shader"),Hs.setDirty("transparency"))})},this.start=()=>{ri||(ri=!0,cancelAnimationFrame(Xr),Xr=Ma?Ma.requestAnimationFrame(tl):requestAnimationFrame(mf),this.emit("start"))},this.stop=()=>{ri&&(ri=!1,Ma?Ma.cancelAnimationFrame(Xr):cancelAnimationFrame(Xr),this.emit("stop"))},this.render=()=>pf(!0);const gf=this.destroy;this.destroy=()=>{this.stop(),this.xrSession=null,G.removeEventListener("webglcontextlost",Su,!1),G.removeEventListener("webglcontextrestored",Iu,!1),Ga.destroy(),Ra.destroy(),Ya.destroy(),Dl?.destroy(),pc.destroy(),zl.destroy(),mc.destroy(),gc.destroy(),sc.destroy(),kt.clear(),Jt.clear(),kn.clear(),Dn.clear(),Rn.clear(),Qs.clear(),Ss.clear(),ui&&(ui.off("change",Vd),ui=null,Vd()),Ca.imageLightSpecularTexture&&(c.deleteTexture(Ca.imageLightSpecularTexture),delete Ca.imageLightSpecularTexture),Ca.imageLightIrradianceTexture&&(c.deleteTexture(Ca.imageLightIrradianceTexture),delete Ca.imageLightIrradianceTexture),this.root=null,this.camera=null,this.xrRefSpace=null,c!==s?.gl&&c.getExtension("WEBGL_lose_context")?.loseContext(),gf()}}supportsTransparencyMode(s){return um.has(s)}}function Sd(d,s){const m=d[0],c=s[0],T=Math.abs(m-c);if((isNaN(T)||T===1/0)&&m!==c||T>$*Math.max(1,Math.abs(m),Math.abs(c)))return!1;const G=s[1],de=d[1],te=Math.abs(de-G);if((isNaN(te)||te===1/0)&&de!==G||te>$*Math.max(1,Math.abs(de),Math.abs(G)))return!1;const we=d[2],Oe=s[2],Ie=Math.abs(we-Oe);return!((isNaN(Ie)||Ie===1/0)&&we!==Oe||Ie>$*Math.max(1,Math.abs(we),Math.abs(Oe)))}class ml{constructor(){u(this,"min",(0,_.fromValues)(1/0,1/0,1/0)),u(this,"max",(0,_.fromValues)(-1/0,-1/0,-1/0))}expand(s){return s.min[0]<this.min[0]&&(this.min[0]=s.min[0]),s.min[1]<this.min[1]&&(this.min[1]=s.min[1]),s.min[2]<this.min[2]&&(this.min[2]=s.min[2]),s.max[0]>this.max[0]&&(this.max[0]=s.max[0]),s.max[1]>this.max[1]&&(this.max[1]=s.max[1]),s.max[2]>this.max[2]&&(this.max[2]=s.max[2]),this}expandPoint(s){return s[0]<this.min[0]&&(this.min[0]=s[0]),s[1]<this.min[1]&&(this.min[1]=s[1]),s[2]<this.min[2]&&(this.min[2]=s[2]),s[0]>this.max[0]&&(this.max[0]=s[0]),s[1]>this.max[1]&&(this.max[1]=s[1]),s[2]>this.max[2]&&(this.max[2]=s[2]),this}equals(s){return Sd(this.min,s.min)&&Sd(this.max,s.max)}clear(){return(0,_.set)(this.min,1/0,1/0,1/0),(0,_.set)(this.max,-1/0,-1/0,-1/0),this}copy(s){return $e(this,s),this}}function Id(d,s,m,c,T=0,G=0){const[de,te,we]=m,[Oe,Ie,ze]=c;let gt=d[0+T]-de,Mt=s[0+G]-de,Nt=d[1+T]-te,zt=s[1+G]-te,kt=d[2+T]-we,Jt=s[2+G]-we;Oe||gt?gt/=Oe:gt=1/Oe,Oe||Mt?Mt/=Oe:Mt=1/Oe,Ie||Nt?Nt/=Ie:Nt=1/Ie,Ie||zt?zt/=Ie:zt=1/Ie,ze||kt?kt/=ze:kt=1/ze,ze||Jt?Jt/=ze:Jt=1/ze;const kn=Math.min(Math.max(gt,Mt),Math.max(Nt,zt),Math.max(kt,Jt));if(kn<0)return kn;const Dn=Math.max(Math.min(gt,Mt),Math.min(Nt,zt),Math.min(kt,Jt));return Dn>kn?-1/0:Math.max(0,Dn)}function cd(d,s,m){return d?Id(d.min,d.max,s,m):-1/0}const Lh=w(8023);var Gf=O.n(Lh);const Bl=new nt(()=>new ml,d=>d.clear());class Xu{constructor(s,m){u(this,"getBounds",void 0),u(this,"box",new ml),u(this,"centroid",(0,_.create)()),u(this,"object",void 0),u(this,"node",void 0),this.getBounds=s,this.object=m,this.update()}update(){const{centroid:s,box:m}=this;this.getBounds(m,this.object),s[0]=(m.min[0]+m.max[0])/2,s[1]=(m.min[1]+m.max[1])/2,s[2]=(m.min[2]+m.max[2])/2}}let Nl=function(d){return d.Center="center",d.EqualCounts="equal",d.SurfaceArea="sah",d}({});function $c(d,s){return(d.min[s]+d.max[s])/2}function zf(d,s=d.axis){return $c(d.box,s)}function Al(d){const{min:s,max:m}=d,c=Math.max(0,m[0]-s[0]),T=Math.max(0,m[1]-s[1]),G=Math.max(0,m[2]-s[2]);return 2*(c*T+c*G+T*G)}function Wc(d){return Al(d.box)}function Uh(d){const s=Bl.get();for(let c=0,T=d.length;c<T;c++)s.expand(d[c].box);const m=Al(s);return Bl.release(s),m}function dd(d,s=!0){do{const{left:m,right:c}=d;d.box.copy(m.box).expand(c.box),d=d.parent}while(s&&d)}class ud{constructor(s,m,c,T=0){u(this,"box",void 0),u(this,"parent",null),u(this,"left",null),u(this,"right",null),u(this,"objects",null),u(this,"adapter",void 0),u(this,"axis",void 0),u(this,"depth",void 0),this.box=new ml,this.axis=0,this.parent=m,this.depth=T,this.objects=c?Array.from(c):[],this.adapter=s,s.bvh.maxDepth<T&&(s.bvh.maxDepth=T);let G=null,de=null;if(Object.defineProperties(this,{left:{get:()=>G,set:te=>{G=te,te&&(te.parent=this)}},right:{get:()=>de,set:te=>{de=te,te&&(te.parent=this)}}}),this.objects.length<=this.adapter.maxLeafObjects){for(let te=0,we=this.objects.length;te<we;te++)this.objects[te].node=this;Ll(this),$f(this)}else Ll(this),Rd(this),dd(this,!1)}add(s){!function(m,c){const T=Al(c.box),G=Bl.get();for(;!m.objects;){const{left:de,right:te}=m,we=Wc(de);G.copy(de.box).expand(c.box);const Oe=we+Al(G),Ie=Wc(te);G.copy(te.box).expand(c.box);const ze=Ie+Al(G);if(G.copy(de.box).expand(te.box),Al(G)+T<.3*Math.min(Oe,ze))return Yu(m,c),void Bl.release(G);m=Oe<ze?de:te}Bl.release(G),m.objects.push(c),c.node=m,Vh(m),$f(m)}(this,s)}delete(s){s.node=null;const m=this.objects.indexOf(s);m>=0&&this.objects.splice(m,1),this.objects.length>0?Vh(this):this.parent&&(this.objects=null,function(c){const T=c.parent,G=c===T.left?T.right:T.left;if(T.box.copy(G.box),T.left=G.left,T.right=G.right,T.objects=G.objects,T.objects)for(let de=0,te=T.objects.length;de<te;de++)T.objects[de].node=T;else T.left.parent=T,T.right.parent=T,T.setDepth();T.parent&&dd(T.parent)}(this),this.parent=null)}setDepth(s=this.depth){if(this.depth=s,s>this.adapter.bvh.maxDepth&&(this.adapter.bvh.maxDepth=s),!this.objects){const m=s+1;this.left.setDepth(m),this.right.setDepth(m)}}size(){return this.objects?this.left.size()+this.right.size():1}}function Ll(d){if(d.box.clear(),d.objects)for(let s=0,m=d.objects.length;s<m;s++)d.box.expand(d.objects[s].box)}function Vh(d){const s=Bl.get();s.copy(d.box),Ll(d);const m=!s.equals(d.box);return m&&d.parent&&dd(d.parent),Bl.release(s),m}function Yu(d,s){const{left:m,right:c}=d,T=new ud(d.adapter,d);T.left=m,T.right=c,T.objects=null,m.parent=T,c.parent=T,dd(T,!1);const G=new ud(d.adapter,d);G.objects.push(s),s.node=G,Ll(G),d.left=T,d.right=G,d.setDepth(),dd(d)}function Rd(d){for(let G=0,de=d.objects.length;G<de;G++)d.objects[G].node=null;const s=d.objects,{splitMethod:m}=d.adapter;let c=null;if(m===Nl.SurfaceArea){const G=Math.floor(d.objects.length/2);let de=1/0;for(let te=0;te<3;te++){Gf()(s,G,0,s.length-1,(ze,gt)=>ze.centroid[te]-gt.centroid[te]);const we=s.slice(0,G),Oe=s.slice(G),Ie=Uh(we)*we.length+Uh(Oe)*Oe.length;if(Ie<de&&(de=Ie,c={axis:te,left:we,right:Oe},0===Ie))break}}else{const G=Bl.get();for(let Ie=0;Ie<s.length;Ie++)G.expandPoint(s[Ie].centroid);let de=-1,te=-1/0;for(let Ie=0;Ie<3;Ie++){const ze=G.max[Ie]-G.min[Ie];ze>te&&(de=Ie,te=ze)}const we=$c(G,de);Bl.release(G);const Oe=function(Ie,ze){let gt=-1,Mt=Ie.length;for(;;){do{gt++}while(gt<Mt&&ze(Ie[gt])<=0);do{Mt--}while(Mt>=0&&ze(Ie[Mt])>0);if(gt>=Mt)return Mt+1;const Nt=Ie[gt];Ie[gt]=Ie[Mt],Ie[Mt]=Nt}}(s,Ie=>Ie.centroid[de]-we);if(m===Nl.Center&&Oe>0&&Oe<s.length-1){const Ie=s.slice(0,Oe),ze=s.slice(Oe);c={axis:de,left:Ie,right:ze}}if(!c){const Ie=Math.floor(s.length/2);Gf()(s,Ie,0,s.length-1,(Mt,Nt)=>Mt.centroid[de]-Nt.centroid[de]);const ze=s.slice(0,Ie),gt=s.slice(Ie);c={axis:de,left:ze,right:gt}}}d.objects=null;const T=d.depth+1;d.axis=c.axis,d.left=new ud(d.adapter,d,c.left,T),d.right=new ud(d.adapter,d,c.right,T)}function $f(d){d.objects&&d.objects.length>d.adapter.maxLeafObjects&&Rd(d)}const jh=[[d=>d.right?.left,[d=>d.left,d=>d.right?.right]],[d=>d.right?.right,[d=>d.right?.left,d=>d.left]],[[d=>d.right,d=>d.left?.right],d=>d.left?.left],[[d=>d.left?.left,d=>d.right],d=>d.left?.right],[[d=>d.right?.right,d=>d.left?.right],[d=>d.right?.left,d=>d.left?.left]],[[d=>d.right?.left,d=>d.left?.right],[d=>d.left?.left,d=>d.right?.right]]];function Hh(d,s){if(Array.isArray(s)){const c=s[0](d),T=s[1](d);if(!c||!T)return 1/0;const G=Bl.get();G.copy(c.box).expand(T.box);const de=Al(G);return Bl.release(G),de}const m=s(d);return m?Al(m.box):1/0}function lu(d){const{left:s,right:m,adapter:c}=d,{refitNodes:T}=c;if(d.parent&&s?.objects&&m?.objects)return void T.add(d.parent);const G=Wc(s)+Wc(m);let de=null,te=G;for(let Dn=0,Rn=jh.length;Dn<Rn;Dn++){const Mn=jh[Dn],Bn=Hh(d,Mn[0])+Hh(d,Mn[1]);Bn<te&&(te=Bn,de=Mn)}if(!de)return void(d.parent&&T.add(d.parent));if(d.parent&&T.add(d.parent),(G-te)/G<.3)return;const[we,Oe]=de;let Ie=!1;const ze=Array.isArray(we),gt=Array.isArray(Oe),Mt=ze?s:we(d),Nt=gt?m:Oe(d);let zt,kt,Jt,kn;ze?(zt=we[0](d),kt=we[1](d)):(zt=s.left,kt=s.right,Ie=!0),d.left=Mt,Mt.left=zt,Mt.right=kt,gt?(Jt=Oe[0](d),kn=Oe[1](d)):(Jt=m.left,kn=m.right,Ie=!0),d.right=Nt,Nt.left=Jt,Nt.right=kn,ze&&dd(Mt,!1),gt&&dd(Nt,!1),Ie&&d.setDepth()}function hd(d,s,m=1/0,...c){const{origin:T,direction:G,inspect:de,filter:te}=s,we=s.near||0;let Oe=null;const Ie=G?cd(d.box,T,G):xc(d.box,T,m);if(Ie<0||Ie>m)return null;if(d.objects){for(const zt of d.objects)if(!te||te(zt.object)){let kt=Ie;if(d.objects.length>1&&(kt=G?cd(zt.box,T,G):xc(zt.box,T,m)),kt<=m+$)if(de){const Jt=de(zt.object,T,kt,m,s,...c);Jt&&(Oe&&Jt.distance<Oe.distance||Jt.distance<=m)&&Jt.distance>=we-$&&(Oe=Jt,m=Oe.distance)}else kt>=we-$&&(m=kt,Oe={object:zt.object,distance:kt})}return Oe}let ze=!0;if(G)ze=G[d.axis]>0;else{const zt=d.left?zf(d.left,d.axis):-1/0,kt=d.right?zf(d.right,d.axis):1/0,Jt=T[d.axis];ze=Math.abs(zt-Jt)<=Math.abs(kt-Jt)}const Mt=ze?d.right:d.left,Nt=hd(ze?d.left:d.right,s,m,...c);if(Nt&&(Oe=Nt,m=Oe.distance),!Oe||m>we){const zt=hd(Mt,s,m,...c);zt&&(Oe=zt)}return Oe}class Qu{constructor(s,m,c){u(this,"maxDepth",0),u(this,"root",void 0),u(this,"size",void 0),u(this,"bounds",void 0),u(this,"maxLeafObjects",void 0),u(this,"add",void 0),u(this,"delete",void 0),u(this,"clear",void 0),u(this,"optimize",void 0),u(this,"query",void 0),u(this,"forEach",void 0);const T=c?.maxLeafObjects||1,G=new Set,de={bvh:this,bounds:s,refitNodes:G,maxLeafObjects:T,splitMethod:Nl.SurfaceArea},te=new Map;let we=null;if(m){we=new Set;const Ie=new Set;for(const ze of m)if(!Ie.has(ze)){Ie.add(ze);const gt=new Xu(s,ze);we.add(gt),te.set(ze,gt)}we.size&&(de.splitMethod=Nl.Center)}const Oe=new ud(de,null,we);this.add=Ie=>{let ze=te.get(Ie);ze?ze.update():ze=new Xu(s,Ie),te.set(Ie,ze),ze.node?Vh(ze.node)&&ze.node.parent&&G.add(ze.node.parent):Oe.add(ze)},this.delete=Ie=>{const ze=te.get(Ie);ze&&ze.node&&(ze.node.delete(ze),te.delete(Ie))},this.clear=()=>{if(te.clear(),Oe.objects)for(let Ie=0,ze=Oe.objects.length;Ie<ze;Ie++)Oe.delete(Oe.objects[Ie]);else Oe.left=null,Oe.right=null,Oe.box.clear(),Oe.objects=[];this.maxDepth=0},this.query=(Ie,...ze)=>{const gt=isNaN(Ie.radius)?1/0:Ie.radius;return hd(Oe,Ie,gt,...ze)},this.optimize=()=>{if(1===T)for(;G.size;){let Ie=0;for(const gt of G)Ie=Math.max(Ie,gt.depth);const ze=new Set;for(const gt of G)gt.depth===Ie&&(ze.add(gt),G.delete(gt));for(const gt of ze)lu(gt)}else console.warn("Optimize only works if maxLeafObjects = 1")},this.forEach=Ie=>{te.forEach(ze=>Ie(ze.object))},Object.defineProperties(this,{root:{get:()=>Oe},size:{get:()=>te.size},maxLeafObjects:{get:()=>T},bounds:{get:()=>Oe.box}})}}function Wf(d,s=d.axis){return((m=d.box).min[c=s]+m.max[c])/2;var m,c}class qu{constructor(s,m,c,T=0,G=0){u(this,"box",void 0),u(this,"parent",null),u(this,"left",null),u(this,"right",null),u(this,"objects",null),u(this,"axis",void 0),u(this,"depth",void 0),this.box=new ml,this.parent=m,this.axis=T,this.depth=G,this.objects=c?Array.from(c):[],s.tree.maxDepth<G&&(s.tree.maxDepth=G);for(let te=0,we=this.objects.length;te<we;te++){const Oe=s.boundingBoxes.get(this.objects[te]);this.box.expand(Oe)}if(G>=s.maxNodeDepth||this.objects.length<=s.maxLeafObjects)return;const{maxLeafObjects:de}=s;for(let te=0;te<3;te++){const we=(this.box.min[T]+this.box.max[T])/2,Oe=[],Ie=[];for(let ze=0,gt=this.objects.length;ze<gt;ze++){const Mt=this.objects[ze];s.boundingBoxes.get(Mt).min[T]<=we?Oe.push(Mt):Ie.push(Mt)}if(Oe.length>=de&&Ie.length>=de){this.axis=T,this.objects=null;const ze=(T+1)%3,gt=G+1;return this.left=new qu(s,this,Oe,ze,gt),void(this.right=new qu(s,this,Ie,ze,gt))}T=(T+1)%3}}size(){return this.left&&this.right?this.left.size()+this.right.size():1}}function Gh(d,s,m,c=1/0,...T){const{origin:G,direction:de,inspect:te,filter:we}=s,Oe=s.near||0;let Ie=null;const ze=de?cd(d.box,G,de):xc(d.box,G,c);if(ze<0||ze>c)return null;if(d.objects){for(const kt of d.objects)if(!we||we(kt)){let Jt=ze;if(d.objects.length>1&&!te){const kn=m.get(kt);Jt=de?cd(kn,G,de):xc(kn,G,c)}if(Jt<=c+$)if(te){const kn=te(kt,G,Jt,c,s,...T);kn&&(Ie&&kn.distance<Ie.distance||kn.distance<=c)&&kn.distance>=Oe-$&&(Ie=kn,c=Ie.distance)}else Jt>=Oe-$&&(c=Jt,Ie={object:kt,distance:Jt})}return Ie}let gt=!0;if(de)gt=de[d.axis]>0;else{const kt=d.left?Wf(d.left,d.axis):-1/0,Jt=d.right?Wf(d.right,d.axis):1/0,kn=G[d.axis];gt=Math.abs(kt-kn)<=Math.abs(Jt-kn)}const Nt=gt?d.right:d.left,zt=Gh(gt?d.left:d.right,s,m,c,...T);if(zt&&(Ie=zt,c=zt.distance),!Ie||c>Oe){const kt=Gh(Nt,s,m,c,...T);kt&&(Ie=kt)}return Ie}class zh{constructor(s,m,c){u(this,"maxDepth",0),u(this,"root",void 0),u(this,"size",void 0),u(this,"bounds",void 0),u(this,"maxLeafObjects",void 0),u(this,"query",void 0),u(this,"forEach",void 0);const T=c?.maxLeafObjects||1,G=c?.maxNodeDepth||1/0,de=new Map,{preserveBounds:te=!0}=c||{},we={tree:this,bounds:s,maxLeafObjects:T,maxNodeDepth:G,boundingBoxes:de},Oe=new Set(m);Oe.forEach(ze=>{const gt=new ml;s(gt,ze),de.set(ze,gt)});const Ie=new qu(we,null,Oe);!1===te&&de.clear(),this.query=(ze,...gt)=>{if(!ze.inspect&&!1===te)throw new Error("KdTree queries without preserved object bounds require an inspect callback function.");const Mt=isNaN(ze.radius)?1/0:ze.radius;return Gh(Ie,ze,we.boundingBoxes,Mt,...gt)},this.forEach=ze=>{Oe.forEach(gt=>ze(gt))},Object.defineProperties(this,{root:{get:()=>Ie},size:{get:()=>Oe.size},maxLeafObjects:{get:()=>T},bounds:{get:()=>Ie.box}})}}function Od(d,s,m,c){const T=3*m,G=T+1;let te=s[T],we=s[G],Oe=s[G+1];c&&(te=te*c[0]+c[12],we=we*c[5]+c[13],Oe=Oe*c[10]+c[14]),te<d.min[0]&&(d.min[0]=te),we<d.min[1]&&(d.min[1]=we),Oe<d.min[2]&&(d.min[2]=Oe),te>d.max[0]&&(d.max[0]=te),we>d.max[1]&&(d.max[1]=we),Oe>d.max[2]&&(d.max[2]=Oe)}function hm(d,s,m,c,T){d.clear();const G=s.attributes.position.data,de=s.attributes.position.decodeMat;Od(d,G,m,de),Od(d,G,c,de),Od(d,G,T,de)}function Ml(d,s,m,c,T){d.clear();for(let G=0,de=s.morphKeys.length;G<de;G++){const te=s.morphKeys[G],we=te.attributes.position.data,Oe=te.attributes.position.decodeMat;Od(d,we,m,Oe),Od(d,we,c,Oe),Od(d,we,T,Oe)}}class Kf extends fe{constructor(){super(),u(this,"get",void 0),u(this,"release",void 0);const s=new ca({create:c=>{if(c.attributes&&c.topology===Ke.triangles){const T=c.morphKeys?.length?Ml:hm,G=c.indices?(we,Oe)=>{const{index:Ie,geometry:ze}=Oe,gt=Ie+1;return T(we,ze,ze.indices[Ie],ze.indices[gt],ze.indices[gt+1])}:(we,Oe)=>{const{index:Ie,geometry:ze}=Oe,gt=Ie+3;return T(we,ze,Ie,gt,gt+3)},de=[];if(c.indices)for(let we=0,Oe=c.indices.length;we<Oe;we+=3)de.push({geometry:c,index:we});else for(let we=0,Oe=c.attributes.position.data.length;we<Oe;we+=9)de.push({geometry:c,index:we});const te=new zh(G,de,{maxLeafObjects:8,preserveBounds:!1});return this.emit("create",{geometry:c}),te}return null},release:()=>{}});this.get=c=>s.get(c),this.release=c=>s.release(c);const m=this.destroy;this.destroy=()=>{s.destroy(),m()}}}function Wh(){const d=(0,D.create)(),s=(0,_.create)(),m=(0,_.create)();return{frame(c){(0,W.getRotation)(d,c)},update(c){c.updateWorldMatrix(),(0,W.getTranslation)(s,c.worldMatrix),(0,W.getScaling)(m,c.worldMatrix),(0,W.fromRotationTranslationScale)(c.worldMatrix,d,s,m),c.setWorldMatrix(c.worldMatrix)}}}function wa(){const d=(0,_.create)();return{frame(s){(0,W.getTranslation)(d,s)},update(s){s.updateWorldMatrix();const[m,c,T]=d;s.worldMatrix[12]=m,s.worldMatrix[13]=c,s.worldMatrix[14]=T,s.setWorldMatrix(s.worldMatrix)}}}class cu{constructor(s){u(this,"update",void 0),u(this,"destroy",void 0);const m=new Set,c={copyPosition:wa(),copyRotation:Wh()};function T(te){te.constraints.length?m.add(te):m.delete(te)}function G(te){"constraints"===te.property&&T(te.node)}const de=new us;de.on("add",function(te){te.on("change",G),T(te)}),de.on("remove",function(te){te.off("change",G),m.delete(te)}),de.root=s,this.update=te=>{const we={};m.forEach(Oe=>{Oe.constraints.forEach(Ie=>{const ze=Ie.type;if(ze in c){const gt=c[ze];we[ze]||(we[ze]=!0,gt.frame?.(te)),gt.update(Oe,Ie)}})})},this.destroy=()=>{de.destroy(),m.clear()}}}const du=(0,W.create)();function Zu(d,s,m){return d*d+s*s+m*m}function Xf(d,s){const m=(0,_.create)(),c={origin:(0,_.create)(),direction:m,radius:1/0,near:0,inspect:s};return(T,G,de,te,{direction:we},...Oe)=>{if(T.geometry.topology!==Ke.triangles)return null;const Ie=d(T.geometry);if(!Ie){const Mt=[0,0,0];return(0,_.scaleAndAdd)(Mt,G,we,de),{object:T,distance:de,intersection:Mt}}let ze=null;const{worldMatrix:gt}=T;if((0,W.invert)(du,gt),(0,_.transformMat4)(c.origin,G,du),we)c.direction=m,te<1/0?((0,_.scaleAndAdd)(m,G,we,te),(0,_.transformMat4)(m,m,du),(0,_.subtract)(m,m,c.origin),c.radius=(0,_.length)(m),(0,_.scale)(m,m,1/c.radius)):((0,_.add)(m,G,we),(0,_.transformMat4)(m,m,du),(0,_.subtract)(m,m,c.origin),(0,_.normalize)(m,m),c.radius=1/0),ze=Ie.query(c,T,...Oe);else{c.direction=null;const Mt=Zu(gt[0],gt[1],gt[2]),Nt=Zu(gt[4],gt[5],gt[6]),zt=Zu(gt[8],gt[9],gt[10]),kt=Math.sqrt(Math.max(Mt,Nt,zt));c.radius=Math.max(1e-4,te/kt),ze=Ie.query(c,T,...Oe)}if(ze){const{object:Mt,intersection:Nt,...zt}=ze;(0,_.transformMat4)(Nt,Nt,gt);let kt=(0,_.distance)(G,Nt);if(kt>=de-$&&kt<=te+$)return kt=Q(kt,de,te),{object:T,...zt,intersection:Nt,distance:kt,triIndex:Mt.index}}return null}}const Pd=(0,_.create)(),uu=(0,_.create)(),Ju=(0,_.create)(),eh=(0,_.create)();function hu(d,s,m,c,T,G){(0,_.subtract)(Pd,T,c),(0,_.subtract)(uu,G,c),(0,_.cross)(Ju,Pd,uu);const de=-(0,_.dot)(m,Ju);if(de<0||0===de)return!1;(0,_.subtract)(eh,s,c),(0,_.cross)(uu,eh,uu);const te=-(0,_.dot)(m,uu);if(te<0)return!1;(0,_.cross)(Pd,Pd,eh);const we=-(0,_.dot)(m,Pd);if(we<0||te+we>de)return!1;const Oe=(0,_.dot)(eh,Ju);return!(Oe<0)&&((0,_.scaleAndAdd)(d,s,m,Oe/de),!0)}function fc(d,s,m,c){let de=s[m],te=s[m+1],we=s[m+2];c&&(de=de*c[0]+c[12],te=te*c[5]+c[13],we=we*c[10]+c[14]),d[0]=de,d[1]=te,d[2]=we}function Kh(d,s,m,c,T){const{geometry:G}=d,{indices:de}=G,te=s+1,we=te+1,{morphKeyIndex:Oe,morphFactor:Ie}=d;if(Oe>=0&&G.morphKeys.length){const ze=G.morphKeys[Oe],gt=ze.attributes.position.data,Mt=ze.attributes.position.decodeMat;if(fc(m,gt,3*de[s],Mt),fc(c,gt,3*de[te],Mt),fc(T,gt,3*de[we],Mt),Ie>0){const Nt=G.morphKeys[Oe+1],zt=Nt.attributes.position.data,kt=Nt.attributes.position.decodeMat,Jt=De.get();fc(Jt,zt,3*de[s],kt),(0,_.lerp)(m,m,Jt,Ie),fc(Jt,zt,3*de[te],kt),(0,_.lerp)(c,c,Jt,Ie),fc(Jt,zt,3*de[we],kt),(0,_.lerp)(T,T,Jt,Ie),De.release(Jt)}}else{const ze=G.attributes.position.decodeMat,gt=G.attributes.position.data;fc(m,gt,3*de[s],ze),fc(c,gt,3*de[te],ze),fc(T,gt,3*de[we],ze)}}const fm=(d,s,m,c,{direction:T},G)=>{const de=De.get(),te=De.get(),we=De.get(),Oe=De.get(),{index:Ie}=d;Kh(G,Ie,de,te,we);const ze=T?hu(Oe,s,T,de,te,we):function(Mt,Nt,zt,kt,Jt,kn){const Dn=zt*zt,Rn=De.get(),Mn=De.get(),Bn=De.get();(0,_.subtract)(Rn,Jt,kt),(0,_.subtract)(Mn,kn,kt),(0,_.subtract)(Bn,Nt,kt);const Qn=(0,_.dot)(Rn,Bn),dr=(0,_.dot)(Mn,Bn);if(De.release(Bn),Qn<=0&&dr<=0)return(0,_.copy)(Mt,kt),De.release(Rn),De.release(Mn),(0,_.squaredDistance)(Nt,Mt)<=Dn;const Gn=De.get();(0,_.subtract)(Gn,Nt,Jt);const Nr=(0,_.dot)(Rn,Gn),Xr=(0,_.dot)(Mn,Gn);if(De.release(Gn),Nr>=0&&Xr>=Nr)return(0,_.copy)(Mt,Jt),De.release(Rn),De.release(Mn),(0,_.squaredDistance)(Nt,Mt)<=Dn;const ri=Qn*Xr-Nr*dr;if(ri<=0&&Qn>=0&&Nr<=0)return(0,_.scaleAndAdd)(Mt,kt,Rn,Qn/(Qn-Nr)),De.release(Rn),De.release(Mn),(0,_.squaredDistance)(Nt,Mt)<=Dn;const Br=De.get();(0,_.subtract)(Br,Nt,kn);const Sr=(0,_.dot)(Rn,Br),Hr=(0,_.dot)(Mn,Br);if(De.release(Br),Hr>=0&&Sr<=Hr)return(0,_.copy)(Mt,kn),De.release(Rn),De.release(Mn),(0,_.squaredDistance)(Nt,Mt)<=Dn;const ai=Sr*dr-Qn*Hr;if(ai<=0&&dr>=0&&Hr<=0)return(0,_.scaleAndAdd)(Mt,kt,Mn,dr/(dr-Hr)),De.release(Rn),De.release(Mn),(0,_.squaredDistance)(Nt,Mt)<=Dn;const ui=Nr*Hr-Sr*Xr;if(ui<=0&&Xr-Nr>=0&&Sr-Hr>=0){const wo=De.get();return(0,_.scaleAndAdd)(Mt,Jt,wo,(Xr-Nr)/(Xr-Nr+(Sr-Hr))),De.release(Rn),De.release(Mn),De.release(wo),(0,_.squaredDistance)(Nt,Mt)<=Dn}const ro=1/(ui+ai+ri),No=ri*ro;return(0,_.scaleAndAdd)(Mt,kt,Rn,ai*ro),(0,_.scaleAndAdd)(Mt,Mt,Mn,No),De.release(Rn),De.release(Mn),(0,_.squaredDistance)(Nt,Mt)<=Dn}(Oe,s,c,de,te,we);De.release(de),De.release(te),De.release(we);let gt=null;return ze&&(gt={object:d,distance:(0,_.distance)(s,Oe),intersection:Array.from(Oe)}),De.release(Oe),gt};function Yf(d,s,m=$){const[c,T,G]=s.min,[de,te,we]=s.max,Oe=d.worldMatrixInverse,Ie=Oe[2],ze=Oe[6],gt=Oe[10],Mt=Oe[14],Nt=de-c,zt=te-T,kt=we-G,Jt=Math.sqrt(Nt*Nt+zt*zt+kt*kt);let kn=c*Ie+T*ze+G*gt+Mt;if(isFinite(kn)){kn=Math.max(kn,de*Ie+T*ze+G*gt+Mt),kn=Math.max(kn,c*Ie+te*ze+G*gt+Mt),kn=Math.max(kn,c*Ie+T*ze+we*gt+Mt),kn=Math.max(kn,de*Ie+te*ze+G*gt+Mt),kn=Math.max(kn,de*Ie+T*ze+we*gt+Mt),kn=Math.max(kn,c*Ie+te*ze+we*gt+Mt),kn=Math.max(kn,de*Ie+te*ze+we*gt+Mt);const{near:Dn,far:Rn}=d;d.near=Math.max(-kn,m),d.far=Math.max(Jt-kn,d.near+m),Dn===d.near&&Rn===d.far||d.dirtyProjection()}}const Xh=new Map([["bc1-rgba-unorm","s3"],["bc2-rgba-unorm","s3"],["bc3-rgba-unorm","s3"],["bc1-rgba-unorm-srgb","s3"],["bc2-rgba-unorm-srgb","s3"],["bc3-rgba-unorm-srgb","s3"],["bc4-r-unorm","rgtc"],["bc4-r-snorm","rgtc"],["bc5-rg-unorm","rgtc"],["bc5-rg-snorm","rgtc"],["bc6h-rgb-ufloat","bptc"],["bc6h-rgb-float","bptc"],["bc7-rgba-unorm","bptc"],["bc7-rgba-unorm-srgb","bptc"],["etc2-rgb8unorm","etc"],["etc2-rgb8unorm-srgb","etc"],["etc2-rgb8a1unorm","etc"],["etc2-rgb8a1unorm-srgb","etc"],["etc2-rgba8unorm","etc"],["etc2-rgba8unorm-srgb","etc"],["eac-r11unorm","etc"],["eac-r11snorm","etc"],["eac-rg11unorm","etc"],["eac-rg11snorm","etc"],["etc2-rgb8unorm","etc1"],["astc-4x4-unorm","astc"],["astc-5x4-unorm","astc"],["astc-5x5-unorm","astc"],["astc-6x5-unorm","astc"],["astc-6x6-unorm","astc"],["astc-8x5-unorm","astc"],["astc-8x6-unorm","astc"],["astc-8x8-unorm","astc"],["astc-10x5-unorm","astc"],["astc-10x6-unorm","astc"],["astc-10x8-unorm","astc"],["astc-10x10-unorm","astc"],["astc-12x10-unorm","astc"],["astc-12x12-unorm","astc"],["astc-4x4-unorm-srgb","astc"],["astc-5x4-unorm-srgb","astc"],["astc-5x5-unorm-srgb","astc"],["astc-6x5-unorm-srgb","astc"],["astc-6x6-unorm-srgb","astc"],["astc-8x5-unorm-srgb","astc"],["astc-8x6-unorm-srgb","astc"],["astc-8x8-unorm-srgb","astc"],["astc-10x5-unorm-srgb","astc"],["astc-10x6-unorm-srgb","astc"],["astc-10x8-unorm-srgb","astc"],["astc-10x10-unorm-srgb","astc"],["astc-12x10-unorm-srgb","astc"],["astc-12x12-unorm-srgb","astc"],["pvrtc-rgb4unorm","pvrtc"],["pvrtc-rgb2unorm","pvrtc"],["pvrtc-rgba4unorm","pvrtc"],["pvrtc-rgba2unorm","pvrtc"]]),Qf=new Map([[si.Linear,"linear"],[si.Exponential,"exp"],[si.ExponentialSquared,"exp2"]]);class qf extends fe{constructor(s,m){let c;super(),u(this,"renderer",void 0),u(this,"rootNode",void 0),u(this,"contentNode",void 0),u(this,"environmentNode",void 0),u(this,"camera",void 0),u(this,"started",void 0),u(this,"story",void 0),u(this,"bounds",new ml),u(this,"setStory",void 0),u(this,"rayCast",void 0),u(this,"rayCastCamera",void 0),u(this,"searchNearestObject",void 0),u(this,"start",void 0),u(this,"stop",void 0);let T=null,G=!1;const{baseUrl:de,queryFilter:te}=m,we=new hc({canvas:m.canvas,contextName:m.contextName,optimizations:m.optimizations}),Oe=new Qu((Sr,Hr)=>$e(Sr,Hr.worldBounds)),Ie=new ml,ze=new Set;let gt=!0;const Mt=new Lr;Mt.name="camera",Mt.near=.001,Mt.dirtyProjection(),Mt.updateWorldMatrix();const Nt=Sr=>!(Sr instanceof We)&&(!te||te(Sr)),zt=Sr=>{const{visible:Hr}=Sr,ai=Nt(Sr);Hr&&ai?Oe.add(Sr):Oe.delete(Sr);const ui=ze.has(Sr),ro=Hr&&!ai;ro?ze.add(Sr):ze.delete(Sr),(ro||ui)&&(gt=!0)};function kt(Sr){"geometry"!==Sr.property&&"visible"!==Sr.property||zt(Sr.node)}function Jt(Sr){zt(Sr.node)}we.on("add",Sr=>{Sr instanceof Me&&(Sr.on("updateWorldBounds",Jt),Sr.on("change",kt),Sr.visible&&!Nt(Sr)&&ze.add(Sr))}),we.on("remove",Sr=>{Sr instanceof Me&&(Sr.off("updateWorldBounds",Jt),Sr.off("change",kt),Oe.delete(Sr),ze.delete(Sr))}),we.on("xrframe",({viewerPose:Sr})=>{Sr&&(c=Sr.transform.matrix)});const kn=new Qe({name:"BioDigitalEngine"});kn.add(Mt),we.root=kn;const Dn=new Qe({name:"BioDigitalEngine environment"});Dn.parent=kn;const Rn=new Qe({name:"BioDigitalEngine content"});Rn.parent=kn,we.camera=Mt;const Mn=new cu(kn);we.on("animate",function(Sr){const Hr=Sr/1e3;T?.update(Hr),we.xrSession||(Mt.updateWorldMatrix(),c=Mt.worldMatrix),Mn.update(c,kn)}),we.on("update",()=>{gt&&(Ie.clear(),ze.forEach(Sr=>{Ie.expand(Sr.worldBounds)}),gt=!1),this.bounds.copy(Oe.bounds).expand(Ie),we.xrSession||Yf(Mt,this.bounds,.1*ut)});const Bn=()=>{if(T){const Sr=T;T=null,Rn.remove(Sr.contentNode),Dn.remove(Sr.environmentNode),we.environment.fog.mode="",we.environment.lightMap.texture=null,we.environment.reflectionMap.texture=null,we.physicalImageLight=null,Sr.destroy()}},Qn=Sr=>Oe.query(Sr)||null,dr=new Kf,Gn={origin:(0,_.create)(),direction:(0,_.create)(),near:0,radius:1/0,inspect:Xf(Sr=>dr.get(Sr),fm)},Nr={origin:null,near:0,radius:1/0,inspect:Gn.inspect},Xr=(0,W.create)();this.rayCastCamera=(Sr,Hr,ai)=>{const{canvas:ui}=we,ro=Sr/ui.width*2-1,Zi=-Hr/ui.height*2+1,{origin:No,direction:wo}=Gn;return Gn.near=void 0===ai?.near?Mt.near:ai.near,Gn.filter=ai?.filter||void 0,Gn.radius=ai?.radius?ai.radius:Mt.far,(0,W.getTranslation)(No,Mt.worldMatrix),(0,_.set)(wo,ro,Zi,.5),(0,W.invert)(Xr,Mt.projectionMatrix),(0,_.transformMat4)(wo,wo,Xr),(0,_.transformMat4)(wo,wo,Mt.worldMatrix),(0,_.subtract)(wo,wo,No),(0,_.normalize)(wo,wo),Qn(Gn)},this.rayCast=(Sr,Hr)=>{const{origin:ai,direction:ui}=Gn;return(0,W.getTranslation)(ai,Sr),(0,_.set)(ui,0,0,-1),(0,_.transformMat4)(ui,ui,Sr),(0,_.subtract)(ui,ui,ai),(0,_.normalize)(ui,ui),Gn.near=void 0===Hr?.near?Mt.near:Hr.near,Gn.filter=Hr?.filter||void 0,Gn.radius=Hr?.radius?Hr.radius:1/0,Qn(Gn)},this.searchNearestObject=(Sr,Hr)=>(Nr.origin=Sr,Gn.near=void 0===Hr?.near?Mt.near:Hr.near,Gn.filter=Hr?.filter||void 0,Gn.radius=Hr?.radius?Hr.radius:1/0,Qn(Gn));const ri=(Sr=we.textureFormats,Hr=m?.disableTextureCompression,Hr?Sr.filter(ai=>!0===Hr?!Xh.has(ai):!Hr[Xh.get(ai)||ai]):Sr);var Sr,Hr;this.setStory=Sr=>{if(Bn(),!Sr)return;const Hr=T=new qs(s,Sr,{decompressNormals:!1,decompressPositions:!1,computeTangents:!0,textureFormats:ri,baseUrl:de,loadAllMorphs:m.loadAllMorphs,camera:Mt});Hr.on("changechapter",ai=>{const ui=Hr.chapters[ai];var ro;ro=ui.environment,Object.assign(we.environment.lightMap,ro?.lightMap||{texture:null}),Object.assign(we.environment.reflectionMap,ro?.reflectionMap||{texture:null}),function(Zi){const{enabled:No,mode:wo,start:os=0,end:Ri=1e3,density:Ir=.01,...yi}=Zi||{},fo=No&&Qf.get(wo)||"";Object.assign(we.environment.fog,yi),we.environment.fog.start=os*ut,we.environment.fog.end=Ri*ut,we.environment.fog.density=Ir/ut,we.environment.fog.mode=fo}(ui.properties.fog),we.setClippingPlanes(ui.clippingPlanes),we.physicalImageLight=ui.physicalImageLight,we.toneMapping=ui.toneMapping,we.transparencyMode=[ui.transparencyMode,ui.fallbackTransparency,ar.Alpha].find(Zi=>Zi&&we.supportsTransparencyMode(Zi)),we.setPostProcessingPipeline(ui.postProcess),this.emit("changechapter",ai)}),Hr.on("destroy",()=>{Bn()}),Rn.add(T.contentNode),Dn.add(T.environmentNode),G&&Hr.start(),this.emit("changestory")},this.start=()=>{G||(G=!0,T?.start(),we.start(),this.emit("start"))},this.stop=()=>{G&&(G=!1,we.stop(),T?.stop(),this.emit("stop"))};const Br=this.destroy;this.destroy=()=>{Bn(),dr.destroy(),we.destroy(),this.emit("destroy"),Br()},Object.defineProperties(this,{renderer:{value:we,writable:!1},rootNode:{value:kn,writable:!1},environmentNode:{value:Dn,writable:!1},contentNode:{value:Rn,writable:!1},camera:{value:Mt,writable:!1},story:{get:()=>T},started:{get:()=>G}})}}class th extends wr{constructor(s={}){const{left:m,right:c,top:T,bottom:G,...de}=s;super(de),u(this,"left",void 0),u(this,"right",void 0),u(this,"top",void 0),u(this,"bottom",void 0),this.left=m??-1,this.right=c??1,this.top=T??1,this.bottom=G??-1;let te=!0;this.dirtyProjection=()=>{te=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{te&&(0,W.ortho)(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),te=!1},Object.defineProperties(this,{dirty:{get:()=>te||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>te}})}}class Zf extends fe{constructor(s,m){super(),u(this,"play",void 0),u(this,"pause",void 0),u(this,"update",void 0),u(this,"loop",void 0),u(this,"currentTime",void 0),u(this,"playBackRate",void 0),u(this,"animationSystem",void 0),u(this,"paused",void 0),u(this,"duration",void 0);const c=!!m?.autoAnimate,T=Math.max(1e3/60,m?.maxDelta||V);let G=!0,de=!1,te=1,we=0,Oe=1/0,Ie=0;const ze=()=>{if(G)return;const Mt=performance.now(),Nt=Mt-Ie;Nt>T&&(Oe-=T-Nt),Ie=Mt;const zt=(Mt-Oe)*te/1e3,kt=s.currentTime,{duration:Jt}=s;if(zt>=Jt)if(de&&Jt>0)s.currentTime=zt%Jt;else{const kn=s.currentTime!==Jt;s.currentTime=Jt,this.pause(),kn&&this.emit("ended",this)}else s.currentTime=zt;zt!==kt&&this.emit("timeupdate",this),!G&&c&&(we=requestAnimationFrame(ze))};this.update=ze,this.play=()=>{if(!G)return;const Mt=s.currentTime;let Nt=s.currentTime;Nt>=s.duration&&(s.currentTime=Nt=0);const zt=performance.now();Oe=zt-1e3*Nt/te,Ie=zt,G=!1,c&&(we=requestAnimationFrame(ze)),this.emit("play",this),Nt!==Mt&&this.emit("timeupdate",this)},this.pause=()=>{G||(G=!0,cancelAnimationFrame(we),this.emit("pause",this))};const gt=this.destroy;this.destroy=()=>{this.pause(),gt()},Object.defineProperties(this,{loop:{get:()=>de,set(Mt){de=Mt}},currentTime:{get:()=>s.currentTime,set(Mt){if(Mt<0||Mt>s.duration||isNaN(Mt))throw new Error("Invalid animation system time: "+Mt);Mt!==s.currentTime&&(s.currentTime=Mt,this.emit("timeupdate",this))}},playBackRate:{get:()=>te,set(Mt){if(!(Mt>0))throw new Error("Negative or zero playback rate not supported");te!==Mt&&(te=Mt,Oe=performance.now()-1e3*s.currentTime/te,this.emit("ratechange",this))}},paused:{get:()=>G},duration:{get:()=>s.duration},animationSystem:{value:s,writable:!1}})}}function Jf(d,s,m,c,T){const G=De.get(),de=De.get(),te=De.get();(0,_.subtract)(G,T,m),(0,_.subtract)(de,c,m),(0,_.subtract)(te,s,m);const we=(0,_.dot)(G,G),Oe=(0,_.dot)(G,de),Ie=(0,_.dot)(G,te),ze=(0,_.dot)(de,de),gt=(0,_.dot)(de,te);De.release(G),De.release(de),De.release(te);const Mt=we*ze-Oe*Oe;if(0===Mt)return null;const Nt=1/Mt,zt=(ze*Ie-Oe*gt)*Nt,kt=(we*gt-Oe*Ie)*Nt;return(0,_.set)(d,1-zt-kt,kt,zt),d}function Yh(d,s,m,c,T){const G=s[0],de=s[1],te=s[2];return d[0]=m[0]*G+c[0]*de+T[0]*te,d[1]=m[1]*G+c[1]*de+T[1]*te,d[2]=m[2]*G+c[2]*de+T[2]*te,d}function Qh(d,s,m,c){const T=De.get(),G=De.get();(0,_.subtract)(T,c,m),(0,_.subtract)(G,s,m),(0,_.cross)(T,T,G),De.release(G);const de=(0,_.squaredLength)(T);return de>0?((0,_.scale)(d,T,1/Math.sqrt(de)),De.release(T),d):(De.release(T),null)}const ep=(0,W.create)();class tp{constructor(s,m){u(this,"title",void 0),u(this,"shown",void 0),u(this,"trackingMode",void 0),u(this,"renderableIndex",void 0),u(this,"primitiveIndex",void 0),u(this,"variantIndex",void 0),u(this,"anatomyObject",void 0),u(this,"barycenter",void 0),u(this,"direction",(0,_.fromValues)(0,0,1)),u(this,"position",(0,_.create)()),u(this,"visible",void 0),u(this,"update",void 0),u(this,"destroy",void 0);const{object:c,trackingMode:T,renderableIndex:G=-1,primitiveIndex:de=-1,variantIndex:te=0}=m,we="primitive"===T&&m.barycenter?(0,_.copy)((0,_.create)(),m.barycenter):null;if("primitive"===T){if(!(G>=0))throw new Error("Primitive-tracked marker must have a renderableIndex >= 0.");if(!(de>=0))throw new Error("Primitive-tracked marker must have a primitiveIndex >= 0.");if(!(te>=0))throw new Error("Primitive-tracked marker must have a variantIndex >= 0.");if(!(te<c.variantCount))throw new Error("Primitive-tracked marker must have a variantIndex < object variant count.");if(!we)throw new Error("Primitive-tracked marker must have a barycenter.")}else{if("object"!==T)throw new Error("Unknown marker tracking mode: "+T);if(!m.worldPosition)throw new Error("Object-tracked marker must have a position.")}this.title=m.title||"";let Oe=m.shown??!0,Ie=!0,ze=!0,gt=null;const{sceneNode:Mt}=c,Nt=(0,_.create)(),zt=()=>{if(ze&&Ie){if("primitive"===T){if(!gt)return;gt.updateWorldMatrix();const Rn=de,Mn=De.get(),Bn=De.get(),Qn=De.get();Kh(gt,Rn,Mn,Bn,Qn),Yh(this.position,this.barycenter,Mn,Bn,Qn),(0,_.transformMat4)(this.position,this.position,gt.worldMatrix),(0,_.transformMat4)(Mn,Mn,gt.worldMatrix),(0,_.transformMat4)(Bn,Bn,gt.worldMatrix),(0,_.transformMat4)(Qn,Qn,gt.worldMatrix),Qh(this.direction,Mn,Bn,Qn),De.release(Mn),De.release(Bn),De.release(Qn)}else Mt.updateWorldMatrix(),(0,_.transformMat4)(this.position,Nt,Mt.worldMatrix);Ie=!1}},kt=()=>{const Rn=ze;ze=Oe&&c.shown&&s.active&&c.transformLoaded&&c.variant===te&&("primitive"!==T||!!gt?.visible),ze&&!Rn&&zt()},Jt=()=>{Ie=!0},kn=()=>{c.transformLoaded&&s.active&&(Mt.updateWorldMatrix(),(0,W.invert)(ep,Mt.worldMatrix),(0,_.transformMat4)(Nt,m.worldPosition,ep),Mt.on("updateWorldMatrix",Jt),c.off("loadtransform",kn),s.off("activate",kn),kt(),Ie=!0)},Dn=()=>{if(c.loaded&&c.variant===te){if(c.off("load",Dn),gt=c.variants[te][G]?.meshNode||null,!gt)return console.warn("Missing meshNode on marker target object",c,G),void(ze=!1);gt.on("updateWorldMatrix",Jt),gt.on("change",Jt),kt(),Ie=!0}};this.update=()=>{zt()},this.destroy=()=>{s.off("activate",kt),s.off("deactivate",kt),c.off("load",Dn),c.off("loadtransform",kn),c.off("change",kt),s.off("activate",kn),Mt.off("updateWorldMatrix",Jt),gt?.off("updateWorldMatrix",Jt),gt?.off("change",Jt)},Object.defineProperties(this,{shown:{get:()=>Oe,set:Rn=>{Oe!==Rn&&(Oe=Rn,kt())}},visible:{get:()=>ze},trackingMode:{writable:!1,value:T},anatomyObject:{writable:!1,value:c},renderableIndex:{writable:!1,value:G},primitiveIndex:{writable:!1,value:de},variantIndex:{writable:!1,value:te},barycenter:{writable:!1,value:we}}),"primitive"===T?c.loaded?Dn():c.on("load",Dn):c.transformLoaded&&s.active?kn():(c.on("loadtransform",kn),s.on("activate",kn)),c.on("change",kt),s.on("activate",kt),s.on("deactivate",kt),kt(),zt()}}function np(d,s,m){return s.updateWorldMatrix(),s.updateProjectionMatrix(),(0,_.transformMat4)(d,m,s.worldMatrixInverse),(0,_.transformMat4)(d,d,s.projectionMatrix),d}function rp(d,s,m){const{clientWidth:c,clientHeight:T}=s;return d[0]=(m[0]*c+c)/2,d[1]=(-m[1]*T+T)/2,d}const ip=.5*ut;class op{static meshOccludesMarkers(s,m){const c=m.story.anatomySceneGraph.findAnatomyObject(s);return!!c&&("auto"===c.occludesMarkers?rs(s)===tc.opaque:"always"===c.occludesMarkers)}constructor(s,m,c,T){u(this,"id",void 0),u(this,"title",void 0),u(this,"visible",void 0),u(this,"clipped",void 0),u(this,"occluded",void 0),u(this,"position",(0,_.create)()),u(this,"viewPosition",(0,_.create)()),u(this,"canvasPosition",(0,fs.create)()),u(this,"anatomyObject",void 0),u(this,"marker3D",void 0),u(this,"update",void 0),u(this,"destroy",void 0);let G=!1,de=!1,te=!1;const we=new tp(m,c),{camera:Oe}=m.story;this.update=()=>{if(we.update(),G=we.visible,!G)return de=!0,void(te=!0);(0,_.transformMat4)(this.viewPosition,we.position,Oe.worldMatrixInverse),np(this.position,Oe,we.position),rp(this.canvasPosition,s.renderer.canvas,this.position);const[Ie,ze]=this.position;if(de=Ie<-1||Ie>1||ze<-1||ze>1||this.viewPosition[2]>0,de)return void(te=!0);const gt=De.get(),Mt=De.get();(0,W.getTranslation)(gt,Oe.worldMatrix),(0,_.subtract)(Mt,gt,we.position);const Nt=(0,_.length)(Mt);De.release(Mt);const zt=Math.min(.1*Nt,ip),[kt,Jt]=this.canvasPosition;te=!!s.rayCastCamera(kt,Jt,{filter:Dn=>op.meshOccludesMarkers(Dn,s),radius:Math.max(0,Nt-zt)}),De.release(gt)},this.destroy=()=>{we.destroy()},Object.defineProperties(this,{visible:{get:()=>G},clipped:{get:()=>de},occluded:{get:()=>te},id:{writable:!1,value:T},anatomyObject:{writable:!1,value:we.anatomyObject},marker3D:{writable:!1,value:we},title:{writable:!1,value:we.title}})}}class qh extends fe{constructor(s,m){let c,T;super(),u(this,"object",void 0),u(this,"target",void 0),u(this,"update",void 0),u(this,"grab",void 0),u(this,"release",void 0);const G=(0,W.create)(),de=(0,W.create)(),te=de;this.update=(Oe,Ie)=>{const gt=Oe.getPose(m.inputSource.targetRaySpace,Ie);if(gt)if(T)(0,W.multiply)(T.worldMatrix,gt.transform.matrix,de),T.setWorldMatrix(T.worldMatrix);else{const Mt=s(gt)||null;Mt?(c=Mt.object,m.distance=Mt.distance,(0,W.copy)(G,gt.transform.matrix)):(c=null,m.distance=1/0)}},this.grab=()=>!(T||!c||(T=c,this.emit("grab",{object:T}),T.updateWorldMatrix(),(0,W.invert)(te,G),(0,W.multiply)(de,te,T.worldMatrix),0)),this.release=()=>{if(T){const Oe=T;return T=null,this.emit("release",{object:Oe}),!0}return!1};const we=this.destroy;this.destroy=()=>{this.release(),this.emit("destroy"),we()},Object.defineProperties(this,{object:{get:()=>T},target:{get:()=>T||c}})}}const sp=w(8638);function fu(d,s){if(!d)return null;if(s(d))return d;for(const m of d.children){const c=fu(m,s);if(c)return c}return null}function pu(d,s){return fu(d,m=>m.name===s)}const pm=w(9258),Zh=w(3128),Jh=w(6848),mm=10240,Kc=10241,ap=10242,gm=10243,ef=new Map([[9728,Ye.Nearest],[9729,Ye.Linear],[9984,Ye.Nearest],[9985,Ye.Linear],[9986,Ye.Nearest],[9987,Ye.Linear]]),nh=new Map([[9728,Ye.Nearest],[9729,Ye.Nearest],[9984,Ye.Nearest],[9985,Ye.Nearest],[9986,Ye.Linear],[9987,Ye.Linear]]),_m=new Map([[33071,Ze.ClampToEdge],[10497,Ze.Repeat],[33648,Ze.MirrorRepeat]]);function mu(d,s,m){const{name:c,children:T,mesh:G,light:de,matrix:te,translation:we,scale:Oe,rotation:Ie}=d,ze=new Qe(Object.assign({name:c},te?null:{position:we,scale:Oe,quaternion:Ie}));if(te&&ze.setMatrix(te),G){const gt=s[G.id];if(gt.parent)throw new Error("Duplicate mesh parent");ze.add(gt)}if(void 0!==de&&m){const gt=m[de];if(gt.parent)throw new Error("Duplicate mesh parent");ze.add(gt)}if(T)for(let gt=0;gt<T.length;gt++){const Mt=mu(T[gt],s,m);ze.add(Mt)}return ze}const vm={TEXCOORD_0:"texcoord",COLOR_0:"color"};function tf(d,s){return s===Do?new Float32Array(d).map(m=>Math.max(m/127,-1)):s===xs?new Float32Array(d).map(m=>m/255):s===pa?new Float32Array(d).map(m=>Math.max(m/32767,-1)):s===Ys?new Float32Array(d).map(m=>m/65535):d}function lp(d,s){const{attributes:m,indices:c,mode:T=4}=d;4!==T&&console.warn("Unknown primitive mode: "+T);const G={};c?.value&&(G.indices=c.value);for(const[we,Oe]of Object.entries(m)){const{value:Ie,components:ze,normalized:gt,componentType:Mt}=Oe,Nt=gt?tf(Ie,Mt):Ie;G[vm[we]||we.toLocaleLowerCase()]={numComponents:ze,data:Nt}}const de=m.POSITION.min&&m.POSITION?.normalized?tf(m.POSITION.min,m.POSITION.componentType):m.POSITION.min,te=m.POSITION.max&&m.POSITION?.normalized?tf(m.POSITION.max,m.POSITION.componentType):m.POSITION.max;return s(G,de&&te?{min:de,max:te}:void 0)}function ym(d,s){const m={},c=[],T={};let G=null;const de=s.makeMaterial({id:"-no-material-",name:"<missing material>"},c),{makeMaterial:te,makeGeometry:we=((gt,Mt)=>new $n(gt,Mt)),makeMeshNode:Oe=((gt,Mt,Nt)=>new St(gt,Mt,Nt))}=s;d.textures?.forEach((gt,Mt)=>{c[Mt]=function(Nt){const{sampler:zt,source:kt}=Nt,{image:Jt}=kt,kn=zt.parameters||zt,Dn=zt.minFilter||kn[Kc],Rn=zt.magFilter||kn[mm],Mn=kn[ap],Bn=kn[gm];return new ya(Jt,{name:Nt.source.name||Nt.id,min:ef.get(Dn)||Ye.Linear,mag:ef.get(Rn)||Ye.Linear,mipmapFilter:nh.get(Dn)||Ye.Nearest,wrapU:_m.get(Mn)||Ze.Repeat,wrapV:_m.get(Bn)||Ze.Repeat,rowOrder:"top-down"})}(gt)}),d.materials?.forEach(gt=>{m[gt.id]=te(gt,c)}),d.meshes?.forEach(gt=>{const Mt=new Qe({name:gt.name||gt.id});T[gt.id]=Mt,gt.primitives.forEach((Nt,zt)=>{const{material:kt}=Nt,Jt=kt&&m[kt.id]||de,kn=lp(Nt,we),Dn=Oe(kn,Jt,{name:Mt.name+":"+zt});Dn.name=gt.name||gt.id,kn.name=Dn.name,Mt.add(Dn)})}),s.makeLight&&d.lights&&(G=d.lights.map(s.makeLight));const Ie=d.scene||d.scenes[0],ze=new Qe({name:Ie?.name||Ie?.id||"GLTF Scene"});return Ie.nodes.forEach(gt=>{ze.add(mu(gt,T,G))}),ze}function bm(d,s){return kd.apply(this,arguments)}function kd(){return kd=b(function*(d,s){const m=yield(0,pm.load)(d,Zh.GLTFLoader,{DracoLoader:Jh.DracoLoader});return{node:ym((0,Zh.postProcessGLTF)(m),s),gltf:m}}),kd.apply(this,arguments)}const xm={position:{numComponents:3,normalized:!1,data:new Float32Array([0,-.01,0,0,-.01,-4,.00866,.005,0,.00866,.005,-4,-.00866,.005,0,-.00866,.005,-4].map(d=>.25*d))},indices:[1,2,0,3,4,2,5,0,4,1,3,2,3,5,4,5,1,0]};function rh(d){return new Qe(d)}function gu(d,s=rh){const m=s(d);for(const c of d.children)m.add(gu(c,s));return m}const Xc=Math.PI,nf=2*Xc,ih=new Map,_u=typeof WeakMap<"u"?new WeakMap:new Map,oh=typeof WeakMap<"u"?new WeakMap:new Map;function Fd(d){return d instanceof Me?new Me(d.geometry,d.material,d):new Qe(d)}class sh extends Qe{constructor(s,m){super(m),u(this,"inputSource",void 0),u(this,"pointer",void 0),u(this,"distance",void 0),u(this,"load",void 0),u(this,"update",void 0);let c=null,T=null,G=!1,de=j;const te=new Map,we=new Qe;this.add(we);let Oe=_u.get(m.makeGeometry);Oe||(Oe=m.makeGeometry(xm));let Ie=null;"tracked-pointer"===s.targetRayMode&&(Ie=m.makeMeshNode(Oe,m.lineMaterial,{name:"line",rotationSource:"euler"}),Ie.scale[2]=de,Ie.dirtyMatrix(),we.add(Ie));let ze=null,gt=null;const Mt=[];if(s.hand){ze=new Float32Array(400),gt=new Float32Array(25),T=new Qe({name:`hand.${s.handedness}`});let kt=oh.get(m.makeGeometry);if(!kt){const kn=function(Dn){const Rn=Dn?.radius||1,Mn=Math.max(3,Math.floor(Dn?.widthSegments||32)),Bn=Math.max(2,Dn?.heightSegments||32),Qn=void 0!==Dn?.phiStart?Dn?.phiStart:0,dr=void 0!==Dn?.phiLength?Dn?.phiLength:nf,Gn=void 0!==Dn?.thetaStart?Dn?.thetaStart:0,Nr=void 0!==Dn?.thetaLength?Dn?.thetaLength:Xc,Xr=void 0!==Dn?.uOffset?Dn?.uOffset:0,ri=void 0!==Dn?.vOffset?Dn?.vOffset:0,Br=void 0!==Dn?.uScale?Dn?.uScale:1,Sr=void 0!==Dn?.vScale?Dn?.vScale:1,Hr=Gn+Nr,ai=(Mn+1)*(Bn+1),ui=new Float32Array(3*ai),ro=new Float32Array(3*ai),Zi=new Float32Array(2*ai),No=[],wo={min:(0,_.fromValues)(-Rn,-Rn,-Rn),max:(0,_.fromValues)(Rn,Rn,Rn)};let os=0,Ri=0,Ir=0;for(let fo=0;fo<=Bn;fo++){const ia=[],Qs=fo/Bn,Ss=Qs*Nr,Ga=Math.sin(Gn+Ss),Ra=Math.cos(Gn+Ss),Ya=Ra*Rn,Dl=ri+Sr*(1-Qs);for(let zl=0;zl<=Mn;zl++){const pc=zl/Mn,Cu=Xr+Br*pc,Au=pc*dr,mc=-Math.cos(Qn+Au)*Ga,Ca=Math.sin(Qn+Au)*Ga,oc=Ca*Rn;ui[Ri]=mc*Rn,ro[Ri++]=mc,ui[Ri]=Ya,ro[Ri++]=Ra,ui[Ri]=oc,ro[Ri++]=Ca,Zi[Ir++]=Cu,Zi[Ir++]=Dl,ia.push(os),os++}No.push(ia)}const yi=[];for(let fo=0;fo<Bn;fo++){const ia=No[fo],Qs=No[fo+1];for(let Ss=0;Ss<Mn;Ss++){const Ra=ia[Ss],Ya=Qs[Ss],Dl=Qs[Ss+1];(fo||Gn>0)&&yi.push(ia[Ss+1],Ra,Dl),(fo!==Bn-1||Hr<Xc)&&yi.push(Ra,Ya,Dl)}}return{arrays:{position:ui,normal:ro,texcoord:Zi,indices:pt(ai,yi)},bounds:wo}}({widthSegments:4,heightSegments:3});kt=m.makeGeometry(kn.arrays),$e(kt.bounds,kn.bounds)}let Jt=0;s.hand.forEach((kn,Dn)=>{const Rn=m.makeMeshNode(kt,m.handMaterial,{name:Dn,arrays:{matrix:ze.subarray(Jt,Jt+=16)}});Rn.parent=T,Mt.push(Rn)}),this.load=()=>Promise.resolve()}else{const kt=b(function*(){const{profile:Jt,assetPath:kn=""}=yield(0,sp.fetchProfile)(s,"https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles");if(G)return;c=new sp.MotionController(s,Jt,kn);const{rootNodeName:Dn}=c.layoutDescription;let Rn=ih.get(kn);Rn||(Rn=bm(kn,m).then(({node:Bn})=>pu(Bn,Dn)||Bn),ih.set(kn,Rn));const Mn=yield Rn;G||(Mn?(T=gu(Mn,Fd),Object.values(c.components).forEach(Bn=>{Object.values(Bn.visualResponses).forEach(Qn=>{const dr=pu(T,Qn.valueNodeName);if(!dr)return void console.warn("Missing controller visual response object: "+Qn.valueNodeName);const Gn={visualResponse:Qn,valueNode:dr,parentNode:dr.parent};te.set(Qn.valueNodeName,Gn),"transform"===Qn.valueNodeProperty&&(Gn.minNode=pu(T,Qn.minNodeName),Gn.maxNode=pu(T,Qn.maxNodeName))})})):console.warn("Missing controller root "+Dn))})();this.load=()=>kt}const Nt=(kt,Jt)=>{const kn=kt.getPose(s.gripSpace,Jt);if(!kn)return we.parent=null,void(T&&(T.parent=null));this.setWorldMatrix(kn.transform.matrix),we.parent=this;let Dn=null;try{Dn=kt.getPose(s.targetRaySpace,s.gripSpace)||kn}catch{Dn=kn}we.setMatrix(Dn.transform.matrix),T&&(!1===m.renderOpaque&&"opaque"!==kt.session.environmentBlendMode||!s.gripSpace?T.parent=null:(T.parent=this,s.hand&&(kt.fillPoses(s.hand.values(),s.gripSpace,ze),kt.fillJointRadii(s.hand.values(),gt),Mt.forEach((Rn,Mn)=>{Rn.setMatrix(Rn.matrix);const Bn=gt[Mn];(0,_.set)(Rn.scale,Bn,Bn,Bn),Rn.dirtyMatrix()})),te.forEach(({valueNode:Rn,parentNode:Mn,minNode:Bn,maxNode:Qn,visualResponse:dr})=>{"visibility"===dr.valueNodeProperty?Rn.parent=dr.value?Mn:null:"transform"===dr.valueNodeProperty&&((0,D.slerp)(Rn.quaternion,Bn.quaternion,Qn.quaternion,dr.value),(0,_.lerp)(Rn.position,Bn.position,Qn.position,dr.value),Rn.dirtyMatrix())})))};this.update=(kt,Jt)=>{Nt(kt,Jt),T&&c&&c.updateFromGamepad()};const zt=this.destroy;this.destroy=()=>{G=!0,we.destroy(),Ie&&(Ie.destroy(),Ie=null),T&&(T.destroy(),T=null),zt()},Object.defineProperties(this,{pointer:{value:we,writable:!1},inputSource:{value:s,writable:!1},distance:{get:()=>de,set(kt){const Jt=de!==kt;de=Q(kt,-j,j),Ie&&Jt&&(Ie.scale[2]=de,Ie.dirtyMatrix())}}})}}class vu extends fe{constructor(s){super(),u(this,"session",void 0),u(this,"controllers",void 0),u(this,"get",void 0),u(this,"update",void 0),u(this,"destroy",void 0);const{sceneRoot:m,...c}=s,T=new Map,G=new Set;let de=null;const te=Ie=>{for(const ze of Ie)if(ze.gamepad){let gt=T.get(ze);gt||(gt=new sh(ze,c),T.set(ze,gt)),G.add(gt),m.add(gt),this.emit("add",{controller:gt})}},we=Ie=>{for(const ze of Ie){const gt=T.get(ze);gt&&(G.delete(gt),gt.parent=null),this.emit("remove",{controller:gt})}};function Oe(Ie){te(Ie.added),we(Ie.removed)}this.get=Ie=>{const ze=T.get(Ie);return G.has(ze)?ze:null},this.update=(Ie,ze)=>{G.forEach(gt=>gt.update(Ie,ze))},this.destroy=()=>{this.session=null,T.forEach(Ie=>Ie.destroy()),T.clear(),G.clear()},Object.defineProperties(this,{controllers:{value:G,writable:!1},session:{get:()=>de,set(Ie){Ie!==de&&(de&&we(T.keys()),de=Ie,de&&(de.addEventListener("inputsourceschange",Oe),te(de.inputSources)))}}})}}function Bd(d,s){const m=[],c=(te,we)=>{if(te){const Oe=s[te.index];if(!Oe)return void console.warn(`Texture '${te.index}' missing from GLTF`);m.push({texture:Oe,applyTo:we,blendMode:"over",blendFactor:1})}},T={name:d.name,textures:m};if(d.emissiveFactor){const[te,we,Oe]=d.emissiveFactor;T.emitColor=[te,we,Oe,1]}const{pbrMetallicRoughness:G}=d;if(G&&(T.type="metallic"),G?.baseColorFactor){const[te,we,Oe,Ie]=G.baseColorFactor;T.baseColor=[te,we,Oe],T.opacity=Ie}T.metallic=G?.metallicFactor??1,T.roughness=G?.roughnessFactor??1,c(d.emissiveTexture,"emit"),c(d.normalTexture,"normals"),c(d.occlusionTexture,"occlusion"),c(G?.baseColorTexture,"baseColor");const de=d.extensions?.KHR_materials_specular;return de&&(de.specularFactor<1&&console.warn(`GLTF specularFactor (${de.specularFactor}) not supported`),de.specularColorFactor&&(T.specularColor=de.specularColorFactor),de.specularTexture&&console.warn("GLTF specularTexture not supported"),c(de.specularColorTexture,"specular")),new vr(T)}function Em(d,s){const m={name:d.name},{pbrMetallicRoughness:c}=d;if(c?.baseColorFactor){const[T,G,de,te]=c.baseColorFactor;m.baseColor=[T,G,de],m.opacity=te}if(c?.baseColorTexture){const T=s[c.baseColorTexture.index];T?(m.baseColorMaps=[{texture:T,blendMode:"multiply",blendFactor:1}],"image/jpeg"===c.baseColorTexture.texture?.source.mimeType||T.source instanceof HTMLImageElement&&/\.jpg$/i.test(T.source.src)||(m.opacityMaps=[{texture:T,blendMode:"multiply",channel:"a"}])):console.warn(`Texture [${c.baseColorTexture.index}] missing from GLTF`)}return new Vi(m)}function ah(d,s){const m={name:d.name},c=(de,te,we)=>{if(te){const Oe=s[te.index];if(!Oe)return void console.warn(`Texture '${te.index}' missing from GLTF`);te.texCoord>0&&console.warn(`Texture '${te.index}' unsupported multiple UVs`),te.extensions?.KHR_texture_transform&&console.warn(`Texture '${te.index}' unsupported KHR_texture_transform`);const Ie={texture:Oe,blendFactor:1};we&&Object.assign(Ie,we),m[de]=[Ie]}};d.emissiveFactor&&(m.emissive=d.emissiveFactor);const{pbrMetallicRoughness:T}=d;if(T?.baseColorFactor){const[de,te,we,Oe]=T.baseColorFactor;m.baseColor=[de,te,we],m.opacity=Oe}m.metallic=T?.metallicFactor??1,m.roughness=T?.roughnessFactor??1,d.extensions?.KHR_materials_ior&&(m.ior=d.extensions.KHR_materials_ior.ior),c("baseColorMaps",T?.baseColorTexture),c("opacityMaps",T?.baseColorTexture,{channel:"a"}),c("normalMaps",d.normalTexture,{blendMode:"over"}),c("emissiveMaps",d.emissiveTexture),c("occlusionMaps",d.occlusionTexture),c("metallicMaps",T?.metallicRoughnessTexture,{blendMode:"multiply",channel:"b"}),c("roughnessMaps",T?.metallicRoughnessTexture,{blendMode:"multiply",channel:"g"}),"BLEND"!==d.alphaMode&&"MASK"!==d.alphaMode||c("baseColorMaps",T?.baseColorTexture,{blendMode:"multiply",channel:"a"});const G=d.extensions?.KHR_materials_specular;return G&&(isNaN(G.specularFactor)||(m.specularFactor=G.specularFactor),G.specularColorFactor&&(m.specularColor=G.specularColorFactor),c("specularFactorMaps",G.specularTexture,{blendMode:"multiply",channel:"a"}),c("specularColorMaps",G.specularColorTexture,{blendMode:"multiply"})),new Qi(m)}class yu{constructor(s){u(this,"session",void 0),u(this,"isGrabbable",void 0),u(this,"destroy",void 0);const{renderer:m,engine:c,materialMode:T}=s,G=new Vi({baseColor:[.6,.6,.7],opacity:.8}),de=new Vi({baseColor:[.6,.6,.6]}),te=new vu({sceneRoot:c.rootNode,makeMaterial:(kt,Jt)=>"unlit"===T||kt.unlit||kt.extensions?.KHR_materials_unlit?Em(kt,Jt):"physical"===T?ah(kt,Jt):Bd(kt,Jt),makeGeometry:(kt,Jt)=>new gr(kt,Jt),makeMeshNode:(kt,Jt,kn)=>new Me(kt,Jt,{clippable:!1,...kn}),lineMaterial:G,handMaterial:de,renderOpaque:!1}),we=new Map,Oe=new Map,Ie=new Set;let ze=null;function gt({frame:kt}){const{xrRefSpace:Jt}=m;te?.update(kt,Jt),Oe.forEach(kn=>kn.update(kt,Jt))}function Mt(kt){const Jt=c.rayCast(kt.transform.matrix,{near:0}),kn=Jt?.object,Dn=kn&&c.story.anatomySceneGraph.findAnatomyObject(kn),Rn=Dn?.sceneNode||kn;return!Rn||Ie.has(Rn)?null:{object:Rn,distance:Jt.distance}}function Nt(kt){const Jt=te.get(kt.inputSource),kn=Jt&&Oe.get(Jt);kn&&kn.grab()}function zt(kt){const Jt=te.get(kt.inputSource),kn=Jt&&Oe.get(Jt);kn&&kn.release()}te.on("add",({controller:kt})=>{const Jt=new qh(Mt,kt);Jt.on("grab",({object:Dn})=>Ie.add(Dn)),Jt.on("release",({object:Dn})=>Ie.delete(Dn)),Oe.set(kt,Jt);const kn=new us(kt);we.set(kt,kn)}),te.on("remove",({controller:kt})=>{const Jt=Oe.get(kt);Jt&&(Oe.delete(kt),Jt.destroy());const kn=we.get(kt);kn&&(we.delete(kt),kn.destroy())}),m.on("xrframe",gt),this.isGrabbable=kt=>{for(const[,Jt]of we)if(Jt.has(kt))return!1;return!0},this.destroy=()=>{m.off("xrframe",gt),this.session=null,we.forEach(kt=>kt.destroy()),we.clear(),Oe.forEach(kt=>kt.destroy()),Oe.clear(),te.destroy()},Object.defineProperties(this,{session:{get:()=>ze,set(kt){kt!==ze&&(ze&&(ze.removeEventListener("selectstart",Nt),ze.removeEventListener("selectend",zt)),ze=kt,te.session=ze,ze&&(ze.addEventListener("selectstart",Nt),ze.addEventListener("selectend",zt)))}}})}}function cp(d,s,m,c="utf-8"){s=s||0,m=m||d.byteLength;const T=new Uint8Array(d,s,m);return new TextDecoder(c).decode(T)}function fd(d,s,m,c){return rf.apply(this,arguments)}function rf(){return rf=b(function*(d,s,m,c){const T=m.split("/"),G=It(d,"content/states",T[0],s,T[1],c);try{return(yield rt(G)).json()}catch(de){throw new Error(`Error loading asset library: ${de.message}`)}}),rf.apply(this,arguments)}const wm={geometry:"geometry"};class sf{constructor(s,m={}){u(this,"getAsset",void 0),u(this,"getAssetLibrary",void 0),u(this,"destroy",void 0),u(this,"dataSize",{material:0,morph:0,geometry:0,transform:0});const{timeout:c=12e3,sendInterval:T=5,reconnectInterval:G=500,socketProtocol:de="wss",makeSocket:te=(Qn=>new WebSocket(Qn))}=m,we=new Map,Oe=[],Ie=de+"://"+s+"/assets/ws3",{dataSize:ze}=this;let gt=null,Mt=1/0,Nt=0,zt=0,kt=0;function Jt(){Date.now()-Mt>=c&&Mn("Asset server connection timed out")}function kn(){Mt=Date.now(),clearTimeout(kt),kt=setTimeout(Jt,c)}function Dn(){return!(!gt||gt.readyState!==gt.OPEN||(Oe.length&&(gt.send(JSON.stringify({assets:Oe})),Oe.length=0),kn(),0))}function Rn(){clearTimeout(zt),zt=0,gt&&gt.readyState!==gt.CLOSING&&gt.readyState!==gt.CLOSED||(gt=function(){const Qn=te(Ie);return Qn.binaryType="arraybuffer",Qn.addEventListener("open",()=>{Dn()}),Qn.addEventListener("close",dr=>{gt===Qn&&(gt=null,Oe.length&&(zt=setTimeout(Rn,G))),Jt()}),Qn.addEventListener("message",dr=>{const Gn=dr.data;let Nr,Xr,ri=0;if(kn(),"string"==typeof Gn){if("\u{1f37a}"===Gn)return;const Sr=JSON.parse(Gn);Xr=Sr.id,ri=new Blob([Gn]).size,Nr=Sr.error||!Sr.asset?null:Sr.asset}else{Nr=Gn;const Sr=new DataView(Nr),Hr=Sr.getUint32(0,!0);let ai;const ui=Sr.getUint32(4,!0);ri=Gn.byteLength,ai=17===Hr?11*Uint32Array.BYTES_PER_ELEMENT:Sr.getUint32(12,!0),Xr=cp(Nr,ai,ui).trim()}const Br=we.get(Xr);we.delete(Xr),Br&&(ze[Br.type]+=ri,Br.resolve(Nr))}),Qn}())}function Mn(Qn){we.forEach((dr,Gn)=>{if(dr){const{reject:Nr}=dr;we.delete(Gn),Nr(new Error(Qn))}})}function Bn(){clearTimeout(Nt),Nt=0,Dn()||(Jt(),Rn())}Rn(),this.getAsset=(Qn,dr)=>{const Gn=dr.split("/");if(2!==Gn.length&&3!==Gn.length)throw new Error("Incorrectly formattted asset id: "+dr);const ri=Gn[2];let Br=Gn[0]+"/"+(wm[Qn]||Qn+"s")+"/"+Gn[1];ri&&(Br+="/"+ri);let Sr=we.get(Br);Sr||(Sr={...Pt(),type:Qn},we.set(Br,Sr),Oe.push(Br));const Hr=Sr.promise;return Nt||(Nt=setTimeout(Bn,T)),Hr},this.getAssetLibrary=fd,this.destroy=()=>{clearTimeout(Nt),Nt=0,clearTimeout(zt),zt=0,clearTimeout(kt),kt=0,Mn("Asset server connection destroyed"),we.clear(),Oe.length=0,gt&&gt.readyState!==gt.CLOSING&&gt.readyState!==gt.CLOSED&&gt.close(),gt=null}}}const af=(d,s)=>It(d,"assets",s.replaceAll(":",";").replaceAll("|","/")+".bda"),Cm=/\.[\w\d]+$/,Am={material:(d,s,m)=>b(function*(){const c=af(s,m);return(yield(yield fetch(c,{signal:d})).json()).asset})(),morph(d,s,m){const c=af(s,m);return fetch(c,{signal:d}).then(T=>T.arrayBuffer())},geometry:(d,s,m,c,T)=>{return(G=te=>fetch(te,{signal:d}).then(we=>we.json()),de=te=>fetch(te,{signal:d}).then(we=>we.arrayBuffer()),function(){var te=b(function*(we,Oe,Ie,ze){ze.geometry||(ze.geometry={index:null,blocks:new Map});const{blocks:gt}=ze.geometry;let Mt=ze.geometry.index;if(!Mt){const Bn=It(we,"blocks/geometry/modules",Ie,"index.json");Mt=G(Bn),ze.geometry.index=Mt}const Nt=yield Mt,{block:zt,offlen:kt}=Nt[Oe],Jt=Ie+"/"+zt;let kn=gt.get(Jt);if(!kn){const Bn=It(we,"blocks/geometry/modules",Ie,zt);kn=de(Bn),gt.set(Jt,kn)}const Dn=yield kn,[Rn,Mn]=kt;return Dn.slice(Rn,Rn+Mn)});return function(we,Oe,Ie,ze){return te.apply(this,arguments)}}())(s,m,c,T);var G,de},transform:(d,s,m,c,T)=>b(function*(){if(!T.transform){const de=It(s,"transforms/modules",c+".json");T.transform=fetch(de,{signal:d}).then(te=>te.json())}return(yield T.transform)[m]?.asset})()};class bu{constructor(s,m=""){u(this,"getAsset",void 0),u(this,"getAssetLibrary",void 0),u(this,"destroy",void 0),u(this,"moduleId",void 0),u(this,"requiresFileExtensions",!1),this.moduleId=m;const c={},T=typeof AbortController>"u"?null:new ye;this.getAsset=P((de,te)=>{const we=Am[de];if(!we)throw new Error("BioDigitalFileServer: Unsupported type '$type'");let Oe=null;T&&(Oe=new AbortController,T.set(de,te,Oe));let Ie=we(Oe?.signal,s,te,this.moduleId,c);return T&&(Ie=Ie.then(ze=>(T?.delete(de,te),ze))),Ie});const G=P(fd);this.getAssetLibrary=(de,te,we,Oe)=>{return G(de,te,we,this.requiresFileExtensions?Cm.test(Ie=Oe)?Ie:Ie+".json":Oe);var Ie},this.destroy=()=>{T&&(T.forEach(de=>de.abort()),T.clear())}}}const lf=Math.PI/2,lh=d=>!!(1&d.buttons),dp=d=>!!(6&d.buttons);class xg{constructor(s,m=(0,_.create)()){u(this,"camera",void 0),u(this,"target",void 0),u(this,"minPolarAngle",void 0),u(this,"maxPolarAngle",void 0),u(this,"minAzimuthAngle",void 0),u(this,"maxAzimuthAngle",void 0),u(this,"minDistance",void 0),u(this,"maxDistance",void 0),u(this,"azimuthRate",void 0),u(this,"polarRate",void 0),u(this,"zoomRate",void 0),u(this,"attach",void 0),u(this,"detach",void 0),this.camera=s,this.target=m,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minPolarAngle=-lf,this.maxPolarAngle=lf,this.minDistance=.1,this.maxDistance=1/0,this.azimuthRate=.005,this.polarRate=.01,this.zoomRate=.002;let c=null,T=-1,G=!1,de=!1,te=0,we=0;function Oe(Nt){G=lh(Nt),de=!G&&dp(Nt)}const Ie=Nt=>{!Nt.isPrimary||T>=0||(lh(Nt)||dp(Nt))&&(T=Nt.pointerId,Oe(Nt),te=Nt.pageX,we=Nt.pageY)},ze=Nt=>{if(Nt.isPrimary&&T===Nt.pointerId&&(Oe(Nt),G)){const zt=Nt.pageX-te,kt=Nt.pageY-we;te=Nt.pageX,we=Nt.pageY,this.panZoom(this.azimuthRate*zt,this.polarRate*kt)}};function gt(Nt){Nt.isPrimary&&T===Nt.pointerId&&(Oe(Nt),G||de||(T=-1))}const Mt=Nt=>{this.panZoom(0,0,Nt.deltaY*this.zoomRate)};this.attach=Nt=>{c&&this.detach(),c=Nt,Nt.addEventListener("pointerdown",Ie),window.addEventListener("pointermove",ze),window.addEventListener("pointerup",gt),window.addEventListener("pointercancel",gt),window.addEventListener("wheel",Mt)},this.detach=()=>{c&&c.removeEventListener("pointerdown",Ie),window.removeEventListener("pointermove",ze),window.removeEventListener("pointerup",gt),window.removeEventListener("pointercancel",gt),window.removeEventListener("wheel",Mt)}}panZoom(s=0,m=0,c=0){const{camera:T,target:G}=this,de=De.get();if(T.parent){const zt=De.get();T.updateWorldMatrix(),(0,W.getTranslation)(zt,T.worldMatrix),(0,_.subtract)(de,zt,G),De.release(zt)}else(0,_.subtract)(de,T.position,G);const te=(0,_.length)(de),we=te?Math.asin(de[1]/te):0,Oe=Math.atan2(de[2],de[0]),Ie=this.minAzimuthAngle<=this.maxAzimuthAngle?this.minAzimuthAngle:this.minAzimuthAngle-Math.PI,ze=this.minAzimuthAngle<=this.maxAzimuthAngle?this.maxAzimuthAngle:this.minAzimuthAngle+this.minAzimuthAngle-this.maxAzimuthAngle,gt=Q(te*(1+c),this.minDistance,this.maxDistance),Mt=Q(we+m,this.minPolarAngle,this.maxPolarAngle),Nt=Q(Oe+s,Ie,ze);if(gt!==te||Mt!==we||Nt!==Oe){const zt=gt?Math.sin(Mt)*gt:0,kt=zt?Math.cos(Mt)*gt:gt,Jt=kt?Math.cos(Nt)*kt:0,kn=kt?Math.sin(Nt)*kt:0;T.parent?(T.worldMatrix[12]=Jt+G[0],T.worldMatrix[13]=zt+G[1],T.worldMatrix[14]=kn+G[2],T.setWorldMatrix(T.worldMatrix)):(de[0]=Jt,de[1]=zt,de[2]=kn,(0,_.add)(T.position,de,G),T.dirtyMatrix())}T.lookAt(G),De.release(de)}update(){this.panZoom(0,0,0)}}let cf=(()=>{var d,s=new WeakMap,m=new WeakMap,c=new WeakMap,T=new WeakMap,G=new WeakMap,de=new WeakMap,te=new WeakMap,we=new WeakMap,Oe=new WeakSet;class Ie{constructor(zt){r(this,Oe),u(this,"enabled",void 0),u(this,"rootNode",void 0),u(this,"parentNode",void 0),E(this,s,void 0),E(this,m,null),E(this,c,void 0),E(this,T,void 0),E(this,G,void 0),E(this,de,void 0),E(this,te,void 0),E(this,we,void 0),this.rootNode=new Qe({scale:[ut,ut,ut],name:"BioDigitalEngine particle system debug view",rotationSource:"euler"}),this.parentNode=zt.rootNode,f(c,this,new ye),x(Oe,this,ze).call(this),x(Oe,this,gt).call(this),x(Oe,this,Mt).call(this);let kt=!1;Object.defineProperties(this,{enabled:{get:()=>kt,set:Jt=>{this.rootNode.parent=Jt?this.parentNode:null,kt=Jt}}}),this.enabled=!0}get size(){return C(c,this).size}destroy(){this.enabled=!1,this.chapter=null,C(T,this).destroy(),C(G,this).destroy(),C(de,this).destroy(),C(te,this).destroy(),C(we,this).destroy(),this.rootNode.destroy()}get chapter(){return C(m,this)}set chapter(zt){C(m,this)!==zt&&(this.rootNode.children.forEach(kt=>kt.destroy()),f(m,this,zt),C(c,this).clear(),zt?.particleSystemIds.forEach(kt=>{const Jt=zt.story.particleSystemDefs.get(kt),kn=[];for(let Dn=0;Dn<Jt.creators.length;Dn++){const Rn=Jt.creators[Dn];if(void 0!==C(s,this)[Rn.type]){const Mn=C(s,this)[Rn.type],Bn=C(G,this);let Qn;if("translate"in Rn?Qn={position:new Float32Array(Rn.translate),rotation:Rn.rotate,scale:Rn.scale}:"position"in Rn&&(Qn={position:new Float32Array(Rn.position)}),void 0!==Qn){const dr=new Me(Mn,Bn,Qn);kn.push({psId:kt,creatorId:Rn.id,legacyMeshNode:dr})}}}kn.length>0&&(kn.at(-1).legacyMeshNode.material=C(T,this));for(let Dn=0;Dn<kn.length;Dn++){const{psId:Rn,creatorId:Mn,legacyMeshNode:Bn}=kn[Dn];C(c,this).set(Rn,Mn,Bn),this.rootNode.add(Bn)}}))}update(){this.enabled&&C(c,this).forEach((zt,kt,Jt)=>{const kn=C(m,this).particleSystems.get(kt),Dn=kn.get(Jt,"translate")||kn.get(Jt,"position"),Rn=kn.get(Jt,"rotate"),Mn=kn.get(Jt,"scale");Dn&&(0,_.copy)(zt.position,Dn),Rn&&(0,_.copy)(zt.rotation,Rn),Mn&&(0,_.copy)(zt.scale,Mn),(Dn||Rn||Mn)&&zt.dirtyMatrix()})}}function ze(){f(T,this,new Vi({baseColor:d.creatorColor})),f(G,this,new Vi({baseColor:d.warningColor}))}function gt(){const{arrays:Nt,bounds:zt}=function(Rn={}){const Mn=Rn.width??1,Bn=Rn.height??1,Qn=Rn.depth??1,dr=new Float32Array(24),Gn=Mn/2,Nr=Bn/2,Xr=Qn/2;dr[0]=Gn,dr[1]=Nr,dr[2]=-Xr,dr[3]=-Gn,dr[4]=Nr,dr[5]=-Xr,dr[6]=-Gn,dr[7]=-Nr,dr[8]=-Xr,dr[9]=Gn,dr[10]=-Nr,dr[11]=-Xr,dr[12]=Gn,dr[13]=Nr,dr[14]=Xr,dr[15]=-Gn,dr[16]=Nr,dr[17]=Xr,dr[18]=-Gn,dr[19]=-Nr,dr[20]=Xr,dr[21]=Gn,dr[22]=-Nr,dr[23]=Xr;const ri={min:(0,_.fromValues)(-Gn,-Nr,-Xr),max:(0,_.fromValues)(Gn,Nr,Xr)};return{arrays:{position:dr,indices:pt(8,[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])},bounds:ri}}();f(de,this,new gr(Nt,zt)),C(de,this).topology=Ke.lines;const{arrays:kt,bounds:Jt}=function(Rn={}){const Mn=Rn.radius??1,Bn=Rn.radialSegments??32,Qn=3*Bn,dr=new Float32Array(3*Qn),Gn=[],Nr=2*Math.PI/Bn;let Xr=0,ri=0,Br=3*Bn;for(let Hr=0;Hr<Br;Hr+=3){const ai=Hr+0,ui=Hr+1,ro=Hr+2;Xr+=Nr;const Zi=Math.cos(Xr)*Mn,No=Math.sin(Xr)*Mn,wo=0;dr[ai]=Zi,dr[ui]=No,dr[ro]=wo}ri=0,Br=Bn;for(let Hr=ri;Hr<Br;Hr++)Gn.push(Hr,(Hr+1)%Br==0?ri:(Hr+1)%Br);Xr=0,ri=3*Bn,Br=3*(Bn+Bn);for(let Hr=ri;Hr<Br;Hr+=3){const ai=Hr+0,ui=Hr+1,ro=Hr+2;Xr+=Nr;const Zi=Math.cos(Xr)*Mn,No=0,wo=Math.sin(Xr)*Mn;dr[ai]=Zi,dr[ui]=No,dr[ro]=wo}ri=Bn,Br=Bn+Bn;for(let Hr=ri;Hr<Br;Hr++)Gn.push(Hr,(Hr+1)%Br==0?ri:(Hr+1)%Br);Xr=0,ri=3*(Bn+Bn),Br=3*(Bn+Bn+Bn);for(let Hr=ri;Hr<Br;Hr+=3){const ai=Hr+0,ui=Hr+1,ro=Hr+2;Xr+=Nr;const Zi=0,No=Math.sin(Xr)*Mn,wo=Math.cos(Xr)*Mn;dr[ai]=Zi,dr[ui]=No,dr[ro]=wo}ri=Bn+Bn,Br=Bn+Bn+Bn;for(let Hr=ri;Hr<Br;Hr++)Gn.push(Hr,(Hr+1)%Br==0?ri:(Hr+1)%Br);const Sr={min:(0,_.fromValues)(-Mn,-Mn,-Mn),max:(0,_.fromValues)(Mn,Mn,Mn)};return{arrays:{position:dr,indices:pt(Qn,Gn)},bounds:Sr}}();f(te,this,new gr(kt,Jt)),C(te,this).topology=Ke.lines;const{arrays:kn,bounds:Dn}=function(Rn={}){const Mn=Rn.radius??1,Bn=Rn.height??1,Qn=Rn.radialSegments??32,dr=2*Qn+2,Gn=new Float32Array(3*dr),Nr=[],Xr=2*Math.PI/Qn;let ri=0,Br=0,Sr=3*Qn;for(let ui=Br;ui<Sr;ui+=3){const ro=ui+0,Zi=ui+1,No=ui+2;ri+=Xr;const wo=Math.cos(ri)*Mn,os=Bn,Ri=Math.sin(ri)*Mn;Gn[ro]=wo,Gn[Zi]=os,Gn[No]=Ri}Br=0,Sr=Qn;for(let ui=Br;ui<Sr;ui++)Nr.push(ui,(ui+1)%Sr==0?Br:(ui+1)%Sr);ri=0,Br=3*Qn,Sr=3*(Qn+Qn);for(let ui=Br;ui<Sr;ui+=3){const ro=ui+0,Zi=ui+1,No=ui+2;ri+=Xr;const wo=Math.cos(ri)*Mn,os=-Bn,Ri=Math.sin(ri)*Mn;Gn[ro]=wo,Gn[Zi]=os,Gn[No]=Ri}Br=Qn,Sr=Qn+Qn;for(let ui=Br;ui<Sr;ui++)Nr.push(ui,(ui+1)%Sr==0?Br:(ui+1)%Sr);for(let ui=0;ui<Qn;ui+=4)Nr.push(ui,ui+Qn);const Hr=3*(Qn+Qn);Gn[Hr+0]=0,Gn[Hr+1]=Bn,Gn[Hr+2]=0,Gn[Hr+3]=0,Gn[Hr+4]=-Bn,Gn[Hr+5]=0;for(let ui=0;ui<Qn;ui+=4)Nr.push(ui,dr-2),Nr.push(ui+Qn,dr-1);const ai={min:(0,_.fromValues)(-Mn,-Bn,-Mn),max:(0,_.fromValues)(Mn,Bn,Mn)};return{arrays:{position:Gn,indices:pt(dr,Nr)},bounds:ai}}();f(we,this,new gr(kn,Dn)),C(we,this).topology=Ke.lines}function Mt(){f(s,this,{PointPosition:C(te,this),SpherePosition:C(te,this),CylinderPosition:C(we,this),CubePosition:C(de,this)})}return d=Ie,u(Ie,"creatorColor",[0,1,0]),u(Ie,"warningColor",[1,1,0]),Ie})();function Yc(d,s=new Set){if(Array.isArray(d))d.forEach(m=>Yc(m,s));else if(d?.buffer instanceof ArrayBuffer)s.add(d.buffer);else if(d&&"object"==typeof d)for(const m in d)Object.prototype.hasOwnProperty.call(d,m)&&Yc(d[m],s);return s}function up(d,s){self.onmessage=function(){var m=b(function*(c){const{requestId:T,options:G}=c.data;try{let de=d(G);de instanceof Promise&&(de=yield de),function(te,we){const Oe=s?s(we):Yc(we);self.postMessage({requestId:te,resource:we},Array.from(Oe))}(T,de)}catch(de){!function(te,we){const{message:Oe,stack:Ie}=we;self.postMessage({requestId:te,error:{message:Oe,stack:Ie}})}(T,de)}});return function(c){return m.apply(this,arguments)}}()}function xu(d,s){const m=s[0],c=s[4],T=s[8],G=s[5],de=s[9],te=s[6],we=s[10];return d[1]=Math.asin(Q(T,-1,1)),Math.abs(T)<.9999999?(d[0]=Math.atan2(-de,we),d[2]=Math.atan2(-c,m)):(d[0]=Math.atan2(te,G),d[2]=0),d}function Eu(d,s,m,c){s*=.5,c*=.5,m*=.5;const T=Math.sin(s),G=Math.cos(s),de=Math.sin(m),te=Math.cos(m),we=Math.sin(c),Oe=Math.cos(c);return d[0]=T*te*Oe+G*de*we,d[1]=G*de*Oe-T*te*we,d[2]=G*te*we+T*de*Oe,d[3]=G*te*Oe-T*de*we,d}class hp extends fe{constructor(s,m={optionalFeatures:["local-floor"]}){super(),u(this,"enter",void 0),u(this,"exit",void 0),u(this,"session",void 0),u(this,"lastSession",void 0),u(this,"supported",void 0),u(this,"presenting",void 0),u(this,"sessionMode",void 0);let c=!1,T=!1,G=!1,de=null,te=null;this.enter=()=>Promise.reject(new Error(`XR Session mode '${s}' Not Supported`)),this.exit=()=>{},this.destroy=()=>{G=!0},Object.defineProperties(this,{sessionMode:{writable:!1,value:s},session:{get:()=>de},lastSession:{get:()=>te},supported:{get:()=>c},presenting:{get:()=>T}});const we=navigator?.xr;if(!we||!("isSessionSupported"in we))return void setTimeout(()=>this.emit("disable"),10);let Oe=null;const Ie=()=>{G||(c=!0,this.emit("enable"))},ze=()=>{G||(c=!1,this.emit("disable"))},gt=()=>{de&&de.removeEventListener("end",gt),de=null,T=!1,this.emit("exit",te)},Mt=Jt=>(de=Jt,te=Jt,T=!0,de.addEventListener("end",gt),this.emit("enter",de),de),Nt=()=>{we.isSessionSupported(s).then(Jt=>{G||(Jt?Ie():ze())}).catch(ze)},zt=()=>{this.emit("devicechange"),Nt()};this.enter=()=>de?Oe||Promise.resolve(de):(Oe=we.requestSession(s,m).then(Mt),Oe),this.exit=()=>{Oe=Promise.resolve(null),de&&(de.end(),de=null)};const kt=this.destroy;this.destroy=()=>{this.exit(),G=!0,we.removeEventListener("devicechange",zt),kt()},Nt(),we.addEventListener("devicechange",zt)}}const df="a5823a38",ch="2024-08-08T20:20:44.000Z",wu="0.37.0";en.exports=y})()},4288:en=>{"use strict";var ot=String.prototype.replace,w=/%20/g;en.exports={default:"RFC3986",formatters:{RFC1738:function(x){return ot.call(x,w,"+")},RFC3986:function(x){return String(x)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},9984:(en,ot,w)=>{"use strict";var r=w(6413),x=w(7875),f=w(4288);en.exports={formats:f,parse:x,stringify:r}},7875:(en,ot,w)=>{"use strict";var r=w(9750),x=Object.prototype.hasOwnProperty,f=Array.isArray,b={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},C=function(_,D){return _&&"string"==typeof _&&D.comma&&_.indexOf(",")>-1?_.split(","):_},O=function(D,W,K,L){if(D){var ie=K.allowDots?D.replace(/\.([^.[]+)/g,"[$1]"):D,le=/(\[[^[\]]*])/g,fe=K.depth>0&&/(\[[^[\]]*])/.exec(ie),q=fe?ie.slice(0,fe.index):ie,$=[];if(q){if(!K.plainObjects&&x.call(Object.prototype,q)&&!K.allowPrototypes)return;$.push(q)}for(var j=0;K.depth>0&&null!==(fe=le.exec(ie))&&j<K.depth;){if(j+=1,!K.plainObjects&&x.call(Object.prototype,fe[1].slice(1,-1))&&!K.allowPrototypes)return;$.push(fe[1])}return fe&&$.push("["+ie.slice(fe.index)+"]"),function(_,D,W,K){for(var L=K?D:C(D,W),ie=_.length-1;ie>=0;--ie){var ae,le=_[ie];if("[]"===le&&W.parseArrays)ae=W.allowEmptyArrays&&""===L?[]:[].concat(L);else{ae=W.plainObjects?Object.create(null):{};var fe="["===le.charAt(0)&&"]"===le.charAt(le.length-1)?le.slice(1,-1):le,q=W.decodeDotInKeys?fe.replace(/%2E/g,"."):fe,$=parseInt(q,10);W.parseArrays||""!==q?!isNaN($)&&le!==q&&String($)===q&&$>=0&&W.parseArrays&&$<=W.arrayLimit?(ae=[])[$]=L:"__proto__"!==q&&(ae[q]=L):ae={0:L}}L=ae}return L}($,W,K,L)}};en.exports=function(_,D){var W=function(D){if(!D)return b;if(typeof D.allowEmptyArrays<"u"&&"boolean"!=typeof D.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof D.decodeDotInKeys<"u"&&"boolean"!=typeof D.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==D.decoder&&typeof D.decoder<"u"&&"function"!=typeof D.decoder)throw new TypeError("Decoder has to be a function.");if(typeof D.charset<"u"&&"utf-8"!==D.charset&&"iso-8859-1"!==D.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var W=typeof D.charset>"u"?b.charset:D.charset,K=typeof D.duplicates>"u"?b.duplicates:D.duplicates;if("combine"!==K&&"first"!==K&&"last"!==K)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof D.allowDots>"u"?!0===D.decodeDotInKeys||b.allowDots:!!D.allowDots,allowEmptyArrays:"boolean"==typeof D.allowEmptyArrays?!!D.allowEmptyArrays:b.allowEmptyArrays,allowPrototypes:"boolean"==typeof D.allowPrototypes?D.allowPrototypes:b.allowPrototypes,allowSparse:"boolean"==typeof D.allowSparse?D.allowSparse:b.allowSparse,arrayLimit:"number"==typeof D.arrayLimit?D.arrayLimit:b.arrayLimit,charset:W,charsetSentinel:"boolean"==typeof D.charsetSentinel?D.charsetSentinel:b.charsetSentinel,comma:"boolean"==typeof D.comma?D.comma:b.comma,decodeDotInKeys:"boolean"==typeof D.decodeDotInKeys?D.decodeDotInKeys:b.decodeDotInKeys,decoder:"function"==typeof D.decoder?D.decoder:b.decoder,delimiter:"string"==typeof D.delimiter||r.isRegExp(D.delimiter)?D.delimiter:b.delimiter,depth:"number"==typeof D.depth||!1===D.depth?+D.depth:b.depth,duplicates:K,ignoreQueryPrefix:!0===D.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof D.interpretNumericEntities?D.interpretNumericEntities:b.interpretNumericEntities,parameterLimit:"number"==typeof D.parameterLimit?D.parameterLimit:b.parameterLimit,parseArrays:!1!==D.parseArrays,plainObjects:"boolean"==typeof D.plainObjects?D.plainObjects:b.plainObjects,strictNullHandling:"boolean"==typeof D.strictNullHandling?D.strictNullHandling:b.strictNullHandling}}(D);if(""===_||null===_||typeof _>"u")return W.plainObjects?Object.create(null):{};for(var K="string"==typeof _?function(D,W){var fe,K={__proto__:null},ae=(W.ignoreQueryPrefix?D.replace(/^\?/,""):D).split(W.delimiter,W.parameterLimit===1/0?void 0:W.parameterLimit),le=-1,q=W.charset;if(W.charsetSentinel)for(fe=0;fe<ae.length;++fe)0===ae[fe].indexOf("utf8=")&&("utf8=%E2%9C%93"===ae[fe]?q="utf-8":"utf8=%26%2310003%3B"===ae[fe]&&(q="iso-8859-1"),le=fe,fe=ae.length);for(fe=0;fe<ae.length;++fe)if(fe!==le){var ee,be,$=ae[fe],j=$.indexOf("]="),Q=-1===j?$.indexOf("="):j+1;-1===Q?(ee=W.decoder($,b.decoder,q,"key"),be=W.strictNullHandling?null:""):(ee=W.decoder($.slice(0,Q),b.decoder,q,"key"),be=r.maybeMap(C($.slice(Q+1),W),function(Qe){return W.decoder(Qe,b.decoder,q,"value")})),be&&W.interpretNumericEntities&&"iso-8859-1"===q&&(be=be.replace(/&#(\d+);/g,function(D,W){return String.fromCharCode(parseInt(W,10))})),$.indexOf("[]=")>-1&&(be=f(be)?[be]:be);var Se=x.call(K,ee);Se&&"combine"===W.duplicates?K[ee]=r.combine(K[ee],be):(!Se||"last"===W.duplicates)&&(K[ee]=be)}return K}(_,W):_,L=W.plainObjects?Object.create(null):{},ie=Object.keys(K),ae=0;ae<ie.length;++ae){var le=ie[ae],fe=O(le,K[le],W,"string"==typeof _);L=r.merge(L,fe,W)}return!0===W.allowSparse?L:r.compact(L)}},6413:(en,ot,w)=>{"use strict";var r=w(8241),x=w(9750),f=w(4288),b=Object.prototype.hasOwnProperty,E={brackets:function(L){return L+"[]"},comma:"comma",indices:function(L,ie){return L+"["+ie+"]"},repeat:function(L){return L}},C=Array.isArray,u=Array.prototype.push,F=function(K,L){u.apply(K,C(L)?L:[L])},S=Date.prototype.toISOString,U=f.default,O={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:x.encode,encodeValuesOnly:!1,format:U,formatter:f.formatters[U],indices:!1,serializeDate:function(L){return S.call(L)},skipNulls:!1,strictNullHandling:!1},_={},D=function K(L,ie,ae,le,fe,q,$,j,Q,ee,be,Se,Qe,nt,De,ut,Ft,ve){for(var I=L,V=ve,ge=0,Pe=!1;void 0!==(V=V.get(_))&&!Pe;){var ke=V.get(L);if(ge+=1,typeof ke<"u"){if(ke===ge)throw new RangeError("Cyclic object value");Pe=!0}typeof V.get(_)>"u"&&(ge=0)}if("function"==typeof ee?I=ee(ie,I):I instanceof Date?I=Qe(I):"comma"===ae&&C(I)&&(I=x.maybeMap(I,function(Y){return Y instanceof Date?Qe(Y):Y})),null===I){if(q)return Q&&!ut?Q(ie,O.encoder,Ft,"key",nt):ie;I=""}if(function(L){return"string"==typeof L||"number"==typeof L||"boolean"==typeof L||"symbol"==typeof L||"bigint"==typeof L}(I)||x.isBuffer(I))return Q?[De(ut?ie:Q(ie,O.encoder,Ft,"key",nt))+"="+De(Q(I,O.encoder,Ft,"value",nt))]:[De(ie)+"="+De(String(I))];var ln,Ht=[];if(typeof I>"u")return Ht;if("comma"===ae&&C(I))ut&&Q&&(I=x.maybeMap(I,Q)),ln=[{value:I.length>0?I.join(",")||null:void 0}];else if(C(ee))ln=ee;else{var Bt=Object.keys(I);ln=be?Bt.sort(be):Bt}var Ye=j?ie.replace(/\./g,"%2E"):ie,Ze=le&&C(I)&&1===I.length?Ye+"[]":Ye;if(fe&&C(I)&&0===I.length)return Ze+"[]";for(var Ot=0;Ot<ln.length;++Ot){var ye=ln[Ot],P="object"==typeof ye&&typeof ye.value<"u"?ye.value:I[ye];if(!$||null!==P){var B=Se&&j?ye.replace(/\./g,"%2E"):ye,R=C(I)?"function"==typeof ae?ae(Ze,B):Ze:Ze+(Se?"."+B:"["+B+"]");ve.set(L,ge);var N=r();N.set(_,ve),F(Ht,K(P,R,ae,le,fe,q,$,j,"comma"===ae&&ut&&C(I)?null:Q,ee,be,Se,Qe,nt,De,ut,Ft,N))}}return Ht};en.exports=function(K,L){var le,ie=K,ae=function(L){if(!L)return O;if(typeof L.allowEmptyArrays<"u"&&"boolean"!=typeof L.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof L.encodeDotInKeys<"u"&&"boolean"!=typeof L.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==L.encoder&&typeof L.encoder<"u"&&"function"!=typeof L.encoder)throw new TypeError("Encoder has to be a function.");var ie=L.charset||O.charset;if(typeof L.charset<"u"&&"utf-8"!==L.charset&&"iso-8859-1"!==L.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ae=f.default;if(typeof L.format<"u"){if(!b.call(f.formatters,L.format))throw new TypeError("Unknown format option provided.");ae=L.format}var q,le=f.formatters[ae],fe=O.filter;if(("function"==typeof L.filter||C(L.filter))&&(fe=L.filter),q=L.arrayFormat in E?L.arrayFormat:"indices"in L?L.indices?"indices":"repeat":O.arrayFormat,"commaRoundTrip"in L&&"boolean"!=typeof L.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof L.addQueryPrefix?L.addQueryPrefix:O.addQueryPrefix,allowDots:typeof L.allowDots>"u"?!0===L.encodeDotInKeys||O.allowDots:!!L.allowDots,allowEmptyArrays:"boolean"==typeof L.allowEmptyArrays?!!L.allowEmptyArrays:O.allowEmptyArrays,arrayFormat:q,charset:ie,charsetSentinel:"boolean"==typeof L.charsetSentinel?L.charsetSentinel:O.charsetSentinel,commaRoundTrip:L.commaRoundTrip,delimiter:typeof L.delimiter>"u"?O.delimiter:L.delimiter,encode:"boolean"==typeof L.encode?L.encode:O.encode,encodeDotInKeys:"boolean"==typeof L.encodeDotInKeys?L.encodeDotInKeys:O.encodeDotInKeys,encoder:"function"==typeof L.encoder?L.encoder:O.encoder,encodeValuesOnly:"boolean"==typeof L.encodeValuesOnly?L.encodeValuesOnly:O.encodeValuesOnly,filter:fe,format:ae,formatter:le,serializeDate:"function"==typeof L.serializeDate?L.serializeDate:O.serializeDate,skipNulls:"boolean"==typeof L.skipNulls?L.skipNulls:O.skipNulls,sort:"function"==typeof L.sort?L.sort:null,strictNullHandling:"boolean"==typeof L.strictNullHandling?L.strictNullHandling:O.strictNullHandling}}(L);"function"==typeof ae.filter?ie=(0,ae.filter)("",ie):C(ae.filter)&&(le=ae.filter);var q=[];if("object"!=typeof ie||null===ie)return"";var $=E[ae.arrayFormat],j="comma"===$&&ae.commaRoundTrip;le||(le=Object.keys(ie)),ae.sort&&le.sort(ae.sort);for(var Q=r(),ee=0;ee<le.length;++ee){var be=le[ee];ae.skipNulls&&null===ie[be]||F(q,D(ie[be],be,$,j,ae.allowEmptyArrays,ae.strictNullHandling,ae.skipNulls,ae.encodeDotInKeys,ae.encode?ae.encoder:null,ae.filter,ae.sort,ae.allowDots,ae.serializeDate,ae.format,ae.formatter,ae.encodeValuesOnly,ae.charset,Q))}var Se=q.join(ae.delimiter),Qe=!0===ae.addQueryPrefix?"?":"";return ae.charsetSentinel&&(Qe+="iso-8859-1"===ae.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Se.length>0?Qe+Se:""}},9750:(en,ot,w)=>{"use strict";var r=w(4288),x=Object.prototype.hasOwnProperty,f=Array.isArray,b=function(){for(var K=[],L=0;L<256;++L)K.push("%"+((L<16?"0":"")+L.toString(16)).toUpperCase());return K}(),C=function(L,ie){for(var ae=ie&&ie.plainObjects?Object.create(null):{},le=0;le<L.length;++le)typeof L[le]<"u"&&(ae[le]=L[le]);return ae};en.exports={arrayToObject:C,assign:function(L,ie){return Object.keys(ie).reduce(function(ae,le){return ae[le]=ie[le],ae},L)},combine:function(L,ie){return[].concat(L,ie)},compact:function(L){for(var ie=[{obj:{o:L},prop:"o"}],ae=[],le=0;le<ie.length;++le)for(var fe=ie[le],q=fe.obj[fe.prop],$=Object.keys(q),j=0;j<$.length;++j){var Q=$[j],ee=q[Q];"object"==typeof ee&&null!==ee&&-1===ae.indexOf(ee)&&(ie.push({obj:q,prop:Q}),ae.push(ee))}return function(L){for(;L.length>1;){var ie=L.pop(),ae=ie.obj[ie.prop];if(f(ae)){for(var le=[],fe=0;fe<ae.length;++fe)typeof ae[fe]<"u"&&le.push(ae[fe]);ie.obj[ie.prop]=le}}}(ie),L},decode:function(K,L,ie){var ae=K.replace(/\+/g," ");if("iso-8859-1"===ie)return ae.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(ae)}catch{return ae}},encode:function(L,ie,ae,le,fe){if(0===L.length)return L;var q=L;if("symbol"==typeof L?q=Symbol.prototype.toString.call(L):"string"!=typeof L&&(q=String(L)),"iso-8859-1"===ae)return escape(q).replace(/%u[0-9a-f]{4}/gi,function(ee){return"%26%23"+parseInt(ee.slice(2),16)+"%3B"});for(var $="",j=0;j<q.length;++j){var Q=q.charCodeAt(j);45===Q||46===Q||95===Q||126===Q||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||fe===r.RFC1738&&(40===Q||41===Q)?$+=q.charAt(j):Q<128?$+=b[Q]:Q<2048?$+=b[192|Q>>6]+b[128|63&Q]:Q<55296||Q>=57344?$+=b[224|Q>>12]+b[128|Q>>6&63]+b[128|63&Q]:(Q=65536+((1023&Q)<<10|1023&q.charCodeAt(j+=1)),$+=b[240|Q>>18]+b[128|Q>>12&63]+b[128|Q>>6&63]+b[128|63&Q])}return $},isBuffer:function(L){return!(!L||"object"!=typeof L||!(L.constructor&&L.constructor.isBuffer&&L.constructor.isBuffer(L)))},isRegExp:function(L){return"[object RegExp]"===Object.prototype.toString.call(L)},maybeMap:function(L,ie){if(f(L)){for(var ae=[],le=0;le<L.length;le+=1)ae.push(ie(L[le]));return ae}return ie(L)},merge:function K(L,ie,ae){if(!ie)return L;if("object"!=typeof ie){if(f(L))L.push(ie);else{if(!L||"object"!=typeof L)return[L,ie];(ae&&(ae.plainObjects||ae.allowPrototypes)||!x.call(Object.prototype,ie))&&(L[ie]=!0)}return L}if(!L||"object"!=typeof L)return[L].concat(ie);var le=L;return f(L)&&!f(ie)&&(le=C(L,ae)),f(L)&&f(ie)?(ie.forEach(function(fe,q){if(x.call(L,q)){var $=L[q];$&&"object"==typeof $&&fe&&"object"==typeof fe?L[q]=K($,fe,ae):L.push(fe)}else L[q]=fe}),L):Object.keys(ie).reduce(function(fe,q){var $=ie[q];return fe[q]=x.call(fe,q)?K(fe[q],$,ae):$,fe},le)}}},8023:(en,ot,w)=>{"use strict";function r(E,C,u,F,S){x(E,C,u||0,F||E.length-1,S||b)}function x(E,C,u,F,S){for(;F>u;){if(F-u>600){var U=F-u+1,O=C-u+1,y=Math.log(U),_=.5*Math.exp(2*y/3),D=.5*Math.sqrt(y*_*(U-_)/U)*(O-U/2<0?-1:1);x(E,C,Math.max(u,Math.floor(C-O*_/U+D)),Math.min(F,Math.floor(C+(U-O)*_/U+D)),S)}var L=E[C],ie=u,ae=F;for(f(E,u,C),S(E[F],L)>0&&f(E,u,F);ie<ae;){for(f(E,ie,ae),ie++,ae--;S(E[ie],L)<0;)ie++;for(;S(E[ae],L)>0;)ae--}0===S(E[u],L)?f(E,u,ae):f(E,++ae,F),ae<=C&&(u=ae+1),C<=ae&&(F=ae-1)}}function f(E,C,u){var F=E[C];E[C]=E[u],E[u]=F}function b(E,C){return E<C?-1:E>C?1:0}w.r(ot),w.d(ot,{default:()=>r})},7015:function(en){var w;w=()=>{return ot={276:function(){!function(r){"use strict";r.console||(r.console={});for(var x,f,b=r.console,E=function(){},C=["memory"],u="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");x=C.pop();)b[x]||(b[x]={});for(;f=u.pop();)b[f]||(b[f]=E)}(typeof window>"u"?this:window)},180:function(r,x,f){var b,E,C;!function(u,F){"use strict";E=[f(124)],void 0===(C="function"==typeof(b=function(S){var U=/(^|@)\S+:\d+/,O=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(_){if(void 0!==_.stacktrace||void 0!==_["opera#sourceloc"])return this.parseOpera(_);if(_.stack&&_.stack.match(O))return this.parseV8OrIE(_);if(_.stack)return this.parseFFOrSafari(_);throw new Error("Cannot parse given Error object")},extractLocation:function(_){if(-1===_.indexOf(":"))return[_];var D=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(_.replace(/[()]/g,""));return[D[1],D[2]||void 0,D[3]||void 0]},parseV8OrIE:function(_){return _.stack.split("\n").filter(function(D){return!!D.match(O)},this).map(function(D){D.indexOf("(eval ")>-1&&(D=D.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var W=D.replace(/^\s+/,"").replace(/\(eval code/g,"("),K=W.match(/ (\((.+):(\d+):(\d+)\)$)/),L=(W=K?W.replace(K[0],""):W).split(/\s+/).slice(1),ie=this.extractLocation(K?K[1]:L.pop()),ae=L.join(" ")||void 0,le=["eval","<anonymous>"].indexOf(ie[0])>-1?void 0:ie[0];return new S({functionName:ae,fileName:le,lineNumber:ie[1],columnNumber:ie[2],source:D})},this)},parseFFOrSafari:function(_){return _.stack.split("\n").filter(function(D){return!D.match(y)},this).map(function(D){if(D.indexOf(" > eval")>-1&&(D=D.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===D.indexOf("@")&&-1===D.indexOf(":"))return new S({functionName:D});var W=/((.*".+"[^@]*)?[^@]*)(?:@)/,K=D.match(W),L=K&&K[1]?K[1]:void 0,ie=this.extractLocation(D.replace(W,""));return new S({functionName:L,fileName:ie[0],lineNumber:ie[1],columnNumber:ie[2],source:D})},this)},parseOpera:function(_){return!_.stacktrace||_.message.indexOf("\n")>-1&&_.message.split("\n").length>_.stacktrace.split("\n").length?this.parseOpera9(_):_.stack?this.parseOpera11(_):this.parseOpera10(_)},parseOpera9:function(_){for(var D=/Line (\d+).*script (?:in )?(\S+)/i,W=_.message.split("\n"),K=[],L=2,ie=W.length;L<ie;L+=2){var ae=D.exec(W[L]);ae&&K.push(new S({fileName:ae[2],lineNumber:ae[1],source:W[L]}))}return K},parseOpera10:function(_){for(var D=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,W=_.stacktrace.split("\n"),K=[],L=0,ie=W.length;L<ie;L+=2){var ae=D.exec(W[L]);ae&&K.push(new S({functionName:ae[3]||void 0,fileName:ae[2],lineNumber:ae[1],source:W[L]}))}return K},parseOpera11:function(_){return _.stack.split("\n").filter(function(D){return!!D.match(U)&&!D.match(/^Error created at/)},this).map(function(D){var W,K=D.split("@"),L=this.extractLocation(K.pop()),ie=K.shift()||"",ae=ie.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;ie.match(/\(([^)]*)\)/)&&(W=ie.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var le=void 0===W||"[arguments not available]"===W?void 0:W.split(",");return new S({functionName:ae,args:le,fileName:L[0],lineNumber:L[1],columnNumber:L[2],source:D})},this)}}})?b.apply(x,E):b)||(r.exports=C)}()},124:function(r,x){var f,b,E;!function(C,u){"use strict";b=[],void 0===(E="function"==typeof(f=function(){function F(fe){return!isNaN(parseFloat(fe))&&isFinite(fe)}function S(fe){return fe.charAt(0).toUpperCase()+fe.substring(1)}function U(fe){return function(){return this[fe]}}var O=["isConstructor","isEval","isNative","isToplevel"],y=["columnNumber","lineNumber"],_=["fileName","functionName","source"],K=O.concat(y,_,["args"],["evalOrigin"]);function L(fe){if(fe)for(var q=0;q<K.length;q++)void 0!==fe[K[q]]&&this["set"+S(K[q])](fe[K[q]])}L.prototype={getArgs:function(){return this.args},setArgs:function(fe){if("[object Array]"!==Object.prototype.toString.call(fe))throw new TypeError("Args must be an Array");this.args=fe},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(fe){if(fe instanceof L)this.evalOrigin=fe;else{if(!(fe instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new L(fe)}},toString:function(){var fe=this.getFileName()||"",q=this.getLineNumber()||"",$=this.getColumnNumber()||"",j=this.getFunctionName()||"";return this.getIsEval()?fe?"[eval] ("+fe+":"+q+":"+$+")":"[eval]:"+q+":"+$:j?j+" ("+fe+":"+q+":"+$+")":fe+":"+q+":"+$}},L.fromString=function(fe){var q=fe.indexOf("("),$=fe.lastIndexOf(")"),j=fe.substring(0,q),Q=fe.substring(q+1,$).split(","),ee=fe.substring($+1);if(0===ee.indexOf("@"))var be=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(ee,""),Se=be[1],Qe=be[2],nt=be[3];return new L({functionName:j,args:Q||void 0,fileName:Se,lineNumber:Qe||void 0,columnNumber:nt||void 0})};for(var ie=0;ie<O.length;ie++)L.prototype["get"+S(O[ie])]=U(O[ie]),L.prototype["set"+S(O[ie])]=function(fe){return function(q){this[fe]=!!q}}(O[ie]);for(var ae=0;ae<y.length;ae++)L.prototype["get"+S(y[ae])]=U(y[ae]),L.prototype["set"+S(y[ae])]=function(fe){return function(q){if(!F(q))throw new TypeError(fe+" must be a Number");this[fe]=Number(q)}}(y[ae]);for(var le=0;le<_.length;le++)L.prototype["get"+S(_[le])]=U(_[le]),L.prototype["set"+S(_[le])]=function(fe){return function(q){this[fe]=String(q)}}(_[le]);return L})?f.apply(x,b):f)||(r.exports=E)}()},815:(r,x,f)=>{"use strict";var b=f(702),E=f(817),C={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function u(S,U,O,y,_){this.options=S,this.transport=U,this.url=O,this.truncation=y,this.jsonBackup=_,this.accessToken=S.accessToken,this.transportOptions=F(S,O)}function F(S,U){return E.getTransportFromOptions(S,C,U)}u.prototype.postItem=function(S,U){var O=E.transportOptions(this.transportOptions,"POST"),y=E.buildPayload(this.accessToken,S,this.jsonBackup),_=this;setTimeout(function(){_.transport.post(_.accessToken,O,y,U)},0)},u.prototype.buildJsonPayload=function(S,U){var O,y=E.buildPayload(this.accessToken,S,this.jsonBackup);return(O=this.truncation?this.truncation.truncate(y):b.stringify(y)).error?(U&&U(O.error),null):O.value},u.prototype.postJsonPayload=function(S,U){var O=E.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,O,S,U)},u.prototype.configure=function(S){return this.options=b.merge(this.oldOptions,S),this.transportOptions=F(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},r.exports=u},817:(r,x,f)=>{"use strict";var b=f(702);r.exports={buildPayload:function(E,C,u){if(!b.isType(C.context,"string")){var F=b.stringify(C.context,u);C.context=F.error?"Error: could not serialize 'context'":F.value||"",C.context.length>255&&(C.context=C.context.substr(0,255))}return{access_token:E,data:C}},getTransportFromOptions:function(E,C,u){var ie,ae,F=C.hostname,S=C.protocol,U=C.port,O=C.path,y=C.search,_=E.timeout,D=(ie=typeof window<"u"&&window||typeof self<"u"&&self,ae=E.defaultTransport||"xhr",void 0===ie.fetch&&(ae="xhr"),void 0===ie.XMLHttpRequest&&(ae="fetch"),ae),W=E.proxy;if(E.endpoint){var K=u.parse(E.endpoint);F=K.hostname,S=K.protocol,U=K.port,O=K.pathname,y=K.search}return{timeout:_,hostname:F,protocol:S,port:U,path:O,search:y,proxy:W,transport:D}},transportOptions:function(E,C){var u=E.protocol||"https:",F=E.port||("http:"===u?80:"https:"===u?443:void 0),S=E.hostname,U=E.path;return E.search&&(U+=E.search),E.proxy&&(U=u+"//"+S+U,S=E.proxy.host||E.proxy.hostname,F=E.proxy.port,u=E.proxy.protocol||u),{timeout:E.timeout,protocol:u,hostname:S,path:U,port:F,method:C,transport:E.transport}},appendPathToPath:function(E,C){var u=/\/$/.test(E),F=/^\//.test(C);return u&&F?C=C.substring(1):u||F||(C="/"+C),E+C}}},409:(r,x,f)=>{"use strict";var b=f(343),E=typeof window<"u"&&window._rollbarConfig,C=E&&E.globalAlias||"Rollbar",u=typeof window<"u"&&window[C]&&"function"==typeof window[C].shimId&&void 0!==window[C].shimId();if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!u&&E){var F=new b(E);window[C]=F}else typeof window<"u"?(window.rollbar=b,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=b,self._rollbarDidLoad=!0);r.exports=b},403:(r,x,f)=>{"use strict";var b=f(562),E=f(702),C=f(815),u=f(802),F=f(349),S=f(477),U=f(509),O=f(860),y=f(417),_=f(172),D=f(61),W=f(303);function K(j,Q){this.options=E.handleOptions($,j,null,u),this.options._configuredOptions=j;var ee=this.components.telemeter,be=this.components.instrumenter,Se=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var Qe=this.components.truncation,nt=new S(Qe),De=new C(this.options,nt,U,Qe);ee&&(this.telemeter=new ee(this.options)),this.client=Q||new b(this.options,De,u,this.telemeter,"browser");var V,ut=le(),Ft=typeof document<"u"&&document;this.isChrome=ut.chrome&&ut.chrome.runtime,this.anonymousErrorsPending=0,V=ut,this.client.notifier.addTransform(O.handleDomException).addTransform(O.handleItemWithError).addTransform(O.ensureItemHasSomethingToSay).addTransform(O.addBaseInfo).addTransform(O.addRequestInfo(V)).addTransform(O.addClientInfo(V)).addTransform(O.addPluginInfo(V)).addTransform(O.addBody).addTransform(y.addMessageWithError).addTransform(y.addTelemetryData).addTransform(y.addConfigToPayload).addTransform(O.addScrubber(this.scrub)).addTransform(y.addPayloadOptions).addTransform(y.userTransform(u)).addTransform(y.addConfiguredOptions).addTransform(y.addDiagnosticKeys).addTransform(y.itemToPayload),this.client.queue.addPredicate(D.checkLevel).addPredicate(_.checkIgnore).addPredicate(D.userCheckIgnore(u)).addPredicate(D.urlIsNotBlockListed(u)).addPredicate(D.urlIsSafeListed(u)).addPredicate(D.messageIsIgnored(u)),this.setupUnhandledCapture(),be&&(this.instrumenter=new be(this.options,this.client.telemeter,this,ut,Ft),this.instrumenter.instrument()),E.setupJSON(Se),this.rollbar=this}var L=null;function ie(j){var Q="Rollbar is not initialized";u.error(Q),j&&j(new Error(Q))}function ae(j){for(var Q=0,ee=j.length;Q<ee;++Q)if(E.isFunction(j[Q]))return j[Q]}function le(){return typeof window<"u"&&window||typeof self<"u"&&self}K.init=function(j,Q){return L?L.global(j).configure(j):L=new K(j,Q)},K.prototype.components={},K.setComponents=function(j){K.prototype.components=j},K.prototype.global=function(j){return this.client.global(j),this},K.global=function(j){if(L)return L.global(j);ie()},K.prototype.configure=function(j,Q){var ee=this.options,be={};return Q&&(be={payload:Q}),this.options=E.handleOptions(ee,j,be,u),this.options._configuredOptions=E.handleOptions(ee._configuredOptions,j,be),this.client.configure(this.options,Q),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},K.configure=function(j,Q){if(L)return L.configure(j,Q);ie()},K.prototype.lastError=function(){return this.client.lastError},K.lastError=function(){if(L)return L.lastError();ie()},K.prototype.log=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.log(j),{uuid:Q}},K.log=function(){if(L)return L.log.apply(L,arguments);ie(ae(arguments))},K.prototype.debug=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.debug(j),{uuid:Q}},K.debug=function(){if(L)return L.debug.apply(L,arguments);ie(ae(arguments))},K.prototype.info=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.info(j),{uuid:Q}},K.info=function(){if(L)return L.info.apply(L,arguments);ie(ae(arguments))},K.prototype.warn=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.warn(j),{uuid:Q}},K.warn=function(){if(L)return L.warn.apply(L,arguments);ie(ae(arguments))},K.prototype.warning=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.warning(j),{uuid:Q}},K.warning=function(){if(L)return L.warning.apply(L,arguments);ie(ae(arguments))},K.prototype.error=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.error(j),{uuid:Q}},K.error=function(){if(L)return L.error.apply(L,arguments);ie(ae(arguments))},K.prototype.critical=function(){var j=this._createItem(arguments),Q=j.uuid;return this.client.critical(j),{uuid:Q}},K.critical=function(){if(L)return L.critical.apply(L,arguments);ie(ae(arguments))},K.prototype.buildJsonPayload=function(j){return this.client.buildJsonPayload(j)},K.buildJsonPayload=function(){if(L)return L.buildJsonPayload.apply(L,arguments);ie()},K.prototype.sendJsonPayload=function(j){return this.client.sendJsonPayload(j)},K.sendJsonPayload=function(){if(L)return L.sendJsonPayload.apply(L,arguments);ie()},K.prototype.setupUnhandledCapture=function(){var j=le();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(F.captureUncaughtExceptions(j,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(j,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(F.captureUnhandledRejections(j,this),this.unhandledRejectionsInitialized=!0)},K.prototype.handleUncaughtException=function(j,Q,ee,be,Se,Qe){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===Se&&""===Q)return"anonymous";var nt,De=E.makeUnhandledStackInfo(j,Q,ee,be,Se,"onerror","uncaught exception",W);E.isError(Se)?(nt=this._createItem([j,Se,Qe]))._unhandledStackInfo=De:E.isError(Q)?(nt=this._createItem([j,Q,Qe]))._unhandledStackInfo=De:(nt=this._createItem([j,Qe])).stackInfo=De,nt.level=this.options.uncaughtErrorLevel,nt._isUncaught=!0,this.client.log(nt)}},K.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var j=this;try{Error.prepareStackTrace=function(Q,ee){if(j.options.inspectAnonymousErrors&&j.anonymousErrorsPending){if(j.anonymousErrorsPending-=1,!Q)return;Q._isAnonymous=!0,j.handleUncaughtException(Q.message,null,null,null,Q)}return Q.stack}}catch(Q){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",Q)}}},K.prototype.handleUnhandledRejection=function(j,Q){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var ee="unhandled rejection was null or undefined!";if(j)if(j.message)ee=j.message;else{var be=E.stringify(j);be.value&&(ee=be.value)}var Se,Qe=j&&j._rollbarContext||Q&&Q._rollbarContext;E.isError(j)?Se=this._createItem([ee,j,Qe]):(Se=this._createItem([ee,j,Qe])).stackInfo=E.makeUnhandledStackInfo(ee,"",0,0,null,"unhandledrejection","",W),Se.level=this.options.uncaughtErrorLevel,Se._isUncaught=!0,Se._originalArgs=Se._originalArgs||[],Se._originalArgs.push(Q),this.client.log(Se)}},K.prototype.wrap=function(j,Q,ee){try{var be;if(be=E.isFunction(Q)?Q:function(){return Q||{}},!E.isFunction(j)||j._isWrap)return j;if(!j._rollbar_wrapped&&(j._rollbar_wrapped=function(){ee&&E.isFunction(ee)&&ee.apply(this,arguments);try{return j.apply(this,arguments)}catch(nt){var Qe=nt;throw Qe&&window._rollbarWrappedError!==Qe&&(E.isType(Qe,"string")&&(Qe=new String(Qe)),Qe._rollbarContext=be()||{},Qe._rollbarContext._wrappedSource=j.toString(),window._rollbarWrappedError=Qe),Qe}},j._rollbar_wrapped._isWrap=!0,j.hasOwnProperty))for(var Se in j)j.hasOwnProperty(Se)&&"_rollbar_wrapped"!==Se&&(j._rollbar_wrapped[Se]=j[Se]);return j._rollbar_wrapped}catch{return j}},K.wrap=function(j,Q){if(L)return L.wrap(j,Q);ie()},K.prototype.captureEvent=function(){var j=E.createTelemetryEvent(arguments);return this.client.captureEvent(j.type,j.metadata,j.level)},K.captureEvent=function(){if(L)return L.captureEvent.apply(L,arguments);ie()},K.prototype.captureDomContentLoaded=function(j,Q){return Q||(Q=new Date),this.client.captureDomContentLoaded(Q)},K.prototype.captureLoad=function(j,Q){return Q||(Q=new Date),this.client.captureLoad(Q)},K.prototype.loadFull=function(){u.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},K.prototype._createItem=function(j){return E.createItem(j,u,this)};var fe=f(948),q=f(677),$={version:fe.version,scrubFields:q.scrubFields,logLevel:fe.logLevel,reportLevel:fe.reportLevel,uncaughtErrorLevel:fe.uncaughtErrorLevel,endpoint:fe.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};r.exports=K},677:r=>{"use strict";r.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},616:r=>{"use strict";r.exports={ieVersion:function(){var f;if(typeof document>"u")return f;for(var b=3,E=document.createElement("div"),C=E.getElementsByTagName("i");E.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e",C[0];);return b>4?b:f}}},300:r=>{"use strict";function x(E){return(E.getAttribute("type")||"").toLowerCase()}function f(E){if(!E||!E.tagName)return"";var C=[E.tagName];E.id&&C.push("#"+E.id),E.classes&&C.push("."+E.classes.join("."));for(var u=0;u<E.attributes.length;u++)C.push("["+E.attributes[u].key+'="'+E.attributes[u].value+'"]');return C.join("")}function b(E){if(!E||!E.tagName)return null;var C,u,F,S,U={};U.tagName=E.tagName.toLowerCase(),E.id&&(U.id=E.id),(C=E.className)&&"string"==typeof C&&(U.classes=C.split(/\s+/));var O=["type","name","title","alt"];for(U.attributes=[],S=0;S<O.length;S++)(F=E.getAttribute(u=O[S]))&&U.attributes.push({key:u,value:F});return U}r.exports={describeElement:b,descriptionToString:f,elementArrayToString:function(E){for(var C,F=[],S=0,U=E.length-1;U>=0;U--){if(C=f(E[U]),U<E.length-1&&S+3*F.length+C.length>=83){F.unshift("...");break}F.unshift(C),S+=C.length}return F.join(" > ")},treeToArray:function(E){for(var C,u=[],F=0;E&&F<5&&"html"!==(C=b(E)).tagName;F++)u.unshift(C),E=E.parentNode;return u},getElementFromEvent:function(E,C){return E.target?E.target:C&&C.elementFromPoint?C.elementFromPoint(E.clientX,E.clientY):void 0},isDescribedElement:function(E,C,u){if(E.tagName.toLowerCase()!==C.toLowerCase())return!1;if(!u)return!0;E=x(E);for(var F=0;F<u.length;F++)if(u[F]===E)return!0;return!1},getElementType:x}},349:r=>{"use strict";r.exports={captureUncaughtExceptions:function(x,f,b){if(x){var E;if("function"==typeof f._rollbarOldOnError)E=f._rollbarOldOnError;else if(x.onerror){for(E=x.onerror;E._rollbarOldOnError;)E=E._rollbarOldOnError;f._rollbarOldOnError=E}f.handleAnonymousErrors();var C=function(){var u=Array.prototype.slice.call(arguments,0);!function(F,S,U,O){F._rollbarWrappedError&&(O[4]||(O[4]=F._rollbarWrappedError),O[5]||(O[5]=F._rollbarWrappedError._rollbarContext),F._rollbarWrappedError=null);var y=S.handleUncaughtException.apply(S,O);U&&U.apply(F,O),"anonymous"===y&&(S.anonymousErrorsPending+=1)}(x,f,E,u)};b&&(C._rollbarOldOnError=E),x.onerror=C}},captureUnhandledRejections:function(x,f,b){if(x){"function"==typeof x._rollbarURH&&x._rollbarURH.belongsToShim&&x.removeEventListener("unhandledrejection",x._rollbarURH);var E=function(C){var u,F,S;try{u=C.reason}catch{u=void 0}try{F=C.promise}catch{F="[unhandledrejection] error getting `promise` from event"}try{S=C.detail,!u&&S&&(u=S.reason,F=S.promise)}catch{}u||(u="[unhandledrejection] error getting `reason` from event"),f&&f.handleUnhandledRejection&&f.handleUnhandledRejection(u,F)};E.belongsToShim=b,x._rollbarURH=E,x.addEventListener("unhandledrejection",E)}}}},802:(r,x,f)=>{"use strict";f(276);var b=f(616),E=f(702);r.exports={error:function(){var C=Array.prototype.slice.call(arguments,0);C.unshift("Rollbar:"),b.ieVersion()<=8?console.error(E.formatArgsAsString(C)):console.error.apply(console,C)},info:function(){var C=Array.prototype.slice.call(arguments,0);C.unshift("Rollbar:"),b.ieVersion()<=8?console.info(E.formatArgsAsString(C)):console.info.apply(console,C)},log:function(){var C=Array.prototype.slice.call(arguments,0);C.unshift("Rollbar:"),b.ieVersion()<=8?console.log(E.formatArgsAsString(C)):console.log.apply(console,C)}}},172:(r,x,f)=>{"use strict";var b=f(702);r.exports={checkIgnore:function(E,C){return!b.get(C,"plugins.jquery.ignoreAjaxErrors")||!b.get(E,"body.message.extra.isAjax")}}},343:(r,x,f)=>{"use strict";var b=f(403),E=f(773),C=f(568),u=f(876),F=f(965),S=f(369),U=f(473);b.setComponents({telemeter:E,instrumenter:C,polyfillJSON:u,wrapGlobals:F,scrub:S,truncation:U}),r.exports=b},568:(r,x,f)=>{"use strict";var b=f(702),E=f(650),C=f(297),u=f(369),F=f(509),S=f(300),U={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function O(D,W){for(var K;D[W].length;)(K=D[W].shift())[0][K[1]]=K[2]}function y(D,W,K,L,ie){this.options=D;var ae=D.autoInstrument;!1===D.enabled||!1===ae?this.autoInstrument={}:(b.isType(ae,"object")||(ae=U),this.autoInstrument=b.merge(U,ae)),this.scrubTelemetryInputs=!!D.scrubTelemetryInputs,this.telemetryScrubber=D.telemetryScrubber,this.defaultValueScrubber=function(le){for(var fe=[],q=0;q<le.length;++q)fe.push(new RegExp(le[q],"i"));return function($){var j=function(ee){if(!ee||!ee.attributes)return null;for(var be=ee.attributes,Se=0;Se<be.length;++Se)if("name"===be[Se].key)return be[Se].value;return null}($);if(!j)return!1;for(var Q=0;Q<fe.length;++Q)if(fe[Q].test(j))return!0;return!1}}(D.scrubFields),this.telemeter=W,this.rollbar=K,this.diagnostic=K.client.notifier.diagnostic,this._window=L||{},this._document=ie||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}function _(D){return typeof URL<"u"&&D instanceof URL}y.prototype.configure=function(D){this.options=b.merge(this.options,D);var W=D.autoInstrument,K=b.merge(this.autoInstrument);!1===D.enabled||!1===W?this.autoInstrument={}:(b.isType(W,"object")||(W=U),this.autoInstrument=b.merge(U,W)),this.instrument(K),void 0!==D.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!D.scrubTelemetryInputs),void 0!==D.telemetryScrubber&&(this.telemetryScrubber=D.telemetryScrubber)},y.prototype.instrument=function(D){!this.autoInstrument.network||D&&D.network?!this.autoInstrument.network&&D&&D.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||D&&D.log?!this.autoInstrument.log&&D&&D.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||D&&D.dom?!this.autoInstrument.dom&&D&&D.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||D&&D.navigation?!this.autoInstrument.navigation&&D&&D.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||D&&D.connectivity?!this.autoInstrument.connectivity&&D&&D.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||D&&D.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&D&&D.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},y.prototype.deinstrumentNetwork=function(){O(this.replacements,"network")},y.prototype.instrumentNetwork=function(){var D=this;function W(L,ie){L in ie&&b.isFunction(ie[L])&&C(ie,L,function(ae){return D.rollbar.wrap(ae)})}if("XMLHttpRequest"in this._window){var K=this._window.XMLHttpRequest.prototype;C(K,"open",function(L){return function(ie,ae){var le=_(ae);return(b.isType(ae,"string")||le)&&(ae=le?ae.toString():ae,this.__rollbar_xhr?(this.__rollbar_xhr.method=ie,this.__rollbar_xhr.url=ae,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=b.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:ie,url:ae,status_code:null,start_time_ms:b.now(),end_time_ms:null}),L.apply(this,arguments)}},this.replacements,"network"),C(K,"setRequestHeader",function(L){return function(ie,ae){return this.__rollbar_xhr||(this.__rollbar_xhr={}),b.isType(ie,"string")&&b.isType(ae,"string")&&(D.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[ie]=ae),"content-type"===ie.toLowerCase()&&(this.__rollbar_xhr.request_content_type=ae)),L.apply(this,arguments)}},this.replacements,"network"),C(K,"send",function(L){return function(ie){var ae=this;function le(){if(ae.__rollbar_xhr&&(null===ae.__rollbar_xhr.status_code&&(ae.__rollbar_xhr.status_code=0,D.autoInstrument.networkRequestBody&&(ae.__rollbar_xhr.request=ie),ae.__rollbar_event=D.captureNetwork(ae.__rollbar_xhr,"xhr",void 0)),ae.readyState<2&&(ae.__rollbar_xhr.start_time_ms=b.now()),ae.readyState>3)){ae.__rollbar_xhr.end_time_ms=b.now();var fe=null;if(ae.__rollbar_xhr.response_content_type=ae.getResponseHeader("Content-Type"),D.autoInstrument.networkResponseHeaders){var q=D.autoInstrument.networkResponseHeaders;fe={};try{var $,j;if(!0===q){var Q=ae.getAllResponseHeaders();if(Q){var ee,be,Se=Q.trim().split(/[\r\n]+/);for(j=0;j<Se.length;j++)$=(ee=Se[j].split(": ")).shift(),be=ee.join(": "),fe[$]=be}}else for(j=0;j<q.length;j++)fe[$=q[j]]=ae.getResponseHeader($)}catch{}}var Qe=null;if(D.autoInstrument.networkResponseBody)try{Qe=ae.responseText}catch{}var nt=null;(Qe||fe)&&(nt={},Qe&&(nt.body=D.isJsonContentType(ae.__rollbar_xhr.response_content_type)?D.scrubJson(Qe):Qe),fe&&(nt.headers=fe)),nt&&(ae.__rollbar_xhr.response=nt);try{var De=ae.status;ae.__rollbar_xhr.status_code=De=1223===De?204:De,ae.__rollbar_event.level=D.telemeter.levelFromStatus(De),D.errorOnHttpStatus(ae.__rollbar_xhr)}catch{}}}return W("onload",ae),W("onerror",ae),W("onprogress",ae),"onreadystatechange"in ae&&b.isFunction(ae.onreadystatechange)?C(ae,"onreadystatechange",function(fe){return D.rollbar.wrap(fe,void 0,le)}):ae.onreadystatechange=le,ae.__rollbar_xhr&&D.trackHttpErrors()&&(ae.__rollbar_xhr.stack=(new Error).stack),L.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&C(this._window,"fetch",function(L){return function(ie,ae){for(var le=new Array(arguments.length),fe=0,q=le.length;fe<q;fe++)le[fe]=arguments[fe];var $,j=le[0],Q="GET",ee=_(j);b.isType(j,"string")||ee?$=ee?j.toString():j:j&&($=j.url,j.method&&(Q=j.method)),le[1]&&le[1].method&&(Q=le[1].method);var be={method:Q,url:$,status_code:null,start_time_ms:b.now(),end_time_ms:null};if(le[1]&&le[1].headers){var Se=E(le[1].headers);be.request_content_type=Se.get("Content-Type"),D.autoInstrument.networkRequestHeaders&&(be.request_headers=D.fetchHeaders(Se,D.autoInstrument.networkRequestHeaders))}return D.autoInstrument.networkRequestBody&&(le[1]&&le[1].body?be.request=le[1].body:le[0]&&!b.isType(le[0],"string")&&le[0].body&&(be.request=le[0].body)),D.captureNetwork(be,"fetch",void 0),D.trackHttpErrors()&&(be.stack=(new Error).stack),L.apply(this,le).then(function(Qe){be.end_time_ms=b.now(),be.status_code=Qe.status,be.response_content_type=Qe.headers.get("Content-Type");var nt=null;D.autoInstrument.networkResponseHeaders&&(nt=D.fetchHeaders(Qe.headers,D.autoInstrument.networkResponseHeaders));var De=null;return D.autoInstrument.networkResponseBody&&"function"==typeof Qe.text&&(De=Qe.clone().text()),(nt||De)&&(be.response={},De&&("function"==typeof De.then?De.then(function(ut){be.response.body=ut&&D.isJsonContentType(be.response_content_type)?D.scrubJson(ut):ut}):be.response.body=De),nt&&(be.response.headers=nt)),D.errorOnHttpStatus(be),Qe})}},this.replacements,"network")},y.prototype.captureNetwork=function(D,W,K){return D.request&&this.isJsonContentType(D.request_content_type)&&(D.request=this.scrubJson(D.request)),this.telemeter.captureNetwork(D,W,K)},y.prototype.isJsonContentType=function(D){return!!(D&&b.isType(D,"string")&&D.toLowerCase().includes("json"))},y.prototype.scrubJson=function(D){return JSON.stringify(u(JSON.parse(D),this.options.scrubFields))},y.prototype.fetchHeaders=function(D,W){var K={};try{var L;if(!0===W){if("function"==typeof D.entries)for(var ie=D.entries(),ae=ie.next();!ae.done;)K[ae.value[0]]=ae.value[1],ae=ie.next()}else for(L=0;L<W.length;L++){var le=W[L];K[le]=D.get(le)}}catch{}return K},y.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},y.prototype.errorOnHttpStatus=function(D){var W=D.status_code;if(W>=500&&this.autoInstrument.networkErrorOnHttp5xx||W>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===W&&this.autoInstrument.networkErrorOnHttp0){var K=new Error("HTTP request failed with Status "+W);K.stack=D.stack,this.rollbar.error(K,{skipFrames:1})}},y.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var D;this.replacements.log.length;)D=this.replacements.log.shift(),this._window.console[D[0]]=D[1]},y.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var D=this,W=this._window.console,K=["debug","info","warn","error","log"];try{for(var L=0,ie=K.length;L<ie;L++)ae(K[L])}catch(le){this.diagnostic.instrumentConsole={error:le.message}}}function ae(le){var fe=W[le],q=W,$="warn"===le?"warning":le;W[le]=function(){var j=Array.prototype.slice.call(arguments),Q=b.formatArgsAsString(j);D.telemeter.captureLog(Q,$),fe&&Function.prototype.apply.call(fe,q,j)},D.replacements.log.push([le,fe])}},y.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},y.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var D=this.handleClick.bind(this),W=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",D,!0),this.addListener("dom",this._window,"blur","onfocusout",W,!0)}},y.prototype.handleClick=function(D){try{var W=S.getElementFromEvent(D,this._document),K=W&&W.tagName,L=S.isDescribedElement(W,"a")||S.isDescribedElement(W,"button");K&&(L||S.isDescribedElement(W,"input",["button","submit"]))?this.captureDomEvent("click",W):S.isDescribedElement(W,"input",["checkbox","radio"])&&this.captureDomEvent("input",W,W.value,W.checked)}catch{}},y.prototype.handleBlur=function(D){try{var W=S.getElementFromEvent(D,this._document);W&&W.tagName&&(S.isDescribedElement(W,"textarea")?this.captureDomEvent("input",W,W.value):S.isDescribedElement(W,"select")&&W.options&&W.options.length?this.handleSelectInputChanged(W):S.isDescribedElement(W,"input")&&!S.isDescribedElement(W,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",W,W.value))}catch{}},y.prototype.handleSelectInputChanged=function(D){if(D.multiple)for(var W=0;W<D.options.length;W++)D.options[W].selected&&this.captureDomEvent("input",D,D.options[W].value);else D.selectedIndex>=0&&D.options[D.selectedIndex]&&this.captureDomEvent("input",D,D.options[D.selectedIndex].value)},y.prototype.captureDomEvent=function(D,W,K,L){if(void 0!==K)if(this.scrubTelemetryInputs||"password"===S.getElementType(W))K="[scrubbed]";else{var ie=S.describeElement(W);this.telemetryScrubber?this.telemetryScrubber(ie)&&(K="[scrubbed]"):this.defaultValueScrubber(ie)&&(K="[scrubbed]")}var ae=S.elementArrayToString(S.treeToArray(W));this.telemeter.captureDom(D,ae,K,L)},y.prototype.deinstrumentNavigation=function(){var D=this._window.chrome;!(D&&D.app&&D.app.runtime)&&this._window.history&&this._window.history.pushState&&O(this.replacements,"navigation")},y.prototype.instrumentNavigation=function(){var D=this._window.chrome;if(!(D&&D.app&&D.app.runtime)&&this._window.history&&this._window.history.pushState){var W=this;C(this._window,"onpopstate",function(K){return function(){W.handleUrlChange(W._lastHref,W._location.href),K&&K.apply(this,arguments)}},this.replacements,"navigation"),C(this._window.history,"pushState",function(K){return function(){var L=arguments.length>2?arguments[2]:void 0;return L&&W.handleUrlChange(W._lastHref,L+""),K.apply(this,arguments)}},this.replacements,"navigation")}},y.prototype.handleUrlChange=function(D,W){var K=F.parse(this._location.href),L=F.parse(W),ie=F.parse(D);this._lastHref=W,K.protocol===L.protocol&&K.host===L.host&&(W=L.path+(L.hash||"")),K.protocol===ie.protocol&&K.host===ie.host&&(D=ie.path+(ie.hash||"")),this.telemeter.captureNavigation(D,W)},y.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):O(this.replacements,"connectivity"))},y.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var D=this;C(this._document.body,"ononline",function(W){return function(){D.telemeter.captureConnectivityChange("online"),W&&W.apply(this,arguments)}},this.replacements,"connectivity"),C(this._document.body,"onoffline",function(W){return function(){D.telemeter.captureConnectivityChange("offline"),W&&W.apply(this,arguments)}},this.replacements,"connectivity")}},y.prototype.handleCspEvent=function(D){var W="Security Policy Violation: blockedURI: "+D.blockedURI+", violatedDirective: "+D.violatedDirective+", effectiveDirective: "+D.effectiveDirective+", ";D.sourceFile&&(W+="location: "+D.sourceFile+", line: "+D.lineNumber+", col: "+D.columnNumber+", "),this.telemeter.captureLog(W+="originalPolicy: "+D.originalPolicy,"error"),this.handleCspError(W)},y.prototype.handleCspError=function(D){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(D)},y.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},y.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var D=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,D,!1)}},y.prototype.addListener=function(D,W,K,L,ie,ae){W.addEventListener?(W.addEventListener(K,ie,ae),this.eventRemovers[D].push(function(){W.removeEventListener(K,ie,ae)})):L&&(W.attachEvent(L,ie),this.eventRemovers[D].push(function(){W.detachEvent(L,ie)}))},y.prototype.removeListeners=function(D){for(;this.eventRemovers[D].length;)this.eventRemovers[D].shift()()},r.exports=y},860:(r,x,f)=>{"use strict";var b=f(702),E=f(303),C=f(802);function u(O,y,_){var D=O.message,W=O.custom;D||(D="Item sent with null or missing arguments.");var K={body:D};W&&(K.extra=b.merge(W)),b.set(O,"data.body",{message:K}),_(null,O)}function F(O){var y=O.stackInfo.stack;return y&&0===y.length&&O._unhandledStackInfo&&O._unhandledStackInfo.stack&&(y=O._unhandledStackInfo.stack),y}function S(O,y,_){var D=O&&O.data.description,W=O&&O.custom,K=F(O),L=E.guessErrorClass(y.message),ie={exception:{class:U(y,L[0],_),message:L[1]}};if(D&&(ie.exception.description=D),K){var ae,le,fe,q,$,j,Q,ee;for(0===K.length&&(ie.exception.stack=y.rawStack,ie.exception.raw=String(y.rawException)),ie.frames=[],Q=0;Q<K.length;++Q)le={filename:(ae=K[Q]).url?b.sanitizeUrl(ae.url):"(unknown)",lineno:ae.line||null,method:ae.func&&"?"!==ae.func?ae.func:"[anonymous]",colno:ae.column},_.sendFrameUrl&&(le.url=ae.url),le.method&&le.method.endsWith&&le.method.endsWith("_rollbar_wrapped")||(fe=q=$=null,(j=ae.context?ae.context.length:0)&&(ee=Math.floor(j/2),q=ae.context.slice(0,ee),fe=ae.context[ee],$=ae.context.slice(ee)),fe&&(le.code=fe),(q||$)&&(le.context={},q&&q.length&&(le.context.pre=q),$&&$.length&&(le.context.post=$)),ae.args&&(le.args=ae.args),ie.frames.push(le));ie.frames.reverse(),W&&(ie.extra=b.merge(W))}return ie}function U(O,y,_){return O.name?O.name:_.guessErrorClass?y:"(unknown)"}r.exports={handleDomException:function(O,y,_){if(O.err&&"DOMException"===E.Stack(O.err).name){var D=new Error;D.name=O.err.name,D.message=O.err.message,D.stack=O.err.stack,D.nested=O.err,O.err=D}_(null,O)},handleItemWithError:function(O,y,_){if(O.data=O.data||{},O.err)try{O.stackInfo=O.err._savedStackTrace||E.parse(O.err,O.skipFrames),y.addErrorContext&&function(D){var W=[],K=D.err;for(W.push(K);K.nested||K.cause;)W.push(K=K.nested||K.cause);b.addErrorContext(D,W)}(O)}catch(D){C.error("Error while parsing the error object.",D);try{O.message=O.err.message||O.err.description||O.message||String(O.err)}catch(W){O.message=String(O.err)||String(W)}delete O.err}_(null,O)},ensureItemHasSomethingToSay:function(O,y,_){O.message||O.stackInfo||O.custom||_(new Error("No message, stack info, or custom data"),null),_(null,O)},addBaseInfo:function(O,y,_){O.data=b.merge(O.data,{environment:y.payload&&y.payload.environment||y.environment,level:O.level,endpoint:y.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:O.uuid,notifier:{name:"rollbar-browser-js",version:y.version},custom:O.custom}),_(null,O)},addRequestInfo:function(O){return function(y,_,D){var W={};O&&O.location&&(W.url=O.location.href,W.query_string=O.location.search);var K="$remote_ip";_.captureIp?!0!==_.captureIp&&(K+="_anonymize"):K=null,K&&(W.user_ip=K),Object.keys(W).length>0&&b.set(y,"data.request",W),D(null,y)}},addClientInfo:function(O){return function(y,_,D){if(!O)return D(null,y);var W=O.navigator||{},K=O.screen||{};b.set(y,"data.client",{runtime_ms:y.timestamp-O._rollbarStartTime,timestamp:Math.round(y.timestamp/1e3),javascript:{browser:W.userAgent,language:W.language,cookie_enabled:W.cookieEnabled,screen:{width:K.width,height:K.height}}}),D(null,y)}},addPluginInfo:function(O){return function(y,_,D){if(!O||!O.navigator)return D(null,y);for(var W,K=[],L=O.navigator.plugins||[],ie=0,ae=L.length;ie<ae;++ie)K.push({name:(W=L[ie]).name,description:W.description});b.set(y,"data.client.javascript.plugins",K),D(null,y)}},addBody:function(O,y,_){O.stackInfo?O.stackInfo.traceChain?function(D,W,K){for(var L=D.stackInfo.traceChain,ie=[],ae=L.length,le=0;le<ae;le++){var fe=S(D,L[le],W);ie.push(fe)}b.set(D,"data.body",{trace_chain:ie}),K(null,D)}(O,y,_):function(D,W,K){if(F(D)){var ie=S(D,D.stackInfo,W);b.set(D,"data.body",{trace:ie}),K(null,D)}else{var ae=D.stackInfo,le=E.guessErrorClass(ae.message),fe=U(ae,le[0],W);D.message=fe+": "+le[1],u(D,0,K)}}(O,y,_):u(O,0,_)},addScrubber:function(O){return function(y,_,D){O&&(y.data=O(y.data,_.scrubFields||[],_.scrubPaths||[])),D(null,y)}}}},477:(r,x,f)=>{"use strict";var b=f(702),E=f(656),C=f(86);function u(F){this.truncation=F}u.prototype.get=function(F,S,U,O,y){O&&b.isFunction(O)||(O=function(){}),b.addParamsAndAccessTokenToPath(F,S,U);var _=b.formatUrl(S);this._makeZoneRequest(F,_,"GET",null,O,y,S.timeout,S.transport)},u.prototype.post=function(F,S,U,O,y){if(O&&b.isFunction(O)||(O=function(){}),!U)return O(new Error("Cannot send empty request"));var _;if((_=this.truncation?this.truncation.truncate(U):b.stringify(U)).error)return O(_.error);var D=_.value,W=b.formatUrl(S);this._makeZoneRequest(F,W,"POST",D,O,y,S.timeout,S.transport)},u.prototype.postJsonPayload=function(F,S,U,O,y){O&&b.isFunction(O)||(O=function(){});var _=b.formatUrl(S);this._makeZoneRequest(F,_,"POST",U,O,y,S.timeout,S.transport)},u.prototype._makeZoneRequest=function(){var F=typeof window<"u"&&window||void 0!==y&&y,S=F&&F.Zone&&F.Zone.current,U=Array.prototype.slice.call(arguments);if(S&&"angular"===S._name){var y=this;S._parent.run(function(){y._makeRequest.apply(void 0,U)})}else this._makeRequest.apply(void 0,U)},u.prototype._makeRequest=function(F,S,U,O,y,_,D,W){if(typeof RollbarProxy<"u")return K=O,L=y,void(new RollbarProxy).sendJsonPayload(K,function(ie){},function(ie){L(new Error(ie))});var K,L;"fetch"===W?E(F,S,U,O,y,D):C(F,S,U,O,y,_,D)},r.exports=u},656:(r,x,f)=>{"use strict";var b=f(802),E=f(702);r.exports=function(C,u,F,S,U,O){var y,_;E.isFiniteNumber(O)&&(y=new AbortController,_=setTimeout(function(){y.abort()},O)),fetch(u,{method:F,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":C,signal:y&&y.signal},body:S}).then(function(D){return _&&clearTimeout(_),D.json()}).then(function(D){U(null,D)}).catch(function(D){b.error(D.message),U(D)})}},86:(r,x,f)=>{"use strict";var b=f(702),E=f(802);function C(u,F){var S=new Error(u);return S.code=F||"ENOTFOUND",S}r.exports=function(u,F,S,U,O,y,_){var D;if(!(D=y?y():function(){var L,ie,ae=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],le=ae.length;for(ie=0;ie<le;ie++)try{L=ae[ie]();break}catch{}return L}()))return O(new Error("No way to send a request"));try{try{var W=function(){try{if(W&&4===D.readyState){W=void 0;var L=b.jsonParse(D.responseText);if((le=D)&&le.status&&200===le.status)return void O(L.error,L.value);(fe=D)&&b.isType(fe.status,"number")&&fe.status>=400&&fe.status<600?(403===D.status&&E.error(L.value&&L.value.message),O(new Error(String(D.status)))):O(C("XHR response had no status code (likely connection failure)"))}}catch(fe){var ae;ae=fe&&fe.stack?fe:new Error(fe),O(ae)}var fe,le};D.open(S,F,!0),D.setRequestHeader&&(D.setRequestHeader("Content-Type","application/json"),D.setRequestHeader("X-Rollbar-Access-Token",u)),b.isFiniteNumber(_)&&(D.timeout=_),D.onreadystatechange=W,D.send(U)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return O(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===F.substring(0,5)&&(F="http"+F.substring(5));var K=new XDomainRequest;K.onprogress=function(){},K.ontimeout=function(){O(C("Request timed out","ETIMEDOUT"))},K.onerror=function(){O(new Error("Error during request"))},K.onload=function(){var ie=b.jsonParse(K.responseText);O(ie.error,ie.value)},K.open(S,F,!0),K.send(U)}else O(new Error("Cannot find a method to transport a request"))}}catch(L){O(L)}}},509:r=>{"use strict";r.exports={parse:function(x){var f,b,E={protocol:null,auth:null,host:null,path:null,hash:null,href:x,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(f=x.indexOf("//"))?(E.protocol=x.substring(0,f),b=f+2):b=0,-1!==(f=x.indexOf("@",b))&&(E.auth=x.substring(b,f),b=f+1),-1===(f=x.indexOf("/",b))){if(-1===(f=x.indexOf("?",b)))return-1===(f=x.indexOf("#",b))?E.host=x.substring(b):(E.host=x.substring(b,f),E.hash=x.substring(f)),E.hostname=E.host.split(":")[0],E.port=E.host.split(":")[1],E.port&&(E.port=parseInt(E.port,10)),E;E.host=x.substring(b,f),E.hostname=E.host.split(":")[0],E.port=E.host.split(":")[1],E.port&&(E.port=parseInt(E.port,10)),b=f}else E.host=x.substring(b,f),E.hostname=E.host.split(":")[0],E.port=E.host.split(":")[1],E.port&&(E.port=parseInt(E.port,10)),b=f;if(-1===(f=x.indexOf("#",b))?E.path=x.substring(b):(E.path=x.substring(b,f),E.hash=x.substring(f)),E.path){var C=E.path.split("?");E.pathname=C[0],E.query=C[1],E.search=E.query?"?"+E.query:null}return E}}},965:r=>{"use strict";function x(f,b,E){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){for(var C=b.addEventListener;C._rollbarOldAdd&&C.belongsToShim;)C=C._rollbarOldAdd;var u=function(U,O,y){C.call(this,U,f.wrap(O),y)};u._rollbarOldAdd=C,u.belongsToShim=E,b.addEventListener=u;for(var F=b.removeEventListener;F._rollbarOldRemove&&F.belongsToShim;)F=F._rollbarOldRemove;var S=function(U,O,y){F.call(this,U,O&&O._rollbar_wrapped||O,y)};S._rollbarOldRemove=F,S.belongsToShim=E,b.removeEventListener=S}}r.exports=function(f,b,E){if(f){var C,u,F="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(C=0;C<F.length;++C)f[u=F[C]]&&f[u].prototype&&x(b,f[u].prototype,E)}}},948:r=>{"use strict";r.exports={version:"2.26.4",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},303:(r,x,f)=>{"use strict";var b=f(180),E=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function u(S){var U={};return U._stackFrame=S,U.url=S.fileName,U.line=S.lineNumber,U.func=S.functionName,U.column=S.columnNumber,U.args=S.args,U.context=null,U}function F(S,U){return{stack:function(){var D=[];U=U||0;try{D=b.parse(S)}catch{D=[]}for(var W=[],K=U;K<D.length;K++)W.push(new u(D[K]));return W}(),message:S.message,name:(O=S,y=O.name&&O.name.length&&O.name,_=O.constructor.name&&O.constructor.name.length&&O.constructor.name,y&&_?"Error"===y?_:y:y||_),rawStack:S.stack,rawException:S};var O,y,_}r.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(S){if(!S||!S.match)return["Unknown error. There was no error message to display.",""];var U=S.match(E),O="(unknown)";return U&&(S=(S=S.replace((U[U.length-2]||"")+(O=U[U.length-1])+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[O,S]},gatherContext:function C(){return null},parse:function(S,U){var O=S;if(O.nested||O.cause){for(var y=[];O;)y.push(new F(O,U)),O=O.nested||O.cause,U=0;return y[0].traceChain=y,y[0]}return new F(O,U)},Stack:F,Frame:u}},420:r=>{"use strict";var x=Object.prototype.hasOwnProperty,f=Object.prototype.toString,b=function(E){if(!E||"[object Object]"!==f.call(E))return!1;var C,u=x.call(E,"constructor"),F=E.constructor&&E.constructor.prototype&&x.call(E.constructor.prototype,"isPrototypeOf");if(E.constructor&&!u&&!F)return!1;for(C in E);return void 0===C||x.call(E,C)};r.exports=function E(){var C,u,F,S,U,O={},y=null,_=arguments.length;for(C=0;C<_;C++)if(null!=(y=arguments[C]))for(U in y)u=O[U],O!==(F=y[U])&&(F&&b(F)?(S=u&&b(u)?u:{},O[U]=E(S,F)):void 0!==F&&(O[U]=F));return O}},314:(r,x,f)=>{"use strict";var b=f(702);function E(C,u){this.queue=C,this.options=u,this.transforms=[],this.diagnostic={}}E.prototype.configure=function(C){return this.queue&&this.queue.configure(C),this.options=b.merge(this.options,C),this},E.prototype.addTransform=function(C){return b.isFunction(C)&&this.transforms.push(C),this},E.prototype.log=function(C,u){if(u&&b.isFunction(u)||(u=function(){}),!this.options.enabled)return u(new Error("Rollbar is not enabled"));this.queue.addPendingItem(C);var F=C.err;this._applyTransforms(C,function(S,U){if(S)return this.queue.removePendingItem(C),u(S,null);this.queue.addItem(U,u,F,C)}.bind(this))},E.prototype._applyTransforms=function(C,u){var F=-1,S=this.transforms.length,U=this.transforms,O=this.options,y=function(_,D){_?u(_,null):++F!==S?U[F](D,O,y):u(null,D)};y(null,C)},r.exports=E},61:(r,x,f)=>{"use strict";var b=f(702);function E(u,F,S){if(!u)return!S;var U,y=u.frames;if(!y||0===y.length)return!S;for(var _=F.length,D=y.length,W=0;W<D;W++){if(!b.isType(U=y[W].filename,"string"))return!S;for(var K=0;K<_;K++)if(new RegExp(F[K]).test(U))return!0}return!1}function C(u,F,S,U){var O,y,_=!1;"blocklist"===S&&(_=!0);try{if(O=_?F.hostBlockList:F.hostSafeList,y=b.get(u,"body.trace_chain")||[b.get(u,"body.trace")],!O||0===O.length||0===y.length||!y[0])return!_;for(var D=y.length,W=0;W<D;W++)if(E(y[W],O,_))return!0}catch(L){_?F.hostBlockList=null:F.hostSafeList=null;var K=_?"hostBlockList":"hostSafeList";return U.error("Error while reading your configuration's "+K+" option. Removing custom "+K+".",L),!_}return!1}r.exports={checkLevel:function(u,F){return!((b.LEVELS[u.level]||0)<(b.LEVELS[F.reportLevel]||0))},userCheckIgnore:function(u){return function(F,S){var U=!!F._isUncaught;delete F._isUncaught;var O=F._originalArgs;delete F._originalArgs;try{b.isFunction(S.onSendCallback)&&S.onSendCallback(U,O,F)}catch(y){S.onSendCallback=null,u.error("Error while calling onSendCallback, removing",y)}try{if(b.isFunction(S.checkIgnore)&&S.checkIgnore(U,O,F))return!1}catch(y){S.checkIgnore=null,u.error("Error while calling custom checkIgnore(), removing",y)}return!0}},urlIsNotBlockListed:function(u){return function(F,S){return!C(F,S,"blocklist",u)}},urlIsSafeListed:function(u){return function(F,S){return C(F,S,"safelist",u)}},messageIsIgnored:function(u){return function(F,S){var U,O,y,_,D,W;try{if(!(y=S.ignoredMessages)||0===y.length||0===(W=function(K){var L=K.body,ie=[];if(L.trace_chain)for(var ae=L.trace_chain,le=0;le<ae.length;le++)ie.push(b.get(ae[le],"exception.message"));return L.trace&&ie.push(b.get(L,"trace.exception.message")),L.message&&ie.push(b.get(L,"message.body")),ie}(F)).length)return!0;for(_=y.length,U=0;U<_;U++)for(D=new RegExp(y[U],"gi"),O=0;O<W.length;O++)if(D.test(W[O]))return!1}catch{S.ignoredMessages=null,u.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},358:(r,x,f)=>{"use strict";var b=f(702);function E(u,F,S,U){this.rateLimiter=u,this.api=F,this.logger=S,this.options=U,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}E.prototype.configure=function(u){return this.api&&this.api.configure(u),this.options=b.merge(this.options,u),this},E.prototype.addPredicate=function(u){return b.isFunction(u)&&this.predicates.push(u),this},E.prototype.addPendingItem=function(u){this.pendingItems.push(u)},E.prototype.removePendingItem=function(u){var F=this.pendingItems.indexOf(u);-1!==F&&this.pendingItems.splice(F,1)},E.prototype.addItem=function(u,F,S,U){F&&b.isFunction(F)||(F=function(){});var O=this._applyPredicates(u);if(O.stop)return this.removePendingItem(U),void F(O.err);if(this._maybeLog(u,S),this.removePendingItem(U),this.options.transmit){this.pendingRequests.push(u);try{this._makeApiRequest(u,function(y,_){this._dequeuePendingRequest(u),F(y,_)}.bind(this))}catch(y){this._dequeuePendingRequest(u),F(y)}}else F(new Error("Transmit disabled"))},E.prototype.wait=function(u){b.isFunction(u)&&(this.waitCallback=u,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},E.prototype._applyPredicates=function(u){for(var F=null,S=0,U=this.predicates.length;S<U;S++)if(!(F=this.predicates[S](u,this.options))||void 0!==F.err)return{stop:!0,err:F.err};return{stop:!1,err:null}},E.prototype._makeApiRequest=function(u,F){var S=this.rateLimiter.shouldSend(u);S.shouldSend?this.api.postItem(u,function(U,O){U?this._maybeRetry(U,u,F):F(U,O)}.bind(this)):S.error?F(S.error):this.api.postItem(S.payload,F)};var C=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];E.prototype._maybeRetry=function(u,F,S){var U=!1;if(this.options.retryInterval){for(var O=0,y=C.length;O<y;O++)if(u.code===C[O]){U=!0;break}U&&b.isFiniteNumber(this.options.maxRetries)&&(F.retries=F.retries?F.retries+1:1,F.retries>this.options.maxRetries&&(U=!1))}U?this._retryApiRequest(F,S):S(u)},E.prototype._retryApiRequest=function(u,F){this.retryQueue.push({item:u,callback:F}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var S=this.retryQueue.shift();this._makeApiRequest(S.item,S.callback)}}.bind(this),this.options.retryInterval))},E.prototype._dequeuePendingRequest=function(u){var F=this.pendingRequests.indexOf(u);-1!==F&&(this.pendingRequests.splice(F,1),this._maybeCallWait())},E.prototype._maybeLog=function(u,F){if(this.logger&&this.options.verbose){var S=F;if(S=(S=S||b.get(u,"body.trace.exception.message"))||b.get(u,"body.trace_chain.0.exception.message"))return void this.logger.error(S);(S=b.get(u,"body.message.body"))&&this.logger.log(S)}},E.prototype._maybeCallWait=function(){return!(!b.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},r.exports=E},790:(r,x,f)=>{"use strict";var b=f(702);function E(F){this.startTime=b.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(F)}function C(F,S,U){return!F.ignoreRateLimit&&S>=1&&U>S}function u(F,S,U,O,y,_,D){var K,L,q,W=null;return U&&(U=new Error(U)),U||O||(q={body:{message:{body:D?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:y,itemsPerMinute:_}}},language:"javascript",environment:(L=S).environment||L.payload&&L.payload.environment,notifier:{version:L.notifier&&L.notifier.version||L.version}},"browser"===(K=F)?(q.platform="browser",q.framework="browser-js",q.notifier.name="rollbar-browser-js"):"server"===K?(q.framework=L.framework||"node-js",q.notifier.name=L.notifier.name):"react-native"===K&&(q.framework=L.framework||"react-native",q.notifier.name=L.notifier.name),W=q),{error:U,shouldSend:O,payload:W}}E.globalSettings={startTime:b.now(),maxItems:void 0,itemsPerMinute:void 0},E.prototype.configureGlobal=function(F){void 0!==F.startTime&&(E.globalSettings.startTime=F.startTime),void 0!==F.maxItems&&(E.globalSettings.maxItems=F.maxItems),void 0!==F.itemsPerMinute&&(E.globalSettings.itemsPerMinute=F.itemsPerMinute)},E.prototype.shouldSend=function(F,S){var U=(S=S||b.now())-this.startTime;(U<0||U>=6e4)&&(this.startTime=S,this.perMinCounter=0);var O=E.globalSettings.maxItems,y=E.globalSettings.itemsPerMinute;if(C(F,O,this.counter))return u(this.platform,this.platformOptions,O+" max items reached",!1);if(C(F,y,this.perMinCounter))return u(this.platform,this.platformOptions,y+" items per minute reached",!1);this.counter++,this.perMinCounter++;var _=!C(F,O,this.counter),D=_;return _=_&&!C(F,y,this.perMinCounter),u(this.platform,this.platformOptions,null,_,O,y,D)},E.prototype.setPlatformOptions=function(F,S){this.platform=F,this.platformOptions=S},r.exports=E},562:(r,x,f)=>{"use strict";var b=f(790),E=f(358),C=f(314),u=f(702);function F(O,y,_,D,W){this.options=u.merge(O),this.logger=_,F.rateLimiter.configureGlobal(this.options),F.rateLimiter.setPlatformOptions(W,this.options),this.api=y,this.queue=new E(F.rateLimiter,y,_,this.options);var K=this.options.tracer||null;U(K)?(this.tracer=K,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new C(this.queue,this.options),this.telemeter=D,S(O),this.lastError=null,this.lastErrorHash="none"}function S(O){O.stackTraceLimit&&(Error.stackTraceLimit=O.stackTraceLimit)}function U(O){if(!O||!O.scope||"function"!=typeof O.scope)return!1;var y=O.scope();return!(!y||!y.active||"function"!=typeof y.active)}F.rateLimiter=new b({maxItems:0,itemsPerMinute:60}),F.prototype.global=function(O){return F.rateLimiter.configureGlobal(O),this},F.prototype.configure=function(O,y){var D={};y&&(D={payload:y}),this.options=u.merge(this.options,O,D);var W=this.options.tracer||null;return U(W)?(this.tracer=W,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),S(O),this.global(this.options),U(O.tracer)&&(this.tracer=O.tracer),this},F.prototype.log=function(O){var y=this._defaultLogLevel();return this._log(y,O)},F.prototype.debug=function(O){this._log("debug",O)},F.prototype.info=function(O){this._log("info",O)},F.prototype.warn=function(O){this._log("warning",O)},F.prototype.warning=function(O){this._log("warning",O)},F.prototype.error=function(O){this._log("error",O)},F.prototype.critical=function(O){this._log("critical",O)},F.prototype.wait=function(O){this.queue.wait(O)},F.prototype.captureEvent=function(O,y,_){return this.telemeter&&this.telemeter.captureEvent(O,y,_)},F.prototype.captureDomContentLoaded=function(O){return this.telemeter&&this.telemeter.captureDomContentLoaded(O)},F.prototype.captureLoad=function(O){return this.telemeter&&this.telemeter.captureLoad(O)},F.prototype.buildJsonPayload=function(O){return this.api.buildJsonPayload(O)},F.prototype.sendJsonPayload=function(O){this.api.postJsonPayload(O)},F.prototype._log=function(O,y){var _;if(y.callback&&(_=y.callback,delete y.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(y)){if(_){var D=new Error("ignored identical item");D.item=y,_(D)}}else try{this._addTracingInfo(y),y.level=y.level||O,this.telemeter&&this.telemeter._captureRollbarItem(y),y.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(y,_)}catch(W){_&&_(W),this.logger.error(W)}},F.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},F.prototype._sameAsLastError=function(O){if(!O._isUncaught)return!1;var _,y=((_=O).message||"")+"::"+((_.err||{}).stack||String(_.err));return this.lastErrorHash===y||(this.lastError=O.err,this.lastErrorHash=y,!1)},F.prototype._addTracingInfo=function(O){if(this.tracer){var y=this.tracer.scope().active();if(function(W){if(!W||!W.context||"function"!=typeof W.context)return!1;var K=W.context();return!!(K&&K.toSpanId&&K.toTraceId&&"function"==typeof K.toSpanId&&"function"==typeof K.toTraceId)}(y)){y.setTag("rollbar.error_uuid",O.uuid),y.setTag("rollbar.has_error",!0),y.setTag("error",!0),y.setTag("rollbar.item_url",`https://rollbar.com/item/uuid/?uuid=${O.uuid}`),y.setTag("rollbar.occurrence_url",`https://rollbar.com/occurrence/uuid/?uuid=${O.uuid}`);var _=y.context().toSpanId(),D=y.context().toTraceId();O.custom?(O.custom.opentracing_span_id=_,O.custom.opentracing_trace_id=D):O.custom={opentracing_span_id:_,opentracing_trace_id:D}}}},r.exports=F},369:(r,x,f)=>{"use strict";var b=f(702),E=f(267);function C(u,F){var S=F.split("."),U=S.length-1;try{for(var O=0;O<=U;++O)O<U?u=u[S[O]]:u[S[O]]=b.redact()}catch{}}r.exports=function(u,F,S){if(F=F||[],S)for(var U=0;U<S.length;++U)C(u,S[U]);var O=function(D){for(var K=[],L=0;L<D.length;++L)K.push(new RegExp("^\\[?(%5[bB])?"+D[L]+"\\[?(%5[bB])?\\]?(%5[dD])?$","i"));return K}(F),y=function(D){for(var K=[],L=0;L<D.length;++L)K.push(new RegExp("(\\[?(%5[bB])?"+D[L]+"\\[?(%5[bB])?\\]?(%5[dD])?=)([^&\\n]+)","igm"));return K}(F);function _(D,W){return W+b.redact()}return E(u,function D(W,K,L){var ie=function(ae,le){var fe;for(fe=0;fe<O.length;++fe)if(O[fe].test(ae)){le=b.redact();break}return le}(W,K);return ie===K?b.isType(K,"object")||b.isType(K,"array")?E(K,D,L):function(ae){var le;if(b.isType(ae,"string"))for(le=0;le<y.length;++le)ae=ae.replace(y[le],_);return ae}(ie):ie})}},773:(r,x,f)=>{"use strict";var b=f(702),E=100;function C(F){this.queue=[],this.options=b.merge(F),this.maxQueueSize=Math.max(0,Math.min(this.options.maxTelemetryEvents||E,E))}function u(F,S){return S||{error:"error",manual:"info"}[F]||"info"}C.prototype.configure=function(F){this.options=b.merge(this.options,F);var O=Math.max(0,Math.min(this.options.maxTelemetryEvents||E,E)),y=0;this.queue.length>O&&(y=this.queue.length-O),this.maxQueueSize=O,this.queue.splice(0,y)},C.prototype.copyEvents=function(){var F=Array.prototype.slice.call(this.queue,0);if(b.isFunction(this.options.filterTelemetry))try{for(var S=F.length;S--;)this.options.filterTelemetry(F[S])&&F.splice(S,1)}catch{this.options.filterTelemetry=null}return F},C.prototype.capture=function(F,S,U,O,y){var _={level:u(F,U),type:F,timestamp_ms:y||b.now(),body:S,source:"client"};O&&(_.uuid=O);try{if(b.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(_))return!1}catch{this.options.filterTelemetry=null}return this.push(_),_},C.prototype.captureEvent=function(F,S,U,O){return this.capture(F,S,U,O)},C.prototype.captureError=function(F,S,U,O){var y={message:F.message||String(F)};return F.stack&&(y.stack=F.stack),this.capture("error",y,S,U,O)},C.prototype.captureLog=function(F,S,U,O){return this.capture("log",{message:F},S,U,O)},C.prototype.captureNetwork=function(F,S,U,O){S=S||"xhr",F.subtype=F.subtype||S,O&&(F.request=O);var y=this.levelFromStatus(F.status_code);return this.capture("network",F,y,U)},C.prototype.levelFromStatus=function(F){return F>=200&&F<400?"info":0===F||F>=400?"error":"info"},C.prototype.captureDom=function(F,S,U,O,y){var _={subtype:F,element:S};return void 0!==U&&(_.value=U),void 0!==O&&(_.checked=O),this.capture("dom",_,"info",y)},C.prototype.captureNavigation=function(F,S,U){return this.capture("navigation",{from:F,to:S},"info",U)},C.prototype.captureDomContentLoaded=function(F){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,F&&F.getTime())},C.prototype.captureLoad=function(F){return this.capture("navigation",{subtype:"load"},"info",void 0,F&&F.getTime())},C.prototype.captureConnectivityChange=function(F,S){return this.captureNetwork({change:F},"connectivity",S)},C.prototype._captureRollbarItem=function(F){if(this.options.includeItemsInTelemetry)return F.err?this.captureError(F.err,F.level,F.uuid,F.timestamp):F.message?this.captureLog(F.message,F.level,F.uuid,F.timestamp):F.custom?this.capture("log",F.custom,F.level,F.uuid,F.timestamp):void 0},C.prototype.push=function(F){this.queue.push(F),this.queue.length>this.maxQueueSize&&this.queue.shift()},r.exports=C},417:(r,x,f)=>{"use strict";var b=f(702);function E(C,u){b.isFunction(C[u])&&(C[u]=C[u].toString())}r.exports={itemToPayload:function(C,u,F){var S=C.data;C._isUncaught&&(S._isUncaught=!0),C._originalArgs&&(S._originalArgs=C._originalArgs),F(null,S)},addPayloadOptions:function(C,u,F){var S=u.payload||{};S.body&&delete S.body,C.data=b.merge(C.data,S),F(null,C)},addTelemetryData:function(C,u,F){C.telemetryEvents&&b.set(C,"data.body.telemetry",C.telemetryEvents),F(null,C)},addMessageWithError:function(C,u,F){if(C.message){var S="data.body.trace_chain.0",U=b.get(C,S);if(U||(U=b.get(C,S="data.body.trace")),U){if(!U.exception||!U.exception.description)return b.set(C,S+".exception.description",C.message),void F(null,C);var O=b.get(C,S+".extra")||{},y=b.merge(O,{message:C.message});b.set(C,S+".extra",y)}F(null,C)}else F(null,C)},userTransform:function(C){return function(u,F,S){var U=b.merge(u),O=null;try{b.isFunction(F.transform)&&(O=F.transform(U.data,u))}catch(y){return F.transform=null,C.error("Error while calling custom transform() function. Removing custom transform().",y),void S(null,u)}b.isPromise(O)?O.then(function(y){y&&(U.data=y),S(null,U)},function(y){S(y,u)}):S(null,U)}},addConfigToPayload:function(C,u,F){if(!u.sendConfig)return F(null,C);var S=b.get(C,"data.custom")||{};S._rollbarConfig=u,C.data.custom=S,F(null,C)},addConfiguredOptions:function(C,u,F){var S=u._configuredOptions;E(S,"transform"),E(S,"checkIgnore"),E(S,"onSendCallback"),delete S.accessToken,C.data.notifier.configured_options=S,F(null,C)},addDiagnosticKeys:function(C,u,F){var S=b.merge(C.notifier.client.notifier.diagnostic,C.diagnostic);if(b.get(C,"err._isAnonymous")&&(S.is_anonymous=!0),C._isUncaught&&(S.is_uncaught=C._isUncaught),C.err)try{S.raw_error={message:C.err.message,name:C.err.name,constructor_name:C.err.constructor&&C.err.constructor.name,filename:C.err.fileName,line:C.err.lineNumber,column:C.err.columnNumber,stack:C.err.stack}}catch(U){S.raw_error={failed:String(U)}}C.data.notifier.diagnostic=b.merge(C.data.notifier.diagnostic,S),F(null,C)}}},473:(r,x,f)=>{"use strict";var b=f(702),E=f(267);function C(D,W){return[D,b.stringify(D,W)]}function u(D,W){var K=D.length;return K>2*W?D.slice(0,W).concat(D.slice(K-W)):D}function F(D,W,K){K=void 0===K?30:K;var L,ie=D.data.body;if(ie.trace_chain)for(var ae=ie.trace_chain,le=0;le<ae.length;le++)L=u(L=ae[le].frames,K),ae[le].frames=L;else ie.trace&&(L=u(L=ie.trace.frames,K),ie.trace.frames=L);return[D,b.stringify(D,W)]}function S(D,W){return W&&W.length>D?W.slice(0,D-3).concat("..."):W}function U(D,W,K){return[W=E(W,function L(ie,ae,le){switch(b.typeName(ae)){case"string":return S(D,ae);case"object":case"array":return E(ae,L,le);default:return ae}}),b.stringify(W,K)]}function O(D){return D.exception&&(delete D.exception.description,D.exception.message=S(255,D.exception.message)),D.frames=u(D.frames,1),D}function y(D,W){var K=D.data.body;if(K.trace_chain)for(var L=K.trace_chain,ie=0;ie<L.length;ie++)L[ie]=O(L[ie]);else K.trace&&(K.trace=O(K.trace));return[D,b.stringify(D,W)]}function _(D,W){return b.maxByteSize(D)>W}r.exports={truncate:function(D,W,K){K=void 0===K?524288:K;for(var L,ie,ae,le=[C,F,U.bind(null,1024),U.bind(null,512),U.bind(null,256),y];L=le.shift();)if(D=(ie=L(D,W))[0],(ae=ie[1]).error||!_(ae.value,K))return ae;return ae},raw:C,truncateFrames:F,truncateStrings:U,maybeTruncateValue:S}},702:(r,x,f)=>{"use strict";var b=f(420),E={};function C(le,fe){return fe===u(le)}function u(le){var fe=typeof le;return"object"!==fe?fe:le?le instanceof Error?"error":{}.toString.call(le).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function F(le){return C(le,"function")}function S(le){var fe=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),q=RegExp("^"+fe+"$");return U(le)&&q.test(le)}function U(le){var fe=typeof le;return null!=le&&("object"==fe||"function"==fe)}function O(){var le=ae();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(fe){var q=(le+16*Math.random())%16|0;return le=Math.floor(le/16),("x"===fe?q:7&q|8).toString(16)})}var y={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function _(le,fe){var q,$;try{q=E.stringify(le)}catch(j){if(fe&&F(fe))try{q=fe(le)}catch(Q){$=Q}else $=j}return{error:$,value:q}}function D(le,fe){return function(q,$){try{fe(q,$)}catch(j){le.error(j)}}}function W(le){return function fe(q,$){var j,Q,ee,be={};try{for(Q in q)(j=q[Q])&&(C(j,"object")||C(j,"array"))?$.includes(j)?be[Q]="Removed circular reference: "+u(j):((ee=$.slice()).push(j),be[Q]=fe(j,ee)):be[Q]=j}catch(Se){be="Failed cloning custom data: "+Se.message}return be}(le,[le])}var K=["log","network","dom","navigation","error","manual"],L=["critical","error","warning","info","debug"];function ie(le,fe){for(var q=0;q<le.length;++q)if(le[q]===fe)return!0;return!1}function ae(){return Date.now?+Date.now():+new Date}r.exports={addParamsAndAccessTokenToPath:function(le,fe,q){(q=q||{}).access_token=le;var $,j=[];for($ in q)Object.prototype.hasOwnProperty.call(q,$)&&j.push([$,q[$]].join("="));var Q="?"+j.sort().join("&");(fe=fe||{}).path=fe.path||"";var ee,be=fe.path.indexOf("?"),Se=fe.path.indexOf("#");fe.path=-1!==be&&(-1===Se||Se>be)?(ee=fe.path).substring(0,be)+Q+"&"+ee.substring(be+1):-1!==Se?(ee=fe.path).substring(0,Se)+Q+ee.substring(Se):fe.path+Q},createItem:function(le,fe,q,$,j){for(var Q,ee,be,Se,Qe,nt,De=[],ut=[],Ft=0,ve=le.length;Ft<ve;++Ft){var I=u(nt=le[Ft]);switch(ut.push(I),I){case"undefined":break;case"string":Q?De.push(nt):Q=nt;break;case"function":Se=D(fe,nt);break;case"date":De.push(nt);break;case"error":case"domexception":case"exception":ee?De.push(nt):ee=nt;break;case"object":case"array":if(nt instanceof Error||typeof DOMException<"u"&&nt instanceof DOMException){ee?De.push(nt):ee=nt;break}if($&&"object"===I&&!Qe){for(var V=0,ge=$.length;V<ge;++V)if(void 0!==nt[$[V]]){Qe=nt;break}if(Qe)break}be?De.push(nt):be=nt;break;default:if(nt instanceof Error||typeof DOMException<"u"&&nt instanceof DOMException){ee?De.push(nt):ee=nt;break}De.push(nt)}}be&&(be=W(be)),De.length>0&&(be||(be=W({})),be.extraArgs=W(De));var ke,xt,Pe={message:Q,err:ee,custom:be,timestamp:ae(),callback:Se,notifier:q,diagnostic:{},uuid:O()};return ke=Pe,(xt=be)&&void 0!==xt.level&&(ke.level=xt.level,delete xt.level),xt&&void 0!==xt.skipFrames&&(ke.skipFrames=xt.skipFrames,delete xt.skipFrames),$&&Qe&&(Pe.request=Qe),j&&(Pe.lambdaContext=j),Pe._originalArgs=le,Pe.diagnostic.original_arg_types=ut,Pe},addErrorContext:function(le,fe){var q=le.data.custom||{},$=!1;try{for(var j=0;j<fe.length;++j)fe[j].hasOwnProperty("rollbarContext")&&(q=b(q,W(fe[j].rollbarContext)),$=!0);$&&(le.data.custom=q)}catch(Q){le.diagnostic.error_context="Failed: "+Q.message}},createTelemetryEvent:function(le){for(var fe,q,$,j,Q=0,ee=le.length;Q<ee;++Q)switch(u(j=le[Q])){case"string":!fe&&ie(K,j)?fe=j:!$&&ie(L,j)&&($=j);break;case"object":q=j}return{type:fe||"manual",metadata:q||{},level:$}},filterIp:function(le,fe){if(le&&le.user_ip&&!0!==fe){var q=le.user_ip;if(fe)try{var $;if(-1!==q.indexOf("."))($=q.split(".")).pop(),$.push("0"),q=$.join(".");else if(-1!==q.indexOf(":")){if(($=q.split(":")).length>2){var j=$.slice(0,3),Q=j[2].indexOf("/");-1!==Q&&(j[2]=j[2].substring(0,Q)),q=j.concat("0000:0000:0000:0000:0000").join(":")}}else q=null}catch{q=null}else q=null;le.user_ip=q}},formatArgsAsString:function(le){var fe,q,$,j=[];for(fe=0,q=le.length;fe<q;++fe){switch(u($=le[fe])){case"object":($=($=_($)).error||$.value).length>500&&($=$.substr(0,497)+"...");break;case"null":$="null";break;case"undefined":$="undefined";break;case"symbol":$=$.toString()}j.push($)}return j.join(" ")},formatUrl:function(le,fe){if(!(fe=fe||le.protocol)&&le.port&&(80===le.port?fe="http:":443===le.port&&(fe="https:")),!le.hostname)return null;var q=(fe=fe||"https:")+"//"+le.hostname;return le.port&&(q=q+":"+le.port),le.path&&(q+=le.path),q},get:function(le,fe){if(le){var q=fe.split("."),$=le;try{for(var j=0,Q=q.length;j<Q;++j)$=$[q[j]]}catch{$=void 0}return $}},handleOptions:function(le,fe,q,$){var Q,ee,j=b(le,fe,q);return ee=$,(Q=j).hostWhiteList&&!Q.hostSafeList&&(Q.hostSafeList=Q.hostWhiteList,Q.hostWhiteList=void 0,ee&&ee.log("hostWhiteList is deprecated. Use hostSafeList.")),Q.hostBlackList&&!Q.hostBlockList&&(Q.hostBlockList=Q.hostBlackList,Q.hostBlackList=void 0,ee&&ee.log("hostBlackList is deprecated. Use hostBlockList.")),j=Q,!fe||fe.overwriteScrubFields||fe.scrubFields&&(j.scrubFields=(le.scrubFields||[]).concat(fe.scrubFields)),j},isError:function(le){return C(le,"error")||C(le,"exception")},isFiniteNumber:function(le){return Number.isFinite(le)},isFunction:F,isIterable:function(le){var fe=u(le);return"object"===fe||"array"===fe},isNativeFunction:S,isObject:U,isString:function(le){return"string"==typeof le||le instanceof String},isType:C,isPromise:function(le){return U(le)&&C(le.then,"function")},jsonParse:function(le){var fe,q;try{fe=E.parse(le)}catch($){q=$}return{error:q,value:fe}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(le,fe,q,$,j,Q,ee,be){var Se={url:fe||"",line:q,column:$};Se.func=be.guessFunctionName(Se.url,Se.line),Se.context=be.gatherContext(Se.url,Se.line);var Qe=typeof document<"u"&&document&&document.location&&document.location.href,nt=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:Q,message:j?String(j):le||ee,url:Qe,stack:[Se],useragent:nt}},merge:b,now:ae,redact:function(){return"********"},RollbarJSON:E,sanitizeUrl:function(le){var fe=function(q){if(C(q,"string")){for(var $=y,j=$.parser[$.strictMode?"strict":"loose"].exec(q),Q={},ee=0,be=$.key.length;ee<be;++ee)Q[$.key[ee]]=j[ee]||"";return Q[$.q.name]={},Q[$.key[12]].replace($.q.parser,function(Se,Qe,nt){Qe&&(Q[$.q.name][Qe]=nt)}),Q}}(le);return fe?(""===fe.anchor&&(fe.source=fe.source.replace("#","")),le=fe.source.replace("?"+fe.query,"")):"(unknown)"},set:function(le,fe,q){if(le){var $=fe.split("."),j=$.length;if(!(j<1))if(1!==j)try{for(var Q=le[$[0]]||{},ee=Q,be=1;be<j-1;++be)Q[$[be]]=Q[$[be]]||{},Q=Q[$[be]];Q[$[j-1]]=q,le[$[0]]=ee}catch{return}else le[$[0]]=q}},setupJSON:function(le){F(E.stringify)&&F(E.parse)||(C(JSON,"undefined")||(le?(S(JSON.stringify)&&(E.stringify=JSON.stringify),S(JSON.parse)&&(E.parse=JSON.parse)):(F(JSON.stringify)&&(E.stringify=JSON.stringify),F(JSON.parse)&&(E.parse=JSON.parse))),F(E.stringify)&&F(E.parse)||le&&le(E))},stringify:_,maxByteSize:function(le){for(var fe=0,q=le.length,$=0;$<q;$++){var j=le.charCodeAt($);j<128?fe+=1:j<2048?fe+=2:j<65536&&(fe+=3)}return fe},typeName:u,uuid4:O}},650:r=>{"use strict";function x(b){return"string"!=typeof b&&(b=String(b)),b.toLowerCase()}function f(b){this.map={},b instanceof f?b.forEach(function(E,C){this.append(C,E)},this):Array.isArray(b)?b.forEach(function(E){this.append(E[0],E[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(E){this.append(E,b[E])},this)}f.prototype.append=function(b,E){var u;b=x(b),"string"!=typeof(u=E)&&(u=String(u)),E=u;var C=this.map[b];this.map[b]=C?C+", "+E:E},f.prototype.get=function(b){return b=x(b),this.has(b)?this.map[b]:null},f.prototype.has=function(b){return this.map.hasOwnProperty(x(b))},f.prototype.forEach=function(b,E){for(var C in this.map)this.map.hasOwnProperty(C)&&b.call(E,this.map[C],C,this)},f.prototype.entries=function(){var b=[];return this.forEach(function(E,C){b.push([C,E])}),function(E){return{next:function(){var C=E.shift();return{done:void 0===C,value:C}}}}(b)},r.exports=function(b){return typeof Headers>"u"?new f(b):new Headers(b)}},876:(r,x,f)=>{"use strict";var b=f(708);r.exports=b},297:r=>{"use strict";r.exports=function(x,f,b,E,C){var u=x[f];x[f]=b(u),E&&E[C].push([x,f,u])}},267:(r,x,f)=>{"use strict";var b=f(702);r.exports=function(E,C,u){var F,S,U,O,y=b.isType(E,"object"),_=b.isType(E,"array"),D=[];if(u=u||{obj:[],mapped:[]},y){if(O=u.obj.indexOf(E),y&&-1!==O)return u.mapped[O]||u.obj[O];u.obj.push(E),O=u.obj.length-1}if(y)for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&D.push(F);else if(_)for(U=0;U<E.length;++U)D.push(U);var W=y?{}:[],K=!0;for(U=0;U<D.length;++U)S=E[F=D[U]],W[F]=C(F,S,u),K=K&&W[F]===E[F];return y&&!K&&(u.mapped[O]=W),K?E:W}},708:r=>{r.exports=function(x){var f,b,E,C,u,F,S,U,O,y,_,D,W,K=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function L(fe){return fe<10?"0"+fe:fe}function ie(){return this.valueOf()}function ae(fe){return K.lastIndex=0,K.test(fe)?'"'+fe.replace(K,function(q){var $=E[q];return"string"==typeof $?$:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+fe+'"'}function le(fe,q){var $,j,Q,ee,be,Se=f,Qe=q[fe];switch(Qe&&"object"==typeof Qe&&"function"==typeof Qe.toJSON&&(Qe=Qe.toJSON(fe)),"function"==typeof C&&(Qe=C.call(q,fe,Qe)),typeof Qe){case"string":return ae(Qe);case"number":return isFinite(Qe)?String(Qe):"null";case"boolean":case"null":return String(Qe);case"object":if(!Qe)return"null";if(f+=b,be=[],"[object Array]"===Object.prototype.toString.apply(Qe)){for(ee=Qe.length,$=0;$<ee;$+=1)be[$]=le($,Qe)||"null";return Q=0===be.length?"[]":f?"[\n"+f+be.join(",\n"+f)+"\n"+Se+"]":"["+be.join(",")+"]",f=Se,Q}if(C&&"object"==typeof C)for(ee=C.length,$=0;$<ee;$+=1)"string"==typeof C[$]&&(Q=le(j=C[$],Qe))&&be.push(ae(j)+(f?": ":":")+Q);else for(j in Qe)Object.prototype.hasOwnProperty.call(Qe,j)&&(Q=le(j,Qe))&&be.push(ae(j)+(f?": ":":")+Q);return Q=0===be.length?"{}":f?"{\n"+f+be.join(",\n"+f)+"\n"+Se+"}":"{"+be.join(",")+"}",f=Se,Q}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+L(this.getUTCMonth()+1)+"-"+L(this.getUTCDate())+"T"+L(this.getUTCHours())+":"+L(this.getUTCMinutes())+":"+L(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=ie,Number.prototype.toJSON=ie,String.prototype.toJSON=ie),"function"!=typeof x.stringify&&(E={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},x.stringify=function(fe,q,$){var j;if(f="",b="","number"==typeof $)for(j=0;j<$;j+=1)b+=" ";else"string"==typeof $&&(b=$);if(C=q,q&&"function"!=typeof q&&("object"!=typeof q||"number"!=typeof q.length))throw new Error("JSON.stringify");return le("",{"":fe})}),"function"!=typeof x.parse&&(x.parse=(y={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},_={go:function(){u="ok"},firstokey:function(){U=O,u="colon"},okey:function(){U=O,u="colon"},ovalue:function(){u="ocomma"},firstavalue:function(){u="acomma"},avalue:function(){u="acomma"}},D={go:function(){u="ok"},ovalue:function(){u="ocomma"},firstavalue:function(){u="acomma"},avalue:function(){u="acomma"}},W={"{":{go:function(){F.push({state:"ok"}),S={},u="firstokey"},ovalue:function(){F.push({container:S,state:"ocomma",key:U}),S={},u="firstokey"},firstavalue:function(){F.push({container:S,state:"acomma"}),S={},u="firstokey"},avalue:function(){F.push({container:S,state:"acomma"}),S={},u="firstokey"}},"}":{firstokey:function(){var fe=F.pop();O=S,S=fe.container,U=fe.key,u=fe.state},ocomma:function(){var fe=F.pop();S[U]=O,O=S,S=fe.container,U=fe.key,u=fe.state}},"[":{go:function(){F.push({state:"ok"}),S=[],u="firstavalue"},ovalue:function(){F.push({container:S,state:"ocomma",key:U}),S=[],u="firstavalue"},firstavalue:function(){F.push({container:S,state:"acomma"}),S=[],u="firstavalue"},avalue:function(){F.push({container:S,state:"acomma"}),S=[],u="firstavalue"}},"]":{firstavalue:function(){var fe=F.pop();O=S,S=fe.container,U=fe.key,u=fe.state},acomma:function(){var fe=F.pop();S.push(O),O=S,S=fe.container,U=fe.key,u=fe.state}},":":{colon:function(){if(Object.hasOwnProperty.call(S,U))throw new SyntaxError("Duplicate key '"+U+'"');u="ovalue"}},",":{ocomma:function(){S[U]=O,u="okey"},acomma:function(){S.push(O),u="avalue"}},true:{go:function(){O=!0,u="ok"},ovalue:function(){O=!0,u="ocomma"},firstavalue:function(){O=!0,u="acomma"},avalue:function(){O=!0,u="acomma"}},false:{go:function(){O=!1,u="ok"},ovalue:function(){O=!1,u="ocomma"},firstavalue:function(){O=!1,u="acomma"},avalue:function(){O=!1,u="acomma"}},null:{go:function(){O=null,u="ok"},ovalue:function(){O=null,u="ocomma"},firstavalue:function(){O=null,u="acomma"},avalue:function(){O=null,u="acomma"}}},function(fe,q){var $,Q=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;u="go",F=[];try{for(;$=Q.exec(fe);)$[1]?W[$[1]][u]():$[2]?(O=+$[2],D[u]()):(O=$[3].replace(/\\(?:u(.{4})|([^u]))/g,function(ee,be,Se){return be?String.fromCharCode(parseInt(be,16)):y[Se]}),_[u]()),fe=fe.slice($[0].length)}catch(ee){u=ee}if("ok"!==u||/[^\u0020\t\n\r]/.test(fe))throw u instanceof SyntaxError?u:new SyntaxError("JSON");return"function"==typeof q?function ee(be,Se){var Qe,nt,De=be[Se];if(De&&"object"==typeof De)for(Qe in O)Object.prototype.hasOwnProperty.call(De,Qe)&&(void 0!==(nt=ee(De,Qe))?De[Qe]=nt:delete De[Qe]);return q.call(be,Se,De)}({"":O},""):O}))}}},w={},function r(x){var f=w[x];if(void 0!==f)return f.exports;var b=w[x]={exports:{}};return ot[x].call(b.exports,b,b.exports,r),b.exports}(409);var ot,w},en.exports=w()},9160:(en,ot,w)=>{"use strict";w.d(ot,{t:()=>x});var r=w(5052);class x extends r.B{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const E=super._subscribe(b);return!E.closed&&b.next(this._value),E}getValue(){const{hasError:b,thrownError:E,_value:C}=this;if(b)throw E;return this._throwIfClosed(),C}next(b){super.next(this._value=b)}}},2573:(en,ot,w)=>{"use strict";w.d(ot,{c:()=>F});var r=w(6567),x=w(1027),f=w(6138),b=w(7479),E=w(8502),C=w(4403),u=w(2926);let F=(()=>{class y{constructor(D){D&&(this._subscribe=D)}lift(D){const W=new y;return W.source=this,W.operator=D,W}subscribe(D,W,K){const L=function O(y){return y&&y instanceof r.vU||function U(y){return y&&(0,C.T)(y.next)&&(0,C.T)(y.error)&&(0,C.T)(y.complete)}(y)&&(0,x.Uv)(y)}(D)?D:new r.Ms(D,W,K);return(0,u.Y)(()=>{const{operator:ie,source:ae}=this;L.add(ie?ie.call(L,ae):ae?this._subscribe(L):this._trySubscribe(L))}),L}_trySubscribe(D){try{return this._subscribe(D)}catch(W){D.error(W)}}forEach(D,W){return new(W=S(W))((K,L)=>{const ie=new r.Ms({next:ae=>{try{D(ae)}catch(le){L(le),ie.unsubscribe()}},error:L,complete:K});this.subscribe(ie)})}_subscribe(D){var W;return null===(W=this.source)||void 0===W?void 0:W.subscribe(D)}[f.s](){return this}pipe(...D){return(0,b.m)(D)(this)}toPromise(D){return new(D=S(D))((W,K)=>{let L;this.subscribe(ie=>L=ie,ie=>K(ie),()=>W(L))})}}return y.create=_=>new y(_),y})();function S(y){var _;return null!==(_=y??E.$.Promise)&&void 0!==_?_:Promise}},391:(en,ot,w)=>{"use strict";w.d(ot,{m:()=>f});var r=w(5052),x=w(9309);class f extends r.B{constructor(E=1/0,C=1/0,u=x.U){super(),this._bufferSize=E,this._windowTime=C,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=C===1/0,this._bufferSize=Math.max(1,E),this._windowTime=Math.max(1,C)}next(E){const{isStopped:C,_buffer:u,_infiniteTimeWindow:F,_timestampProvider:S,_windowTime:U}=this;C||(u.push(E),!F&&u.push(S.now()+U)),this._trimBuffer(),super.next(E)}_subscribe(E){this._throwIfClosed(),this._trimBuffer();const C=this._innerSubscribe(E),{_infiniteTimeWindow:u,_buffer:F}=this,S=F.slice();for(let U=0;U<S.length&&!E.closed;U+=u?1:2)E.next(S[U]);return this._checkFinalizedStatuses(E),C}_trimBuffer(){const{_bufferSize:E,_timestampProvider:C,_buffer:u,_infiniteTimeWindow:F}=this,S=(F?1:2)*E;if(E<1/0&&S<u.length&&u.splice(0,u.length-S),!F){const U=C.now();let O=0;for(let y=1;y<u.length&&u[y]<=U;y+=2)O=y;O&&u.splice(0,O+1)}}}},5052:(en,ot,w)=>{"use strict";w.d(ot,{B:()=>u});var r=w(2573),x=w(1027);const b=(0,w(7385).L)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var E=w(7584),C=w(2926);let u=(()=>{class S extends r.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const y=new F(this,this);return y.operator=O,y}_throwIfClosed(){if(this.closed)throw new b}next(O){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(O)}})}error(O){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:y}=this;for(;y.length;)y.shift().error(O)}})}complete(){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:y,isStopped:_,observers:D}=this;return y||_?x.Kn:(this.currentObservers=null,D.push(O),new x.yU(()=>{this.currentObservers=null,(0,E.o)(D,O)}))}_checkFinalizedStatuses(O){const{hasError:y,thrownError:_,isStopped:D}=this;y?O.error(_):D&&O.complete()}asObservable(){const O=new r.c;return O.source=this,O}}return S.create=(U,O)=>new F(U,O),S})();class F extends u{constructor(U,O){super(),this.destination=U,this.source=O}next(U){var O,y;null===(y=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===y||y.call(O,U)}error(U){var O,y;null===(y=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===y||y.call(O,U)}complete(){var U,O;null===(O=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===O||O.call(U)}_subscribe(U){var O,y;return null!==(y=null===(O=this.source)||void 0===O?void 0:O.subscribe(U))&&void 0!==y?y:x.Kn}}},6567:(en,ot,w)=>{"use strict";w.d(ot,{Ms:()=>K,vU:()=>y});var r=w(4403),x=w(1027),f=w(8502),b=w(6642),E=w(9827);const C=S("C",void 0,void 0);function S(fe,q,$){return{kind:fe,value:q,error:$}}var U=w(2386),O=w(2926);class y extends x.yU{constructor(q){super(),this.isStopped=!1,q?(this.destination=q,(0,x.Uv)(q)&&q.add(this)):this.destination=le}static create(q,$,j){return new K(q,$,j)}next(q){this.isStopped?ae(function F(fe){return S("N",fe,void 0)}(q),this):this._next(q)}error(q){this.isStopped?ae(function u(fe){return S("E",void 0,fe)}(q),this):(this.isStopped=!0,this._error(q))}complete(){this.isStopped?ae(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(q){this.destination.next(q)}_error(q){try{this.destination.error(q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function D(fe,q){return _.call(fe,q)}class W{constructor(q){this.partialObserver=q}next(q){const{partialObserver:$}=this;if($.next)try{$.next(q)}catch(j){L(j)}}error(q){const{partialObserver:$}=this;if($.error)try{$.error(q)}catch(j){L(j)}else L(q)}complete(){const{partialObserver:q}=this;if(q.complete)try{q.complete()}catch($){L($)}}}class K extends y{constructor(q,$,j){let Q;if(super(),(0,r.T)(q)||!q)Q={next:q??void 0,error:$??void 0,complete:j??void 0};else{let ee;this&&f.$.useDeprecatedNextContext?(ee=Object.create(q),ee.unsubscribe=()=>this.unsubscribe(),Q={next:q.next&&D(q.next,ee),error:q.error&&D(q.error,ee),complete:q.complete&&D(q.complete,ee)}):Q=q}this.destination=new W(Q)}}function L(fe){f.$.useDeprecatedSynchronousErrorHandling?(0,O.l)(fe):(0,b.m)(fe)}function ae(fe,q){const{onStoppedNotification:$}=f.$;$&&U.f.setTimeout(()=>$(fe,q))}const le={closed:!0,next:E.l,error:function ie(fe){throw fe},complete:E.l}},1027:(en,ot,w)=>{"use strict";w.d(ot,{Kn:()=>C,yU:()=>E,Uv:()=>u});var r=w(4403);const f=(0,w(7385).L)(S=>function(O){S(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((y,_)=>`${_+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var b=w(7584);class E{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const D of O)D.remove(this);else O.remove(this);const{initialTeardown:y}=this;if((0,r.T)(y))try{y()}catch(D){U=D instanceof f?D.errors:[D]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const D of _)try{F(D)}catch(W){U=U??[],W instanceof f?U=[...U,...W.errors]:U.push(W)}}if(U)throw new f(U)}}add(U){var O;if(U&&U!==this)if(this.closed)F(U);else{if(U instanceof E){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(U)}}_hasParent(U){const{_parentage:O}=this;return O===U||Array.isArray(O)&&O.includes(U)}_addParent(U){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(U),O):O?[O,U]:U}_removeParent(U){const{_parentage:O}=this;O===U?this._parentage=null:Array.isArray(O)&&(0,b.o)(O,U)}remove(U){const{_finalizers:O}=this;O&&(0,b.o)(O,U),U instanceof E&&U._removeParent(this)}}E.EMPTY=(()=>{const S=new E;return S.closed=!0,S})();const C=E.EMPTY;function u(S){return S instanceof E||S&&"closed"in S&&(0,r.T)(S.remove)&&(0,r.T)(S.add)&&(0,r.T)(S.unsubscribe)}function F(S){(0,r.T)(S)?S():S.unsubscribe()}},8502:(en,ot,w)=>{"use strict";w.d(ot,{$:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},215:(en,ot,w)=>{"use strict";w.d(ot,{_:()=>f});var r=w(330),x=w(6567);function f(b,E){const C="object"==typeof E;return new Promise((u,F)=>{const S=new x.Ms({next:U=>{u(U),S.unsubscribe()},error:F,complete:()=>{C?u(E.defaultValue):F(new r.G)}});b.subscribe(S)})}},7221:(en,ot,w)=>{"use strict";w.d(ot,{G:()=>C});var r=w(2573),x=w(1027),f=w(4710),b=w(6196),E=w(5210);class C extends r.c{constructor(F,S){super(),this.source=F,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,E.S)(F)&&(this.lift=F.lift)}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:F}=this;this._subject=this._connection=null,F?.unsubscribe()}connect(){let F=this._connection;if(!F){F=this._connection=new x.yU;const S=this.getSubject();F.add(this.source.subscribe((0,b._)(S,void 0,()=>{this._teardown(),S.complete()},U=>{this._teardown(),S.error(U)},()=>this._teardown()))),F.closed&&(this._connection=null,F=x.yU.EMPTY)}return F}refCount(){return(0,f.B)()(this)}}},2656:(en,ot,w)=>{"use strict";w.d(ot,{z:()=>U});var r=w(2573),x=w(5437),f=w(1472),b=w(9577),E=w(7694),C=w(7106),u=w(5436),F=w(6196),S=w(2733);function U(..._){const D=(0,C.lI)(_),W=(0,C.ms)(_),{args:K,keys:L}=(0,x.D)(_);if(0===K.length)return(0,f.H)([],D);const ie=new r.c(function O(_,D,W=b.D){return K=>{y(D,()=>{const{length:L}=_,ie=new Array(L);let ae=L,le=L;for(let fe=0;fe<L;fe++)y(D,()=>{const q=(0,f.H)(_[fe],D);let $=!1;q.subscribe((0,F._)(K,j=>{ie[fe]=j,$||($=!0,le--),le||K.next(W(ie.slice()))},()=>{--ae||K.complete()}))},K)},K)}}(K,D,L?ae=>(0,u.e)(L,ae):b.D));return W?ie.pipe((0,E.I)(W)):ie}function y(_,D,W){_?(0,S.N)(W,_,D):D()}},5892:(en,ot,w)=>{"use strict";w.d(ot,{x:()=>b});var r=w(6727),x=w(7106),f=w(1472);function b(...E){return(0,r.K)()((0,f.H)(E,(0,x.lI)(E)))}},5946:(en,ot,w)=>{"use strict";w.d(ot,{v:()=>f});var r=w(2573),x=w(1954);function f(b){return new r.c(E=>{(0,x.Tg)(b()).subscribe(E)})}},6047:(en,ot,w)=>{"use strict";w.d(ot,{d:()=>b});var r=w(2573);const x={now:()=>(x.delegate||performance).now(),delegate:void 0};var f=w(812);function b(u){return u?E(u):C}function E(u){return new r.c(F=>{const S=u||x,U=S.now();let O=0;const y=()=>{F.closed||(O=f.H.requestAnimationFrame(_=>{O=0;const D=S.now();F.next({timestamp:u?D:_,elapsed:D-U}),y()}))};return y(),()=>{O&&f.H.cancelAnimationFrame(O)}})}const C=E()},2515:(en,ot,w)=>{"use strict";w.d(ot,{I:()=>f,w:()=>x});var r=w(2573);const x=new r.c(E=>E.complete());function f(E){return E?function b(E){return new r.c(C=>E.schedule(()=>C.complete()))}(E):x}},6104:(en,ot,w)=>{"use strict";w.d(ot,{p:()=>F});var r=w(2573),x=w(5437),f=w(1954),b=w(7106),E=w(6196),C=w(7694),u=w(5436);function F(...S){const U=(0,b.ms)(S),{args:O,keys:y}=(0,x.D)(S),_=new r.c(D=>{const{length:W}=O;if(!W)return void D.complete();const K=new Array(W);let L=W,ie=W;for(let ae=0;ae<W;ae++){let le=!1;(0,f.Tg)(O[ae]).subscribe((0,E._)(D,fe=>{le||(le=!0,ie--),K[ae]=fe},()=>L--,void 0,()=>{(!L||!le)&&(ie||D.next(y?(0,u.e)(y,K):K),D.complete())}))}});return U?_.pipe((0,C.I)(U)):_}},1472:(en,ot,w)=>{"use strict";w.d(ot,{H:()=>f});var r=w(7974),x=w(1954);function f(b,E){return E?(0,r.c)(b,E):(0,x.Tg)(b)}},5426:(en,ot,w)=>{"use strict";w.d(ot,{R:()=>U});var r=w(1954),x=w(2573),f=w(1756),b=w(8629),E=w(4403),C=w(7694);const u=["addListener","removeListener"],F=["addEventListener","removeEventListener"],S=["on","off"];function U(W,K,L,ie){if((0,E.T)(L)&&(ie=L,L=void 0),ie)return U(W,K,L).pipe((0,C.I)(ie));const[ae,le]=function D(W){return(0,E.T)(W.addEventListener)&&(0,E.T)(W.removeEventListener)}(W)?F.map(fe=>q=>W[fe](K,q,L)):function y(W){return(0,E.T)(W.addListener)&&(0,E.T)(W.removeListener)}(W)?u.map(O(W,K)):function _(W){return(0,E.T)(W.on)&&(0,E.T)(W.off)}(W)?S.map(O(W,K)):[];if(!ae&&(0,b.X)(W))return(0,f.Z)(fe=>U(fe,K,L))((0,r.Tg)(W));if(!ae)throw new TypeError("Invalid event target");return new x.c(fe=>{const q=(...$)=>fe.next(1<$.length?$:$[0]);return ae(q),()=>le(q)})}function O(W,K){return L=>ie=>W[L](K,ie)}},1954:(en,ot,w)=>{"use strict";w.d(ot,{Tg:()=>_});var r=w(1635),x=w(8629),f=w(7854),b=w(2573),E=w(9531),C=w(7757),u=w(5835),F=w(4401),S=w(8432),U=w(4403),O=w(6642),y=w(6138);function _(fe){if(fe instanceof b.c)return fe;if(null!=fe){if((0,E.l)(fe))return function D(fe){return new b.c(q=>{const $=fe[y.s]();if((0,U.T)($.subscribe))return $.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,x.X)(fe))return function W(fe){return new b.c(q=>{for(let $=0;$<fe.length&&!q.closed;$++)q.next(fe[$]);q.complete()})}(fe);if((0,f.y)(fe))return function K(fe){return new b.c(q=>{fe.then($=>{q.closed||(q.next($),q.complete())},$=>q.error($)).then(null,O.m)})}(fe);if((0,C.T)(fe))return ie(fe);if((0,F.x)(fe))return function L(fe){return new b.c(q=>{for(const $ of fe)if(q.next($),q.closed)return;q.complete()})}(fe);if((0,S.U)(fe))return function ae(fe){return ie((0,S.C)(fe))}(fe)}throw(0,u.L)(fe)}function ie(fe){return new b.c(q=>{(function le(fe,q){var $,j,Q,ee;return(0,r.sH)(this,void 0,void 0,function*(){try{for($=(0,r.xN)(fe);!(j=yield $.next()).done;)if(q.next(j.value),q.closed)return}catch(be){Q={error:be}}finally{try{j&&!j.done&&(ee=$.return)&&(yield ee.call($))}finally{if(Q)throw Q.error}}q.complete()})})(fe,q).catch($=>q.error($))})}},6513:(en,ot,w)=>{"use strict";w.d(ot,{Y:()=>f});var r=w(8360),x=w(3654);function f(b=0,E=r.E){return b<0&&(b=0),(0,x.O)(b,b,E)}},6718:(en,ot,w)=>{"use strict";w.d(ot,{h:()=>C});var r=w(8297),x=w(1954),f=w(2515),b=w(7106),E=w(1472);function C(...u){const F=(0,b.lI)(u),S=(0,b.R0)(u,1/0),U=u;return U.length?1===U.length?(0,x.Tg)(U[0]):(0,r.U)(S)((0,E.H)(U,F)):f.w}},5877:(en,ot,w)=>{"use strict";w.d(ot,{of:()=>f});var r=w(7106),x=w(1472);function f(...b){const E=(0,r.lI)(b);return(0,x.H)(b,E)}},5326:(en,ot,w)=>{"use strict";w.d(ot,{$:()=>f});var r=w(2573),x=w(4403);function f(b,E){const C=(0,x.T)(b)?b:()=>b,u=F=>F.error(C());return new r.c(E?F=>E.schedule(u,0,F):u)}},3654:(en,ot,w)=>{"use strict";w.d(ot,{O:()=>E});var r=w(2573),x=w(8360),f=w(1498);function E(C=0,u,F=x.b){let S=-1;return null!=u&&((0,f.m)(u)?F=u:S=u),new r.c(U=>{let O=function b(C){return C instanceof Date&&!isNaN(C)}(C)?+C-F.now():C;O<0&&(O=0);let y=0;return F.schedule(function(){U.closed||(U.next(y++),0<=S?this.schedule(void 0,S):U.complete())},O)})}},6196:(en,ot,w)=>{"use strict";w.d(ot,{_:()=>x});var r=w(6567);function x(b,E,C,u,F){return new f(b,E,C,u,F)}class f extends r.vU{constructor(E,C,u,F,S,U){super(E),this.onFinalize=S,this.shouldUnsubscribe=U,this._next=C?function(O){try{C(O)}catch(y){E.error(y)}}:super._next,this._error=F?function(O){try{F(O)}catch(y){E.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=u?function(){try{u()}catch(O){E.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var E;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:C}=this;super.unsubscribe(),!C&&(null===(E=this.onFinalize)||void 0===E||E.call(this))}}}},9065:(en,ot,w)=>{"use strict";w.d(ot,{Z:()=>u});var r=w(8360),x=w(5210),f=w(1954),b=w(6196),C=w(3654);function u(F,S=r.E){return function E(F){return(0,x.N)((S,U)=>{let O=!1,y=null,_=null,D=!1;const W=()=>{if(_?.unsubscribe(),_=null,O){O=!1;const L=y;y=null,U.next(L)}D&&U.complete()},K=()=>{_=null,D&&U.complete()};S.subscribe((0,b._)(U,L=>{O=!0,y=L,_||(0,f.Tg)(F(L)).subscribe(_=(0,b._)(U,W,K))},()=>{D=!0,(!O||!_||_.closed)&&U.complete()}))})}(()=>(0,C.O)(F,S))}},6017:(en,ot,w)=>{"use strict";w.d(ot,{S:()=>b});var r=w(5210),x=w(6196),f=w(7584);function b(E,C=null){return C=C??E,(0,r.N)((u,F)=>{let S=[],U=0;u.subscribe((0,x._)(F,O=>{let y=null;U++%C==0&&S.push([]);for(const _ of S)_.push(O),E<=_.length&&(y=y??[],y.push(_));if(y)for(const _ of y)(0,f.o)(S,_),F.next(_)},()=>{for(const O of S)F.next(O);F.complete()},void 0,()=>{S=null}))})}},3609:(en,ot,w)=>{"use strict";w.d(ot,{w:()=>F});var r=w(1027),x=w(5210),f=w(6196),b=w(7584),E=w(8360),C=w(7106),u=w(2733);function F(S,...U){var O,y;const _=null!==(O=(0,C.lI)(U))&&void 0!==O?O:E.E,D=null!==(y=U[0])&&void 0!==y?y:null,W=U[1]||1/0;return(0,x.N)((K,L)=>{let ie=[],ae=!1;const le=$=>{const{buffer:j,subs:Q}=$;Q.unsubscribe(),(0,b.o)(ie,$),L.next(j),ae&&fe()},fe=()=>{if(ie){const $=new r.yU;L.add($);const Q={buffer:[],subs:$};ie.push(Q),(0,u.N)($,_,()=>le(Q),S)}};null!==D&&D>=0?(0,u.N)(L,_,fe,D,!0):ae=!0,fe();const q=(0,f._)(L,$=>{const j=ie.slice();for(const Q of j){const{buffer:ee}=Q;ee.push($),W<=ee.length&&le(Q)}},()=>{for(;ie?.length;)L.next(ie.shift().buffer);q?.unsubscribe(),L.complete(),L.unsubscribe()},void 0,()=>ie=null);K.subscribe(q)})}},8577:(en,ot,w)=>{"use strict";w.d(ot,{W:()=>b});var r=w(1954),x=w(6196),f=w(5210);function b(E){return(0,f.N)((C,u)=>{let U,F=null,S=!1;F=C.subscribe((0,x._)(u,void 0,void 0,O=>{U=(0,r.Tg)(E(O,b(E)(C))),F?(F.unsubscribe(),F=null,U.subscribe(u)):S=!0})),S&&(F.unsubscribe(),F=null,U.subscribe(u))})}},5533:(en,ot,w)=>{"use strict";w.d(ot,{p:()=>_});var r=w(2656),x=w(9577),f=w(7694),b=w(7479),E=w(1756),C=w(5773),u=w(5210);const S=(D,W)=>(D.push(W),D);const _=function y(D){return function O(D,W){return(0,b.F)(function U(){return(0,u.N)((D,W)=>{(function F(D,W){return(0,u.N)((0,C.S)(D,W,arguments.length>=2,!1,!0))})(S,[])(D).subscribe(W)})}(),(0,E.Z)(K=>D(K)),W?(0,f.I)(W):x.D)}(r.z,D)}},6727:(en,ot,w)=>{"use strict";w.d(ot,{K:()=>x});var r=w(8297);function x(){return(0,r.U)(1)}},6758:(en,ot,w)=>{"use strict";w.d(ot,{H:()=>f});var r=w(1756),x=w(4403);function f(b,E){return(0,x.T)(E)?(0,r.Z)(b,E,1):(0,r.Z)(b,1)}},5913:(en,ot,w)=>{"use strict";w.d(ot,{s:()=>E});var r=w(5210),x=w(9827),f=w(6196),b=w(1954);function E(C){return(0,r.N)((u,F)=>{let S=!1,U=null,O=null;const y=()=>{if(O?.unsubscribe(),O=null,S){S=!1;const _=U;U=null,F.next(_)}};u.subscribe((0,f._)(F,_=>{O?.unsubscribe(),S=!0,U=_,O=(0,f._)(F,y,x.l),(0,b.Tg)(C(_)).subscribe(O)},()=>{y(),F.complete()},void 0,()=>{U=O=null}))})}},7996:(en,ot,w)=>{"use strict";w.d(ot,{B:()=>b});var r=w(8360),x=w(5210),f=w(6196);function b(E,C=r.E){return(0,x.N)((u,F)=>{let S=null,U=null,O=null;const y=()=>{if(S){S.unsubscribe(),S=null;const D=U;U=null,F.next(D)}};function _(){const D=O+E,W=C.now();if(W<D)return S=this.schedule(void 0,D-W),void F.add(S);y()}u.subscribe((0,f._)(F,D=>{U=D,O=C.now(),S||(S=C.schedule(_,E),F.add(S))},()=>{y(),F.complete()},void 0,()=>{U=S=null}))})}},7369:(en,ot,w)=>{"use strict";w.d(ot,{U:()=>f});var r=w(5210),x=w(6196);function f(b){return(0,r.N)((E,C)=>{let u=!1;E.subscribe((0,x._)(C,F=>{u=!0,C.next(F)},()=>{u||C.next(b),C.complete()}))})}},9833:(en,ot,w)=>{"use strict";w.d(ot,{c:()=>y});var r=w(8360),x=w(5892),f=w(7365),b=w(5210),E=w(6196),C=w(9827),F=w(9539),S=w(1756);function U(_,D){return D?W=>(0,x.x)(D.pipe((0,f.s)(1),function u(){return(0,b.N)((_,D)=>{_.subscribe((0,E._)(D,C.l))})}()),W.pipe(U(_))):(0,S.Z)((W,K)=>_(W,K).pipe((0,f.s)(1),(0,F.u)(W)))}var O=w(3654);function y(_,D=r.E){const W=(0,O.O)(_,D);return U(()=>W)}},1082:(en,ot,w)=>{"use strict";w.d(ot,{F:()=>b});var r=w(9577),x=w(5210),f=w(6196);function b(C,u=r.D){return C=C??E,(0,x.N)((F,S)=>{let U,O=!0;F.subscribe((0,f._)(S,y=>{const _=u(y);(O||!C(U,_))&&(O=!1,U=_,S.next(y))}))})}function E(C,u){return C===u}},4264:(en,ot,w)=>{"use strict";w.d(ot,{p:()=>f});var r=w(5210),x=w(6196);function f(b,E){return(0,r.N)((C,u)=>{let F=0;C.subscribe((0,x._)(u,S=>b.call(E,S,F++)&&u.next(S)))})}},5152:(en,ot,w)=>{"use strict";w.d(ot,{j:()=>x});var r=w(5210);function x(f){return(0,r.N)((b,E)=>{try{b.subscribe(E)}finally{E.add(f)}})}},830:(en,ot,w)=>{"use strict";w.d(ot,{$:()=>u});var r=w(330),x=w(4264),f=w(7365),b=w(7369),E=w(7074),C=w(9577);function u(F,S){const U=arguments.length>=2;return O=>O.pipe(F?(0,x.p)((y,_)=>F(y,_,O)):C.D,(0,f.s)(1),U?(0,b.U)(S):(0,E.v)(()=>new r.G))}},8399:(en,ot,w)=>{"use strict";w.d(ot,{q:()=>x});const x=w(1756).Z},6110:(en,ot,w)=>{"use strict";w.d(ot,{T:()=>f});var r=w(5210),x=w(6196);function f(b,E){return(0,r.N)((C,u)=>{let F=0;C.subscribe((0,x._)(u,S=>{u.next(b.call(E,S,F++))}))})}},9539:(en,ot,w)=>{"use strict";w.d(ot,{u:()=>x});var r=w(6110);function x(f){return(0,r.T)(()=>f)}},8297:(en,ot,w)=>{"use strict";w.d(ot,{U:()=>f});var r=w(1756),x=w(9577);function f(b=1/0){return(0,r.Z)(x.D,b)}},1756:(en,ot,w)=>{"use strict";w.d(ot,{Z:()=>F});var r=w(6110),x=w(1954),f=w(5210),b=w(2733),E=w(6196),u=w(4403);function F(S,U,O=1/0){return(0,u.T)(U)?F((y,_)=>(0,r.T)((D,W)=>U(y,D,_,W))((0,x.Tg)(S(y,_))),O):("number"==typeof U&&(O=U),(0,f.N)((y,_)=>function C(S,U,O,y,_,D,W,K){const L=[];let ie=0,ae=0,le=!1;const fe=()=>{le&&!L.length&&!ie&&U.complete()},q=j=>ie<y?$(j):L.push(j),$=j=>{D&&U.next(j),ie++;let Q=!1;(0,x.Tg)(O(j,ae++)).subscribe((0,E._)(U,ee=>{_?.(ee),D?q(ee):U.next(ee)},()=>{Q=!0},void 0,()=>{if(Q)try{for(ie--;L.length&&ie<y;){const ee=L.shift();W?(0,b.N)(U,W,()=>$(ee)):$(ee)}fe()}catch(ee){U.error(ee)}}))};return S.subscribe((0,E._)(U,q,()=>{le=!0,fe()})),()=>{K?.()}}(y,_,S,O)))}},1670:(en,ot,w)=>{"use strict";w.d(ot,{J:()=>f});var r=w(5210),x=w(6196);function f(){return(0,r.N)((b,E)=>{let C,u=!1;b.subscribe((0,x._)(E,F=>{const S=C;C=F,u&&E.next([S,F]),u=!0}))})}},4710:(en,ot,w)=>{"use strict";w.d(ot,{B:()=>f});var r=w(5210),x=w(6196);function f(){return(0,r.N)((b,E)=>{let C=null;b._refCount++;const u=(0,x._)(E,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(C=null);const F=b._connection,S=C;C=null,F&&(!S||F===S)&&F.unsubscribe(),E.unsubscribe()});b.subscribe(u),u.closed||(C=b.connect())})}},4346:(en,ot,w)=>{"use strict";w.d(ot,{l:()=>b});var r=w(5052),x=w(5210),f=w(6196);function b(E){return(0,x.N)((C,u)=>{let F,U,S=!1;const O=()=>{F=C.subscribe((0,f._)(u,void 0,void 0,y=>{U||(U=new r.B,E(U).subscribe((0,f._)(u,()=>F?O():S=!0))),U&&U.next(y)})),S&&(F.unsubscribe(),F=null,S=!1,O())};O()})}},5773:(en,ot,w)=>{"use strict";w.d(ot,{S:()=>x});var r=w(6196);function x(f,b,E,C,u){return(F,S)=>{let U=E,O=b,y=0;F.subscribe((0,r._)(S,_=>{const D=y++;O=U?f(O,_,D):(U=!0,_),C&&S.next(O)},u&&(()=>{U&&S.next(O),S.complete()})))}}},75:(en,ot,w)=>{"use strict";w.d(ot,{u:()=>E});var r=w(1954),x=w(5052),f=w(6567),b=w(5210);function E(u={}){const{connector:F=(()=>new x.B),resetOnError:S=!0,resetOnComplete:U=!0,resetOnRefCountZero:O=!0}=u;return y=>{let _,D,W,K=0,L=!1,ie=!1;const ae=()=>{D?.unsubscribe(),D=void 0},le=()=>{ae(),_=W=void 0,L=ie=!1},fe=()=>{const q=_;le(),q?.unsubscribe()};return(0,b.N)((q,$)=>{K++,!ie&&!L&&ae();const j=W=W??F();$.add(()=>{K--,0===K&&!ie&&!L&&(D=C(fe,O))}),j.subscribe($),!_&&K>0&&(_=new f.Ms({next:Q=>j.next(Q),error:Q=>{ie=!0,ae(),D=C(le,S,Q),j.error(Q)},complete:()=>{L=!0,ae(),D=C(le,U),j.complete()}}),(0,r.Tg)(q).subscribe(_))})(y)}}function C(u,F,...S){if(!0===F)return void u();if(!1===F)return;const U=new f.Ms({next:()=>{U.unsubscribe(),u()}});return F(...S).subscribe(U)}},9784:(en,ot,w)=>{"use strict";w.d(ot,{t:()=>f});var r=w(391),x=w(75);function f(b,E,C){let u,F=!1;return b&&"object"==typeof b?({bufferSize:u=1/0,windowTime:E=1/0,refCount:F=!1,scheduler:C}=b):u=b??1/0,(0,x.u)({connector:()=>new r.m(u,E,C),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:F})}},7145:(en,ot,w)=>{"use strict";w.d(ot,{i:()=>x});var r=w(4264);function x(f){return(0,r.p)((b,E)=>f<=E)}},8545:(en,ot,w)=>{"use strict";w.d(ot,{U:()=>E});var r=w(5210),x=w(6196),f=w(1954),b=w(9827);function E(C){return(0,r.N)((u,F)=>{let S=!1;const U=(0,x._)(F,()=>{U?.unsubscribe(),S=!0},b.l);(0,f.Tg)(C).subscribe(U),u.subscribe((0,x._)(F,O=>S&&F.next(O)))})}},5160:(en,ot,w)=>{"use strict";w.d(ot,{Z:()=>b});var r=w(5892),x=w(7106),f=w(5210);function b(...E){const C=(0,x.lI)(E);return(0,f.N)((u,F)=>{(C?(0,r.x)(E,u,C):(0,r.x)(E,u)).subscribe(F)})}},2914:(en,ot,w)=>{"use strict";w.d(ot,{n:()=>b});var r=w(1954),x=w(5210),f=w(6196);function b(E,C){return(0,x.N)((u,F)=>{let S=null,U=0,O=!1;const y=()=>O&&!S&&F.complete();u.subscribe((0,f._)(F,_=>{S?.unsubscribe();let D=0;const W=U++;(0,r.Tg)(E(_,W)).subscribe(S=(0,f._)(F,K=>F.next(C?C(_,K,W,D++):K),()=>{S=null,y()}))},()=>{O=!0,y()}))})}},7365:(en,ot,w)=>{"use strict";w.d(ot,{s:()=>b});var r=w(2515),x=w(5210),f=w(6196);function b(E){return E<=0?()=>r.w:(0,x.N)((C,u)=>{let F=0;C.subscribe((0,f._)(u,S=>{++F<=E&&(u.next(S),E<=F&&u.complete())}))})}},7925:(en,ot,w)=>{"use strict";w.d(ot,{Q:()=>E});var r=w(5210),x=w(6196),f=w(1954),b=w(9827);function E(C){return(0,r.N)((u,F)=>{(0,f.Tg)(C).subscribe((0,x._)(F,()=>F.complete(),b.l)),!F.closed&&u.subscribe(F)})}},9705:(en,ot,w)=>{"use strict";w.d(ot,{M:()=>E});var r=w(4403),x=w(5210),f=w(6196),b=w(9577);function E(C,u,F){const S=(0,r.T)(C)||u||F?{next:C,error:u,complete:F}:C;return S?(0,x.N)((U,O)=>{var y;null===(y=S.subscribe)||void 0===y||y.call(S);let _=!0;U.subscribe((0,f._)(O,D=>{var W;null===(W=S.next)||void 0===W||W.call(S,D),O.next(D)},()=>{var D;_=!1,null===(D=S.complete)||void 0===D||D.call(S),O.complete()},D=>{var W;_=!1,null===(W=S.error)||void 0===W||W.call(S,D),O.error(D)},()=>{var D,W;_&&(null===(D=S.unsubscribe)||void 0===D||D.call(S)),null===(W=S.finalize)||void 0===W||W.call(S)}))}):b.D}},2094:(en,ot,w)=>{"use strict";w.d(ot,{c:()=>F});var r=w(8360),x=w(5210),f=w(6196),b=w(1954);const E={leading:!0,trailing:!1};var u=w(3654);function F(S,U=r.E,O=E){const y=(0,u.O)(S,U);return function C(S,U=E){return(0,x.N)((O,y)=>{const{leading:_,trailing:D}=U;let W=!1,K=null,L=null,ie=!1;const ae=()=>{L?.unsubscribe(),L=null,D&&(q(),ie&&y.complete())},le=()=>{L=null,ie&&y.complete()},fe=$=>L=(0,b.Tg)(S($)).subscribe((0,f._)(y,ae,le)),q=()=>{if(W){W=!1;const $=K;K=null,y.next($),!ie&&fe($)}};O.subscribe((0,f._)(y,$=>{W=!0,K=$,(!L||L.closed)&&(_?q():fe($))},()=>{ie=!0,(!(D&&W&&L)||L.closed)&&y.complete()}))})}(()=>y,O)}},7074:(en,ot,w)=>{"use strict";w.d(ot,{v:()=>b});var r=w(330),x=w(5210),f=w(6196);function b(C=E){return(0,x.N)((u,F)=>{let S=!1;u.subscribe((0,f._)(F,U=>{S=!0,F.next(U)},()=>S?F.complete():F.error(C())))})}function E(){return new r.G}},4909:(en,ot,w)=>{"use strict";w.d(ot,{E:()=>u});var r=w(5210),x=w(6196),f=w(1954),b=w(9577),E=w(9827),C=w(7106);function u(...F){const S=(0,C.ms)(F);return(0,r.N)((U,O)=>{const y=F.length,_=new Array(y);let D=F.map(()=>!1),W=!1;for(let K=0;K<y;K++)(0,f.Tg)(F[K]).subscribe((0,x._)(O,L=>{_[K]=L,!W&&!D[K]&&(D[K]=!0,(W=D.every(b.D))&&(D=null))},E.l));U.subscribe((0,x._)(O,K=>{if(W){const L=[K,..._];O.next(S?S(...L):L)}}))})}},7974:(en,ot,w)=>{"use strict";w.d(ot,{c:()=>$});var r=w(1954),x=w(2733),f=w(5210),b=w(6196);function E(j,Q=0){return(0,f.N)((ee,be)=>{ee.subscribe((0,b._)(be,Se=>(0,x.N)(be,j,()=>be.next(Se),Q),()=>(0,x.N)(be,j,()=>be.complete(),Q),Se=>(0,x.N)(be,j,()=>be.error(Se),Q)))})}function C(j,Q=0){return(0,f.N)((ee,be)=>{be.add(j.schedule(()=>ee.subscribe(be),Q))})}var S=w(2573),O=w(1301),y=w(4403);function D(j,Q){if(!j)throw new Error("Iterable cannot be null");return new S.c(ee=>{(0,x.N)(ee,Q,()=>{const be=j[Symbol.asyncIterator]();(0,x.N)(ee,Q,()=>{be.next().then(Se=>{Se.done?ee.complete():ee.next(Se.value)})},0,!0)})})}var W=w(9531),K=w(7854),L=w(8629),ie=w(4401),ae=w(7757),le=w(5835),fe=w(8432);function $(j,Q){if(null!=j){if((0,W.l)(j))return function u(j,Q){return(0,r.Tg)(j).pipe(C(Q),E(Q))}(j,Q);if((0,L.X)(j))return function U(j,Q){return new S.c(ee=>{let be=0;return Q.schedule(function(){be===j.length?ee.complete():(ee.next(j[be++]),ee.closed||this.schedule())})})}(j,Q);if((0,K.y)(j))return function F(j,Q){return(0,r.Tg)(j).pipe(C(Q),E(Q))}(j,Q);if((0,ae.T)(j))return D(j,Q);if((0,ie.x)(j))return function _(j,Q){return new S.c(ee=>{let be;return(0,x.N)(ee,Q,()=>{be=j[O.l](),(0,x.N)(ee,Q,()=>{let Se,Qe;try{({value:Se,done:Qe}=be.next())}catch(nt){return void ee.error(nt)}Qe?ee.complete():ee.next(Se)},0,!0)}),()=>(0,y.T)(be?.return)&&be.return()})}(j,Q);if((0,fe.U)(j))return function q(j,Q){return D((0,fe.C)(j),Q)}(j,Q)}throw(0,le.L)(j)}},4726:(en,ot,w)=>{"use strict";w.d(ot,{R:()=>E});var r=w(1027);class x extends r.yU{constructor(u,F){super()}schedule(u,F=0){return this}}const f={setInterval(C,u,...F){const{delegate:S}=f;return S?.setInterval?S.setInterval(C,u,...F):setInterval(C,u,...F)},clearInterval(C){const{delegate:u}=f;return(u?.clearInterval||clearInterval)(C)},delegate:void 0};var b=w(7584);class E extends x{constructor(u,F){super(u,F),this.scheduler=u,this.work=F,this.pending=!1}schedule(u,F=0){var S;if(this.closed)return this;this.state=u;const U=this.id,O=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(O,U,F)),this.pending=!0,this.delay=F,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(O,this.id,F),this}requestAsyncId(u,F,S=0){return f.setInterval(u.flush.bind(u,this),S)}recycleAsyncId(u,F,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return F;null!=F&&f.clearInterval(F)}execute(u,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(u,F);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,F){let U,S=!1;try{this.work(u)}catch(O){S=!0,U=O||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:u,scheduler:F}=this,{actions:S}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.o)(S,this),null!=u&&(this.id=this.recycleAsyncId(F,u,null)),this.delay=null,super.unsubscribe()}}}},5474:(en,ot,w)=>{"use strict";w.d(ot,{q:()=>f});var r=w(9309);class x{constructor(E,C=x.now){this.schedulerActionCtor=E,this.now=C}schedule(E,C=0,u){return new this.schedulerActionCtor(this,E).schedule(u,C)}}x.now=r.U.now;class f extends x{constructor(E,C=x.now){super(E,C),this.actions=[],this._active=!1}flush(E){const{actions:C}=this;if(this._active)return void C.push(E);let u;this._active=!0;do{if(u=E.execute(E.state,E.delay))break}while(E=C.shift());if(this._active=!1,u){for(;E=C.shift();)E.unsubscribe();throw u}}}},798:(en,ot,w)=>{"use strict";w.d(ot,{X:()=>C});var r=w(4726),x=w(812),b=w(5474);const C=new class E extends b.q{flush(S){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:O}=this;let y;S=S||O.shift();do{if(y=S.execute(S.state,S.delay))break}while((S=O[0])&&S.id===U&&O.shift());if(this._active=!1,y){for(;(S=O[0])&&S.id===U&&O.shift();)S.unsubscribe();throw y}}}(class f extends r.R{constructor(S,U){super(S,U),this.scheduler=S,this.work=U}requestAsyncId(S,U,O=0){return null!==O&&O>0?super.requestAsyncId(S,U,O):(S.actions.push(this),S._scheduled||(S._scheduled=x.H.requestAnimationFrame(()=>S.flush(void 0))))}recycleAsyncId(S,U,O=0){var y;if(null!=O?O>0:this.delay>0)return super.recycleAsyncId(S,U,O);const{actions:_}=S;null!=U&&(null===(y=_[_.length-1])||void 0===y?void 0:y.id)!==U&&(x.H.cancelAnimationFrame(U),S._scheduled=void 0)}})},812:(en,ot,w)=>{"use strict";w.d(ot,{H:()=>x});var r=w(1027);const x={schedule(f){let b=requestAnimationFrame,E=cancelAnimationFrame;const{delegate:C}=x;C&&(b=C.requestAnimationFrame,E=C.cancelAnimationFrame);const u=b(F=>{E=void 0,f(F)});return new r.yU(()=>E?.(u))},requestAnimationFrame(...f){const{delegate:b}=x;return(b?.requestAnimationFrame||requestAnimationFrame)(...f)},cancelAnimationFrame(...f){const{delegate:b}=x;return(b?.cancelAnimationFrame||cancelAnimationFrame)(...f)},delegate:void 0}},2755:(en,ot,w)=>{"use strict";w.d(ot,{$:()=>D});var r=w(4726);let f,x=1;const b={};function E(K){return K in b&&(delete b[K],!0)}const C={setImmediate(K){const L=x++;return b[L]=!0,f||(f=Promise.resolve()),f.then(()=>E(L)&&K()),L},clearImmediate(K){E(K)}},{setImmediate:F,clearImmediate:S}=C,U={setImmediate(...K){const{delegate:L}=U;return(L?.setImmediate||F)(...K)},clearImmediate(K){const{delegate:L}=U;return(L?.clearImmediate||S)(K)},delegate:void 0};var y=w(5474);const D=new class _ extends y.q{flush(L){this._active=!0;const ie=this._scheduled;this._scheduled=void 0;const{actions:ae}=this;let le;L=L||ae.shift();do{if(le=L.execute(L.state,L.delay))break}while((L=ae[0])&&L.id===ie&&ae.shift());if(this._active=!1,le){for(;(L=ae[0])&&L.id===ie&&ae.shift();)L.unsubscribe();throw le}}}(class O extends r.R{constructor(L,ie){super(L,ie),this.scheduler=L,this.work=ie}requestAsyncId(L,ie,ae=0){return null!==ae&&ae>0?super.requestAsyncId(L,ie,ae):(L.actions.push(this),L._scheduled||(L._scheduled=U.setImmediate(L.flush.bind(L,void 0))))}recycleAsyncId(L,ie,ae=0){var le;if(null!=ae?ae>0:this.delay>0)return super.recycleAsyncId(L,ie,ae);const{actions:fe}=L;null!=ie&&(null===(le=fe[fe.length-1])||void 0===le?void 0:le.id)!==ie&&(U.clearImmediate(ie),L._scheduled=void 0)}})},8360:(en,ot,w)=>{"use strict";w.d(ot,{E:()=>f,b:()=>b});var r=w(4726);const f=new(w(5474).q)(r.R),b=f},9309:(en,ot,w)=>{"use strict";w.d(ot,{U:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},3831:(en,ot,w)=>{"use strict";w.d(ot,{T:()=>E});var r=w(4726),f=w(5474);const E=new class b extends f.q{}(class x extends r.R{constructor(F,S){super(F,S),this.scheduler=F,this.work=S}schedule(F,S=0){return S>0?super.schedule(F,S):(this.delay=S,this.state=F,this.scheduler.flush(this),this)}execute(F,S){return S>0||this.closed?super.execute(F,S):this._execute(F,S)}requestAsyncId(F,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(F,S,U):(F.flush(this),0)}})},2386:(en,ot,w)=>{"use strict";w.d(ot,{f:()=>r});const r={setTimeout(x,f,...b){const{delegate:E}=r;return E?.setTimeout?E.setTimeout(x,f,...b):setTimeout(x,f,...b)},clearTimeout(x){const{delegate:f}=r;return(f?.clearTimeout||clearTimeout)(x)},delegate:void 0}},1301:(en,ot,w)=>{"use strict";w.d(ot,{l:()=>x});const x=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},6138:(en,ot,w)=>{"use strict";w.d(ot,{s:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},330:(en,ot,w)=>{"use strict";w.d(ot,{G:()=>x});const x=(0,w(7385).L)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},7106:(en,ot,w)=>{"use strict";w.d(ot,{R0:()=>C,lI:()=>E,ms:()=>b});var r=w(4403),x=w(1498);function f(u){return u[u.length-1]}function b(u){return(0,r.T)(f(u))?u.pop():void 0}function E(u){return(0,x.m)(f(u))?u.pop():void 0}function C(u,F){return"number"==typeof f(u)?u.pop():F}},5437:(en,ot,w)=>{"use strict";w.d(ot,{D:()=>E});const{isArray:r}=Array,{getPrototypeOf:x,prototype:f,keys:b}=Object;function E(u){if(1===u.length){const F=u[0];if(r(F))return{args:F,keys:null};if(function C(u){return u&&"object"==typeof u&&x(u)===f}(F)){const S=b(F);return{args:S.map(U=>F[U]),keys:S}}}return{args:u,keys:null}}},7584:(en,ot,w)=>{"use strict";function r(x,f){if(x){const b=x.indexOf(f);0<=b&&x.splice(b,1)}}w.d(ot,{o:()=>r})},7385:(en,ot,w)=>{"use strict";function r(x){const b=x(E=>{Error.call(E),E.stack=(new Error).stack});return b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b}w.d(ot,{L:()=>r})},5436:(en,ot,w)=>{"use strict";function r(x,f){return x.reduce((b,E,C)=>(b[E]=f[C],b),{})}w.d(ot,{e:()=>r})},2926:(en,ot,w)=>{"use strict";w.d(ot,{Y:()=>f,l:()=>b});var r=w(8502);let x=null;function f(E){if(r.$.useDeprecatedSynchronousErrorHandling){const C=!x;if(C&&(x={errorThrown:!1,error:null}),E(),C){const{errorThrown:u,error:F}=x;if(x=null,u)throw F}}else E()}function b(E){r.$.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=E)}},2733:(en,ot,w)=>{"use strict";function r(x,f,b,E=0,C=!1){const u=f.schedule(function(){b(),C?x.add(this.schedule(null,E)):this.unsubscribe()},E);if(x.add(u),!C)return u}w.d(ot,{N:()=>r})},9577:(en,ot,w)=>{"use strict";function r(x){return x}w.d(ot,{D:()=>r})},8629:(en,ot,w)=>{"use strict";w.d(ot,{X:()=>r});const r=x=>x&&"number"==typeof x.length&&"function"!=typeof x},7757:(en,ot,w)=>{"use strict";w.d(ot,{T:()=>x});var r=w(4403);function x(f){return Symbol.asyncIterator&&(0,r.T)(f?.[Symbol.asyncIterator])}},4403:(en,ot,w)=>{"use strict";function r(x){return"function"==typeof x}w.d(ot,{T:()=>r})},9531:(en,ot,w)=>{"use strict";w.d(ot,{l:()=>f});var r=w(6138),x=w(4403);function f(b){return(0,x.T)(b[r.s])}},4401:(en,ot,w)=>{"use strict";w.d(ot,{x:()=>f});var r=w(1301),x=w(4403);function f(b){return(0,x.T)(b?.[r.l])}},8454:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});var r=w(2573),x=w(4403);function f(b){return!!b&&(b instanceof r.c||(0,x.T)(b.lift)&&(0,x.T)(b.subscribe))}},7854:(en,ot,w)=>{"use strict";w.d(ot,{y:()=>x});var r=w(4403);function x(f){return(0,r.T)(f?.then)}},8432:(en,ot,w)=>{"use strict";w.d(ot,{C:()=>f,U:()=>b});var r=w(1635),x=w(4403);function f(E){return(0,r.AQ)(this,arguments,function*(){const u=E.getReader();try{for(;;){const{value:F,done:S}=yield(0,r.N3)(u.read());if(S)return yield(0,r.N3)(void 0);yield yield(0,r.N3)(F)}}finally{u.releaseLock()}})}function b(E){return(0,x.T)(E?.getReader)}},1498:(en,ot,w)=>{"use strict";w.d(ot,{m:()=>x});var r=w(4403);function x(f){return f&&(0,r.T)(f.schedule)}},5210:(en,ot,w)=>{"use strict";w.d(ot,{N:()=>f,S:()=>x});var r=w(4403);function x(b){return(0,r.T)(b?.lift)}function f(b){return E=>{if(x(E))return E.lift(function(C){try{return b(C,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}},7694:(en,ot,w)=>{"use strict";w.d(ot,{I:()=>b});var r=w(6110);const{isArray:x}=Array;function b(E){return(0,r.T)(C=>function f(E,C){return x(C)?E(...C):E(C)}(E,C))}},9827:(en,ot,w)=>{"use strict";function r(){}w.d(ot,{l:()=>r})},7479:(en,ot,w)=>{"use strict";w.d(ot,{F:()=>x,m:()=>f});var r=w(9577);function x(...b){return f(b)}function f(b){return 0===b.length?r.D:1===b.length?b[0]:function(C){return b.reduce((u,F)=>F(u),C)}}},6642:(en,ot,w)=>{"use strict";w.d(ot,{m:()=>f});var r=w(8502),x=w(2386);function f(b){x.f.setTimeout(()=>{const{onUnhandledError:E}=r.$;if(!E)throw b;E(b)})}},5835:(en,ot,w)=>{"use strict";function r(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(ot,{L:()=>r})},3330:(en,ot,w)=>{"use strict";var r=w(9222),x=w(2948),f=w(401)(),b=w(9234),E=w(3698),C=r("%Math.floor%");en.exports=function(F,S){if("function"!=typeof F)throw new E("`fn` is not a function");if("number"!=typeof S||S<0||S>4294967295||C(S)!==S)throw new E("`length` must be a positive 32-bit integer");var U=arguments.length>2&&!!arguments[2],O=!0,y=!0;if("length"in F&&b){var _=b(F,"length");_&&!_.configurable&&(O=!1),_&&!_.writable&&(y=!1)}return(O||y||!U)&&(f?x(F,"length",S,!0,!0):x(F,"length",S)),F}},8241:(en,ot,w)=>{"use strict";var r=w(9222),x=w(4680),f=w(2298),b=w(3698),E=r("%WeakMap%",!0),C=r("%Map%",!0),u=x("WeakMap.prototype.get",!0),F=x("WeakMap.prototype.set",!0),S=x("WeakMap.prototype.has",!0),U=x("Map.prototype.get",!0),O=x("Map.prototype.set",!0),y=x("Map.prototype.has",!0),_=function(L,ie){for(var le,ae=L;null!==(le=ae.next);ae=le)if(le.key===ie)return ae.next=le.next,le.next=L.next,L.next=le,le};en.exports=function(){var ie,ae,le,fe={assert:function(q){if(!fe.has(q))throw new b("Side channel does not contain "+f(q))},get:function(q){if(E&&q&&("object"==typeof q||"function"==typeof q)){if(ie)return u(ie,q)}else if(C){if(ae)return U(ae,q)}else if(le)return function(L,ie){var ae=_(L,ie);return ae&&ae.value}(le,q)},has:function(q){if(E&&q&&("object"==typeof q||"function"==typeof q)){if(ie)return S(ie,q)}else if(C){if(ae)return y(ae,q)}else if(le)return function(L,ie){return!!_(L,ie)}(le,q);return!1},set:function(q,$){E&&q&&("object"==typeof q||"function"==typeof q)?(ie||(ie=new E),F(ie,q,$)):C?(ae||(ae=new C),O(ae,q,$)):(le||(le={key:{},next:null}),function(L,ie,ae){var le=_(L,ie);le?le.value=ae:L.next={key:ie,next:L.next,value:ae}}(le,q,$))}};return fe}},5662:function(en){var r;typeof self<"u"&&self,r=()=>(()=>{"use strict";var ot={"./src/attributes.js":
/*!***************************!*\
                !*** ./src/attributes.js ***!
                \***************************/(f,b,E)=>{function C(R){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(R)}b.__esModule=!0,b.createAttribsFromArrays=Ht,b.createBufferFromArray=P,b.createBufferFromTypedArray=be,b.createBufferInfoFromArrays=function ye(R,N,Y){var h=Ht(R,N),M=Object.assign({},Y||{});M.attribs=Object.assign({},Y?Y.attribs:{},h);var Z=N.indices;if(Z){var z=I(Z,"indices");M.indices=be(R,z,_),M.numElements=z.length,M.elementType=u.getGLTypeForTypedArray(z)}else M.numElements||(M.numElements=function Ot(R,N){var Y,h;for(h=0;h<Ye.length&&!((Y=Ye[h])in N)&&!((Y=$.attribPrefix+Y)in N);++h);h===Ye.length&&(Y=Object.keys(N)[0]);var M=N[Y];if(!M.buffer)return 1;R.bindBuffer(y,M.buffer);var Z=R.getBufferParameter(y,D);R.bindBuffer(y,null);var z=function Bt(R,N){return N===W||N===K?1:N===L||N===ie?2:N===ae||N===le||N===fe?4:0}(0,M.type),X=M.numComponents||M.size,oe=Z/z/X;if(oe%1!=0)throw new Error("numComponents ".concat(X," not correct for length ").concat(length));return oe}(R,M.attribs));return M},b.createBuffersFromArrays=function B(R,N){var Y={};return Object.keys(N).forEach(function(h){Y[h]=P(R,N[h],h)}),N.indices?(Y.numElements=N.indices.length,Y.elementType=u.getGLTypeForTypedArray(I(N.indices),"indices")):Y.numElements=function Ze(R){var N,Y;for(Y=0;Y<Ye.length&&!((N=Ye[Y])in R);++Y);Y===Ye.length&&(N=Object.keys(R)[0]);var h=R[N],M=nt(h).length;if(void 0===M)return 1;var Z=ve(h,N),z=M/Z;if(M%Z>0)throw new Error("numComponents ".concat(Z," not correct for length ").concat(M));return z}(N),Y},b.getArray_=nt,b.getNumComponents_=ve,b.setAttribInfoBufferFromArray=function ln(R,N,Y,h){Y=I(Y),void 0!==h?(R.bindBuffer(y,N.buffer),R.bufferSubData(y,h,Y)):ee(R,y,N.buffer,Y,N.drawType)},b.setAttributeDefaults_=function Q(R){F.copyExistingProperties(R,$)},b.setAttributePrefix=function j(R){$.attribPrefix=R};var u=U(E(
/*! ./typedarrays.js */
"./src/typedarrays.js")),F=U(E(
/*! ./helper.js */
"./src/helper.js"));function S(R){if("function"!=typeof WeakMap)return null;var N=new WeakMap,Y=new WeakMap;return(S=function(M){return M?Y:N})(R)}function U(R,N){if(!N&&R&&R.__esModule)return R;if(null===R||"object"!=C(R)&&"function"!=typeof R)return{default:R};var Y=S(N);if(Y&&Y.has(R))return Y.get(R);var h={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in R)if("default"!==Z&&Object.prototype.hasOwnProperty.call(R,Z)){var z=M?Object.getOwnPropertyDescriptor(R,Z):null;z&&(z.get||z.set)?Object.defineProperty(h,Z,z):h[Z]=R[Z]}return h.default=R,Y&&Y.set(R,h),h}var O=35044,y=34962,_=34963,D=34660,W=5120,K=5121,L=5122,ie=5123,ae=5124,le=5125,fe=5126,$={attribPrefix:""};function ee(R,N,Y,h,M){R.bindBuffer(N,Y),R.bufferData(N,h,M||O)}function be(R,N,Y,h){if(F.isBuffer(R,N))return N;Y=Y||y;var M=R.createBuffer();return ee(R,Y,M,N,h),M}function Se(R){return"indices"===R}function nt(R){return R.length?R:R.data}var De=/coord|texture/i,ut=/color|colour/i;function ve(R,N,Y){return R.numComponents||R.size||function Ft(R,N){var Y;if(N%(Y=De.test(R)?2:ut.test(R)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(R,"'. Tried ").concat(Y," but ").concat(N," values is not evenly divisible by ").concat(Y,". You should specify it."));return Y}(N,Y||nt(R).length)}function I(R,N){if(u.isArrayBuffer(R))return R;if(u.isArrayBuffer(R.data))return R.data;Array.isArray(R)&&(R={data:R});var Y=R.type?ge(R.type):void 0;return Y||(Y=Se(N)?Uint16Array:Float32Array),new Y(R.data)}function V(R){return"number"==typeof R?R:R?u.getGLTypeForTypedArrayType(R):fe}function ge(R){return"number"==typeof R?u.getTypedArrayTypeForGLType(R):R||Float32Array}function Pe(R,N){return{buffer:N.buffer,numValues:24,type:V(N.type),arrayType:ge(N.type)}}function ke(R,N){var Y=N.data||N,h=ge(N.type),M=Y*h.BYTES_PER_ELEMENT,Z=R.createBuffer();return R.bindBuffer(y,Z),R.bufferData(y,M,N.drawType||O),{buffer:Z,numValues:Y,type:u.getGLTypeForTypedArrayType(h),arrayType:h}}function xt(R,N,Y){var h=I(N,Y);return{arrayType:h.constructor,buffer:be(R,h,void 0,N.drawType),type:u.getGLTypeForTypedArray(h),numValues:0}}function Ht(R,N){var Y={};return Object.keys(N).forEach(function(h){if(!Se(h)){var M=N[h],Z=M.attrib||M.name||M.attribName||$.attribPrefix+h;if(M.value){if(!Array.isArray(M.value)&&!u.isArrayBuffer(M.value))throw new Error("array.value is not array or typedarray");Y[Z]={value:M.value}}else{var H=(M.buffer&&M.buffer instanceof WebGLBuffer?Pe:"number"==typeof M||"number"==typeof M.data?ke:xt)(R,M,h),X=H.buffer,oe=H.type,He=H.numValues,ft=void 0!==M.normalize?M.normalize:function Qe(R){return R===Int8Array||R===Uint8Array}(H.arrayType),It=ve(M,h,He);Y[Z]={buffer:X,numComponents:It,type:oe,normalize:ft,stride:M.stride||0,offset:M.offset||0,divisor:void 0===M.divisor?void 0:M.divisor,drawType:M.drawType}}}}),R.bindBuffer(y,null),Y}var Ye=["position","positions","a_position"];function P(R,N,Y){var h="indices"===Y?_:y;return be(R,I(N,Y),h)}},"./src/draw.js":
/*!*********************!*\
                !*** ./src/draw.js ***!
                \*********************/(f,b,E)=>{function C(D){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(D)}b.__esModule=!0,b.drawBufferInfo=y,b.drawObjectList=function _(D,W){var K=null,L=null;W.forEach(function(ie){if(!1!==ie.active){var ae=ie.programInfo,le=ie.vertexArrayInfo||ie.bufferInfo,fe=!1,q=void 0===ie.type?U:ie.type;ae!==K&&(K=ae,D.useProgram(ae.program),fe=!0),(fe||le!==L)&&(L&&L.vertexArrayObject&&!le.vertexArrayObject&&D.bindVertexArray(null),L=le,u.setBuffersAndAttributes(D,ae,le)),u.setUniforms(ae,ie.uniforms),y(D,le,q,ie.count,ie.offset,ie.instanceCount)}}),L&&L.vertexArrayObject&&D.bindVertexArray(null)};var u=function S(D,W){if(!W&&D&&D.__esModule)return D;if(null===D||"object"!=C(D)&&"function"!=typeof D)return{default:D};var K=F(W);if(K&&K.has(D))return K.get(D);var L={__proto__:null},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in D)if("default"!==ae&&Object.prototype.hasOwnProperty.call(D,ae)){var le=ie?Object.getOwnPropertyDescriptor(D,ae):null;le&&(le.get||le.set)?Object.defineProperty(L,ae,le):L[ae]=D[ae]}return L.default=D,K&&K.set(D,L),L}(E(
/*! ./programs.js */
"./src/programs.js"));function F(D){if("function"!=typeof WeakMap)return null;var W=new WeakMap,K=new WeakMap;return(F=function(ie){return ie?K:W})(D)}var U=4,O=5123;function y(D,W,K,L,ie,ae){K=void 0===K?U:K;var fe=W.elementType,q=void 0===L?W.numElements:L;ie=void 0===ie?0:ie,fe||W.indices?void 0!==ae?D.drawElementsInstanced(K,q,void 0===fe?O:W.elementType,ie,ae):D.drawElements(K,q,void 0===fe?O:W.elementType,ie):void 0!==ae?D.drawArraysInstanced(K,ie,q,ae):D.drawArrays(K,ie,q)}},"./src/framebuffers.js":
/*!*****************************!*\
                !*** ./src/framebuffers.js ***!
                \*****************************/(f,b,E)=>{function C(Ze){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ot){return typeof Ot}:function(Ot){return Ot&&"function"==typeof Symbol&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot})(Ze)}b.__esModule=!0,b.bindFramebufferInfo=function Ye(Ze,Ot,ye){ye=ye||y,Ot?(Ze.bindFramebuffer(ye,Ot.framebuffer),Ze.viewport(0,0,Ot.width,Ot.height)):(Ze.bindFramebuffer(ye,null),Ze.viewport(0,0,Ze.drawingBufferWidth,Ze.drawingBufferHeight))},b.createFramebufferInfo=function ln(Ze,Ot,ye,P){var B=y,R=Ze.createFramebuffer();Ze.bindFramebuffer(B,R);var N=[],Y={framebuffer:R,attachments:[],width:ye=ye||Ze.drawingBufferWidth,height:P=P||Ze.drawingBufferHeight};return(Ot=Ot||I).forEach(function(h,M){var Z=h.attachment,z=h.samples,H=h.format,X=h.attachmentPoint||function ge(Ze,Ot){return V[Ze]||V[Ot]}(H,h.internalFormat);if(X||(X=Qe+M),function Ht(Ze){return Ze>=Qe&&Ze<Qe+xt}(X)&&N.push(X),!Z)if(void 0!==z||function ke(Ze){return Pe[Ze]}(H))Z=Ze.createRenderbuffer(),Ze.bindRenderbuffer(_,Z),z>1?Ze.renderbufferStorageMultisample(_,z,H,ye,P):Ze.renderbufferStorage(_,H,ye,P);else{var oe=Object.assign({},h);oe.width=ye,oe.height=P,void 0===oe.auto&&(oe.auto=!1,oe.min=oe.min||oe.minMag||ve,oe.mag=oe.mag||oe.minMag||ve,oe.wrapS=oe.wrapS||oe.wrap||Ft,oe.wrapT=oe.wrapT||oe.wrap||Ft),Z=u.createTexture(Ze,oe)}if(F.isRenderbuffer(Ze,Z))Ze.framebufferRenderbuffer(B,X,_,Z);else{if(!F.isTexture(Ze,Z))throw new Error("unknown attachment type");void 0!==h.layer?Ze.framebufferTextureLayer(B,X,Z,h.level||0,h.layer):Ze.framebufferTexture2D(B,X,h.target||D,Z,h.level||0)}Y.attachments.push(Z)}),Ze.drawBuffers&&Ze.drawBuffers(N),Y},b.resizeFramebufferInfo=function Bt(Ze,Ot,ye,P,B){B=B||Ze.drawingBufferHeight,Ot.width=P=P||Ze.drawingBufferWidth,Ot.height=B,(ye=ye||I).forEach(function(R,N){var Y=Ot.attachments[N],h=R.format,M=R.samples;if(void 0!==M||F.isRenderbuffer(Ze,Y))Ze.bindRenderbuffer(_,Y),M>1?Ze.renderbufferStorageMultisample(_,M,h,P,B):Ze.renderbufferStorage(_,h,P,B);else{if(!F.isTexture(Ze,Y))throw new Error("unknown attachment type");u.resizeTexture(Ze,Y,R,P,B)}})};var u=U(E(
/*! ./textures.js */
"./src/textures.js")),F=U(E(
/*! ./helper.js */
"./src/helper.js"));function S(Ze){if("function"!=typeof WeakMap)return null;var Ot=new WeakMap,ye=new WeakMap;return(S=function(B){return B?ye:Ot})(Ze)}function U(Ze,Ot){if(!Ot&&Ze&&Ze.__esModule)return Ze;if(null===Ze||"object"!=C(Ze)&&"function"!=typeof Ze)return{default:Ze};var ye=S(Ot);if(ye&&ye.has(Ze))return ye.get(Ze);var P={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in Ze)if("default"!==R&&Object.prototype.hasOwnProperty.call(Ze,R)){var N=B?Object.getOwnPropertyDescriptor(Ze,R):null;N&&(N.get||N.set)?Object.defineProperty(P,R,N):P[R]=Ze[R]}return P.default=Ze,ye&&ye.set(Ze,P),P}var y=36160,_=36161,D=3553,Qe=36064,nt=36096,Ft=33071,ve=9729,I=[{format:6408,type:5121,min:ve,wrap:Ft},{format:34041}],V={34041:33306,6401:36128,36168:36128};V[6402]=nt,V[33189]=nt,V[33190]=nt,V[36012]=nt,V[35056]=33306,V[36013]=33306;var Pe={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},xt=32},"./src/helper.js":
/*!***********************!*\
                !*** ./src/helper.js ***!
                \***********************/(f,b)=>{function E(L){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(L)}b.__esModule=!0,b.copyExistingProperties=function u(L,ie){Object.keys(ie).forEach(function(ae){ie.hasOwnProperty(ae)&&L.hasOwnProperty(ae)&&(ie[ae]=L[ae])})},b.copyNamedProperties=function C(L,ie,ae){L.forEach(function(le){var fe=ie[le];void 0!==fe&&(ae[le]=fe)})},b.error=function F(){var L;(L=console).error.apply(L,arguments)},b.isBuffer=function y(L,ie){return typeof WebGLBuffer<"u"&&O(ie,"WebGLBuffer")},b.isRenderbuffer=function _(L,ie){return typeof WebGLRenderbuffer<"u"&&O(ie,"WebGLRenderbuffer")},b.isSampler=function K(L,ie){return typeof WebGLSampler<"u"&&O(ie,"WebGLSampler")},b.isShader=function D(L,ie){return typeof WebGLShader<"u"&&O(ie,"WebGLShader")},b.isTexture=function W(L,ie){return typeof WebGLTexture<"u"&&O(ie,"WebGLTexture")},b.warn=function S(){var L;(L=console).warn.apply(L,arguments)};var U=new Map;function O(L,ie){if(!L||"object"!==E(L))return!1;var ae=U.get(ie);ae||U.set(ie,ae=new WeakMap);var le=ae.get(L);if(void 0===le){var fe=Object.prototype.toString.call(L);le=fe.substring(8,fe.length-1)===ie,ae.set(L,le)}return le}},"./src/programs.js":
/*!*************************!*\
                !*** ./src/programs.js ***!
                \*************************/(f,b,E)=>{function C(Xe){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Rt){return typeof Rt}:function(Rt){return Rt&&"function"==typeof Symbol&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt})(Xe)}b.__esModule=!0,b.bindTransformFeedbackInfo=lo,b.bindUniformBlock=Go,b.createAttributeSetters=ds,b.createProgram=Po,b.createProgramAsync=void 0,b.createProgramFromScripts=function Vr(Xe,Rt,qt,zn,fr){var li,mr=ci(qt,zn,fr),$r=[],jr=$(Rt);try{for(jr.s();!(li=jr.n()).done;){var Wr=li.value,eo=ut(Wr);if(!eo)return Xn(mr,"unknown script element: ".concat(Wr));$r.push(eo.text)}}catch(yo){jr.e(yo)}finally{jr.f()}return Po(Xe,$r,mr)},b.createProgramFromSources=Ti,b.createProgramInfo=Ar,b.createProgramInfoAsync=void 0,b.createProgramInfoFromProgram=rr,b.createProgramInfos=mn,b.createProgramInfosAsync=void 0,b.createPrograms=mt,b.createProgramsAsync=void 0,b.createTransformFeedback=function Qo(Xe,Rt,qt){var zn=Xe.createTransformFeedback();return Xe.bindTransformFeedback(ke,zn),Xe.useProgram(Rt.program),lo(Xe,Rt,qt),Xe.bindTransformFeedback(ke,null),zn},b.createTransformFeedbackInfo=Lo,b.createUniformBlockInfo=function Ks(Xe,Rt,qt){return ns(Xe,Rt.program,Rt.uniformBlockSpec,qt)},b.createUniformBlockInfoFromProgram=ns,b.createUniformBlockSpecFromProgram=ta,b.createUniformSetters=co,b.setAttributes=Xs,b.setBlockUniforms=function oa(Xe,Rt){var qt=Xe.setters;for(var zn in Rt){var fr=qt[zn];fr&&fr(Rt[zn])}},b.setBuffersAndAttributes=function Jn(Xe,Rt,qt){qt.vertexArrayObject?Xe.bindVertexArray(qt.vertexArrayObject):(Xs(Rt.attribSetters||Rt,qt.attribs),qt.indices&&Xe.bindBuffer(V,qt.indices))},b.setUniformBlock=function Aa(Xe,Rt,qt){Go(Xe,Rt,qt)&&Xe.bufferData(ge,qt.array,ve)},b.setUniforms=Fs,b.setUniformsAndBindTextures=void 0;var u=U(E(
/*! ./utils.js */
"./src/utils.js")),F=U(E(
/*! ./helper.js */
"./src/helper.js"));function S(Xe){if("function"!=typeof WeakMap)return null;var Rt=new WeakMap,qt=new WeakMap;return(S=function(fr){return fr?qt:Rt})(Xe)}function U(Xe,Rt){if(!Rt&&Xe&&Xe.__esModule)return Xe;if(null===Xe||"object"!=C(Xe)&&"function"!=typeof Xe)return{default:Xe};var qt=S(Rt);if(qt&&qt.has(Xe))return qt.get(Xe);var zn={__proto__:null},fr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mr in Xe)if("default"!==mr&&Object.prototype.hasOwnProperty.call(Xe,mr)){var $r=fr?Object.getOwnPropertyDescriptor(Xe,mr):null;$r&&($r.get||$r.set)?Object.defineProperty(zn,mr,$r):zn[mr]=Xe[mr]}return zn.default=Xe,qt&&qt.set(Xe,zn),zn}function O(){O=function(){return Rt};var Xe,Rt={},qt=Object.prototype,zn=qt.hasOwnProperty,fr=Object.defineProperty||function(ni,Pr,mi){ni[Pr]=mi.value},mr="function"==typeof Symbol?Symbol:{},$r=mr.iterator||"@@iterator",jr=mr.asyncIterator||"@@asyncIterator",li=mr.toStringTag||"@@toStringTag";function Wr(ni,Pr,mi){return Object.defineProperty(ni,Pr,{value:mi,enumerable:!0,configurable:!0,writable:!0}),ni[Pr]}try{Wr({},"")}catch{Wr=function(mi,Wi,Pi){return mi[Wi]=Pi}}function eo(ni,Pr,mi,Wi){var xe=Object.create((Pr&&Pr.prototype instanceof Le?Pr:Le).prototype),he=new Zr(Wi||[]);return fr(xe,"_invoke",{value:tn(ni,mi,he)}),xe}function yo(ni,Pr,mi){try{return{type:"normal",arg:ni.call(Pr,mi)}}catch(Wi){return{type:"throw",arg:Wi}}}Rt.wrap=eo;var Mo="suspendedStart",tt="suspendedYield",re="executing",ce="completed",Je={};function Le(){}function Wt(){}function yr(){}var ti={};Wr(ti,$r,function(){return this});var _o=Object.getPrototypeOf,rn=_o&&_o(_o(si([])));rn&&rn!==qt&&zn.call(rn,$r)&&(ti=rn);var pe=yr.prototype=Le.prototype=Object.create(ti);function Re(ni){["next","throw","return"].forEach(function(Pr){Wr(ni,Pr,function(mi){return this._invoke(Pr,mi)})})}function bt(ni,Pr){function mi(Pi,xe,he,qe){var wt=yo(ni[Pi],ni,xe);if("throw"!==wt.type){var Pt=wt.arg,cn=Pt.value;return cn&&"object"==C(cn)&&zn.call(cn,"__await")?Pr.resolve(cn.__await).then(function(xn){mi("next",xn,he,qe)},function(xn){mi("throw",xn,he,qe)}):Pr.resolve(cn).then(function(xn){Pt.value=xn,he(Pt)},function(xn){return mi("throw",xn,he,qe)})}qe(wt.arg)}var Wi;fr(this,"_invoke",{value:function(xe,he){function qe(){return new Pr(function(wt,Pt){mi(xe,he,wt,Pt)})}return Wi=Wi?Wi.then(qe,qe):qe()}})}function tn(ni,Pr,mi){var Wi=Mo;return function(Pi,xe){if(Wi===re)throw new Error("Generator is already running");if(Wi===ce){if("throw"===Pi)throw xe;return{value:Xe,done:!0}}for(mi.method=Pi,mi.arg=xe;;){var he=mi.delegate;if(he){var qe=An(he,mi);if(qe){if(qe===Je)continue;return qe}}if("next"===mi.method)mi.sent=mi._sent=mi.arg;else if("throw"===mi.method){if(Wi===Mo)throw Wi=ce,mi.arg;mi.dispatchException(mi.arg)}else"return"===mi.method&&mi.abrupt("return",mi.arg);Wi=re;var wt=yo(ni,Pr,mi);if("normal"===wt.type){if(Wi=mi.done?ce:tt,wt.arg===Je)continue;return{value:wt.arg,done:mi.done}}"throw"===wt.type&&(Wi=ce,mi.method="throw",mi.arg=wt.arg)}}}function An(ni,Pr){var mi=Pr.method,Wi=ni.iterator[mi];if(Wi===Xe)return Pr.delegate=null,"throw"===mi&&ni.iterator.return&&(Pr.method="return",Pr.arg=Xe,An(ni,Pr),"throw"===Pr.method)||"return"!==mi&&(Pr.method="throw",Pr.arg=new TypeError("The iterator does not provide a '"+mi+"' method")),Je;var Pi=yo(Wi,ni.iterator,Pr.arg);if("throw"===Pi.type)return Pr.method="throw",Pr.arg=Pi.arg,Pr.delegate=null,Je;var xe=Pi.arg;return xe?xe.done?(Pr[ni.resultName]=xe.value,Pr.next=ni.nextLoc,"return"!==Pr.method&&(Pr.method="next",Pr.arg=Xe),Pr.delegate=null,Je):xe:(Pr.method="throw",Pr.arg=new TypeError("iterator result is not an object"),Pr.delegate=null,Je)}function Kn(ni){var Pr={tryLoc:ni[0]};1 in ni&&(Pr.catchLoc=ni[1]),2 in ni&&(Pr.finallyLoc=ni[2],Pr.afterLoc=ni[3]),this.tryEntries.push(Pr)}function ar(ni){var Pr=ni.completion||{};Pr.type="normal",delete Pr.arg,ni.completion=Pr}function Zr(ni){this.tryEntries=[{tryLoc:"root"}],ni.forEach(Kn,this),this.reset(!0)}function si(ni){if(ni||""===ni){var Pr=ni[$r];if(Pr)return Pr.call(ni);if("function"==typeof ni.next)return ni;if(!isNaN(ni.length)){var mi=-1,Wi=function Pi(){for(;++mi<ni.length;)if(zn.call(ni,mi))return Pi.value=ni[mi],Pi.done=!1,Pi;return Pi.value=Xe,Pi.done=!0,Pi};return Wi.next=Wi}}throw new TypeError(C(ni)+" is not iterable")}return Wt.prototype=yr,fr(pe,"constructor",{value:yr,configurable:!0}),fr(yr,"constructor",{value:Wt,configurable:!0}),Wt.displayName=Wr(yr,li,"GeneratorFunction"),Rt.isGeneratorFunction=function(ni){var Pr="function"==typeof ni&&ni.constructor;return!!Pr&&(Pr===Wt||"GeneratorFunction"===(Pr.displayName||Pr.name))},Rt.mark=function(ni){return Object.setPrototypeOf?Object.setPrototypeOf(ni,yr):(ni.__proto__=yr,Wr(ni,li,"GeneratorFunction")),ni.prototype=Object.create(pe),ni},Rt.awrap=function(ni){return{__await:ni}},Re(bt.prototype),Wr(bt.prototype,jr,function(){return this}),Rt.AsyncIterator=bt,Rt.async=function(ni,Pr,mi,Wi,Pi){void 0===Pi&&(Pi=Promise);var xe=new bt(eo(ni,Pr,mi,Wi),Pi);return Rt.isGeneratorFunction(Pr)?xe:xe.next().then(function(he){return he.done?he.value:xe.next()})},Re(pe),Wr(pe,li,"Generator"),Wr(pe,$r,function(){return this}),Wr(pe,"toString",function(){return"[object Generator]"}),Rt.keys=function(ni){var Pr=Object(ni),mi=[];for(var Wi in Pr)mi.push(Wi);return mi.reverse(),function Pi(){for(;mi.length;){var xe=mi.pop();if(xe in Pr)return Pi.value=xe,Pi.done=!1,Pi}return Pi.done=!0,Pi}},Rt.values=si,Zr.prototype={constructor:Zr,reset:function(Pr){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(ar),!Pr)for(var mi in this)"t"===mi.charAt(0)&&zn.call(this,mi)&&!isNaN(+mi.slice(1))&&(this[mi]=Xe)},stop:function(){this.done=!0;var Pr=this.tryEntries[0].completion;if("throw"===Pr.type)throw Pr.arg;return this.rval},dispatchException:function(Pr){if(this.done)throw Pr;var mi=this;function Wi(Pt,cn){return he.type="throw",he.arg=Pr,mi.next=Pt,cn&&(mi.method="next",mi.arg=Xe),!!cn}for(var Pi=this.tryEntries.length-1;Pi>=0;--Pi){var xe=this.tryEntries[Pi],he=xe.completion;if("root"===xe.tryLoc)return Wi("end");if(xe.tryLoc<=this.prev){var qe=zn.call(xe,"catchLoc"),wt=zn.call(xe,"finallyLoc");if(qe&&wt){if(this.prev<xe.catchLoc)return Wi(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return Wi(xe.finallyLoc)}else if(qe){if(this.prev<xe.catchLoc)return Wi(xe.catchLoc,!0)}else{if(!wt)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return Wi(xe.finallyLoc)}}}},abrupt:function(Pr,mi){for(var Wi=this.tryEntries.length-1;Wi>=0;--Wi){var Pi=this.tryEntries[Wi];if(Pi.tryLoc<=this.prev&&zn.call(Pi,"finallyLoc")&&this.prev<Pi.finallyLoc){var xe=Pi;break}}xe&&("break"===Pr||"continue"===Pr)&&xe.tryLoc<=mi&&mi<=xe.finallyLoc&&(xe=null);var he=xe?xe.completion:{};return he.type=Pr,he.arg=mi,xe?(this.method="next",this.next=xe.finallyLoc,Je):this.complete(he)},complete:function(Pr,mi){if("throw"===Pr.type)throw Pr.arg;return"break"===Pr.type||"continue"===Pr.type?this.next=Pr.arg:"return"===Pr.type?(this.rval=this.arg=Pr.arg,this.method="return",this.next="end"):"normal"===Pr.type&&mi&&(this.next=mi),Je},finish:function(Pr){for(var mi=this.tryEntries.length-1;mi>=0;--mi){var Wi=this.tryEntries[mi];if(Wi.finallyLoc===Pr)return this.complete(Wi.completion,Wi.afterLoc),ar(Wi),Je}},catch:function(Pr){for(var mi=this.tryEntries.length-1;mi>=0;--mi){var Wi=this.tryEntries[mi];if(Wi.tryLoc===Pr){var Pi=Wi.completion;if("throw"===Pi.type){var xe=Pi.arg;ar(Wi)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(Pr,mi,Wi){return this.delegate={iterator:si(Pr),resultName:mi,nextLoc:Wi},"next"===this.method&&(this.arg=Xe),Je}},Rt}function y(Xe,Rt){var qt=Object.keys(Xe);if(Object.getOwnPropertySymbols){var zn=Object.getOwnPropertySymbols(Xe);Rt&&(zn=zn.filter(function(fr){return Object.getOwnPropertyDescriptor(Xe,fr).enumerable})),qt.push.apply(qt,zn)}return qt}function _(Xe){for(var Rt=1;Rt<arguments.length;Rt++){var qt=null!=arguments[Rt]?arguments[Rt]:{};Rt%2?y(Object(qt),!0).forEach(function(zn){D(Xe,zn,qt[zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(qt)):y(Object(qt)).forEach(function(zn){Object.defineProperty(Xe,zn,Object.getOwnPropertyDescriptor(qt,zn))})}return Xe}function D(Xe,Rt,qt){return Rt=function W(Xe){var Rt=function K(Xe,Rt){if("object"!=C(Xe)||!Xe)return Xe;var qt=Xe[Symbol.toPrimitive];if(void 0!==qt){var zn=qt.call(Xe,Rt||"default");if("object"!=C(zn))return zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Rt?String:Number)(Xe)}(Xe,"string");return"symbol"==C(Rt)?Rt:String(Rt)}(Rt),Rt in Xe?Object.defineProperty(Xe,Rt,{value:qt,enumerable:!0,configurable:!0,writable:!0}):Xe[Rt]=qt,Xe}function L(Xe,Rt,qt,zn,fr,mr,$r){try{var jr=Xe[mr]($r),li=jr.value}catch(Wr){return void qt(Wr)}jr.done?Rt(li):Promise.resolve(li).then(zn,fr)}function ie(Xe){return function(){var Rt=this,qt=arguments;return new Promise(function(zn,fr){var mr=Xe.apply(Rt,qt);function $r(li){L(mr,zn,fr,$r,jr,"next",li)}function jr(li){L(mr,zn,fr,$r,jr,"throw",li)}$r(void 0)})}}function ae(Xe,Rt){return function q(Xe){if(Array.isArray(Xe))return Xe}(Xe)||function fe(Xe,Rt){var qt=null==Xe?null:typeof Symbol<"u"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(null!=qt){var zn,fr,mr,$r,jr=[],li=!0,Wr=!1;try{if(mr=(qt=qt.call(Xe)).next,0===Rt){if(Object(qt)!==qt)return;li=!1}else for(;!(li=(zn=mr.call(qt)).done)&&(jr.push(zn.value),jr.length!==Rt);li=!0);}catch(eo){Wr=!0,fr=eo}finally{try{if(!li&&null!=qt.return&&($r=qt.return(),Object($r)!==$r))return}finally{if(Wr)throw fr}}return jr}}(Xe,Rt)||ee(Xe,Rt)||function le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(Xe,Rt){var qt=typeof Symbol<"u"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(!qt){if(Array.isArray(Xe)||(qt=ee(Xe))||Rt&&Xe&&"number"==typeof Xe.length){qt&&(Xe=qt);var zn=0,fr=function(){};return{s:fr,n:function(){return zn>=Xe.length?{done:!0}:{done:!1,value:Xe[zn++]}},e:function(Wr){throw Wr},f:fr}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var jr,mr=!0,$r=!1;return{s:function(){qt=qt.call(Xe)},n:function(){var Wr=qt.next();return mr=Wr.done,Wr},e:function(Wr){$r=!0,jr=Wr},f:function(){try{!mr&&null!=qt.return&&qt.return()}finally{if($r)throw jr}}}}function ee(Xe,Rt){if(Xe){if("string"==typeof Xe)return Qe(Xe,Rt);var qt=Object.prototype.toString.call(Xe).slice(8,-1);if("Object"===qt&&Xe.constructor&&(qt=Xe.constructor.name),"Map"===qt||"Set"===qt)return Array.from(Xe);if("Arguments"===qt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt))return Qe(Xe,Rt)}}function Qe(Xe,Rt){(null==Rt||Rt>Xe.length)&&(Rt=Xe.length);for(var qt=0,zn=new Array(Rt);qt<Rt;qt++)zn[qt]=Xe[qt];return zn}var nt=F.error,De=F.warn;function ut(Xe){return typeof document<"u"&&document.getElementById?document.getElementById(Xe):null}var Ft=33984,ve=35048,I=34962,V=34963,ge=35345,Pe=35982,ke=36386,xt=35713,Ht=35714,ln=35632,Bt=35633,Ye=35981,Ze=35718,Ot=35721,ye=35971,P=35382,B=35396,R=35398,N=35392,Y=35395,h=5126,H=5124,Er=34067,sr=35866,_n={};function _i(Xe,Rt){return _n[Rt].bindPoint}function fi(Xe,Rt){return function(qt){Xe.uniform1i(Rt,qt)}}function Yi(Xe,Rt){return function(qt){Xe.uniform1iv(Rt,qt)}}function ho(Xe,Rt){return function(qt){Xe.uniform2iv(Rt,qt)}}function Vi(Xe,Rt){return function(qt){Xe.uniform3iv(Rt,qt)}}function Qi(Xe,Rt){return function(qt){Xe.uniform4iv(Rt,qt)}}function Tn(Xe,Rt,qt,zn){var fr=_i(0,Rt);return u.isWebGL2(Xe)?function(mr){var $r,jr;!mr||F.isTexture(Xe,mr)?($r=mr,jr=null):($r=mr.texture,jr=mr.sampler),Xe.uniform1i(zn,qt),Xe.activeTexture(Ft+qt),Xe.bindTexture(fr,$r),Xe.bindSampler(qt,jr)}:function(mr){Xe.uniform1i(zn,qt),Xe.activeTexture(Ft+qt),Xe.bindTexture(fr,mr)}}function Hn(Xe,Rt,qt,zn,fr){for(var mr=_i(0,Rt),$r=new Int32Array(fr),jr=0;jr<fr;++jr)$r[jr]=qt+jr;return u.isWebGL2(Xe)?function(li){Xe.uniform1iv(zn,$r),li.forEach(function(Wr,eo){var yo,Mo;Xe.activeTexture(Ft+$r[eo]),!Wr||F.isTexture(Xe,Wr)?(yo=Wr,Mo=null):(yo=Wr.texture,Mo=Wr.sampler),Xe.bindSampler(qt,Mo),Xe.bindTexture(mr,yo)})}:function(li){Xe.uniform1iv(zn,$r),li.forEach(function(Wr,eo){Xe.activeTexture(Ft+$r[eo]),Xe.bindTexture(mr,Wr)})}}function hr(Xe,Rt){return function(qt){if(qt.value)switch(Xe.disableVertexAttribArray(Rt),qt.value.length){case 4:Xe.vertexAttrib4fv(Rt,qt.value);break;case 3:Xe.vertexAttrib3fv(Rt,qt.value);break;case 2:Xe.vertexAttrib2fv(Rt,qt.value);break;case 1:Xe.vertexAttrib1fv(Rt,qt.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else Xe.bindBuffer(I,qt.buffer),Xe.enableVertexAttribArray(Rt),Xe.vertexAttribPointer(Rt,qt.numComponents||qt.size,qt.type||h,qt.normalize||!1,qt.stride||0,qt.offset||0),Xe.vertexAttribDivisor&&Xe.vertexAttribDivisor(Rt,qt.divisor||0)}}function Dr(Xe,Rt){return function(qt){if(qt.value){if(Xe.disableVertexAttribArray(Rt),4!==qt.value.length)throw new Error("The length of an integer constant value must be 4!");Xe.vertexAttrib4iv(Rt,qt.value)}else Xe.bindBuffer(I,qt.buffer),Xe.enableVertexAttribArray(Rt),Xe.vertexAttribIPointer(Rt,qt.numComponents||qt.size,qt.type||H,qt.stride||0,qt.offset||0),Xe.vertexAttribDivisor&&Xe.vertexAttribDivisor(Rt,qt.divisor||0)}}function qr(Xe,Rt){return function(qt){if(qt.value){if(Xe.disableVertexAttribArray(Rt),4!==qt.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");Xe.vertexAttrib4uiv(Rt,qt.value)}else Xe.bindBuffer(I,qt.buffer),Xe.enableVertexAttribArray(Rt),Xe.vertexAttribIPointer(Rt,qt.numComponents||qt.size,qt.type||5125,qt.stride||0,qt.offset||0),Xe.vertexAttribDivisor&&Xe.vertexAttribDivisor(Rt,qt.divisor||0)}}function Bi(Xe,Rt,qt){var zn=qt.size,fr=qt.count;return function(mr){Xe.bindBuffer(I,mr.buffer);for(var $r=mr.size||mr.numComponents||zn,jr=$r/fr,li=mr.type||h,eo=_n[li].size*$r,yo=mr.normalize||!1,Mo=mr.offset||0,tt=eo/fr,re=0;re<fr;++re)Xe.enableVertexAttribArray(Rt+re),Xe.vertexAttribPointer(Rt+re,jr,li,yo,eo,Mo+tt*re),Xe.vertexAttribDivisor&&Xe.vertexAttribDivisor(Rt+re,mr.divisor||0)}}_n[h]={Type:Float32Array,size:4,setter:function Ii(Xe,Rt){return function(qt){Xe.uniform1f(Rt,qt)}},arraySetter:function so(Xe,Rt){return function(qt){Xe.uniform1fv(Rt,qt)}}},_n[35664]={Type:Float32Array,size:8,setter:function Cr(Xe,Rt){return function(qt){Xe.uniform2fv(Rt,qt)}},cols:2},_n[35665]={Type:Float32Array,size:12,setter:function ii(Xe,Rt){return function(qt){Xe.uniform3fv(Rt,qt)}},cols:3},_n[35666]={Type:Float32Array,size:16,setter:function Or(Xe,Rt){return function(qt){Xe.uniform4fv(Rt,qt)}},cols:4},_n[H]={Type:Int32Array,size:4,setter:fi,arraySetter:Yi},_n[35667]={Type:Int32Array,size:8,setter:ho,cols:2},_n[35668]={Type:Int32Array,size:12,setter:Vi,cols:3},_n[35669]={Type:Int32Array,size:16,setter:Qi,cols:4},_n[5125]={Type:Uint32Array,size:4,setter:function Ve(Xe,Rt){return function(qt){Xe.uniform1ui(Rt,qt)}},arraySetter:function _t(Xe,Rt){return function(qt){Xe.uniform1uiv(Rt,qt)}}},_n[36294]={Type:Uint32Array,size:8,setter:function an(Xe,Rt){return function(qt){Xe.uniform2uiv(Rt,qt)}},cols:2},_n[36295]={Type:Uint32Array,size:12,setter:function _e(Xe,Rt){return function(qt){Xe.uniform3uiv(Rt,qt)}},cols:3},_n[36296]={Type:Uint32Array,size:16,setter:function Dt(Xe,Rt){return function(qt){Xe.uniform4uiv(Rt,qt)}},cols:4},_n[35670]={Type:Uint32Array,size:4,setter:fi,arraySetter:Yi},_n[35671]={Type:Uint32Array,size:8,setter:ho,cols:2},_n[35672]={Type:Uint32Array,size:12,setter:Vi,cols:3},_n[35673]={Type:Uint32Array,size:16,setter:Qi,cols:4},_n[35674]={Type:Float32Array,size:32,setter:function on(Xe,Rt){return function(qt){Xe.uniformMatrix2fv(Rt,!1,qt)}},rows:2,cols:2},_n[35675]={Type:Float32Array,size:48,setter:function Un(Xe,Rt){return function(qt){Xe.uniformMatrix3fv(Rt,!1,qt)}},rows:3,cols:3},_n[35676]={Type:Float32Array,size:64,setter:function qn(Xe,Rt){return function(qt){Xe.uniformMatrix4fv(Rt,!1,qt)}},rows:4,cols:4},_n[35685]={Type:Float32Array,size:32,setter:function Gr(Xe,Rt){return function(qt){Xe.uniformMatrix2x3fv(Rt,!1,qt)}},rows:2,cols:3},_n[35686]={Type:Float32Array,size:32,setter:function Mi(Xe,Rt){return function(qt){Xe.uniformMatrix2x4fv(Rt,!1,qt)}},rows:2,cols:4},_n[35687]={Type:Float32Array,size:48,setter:function Ai(Xe,Rt){return function(qt){Xe.uniformMatrix3x2fv(Rt,!1,qt)}},rows:3,cols:2},_n[35688]={Type:Float32Array,size:48,setter:function di(Xe,Rt){return function(qt){Xe.uniformMatrix3x4fv(Rt,!1,qt)}},rows:3,cols:4},_n[35689]={Type:Float32Array,size:64,setter:function pi(Xe,Rt){return function(qt){Xe.uniformMatrix4x2fv(Rt,!1,qt)}},rows:4,cols:2},_n[35690]={Type:Float32Array,size:64,setter:function Zt(Xe,Rt){return function(qt){Xe.uniformMatrix4x3fv(Rt,!1,qt)}},rows:4,cols:3},_n[35678]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:3553},_n[35680]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:Er},_n[35679]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:32879},_n[35682]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:3553},_n[36289]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:sr},_n[36292]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:sr},_n[36293]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:Er},_n[36298]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:3553},_n[36299]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:32879},_n[36300]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:Er},_n[36303]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:sr},_n[36306]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:3553},_n[36307]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:32879},_n[36308]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:Er},_n[36311]={Type:null,size:0,setter:Tn,arraySetter:Hn,bindPoint:sr};var hi={};hi[h]={size:4,setter:hr},hi[35664]={size:8,setter:hr},hi[35665]={size:12,setter:hr},hi[35666]={size:16,setter:hr},hi[H]={size:4,setter:Dr},hi[35667]={size:8,setter:Dr},hi[35668]={size:12,setter:Dr},hi[35669]={size:16,setter:Dr},hi[5125]={size:4,setter:qr},hi[36294]={size:8,setter:qr},hi[36295]={size:12,setter:qr},hi[36296]={size:16,setter:qr},hi[35670]={size:4,setter:Dr},hi[35671]={size:8,setter:Dr},hi[35672]={size:12,setter:Dr},hi[35673]={size:16,setter:Dr},hi[35674]={size:4,setter:Bi,count:2},hi[35675]={size:9,setter:Bi,count:3},hi[35676]={size:16,setter:Bi,count:4};var Ro=/ERROR:\s*\d+:(\d+)/gi,Yt=/^[ \t]*\n/;function un(Xe){var Rt=0;return Yt.test(Xe)&&(Rt=1,Xe=Xe.replace(Yt,"")),{lineOffset:Rt,shaderSource:Xe}}function Xn(Xe,Rt){return Xe.errorCallback(Rt),Xe.callback&&setTimeout(function(){Xe.callback("".concat(Rt,"\n").concat(Xe.errors.join("\n")))}),null}function Rr(Xe,Rt,qt,zn){if(zn=zn||nt,!Xe.getShaderParameter(qt,xt)){var mr=Xe.getShaderInfoLog(qt),$r=un(Xe.getShaderSource(qt)),Wr="".concat(function Ji(Xe){var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",qt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,zn=function j(Xe){return function Se(Xe){if(Array.isArray(Xe))return Qe(Xe)}(Xe)||function be(Xe){if(typeof Symbol<"u"&&null!=Xe[Symbol.iterator]||null!=Xe["@@iterator"])return Array.from(Xe)}(Xe)||ee(Xe)||function Q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Rt.matchAll(Ro)),fr=new Map(zn.map(function(mr,$r){var jr=parseInt(mr[1]),li=zn[$r+1];return[jr-1,Rt.substring(mr.index,li?li.index:Rt.length)]}));return Xe.split("\n").map(function(mr,$r){var jr=fr.get($r);return"".concat($r+1+qt,": ").concat(mr).concat(jr?"\n\n^^^ ".concat(jr):"")}).join("\n")}($r.shaderSource,mr,$r.lineOffset),"\nError compiling ").concat(u.glEnumToString(Xe,Rt),": ").concat(mr);return zn(Wr),Wr}return""}function ci(Xe,Rt,qt){var zn,fr,mr;if("function"==typeof Rt&&(qt=Rt,Rt=void 0),"function"==typeof Xe)qt=Xe,Xe=void 0;else if(Xe&&!Array.isArray(Xe)){var $r=Xe;qt=$r.errorCallback,Xe=$r.attribLocations,zn=$r.transformFeedbackVaryings,fr=$r.transformFeedbackMode,mr=$r.callback}var jr=qt||nt,li=[],Wr={errorCallback:function(Mo){li.push(Mo);for(var tt=arguments.length,re=new Array(tt>1?tt-1:0),ce=1;ce<tt;ce++)re[ce-1]=arguments[ce];jr.apply(void 0,[Mo].concat(re))},transformFeedbackVaryings:zn,transformFeedbackMode:fr,callback:mr,errors:li},eo={};return Array.isArray(Xe)?Xe.forEach(function(yo,Mo){eo[yo]=Rt?Rt[Mo]:Mo}):eo=Xe||{},Wr.attribLocations=eo,Wr}var $i=["VERTEX_SHADER","FRAGMENT_SHADER"];function Ao(Xe,Rt){return Rt.indexOf("frag")>=0?ln:Rt.indexOf("vert")>=0?Bt:void 0}var ko=function(){var Rt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(qt){return setTimeout(qt,Rt)})};function Yo(Xe,Rt,qt){for(var zn=Xe.createProgram(),fr=ci(qt),mr=fr.attribLocations,$r=fr.transformFeedbackVaryings,jr=fr.transformFeedbackMode,li=0;li<Rt.length;++li){var Wr=Rt[li];if("string"==typeof Wr){var eo=ut(Wr),yo=eo?eo.text:Wr,Mo=Xe[$i[li]];eo&&eo.type&&(Mo=Ao(0,eo.type)||Mo),Wr=Xe.createShader(Mo),Xe.shaderSource(Wr,un(yo).shaderSource),Xe.compileShader(Wr),Xe.attachShader(zn,Wr)}}Object.entries(mr).forEach(function(re){var ce=ae(re,2);return Xe.bindAttribLocation(zn,ce[1],ce[0])});var tt=$r;return tt&&(tt.attribs&&(tt=tt.attribs),Array.isArray(tt)||(tt=Object.keys(tt)),Xe.transformFeedbackVaryings(zn,tt,jr||Ye)),Xe.linkProgram(zn),zn}function Po(Xe,Rt,qt,zn,fr){var mr=ci(qt,zn,fr),$r=new Set(Rt),jr=Yo(Xe,Rt,mr);function li(Wr,eo){var yo=Zn(Wr,eo,mr.errorCallback);return yo&&function go(Xe,Rt,qt){var mr,fr=$(Xe.getAttachedShaders(Rt));try{for(fr.s();!(mr=fr.n()).done;){var $r=mr.value;qt.has($r)&&Xe.deleteShader($r)}}catch(jr){fr.e(jr)}finally{fr.f()}Xe.deleteProgram(Rt)}(Wr,eo,$r),yo}if(!mr.callback)return li(Xe,jr)?void 0:jr;ts(Xe,jr).then(function(){var Wr=li(Xe,jr);mr.callback(Wr,Wr?void 0:jr)})}function ss(Xe){return function(Rt,qt){for(var zn=arguments.length,fr=new Array(zn>2?zn-2:0),mr=2;mr<zn;mr++)fr[mr-2]=arguments[mr];return new Promise(function($r,jr){var li=ci.apply(void 0,fr);li.callback=function(Wr,eo){Wr?jr(Wr):$r(eo)},Xe(Rt,qt,li)})}}function ts(Xe,Rt){return Jo.apply(this,arguments)}function Jo(){return(Jo=ie(O().mark(function Xe(Rt,qt){var zn,fr,mr;return O().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:zn=Rt.getExtension("KHR_parallel_shader_compile"),fr=zn?function(li,Wr){return li.getProgramParameter(Wr,zn.COMPLETION_STATUS_KHR)}:function(){return!0},mr=0;case 3:return jr.next=5,ko(mr);case 5:mr=16.666666666666668;case 6:if(!fr(Rt,qt)){jr.next=3;break}case 7:case"end":return jr.stop()}},Xe)}))).apply(this,arguments)}function jn(){return(jn=ie(O().mark(function Xe(Rt,qt){var zn,fr,mr;return O().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:zn=0,fr=Object.values(qt);case 1:if(!(zn<fr.length)){jr.next=8;break}return mr=fr[zn],jr.next=5,ts(Rt,mr);case 5:zn++,jr.next=1;break;case 8:case"end":return jr.stop()}},Xe)}))).apply(this,arguments)}function Zn(Xe,Rt,qt){if(qt=qt||nt,!Xe.getProgramParameter(Rt,Ht)){var fr=Xe.getProgramInfoLog(Rt);qt("Error in program linking: ".concat(fr));var $r=Xe.getAttachedShaders(Rt).map(function(jr){return Rr(Xe,Xe.getShaderParameter(jr,Xe.SHADER_TYPE),jr,qt)});return"".concat(fr,"\n").concat($r.filter(function(jr){return jr}).join("\n"))}}function Ti(Xe,Rt,qt,zn,fr){return Po(Xe,Rt,qt,zn,fr)}function qi(Xe){var Rt=Xe.name;return Rt.startsWith("gl_")||Rt.startsWith("webgl_")}b.createProgramAsync=ss(Po),b.createProgramInfoAsync=ss(Ar);var Co=/(\.|\[|]|\w+)/g,Ni=function(Rt){return Rt>="0"&&Rt<="9"};function ji(Xe,Rt,qt,zn){for(var fr=Xe.split(Co).filter(function(re){return""!==re}),mr=0,$r="";;){var jr=fr[mr++];$r+=jr;var li=Ni(jr[0]),Wr=li?parseInt(jr):jr;if(li&&($r+=fr[mr++]),mr===fr.length){qt[Wr]=Rt;break}var yo=fr[mr++],tt=qt[Wr]||("["===yo?[]:{});qt[Wr]=tt,qt=tt,zn[$r]=zn[$r]||function(re){return function(ce){Ko(re,ce)}}(tt),$r+=yo}}function co(Xe,Rt){var qt=0;function zn(Mo,tt,re){var Wt,ce=tt.name.endsWith("[0]"),Je=tt.type,Le=_n[Je];if(!Le)throw new Error("unknown type: 0x".concat(Je.toString(16)));if(Le.bindPoint){var yr=qt;qt+=tt.size,Wt=ce?Le.arraySetter(Xe,Je,yr,re,tt.size):Le.setter(Xe,Je,yr,re,tt.size)}else Wt=Le.arraySetter&&ce?Le.arraySetter(Xe,re):Le.setter(Xe,re);return Wt.location=re,Wt}for(var fr={},mr={},$r=Xe.getProgramParameter(Rt,Ze),jr=0;jr<$r;++jr){var li=Xe.getActiveUniform(Rt,jr);if(!qi(li)){var Wr=li.name;Wr.endsWith("[0]")&&(Wr=Wr.substr(0,Wr.length-3));var eo=Xe.getUniformLocation(Rt,li.name);if(eo){var yo=zn(0,li,eo);fr[Wr]=yo,ji(Wr,yo,mr,fr)}}}return fr}function Lo(Xe,Rt){for(var qt={},zn=Xe.getProgramParameter(Rt,ye),fr=0;fr<zn;++fr){var mr=Xe.getTransformFeedbackVarying(Rt,fr);qt[mr.name]={index:fr,type:mr.type,size:mr.size}}return qt}function lo(Xe,Rt,qt){for(var zn in Rt.transformFeedbackInfo&&(Rt=Rt.transformFeedbackInfo),qt.attribs&&(qt=qt.attribs),qt){var fr=Rt[zn];if(fr){var mr=qt[zn];mr.offset?Xe.bindBufferRange(Pe,fr.index,mr.buffer,mr.offset,mr.size):Xe.bindBufferBase(Pe,fr.index,mr.buffer)}}}function ta(Xe,Rt){for(var qt=Xe.getProgramParameter(Rt,Ze),zn=[],fr=[],mr=0;mr<qt;++mr){fr.push(mr),zn.push({});var $r=Xe.getActiveUniform(Rt,mr);zn[mr].name=$r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(Mo){var re=Mo[1];Xe.getActiveUniforms(Rt,fr,Xe[Mo[0]]).forEach(function(ce,Je){zn[Je][re]=ce})});for(var jr={},li=Xe.getProgramParameter(Rt,P),Wr=0;Wr<li;++Wr){var eo=Xe.getActiveUniformBlockName(Rt,Wr),yo={index:Xe.getUniformBlockIndex(Rt,eo),usedByVertexShader:Xe.getActiveUniformBlockParameter(Rt,Wr,B),usedByFragmentShader:Xe.getActiveUniformBlockParameter(Rt,Wr,R),size:Xe.getActiveUniformBlockParameter(Rt,Wr,N),uniformIndices:Xe.getActiveUniformBlockParameter(Rt,Wr,Y)};yo.used=yo.usedByVertexShader||yo.usedByFragmentShader,jr[eo]=yo}return{blockSpecs:jr,uniformData:zn}}var Ws=/\[\d+\]\.$/,cs=function(Rt,qt){return((Rt+(qt-1))/qt|0)*qt};function ns(Xe,Rt,qt,zn){var mr=qt.uniformData,$r=qt.blockSpecs[zn];if(!$r)return De("no uniform block object named:",zn),{name:zn,uniforms:{}};var jr=new ArrayBuffer($r.size),li=Xe.createBuffer(),Wr=$r.index;Xe.bindBuffer(ge,li),Xe.uniformBlockBinding(Rt,$r.index,Wr);var eo=zn+".";Ws.test(eo)&&(eo=eo.replace(Ws,"."));var yo={},Mo={},tt={};return $r.uniformIndices.forEach(function(re){var ce=mr[re],Je=ce.name;Je.startsWith(eo)&&(Je=Je.substr(eo.length));var Le=Je.endsWith("[0]");Le&&(Je=Je.substr(0,Je.length-3));var Wt=_n[ce.type],yr=Wt.Type,ti=Le?cs(Wt.size,16)*ce.size:Wt.size*ce.size,_o=new yr(jr,ce.offset,ti/yr.BYTES_PER_ELEMENT);yo[Je]=_o;var rn=function Ns(Xe,Rt,qt,zn){if(Rt||qt){zn=zn||1;var mr=Xe.length/4;return function($r){for(var jr=0,li=0,Wr=0;Wr<mr;++Wr){for(var eo=0;eo<zn;++eo)Xe[jr++]=$r[li++];jr+=4-zn}}}return function($r){$r.length?Xe.set($r):Xe[0]=$r}}(_o,Le,Wt.rows,Wt.cols);Mo[Je]=rn,ji(Je,rn,tt,Mo)}),{name:zn,array:jr,asFloat:new Float32Array(jr),buffer:li,uniforms:yo,setters:Mo}}function Go(Xe,Rt,qt){var fr=(Rt.uniformBlockSpec||Rt).blockSpecs[qt.name];return!!fr&&(Xe.bindBufferRange(ge,fr.index,qt.buffer,qt.offset||0,qt.array.byteLength),!0)}function Ko(Xe,Rt){for(var qt in Rt){var zn=Xe[qt];"function"==typeof zn?zn(Rt[qt]):Ko(Xe[qt],Rt[qt])}}function Fs(Xe){for(var Rt=Xe.uniformSetters||Xe,qt=arguments.length<=1?0:arguments.length-1,zn=0;zn<qt;++zn){var fr=zn+1<1||arguments.length<=zn+1?void 0:arguments[zn+1];if(Array.isArray(fr))for(var mr=fr.length,$r=0;$r<mr;++$r)Fs(Rt,fr[$r]);else for(var jr in fr){var li=Rt[jr];li&&li(fr[jr])}}}function ds(Xe,Rt){for(var qt={},zn=Xe.getProgramParameter(Rt,Ot),fr=0;fr<zn;++fr){var mr=Xe.getActiveAttrib(Rt,fr);if(!qi(mr)){var $r=Xe.getAttribLocation(Rt,mr.name),jr=hi[mr.type],li=jr.setter(Xe,$r,jr);li.location=$r,qt[mr.name]=li}}return qt}function Xs(Xe,Rt){for(var qt in Rt){var zn=Xe[qt];zn&&zn(Rt[qt])}}function rr(Xe,Rt){var fr={program:Rt,uniformSetters:co(Xe,Rt),attribSetters:ds(Xe,Rt)};return u.isWebGL2(Xe)&&(fr.uniformBlockSpec=ta(Xe,Rt),fr.transformFeedbackInfo=Lo(Xe,Rt)),fr}b.setUniformsAndBindTextures=Fs;var ur=/\s|{|}|;/;function Ar(Xe,Rt,qt,zn,fr){var mr=ci(qt,zn,fr),$r=[];if(Rt=Rt.map(function(Wr){if(!ur.test(Wr)){var eo=ut(Wr);if(eo)Wr=eo.text;else{var yo="no element with id: ".concat(Wr);mr.errorCallback(yo),$r.push(yo)}}return Wr}),$r.length)return Xn(mr,"");var jr=mr.callback;jr&&(mr.callback=function(Wr,eo){jr(Wr,Wr?void 0:rr(Xe,eo))});var li=Ti(Xe,Rt,mr);return li?rr(Xe,li):null}function Di(Xe,Rt,qt,zn,fr){for(var mr=0,$r=Object.entries(Rt);mr<$r.length;mr++){var jr=ae($r[mr],2),li=jr[0],Wr=jr[1],eo=_({},fr),yo=qt[li];Array.isArray(yo)||Object.assign(eo,yo);var Mo=Zn(Xe,Wr,eo.errorCallback);if(Mo){for(var tt=0,re=Object.values(Rt);tt<re.length;tt++){var ce=re[tt],Je=Xe.getAttachedShaders(ce);Xe.deleteProgram(ce);var Wt,Le=$(Je);try{for(Le.s();!(Wt=Le.n()).done;){var yr=Wt.value;zn.has(yr)||Xe.deleteShader(yr)}}catch(ti){Le.e(ti)}finally{Le.f()}}return Mo}}}function mt(Xe,Rt){var qt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},zn=new Set,fr=Object.fromEntries(Object.entries(Rt).map(function($r){var jr=ae($r,2),li=jr[0],Wr=jr[1],eo=_({},qt),yo=Array.isArray(Wr)?Wr:Wr.shaders;return Array.isArray(Wr)||Object.assign(eo,Wr),yo.forEach(zn.add,zn),[li,Yo(Xe,yo,eo)]}));if(!qt.callback)return Di(Xe,fr,Rt,zn,qt)?void 0:fr;(function Us(Xe,Rt){return jn.apply(this,arguments)})(Xe,fr).then(function(){var $r=Di(Xe,fr,Rt,zn,qt);qt.callback($r,$r?void 0:fr)})}function mn(Xe,Rt,qt){function zn($r,jr){return Object.fromEntries(Object.entries(jr).map(function(li){var Wr=ae(li,2);return[Wr[0],rr($r,Wr[1])]}))}var fr=(qt=ci(qt)).callback;fr&&(qt.callback=function($r,jr){fr($r,$r?void 0:zn(Xe,jr))});var mr=mt(Xe,Rt,qt);if(!fr&&mr)return zn(Xe,mr)}b.createProgramsAsync=ss(mt),b.createProgramInfosAsync=ss(mn)},"./src/textures.js":
/*!*************************!*\
                !*** ./src/textures.js ***!
                \*************************/(f,b,E)=>{function C(Jn){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(rr){return typeof rr}:function(rr){return rr&&"function"==typeof Symbol&&rr.constructor===Symbol&&rr!==Symbol.prototype?"symbol":typeof rr})(Jn)}b.__esModule=!0,b.canFilter=ko,b.canGenerateMipmap=go,b.createSampler=Vr,b.createSamplers=function Ti(Jn,rr){var ur={};return Object.keys(rr).forEach(function(Ar){ur[Ar]=Vr(Jn,rr[Ar])}),ur},b.createTexture=Fs,b.createTextures=function Xs(Jn,rr,ur){ur=ur||lo;var Ar=0,Di=[],mt={},mn={};function Ut(){0===Ar&&setTimeout(function(){ur(Di.length?Di:void 0,mt,mn)},0)}return Object.keys(rr).forEach(function(dn){var Rt,Xe=rr[dn];(function ds(Jn){return"string"==typeof Jn||Array.isArray(Jn)&&"string"==typeof Jn[0]})(Xe.src)&&(Rt=function(zn,fr,mr){mn[dn]=mr,--Ar,zn&&Di.push(zn),Ut()},++Ar),mt[dn]=Fs(Jn,Xe,Rt)}),Ut(),mt},b.getBytesPerElementForInternalFormat=ci,b.getFormatAndTypeForInternalFormat=$i,b.getNumComponentsForFormat=function Yo(Jn){var rr=Yt[Jn];if(!rr)throw"unknown format: "+Jn;return rr.numColorComponents},b.loadTextureFromUrl=Ks,b.resizeTexture=function Vs(Jn,rr,ur,Ar,Di,mt){Ar=Ar||ur.width,Di=Di||ur.height,mt=mt||ur.depth;var mn=ur.target||ee;Jn.bindTexture(mn,rr);var qt,Ut=ur.level||0,dn=ur.internalFormat||ur.format||ie,Xe=$i(dn),Rt=ur.format||Xe.format,zn=ur.src;if(qt=zn&&(D(zn)||Array.isArray(zn)&&"number"==typeof zn[0])?ur.type||Po(0,zn,Xe.type):ur.type||Xe.type,mn===be)for(var fr=0;fr<6;++fr)Jn.texImage2D(nt+fr,Ut,dn,Ar,Di,0,Rt,qt,null);else mn===Se||mn===Qe?Jn.texImage3D(mn,Ut,dn,Ar,Di,mt,0,Rt,qt,null):Jn.texImage2D(mn,Ut,dn,Ar,Di,0,Rt,qt,null)},b.setDefaultTextureColor=as,b.setEmptyTexture=Ko,b.setSamplerParameters=Zn,b.setTextureDefaults_=function Cs(Jn){S.copyExistingProperties(Jn,_),Jn.textureColor&&as(Jn.textureColor)},b.setTextureFilteringForSize=Co,b.setTextureFromArray=oa,b.setTextureFromElement=Lo,b.setTextureParameters=jn;var u=O(E(
/*! ./utils.js */
"./src/utils.js")),F=O(E(
/*! ./typedarrays.js */
"./src/typedarrays.js")),S=O(E(
/*! ./helper.js */
"./src/helper.js"));function U(Jn){if("function"!=typeof WeakMap)return null;var rr=new WeakMap,ur=new WeakMap;return(U=function(Di){return Di?ur:rr})(Jn)}function O(Jn,rr){if(!rr&&Jn&&Jn.__esModule)return Jn;if(null===Jn||"object"!=C(Jn)&&"function"!=typeof Jn)return{default:Jn};var ur=U(rr);if(ur&&ur.has(Jn))return ur.get(Jn);var Ar={__proto__:null},Di=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mt in Jn)if("default"!==mt&&Object.prototype.hasOwnProperty.call(Jn,mt)){var mn=Di?Object.getOwnPropertyDescriptor(Jn,mt):null;mn&&(mn.get||mn.set)?Object.defineProperty(Ar,mt,mn):Ar[mt]=Jn[mt]}return Ar.default=Jn,ur&&ur.set(Jn,Ar),Ar}var Xn,_={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},D=F.isArrayBuffer,W=function(){var Jn;return function(){return Jn=Jn||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null)}}(),K=6406,L=6407,ie=6408,ae=6409,le=6410,fe=6402,q=34041,$=33071,j=9728,Q=9729,ee=3553,be=34067,Se=32879,Qe=35866,nt=34069,De=34070,ut=34071,Ft=34072,ve=34073,I=34074,V=10241,ge=10240,Pe=10242,ke=10243,xt=32882,Ht=33082,ln=33083,Bt=33084,Ye=33085,Ze=34892,Ot=34893,ye=3317,P=3314,B=32878,R=3316,N=3315,Y=32877,h=37443,M=37441,Z=37440,z=33321,H=36756,X=33325,oe=33326,He=33330,rt=33329,ft=33338,It=33337,Ge=33340,Ct=33339,dt=33323,At=36757,Qt=33327,Ke=33328,pt=33336,Tt=33335,$e=33332,Lt=33331,Xt=33334,gn=33333,Ln=32849,$n=35905,gr=36194,sn=36758,St=35898,Fe=35901,Ue=34843,Ce=34837,me=36221,it=36239,Me=36215,We=36233,Gt=36209,Kt=36227,On=32856,vr=35907,Cn=36759,tr=32855,Er=32854,_r=32857,sr=34842,_n=34836,_i=36220,Ii=36238,so=36975,Cr=36214,ii=36232,Or=36226,fi=36208,Yi=33189,ho=33190,Vi=36012,Qi=36013,Ve=35056,_t=5120,an=5121,_e=5122,Dt=5123,on=5124,Un=5125,qn=5126,Gr=32819,Ai=32820,Mi=33635,pi=5131,di=36193,Zt=33640,Tn=35899,Hn=35902,hr=36269,Dr=34042,qr=33319,Bi=33320,hi=6403,po=36244,Ro=36248,Ji=36249,Yt={},un=Yt;function Rr(Jn){if(!Xn){var rr={};rr[K]={textureFormat:K,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[an,pi,di,qn]},rr[ae]={textureFormat:ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[an,pi,di,qn]},rr[le]={textureFormat:le,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[an,pi,di,qn]},rr[L]={textureFormat:L,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[an,pi,di,qn,Mi]},rr[ie]={textureFormat:ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[an,pi,di,qn,Gr,Ai]},rr[fe]={textureFormat:fe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Un,Dt]},rr[z]={textureFormat:hi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[an]},rr[H]={textureFormat:hi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[_t]},rr[X]={textureFormat:hi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[qn,pi]},rr[oe]={textureFormat:hi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[qn]},rr[He]={textureFormat:po,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[an]},rr[rt]={textureFormat:po,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[_t]},rr[$e]={textureFormat:po,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Dt]},rr[Lt]={textureFormat:po,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[_e]},rr[Xt]={textureFormat:po,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Un]},rr[gn]={textureFormat:po,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[on]},rr[dt]={textureFormat:qr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[an]},rr[At]={textureFormat:qr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[_t]},rr[Qt]={textureFormat:qr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[qn,pi]},rr[Ke]={textureFormat:qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[qn]},rr[pt]={textureFormat:Bi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[an]},rr[Tt]={textureFormat:Bi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[_t]},rr[ft]={textureFormat:Bi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Dt]},rr[It]={textureFormat:Bi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_e]},rr[Ge]={textureFormat:Bi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Un]},rr[Ct]={textureFormat:Bi,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[on]},rr[Ln]={textureFormat:L,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[an]},rr[$n]={textureFormat:L,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[an]},rr[gr]={textureFormat:L,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[an,Mi]},rr[sn]={textureFormat:L,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[_t]},rr[St]={textureFormat:L,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[qn,pi,Tn]},rr[Fe]={textureFormat:L,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[qn,pi,Hn]},rr[Ue]={textureFormat:L,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[qn,pi]},rr[Ce]={textureFormat:L,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[qn]},rr[me]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[an]},rr[it]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[_t]},rr[Me]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Dt]},rr[We]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[_e]},rr[Gt]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Un]},rr[Kt]={textureFormat:Ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[on]},rr[On]={textureFormat:ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[an]},rr[vr]={textureFormat:ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[an]},rr[Cn]={textureFormat:ie,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[_t]},rr[tr]={textureFormat:ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[an,Ai,Zt]},rr[Er]={textureFormat:ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[an,Gr]},rr[_r]={textureFormat:ie,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Zt]},rr[sr]={textureFormat:ie,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[qn,pi]},rr[_n]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[qn]},rr[_i]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[an]},rr[Ii]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_t]},rr[so]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},rr[Cr]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Dt]},rr[ii]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[_e]},rr[Or]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[on]},rr[fi]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Un]},rr[Yi]={textureFormat:fe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Dt,Un]},rr[ho]={textureFormat:fe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Un]},rr[Vi]={textureFormat:fe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[qn]},rr[Ve]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Dr]},rr[Qi]={textureFormat:q,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[hr]},Object.keys(rr).forEach(function(ur){var Ar=rr[ur];Ar.bytesPerElementMap={},Ar.bytesPerElement.forEach(function(Di,mt){Ar.bytesPerElementMap[Ar.type[mt]]=Di})}),Xn=rr}return Xn[Jn]}function ci(Jn,rr){var ur=Rr(Jn);if(!ur)throw"unknown internal format";var Ar=ur.bytesPerElementMap[rr];if(void 0===Ar)throw"unknown internal format";return Ar}function $i(Jn){var rr=Rr(Jn);if(!rr)throw"unknown internal format";return{format:rr.textureFormat,type:rr.type[0]}}function Ao(Jn){return!(Jn&Jn-1)}function go(Jn,rr,ur,Ar){if(!u.isWebGL2(Jn))return Ao(rr)&&Ao(ur);var Di=Rr(Ar);if(!Di)throw"unknown internal format";return Di.colorRenderable&&Di.textureFilterable}function ko(Jn){var rr=Rr(Jn);if(!rr)throw"unknown internal format";return rr.textureFilterable}function Po(Jn,rr,ur){return D(rr)?F.getGLTypeForTypedArray(rr):ur||an}function ss(Jn,rr,ur,Ar,Di){if(Di%1!=0)throw"can't guess dimensions";if(ur||Ar){if(Ar){if(!ur&&(ur=Di/Ar)%1)throw"can't guess dimensions"}else if((Ar=Di/ur)%1)throw"can't guess dimensions"}else{var mt=Math.sqrt(Di/(rr===be?6:1));mt%1==0?(ur=mt,Ar=mt):(ur=Di,Ar=1)}return{width:ur,height:Ar}}function as(Jn){_.textureColor=new Uint8Array([255*Jn[0],255*Jn[1],255*Jn[2],255*Jn[3]])}function ts(Jn,rr){void 0!==rr.colorspaceConversion&&Jn.pixelStorei(h,rr.colorspaceConversion),void 0!==rr.premultiplyAlpha&&Jn.pixelStorei(M,rr.premultiplyAlpha),void 0!==rr.flipY&&Jn.pixelStorei(Z,rr.flipY)}function Jo(Jn){Jn.pixelStorei(ye,4),u.isWebGL2(Jn)&&(Jn.pixelStorei(P,0),Jn.pixelStorei(B,0),Jn.pixelStorei(R,0),Jn.pixelStorei(N,0),Jn.pixelStorei(Y,0))}function Us(Jn,rr,ur,Ar){Ar.minMag&&(ur.call(Jn,rr,V,Ar.minMag),ur.call(Jn,rr,ge,Ar.minMag)),Ar.min&&ur.call(Jn,rr,V,Ar.min),Ar.mag&&ur.call(Jn,rr,ge,Ar.mag),Ar.wrap&&(ur.call(Jn,rr,Pe,Ar.wrap),ur.call(Jn,rr,ke,Ar.wrap),(rr===Se||S.isSampler(Jn,rr))&&ur.call(Jn,rr,xt,Ar.wrap)),Ar.wrapR&&ur.call(Jn,rr,xt,Ar.wrapR),Ar.wrapS&&ur.call(Jn,rr,Pe,Ar.wrapS),Ar.wrapT&&ur.call(Jn,rr,ke,Ar.wrapT),void 0!==Ar.minLod&&ur.call(Jn,rr,Ht,Ar.minLod),void 0!==Ar.maxLod&&ur.call(Jn,rr,ln,Ar.maxLod),void 0!==Ar.baseLevel&&ur.call(Jn,rr,Bt,Ar.baseLevel),void 0!==Ar.maxLevel&&ur.call(Jn,rr,Ye,Ar.maxLevel),void 0!==Ar.compareFunc&&ur.call(Jn,rr,Ot,Ar.compareFunc),void 0!==Ar.compareMode&&ur.call(Jn,rr,Ze,Ar.compareMode)}function jn(Jn,rr,ur){var Ar=ur.target||ee;Jn.bindTexture(Ar,rr),Us(Jn,Ar,Jn.texParameteri,ur)}function Zn(Jn,rr,ur){Us(Jn,rr,Jn.samplerParameteri,ur)}function Vr(Jn,rr){var ur=Jn.createSampler();return Zn(Jn,ur,rr),ur}function Co(Jn,rr,ur,Ar,Di,mt){mt=mt||ie;var mn=(ur=ur||_.textureOptions).target||ee;if(Ar=Ar||ur.width,Di=Di||ur.height,Jn.bindTexture(mn,rr),go(Jn,Ar,Di,mt))Jn.generateMipmap(mn);else{var Ut=ko(mt)?Q:j;Jn.texParameteri(mn,V,Ut),Jn.texParameteri(mn,ge,Ut),Jn.texParameteri(mn,Pe,$),Jn.texParameteri(mn,ke,$)}}function Ni(Jn){return!0===Jn.auto||void 0===Jn.auto&&void 0===Jn.level}function ji(Jn,rr){return(rr=rr||{}).cubeFaceOrder||[nt,De,ut,Ft,ve,I]}function co(Jn,rr){var Ar=ji(0,rr).map(function(Di,mt){return{face:Di,ndx:mt}});return Ar.sort(function(Di,mt){return Di.face-mt.face}),Ar}function Lo(Jn,rr,ur,Ar){var Di=(Ar=Ar||_.textureOptions).target||ee,mt=Ar.level||0,mn=ur.width,Ut=ur.height,dn=Ar.internalFormat||Ar.format||ie,Xe=$i(dn),Rt=Ar.format||Xe.format,qt=Ar.type||Xe.type;if(ts(Jn,Ar),Jn.bindTexture(Di,rr),Di===be){var mr,$r,zn=ur.width,fr=ur.height;if(zn/6===fr)mr=fr,$r=[0,0,1,0,2,0,3,0,4,0,5,0];else if(fr/6===zn)mr=zn,$r=[0,0,0,1,0,2,0,3,0,4,0,5];else if(zn/3==fr/2)mr=zn/3,$r=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(zn/2!=fr/3)throw"can't figure out cube map from element: "+(ur.src?ur.src:ur.nodeName);mr=zn/2,$r=[0,0,1,0,0,1,1,1,0,2,1,2]}var jr=W();jr?(jr.canvas.width=mr,jr.canvas.height=mr,mn=mr,Ut=mr,co(0,Ar).forEach(function(Je){jr.drawImage(ur,$r[2*Je.ndx+0]*mr,$r[2*Je.ndx+1]*mr,mr,mr,0,0,mr,mr),Jn.texImage2D(Je.face,mt,dn,Rt,qt,jr.canvas)}),jr.canvas.width=1,jr.canvas.height=1):typeof createImageBitmap<"u"&&(mn=mr,Ut=mr,co(0,Ar).forEach(function(Je){var Le=$r[2*Je.ndx+0]*mr,Wt=$r[2*Je.ndx+1]*mr;Jn.texImage2D(Je.face,mt,dn,mr,mr,0,Rt,qt,null),createImageBitmap(ur,Le,Wt,mr,mr,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(yr){ts(Jn,Ar),Jn.bindTexture(Di,rr),Jn.texImage2D(Je.face,mt,dn,Rt,qt,yr),Ni(Ar)&&Co(Jn,rr,Ar,mn,Ut,dn)})}))}else if(Di===Se||Di===Qe){var li=Math.min(ur.width,ur.height),Wr=Math.max(ur.width,ur.height),eo=Wr/li;if(eo%1!=0)throw"can not compute 3D dimensions of element";var yo=ur.width===Wr?1:0,Mo=ur.height===Wr?1:0;Jn.pixelStorei(ye,1),Jn.pixelStorei(P,ur.width),Jn.pixelStorei(B,0),Jn.pixelStorei(Y,0),Jn.texImage3D(Di,mt,dn,li,li,li,0,Rt,qt,null);for(var tt=0;tt<eo;++tt){var ce=tt*li*Mo;Jn.pixelStorei(R,tt*li*yo),Jn.pixelStorei(N,ce),Jn.texSubImage3D(Di,mt,0,0,tt,li,li,1,Rt,qt,ur)}Jo(Jn)}else Jn.texImage2D(Di,mt,dn,Rt,qt,ur);Ni(Ar)&&Co(Jn,rr,Ar,mn,Ut,dn),jn(Jn,rr,Ar)}function lo(){}function cs(Jn){return typeof ImageBitmap<"u"&&Jn instanceof ImageBitmap||typeof ImageData<"u"&&Jn instanceof ImageData||typeof HTMLElement<"u"&&Jn instanceof HTMLElement}function Ns(Jn,rr,ur){return cs(Jn)?(setTimeout(function(){ur(null,Jn)}),Jn):function Ws(Jn,rr,ur){var Ar;if(ur=ur||lo,rr=function ta(Jn,rr){return void 0!==rr||function Qo(Jn){if(typeof document<"u"){var rr=document.createElement("a");return rr.href=Jn,rr.hostname===location.hostname&&rr.port===location.port&&rr.protocol===location.protocol}var ur=new URL(location.href).origin;return new URL(Jn,location.href).origin===ur}(Jn)?rr:"anonymous"}(Jn,rr=void 0!==rr?rr:_.crossOrigin),typeof Image<"u"){Ar=new Image,void 0!==rr&&(Ar.crossOrigin=rr);var Di=function(){Ar.removeEventListener("error",mt),Ar.removeEventListener("load",mn),Ar=null},mt=function(){var zn="couldn't load image: "+Jn;S.error(zn),ur(zn,Ar),Di()},mn=function(){ur(null,Ar),Di()};return Ar.addEventListener("error",mt),Ar.addEventListener("load",mn),Ar.src=Jn,Ar}if(typeof ImageBitmap<"u"){var Ut,dn,Xe=function(){ur(Ut,dn)},Rt={};rr&&(Rt.mode="cors"),fetch(Jn,Rt).then(function(qt){if(!qt.ok)throw qt;return qt.blob()}).then(function(qt){return createImageBitmap(qt,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(qt){dn=qt,setTimeout(Xe)}).catch(function(qt){Ut=qt,setTimeout(Xe)}),Ar=null}return Ar}(Jn,rr,ur)}function ns(Jn,rr,ur){var Ar=(ur=ur||_.textureOptions).target||ee;if(Jn.bindTexture(Ar,rr),!1!==ur.color){var Di=function qi(Jn){return D(Jn=Jn||_.textureColor)?Jn:new Uint8Array([255*Jn[0],255*Jn[1],255*Jn[2],255*Jn[3]])}(ur.color);if(Ar===be)for(var mt=0;mt<6;++mt)Jn.texImage2D(nt+mt,0,ie,1,1,0,ie,an,Di);else Ar===Se||Ar===Qe?Jn.texImage3D(Ar,0,ie,1,1,1,0,ie,an,Di):Jn.texImage2D(Ar,0,ie,1,1,0,ie,an,Di)}}function Ks(Jn,rr,ur,Ar){return Ar=Ar||lo,ns(Jn,rr,ur=ur||_.textureOptions),Ns((ur=Object.assign({},ur)).src,ur.crossOrigin,function(mt,mn){mt?Ar(mt,rr,mn):(Lo(Jn,rr,mn,ur),Ar(null,rr,mn))})}function oa(Jn,rr,ur,Ar){var Di=(Ar=Ar||_.textureOptions).target||ee;Jn.bindTexture(Di,rr);var mt=Ar.width,mn=Ar.height,Ut=Ar.depth,dn=Ar.level||0,Xe=Ar.internalFormat||Ar.format||ie,Rt=$i(Xe),qt=Ar.format||Rt.format,zn=Ar.type||Po(0,ur,Rt.type);if(D(ur))ur instanceof Uint8ClampedArray&&(ur=new Uint8Array(ur.buffer));else{var fr=F.getTypedArrayTypeForGLType(zn);ur=new fr(ur)}var jr,mr=ci(Xe,zn),$r=ur.byteLength/mr;if($r%1)throw"length wrong size for format: "+u.glEnumToString(Jn,qt);if(Di===Se||Di===Qe)if(mt||mn||Ut)!mt||mn&&Ut?!mn||mt&&Ut?(jr=ss(0,Di,mt,mn,$r/Ut),mt=jr.width,mn=jr.height):(jr=ss(0,Di,mt,Ut,$r/mn),mt=jr.width,Ut=jr.height):(jr=ss(0,Di,mn,Ut,$r/mt),mn=jr.width,Ut=jr.height);else{var li=Math.cbrt($r);if(li%1!=0)throw"can't guess cube size of array of numElements: "+$r;mt=li,mn=li,Ut=li}else jr=ss(0,Di,mt,mn,$r),mt=jr.width,mn=jr.height;if(Jo(Jn),Jn.pixelStorei(ye,Ar.unpackAlignment||1),ts(Jn,Ar),Di===be){var eo=$r/6*(mr/ur.BYTES_PER_ELEMENT);co(0,Ar).forEach(function(yo){var Mo=eo*yo.ndx,tt=ur.subarray(Mo,Mo+eo);Jn.texImage2D(yo.face,dn,Xe,mt,mn,0,qt,zn,tt)})}else Di===Se||Di===Qe?Jn.texImage3D(Di,dn,Xe,mt,mn,Ut,0,qt,zn,ur):Jn.texImage2D(Di,dn,Xe,mt,mn,0,qt,zn,ur);return{width:mt,height:mn,depth:Ut,type:zn}}function Ko(Jn,rr,ur){var Ar=ur.target||ee;Jn.bindTexture(Ar,rr);var Di=ur.level||0,mt=ur.internalFormat||ur.format||ie,mn=$i(mt),Ut=ur.format||mn.format,dn=ur.type||mn.type;if(ts(Jn,ur),Ar===be)for(var Xe=0;Xe<6;++Xe)Jn.texImage2D(nt+Xe,Di,mt,ur.width,ur.height,0,Ut,dn,null);else Ar===Se||Ar===Qe?Jn.texImage3D(Ar,Di,mt,ur.width,ur.height,ur.depth,0,Ut,dn,null):Jn.texImage2D(Ar,Di,mt,ur.width,ur.height,0,Ut,dn,null)}function Fs(Jn,rr,ur){ur=ur||lo,rr=rr||_.textureOptions;var Ar=Jn.createTexture(),Di=rr.target||ee,mt=rr.width||1,mn=rr.height||1,Ut=rr.internalFormat||ie;Jn.bindTexture(Di,Ar),Di===be&&(Jn.texParameteri(Di,Pe,$),Jn.texParameteri(Di,ke,$));var dn=rr.src;if(dn)if("function"==typeof dn&&(dn=dn(Jn,rr)),"string"==typeof dn)Ks(Jn,Ar,rr,ur);else if(D(dn)||Array.isArray(dn)&&("number"==typeof dn[0]||Array.isArray(dn[0])||D(dn[0]))){var Xe=oa(Jn,Ar,dn,rr);mt=Xe.width,mn=Xe.height}else Array.isArray(dn)&&("string"==typeof dn[0]||cs(dn[0]))?Di===be?function Go(Jn,rr,ur,Ar){Ar=Ar||lo;var Di=ur.src;if(6!==Di.length)throw"there must be 6 urls for a cubemap";var mt=ur.level||0,mn=ur.internalFormat||ur.format||ie,Ut=$i(mn),dn=ur.format||Ut.format,Xe=ur.type||an,Rt=ur.target||ee;if(Rt!==be)throw"target must be TEXTURE_CUBE_MAP";ns(Jn,rr,ur),ur=Object.assign({},ur);var mr,qt=6,zn=[],fr=ji(0,ur);mr=Di.map(function(jr,li){return Ns(jr,ur.crossOrigin,function $r(jr){return function(li,Wr){--qt,li?zn.push(li):Wr.width!==Wr.height?zn.push("cubemap face img is not a square: "+Wr.src):(ts(Jn,ur),Jn.bindTexture(Rt,rr),5===qt?ji().forEach(function(eo){Jn.texImage2D(eo,mt,mn,dn,Xe,Wr)}):Jn.texImage2D(jr,mt,mn,dn,Xe,Wr),Ni(ur)&&Jn.generateMipmap(Rt)),0===qt&&Ar(zn.length?zn:void 0,rr,mr)}}(fr[li]))})}(Jn,Ar,rr,ur):function Aa(Jn,rr,ur,Ar){Ar=Ar||lo;var Di=ur.src,mt=ur.internalFormat||ur.format||ie,mn=$i(mt),Ut=ur.format||mn.format,dn=ur.type||an,Xe=ur.target||Qe;if(Xe!==Se&&Xe!==Qe)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";ns(Jn,rr,ur),ur=Object.assign({},ur);var zn,Rt=Di.length,qt=[],fr=ur.level||0,mr=ur.width,$r=ur.height,jr=Di.length,li=!0;zn=Di.map(function(eo,yo){return Ns(eo,ur.crossOrigin,function Wr(eo){return function(yo,Mo){if(--Rt,yo)qt.push(yo);else{if(ts(Jn,ur),Jn.bindTexture(Xe,rr),li){li=!1,Jn.texImage3D(Xe,fr,mt,mr=ur.width||Mo.width,$r=ur.height||Mo.height,jr,0,Ut,dn,null);for(var tt=0;tt<jr;++tt)Jn.texSubImage3D(Xe,fr,0,0,tt,mr,$r,1,Ut,dn,Mo)}else{var ce,re=Mo;(Mo.width!==mr||Mo.height!==$r)&&(re=(ce=W()).canvas,ce.canvas.width=mr,ce.canvas.height=$r,ce.drawImage(Mo,0,0,mr,$r)),Jn.texSubImage3D(Xe,fr,0,0,eo,mr,$r,1,Ut,dn,re),ce&&re===ce.canvas&&(ce.canvas.width=0,ce.canvas.height=0)}Ni(ur)&&Jn.generateMipmap(Xe)}0===Rt&&Ar(qt.length?qt:void 0,rr,zn)}}(yo))})}(Jn,Ar,rr,ur):(Lo(Jn,Ar,dn,rr),mt=dn.width,mn=dn.height);else Ko(Jn,Ar,rr);return Ni(rr)&&Co(Jn,Ar,rr,mt,mn,Ut),jn(Jn,Ar,rr),Ar}un[K]={numColorComponents:1},un[ae]={numColorComponents:1},un[le]={numColorComponents:2},un[L]={numColorComponents:3},un[ie]={numColorComponents:4},un[hi]={numColorComponents:1},un[po]={numColorComponents:1},un[qr]={numColorComponents:2},un[Bi]={numColorComponents:2},un[L]={numColorComponents:3},un[Ro]={numColorComponents:3},un[ie]={numColorComponents:4},un[Ji]={numColorComponents:4},un[fe]={numColorComponents:1},un[q]={numColorComponents:2}},"./src/twgl-base.js":
/*!**************************!*\
                !*** ./src/twgl-base.js ***!
                \**************************/(f,b,E)=>{b.__esModule=!0;var C=E(
/*! ./twgl.js */
"./src/twgl.js");Object.keys(C).forEach(function(u){"default"===u||"__esModule"===u||u in b&&b[u]===C[u]||(b[u]=C[u])})},"./src/twgl.js":
/*!*********************!*\
                !*** ./src/twgl.js ***!
                \*********************/(f,b,E)=>{function C(De){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ut){return typeof ut}:function(ut){return ut&&"function"==typeof Symbol&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut})(De)}b.__esModule=!0;var u={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};b.addExtensionsToContext=Q,b.framebuffers=b.draw=b.attributes=void 0,b.getContext=function Qe(De,ut){return function Se(De,ut){for(var Ft=["webgl2","webgl","experimental-webgl"],ve=null,I=0;I<Ft.length;++I)if(ve=De.getContext(Ft[I],ut)){le.addExtensionsToContext&&Q(ve);break}return ve}(De,ut)},b.getWebGLContext=function be(De,ut){return function ee(De,ut){for(var Ft=["webgl","experimental-webgl"],ve=null,I=0;I<Ft.length;++I)if(ve=De.getContext(Ft[I],ut)){le.addExtensionsToContext&&Q(ve);break}return ve}(De,ut)},b.programs=void 0,b.resizeCanvasToDisplaySize=function nt(De,ut){ut=ut||1,ut=Math.max(0,ut);var Ft=De.clientWidth*ut|0,ve=De.clientHeight*ut|0;return(De.width!==Ft||De.height!==ve)&&(De.width=Ft,De.height=ve,!0)},b.setDefaults=function fe(De){U.copyExistingProperties(De,le),F.setAttributeDefaults_(De),S.setTextureDefaults_(De)},b.vertexArrays=b.utils=b.typedarrays=b.textures=void 0;var F=ie(E(
/*! ./attributes.js */
"./src/attributes.js"));b.attributes=F,Object.keys(F).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===F[De]||(b[De]=F[De])});var S=ie(E(
/*! ./textures.js */
"./src/textures.js"));b.textures=S,Object.keys(S).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===S[De]||(b[De]=S[De])});var U=ie(E(
/*! ./helper.js */
"./src/helper.js")),O=ie(E(
/*! ./utils.js */
"./src/utils.js"));b.utils=O,Object.keys(O).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===O[De]||(b[De]=O[De])});var y=ie(E(
/*! ./draw.js */
"./src/draw.js"));b.draw=y,Object.keys(y).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===y[De]||(b[De]=y[De])});var _=ie(E(
/*! ./framebuffers.js */
"./src/framebuffers.js"));b.framebuffers=_,Object.keys(_).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===_[De]||(b[De]=_[De])});var D=ie(E(
/*! ./programs.js */
"./src/programs.js"));b.programs=D,Object.keys(D).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===D[De]||(b[De]=D[De])});var W=ie(E(
/*! ./typedarrays.js */
"./src/typedarrays.js"));b.typedarrays=W,Object.keys(W).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===W[De]||(b[De]=W[De])});var K=ie(E(
/*! ./vertex-arrays.js */
"./src/vertex-arrays.js"));function L(De){if("function"!=typeof WeakMap)return null;var ut=new WeakMap,Ft=new WeakMap;return(L=function(I){return I?Ft:ut})(De)}function ie(De,ut){if(!ut&&De&&De.__esModule)return De;if(null===De||"object"!=C(De)&&"function"!=typeof De)return{default:De};var Ft=L(ut);if(Ft&&Ft.has(De))return Ft.get(De);var ve={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in De)if("default"!==V&&Object.prototype.hasOwnProperty.call(De,V)){var ge=I?Object.getOwnPropertyDescriptor(De,V):null;ge&&(ge.get||ge.set)?Object.defineProperty(ve,V,ge):ve[V]=De[V]}return ve.default=De,Ft&&Ft.set(De,ve),ve}b.vertexArrays=K,Object.keys(K).forEach(function(De){"default"===De||"__esModule"===De||Object.prototype.hasOwnProperty.call(u,De)||De in b&&b[De]===K[De]||(b[De]=K[De])});var le={addExtensionsToContext:!0},q=/^(.*?)_/;function $(De,ut){O.glEnumToString(De,0);var Ft=De.getExtension(ut);if(Ft){var ve={},I=q.exec(ut)[1],V="_"+I;for(var ge in Ft){var Pe=Ft[ge],ke="function"==typeof Pe,xt=ke?I:V,Ht=ge;ge.endsWith(xt)&&(Ht=ge.substring(0,ge.length-xt.length)),void 0!==De[Ht]?!ke&&De[Ht]!==Pe&&U.warn(Ht,De[Ht],Pe,ge):ke?De[Ht]=function(ln){return function(){return ln.apply(Ft,arguments)}}(Pe):(De[Ht]=Pe,ve[Ht]=Pe)}ve.constructor={name:Ft.constructor.name},O.glEnumToString(ve,0)}return Ft}var j=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function Q(De){for(var ut=0;ut<j.length;++ut)$(De,j[ut])}},"./src/typedarrays.js":
/*!****************************!*\
                !*** ./src/typedarrays.js ***!
                \****************************/(f,b)=>{b.__esModule=!0,b.getGLTypeForTypedArray=function j(Se){if(Se instanceof Int8Array)return C;if(Se instanceof Uint8Array||Se instanceof Uint8ClampedArray)return u;if(Se instanceof Int16Array)return F;if(Se instanceof Uint16Array)return S;if(Se instanceof Int32Array)return U;if(Se instanceof Uint32Array)return O;if(Se instanceof Float32Array)return y;throw new Error("unsupported typed array type")},b.getGLTypeForTypedArrayType=function Q(Se){if(Se===Int8Array)return C;if(Se===Uint8Array||Se===Uint8ClampedArray)return u;if(Se===Int16Array)return F;if(Se===Uint16Array)return S;if(Se===Int32Array)return U;if(Se===Uint32Array)return O;if(Se===Float32Array)return y;throw new Error("unsupported typed array type")},b.getTypedArrayTypeForGLType=function ee(Se){var Qe=q[Se];if(!Qe)throw new Error("unknown gl type");return Qe},b.isArrayBuffer=void 0;var C=5120,u=5121,F=5122,S=5123,U=5124,O=5125,y=5126,q={},$=q;$[C]=Int8Array,$[u]=Uint8Array,$[F]=Int16Array,$[S]=Uint16Array,$[U]=Int32Array,$[O]=Uint32Array,$[y]=Float32Array,$[32819]=Uint16Array,$[32820]=Uint16Array,$[33635]=Uint16Array,$[5131]=Uint16Array,$[33640]=Uint32Array,$[35899]=Uint32Array,$[35902]=Uint32Array,$[36269]=Uint32Array,$[34042]=Uint32Array,b.isArrayBuffer=typeof SharedArrayBuffer<"u"?function(Qe){return Qe&&Qe.buffer&&(Qe.buffer instanceof ArrayBuffer||Qe.buffer instanceof SharedArrayBuffer)}:function(Qe){return Qe&&Qe.buffer&&Qe.buffer instanceof ArrayBuffer}},"./src/utils.js":
/*!**********************!*\
                !*** ./src/utils.js ***!
                \**********************/(f,b)=>{b.__esModule=!0,b.glEnumToString=void 0,b.isWebGL1=function C(F){return!F.texStorage2D},b.isWebGL2=function E(F){return!!F.texStorage2D},b.glEnumToString=function(){var F={},S={};return function(y,_){return function U(O){var y=O.constructor.name;if(!F[y]){for(var _ in O)if("number"==typeof O[_]){var D=S[O[_]];S[O[_]]=D?"".concat(D," | ").concat(_):_}F[y]=!0}}(y),S[_]||("number"==typeof _?"0x".concat(_.toString(16)):_)}}()},"./src/vertex-arrays.js":
/*!******************************!*\
                !*** ./src/vertex-arrays.js ***!
                \******************************/(f,b,E)=>{function C(D){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(D)}b.__esModule=!0,b.createVAOAndSetAttributes=y,b.createVAOFromBufferInfo=function _(D,W,K){return y(D,W.attribSetters||W,K.attribs,K.indices)},b.createVertexArrayInfo=function O(D,W,K){var L=D.createVertexArray();return D.bindVertexArray(L),W.length||(W=[W]),W.forEach(function(ie){u.setBuffersAndAttributes(D,ie,K)}),D.bindVertexArray(null),{numElements:K.numElements,elementType:K.elementType,vertexArrayObject:L}};var u=function S(D,W){if(!W&&D&&D.__esModule)return D;if(null===D||"object"!=C(D)&&"function"!=typeof D)return{default:D};var K=F(W);if(K&&K.has(D))return K.get(D);var L={__proto__:null},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in D)if("default"!==ae&&Object.prototype.hasOwnProperty.call(D,ae)){var le=ie?Object.getOwnPropertyDescriptor(D,ae):null;le&&(le.get||le.set)?Object.defineProperty(L,ae,le):L[ae]=D[ae]}return L.default=D,K&&K.set(D,L),L}(E(
/*! ./programs.js */
"./src/programs.js"));function F(D){if("function"!=typeof WeakMap)return null;var W=new WeakMap,K=new WeakMap;return(F=function(ie){return ie?K:W})(D)}var U=34963;function y(D,W,K,L){var ie=D.createVertexArray();return D.bindVertexArray(ie),u.setAttributes(W,K),L&&D.bindBuffer(U,L),D.bindVertexArray(null),ie}}},w={},x=function r(f){var b=w[f];if(void 0!==b)return b.exports;var E=w[f]={exports:{}};return ot[f](E,E.exports,r),E.exports}("./src/twgl-base.js");return x})(),en.exports=r()},1245:(en,ot,w)=>{"use strict";w.r(ot),w.d(ot,{DOMException:()=>j,Headers:()=>S,Request:()=>ae,Response:()=>q,fetch:()=>Q});var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},x={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(x.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(ee){return ee&&b.indexOf(Object.prototype.toString.call(ee))>-1};function C(ee){if("string"!=typeof ee&&(ee=String(ee)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(ee)||""===ee)throw new TypeError('Invalid character in header field name: "'+ee+'"');return ee.toLowerCase()}function u(ee){return"string"!=typeof ee&&(ee=String(ee)),ee}function F(ee){var be={next:function(){var Se=ee.shift();return{done:void 0===Se,value:Se}}};return x.iterable&&(be[Symbol.iterator]=function(){return be}),be}function S(ee){this.map={},ee instanceof S?ee.forEach(function(be,Se){this.append(Se,be)},this):Array.isArray(ee)?ee.forEach(function(be){if(2!=be.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+be.length);this.append(be[0],be[1])},this):ee&&Object.getOwnPropertyNames(ee).forEach(function(be){this.append(be,ee[be])},this)}function U(ee){if(!ee._noBody){if(ee.bodyUsed)return Promise.reject(new TypeError("Already read"));ee.bodyUsed=!0}}function O(ee){return new Promise(function(be,Se){ee.onload=function(){be(ee.result)},ee.onerror=function(){Se(ee.error)}})}function y(ee){var be=new FileReader,Se=O(be);return be.readAsArrayBuffer(ee),Se}function W(ee){if(ee.slice)return ee.slice(0);var be=new Uint8Array(ee.byteLength);return be.set(new Uint8Array(ee)),be.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(ee){this.bodyUsed=this.bodyUsed,this._bodyInit=ee,ee?"string"==typeof ee?this._bodyText=ee:x.blob&&Blob.prototype.isPrototypeOf(ee)?this._bodyBlob=ee:x.formData&&FormData.prototype.isPrototypeOf(ee)?this._bodyFormData=ee:x.searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)?this._bodyText=ee.toString():x.arrayBuffer&&x.blob&&function f(ee){return ee&&DataView.prototype.isPrototypeOf(ee)}(ee)?(this._bodyArrayBuffer=W(ee.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):x.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ee)||E(ee))?this._bodyArrayBuffer=W(ee):this._bodyText=ee=Object.prototype.toString.call(ee):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof ee?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):x.searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x.blob&&(this.blob=function(){var ee=U(this);if(ee)return ee;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return U(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(x.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var ee=U(this);if(ee)return ee;if(this._bodyBlob)return function _(ee){var be=new FileReader,Se=O(be),Qe=/charset=([A-Za-z0-9_-]+)/.exec(ee.type);return be.readAsText(ee,Qe?Qe[1]:"utf-8"),Se}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function D(ee){for(var be=new Uint8Array(ee),Se=new Array(be.length),Qe=0;Qe<be.length;Qe++)Se[Qe]=String.fromCharCode(be[Qe]);return Se.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x.formData&&(this.formData=function(){return this.text().then(le)}),this.json=function(){return this.text().then(JSON.parse)},this}S.prototype.append=function(ee,be){ee=C(ee),be=u(be);var Se=this.map[ee];this.map[ee]=Se?Se+", "+be:be},S.prototype.delete=function(ee){delete this.map[C(ee)]},S.prototype.get=function(ee){return ee=C(ee),this.has(ee)?this.map[ee]:null},S.prototype.has=function(ee){return this.map.hasOwnProperty(C(ee))},S.prototype.set=function(ee,be){this.map[C(ee)]=u(be)},S.prototype.forEach=function(ee,be){for(var Se in this.map)this.map.hasOwnProperty(Se)&&ee.call(be,this.map[Se],Se,this)},S.prototype.keys=function(){var ee=[];return this.forEach(function(be,Se){ee.push(Se)}),F(ee)},S.prototype.values=function(){var ee=[];return this.forEach(function(be){ee.push(be)}),F(ee)},S.prototype.entries=function(){var ee=[];return this.forEach(function(be,Se){ee.push([Se,be])}),F(ee)},x.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);var L=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function ae(ee,be){if(!(this instanceof ae))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Se=(be=be||{}).body;if(ee instanceof ae){if(ee.bodyUsed)throw new TypeError("Already read");this.url=ee.url,this.credentials=ee.credentials,be.headers||(this.headers=new S(ee.headers)),this.method=ee.method,this.mode=ee.mode,this.signal=ee.signal,!Se&&null!=ee._bodyInit&&(Se=ee._bodyInit,ee.bodyUsed=!0)}else this.url=String(ee);if(this.credentials=be.credentials||this.credentials||"same-origin",(be.headers||!this.headers)&&(this.headers=new S(be.headers)),this.method=function ie(ee){var be=ee.toUpperCase();return L.indexOf(be)>-1?be:ee}(be.method||this.method||"GET"),this.mode=be.mode||this.mode||null,this.signal=be.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Se),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==be.cache&&"no-cache"!==be.cache)){var Qe=/([?&])_=[^&]*/;Qe.test(this.url)?this.url=this.url.replace(Qe,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function le(ee){var be=new FormData;return ee.trim().split("&").forEach(function(Se){if(Se){var Qe=Se.split("="),nt=Qe.shift().replace(/\+/g," "),De=Qe.join("=").replace(/\+/g," ");be.append(decodeURIComponent(nt),decodeURIComponent(De))}}),be}function fe(ee){var be=new S;return ee.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(Qe){return 0===Qe.indexOf("\n")?Qe.substr(1,Qe.length):Qe}).forEach(function(Qe){var nt=Qe.split(":"),De=nt.shift().trim();if(De){var ut=nt.join(":").trim();try{be.append(De,ut)}catch(Ft){console.warn("Response "+Ft.message)}}}),be}function q(ee,be){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(be||(be={}),this.type="default",this.status=void 0===be.status?200:be.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===be.statusText?"":""+be.statusText,this.headers=new S(be.headers),this.url=be.url||"",this._initBody(ee)}ae.prototype.clone=function(){return new ae(this,{body:this._bodyInit})},K.call(ae.prototype),K.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},q.error=function(){var ee=new q(null,{status:200,statusText:""});return ee.ok=!1,ee.status=0,ee.type="error",ee};var $=[301,302,303,307,308];q.redirect=function(ee,be){if(-1===$.indexOf(be))throw new RangeError("Invalid status code");return new q(null,{status:be,headers:{location:ee}})};var j=r.DOMException;try{new j}catch{(j=function(be,Se){this.message=be,this.name=Se;var Qe=Error(be);this.stack=Qe.stack}).prototype=Object.create(Error.prototype),j.prototype.constructor=j}function Q(ee,be){return new Promise(function(Se,Qe){var nt=new ae(ee,be);if(nt.signal&&nt.signal.aborted)return Qe(new j("Aborted","AbortError"));var De=new XMLHttpRequest;function ut(){De.abort()}if(De.onload=function(){var I={statusText:De.statusText,headers:fe(De.getAllResponseHeaders()||"")};I.status=0===nt.url.indexOf("file://")&&(De.status<200||De.status>599)?200:De.status,I.url="responseURL"in De?De.responseURL:I.headers.get("X-Request-URL");var V="response"in De?De.response:De.responseText;setTimeout(function(){Se(new q(V,I))},0)},De.onerror=function(){setTimeout(function(){Qe(new TypeError("Network request failed"))},0)},De.ontimeout=function(){setTimeout(function(){Qe(new TypeError("Network request timed out"))},0)},De.onabort=function(){setTimeout(function(){Qe(new j("Aborted","AbortError"))},0)},De.open(nt.method,function Ft(I){try{return""===I&&r.location.href?r.location.href:I}catch{return I}}(nt.url),!0),"include"===nt.credentials?De.withCredentials=!0:"omit"===nt.credentials&&(De.withCredentials=!1),"responseType"in De&&(x.blob?De.responseType="blob":x.arrayBuffer&&(De.responseType="arraybuffer")),be&&"object"==typeof be.headers&&!(be.headers instanceof S||r.Headers&&be.headers instanceof r.Headers)){var ve=[];Object.getOwnPropertyNames(be.headers).forEach(function(I){ve.push(C(I)),De.setRequestHeader(I,u(be.headers[I]))}),nt.headers.forEach(function(I,V){-1===ve.indexOf(V)&&De.setRequestHeader(V,I)})}else nt.headers.forEach(function(I,V){De.setRequestHeader(V,I)});nt.signal&&(nt.signal.addEventListener("abort",ut),De.onreadystatechange=function(){4===De.readyState&&nt.signal.removeEventListener("abort",ut)}),De.send(typeof nt._bodyInit>"u"?null:nt._bodyInit)})}Q.polyfill=!0,r.fetch||(r.fetch=Q,r.Headers=S,r.Request=ae,r.Response=q)},5067:()=>{"use strict";!function(X){const oe=X.performance;function He(Er){oe&&oe.mark&&oe.mark(Er)}function rt(Er,_r){oe&&oe.measure&&oe.measure(Er,_r)}He("Zone");const ft=X.__Zone_symbol_prefix||"__zone_symbol__";function It(Er){return ft+Er}const Ge=!0===X[It("forceDuplicateZoneCheck")];if(X.Zone){if(Ge||"function"!=typeof X.Zone.__symbol__)throw new Error("Zone already loaded.");return X.Zone}let Ct=(()=>{class _r{static assertZonePatched(){if(X.Promise!==Gt.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let _n=_r.current;for(;_n.parent;)_n=_n.parent;return _n}static get current(){return On.zone}static get currentTask(){return vr}static __load_patch(_n,_i,Ii=!1){if(Gt.hasOwnProperty(_n)){if(!Ii&&Ge)throw Error("Already loaded patch: "+_n)}else if(!X["__Zone_disable_"+_n]){const so="Zone:"+_n;He(so),Gt[_n]=_i(X,_r,Kt),rt(so,so)}}get parent(){return this._parent}get name(){return this._name}constructor(_n,_i){this._parent=_n,this._name=_i?_i.name||"unnamed":"<root>",this._properties=_i&&_i.properties||{},this._zoneDelegate=new At(this,this._parent&&this._parent._zoneDelegate,_i)}get(_n){const _i=this.getZoneWith(_n);if(_i)return _i._properties[_n]}getZoneWith(_n){let _i=this;for(;_i;){if(_i._properties.hasOwnProperty(_n))return _i;_i=_i._parent}return null}fork(_n){if(!_n)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,_n)}wrap(_n,_i){if("function"!=typeof _n)throw new Error("Expecting function got: "+_n);const Ii=this._zoneDelegate.intercept(this,_n,_i),so=this;return function(){return so.runGuarded(Ii,this,arguments,_i)}}run(_n,_i,Ii,so){On={parent:On,zone:this};try{return this._zoneDelegate.invoke(this,_n,_i,Ii,so)}finally{On=On.parent}}runGuarded(_n,_i=null,Ii,so){On={parent:On,zone:this};try{try{return this._zoneDelegate.invoke(this,_n,_i,Ii,so)}catch(Cr){if(this._zoneDelegate.handleError(this,Cr))throw Cr}}finally{On=On.parent}}runTask(_n,_i,Ii){if(_n.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(_n.zone||gr).name+"; Execution: "+this.name+")");if(_n.state===sn&&(_n.type===We||_n.type===Me))return;const so=_n.state!=Ue;so&&_n._transitionTo(Ue,Fe),_n.runCount++;const Cr=vr;vr=_n,On={parent:On,zone:this};try{_n.type==Me&&_n.data&&!_n.data.isPeriodic&&(_n.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,_n,_i,Ii)}catch(ii){if(this._zoneDelegate.handleError(this,ii))throw ii}}finally{_n.state!==sn&&_n.state!==me&&(_n.type==We||_n.data&&_n.data.isPeriodic?so&&_n._transitionTo(Fe,Ue):(_n.runCount=0,this._updateTaskCount(_n,-1),so&&_n._transitionTo(sn,Ue,sn))),On=On.parent,vr=Cr}}scheduleTask(_n){if(_n.zone&&_n.zone!==this){let Ii=this;for(;Ii;){if(Ii===_n.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${_n.zone.name}`);Ii=Ii.parent}}_n._transitionTo(St,sn);const _i=[];_n._zoneDelegates=_i,_n._zone=this;try{_n=this._zoneDelegate.scheduleTask(this,_n)}catch(Ii){throw _n._transitionTo(me,St,sn),this._zoneDelegate.handleError(this,Ii),Ii}return _n._zoneDelegates===_i&&this._updateTaskCount(_n,1),_n.state==St&&_n._transitionTo(Fe,St),_n}scheduleMicroTask(_n,_i,Ii,so){return this.scheduleTask(new Qt(it,_n,_i,Ii,so,void 0))}scheduleMacroTask(_n,_i,Ii,so,Cr){return this.scheduleTask(new Qt(Me,_n,_i,Ii,so,Cr))}scheduleEventTask(_n,_i,Ii,so,Cr){return this.scheduleTask(new Qt(We,_n,_i,Ii,so,Cr))}cancelTask(_n){if(_n.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(_n.zone||gr).name+"; Execution: "+this.name+")");if(_n.state===Fe||_n.state===Ue){_n._transitionTo(Ce,Fe,Ue);try{this._zoneDelegate.cancelTask(this,_n)}catch(_i){throw _n._transitionTo(me,Ce),this._zoneDelegate.handleError(this,_i),_i}return this._updateTaskCount(_n,-1),_n._transitionTo(sn,Ce),_n.runCount=0,_n}}_updateTaskCount(_n,_i){const Ii=_n._zoneDelegates;-1==_i&&(_n._zoneDelegates=null);for(let so=0;so<Ii.length;so++)Ii[so]._updateTaskCount(_n.type,_i)}}return _r.__symbol__=It,_r})();const dt={name:"",onHasTask:(Er,_r,sr,_n)=>Er.hasTask(sr,_n),onScheduleTask:(Er,_r,sr,_n)=>Er.scheduleTask(sr,_n),onInvokeTask:(Er,_r,sr,_n,_i,Ii)=>Er.invokeTask(sr,_n,_i,Ii),onCancelTask:(Er,_r,sr,_n)=>Er.cancelTask(sr,_n)};class At{constructor(_r,sr,_n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=_r,this._parentDelegate=sr,this._forkZS=_n&&(_n&&_n.onFork?_n:sr._forkZS),this._forkDlgt=_n&&(_n.onFork?sr:sr._forkDlgt),this._forkCurrZone=_n&&(_n.onFork?this.zone:sr._forkCurrZone),this._interceptZS=_n&&(_n.onIntercept?_n:sr._interceptZS),this._interceptDlgt=_n&&(_n.onIntercept?sr:sr._interceptDlgt),this._interceptCurrZone=_n&&(_n.onIntercept?this.zone:sr._interceptCurrZone),this._invokeZS=_n&&(_n.onInvoke?_n:sr._invokeZS),this._invokeDlgt=_n&&(_n.onInvoke?sr:sr._invokeDlgt),this._invokeCurrZone=_n&&(_n.onInvoke?this.zone:sr._invokeCurrZone),this._handleErrorZS=_n&&(_n.onHandleError?_n:sr._handleErrorZS),this._handleErrorDlgt=_n&&(_n.onHandleError?sr:sr._handleErrorDlgt),this._handleErrorCurrZone=_n&&(_n.onHandleError?this.zone:sr._handleErrorCurrZone),this._scheduleTaskZS=_n&&(_n.onScheduleTask?_n:sr._scheduleTaskZS),this._scheduleTaskDlgt=_n&&(_n.onScheduleTask?sr:sr._scheduleTaskDlgt),this._scheduleTaskCurrZone=_n&&(_n.onScheduleTask?this.zone:sr._scheduleTaskCurrZone),this._invokeTaskZS=_n&&(_n.onInvokeTask?_n:sr._invokeTaskZS),this._invokeTaskDlgt=_n&&(_n.onInvokeTask?sr:sr._invokeTaskDlgt),this._invokeTaskCurrZone=_n&&(_n.onInvokeTask?this.zone:sr._invokeTaskCurrZone),this._cancelTaskZS=_n&&(_n.onCancelTask?_n:sr._cancelTaskZS),this._cancelTaskDlgt=_n&&(_n.onCancelTask?sr:sr._cancelTaskDlgt),this._cancelTaskCurrZone=_n&&(_n.onCancelTask?this.zone:sr._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const _i=_n&&_n.onHasTask;(_i||sr&&sr._hasTaskZS)&&(this._hasTaskZS=_i?_n:dt,this._hasTaskDlgt=sr,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=_r,_n.onScheduleTask||(this._scheduleTaskZS=dt,this._scheduleTaskDlgt=sr,this._scheduleTaskCurrZone=this.zone),_n.onInvokeTask||(this._invokeTaskZS=dt,this._invokeTaskDlgt=sr,this._invokeTaskCurrZone=this.zone),_n.onCancelTask||(this._cancelTaskZS=dt,this._cancelTaskDlgt=sr,this._cancelTaskCurrZone=this.zone))}fork(_r,sr){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,_r,sr):new Ct(_r,sr)}intercept(_r,sr,_n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,_r,sr,_n):sr}invoke(_r,sr,_n,_i,Ii){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,_r,sr,_n,_i,Ii):sr.apply(_n,_i)}handleError(_r,sr){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,_r,sr)}scheduleTask(_r,sr){let _n=sr;if(this._scheduleTaskZS)this._hasTaskZS&&_n._zoneDelegates.push(this._hasTaskDlgtOwner),_n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,_r,sr),_n||(_n=sr);else if(sr.scheduleFn)sr.scheduleFn(sr);else{if(sr.type!=it)throw new Error("Task is missing scheduleFn.");Ln(sr)}return _n}invokeTask(_r,sr,_n,_i){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,_r,sr,_n,_i):sr.callback.apply(_n,_i)}cancelTask(_r,sr){let _n;if(this._cancelTaskZS)_n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,_r,sr);else{if(!sr.cancelFn)throw Error("Task is not cancelable");_n=sr.cancelFn(sr)}return _n}hasTask(_r,sr){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,_r,sr)}catch(_n){this.handleError(_r,_n)}}_updateTaskCount(_r,sr){const _n=this._taskCounts,_i=_n[_r],Ii=_n[_r]=_i+sr;if(Ii<0)throw new Error("More tasks executed then were scheduled.");0!=_i&&0!=Ii||this.hasTask(this.zone,{microTask:_n.microTask>0,macroTask:_n.macroTask>0,eventTask:_n.eventTask>0,change:_r})}}class Qt{constructor(_r,sr,_n,_i,Ii,so){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=_r,this.source=sr,this.data=_i,this.scheduleFn=Ii,this.cancelFn=so,!_n)throw new Error("callback is not defined");this.callback=_n;const Cr=this;this.invoke=_r===We&&_i&&_i.useG?Qt.invokeTask:function(){return Qt.invokeTask.call(X,Cr,this,arguments)}}static invokeTask(_r,sr,_n){_r||(_r=this),Cn++;try{return _r.runCount++,_r.zone.runTask(_r,sr,_n)}finally{1==Cn&&$n(),Cn--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(sn,St)}_transitionTo(_r,sr,_n){if(this._state!==sr&&this._state!==_n)throw new Error(`${this.type} '${this.source}': can not transition to '${_r}', expecting state '${sr}'${_n?" or '"+_n+"'":""}, was '${this._state}'.`);this._state=_r,_r==sn&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ke=It("setTimeout"),pt=It("Promise"),Tt=It("then");let Xt,$e=[],Lt=!1;function gn(Er){if(Xt||X[pt]&&(Xt=X[pt].resolve(0)),Xt){let _r=Xt[Tt];_r||(_r=Xt.then),_r.call(Xt,Er)}else X[Ke](Er,0)}function Ln(Er){0===Cn&&0===$e.length&&gn($n),Er&&$e.push(Er)}function $n(){if(!Lt){for(Lt=!0;$e.length;){const Er=$e;$e=[];for(let _r=0;_r<Er.length;_r++){const sr=Er[_r];try{sr.zone.runTask(sr,null,null)}catch(_n){Kt.onUnhandledError(_n)}}}Kt.microtaskDrainDone(),Lt=!1}}const gr={name:"NO ZONE"},sn="notScheduled",St="scheduling",Fe="scheduled",Ue="running",Ce="canceling",me="unknown",it="microTask",Me="macroTask",We="eventTask",Gt={},Kt={symbol:It,currentZoneFrame:()=>On,onUnhandledError:tr,microtaskDrainDone:tr,scheduleMicroTask:Ln,showUncaughtError:()=>!Ct[It("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:tr,patchMethod:()=>tr,bindArguments:()=>[],patchThen:()=>tr,patchMacroTask:()=>tr,patchEventPrototype:()=>tr,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>tr,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>tr,wrapWithCurrentZone:()=>tr,filterProperties:()=>[],attachOriginToPatched:()=>tr,_redefineProperty:()=>tr,patchCallbacks:()=>tr,nativeScheduleMicroTask:gn};let On={parent:null,zone:new Ct(null,null)},vr=null,Cn=0;function tr(){}rt("Zone","Zone"),X.Zone=Ct}(globalThis);const en=Object.getOwnPropertyDescriptor,ot=Object.defineProperty,w=Object.getPrototypeOf,r=Object.create,x=Array.prototype.slice,f="addEventListener",b="removeEventListener",E=Zone.__symbol__(f),C=Zone.__symbol__(b),u="true",F="false",S=Zone.__symbol__("");function U(X,oe){return Zone.current.wrap(X,oe)}function O(X,oe,He,rt,ft){return Zone.current.scheduleMacroTask(X,oe,He,rt,ft)}const y=Zone.__symbol__,_=typeof window<"u",D=_?window:void 0,W=_&&D||globalThis,K="removeAttribute";function L(X,oe){for(let He=X.length-1;He>=0;He--)"function"==typeof X[He]&&(X[He]=U(X[He],oe+"_"+He));return X}function ae(X){return!X||!1!==X.writable&&!("function"==typeof X.get&&typeof X.set>"u")}const le=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fe=!("nw"in W)&&typeof W.process<"u"&&"[object process]"==={}.toString.call(W.process),q=!fe&&!le&&!(!_||!D.HTMLElement),$=typeof W.process<"u"&&"[object process]"==={}.toString.call(W.process)&&!le&&!(!_||!D.HTMLElement),j={},Q=function(X){if(!(X=X||W.event))return;let oe=j[X.type];oe||(oe=j[X.type]=y("ON_PROPERTY"+X.type));const He=this||X.target||W,rt=He[oe];let ft;return q&&He===D&&"error"===X.type?(ft=rt&&rt.call(this,X.message,X.filename,X.lineno,X.colno,X.error),!0===ft&&X.preventDefault()):(ft=rt&&rt.apply(this,arguments),null!=ft&&!ft&&X.preventDefault()),ft};function ee(X,oe,He){let rt=en(X,oe);if(!rt&&He&&en(He,oe)&&(rt={enumerable:!0,configurable:!0}),!rt||!rt.configurable)return;const ft=y("on"+oe+"patched");if(X.hasOwnProperty(ft)&&X[ft])return;delete rt.writable,delete rt.value;const It=rt.get,Ge=rt.set,Ct=oe.slice(2);let dt=j[Ct];dt||(dt=j[Ct]=y("ON_PROPERTY"+Ct)),rt.set=function(At){let Qt=this;!Qt&&X===W&&(Qt=W),Qt&&("function"==typeof Qt[dt]&&Qt.removeEventListener(Ct,Q),Ge&&Ge.call(Qt,null),Qt[dt]=At,"function"==typeof At&&Qt.addEventListener(Ct,Q,!1))},rt.get=function(){let At=this;if(!At&&X===W&&(At=W),!At)return null;const Qt=At[dt];if(Qt)return Qt;if(It){let Ke=It.call(this);if(Ke)return rt.set.call(this,Ke),"function"==typeof At[K]&&At.removeAttribute(oe),Ke}return null},ot(X,oe,rt),X[ft]=!0}function be(X,oe,He){if(oe)for(let rt=0;rt<oe.length;rt++)ee(X,"on"+oe[rt],He);else{const rt=[];for(const ft in X)"on"==ft.slice(0,2)&&rt.push(ft);for(let ft=0;ft<rt.length;ft++)ee(X,rt[ft],He)}}const Se=y("originalInstance");function Qe(X){const oe=W[X];if(!oe)return;W[y(X)]=oe,W[X]=function(){const ft=L(arguments,X);switch(ft.length){case 0:this[Se]=new oe;break;case 1:this[Se]=new oe(ft[0]);break;case 2:this[Se]=new oe(ft[0],ft[1]);break;case 3:this[Se]=new oe(ft[0],ft[1],ft[2]);break;case 4:this[Se]=new oe(ft[0],ft[1],ft[2],ft[3]);break;default:throw new Error("Arg list too long.")}},ut(W[X],oe);const He=new oe(function(){});let rt;for(rt in He)"XMLHttpRequest"===X&&"responseBlob"===rt||function(ft){"function"==typeof He[ft]?W[X].prototype[ft]=function(){return this[Se][ft].apply(this[Se],arguments)}:ot(W[X].prototype,ft,{set:function(It){"function"==typeof It?(this[Se][ft]=U(It,X+"."+ft),ut(this[Se][ft],It)):this[Se][ft]=It},get:function(){return this[Se][ft]}})}(rt);for(rt in oe)"prototype"!==rt&&oe.hasOwnProperty(rt)&&(W[X][rt]=oe[rt])}function nt(X,oe,He){let rt=X;for(;rt&&!rt.hasOwnProperty(oe);)rt=w(rt);!rt&&X[oe]&&(rt=X);const ft=y(oe);let It=null;if(rt&&(!(It=rt[ft])||!rt.hasOwnProperty(ft))&&(It=rt[ft]=rt[oe],ae(rt&&en(rt,oe)))){const Ct=He(It,ft,oe);rt[oe]=function(){return Ct(this,arguments)},ut(rt[oe],It)}return It}function De(X,oe,He){let rt=null;function ft(It){const Ge=It.data;return Ge.args[Ge.cbIdx]=function(){It.invoke.apply(this,arguments)},rt.apply(Ge.target,Ge.args),It}rt=nt(X,oe,It=>function(Ge,Ct){const dt=He(Ge,Ct);return dt.cbIdx>=0&&"function"==typeof Ct[dt.cbIdx]?O(dt.name,Ct[dt.cbIdx],dt,ft):It.apply(Ge,Ct)})}function ut(X,oe){X[y("OriginalDelegate")]=oe}let Ft=!1,ve=!1;function V(){if(Ft)return ve;Ft=!0;try{const X=D.navigator.userAgent;(-1!==X.indexOf("MSIE ")||-1!==X.indexOf("Trident/")||-1!==X.indexOf("Edge/"))&&(ve=!0)}catch{}return ve}Zone.__load_patch("ZoneAwarePromise",(X,oe,He)=>{const rt=Object.getOwnPropertyDescriptor,ft=Object.defineProperty,Ge=He.symbol,Ct=[],dt=!1!==X[Ge("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],At=Ge("Promise"),Qt=Ge("then"),Ke="__creationTrace__";He.onUnhandledError=Cr=>{if(He.showUncaughtError()){const ii=Cr&&Cr.rejection;ii?console.error("Unhandled Promise rejection:",ii instanceof Error?ii.message:ii,"; Zone:",Cr.zone.name,"; Task:",Cr.task&&Cr.task.source,"; Value:",ii,ii instanceof Error?ii.stack:void 0):console.error(Cr)}},He.microtaskDrainDone=()=>{for(;Ct.length;){const Cr=Ct.shift();try{Cr.zone.runGuarded(()=>{throw Cr.throwOriginal?Cr.rejection:Cr})}catch(ii){Tt(ii)}}};const pt=Ge("unhandledPromiseRejectionHandler");function Tt(Cr){He.onUnhandledError(Cr);try{const ii=oe[pt];"function"==typeof ii&&ii.call(this,Cr)}catch{}}function $e(Cr){return Cr&&Cr.then}function Lt(Cr){return Cr}function Xt(Cr){return sr.reject(Cr)}const gn=Ge("state"),Ln=Ge("value"),$n=Ge("finally"),gr=Ge("parentPromiseValue"),sn=Ge("parentPromiseState"),St="Promise.then",Fe=null,Ue=!0,Ce=!1,me=0;function it(Cr,ii){return Or=>{try{Kt(Cr,ii,Or)}catch(fi){Kt(Cr,!1,fi)}}}const Me=function(){let Cr=!1;return function(Or){return function(){Cr||(Cr=!0,Or.apply(null,arguments))}}},We="Promise resolved with itself",Gt=Ge("currentTaskTrace");function Kt(Cr,ii,Or){const fi=Me();if(Cr===Or)throw new TypeError(We);if(Cr[gn]===Fe){let Yi=null;try{("object"==typeof Or||"function"==typeof Or)&&(Yi=Or&&Or.then)}catch(ho){return fi(()=>{Kt(Cr,!1,ho)})(),Cr}if(ii!==Ce&&Or instanceof sr&&Or.hasOwnProperty(gn)&&Or.hasOwnProperty(Ln)&&Or[gn]!==Fe)vr(Or),Kt(Cr,Or[gn],Or[Ln]);else if(ii!==Ce&&"function"==typeof Yi)try{Yi.call(Or,fi(it(Cr,ii)),fi(it(Cr,!1)))}catch(ho){fi(()=>{Kt(Cr,!1,ho)})()}else{Cr[gn]=ii;const ho=Cr[Ln];if(Cr[Ln]=Or,Cr[$n]===$n&&ii===Ue&&(Cr[gn]=Cr[sn],Cr[Ln]=Cr[gr]),ii===Ce&&Or instanceof Error){const Vi=oe.currentTask&&oe.currentTask.data&&oe.currentTask.data[Ke];Vi&&ft(Or,Gt,{configurable:!0,enumerable:!1,writable:!0,value:Vi})}for(let Vi=0;Vi<ho.length;)Cn(Cr,ho[Vi++],ho[Vi++],ho[Vi++],ho[Vi++]);if(0==ho.length&&ii==Ce){Cr[gn]=me;let Vi=Or;try{throw new Error("Uncaught (in promise): "+function It(Cr){return Cr&&Cr.toString===Object.prototype.toString?(Cr.constructor&&Cr.constructor.name||"")+": "+JSON.stringify(Cr):Cr?Cr.toString():Object.prototype.toString.call(Cr)}(Or)+(Or&&Or.stack?"\n"+Or.stack:""))}catch(Qi){Vi=Qi}dt&&(Vi.throwOriginal=!0),Vi.rejection=Or,Vi.promise=Cr,Vi.zone=oe.current,Vi.task=oe.currentTask,Ct.push(Vi),He.scheduleMicroTask()}}}return Cr}const On=Ge("rejectionHandledHandler");function vr(Cr){if(Cr[gn]===me){try{const ii=oe[On];ii&&"function"==typeof ii&&ii.call(this,{rejection:Cr[Ln],promise:Cr})}catch{}Cr[gn]=Ce;for(let ii=0;ii<Ct.length;ii++)Cr===Ct[ii].promise&&Ct.splice(ii,1)}}function Cn(Cr,ii,Or,fi,Yi){vr(Cr);const ho=Cr[gn],Vi=ho?"function"==typeof fi?fi:Lt:"function"==typeof Yi?Yi:Xt;ii.scheduleMicroTask(St,()=>{try{const Qi=Cr[Ln],Ve=!!Or&&$n===Or[$n];Ve&&(Or[gr]=Qi,Or[sn]=ho);const _t=ii.run(Vi,void 0,Ve&&Vi!==Xt&&Vi!==Lt?[]:[Qi]);Kt(Or,!0,_t)}catch(Qi){Kt(Or,!1,Qi)}},Or)}const Er=function(){},_r=X.AggregateError;class sr{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(ii){return ii instanceof sr?ii:Kt(new this(null),Ue,ii)}static reject(ii){return Kt(new this(null),Ce,ii)}static withResolvers(){const ii={};return ii.promise=new sr((Or,fi)=>{ii.resolve=Or,ii.reject=fi}),ii}static any(ii){if(!ii||"function"!=typeof ii[Symbol.iterator])return Promise.reject(new _r([],"All promises were rejected"));const Or=[];let fi=0;try{for(let Vi of ii)fi++,Or.push(sr.resolve(Vi))}catch{return Promise.reject(new _r([],"All promises were rejected"))}if(0===fi)return Promise.reject(new _r([],"All promises were rejected"));let Yi=!1;const ho=[];return new sr((Vi,Qi)=>{for(let Ve=0;Ve<Or.length;Ve++)Or[Ve].then(_t=>{Yi||(Yi=!0,Vi(_t))},_t=>{ho.push(_t),fi--,0===fi&&(Yi=!0,Qi(new _r(ho,"All promises were rejected")))})})}static race(ii){let Or,fi,Yi=new this((Qi,Ve)=>{Or=Qi,fi=Ve});function ho(Qi){Or(Qi)}function Vi(Qi){fi(Qi)}for(let Qi of ii)$e(Qi)||(Qi=this.resolve(Qi)),Qi.then(ho,Vi);return Yi}static all(ii){return sr.allWithCallback(ii)}static allSettled(ii){return(this&&this.prototype instanceof sr?this:sr).allWithCallback(ii,{thenCallback:fi=>({status:"fulfilled",value:fi}),errorCallback:fi=>({status:"rejected",reason:fi})})}static allWithCallback(ii,Or){let fi,Yi,ho=new this((_t,an)=>{fi=_t,Yi=an}),Vi=2,Qi=0;const Ve=[];for(let _t of ii){$e(_t)||(_t=this.resolve(_t));const an=Qi;try{_t.then(_e=>{Ve[an]=Or?Or.thenCallback(_e):_e,Vi--,0===Vi&&fi(Ve)},_e=>{Or?(Ve[an]=Or.errorCallback(_e),Vi--,0===Vi&&fi(Ve)):Yi(_e)})}catch(_e){Yi(_e)}Vi++,Qi++}return Vi-=2,0===Vi&&fi(Ve),ho}constructor(ii){const Or=this;if(!(Or instanceof sr))throw new Error("Must be an instanceof Promise.");Or[gn]=Fe,Or[Ln]=[];try{const fi=Me();ii&&ii(fi(it(Or,Ue)),fi(it(Or,Ce)))}catch(fi){Kt(Or,!1,fi)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return sr}then(ii,Or){let fi=this.constructor?.[Symbol.species];(!fi||"function"!=typeof fi)&&(fi=this.constructor||sr);const Yi=new fi(Er),ho=oe.current;return this[gn]==Fe?this[Ln].push(ho,Yi,ii,Or):Cn(this,ho,Yi,ii,Or),Yi}catch(ii){return this.then(null,ii)}finally(ii){let Or=this.constructor?.[Symbol.species];(!Or||"function"!=typeof Or)&&(Or=sr);const fi=new Or(Er);fi[$n]=$n;const Yi=oe.current;return this[gn]==Fe?this[Ln].push(Yi,fi,ii,ii):Cn(this,Yi,fi,ii,ii),fi}}sr.resolve=sr.resolve,sr.reject=sr.reject,sr.race=sr.race,sr.all=sr.all;const _n=X[At]=X.Promise;X.Promise=sr;const _i=Ge("thenPatched");function Ii(Cr){const ii=Cr.prototype,Or=rt(ii,"then");if(Or&&(!1===Or.writable||!Or.configurable))return;const fi=ii.then;ii[Qt]=fi,Cr.prototype.then=function(Yi,ho){return new sr((Qi,Ve)=>{fi.call(this,Qi,Ve)}).then(Yi,ho)},Cr[_i]=!0}return He.patchThen=Ii,_n&&(Ii(_n),nt(X,"fetch",Cr=>function so(Cr){return function(ii,Or){let fi=Cr.apply(ii,Or);if(fi instanceof sr)return fi;let Yi=fi.constructor;return Yi[_i]||Ii(Yi),fi}}(Cr))),Promise[oe.__symbol__("uncaughtPromiseErrors")]=Ct,sr}),Zone.__load_patch("toString",X=>{const oe=Function.prototype.toString,He=y("OriginalDelegate"),rt=y("Promise"),ft=y("Error"),It=function(){if("function"==typeof this){const At=this[He];if(At)return"function"==typeof At?oe.call(At):Object.prototype.toString.call(At);if(this===Promise){const Qt=X[rt];if(Qt)return oe.call(Qt)}if(this===Error){const Qt=X[ft];if(Qt)return oe.call(Qt)}}return oe.call(this)};It[He]=oe,Function.prototype.toString=It;const Ge=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Ge.call(this)}});let ge=!1;if(typeof window<"u")try{const X=Object.defineProperty({},"passive",{get:function(){ge=!0}});window.addEventListener("test",X,X),window.removeEventListener("test",X,X)}catch{ge=!1}const Pe={useG:!0},ke={},xt={},Ht=new RegExp("^"+S+"(\\w+)(true|false)$"),ln=y("propagationStopped");function Bt(X,oe){const He=(oe?oe(X):X)+F,rt=(oe?oe(X):X)+u,ft=S+He,It=S+rt;ke[X]={},ke[X][F]=ft,ke[X][u]=It}function Ye(X,oe,He,rt){const ft=rt&&rt.add||f,It=rt&&rt.rm||b,Ge=rt&&rt.listeners||"eventListeners",Ct=rt&&rt.rmAll||"removeAllListeners",dt=y(ft),At="."+ft+":",Qt="prependListener",Ke="."+Qt+":",pt=function(Ln,$n,gr){if(Ln.isRemoved)return;const sn=Ln.callback;let St;"object"==typeof sn&&sn.handleEvent&&(Ln.callback=Ue=>sn.handleEvent(Ue),Ln.originalDelegate=sn);try{Ln.invoke(Ln,$n,[gr])}catch(Ue){St=Ue}const Fe=Ln.options;return Fe&&"object"==typeof Fe&&Fe.once&&$n[It].call($n,gr.type,Ln.originalDelegate?Ln.originalDelegate:Ln.callback,Fe),St};function Tt(Ln,$n,gr){if(!($n=$n||X.event))return;const sn=Ln||$n.target||X,St=sn[ke[$n.type][gr?u:F]];if(St){const Fe=[];if(1===St.length){const Ue=pt(St[0],sn,$n);Ue&&Fe.push(Ue)}else{const Ue=St.slice();for(let Ce=0;Ce<Ue.length&&(!$n||!0!==$n[ln]);Ce++){const me=pt(Ue[Ce],sn,$n);me&&Fe.push(me)}}if(1===Fe.length)throw Fe[0];for(let Ue=0;Ue<Fe.length;Ue++){const Ce=Fe[Ue];oe.nativeScheduleMicroTask(()=>{throw Ce})}}}const $e=function(Ln){return Tt(this,Ln,!1)},Lt=function(Ln){return Tt(this,Ln,!0)};function Xt(Ln,$n){if(!Ln)return!1;let gr=!0;$n&&void 0!==$n.useG&&(gr=$n.useG);const sn=$n&&$n.vh;let St=!0;$n&&void 0!==$n.chkDup&&(St=$n.chkDup);let Fe=!1;$n&&void 0!==$n.rt&&(Fe=$n.rt);let Ue=Ln;for(;Ue&&!Ue.hasOwnProperty(ft);)Ue=w(Ue);if(!Ue&&Ln[ft]&&(Ue=Ln),!Ue||Ue[dt])return!1;const Ce=$n&&$n.eventNameToString,me={},it=Ue[dt]=Ue[ft],Me=Ue[y(It)]=Ue[It],We=Ue[y(Ge)]=Ue[Ge],Gt=Ue[y(Ct)]=Ue[Ct];let Kt;$n&&$n.prepend&&(Kt=Ue[y($n.prepend)]=Ue[$n.prepend]);const sr=gr?function(Or){if(!me.isExisting)return it.call(me.target,me.eventName,me.capture?Lt:$e,me.options)}:function(Or){return it.call(me.target,me.eventName,Or.invoke,me.options)},_n=gr?function(Or){if(!Or.isRemoved){const fi=ke[Or.eventName];let Yi;fi&&(Yi=fi[Or.capture?u:F]);const ho=Yi&&Or.target[Yi];if(ho)for(let Vi=0;Vi<ho.length;Vi++)if(ho[Vi]===Or){ho.splice(Vi,1),Or.isRemoved=!0,0===ho.length&&(Or.allRemoved=!0,Or.target[Yi]=null);break}}if(Or.allRemoved)return Me.call(Or.target,Or.eventName,Or.capture?Lt:$e,Or.options)}:function(Or){return Me.call(Or.target,Or.eventName,Or.invoke,Or.options)},Ii=$n&&$n.diff?$n.diff:function(Or,fi){const Yi=typeof fi;return"function"===Yi&&Or.callback===fi||"object"===Yi&&Or.originalDelegate===fi},so=Zone[y("UNPATCHED_EVENTS")],Cr=X[y("PASSIVE_EVENTS")],ii=function(Or,fi,Yi,ho,Vi=!1,Qi=!1){return function(){const Ve=this||X;let _t=arguments[0];$n&&$n.transferEventName&&(_t=$n.transferEventName(_t));let an=arguments[1];if(!an)return Or.apply(this,arguments);if(fe&&"uncaughtException"===_t)return Or.apply(this,arguments);let _e=!1;if("function"!=typeof an){if(!an.handleEvent)return Or.apply(this,arguments);_e=!0}if(sn&&!sn(Or,an,Ve,arguments))return;const Dt=ge&&!!Cr&&-1!==Cr.indexOf(_t),on=function On(Or,fi){return!ge&&"object"==typeof Or&&Or?!!Or.capture:ge&&fi?"boolean"==typeof Or?{capture:Or,passive:!0}:Or?"object"==typeof Or&&!1!==Or.passive?{...Or,passive:!0}:Or:{passive:!0}:Or}(arguments[2],Dt),Un=on&&"object"==typeof on&&on.signal&&"object"==typeof on.signal?on.signal:void 0;if(Un?.aborted)return;if(so)for(let Bi=0;Bi<so.length;Bi++)if(_t===so[Bi])return Dt?Or.call(Ve,_t,an,on):Or.apply(this,arguments);const qn=!!on&&("boolean"==typeof on||on.capture),Gr=!(!on||"object"!=typeof on)&&on.once,Ai=Zone.current;let Mi=ke[_t];Mi||(Bt(_t,Ce),Mi=ke[_t]);const pi=Mi[qn?u:F];let Tn,di=Ve[pi],Zt=!1;if(di){if(Zt=!0,St)for(let Bi=0;Bi<di.length;Bi++)if(Ii(di[Bi],an))return}else di=Ve[pi]=[];const Hn=Ve.constructor.name,hr=xt[Hn];hr&&(Tn=hr[_t]),Tn||(Tn=Hn+fi+(Ce?Ce(_t):_t)),me.options=on,Gr&&(me.options.once=!1),me.target=Ve,me.capture=qn,me.eventName=_t,me.isExisting=Zt;const Dr=gr?Pe:void 0;Dr&&(Dr.taskData=me),Un&&(me.options.signal=void 0);const qr=Ai.scheduleEventTask(Tn,an,Dr,Yi,ho);return Un&&(me.options.signal=Un,Or.call(Un,"abort",()=>{qr.zone.cancelTask(qr)},{once:!0})),me.target=null,Dr&&(Dr.taskData=null),Gr&&(on.once=!0),!ge&&"boolean"==typeof qr.options||(qr.options=on),qr.target=Ve,qr.capture=qn,qr.eventName=_t,_e&&(qr.originalDelegate=an),Qi?di.unshift(qr):di.push(qr),Vi?Ve:void 0}};return Ue[ft]=ii(it,At,sr,_n,Fe),Kt&&(Ue[Qt]=ii(Kt,Ke,function(Or){return Kt.call(me.target,me.eventName,Or.invoke,me.options)},_n,Fe,!0)),Ue[It]=function(){const Or=this||X;let fi=arguments[0];$n&&$n.transferEventName&&(fi=$n.transferEventName(fi));const Yi=arguments[2],ho=!!Yi&&("boolean"==typeof Yi||Yi.capture),Vi=arguments[1];if(!Vi)return Me.apply(this,arguments);if(sn&&!sn(Me,Vi,Or,arguments))return;const Qi=ke[fi];let Ve;Qi&&(Ve=Qi[ho?u:F]);const _t=Ve&&Or[Ve];if(_t)for(let an=0;an<_t.length;an++){const _e=_t[an];if(Ii(_e,Vi))return _t.splice(an,1),_e.isRemoved=!0,0===_t.length&&(_e.allRemoved=!0,Or[Ve]=null,"string"==typeof fi)&&(Or[S+"ON_PROPERTY"+fi]=null),_e.zone.cancelTask(_e),Fe?Or:void 0}return Me.apply(this,arguments)},Ue[Ge]=function(){const Or=this||X;let fi=arguments[0];$n&&$n.transferEventName&&(fi=$n.transferEventName(fi));const Yi=[],ho=Ze(Or,Ce?Ce(fi):fi);for(let Vi=0;Vi<ho.length;Vi++){const Qi=ho[Vi];Yi.push(Qi.originalDelegate?Qi.originalDelegate:Qi.callback)}return Yi},Ue[Ct]=function(){const Or=this||X;let fi=arguments[0];if(fi){$n&&$n.transferEventName&&(fi=$n.transferEventName(fi));const Yi=ke[fi];if(Yi){const Qi=Or[Yi[F]],Ve=Or[Yi[u]];if(Qi){const _t=Qi.slice();for(let an=0;an<_t.length;an++){const _e=_t[an];this[It].call(this,fi,_e.originalDelegate?_e.originalDelegate:_e.callback,_e.options)}}if(Ve){const _t=Ve.slice();for(let an=0;an<_t.length;an++){const _e=_t[an];this[It].call(this,fi,_e.originalDelegate?_e.originalDelegate:_e.callback,_e.options)}}}}else{const Yi=Object.keys(Or);for(let ho=0;ho<Yi.length;ho++){const Qi=Ht.exec(Yi[ho]);let Ve=Qi&&Qi[1];Ve&&"removeListener"!==Ve&&this[Ct].call(this,Ve)}this[Ct].call(this,"removeListener")}if(Fe)return this},ut(Ue[ft],it),ut(Ue[It],Me),Gt&&ut(Ue[Ct],Gt),We&&ut(Ue[Ge],We),!0}let gn=[];for(let Ln=0;Ln<He.length;Ln++)gn[Ln]=Xt(He[Ln],rt);return gn}function Ze(X,oe){if(!oe){const It=[];for(let Ge in X){const Ct=Ht.exec(Ge);let dt=Ct&&Ct[1];if(dt&&(!oe||dt===oe)){const At=X[Ge];if(At)for(let Qt=0;Qt<At.length;Qt++)It.push(At[Qt])}}return It}let He=ke[oe];He||(Bt(oe),He=ke[oe]);const rt=X[He[F]],ft=X[He[u]];return rt?ft?rt.concat(ft):rt.slice():ft?ft.slice():[]}function Ot(X,oe){const He=X.Event;He&&He.prototype&&oe.patchMethod(He.prototype,"stopImmediatePropagation",rt=>function(ft,It){ft[ln]=!0,rt&&rt.apply(ft,It)})}function ye(X,oe,He,rt,ft){const It=Zone.__symbol__(rt);if(oe[It])return;const Ge=oe[It]=oe[rt];oe[rt]=function(Ct,dt,At){return dt&&dt.prototype&&ft.forEach(function(Qt){const Ke=`${He}.${rt}::`+Qt,pt=dt.prototype;try{if(pt.hasOwnProperty(Qt)){const Tt=X.ObjectGetOwnPropertyDescriptor(pt,Qt);Tt&&Tt.value?(Tt.value=X.wrapWithCurrentZone(Tt.value,Ke),X._redefineProperty(dt.prototype,Qt,Tt)):pt[Qt]&&(pt[Qt]=X.wrapWithCurrentZone(pt[Qt],Ke))}else pt[Qt]&&(pt[Qt]=X.wrapWithCurrentZone(pt[Qt],Ke))}catch{}}),Ge.call(oe,Ct,dt,At)},X.attachOriginToPatched(oe[rt],Ge)}function P(X,oe,He){if(!He||0===He.length)return oe;const rt=He.filter(It=>It.target===X);if(!rt||0===rt.length)return oe;const ft=rt[0].ignoreProperties;return oe.filter(It=>-1===ft.indexOf(It))}function B(X,oe,He,rt){X&&be(X,P(X,oe,He),rt)}function R(X){return Object.getOwnPropertyNames(X).filter(oe=>oe.startsWith("on")&&oe.length>2).map(oe=>oe.substring(2))}Zone.__load_patch("util",(X,oe,He)=>{const rt=R(X);He.patchOnProperties=be,He.patchMethod=nt,He.bindArguments=L,He.patchMacroTask=De;const ft=oe.__symbol__("BLACK_LISTED_EVENTS"),It=oe.__symbol__("UNPATCHED_EVENTS");X[It]&&(X[ft]=X[It]),X[ft]&&(oe[ft]=oe[It]=X[ft]),He.patchEventPrototype=Ot,He.patchEventTarget=Ye,He.isIEOrEdge=V,He.ObjectDefineProperty=ot,He.ObjectGetOwnPropertyDescriptor=en,He.ObjectCreate=r,He.ArraySlice=x,He.patchClass=Qe,He.wrapWithCurrentZone=U,He.filterProperties=P,He.attachOriginToPatched=ut,He._redefineProperty=Object.defineProperty,He.patchCallbacks=ye,He.getGlobalObjects=()=>({globalSources:xt,zoneSymbolEventNames:ke,eventNames:rt,isBrowser:q,isMix:$,isNode:fe,TRUE_STR:u,FALSE_STR:F,ZONE_SYMBOL_PREFIX:S,ADD_EVENT_LISTENER_STR:f,REMOVE_EVENT_LISTENER_STR:b})});const h=y("zoneTask");function M(X,oe,He,rt){let ft=null,It=null;He+=rt;const Ge={};function Ct(At){const Qt=At.data;return Qt.args[0]=function(){return At.invoke.apply(this,arguments)},Qt.handleId=ft.apply(X,Qt.args),At}function dt(At){return It.call(X,At.data.handleId)}ft=nt(X,oe+=rt,At=>function(Qt,Ke){if("function"==typeof Ke[0]){const pt={isPeriodic:"Interval"===rt,delay:"Timeout"===rt||"Interval"===rt?Ke[1]||0:void 0,args:Ke},Tt=Ke[0];Ke[0]=function(){try{return Tt.apply(this,arguments)}finally{pt.isPeriodic||("number"==typeof pt.handleId?delete Ge[pt.handleId]:pt.handleId&&(pt.handleId[h]=null))}};const $e=O(oe,Ke[0],pt,Ct,dt);if(!$e)return $e;const Lt=$e.data.handleId;return"number"==typeof Lt?Ge[Lt]=$e:Lt&&(Lt[h]=$e),Lt&&Lt.ref&&Lt.unref&&"function"==typeof Lt.ref&&"function"==typeof Lt.unref&&($e.ref=Lt.ref.bind(Lt),$e.unref=Lt.unref.bind(Lt)),"number"==typeof Lt||Lt?Lt:$e}return At.apply(X,Ke)}),It=nt(X,He,At=>function(Qt,Ke){const pt=Ke[0];let Tt;"number"==typeof pt?Tt=Ge[pt]:(Tt=pt&&pt[h],Tt||(Tt=pt)),Tt&&"string"==typeof Tt.type?"notScheduled"!==Tt.state&&(Tt.cancelFn&&Tt.data.isPeriodic||0===Tt.runCount)&&("number"==typeof pt?delete Ge[pt]:pt&&(pt[h]=null),Tt.zone.cancelTask(Tt)):At.apply(X,Ke)})}Zone.__load_patch("legacy",X=>{const oe=X[Zone.__symbol__("legacyPatch")];oe&&oe()}),Zone.__load_patch("timers",X=>{const He="clear";M(X,"set",He,"Timeout"),M(X,"set",He,"Interval"),M(X,"set",He,"Immediate")}),Zone.__load_patch("requestAnimationFrame",X=>{M(X,"request","cancel","AnimationFrame"),M(X,"mozRequest","mozCancel","AnimationFrame"),M(X,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(X,oe)=>{const He=["alert","prompt","confirm"];for(let rt=0;rt<He.length;rt++)nt(X,He[rt],(It,Ge,Ct)=>function(dt,At){return oe.current.run(It,X,At,Ct)})}),Zone.__load_patch("EventTarget",(X,oe,He)=>{(function H(X,oe){oe.patchEventPrototype(X,oe)})(X,He),function z(X,oe){if(Zone[oe.symbol("patchEventTarget")])return;const{eventNames:He,zoneSymbolEventNames:rt,TRUE_STR:ft,FALSE_STR:It,ZONE_SYMBOL_PREFIX:Ge}=oe.getGlobalObjects();for(let dt=0;dt<He.length;dt++){const At=He[dt],pt=Ge+(At+It),Tt=Ge+(At+ft);rt[At]={},rt[At][It]=pt,rt[At][ft]=Tt}const Ct=X.EventTarget;Ct&&Ct.prototype&&oe.patchEventTarget(X,oe,[Ct&&Ct.prototype])}(X,He);const rt=X.XMLHttpRequestEventTarget;rt&&rt.prototype&&He.patchEventTarget(X,He,[rt.prototype])}),Zone.__load_patch("MutationObserver",(X,oe,He)=>{Qe("MutationObserver"),Qe("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(X,oe,He)=>{Qe("IntersectionObserver")}),Zone.__load_patch("FileReader",(X,oe,He)=>{Qe("FileReader")}),Zone.__load_patch("on_property",(X,oe,He)=>{!function N(X,oe){if(fe&&!$||Zone[X.symbol("patchEvents")])return;const He=oe.__Zone_ignore_on_properties;let rt=[];if(q){const ft=window;rt=rt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const It=function I(){try{const X=D.navigator.userAgent;if(-1!==X.indexOf("MSIE ")||-1!==X.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:ft,ignoreProperties:["error"]}]:[];B(ft,R(ft),He&&He.concat(It),w(ft))}rt=rt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let ft=0;ft<rt.length;ft++){const It=oe[rt[ft]];It&&It.prototype&&B(It.prototype,R(It.prototype),He)}}(He,X)}),Zone.__load_patch("customElements",(X,oe,He)=>{!function Z(X,oe){const{isBrowser:He,isMix:rt}=oe.getGlobalObjects();(He||rt)&&X.customElements&&"customElements"in X&&oe.patchCallbacks(oe,X.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(X,He)}),Zone.__load_patch("XHR",(X,oe)=>{!function dt(At){const Qt=At.XMLHttpRequest;if(!Qt)return;const Ke=Qt.prototype;let Tt=Ke[E],$e=Ke[C];if(!Tt){const me=At.XMLHttpRequestEventTarget;if(me){const it=me.prototype;Tt=it[E],$e=it[C]}}const Lt="readystatechange",Xt="scheduled";function gn(me){const it=me.data,Me=it.target;Me[It]=!1,Me[Ct]=!1;const We=Me[ft];Tt||(Tt=Me[E],$e=Me[C]),We&&$e.call(Me,Lt,We);const Gt=Me[ft]=()=>{if(Me.readyState===Me.DONE)if(!it.aborted&&Me[It]&&me.state===Xt){const On=Me[oe.__symbol__("loadfalse")];if(0!==Me.status&&On&&On.length>0){const vr=me.invoke;me.invoke=function(){const Cn=Me[oe.__symbol__("loadfalse")];for(let tr=0;tr<Cn.length;tr++)Cn[tr]===me&&Cn.splice(tr,1);!it.aborted&&me.state===Xt&&vr.call(me)},On.push(me)}else me.invoke()}else!it.aborted&&!1===Me[It]&&(Me[Ct]=!0)};return Tt.call(Me,Lt,Gt),Me[He]||(Me[He]=me),Ue.apply(Me,it.args),Me[It]=!0,me}function Ln(){}function $n(me){const it=me.data;return it.aborted=!0,Ce.apply(it.target,it.args)}const gr=nt(Ke,"open",()=>function(me,it){return me[rt]=0==it[2],me[Ge]=it[1],gr.apply(me,it)}),St=y("fetchTaskAborting"),Fe=y("fetchTaskScheduling"),Ue=nt(Ke,"send",()=>function(me,it){if(!0===oe.current[Fe]||me[rt])return Ue.apply(me,it);{const Me={target:me,url:me[Ge],isPeriodic:!1,args:it,aborted:!1},We=O("XMLHttpRequest.send",Ln,Me,gn,$n);me&&!0===me[Ct]&&!Me.aborted&&We.state===Xt&&We.invoke()}}),Ce=nt(Ke,"abort",()=>function(me,it){const Me=function pt(me){return me[He]}(me);if(Me&&"string"==typeof Me.type){if(null==Me.cancelFn||Me.data&&Me.data.aborted)return;Me.zone.cancelTask(Me)}else if(!0===oe.current[St])return Ce.apply(me,it)})}(X);const He=y("xhrTask"),rt=y("xhrSync"),ft=y("xhrListener"),It=y("xhrScheduled"),Ge=y("xhrURL"),Ct=y("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",X=>{X.navigator&&X.navigator.geolocation&&function ie(X,oe){const He=X.constructor.name;for(let rt=0;rt<oe.length;rt++){const ft=oe[rt],It=X[ft];if(It){if(!ae(en(X,ft)))continue;X[ft]=(Ct=>{const dt=function(){return Ct.apply(this,L(arguments,He+"."+ft))};return ut(dt,Ct),dt})(It)}}}(X.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(X,oe)=>{function He(rt){return function(ft){Ze(X,rt).forEach(Ge=>{const Ct=X.PromiseRejectionEvent;if(Ct){const dt=new Ct(rt,{promise:ft.promise,reason:ft.rejection});Ge.invoke(dt)}})}}X.PromiseRejectionEvent&&(oe[y("unhandledPromiseRejectionHandler")]=He("unhandledrejection"),oe[y("rejectionHandledHandler")]=He("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(X,oe,He)=>{!function Y(X,oe){oe.patchMethod(X,"queueMicrotask",He=>function(rt,ft){Zone.current.scheduleMicroTask("queueMicrotask",ft[0])})}(X,He)})},9258:(en,ot,w)=>{"use strict";var tt,r=w(1049).default,x=w(8429).default,f=w(7909).default,b=w(7604).default,E=w(8322).default,C=Object.defineProperty,u=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,_={};((tt,re)=>{for(var ce in re)C(tt,ce,{get:re[ce],enumerable:!0})})(_,{JSONLoader:()=>qt.JSONLoader,NullLoader:()=>Xe,NullWorkerLoader:()=>dn,RequestScheduler:()=>mt.RequestScheduler,_BrowserFileSystem:()=>li,_fetchProgress:()=>zn,_unregisterLoaders:()=>Ce,assert:()=>eo.assert,concatenateArrayBuffersAsync:()=>yo.concatenateArrayBuffersAsync,document:()=>Wr.document,encode:()=>Ks,encodeInBatches:()=>Vs,encodeSync:()=>Aa,encodeTable:()=>co,encodeTableAsText:()=>lo,encodeTableInBatches:()=>ta,encodeText:()=>oa,encodeTextSync:()=>Fs,encodeURLtoURL:()=>ds,fetchFile:()=>M,forEach:()=>yo.forEach,getLoaderOptions:()=>Qt,getPathPrefix:()=>Di.getPathPrefix,global:()=>Wr.global,isAsyncIterable:()=>fe,isBrowser:()=>Wr.isBrowser,isIterable:()=>le,isIterator:()=>q,isPromise:()=>ae,isPureObject:()=>ie,isReadableStream:()=>nt,isResponse:()=>$,isWorker:()=>Wr.isWorker,isWritableStream:()=>De,load:()=>Vr,loadInBatches:()=>qi,makeIterator:()=>di,makeLineIterator:()=>Mo.makeLineIterator,makeNumberedLineIterator:()=>Mo.makeNumberedLineIterator,makeStream:()=>mn,makeTextDecoderIterator:()=>Mo.makeTextDecoderIterator,makeTextEncoderIterator:()=>Mo.makeTextEncoderIterator,parse:()=>Yt,parseInBatches:()=>ko,parseSync:()=>ci,readArrayBuffer:()=>z,registerLoaders:()=>Fe,resolvePath:()=>Di.resolvePath,selectLoader:()=>Gt,selectLoaderSync:()=>On,self:()=>Wr.self,setLoaderOptions:()=>Ke,setPathPrefix:()=>Di.setPathPrefix,window:()=>Wr.window}),en.exports=(tt=_,((tt,re,ce,Je)=>{if(re&&"object"==typeof re||"function"==typeof re)for(let Le of F(re))!S.call(tt,Le)&&undefined!==Le&&C(tt,Le,{get:()=>re[Le],enumerable:!(Je=u(re,Le))||Je.enumerable});return tt})(C({},"__esModule",{value:!0}),tt));var D=w(8690),W=tt=>"boolean"==typeof tt,K=tt=>"function"==typeof tt,L=tt=>null!==tt&&"object"==typeof tt,ie=tt=>L(tt)&&tt.constructor==={}.constructor,ae=tt=>L(tt)&&K(tt.then),le=tt=>!!tt&&"function"==typeof tt[Symbol.iterator],fe=tt=>tt&&"function"==typeof tt[Symbol.asyncIterator],q=tt=>tt&&K(tt.next),$=tt=>typeof Response<"u"&&tt instanceof Response||tt&&tt.arrayBuffer&&tt.text&&tt.json,j=tt=>typeof Blob<"u"&&tt instanceof Blob,Q=tt=>tt&&"object"==typeof tt&&tt.isBuffer,nt=tt=>(tt=>typeof ReadableStream<"u"&&tt instanceof ReadableStream||L(tt)&&K(tt.tee)&&K(tt.cancel)&&K(tt.getReader))(tt)||(tt=>L(tt)&&K(tt.read)&&K(tt.pipe)&&W(tt.readable))(tt),De=tt=>(tt=>L(tt)&&K(tt.abort)&&K(tt.getWriter))(tt)||(tt=>L(tt)&&K(tt.end)&&K(tt.write)&&W(tt.writable))(tt),ut=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Ft=/^([-\w.]+\/[-\w.+]+)/;function I(tt){const re=ut.exec(tt);return re?re[1]:""}var V=/\?.*/;function Pe(tt){return tt.replace(V,"")}function ke(tt){return $(tt)?tt.url:j(tt)?tt.name||"":"string"==typeof tt?tt:""}function xt(tt){if($(tt)){const re=tt,ce=re.headers.get("content-type")||"",Je=Pe(re.url);return function ve(tt){const re=Ft.exec(tt);return re?re[1]:tt}(ce)||I(Je)}return j(tt)?tt.type||"":"string"==typeof tt?I(tt):""}function ln(tt){return Bt.apply(this,arguments)}function Bt(){return Bt=r(function*(tt){if($(tt))return tt;const re={},ce=function Ht(tt){return $(tt)?tt.headers["content-length"]||-1:j(tt)?tt.size:"string"==typeof tt?tt.length:tt instanceof ArrayBuffer||ArrayBuffer.isView(tt)?tt.byteLength:-1}(tt);ce>=0&&(re["content-length"]=String(ce));const Je=ke(tt),Le=xt(tt);Le&&(re["content-type"]=Le);const Wt=yield function P(tt){return B.apply(this,arguments)}(tt);Wt&&(re["x-first-bytes"]=Wt),"string"==typeof tt&&(tt=(new TextEncoder).encode(tt));const yr=new Response(tt,{headers:re});return Object.defineProperty(yr,"url",{value:Je}),yr}),Bt.apply(this,arguments)}function Ye(tt){return Ze.apply(this,arguments)}function Ze(){return Ze=r(function*(tt){if(!tt.ok){const re=yield function Ot(tt){return ye.apply(this,arguments)}(tt);throw new Error(re)}}),Ze.apply(this,arguments)}function ye(){return ye=r(function*(tt){let re=`Failed to fetch resource ${tt.url} (${tt.status}): `;try{const ce=tt.headers.get("Content-Type");let Je=tt.statusText;ce?.includes("application/json")&&(Je+=` ${yield tt.text()}`),re+=Je,re=re.length>60?`${re.slice(0,60)}...`:re}catch{}return re}),ye.apply(this,arguments)}function B(){return B=r(function*(tt){if("string"==typeof tt)return`data:,${tt.slice(0,5)}`;if(tt instanceof Blob){const ce=tt.slice(0,5);return yield new Promise(Je=>{const Le=new FileReader;Le.onload=Wt=>{var yr;return Je(null==(yr=Wt?.target)?void 0:yr.result)},Le.readAsDataURL(ce)})}return tt instanceof ArrayBuffer?`data:base64,${function R(tt){let re="";const ce=new Uint8Array(tt);for(let Je=0;Je<ce.byteLength;Je++)re+=String.fromCharCode(ce[Je]);return btoa(re)}(tt.slice(0,5))}`:null}),B.apply(this,arguments)}function M(tt,re){return Z.apply(this,arguments)}function Z(){return Z=r(function*(tt,re){var ce,Je;if("string"==typeof tt){const Le=(0,D.resolvePath)(tt);return function N(tt){return!function Y(tt){return tt.startsWith("http:")||tt.startsWith("https:")}(tt)&&!function h(tt){return tt.startsWith("data:")}(tt)}(Le)&&null!=(ce=globalThis.loaders)&&ce.fetchNode?null==(Je=globalThis.loaders)?void 0:Je.fetchNode(Le,re):yield fetch(Le,re)}return yield ln(tt)}),Z.apply(this,arguments)}function z(tt,re,ce){return H.apply(this,arguments)}function H(){return H=r(function*(tt,re,ce){tt instanceof Blob||(tt=new Blob([tt]));const Je=tt.slice(re,re+ce);return yield function X(tt){return oe.apply(this,arguments)}(Je)}),H.apply(this,arguments)}function oe(){return oe=r(function*(tt){return yield new Promise((re,ce)=>{const Je=new FileReader;Je.onload=Le=>{var Wt;return re(null==(Wt=Le?.target)?void 0:Wt.result)},Je.onerror=Le=>ce(Le),Je.readAsArrayBuffer(tt)})}),oe.apply(this,arguments)}var rt=new(w(9243).Log)({id:"loaders.gl"}),ft=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},Ge=w(8690),Ct={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){this.console=console}log(...tt){return this.console.log.bind(this.console,...tt)}info(...tt){return this.console.info.bind(this.console,...tt)}warn(...tt){return this.console.warn.bind(this.console,...tt)}error(...tt){return this.console.error.bind(this.console,...tt)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:Ge.isBrowser,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},dt={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function At(){globalThis.loaders=globalThis.loaders||{};const{loaders:tt}=globalThis;return tt._state=tt._state||{},tt._state}function Qt(){const tt=At();return tt.globalOptions=tt.globalOptions||{...Ct},tt.globalOptions}function Ke(tt){const re=At(),ce=Qt();re.globalOptions=Xt(ce,tt)}function pt(tt,re,ce,Je){return ce=ce||[],function Tt(tt,re){$e(tt,null,Ct,dt,re);for(const ce of re)$e(tt&&tt[ce.id]||{},ce.id,ce.options&&ce.options[ce.id]||{},ce.deprecatedOptions&&ce.deprecatedOptions[ce.id]||{},re)}(tt,ce=Array.isArray(ce)?ce:[ce]),Xt(re,tt,Je)}function $e(tt,re,ce,Je,Le){const Wt=re||"Top level",yr=re?`${re}.`:"";for(const ti in tt){const _o=!re&&L(tt[ti]);if(!(ti in ce)&&("baseUri"!==ti||re)&&("workerUrl"!==ti||!re))if(ti in Je)rt.warn(`${Wt} loader option '${yr}${ti}' no longer supported, use '${Je[ti]}'`)();else if(!_o){const Re=Lt(ti,Le);rt.warn(`${Wt} loader option '${yr}${ti}' not recognized. ${Re}`)()}}}function Lt(tt,re){const ce=tt.toLowerCase();let Je="";for(const Le of re)for(const Wt in Le.options){if(tt===Wt)return`Did you mean '${Le.id}.${Wt}'?`;const yr=Wt.toLowerCase();(ce.startsWith(yr)||yr.startsWith(ce))&&(Je=Je||`Did you mean '${Le.id}.${Wt}'?`)}return Je}function Xt(tt,re,ce){const Le={...tt.options||{}};return function Ln(tt,re){re&&!("baseUri"in tt)&&(tt.baseUri=re)}(Le,ce),null===Le.log&&(Le.log=new ft),gn(Le,Qt()),gn(Le,re),Le}function gn(tt,re){for(const ce in re)ce in re&&(tt[ce]=ie(re[ce])&&ie(tt[ce])?{...tt[ce],...re[ce]}:re[ce])}var $n=w(8690);function gr(tt){return!!tt&&(Array.isArray(tt)&&(tt=tt[0]),Array.isArray(tt?.extensions))}function sn(tt){let re;return(0,$n.assert)(tt,"null loader"),(0,$n.assert)(gr(tt),"invalid loader"),Array.isArray(tt)&&(re=tt[1],tt=tt[0],tt={...tt,options:{...tt.options,...re}}),(tt?.parseTextSync||tt?.parseText)&&(tt.text=!0),tt.text||(tt.binary=!0),tt}var St=()=>{const tt=At();return tt.loaderRegistry=tt.loaderRegistry||[],tt.loaderRegistry};function Fe(tt){const re=St();tt=Array.isArray(tt)?tt:[tt];for(const ce of tt){const Je=sn(ce);re.find(Le=>Je===Le)||re.unshift(Je)}}function Ce(){At().loaderRegistry=[]}var me=w(8690),Me=new(w(9243).Log)({id:"loaders.gl"}),We=/\.([^.]+)$/;function Gt(tt){return Kt.apply(this,arguments)}function Kt(){return Kt=r(function*(tt,re=[],ce,Je){if(!Cn(tt))return null;let Le=On(tt,re,{...ce,nothrow:!0},Je);if(Le)return Le;if(j(tt)&&(Le=On(tt=yield tt.slice(0,10).arrayBuffer(),re,ce,Je)),!Le&&!ce?.nothrow)throw new Error(tr(tt));return Le}),Kt.apply(this,arguments)}function On(tt,re=[],ce,Je){if(!Cn(tt))return null;if(re&&!Array.isArray(re))return sn(re);let Le=[];re&&(Le=Le.concat(re)),ce?.ignoreRegisteredLoaders||Le.push(...function Ue(){return St()}()),function Er(tt){for(const re of tt)sn(re)}(Le);const Wt=function vr(tt,re,ce,Je){const Le=ke(tt),Wt=xt(tt),yr=Pe(Le)||Je?.url;let ti=null,_o="";return ce?.mimeType&&(ti=_n(re,ce?.mimeType),_o=`match forced by supplied MIME type ${ce?.mimeType}`),ti=ti||function _r(tt,re){const ce=re&&We.exec(re),Je=ce&&ce[1];return Je?function sr(tt,re){re=re.toLowerCase();for(const ce of tt)for(const Je of ce.extensions)if(Je.toLowerCase()===re)return ce;return null}(tt,Je):null}(re,yr),_o=_o||(ti?`matched url ${yr}`:""),ti=ti||_n(re,Wt),_o=_o||(ti?`matched MIME type ${Wt}`:""),ti=ti||function _i(tt,re){if(!re)return null;for(const ce of tt)if("string"==typeof re){if(Ii(re,ce))return ce}else if(ArrayBuffer.isView(re)){if(so(re.buffer,re.byteOffset,ce))return ce}else if(re instanceof ArrayBuffer&&so(re,0,ce))return ce;return null}(re,tt),_o=_o||(ti?`matched initial data ${ii(tt)}`:""),ce?.fallbackMimeType&&(ti=ti||_n(re,ce?.fallbackMimeType),_o=_o||(ti?`matched fallback MIME type ${Wt}`:"")),_o&&Me.log(1,`selectLoader selected ${ti?.name}: ${_o}.`),ti}(tt,Le,ce,Je);if(!Wt&&!ce?.nothrow)throw new Error(tr(tt));return Wt}function Cn(tt){return!(tt instanceof Response&&204===tt.status)}function tr(tt){const re=ke(tt),ce=xt(tt);let Je="No valid loader found (";Je+=re?`${me.path.filename(re)}, `:"no url provided, ",Je+=`MIME type: ${ce?`"${ce}"`:"not provided"}, `;const Le=tt?ii(tt):"";return Je+=Le?` first bytes: "${Le}"`:"first bytes: not available",Je+=")",Je}function _n(tt,re){for(const ce of tt)if(ce.mimeTypes&&ce.mimeTypes.includes(re)||re===`application/x.${ce.id}`)return ce;return null}function Ii(tt,re){return re.testText?re.testText(tt):(Array.isArray(re.tests)?re.tests:[re.tests]).some(Je=>tt.startsWith(Je))}function so(tt,re,ce){return(Array.isArray(ce.tests)?ce.tests:[ce.tests]).some(Le=>function Cr(tt,re,ce,Je){if(Je instanceof ArrayBuffer)return(0,me.compareArrayBuffers)(Je,tt,Je.byteLength);switch(typeof Je){case"function":return Je(tt);case"string":return Je===Or(tt,re,Je.length);default:return!1}}(tt,re,0,Le))}function ii(tt,re=5){return"string"==typeof tt?tt.slice(0,re):ArrayBuffer.isView(tt)?Or(tt.buffer,tt.byteOffset,re):tt instanceof ArrayBuffer?Or(tt,0,re):""}function Or(tt,re,ce){if(tt.byteLength<re+ce)return"";const Je=new DataView(tt);let Le="";for(let Wt=0;Wt<ce;Wt++)Le+=String.fromCharCode(Je.getUint8(re+Wt));return Le}var fi=w(8690),Yi=w(3827),ho=w(8690),Vi=w(8690),Qi=262144,_t=262144,_e=1048576;function on(){return on=E(function*(tt,re){const ce=re?.chunkSize||_e;let Je=0;for(;Je<tt.size;){const Le=Je+ce,Wt=yield b(tt.slice(Je,Le).arrayBuffer());Je=Le,yield Wt}}),on.apply(this,arguments)}var Un=w(8690);function qn(tt,re){return Un.isBrowser?function Gr(tt,re){return Ai.apply(this,arguments)}(tt,re):function Mi(tt,re){return pi.apply(this,arguments)}(tt,re)}function Ai(){return Ai=E(function*(tt,re){const ce=tt.getReader();let Je;try{for(;;){const Le=Je||ce.read();re?._streamReadAhead&&(Je=ce.read());const{done:Wt,value:yr}=yield b(Le);if(Wt)return;yield(0,Un.toArrayBuffer)(yr)}}catch{ce.releaseLock()}}),Ai.apply(this,arguments)}function pi(){return pi=E(function*(tt,re){var Le,ce=!1,Je=!1;try{for(var yr,Wt=f(tt);ce=!(yr=yield b(Wt.next())).done;ce=!1){const ti=yr.value;yield(0,Un.toArrayBuffer)(ti)}}catch(ti){Je=!0,Le=ti}finally{try{ce&&null!=Wt.return&&(yield b(Wt.return()))}finally{if(Je)throw Le}}}),pi.apply(this,arguments)}function di(tt,re){if("string"==typeof tt)return function*Ve(tt,re){const ce=re?.chunkSize||Qi;let Je=0;const Le=new TextEncoder;for(;Je<tt.length;){const Wt=Math.min(tt.length-Je,ce),yr=tt.slice(Je,Je+Wt);Je+=Wt,yield Le.encode(yr)}}(tt,re);if(tt instanceof ArrayBuffer)return function*an(tt,re={}){const{chunkSize:ce=_t}=re;let Je=0;for(;Je<tt.byteLength;){const Le=Math.min(tt.byteLength-Je,ce),Wt=new ArrayBuffer(Le),yr=new Uint8Array(tt,Je,Le);new Uint8Array(Wt).set(yr),Je+=Le,yield Wt}}(tt,re);if(j(tt))return function Dt(tt,re){return on.apply(this,arguments)}(tt,re);if(nt(tt))return qn(tt,re);if($(tt))return qn(tt.body,re);throw new Error("makeIterator")}var Zt="Cannot convert supplied data type";function Tn(tt,re,ce){if(re.text&&"string"==typeof tt)return tt;if(Q(tt)&&(tt=tt.buffer),tt instanceof ArrayBuffer){const Je=tt;return re.text&&!re.binary?new TextDecoder("utf8").decode(Je):Je}if(ArrayBuffer.isView(tt)){if(re.text&&!re.binary)return new TextDecoder("utf8").decode(tt);let Je=tt.buffer;const Le=tt.byteLength||tt.length;return(0!==tt.byteOffset||Le!==Je.byteLength)&&(Je=Je.slice(tt.byteOffset,tt.byteOffset+Le)),Je}throw new Error(Zt)}function hr(){return hr=r(function*(tt,re,ce){const Je=tt instanceof ArrayBuffer||ArrayBuffer.isView(tt);if("string"==typeof tt||Je)return Tn(tt,re);if(j(tt)&&(tt=yield ln(tt)),$(tt)){const Le=tt;return yield Ye(Le),re.binary?yield Le.arrayBuffer():yield Le.text()}if(nt(tt)&&(tt=di(tt,ce)),le(tt)||fe(tt))return(0,Vi.concatenateArrayBuffersAsync)(tt);throw new Error(Zt)}),hr.apply(this,arguments)}function qr(){return qr=r(function*(tt,re){if(q(tt))return tt;if($(tt)){const ce=tt;return yield Ye(ce),di(yield ce.body,re)}return j(tt)||nt(tt)?di(tt,re):fe(tt)?tt:function Bi(tt){if(ArrayBuffer.isView(tt))return function*(){yield tt.buffer}();if(tt instanceof ArrayBuffer)return function*(){yield tt}();if(q(tt))return tt;if(le(tt))return tt[Symbol.iterator]();throw new Error(Zt)}(tt)}),qr.apply(this,arguments)}function hi(tt,re){const ce=Qt(),Je=tt||ce;return"function"==typeof Je.fetch?Je.fetch:L(Je.fetch)?Le=>M(Le,Je.fetch):re?.fetch?re?.fetch:M}var po=w(8690);function Ro(tt,re,ce){if(ce)return ce;const Je={fetch:hi(re,tt),...tt};if(Je.url){const Le=Pe(Je.url);Je.baseUrl=Le,Je.queryString=function ge(tt){const re=tt.match(V);return re&&re[0]}(Je.url),Je.filename=po.path.filename(Le),Je.baseUrl=po.path.dirname(Le)}return Array.isArray(Je.loaders)||(Je.loaders=null),Je}function Ji(tt,re){if(tt&&!Array.isArray(tt))return tt;let ce;if(tt&&(ce=Array.isArray(tt)?tt:[tt]),re&&re.loaders){const Je=Array.isArray(re.loaders)?re.loaders:[re.loaders];ce=ce?[...ce,...Je]:Je}return ce&&ce.length?ce:void 0}function Yt(tt,re,ce,Je){return un.apply(this,arguments)}function un(){return un=r(function*(tt,re,ce,Je){re&&!Array.isArray(re)&&!gr(re)&&(Je=void 0,ce=re,re=void 0),ce=ce||{};const Le=ke(tt=yield tt),yr=Ji(re,Je),ti=yield Gt(tt,yr,ce);return ti?(Je=Ro({url:Le,_parse:Yt,loaders:yr},ce=pt(ce,ti,yr,Le),Je||null),yield function Xn(tt,re,ce,Je){return Rr.apply(this,arguments)}(ti,tt,ce,Je)):null}),un.apply(this,arguments)}function Rr(){return Rr=r(function*(tt,re,ce,Je){if((0,Yi.validateWorkerVersion)(tt),ce=(0,ho.mergeLoaderOptions)(tt.options,ce),$(re)){const Wt=re,{ok:yr,redirected:ti,status:_o,statusText:rn,type:pe,url:Re}=Wt,bt=Object.fromEntries(Wt.headers.entries());Je.response={headers:bt,ok:yr,redirected:ti,status:_o,statusText:rn,type:pe,url:Re}}re=yield function Hn(tt,re,ce){return hr.apply(this,arguments)}(re,tt,ce);const Le=tt;if(Le.parseTextSync&&"string"==typeof re)return Le.parseTextSync(re,ce,Je);if((0,fi.canParseWithWorker)(tt,ce))return yield(0,fi.parseWithWorker)(tt,re,ce,Je,Yt);if(Le.parseText&&"string"==typeof re)return yield Le.parseText(re,ce,Je);if(Le.parse)return yield Le.parse(re,ce,Je);throw(0,Yi.assert)(!Le.parseSync),new Error(`${tt.id} loader - no parser found and worker is disabled`)}),Rr.apply(this,arguments)}function ci(tt,re,ce,Je){!Array.isArray(re)&&!gr(re)&&(Je=void 0,ce=re,re=void 0),ce=ce||{};const Wt=Ji(re,Je),yr=On(tt,Wt,ce);if(!yr)return null;const _o=()=>{throw new Error("parseSync called parse (which is async")};return function $i(tt,re,ce,Je){if(re=Tn(re,tt),tt.parseTextSync&&"string"==typeof re)return tt.parseTextSync(re,ce);if(tt.parseSync&&re instanceof ArrayBuffer)return tt.parseSync(re,ce,Je);throw new Error(`${tt.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${Je.url||""}`)}(yr,tt,ce=pt(ce,yr,Wt),Je=Ro({url:ke(tt),_parseSync:_o,_parse:_o,loaders:re},ce,Je||null))}var Ao=w(7526),go=w(8690);function ko(tt,re,ce,Je){return Yo.apply(this,arguments)}function Yo(){return Yo=r(function*(tt,re,ce,Je){const Le=Array.isArray(re)?re:void 0;!Array.isArray(re)&&!gr(re)&&(Je=void 0,ce=re,re=void 0),ce=ce||{};const Wt=ke(tt=yield tt),yr=yield Gt(tt,re,ce);return yr?(Je=Ro({url:Wt,_parseInBatches:ko,_parse:Yt,loaders:Le},ce=pt(ce,yr,Le,Wt),Je||null),yield function Po(tt,re,ce,Je){return ss.apply(this,arguments)}(yr,tt,ce,Je)):[]}),Yo.apply(this,arguments)}function ss(){return ss=r(function*(tt,re,ce,Je){const Le=yield function as(tt,re,ce,Je){return Cs.apply(this,arguments)}(tt,re,ce,Je);if(!ce.metadata)return Le;const Wt={shape:"metadata",batchType:"metadata",metadata:{_loader:tt,_context:Je},data:[],bytesUsed:0};function ti(){return(ti=E(function*(_o){yield Wt,yield*x(f(_o),b)})).apply(this,arguments)}return function yr(_o){return ti.apply(this,arguments)}(Le)}),ss.apply(this,arguments)}function Cs(){return Cs=r(function*(tt,re,ce,Je){const Le=yield function Dr(tt,re){return qr.apply(this,arguments)}(re,ce),Wt=yield function jn(tt){return Zn.apply(this,arguments)}(Le,ce?.transforms||[]);return tt.parseInBatches?tt.parseInBatches(Wt,ce,Je):function ts(tt,re,ce,Je){return Jo.apply(this,arguments)}(Wt,tt,ce,Je)}),Cs.apply(this,arguments)}function Jo(){return Jo=E(function*(tt,re,ce,Je){const Le=yield b((0,go.concatenateArrayBuffersAsync)(tt)),Wt=yield b(Yt(Le,re,{...ce,mimeType:re.mimeTypes[0]},Je));yield function Us(tt,re){const ce=(0,Ao.isTable)(tt)?(0,Ao.makeBatchFromTable)(tt):{shape:"unknown",batchType:"data",data:tt,length:Array.isArray(tt)?tt.length:1};return ce.mimeType=re.mimeTypes[0],ce}(Wt,re)}),Jo.apply(this,arguments)}function Zn(){return Zn=r(function*(tt,re=[]){let ce=tt;var Wt,Je=!1,Le=!1;try{for(var ti,yr=f(re);Je=!(ti=yield yr.next()).done;Je=!1)ce=(0,ti.value)(ce)}catch(_o){Le=!0,Wt=_o}finally{try{Je&&null!=yr.return&&(yield yr.return())}finally{if(Le)throw Wt}}return ce}),Zn.apply(this,arguments)}function Vr(tt,re,ce,Je){return Ti.apply(this,arguments)}function Ti(){return Ti=r(function*(tt,re,ce,Je){let Le,Wt;Array.isArray(re)||gr(re)?(Le=re,Wt=ce):(Le=[],Wt=re);const yr=hi(Wt);let ti=tt;return"string"==typeof tt&&(ti=yield yr(tt)),j(tt)&&(ti=yield yr(tt)),Array.isArray(Le),yield Yt(ti,Le,Wt)}),Ti.apply(this,arguments)}function qi(tt,re,ce,Je){let Le;Array.isArray(re)||gr(re)?Le=re:(ce=re,Le=void 0);const Wt=hi(ce||{});return Array.isArray(tt)?tt.map(ti=>Co(ti,Le,ce||{},Wt)):Co(tt,Le,ce||{},Wt)}function Co(tt,re,ce,Je){return Ni.apply(this,arguments)}function Ni(){return Ni=r(function*(tt,re,ce,Je){if("string"==typeof tt){const Wt=yield Je(tt);return Array.isArray(re),yield ko(Wt,re,ce)}return Array.isArray(re),yield ko(tt,re,ce)}),Ni.apply(this,arguments)}var ji=w(8690);function co(tt,re,ce){return Lo.apply(this,arguments)}function Lo(){return Lo=r(function*(tt,re,ce){if(re.encode)return yield re.encode(tt,ce);if(re.encodeText){const _o=yield re.encodeText(tt,ce);return(new TextEncoder).encode(_o)}if(re.encodeInBatches){const _o=ta(tt,re,ce),rn=[];var Wt,Je=!1,Le=!1;try{for(var ti,yr=f(_o);Je=!(ti=yield yr.next()).done;Je=!1)rn.push(ti.value)}catch(pe){Le=!0,Wt=pe}finally{try{Je&&null!=yr.return&&(yield yr.return())}finally{if(Le)throw Wt}}return(0,ji.concatenateArrayBuffers)(...rn)}throw new Error("Writer could not encode data")}),Lo.apply(this,arguments)}function lo(tt,re,ce){return Qo.apply(this,arguments)}function Qo(){return Qo=r(function*(tt,re,ce){if(re.text&&re.encodeText)return yield re.encodeText(tt,ce);if(re.text){const Je=yield co(tt,re,ce);return(new TextDecoder).decode(Je)}throw new Error(`Writer ${re.name} could not encode data as text`)}),Qo.apply(this,arguments)}function ta(tt,re,ce){if(re.encodeInBatches){const Je=function Ws(tt){return[{...tt,start:0,end:tt.length}]}(tt);return re.encodeInBatches(Je,ce)}throw new Error("Writer could not encode data in batches")}var cs=w(8690),Ns=w(3827),ns=w(8690);function Ks(tt,re,ce){return Go.apply(this,arguments)}function Go(){return Go=r(function*(tt,re,ce){return ce={...Qt(),...ce},re.encodeURLtoURL?function Jn(tt,re,ce){return rr.apply(this,arguments)}(re,tt,ce):(0,cs.canEncodeWithWorker)(re,ce)?yield(0,Ns.processOnWorker)(re,tt,ce):yield re.encode(tt,ce)}),Go.apply(this,arguments)}function Aa(tt,re,ce){if(re.encodeSync)return re.encodeSync(tt,ce);if(re.encodeTextSync)return(new TextEncoder).encode(re.encodeTextSync(tt,ce));throw new Error(`Writer ${re.name} could not synchronously encode data`)}function oa(tt,re,ce){return Ko.apply(this,arguments)}function Ko(){return Ko=r(function*(tt,re,ce){if(re.encodeText)return yield re.encodeText(tt,ce);if(re.encodeTextSync)return re.encodeTextSync(tt,ce);if(re.text){const Je=yield re.encode(tt,ce);return(new TextDecoder).decode(Je)}throw new Error(`Writer ${re.name} could not encode data as text`)}),Ko.apply(this,arguments)}function Fs(tt,re,ce){if(re.encodeTextSync)return re.encodeTextSync(tt,ce);if(re.text&&re.encodeSync){const Je=Aa(tt,re,ce);return(new TextDecoder).decode(Je)}throw new Error(`Writer ${re.name} could not encode data as text`)}function Vs(tt,re,ce){if(re.encodeInBatches){const Je=function ur(tt){return[{...tt,start:0,end:tt.length}]}(tt);return re.encodeInBatches(Je,ce)}throw new Error(`Writer ${re.name} could not encode in batches`)}function ds(tt,re,ce,Je){return Xs.apply(this,arguments)}function Xs(){return Xs=r(function*(tt,re,ce,Je){if(tt=(0,cs.resolvePath)(tt),re=(0,cs.resolvePath)(re),ns.isBrowser||!ce.encodeURLtoURL)throw new Error;return yield ce.encodeURLtoURL(tt,re,Je)}),Xs.apply(this,arguments)}function rr(){return rr=r(function*(tt,re,ce){if(ns.isBrowser)throw new Error(`Writer ${tt.name} not supported in browser`);const Je=Ar("input");yield new cs.NodeFile(Je,"w").write(re);const Wt=Ar("output"),yr=yield ds(Je,Wt,tt,ce);return(yield M(yr)).arrayBuffer()}),rr.apply(this,arguments)}function Ar(tt){return`/tmp/${tt}`}var Di=w(8690),mt=w(8690);function mn(tt,re){if(globalThis.loaders.makeNodeStream)return globalThis.loaders.makeNodeStream(tt,re);const ce=tt[Symbol.asyncIterator]?tt[Symbol.asyncIterator]():tt[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:Je=>r(function*(){try{const{done:Le,value:Wt}=yield ce.next();Le?Je.close():Je.enqueue(new Uint8Array(Wt))}catch(Le){Je.error(Le)}})(),cancel:()=>r(function*(){var Je;yield null==(Je=ce?.return)?void 0:Je.call(ce)})()},{highWaterMark:2**24,...re})}var Ut=typeof __VERSION__<"u"?__VERSION__:"latest",dn={name:"Null loader",id:"null",module:"core",version:Ut,worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[()=>!1],options:{null:{}}},Xe={name:"Null loader",id:"null",module:"core",version:Ut,mimeTypes:["application/x.empty"],extensions:["null"],parse:function(){var tt=r(function*(re,ce,Je){return null});return function(ce,Je,Le){return tt.apply(this,arguments)}}(),parseSync:function Rt(tt,re,ce){return null},parseInBatches:function(){var tt=E(function*(ce,Je,Le){var ti,Wt=!1,yr=!1;try{for(var _o=f(ce);Wt=!(yield b(_o.next())).done;Wt=!1)yield null}catch(pe){yr=!0,ti=pe}finally{try{Wt&&null!=_o.return&&(yield b(_o.return()))}finally{if(yr)throw ti}}});return function re(ce,Je,Le){return tt.apply(this,arguments)}}(),tests:[()=>!1],options:{null:{}}};var qt=w(8690);function zn(tt,re){return fr.apply(this,arguments)}function fr(){return fr=r(function*(tt,re,ce=(()=>{}),Je=(()=>{})){if(!(tt=yield tt).ok)return tt;const Le=tt.body;if(!Le)return tt;const Wt=tt.headers.get("content-length")||0,yr=Wt?parseInt(Wt):0;if(!(yr>0)||typeof ReadableStream>"u"||!Le.getReader)return tt;const ti=new ReadableStream({start:_o=>r(function*(){const rn=Le.getReader();yield mr(_o,rn,0,yr,re,ce,Je)})()});return new Response(ti)}),fr.apply(this,arguments)}function mr(tt,re,ce,Je,Le,Wt,yr){return $r.apply(this,arguments)}function $r(){return $r=r(function*(tt,re,ce,Je,Le,Wt,yr){try{const{done:ti,value:_o}=yield re.read();if(ti)return Wt(),void tt.close();ce+=_o.byteLength,Le(Math.round(ce/Je*100),{loadedBytes:ce,totalBytes:Je}),tt.enqueue(_o),yield mr(tt,re,ce,Je,Le,Wt,yr)}catch(ti){tt.error(ti),yr(ti)}}),$r.apply(this,arguments)}var jr=w(8690),li=class{constructor(tt,re){this.files={},this.lowerCaseFiles={},this.usedFiles={},this._fetch=re?.fetch||fetch;for(let ce=0;ce<tt.length;++ce){const Je=tt[ce];this.files[Je.name]=Je,this.lowerCaseFiles[Je.name.toLowerCase()]=Je,this.usedFiles[Je.name]=!1}this.fetch=this.fetch.bind(this)}fetch(tt,re){var ce=this;return r(function*(){if(tt.includes("://"))return ce._fetch(tt,re);const Je=ce.files[tt];if(!Je)return new Response(tt,{status:400,statusText:"NOT FOUND"});const Wt=new Headers(re?.headers).get("Range"),yr=Wt&&/bytes=($1)-($2)/.exec(Wt);if(yr){const _o=parseInt(yr[1]),rn=parseInt(yr[2]),pe=yield Je.slice(_o,rn).arrayBuffer(),Re=new Response(pe);return Object.defineProperty(Re,"url",{value:tt}),Re}const ti=new Response(Je);return Object.defineProperty(ti,"url",{value:tt}),ti})()}readdir(tt){var re=this;return r(function*(){const ce=[];for(const Je in re.files)ce.push(Je);return ce})()}stat(tt,re){var ce=this;return r(function*(){const Je=ce.files[tt];if(!Je)throw new Error(tt);return{size:Je.size}})()}unlink(tt){var re=this;return r(function*(){delete re.files[tt],delete re.lowerCaseFiles[tt],re.usedFiles[tt]=!0})()}openReadableFile(tt,re){var ce=this;return r(function*(){return new jr.BlobFile(ce.files[tt])})()}_getFile(tt,re){const ce=this.files[tt]||this.lowerCaseFiles[tt];return ce&&re&&(this.usedFiles[tt]=!0),ce}},Wr=w(8690),eo=w(8690),yo=w(8690),Mo=w(8690)},6848:(en,ot,w)=>{"use strict";var Z,r=w(1049).default,x=Object.defineProperty,f=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,S={};((Z,z)=>{for(var H in z)x(Z,H,{get:z[H],enumerable:!0})})(S,{DRACO_EXTERNAL_LIBRARIES:()=>Qe,DRACO_EXTERNAL_LIBRARY_URLS:()=>nt,DracoLoader:()=>Y,DracoWorkerLoader:()=>O,DracoWriter:()=>P,DracoWriterWorker:()=>N}),en.exports=(Z=S,((Z,z,H,X)=>{if(z&&"object"==typeof z||"function"==typeof z)for(let oe of b(z))!E.call(Z,oe)&&undefined!==oe&&x(Z,oe,{get:()=>z[oe],enumerable:!(X=f(z,oe))||X.enumerable});return Z})(x({},"__esModule",{value:!0}),Z));var U=typeof __VERSION__<"u"?__VERSION__:"latest",O={name:"Draco",id:"draco",module:"draco",version:U,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},y=w(7526),_=w(7526);function K(Z,z,H){const X=H?L(H.metadata):void 0;return(0,_.deduceMeshField)(Z,z,X)}function L(Z){Object.entries(Z);const z={};for(const H in Z)z[`${H}.string`]=JSON.stringify(Z[H]);return z}var De,ut,ie={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},ae={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},fe=class{constructor(Z){this.draco=Z,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(Z,z={}){const H=new this.draco.DecoderBuffer;H.Init(new Int8Array(Z),Z.byteLength),this._disableAttributeTransforms(z);const X=this.decoder.GetEncodedGeometryType(H),oe=X===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let He;switch(X){case this.draco.TRIANGULAR_MESH:He=this.decoder.DecodeBufferToMesh(H,oe);break;case this.draco.POINT_CLOUD:He=this.decoder.DecodeBufferToPointCloud(H,oe);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!He.ok()||!oe.ptr){const dt=`DRACO decompression failed: ${He.error_msg()}`;throw new Error(dt)}const rt=this._getDracoLoaderData(oe,X,z),ft=this._getMeshData(oe,rt,z),It=(0,y.getMeshBoundingBox)(ft.attributes),Ge=function D(Z,z,H){const X=L(z.metadata),oe=[],He=function W(Z){const z={};for(const H in Z){const X=Z[H];z[X.name||"undefined"]=X}return z}(z.attributes);for(const rt in Z){const It=K(rt,Z[rt],He[rt]);oe.push(It)}if(H){const rt=K("indices",H);oe.push(rt)}return{fields:oe,metadata:X}}(ft.attributes,rt,ft.indices);return{loader:"draco",loaderData:rt,header:{vertexCount:oe.num_points(),boundingBox:It},...ft,schema:Ge}}finally{this.draco.destroy(H),oe&&this.draco.destroy(oe)}}_getDracoLoaderData(Z,z,H){const X=this._getTopLevelMetadata(Z),oe=this._getDracoAttributes(Z,H);return{geometry_type:z,num_attributes:Z.num_attributes(),num_points:Z.num_points(),num_faces:Z instanceof this.draco.Mesh?Z.num_faces():0,metadata:X,attributes:oe}}_getDracoAttributes(Z,z){const H={};for(let X=0;X<Z.num_attributes();X++){const oe=this.decoder.GetAttribute(Z,X),He=this._getAttributeMetadata(Z,X);H[oe.unique_id()]={unique_id:oe.unique_id(),attribute_type:oe.attribute_type(),data_type:oe.data_type(),num_components:oe.num_components(),byte_offset:oe.byte_offset(),byte_stride:oe.byte_stride(),normalized:oe.normalized(),attribute_index:X,metadata:He};const rt=this._getQuantizationTransform(oe,z);rt&&(H[oe.unique_id()].quantization_transform=rt);const ft=this._getOctahedronTransform(oe,z);ft&&(H[oe.unique_id()].octahedron_transform=ft)}return H}_getMeshData(Z,z,H){const X=this._getMeshAttributes(z,Z,H);if(!X.POSITION)throw new Error("DRACO: No position attribute found.");return Z instanceof this.draco.Mesh?"triangle-strip"===H.topology?{topology:"triangle-strip",mode:4,attributes:X,indices:{value:this._getTriangleStripIndices(Z),size:1}}:{topology:"triangle-list",mode:5,attributes:X,indices:{value:this._getTriangleListIndices(Z),size:1}}:{topology:"point-list",mode:0,attributes:X}}_getMeshAttributes(Z,z,H){const X={};for(const oe of Object.values(Z.attributes)){const He=this._deduceAttributeName(oe,H);oe.name=He;const{value:rt,size:ft}=this._getAttributeValues(z,oe);X[He]={value:rt,size:ft,byteOffset:oe.byte_offset,byteStride:oe.byte_stride,normalized:oe.normalized}}return X}_getTriangleListIndices(Z){const H=3*Z.num_faces(),X=4*H,oe=this.draco._malloc(X);try{return this.decoder.GetTrianglesUInt32Array(Z,X,oe),new Uint32Array(this.draco.HEAPF32.buffer,oe,H).slice()}finally{this.draco._free(oe)}}_getTriangleStripIndices(Z){const z=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(Z,z),function j(Z){const z=Z.size(),H=new Int32Array(z);for(let X=0;X<z;X++)H[X]=Z.GetValue(X);return H}(z)}finally{this.draco.destroy(z)}}_getAttributeValues(Z,z){const H=ae[z.data_type],X=z.num_components,He=Z.num_points()*X,rt=He*H.BYTES_PER_ELEMENT,ft=function q(Z,z){switch(z){case Float32Array:return Z.DT_FLOAT32;case Int8Array:return Z.DT_INT8;case Int16Array:return Z.DT_INT16;case Int32Array:return Z.DT_INT32;case Uint8Array:return Z.DT_UINT8;case Uint16Array:return Z.DT_UINT16;case Uint32Array:return Z.DT_UINT32;default:return Z.DT_INVALID}}(this.draco,H);let It;const Ge=this.draco._malloc(rt);try{const Ct=this.decoder.GetAttribute(Z,z.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(Z,Ct,ft,rt,Ge),It=new H(this.draco.HEAPF32.buffer,Ge,He).slice()}finally{this.draco._free(Ge)}return{value:It,size:X}}_deduceAttributeName(Z,z){const H=Z.unique_id;for(const[He,rt]of Object.entries(z.extraAttributes||{}))if(rt===H)return He;const X=Z.attribute_type;for(const He in ie)if(this.draco[He]===X)return ie[He];const oe=z.attributeNameEntry||"name";return Z.metadata[oe]?Z.metadata[oe].string:`CUSTOM_ATTRIBUTE_${H}`}_getTopLevelMetadata(Z){const z=this.decoder.GetMetadata(Z);return this._getDracoMetadata(z)}_getAttributeMetadata(Z,z){const H=this.decoder.GetAttributeMetadata(Z,z);return this._getDracoMetadata(H)}_getDracoMetadata(Z){if(!Z||!Z.ptr)return{};const z={},H=this.metadataQuerier.NumEntries(Z);for(let X=0;X<H;X++){const oe=this.metadataQuerier.GetEntryName(Z,X);z[oe]=this._getDracoMetadataField(Z,oe)}return z}_getDracoMetadataField(Z,z){const H=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(Z,z,H);const X=function $(Z){const z=Z.size(),H=new Int32Array(z);for(let X=0;X<z;X++)H[X]=Z.GetValue(X);return H}(H);return{int:this.metadataQuerier.GetIntEntry(Z,z),string:this.metadataQuerier.GetStringEntry(Z,z),double:this.metadataQuerier.GetDoubleEntry(Z,z),intArray:X}}finally{this.draco.destroy(H)}}_disableAttributeTransforms(Z){const{quantizedAttributes:z=[],octahedronAttributes:H=[]}=Z,X=[...z,...H];for(const oe of X)this.decoder.SkipAttributeTransform(this.draco[oe])}_getQuantizationTransform(Z,z){const{quantizedAttributes:H=[]}=z,X=Z.attribute_type();if(H.map(He=>this.decoder[He]).includes(X)){const He=new this.draco.AttributeQuantizationTransform;try{if(He.InitFromAttribute(Z))return{quantization_bits:He.quantization_bits(),range:He.range(),min_values:new Float32Array([1,2,3]).map(rt=>He.min_value(rt))}}finally{this.draco.destroy(He)}}return null}_getOctahedronTransform(Z,z){const{octahedronAttributes:H=[]}=z,X=Z.attribute_type();if(H.map(He=>this.decoder[He]).includes(X)){const He=new this.draco.AttributeQuantizationTransform;try{if(He.InitFromAttribute(Z))return{quantization_bits:He.quantization_bits()}}finally{this.draco.destroy(He)}}return null}},Q=w(3827),Se="https://www.gstatic.com/draco/versioned/decoders/1.5.6",Qe={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},nt={[Qe.DECODER]:`${Se}/${Qe.DECODER}`,[Qe.DECODER_WASM]:`${Se}/${Qe.DECODER_WASM}`,[Qe.FALLBACK_DECODER]:`${Se}/${Qe.FALLBACK_DECODER}`,[Qe.ENCODER]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${Qe.ENCODER}`};function ve(){return ve=r(function*(Z){const z=Z.modules||{};return De=z.draco3d?De||z.draco3d.createDecoderModule({}).then(H=>({draco:H})):De||function ge(Z){return Pe.apply(this,arguments)}(Z),yield De}),ve.apply(this,arguments)}function V(){return V=r(function*(Z){const z=Z.modules||{};return ut=z.draco3d?ut||z.draco3d.createEncoderModule({}).then(H=>({draco:H})):ut||function xt(Z){return Ht.apply(this,arguments)}(Z),yield ut}),V.apply(this,arguments)}function Pe(){return Pe=r(function*(Z){let z,H;return"js"===(Z.draco&&Z.draco.decoderType)?z=yield(0,Q.loadLibrary)(nt[Qe.FALLBACK_DECODER],"draco",Z,Qe.FALLBACK_DECODER):[z,H]=yield Promise.all([yield(0,Q.loadLibrary)(nt[Qe.DECODER],"draco",Z,Qe.DECODER),yield(0,Q.loadLibrary)(nt[Qe.DECODER_WASM],"draco",Z,Qe.DECODER_WASM)]),z=z||globalThis.DracoDecoderModule,yield function ke(Z,z){const H={};return z&&(H.wasmBinary=z),new Promise(X=>{Z({...H,onModuleLoaded:oe=>X({draco:oe})})})}(z,H)}),Pe.apply(this,arguments)}function Ht(){return Ht=r(function*(Z){let z=yield(0,Q.loadLibrary)(nt[Qe.ENCODER],"draco",Z,Qe.ENCODER);return z=z||globalThis.DracoEncoderModule,new Promise(H=>{z({onModuleLoaded:X=>H({draco:X})})})}),Ht.apply(this,arguments)}var ln={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},Bt=()=>{},Ye=class{constructor(Z){this.draco=Z,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}destroy(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}destroyEncodedObject(Z){Z&&this.draco.destroy(Z)}encodeSync(Z,z={}){return this.log=Bt,this._setOptions(z),z.pointcloud?this._encodePointCloud(Z,z):this._encodeMesh(Z,z)}_getAttributesFromMesh(Z){const z={...Z,...Z.attributes};return Z.indices&&(z.indices=Z.indices),z}_encodePointCloud(Z,z){const H=new this.draco.PointCloud;z.metadata&&this._addGeometryMetadata(H,z.metadata);const X=this._getAttributesFromMesh(Z);this._createDracoPointCloud(H,X,z);const oe=new this.draco.DracoInt8Array;try{const He=this.dracoEncoder.EncodePointCloudToDracoBuffer(H,!1,oe);if(!(He>0))throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${H.num_points()} points\n        with ${H.num_attributes()} attributes into ${He} bytes`),Ze(oe)}finally{this.destroyEncodedObject(oe),this.destroyEncodedObject(H)}}_encodeMesh(Z,z){const H=new this.draco.Mesh;z.metadata&&this._addGeometryMetadata(H,z.metadata);const X=this._getAttributesFromMesh(Z);this._createDracoMesh(H,X,z);const oe=new this.draco.DracoInt8Array;try{const He=this.dracoEncoder.EncodeMeshToDracoBuffer(H,oe);if(He<=0)throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${H.num_points()} points\n        with ${H.num_attributes()} attributes into ${He} bytes`),Ze(oe)}finally{this.destroyEncodedObject(oe),this.destroyEncodedObject(H)}}_setOptions(Z){if("speed"in Z&&this.dracoEncoder.SetSpeedOptions(...Z.speed),"method"in Z&&this.dracoEncoder.SetEncodingMethod(this.draco[Z.method||"MESH_SEQUENTIAL_ENCODING"]),"quantization"in Z)for(const z in Z.quantization)this.dracoEncoder.SetAttributeQuantization(this.draco[z],Z.quantization[z])}_createDracoMesh(Z,z,H){const X=H.attributesMetadata||{};try{const oe=this._getPositionAttribute(z);if(!oe)throw new Error("positions");const He=oe.length/3;for(let rt in z){const ft=z[rt];rt=ln[rt]||rt;const It=this._addAttributeToMesh(Z,rt,ft,He);-1!==It&&this._addAttributeMetadata(Z,It,{name:rt,...X[rt]||{}})}}catch(oe){throw this.destroyEncodedObject(Z),oe}return Z}_createDracoPointCloud(Z,z,H){const X=H.attributesMetadata||{};try{const oe=this._getPositionAttribute(z);if(!oe)throw new Error("positions");const He=oe.length/3;for(let rt in z){const ft=z[rt];rt=ln[rt]||rt;const It=this._addAttributeToMesh(Z,rt,ft,He);-1!==It&&this._addAttributeMetadata(Z,It,{name:rt,...X[rt]||{}})}}catch(oe){throw this.destroyEncodedObject(Z),oe}return Z}_addAttributeToMesh(Z,z,H,X){if(!ArrayBuffer.isView(H))return-1;const oe=this._getDracoAttributeType(z),He=H.length/X;if("indices"===oe){const It=H.length/3;return this.log(`Adding attribute ${z}, size ${It}`),this.dracoMeshBuilder.AddFacesToMesh(Z,It,H),-1}this.log(`Adding attribute ${z}, size ${He}`);const rt=this.dracoMeshBuilder,{buffer:ft}=H;switch(H.constructor){case Int8Array:return rt.AddInt8Attribute(Z,oe,X,He,new Int8Array(ft));case Int16Array:return rt.AddInt16Attribute(Z,oe,X,He,new Int16Array(ft));case Int32Array:return rt.AddInt32Attribute(Z,oe,X,He,new Int32Array(ft));case Uint8Array:case Uint8ClampedArray:return rt.AddUInt8Attribute(Z,oe,X,He,new Uint8Array(ft));case Uint16Array:return rt.AddUInt16Attribute(Z,oe,X,He,new Uint16Array(ft));case Uint32Array:return rt.AddUInt32Attribute(Z,oe,X,He,new Uint32Array(ft));case Float32Array:default:return rt.AddFloatAttribute(Z,oe,X,He,new Float32Array(ft))}}_getDracoAttributeType(Z){switch(Z.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}_getPositionAttribute(Z){for(const z in Z){const H=Z[z];if(this._getDracoAttributeType(z)===this.draco.POSITION)return H}return null}_addGeometryMetadata(Z,z){const H=new this.draco.Metadata;this._populateDracoMetadata(H,z),this.dracoMeshBuilder.AddMetadata(Z,H)}_addAttributeMetadata(Z,z,H){const X=new this.draco.Metadata;this._populateDracoMetadata(X,H),this.dracoMeshBuilder.SetMetadataForAttribute(Z,z,X)}_populateDracoMetadata(Z,z){for(const[H,X]of function Ot(Z){return Z.entries&&!Z.hasOwnProperty("entries")?Z.entries():Object.entries(Z)}(z))switch(typeof X){case"number":Math.trunc(X)===X?this.dracoMetadataBuilder.AddIntEntry(Z,H,X):this.dracoMetadataBuilder.AddDoubleEntry(Z,H,X);break;case"object":X instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(Z,H,X,X.length);break;default:this.dracoMetadataBuilder.AddStringEntry(Z,H,X)}}};function Ze(Z){const z=Z.size(),H=new ArrayBuffer(z),X=new Int8Array(H);for(let oe=0;oe<z;++oe)X[oe]=Z.GetValue(oe);return H}var P={name:"DRACO",id:"draco",module:"draco",version:U,extensions:["drc"],options:{draco:{pointcloud:!1,attributeNameEntry:"name"}},encode:function B(Z){return R.apply(this,arguments)}};function R(){return R=r(function*(Z,z={}){const{draco:H}=yield function I(Z){return V.apply(this,arguments)}(z),X=new Ye(H);try{return X.encodeSync(Z,z.draco)}finally{X.destroy()}}),R.apply(this,arguments)}var N={id:"draco-writer",name:"Draco compressed geometry writer",module:"draco",version:U,worker:!0,options:{draco:{},source:null}},Y={...O,parse:function h(Z,z){return M.apply(this,arguments)}};function M(){return M=r(function*(Z,z){const{draco:H}=yield function Ft(Z){return ve.apply(this,arguments)}(z),X=new fe(H);try{return X.parseSync(Z,z?.draco)}finally{X.destroy()}}),M.apply(this,arguments)}},3128:(en,ot,w)=>{"use strict";var Te,r=w(1049).default,x=Object.defineProperty,f=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,C=(Te,et)=>{for(var ht in et)x(Te,ht,{get:et[ht],enumerable:!0})},S={};C(S,{EXT_FEATURE_METADATA:()=>gn,EXT_MESH_FEATURES:()=>ye,EXT_STRUCTURAL_METADATA:()=>M,GLBLoader:()=>Hi,GLBWriter:()=>er,GLTFLoader:()=>he,GLTFScenegraph:()=>nt,GLTFWriter:()=>Fr,_getMemoryUsageGLTF:()=>ee,postProcessGLTF:()=>js}),en.exports=(Te=S,((Te,et,ht,Vt)=>{if(et&&"object"==typeof et||"function"==typeof et)for(let yn of b(et))!E.call(Te,yn)&&undefined!==yn&&x(Te,yn,{get:()=>et[yn],enumerable:!(Vt=f(et,yn))||Vt.enumerable});return Te})(x({},"__esModule",{value:!0}),Te));var U={};C(U,{decode:()=>P,name:()=>ye});var O=w(4315),y=w(8690);function _(Te,et){if(!Te)throw new Error(et||"assert failed: gltf")}var D={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},W={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},K=1.33,L=["SCALAR","VEC2","VEC3","VEC4"],ie=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],ae=new Map(ie),le={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},fe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},q={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function $(Te){return L[Te-1]||L[0]}function j(Te){const et=ae.get(Te.constructor);if(!et)throw new Error("Illegal typed array");return et}function Q(Te,et){const ht=q[Te.componentType],Vt=le[Te.type],Wn=Te.count*Vt,ir=Te.count*Vt*fe[Te.componentType];return _(ir>=0&&ir<=et.byteLength),{ArrayType:ht,length:Wn,byteLength:ir,componentByteSize:W[Te.componentType],numberOfComponentsInElement:D[Te.type]}}function ee(Te){let{images:et,bufferViews:ht}=Te;et=et||[],ht=ht||[];const Vt=et.map(ir=>ir.bufferView);ht=ht.filter(ir=>!Vt.includes(ir));const yn=ht.reduce((ir,Ci)=>ir+Ci.byteLength,0),Wn=et.reduce((ir,Ci)=>{const{width:Li,height:io}=Ci.image;return ir+Li*io},0);return yn+Math.ceil(4*Wn*K)}var nt=class{constructor(Te){this.gltf={json:Te?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:Te?.buffers||[],images:Te?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(Te){return this.json[Te]}getExtraData(Te){return(this.json.extras||{})[Te]}hasExtension(Te){const et=this.getUsedExtensions().find(Vt=>Vt===Te),ht=this.getRequiredExtensions().find(Vt=>Vt===Te);return"string"==typeof et||"string"==typeof ht}getExtension(Te){return this.getUsedExtensions().find(Vt=>Vt===Te)?(this.json.extensions||{})[Te]:null}getRequiredExtension(Te){return this.getRequiredExtensions().find(ht=>ht===Te)?this.getExtension(Te):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(Te,et){return(Te.extensions||{})[et]}getScene(Te){return this.getObject("scenes",Te)}getNode(Te){return this.getObject("nodes",Te)}getSkin(Te){return this.getObject("skins",Te)}getMesh(Te){return this.getObject("meshes",Te)}getMaterial(Te){return this.getObject("materials",Te)}getAccessor(Te){return this.getObject("accessors",Te)}getTexture(Te){return this.getObject("textures",Te)}getSampler(Te){return this.getObject("samplers",Te)}getImage(Te){return this.getObject("images",Te)}getBufferView(Te){return this.getObject("bufferViews",Te)}getBuffer(Te){return this.getObject("buffers",Te)}getObject(Te,et){if("object"==typeof et)return et;const ht=this.json[Te]&&this.json[Te][et];if(!ht)throw new Error(`glTF file error: Could not find ${Te}[${et}]`);return ht}getTypedArrayForBufferView(Te){Te=this.getBufferView(Te);const ht=this.gltf.buffers[Te.buffer];return _(ht),new Uint8Array(ht.arrayBuffer,(Te.byteOffset||0)+ht.byteOffset,Te.byteLength)}getTypedArrayForAccessor(Te){const et=this.getAccessor(Te);return function Se(Te,et,ht){var Vt,yn;const Wn="number"==typeof ht?null==(Vt=Te.accessors)?void 0:Vt[ht]:ht;if(!Wn)throw new Error(`No gltf accessor ${JSON.stringify(ht)}`);const ir=null==(yn=Te.bufferViews)?void 0:yn[Wn.bufferView||0];if(!ir)throw new Error(`No gltf buffer view for accessor ${ir}`);const{arrayBuffer:Ci,byteOffset:Li}=et[ir.buffer],io=(Li||0)+(Wn.byteOffset||0)+(ir.byteOffset||0),{ArrayType:vo,length:Xo,componentByteSize:gs,numberOfComponentsInElement:Ms}=Q(Wn,ir),ca=gs*Ms,ya=ir.byteStride||ca;if(typeof ir.byteStride>"u"||ir.byteStride===ca)return new vo(Ci,io,Xo);const Ee=new vo(Xo);for(let yt=0;yt<Wn.count;yt++){const Sn=new vo(Ci,io+yt*ya,Ms);Ee.set(Sn,yt*Ms)}return Ee}(this.gltf.json,this.gltf.buffers,et)}getTypedArrayForImageData(Te){Te=this.getAccessor(Te);const et=this.getBufferView(Te.bufferView),Vt=this.getBuffer(et.buffer).data;return new Uint8Array(Vt,et.byteOffset||0,et.byteLength)}addApplicationData(Te,et){return this.json[Te]=et,this}addExtraData(Te,et){return this.json.extras=this.json.extras||{},this.json.extras[Te]=et,this}addObjectExtension(Te,et,ht){return Te.extensions=Te.extensions||{},Te.extensions[et]=ht,this.registerUsedExtension(et),this}setObjectExtension(Te,et,ht){(Te.extensions||{})[et]=ht}removeObjectExtension(Te,et){const ht=Te?.extensions||{};if(ht[et]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const Vt=this.json.extensionsRemoved;Vt.includes(et)||Vt.push(et)}delete ht[et]}addExtension(Te,et={}){return _(et),this.json.extensions=this.json.extensions||{},this.json.extensions[Te]=et,this.registerUsedExtension(Te),et}addRequiredExtension(Te,et={}){return _(et),this.addExtension(Te,et),this.registerRequiredExtension(Te),et}registerUsedExtension(Te){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(et=>et===Te)||this.json.extensionsUsed.push(Te)}registerRequiredExtension(Te){this.registerUsedExtension(Te),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(et=>et===Te)||this.json.extensionsRequired.push(Te)}removeExtension(Te){var et;if(null!=(et=this.json.extensions)&&et[Te]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const ht=this.json.extensionsRemoved;ht.includes(Te)||ht.push(Te)}this.json.extensions&&delete this.json.extensions[Te],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,Te),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,Te)}setDefaultScene(Te){this.json.scene=Te}addScene(Te){const{nodeIndices:et}=Te;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:et}),this.json.scenes.length-1}addNode(Te){const{meshIndex:et,matrix:ht}=Te;this.json.nodes=this.json.nodes||[];const Vt={mesh:et};return ht&&(Vt.matrix=ht),this.json.nodes.push(Vt),this.json.nodes.length-1}addMesh(Te){const{attributes:et,indices:ht,material:Vt,mode:yn=4}=Te,ir={primitives:[{attributes:this._addAttributes(et),mode:yn}]};if(ht){const Ci=this._addIndices(ht);ir.primitives[0].indices=Ci}return Number.isFinite(Vt)&&(ir.primitives[0].material=Vt),this.json.meshes=this.json.meshes||[],this.json.meshes.push(ir),this.json.meshes.length-1}addPointCloud(Te){const ht={primitives:[{attributes:this._addAttributes(Te),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(ht),this.json.meshes.length-1}addImage(Te,et){const ht=(0,O.getBinaryImageMetadata)(Te),Vt=et||ht?.mimeType,Wn={bufferView:this.addBufferView(Te),mimeType:Vt};return this.json.images=this.json.images||[],this.json.images.push(Wn),this.json.images.length-1}addBufferView(Te,et=0,ht=this.byteLength){const Vt=Te.byteLength;_(Number.isFinite(Vt)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(Te);const yn={buffer:et,byteOffset:ht,byteLength:Vt};return this.byteLength+=(0,y.padToNBytes)(Vt,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(yn),this.json.bufferViews.length-1}addAccessor(Te,et){const ht={bufferView:Te,type:$(et.size),componentType:et.componentType,count:et.count,max:et.max,min:et.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(ht),this.json.accessors.length-1}addBinaryBuffer(Te,et={size:3}){const ht=this.addBufferView(Te);let Vt={min:et.min,max:et.max};(!Vt.min||!Vt.max)&&(Vt=this._getAccessorMinMax(Te,et.size));const yn={size:et.size,componentType:j(Te),count:Math.round(Te.length/et.size),min:Vt.min,max:Vt.max};return this.addAccessor(ht,Object.assign(yn,et))}addTexture(Te){const{imageIndex:et}=Te,ht={source:et};return this.json.textures=this.json.textures||[],this.json.textures.push(ht),this.json.textures.length-1}addMaterial(Te){return this.json.materials=this.json.materials||[],this.json.materials.push(Te),this.json.materials.length-1}createBinaryChunk(){var Te,et;this.gltf.buffers=[];const ht=this.byteLength,Vt=new ArrayBuffer(ht),yn=new Uint8Array(Vt);let Wn=0;for(const ir of this.sourceBuffers||[])Wn=(0,y.copyToArray)(ir,yn,Wn);null!=(et=null==(Te=this.json)?void 0:Te.buffers)&&et[0]?this.json.buffers[0].byteLength=ht:this.json.buffers=[{byteLength:ht}],this.gltf.binary=Vt,this.sourceBuffers=[Vt]}_removeStringFromArray(Te,et){let ht=!0;for(;ht;){const Vt=Te.indexOf(et);Vt>-1?Te.splice(Vt,1):ht=!1}}_addAttributes(Te={}){const et={};for(const ht in Te){const Vt=Te[ht],yn=this._getGltfAttributeName(ht),Wn=this.addBinaryBuffer(Vt.value,Vt);et[yn]=Wn}return et}_addIndices(Te){return this.addBinaryBuffer(Te,{size:1})}_getGltfAttributeName(Te){switch(Te.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return Te}}_getAccessorMinMax(Te,et){const ht={min:null,max:null};if(Te.length<et)return ht;ht.min=[],ht.max=[];const Vt=Te.subarray(0,et);for(const yn of Vt)ht.min.push(yn),ht.max.push(yn);for(let yn=et;yn<Te.length;yn+=et)for(let Wn=0;Wn<et;Wn++)ht.min[0+Wn]=Math.min(ht.min[0+Wn],Te[yn+Wn]),ht.max[0+Wn]=Math.max(ht.max[0+Wn],Te[yn+Wn]);return ht}},De=w(4315);function ut(Te){return(Te%1+1)%1}var Ft={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},ve={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},I={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function V(Te,et){return I[et]*Ft[Te]}function ge(Te,et,ht,Vt){if("UINT8"!==ht&&"UINT16"!==ht&&"UINT32"!==ht&&"UINT64"!==ht)return null;const Wn=Pe(Te.getTypedArrayForBufferView(et),"SCALAR",ht,Vt+1);return Wn instanceof BigInt64Array||Wn instanceof BigUint64Array?null:Wn}function Pe(Te,et,ht,Vt=1){const Wn=ve[ht],ir=I[ht],Ci=Vt*Ft[et],Li=Ci*ir;let io=Te.buffer,vo=Te.byteOffset;return vo%ir!=0&&(io=new Uint8Array(io).slice(vo,vo+Li).buffer,vo=0),new Wn(io,vo,Ci)}function ke(Te,et,ht){var Vt,yn,Wn,ir,Ci;const vo=Te.getTypedArrayForAccessor(ht.attributes[`TEXCOORD_${et.texCoord||0}`]),Xo=Te.gltf.json,Ms=null==(yn=null==(Vt=Xo.textures)?void 0:Vt[et.index])?void 0:yn.source;if(typeof Ms<"u"){const ca=null==(ir=null==(Wn=Xo.images)?void 0:Wn[Ms])?void 0:ir.mimeType,ya=null==(Ci=Te.gltf.images)?void 0:Ci[Ms];if(ya&&typeof ya.width<"u"){const Ee=[];for(let yt=0;yt<vo.length;yt+=2){const Sn=Ht(ya,ca,vo,yt,et.channels);Ee.push(Sn)}return Ee}}return[]}function xt(Te,et,ht,Vt,yn){if(!ht?.length)return;const Wn=[];for(const vo of ht){let Xo=Vt.findIndex(gs=>gs===vo);-1===Xo&&(Xo=Vt.push(vo)-1),Wn.push(Xo)}const ir=new Uint32Array(Wn),Ci=Te.gltf.buffers.push({arrayBuffer:ir.buffer,byteOffset:ir.byteOffset,byteLength:ir.byteLength})-1,Li=Te.addBufferView(ir,Ci,0),io=Te.addAccessor(Li,{size:1,componentType:j(ir),count:ir.length});yn.attributes[et]=io}function Ht(Te,et,ht,Vt,yn=[0]){const Wn={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},ir=ht[Vt],Ci=ht[Vt+1];let Li=1;et&&(-1!==et.indexOf("image/jpeg")||-1!==et.indexOf("image/png"))&&(Li=4);const io=function ln(Te,et,ht,Vt=1){const yn=ht.width,Wn=ut(Te)*(yn-1),ir=Math.round(Wn),Ci=ht.height,Li=ut(et)*(Ci-1);return(Math.round(Li)*yn+ir)*(ht.components?ht.components:Vt)}(ir,Ci,Te,Li);let vo=0;for(const Xo of yn){const gs="number"==typeof Xo?Object.values(Wn)[Xo]:Wn[Xo],Ms=io+gs.offset,ca=(0,De.getImageData)(Te);if(ca.data.length<=Ms)throw new Error(`${ca.data.length} <= ${Ms}`);vo|=ca.data[Ms]<<gs.shift}return vo}function Bt(Te,et,ht,Vt,yn){const Wn=[];for(let ir=0;ir<et;ir++){const Ci=ht[ir],Li=ht[ir+1]-ht[ir];if(Li+Ci>Vt)break;const io=Ci/yn;Wn.push(Te.slice(io,io+Li/yn))}return Wn}function Ye(Te,et,ht){const Vt=[];for(let yn=0;yn<et;yn++){const Wn=yn*ht;Vt.push(Te.slice(Wn,Wn+ht))}return Vt}function Ze(Te,et,ht,Vt){if(ht)throw new Error("Not implemented - arrayOffsets for strings is specified");if(Vt){const yn=[],Wn=new TextDecoder("utf8");let ir=0;for(let Ci=0;Ci<Te;Ci++){const Li=Vt[Ci+1]-Vt[Ci];if(Li+ir<=et.length){const io=et.subarray(ir,Li+ir),vo=Wn.decode(io);yn.push(vo),ir+=Li}}return yn}return[]}var Ot="EXT_mesh_features",ye=Ot;function P(Te,et){return B.apply(this,arguments)}function B(){return B=r(function*(Te,et){!function R(Te,et){const ht=Te.gltf.json;if(ht.meshes)for(const Vt of ht.meshes)for(const yn of Vt.primitives)N(Te,yn,et)}(new nt(Te),et)}),B.apply(this,arguments)}function N(Te,et,ht){var Vt,yn,Wn;if(null==(Vt=ht?.gltf)||!Vt.loadBuffers)return;const ir=null==(yn=et.extensions)?void 0:yn[Ot],Ci=ir?.featureIds;if(Ci)for(const Li of Ci){let io;io=typeof Li.attribute<"u"?Te.getTypedArrayForAccessor(et.attributes[`_FEATURE_ID_${Li.attribute}`]):typeof Li.texture<"u"&&null!=(Wn=ht?.gltf)&&Wn.loadImages?ke(Te,Li.texture,et):[],Li.data=io}}var Y={};C(Y,{decode:()=>Z,name:()=>M});var h="EXT_structural_metadata",M=h;function Z(Te,et){return z.apply(this,arguments)}function z(){return z=r(function*(Te,et){!function H(Te,et){var ht,Vt;if(null==(ht=et.gltf)||!ht.loadBuffers)return;const yn=Te.getExtension(h);yn&&(null!=(Vt=et.gltf)&&Vt.loadImages&&function X(Te,et){const ht=et.propertyTextures,Vt=Te.gltf.json;if(ht&&Vt.meshes)for(const yn of Vt.meshes)for(const Wn of yn.primitives)rt(Te,ht,Wn,et)}(Te,yn),function oe(Te,et){const ht=et.schema;if(!ht)return;const Vt=ht.classes,yn=et.propertyTables;if(Vt&&yn)for(const Wn in Vt){const ir=He(yn,Wn);ir&&It(Te,ht,ir)}}(Te,yn))}(new nt(Te),et)}),z.apply(this,arguments)}function He(Te,et){for(const ht of Te)if(ht.class===et)return ht;return null}function rt(Te,et,ht,Vt){var yn;if(!et)return;const Wn=null==(yn=ht.extensions)?void 0:yn[h],ir=Wn?.propertyTextures;if(ir)for(const Ci of ir)ft(Te,et[Ci],ht,Vt)}function ft(Te,et,ht,Vt){var yn;if(!et.properties)return;Vt.dataAttributeNames||(Vt.dataAttributeNames=[]);const Wn=et.class;for(const ir in et.properties){const Ci=`${Wn}_${ir}`,Li=null==(yn=et.properties)?void 0:yn[ir];if(!Li)continue;Li.data||(Li.data=[]);const io=Li.data,vo=ke(Te,Li,ht);null!==vo&&(xt(Te,Ci,vo,io,ht),Li.data=io,Vt.dataAttributeNames.push(Ci))}}function It(Te,et,ht){var Vt,yn;const Wn=null==(Vt=et.classes)?void 0:Vt[ht.class];if(!Wn)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${ht.class}`);const ir=ht.count;for(const Ci in Wn.properties){const io=null==(yn=ht.properties)?void 0:yn[Ci];if(io){const vo=Ge(Te,et,Wn.properties[Ci],ir,io);io.data=vo}}}function Ge(Te,et,ht,Vt,yn){let Wn=[];const Ci=Te.getTypedArrayForBufferView(yn.values),Li=function Ct(Te,et,ht,Vt){return et.array&&typeof et.count>"u"&&typeof ht.arrayOffsets<"u"?ge(Te,ht.arrayOffsets,ht.arrayOffsetType||"UINT32",Vt):null}(Te,ht,yn,Vt),io=function dt(Te,et,ht){return typeof et.stringOffsets<"u"?ge(Te,et.stringOffsets,et.stringOffsetType||"UINT32",ht):null}(Te,yn,Vt);switch(ht.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":Wn=function At(Te,et,ht,Vt){const yn=Te.array,Wn=Te.count,ir=V(Te.type,Te.componentType);let Li;return Li=Te.componentType?Pe(ht,Te.type,Te.componentType,ht.byteLength/ir):ht,yn?Vt?Bt(Li,et,Vt,ht.length,ir):Wn?Ye(Li,et,Wn):[]:Li}(ht,Vt,Ci,Li);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${ht.type}`);case"STRING":Wn=Ze(Vt,Ci,Li,io);break;case"ENUM":Wn=function Qt(Te,et,ht,Vt,yn){var Wn;const ir=et.enumType;if(!ir)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const Ci=null==(Wn=Te.enums)?void 0:Wn[ir];if(!Ci)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${ir}`);const Li=Ci.valueType||"UINT16",io=V(et.type,Li);let Xo=Pe(Vt,et.type,Li,Vt.byteLength/io);if(Xo||(Xo=Vt),et.array){if(yn)return function Ke(Te){const{valuesData:et,numberOfElements:ht,arrayOffsets:Vt,valuesDataBytesLength:yn,elementSize:Wn,enumEntry:ir}=Te,Ci=[];for(let Li=0;Li<ht;Li++){const io=Vt[Li],vo=Vt[Li+1]-Vt[Li];if(vo+io>yn)break;const Ms=Tt(et,io/Wn,vo/Wn,ir);Ci.push(Ms)}return Ci}({valuesData:Xo,numberOfElements:ht,arrayOffsets:yn,valuesDataBytesLength:Vt.length,elementSize:io,enumEntry:Ci});const gs=et.count;return gs?function pt(Te,et,ht,Vt){const yn=[];for(let Wn=0;Wn<et;Wn++){const Ci=Tt(Te,ht*Wn,ht,Vt);yn.push(Ci)}return yn}(Xo,ht,gs,Ci):[]}return Tt(Xo,0,ht,Ci)}(et,ht,Vt,Ci,Li);break;default:throw new Error(`Unknown classProperty type ${ht.type}`)}return Wn}function Tt(Te,et,ht,Vt){const yn=[];for(let Wn=0;Wn<ht;Wn++)if(Te instanceof BigInt64Array||Te instanceof BigUint64Array)yn.push("");else{const Ci=$e(Vt,Te[et+Wn]);yn.push(Ci?Ci.name:"")}return yn}function $e(Te,et){for(const ht of Te.values)if(ht.value===et)return ht;return null}var Lt={};C(Lt,{decode:()=>Ln,name:()=>gn});var Xt="EXT_feature_metadata",gn=Xt;function Ln(Te,et){return $n.apply(this,arguments)}function $n(){return $n=r(function*(Te,et){!function gr(Te,et){var ht,Vt;if(null==(ht=et.gltf)||!ht.loadBuffers)return;const yn=Te.getExtension(Xt);yn&&(null!=(Vt=et.gltf)&&Vt.loadImages&&function sn(Te,et){const ht=et.schema;if(!ht)return;const Vt=ht.classes,{featureTextures:yn}=et;if(Vt&&yn)for(const Wn in Vt){const ir=Vt[Wn],Ci=Ue(yn,Wn);Ci&&me(Te,Ci,ir)}}(Te,yn),function St(Te,et){const ht=et.schema;if(!ht)return;const Vt=ht.classes,yn=et.featureTables;if(Vt&&yn)for(const Wn in Vt){const ir=Fe(yn,Wn);ir&&Ce(Te,ht,ir)}}(Te,yn))}(new nt(Te),et)}),$n.apply(this,arguments)}function Fe(Te,et){for(const ht in Te){const Vt=Te[ht];if(Vt.class===et)return Vt}return null}function Ue(Te,et){for(const ht in Te){const Vt=Te[ht];if(Vt.class===et)return Vt}return null}function Ce(Te,et,ht){var Vt,yn;if(!ht.class)return;const Wn=null==(Vt=et.classes)?void 0:Vt[ht.class];if(!Wn)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${ht.class}`);const ir=ht.count;for(const Ci in Wn.properties){const io=null==(yn=ht.properties)?void 0:yn[Ci];if(io){const vo=it(Te,0,Wn.properties[Ci],ir,io);io.data=vo}}}function me(Te,et,ht){var Vt;const yn=et.class;for(const Wn in ht.properties){const ir=null==(Vt=et?.properties)?void 0:Vt[Wn];if(ir){const Ci=On(Te,ir,yn);ir.data=Ci}}}function it(Te,et,ht,Vt,yn){let Wn=[];const Ci=Te.getTypedArrayForBufferView(yn.bufferView),Li=function Me(Te,et,ht,Vt){return"ARRAY"===et.type&&typeof et.componentCount>"u"&&typeof ht.arrayOffsetBufferView<"u"?ge(Te,ht.arrayOffsetBufferView,ht.offsetType||"UINT32",Vt):null}(Te,ht,yn,Vt),io=function We(Te,et,ht,Vt){return typeof ht.stringOffsetBufferView<"u"?ge(Te,ht.stringOffsetBufferView,ht.offsetType||"UINT32",Vt):null}(Te,0,yn,Vt);return"STRING"===ht.type||"STRING"===ht.componentType?Wn=Ze(Vt,Ci,Li,io):function Gt(Te){const et=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return et.includes(Te.type)||typeof Te.componentType<"u"&&et.includes(Te.componentType)}(ht)&&(Wn=function Kt(Te,et,ht,Vt){const yn="ARRAY"===Te.type,Wn=Te.componentCount,Ci=Te.componentType||Te.type,Li=V("SCALAR",Ci),vo=Pe(ht,"SCALAR",Ci,ht.byteLength/Li);return yn?Vt?Bt(vo,et,Vt,ht.length,Li):Wn?Ye(vo,et,Wn):[]:vo}(ht,Vt,Ci,Li)),Wn}function On(Te,et,ht){const Vt=Te.gltf.json;if(!Vt.meshes)return[];const yn=[];for(const Wn of Vt.meshes)for(const ir of Wn.primitives)vr(Te,ht,et,yn,ir);return yn}function vr(Te,et,ht,Vt,yn){const ir=ke(Te,{channels:ht.channels,...ht.texture},yn);ir&&xt(Te,et,ir,Vt,yn)}var Cn=typeof __VERSION__<"u"?__VERSION__:"latest",tr=w(8690),Er=w(4315),_r=w(4389),sr=w(8690),_n=!0,_i=1735152710,Ii=12,so=8,Cr=1313821514,ii=5130562,Or=0,fi=0,Yi=1;function Qi(Te,et,ht=0,Vt={}){const yn=new DataView(et),Wn=function ho(Te,et=0){return`${String.fromCharCode(Te.getUint8(et+0))}${String.fromCharCode(Te.getUint8(et+1))}${String.fromCharCode(Te.getUint8(et+2))}${String.fromCharCode(Te.getUint8(et+3))}`}(yn,ht+0),ir=yn.getUint32(ht+4,_n),Ci=yn.getUint32(ht+8,_n);switch(Object.assign(Te,{header:{byteOffset:ht,byteLength:Ci,hasBinChunk:!1},type:Wn,version:ir,json:{},binChunks:[]}),ht+=Ii,Te.version){case 1:return function Ve(Te,et,ht){(0,sr.assert)(Te.header.byteLength>Ii+so);const Vt=et.getUint32(ht+0,_n),yn=et.getUint32(ht+4,_n);return ht+=so,(0,sr.assert)(yn===Or),_e(Te,et,ht,Vt),ht+=Vt,ht+=Dt(Te,et,ht,Te.header.byteLength)}(Te,yn,ht);case 2:return function _t(Te,et,ht,Vt){return(0,sr.assert)(Te.header.byteLength>Ii+so),function an(Te,et,ht,Vt){for(;ht+8<=Te.header.byteLength;){const yn=et.getUint32(ht+0,_n),Wn=et.getUint32(ht+4,_n);switch(ht+=so,Wn){case Cr:_e(Te,et,ht,yn);break;case ii:Dt(Te,et,ht,yn);break;case fi:Vt.strict||_e(Te,et,ht,yn);break;case Yi:Vt.strict||Dt(Te,et,ht,yn)}ht+=(0,sr.padToNBytes)(yn,4)}}(Te,et,ht,Vt),ht+Te.header.byteLength}(Te,yn,ht,{});default:throw new Error(`Invalid GLB version ${Te.version}. Only supports version 1 and 2.`)}}function _e(Te,et,ht,Vt){const yn=new Uint8Array(et.buffer,ht,Vt),ir=new TextDecoder("utf8").decode(yn);return Te.json=JSON.parse(ir),(0,sr.padToNBytes)(Vt,4)}function Dt(Te,et,ht,Vt){return Te.header.hasBinChunk=!0,Te.binChunks.push({byteOffset:ht,byteLength:Vt,arrayBuffer:et.buffer}),(0,sr.padToNBytes)(Vt,4)}function on(Te,et){if(Te.startsWith("data:")||Te.startsWith("http:")||Te.startsWith("https:"))return Te;const Vt=et.baseUri||et.uri;if(!Vt)throw new Error(`'baseUri' must be provided to resolve relative url ${Te}`);return Vt.substr(0,Vt.lastIndexOf("/")+1)+Te}var Un={};C(Un,{decode:()=>Yt,name:()=>Ji});var Hn,qn="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Gr="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",Ai=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),Mi=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),pi={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},di={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function Tn(){return Tn=r(function*(Te,et,ht,Vt,yn,Wn="NONE"){const ir=yield function hr(){return Dr.apply(this,arguments)}();!function po(Te,et,ht,Vt,yn,Wn,ir){const Ci=Te.exports.sbrk,Li=Vt+3&-4,io=Ci(Li*yn),vo=Ci(Wn.length),Xo=new Uint8Array(Te.exports.memory.buffer);Xo.set(Wn,vo);const gs=et(io,Vt,yn,vo,Wn.length);if(0===gs&&ir&&ir(io,Li,yn),ht.set(Xo.subarray(io,io+Vt*yn)),Ci(io-Ci(0)),0!==gs)throw new Error(`Malformed buffer data: ${gs}`)}(ir,ir.exports[di[yn]],Te,et,ht,Vt,ir.exports[pi[Wn||"NONE"]])}),Tn.apply(this,arguments)}function Dr(){return Dr=r(function*(){return Hn||(Hn=function qr(){return Bi.apply(this,arguments)}()),Hn}),Dr.apply(this,arguments)}function Bi(){return Bi=r(function*(){let Te=qn;WebAssembly.validate(Ai)&&(Te=Gr,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const et=yield WebAssembly.instantiate(function hi(Te){const et=new Uint8Array(Te.length);for(let Vt=0;Vt<Te.length;++Vt){const yn=Te.charCodeAt(Vt);et[Vt]=yn>96?yn-71:yn>64?yn-65:yn>47?yn+4:yn>46?63:62}let ht=0;for(let Vt=0;Vt<Te.length;++Vt)et[ht++]=et[Vt]<60?Mi[et[Vt]]:64*(et[Vt]-60)+et[++Vt];return et.buffer.slice(0,ht)}(Te),{});return yield et.instance.exports.__wasm_call_ctors(),et.instance}),Bi.apply(this,arguments)}var Ro="EXT_meshopt_compression",Ji=Ro;function Yt(Te,et){return un.apply(this,arguments)}function un(){return un=r(function*(Te,et){var ht,Vt;const yn=new nt(Te);if(null==(ht=et?.gltf)||!ht.decompressMeshes||null==(Vt=et.gltf)||!Vt.loadBuffers)return;const Wn=[];for(const ir of Te.json.bufferViews||[])Wn.push(Xn(yn,ir));yield Promise.all(Wn),yn.removeExtension(Ro)}),un.apply(this,arguments)}function Xn(Te,et){return Rr.apply(this,arguments)}function Rr(){return Rr=r(function*(Te,et){const ht=Te.getObjectExtension(et,Ro);if(ht){const{byteOffset:Vt=0,byteLength:yn=0,byteStride:Wn,count:ir,mode:Ci,filter:Li="NONE",buffer:io}=ht,vo=Te.gltf.buffers[io],Xo=new Uint8Array(vo.arrayBuffer,vo.byteOffset+Vt,yn),gs=new Uint8Array(Te.gltf.buffers[et.buffer].arrayBuffer,et.byteOffset,et.byteLength);yield function Zt(Te,et,ht,Vt,yn){return Tn.apply(this,arguments)}(gs,ir,Wn,Xo,Ci,Li),Te.removeObjectExtension(et,Ro)}}),Rr.apply(this,arguments)}var ci={};C(ci,{name:()=>go,preprocess:()=>ko});var $i=w(4315),Ao="EXT_texture_webp",go=Ao;function ko(Te,et){const ht=new nt(Te);if(!(0,$i.isImageFormatSupported)("image/webp")){if(ht.getRequiredExtensions().includes(Ao))throw new Error(`gltf: Required extension ${Ao} not supported by browser`);return}const{json:Vt}=ht;for(const yn of Vt.textures||[]){const Wn=ht.getObjectExtension(yn,Ao);Wn&&(yn.source=Wn.source),ht.removeObjectExtension(yn,Ao)}ht.removeExtension(Ao)}var Yo={};C(Yo,{name:()=>ss,preprocess:()=>as});var Po="KHR_texture_basisu",ss=Po;function as(Te,et){const ht=new nt(Te),{json:Vt}=ht;for(const yn of Vt.textures||[]){const Wn=ht.getObjectExtension(yn,Po);Wn&&(yn.source=Wn.source,ht.removeObjectExtension(yn,Po))}ht.removeExtension(Po)}var Cs={};C(Cs,{decode:()=>Ni,encode:()=>co,name:()=>qi,preprocess:()=>Co});var ts=w(8690),Jo=w(6848);function jn(Te){const{buffer:et,size:ht,count:Vt}=function Zn(Te){let et=Te,ht=1,Vt=0;return Te&&Te.value&&(et=Te.value,ht=Te.size||1),et&&(ArrayBuffer.isView(et)||(et=function Vr(Te,et,ht=!1){return Te?Array.isArray(Te)?new et(Te):!ht||Te instanceof et?Te:new et(Te):null}(et,Float32Array)),Vt=et.length/ht),{buffer:et,size:ht,count:Vt}}(Te);return{value:et,size:ht,byteOffset:0,count:Vt,type:$(ht),componentType:j(et)}}var Ti="KHR_draco_mesh_compression",qi=Ti;function Co(Te,et,ht){const Vt=new nt(Te);for(const yn of Ws(Vt))Vt.getObjectExtension(yn,Ti)}function Ni(Te,et,ht){return ji.apply(this,arguments)}function ji(){return ji=r(function*(Te,et,ht){var Vt;if(null==(Vt=et?.gltf)||!Vt.decompressMeshes)return;const yn=new nt(Te),Wn=[];for(const ir of Ws(yn))yn.getObjectExtension(ir,Ti)&&Wn.push(Lo(yn,ir,et,ht));yield Promise.all(Wn),yn.removeExtension(Ti)}),ji.apply(this,arguments)}function co(Te,et={}){const ht=new nt(Te);for(const Vt of ht.json.meshes||[])Qo(Vt),ht.addRequiredExtension(Ti)}function Lo(Te,et,ht,Vt){return lo.apply(this,arguments)}function lo(){return lo=r(function*(Te,et,ht,Vt){const yn=Te.getObjectExtension(et,Ti);if(!yn)return;const Wn=Te.getTypedArrayForBufferView(yn.bufferView),ir=(0,ts.sliceArrayBuffer)(Wn.buffer,Wn.byteOffset),Ci={...ht};delete Ci["3d-tiles"];const Li=yield(0,ts.parseFromContext)(ir,Jo.DracoLoader,Ci,Vt),io=function Us(Te){const et={};for(const ht in Te)if("indices"!==ht){const yn=jn(Te[ht]);et[ht]=yn}return et}(Li.attributes);for(const[vo,Xo]of Object.entries(io))if(vo in et.attributes){const Ms=Te.getAccessor(et.attributes[vo]);Ms?.min&&Ms?.max&&(Xo.min=Ms.min,Xo.max=Ms.max)}et.attributes=io,Li.indices&&(et.indices=jn(Li.indices)),Te.removeObjectExtension(et,Ti),function ta(Te){if(!Te.attributes&&Object.keys(Te.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(et)}),lo.apply(this,arguments)}function Qo(Te,et,ht=4,Vt,yn){var Wn;if(!Vt.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const ir=Vt.DracoWriter.encodeSync({attributes:Te}),Ci=null==(Wn=yn?.parseSync)?void 0:Wn.call(yn,{attributes:Te}),Li=Vt._addFauxAttributes(Ci.attributes),io=Vt.addBufferView(ir);return{primitives:[{attributes:Li,mode:ht,extensions:{[Ti]:{bufferView:io,attributes:Li}}}]}}function*Ws(Te){for(const et of Te.json.meshes||[])for(const ht of et.primitives)yield ht}var cs={};C(cs,{decode:()=>Ko,name:()=>Ks});var Ns=w(5593),ns="KHR_texture_transform",Ks=ns,Go=new Ns.Vector3,Aa=new Ns.Matrix3,oa=new Ns.Matrix3;function Ko(Te,et){return Fs.apply(this,arguments)}function Fs(){return Fs=r(function*(Te,et){var ht;if(!new nt(Te).hasExtension(ns)||null==(ht=et.gltf)||!ht.loadBuffers)return;const Wn=Te.json.materials||[];for(let ir=0;ir<Wn.length;ir++)Vs(ir,Te)}),Fs.apply(this,arguments)}function Vs(Te,et){var ht,Vt,yn;const Wn=[],ir=null==(ht=et.json.materials)?void 0:ht[Te],Ci=null==(Vt=ir?.pbrMetallicRoughness)?void 0:Vt.baseColorTexture;Ci&&ds(et,Te,Ci,Wn);const Li=ir?.emissiveTexture;Li&&ds(et,Te,Li,Wn);const io=ir?.normalTexture;io&&ds(et,Te,io,Wn);const vo=ir?.occlusionTexture;vo&&ds(et,Te,vo,Wn);const Xo=null==(yn=ir?.pbrMetallicRoughness)?void 0:yn.metallicRoughnessTexture;Xo&&ds(et,Te,Xo,Wn)}function ds(Te,et,ht,Vt){const yn=function Xs(Te,et){var ht;const Vt=null==(ht=Te.extensions)?void 0:ht[ns],{texCoord:yn=0}=Te,{texCoord:Wn=yn}=Vt;if(-1===et.findIndex(([Ci,Li])=>Ci===yn&&Li===Wn)){const Ci=function Ar(Te){const{offset:et=[0,0],rotation:ht=0,scale:Vt=[1,1]}=Te,yn=(new Ns.Matrix3).set(1,0,0,0,1,0,et[0],et[1],1),Wn=Aa.set(Math.cos(ht),Math.sin(ht),0,-Math.sin(ht),Math.cos(ht),0,0,0,1),ir=oa.set(Vt[0],0,0,0,Vt[1],0,0,0,1);return yn.multiplyRight(Wn).multiplyRight(ir)}(Vt);return yn!==Wn&&(Te.texCoord=Wn),et.push([yn,Wn]),{originalTexCoord:yn,texCoord:Wn,matrix:Ci}}return null}(ht,Vt);if(!yn)return;const Wn=Te.json.meshes||[];for(const ir of Wn)for(const Ci of ir.primitives){const Li=Ci.material;Number.isFinite(Li)&&et===Li&&Jn(Te,Ci,yn)}}function Jn(Te,et,ht){var Vt,yn;const{originalTexCoord:Wn,texCoord:ir,matrix:Ci}=ht,Li=et.attributes[`TEXCOORD_${Wn}`];if(Number.isFinite(Li)){const io=null==(Vt=Te.json.accessors)?void 0:Vt[Li];if(io&&io.bufferView){const vo=null==(yn=Te.json.bufferViews)?void 0:yn[io.bufferView];if(vo){const{arrayBuffer:Xo,byteOffset:gs}=Te.buffers[vo.buffer],Ms=(gs||0)+(io.byteOffset||0)+(vo.byteOffset||0),{ArrayType:ca,length:ya}=Q(io,vo),yt=D[io.type],Sn=vo.byteStride||W[io.componentType]*yt,st=new Float32Array(ya);for(let vn=0;vn<io.count;vn++){const cr=new ca(Xo,Ms+vn*Sn,2);Go.set(cr[0],cr[1],1),Go.transformByMatrix3(Ci),st.set([Go[0],Go[1]],vn*yt)}Wn===ir?function rr(Te,et,ht,Vt){Te.componentType=5126,ht.push({arrayBuffer:Vt.buffer,byteOffset:0,byteLength:Vt.buffer.byteLength}),et.buffer=ht.length-1,et.byteLength=Vt.buffer.byteLength,et.byteOffset=0,delete et.byteStride}(io,vo,Te.buffers,st):function ur(Te,et,ht,Vt,yn){Vt.buffers.push({arrayBuffer:yn.buffer,byteOffset:0,byteLength:yn.buffer.byteLength});const Wn=Vt.json.bufferViews;if(!Wn)return;Wn.push({buffer:Vt.buffers.length-1,byteLength:yn.buffer.byteLength,byteOffset:0});const ir=Vt.json.accessors;ir&&(ir.push({bufferView:Wn?.length-1,byteOffset:0,componentType:5126,count:et.count,type:"VEC2"}),ht.attributes[`TEXCOORD_${Te}`]=ir.length-1)}(ir,io,et,Te,st)}}}}var Di={};C(Di,{decode:()=>Ut,encode:()=>Xe,name:()=>mn});var mt="KHR_lights_punctual",mn=mt;function Ut(Te){return dn.apply(this,arguments)}function dn(){return dn=r(function*(Te){const et=new nt(Te),{json:ht}=et,Vt=et.getExtension(mt);Vt&&(et.json.lights=Vt.lights,et.removeExtension(mt));for(const yn of ht.nodes||[]){const Wn=et.getObjectExtension(yn,mt);Wn&&(yn.light=Wn.light),et.removeObjectExtension(yn,mt)}}),dn.apply(this,arguments)}function Xe(Te){return Rt.apply(this,arguments)}function Rt(){return Rt=r(function*(Te){const et=new nt(Te),{json:ht}=et;if(ht.lights){const Vt=et.addExtension(mt);_(!Vt.lights),Vt.lights=ht.lights,delete ht.lights}if(et.json.lights){for(const Vt of et.json.lights)et.addObjectExtension(Vt.node,mt,Vt);delete et.json.lights}}),Rt.apply(this,arguments)}var qt={};C(qt,{decode:()=>mr,encode:()=>jr,name:()=>fr});var zn="KHR_materials_unlit",fr=zn;function mr(Te){return $r.apply(this,arguments)}function $r(){return $r=r(function*(Te){const et=new nt(Te),{json:ht}=et;for(const Vt of ht.materials||[])Vt.extensions&&Vt.extensions.KHR_materials_unlit&&(Vt.unlit=!0),et.removeObjectExtension(Vt,zn);et.removeExtension(zn)}),$r.apply(this,arguments)}function jr(Te){const et=new nt(Te),{json:ht}=et;if(et.materials)for(const Vt of ht.materials||[])Vt.unlit&&(delete Vt.unlit,et.addObjectExtension(Vt,zn,{}),et.addExtension(zn))}var li={};C(li,{decode:()=>yo,encode:()=>tt,name:()=>eo});var Wr="KHR_techniques_webgl",eo=Wr;function yo(Te){return Mo.apply(this,arguments)}function Mo(){return Mo=r(function*(Te){const et=new nt(Te),{json:ht}=et,Vt=et.getExtension(Wr);if(Vt){const yn=function ce(Te,et){const{programs:ht=[],shaders:Vt=[],techniques:yn=[]}=Te,Wn=new TextDecoder;return Vt.forEach(ir=>{if(!Number.isFinite(ir.bufferView))throw new Error("KHR_techniques_webgl: no shader code");ir.code=Wn.decode(et.getTypedArrayForBufferView(ir.bufferView))}),ht.forEach(ir=>{ir.fragmentShader=Vt[ir.fragmentShader],ir.vertexShader=Vt[ir.vertexShader]}),yn.forEach(ir=>{ir.program=ht[ir.program]}),yn}(Vt,et);for(const Wn of ht.materials||[]){const ir=et.getObjectExtension(Wn,Wr);ir&&(Wn.technique=Object.assign({},ir,yn[ir.technique]),Wn.technique.values=Je(Wn.technique,et)),et.removeObjectExtension(Wn,Wr)}et.removeExtension(Wr)}}),Mo.apply(this,arguments)}function tt(Te,et){return re.apply(this,arguments)}function re(){return(re=r(function*(Te,et){})).apply(this,arguments)}function Je(Te,et){const ht=Object.assign({},Te.values);return Object.keys(Te.uniforms||{}).forEach(Vt=>{Te.uniforms[Vt].value&&!(Vt in ht)&&(ht[Vt]=Te.uniforms[Vt].value)}),Object.keys(ht).forEach(Vt=>{"object"==typeof ht[Vt]&&void 0!==ht[Vt].index&&(ht[Vt].texture=et.getTexture(ht[Vt].index))}),ht}var Le=[Y,U,Un,ci,Yo,Cs,Di,qt,li,cs,Lt];function ti(){return ti=r(function*(Te,et={},ht){var Vt;const yn=Le.filter(Wn=>_o(Wn.name,et));for(const Wn of yn)yield null==(Vt=Wn.decode)?void 0:Vt.call(Wn,Te,et,ht)}),ti.apply(this,arguments)}function _o(Te,et){var ht;const Vt=(null==(ht=et?.gltf)?void 0:ht.excludeExtensions)||{};return!(Te in Vt&&!Vt[Te])}var rn="KHR_binary_glTF",Re={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},bt={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},tn=class{constructor(){this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}normalize(Te,et){this.json=Te.json;const ht=Te.json;switch(ht.asset&&ht.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${ht.asset.version}`)}if(!et.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(ht),this._convertTopLevelObjectsToArrays(ht),function pe(Te){const et=new nt(Te),{json:ht}=et;for(const Vt of ht.images||[]){const yn=et.getObjectExtension(Vt,rn);yn&&Object.assign(Vt,yn),et.removeObjectExtension(Vt,rn)}ht.buffers&&ht.buffers[0]&&delete ht.buffers[0].uri,et.removeExtension(rn)}(Te),this._convertObjectIdsToArrayIndices(ht),this._updateObjects(ht),this._updateMaterial(ht)}_addAsset(Te){Te.asset=Te.asset||{},Te.asset.version="2.0",Te.asset.generator=Te.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(Te){for(const et in Re)this._convertTopLevelObjectToArray(Te,et)}_convertTopLevelObjectToArray(Te,et){const ht=Te[et];if(ht&&!Array.isArray(ht)){Te[et]=[];for(const Vt in ht){const yn=ht[Vt];yn.id=yn.id||Vt;const Wn=Te[et].length;Te[et].push(yn),this.idToIndexMap[et][Vt]=Wn}}}_convertObjectIdsToArrayIndices(Te){for(const et in Re)this._convertIdsToIndices(Te,et);"scene"in Te&&(Te.scene=this._convertIdToIndex(Te.scene,"scene"));for(const et of Te.textures)this._convertTextureIds(et);for(const et of Te.meshes)this._convertMeshIds(et);for(const et of Te.nodes)this._convertNodeIds(et);for(const et of Te.scenes)this._convertSceneIds(et)}_convertTextureIds(Te){Te.source&&(Te.source=this._convertIdToIndex(Te.source,"image"))}_convertMeshIds(Te){for(const et of Te.primitives){const{attributes:ht,indices:Vt,material:yn}=et;for(const Wn in ht)ht[Wn]=this._convertIdToIndex(ht[Wn],"accessor");Vt&&(et.indices=this._convertIdToIndex(Vt,"accessor")),yn&&(et.material=this._convertIdToIndex(yn,"material"))}}_convertNodeIds(Te){Te.children&&(Te.children=Te.children.map(et=>this._convertIdToIndex(et,"node"))),Te.meshes&&(Te.meshes=Te.meshes.map(et=>this._convertIdToIndex(et,"mesh")))}_convertSceneIds(Te){Te.nodes&&(Te.nodes=Te.nodes.map(et=>this._convertIdToIndex(et,"node")))}_convertIdsToIndices(Te,et){Te[et]||(console.warn(`gltf v1: json doesn't contain attribute ${et}`),Te[et]=[]);for(const ht of Te[et])for(const Vt in ht){const Wn=this._convertIdToIndex(ht[Vt],Vt);ht[Vt]=Wn}}_convertIdToIndex(Te,et){const ht=bt[et];if(ht in this.idToIndexMap){const Vt=this.idToIndexMap[ht][Te];if(!Number.isFinite(Vt))throw new Error(`gltf v1: failed to resolve ${et} with id ${Te}`);return Vt}return Te}_updateObjects(Te){for(const et of this.json.buffers)delete et.type}_updateMaterial(Te){var et,ht,Vt;for(const yn of Te.materials){yn.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const Wn=(null==(et=yn.values)?void 0:et.tex)||(null==(ht=yn.values)?void 0:ht.texture2d_0)||(null==(Vt=yn.values)?void 0:Vt.diffuseTex),ir=Te.textures.findIndex(Ci=>Ci.id===Wn);-1!==ir&&(yn.pbrMetallicRoughness.baseColorTexture={index:ir})}}};function ar(){return ar=r(function*(Te,et,ht=0,Vt,yn){var Wn,ir,Ci;return function Zr(Te,et,ht,Vt){if(Vt.uri&&(Te.baseUri=Vt.uri),et instanceof ArrayBuffer&&!function Vi(Te,et=0,ht={}){const Vt=new DataView(Te),{magic:yn=_i}=ht,Wn=Vt.getUint32(et,!1);return Wn===yn||Wn===_i}(et,ht,Vt)&&(et=(new TextDecoder).decode(et)),"string"==typeof et)Te.json=(0,tr.parseJSON)(et);else if(et instanceof ArrayBuffer){const ir={};ht=Qi(ir,et,ht,Vt.glb),_("glTF"===ir.type,`Invalid GLB magic string ${ir.type}`),Te._glb=ir,Te.json=ir.json}else _(!1,"GLTF: must be ArrayBuffer or string");if(Te.buffers=new Array((Te.json.buffers||[]).length).fill(null),Te._glb&&Te._glb.header.hasBinChunk){const{binChunks:ir}=Te._glb;Te.buffers[0]={arrayBuffer:ir[0].arrayBuffer,byteOffset:ir[0].byteOffset,byteLength:ir[0].byteLength}}Te.images=new Array((Te.json.images||[]).length).fill({})}(Te,et,ht,Vt),function An(Te,et={}){(new tn).normalize(Te,et)}(Te,{normalize:null==(Wn=Vt?.gltf)?void 0:Wn.normalize}),function Wt(Te,et={},ht){var Vt;const yn=Le.filter(Wn=>_o(Wn.name,et));for(const Wn of yn)null==(Vt=Wn.preprocess)||Vt.call(Wn,Te,et,ht)}(Te,Vt,yn),null!=(ir=Vt?.gltf)&&ir.loadBuffers&&Te.json.buffers&&(yield function si(Te,et,ht){return ni.apply(this,arguments)}(Te,Vt,yn)),null!=(Ci=Vt?.gltf)&&Ci.loadImages&&(yield function Pr(Te,et,ht){return mi.apply(this,arguments)}(Te,Vt,yn)),yield function yr(Te){return ti.apply(this,arguments)}(Te,Vt,yn),Te}),ar.apply(this,arguments)}function ni(){return ni=r(function*(Te,et,ht){var Vt,yn;const Wn=Te.json.buffers||[];for(let ir=0;ir<Wn.length;++ir){const Ci=Wn[ir];if(Ci.uri){const{fetch:Li}=ht;_(Li);const io=on(Ci.uri,et),vo=yield null==(Vt=ht?.fetch)?void 0:Vt.call(ht,io),Xo=yield null==(yn=vo?.arrayBuffer)?void 0:yn.call(vo);Te.buffers[ir]={arrayBuffer:Xo,byteOffset:0,byteLength:Xo.byteLength},delete Ci.uri}else null===Te.buffers[ir]&&(Te.buffers[ir]={arrayBuffer:new ArrayBuffer(Ci.byteLength),byteOffset:0,byteLength:Ci.byteLength})}}),ni.apply(this,arguments)}function mi(){return mi=r(function*(Te,et,ht){const Vt=function Wi(Te){const et=new Set,ht=Te.json.textures||[];for(const Vt of ht)void 0!==Vt.source&&et.add(Vt.source);return Array.from(et).sort()}(Te),yn=Te.json.images||[],Wn=[];for(const ir of Vt)Wn.push(Pi(Te,yn[ir],ir,et,ht));return yield Promise.all(Wn)}),mi.apply(this,arguments)}function Pi(Te,et,ht,Vt,yn){return xe.apply(this,arguments)}function xe(){return xe=r(function*(Te,et,ht,Vt,yn){let Wn;if(et.uri&&!et.hasOwnProperty("bufferView")){const Ci=on(et.uri,Vt),{fetch:Li}=yn;Wn=yield(yield Li(Ci)).arrayBuffer(),et.bufferView={data:Wn}}if(Number.isFinite(et.bufferView)){const Ci=function be(Te,et,ht){const Vt=Te.bufferViews[ht];_(Vt);const Wn=et[Vt.buffer];return _(Wn),new Uint8Array(Wn.arrayBuffer,(Vt.byteOffset||0)+Wn.byteOffset,Vt.byteLength)}(Te.json,Te.buffers,et.bufferView);Wn=(0,tr.sliceArrayBuffer)(Ci.buffer,Ci.byteOffset,Ci.byteLength)}_(Wn,"glTF image has no data");let ir=yield(0,tr.parseFromContext)(Wn,[Er.ImageLoader,_r.BasisLoader],{...Vt,mimeType:et.mimeType,basis:Vt.basis||{format:(0,_r.selectSupportedBasisFormat)()}},yn);ir&&ir[0]&&(ir={compressed:!0,mipmaps:!1,width:ir[0].width,height:ir[0].height,data:ir[0]}),Te.images=Te.images||[],Te.images[ht]=ir}),xe.apply(this,arguments)}var he={name:"glTF",id:"gltf",module:"gltf",version:Cn,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function qe(Te){return wt.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};function wt(){return wt=r(function*(Te,et={},ht){(et={...he.options,...et}).gltf={...he.options.gltf,...et.gltf};const{byteOffset:Vt=0}=et;return yield function Kn(Te,et){return ar.apply(this,arguments)}({},Te,Vt,et,ht)}),wt.apply(this,arguments)}var Pt=w(8690),cn=1179937895,xn=1313821514,nr=5130562,Yn=!0;function kr(Te,et,ht=0,Vt={}){const{magic:yn=cn,version:Wn=2,json:ir={},binary:Ci}=Te,Li=ht;et&&(et.setUint32(ht+0,yn,Yn),et.setUint32(ht+4,Wn,Yn),et.setUint32(ht+8,0,Yn));const io=ht+8,vo=ht+=12;et&&(et.setUint32(ht+0,0,Yn),et.setUint32(ht+4,xn,Yn)),ht+=8;const Xo=JSON.stringify(ir);if(ht=(0,Pt.copyPaddedStringToDataView)(et,ht,Xo,4),et&&et.setUint32(vo+0,ht-vo-8,Yn),Ci){const gs=ht;et&&(et.setUint32(ht+0,0,Yn),et.setUint32(ht+4,nr,Yn)),ht=(0,Pt.copyPaddedArrayBufferToDataView)(et,ht+=8,Ci,4),et&&et.setUint32(gs+0,ht-gs-8,Yn)}return et&&et.setUint32(io,ht-Li,Yn),ht}function wr(Te,et,ht,Vt){return function Lr(Te,{firstBuffer:et=0}={}){if(Te.buffers&&Te.buffers.length>et)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(Te),kr(Te,et,ht,Vt)}var Fr={name:"glTF",id:"gltf",module:"gltf",version:Cn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{gltf:{}},encode:function(){var Te=r(function*(et,ht={}){return vi(et,ht)});return function(ht){return Te.apply(this,arguments)}}(),encodeSync:vi};function vi(Te,et={}){const{byteOffset:ht=0}=et,Vt=wr(Te,null,ht,et),yn=new ArrayBuffer(Vt);return wr(Te,new DataView(yn),ht,et),yn}var Hi={name:"GLB",id:"glb",module:"gltf",version:Cn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:function Fn(Te,et){return lr.apply(this,arguments)},parseSync:wn,options:{glb:{strict:!1}}};function lr(){return lr=r(function*(Te,et){return wn(Te,et)}),lr.apply(this,arguments)}function wn(Te,et){const{byteOffset:ht=0}=et||{},Vt={};return Qi(Vt,Te,ht,et?.glb),Vt}var er={name:"GLB",id:"glb",module:"gltf",version:Cn,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{glb:{}},encode:function(){var Te=r(function*(et,ht={}){return Ur(et,ht)});return function(ht){return Te.apply(this,arguments)}}(),encodeSync:Ur};function Ur(Te,et){const{byteOffset:ht=0}=et,Vt=kr(Te,null,ht,et),yn=new ArrayBuffer(Vt);return kr(Te,new DataView(yn),ht,et),yn}var gi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Fi={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Xi={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},zo={10240:9729,10241:9986,10242:10497,10243:10497},qo=class{constructor(){this.baseUri="",this.buffers=[],this.images=[]}postProcess(Te,et={}){const{json:ht,buffers:Vt=[],images:yn=[]}=Te,{baseUri:Wn=""}=Te;return _(ht),this.baseUri=Wn,this.buffers=Vt,this.images=yn,this.jsonUnprocessed=ht,this.json=this._resolveTree(Te.json,et),this.json}_resolveTree(Te,et={}){const ht={...Te};return this.json=ht,Te.bufferViews&&(ht.bufferViews=Te.bufferViews.map((Vt,yn)=>this._resolveBufferView(Vt,yn))),Te.images&&(ht.images=Te.images.map((Vt,yn)=>this._resolveImage(Vt,yn))),Te.samplers&&(ht.samplers=Te.samplers.map((Vt,yn)=>this._resolveSampler(Vt,yn))),Te.textures&&(ht.textures=Te.textures.map((Vt,yn)=>this._resolveTexture(Vt,yn))),Te.accessors&&(ht.accessors=Te.accessors.map((Vt,yn)=>this._resolveAccessor(Vt,yn))),Te.materials&&(ht.materials=Te.materials.map((Vt,yn)=>this._resolveMaterial(Vt,yn))),Te.meshes&&(ht.meshes=Te.meshes.map((Vt,yn)=>this._resolveMesh(Vt,yn))),Te.nodes&&(ht.nodes=Te.nodes.map((Vt,yn)=>this._resolveNode(Vt,yn)),ht.nodes=ht.nodes.map((Vt,yn)=>this._resolveNodeChildren(Vt))),Te.skins&&(ht.skins=Te.skins.map((Vt,yn)=>this._resolveSkin(Vt,yn))),Te.scenes&&(ht.scenes=Te.scenes.map((Vt,yn)=>this._resolveScene(Vt,yn))),"number"==typeof this.json.scene&&ht.scenes&&(ht.scene=ht.scenes[this.json.scene]),ht}getScene(Te){return this._get(this.json.scenes,Te)}getNode(Te){return this._get(this.json.nodes,Te)}getSkin(Te){return this._get(this.json.skins,Te)}getMesh(Te){return this._get(this.json.meshes,Te)}getMaterial(Te){return this._get(this.json.materials,Te)}getAccessor(Te){return this._get(this.json.accessors,Te)}getCamera(Te){return this._get(this.json.cameras,Te)}getTexture(Te){return this._get(this.json.textures,Te)}getSampler(Te){return this._get(this.json.samplers,Te)}getImage(Te){return this._get(this.json.images,Te)}getBufferView(Te){return this._get(this.json.bufferViews,Te)}getBuffer(Te){return this._get(this.json.buffers,Te)}_get(Te,et){if("object"==typeof et)return et;const ht=Te&&Te[et];return ht||console.warn(`glTF file error: Could not find ${Te}[${et}]`),ht}_resolveScene(Te,et){return{...Te,id:Te.id||`scene-${et}`,nodes:(Te.nodes||[]).map(ht=>this.getNode(ht))}}_resolveNode(Te,et){const ht={...Te,id:Te?.id||`node-${et}`};return void 0!==Te.mesh&&(ht.mesh=this.getMesh(Te.mesh)),void 0!==Te.camera&&(ht.camera=this.getCamera(Te.camera)),void 0!==Te.skin&&(ht.skin=this.getSkin(Te.skin)),void 0!==Te.meshes&&Te.meshes.length&&(ht.mesh=Te.meshes.reduce((Vt,yn)=>{const Wn=this.getMesh(yn);return Vt.id=Wn.id,Vt.primitives=Vt.primitives.concat(Wn.primitives),Vt},{primitives:[]})),ht}_resolveNodeChildren(Te){return Te.children&&(Te.children=Te.children.map(et=>this.getNode(et))),Te}_resolveSkin(Te,et){const ht="number"==typeof Te.inverseBindMatrices?this.getAccessor(Te.inverseBindMatrices):void 0;return{...Te,id:Te.id||`skin-${et}`,inverseBindMatrices:ht}}_resolveMesh(Te,et){const ht={...Te,id:Te.id||`mesh-${et}`,primitives:[]};return Te.primitives&&(ht.primitives=Te.primitives.map(Vt=>{const yn={...Vt,attributes:{},indices:void 0,material:void 0},Wn=Vt.attributes;for(const ir in Wn)yn.attributes[ir]=this.getAccessor(Wn[ir]);return void 0!==Vt.indices&&(yn.indices=this.getAccessor(Vt.indices)),void 0!==Vt.material&&(yn.material=this.getMaterial(Vt.material)),yn})),ht}_resolveMaterial(Te,et){const ht={...Te,id:Te.id||`material-${et}`};if(ht.normalTexture&&(ht.normalTexture={...ht.normalTexture},ht.normalTexture.texture=this.getTexture(ht.normalTexture.index)),ht.occlusionTexture&&(ht.occlusionTexture={...ht.occlusionTexture},ht.occlusionTexture.texture=this.getTexture(ht.occlusionTexture.index)),ht.emissiveTexture&&(ht.emissiveTexture={...ht.emissiveTexture},ht.emissiveTexture.texture=this.getTexture(ht.emissiveTexture.index)),ht.emissiveFactor||(ht.emissiveFactor=ht.emissiveTexture?[1,1,1]:[0,0,0]),ht.pbrMetallicRoughness){ht.pbrMetallicRoughness={...ht.pbrMetallicRoughness};const Vt=ht.pbrMetallicRoughness;Vt.baseColorTexture&&(Vt.baseColorTexture={...Vt.baseColorTexture},Vt.baseColorTexture.texture=this.getTexture(Vt.baseColorTexture.index)),Vt.metallicRoughnessTexture&&(Vt.metallicRoughnessTexture={...Vt.metallicRoughnessTexture},Vt.metallicRoughnessTexture.texture=this.getTexture(Vt.metallicRoughnessTexture.index))}return ht}_resolveAccessor(Te,et){const ht=function As(Te){return Fi[Te]}(Te.componentType),Vt=function bs(Te){return gi[Te]}(Te.type),yn=ht*Vt,Wn={...Te,id:Te.id||`accessor-${et}`,bytesPerComponent:ht,components:Vt,bytesPerElement:yn,value:void 0,bufferView:void 0,sparse:void 0};if(void 0!==Te.bufferView&&(Wn.bufferView=this.getBufferView(Te.bufferView)),Wn.bufferView){const ir=Wn.bufferView.buffer,{ArrayType:Ci,byteLength:Li}=Q(Wn,Wn.bufferView),io=(Wn.bufferView.byteOffset||0)+(Wn.byteOffset||0)+ir.byteOffset;let vo=ir.arrayBuffer.slice(io,io+Li);Wn.bufferView.byteStride&&(vo=this._getValueFromInterleavedBuffer(ir,io,Wn.bufferView.byteStride,Wn.bytesPerElement,Wn.count)),Wn.value=new Ci(vo)}return Wn}_getValueFromInterleavedBuffer(Te,et,ht,Vt,yn){const Wn=new Uint8Array(yn*Vt);for(let ir=0;ir<yn;ir++){const Ci=et+ir*ht;Wn.set(new Uint8Array(Te.arrayBuffer.slice(Ci,Ci+Vt)),ir*Vt)}return Wn.buffer}_resolveTexture(Te,et){return{...Te,id:Te.id||`texture-${et}`,sampler:"number"==typeof Te.sampler?this.getSampler(Te.sampler):{id:"default-sampler",parameters:zo},source:"number"==typeof Te.source?this.getImage(Te.source):void 0}}_resolveSampler(Te,et){const ht={id:Te.id||`sampler-${et}`,...Te,parameters:{}};for(const Vt in ht){const yn=this._enumSamplerParameter(Vt);void 0!==yn&&(ht.parameters[yn]=ht[Vt])}return ht}_enumSamplerParameter(Te){return Xi[Te]}_resolveImage(Te,et){const ht={...Te,id:Te.id||`image-${et}`,image:null,bufferView:void 0!==Te.bufferView?this.getBufferView(Te.bufferView):void 0},Vt=this.images[et];return Vt&&(ht.image=Vt),ht}_resolveBufferView(Te,et){const ht=Te.buffer,Vt=this.buffers[ht].arrayBuffer;let yn=this.buffers[ht].byteOffset||0;return Te.byteOffset&&(yn+=Te.byteOffset),{id:`bufferView-${et}`,...Te,buffer:this.buffers[ht],data:new Uint8Array(Vt,yn,Te.byteLength)}}_resolveCamera(Te,et){return{...Te,id:Te.id||`camera-${et}`}}};function js(Te,et){return(new qo).postProcess(Te,et)}},4315:(en,ot,w)=>{"use strict";var Cn,r=w(1049).default,x=Object.defineProperty,f=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,S={};((Cn,tr)=>{for(var Er in tr)x(Cn,Er,{get:tr[Er],enumerable:!0})})(S,{ImageLoader:()=>dt,ImageWriter:()=>gn,getBinaryImageMetadata:()=>R,getDefaultImageType:()=>le,getImageData:()=>j,getImageSize:()=>$,getImageType:()=>q,getSupportedImageFormats:()=>sn,isImage:()=>fe,isImageFormatSupported:()=>Ue,isImageTypeSupported:()=>ae,loadImage:()=>vr}),en.exports=(Cn=S,((Cn,tr,Er,_r)=>{if(tr&&"object"==typeof tr||"function"==typeof tr)for(let sr of b(tr))!E.call(Cn,sr)&&undefined!==sr&&x(Cn,sr,{get:()=>tr[sr],enumerable:!(_r=f(tr,sr))||_r.enumerable});return Cn})(x({},"__esModule",{value:!0}),Cn));var _,U=typeof __VERSION__<"u"?__VERSION__:"latest",O=w(8690),y=w(8690),D=null==(_=globalThis.loaders)?void 0:_.parseImageNode,W=typeof Image<"u",K=typeof ImageBitmap<"u",ie=!!y.isBrowser||!!D;function ae(Cn){switch(Cn){case"auto":return K||W||ie;case"imagebitmap":return K;case"image":return W;case"data":return ie;default:throw new Error(`@loaders.gl/images: image ${Cn} not supported in this environment`)}}function le(){if(K)return"imagebitmap";if(W)return"image";if(ie)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function fe(Cn){return!!Q(Cn)}function q(Cn){const tr=Q(Cn);if(!tr)throw new Error("Not an image");return tr}function $(Cn){return j(Cn)}function j(Cn){switch(q(Cn)){case"data":return Cn;case"image":case"imagebitmap":const tr=document.createElement("canvas"),Er=tr.getContext("2d");if(!Er)throw new Error("getImageData");return tr.width=Cn.width,tr.height=Cn.height,Er.drawImage(Cn,0,0),Er.getImageData(0,0,Cn.width,Cn.height);default:throw new Error("getImageData")}}function Q(Cn){return typeof ImageBitmap<"u"&&Cn instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&Cn instanceof Image?"image":Cn&&"object"==typeof Cn&&Cn.data&&Cn.width&&Cn.height?"data":null}var ee=/^data:image\/svg\+xml/,be=/\.svg((\?|#).*)?$/;function Se(Cn){return Cn&&(ee.test(Cn)||be.test(Cn))}function nt(Cn,tr){if(Se(tr))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(Cn)])}function De(Cn,tr,Er){return ut.apply(this,arguments)}function ut(){return ut=r(function*(Cn,tr,Er){const _r=function Qe(Cn,tr){if(Se(tr)){let _r=(new TextDecoder).decode(Cn);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(_r=unescape(encodeURIComponent(_r)))}catch(_n){throw new Error(_n.message)}return`data:image/svg+xml;base64,${btoa(_r)}`}return nt(Cn,tr)}(Cn,Er),sr=self.URL||self.webkitURL,_n="string"!=typeof _r&&sr.createObjectURL(_r);try{return yield function Ft(Cn,tr){return ve.apply(this,arguments)}(_n||_r,tr)}finally{_n&&sr.revokeObjectURL(_n)}}),ut.apply(this,arguments)}function ve(){return ve=r(function*(Cn,tr){const Er=new Image;return Er.src=Cn,tr.image&&tr.image.decode&&Er.decode?(yield Er.decode(),Er):yield new Promise((_r,sr)=>{try{Er.onload=()=>_r(Er),Er.onerror=_n=>{const _i=_n instanceof Error?_n.message:"error";sr(new Error(_i))}}catch(_n){sr(_n)}})}),ve.apply(this,arguments)}var I={},V=!0;function Pe(){return Pe=r(function*(Cn,tr,Er){let _r;_r=Se(Er)?yield De(Cn,tr,Er):nt(Cn,Er);const sr=tr&&tr.imagebitmap;return yield function ke(Cn){return xt.apply(this,arguments)}(_r,sr)}),Pe.apply(this,arguments)}function xt(){return xt=r(function*(Cn,tr=null){if((function Ht(Cn){for(const tr in Cn||I)return!1;return!0}(tr)||!V)&&(tr=null),tr)try{return yield createImageBitmap(Cn,tr)}catch(Er){console.warn(Er),V=!1}return yield createImageBitmap(Cn)}),xt.apply(this,arguments)}var ln=w(8690);var P=!1,B=!0;function R(Cn){const tr=H(Cn);return function Y(Cn){const tr=H(Cn);return tr.byteLength>=24&&2303741511===tr.getUint32(0,P)?{mimeType:"image/png",width:tr.getUint32(16,P),height:tr.getUint32(20,P)}:null}(tr)||function Z(Cn){const tr=H(Cn);if(!(tr.byteLength>=3&&65496===tr.getUint16(0,P)&&255===tr.getUint8(2)))return null;const{tableMarkers:_r,sofMarkers:sr}=function z(){const Cn=new Set([65499,65476,65484,65501,65534]);for(let Er=65504;Er<65520;++Er)Cn.add(Er);return{tableMarkers:Cn,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let _n=2;for(;_n+9<tr.byteLength;){const _i=tr.getUint16(_n,P);if(sr.has(_i))return{mimeType:"image/jpeg",height:tr.getUint16(_n+5,P),width:tr.getUint16(_n+7,P)};if(!_r.has(_i))return null;_n+=2,_n+=tr.getUint16(_n,P)}return null}(tr)||function h(Cn){const tr=H(Cn);return tr.byteLength>=10&&1195984440===tr.getUint32(0,P)?{mimeType:"image/gif",width:tr.getUint16(6,B),height:tr.getUint16(8,B)}:null}(tr)||function M(Cn){const tr=H(Cn);return tr.byteLength>=14&&16973===tr.getUint16(0,P)&&tr.getUint32(2,B)===tr.byteLength?{mimeType:"image/bmp",width:tr.getUint32(18,B),height:tr.getUint32(22,B)}:null}(tr)||function N(Cn){const Er=function Bt(Cn){return function ye(Cn,tr,Er=0){const _r=function Ot(Cn){return[...Cn].map(tr=>tr.charCodeAt(0))}(tr);for(let sr=0;sr<_r.length;++sr)if(_r[sr]!==Cn[sr+Er])return!1;return!0}(Cn,"ftyp",4)&&96&Cn[8]?function Ye(Cn){switch(function Ze(Cn,tr,Er){return String.fromCharCode(...Cn.slice(tr,Er))}(Cn,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(Cn):null}(new Uint8Array(Cn instanceof DataView?Cn.buffer:Cn));return Er?{mimeType:Er.mimeType,width:0,height:0}:null}(tr)}function H(Cn){if(Cn instanceof DataView)return Cn;if(ArrayBuffer.isView(Cn))return new DataView(Cn.buffer);if(Cn instanceof ArrayBuffer)return new DataView(Cn);throw new Error("toDataView")}function oe(){return oe=r(function*(Cn,tr){var Er;const{mimeType:_r}=R(Cn)||{},sr=null==(Er=globalThis.loaders)?void 0:Er.parseImageNode;return(0,ln.assert)(sr),yield sr(Cn,_r)}),oe.apply(this,arguments)}function rt(){return rt=r(function*(Cn,tr,Er){const sr=((tr=tr||{}).image||{}).type||"auto",{url:_n}=Er||{},_i=function ft(Cn){switch(Cn){case"auto":case"data":return le();default:return ae(Cn),Cn}}(sr);let Ii;switch(_i){case"imagebitmap":Ii=yield function ge(Cn,tr,Er){return Pe.apply(this,arguments)}(Cn,tr,_n);break;case"image":Ii=yield De(Cn,tr,_n);break;case"data":Ii=yield function X(Cn,tr){return oe.apply(this,arguments)}(Cn,tr);break;default:(0,O.assert)(!1)}return"data"===sr&&(Ii=j(Ii)),Ii}),rt.apply(this,arguments)}var At,dt={id:"image",module:"images",name:"Images",version:U,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function He(Cn,tr,Er){return rt.apply(this,arguments)},tests:[Cn=>!!R(new DataView(Cn))],options:{image:{type:"auto",decode:!0}}},Qt=null==(At=globalThis.loaders)?void 0:At.encodeImageNode;function pt(){return pt=r(function*(Cn,tr){return(tr=tr||{}).image=tr.image||{},Qt?Qt(Cn,{type:tr.image.mimeType}):function $e(Cn,tr){return Lt.apply(this,arguments)}(Cn,tr)}),pt.apply(this,arguments)}var Tt=!0;function Lt(){return Lt=r(function*(Cn,tr){const{mimeType:Er,jpegQuality:_r}=tr.image,{width:sr,height:_n}=$(Cn),_i=document.createElement("canvas");_i.width=sr,_i.height=_n,function Xt(Cn,tr,Er=0,_r=0){if(0===Er&&0===_r&&typeof ImageBitmap<"u"&&Cn instanceof ImageBitmap){const _n=tr.getContext("bitmaprenderer");if(_n)return _n.transferFromImageBitmap(Cn),tr}const sr=tr.getContext("2d");if(Cn.data){const _n=new Uint8ClampedArray(Cn.data),_i=new ImageData(_n,Cn.width,Cn.height);return sr.putImageData(_i,0,0),tr}sr.drawImage(Cn,0,0)}(Cn,_i);const Ii=yield new Promise(so=>{if(_r&&Tt)try{return void _i.toBlob(so,Er,_r)}catch{Tt=!1}_i.toBlob(so,Er)});if(!Ii)throw new Error("image encoding failed");return yield Ii.arrayBuffer()}),Lt.apply(this,arguments)}var gn={name:"Images",id:"image",module:"images",version:U,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:function Ke(Cn,tr){return pt.apply(this,arguments)}},Ln=w(8690),$n=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/tiff","image/svg","image/svg+xml","image/bmp","image/vnd.microsoft.icon"],gr=null;function sn(){return St.apply(this,arguments)}function St(){return St=r(function*(){if(gr)return yield gr;const Cn=new Set;for(const tr of $n)(Ln.isBrowser?yield Me(tr):Ce(tr))&&Cn.add(tr);return Cn}),St.apply(this,arguments)}var Fe={};function Ue(Cn){if(void 0===Fe[Cn]){const tr=Ln.isBrowser?function me(Cn){switch(Cn){case"image/avif":case"image/webp":return function Gt(Cn){try{return 0===document.createElement("canvas").toDataURL(Cn).indexOf(`data:${Cn}`)}catch{return!1}}(Cn);default:return!0}}(Cn):Ce(Cn);Fe[Cn]=tr}return Fe[Cn]}function Ce(Cn){var tr,Er;const sr=(null==(tr=globalThis.loaders)?void 0:tr.imageFormatsNode)||["image/png","image/jpeg","image/gif"];return!!(null==(Er=globalThis.loaders)?void 0:Er.parseImageNode)&&sr.includes(Cn)}var it={"image/avif":"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=","image/webp":"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"};function Me(Cn){return We.apply(this,arguments)}function We(){return We=r(function*(Cn){const tr=it[Cn];return!tr||(yield function Kt(Cn){return On.apply(this,arguments)}(tr))}),We.apply(this,arguments)}function On(){return On=r(function*(Cn){return new Promise(tr=>{const Er=new Image;Er.src=Cn,Er.onload=()=>tr(Er.height>0),Er.onerror=()=>tr(!1)})}),On.apply(this,arguments)}function vr(){throw new Error("loadImage has moved to @loaders.gl/textures")}},8690:(en,ot,w)=>{"use strict";var Zt,r=w(1049).default,x=w(7604).default,f=w(8322).default,b=w(7909).default,E=Object.defineProperty,C=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,S=(Zt,Tn)=>{for(var Hn in Tn)E(Zt,Hn,{get:Tn[Hn],enumerable:!0})},y={};function _(Zt,Tn,Hn,hr){return D.apply(this,arguments)}function D(){return D=r(function*(Zt,Tn,Hn,hr){return hr._parse(Zt,Tn,Hn,hr)}),D.apply(this,arguments)}function W(Zt,Tn,Hn,hr){if(!hr._parseSync)throw new Error("parseSync");return hr._parseSync(Zt,Tn,Hn,hr)}function K(Zt,Tn,Hn,hr){return L.apply(this,arguments)}function L(){return L=r(function*(Zt,Tn,Hn,hr){if(!hr._parseInBatches)throw new Error("parseInBatches");return hr._parseInBatches(Zt,Tn,Hn,hr)}),L.apply(this,arguments)}function ie(Zt,Tn){if(!Zt)throw new Error(Tn||"loader assertion failed.")}S(y,{BlobFile:()=>Ve,DataSource:()=>Mi,DataViewFile:()=>Ai,FileHandleFile:()=>qn,HttpFile:()=>_t,ImageSource:()=>di,JSONLoader:()=>Kt,NodeFile:()=>_e,NodeFilesystem:()=>on,RequestScheduler:()=>Fe,_addAliases:()=>Me,assert:()=>ie,canEncodeWithWorker:()=>Ze,canParseWithWorker:()=>ke,compareArrayBuffers:()=>B,concatenateArrayBuffers:()=>R,concatenateArrayBuffersAsync:()=>$e,concatenateArrayBuffersFromArray:()=>N,concatenateTypedArrays:()=>Y,copyArrayBuffer:()=>Z,copyBinaryToDataView:()=>oe,copyPaddedArrayBufferToDataView:()=>He,copyPaddedStringToDataView:()=>rt,copyStringToDataView:()=>X,copyToArray:()=>z,createLoaderWorker:()=>ut,document:()=>$,forEach:()=>pt,getFirstCharacters:()=>Ot,getMagicString:()=>ye,getPathPrefix:()=>it,global:()=>q,isBrowser:()=>j,isBuffer:()=>tr,isFileProvider:()=>Un,isWorker:()=>Q,makeLineIterator:()=>dt,makeNumberedLineIterator:()=>Qt,makeTextDecoderIterator:()=>ft,makeTextEncoderIterator:()=>Ge,mergeLoaderOptions:()=>Se,nodeVersion:()=>be,padStringToByteAlignment:()=>H,padToNBytes:()=>M,parseFromContext:()=>_,parseInBatchesFromContext:()=>K,parseJSON:()=>P,parseSyncFromContext:()=>W,parseWithWorker:()=>xt,path:()=>_i,promisify1:()=>sr,promisify2:()=>_n,resolvePath:()=>We,self:()=>le,setPathPrefix:()=>me,sliceArrayBuffer:()=>h,stream:()=>Vi,toArrayBuffer:()=>_r,toBuffer:()=>Er,window:()=>fe}),en.exports=(Zt=y,((Zt,Tn,Hn,hr)=>{if(Tn&&"object"==typeof Tn||"function"==typeof Tn)for(let Dr of u(Tn))!F.call(Zt,Dr)&&undefined!==Dr&&E(Zt,Dr,{get:()=>Tn[Dr],enumerable:!(hr=C(Tn,Dr))||hr.enumerable});return Zt})(E({},"__esModule",{value:!0}),Zt));var ae={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},le=ae.self||ae.window||ae.global||{},fe=ae.window||ae.self||ae.global||{},q=ae.global||ae.self||ae.window||{},$=ae.document||{},j=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),Q="function"==typeof importScripts,ee=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),be=ee&&parseFloat(ee[1])||0;function Se(Zt,Tn){return Qe(Zt||{},Tn)}function Qe(Zt,Tn,Hn=0){if(Hn>3)return Tn;const hr={...Zt};for(const[Dr,qr]of Object.entries(Tn))hr[Dr]=qr&&"object"==typeof qr&&!Array.isArray(qr)?Qe(hr[Dr]||{},Tn[Dr],Hn+1):Tn[Dr];return hr}var nt=w(3827),De=0;function ut(Zt){return Ft.apply(this,arguments)}function Ft(){return Ft=r(function*(Zt){(yield nt.WorkerBody.inWorkerThread())&&(nt.WorkerBody.onmessage=function(){var Tn=r(function*(Hn,hr){if("process"===Hn)try{const{input:Dr,options:qr={},context:Bi={}}=hr,hi=yield function I(Zt){return V.apply(this,arguments)}({loader:Zt,arrayBuffer:Dr,options:qr,context:{...Bi,_parse:ve}});nt.WorkerBody.postMessage("done",{result:hi})}catch(Dr){const qr=Dr instanceof Error?Dr.message:"";nt.WorkerBody.postMessage("error",{error:qr})}});return function(Hn,hr){return Tn.apply(this,arguments)}}())}),Ft.apply(this,arguments)}function ve(Zt,Tn,Hn,hr){return new Promise((Dr,qr)=>{const Bi=De++,hi=(Ro,Ji)=>{if(Ji.id===Bi)switch(Ro){case"done":nt.WorkerBody.removeEventListener(hi),Dr(Ji.result);break;case"error":nt.WorkerBody.removeEventListener(hi),qr(Ji.error)}};nt.WorkerBody.addEventListener(hi),nt.WorkerBody.postMessage("process",{id:Bi,input:Zt,options:Hn})})}function V(){return V=r(function*({loader:Zt,arrayBuffer:Tn,options:Hn,context:hr}){let Dr,qr;if(Zt.parseSync||Zt.parse)Dr=Tn,qr=Zt.parseSync||Zt.parse;else{if(!Zt.parseTextSync)throw new Error(`Could not load data with ${Zt.name} loader`);Dr=(new TextDecoder).decode(Tn),qr=Zt.parseTextSync}return Hn={...Hn,modules:Zt&&Zt.options&&Zt.options.modules||{},worker:!1},yield qr(Dr,{...Hn},hr,Zt)}),V.apply(this,arguments)}var ge=w(3827),Pe=w(3827);function ke(Zt,Tn){return!(!Pe.WorkerFarm.isSupported()||!ge.isBrowser&&!Tn?._nodeWorkers)&&Zt.worker&&Tn?.worker}function xt(Zt,Tn,Hn,hr,Dr){return Ht.apply(this,arguments)}function Ht(){return Ht=r(function*(Zt,Tn,Hn,hr,Dr){const qr=Zt.id,Bi=(0,Pe.getWorkerURL)(Zt,Hn),po=Pe.WorkerFarm.getWorkerFarm(Hn).getWorkerPool({name:qr,url:Bi});Hn=JSON.parse(JSON.stringify(Hn)),hr=JSON.parse(JSON.stringify(hr||{}));const Ro=yield po.startJob("process-on-worker",ln.bind(null,Dr));return Ro.postMessage("process",{input:Tn,options:Hn,context:hr}),yield(yield Ro.result).result}),Ht.apply(this,arguments)}function ln(Zt,Tn,Hn,hr){return Bt.apply(this,arguments)}function Bt(){return Bt=r(function*(Zt,Tn,Hn,hr){switch(Hn){case"done":Tn.done(hr);break;case"error":Tn.error(new Error(hr.error));break;case"process":const{id:Dr,input:qr,options:Bi}=hr;try{const hi=yield Zt(qr,Bi);Tn.postMessage("done",{id:Dr,result:hi})}catch(hi){const po=hi instanceof Error?hi.message:"unknown error";Tn.postMessage("error",{id:Dr,error:po})}break;default:console.warn(`parse-with-worker unknown message ${Hn}`)}}),Bt.apply(this,arguments)}var Ye=w(3827);function Ze(Zt,Tn){return!(!Ye.WorkerFarm.isSupported()||!j&&!Tn?._nodeWorkers)&&Zt.worker&&Tn?.worker}function Ot(Zt,Tn=5){return"string"==typeof Zt?Zt.slice(0,Tn):ArrayBuffer.isView(Zt)?ye(Zt.buffer,Zt.byteOffset,Tn):Zt instanceof ArrayBuffer?ye(Zt,0,Tn):""}function ye(Zt,Tn,Hn){if(Zt.byteLength<=Tn+Hn)return"";const hr=new DataView(Zt);let Dr="";for(let qr=0;qr<Hn;qr++)Dr+=String.fromCharCode(hr.getUint8(Tn+qr));return Dr}function P(Zt){try{return JSON.parse(Zt)}catch{throw new Error(`Failed to parse JSON from data starting with "${Ot(Zt)}"`)}}function B(Zt,Tn,Hn){if(Zt.byteLength<(Hn=Hn||Zt.byteLength)||Tn.byteLength<Hn)return!1;const hr=new Uint8Array(Zt),Dr=new Uint8Array(Tn);for(let qr=0;qr<hr.length;++qr)if(hr[qr]!==Dr[qr])return!1;return!0}function R(...Zt){return N(Zt)}function N(Zt){const Tn=Zt.map(qr=>qr instanceof ArrayBuffer?new Uint8Array(qr):qr),Hn=Tn.reduce((qr,Bi)=>qr+Bi.byteLength,0),hr=new Uint8Array(Hn);let Dr=0;for(const qr of Tn)hr.set(qr,Dr),Dr+=qr.byteLength;return hr.buffer}function Y(...Zt){const Tn=Zt,Hn=Tn&&Tn.length>1&&Tn[0].constructor||null;if(!Hn)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');const Dr=new Hn(Tn.reduce((Bi,hi)=>Bi+hi.length,0));let qr=0;for(const Bi of Tn)Dr.set(Bi,qr),qr+=Bi.length;return Dr}function h(Zt,Tn,Hn){const hr=void 0!==Hn?new Uint8Array(Zt).subarray(Tn,Tn+Hn):new Uint8Array(Zt).subarray(Tn);return new Uint8Array(hr).buffer}function M(Zt,Tn){return ie(Zt>=0),ie(Tn>0),Zt+(Tn-1)&~(Tn-1)}function Z(Zt,Tn,Hn,hr=Tn.byteLength){const Dr=new Uint8Array(Zt,Hn,hr),qr=new Uint8Array(Tn);return Dr.set(qr),Zt}function z(Zt,Tn,Hn){let hr;return hr=Zt instanceof ArrayBuffer?new Uint8Array(Zt):new Uint8Array(Zt.buffer||Zt.arrayBuffer,Zt.byteOffset,Zt.byteLength),Tn.set(hr,Hn),Hn+M(hr.byteLength,4)}function H(Zt,Tn){const Hn=Zt.length,Dr=Math.ceil(Hn/Tn)*Tn-Hn;let qr="";for(let Bi=0;Bi<Dr;++Bi)qr+=" ";return Zt+qr}function X(Zt,Tn,Hn,hr){if(Zt)for(let Dr=0;Dr<hr;Dr++)Zt.setUint8(Tn+Dr,Hn.charCodeAt(Dr));return Tn+hr}function oe(Zt,Tn,Hn,hr){if(Zt)for(let Dr=0;Dr<hr;Dr++)Zt.setUint8(Tn+Dr,Hn[Dr]);return Tn+hr}function He(Zt,Tn,Hn,hr){const Dr=M(Hn.byteLength,hr),qr=Dr-Hn.byteLength;if(Zt){const Bi=new Uint8Array(Zt.buffer,Zt.byteOffset+Tn,Hn.byteLength),hi=new Uint8Array(Hn);Bi.set(hi);for(let po=0;po<qr;++po)Zt.setUint8(Tn+Hn.byteLength+po,32)}return Tn+Dr}function rt(Zt,Tn,Hn,hr){return He(Zt,Tn,(new TextEncoder).encode(Hn),hr)}function ft(Zt){return It.apply(this,arguments)}function It(){return It=f(function*(Zt,Tn={}){const Hn=new TextDecoder(void 0,Tn);var qr,hr=!1,Dr=!1;try{for(var hi,Bi=b(Zt);hr=!(hi=yield x(Bi.next())).done;hr=!1){const po=hi.value;yield"string"==typeof po?po:Hn.decode(po,{stream:!0})}}catch(po){Dr=!0,qr=po}finally{try{hr&&null!=Bi.return&&(yield x(Bi.return()))}finally{if(Dr)throw qr}}}),It.apply(this,arguments)}function Ge(Zt){return Ct.apply(this,arguments)}function Ct(){return Ct=f(function*(Zt){const Tn=new TextEncoder;var Dr,Hn=!1,hr=!1;try{for(var Bi,qr=b(Zt);Hn=!(Bi=yield x(qr.next())).done;Hn=!1){const hi=Bi.value;yield"string"==typeof hi?Tn.encode(hi):hi}}catch(hi){hr=!0,Dr=hi}finally{try{Hn&&null!=qr.return&&(yield x(qr.return()))}finally{if(hr)throw Dr}}}),Ct.apply(this,arguments)}function dt(Zt){return At.apply(this,arguments)}function At(){return At=f(function*(Zt){let Tn="";var Dr,Hn=!1,hr=!1;try{for(var Bi,qr=b(Zt);Hn=!(Bi=yield x(qr.next())).done;Hn=!1){let po;for(Tn+=Bi.value;(po=Tn.indexOf("\n"))>=0;){const Ro=Tn.slice(0,po+1);Tn=Tn.slice(po+1),yield Ro}}}catch(hi){hr=!0,Dr=hi}finally{try{Hn&&null!=qr.return&&(yield x(qr.return()))}finally{if(hr)throw Dr}}Tn.length>0&&(yield Tn)}),At.apply(this,arguments)}function Qt(Zt){return Ke.apply(this,arguments)}function Ke(){return Ke=f(function*(Zt){let Tn=1;var Dr,Hn=!1,hr=!1;try{for(var Bi,qr=b(Zt);Hn=!(Bi=yield x(qr.next())).done;Hn=!1){const hi=Bi.value;yield{counter:Tn,line:hi},Tn++}}catch(hi){hr=!0,Dr=hi}finally{try{Hn&&null!=qr.return&&(yield x(qr.return()))}finally{if(hr)throw Dr}}}),Ke.apply(this,arguments)}function pt(Zt,Tn){return Tt.apply(this,arguments)}function Tt(){return Tt=r(function*(Zt,Tn){for(;;){const{done:Hn,value:hr}=yield Zt.next();if(Hn)return void Zt.return();if(Tn(hr))return}}),Tt.apply(this,arguments)}function $e(Zt){return Lt.apply(this,arguments)}function Lt(){return Lt=r(function*(Zt){const Tn=[];var Dr,Hn=!1,hr=!1;try{for(var Bi,qr=b(Zt);Hn=!(Bi=yield qr.next()).done;Hn=!1)Tn.push(Bi.value)}catch(hi){hr=!0,Dr=hi}finally{try{Hn&&null!=qr.return&&(yield qr.return())}finally{if(hr)throw Dr}}return R(...Tn)}),Lt.apply(this,arguments)}var Xt=w(750),St={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0},Fe=class{constructor(Zt={}){this.activeRequestCount=0,this.requestQueue=[],this.requestMap=new Map,this.updateTimer=null,this.props={...St,...Zt},this.stats=new Xt.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(Zt,Tn=(()=>0)){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(Zt))return this.requestMap.get(Zt);const Hn={handle:Zt,priority:0,getPriority:Tn},hr=new Promise(Dr=>(Hn.resolve=Dr,Hn));return this.requestQueue.push(Hn),this.requestMap.set(Zt,hr),this._issueNewRequests(),hr}_issueRequest(Zt){const{handle:Tn,resolve:Hn}=Zt;let hr=!1;const Dr=()=>{hr||(hr=!0,this.requestMap.delete(Tn),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,Hn?Hn({done:Dr}):Promise.resolve({done:Dr})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const Zt=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==Zt){this._updateAllRequests();for(let Tn=0;Tn<Zt;++Tn){const Hn=this.requestQueue.shift();Hn&&this._issueRequest(Hn)}}}_updateAllRequests(){const Zt=this.requestQueue;for(let Tn=0;Tn<Zt.length;++Tn){const Hn=Zt[Tn];this._updateRequest(Hn)||(Zt.splice(Tn,1),this.requestMap.delete(Hn.handle),Tn--)}Zt.sort((Tn,Hn)=>Tn.priority-Hn.priority)}_updateRequest(Zt){return Zt.priority=Zt.getPriority(Zt.handle),!(Zt.priority<0&&(Zt.resolve(null),1))}},Ue="",Ce={};function me(Zt){Ue=Zt}function it(){return Ue}function Me(Zt){Object.assign(Ce,Zt)}function We(Zt){for(const Tn in Ce)Zt.startsWith(Tn)&&(Zt=Zt.replace(Tn,Ce[Tn]));return!Zt.startsWith("http://")&&!Zt.startsWith("https://")&&(Zt=`${Ue}${Zt}`),Zt}var Kt={name:"JSON",id:"json",module:"json",version:typeof __VERSION__<"u"?__VERSION__:"latest",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:On,parse:function(){var Zt=r(function*(Tn){return On((new TextDecoder).decode(Tn))});return function(Hn){return Zt.apply(this,arguments)}}(),options:{}};function On(Zt){return JSON.parse(Zt)}function Cn(Zt){throw new Error("Buffer not supported in browser")}function tr(Zt){return Zt&&"object"==typeof Zt&&Zt.isBuffer}function Er(Zt){return Cn?Cn():Zt}function _r(Zt){if(tr(Zt))return Zt;if(Zt instanceof ArrayBuffer)return Zt;if(ArrayBuffer.isView(Zt))return 0===Zt.byteOffset&&Zt.byteLength===Zt.buffer.byteLength?Zt.buffer:Zt.buffer.slice(Zt.byteOffset,Zt.byteOffset+Zt.byteLength);if("string"==typeof Zt){const Tn=Zt;return(new TextEncoder).encode(Tn).buffer}if(Zt&&"object"==typeof Zt&&Zt._toArrayBuffer)return Zt._toArrayBuffer();throw new Error("toArrayBuffer")}function sr(Zt){return Tn=>new Promise((Hn,hr)=>Zt(Tn,(Dr,qr)=>Dr?hr(Dr):Hn(qr)))}function _n(Zt){return(Tn,Hn)=>new Promise((hr,Dr)=>Zt(Tn,Hn,(qr,Bi)=>qr?Dr(qr):hr(Bi)))}var _i={};function Ii(){var Zt;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const Tn=null==(Zt=window.location)?void 0:Zt.pathname;return Tn?.slice(0,Tn.lastIndexOf("/")+1)||""}function so(Zt){const Tn=Zt?Zt.lastIndexOf("/"):-1;return Tn>=0?Zt.substr(Tn+1):""}function Cr(Zt){const Tn=Zt?Zt.lastIndexOf("/"):-1;return Tn>=0?Zt.substr(0,Tn):""}function ii(...Zt){return(Zt=Zt.map((Hn,hr)=>(hr&&(Hn=Hn.replace(new RegExp("^/"),"")),hr!==Zt.length-1&&(Hn=Hn.replace(new RegExp("/$"),"")),Hn))).join("/")}function Or(...Zt){const Tn=[];for(let qr=0;qr<Zt.length;qr++)Tn[qr]=Zt[qr];let Dr,Hn="",hr=!1;for(let qr=Tn.length-1;qr>=-1&&!hr;qr--){let Bi;qr>=0?Bi=Tn[qr]:(void 0===Dr&&(Dr=Ii()),Bi=Dr),0!==Bi.length&&(Hn=`${Bi}/${Hn}`,hr=Bi.charCodeAt(0)===fi)}return Hn=function ho(Zt,Tn){let qr,Hn="",hr=-1,Dr=0,Bi=!1;for(let hi=0;hi<=Zt.length;++hi){if(hi<Zt.length)qr=Zt.charCodeAt(hi);else{if(qr===fi)break;qr=fi}if(qr===fi){if(hr!==hi-1&&1!==Dr)if(hr!==hi-1&&2===Dr){if(Hn.length<2||!Bi||Hn.charCodeAt(Hn.length-1)!==Yi||Hn.charCodeAt(Hn.length-2)!==Yi)if(Hn.length>2){const po=Hn.length-1;let Ro=po;for(;Ro>=0&&Hn.charCodeAt(Ro)!==fi;--Ro);if(Ro!==po){Hn=-1===Ro?"":Hn.slice(0,Ro),hr=hi,Dr=0,Bi=!1;continue}}else if(2===Hn.length||1===Hn.length){Hn="",hr=hi,Dr=0,Bi=!1;continue}Tn&&(Hn.length>0?Hn+="/..":Hn="..",Bi=!0)}else{const po=Zt.slice(hr+1,hi);Hn.length>0?Hn+=`/${po}`:Hn=po,Bi=!1}hr=hi,Dr=0}else qr===Yi&&-1!==Dr?++Dr:Dr=-1}return Hn}(Hn,!hr),hr?`/${Hn}`:Hn.length>0?Hn:"."}S(_i,{dirname:()=>Cr,filename:()=>so,join:()=>ii,resolve:()=>Or});var fi=47,Yi=46,Vi={};S(Vi,{isSupported:()=>Qi});var Qi=!1,Ve=class{constructor(Zt){this.handle=Zt instanceof ArrayBuffer?new Blob([Zt]):Zt,this.size=Zt instanceof ArrayBuffer?Zt.byteLength:Zt.size,this.bigsize=BigInt(this.size),this.url=Zt instanceof File?Zt.name:""}close(){return r(function*(){})()}stat(){var Zt=this;return r(function*(){return{size:Zt.handle.size,bigsize:BigInt(Zt.handle.size),isDirectory:!1}})()}read(Zt,Tn){var Hn=this;return r(function*(){return yield Hn.handle.slice(Zt,Zt+Tn).arrayBuffer()})()}},_t=class{constructor(Zt){this.size=0,this.bigsize=0n,this.handle=Zt,this.url=Zt}close(){return r(function*(){})()}stat(){var Zt=this;return r(function*(){const Tn=yield fetch(Zt.handle,{method:"HEAD"});if(!Tn.ok)throw new Error(`Failed to fetch HEAD ${Zt.handle}`);const Hn=parseInt(Tn.headers.get("Content-Length")||"0");return{size:Hn,bigsize:BigInt(Hn),isDirectory:!1}})()}read(Zt,Tn){var Hn=this;return r(function*(){return yield(yield Hn.fetchRange(Zt,Tn)).arrayBuffer()})()}fetchRange(Zt,Tn,Hn){var hr=this;return r(function*(){const Dr=Number(Zt),qr=Number(Tn);let Bi;Hn||(Bi=new AbortController,Hn=Bi.signal);const hi=hr.handle;let po=yield fetch(hi,{signal:Hn,headers:{Range:`bytes=${Dr}-${Dr+qr-1}`}});switch(po.status){case 206:break;case 200:const Ro=po.headers.get("Content-Length");if(!Ro||Number(Ro)>Tn)throw Bi&&Bi.abort(),Error("content-length header missing or exceeding request. Server must support HTTP Byte Serving.");case 416:if(0===Zt){const Ji=po.headers.get("Content-Range");if(!Ji||!Ji.startsWith("bytes *"))throw Error("Missing content-length on 416 response");const Yt=Number(Ji.substr(8));po=yield fetch(hr.url,{signal:Hn,headers:{Range:"bytes=0-"+(Yt-1)}})}break;default:if(po.status>=300)throw Error(`Bad response code: ${po.status}`)}return po})()}},an=new Error("Not implemented"),_e=class{constructor(Zt,Tn,Hn){var hr;if(this.size=0,this.bigsize=0n,this.url="",null!=(hr=globalThis.loaders)&&hr.NodeFile)return new globalThis.loaders.NodeFile(Zt,Tn,Hn);throw j?new Error("Can't instantiate NodeFile in browser."):new Error("Can't instantiate NodeFile. Make sure to import @loaders.gl/polyfills first.")}read(Zt,Tn){return r(function*(){throw an})()}write(Zt,Tn,Hn){return r(function*(){throw an})()}stat(){return r(function*(){throw an})()}truncate(Zt){return r(function*(){throw an})()}append(Zt){return r(function*(){throw an})()}close(){return r(function*(){})()}},Dt=new Error("Not implemented"),on=class{constructor(Zt){var Tn;if(this.readable=!0,this.writable=!0,null!=(Tn=globalThis.loaders)&&Tn.NodeFileSystem)return new globalThis.loaders.NodeFileSystem(Zt);throw j?new Error("Can't instantiate NodeFileSystem in browser."):new Error("Can't instantiate NodeFileSystem. Make sure to import @loaders.gl/polyfills first.")}openReadableFile(Zt,Tn){return r(function*(){throw Dt})()}openWritableFile(Zt,Tn,Hn){return r(function*(){throw Dt})()}readdir(Zt=".",Tn){return r(function*(){throw Dt})()}stat(Zt,Tn){return r(function*(){throw Dt})()}unlink(Zt){return r(function*(){throw Dt})()}fetch(Zt,Tn){return r(function*(){throw Dt})()}},Un=Zt=>Zt?.getUint8&&Zt?.slice&&Zt?.length,qn=class{constructor(Zt,Tn=!1){this.file=new _e(Zt,Tn?"a+":"r")}truncate(Zt){var Tn=this;return r(function*(){yield Tn.file.truncate(Zt)})()}append(Zt){var Tn=this;return r(function*(){yield Tn.file.append(Zt)})()}destroy(){var Zt=this;return r(function*(){yield Zt.file.close()})()}getUint8(Zt){var Tn=this;return r(function*(){const Hn=yield Tn.file.read(Zt,1),hr=new Uint8Array(Hn).at(0);if(void 0===hr)throw new Error("something went wrong");return hr})()}getUint16(Zt){var Tn=this;return r(function*(){const Hn=yield Tn.file.read(Zt,2),hr=new Uint16Array(Hn).at(0);if(void 0===hr)throw new Error("something went wrong");return hr})()}getUint32(Zt){var Tn=this;return r(function*(){const Hn=yield Tn.file.read(Zt,4),hr=new Uint32Array(Hn).at(0);if(void 0===hr)throw new Error("something went wrong");return hr})()}getBigUint64(Zt){var Tn=this;return r(function*(){const Hn=yield Tn.file.read(Zt,8),hr=new BigInt64Array(Hn).at(0);if(void 0===hr)throw new Error("something went wrong");return hr})()}slice(Zt,Tn){var Hn=this;return r(function*(){const hr=Tn-Zt;if(hr>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const Dr=Number(hr);return yield Hn.file.read(Zt,Dr)})()}get length(){return this.file.bigsize}},Gr=Zt=>{if(Zt>Number.MAX_SAFE_INTEGER)throw new Error("Offset is out of bounds");return Number(Zt)},Ai=class{constructor(Zt){this.file=Zt}destroy(){return r(function*(){})()}getUint8(Zt){var Tn=this;return r(function*(){return Tn.file.getUint8(Gr(Zt))})()}getUint16(Zt){var Tn=this;return r(function*(){return Tn.file.getUint16(Gr(Zt),!0)})()}getUint32(Zt){var Tn=this;return r(function*(){return Tn.file.getUint32(Gr(Zt),!0)})()}getBigUint64(Zt){var Tn=this;return r(function*(){return Tn.file.getBigUint64(Gr(Zt),!0)})()}slice(Zt,Tn){var Hn=this;return r(function*(){return Hn.file.buffer.slice(Gr(Zt),Gr(Tn))})()}get length(){return BigInt(this.file.byteLength)}},Mi=class{constructor(Zt){this._needsRefresh=!0,this.props={...Zt},this.loadOptions={...Zt.loadOptions},this.fetch=function pi(Zt){const Tn=Zt?.fetch;if(Tn&&"function"==typeof Tn)return(hr,Dr)=>Tn(hr,Dr);const Hn=Zt?.fetch;return Hn&&"function"!=typeof Hn?hr=>fetch(hr,Hn):hr=>fetch(hr)}(this.loadOptions)}setProps(Zt){this.props=Object.assign(this.props,Zt),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(Zt=!0){const Tn=this._needsRefresh;return Zt&&(this._needsRefresh=!1),Tn}},di=class extends Mi{};di.type="template",di.testURL=Zt=>!1},7526:(en,ot,w)=>{"use strict";var _e,r=w(1049).default,x=w(7909).default,f=Object.defineProperty,b=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,U={};((_e,Dt)=>{for(var on in Dt)f(_e,on,{get:Dt[on],enumerable:!0})})(U,{ArrowLikeDataType:()=>Ke,ArrowLikeField:()=>V,ArrowLikeSchema:()=>ge,ArrowLikeTable:()=>B,AsyncQueue:()=>an,Binary:()=>Me,Bool:()=>Tt,ColumnarTableBatchAggregator:()=>le,Date:()=>Kt,DateDay:()=>On,DateMillisecond:()=>vr,FixedSizeList:()=>Yi,Float:()=>Ue,Float16:()=>Ce,Float32:()=>me,Float64:()=>it,Int:()=>$e,Int16:()=>Xt,Int32:()=>gn,Int64:()=>Ln,Int8:()=>Lt,Interval:()=>ii,IntervalDayTime:()=>Or,IntervalYearMonth:()=>fi,Null:()=>pt,RowTableBatchAggregator:()=>ie,Struct:()=>ho,TableBatchBuilder:()=>$,Time:()=>tr,TimeMillisecond:()=>_r,TimeSecond:()=>Er,Timestamp:()=>sr,TimestampMicrosecond:()=>Ii,TimestampMillisecond:()=>_i,TimestampNanosecond:()=>so,TimestampSecond:()=>_n,Uint16:()=>gr,Uint32:()=>sn,Uint64:()=>St,Uint8:()=>$n,Utf8:()=>We,convertTable:()=>H,convertToArrayRow:()=>D,convertToObjectRow:()=>_,deduceMeshField:()=>Ct,deduceMeshSchema:()=>Ge,deduceTableSchema:()=>Bt,getDataTypeFromArray:()=>xt,getMeshBoundingBox:()=>It,getMeshSize:()=>ft,getTableCell:()=>be,getTableColumnIndex:()=>Qe,getTableColumnName:()=>nt,getTableLength:()=>Q,getTableNumCols:()=>ee,getTableRowAsArray:()=>ut,getTableRowAsObject:()=>De,getTableRowShape:()=>Se,getTypeInfo:()=>Vi,isTable:()=>j,makeArrayRowIterator:()=>ve,makeBatchFromTable:()=>h,makeMeshAttributeMetadata:()=>At,makeObjectRowIterator:()=>I,makeRowIterator:()=>Ft,makeTableFromBatches:()=>M,makeTableFromData:()=>R}),en.exports=(_e=U,((_e,Dt,on,Un)=>{if(Dt&&"object"==typeof Dt||"function"==typeof Dt)for(let qn of E(Dt))!C.call(_e,qn)&&undefined!==qn&&f(_e,qn,{get:()=>Dt[qn],enumerable:!(Un=b(Dt,qn))||Un.enumerable});return _e})(f({},"__esModule",{value:!0}),_e));var y=class{constructor(_e,Dt){if(this.length=0,this.rows=null,this.cursor=0,this._headers=[],this.options=Dt,this.schema=_e,!Array.isArray(_e)){this._headers=[];for(const on in _e)this._headers[_e[on].index]=_e[on].name}}rowCount(){return this.length}addArrayRow(_e,Dt){Number.isFinite(Dt)&&(this.cursor=Dt),this.shape="array-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=_e,this.length++}addObjectRow(_e,Dt){Number.isFinite(Dt)&&(this.cursor=Dt),this.shape="object-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=_e,this.length++}getBatch(){let _e=this.rows;return _e?(_e=_e.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:_e,length:this.length,schema:this.schema,cursor:this.cursor}):null}};function _(_e,Dt){if(!_e)throw new Error("null row");const on={};if(Dt)for(let Un=0;Un<Dt.length;Un++)on[Dt[Un]]=_e[Un];else for(let Un=0;Un<_e.length;Un++)on[`column-${Un}`]=_e[Un];return on}function D(_e,Dt){if(!_e)throw new Error("null row");if(Dt){const on=new Array(Dt.length);for(let Un=0;Un<Dt.length;Un++)on[Un]=_e[Dt[Un]];return on}return Object.values(_e)}var ie=class{constructor(_e,Dt){if(this.length=0,this.objectRows=null,this.arrayRows=null,this.cursor=0,this._headers=null,this.options=Dt,this.schema=_e,_e){this._headers=[];for(const on in _e)this._headers[_e[on].index]=_e[on].name}}rowCount(){return this.length}addArrayRow(_e,Dt){switch(Number.isFinite(Dt)&&(this.cursor=Dt),this._headers||=function W(_e){const Dt=[];for(let on=0;on<_e.length;on++)Dt.push(`column-${on}`);return Dt}(_e),this.options.shape){case"object-row-table":const on=_(_e,this._headers);this.addObjectRow(on,Dt);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=_e,this.length++}}addObjectRow(_e,Dt){switch(Number.isFinite(Dt)&&(this.cursor=Dt),this._headers||=function K(_e){return Object.keys(_e)}(_e),this.options.shape){case"array-row-table":const on=D(_e,this._headers);this.addArrayRow(on,Dt);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=_e,this.length++}}getBatch(){let _e=this.arrayRows||this.objectRows;return _e?(_e=_e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:_e,length:this.length,schema:this.schema,cursor:this.cursor}):null}},le=class{constructor(_e,Dt){this.length=0,this.allocated=0,this.columns={},this.schema=_e,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(_e){this._reallocateColumns();let Dt=0;for(const on in this.columns)this.columns[on][this.length]=_e[Dt++];this.length++}addObjectRow(_e){this._reallocateColumns();for(const Dt in _e)this.columns[Dt][this.length]=_e[Dt];this.length++}getBatch(){this._pruneColumns();const _e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const on in this.schema){const Un=this.schema[on];_e[Un.name]=this.columns[Un.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:_e,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const _e in this.schema){const Dt=this.schema[_e],on=Dt.type||Float32Array,Un=this.columns[Dt.index];if(Un&&ArrayBuffer.isView(Un)){const qn=new on(this.allocated);qn.set(Un),this.columns[Dt.index]=qn}else Un?(Un.length=this.allocated,this.columns[Dt.index]=Un):this.columns[Dt.index]=new on(this.allocated)}}}_pruneColumns(){for(const[_e,Dt]of Object.entries(this.columns))this.columns[_e]=Dt.slice(0,this.length)}},fe={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},$=class{constructor(_e,Dt){this.aggregator=null,this.batchCount=0,this.bytesUsed=0,this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),this.totalLength=0,this.totalBytes=0,this.rowBytes=0,this.schema=_e,this.options={...fe,...Dt}}limitReached(){var _e,Dt;return!!(null!=(_e=this.options)&&_e.limit&&this.totalLength>=this.options.limit||null!=(Dt=this.options)&&Dt._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(_e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(_e),this.totalBytes+=this.rowBytes,Array.isArray(_e)?this.addArrayRow(_e):this.addObjectRow(_e))}addArrayRow(_e){if(!this.aggregator){const Dt=this._getTableBatchType();this.aggregator=new Dt(this.schema,this.options)}this.aggregator.addArrayRow(_e)}addObjectRow(_e){if(!this.aggregator){const Dt=this._getTableBatchType();this.aggregator=new Dt(this.schema,this.options)}this.aggregator.addObjectRow(_e)}chunkComplete(_e){_e instanceof ArrayBuffer&&(this.bytesUsed+=_e.byteLength),"string"==typeof _e&&(this.bytesUsed+=_e.length),this.isChunkComplete=!0}getFullBatch(_e){return this._isFull()?this._getBatch(_e):null}getFinalBatch(_e){return this._getBatch(_e)}_estimateRowMB(_e){return Array.isArray(_e)?8*_e.length:8*Object.keys(_e).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}_getBatch(_e){if(!this.aggregator)return null;_e?.bytesUsed&&(this.bytesUsed=_e.bytesUsed);const Dt=this.aggregator.getBatch();return Dt.count=this.batchCount,Dt.bytesUsed=this.bytesUsed,Object.assign(Dt,_e),this.batchCount++,this.aggregator=null,Dt}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return ie;case"columnar-table":return le;case"arrow-table":if(!$.ArrowBatch)throw new Error("TableBatchBuilder");return $.ArrowBatch;default:return y}}};function j(_e){var Dt;switch("object"==typeof _e&&_e?.shape){case"array-row-table":case"object-row-table":return Array.isArray(_e.data);case"geojson-table":return Array.isArray(_e.features);case"columnar-table":return _e.data&&"object"==typeof _e.data;case"arrow-table":return void 0!==(null==(Dt=_e?.data)?void 0:Dt.numRows);default:return!1}}function Q(_e){switch(_e.shape){case"array-row-table":case"object-row-table":return _e.data.length;case"geojson-table":return _e.features.length;case"arrow-table":return _e.data.numRows;case"columnar-table":for(const on of Object.values(_e.data))return on.length||0;return 0;default:throw new Error("table")}}function ee(_e){if(_e.schema)return _e.schema.fields.length;if(0===Q(_e))throw new Error("empty table");switch(_e.shape){case"array-row-table":return _e.data[0].length;case"object-row-table":return Object.keys(_e.data[0]).length;case"geojson-table":return Object.keys(_e.features[0]).length;case"columnar-table":return Object.keys(_e.data).length;case"arrow-table":return _e.data.numCols;default:throw new Error("table")}}function be(_e,Dt,on){var Un;switch(_e.shape){case"array-row-table":const qn=Qe(_e,on);return _e.data[Dt][qn];case"object-row-table":return _e.data[Dt][on];case"geojson-table":return _e.features[Dt][on];case"columnar-table":return _e.data[on][Dt];case"arrow-table":const Ai=_e.data,Mi=Ai.schema.fields.findIndex(pi=>pi.name===on);return null==(Un=Ai.getChildAt(Mi))?void 0:Un.get(Dt);default:throw new Error("todo")}}function Se(_e){switch(_e.shape){case"array-row-table":case"object-row-table":return _e.shape;case"geojson-table":return"object-row-table";default:throw new Error("Not a row table")}}function Qe(_e,Dt){var on;const Un=null==(on=_e.schema)?void 0:on.fields.findIndex(qn=>qn.name===Dt);if(void 0===Un)throw new Error(Dt);return Un}function nt(_e,Dt){var on,Un;const qn=null==(Un=null==(on=_e.schema)?void 0:on.fields[Dt])?void 0:Un.name;if(!qn)throw new Error(`${Dt}`);return qn}function De(_e,Dt,on,Un){switch(_e.shape){case"object-row-table":return Un?Object.fromEntries(Object.entries(_e.data[Dt])):_e.data[Dt];case"array-row-table":if(_e.schema){const pi=on||{};for(let di=0;di<_e.schema.fields.length;di++)pi[_e.schema.fields[di].name]=_e.data[Dt][di];return pi}throw new Error("no schema");case"geojson-table":if(_e.schema){const pi=on||{};for(let di=0;di<_e.schema.fields.length;di++)pi[_e.schema.fields[di].name]=_e.features[Dt][di];return pi}throw new Error("no schema");case"columnar-table":if(_e.schema){const pi=on||{};for(let di=0;di<_e.schema.fields.length;di++)pi[_e.schema.fields[di].name]=_e.data[_e.schema.fields[di].name][Dt];return pi}{const pi=on||{};for(const[di,Zt]of Object.entries(_e.data))pi[di]=Zt[Dt];return pi}case"arrow-table":const qn=_e.data,Gr=on||{},Ai=qn.get(Dt),Mi=qn.schema;for(let pi=0;pi<Mi.fields.length;pi++)Gr[Mi.fields[pi].name]=Ai?.[Mi.fields[pi].name];return Gr;default:throw new Error("shape")}}function ut(_e,Dt,on,Un){switch(_e.shape){case"array-row-table":return Un?Array.from(_e.data[Dt]):_e.data[Dt];case"object-row-table":if(_e.schema){const pi=on||[];for(let di=0;di<_e.schema.fields.length;di++)pi[di]=_e.data[Dt][_e.schema.fields[di].name];return pi}return Object.values(_e.data[Dt]);case"geojson-table":if(_e.schema){const pi=on||[];for(let di=0;di<_e.schema.fields.length;di++)pi[di]=_e.features[Dt][_e.schema.fields[di].name];return pi}return Object.values(_e.features[Dt]);case"columnar-table":if(_e.schema){const pi=on||[];for(let di=0;di<_e.schema.fields.length;di++)pi[di]=_e.data[_e.schema.fields[di].name][Dt];return pi}{const pi=on||[];let di=0;for(const Zt of Object.values(_e.data))pi[di]=Zt[Dt],di++;return pi}case"arrow-table":const qn=_e.data,Gr=on||[],Ai=qn.get(Dt),Mi=qn.schema;for(let pi=0;pi<Mi.fields.length;pi++)Gr[pi]=Ai?.[Mi.fields[pi].name];return Gr;default:throw new Error("shape")}}function*Ft(_e,Dt){switch(Dt){case"array-row-table":yield*ve(_e);break;case"object-row-table":yield*I(_e);break;default:throw new Error(`Unknown row type ${Dt}`)}}function*ve(_e,Dt=[]){const on=Q(_e);for(let Un=0;Un<on;Un++)yield ut(_e,Un,Dt)}function*I(_e,Dt={}){const on=Q(_e);for(let Un=0;Un<on;Un++)yield De(_e,Un,Dt)}var V=class{constructor(_e,Dt,on=!1,Un=new Map){this.name=_e,this.type=Dt,this.nullable=on,this.metadata=Un}get typeId(){return this.type&&this.type.typeId}clone(){return new V(this.name,this.type,this.nullable,this.metadata)}compareTo(_e){return this.name===_e.name&&this.type===_e.type&&this.nullable===_e.nullable&&this.metadata===_e.metadata}toString(){return`${this.type}${this.nullable?", nullable":""}${this.metadata?`, metadata: ${this.metadata}`:""}`}},ge=class{constructor(_e,Dt=new Map){this.fields=_e.map(on=>new V(on.name,on.type,on.nullable,on.metadata)),this.metadata=Dt instanceof Map?Dt:new Map(Object.entries(Dt))}compareTo(_e){if(this.metadata!==_e.metadata||this.fields.length!==_e.fields.length)return!1;for(let Dt=0;Dt<this.fields.length;++Dt)if(!this.fields[Dt].compareTo(_e.fields[Dt]))return!1;return!0}select(..._e){const Dt=Object.create(null);for(const Un of _e)Dt[Un]=!0;const on=this.fields.filter(Un=>Dt[Un.name]);return new ge(on,this.metadata)}selectAt(..._e){const Dt=_e.map(on=>this.fields[on]).filter(Boolean);return new ge(Dt,this.metadata)}assign(_e){let Dt,on=this.metadata;if(_e instanceof ge){const Gr=_e;Dt=Gr.fields,on=Pe(Pe(new Map,this.metadata),Gr.metadata)}else Dt=_e;const Un=Object.create(null);for(const Gr of this.fields)Un[Gr.name]=Gr;for(const Gr of Dt)Un[Gr.name]=Gr;const qn=Object.values(Un);return new ge(qn,on)}};function Pe(_e,Dt){return new Map([..._e||new Map,...Dt||new Map])}function ke(_e,Dt="float32"){return _e instanceof Date?"date-millisecond":_e instanceof Number?Dt:"string"==typeof _e?"utf8":"null"}function xt(_e){let Dt=Ht(_e);return"null"!==Dt?{type:Dt,nullable:!1}:_e.length>0?(Dt=ke(_e[0]),{type:Dt,nullable:!0}):{type:"null",nullable:!0}}function Ht(_e){switch(_e.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function Bt(_e){switch(_e.shape){case"array-row-table":case"object-row-table":return function Ze(_e){if(!_e.length)throw new Error("deduce from empty table");const Dt=[],on=_e[0];for(const[Un,qn]of Object.entries(on))Dt.push(ye(qn,Un));return{fields:Dt,metadata:{}}}(_e.data);case"columnar-table":return function Ye(_e){const Dt=[];for(const[on,Un]of Object.entries(_e)){const qn=Ot(Un,on);Dt.push(qn)}return{fields:Dt,metadata:{}}}(_e.data);default:throw new Error("Deduce schema")}}function Ot(_e,Dt){if(ArrayBuffer.isView(_e)){const on=xt(_e);return{name:Dt,type:on.type||"null",nullable:on.nullable}}if(Array.isArray(_e)&&_e.length>0)return{name:Dt,type:ke(_e[0]),nullable:!0};throw new Error("empty table")}function ye(_e,Dt){return{name:Dt,type:ke(_e),nullable:!0}}var P=class{constructor(_e,Dt){this.table=_e,this.columnName=Dt}get(_e){return be(this.table,_e,this.columnName)}toArray(){var _e;switch(this.table.shape){case"arrow-table":return null==(_e=this.table.data.getChild(this.columnName))?void 0:_e.toArray();case"columnar-table":return this.table.data[this.columnName];default:throw new Error(this.table.shape)}}},B=class{constructor(_e){const Dt=_e.schema||Bt(_e);this.schema=new ge(Dt.fields,Dt.metadata),this.table={..._e,schema:Dt}}get data(){return"geojson-table"===this.table.shape?this.table.features:this.table.data}get numCols(){return ee(this.table)}get length(){return Q(this.table)}getChild(_e){return new P(this.table,_e)}};function R(_e){let Dt;switch(function N(_e){if(Array.isArray(_e)){if(0===_e.length)throw new Error("cannot deduce type of empty table");const Dt=_e[0];if(Array.isArray(Dt))return"array-row-table";if(Dt&&"object"==typeof Dt)return"object-row-table"}if(_e&&"object"==typeof _e)return"columnar-table";throw new Error("invalid table")}(_e)){case"array-row-table":Dt={shape:"array-row-table",data:_e};break;case"object-row-table":Dt={shape:"object-row-table",data:_e};break;case"columnar-table":Dt={shape:"columnar-table",data:_e};break;default:throw new Error("table")}const on=Bt(Dt);return{...Dt,schema:on}}var Y=w(7526);function h(_e){return{..._e,length:(0,Y.getTableLength)(_e),batchType:"data"}}function M(_e){return Z.apply(this,arguments)}function Z(){return Z=r(function*(_e){let Dt,on,Un,Gr,qn=null;var pi,Ai=!1,Mi=!1;try{for(var Zt,di=x(_e);Ai=!(Zt=yield di.next()).done;Ai=!1){const Tn=Zt.value;switch(qn=qn||Tn.shape,Gr=Gr||Tn.schema,Tn.shape){case"array-row-table":Dt=Dt||[];for(let Hn=0;Hn<(0,Y.getTableLength)(Tn);Hn++)Dt.push(Tn.data[Hn]);break;case"object-row-table":on=on||[];for(let Hn=0;Hn<(0,Y.getTableLength)(Tn);Hn++)on.push(Tn.data[Hn]);break;case"geojson-table":Un=Un||[];for(let Hn=0;Hn<(0,Y.getTableLength)(Tn);Hn++)Un.push(Tn.features[Hn]);break;default:throw new Error("shape")}}}catch(Tn){Mi=!0,pi=Tn}finally{try{Ai&&null!=di.return&&(yield di.return())}finally{if(Mi)throw pi}}if(!qn)return null;switch(qn){case"array-row-table":return{shape:"array-row-table",data:Dt,schema:Gr};case"object-row-table":return{shape:"object-row-table",data:on,schema:Gr};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:Un,schema:Gr};default:return null}}),Z.apply(this,arguments)}function z(_e,Dt){const on=function ln(_e,Dt){if(!Dt)switch(_e){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array}return Array}(_e.type,_e.nullable);return new on(Dt)}function H(_e,Dt){switch(Dt){case"object-row-table":return function rt(_e){if("object-row-table"===_e.shape)return _e;const Dt=Q(_e),on=new Array(Dt);for(let Un=0;Un<Dt;Un++)on[Un]=De(_e,Un);return{shape:"object-row-table",schema:_e.schema,data:on}}(_e);case"array-row-table":return function He(_e){if("array-row-table"===_e.shape)return _e;const Dt=Q(_e),on=new Array(Dt);for(let Un=0;Un<Dt;Un++)on[Un]=ut(_e,Un);return{shape:"array-row-table",schema:_e.schema,data:on}}(_e);case"columnar-table":return function oe(_e){var Dt;const on=_e.schema||Bt(_e),Un=(null==(Dt=_e.schema)?void 0:Dt.fields)||[];if("columnar-table"===_e.shape)return{..._e,schema:on};const qn=Q(_e),Gr={};for(const Ai of Un){const Mi=z(Ai,qn);Gr[Ai.name]=Mi;for(let pi=0;pi<qn;pi++)Mi[pi]=be(_e,pi,Ai.name)}return{shape:"columnar-table",schema:on,data:Gr}}(_e);case"arrow-table":return function X(_e){var Dt;const on=null==(Dt=globalThis.__loaders)?void 0:Dt._makeArrowTable;if(!on)throw new Error("");return on(_e)}(_e);default:throw new Error(Dt)}}function ft(_e){let Dt=0;for(const on in _e){const Un=_e[on];ArrayBuffer.isView(Un)&&(Dt+=Un.byteLength*Un.BYTES_PER_ELEMENT)}return Dt}function It(_e){let Dt=1/0,on=1/0,Un=1/0,qn=-1/0,Gr=-1/0,Ai=-1/0;const Mi=_e.POSITION?_e.POSITION.value:[],pi=Mi&&Mi.length;for(let di=0;di<pi;di+=3){const Zt=Mi[di],Tn=Mi[di+1],Hn=Mi[di+2];Dt=Zt<Dt?Zt:Dt,on=Tn<on?Tn:on,Un=Hn<Un?Hn:Un,qn=Zt>qn?Zt:qn,Gr=Tn>Gr?Tn:Gr,Ai=Hn>Ai?Hn:Ai}return[[Dt,on,Un],[qn,Gr,Ai]]}function Ge(_e,Dt={}){return{fields:dt(_e),metadata:Dt}}function Ct(_e,Dt,on){const Un=Ht(Dt.value),qn=on||At(Dt);return{name:_e,type:{type:"fixed-size-list",listSize:Dt.size,children:[{name:"value",type:Un}]},nullable:!1,metadata:qn}}function dt(_e){const Dt=[];for(const on in _e)Dt.push(Ct(on,_e[on]));return Dt}function At(_e){const Dt={};return"byteOffset"in _e&&(Dt.byteOffset=_e.byteOffset.toString(10)),"byteStride"in _e&&(Dt.byteStride=_e.byteStride.toString(10)),"normalized"in _e&&(Dt.normalized=_e.normalized.toString()),Dt}var Qt=(_e=>(_e[_e.NONE=0]="NONE",_e[_e.Null=1]="Null",_e[_e.Int=2]="Int",_e[_e.Float=3]="Float",_e[_e.Binary=4]="Binary",_e[_e.Utf8=5]="Utf8",_e[_e.Bool=6]="Bool",_e[_e.Decimal=7]="Decimal",_e[_e.Date=8]="Date",_e[_e.Time=9]="Time",_e[_e.Timestamp=10]="Timestamp",_e[_e.Interval=11]="Interval",_e[_e.List=12]="List",_e[_e.Struct=13]="Struct",_e[_e.Union=14]="Union",_e[_e.FixedSizeBinary=15]="FixedSizeBinary",_e[_e.FixedSizeList=16]="FixedSizeList",_e[_e.Map=17]="Map",_e[_e.Dictionary=-1]="Dictionary",_e[_e.Int8=-2]="Int8",_e[_e.Int16=-3]="Int16",_e[_e.Int32=-4]="Int32",_e[_e.Int64=-5]="Int64",_e[_e.Uint8=-6]="Uint8",_e[_e.Uint16=-7]="Uint16",_e[_e.Uint32=-8]="Uint32",_e[_e.Uint64=-9]="Uint64",_e[_e.Float16=-10]="Float16",_e[_e.Float32=-11]="Float32",_e[_e.Float64=-12]="Float64",_e[_e.DateDay=-13]="DateDay",_e[_e.DateMillisecond=-14]="DateMillisecond",_e[_e.TimestampSecond=-15]="TimestampSecond",_e[_e.TimestampMillisecond=-16]="TimestampMillisecond",_e[_e.TimestampMicrosecond=-17]="TimestampMicrosecond",_e[_e.TimestampNanosecond=-18]="TimestampNanosecond",_e[_e.TimeSecond=-19]="TimeSecond",_e[_e.TimeMillisecond=-20]="TimeMillisecond",_e[_e.TimeMicrosecond=-21]="TimeMicrosecond",_e[_e.TimeNanosecond=-22]="TimeNanosecond",_e[_e.DenseUnion=-23]="DenseUnion",_e[_e.SparseUnion=-24]="SparseUnion",_e[_e.IntervalDayTime=-25]="IntervalDayTime",_e[_e.IntervalYearMonth=-26]="IntervalYearMonth",_e))(Qt||{}),Ke=class{static isNull(_e){return _e&&1===_e.typeId}static isInt(_e){return _e&&2===_e.typeId}static isFloat(_e){return _e&&3===_e.typeId}static isBinary(_e){return _e&&4===_e.typeId}static isUtf8(_e){return _e&&5===_e.typeId}static isBool(_e){return _e&&6===_e.typeId}static isDecimal(_e){return _e&&7===_e.typeId}static isDate(_e){return _e&&8===_e.typeId}static isTime(_e){return _e&&9===_e.typeId}static isTimestamp(_e){return _e&&10===_e.typeId}static isInterval(_e){return _e&&11===_e.typeId}static isList(_e){return _e&&12===_e.typeId}static isStruct(_e){return _e&&13===_e.typeId}static isUnion(_e){return _e&&14===_e.typeId}static isFixedSizeBinary(_e){return _e&&15===_e.typeId}static isFixedSizeList(_e){return _e&&16===_e.typeId}static isMap(_e){return _e&&17===_e.typeId}static isDictionary(_e){return _e&&-1===_e.typeId}get typeId(){return 0}compareTo(_e){return this===_e}},pt=class extends Ke{get typeId(){return 1}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}},Tt=class extends Ke{get typeId(){return 6}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}},$e=class extends Ke{constructor(_e,Dt){super(),this.isSigned=_e,this.bitWidth=Dt}get typeId(){return 2}get[Symbol.toStringTag](){return"Int"}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}},Lt=class extends $e{constructor(){super(!0,8)}},Xt=class extends $e{constructor(){super(!0,16)}},gn=class extends $e{constructor(){super(!0,32)}},Ln=class extends $e{constructor(){super(!0,64)}},$n=class extends $e{constructor(){super(!1,8)}},gr=class extends $e{constructor(){super(!1,16)}},sn=class extends $e{constructor(){super(!1,32)}},St=class extends $e{constructor(){super(!1,64)}},Ue=class extends Ke{constructor(_e){super(),this.precision=_e}get typeId(){return 3}get[Symbol.toStringTag](){return"Float"}toString(){return`Float${this.precision}`}},Ce=class extends Ue{constructor(){super(16)}},me=class extends Ue{constructor(){super(32)}},it=class extends Ue{constructor(){super(64)}},Me=class extends Ke{constructor(){super()}get typeId(){return 4}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}},We=class extends Ke{get typeId(){return 5}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}},Gt={DAY:0,MILLISECOND:1},Kt=class extends Ke{constructor(_e){super(),this.unit=_e}get typeId(){return 8}get[Symbol.toStringTag](){return"Date"}toString(){return`Date${32*(this.unit+1)}<${Gt[this.unit]}>`}},On=class extends Kt{constructor(){super(Gt.DAY)}},vr=class extends Kt{constructor(){super(Gt.MILLISECOND)}},Cn={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9},tr=class extends Ke{constructor(_e,Dt){super(),this.unit=_e,this.bitWidth=Dt}get typeId(){return 9}toString(){return`Time${this.bitWidth}<${Cn[this.unit]}>`}get[Symbol.toStringTag](){return"Time"}},Er=class extends tr{constructor(){super(Cn.SECOND,32)}},_r=class extends tr{constructor(){super(Cn.MILLISECOND,32)}},sr=class extends Ke{constructor(_e,Dt=null){super(),this.unit=_e,this.timezone=Dt}get typeId(){return 10}get[Symbol.toStringTag](){return"Timestamp"}toString(){return`Timestamp<${Cn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}},_n=class extends sr{constructor(_e=null){super(Cn.SECOND,_e)}},_i=class extends sr{constructor(_e=null){super(Cn.MILLISECOND,_e)}},Ii=class extends sr{constructor(_e=null){super(Cn.MICROSECOND,_e)}},so=class extends sr{constructor(_e=null){super(Cn.NANOSECOND,_e)}},Cr={DAY_TIME:0,YEAR_MONTH:1},ii=class extends Ke{constructor(_e){super(),this.unit=_e}get typeId(){return 11}get[Symbol.toStringTag](){return"Interval"}toString(){return`Interval<${Cr[this.unit]}>`}},Or=class extends ii{constructor(){super(Cr.DAY_TIME)}},fi=class extends ii{constructor(){super(Cr.YEAR_MONTH)}},Yi=class extends Ke{constructor(_e,Dt){super(),this.listSize=_e,this.children=[Dt]}get typeId(){return 16}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Symbol.toStringTag](){return"FixedSizeList"}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}},ho=class extends Ke{constructor(_e){super(),this.children=_e}get typeId(){return 13}toString(){return`Struct<{${this.children.map(_e=>`${_e.name}:${_e.type}`).join(", ")}}>`}get[Symbol.toStringTag](){return"Struct"}};function Vi(_e){return{typeId:_e.typeId,ArrayType:_e.ArrayType,typeName:_e.toString(),typeEnumName:Ve(_e.typeId),precision:_e.precision}}var Qi=null;function Ve(_e){if(!Qi){Qi={};for(const Dt in Qt)Qi[Qt[Dt]]=Dt}return Qi[_e]}var _t=class extends Array{enqueue(_e){return this.push(_e)}dequeue(){return this.shift()}},an=class{constructor(){this._values=new _t,this._settlers=new _t,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(_e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Dt=this._settlers.dequeue();_e instanceof Error?Dt.reject(_e):Dt.resolve({value:_e})}else this._values.enqueue(_e)}next(){if(this._values.length>0){const _e=this._values.dequeue();return _e instanceof Error?Promise.reject(_e):Promise.resolve({value:_e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((_e,Dt)=>{this._settlers.enqueue({resolve:_e,reject:Dt})})}}},4389:(en,ot,w)=>{"use strict";var jn,r=w(1049).default,x=Object.defineProperty,f=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,S={};((jn,Zn)=>{for(var Vr in Zn)x(jn,Vr,{get:Zn[Vr],enumerable:!0})})(S,{BASIS_EXTERNAL_LIBRARIES:()=>y,BasisLoader:()=>R,BasisWorkerLoader:()=>B,CRUNCH_EXTERNAL_LIBRARIES:()=>so,CompressedTextureLoader:()=>We,CompressedTextureWorkerLoader:()=>Me,CompressedTextureWriter:()=>fi,CrunchLoader:()=>Gt,CrunchWorkerLoader:()=>Gt,GL_EXTENSIONS_CONSTANTS:()=>Q,KTX2BasisWriter:()=>Vi,KTX2BasisWriterWorker:()=>Us,NPYLoader:()=>_i,NPYWorkerLoader:()=>_n,getSupportedGPUTextureFormats:()=>Qe,loadImageTexture:()=>hr,loadImageTextureArray:()=>Yt,loadImageTextureCube:()=>ts,selectSupportedBasisFormat:()=>P}),en.exports=(jn=S,((jn,Zn,Vr,Ti)=>{if(Zn&&"object"==typeof Zn||"function"==typeof Zn)for(let qi of b(Zn))!E.call(jn,qi)&&undefined!==qi&&x(jn,qi,{get:()=>Zn[qi],enumerable:!(Ti=f(Zn,qi))||Ti.enumerable});return jn})(x({},"__esModule",{value:!0}),jn));var _,ae,U=typeof __VERSION__<"u"?__VERSION__:"latest",O=w(3827),y={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};function D(jn){return W.apply(this,arguments)}function W(){return W=r(function*(jn){const Zn=jn.modules||{};return Zn.basis?Zn.basis:(_=_||function K(jn){return L.apply(this,arguments)}(jn),yield _)}),W.apply(this,arguments)}function L(){return L=r(function*(jn){let Zn=null,Vr=null;return[Zn,Vr]=yield Promise.all([yield(0,O.loadLibrary)(y.TRANSCODER,"textures",jn),yield(0,O.loadLibrary)(y.TRANSCODER_WASM,"textures",jn)]),Zn=Zn||globalThis.BASIS,yield function ie(jn,Zn){const Vr={};return Zn&&(Vr.wasmBinary=Zn),new Promise(Ti=>{jn(Vr).then(qi=>{const{BasisFile:Co,initializeBasis:Ni}=qi;Ni(),Ti({BasisFile:Co})})})}(Zn,Vr)}),L.apply(this,arguments)}function le(jn){return fe.apply(this,arguments)}function fe(){return fe=r(function*(jn){const Zn=jn.modules||{};return Zn.basisEncoder?Zn.basisEncoder:(ae=ae||function q(jn){return $.apply(this,arguments)}(jn),yield ae)}),fe.apply(this,arguments)}function $(){return $=r(function*(jn){let Zn=null,Vr=null;return[Zn,Vr]=yield Promise.all([yield(0,O.loadLibrary)(y.ENCODER,"textures",jn),yield(0,O.loadLibrary)(y.ENCODER_WASM,"textures",jn)]),Zn=Zn||globalThis.BASIS,yield function j(jn,Zn){const Vr={};return Zn&&(Vr.wasmBinary=Zn),new Promise(Ti=>{jn(Vr).then(qi=>{const{BasisFile:Co,KTX2File:Ni,initializeBasis:ji,BasisEncoder:co}=qi;ji(),Ti({BasisFile:Co,KTX2File:Ni,BasisEncoder:co})})})}(Zn,Vr)}),$.apply(this,arguments)}var Q={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},ee=["","WEBKIT_","MOZ_"],be={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Se=null;function Qe(jn){if(!Se){jn=jn||function nt(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,Se=new Set;for(const Zn of ee)for(const Vr in be)jn&&jn.getExtension(`${Zn}${Vr}`)&&Se.add(be[Vr])}return Se}var De=w(5114);function ut(jn,Zn){const Vr=new Array(Zn.mipMapLevels);let Ti=Zn.width,qi=Zn.height,Co=0;for(let Ni=0;Ni<Zn.mipMapLevels;++Ni){const ji=ve(Zn,Ti,qi,jn,Ni),co=Ft(jn,Ni,Co,ji);Vr[Ni]={compressed:!0,format:Zn.internalFormat,data:co,width:Ti,height:qi,levelSize:ji},Ti=Math.max(1,Ti>>1),qi=Math.max(1,qi>>1),Co+=ji}return Vr}function Ft(jn,Zn,Vr,Ti){return Array.isArray(jn)?jn[Zn].levelData:new Uint8Array(jn.buffer,jn.byteOffset+Vr,Ti)}function ve(jn,Zn,Vr,Ti,qi){return Array.isArray(Ti)?jn.sizeFunction(Ti[qi]):jn.sizeFunction(Zn,Vr)}var I={131:Q.COMPRESSED_RGB_S3TC_DXT1_EXT,132:Q.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:Q.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:Q.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:Q.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:Q.COMPRESSED_RED_RGTC1_EXT,140:Q.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:Q.COMPRESSED_RED_GREEN_RGTC2_EXT,142:Q.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:Q.COMPRESSED_RGB8_ETC2,148:Q.COMPRESSED_SRGB8_ETC2,149:Q.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:Q.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:Q.COMPRESSED_RGBA8_ETC2_EAC,152:Q.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:Q.COMPRESSED_R11_EAC,154:Q.COMPRESSED_SIGNED_R11_EAC,155:Q.COMPRESSED_RG11_EAC,156:Q.COMPRESSED_SIGNED_RG11_EAC,157:Q.COMPRESSED_RGBA_ASTC_4x4_KHR,158:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:Q.COMPRESSED_RGBA_ASTC_5x4_KHR,160:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:Q.COMPRESSED_RGBA_ASTC_5x5_KHR,162:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:Q.COMPRESSED_RGBA_ASTC_6x5_KHR,164:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:Q.COMPRESSED_RGBA_ASTC_6x6_KHR,166:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:Q.COMPRESSED_RGBA_ASTC_8x5_KHR,168:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:Q.COMPRESSED_RGBA_ASTC_8x6_KHR,170:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:Q.COMPRESSED_RGBA_ASTC_8x8_KHR,172:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:Q.COMPRESSED_RGBA_ASTC_10x5_KHR,174:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:Q.COMPRESSED_RGBA_ASTC_10x6_KHR,176:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:Q.COMPRESSED_RGBA_ASTC_10x8_KHR,178:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:Q.COMPRESSED_RGBA_ASTC_10x10_KHR,180:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:Q.COMPRESSED_RGBA_ASTC_12x10_KHR,182:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:Q.COMPRESSED_RGBA_ASTC_12x12_KHR,184:Q.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:Q.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:Q.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:Q.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:Q.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:Q.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:Q.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:Q.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:Q.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:Q.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:Q.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:Q.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:Q.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:Q.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:Q.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:Q.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:Q.COMPRESSED_RGBA_ASTC_12x12_KHR},ge=[171,75,84,88,32,50,48,187,13,10,26,10];function Pe(jn){const Zn=new Uint8Array(jn);return!(Zn.byteLength<ge.length||Zn[0]!==ge[0]||Zn[1]!==ge[1]||Zn[2]!==ge[2]||Zn[3]!==ge[3]||Zn[4]!==ge[4]||Zn[5]!==ge[5]||Zn[6]!==ge[6]||Zn[7]!==ge[7]||Zn[8]!==ge[8]||Zn[9]!==ge[9]||Zn[10]!==ge[10]||Zn[11]!==ge[11])}var xt={etc1:{basisFormat:0,compressed:!0,format:Q.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:Q.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:Q.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:Q.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Q.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:Q.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function Ht(jn,Zn){return ln.apply(this,arguments)}function ln(){return ln=r(function*(jn,Zn){if("auto"===Zn.basis.containerFormat){if(Pe(jn))return Ze((yield le(Zn)).KTX2File,jn,Zn);const{BasisFile:Vr}=yield D(Zn);return Bt(Vr,jn,Zn)}if("encoder"===Zn.basis.module){const Vr=yield le(Zn);return"ktx2"===Zn.basis.containerFormat?Ze(Vr.KTX2File,jn,Zn):Bt(Vr.BasisFile,jn,Zn)}{const{BasisFile:Ti}=yield D(Zn);return Bt(Ti,jn,Zn)}}),ln.apply(this,arguments)}function Bt(jn,Zn,Vr){const Ti=new jn(new Uint8Array(Zn));try{if(!Ti.startTranscoding())throw new Error("Failed to start basis transcoding");const qi=Ti.getNumImages(),Co=[];for(let Ni=0;Ni<qi;Ni++){const ji=Ti.getNumLevels(Ni),co=[];for(let Lo=0;Lo<ji;Lo++)co.push(Ye(Ti,Ni,Lo,Vr));Co.push(co)}return Co}finally{Ti.close(),Ti.delete()}}function Ye(jn,Zn,Vr,Ti){const qi=jn.getImageWidth(Zn,Vr),Co=jn.getImageHeight(Zn,Vr),Ni=jn.getHasAlpha(),{compressed:ji,format:co,basisFormat:Lo}=ye(Ti,Ni),lo=jn.getImageTranscodedSizeInBytes(Zn,Vr,Lo),Qo=new Uint8Array(lo);if(!jn.transcodeImage(Qo,Zn,Vr,Lo,0,0))throw new Error("failed to start Basis transcoding");return{width:qi,height:Co,data:Qo,compressed:ji,format:co,hasAlpha:Ni}}function Ze(jn,Zn,Vr){const Ti=new jn(new Uint8Array(Zn));try{if(!Ti.startTranscoding())throw new Error("failed to start KTX2 transcoding");const qi=Ti.getLevels(),Co=[];for(let Ni=0;Ni<qi;Ni++){Co.push(Ot(Ti,Ni,Vr));break}return[Co]}finally{Ti.close(),Ti.delete()}}function Ot(jn,Zn,Vr){const{alphaFlag:Ti,height:qi,width:Co}=jn.getImageLevelInfo(Zn,0,0),{compressed:Ni,format:ji,basisFormat:co}=ye(Vr,Ti),Lo=jn.getImageTranscodedSizeInBytes(Zn,0,0,co),lo=new Uint8Array(Lo);if(!jn.transcodeImage(lo,Zn,0,0,co,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:Co,height:qi,data:lo,compressed:Ni,levelSize:Lo,hasAlpha:Ti,format:ji}}function ye(jn,Zn){let Vr=jn&&jn.basis&&jn.basis.format;return"auto"===Vr&&(Vr=P()),"object"==typeof Vr&&(Vr=Zn?Vr.alpha:Vr.noAlpha),Vr=Vr.toLowerCase(),xt[Vr]}function P(){const jn=Qe();return jn.has("astc")?"astc-4x4":jn.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:jn.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:jn.has("etc1")?"etc1":jn.has("etc2")?"etc2":"rgb565"}var B={name:"Basis",id:"basis",module:"textures",version:U,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},R={...B,parse:Ht},N=w(8690),Y={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},h={DXT1:Q.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:Q.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:Q.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":Q.COMPRESSED_RGB_ATC_WEBGL,ATCA:Q.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:Q.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},H={DXT1:He,DXT3:rt,DXT5:rt,"ATC ":He,ATCA:rt,ATCI:rt};function He(jn,Zn){return(jn+3>>2)*(Zn+3>>2)*8}function rt(jn,Zn){return(jn+3>>2)*(Zn+3>>2)*16}var It_MAGIC_NUMBER=55727696,It_MAGIC_NUMBER_EXTRA=1347834371,It_HEADER_LENGTH=13,It_HEADER_SIZE=52,It_MAGIC_NUMBER_INDEX=0,It_PIXEL_FORMAT_INDEX=2,It_COLOUR_SPACE_INDEX=4,It_HEIGHT_INDEX=6,It_WIDTH_INDEX=7,It_MIPMAPCOUNT_INDEX=11,It_METADATA_SIZE_INDEX=12,Ge={0:[Q.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[Q.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[Q.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[Q.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[Q.COMPRESSED_RGB_ETC1_WEBGL],7:[Q.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[Q.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[Q.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[Q.COMPRESSED_RGB8_ETC2],23:[Q.COMPRESSED_RGBA8_ETC2_EAC],24:[Q.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[Q.COMPRESSED_R11_EAC],26:[Q.COMPRESSED_RG11_EAC],27:[Q.COMPRESSED_RGBA_ASTC_4X4_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[Q.COMPRESSED_RGBA_ASTC_5X4_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[Q.COMPRESSED_RGBA_ASTC_5X5_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[Q.COMPRESSED_RGBA_ASTC_6X5_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[Q.COMPRESSED_RGBA_ASTC_6X6_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[Q.COMPRESSED_RGBA_ASTC_8X5_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[Q.COMPRESSED_RGBA_ASTC_8X6_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[Q.COMPRESSED_RGBA_ASTC_8X8_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[Q.COMPRESSED_RGBA_ASTC_10X5_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[Q.COMPRESSED_RGBA_ASTC_10X6_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[Q.COMPRESSED_RGBA_ASTC_10X8_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[Q.COMPRESSED_RGBA_ASTC_10X10_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[Q.COMPRESSED_RGBA_ASTC_12X10_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[Q.COMPRESSED_RGBA_ASTC_12X12_KHR,Q.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},Ct={0:Qt,1:Qt,2:Ke,3:Ke,6:pt,7:pt,9:Tt,11:Tt,22:pt,23:Tt,24:pt,25:pt,26:Tt,27:Tt,28:function $e(jn,Zn){return Math.floor((jn+4)/5)*Math.floor((Zn+3)/4)*16},29:function Lt(jn,Zn){return Math.floor((jn+4)/5)*Math.floor((Zn+4)/5)*16},30:function Xt(jn,Zn){return Math.floor((jn+5)/6)*Math.floor((Zn+4)/5)*16},31:function gn(jn,Zn){return Math.floor((jn+5)/6)*Math.floor((Zn+5)/6)*16},32:function Ln(jn,Zn){return Math.floor((jn+7)/8)*Math.floor((Zn+4)/5)*16},33:function $n(jn,Zn){return Math.floor((jn+7)/8)*Math.floor((Zn+5)/6)*16},34:function gr(jn,Zn){return Math.floor((jn+7)/8)*Math.floor((Zn+7)/8)*16},35:function sn(jn,Zn){return Math.floor((jn+9)/10)*Math.floor((Zn+4)/5)*16},36:function St(jn,Zn){return Math.floor((jn+9)/10)*Math.floor((Zn+5)/6)*16},37:function Fe(jn,Zn){return Math.floor((jn+9)/10)*Math.floor((Zn+7)/8)*16},38:function Ue(jn,Zn){return Math.floor((jn+9)/10)*Math.floor((Zn+9)/10)*16},39:function Ce(jn,Zn){return Math.floor((jn+11)/12)*Math.floor((Zn+9)/10)*16},40:function me(jn,Zn){return Math.floor((jn+11)/12)*Math.floor((Zn+11)/12)*16}};function Qt(jn,Zn){return(jn=Math.max(jn,16))*(Zn=Math.max(Zn,8))/4}function Ke(jn,Zn){return(jn=Math.max(jn,8))*(Zn=Math.max(Zn,8))/2}function pt(jn,Zn){return Math.floor((jn+3)/4)*Math.floor((Zn+3)/4)*8}function Tt(jn,Zn){return Math.floor((jn+3)/4)*Math.floor((Zn+3)/4)*16}function it(jn){if(Pe(jn))return function ke(jn){const Zn=new Uint8Array(jn),Vr=(0,De.read)(Zn),Ti=Math.max(1,Vr.levels.length),qi=Vr.pixelWidth,Co=Vr.pixelHeight,Ni=function V(jn){return I[jn]}(Vr.vkFormat);return ut(Vr.levels,{mipMapLevels:Ti,width:qi,height:Co,sizeFunction:ji=>ji.uncompressedByteLength,internalFormat:Ni})}(jn);if(function X(jn){return new Uint32Array(jn,0,Y.HEADER_LENGTH)[Y.MAGIC_NUMBER_INDEX]===Y.MAGIC_NUMBER}(jn))return function oe(jn){const Zn=new Int32Array(jn,0,Y.HEADER_LENGTH),Vr=Zn[Y.HEADER_PF_FOURCC_INDEX];(0,N.assert)(!!(Zn[Y.HEADER_PF_FLAGS_INDEX]&Y.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const Ti=function ft(jn){return String.fromCharCode(255&jn,jn>>8&255,jn>>16&255,jn>>24&255)}(Vr),qi=h[Ti],Co=H[Ti];(0,N.assert)(qi&&Co,`DDS: Unknown pixel format ${Vr}`);let Ni=1;Zn[Y.HEADER_FLAGS_INDEX]&Y.DDSD_MIPMAPCOUNT&&(Ni=Math.max(1,Zn[Y.MIPMAPCOUNT_INDEX]));const ji=Zn[Y.HEADER_WIDTH_INDEX],co=Zn[Y.HEADER_HEIGHT_INDEX];return ut(new Uint8Array(jn,Zn[Y.HEADER_SIZE_INDEX]+4),{mipMapLevels:Ni,width:ji,height:co,sizeFunction:Co,internalFormat:qi})}(jn);if(function dt(jn){const Vr=new Uint32Array(jn,0,It_HEADER_LENGTH)[It_MAGIC_NUMBER_INDEX];return Vr===It_MAGIC_NUMBER||Vr===It_MAGIC_NUMBER_EXTRA}(jn))return function At(jn){const Zn=new Uint32Array(jn,0,It_HEADER_LENGTH),Vr=Zn[It_PIXEL_FORMAT_INDEX],qi=Ge[Vr]||[],Co=qi.length>1&&Zn[It_COLOUR_SPACE_INDEX]?qi[1]:qi[0],Ni=Ct[Vr],ji=Zn[It_MIPMAPCOUNT_INDEX],co=Zn[It_WIDTH_INDEX],Lo=Zn[It_HEIGHT_INDEX];return ut(new Uint8Array(jn,It_HEADER_SIZE+Zn[It_METADATA_SIZE_INDEX]),{mipMapLevels:ji,width:co,height:Lo,sizeFunction:Ni,internalFormat:Co})}(jn);throw new Error("Texture container format not recognized")}var Me={name:"Texture Containers",id:"compressed-texture",module:"textures",version:U,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},We={...Me,parse:function(){var jn=r(function*(Zn,Vr){var Ti;return null!=(Ti=Vr?.["compressed-texture"])&&Ti.useBasis?(Vr.basis={format:{alpha:"BC3",noAlpha:"BC1"},...Vr.basis,containerFormat:"ktx2",module:"encoder"},(yield Ht(Zn,Vr))[0]):it(Zn)});return function(Vr,Ti){return jn.apply(this,arguments)}}()},Gt={id:"crunch",name:"Crunch",module:"textures",version:U,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}},Kt=new Uint32Array([305419896]),Cn=18!==new Uint8Array(Kt.buffer,Kt.byteOffset,Kt.byteLength)[0],tr={u1:Uint8Array,i1:Int8Array,u2:Uint16Array,i2:Int16Array,u4:Uint32Array,i4:Int32Array,f4:Float32Array,f8:Float64Array};function Er(jn,Zn){var Vr;const Ti=new DataView(jn),{header:qi,headerEndOffset:Co}=function _r(jn){const Zn=jn.getUint8(6);let Ti,Vr=8;Zn>=2?(Ti=jn.getUint32(Vr,!0),Vr+=4):(Ti=jn.getUint16(Vr,!0),Vr+=2);const Co=new TextDecoder(Zn<=2?"latin1":"utf-8"),Ni=new Uint8Array(jn.buffer,Vr,Ti),ji=Co.decode(Ni);return Vr+=Ti,{header:JSON.parse(ji.replace(/'/g,'"').replace("False","false").replace("(","[").replace(/,*\),*/g,"]")),headerEndOffset:Vr}}(Ti),Ni=qi.descr,ji=tr[Ni.slice(1,3)];if(!ji)throw new Error(`Unimplemented type ${Ni}`);const Lo=(null==(Vr=qi.shape)?void 0:Vr.reduce((Qo,ta)=>Qo*ta))*ji.BYTES_PER_ELEMENT;if(jn.byteLength<Co+Lo)throw new Error("Buffer overflow");const lo=new ji(jn.slice(Co,Co+Lo));if(">"===Ni[0]&&Cn||"<"===Ni[0]&&!Cn)throw new Error("Incorrect endianness");return{data:lo,header:qi}}var _n={name:"NPY",id:"npy",module:"textures",version:U,worker:!0,extensions:["npy"],mimeTypes:[],tests:[new Uint8Array([147,78,85,77,80,89]).buffer],options:{npy:{}}},_i={..._n,parseSync:Er,parse:function(){var jn=r(function*(Zn,Vr){return Er(Zn)});return function(Vr,Ti){return jn.apply(this,arguments)}}()},so=(w(3827),{DECODER:"crunch.js"}),Cr=w(3827);function Or(){return Or=r(function*(jn,Zn,Vr){const Ti=["texture-compressor","--type","s3tc","--compression","DXT1","--quality","normal","--input",jn,"--output",Zn];return yield(new Cr.ChildProcessProxy).start({command:"npx",arguments:Ti,spawn:Vr}),Zn}),Or.apply(this,arguments)}var fi={name:"DDS Texture Container",id:"dds",module:"textures",version:U,extensions:["dds"],options:{texture:{format:"auto",compression:"auto",quality:"auto",mipmap:!1,flipY:!1,toolFlags:""}},encodeURLtoURL:function ii(jn,Zn,Vr){return Or.apply(this,arguments)},encode(){throw new Error("Not implemented")}};function ho(){return ho=r(function*(jn,Zn={}){const{useSRGB:Vr=!1,qualityLevel:Ti=10,encodeUASTC:qi=!1,mipmaps:Co=!1}=Zn?.["ktx2-basis-writer"]||{},{BasisEncoder:Ni}=yield le(Zn),ji=new Ni;try{const co=new Uint8Array(jn.width*jn.height*4);ji.setCreateKTX2File(!0),ji.setKTX2UASTCSupercompression(!0),ji.setKTX2SRGBTransferFunc(!0),ji.setSliceSourceImage(0,jn.data,jn.width,jn.height,!1),ji.setPerceptual(Vr),ji.setMipSRGB(Vr),ji.setQualityLevel(Ti),ji.setUASTC(qi),ji.setMipGen(Co);const Lo=ji.encode(co);return co.subarray(0,Lo).buffer}catch(co){throw console.error("Basis Universal Supercompressed GPU Texture encoder Error: ",co),co}finally{ji.delete()}}),ho.apply(this,arguments)}var Vi={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:U,extensions:["ktx2"],options:{"ktx2-basis-writer":{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}},encode:function Yi(jn){return ho.apply(this,arguments)}},Qi=w(8690),Ve=w(4315),_t=w(8690);function an(jn,Zn,Vr){let Ti="function"==typeof jn?jn({...Zn,...Vr}):jn;const qi=Zn.baseUrl;return qi&&(Ti="/"===qi[qi.length-1]?`${qi}${Ti}`:`${qi}/${Ti}`),(0,_t.resolvePath)(Ti)}var _e=jn=>jn&&"object"==typeof jn;function on(){return on=r(function*(jn,Zn,Vr={}){return yield Un(jn,Zn,Vr)}),on.apply(this,arguments)}function Un(jn,Zn,Vr){return qn.apply(this,arguments)}function qn(){return qn=r(function*(jn,Zn,Vr){return Array.isArray(jn)?yield function Mi(jn,Zn){return pi.apply(this,arguments)}(jn,Zn,Vr):_e(jn)?yield function Gr(jn,Zn,Vr){return Ai.apply(this,arguments)}(jn,Zn,Vr):yield Zn(jn,Vr)}),qn.apply(this,arguments)}function Ai(){return Ai=r(function*(jn,Zn,Vr){const Ti=[],qi={};for(const Co in jn){const ji=Un(jn[Co],Zn,Vr).then(co=>{qi[Co]=co});Ti.push(ji)}return yield Promise.all(Ti),qi}),Ai.apply(this,arguments)}function pi(){return pi=r(function*(jn,Zn,Vr={}){const Ti=jn.map(qi=>Un(qi,Zn,Vr));return yield Promise.all(Ti)}),pi.apply(this,arguments)}function di(jn,Zn,Vr){return Zt.apply(this,arguments)}function Zt(){return Zt=r(function*(jn,Zn,Vr){return yield function Dt(jn,Zn){return on.apply(this,arguments)}(jn,Ti=>Tn(Ti,Zn,Vr))}),Zt.apply(this,arguments)}function Tn(jn,Zn,Vr){return Hn.apply(this,arguments)}function Hn(){return Hn=r(function*(jn,Zn,Vr){const qi=yield(yield fetch(jn,Vr.fetch)).arrayBuffer();return yield Zn(qi,Vr)}),Hn.apply(this,arguments)}function hr(jn){return Dr.apply(this,arguments)}function Dr(){return Dr=r(function*(jn,Zn={}){const Vr=yield qr(jn,Zn);return yield di(Vr,Ve.ImageLoader.parse,Zn)}),Dr.apply(this,arguments)}function qr(jn,Zn){return Bi.apply(this,arguments)}function Bi(){return Bi=r(function*(jn,Zn,Vr={}){const Ti=Zn&&Zn.image&&Zn.image.mipLevels||0;return 0!==Ti?yield function hi(jn,Zn,Vr,Ti){return po.apply(this,arguments)}(jn,Ti,Zn,Vr):an(jn,Zn,Vr)}),Bi.apply(this,arguments)}function po(){return po=r(function*(jn,Zn,Vr,Ti){const qi=[];if("auto"===Zn){const Co=an(jn,Vr,{...Ti,lod:0}),Ni=yield Tn(Co,Ve.ImageLoader.parse,Vr),{width:ji,height:co}=(0,Ve.getImageSize)(Ni);Zn=function Ro(jn){return 1+Math.floor(Math.log2(Math.max(jn.width,jn.height)))}({width:ji,height:co}),qi.push(Co)}(0,Qi.assert)(Zn>0);for(let Co=qi.length;Co<Zn;++Co){const Ni=an(jn,Vr,{...Ti,lod:Co});qi.push(Ni)}return qi}),po.apply(this,arguments)}var Ji=w(4315);function Yt(jn,Zn){return un.apply(this,arguments)}function un(){return un=r(function*(jn,Zn,Vr={}){const Ti=yield function Xn(jn,Zn){return Rr.apply(this,arguments)}(jn,Zn,Vr);return yield di(Ti,Ji.ImageLoader.parse,Vr)}),un.apply(this,arguments)}function Rr(){return Rr=r(function*(jn,Zn,Vr={}){const Ti=[];for(let qi=0;qi<jn;qi++){const Co=qr(Zn,Vr,{index:qi});Ti.push(Co)}return yield Promise.all(Ti)}),Rr.apply(this,arguments)}var ci=w(4315),ss=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function Cs(){return Cs=r(function*(jn,Zn){const Vr={},Ti=[];let qi=0;for(let Co=0;Co<ss.length;++Co){const Ni=ss[qi],ji=qr(jn,Zn,{...Ni,index:qi++}).then(co=>{Vr[Ni.face]=co});Ti.push(ji)}return yield Promise.all(Ti),Vr}),Cs.apply(this,arguments)}function ts(jn){return Jo.apply(this,arguments)}function Jo(){return Jo=r(function*(jn,Zn={}){const Vr=yield function as(jn,Zn){return Cs.apply(this,arguments)}(jn,Zn);return yield di(Vr,ci.ImageLoader.parse,Zn)}),Jo.apply(this,arguments)}var Us={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:U,extensions:["ktx2"],worker:!0,options:{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}}},3827:(en,ot,w)=>{"use strict";var Fe,r=w(1049).default,x=w(7909).default,f=Object.create,b=Object.defineProperty,E=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,u=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,S=(Fe,Ue)=>function(){return Ue||(0,Fe[C(Fe)[0]])((Ue={exports:{}}).exports,Ue),Ue.exports},O=(Fe,Ue,Ce,me)=>{if(Ue&&"object"==typeof Ue||"function"==typeof Ue)for(let it of C(Ue))!F.call(Fe,it)&&it!==Ce&&b(Fe,it,{get:()=>Ue[it],enumerable:!(me=E(Ue,it))||me.enumerable});return Fe},y=(Fe,Ue,Ce)=>(Ce=null!=Fe?f(u(Fe)):{},O(!Ue&&Fe&&Fe.__esModule?Ce:b(Ce,"default",{value:Fe,enumerable:!0}),Fe)),D=S({"(disabled):src/lib/node/require-utils.node"(){}}),W=S({"(disabled):src/lib/process-utils/child-process-proxy"(){}}),K={};((Fe,Ue)=>{for(var Ce in Ue)b(Fe,Ce,{get:Ue[Ce],enumerable:!0})})(K,{AsyncQueue:()=>oe,ChildProcessProxy:()=>sn.default,NullWorker:()=>St,WorkerBody:()=>R,WorkerFarm:()=>Ot,WorkerJob:()=>De,WorkerPool:()=>Ye,WorkerThread:()=>Bt,assert:()=>le,canProcessOnWorker:()=>M,createWorker:()=>It,getLibraryUrl:()=>Tt,getTransferList:()=>ke,getTransferListForWriter:()=>Ht,getWorkerURL:()=>h,isBrowser:()=>ee,isWorker:()=>be,loadLibrary:()=>Ke,processOnWorker:()=>Z,validateWorkerVersion:()=>dt}),en.exports=(Fe=K,O(b({},"__esModule",{value:!0}),Fe));var L="latest",ae=function ie(){var Fe;return null!=(Fe=globalThis._loadersgl_)&&Fe.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},typeof __VERSION__>"u"?(console.warn("loaders.gl: The __VERSION__ variable is not injected using babel plugin. Latest unstable workers would be fetched from the CDN."),globalThis._loadersgl_.version=L):globalThis._loadersgl_.version=__VERSION__),globalThis._loadersgl_.version}();function le(Fe,Ue){if(!Fe)throw new Error(Ue||"loaders.gl assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;var ee="object"!=typeof process||"[object process]"!==String(process)||process.browser,be="function"==typeof importScripts,Se=typeof window<"u"&&typeof window.orientation<"u",Qe=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),De=(Qe&&parseFloat(Qe[1]),class{constructor(Fe,Ue){this.isRunning=!0,this._resolve=()=>{},this._reject=()=>{},this.name=Fe,this.workerThread=Ue,this.result=new Promise((Ce,me)=>{this._resolve=Ce,this._reject=me})}postMessage(Fe,Ue){this.workerThread.postMessage({source:"loaders.gl",type:Fe,payload:Ue})}done(Fe){le(this.isRunning),this.isRunning=!1,this._resolve(Fe)}error(Fe){le(this.isRunning),this.isRunning=!1,this._reject(Fe)}}),ut=class{terminate(){}},Ft=null,ve=new Map;function ge(Fe){const Ue=new Blob([Fe],{type:"application/javascript"});return URL.createObjectURL(Ue)}function ke(Fe,Ue=!0,Ce){const me=Ce||new Set;if(Fe)if(xt(Fe))me.add(Fe);else if(xt(Fe.buffer))me.add(Fe.buffer);else if(!ArrayBuffer.isView(Fe)&&Ue&&"object"==typeof Fe)for(const it in Fe)ke(Fe[it],Ue,me);return void 0===Ce?Array.from(me):[]}function xt(Fe){return!!Fe&&(Fe instanceof ArrayBuffer||typeof MessagePort<"u"&&Fe instanceof MessagePort||typeof ImageBitmap<"u"&&Fe instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&Fe instanceof OffscreenCanvas)}function Ht(Fe){if(null===Fe)return{};const Ue=Object.assign({},Fe);return Object.keys(Ue).forEach(Ce=>{Ue[Ce]="object"!=typeof Fe[Ce]||ArrayBuffer.isView(Fe[Ce])||Fe[Ce]instanceof Array?"function"==typeof Ue[Ce]||Ue[Ce]instanceof RegExp?{}:Fe[Ce]:Ht(Fe[Ce])}),Ue}var ln=()=>{},Bt=class{constructor(Fe){this.terminated=!1,this._loadableURL="";const{name:Ue,source:Ce,url:me}=Fe;le(Ce||me),this.name=Ue,this.source=Ce,this.url=me,this.onMessage=ln,this.onError=it=>console.log(it),this.worker=ee?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&ee||typeof ut<"u"&&!ee}destroy(){this.onMessage=ln,this.onError=ln,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(Fe,Ue){Ue=Ue||ke(Fe),this.worker.postMessage(Fe,Ue)}_getErrorFromErrorEvent(Fe){let Ue="Failed to load ";return Ue+=`worker ${this.name} from ${this.url}. `,Fe.message&&(Ue+=`${Fe.message} in `),Fe.lineno&&(Ue+=`:${Fe.lineno}:${Fe.colno}`),new Error(Ue)}_createBrowserWorker(){this._loadableURL=function I(Fe){le(Fe.source&&!Fe.url||!Fe.source&&Fe.url);let Ue=ve.get(Fe.source||Fe.url);return Ue||(Fe.url&&(Ue=function V(Fe){if(!Fe.startsWith("http"))return Fe;const Ue=function Pe(Fe){return`try {\n  importScripts('${Fe}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`}(Fe);return ge(Ue)}(Fe.url),ve.set(Fe.url,Ue)),Fe.source&&(Ue=ge(Fe.source),ve.set(Fe.source,Ue))),le(Ue),Ue}({source:this.source,url:this.url});const Fe=new Worker(this._loadableURL,{name:this.name});return Fe.onmessage=Ue=>{Ue.data?this.onMessage(Ue.data):this.onError(new Error("No data received"))},Fe.onerror=Ue=>{this.onError(this._getErrorFromErrorEvent(Ue)),this.terminated=!0},Fe.onmessageerror=Ue=>console.error(Ue),Fe}_createNodeWorker(){let Fe;if(this.url){const Ce=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;Fe=new ut(Ce,{eval:!1})}else{if(!this.source)throw new Error("no worker");Fe=new ut(this.source,{eval:!0})}return Fe.on("message",Ue=>{this.onMessage(Ue)}),Fe.on("error",Ue=>{this.onError(Ue)}),Fe.on("exit",Ue=>{}),Fe}},Ye=class{constructor(Fe){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=()=>{},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=Fe.source,this.url=Fe.url,this.setProps(Fe)}static isSupported(){return Bt.isSupported()}destroy(){this.idleQueue.forEach(Fe=>Fe.destroy()),this.isDestroyed=!0}setProps(Fe){this.props={...this.props,...Fe},void 0!==Fe.name&&(this.name=Fe.name),void 0!==Fe.maxConcurrency&&(this.maxConcurrency=Fe.maxConcurrency),void 0!==Fe.maxMobileConcurrency&&(this.maxMobileConcurrency=Fe.maxMobileConcurrency),void 0!==Fe.reuseWorkers&&(this.reuseWorkers=Fe.reuseWorkers),void 0!==Fe.onDebug&&(this.onDebug=Fe.onDebug)}startJob(Fe,Ue=((me,it,Me)=>me.done(Me)),Ce=((me,it)=>me.error(it))){var me=this;return r(function*(){const it=new Promise(Me=>(me.jobQueue.push({name:Fe,onMessage:Ue,onError:Ce,onStart:Me}),me));return me._startQueuedJob(),yield it})()}_startQueuedJob(){var Fe=this;return r(function*(){if(!Fe.jobQueue.length)return;const Ue=Fe._getAvailableWorker();if(!Ue)return;const Ce=Fe.jobQueue.shift();if(Ce){Fe.onDebug({message:"Starting job",name:Ce.name,workerThread:Ue,backlog:Fe.jobQueue.length});const me=new De(Ce.name,Ue);Ue.onMessage=it=>Ce.onMessage(me,it.type,it.payload),Ue.onError=it=>Ce.onError(me,it),Ce.onStart(me);try{yield me.result}catch(it){console.error(`Worker exception: ${it}`)}finally{Fe.returnWorkerToQueue(Ue)}}})()}returnWorkerToQueue(Fe){!ee||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Fe.destroy(),this.count--):this.idleQueue.push(Fe),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Fe=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new Bt({name:Fe,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Se?this.maxMobileConcurrency:this.maxConcurrency}},Ze={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Ot=class{constructor(Fe){this.workerPools=new Map,this.props={...Ze},this.setProps(Fe),this.workerPools=new Map}static isSupported(){return Bt.isSupported()}static getWorkerFarm(Fe={}){return Ot._workerFarm=Ot._workerFarm||new Ot({}),Ot._workerFarm.setProps(Fe),Ot._workerFarm}destroy(){for(const Fe of this.workerPools.values())Fe.destroy();this.workerPools=new Map}setProps(Fe){this.props={...this.props,...Fe};for(const Ue of this.workerPools.values())Ue.setProps(this._getWorkerPoolProps())}getWorkerPool(Fe){const{name:Ue,source:Ce,url:me}=Fe;let it=this.workerPools.get(Ue);return it||(it=new Ye({name:Ue,source:Ce,url:me}),it.setProps(this._getWorkerPoolProps()),this.workerPools.set(Ue,it)),it}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};function ye(){return P.apply(this,arguments)}function P(){return(P=r(function*(){return Ft})).apply(this,arguments)}var B=new Map,R=class{static inWorkerThread(){return r(function*(){return typeof self<"u"||!!(yield ye())})()}static set onmessage(Fe){function Ue(me){return Ce.apply(this,arguments)}function Ce(){return(Ce=r(function*(me){const it=yield ye(),{type:Me,payload:We}=it?me:me.data;Fe(Me,We)})).apply(this,arguments)}ye().then(me=>{me?(me.on("message",Ue),me.on("exit",()=>console.debug("Node worker closing"))):globalThis.onmessage=Ue})}static addEventListener(Fe){return r(function*(){let Ue=B.get(Fe);Ue||(Ue=function(){var me=r(function*(it){if(!function N(Fe){const{type:Ue,data:Ce}=Fe;return"message"===Ue&&Ce&&"string"==typeof Ce.source&&Ce.source.startsWith("loaders.gl")}(it))return;const Me=yield ye(),{type:We,payload:Gt}=Me?it:it.data;Fe(We,Gt)});return function(Me){return me.apply(this,arguments)}}()),(yield ye())?console.error("not implemented"):globalThis.addEventListener("message",Ue)})()}static removeEventListener(Fe){return r(function*(){const Ue=B.get(Fe);B.delete(Fe),(yield ye())?console.error("not implemented"):globalThis.removeEventListener("message",Ue)})()}static postMessage(Fe,Ue){return r(function*(){const Ce={source:"loaders.gl",type:Fe,payload:Ue},me=ke(Ue),it=yield ye();it?it.postMessage(Ce,me):globalThis.postMessage(Ce,me)})()}};function h(Fe,Ue={}){const me=ee?`${Fe.id}-worker.js`:`${Fe.id}-worker-node.js`;let it=(Ue[Fe.id]||{}).workerUrl;if(!it&&"compression"===Fe.id&&(it=Ue.workerUrl),"test"===Ue._workerType&&(it=ee?`modules/${Fe.module}/dist/${me}`:`modules/${Fe.module}/src/workers/${Fe.id}-worker-node.ts`),!it){let Me=Fe.version;"latest"===Me&&(Me=L),it=`https://unpkg.com/@loaders.gl/${Fe.module}${Me?`@${Me}`:""}/dist/${me}`}return le(it),it}function M(Fe,Ue){return!!Ot.isSupported()&&Fe.worker&&Ue?.worker}function Z(Fe,Ue){return z.apply(this,arguments)}function z(){return z=r(function*(Fe,Ue,Ce={},me={}){const it=function Y(Fe){return`${Fe.name}@${Fe.version}${Fe.version!==ae?` (worker-utils@${ae})`:""}`}(Fe),Me=Ot.getWorkerFarm(Ce),{source:We}=Ce,Gt={name:it,source:We};We||(Gt.url=h(Fe,Ce));const Kt=Me.getWorkerPool(Gt),On=Ce.jobName||Fe.name,vr=yield Kt.startJob(On,H.bind(null,me)),Cn=Ht(Ce);return vr.postMessage("process",{input:Ue,options:Cn}),(yield vr.result).result}),z.apply(this,arguments)}function H(Fe,Ue,Ce,me){return X.apply(this,arguments)}function X(){return X=r(function*(Fe,Ue,Ce,me){switch(Ce){case"done":Ue.done(me);break;case"error":Ue.error(new Error(me.error));break;case"process":const{id:it,input:Me,options:We}=me;try{if(!Fe.process)return void Ue.postMessage("error",{id:it,error:"Worker not set up to process on main thread"});const Gt=yield Fe.process(Me,We);Ue.postMessage("done",{id:it,result:Gt})}catch(Gt){const Kt=Gt instanceof Error?Gt.message:"unknown error";Ue.postMessage("error",{id:it,error:Kt})}break;default:console.warn(`process-on-worker: unknown message ${Ce}`)}}),X.apply(this,arguments)}var rt,oe=class{constructor(){this._values=[],this._settlers=[],this._closed=!1}[Symbol.asyncIterator](){return this}push(Fe){return this.enqueue(Fe)}enqueue(Fe){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Ue=this._settlers.shift();Fe instanceof Error?Ue.reject(Fe):Ue.resolve({value:Fe})}else this._values.push(Fe)}close(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}next(){if(this._values.length>0){const Fe=this._values.shift();return Fe instanceof Error?Promise.reject(Fe):Promise.resolve({done:!1,value:Fe})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((Fe,Ue)=>{this._settlers.push({resolve:Fe,reject:Ue})})}},He=0;function It(Fe,Ue){return Ge.apply(this,arguments)}function Ge(){return Ge=r(function*(Fe,Ue){if(!(yield R.inWorkerThread()))return;const Ce={process:Ct};R.onmessage=function(){var me=r(function*(it,Me){try{switch(it){case"process":if(!Fe)throw new Error("Worker does not support atomic processing");const Cn=yield Fe(Me.input,Me.options||{},Ce);R.postMessage("done",{result:Cn});break;case"process-in-batches":if(!Ue)throw new Error("Worker does not support batched processing");rt=new oe;const tr=Ue(rt,Me.options||{},Ce);var Kt,We=!1,Gt=!1;try{for(var vr,On=x(tr);We=!(vr=yield On.next()).done;We=!1)R.postMessage("output-batch",{result:vr.value})}catch(Er){Gt=!0,Kt=Er}finally{try{We&&null!=On.return&&(yield On.return())}finally{if(Gt)throw Kt}}R.postMessage("done",{});break;case"input-batch":rt.push(Me.input);break;case"input-done":rt.close()}}catch(Cn){const tr=Cn instanceof Error?Cn.message:"";R.postMessage("error",{error:tr})}});return function(it,Me){return me.apply(this,arguments)}}()}),Ge.apply(this,arguments)}function Ct(Fe,Ue={}){return new Promise((Ce,me)=>{const it=He++,Me=(Gt,Kt)=>{if(Kt.id===it)switch(Gt){case"done":R.removeEventListener(Me),Ce(Kt.result);break;case"error":R.removeEventListener(Me),me(Kt.error)}};R.addEventListener(Me),R.postMessage("process",{id:it,input:Fe,options:Ue})})}function dt(Fe,Ue=ae){return le(Fe,"no worker provided"),!(!Ue||!Fe.version)}var At=y(D(),1),Qt={};function Ke(Fe){return pt.apply(this,arguments)}function pt(){return pt=r(function*(Fe,Ue=null,Ce={},me=null){return Ue&&(Fe=Tt(Fe,Ue,Ce,me)),Qt[Fe]=Qt[Fe]||function $e(Fe){return Lt.apply(this,arguments)}(Fe),yield Qt[Fe]}),pt.apply(this,arguments)}function Tt(Fe,Ue,Ce={},me=null){if(!Ce.useLocalLibraries&&Fe.startsWith("http"))return Fe;const it=Ce.modules||{};return it[me=me||Fe]?it[me]:ee?Ce.CDN?(le(Ce.CDN.startsWith("http")),`${Ce.CDN}/${Ue}@${ae}/dist/libs/${me}`):be?`../src/libs/${me}`:`modules/${Ue}/src/libs/${me}`:`modules/${Ue}/dist/libs/${me}`}function Lt(){return Lt=r(function*(Fe){if(Fe.endsWith("wasm"))return yield function gn(Fe){return Ln.apply(this,arguments)}(Fe);if(!ee)try{return At&&void 0}catch(Ce){return console.error(Ce),null}if(be)return importScripts(Fe);const Ue=yield function $n(Fe){return gr.apply(this,arguments)}(Fe);return function Xt(Fe,Ue){if(!ee)return;if(be)return eval.call(globalThis,Fe),null;const Ce=document.createElement("script");Ce.id=Ue;try{Ce.appendChild(document.createTextNode(Fe))}catch{Ce.text=Fe}return document.body.appendChild(Ce),null}(Ue,Fe)}),Lt.apply(this,arguments)}function Ln(){return Ln=r(function*(Fe){return yield(yield fetch(Fe)).arrayBuffer()}),Ln.apply(this,arguments)}function gr(){return gr=r(function*(Fe){return yield(yield fetch(Fe)).text()}),gr.apply(this,arguments)}var sn=y(W(),1),St={id:"null",name:"null",module:"worker-utils",version:ae,options:{null:{}}}},5593:en=>{var i,ot=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,f=(i,p)=>{for(var J in p)ot(i,J,{get:p[J],enumerable:!0})},C={};f(C,{Euler:()=>xa,Matrix3:()=>qt,Matrix4:()=>ba,Pose:()=>al,Quaternion:()=>xi,SphericalCoordinates:()=>Ds,Vector2:()=>_r,Vector3:()=>Jo,Vector4:()=>jn,_Euler:()=>xa,_MathUtils:()=>jl,_Pose:()=>al,_SphericalCoordinates:()=>Ds,acos:()=>$,asin:()=>q,assert:()=>ge,atan:()=>j,clamp:()=>Q,clone:()=>D,config:()=>U,configure:()=>O,cos:()=>le,degrees:()=>ie,equals:()=>be,exactEquals:()=>Se,formatValue:()=>y,isArray:()=>_,lerp:()=>ee,mat3:()=>Vr,mat4:()=>jr,quat:()=>Ql,radians:()=>L,sin:()=>ae,tan:()=>fe,toDegrees:()=>K,toRadians:()=>W,vec2:()=>ke,vec3:()=>sr,vec4:()=>Xi,withEpsilon:()=>Qe}),en.exports=(i=C,((i,p,J,je)=>{if(p&&"object"==typeof p||"function"==typeof p)for(let vt of r(p))!x.call(i,vt)&&undefined!==vt&&ot(i,vt,{get:()=>p[vt],enumerable:!(je=w(p,vt))||je.enumerable});return i})(ot({},"__esModule",{value:!0}),i));var u=1/Math.PI*180,F=1/180*Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};var U=globalThis.mathgl.config;function O(i){return Object.assign(U,i),U}function y(i,{precision:p=U.precision}={}){return i=function nt(i){return Math.round(i/U.EPSILON)*U.EPSILON}(i),`${parseFloat(i.toPrecision(p))}`}function _(i){return Array.isArray(i)||ArrayBuffer.isView(i)&&!(i instanceof DataView)}function D(i){return"clone"in i?i.clone():i.slice()}function W(i){return L(i)}function K(i){return ie(i)}function L(i,p){return ut(i,J=>J*F,p)}function ie(i,p){return ut(i,J=>J*u,p)}function ae(i,p){return ut(i,J=>Math.sin(J),p)}function le(i,p){return ut(i,J=>Math.cos(J),p)}function fe(i,p){return ut(i,J=>Math.tan(J),p)}function q(i,p){return ut(i,J=>Math.asin(J),p)}function $(i,p){return ut(i,J=>Math.acos(J),p)}function j(i,p){return ut(i,J=>Math.atan(J),p)}function Q(i,p,J){return ut(i,je=>Math.max(p,Math.min(J,je)))}function ee(i,p,J){return _(i)?i.map((je,vt)=>ee(je,p[vt],J)):J*p+(1-J)*i}function be(i,p,J){const je=U.EPSILON;J&&(U.EPSILON=J);try{if(i===p)return!0;if(_(i)&&_(p)){if(i.length!==p.length)return!1;for(let vt=0;vt<i.length;++vt)if(!be(i[vt],p[vt]))return!1;return!0}return i&&i.equals?i.equals(p):p&&p.equals?p.equals(i):"number"==typeof i&&"number"==typeof p&&Math.abs(i-p)<=U.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))}finally{U.EPSILON=je}}function Se(i,p){if(i===p)return!0;if(i&&"object"==typeof i&&p&&"object"==typeof p){if(i.constructor!==p.constructor)return!1;if(i.exactEquals)return i.exactEquals(p)}if(_(i)&&_(p)){if(i.length!==p.length)return!1;for(let J=0;J<i.length;++J)if(!Se(i[J],p[J]))return!1;return!0}return!1}function Qe(i,p){const J=U.EPSILON;let je;U.EPSILON=i;try{je=p()}finally{U.EPSILON=J}return je}function ut(i,p,J){if(_(i)){const je=i;J=J||function De(i){return i.clone?i.clone():new Array(i.length)}(je);for(let vt=0;vt<J.length&&vt<je.length;++vt)J[vt]=p("number"==typeof i?i:i[vt],vt,J);return J}return p(i)}var Ft=class extends Array{clone(){return(new this.constructor).copy(this)}fromArray(i,p=0){for(let J=0;J<this.ELEMENTS;++J)this[J]=i[J+p];return this.check()}toArray(i=[],p=0){for(let J=0;J<this.ELEMENTS;++J)i[p+J]=this[J];return i}toObject(i){return i}from(i){return Array.isArray(i)?this.copy(i):this.fromObject(i)}to(i){return i===this?this:_(i)?this.toArray(i):this.toObject(i)}toTarget(i){return i?this.to(i):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(U)}formatString(i){let p="";for(let J=0;J<this.ELEMENTS;++J)p+=(J>0?", ":"")+y(this[J],i);return`${i.printTypes?this.constructor.name:""}[${p}]`}equals(i){if(!i||this.length!==i.length)return!1;for(let p=0;p<this.ELEMENTS;++p)if(!be(this[p],i[p]))return!1;return!0}exactEquals(i){if(!i||this.length!==i.length)return!1;for(let p=0;p<this.ELEMENTS;++p)if(this[p]!==i[p])return!1;return!0}negate(){for(let i=0;i<this.ELEMENTS;++i)this[i]=-this[i];return this.check()}lerp(i,p,J){if(void 0===J)return this.lerp(this,i,p);for(let je=0;je<this.ELEMENTS;++je){const vt=i[je];this[je]=vt+J*(("number"==typeof p?p:p[je])-vt)}return this.check()}min(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=Math.min(i[p],this[p]);return this.check()}max(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=Math.max(i[p],this[p]);return this.check()}clamp(i,p){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],i[J]),p[J]);return this.check()}add(...i){for(const p of i)for(let J=0;J<this.ELEMENTS;++J)this[J]+=p[J];return this.check()}subtract(...i){for(const p of i)for(let J=0;J<this.ELEMENTS;++J)this[J]-=p[J];return this.check()}scale(i){if("number"==typeof i)for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;else for(let p=0;p<this.ELEMENTS&&p<i.length;++p)this[p]*=i[p];return this.check()}multiplyByScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;return this.check()}check(){if(U.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let i=this.length===this.ELEMENTS;for(let p=0;p<this.ELEMENTS;++p)i=i&&Number.isFinite(this[p]);return i}sub(i){return this.subtract(i)}setScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=i;return this.check()}addScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]+=i;return this.check()}subScalar(i){return this.addScalar(-i)}multiplyScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;return this.check()}divideScalar(i){return this.multiplyByScalar(1/i)}clampScalar(i,p){for(let J=0;J<this.ELEMENTS;++J)this[J]=Math.min(Math.max(this[J],i),p);return this.check()}get elements(){return this}};function I(i){if(!Number.isFinite(i))throw new Error(`Invalid number ${JSON.stringify(i)}`);return i}function V(i,p,J=""){if(U.debug&&!function ve(i,p){if(i.length!==p)return!1;for(let J=0;J<i.length;++J)if(!Number.isFinite(i[J]))return!1;return!0}(i,p))throw new Error(`math.gl: ${J} some fields set to invalid numbers'`);return i}function ge(i,p){if(!i)throw new Error(`math.gl assertion ${p}`)}var Pe=class extends Ft{get x(){return this[0]}set x(i){this[0]=I(i)}get y(){return this[1]}set y(i){this[1]=I(i)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let i=0;for(let p=0;p<this.ELEMENTS;++p)i+=this[p]*this[p];return i}magnitudeSquared(){return this.lengthSquared()}distance(i){return Math.sqrt(this.distanceSquared(i))}distanceSquared(i){let p=0;for(let J=0;J<this.ELEMENTS;++J){const je=this[J]-i[J];p+=je*je}return I(p)}dot(i){let p=0;for(let J=0;J<this.ELEMENTS;++J)p+=this[J]*i[J];return I(p)}normalize(){const i=this.magnitude();if(0!==i)for(let p=0;p<this.ELEMENTS;++p)this[p]/=i;return this.check()}multiply(...i){for(const p of i)for(let J=0;J<this.ELEMENTS;++J)this[J]*=p[J];return this.check()}divide(...i){for(const p of i)for(let J=0;J<this.ELEMENTS;++J)this[J]/=p[J];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(i){return this.distance(i)}distanceToSquared(i){return this.distanceSquared(i)}getComponent(i){return ge(i>=0&&i<this.ELEMENTS,"index is out of range"),I(this[i])}setComponent(i,p){return ge(i>=0&&i<this.ELEMENTS,"index is out of range"),this[i]=p,this.check()}addVectors(i,p){return this.copy(i).add(p)}subVectors(i,p){return this.copy(i).subtract(p)}multiplyVectors(i,p){return this.copy(i).multiply(p)}addScaledVector(i,p){return this.add(new this.constructor(i).multiplyScalar(p))}},ke={};f(ke,{add:()=>R,angle:()=>$n,ceil:()=>M,clone:()=>Ot,copy:()=>P,create:()=>Ze,cross:()=>Ke,dist:()=>Me,distance:()=>rt,div:()=>it,divide:()=>h,dot:()=>Qt,equals:()=>Fe,exactEquals:()=>St,floor:()=>Z,forEach:()=>Kt,fromValues:()=>ye,inverse:()=>dt,len:()=>Ue,length:()=>It,lerp:()=>pt,max:()=>H,min:()=>z,mul:()=>me,multiply:()=>Y,negate:()=>Ct,normalize:()=>At,random:()=>Tt,rotate:()=>Ln,round:()=>X,scale:()=>oe,scaleAndAdd:()=>He,set:()=>B,sqrDist:()=>We,sqrLen:()=>Gt,squaredDistance:()=>ft,squaredLength:()=>Ge,str:()=>sn,sub:()=>Ce,subtract:()=>N,transformMat2:()=>$e,transformMat2d:()=>Lt,transformMat3:()=>Xt,transformMat4:()=>gn,zero:()=>gr});var xt=1e-6,Ht=typeof Float32Array<"u"?Float32Array:Array,ln=Math.random;function Bt(i){return i>=0?Math.round(i):i%.5==0?Math.floor(i):Math.round(i)}function Ze(){const i=new Ht(2);return Ht!=Float32Array&&(i[0]=0,i[1]=0),i}function Ot(i){const p=new Ht(2);return p[0]=i[0],p[1]=i[1],p}function ye(i,p){const J=new Ht(2);return J[0]=i,J[1]=p,J}function P(i,p){return i[0]=p[0],i[1]=p[1],i}function B(i,p,J){return i[0]=p,i[1]=J,i}function R(i,p,J){return i[0]=p[0]+J[0],i[1]=p[1]+J[1],i}function N(i,p,J){return i[0]=p[0]-J[0],i[1]=p[1]-J[1],i}function Y(i,p,J){return i[0]=p[0]*J[0],i[1]=p[1]*J[1],i}function h(i,p,J){return i[0]=p[0]/J[0],i[1]=p[1]/J[1],i}function M(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i}function Z(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i}function z(i,p,J){return i[0]=Math.min(p[0],J[0]),i[1]=Math.min(p[1],J[1]),i}function H(i,p,J){return i[0]=Math.max(p[0],J[0]),i[1]=Math.max(p[1],J[1]),i}function X(i,p){return i[0]=Bt(p[0]),i[1]=Bt(p[1]),i}function oe(i,p,J){return i[0]=p[0]*J,i[1]=p[1]*J,i}function He(i,p,J,je){return i[0]=p[0]+J[0]*je,i[1]=p[1]+J[1]*je,i}function rt(i,p){const J=p[0]-i[0],je=p[1]-i[1];return Math.sqrt(J*J+je*je)}function ft(i,p){const J=p[0]-i[0],je=p[1]-i[1];return J*J+je*je}function It(i){const p=i[0],J=i[1];return Math.sqrt(p*p+J*J)}function Ge(i){const p=i[0],J=i[1];return p*p+J*J}function Ct(i,p){return i[0]=-p[0],i[1]=-p[1],i}function dt(i,p){return i[0]=1/p[0],i[1]=1/p[1],i}function At(i,p){const J=p[0],je=p[1];let vt=J*J+je*je;return vt>0&&(vt=1/Math.sqrt(vt)),i[0]=p[0]*vt,i[1]=p[1]*vt,i}function Qt(i,p){return i[0]*p[0]+i[1]*p[1]}function Ke(i,p,J){const je=p[0]*J[1]-p[1]*J[0];return i[0]=i[1]=0,i[2]=je,i}function pt(i,p,J,je){const vt=p[0],jt=p[1];return i[0]=vt+je*(J[0]-vt),i[1]=jt+je*(J[1]-jt),i}function Tt(i,p){p=void 0===p?1:p;const J=2*ln()*Math.PI;return i[0]=Math.cos(J)*p,i[1]=Math.sin(J)*p,i}function $e(i,p,J){const je=p[0],vt=p[1];return i[0]=J[0]*je+J[2]*vt,i[1]=J[1]*je+J[3]*vt,i}function Lt(i,p,J){const je=p[0],vt=p[1];return i[0]=J[0]*je+J[2]*vt+J[4],i[1]=J[1]*je+J[3]*vt+J[5],i}function Xt(i,p,J){const je=p[0],vt=p[1];return i[0]=J[0]*je+J[3]*vt+J[6],i[1]=J[1]*je+J[4]*vt+J[7],i}function gn(i,p,J){const je=p[0],vt=p[1];return i[0]=J[0]*je+J[4]*vt+J[12],i[1]=J[1]*je+J[5]*vt+J[13],i}function Ln(i,p,J,je){const vt=p[0]-J[0],jt=p[1]-J[1],hn=Math.sin(je),bn=Math.cos(je);return i[0]=vt*bn-jt*hn+J[0],i[1]=vt*hn+jt*bn+J[1],i}function $n(i,p){const J=i[0],je=i[1],vt=p[0],jt=p[1],hn=Math.sqrt((J*J+je*je)*(vt*vt+jt*jt));return Math.acos(Math.min(Math.max(hn&&(J*vt+je*jt)/hn,-1),1))}function gr(i){return i[0]=0,i[1]=0,i}function sn(i){return`vec2(${i[0]}, ${i[1]})`}function St(i,p){return i[0]===p[0]&&i[1]===p[1]}function Fe(i,p){const J=i[0],je=i[1],vt=p[0],jt=p[1];return Math.abs(J-vt)<=xt*Math.max(1,Math.abs(J),Math.abs(vt))&&Math.abs(je-jt)<=xt*Math.max(1,Math.abs(je),Math.abs(jt))}Math;var Ue=It,Ce=N,me=Y,it=h,Me=rt,We=ft,Gt=Ge,Kt=function(){const i=Ze();return function(p,J,je,vt,jt,hn){let bn,Vn;for(J||(J=2),je||(je=0),Vn=vt?Math.min(vt*J+je,p.length):p.length,bn=je;bn<Vn;bn+=J)i[0]=p[bn],i[1]=p[bn+1],jt(i,i,hn),p[bn]=i[0],p[bn+1]=i[1];return p}}();function On(i,p,J){const je=p[0],vt=p[1],jt=J[3]*je+J[7]*vt||1;return i[0]=(J[0]*je+J[4]*vt)/jt,i[1]=(J[1]*je+J[5]*vt)/jt,i}function vr(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=J[3]*je+J[7]*vt+J[11]*jt||1;return i[0]=(J[0]*je+J[4]*vt+J[8]*jt)/hn,i[1]=(J[1]*je+J[5]*vt+J[9]*jt)/hn,i[2]=(J[2]*je+J[6]*vt+J[10]*jt)/hn,i}function Er(i,p,J){const je=p[0],vt=p[1],jt=p[2];return i[0]=J[0]*je+J[3]*vt+J[6]*jt,i[1]=J[1]*je+J[4]*vt+J[7]*jt,i[2]=J[2]*je+J[5]*vt+J[8]*jt,i[3]=p[3],i}var _r=class extends Pe{constructor(i=0,p=0){super(2),_(i)&&1===arguments.length?this.copy(i):(U.debug&&(I(i),I(p)),this[0]=i,this[1]=p)}set(i,p){return this[0]=i,this[1]=p,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this.check()}fromObject(i){return U.debug&&(I(i.x),I(i.y)),this[0]=i.x,this[1]=i.y,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return gn(this,this,i),this.check()}transformAsVector(i){return On(this,this,i),this.check()}transformByMatrix3(i){return Xt(this,this,i),this.check()}transformByMatrix2x3(i){return Lt(this,this,i),this.check()}transformByMatrix2(i){return $e(this,this,i),this.check()}},sr={};function _n(){const i=new Ht(3);return Ht!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function _i(i){const p=new Ht(3);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p}function Ii(i){const p=i[0],J=i[1],je=i[2];return Math.sqrt(p*p+J*J+je*je)}function so(i,p,J){const je=new Ht(3);return je[0]=i,je[1]=p,je[2]=J,je}function Cr(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i}function ii(i,p,J,je){return i[0]=p,i[1]=J,i[2]=je,i}function Or(i,p,J){return i[0]=p[0]+J[0],i[1]=p[1]+J[1],i[2]=p[2]+J[2],i}function fi(i,p,J){return i[0]=p[0]-J[0],i[1]=p[1]-J[1],i[2]=p[2]-J[2],i}function Yi(i,p,J){return i[0]=p[0]*J[0],i[1]=p[1]*J[1],i[2]=p[2]*J[2],i}function ho(i,p,J){return i[0]=p[0]/J[0],i[1]=p[1]/J[1],i[2]=p[2]/J[2],i}function Vi(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i[2]=Math.ceil(p[2]),i}function Qi(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i[2]=Math.floor(p[2]),i}function Ve(i,p,J){return i[0]=Math.min(p[0],J[0]),i[1]=Math.min(p[1],J[1]),i[2]=Math.min(p[2],J[2]),i}function _t(i,p,J){return i[0]=Math.max(p[0],J[0]),i[1]=Math.max(p[1],J[1]),i[2]=Math.max(p[2],J[2]),i}function an(i,p){return i[0]=Bt(p[0]),i[1]=Bt(p[1]),i[2]=Bt(p[2]),i}function _e(i,p,J){return i[0]=p[0]*J,i[1]=p[1]*J,i[2]=p[2]*J,i}function Dt(i,p,J,je){return i[0]=p[0]+J[0]*je,i[1]=p[1]+J[1]*je,i[2]=p[2]+J[2]*je,i}function on(i,p){const J=p[0]-i[0],je=p[1]-i[1],vt=p[2]-i[2];return Math.sqrt(J*J+je*je+vt*vt)}function Un(i,p){const J=p[0]-i[0],je=p[1]-i[1],vt=p[2]-i[2];return J*J+je*je+vt*vt}function qn(i){const p=i[0],J=i[1],je=i[2];return p*p+J*J+je*je}function Gr(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i}function Ai(i,p){return i[0]=1/p[0],i[1]=1/p[1],i[2]=1/p[2],i}function Mi(i,p){const J=p[0],je=p[1],vt=p[2];let jt=J*J+je*je+vt*vt;return jt>0&&(jt=1/Math.sqrt(jt)),i[0]=p[0]*jt,i[1]=p[1]*jt,i[2]=p[2]*jt,i}function pi(i,p){return i[0]*p[0]+i[1]*p[1]+i[2]*p[2]}function di(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=J[0],bn=J[1],Vn=J[2];return i[0]=vt*Vn-jt*bn,i[1]=jt*hn-je*Vn,i[2]=je*bn-vt*hn,i}function Zt(i,p,J,je){const vt=p[0],jt=p[1],hn=p[2];return i[0]=vt+je*(J[0]-vt),i[1]=jt+je*(J[1]-jt),i[2]=hn+je*(J[2]-hn),i}function Tn(i,p,J,je){const vt=Math.acos(Math.min(Math.max(pi(p,J),-1),1)),jt=Math.sin(vt),hn=Math.sin((1-je)*vt)/jt,bn=Math.sin(je*vt)/jt;return i[0]=hn*p[0]+bn*J[0],i[1]=hn*p[1]+bn*J[1],i[2]=hn*p[2]+bn*J[2],i}function Hn(i,p,J,je,vt,jt){const hn=jt*jt,bn=hn*(2*jt-3)+1,Vn=hn*(jt-2)+jt,Nn=hn*(jt-1),br=hn*(3-2*jt);return i[0]=p[0]*bn+J[0]*Vn+je[0]*Nn+vt[0]*br,i[1]=p[1]*bn+J[1]*Vn+je[1]*Nn+vt[1]*br,i[2]=p[2]*bn+J[2]*Vn+je[2]*Nn+vt[2]*br,i}function hr(i,p,J,je,vt,jt){const hn=1-jt,bn=hn*hn,Vn=jt*jt,Nn=bn*hn,br=3*jt*bn,Jr=3*Vn*hn,ei=Vn*jt;return i[0]=p[0]*Nn+J[0]*br+je[0]*Jr+vt[0]*ei,i[1]=p[1]*Nn+J[1]*br+je[1]*Jr+vt[1]*ei,i[2]=p[2]*Nn+J[2]*br+je[2]*Jr+vt[2]*ei,i}function Dr(i,p){p=void 0===p?1:p;const J=2*ln()*Math.PI,je=2*ln()-1,vt=Math.sqrt(1-je*je)*p;return i[0]=Math.cos(J)*vt,i[1]=Math.sin(J)*vt,i[2]=je*p,i}function qr(i,p,J){const je=p[0],vt=p[1],jt=p[2];let hn=J[3]*je+J[7]*vt+J[11]*jt+J[15];return hn=hn||1,i[0]=(J[0]*je+J[4]*vt+J[8]*jt+J[12])/hn,i[1]=(J[1]*je+J[5]*vt+J[9]*jt+J[13])/hn,i[2]=(J[2]*je+J[6]*vt+J[10]*jt+J[14])/hn,i}function Bi(i,p,J){const je=p[0],vt=p[1],jt=p[2];return i[0]=je*J[0]+vt*J[3]+jt*J[6],i[1]=je*J[1]+vt*J[4]+jt*J[7],i[2]=je*J[2]+vt*J[5]+jt*J[8],i}function hi(i,p,J){const je=J[0],vt=J[1],jt=J[2],bn=p[0],Vn=p[1],Nn=p[2];let br=vt*Nn-jt*Vn,Jr=jt*bn-je*Nn,ei=je*Vn-vt*bn,oi=vt*ei-jt*Jr,wi=jt*br-je*ei,no=je*Jr-vt*br;const Ei=2*J[3];return br*=Ei,Jr*=Ei,ei*=Ei,oi*=2,wi*=2,no*=2,i[0]=bn+br+oi,i[1]=Vn+Jr+wi,i[2]=Nn+ei+no,i}function po(i,p,J,je){const vt=[],jt=[];return vt[0]=p[0]-J[0],vt[1]=p[1]-J[1],vt[2]=p[2]-J[2],jt[0]=vt[0],jt[1]=vt[1]*Math.cos(je)-vt[2]*Math.sin(je),jt[2]=vt[1]*Math.sin(je)+vt[2]*Math.cos(je),i[0]=jt[0]+J[0],i[1]=jt[1]+J[1],i[2]=jt[2]+J[2],i}function Ro(i,p,J,je){const vt=[],jt=[];return vt[0]=p[0]-J[0],vt[1]=p[1]-J[1],vt[2]=p[2]-J[2],jt[0]=vt[2]*Math.sin(je)+vt[0]*Math.cos(je),jt[1]=vt[1],jt[2]=vt[2]*Math.cos(je)-vt[0]*Math.sin(je),i[0]=jt[0]+J[0],i[1]=jt[1]+J[1],i[2]=jt[2]+J[2],i}function Ji(i,p,J,je){const vt=[],jt=[];return vt[0]=p[0]-J[0],vt[1]=p[1]-J[1],vt[2]=p[2]-J[2],jt[0]=vt[0]*Math.cos(je)-vt[1]*Math.sin(je),jt[1]=vt[0]*Math.sin(je)+vt[1]*Math.cos(je),jt[2]=vt[2],i[0]=jt[0]+J[0],i[1]=jt[1]+J[1],i[2]=jt[2]+J[2],i}function Yt(i,p){const J=i[0],je=i[1],vt=i[2],jt=p[0],hn=p[1],bn=p[2],Vn=Math.sqrt((J*J+je*je+vt*vt)*(jt*jt+hn*hn+bn*bn)),Nn=Vn&&pi(i,p)/Vn;return Math.acos(Math.min(Math.max(Nn,-1),1))}function un(i){return i[0]=0,i[1]=0,i[2]=0,i}function Xn(i){return`vec3(${i[0]}, ${i[1]}, ${i[2]})`}function Rr(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]}function ci(i,p){const J=i[0],je=i[1],vt=i[2],jt=p[0],hn=p[1],bn=p[2];return Math.abs(J-jt)<=xt*Math.max(1,Math.abs(J),Math.abs(jt))&&Math.abs(je-hn)<=xt*Math.max(1,Math.abs(je),Math.abs(hn))&&Math.abs(vt-bn)<=xt*Math.max(1,Math.abs(vt),Math.abs(bn))}f(sr,{add:()=>Or,angle:()=>Yt,bezier:()=>hr,ceil:()=>Vi,clone:()=>_i,copy:()=>Cr,create:()=>_n,cross:()=>di,dist:()=>ko,distance:()=>on,div:()=>go,divide:()=>ho,dot:()=>pi,equals:()=>ci,exactEquals:()=>Rr,floor:()=>Qi,forEach:()=>as,fromValues:()=>so,hermite:()=>Hn,inverse:()=>Ai,len:()=>Po,length:()=>Ii,lerp:()=>Zt,max:()=>_t,min:()=>Ve,mul:()=>Ao,multiply:()=>Yi,negate:()=>Gr,normalize:()=>Mi,random:()=>Dr,rotateX:()=>po,rotateY:()=>Ro,rotateZ:()=>Ji,round:()=>an,scale:()=>_e,scaleAndAdd:()=>Dt,set:()=>ii,slerp:()=>Tn,sqrDist:()=>Yo,sqrLen:()=>ss,squaredDistance:()=>Un,squaredLength:()=>qn,str:()=>Xn,sub:()=>$i,subtract:()=>fi,transformMat3:()=>Bi,transformMat4:()=>qr,transformQuat:()=>hi,zero:()=>un});var ts,Us,$i=fi,Ao=Yi,go=ho,ko=on,Yo=Un,Po=Ii,ss=qn,as=function(){const i=_n();return function(p,J,je,vt,jt,hn){let bn,Vn;for(J||(J=3),je||(je=0),Vn=vt?Math.min(vt*J+je,p.length):p.length,bn=je;bn<Vn;bn+=J)i[0]=p[bn],i[1]=p[bn+1],i[2]=p[bn+2],jt(i,i,hn),p[bn]=i[0],p[bn+1]=i[1],p[bn+2]=i[2];return p}}(),Cs=[0,0,0],Jo=class extends Pe{static get ZERO(){return ts||(ts=new Jo(0,0,0),Object.freeze(ts)),ts}constructor(i=0,p=0,J=0){super(-0,-0,-0),1===arguments.length&&_(i)?this.copy(i):(U.debug&&(I(i),I(p),I(J)),this[0]=i,this[1]=p,this[2]=J)}set(i,p,J){return this[0]=i,this[1]=p,this[2]=J,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this.check()}fromObject(i){return U.debug&&(I(i.x),I(i.y),I(i.z)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i}get ELEMENTS(){return 3}get z(){return this[2]}set z(i){this[2]=I(i)}angle(i){return Yt(this,i)}cross(i){return di(this,this,i),this.check()}rotateX({radians:i,origin:p=Cs}){return po(this,this,p,i),this.check()}rotateY({radians:i,origin:p=Cs}){return Ro(this,this,p,i),this.check()}rotateZ({radians:i,origin:p=Cs}){return Ji(this,this,p,i),this.check()}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return qr(this,this,i),this.check()}transformAsVector(i){return vr(this,this,i),this.check()}transformByMatrix3(i){return Bi(this,this,i),this.check()}transformByMatrix2(i){return function Cn(i,p,J){const je=p[0],vt=p[1];i[0]=J[0]*je+J[2]*vt,i[1]=J[1]*je+J[3]*vt,i[2]=p[2]}(this,this,i),this.check()}transformByQuaternion(i){return hi(this,this,i),this.check()}},jn=class extends Pe{static get ZERO(){return Us||(Us=new jn(0,0,0,0),Object.freeze(Us)),Us}constructor(i=0,p=0,J=0,je=0){super(-0,-0,-0,-0),_(i)&&1===arguments.length?this.copy(i):(U.debug&&(I(i),I(p),I(J),I(je)),this[0]=i,this[1]=p,this[2]=J,this[3]=je)}set(i,p,J,je){return this[0]=i,this[1]=p,this[2]=J,this[3]=je,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}fromObject(i){return U.debug&&(I(i.x),I(i.y),I(i.z),I(i.w)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i.w=this[3],i}get ELEMENTS(){return 4}get z(){return this[2]}set z(i){this[2]=I(i)}get w(){return this[3]}set w(i){this[3]=I(i)}transform(i){return qr(this,this,i),this.check()}transformByMatrix3(i){return Er(this,this,i),this.check()}transformByMatrix2(i){return function tr(i,p,J){const je=p[0],vt=p[1];i[0]=J[0]*je+J[2]*vt,i[1]=J[1]*je+J[3]*vt,i[2]=p[2],i[3]=p[3]}(this,this,i),this.check()}transformByQuaternion(i){return hi(this,this,i),this.check()}applyMatrix4(i){return i.transform(this,this),this}},Zn=class extends Ft{toString(){let i="[";if(U.printRowMajor){i+="row-major:";for(let p=0;p<this.RANK;++p)for(let J=0;J<this.RANK;++J)i+=` ${this[J*this.RANK+p]}`}else{i+="column-major:";for(let p=0;p<this.ELEMENTS;++p)i+=` ${this[p]}`}return i+="]",i}getElementIndex(i,p){return p*this.RANK+i}getElement(i,p){return this[p*this.RANK+i]}setElement(i,p,J){return this[p*this.RANK+i]=I(J),this}getColumn(i,p=new Array(this.RANK).fill(-0)){const J=i*this.RANK;for(let je=0;je<this.RANK;++je)p[je]=this[J+je];return p}setColumn(i,p){const J=i*this.RANK;for(let je=0;je<this.RANK;++je)this[J+je]=p[je];return this}},Vr={};function Ti(){const i=new Ht(9);return Ht!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function qi(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[4],i[4]=p[5],i[5]=p[6],i[6]=p[8],i[7]=p[9],i[8]=p[10],i}function Co(i){const p=new Ht(9);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p[4]=i[4],p[5]=i[5],p[6]=i[6],p[7]=i[7],p[8]=i[8],p}function Ni(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i}function ji(i,p,J,je,vt,jt,hn,bn,Vn){const Nn=new Ht(9);return Nn[0]=i,Nn[1]=p,Nn[2]=J,Nn[3]=je,Nn[4]=vt,Nn[5]=jt,Nn[6]=hn,Nn[7]=bn,Nn[8]=Vn,Nn}function co(i,p,J,je,vt,jt,hn,bn,Vn,Nn){return i[0]=p,i[1]=J,i[2]=je,i[3]=vt,i[4]=jt,i[5]=hn,i[6]=bn,i[7]=Vn,i[8]=Nn,i}function Lo(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function lo(i,p){if(i===p){const J=p[1],je=p[2],vt=p[5];i[1]=p[3],i[2]=p[6],i[3]=J,i[5]=p[7],i[6]=je,i[7]=vt}else i[0]=p[0],i[1]=p[3],i[2]=p[6],i[3]=p[1],i[4]=p[4],i[5]=p[7],i[6]=p[2],i[7]=p[5],i[8]=p[8];return i}function Qo(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=p[4],bn=p[5],Vn=p[6],Nn=p[7],br=p[8],Jr=br*hn-bn*Nn,ei=-br*jt+bn*Vn,oi=Nn*jt-hn*Vn;let wi=J*Jr+je*ei+vt*oi;return wi?(wi=1/wi,i[0]=Jr*wi,i[1]=(-br*je+vt*Nn)*wi,i[2]=(bn*je-vt*hn)*wi,i[3]=ei*wi,i[4]=(br*J-vt*Vn)*wi,i[5]=(-bn*J+vt*jt)*wi,i[6]=oi*wi,i[7]=(-Nn*J+je*Vn)*wi,i[8]=(hn*J-je*jt)*wi,i):null}function ta(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=p[4],bn=p[5],Vn=p[6],Nn=p[7],br=p[8];return i[0]=hn*br-bn*Nn,i[1]=vt*Nn-je*br,i[2]=je*bn-vt*hn,i[3]=bn*Vn-jt*br,i[4]=J*br-vt*Vn,i[5]=vt*jt-J*bn,i[6]=jt*Nn-hn*Vn,i[7]=je*Vn-J*Nn,i[8]=J*hn-je*jt,i}function Ws(i){const vt=i[3],jt=i[4],hn=i[5],bn=i[6],Vn=i[7],Nn=i[8];return i[0]*(Nn*jt-hn*Vn)+i[1]*(-Nn*vt+hn*bn)+i[2]*(Vn*vt-jt*bn)}function cs(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=p[4],Vn=p[5],Nn=p[6],br=p[7],Jr=p[8],ei=J[0],oi=J[1],wi=J[2],no=J[3],Ei=J[4],So=J[5],$o=J[6],Oo=J[7],Io=J[8];return i[0]=ei*je+oi*hn+wi*Nn,i[1]=ei*vt+oi*bn+wi*br,i[2]=ei*jt+oi*Vn+wi*Jr,i[3]=no*je+Ei*hn+So*Nn,i[4]=no*vt+Ei*bn+So*br,i[5]=no*jt+Ei*Vn+So*Jr,i[6]=$o*je+Oo*hn+Io*Nn,i[7]=$o*vt+Oo*bn+Io*br,i[8]=$o*jt+Oo*Vn+Io*Jr,i}function Ns(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=p[4],Vn=p[5],Nn=p[6],br=p[7],Jr=p[8],ei=J[0],oi=J[1];return i[0]=je,i[1]=vt,i[2]=jt,i[3]=hn,i[4]=bn,i[5]=Vn,i[6]=ei*je+oi*hn+Nn,i[7]=ei*vt+oi*bn+br,i[8]=ei*jt+oi*Vn+Jr,i}function ns(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=p[4],Vn=p[5],Nn=p[6],br=p[7],Jr=p[8],ei=Math.sin(J),oi=Math.cos(J);return i[0]=oi*je+ei*hn,i[1]=oi*vt+ei*bn,i[2]=oi*jt+ei*Vn,i[3]=oi*hn-ei*je,i[4]=oi*bn-ei*vt,i[5]=oi*Vn-ei*jt,i[6]=Nn,i[7]=br,i[8]=Jr,i}function Ks(i,p,J){const je=J[0],vt=J[1];return i[0]=je*p[0],i[1]=je*p[1],i[2]=je*p[2],i[3]=vt*p[3],i[4]=vt*p[4],i[5]=vt*p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i}function Go(i,p){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=p[0],i[7]=p[1],i[8]=1,i}function Aa(i,p){const J=Math.sin(p),je=Math.cos(p);return i[0]=je,i[1]=J,i[2]=0,i[3]=-J,i[4]=je,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function oa(i,p){return i[0]=p[0],i[1]=0,i[2]=0,i[3]=0,i[4]=p[1],i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Ko(i,p){return i[0]=p[0],i[1]=p[1],i[2]=0,i[3]=p[2],i[4]=p[3],i[5]=0,i[6]=p[4],i[7]=p[5],i[8]=1,i}function Fs(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=J+J,bn=je+je,Vn=vt+vt,Nn=J*hn,br=je*hn,Jr=je*bn,ei=vt*hn,oi=vt*bn,wi=vt*Vn,no=jt*hn,Ei=jt*bn,So=jt*Vn;return i[0]=1-Jr-wi,i[3]=br-So,i[6]=ei+Ei,i[1]=br+So,i[4]=1-Nn-wi,i[7]=oi-no,i[2]=ei-Ei,i[5]=oi+no,i[8]=1-Nn-Jr,i}function Vs(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=p[4],bn=p[5],Vn=p[6],Nn=p[7],br=p[8],Jr=p[9],ei=p[10],oi=p[11],wi=p[12],no=p[13],Ei=p[14],So=p[15],$o=J*bn-je*hn,Oo=J*Vn-vt*hn,Io=J*Nn-jt*hn,Uo=je*Vn-vt*bn,Tr=je*Nn-jt*bn,Eo=vt*Nn-jt*Vn,Ps=br*no-Jr*wi,zs=br*Ei-ei*wi,bo=br*So-oi*wi,aa=Jr*Ei-ei*no,Zs=Jr*So-oi*no,Ts=ei*So-oi*Ei;let is=$o*Ts-Oo*Zs+Io*aa+Uo*bo-Tr*zs+Eo*Ps;return is?(is=1/is,i[0]=(bn*Ts-Vn*Zs+Nn*aa)*is,i[1]=(Vn*bo-hn*Ts-Nn*zs)*is,i[2]=(hn*Zs-bn*bo+Nn*Ps)*is,i[3]=(vt*Zs-je*Ts-jt*aa)*is,i[4]=(J*Ts-vt*bo+jt*zs)*is,i[5]=(je*bo-J*Zs-jt*Ps)*is,i[6]=(no*Eo-Ei*Tr+So*Uo)*is,i[7]=(Ei*Io-wi*Eo-So*Oo)*is,i[8]=(wi*Tr-no*Io+So*$o)*is,i):null}function ds(i,p,J){return i[0]=2/p,i[1]=0,i[2]=0,i[3]=0,i[4]=-2/J,i[5]=0,i[6]=-1,i[7]=1,i[8]=1,i}function Xs(i){return`mat3(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]})`}function Jn(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8])}function rr(i,p,J){return i[0]=p[0]+J[0],i[1]=p[1]+J[1],i[2]=p[2]+J[2],i[3]=p[3]+J[3],i[4]=p[4]+J[4],i[5]=p[5]+J[5],i[6]=p[6]+J[6],i[7]=p[7]+J[7],i[8]=p[8]+J[8],i}function ur(i,p,J){return i[0]=p[0]-J[0],i[1]=p[1]-J[1],i[2]=p[2]-J[2],i[3]=p[3]-J[3],i[4]=p[4]-J[4],i[5]=p[5]-J[5],i[6]=p[6]-J[6],i[7]=p[7]-J[7],i[8]=p[8]-J[8],i}function Ar(i,p,J){return i[0]=p[0]*J,i[1]=p[1]*J,i[2]=p[2]*J,i[3]=p[3]*J,i[4]=p[4]*J,i[5]=p[5]*J,i[6]=p[6]*J,i[7]=p[7]*J,i[8]=p[8]*J,i}function Di(i,p,J,je){return i[0]=p[0]+J[0]*je,i[1]=p[1]+J[1]*je,i[2]=p[2]+J[2]*je,i[3]=p[3]+J[3]*je,i[4]=p[4]+J[4]*je,i[5]=p[5]+J[5]*je,i[6]=p[6]+J[6]*je,i[7]=p[7]+J[7]*je,i[8]=p[8]+J[8]*je,i}function mt(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]&&i[4]===p[4]&&i[5]===p[5]&&i[6]===p[6]&&i[7]===p[7]&&i[8]===p[8]}function mn(i,p){const J=i[0],je=i[1],vt=i[2],jt=i[3],hn=i[4],bn=i[5],Vn=i[6],Nn=i[7],br=i[8],Jr=p[0],ei=p[1],oi=p[2],wi=p[3],no=p[4],Ei=p[5],So=p[6],$o=p[7],Oo=p[8];return Math.abs(J-Jr)<=xt*Math.max(1,Math.abs(J),Math.abs(Jr))&&Math.abs(je-ei)<=xt*Math.max(1,Math.abs(je),Math.abs(ei))&&Math.abs(vt-oi)<=xt*Math.max(1,Math.abs(vt),Math.abs(oi))&&Math.abs(jt-wi)<=xt*Math.max(1,Math.abs(jt),Math.abs(wi))&&Math.abs(hn-no)<=xt*Math.max(1,Math.abs(hn),Math.abs(no))&&Math.abs(bn-Ei)<=xt*Math.max(1,Math.abs(bn),Math.abs(Ei))&&Math.abs(Vn-So)<=xt*Math.max(1,Math.abs(Vn),Math.abs(So))&&Math.abs(Nn-$o)<=xt*Math.max(1,Math.abs(Nn),Math.abs($o))&&Math.abs(br-Oo)<=xt*Math.max(1,Math.abs(br),Math.abs(Oo))}f(Vr,{add:()=>rr,adjoint:()=>ta,clone:()=>Co,copy:()=>Ni,create:()=>Ti,determinant:()=>Ws,equals:()=>mn,exactEquals:()=>mt,frob:()=>Jn,fromMat2d:()=>Ko,fromMat4:()=>qi,fromQuat:()=>Fs,fromRotation:()=>Aa,fromScaling:()=>oa,fromTranslation:()=>Go,fromValues:()=>ji,identity:()=>Lo,invert:()=>Qo,mul:()=>Ut,multiply:()=>cs,multiplyScalar:()=>Ar,multiplyScalarAndAdd:()=>Di,normalFromMat4:()=>Vs,projection:()=>ds,rotate:()=>ns,scale:()=>Ks,set:()=>co,str:()=>Xs,sub:()=>dn,subtract:()=>ur,translate:()=>Ns,transpose:()=>lo});var zn,Ut=cs,dn=ur,Xe=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL1ROW0=3]="COL1ROW0",i[i.COL1ROW1=4]="COL1ROW1",i[i.COL1ROW2=5]="COL1ROW2",i[i.COL2ROW0=6]="COL2ROW0",i[i.COL2ROW1=7]="COL2ROW1",i[i.COL2ROW2=8]="COL2ROW2",i}(Xe||{}),Rt=Object.freeze([1,0,0,0,1,0,0,0,1]),qt=class extends Zn{static get IDENTITY(){return function $r(){return fr||(fr=new qt,Object.freeze(fr)),fr}()}static get ZERO(){return function mr(){return zn||(zn=new qt([0,0,0,0,0,0,0,0,0]),Object.freeze(zn)),zn}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return Xe}constructor(i,...p){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):p.length>0?this.copy([i,...p]):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this.check()}identity(){return this.copy(Rt)}fromObject(i){return this.check()}fromQuaternion(i){return Fs(this,i),this.check()}set(i,p,J,je,vt,jt,hn,bn,Vn){return this[0]=i,this[1]=p,this[2]=J,this[3]=je,this[4]=vt,this[5]=jt,this[6]=hn,this[7]=bn,this[8]=Vn,this.check()}setRowMajor(i,p,J,je,vt,jt,hn,bn,Vn){return this[0]=i,this[1]=je,this[2]=hn,this[3]=p,this[4]=vt,this[5]=bn,this[6]=J,this[7]=jt,this[8]=Vn,this.check()}determinant(){return Ws(this)}transpose(){return lo(this,this),this.check()}invert(){return Qo(this,this),this.check()}multiplyLeft(i){return cs(this,i,this),this.check()}multiplyRight(i){return cs(this,this,i),this.check()}rotate(i){return ns(this,this,i),this.check()}scale(i){return Array.isArray(i)?Ks(this,this,i):Ks(this,this,[i,i]),this.check()}translate(i){return Ns(this,this,i),this.check()}transform(i,p){let J;switch(i.length){case 2:J=Xt(p||[-0,-0],i,this);break;case 3:J=Bi(p||[-0,-0,-0],i,this);break;case 4:J=Er(p||[-0,-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return V(J,i.length),J}transformVector(i,p){return this.transform(i,p)}transformVector2(i,p){return this.transform(i,p)}transformVector3(i,p){return this.transform(i,p)}},fr=null,jr={};function li(){const i=new Ht(16);return Ht!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i}function Wr(i){const p=new Ht(16);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p[4]=i[4],p[5]=i[5],p[6]=i[6],p[7]=i[7],p[8]=i[8],p[9]=i[9],p[10]=i[10],p[11]=i[11],p[12]=i[12],p[13]=i[13],p[14]=i[14],p[15]=i[15],p}function eo(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i[9]=p[9],i[10]=p[10],i[11]=p[11],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15],i}function yo(i,p,J,je,vt,jt,hn,bn,Vn,Nn,br,Jr,ei,oi,wi,no){const Ei=new Ht(16);return Ei[0]=i,Ei[1]=p,Ei[2]=J,Ei[3]=je,Ei[4]=vt,Ei[5]=jt,Ei[6]=hn,Ei[7]=bn,Ei[8]=Vn,Ei[9]=Nn,Ei[10]=br,Ei[11]=Jr,Ei[12]=ei,Ei[13]=oi,Ei[14]=wi,Ei[15]=no,Ei}function Mo(i,p,J,je,vt,jt,hn,bn,Vn,Nn,br,Jr,ei,oi,wi,no,Ei){return i[0]=p,i[1]=J,i[2]=je,i[3]=vt,i[4]=jt,i[5]=hn,i[6]=bn,i[7]=Vn,i[8]=Nn,i[9]=br,i[10]=Jr,i[11]=ei,i[12]=oi,i[13]=wi,i[14]=no,i[15]=Ei,i}function tt(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function re(i,p){if(i===p){const J=p[1],je=p[2],vt=p[3],jt=p[6],hn=p[7],bn=p[11];i[1]=p[4],i[2]=p[8],i[3]=p[12],i[4]=J,i[6]=p[9],i[7]=p[13],i[8]=je,i[9]=jt,i[11]=p[14],i[12]=vt,i[13]=hn,i[14]=bn}else i[0]=p[0],i[1]=p[4],i[2]=p[8],i[3]=p[12],i[4]=p[1],i[5]=p[5],i[6]=p[9],i[7]=p[13],i[8]=p[2],i[9]=p[6],i[10]=p[10],i[11]=p[14],i[12]=p[3],i[13]=p[7],i[14]=p[11],i[15]=p[15];return i}function ce(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=p[4],bn=p[5],Vn=p[6],Nn=p[7],br=p[8],Jr=p[9],ei=p[10],oi=p[11],wi=p[12],no=p[13],Ei=p[14],So=p[15],$o=J*bn-je*hn,Oo=J*Vn-vt*hn,Io=J*Nn-jt*hn,Uo=je*Vn-vt*bn,Tr=je*Nn-jt*bn,Eo=vt*Nn-jt*Vn,Ps=br*no-Jr*wi,zs=br*Ei-ei*wi,bo=br*So-oi*wi,aa=Jr*Ei-ei*no,Zs=Jr*So-oi*no,Ts=ei*So-oi*Ei;let is=$o*Ts-Oo*Zs+Io*aa+Uo*bo-Tr*zs+Eo*Ps;return is?(is=1/is,i[0]=(bn*Ts-Vn*Zs+Nn*aa)*is,i[1]=(vt*Zs-je*Ts-jt*aa)*is,i[2]=(no*Eo-Ei*Tr+So*Uo)*is,i[3]=(ei*Tr-Jr*Eo-oi*Uo)*is,i[4]=(Vn*bo-hn*Ts-Nn*zs)*is,i[5]=(J*Ts-vt*bo+jt*zs)*is,i[6]=(Ei*Io-wi*Eo-So*Oo)*is,i[7]=(br*Eo-ei*Io+oi*Oo)*is,i[8]=(hn*Zs-bn*bo+Nn*Ps)*is,i[9]=(je*bo-J*Zs-jt*Ps)*is,i[10]=(wi*Tr-no*Io+So*$o)*is,i[11]=(Jr*Io-br*Tr-oi*$o)*is,i[12]=(bn*zs-hn*aa-Vn*Ps)*is,i[13]=(J*aa-je*zs+vt*Ps)*is,i[14]=(no*Oo-wi*Uo-Ei*$o)*is,i[15]=(br*Uo-Jr*Oo+ei*$o)*is,i):null}function Je(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=p[4],bn=p[5],Vn=p[6],Nn=p[7],br=p[8],Jr=p[9],ei=p[10],oi=p[11],wi=p[12],no=p[13],Ei=p[14],So=p[15],$o=J*bn-je*hn,Oo=J*Vn-vt*hn,Io=J*Nn-jt*hn,Uo=je*Vn-vt*bn,Tr=je*Nn-jt*bn,Eo=vt*Nn-jt*Vn,Ps=br*no-Jr*wi,zs=br*Ei-ei*wi,bo=br*So-oi*wi,aa=Jr*Ei-ei*no,Zs=Jr*So-oi*no,Ts=ei*So-oi*Ei;return i[0]=bn*Ts-Vn*Zs+Nn*aa,i[1]=vt*Zs-je*Ts-jt*aa,i[2]=no*Eo-Ei*Tr+So*Uo,i[3]=ei*Tr-Jr*Eo-oi*Uo,i[4]=Vn*bo-hn*Ts-Nn*zs,i[5]=J*Ts-vt*bo+jt*zs,i[6]=Ei*Io-wi*Eo-So*Oo,i[7]=br*Eo-ei*Io+oi*Oo,i[8]=hn*Zs-bn*bo+Nn*Ps,i[9]=je*bo-J*Zs-jt*Ps,i[10]=wi*Tr-no*Io+So*$o,i[11]=Jr*Io-br*Tr-oi*$o,i[12]=bn*zs-hn*aa-Vn*Ps,i[13]=J*aa-je*zs+vt*Ps,i[14]=no*Oo-wi*Uo-Ei*$o,i[15]=br*Uo-Jr*Oo+ei*$o,i}function Le(i){const p=i[0],J=i[1],je=i[2],jt=i[4],hn=i[5],bn=i[6],Nn=i[8],br=i[9],Jr=i[10],oi=i[12],wi=i[13],no=i[14],So=p*hn-J*jt,$o=p*bn-je*jt,Oo=J*bn-je*hn,Io=Nn*wi-br*oi,Uo=Nn*no-Jr*oi,Tr=br*no-Jr*wi;return i[7]*(p*Tr-J*Uo+je*Io)-i[3]*(jt*Tr-hn*Uo+bn*Io)+i[15]*(Nn*Oo-br*$o+Jr*So)-i[11]*(oi*Oo-wi*$o+no*So)}function Wt(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=p[4],Vn=p[5],Nn=p[6],br=p[7],Jr=p[8],ei=p[9],oi=p[10],wi=p[11],no=p[12],Ei=p[13],So=p[14],$o=p[15];let Oo=J[0],Io=J[1],Uo=J[2],Tr=J[3];return i[0]=Oo*je+Io*bn+Uo*Jr+Tr*no,i[1]=Oo*vt+Io*Vn+Uo*ei+Tr*Ei,i[2]=Oo*jt+Io*Nn+Uo*oi+Tr*So,i[3]=Oo*hn+Io*br+Uo*wi+Tr*$o,Oo=J[4],Io=J[5],Uo=J[6],Tr=J[7],i[4]=Oo*je+Io*bn+Uo*Jr+Tr*no,i[5]=Oo*vt+Io*Vn+Uo*ei+Tr*Ei,i[6]=Oo*jt+Io*Nn+Uo*oi+Tr*So,i[7]=Oo*hn+Io*br+Uo*wi+Tr*$o,Oo=J[8],Io=J[9],Uo=J[10],Tr=J[11],i[8]=Oo*je+Io*bn+Uo*Jr+Tr*no,i[9]=Oo*vt+Io*Vn+Uo*ei+Tr*Ei,i[10]=Oo*jt+Io*Nn+Uo*oi+Tr*So,i[11]=Oo*hn+Io*br+Uo*wi+Tr*$o,Oo=J[12],Io=J[13],Uo=J[14],Tr=J[15],i[12]=Oo*je+Io*bn+Uo*Jr+Tr*no,i[13]=Oo*vt+Io*Vn+Uo*ei+Tr*Ei,i[14]=Oo*jt+Io*Nn+Uo*oi+Tr*So,i[15]=Oo*hn+Io*br+Uo*wi+Tr*$o,i}function yr(i,p,J){const je=J[0],vt=J[1],jt=J[2];let hn,bn,Vn,Nn,br,Jr,ei,oi,wi,no,Ei,So;return p===i?(i[12]=p[0]*je+p[4]*vt+p[8]*jt+p[12],i[13]=p[1]*je+p[5]*vt+p[9]*jt+p[13],i[14]=p[2]*je+p[6]*vt+p[10]*jt+p[14],i[15]=p[3]*je+p[7]*vt+p[11]*jt+p[15]):(hn=p[0],bn=p[1],Vn=p[2],Nn=p[3],br=p[4],Jr=p[5],ei=p[6],oi=p[7],wi=p[8],no=p[9],Ei=p[10],So=p[11],i[0]=hn,i[1]=bn,i[2]=Vn,i[3]=Nn,i[4]=br,i[5]=Jr,i[6]=ei,i[7]=oi,i[8]=wi,i[9]=no,i[10]=Ei,i[11]=So,i[12]=hn*je+br*vt+wi*jt+p[12],i[13]=bn*je+Jr*vt+no*jt+p[13],i[14]=Vn*je+ei*vt+Ei*jt+p[14],i[15]=Nn*je+oi*vt+So*jt+p[15]),i}function ti(i,p,J){const je=J[0],vt=J[1],jt=J[2];return i[0]=p[0]*je,i[1]=p[1]*je,i[2]=p[2]*je,i[3]=p[3]*je,i[4]=p[4]*vt,i[5]=p[5]*vt,i[6]=p[6]*vt,i[7]=p[7]*vt,i[8]=p[8]*jt,i[9]=p[9]*jt,i[10]=p[10]*jt,i[11]=p[11]*jt,i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15],i}function _o(i,p,J,je){let Vn,Nn,br,Jr,ei,oi,wi,no,Ei,So,$o,Oo,Io,Uo,Tr,Eo,Ps,zs,bo,aa,Zs,Ts,is,Ua,vt=je[0],jt=je[1],hn=je[2],bn=Math.sqrt(vt*vt+jt*jt+hn*hn);return bn<xt?null:(bn=1/bn,vt*=bn,jt*=bn,hn*=bn,Nn=Math.sin(J),Vn=Math.cos(J),br=1-Vn,Jr=p[0],ei=p[1],oi=p[2],wi=p[3],no=p[4],Ei=p[5],So=p[6],$o=p[7],Oo=p[8],Io=p[9],Uo=p[10],Tr=p[11],Eo=vt*vt*br+Vn,Ps=jt*vt*br+hn*Nn,zs=hn*vt*br-jt*Nn,bo=vt*jt*br-hn*Nn,aa=jt*jt*br+Vn,Zs=hn*jt*br+vt*Nn,Ts=vt*hn*br+jt*Nn,is=jt*hn*br-vt*Nn,Ua=hn*hn*br+Vn,i[0]=Jr*Eo+no*Ps+Oo*zs,i[1]=ei*Eo+Ei*Ps+Io*zs,i[2]=oi*Eo+So*Ps+Uo*zs,i[3]=wi*Eo+$o*Ps+Tr*zs,i[4]=Jr*bo+no*aa+Oo*Zs,i[5]=ei*bo+Ei*aa+Io*Zs,i[6]=oi*bo+So*aa+Uo*Zs,i[7]=wi*bo+$o*aa+Tr*Zs,i[8]=Jr*Ts+no*is+Oo*Ua,i[9]=ei*Ts+Ei*is+Io*Ua,i[10]=oi*Ts+So*is+Uo*Ua,i[11]=wi*Ts+$o*is+Tr*Ua,p!==i&&(i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i)}function rn(i,p,J){const je=Math.sin(J),vt=Math.cos(J),jt=p[4],hn=p[5],bn=p[6],Vn=p[7],Nn=p[8],br=p[9],Jr=p[10],ei=p[11];return p!==i&&(i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[4]=jt*vt+Nn*je,i[5]=hn*vt+br*je,i[6]=bn*vt+Jr*je,i[7]=Vn*vt+ei*je,i[8]=Nn*vt-jt*je,i[9]=br*vt-hn*je,i[10]=Jr*vt-bn*je,i[11]=ei*vt-Vn*je,i}function pe(i,p,J){const je=Math.sin(J),vt=Math.cos(J),jt=p[0],hn=p[1],bn=p[2],Vn=p[3],Nn=p[8],br=p[9],Jr=p[10],ei=p[11];return p!==i&&(i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[0]=jt*vt-Nn*je,i[1]=hn*vt-br*je,i[2]=bn*vt-Jr*je,i[3]=Vn*vt-ei*je,i[8]=jt*je+Nn*vt,i[9]=hn*je+br*vt,i[10]=bn*je+Jr*vt,i[11]=Vn*je+ei*vt,i}function Re(i,p,J){const je=Math.sin(J),vt=Math.cos(J),jt=p[0],hn=p[1],bn=p[2],Vn=p[3],Nn=p[4],br=p[5],Jr=p[6],ei=p[7];return p!==i&&(i[8]=p[8],i[9]=p[9],i[10]=p[10],i[11]=p[11],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[0]=jt*vt+Nn*je,i[1]=hn*vt+br*je,i[2]=bn*vt+Jr*je,i[3]=Vn*vt+ei*je,i[4]=Nn*vt-jt*je,i[5]=br*vt-hn*je,i[6]=Jr*vt-bn*je,i[7]=ei*vt-Vn*je,i}function bt(i,p){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=p[0],i[13]=p[1],i[14]=p[2],i[15]=1,i}function tn(i,p){return i[0]=p[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=p[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=p[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function An(i,p,J){let bn,Vn,Nn,je=J[0],vt=J[1],jt=J[2],hn=Math.sqrt(je*je+vt*vt+jt*jt);return hn<xt?null:(hn=1/hn,je*=hn,vt*=hn,jt*=hn,Vn=Math.sin(p),bn=Math.cos(p),Nn=1-bn,i[0]=je*je*Nn+bn,i[1]=vt*je*Nn+jt*Vn,i[2]=jt*je*Nn-vt*Vn,i[3]=0,i[4]=je*vt*Nn-jt*Vn,i[5]=vt*vt*Nn+bn,i[6]=jt*vt*Nn+je*Vn,i[7]=0,i[8]=je*jt*Nn+vt*Vn,i[9]=vt*jt*Nn-je*Vn,i[10]=jt*jt*Nn+bn,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}function Kn(i,p){const J=Math.sin(p),je=Math.cos(p);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=je,i[6]=J,i[7]=0,i[8]=0,i[9]=-J,i[10]=je,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ar(i,p){const J=Math.sin(p),je=Math.cos(p);return i[0]=je,i[1]=0,i[2]=-J,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=J,i[9]=0,i[10]=je,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Zr(i,p){const J=Math.sin(p),je=Math.cos(p);return i[0]=je,i[1]=J,i[2]=0,i[3]=0,i[4]=-J,i[5]=je,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function si(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=je+je,Vn=vt+vt,Nn=jt+jt,br=je*bn,Jr=je*Vn,ei=je*Nn,oi=vt*Vn,wi=vt*Nn,no=jt*Nn,Ei=hn*bn,So=hn*Vn,$o=hn*Nn;return i[0]=1-(oi+no),i[1]=Jr+$o,i[2]=ei-So,i[3]=0,i[4]=Jr-$o,i[5]=1-(br+no),i[6]=wi+Ei,i[7]=0,i[8]=ei+So,i[9]=wi-Ei,i[10]=1-(br+oi),i[11]=0,i[12]=J[0],i[13]=J[1],i[14]=J[2],i[15]=1,i}function ni(i,p){const J=new Ht(3),je=-p[0],vt=-p[1],jt=-p[2],hn=p[3],bn=p[4],Vn=p[5],Nn=p[6],br=p[7],Jr=je*je+vt*vt+jt*jt+hn*hn;return Jr>0?(J[0]=2*(bn*hn+br*je+Vn*jt-Nn*vt)/Jr,J[1]=2*(Vn*hn+br*vt+Nn*je-bn*jt)/Jr,J[2]=2*(Nn*hn+br*jt+bn*vt-Vn*je)/Jr):(J[0]=2*(bn*hn+br*je+Vn*jt-Nn*vt),J[1]=2*(Vn*hn+br*vt+Nn*je-bn*jt),J[2]=2*(Nn*hn+br*jt+bn*vt-Vn*je)),si(i,p,J),i}function Pr(i,p){return i[0]=p[12],i[1]=p[13],i[2]=p[14],i}function mi(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[4],hn=p[5],bn=p[6],Vn=p[8],Nn=p[9],br=p[10];return i[0]=Math.sqrt(J*J+je*je+vt*vt),i[1]=Math.sqrt(jt*jt+hn*hn+bn*bn),i[2]=Math.sqrt(Vn*Vn+Nn*Nn+br*br),i}function Wi(i,p){const J=new Ht(3);mi(J,p);const je=1/J[0],vt=1/J[1],jt=1/J[2],hn=p[0]*je,bn=p[1]*vt,Vn=p[2]*jt,Nn=p[4]*je,br=p[5]*vt,Jr=p[6]*jt,ei=p[8]*je,oi=p[9]*vt,wi=p[10]*jt,no=hn+br+wi;let Ei=0;return no>0?(Ei=2*Math.sqrt(no+1),i[3]=.25*Ei,i[0]=(Jr-oi)/Ei,i[1]=(ei-Vn)/Ei,i[2]=(bn-Nn)/Ei):hn>br&&hn>wi?(Ei=2*Math.sqrt(1+hn-br-wi),i[3]=(Jr-oi)/Ei,i[0]=.25*Ei,i[1]=(bn+Nn)/Ei,i[2]=(ei+Vn)/Ei):br>wi?(Ei=2*Math.sqrt(1+br-hn-wi),i[3]=(ei-Vn)/Ei,i[0]=(bn+Nn)/Ei,i[1]=.25*Ei,i[2]=(Jr+oi)/Ei):(Ei=2*Math.sqrt(1+wi-hn-br),i[3]=(bn-Nn)/Ei,i[0]=(ei+Vn)/Ei,i[1]=(Jr+oi)/Ei,i[2]=.25*Ei),i}function Pi(i,p,J,je){p[0]=je[12],p[1]=je[13],p[2]=je[14];const vt=je[0],jt=je[1],hn=je[2],bn=je[4],Vn=je[5],Nn=je[6],br=je[8],Jr=je[9],ei=je[10];J[0]=Math.sqrt(vt*vt+jt*jt+hn*hn),J[1]=Math.sqrt(bn*bn+Vn*Vn+Nn*Nn),J[2]=Math.sqrt(br*br+Jr*Jr+ei*ei);const oi=1/J[0],wi=1/J[1],no=1/J[2],Ei=vt*oi,So=jt*wi,$o=hn*no,Oo=bn*oi,Io=Vn*wi,Uo=Nn*no,Tr=br*oi,Eo=Jr*wi,Ps=ei*no,zs=Ei+Io+Ps;let bo=0;return zs>0?(bo=2*Math.sqrt(zs+1),i[3]=.25*bo,i[0]=(Uo-Eo)/bo,i[1]=(Tr-$o)/bo,i[2]=(So-Oo)/bo):Ei>Io&&Ei>Ps?(bo=2*Math.sqrt(1+Ei-Io-Ps),i[3]=(Uo-Eo)/bo,i[0]=.25*bo,i[1]=(So+Oo)/bo,i[2]=(Tr+$o)/bo):Io>Ps?(bo=2*Math.sqrt(1+Io-Ei-Ps),i[3]=(Tr-$o)/bo,i[0]=(So+Oo)/bo,i[1]=.25*bo,i[2]=(Uo+Eo)/bo):(bo=2*Math.sqrt(1+Ps-Ei-Io),i[3]=(So-Oo)/bo,i[0]=(Tr+$o)/bo,i[1]=(Uo+Eo)/bo,i[2]=.25*bo),i}function xe(i,p,J,je){const vt=p[0],jt=p[1],hn=p[2],bn=p[3],Vn=vt+vt,Nn=jt+jt,br=hn+hn,Jr=vt*Vn,ei=vt*Nn,oi=vt*br,wi=jt*Nn,no=jt*br,Ei=hn*br,So=bn*Vn,$o=bn*Nn,Oo=bn*br,Io=je[0],Uo=je[1],Tr=je[2];return i[0]=(1-(wi+Ei))*Io,i[1]=(ei+Oo)*Io,i[2]=(oi-$o)*Io,i[3]=0,i[4]=(ei-Oo)*Uo,i[5]=(1-(Jr+Ei))*Uo,i[6]=(no+So)*Uo,i[7]=0,i[8]=(oi+$o)*Tr,i[9]=(no-So)*Tr,i[10]=(1-(Jr+wi))*Tr,i[11]=0,i[12]=J[0],i[13]=J[1],i[14]=J[2],i[15]=1,i}function he(i,p,J,je,vt){const jt=p[0],hn=p[1],bn=p[2],Vn=p[3],Nn=jt+jt,br=hn+hn,Jr=bn+bn,ei=jt*Nn,oi=jt*br,wi=jt*Jr,no=hn*br,Ei=hn*Jr,So=bn*Jr,$o=Vn*Nn,Oo=Vn*br,Io=Vn*Jr,Uo=je[0],Tr=je[1],Eo=je[2],Ps=vt[0],zs=vt[1],bo=vt[2],aa=(1-(no+So))*Uo,Zs=(oi+Io)*Uo,Ts=(wi-Oo)*Uo,is=(oi-Io)*Tr,Ua=(1-(ei+So))*Tr,Pl=(Ei+$o)*Tr,Pc=(wi+Oo)*Eo,Es=(Ei-$o)*Eo,Xa=(1-(ei+no))*Eo;return i[0]=aa,i[1]=Zs,i[2]=Ts,i[3]=0,i[4]=is,i[5]=Ua,i[6]=Pl,i[7]=0,i[8]=Pc,i[9]=Es,i[10]=Xa,i[11]=0,i[12]=J[0]+Ps-(aa*Ps+is*zs+Pc*bo),i[13]=J[1]+zs-(Zs*Ps+Ua*zs+Es*bo),i[14]=J[2]+bo-(Ts*Ps+Pl*zs+Xa*bo),i[15]=1,i}function qe(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=J+J,bn=je+je,Vn=vt+vt,Nn=J*hn,br=je*hn,Jr=je*bn,ei=vt*hn,oi=vt*bn,wi=vt*Vn,no=jt*hn,Ei=jt*bn,So=jt*Vn;return i[0]=1-Jr-wi,i[1]=br+So,i[2]=ei-Ei,i[3]=0,i[4]=br-So,i[5]=1-Nn-wi,i[6]=oi+no,i[7]=0,i[8]=ei+Ei,i[9]=oi-no,i[10]=1-Nn-Jr,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function wt(i,p,J,je,vt,jt,hn){const bn=1/(J-p),Vn=1/(vt-je),Nn=1/(jt-hn);return i[0]=2*jt*bn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*jt*Vn,i[6]=0,i[7]=0,i[8]=(J+p)*bn,i[9]=(vt+je)*Vn,i[10]=(hn+jt)*Nn,i[11]=-1,i[12]=0,i[13]=0,i[14]=hn*jt*2*Nn,i[15]=0,i}function Pt(i,p,J,je,vt){const jt=1/Math.tan(p/2);if(i[0]=jt/J,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=jt,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=vt&&vt!==1/0){const hn=1/(je-vt);i[10]=(vt+je)*hn,i[14]=2*vt*je*hn}else i[10]=-1,i[14]=-2*je;return i}f(jr,{add:()=>Fn,adjoint:()=>Je,clone:()=>Wr,copy:()=>eo,create:()=>li,decompose:()=>Pi,determinant:()=>Le,equals:()=>gi,exactEquals:()=>Ur,frob:()=>Hi,fromQuat:()=>qe,fromQuat2:()=>ni,fromRotation:()=>An,fromRotationTranslation:()=>si,fromRotationTranslationScale:()=>xe,fromRotationTranslationScaleOrigin:()=>he,fromScaling:()=>tn,fromTranslation:()=>bt,fromValues:()=>yo,fromXRotation:()=>Kn,fromYRotation:()=>ar,fromZRotation:()=>Zr,frustum:()=>wt,getRotation:()=>Wi,getScaling:()=>mi,getTranslation:()=>Pr,identity:()=>tt,invert:()=>ce,lookAt:()=>Lr,mul:()=>Fi,multiply:()=>Wt,multiplyScalar:()=>wn,multiplyScalarAndAdd:()=>er,ortho:()=>kr,orthoNO:()=>Yn,orthoZO:()=>wr,perspective:()=>cn,perspectiveFromFieldOfView:()=>nr,perspectiveNO:()=>Pt,perspectiveZO:()=>xn,rotate:()=>_o,rotateX:()=>rn,rotateY:()=>pe,rotateZ:()=>Re,scale:()=>ti,set:()=>Mo,str:()=>vi,sub:()=>Si,subtract:()=>lr,targetTo:()=>Fr,translate:()=>yr,transpose:()=>re});var cn=Pt;function xn(i,p,J,je,vt){const jt=1/Math.tan(p/2);if(i[0]=jt/J,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=jt,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=vt&&vt!==1/0){const hn=1/(je-vt);i[10]=vt*hn,i[14]=vt*je*hn}else i[10]=-1,i[14]=-je;return i}function nr(i,p,J,je){const vt=Math.tan(p.upDegrees*Math.PI/180),jt=Math.tan(p.downDegrees*Math.PI/180),hn=Math.tan(p.leftDegrees*Math.PI/180),bn=Math.tan(p.rightDegrees*Math.PI/180),Vn=2/(hn+bn),Nn=2/(vt+jt);return i[0]=Vn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Nn,i[6]=0,i[7]=0,i[8]=-(hn-bn)*Vn*.5,i[9]=(vt-jt)*Nn*.5,i[10]=je/(J-je),i[11]=-1,i[12]=0,i[13]=0,i[14]=je*J/(J-je),i[15]=0,i}function Yn(i,p,J,je,vt,jt,hn){const bn=1/(p-J),Vn=1/(je-vt),Nn=1/(jt-hn);return i[0]=-2*bn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*Vn,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*Nn,i[11]=0,i[12]=(p+J)*bn,i[13]=(vt+je)*Vn,i[14]=(hn+jt)*Nn,i[15]=1,i}var kr=Yn;function wr(i,p,J,je,vt,jt,hn){const bn=1/(p-J),Vn=1/(je-vt),Nn=1/(jt-hn);return i[0]=-2*bn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*Vn,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=Nn,i[11]=0,i[12]=(p+J)*bn,i[13]=(vt+je)*Vn,i[14]=jt*Nn,i[15]=1,i}function Lr(i,p,J,je){let vt,jt,hn,bn,Vn,Nn,br,Jr,ei,oi;const wi=p[0],no=p[1],Ei=p[2],So=je[0],$o=je[1],Oo=je[2],Io=J[0],Uo=J[1],Tr=J[2];return Math.abs(wi-Io)<xt&&Math.abs(no-Uo)<xt&&Math.abs(Ei-Tr)<xt?tt(i):(Jr=wi-Io,ei=no-Uo,oi=Ei-Tr,vt=1/Math.sqrt(Jr*Jr+ei*ei+oi*oi),Jr*=vt,ei*=vt,oi*=vt,jt=$o*oi-Oo*ei,hn=Oo*Jr-So*oi,bn=So*ei-$o*Jr,vt=Math.sqrt(jt*jt+hn*hn+bn*bn),vt?(vt=1/vt,jt*=vt,hn*=vt,bn*=vt):(jt=0,hn=0,bn=0),Vn=ei*bn-oi*hn,Nn=oi*jt-Jr*bn,br=Jr*hn-ei*jt,vt=Math.sqrt(Vn*Vn+Nn*Nn+br*br),vt?(vt=1/vt,Vn*=vt,Nn*=vt,br*=vt):(Vn=0,Nn=0,br=0),i[0]=jt,i[1]=Vn,i[2]=Jr,i[3]=0,i[4]=hn,i[5]=Nn,i[6]=ei,i[7]=0,i[8]=bn,i[9]=br,i[10]=oi,i[11]=0,i[12]=-(jt*wi+hn*no+bn*Ei),i[13]=-(Vn*wi+Nn*no+br*Ei),i[14]=-(Jr*wi+ei*no+oi*Ei),i[15]=1,i)}function Fr(i,p,J,je){const vt=p[0],jt=p[1],hn=p[2],bn=je[0],Vn=je[1],Nn=je[2];let br=vt-J[0],Jr=jt-J[1],ei=hn-J[2],oi=br*br+Jr*Jr+ei*ei;oi>0&&(oi=1/Math.sqrt(oi),br*=oi,Jr*=oi,ei*=oi);let wi=Vn*ei-Nn*Jr,no=Nn*br-bn*ei,Ei=bn*Jr-Vn*br;return oi=wi*wi+no*no+Ei*Ei,oi>0&&(oi=1/Math.sqrt(oi),wi*=oi,no*=oi,Ei*=oi),i[0]=wi,i[1]=no,i[2]=Ei,i[3]=0,i[4]=Jr*Ei-ei*no,i[5]=ei*wi-br*Ei,i[6]=br*no-Jr*wi,i[7]=0,i[8]=br,i[9]=Jr,i[10]=ei,i[11]=0,i[12]=vt,i[13]=jt,i[14]=hn,i[15]=1,i}function vi(i){return`mat4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]}, ${i[9]}, ${i[10]}, ${i[11]}, ${i[12]}, ${i[13]}, ${i[14]}, ${i[15]})`}function Hi(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8]+i[9]*i[9]+i[10]*i[10]+i[11]*i[11]+i[12]*i[12]+i[13]*i[13]+i[14]*i[14]+i[15]*i[15])}function Fn(i,p,J){return i[0]=p[0]+J[0],i[1]=p[1]+J[1],i[2]=p[2]+J[2],i[3]=p[3]+J[3],i[4]=p[4]+J[4],i[5]=p[5]+J[5],i[6]=p[6]+J[6],i[7]=p[7]+J[7],i[8]=p[8]+J[8],i[9]=p[9]+J[9],i[10]=p[10]+J[10],i[11]=p[11]+J[11],i[12]=p[12]+J[12],i[13]=p[13]+J[13],i[14]=p[14]+J[14],i[15]=p[15]+J[15],i}function lr(i,p,J){return i[0]=p[0]-J[0],i[1]=p[1]-J[1],i[2]=p[2]-J[2],i[3]=p[3]-J[3],i[4]=p[4]-J[4],i[5]=p[5]-J[5],i[6]=p[6]-J[6],i[7]=p[7]-J[7],i[8]=p[8]-J[8],i[9]=p[9]-J[9],i[10]=p[10]-J[10],i[11]=p[11]-J[11],i[12]=p[12]-J[12],i[13]=p[13]-J[13],i[14]=p[14]-J[14],i[15]=p[15]-J[15],i}function wn(i,p,J){return i[0]=p[0]*J,i[1]=p[1]*J,i[2]=p[2]*J,i[3]=p[3]*J,i[4]=p[4]*J,i[5]=p[5]*J,i[6]=p[6]*J,i[7]=p[7]*J,i[8]=p[8]*J,i[9]=p[9]*J,i[10]=p[10]*J,i[11]=p[11]*J,i[12]=p[12]*J,i[13]=p[13]*J,i[14]=p[14]*J,i[15]=p[15]*J,i}function er(i,p,J,je){return i[0]=p[0]+J[0]*je,i[1]=p[1]+J[1]*je,i[2]=p[2]+J[2]*je,i[3]=p[3]+J[3]*je,i[4]=p[4]+J[4]*je,i[5]=p[5]+J[5]*je,i[6]=p[6]+J[6]*je,i[7]=p[7]+J[7]*je,i[8]=p[8]+J[8]*je,i[9]=p[9]+J[9]*je,i[10]=p[10]+J[10]*je,i[11]=p[11]+J[11]*je,i[12]=p[12]+J[12]*je,i[13]=p[13]+J[13]*je,i[14]=p[14]+J[14]*je,i[15]=p[15]+J[15]*je,i}function Ur(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]&&i[4]===p[4]&&i[5]===p[5]&&i[6]===p[6]&&i[7]===p[7]&&i[8]===p[8]&&i[9]===p[9]&&i[10]===p[10]&&i[11]===p[11]&&i[12]===p[12]&&i[13]===p[13]&&i[14]===p[14]&&i[15]===p[15]}function gi(i,p){const J=i[0],je=i[1],vt=i[2],jt=i[3],hn=i[4],bn=i[5],Vn=i[6],Nn=i[7],br=i[8],Jr=i[9],ei=i[10],oi=i[11],wi=i[12],no=i[13],Ei=i[14],So=i[15],$o=p[0],Oo=p[1],Io=p[2],Uo=p[3],Tr=p[4],Eo=p[5],Ps=p[6],zs=p[7],bo=p[8],aa=p[9],Zs=p[10],Ts=p[11],is=p[12],Ua=p[13],Pl=p[14],Pc=p[15];return Math.abs(J-$o)<=xt*Math.max(1,Math.abs(J),Math.abs($o))&&Math.abs(je-Oo)<=xt*Math.max(1,Math.abs(je),Math.abs(Oo))&&Math.abs(vt-Io)<=xt*Math.max(1,Math.abs(vt),Math.abs(Io))&&Math.abs(jt-Uo)<=xt*Math.max(1,Math.abs(jt),Math.abs(Uo))&&Math.abs(hn-Tr)<=xt*Math.max(1,Math.abs(hn),Math.abs(Tr))&&Math.abs(bn-Eo)<=xt*Math.max(1,Math.abs(bn),Math.abs(Eo))&&Math.abs(Vn-Ps)<=xt*Math.max(1,Math.abs(Vn),Math.abs(Ps))&&Math.abs(Nn-zs)<=xt*Math.max(1,Math.abs(Nn),Math.abs(zs))&&Math.abs(br-bo)<=xt*Math.max(1,Math.abs(br),Math.abs(bo))&&Math.abs(Jr-aa)<=xt*Math.max(1,Math.abs(Jr),Math.abs(aa))&&Math.abs(ei-Zs)<=xt*Math.max(1,Math.abs(ei),Math.abs(Zs))&&Math.abs(oi-Ts)<=xt*Math.max(1,Math.abs(oi),Math.abs(Ts))&&Math.abs(wi-is)<=xt*Math.max(1,Math.abs(wi),Math.abs(is))&&Math.abs(no-Ua)<=xt*Math.max(1,Math.abs(no),Math.abs(Ua))&&Math.abs(Ei-Pl)<=xt*Math.max(1,Math.abs(Ei),Math.abs(Pl))&&Math.abs(So-Pc)<=xt*Math.max(1,Math.abs(So),Math.abs(Pc))}var Fi=Wt,Si=lr,Xi={};function zo(){const i=new Ht(4);return Ht!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0),i}function ki(i){const p=new Ht(4);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p}function As(i,p,J,je){const vt=new Ht(4);return vt[0]=i,vt[1]=p,vt[2]=J,vt[3]=je,vt}function bs(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i}function qo(i,p,J,je,vt){return i[0]=p,i[1]=J,i[2]=je,i[3]=vt,i}function js(i,p,J){return i[0]=p[0]+J[0],i[1]=p[1]+J[1],i[2]=p[2]+J[2],i[3]=p[3]+J[3],i}function Te(i,p,J){return i[0]=p[0]-J[0],i[1]=p[1]-J[1],i[2]=p[2]-J[2],i[3]=p[3]-J[3],i}function et(i,p,J){return i[0]=p[0]*J[0],i[1]=p[1]*J[1],i[2]=p[2]*J[2],i[3]=p[3]*J[3],i}function ht(i,p,J){return i[0]=p[0]/J[0],i[1]=p[1]/J[1],i[2]=p[2]/J[2],i[3]=p[3]/J[3],i}function Vt(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i[2]=Math.ceil(p[2]),i[3]=Math.ceil(p[3]),i}function yn(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i[2]=Math.floor(p[2]),i[3]=Math.floor(p[3]),i}function Wn(i,p,J){return i[0]=Math.min(p[0],J[0]),i[1]=Math.min(p[1],J[1]),i[2]=Math.min(p[2],J[2]),i[3]=Math.min(p[3],J[3]),i}function ir(i,p,J){return i[0]=Math.max(p[0],J[0]),i[1]=Math.max(p[1],J[1]),i[2]=Math.max(p[2],J[2]),i[3]=Math.max(p[3],J[3]),i}function Ci(i,p){return i[0]=Bt(p[0]),i[1]=Bt(p[1]),i[2]=Bt(p[2]),i[3]=Bt(p[3]),i}function Li(i,p,J){return i[0]=p[0]*J,i[1]=p[1]*J,i[2]=p[2]*J,i[3]=p[3]*J,i}function io(i,p,J,je){return i[0]=p[0]+J[0]*je,i[1]=p[1]+J[1]*je,i[2]=p[2]+J[2]*je,i[3]=p[3]+J[3]*je,i}function vo(i,p){const J=p[0]-i[0],je=p[1]-i[1],vt=p[2]-i[2],jt=p[3]-i[3];return Math.sqrt(J*J+je*je+vt*vt+jt*jt)}function Xo(i,p){const J=p[0]-i[0],je=p[1]-i[1],vt=p[2]-i[2],jt=p[3]-i[3];return J*J+je*je+vt*vt+jt*jt}function gs(i){const p=i[0],J=i[1],je=i[2],vt=i[3];return Math.sqrt(p*p+J*J+je*je+vt*vt)}function Ms(i){const p=i[0],J=i[1],je=i[2],vt=i[3];return p*p+J*J+je*je+vt*vt}function ca(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i[3]=-p[3],i}function ya(i,p){return i[0]=1/p[0],i[1]=1/p[1],i[2]=1/p[2],i[3]=1/p[3],i}function Ee(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3];let hn=J*J+je*je+vt*vt+jt*jt;return hn>0&&(hn=1/Math.sqrt(hn)),i[0]=J*hn,i[1]=je*hn,i[2]=vt*hn,i[3]=jt*hn,i}function yt(i,p){return i[0]*p[0]+i[1]*p[1]+i[2]*p[2]+i[3]*p[3]}function Sn(i,p,J,je){const vt=J[0]*je[1]-J[1]*je[0],jt=J[0]*je[2]-J[2]*je[0],hn=J[0]*je[3]-J[3]*je[0],bn=J[1]*je[2]-J[2]*je[1],Vn=J[1]*je[3]-J[3]*je[1],Nn=J[2]*je[3]-J[3]*je[2],br=p[0],Jr=p[1],ei=p[2],oi=p[3];return i[0]=Jr*Nn-ei*Vn+oi*bn,i[1]=-br*Nn+ei*hn-oi*jt,i[2]=br*Vn-Jr*hn+oi*vt,i[3]=-br*bn+Jr*jt-ei*vt,i}function st(i,p,J,je){const vt=p[0],jt=p[1],hn=p[2],bn=p[3];return i[0]=vt+je*(J[0]-vt),i[1]=jt+je*(J[1]-jt),i[2]=hn+je*(J[2]-hn),i[3]=bn+je*(J[3]-bn),i}function vn(i,p){let J,je,vt,jt,hn,bn;p=void 0===p?1:p;do{J=2*ln()-1,je=2*ln()-1,hn=J*J+je*je}while(hn>=1);do{vt=2*ln()-1,jt=2*ln()-1,bn=vt*vt+jt*jt}while(bn>=1);const Vn=Math.sqrt((1-hn)/bn);return i[0]=p*J,i[1]=p*je,i[2]=p*vt*Vn,i[3]=p*jt*Vn,i}function cr(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3];return i[0]=J[0]*je+J[4]*vt+J[8]*jt+J[12]*hn,i[1]=J[1]*je+J[5]*vt+J[9]*jt+J[13]*hn,i[2]=J[2]*je+J[6]*vt+J[10]*jt+J[14]*hn,i[3]=J[3]*je+J[7]*vt+J[11]*jt+J[15]*hn,i}function bi(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=J[0],bn=J[1],Vn=J[2],Nn=J[3],br=Nn*je+bn*jt-Vn*vt,Jr=Nn*vt+Vn*je-hn*jt,ei=Nn*jt+hn*vt-bn*je,oi=-hn*je-bn*vt-Vn*jt;return i[0]=br*Nn+oi*-hn+Jr*-Vn-ei*-bn,i[1]=Jr*Nn+oi*-bn+ei*-hn-br*-Vn,i[2]=ei*Nn+oi*-Vn+br*-bn-Jr*-hn,i[3]=p[3],i}function ao(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function ls(i){return`vec4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}function Rs(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]}function qs(i,p){const J=i[0],je=i[1],vt=i[2],jt=i[3],hn=p[0],bn=p[1],Vn=p[2],Nn=p[3];return Math.abs(J-hn)<=xt*Math.max(1,Math.abs(J),Math.abs(hn))&&Math.abs(je-bn)<=xt*Math.max(1,Math.abs(je),Math.abs(bn))&&Math.abs(vt-Vn)<=xt*Math.max(1,Math.abs(vt),Math.abs(Vn))&&Math.abs(jt-Nn)<=xt*Math.max(1,Math.abs(jt),Math.abs(Nn))}f(Xi,{add:()=>js,ceil:()=>Vt,clone:()=>ki,copy:()=>bs,create:()=>zo,cross:()=>Sn,dist:()=>fs,distance:()=>vo,div:()=>hs,divide:()=>ht,dot:()=>yt,equals:()=>qs,exactEquals:()=>Rs,floor:()=>yn,forEach:()=>xs,fromValues:()=>As,inverse:()=>ya,len:()=>Ki,length:()=>gs,lerp:()=>st,max:()=>ir,min:()=>Wn,mul:()=>fa,multiply:()=>et,negate:()=>ca,normalize:()=>Ee,random:()=>vn,round:()=>Ci,scale:()=>Li,scaleAndAdd:()=>io,set:()=>qo,sqrDist:()=>Fo,sqrLen:()=>Do,squaredDistance:()=>Xo,squaredLength:()=>Ms,str:()=>ls,sub:()=>us,subtract:()=>Te,transformMat4:()=>cr,transformQuat:()=>bi,zero:()=>ao});var Bo,ma,us=Te,fa=et,hs=ht,fs=vo,Fo=Xo,Ki=gs,Do=Ms,xs=function(){const i=zo();return function(p,J,je,vt,jt,hn){let bn,Vn;for(J||(J=4),je||(je=0),Vn=vt?Math.min(vt*J+je,p.length):p.length,bn=je;bn<Vn;bn+=J)i[0]=p[bn],i[1]=p[bn+1],i[2]=p[bn+2],i[3]=p[bn+3],jt(i,i,hn),p[bn]=i[0],p[bn+1]=i[1],p[bn+2]=i[2],p[bn+3]=i[3];return p}}(),pa=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL0ROW3=3]="COL0ROW3",i[i.COL1ROW0=4]="COL1ROW0",i[i.COL1ROW1=5]="COL1ROW1",i[i.COL1ROW2=6]="COL1ROW2",i[i.COL1ROW3=7]="COL1ROW3",i[i.COL2ROW0=8]="COL2ROW0",i[i.COL2ROW1=9]="COL2ROW1",i[i.COL2ROW2=10]="COL2ROW2",i[i.COL2ROW3=11]="COL2ROW3",i[i.COL3ROW0=12]="COL3ROW0",i[i.COL3ROW1=13]="COL3ROW1",i[i.COL3ROW2=14]="COL3ROW2",i[i.COL3ROW3=15]="COL3ROW3",i}(pa||{}),Ys=45*Math.PI/180,sa=1,Sa=.1,_s=500,ra=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),ba=class extends Zn{static get IDENTITY(){return function Yl(){return ma||(ma=new ba,Object.freeze(ma)),ma}()}static get ZERO(){return function Xl(){return Bo||(Bo=new ba([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Bo)),Bo}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return pa}constructor(i){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this[9]=i[9],this[10]=i[10],this[11]=i[11],this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15],this.check()}set(i,p,J,je,vt,jt,hn,bn,Vn,Nn,br,Jr,ei,oi,wi,no){return this[0]=i,this[1]=p,this[2]=J,this[3]=je,this[4]=vt,this[5]=jt,this[6]=hn,this[7]=bn,this[8]=Vn,this[9]=Nn,this[10]=br,this[11]=Jr,this[12]=ei,this[13]=oi,this[14]=wi,this[15]=no,this.check()}setRowMajor(i,p,J,je,vt,jt,hn,bn,Vn,Nn,br,Jr,ei,oi,wi,no){return this[0]=i,this[1]=vt,this[2]=Vn,this[3]=ei,this[4]=p,this[5]=jt,this[6]=Nn,this[7]=oi,this[8]=J,this[9]=hn,this[10]=br,this[11]=wi,this[12]=je,this[13]=bn,this[14]=Jr,this[15]=no,this.check()}toRowMajor(i){return i[0]=this[0],i[1]=this[4],i[2]=this[8],i[3]=this[12],i[4]=this[1],i[5]=this[5],i[6]=this[9],i[7]=this[13],i[8]=this[2],i[9]=this[6],i[10]=this[10],i[11]=this[14],i[12]=this[3],i[13]=this[7],i[14]=this[11],i[15]=this[15],i}identity(){return this.copy(ra)}fromObject(i){return this.check()}fromQuaternion(i){return qe(this,i),this.check()}frustum(i){const{left:p,right:J,bottom:je,top:vt,near:jt=Sa,far:hn=_s}=i;return hn===1/0?function qc(i,p,J,je,vt,jt){const bn=2*jt/(vt-je),Vn=(J+p)/(J-p),Nn=(vt+je)/(vt-je),ei=-2*jt;i[0]=2*jt/(J-p),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=bn,i[6]=0,i[7]=0,i[8]=Vn,i[9]=Nn,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=ei,i[15]=0}(this,p,J,je,vt,jt):wt(this,p,J,je,vt,jt,hn),this.check()}lookAt(i){const{eye:p,center:J=[0,0,0],up:je=[0,1,0]}=i;return Lr(this,p,J,je),this.check()}ortho(i){const{left:p,right:J,bottom:je,top:vt,near:jt=Sa,far:hn=_s}=i;return kr(this,p,J,je,vt,jt,hn),this.check()}orthographic(i){const{fovy:p=Ys,aspect:J=sa,focalDistance:je=1,near:vt=Sa,far:jt=_s}=i;da(p);const bn=je*Math.tan(p/2),Vn=bn*J;return this.ortho({left:-Vn,right:Vn,bottom:-bn,top:bn,near:vt,far:jt})}perspective(i){const{fovy:p=45*Math.PI/180,aspect:J=1,near:je=.1,far:vt=500}=i;return da(p),cn(this,p,J,je,vt),this.check()}determinant(){return Le(this)}getScale(i=[-0,-0,-0]){return i[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),i[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),i[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),i}getTranslation(i=[-0,-0,-0]){return i[0]=this[12],i[1]=this[13],i[2]=this[14],i}getRotation(i,p){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const J=this.getScale(p=p||[-0,-0,-0]),je=1/J[0],vt=1/J[1],jt=1/J[2];return i[0]=this[0]*je,i[1]=this[1]*vt,i[2]=this[2]*jt,i[3]=0,i[4]=this[4]*je,i[5]=this[5]*vt,i[6]=this[6]*jt,i[7]=0,i[8]=this[8]*je,i[9]=this[9]*vt,i[10]=this[10]*jt,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}getRotationMatrix3(i,p){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const J=this.getScale(p=p||[-0,-0,-0]),je=1/J[0],vt=1/J[1],jt=1/J[2];return i[0]=this[0]*je,i[1]=this[1]*vt,i[2]=this[2]*jt,i[3]=this[4]*je,i[4]=this[5]*vt,i[5]=this[6]*jt,i[6]=this[8]*je,i[7]=this[9]*vt,i[8]=this[10]*jt,i}transpose(){return re(this,this),this.check()}invert(){return ce(this,this),this.check()}multiplyLeft(i){return Wt(this,i,this),this.check()}multiplyRight(i){return Wt(this,this,i),this.check()}rotateX(i){return rn(this,this,i),this.check()}rotateY(i){return pe(this,this,i),this.check()}rotateZ(i){return Re(this,this,i),this.check()}rotateXYZ(i){return this.rotateX(i[0]).rotateY(i[1]).rotateZ(i[2])}rotateAxis(i,p){return _o(this,this,i,p),this.check()}scale(i){return ti(this,this,Array.isArray(i)?i:[i,i,i]),this.check()}translate(i){return yr(this,this,i),this.check()}transform(i,p){return 4===i.length?(V(p=cr(p||[-0,-0,-0,-0],i,this),4),p):this.transformAsPoint(i,p)}transformAsPoint(i,p){const{length:J}=i;let je;switch(J){case 2:je=gn(p||[-0,-0],i,this);break;case 3:je=qr(p||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return V(je,i.length),je}transformAsVector(i,p){let J;switch(i.length){case 2:J=On(p||[-0,-0],i,this);break;case 3:J=vr(p||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return V(J,i.length),J}transformPoint(i,p){return this.transformAsPoint(i,p)}transformVector(i,p){return this.transformAsPoint(i,p)}transformDirection(i,p){return this.transformAsVector(i,p)}makeRotationX(i){return this.identity().rotateX(i)}makeTranslation(i,p,J){return this.identity().translate([i,p,J])}};function da(i){if(i>2*Math.PI)throw Error("expected radians")}var Ql={};function $a(){const i=new Ht(4);return Ht!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function hl(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function Dc(i,p,J){J*=.5;const je=Math.sin(J);return i[0]=je*p[0],i[1]=je*p[1],i[2]=je*p[2],i[3]=Math.cos(J),i}function fn(i,p){const J=2*Math.acos(p[3]),je=Math.sin(J/2);return je>xt?(i[0]=p[0]/je,i[1]=p[1]/je,i[2]=p[2]/je):(i[0]=1,i[1]=0,i[2]=0),J}function ql(i,p){const J=Jc(i,p);return Math.acos(2*J*J-1)}function Za(i,p,J){const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=J[0],Vn=J[1],Nn=J[2],br=J[3];return i[0]=je*br+hn*bn+vt*Nn-jt*Vn,i[1]=vt*br+hn*Vn+jt*bn-je*Nn,i[2]=jt*br+hn*Nn+je*Vn-vt*bn,i[3]=hn*br-je*bn-vt*Vn-jt*Nn,i}function Vo(i,p,J){J*=.5;const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=Math.sin(J),Vn=Math.cos(J);return i[0]=je*Vn+hn*bn,i[1]=vt*Vn+jt*bn,i[2]=jt*Vn-vt*bn,i[3]=hn*Vn-je*bn,i}function Os(i,p,J){J*=.5;const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=Math.sin(J),Vn=Math.cos(J);return i[0]=je*Vn-jt*bn,i[1]=vt*Vn+hn*bn,i[2]=jt*Vn+je*bn,i[3]=hn*Vn-vt*bn,i}function Tc(i,p,J){J*=.5;const je=p[0],vt=p[1],jt=p[2],hn=p[3],bn=Math.sin(J),Vn=Math.cos(J);return i[0]=je*Vn+vt*bn,i[1]=vt*Vn-je*bn,i[2]=jt*Vn+hn*bn,i[3]=hn*Vn-jt*bn,i}function Rl(i,p){const J=p[0],je=p[1],vt=p[2];return i[0]=J,i[1]=je,i[2]=vt,i[3]=Math.sqrt(Math.abs(1-J*J-je*je-vt*vt)),i}function Sc(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=Math.sqrt(J*J+je*je+vt*vt),bn=Math.exp(jt),Vn=hn>0?bn*Math.sin(hn)/hn:0;return i[0]=J*Vn,i[1]=je*Vn,i[2]=vt*Vn,i[3]=bn*Math.cos(hn),i}function sl(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=Math.sqrt(J*J+je*je+vt*vt),bn=hn>0?Math.atan2(hn,jt)/hn:0;return i[0]=J*bn,i[1]=je*bn,i[2]=vt*bn,i[3]=.5*Math.log(J*J+je*je+vt*vt+jt*jt),i}function Ia(i,p,J){return sl(i,p),bc(i,i,J),Sc(i,i),i}function Zl(i,p,J,je){const vt=p[0],jt=p[1],hn=p[2],bn=p[3];let ei,oi,wi,no,Ei,Vn=J[0],Nn=J[1],br=J[2],Jr=J[3];return ei=vt*Vn+jt*Nn+hn*br+bn*Jr,ei<0&&(ei=-ei,Vn=-Vn,Nn=-Nn,br=-br,Jr=-Jr),1-ei>xt?(oi=Math.acos(ei),Ei=Math.sin(oi),wi=Math.sin((1-je)*oi)/Ei,no=Math.sin(je*oi)/Ei):(wi=1-je,no=je),i[0]=wi*vt+no*Vn,i[1]=wi*jt+no*Nn,i[2]=wi*hn+no*br,i[3]=wi*bn+no*Jr,i}function ka(i,p){const J=p[0],je=p[1],vt=p[2],jt=p[3],hn=J*J+je*je+vt*vt+jt*jt,bn=hn?1/hn:0;return i[0]=-J*bn,i[1]=-je*bn,i[2]=-vt*bn,i[3]=jt*bn,i}function Fa(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i[3]=p[3],i}function Ic(i,p){const J=p[0]+p[4]+p[8];let je;if(J>0)je=Math.sqrt(J+1),i[3]=.5*je,je=.5/je,i[0]=(p[5]-p[7])*je,i[1]=(p[6]-p[2])*je,i[2]=(p[1]-p[3])*je;else{let vt=0;p[4]>p[0]&&(vt=1),p[8]>p[3*vt+vt]&&(vt=2);const jt=(vt+1)%3,hn=(vt+2)%3;je=Math.sqrt(p[3*vt+vt]-p[3*jt+jt]-p[3*hn+hn]+1),i[vt]=.5*je,je=.5/je,i[3]=(p[3*jt+hn]-p[3*hn+jt])*je,i[jt]=(p[3*jt+vt]+p[3*vt+jt])*je,i[hn]=(p[3*hn+vt]+p[3*vt+hn])*je}return i}function Wa(i){return`quat(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}f(Ql,{add:()=>_d,calculateW:()=>Rl,clone:()=>Zc,conjugate:()=>Fa,copy:()=>Rc,create:()=>$a,dot:()=>Jc,equals:()=>lt,exactEquals:()=>Be,exp:()=>Sc,fromMat3:()=>Ic,fromValues:()=>bl,getAngle:()=>ql,getAxisAngle:()=>fn,identity:()=>hl,invert:()=>ka,len:()=>Pu,length:()=>vd,lerp:()=>Ja,ln:()=>sl,mul:()=>es,multiply:()=>Za,normalize:()=>at,pow:()=>Ia,rotateX:()=>Vo,rotateY:()=>Os,rotateZ:()=>Tc,rotationTo:()=>pn,scale:()=>bc,set:()=>Jl,setAxes:()=>Kr,setAxisAngle:()=>Dc,slerp:()=>Zl,sqlerp:()=>In,sqrLen:()=>Ne,squaredLength:()=>ue,str:()=>Wa});var Zc=ki,bl=As,Rc=bs,Jl=qo,_d=js,es=Za,bc=Li,Jc=yt,Ja=st,vd=gs,Pu=vd,ue=Ms,Ne=ue,at=Ee,Be=Rs;function lt(i,p){return Math.abs(yt(i,p))>=1-xt}var pn=function(){const i=_n(),p=so(1,0,0),J=so(0,1,0);return function(je,vt,jt){const hn=pi(vt,jt);return hn<-.999999?(di(i,p,vt),Po(i)<1e-6&&di(i,J,vt),Mi(i,i),Dc(je,i,Math.PI),je):hn>.999999?(je[0]=0,je[1]=0,je[2]=0,je[3]=1,je):(di(i,vt,jt),je[0]=i[0],je[1]=i[1],je[2]=i[2],je[3]=1+hn,at(je,je))}}(),In=function(){const i=$a(),p=$a();return function(J,je,vt,jt,hn,bn){return Zl(i,je,hn,bn),Zl(p,vt,jt,bn),Zl(J,i,p,2*bn*(1-bn)),J}}(),Kr=function(){const i=Ti();return function(p,J,je,vt){return i[0]=je[0],i[3]=je[1],i[6]=je[2],i[1]=vt[0],i[4]=vt[1],i[7]=vt[2],i[2]=-J[0],i[5]=-J[1],i[8]=-J[2],at(p,Ic(p,i))}}(),to=[0,0,0,1],xi=class extends Ft{constructor(i=0,p=0,J=0,je=1){super(-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?this.copy(i):this.set(i,p,J,je)}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}set(i,p,J,je){return this[0]=i,this[1]=p,this[2]=J,this[3]=je,this.check()}fromObject(i){return this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this.check()}fromMatrix3(i){return Ic(this,i),this.check()}fromAxisRotation(i,p){return Dc(this,i,p),this.check()}identity(){return hl(this),this.check()}setAxisAngle(i,p){return this.fromAxisRotation(i,p)}get ELEMENTS(){return 4}get x(){return this[0]}set x(i){this[0]=I(i)}get y(){return this[1]}set y(i){this[1]=I(i)}get z(){return this[2]}set z(i){this[2]=I(i)}get w(){return this[3]}set w(i){this[3]=I(i)}len(){return vd(this)}lengthSquared(){return ue(this)}dot(i){return Jc(this,i)}rotationTo(i,p){return pn(this,i,p),this.check()}add(i){return _d(this,this,i),this.check()}calculateW(){return Rl(this,this),this.check()}conjugate(){return Fa(this,this),this.check()}invert(){return ka(this,this),this.check()}lerp(i,p,J){return void 0===J?this.lerp(this,i,p):(Ja(this,i,p,J),this.check())}multiplyRight(i){return Za(this,this,i),this.check()}multiplyLeft(i){return Za(this,i,this),this.check()}normalize(){const i=this.len(),p=i>0?1/i:0;return this[0]=this[0]*p,this[1]=this[1]*p,this[2]=this[2]*p,this[3]=this[3]*p,0===i&&(this[3]=1),this.check()}rotateX(i){return Vo(this,this,i),this.check()}rotateY(i){return Os(this,this,i),this.check()}rotateZ(i){return Tc(this,this,i),this.check()}scale(i){return bc(this,this,i),this.check()}slerp(i,p,J){let je,vt,jt;switch(arguments.length){case 1:({start:je=to,target:vt,ratio:jt}=i);break;case 2:je=this,vt=i,jt=p;break;default:je=i,vt=p,jt=J}return Zl(this,je,vt,jt),this.check()}transformVector4(i,p=new jn){return bi(p,i,this),V(p,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(i,p){return this.setAxisAngle(i,p)}premultiply(i){return this.multiplyLeft(i)}multiply(i){return this.multiplyRight(i)}},Ds=class{constructor({phi:i=0,theta:p=0,radius:J=1,bearing:je,pitch:vt,altitude:jt,radiusScale:hn=6371e3}={}){this.phi=i,this.theta=p,this.radius=J||jt||1,this.radiusScale=hn||1,void 0!==je&&(this.bearing=je),void 0!==vt&&(this.pitch=vt),this.check()}toString(){return this.formatString(U)}formatString({printTypes:i=!1}){const p=y;return`${i?"Spherical":""}[rho:${p(this.radius)},theta:${p(this.theta)},phi:${p(this.phi)}]`}equals(i){return be(this.radius,i.radius)&&be(this.theta,i.theta)&&be(this.phi,i.phi)}exactEquals(i){return this.radius===i.radius&&this.theta===i.theta&&this.phi===i.phi}get bearing(){return 180-ie(this.phi)}set bearing(i){this.phi=Math.PI-L(i)}get pitch(){return ie(this.theta)}set pitch(i){this.theta=L(i)}get longitude(){return ie(this.phi)}get latitude(){return ie(this.theta)}get lng(){return ie(this.phi)}get lat(){return ie(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(i,p,J){return this.radius=i,this.phi=p,this.theta=J,this.check()}clone(){return(new Ds).copy(this)}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this.check()}fromLngLatZ([i,p,J]){return this.radius=1+J/this.radiusScale,this.phi=L(p),this.theta=L(i),this.check()}fromVector3(i){return this.radius=Ii(i),this.radius>0&&(this.theta=Math.atan2(i[0],i[1]),this.phi=Math.acos(Q(i[2]/this.radius,-1,1))),this.check()}toVector3(){return new Jo(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},ga="Unknown Euler angle order",Na=.99999,_a=function(i){return i[i.ZYX=0]="ZYX",i[i.YXZ=1]="YXZ",i[i.XZY=2]="XZY",i[i.ZXY=3]="ZXY",i[i.YZX=4]="YZX",i[i.XYZ=5]="XYZ",i}(_a||{}),xa=class extends Ft{static get ZYX(){return _a.ZYX}static get YXZ(){return _a.YXZ}static get XZY(){return _a.XZY}static get ZXY(){return _a.ZXY}static get YZX(){return _a.YZX}static get XYZ(){return _a.XYZ}static get RollPitchYaw(){return _a.ZYX}static get DefaultOrder(){return _a.ZYX}static get RotationOrders(){return _a}static rotationOrder(i){return _a[i]}get ELEMENTS(){return 4}constructor(i=0,p=0,J=0,je=xa.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(i,p,J,je)}fromQuaternion(i){const[p,J,je,vt]=i,jt=J*J,hn=-2*(jt+je*je)+1,bn=2*(p*J+vt*je);let Vn=-2*(p*je-vt*J);Vn=Vn>1?1:Vn,Vn=Vn<-1?-1:Vn;const Jr=Math.atan2(2*(J*je+vt*p),-2*(p*p+jt)+1),ei=Math.asin(Vn),oi=Math.atan2(bn,hn);return this.set(Jr,ei,oi,xa.RollPitchYaw)}fromObject(i){throw new Error("not implemented")}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=Number.isFinite(i[3])||this.order,this.check()}set(i=0,p=0,J=0,je){return this[0]=i,this[1]=p,this[2]=J,this[3]=Number.isFinite(je)?je:this[3],this.check()}validate(){return function xl(i){return i>=0&&i<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}toArray(i=[],p=0){return i[p]=this[0],i[p+1]=this[1],i[p+2]=this[2],i}toArray4(i=[],p=0){return i[p]=this[0],i[p+1]=this[1],i[p+2]=this[2],i[p+3]=this[3],i}toVector3(i=[-0,-0,-0]){return i[0]=this[0],i[1]=this[1],i[2]=this[2],i}get x(){return this[0]}set x(i){this[0]=I(i)}get y(){return this[1]}set y(i){this[1]=I(i)}get z(){return this[2]}set z(i){this[2]=I(i)}get alpha(){return this[0]}set alpha(i){this[0]=I(i)}get beta(){return this[1]}set beta(i){this[1]=I(i)}get gamma(){return this[2]}set gamma(i){this[2]=I(i)}get phi(){return this[0]}set phi(i){this[0]=I(i)}get theta(){return this[1]}set theta(i){this[1]=I(i)}get psi(){return this[2]}set psi(i){this[2]=I(i)}get roll(){return this[0]}set roll(i){this[0]=I(i)}get pitch(){return this[1]}set pitch(i){this[1]=I(i)}get yaw(){return this[2]}set yaw(i){this[2]=I(i)}get order(){return this[3]}set order(i){this[3]=function Oc(i){if(i<0&&i>=6)throw new Error(ga);return i}(i)}fromVector3(i,p){return this.set(i[0],i[1],i[2],Number.isFinite(p)?p:this[3])}fromArray(i,p=0){return this[0]=i[0+p],this[1]=i[1+p],this[2]=i[2+p],void 0!==i[3]&&(this[3]=i[3]),this.check()}fromRollPitchYaw(i,p,J){return this.set(i,p,J,_a.ZYX)}fromRotationMatrix(i,p=xa.DefaultOrder){return this._fromRotationMatrix(i,p),this.check()}getRotationMatrix(i){return this._getRotationMatrix(i)}getQuaternion(){const i=new xi;switch(this[3]){case _a.XYZ:return i.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case _a.YXZ:return i.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case _a.ZXY:return i.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case _a.ZYX:return i.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case _a.YZX:return i.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case _a.XZY:return i.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(ga)}}_fromRotationMatrix(i,p=xa.DefaultOrder){const J=i[0],je=i[4],vt=i[8],jt=i[1],hn=i[5],bn=i[9],Vn=i[2],Nn=i[6],br=i[10];switch(p=p||this[3]){case xa.XYZ:this[1]=Math.asin(Q(vt,-1,1)),Math.abs(vt)<Na?(this[0]=Math.atan2(-bn,br),this[2]=Math.atan2(-je,J)):(this[0]=Math.atan2(Nn,hn),this[2]=0);break;case xa.YXZ:this[0]=Math.asin(-Q(bn,-1,1)),Math.abs(bn)<Na?(this[1]=Math.atan2(vt,br),this[2]=Math.atan2(jt,hn)):(this[1]=Math.atan2(-Vn,J),this[2]=0);break;case xa.ZXY:this[0]=Math.asin(Q(Nn,-1,1)),Math.abs(Nn)<Na?(this[1]=Math.atan2(-Vn,br),this[2]=Math.atan2(-je,hn)):(this[1]=0,this[2]=Math.atan2(jt,J));break;case xa.ZYX:this[1]=Math.asin(-Q(Vn,-1,1)),Math.abs(Vn)<Na?(this[0]=Math.atan2(Nn,br),this[2]=Math.atan2(jt,J)):(this[0]=0,this[2]=Math.atan2(-je,hn));break;case xa.YZX:this[2]=Math.asin(Q(jt,-1,1)),Math.abs(jt)<Na?(this[0]=Math.atan2(-bn,hn),this[1]=Math.atan2(-Vn,J)):(this[0]=0,this[1]=Math.atan2(vt,br));break;case xa.XZY:this[2]=Math.asin(-Q(je,-1,1)),Math.abs(je)<Na?(this[0]=Math.atan2(Nn,hn),this[1]=Math.atan2(vt,J)):(this[0]=Math.atan2(-bn,br),this[1]=0);break;default:throw new Error(ga)}return this[3]=p,this}_getRotationMatrix(i){const p=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],J=this.x,je=this.y,vt=this.z,jt=Math.cos(J),hn=Math.cos(je),bn=Math.cos(vt),Vn=Math.sin(J),Nn=Math.sin(je),br=Math.sin(vt);switch(this[3]){case xa.XYZ:{const Jr=jt*bn,ei=jt*br,oi=Vn*bn,wi=Vn*br;p[0]=hn*bn,p[4]=-hn*br,p[8]=Nn,p[1]=ei+oi*Nn,p[5]=Jr-wi*Nn,p[9]=-Vn*hn,p[2]=wi-Jr*Nn,p[6]=oi+ei*Nn,p[10]=jt*hn;break}case xa.YXZ:{const Jr=hn*bn,ei=hn*br,oi=Nn*bn,wi=Nn*br;p[0]=Jr+wi*Vn,p[4]=oi*Vn-ei,p[8]=jt*Nn,p[1]=jt*br,p[5]=jt*bn,p[9]=-Vn,p[2]=ei*Vn-oi,p[6]=wi+Jr*Vn,p[10]=jt*hn;break}case xa.ZXY:{const Jr=hn*bn,ei=hn*br,oi=Nn*bn,wi=Nn*br;p[0]=Jr-wi*Vn,p[4]=-jt*br,p[8]=oi+ei*Vn,p[1]=ei+oi*Vn,p[5]=jt*bn,p[9]=wi-Jr*Vn,p[2]=-jt*Nn,p[6]=Vn,p[10]=jt*hn;break}case xa.ZYX:{const Jr=jt*bn,ei=jt*br,oi=Vn*bn,wi=Vn*br;p[0]=hn*bn,p[4]=oi*Nn-ei,p[8]=Jr*Nn+wi,p[1]=hn*br,p[5]=wi*Nn+Jr,p[9]=ei*Nn-oi,p[2]=-Nn,p[6]=Vn*hn,p[10]=jt*hn;break}case xa.YZX:{const Jr=jt*hn,ei=jt*Nn,oi=Vn*hn,wi=Vn*Nn;p[0]=hn*bn,p[4]=wi-Jr*br,p[8]=oi*br+ei,p[1]=br,p[5]=jt*bn,p[9]=-Vn*bn,p[2]=-Nn*bn,p[6]=ei*br+oi,p[10]=Jr-wi*br;break}case xa.XZY:{const Jr=jt*hn,ei=jt*Nn,oi=Vn*hn,wi=Vn*Nn;p[0]=hn*bn,p[4]=-br,p[8]=Nn*bn,p[1]=Jr*br+wi,p[5]=jt*bn,p[9]=ei*br-oi,p[2]=oi*br-ei,p[6]=Vn*bn,p[10]=wi*br+Jr;break}default:throw new Error(ga)}return p[3]=0,p[7]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}toQuaternion(){const i=Math.cos(.5*this.yaw),p=Math.sin(.5*this.yaw),J=Math.cos(.5*this.roll),je=Math.sin(.5*this.roll),vt=Math.cos(.5*this.pitch),jt=Math.sin(.5*this.pitch);return new xi(i*je*vt-p*J*jt,i*J*jt+p*je*vt,p*J*vt-i*je*jt,i*J*vt+p*je*jt)}},al=class{constructor({x:i=0,y:p=0,z:J=0,roll:je=0,pitch:vt=0,yaw:jt=0,position:hn,orientation:bn}={}){this.position=Array.isArray(hn)&&3===hn.length?new Jo(hn):new Jo(i,p,J),this.orientation=Array.isArray(bn)&&4===bn.length?new xa(bn,bn[3]):new xa(je,vt,jt,xa.RollPitchYaw)}get x(){return this.position.x}set x(i){this.position.x=i}get y(){return this.position.y}set y(i){this.position.y=i}get z(){return this.position.z}set z(i){this.position.z=i}get roll(){return this.orientation.roll}set roll(i){this.orientation.roll=i}get pitch(){return this.orientation.pitch}set pitch(i){this.orientation.pitch=i}get yaw(){return this.orientation.yaw}set yaw(i){this.orientation.yaw=i}getPosition(){return this.position}getOrientation(){return this.orientation}equals(i){return!!i&&this.position.equals(i.position)&&this.orientation.equals(i.orientation)}exactEquals(i){return!!i&&this.position.exactEquals(i.position)&&this.orientation.exactEquals(i.orientation)}getTransformationMatrix(){const i=Math.sin(this.roll),p=Math.sin(this.pitch),J=Math.sin(this.yaw),je=Math.cos(this.roll),vt=Math.cos(this.pitch),jt=Math.cos(this.yaw);return(new ba).setRowMajor(jt*vt,-J*je+jt*p*i,J*i+jt*p*je,this.x,J*vt,jt*je+J*p*i,-jt*i+J*p*je,this.y,-p,vt*i,vt*je,this.z,0,0,0,1)}getTransformationMatrixFromPose(i){return(new ba).multiplyRight(this.getTransformationMatrix()).multiplyRight(i.getTransformationMatrix().invert())}getTransformationMatrixToPose(i){return(new ba).multiplyRight(i.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},jl={};f(jl,{EPSILON1:()=>ec,EPSILON10:()=>uc,EPSILON11:()=>Xd,EPSILON12:()=>Yd,EPSILON13:()=>rs,EPSILON14:()=>td,EPSILON15:()=>Ec,EPSILON16:()=>va,EPSILON17:()=>nd,EPSILON18:()=>nc,EPSILON19:()=>cl,EPSILON2:()=>ll,EPSILON20:()=>el,EPSILON3:()=>xc,EPSILON4:()=>Wd,EPSILON5:()=>yd,EPSILON6:()=>ed,EPSILON7:()=>La,EPSILON8:()=>Kd,EPSILON9:()=>tc,PI_OVER_FOUR:()=>rd,PI_OVER_SIX:()=>Qd,PI_OVER_TWO:()=>Ka,TWO_PI:()=>Ol});var ec=.1,ll=.01,xc=.001,Wd=1e-4,yd=1e-5,ed=1e-6,La=1e-7,Kd=1e-8,tc=1e-9,uc=1e-10,Xd=1e-11,Yd=1e-12,rs=1e-13,td=1e-14,Ec=1e-15,va=1e-16,nd=1e-17,nc=1e-18,cl=1e-19,el=1e-20,Ka=Math.PI/2,rd=Math.PI/4,Qd=Math.PI/6,Ol=2*Math.PI},7590:en=>{var ae,ot=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,C={};((ae,le)=>{for(var fe in le)ot(ae,fe,{get:le[fe],enumerable:!0})})(C,{VERSION:()=>ie,assert:()=>L,console:()=>O,document:()=>S,getBrowser:()=>K,global:()=>u,isBrowser:()=>D,isElectron:()=>_,isMobile:()=>W,process:()=>U,self:()=>u,window:()=>F}),en.exports=(ae=C,((ae,le,fe,q)=>{if(le&&"object"==typeof le||"function"==typeof le)for(let $ of r(le))!x.call(ae,$)&&undefined!==$&&ot(ae,$,{get:()=>le[$],enumerable:!(q=w(le,$))||q.enumerable});return ae})(ot({},"__esModule",{value:!0}),ae));var u=globalThis,F=globalThis,S=globalThis.document||{},U=globalThis.process||{},O=globalThis.console,y=globalThis.navigator||{};function _(ae){var le,fe;if(typeof window<"u"&&"renderer"===(null==(le=window.process)?void 0:le.type)||typeof process<"u"&&null!=(fe=process.versions)&&fe.electron)return!0;const q=typeof navigator<"u"&&navigator.userAgent,$=ae||q;return!!($&&$.indexOf("Electron")>=0)}function D(){return!("object"==typeof process&&"[object process]"===String(process)&&(null==process||!process.browser))||_()}function W(){return typeof globalThis.orientation<"u"}function K(ae){return ae||D()?_(ae)?"Electron":(ae||y.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}function L(ae,le){if(!ae)throw new Error(le||"Assertion failed")}var ie="4.0.7"},9243:(en,ot,w)=>{var I,r=Object.defineProperty,x=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,F={};((I,V)=>{for(var ge in V)r(I,ge,{get:V[ge],enumerable:!0})})(F,{COLOR:()=>K,LocalStorage:()=>O,Log:()=>Qe,addColor:()=>ae,autobind:()=>le,default:()=>ve,getHiResTimestamp:()=>$,leftPad:()=>_,rightPad:()=>D}),en.exports=(I=F,((I,V,ge,Pe)=>{if(V&&"object"==typeof V||"function"==typeof V)for(let ke of f(V))!b.call(I,ke)&&undefined!==ke&&r(I,ke,{get:()=>V[ke],enumerable:!(Pe=x(V,ke))||Pe.enumerable});return I})(r({},"__esModule",{value:!0}),I));var S=w(7590),O=class{constructor(I,V,ge="sessionStorage"){this.storage=function U(I){try{const V=window[I],ge="__storage_test__";return V.setItem(ge,ge),V.removeItem(ge),V}catch{return null}}(ge),this.id=I,this.config=V,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(I){if(Object.assign(this.config,I),this.storage){const V=JSON.stringify(this.config);this.storage.setItem(this.id,V)}}_loadConfiguration(){let I={};if(this.storage){const V=this.storage.getItem(this.id);I=V?JSON.parse(V):{}}return Object.assign(this.config,I),this}};function _(I,V=8){const ge=Math.max(V-I.length,0);return`${" ".repeat(ge)}${I}`}function D(I,V=8){const ge=Math.max(V-I.length,0);return`${I}${" ".repeat(ge)}`}var W=w(7590),K=function(I){return I[I.BLACK=30]="BLACK",I[I.RED=31]="RED",I[I.GREEN=32]="GREEN",I[I.YELLOW=33]="YELLOW",I[I.BLUE=34]="BLUE",I[I.MAGENTA=35]="MAGENTA",I[I.CYAN=36]="CYAN",I[I.WHITE=37]="WHITE",I[I.BRIGHT_BLACK=90]="BRIGHT_BLACK",I[I.BRIGHT_RED=91]="BRIGHT_RED",I[I.BRIGHT_GREEN=92]="BRIGHT_GREEN",I[I.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",I[I.BRIGHT_BLUE=94]="BRIGHT_BLUE",I[I.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",I[I.BRIGHT_CYAN=96]="BRIGHT_CYAN",I[I.BRIGHT_WHITE=97]="BRIGHT_WHITE",I}(K||{}),L=10;function ie(I){return"string"!=typeof I?I:(I=I.toUpperCase(),K[I]||K.WHITE)}function ae(I,V,ge){return!W.isBrowser&&"string"==typeof I&&(V&&(I=`\x1b[${ie(V)}m${I}\x1b[39m`),ge&&(I=`\x1b[${ie(ge)+L}m${I}\x1b[49m`)),I}function le(I,V=["constructor"]){const ge=Object.getPrototypeOf(I),Pe=Object.getOwnPropertyNames(ge),ke=I;for(const xt of Pe){const Ht=ke[xt];"function"==typeof Ht&&(V.find(ln=>xt===ln)||(ke[xt]=Ht.bind(I)))}}function fe(I,V){if(!I)throw new Error(V||"Assertion failed")}var q=w(7590);function $(){var I,V,ge,Pe,ke;let xt;if((0,q.isBrowser)()&&q.window.performance)xt=null==(ge=null==(V=null==(I=q.window)?void 0:I.performance)?void 0:V.now)?void 0:ge.call(V);else if("hrtime"in q.process){const Ht=null==(ke=null==(Pe=q.process)?void 0:Pe.hrtime)?void 0:ke.call(Pe);xt=1e3*Ht[0]+Ht[1]/1e6}else xt=Date.now();return xt}var j={debug:(0,S.isBrowser)()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},Q={enabled:!0,level:0};function ee(){}var be={},Se={once:!0},Qe=class{constructor({id:I}={id:""}){this.VERSION=S.VERSION,this._startTs=$(),this._deltaTs=$(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=I,this.userData={},this._storage=new O(`__probe-${this.id}__`,Q),this.timeStamp(`${this.id} started`),le(this),Object.seal(this)}set level(I){this.setLevel(I)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number(($()-this._startTs).toPrecision(10))}getDelta(){return Number(($()-this._deltaTs).toPrecision(10))}set priority(I){this.level=I}get priority(){return this.level}getPriority(){return this.level}enable(I=!0){return this._storage.setConfiguration({enabled:I}),this}setLevel(I){return this._storage.setConfiguration({level:I}),this}get(I){return this._storage.config[I]}set(I,V){this._storage.setConfiguration({[I]:V})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(I,V){if(!I)throw new Error(V||"Assertion failed")}warn(I){return this._getLogFunction(0,I,j.warn,arguments,Se)}error(I){return this._getLogFunction(0,I,j.error,arguments)}deprecated(I,V){return this.warn(`\`${I}\` is deprecated and will be removed in a later version. Use \`${V}\` instead`)}removed(I,V){return this.error(`\`${I}\` has been removed. Use \`${V}\` instead`)}probe(I,V){return this._getLogFunction(I,V,j.log,arguments,{time:!0,once:!0})}log(I,V){return this._getLogFunction(I,V,j.debug,arguments)}info(I,V){return this._getLogFunction(I,V,console.info,arguments)}once(I,V){return this._getLogFunction(I,V,j.debug||j.info,arguments,Se)}table(I,V,ge){return V?this._getLogFunction(I,V,console.table||ee,ge&&[ge],{tag:Ft(V)}):ee}time(I,V){return this._getLogFunction(I,V,console.time?console.time:console.info)}timeEnd(I,V){return this._getLogFunction(I,V,console.timeEnd?console.timeEnd:console.info)}timeStamp(I,V){return this._getLogFunction(I,V,console.timeStamp||ee)}group(I,V,ge={collapsed:!1}){const Pe=De({logLevel:I,message:V,opts:ge}),{collapsed:ke}=ge;return Pe.method=(ke?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Pe)}groupCollapsed(I,V,ge={}){return this.group(I,V,Object.assign({},ge,{collapsed:!0}))}groupEnd(I){return this._getLogFunction(I,"",console.groupEnd||ee)}withGroup(I,V,ge){this.group(I,V)();try{ge()}finally{this.groupEnd(I)()}}trace(){console.trace&&console.trace()}_shouldLog(I){return this.isEnabled()&&this.getLevel()>=nt(I)}_getLogFunction(I,V,ge,Pe,ke){if(this._shouldLog(I)){ke=De({logLevel:I,message:V,args:Pe,opts:ke}),fe(ge=ge||ke.method),ke.total=this.getTotal(),ke.delta=this.getDelta(),this._deltaTs=$();const xt=ke.tag||ke.message;if(ke.once&&xt){if(be[xt])return ee;be[xt]=$()}return V=function ut(I,V,ge){if("string"==typeof V){const Pe=ge.time?_(function y(I){let V;return V=I<10?`${I.toFixed(2)}ms`:I<100?`${I.toFixed(1)}ms`:I<1e3?`${I.toFixed(0)}ms`:`${(I/1e3).toFixed(2)}s`,V}(ge.total)):"";V=ae(V=ge.time?`${I}: ${Pe}  ${V}`:`${I}: ${V}`,ge.color,ge.background)}return V}(this.id,ke.message,ke),ge.bind(console,V,...ke.args)}return ee}};function nt(I){if(!I)return 0;let V;switch(typeof I){case"number":V=I;break;case"object":V=I.logLevel||I.priority||0;break;default:return 0}return fe(Number.isFinite(V)&&V>=0),V}function De(I){const{logLevel:V,message:ge}=I;I.logLevel=nt(V);const Pe=I.args?Array.from(I.args):[];for(;Pe.length&&Pe.shift()!==ge;);switch(typeof V){case"string":case"function":void 0!==ge&&Pe.unshift(ge),I.message=V;break;case"object":Object.assign(I,V)}"function"==typeof I.message&&(I.message=I.message());const ke=typeof I.message;return fe("string"===ke||"object"===ke),Object.assign(I,{args:Pe},I.opts)}function Ft(I){for(const V in I)for(const ge in I[V])return ge||"untitled";return"empty"}Qe.VERSION=S.VERSION,globalThis.probe={};var ve=new Qe({id:"@probe.gl/log"})},750:en=>{var U,ot=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,C={};function u(){let U;if(typeof window<"u"&&window.performance)U=window.performance.now();else if(typeof process<"u"&&process.hrtime){const O=process.hrtime();U=1e3*O[0]+O[1]/1e6}else U=Date.now();return U}((U,O)=>{for(var y in O)ot(U,y,{get:O[y],enumerable:!0})})(C,{Stat:()=>F,Stats:()=>S,_getHiResTimestamp:()=>u}),en.exports=(U=C,((U,O,y,_)=>{if(O&&"object"==typeof O||"function"==typeof O)for(let D of r(O))!x.call(U,D)&&undefined!==D&&ot(U,D,{get:()=>O[D],enumerable:!(_=w(O,D))||_.enumerable});return U})(ot({},"__esModule",{value:!0}),U));var F=class{constructor(U,O){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=U,this.type=O,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(U){return this.sampleSize=U,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(U){return this._count+=U,this._samples++,this._checkSampling(),this}subtractCount(U){return this._count-=U,this._samples++,this._checkSampling(),this}addTime(U){return this._time+=U,this.lastTiming=U,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=u(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(u()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}},S=class{constructor(U){this.stats={},this.id=U.id,this.stats={},this._initializeStats(U.stats),Object.seal(this)}get(U,O="count"){return this._getOrCreate({name:U,type:O})}get size(){return Object.keys(this.stats).length}reset(){for(const U of Object.values(this.stats))U.reset();return this}forEach(U){for(const O of Object.values(this.stats))U(O)}getTable(){const U={};return this.forEach(O=>{U[O.name]={time:O.time||0,count:O.count||0,average:O.getAverageTime()||0,hz:O.getHz()||0}}),U}_initializeStats(U=[]){U.forEach(O=>this._getOrCreate(O))}_getOrCreate(U){const{name:O,type:y}=U;let _=this.stats[O];return _||(_=U instanceof F?U:new F(O,y),this.stats[O]=_),_}}},9326:(en,ot,w)=>{"use strict";const{VOID:r,PRIMITIVE:x,ARRAY:f,OBJECT:b,DATE:E,REGEXP:C,MAP:u,SET:F,ERROR:S,BIGINT:U}=w(92),O="object"==typeof self?self:globalThis;ot.deserialize=D=>((D,W)=>{const K=(ie,ae)=>(D.set(ae,ie),ie),L=ie=>{if(D.has(ie))return D.get(ie);const[ae,le]=W[ie];switch(ae){case x:case r:return K(le,ie);case f:{const fe=K([],ie);for(const q of le)fe.push(L(q));return fe}case b:{const fe=K({},ie);for(const[q,$]of le)fe[L(q)]=L($);return fe}case E:return K(new Date(le),ie);case C:{const{source:fe,flags:q}=le;return K(new RegExp(fe,q),ie)}case u:{const fe=K(new Map,ie);for(const[q,$]of le)fe.set(L(q),L($));return fe}case F:{const fe=K(new Set,ie);for(const q of le)fe.add(L(q));return fe}case S:{const{name:fe,message:q}=le;return K(new O[fe](q),ie)}case U:return K(BigInt(le),ie);case"BigInt":return K(Object(BigInt(le)),ie)}return K(new O[ae](le),ie)};return L})(new Map,D)(0)},9685:(en,ot,w)=>{"use strict";const{deserialize:r}=w(9326),{serialize:x}=w(3395);Object.defineProperty(ot,"__esModule",{value:!0}).default="function"==typeof structuredClone?(f,b)=>b&&("json"in b||"lossy"in b)?r(x(f,b)):structuredClone(f):(f,b)=>r(x(f,b)),ot.deserialize=r,ot.serialize=x},3395:(en,ot,w)=>{"use strict";const{VOID:r,PRIMITIVE:x,ARRAY:f,OBJECT:b,DATE:E,REGEXP:C,MAP:u,SET:F,ERROR:S,BIGINT:U}=w(92),O="",{toString:y}={},{keys:_}=Object,D=ie=>{const ae=typeof ie;if("object"!==ae||!ie)return[x,ae];const le=y.call(ie).slice(8,-1);switch(le){case"Array":return[f,O];case"Object":return[b,O];case"Date":return[E,O];case"RegExp":return[C,O];case"Map":return[u,O];case"Set":return[F,O]}return le.includes("Array")?[f,le]:le.includes("Error")?[S,le]:[b,le]},W=([ie,ae])=>ie===x&&("function"===ae||"symbol"===ae);ot.serialize=(ie,{json:ae,lossy:le}={})=>{const fe=[];return((ie,ae,le,fe)=>{const q=(j,Q)=>{const ee=fe.push(j)-1;return le.set(Q,ee),ee},$=j=>{if(le.has(j))return le.get(j);let[Q,ee]=D(j);switch(Q){case x:{let Se=j;switch(ee){case"bigint":Q=U,Se=j.toString();break;case"function":case"symbol":if(ie)throw new TypeError("unable to serialize "+ee);Se=null;break;case"undefined":return q([r],j)}return q([Q,Se],j)}case f:{if(ee)return q([ee,[...j]],j);const Se=[],Qe=q([Q,Se],j);for(const nt of j)Se.push($(nt));return Qe}case b:{if(ee)switch(ee){case"BigInt":return q([ee,j.toString()],j);case"Boolean":case"Number":case"String":return q([ee,j.valueOf()],j)}if(ae&&"toJSON"in j)return $(j.toJSON());const Se=[],Qe=q([Q,Se],j);for(const nt of _(j))(ie||!W(D(j[nt])))&&Se.push([$(nt),$(j[nt])]);return Qe}case E:return q([Q,j.toISOString()],j);case C:{const{source:Se,flags:Qe}=j;return q([Q,{source:Se,flags:Qe}],j)}case u:{const Se=[],Qe=q([Q,Se],j);for(const[nt,De]of j)(ie||!W(D(nt))&&!W(D(De)))&&Se.push([$(nt),$(De)]);return Qe}case F:{const Se=[],Qe=q([Q,Se],j);for(const nt of j)(ie||!W(D(nt)))&&Se.push($(nt));return Qe}}const{message:be}=j;return q([Q,{name:ee,message:be}],j)};return $})(!(ae||le),!!ae,new Map,fe)(ie),fe}},92:(en,ot)=>{"use strict";ot.VOID=-1,ot.PRIMITIVE=0,ot.ARRAY=1,ot.OBJECT=2,ot.DATE=3,ot.REGEXP=4,ot.MAP=5,ot.SET=6,ot.ERROR=7,ot.BIGINT=8},6579:()=>{var en,ot;ot=en||(en={}),function(w){var r="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function C(){return function b(){try{return Function("return this;")()}catch{}}()||function E(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),x=f(ot);function f(u,F){return function(S,U){Object.defineProperty(u,S,{configurable:!0,writable:!0,value:U}),F&&F(S,U)}}typeof r.Reflect<"u"&&(x=f(r.Reflect,x)),function(w,r){var x=Object.prototype.hasOwnProperty,f="function"==typeof Symbol,b=f&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",E=f&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",C="function"==typeof Object.create,u={__proto__:[]}instanceof Array,F=!C&&!u,S={create:C?function(){return Ct(Object.create(null))}:u?function(){return Ct({__proto__:null})}:function(){return Ct({})},has:F?function(dt,At){return x.call(dt,At)}:function(dt,At){return At in dt},get:F?function(dt,At){return x.call(dt,At)?dt[At]:void 0}:function(dt,At){return dt[At]}},U=Object.getPrototypeOf(Function),O="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ft(){var dt={},At=[],Qt=function(){function Lt(Xt,gn,Ln){this._index=0,this._keys=Xt,this._values=gn,this._selector=Ln}return Lt.prototype["@@iterator"]=function(){return this},Lt.prototype[E]=function(){return this},Lt.prototype.next=function(){var Xt=this._index;if(Xt>=0&&Xt<this._keys.length){var gn=this._selector(this._keys[Xt],this._values[Xt]);return Xt+1>=this._keys.length?(this._index=-1,this._keys=At,this._values=At):this._index++,{value:gn,done:!1}}return{value:void 0,done:!0}},Lt.prototype.throw=function(Xt){throw this._index>=0&&(this._index=-1,this._keys=At,this._values=At),Xt},Lt.prototype.return=function(Xt){return this._index>=0&&(this._index=-1,this._keys=At,this._values=At),{value:Xt,done:!0}},Lt}();return function(){function Lt(){this._keys=[],this._values=[],this._cacheKey=dt,this._cacheIndex=-2}return Object.defineProperty(Lt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Lt.prototype.has=function(Xt){return this._find(Xt,!1)>=0},Lt.prototype.get=function(Xt){var gn=this._find(Xt,!1);return gn>=0?this._values[gn]:void 0},Lt.prototype.set=function(Xt,gn){var Ln=this._find(Xt,!0);return this._values[Ln]=gn,this},Lt.prototype.delete=function(Xt){var gn=this._find(Xt,!1);if(gn>=0){for(var Ln=this._keys.length,$n=gn+1;$n<Ln;$n++)this._keys[$n-1]=this._keys[$n],this._values[$n-1]=this._values[$n];return this._keys.length--,this._values.length--,R(Xt,this._cacheKey)&&(this._cacheKey=dt,this._cacheIndex=-2),!0}return!1},Lt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=dt,this._cacheIndex=-2},Lt.prototype.keys=function(){return new Qt(this._keys,this._values,pt)},Lt.prototype.values=function(){return new Qt(this._keys,this._values,Tt)},Lt.prototype.entries=function(){return new Qt(this._keys,this._values,$e)},Lt.prototype["@@iterator"]=function(){return this.entries()},Lt.prototype[E]=function(){return this.entries()},Lt.prototype._find=function(Xt,gn){if(!R(this._cacheKey,Xt)){this._cacheIndex=-1;for(var Ln=0;Ln<this._keys.length;Ln++)if(R(this._keys[Ln],Xt)){this._cacheIndex=Ln;break}}return this._cacheIndex<0&&gn&&(this._cacheIndex=this._keys.length,this._keys.push(Xt),this._values.push(void 0)),this._cacheIndex},Lt}();function pt(Lt,Xt){return Lt}function Tt(Lt,Xt){return Xt}function $e(Lt,Xt){return[Lt,Xt]}}(),y="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function It(){return function(){function At(){this._map=new O}return Object.defineProperty(At.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),At.prototype.has=function(Qt){return this._map.has(Qt)},At.prototype.add=function(Qt){return this._map.set(Qt,Qt),this},At.prototype.delete=function(Qt){return this._map.delete(Qt)},At.prototype.clear=function(){this._map.clear()},At.prototype.keys=function(){return this._map.keys()},At.prototype.values=function(){return this._map.keys()},At.prototype.entries=function(){return this._map.entries()},At.prototype["@@iterator"]=function(){return this.keys()},At.prototype[E]=function(){return this.keys()},At}()}(),_="function"==typeof WeakMap?WeakMap:function Ge(){var dt=16,At=S.create(),Qt=Ke();return function(){function Xt(){this._key=Ke()}return Xt.prototype.has=function(gn){var Ln=pt(gn,!1);return void 0!==Ln&&S.has(Ln,this._key)},Xt.prototype.get=function(gn){var Ln=pt(gn,!1);return void 0!==Ln?S.get(Ln,this._key):void 0},Xt.prototype.set=function(gn,Ln){return pt(gn,!0)[this._key]=Ln,this},Xt.prototype.delete=function(gn){var Ln=pt(gn,!1);return void 0!==Ln&&delete Ln[this._key]},Xt.prototype.clear=function(){this._key=Ke()},Xt}();function Ke(){var Xt;do{Xt="@@WeakMap@@"+Lt()}while(S.has(At,Xt));return At[Xt]=!0,Xt}function pt(Xt,gn){if(!x.call(Xt,Qt)){if(!gn)return;Object.defineProperty(Xt,Qt,{value:S.create()})}return Xt[Qt]}function Tt(Xt,gn){for(var Ln=0;Ln<gn;++Ln)Xt[Ln]=255*Math.random()|0;return Xt}function Lt(){var Xt=function $e(Xt){if("function"==typeof Uint8Array){var gn=new Uint8Array(Xt);return typeof crypto<"u"?crypto.getRandomValues(gn):typeof msCrypto<"u"?msCrypto.getRandomValues(gn):Tt(gn,Xt),gn}return Tt(new Array(Xt),Xt)}(dt);Xt[6]=79&Xt[6]|64,Xt[8]=191&Xt[8]|128;for(var gn="",Ln=0;Ln<dt;++Ln){var $n=Xt[Ln];(4===Ln||6===Ln||8===Ln)&&(gn+="-"),$n<16&&(gn+="0"),gn+=$n.toString(16).toLowerCase()}return gn}}(),D=f?Symbol.for("@reflect-metadata:registry"):void 0,W=function X(){var dt;return!ge(D)&&xt(r.Reflect)&&Object.isExtensible(r.Reflect)&&(dt=r.Reflect[D]),ge(dt)&&(dt=function H(){var dt;!ge(D)&&typeof r.Reflect<"u"&&!(D in r.Reflect)&&"function"==typeof r.Reflect.defineMetadata&&(dt=function He(dt){var At=dt.defineMetadata,Qt=dt.hasOwnMetadata,Ke=dt.getOwnMetadata,pt=dt.getOwnMetadataKeys,Tt=dt.deleteMetadata,$e=new _;return{isProviderFor:function(Xt,gn){var Ln=$e.get(Xt);return!(ge(Ln)||!Ln.has(gn))||!!pt(Xt,gn).length&&(ge(Ln)&&(Ln=new y,$e.set(Xt,Ln)),Ln.add(gn),!0)},OrdinaryDefineOwnMetadata:At,OrdinaryHasOwnMetadata:Qt,OrdinaryGetOwnMetadata:Ke,OrdinaryOwnMetadataKeys:pt,OrdinaryDeleteMetadata:Tt}}(r.Reflect));var At,Qt,Ke,pt=new _,Tt={registerProvider:$e,getProvider:Xt,setProvider:Ln};return Tt;function $e($n){if(!Object.isExtensible(Tt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case dt===$n:break;case ge(At):At=$n;break;case At===$n:break;case ge(Qt):Qt=$n;break;case Qt===$n:break;default:void 0===Ke&&(Ke=new y),Ke.add($n)}}function Lt($n,gr){if(!ge(At)){if(At.isProviderFor($n,gr))return At;if(!ge(Qt)){if(Qt.isProviderFor($n,gr))return At;if(!ge(Ke))for(var sn=Y(Ke);;){var St=M(sn);if(!St)return;var Fe=h(St);if(Fe.isProviderFor($n,gr))return Z(sn),Fe}}}if(!ge(dt)&&dt.isProviderFor($n,gr))return dt}function Xt($n,gr){var St,sn=pt.get($n);return ge(sn)||(St=sn.get(gr)),ge(St)&&(ge(St=Lt($n,gr))||(ge(sn)&&(sn=new O,pt.set($n,sn)),sn.set(gr,St))),St}function gn($n){if(ge($n))throw new TypeError;return At===$n||Qt===$n||!ge(Ke)&&Ke.has($n)}function Ln($n,gr,sn){if(!gn(sn))throw new Error("Metadata provider not registered.");var St=Xt($n,gr);if(St!==sn){if(!ge(St))return!1;var Fe=pt.get($n);ge(Fe)&&(Fe=new O,pt.set($n,Fe)),Fe.set(gr,sn)}return!0}}()),!ge(D)&&xt(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,D,{enumerable:!1,configurable:!1,writable:!1,value:dt}),dt}(),K=function oe(dt){var At=new _,Qt={isProviderFor:function(gn,Ln){var $n=At.get(gn);return!ge($n)&&$n.has(Ln)},OrdinaryDefineOwnMetadata:function $e(gn,Ln,$n,gr){Ke($n,gr,!0).set(gn,Ln)},OrdinaryHasOwnMetadata:function pt(gn,Ln,$n){var gr=Ke(Ln,$n,!1);return!ge(gr)&&Bt(gr.has(gn))},OrdinaryGetOwnMetadata:function Tt(gn,Ln,$n){var gr=Ke(Ln,$n,!1);if(!ge(gr))return gr.get(gn)},OrdinaryOwnMetadataKeys:function Lt(gn,Ln){var $n=[],gr=Ke(gn,Ln,!1);if(ge(gr))return $n;for(var St=Y(gr.keys()),Fe=0;;){var Ue=M(St);if(!Ue)return $n.length=Fe,$n;var Ce=h(Ue);try{$n[Fe]=Ce}catch(me){try{Z(St)}finally{throw me}}Fe++}},OrdinaryDeleteMetadata:function Xt(gn,Ln,$n){var gr=Ke(Ln,$n,!1);if(ge(gr)||!gr.delete(gn))return!1;if(0===gr.size){var sn=At.get(Ln);ge(sn)||(sn.delete($n),0===sn.size&&At.delete(sn))}return!0}};return W.registerProvider(Qt),Qt;function Ke(gn,Ln,$n){var gr=At.get(gn),sn=!1;if(ge(gr)){if(!$n)return;gr=new O,At.set(gn,gr),sn=!0}var St=gr.get(Ln);if(ge(St)){if(!$n)return;if(St=new O,gr.set(Ln,St),!dt.setProvider(gn,Ln,Qt))throw gr.delete(Ln),sn&&At.delete(gn),new Error("Wrong provider for target.")}return St}}(W);function Qe(dt,At,Qt){if(nt(dt,At,Qt))return!0;var pt=z(At);return!Pe(pt)&&Qe(dt,pt,Qt)}function nt(dt,At,Qt){var Ke=rt(At,Qt,!1);return!ge(Ke)&&Bt(Ke.OrdinaryHasOwnMetadata(dt,At,Qt))}function De(dt,At,Qt){if(nt(dt,At,Qt))return ut(dt,At,Qt);var pt=z(At);return Pe(pt)?void 0:De(dt,pt,Qt)}function ut(dt,At,Qt){var Ke=rt(At,Qt,!1);if(!ge(Ke))return Ke.OrdinaryGetOwnMetadata(dt,At,Qt)}function Ft(dt,At,Qt,Ke){rt(Qt,Ke,!0).OrdinaryDefineOwnMetadata(dt,At,Qt,Ke)}function ve(dt,At){var Qt=I(dt,At),Ke=z(dt);if(null===Ke)return Qt;var pt=ve(Ke,At);if(pt.length<=0)return Qt;if(Qt.length<=0)return pt;for(var Tt=new y,$e=[],Lt=0,Xt=Qt;Lt<Xt.length;Lt++)Tt.has(gn=Xt[Lt])||(Tt.add(gn),$e.push(gn));for(var $n=0,gr=pt;$n<gr.length;$n++){var gn;Tt.has(gn=gr[$n])||(Tt.add(gn),$e.push(gn))}return $e}function I(dt,At){var Qt=rt(dt,At,!1);return Qt?Qt.OrdinaryOwnMetadataKeys(dt,At):[]}function V(dt){if(null===dt)return 1;switch(typeof dt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===dt?1:6;default:return 6}}function ge(dt){return void 0===dt}function Pe(dt){return null===dt}function xt(dt){return"object"==typeof dt?null!==dt:"function"==typeof dt}function Ht(dt,At){switch(V(dt)){case 0:case 1:case 2:case 3:case 4:case 5:return dt}var Qt=3===At?"string":5===At?"number":"default",Ke=N(dt,b);if(void 0!==Ke){var pt=Ke.call(dt,Qt);if(xt(pt))throw new TypeError;return pt}return function ln(dt,At){if("string"===At){var Qt=dt.toString;if(ye(Qt)&&!xt(Ke=Qt.call(dt)))return Ke;if(ye(pt=dt.valueOf)&&!xt(Ke=pt.call(dt)))return Ke}else{var pt;if(ye(pt=dt.valueOf)&&!xt(Ke=pt.call(dt)))return Ke;var Ke,Tt=dt.toString;if(ye(Tt)&&!xt(Ke=Tt.call(dt)))return Ke}throw new TypeError}(dt,"default"===Qt?"number":Qt)}function Bt(dt){return!!dt}function Ze(dt){var At=Ht(dt,3);return function ke(dt){return"symbol"==typeof dt}(At)?At:function Ye(dt){return""+dt}(At)}function Ot(dt){return Array.isArray?Array.isArray(dt):dt instanceof Object?dt instanceof Array:"[object Array]"===Object.prototype.toString.call(dt)}function ye(dt){return"function"==typeof dt}function P(dt){return"function"==typeof dt}function R(dt,At){return dt===At||dt!=dt&&At!=At}function N(dt,At){var Qt=dt[At];if(null!=Qt){if(!ye(Qt))throw new TypeError;return Qt}}function Y(dt){var At=N(dt,E);if(!ye(At))throw new TypeError;var Qt=At.call(dt);if(!xt(Qt))throw new TypeError;return Qt}function h(dt){return dt.value}function M(dt){var At=dt.next();return!At.done&&At}function Z(dt){var At=dt.return;At&&At.call(dt)}function z(dt){var At=Object.getPrototypeOf(dt);if("function"!=typeof dt||dt===U||At!==U)return At;var Qt=dt.prototype,Ke=Qt&&Object.getPrototypeOf(Qt);if(null==Ke||Ke===Object.prototype)return At;var pt=Ke.constructor;return"function"!=typeof pt||pt===dt?At:pt}function rt(dt,At,Qt){var Ke=W.getProvider(dt,At);if(!ge(Ke))return Ke;if(Qt){if(W.setProvider(dt,At,K))return K;throw new Error("Illegal state.")}}function Ct(dt){return dt.__=void 0,delete dt.__,dt}w("decorate",function L(dt,At,Qt,Ke){if(ge(Qt)){if(!Ot(dt))throw new TypeError;if(!P(At))throw new TypeError;return function be(dt,At){for(var Qt=dt.length-1;Qt>=0;--Qt){var pt=(0,dt[Qt])(At);if(!ge(pt)&&!Pe(pt)){if(!P(pt))throw new TypeError;At=pt}}return At}(dt,At)}if(!Ot(dt))throw new TypeError;if(!xt(At))throw new TypeError;if(!xt(Ke)&&!ge(Ke)&&!Pe(Ke))throw new TypeError;return Pe(Ke)&&(Ke=void 0),function Se(dt,At,Qt,Ke){for(var pt=dt.length-1;pt>=0;--pt){var $e=(0,dt[pt])(At,Qt,Ke);if(!ge($e)&&!Pe($e)){if(!xt($e))throw new TypeError;Ke=$e}}return Ke}(dt,At,Qt=Ze(Qt),Ke)}),w("metadata",function ie(dt,At){return function Qt(Ke,pt){if(!xt(Ke))throw new TypeError;if(!ge(pt)&&!function B(dt){switch(V(dt)){case 3:case 4:return!0;default:return!1}}(pt))throw new TypeError;Ft(dt,At,Ke,pt)}}),w("defineMetadata",function ae(dt,At,Qt,Ke){if(!xt(Qt))throw new TypeError;return ge(Ke)||(Ke=Ze(Ke)),Ft(dt,At,Qt,Ke)}),w("hasMetadata",function le(dt,At,Qt){if(!xt(At))throw new TypeError;return ge(Qt)||(Qt=Ze(Qt)),Qe(dt,At,Qt)}),w("hasOwnMetadata",function fe(dt,At,Qt){if(!xt(At))throw new TypeError;return ge(Qt)||(Qt=Ze(Qt)),nt(dt,At,Qt)}),w("getMetadata",function q(dt,At,Qt){if(!xt(At))throw new TypeError;return ge(Qt)||(Qt=Ze(Qt)),De(dt,At,Qt)}),w("getOwnMetadata",function $(dt,At,Qt){if(!xt(At))throw new TypeError;return ge(Qt)||(Qt=Ze(Qt)),ut(dt,At,Qt)}),w("getMetadataKeys",function j(dt,At){if(!xt(dt))throw new TypeError;return ge(At)||(At=Ze(At)),ve(dt,At)}),w("getOwnMetadataKeys",function Q(dt,At){if(!xt(dt))throw new TypeError;return ge(At)||(At=Ze(At)),I(dt,At)}),w("deleteMetadata",function ee(dt,At,Qt){if(!xt(At))throw new TypeError;if(ge(Qt)||(Qt=Ze(Qt)),!xt(At))throw new TypeError;ge(Qt)||(Qt=Ze(Qt));var Ke=rt(At,Qt,!1);return!ge(Ke)&&Ke.OrdinaryDeleteMetadata(dt,At,Qt)})}(x,r),typeof r.Reflect>"u"&&(r.Reflect=ot)}()},6430:(en,ot,w)=>{var r=w(8696);function x(f){var b,E;function C(F,S){try{var U=f[F](S),O=U.value,y=O instanceof r;Promise.resolve(y?O.v:O).then(function(_){if(y){var D="return"===F?"return":"next";if(!O.k||_.done)return C(D,_);_=f[D](_).value}u(U.done?"return":"normal",_)},function(_){C("throw",_)})}catch(_){u("throw",_)}}function u(F,S){switch(F){case"return":b.resolve({value:S,done:!0});break;case"throw":b.reject(S);break;default:b.resolve({value:S,done:!1})}(b=b.next)?C(b.key,b.arg):E=null}this._invoke=function(F,S){return new Promise(function(U,O){var y={key:F,arg:S,resolve:U,reject:O,next:null};E?E=E.next=y:(b=E=y,C(F,S))})},"function"!=typeof f.return&&(this.return=void 0)}x.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},x.prototype.next=function(f){return this._invoke("next",f)},x.prototype.throw=function(f){return this._invoke("throw",f)},x.prototype.return=function(f){return this._invoke("return",f)},en.exports=x,en.exports.__esModule=!0,en.exports.default=en.exports},8696:en=>{en.exports=function ot(w,r){this.v=w,this.k=r},en.exports.__esModule=!0,en.exports.default=en.exports},9640:en=>{en.exports=function ot(w,r,x){if("function"==typeof w?w===r:w.has(r))return arguments.length<3?r:x;throw new TypeError("Private element is not present on this object")},en.exports.__esModule=!0,en.exports.default=en.exports},8429:(en,ot,w)=>{var r=w(8696);en.exports=function x(f){var b={},E=!1;function C(u,F){return E=!0,F=new Promise(function(S){S(f[u](F))}),{done:!1,value:new r(F,1)}}return b[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},b.next=function(u){return E?(E=!1,u):C("next",u)},"function"==typeof f.throw&&(b.throw=function(u){if(E)throw E=!1,u;return C("throw",u)}),"function"==typeof f.return&&(b.return=function(u){return E?(E=!1,u):C("return",u)}),b},en.exports.__esModule=!0,en.exports.default=en.exports},7909:en=>{function w(r){function x(f){if(Object(f)!==f)return Promise.reject(new TypeError(f+" is not an object."));var b=f.done;return Promise.resolve(f.value).then(function(E){return{value:E,done:b}})}return(w=function(b){this.s=b,this.n=b.next}).prototype={s:null,n:null,next:function(){return x(this.n.apply(this.s,arguments))},return:function(b){var E=this.s.return;return void 0===E?Promise.resolve({value:b,done:!0}):x(E.apply(this.s,arguments))},throw:function(b){var E=this.s.return;return void 0===E?Promise.reject(b):x(E.apply(this.s,arguments))}},new w(r)}en.exports=function ot(r){var x,f,b,E=2;for(typeof Symbol<"u"&&(f=Symbol.asyncIterator,b=Symbol.iterator);E--;){if(f&&null!=(x=r[f]))return x.call(r);if(b&&null!=(x=r[b]))return new w(x.call(r));f="@@asyncIterator",b="@@iterator"}throw new TypeError("Object is not async iterable")},en.exports.__esModule=!0,en.exports.default=en.exports},1049:en=>{function ot(r,x,f,b,E,C,u){try{var F=r[C](u),S=F.value}catch(U){return void f(U)}F.done?x(S):Promise.resolve(S).then(b,E)}en.exports=function w(r){return function(){var x=this,f=arguments;return new Promise(function(b,E){var C=r.apply(x,f);function u(S){ot(C,b,E,u,F,"next",S)}function F(S){ot(C,b,E,u,F,"throw",S)}u(void 0)})}},en.exports.__esModule=!0,en.exports.default=en.exports},7604:(en,ot,w)=>{var r=w(8696);en.exports=function x(f){return new r(f,0)},en.exports.__esModule=!0,en.exports.default=en.exports},3329:en=>{en.exports=function ot(w,r){if(r.has(w))throw new TypeError("Cannot initialize the same private elements twice on an object")},en.exports.__esModule=!0,en.exports.default=en.exports},5488:(en,ot,w)=>{var r=w(9640);en.exports=function x(f,b){return f.get(r(f,b))},en.exports.__esModule=!0,en.exports.default=en.exports},5199:(en,ot,w)=>{var r=w(3329);en.exports=function x(f,b,E){r(f,b),b.set(f,E)},en.exports.__esModule=!0,en.exports.default=en.exports},9420:(en,ot,w)=>{var r=w(9640);en.exports=function x(f,b,E){return f.set(r(f,b),E),E},en.exports.__esModule=!0,en.exports.default=en.exports},8788:(en,ot,w)=>{var r=w(3329);en.exports=function x(f,b){r(f,b),b.add(f)},en.exports.__esModule=!0,en.exports.default=en.exports},5985:(en,ot,w)=>{var r=w(4676);en.exports=function x(f,b,E){return(b=r(b))in f?Object.defineProperty(f,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):f[b]=E,f},en.exports.__esModule=!0,en.exports.default=en.exports},8705:(en,ot,w)=>{var r=w(2990).default;en.exports=function x(f,b){if("object"!=r(f)||!f)return f;var E=f[Symbol.toPrimitive];if(void 0!==E){var C=E.call(f,b||"default");if("object"!=r(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(f)},en.exports.__esModule=!0,en.exports.default=en.exports},4676:(en,ot,w)=>{var r=w(2990).default,x=w(8705);en.exports=function f(b){var E=x(b,"string");return"symbol"==r(E)?E:String(E)},en.exports.__esModule=!0,en.exports.default=en.exports},2990:en=>{function ot(w){return en.exports=ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},en.exports.__esModule=!0,en.exports.default=en.exports,ot(w)}en.exports=ot,en.exports.__esModule=!0,en.exports.default=en.exports},8322:(en,ot,w)=>{var r=w(6430);en.exports=function x(f){return function(){return new r(f.apply(this,arguments))}},en.exports.__esModule=!0,en.exports.default=en.exports},9969:(en,ot,w)=>{"use strict";w.d(ot,{FX:()=>ee,If:()=>r,K2:()=>C,MA:()=>y,Os:()=>E,P:()=>D,hZ:()=>f,i0:()=>b,iF:()=>u,kY:()=>U,kp:()=>x,lY:()=>O,sM:()=>_,sf:()=>j,ui:()=>Q,wk:()=>F});var r=function(be){return be[be.State=0]="State",be[be.Transition=1]="Transition",be[be.Sequence=2]="Sequence",be[be.Group=3]="Group",be[be.Animate=4]="Animate",be[be.Keyframes=5]="Keyframes",be[be.Style=6]="Style",be[be.Trigger=7]="Trigger",be[be.Reference=8]="Reference",be[be.AnimateChild=9]="AnimateChild",be[be.AnimateRef=10]="AnimateRef",be[be.Query=11]="Query",be[be.Stagger=12]="Stagger",be}(r||{});const x="*";function f(be,Se){return{type:r.Trigger,name:be,definitions:Se,options:{}}}function b(be,Se=null){return{type:r.Animate,styles:Se,timings:be}}function E(be,Se=null){return{type:r.Group,steps:be,options:Se}}function C(be,Se=null){return{type:r.Sequence,steps:be,options:Se}}function u(be){return{type:r.Style,styles:be,offset:null}}function F(be,Se,Qe){return{type:r.State,name:be,styles:Se,options:Qe}}function U(be,Se,Qe=null){return{type:r.Transition,expr:be,animation:Se,options:Qe}}function O(be,Se=null){return{type:r.Reference,animation:be,options:Se}}function y(be=null){return{type:r.AnimateChild,options:be}}function _(be,Se=null){return{type:r.AnimateRef,animation:be,options:Se}}function D(be,Se,Qe=null){return{type:r.Query,selector:be,animation:Se,options:Qe}}class j{constructor(Se=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const Qe="start"==Se?this._onStartFns:this._onDoneFns;Qe.forEach(nt=>nt()),Qe.length=0}}class Q{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let Qe=0,nt=0,De=0;const ut=this.players.length;0==ut?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ft=>{Ft.onDone(()=>{++Qe==ut&&this._onFinish()}),Ft.onDestroy(()=>{++nt==ut&&this._onDestroy()}),Ft.onStart(()=>{++De==ut&&this._onStart()})}),this.totalTime=this.players.reduce((Ft,ve)=>Math.max(Ft,ve.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const Qe=Se*this.totalTime;this.players.forEach(nt=>{const De=nt.totalTime?Math.min(1,Qe/nt.totalTime):1;nt.setPosition(De)})}getPosition(){const Se=this.players.reduce((Qe,nt)=>null===Qe||nt.totalTime>Qe.totalTime?nt:Qe,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const Qe="start"==Se?this._onStartFns:this._onDoneFns;Qe.forEach(nt=>nt()),Qe.length=0}}const ee="!"},8617:(en,ot,w)=>{"use strict";w.d(ot,{Ai:()=>At,Bu:()=>Ft,FN:()=>$e,GX:()=>B,Pd:()=>sn,Q_:()=>gr,Z7:()=>I,_G:()=>z,kB:()=>R,vr:()=>Se,w6:()=>H});var r=w(177),x=w(4438),f=w(6860),b=w(5052),E=w(1027),C=w(9160),u=w(5877),F=w(7336),S=w(9705),U=w(7996),O=w(4264),y=w(6110),_=w(7365),D=w(7145),W=w(1082),K=w(7925),L=w(2318),ie=w(4085),ae=w(9327);function $(St,Fe){return St.getAttribute(Fe)?.match(/\S+/g)??[]}const Q="cdk-describedby-message",ee="cdk-describedby-host";let be=0,Se=(()=>{var St;class Fe{constructor(Ce,me){this._platform=me,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+be++,this._document=Ce,this._id=(0,x.WQX)(x.sZ2)+"-"+be++}describe(Ce,me,it){if(!this._canBeDescribed(Ce,me))return;const Me=Qe(me,it);"string"!=typeof me?(nt(me,this._id),this._messageRegistry.set(Me,{messageElement:me,referenceCount:0})):this._messageRegistry.has(Me)||this._createMessageElement(me,it),this._isElementDescribedByMessage(Ce,Me)||this._addMessageReference(Ce,Me)}removeDescription(Ce,me,it){if(!me||!this._isElementNode(Ce))return;const Me=Qe(me,it);if(this._isElementDescribedByMessage(Ce,Me)&&this._removeMessageReference(Ce,Me),"string"==typeof me){const We=this._messageRegistry.get(Me);We&&0===We.referenceCount&&this._deleteMessageElement(Me)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Ce=this._document.querySelectorAll(`[${ee}="${this._id}"]`);for(let me=0;me<Ce.length;me++)this._removeCdkDescribedByReferenceIds(Ce[me]),Ce[me].removeAttribute(ee);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Ce,me){const it=this._document.createElement("div");nt(it,this._id),it.textContent=Ce,me&&it.setAttribute("role",me),this._createMessagesContainer(),this._messagesContainer.appendChild(it),this._messageRegistry.set(Qe(Ce,me),{messageElement:it,referenceCount:0})}_deleteMessageElement(Ce){this._messageRegistry.get(Ce)?.messageElement?.remove(),this._messageRegistry.delete(Ce)}_createMessagesContainer(){if(this._messagesContainer)return;const Ce="cdk-describedby-message-container",me=this._document.querySelectorAll(`.${Ce}[platform="server"]`);for(let Me=0;Me<me.length;Me++)me[Me].remove();const it=this._document.createElement("div");it.style.visibility="hidden",it.classList.add(Ce),it.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&it.setAttribute("platform","server"),this._document.body.appendChild(it),this._messagesContainer=it}_removeCdkDescribedByReferenceIds(Ce){const me=$(Ce,"aria-describedby").filter(it=>0!=it.indexOf(Q));Ce.setAttribute("aria-describedby",me.join(" "))}_addMessageReference(Ce,me){const it=this._messageRegistry.get(me);(function fe(St,Fe,Ue){const Ce=$(St,Fe);Ue=Ue.trim(),!Ce.some(me=>me.trim()===Ue)&&(Ce.push(Ue),St.setAttribute(Fe,Ce.join(" ")))})(Ce,"aria-describedby",it.messageElement.id),Ce.setAttribute(ee,this._id),it.referenceCount++}_removeMessageReference(Ce,me){const it=this._messageRegistry.get(me);it.referenceCount--,function q(St,Fe,Ue){const Ce=$(St,Fe);Ue=Ue.trim();const me=Ce.filter(it=>it!==Ue);me.length?St.setAttribute(Fe,me.join(" ")):St.removeAttribute(Fe)}(Ce,"aria-describedby",it.messageElement.id),Ce.removeAttribute(ee)}_isElementDescribedByMessage(Ce,me){const it=$(Ce,"aria-describedby"),Me=this._messageRegistry.get(me),We=Me&&Me.messageElement.id;return!!We&&-1!=it.indexOf(We)}_canBeDescribed(Ce,me){if(!this._isElementNode(Ce))return!1;if(me&&"object"==typeof me)return!0;const it=null==me?"":`${me}`.trim(),Me=Ce.getAttribute("aria-label");return!(!it||Me&&Me.trim()===it)}_isElementNode(Ce){return Ce.nodeType===this._document.ELEMENT_NODE}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(r.qQ),x.KVO(f.OD))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})();function Qe(St,Fe){return"string"==typeof St?`${Fe||""}/${St}`:St}function nt(St,Fe){St.id||(St.id=`${Q}-${Fe}-${be++}`)}class De{constructor(Fe,Ue){this._items=Fe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new b.B,this._typeaheadSubscription=E.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ce=>Ce.disabled,this._pressedLetters=[],this.tabOut=new b.B,this.change=new b.B,Fe instanceof x.rOR?this._itemChangesSubscription=Fe.changes.subscribe(Ce=>this._itemsChanged(Ce.toArray())):(0,x.Hps)(Fe)&&(this._effectRef=(0,x.QZP)(()=>this._itemsChanged(Fe()),{injector:Ue}))}skipPredicate(Fe){return this._skipPredicateFn=Fe,this}withWrap(Fe=!0){return this._wrap=Fe,this}withVerticalOrientation(Fe=!0){return this._vertical=Fe,this}withHorizontalOrientation(Fe){return this._horizontal=Fe,this}withAllowedModifierKeys(Fe){return this._allowedModifierKeys=Fe,this}withTypeAhead(Fe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,S.M)(Ue=>this._pressedLetters.push(Ue)),(0,U.B)(Fe),(0,O.p)(()=>this._pressedLetters.length>0),(0,y.T)(()=>this._pressedLetters.join(""))).subscribe(Ue=>{const Ce=this._getItemsArray();for(let me=1;me<Ce.length+1;me++){const it=(this._activeItemIndex+me)%Ce.length,Me=Ce[it];if(!this._skipPredicateFn(Me)&&0===Me.getLabel().toUpperCase().trim().indexOf(Ue)){this.setActiveItem(it);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Fe=!0){return this._homeAndEnd=Fe,this}withPageUpDown(Fe=!0,Ue=10){return this._pageUpAndDown={enabled:Fe,delta:Ue},this}setActiveItem(Fe){const Ue=this._activeItem;this.updateActiveItem(Fe),this._activeItem!==Ue&&this.change.next(this._activeItemIndex)}onKeydown(Fe){const Ue=Fe.keyCode,me=["altKey","ctrlKey","metaKey","shiftKey"].every(it=>!Fe[it]||this._allowedModifierKeys.indexOf(it)>-1);switch(Ue){case F.wn:return void this.tabOut.next();case F.n6:if(this._vertical&&me){this.setNextItemActive();break}return;case F.i7:if(this._vertical&&me){this.setPreviousItemActive();break}return;case F.LE:if(this._horizontal&&me){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case F.UQ:if(this._horizontal&&me){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case F.yZ:if(this._homeAndEnd&&me){this.setFirstItemActive();break}return;case F.Kp:if(this._homeAndEnd&&me){this.setLastItemActive();break}return;case F.w_:if(this._pageUpAndDown.enabled&&me){const it=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(it>0?it:0,1);break}return;case F.dB:if(this._pageUpAndDown.enabled&&me){const it=this._activeItemIndex+this._pageUpAndDown.delta,Me=this._getItemsArray().length;this._setActiveItemByIndex(it<Me?it:Me-1,-1);break}return;default:return void((me||(0,F.rp)(Fe,"shiftKey"))&&(Fe.key&&1===Fe.key.length?this._letterKeyStream.next(Fe.key.toLocaleUpperCase()):(Ue>=F.A&&Ue<=F.Z||Ue>=F.f2&&Ue<=F.bn)&&this._letterKeyStream.next(String.fromCharCode(Ue))))}this._pressedLetters=[],Fe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Fe){const Ue=this._getItemsArray(),Ce="number"==typeof Fe?Fe:Ue.indexOf(Fe);this._activeItem=Ue[Ce]??null,this._activeItemIndex=Ce}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Fe){this._wrap?this._setActiveInWrapMode(Fe):this._setActiveInDefaultMode(Fe)}_setActiveInWrapMode(Fe){const Ue=this._getItemsArray();for(let Ce=1;Ce<=Ue.length;Ce++){const me=(this._activeItemIndex+Fe*Ce+Ue.length)%Ue.length;if(!this._skipPredicateFn(Ue[me]))return void this.setActiveItem(me)}}_setActiveInDefaultMode(Fe){this._setActiveItemByIndex(this._activeItemIndex+Fe,Fe)}_setActiveItemByIndex(Fe,Ue){const Ce=this._getItemsArray();if(Ce[Fe]){for(;this._skipPredicateFn(Ce[Fe]);)if(!Ce[Fe+=Ue])return;this.setActiveItem(Fe)}}_getItemsArray(){return(0,x.Hps)(this._items)?this._items():this._items instanceof x.rOR?this._items.toArray():this._items}_itemsChanged(Fe){if(this._activeItem){const Ue=Fe.indexOf(this._activeItem);Ue>-1&&Ue!==this._activeItemIndex&&(this._activeItemIndex=Ue)}}}class Ft extends De{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Fe){return this._origin=Fe,this}setActiveItem(Fe){super.setActiveItem(Fe),this.activeItem&&this.activeItem.focus(this._origin)}}let I=(()=>{var St;class Fe{constructor(Ce){this._platform=Ce}isDisabled(Ce){return Ce.hasAttribute("disabled")}isVisible(Ce){return function ge(St){return!!(St.offsetWidth||St.offsetHeight||"function"==typeof St.getClientRects&&St.getClientRects().length)}(Ce)&&"visible"===getComputedStyle(Ce).visibility}isTabbable(Ce){if(!this._platform.isBrowser)return!1;const me=function V(St){try{return St.frameElement}catch{return null}}(function ye(St){return St.ownerDocument&&St.ownerDocument.defaultView||window}(Ce));if(me&&(-1===Ye(me)||!this.isVisible(me)))return!1;let it=Ce.nodeName.toLowerCase(),Me=Ye(Ce);return Ce.hasAttribute("contenteditable")?-1!==Me:!("iframe"===it||"object"===it||this._platform.WEBKIT&&this._platform.IOS&&!function Ze(St){let Fe=St.nodeName.toLowerCase(),Ue="input"===Fe&&St.type;return"text"===Ue||"password"===Ue||"select"===Fe||"textarea"===Fe}(Ce))&&("audio"===it?!!Ce.hasAttribute("controls")&&-1!==Me:"video"===it?-1!==Me&&(null!==Me||this._platform.FIREFOX||Ce.hasAttribute("controls")):Ce.tabIndex>=0)}isFocusable(Ce,me){return function Ot(St){return!function ke(St){return function Ht(St){return"input"==St.nodeName.toLowerCase()}(St)&&"hidden"==St.type}(St)&&(function Pe(St){let Fe=St.nodeName.toLowerCase();return"input"===Fe||"select"===Fe||"button"===Fe||"textarea"===Fe}(St)||function xt(St){return function ln(St){return"a"==St.nodeName.toLowerCase()}(St)&&St.hasAttribute("href")}(St)||St.hasAttribute("contenteditable")||Bt(St))}(Ce)&&!this.isDisabled(Ce)&&(me?.ignoreVisibility||this.isVisible(Ce))}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(f.OD))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})();function Bt(St){if(!St.hasAttribute("tabindex")||void 0===St.tabIndex)return!1;let Fe=St.getAttribute("tabindex");return!(!Fe||isNaN(parseInt(Fe,10)))}function Ye(St){if(!Bt(St))return null;const Fe=parseInt(St.getAttribute("tabindex")||"",10);return isNaN(Fe)?-1:Fe}class P{get enabled(){return this._enabled}set enabled(Fe){this._enabled=Fe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}constructor(Fe,Ue,Ce,me,it=!1){this._element=Fe,this._checker=Ue,this._ngZone=Ce,this._document=me,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,it||this.attachAnchors()}destroy(){const Fe=this._startAnchor,Ue=this._endAnchor;Fe&&(Fe.removeEventListener("focus",this.startAnchorListener),Fe.remove()),Ue&&(Ue.removeEventListener("focus",this.endAnchorListener),Ue.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Fe){return new Promise(Ue=>{this._executeOnStable(()=>Ue(this.focusInitialElement(Fe)))})}focusFirstTabbableElementWhenReady(Fe){return new Promise(Ue=>{this._executeOnStable(()=>Ue(this.focusFirstTabbableElement(Fe)))})}focusLastTabbableElementWhenReady(Fe){return new Promise(Ue=>{this._executeOnStable(()=>Ue(this.focusLastTabbableElement(Fe)))})}_getRegionBoundary(Fe){const Ue=this._element.querySelectorAll(`[cdk-focus-region-${Fe}], [cdkFocusRegion${Fe}], [cdk-focus-${Fe}]`);return"start"==Fe?Ue.length?Ue[0]:this._getFirstTabbableElement(this._element):Ue.length?Ue[Ue.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Fe){const Ue=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ue){if(!this._checker.isFocusable(Ue)){const Ce=this._getFirstTabbableElement(Ue);return Ce?.focus(Fe),!!Ce}return Ue.focus(Fe),!0}return this.focusFirstTabbableElement(Fe)}focusFirstTabbableElement(Fe){const Ue=this._getRegionBoundary("start");return Ue&&Ue.focus(Fe),!!Ue}focusLastTabbableElement(Fe){const Ue=this._getRegionBoundary("end");return Ue&&Ue.focus(Fe),!!Ue}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const Ue=Fe.children;for(let Ce=0;Ce<Ue.length;Ce++){const me=Ue[Ce].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ue[Ce]):null;if(me)return me}return null}_getLastTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const Ue=Fe.children;for(let Ce=Ue.length-1;Ce>=0;Ce--){const me=Ue[Ce].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ue[Ce]):null;if(me)return me}return null}_createAnchor(){const Fe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Fe),Fe.classList.add("cdk-visually-hidden"),Fe.classList.add("cdk-focus-trap-anchor"),Fe.setAttribute("aria-hidden","true"),Fe}_toggleAnchorTabIndex(Fe,Ue){Fe?Ue.setAttribute("tabindex","0"):Ue.removeAttribute("tabindex")}toggleAnchors(Fe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}_executeOnStable(Fe){this._ngZone.isStable?Fe():this._ngZone.onStable.pipe((0,_.s)(1)).subscribe(Fe)}}let B=(()=>{var St;class Fe{constructor(Ce,me,it){this._checker=Ce,this._ngZone=me,this._document=it}create(Ce,me=!1){return new P(Ce,this._checker,this._ngZone,this._document,me)}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(I),x.KVO(x.SKi),x.KVO(r.qQ))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})(),R=(()=>{var St;class Fe{get enabled(){return this.focusTrap?.enabled||!1}set enabled(Ce){this.focusTrap&&(this.focusTrap.enabled=Ce)}constructor(Ce,me,it){this._elementRef=Ce,this._focusTrapFactory=me,this._previouslyFocusedElement=null,(0,x.WQX)(f.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(Ce){const me=Ce.autoCapture;me&&!me.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,f.vc)(),this.focusTrap?.focusInitialElementWhenReady()}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.rXU(x.aKT),x.rXU(B),x.rXU(r.qQ))},St.\u0275dir=x.FsC({type:St,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[x.Mj6.HasDecoratorInputTransform,"cdkTrapFocus","enabled",x.L39],autoCapture:[x.Mj6.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",x.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[x.GFd,x.OA$]}),Fe})();function z(St){return 0===St.buttons||0===St.detail}function H(St){const Fe=St.touches&&St.touches[0]||St.changedTouches&&St.changedTouches[0];return!(!Fe||-1!==Fe.identifier||null!=Fe.radiusX&&1!==Fe.radiusX||null!=Fe.radiusY&&1!==Fe.radiusY)}const X=new x.nKC("cdk-input-modality-detector-options"),oe={ignoreKeys:[F.A$,F.W3,F.eg,F.Ge,F.FX]},rt=(0,f.BQ)({passive:!0,capture:!0});let ft=(()=>{var St;class Fe{get mostRecentModality(){return this._modality.value}constructor(Ce,me,it,Me){this._platform=Ce,this._mostRecentTarget=null,this._modality=new C.t(null),this._lastTouchMs=0,this._onKeydown=We=>{this._options?.ignoreKeys?.some(Gt=>Gt===We.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,f.Fb)(We))},this._onMousedown=We=>{Date.now()-this._lastTouchMs<650||(this._modality.next(z(We)?"keyboard":"mouse"),this._mostRecentTarget=(0,f.Fb)(We))},this._onTouchstart=We=>{H(We)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,f.Fb)(We))},this._options={...oe,...Me},this.modalityDetected=this._modality.pipe((0,D.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,W.F)()),Ce.isBrowser&&me.runOutsideAngular(()=>{it.addEventListener("keydown",this._onKeydown,rt),it.addEventListener("mousedown",this._onMousedown,rt),it.addEventListener("touchstart",this._onTouchstart,rt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rt),document.removeEventListener("mousedown",this._onMousedown,rt),document.removeEventListener("touchstart",this._onTouchstart,rt))}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(f.OD),x.KVO(x.SKi),x.KVO(r.qQ),x.KVO(X,8))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})();const It=new x.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Ge(){return null}}),Ct=new x.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let dt=0,At=(()=>{var St;class Fe{constructor(Ce,me,it,Me){this._ngZone=me,this._defaultOptions=Me,this._document=it,this._liveElement=Ce||this._createLiveElement()}announce(Ce,...me){const it=this._defaultOptions;let Me,We;return 1===me.length&&"number"==typeof me[0]?We=me[0]:[Me,We]=me,this.clear(),clearTimeout(this._previousTimeout),Me||(Me=it&&it.politeness?it.politeness:"polite"),null==We&&it&&(We=it.duration),this._liveElement.setAttribute("aria-live",Me),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Gt=>this._currentResolve=Gt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ce,"number"==typeof We&&(this._previousTimeout=setTimeout(()=>this.clear(),We)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ce="cdk-live-announcer-element",me=this._document.getElementsByClassName(Ce),it=this._document.createElement("div");for(let Me=0;Me<me.length;Me++)me[Me].remove();return it.classList.add(Ce),it.classList.add("cdk-visually-hidden"),it.setAttribute("aria-atomic","true"),it.setAttribute("aria-live","polite"),it.id="cdk-live-announcer-"+dt++,this._document.body.appendChild(it),it}_exposeAnnouncerToModals(Ce){const me=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let it=0;it<me.length;it++){const Me=me[it],We=Me.getAttribute("aria-owns");We?-1===We.indexOf(Ce)&&Me.setAttribute("aria-owns",We+" "+Ce):Me.setAttribute("aria-owns",Ce)}}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(It,8),x.KVO(x.SKi),x.KVO(r.qQ),x.KVO(Ct,8))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})();var Ke=function(St){return St[St.IMMEDIATE=0]="IMMEDIATE",St[St.EVENTUAL=1]="EVENTUAL",St}(Ke||{});const pt=new x.nKC("cdk-focus-monitor-default-options"),Tt=(0,f.BQ)({passive:!0,capture:!0});let $e=(()=>{var St;class Fe{constructor(Ce,me,it,Me,We){this._ngZone=Ce,this._platform=me,this._inputModalityDetector=it,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b.B,this._rootNodeFocusAndBlurListener=Gt=>{for(let On=(0,f.Fb)(Gt);On;On=On.parentElement)"focus"===Gt.type?this._onFocus(Gt,On):this._onBlur(Gt,On)},this._document=Me,this._detectionMode=We?.detectionMode||Ke.IMMEDIATE}monitor(Ce,me=!1){const it=(0,ie.i8)(Ce);if(!this._platform.isBrowser||1!==it.nodeType)return(0,u.of)();const Me=(0,f.KT)(it)||this._getDocument(),We=this._elementInfo.get(it);if(We)return me&&(We.checkChildren=!0),We.subject;const Gt={checkChildren:me,subject:new b.B,rootNode:Me};return this._elementInfo.set(it,Gt),this._registerGlobalListeners(Gt),Gt.subject}stopMonitoring(Ce){const me=(0,ie.i8)(Ce),it=this._elementInfo.get(me);it&&(it.subject.complete(),this._setClasses(me),this._elementInfo.delete(me),this._removeGlobalListeners(it))}focusVia(Ce,me,it){const Me=(0,ie.i8)(Ce);Me===this._getDocument().activeElement?this._getClosestElementsInfo(Me).forEach(([Gt,Kt])=>this._originChanged(Gt,me,Kt)):(this._setOrigin(me),"function"==typeof Me.focus&&Me.focus(it))}ngOnDestroy(){this._elementInfo.forEach((Ce,me)=>this.stopMonitoring(me))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ce){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ce)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ce&&this._isLastInteractionFromInputLabel(Ce)?"mouse":"program"}_shouldBeAttributedToTouch(Ce){return this._detectionMode===Ke.EVENTUAL||!!Ce?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ce,me){Ce.classList.toggle("cdk-focused",!!me),Ce.classList.toggle("cdk-touch-focused","touch"===me),Ce.classList.toggle("cdk-keyboard-focused","keyboard"===me),Ce.classList.toggle("cdk-mouse-focused","mouse"===me),Ce.classList.toggle("cdk-program-focused","program"===me)}_setOrigin(Ce,me=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ce,this._originFromTouchInteraction="touch"===Ce&&me,this._detectionMode===Ke.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ce,me){const it=this._elementInfo.get(me),Me=(0,f.Fb)(Ce);!it||!it.checkChildren&&me!==Me||this._originChanged(me,this._getFocusOrigin(Me),it)}_onBlur(Ce,me){const it=this._elementInfo.get(me);!it||it.checkChildren&&Ce.relatedTarget instanceof Node&&me.contains(Ce.relatedTarget)||(this._setClasses(me),this._emitOrigin(it,null))}_emitOrigin(Ce,me){Ce.subject.observers.length&&this._ngZone.run(()=>Ce.subject.next(me))}_registerGlobalListeners(Ce){if(!this._platform.isBrowser)return;const me=Ce.rootNode,it=this._rootNodeFocusListenerCount.get(me)||0;it||this._ngZone.runOutsideAngular(()=>{me.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tt),me.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tt)}),this._rootNodeFocusListenerCount.set(me,it+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,K.Q)(this._stopInputModalityDetector)).subscribe(Me=>{this._setOrigin(Me,!0)}))}_removeGlobalListeners(Ce){const me=Ce.rootNode;if(this._rootNodeFocusListenerCount.has(me)){const it=this._rootNodeFocusListenerCount.get(me);it>1?this._rootNodeFocusListenerCount.set(me,it-1):(me.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tt),me.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tt),this._rootNodeFocusListenerCount.delete(me))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ce,me,it){this._setClasses(Ce,me),this._emitOrigin(it,me),this._lastFocusOrigin=me}_getClosestElementsInfo(Ce){const me=[];return this._elementInfo.forEach((it,Me)=>{(Me===Ce||it.checkChildren&&Me.contains(Ce))&&me.push([Me,it])}),me}_isLastInteractionFromInputLabel(Ce){const{_mostRecentTarget:me,mostRecentModality:it}=this._inputModalityDetector;if("mouse"!==it||!me||me===Ce||"INPUT"!==Ce.nodeName&&"TEXTAREA"!==Ce.nodeName||Ce.disabled)return!1;const Me=Ce.labels;if(Me)for(let We=0;We<Me.length;We++)if(Me[We].contains(me))return!0;return!1}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(x.SKi),x.KVO(f.OD),x.KVO(ft),x.KVO(r.qQ,8),x.KVO(pt,8))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})();var Xt=function(St){return St[St.NONE=0]="NONE",St[St.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",St[St.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",St}(Xt||{});const gn="cdk-high-contrast-black-on-white",Ln="cdk-high-contrast-white-on-black",$n="cdk-high-contrast-active";let gr=(()=>{var St;class Fe{constructor(Ce,me){this._platform=Ce,this._document=me,this._breakpointSubscription=(0,x.WQX)(ae.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Xt.NONE;const Ce=this._document.createElement("div");Ce.style.backgroundColor="rgb(1,2,3)",Ce.style.position="absolute",this._document.body.appendChild(Ce);const me=this._document.defaultView||window,it=me&&me.getComputedStyle?me.getComputedStyle(Ce):null,Me=(it&&it.backgroundColor||"").replace(/ /g,"");switch(Ce.remove(),Me){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Xt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Xt.BLACK_ON_WHITE}return Xt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ce=this._document.body.classList;Ce.remove($n,gn,Ln),this._hasCheckedHighContrastMode=!0;const me=this.getHighContrastMode();me===Xt.BLACK_ON_WHITE?Ce.add($n,gn):me===Xt.WHITE_ON_BLACK&&Ce.add($n,Ln)}}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(f.OD),x.KVO(r.qQ))},St.\u0275prov=x.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})(),sn=(()=>{var St;class Fe{constructor(Ce){Ce._applyBodyHighContrastModeCssClasses()}}return(St=Fe).\u0275fac=function(Ce){return new(Ce||St)(x.KVO(gr))},St.\u0275mod=x.$C({type:St}),St.\u0275inj=x.G2t({imports:[L.w5]}),Fe})()},9529:(en,ot,w)=>{"use strict";w.d(ot,{bU:()=>u});var r=w(4438);let u=(()=>{var F;class S{}return(F=S).\u0275fac=function(O){return new(O||F)},F.\u0275mod=r.$C({type:F}),F.\u0275inj=r.G2t({}),S})()},8203:(en,ot,w)=>{"use strict";w.d(ot,{dS:()=>u,ig:()=>F,jI:()=>S});var r=w(4438),x=w(177);const f=new r.nKC("cdk-dir-doc",{providedIn:"root",factory:function b(){return(0,r.WQX)(x.qQ)}}),E=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function C(U){const O=U?.toLowerCase()||"";return"auto"===O&&typeof navigator<"u"&&navigator?.language?E.test(navigator.language)?"rtl":"ltr":"rtl"===O?"rtl":"ltr"}let u=(()=>{var U;class O{constructor(_){this.value="ltr",this.change=new r.bkB,_&&(this.value=C((_.body?_.body.dir:null)||(_.documentElement?_.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(U=O).\u0275fac=function(_){return new(_||U)(r.KVO(f,8))},U.\u0275prov=r.jDH({token:U,factory:U.\u0275fac,providedIn:"root"}),O})(),F=(()=>{var U;class O{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new r.bkB}get dir(){return this._dir}set dir(_){const D=this._dir;this._dir=C(_),this._rawDir=_,D!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return(U=O).\u0275fac=function(_){return new(_||U)},U.\u0275dir=r.FsC({type:U,selectors:[["","dir",""]],hostVars:1,hostBindings:function(_,D){2&_&&r.BMQ("dir",D._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],standalone:!0,features:[r.Jv_([{provide:u,useExisting:U}])]}),O})(),S=(()=>{var U;class O{}return(U=O).\u0275fac=function(_){return new(_||U)},U.\u0275mod=r.$C({type:U}),U.\u0275inj=r.G2t({}),O})()},4085:(en,ot,w)=>{"use strict";w.d(ot,{FG:()=>E,OE:()=>f,a1:()=>C,he:()=>x,i8:()=>u});var r=w(4438);function x(S){return null!=S&&"false"!=`${S}`}function f(S,U=0){return function b(S){return!isNaN(parseFloat(S))&&!isNaN(Number(S))}(S)?Number(S):U}function E(S){return Array.isArray(S)?S:[S]}function C(S){return null==S?"":"string"==typeof S?S:`${S}px`}function u(S){return S instanceof r.aKT?S.nativeElement:S}},5024:(en,ot,w)=>{"use strict";w.d(ot,{CB:()=>_,DQ:()=>y,Q3:()=>S,hx:()=>F,sL:()=>U,xn:()=>O,y4:()=>u,zP:()=>W});var r=w(7221),x=w(8454),f=w(5877),b=w(5052),E=w(4438);class C{}function u(K){return K&&"function"==typeof K.connect&&!(K instanceof r.G)}class F extends C{constructor(L){super(),this._data=L}connect(){return(0,x.A)(this._data)?this._data:(0,f.of)(this._data)}disconnect(){}}var S=function(K){return K[K.REPLACED=0]="REPLACED",K[K.INSERTED=1]="INSERTED",K[K.MOVED=2]="MOVED",K[K.REMOVED=3]="REMOVED",K}(S||{});const U=new E.nKC("_ViewRepeater");class O{applyChanges(L,ie,ae,le,fe){L.forEachOperation((q,$,j)=>{let Q,ee;if(null==q.previousIndex){const be=ae(q,$,j);Q=ie.createEmbeddedView(be.templateRef,be.context,be.index),ee=S.INSERTED}else null==j?(ie.remove($),ee=S.REMOVED):(Q=ie.get($),ie.move(Q,j),ee=S.MOVED);fe&&fe({context:Q?.context,operation:ee,record:q})})}detach(){}}class y{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(L,ie,ae,le,fe){L.forEachOperation((q,$,j)=>{let Q,ee;null==q.previousIndex?(Q=this._insertView(()=>ae(q,$,j),j,ie,le(q)),ee=Q?S.INSERTED:S.REPLACED):null==j?(this._detachAndCacheView($,ie),ee=S.REMOVED):(Q=this._moveView($,j,ie,le(q)),ee=S.MOVED),fe&&fe({context:Q?.context,operation:ee,record:q})})}detach(){for(const L of this._viewCache)L.destroy();this._viewCache=[]}_insertView(L,ie,ae,le){const fe=this._insertViewFromCache(ie,ae);if(fe)return void(fe.context.$implicit=le);const q=L();return ae.createEmbeddedView(q.templateRef,q.context,q.index)}_detachAndCacheView(L,ie){const ae=ie.detach(L);this._maybeCacheView(ae,ie)}_moveView(L,ie,ae,le){const fe=ae.get(L);return ae.move(fe,ie),fe.context.$implicit=le,fe}_maybeCacheView(L,ie){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(L);else{const ae=ie.indexOf(L);-1===ae?L.destroy():ie.remove(ae)}}_insertViewFromCache(L,ie){const ae=this._viewCache.pop();return ae&&ie.insert(ae,L),ae||null}}class _{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(L=!1,ie,ae=!0,le){this._multiple=L,this._emitChanges=ae,this.compareWith=le,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new b.B,ie&&ie.length&&(L?ie.forEach(fe=>this._markSelected(fe)):this._markSelected(ie[0]),this._selectedToEmit.length=0)}select(...L){this._verifyValueAssignment(L),L.forEach(ae=>this._markSelected(ae));const ie=this._hasQueuedChanges();return this._emitChangeEvent(),ie}deselect(...L){this._verifyValueAssignment(L),L.forEach(ae=>this._unmarkSelected(ae));const ie=this._hasQueuedChanges();return this._emitChangeEvent(),ie}setSelection(...L){this._verifyValueAssignment(L);const ie=this.selected,ae=new Set(L);L.forEach(fe=>this._markSelected(fe)),ie.filter(fe=>!ae.has(this._getConcreteValue(fe,ae))).forEach(fe=>this._unmarkSelected(fe));const le=this._hasQueuedChanges();return this._emitChangeEvent(),le}toggle(L){return this.isSelected(L)?this.deselect(L):this.select(L)}clear(L=!0){this._unmarkAll();const ie=this._hasQueuedChanges();return L&&this._emitChangeEvent(),ie}isSelected(L){return this._selection.has(this._getConcreteValue(L))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(L){this._multiple&&this.selected&&this._selected.sort(L)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(L){L=this._getConcreteValue(L),this.isSelected(L)||(this._multiple||this._unmarkAll(),this.isSelected(L)||this._selection.add(L),this._emitChanges&&this._selectedToEmit.push(L))}_unmarkSelected(L){L=this._getConcreteValue(L),this.isSelected(L)&&(this._selection.delete(L),this._emitChanges&&this._deselectedToEmit.push(L))}_unmarkAll(){this.isEmpty()||this._selection.forEach(L=>this._unmarkSelected(L))}_verifyValueAssignment(L){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(L,ie){if(this.compareWith){ie=ie??this._selection;for(let ae of ie)if(this.compareWith(L,ae))return ae;return L}return L}}let W=(()=>{var K;class L{constructor(){this._listeners=[]}notify(ae,le){for(let fe of this._listeners)fe(ae,le)}listen(ae){return this._listeners.push(ae),()=>{this._listeners=this._listeners.filter(le=>ae!==le)}}ngOnDestroy(){this._listeners=[]}}return(K=L).\u0275fac=function(ae){return new(ae||K)},K.\u0275prov=E.jDH({token:K,factory:K.\u0275fac,providedIn:"root"}),L})()},2529:(en,ot,w)=>{"use strict";w.d(ot,{Pe:()=>D,Ph:()=>ee,ce:()=>L,lG:()=>j,sU:()=>K});var r=w(8617),x=w(7987),f=w(6860),b=w(6939),E=w(177),C=w(4438),u=w(7336),F=w(5052),S=w(5946),U=w(5877),O=w(8203),y=w(5160);function _(be,Se){}class D{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let K=(()=>{var be;class Se extends b.lb{constructor(nt,De,ut,Ft,ve,I,V,ge){super(),this._elementRef=nt,this._focusTrapFactory=De,this._config=Ft,this._interactivityChecker=ve,this._ngZone=I,this._overlayRef=V,this._focusMonitor=ge,this._platform=(0,C.WQX)(f.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,C.WQX)(C.gRc),this.attachDomPortal=Pe=>{this._portalOutlet.hasAttached();const ke=this._portalOutlet.attachDomPortal(Pe);return this._contentAttached(),ke},this._document=ut,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(nt){this._ariaLabelledByQueue.push(nt),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(nt){const De=this._ariaLabelledByQueue.indexOf(nt);De>-1&&(this._ariaLabelledByQueue.splice(De,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(nt){this._portalOutlet.hasAttached();const De=this._portalOutlet.attachComponentPortal(nt);return this._contentAttached(),De}attachTemplatePortal(nt){this._portalOutlet.hasAttached();const De=this._portalOutlet.attachTemplatePortal(nt);return this._contentAttached(),De}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(nt,De){this._interactivityChecker.isFocusable(nt)||(nt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ut=()=>{nt.removeEventListener("blur",ut),nt.removeEventListener("mousedown",ut),nt.removeAttribute("tabindex")};nt.addEventListener("blur",ut),nt.addEventListener("mousedown",ut)})),nt.focus(De)}_focusByCssSelector(nt,De){let ut=this._elementRef.nativeElement.querySelector(nt);ut&&this._forceFocus(ut,De)}_trapFocus(){const nt=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||nt.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(De=>{De||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const nt=this._config.restoreFocus;let De=null;if("string"==typeof nt?De=this._document.querySelector(nt):"boolean"==typeof nt?De=nt?this._elementFocusedBeforeDialogWasOpened:null:nt&&(De=nt),this._config.restoreFocus&&De&&"function"==typeof De.focus){const ut=(0,f.vc)(),Ft=this._elementRef.nativeElement;(!ut||ut===this._document.body||ut===Ft||Ft.contains(ut))&&(this._focusMonitor?(this._focusMonitor.focusVia(De,this._closeInteractionType),this._closeInteractionType=null):De.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const nt=this._elementRef.nativeElement,De=(0,f.vc)();return nt===De||nt.contains(De)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,f.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(be=Se).\u0275fac=function(nt){return new(nt||be)(C.rXU(C.aKT),C.rXU(r.GX),C.rXU(E.qQ,8),C.rXU(D),C.rXU(r.Z7),C.rXU(C.SKi),C.rXU(x.yY),C.rXU(r.FN))},be.\u0275cmp=C.VBU({type:be,selectors:[["cdk-dialog-container"]],viewQuery:function(nt,De){if(1&nt&&C.GBs(b.I3,7),2&nt){let ut;C.mGM(ut=C.lsd())&&(De._portalOutlet=ut.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(nt,De){2&nt&&C.BMQ("id",De._config.id||null)("role",De._config.role)("aria-modal",De._config.ariaModal)("aria-labelledby",De._config.ariaLabel?null:De._ariaLabelledByQueue[0])("aria-label",De._config.ariaLabel)("aria-describedby",De._config.ariaDescribedBy||null)},standalone:!0,features:[C.Vt3,C.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(nt,De){1&nt&&C.DNE(0,_,0,0,"ng-template",0)},dependencies:[b.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Se})();class L{constructor(Se,Qe){this.overlayRef=Se,this.config=Qe,this.closed=new F.B,this.disableClose=Qe.disableClose,this.backdropClick=Se.backdropClick(),this.keydownEvents=Se.keydownEvents(),this.outsidePointerEvents=Se.outsidePointerEvents(),this.id=Qe.id,this.keydownEvents.subscribe(nt=>{nt.keyCode===u._f&&!this.disableClose&&!(0,u.rp)(nt)&&(nt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Se.detachments().subscribe(()=>{!1!==Qe.closeOnOverlayDetachments&&this.close()})}close(Se,Qe){if(this.containerInstance){const nt=this.closed;this.containerInstance._closeInteractionType=Qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),nt.next(Se),nt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Se="",Qe=""){return this.overlayRef.updateSize({width:Se,height:Qe}),this}addPanelClass(Se){return this.overlayRef.addPanelClass(Se),this}removePanelClass(Se){return this.overlayRef.removePanelClass(Se),this}}const ie=new C.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const be=(0,C.WQX)(x.hJ);return()=>be.scrollStrategies.block()}}),ae=new C.nKC("DialogData"),le=new C.nKC("DefaultDialogConfig");let $=0,j=(()=>{var be;class Se{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(nt,De,ut,Ft,ve,I){this._overlay=nt,this._injector=De,this._defaultOptions=ut,this._parentDialog=Ft,this._overlayContainer=ve,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,S.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.Z)(void 0))),this._scrollStrategy=I}open(nt,De){(De={...this._defaultOptions||new D,...De}).id=De.id||"cdk-dialog-"+$++,De.id&&this.getDialogById(De.id);const Ft=this._getOverlayConfig(De),ve=this._overlay.create(Ft),I=new L(ve,De),V=this._attachContainer(ve,I,De);return I.containerInstance=V,this._attachDialogContent(nt,I,V,De),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(I),I.closed.subscribe(()=>this._removeOpenDialog(I,!0)),this.afterOpened.next(I),I}closeAll(){Q(this.openDialogs,nt=>nt.close())}getDialogById(nt){return this.openDialogs.find(De=>De.id===nt)}ngOnDestroy(){Q(this._openDialogsAtThisLevel,nt=>{!1===nt.config.closeOnDestroy&&this._removeOpenDialog(nt,!1)}),Q(this._openDialogsAtThisLevel,nt=>nt.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(nt){const De=new x.rR({positionStrategy:nt.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:nt.scrollStrategy||this._scrollStrategy(),panelClass:nt.panelClass,hasBackdrop:nt.hasBackdrop,direction:nt.direction,minWidth:nt.minWidth,minHeight:nt.minHeight,maxWidth:nt.maxWidth,maxHeight:nt.maxHeight,width:nt.width,height:nt.height,disposeOnNavigation:nt.closeOnNavigation});return nt.backdropClass&&(De.backdropClass=nt.backdropClass),De}_attachContainer(nt,De,ut){const Ft=ut.injector||ut.viewContainerRef?.injector,ve=[{provide:D,useValue:ut},{provide:L,useValue:De},{provide:x.yY,useValue:nt}];let I;ut.container?"function"==typeof ut.container?I=ut.container:(I=ut.container.type,ve.push(...ut.container.providers(ut))):I=K;const V=new b.A8(I,ut.viewContainerRef,C.zZn.create({parent:Ft||this._injector,providers:ve}),ut.componentFactoryResolver);return nt.attach(V).instance}_attachDialogContent(nt,De,ut,Ft){if(nt instanceof C.C4Q){const ve=this._createInjector(Ft,De,ut,void 0);let I={$implicit:Ft.data,dialogRef:De};Ft.templateContext&&(I={...I,..."function"==typeof Ft.templateContext?Ft.templateContext():Ft.templateContext}),ut.attachTemplatePortal(new b.VA(nt,null,I,ve))}else{const ve=this._createInjector(Ft,De,ut,this._injector),I=ut.attachComponentPortal(new b.A8(nt,Ft.viewContainerRef,ve,Ft.componentFactoryResolver));De.componentRef=I,De.componentInstance=I.instance}}_createInjector(nt,De,ut,Ft){const ve=nt.injector||nt.viewContainerRef?.injector,I=[{provide:ae,useValue:nt.data},{provide:L,useValue:De}];return nt.providers&&("function"==typeof nt.providers?I.push(...nt.providers(De,nt,ut)):I.push(...nt.providers)),nt.direction&&(!ve||!ve.get(O.dS,null,{optional:!0}))&&I.push({provide:O.dS,useValue:{value:nt.direction,change:(0,U.of)()}}),C.zZn.create({parent:ve||Ft,providers:I})}_removeOpenDialog(nt,De){const ut=this.openDialogs.indexOf(nt);ut>-1&&(this.openDialogs.splice(ut,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ft,ve)=>{Ft?ve.setAttribute("aria-hidden",Ft):ve.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),De&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const nt=this._overlayContainer.getContainerElement();if(nt.parentElement){const De=nt.parentElement.children;for(let ut=De.length-1;ut>-1;ut--){const Ft=De[ut];Ft!==nt&&"SCRIPT"!==Ft.nodeName&&"STYLE"!==Ft.nodeName&&!Ft.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ft,Ft.getAttribute("aria-hidden")),Ft.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const nt=this._parentDialog;return nt?nt._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(be=Se).\u0275fac=function(nt){return new(nt||be)(C.KVO(x.hJ),C.KVO(C.zZn),C.KVO(le,8),C.KVO(be,12),C.KVO(x.Sf),C.KVO(ie))},be.\u0275prov=C.jDH({token:be,factory:be.\u0275fac,providedIn:"root"}),Se})();function Q(be,Se){let Qe=be.length;for(;Qe--;)Se(be[Qe])}let ee=(()=>{var be;class Se{}return(be=Se).\u0275fac=function(nt){return new(nt||be)},be.\u0275mod=C.$C({type:be}),be.\u0275inj=C.G2t({providers:[j],imports:[x.z_,b.jc,r.Pd,b.jc]}),Se})()},1391:(en,ot,w)=>{"use strict";w.d(ot,{HD:()=>P,T1:()=>$e,ad:()=>Ue});var r=w(4438),x=w(177),f=w(5478),b=w(6860),E=w(4085),C=w(8617),u=w(5052),F=w(1027),S=w(6513),U=w(798),O=w(2573),y=w(6718),_=w(9160),D=w(7925),W=w(6110),K=w(7365),L=w(9705),ie=w(2914),ae=w(5160),le=w(8203);function fe(Ce,me,it){for(let Me in me)if(me.hasOwnProperty(Me)){const We=me[Me];We?Ce.setProperty(Me,We,it?.has(Me)?"important":""):Ce.removeProperty(Me)}return Ce}function q(Ce,me){const it=me?"":"none";fe(Ce.style,{"touch-action":me?"":"none","-webkit-user-drag":me?"":"none","-webkit-tap-highlight-color":me?"":"transparent","user-select":it,"-ms-user-select":it,"-webkit-user-select":it,"-moz-user-select":it})}function $(Ce,me,it){fe(Ce.style,{position:me?"":"fixed",top:me?"":"0",opacity:me?"":"0",left:me?"":"-999em"},it)}function j(Ce,me){return me&&"none"!=me?Ce+" "+me:Ce}function Q(Ce){const me=Ce.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Ce)*me}function be(Ce,me){return Ce.getPropertyValue(me).split(",").map(Me=>Me.trim())}function Se(Ce){const me=Ce.getBoundingClientRect();return{top:me.top,right:me.right,bottom:me.bottom,left:me.left,width:me.width,height:me.height,x:me.x,y:me.y}}function Qe(Ce,me,it){const{top:Me,bottom:We,left:Gt,right:Kt}=Ce;return it>=Me&&it<=We&&me>=Gt&&me<=Kt}function nt(Ce,me,it){Ce.top+=me,Ce.bottom=Ce.top+Ce.height,Ce.left+=it,Ce.right=Ce.left+Ce.width}function De(Ce,me,it,Me){const{top:We,right:Gt,bottom:Kt,left:On,width:vr,height:Cn}=Ce,tr=vr*me,Er=Cn*me;return Me>We-Er&&Me<Kt+Er&&it>On-tr&&it<Gt+tr}class ut{constructor(me){this._document=me,this.positions=new Map}clear(){this.positions.clear()}cache(me){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),me.forEach(it=>{this.positions.set(it,{scrollPosition:{top:it.scrollTop,left:it.scrollLeft},clientRect:Se(it)})})}handleScroll(me){const it=(0,b.Fb)(me),Me=this.positions.get(it);if(!Me)return null;const We=Me.scrollPosition;let Gt,Kt;if(it===this._document){const Cn=this.getViewportScrollPosition();Gt=Cn.top,Kt=Cn.left}else Gt=it.scrollTop,Kt=it.scrollLeft;const On=We.top-Gt,vr=We.left-Kt;return this.positions.forEach((Cn,tr)=>{Cn.clientRect&&it!==tr&&it.contains(tr)&&nt(Cn.clientRect,On,vr)}),We.top=Gt,We.left=Kt,{top:On,left:vr}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Ft(Ce){const me=Ce.cloneNode(!0),it=me.querySelectorAll("[id]"),Me=Ce.nodeName.toLowerCase();me.removeAttribute("id");for(let We=0;We<it.length;We++)it[We].removeAttribute("id");return"canvas"===Me?ge(Ce,me):("input"===Me||"select"===Me||"textarea"===Me)&&V(Ce,me),ve("canvas",Ce,me,ge),ve("input, textarea, select",Ce,me,V),me}function ve(Ce,me,it,Me){const We=me.querySelectorAll(Ce);if(We.length){const Gt=it.querySelectorAll(Ce);for(let Kt=0;Kt<We.length;Kt++)Me(We[Kt],Gt[Kt])}}let I=0;function V(Ce,me){"file"!==me.type&&(me.value=Ce.value),"radio"===me.type&&me.name&&(me.name=`mat-clone-${me.name}-${I++}`)}function ge(Ce,me){const it=me.getContext("2d");if(it)try{it.drawImage(Ce,0,0)}catch{}}const Pe=(0,b.BQ)({passive:!0}),ke=(0,b.BQ)({passive:!1}),Ht=new Set(["position"]);class ln{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(me){me!==this._disabled&&(this._disabled=me,this._toggleNativeDragInteractions(),this._handles.forEach(it=>q(it,me)))}constructor(me,it,Me,We,Gt,Kt){this._config=it,this._document=Me,this._ngZone=We,this._viewportRuler=Gt,this._dragDropRegistry=Kt,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new u.B,this._pointerMoveSubscription=F.yU.EMPTY,this._pointerUpSubscription=F.yU.EMPTY,this._scrollSubscription=F.yU.EMPTY,this._resizeSubscription=F.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new u.B,this.started=new u.B,this.released=new u.B,this.ended=new u.B,this.entered=new u.B,this.exited=new u.B,this.dropped=new u.B,this.moved=this._moveEvents,this._pointerDown=On=>{if(this.beforeStarted.next(),this._handles.length){const vr=this._getTargetHandle(On);vr&&!this._disabledHandles.has(vr)&&!this.disabled&&this._initializeDragSequence(vr,On)}else this.disabled||this._initializeDragSequence(this._rootElement,On)},this._pointerMove=On=>{const vr=this._getPointerPositionOnPage(On);if(!this._hasStartedDragging){if(Math.abs(vr.x-this._pickupPositionOnPage.x)+Math.abs(vr.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const sr=Date.now()>=this._dragStartTime+this._getDragStartDelay(On),_n=this._dropContainer;if(!sr)return void this._endDragSequence(On);(!_n||!_n.isDragging()&&!_n.isReceiving())&&(On.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(On)))}return}On.preventDefault();const Cn=this._getConstrainedPointerPosition(vr);if(this._hasMoved=!0,this._lastKnownPointerPosition=vr,this._updatePointerDirectionDelta(Cn),this._dropContainer)this._updateActiveDropContainer(Cn,vr);else{const tr=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Er=this._activeTransform;Er.x=Cn.x-tr.x+this._passiveTransform.x,Er.y=Cn.y-tr.y+this._passiveTransform.y,this._applyRootElementTransform(Er.x,Er.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Cn,event:On,distance:this._getDragDistance(Cn),delta:this._pointerDirectionDelta})})},this._pointerUp=On=>{this._endDragSequence(On)},this._nativeDragStart=On=>{if(this._handles.length){const vr=this._getTargetHandle(On);vr&&!this._disabledHandles.has(vr)&&!this.disabled&&On.preventDefault()}else this.disabled||On.preventDefault()},this.withRootElement(me).withParent(it.parentDragRef||null),this._parentPositions=new ut(Me),Kt.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(me){this._handles=me.map(Me=>(0,E.i8)(Me)),this._handles.forEach(Me=>q(Me,this.disabled)),this._toggleNativeDragInteractions();const it=new Set;return this._disabledHandles.forEach(Me=>{this._handles.indexOf(Me)>-1&&it.add(Me)}),this._disabledHandles=it,this}withPreviewTemplate(me){return this._previewTemplate=me,this}withPlaceholderTemplate(me){return this._placeholderTemplate=me,this}withRootElement(me){const it=(0,E.i8)(me);return it!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{it.addEventListener("mousedown",this._pointerDown,ke),it.addEventListener("touchstart",this._pointerDown,Pe),it.addEventListener("dragstart",this._nativeDragStart,ke)}),this._initialTransform=void 0,this._rootElement=it),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(me){return this._boundaryElement=me?(0,E.i8)(me):null,this._resizeSubscription.unsubscribe(),me&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(me){return this._parentDragRef=me,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(me){!this._disabledHandles.has(me)&&this._handles.indexOf(me)>-1&&(this._disabledHandles.add(me),q(me,!0))}enableHandle(me){this._disabledHandles.has(me)&&(this._disabledHandles.delete(me),q(me,this.disabled))}withDirection(me){return this._direction=me,this}_withDropContainer(me){this._dropContainer=me}getFreeDragPosition(){const me=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:me.x,y:me.y}}setFreeDragPosition(me){return this._activeTransform={x:0,y:0},this._passiveTransform.x=me.x,this._passiveTransform.y=me.y,this._dropContainer||this._applyRootElementTransform(me.x,me.y),this}withPreviewContainer(me){return this._previewContainer=me,this}_sortFromLastPointerPosition(){const me=this._lastKnownPointerPosition;me&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(me),me)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(me){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:me}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(me),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const it=this._getPointerPositionOnPage(me);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(it),dropPoint:it,event:me})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(me){Ze(me)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const it=this._dropContainer;if(it){const Me=this._rootElement,We=Me.parentNode,Gt=this._placeholder=this._createPlaceholderElement(),Kt=this._anchor=this._anchor||this._document.createComment(""),On=this._getShadowRoot();We.insertBefore(Kt,Me),this._initialTransform=Me.style.transform||"",this._preview=this._createPreviewElement(),$(Me,!1,Ht),this._document.body.appendChild(We.replaceChild(Gt,Me)),this._getPreviewInsertionPoint(We,On).appendChild(this._preview),this.started.next({source:this,event:me}),it.start(),this._initialContainer=it,this._initialIndex=it.getItemIndex(this)}else this.started.next({source:this,event:me}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(it?it.getScrollableParents():[])}_initializeDragSequence(me,it){this._parentDragRef&&it.stopPropagation();const Me=this.isDragging(),We=Ze(it),Gt=!We&&0!==it.button,Kt=this._rootElement,On=(0,b.Fb)(it),vr=!We&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Cn=We?(0,C.w6)(it):(0,C._G)(it);if(On&&On.draggable&&"mousedown"===it.type&&it.preventDefault(),Me||Gt||vr||Cn)return;if(this._handles.length){const _r=Kt.style;this._rootElementTapHighlight=_r.webkitTapHighlightColor||"",_r.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_r=>this._updateOnScroll(_r)),this._boundaryElement&&(this._boundaryRect=Se(this._boundaryElement));const tr=this._previewTemplate;this._pickupPositionInElement=tr&&tr.template&&!tr.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,me,it);const Er=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(it);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Er.x,y:Er.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,it)}_cleanupDragArtifacts(me){$(this._rootElement,!0,Ht),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const it=this._dropContainer,Me=it.getItemIndex(this),We=this._getPointerPositionOnPage(me),Gt=this._getDragDistance(We),Kt=it._isOverContainer(We.x,We.y);this.ended.next({source:this,distance:Gt,dropPoint:We,event:me}),this.dropped.next({item:this,currentIndex:Me,previousIndex:this._initialIndex,container:it,previousContainer:this._initialContainer,isPointerOverContainer:Kt,distance:Gt,dropPoint:We,event:me}),it.drop(this,Me,this._initialIndex,this._initialContainer,Kt,Gt,We,me),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:me,y:it},{x:Me,y:We}){let Gt=this._initialContainer._getSiblingContainerFromPosition(this,me,it);!Gt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(me,it)&&(Gt=this._initialContainer),Gt&&Gt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Gt,this._dropContainer.enter(this,me,it,Gt===this._initialContainer&&Gt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Gt,currentIndex:Gt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Me,We),this._dropContainer._sortItem(this,me,it,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(me,it):this._applyPreviewTransform(me-this._pickupPositionInElement.x,it-this._pickupPositionInElement.y))}_createPreviewElement(){const me=this._previewTemplate,it=this.previewClass,Me=me?me.template:null;let We;if(Me&&me){const Gt=me.matchSize?this._initialDomRect:null,Kt=me.viewContainer.createEmbeddedView(Me,me.context);Kt.detectChanges(),We=Ot(Kt,this._document),this._previewRef=Kt,me.matchSize?ye(We,Gt):We.style.transform=Bt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else We=Ft(this._rootElement),ye(We,this._initialDomRect),this._initialTransform&&(We.style.transform=this._initialTransform);return fe(We.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ht),q(We,!1),We.classList.add("cdk-drag-preview"),We.setAttribute("dir",this._direction),it&&(Array.isArray(it)?it.forEach(Gt=>We.classList.add(Gt)):We.classList.add(it)),We}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const me=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(me.left,me.top);const it=function ee(Ce){const me=getComputedStyle(Ce),it=be(me,"transition-property"),Me=it.find(On=>"transform"===On||"all"===On);if(!Me)return 0;const We=it.indexOf(Me),Gt=be(me,"transition-duration"),Kt=be(me,"transition-delay");return Q(Gt[We])+Q(Kt[We])}(this._preview);return 0===it?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Me=>{const We=Kt=>{(!Kt||(0,b.Fb)(Kt)===this._preview&&"transform"===Kt.propertyName)&&(this._preview?.removeEventListener("transitionend",We),Me(),clearTimeout(Gt))},Gt=setTimeout(We,1.5*it);this._preview.addEventListener("transitionend",We)}))}_createPlaceholderElement(){const me=this._placeholderTemplate,it=me?me.template:null;let Me;return it?(this._placeholderRef=me.viewContainer.createEmbeddedView(it,me.context),this._placeholderRef.detectChanges(),Me=Ot(this._placeholderRef,this._document)):Me=Ft(this._rootElement),Me.style.pointerEvents="none",Me.classList.add("cdk-drag-placeholder"),Me}_getPointerPositionInElement(me,it,Me){const We=it===this._rootElement?null:it,Gt=We?We.getBoundingClientRect():me,Kt=Ze(Me)?Me.targetTouches[0]:Me,On=this._getViewportScrollPosition();return{x:Gt.left-me.left+(Kt.pageX-Gt.left-On.left),y:Gt.top-me.top+(Kt.pageY-Gt.top-On.top)}}_getPointerPositionOnPage(me){const it=this._getViewportScrollPosition(),Me=Ze(me)?me.touches[0]||me.changedTouches[0]||{pageX:0,pageY:0}:me,We=Me.pageX-it.left,Gt=Me.pageY-it.top;if(this._ownerSVGElement){const Kt=this._ownerSVGElement.getScreenCTM();if(Kt){const On=this._ownerSVGElement.createSVGPoint();return On.x=We,On.y=Gt,On.matrixTransform(Kt.inverse())}}return{x:We,y:Gt}}_getConstrainedPointerPosition(me){const it=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Me,y:We}=this.constrainPosition?this.constrainPosition(me,this,this._initialDomRect,this._pickupPositionInElement):me;if("x"===this.lockAxis||"x"===it?We=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===it)&&(Me=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:Gt,y:Kt}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,On=this._boundaryRect,{width:vr,height:Cn}=this._getPreviewRect(),tr=On.top+Kt,Er=On.bottom-(Cn-Kt);Me=Ye(Me,On.left+Gt,On.right-(vr-Gt)),We=Ye(We,tr,Er)}return{x:Me,y:We}}_updatePointerDirectionDelta(me){const{x:it,y:Me}=me,We=this._pointerDirectionDelta,Gt=this._pointerPositionAtLastDirectionChange,Kt=Math.abs(it-Gt.x),On=Math.abs(Me-Gt.y);return Kt>this._config.pointerDirectionChangeThreshold&&(We.x=it>Gt.x?1:-1,Gt.x=it),On>this._config.pointerDirectionChangeThreshold&&(We.y=Me>Gt.y?1:-1,Gt.y=Me),We}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const me=this._handles.length>0||!this.isDragging();me!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=me,q(this._rootElement,me))}_removeRootElementListeners(me){me.removeEventListener("mousedown",this._pointerDown,ke),me.removeEventListener("touchstart",this._pointerDown,Pe),me.removeEventListener("dragstart",this._nativeDragStart,ke)}_applyRootElementTransform(me,it){const Me=Bt(me,it),We=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=We.transform&&"none"!=We.transform?We.transform:""),We.transform=j(Me,this._initialTransform)}_applyPreviewTransform(me,it){const Me=this._previewTemplate?.template?void 0:this._initialTransform,We=Bt(me,it);this._preview.style.transform=j(We,Me)}_getDragDistance(me){const it=this._pickupPositionOnPage;return it?{x:me.x-it.x,y:me.y-it.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:me,y:it}=this._passiveTransform;if(0===me&&0===it||this.isDragging()||!this._boundaryElement)return;const Me=this._rootElement.getBoundingClientRect(),We=this._boundaryElement.getBoundingClientRect();if(0===We.width&&0===We.height||0===Me.width&&0===Me.height)return;const Gt=We.left-Me.left,Kt=Me.right-We.right,On=We.top-Me.top,vr=Me.bottom-We.bottom;We.width>Me.width?(Gt>0&&(me+=Gt),Kt>0&&(me-=Kt)):me=0,We.height>Me.height?(On>0&&(it+=On),vr>0&&(it-=vr)):it=0,(me!==this._passiveTransform.x||it!==this._passiveTransform.y)&&this.setFreeDragPosition({y:it,x:me})}_getDragStartDelay(me){const it=this.dragStartDelay;return"number"==typeof it?it:Ze(me)?it.touch:it?it.mouse:0}_updateOnScroll(me){const it=this._parentPositions.handleScroll(me);if(it){const Me=(0,b.Fb)(me);this._boundaryRect&&Me!==this._boundaryElement&&Me.contains(this._boundaryElement)&&nt(this._boundaryRect,it.top,it.left),this._pickupPositionOnPage.x+=it.left,this._pickupPositionOnPage.y+=it.top,this._dropContainer||(this._activeTransform.x-=it.left,this._activeTransform.y-=it.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,b.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(me,it){const Me=this._previewContainer||"global";if("parent"===Me)return me;if("global"===Me){const We=this._document;return it||We.fullscreenElement||We.webkitFullscreenElement||We.mozFullScreenElement||We.msFullscreenElement||We.body}return(0,E.i8)(Me)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(me){return this._handles.find(it=>me.target&&(me.target===it||it.contains(me.target)))}}function Bt(Ce,me){return`translate3d(${Math.round(Ce)}px, ${Math.round(me)}px, 0)`}function Ye(Ce,me,it){return Math.max(me,Math.min(it,Ce))}function Ze(Ce){return"t"===Ce.type[0]}function Ot(Ce,me){const it=Ce.rootNodes;if(1===it.length&&it[0].nodeType===me.ELEMENT_NODE)return it[0];const Me=me.createElement("div");return it.forEach(We=>Me.appendChild(We)),Me}function ye(Ce,me){Ce.style.width=`${me.width}px`,Ce.style.height=`${me.height}px`,Ce.style.transform=Bt(me.left,me.top)}function P(Ce,me,it){const Me=N(me,Ce.length-1),We=N(it,Ce.length-1);if(Me===We)return;const Gt=Ce[Me],Kt=We<Me?-1:1;for(let On=Me;On!==We;On+=Kt)Ce[On]=Ce[On+Kt];Ce[We]=Gt}function N(Ce,me){return Math.max(0,Math.min(me,Ce))}class Y{constructor(me,it){this._element=me,this._dragDropRegistry=it,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(me){this.withItems(me)}sort(me,it,Me,We){const Gt=this._itemPositions,Kt=this._getItemIndexFromPointerPosition(me,it,Me,We);if(-1===Kt&&Gt.length>0)return null;const On="horizontal"===this.orientation,vr=Gt.findIndex(Ii=>Ii.drag===me),Cn=Gt[Kt],Er=Cn.clientRect,_r=vr>Kt?1:-1,sr=this._getItemOffsetPx(Gt[vr].clientRect,Er,_r),_n=this._getSiblingOffsetPx(vr,Gt,_r),_i=Gt.slice();return P(Gt,vr,Kt),Gt.forEach((Ii,so)=>{if(_i[so]===Ii)return;const Cr=Ii.drag===me,ii=Cr?sr:_n,Or=Cr?me.getPlaceholderElement():Ii.drag.getRootElement();Ii.offset+=ii,On?(Or.style.transform=j(`translate3d(${Math.round(Ii.offset)}px, 0, 0)`,Ii.initialTransform),nt(Ii.clientRect,0,ii)):(Or.style.transform=j(`translate3d(0, ${Math.round(Ii.offset)}px, 0)`,Ii.initialTransform),nt(Ii.clientRect,ii,0))}),this._previousSwap.overlaps=Qe(Er,it,Me),this._previousSwap.drag=Cn.drag,this._previousSwap.delta=On?We.x:We.y,{previousIndex:vr,currentIndex:Kt}}enter(me,it,Me,We){const Gt=null==We||We<0?this._getItemIndexFromPointerPosition(me,it,Me):We,Kt=this._activeDraggables,On=Kt.indexOf(me),vr=me.getPlaceholderElement();let Cn=Kt[Gt];if(Cn===me&&(Cn=Kt[Gt+1]),!Cn&&(null==Gt||-1===Gt||Gt<Kt.length-1)&&this._shouldEnterAsFirstChild(it,Me)&&(Cn=Kt[0]),On>-1&&Kt.splice(On,1),Cn&&!this._dragDropRegistry.isDragging(Cn)){const tr=Cn.getRootElement();tr.parentElement.insertBefore(vr,tr),Kt.splice(Gt,0,me)}else(0,E.i8)(this._element).appendChild(vr),Kt.push(me);vr.style.transform="",this._cacheItemPositions()}withItems(me){this._activeDraggables=me.slice(),this._cacheItemPositions()}withSortPredicate(me){this._sortPredicate=me}reset(){this._activeDraggables.forEach(me=>{const it=me.getRootElement();if(it){const Me=this._itemPositions.find(We=>We.drag===me)?.initialTransform;it.style.transform=Me||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(me){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Me=>Me.drag===me)}updateOnScroll(me,it){this._itemPositions.forEach(({clientRect:Me})=>{nt(Me,me,it)}),this._itemPositions.forEach(({drag:Me})=>{this._dragDropRegistry.isDragging(Me)&&Me._sortFromLastPointerPosition()})}_cacheItemPositions(){const me="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(it=>{const Me=it.getVisibleElement();return{drag:it,offset:0,initialTransform:Me.style.transform||"",clientRect:Se(Me)}}).sort((it,Me)=>me?it.clientRect.left-Me.clientRect.left:it.clientRect.top-Me.clientRect.top)}_getItemOffsetPx(me,it,Me){const We="horizontal"===this.orientation;let Gt=We?it.left-me.left:it.top-me.top;return-1===Me&&(Gt+=We?it.width-me.width:it.height-me.height),Gt}_getSiblingOffsetPx(me,it,Me){const We="horizontal"===this.orientation,Gt=it[me].clientRect,Kt=it[me+-1*Me];let On=Gt[We?"width":"height"]*Me;if(Kt){const vr=We?"left":"top",Cn=We?"right":"bottom";-1===Me?On-=Kt.clientRect[vr]-Gt[Cn]:On+=Gt[vr]-Kt.clientRect[Cn]}return On}_shouldEnterAsFirstChild(me,it){if(!this._activeDraggables.length)return!1;const Me=this._itemPositions,We="horizontal"===this.orientation;if(Me[0].drag!==this._activeDraggables[0]){const Kt=Me[Me.length-1].clientRect;return We?me>=Kt.right:it>=Kt.bottom}{const Kt=Me[0].clientRect;return We?me<=Kt.left:it<=Kt.top}}_getItemIndexFromPointerPosition(me,it,Me,We){const Gt="horizontal"===this.orientation,Kt=this._itemPositions.findIndex(({drag:On,clientRect:vr})=>On!==me&&((!We||On!==this._previousSwap.drag||!this._previousSwap.overlaps||(Gt?We.x:We.y)!==this._previousSwap.delta)&&(Gt?it>=Math.floor(vr.left)&&it<Math.floor(vr.right):Me>=Math.floor(vr.top)&&Me<Math.floor(vr.bottom))));return-1!==Kt&&this._sortPredicate(Kt,me)?Kt:-1}}var Z=function(Ce){return Ce[Ce.NONE=0]="NONE",Ce[Ce.UP=1]="UP",Ce[Ce.DOWN=2]="DOWN",Ce}(Z||{}),z=function(Ce){return Ce[Ce.NONE=0]="NONE",Ce[Ce.LEFT=1]="LEFT",Ce[Ce.RIGHT=2]="RIGHT",Ce}(z||{});class H{constructor(me,it,Me,We,Gt){this._dragDropRegistry=it,this._ngZone=We,this._viewportRuler=Gt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new u.B,this.entered=new u.B,this.exited=new u.B,this.dropped=new u.B,this.sorted=new u.B,this.receivingStarted=new u.B,this.receivingStopped=new u.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=F.yU.EMPTY,this._verticalScrollDirection=Z.NONE,this._horizontalScrollDirection=z.NONE,this._stopScrollTimers=new u.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,S.Y)(0,U.X).pipe((0,D.Q)(this._stopScrollTimers)).subscribe(()=>{const Kt=this._scrollNode,On=this.autoScrollStep;this._verticalScrollDirection===Z.UP?Kt.scrollBy(0,-On):this._verticalScrollDirection===Z.DOWN&&Kt.scrollBy(0,On),this._horizontalScrollDirection===z.LEFT?Kt.scrollBy(-On,0):this._horizontalScrollDirection===z.RIGHT&&Kt.scrollBy(On,0)})},this.element=(0,E.i8)(me),this._document=Me,this.withScrollableParents([this.element]),it.registerDropContainer(this),this._parentPositions=new ut(Me),this._sortStrategy=new Y(this.element,it),this._sortStrategy.withSortPredicate((Kt,On)=>this.sortPredicate(Kt,On,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(me,it,Me,We){this._draggingStarted(),null==We&&this.sortingDisabled&&(We=this._draggables.indexOf(me)),this._sortStrategy.enter(me,it,Me,We),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:me,container:this,currentIndex:this.getItemIndex(me)})}exit(me){this._reset(),this.exited.next({item:me,container:this})}drop(me,it,Me,We,Gt,Kt,On,vr={}){this._reset(),this.dropped.next({item:me,currentIndex:it,previousIndex:Me,container:this,previousContainer:We,isPointerOverContainer:Gt,distance:Kt,dropPoint:On,event:vr})}withItems(me){const it=this._draggables;return this._draggables=me,me.forEach(Me=>Me._withDropContainer(this)),this.isDragging()&&(it.filter(We=>We.isDragging()).every(We=>-1===me.indexOf(We))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(me){return this._sortStrategy.direction=me,this}connectedTo(me){return this._siblings=me.slice(),this}withOrientation(me){return this._sortStrategy.orientation=me,this}withScrollableParents(me){const it=(0,E.i8)(this.element);return this._scrollableElements=-1===me.indexOf(it)?[it,...me]:me.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(me){return this._isDragging?this._sortStrategy.getItemIndex(me):this._draggables.indexOf(me)}isReceiving(){return this._activeSiblings.size>0}_sortItem(me,it,Me,We){if(this.sortingDisabled||!this._domRect||!De(this._domRect,.05,it,Me))return;const Gt=this._sortStrategy.sort(me,it,Me,We);Gt&&this.sorted.next({previousIndex:Gt.previousIndex,currentIndex:Gt.currentIndex,container:this,item:me})}_startScrollingIfNecessary(me,it){if(this.autoScrollDisabled)return;let Me,We=Z.NONE,Gt=z.NONE;if(this._parentPositions.positions.forEach((Kt,On)=>{On===this._document||!Kt.clientRect||Me||De(Kt.clientRect,.05,me,it)&&([We,Gt]=function He(Ce,me,it,Me,We){const Gt=X(me,We),Kt=oe(me,Me);let On=Z.NONE,vr=z.NONE;if(Gt){const Cn=Ce.scrollTop;Gt===Z.UP?Cn>0&&(On=Z.UP):Ce.scrollHeight-Cn>Ce.clientHeight&&(On=Z.DOWN)}if(Kt){const Cn=Ce.scrollLeft;"rtl"===it?Kt===z.RIGHT?Cn<0&&(vr=z.RIGHT):Ce.scrollWidth+Cn>Ce.clientWidth&&(vr=z.LEFT):Kt===z.LEFT?Cn>0&&(vr=z.LEFT):Ce.scrollWidth-Cn>Ce.clientWidth&&(vr=z.RIGHT)}return[On,vr]}(On,Kt.clientRect,this._sortStrategy.direction,me,it),(We||Gt)&&(Me=On))}),!We&&!Gt){const{width:Kt,height:On}=this._viewportRuler.getViewportSize(),vr={width:Kt,height:On,top:0,right:Kt,bottom:On,left:0};We=X(vr,it),Gt=oe(vr,me),Me=window}Me&&(We!==this._verticalScrollDirection||Gt!==this._horizontalScrollDirection||Me!==this._scrollNode)&&(this._verticalScrollDirection=We,this._horizontalScrollDirection=Gt,this._scrollNode=Me,(We||Gt)&&Me?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const me=(0,E.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=me.msScrollSnapType||me.scrollSnapType||"",me.scrollSnapType=me.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const me=(0,E.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(me).clientRect}_reset(){this._isDragging=!1;const me=(0,E.i8)(this.element).style;me.scrollSnapType=me.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(it=>it._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(me,it){return null!=this._domRect&&Qe(this._domRect,me,it)}_getSiblingContainerFromPosition(me,it,Me){return this._siblings.find(We=>We._canReceive(me,it,Me))}_canReceive(me,it,Me){if(!this._domRect||!Qe(this._domRect,it,Me)||!this.enterPredicate(me,this))return!1;const We=this._getShadowRoot().elementFromPoint(it,Me);if(!We)return!1;const Gt=(0,E.i8)(this.element);return We===Gt||Gt.contains(We)}_startReceiving(me,it){const Me=this._activeSiblings;!Me.has(me)&&it.every(We=>this.enterPredicate(We,this)||this._draggables.indexOf(We)>-1)&&(Me.add(me),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:me,receiver:this,items:it}))}_stopReceiving(me){this._activeSiblings.delete(me),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:me,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(me=>{if(this.isDragging()){const it=this._parentPositions.handleScroll(me);it&&this._sortStrategy.updateOnScroll(it.top,it.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const me=(0,b.KT)((0,E.i8)(this.element));this._cachedShadowRoot=me||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const me=this._sortStrategy.getActiveItemsSnapshot().filter(it=>it.isDragging());this._siblings.forEach(it=>it._startReceiving(this,me))}}function X(Ce,me){const{top:it,bottom:Me,height:We}=Ce,Gt=.05*We;return me>=it-Gt&&me<=it+Gt?Z.UP:me>=Me-Gt&&me<=Me+Gt?Z.DOWN:Z.NONE}function oe(Ce,me){const{left:it,right:Me,width:We}=Ce,Gt=.05*We;return me>=it-Gt&&me<=it+Gt?z.LEFT:me>=Me-Gt&&me<=Me+Gt?z.RIGHT:z.NONE}const rt=(0,b.BQ)({passive:!1,capture:!0});let ft=(()=>{var Ce;class me{constructor(Me,We){this._ngZone=Me,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Gt=>Gt.isDragging(),this.pointerMove=new u.B,this.pointerUp=new u.B,this.scroll=new u.B,this._preventDefaultWhileDragging=Gt=>{this._activeDragInstances.length>0&&Gt.preventDefault()},this._persistentTouchmoveListener=Gt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Gt.preventDefault(),this.pointerMove.next(Gt))},this._document=We}registerDropContainer(Me){this._dropInstances.has(Me)||this._dropInstances.add(Me)}registerDragItem(Me){this._dragInstances.add(Me),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,rt)})}removeDropContainer(Me){this._dropInstances.delete(Me)}removeDragItem(Me){this._dragInstances.delete(Me),this.stopDragging(Me),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,rt)}startDragging(Me,We){if(!(this._activeDragInstances.indexOf(Me)>-1)&&(this._activeDragInstances.push(Me),1===this._activeDragInstances.length)){const Gt=We.type.startsWith("touch");this._globalListeners.set(Gt?"touchend":"mouseup",{handler:Kt=>this.pointerUp.next(Kt),options:!0}).set("scroll",{handler:Kt=>this.scroll.next(Kt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:rt}),Gt||this._globalListeners.set("mousemove",{handler:Kt=>this.pointerMove.next(Kt),options:rt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Kt,On)=>{this._document.addEventListener(On,Kt.handler,Kt.options)})})}}stopDragging(Me){const We=this._activeDragInstances.indexOf(Me);We>-1&&(this._activeDragInstances.splice(We,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(Me){return this._activeDragInstances.indexOf(Me)>-1}scrolled(Me){const We=[this.scroll];return Me&&Me!==this._document&&We.push(new O.c(Gt=>this._ngZone.runOutsideAngular(()=>{const On=vr=>{this._activeDragInstances.length&&Gt.next(vr)};return Me.addEventListener("scroll",On,!0),()=>{Me.removeEventListener("scroll",On,!0)}}))),(0,y.h)(...We)}ngOnDestroy(){this._dragInstances.forEach(Me=>this.removeDragItem(Me)),this._dropInstances.forEach(Me=>this.removeDropContainer(Me)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Me,We)=>{this._document.removeEventListener(We,Me.handler,Me.options)}),this._globalListeners.clear()}}return(Ce=me).\u0275fac=function(Me){return new(Me||Ce)(r.KVO(r.SKi),r.KVO(x.qQ))},Ce.\u0275prov=r.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),me})();const It={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ge=(()=>{var Ce;class me{constructor(Me,We,Gt,Kt){this._document=Me,this._ngZone=We,this._viewportRuler=Gt,this._dragDropRegistry=Kt}createDrag(Me,We=It){return new ln(Me,We,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Me){return new H(Me,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(Ce=me).\u0275fac=function(Me){return new(Me||Ce)(r.KVO(x.qQ),r.KVO(r.SKi),r.KVO(f.Xj),r.KVO(ft))},Ce.\u0275prov=r.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),me})();const Ct=new r.nKC("CDK_DRAG_PARENT"),At=new r.nKC("CdkDragHandle"),Ke=new r.nKC("CDK_DRAG_CONFIG"),Tt=new r.nKC("CdkDropList");let $e=(()=>{var Ce;class me{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Me){this._disabled=Me,this._dragRef.disabled=this._disabled}constructor(Me,We,Gt,Kt,On,vr,Cn,tr,Er,_r,sr){this.element=Me,this.dropContainer=We,this._ngZone=Kt,this._viewContainerRef=On,this._dir=Cn,this._changeDetectorRef=Er,this._selfHandle=_r,this._parentDrag=sr,this._destroyed=new u.B,this._handles=new _.t([]),this.started=new r.bkB,this.released=new r.bkB,this.ended=new r.bkB,this.entered=new r.bkB,this.exited=new r.bkB,this.dropped=new r.bkB,this.moved=new O.c(_n=>{const _i=this._dragRef.moved.pipe((0,W.T)(Ii=>({source:this,pointerPosition:Ii.pointerPosition,event:Ii.event,delta:Ii.delta,distance:Ii.distance}))).subscribe(_n);return()=>{_i.unsubscribe()}}),this._dragRef=tr.createDrag(Me,{dragStartThreshold:vr&&null!=vr.dragStartThreshold?vr.dragStartThreshold:5,pointerDirectionChangeThreshold:vr&&null!=vr.pointerDirectionChangeThreshold?vr.pointerDirectionChangeThreshold:5,zIndex:vr?.zIndex}),this._dragRef.data=this,me._dragInstances.push(this),vr&&this._assignDefaults(vr),We&&(this._dragRef._withDropContainer(We._dropListRef),We.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Me){this._dragRef.setFreeDragPosition(Me)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,K.s)(1),(0,D.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(Me){const We=Me.rootElementSelector,Gt=Me.freeDragPosition;We&&!We.firstChange&&this._updateRootElement(),Gt&&!Gt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Me=me._dragInstances.indexOf(this);Me>-1&&me._dragInstances.splice(Me,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(Me){const We=this._handles.getValue();We.push(Me),this._handles.next(We)}_removeHandle(Me){const We=this._handles.getValue(),Gt=We.indexOf(Me);Gt>-1&&(We.splice(Gt,1),this._handles.next(We))}_setPreviewTemplate(Me){this._previewTemplate=Me}_resetPreviewTemplate(Me){Me===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(Me){this._placeholderTemplate=Me}_resetPlaceholderTemplate(Me){Me===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const Me=this.element.nativeElement;let We=Me;this.rootElementSelector&&(We=void 0!==Me.closest?Me.closest(this.rootElementSelector):Me.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(We||Me)}_getBoundaryElement(){const Me=this.boundaryElement;return Me?"string"==typeof Me?this.element.nativeElement.closest(Me):(0,E.i8)(Me):null}_syncInputs(Me){Me.beforeStarted.subscribe(()=>{if(!Me.isDragging()){const We=this._dir,Gt=this.dragStartDelay,Kt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,On=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Me.disabled=this.disabled,Me.lockAxis=this.lockAxis,Me.dragStartDelay="object"==typeof Gt&&Gt?Gt:(0,E.OE)(Gt),Me.constrainPosition=this.constrainPosition,Me.previewClass=this.previewClass,Me.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Kt).withPreviewTemplate(On).withPreviewContainer(this.previewContainer||"global"),We&&Me.withDirection(We.value)}}),Me.beforeStarted.pipe((0,K.s)(1)).subscribe(()=>{if(this._parentDrag)return void Me.withParent(this._parentDrag._dragRef);let We=this.element.nativeElement.parentElement;for(;We;){if(We.classList.contains("cdk-drag")){Me.withParent(me._dragInstances.find(Gt=>Gt.element.nativeElement===We)?._dragRef||null);break}We=We.parentElement}})}_handleEvents(Me){Me.started.subscribe(We=>{this.started.emit({source:this,event:We.event}),this._changeDetectorRef.markForCheck()}),Me.released.subscribe(We=>{this.released.emit({source:this,event:We.event})}),Me.ended.subscribe(We=>{this.ended.emit({source:this,distance:We.distance,dropPoint:We.dropPoint,event:We.event}),this._changeDetectorRef.markForCheck()}),Me.entered.subscribe(We=>{this.entered.emit({container:We.container.data,item:this,currentIndex:We.currentIndex})}),Me.exited.subscribe(We=>{this.exited.emit({container:We.container.data,item:this})}),Me.dropped.subscribe(We=>{this.dropped.emit({previousIndex:We.previousIndex,currentIndex:We.currentIndex,previousContainer:We.previousContainer.data,container:We.container.data,isPointerOverContainer:We.isPointerOverContainer,item:this,distance:We.distance,dropPoint:We.dropPoint,event:We.event})})}_assignDefaults(Me){const{lockAxis:We,dragStartDelay:Gt,constrainPosition:Kt,previewClass:On,boundaryElement:vr,draggingDisabled:Cn,rootElementSelector:tr,previewContainer:Er}=Me;this.disabled=Cn??!1,this.dragStartDelay=Gt||0,We&&(this.lockAxis=We),Kt&&(this.constrainPosition=Kt),On&&(this.previewClass=On),vr&&(this.boundaryElement=vr),tr&&(this.rootElementSelector=tr),Er&&(this.previewContainer=Er)}_setupHandlesListener(){this._handles.pipe((0,L.M)(Me=>{const We=Me.map(Gt=>Gt.element);this._selfHandle&&this.rootElementSelector&&We.push(this.element),this._dragRef.withHandles(We)}),(0,ie.n)(Me=>(0,y.h)(...Me.map(We=>We._stateChanges.pipe((0,ae.Z)(We))))),(0,D.Q)(this._destroyed)).subscribe(Me=>{const We=this._dragRef,Gt=Me.element.nativeElement;Me.disabled?We.disableHandle(Gt):We.enableHandle(Gt)})}}return(Ce=me)._dragInstances=[],Ce.\u0275fac=function(Me){return new(Me||Ce)(r.rXU(r.aKT),r.rXU(Tt,12),r.rXU(x.qQ),r.rXU(r.SKi),r.rXU(r.c1b),r.rXU(Ke,8),r.rXU(le.dS,8),r.rXU(Ge),r.rXU(r.gRc),r.rXU(At,10),r.rXU(Ct,12))},Ce.\u0275dir=r.FsC({type:Ce,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Me,We){2&Me&&r.AVh("cdk-drag-disabled",We.disabled)("cdk-drag-dragging",We._dragRef.isDragging())},inputs:{data:[r.Mj6.None,"cdkDragData","data"],lockAxis:[r.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[r.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[r.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[r.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[r.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[r.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",r.L39],constrainPosition:[r.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[r.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[r.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[r.Jv_([{provide:Ct,useExisting:Ce}]),r.GFd,r.OA$]}),me})(),Ue=(()=>{var Ce;class me{}return(Ce=me).\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275mod=r.$C({type:Ce}),Ce.\u0275inj=r.G2t({providers:[Ge],imports:[f.Gj]}),me})()},7336:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>ke,A$:()=>F,FX:()=>C,Fm:()=>E,Ge:()=>Ct,Kp:()=>W,LE:()=>ae,UQ:()=>L,W3:()=>u,Z:()=>Ge,_f:()=>O,bn:()=>ve,dB:()=>D,eg:()=>Mi,f2:()=>Q,i7:()=>ie,n6:()=>le,rp:()=>pi,t6:()=>y,w_:()=>_,wn:()=>f,yZ:()=>K});const f=9,E=13,C=16,u=17,F=18,O=27,y=32,_=33,D=34,W=35,K=36,L=37,ie=38,ae=39,le=40,Q=48,ve=57,ke=65,Ge=90,Ct=91,Mi=224;function pi(di,...Zt){return Zt.length?Zt.some(Tn=>di[Tn]):di.altKey||di.shiftKey||di.ctrlKey||di.metaKey}},9327:(en,ot,w)=>{"use strict";w.d(ot,{QP:()=>le,Rp:()=>q});var r=w(4438),x=w(4085),f=w(5052),b=w(2656),E=w(5892),C=w(2573),u=w(7365),F=w(7145),S=w(7996),U=w(6110),O=w(5160),y=w(7925),_=w(6860);const W=new Set;let K,L=(()=>{var $;class j{constructor(ee,be){this._platform=ee,this._nonce=be,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ae}matchMedia(ee){return(this._platform.WEBKIT||this._platform.BLINK)&&function ie($,j){if(!W.has($))try{K||(K=document.createElement("style"),j&&K.setAttribute("nonce",j),K.setAttribute("type","text/css"),document.head.appendChild(K)),K.sheet&&(K.sheet.insertRule(`@media ${$} {body{ }}`,0),W.add($))}catch(Q){console.error(Q)}}(ee,this._nonce),this._matchMedia(ee)}}return($=j).\u0275fac=function(ee){return new(ee||$)(r.KVO(_.OD),r.KVO(r.BIS,8))},$.\u0275prov=r.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),j})();function ae($){return{matches:"all"===$||""===$,media:$,addListener:()=>{},removeListener:()=>{}}}let le=(()=>{var $;class j{constructor(ee,be){this._mediaMatcher=ee,this._zone=be,this._queries=new Map,this._destroySubject=new f.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ee){return fe((0,x.FG)(ee)).some(Se=>this._registerQuery(Se).mql.matches)}observe(ee){const Se=fe((0,x.FG)(ee)).map(nt=>this._registerQuery(nt).observable);let Qe=(0,b.z)(Se);return Qe=(0,E.x)(Qe.pipe((0,u.s)(1)),Qe.pipe((0,F.i)(1),(0,S.B)(0))),Qe.pipe((0,U.T)(nt=>{const De={matches:!1,breakpoints:{}};return nt.forEach(({matches:ut,query:Ft})=>{De.matches=De.matches||ut,De.breakpoints[Ft]=ut}),De}))}_registerQuery(ee){if(this._queries.has(ee))return this._queries.get(ee);const be=this._mediaMatcher.matchMedia(ee),Qe={observable:new C.c(nt=>{const De=ut=>this._zone.run(()=>nt.next(ut));return be.addListener(De),()=>{be.removeListener(De)}}).pipe((0,O.Z)(be),(0,U.T)(({matches:nt})=>({query:ee,matches:nt})),(0,y.Q)(this._destroySubject)),mql:be};return this._queries.set(ee,Qe),Qe}}return($=j).\u0275fac=function(ee){return new(ee||$)(r.KVO(L),r.KVO(r.SKi))},$.\u0275prov=r.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),j})();function fe($){return $.map(j=>j.split(",")).reduce((j,Q)=>j.concat(Q)).map(j=>j.trim())}const q={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(en,ot,w)=>{"use strict";w.d(ot,{w5:()=>E});var r=w(4438);let x=(()=>{var C;class u{create(S){return typeof MutationObserver>"u"?null:new MutationObserver(S)}}return(C=u).\u0275fac=function(S){return new(S||C)},C.\u0275prov=r.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),u})(),E=(()=>{var C;class u{}return(C=u).\u0275fac=function(S){return new(S||C)},C.\u0275mod=r.$C({type:C}),C.\u0275inj=r.G2t({providers:[x]}),u})()},7987:(en,ot,w)=>{"use strict";w.d(ot,{Sf:()=>ut,hJ:()=>ye,rR:()=>$,yY:()=>Ft,z_:()=>M});var r=w(5478),x=w(177),f=w(4438),b=w(4085),E=w(6860),C=w(4264),u=w(7365),F=w(7925),S=w(8203),U=w(6939),O=w(5052),y=w(1027),_=w(6718);const D=(0,E.CZ)();class W{constructor(H,X){this._viewportRuler=H,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=X}attach(){}enable(){if(this._canBeEnabled()){const H=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=H.style.left||"",this._previousHTMLStyles.top=H.style.top||"",H.style.left=(0,b.a1)(-this._previousScrollPosition.left),H.style.top=(0,b.a1)(-this._previousScrollPosition.top),H.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const H=this._document.documentElement,oe=H.style,He=this._document.body.style,rt=oe.scrollBehavior||"",ft=He.scrollBehavior||"";this._isEnabled=!1,oe.left=this._previousHTMLStyles.left,oe.top=this._previousHTMLStyles.top,H.classList.remove("cdk-global-scrollblock"),D&&(oe.scrollBehavior=He.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),D&&(oe.scrollBehavior=rt,He.scrollBehavior=ft)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const X=this._document.body,oe=this._viewportRuler.getViewportSize();return X.scrollHeight>oe.height||X.scrollWidth>oe.width}}class L{constructor(H,X,oe,He){this._scrollDispatcher=H,this._ngZone=X,this._viewportRuler=oe,this._config=He,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(H){this._overlayRef=H}enable(){if(this._scrollSubscription)return;const H=this._scrollDispatcher.scrolled(0).pipe((0,C.p)(X=>!X||!this._overlayRef.overlayElement.contains(X.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=H.subscribe(()=>{const X=this._viewportRuler.getViewportScrollPosition().top;Math.abs(X-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=H.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ie{enable(){}disable(){}attach(){}}function ae(z,H){return H.some(X=>z.bottom<X.top||z.top>X.bottom||z.right<X.left||z.left>X.right)}function le(z,H){return H.some(X=>z.top<X.top||z.bottom>X.bottom||z.left<X.left||z.right>X.right)}class fe{constructor(H,X,oe,He){this._scrollDispatcher=H,this._viewportRuler=X,this._ngZone=oe,this._config=He,this._scrollSubscription=null}attach(H){this._overlayRef=H}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const X=this._overlayRef.overlayElement.getBoundingClientRect(),{width:oe,height:He}=this._viewportRuler.getViewportSize();ae(X,[{width:oe,height:He,bottom:He,right:oe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q=(()=>{var z;class H{constructor(oe,He,rt,ft){this._scrollDispatcher=oe,this._viewportRuler=He,this._ngZone=rt,this.noop=()=>new ie,this.close=It=>new L(this._scrollDispatcher,this._ngZone,this._viewportRuler,It),this.block=()=>new W(this._viewportRuler,this._document),this.reposition=It=>new fe(this._scrollDispatcher,this._viewportRuler,this._ngZone,It),this._document=ft}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(r.R),f.KVO(r.Xj),f.KVO(f.SKi),f.KVO(x.qQ))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})();class ${constructor(H){if(this.scrollStrategy=new ie,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,H){const X=Object.keys(H);for(const oe of X)void 0!==H[oe]&&(this[oe]=H[oe])}}}class ee{constructor(H,X){this.connectionPair=H,this.scrollableViewProperties=X}}let Qe=(()=>{var z;class H{constructor(oe){this._attachedOverlays=[],this._document=oe}ngOnDestroy(){this.detach()}add(oe){this.remove(oe),this._attachedOverlays.push(oe)}remove(oe){const He=this._attachedOverlays.indexOf(oe);He>-1&&this._attachedOverlays.splice(He,1),0===this._attachedOverlays.length&&this.detach()}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(x.qQ))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})(),nt=(()=>{var z;class H extends Qe{constructor(oe,He){super(oe),this._ngZone=He,this._keydownListener=rt=>{const ft=this._attachedOverlays;for(let It=ft.length-1;It>-1;It--)if(ft[It]._keydownEvents.observers.length>0){const Ge=ft[It]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ge.next(rt)):Ge.next(rt);break}}}add(oe){super.add(oe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(x.qQ),f.KVO(f.SKi,8))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})(),De=(()=>{var z;class H extends Qe{constructor(oe,He,rt){super(oe),this._platform=He,this._ngZone=rt,this._cursorStyleIsSet=!1,this._pointerDownListener=ft=>{this._pointerDownEventTarget=(0,E.Fb)(ft)},this._clickListener=ft=>{const It=(0,E.Fb)(ft),Ge="click"===ft.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:It;this._pointerDownEventTarget=null;const Ct=this._attachedOverlays.slice();for(let dt=Ct.length-1;dt>-1;dt--){const At=Ct[dt];if(At._outsidePointerEvents.observers.length<1||!At.hasAttached())continue;if(At.overlayElement.contains(It)||At.overlayElement.contains(Ge))break;const Qt=At._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Qt.next(ft)):Qt.next(ft)}}}add(oe){if(super.add(oe),!this._isAttached){const He=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(He)):this._addEventListeners(He),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=He.style.cursor,He.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const oe=this._document.body;oe.removeEventListener("pointerdown",this._pointerDownListener,!0),oe.removeEventListener("click",this._clickListener,!0),oe.removeEventListener("auxclick",this._clickListener,!0),oe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(oe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(oe){oe.addEventListener("pointerdown",this._pointerDownListener,!0),oe.addEventListener("click",this._clickListener,!0),oe.addEventListener("auxclick",this._clickListener,!0),oe.addEventListener("contextmenu",this._clickListener,!0)}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(x.qQ),f.KVO(E.OD),f.KVO(f.SKi,8))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})(),ut=(()=>{var z;class H{constructor(oe,He){this._platform=He,this._document=oe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe="cdk-overlay-container";if(this._platform.isBrowser||(0,E.v8)()){const rt=this._document.querySelectorAll(`.${oe}[platform="server"], .${oe}[platform="test"]`);for(let ft=0;ft<rt.length;ft++)rt[ft].remove()}const He=this._document.createElement("div");He.classList.add(oe),(0,E.v8)()?He.setAttribute("platform","test"):this._platform.isBrowser||He.setAttribute("platform","server"),this._document.body.appendChild(He),this._containerElement=He}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(x.qQ),f.KVO(E.OD))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})();class Ft{constructor(H,X,oe,He,rt,ft,It,Ge,Ct,dt=!1){this._portalOutlet=H,this._host=X,this._pane=oe,this._config=He,this._ngZone=rt,this._keyboardDispatcher=ft,this._document=It,this._location=Ge,this._outsideClickDispatcher=Ct,this._animationsDisabled=dt,this._backdropElement=null,this._backdropClick=new O.B,this._attachments=new O.B,this._detachments=new O.B,this._locationChanges=y.yU.EMPTY,this._backdropClickHandler=At=>this._backdropClick.next(At),this._backdropTransitionendHandler=At=>{this._disposeBackdrop(At.target)},this._keydownEvents=new O.B,this._outsidePointerEvents=new O.B,He.scrollStrategy&&(this._scrollStrategy=He.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=He.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(H){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const X=this._portalOutlet.attach(H);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,u.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof X?.onDestroy&&X.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),X}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const H=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),H}dispose(){const H=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,H&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(H){H!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=H,this.hasAttached()&&(H.attach(this),this.updatePosition()))}updateSize(H){this._config={...this._config,...H},this._updateElementSize()}setDirection(H){this._config={...this._config,direction:H},this._updateElementDirection()}addPanelClass(H){this._pane&&this._toggleClasses(this._pane,H,!0)}removePanelClass(H){this._pane&&this._toggleClasses(this._pane,H,!1)}getDirection(){const H=this._config.direction;return H?"string"==typeof H?H:H.value:"ltr"}updateScrollStrategy(H){H!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=H,this.hasAttached()&&(H.attach(this),H.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const H=this._pane.style;H.width=(0,b.a1)(this._config.width),H.height=(0,b.a1)(this._config.height),H.minWidth=(0,b.a1)(this._config.minWidth),H.minHeight=(0,b.a1)(this._config.minHeight),H.maxWidth=(0,b.a1)(this._config.maxWidth),H.maxHeight=(0,b.a1)(this._config.maxHeight)}_togglePointerEvents(H){this._pane.style.pointerEvents=H?"":"none"}_attachBackdrop(){const H="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(H)})}):this._backdropElement.classList.add(H)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const H=this._backdropElement;if(H){if(this._animationsDisabled)return void this._disposeBackdrop(H);H.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{H.addEventListener("transitionend",this._backdropTransitionendHandler)}),H.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(H)},500))}}_toggleClasses(H,X,oe){const He=(0,b.FG)(X||[]).filter(rt=>!!rt);He.length&&(oe?H.classList.add(...He):H.classList.remove(...He))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const H=this._ngZone.onStable.pipe((0,F.Q)((0,_.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),H.unsubscribe())})})}_disposeScrollStrategy(){const H=this._scrollStrategy;H&&(H.disable(),H.detach&&H.detach())}_disposeBackdrop(H){H&&(H.removeEventListener("click",this._backdropClickHandler),H.removeEventListener("transitionend",this._backdropTransitionendHandler),H.remove(),this._backdropElement===H&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ve="cdk-overlay-connected-position-bounding-box",I=/([A-Za-z%]+)$/;class V{get positions(){return this._preferredPositions}constructor(H,X,oe,He,rt){this._viewportRuler=X,this._document=oe,this._platform=He,this._overlayContainer=rt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new O.B,this._resizeSubscription=y.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(H)}attach(H){this._validatePositions(),H.hostElement.classList.add(ve),this._overlayRef=H,this._boundingBox=H.hostElement,this._pane=H.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const H=this._originRect,X=this._overlayRect,oe=this._viewportRect,He=this._containerRect,rt=[];let ft;for(let It of this._preferredPositions){let Ge=this._getOriginPoint(H,He,It),Ct=this._getOverlayPoint(Ge,X,It),dt=this._getOverlayFit(Ct,X,oe,It);if(dt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(It,Ge);this._canFitWithFlexibleDimensions(dt,Ct,oe)?rt.push({position:It,origin:Ge,overlayRect:X,boundingBoxRect:this._calculateBoundingBoxRect(Ge,It)}):(!ft||ft.overlayFit.visibleArea<dt.visibleArea)&&(ft={overlayFit:dt,overlayPoint:Ct,originPoint:Ge,position:It,overlayRect:X})}if(rt.length){let It=null,Ge=-1;for(const Ct of rt){const dt=Ct.boundingBoxRect.width*Ct.boundingBoxRect.height*(Ct.position.weight||1);dt>Ge&&(Ge=dt,It=Ct)}return this._isPushed=!1,void this._applyPosition(It.position,It.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ft.position,ft.originPoint);this._applyPosition(ft.position,ft.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ge(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ve),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const H=this._lastPosition;if(H){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const X=this._getOriginPoint(this._originRect,this._containerRect,H);this._applyPosition(H,X)}else this.apply()}withScrollableContainers(H){return this._scrollables=H,this}withPositions(H){return this._preferredPositions=H,-1===H.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(H){return this._viewportMargin=H,this}withFlexibleDimensions(H=!0){return this._hasFlexibleDimensions=H,this}withGrowAfterOpen(H=!0){return this._growAfterOpen=H,this}withPush(H=!0){return this._canPush=H,this}withLockedPosition(H=!0){return this._positionLocked=H,this}setOrigin(H){return this._origin=H,this}withDefaultOffsetX(H){return this._offsetX=H,this}withDefaultOffsetY(H){return this._offsetY=H,this}withTransformOriginOn(H){return this._transformOriginSelector=H,this}_getOriginPoint(H,X,oe){let He,rt;if("center"==oe.originX)He=H.left+H.width/2;else{const ft=this._isRtl()?H.right:H.left,It=this._isRtl()?H.left:H.right;He="start"==oe.originX?ft:It}return X.left<0&&(He-=X.left),rt="center"==oe.originY?H.top+H.height/2:"top"==oe.originY?H.top:H.bottom,X.top<0&&(rt-=X.top),{x:He,y:rt}}_getOverlayPoint(H,X,oe){let He,rt;return He="center"==oe.overlayX?-X.width/2:"start"===oe.overlayX?this._isRtl()?-X.width:0:this._isRtl()?0:-X.width,rt="center"==oe.overlayY?-X.height/2:"top"==oe.overlayY?0:-X.height,{x:H.x+He,y:H.y+rt}}_getOverlayFit(H,X,oe,He){const rt=ke(X);let{x:ft,y:It}=H,Ge=this._getOffset(He,"x"),Ct=this._getOffset(He,"y");Ge&&(ft+=Ge),Ct&&(It+=Ct);let Qt=0-It,Ke=It+rt.height-oe.height,pt=this._subtractOverflows(rt.width,0-ft,ft+rt.width-oe.width),Tt=this._subtractOverflows(rt.height,Qt,Ke),$e=pt*Tt;return{visibleArea:$e,isCompletelyWithinViewport:rt.width*rt.height===$e,fitsInViewportVertically:Tt===rt.height,fitsInViewportHorizontally:pt==rt.width}}_canFitWithFlexibleDimensions(H,X,oe){if(this._hasFlexibleDimensions){const He=oe.bottom-X.y,rt=oe.right-X.x,ft=Pe(this._overlayRef.getConfig().minHeight),It=Pe(this._overlayRef.getConfig().minWidth);return(H.fitsInViewportVertically||null!=ft&&ft<=He)&&(H.fitsInViewportHorizontally||null!=It&&It<=rt)}return!1}_pushOverlayOnScreen(H,X,oe){if(this._previousPushAmount&&this._positionLocked)return{x:H.x+this._previousPushAmount.x,y:H.y+this._previousPushAmount.y};const He=ke(X),rt=this._viewportRect,ft=Math.max(H.x+He.width-rt.width,0),It=Math.max(H.y+He.height-rt.height,0),Ge=Math.max(rt.top-oe.top-H.y,0),Ct=Math.max(rt.left-oe.left-H.x,0);let dt=0,At=0;return dt=He.width<=rt.width?Ct||-ft:H.x<this._viewportMargin?rt.left-oe.left-H.x:0,At=He.height<=rt.height?Ge||-It:H.y<this._viewportMargin?rt.top-oe.top-H.y:0,this._previousPushAmount={x:dt,y:At},{x:H.x+dt,y:H.y+At}}_applyPosition(H,X){if(this._setTransformOrigin(H),this._setOverlayElementStyles(X,H),this._setBoundingBoxStyles(X,H),H.panelClass&&this._addPanelClasses(H.panelClass),this._positionChanges.observers.length){const oe=this._getScrollVisibility();if(H!==this._lastPosition||!this._lastScrollVisibility||!function xt(z,H){return z===H||z.isOriginClipped===H.isOriginClipped&&z.isOriginOutsideView===H.isOriginOutsideView&&z.isOverlayClipped===H.isOverlayClipped&&z.isOverlayOutsideView===H.isOverlayOutsideView}(this._lastScrollVisibility,oe)){const He=new ee(H,oe);this._positionChanges.next(He)}this._lastScrollVisibility=oe}this._lastPosition=H,this._isInitialRender=!1}_setTransformOrigin(H){if(!this._transformOriginSelector)return;const X=this._boundingBox.querySelectorAll(this._transformOriginSelector);let oe,He=H.overlayY;oe="center"===H.overlayX?"center":this._isRtl()?"start"===H.overlayX?"right":"left":"start"===H.overlayX?"left":"right";for(let rt=0;rt<X.length;rt++)X[rt].style.transformOrigin=`${oe} ${He}`}_calculateBoundingBoxRect(H,X){const oe=this._viewportRect,He=this._isRtl();let rt,ft,It,dt,At,Qt;if("top"===X.overlayY)ft=H.y,rt=oe.height-ft+this._viewportMargin;else if("bottom"===X.overlayY)It=oe.height-H.y+2*this._viewportMargin,rt=oe.height-It+this._viewportMargin;else{const Ke=Math.min(oe.bottom-H.y+oe.top,H.y),pt=this._lastBoundingBoxSize.height;rt=2*Ke,ft=H.y-Ke,rt>pt&&!this._isInitialRender&&!this._growAfterOpen&&(ft=H.y-pt/2)}if("end"===X.overlayX&&!He||"start"===X.overlayX&&He)Qt=oe.width-H.x+2*this._viewportMargin,dt=H.x-this._viewportMargin;else if("start"===X.overlayX&&!He||"end"===X.overlayX&&He)At=H.x,dt=oe.right-H.x;else{const Ke=Math.min(oe.right-H.x+oe.left,H.x),pt=this._lastBoundingBoxSize.width;dt=2*Ke,At=H.x-Ke,dt>pt&&!this._isInitialRender&&!this._growAfterOpen&&(At=H.x-pt/2)}return{top:ft,left:At,bottom:It,right:Qt,width:dt,height:rt}}_setBoundingBoxStyles(H,X){const oe=this._calculateBoundingBoxRect(H,X);!this._isInitialRender&&!this._growAfterOpen&&(oe.height=Math.min(oe.height,this._lastBoundingBoxSize.height),oe.width=Math.min(oe.width,this._lastBoundingBoxSize.width));const He={};if(this._hasExactPosition())He.top=He.left="0",He.bottom=He.right=He.maxHeight=He.maxWidth="",He.width=He.height="100%";else{const rt=this._overlayRef.getConfig().maxHeight,ft=this._overlayRef.getConfig().maxWidth;He.height=(0,b.a1)(oe.height),He.top=(0,b.a1)(oe.top),He.bottom=(0,b.a1)(oe.bottom),He.width=(0,b.a1)(oe.width),He.left=(0,b.a1)(oe.left),He.right=(0,b.a1)(oe.right),He.alignItems="center"===X.overlayX?"center":"end"===X.overlayX?"flex-end":"flex-start",He.justifyContent="center"===X.overlayY?"center":"bottom"===X.overlayY?"flex-end":"flex-start",rt&&(He.maxHeight=(0,b.a1)(rt)),ft&&(He.maxWidth=(0,b.a1)(ft))}this._lastBoundingBoxSize=oe,ge(this._boundingBox.style,He)}_resetBoundingBoxStyles(){ge(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ge(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(H,X){const oe={},He=this._hasExactPosition(),rt=this._hasFlexibleDimensions,ft=this._overlayRef.getConfig();if(He){const dt=this._viewportRuler.getViewportScrollPosition();ge(oe,this._getExactOverlayY(X,H,dt)),ge(oe,this._getExactOverlayX(X,H,dt))}else oe.position="static";let It="",Ge=this._getOffset(X,"x"),Ct=this._getOffset(X,"y");Ge&&(It+=`translateX(${Ge}px) `),Ct&&(It+=`translateY(${Ct}px)`),oe.transform=It.trim(),ft.maxHeight&&(He?oe.maxHeight=(0,b.a1)(ft.maxHeight):rt&&(oe.maxHeight="")),ft.maxWidth&&(He?oe.maxWidth=(0,b.a1)(ft.maxWidth):rt&&(oe.maxWidth="")),ge(this._pane.style,oe)}_getExactOverlayY(H,X,oe){let He={top:"",bottom:""},rt=this._getOverlayPoint(X,this._overlayRect,H);return this._isPushed&&(rt=this._pushOverlayOnScreen(rt,this._overlayRect,oe)),"bottom"===H.overlayY?He.bottom=this._document.documentElement.clientHeight-(rt.y+this._overlayRect.height)+"px":He.top=(0,b.a1)(rt.y),He}_getExactOverlayX(H,X,oe){let ft,He={left:"",right:""},rt=this._getOverlayPoint(X,this._overlayRect,H);return this._isPushed&&(rt=this._pushOverlayOnScreen(rt,this._overlayRect,oe)),ft=this._isRtl()?"end"===H.overlayX?"left":"right":"end"===H.overlayX?"right":"left","right"===ft?He.right=this._document.documentElement.clientWidth-(rt.x+this._overlayRect.width)+"px":He.left=(0,b.a1)(rt.x),He}_getScrollVisibility(){const H=this._getOriginRect(),X=this._pane.getBoundingClientRect(),oe=this._scrollables.map(He=>He.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:le(H,oe),isOriginOutsideView:ae(H,oe),isOverlayClipped:le(X,oe),isOverlayOutsideView:ae(X,oe)}}_subtractOverflows(H,...X){return X.reduce((oe,He)=>oe-Math.max(He,0),H)}_getNarrowedViewportRect(){const H=this._document.documentElement.clientWidth,X=this._document.documentElement.clientHeight,oe=this._viewportRuler.getViewportScrollPosition();return{top:oe.top+this._viewportMargin,left:oe.left+this._viewportMargin,right:oe.left+H-this._viewportMargin,bottom:oe.top+X-this._viewportMargin,width:H-2*this._viewportMargin,height:X-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(H,X){return"x"===X?null==H.offsetX?this._offsetX:H.offsetX:null==H.offsetY?this._offsetY:H.offsetY}_validatePositions(){}_addPanelClasses(H){this._pane&&(0,b.FG)(H).forEach(X=>{""!==X&&-1===this._appliedPanelClasses.indexOf(X)&&(this._appliedPanelClasses.push(X),this._pane.classList.add(X))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(H=>{this._pane.classList.remove(H)}),this._appliedPanelClasses=[])}_getOriginRect(){const H=this._origin;if(H instanceof f.aKT)return H.nativeElement.getBoundingClientRect();if(H instanceof Element)return H.getBoundingClientRect();const X=H.width||0,oe=H.height||0;return{top:H.y,bottom:H.y+oe,left:H.x,right:H.x+X,height:oe,width:X}}}function ge(z,H){for(let X in H)H.hasOwnProperty(X)&&(z[X]=H[X]);return z}function Pe(z){if("number"!=typeof z&&null!=z){const[H,X]=z.split(I);return X&&"px"!==X?null:parseFloat(H)}return z||null}function ke(z){return{top:Math.floor(z.top),right:Math.floor(z.right),bottom:Math.floor(z.bottom),left:Math.floor(z.left),width:Math.floor(z.width),height:Math.floor(z.height)}}const Bt="cdk-global-overlay-wrapper";class Ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(H){const X=H.getConfig();this._overlayRef=H,this._width&&!X.width&&H.updateSize({width:this._width}),this._height&&!X.height&&H.updateSize({height:this._height}),H.hostElement.classList.add(Bt),this._isDisposed=!1}top(H=""){return this._bottomOffset="",this._topOffset=H,this._alignItems="flex-start",this}left(H=""){return this._xOffset=H,this._xPosition="left",this}bottom(H=""){return this._topOffset="",this._bottomOffset=H,this._alignItems="flex-end",this}right(H=""){return this._xOffset=H,this._xPosition="right",this}start(H=""){return this._xOffset=H,this._xPosition="start",this}end(H=""){return this._xOffset=H,this._xPosition="end",this}width(H=""){return this._overlayRef?this._overlayRef.updateSize({width:H}):this._width=H,this}height(H=""){return this._overlayRef?this._overlayRef.updateSize({height:H}):this._height=H,this}centerHorizontally(H=""){return this.left(H),this._xPosition="center",this}centerVertically(H=""){return this.top(H),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const H=this._overlayRef.overlayElement.style,X=this._overlayRef.hostElement.style,oe=this._overlayRef.getConfig(),{width:He,height:rt,maxWidth:ft,maxHeight:It}=oe,Ge=!("100%"!==He&&"100vw"!==He||ft&&"100%"!==ft&&"100vw"!==ft),Ct=!("100%"!==rt&&"100vh"!==rt||It&&"100%"!==It&&"100vh"!==It),dt=this._xPosition,At=this._xOffset,Qt="rtl"===this._overlayRef.getConfig().direction;let Ke="",pt="",Tt="";Ge?Tt="flex-start":"center"===dt?(Tt="center",Qt?pt=At:Ke=At):Qt?"left"===dt||"end"===dt?(Tt="flex-end",Ke=At):("right"===dt||"start"===dt)&&(Tt="flex-start",pt=At):"left"===dt||"start"===dt?(Tt="flex-start",Ke=At):("right"===dt||"end"===dt)&&(Tt="flex-end",pt=At),H.position=this._cssPosition,H.marginLeft=Ge?"0":Ke,H.marginTop=Ct?"0":this._topOffset,H.marginBottom=this._bottomOffset,H.marginRight=Ge?"0":pt,X.justifyContent=Tt,X.alignItems=Ct?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const H=this._overlayRef.overlayElement.style,X=this._overlayRef.hostElement,oe=X.style;X.classList.remove(Bt),oe.justifyContent=oe.alignItems=H.marginTop=H.marginBottom=H.marginLeft=H.marginRight=H.position="",this._overlayRef=null,this._isDisposed=!0}}let Ze=(()=>{var z;class H{constructor(oe,He,rt,ft){this._viewportRuler=oe,this._document=He,this._platform=rt,this._overlayContainer=ft}global(){return new Ye}flexibleConnectedTo(oe){return new V(oe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(r.Xj),f.KVO(x.qQ),f.KVO(E.OD),f.KVO(ut))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})(),Ot=0,ye=(()=>{var z;class H{constructor(oe,He,rt,ft,It,Ge,Ct,dt,At,Qt,Ke,pt){this.scrollStrategies=oe,this._overlayContainer=He,this._componentFactoryResolver=rt,this._positionBuilder=ft,this._keyboardDispatcher=It,this._injector=Ge,this._ngZone=Ct,this._document=dt,this._directionality=At,this._location=Qt,this._outsideClickDispatcher=Ke,this._animationsModuleType=pt}create(oe){const He=this._createHostElement(),rt=this._createPaneElement(He),ft=this._createPortalOutlet(rt),It=new $(oe);return It.direction=It.direction||this._directionality.value,new Ft(ft,He,rt,It,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(oe){const He=this._document.createElement("div");return He.id="cdk-overlay-"+Ot++,He.classList.add("cdk-overlay-pane"),oe.appendChild(He),He}_createHostElement(){const oe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(oe),oe}_createPortalOutlet(oe){return this._appRef||(this._appRef=this._injector.get(f.o8S)),new U.aI(oe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(z=H).\u0275fac=function(oe){return new(oe||z)(f.KVO(q),f.KVO(ut),f.KVO(f.OM3),f.KVO(Ze),f.KVO(nt),f.KVO(f.zZn),f.KVO(f.SKi),f.KVO(x.qQ),f.KVO(S.dS),f.KVO(x.aZ),f.KVO(De),f.KVO(f.bc$,8))},z.\u0275prov=f.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),H})();const h={provide:new f.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const z=(0,f.WQX)(ye);return()=>z.scrollStrategies.reposition()}}),deps:[ye],useFactory:function Y(z){return()=>z.scrollStrategies.reposition()}};let M=(()=>{var z;class H{}return(z=H).\u0275fac=function(oe){return new(oe||z)},z.\u0275mod=f.$C({type:z}),z.\u0275inj=f.G2t({providers:[ye,h],imports:[S.jI,U.jc,r.E9,r.E9]}),H})()},6860:(en,ot,w)=>{"use strict";w.d(ot,{BD:()=>K,BQ:()=>O,CZ:()=>W,Fb:()=>fe,KT:()=>ae,OD:()=>b,r5:()=>y,v8:()=>q,vc:()=>le});var r=w(4438),x=w(177);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f=!1}let S,b=(()=>{var $;class j{constructor(ee){this._platformId=ee,this.isBrowser=this._platformId?(0,x.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return($=j).\u0275fac=function(ee){return new(ee||$)(r.KVO(r.Agw))},$.\u0275prov=r.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),j})();function O($){return function U(){if(null==S&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>S=!0}))}finally{S=S||!1}return S}()?$:!!$.capture}var y=function($){return $[$.NORMAL=0]="NORMAL",$[$.NEGATED=1]="NEGATED",$[$.INVERTED=2]="INVERTED",$}(y||{});let _,D,L;function W(){if(null==D){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return D=!1,D;if("scrollBehavior"in document.documentElement.style)D=!0;else{const $=Element.prototype.scrollTo;D=!!$&&!/\{\s*\[native code\]\s*\}/.test($.toString())}}return D}function K(){if("object"!=typeof document||!document)return y.NORMAL;if(null==_){const $=document.createElement("div"),j=$.style;$.dir="rtl",j.width="1px",j.overflow="auto",j.visibility="hidden",j.pointerEvents="none",j.position="absolute";const Q=document.createElement("div"),ee=Q.style;ee.width="2px",ee.height="1px",$.appendChild(Q),document.body.appendChild($),_=y.NORMAL,0===$.scrollLeft&&($.scrollLeft=1,_=0===$.scrollLeft?y.NEGATED:y.INVERTED),$.remove()}return _}function ae($){if(function ie(){if(null==L){const $=typeof document<"u"?document.head:null;L=!(!$||!$.createShadowRoot&&!$.attachShadow)}return L}()){const j=$.getRootNode?$.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&j instanceof ShadowRoot)return j}return null}function le(){let $=typeof document<"u"&&document?document.activeElement:null;for(;$&&$.shadowRoot;){const j=$.shadowRoot.activeElement;if(j===$)break;$=j}return $}function fe($){return $.composedPath?$.composedPath()[0]:$.target}function q(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(en,ot,w)=>{"use strict";w.d(ot,{A8:()=>U,I3:()=>ae,VA:()=>O,aI:()=>W,jc:()=>fe,lb:()=>_});var r=w(4438),x=w(177);class S{attach(j){return this._attachedHost=j,j.attach(this)}detach(){let j=this._attachedHost;null!=j&&(this._attachedHost=null,j.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(j){this._attachedHost=j}}class U extends S{constructor(j,Q,ee,be,Se){super(),this.component=j,this.viewContainerRef=Q,this.injector=ee,this.componentFactoryResolver=be,this.projectableNodes=Se}}class O extends S{constructor(j,Q,ee,be){super(),this.templateRef=j,this.viewContainerRef=Q,this.context=ee,this.injector=be}get origin(){return this.templateRef.elementRef}attach(j,Q=this.context){return this.context=Q,super.attach(j)}detach(){return this.context=void 0,super.detach()}}class y extends S{constructor(j){super(),this.element=j instanceof r.aKT?j.nativeElement:j}}class _{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(j){return j instanceof U?(this._attachedPortal=j,this.attachComponentPortal(j)):j instanceof O?(this._attachedPortal=j,this.attachTemplatePortal(j)):this.attachDomPortal&&j instanceof y?(this._attachedPortal=j,this.attachDomPortal(j)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(j){this._disposeFn=j}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class W extends _{constructor(j,Q,ee,be,Se){super(),this.outletElement=j,this._componentFactoryResolver=Q,this._appRef=ee,this._defaultInjector=be,this.attachDomPortal=Qe=>{const nt=Qe.element,De=this._document.createComment("dom-portal");nt.parentNode.insertBefore(De,nt),this.outletElement.appendChild(nt),this._attachedPortal=Qe,super.setDisposeFn(()=>{De.parentNode&&De.parentNode.replaceChild(nt,De)})},this._document=Se}attachComponentPortal(j){const ee=(j.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(j.component);let be;return j.viewContainerRef?(be=j.viewContainerRef.createComponent(ee,j.viewContainerRef.length,j.injector||j.viewContainerRef.injector,j.projectableNodes||void 0),this.setDisposeFn(()=>be.destroy())):(be=ee.create(j.injector||this._defaultInjector||r.zZn.NULL),this._appRef.attachView(be.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(be.hostView),be.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(be)),this._attachedPortal=j,be}attachTemplatePortal(j){let Q=j.viewContainerRef,ee=Q.createEmbeddedView(j.templateRef,j.context,{injector:j.injector});return ee.rootNodes.forEach(be=>this.outletElement.appendChild(be)),ee.detectChanges(),this.setDisposeFn(()=>{let be=Q.indexOf(ee);-1!==be&&Q.remove(be)}),this._attachedPortal=j,ee}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(j){return j.hostView.rootNodes[0]}}let ae=(()=>{var $;class j extends _{constructor(ee,be,Se){super(),this._componentFactoryResolver=ee,this._viewContainerRef=be,this._isInitialized=!1,this.attached=new r.bkB,this.attachDomPortal=Qe=>{const nt=Qe.element,De=this._document.createComment("dom-portal");Qe.setAttachedHost(this),nt.parentNode.insertBefore(De,nt),this._getRootNode().appendChild(nt),this._attachedPortal=Qe,super.setDisposeFn(()=>{De.parentNode&&De.parentNode.replaceChild(nt,De)})},this._document=Se}get portal(){return this._attachedPortal}set portal(ee){this.hasAttached()&&!ee&&!this._isInitialized||(this.hasAttached()&&super.detach(),ee&&super.attach(ee),this._attachedPortal=ee||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ee){ee.setAttachedHost(this);const be=null!=ee.viewContainerRef?ee.viewContainerRef:this._viewContainerRef,Qe=(ee.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ee.component),nt=be.createComponent(Qe,be.length,ee.injector||be.injector,ee.projectableNodes||void 0);return be!==this._viewContainerRef&&this._getRootNode().appendChild(nt.hostView.rootNodes[0]),super.setDisposeFn(()=>nt.destroy()),this._attachedPortal=ee,this._attachedRef=nt,this.attached.emit(nt),nt}attachTemplatePortal(ee){ee.setAttachedHost(this);const be=this._viewContainerRef.createEmbeddedView(ee.templateRef,ee.context,{injector:ee.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ee,this._attachedRef=be,this.attached.emit(be),be}_getRootNode(){const ee=this._viewContainerRef.element.nativeElement;return ee.nodeType===ee.ELEMENT_NODE?ee:ee.parentNode}}return($=j).\u0275fac=function(ee){return new(ee||$)(r.rXU(r.OM3),r.rXU(r.c1b),r.rXU(x.qQ))},$.\u0275dir=r.FsC({type:$,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[r.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[r.Vt3]}),j})(),fe=(()=>{var $;class j{}return($=j).\u0275fac=function(ee){return new(ee||$)},$.\u0275mod=r.$C({type:$}),$.\u0275inj=r.G2t({}),j})()},5478:(en,ot,w)=>{"use strict";w.d(ot,{E$:()=>xt,E9:()=>Ye,Gj:()=>Bt,R:()=>nt,Xj:()=>Ft,d6:()=>Pe,yg:()=>Se});var r=w(4085),x=w(4438),f=w(5052),b=w(5877),E=w(2573),C=w(5426),u=w(798),F=w(2755),S=w(1027),U=w(8454),O=w(1082),y=w(9065),_=w(4264),D=w(7925),W=w(5160),K=w(1670),L=w(2914),ie=w(9784),ae=w(6860),le=w(177),fe=w(8203),q=w(5024);const $=["contentWrapper"],j=["*"],Q=new x.nKC("VIRTUAL_SCROLL_STRATEGY");class ee{constructor(Ot,ye,P){this._scrolledIndexChange=new f.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,O.F)()),this._viewport=null,this._itemSize=Ot,this._minBufferPx=ye,this._maxBufferPx=P}attach(Ot){this._viewport=Ot,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Ot,ye,P){this._itemSize=Ot,this._minBufferPx=ye,this._maxBufferPx=P,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Ot,ye){this._viewport&&this._viewport.scrollToOffset(Ot*this._itemSize,ye)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Ot=this._viewport.getRenderedRange(),ye={start:Ot.start,end:Ot.end},P=this._viewport.getViewportSize(),B=this._viewport.getDataLength();let R=this._viewport.measureScrollOffset(),N=this._itemSize>0?R/this._itemSize:0;if(ye.end>B){const h=Math.ceil(P/this._itemSize),M=Math.max(0,Math.min(N,B-h));N!=M&&(N=M,R=M*this._itemSize,ye.start=Math.floor(N)),ye.end=Math.max(0,Math.min(B,ye.start+h))}const Y=R-ye.start*this._itemSize;if(Y<this._minBufferPx&&0!=ye.start){const h=Math.ceil((this._maxBufferPx-Y)/this._itemSize);ye.start=Math.max(0,ye.start-h),ye.end=Math.min(B,Math.ceil(N+(P+this._minBufferPx)/this._itemSize))}else{const h=ye.end*this._itemSize-(R+P);if(h<this._minBufferPx&&ye.end!=B){const M=Math.ceil((this._maxBufferPx-h)/this._itemSize);M>0&&(ye.end=Math.min(B,ye.end+M),ye.start=Math.max(0,Math.floor(N-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(ye),this._viewport.setRenderedContentOffset(this._itemSize*ye.start),this._scrolledIndexChange.next(Math.floor(N))}}function be(Ze){return Ze._scrollStrategy}let Se=(()=>{var Ze;class Ot{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new ee(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(P){this._itemSize=(0,r.OE)(P)}get minBufferPx(){return this._minBufferPx}set minBufferPx(P){this._minBufferPx=(0,r.OE)(P)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(P){this._maxBufferPx=(0,r.OE)(P)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)},Ze.\u0275dir=x.FsC({type:Ze,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[x.Jv_([{provide:Q,useFactory:be,deps:[(0,x.Rfq)(()=>Ze)]}]),x.OA$]}),Ot})(),nt=(()=>{var Ze;class Ot{constructor(P,B,R){this._ngZone=P,this._platform=B,this._scrolled=new f.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=R}register(P){this.scrollContainers.has(P)||this.scrollContainers.set(P,P.elementScrolled().subscribe(()=>this._scrolled.next(P)))}deregister(P){const B=this.scrollContainers.get(P);B&&(B.unsubscribe(),this.scrollContainers.delete(P))}scrolled(P=20){return this._platform.isBrowser?new E.c(B=>{this._globalSubscription||this._addGlobalListener();const R=P>0?this._scrolled.pipe((0,y.Z)(P)).subscribe(B):this._scrolled.subscribe(B);return this._scrolledCount++,()=>{R.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,b.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((P,B)=>this.deregister(B)),this._scrolled.complete()}ancestorScrolled(P,B){const R=this.getAncestorScrollContainers(P);return this.scrolled(B).pipe((0,_.p)(N=>!N||R.indexOf(N)>-1))}getAncestorScrollContainers(P){const B=[];return this.scrollContainers.forEach((R,N)=>{this._scrollableContainsElement(N,P)&&B.push(N)}),B}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(P,B){let R=(0,r.i8)(B),N=P.getElementRef().nativeElement;do{if(R==N)return!0}while(R=R.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const P=this._getWindow();return(0,C.R)(P.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)(x.KVO(x.SKi),x.KVO(ae.OD),x.KVO(le.qQ,8))},Ze.\u0275prov=x.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ot})(),De=(()=>{var Ze;class Ot{constructor(P,B,R,N){this.elementRef=P,this.scrollDispatcher=B,this.ngZone=R,this.dir=N,this._destroyed=new f.B,this._elementScrolled=new E.c(Y=>this.ngZone.runOutsideAngular(()=>(0,C.R)(this.elementRef.nativeElement,"scroll").pipe((0,D.Q)(this._destroyed)).subscribe(Y)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(P){const B=this.elementRef.nativeElement,R=this.dir&&"rtl"==this.dir.value;null==P.left&&(P.left=R?P.end:P.start),null==P.right&&(P.right=R?P.start:P.end),null!=P.bottom&&(P.top=B.scrollHeight-B.clientHeight-P.bottom),R&&(0,ae.BD)()!=ae.r5.NORMAL?(null!=P.left&&(P.right=B.scrollWidth-B.clientWidth-P.left),(0,ae.BD)()==ae.r5.INVERTED?P.left=P.right:(0,ae.BD)()==ae.r5.NEGATED&&(P.left=P.right?-P.right:P.right)):null!=P.right&&(P.left=B.scrollWidth-B.clientWidth-P.right),this._applyScrollToOptions(P)}_applyScrollToOptions(P){const B=this.elementRef.nativeElement;(0,ae.CZ)()?B.scrollTo(P):(null!=P.top&&(B.scrollTop=P.top),null!=P.left&&(B.scrollLeft=P.left))}measureScrollOffset(P){const B="left",R="right",N=this.elementRef.nativeElement;if("top"==P)return N.scrollTop;if("bottom"==P)return N.scrollHeight-N.clientHeight-N.scrollTop;const Y=this.dir&&"rtl"==this.dir.value;return"start"==P?P=Y?R:B:"end"==P&&(P=Y?B:R),Y&&(0,ae.BD)()==ae.r5.INVERTED?P==B?N.scrollWidth-N.clientWidth-N.scrollLeft:N.scrollLeft:Y&&(0,ae.BD)()==ae.r5.NEGATED?P==B?N.scrollLeft+N.scrollWidth-N.clientWidth:-N.scrollLeft:P==B?N.scrollLeft:N.scrollWidth-N.clientWidth-N.scrollLeft}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)(x.rXU(x.aKT),x.rXU(nt),x.rXU(x.SKi),x.rXU(fe.dS,8))},Ze.\u0275dir=x.FsC({type:Ze,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Ot})(),Ft=(()=>{var Ze;class Ot{constructor(P,B,R){this._platform=P,this._change=new f.B,this._changeListener=N=>{this._change.next(N)},this._document=R,B.runOutsideAngular(()=>{if(P.isBrowser){const N=this._getWindow();N.addEventListener("resize",this._changeListener),N.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const P=this._getWindow();P.removeEventListener("resize",this._changeListener),P.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const P={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),P}getViewportRect(){const P=this.getViewportScrollPosition(),{width:B,height:R}=this.getViewportSize();return{top:P.top,left:P.left,bottom:P.top+R,right:P.left+B,height:R,width:B}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const P=this._document,B=this._getWindow(),R=P.documentElement,N=R.getBoundingClientRect();return{top:-N.top||P.body.scrollTop||B.scrollY||R.scrollTop||0,left:-N.left||P.body.scrollLeft||B.scrollX||R.scrollLeft||0}}change(P=20){return P>0?this._change.pipe((0,y.Z)(P)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const P=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:P.innerWidth,height:P.innerHeight}:{width:0,height:0}}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)(x.KVO(ae.OD),x.KVO(x.SKi),x.KVO(le.qQ,8))},Ze.\u0275prov=x.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ot})();const ve=new x.nKC("VIRTUAL_SCROLLABLE");let I=(()=>{var Ze;class Ot extends De{constructor(P,B,R,N){super(P,B,R,N)}measureViewportSize(P){const B=this.elementRef.nativeElement;return"horizontal"===P?B.clientWidth:B.clientHeight}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)(x.rXU(x.aKT),x.rXU(nt),x.rXU(x.SKi),x.rXU(fe.dS,8))},Ze.\u0275dir=x.FsC({type:Ze,features:[x.Vt3]}),Ot})();const ge=typeof requestAnimationFrame<"u"?u.X:F.$;let Pe=(()=>{var Ze;class Ot extends I{get orientation(){return this._orientation}set orientation(P){this._orientation!==P&&(this._orientation=P,this._calculateSpacerSize())}constructor(P,B,R,N,Y,h,M,Z){super(P,h,R,Y),this.elementRef=P,this._changeDetectorRef=B,this._scrollStrategy=N,this.scrollable=Z,this._platform=(0,x.WQX)(ae.OD),this._detachedSubject=new f.B,this._renderedRangeSubject=new f.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new E.c(z=>this._scrollStrategy.scrolledIndexChange.subscribe(H=>Promise.resolve().then(()=>this.ngZone.run(()=>z.next(H))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=S.yU.EMPTY,this._viewportChanges=M.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,W.Z)(null),(0,y.Z)(0,ge),(0,D.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(P){this.ngZone.runOutsideAngular(()=>{this._forOf=P,this._forOf.dataStream.pipe((0,D.Q)(this._detachedSubject)).subscribe(B=>{const R=B.length;R!==this._dataLength&&(this._dataLength=R,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(P){return this.getElementRef().nativeElement.getBoundingClientRect()[P]}setTotalContentSize(P){this._totalContentSize!==P&&(this._totalContentSize=P,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(P){(function V(Ze,Ot){return Ze.start==Ot.start&&Ze.end==Ot.end})(this._renderedRange,P)||(this.appendOnly&&(P={start:0,end:Math.max(this._renderedRange.end,P.end)}),this._renderedRangeSubject.next(this._renderedRange=P),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(P,B="to-start"){P=this.appendOnly&&"to-start"===B?0:P;const N="horizontal"==this.orientation,Y=N?"X":"Y";let M=`translate${Y}(${Number((N&&this.dir&&"rtl"==this.dir.value?-1:1)*P)}px)`;this._renderedContentOffset=P,"to-end"===B&&(M+=` translate${Y}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=M&&(this._renderedContentTransform=M,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(P,B="auto"){const R={behavior:B};"horizontal"===this.orientation?R.start=P:R.top=P,this.scrollable.scrollTo(R)}scrollToIndex(P,B="auto"){this._scrollStrategy.scrollToIndex(P,B)}measureScrollOffset(P){let B;return B=this.scrollable==this?R=>super.measureScrollOffset(R):R=>this.scrollable.measureScrollOffset(R),Math.max(0,B(P??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(P){let B;const R="left",N="right",Y="rtl"==this.dir?.value;B="start"==P?Y?N:R:"end"==P?Y?R:N:P||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(B);return this.elementRef.nativeElement.getBoundingClientRect()[B]-h}measureRenderedContentSize(){const P=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?P.offsetWidth:P.offsetHeight}measureRangeSize(P){return this._forOf?this._forOf.measureRangeSize(P,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(P){P&&this._runAfterChangeDetection.push(P),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const P=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const B of P)B()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(x.SKi),x.rXU(Q,8),x.rXU(fe.dS,8),x.rXU(nt),x.rXU(Ft),x.rXU(ve,8))},Ze.\u0275cmp=x.VBU({type:Ze,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(P,B){if(1&P&&x.GBs($,7),2&P){let R;x.mGM(R=x.lsd())&&(B._contentWrapper=R.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(P,B){2&P&&x.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===B.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==B.orientation)},inputs:{orientation:"orientation",appendOnly:[x.Mj6.HasDecoratorInputTransform,"appendOnly","appendOnly",x.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[x.Jv_([{provide:De,useFactory:(ye,P)=>ye||P,deps:[[new x.Xx1,new x.y_5(ve)],Ze]}]),x.GFd,x.Vt3,x.aNF],ngContentSelectors:j,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(P,B){1&P&&(x.NAR(),x.j41(0,"div",1,0),x.SdG(2),x.k0s(),x.nrm(3,"div",2)),2&P&&(x.R7$(3),x.xc7("width",B._totalContentWidth)("height",B._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),Ot})();function ke(Ze,Ot,ye){if(!ye.getBoundingClientRect)return 0;const B=ye.getBoundingClientRect();return"horizontal"===Ze?"start"===Ot?B.left:B.right:"start"===Ot?B.top:B.bottom}let xt=(()=>{var Ze;class Ot{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(P){this._cdkVirtualForOf=P,(0,q.y4)(P)?this._dataSourceChanges.next(P):this._dataSourceChanges.next(new q.hx((0,U.A)(P)?P:Array.from(P||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(P){this._needsUpdate=!0,this._cdkVirtualForTrackBy=P?(B,R)=>P(B+(this._renderedRange?this._renderedRange.start:0),R):void 0}set cdkVirtualForTemplate(P){P&&(this._needsUpdate=!0,this._template=P)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(P){this._viewRepeater.viewCacheSize=(0,r.OE)(P)}constructor(P,B,R,N,Y,h){this._viewContainerRef=P,this._template=B,this._differs=R,this._viewRepeater=N,this._viewport=Y,this.viewChange=new f.B,this._dataSourceChanges=new f.B,this.dataStream=this._dataSourceChanges.pipe((0,W.Z)(null),(0,K.J)(),(0,L.n)(([M,Z])=>this._changeDataSource(M,Z)),(0,ie.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new f.B,this.dataStream.subscribe(M=>{this._data=M,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,D.Q)(this._destroyed)).subscribe(M=>{this._renderedRange=M,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(P,B){if(P.start>=P.end)return 0;const R=P.start-this._renderedRange.start,N=P.end-P.start;let Y,h;for(let M=0;M<N;M++){const Z=this._viewContainerRef.get(M+R);if(Z&&Z.rootNodes.length){Y=h=Z.rootNodes[0];break}}for(let M=N-1;M>-1;M--){const Z=this._viewContainerRef.get(M+R);if(Z&&Z.rootNodes.length){h=Z.rootNodes[Z.rootNodes.length-1];break}}return Y&&h?ke(B,"end",h)-ke(B,"start",Y):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const P=this._differ.diff(this._renderedItems);P?this._applyChanges(P):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((P,B)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(P,B):B)),this._needsUpdate=!0)}_changeDataSource(P,B){return P&&P.disconnect(this),this._needsUpdate=!0,B?B.connect(this):(0,b.of)()}_updateContext(){const P=this._data.length;let B=this._viewContainerRef.length;for(;B--;){const R=this._viewContainerRef.get(B);R.context.index=this._renderedRange.start+B,R.context.count=P,this._updateComputedContextProperties(R.context),R.detectChanges()}}_applyChanges(P){this._viewRepeater.applyChanges(P,this._viewContainerRef,(N,Y,h)=>this._getEmbeddedViewArgs(N,h),N=>N.item),P.forEachIdentityChange(N=>{this._viewContainerRef.get(N.currentIndex).context.$implicit=N.item});const B=this._data.length;let R=this._viewContainerRef.length;for(;R--;){const N=this._viewContainerRef.get(R);N.context.index=this._renderedRange.start+R,N.context.count=B,this._updateComputedContextProperties(N.context)}}_updateComputedContextProperties(P){P.first=0===P.index,P.last=P.index===P.count-1,P.even=P.index%2==0,P.odd=!P.even}_getEmbeddedViewArgs(P,B){return{templateRef:this._template,context:{$implicit:P.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:B}}}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(x._q3),x.rXU(q.sL),x.rXU(Pe,4),x.rXU(x.SKi))},Ze.\u0275dir=x.FsC({type:Ze,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[x.Jv_([{provide:q.sL,useClass:q.DQ}])]}),Ot})(),Bt=(()=>{var Ze;class Ot{}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)},Ze.\u0275mod=x.$C({type:Ze}),Ze.\u0275inj=x.G2t({}),Ot})(),Ye=(()=>{var Ze;class Ot{}return(Ze=Ot).\u0275fac=function(P){return new(P||Ze)},Ze.\u0275mod=x.$C({type:Ze}),Ze.\u0275inj=x.G2t({imports:[fe.jI,Bt,fe.jI,Bt]}),Ot})()},5887:(en,ot,w)=>{"use strict";w.d(ot,{N0:()=>At}),w(8203),w(5024),w(6860);var b=w(5478),C=(w(177),w(4438));w(5052),w(1472),w(9160),w(8454),w(5877),w(7925),w(7365);let At=(()=>{var Ke;class pt{}return(Ke=pt).\u0275fac=function($e){return new($e||Ke)},Ke.\u0275mod=C.$C({type:Ke}),Ke.\u0275inj=C.G2t({imports:[b.E9]}),pt})()},4109:(en,ot,w)=>{"use strict";w.d(ot,{Dc:()=>ut}),w(5024),w(8454),w(5052),w(9160),w(5877),w(7365),w(4264),w(7925);var S=w(4438);w(8203);let ut=(()=>{var Ft;class ve{}return(Ft=ve).\u0275fac=function(V){return new(V||Ft)},Ft.\u0275mod=S.$C({type:Ft}),Ft.\u0275inj=S.G2t({}),ve})()},177:(en,ot,w)=>{"use strict";w.d(ot,{AJ:()=>cs,B3:()=>Ji,EO:()=>Ve,Jj:()=>go,MD:()=>Ws,N0:()=>rr,PV:()=>Po,QT:()=>f,QX:()=>Ni,Sm:()=>K,Sq:()=>Gr,T3:()=>Yt,UE:()=>Go,VF:()=>E,Vy:()=>Aa,Xr:()=>Vs,YU:()=>Dt,Yq:()=>It,ZD:()=>b,_b:()=>_t,aZ:()=>ie,bT:()=>pi,e1:()=>Dr,fG:()=>qr,fw:()=>L,hb:()=>D,hj:()=>S,kB:()=>W,qQ:()=>u,ux:()=>hr});var r=w(4438);let x=null;function f(){return x}function b(Ee){x??=Ee}class E{}const u=new r.nKC("");let F=(()=>{var Ee;class yt{historyGo(st){throw new Error("")}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)},Ee.\u0275prov=r.jDH({token:Ee,factory:()=>(0,r.WQX)(U),providedIn:"platform"}),yt})();const S=new r.nKC("");let U=(()=>{var Ee;class yt extends F{constructor(){super(),this._doc=(0,r.WQX)(u),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(st){const vn=f().getGlobalEventTarget(this._doc,"window");return vn.addEventListener("popstate",st,!1),()=>vn.removeEventListener("popstate",st)}onHashChange(st){const vn=f().getGlobalEventTarget(this._doc,"window");return vn.addEventListener("hashchange",st,!1),()=>vn.removeEventListener("hashchange",st)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(st){this._location.pathname=st}pushState(st,vn,cr){this._history.pushState(st,vn,cr)}replaceState(st,vn,cr){this._history.replaceState(st,vn,cr)}forward(){this._history.forward()}back(){this._history.back()}historyGo(st=0){this._history.go(st)}getState(){return this._history.state}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)},Ee.\u0275prov=r.jDH({token:Ee,factory:()=>new Ee,providedIn:"platform"}),yt})();function O(Ee,yt){if(0==Ee.length)return yt;if(0==yt.length)return Ee;let Sn=0;return Ee.endsWith("/")&&Sn++,yt.startsWith("/")&&Sn++,2==Sn?Ee+yt.substring(1):1==Sn?Ee+yt:Ee+"/"+yt}function y(Ee){const yt=Ee.match(/#|\?|$/),Sn=yt&&yt.index||Ee.length;return Ee.slice(0,Sn-("/"===Ee[Sn-1]?1:0))+Ee.slice(Sn)}function _(Ee){return Ee&&"?"!==Ee[0]?"?"+Ee:Ee}let D=(()=>{var Ee;class yt{historyGo(st){throw new Error("")}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)},Ee.\u0275prov=r.jDH({token:Ee,factory:()=>(0,r.WQX)(K),providedIn:"root"}),yt})();const W=new r.nKC("");let K=(()=>{var Ee;class yt extends D{constructor(st,vn){super(),this._platformLocation=st,this._removeListenerFns=[],this._baseHref=vn??this._platformLocation.getBaseHrefFromDOM()??(0,r.WQX)(u).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(st){this._removeListenerFns.push(this._platformLocation.onPopState(st),this._platformLocation.onHashChange(st))}getBaseHref(){return this._baseHref}prepareExternalUrl(st){return O(this._baseHref,st)}path(st=!1){const vn=this._platformLocation.pathname+_(this._platformLocation.search),cr=this._platformLocation.hash;return cr&&st?`${vn}${cr}`:vn}pushState(st,vn,cr,bi){const ao=this.prepareExternalUrl(cr+_(bi));this._platformLocation.pushState(st,vn,ao)}replaceState(st,vn,cr,bi){const ao=this.prepareExternalUrl(cr+_(bi));this._platformLocation.replaceState(st,vn,ao)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(st=0){this._platformLocation.historyGo?.(st)}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.KVO(F),r.KVO(W,8))},Ee.\u0275prov=r.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),yt})(),L=(()=>{var Ee;class yt extends D{constructor(st,vn){super(),this._platformLocation=st,this._baseHref="",this._removeListenerFns=[],null!=vn&&(this._baseHref=vn)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(st){this._removeListenerFns.push(this._platformLocation.onPopState(st),this._platformLocation.onHashChange(st))}getBaseHref(){return this._baseHref}path(st=!1){const vn=this._platformLocation.hash??"#";return vn.length>0?vn.substring(1):vn}prepareExternalUrl(st){const vn=O(this._baseHref,st);return vn.length>0?"#"+vn:vn}pushState(st,vn,cr,bi){let ao=this.prepareExternalUrl(cr+_(bi));0==ao.length&&(ao=this._platformLocation.pathname),this._platformLocation.pushState(st,vn,ao)}replaceState(st,vn,cr,bi){let ao=this.prepareExternalUrl(cr+_(bi));0==ao.length&&(ao=this._platformLocation.pathname),this._platformLocation.replaceState(st,vn,ao)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(st=0){this._platformLocation.historyGo?.(st)}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.KVO(F),r.KVO(W,8))},Ee.\u0275prov=r.jDH({token:Ee,factory:Ee.\u0275fac}),yt})(),ie=(()=>{var Ee;class yt{constructor(st){this._subject=new r.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=st;const vn=this._locationStrategy.getBaseHref();this._basePath=function q(Ee){if(new RegExp("^(https?:)?//").test(Ee)){const[,Sn]=Ee.split(/\/\/[^\/]+/);return Sn}return Ee}(y(fe(vn))),this._locationStrategy.onPopState(cr=>{this._subject.emit({url:this.path(!0),pop:!0,state:cr.state,type:cr.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(st=!1){return this.normalize(this._locationStrategy.path(st))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(st,vn=""){return this.path()==this.normalize(st+_(vn))}normalize(st){return yt.stripTrailingSlash(function le(Ee,yt){if(!Ee||!yt.startsWith(Ee))return yt;const Sn=yt.substring(Ee.length);return""===Sn||["/",";","?","#"].includes(Sn[0])?Sn:yt}(this._basePath,fe(st)))}prepareExternalUrl(st){return st&&"/"!==st[0]&&(st="/"+st),this._locationStrategy.prepareExternalUrl(st)}go(st,vn="",cr=null){this._locationStrategy.pushState(cr,"",st,vn),this._notifyUrlChangeListeners(this.prepareExternalUrl(st+_(vn)),cr)}replaceState(st,vn="",cr=null){this._locationStrategy.replaceState(cr,"",st,vn),this._notifyUrlChangeListeners(this.prepareExternalUrl(st+_(vn)),cr)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(st=0){this._locationStrategy.historyGo?.(st)}onUrlChange(st){return this._urlChangeListeners.push(st),this._urlChangeSubscription??=this.subscribe(vn=>{this._notifyUrlChangeListeners(vn.url,vn.state)}),()=>{const vn=this._urlChangeListeners.indexOf(st);this._urlChangeListeners.splice(vn,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(st="",vn){this._urlChangeListeners.forEach(cr=>cr(st,vn))}subscribe(st,vn,cr){return this._subject.subscribe({next:st,error:vn,complete:cr})}}return(Ee=yt).normalizeQueryParams=_,Ee.joinWithSlash=O,Ee.stripTrailingSlash=y,Ee.\u0275fac=function(st){return new(st||Ee)(r.KVO(D))},Ee.\u0275prov=r.jDH({token:Ee,factory:()=>function ae(){return new ie((0,r.KVO)(D))}(),providedIn:"root"}),yt})();function fe(Ee){return Ee.replace(/\/index.html$/,"")}var j=function(Ee){return Ee[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee}(j||{}),ee=function(Ee){return Ee[Ee.Format=0]="Format",Ee[Ee.Standalone=1]="Standalone",Ee}(ee||{}),be=function(Ee){return Ee[Ee.Narrow=0]="Narrow",Ee[Ee.Abbreviated=1]="Abbreviated",Ee[Ee.Wide=2]="Wide",Ee[Ee.Short=3]="Short",Ee}(be||{}),Se=function(Ee){return Ee[Ee.Short=0]="Short",Ee[Ee.Medium=1]="Medium",Ee[Ee.Long=2]="Long",Ee[Ee.Full=3]="Full",Ee}(Se||{});const Qe={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Pe(Ee,yt){return Y((0,r.H5H)(Ee)[r.KH2.DateFormat],yt)}function ke(Ee,yt){return Y((0,r.H5H)(Ee)[r.KH2.TimeFormat],yt)}function xt(Ee,yt){return Y((0,r.H5H)(Ee)[r.KH2.DateTimeFormat],yt)}function Ht(Ee,yt){const Sn=(0,r.H5H)(Ee),st=Sn[r.KH2.NumberSymbols][yt];if(typeof st>"u"){if(yt===Qe.CurrencyDecimal)return Sn[r.KH2.NumberSymbols][Qe.Decimal];if(yt===Qe.CurrencyGroup)return Sn[r.KH2.NumberSymbols][Qe.Group]}return st}function P(Ee){if(!Ee[r.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ee[r.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Y(Ee,yt){for(let Sn=yt;Sn>-1;Sn--)if(typeof Ee[Sn]<"u")return Ee[Sn];throw new Error("Locale data API: locale data undefined")}function h(Ee){const[yt,Sn]=Ee.split(":");return{hours:+yt,minutes:+Sn}}const H=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,X={},oe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var He=function(Ee){return Ee[Ee.Short=0]="Short",Ee[Ee.ShortGMT=1]="ShortGMT",Ee[Ee.Long=2]="Long",Ee[Ee.Extended=3]="Extended",Ee}(He||{}),rt=function(Ee){return Ee[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee}(rt||{}),ft=function(Ee){return Ee[Ee.DayPeriods=0]="DayPeriods",Ee[Ee.Days=1]="Days",Ee[Ee.Months=2]="Months",Ee[Ee.Eras=3]="Eras",Ee}(ft||{});function It(Ee,yt,Sn,st){let vn=function it(Ee){if(We(Ee))return Ee;if("number"==typeof Ee&&!isNaN(Ee))return new Date(Ee);if("string"==typeof Ee){if(Ee=Ee.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ee)){const[vn,cr=1,bi=1]=Ee.split("-").map(ao=>+ao);return Ge(vn,cr-1,bi)}const Sn=parseFloat(Ee);if(!isNaN(Ee-Sn))return new Date(Sn);let st;if(st=Ee.match(H))return function Me(Ee){const yt=new Date(0);let Sn=0,st=0;const vn=Ee[8]?yt.setUTCFullYear:yt.setFullYear,cr=Ee[8]?yt.setUTCHours:yt.setHours;Ee[9]&&(Sn=Number(Ee[9]+Ee[10]),st=Number(Ee[9]+Ee[11])),vn.call(yt,Number(Ee[1]),Number(Ee[2])-1,Number(Ee[3]));const bi=Number(Ee[4]||0)-Sn,ao=Number(Ee[5]||0)-st,ls=Number(Ee[6]||0),Rs=Math.floor(1e3*parseFloat("0."+(Ee[7]||0)));return cr.call(yt,bi,ao,ls,Rs),yt}(st)}const yt=new Date(Ee);if(!We(yt))throw new Error(`Unable to convert "${Ee}" into a date`);return yt}(Ee);yt=Ct(Sn,yt)||yt;let ao,bi=[];for(;yt;){if(ao=oe.exec(yt),!ao){bi.push(yt);break}{bi=bi.concat(ao.slice(1));const qs=bi.pop();if(!qs)break;yt=qs}}let ls=vn.getTimezoneOffset();st&&(ls=Ue(st,ls),vn=function me(Ee,yt,Sn){const st=Sn?-1:1,vn=Ee.getTimezoneOffset();return function Ce(Ee,yt){return(Ee=new Date(Ee.getTime())).setMinutes(Ee.getMinutes()+yt),Ee}(Ee,st*(Ue(yt,vn)-vn))}(vn,st,!0));let Rs="";return bi.forEach(qs=>{const us=function Fe(Ee){if(St[Ee])return St[Ee];let yt;switch(Ee){case"G":case"GG":case"GGG":yt=Tt(ft.Eras,be.Abbreviated);break;case"GGGG":yt=Tt(ft.Eras,be.Wide);break;case"GGGGG":yt=Tt(ft.Eras,be.Narrow);break;case"y":yt=Ke(rt.FullYear,1,0,!1,!0);break;case"yy":yt=Ke(rt.FullYear,2,0,!0,!0);break;case"yyy":yt=Ke(rt.FullYear,3,0,!1,!0);break;case"yyyy":yt=Ke(rt.FullYear,4,0,!1,!0);break;case"Y":yt=sn(1);break;case"YY":yt=sn(2,!0);break;case"YYY":yt=sn(3);break;case"YYYY":yt=sn(4);break;case"M":case"L":yt=Ke(rt.Month,1,1);break;case"MM":case"LL":yt=Ke(rt.Month,2,1);break;case"MMM":yt=Tt(ft.Months,be.Abbreviated);break;case"MMMM":yt=Tt(ft.Months,be.Wide);break;case"MMMMM":yt=Tt(ft.Months,be.Narrow);break;case"LLL":yt=Tt(ft.Months,be.Abbreviated,ee.Standalone);break;case"LLLL":yt=Tt(ft.Months,be.Wide,ee.Standalone);break;case"LLLLL":yt=Tt(ft.Months,be.Narrow,ee.Standalone);break;case"w":yt=gr(1);break;case"ww":yt=gr(2);break;case"W":yt=gr(1,!0);break;case"d":yt=Ke(rt.Date,1);break;case"dd":yt=Ke(rt.Date,2);break;case"c":case"cc":yt=Ke(rt.Day,1);break;case"ccc":yt=Tt(ft.Days,be.Abbreviated,ee.Standalone);break;case"cccc":yt=Tt(ft.Days,be.Wide,ee.Standalone);break;case"ccccc":yt=Tt(ft.Days,be.Narrow,ee.Standalone);break;case"cccccc":yt=Tt(ft.Days,be.Short,ee.Standalone);break;case"E":case"EE":case"EEE":yt=Tt(ft.Days,be.Abbreviated);break;case"EEEE":yt=Tt(ft.Days,be.Wide);break;case"EEEEE":yt=Tt(ft.Days,be.Narrow);break;case"EEEEEE":yt=Tt(ft.Days,be.Short);break;case"a":case"aa":case"aaa":yt=Tt(ft.DayPeriods,be.Abbreviated);break;case"aaaa":yt=Tt(ft.DayPeriods,be.Wide);break;case"aaaaa":yt=Tt(ft.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":yt=Tt(ft.DayPeriods,be.Abbreviated,ee.Standalone,!0);break;case"bbbb":yt=Tt(ft.DayPeriods,be.Wide,ee.Standalone,!0);break;case"bbbbb":yt=Tt(ft.DayPeriods,be.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":yt=Tt(ft.DayPeriods,be.Abbreviated,ee.Format,!0);break;case"BBBB":yt=Tt(ft.DayPeriods,be.Wide,ee.Format,!0);break;case"BBBBB":yt=Tt(ft.DayPeriods,be.Narrow,ee.Format,!0);break;case"h":yt=Ke(rt.Hours,1,-12);break;case"hh":yt=Ke(rt.Hours,2,-12);break;case"H":yt=Ke(rt.Hours,1);break;case"HH":yt=Ke(rt.Hours,2);break;case"m":yt=Ke(rt.Minutes,1);break;case"mm":yt=Ke(rt.Minutes,2);break;case"s":yt=Ke(rt.Seconds,1);break;case"ss":yt=Ke(rt.Seconds,2);break;case"S":yt=Ke(rt.FractionalSeconds,1);break;case"SS":yt=Ke(rt.FractionalSeconds,2);break;case"SSS":yt=Ke(rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":yt=Lt(He.Short);break;case"ZZZZZ":yt=Lt(He.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":yt=Lt(He.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":yt=Lt(He.Long);break;default:return null}return St[Ee]=yt,yt}(qs);Rs+=us?us(vn,Sn,ls):"''"===qs?"'":qs.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Rs}function Ge(Ee,yt,Sn){const st=new Date(0);return st.setFullYear(Ee,yt,Sn),st.setHours(0,0,0),st}function Ct(Ee,yt){const Sn=function De(Ee){return(0,r.H5H)(Ee)[r.KH2.LocaleId]}(Ee);if(X[Sn]??={},X[Sn][yt])return X[Sn][yt];let st="";switch(yt){case"shortDate":st=Pe(Ee,Se.Short);break;case"mediumDate":st=Pe(Ee,Se.Medium);break;case"longDate":st=Pe(Ee,Se.Long);break;case"fullDate":st=Pe(Ee,Se.Full);break;case"shortTime":st=ke(Ee,Se.Short);break;case"mediumTime":st=ke(Ee,Se.Medium);break;case"longTime":st=ke(Ee,Se.Long);break;case"fullTime":st=ke(Ee,Se.Full);break;case"short":const vn=Ct(Ee,"shortTime"),cr=Ct(Ee,"shortDate");st=dt(xt(Ee,Se.Short),[vn,cr]);break;case"medium":const bi=Ct(Ee,"mediumTime"),ao=Ct(Ee,"mediumDate");st=dt(xt(Ee,Se.Medium),[bi,ao]);break;case"long":const ls=Ct(Ee,"longTime"),Rs=Ct(Ee,"longDate");st=dt(xt(Ee,Se.Long),[ls,Rs]);break;case"full":const qs=Ct(Ee,"fullTime"),us=Ct(Ee,"fullDate");st=dt(xt(Ee,Se.Full),[qs,us])}return st&&(X[Sn][yt]=st),st}function dt(Ee,yt){return yt&&(Ee=Ee.replace(/\{([^}]+)}/g,function(Sn,st){return null!=yt&&st in yt?yt[st]:Sn})),Ee}function At(Ee,yt,Sn="-",st,vn){let cr="";(Ee<0||vn&&Ee<=0)&&(vn?Ee=1-Ee:(Ee=-Ee,cr=Sn));let bi=String(Ee);for(;bi.length<yt;)bi="0"+bi;return st&&(bi=bi.slice(bi.length-yt)),cr+bi}function Ke(Ee,yt,Sn=0,st=!1,vn=!1){return function(cr,bi){let ao=function pt(Ee,yt){switch(Ee){case rt.FullYear:return yt.getFullYear();case rt.Month:return yt.getMonth();case rt.Date:return yt.getDate();case rt.Hours:return yt.getHours();case rt.Minutes:return yt.getMinutes();case rt.Seconds:return yt.getSeconds();case rt.FractionalSeconds:return yt.getMilliseconds();case rt.Day:return yt.getDay();default:throw new Error(`Unknown DateType value "${Ee}".`)}}(Ee,cr);if((Sn>0||ao>-Sn)&&(ao+=Sn),Ee===rt.Hours)0===ao&&-12===Sn&&(ao=12);else if(Ee===rt.FractionalSeconds)return function Qt(Ee,yt){return At(Ee,3).substring(0,yt)}(ao,yt);const ls=Ht(bi,Qe.MinusSign);return At(ao,yt,ls,st,vn)}}function Tt(Ee,yt,Sn=ee.Format,st=!1){return function(vn,cr){return function $e(Ee,yt,Sn,st,vn,cr){switch(Sn){case ft.Months:return function ve(Ee,yt,Sn){const st=(0,r.H5H)(Ee),cr=Y([st[r.KH2.MonthsFormat],st[r.KH2.MonthsStandalone]],yt);return Y(cr,Sn)}(yt,vn,st)[Ee.getMonth()];case ft.Days:return function Ft(Ee,yt,Sn){const st=(0,r.H5H)(Ee),cr=Y([st[r.KH2.DaysFormat],st[r.KH2.DaysStandalone]],yt);return Y(cr,Sn)}(yt,vn,st)[Ee.getDay()];case ft.DayPeriods:const bi=Ee.getHours(),ao=Ee.getMinutes();if(cr){const Rs=function B(Ee){const yt=(0,r.H5H)(Ee);return P(yt),(yt[r.KH2.ExtraData][2]||[]).map(st=>"string"==typeof st?h(st):[h(st[0]),h(st[1])])}(yt),qs=function R(Ee,yt,Sn){const st=(0,r.H5H)(Ee);P(st);const cr=Y([st[r.KH2.ExtraData][0],st[r.KH2.ExtraData][1]],yt)||[];return Y(cr,Sn)||[]}(yt,vn,st),us=Rs.findIndex(fa=>{if(Array.isArray(fa)){const[hs,fs]=fa,Fo=bi>=hs.hours&&ao>=hs.minutes,Ki=bi<fs.hours||bi===fs.hours&&ao<fs.minutes;if(hs.hours<fs.hours){if(Fo&&Ki)return!0}else if(Fo||Ki)return!0}else if(fa.hours===bi&&fa.minutes===ao)return!0;return!1});if(-1!==us)return qs[us]}return function ut(Ee,yt,Sn){const st=(0,r.H5H)(Ee),cr=Y([st[r.KH2.DayPeriodsFormat],st[r.KH2.DayPeriodsStandalone]],yt);return Y(cr,Sn)}(yt,vn,st)[bi<12?0:1];case ft.Eras:return function I(Ee,yt){return Y((0,r.H5H)(Ee)[r.KH2.Eras],yt)}(yt,st)[Ee.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Sn}`)}}(vn,cr,Ee,yt,Sn,st)}}function Lt(Ee){return function(yt,Sn,st){const vn=-1*st,cr=Ht(Sn,Qe.MinusSign),bi=vn>0?Math.floor(vn/60):Math.ceil(vn/60);switch(Ee){case He.Short:return(vn>=0?"+":"")+At(bi,2,cr)+At(Math.abs(vn%60),2,cr);case He.ShortGMT:return"GMT"+(vn>=0?"+":"")+At(bi,1,cr);case He.Long:return"GMT"+(vn>=0?"+":"")+At(bi,2,cr)+":"+At(Math.abs(vn%60),2,cr);case He.Extended:return 0===st?"Z":(vn>=0?"+":"")+At(bi,2,cr)+":"+At(Math.abs(vn%60),2,cr);default:throw new Error(`Unknown zone width "${Ee}"`)}}}const Xt=0,gn=4;function $n(Ee){const yt=Ee.getDay(),Sn=0===yt?-3:gn-yt;return Ge(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()+Sn)}function gr(Ee,yt=!1){return function(Sn,st){let vn;if(yt){const cr=new Date(Sn.getFullYear(),Sn.getMonth(),1).getDay()-1,bi=Sn.getDate();vn=1+Math.floor((bi+cr)/7)}else{const cr=$n(Sn),bi=function Ln(Ee){const yt=Ge(Ee,Xt,1).getDay();return Ge(Ee,0,1+(yt<=gn?gn:gn+7)-yt)}(cr.getFullYear()),ao=cr.getTime()-bi.getTime();vn=1+Math.round(ao/6048e5)}return At(vn,Ee,Ht(st,Qe.MinusSign))}}function sn(Ee,yt=!1){return function(Sn,st){return At($n(Sn).getFullYear(),Ee,Ht(st,Qe.MinusSign),yt)}}const St={};function Ue(Ee,yt){Ee=Ee.replace(/:/g,"");const Sn=Date.parse("Jan 01, 1970 00:00:00 "+Ee)/6e4;return isNaN(Sn)?yt:Sn}function We(Ee){return Ee instanceof Date&&!isNaN(Ee.valueOf())}const Gt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Yi(Ee){const yt=parseInt(Ee);if(isNaN(yt))throw new Error("Invalid integer literal when parsing "+Ee);return yt}function Ve(Ee,yt,Sn){return(0,r.XSP)(Ee,yt,Sn)}function _t(Ee,yt){yt=encodeURIComponent(yt);for(const Sn of Ee.split(";")){const st=Sn.indexOf("="),[vn,cr]=-1==st?[Sn,""]:[Sn.slice(0,st),Sn.slice(st+1)];if(vn.trim()===yt)return decodeURIComponent(cr)}return null}const an=/\s+/,_e=[];let Dt=(()=>{var Ee;class yt{constructor(st,vn){this._ngEl=st,this._renderer=vn,this.initialClasses=_e,this.stateMap=new Map}set klass(st){this.initialClasses=null!=st?st.trim().split(an):_e}set ngClass(st){this.rawClass="string"==typeof st?st.trim().split(an):st}ngDoCheck(){for(const vn of this.initialClasses)this._updateState(vn,!0);const st=this.rawClass;if(Array.isArray(st)||st instanceof Set)for(const vn of st)this._updateState(vn,!0);else if(null!=st)for(const vn of Object.keys(st))this._updateState(vn,!!st[vn]);this._applyStateDiff()}_updateState(st,vn){const cr=this.stateMap.get(st);void 0!==cr?(cr.enabled!==vn&&(cr.changed=!0,cr.enabled=vn),cr.touched=!0):this.stateMap.set(st,{enabled:vn,changed:!0,touched:!0})}_applyStateDiff(){for(const st of this.stateMap){const vn=st[0],cr=st[1];cr.changed?(this._toggleClass(vn,cr.enabled),cr.changed=!1):cr.touched||(cr.enabled&&this._toggleClass(vn,!1),this.stateMap.delete(vn)),cr.touched=!1}}_toggleClass(st,vn){(st=st.trim()).length>0&&st.split(an).forEach(cr=>{vn?this._renderer.addClass(this._ngEl.nativeElement,cr):this._renderer.removeClass(this._ngEl.nativeElement,cr)})}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.aKT),r.rXU(r.sFG))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngClass",""]],inputs:{klass:[r.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),yt})();class qn{constructor(yt,Sn,st,vn){this.$implicit=yt,this.ngForOf=Sn,this.index=st,this.count=vn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gr=(()=>{var Ee;class yt{set ngForOf(st){this._ngForOf=st,this._ngForOfDirty=!0}set ngForTrackBy(st){this._trackByFn=st}get ngForTrackBy(){return this._trackByFn}constructor(st,vn,cr){this._viewContainer=st,this._template=vn,this._differs=cr,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(st){st&&(this._template=st)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const st=this._ngForOf;!this._differ&&st&&(this._differ=this._differs.find(st).create(this.ngForTrackBy))}if(this._differ){const st=this._differ.diff(this._ngForOf);st&&this._applyChanges(st)}}_applyChanges(st){const vn=this._viewContainer;st.forEachOperation((cr,bi,ao)=>{if(null==cr.previousIndex)vn.createEmbeddedView(this._template,new qn(cr.item,this._ngForOf,-1,-1),null===ao?void 0:ao);else if(null==ao)vn.remove(null===bi?void 0:bi);else if(null!==bi){const ls=vn.get(bi);vn.move(ls,ao),Ai(ls,cr)}});for(let cr=0,bi=vn.length;cr<bi;cr++){const ls=vn.get(cr).context;ls.index=cr,ls.count=bi,ls.ngForOf=this._ngForOf}st.forEachIdentityChange(cr=>{Ai(vn.get(cr.currentIndex),cr)})}static ngTemplateContextGuard(st,vn){return!0}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(r._q3))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),yt})();function Ai(Ee,yt){Ee.context.$implicit=yt.item}let pi=(()=>{var Ee;class yt{constructor(st,vn){this._viewContainer=st,this._context=new di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=vn}set ngIf(st){this._context.$implicit=this._context.ngIf=st,this._updateView()}set ngIfThen(st){Zt("ngIfThen",st),this._thenTemplateRef=st,this._thenViewRef=null,this._updateView()}set ngIfElse(st){Zt("ngIfElse",st),this._elseTemplateRef=st,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(st,vn){return!0}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.c1b),r.rXU(r.C4Q))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),yt})();class di{constructor(){this.$implicit=null,this.ngIf=null}}function Zt(Ee,yt){if(yt&&!yt.createEmbeddedView)throw new Error(`${Ee} must be a TemplateRef, but received '${(0,r.Tbb)(yt)}'.`)}class Hn{constructor(yt,Sn){this._viewContainerRef=yt,this._templateRef=Sn,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(yt){yt&&!this._created?this.create():!yt&&this._created&&this.destroy()}}let hr=(()=>{var Ee;class yt{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(st){this._ngSwitch=st,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(st){this._defaultViews.push(st)}_matchCase(st){const vn=st===this._ngSwitch;return this._lastCasesMatched||=vn,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),vn}_updateDefaultCases(st){if(this._defaultViews.length>0&&st!==this._defaultUsed){this._defaultUsed=st;for(const vn of this._defaultViews)vn.enforceState(st)}}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),yt})(),Dr=(()=>{var Ee;class yt{constructor(st,vn,cr){this.ngSwitch=cr,cr._addCase(),this._view=new Hn(st,vn)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(hr,9))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),yt})(),qr=(()=>{var Ee;class yt{constructor(st,vn,cr){cr._addDefault(new Hn(st,vn))}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(hr,9))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngSwitchDefault",""]],standalone:!0}),yt})(),Ji=(()=>{var Ee;class yt{constructor(st,vn,cr){this._ngEl=st,this._differs=vn,this._renderer=cr,this._ngStyle=null,this._differ=null}set ngStyle(st){this._ngStyle=st,!this._differ&&st&&(this._differ=this._differs.find(st).create())}ngDoCheck(){if(this._differ){const st=this._differ.diff(this._ngStyle);st&&this._applyChanges(st)}}_setStyle(st,vn){const[cr,bi]=st.split("."),ao=-1===cr.indexOf("-")?void 0:r.czy.DashCase;null!=vn?this._renderer.setStyle(this._ngEl.nativeElement,cr,bi?`${vn}${bi}`:vn,ao):this._renderer.removeStyle(this._ngEl.nativeElement,cr,ao)}_applyChanges(st){st.forEachRemovedItem(vn=>this._setStyle(vn.key,null)),st.forEachAddedItem(vn=>this._setStyle(vn.key,vn.currentValue)),st.forEachChangedItem(vn=>this._setStyle(vn.key,vn.currentValue))}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.aKT),r.rXU(r.MKu),r.rXU(r.sFG))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),yt})(),Yt=(()=>{var Ee;class yt{constructor(st){this._viewContainerRef=st,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(st){if(this._shouldRecreateView(st)){const vn=this._viewContainerRef;if(this._viewRef&&vn.remove(vn.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const cr=this._createContextForwardProxy();this._viewRef=vn.createEmbeddedView(this.ngTemplateOutlet,cr,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(st){return!!st.ngTemplateOutlet||!!st.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(st,vn,cr)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,vn,cr),get:(st,vn,cr)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,vn,cr)}})}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.c1b))},Ee.\u0275dir=r.FsC({type:Ee,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.OA$]}),yt})();function Xn(Ee,yt){return new r.wOt(2100,!1)}class Rr{createSubscription(yt,Sn){return(0,r.O8t)(()=>yt.subscribe({next:Sn,error:st=>{throw st}}))}dispose(yt){(0,r.O8t)(()=>yt.unsubscribe())}}class ci{createSubscription(yt,Sn){return yt.then(Sn,st=>{throw st})}dispose(yt){}}const $i=new ci,Ao=new Rr;let go=(()=>{var Ee;class yt{constructor(st){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=st}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(st){if(!this._obj){if(st)try{this.markForCheckOnValueUpdate=!1,this._subscribe(st)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return st!==this._obj?(this._dispose(),this.transform(st)):this._latestValue}_subscribe(st){this._obj=st,this._strategy=this._selectStrategy(st),this._subscription=this._strategy.createSubscription(st,vn=>this._updateLatestValue(st,vn))}_selectStrategy(st){if((0,r.jNT)(st))return $i;if((0,r.zjR)(st))return Ao;throw Xn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(st,vn){st===this._obj&&(this._latestValue=vn,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.gRc,16))},Ee.\u0275pipe=r.EJ8({name:"async",type:Ee,pure:!1,standalone:!0}),yt})();const Yo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Po=(()=>{var Ee;class yt{transform(st){if(null==st)return null;if("string"!=typeof st)throw Xn();return st.replace(Yo,vn=>vn[0].toUpperCase()+vn.slice(1).toLowerCase())}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)},Ee.\u0275pipe=r.EJ8({name:"titlecase",type:Ee,pure:!0,standalone:!0}),yt})(),Ni=(()=>{var Ee;class yt{constructor(st){this._locale=st}transform(st,vn,cr){if(!function Lo(Ee){return!(null==Ee||""===Ee||Ee!=Ee)}(st))return null;cr||=this._locale;try{return function so(Ee,yt,Sn){return function _n(Ee,yt,Sn,st,vn,cr,bi=!1){let ao="",ls=!1;if(isFinite(Ee)){let Rs=function Or(Ee){let st,vn,cr,bi,ao,yt=Math.abs(Ee)+"",Sn=0;for((vn=yt.indexOf("."))>-1&&(yt=yt.replace(".","")),(cr=yt.search(/e/i))>0?(vn<0&&(vn=cr),vn+=+yt.slice(cr+1),yt=yt.substring(0,cr)):vn<0&&(vn=yt.length),cr=0;"0"===yt.charAt(cr);cr++);if(cr===(ao=yt.length))st=[0],vn=1;else{for(ao--;"0"===yt.charAt(ao);)ao--;for(vn-=cr,st=[],bi=0;cr<=ao;cr++,bi++)st[bi]=Number(yt.charAt(cr))}return vn>22&&(st=st.splice(0,21),Sn=vn-1,vn=1),{digits:st,exponent:Sn,integerLen:vn}}(Ee);bi&&(Rs=function ii(Ee){if(0===Ee.digits[0])return Ee;const yt=Ee.digits.length-Ee.integerLen;return Ee.exponent?Ee.exponent+=2:(0===yt?Ee.digits.push(0,0):1===yt&&Ee.digits.push(0),Ee.integerLen+=2),Ee}(Rs));let qs=yt.minInt,us=yt.minFrac,fa=yt.maxFrac;if(cr){const xs=cr.match(Gt);if(null===xs)throw new Error(`${cr} is not a valid digit info`);const pa=xs[1],Ys=xs[3],sa=xs[5];null!=pa&&(qs=Yi(pa)),null!=Ys&&(us=Yi(Ys)),null!=sa?fa=Yi(sa):null!=Ys&&us>fa&&(fa=us)}!function fi(Ee,yt,Sn){if(yt>Sn)throw new Error(`The minimum number of digits after fraction (${yt}) is higher than the maximum (${Sn}).`);let st=Ee.digits,vn=st.length-Ee.integerLen;const cr=Math.min(Math.max(yt,vn),Sn);let bi=cr+Ee.integerLen,ao=st[bi];if(bi>0){st.splice(Math.max(Ee.integerLen,bi));for(let us=bi;us<st.length;us++)st[us]=0}else{vn=Math.max(0,vn),Ee.integerLen=1,st.length=Math.max(1,bi=cr+1),st[0]=0;for(let us=1;us<bi;us++)st[us]=0}if(ao>=5)if(bi-1<0){for(let us=0;us>bi;us--)st.unshift(0),Ee.integerLen++;st.unshift(1),Ee.integerLen++}else st[bi-1]++;for(;vn<Math.max(0,cr);vn++)st.push(0);let ls=0!==cr;const Rs=yt+Ee.integerLen,qs=st.reduceRight(function(us,fa,hs,fs){return fs[hs]=(fa+=us)<10?fa:fa-10,ls&&(0===fs[hs]&&hs>=Rs?fs.pop():ls=!1),fa>=10?1:0},0);qs&&(st.unshift(qs),Ee.integerLen++)}(Rs,us,fa);let hs=Rs.digits,fs=Rs.integerLen;const Fo=Rs.exponent;let Ki=[];for(ls=hs.every(xs=>!xs);fs<qs;fs++)hs.unshift(0);for(;fs<0;fs++)hs.unshift(0);fs>0?Ki=hs.splice(fs,hs.length):(Ki=hs,hs=[0]);const Do=[];for(hs.length>=yt.lgSize&&Do.unshift(hs.splice(-yt.lgSize,hs.length).join(""));hs.length>yt.gSize;)Do.unshift(hs.splice(-yt.gSize,hs.length).join(""));hs.length&&Do.unshift(hs.join("")),ao=Do.join(Ht(Sn,st)),Ki.length&&(ao+=Ht(Sn,vn)+Ki.join("")),Fo&&(ao+=Ht(Sn,Qe.Exponential)+"+"+Fo)}else ao=Ht(Sn,Qe.Infinity);return ao=Ee<0&&!ls?yt.negPre+ao+yt.negSuf:yt.posPre+ao+yt.posSuf,ao}(Ee,function Cr(Ee,yt="-"){const Sn={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},st=Ee.split(";"),vn=st[0],cr=st[1],bi=-1!==vn.indexOf(".")?vn.split("."):[vn.substring(0,vn.lastIndexOf("0")+1),vn.substring(vn.lastIndexOf("0")+1)],ao=bi[0],ls=bi[1]||"";Sn.posPre=ao.substring(0,ao.indexOf("#"));for(let qs=0;qs<ls.length;qs++){const us=ls.charAt(qs);"0"===us?Sn.minFrac=Sn.maxFrac=qs+1:"#"===us?Sn.maxFrac=qs+1:Sn.posSuf+=us}const Rs=ao.split(",");if(Sn.gSize=Rs[1]?Rs[1].length:0,Sn.lgSize=Rs[2]||Rs[1]?(Rs[2]||Rs[1]).length:0,cr){const qs=vn.length-Sn.posPre.length-Sn.posSuf.length,us=cr.indexOf("#");Sn.negPre=cr.substring(0,us).replace(/'/g,""),Sn.negSuf=cr.slice(us+qs).replace(/'/g,"")}else Sn.negPre=yt+Sn.posPre,Sn.negSuf=Sn.posSuf;return Sn}(function ln(Ee,yt){return(0,r.H5H)(Ee)[r.KH2.NumberFormats][yt]}(yt,j.Decimal),Ht(yt,Qe.MinusSign)),yt,Qe.Group,Qe.Decimal,Sn)}(function lo(Ee){if("string"==typeof Ee&&!isNaN(Number(Ee)-parseFloat(Ee)))return Number(Ee);if("number"!=typeof Ee)throw new Error(`${Ee} is not a number`);return Ee}(st),cr,vn)}catch(bi){throw Xn()}}}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)(r.rXU(r.xe9,16))},Ee.\u0275pipe=r.EJ8({name:"number",type:Ee,pure:!0,standalone:!0}),yt})();let Ws=(()=>{var Ee;class yt{}return(Ee=yt).\u0275fac=function(st){return new(st||Ee)},Ee.\u0275mod=r.$C({type:Ee}),Ee.\u0275inj=r.G2t({}),yt})();const cs="browser",Ns="server";function Go(Ee){return Ee===cs}function Aa(Ee){return Ee===Ns}let Vs=(()=>{var Ee;class yt{}return(Ee=yt).\u0275prov=(0,r.jDH)({token:Ee,providedIn:"root",factory:()=>Go((0,r.WQX)(r.Agw))?new ds((0,r.WQX)(u),window):new Jn}),yt})();class ds{constructor(yt,Sn){this.document=yt,this.window=Sn,this.offset=()=>[0,0]}setOffset(yt){this.offset=Array.isArray(yt)?()=>yt:yt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(yt){this.window.scrollTo(yt[0],yt[1])}scrollToAnchor(yt){const Sn=function Xs(Ee,yt){const Sn=Ee.getElementById(yt)||Ee.getElementsByName(yt)[0];if(Sn)return Sn;if("function"==typeof Ee.createTreeWalker&&Ee.body&&"function"==typeof Ee.body.attachShadow){const st=Ee.createTreeWalker(Ee.body,NodeFilter.SHOW_ELEMENT);let vn=st.currentNode;for(;vn;){const cr=vn.shadowRoot;if(cr){const bi=cr.getElementById(yt)||cr.querySelector(`[name="${yt}"]`);if(bi)return bi}vn=st.nextNode()}}return null}(this.document,yt);Sn&&(this.scrollToElement(Sn),Sn.focus())}setHistoryScrollRestoration(yt){this.window.history.scrollRestoration=yt}scrollToElement(yt){const Sn=yt.getBoundingClientRect(),st=Sn.left+this.window.pageXOffset,vn=Sn.top+this.window.pageYOffset,cr=this.offset();this.window.scrollTo(st-cr[0],vn-cr[1])}}class Jn{setOffset(yt){}getScrollPosition(){return[0,0]}scrollToPosition(yt){}scrollToAnchor(yt){}setHistoryScrollRestoration(yt){}}class rr{}},1626:(en,ot,w)=>{"use strict";w.d(ot,{Lr:()=>D,Nl:()=>q,Qq:()=>Pe,a7:()=>B,cS:()=>ve,q1:()=>Cn}),w(8407);var x=w(4438),f=w(5877),b=w(2573),E=w(1472),C=w(6758),u=w(4264),F=w(6110),S=w(5152),U=w(2914),O=w(177);class y{}class _{}class D{constructor(_t){this.normalizedNames=new Map,this.lazyUpdate=null,_t?"string"==typeof _t?this.lazyInit=()=>{this.headers=new Map,_t.split("\n").forEach(an=>{const _e=an.indexOf(":");if(_e>0){const Dt=an.slice(0,_e),on=Dt.toLowerCase(),Un=an.slice(_e+1).trim();this.maybeSetNormalizedName(Dt,on),this.headers.has(on)?this.headers.get(on).push(Un):this.headers.set(on,[Un])}})}:typeof Headers<"u"&&_t instanceof Headers?(this.headers=new Map,_t.forEach((an,_e)=>{this.setHeaderEntries(_e,an)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_t).forEach(([an,_e])=>{this.setHeaderEntries(an,_e)})}:this.headers=new Map}has(_t){return this.init(),this.headers.has(_t.toLowerCase())}get(_t){this.init();const an=this.headers.get(_t.toLowerCase());return an&&an.length>0?an[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_t){return this.init(),this.headers.get(_t.toLowerCase())||null}append(_t,an){return this.clone({name:_t,value:an,op:"a"})}set(_t,an){return this.clone({name:_t,value:an,op:"s"})}delete(_t,an){return this.clone({name:_t,value:an,op:"d"})}maybeSetNormalizedName(_t,an){this.normalizedNames.has(an)||this.normalizedNames.set(an,_t)}init(){this.lazyInit&&(this.lazyInit instanceof D?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_t=>this.applyUpdate(_t)),this.lazyUpdate=null))}copyFrom(_t){_t.init(),Array.from(_t.headers.keys()).forEach(an=>{this.headers.set(an,_t.headers.get(an)),this.normalizedNames.set(an,_t.normalizedNames.get(an))})}clone(_t){const an=new D;return an.lazyInit=this.lazyInit&&this.lazyInit instanceof D?this.lazyInit:this,an.lazyUpdate=(this.lazyUpdate||[]).concat([_t]),an}applyUpdate(_t){const an=_t.name.toLowerCase();switch(_t.op){case"a":case"s":let _e=_t.value;if("string"==typeof _e&&(_e=[_e]),0===_e.length)return;this.maybeSetNormalizedName(_t.name,an);const Dt=("a"===_t.op?this.headers.get(an):void 0)||[];Dt.push(..._e),this.headers.set(an,Dt);break;case"d":const on=_t.value;if(on){let Un=this.headers.get(an);if(!Un)return;Un=Un.filter(qn=>-1===on.indexOf(qn)),0===Un.length?(this.headers.delete(an),this.normalizedNames.delete(an)):this.headers.set(an,Un)}else this.headers.delete(an),this.normalizedNames.delete(an)}}setHeaderEntries(_t,an){const _e=(Array.isArray(an)?an:[an]).map(on=>on.toString()),Dt=_t.toLowerCase();this.headers.set(Dt,_e),this.maybeSetNormalizedName(_t,Dt)}forEach(_t){this.init(),Array.from(this.normalizedNames.keys()).forEach(an=>_t(this.normalizedNames.get(an),this.headers.get(an)))}}class K{encodeKey(_t){return le(_t)}encodeValue(_t){return le(_t)}decodeKey(_t){return decodeURIComponent(_t)}decodeValue(_t){return decodeURIComponent(_t)}}const ie=/%(\d[a-f0-9])/gi,ae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function le(Ve){return encodeURIComponent(Ve).replace(ie,(_t,an)=>ae[an]??_t)}function fe(Ve){return`${Ve}`}class q{constructor(_t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_t.encoder||new K,_t.fromString){if(_t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function L(Ve,_t){const an=new Map;return Ve.length>0&&Ve.replace(/^\?/,"").split("&").forEach(Dt=>{const on=Dt.indexOf("="),[Un,qn]=-1==on?[_t.decodeKey(Dt),""]:[_t.decodeKey(Dt.slice(0,on)),_t.decodeValue(Dt.slice(on+1))],Gr=an.get(Un)||[];Gr.push(qn),an.set(Un,Gr)}),an}(_t.fromString,this.encoder)}else _t.fromObject?(this.map=new Map,Object.keys(_t.fromObject).forEach(an=>{const _e=_t.fromObject[an],Dt=Array.isArray(_e)?_e.map(fe):[fe(_e)];this.map.set(an,Dt)})):this.map=null}has(_t){return this.init(),this.map.has(_t)}get(_t){this.init();const an=this.map.get(_t);return an?an[0]:null}getAll(_t){return this.init(),this.map.get(_t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_t,an){return this.clone({param:_t,value:an,op:"a"})}appendAll(_t){const an=[];return Object.keys(_t).forEach(_e=>{const Dt=_t[_e];Array.isArray(Dt)?Dt.forEach(on=>{an.push({param:_e,value:on,op:"a"})}):an.push({param:_e,value:Dt,op:"a"})}),this.clone(an)}set(_t,an){return this.clone({param:_t,value:an,op:"s"})}delete(_t,an){return this.clone({param:_t,value:an,op:"d"})}toString(){return this.init(),this.keys().map(_t=>{const an=this.encoder.encodeKey(_t);return this.map.get(_t).map(_e=>an+"="+this.encoder.encodeValue(_e)).join("&")}).filter(_t=>""!==_t).join("&")}clone(_t){const an=new q({encoder:this.encoder});return an.cloneFrom=this.cloneFrom||this,an.updates=(this.updates||[]).concat(_t),an}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_t=>this.map.set(_t,this.cloneFrom.map.get(_t))),this.updates.forEach(_t=>{switch(_t.op){case"a":case"s":const an=("a"===_t.op?this.map.get(_t.param):void 0)||[];an.push(fe(_t.value)),this.map.set(_t.param,an);break;case"d":if(void 0===_t.value){this.map.delete(_t.param);break}{let _e=this.map.get(_t.param)||[];const Dt=_e.indexOf(fe(_t.value));-1!==Dt&&_e.splice(Dt,1),_e.length>0?this.map.set(_t.param,_e):this.map.delete(_t.param)}}}),this.cloneFrom=this.updates=null)}}class j{constructor(){this.map=new Map}set(_t,an){return this.map.set(_t,an),this}get(_t){return this.map.has(_t)||this.map.set(_t,_t.defaultValue()),this.map.get(_t)}delete(_t){return this.map.delete(_t),this}has(_t){return this.map.has(_t)}keys(){return this.map.keys()}}function ee(Ve){return typeof ArrayBuffer<"u"&&Ve instanceof ArrayBuffer}function be(Ve){return typeof Blob<"u"&&Ve instanceof Blob}function Se(Ve){return typeof FormData<"u"&&Ve instanceof FormData}class nt{constructor(_t,an,_e,Dt){let on;if(this.url=an,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_t.toUpperCase(),function Q(Ve){switch(Ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dt?(this.body=void 0!==_e?_e:null,on=Dt):on=_e,on&&(this.reportProgress=!!on.reportProgress,this.withCredentials=!!on.withCredentials,on.responseType&&(this.responseType=on.responseType),on.headers&&(this.headers=on.headers),on.context&&(this.context=on.context),on.params&&(this.params=on.params),this.transferCache=on.transferCache),this.headers??=new D,this.context??=new j,this.params){const Un=this.params.toString();if(0===Un.length)this.urlWithParams=an;else{const qn=an.indexOf("?");this.urlWithParams=an+(-1===qn?"?":qn<an.length-1?"&":"")+Un}}else this.params=new q,this.urlWithParams=an}serializeBody(){return null===this.body?null:"string"==typeof this.body||ee(this.body)||be(this.body)||Se(this.body)||function Qe(Ve){return typeof URLSearchParams<"u"&&Ve instanceof URLSearchParams}(this.body)?this.body:this.body instanceof q?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Se(this.body)?null:be(this.body)?this.body.type||null:ee(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof q?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_t={}){const an=_t.method||this.method,_e=_t.url||this.url,Dt=_t.responseType||this.responseType,on=_t.transferCache??this.transferCache,Un=void 0!==_t.body?_t.body:this.body,qn=_t.withCredentials??this.withCredentials,Gr=_t.reportProgress??this.reportProgress;let Ai=_t.headers||this.headers,Mi=_t.params||this.params;const pi=_t.context??this.context;return void 0!==_t.setHeaders&&(Ai=Object.keys(_t.setHeaders).reduce((di,Zt)=>di.set(Zt,_t.setHeaders[Zt]),Ai)),_t.setParams&&(Mi=Object.keys(_t.setParams).reduce((di,Zt)=>di.set(Zt,_t.setParams[Zt]),Mi)),new nt(an,_e,Un,{params:Mi,headers:Ai,context:pi,reportProgress:Gr,responseType:Dt,withCredentials:qn,transferCache:on})}}var De=function(Ve){return Ve[Ve.Sent=0]="Sent",Ve[Ve.UploadProgress=1]="UploadProgress",Ve[Ve.ResponseHeader=2]="ResponseHeader",Ve[Ve.DownloadProgress=3]="DownloadProgress",Ve[Ve.Response=4]="Response",Ve[Ve.User=5]="User",Ve}(De||{});class ut{constructor(_t,an=V.Ok,_e="OK"){this.headers=_t.headers||new D,this.status=void 0!==_t.status?_t.status:an,this.statusText=_t.statusText||_e,this.url=_t.url||null,this.ok=this.status>=200&&this.status<300}}class Ft extends ut{constructor(_t={}){super(_t),this.type=De.ResponseHeader}clone(_t={}){return new Ft({headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class ve extends ut{constructor(_t={}){super(_t),this.type=De.Response,this.body=void 0!==_t.body?_t.body:null}clone(_t={}){return new ve({body:void 0!==_t.body?_t.body:this.body,headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class I extends ut{constructor(_t){super(_t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_t.url||"(unknown url)"}`:`Http failure response for ${_t.url||"(unknown url)"}: ${_t.status} ${_t.statusText}`,this.error=_t.error||null}}var V=function(Ve){return Ve[Ve.Continue=100]="Continue",Ve[Ve.SwitchingProtocols=101]="SwitchingProtocols",Ve[Ve.Processing=102]="Processing",Ve[Ve.EarlyHints=103]="EarlyHints",Ve[Ve.Ok=200]="Ok",Ve[Ve.Created=201]="Created",Ve[Ve.Accepted=202]="Accepted",Ve[Ve.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",Ve[Ve.NoContent=204]="NoContent",Ve[Ve.ResetContent=205]="ResetContent",Ve[Ve.PartialContent=206]="PartialContent",Ve[Ve.MultiStatus=207]="MultiStatus",Ve[Ve.AlreadyReported=208]="AlreadyReported",Ve[Ve.ImUsed=226]="ImUsed",Ve[Ve.MultipleChoices=300]="MultipleChoices",Ve[Ve.MovedPermanently=301]="MovedPermanently",Ve[Ve.Found=302]="Found",Ve[Ve.SeeOther=303]="SeeOther",Ve[Ve.NotModified=304]="NotModified",Ve[Ve.UseProxy=305]="UseProxy",Ve[Ve.Unused=306]="Unused",Ve[Ve.TemporaryRedirect=307]="TemporaryRedirect",Ve[Ve.PermanentRedirect=308]="PermanentRedirect",Ve[Ve.BadRequest=400]="BadRequest",Ve[Ve.Unauthorized=401]="Unauthorized",Ve[Ve.PaymentRequired=402]="PaymentRequired",Ve[Ve.Forbidden=403]="Forbidden",Ve[Ve.NotFound=404]="NotFound",Ve[Ve.MethodNotAllowed=405]="MethodNotAllowed",Ve[Ve.NotAcceptable=406]="NotAcceptable",Ve[Ve.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",Ve[Ve.RequestTimeout=408]="RequestTimeout",Ve[Ve.Conflict=409]="Conflict",Ve[Ve.Gone=410]="Gone",Ve[Ve.LengthRequired=411]="LengthRequired",Ve[Ve.PreconditionFailed=412]="PreconditionFailed",Ve[Ve.PayloadTooLarge=413]="PayloadTooLarge",Ve[Ve.UriTooLong=414]="UriTooLong",Ve[Ve.UnsupportedMediaType=415]="UnsupportedMediaType",Ve[Ve.RangeNotSatisfiable=416]="RangeNotSatisfiable",Ve[Ve.ExpectationFailed=417]="ExpectationFailed",Ve[Ve.ImATeapot=418]="ImATeapot",Ve[Ve.MisdirectedRequest=421]="MisdirectedRequest",Ve[Ve.UnprocessableEntity=422]="UnprocessableEntity",Ve[Ve.Locked=423]="Locked",Ve[Ve.FailedDependency=424]="FailedDependency",Ve[Ve.TooEarly=425]="TooEarly",Ve[Ve.UpgradeRequired=426]="UpgradeRequired",Ve[Ve.PreconditionRequired=428]="PreconditionRequired",Ve[Ve.TooManyRequests=429]="TooManyRequests",Ve[Ve.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",Ve[Ve.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",Ve[Ve.InternalServerError=500]="InternalServerError",Ve[Ve.NotImplemented=501]="NotImplemented",Ve[Ve.BadGateway=502]="BadGateway",Ve[Ve.ServiceUnavailable=503]="ServiceUnavailable",Ve[Ve.GatewayTimeout=504]="GatewayTimeout",Ve[Ve.HttpVersionNotSupported=505]="HttpVersionNotSupported",Ve[Ve.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",Ve[Ve.InsufficientStorage=507]="InsufficientStorage",Ve[Ve.LoopDetected=508]="LoopDetected",Ve[Ve.NotExtended=510]="NotExtended",Ve[Ve.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",Ve}(V||{});function ge(Ve,_t){return{body:_t,headers:Ve.headers,context:Ve.context,observe:Ve.observe,params:Ve.params,reportProgress:Ve.reportProgress,responseType:Ve.responseType,withCredentials:Ve.withCredentials,transferCache:Ve.transferCache}}let Pe=(()=>{var Ve;class _t{constructor(_e){this.handler=_e}request(_e,Dt,on={}){let Un;if(_e instanceof nt)Un=_e;else{let Ai,Mi;Ai=on.headers instanceof D?on.headers:new D(on.headers),on.params&&(Mi=on.params instanceof q?on.params:new q({fromObject:on.params})),Un=new nt(_e,Dt,void 0!==on.body?on.body:null,{headers:Ai,context:on.context,params:Mi,reportProgress:on.reportProgress,responseType:on.responseType||"json",withCredentials:on.withCredentials,transferCache:on.transferCache})}const qn=(0,f.of)(Un).pipe((0,C.H)(Ai=>this.handler.handle(Ai)));if(_e instanceof nt||"events"===on.observe)return qn;const Gr=qn.pipe((0,u.p)(Ai=>Ai instanceof ve));switch(on.observe||"body"){case"body":switch(Un.responseType){case"arraybuffer":return Gr.pipe((0,F.T)(Ai=>{if(null!==Ai.body&&!(Ai.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ai.body}));case"blob":return Gr.pipe((0,F.T)(Ai=>{if(null!==Ai.body&&!(Ai.body instanceof Blob))throw new Error("Response is not a Blob.");return Ai.body}));case"text":return Gr.pipe((0,F.T)(Ai=>{if(null!==Ai.body&&"string"!=typeof Ai.body)throw new Error("Response is not a string.");return Ai.body}));default:return Gr.pipe((0,F.T)(Ai=>Ai.body))}case"response":return Gr;default:throw new Error(`Unreachable: unhandled observe type ${on.observe}}`)}}delete(_e,Dt={}){return this.request("DELETE",_e,Dt)}get(_e,Dt={}){return this.request("GET",_e,Dt)}head(_e,Dt={}){return this.request("HEAD",_e,Dt)}jsonp(_e,Dt){return this.request("JSONP",_e,{params:(new q).append(Dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_e,Dt={}){return this.request("OPTIONS",_e,Dt)}patch(_e,Dt,on={}){return this.request("PATCH",_e,ge(on,Dt))}post(_e,Dt,on={}){return this.request("POST",_e,ge(on,Dt))}put(_e,Dt,on={}){return this.request("PUT",_e,ge(on,Dt))}}return(Ve=_t).\u0275fac=function(_e){return new(_e||Ve)(x.KVO(y))},Ve.\u0275prov=x.jDH({token:Ve,factory:Ve.\u0275fac}),_t})();function Ot(Ve,_t){return _t(Ve)}function ye(Ve,_t){return(an,_e)=>_t.intercept(an,{handle:Dt=>Ve(Dt,_e)})}const B=new x.nKC(""),R=new x.nKC(""),N=new x.nKC(""),Y=new x.nKC("");function h(){let Ve=null;return(_t,an)=>{null===Ve&&(Ve=((0,x.WQX)(B,{optional:!0})??[]).reduceRight(ye,Ot));const _e=(0,x.WQX)(x.TgB),Dt=_e.add();return Ve(_t,an).pipe((0,S.j)(()=>_e.remove(Dt)))}}let z=(()=>{var Ve;class _t extends y{constructor(_e,Dt){super(),this.backend=_e,this.injector=Dt,this.chain=null,this.pendingTasks=(0,x.WQX)(x.TgB);const on=(0,x.WQX)(Y,{optional:!0});this.backend=on??_e}handle(_e){if(null===this.chain){const on=Array.from(new Set([...this.injector.get(R),...this.injector.get(N,[])]));this.chain=on.reduceRight((Un,qn)=>function P(Ve,_t,an){return(_e,Dt)=>(0,x.N4e)(an,()=>_t(_e,on=>Ve(on,Dt)))}(Un,qn,this.injector),Ot)}const Dt=this.pendingTasks.add();return this.chain(_e,on=>this.backend.handle(on)).pipe((0,S.j)(()=>this.pendingTasks.remove(Dt)))}}return(Ve=_t).\u0275fac=function(_e){return new(_e||Ve)(x.KVO(_),x.KVO(x.uvJ))},Ve.\u0275prov=x.jDH({token:Ve,factory:Ve.\u0275fac}),_t})();const Qt=/^\)\]\}',?\n/;let pt=(()=>{var Ve;class _t{constructor(_e){this.xhrFactory=_e}handle(_e){if("JSONP"===_e.method)throw new x.wOt(-2800,!1);const Dt=this.xhrFactory;return(Dt.\u0275loadImpl?(0,E.H)(Dt.\u0275loadImpl()):(0,f.of)(null)).pipe((0,U.n)(()=>new b.c(Un=>{const qn=Dt.build();if(qn.open(_e.method,_e.urlWithParams),_e.withCredentials&&(qn.withCredentials=!0),_e.headers.forEach((hr,Dr)=>qn.setRequestHeader(hr,Dr.join(","))),_e.headers.has("Accept")||qn.setRequestHeader("Accept","application/json, text/plain, */*"),!_e.headers.has("Content-Type")){const hr=_e.detectContentTypeHeader();null!==hr&&qn.setRequestHeader("Content-Type",hr)}if(_e.responseType){const hr=_e.responseType.toLowerCase();qn.responseType="json"!==hr?hr:"text"}const Gr=_e.serializeBody();let Ai=null;const Mi=()=>{if(null!==Ai)return Ai;const hr=qn.statusText||"OK",Dr=new D(qn.getAllResponseHeaders()),qr=function Ke(Ve){return"responseURL"in Ve&&Ve.responseURL?Ve.responseURL:/^X-Request-URL:/m.test(Ve.getAllResponseHeaders())?Ve.getResponseHeader("X-Request-URL"):null}(qn)||_e.url;return Ai=new Ft({headers:Dr,status:qn.status,statusText:hr,url:qr}),Ai},pi=()=>{let{headers:hr,status:Dr,statusText:qr,url:Bi}=Mi(),hi=null;Dr!==V.NoContent&&(hi=typeof qn.response>"u"?qn.responseText:qn.response),0===Dr&&(Dr=hi?V.Ok:0);let po=Dr>=200&&Dr<300;if("json"===_e.responseType&&"string"==typeof hi){const Ro=hi;hi=hi.replace(Qt,"");try{hi=""!==hi?JSON.parse(hi):null}catch(Ji){hi=Ro,po&&(po=!1,hi={error:Ji,text:hi})}}po?(Un.next(new ve({body:hi,headers:hr,status:Dr,statusText:qr,url:Bi||void 0})),Un.complete()):Un.error(new I({error:hi,headers:hr,status:Dr,statusText:qr,url:Bi||void 0}))},di=hr=>{const{url:Dr}=Mi(),qr=new I({error:hr,status:qn.status||0,statusText:qn.statusText||"Unknown Error",url:Dr||void 0});Un.error(qr)};let Zt=!1;const Tn=hr=>{Zt||(Un.next(Mi()),Zt=!0);let Dr={type:De.DownloadProgress,loaded:hr.loaded};hr.lengthComputable&&(Dr.total=hr.total),"text"===_e.responseType&&qn.responseText&&(Dr.partialText=qn.responseText),Un.next(Dr)},Hn=hr=>{let Dr={type:De.UploadProgress,loaded:hr.loaded};hr.lengthComputable&&(Dr.total=hr.total),Un.next(Dr)};return qn.addEventListener("load",pi),qn.addEventListener("error",di),qn.addEventListener("timeout",di),qn.addEventListener("abort",di),_e.reportProgress&&(qn.addEventListener("progress",Tn),null!==Gr&&qn.upload&&qn.upload.addEventListener("progress",Hn)),qn.send(Gr),Un.next({type:De.Sent}),()=>{qn.removeEventListener("error",di),qn.removeEventListener("abort",di),qn.removeEventListener("load",pi),qn.removeEventListener("timeout",di),_e.reportProgress&&(qn.removeEventListener("progress",Tn),null!==Gr&&qn.upload&&qn.upload.removeEventListener("progress",Hn)),qn.readyState!==qn.DONE&&qn.abort()}})))}}return(Ve=_t).\u0275fac=function(_e){return new(_e||Ve)(x.KVO(O.N0))},Ve.\u0275prov=x.jDH({token:Ve,factory:Ve.\u0275fac}),_t})();const Tt=new x.nKC(""),Lt=new x.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gn=new x.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ln{}let $n=(()=>{var Ve;class _t{constructor(_e,Dt,on){this.doc=_e,this.platform=Dt,this.cookieName=on,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const _e=this.doc.cookie||"";return _e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(_e,this.cookieName),this.lastCookieString=_e),this.lastToken}}return(Ve=_t).\u0275fac=function(_e){return new(_e||Ve)(x.KVO(O.qQ),x.KVO(x.Agw),x.KVO(Lt))},Ve.\u0275prov=x.jDH({token:Ve,factory:Ve.\u0275fac}),_t})();function gr(Ve,_t){const an=Ve.url.toLowerCase();if(!(0,x.WQX)(Tt)||"GET"===Ve.method||"HEAD"===Ve.method||an.startsWith("http://")||an.startsWith("https://"))return _t(Ve);const _e=(0,x.WQX)(Ln).getToken(),Dt=(0,x.WQX)(gn);return null!=_e&&!Ve.headers.has(Dt)&&(Ve=Ve.clone({headers:Ve.headers.set(Dt,_e)})),_t(Ve)}var St=function(Ve){return Ve[Ve.Interceptors=0]="Interceptors",Ve[Ve.LegacyInterceptors=1]="LegacyInterceptors",Ve[Ve.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ve[Ve.NoXsrfProtection=3]="NoXsrfProtection",Ve[Ve.JsonpSupport=4]="JsonpSupport",Ve[Ve.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ve[Ve.Fetch=6]="Fetch",Ve}(St||{});function Fe(Ve,_t){return{\u0275kind:Ve,\u0275providers:_t}}function Ue(...Ve){const _t=[Pe,pt,z,{provide:y,useExisting:z},{provide:_,useExisting:pt},{provide:R,useValue:gr,multi:!0},{provide:Tt,useValue:!0},{provide:Ln,useClass:$n}];for(const an of Ve)_t.push(...an.\u0275providers);return(0,x.EmA)(_t)}const me=new x.nKC("");let Cn=(()=>{var Ve;class _t{}return(Ve=_t).\u0275fac=function(_e){return new(_e||Ve)},Ve.\u0275mod=x.$C({type:Ve}),Ve.\u0275inj=x.G2t({providers:[Ue(Fe(St.LegacyInterceptors,[{provide:me,useFactory:h},{provide:R,useExisting:me,multi:!0}]))]}),_t})()},583:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["de",[["AM","PM"],r,r],r,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],r,r],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} 'um' {0}",r],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[r,"\u0440."],CUC:[r,"Cub$"],DEM:["DM"],FKP:[r,"Fl\xa3"],GHS:[r,"\u20b5"],GNF:[r,"F.G."],KMF:[r,"FC"],PHP:[r,"\u20b1"],RON:[r,"L"],RUR:[r,"\u0440."],RWF:[r,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[r,"K"]},"ltr",function x(b){const C=Math.floor(Math.abs(b)),u=b.toString().replace(/^[^.]*\.?/,"").length;return 1===C&&0===u?1:5}]},7522:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function x(b){const E=b,C=Math.floor(Math.abs(b)),u=b.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(b.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===E?1:0===F&&0!==C&&C%1e6==0&&0===u||!(F>=0&&F<=5)?4:5}]},7078:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["fr",[["AM","PM"],r,r],r,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],r,[["av. J.-C.","ap. J.-C."],r,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",r],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[r,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[r,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[r,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[r,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[r,"\xa5"],KMF:[r,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[r,"$C"],NZD:["$NZ","$"],PHP:[r,"\u20b1"],RHD:["$RH"],RON:[r,"L"],RWF:[r,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[r,"$T"],TTD:["$TT","$"],TWD:[r,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[r,"$"],XPF:["FCFP"],ZMW:[r,"Kw"]},"ltr",function x(b){const C=Math.floor(Math.abs(b)),u=b.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(b.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===C||1===C?1:0===F&&0!==C&&C%1e6==0&&0===u||!(F>=0&&F<=5)?4:5}]},3649:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["it",[["m.","p."],["AM","PM"],r],r,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],r,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],r,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} {0}",r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[r,"R$"],BYN:[r,"Br"],EGP:[r,"\xa3E"],HKD:[r,"$"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NOK:[r,"NKr"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:[r,"$"],VND:[r,"\u20ab"]},"ltr",function x(b){const C=Math.floor(Math.abs(b)),u=b.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(b.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===C&&0===u?1:0===F&&0!==C&&C%1e6==0&&0===u||!(F>=0&&F<=5)?4:5}]},6030:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["ja",[["\u5348\u524d","\u5348\u5f8c"],r,r],r,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],r,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],r],r,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],r],0,[6,0],["y/MM/dd",r,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[r,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[r,"\u20b1"],RON:[r,"\u30ec\u30a4"],XXX:[]},"ltr",function x(b){return 5}]},8138:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["pt",[["AM","PM"],r,r],r,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],r,[["a.C.","d.C."],r,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[r,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[r,"\u20b1"],PTE:["Esc."],RON:[r,"L"],SYP:[r,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function x(b){const C=Math.floor(Math.abs(b)),u=b.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(b.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return C===Math.floor(C)&&C>=0&&C<=1?1:0===F&&0!==C&&C%1e6==0&&0===u||!(F>=0&&F<=5)?4:5}]},9512:(en,ot,w)=>{"use strict";w.d(ot,{A:()=>f});const r=void 0,f=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],r,r],r,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],r,[["\u516c\u5143\u524d","\u516c\u5143"],r,r],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",r,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[r,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[r,"\u20b1"],RUR:[r,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function x(b){return 5}]},4438:(en,ot,w)=>{"use strict";function x(e,t){return Object.is(e,t)}w.d(ot,{bc$:()=>mu,iLQ:()=>ky,sZ2:()=>ap,hnV:()=>pw,Hbi:()=>ES,o8S:()=>Ah,BIS:()=>vm,gRc:()=>Dw,Ql9:()=>XT,OM3:()=>Qm,Ocv:()=>nS,abz:()=>ml,Z63:()=>mr,aKT:()=>Wc,uvJ:()=>ht,zcH:()=>hc,bkB:()=>Ll,duS:()=>$r,y_5:()=>Ks,$GK:()=>go,nKC:()=>Dt,zZn:()=>Fl,_q3:()=>Hy,MKu:()=>Gy,xe9:()=>D_,Co$:()=>n0,Vns:()=>wf,SKi:()=>nl,Xx1:()=>Go,Agw:()=>nh,PLl:()=>ef,rOR:()=>Yu,sFG:()=>KC,_9s:()=>db,czy:()=>ul,WPN:()=>sc,kdw:()=>oa,C4Q:()=>$m,NYb:()=>jT,giA:()=>hw,RxE:()=>iw,c1b:()=>e_,gXe:()=>eo,mal:()=>_b,Af3:()=>ya,tdH:()=>QC,L39:()=>qS,EWP:()=>eI,Ol2:()=>Pv,w6W:()=>Y1,oH4:()=>ww,QZP:()=>iC,SmG:()=>aS,Rfq:()=>gr,WQX:()=>lo,hFB:()=>$c,Hps:()=>Tv,QuC:()=>nr,EmA:()=>Hi,Udg:()=>ZS,fpN:()=>xS,HJs:()=>sI,N4e:()=>Ms,vPA:()=>Nb,O8t:()=>tI,ebz:()=>I1,An2:()=>Qg,H3F:()=>ow,H8p:()=>bs,KH2:()=>em,TgB:()=>Fp,wOt:()=>M,WHO:()=>dw,e01:()=>uw,lNU:()=>h,h9k:()=>dh,$MX:()=>ro,ZF7:()=>Bn,Kcf:()=>dr,e5t:()=>ri,UyX:()=>Nr,cWb:()=>Gn,osQ:()=>Xr,H5H:()=>ay,Zy3:()=>Z,mq5:()=>ax,JZv:()=>Ke,LfX:()=>Yi,plB:()=>xh,jNT:()=>Oy,zjR:()=>fw,XSP:()=>SM,TL$:()=>mm,Tbb:()=>Xt,rcV:()=>Mn,Vt3:()=>Iv,Mj6:()=>yo,GFd:()=>t0,OA$:()=>Oc,Jv_:()=>xE,aNF:()=>EE,R7$:()=>Fg,BMQ:()=>zv,HbH:()=>z0,AVh:()=>qv,vxM:()=>ex,wni:()=>Yx,VBU:()=>mi,FsC:()=>qe,jDH:()=>Cr,G2t:()=>Or,$C:()=>xe,EJ8:()=>wt,rXU:()=>bh,nrm:()=>ry,eu8:()=>iy,bVm:()=>g_,qex:()=>m_,k0s:()=>p_,j41:()=>f_,RV6:()=>sx,xGo:()=>Gc,Mr5:()=>oy,pXf:()=>Ox,nnv:()=>Px,YFu:()=>uy,uP7:()=>hy,k04:()=>kx,PLo:()=>dy,KVO:()=>co,kS0:()=>Td,QTQ:()=>km,bIt:()=>fy,lsd:()=>Zx,joV:()=>Lu,qSk:()=>Sh,XpG:()=>Nx,nI1:()=>UE,bMT:()=>VE,i5U:()=>jE,SdG:()=>Ux,NAR:()=>Lx,Y8G:()=>Xv,lJ4:()=>AE,eq3:()=>ME,l_i:()=>DE,sMw:()=>TE,ziG:()=>SE,l4e:()=>IE,sGs:()=>RE,lV:()=>OE,zJS:()=>PE,NyB:()=>eE,mGM:()=>qx,sdS:()=>tE,Dyx:()=>rx,Z7z:()=>nx,fX1:()=>tx,Njj:()=>zs,EBC:()=>xp,tSv:()=>bp,eBV:()=>Ps,npT:()=>Ma,f$h:()=>Ud,B4B:()=>ys,n$t:()=>uf,wjB:()=>wE,Aen:()=>pd,xc7:()=>Qv,Kam:()=>py,zvX:()=>sy,DNE:()=>Bp,C5r:()=>HE,EFF:()=>uE,JRh:()=>_y,SpI:()=>x_,Lme:()=>vy,SjE:()=>yy,DH7:()=>yE,mxI:()=>xy,R50:()=>by,GBs:()=>Qx,wEZ:()=>Jx}),w(8407);let f=null,b=!1,E=1;const C=Symbol("SIGNAL");function u(e){const t=f;return f=e,t}const O={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function y(e){if(b)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const t=f.nextProducerIndex++;Q(f),t<f.producerNode.length&&f.producerNode[t]!==e&&j(f)&&$(f.producerNode[t],f.producerIndexOfThis[t]),f.producerNode[t]!==e&&(f.producerNode[t]=e,f.producerIndexOfThis[t]=j(f)?q(e,f,t):0),f.producerLastReadVersion[t]=e.version}function D(e){if((!j(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==E)){if(!e.producerMustRecompute(e)&&!le(e))return e.dirty=!1,void(e.lastCleanEpoch=E);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=E}}function W(e){if(void 0===e.liveConsumerNode)return;const t=b;b=!0;try{for(const n of e.liveConsumerNode)n.dirty||L(n)}finally{b=t}}function K(){return!1!==f?.consumerAllowSignalWrites}function L(e){e.dirty=!0,W(e),e.consumerMarkedDirty?.(e)}function ie(e){return e&&(e.nextProducerIndex=0),u(e)}function ae(e,t){if(u(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(j(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)$(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function le(e){Q(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(D(n),o!==n.version))return!0}return!1}function fe(e){if(Q(e),j(e))for(let t=0;t<e.producerNode.length;t++)$(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function q(e,t,n){if(ee(e),Q(e),0===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=q(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function $(e,t){if(ee(e),Q(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)$(e.producerNode[o],e.producerIndexOfThis[o]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Q(a),a.producerIndexOfThis[o]=t}}function j(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Q(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ee(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function be(e){const t=Object.create(De);t.computation=e;const n=()=>{if(D(t),y(t),t.value===nt)throw t.error;return t.value};return n[C]=t,n}const Se=Symbol("UNSET"),Qe=Symbol("COMPUTING"),nt=Symbol("ERRORED"),De={...O,value:Se,dirty:!0,error:null,equal:x,producerMustRecompute:e=>e.value===Se||e.value===Qe,producerRecomputeValue(e){if(e.value===Qe)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Qe;const n=ie(e);let o;try{o=e.computation()}catch(a){o=nt,e.error=a}finally{ae(e,n)}t!==Se&&t!==nt&&o!==nt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Ft=function ut(){throw new Error};function ve(){Ft()}let V=null;function xt(e,t){K()||ve(),e.equal(e.value,t)||(e.value=t,function Bt(e){e.version++,function _(){E++}(),W(e),V?.()}(e))}const ln={...O,equal:x,value:void 0};const Ze=()=>{},Ot={...O,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Ze};var P=w(5052),B=w(1027),R=w(9160),N=w(6110);const h="https://g.co/ng/security#xss";class M extends Error{constructor(t,n){super(Z(t,n)),this.code=t}}function Z(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const z=Symbol("InputSignalNode#UNSET"),H={...ln,transformFn:void 0,applyValueToInputSignal(e,t){xt(e,t)}};function He(e,t){const n=Object.create(H);function o(){if(y(n),n.value===z)throw new M(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,o[C]=n,o}function rt(e){return{toString:e}.toString()}const It="__parameters__";function At(e,t,n){return rt(()=>{const o=function dt(e){return function(...n){if(e){const o=e(...n);for(const a in o)this[a]=o[a]}}}(t);function a(...g){if(this instanceof a)return o.apply(this,g),this;const k=new a(...g);return ne.annotation=k,ne;function ne(Ae,Et,$t){const En=Ae.hasOwnProperty(It)?Ae[It]:Object.defineProperty(Ae,It,{value:[]})[It];for(;En.length<=$t;)En.push(null);return(En[$t]=En[$t]||[]).push(k),Ae}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Ke=globalThis;function $e(e){for(let t in e)if(e[t]===$e)return t;throw Error("Could not find renamed property on target object.")}function Lt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Xt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Xt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function gn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $n=$e({__forward_ref__:$e});function gr(e){return e.__forward_ref__=gr,e.toString=function(){return Xt(this())},e}function sn(e){return St(e)?e():e}function St(e){return"function"==typeof e&&e.hasOwnProperty($n)&&e.__forward_ref__===gr}function it(e,t,n){e!=t&&function _r(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(n,e,t,"==")}function Cr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Or(e){return{providers:e.providers||[],imports:e.imports||[]}}function fi(e){return ho(e,Ve)||ho(e,an)}function Yi(e){return null!==fi(e)}function ho(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qi(e){return e&&(e.hasOwnProperty(_t)||e.hasOwnProperty(_e))?e[_t]:null}const Ve=$e({\u0275prov:$e}),_t=$e({\u0275inj:$e}),an=$e({ngInjectableDef:$e}),_e=$e({ngInjectorDef:$e});class Dt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Cr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hn(e){return e&&!!e.\u0275providers}const hr=$e({\u0275cmp:$e}),Dr=$e({\u0275dir:$e}),qr=$e({\u0275pipe:$e}),Bi=$e({\u0275mod:$e}),hi=$e({\u0275fac:$e}),po=$e({__NG_ELEMENT_ID__:$e}),Ro=$e({__NG_ENV_ID__:$e});function Ji(e){return"string"==typeof e?e:null==e?"":String(e)}function Ao(e,t){throw new M(-201,!1)}var go=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(go||{});let ko;function Yo(){return ko}function Po(e){const t=ko;return ko=e,t}function ss(e,t,n){const o=fi(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&go.Optional?null:void 0!==t?t:void Ao()}const ts={},Jo="__NG_DI_FLAG__",Us="ngTempTokenPath",Zn=/\n/gm,Ti="__source";let qi;function Ni(e){const t=qi;return qi=e,t}function ji(e,t=go.Default){if(void 0===qi)throw new M(-203,!1);return null===qi?ss(e,void 0,t):qi.get(e,t&go.Optional?null:void 0,t)}function co(e,t=go.Default){return(Yo()||ji)(sn(e),t)}function lo(e,t=go.Default){return co(e,Qo(t))}function Qo(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ta(e){const t=[];for(let n=0;n<e.length;n++){const o=sn(e[n]);if(Array.isArray(o)){if(0===o.length)throw new M(900,!1);let a,g=go.Default;for(let k=0;k<o.length;k++){const ne=o[k],Ae=cs(ne);"number"==typeof Ae?-1===Ae?a=ne.token:g|=Ae:a=ne}t.push(co(a,g))}else t.push(co(o))}return t}function Ws(e,t){return e[Jo]=t,e.prototype[Jo]=t,e}function cs(e){return e[Jo]}const Ks=Ws(At("Inject",e=>({token:e})),-1),Go=Ws(At("Optional"),8),oa=Ws(At("SkipSelf"),4);function Fs(e,t){return e.hasOwnProperty(hi)?e[hi]:null}function Xs(e,t){e.forEach(n=>Array.isArray(n)?Xs(n,t):t(n))}function Jn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ut(e,t,n){let o=Xe(e,t);return o>=0?e[1|o]=n:(o=~o,function mt(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(1===a)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function dn(e,t){const n=Xe(e,t);if(n>=0)return e[1|n]}function Xe(e,t){return function qt(e,t,n){let o=0,a=e.length>>n;for(;a!==o;){const g=o+(a-o>>1),k=e[g<<n];if(t===k)return g<<n;k>t?a=g:o=g+1}return~(a<<n)}(e,t,1)}const zn={},fr=[],mr=new Dt(""),$r=new Dt("",-1),jr=new Dt("");class li{get(t,n=ts){if(n===ts){const o=new Error(`NullInjectorError: No provider for ${Xt(t)}!`);throw o.name="NullInjectorError",o}return n}}var Wr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wr||{}),eo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(eo||{}),yo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yo||{});function Mo(e,t,n){let o=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const g=t.length;if(a+g===o||e.charCodeAt(a+g)<=32)return a}n=a+1}}function tt(e,t,n){let o=0;for(;o<n.length;){const a=n[o];if("number"==typeof a){if(0!==a)break;o++;const g=n[o++],k=n[o++],ne=n[o++];e.setAttribute(t,k,ne,g)}else{const g=a,k=n[++o];ce(g)?e.setProperty(t,g,k):e.setAttribute(t,g,k),o++}}return o}function re(e){return 3===e||4===e||6===e}function ce(e){return 64===e.charCodeAt(0)}function Je(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:0===n||Le(e,n,a,null,-1===n||2===n?t[++o]:null)}}return e}function Le(e,t,n,o,a){let g=0,k=e.length;if(-1===t)k=-1;else for(;g<e.length;){const ne=e[g++];if("number"==typeof ne){if(ne===t){k=-1;break}if(ne>t){k=g-1;break}}}for(;g<e.length;){const ne=e[g];if("number"==typeof ne)break;if(ne===n){if(null===o)return void(null!==a&&(e[g+1]=a));if(o===e[g+1])return void(e[g+2]=a)}g++,null!==o&&g++,null!==a&&g++}-1!==k&&(e.splice(k,0,t),g=k+1),e.splice(g++,0,n),null!==o&&e.splice(g++,0,o),null!==a&&e.splice(g++,0,a)}const Wt="ng-template";function yr(e,t,n,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Mo(t[a+1].toLowerCase(),n,0))return!0}else if(ti(e))return!1;if(a=t.indexOf(1,a),a>-1){let g;for(;++a<t.length&&"string"==typeof(g=t[a]);)if(g.toLowerCase()===n)return!0}return!1}function ti(e){return 4===e.type&&e.value!==Wt}function _o(e,t,n){return t===(4!==e.type||n?e.value:Wt)}function rn(e,t,n){let o=4;const a=e.attrs,g=null!==a?function An(e){for(let t=0;t<e.length;t++)if(re(e[t]))return t;return e.length}(a):0;let k=!1;for(let ne=0;ne<t.length;ne++){const Ae=t[ne];if("number"!=typeof Ae){if(!k)if(4&o){if(o=2|1&o,""!==Ae&&!_o(e,Ae,n)||""===Ae&&1===t.length){if(pe(o))return!1;k=!0}}else if(8&o){if(null===a||!yr(e,a,Ae,n)){if(pe(o))return!1;k=!0}}else{const Et=t[++ne],$t=Re(Ae,a,ti(e),n);if(-1===$t){if(pe(o))return!1;k=!0;continue}if(""!==Et){let En;if(En=$t>g?"":a[$t+1].toLowerCase(),2&o&&Et!==En){if(pe(o))return!1;k=!0}}}}else{if(!k&&!pe(o)&&!pe(Ae))return!1;if(k&&pe(Ae))continue;k=!1,o=Ae|1&o}}return pe(o)||k}function pe(e){return!(1&e)}function Re(e,t,n,o){if(null===t)return-1;let a=0;if(o||!n){let g=!1;for(;a<t.length;){const k=t[a];if(k===e)return a;if(3===k||6===k)g=!0;else{if(1===k||2===k){let ne=t[++a];for(;"string"==typeof ne;)ne=t[++a];continue}if(4===k)break;if(0===k){a+=4;continue}}a+=g?1:2}return-1}return function Kn(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function bt(e,t,n=!1){for(let o=0;o<t.length;o++)if(rn(e,t[o],n))return!0;return!1}function ar(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function Zr(e,t){return e?":not("+t.trim()+")":t}function si(e){let t=e[0],n=1,o=2,a="",g=!1;for(;n<e.length;){let k=e[n];if("string"==typeof k)if(2&o){const ne=e[++n];a+="["+k+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&o?a+="."+k:4&o&&(a+=" "+k);else""!==a&&!pe(k)&&(t+=Zr(g,a),a=""),o=k,g=g||!pe(o);n++}return""!==a&&(t+=Zr(g,a)),t}function mi(e){return rt(()=>{const t=kr(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||eo.Emulated,styles:e.styles||fr,_:null,schemas:e.schemas||null,tView:null,id:""};wr(n);const o=e.dependencies;return n.directiveDefs=Lr(o,!1),n.pipeDefs=Lr(o,!0),n.id=function vi(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Wi(e){return Pt(e)||cn(e)}function Pi(e){return null!==e}function xe(e){return rt(()=>({type:e.type,bootstrap:e.bootstrap||fr,declarations:e.declarations||fr,imports:e.imports||fr,exports:e.exports||fr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function he(e,t){if(null==e)return zn;const n={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let g,k,ne=yo.None;Array.isArray(a)?(ne=a[0],g=a[1],k=a[2]??g):(g=a,k=a),t?(n[g]=ne!==yo.None?[o,ne]:o,t[g]=k):n[g]=o}return n}function qe(e){return rt(()=>{const t=kr(e);return wr(t),t})}function wt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pt(e){return e[hr]||null}function cn(e){return e[Dr]||null}function xn(e){return e[qr]||null}function nr(e){const t=Pt(e)||cn(e)||xn(e);return null!==t&&t.standalone}function Yn(e,t){const n=e[Bi]||null;if(!n&&!0===t)throw new Error(`Type ${Xt(e)} does not have '\u0275mod' property.`);return n}function kr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||zn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||fr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:he(e.inputs,t),outputs:he(e.outputs),debugInfo:null}}function wr(e){e.features?.forEach(t=>t(e))}function Lr(e,t){if(!e)return null;const n=t?xn:Wi;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(Pi)}function Hi(e){return{\u0275providers:e}}function Fn(...e){return{\u0275providers:lr(0,e),\u0275fromNgModule:!0}}function lr(e,...t){const n=[],o=new Set;let a;const g=k=>{n.push(k)};return Xs(t,k=>{const ne=k;er(ne,g,[],o)&&(a||=[],a.push(ne))}),void 0!==a&&wn(a,g),n}function wn(e,t){for(let n=0;n<e.length;n++){const{ngModule:o,providers:a}=e[n];gi(a,g=>{t(g,o)})}}function er(e,t,n,o){if(!(e=sn(e)))return!1;let a=null,g=Qi(e);const k=!g&&Pt(e);if(g||k){if(k&&!k.standalone)return!1;a=e}else{const Ae=e.ngModule;if(g=Qi(Ae),!g)return!1;a=Ae}const ne=o.has(a);if(k){if(ne)return!1;if(o.add(a),k.dependencies){const Ae="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const Et of Ae)er(Et,t,n,o)}}else{if(!g)return!1;{if(null!=g.imports&&!ne){let Et;o.add(a);try{Xs(g.imports,$t=>{er($t,t,n,o)&&(Et||=[],Et.push($t))})}finally{}void 0!==Et&&wn(Et,t)}if(!ne){const Et=Fs(a)||(()=>new a);t({provide:a,useFactory:Et,deps:fr},a),t({provide:jr,useValue:a,multi:!0},a),t({provide:mr,useValue:()=>co(a),multi:!0},a)}const Ae=g.providers;if(null!=Ae&&!ne){const Et=e;gi(Ae,$t=>{t($t,Et)})}}}return a!==e&&void 0!==e.providers}function gi(e,t){for(let n of e)Hn(n)&&(n=n.\u0275providers),Array.isArray(n)?gi(n,t):t(n)}const Fi=$e({provide:String,useValue:$e});function Si(e){return null!==e&&"object"==typeof e&&Fi in e}function ki(e){return"function"==typeof e}const bs=new Dt(""),qo={},js={};let Te;function et(){return void 0===Te&&(Te=new li),Te}class ht{}class Vt extends ht{get destroyed(){return this._destroyed}constructor(t,n,o,a){super(),this.parent=n,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gs(t,k=>this.processProvider(k)),this.records.set($r,Li(void 0,this)),a.has("environment")&&this.records.set(ht,Li(void 0,this));const g=this.records.get(bs);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(jr,fr,go.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=u(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),u(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ni(this),o=Po(void 0);try{return t()}finally{Ni(n),Po(o)}}get(t,n=ts,o=go.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ro))return t[Ro](this);o=Qo(o);const g=Ni(this),k=Po(void 0);try{if(!(o&go.SkipSelf)){let Ae=this.records.get(t);if(void 0===Ae){const Et=function Xo(e){return"function"==typeof e||"object"==typeof e&&e instanceof Dt}(t)&&fi(t);Ae=Et&&this.injectableDefInScope(Et)?Li(yn(t),qo):null,this.records.set(t,Ae)}if(null!=Ae)return this.hydrate(t,Ae)}return(o&go.Self?et():this.parent).get(t,n=o&go.Optional&&n===ts?null:n)}catch(ne){if("NullInjectorError"===ne.name){if((ne[Us]=ne[Us]||[]).unshift(Xt(t)),g)throw ne;return function Ns(e,t,n,o){const a=e[Us];throw t[Ti]&&a.unshift(t[Ti]),e.message=function ns(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Xt(t);if(Array.isArray(t))a=t.map(Xt).join(" -> ");else if("object"==typeof t){let g=[];for(let k in t)if(t.hasOwnProperty(k)){let ne=t[k];g.push(k+":"+("string"==typeof ne?JSON.stringify(ne):Xt(ne)))}a=`{${g.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(Zn,"\n  ")}`}("\n"+e.message,a,n,o),e.ngTokenPath=a,e[Us]=null,e}(ne,t,"R3InjectorError",this.source)}throw ne}finally{Po(k),Ni(g)}}resolveInjectorInitializers(){const t=u(null),n=Ni(this),o=Po(void 0);try{const g=this.get(mr,fr,go.Self);for(const k of g)k()}finally{Ni(n),Po(o),u(t)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(Xt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=ki(t=sn(t))?t:sn(t&&t.provide);const o=function ir(e){return Si(e)?Li(void 0,e.useValue):Li(Ci(e),qo)}(t);if(!ki(t)&&!0===t.multi){let a=this.records.get(n);a||(a=Li(void 0,qo,!0),a.factory=()=>ta(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,o)}hydrate(t,n){const o=u(null);try{return n.value===qo&&(n.value=js,n.value=n.factory()),"object"==typeof n.value&&n.value&&function vo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{u(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=sn(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function yn(e){const t=fi(e),n=null!==t?t.factory:Fs(e);if(null!==n)return n;if(e instanceof Dt)throw new M(204,!1);if(e instanceof Function)return function Wn(e){if(e.length>0)throw new M(204,!1);const n=function Vi(e){return e&&(e[Ve]||e[an])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function Ci(e,t,n){let o;if(ki(e)){const a=sn(e);return Fs(a)||yn(a)}if(Si(e))o=()=>sn(e.useValue);else if(function zo(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ta(e.deps||[]));else if(function Xi(e){return!(!e||!e.useExisting)}(e))o=()=>co(sn(e.useExisting));else{const a=sn(e&&(e.useClass||e.provide));if(!function io(e){return!!e.deps}(e))return Fs(a)||yn(a);o=()=>new a(...ta(e.deps))}return o}function Li(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gs(e,t){for(const n of e)Array.isArray(n)?gs(n,t):n&&Hn(n)?gs(n.\u0275providers,t):t(n)}function Ms(e,t){e instanceof Vt&&e.assertNotDestroyed();const o=Ni(e),a=Po(void 0);try{return t()}finally{Ni(o),Po(a)}}function ca(){return void 0!==Yo()||null!=function Co(){return qi}()}function ya(e){if(!ca())throw new M(-203,!1)}const Fo=0,Ki=1,Do=2,xs=3,pa=4,Ys=5,sa=6,Sa=7,_s=8,ra=9,ba=10,Bo=11,ma=12,Xl=13,Yl=14,da=15,qc=16,Ql=17,$a=18,hl=19,Dc=20,fn=21,ql=22,Za=23,Vo=25,Os=1,Rl=7,sl=9,Ia=10;var Zl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Zl||{});function ka(e){return Array.isArray(e)&&"object"==typeof e[Os]}function Fa(e){return Array.isArray(e)&&!0===e[Os]}function Ic(e){return!!(4&e.flags)}function Wa(e){return e.componentOffset>-1}function Zc(e){return!(1&~e.flags)}function bl(e){return!!e.template}function Rc(e){return!!(512&e[Do])}class xa{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function xl(e,t,n,o){null!==t?t.applyValueToInputSignal(t,o):e[n]=o}function Oc(){return al}function al(e){return e.type.prototype.ngOnChanges&&(e.setInput=ec),jl}function jl(){const e=xc(this),t=e?.current;if(t){const n=e.previous;if(n===zn)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function ec(e,t,n,o,a){const g=this.declaredInputs[o],k=xc(e)||function Wd(e,t){return e[ll]=t}(e,{previous:zn,current:null}),ne=k.current||(k.current={}),Ae=k.previous,Et=Ae[g];ne[g]=new xa(Et&&Et.currentValue,n,Ae===zn),xl(e,t,a,n)}Oc.ngInherit=!0;const ll="__ngSimpleChanges__";function xc(e){return e[ll]||null}const La=function(e,t,n){},Kd="svg";let uc=!1;function rs(e){for(;Array.isArray(e);)e=e[Fo];return e}function Ec(e,t){return rs(t[e])}function va(e,t){return rs(t[e.index])}function nc(e,t){return e.data[t]}function cl(e,t){return e[t]}function el(e,t){const n=t[e];return ka(n)?n:n[Fo]}function rd(e){return!(128&~e[Do])}function Ol(e,t){return null==t?null:e[t]}function i(e){e[Ql]=0}function p(e){1024&e[Do]||(e[Do]|=1024,rd(e)&&jt(e))}function je(e){return!!(9216&e[Do]||e[Za]?.dirty)}function vt(e){e[ba].changeDetectionScheduler?.notify(1),je(e)?jt(e):64&e[Do]&&(function Xd(){return uc}()?(e[Do]|=1024,jt(e)):e[ba].changeDetectionScheduler?.notify())}function jt(e){e[ba].changeDetectionScheduler?.notify();let t=Vn(e);for(;null!==t&&!(8192&t[Do])&&(t[Do]|=8192,rd(t));)t=Vn(t)}function hn(e,t){if(!(256&~e[Do]))throw new M(911,!1);null===e[fn]&&(e[fn]=[]),e[fn].push(t)}function Vn(e){const t=e[xs];return Fa(t)?t[xs]:t}const Nn={lFrame:xd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function no(){return Nn.bindingsEnabled}function Ei(){return null!==Nn.skipHydrationRootTNode}function Tr(){return Nn.lFrame.lView}function Eo(){return Nn.lFrame.tView}function Ps(e){return Nn.lFrame.contextLView=e,e[_s]}function zs(e){return Nn.lFrame.contextLView=null,e}function bo(){let e=aa();for(;null!==e&&64===e.type;)e=e.parent;return e}function aa(){return Nn.lFrame.currentTNode}function Zs(){const e=Nn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ts(e,t){const n=Nn.lFrame;n.currentTNode=e,n.isParent=t}function is(){return Nn.lFrame.isParent}function Ua(){Nn.lFrame.isParent=!1}function Xa(){const e=Nn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function wc(){return Nn.lFrame.bindingIndex}function Hl(){return Nn.lFrame.bindingIndex++}function Cc(e){const t=Nn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function El(e){Nn.lFrame.inI18n=e}function am(e,t){const n=Nn.lFrame;n.bindingIndex=n.bindingRootIndex=e,od(t)}function od(e){Nn.lFrame.currentDirectiveIndex=e}function ku(e){const t=Nn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Fu(){return Nn.lFrame.currentQueryIndex}function dl(e){Nn.lFrame.currentQueryIndex=e}function kc(e){const t=e[Ki];return 2===t.type?t.declTNode:1===t.type?e[Ys]:null}function Bu(e,t,n){if(n&go.SkipSelf){let a=t,g=e;for(;!(a=a.parent,null!==a||n&go.Host||(a=kc(g),null===a||(g=g[Yl],10&a.type))););if(null===a)return!1;t=a,e=g}const o=Nn.lFrame=Fc();return o.currentTNode=t,o.lView=e,!0}function Nu(e){const t=Fc(),n=e[Ki];Nn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fc(){const e=Nn.lFrame,t=null===e?null:e.child;return null===t?xd(e):t}function xd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function qd(){const e=Nn.lFrame;return Nn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Dh=qd;function Zd(){const e=qd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Js(){return Nn.lFrame.selectedIndex}function Bc(e){Nn.lFrame.selectedIndex=e}function ea(){const e=Nn.lFrame;return nc(e.tView,e.selectedIndex)}function Sh(){Nn.lFrame.currentNamespace=Kd}function Lu(){!function Ea(){Nn.lFrame.currentNamespace=null}()}let Nc=!0;function Lc(){return Nc}function Gl(e){Nc=e}function Jd(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const g=e.data[n].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:ne,ngAfterViewInit:Ae,ngAfterViewChecked:Et,ngOnDestroy:$t}=g;k&&(e.contentHooks??=[]).push(-n,k),ne&&((e.contentHooks??=[]).push(n,ne),(e.contentCheckHooks??=[]).push(n,ne)),Ae&&(e.viewHooks??=[]).push(-n,Ae),Et&&((e.viewHooks??=[]).push(n,Et),(e.viewCheckHooks??=[]).push(n,Et)),null!=$t&&(e.destroyHooks??=[]).push(n,$t)}}function sd(e,t,n){eu(e,t,3,n)}function Va(e,t,n,o){(3&e[Do])===n&&eu(e,t,n,o)}function Pa(e,t){let n=e[Do];(3&n)===t&&(n&=16383,n+=1,e[Do]=n)}function eu(e,t,n,o){const g=o??-1,k=t.length-1;let ne=0;for(let Ae=void 0!==o?65535&e[Ql]:0;Ae<k;Ae++)if("number"==typeof t[Ae+1]){if(ne=t[Ae],null!=o&&ne>=o)break}else t[Ae]<0&&(e[Ql]+=65536),(ne<g||-1==g)&&(vs(e,n,t,Ae),e[Ql]=(4294901760&e[Ql])+Ae+2),Ae++}function tu(e,t){La(4,e,t);const n=u(null);try{t.call(e)}finally{u(n),La(5,e,t)}}function vs(e,t,n,o){const a=n[o]<0,g=n[o+1],ne=e[a?-n[o]:n[o]];a?e[Do]>>14<e[Ql]>>16&&(3&e[Do])===t&&(e[Do]+=16384,tu(ne,g)):tu(ne,g)}const wl=-1;class ja{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function Vu(e){return e!==wl}function Uc(e){return 32767&e}function Vc(e,t){let n=function Ih(e){return e>>16}(e),o=t;for(;n>0;)o=o[Yl],n--;return o}let iu=!0;function ld(e){const t=iu;return iu=e,t}const Rh=255,jc=5;let wd=0;const fl={};function Cd(e,t){const n=ju(e,t);if(-1!==n)return n;const o=t[Ki];o.firstCreatePass&&(e.injectorIndex=t.length,rc(o.data,e),rc(t,null),rc(o.blueprint,null));const a=ou(e,t),g=e.injectorIndex;if(Vu(a)){const k=Uc(a),ne=Vc(a,t),Ae=ne[Ki].data;for(let Et=0;Et<8;Et++)t[g+Et]=ne[k+Et]|Ae[k+Et]}return t[g+8]=a,g}function rc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ju(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ou(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;null!==a;){if(o=Ph(a),null===o)return wl;if(n++,a=a[Yl],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return wl}function Hu(e,t,n){!function Of(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(po)&&(o=n[po]),null==o&&(o=n[po]=wd++);const a=o&Rh;t.data[e+(a>>jc)]|=1<<a}(e,t,n)}function kf(e,t,n){if(n&go.Optional||void 0!==e)return e;Ao()}function Ff(e,t,n,o){if(n&go.Optional&&void 0===o&&(o=null),!(n&(go.Self|go.Host))){const a=e[ra],g=Po(void 0);try{return a?a.get(t,o,n&go.Optional):ss(t,o,n&go.Optional)}finally{Po(g)}}return kf(o,0,n)}function ic(e,t,n,o=go.Default,a){if(null!==e){if(2048&t[Do]&&!(o&go.Self)){const k=function Dd(e,t,n,o,a){let g=e,k=t;for(;null!==g&&null!==k&&2048&k[Do]&&!(512&k[Do]);){const ne=Gu(g,k,n,o|go.Self,fl);if(ne!==fl)return ne;let Ae=g.parent;if(!Ae){const Et=k[Dc];if(Et){const $t=Et.get(n,fl,o);if($t!==fl)return $t}Ae=Ph(k),k=k[Yl]}g=Ae}return a}(e,t,n,o,fl);if(k!==fl)return k}const g=Gu(e,t,n,o,fl);if(g!==fl)return g}return Ff(t,n,o,a)}function Gu(e,t,n,o,a){const g=function Md(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(po)?e[po]:void 0;return"number"==typeof t?t>=0?t&Rh:Oh:t}(n);if("function"==typeof g){if(!Bu(t,e,o))return o&go.Host?kf(a,0,o):Ff(t,n,o,a);try{let k;if(k=g(o),null!=k||o&go.Optional)return k;Ao()}finally{Dh()}}else if("number"==typeof g){let k=null,ne=ju(e,t),Ae=wl,Et=o&go.Host?t[da][Ys]:null;for((-1===ne||o&go.SkipSelf)&&(Ae=-1===ne?ou(e,t):t[ne+8],Ae!==wl&&su(o,!1)?(k=t[Ki],ne=Uc(Ae),t=Vc(Ae,t)):ne=-1);-1!==ne;){const $t=t[Ki];if(Zo(g,ne,$t.data)){const En=zu(ne,t,n,k,o,Et);if(En!==fl)return En}Ae=t[ne+8],Ae!==wl&&su(o,t[Ki].data[ne+8]===Et)&&Zo(g,ne,t)?(k=$t,ne=Uc(Ae),t=Vc(Ae,t)):ne=-1}}return a}function zu(e,t,n,o,a,g){const k=t[Ki],ne=k.data[e+8],$t=Ad(ne,k,n,null==o?Wa(ne)&&iu:o!=k&&!!(3&ne.type),a&go.Host&&g===ne);return null!==$t?Cl(t,k,$t,ne):fl}function Ad(e,t,n,o,a){const g=e.providerIndexes,k=t.data,ne=1048575&g,Ae=e.directiveStart,$t=g>>20,pr=a?ne+$t:e.directiveEnd;for(let Mr=o?ne:ne+$t;Mr<pr;Mr++){const Qr=k[Mr];if(Mr<Ae&&n===Qr||Mr>=Ae&&Qr.type===n)return Mr}if(a){const Mr=k[Ae];if(Mr&&bl(Mr)&&Mr.type===n)return Ae}return null}function Cl(e,t,n,o){let a=e[n];const g=t.data;if(function If(e){return e instanceof ja}(a)){const k=a;k.resolving&&function Rr(e,t){throw t&&t.join(" > "),new M(-200,e)}(function Yt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ji(e)}(g[n]));const ne=ld(k.canSeeViewProviders);k.resolving=!0;const Et=k.injectImpl?Po(k.injectImpl):null;Bu(e,o,go.Default);try{a=e[n]=k.factory(void 0,g,e,o),t.firstCreatePass&&n>=o.directiveStart&&function lm(e,t,n){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:g}=t.type.prototype;if(o){const k=al(t);(n.preOrderHooks??=[]).push(e,k),(n.preOrderCheckHooks??=[]).push(e,k)}a&&(n.preOrderHooks??=[]).push(0-e,a),g&&((n.preOrderHooks??=[]).push(e,g),(n.preOrderCheckHooks??=[]).push(e,g))}(n,g[n],t)}finally{null!==Et&&Po(Et),ld(ne),k.resolving=!1,Dh()}}return a}function Zo(e,t,n){return!!(n[t+(e>>jc)]&1<<e)}function su(e,t){return!(e&go.Self||e&go.Host&&t)}class Ba{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return ic(this._tNode,this._lView,t,Qo(o),n)}}function Oh(){return new Ba(bo(),Tr())}function Gc(e){return rt(()=>{const t=e.prototype.constructor,n=t[hi]||Ha(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const g=a[hi]||Ha(a);if(g&&g!==n)return g;a=Object.getPrototypeOf(a)}return g=>new g})}function Ha(e){return St(e)?()=>{const t=Ha(sn(e));return t&&t()}:Fs(e)}function Ph(e){const t=e[Ki],n=t.type;return 2===n?t.declTNode:1===n?e[Ys]:null}function Td(e){return function Pf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let a=0;for(;a<o;){const g=n[a];if(re(g))break;if(0===g)a+=2;else if("number"==typeof g)for(a++;a<o&&"string"==typeof n[a];)a++;else{if(g===t)return n[a+1];a+=2}}}return null}(bo(),e)}function Ku(e,t=null,n=null,o){const a=Vf(e,t,n,o);return a.resolveInjectorInitializers(),a}function Vf(e,t=null,n=null,o,a=new Set){const g=[n||fr,Fn(e)];return o=o||("object"==typeof e?void 0:Xt(e)),new Vt(g,t||et(),o||null,a)}let Fl=(()=>{var e;class t{static create(o,a){if(Array.isArray(o))return Ku({name:""},a,o,"");{const g=o.name??"";return Ku({name:g},o.parent,o.providers,g)}}}return(e=t).THROW_IF_NOT_FOUND=ts,e.NULL=new li,e.\u0275prov=Cr({token:e,providedIn:"any",factory:()=>co($r)}),e.__NG_ELEMENT_ID__=-1,t})();function zc(e){return e.ngOriginalError}class hc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&zc(t);for(;n&&zc(n);)n=zc(n);return n||null}}const Sd=new Dt("",{providedIn:"root",factory:()=>lo(hc).handleError.bind(void 0)});let ml=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=cd,e.__NG_ENV_ID__=n=>n,t})();class Id extends ml{constructor(t){super(),this._lView=t}onDestroy(t){return hn(this._lView,t),()=>function bn(e,t){if(null===e[fn])return;const n=e[fn].indexOf(t);-1!==n&&e[fn].splice(n,1)}(this._lView,t)}}function cd(){return new Id(Tr())}function Xu(e,t){return He(e,t)}const $c=(Xu.required=function Nl(e){return He(z,e)},Xu);function zf(){return Al(bo(),Tr())}function Al(e,t){return new Wc(va(e,t))}let Wc=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=zf,t})();function Uh(e){return e instanceof Wc?e.nativeElement:e}function ud(e){return t=>{setTimeout(e,void 0,t)}}const Ll=class dd extends P.B{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,ca()&&(this.destroyRef=lo(ml,{optional:!0})??void 0)}emit(t){const n=u(null);try{super.next(t)}finally{u(n)}}subscribe(t,n,o){let a=t,g=n||(()=>null),k=o;if(t&&"object"==typeof t){const Ae=t;a=Ae.next?.bind(Ae),g=Ae.error?.bind(Ae),k=Ae.complete?.bind(Ae)}this.__isAsync&&(g=ud(g),a&&(a=ud(a)),k&&(k=ud(k)));const ne=super.subscribe({next:a,error:g,complete:k});return t instanceof B.yU&&t.add(ne),ne}};function Vh(){return this._results[Symbol.iterator]()}class Yu{get changes(){return this._changes??=new Ll}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Yu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Vh)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const o=function ds(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Vs(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],g=t[o];if(n&&(a=n(a),g=n(g)),g!==a)return!1}return!0}(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function lu(e){return!(128&~e.flags)}const Qu=new Map;let Wf=0;const Wh="__ngContext__";function wa(e,t){ka(t)?(e[Wh]=t[hl],function Gh(e){Qu.set(e[hl],e)}(t)):e[Wh]=t}function Xh(e){return qf(e[ma])}function Qf(e){return qf(e[pa])}function qf(e){for(;null!==e&&!Fa(e);)e=e[pa];return e}let Jh;function mm(e){Jh=e}function Kc(){if(void 0!==Jh)return Jh;if(typeof document<"u")return document;throw new M(210,!1)}const ap=new Dt("",{providedIn:"root",factory:()=>gm}),gm="ng",ef=new Dt(""),nh=new Dt("",{providedIn:"platform",factory:()=>"unknown"}),mu=new Dt(""),vm=new Dt("",{providedIn:"root",factory:()=>Kc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fd=()=>null;function sf(e,t,n=!1){return fd(e,t,n)}const m=new Dt("",{providedIn:"root",factory:()=>!1});let T,Ie;function de(e){return function G(){if(void 0===T&&(T=null,Ke.trustedTypes))try{T=Ke.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return T}()?.createHTML(e)||e}function ze(){if(void 0===Ie&&(Ie=null,Ke.trustedTypes))try{Ie=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ie}function gt(e){return ze()?.createHTML(e)||e}function Nt(e){return ze()?.createScriptURL(e)||e}class zt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${h})`}}class kt extends zt{getTypeName(){return"HTML"}}class Jt extends zt{getTypeName(){return"Style"}}class kn extends zt{getTypeName(){return"Script"}}class Dn extends zt{getTypeName(){return"URL"}}class Rn extends zt{getTypeName(){return"ResourceURL"}}function Mn(e){return e instanceof zt?e.changingThisBreaksApplicationSecurity:e}function Bn(e,t){const n=function Qn(e){return e instanceof zt&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${h})`)}return n===t}function dr(e){return new kt(e)}function Gn(e){return new Jt(e)}function Nr(e){return new kn(e)}function Xr(e){return new Dn(e)}function ri(e){return new Rn(e)}function Br(e){const t=new Hr(e);return function ai(){try{return!!(new window.DOMParser).parseFromString(de(""),"text/html")}catch{return!1}}()?new Sr(t):t}class Sr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(de(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class Hr{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=de(t),n}}const ui=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ro(e){return(e=String(e)).match(ui)?e:"unsafe:"+e}function Zi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function No(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const wo=Zi("area,br,col,hr,img,wbr"),os=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ri=Zi("rp,rt"),ia=No(wo,No(os,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),No(Ri,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),No(Ri,os)),Qs=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ra=No(Qs,Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ya=Zi("script,style,template");class Dl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0,a=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)a.push(n),n=Cu(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let g=pc(n);if(g){n=g;break}n=a.pop()}return this.buf.join("")}startElement(t){const n=Au(t).toLowerCase();if(!ia.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ya.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let a=0;a<o.length;a++){const g=o.item(a),k=g.name,ne=k.toLowerCase();if(!Ra.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let Ae=g.value;Qs[ne]&&(Ae=ro(Ae)),this.buf.push(" ",k,'="',oc(Ae),'"')}return this.buf.push(">"),!0}endElement(t){const n=Au(t).toLowerCase();ia.hasOwnProperty(n)&&!wo.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(oc(t))}}function pc(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw mc(t);return t}function Cu(e){const t=e.firstChild;if(t&&function zl(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw mc(t);return t}function Au(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function mc(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Ca=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ws=/([^\#-~ |!])/g;function oc(e){return e.replace(/&/g,"&amp;").replace(Ca,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ws,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nd;function dh(e,t){let n=null;try{Nd=Nd||Br(e);let o=t?String(t):"";n=Nd.getInertBodyElement(o);let a=5,g=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=g,g=n.innerHTML,n=Nd.getInertBodyElement(o)}while(o!==g);return de((new Dl).sanitizeChildren(Mu(n)||n))}finally{if(n){const o=Mu(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Mu(e){return"content"in e&&function Ld(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var sc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(sc||{});function Ma(e){const t=Du();return t?gt(t.sanitize(sc.HTML,e)||""):Bn(e,"HTML")?gt(Mn(e)):dh(Kc(),Ji(e))}function ys(e){const t=Du();return t?t.sanitize(sc.URL,e)||"":Bn(e,"URL")?Mn(e):ro(Ji(e))}function Ud(e){const t=Du();if(t)return Nt(t.sanitize(sc.RESOURCE_URL,e)||"");if(Bn(e,"ResourceURL"))return Nt(Mn(e));throw new M(904,!1)}function uf(e,t,n){return function la(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ud:ys}(t,n)(e)}function Du(){const e=Tr();return e&&e[ba].sanitizer}const Tu=/^>|^->|<!--|-->|--!>|<!-$/g,pp=/(<|>)/g,Vd="\u200b$1\u200b";function bp(e){return e.ownerDocument.defaultView}function xp(e){return e.ownerDocument}function mo(e){return e instanceof Function?e():e}var ul=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ul||{});let Tl;function $l(e,t){return Tl(e,t)}function _c(e,t,n,o,a){if(null!=o){let g,k=!1;Fa(o)?g=o:ka(o)&&(k=!0,o=o[Fo]);const ne=rs(o);0===e&&null!==n?null==a?Tg(t,n,ne):Ru(t,n,ne,a||null,!0):1===e&&null!==n?Ru(t,n,ne,a||null,!0):2===e?yf(t,ne,k):3===e&&t.destroyNode(ne),null!=g&&function $_(e,t,n,o,a){const g=n[Rl];g!==rs(n)&&_c(t,e,o,g,a);for(let ne=Ia;ne<n.length;ne++){const Ae=n[ne];yh(Ae[Ki],Ae,e,t,o,g)}}(t,e,g,n,a)}}function Ep(e,t){return e.createText(t)}function Cg(e,t,n){e.setValue(t,n)}function Tm(e,t){return e.createComment(function hf(e){return e.replace(Tu,t=>t.replace(pp,Vd))}(t))}function wp(e,t,n){return e.createElement(t,n)}function Ag(e,t){t[ba].changeDetectionScheduler?.notify(1),yh(e,t,t[Bo],2,null,null)}function Mg(e,t){const n=e[sl],o=n.indexOf(t);n.splice(o,1)}function _f(e,t){if(e.length<=Ia)return;const n=Ia+t,o=e[n];if(o){const a=o[qc];null!==a&&a!==e&&Mg(a,o),t>0&&(e[n-1][pa]=o[pa]);const g=rr(e,Ia+t);!function F_(e,t){Ag(e,t),t[Fo]=null,t[Ys]=null}(o[Ki],o);const k=g[$a];null!==k&&k.detachView(g[Ki]),o[xs]=null,o[pa]=null,o[Do]&=-129}return o}function Cp(e,t){if(!(256&t[Do])){const n=t[Bo];n.destroyNode&&yh(e,t,n,3,null,null),function N_(e){let t=e[ma];if(!t)return Sm(e[Ki],e);for(;t;){let n=null;if(ka(t))n=t[ma];else{const o=t[Ia];o&&(n=o)}if(!n){for(;t&&!t[pa]&&t!==e;)ka(t)&&Sm(t[Ki],t),t=t[xs];null===t&&(t=e),ka(t)&&Sm(t[Ki],t),n=t&&t[pa]}t=n}}(t)}}function Sm(e,t){if(256&t[Do])return;const n=u(null);try{t[Do]&=-129,t[Do]|=256,t[Za]&&fe(t[Za]),function j_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const a=t[n[o]];if(!(a instanceof ja)){const g=n[o+1];if(Array.isArray(g))for(let k=0;k<g.length;k+=2){const ne=a[g[k]],Ae=g[k+1];La(4,ne,Ae);try{Ae.call(ne)}finally{La(5,ne,Ae)}}else{La(4,a,g);try{g.call(a)}finally{La(5,a,g)}}}}}(e,t),function V_(e,t){const n=e.cleanup,o=t[Sa];if(null!==n)for(let g=0;g<n.length-1;g+=2)if("string"==typeof n[g]){const k=n[g+3];k>=0?o[k]():o[-k].unsubscribe(),g+=2}else n[g].call(o[n[g+1]]);null!==o&&(t[Sa]=null);const a=t[fn];if(null!==a){t[fn]=null;for(let g=0;g<a.length;g++)(0,a[g])()}}(e,t),1===t[Ki].type&&t[Bo].destroy();const o=t[qc];if(null!==o&&Fa(t[xs])){o!==t[xs]&&Mg(o,t);const a=t[$a];null!==a&&a.detachView(e)}!function Od(e){Qu.delete(e[hl])}(t)}finally{u(n)}}function Im(e,t,n){return Dg(e,t.parent,n)}function Dg(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[Fo];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:g}=e.data[o.directiveStart+a];if(g===eo.None||g===eo.Emulated)return null}return va(o,n)}}function Ru(e,t,n,o,a){e.insertBefore(t,n,o,a)}function Tg(e,t,n){e.appendChild(t,n)}function Sg(e,t,n,o,a){null!==o?Ru(e,t,n,o,a):Tg(e,t,n)}function Ap(e,t){return e.parentNode(t)}function Ig(e,t,n){return Rm(e,t,n)}function Mp(e,t,n){return 40&e.type?va(e,n):null}let Dp,Rm=Mp;function Rg(e,t){Rm=e,Dp=t}function Tp(e,t,n,o){const a=Im(e,o,t),g=t[Bo],ne=Ig(o.parent||t[Ys],o,t);if(null!=a)if(Array.isArray(n))for(let Ae=0;Ae<n.length;Ae++)Sg(g,a,n[Ae],ne,!1);else Sg(g,a,n,ne,!1);void 0!==Dp&&Dp(g,o,t,n,a)}function vf(e,t){if(null!==t){const n=t.type;if(3&n)return va(t,e);if(4&n)return Om(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return vf(e,o);{const a=e[t.index];return Fa(a)?Om(-1,a):rs(a)}}if(32&n)return $l(t,e)()||rs(e[t.index]);{const o=Sp(e,t);return null!==o?Array.isArray(o)?o[0]:vf(Vn(e[da]),o):vf(e,t.next)}}return null}function Sp(e,t){return null!==t?e[da][Ys].projection[t.projection]:null}function Om(e,t){const n=Ia+e+1;if(n<t.length){const o=t[n],a=o[Ki].firstChild;if(null!==a)return vf(o,a)}return t[Rl]}function yf(e,t,n){const o=Ap(e,t);o&&function H_(e,t,n,o){e.removeChild(t,n,o)}(e,o,t,n)}function Sl(e,t,n,o,a,g,k){for(;null!=n;){const ne=o[n.index],Ae=n.type;if(k&&0===t&&(ne&&wa(rs(ne),o),n.flags|=2),32&~n.flags)if(8&Ae)Sl(e,t,n.child,o,a,g,!1),_c(t,e,a,ne,g);else if(32&Ae){const Et=$l(n,o);let $t;for(;$t=Et();)_c(t,e,a,$t,g);_c(t,e,a,ne,g)}else 16&Ae?Pg(e,t,o,n,a,g):_c(t,e,a,ne,g);n=k?n.projectionNext:n.next}}function yh(e,t,n,o,a,g){Sl(n,o,e.firstChild,t,a,g,!1)}function Pg(e,t,n,o,a,g){const k=n[da],Ae=k[Ys].projection[o.projection];if(Array.isArray(Ae))for(let Et=0;Et<Ae.length;Et++)_c(t,e,a,Ae[Et],g);else{let Et=Ae;const $t=k[xs];lu(o)&&(Et.flags|=128),Sl(e,t,Et,$t,a,g,!0)}}function kg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ip(e,t,n){const{mergedAttrs:o,classes:a,styles:g}=n;null!==o&&tt(e,t,o),null!==a&&kg(e,t,a),null!==g&&function Pm(e,t,n){e.setAttribute(t,"style",n)}(e,t,g)}const Is={};function Fg(e=1){Bg(Eo(),Tr(),Js()+e,!1)}function Bg(e,t,n,o){if(!o)if(3&~t[Do]){const g=e.preOrderHooks;null!==g&&Va(t,g,0,n)}else{const g=e.preOrderCheckHooks;null!==g&&sd(t,g,n)}Bc(n)}function bh(e,t=go.Default){const n=Tr();return null===n?co(e,t):ic(bo(),n,sn(e),t)}function km(){throw new Error("invalid")}function Ng(e,t,n,o,a,g){const k=u(null);try{let ne=null;a&yo.SignalBased&&(ne=t[o][C]),null!==ne&&void 0!==ne.transformFn&&(g=ne.transformFn(g)),a&yo.HasDecoratorInputTransform&&(g=e.inputTransforms[o].call(t,g)),null!==e.setInput?e.setInput(t,ne,g,n,o):xl(t,ne,o,g)}finally{u(k)}}function Rp(e,t,n,o,a,g,k,ne,Ae,Et,$t){const En=t.blueprint.slice();return En[Fo]=a,En[Do]=204|o,(null!==Et||e&&2048&e[Do])&&(En[Do]|=2048),i(En),En[xs]=En[Yl]=e,En[_s]=n,En[ba]=k||e&&e[ba],En[Bo]=ne||e&&e[Bo],En[ra]=Ae||e&&e[ra]||null,En[Ys]=g,En[hl]=function qu(){return Wf++}(),En[sa]=$t,En[Dc]=Et,En[da]=2==t.type?e[da]:En,En}function jd(e,t,n,o,a){let g=e.data[t];if(null===g)g=bf(e,t,n,o,a),function sm(){return Nn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=n,g.value=o,g.attrs=a;const k=Zs();g.injectorIndex=null===k?-1:k.injectorIndex}return Ts(g,!0),g}function bf(e,t,n,o,a){const g=aa(),k=is(),Ae=e.data[t]=function ev(e,t,n,o,a,g){let k=t?t.injectorIndex:-1,ne=0;return Ei()&&(ne|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:k,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ne,providerIndexes:0,value:a,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?g:g&&g.parent,n,t,o,a);return null===e.firstChild&&(e.firstChild=Ae),null!==g&&(k?null==g.child&&null!==Ae.parent&&(g.child=Ae):null===g.next&&(g.next=Ae,Ae.prev=g)),Ae}function xf(e,t,n,o){if(0===n)return-1;const a=t.length;for(let g=0;g<n;g++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function Lg(e,t,n,o,a){const g=Js(),k=2&o;try{Bc(-1),k&&t.length>Vo&&Bg(e,t,Vo,!1),La(k?2:0,a),n(o,a)}finally{Bc(g),La(k?3:1,a)}}function Fm(e,t,n){if(Ic(t)){const o=u(null);try{const g=t.directiveEnd;for(let k=t.directiveStart;k<g;k++){const ne=e.data[k];ne.contentQueries&&ne.contentQueries(1,n[k],k)}}finally{u(o)}}}function Bm(e,t,n){no()&&(function or(e,t,n,o){const a=n.directiveStart,g=n.directiveEnd;Wa(n)&&function Gs(e,t,n){const o=va(t,e),a=Ug(n);let k=16;n.signals?k=4096:n.onPush&&(k=64);const ne=Oa(e,Rp(e,a,null,k,o,t,null,e[ba].rendererFactory.createRenderer(o,n),null,null,null));e[t.index]=ne}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||Cd(n,t),wa(o,t);const k=n.initialInputs;for(let ne=a;ne<g;ne++){const Ae=e.data[ne],Et=Cl(t,e,ne,n);wa(Et,t),null!==k&&na(0,ne-a,Et,Ae,0,k),bl(Ae)&&(el(n.index,t)[_s]=Cl(t,e,ne,n))}}(e,t,n,va(n,t)),!(64&~n.flags)&&xr(e,t,n))}function Nm(e,t,n=va){const o=t.localNames;if(null!==o){let a=t.index+1;for(let g=0;g<o.length;g+=2){const k=o[g+1],ne=-1===k?n(t,e):e[k];e[a++]=ne}}}function Ug(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Lm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Lm(e,t,n,o,a,g,k,ne,Ae,Et,$t){const En=Vo+o,pr=En+a,Mr=function X_(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Is);return n}(En,pr),Qr="function"==typeof Et?Et():Et;return Mr[Ki]={type:e,blueprint:Mr,template:n,queries:null,viewQuery:ne,declTNode:t,data:Mr.slice().fill(null,En),bindingStartIndex:En,expandoStartIndex:pr,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:Ae,consts:Qr,incompleteFirstPass:!1,ssrId:$t}}let Vg=()=>null;function jg(e,t,n,o,a){for(let g in t){if(!t.hasOwnProperty(g))continue;const k=t[g];if(void 0===k)continue;o??={};let ne,Ae=yo.None;Array.isArray(k)?(ne=k[0],Ae=k[1]):ne=k;let Et=g;if(null!==a){if(!a.hasOwnProperty(g))continue;Et=a[g]}0===e?Hg(o,n,Et,ne,Ae):Hg(o,n,Et,ne)}return o}function Hg(e,t,n,o,a){let g;e.hasOwnProperty(n)?(g=e[n]).push(t,o):g=e[n]=[t,o],void 0!==a&&g.push(a)}function Wl(e,t,n,o,a,g,k,ne){const Ae=va(t,n);let $t,Et=t.inputs;!ne&&null!=Et&&($t=Et[o])?(iv(e,n,$t,o,a),Wa(t)&&function rv(e,t){const n=el(t,e);16&n[Do]||(n[Do]|=64)}(n,t.index)):3&t.type&&(o=function nv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=k?k(a,t.value||"",o):a,g.setProperty(Ae,o,a))}function se(e,t,n,o){if(no()){const a=null===o?null:{"":-1},g=function Gi(e,t){const n=e.directiveRegistry;let o=null,a=null;if(n)for(let g=0;g<n.length;g++){const k=n[g];if(bt(t,k.selectors,!1))if(o||(o=[]),bl(k))if(null!==k.findHostDirectiveDefs){const ne=[];a=a||new Map,k.findHostDirectiveDefs(k,ne,a),o.unshift(...ne,k),Ui(e,t,ne.length)}else o.unshift(k),Ui(e,t,0);else a=a||new Map,k.findHostDirectiveDefs?.(k,o,a),o.push(k)}return null===o?null:[o,a]}(e,n);let k,ne;null===g?k=ne=null:[k,ne]=g,null!==k&&ct(e,t,n,k,a,ne),a&&function oo(e,t,n){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const g=n[t[a+1]];if(null==g)throw new M(-301,!1);o.push(t[a],g)}}}(n,o,a)}n.mergedAttrs=Je(n.mergedAttrs,n.attrs)}function ct(e,t,n,o,a,g){for(let Et=0;Et<o.length;Et++)Hu(Cd(n,t),e,o[Et].type);!function Ho(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let Et=0;Et<o.length;Et++){const $t=o[Et];$t.providersResolver&&$t.providersResolver($t)}let k=!1,ne=!1,Ae=xf(e,t,o.length,null);for(let Et=0;Et<o.length;Et++){const $t=o[Et];n.mergedAttrs=Je(n.mergedAttrs,$t.hostAttrs),ps(e,n,t,Ae,$t),To(Ae,$t,a),null!==$t.contentQueries&&(n.flags|=4),(null!==$t.hostBindings||null!==$t.hostAttrs||0!==$t.hostVars)&&(n.flags|=64);const En=$t.type.prototype;!k&&(En.ngOnChanges||En.ngOnInit||En.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),k=!0),!ne&&(En.ngOnChanges||En.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),ne=!0),Ae++}!function tv(e,t,n){const a=t.directiveEnd,g=e.data,k=t.attrs,ne=[];let Ae=null,Et=null;for(let $t=t.directiveStart;$t<a;$t++){const En=g[$t],pr=n?n.get(En):null,Qr=pr?pr.outputs:null;Ae=jg(0,En.inputs,$t,Ae,pr?pr.inputs:null),Et=jg(1,En.outputs,$t,Et,Qr);const Oi=null===Ae||null===k||ti(t)?null:lc(Ae,$t,k);ne.push(Oi)}null!==Ae&&(Ae.hasOwnProperty("class")&&(t.flags|=8),Ae.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=ne,t.inputs=Ae,t.outputs=Et}(e,n,g)}function xr(e,t,n){const o=n.directiveStart,a=n.directiveEnd,g=n.index,k=function id(){return Nn.lFrame.currentDirectiveIndex}();try{Bc(g);for(let ne=o;ne<a;ne++){const Ae=e.data[ne],Et=t[ne];od(ne),(null!==Ae.hostBindings||0!==Ae.hostVars||null!==Ae.hostAttrs)&&zr(Ae,Et)}}finally{Bc(-1),od(k)}}function zr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ui(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function To(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;bl(t)&&(n[""]=e)}}function ps(e,t,n,o,a){e.data[o]=a;const g=a.factory||(a.factory=Fs(a.type)),k=new ja(g,bl(a),bh);e.blueprint[o]=k,n[o]=k,function nn(e,t,n,o,a){const g=a.hostBindings;if(g){let k=e.hostBindingOpCodes;null===k&&(k=e.hostBindingOpCodes=[]);const ne=~t.index;(function Pn(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(k)!=ne&&k.push(ne),k.push(n,o,g)}}(e,t,o,xf(e,n,a.hostVars,Is),a)}function $s(e,t,n,o,a,g,k){if(null==g)e.removeAttribute(t,a,n);else{const ne=null==k?Ji(g):k(g,o||"",a);e.setAttribute(t,a,ne,n)}}function na(e,t,n,o,a,g){const k=g[t];if(null!==k)for(let ne=0;ne<k.length;)Ng(o,n,k[ne++],k[ne++],k[ne++],k[ne++])}function lc(e,t,n){let o=null,a=0;for(;a<n.length;){const g=n[a];if(0!==g)if(5!==g){if("number"==typeof g)break;if(e.hasOwnProperty(g)){null===o&&(o=[]);const k=e[g];for(let ne=0;ne<k.length;ne+=3)if(k[ne]===t){o.push(g,k[ne+1],k[ne+2],n[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Il(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Kl(e,t){const n=e.contentQueries;if(null!==n){const o=u(null);try{for(let a=0;a<n.length;a+=2){const k=n[a+1];if(-1!==k){const ne=e.data[k];dl(n[a]),ne.contentQueries(2,t[k],k)}}}finally{u(o)}}}function Oa(e,t){return e[ma]?e[Xl][pa]=t:e[ma]=t,e[Xl]=t,t}function cc(e,t,n){dl(0);const o=u(null);try{t(e,n)}finally{u(o)}}function Um(e){return e[Sa]||(e[Sa]=[])}function Ky(e){return e.cleanup||(e.cleanup=[])}function Xy(e,t,n){return(null===e||bl(e))&&(n=function td(e){for(;Array.isArray(e);){if("object"==typeof e[Os])return e;e=e[Fo]}return null}(n[t.index])),n[Bo]}function Gg(e,t){const n=e[ra],o=n?n.get(hc,null):null;o&&o.handleError(t)}function iv(e,t,n,o,a){for(let g=0;g<n.length;){const k=n[g++],ne=n[g++],Ae=n[g++];Ng(e.data[k],t[k],o,ne,Ae,a)}}function Ou(e,t,n){const o=Ec(t,e);Cg(e[Bo],o,n)}function sC(e,t){const n=el(t,e),o=n[Ki];!function aC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n);const a=n[Fo];null!==a&&null===n[sa]&&(n[sa]=sf(a,n[ra])),ov(o,n,n[_s])}function ov(e,t,n){Nu(t);try{const o=e.viewQuery;null!==o&&cc(1,o,n);const a=e.template;null!==a&&Lg(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[$a]?.finishViewCreation(e),e.staticContentQueries&&Kl(e,t),e.staticViewQueries&&cc(2,e.viewQuery,n);const g=e.components;null!==g&&function lC(e,t){for(let n=0;n<t.length;n++)sC(e,t[n])}(t,g)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[Do]&=-5,Zd()}}function Vm(e,t,n,o){const a=u(null);try{const g=t.tView,Ae=Rp(e,g,n,4096&e[Do]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);Ae[qc]=e[t.index];const $t=e[$a];return null!==$t&&(Ae[$a]=$t.createEmbeddedView(g)),ov(g,Ae,n),Ae}finally{u(a)}}function Yy(e,t){const n=Ia+t;if(n<e.length)return e[n]}function Op(e,t){return!t||null===t.firstChild||lu(e)}function jm(e,t,n,o=!0){const a=t[Ki];if(function L_(e,t,n,o){const a=Ia+o,g=n.length;o>0&&(n[a-1][pa]=t),o<g-Ia?(t[pa]=n[a],Jn(n,Ia+o,t)):(n.push(t),t[pa]=null),t[xs]=n;const k=t[qc];null!==k&&n!==k&&function U_(e,t){const n=e[sl];t[da]!==t[xs][xs][da]&&(e[Do]|=Zl.HasTransplantedViews),null===n?e[sl]=[t]:n.push(t)}(k,t);const ne=t[$a];null!==ne&&ne.insertView(e),vt(t),t[Do]|=128}(a,t,e,n),o){const k=Om(n,e),ne=t[Bo],Ae=Ap(ne,e[Rl]);null!==Ae&&function B_(e,t,n,o,a,g){o[Fo]=a,o[Ys]=t,yh(e,o,n,1,a,g)}(a,e[Ys],ne,t,Ae,k)}const g=t[sa];null!==g&&null!==g.firstChild&&(g.firstChild=null)}function sv(e,t){const n=_f(e,t);return void 0!==n&&Cp(n[Ki],n),n}function Hm(e,t,n,o,a=!1){for(;null!==n;){const g=t[n.index];null!==g&&o.push(rs(g)),Fa(g)&&Qy(g,o);const k=n.type;if(8&k)Hm(e,t,n.child,o);else if(32&k){const ne=$l(n,t);let Ae;for(;Ae=ne();)o.push(Ae)}else if(16&k){const ne=Sp(t,n);if(Array.isArray(ne))o.push(...ne);else{const Ae=Vn(t[da]);Hm(Ae[Ki],Ae,ne,o,!0)}}n=a?n.projectionNext:n.next}return o}function Qy(e,t){for(let n=Ia;n<e.length;n++){const o=e[n],a=o[Ki].firstChild;null!==a&&Hm(o[Ki],o,a,t)}e[Rl]!==e[Fo]&&t.push(e[Rl])}let qy=[];const hC={...O,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{jt(e.lView)},consumerOnSignalRead(){this.lView[Za]=this}},Zy=100;function zg(e,t=!0,n=0){const o=e[ba],a=o.rendererFactory;a.begin?.();try{!function fC(e,t){av(e,t);let n=0;for(;je(e);){if(n===Zy)throw new M(103,!1);n++,av(e,1)}}(e,n)}catch(k){throw t&&Gg(e,k),k}finally{a.end?.(),o.inlineEffectRunner?.flush()}}function pC(e,t,n,o){const a=t[Do];if(!(256&~a))return;t[ba].inlineEffectRunner?.flush(),Nu(t);let k=null,ne=null;(function mC(e){return 2!==e.type})(e)&&(ne=function cC(e){return e[Za]??function dC(e){const t=qy.pop()??Object.create(hC);return t.lView=e,t}(e)}(t),k=ie(ne));try{i(t),function bd(e){return Nn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Lg(e,t,n,2,o);const Ae=!(3&~a);if(Ae){const En=e.preOrderCheckHooks;null!==En&&sd(t,En,null)}else{const En=e.preOrderHooks;null!==En&&Va(t,En,0,null),Pa(t,0)}if(function gC(e){for(let t=Xh(e);null!==t;t=Qf(t)){if(!(t[Do]&Zl.HasTransplantedViews))continue;const n=t[sl];for(let o=0;o<n.length;o++){p(n[o])}}}(t),Jy(t,0),null!==e.contentQueries&&Kl(e,t),Ae){const En=e.contentCheckHooks;null!==En&&sd(t,En)}else{const En=e.contentHooks;null!==En&&Va(t,En,1),Pa(t,1)}!function K_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)Bc(~a);else{const g=a,k=n[++o],ne=n[++o];am(k,g),ne(2,t[g])}}}finally{Bc(-1)}}(e,t);const Et=e.components;null!==Et&&tb(t,Et,0);const $t=e.viewQuery;if(null!==$t&&cc(2,$t,o),Ae){const En=e.viewCheckHooks;null!==En&&sd(t,En)}else{const En=e.viewHooks;null!==En&&Va(t,En,2),Pa(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ql]){for(const En of t[ql])En();t[ql]=null}t[Do]&=-73}catch(Ae){throw jt(t),Ae}finally{null!==ne&&(ae(ne,k),function uC(e){e.lView[Za]!==e&&(e.lView=null,qy.push(e))}(ne)),Zd()}}function Jy(e,t){for(let n=Xh(e);null!==n;n=Qf(n))for(let o=Ia;o<n.length;o++)eb(n[o],t)}function _C(e,t,n){eb(el(t,e),n)}function eb(e,t){rd(e)&&av(e,t)}function av(e,t){const o=e[Ki],a=e[Do],g=e[Za];let k=!!(0===t&&16&a);if(k||=!!(64&a&&0===t),k||=!!(1024&a),k||=!(!g?.dirty||!le(g)),g&&(g.dirty=!1),e[Do]&=-9217,k)pC(o,e,o.template,e[_s]);else if(8192&a){Jy(e,1);const ne=o.components;null!==ne&&tb(e,ne,1)}}function tb(e,t,n){for(let o=0;o<t.length;o++)_C(e,t[o],n)}function Gm(e){for(e[ba].changeDetectionScheduler?.notify();e;){e[Do]|=64;const t=Vn(e);if(Rc(e)&&!t)return e;e=t}return null}class zm{get rootNodes(){const t=this._lView,n=t[Ki];return Hm(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_s]}set context(t){this._lView[_s]=t}get destroyed(){return!(256&~this._lView[Do])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[xs];if(Fa(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(_f(t,o),rr(n,o))}this._attachedToViewContainer=!1}Cp(this._lView[Ki],this._lView)}onDestroy(t){hn(this._lView,t)}markForCheck(){Gm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Do]&=-129}reattach(){vt(this._lView),this._lView[Do]|=128}detectChanges(){this._lView[Do]|=1024,zg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ag(this._lView[Ki],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t,vt(this._lView)}}let $m=(()=>{class t{}return t.__NG_ELEMENT_ID__=bC,t})();const vC=$m,yC=class extends vC{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){const a=Vm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new zm(a)}};function bC(){return $g(bo(),Tr())}function $g(e,t){return 4&e.type?new yC(t,e,Al(e,t)):null}let ab=()=>null;function Pp(e,t){return ab(e,t)}class Qg{}class zC{}class lb{}class WC{resolveComponentFactory(t){throw function $C(e){const t=Error(`No component factory found for ${Xt(e)}.`);return t.ngComponent=e,t}(t)}}let Qm=(()=>{class t{}return t.NULL=new WC,t})();class db{}let KC=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function XC(){const e=Tr(),n=el(bo().index,e);return(ka(n)?n:e)[Bo]}(),t})(),YC=(()=>{var e;class t{}return(e=t).\u0275prov=Cr({token:e,providedIn:"root",factory:()=>null}),t})();const fv={};function QC(e,t){if(null!==function F(){return f}())throw new M(-602,!1)}const ub=new Set;function Gd(e){ub.has(e)||(ub.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function hb(...e){}class nl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ll(!1),this.onMicrotaskEmpty=new Ll(!1),this.onStable=new Ll(!1),this.onError=new Ll(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&n,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function qC(){const e="function"==typeof Ke.requestAnimationFrame;let t=Ke[e?"requestAnimationFrame":"setTimeout"],n=Ke[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function e1(e){const t=()=>{!function JC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ke,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mv(e),e.isCheckStableRunning=!0,pv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,a,g,k,ne)=>{if(function t1(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(ne))return n.invokeTask(a,g,k,ne);try{return fb(e),n.invokeTask(a,g,k,ne)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),pb(e)}},onInvoke:(n,o,a,g,k,ne,Ae)=>{try{return fb(e),n.invoke(a,g,k,ne,Ae)}finally{e.shouldCoalesceRunChangeDetection&&t(),pb(e)}},onHasTask:(n,o,a,g)=>{n.hasTask(a,g),o===a&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,mv(e),pv(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(n,o,a,g)=>(n.handleError(a,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nl.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(nl.isInAngularZone())throw new M(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,a){const g=this._inner,k=g.scheduleEventTask("NgZoneEvent: "+a,t,ZC,hb,hb);try{return g.runTask(k,n,o)}finally{g.cancelTask(k)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const ZC={};function pv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function fb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pb(e){e._nesting--,pv(e)}class mb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ll,this.onMicrotaskEmpty=new Ll,this.onStable=new Ll,this.onError=new Ll}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,a){return t.apply(n,o)}}var Ef=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ef||{});const gb={destroy(){}};function _b(e,t){!t&&ya();const n=t?.injector??lo(Fl);if(!function Hs(e){return"browser"===(e??lo(Fl)).get(nh)}(n))return gb;Gd("NgAfterNextRender");const o=n.get(qm),a=o.handler??=new yb,g=t?.phase??Ef.MixedReadWrite,k=()=>{a.unregister(Ae),ne()},ne=n.get(ml).onDestroy(k),Ae=Ms(n,()=>new vb(g,()=>{k(),e()}));return a.register(Ae),{destroy:k}}class vb{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=lo(nl),this.errorHandler=lo(hc,{optional:!0}),lo(Qg,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class yb{constructor(){this.executingCallbacks=!1,this.buckets={[Ef.EarlyRead]:new Set,[Ef.Write]:new Set,[Ef.MixedReadWrite]:new Set,[Ef.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let qm=(()=>{var e;class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const a of o)a()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=Cr({token:e,providedIn:"root",factory:()=>new e}),t})();function xh(e){return!!Yn(e)}function Zg(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,g=0;if(null!==t)for(let k=0;k<t.length;k++){const ne=t[k];"number"==typeof ne?g=ne:1==g?a=gn(a,ne):2==g&&(o=gn(o,ne+": "+t[++k]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}class Eb extends Qm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Pt(t);return new eg(n,this.ngModule)}}function wb(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n];void 0!==o&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return t}class Jg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=Qo(o);const a=this.injector.get(t,fv,o);return a!==fv||n===fv?a:this.parentInjector.get(t,n,o)}}class eg extends lb{get inputs(){const t=this.componentDef,n=t.inputTransforms,o=wb(t.inputs);if(null!==n)for(const a of o)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return o}get outputs(){return wb(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ni(e){return e.map(si).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,a){const g=u(null);try{let k=(a=a||this.ngModule)instanceof ht?a:a?.injector;k&&null!==this.componentDef.getStandaloneInjector&&(k=this.componentDef.getStandaloneInjector(k)||k);const ne=k?new Jg(t,k):t,Ae=ne.get(db,null);if(null===Ae)throw new M(407,!1);const Et=ne.get(YC,null),pr={rendererFactory:Ae,sanitizer:Et,inlineEffectRunner:null,afterRenderEventManager:ne.get(qm,null),changeDetectionScheduler:ne.get(Qg,null)},Mr=Ae.createRenderer(null,this.componentDef),Qr=this.componentDef.selectors[0][0]||"div",Oi=o?function Y_(e,t,n,o){const g=o.get(m,!1)||n===eo.ShadowDom,k=e.selectRootElement(t,g);return function Q_(e){Vg(e)}(k),k}(Mr,o,this.componentDef.encapsulation,ne):wp(Mr,Qr,function a1(e){const t=e.toLowerCase();return"svg"===t?Kd:"math"===t?"math":null}(Qr));let uo=512;this.componentDef.signals?uo|=4096:this.componentDef.onPush||(uo|=16);let xo=null;null!==Oi&&(xo=sf(Oi,ne,!0));const zi=Lm(0,null,null,1,0,null,null,null,null,null,null),ms=Rp(null,zi,null,uo,null,null,pr,Mr,ne,null,xo);let ha,Ta;Nu(ms);try{const yl=this.componentDef;let yc,om=null;yl.findHostDirectiveDefs?(yc=[],om=new Map,yl.findHostDirectiveDefs(yl,yc,om),yc.push(yl)):yc=[yl];const oC=function c1(e,t){const n=e[Ki],o=Vo;return e[o]=t,jd(n,o,2,"#host",null)}(ms,Oi),aI=function d1(e,t,n,o,a,g,k){const ne=a[Ki];!function u1(e,t,n,o){for(const a of e)t.mergedAttrs=Je(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Zg(t,t.mergedAttrs,!0),null!==n&&Ip(o,n,t))}(o,e,t,k);let Ae=null;null!==t&&(Ae=sf(t,a[ra]));const Et=g.rendererFactory.createRenderer(t,n);let $t=16;n.signals?$t=4096:n.onPush&&($t=64);const En=Rp(a,Ug(n),null,$t,a[e.index],e,g,Et,null,null,Ae);return ne.firstCreatePass&&Ui(ne,e,o.length-1),Oa(a,En),a[e.index]=En}(oC,Oi,yl,yc,ms,pr,Mr);Ta=nc(zi,Vo),Oi&&function f1(e,t,n,o){if(o)tt(e,n,["ng-version","17.3.3"]);else{const{attrs:a,classes:g}=function Pr(e){const t=[],n=[];let o=1,a=2;for(;o<e.length;){let g=e[o];if("string"==typeof g)2===a?""!==g&&t.push(g,e[++o]):8===a&&n.push(g);else{if(!pe(a))break;a=g}o++}return{attrs:t,classes:n}}(t.selectors[0]);a&&tt(e,n,a),g&&g.length>0&&kg(e,n,g.join(" "))}}(Mr,yl,Oi,o),void 0!==n&&function p1(e,t,n){const o=e.projection=[];for(let a=0;a<t.length;a++){const g=n[a];o.push(null!=g?Array.from(g):null)}}(Ta,this.ngContentSelectors,n),ha=function h1(e,t,n,o,a,g){const k=bo(),ne=a[Ki],Ae=va(k,a);ct(ne,a,k,n,null,o);for(let $t=0;$t<n.length;$t++)wa(Cl(a,ne,k.directiveStart+$t,k),a);xr(ne,a,k),Ae&&wa(Ae,a);const Et=Cl(a,ne,k.directiveStart+k.componentOffset,k);if(e[_s]=a[_s]=Et,null!==g)for(const $t of g)$t(Et,t);return Fm(ne,k,a),Et}(aI,yl,yc,om,ms,[m1]),ov(zi,ms,null)}finally{Zd()}return new l1(this.componentType,ha,Al(Ta,ms),ms,Ta)}finally{u(g)}}}class l1 extends zC{constructor(t,n,o,a,g){super(),this.location=o,this._rootLView=a,this._tNode=g,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zm(a,void 0,!1),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const g=this._rootLView;iv(g[Ki],g,a,t,n),this.previousInputValues.set(t,n),Gm(el(this._tNode.index,g))}}get injector(){return new Ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function m1(){const e=bo();Jd(Tr()[Ki],e)}let e_=(()=>{class t{}return t.__NG_ELEMENT_ID__=g1,t})();function g1(){return Mb(bo(),Tr())}const _1=e_,Cb=class extends _1{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return Al(this._hostTNode,this._hostLView)}get injector(){return new Ba(this._hostTNode,this._hostLView)}get parentInjector(){const t=ou(this._hostTNode,this._hostLView);if(Vu(t)){const n=Vc(t,this._hostLView),o=Uc(t);return new Ba(n[Ki].data[o+8],n)}return new Ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Ab(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ia}createEmbeddedView(t,n,o){let a,g;"number"==typeof o?a=o:null!=o&&(a=o.index,g=o.injector);const k=Pp(this._lContainer,t.ssrId),ne=t.createEmbeddedViewImpl(n||{},g,k);return this.insertImpl(ne,a,Op(this._hostTNode,k)),ne}createComponent(t,n,o,a,g){const k=t&&!function bi(e){return"function"==typeof e}(t);let ne;if(k)ne=n;else{const Qr=n||{};ne=Qr.index,o=Qr.injector,a=Qr.projectableNodes,g=Qr.environmentInjector||Qr.ngModuleRef}const Ae=k?t:new eg(Pt(t)),Et=o||this.parentInjector;if(!g&&null==Ae.ngModule){const Oi=(k?Et:this.parentInjector).get(ht,null);Oi&&(g=Oi)}const $t=Pt(Ae.componentType??{}),En=Pp(this._lContainer,$t?.id??null),Mr=Ae.create(Et,a,En?.firstChild??null,g);return this.insertImpl(Mr.hostView,ne,Op(this._hostTNode,En)),Mr}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){const a=t._lView;if(function Qd(e){return Fa(e[xs])}(a)){const ne=this.indexOf(t);if(-1!==ne)this.detach(ne);else{const Ae=a[xs],Et=new Cb(Ae,Ae[Ys],Ae[xs]);Et.detach(Et.indexOf(t))}}const g=this._adjustIndex(n),k=this._lContainer;return jm(k,a,g,o),t.attachToViewContainerRef(),Jn(yv(k),g,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Ab(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=_f(this._lContainer,n);o&&(rr(yv(this._lContainer),n),Cp(o[Ki],o))}detach(t){const n=this._adjustIndex(t,-1),o=_f(this._lContainer,n);return o&&null!=rr(yv(this._lContainer),n)?new zm(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ab(e){return e[8]}function yv(e){return e[8]||(e[8]=[])}function Mb(e,t){let n;const o=t[e.index];return Fa(o)?n=o:(n=Il(o,t,null,e),t[e.index]=n,Oa(t,n)),Db(n,t,e,o),new Cb(n,e,t)}let Db=function Sb(e,t,n,o){if(e[Rl])return;let a;a=8&n.type?rs(o):function v1(e,t){const n=e[Bo],o=n.createComment(""),a=va(t,e);return Ru(n,Ap(n,a),o,function G_(e,t){return e.nextSibling(t)}(n,a),!1),o}(t,n),e[Rl]=a},bv=()=>!1;class xv{constructor(t){this.queryList=t,this.matches=null}clone(){return new xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ev{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let g=0;g<o;g++){const k=n.getByIndex(g);a.push(this.queries[k.indexInDeclarationView].clone())}return new Ev(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Dv(t,n).matches&&this.queries[n].setDirty()}}class Ib{constructor(t,n,o=null){this.flags=n,this.read=o,this.predicate="string"==typeof t?function M1(e){return e.split(",").map(t=>t.trim())}(t):t}}class wv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const a=null!==n?n.length:0,g=this.getByIndex(o).embeddedTView(t,a);g&&(g.indexInDeclarationView=o,null!==n?n.push(g):n=[g])}return null!==n?new wv(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Cv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const g=o[a];this.matchTNodeWithReadOption(t,n,E1(n,g)),this.matchTNodeWithReadOption(t,n,Ad(n,t,g,!1,!1))}else o===$m?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ad(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Wc||a===e_||a===$m&&4&n.type)this.addMatch(n.index,-2);else{const g=Ad(n,t,a,!1,!1);null!==g&&this.addMatch(n.index,g)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function E1(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function C1(e,t,n,o){return-1===n?function w1(e,t){return 11&e.type?Al(e,t):4&e.type?$g(e,t):null}(t,e):-2===n?function A1(e,t,n){return n===Wc?Al(t,e):n===$m?$g(t,e):n===e_?Mb(t,e):void 0}(e,t,o):Cl(e,e[Ki],n,t)}function Rb(e,t,n,o){const a=t[$a].queries[o];if(null===a.matches){const g=e.data,k=n.matches,ne=[];for(let Ae=0;null!==k&&Ae<k.length;Ae+=2){const Et=k[Ae];ne.push(Et<0?null:C1(t,g[Et],k[Ae+1],n.metadata.read))}a.matches=ne}return a.matches}function Av(e,t,n,o){const a=e.queries.getByIndex(n),g=a.matches;if(null!==g){const k=Rb(e,t,a,n);for(let ne=0;ne<g.length;ne+=2){const Ae=g[ne];if(Ae>0)o.push(k[ne/2]);else{const Et=g[ne+1],$t=t[-Ae];for(let En=Ia;En<$t.length;En++){const pr=$t[En];pr[qc]===pr[xs]&&Av(pr[Ki],pr,Et,o)}if(null!==$t[sl]){const En=$t[sl];for(let pr=0;pr<En.length;pr++){const Mr=En[pr];Av(Mr[Ki],Mr,Et,o)}}}}}return o}function Mv(e,t){return e[$a].queries[t].queryList}function Ob(e,t,n){const o=new Yu(!(4&~n));return function J_(e,t,n,o){const a=Um(t);a.push(n),e.firstCreatePass&&Ky(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[$a]??=new Ev).queries.push(new xv(o))-1}function Pb(e,t,n){const o=Eo();return o.firstCreatePass&&(Fb(o,new Ib(e,t,n),-1),!(2&~t)&&(o.staticViewQueries=!0)),Ob(o,Tr(),t)}function Fb(e,t,n){null===e.queries&&(e.queries=new wv),e.queries.track(new Cv(t,n))}function Dv(e,t){return e.queries.getByIndex(t)}function Bb(e,t){const n=e[Ki],o=Dv(n,t);return o.crossesNgTemplate?Av(n,e,t,[]):Rb(n,e,o,t)}function Tv(e){return"function"==typeof e&&void 0!==e[C]}function Nb(e,t){Gd("NgSignals");const n=function ge(e){const t=Object.create(ln);t.value=e;const n=()=>(y(t),t.value);return n[C]=t,n}(e),o=n[C];return t?.equal&&(o.equal=t.equal),n.set=a=>xt(o,a),n.update=a=>function Ht(e,t){K()||ve(),xt(e,t(e.value))}(o,a),n.asReadonly=Lb.bind(n),n}function Lb(){const e=this[C];if(void 0===e.readonlyFn){const t=()=>this();t[C]=e,e.readonlyFn=t}return e.readonlyFn}function Ub(e){return Tv(e)&&"function"==typeof e.set}function Sv(e,t){let n;const o=be(()=>{n._dirtyCounter();const a=function T1(e,t){const n=e._lView,o=e._queryIndex;if(void 0===n||void 0===o||4&n[Do])return t?void 0:fr;const a=Mv(n,o),g=Bb(n,o);return a.reset(g,Uh),t?a.first:a._changesDetected||void 0===e._flatValue?e._flatValue=a.toArray():e._flatValue}(n,e);if(t&&void 0===a)throw new M(-951,!1);return a});return n=o[C],n._dirtyCounter=Nb(0),n._flatValue=void 0,o}function zb(e,t){return function Vb(){return Sv(!0,!1)}()}const I1=(zb.required=function S1(e,t){return function jb(){return Sv(!0,!0)}()},zb);function Iv(e){let t=function qb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let a;if(bl(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);a=t.\u0275dir}if(a){if(n){o.push(a);const k=e;k.inputs=n_(e.inputs),k.inputTransforms=n_(e.inputTransforms),k.declaredInputs=n_(e.declaredInputs),k.outputs=n_(e.outputs);const ne=a.hostBindings;ne&&G1(e,ne);const Ae=a.viewQuery,Et=a.contentQueries;if(Ae&&j1(e,Ae),Et&&H1(e,Et),U1(e,a),Lt(e.outputs,a.outputs),bl(a)&&a.data.animation){const $t=e.data;$t.animation=($t.animation||[]).concat(a.data.animation)}}const g=a.features;if(g)for(let k=0;k<g.length;k++){const ne=g[k];ne&&ne.ngInherit&&ne(e),ne===Iv&&(n=!1)}}t=Object.getPrototypeOf(t)}!function V1(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Je(a.hostAttrs,n=Je(n,a.hostAttrs))}}(o)}function U1(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const o=t.inputs[n];if(void 0!==o&&(e.inputs[n]=o,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const a=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function n_(e){return e===zn?{}:e===fr?[]:e}function j1(e,t){const n=e.viewQuery;e.viewQuery=n?(o,a)=>{t(o,a),n(o,a)}:t}function H1(e,t){const n=e.contentQueries;e.contentQueries=n?(o,a,g)=>{t(o,a,g),n(o,a,g)}:t}function G1(e,t){const n=e.hostBindings;e.hostBindings=n?(o,a)=>{t(o,a),n(o,a)}:t}function t0(e){const t=e.inputConfig,n={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(n[o]=a[3])}e.inputTransforms=n}class wf{}class n0{}function Y1(e,t){return new Rv(e,t??null,[])}class Rv extends wf{constructor(t,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const a=Yn(t);this._bootstrapComponents=mo(a.bootstrap),this._r3Injector=Vf(t,n,[{provide:wf,useValue:this},{provide:Qm,useValue:this.componentFactoryResolver},...o],Xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ov extends n0{constructor(t){super(),this.moduleType=t}create(t){return new Rv(this.moduleType,t,[])}}class r0 extends wf{constructor(t){super(),this.componentFactoryResolver=new Eb(this),this.instance=null;const n=new Vt([...t.providers,{provide:wf,useValue:this},{provide:Qm,useValue:this.componentFactoryResolver}],t.parent||et(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Pv(e,t,n=null){return new r0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Fp=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function i_(e){return!!kv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function kv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zd(e,t,n){return e[t]=n}function ng(e,t){return e[t]}function rl(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Cf(e,t,n,o){const a=rl(e,t,n);return rl(e,t+1,o)||a}function o_(e,t,n,o,a){const g=Cf(e,t,n,o);return rl(e,t+2,a)||g}function Qc(e,t,n,o,a,g){const k=Cf(e,t,n,o);return Cf(e,t+2,a,g)||k}function Bp(e,t,n,o,a,g,k,ne){const Ae=Tr(),Et=Eo(),$t=e+Vo,En=Et.firstCreatePass?function nA(e,t,n,o,a,g,k,ne,Ae){const Et=t.consts,$t=jd(t,e,4,k||null,Ol(Et,ne));se(t,n,$t,Ol(Et,Ae)),Jd(t,$t);const En=$t.tView=Lm(2,$t,o,a,g,t.directiveRegistry,t.pipeRegistry,null,t.schemas,Et,null);return null!==t.queries&&(t.queries.template(t,$t),En.queries=t.queries.embeddedTView($t)),$t}($t,Et,Ae,t,n,o,a,g,k):Et.data[$t];Ts(En,!1);const pr=o0(Et,Ae,En,e);Lc()&&Tp(Et,Ae,pr,En),wa(pr,Ae);const Mr=Il(pr,Ae,pr,En);return Ae[$t]=Mr,Oa(Ae,Mr),function Tb(e,t,n){return bv(e,t,n)}(Mr,En,Ae),Zc(En)&&Bm(Et,Ae,En),null!=k&&Nm(Ae,En,ne),Bp}let o0=function s0(e,t,n,o){return Gl(!0),t[Bo].createComment("")};function zv(e,t,n,o){const a=Tr();return rl(a,Hl(),t)&&(Eo(),function Wo(e,t,n,o,a,g){const k=va(e,t);$s(t[Bo],k,g,e.value,n,o,a)}(ea(),a,e,t,n,o)),zv}function u_(e,t){return e<<17|t<<2}function Ch(e){return e>>17&32767}function $v(e){return 2|e}function Mf(e){return(131068&e)>>2}function Wv(e,t){return-131069&e|t<<2}function Kv(e){return 1|e}function N0(e,t,n,o){const a=e[n+1],g=null===t;let k=o?Ch(a):Mf(a),ne=!1;for(;0!==k&&(!1===ne||g);){const Et=e[k+1];jA(e[k],t)&&(ne=!0,e[k+1]=o?Kv(Et):$v(Et)),k=o?Ch(Et):Mf(Et)}ne&&(e[n+1]=o?$v(a):Kv(a))}function jA(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xe(e,t)>=0}const _l={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L0(e){return e.substring(_l.key,_l.keyEnd)}function HA(e){return e.substring(_l.value,_l.valueEnd)}function U0(e,t){const n=_l.textEnd;return n===t?-1:(t=_l.keyEnd=function $A(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,_l.key=t,n),Zp(e,t,n))}function V0(e,t){const n=_l.textEnd;let o=_l.key=Zp(e,t,n);return n===o?-1:(o=_l.keyEnd=function WA(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=H0(e,o,n),o=_l.value=Zp(e,o,n),o=_l.valueEnd=function KA(e,t,n){let o=-1,a=-1,g=-1,k=t,ne=k;for(;k<n;){const Ae=e.charCodeAt(k++);if(59===Ae)return ne;34===Ae||39===Ae?ne=k=G0(e,Ae,k,n):t===k-4&&85===g&&82===a&&76===o&&40===Ae?ne=k=G0(e,41,k,n):Ae>32&&(ne=k),g=a,a=o,o=-33&Ae}return ne}(e,o,n),H0(e,o,n))}function j0(e){_l.key=0,_l.keyEnd=0,_l.value=0,_l.valueEnd=0,_l.textEnd=e.length}function Zp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function H0(e,t,n,o){return(t=Zp(e,t,n))<n&&t++,t}function G0(e,t,n,o){let a=-1,g=n;for(;g<o;){const k=e.charCodeAt(g++);if(k==t&&92!==a)return g;a=92==k&&92===a?0:k}throw new Error}function Xv(e,t,n){const o=Tr();return rl(o,Hl(),t)&&Wl(Eo(),ea(),o,e,t,o[Bo],n,!1),Xv}function Yv(e,t,n,o,a){const k=a?"class":"style";iv(e,n,t.inputs[k],k,o)}function Qv(e,t,n){return md(e,t,n,!1),Qv}function qv(e,t){return md(e,t,null,!0),qv}function pd(e){gd(K0,XA,e,!1)}function XA(e,t){for(let n=function zA(e){return j0(e),V0(e,Zp(e,0,_l.textEnd))}(t);n>=0;n=V0(t,n))K0(e,L0(t),HA(t))}function z0(e){gd(eM,$d,e,!0)}function $d(e,t){for(let n=function GA(e){return j0(e),U0(e,Zp(e,0,_l.textEnd))}(t);n>=0;n=U0(t,n))Ut(e,L0(t),!0)}function md(e,t,n,o){const a=Tr(),g=Eo(),k=Cc(2);g.firstUpdatePass&&W0(g,e,k,o),t!==Is&&rl(a,k,t)&&X0(g,g.data[Js()],a,a[Bo],e,a[k+1]=function nM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Xt(Mn(e)))),e}(t,n),o,k)}function gd(e,t,n,o){const a=Eo(),g=Cc(2);a.firstUpdatePass&&W0(a,null,g,o);const k=Tr();if(n!==Is&&rl(k,g,n)){const ne=a.data[Js()];if(Q0(ne,o)&&!$0(a,g)){let Ae=o?ne.classesWithoutHost:ne.stylesWithoutHost;null!==Ae&&(n=gn(Ae,n||"")),Yv(a,ne,k,n,o)}else!function tM(e,t,n,o,a,g,k,ne){a===Is&&(a=fr);let Ae=0,Et=0,$t=0<a.length?a[0]:null,En=0<g.length?g[0]:null;for(;null!==$t||null!==En;){const pr=Ae<a.length?a[Ae+1]:void 0,Mr=Et<g.length?g[Et+1]:void 0;let Oi,Qr=null;$t===En?(Ae+=2,Et+=2,pr!==Mr&&(Qr=En,Oi=Mr)):null===En||null!==$t&&$t<En?(Ae+=2,Qr=$t):(Et+=2,Qr=En,Oi=Mr),null!==Qr&&X0(e,t,n,o,Qr,Oi,k,ne),$t=Ae<a.length?a[Ae]:null,En=Et<g.length?g[Et]:null}}(a,ne,k,k[Bo],k[g+1],k[g+1]=function JA(e,t,n){if(null==n||""===n)return fr;const o=[],a=Mn(n);if(Array.isArray(a))for(let g=0;g<a.length;g++)e(o,a[g],!0);else if("object"==typeof a)for(const g in a)a.hasOwnProperty(g)&&e(o,g,a[g]);else"string"==typeof a&&t(o,a);return o}(e,t,n),o,g)}}function $0(e,t){return t>=e.expandoStartIndex}function W0(e,t,n,o){const a=e.data;if(null===a[n+1]){const g=a[Js()],k=$0(e,n);Q0(g,o)&&null===t&&!k&&(t=!1),t=function YA(e,t,n,o){const a=ku(e);let g=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(n=ag(n=Zv(null,e,t,n,o),t.attrs,o),g=null);else{const k=t.directiveStylingLast;if(-1===k||e[k]!==a)if(n=Zv(a,e,t,n,o),null===g){let Ae=function QA(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Mf(o))return e[Ch(o)]}(e,t,o);void 0!==Ae&&Array.isArray(Ae)&&(Ae=Zv(null,e,t,Ae[1],o),Ae=ag(Ae,t.attrs,o),function qA(e,t,n,o){e[Ch(n?t.classBindings:t.styleBindings)]=o}(e,t,o,Ae))}else g=function ZA(e,t,n){let o;const a=t.directiveEnd;for(let g=1+t.directiveStylingLast;g<a;g++)o=ag(o,e[g].hostAttrs,n);return ag(o,t.attrs,n)}(e,t,o)}return void 0!==g&&(o?t.residualClasses=g:t.residualStyles=g),n}(a,g,t,o),function UA(e,t,n,o,a,g){let k=g?t.classBindings:t.styleBindings,ne=Ch(k),Ae=Mf(k);e[o]=n;let $t,Et=!1;if(Array.isArray(n)?($t=n[1],(null===$t||Xe(n,$t)>0)&&(Et=!0)):$t=n,a)if(0!==Ae){const pr=Ch(e[ne+1]);e[o+1]=u_(pr,ne),0!==pr&&(e[pr+1]=Wv(e[pr+1],o)),e[ne+1]=function NA(e,t){return 131071&e|t<<17}(e[ne+1],o)}else e[o+1]=u_(ne,0),0!==ne&&(e[ne+1]=Wv(e[ne+1],o)),ne=o;else e[o+1]=u_(Ae,0),0===ne?ne=o:e[Ae+1]=Wv(e[Ae+1],o),Ae=o;Et&&(e[o+1]=$v(e[o+1])),N0(e,$t,o,!0),N0(e,$t,o,!1),function VA(e,t,n,o,a){const g=a?e.residualClasses:e.residualStyles;null!=g&&"string"==typeof t&&Xe(g,t)>=0&&(n[o+1]=Kv(n[o+1]))}(t,$t,e,o,g),k=u_(ne,Ae),g?t.classBindings=k:t.styleBindings=k}(a,g,t,n,k,o)}}function Zv(e,t,n,o,a){let g=null;const k=n.directiveEnd;let ne=n.directiveStylingLast;for(-1===ne?ne=n.directiveStart:ne++;ne<k&&(g=t[ne],o=ag(o,g.hostAttrs,a),g!==e);)ne++;return null!==e&&(n.directiveStylingLast=ne),o}function ag(e,t,n){const o=n?1:2;let a=-1;if(null!==t)for(let g=0;g<t.length;g++){const k=t[g];"number"==typeof k?a=k:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ut(e,k,!!n||t[++g]))}return void 0===e?null:e}function K0(e,t,n){Ut(e,t,Mn(n))}function eM(e,t,n){const o=String(t);""!==o&&!o.includes(" ")&&Ut(e,o,n)}function X0(e,t,n,o,a,g,k,ne){if(!(3&t.type))return;const Ae=e.data,Et=Ae[ne+1],$t=function LA(e){return!(1&~e)}(Et)?Y0(Ae,t,n,a,Mf(Et),k):void 0;h_($t)||(h_(g)||function BA(e){return!(2&~e)}(Et)&&(g=Y0(Ae,null,n,a,ne,k)),function W_(e,t,n,o,a){if(t)a?e.addClass(n,o):e.removeClass(n,o);else{let g=-1===o.indexOf("-")?void 0:ul.DashCase;null==a?e.removeStyle(n,o,g):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),g|=ul.Important),e.setStyle(n,o,a,g))}}(o,k,Ec(Js(),n),a,g))}function Y0(e,t,n,o,a,g){const k=null===t;let ne;for(;a>0;){const Ae=e[a],Et=Array.isArray(Ae),$t=Et?Ae[1]:Ae,En=null===$t;let pr=n[a+1];pr===Is&&(pr=En?fr:void 0);let Mr=En?dn(pr,o):$t===o?pr:void 0;if(Et&&!h_(Mr)&&(Mr=dn(Ae,o)),h_(Mr)&&(ne=Mr,k))return ne;const Qr=e[a+1];a=k?Ch(Qr):Mf(Qr)}if(null!==t){let Ae=g?t.residualClasses:t.residualStyles;null!=Ae&&(ne=dn(Ae,o))}return ne}function h_(e){return void 0!==e}function Q0(e,t){return!!(e.flags&(t?8:16))}class fM{destroy(t){}updateValue(t,n){}swap(t,n){const o=Math.min(t,n),a=Math.max(t,n),g=this.detach(a);if(a-o>1){const k=this.detach(o);this.attach(o,g),this.attach(a,k)}else this.attach(o,g)}move(t,n){this.attach(n,this.detach(t))}}function Jv(e,t,n,o,a){return e===n&&Object.is(t,o)?1:Object.is(a(e,t),a(n,o))?-1:0}function ey(e,t,n,o){return!(void 0===t||!t.has(o)||(e.attach(n,t.get(o)),t.delete(o),0))}function q0(e,t,n,o,a){if(ey(e,t,o,n(o,a)))e.updateValue(o,a);else{const g=e.create(o,a);e.attach(o,g)}}function Z0(e,t,n,o){const a=new Set;for(let g=t;g<=n;g++)a.add(o(g,e.at(g)));return a}class J0{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let o=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(o);)o=a.get(o);a.set(o,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,o]of this.kvMap)if(t(o,n),void 0!==this._vMap){const a=this._vMap;for(;a.has(o);)o=a.get(o),t(o,n)}}}function ex(e,t,n){Gd("NgControlFlow");const o=Tr(),a=Hl(),g=ty(o,Vo+e);if(rl(o,a,t)){const ne=u(null);try{if(sv(g,0),-1!==t){const Ae=ny(o[Ki],Vo+t),Et=Pp(g,Ae.tView.ssrId);jm(g,Vm(o,Ae,n,{dehydratedView:Et}),0,Op(Ae,Et))}}finally{u(ne)}}else{const ne=Yy(g,0);void 0!==ne&&(ne[_s]=n)}}class mM{constructor(t,n,o){this.lContainer=t,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-Ia}}function tx(e,t){return t}class _M{constructor(t,n,o){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=o}}function nx(e,t,n,o,a,g,k,ne,Ae,Et,$t,En,pr){Gd("NgControlFlow");const Mr=void 0!==Ae,Qr=Tr(),Oi=ne?k.bind(Qr[da][_s]):k,uo=new _M(Mr,Oi);Qr[Vo+e]=uo,Bp(e+1,t,n,o,a,g),Mr&&Bp(e+2,Ae,Et,$t,En,pr)}class vM extends fM{constructor(t,n,o){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=o,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ia}at(t){return this.getLView(t)[_s].$implicit}attach(t,n){const o=n[sa];this.needsIndexUpdate||=t!==this.length,jm(this.lContainer,n,t,Op(this.templateTNode,o))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function yM(e,t){return _f(e,t)}(this.lContainer,t)}create(t,n){const o=Pp(this.lContainer,this.templateTNode.tView.ssrId);return Vm(this.hostLView,this.templateTNode,new mM(this.lContainer,n,t),{dehydratedView:o})}destroy(t){Cp(t[Ki],t)}updateValue(t,n){this.getLView(t)[_s].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[_s].$index=t}getLView(t){return function bM(e,t){return Yy(e,t)}(this.lContainer,t)}}function rx(e){const t=u(null),n=Js();try{const o=Tr(),a=o[Ki],g=o[n];if(void 0===g.liveCollection){const ne=n+1,Ae=ty(o,ne),Et=ny(a,ne);g.liveCollection=new vM(Ae,o,Et)}else g.liveCollection.reset();const k=g.liveCollection;if(function pM(e,t,n){let o,a,g=0,k=e.length-1;if(Array.isArray(t)){let ne=t.length-1;for(;g<=k&&g<=ne;){const Ae=e.at(g),Et=t[g],$t=Jv(g,Ae,g,Et,n);if(0!==$t){$t<0&&e.updateValue(g,Et),g++;continue}const En=e.at(k),pr=t[ne],Mr=Jv(k,En,ne,pr,n);if(0!==Mr){Mr<0&&e.updateValue(k,pr),k--,ne--;continue}const Qr=n(g,Ae),Oi=n(k,En),uo=n(g,Et);if(Object.is(uo,Oi)){const xo=n(ne,pr);Object.is(xo,Qr)?(e.swap(g,k),e.updateValue(k,pr),ne--,k--):e.move(k,g),e.updateValue(g,Et),g++}else if(o??=new J0,a??=Z0(e,g,k,n),ey(e,o,g,uo))e.updateValue(g,Et),g++,k++;else if(a.has(uo))o.set(Qr,e.detach(g)),k--;else{const xo=e.create(g,t[g]);e.attach(g,xo),g++,k++}}for(;g<=ne;)q0(e,o,n,g,t[g]),g++}else if(null!=t){const ne=t[Symbol.iterator]();let Ae=ne.next();for(;!Ae.done&&g<=k;){const Et=e.at(g),$t=Ae.value,En=Jv(g,Et,g,$t,n);if(0!==En)En<0&&e.updateValue(g,$t),g++,Ae=ne.next();else{o??=new J0,a??=Z0(e,g,k,n);const pr=n(g,$t);if(ey(e,o,g,pr))e.updateValue(g,$t),g++,k++,Ae=ne.next();else if(a.has(pr)){const Mr=n(g,Et);o.set(Mr,e.detach(g)),k--}else e.attach(g,e.create(g,$t)),g++,k++,Ae=ne.next()}}for(;!Ae.done;)q0(e,o,n,e.length,Ae.value),Ae=ne.next()}for(;g<=k;)e.destroy(e.detach(k--));o?.forEach(ne=>{e.destroy(ne)})}(k,e,g.trackByFn),k.updateIndexes(),g.hasEmptyBlock){const ne=Hl(),Ae=0===k.length;if(rl(o,ne,Ae)){const Et=n+2,$t=ty(o,Et);if(Ae){const En=ny(a,Et),pr=Pp($t,En.tView.ssrId);jm($t,Vm(o,En,void 0,{dehydratedView:pr}),0,Op(En,pr))}else sv($t,0)}}}finally{u(t)}}function ty(e,t){return e[t]}function ny(e,t){return nc(e,t)}function f_(e,t,n,o){const a=Tr(),g=Eo(),k=Vo+e,ne=a[Bo],Ae=g.firstCreatePass?function xM(e,t,n,o,a,g){const k=t.consts,Ae=jd(t,e,2,o,Ol(k,a));return se(t,n,Ae,Ol(k,g)),null!==Ae.attrs&&Zg(Ae,Ae.attrs,!1),null!==Ae.mergedAttrs&&Zg(Ae,Ae.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Ae),Ae}(k,g,a,t,n,o):g.data[k],Et=ix(g,a,Ae,ne,t,e);a[k]=Et;const $t=Zc(Ae);return Ts(Ae,!0),Ip(ne,Et,Ae),!function rg(e){return!(32&~e.flags)}(Ae)&&Lc()&&Tp(g,a,Et,Ae),0===function ei(){return Nn.lFrame.elementDepthCount}()&&wa(Et,a),function oi(){Nn.lFrame.elementDepthCount++}(),$t&&(Bm(g,a,Ae),Fm(g,Ae,a)),null!==o&&Nm(a,Ae),f_}function p_(){let e=bo();is()?Ua():(e=e.parent,Ts(e,!1));const t=e;(function So(e){return Nn.skipHydrationRootTNode===e})(t)&&function Uo(){Nn.skipHydrationRootTNode=null}(),function wi(){Nn.lFrame.elementDepthCount--}();const n=Eo();return n.firstCreatePass&&(Jd(n,e),Ic(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ad(e){return!!(8&e.flags)}(t)&&Yv(n,t,Tr(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function nu(e){return!!(16&e.flags)}(t)&&Yv(n,t,Tr(),t.stylesWithoutHost,!1),p_}function ry(e,t,n,o){return f_(e,t,n,o),p_(),ry}let ix=(e,t,n,o,a,g)=>(Gl(!0),wp(o,a,function Ed(){return Nn.lFrame.currentNamespace}()));function m_(e,t,n){const o=Tr(),a=Eo(),g=e+Vo,k=a.firstCreatePass?function CM(e,t,n,o,a){const g=t.consts,k=Ol(g,o),ne=jd(t,e,8,"ng-container",k);return null!==k&&Zg(ne,k,!0),se(t,n,ne,Ol(g,a)),null!==t.queries&&t.queries.elementStart(t,ne),ne}(g,a,o,t,n):a.data[g];Ts(k,!0);const ne=ox(a,o,k,e);return o[g]=ne,Lc()&&Tp(a,o,ne,k),wa(ne,o),Zc(k)&&(Bm(a,o,k),Fm(a,k,o)),null!=n&&Nm(o,k),m_}function g_(){let e=bo();const t=Eo();return is()?Ua():(e=e.parent,Ts(e,!1)),t.firstCreatePass&&(Jd(t,e),Ic(e)&&t.queries.elementEnd(e)),g_}function iy(e,t,n){return m_(e,t,n),g_(),iy}let ox=(e,t,n,o)=>(Gl(!0),Tm(t[Bo],""));function sx(){return Tr()}function oy(e,t,n){const o=Tr();return rl(o,Hl(),t)&&Wl(Eo(),ea(),o,e,t,o[Bo],n,!0),oy}function sy(e,t,n){const o=Tr();if(rl(o,Hl(),t)){const g=Eo(),k=ea();Wl(g,k,o,e,t,Xy(ku(g.data),k,o),n,!0)}return sy}const Df=void 0;var TM=["en",[["a","p"],["AM","PM"],Df],[["AM","PM"],Df,Df],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Df,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Df,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Df,"{1} 'at' {0}",Df],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DM(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let Jp={};function SM(e,t,n){"string"!=typeof t&&(n=t,t=e[em.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Jp[t]=e,n&&(Jp[t][em.ExtraData]=n)}function ay(e){const t=function IM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=lx(t);if(n)return n;const o=t.split("-")[0];if(n=lx(o),n)return n;if("en"===o)return TM;throw new M(701,!1)}function ax(e){return ay(e)[em.PluralCase]}function lx(e){return e in Jp||(Jp[e]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[e]),Jp[e]}var em=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(em||{});const RM=["zero","one","two","few","many"],tm="en-US",__={marker:"element"},v_={marker:"ICU"};var vc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(vc||{});let cx=tm;function ux(e,t,n){const o=t.insertBeforeIndex,a=Array.isArray(o)?o[0]:o;return null===a?Mp(e,0,n):rs(n[a])}function hx(e,t,n,o,a){const g=t.insertBeforeIndex;if(Array.isArray(g)){let k=o,ne=null;if(3&t.type||(ne=k,k=a),null!==k&&-1===t.componentOffset)for(let Ae=1;Ae<g.length;Ae++)Ru(e,k,n[g[Ae]],ne,!1)}}function fx(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];px(o)||FM(o,t)&&null===BM(o)&&NM(o,t.index)}}function px(e){return!(64&e.type)}function FM(e,t){return px(t)||e.index>t.index}function BM(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function NM(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Rg(ux,hx),e.insertBeforeIndex=t)}function lg(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function VM(e,t,n){const o=bf(e,n,64,null,null);return fx(t,o),o}function y_(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function mx(e){return e>>>17}function gx(e){return(131070&e)>>>1}let cg=0,dg=0;let ug=(e,t,n,o)=>(Gl(!0),function vx(e,t,n){const o=e[Bo];switch(n){case Node.COMMENT_NODE:return Tm(o,t);case Node.TEXT_NODE:return Ep(o,t);case Node.ELEMENT_NODE:return wp(o,t,null)}}(e,n,o));function yx(e,t,n,o){const a=n[Bo];let k,g=null;for(let ne=0;ne<t.length;ne++){const Ae=t[ne];if("string"==typeof Ae){const Et=t[++ne];null===n[Et]&&(n[Et]=ug(n,Et,Ae,Node.TEXT_NODE))}else if("number"==typeof Ae)switch(1&Ae){case 0:const Et=mx(Ae);let $t,En;if(null===g&&(g=Et,k=Ap(a,o)),Et===g?($t=o,En=k):($t=null,En=rs(n[Et])),null!==En){const Oi=gx(Ae);Ru(a,En,n[Oi],$t,!1);const xo=lg(e,Oi);if(null!==xo&&"object"==typeof xo){const zi=y_(xo,n);null!==zi&&yx(e,xo.create[zi],n,n[xo.anchorIdx])}}break;case 1:const Mr=t[++ne],Qr=t[++ne];$s(a,Ec(Ae>>>1,n),null,null,Mr,Qr,null)}else switch(Ae){case v_:const Et=t[++ne],$t=t[++ne];null===n[$t]&&wa(n[$t]=ug(n,$t,Et,Node.COMMENT_NODE),n);break;case __:const En=t[++ne],pr=t[++ne];null===n[pr]&&wa(n[pr]=ug(n,pr,En,Node.ELEMENT_NODE),n)}}}function bx(e,t,n,o,a){for(let g=0;g<n.length;g++){const k=n[g],ne=n[++g];if(k&a){let Ae="";for(let Et=g+1;Et<=g+ne;Et++){const $t=n[Et];if("string"==typeof $t)Ae+=$t;else if("number"==typeof $t)if($t<0)Ae+=Ji(t[o-$t]);else{const En=$t>>>2;switch(3&$t){case 1:const pr=n[++Et],Mr=n[++Et],Qr=e.data[En];"string"==typeof Qr?$s(t[Bo],t[En],null,Qr,pr,Ae,Mr):Wl(e,Qr,t,pr,Ae,t[Bo],Mr,!1);break;case 0:const Oi=t[En];null!==Oi&&Cg(t[Bo],Oi,Ae);break;case 2:KM(e,lg(e,En),t,Ae);break;case 3:xx(e,lg(e,En),o,t)}}}}else{const Ae=n[g+1];if(Ae>0&&!(3&~Ae)){const $t=lg(e,Ae>>>2);t[$t.currentCaseLViewIndex]<0&&xx(e,$t,o,t)}}g+=ne}}function xx(e,t,n,o){let a=o[t.currentCaseLViewIndex];if(null!==a){let g=cg;a<0&&(a=o[t.currentCaseLViewIndex]=~a,g=-1),bx(e,o,t.update[a],n,g)}}function KM(e,t,n,o){const a=function XM(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function OM(e,t){const n=ax(t)(parseInt(e,10)),o=RM[n];return void 0!==o?o:"other"}(t,function kM(){return cx}());n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(y_(t,n)!==a&&(Ex(e,t,n),n[t.currentCaseLViewIndex]=null===a?null:~a,null!==a)){const k=n[t.anchorIdx];k&&yx(e,t.create[a],n,k)}}function Ex(e,t,n){let o=y_(t,n);if(null!==o){const a=t.remove[o];for(let g=0;g<a.length;g++){const k=a[g];if(k>0){const ne=Ec(k,n);null!==ne&&yf(n[Bo],ne)}else Ex(e,lg(e,~k),n)}}}function YM(){const e=[];let n,o,t=-1;function g(ne,Ae){t=0;const Et=y_(ne,Ae);o=null!==Et?ne.remove[Et]:fr}function k(){if(t<o.length){const ne=o[t++];return ne>0?n[ne]:(e.push(t,o),g(n[Ki].data[~ne],n),k())}return 0===e.length?null:(o=e.pop(),t=e.pop(),k())}return function a(ne,Ae){for(n=Ae;e.length;)e.pop();return g(ne.value,Ae),k}}const b_=/\ufffd(\d+):?\d*\ufffd/gi,qM=/\ufffd(\d+)\ufffd/,Cx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,hg="\ufffd",ZM=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,JM=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eD=/\uE500/g;function Ax(e,t,n,o,a,g,k){const ne=xf(e,o,1,null);let Ae=ne<<vc.SHIFT,Et=Zs();t===Et&&(Et=null),null===Et&&(Ae|=vc.APPEND_EAGERLY),k&&(Ae|=vc.COMMENT,function ac(e){void 0===Tl&&(Tl=e())}(YM)),a.push(Ae,null===g?"":g);const $t=bf(e,ne,k?32:1,null===g?"":g,null);fx(n,$t);const En=$t.index;return Ts($t,!1),null!==Et&&t!==Et&&function UM(e,t){let n=e.insertBeforeIndex;null===n?(Rg(ux,hx),n=e.insertBeforeIndex=[null,t]):(it(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(Et,En),$t}function rD(e,t,n,o,a,g,k,ne){const Ae=ne.match(b_),$t=Ax(t,n,o,k,a,Ae?null:ne,!1).index;Ae&&fg(g,ne,$t,null,0,null),e.push({kind:0,index:$t})}function fg(e,t,n,o,a,g){const k=e.length,ne=k+1;e.push(null,null);const Ae=k+2,Et=t.split(b_);let $t=0;for(let En=0;En<Et.length;En++){const pr=Et[En];if(1&En){const Mr=a+parseInt(pr,10);e.push(-1-Mr),$t|=Mx(Mr)}else""!==pr&&e.push(pr)}return e.push(n<<2|(o?1:0)),o&&e.push(o,g),e[k]=$t,e[ne]=e.length-Ae,$t}function Mx(e){return 1<<Math.min(e,31)}function Dx(e){let t,g,n="",o=0,a=!1;for(;null!==(t=ZM.exec(e));)a?t[0]===`${hg}/*${g}${hg}`&&(o=t.index,a=!1):(n+=e.substring(o,t.index+t[0].length),g=t[1],a=!0);return n+=e.slice(o),n}function Tx(e,t,n,o,a,g,k){let ne=0;const Ae={type:g.type,currentCaseLViewIndex:xf(t,n,1,null),anchorIdx:k,cases:[],create:[],remove:[],update:[]};(function uD(e,t,n){e.push(Mx(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(o,g,k),function LM(e,t,n){const o=e.data[t];null===o?e.data[t]=n:o.value=n}(t,k,Ae);const Et=g.values,$t=[];for(let En=0;En<Et.length;En++){const pr=Et[En],Mr=[];for(let Oi=0;Oi<pr.length;Oi++){const uo=pr[Oi];if("string"!=typeof uo){const xo=Mr.push(uo)-1;pr[Oi]=`\x3c!--\ufffd${xo}\ufffd--\x3e`}}const Qr=[];$t.push(Qr),ne=cD(Qr,t,Ae,n,o,a,g.cases[En],pr.join(""),Mr)|ne}ne&&function hD(e,t,n){e.push(t,1,n<<2|3)}(o,ne,k),e.push({kind:3,index:k,cases:$t,currentCaseLViewIndex:Ae.currentCaseLViewIndex})}function lD(e){const t=[],n=[];let o=1,a=0;const g=ly(e=e.replace(Cx,function(k,ne,Ae){return o="select"===Ae?0:1,a=parseInt(ne.slice(1),10),""}));for(let k=0;k<g.length;){let ne=g[k++].trim();1===o&&(ne=ne.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ne.length&&t.push(ne);const Ae=ly(g[k++]);t.length>n.length&&n.push(Ae)}return{type:o,mainBinding:a,cases:t,values:n}}function ly(e){if(!e)return[];let t=0;const n=[],o=[],a=/[{}]/g;let g;for(a.lastIndex=0;g=a.exec(e);){const ne=g.index;if("}"==g[0]){if(n.pop(),0==n.length){const Ae=e.substring(t,ne);Cx.test(Ae)?o.push(lD(Ae)):o.push(Ae),t=ne+1}}else{if(0==n.length){const Ae=e.substring(t,ne);o.push(Ae),t=ne+1}n.push("{")}}const k=e.substring(t);return o.push(k),o}function cD(e,t,n,o,a,g,k,ne,Ae){const Et=[],$t=[],En=[];n.cases.push(k),n.create.push(Et),n.remove.push($t),n.update.push(En);const Mr=Br(Kc()).getInertBodyElement(ne),Qr=Mu(Mr)||Mr;return Qr?Sx(e,t,n,o,a,Et,$t,En,Qr,g,Ae,0):0}function Sx(e,t,n,o,a,g,k,ne,Ae,Et,$t,En){let pr=0,Mr=Ae.firstChild;for(;Mr;){const Qr=xf(t,o,1,null);switch(Mr.nodeType){case Node.ELEMENT_NODE:const Oi=Mr,uo=Oi.tagName.toLowerCase();if(ia.hasOwnProperty(uo)){cy(g,__,uo,Et,Qr),t.data[Qr]=uo;const ha=Oi.attributes;for(let yl=0;yl<ha.length;yl++){const yc=ha.item(yl),om=yc.name.toLowerCase();yc.value.match(b_)?Ra.hasOwnProperty(om)&&fg(ne,yc.value,Qr,yc.name,0,Qs[om]?ro:null):fD(g,Qr,yc)}const Ta={kind:1,index:Qr,children:[]};e.push(Ta),pr=Sx(Ta.children,t,n,o,a,g,k,ne,Mr,Qr,$t,En+1)|pr,Ix(k,Qr,En)}break;case Node.TEXT_NODE:const xo=Mr.textContent||"",zi=xo.match(b_);cy(g,null,zi?"":xo,Et,Qr),Ix(k,Qr,En),zi&&(pr=fg(ne,xo,Qr,null,0,null)|pr),e.push({kind:0,index:Qr});break;case Node.COMMENT_NODE:const ms=qM.exec(Mr.textContent||"");if(ms){const Ta=$t[parseInt(ms[1],10)];cy(g,v_,"",Et,Qr),Tx(e,t,o,a,Et,Ta,Qr),dD(k,Qr,En)}}Mr=Mr.nextSibling}return pr}function Ix(e,t,n){0===n&&e.push(t)}function dD(e,t,n){0===n&&(e.push(~t),e.push(t))}function cy(e,t,n,o,a){null!==t&&e.push(t),e.push(n,a,function jM(e,t,n){return e|t<<17|n<<1}(0,o,a))}function fD(e,t,n){e.push(t<<1|1,n.name,n.value)}const Rx=0,pD=/\[(\ufffd.+?\ufffd?)\]/,mD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,gD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,_D=/{([A-Z0-9_]+)}/g,vD=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,yD=/\/\*/,bD=/\d+\:(\d+)/;function dy(e,t,n=-1){const o=Eo(),a=Tr(),g=Vo+e,k=Ol(o.consts,t),ne=Zs();o.firstCreatePass&&function nD(e,t,n,o,a,g){const k=Zs(),ne=[],Ae=[],Et=[[]],$t=[[]];a=function aD(e,t){if(function sD(e){return-1===e}(t))return Dx(e);{const n=e.indexOf(`:${t}${hg}`)+2+t.toString().length,o=e.search(new RegExp(`${hg}\\/\\*\\d+:${t}${hg}`));return Dx(e.substring(n,o))}}(a,g);const En=function tD(e){return e.replace(eD," ")}(a).split(JM);for(let pr=0;pr<En.length;pr++){let Mr=En[pr];if(1&pr){const Qr=47===Mr.charCodeAt(0),Oi=Mr.charCodeAt(Qr?1:0),uo=Vo+Number.parseInt(Mr.substring(Qr?2:1));if(Qr)Et.shift(),$t.shift(),Ts(Zs(),!1);else{const xo=VM(e,Et[0],uo);Et.unshift([]),Ts(xo,!0);const zi={kind:2,index:uo,children:[],type:35===Oi?0:1};$t[0].push(zi),$t.unshift(zi.children)}}else{const Qr=ly(Mr);for(let Oi=0;Oi<Qr.length;Oi++){let uo=Qr[Oi];if(1&Oi){const xo=uo;if("object"!=typeof xo)throw new Error(`Unable to parse ICU expression in "${a}" message.`);const ms=Ax(e,k,Et[0],n,ne,"",!0).index;Tx($t[0],e,n,Ae,t,xo,ms)}else""!==uo&&rD($t[0],e,k,Et[0],ne,Ae,n,uo)}}}e.data[o]={create:ne,update:Ae,ast:$t[0]}}(o,null===ne?0:ne.index,a,g,k,n),2===o.type?a[da][Do]|=32:a[Do]|=32;const Ae=o.data[g],$t=Dg(o,ne===a[Ys]?null:ne,a);(function WM(e,t,n,o){const a=e[Bo];for(let g=0;g<t.length;g++){const k=t[g++],Et=(k&vc.APPEND_EAGERLY)===vc.APPEND_EAGERLY,$t=k>>>vc.SHIFT;let En=e[$t],pr=!1;null===En&&(En=e[$t]=ug(e,$t,t[g],(k&vc.COMMENT)===vc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),pr=Lc()),Et&&null!==n&&pr&&Ru(a,n,En,o,!1)}})(a,Ae.create,$t,ne&&8&ne.type?a[ne.index]:null),El(!0)}function uy(){El(!1)}function Ox(e,t,n){dy(e,t,n),uy()}function hy(e){return function HM(e){e&&(cg|=1<<Math.min(dg,31)),dg++}(rl(Tr(),Hl(),e)),hy}function Px(e){!function GM(e,t,n){if(dg>0){const o=e.data[n];bx(e,t,Array.isArray(o)?o:o.update,wc()-dg-1,cg)}cg=0,dg=0}(Eo(),Tr(),e+Vo)}function kx(e,t={}){return function xD(e,t={}){let n=e;if(pD.test(e)){const o={},a=[Rx];n=n.replace(mD,(g,k,ne)=>{const Ae=k||ne,Et=o[Ae]||[];if(Et.length||(Ae.split("|").forEach(Oi=>{const uo=Oi.match(bD),xo=uo?parseInt(uo[1],10):Rx,zi=yD.test(Oi);Et.push([xo,zi,Oi])}),o[Ae]=Et),!Et.length)throw new Error(`i18n postprocess: unmatched placeholder - ${Ae}`);const $t=a[a.length-1];let En=0;for(let Oi=0;Oi<Et.length;Oi++)if(Et[Oi][0]===$t){En=Oi;break}const[pr,Mr,Qr]=Et[En];return Mr?a.pop():$t!==pr&&a.push(pr),Et.splice(En,1),Qr})}return Object.keys(t).length&&(n=n.replace(gD,(o,a,g,k,ne,Ae)=>t.hasOwnProperty(g)?`${a}${t[g]}${Ae}`:o),n=n.replace(_D,(o,a)=>t.hasOwnProperty(a)?t[a]:o),n=n.replace(vD,(o,a)=>{if(t.hasOwnProperty(a)){const g=t[a];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${a}`);return g.shift()}return o})),n}(e,t)}function fy(e,t,n,o){const a=Tr(),g=Eo(),k=bo();return my(g,a,a[Bo],k,e,t,o),fy}function py(e,t){const n=bo(),o=Tr(),a=Eo();return my(a,o,Xy(ku(a.data),n,o),n,e,t),py}function my(e,t,n,o,a,g,k){const ne=Zc(o),Et=e.firstCreatePass&&Ky(e),$t=t[_s],En=Um(t);let pr=!0;if(3&o.type||k){const Oi=va(o,t),uo=k?k(Oi):Oi,xo=En.length,zi=k?ha=>k(rs(ha[o.index])):o.index;let ms=null;if(!k&&ne&&(ms=function wD(e,t,n,o){const a=e.cleanup;if(null!=a)for(let g=0;g<a.length-1;g+=2){const k=a[g];if(k===n&&a[g+1]===o){const ne=t[Sa],Ae=a[g+2];return ne.length>Ae?ne[Ae]:null}"string"==typeof k&&(g+=2)}return null}(e,t,a,o.index)),null!==ms)(ms.__ngLastListenerFn__||ms).__ngNextListenerFn__=g,ms.__ngLastListenerFn__=g,pr=!1;else{g=Bx(o,t,$t,g,!1);const ha=n.listen(uo,a,g);En.push(g,ha),Et&&Et.push(a,zi,xo,xo+1)}}else g=Bx(o,t,$t,g,!1);const Mr=o.outputs;let Qr;if(pr&&null!==Mr&&(Qr=Mr[a])){const Oi=Qr.length;if(Oi)for(let uo=0;uo<Oi;uo+=2){const Ta=t[Qr[uo]][Qr[uo+1]].subscribe(g),yl=En.length;En.push(g,Ta),Et&&Et.push(a,o.index,yl,-(yl+1))}}}function Fx(e,t,n,o){const a=u(null);try{return La(6,t,n),!1!==n(o)}catch(g){return Gg(e,g),!1}finally{La(7,t,n),u(a)}}function Bx(e,t,n,o,a){return function g(k){if(k===Function)return o;Gm(e.componentOffset>-1?el(e.index,t):t);let Ae=Fx(t,n,o,k),Et=g.__ngNextListenerFn__;for(;Et;)Ae=Fx(t,n,Et,k)&&Ae,Et=Et.__ngNextListenerFn__;return a&&!1===Ae&&k.preventDefault(),Ae}}function Nx(e=1){return function Th(e){return(Nn.lFrame.contextLView=function J(e,t){for(;e>0;)t=t[Yl],e--;return t}(e,Nn.lFrame.contextLView))[_s]}(e)}function CD(e,t){let n=null;const o=function tn(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const g=t[a];if("*"!==g){if(null===o?bt(e,g,!0):ar(o,g))return a}else n=a}return n}function Lx(e){const t=Tr()[da][Ys];if(!t.projection){const o=t.projection=function ur(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(e?e.length:1,null),a=o.slice();let g=t.child;for(;null!==g;){const k=e?CD(g,e):0;null!==k&&(a[k]?a[k].projectionNext=g:o[k]=g,a[k]=g),g=g.next}}}function Ux(e,t=0,n){const o=Tr(),a=Eo(),g=jd(a,Vo+e,16,null,n||null);null===g.projection&&(g.projection=t),Ua(),(!o[sa]||Ei())&&32&~g.flags&&function z_(e,t,n){Pg(t[Bo],0,t,n,Im(e,n,t),Ig(n.parent||t[Ys],n,t))}(a,o,g)}function Yx(e,t,n,o){!function kb(e,t,n,o){const a=Eo();if(a.firstCreatePass){const g=bo();Fb(a,new Ib(t,n,o),g.index),function D1(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),!(2&~n)&&(a.staticContentQueries=!0)}return Ob(a,Tr(),n)}(e,t,n,o)}function Qx(e,t,n){Pb(e,t,n)}function qx(e){const t=Tr(),n=Eo(),o=Fu();dl(o+1);const a=Dv(n,o);if(e.dirty&&function Ka(e){return!(4&~e[Do])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const g=Bb(t,o);e.reset(g,Uh),e.notifyOnChanges()}return!0}return!1}function Zx(){return Mv(Tr(),Fu())}function Jx(e,t,n,o){!function Gb(e,t){const n=e[C];n._lView=Tr(),n._queryIndex=t,n._queryList=Mv(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(o=>o+1))}(e,Pb(t,n,o))}function eE(e=1){dl(Fu()+e)}function tE(e){return cl(function Pl(){return Nn.lFrame.contextLView}(),Vo+e)}function uE(e,t=""){const n=Tr(),o=Eo(),a=e+Vo,g=o.firstCreatePass?jd(o,a,1,t,null):o.data[a],k=hE(o,n,g,t,e);n[a]=k,Lc()&&Tp(o,n,k,g),Ts(g,!1)}let hE=(e,t,n,o,a)=>(Gl(!0),Ep(t[Bo],o));function _y(e){return x_("",e,""),_y}function x_(e,t,n){const o=Tr(),a=function zp(e,t,n,o){return rl(e,Hl(),n)?t+Ji(n)+o:Is}(o,e,t,n);return a!==Is&&Ou(o,Js(),a),x_}function vy(e,t,n,o,a){const g=Tr(),k=function $p(e,t,n,o,a,g){const ne=Cf(e,wc(),n,a);return Cc(2),ne?t+Ji(n)+o+Ji(a)+g:Is}(g,e,t,n,o,a);return k!==Is&&Ou(g,Js(),k),vy}function yy(e,t,n,o,a,g,k,ne,Ae,Et,$t){const En=Tr(),pr=function Xp(e,t,n,o,a,g,k,ne,Ae,Et,$t,En){const pr=wc();let Mr=Qc(e,pr,n,a,k,Ae);return Mr=rl(e,pr+4,$t)||Mr,Cc(5),Mr?t+Ji(n)+o+Ji(a)+g+Ji(k)+ne+Ji(Ae)+Et+Ji($t)+En:Is}(En,e,t,n,o,a,g,k,ne,Ae,Et,$t);return pr!==Is&&Ou(En,Js(),pr),yy}function by(e,t,n){Ub(t)&&(t=t());const o=Tr();return rl(o,Hl(),t)&&Wl(Eo(),ea(),o,e,t,o[Bo],n,!1),by}function yE(e,t){const n=Ub(e);return n&&e.set(t),n}function xy(e,t){const n=Tr(),o=Eo(),a=bo();return my(o,n,n[Bo],a,e,t),xy}function Ey(e,t,n,o,a){if(e=sn(e),Array.isArray(e))for(let g=0;g<e.length;g++)Ey(e[g],t,n,o,a);else{const g=Eo(),k=Tr(),ne=bo();let Ae=ki(e)?e:sn(e.provide);const Et=Ci(e),$t=1048575&ne.providerIndexes,En=ne.directiveStart,pr=ne.providerIndexes>>20;if(ki(e)||!e.multi){const Mr=new ja(Et,a,bh),Qr=Cy(Ae,t,a?$t:$t+pr,En);-1===Qr?(Hu(Cd(ne,k),g,Ae),wy(g,e,t.length),t.push(Ae),ne.directiveStart++,ne.directiveEnd++,a&&(ne.providerIndexes+=1048576),n.push(Mr),k.push(Mr)):(n[Qr]=Mr,k[Qr]=Mr)}else{const Mr=Cy(Ae,t,$t+pr,En),Qr=Cy(Ae,t,$t,$t+pr),uo=Qr>=0&&n[Qr];if(a&&!uo||!a&&!(Mr>=0&&n[Mr])){Hu(Cd(ne,k),g,Ae);const xo=function jD(e,t,n,o,a){const g=new ja(e,n,bh);return g.multi=[],g.index=t,g.componentProviders=0,bE(g,a,o&&!n),g}(a?VD:UD,n.length,a,o,Et);!a&&uo&&(n[Qr].providerFactory=xo),wy(g,e,t.length,0),t.push(Ae),ne.directiveStart++,ne.directiveEnd++,a&&(ne.providerIndexes+=1048576),n.push(xo),k.push(xo)}else wy(g,e,Mr>-1?Mr:Qr,bE(n[a?Qr:Mr],Et,!a&&o));!a&&o&&uo&&n[Qr].componentProviders++}}}function wy(e,t,n,o){const a=ki(t),g=function As(e){return!!e.useClass}(t);if(a||g){const Ae=(g?sn(t.useClass):t).prototype.ngOnDestroy;if(Ae){const Et=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const $t=Et.indexOf(n);-1===$t?Et.push(n,[o,Ae]):Et[$t+1].push(o,Ae)}else Et.push(n,Ae)}}}function bE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cy(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function UD(e,t,n,o){return Ay(this.multi,[])}function VD(e,t,n,o){const a=this.multi;let g;if(this.providerFactory){const k=this.providerFactory.componentProviders,ne=Cl(n,n[Ki],this.providerFactory.index,o);g=ne.slice(0,k),Ay(a,g);for(let Ae=k;Ae<ne.length;Ae++)g.push(ne[Ae])}else g=[],Ay(a,g);return g}function Ay(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function xE(e,t=[]){return n=>{n.providersResolver=(o,a)=>function LD(e,t,n){const o=Eo();if(o.firstCreatePass){const a=bl(e);Ey(n,o.data,o.blueprint,a,!0),Ey(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let HD=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=lr(0,o.type),g=a.length>0?Pv([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,g)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Cr({token:e,providedIn:"environment",factory:()=>new e(co(ht))}),t})();function EE(e){Gd("NgStandalone"),e.getStandaloneInjector=t=>t.get(HD).getOrCreateStandaloneInjector(e)}function wE(e,t,n){const o=e.\u0275cmp;o.directiveDefs=Lr(t,!1),o.pipeDefs=Lr(n,!0)}function AE(e,t,n){const o=Xa()+e,a=Tr();return a[o]===Is?zd(a,o,n?t.call(n):t()):ng(a,o)}function ME(e,t,n,o){return kE(Tr(),Xa(),e,t,n,o)}function DE(e,t,n,o,a){return FE(Tr(),Xa(),e,t,n,o,a)}function TE(e,t,n,o,a,g){return function BE(e,t,n,o,a,g,k,ne){const Ae=t+n;return o_(e,Ae,a,g,k)?zd(e,Ae+3,ne?o.call(ne,a,g,k):o(a,g,k)):pg(e,Ae+3)}(Tr(),Xa(),e,t,n,o,a,g)}function SE(e,t,n,o,a,g,k){return function NE(e,t,n,o,a,g,k,ne,Ae){const Et=t+n;return Qc(e,Et,a,g,k,ne)?zd(e,Et+4,Ae?o.call(Ae,a,g,k,ne):o(a,g,k,ne)):pg(e,Et+4)}(Tr(),Xa(),e,t,n,o,a,g,k)}function IE(e,t,n,o,a,g,k,ne,Ae){const Et=Xa()+e,$t=Tr(),En=Qc($t,Et,n,o,a,g);return Cf($t,Et+4,k,ne)||En?zd($t,Et+6,Ae?t.call(Ae,n,o,a,g,k,ne):t(n,o,a,g,k,ne)):ng($t,Et+6)}function RE(e,t,n,o,a,g,k,ne,Ae,Et){const $t=Xa()+e,En=Tr();let pr=Qc(En,$t,n,o,a,g);return o_(En,$t+4,k,ne,Ae)||pr?zd(En,$t+7,Et?t.call(Et,n,o,a,g,k,ne,Ae):t(n,o,a,g,k,ne,Ae)):ng(En,$t+7)}function OE(e,t,n,o,a,g,k,ne,Ae,Et,$t){const En=Xa()+e,pr=Tr(),Mr=Qc(pr,En,n,o,a,g);return Qc(pr,En+4,k,ne,Ae,Et)||Mr?zd(pr,En+8,$t?t.call($t,n,o,a,g,k,ne,Ae,Et):t(n,o,a,g,k,ne,Ae,Et)):ng(pr,En+8)}function PE(e,t,n,o){return function LE(e,t,n,o,a,g){let k=t+n,ne=!1;for(let Ae=0;Ae<a.length;Ae++)rl(e,k++,a[Ae])&&(ne=!0);return ne?zd(e,k,o.apply(g,a)):pg(e,k)}(Tr(),Xa(),e,t,n,o)}function pg(e,t){const n=e[t];return n===Is?void 0:n}function kE(e,t,n,o,a,g){const k=t+n;return rl(e,k,a)?zd(e,k+1,g?o.call(g,a):o(a)):pg(e,k+1)}function FE(e,t,n,o,a,g,k){const ne=t+n;return Cf(e,ne,a,g)?zd(e,ne+2,k?o.call(k,a,g):o(a,g)):pg(e,ne+2)}function UE(e,t){const n=Eo();let o;const a=e+Vo;n.firstCreatePass?(o=function $D(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[a]=o,o.onDestroy&&(n.destroyHooks??=[]).push(a,o.onDestroy)):o=n.data[a];const g=o.factory||(o.factory=Fs(o.type)),ne=Po(bh);try{const Ae=ld(!1),Et=g();return ld(Ae),function MD(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,Tr(),a,Et),Et}finally{Po(ne)}}function VE(e,t,n){const o=e+Vo,a=Tr(),g=cl(a,o);return mg(a,o)?kE(a,Xa(),t,g.transform,n,g):g.transform(n)}function jE(e,t,n,o){const a=e+Vo,g=Tr(),k=cl(g,a);return mg(g,a)?FE(g,Xa(),t,k.transform,n,o,k):k.transform(n,o)}function mg(e,t){return e[Ki].data[t].pure}function HE(e,t){return $g(e,t)}class iw{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let ow=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const dw=new Dt(""),uw=new Dt("");let Ry,jT=(()=>{var e;class t{constructor(o,a,g){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ry||(function HT(e){Ry=e}(g),g.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nl.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,g){let k=-1;a&&a>0&&(k=setTimeout(()=>{this._callbacks=this._callbacks.filter(ne=>ne.timeoutId!==k),o()},a)),this._callbacks.push({doneCb:o,timeoutId:k,updateCb:g})}whenStable(o,a,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,g){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(co(nl),co(hw),co(uw))},e.\u0275prov=Cr({token:e,factory:e.\u0275fac}),t})(),hw=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Ry?.findTestabilityInTree(this,o,a)??null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function Oy(e){return!!e&&"function"==typeof e.then}function fw(e){return!!e&&"function"==typeof e.subscribe}const pw=new Dt("");let Py=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=lo(pw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const g of this.appInits){const k=g();if(Oy(k))o.push(k);else if(fw(k)){const ne=new Promise((Ae,Et)=>{k.subscribe({complete:Ae,error:Et})});o.push(ne)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(g=>{this.reject(g)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ky=new Dt("");function _w(e,t){return Array.isArray(t)?t.reduce(_w,e):{...e,...t}}let Ah=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=lo(Sd),this.afterRenderEffectManager=lo(qm),this.externalTestViews=new Set,this.beforeRender=new P.B,this.afterTick=new P.B,this.componentTypes=[],this.components=[],this.isStable=lo(Fp).hasPendingTasks.pipe((0,N.T)(o=>!o)),this._injector=lo(ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const g=o instanceof lb;if(!this._injector.get(Py).done)throw!g&&nr(o),new M(405,!1);let ne;ne=g?o:this._injector.get(Qm).resolveComponentFactory(o),this.componentTypes.push(ne.componentType);const Ae=function GT(e){return e.isBoundToModule}(ne)?void 0:this._injector.get(wf),$t=ne.create(Fl.NULL,[],a||ne.selector,Ae),En=$t.location.nativeElement,pr=$t.injector.get(dw,null);return pr?.registerApplication(En),$t.onDestroy(()=>{this.detachView($t.hostView),A_(this.components,$t),pr?.unregisterApplication(En)}),this._loadComponent($t),$t}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new M(101,!1);const a=u(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(g){this.internalErrorHandler(g)}finally{this.afterTick.next(),this._runningTick=!1,u(a)}}detectChangesInAttachedViews(o){let a=0;const g=this.afterRenderEffectManager;for(;;){if(a===Zy)throw new M(103,!1);if(o){const k=0===a;this.beforeRender.next(k);for(let{_lView:ne,notifyErrorHandler:Ae}of this._views)$T(ne,k,Ae)}if(a++,g.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:k})=>Fy(k))&&(g.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:k})=>Fy(k))))break}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;A_(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(ky,[]);[...this._bootstrapListeners,...a].forEach(g=>g(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>A_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new M(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function A_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function $T(e,t,n){!t&&!Fy(e)||function WT(e,t,n){let o;n?(o=0,e[Do]|=1024):o=64&e[Do]?0:1,zg(e,t,o)}(e,n,t)}function Fy(e){return je(e)}class KT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let XT=(()=>{var e;class t{compileModuleSync(o){return new Ov(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),k=mo(Yn(o).declarations).reduce((ne,Ae)=>{const Et=Pt(Ae);return Et&&ne.push(new eg(Et)),ne},[]);return new KT(a,k)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),qT=(()=>{var e;class t{constructor(){this.zone=lo(nl),this.applicationRef=lo(Ah)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function ZT(){const e=lo(nl),t=lo(hc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let eS=(()=>{var e;class t{constructor(){this.subscription=new B.yU,this.initialized=!1,this.zone=lo(nl),this.pendingTasks=lo(Fp)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{nl.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{nl.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const D_=new Dt("",{providedIn:"root",factory:()=>lo(D_,go.Optional|go.SkipSelf)||function tS(){return typeof $localize<"u"&&$localize.locale||tm}()}),nS=new Dt("",{providedIn:"root",factory:()=>"USD"}),By=new Dt("");let xw=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const g=function n1(e="zone.js",t){return"noop"===e?new mb:"zone.js"===e?new nl(t):e}(a?.ngZone,function bw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return g.run(()=>{const k=function Q1(e,t,n){return new Rv(e,t,n)}(o.moduleType,this.injector,function yw(e){return[{provide:nl,useFactory:e},{provide:mr,multi:!0,useFactory:()=>{const t=lo(qT,{optional:!0});return()=>t.initialize()}},{provide:mr,multi:!0,useFactory:()=>{const t=lo(eS);return()=>{t.initialize()}}},{provide:Sd,useFactory:ZT}]}(()=>g)),ne=k.injector.get(hc,null);return g.runOutsideAngular(()=>{const Ae=g.onError.subscribe({next:Et=>{ne.handleError(Et)}});k.onDestroy(()=>{A_(this._modules,k),Ae.unsubscribe()})}),function gw(e,t,n){try{const o=n();return Oy(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(ne,g,()=>{const Ae=k.injector.get(Py);return Ae.runInitializers(),Ae.donePromise.then(()=>(function dx(e){"string"==typeof e&&(cx=e.toLowerCase().replace(/_/g,"-"))}(k.injector.get(D_,tm)||tm),this._moduleDoBootstrap(k),k))})})}bootstrapModule(o,a=[]){const g=_w({},a);return function QT(e,t,n){const o=new Ov(n);return Promise.resolve(o)}(0,0,o).then(k=>this.bootstrapModuleFactory(k,g))}_moduleDoBootstrap(o){const a=o.injector.get(Ah);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(g=>a.bootstrap(g));else{if(!o.instance.ngDoBootstrap)throw new M(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(By,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(co(Fl))},e.\u0275prov=Cr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Mh=null;const Ew=new Dt("");function ww(e,t,n=[]){const o=`Platform: ${t}`,a=new Dt(o);return(g=[])=>{let k=Ny();if(!k||k.injector.get(Ew,!1)){const ne=[...n,...g,{provide:a,useValue:!0}];e?e(ne):function iS(e){if(Mh&&!Mh.get(Ew,!1))throw new M(400,!1);(function mw(){!function I(e){Ft=e}(()=>{throw new M(600,!1)})})(),Mh=e;const t=e.get(xw);(function Aw(e){e.get(ef,null)?.forEach(n=>n())})(e)}(function Cw(e=[],t){return Fl.create({name:t,providers:[{provide:bs,useValue:"platform"},{provide:By,useValue:new Set([()=>Mh=null])},...e]})}(ne,o))}return function oS(e){const t=Ny();if(!t)throw new M(401,!1);return t}()}}function Ny(){return Mh?.get(xw)??null}function aS(){}let Dw=(()=>{class t{}return t.__NG_ELEMENT_ID__=lS,t})();function lS(e){return function cS(e,t,n){if(Wa(e)&&!n){const o=el(e.index,t);return new zm(o,o)}return 47&e.type?new zm(t[da],t):null}(bo(),Tr(),!(16&~e))}class Rw{constructor(){}supports(t){return i_(t)}create(t){return new pS(t)}}const fS=(e,t)=>t;class pS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,a=0,g=null;for(;n||o;){const k=!o||n&&n.currentIndex<Pw(o,a,g)?n:o,ne=Pw(k,a,g),Ae=k.currentIndex;if(k===o)a--,o=o._nextRemoved;else if(n=n._next,null==k.previousIndex)a++;else{g||(g=[]);const Et=ne-a,$t=Ae-a;if(Et!=$t){for(let pr=0;pr<Et;pr++){const Mr=pr<g.length?g[pr]:g[pr]=0,Qr=Mr+pr;$t<=Qr&&Qr<Et&&(g[pr]=Mr+1)}g[k.previousIndex]=$t-Et}}ne!==Ae&&t(k,ne,Ae)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!i_(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,g,k,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let ne=0;ne<this.length;ne++)g=t[ne],k=this._trackByFn(ne,g),null!==n&&Object.is(n.trackById,k)?(o&&(n=this._verifyReinsertion(n,g,k,ne)),Object.is(n.item,g)||this._addIdentityChange(n,g)):(n=this._mismatch(n,g,k,ne),o=!0),n=n._next}else a=0,function eA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,ne=>{k=this._trackByFn(a,ne),null!==n&&Object.is(n.trackById,k)?(o&&(n=this._verifyReinsertion(n,ne,k,a)),Object.is(n.item,ne)||this._addIdentityChange(n,ne)):(n=this._mismatch(n,ne,k,a),o=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,a){let g;return null===t?g=this._itTail:(g=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,g,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,g,a)):t=this._addAfter(new mS(n,o),g,a),t}_verifyReinsertion(t,n,o,a){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==g?t=this._reinsertAfter(g,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,g=t._nextRemoved;return null===a?this._removalsHead=g:a._nextRemoved=g,null===g?this._removalsTail=a:g._prevRemoved=a,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ow),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ow),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class Ow{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new gS,this.map.set(n,o)),o.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pw(e,t,n){const o=e.previousIndex;if(null===o)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}class kw{constructor(){}supports(t){return t instanceof Map||kv(t)}create(){return new _S}}class _S{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||kv(t)))throw new M(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const g=this._getOrCreateRecordForKey(a,o);n=this._insertBeforeOrAppend(n,g)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const g=a._prev,k=a._next;return g&&(g._next=k),k&&(k._prev=g),a._next=null,a._prev=null,a}const o=new vS(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class vS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fw(){return new Hy([new Rw])}let Hy=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const g=a.factories.slice();o=o.concat(g)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Fw()),deps:[[t,new oa,new Go]]}}find(o){const a=this.factories.find(g=>g.supports(o));if(null!=a)return a;throw new M(901,!1)}}return(e=t).\u0275prov=Cr({token:e,providedIn:"root",factory:Fw}),t})();function Bw(){return new Gy([new kw])}let Gy=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const g=a.factories.slice();o=o.concat(g)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Bw()),deps:[[t,new oa,new Go]]}}find(o){const a=this.factories.find(g=>g.supports(o));if(a)return a;throw new M(901,!1)}}return(e=t).\u0275prov=Cr({token:e,providedIn:"root",factory:Bw}),t})();const xS=ww(null,"core",[]);let ES=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(co(Ah))},e.\u0275mod=xe({type:e}),e.\u0275inj=Or({}),t})();function qS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function ZS(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function eI(e,t){Gd("NgSignals");const n=be(e);return t?.equal&&(n[C].equal=t.equal),n}function tI(e){const t=u(null);try{return e()}finally{u(t)}}const nI=new Dt("",{providedIn:"root",factory:()=>lo(rI)});let rI=(()=>{var e;class t{}return(e=t).\u0275prov=Cr({token:e,providedIn:"root",factory:()=>new iI}),t})();class iI{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=lo(Fp),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const o=this.queues.get(n);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class oI{constructor(t,n,o,a,g,k){this.scheduler=t,this.effectFn=n,this.creationZone=o,this.injector=g,this.watcher=function Ye(e,t,n){const o=Object.create(Ot);n&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=t;const a=Ae=>{o.cleanupFn=Ae};return o.ref={notify:()=>L(o),run:()=>{if(null===o.fn)return;if(function S(){return b}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!le(o))return;o.hasRun=!0;const Ae=ie(o);try{o.cleanupFn(),o.cleanupFn=Ze,o.fn(a)}finally{ae(o,Ae)}},cleanup:()=>o.cleanupFn(),destroy:()=>function k(Ae){(function g(Ae){return null===Ae.fn&&null===Ae.schedule})(Ae)||(fe(Ae),Ae.cleanupFn(),Ae.fn=null,Ae.schedule=null,Ae.cleanupFn=Ze)}(o),[C]:o},o.ref}(ne=>this.runEffect(ne),()=>this.schedule(),k),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(hc,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function iC(e,t){Gd("NgSignals"),!t?.injector&&ya();const n=t?.injector??lo(Fl),o=!0!==t?.manualCleanup?n.get(ml):null,a=new oI(n.get(nI),e,typeof Zone>"u"?null:Zone.current,o,n,t?.allowSignalWrites??!1),g=n.get(Dw,null,{optional:!0});return g&&8&g._lView[Do]?(g._lView[ql]??=[]).push(a.watcher.notify):a.watcher.notify(),a}function sI(e){const t=Pt(e);if(!t)return null;const n=new eg(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},9079:(en,ot,w)=>{"use strict";w.d(ot,{ot:()=>u});var r=w(4438);function u(F,S){const U=!S?.manualCleanup;U&&!S?.injector&&(0,r.Af3)(u);const O=U?S?.injector?.get(r.abz)??(0,r.WQX)(r.abz):null;let y;y=(0,r.vPA)(S?.requireSync?{kind:0}:{kind:1,value:S?.initialValue});const _=F.subscribe({next:D=>y.set({kind:1,value:D}),error:D=>{if(S?.rejectErrors)throw D;y.set({kind:2,error:D})}});return O?.onDestroy(_.unsubscribe.bind(_)),(0,r.EWP)(()=>{const D=y();switch(D.kind){case 1:return D.value;case 2:throw D.error;case 0:throw new r.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},9417:(en,ot,w)=>{"use strict";w.d(ot,{$R:()=>Us,BC:()=>h,Bm:()=>mr,JD:()=>qi,MJ:()=>di,X1:()=>tt,YN:()=>Mo,ZU:()=>P,cb:()=>M,cz:()=>L,gE:()=>me,hs:()=>Zt,j4:()=>ts,k0:()=>le,kq:()=>F,l_:()=>as,me:()=>D,ok:()=>li,qT:()=>un,v8:()=>Zn,wz:()=>co,xH:()=>Lo,xq:()=>Jn,y7:()=>Ns,ze:()=>eo});var r=w(4438),x=w(177),f=w(1472),b=w(6104),E=w(6110);let C=(()=>{var re;class ce{constructor(Le,Wt){this._renderer=Le,this._elementRef=Wt,this.onChange=yr=>{},this.onTouched=()=>{}}setProperty(Le,Wt){this._renderer.setProperty(this._elementRef.nativeElement,Le,Wt)}registerOnTouched(Le){this.onTouched=Le}registerOnChange(Le){this.onChange=Le}setDisabledState(Le){this.setProperty("disabled",Le)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(r.sFG),r.rXU(r.aKT))},re.\u0275dir=r.FsC({type:re}),ce})(),u=(()=>{var re;class ce extends C{}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275dir=r.FsC({type:re,features:[r.Vt3]}),ce})();const F=new r.nKC(""),O={provide:F,useExisting:(0,r.Rfq)(()=>D),multi:!0},_=new r.nKC("");let D=(()=>{var re;class ce extends C{constructor(Le,Wt,yr){super(Le,Wt),this._compositionMode=yr,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y(){const re=(0,x.QT)()?(0,x.QT)().getUserAgent():"";return/android (\d+)/.test(re.toLowerCase())}())}writeValue(Le){this.setProperty("value",Le??"")}_handleInput(Le){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Le)}_compositionStart(){this._composing=!0}_compositionEnd(Le){this._composing=!1,this._compositionMode&&this.onChange(Le)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(_,8))},re.\u0275dir=r.FsC({type:re,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Le,Wt){1&Le&&r.bIt("input",function(ti){return Wt._handleInput(ti.target.value)})("blur",function(){return Wt.onTouched()})("compositionstart",function(){return Wt._compositionStart()})("compositionend",function(ti){return Wt._compositionEnd(ti.target.value)})},features:[r.Jv_([O]),r.Vt3]}),ce})();function W(re){return null==re||("string"==typeof re||Array.isArray(re))&&0===re.length}function K(re){return null!=re&&"number"==typeof re.length}const L=new r.nKC(""),ie=new r.nKC(""),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(ce){return function fe(re){return ce=>{if(W(ce.value)||W(re))return null;const Je=parseFloat(ce.value);return!isNaN(Je)&&Je<re?{min:{min:re,actual:ce.value}}:null}}(ce)}static max(ce){return function q(re){return ce=>{if(W(ce.value)||W(re))return null;const Je=parseFloat(ce.value);return!isNaN(Je)&&Je>re?{max:{max:re,actual:ce.value}}:null}}(ce)}static required(ce){return $(ce)}static requiredTrue(ce){return j(ce)}static email(ce){return function Q(re){return W(re.value)||ae.test(re.value)?null:{email:!0}}(ce)}static minLength(ce){return function ee(re){return ce=>W(ce.value)||!K(ce.value)?null:ce.value.length<re?{minlength:{requiredLength:re,actualLength:ce.value.length}}:null}(ce)}static maxLength(ce){return function be(re){return ce=>K(ce.value)&&ce.value.length>re?{maxlength:{requiredLength:re,actualLength:ce.value.length}}:null}(ce)}static pattern(ce){return function Se(re){if(!re)return Qe;let ce,Je;return"string"==typeof re?(Je="","^"!==re.charAt(0)&&(Je+="^"),Je+=re,"$"!==re.charAt(re.length-1)&&(Je+="$"),ce=new RegExp(Je)):(Je=re.toString(),ce=re),Le=>{if(W(Le.value))return null;const Wt=Le.value;return ce.test(Wt)?null:{pattern:{requiredPattern:Je,actualValue:Wt}}}}(ce)}static nullValidator(ce){return null}static compose(ce){return V(ce)}static composeAsync(ce){return Pe(ce)}}function $(re){return W(re.value)?{required:!0}:null}function j(re){return!0===re.value?null:{required:!0}}function Qe(re){return null}function nt(re){return null!=re}function De(re){return(0,r.jNT)(re)?(0,f.H)(re):re}function ut(re){let ce={};return re.forEach(Je=>{ce=null!=Je?{...ce,...Je}:ce}),0===Object.keys(ce).length?null:ce}function Ft(re,ce){return ce.map(Je=>Je(re))}function I(re){return re.map(ce=>function ve(re){return!re.validate}(ce)?ce:Je=>ce.validate(Je))}function V(re){if(!re)return null;const ce=re.filter(nt);return 0==ce.length?null:function(Je){return ut(Ft(Je,ce))}}function ge(re){return null!=re?V(I(re)):null}function Pe(re){if(!re)return null;const ce=re.filter(nt);return 0==ce.length?null:function(Je){const Le=Ft(Je,ce).map(De);return(0,b.p)(Le).pipe((0,E.T)(ut))}}function ke(re){return null!=re?Pe(I(re)):null}function xt(re,ce){return null===re?[ce]:Array.isArray(re)?[...re,ce]:[re,ce]}function Ht(re){return re._rawValidators}function ln(re){return re._rawAsyncValidators}function Bt(re){return re?Array.isArray(re)?re:[re]:[]}function Ye(re,ce){return Array.isArray(re)?re.includes(ce):re===ce}function Ze(re,ce){const Je=Bt(ce);return Bt(re).forEach(Wt=>{Ye(Je,Wt)||Je.push(Wt)}),Je}function Ot(re,ce){return Bt(ce).filter(Je=>!Ye(re,Je))}class ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ce){this._rawValidators=ce||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(ce){this._rawAsyncValidators=ce||[],this._composedAsyncValidatorFn=ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ce){this._onDestroyCallbacks.push(ce)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ce=>ce()),this._onDestroyCallbacks=[]}reset(ce=void 0){this.control&&this.control.reset(ce)}hasError(ce,Je){return!!this.control&&this.control.hasError(ce,Je)}getError(ce,Je){return this.control?this.control.getError(ce,Je):null}}class P extends ye{get formDirective(){return null}get path(){return null}}class B extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class R{constructor(ce){this._cd=ce}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let h=(()=>{var re;class ce extends R{constructor(Le){super(Le)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(B,2))},re.\u0275dir=r.FsC({type:re,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Le,Wt){2&Le&&r.AVh("ng-untouched",Wt.isUntouched)("ng-touched",Wt.isTouched)("ng-pristine",Wt.isPristine)("ng-dirty",Wt.isDirty)("ng-valid",Wt.isValid)("ng-invalid",Wt.isInvalid)("ng-pending",Wt.isPending)},features:[r.Vt3]}),ce})(),M=(()=>{var re;class ce extends R{constructor(Le){super(Le)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(P,10))},re.\u0275dir=r.FsC({type:re,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Le,Wt){2&Le&&r.AVh("ng-untouched",Wt.isUntouched)("ng-touched",Wt.isTouched)("ng-pristine",Wt.isPristine)("ng-dirty",Wt.isDirty)("ng-valid",Wt.isValid)("ng-invalid",Wt.isInvalid)("ng-pending",Wt.isPending)("ng-submitted",Wt.isSubmitted)},features:[r.Vt3]}),ce})();const $e="VALID",Lt="INVALID",Xt="PENDING",gn="DISABLED";function Ln(re){return(St(re)?re.validators:re)||null}function gr(re,ce){return(St(ce)?ce.asyncValidators:re)||null}function St(re){return null!=re&&!Array.isArray(re)&&"object"==typeof re}function Fe(re,ce,Je){const Le=re.controls;if(!(ce?Object.keys(Le):Le).length)throw new r.wOt(1e3,"");if(!Le[Je])throw new r.wOt(1001,"")}function Ue(re,ce,Je){re._forEachChild((Le,Wt)=>{if(void 0===Je[Wt])throw new r.wOt(1002,"")})}class Ce{constructor(ce,Je){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ce),this._assignAsyncValidators(Je)}get validator(){return this._composedValidatorFn}set validator(ce){this._rawValidators=this._composedValidatorFn=ce}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ce){this._rawAsyncValidators=this._composedAsyncValidatorFn=ce}get parent(){return this._parent}get valid(){return this.status===$e}get invalid(){return this.status===Lt}get pending(){return this.status==Xt}get disabled(){return this.status===gn}get enabled(){return this.status!==gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ce){this._assignValidators(ce)}setAsyncValidators(ce){this._assignAsyncValidators(ce)}addValidators(ce){this.setValidators(Ze(ce,this._rawValidators))}addAsyncValidators(ce){this.setAsyncValidators(Ze(ce,this._rawAsyncValidators))}removeValidators(ce){this.setValidators(Ot(ce,this._rawValidators))}removeAsyncValidators(ce){this.setAsyncValidators(Ot(ce,this._rawAsyncValidators))}hasValidator(ce){return Ye(this._rawValidators,ce)}hasAsyncValidator(ce){return Ye(this._rawAsyncValidators,ce)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ce={}){this.touched=!0,this._parent&&!ce.onlySelf&&this._parent.markAsTouched(ce)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ce=>ce.markAllAsTouched())}markAsUntouched(ce={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Je=>{Je.markAsUntouched({onlySelf:!0})}),this._parent&&!ce.onlySelf&&this._parent._updateTouched(ce)}markAsDirty(ce={}){this.pristine=!1,this._parent&&!ce.onlySelf&&this._parent.markAsDirty(ce)}markAsPristine(ce={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Je=>{Je.markAsPristine({onlySelf:!0})}),this._parent&&!ce.onlySelf&&this._parent._updatePristine(ce)}markAsPending(ce={}){this.status=Xt,!1!==ce.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ce.onlySelf&&this._parent.markAsPending(ce)}disable(ce={}){const Je=this._parentMarkedDirty(ce.onlySelf);this.status=gn,this.errors=null,this._forEachChild(Le=>{Le.disable({...ce,onlySelf:!0})}),this._updateValue(),!1!==ce.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ce,skipPristineCheck:Je}),this._onDisabledChange.forEach(Le=>Le(!0))}enable(ce={}){const Je=this._parentMarkedDirty(ce.onlySelf);this.status=$e,this._forEachChild(Le=>{Le.enable({...ce,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ce.emitEvent}),this._updateAncestors({...ce,skipPristineCheck:Je}),this._onDisabledChange.forEach(Le=>Le(!1))}_updateAncestors(ce){this._parent&&!ce.onlySelf&&(this._parent.updateValueAndValidity(ce),ce.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ce){this._parent=ce}getRawValue(){return this.value}updateValueAndValidity(ce={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$e||this.status===Xt)&&this._runAsyncValidator(ce.emitEvent)),!1!==ce.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ce.onlySelf&&this._parent.updateValueAndValidity(ce)}_updateTreeValidity(ce={emitEvent:!0}){this._forEachChild(Je=>Je._updateTreeValidity(ce)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ce.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gn:$e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ce){if(this.asyncValidator){this.status=Xt,this._hasOwnPendingAsyncValidator=!0;const Je=De(this.asyncValidator(this));this._asyncValidationSubscription=Je.subscribe(Le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Le,{emitEvent:ce})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ce,Je={}){this.errors=ce,this._updateControlsErrors(!1!==Je.emitEvent)}get(ce){let Je=ce;return null==Je||(Array.isArray(Je)||(Je=Je.split(".")),0===Je.length)?null:Je.reduce((Le,Wt)=>Le&&Le._find(Wt),this)}getError(ce,Je){const Le=Je?this.get(Je):this;return Le&&Le.errors?Le.errors[ce]:null}hasError(ce,Je){return!!this.getError(ce,Je)}get root(){let ce=this;for(;ce._parent;)ce=ce._parent;return ce}_updateControlsErrors(ce){this.status=this._calculateStatus(),ce&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ce)}_initObservables(){this.valueChanges=new r.bkB,this.statusChanges=new r.bkB}_calculateStatus(){return this._allControlsDisabled()?gn:this.errors?Lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xt)?Xt:this._anyControlsHaveStatus(Lt)?Lt:$e}_anyControlsHaveStatus(ce){return this._anyControls(Je=>Je.status===ce)}_anyControlsDirty(){return this._anyControls(ce=>ce.dirty)}_anyControlsTouched(){return this._anyControls(ce=>ce.touched)}_updatePristine(ce={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ce.onlySelf&&this._parent._updatePristine(ce)}_updateTouched(ce={}){this.touched=this._anyControlsTouched(),this._parent&&!ce.onlySelf&&this._parent._updateTouched(ce)}_registerOnCollectionChange(ce){this._onCollectionChange=ce}_setUpdateStrategy(ce){St(ce)&&null!=ce.updateOn&&(this._updateOn=ce.updateOn)}_parentMarkedDirty(ce){return!ce&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ce){return null}_assignValidators(ce){this._rawValidators=Array.isArray(ce)?ce.slice():ce,this._composedValidatorFn=function $n(re){return Array.isArray(re)?ge(re):re||null}(this._rawValidators)}_assignAsyncValidators(ce){this._rawAsyncValidators=Array.isArray(ce)?ce.slice():ce,this._composedAsyncValidatorFn=function sn(re){return Array.isArray(re)?ke(re):re||null}(this._rawAsyncValidators)}}class me extends Ce{constructor(ce,Je,Le){super(Ln(Je),gr(Le,Je)),this.controls=ce,this._initObservables(),this._setUpdateStrategy(Je),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ce,Je){return this.controls[ce]?this.controls[ce]:(this.controls[ce]=Je,Je.setParent(this),Je._registerOnCollectionChange(this._onCollectionChange),Je)}addControl(ce,Je,Le={}){this.registerControl(ce,Je),this.updateValueAndValidity({emitEvent:Le.emitEvent}),this._onCollectionChange()}removeControl(ce,Je={}){this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),delete this.controls[ce],this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}setControl(ce,Je,Le={}){this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),delete this.controls[ce],Je&&this.registerControl(ce,Je),this.updateValueAndValidity({emitEvent:Le.emitEvent}),this._onCollectionChange()}contains(ce){return this.controls.hasOwnProperty(ce)&&this.controls[ce].enabled}setValue(ce,Je={}){Ue(this,0,ce),Object.keys(ce).forEach(Le=>{Fe(this,!0,Le),this.controls[Le].setValue(ce[Le],{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je)}patchValue(ce,Je={}){null!=ce&&(Object.keys(ce).forEach(Le=>{const Wt=this.controls[Le];Wt&&Wt.patchValue(ce[Le],{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je))}reset(ce={},Je={}){this._forEachChild((Le,Wt)=>{Le.reset(ce?ce[Wt]:null,{onlySelf:!0,emitEvent:Je.emitEvent})}),this._updatePristine(Je),this._updateTouched(Je),this.updateValueAndValidity(Je)}getRawValue(){return this._reduceChildren({},(ce,Je,Le)=>(ce[Le]=Je.getRawValue(),ce))}_syncPendingControls(){let ce=this._reduceChildren(!1,(Je,Le)=>!!Le._syncPendingControls()||Je);return ce&&this.updateValueAndValidity({onlySelf:!0}),ce}_forEachChild(ce){Object.keys(this.controls).forEach(Je=>{const Le=this.controls[Je];Le&&ce(Le,Je)})}_setUpControls(){this._forEachChild(ce=>{ce.setParent(this),ce._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ce){for(const[Je,Le]of Object.entries(this.controls))if(this.contains(Je)&&ce(Le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Je,Le,Wt)=>((Le.enabled||this.disabled)&&(Je[Wt]=Le.value),Je))}_reduceChildren(ce,Je){let Le=ce;return this._forEachChild((Wt,yr)=>{Le=Je(Le,Wt,yr)}),Le}_allControlsDisabled(){for(const ce of Object.keys(this.controls))if(this.controls[ce].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ce){return this.controls.hasOwnProperty(ce)?this.controls[ce]:null}}class Gt extends me{}const On=new r.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>vr}),vr="always";function Cn(re,ce){return[...ce.path,re]}function tr(re,ce,Je=vr){_n(re,ce),ce.valueAccessor.writeValue(re.value),(re.disabled||"always"===Je)&&ce.valueAccessor.setDisabledState?.(re.disabled),function Ii(re,ce){ce.valueAccessor.registerOnChange(Je=>{re._pendingValue=Je,re._pendingChange=!0,re._pendingDirty=!0,"change"===re.updateOn&&Cr(re,ce)})}(re,ce),function ii(re,ce){const Je=(Le,Wt)=>{ce.valueAccessor.writeValue(Le),Wt&&ce.viewToModelUpdate(Le)};re.registerOnChange(Je),ce._registerOnDestroy(()=>{re._unregisterOnChange(Je)})}(re,ce),function so(re,ce){ce.valueAccessor.registerOnTouched(()=>{re._pendingTouched=!0,"blur"===re.updateOn&&re._pendingChange&&Cr(re,ce),"submit"!==re.updateOn&&re.markAsTouched()})}(re,ce),function sr(re,ce){if(ce.valueAccessor.setDisabledState){const Je=Le=>{ce.valueAccessor.setDisabledState(Le)};re.registerOnDisabledChange(Je),ce._registerOnDestroy(()=>{re._unregisterOnDisabledChange(Je)})}}(re,ce)}function Er(re,ce,Je=!0){const Le=()=>{};ce.valueAccessor&&(ce.valueAccessor.registerOnChange(Le),ce.valueAccessor.registerOnTouched(Le)),_i(re,ce),re&&(ce._invokeOnDestroyCallbacks(),re._registerOnCollectionChange(()=>{}))}function _r(re,ce){re.forEach(Je=>{Je.registerOnValidatorChange&&Je.registerOnValidatorChange(ce)})}function _n(re,ce){const Je=Ht(re);null!==ce.validator?re.setValidators(xt(Je,ce.validator)):"function"==typeof Je&&re.setValidators([Je]);const Le=ln(re);null!==ce.asyncValidator?re.setAsyncValidators(xt(Le,ce.asyncValidator)):"function"==typeof Le&&re.setAsyncValidators([Le]);const Wt=()=>re.updateValueAndValidity();_r(ce._rawValidators,Wt),_r(ce._rawAsyncValidators,Wt)}function _i(re,ce){let Je=!1;if(null!==re){if(null!==ce.validator){const Wt=Ht(re);if(Array.isArray(Wt)&&Wt.length>0){const yr=Wt.filter(ti=>ti!==ce.validator);yr.length!==Wt.length&&(Je=!0,re.setValidators(yr))}}if(null!==ce.asyncValidator){const Wt=ln(re);if(Array.isArray(Wt)&&Wt.length>0){const yr=Wt.filter(ti=>ti!==ce.asyncValidator);yr.length!==Wt.length&&(Je=!0,re.setAsyncValidators(yr))}}}const Le=()=>{};return _r(ce._rawValidators,Le),_r(ce._rawAsyncValidators,Le),Je}function Cr(re,ce){re._pendingDirty&&re.markAsDirty(),re.setValue(re._pendingValue,{emitModelToViewChange:!1}),ce.viewToModelUpdate(re._pendingValue),re._pendingChange=!1}function _t(re,ce){if(!re.hasOwnProperty("model"))return!1;const Je=re.model;return!!Je.isFirstChange()||!Object.is(ce,Je.currentValue)}function Dt(re,ce){if(!ce)return null;let Je,Le,Wt;return Array.isArray(ce),ce.forEach(yr=>{yr.constructor===D?Je=yr:function an(re){return Object.getPrototypeOf(re.constructor)===u}(yr)?Le=yr:Wt=yr}),Wt||Le||Je||null}function Mi(re,ce){const Je=re.indexOf(ce);Je>-1&&re.splice(Je,1)}function pi(re){return"object"==typeof re&&null!==re&&2===Object.keys(re).length&&"value"in re&&"disabled"in re}Promise.resolve();const di=class extends Ce{constructor(ce=null,Je,Le){super(Ln(Je),gr(Le,Je)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ce),this._setUpdateStrategy(Je),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),St(Je)&&(Je.nonNullable||Je.initialValueIsDefault)&&(this.defaultValue=pi(ce)?ce.value:ce)}setValue(ce,Je={}){this.value=this._pendingValue=ce,this._onChange.length&&!1!==Je.emitModelToViewChange&&this._onChange.forEach(Le=>Le(this.value,!1!==Je.emitViewToModelChange)),this.updateValueAndValidity(Je)}patchValue(ce,Je={}){this.setValue(ce,Je)}reset(ce=this.defaultValue,Je={}){this._applyFormState(ce),this.markAsPristine(Je),this.markAsUntouched(Je),this.setValue(this.value,Je),this._pendingChange=!1}_updateValue(){}_anyControls(ce){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ce){this._onChange.push(ce)}_unregisterOnChange(ce){Mi(this._onChange,ce)}registerOnDisabledChange(ce){this._onDisabledChange.push(ce)}_unregisterOnDisabledChange(ce){Mi(this._onDisabledChange,ce)}_forEachChild(ce){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ce){pi(ce)?(this.value=this._pendingValue=ce.value,ce.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ce}},Zt=di;let Hn=(()=>{var re;class ce extends P{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Cn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275dir=r.FsC({type:re,features:[r.Vt3]}),ce})();Promise.resolve();let un=(()=>{var re;class ce{}return(re=ce).\u0275fac=function(Le){return new(Le||re)},re.\u0275dir=r.FsC({type:re,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ce})();const Po=new r.nKC(""),ss={provide:B,useExisting:(0,r.Rfq)(()=>as)};let as=(()=>{var re;class ce extends B{set isDisabled(Le){}constructor(Le,Wt,yr,ti,_o){super(),this._ngModelWarningConfig=ti,this.callSetDisabledState=_o,this.update=new r.bkB,this._ngModelWarningSent=!1,this._setValidators(Le),this._setAsyncValidators(Wt),this.valueAccessor=Dt(0,yr)}ngOnChanges(Le){if(this._isControlChanged(Le)){const Wt=Le.form.previousValue;Wt&&Er(Wt,this,!1),tr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_t(Le,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Er(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Le){this.viewModel=Le,this.update.emit(Le)}_isControlChanged(Le){return Le.hasOwnProperty("form")}}return(re=ce)._ngModelWarningSentOnce=!1,re.\u0275fac=function(Le){return new(Le||re)(r.rXU(L,10),r.rXU(ie,10),r.rXU(F,10),r.rXU(Po,8),r.rXU(On,8))},re.\u0275dir=r.FsC({type:re,selectors:[["","formControl",""]],inputs:{form:[r.Mj6.None,"formControl","form"],isDisabled:[r.Mj6.None,"disabled","isDisabled"],model:[r.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Jv_([ss]),r.Vt3,r.OA$]}),ce})();const Cs={provide:P,useExisting:(0,r.Rfq)(()=>ts)};let ts=(()=>{var re;class ce extends P{constructor(Le,Wt,yr){super(),this.callSetDisabledState=yr,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.bkB,this._setValidators(Le),this._setAsyncValidators(Wt)}ngOnChanges(Le){this._checkFormPresent(),Le.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_i(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Le){const Wt=this.form.get(Le.path);return tr(Wt,Le,this.callSetDisabledState),Wt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Le),Wt}getControl(Le){return this.form.get(Le.path)}removeControl(Le){Er(Le.control||null,Le,!1),function on(re,ce){const Je=re.indexOf(ce);Je>-1&&re.splice(Je,1)}(this.directives,Le)}addFormGroup(Le){this._setUpFormContainer(Le)}removeFormGroup(Le){this._cleanUpFormContainer(Le)}getFormGroup(Le){return this.form.get(Le.path)}addFormArray(Le){this._setUpFormContainer(Le)}removeFormArray(Le){this._cleanUpFormContainer(Le)}getFormArray(Le){return this.form.get(Le.path)}updateModel(Le,Wt){this.form.get(Le.path).setValue(Wt)}onSubmit(Le){return this.submitted=!0,function _e(re,ce){re._syncPendingControls(),ce.forEach(Je=>{const Le=Je.control;"submit"===Le.updateOn&&Le._pendingChange&&(Je.viewToModelUpdate(Le._pendingValue),Le._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Le),"dialog"===Le?.target?.method}onReset(){this.resetForm()}resetForm(Le=void 0){this.form.reset(Le),this.submitted=!1}_updateDomValue(){this.directives.forEach(Le=>{const Wt=Le.control,yr=this.form.get(Le.path);Wt!==yr&&(Er(Wt||null,Le),(re=>re instanceof di)(yr)&&(tr(yr,Le,this.callSetDisabledState),Le.control=yr))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Le){const Wt=this.form.get(Le.path);(function Or(re,ce){_n(re,ce)})(Wt,Le),Wt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Le){if(this.form){const Wt=this.form.get(Le.path);Wt&&function fi(re,ce){return _i(re,ce)}(Wt,Le)&&Wt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_n(this.form,this),this._oldForm&&_i(this._oldForm,this)}_checkFormPresent(){}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(L,10),r.rXU(ie,10),r.rXU(On,8))},re.\u0275dir=r.FsC({type:re,selectors:[["","formGroup",""]],hostBindings:function(Le,Wt){1&Le&&r.bIt("submit",function(ti){return Wt.onSubmit(ti)})("reset",function(){return Wt.onReset()})},inputs:{form:[r.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([Cs]),r.Vt3,r.OA$]}),ce})();const Jo={provide:P,useExisting:(0,r.Rfq)(()=>Us)};let Us=(()=>{var re;class ce extends Hn{constructor(Le,Wt,yr){super(),this.name=null,this._parent=Le,this._setValidators(Wt),this._setAsyncValidators(yr)}_checkParentType(){Vr(this._parent)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(P,13),r.rXU(L,10),r.rXU(ie,10))},re.\u0275dir=r.FsC({type:re,selectors:[["","formGroupName",""]],inputs:{name:[r.Mj6.None,"formGroupName","name"]},features:[r.Jv_([Jo]),r.Vt3]}),ce})();const jn={provide:P,useExisting:(0,r.Rfq)(()=>Zn)};let Zn=(()=>{var re;class ce extends P{constructor(Le,Wt,yr){super(),this.name=null,this._parent=Le,this._setValidators(Wt),this._setAsyncValidators(yr)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Cn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Vr(this._parent)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(P,13),r.rXU(L,10),r.rXU(ie,10))},re.\u0275dir=r.FsC({type:re,selectors:[["","formArrayName",""]],inputs:{name:[r.Mj6.None,"formArrayName","name"]},features:[r.Jv_([jn]),r.Vt3]}),ce})();function Vr(re){return!(re instanceof Us||re instanceof ts||re instanceof Zn)}const Ti={provide:B,useExisting:(0,r.Rfq)(()=>qi)};let qi=(()=>{var re;class ce extends B{set isDisabled(Le){}constructor(Le,Wt,yr,ti,_o){super(),this._ngModelWarningConfig=_o,this._added=!1,this.name=null,this.update=new r.bkB,this._ngModelWarningSent=!1,this._parent=Le,this._setValidators(Wt),this._setAsyncValidators(yr),this.valueAccessor=Dt(0,ti)}ngOnChanges(Le){this._added||this._setUpControl(),_t(Le,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Le){this.viewModel=Le,this.update.emit(Le)}get path(){return Cn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(re=ce)._ngModelWarningSentOnce=!1,re.\u0275fac=function(Le){return new(Le||re)(r.rXU(P,13),r.rXU(L,10),r.rXU(ie,10),r.rXU(F,10),r.rXU(Po,8))},re.\u0275dir=r.FsC({type:re,selectors:[["","formControlName",""]],inputs:{name:[r.Mj6.None,"formControlName","name"],isDisabled:[r.Mj6.None,"disabled","isDisabled"],model:[r.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Jv_([Ti]),r.Vt3,r.OA$]}),ce})();const Co={provide:F,useExisting:(0,r.Rfq)(()=>co),multi:!0};function Ni(re,ce){return null==re?`${ce}`:(ce&&"object"==typeof ce&&(ce="Object"),`${re}: ${ce}`.slice(0,50))}let co=(()=>{var re;class ce extends u{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Le){this._compareWith=Le}writeValue(Le){this.value=Le;const yr=Ni(this._getOptionId(Le),Le);this.setProperty("value",yr)}registerOnChange(Le){this.onChange=Wt=>{this.value=this._getOptionValue(Wt),Le(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Le){for(const Wt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Wt),Le))return Wt;return null}_getOptionValue(Le){const Wt=function ji(re){return re.split(":")[0]}(Le);return this._optionMap.has(Wt)?this._optionMap.get(Wt):Le}}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275dir=r.FsC({type:re,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Le,Wt){1&Le&&r.bIt("change",function(ti){return Wt.onChange(ti.target.value)})("blur",function(){return Wt.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([Co]),r.Vt3]}),ce})(),Lo=(()=>{var re;class ce{constructor(Le,Wt,yr){this._element=Le,this._renderer=Wt,this._select=yr,this._select&&(this.id=this._select._registerOption())}set ngValue(Le){null!=this._select&&(this._select._optionMap.set(this.id,Le),this._setElementValue(Ni(this.id,Le)),this._select.writeValue(this._select.value))}set value(Le){this._setElementValue(Le),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Le){this._renderer.setProperty(this._element.nativeElement,"value",Le)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(co,9))},re.\u0275dir=r.FsC({type:re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ce})();const lo={provide:F,useExisting:(0,r.Rfq)(()=>cs),multi:!0};function Qo(re,ce){return null==re?`${ce}`:("string"==typeof ce&&(ce=`'${ce}'`),ce&&"object"==typeof ce&&(ce="Object"),`${re}: ${ce}`.slice(0,50))}let cs=(()=>{var re;class ce extends u{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Le){this._compareWith=Le}writeValue(Le){let Wt;if(this.value=Le,Array.isArray(Le)){const yr=Le.map(ti=>this._getOptionId(ti));Wt=(ti,_o)=>{ti._setSelected(yr.indexOf(_o.toString())>-1)}}else Wt=(yr,ti)=>{yr._setSelected(!1)};this._optionMap.forEach(Wt)}registerOnChange(Le){this.onChange=Wt=>{const yr=[],ti=Wt.selectedOptions;if(void 0!==ti){const _o=ti;for(let rn=0;rn<_o.length;rn++){const Re=this._getOptionValue(_o[rn].value);yr.push(Re)}}else{const _o=Wt.options;for(let rn=0;rn<_o.length;rn++){const pe=_o[rn];if(pe.selected){const Re=this._getOptionValue(pe.value);yr.push(Re)}}}this.value=yr,Le(yr)}}_registerOption(Le){const Wt=(this._idCounter++).toString();return this._optionMap.set(Wt,Le),Wt}_getOptionId(Le){for(const Wt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Wt)._value,Le))return Wt;return null}_getOptionValue(Le){const Wt=function ta(re){return re.split(":")[0]}(Le);return this._optionMap.has(Wt)?this._optionMap.get(Wt)._value:Le}}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275dir=r.FsC({type:re,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Le,Wt){1&Le&&r.bIt("change",function(ti){return Wt.onChange(ti.target)})("blur",function(){return Wt.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([lo]),r.Vt3]}),ce})(),Ns=(()=>{var re;class ce{constructor(Le,Wt,yr){this._element=Le,this._renderer=Wt,this._select=yr,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Le){null!=this._select&&(this._value=Le,this._setElementValue(Qo(this.id,Le)),this._select.writeValue(this._select.value))}set value(Le){this._select?(this._value=Le,this._setElementValue(Qo(this.id,Le)),this._select.writeValue(this._select.value)):this._setElementValue(Le)}_setElementValue(Le){this._renderer.setProperty(this._element.nativeElement,"value",Le)}_setSelected(Le){this._renderer.setProperty(this._element.nativeElement,"selected",Le)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(re=ce).\u0275fac=function(Le){return new(Le||re)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(cs,9))},re.\u0275dir=r.FsC({type:re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ce})(),Go=(()=>{var re;class ce{constructor(){this._validator=Qe}ngOnChanges(Le){if(this.inputName in Le){const Wt=this.normalizeInput(Le[this.inputName].currentValue);this._enabled=this.enabled(Wt),this._validator=this._enabled?this.createValidator(Wt):Qe,this._onChange&&this._onChange()}}validate(Le){return this._validator(Le)}registerOnValidatorChange(Le){this._onChange=Le}enabled(Le){return null!=Le}}return(re=ce).\u0275fac=function(Le){return new(Le||re)},re.\u0275dir=r.FsC({type:re,features:[r.OA$]}),ce})();const Vs={provide:L,useExisting:(0,r.Rfq)(()=>Xs),multi:!0},ds={provide:L,useExisting:(0,r.Rfq)(()=>Jn),multi:!0};let Xs=(()=>{var re;class ce extends Go{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.L39,this.createValidator=Le=>$}enabled(Le){return Le}}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275dir=r.FsC({type:re,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Le,Wt){2&Le&&r.BMQ("required",Wt._enabled?"":null)},inputs:{required:"required"},features:[r.Jv_([Vs]),r.Vt3]}),ce})(),Jn=(()=>{var re;class ce extends Xs{constructor(){super(...arguments),this.createValidator=Le=>j}}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275dir=r.FsC({type:re,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Le,Wt){2&Le&&r.BMQ("required",Wt._enabled?"":null)},features:[r.Jv_([ds]),r.Vt3]}),ce})(),zn=(()=>{var re;class ce{}return(re=ce).\u0275fac=function(Le){return new(Le||re)},re.\u0275mod=r.$C({type:re}),re.\u0275inj=r.G2t({}),ce})();class fr extends Ce{constructor(ce,Je,Le){super(Ln(Je),gr(Le,Je)),this.controls=ce,this._initObservables(),this._setUpdateStrategy(Je),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ce){return this.controls[this._adjustIndex(ce)]}push(ce,Je={}){this.controls.push(ce),this._registerControl(ce),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}insert(ce,Je,Le={}){this.controls.splice(ce,0,Je),this._registerControl(Je),this.updateValueAndValidity({emitEvent:Le.emitEvent})}removeAt(ce,Je={}){let Le=this._adjustIndex(ce);Le<0&&(Le=0),this.controls[Le]&&this.controls[Le]._registerOnCollectionChange(()=>{}),this.controls.splice(Le,1),this.updateValueAndValidity({emitEvent:Je.emitEvent})}setControl(ce,Je,Le={}){let Wt=this._adjustIndex(ce);Wt<0&&(Wt=0),this.controls[Wt]&&this.controls[Wt]._registerOnCollectionChange(()=>{}),this.controls.splice(Wt,1),Je&&(this.controls.splice(Wt,0,Je),this._registerControl(Je)),this.updateValueAndValidity({emitEvent:Le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ce,Je={}){Ue(this,0,ce),ce.forEach((Le,Wt)=>{Fe(this,!1,Wt),this.at(Wt).setValue(Le,{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je)}patchValue(ce,Je={}){null!=ce&&(ce.forEach((Le,Wt)=>{this.at(Wt)&&this.at(Wt).patchValue(Le,{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je))}reset(ce=[],Je={}){this._forEachChild((Le,Wt)=>{Le.reset(ce[Wt],{onlySelf:!0,emitEvent:Je.emitEvent})}),this._updatePristine(Je),this._updateTouched(Je),this.updateValueAndValidity(Je)}getRawValue(){return this.controls.map(ce=>ce.getRawValue())}clear(ce={}){this.controls.length<1||(this._forEachChild(Je=>Je._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ce.emitEvent}))}_adjustIndex(ce){return ce<0?ce+this.length:ce}_syncPendingControls(){let ce=this.controls.reduce((Je,Le)=>!!Le._syncPendingControls()||Je,!1);return ce&&this.updateValueAndValidity({onlySelf:!0}),ce}_forEachChild(ce){this.controls.forEach((Je,Le)=>{ce(Je,Le)})}_updateValue(){this.value=this.controls.filter(ce=>ce.enabled||this.disabled).map(ce=>ce.value)}_anyControls(ce){return this.controls.some(Je=>Je.enabled&&ce(Je))}_setUpControls(){this._forEachChild(ce=>this._registerControl(ce))}_allControlsDisabled(){for(const ce of this.controls)if(ce.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ce){ce.setParent(this),ce._registerOnCollectionChange(this._onCollectionChange)}_find(ce){return this.at(ce)??null}}const mr=fr;function jr(re){return!!re&&(void 0!==re.asyncValidators||void 0!==re.validators||void 0!==re.updateOn)}let li=(()=>{var re;class ce{constructor(){this.useNonNullable=!1}get nonNullable(){const Le=new ce;return Le.useNonNullable=!0,Le}group(Le,Wt=null){const yr=this._reduceControls(Le);let ti={};return jr(Wt)?ti=Wt:null!==Wt&&(ti.validators=Wt.validator,ti.asyncValidators=Wt.asyncValidator),new me(yr,ti)}record(Le,Wt=null){const yr=this._reduceControls(Le);return new Gt(yr,Wt)}control(Le,Wt,yr){let ti={};return this.useNonNullable?(jr(Wt)?ti=Wt:(ti.validators=Wt,ti.asyncValidators=yr),new di(Le,{...ti,nonNullable:!0})):new di(Le,Wt,yr)}array(Le,Wt,yr){const ti=Le.map(_o=>this._createControl(_o));return new fr(ti,Wt,yr)}_reduceControls(Le){const Wt={};return Object.keys(Le).forEach(yr=>{Wt[yr]=this._createControl(Le[yr])}),Wt}_createControl(Le){return Le instanceof di||Le instanceof Ce?Le:Array.isArray(Le)?this.control(Le[0],Le.length>1?Le[1]:null,Le.length>2?Le[2]:null):this.control(Le)}}return(re=ce).\u0275fac=function(Le){return new(Le||re)},re.\u0275prov=r.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),ce})(),eo=(()=>{var re;class ce extends li{group(Le,Wt=null){return super.group(Le,Wt)}control(Le,Wt,yr){return super.control(Le,Wt,yr)}array(Le,Wt,yr){return super.array(Le,Wt,yr)}}return(re=ce).\u0275fac=(()=>{let Je;return function(Wt){return(Je||(Je=r.xGo(re)))(Wt||re)}})(),re.\u0275prov=r.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),ce})(),Mo=(()=>{var re;class ce{static withConfig(Le){return{ngModule:ce,providers:[{provide:On,useValue:Le.callSetDisabledState??vr}]}}}return(re=ce).\u0275fac=function(Le){return new(Le||re)},re.\u0275mod=r.$C({type:re}),re.\u0275inj=r.G2t({imports:[zn]}),ce})(),tt=(()=>{var re;class ce{static withConfig(Le){return{ngModule:ce,providers:[{provide:Po,useValue:Le.warnOnNgModelWithFormControl??"always"},{provide:On,useValue:Le.callSetDisabledState??vr}]}}}return(re=ce).\u0275fac=function(Le){return new(Le||re)},re.\u0275mod=r.$C({type:re}),re.\u0275inj=r.G2t({imports:[zn]}),ce})()},5801:(en,ot,w)=>{"use strict";w.d(ot,{Zi:()=>Ht,tN:()=>Ye});const r=":",x="|",f="@@",b="\u241f";let E;function L(ye){E??=new TextEncoder;const P=E.encode(ye),B=new DataView(P.buffer,P.byteOffset,P.byteLength);let R=ae(B,P.length,0),N=ae(B,P.length,102072);return 0==R&&(0==N||1==N)&&(R^=319790063,N^=-1801410264),BigInt.asUintN(32,BigInt(R))<<BigInt(32)|BigInt.asUintN(32,BigInt(N))}function ae(ye,P,B){let R=2654435769,N=2654435769,Y=0;const h=P-12;for(;Y<=h;Y+=12){R+=ye.getUint32(Y,!0),N+=ye.getUint32(Y+4,!0);const Z=le(R,N,B+=ye.getUint32(Y+8,!0));R=Z[0],N=Z[1],B=Z[2]}const M=P-Y;return B+=P,M>=4?(R+=ye.getUint32(Y,!0),Y+=4,M>=8?(N+=ye.getUint32(Y,!0),Y+=4,M>=9&&(B+=ye.getUint8(Y++)<<8),M>=10&&(B+=ye.getUint8(Y++)<<16),11===M&&(B+=ye.getUint8(Y++)<<24)):(M>=5&&(N+=ye.getUint8(Y++)),M>=6&&(N+=ye.getUint8(Y++)<<8),7===M&&(N+=ye.getUint8(Y++)<<16))):(M>=1&&(R+=ye.getUint8(Y++)),M>=2&&(R+=ye.getUint8(Y++)<<8),3===M&&(R+=ye.getUint8(Y++)<<16)),le(R,N,B)[2]}function le(ye,P,B){return ye-=P,ye-=B,P-=B,P-=ye^=B>>>13,B-=ye,B-=P^=ye<<8,ye-=P,ye-=B^=P>>>13,P-=B,P-=ye^=B>>>12,B-=ye,B-=P^=ye<<16,ye-=P,ye-=B^=P>>>5,P-=B,P-=ye^=B>>>3,B-=ye,B-=P^=ye<<10,[ye,P,B^=P>>>15]}function Se(ye,P,B,R,N=[]){const Y={},h={},M={},Z=function Qe(ye,P){const{text:B,block:R}=De(ye,P);if(void 0===R)return{text:B};{const[N,...Y]=R.split(b),[h,M]=N.split(f,2);let[Z,z]=h.split(x,2);return void 0===z&&(z=Z,Z=void 0),""===z&&(z=void 0),{text:B,meaning:Z,description:z,customId:M,legacyIds:Y}}}(ye[0],ye.raw[0]),z=[Z.text],H=[];let X=Z.text;for(let rt=1;rt<ye.length;rt++){const{messagePart:ft,placeholderName:It=ut(rt),associatedMessageId:Ge}=nt(ye[rt],ye.raw[rt]);X+=`{$${It}}${ft}`,void 0!==P&&(Y[It]=P[rt-1],h[It]=N[rt-1]),H.push(It),void 0!==Ge&&(M[It]=Ge),z.push(ft)}const oe=Z.customId||function ie(ye,P=""){let B=L(ye);return P&&(B=BigInt.asUintN(64,B<<BigInt(1))|B>>BigInt(63)&BigInt(1),B+=L(P)),BigInt.asUintN(63,B).toString()}(X,Z.meaning||""),He=Z.legacyIds?Z.legacyIds.filter(rt=>rt!==oe):[];return{id:oe,legacyIds:He,substitutions:Y,substitutionLocations:h,text:X,customId:Z.customId,meaning:Z.meaning||"",description:Z.description||"",messageParts:z,messagePartLocations:R,placeholderNames:H,associatedMessageIds:M,location:B}}function nt(ye,P){const{text:B,block:R}=De(ye,P);if(void 0===R)return{messagePart:B};{const[N,Y]=R.split(f);return{messagePart:B,placeholderName:N,associatedMessageId:Y}}}function De(ye,P){if(P.charAt(0)!==r)return{text:ye};{const B=Ft(ye,P);return{block:ye.substring(1,B),text:ye.substring(B+1)}}}function ut(ye){return 1===ye?"PH":"PH_"+(ye-1)}function Ft(ye,P){for(let B=1,R=1;B<ye.length;B++,R++)if("\\"===P[R])R++;else if(ye[B]===r)return B;throw new Error(`Unterminated $localize metadata block in "${P}".`)}class ve extends Error{constructor(P){super(`No translation found for ${xt(P)}.`),this.parsedMessage=P,this.type="MissingTranslationError"}}function ke(ye,P){return Object.defineProperty(ye,"raw",{value:P}),ye}function xt(ye){const P=ye.meaning&&` - "${ye.meaning}"`,B=ye.legacyIds&&ye.legacyIds.length>0?` [${ye.legacyIds.map(R=>`"${R}"`).join(", ")}]`:"";return`"${ye.id}"${B} ("${ye.text}"${P})`}function Ht(ye){$localize.translate||($localize.translate=Bt),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(ye).forEach(P=>{$localize.TRANSLATIONS[P]=function ge(ye){const P=ye.split(/{\$([^}]*)}/),B=[P[0]],R=[];for(let Y=1;Y<P.length-1;Y+=2)R.push(P[Y]),B.push(`${P[Y+1]}`);const N=B.map(Y=>Y.charAt(0)===r?"\\"+Y:Y);return{text:ye,messageParts:ke(B,N),placeholderNames:R}}(ye[P])})}function Bt(ye,P){try{return function V(ye,P,B){const R=Se(P,B);let N=ye[R.id];if(void 0!==R.legacyIds)for(let Y=0;Y<R.legacyIds.length&&void 0===N;Y++)N=ye[R.legacyIds[Y]];if(void 0===N)throw new ve(R);return[N.messageParts,N.placeholderNames.map(Y=>{if(R.substitutions.hasOwnProperty(Y))return R.substitutions[Y];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${xt(R)}.\nThe translation contains a placeholder with name ${Y}, which does not exist in the message.`)})]}($localize.TRANSLATIONS,ye,P)}catch(B){return console.warn(B.message),[ye,P]}}const Ye=function(ye,...P){if(Ye.translate){const R=Ye.translate(ye,P);ye=R[0],P=R[1]}let B=Ot(ye[0],ye.raw[0]);for(let R=1;R<ye.length;R++)B+=P[R-1]+Ot(ye[R],ye.raw[R]);return B},Ze=":";function Ot(ye,P){return P.charAt(0)===Ze?ye.substring(Ft(ye,P)+1):ye}},5571:(en,ot,w)=>{"use strict";w.d(ot,{Vg:()=>ie});var r=w(8617),f=(w(5024),w(4438)),E=(w(9417),w(6600));const C=["button"],u=["*"];function F(ae,le){if(1&ae&&f.nrm(0,"mat-pseudo-checkbox",3),2&ae){const fe=f.XpG();f.Y8G("disabled",fe.disabled)}}function S(ae,le){if(1&ae&&f.nrm(0,"mat-pseudo-checkbox",3),2&ae){const fe=f.XpG();f.Y8G("disabled",fe.disabled)}}const U=new f.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function O(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),y=new f.nKC("MatButtonToggleGroup");let D=0;class W{constructor(le,fe){this.source=le,this.value=fe}}let L=(()=>{var ae;class le{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(q){this._appearance=q}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(q){q!==this._checked&&(this._checked=q,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(q){this._disabled=q}constructor(q,$,j,Q,ee,be){this._changeDetectorRef=$,this._elementRef=j,this._focusMonitor=Q,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new f.bkB;const Se=Number(ee);this.tabIndex=Se||0===Se?Se:null,this.buttonToggleGroup=q,this.appearance=be&&be.appearance?be.appearance:"standard"}ngOnInit(){const q=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+D++,q&&(q._isPrechecked(this)?this.checked=!0:q._isSelected(this)!==this._checked&&q._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const q=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),q&&q._isSelected(this)&&q._syncButtonToggle(this,!1,!1,!0)}focus(q){this._buttonElement.nativeElement.focus(q)}_onButtonClick(){const q=!!this._isSingleSelector()||!this._checked;q!==this._checked&&(this._checked=q,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new W(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return(ae=le).\u0275fac=function(q){return new(q||ae)(f.rXU(y,8),f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(r.FN),f.kS0("tabindex"),f.rXU(U,8))},ae.\u0275cmp=f.VBU({type:ae,selectors:[["mat-button-toggle"]],viewQuery:function(q,$){if(1&q&&f.GBs(C,5),2&q){let j;f.mGM(j=f.lsd())&&($._buttonElement=j.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(q,$){1&q&&f.bIt("focus",function(){return $.focus()}),2&q&&(f.BMQ("aria-label",null)("aria-labelledby",null)("id",$.id)("name",null),f.AVh("mat-button-toggle-standalone",!$.buttonToggleGroup)("mat-button-toggle-checked",$.checked)("mat-button-toggle-disabled",$.disabled)("mat-button-toggle-appearance-standard","standard"===$.appearance))},inputs:{ariaLabel:[f.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[f.Mj6.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[f.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",f.L39],appearance:"appearance",checked:[f.Mj6.HasDecoratorInputTransform,"checked","checked",f.L39],disabled:[f.Mj6.HasDecoratorInputTransform,"disabled","disabled",f.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[f.GFd,f.aNF],ngContentSelectors:u,decls:8,vars:11,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(q,$){if(1&q){const j=f.RV6();f.NAR(),f.j41(0,"button",1,0),f.bIt("click",function(){return f.eBV(j),f.Njj($._onButtonClick())}),f.j41(2,"span",2),f.DNE(3,F,1,1,"mat-pseudo-checkbox",3)(4,S,1,1,"mat-pseudo-checkbox",3),f.SdG(5),f.k0s()(),f.nrm(6,"span",4)(7,"span",5)}if(2&q){const j=f.sdS(1);f.Y8G("id",$.buttonId)("disabled",$.disabled||null),f.BMQ("tabindex",$.disabled?-1:$.tabIndex)("aria-pressed",$.checked)("name",$._getButtonName())("aria-label",$.ariaLabel)("aria-labelledby",$.ariaLabelledby),f.R7$(3),f.vxM(3,$.buttonToggleGroup&&$.checked&&!$.buttonToggleGroup.multiple&&!$.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),f.R7$(),f.vxM(4,$.buttonToggleGroup&&$.checked&&$.buttonToggleGroup.multiple&&!$.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),f.R7$(3),f.Y8G("matRippleTrigger",j)("matRippleDisabled",$.disableRipple||$.disabled)}},dependencies:[E.r6,E.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0}),le})(),ie=(()=>{var ae;class le{}return(ae=le).\u0275fac=function(q){return new(q||ae)},ae.\u0275mod=f.$C({type:ae}),ae.\u0275inj=f.G2t({imports:[E.yE,E.pZ,L,E.yE]}),le})()},8834:(en,ot,w)=>{"use strict";w.d(ot,{$z:()=>q,Hl:()=>Ft});var r=w(6860),x=w(4438),f=w(8617),b=w(6600);const E=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],u=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],K=new x.nKC("MAT_BUTTON_CONFIG"),ie=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ae=(()=>{var ve;class I{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ge){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ge)}get disableRipple(){return this._disableRipple}set disableRipple(ge){this._disableRipple=ge,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ge){this._disabled=ge,this._updateRippleDisabled()}constructor(ge,Pe,ke,xt){this._elementRef=ge,this._platform=Pe,this._ngZone=ke,this._animationMode=xt,this._focusMonitor=(0,x.WQX)(f.FN),this._rippleLoader=(0,x.WQX)(b.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Ht=(0,x.WQX)(K,{optional:!0}),ln=ge.nativeElement,Bt=ln.classList;this.disabledInteractive=Ht?.disabledInteractive??!1,this._rippleLoader?.configureRipple(ln,{className:"mat-mdc-button-ripple"});for(const{attribute:Ye,mdcClasses:Ze}of ie)ln.hasAttribute(Ye)&&Bt.add(...Ze)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(ge="program",Pe){ge?this._focusMonitor.focusVia(this._elementRef.nativeElement,ge,Pe):this._elementRef.nativeElement.focus(Pe)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(ve=I).\u0275fac=function(ge){x.QTQ()},ve.\u0275dir=x.FsC({type:ve,inputs:{color:"color",disableRipple:[x.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",x.L39],disabled:[x.Mj6.HasDecoratorInputTransform,"disabled","disabled",x.L39],ariaDisabled:[x.Mj6.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",x.L39],disabledInteractive:[x.Mj6.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",x.L39]},features:[x.GFd]}),I})(),q=(()=>{var ve;class I extends ae{constructor(ge,Pe,ke,xt){super(ge,Pe,ke,xt)}}return(ve=I).\u0275fac=function(ge){return new(ge||ve)(x.rXU(x.aKT),x.rXU(r.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))},ve.\u0275cmp=x.VBU({type:ve,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ge,Pe){2&ge&&(x.BMQ("disabled",Pe._getDisabledAttribute())("aria-disabled",Pe._getAriaDisabled()),x.HbH(Pe.color?"mat-"+Pe.color:""),x.AVh("mat-mdc-button-disabled",Pe.disabled)("mat-mdc-button-disabled-interactive",Pe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)("mat-unthemed",!Pe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[x.Vt3,x.aNF],attrs:E,ngContentSelectors:u,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ge,Pe){1&ge&&(x.NAR(C),x.nrm(0,"span",0),x.SdG(1),x.j41(2,"span",1),x.SdG(3,1),x.k0s(),x.SdG(4,2),x.nrm(5,"span",2)(6,"span",3)),2&ge&&x.AVh("mdc-button__ripple",!Pe._isFab)("mdc-fab__ripple",Pe._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),I})(),Ft=(()=>{var ve;class I{}return(ve=I).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=x.$C({type:ve}),ve.\u0275inj=x.G2t({imports:[b.yE,b.pZ,b.yE]}),I})()},2765:(en,ot,w)=>{"use strict";w.d(ot,{So:()=>D,g7:()=>ie});var r=w(4438),x=w(9417),f=w(6600);const b=["input"],E=["label"],C=["*"],u=new r.nKC("mat-checkbox-default-options",{providedIn:"root",factory:F});function F(){return{color:"accent",clickAction:"check-indeterminate"}}var S=function(ae){return ae[ae.Init=0]="Init",ae[ae.Checked=1]="Checked",ae[ae.Unchecked=2]="Unchecked",ae[ae.Indeterminate=3]="Indeterminate",ae}(S||{});const U={provide:x.kq,useExisting:(0,r.Rfq)(()=>D),multi:!0};class O{}let y=0;const _=F();let D=(()=>{var ae;class le{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(q){const $=new O;return $.source=this,$.checked=q,$}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(q,$,j,Q,ee,be){this._elementRef=q,this._changeDetectorRef=$,this._ngZone=j,this._animationMode=ee,this._options=be,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new r.bkB,this.indeterminateChange=new r.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=S.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||_,this.color=this._options.color||_.color,this.tabIndex=parseInt(Q)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++y}ngOnChanges(q){q.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(q){q!=this.checked&&(this._checked=q,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(q){q!==this.disabled&&(this._disabled=q,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(q){const $=q!=this._indeterminate;this._indeterminate=q,$&&(this._transitionCheckState(this._indeterminate?S.Indeterminate:this.checked?S.Checked:S.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(q){this.checked=!!q}registerOnChange(q){this._controlValueAccessorChangeFn=q}registerOnTouched(q){this._onTouched=q}setDisabledState(q){this.disabled=q}validate(q){return this.required&&!0!==q.value?{required:!0}:null}registerOnValidatorChange(q){this._validatorChangeFn=q}_transitionCheckState(q){let $=this._currentCheckState,j=this._getAnimationTargetElement();if($!==q&&j&&(this._currentAnimationClass&&j.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition($,q),this._currentCheckState=q,this._currentAnimationClass.length>0)){j.classList.add(this._currentAnimationClass);const Q=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{j.classList.remove(Q)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const q=this._options?.clickAction;this.disabled||"noop"===q?!this.disabled&&"noop"===q&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==q&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?S.Checked:S.Unchecked),this._emitChangeEvent())}_onInteractionEvent(q){q.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(q,$){if("NoopAnimations"===this._animationMode)return"";switch(q){case S.Init:if($===S.Checked)return this._animationClasses.uncheckedToChecked;if($==S.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case S.Unchecked:return $===S.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case S.Checked:return $===S.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case S.Indeterminate:return $===S.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(q){const $=this._inputElement;$&&($.nativeElement.indeterminate=q)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(q){q.target&&this._labelElement.nativeElement.contains(q.target)&&q.stopPropagation()}}return(ae=le).\u0275fac=function(q){return new(q||ae)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(r.SKi),r.kS0("tabindex"),r.rXU(r.bc$,8),r.rXU(u,8))},ae.\u0275cmp=r.VBU({type:ae,selectors:[["mat-checkbox"]],viewQuery:function(q,$){if(1&q&&(r.GBs(b,5),r.GBs(E,5),r.GBs(f.r6,5)),2&q){let j;r.mGM(j=r.lsd())&&($._inputElement=j.first),r.mGM(j=r.lsd())&&($._labelElement=j.first),r.mGM(j=r.lsd())&&($.ripple=j.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(q,$){2&q&&(r.Mr5("id",$.id),r.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),r.HbH($.color?"mat-"+$.color:"mat-accent"),r.AVh("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mdc-checkbox--disabled",$.disabled)("mat-mdc-checkbox-disabled",$.disabled)("mat-mdc-checkbox-checked",$.checked))},inputs:{ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],id:"id",required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39],tabIndex:[r.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",fe=>null==fe?void 0:(0,r.Udg)(fe)],color:"color",checked:[r.Mj6.HasDecoratorInputTransform,"checked","checked",r.L39],disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],indeterminate:[r.Mj6.HasDecoratorInputTransform,"indeterminate","indeterminate",r.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[r.Jv_([U,{provide:x.cz,useExisting:ae,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:C,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(q,$){if(1&q){const j=r.RV6();r.NAR(),r.j41(0,"div",3),r.bIt("click",function(ee){return r.eBV(j),r.Njj($._preventBubblingFromLabel(ee))}),r.j41(1,"div",4,0)(3,"div",5),r.bIt("click",function(){return r.eBV(j),r.Njj($._onTouchTargetClick())}),r.k0s(),r.j41(4,"input",6,1),r.bIt("blur",function(){return r.eBV(j),r.Njj($._onBlur())})("click",function(){return r.eBV(j),r.Njj($._onInputClick())})("change",function(ee){return r.eBV(j),r.Njj($._onInteractionEvent(ee))}),r.k0s(),r.nrm(6,"div",7),r.j41(7,"div",8),r.qSk(),r.j41(8,"svg",9),r.nrm(9,"path",10),r.k0s(),r.joV(),r.nrm(10,"div",11),r.k0s(),r.nrm(11,"div",12),r.k0s(),r.j41(12,"label",13,2),r.SdG(14),r.k0s()()}if(2&q){const j=r.sdS(2);r.Y8G("labelPosition",$.labelPosition),r.R7$(4),r.AVh("mdc-checkbox--selected",$.checked),r.Y8G("checked",$.checked)("indeterminate",$.indeterminate)("disabled",$.disabled)("id",$.inputId)("required",$.required)("tabIndex",$.disabled?-1:$.tabIndex),r.BMQ("aria-label",$.ariaLabel||null)("aria-labelledby",$.ariaLabelledby)("aria-describedby",$.ariaDescribedby)("aria-checked",$.indeterminate?"mixed":null)("name",$.name)("value",$.value),r.R7$(7),r.Y8G("matRippleTrigger",j)("matRippleDisabled",$.disableRipple||$.disabled)("matRippleCentered",!0),r.R7$(),r.Y8G("for",$.inputId)}},dependencies:[f.r6,f.tO],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),le})(),ie=(()=>{var ae;class le{}return(ae=le).\u0275fac=function(q){return new(q||ae)},ae.\u0275mod=r.$C({type:ae}),ae.\u0275inj=r.G2t({imports:[D,f.yE,f.yE]}),le})()},6600:(en,ot,w)=>{"use strict";w.d(ot,{$E:()=>It,yE:()=>j,Sy:()=>$n,wg:()=>dt,r6:()=>Ge,Ej:()=>me,pZ:()=>Ct,Ex:()=>Y,tO:()=>it});var r=w(4438),x=w(8617),f=w(8203),E=w(177),C=w(6860),u=w(4085);const L=["mat-internal-form-field",""],ie=["*"],$=new r.nKC("mat-sanity-checks",{providedIn:"root",factory:function q(){return!0}});let j=(()=>{var Me;class We{constructor(Kt,On,vr){this._sanityChecks=On,this._document=vr,this._hasDoneGlobalChecks=!1,Kt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Kt){return!(0,C.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Kt])}}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)(r.KVO(x.Q_),r.KVO($,8),r.KVO(E.qQ))},Me.\u0275mod=r.$C({type:Me}),Me.\u0275inj=r.G2t({imports:[f.jI,f.jI]}),We})();var Y=function(Me){return Me[Me.FADING_IN=0]="FADING_IN",Me[Me.VISIBLE=1]="VISIBLE",Me[Me.FADING_OUT=2]="FADING_OUT",Me[Me.HIDDEN=3]="HIDDEN",Me}(Y||{});class h{constructor(We,Gt,Kt,On=!1){this._renderer=We,this.element=Gt,this.config=Kt,this._animationForciblyDisabledThroughCss=On,this.state=Y.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const M=(0,C.BQ)({passive:!0,capture:!0});class Z{constructor(){this._events=new Map,this._delegateEventHandler=We=>{const Gt=(0,C.Fb)(We);Gt&&this._events.get(We.type)?.forEach((Kt,On)=>{(On===Gt||On.contains(Gt))&&Kt.forEach(vr=>vr.handleEvent(We))})}}addHandler(We,Gt,Kt,On){const vr=this._events.get(Gt);if(vr){const Cn=vr.get(Kt);Cn?Cn.add(On):vr.set(Kt,new Set([On]))}else this._events.set(Gt,new Map([[Kt,new Set([On])]])),We.runOutsideAngular(()=>{document.addEventListener(Gt,this._delegateEventHandler,M)})}removeHandler(We,Gt,Kt){const On=this._events.get(We);if(!On)return;const vr=On.get(Gt);vr&&(vr.delete(Kt),0===vr.size&&On.delete(Gt),0===On.size&&(this._events.delete(We),document.removeEventListener(We,this._delegateEventHandler,M)))}}const z={enterDuration:225,exitDuration:150},X=(0,C.BQ)({passive:!0,capture:!0}),oe=["mousedown","touchstart"],He=["mouseup","mouseleave","touchend","touchcancel"];class rt{constructor(We,Gt,Kt,On){this._target=We,this._ngZone=Gt,this._platform=On,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,On.isBrowser&&(this._containerElement=(0,u.i8)(Kt))}fadeInRipple(We,Gt,Kt={}){const On=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),vr={...z,...Kt.animation};Kt.centered&&(We=On.left+On.width/2,Gt=On.top+On.height/2);const Cn=Kt.radius||function ft(Me,We,Gt){const Kt=Math.max(Math.abs(Me-Gt.left),Math.abs(Me-Gt.right)),On=Math.max(Math.abs(We-Gt.top),Math.abs(We-Gt.bottom));return Math.sqrt(Kt*Kt+On*On)}(We,Gt,On),tr=We-On.left,Er=Gt-On.top,_r=vr.enterDuration,sr=document.createElement("div");sr.classList.add("mat-ripple-element"),sr.style.left=tr-Cn+"px",sr.style.top=Er-Cn+"px",sr.style.height=2*Cn+"px",sr.style.width=2*Cn+"px",null!=Kt.color&&(sr.style.backgroundColor=Kt.color),sr.style.transitionDuration=`${_r}ms`,this._containerElement.appendChild(sr);const _n=window.getComputedStyle(sr),Ii=_n.transitionDuration,so="none"===_n.transitionProperty||"0s"===Ii||"0s, 0s"===Ii||0===On.width&&0===On.height,Cr=new h(this,sr,Kt,so);sr.style.transform="scale3d(1, 1, 1)",Cr.state=Y.FADING_IN,Kt.persistent||(this._mostRecentTransientRipple=Cr);let ii=null;return!so&&(_r||vr.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Or=()=>this._finishRippleTransition(Cr),fi=()=>this._destroyRipple(Cr);sr.addEventListener("transitionend",Or),sr.addEventListener("transitioncancel",fi),ii={onTransitionEnd:Or,onTransitionCancel:fi}}),this._activeRipples.set(Cr,ii),(so||!_r)&&this._finishRippleTransition(Cr),Cr}fadeOutRipple(We){if(We.state===Y.FADING_OUT||We.state===Y.HIDDEN)return;const Gt=We.element,Kt={...z,...We.config.animation};Gt.style.transitionDuration=`${Kt.exitDuration}ms`,Gt.style.opacity="0",We.state=Y.FADING_OUT,(We._animationForciblyDisabledThroughCss||!Kt.exitDuration)&&this._finishRippleTransition(We)}fadeOutAll(){this._getActiveRipples().forEach(We=>We.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(We=>{We.config.persistent||We.fadeOut()})}setupTriggerEvents(We){const Gt=(0,u.i8)(We);!this._platform.isBrowser||!Gt||Gt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Gt,oe.forEach(Kt=>{rt._eventManager.addHandler(this._ngZone,Kt,Gt,this)}))}handleEvent(We){"mousedown"===We.type?this._onMousedown(We):"touchstart"===We.type?this._onTouchStart(We):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{He.forEach(Gt=>{this._triggerElement.addEventListener(Gt,this,X)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(We){We.state===Y.FADING_IN?this._startFadeOutTransition(We):We.state===Y.FADING_OUT&&this._destroyRipple(We)}_startFadeOutTransition(We){const Gt=We===this._mostRecentTransientRipple,{persistent:Kt}=We.config;We.state=Y.VISIBLE,!Kt&&(!Gt||!this._isPointerDown)&&We.fadeOut()}_destroyRipple(We){const Gt=this._activeRipples.get(We)??null;this._activeRipples.delete(We),this._activeRipples.size||(this._containerRect=null),We===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),We.state=Y.HIDDEN,null!==Gt&&(We.element.removeEventListener("transitionend",Gt.onTransitionEnd),We.element.removeEventListener("transitioncancel",Gt.onTransitionCancel)),We.element.remove()}_onMousedown(We){const Gt=(0,x._G)(We),Kt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Gt&&!Kt&&(this._isPointerDown=!0,this.fadeInRipple(We.clientX,We.clientY,this._target.rippleConfig))}_onTouchStart(We){if(!this._target.rippleDisabled&&!(0,x.w6)(We)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Gt=We.changedTouches;if(Gt)for(let Kt=0;Kt<Gt.length;Kt++)this.fadeInRipple(Gt[Kt].clientX,Gt[Kt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(We=>{!We.config.persistent&&(We.state===Y.VISIBLE||We.config.terminateOnPointerUp&&We.state===Y.FADING_IN)&&We.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const We=this._triggerElement;We&&(oe.forEach(Gt=>rt._eventManager.removeHandler(Gt,We,this)),this._pointerUpEventsRegistered&&He.forEach(Gt=>We.removeEventListener(Gt,this,X)))}}rt._eventManager=new Z;const It=new r.nKC("mat-ripple-global-options");let Ge=(()=>{var Me;class We{get disabled(){return this._disabled}set disabled(Kt){Kt&&this.fadeOutAllNonPersistent(),this._disabled=Kt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Kt){this._trigger=Kt,this._setupTriggerEventsIfEnabled()}constructor(Kt,On,vr,Cn,tr){this._elementRef=Kt,this._animationMode=tr,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Cn||{},this._rippleRenderer=new rt(this,On,Kt,vr)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Kt,On=0,vr){return"number"==typeof Kt?this._rippleRenderer.fadeInRipple(Kt,On,{...this.rippleConfig,...vr}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Kt})}}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(C.OD),r.rXU(It,8),r.rXU(r.bc$,8))},Me.\u0275dir=r.FsC({type:Me,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Kt,On){2&Kt&&r.AVh("mat-ripple-unbounded",On.unbounded)},inputs:{color:[r.Mj6.None,"matRippleColor","color"],unbounded:[r.Mj6.None,"matRippleUnbounded","unbounded"],centered:[r.Mj6.None,"matRippleCentered","centered"],radius:[r.Mj6.None,"matRippleRadius","radius"],animation:[r.Mj6.None,"matRippleAnimation","animation"],disabled:[r.Mj6.None,"matRippleDisabled","disabled"],trigger:[r.Mj6.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0}),We})(),Ct=(()=>{var Me;class We{}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)},Me.\u0275mod=r.$C({type:Me}),Me.\u0275inj=r.G2t({imports:[j,j]}),We})(),dt=(()=>{var Me;class We{constructor(Kt){this._animationMode=Kt,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)(r.rXU(r.bc$,8))},Me.\u0275cmp=r.VBU({type:Me,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Kt,On){2&Kt&&r.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===On.state)("mat-pseudo-checkbox-checked","checked"===On.state)("mat-pseudo-checkbox-disabled",On.disabled)("mat-pseudo-checkbox-minimal","minimal"===On.appearance)("mat-pseudo-checkbox-full","full"===On.appearance)("_mat-animation-noopable","NoopAnimations"===On._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(Kt,On){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),We})(),At=(()=>{var Me;class We{}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)},Me.\u0275mod=r.$C({type:Me}),Me.\u0275inj=r.G2t({imports:[j]}),We})(),$n=(()=>{var Me;class We{}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)},Me.\u0275mod=r.$C({type:Me}),Me.\u0275inj=r.G2t({imports:[Ct,j,At]}),We})();const gr={capture:!0},sn=["focus","click","mouseenter","touchstart"],St="mat-ripple-loader-uninitialized",Fe="mat-ripple-loader-class-name",Ue="mat-ripple-loader-centered",Ce="mat-ripple-loader-disabled";let me=(()=>{var Me;class We{constructor(){this._document=(0,r.WQX)(E.qQ,{optional:!0}),this._animationMode=(0,r.WQX)(r.bc$,{optional:!0}),this._globalRippleOptions=(0,r.WQX)(It,{optional:!0}),this._platform=(0,r.WQX)(C.OD),this._ngZone=(0,r.WQX)(r.SKi),this._hosts=new Map,this._onInteraction=Kt=>{if(!(Kt.target instanceof HTMLElement))return;const vr=Kt.target.closest(`[${St}]`);vr&&this._createRipple(vr)},this._ngZone.runOutsideAngular(()=>{for(const Kt of sn)this._document?.addEventListener(Kt,this._onInteraction,gr)})}ngOnDestroy(){const Kt=this._hosts.keys();for(const On of Kt)this.destroyRipple(On);for(const On of sn)this._document?.removeEventListener(On,this._onInteraction,gr)}configureRipple(Kt,On){Kt.setAttribute(St,""),(On.className||!Kt.hasAttribute(Fe))&&Kt.setAttribute(Fe,On.className||""),On.centered&&Kt.setAttribute(Ue,""),On.disabled&&Kt.setAttribute(Ce,"")}getRipple(Kt){return this._hosts.get(Kt)||this._createRipple(Kt)}setDisabled(Kt,On){const vr=this._hosts.get(Kt);vr?vr.disabled=On:On?Kt.setAttribute(Ce,""):Kt.removeAttribute(Ce)}_createRipple(Kt){if(!this._document)return;const On=this._hosts.get(Kt);if(On)return On;Kt.querySelector(".mat-ripple")?.remove();const vr=this._document.createElement("span");vr.classList.add("mat-ripple",Kt.getAttribute(Fe)),Kt.append(vr);const Cn=new Ge(new r.aKT(vr),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Cn._isInitialized=!0,Cn.trigger=Kt,Cn.centered=Kt.hasAttribute(Ue),Cn.disabled=Kt.hasAttribute(Ce),this.attachRipple(Kt,Cn),Cn}attachRipple(Kt,On){Kt.removeAttribute(St),this._hosts.set(Kt,On)}destroyRipple(Kt){const On=this._hosts.get(Kt);On&&(On.ngOnDestroy(),this._hosts.delete(Kt))}}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)},Me.\u0275prov=r.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"}),We})(),it=(()=>{var Me;class We{}return(Me=We).\u0275fac=function(Kt){return new(Kt||Me)},Me.\u0275cmp=r.VBU({type:Me,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Kt,On){2&Kt&&r.AVh("mdc-form-field--align-end","before"===On.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[r.aNF],attrs:L,ngContentSelectors:ie,decls:1,vars:0,template:function(Kt,On){1&Kt&&(r.NAR(),r.SdG(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0}),We})()},4006:(en,ot,w)=>{"use strict";w.d(ot,{BI:()=>xt,CP:()=>Se,E7:()=>ln,Vh:()=>nt,Yi:()=>Ht,bZ:()=>V,hM:()=>Ze,tx:()=>Pe});var r=w(7987),x=w(177),f=w(4438),b=w(8617),E=w(2529),C=w(4085),u=w(6939),F=w(5052),S=w(6718),U=w(5946),O=w(4264),y=w(7365),_=w(5160),D=w(7336),W=w(6600);function L(P,B){}w(9969);class ie{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ae="mdc-dialog--open",le="mdc-dialog--opening",fe="mdc-dialog--closing";let j=(()=>{var P;class B extends E.sU{constructor(N,Y,h,M,Z,z,H,X,oe){super(N,Y,h,M,Z,z,H,oe),this._animationMode=X,this._animationStateChanged=new f.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ee(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ee(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Q,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(le,ae)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ae),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ae),this._animationsEnabled?(this._hostElement.style.setProperty(Q,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(N){this._actionSectionCount+=N,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(le,fe)}_waitForAnimationToComplete(N,Y){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Y,N)}_requestAnimationFrame(N){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(N):N()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(N){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:N})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(N){const Y=super.attachComponentPortal(N);return Y.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Y}}return(P=B).\u0275fac=function(N){return new(N||P)(f.rXU(f.aKT),f.rXU(b.GX),f.rXU(x.qQ,8),f.rXU(ie),f.rXU(b.Z7),f.rXU(f.SKi),f.rXU(r.yY),f.rXU(f.bc$,8),f.rXU(b.FN))},P.\u0275cmp=f.VBU({type:P,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(N,Y){2&N&&(f.Mr5("id",Y._config.id),f.BMQ("aria-modal",Y._config.ariaModal)("role",Y._config.role)("aria-labelledby",Y._config.ariaLabel?null:Y._ariaLabelledByQueue[0])("aria-label",Y._config.ariaLabel)("aria-describedby",Y._config.ariaDescribedBy||null),f.AVh("_mat-animation-noopable",!Y._animationsEnabled)("mat-mdc-dialog-container-with-actions",Y._actionSectionCount>0))},standalone:!0,features:[f.Vt3,f.aNF],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(N,Y){1&N&&(f.j41(0,"div",0)(1,"div",1),f.DNE(2,L,0,0,"ng-template",2),f.k0s()())},dependencies:[u.I3],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),B})();const Q="--mat-dialog-transition-duration";function ee(P){return null==P?null:"number"==typeof P?P:P.endsWith("ms")?(0,C.OE)(P.substring(0,P.length-2)):P.endsWith("s")?1e3*(0,C.OE)(P.substring(0,P.length-1)):"0"===P?0:null}var be=function(P){return P[P.OPEN=0]="OPEN",P[P.CLOSING=1]="CLOSING",P[P.CLOSED=2]="CLOSED",P}(be||{});class Se{constructor(B,R,N){this._ref=B,this._containerInstance=N,this._afterOpened=new F.B,this._beforeClosed=new F.B,this._state=be.OPEN,this.disableClose=R.disableClose,this.id=B.id,B.addPanelClass("mat-mdc-dialog-panel"),N._animationStateChanged.pipe((0,O.p)(Y=>"opened"===Y.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),N._animationStateChanged.pipe((0,O.p)(Y=>"closed"===Y.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),B.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,S.h)(this.backdropClick(),this.keydownEvents().pipe((0,O.p)(Y=>Y.keyCode===D._f&&!this.disableClose&&!(0,D.rp)(Y)))).subscribe(Y=>{this.disableClose||(Y.preventDefault(),Qe(this,"keydown"===Y.type?"keyboard":"mouse"))})}close(B){this._result=B,this._containerInstance._animationStateChanged.pipe((0,O.p)(R=>"closing"===R.state),(0,y.s)(1)).subscribe(R=>{this._beforeClosed.next(B),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),R.totalTime+100)}),this._state=be.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(B){let R=this._ref.config.positionStrategy;return B&&(B.left||B.right)?B.left?R.left(B.left):R.right(B.right):R.centerHorizontally(),B&&(B.top||B.bottom)?B.top?R.top(B.top):R.bottom(B.bottom):R.centerVertically(),this._ref.updatePosition(),this}updateSize(B="",R=""){return this._ref.updateSize(B,R),this}addPanelClass(B){return this._ref.addPanelClass(B),this}removePanelClass(B){return this._ref.removePanelClass(B),this}getState(){return this._state}_finishDialogClose(){this._state=be.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Qe(P,B,R){return P._closeInteractionType=B,P.close(R)}const nt=new f.nKC("MatMdcDialogData"),De=new f.nKC("mat-mdc-dialog-default-options"),ut=new f.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const P=(0,f.WQX)(r.hJ);return()=>P.scrollStrategies.block()}});let I=0,V=(()=>{var P;class B{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const N=this._parentDialog;return N?N._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(N,Y,h,M,Z,z,H,X){this._overlay=N,this._defaultOptions=M,this._scrollStrategy=Z,this._parentDialog=z,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this.dialogConfigClass=ie,this.afterAllClosed=(0,U.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,_.Z)(void 0))),this._dialog=Y.get(E.lG),this._dialogRefConstructor=Se,this._dialogContainerType=j,this._dialogDataToken=nt}open(N,Y){let h;(Y={...this._defaultOptions||new ie,...Y}).id=Y.id||"mat-mdc-dialog-"+I++,Y.scrollStrategy=Y.scrollStrategy||this._scrollStrategy();const M=this._dialog.open(N,{...Y,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Y},{provide:E.Pe,useValue:Y}]},templateContext:()=>({dialogRef:h}),providers:(Z,z,H)=>(h=new this._dialogRefConstructor(Z,Y,H),h.updatePosition(Y?.position),[{provide:this._dialogContainerType,useValue:H},{provide:this._dialogDataToken,useValue:z.data},{provide:this._dialogRefConstructor,useValue:h}])});return h.componentRef=M.componentRef,h.componentInstance=M.componentInstance,this.openDialogs.push(h),this.afterOpened.next(h),h.afterClosed().subscribe(()=>{const Z=this.openDialogs.indexOf(h);Z>-1&&(this.openDialogs.splice(Z,1),this.openDialogs.length||this._getAfterAllClosed().next())}),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(N){return this.openDialogs.find(Y=>Y.id===N)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(N){let Y=N.length;for(;Y--;)N[Y].close()}}return(P=B).\u0275fac=function(N){return new(N||P)(f.KVO(r.hJ),f.KVO(f.zZn),f.KVO(x.aZ,8),f.KVO(De,8),f.KVO(ut),f.KVO(P,12),f.KVO(r.Sf),f.KVO(f.bc$,8))},P.\u0275prov=f.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}),B})(),ge=0,Pe=(()=>{var P;class B{constructor(N,Y,h){this.dialogRef=N,this._elementRef=Y,this._dialog=h,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Bt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(N){const Y=N._matDialogClose||N._matDialogCloseResult;Y&&(this.dialogResult=Y.currentValue)}_onButtonClick(N){Qe(this.dialogRef,0===N.screenX&&0===N.screenY?"keyboard":"mouse",this.dialogResult)}}return(P=B).\u0275fac=function(N){return new(N||P)(f.rXU(Se,8),f.rXU(f.aKT),f.rXU(V))},P.\u0275dir=f.FsC({type:P,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(N,Y){1&N&&f.bIt("click",function(M){return Y._onButtonClick(M)}),2&N&&f.BMQ("aria-label",Y.ariaLabel||null)("type",Y.type)},inputs:{ariaLabel:[f.Mj6.None,"aria-label","ariaLabel"],type:"type",dialogResult:[f.Mj6.None,"mat-dialog-close","dialogResult"],_matDialogClose:[f.Mj6.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[f.OA$]}),B})(),ke=(()=>{var P;class B{constructor(N,Y,h){this._dialogRef=N,this._elementRef=Y,this._dialog=h}ngOnInit(){this._dialogRef||(this._dialogRef=Bt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}}return(P=B).\u0275fac=function(N){return new(N||P)(f.rXU(Se,8),f.rXU(f.aKT),f.rXU(V))},P.\u0275dir=f.FsC({type:P,standalone:!0}),B})(),xt=(()=>{var P;class B extends ke{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ge++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}}return(P=B).\u0275fac=(()=>{let R;return function(Y){return(R||(R=f.xGo(P)))(Y||P)}})(),P.\u0275dir=f.FsC({type:P,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(N,Y){2&N&&f.Mr5("id",Y.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[f.Vt3]}),B})(),Ht=(()=>{var P;class B{}return(P=B).\u0275fac=function(N){return new(N||P)},P.\u0275dir=f.FsC({type:P,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0}),B})(),ln=(()=>{var P;class B extends ke{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}}return(P=B).\u0275fac=(()=>{let R;return function(Y){return(R||(R=f.xGo(P)))(Y||P)}})(),P.\u0275dir=f.FsC({type:P,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(N,Y){2&N&&f.AVh("mat-mdc-dialog-actions-align-start","start"===Y.align)("mat-mdc-dialog-actions-align-center","center"===Y.align)("mat-mdc-dialog-actions-align-end","end"===Y.align)},inputs:{align:"align"},standalone:!0,features:[f.Vt3]}),B})();function Bt(P,B){let R=P.nativeElement.parentElement;for(;R&&!R.classList.contains("mat-mdc-dialog-container");)R=R.parentElement;return R?B.find(N=>N.id===R.id):null}let Ze=(()=>{var P;class B{}return(P=B).\u0275fac=function(N){return new(N||P)},P.\u0275mod=f.$C({type:P}),P.\u0275inj=f.G2t({providers:[V],imports:[E.Ph,r.z_,u.jc,W.yE,W.yE]}),B})()},1997:(en,ot,w)=>{"use strict";w.d(ot,{q:()=>b,w:()=>E});var r=w(4438),x=w(4085),f=w(6600);let b=(()=>{var C;class u{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(S){this._vertical=(0,x.he)(S)}get inset(){return this._inset}set inset(S){this._inset=(0,x.he)(S)}}return(C=u).\u0275fac=function(S){return new(S||C)},C.\u0275cmp=r.VBU({type:C,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(S,U){2&S&&(r.BMQ("aria-orientation",U.vertical?"vertical":"horizontal"),r.AVh("mat-divider-vertical",U.vertical)("mat-divider-horizontal",!U.vertical)("mat-divider-inset",U.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(S,U){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),u})(),E=(()=>{var C;class u{}return(C=u).\u0275fac=function(S){return new(S||C)},C.\u0275mod=r.$C({type:C}),C.\u0275inj=r.G2t({imports:[f.yE,f.yE]}),u})()},3719:(en,ot,w)=>{"use strict";w.d(ot,{RG:()=>rt,TL:()=>ve});var r=w(4438),f=(w(9969),w(177)),b=w(2318),E=w(6600);let ut=0;const Ft=new r.nKC("MatError");let ve=(()=>{var ft;class It{constructor(Ct,dt){this.id="mat-mdc-error-"+ut++,Ct||dt.nativeElement.setAttribute("aria-live","polite")}}return(ft=It).\u0275fac=function(Ct){return new(Ct||ft)(r.kS0("aria-live"),r.rXU(r.aKT))},ft.\u0275dir=r.FsC({type:ft,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Ct,dt){2&Ct&&r.Mr5("id",dt.id)},inputs:{id:"id"},standalone:!0,features:[r.Jv_([{provide:Ft,useExisting:ft}])]}),It})(),rt=(()=>{var ft;class It{}return(ft=It).\u0275fac=function(Ct){return new(Ct||ft)},ft.\u0275mod=r.$C({type:ft}),ft.\u0275inj=r.G2t({imports:[E.yE,f.MD,b.w5,E.yE]}),It})()},9115:(en,ot,w)=>{"use strict";w.d(ot,{Cn:()=>B,Cp:()=>P,fb:()=>nt,kk:()=>ln});var r=w(4438),x=w(8617),f=w(7336),b=w(5052),E=w(6718),C=w(1027),u=w(5877),F=w(2755),S=w(5160),U=w(2914),O=w(7365),y=w(7925),_=w(4264),D=w(9833),W=w(177),K=w(6600),L=w(6939),ie=w(9969),ae=w(8203),le=w(7987),fe=w(6860),q=w(5478);const $=["mat-menu-item",""],j=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Q=["mat-icon, [matMenuItemIcon]","*"];function ee(R,N){1&R&&(r.qSk(),r.j41(0,"svg",2),r.nrm(1,"polygon",3),r.k0s())}const be=["*"];function Se(R,N){if(1&R){const Y=r.RV6();r.j41(0,"div",0),r.bIt("keydown",function(M){r.eBV(Y);const Z=r.XpG();return r.Njj(Z._handleKeydown(M))})("click",function(){r.eBV(Y);const M=r.XpG();return r.Njj(M.closed.emit("click"))})("@transformMenu.start",function(M){r.eBV(Y);const Z=r.XpG();return r.Njj(Z._onAnimationStart(M))})("@transformMenu.done",function(M){r.eBV(Y);const Z=r.XpG();return r.Njj(Z._onAnimationDone(M))}),r.j41(1,"div",1),r.SdG(2),r.k0s()()}if(2&R){const Y=r.XpG();r.Y8G("id",Y.panelId)("ngClass",Y._classList)("@transformMenu",Y._panelAnimationState),r.BMQ("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby||null)("aria-describedby",Y.ariaDescribedby||null)}}const Qe=new r.nKC("MAT_MENU_PANEL");let nt=(()=>{var R;class N{constructor(h,M,Z,z,H){this._elementRef=h,this._document=M,this._focusMonitor=Z,this._parentMenu=z,this._changeDetectorRef=H,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new b.B,this._focused=new b.B,this._highlighted=!1,this._triggersSubmenu=!1,z?.addItem?.(this)}focus(h,M){this._focusMonitor&&h?this._focusMonitor.focusVia(this._getHostElement(),h,M):this._getHostElement().focus(M),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(h){this.disabled&&(h.preventDefault(),h.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const h=this._elementRef.nativeElement.cloneNode(!0),M=h.querySelectorAll("mat-icon, .material-icons");for(let Z=0;Z<M.length;Z++)M[Z].remove();return h.textContent?.trim()||""}_setHighlighted(h){this._highlighted=h,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(h){this._triggersSubmenu=h,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return(R=N).\u0275fac=function(h){return new(h||R)(r.rXU(r.aKT),r.rXU(W.qQ),r.rXU(x.FN),r.rXU(Qe,8),r.rXU(r.gRc))},R.\u0275cmp=r.VBU({type:R,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(h,M){1&h&&r.bIt("click",function(z){return M._checkDisabled(z)})("mouseenter",function(){return M._handleMouseEnter()}),2&h&&(r.BMQ("role",M.role)("tabindex",M._getTabIndex())("aria-disabled",M.disabled)("disabled",M.disabled||null),r.AVh("mat-mdc-menu-item-highlighted",M._highlighted)("mat-mdc-menu-item-submenu-trigger",M._triggersSubmenu))},inputs:{role:"role",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39]},exportAs:["matMenuItem"],standalone:!0,features:[r.GFd,r.aNF],attrs:$,ngContentSelectors:Q,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(h,M){1&h&&(r.NAR(j),r.SdG(0),r.j41(1,"span",0),r.SdG(2,1),r.k0s(),r.nrm(3,"div",1),r.DNE(4,ee,2,0,":svg:svg",2)),2&h&&(r.R7$(3),r.Y8G("matRippleDisabled",M.disableRipple||M.disabled)("matRippleTrigger",M._getHostElement()),r.R7$(),r.vxM(4,M._triggersSubmenu?4:-1))},dependencies:[K.r6],encapsulation:2,changeDetection:0}),N})();const ve=new r.nKC("MatMenuContent"),V={transformMenu:(0,ie.hZ)("transformMenu",[(0,ie.wk)("void",(0,ie.iF)({opacity:0,transform:"scale(0.8)"})),(0,ie.kY)("void => enter",(0,ie.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ie.iF)({opacity:1,transform:"scale(1)"}))),(0,ie.kY)("* => void",(0,ie.i0)("100ms 25ms linear",(0,ie.iF)({opacity:0})))]),fadeInItems:(0,ie.hZ)("fadeInItems",[(0,ie.wk)("showing",(0,ie.iF)({opacity:1})),(0,ie.kY)("void => *",[(0,ie.iF)({opacity:0}),(0,ie.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ke=0;const xt=new r.nKC("mat-menu-default-options",{providedIn:"root",factory:function Ht(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ln=(()=>{var R;class N{get xPosition(){return this._xPosition}set xPosition(h){this._xPosition=h,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(h){this._yPosition=h,this.setPositionClasses()}set panelClass(h){const M=this._previousPanelClass;M&&M.length&&M.split(" ").forEach(Z=>{this._classList[Z]=!1}),this._previousPanelClass=h,h&&h.length&&(h.split(" ").forEach(Z=>{this._classList[Z]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(h){this.panelClass=h}constructor(h,M,Z,z){this._elementRef=h,this._ngZone=M,this._changeDetectorRef=z,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new r.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new b.B,this.closed=new r.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+ke++,this.overlayPanelClass=Z.overlayPanelClass||"",this._xPosition=Z.xPosition,this._yPosition=Z.yPosition,this.backdropClass=Z.backdropClass,this.overlapTrigger=Z.overlapTrigger,this.hasBackdrop=Z.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new x.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,S.Z)(this._directDescendantItems),(0,U.n)(h=>(0,E.h)(...h.map(M=>M._focused)))).subscribe(h=>this._keyManager.updateActiveItem(h)),this._directDescendantItems.changes.subscribe(h=>{const M=this._keyManager;if("enter"===this._panelAnimationState&&M.activeItem?._hasFocus()){const Z=h.toArray(),z=Math.max(0,Math.min(Z.length-1,M.activeItemIndex||0));Z[z]&&!Z[z].disabled?M.setActiveItem(z):M.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,S.Z)(this._directDescendantItems),(0,U.n)(M=>(0,E.h)(...M.map(Z=>Z._hovered))))}addItem(h){}removeItem(h){}_handleKeydown(h){const M=h.keyCode,Z=this._keyManager;switch(M){case f._f:(0,f.rp)(h)||(h.preventDefault(),this.closed.emit("keydown"));break;case f.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case f.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(M===f.i7||M===f.n6)&&Z.setFocusOrigin("keyboard"),void Z.onKeydown(h)}h.stopPropagation()}focusFirstItem(h="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,O.s)(1)).subscribe(()=>{let M=null;if(this._directDescendantItems.length&&(M=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!M||!M.contains(document.activeElement)){const Z=this._keyManager;Z.setFocusOrigin(h).setFirstItemActive(),!Z.activeItem&&M&&M.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(h){const M=Math.min(this._baseElevation+h,24),Z=`${this._elevationPrefix}${M}`,z=Object.keys(this._classList).find(H=>H.startsWith(this._elevationPrefix));(!z||z===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Z]=!0,this._previousElevation=Z)}setPositionClasses(h=this.xPosition,M=this.yPosition){const Z=this._classList;Z["mat-menu-before"]="before"===h,Z["mat-menu-after"]="after"===h,Z["mat-menu-above"]="above"===M,Z["mat-menu-below"]="below"===M,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(h){this._animationDone.next(h),this._isAnimating=!1}_onAnimationStart(h){this._isAnimating=!0,"enter"===h.toState&&0===this._keyManager.activeItemIndex&&(h.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,S.Z)(this._allItems)).subscribe(h=>{this._directDescendantItems.reset(h.filter(M=>M._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return(R=N).\u0275fac=function(h){return new(h||R)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(xt),r.rXU(r.gRc))},R.\u0275cmp=r.VBU({type:R,selectors:[["mat-menu"]],contentQueries:function(h,M,Z){if(1&h&&(r.wni(Z,ve,5),r.wni(Z,nt,5),r.wni(Z,nt,4)),2&h){let z;r.mGM(z=r.lsd())&&(M.lazyContent=z.first),r.mGM(z=r.lsd())&&(M._allItems=z),r.mGM(z=r.lsd())&&(M.items=z)}},viewQuery:function(h,M){if(1&h&&r.GBs(r.C4Q,5),2&h){let Z;r.mGM(Z=r.lsd())&&(M.templateRef=Z.first)}},hostVars:3,hostBindings:function(h,M){2&h&&r.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[r.Mj6.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",r.L39],hasBackdrop:[r.Mj6.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",Y=>null==Y?null:(0,r.L39)(Y)],panelClass:[r.Mj6.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[r.Jv_([{provide:Qe,useExisting:R}]),r.GFd,r.aNF],ngContentSelectors:be,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id","ngClass"],[1,"mat-mdc-menu-content"]],template:function(h,M){1&h&&(r.NAR(),r.DNE(0,Se,3,6,"ng-template"))},dependencies:[W.YU],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;padding-right:var(--mat-menu-item-spacing);padding-left:0}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[V.transformMenu,V.fadeInItems]},changeDetection:0}),N})();const Bt=new r.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const R=(0,r.WQX)(le.hJ);return()=>R.scrollStrategies.reposition()}}),Ze={provide:Bt,deps:[le.hJ],useFactory:function Ye(R){return()=>R.scrollStrategies.reposition()}},Ot=(0,fe.BQ)({passive:!0});let P=(()=>{var R;class N{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(h){this.menu=h}get menu(){return this._menu}set menu(h){h!==this._menu&&(this._menu=h,this._menuCloseSubscription.unsubscribe(),h&&(this._menuCloseSubscription=h.close.subscribe(M=>{this._destroyMenu(M),("click"===M||"tab"===M)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(M)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(h,M,Z,z,H,X,oe,He,rt){this._overlay=h,this._element=M,this._viewContainerRef=Z,this._menuItemInstance=X,this._dir=oe,this._focusMonitor=He,this._ngZone=rt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.yU.EMPTY,this._hoverSubscription=C.yU.EMPTY,this._menuCloseSubscription=C.yU.EMPTY,this._changeDetectorRef=(0,r.WQX)(r.gRc),this._handleTouchStart=ft=>{(0,x.w6)(ft)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new r.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=z,this._parentMaterialMenu=H instanceof ln?H:void 0,M.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ot)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ot),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const h=this.menu;if(this._menuOpen||!h)return;const M=this._createOverlay(h),Z=M.getConfig(),z=Z.positionStrategy;this._setPosition(h,z),Z.hasBackdrop=null==h.hasBackdrop?!this.triggersSubmenu():h.hasBackdrop,M.attach(this._getPortal(h)),h.lazyContent&&h.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(h),h instanceof ln&&(h._startAnimation(),h._directDescendantItems.changes.pipe((0,y.Q)(h.close)).subscribe(()=>{z.withLockedPosition(!1).reapplyLastPosition(),z.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(h,M){this._focusMonitor&&h?this._focusMonitor.focusVia(this._element,h,M):this._element.nativeElement.focus(M)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(h){if(!this._overlayRef||!this.menuOpen)return;const M=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===h||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,M instanceof ln?(M._resetAnimation(),M.lazyContent?M._animationDone.pipe((0,_.p)(Z=>"void"===Z.toState),(0,O.s)(1),(0,y.Q)(M.lazyContent._attached)).subscribe({next:()=>M.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),M?.lazyContent?.detach())}_initMenu(h){h.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,h.direction=this.dir,this._setMenuElevation(h),h.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(h){if(h.setElevation){let M=0,Z=h.parentMenu;for(;Z;)M++,Z=Z.parentMenu;h.setElevation(M)}}_setIsMenuOpen(h){h!==this._menuOpen&&(this._menuOpen=h,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(h),this._changeDetectorRef.markForCheck())}_createOverlay(h){if(!this._overlayRef){const M=this._getOverlayConfig(h);this._subscribeToPositions(h,M.positionStrategy),this._overlayRef=this._overlay.create(M),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(h){return new le.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:h.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:h.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(h,M){h.setPositionClasses&&M.positionChanges.subscribe(Z=>{const z="start"===Z.connectionPair.overlayX?"after":"before",H="top"===Z.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>h.setPositionClasses(z,H)):h.setPositionClasses(z,H)})}_setPosition(h,M){let[Z,z]="before"===h.xPosition?["end","start"]:["start","end"],[H,X]="above"===h.yPosition?["bottom","top"]:["top","bottom"],[oe,He]=[H,X],[rt,ft]=[Z,z],It=0;if(this.triggersSubmenu()){if(ft=Z="before"===h.xPosition?"start":"end",z=rt="end"===Z?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Ge=this._parentMaterialMenu.items.first;this._parentInnerPadding=Ge?Ge._getHostElement().offsetTop:0}It="bottom"===H?this._parentInnerPadding:-this._parentInnerPadding}}else h.overlapTrigger||(oe="top"===H?"bottom":"top",He="top"===X?"bottom":"top");M.withPositions([{originX:Z,originY:oe,overlayX:rt,overlayY:H,offsetY:It},{originX:z,originY:oe,overlayX:ft,overlayY:H,offsetY:It},{originX:Z,originY:He,overlayX:rt,overlayY:X,offsetY:-It},{originX:z,originY:He,overlayX:ft,overlayY:X,offsetY:-It}])}_menuClosingActions(){const h=this._overlayRef.backdropClick(),M=this._overlayRef.detachments(),Z=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,u.of)(),z=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,_.p)(H=>H!==this._menuItemInstance),(0,_.p)(()=>this._menuOpen)):(0,u.of)();return(0,E.h)(h,Z,z,M)}_handleMousedown(h){(0,x._G)(h)||(this._openedBy=0===h.button?"mouse":void 0,this.triggersSubmenu()&&h.preventDefault())}_handleKeydown(h){const M=h.keyCode;(M===f.Fm||M===f.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(M===f.LE&&"ltr"===this.dir||M===f.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(h){this.triggersSubmenu()?(h.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,_.p)(h=>h===this._menuItemInstance&&!h.disabled),(0,D.c)(0,F.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ln&&this.menu._isAnimating?this.menu._animationDone.pipe((0,O.s)(1),(0,D.c)(0,F.$),(0,y.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(h){return(!this._portal||this._portal.templateRef!==h.templateRef)&&(this._portal=new L.VA(h.templateRef,this._viewContainerRef)),this._portal}}return(R=N).\u0275fac=function(h){return new(h||R)(r.rXU(le.hJ),r.rXU(r.aKT),r.rXU(r.c1b),r.rXU(Bt),r.rXU(Qe,8),r.rXU(nt,10),r.rXU(ae.dS,8),r.rXU(x.FN),r.rXU(r.SKi))},R.\u0275dir=r.FsC({type:R,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(h,M){1&h&&r.bIt("click",function(z){return M._handleClick(z)})("mousedown",function(z){return M._handleMousedown(z)})("keydown",function(z){return M._handleKeydown(z)}),2&h&&r.BMQ("aria-haspopup",M.menu?"menu":null)("aria-expanded",M.menuOpen)("aria-controls",M.menuOpen?M.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[r.Mj6.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[r.Mj6.None,"matMenuTriggerFor","menu"],menuData:[r.Mj6.None,"matMenuTriggerData","menuData"],restoreFocus:[r.Mj6.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0}),N})(),B=(()=>{var R;class N{}return(R=N).\u0275fac=function(h){return new(h||R)},R.\u0275mod=r.$C({type:R}),R.\u0275inj=r.G2t({providers:[Ze],imports:[W.MD,K.pZ,K.yE,le.z_,q.Gj,K.yE]}),N})()},7575:(en,ot,w)=>{"use strict";w.d(ot,{PO:()=>S});var r=w(4438),f=(w(177),w(6600));let S=(()=>{var U;class O{}return(U=O).\u0275fac=function(_){return new(_||U)},U.\u0275mod=r.$C({type:U}),U.\u0275inj=r.G2t({imports:[f.yE]}),O})()},5951:(en,ot,w)=>{"use strict";w.d(ot,{VT:()=>K,Wk:()=>ie,_g:()=>L});var r=w(4438),x=w(6600),f=w(8617),b=w(5024),E=w(9417),C=w(177);const u=["input"],F=["formField"],S=["*"];let U=0;class O{constructor(le,fe){this.source=le,this.value=fe}}const y={provide:E.kq,useExisting:(0,r.Rfq)(()=>K),multi:!0},_=new r.nKC("MatRadioGroup"),D=new r.nKC("mat-radio-default-options",{providedIn:"root",factory:function W(){return{color:"accent"}}});let K=(()=>{var ae;class le{get name(){return this._name}set name(q){this._name=q,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(q){this._labelPosition="before"===q?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(q){this._value!==q&&(this._value=q,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(q){this._selected=q,this.value=q?q.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(q){this._disabled=q,this._markRadiosForCheck()}get required(){return this._required}set required(q){this._required=q,this._markRadiosForCheck()}constructor(q){this._changeDetector=q,this._value=null,this._name="mat-radio-group-"+U++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new r.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(q=>q===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(q=>{q.name=this.name,q._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach($=>{$.checked=this.value===$.value,$.checked&&(this._selected=$)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new O(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(q=>q._markForCheck())}writeValue(q){this.value=q,this._changeDetector.markForCheck()}registerOnChange(q){this._controlValueAccessorChangeFn=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.disabled=q,this._changeDetector.markForCheck()}}return(ae=le).\u0275fac=function(q){return new(q||ae)(r.rXU(r.gRc))},ae.\u0275dir=r.FsC({type:ae,selectors:[["mat-radio-group"]],contentQueries:function(q,$,j){if(1&q&&r.wni(j,L,5),2&q){let Q;r.mGM(Q=r.lsd())&&($._radios=Q)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[r.Jv_([y,{provide:_,useExisting:ae}]),r.GFd]}),le})(),L=(()=>{var ae;class le{get checked(){return this._checked}set checked(q){this._checked!==q&&(this._checked=q,q&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!q&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),q&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(q){this._value!==q&&(this._value=q,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===q),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(q){this._labelPosition=q}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(q){this._setDisabled(q)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(q){this._required=q}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(q){this._color=q}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(q,$,j,Q,ee,be,Se,Qe){this._elementRef=$,this._changeDetector=j,this._focusMonitor=Q,this._radioDispatcher=ee,this._providerOverride=Se,this._uniqueId="mat-radio-"+ ++U,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new r.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=q,this._noopAnimations="NoopAnimations"===be,Qe&&(this.tabIndex=(0,r.Udg)(Qe,0))}focus(q,$){$?this._focusMonitor.focusVia(this._inputElement,$,q):this._inputElement.nativeElement.focus(q)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((q,$)=>{q!==this.id&&$===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(q=>{!q&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new O(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(q){q.stopPropagation()}_onInputInteraction(q){if(q.stopPropagation(),!this.checked&&!this.disabled){const $=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),$&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(q){this._onInputInteraction(q),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(q){this._disabled!==q&&(this._disabled=q,this._changeDetector.markForCheck())}_updateTabIndex(){const q=this.radioGroup;let $;if($=q&&q.selected&&!this.disabled?q.selected===this?this.tabIndex:-1:this.tabIndex,$!==this._previousTabIndex){const j=this._inputElement?.nativeElement;j&&(j.setAttribute("tabindex",$+""),this._previousTabIndex=$)}}}return(ae=le).\u0275fac=function(q){return new(q||ae)(r.rXU(_,8),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(f.FN),r.rXU(b.zP),r.rXU(r.bc$,8),r.rXU(D,8),r.kS0("tabindex"))},ae.\u0275cmp=r.VBU({type:ae,selectors:[["mat-radio-button"]],viewQuery:function(q,$){if(1&q&&(r.GBs(u,5),r.GBs(F,7,r.aKT)),2&q){let j;r.mGM(j=r.lsd())&&($._inputElement=j.first),r.mGM(j=r.lsd())&&($._rippleTrigger=j.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(q,$){1&q&&r.bIt("focus",function(){return $._inputElement.nativeElement.focus()}),2&q&&(r.BMQ("id",$.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),r.AVh("mat-primary","primary"===$.color)("mat-accent","accent"===$.color)("mat-warn","warn"===$.color)("mat-mdc-radio-checked",$.checked)("_mat-animation-noopable",$._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39],tabIndex:[r.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",fe=>null==fe?0:(0,r.Udg)(fe)],checked:[r.Mj6.HasDecoratorInputTransform,"checked","checked",r.L39],value:"value",labelPosition:"labelPosition",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[r.GFd,r.aNF],ngContentSelectors:S,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(q,$){if(1&q){const j=r.RV6();r.NAR(),r.j41(0,"div",2,0)(2,"div",3)(3,"div",4),r.bIt("click",function(ee){return r.eBV(j),r.Njj($._onTouchTargetClick(ee))}),r.k0s(),r.j41(4,"input",5,1),r.bIt("change",function(ee){return r.eBV(j),r.Njj($._onInputInteraction(ee))}),r.k0s(),r.j41(6,"div",6),r.nrm(7,"div",7)(8,"div",8),r.k0s(),r.j41(9,"div",9),r.nrm(10,"div",10),r.k0s()(),r.j41(11,"label",11),r.SdG(12),r.k0s()()}2&q&&(r.Y8G("labelPosition",$.labelPosition),r.R7$(2),r.AVh("mdc-radio--disabled",$.disabled),r.R7$(2),r.Y8G("id",$.inputId)("checked",$.checked)("disabled",$.disabled)("required",$.required),r.BMQ("name",$.name)("value",$.value)("aria-label",$.ariaLabel)("aria-labelledby",$.ariaLabelledby)("aria-describedby",$.ariaDescribedby),r.R7$(5),r.Y8G("matRippleTrigger",$._rippleTrigger.nativeElement)("matRippleDisabled",$._isRippleDisabled())("matRippleCentered",!0),r.R7$(2),r.Y8G("for",$.inputId))},dependencies:[x.r6,x.tO],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),le})(),ie=(()=>{var ae;class le{}return(ae=le).\u0275fac=function(q){return new(q||ae)},ae.\u0275mod=r.$C({type:ae}),ae.\u0275inj=r.G2t({imports:[x.yE,C.MD,x.pZ,L,x.yE]}),le})()},2798:(en,ot,w)=>{"use strict";w.d(ot,{Ve:()=>nt});var r=w(7987),x=w(177),f=w(4438),b=w(6600),E=w(3719),C=w(5478);w(9969);const Q={provide:new f.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const De=(0,f.WQX)(r.hJ);return()=>De.scrollStrategies.reposition()}}),deps:[r.hJ],useFactory:function $(De){return()=>De.scrollStrategies.reposition()}};let nt=(()=>{var De;class ut{}return(De=ut).\u0275fac=function(ve){return new(ve||De)},De.\u0275mod=f.$C({type:De}),De.\u0275inj=f.G2t({providers:[Q],imports:[x.MD,r.z_,b.Sy,b.yE,C.Gj,E.RG,b.Sy,b.yE]}),ut})()},882:(en,ot,w)=>{"use strict";w.d(ot,{vg:()=>be});var r=w(5478),x=w(4438),f=w(6600);w(9969);let be=(()=>{var Se;class Qe{}return(Se=Qe).\u0275fac=function(De){return new(De||Se)},Se.\u0275mod=x.$C({type:Se}),Se.\u0275inj=x.G2t({imports:[f.yE,r.Gj,r.Gj,f.yE]}),Qe})()},450:(en,ot,w)=>{"use strict";w.d(ot,{mV:()=>K});var r=w(4438),x=w(9417),f=w(8617),b=w(6600);const E=["switch"],C=["*"];function u(L,ie){1&L&&(r.j41(0,"div",10),r.qSk(),r.j41(1,"svg",12),r.nrm(2,"path",13),r.k0s(),r.j41(3,"svg",14),r.nrm(4,"path",15),r.k0s()())}const F=new r.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),S={provide:x.kq,useExisting:(0,r.Rfq)(()=>y),multi:!0};class U{constructor(ie,ae){this.source=ie,this.checked=ae}}let O=0,y=(()=>{var L;class ie{_createChangeEvent(le){return new U(this,le)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(le){this._checked=le,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(le,fe,q,$,j,Q){this._elementRef=le,this._focusMonitor=fe,this._changeDetectorRef=q,this.defaults=j,this._onChange=ee=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new r.bkB,this.toggleChange=new r.bkB,this.tabIndex=parseInt($)||0,this.color=j.color||"accent",this._noopAnimations="NoopAnimations"===Q,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++O,this.hideIcon=j.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(le=>{"keyboard"===le||"program"===le?(this._focused=!0,this._changeDetectorRef.markForCheck()):le||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(le){le.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(le){this.checked=!!le}registerOnChange(le){this._onChange=le}registerOnTouched(le){this._onTouched=le}validate(le){return this.required&&!0!==le.value?{required:!0}:null}registerOnValidatorChange(le){this._validatorOnChange=le}setDisabledState(le){this.disabled=le,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new U(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return(L=ie).\u0275fac=function(le){return new(le||L)(r.rXU(r.aKT),r.rXU(f.FN),r.rXU(r.gRc),r.kS0("tabindex"),r.rXU(F),r.rXU(r.bc$,8))},L.\u0275cmp=r.VBU({type:L,selectors:[["mat-slide-toggle"]],viewQuery:function(le,fe){if(1&le&&r.GBs(E,5),2&le){let q;r.mGM(q=r.lsd())&&(fe._switchElement=q.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(le,fe){2&le&&(r.Mr5("id",fe.id),r.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),r.HbH(fe.color?"mat-"+fe.color:""),r.AVh("mat-mdc-slide-toggle-focused",fe._focused)("mat-mdc-slide-toggle-checked",fe.checked)("_mat-animation-noopable",fe._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39],color:"color",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39],tabIndex:[r.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",ae=>null==ae?0:(0,r.Udg)(ae)],checked:[r.Mj6.HasDecoratorInputTransform,"checked","checked",r.L39],hideIcon:[r.Mj6.HasDecoratorInputTransform,"hideIcon","hideIcon",r.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[r.Jv_([S,{provide:x.cz,useExisting:L,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:C,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(le,fe){if(1&le){const q=r.RV6();r.NAR(),r.j41(0,"div",1)(1,"button",2,0),r.bIt("click",function(){return r.eBV(q),r.Njj(fe._handleClick())}),r.nrm(3,"div",3),r.j41(4,"div",4)(5,"div",5)(6,"div",6),r.nrm(7,"div",7),r.k0s(),r.j41(8,"div",8),r.nrm(9,"div",9),r.k0s(),r.DNE(10,u,5,0,"div",10),r.k0s()()(),r.j41(11,"label",11),r.bIt("click",function(j){return r.eBV(q),r.Njj(j.stopPropagation())}),r.SdG(12),r.k0s()()}if(2&le){const q=r.sdS(2);r.Y8G("labelPosition",fe.labelPosition),r.R7$(),r.AVh("mdc-switch--selected",fe.checked)("mdc-switch--unselected",!fe.checked)("mdc-switch--checked",fe.checked)("mdc-switch--disabled",fe.disabled),r.Y8G("tabIndex",fe.disabled?-1:fe.tabIndex)("disabled",fe.disabled),r.BMQ("id",fe.buttonId)("name",fe.name)("aria-label",fe.ariaLabel)("aria-labelledby",fe._getAriaLabelledBy())("aria-describedby",fe.ariaDescribedby)("aria-required",fe.required||null)("aria-checked",fe.checked),r.R7$(8),r.Y8G("matRippleTrigger",q)("matRippleDisabled",fe.disableRipple||fe.disabled)("matRippleCentered",!0),r.R7$(),r.vxM(10,fe.hideIcon?-1:10),r.R7$(),r.Y8G("for",fe.buttonId),r.BMQ("id",fe._labelId)}},dependencies:[b.r6,b.tO],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0}),ie})(),K=(()=>{var L;class ie{}return(L=ie).\u0275fac=function(le){return new(le||L)},L.\u0275mod=r.$C({type:L}),L.\u0275inj=r.G2t({imports:[y,b.yE,b.yE]}),ie})()},3881:(en,ot,w)=>{"use strict";w.d(ot,{Ez:()=>De,IV:()=>j,OU:()=>Qe});var r=w(8203),x=w(6860),f=w(4438),b=w(6600),E=w(9417),C=w(5052);const u=["knob"],F=["valueIndicatorContainer"];function S(ut,Ft){if(1&ut&&(f.j41(0,"div",2,1)(2,"div",5)(3,"span",6),f.EFF(4),f.k0s()()()),2&ut){const ve=f.XpG();f.R7$(4),f.JRh(ve.valueIndicatorText)}}const U=["trackActive"],O=["*"];function y(ut,Ft){if(1&ut&&f.nrm(0,"div"),2&ut){const ve=Ft.$implicit,I=Ft.$index,V=f.XpG(3);f.HbH(0===ve?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),f.xc7("transform",V._calcTickMarkTransform(I))}}function _(ut,Ft){if(1&ut&&f.Z7z(0,y,1,4,"div",8,f.fX1),2&ut){const ve=f.XpG(2);f.Dyx(ve._tickMarks)}}function D(ut,Ft){if(1&ut&&(f.j41(0,"div",6,1),f.DNE(2,_,2,0),f.k0s()),2&ut){const ve=f.XpG();f.R7$(2),f.vxM(2,ve._cachedWidth?2:-1)}}function W(ut,Ft){if(1&ut&&f.nrm(0,"mat-slider-visual-thumb",7),2&ut){const ve=f.XpG();f.Y8G("discrete",ve.discrete)("thumbPosition",1)("valueIndicatorText",ve.startValueIndicatorText)}}var K=function(ut){return ut[ut.START=1]="START",ut[ut.END=2]="END",ut}(K||{}),L=function(ut){return ut[ut.ACTIVE=0]="ACTIVE",ut[ut.INACTIVE=1]="INACTIVE",ut}(L||{});const ie=new f.nKC("_MatSlider"),ae=new f.nKC("_MatSliderThumb"),le=new f.nKC("_MatSliderRangeThumb"),fe=new f.nKC("_MatSliderVisualThumb");let $=(()=>{var ut;class Ft{constructor(I,V,ge,Pe){this._cdr=I,this._ngZone=V,this._slider=Pe,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,f.WQX)(x.OD),this._onPointerMove=ke=>{if(this._sliderInput._isFocused)return;const xt=this._hostElement.getBoundingClientRect(),Ht=this._slider._isCursorOnSliderThumb(ke,xt);this._isHovered=Ht,Ht?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=ke=>{0===ke.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=ge.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const I=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{I.addEventListener("pointermove",this._onPointerMove),I.addEventListener("pointerdown",this._onDragStart),I.addEventListener("pointerup",this._onDragEnd),I.addEventListener("pointerleave",this._onMouseLeave),I.addEventListener("focus",this._onFocus),I.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const I=this._sliderInputEl;I&&(I.removeEventListener("pointermove",this._onPointerMove),I.removeEventListener("pointerdown",this._onDragStart),I.removeEventListener("pointerup",this._onDragEnd),I.removeEventListener("pointerleave",this._onMouseLeave),I.removeEventListener("focus",this._onFocus),I.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(I){return I?.state===b.Ex.FADING_IN||I?.state===b.Ex.VISIBLE}_showRipple(I,V){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||V))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:I,centered:!0,persistent:!0})}_hideRipple(I){if(I?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const V=this._getSibling();V._isShowingAnyRipple()||(this._hideValueIndicator(),V._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}}return(ut=Ft).\u0275fac=function(I){return new(I||ut)(f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(ie))},ut.\u0275cmp=f.VBU({type:ut,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(I,V){if(1&I&&(f.GBs(b.r6,5),f.GBs(u,5),f.GBs(F,5)),2&I){let ge;f.mGM(ge=f.lsd())&&(V._ripple=ge.first),f.mGM(ge=f.lsd())&&(V._knob=ge.first),f.mGM(ge=f.lsd())&&(V._valueIndicatorContainer=ge.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[f.Jv_([{provide:fe,useExisting:ut}]),f.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(I,V){1&I&&(f.DNE(0,S,5,1,"div",2),f.nrm(1,"div",3,0)(3,"div",4)),2&I&&(f.vxM(0,V.discrete?0:-1),f.R7$(3),f.Y8G("matRippleDisabled",!0))},dependencies:[b.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),Ft})(),j=(()=>{var ut;class Ft{get disabled(){return this._disabled}set disabled(I){this._disabled=I;const V=this._getInput(K.END),ge=this._getInput(K.START);V&&(V.disabled=this._disabled),ge&&(ge.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(I){this._discrete=I,this._updateValueIndicatorUIs()}get min(){return this._min}set min(I){const V=isNaN(I)?this._min:I;this._min!==V&&this._updateMin(V)}_updateMin(I){const V=this._min;this._min=I,this._isRange?this._updateMinRange({old:V,new:I}):this._updateMinNonRange(I),this._onMinMaxOrStepChange()}_updateMinRange(I){const V=this._getInput(K.END),ge=this._getInput(K.START),Pe=V.value,ke=ge.value;ge.min=I.new,V.min=Math.max(I.new,ge.value),ge.max=Math.min(V.max,V.value),ge._updateWidthInactive(),V._updateWidthInactive(),I.new<I.old?this._onTranslateXChangeBySideEffect(V,ge):this._onTranslateXChangeBySideEffect(ge,V),Pe!==V.value&&this._onValueChange(V),ke!==ge.value&&this._onValueChange(ge)}_updateMinNonRange(I){const V=this._getInput(K.END);if(V){const ge=V.value;V.min=I,V._updateThumbUIByValue(),this._updateTrackUI(V),ge!==V.value&&this._onValueChange(V)}}get max(){return this._max}set max(I){const V=isNaN(I)?this._max:I;this._max!==V&&this._updateMax(V)}_updateMax(I){const V=this._max;this._max=I,this._isRange?this._updateMaxRange({old:V,new:I}):this._updateMaxNonRange(I),this._onMinMaxOrStepChange()}_updateMaxRange(I){const V=this._getInput(K.END),ge=this._getInput(K.START),Pe=V.value,ke=ge.value;V.max=I.new,ge.max=Math.min(I.new,V.value),V.min=ge.value,V._updateWidthInactive(),ge._updateWidthInactive(),I.new>I.old?this._onTranslateXChangeBySideEffect(ge,V):this._onTranslateXChangeBySideEffect(V,ge),Pe!==V.value&&this._onValueChange(V),ke!==ge.value&&this._onValueChange(ge)}_updateMaxNonRange(I){const V=this._getInput(K.END);if(V){const ge=V.value;V.max=I,V._updateThumbUIByValue(),this._updateTrackUI(V),ge!==V.value&&this._onValueChange(V)}}get step(){return this._step}set step(I){const V=isNaN(I)?this._step:I;this._step!==V&&this._updateStep(V)}_updateStep(I){this._step=I,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const I=this._getInput(K.END),V=this._getInput(K.START),ge=I.value,Pe=V.value,ke=V.value;I.min=this._min,V.max=this._max,I.step=this._step,V.step=this._step,this._platform.SAFARI&&(I.value=I.value,V.value=V.value),I.min=Math.max(this._min,V.value),V.max=Math.min(this._max,I.value),V._updateWidthInactive(),I._updateWidthInactive(),I.value<ke?this._onTranslateXChangeBySideEffect(V,I):this._onTranslateXChangeBySideEffect(I,V),ge!==I.value&&this._onValueChange(I),Pe!==V.value&&this._onValueChange(V)}_updateStepNonRange(){const I=this._getInput(K.END);if(I){const V=I.value;I.step=this._step,this._platform.SAFARI&&(I.value=I.value),I._updateThumbUIByValue(),V!==I.value&&this._onValueChange(I)}}constructor(I,V,ge,Pe,ke,xt){this._ngZone=I,this._cdr=V,this._elementRef=ge,this._dir=Pe,this._globalRippleOptions=ke,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Ht=>`${Ht}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,f.WQX)(x.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===xt,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const I=this._getInput(K.END),V=this._getInput(K.START);this._isRange=!!I&&!!V,this._cdr.detectChanges();const ge=this._getThumb(K.END);this._rippleRadius=ge._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(I,V):this._initUINonRange(I),this._updateTrackUI(I),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(I){I.initProps(),I.initUI(),this._updateValueIndicatorUI(I),this._hasViewInitialized=!0,I._updateThumbUIByValue()}_initUIRange(I,V){I.initProps(),I.initUI(),V.initProps(),V.initUI(),I._updateMinMax(),V._updateMinMax(),I._updateStaticStyles(),V._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,I._updateThumbUIByValue(),V._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const I=this._getInput(K.END),V=this._getInput(K.START);I._setIsLeftThumb(),V._setIsLeftThumb(),I.translateX=I._calcTranslateXByValue(),V.translateX=V._calcTranslateXByValue(),I._updateStaticStyles(),V._updateStaticStyles(),I._updateWidthInactive(),V._updateWidthInactive(),I._updateThumbUIByValue(),V._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(K.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(K.START)._isActive||this._getThumb(K.END)._isActive}_getValue(I=K.END){const V=this._getInput(I);return V?V.value:this.min}_skipUpdate(){return!(!this._getInput(K.START)?._skipUIUpdate&&!this._getInput(K.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(I){const V=this._trackActive.nativeElement.style;V.left=I.left,V.right=I.right,V.transformOrigin=I.transformOrigin,V.transform=I.transform}_calcTickMarkTransform(I){return`translateX(${I*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(I){this._hasViewInitialized&&(this._updateThumbUI(I),this._updateTrackUI(I),this._updateOverlappingThumbUI(I))}_onTranslateXChangeBySideEffect(I,V){this._hasViewInitialized&&(I._updateThumbUIByValue(),V._updateThumbUIByValue())}_onValueChange(I){this._hasViewInitialized&&(this._updateValueIndicatorUI(I),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const I=this._getInput(K.END),V=this._getInput(K.START);I._updateThumbUIByValue(),V._updateThumbUIByValue(),I._updateStaticStyles(),V._updateStaticStyles(),I._updateMinMax(),V._updateMinMax(),I._updateWidthInactive(),V._updateWidthInactive()}else{const I=this._getInput(K.END);I&&I._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const I=this._getInput(K.START),V=this._getInput(K.END);return!(!I||!V)&&V.translateX-I.translateX<20}_updateOverlappingThumbClassNames(I){const V=I.getSibling(),ge=this._getThumb(I.thumbPosition);this._getThumb(V.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),ge._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(I){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(I))}_updateThumbUI(I){this._skipUpdate()||(this._getThumb(I.thumbPosition===K.END?K.END:K.START)._hostElement.style.transform=`translateX(${I.translateX}px)`)}_updateValueIndicatorUI(I){if(this._skipUpdate())return;const V=this.displayWith(I.value);if(this._hasViewInitialized?I._valuetext=V:I._hostElement.setAttribute("aria-valuetext",V),this.discrete){I.thumbPosition===K.START?this.startValueIndicatorText=V:this.endValueIndicatorText=V;const ge=this._getThumb(I.thumbPosition);V.length<3?ge._hostElement.classList.add("mdc-slider__thumb--short-value"):ge._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const I=this._getInput(K.END),V=this._getInput(K.START);I&&this._updateValueIndicatorUI(I),V&&this._updateValueIndicatorUI(V)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const I=this._step&&this._step>0?this._step:1,ge=(Math.floor(this.max/I)*I-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*ge-6}_updateTrackUI(I){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(I):this._updateTrackUINonRange(I))}_updateTrackUIRange(I){const V=I.getSibling();if(!V||!this._cachedWidth)return;const ge=Math.abs(V.translateX-I.translateX)/this._cachedWidth;this._setTrackActiveStyles(I._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-V.translateX+"px",transformOrigin:"right",transform:`scaleX(${ge})`}:{left:`${V.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${ge})`})}_updateTrackUINonRange(I){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-I.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${I.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const I=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(I):this._updateTickMarkUINonRange(I),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(I){const V=this._getValue();let ge=Math.max(Math.floor((V-this.min)/I),0),Pe=Math.max(Math.floor((this.max-V)/I),0);this._isRtl?ge++:Pe++,this._tickMarks=Array(ge).fill(L.ACTIVE).concat(Array(Pe).fill(L.INACTIVE))}_updateTickMarkUIRange(I){const V=this._getValue(),ge=this._getValue(K.START),Pe=Math.max(Math.floor((ge-this.min)/I),0),ke=Math.max(Math.floor((V-ge)/I)+1,0),xt=Math.max(Math.floor((this.max-V)/I),0);this._tickMarks=Array(Pe).fill(L.INACTIVE).concat(Array(ke).fill(L.ACTIVE),Array(xt).fill(L.INACTIVE))}_getInput(I){return I===K.END&&this._input?this._input:this._inputs?.length?I===K.START?this._inputs.first:this._inputs.last:void 0}_getThumb(I){return I===K.END?this._thumbs?.last:this._thumbs?.first}_setTransition(I){this._hasAnimation=!this._platform.IOS&&I&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(I,V){const ge=V.width/2,Ht=I.clientY-(V.y+ge);return Math.pow(I.clientX-(V.x+ge),2)+Math.pow(Ht,2)<Math.pow(ge,2)}}return(ut=Ft).\u0275fac=function(I){return new(I||ut)(f.rXU(f.SKi),f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(r.dS,8),f.rXU(b.$E,8),f.rXU(f.bc$,8))},ut.\u0275cmp=f.VBU({type:ut,selectors:[["mat-slider"]],contentQueries:function(I,V,ge){if(1&I&&(f.wni(ge,ae,5),f.wni(ge,le,4)),2&I){let Pe;f.mGM(Pe=f.lsd())&&(V._input=Pe.first),f.mGM(Pe=f.lsd())&&(V._inputs=Pe)}},viewQuery:function(I,V){if(1&I&&(f.GBs(U,5),f.GBs(fe,5)),2&I){let ge;f.mGM(ge=f.lsd())&&(V._trackActive=ge.first),f.mGM(ge=f.lsd())&&(V._thumbs=ge)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(I,V){2&I&&(f.HbH("mat-"+(V.color||"primary")),f.AVh("mdc-slider--range",V._isRange)("mdc-slider--disabled",V.disabled)("mdc-slider--discrete",V.discrete)("mdc-slider--tick-marks",V.showTickMarks)("_mat-animation-noopable",V._noopAnimations))},inputs:{disabled:[f.Mj6.HasDecoratorInputTransform,"disabled","disabled",f.L39],discrete:[f.Mj6.HasDecoratorInputTransform,"discrete","discrete",f.L39],showTickMarks:[f.Mj6.HasDecoratorInputTransform,"showTickMarks","showTickMarks",f.L39],min:[f.Mj6.HasDecoratorInputTransform,"min","min",f.Udg],color:"color",disableRipple:[f.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",f.L39],max:[f.Mj6.HasDecoratorInputTransform,"max","max",f.Udg],step:[f.Mj6.HasDecoratorInputTransform,"step","step",f.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[f.Jv_([{provide:ie,useExisting:ut}]),f.GFd,f.aNF],ngContentSelectors:O,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(I,V){1&I&&(f.NAR(),f.SdG(0),f.j41(1,"div",2),f.nrm(2,"div",3),f.j41(3,"div",4),f.nrm(4,"div",5,0),f.k0s(),f.DNE(6,D,3,1,"div",6),f.k0s(),f.DNE(7,W,1,3,"mat-slider-visual-thumb",7),f.nrm(8,"mat-slider-visual-thumb",7)),2&I&&(f.R7$(6),f.vxM(6,V.showTickMarks?6:-1),f.R7$(),f.vxM(7,V._isRange?7:-1),f.R7$(),f.Y8G("discrete",V.discrete)("thumbPosition",2)("valueIndicatorText",V.endValueIndicatorText))},dependencies:[$],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),Ft})();const be={provide:E.kq,useExisting:(0,f.Rfq)(()=>Qe),multi:!0};let Qe=(()=>{var ut;class Ft{get value(){return(0,f.Udg)(this._hostElement.value,0)}set value(I){const V=(I=isNaN(I)?0:I)+"";this._hasSetInitialValue?this._isActive||this._setValue(V):this._initialValue=V}_setValue(I){this._hostElement.value=I,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(I){this._translateX=I}get min(){return(0,f.Udg)(this._hostElement.min,0)}set min(I){this._hostElement.min=I+"",this._cdr.detectChanges()}get max(){return(0,f.Udg)(this._hostElement.max,0)}set max(I){this._hostElement.max=I+"",this._cdr.detectChanges()}get step(){return(0,f.Udg)(this._hostElement.step,0)}set step(I){this._hostElement.step=I+"",this._cdr.detectChanges()}get disabled(){return(0,f.L39)(this._hostElement.disabled)}set disabled(I){this._hostElement.disabled=I,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(I){this._isFocused=I}constructor(I,V,ge,Pe){this._ngZone=I,this._elementRef=V,this._cdr=ge,this._slider=Pe,this.valueChange=new f.bkB,this.dragStart=new f.bkB,this.dragEnd=new f.bkB,this.thumbPosition=K.END,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new C.B,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,f.WQX)(x.OD),this._hostElement=V.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(I){if(!this.disabled&&0===I.button){if(this._platform.IOS){const V=this._slider._isCursorOnSliderThumb(I,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=V,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(I,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(I),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(I){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(I)},0)}_fixValue(I){const V=I.clientX-this._slider._cachedLeft,ge=this._slider._cachedWidth,Pe=0===this._slider.step?1:this._slider.step,ke=Math.floor((this._slider.max-this._slider.min)/Pe),ln=Math.round((this._slider._isRtl?1-V/ge:V/ge)*ke)/ke*(this._slider.max-this._slider.min)+this._slider.min,Bt=Math.round(ln/Pe)*Pe;if(Bt===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(I,{withAnimation:this._slider._hasAnimation}));this.value=Bt,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(I,{withAnimation:this._slider._hasAnimation})}_onPointerMove(I){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(I)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(I){const V=this._tickMarkOffset;return Math.max(Math.min(I,this._slider._cachedWidth-this._tickMarkOffset),V)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(I){return I.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(I){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(I)}_updateThumbUIByPointerEvent(I,V){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(I)),this._updateThumbUI(V)}_updateThumbUI(I){this._slider._setTransition(!!I?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(I){(this._isControlInitialized||null!==I)&&(this.value=I)}registerOnChange(I){this._onChangeFn=I,this._isControlInitialized=!0}registerOnTouched(I){this._onTouchedFn=I}setDisabledState(I){this.disabled=I}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return(ut=Ft).\u0275fac=function(I){return new(I||ut)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(ie))},ut.\u0275dir=f.FsC({type:ut,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(I,V){1&I&&f.bIt("change",function(){return V._onChange()})("input",function(){return V._onInput()})("blur",function(){return V._onBlur()})("focus",function(){return V._onFocus()}),2&I&&f.BMQ("aria-valuetext",V._valuetext)},inputs:{value:[f.Mj6.HasDecoratorInputTransform,"value","value",f.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[f.Jv_([be,{provide:ae,useExisting:ut}]),f.GFd]}),Ft})(),De=(()=>{var ut;class Ft{}return(ut=Ft).\u0275fac=function(I){return new(I||ut)},ut.\u0275mod=f.$C({type:ut}),ut.\u0275inj=f.G2t({imports:[b.yE,b.pZ]}),Ft})()},5416:(en,ot,w)=>{"use strict";w.d(ot,{UG:()=>Qe,_T:()=>De,x6:()=>Se});var r=w(4438),x=w(8834),f=w(5052),b=w(177),E=w(9969),C=w(6939),u=w(6860),F=w(8617),S=w(9327),U=w(7987),O=w(7925),y=w(6600);function _(ut,Ft){if(1&ut){const ve=r.RV6();r.j41(0,"div",1)(1,"button",2),r.bIt("click",function(){r.eBV(ve);const V=r.XpG();return r.Njj(V.action())}),r.EFF(2),r.k0s()()}if(2&ut){const ve=r.XpG();r.R7$(2),r.SpI(" ",ve.data.action," ")}}const D=["label"];function W(ut,Ft){}const K=Math.pow(2,31)-1;class L{constructor(Ft,ve){this._overlayRef=ve,this._afterDismissed=new f.B,this._afterOpened=new f.B,this._onAction=new f.B,this._dismissedByAction=!1,this.containerInstance=Ft,Ft._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ft){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ft,K))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const ie=new r.nKC("MatSnackBarData");class ae{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let le=(()=>{var ut;class Ft{}return(ut=Ft).\u0275fac=function(I){return new(I||ut)},ut.\u0275dir=r.FsC({type:ut,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0}),Ft})(),fe=(()=>{var ut;class Ft{}return(ut=Ft).\u0275fac=function(I){return new(I||ut)},ut.\u0275dir=r.FsC({type:ut,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0}),Ft})(),q=(()=>{var ut;class Ft{}return(ut=Ft).\u0275fac=function(I){return new(I||ut)},ut.\u0275dir=r.FsC({type:ut,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0}),Ft})(),$=(()=>{var ut;class Ft{constructor(I,V){this.snackBarRef=I,this.data=V}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(ut=Ft).\u0275fac=function(I){return new(I||ut)(r.rXU(L),r.rXU(ie))},ut.\u0275cmp=r.VBU({type:ut,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[r.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(I,V){1&I&&(r.j41(0,"div",0),r.EFF(1),r.k0s(),r.DNE(2,_,3,1,"div",1)),2&I&&(r.R7$(),r.SpI(" ",V.data.message,"\n"),r.R7$(),r.vxM(2,V.hasAction?2:-1))},dependencies:[x.$z,le,fe,q],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),Ft})();const j={snackBarState:(0,E.hZ)("state",[(0,E.wk)("void, hidden",(0,E.iF)({transform:"scale(0.8)",opacity:0})),(0,E.wk)("visible",(0,E.iF)({transform:"scale(1)",opacity:1})),(0,E.kY)("* => visible",(0,E.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.kY)("* => void, * => hidden",(0,E.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,E.iF)({opacity:0})))])};let Q=0,ee=(()=>{var ut;class Ft extends C.lb{constructor(I,V,ge,Pe,ke){super(),this._ngZone=I,this._elementRef=V,this._changeDetectorRef=ge,this._platform=Pe,this.snackBarConfig=ke,this._document=(0,r.WQX)(b.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new f.B,this._onExit=new f.B,this._onEnter=new f.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Q++,this.attachDomPortal=xt=>{this._assertNotAttached();const Ht=this._portalOutlet.attachDomPortal(xt);return this._afterPortalAttached(),Ht},this._live="assertive"!==ke.politeness||ke.announcementMessage?"off"===ke.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(I){this._assertNotAttached();const V=this._portalOutlet.attachComponentPortal(I);return this._afterPortalAttached(),V}attachTemplatePortal(I){this._assertNotAttached();const V=this._portalOutlet.attachTemplatePortal(I);return this._afterPortalAttached(),V}onAnimationEnd(I){const{fromState:V,toState:ge}=I;if(("void"===ge&&"void"!==V||"hidden"===ge)&&this._completeExit(),"visible"===ge){const Pe=this._onEnter;this._ngZone.run(()=>{Pe.next(),Pe.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const I=this._elementRef.nativeElement,V=this.snackBarConfig.panelClass;V&&(Array.isArray(V)?V.forEach(ke=>I.classList.add(ke)):I.classList.add(V)),this._exposeToModals();const ge=this._label.nativeElement,Pe="mdc-snackbar__label";ge.classList.toggle(Pe,!ge.querySelector(`.${Pe}`))}_exposeToModals(){const I=this._liveElementId,V=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ge=0;ge<V.length;ge++){const Pe=V[ge],ke=Pe.getAttribute("aria-owns");this._trackedModals.add(Pe),ke?-1===ke.indexOf(I)&&Pe.setAttribute("aria-owns",ke+" "+I):Pe.setAttribute("aria-owns",I)}}_clearFromModals(){this._trackedModals.forEach(I=>{const V=I.getAttribute("aria-owns");if(V){const ge=V.replace(this._liveElementId,"").trim();ge.length>0?I.setAttribute("aria-owns",ge):I.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const I=this._elementRef.nativeElement.querySelector("[aria-hidden]"),V=this._elementRef.nativeElement.querySelector("[aria-live]");if(I&&V){let ge=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&I.contains(document.activeElement)&&(ge=document.activeElement),I.removeAttribute("aria-hidden"),V.appendChild(I),ge?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(ut=Ft).\u0275fac=function(I){return new(I||ut)(r.rXU(r.SKi),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(u.OD),r.rXU(ae))},ut.\u0275cmp=r.VBU({type:ut,selectors:[["mat-snack-bar-container"]],viewQuery:function(I,V){if(1&I&&(r.GBs(C.I3,7),r.GBs(D,7)),2&I){let ge;r.mGM(ge=r.lsd())&&(V._portalOutlet=ge.first),r.mGM(ge=r.lsd())&&(V._label=ge.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(I,V){1&I&&r.Kam("@state.done",function(Pe){return V.onAnimationEnd(Pe)}),2&I&&r.zvX("@state",V._animationState)},standalone:!0,features:[r.Vt3,r.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(I,V){1&I&&(r.j41(0,"div",1)(1,"div",2,0)(3,"div",3),r.DNE(4,W,0,0,"ng-template",4),r.k0s(),r.nrm(5,"div"),r.k0s()()),2&I&&(r.R7$(5),r.BMQ("aria-live",V._live)("role",V._role)("id",V._liveElementId))},dependencies:[C.I3],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[j.snackBarState]}}),Ft})();const Se=new r.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function be(){return new ae}});let Qe=(()=>{var ut;class Ft{get _openedSnackBarRef(){const I=this._parentSnackBar;return I?I._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(I){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=I:this._snackBarRefAtThisLevel=I}constructor(I,V,ge,Pe,ke,xt){this._overlay=I,this._live=V,this._injector=ge,this._breakpointObserver=Pe,this._parentSnackBar=ke,this._defaultConfig=xt,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=$,this.snackBarContainerComponent=ee,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(I,V){return this._attach(I,V)}openFromTemplate(I,V){return this._attach(I,V)}open(I,V="",ge){const Pe={...this._defaultConfig,...ge};return Pe.data={message:I,action:V},Pe.announcementMessage===I&&(Pe.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Pe)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(I,V){const Pe=r.zZn.create({parent:V&&V.viewContainerRef&&V.viewContainerRef.injector||this._injector,providers:[{provide:ae,useValue:V}]}),ke=new C.A8(this.snackBarContainerComponent,V.viewContainerRef,Pe),xt=I.attach(ke);return xt.instance.snackBarConfig=V,xt.instance}_attach(I,V){const ge={...new ae,...this._defaultConfig,...V},Pe=this._createOverlay(ge),ke=this._attachSnackBarContainer(Pe,ge),xt=new L(ke,Pe);if(I instanceof r.C4Q){const Ht=new C.VA(I,null,{$implicit:ge.data,snackBarRef:xt});xt.instance=ke.attachTemplatePortal(Ht)}else{const Ht=this._createInjector(ge,xt),ln=new C.A8(I,void 0,Ht),Bt=ke.attachComponentPortal(ln);xt.instance=Bt.instance}return this._breakpointObserver.observe(S.Rp.HandsetPortrait).pipe((0,O.Q)(Pe.detachments())).subscribe(Ht=>{Pe.overlayElement.classList.toggle(this.handsetCssClass,Ht.matches)}),ge.announcementMessage&&ke._onAnnounce.subscribe(()=>{this._live.announce(ge.announcementMessage,ge.politeness)}),this._animateSnackBar(xt,ge),this._openedSnackBarRef=xt,this._openedSnackBarRef}_animateSnackBar(I,V){I.afterDismissed().subscribe(()=>{this._openedSnackBarRef==I&&(this._openedSnackBarRef=null),V.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{I.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):I.containerInstance.enter(),V.duration&&V.duration>0&&I.afterOpened().subscribe(()=>I._dismissAfter(V.duration))}_createOverlay(I){const V=new U.rR;V.direction=I.direction;let ge=this._overlay.position().global();const Pe="rtl"===I.direction,ke="left"===I.horizontalPosition||"start"===I.horizontalPosition&&!Pe||"end"===I.horizontalPosition&&Pe,xt=!ke&&"center"!==I.horizontalPosition;return ke?ge.left("0"):xt?ge.right("0"):ge.centerHorizontally(),"top"===I.verticalPosition?ge.top("0"):ge.bottom("0"),V.positionStrategy=ge,this._overlay.create(V)}_createInjector(I,V){return r.zZn.create({parent:I&&I.viewContainerRef&&I.viewContainerRef.injector||this._injector,providers:[{provide:L,useValue:V},{provide:ie,useValue:I.data}]})}}return(ut=Ft).\u0275fac=function(I){return new(I||ut)(r.KVO(U.hJ),r.KVO(F.Ai),r.KVO(r.zZn),r.KVO(S.QP),r.KVO(ut,12),r.KVO(Se))},ut.\u0275prov=r.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"}),Ft})(),De=(()=>{var ut;class Ft{}return(ut=Ft).\u0275fac=function(I){return new(I||ut)},ut.\u0275mod=r.$C({type:ut}),ut.\u0275inj=r.G2t({providers:[Qe],imports:[U.z_,C.jc,x.Hl,y.yE,$,y.yE]}),Ft})()},5911:(en,ot,w)=>{"use strict";w.d(ot,{s5:()=>F});var r=w(4438),x=w(6600);let F=(()=>{var S;class U{}return(S=U).\u0275fac=function(y){return new(y||S)},S.\u0275mod=r.$C({type:S}),S.\u0275inj=r.G2t({imports:[x.yE,x.yE]}),U})()},4823:(en,ot,w)=>{"use strict";w.d(ot,{oV:()=>De,sM:()=>$,uc:()=>ve,zi:()=>q});var r=w(7925),x=w(7365),f=w(4085),b=w(7336),E=w(4438),C=w(177),u=w(6860),F=w(8617),S=w(8203),U=w(7987),O=w(5478),y=w(6939),_=w(5052),W=(w(9969),w(6600));const K=["tooltip"],ae=new E.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const I=(0,E.WQX)(U.hJ);return()=>I.scrollStrategies.reposition({scrollThrottle:20})}}),fe={provide:ae,deps:[U.hJ],useFactory:function le(I){return()=>I.scrollStrategies.reposition({scrollThrottle:20})}};function q(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}const $=new E.nKC("mat-tooltip-default-options",{providedIn:"root",factory:q}),Q="tooltip-panel",ee=(0,u.BQ)({passive:!0});let De=(()=>{var I;class V{get position(){return this._position}set position(Pe){Pe!==this._position&&(this._position=Pe,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Pe){this._positionAtOrigin=(0,f.he)(Pe),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Pe){this._disabled=(0,f.he)(Pe),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Pe){this._showDelay=(0,f.OE)(Pe)}get hideDelay(){return this._hideDelay}set hideDelay(Pe){this._hideDelay=(0,f.OE)(Pe),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Pe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Pe?String(Pe).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Pe){this._tooltipClass=Pe,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Pe,ke,xt,Ht,ln,Bt,Ye,Ze,Ot,ye,P,B){this._overlay=Pe,this._elementRef=ke,this._scrollDispatcher=xt,this._viewContainerRef=Ht,this._ngZone=ln,this._platform=Bt,this._ariaDescriber=Ye,this._focusMonitor=Ze,this._dir=ye,this._defaultOptions=P,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=ut,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new _.B,this._scrollStrategy=Ot,this._document=B,P&&(this._showDelay=P.showDelay,this._hideDelay=P.hideDelay,P.position&&(this.position=P.position),P.positionAtOrigin&&(this.positionAtOrigin=P.positionAtOrigin),P.touchGestures&&(this.touchGestures=P.touchGestures)),ye.change.pipe((0,r.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,r.Q)(this._destroyed)).subscribe(Pe=>{Pe?"keyboard"===Pe&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Pe=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ke,xt])=>{Pe.removeEventListener(ke,xt,ee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Pe,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Pe)}show(Pe=this.showDelay,ke){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const xt=this._createOverlay(ke);this._detach(),this._portal=this._portal||new y.A8(this._tooltipComponent,this._viewContainerRef);const Ht=this._tooltipInstance=xt.attach(this._portal).instance;Ht._triggerElement=this._elementRef.nativeElement,Ht._mouseLeaveHideDelay=this._hideDelay,Ht.afterHidden().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Ht.show(Pe)}hide(Pe=this.hideDelay){const ke=this._tooltipInstance;ke&&(ke.isVisible()?ke.hide(Pe):(ke._cancelPendingAnimations(),this._detach()))}toggle(Pe){this._isTooltipVisible()?this.hide():this.show(void 0,Pe)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Pe){if(this._overlayRef){const Ht=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Pe)&&Ht._origin instanceof E.aKT)return this._overlayRef;this._detach()}const ke=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),xt=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Pe||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ke);return xt.positionChanges.pipe((0,r.Q)(this._destroyed)).subscribe(Ht=>{this._updateCurrentPositionClass(Ht.connectionPair),this._tooltipInstance&&Ht.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:xt,panelClass:`${this._cssClassPrefix}-${Q}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,r.Q)(this._destroyed)).subscribe(Ht=>{this._isTooltipVisible()&&Ht.keyCode===b._f&&!(0,b.rp)(Ht)&&(Ht.preventDefault(),Ht.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Pe){const ke=Pe.getConfig().positionStrategy,xt=this._getOrigin(),Ht=this._getOverlayPosition();ke.withPositions([this._addOffset({...xt.main,...Ht.main}),this._addOffset({...xt.fallback,...Ht.fallback})])}_addOffset(Pe){const xt=!this._dir||"ltr"==this._dir.value;return"top"===Pe.originY?Pe.offsetY=-8:"bottom"===Pe.originY?Pe.offsetY=8:"start"===Pe.originX?Pe.offsetX=xt?-8:8:"end"===Pe.originX&&(Pe.offsetX=xt?8:-8),Pe}_getOrigin(){const Pe=!this._dir||"ltr"==this._dir.value,ke=this.position;let xt;"above"==ke||"below"==ke?xt={originX:"center",originY:"above"==ke?"top":"bottom"}:"before"==ke||"left"==ke&&Pe||"right"==ke&&!Pe?xt={originX:"start",originY:"center"}:("after"==ke||"right"==ke&&Pe||"left"==ke&&!Pe)&&(xt={originX:"end",originY:"center"});const{x:Ht,y:ln}=this._invertPosition(xt.originX,xt.originY);return{main:xt,fallback:{originX:Ht,originY:ln}}}_getOverlayPosition(){const Pe=!this._dir||"ltr"==this._dir.value,ke=this.position;let xt;"above"==ke?xt={overlayX:"center",overlayY:"bottom"}:"below"==ke?xt={overlayX:"center",overlayY:"top"}:"before"==ke||"left"==ke&&Pe||"right"==ke&&!Pe?xt={overlayX:"end",overlayY:"center"}:("after"==ke||"right"==ke&&Pe||"left"==ke&&!Pe)&&(xt={overlayX:"start",overlayY:"center"});const{x:Ht,y:ln}=this._invertPosition(xt.overlayX,xt.overlayY);return{main:xt,fallback:{overlayX:Ht,overlayY:ln}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,x.s)(1),(0,r.Q)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Pe){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Pe,this._tooltipInstance._markForCheck())}_invertPosition(Pe,ke){return"above"===this.position||"below"===this.position?"top"===ke?ke="bottom":"bottom"===ke&&(ke="top"):"end"===Pe?Pe="start":"start"===Pe&&(Pe="end"),{x:Pe,y:ke}}_updateCurrentPositionClass(Pe){const{overlayY:ke,originX:xt,originY:Ht}=Pe;let ln;if(ln="center"===ke?this._dir&&"rtl"===this._dir.value?"end"===xt?"left":"right":"start"===xt?"left":"right":"bottom"===ke&&"top"===Ht?"above":"below",ln!==this._currentPosition){const Bt=this._overlayRef;if(Bt){const Ye=`${this._cssClassPrefix}-${Q}-`;Bt.removePanelClass(Ye+this._currentPosition),Bt.addPanelClass(Ye+ln)}this._currentPosition=ln}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Pe=>{let ke;this._setupPointerExitEventsIfNeeded(),void 0!==Pe.x&&void 0!==Pe.y&&(ke=Pe),this.show(void 0,ke)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Pe=>{const ke=Pe.targetTouches?.[0],xt=ke?{x:ke.clientX,y:ke.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,xt),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Pe=[];if(this._platformSupportsMouseEvents())Pe.push(["mouseleave",ke=>{const xt=ke.relatedTarget;(!xt||!this._overlayRef?.overlayElement.contains(xt))&&this.hide()}],["wheel",ke=>this._wheelListener(ke)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ke=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Pe.push(["touchend",ke],["touchcancel",ke])}this._addListeners(Pe),this._passiveListeners.push(...Pe)}_addListeners(Pe){Pe.forEach(([ke,xt])=>{this._elementRef.nativeElement.addEventListener(ke,xt,ee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Pe){if(this._isTooltipVisible()){const ke=this._document.elementFromPoint(Pe.clientX,Pe.clientY),xt=this._elementRef.nativeElement;ke!==xt&&!xt.contains(ke)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Pe=this.touchGestures;if("off"!==Pe){const ke=this._elementRef.nativeElement,xt=ke.style;("on"===Pe||"INPUT"!==ke.nodeName&&"TEXTAREA"!==ke.nodeName)&&(xt.userSelect=xt.msUserSelect=xt.webkitUserSelect=xt.MozUserSelect="none"),("on"===Pe||!ke.draggable)&&(xt.webkitUserDrag="none"),xt.touchAction="none",xt.webkitTapHighlightColor="transparent"}}}return(I=V).\u0275fac=function(Pe){return new(Pe||I)(E.rXU(U.hJ),E.rXU(E.aKT),E.rXU(O.R),E.rXU(E.c1b),E.rXU(E.SKi),E.rXU(u.OD),E.rXU(F.vr),E.rXU(F.FN),E.rXU(ae),E.rXU(S.dS),E.rXU($,8),E.rXU(C.qQ))},I.\u0275dir=E.FsC({type:I,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Pe,ke){2&Pe&&E.AVh("mat-mdc-tooltip-disabled",ke.disabled)},inputs:{position:[E.Mj6.None,"matTooltipPosition","position"],positionAtOrigin:[E.Mj6.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[E.Mj6.None,"matTooltipDisabled","disabled"],showDelay:[E.Mj6.None,"matTooltipShowDelay","showDelay"],hideDelay:[E.Mj6.None,"matTooltipHideDelay","hideDelay"],touchGestures:[E.Mj6.None,"matTooltipTouchGestures","touchGestures"],message:[E.Mj6.None,"matTooltip","message"],tooltipClass:[E.Mj6.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0}),V})(),ut=(()=>{var I;class V{constructor(Pe,ke,xt){this._changeDetectorRef=Pe,this._elementRef=ke,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new _.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===xt}show(Pe){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Pe)}hide(Pe){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Pe)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Pe}){(!Pe||!this._triggerElement.contains(Pe))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Pe=this._elementRef.nativeElement.getBoundingClientRect();return Pe.height>24&&Pe.width>=200}_handleAnimationEnd({animationName:Pe}){(Pe===this._showAnimation||Pe===this._hideAnimation)&&this._finalizeAnimation(Pe===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Pe){Pe?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Pe){const ke=this._tooltip.nativeElement,xt=this._showAnimation,Ht=this._hideAnimation;if(ke.classList.remove(Pe?Ht:xt),ke.classList.add(Pe?xt:Ht),this._isVisible=Pe,Pe&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ln=getComputedStyle(ke);("0s"===ln.getPropertyValue("animation-duration")||"none"===ln.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Pe&&this._onShow(),this._animationsDisabled&&(ke.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Pe))}}return(I=V).\u0275fac=function(Pe){return new(Pe||I)(E.rXU(E.gRc),E.rXU(E.aKT),E.rXU(E.bc$,8))},I.\u0275cmp=E.VBU({type:I,selectors:[["mat-tooltip-component"]],viewQuery:function(Pe,ke){if(1&Pe&&E.GBs(K,7),2&Pe){let xt;E.mGM(xt=E.lsd())&&(ke._tooltip=xt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Pe,ke){1&Pe&&E.bIt("mouseleave",function(Ht){return ke._handleMouseLeave(Ht)}),2&Pe&&E.xc7("zoom",ke.isVisible()?1:null)},standalone:!0,features:[E.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Pe,ke){if(1&Pe){const xt=E.RV6();E.j41(0,"div",1,0),E.bIt("animationend",function(ln){return E.eBV(xt),E.Njj(ke._handleAnimationEnd(ln))}),E.j41(2,"div",2),E.EFF(3),E.k0s()()}2&Pe&&(E.AVh("mdc-tooltip--multiline",ke._isMultiline),E.Y8G("ngClass",ke.tooltipClass),E.R7$(3),E.JRh(ke.message))},dependencies:[C.YU],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),V})(),ve=(()=>{var I;class V{}return(I=V).\u0275fac=function(Pe){return new(Pe||I)},I.\u0275mod=E.$C({type:I}),I.\u0275inj=E.G2t({providers:[fe],imports:[F.Pd,C.MD,U.z_,W.yE,W.yE,O.Gj]}),V})()},728:(en,ot,w)=>{"use strict";w.d(ot,{wb:()=>Wt});var r=w(4438),x=w(345),f=w(9969);function u(rn){return new r.wOt(3e3,!1)}function Ye(rn){switch(rn.length){case 0:return new f.sf;case 1:return rn[0];default:return new f.ui(rn)}}function Ze(rn,pe,Re=new Map,bt=new Map){const tn=[],An=[];let Kn=-1,ar=null;if(pe.forEach(Zr=>{const si=Zr.get("offset"),ni=si==Kn,Pr=ni&&ar||new Map;Zr.forEach((mi,Wi)=>{let Pi=Wi,xe=mi;if("offset"!==Wi)switch(Pi=rn.normalizePropertyName(Pi,tn),xe){case f.FX:xe=Re.get(Wi);break;case f.kp:xe=bt.get(Wi);break;default:xe=rn.normalizeStyleValue(Wi,Pi,xe,tn)}Pr.set(Pi,xe)}),ni||An.push(Pr),ar=Pr,Kn=si}),tn.length)throw function De(rn){return new r.wOt(3502,!1)}();return An}function Ot(rn,pe,Re,bt){switch(pe){case"start":rn.onStart(()=>bt(Re&&ye(Re,"start",rn)));break;case"done":rn.onDone(()=>bt(Re&&ye(Re,"done",rn)));break;case"destroy":rn.onDestroy(()=>bt(Re&&ye(Re,"destroy",rn)))}}function ye(rn,pe,Re){const An=P(rn.element,rn.triggerName,rn.fromState,rn.toState,pe||rn.phaseName,Re.totalTime??rn.totalTime,!!Re.disabled),Kn=rn._data;return null!=Kn&&(An._data=Kn),An}function P(rn,pe,Re,bt,tn="",An=0,Kn){return{element:rn,triggerName:pe,fromState:Re,toState:bt,phaseName:tn,totalTime:An,disabled:!!Kn}}function B(rn,pe,Re){let bt=rn.get(pe);return bt||rn.set(pe,bt=Re),bt}function R(rn){const pe=rn.indexOf(":");return[rn.substring(1,pe),rn.slice(pe+1)]}const N=typeof document>"u"?null:document.documentElement;function Y(rn){const pe=rn.parentNode||rn.host||null;return pe===N?null:pe}let M=null,Z=!1;function oe(rn,pe){for(;pe;){if(pe===rn)return!0;pe=Y(pe)}return!1}function He(rn,pe,Re){if(Re)return Array.from(rn.querySelectorAll(pe));const bt=rn.querySelector(pe);return bt?[bt]:[]}let ft=(()=>{var rn;class pe{validateStyleProperty(bt){return function z(rn){M||(M=function X(){return typeof document<"u"?document.body:null}()||{},Z=!!M.style&&"WebkitAppearance"in M.style);let pe=!0;return M.style&&!function h(rn){return"ebkit"==rn.substring(1,6)}(rn)&&(pe=rn in M.style,!pe&&Z&&(pe="Webkit"+rn.charAt(0).toUpperCase()+rn.slice(1)in M.style)),pe}(bt)}matchesElement(bt,tn){return!1}containsElement(bt,tn){return oe(bt,tn)}getParentElement(bt){return Y(bt)}query(bt,tn,An){return He(bt,tn,An)}computeStyle(bt,tn,An){return An||""}animate(bt,tn,An,Kn,ar,Zr=[],si){return new f.sf(An,Kn)}}return(rn=pe).\u0275fac=function(bt){return new(bt||rn)},rn.\u0275prov=r.jDH({token:rn,factory:rn.\u0275fac}),pe})();class It{}It.NOOP=new ft;class Ge{}const dt=1e3,Ke="ng-enter",pt="ng-leave",Tt="ng-trigger",$e=".ng-trigger",Lt="ng-animating",Xt=".ng-animating";function gn(rn){if("number"==typeof rn)return rn;const pe=rn.match(/^(-?[\.\d]+)(m?s)/);return!pe||pe.length<2?0:Ln(parseFloat(pe[1]),pe[2])}function Ln(rn,pe){return"s"===pe?rn*dt:rn}function $n(rn,pe,Re){return rn.hasOwnProperty("duration")?rn:function gr(rn,pe,Re){let tn,An=0,Kn="";if("string"==typeof rn){const ar=rn.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ar)return pe.push(u()),{duration:0,delay:0,easing:""};tn=Ln(parseFloat(ar[1]),ar[2]);const Zr=ar[3];null!=Zr&&(An=Ln(parseFloat(Zr),ar[4]));const si=ar[5];si&&(Kn=si)}else tn=rn;if(!Re){let ar=!1,Zr=pe.length;tn<0&&(pe.push(function F(){return new r.wOt(3100,!1)}()),ar=!0),An<0&&(pe.push(function S(){return new r.wOt(3101,!1)}()),ar=!0),ar&&pe.splice(Zr,0,u())}return{duration:tn,delay:An,easing:Kn}}(rn,pe,Re)}function Fe(rn,pe,Re){pe.forEach((bt,tn)=>{const An=Kt(tn);Re&&!Re.has(tn)&&Re.set(tn,rn.style[An]),rn.style[An]=bt})}function Ue(rn,pe){pe.forEach((Re,bt)=>{const tn=Kt(bt);rn.style[tn]=""})}function Ce(rn){return Array.isArray(rn)?1==rn.length?rn[0]:(0,f.K2)(rn):rn}const it=new RegExp("{{\\s*(.+?)\\s*}}","g");function Me(rn){let pe=[];if("string"==typeof rn){let Re;for(;Re=it.exec(rn);)pe.push(Re[1]);it.lastIndex=0}return pe}function We(rn,pe,Re){const bt=`${rn}`,tn=bt.replace(it,(An,Kn)=>{let ar=pe[Kn];return null==ar&&(Re.push(function O(rn){return new r.wOt(3003,!1)}()),ar=""),ar.toString()});return tn==bt?rn:tn}const Gt=/-+([a-z0-9])/g;function Kt(rn){return rn.replace(Gt,(...pe)=>pe[1].toUpperCase())}function tr(rn,pe,Re){switch(pe.type){case f.If.Trigger:return rn.visitTrigger(pe,Re);case f.If.State:return rn.visitState(pe,Re);case f.If.Transition:return rn.visitTransition(pe,Re);case f.If.Sequence:return rn.visitSequence(pe,Re);case f.If.Group:return rn.visitGroup(pe,Re);case f.If.Animate:return rn.visitAnimate(pe,Re);case f.If.Keyframes:return rn.visitKeyframes(pe,Re);case f.If.Style:return rn.visitStyle(pe,Re);case f.If.Reference:return rn.visitReference(pe,Re);case f.If.AnimateChild:return rn.visitAnimateChild(pe,Re);case f.If.AnimateRef:return rn.visitAnimateRef(pe,Re);case f.If.Query:return rn.visitQuery(pe,Re);case f.If.Stagger:return rn.visitStagger(pe,Re);default:throw function y(rn){return new r.wOt(3004,!1)}()}}function Er(rn,pe){return window.getComputedStyle(rn)[pe]}const _r=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sr extends Ge{normalizePropertyName(pe,Re){return Kt(pe)}normalizeStyleValue(pe,Re,bt,tn){let An="";const Kn=bt.toString().trim();if(_r.has(Re)&&0!==bt&&"0"!==bt)if("number"==typeof bt)An="px";else{const ar=bt.match(/^[+-]?[\d\.]+([a-z]*)$/);ar&&0==ar[1].length&&tn.push(function _(rn,pe){return new r.wOt(3005,!1)}())}return Kn+An}}const Or="*";const Vi=new Set(["true","1"]),Qi=new Set(["false","0"]);function Ve(rn,pe){const Re=Vi.has(rn)||Qi.has(rn),bt=Vi.has(pe)||Qi.has(pe);return(tn,An)=>{let Kn=rn==Or||rn==tn,ar=pe==Or||pe==An;return!Kn&&Re&&"boolean"==typeof tn&&(Kn=tn?Vi.has(rn):Qi.has(rn)),!ar&&bt&&"boolean"==typeof An&&(ar=An?Vi.has(pe):Qi.has(pe)),Kn&&ar}}const an=new RegExp("s*:selfs*,?","g");function _e(rn,pe,Re,bt){return new on(rn).build(pe,Re,bt)}class on{constructor(pe){this._driver=pe}build(pe,Re,bt){const tn=new Gr(Re);return this._resetContextStyleTimingState(tn),tr(this,Ce(pe),tn)}_resetContextStyleTimingState(pe){pe.currentQuerySelector="",pe.collectedStyles=new Map,pe.collectedStyles.set("",new Map),pe.currentTime=0}visitTrigger(pe,Re){let bt=Re.queryCount=0,tn=Re.depCount=0;const An=[],Kn=[];return"@"==pe.name.charAt(0)&&Re.errors.push(function D(){return new r.wOt(3006,!1)}()),pe.definitions.forEach(ar=>{if(this._resetContextStyleTimingState(Re),ar.type==f.If.State){const Zr=ar,si=Zr.name;si.toString().split(/\s*,\s*/).forEach(ni=>{Zr.name=ni,An.push(this.visitState(Zr,Re))}),Zr.name=si}else if(ar.type==f.If.Transition){const Zr=this.visitTransition(ar,Re);bt+=Zr.queryCount,tn+=Zr.depCount,Kn.push(Zr)}else Re.errors.push(function W(){return new r.wOt(3007,!1)}())}),{type:f.If.Trigger,name:pe.name,states:An,transitions:Kn,queryCount:bt,depCount:tn,options:null}}visitState(pe,Re){const bt=this.visitStyle(pe.styles,Re),tn=pe.options&&pe.options.params||null;if(bt.containsDynamicStyles){const An=new Set,Kn=tn||{};bt.styles.forEach(ar=>{ar instanceof Map&&ar.forEach(Zr=>{Me(Zr).forEach(si=>{Kn.hasOwnProperty(si)||An.add(si)})})}),An.size&&Re.errors.push(function K(rn,pe){return new r.wOt(3008,!1)}(0,An.values()))}return{type:f.If.State,name:pe.name,style:bt,options:tn?{params:tn}:null}}visitTransition(pe,Re){Re.queryCount=0,Re.depCount=0;const bt=tr(this,Ce(pe.animation),Re),tn=function fi(rn,pe){const Re=[];return"string"==typeof rn?rn.split(/\s*,\s*/).forEach(bt=>function Yi(rn,pe,Re){if(":"==rn[0]){const Zr=function ho(rn,pe){switch(rn){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(Re,bt)=>parseFloat(bt)>parseFloat(Re);case":decrement":return(Re,bt)=>parseFloat(bt)<parseFloat(Re);default:return pe.push(function be(rn){return new r.wOt(3016,!1)}()),"* => *"}}(rn,Re);if("function"==typeof Zr)return void pe.push(Zr);rn=Zr}const bt=rn.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==bt||bt.length<4)return Re.push(function ee(rn){return new r.wOt(3015,!1)}()),pe;const tn=bt[1],An=bt[2],Kn=bt[3];pe.push(Ve(tn,Kn)),"<"==An[0]&&(tn!=Or||Kn!=Or)&&pe.push(Ve(Kn,tn))}(bt,Re,pe)):Re.push(rn),Re}(pe.expr,Re.errors);return{type:f.If.Transition,matchers:tn,animation:bt,queryCount:Re.queryCount,depCount:Re.depCount,options:pi(pe.options)}}visitSequence(pe,Re){return{type:f.If.Sequence,steps:pe.steps.map(bt=>tr(this,bt,Re)),options:pi(pe.options)}}visitGroup(pe,Re){const bt=Re.currentTime;let tn=0;const An=pe.steps.map(Kn=>{Re.currentTime=bt;const ar=tr(this,Kn,Re);return tn=Math.max(tn,Re.currentTime),ar});return Re.currentTime=tn,{type:f.If.Group,steps:An,options:pi(pe.options)}}visitAnimate(pe,Re){const bt=function Mi(rn,pe){if(rn.hasOwnProperty("duration"))return rn;if("number"==typeof rn)return di($n(rn,pe).duration,0,"");const Re=rn;if(Re.split(/\s+/).some(An=>"{"==An.charAt(0)&&"{"==An.charAt(1))){const An=di(0,0,"");return An.dynamic=!0,An.strValue=Re,An}const tn=$n(Re,pe);return di(tn.duration,tn.delay,tn.easing)}(pe.timings,Re.errors);Re.currentAnimateTimings=bt;let tn,An=pe.styles?pe.styles:(0,f.iF)({});if(An.type==f.If.Keyframes)tn=this.visitKeyframes(An,Re);else{let Kn=pe.styles,ar=!1;if(!Kn){ar=!0;const si={};bt.easing&&(si.easing=bt.easing),Kn=(0,f.iF)(si)}Re.currentTime+=bt.duration+bt.delay;const Zr=this.visitStyle(Kn,Re);Zr.isEmptyStep=ar,tn=Zr}return Re.currentAnimateTimings=null,{type:f.If.Animate,timings:bt,style:tn,options:null}}visitStyle(pe,Re){const bt=this._makeStyleAst(pe,Re);return this._validateStyleAst(bt,Re),bt}_makeStyleAst(pe,Re){const bt=[],tn=Array.isArray(pe.styles)?pe.styles:[pe.styles];for(let ar of tn)"string"==typeof ar?ar===f.kp?bt.push(ar):Re.errors.push(new r.wOt(3002,!1)):bt.push(new Map(Object.entries(ar)));let An=!1,Kn=null;return bt.forEach(ar=>{if(ar instanceof Map&&(ar.has("easing")&&(Kn=ar.get("easing"),ar.delete("easing")),!An))for(let Zr of ar.values())if(Zr.toString().indexOf("{{")>=0){An=!0;break}}),{type:f.If.Style,styles:bt,easing:Kn,offset:pe.offset,containsDynamicStyles:An,options:null}}_validateStyleAst(pe,Re){const bt=Re.currentAnimateTimings;let tn=Re.currentTime,An=Re.currentTime;bt&&An>0&&(An-=bt.duration+bt.delay),pe.styles.forEach(Kn=>{"string"!=typeof Kn&&Kn.forEach((ar,Zr)=>{const si=Re.collectedStyles.get(Re.currentQuerySelector),ni=si.get(Zr);let Pr=!0;ni&&(An!=tn&&An>=ni.startTime&&tn<=ni.endTime&&(Re.errors.push(function ae(rn,pe,Re,bt,tn){return new r.wOt(3010,!1)}()),Pr=!1),An=ni.startTime),Pr&&si.set(Zr,{startTime:An,endTime:tn}),Re.options&&function me(rn,pe,Re){const bt=pe.params||{},tn=Me(rn);tn.length&&tn.forEach(An=>{bt.hasOwnProperty(An)||Re.push(function U(rn){return new r.wOt(3001,!1)}())})}(ar,Re.options,Re.errors)})})}visitKeyframes(pe,Re){const bt={type:f.If.Keyframes,styles:[],options:null};if(!Re.currentAnimateTimings)return Re.errors.push(function le(){return new r.wOt(3011,!1)}()),bt;let An=0;const Kn=[];let ar=!1,Zr=!1,si=0;const ni=pe.steps.map(qe=>{const wt=this._makeStyleAst(qe,Re);let Pt=null!=wt.offset?wt.offset:function Ai(rn){if("string"==typeof rn)return null;let pe=null;if(Array.isArray(rn))rn.forEach(Re=>{if(Re instanceof Map&&Re.has("offset")){const bt=Re;pe=parseFloat(bt.get("offset")),bt.delete("offset")}});else if(rn instanceof Map&&rn.has("offset")){const Re=rn;pe=parseFloat(Re.get("offset")),Re.delete("offset")}return pe}(wt.styles),cn=0;return null!=Pt&&(An++,cn=wt.offset=Pt),Zr=Zr||cn<0||cn>1,ar=ar||cn<si,si=cn,Kn.push(cn),wt});Zr&&Re.errors.push(function fe(){return new r.wOt(3012,!1)}()),ar&&Re.errors.push(function q(){return new r.wOt(3200,!1)}());const Pr=pe.steps.length;let mi=0;An>0&&An<Pr?Re.errors.push(function $(){return new r.wOt(3202,!1)}()):0==An&&(mi=1/(Pr-1));const Wi=Pr-1,Pi=Re.currentTime,xe=Re.currentAnimateTimings,he=xe.duration;return ni.forEach((qe,wt)=>{const Pt=mi>0?wt==Wi?1:mi*wt:Kn[wt],cn=Pt*he;Re.currentTime=Pi+xe.delay+cn,xe.duration=cn,this._validateStyleAst(qe,Re),qe.offset=Pt,bt.styles.push(qe)}),bt}visitReference(pe,Re){return{type:f.If.Reference,animation:tr(this,Ce(pe.animation),Re),options:pi(pe.options)}}visitAnimateChild(pe,Re){return Re.depCount++,{type:f.If.AnimateChild,options:pi(pe.options)}}visitAnimateRef(pe,Re){return{type:f.If.AnimateRef,animation:this.visitReference(pe.animation,Re),options:pi(pe.options)}}visitQuery(pe,Re){const bt=Re.currentQuerySelector,tn=pe.options||{};Re.queryCount++,Re.currentQuery=pe;const[An,Kn]=function Un(rn){const pe=!!rn.split(/\s*,\s*/).find(Re=>":self"==Re);return pe&&(rn=rn.replace(an,"")),rn=rn.replace(/@\*/g,$e).replace(/@\w+/g,Re=>$e+"-"+Re.slice(1)).replace(/:animating/g,Xt),[rn,pe]}(pe.selector);Re.currentQuerySelector=bt.length?bt+" "+An:An,B(Re.collectedStyles,Re.currentQuerySelector,new Map);const ar=tr(this,Ce(pe.animation),Re);return Re.currentQuery=null,Re.currentQuerySelector=bt,{type:f.If.Query,selector:An,limit:tn.limit||0,optional:!!tn.optional,includeSelf:Kn,animation:ar,originalSelector:pe.selector,options:pi(pe.options)}}visitStagger(pe,Re){Re.currentQuery||Re.errors.push(function j(){return new r.wOt(3013,!1)}());const bt="full"===pe.timings?{duration:0,delay:0,easing:"full"}:$n(pe.timings,Re.errors,!0);return{type:f.If.Stagger,animation:tr(this,Ce(pe.animation),Re),timings:bt,options:null}}}class Gr{constructor(pe){this.errors=pe,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pi(rn){return rn?(rn={...rn}).params&&(rn.params=function qn(rn){return rn?{...rn}:null}(rn.params)):rn={},rn}function di(rn,pe,Re){return{duration:rn,delay:pe,easing:Re}}function Zt(rn,pe,Re,bt,tn,An,Kn=null,ar=!1){return{type:1,element:rn,keyframes:pe,preStyleProps:Re,postStyleProps:bt,duration:tn,delay:An,totalTime:tn+An,easing:Kn,subTimeline:ar}}class Tn{constructor(){this._map=new Map}get(pe){return this._map.get(pe)||[]}append(pe,Re){let bt=this._map.get(pe);bt||this._map.set(pe,bt=[]),bt.push(...Re)}has(pe){return this._map.has(pe)}clear(){this._map.clear()}}const Dr=new RegExp(":enter","g"),Bi=new RegExp(":leave","g");function hi(rn,pe,Re,bt,tn,An=new Map,Kn=new Map,ar,Zr,si=[]){return(new po).buildKeyframes(rn,pe,Re,bt,tn,An,Kn,ar,Zr,si)}class po{buildKeyframes(pe,Re,bt,tn,An,Kn,ar,Zr,si,ni=[]){si=si||new Tn;const Pr=new Ji(pe,Re,si,tn,An,ni,[]);Pr.options=Zr;const mi=Zr.delay?gn(Zr.delay):0;Pr.currentTimeline.delayNextStep(mi),Pr.currentTimeline.setStyles([Kn],null,Pr.errors,Zr),tr(this,bt,Pr);const Wi=Pr.timelines.filter(Pi=>Pi.containsAnimation());if(Wi.length&&ar.size){let Pi;for(let xe=Wi.length-1;xe>=0;xe--){const he=Wi[xe];if(he.element===Re){Pi=he;break}}Pi&&!Pi.allowOnlyTimelineStyles()&&Pi.setStyles([ar],null,Pr.errors,Zr)}return Wi.length?Wi.map(Pi=>Pi.buildKeyframes()):[Zt(Re,[],[],[],0,mi,"",!1)]}visitTrigger(pe,Re){}visitState(pe,Re){}visitTransition(pe,Re){}visitAnimateChild(pe,Re){const bt=Re.subInstructions.get(Re.element);if(bt){const tn=Re.createSubContext(pe.options),An=Re.currentTimeline.currentTime,Kn=this._visitSubInstructions(bt,tn,tn.options);An!=Kn&&Re.transformIntoNewTimeline(Kn)}Re.previousNode=pe}visitAnimateRef(pe,Re){const bt=Re.createSubContext(pe.options);bt.transformIntoNewTimeline(),this._applyAnimationRefDelays([pe.options,pe.animation.options],Re,bt),this.visitReference(pe.animation,bt),Re.transformIntoNewTimeline(bt.currentTimeline.currentTime),Re.previousNode=pe}_applyAnimationRefDelays(pe,Re,bt){for(const tn of pe){const An=tn?.delay;if(An){const Kn="number"==typeof An?An:gn(We(An,tn?.params??{},Re.errors));bt.delayNextStep(Kn)}}}_visitSubInstructions(pe,Re,bt){let An=Re.currentTimeline.currentTime;const Kn=null!=bt.duration?gn(bt.duration):null,ar=null!=bt.delay?gn(bt.delay):null;return 0!==Kn&&pe.forEach(Zr=>{const si=Re.appendInstructionToTimeline(Zr,Kn,ar);An=Math.max(An,si.duration+si.delay)}),An}visitReference(pe,Re){Re.updateOptions(pe.options,!0),tr(this,pe.animation,Re),Re.previousNode=pe}visitSequence(pe,Re){const bt=Re.subContextCount;let tn=Re;const An=pe.options;if(An&&(An.params||An.delay)&&(tn=Re.createSubContext(An),tn.transformIntoNewTimeline(),null!=An.delay)){tn.previousNode.type==f.If.Style&&(tn.currentTimeline.snapshotCurrentStyles(),tn.previousNode=Ro);const Kn=gn(An.delay);tn.delayNextStep(Kn)}pe.steps.length&&(pe.steps.forEach(Kn=>tr(this,Kn,tn)),tn.currentTimeline.applyStylesToKeyframe(),tn.subContextCount>bt&&tn.transformIntoNewTimeline()),Re.previousNode=pe}visitGroup(pe,Re){const bt=[];let tn=Re.currentTimeline.currentTime;const An=pe.options&&pe.options.delay?gn(pe.options.delay):0;pe.steps.forEach(Kn=>{const ar=Re.createSubContext(pe.options);An&&ar.delayNextStep(An),tr(this,Kn,ar),tn=Math.max(tn,ar.currentTimeline.currentTime),bt.push(ar.currentTimeline)}),bt.forEach(Kn=>Re.currentTimeline.mergeTimelineCollectedStyles(Kn)),Re.transformIntoNewTimeline(tn),Re.previousNode=pe}_visitTiming(pe,Re){if(pe.dynamic){const bt=pe.strValue;return $n(Re.params?We(bt,Re.params,Re.errors):bt,Re.errors)}return{duration:pe.duration,delay:pe.delay,easing:pe.easing}}visitAnimate(pe,Re){const bt=Re.currentAnimateTimings=this._visitTiming(pe.timings,Re),tn=Re.currentTimeline;bt.delay&&(Re.incrementTime(bt.delay),tn.snapshotCurrentStyles());const An=pe.style;An.type==f.If.Keyframes?this.visitKeyframes(An,Re):(Re.incrementTime(bt.duration),this.visitStyle(An,Re),tn.applyStylesToKeyframe()),Re.currentAnimateTimings=null,Re.previousNode=pe}visitStyle(pe,Re){const bt=Re.currentTimeline,tn=Re.currentAnimateTimings;!tn&&bt.hasCurrentStyleProperties()&&bt.forwardFrame();const An=tn&&tn.easing||pe.easing;pe.isEmptyStep?bt.applyEmptyStep(An):bt.setStyles(pe.styles,An,Re.errors,Re.options),Re.previousNode=pe}visitKeyframes(pe,Re){const bt=Re.currentAnimateTimings,tn=Re.currentTimeline.duration,An=bt.duration,ar=Re.createSubContext().currentTimeline;ar.easing=bt.easing,pe.styles.forEach(Zr=>{ar.forwardTime((Zr.offset||0)*An),ar.setStyles(Zr.styles,Zr.easing,Re.errors,Re.options),ar.applyStylesToKeyframe()}),Re.currentTimeline.mergeTimelineCollectedStyles(ar),Re.transformIntoNewTimeline(tn+An),Re.previousNode=pe}visitQuery(pe,Re){const bt=Re.currentTimeline.currentTime,tn=pe.options||{},An=tn.delay?gn(tn.delay):0;An&&(Re.previousNode.type===f.If.Style||0==bt&&Re.currentTimeline.hasCurrentStyleProperties())&&(Re.currentTimeline.snapshotCurrentStyles(),Re.previousNode=Ro);let Kn=bt;const ar=Re.invokeQuery(pe.selector,pe.originalSelector,pe.limit,pe.includeSelf,!!tn.optional,Re.errors);Re.currentQueryTotal=ar.length;let Zr=null;ar.forEach((si,ni)=>{Re.currentQueryIndex=ni;const Pr=Re.createSubContext(pe.options,si);An&&Pr.delayNextStep(An),si===Re.element&&(Zr=Pr.currentTimeline),tr(this,pe.animation,Pr),Pr.currentTimeline.applyStylesToKeyframe(),Kn=Math.max(Kn,Pr.currentTimeline.currentTime)}),Re.currentQueryIndex=0,Re.currentQueryTotal=0,Re.transformIntoNewTimeline(Kn),Zr&&(Re.currentTimeline.mergeTimelineCollectedStyles(Zr),Re.currentTimeline.snapshotCurrentStyles()),Re.previousNode=pe}visitStagger(pe,Re){const bt=Re.parentContext,tn=Re.currentTimeline,An=pe.timings,Kn=Math.abs(An.duration),ar=Kn*(Re.currentQueryTotal-1);let Zr=Kn*Re.currentQueryIndex;switch(An.duration<0?"reverse":An.easing){case"reverse":Zr=ar-Zr;break;case"full":Zr=bt.currentStaggerTime}const ni=Re.currentTimeline;Zr&&ni.delayNextStep(Zr);const Pr=ni.currentTime;tr(this,pe.animation,Re),Re.previousNode=pe,bt.currentStaggerTime=tn.currentTime-Pr+(tn.startTime-bt.currentTimeline.startTime)}}const Ro={};class Ji{constructor(pe,Re,bt,tn,An,Kn,ar,Zr){this._driver=pe,this.element=Re,this.subInstructions=bt,this._enterClassName=tn,this._leaveClassName=An,this.errors=Kn,this.timelines=ar,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ro,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Zr||new Yt(this._driver,Re,0),ar.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(pe,Re){if(!pe)return;const bt=pe;let tn=this.options;null!=bt.duration&&(tn.duration=gn(bt.duration)),null!=bt.delay&&(tn.delay=gn(bt.delay));const An=bt.params;if(An){let Kn=tn.params;Kn||(Kn=this.options.params={}),Object.keys(An).forEach(ar=>{(!Re||!Kn.hasOwnProperty(ar))&&(Kn[ar]=We(An[ar],Kn,this.errors))})}}_copyOptions(){const pe={};if(this.options){const Re=this.options.params;if(Re){const bt=pe.params={};Object.keys(Re).forEach(tn=>{bt[tn]=Re[tn]})}}return pe}createSubContext(pe=null,Re,bt){const tn=Re||this.element,An=new Ji(this._driver,tn,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(tn,bt||0));return An.previousNode=this.previousNode,An.currentAnimateTimings=this.currentAnimateTimings,An.options=this._copyOptions(),An.updateOptions(pe),An.currentQueryIndex=this.currentQueryIndex,An.currentQueryTotal=this.currentQueryTotal,An.parentContext=this,this.subContextCount++,An}transformIntoNewTimeline(pe){return this.previousNode=Ro,this.currentTimeline=this.currentTimeline.fork(this.element,pe),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(pe,Re,bt){const tn={duration:Re??pe.duration,delay:this.currentTimeline.currentTime+(bt??0)+pe.delay,easing:""},An=new un(this._driver,pe.element,pe.keyframes,pe.preStyleProps,pe.postStyleProps,tn,pe.stretchStartingKeyframe);return this.timelines.push(An),tn}incrementTime(pe){this.currentTimeline.forwardTime(this.currentTimeline.duration+pe)}delayNextStep(pe){pe>0&&this.currentTimeline.delayNextStep(pe)}invokeQuery(pe,Re,bt,tn,An,Kn){let ar=[];if(tn&&ar.push(this.element),pe.length>0){pe=(pe=pe.replace(Dr,"."+this._enterClassName)).replace(Bi,"."+this._leaveClassName);let si=this._driver.query(this.element,pe,1!=bt);0!==bt&&(si=bt<0?si.slice(si.length+bt,si.length):si.slice(0,bt)),ar.push(...si)}return!An&&0==ar.length&&Kn.push(function Q(rn){return new r.wOt(3014,!1)}()),ar}}class Yt{constructor(pe,Re,bt,tn){this._driver=pe,this.element=Re,this.startTime=bt,this._elementTimelineStylesLookup=tn,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(Re),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(Re,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(pe){const Re=1===this._keyframes.size&&this._pendingStyles.size;this.duration||Re?(this.forwardTime(this.currentTime+pe),Re&&this.snapshotCurrentStyles()):this.startTime+=pe}fork(pe,Re){return this.applyStylesToKeyframe(),new Yt(this._driver,pe,Re||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(pe){this.applyStylesToKeyframe(),this.duration=pe,this._loadKeyframe()}_updateStyle(pe,Re){this._localTimelineStyles.set(pe,Re),this._globalTimelineStyles.set(pe,Re),this._styleSummary.set(pe,{time:this.currentTime,value:Re})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(pe){pe&&this._previousKeyframe.set("easing",pe);for(let[Re,bt]of this._globalTimelineStyles)this._backFill.set(Re,bt||f.kp),this._currentKeyframe.set(Re,f.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(pe,Re,bt,tn){Re&&this._previousKeyframe.set("easing",Re);const An=tn&&tn.params||{},Kn=function Rr(rn,pe){const Re=new Map;let bt;return rn.forEach(tn=>{if("*"===tn){bt??=pe.keys();for(let An of bt)Re.set(An,f.kp)}else for(let[An,Kn]of tn)Re.set(An,Kn)}),Re}(pe,this._globalTimelineStyles);for(let[ar,Zr]of Kn){const si=We(Zr,An,bt);this._pendingStyles.set(ar,si),this._localTimelineStyles.has(ar)||this._backFill.set(ar,this._globalTimelineStyles.get(ar)??f.kp),this._updateStyle(ar,si)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((pe,Re)=>{this._currentKeyframe.set(Re,pe)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((pe,Re)=>{this._currentKeyframe.has(Re)||this._currentKeyframe.set(Re,pe)}))}snapshotCurrentStyles(){for(let[pe,Re]of this._localTimelineStyles)this._pendingStyles.set(pe,Re),this._updateStyle(pe,Re)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const pe=[];for(let Re in this._currentKeyframe)pe.push(Re);return pe}mergeTimelineCollectedStyles(pe){pe._styleSummary.forEach((Re,bt)=>{const tn=this._styleSummary.get(bt);(!tn||Re.time>tn.time)&&this._updateStyle(bt,Re.value)})}buildKeyframes(){this.applyStylesToKeyframe();const pe=new Set,Re=new Set,bt=1===this._keyframes.size&&0===this.duration;let tn=[];this._keyframes.forEach((ar,Zr)=>{const si=new Map([...this._backFill,...ar]);si.forEach((ni,Pr)=>{ni===f.FX?pe.add(Pr):ni===f.kp&&Re.add(Pr)}),bt||si.set("offset",Zr/this.duration),tn.push(si)});const An=[...pe.values()],Kn=[...Re.values()];if(bt){const ar=tn[0],Zr=new Map(ar);ar.set("offset",0),Zr.set("offset",1),tn=[ar,Zr]}return Zt(this.element,tn,An,Kn,this.duration,this.startTime,this.easing,!1)}}class un extends Yt{constructor(pe,Re,bt,tn,An,Kn,ar=!1){super(pe,Re,Kn.delay),this.keyframes=bt,this.preStyleProps=tn,this.postStyleProps=An,this._stretchStartingKeyframe=ar,this.timings={duration:Kn.duration,delay:Kn.delay,easing:Kn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let pe=this.keyframes,{delay:Re,duration:bt,easing:tn}=this.timings;if(this._stretchStartingKeyframe&&Re){const An=[],Kn=bt+Re,ar=Re/Kn,Zr=new Map(pe[0]);Zr.set("offset",0),An.push(Zr);const si=new Map(pe[0]);si.set("offset",Xn(ar)),An.push(si);const ni=pe.length-1;for(let Pr=1;Pr<=ni;Pr++){let mi=new Map(pe[Pr]);const Wi=mi.get("offset");mi.set("offset",Xn((Re+Wi*bt)/Kn)),An.push(mi)}bt=Kn,Re=0,tn="",pe=An}return Zt(this.element,pe,this.preStyleProps,this.postStyleProps,bt,Re,tn,!0)}}function Xn(rn,pe=3){const Re=Math.pow(10,pe-1);return Math.round(rn*Re)/Re}function ci(rn,pe,Re,bt,tn,An,Kn,ar,Zr,si,ni,Pr,mi){return{type:0,element:rn,triggerName:pe,isRemovalTransition:tn,fromState:Re,fromStyles:An,toState:bt,toStyles:Kn,timelines:ar,queriedElements:Zr,preStyleProps:si,postStyleProps:ni,totalTime:Pr,errors:mi}}const $i={};class Ao{constructor(pe,Re,bt){this._triggerName=pe,this.ast=Re,this._stateStyles=bt}match(pe,Re,bt,tn){return function ko(rn,pe,Re,bt,tn){return rn.some(An=>An(pe,Re,bt,tn))}(this.ast.matchers,pe,Re,bt,tn)}buildStyles(pe,Re,bt){let tn=this._stateStyles.get("*");return void 0!==pe&&(tn=this._stateStyles.get(pe?.toString())||tn),tn?tn.buildStyles(Re,bt):new Map}build(pe,Re,bt,tn,An,Kn,ar,Zr,si,ni){const Pr=[],mi=this.ast.options&&this.ast.options.params||$i,Pi=this.buildStyles(bt,ar&&ar.params||$i,Pr),xe=Zr&&Zr.params||$i,he=this.buildStyles(tn,xe,Pr),qe=new Set,wt=new Map,Pt=new Map,cn="void"===tn,xn={params:Yo(xe,mi),delay:this.ast.options?.delay},nr=ni?[]:hi(pe,Re,this.ast.animation,An,Kn,Pi,he,xn,si,Pr);let Yn=0;return nr.forEach(kr=>{Yn=Math.max(kr.duration+kr.delay,Yn)}),Pr.length?ci(Re,this._triggerName,bt,tn,cn,Pi,he,[],[],wt,Pt,Yn,Pr):(nr.forEach(kr=>{const wr=kr.element,Lr=B(wt,wr,new Set);kr.preStyleProps.forEach(vi=>Lr.add(vi));const Fr=B(Pt,wr,new Set);kr.postStyleProps.forEach(vi=>Fr.add(vi)),wr!==Re&&qe.add(wr)}),ci(Re,this._triggerName,bt,tn,cn,Pi,he,nr,[...qe.values()],wt,Pt,Yn))}}function Yo(rn,pe){const Re={...pe};return Object.entries(rn).forEach(([bt,tn])=>{null!=tn&&(Re[bt]=tn)}),Re}class Po{constructor(pe,Re,bt){this.styles=pe,this.defaultParams=Re,this.normalizer=bt}buildStyles(pe,Re){const bt=new Map,tn=Yo(pe,this.defaultParams);return this.styles.styles.forEach(An=>{"string"!=typeof An&&An.forEach((Kn,ar)=>{Kn&&(Kn=We(Kn,tn,Re));const Zr=this.normalizer.normalizePropertyName(ar,Re);Kn=this.normalizer.normalizeStyleValue(ar,Zr,Kn,Re),bt.set(ar,Kn)})}),bt}}class as{constructor(pe,Re,bt){this.name=pe,this.ast=Re,this._normalizer=bt,this.transitionFactories=[],this.states=new Map,Re.states.forEach(tn=>{this.states.set(tn.name,new Po(tn.style,tn.options&&tn.options.params||{},bt))}),ts(this.states,"true","1"),ts(this.states,"false","0"),Re.transitions.forEach(tn=>{this.transitionFactories.push(new Ao(pe,tn,this.states))}),this.fallbackTransition=function Cs(rn,pe,Re){return new Ao(rn,{type:f.If.Transition,animation:{type:f.If.Sequence,steps:[],options:null},matchers:[(Kn,ar)=>!0],options:null,queryCount:0,depCount:0},pe)}(pe,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(pe,Re,bt,tn){return this.transitionFactories.find(Kn=>Kn.match(pe,Re,bt,tn))||null}matchStyles(pe,Re,bt){return this.fallbackTransition.buildStyles(pe,Re,bt)}}function ts(rn,pe,Re){rn.has(pe)?rn.has(Re)||rn.set(Re,rn.get(pe)):rn.has(Re)&&rn.set(pe,rn.get(Re))}const Jo=new Tn;class Us{constructor(pe,Re,bt){this.bodyNode=pe,this._driver=Re,this._normalizer=bt,this._animations=new Map,this._playersById=new Map,this.players=[]}register(pe,Re){const bt=[],An=_e(this._driver,Re,bt,[]);if(bt.length)throw function ut(rn){return new r.wOt(3503,!1)}();this._animations.set(pe,An)}_buildPlayer(pe,Re,bt){const tn=pe.element,An=Ze(this._normalizer,pe.keyframes,Re,bt);return this._driver.animate(tn,An,pe.duration,pe.delay,pe.easing,[],!0)}create(pe,Re,bt={}){const tn=[],An=this._animations.get(pe);let Kn;const ar=new Map;if(An?(Kn=hi(this._driver,Re,An,Ke,pt,new Map,new Map,bt,Jo,tn),Kn.forEach(ni=>{const Pr=B(ar,ni.element,new Map);ni.postStyleProps.forEach(mi=>Pr.set(mi,null))})):(tn.push(function Ft(){return new r.wOt(3300,!1)}()),Kn=[]),tn.length)throw function ve(rn){return new r.wOt(3504,!1)}();ar.forEach((ni,Pr)=>{ni.forEach((mi,Wi)=>{ni.set(Wi,this._driver.computeStyle(Pr,Wi,f.kp))})});const si=Ye(Kn.map(ni=>{const Pr=ar.get(ni.element);return this._buildPlayer(ni,new Map,Pr)}));return this._playersById.set(pe,si),si.onDestroy(()=>this.destroy(pe)),this.players.push(si),si}destroy(pe){const Re=this._getPlayer(pe);Re.destroy(),this._playersById.delete(pe);const bt=this.players.indexOf(Re);bt>=0&&this.players.splice(bt,1)}_getPlayer(pe){const Re=this._playersById.get(pe);if(!Re)throw function I(rn){return new r.wOt(3301,!1)}();return Re}listen(pe,Re,bt,tn){const An=P(Re,"","","");return Ot(this._getPlayer(pe),bt,An,tn),()=>{}}command(pe,Re,bt,tn){if("register"==bt)return void this.register(pe,tn[0]);if("create"==bt)return void this.create(pe,Re,tn[0]||{});const An=this._getPlayer(pe);switch(bt){case"play":An.play();break;case"pause":An.pause();break;case"reset":An.reset();break;case"restart":An.restart();break;case"finish":An.finish();break;case"init":An.init();break;case"setPosition":An.setPosition(parseFloat(tn[0]));break;case"destroy":this.destroy(pe)}}}const jn="ng-animate-queued",Vr="ng-animate-disabled",Ni=[],ji={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},co={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lo="__ng_removed";class lo{get params(){return this.options.params}constructor(pe,Re=""){this.namespaceId=Re;const bt=pe&&pe.hasOwnProperty("value");if(this.value=function Ks(rn){return rn??null}(bt?pe.value:pe),bt){const{value:An,...Kn}=pe;this.options=Kn}else this.options={};this.options.params||(this.options.params={})}absorbOptions(pe){const Re=pe.params;if(Re){const bt=this.options.params;Object.keys(Re).forEach(tn=>{null==bt[tn]&&(bt[tn]=Re[tn])})}}}const Qo="void",ta=new lo(Qo);class Ws{constructor(pe,Re,bt){this.id=pe,this.hostElement=Re,this._engine=bt,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+pe,Vs(Re,this._hostClassName)}listen(pe,Re,bt,tn){if(!this._triggers.has(Re))throw function V(rn,pe){return new r.wOt(3302,!1)}();if(null==bt||0==bt.length)throw function ge(rn){return new r.wOt(3303,!1)}();if(!function Aa(rn){return"start"==rn||"done"==rn}(bt))throw function Pe(rn,pe){return new r.wOt(3400,!1)}();const An=B(this._elementListeners,pe,[]),Kn={name:Re,phase:bt,callback:tn};An.push(Kn);const ar=B(this._engine.statesByElement,pe,new Map);return ar.has(Re)||(Vs(pe,Tt),Vs(pe,Tt+"-"+Re),ar.set(Re,ta)),()=>{this._engine.afterFlush(()=>{const Zr=An.indexOf(Kn);Zr>=0&&An.splice(Zr,1),this._triggers.has(Re)||ar.delete(Re)})}}register(pe,Re){return!this._triggers.has(pe)&&(this._triggers.set(pe,Re),!0)}_getTrigger(pe){const Re=this._triggers.get(pe);if(!Re)throw function ke(rn){return new r.wOt(3401,!1)}();return Re}trigger(pe,Re,bt,tn=!0){const An=this._getTrigger(Re),Kn=new Ns(this.id,Re,pe);let ar=this._engine.statesByElement.get(pe);ar||(Vs(pe,Tt),Vs(pe,Tt+"-"+Re),this._engine.statesByElement.set(pe,ar=new Map));let Zr=ar.get(Re);const si=new lo(bt,this.id);if(!(bt&&bt.hasOwnProperty("value"))&&Zr&&si.absorbOptions(Zr.options),ar.set(Re,si),Zr||(Zr=ta),si.value!==Qo&&Zr.value===si.value){if(!function ur(rn,pe){const Re=Object.keys(rn),bt=Object.keys(pe);if(Re.length!=bt.length)return!1;for(let tn=0;tn<Re.length;tn++){const An=Re[tn];if(!pe.hasOwnProperty(An)||rn[An]!==pe[An])return!1}return!0}(Zr.params,si.params)){const xe=[],he=An.matchStyles(Zr.value,Zr.params,xe),qe=An.matchStyles(si.value,si.params,xe);xe.length?this._engine.reportError(xe):this._engine.afterFlush(()=>{Ue(pe,he),Fe(pe,qe)})}return}const mi=B(this._engine.playersByElement,pe,[]);mi.forEach(xe=>{xe.namespaceId==this.id&&xe.triggerName==Re&&xe.queued&&xe.destroy()});let Wi=An.matchTransition(Zr.value,si.value,pe,si.params),Pi=!1;if(!Wi){if(!tn)return;Wi=An.fallbackTransition,Pi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:pe,triggerName:Re,transition:Wi,fromState:Zr,toState:si,player:Kn,isFallbackTransition:Pi}),Pi||(Vs(pe,jn),Kn.onStart(()=>{ds(pe,jn)})),Kn.onDone(()=>{let xe=this.players.indexOf(Kn);xe>=0&&this.players.splice(xe,1);const he=this._engine.playersByElement.get(pe);if(he){let qe=he.indexOf(Kn);qe>=0&&he.splice(qe,1)}}),this.players.push(Kn),mi.push(Kn),Kn}deregister(pe){this._triggers.delete(pe),this._engine.statesByElement.forEach(Re=>Re.delete(pe)),this._elementListeners.forEach((Re,bt)=>{this._elementListeners.set(bt,Re.filter(tn=>tn.name!=pe))})}clearElementCache(pe){this._engine.statesByElement.delete(pe),this._elementListeners.delete(pe);const Re=this._engine.playersByElement.get(pe);Re&&(Re.forEach(bt=>bt.destroy()),this._engine.playersByElement.delete(pe))}_signalRemovalForInnerTriggers(pe,Re){const bt=this._engine.driver.query(pe,$e,!0);bt.forEach(tn=>{if(tn[Lo])return;const An=this._engine.fetchNamespacesByElement(tn);An.size?An.forEach(Kn=>Kn.triggerLeaveAnimation(tn,Re,!1,!0)):this.clearElementCache(tn)}),this._engine.afterFlushAnimationsDone(()=>bt.forEach(tn=>this.clearElementCache(tn)))}triggerLeaveAnimation(pe,Re,bt,tn){const An=this._engine.statesByElement.get(pe),Kn=new Map;if(An){const ar=[];if(An.forEach((Zr,si)=>{if(Kn.set(si,Zr.value),this._triggers.has(si)){const ni=this.trigger(pe,si,Qo,tn);ni&&ar.push(ni)}}),ar.length)return this._engine.markElementAsRemoved(this.id,pe,!0,Re,Kn),bt&&Ye(ar).onDone(()=>this._engine.processLeaveNode(pe)),!0}return!1}prepareLeaveAnimationListeners(pe){const Re=this._elementListeners.get(pe),bt=this._engine.statesByElement.get(pe);if(Re&&bt){const tn=new Set;Re.forEach(An=>{const Kn=An.name;if(tn.has(Kn))return;tn.add(Kn);const Zr=this._triggers.get(Kn).fallbackTransition,si=bt.get(Kn)||ta,ni=new lo(Qo),Pr=new Ns(this.id,Kn,pe);this._engine.totalQueuedPlayers++,this._queue.push({element:pe,triggerName:Kn,transition:Zr,fromState:si,toState:ni,player:Pr,isFallbackTransition:!0})})}}removeNode(pe,Re){const bt=this._engine;if(pe.childElementCount&&this._signalRemovalForInnerTriggers(pe,Re),this.triggerLeaveAnimation(pe,Re,!0))return;let tn=!1;if(bt.totalAnimations){const An=bt.players.length?bt.playersByQueriedElement.get(pe):[];if(An&&An.length)tn=!0;else{let Kn=pe;for(;Kn=Kn.parentNode;)if(bt.statesByElement.get(Kn)){tn=!0;break}}}if(this.prepareLeaveAnimationListeners(pe),tn)bt.markElementAsRemoved(this.id,pe,!1,Re);else{const An=pe[Lo];(!An||An===ji)&&(bt.afterFlush(()=>this.clearElementCache(pe)),bt.destroyInnerAnimations(pe),bt._onRemovalComplete(pe,Re))}}insertNode(pe,Re){Vs(pe,this._hostClassName)}drainQueuedTransitions(pe){const Re=[];return this._queue.forEach(bt=>{const tn=bt.player;if(tn.destroyed)return;const An=bt.element,Kn=this._elementListeners.get(An);Kn&&Kn.forEach(ar=>{if(ar.name==bt.triggerName){const Zr=P(An,bt.triggerName,bt.fromState.value,bt.toState.value);Zr._data=pe,Ot(bt.player,ar.phase,Zr,ar.callback)}}),tn.markedForDestroy?this._engine.afterFlush(()=>{tn.destroy()}):Re.push(bt)}),this._queue=[],Re.sort((bt,tn)=>{const An=bt.transition.ast.depCount,Kn=tn.transition.ast.depCount;return 0==An||0==Kn?An-Kn:this._engine.driver.containsElement(bt.element,tn.element)?1:-1})}destroy(pe){this.players.forEach(Re=>Re.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,pe)}}class cs{_onRemovalComplete(pe,Re){this.onRemovalComplete(pe,Re)}constructor(pe,Re,bt,tn){this.bodyNode=pe,this.driver=Re,this._normalizer=bt,this.scheduler=tn,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(An,Kn)=>{}}get queuedPlayers(){const pe=[];return this._namespaceList.forEach(Re=>{Re.players.forEach(bt=>{bt.queued&&pe.push(bt)})}),pe}createNamespace(pe,Re){const bt=new Ws(pe,Re,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,Re)?this._balanceNamespaceList(bt,Re):(this.newHostElements.set(Re,bt),this.collectEnterElement(Re)),this._namespaceLookup[pe]=bt}_balanceNamespaceList(pe,Re){const bt=this._namespaceList,tn=this.namespacesByHostElement;if(bt.length-1>=0){let Kn=!1,ar=this.driver.getParentElement(Re);for(;ar;){const Zr=tn.get(ar);if(Zr){const si=bt.indexOf(Zr);bt.splice(si+1,0,pe),Kn=!0;break}ar=this.driver.getParentElement(ar)}Kn||bt.unshift(pe)}else bt.push(pe);return tn.set(Re,pe),pe}register(pe,Re){let bt=this._namespaceLookup[pe];return bt||(bt=this.createNamespace(pe,Re)),bt}registerTrigger(pe,Re,bt){let tn=this._namespaceLookup[pe];tn&&tn.register(Re,bt)&&this.totalAnimations++}destroy(pe,Re){pe&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const bt=this._fetchNamespace(pe);this.namespacesByHostElement.delete(bt.hostElement);const tn=this._namespaceList.indexOf(bt);tn>=0&&this._namespaceList.splice(tn,1),bt.destroy(Re),delete this._namespaceLookup[pe]}))}_fetchNamespace(pe){return this._namespaceLookup[pe]}fetchNamespacesByElement(pe){const Re=new Set,bt=this.statesByElement.get(pe);if(bt)for(let tn of bt.values())if(tn.namespaceId){const An=this._fetchNamespace(tn.namespaceId);An&&Re.add(An)}return Re}trigger(pe,Re,bt,tn){if(Go(Re)){const An=this._fetchNamespace(pe);if(An)return An.trigger(Re,bt,tn),!0}return!1}insertNode(pe,Re,bt,tn){if(!Go(Re))return;const An=Re[Lo];if(An&&An.setForRemoval){An.setForRemoval=!1,An.setForMove=!0;const Kn=this.collectedLeaveElements.indexOf(Re);Kn>=0&&this.collectedLeaveElements.splice(Kn,1)}if(pe){const Kn=this._fetchNamespace(pe);Kn&&Kn.insertNode(Re,bt)}tn&&this.collectEnterElement(Re)}collectEnterElement(pe){this.collectedEnterElements.push(pe)}markElementAsDisabled(pe,Re){Re?this.disabledNodes.has(pe)||(this.disabledNodes.add(pe),Vs(pe,Vr)):this.disabledNodes.has(pe)&&(this.disabledNodes.delete(pe),ds(pe,Vr))}removeNode(pe,Re,bt){if(Go(Re)){this.scheduler?.notify();const tn=pe?this._fetchNamespace(pe):null;tn?tn.removeNode(Re,bt):this.markElementAsRemoved(pe,Re,!1,bt);const An=this.namespacesByHostElement.get(Re);An&&An.id!==pe&&An.removeNode(Re,bt)}else this._onRemovalComplete(Re,bt)}markElementAsRemoved(pe,Re,bt,tn,An){this.collectedLeaveElements.push(Re),Re[Lo]={namespaceId:pe,setForRemoval:tn,hasAnimation:bt,removedBeforeQueried:!1,previousTriggersValues:An}}listen(pe,Re,bt,tn,An){return Go(Re)?this._fetchNamespace(pe).listen(Re,bt,tn,An):()=>{}}_buildInstruction(pe,Re,bt,tn,An){return pe.transition.build(this.driver,pe.element,pe.fromState.value,pe.toState.value,bt,tn,pe.fromState.options,pe.toState.options,Re,An)}destroyInnerAnimations(pe){let Re=this.driver.query(pe,$e,!0);Re.forEach(bt=>this.destroyActiveAnimationsForElement(bt)),0!=this.playersByQueriedElement.size&&(Re=this.driver.query(pe,Xt,!0),Re.forEach(bt=>this.finishActiveQueriedAnimationOnElement(bt)))}destroyActiveAnimationsForElement(pe){const Re=this.playersByElement.get(pe);Re&&Re.forEach(bt=>{bt.queued?bt.markedForDestroy=!0:bt.destroy()})}finishActiveQueriedAnimationOnElement(pe){const Re=this.playersByQueriedElement.get(pe);Re&&Re.forEach(bt=>bt.finish())}whenRenderingDone(){return new Promise(pe=>{if(this.players.length)return Ye(this.players).onDone(()=>pe());pe()})}processLeaveNode(pe){const Re=pe[Lo];if(Re&&Re.setForRemoval){if(pe[Lo]=ji,Re.namespaceId){this.destroyInnerAnimations(pe);const bt=this._fetchNamespace(Re.namespaceId);bt&&bt.clearElementCache(pe)}this._onRemovalComplete(pe,Re.setForRemoval)}pe.classList?.contains(Vr)&&this.markElementAsDisabled(pe,!1),this.driver.query(pe,".ng-animate-disabled",!0).forEach(bt=>{this.markElementAsDisabled(bt,!1)})}flush(pe=-1){let Re=[];if(this.newHostElements.size&&(this.newHostElements.forEach((bt,tn)=>this._balanceNamespaceList(bt,tn)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let bt=0;bt<this.collectedEnterElements.length;bt++)Vs(this.collectedEnterElements[bt],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const bt=[];try{Re=this._flushAnimations(bt,pe)}finally{for(let tn=0;tn<bt.length;tn++)bt[tn]()}}else for(let bt=0;bt<this.collectedLeaveElements.length;bt++)this.processLeaveNode(this.collectedLeaveElements[bt]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(bt=>bt()),this._flushFns=[],this._whenQuietFns.length){const bt=this._whenQuietFns;this._whenQuietFns=[],Re.length?Ye(Re).onDone(()=>{bt.forEach(tn=>tn())}):bt.forEach(tn=>tn())}}reportError(pe){throw function xt(rn){return new r.wOt(3402,!1)}()}_flushAnimations(pe,Re){const bt=new Tn,tn=[],An=new Map,Kn=[],ar=new Map,Zr=new Map,si=new Map,ni=new Set;this.disabledNodes.forEach(wn=>{ni.add(wn);const er=this.driver.query(wn,".ng-animate-queued",!0);for(let Ur=0;Ur<er.length;Ur++)ni.add(er[Ur])});const Pr=this.bodyNode,mi=Array.from(this.statesByElement.keys()),Wi=Fs(mi,this.collectedEnterElements),Pi=new Map;let xe=0;Wi.forEach((wn,er)=>{const Ur=Ke+xe++;Pi.set(er,Ur),wn.forEach(gi=>Vs(gi,Ur))});const he=[],qe=new Set,wt=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const er=this.collectedLeaveElements[wn],Ur=er[Lo];Ur&&Ur.setForRemoval&&(he.push(er),qe.add(er),Ur.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(gi=>qe.add(gi)):wt.add(er))}const Pt=new Map,cn=Fs(mi,Array.from(qe));cn.forEach((wn,er)=>{const Ur=pt+xe++;Pt.set(er,Ur),wn.forEach(gi=>Vs(gi,Ur))}),pe.push(()=>{Wi.forEach((wn,er)=>{const Ur=Pi.get(er);wn.forEach(gi=>ds(gi,Ur))}),cn.forEach((wn,er)=>{const Ur=Pt.get(er);wn.forEach(gi=>ds(gi,Ur))}),he.forEach(wn=>{this.processLeaveNode(wn)})});const xn=[],nr=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(Re).forEach(Ur=>{const gi=Ur.player,Fi=Ur.element;if(xn.push(gi),this.collectedEnterElements.length){const qo=Fi[Lo];if(qo&&qo.setForMove){if(qo.previousTriggersValues&&qo.previousTriggersValues.has(Ur.triggerName)){const js=qo.previousTriggersValues.get(Ur.triggerName),Te=this.statesByElement.get(Ur.element);if(Te&&Te.has(Ur.triggerName)){const et=Te.get(Ur.triggerName);et.value=js,Te.set(Ur.triggerName,et)}}return void gi.destroy()}}const Si=!Pr||!this.driver.containsElement(Pr,Fi),Xi=Pt.get(Fi),zo=Pi.get(Fi),ki=this._buildInstruction(Ur,bt,zo,Xi,Si);if(ki.errors&&ki.errors.length)return void nr.push(ki);if(Si)return gi.onStart(()=>Ue(Fi,ki.fromStyles)),gi.onDestroy(()=>Fe(Fi,ki.toStyles)),void tn.push(gi);if(Ur.isFallbackTransition)return gi.onStart(()=>Ue(Fi,ki.fromStyles)),gi.onDestroy(()=>Fe(Fi,ki.toStyles)),void tn.push(gi);const As=[];ki.timelines.forEach(qo=>{qo.stretchStartingKeyframe=!0,this.disabledNodes.has(qo.element)||As.push(qo)}),ki.timelines=As,bt.append(Fi,ki.timelines),Kn.push({instruction:ki,player:gi,element:Fi}),ki.queriedElements.forEach(qo=>B(ar,qo,[]).push(gi)),ki.preStyleProps.forEach((qo,js)=>{if(qo.size){let Te=Zr.get(js);Te||Zr.set(js,Te=new Set),qo.forEach((et,ht)=>Te.add(ht))}}),ki.postStyleProps.forEach((qo,js)=>{let Te=si.get(js);Te||si.set(js,Te=new Set),qo.forEach((et,ht)=>Te.add(ht))})});if(nr.length){const wn=[];nr.forEach(er=>{wn.push(function ln(rn,pe){return new r.wOt(3505,!1)}())}),xn.forEach(er=>er.destroy()),this.reportError(wn)}const Yn=new Map,kr=new Map;Kn.forEach(wn=>{const er=wn.element;bt.has(er)&&(kr.set(er,er),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,Yn))}),tn.forEach(wn=>{const er=wn.element;this._getPreviousPlayers(er,!1,wn.namespaceId,wn.triggerName,null).forEach(gi=>{B(Yn,er,[]).push(gi),gi.destroy()})});const wr=he.filter(wn=>Ar(wn,Zr,si)),Lr=new Map;Ko(Lr,this.driver,wt,si,f.kp).forEach(wn=>{Ar(wn,Zr,si)&&wr.push(wn)});const vi=new Map;Wi.forEach((wn,er)=>{Ko(vi,this.driver,new Set(wn),Zr,f.FX)}),wr.forEach(wn=>{const er=Lr.get(wn),Ur=vi.get(wn);Lr.set(wn,new Map([...er?.entries()??[],...Ur?.entries()??[]]))});const Hi=[],Fn=[],lr={};Kn.forEach(wn=>{const{element:er,player:Ur,instruction:gi}=wn;if(bt.has(er)){if(ni.has(er))return Ur.onDestroy(()=>Fe(er,gi.toStyles)),Ur.disabled=!0,Ur.overrideTotalTime(gi.totalTime),void tn.push(Ur);let Fi=lr;if(kr.size>1){let Xi=er;const zo=[];for(;Xi=Xi.parentNode;){const ki=kr.get(Xi);if(ki){Fi=ki;break}zo.push(Xi)}zo.forEach(ki=>kr.set(ki,Fi))}const Si=this._buildAnimation(Ur.namespaceId,gi,Yn,An,vi,Lr);if(Ur.setRealPlayer(Si),Fi===lr)Hi.push(Ur);else{const Xi=this.playersByElement.get(Fi);Xi&&Xi.length&&(Ur.parentPlayer=Ye(Xi)),tn.push(Ur)}}else Ue(er,gi.fromStyles),Ur.onDestroy(()=>Fe(er,gi.toStyles)),Fn.push(Ur),ni.has(er)&&tn.push(Ur)}),Fn.forEach(wn=>{const er=An.get(wn.element);if(er&&er.length){const Ur=Ye(er);wn.setRealPlayer(Ur)}}),tn.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<he.length;wn++){const er=he[wn],Ur=er[Lo];if(ds(er,pt),Ur&&Ur.hasAnimation)continue;let gi=[];if(ar.size){let Si=ar.get(er);Si&&Si.length&&gi.push(...Si);let Xi=this.driver.query(er,Xt,!0);for(let zo=0;zo<Xi.length;zo++){let ki=ar.get(Xi[zo]);ki&&ki.length&&gi.push(...ki)}}const Fi=gi.filter(Si=>!Si.destroyed);Fi.length?Xs(this,er,Fi):this.processLeaveNode(er)}return he.length=0,Hi.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const er=this.players.indexOf(wn);this.players.splice(er,1)}),wn.play()}),Hi}afterFlush(pe){this._flushFns.push(pe)}afterFlushAnimationsDone(pe){this._whenQuietFns.push(pe)}_getPreviousPlayers(pe,Re,bt,tn,An){let Kn=[];if(Re){const ar=this.playersByQueriedElement.get(pe);ar&&(Kn=ar)}else{const ar=this.playersByElement.get(pe);if(ar){const Zr=!An||An==Qo;ar.forEach(si=>{si.queued||!Zr&&si.triggerName!=tn||Kn.push(si)})}}return(bt||tn)&&(Kn=Kn.filter(ar=>!(bt&&bt!=ar.namespaceId||tn&&tn!=ar.triggerName))),Kn}_beforeAnimationBuild(pe,Re,bt){const An=Re.element,Kn=Re.isRemovalTransition?void 0:pe,ar=Re.isRemovalTransition?void 0:Re.triggerName;for(const Zr of Re.timelines){const si=Zr.element,ni=si!==An,Pr=B(bt,si,[]);this._getPreviousPlayers(si,ni,Kn,ar,Re.toState).forEach(Wi=>{const Pi=Wi.getRealPlayer();Pi.beforeDestroy&&Pi.beforeDestroy(),Wi.destroy(),Pr.push(Wi)})}Ue(An,Re.fromStyles)}_buildAnimation(pe,Re,bt,tn,An,Kn){const ar=Re.triggerName,Zr=Re.element,si=[],ni=new Set,Pr=new Set,mi=Re.timelines.map(Pi=>{const xe=Pi.element;ni.add(xe);const he=xe[Lo];if(he&&he.removedBeforeQueried)return new f.sf(Pi.duration,Pi.delay);const qe=xe!==Zr,wt=function Jn(rn){const pe=[];return rr(rn,pe),pe}((bt.get(xe)||Ni).map(Yn=>Yn.getRealPlayer())).filter(Yn=>!!Yn.element&&Yn.element===xe),Pt=An.get(xe),cn=Kn.get(xe),xn=Ze(this._normalizer,Pi.keyframes,Pt,cn),nr=this._buildPlayer(Pi,xn,wt);if(Pi.subTimeline&&tn&&Pr.add(xe),qe){const Yn=new Ns(pe,ar,xe);Yn.setRealPlayer(nr),si.push(Yn)}return nr});si.forEach(Pi=>{B(this.playersByQueriedElement,Pi.element,[]).push(Pi),Pi.onDone(()=>function ns(rn,pe,Re){let bt=rn.get(pe);if(bt){if(bt.length){const tn=bt.indexOf(Re);bt.splice(tn,1)}0==bt.length&&rn.delete(pe)}return bt}(this.playersByQueriedElement,Pi.element,Pi))}),ni.forEach(Pi=>Vs(Pi,Lt));const Wi=Ye(mi);return Wi.onDestroy(()=>{ni.forEach(Pi=>ds(Pi,Lt)),Fe(Zr,Re.toStyles)}),Pr.forEach(Pi=>{B(tn,Pi,[]).push(Wi)}),Wi}_buildPlayer(pe,Re,bt){return Re.length>0?this.driver.animate(pe.element,Re,pe.duration,pe.delay,pe.easing,bt):new f.sf(pe.duration,pe.delay)}}class Ns{constructor(pe,Re,bt){this.namespaceId=pe,this.triggerName=Re,this.element=bt,this._player=new f.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(pe){this._containsRealPlayer||(this._player=pe,this._queuedCallbacks.forEach((Re,bt)=>{Re.forEach(tn=>Ot(pe,bt,void 0,tn))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(pe.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(pe){this.totalTime=pe}syncPlayerEvents(pe){const Re=this._player;Re.triggerCallback&&pe.onStart(()=>Re.triggerCallback("start")),pe.onDone(()=>this.finish()),pe.onDestroy(()=>this.destroy())}_queueEvent(pe,Re){B(this._queuedCallbacks,pe,[]).push(Re)}onDone(pe){this.queued&&this._queueEvent("done",pe),this._player.onDone(pe)}onStart(pe){this.queued&&this._queueEvent("start",pe),this._player.onStart(pe)}onDestroy(pe){this.queued&&this._queueEvent("destroy",pe),this._player.onDestroy(pe)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(pe){this.queued||this._player.setPosition(pe)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(pe){const Re=this._player;Re.triggerCallback&&Re.triggerCallback(pe)}}function Go(rn){return rn&&1===rn.nodeType}function oa(rn,pe){const Re=rn.style.display;return rn.style.display=pe??"none",Re}function Ko(rn,pe,Re,bt,tn){const An=[];Re.forEach(Zr=>An.push(oa(Zr)));const Kn=[];bt.forEach((Zr,si)=>{const ni=new Map;Zr.forEach(Pr=>{const mi=pe.computeStyle(si,Pr,tn);ni.set(Pr,mi),(!mi||0==mi.length)&&(si[Lo]=co,Kn.push(si))}),rn.set(si,ni)});let ar=0;return Re.forEach(Zr=>oa(Zr,An[ar++])),Kn}function Fs(rn,pe){const Re=new Map;if(rn.forEach(ar=>Re.set(ar,[])),0==pe.length)return Re;const tn=new Set(pe),An=new Map;function Kn(ar){if(!ar)return 1;let Zr=An.get(ar);if(Zr)return Zr;const si=ar.parentNode;return Zr=Re.has(si)?si:tn.has(si)?1:Kn(si),An.set(ar,Zr),Zr}return pe.forEach(ar=>{const Zr=Kn(ar);1!==Zr&&Re.get(Zr).push(ar)}),Re}function Vs(rn,pe){rn.classList?.add(pe)}function ds(rn,pe){rn.classList?.remove(pe)}function Xs(rn,pe,Re){Ye(Re).onDone(()=>rn.processLeaveNode(pe))}function rr(rn,pe){for(let Re=0;Re<rn.length;Re++){const bt=rn[Re];bt instanceof f.ui?rr(bt.players,pe):pe.push(bt)}}function Ar(rn,pe,Re){const bt=Re.get(rn);if(!bt)return!1;let tn=pe.get(rn);return tn?bt.forEach(An=>tn.add(An)):pe.set(rn,bt),Re.delete(rn),!0}class Di{constructor(pe,Re,bt,tn){this._driver=Re,this._normalizer=bt,this._triggerCache={},this.onRemovalComplete=(An,Kn)=>{},this._transitionEngine=new cs(pe.body,Re,bt,tn),this._timelineEngine=new Us(pe.body,Re,bt),this._transitionEngine.onRemovalComplete=(An,Kn)=>this.onRemovalComplete(An,Kn)}registerTrigger(pe,Re,bt,tn,An){const Kn=pe+"-"+tn;let ar=this._triggerCache[Kn];if(!ar){const Zr=[],ni=_e(this._driver,An,Zr,[]);if(Zr.length)throw function nt(rn,pe){return new r.wOt(3404,!1)}();ar=function ss(rn,pe,Re){return new as(rn,pe,Re)}(tn,ni,this._normalizer),this._triggerCache[Kn]=ar}this._transitionEngine.registerTrigger(Re,tn,ar)}register(pe,Re){this._transitionEngine.register(pe,Re)}destroy(pe,Re){this._transitionEngine.destroy(pe,Re)}onInsert(pe,Re,bt,tn){this._transitionEngine.insertNode(pe,Re,bt,tn)}onRemove(pe,Re,bt){this._transitionEngine.removeNode(pe,Re,bt)}disableAnimations(pe,Re){this._transitionEngine.markElementAsDisabled(pe,Re)}process(pe,Re,bt,tn){if("@"==bt.charAt(0)){const[An,Kn]=R(bt);this._timelineEngine.command(An,Re,Kn,tn)}else this._transitionEngine.trigger(pe,Re,bt,tn)}listen(pe,Re,bt,tn,An){if("@"==bt.charAt(0)){const[Kn,ar]=R(bt);return this._timelineEngine.listen(Kn,Re,ar,An)}return this._transitionEngine.listen(pe,Re,bt,tn,An)}flush(pe=-1){this._transitionEngine.flush(pe)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(pe){this._transitionEngine.afterFlushAnimationsDone(pe)}}class mn{constructor(pe,Re,bt){this._element=pe,this._startStyles=Re,this._endStyles=bt,this._state=0;let tn=mn.initialStylesByElement.get(pe);tn||mn.initialStylesByElement.set(pe,tn=new Map),this._initialStyles=tn}start(){this._state<1&&(this._startStyles&&Fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fe(this._element,this._initialStyles),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mn.initialStylesByElement.delete(this._element),this._startStyles&&(Ue(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ue(this._element,this._endStyles),this._endStyles=null),Fe(this._element,this._initialStyles),this._state=3)}}function Ut(rn){let pe=null;return rn.forEach((Re,bt)=>{(function dn(rn){return"display"===rn||"position"===rn})(bt)&&(pe=pe||new Map,pe.set(bt,Re))}),pe}mn.initialStylesByElement=new WeakMap;class Xe{constructor(pe,Re,bt,tn){this.element=pe,this.keyframes=Re,this.options=bt,this._specialStyles=tn,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=bt.duration,this._delay=bt.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const pe=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,pe,this.options),this._finalKeyframe=pe.length?pe[pe.length-1]:new Map;const Re=()=>this._onFinish();this.domPlayer.addEventListener("finish",Re),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",Re)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(pe){const Re=[];return pe.forEach(bt=>{Re.push(Object.fromEntries(bt))}),Re}_triggerWebAnimation(pe,Re,bt){return pe.animate(this._convertKeyframesToObject(Re),bt)}onStart(pe){this._originalOnStartFns.push(pe),this._onStartFns.push(pe)}onDone(pe){this._originalOnDoneFns.push(pe),this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(pe=>pe()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}setPosition(pe){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=pe*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const pe=new Map;this.hasStarted()&&this._finalKeyframe.forEach((bt,tn)=>{"offset"!==tn&&pe.set(tn,this._finished?bt:Er(this.element,tn))}),this.currentSnapshot=pe}triggerCallback(pe){const Re="start"===pe?this._onStartFns:this._onDoneFns;Re.forEach(bt=>bt()),Re.length=0}}class Rt{validateStyleProperty(pe){return!0}validateAnimatableStyleProperty(pe){return!0}matchesElement(pe,Re){return!1}containsElement(pe,Re){return oe(pe,Re)}getParentElement(pe){return Y(pe)}query(pe,Re,bt){return He(pe,Re,bt)}computeStyle(pe,Re,bt){return Er(pe,Re)}animate(pe,Re,bt,tn,An,Kn=[]){const Zr={duration:bt,delay:tn,fill:0==tn?"both":"forwards"};An&&(Zr.easing=An);const si=new Map,ni=Kn.filter(Wi=>Wi instanceof Xe);(function vr(rn,pe){return 0===rn||0===pe})(bt,tn)&&ni.forEach(Wi=>{Wi.currentSnapshot.forEach((Pi,xe)=>si.set(xe,Pi))});let Pr=function sn(rn){return rn.length?rn[0]instanceof Map?rn:rn.map(pe=>new Map(Object.entries(pe))):[]}(Re).map(Wi=>new Map(Wi));Pr=function Cn(rn,pe,Re){if(Re.size&&pe.length){let bt=pe[0],tn=[];if(Re.forEach((An,Kn)=>{bt.has(Kn)||tn.push(Kn),bt.set(Kn,An)}),tn.length)for(let An=1;An<pe.length;An++){let Kn=pe[An];tn.forEach(ar=>Kn.set(ar,Er(rn,ar)))}}return pe}(pe,Pr,si);const mi=function mt(rn,pe){let Re=null,bt=null;return Array.isArray(pe)&&pe.length?(Re=Ut(pe[0]),pe.length>1&&(bt=Ut(pe[pe.length-1]))):pe instanceof Map&&(Re=Ut(pe)),Re||bt?new mn(rn,Re,bt):null}(pe,Pr);return new Xe(pe,Pr,Zr,mi)}}const mr="@.disabled";class $r{constructor(pe,Re,bt,tn){this.namespaceId=pe,this.delegate=Re,this.engine=bt,this._onDestroy=tn,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(pe){this.delegate.destroyNode?.(pe)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(pe,Re){return this.delegate.createElement(pe,Re)}createComment(pe){return this.delegate.createComment(pe)}createText(pe){return this.delegate.createText(pe)}appendChild(pe,Re){this.delegate.appendChild(pe,Re),this.engine.onInsert(this.namespaceId,Re,pe,!1)}insertBefore(pe,Re,bt,tn=!0){this.delegate.insertBefore(pe,Re,bt),this.engine.onInsert(this.namespaceId,Re,pe,tn)}removeChild(pe,Re,bt){this.engine.onRemove(this.namespaceId,Re,this.delegate)}selectRootElement(pe,Re){return this.delegate.selectRootElement(pe,Re)}parentNode(pe){return this.delegate.parentNode(pe)}nextSibling(pe){return this.delegate.nextSibling(pe)}setAttribute(pe,Re,bt,tn){this.delegate.setAttribute(pe,Re,bt,tn)}removeAttribute(pe,Re,bt){this.delegate.removeAttribute(pe,Re,bt)}addClass(pe,Re){this.delegate.addClass(pe,Re)}removeClass(pe,Re){this.delegate.removeClass(pe,Re)}setStyle(pe,Re,bt,tn){this.delegate.setStyle(pe,Re,bt,tn)}removeStyle(pe,Re,bt){this.delegate.removeStyle(pe,Re,bt)}setProperty(pe,Re,bt){"@"==Re.charAt(0)&&Re==mr?this.disableAnimations(pe,!!bt):this.delegate.setProperty(pe,Re,bt)}setValue(pe,Re){this.delegate.setValue(pe,Re)}listen(pe,Re,bt){return this.delegate.listen(pe,Re,bt)}disableAnimations(pe,Re){this.engine.disableAnimations(pe,Re)}}class jr extends $r{constructor(pe,Re,bt,tn,An){super(Re,bt,tn,An),this.factory=pe,this.namespaceId=Re}setProperty(pe,Re,bt){"@"==Re.charAt(0)?"."==Re.charAt(1)&&Re==mr?this.disableAnimations(pe,bt=void 0===bt||!!bt):this.engine.process(this.namespaceId,pe,Re.slice(1),bt):this.delegate.setProperty(pe,Re,bt)}listen(pe,Re,bt){if("@"==Re.charAt(0)){const tn=function li(rn){switch(rn){case"body":return document.body;case"document":return document;case"window":return window;default:return rn}}(pe);let An=Re.slice(1),Kn="";return"@"!=An.charAt(0)&&([An,Kn]=function Wr(rn){const pe=rn.indexOf(".");return[rn.substring(0,pe),rn.slice(pe+1)]}(An)),this.engine.listen(this.namespaceId,tn,An,Kn,ar=>{this.factory.scheduleListenerCallback(ar._data||-1,bt,ar)})}return this.delegate.listen(pe,Re,bt)}}class eo{constructor(pe,Re,bt){this.delegate=pe,this.engine=Re,this._zone=bt,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,Re.onRemovalComplete=(tn,An)=>{const Kn=An?.parentNode(tn);Kn&&An.removeChild(Kn,tn)}}createRenderer(pe,Re){const tn=this.delegate.createRenderer(pe,Re);if(!pe||!Re?.data?.animation){const si=this._rendererCache;let ni=si.get(tn);return ni||(ni=new $r("",tn,this.engine,()=>si.delete(tn)),si.set(tn,ni)),ni}const An=Re.id,Kn=Re.id+"-"+this._currentId;this._currentId++,this.engine.register(Kn,pe);const ar=si=>{Array.isArray(si)?si.forEach(ar):this.engine.registerTrigger(An,Kn,pe,si.name,si)};return Re.data.animation.forEach(ar),new jr(this,Kn,tn,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(pe,Re,bt){if(pe>=0&&pe<this._microtaskId)return void this._zone.run(()=>Re(bt));const tn=this._animationCallbacksBuffer;0==tn.length&&queueMicrotask(()=>{this._zone.run(()=>{tn.forEach(An=>{const[Kn,ar]=An;Kn(ar)}),this._animationCallbacksBuffer=[]})}),tn.push([Re,bt])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var yo=w(177);const ce=[{provide:Ge,useFactory:function tt(){return new sr}},{provide:Di,useClass:(()=>{var rn;class pe extends Di{constructor(bt,tn,An){super(bt,tn,An,(0,r.WQX)(r.An2,{optional:!0}))}ngOnDestroy(){this.flush()}}return(rn=pe).\u0275fac=function(bt){return new(bt||rn)(r.KVO(yo.qQ),r.KVO(It),r.KVO(Ge))},rn.\u0275prov=r.jDH({token:rn,factory:rn.\u0275fac}),pe})()},{provide:r._9s,useFactory:function re(rn,pe,Re){return new eo(rn,pe,Re)},deps:[x.B7,Di,r.SKi]}],Je=[{provide:It,useFactory:()=>new Rt},{provide:r.bc$,useValue:"BrowserAnimations"},...ce],Le=[{provide:It,useClass:ft},{provide:r.bc$,useValue:"NoopAnimations"},...ce];let Wt=(()=>{var rn;class pe{static withConfig(bt){return{ngModule:pe,providers:bt.disableAnimations?Le:Je}}}return(rn=pe).\u0275fac=function(bt){return new(bt||rn)},rn.\u0275mod=r.$C({type:rn}),rn.\u0275inj=r.G2t({providers:Je,imports:[x.Bb]}),pe})()},345:(en,ot,w)=>{"use strict";w.d(ot,{B7:()=>Q,Bb:()=>R,hE:()=>h,sG:()=>Ot,up:()=>Qt});var r=w(4438),x=w(177);class f extends x.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b extends f{static makeCurrent(){(0,x.ZD)(new b)}onAndCancel(St,Fe,Ue){return St.addEventListener(Fe,Ue),()=>{St.removeEventListener(Fe,Ue)}}dispatchEvent(St,Fe){St.dispatchEvent(Fe)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,Fe){return(Fe=Fe||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,Fe){return"window"===Fe?window:"document"===Fe?St:"body"===Fe?St.body:null}getBaseHref(St){const Fe=function C(){return E=E||document.querySelector("base"),E?E.getAttribute("href"):null}();return null==Fe?null:function u(sn){return new URL(sn,document.baseURI).pathname}(Fe)}resetBaseElement(){E=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,x._b)(document.cookie,St)}}let E=null,S=(()=>{var sn;class St{build(){return new XMLHttpRequest}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac}),St})();const U=new r.nKC("");let O=(()=>{var sn;class St{constructor(Ue,Ce){this._zone=Ce,this._eventNameToPlugin=new Map,Ue.forEach(me=>{me.manager=this}),this._plugins=Ue.slice().reverse()}addEventListener(Ue,Ce,me){return this._findPluginFor(Ce).addEventListener(Ue,Ce,me)}getZone(){return this._zone}_findPluginFor(Ue){let Ce=this._eventNameToPlugin.get(Ue);if(Ce)return Ce;if(Ce=this._plugins.find(it=>it.supports(Ue)),!Ce)throw new r.wOt(5101,!1);return this._eventNameToPlugin.set(Ue,Ce),Ce}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(U),r.KVO(r.SKi))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac}),St})();class y{constructor(St){this._doc=St}}const _="ng-app-id";let D=(()=>{var sn;class St{constructor(Ue,Ce,me,it={}){this.doc=Ue,this.appId=Ce,this.nonce=me,this.platformId=it,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,x.Vy)(it),this.resetHostNodes()}addStyles(Ue){for(const Ce of Ue)1===this.changeUsageCount(Ce,1)&&this.onStyleAdded(Ce)}removeStyles(Ue){for(const Ce of Ue)this.changeUsageCount(Ce,-1)<=0&&this.onStyleRemoved(Ce)}ngOnDestroy(){const Ue=this.styleNodesInDOM;Ue&&(Ue.forEach(Ce=>Ce.remove()),Ue.clear());for(const Ce of this.getAllStyles())this.onStyleRemoved(Ce);this.resetHostNodes()}addHost(Ue){this.hostNodes.add(Ue);for(const Ce of this.getAllStyles())this.addStyleToHost(Ue,Ce)}removeHost(Ue){this.hostNodes.delete(Ue)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ue){for(const Ce of this.hostNodes)this.addStyleToHost(Ce,Ue)}onStyleRemoved(Ue){const Ce=this.styleRef;Ce.get(Ue)?.elements?.forEach(me=>me.remove()),Ce.delete(Ue)}collectServerRenderedStyles(){const Ue=this.doc.head?.querySelectorAll(`style[${_}="${this.appId}"]`);if(Ue?.length){const Ce=new Map;return Ue.forEach(me=>{null!=me.textContent&&Ce.set(me.textContent,me)}),Ce}return null}changeUsageCount(Ue,Ce){const me=this.styleRef;if(me.has(Ue)){const it=me.get(Ue);return it.usage+=Ce,it.usage}return me.set(Ue,{usage:Ce,elements:[]}),Ce}getStyleElement(Ue,Ce){const me=this.styleNodesInDOM,it=me?.get(Ce);if(it?.parentNode===Ue)return me.delete(Ce),it.removeAttribute(_),it;{const Me=this.doc.createElement("style");return this.nonce&&Me.setAttribute("nonce",this.nonce),Me.textContent=Ce,this.platformIsServer&&Me.setAttribute(_,this.appId),Ue.appendChild(Me),Me}}addStyleToHost(Ue,Ce){const me=this.getStyleElement(Ue,Ce),it=this.styleRef,Me=it.get(Ce)?.elements;Me?Me.push(me):it.set(Ce,{elements:[me],usage:1})}resetHostNodes(){const Ue=this.hostNodes;Ue.clear(),Ue.add(this.doc.head)}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(x.qQ),r.KVO(r.sZ2),r.KVO(r.BIS,8),r.KVO(r.Agw))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac}),St})();const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},K=/%COMP%/g,L="%COMP%",ie=`_nghost-${L}`,ae=`_ngcontent-${L}`,fe=new r.nKC("",{providedIn:"root",factory:()=>!0});function j(sn,St){return St.map(Fe=>Fe.replace(K,sn))}let Q=(()=>{var sn;class St{constructor(Ue,Ce,me,it,Me,We,Gt,Kt=null){this.eventManager=Ue,this.sharedStylesHost=Ce,this.appId=me,this.removeStylesOnCompDestroy=it,this.doc=Me,this.platformId=We,this.ngZone=Gt,this.nonce=Kt,this.rendererByCompId=new Map,this.platformIsServer=(0,x.Vy)(We),this.defaultRenderer=new ee(Ue,Me,Gt,this.platformIsServer)}createRenderer(Ue,Ce){if(!Ue||!Ce)return this.defaultRenderer;this.platformIsServer&&Ce.encapsulation===r.gXe.ShadowDom&&(Ce={...Ce,encapsulation:r.gXe.Emulated});const me=this.getOrCreateRenderer(Ue,Ce);return me instanceof ut?me.applyToHost(Ue):me instanceof De&&me.applyStyles(),me}getOrCreateRenderer(Ue,Ce){const me=this.rendererByCompId;let it=me.get(Ce.id);if(!it){const Me=this.doc,We=this.ngZone,Gt=this.eventManager,Kt=this.sharedStylesHost,On=this.removeStylesOnCompDestroy,vr=this.platformIsServer;switch(Ce.encapsulation){case r.gXe.Emulated:it=new ut(Gt,Kt,Ce,this.appId,On,Me,We,vr);break;case r.gXe.ShadowDom:return new nt(Gt,Kt,Ue,Ce,Me,We,this.nonce,vr);default:it=new De(Gt,Kt,Ce,On,Me,We,vr)}me.set(Ce.id,it)}return it}ngOnDestroy(){this.rendererByCompId.clear()}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(O),r.KVO(D),r.KVO(r.sZ2),r.KVO(fe),r.KVO(x.qQ),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(r.BIS))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac}),St})();class ee{constructor(St,Fe,Ue,Ce){this.eventManager=St,this.doc=Fe,this.ngZone=Ue,this.platformIsServer=Ce,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(St,Fe){return Fe?this.doc.createElementNS(W[Fe]||Fe,St):this.doc.createElement(St)}createComment(St){return this.doc.createComment(St)}createText(St){return this.doc.createTextNode(St)}appendChild(St,Fe){(Qe(St)?St.content:St).appendChild(Fe)}insertBefore(St,Fe,Ue){St&&(Qe(St)?St.content:St).insertBefore(Fe,Ue)}removeChild(St,Fe){St&&St.removeChild(Fe)}selectRootElement(St,Fe){let Ue="string"==typeof St?this.doc.querySelector(St):St;if(!Ue)throw new r.wOt(-5104,!1);return Fe||(Ue.textContent=""),Ue}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,Fe,Ue,Ce){if(Ce){Fe=Ce+":"+Fe;const me=W[Ce];me?St.setAttributeNS(me,Fe,Ue):St.setAttribute(Fe,Ue)}else St.setAttribute(Fe,Ue)}removeAttribute(St,Fe,Ue){if(Ue){const Ce=W[Ue];Ce?St.removeAttributeNS(Ce,Fe):St.removeAttribute(`${Ue}:${Fe}`)}else St.removeAttribute(Fe)}addClass(St,Fe){St.classList.add(Fe)}removeClass(St,Fe){St.classList.remove(Fe)}setStyle(St,Fe,Ue,Ce){Ce&(r.czy.DashCase|r.czy.Important)?St.style.setProperty(Fe,Ue,Ce&r.czy.Important?"important":""):St.style[Fe]=Ue}removeStyle(St,Fe,Ue){Ue&r.czy.DashCase?St.style.removeProperty(Fe):St.style[Fe]=""}setProperty(St,Fe,Ue){null!=St&&(St[Fe]=Ue)}setValue(St,Fe){St.nodeValue=Fe}listen(St,Fe,Ue){if("string"==typeof St&&!(St=(0,x.QT)().getGlobalEventTarget(this.doc,St)))throw new Error(`Unsupported event target ${St} for event ${Fe}`);return this.eventManager.addEventListener(St,Fe,this.decoratePreventDefault(Ue))}decoratePreventDefault(St){return Fe=>{if("__ngUnwrap__"===Fe)return St;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>St(Fe)):St(Fe))&&Fe.preventDefault()}}}function Qe(sn){return"TEMPLATE"===sn.tagName&&void 0!==sn.content}class nt extends ee{constructor(St,Fe,Ue,Ce,me,it,Me,We){super(St,me,it,We),this.sharedStylesHost=Fe,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=j(Ce.id,Ce.styles);for(const Kt of Gt){const On=document.createElement("style");Me&&On.setAttribute("nonce",Me),On.textContent=Kt,this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}appendChild(St,Fe){return super.appendChild(this.nodeOrShadowRoot(St),Fe)}insertBefore(St,Fe,Ue){return super.insertBefore(this.nodeOrShadowRoot(St),Fe,Ue)}removeChild(St,Fe){return super.removeChild(this.nodeOrShadowRoot(St),Fe)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class De extends ee{constructor(St,Fe,Ue,Ce,me,it,Me,We){super(St,me,it,Me),this.sharedStylesHost=Fe,this.removeStylesOnCompDestroy=Ce,this.styles=We?j(We,Ue.styles):Ue.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ut extends De{constructor(St,Fe,Ue,Ce,me,it,Me,We){const Gt=Ce+"-"+Ue.id;super(St,Fe,Ue,me,it,Me,We,Gt),this.contentAttr=function q(sn){return ae.replace(K,sn)}(Gt),this.hostAttr=function $(sn){return ie.replace(K,sn)}(Gt)}applyToHost(St){this.applyStyles(),this.setAttribute(St,this.hostAttr,"")}createElement(St,Fe){const Ue=super.createElement(St,Fe);return super.setAttribute(Ue,this.contentAttr,""),Ue}}let Ft=(()=>{var sn;class St extends y{constructor(Ue){super(Ue)}supports(Ue){return!0}addEventListener(Ue,Ce,me){return Ue.addEventListener(Ce,me,!1),()=>this.removeEventListener(Ue,Ce,me)}removeEventListener(Ue,Ce,me){return Ue.removeEventListener(Ce,me)}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(x.qQ))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac}),St})();const ve=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V={alt:sn=>sn.altKey,control:sn=>sn.ctrlKey,meta:sn=>sn.metaKey,shift:sn=>sn.shiftKey};let ge=(()=>{var sn;class St extends y{constructor(Ue){super(Ue)}supports(Ue){return null!=St.parseEventName(Ue)}addEventListener(Ue,Ce,me){const it=St.parseEventName(Ce),Me=St.eventCallback(it.fullKey,me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.QT)().onAndCancel(Ue,it.domEventName,Me))}static parseEventName(Ue){const Ce=Ue.toLowerCase().split("."),me=Ce.shift();if(0===Ce.length||"keydown"!==me&&"keyup"!==me)return null;const it=St._normalizeKey(Ce.pop());let Me="",We=Ce.indexOf("code");if(We>-1&&(Ce.splice(We,1),Me="code."),ve.forEach(Kt=>{const On=Ce.indexOf(Kt);On>-1&&(Ce.splice(On,1),Me+=Kt+".")}),Me+=it,0!=Ce.length||0===it.length)return null;const Gt={};return Gt.domEventName=me,Gt.fullKey=Me,Gt}static matchEventFullKeyCode(Ue,Ce){let me=I[Ue.key]||Ue.key,it="";return Ce.indexOf("code.")>-1&&(me=Ue.code,it="code."),!(null==me||!me)&&(me=me.toLowerCase()," "===me?me="space":"."===me&&(me="dot"),ve.forEach(Me=>{Me!==me&&(0,V[Me])(Ue)&&(it+=Me+".")}),it+=me,it===Ce)}static eventCallback(Ue,Ce,me){return it=>{St.matchEventFullKeyCode(it,Ue)&&me.runGuarded(()=>Ce(it))}}static _normalizeKey(Ue){return"esc"===Ue?"escape":Ue}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(x.qQ))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac}),St})();const Ot=(0,r.oH4)(r.fpN,"browser",[{provide:r.Agw,useValue:x.AJ},{provide:r.PLl,useValue:function ln(){b.makeCurrent()},multi:!0},{provide:x.qQ,useFactory:function Ye(){return(0,r.TL$)(document),document},deps:[]}]),ye=new r.nKC(""),P=[{provide:r.e01,useClass:class F{addToWindow(St){r.JZv.getAngularTestability=(Ue,Ce=!0)=>{const me=St.findTestabilityInTree(Ue,Ce);if(null==me)throw new r.wOt(5103,!1);return me},r.JZv.getAllAngularTestabilities=()=>St.getAllTestabilities(),r.JZv.getAllAngularRootElements=()=>St.getAllRootElements(),r.JZv.frameworkStabilizers||(r.JZv.frameworkStabilizers=[]),r.JZv.frameworkStabilizers.push(Ue=>{const Ce=r.JZv.getAllAngularTestabilities();let me=Ce.length;const it=function(){me--,0==me&&Ue()};Ce.forEach(Me=>{Me.whenStable(it)})})}findTestabilityInTree(St,Fe,Ue){return null==Fe?null:St.getTestability(Fe)??(Ue?(0,x.QT)().isShadowRoot(Fe)?this.findTestabilityInTree(St,Fe.host,!0):this.findTestabilityInTree(St,Fe.parentElement,!0):null)}},deps:[]},{provide:r.WHO,useClass:r.NYb,deps:[r.SKi,r.giA,r.e01]},{provide:r.NYb,useClass:r.NYb,deps:[r.SKi,r.giA,r.e01]}],B=[{provide:r.H8p,useValue:"root"},{provide:r.zcH,useFactory:function Bt(){return new r.zcH},deps:[]},{provide:U,useClass:Ft,multi:!0,deps:[x.qQ,r.SKi,r.Agw]},{provide:U,useClass:ge,multi:!0,deps:[x.qQ]},Q,D,O,{provide:r._9s,useExisting:Q},{provide:x.N0,useClass:S,deps:[]},[]];let R=(()=>{var sn;class St{constructor(Ue){}static withServerTransition(Ue){return{ngModule:St,providers:[{provide:r.sZ2,useValue:Ue.appId}]}}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(ye,12))},sn.\u0275mod=r.$C({type:sn}),sn.\u0275inj=r.G2t({providers:[...B,...P],imports:[x.MD,r.Hbi]}),St})(),h=(()=>{var sn;class St{constructor(Ue){this._doc=Ue}getTitle(){return this._doc.title}setTitle(Ue){this._doc.title=Ue||""}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(x.qQ))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"}),St})(),Qt=(()=>{var sn;class St{}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)},sn.\u0275prov=r.jDH({token:sn,factory:function(Ue){let Ce=null;return Ce=Ue?new(Ue||sn):r.KVO(Ke),Ce},providedIn:"root"}),St})(),Ke=(()=>{var sn;class St extends Qt{constructor(Ue){super(),this._doc=Ue}sanitize(Ue,Ce){if(null==Ce)return null;switch(Ue){case r.WPN.NONE:return Ce;case r.WPN.HTML:return(0,r.ZF7)(Ce,"HTML")?(0,r.rcV)(Ce):(0,r.h9k)(this._doc,String(Ce)).toString();case r.WPN.STYLE:return(0,r.ZF7)(Ce,"Style")?(0,r.rcV)(Ce):Ce;case r.WPN.SCRIPT:if((0,r.ZF7)(Ce,"Script"))return(0,r.rcV)(Ce);throw new r.wOt(5200,!1);case r.WPN.URL:return(0,r.ZF7)(Ce,"URL")?(0,r.rcV)(Ce):(0,r.$MX)(String(Ce));case r.WPN.RESOURCE_URL:if((0,r.ZF7)(Ce,"ResourceURL"))return(0,r.rcV)(Ce);throw new r.wOt(5201,!1);default:throw new r.wOt(5202,!1)}}bypassSecurityTrustHtml(Ue){return(0,r.Kcf)(Ue)}bypassSecurityTrustStyle(Ue){return(0,r.cWb)(Ue)}bypassSecurityTrustScript(Ue){return(0,r.UyX)(Ue)}bypassSecurityTrustUrl(Ue){return(0,r.osQ)(Ue)}bypassSecurityTrustResourceUrl(Ue){return(0,r.e5t)(Ue)}}return(sn=St).\u0275fac=function(Ue){return new(Ue||sn)(r.KVO(x.qQ))},sn.\u0275prov=r.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"}),St})()},8645:(en,ot,w)=>{"use strict";w.d(ot,{nX:()=>jn,nU:()=>Ke,wF:()=>Mi,Z:()=>Ai,Ix:()=>hs,iI:()=>Fa,n3:()=>Lo,Sd:()=>Qt});var r=w(4438),x=w(8454),f=w(1472),b=w(5877),E=w(9160),C=w(2656),u=w(330),F=w(5892),S=w(5946),U=w(7479),O=w(5326),y=w(2515),_=w(7221),D=w(5052),W=w(1027),K=w(177),L=w(6110),ie=w(2914),ae=w(7365),le=w(5160),fe=w(4264),q=w(1756),$=w(830),j=w(6758),Q=w(9705),ee=w(8577),be=w(5210),Se=w(5773),nt=w(7369),De=w(6196);function ut(ue){return ue<=0?()=>y.w:(0,be.N)((Ne,at)=>{let Be=[];Ne.subscribe((0,De._)(at,lt=>{Be.push(lt),ue<Be.length&&Be.shift()},()=>{for(const lt of Be)at.next(lt);at.complete()},void 0,()=>{Be=null}))})}var Ft=w(7074),ve=w(9577),V=w(9539),ge=w(5152),Pe=w(4710),ke=w(7925),xt=w(8297),Ht=w(345);const ln="primary",Bt=Symbol("RouteTitle");class Ye{constructor(Ne){this.params=Ne||{}}has(Ne){return Object.prototype.hasOwnProperty.call(this.params,Ne)}get(Ne){if(this.has(Ne)){const at=this.params[Ne];return Array.isArray(at)?at[0]:at}return null}getAll(Ne){if(this.has(Ne)){const at=this.params[Ne];return Array.isArray(at)?at:[at]}return[]}get keys(){return Object.keys(this.params)}}function Ze(ue){return new Ye(ue)}function Ot(ue,Ne,at){const Be=at.path.split("/");if(Be.length>ue.length||"full"===at.pathMatch&&(Ne.hasChildren()||Be.length<ue.length))return null;const lt={};for(let pn=0;pn<Be.length;pn++){const In=Be[pn],Kr=ue[pn];if(In.startsWith(":"))lt[In.substring(1)]=Kr;else if(In!==Kr.path)return null}return{consumed:ue.slice(0,Be.length),posParams:lt}}function P(ue,Ne){const at=ue?B(ue):void 0,Be=Ne?B(Ne):void 0;if(!at||!Be||at.length!=Be.length)return!1;let lt;for(let pn=0;pn<at.length;pn++)if(lt=at[pn],!R(ue[lt],Ne[lt]))return!1;return!0}function B(ue){return[...Object.keys(ue),...Object.getOwnPropertySymbols(ue)]}function R(ue,Ne){if(Array.isArray(ue)&&Array.isArray(Ne)){if(ue.length!==Ne.length)return!1;const at=[...ue].sort(),Be=[...Ne].sort();return at.every((lt,pn)=>Be[pn]===lt)}return ue===Ne}function N(ue){return ue.length>0?ue[ue.length-1]:null}function Y(ue){return(0,x.A)(ue)?ue:(0,r.jNT)(ue)?(0,f.H)(Promise.resolve(ue)):(0,b.of)(ue)}const h={exact:function H(ue,Ne,at){if(!dt(ue.segments,Ne.segments)||!rt(ue.segments,Ne.segments,at)||ue.numberOfChildren!==Ne.numberOfChildren)return!1;for(const Be in Ne.children)if(!ue.children[Be]||!H(ue.children[Be],Ne.children[Be],at))return!1;return!0},subset:oe},M={exact:function z(ue,Ne){return P(ue,Ne)},subset:function X(ue,Ne){return Object.keys(Ne).length<=Object.keys(ue).length&&Object.keys(Ne).every(at=>R(ue[at],Ne[at]))},ignored:()=>!0};function Z(ue,Ne,at){return h[at.paths](ue.root,Ne.root,at.matrixParams)&&M[at.queryParams](ue.queryParams,Ne.queryParams)&&!("exact"===at.fragment&&ue.fragment!==Ne.fragment)}function oe(ue,Ne,at){return He(ue,Ne,Ne.segments,at)}function He(ue,Ne,at,Be){if(ue.segments.length>at.length){const lt=ue.segments.slice(0,at.length);return!(!dt(lt,at)||Ne.hasChildren()||!rt(lt,at,Be))}if(ue.segments.length===at.length){if(!dt(ue.segments,at)||!rt(ue.segments,at,Be))return!1;for(const lt in Ne.children)if(!ue.children[lt]||!oe(ue.children[lt],Ne.children[lt],Be))return!1;return!0}{const lt=at.slice(0,ue.segments.length),pn=at.slice(ue.segments.length);return!!(dt(ue.segments,lt)&&rt(ue.segments,lt,Be)&&ue.children[ln])&&He(ue.children[ln],Ne,pn,Be)}}function rt(ue,Ne,at){return Ne.every((Be,lt)=>M[at](ue[lt].parameters,Be.parameters))}class ft{constructor(Ne=new It([],{}),at={},Be=null){this.root=Ne,this.queryParams=at,this.fragment=Be}get queryParamMap(){return this._queryParamMap??=Ze(this.queryParams),this._queryParamMap}toString(){return pt.serialize(this)}}class It{constructor(Ne,at){this.segments=Ne,this.children=at,this.parent=null,Object.values(at).forEach(Be=>Be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tt(this)}}class Ge{constructor(Ne,at){this.path=Ne,this.parameters=at}get parameterMap(){return this._parameterMap??=Ze(this.parameters),this._parameterMap}toString(){return sn(this)}}function dt(ue,Ne){return ue.length===Ne.length&&ue.every((at,Be)=>at.path===Ne[Be].path)}let Qt=(()=>{var ue;class Ne{}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:()=>new Ke,providedIn:"root"}),Ne})();class Ke{parse(Ne){const at=new On(Ne);return new ft(at.parseRootSegment(),at.parseQueryParams(),at.parseFragment())}serialize(Ne){const at=`/${$e(Ne.root,!0)}`,Be=function Fe(ue){const Ne=Object.entries(ue).map(([at,Be])=>Array.isArray(Be)?Be.map(lt=>`${Xt(at)}=${Xt(lt)}`).join("&"):`${Xt(at)}=${Xt(Be)}`).filter(at=>at);return Ne.length?`?${Ne.join("&")}`:""}(Ne.queryParams);return`${at}${Be}${"string"==typeof Ne.fragment?`#${function gn(ue){return encodeURI(ue)}(Ne.fragment)}`:""}`}}const pt=new Ke;function Tt(ue){return ue.segments.map(Ne=>sn(Ne)).join("/")}function $e(ue,Ne){if(!ue.hasChildren())return Tt(ue);if(Ne){const at=ue.children[ln]?$e(ue.children[ln],!1):"",Be=[];return Object.entries(ue.children).forEach(([lt,pn])=>{lt!==ln&&Be.push(`${lt}:${$e(pn,!1)}`)}),Be.length>0?`${at}(${Be.join("//")})`:at}{const at=function At(ue,Ne){let at=[];return Object.entries(ue.children).forEach(([Be,lt])=>{Be===ln&&(at=at.concat(Ne(lt,Be)))}),Object.entries(ue.children).forEach(([Be,lt])=>{Be!==ln&&(at=at.concat(Ne(lt,Be)))}),at}(ue,(Be,lt)=>lt===ln?[$e(ue.children[ln],!1)]:[`${lt}:${$e(Be,!1)}`]);return 1===Object.keys(ue.children).length&&null!=ue.children[ln]?`${Tt(ue)}/${at[0]}`:`${Tt(ue)}/(${at.join("//")})`}}function Lt(ue){return encodeURIComponent(ue).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xt(ue){return Lt(ue).replace(/%3B/gi,";")}function Ln(ue){return Lt(ue).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $n(ue){return decodeURIComponent(ue)}function gr(ue){return $n(ue.replace(/\+/g,"%20"))}function sn(ue){return`${Ln(ue.path)}${function St(ue){return Object.entries(ue).map(([Ne,at])=>`;${Ln(Ne)}=${Ln(at)}`).join("")}(ue.parameters)}`}const Ue=/^[^\/()?;#]+/;function Ce(ue){const Ne=ue.match(Ue);return Ne?Ne[0]:""}const me=/^[^\/()?;=#]+/,Me=/^[^=?&#]+/,Gt=/^[^&#]+/;class On{constructor(Ne){this.url=Ne,this.remaining=Ne}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const Ne={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ne)}while(this.consumeOptional("&"));return Ne}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ne=[];for(this.peekStartsWith("(")||Ne.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ne.push(this.parseSegment());let at={};this.peekStartsWith("/(")&&(this.capture("/"),at=this.parseParens(!0));let Be={};return this.peekStartsWith("(")&&(Be=this.parseParens(!1)),(Ne.length>0||Object.keys(at).length>0)&&(Be[ln]=new It(Ne,at)),Be}parseSegment(){const Ne=Ce(this.remaining);if(""===Ne&&this.peekStartsWith(";"))throw new r.wOt(4009,!1);return this.capture(Ne),new Ge($n(Ne),this.parseMatrixParams())}parseMatrixParams(){const Ne={};for(;this.consumeOptional(";");)this.parseParam(Ne);return Ne}parseParam(Ne){const at=function it(ue){const Ne=ue.match(me);return Ne?Ne[0]:""}(this.remaining);if(!at)return;this.capture(at);let Be="";if(this.consumeOptional("=")){const lt=Ce(this.remaining);lt&&(Be=lt,this.capture(Be))}Ne[$n(at)]=$n(Be)}parseQueryParam(Ne){const at=function We(ue){const Ne=ue.match(Me);return Ne?Ne[0]:""}(this.remaining);if(!at)return;this.capture(at);let Be="";if(this.consumeOptional("=")){const In=function Kt(ue){const Ne=ue.match(Gt);return Ne?Ne[0]:""}(this.remaining);In&&(Be=In,this.capture(Be))}const lt=gr(at),pn=gr(Be);if(Ne.hasOwnProperty(lt)){let In=Ne[lt];Array.isArray(In)||(In=[In],Ne[lt]=In),In.push(pn)}else Ne[lt]=pn}parseParens(Ne){const at={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Be=Ce(this.remaining),lt=this.remaining[Be.length];if("/"!==lt&&")"!==lt&&";"!==lt)throw new r.wOt(4010,!1);let pn;Be.indexOf(":")>-1?(pn=Be.slice(0,Be.indexOf(":")),this.capture(pn),this.capture(":")):Ne&&(pn=ln);const In=this.parseChildren();at[pn]=1===Object.keys(In).length?In[ln]:new It([],In),this.consumeOptional("//")}return at}peekStartsWith(Ne){return this.remaining.startsWith(Ne)}consumeOptional(Ne){return!!this.peekStartsWith(Ne)&&(this.remaining=this.remaining.substring(Ne.length),!0)}capture(Ne){if(!this.consumeOptional(Ne))throw new r.wOt(4011,!1)}}function vr(ue){return ue.segments.length>0?new It([],{[ln]:ue}):ue}function Cn(ue){const Ne={};for(const[Be,lt]of Object.entries(ue.children)){const pn=Cn(lt);if(Be===ln&&0===pn.segments.length&&pn.hasChildren())for(const[In,Kr]of Object.entries(pn.children))Ne[In]=Kr;else(pn.segments.length>0||pn.hasChildren())&&(Ne[Be]=pn)}return function tr(ue){if(1===ue.numberOfChildren&&ue.children[ln]){const Ne=ue.children[ln];return new It(ue.segments.concat(Ne.segments),Ne.children)}return ue}(new It(ue.segments,Ne))}function Er(ue){return ue instanceof ft}function sr(ue){let Ne;const lt=vr(function at(pn){const In={};for(const to of pn.children){const xi=at(to);In[to.outlet]=xi}const Kr=new It(pn.url,In);return pn===ue&&(Ne=Kr),Kr}(ue.root));return Ne??lt}function _n(ue,Ne,at,Be){let lt=ue;for(;lt.parent;)lt=lt.parent;if(0===Ne.length)return so(lt,lt,lt,at,Be);const pn=function Or(ue){if("string"==typeof ue[0]&&1===ue.length&&"/"===ue[0])return new ii(!0,0,ue);let Ne=0,at=!1;const Be=ue.reduce((lt,pn,In)=>{if("object"==typeof pn&&null!=pn){if(pn.outlets){const Kr={};return Object.entries(pn.outlets).forEach(([to,xi])=>{Kr[to]="string"==typeof xi?xi.split("/"):xi}),[...lt,{outlets:Kr}]}if(pn.segmentPath)return[...lt,pn.segmentPath]}return"string"!=typeof pn?[...lt,pn]:0===In?(pn.split("/").forEach((Kr,to)=>{0==to&&"."===Kr||(0==to&&""===Kr?at=!0:".."===Kr?Ne++:""!=Kr&&lt.push(Kr))}),lt):[...lt,pn]},[]);return new ii(at,Ne,Be)}(Ne);if(pn.toRoot())return so(lt,lt,new It([],{}),at,Be);const In=function Yi(ue,Ne,at){if(ue.isAbsolute)return new fi(Ne,!0,0);if(!at)return new fi(Ne,!1,NaN);if(null===at.parent)return new fi(at,!0,0);const Be=_i(ue.commands[0])?0:1;return function ho(ue,Ne,at){let Be=ue,lt=Ne,pn=at;for(;pn>lt;){if(pn-=lt,Be=Be.parent,!Be)throw new r.wOt(4005,!1);lt=Be.segments.length}return new fi(Be,!1,lt-pn)}(at,at.segments.length-1+Be,ue.numberOfDoubleDots)}(pn,lt,ue),Kr=In.processChildren?Ve(In.segmentGroup,In.index,pn.commands):Qi(In.segmentGroup,In.index,pn.commands);return so(lt,In.segmentGroup,Kr,at,Be)}function _i(ue){return"object"==typeof ue&&null!=ue&&!ue.outlets&&!ue.segmentPath}function Ii(ue){return"object"==typeof ue&&null!=ue&&ue.outlets}function so(ue,Ne,at,Be,lt){let In,pn={};Be&&Object.entries(Be).forEach(([to,xi])=>{pn[to]=Array.isArray(xi)?xi.map(jo=>`${jo}`):`${xi}`}),In=ue===Ne?at:Cr(ue,Ne,at);const Kr=vr(Cn(In));return new ft(Kr,pn,lt)}function Cr(ue,Ne,at){const Be={};return Object.entries(ue.children).forEach(([lt,pn])=>{Be[lt]=pn===Ne?at:Cr(pn,Ne,at)}),new It(ue.segments,Be)}class ii{constructor(Ne,at,Be){if(this.isAbsolute=Ne,this.numberOfDoubleDots=at,this.commands=Be,Ne&&Be.length>0&&_i(Be[0]))throw new r.wOt(4003,!1);const lt=Be.find(Ii);if(lt&&lt!==N(Be))throw new r.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(Ne,at,Be){this.segmentGroup=Ne,this.processChildren=at,this.index=Be}}function Qi(ue,Ne,at){if(ue??=new It([],{}),0===ue.segments.length&&ue.hasChildren())return Ve(ue,Ne,at);const Be=function _t(ue,Ne,at){let Be=0,lt=Ne;const pn={match:!1,pathIndex:0,commandIndex:0};for(;lt<ue.segments.length;){if(Be>=at.length)return pn;const In=ue.segments[lt],Kr=at[Be];if(Ii(Kr))break;const to=`${Kr}`,xi=Be<at.length-1?at[Be+1]:null;if(lt>0&&void 0===to)break;if(to&&xi&&"object"==typeof xi&&void 0===xi.outlets){if(!on(to,xi,In))return pn;Be+=2}else{if(!on(to,{},In))return pn;Be++}lt++}return{match:!0,pathIndex:lt,commandIndex:Be}}(ue,Ne,at),lt=at.slice(Be.commandIndex);if(Be.match&&Be.pathIndex<ue.segments.length){const pn=new It(ue.segments.slice(0,Be.pathIndex),{});return pn.children[ln]=new It(ue.segments.slice(Be.pathIndex),ue.children),Ve(pn,0,lt)}return Be.match&&0===lt.length?new It(ue.segments,{}):Be.match&&!ue.hasChildren()?an(ue,Ne,at):Be.match?Ve(ue,0,lt):an(ue,Ne,at)}function Ve(ue,Ne,at){if(0===at.length)return new It(ue.segments,{});{const Be=function Vi(ue){return Ii(ue[0])?ue[0].outlets:{[ln]:ue}}(at),lt={};if(Object.keys(Be).some(pn=>pn!==ln)&&ue.children[ln]&&1===ue.numberOfChildren&&0===ue.children[ln].segments.length){const pn=Ve(ue.children[ln],Ne,at);return new It(ue.segments,pn.children)}return Object.entries(Be).forEach(([pn,In])=>{"string"==typeof In&&(In=[In]),null!==In&&(lt[pn]=Qi(ue.children[pn],Ne,In))}),Object.entries(ue.children).forEach(([pn,In])=>{void 0===Be[pn]&&(lt[pn]=In)}),new It(ue.segments,lt)}}function an(ue,Ne,at){const Be=ue.segments.slice(0,Ne);let lt=0;for(;lt<at.length;){const pn=at[lt];if(Ii(pn)){const to=_e(pn.outlets);return new It(Be,to)}if(0===lt&&_i(at[0])){Be.push(new Ge(ue.segments[Ne].path,Dt(at[0]))),lt++;continue}const In=Ii(pn)?pn.outlets[ln]:`${pn}`,Kr=lt<at.length-1?at[lt+1]:null;In&&Kr&&_i(Kr)?(Be.push(new Ge(In,Dt(Kr))),lt+=2):(Be.push(new Ge(In,{})),lt++)}return new It(Be,{})}function _e(ue){const Ne={};return Object.entries(ue).forEach(([at,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(Ne[at]=an(new It([],{}),0,Be))}),Ne}function Dt(ue){const Ne={};return Object.entries(ue).forEach(([at,Be])=>Ne[at]=`${Be}`),Ne}function on(ue,Ne,at){return ue==at.path&&P(Ne,at.parameters)}const Un="imperative";var qn=function(ue){return ue[ue.NavigationStart=0]="NavigationStart",ue[ue.NavigationEnd=1]="NavigationEnd",ue[ue.NavigationCancel=2]="NavigationCancel",ue[ue.NavigationError=3]="NavigationError",ue[ue.RoutesRecognized=4]="RoutesRecognized",ue[ue.ResolveStart=5]="ResolveStart",ue[ue.ResolveEnd=6]="ResolveEnd",ue[ue.GuardsCheckStart=7]="GuardsCheckStart",ue[ue.GuardsCheckEnd=8]="GuardsCheckEnd",ue[ue.RouteConfigLoadStart=9]="RouteConfigLoadStart",ue[ue.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ue[ue.ChildActivationStart=11]="ChildActivationStart",ue[ue.ChildActivationEnd=12]="ChildActivationEnd",ue[ue.ActivationStart=13]="ActivationStart",ue[ue.ActivationEnd=14]="ActivationEnd",ue[ue.Scroll=15]="Scroll",ue[ue.NavigationSkipped=16]="NavigationSkipped",ue}(qn||{});class Gr{constructor(Ne,at){this.id=Ne,this.url=at}}class Ai extends Gr{constructor(Ne,at,Be="imperative",lt=null){super(Ne,at),this.type=qn.NavigationStart,this.navigationTrigger=Be,this.restoredState=lt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mi extends Gr{constructor(Ne,at,Be){super(Ne,at),this.urlAfterRedirects=Be,this.type=qn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var pi=function(ue){return ue[ue.Redirect=0]="Redirect",ue[ue.SupersededByNewNavigation=1]="SupersededByNewNavigation",ue[ue.NoDataFromResolver=2]="NoDataFromResolver",ue[ue.GuardRejected=3]="GuardRejected",ue}(pi||{}),di=function(ue){return ue[ue.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ue[ue.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ue}(di||{});class Zt extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.reason=Be,this.code=lt,this.type=qn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tn extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.reason=Be,this.code=lt,this.type=qn.NavigationSkipped}}class Hn extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.error=Be,this.target=lt,this.type=qn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hr extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.urlAfterRedirects=Be,this.state=lt,this.type=qn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.urlAfterRedirects=Be,this.state=lt,this.type=qn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends Gr{constructor(Ne,at,Be,lt,pn){super(Ne,at),this.urlAfterRedirects=Be,this.state=lt,this.shouldActivate=pn,this.type=qn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bi extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.urlAfterRedirects=Be,this.state=lt,this.type=qn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Gr{constructor(Ne,at,Be,lt){super(Ne,at),this.urlAfterRedirects=Be,this.state=lt,this.type=qn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po{constructor(Ne){this.route=Ne,this.type=qn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ro{constructor(Ne){this.route=Ne,this.type=qn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ji{constructor(Ne){this.snapshot=Ne,this.type=qn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(Ne){this.snapshot=Ne,this.type=qn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(Ne){this.snapshot=Ne,this.type=qn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(Ne){this.snapshot=Ne,this.type=qn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(Ne,at,Be){this.routerEvent=Ne,this.position=at,this.anchor=Be,this.type=qn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ci{}class $i{constructor(Ne){this.url=Ne}}class go{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ko,this.attachRef=null}}let ko=(()=>{var ue;class Ne{constructor(){this.contexts=new Map}onChildOutletCreated(Be,lt){const pn=this.getOrCreateContext(Be);pn.outlet=lt,this.contexts.set(Be,pn)}onChildOutletDestroyed(Be){const lt=this.getContext(Be);lt&&(lt.outlet=null,lt.attachRef=null)}onOutletDeactivated(){const Be=this.contexts;return this.contexts=new Map,Be}onOutletReAttached(Be){this.contexts=Be}getOrCreateContext(Be){let lt=this.getContext(Be);return lt||(lt=new go,this.contexts.set(Be,lt)),lt}getContext(Be){return this.contexts.get(Be)||null}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();class Yo{constructor(Ne){this._root=Ne}get root(){return this._root.value}parent(Ne){const at=this.pathFromRoot(Ne);return at.length>1?at[at.length-2]:null}children(Ne){const at=Po(Ne,this._root);return at?at.children.map(Be=>Be.value):[]}firstChild(Ne){const at=Po(Ne,this._root);return at&&at.children.length>0?at.children[0].value:null}siblings(Ne){const at=ss(Ne,this._root);return at.length<2?[]:at[at.length-2].children.map(lt=>lt.value).filter(lt=>lt!==Ne)}pathFromRoot(Ne){return ss(Ne,this._root).map(at=>at.value)}}function Po(ue,Ne){if(ue===Ne.value)return Ne;for(const at of Ne.children){const Be=Po(ue,at);if(Be)return Be}return null}function ss(ue,Ne){if(ue===Ne.value)return[Ne];for(const at of Ne.children){const Be=ss(ue,at);if(Be.length)return Be.unshift(Ne),Be}return[]}class as{constructor(Ne,at){this.value=Ne,this.children=at}toString(){return`TreeNode(${this.value})`}}function Cs(ue){const Ne={};return ue&&ue.children.forEach(at=>Ne[at.value.outlet]=at),Ne}class ts extends Yo{constructor(Ne,at){super(Ne),this.snapshot=at,qi(this,Ne)}toString(){return this.snapshot.toString()}}function Jo(ue){const Ne=function Us(ue){const pn=new Vr([],{},{},"",{},ln,ue,null,{});return new Ti("",new as(pn,[]))}(ue),at=new E.t([new Ge("",{})]),Be=new E.t({}),lt=new E.t({}),pn=new E.t({}),In=new E.t(""),Kr=new jn(at,Be,pn,In,lt,ln,ue,Ne.root);return Kr.snapshot=Ne.root,new ts(new as(Kr,[]),Ne)}class jn{constructor(Ne,at,Be,lt,pn,In,Kr,to){this.urlSubject=Ne,this.paramsSubject=at,this.queryParamsSubject=Be,this.fragmentSubject=lt,this.dataSubject=pn,this.outlet=In,this.component=Kr,this._futureSnapshot=to,this.title=this.dataSubject?.pipe((0,L.T)(xi=>xi[Bt]))??(0,b.of)(void 0),this.url=Ne,this.params=at,this.queryParams=Be,this.fragment=lt,this.data=pn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,L.T)(Ne=>Ze(Ne))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,L.T)(Ne=>Ze(Ne))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zn(ue,Ne,at="emptyOnly"){let Be;const{routeConfig:lt}=ue;return Be=null===Ne||"always"!==at&&""!==lt?.path&&(Ne.component||Ne.routeConfig?.loadComponent)?{params:{...ue.params},data:{...ue.data},resolve:{...ue.data,...ue._resolvedData??{}}}:{params:{...Ne.params,...ue.params},data:{...Ne.data,...ue.data},resolve:{...ue.data,...Ne.data,...lt?.data,...ue._resolvedData}},lt&&co(lt)&&(Be.resolve[Bt]=lt.title),Be}class Vr{get title(){return this.data?.[Bt]}constructor(Ne,at,Be,lt,pn,In,Kr,to,xi){this.url=Ne,this.params=at,this.queryParams=Be,this.fragment=lt,this.data=pn,this.outlet=In,this.component=Kr,this.routeConfig=to,this._resolve=xi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ze(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ze(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Be=>Be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ti extends Yo{constructor(Ne,at){super(at),this.url=Ne,qi(this,at)}toString(){return Co(this._root)}}function qi(ue,Ne){Ne.value._routerState=ue,Ne.children.forEach(at=>qi(ue,at))}function Co(ue){const Ne=ue.children.length>0?` { ${ue.children.map(Co).join(", ")} } `:"";return`${ue.value}${Ne}`}function Ni(ue){if(ue.snapshot){const Ne=ue.snapshot,at=ue._futureSnapshot;ue.snapshot=at,P(Ne.queryParams,at.queryParams)||ue.queryParamsSubject.next(at.queryParams),Ne.fragment!==at.fragment&&ue.fragmentSubject.next(at.fragment),P(Ne.params,at.params)||ue.paramsSubject.next(at.params),function ye(ue,Ne){if(ue.length!==Ne.length)return!1;for(let at=0;at<ue.length;++at)if(!P(ue[at],Ne[at]))return!1;return!0}(Ne.url,at.url)||ue.urlSubject.next(at.url),P(Ne.data,at.data)||ue.dataSubject.next(at.data)}else ue.snapshot=ue._futureSnapshot,ue.dataSubject.next(ue._futureSnapshot.data)}function ji(ue,Ne){const at=P(ue.params,Ne.params)&&function Ct(ue,Ne){return dt(ue,Ne)&&ue.every((at,Be)=>P(at.parameters,Ne[Be].parameters))}(ue.url,Ne.url);return at&&!(!ue.parent!=!Ne.parent)&&(!ue.parent||ji(ue.parent,Ne.parent))}function co(ue){return"string"==typeof ue.title||null===ue.title}let Lo=(()=>{var ue;class Ne{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new r.bkB,this.deactivateEvents=new r.bkB,this.attachEvents=new r.bkB,this.detachEvents=new r.bkB,this.parentContexts=(0,r.WQX)(ko),this.location=(0,r.WQX)(r.c1b),this.changeDetector=(0,r.WQX)(r.gRc),this.environmentInjector=(0,r.WQX)(r.uvJ),this.inputBinder=(0,r.WQX)(Qo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Be){if(Be.name){const{firstChange:lt,previousValue:pn}=Be.name;if(lt)return;this.isTrackedInParentContexts(pn)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(pn)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Be){return this.parentContexts.getContext(Be)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Be=this.parentContexts.getContext(this.name);Be?.route&&(Be.attachRef?this.attach(Be.attachRef,Be.route):this.activateWith(Be.route,Be.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.wOt(4012,!1);this.location.detach();const Be=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Be.instance),Be}attach(Be,lt){this.activated=Be,this._activatedRoute=lt,this.location.insert(Be.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Be.instance)}deactivate(){if(this.activated){const Be=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Be)}}activateWith(Be,lt){if(this.isActivated)throw new r.wOt(4013,!1);this._activatedRoute=Be;const pn=this.location,Kr=Be.snapshot.component,to=this.parentContexts.getOrCreateContext(this.name).children,xi=new lo(Be,to,pn.injector);this.activated=pn.createComponent(Kr,{index:pn.length,injector:xi,environmentInjector:lt??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275dir=r.FsC({type:ue,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.OA$]}),Ne})();class lo{constructor(Ne,at,Be){this.route=Ne,this.childContexts=at,this.parent=Be,this.__ngOutletInjector=!0}get(Ne,at){return Ne===jn?this.route:Ne===ko?this.childContexts:this.parent.get(Ne,at)}}const Qo=new r.nKC("");let ta=(()=>{var ue;class Ne{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Be){this.unsubscribeFromRouteData(Be),this.subscribeToRouteData(Be)}unsubscribeFromRouteData(Be){this.outletDataSubscriptions.get(Be)?.unsubscribe(),this.outletDataSubscriptions.delete(Be)}subscribeToRouteData(Be){const{activatedRoute:lt}=Be,pn=(0,C.z)([lt.queryParams,lt.params,lt.data]).pipe((0,ie.n)(([In,Kr,to],xi)=>(to={...In,...Kr,...to},0===xi?(0,b.of)(to):Promise.resolve(to)))).subscribe(In=>{if(!Be.isActivated||!Be.activatedComponentRef||Be.activatedRoute!==lt||null===lt.component)return void this.unsubscribeFromRouteData(Be);const Kr=(0,r.HJs)(lt.component);if(Kr)for(const{templateName:to}of Kr.inputs)Be.activatedComponentRef.setInput(to,In[to]);else this.unsubscribeFromRouteData(Be)});this.outletDataSubscriptions.set(Be,pn)}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac}),Ne})();function cs(ue,Ne,at){if(at&&ue.shouldReuseRoute(Ne.value,at.value.snapshot)){const Be=at.value;Be._futureSnapshot=Ne.value;const lt=function Ns(ue,Ne,at){return Ne.children.map(Be=>{for(const lt of at.children)if(ue.shouldReuseRoute(Be.value,lt.value.snapshot))return cs(ue,Be,lt);return cs(ue,Be)})}(ue,Ne,at);return new as(Be,lt)}{if(ue.shouldAttach(Ne.value)){const pn=ue.retrieve(Ne.value);if(null!==pn){const In=pn.route;return In.value._futureSnapshot=Ne.value,In.children=Ne.children.map(Kr=>cs(ue,Kr)),In}}const Be=function ns(ue){return new jn(new E.t(ue.url),new E.t(ue.params),new E.t(ue.queryParams),new E.t(ue.fragment),new E.t(ue.data),ue.outlet,ue.component,ue)}(Ne.value),lt=Ne.children.map(pn=>cs(ue,pn));return new as(Be,lt)}}const Ks="ngNavigationCancelingError";function Go(ue,Ne){const{redirectTo:at,navigationBehaviorOptions:Be}=Er(Ne)?{redirectTo:Ne,navigationBehaviorOptions:void 0}:Ne,lt=Aa(!1,pi.Redirect);return lt.url=at,lt.navigationBehaviorOptions=Be,lt}function Aa(ue,Ne){const at=new Error(`NavigationCancelingError: ${ue||""}`);return at[Ks]=!0,at.cancellationCode=Ne,at}function Ko(ue){return!!ue&&ue[Ks]}let Fs=(()=>{var ue;class Ne{}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275cmp=r.VBU({type:ue,selectors:[["ng-component"]],standalone:!0,features:[r.aNF],decls:1,vars:0,template:function(Be,lt){1&Be&&r.nrm(0,"router-outlet")},dependencies:[Lo],encapsulation:2}),Ne})();function mn(ue){const Ne=ue.children&&ue.children.map(mn),at=Ne?{...ue,children:Ne}:{...ue};return!at.component&&!at.loadComponent&&(Ne||at.loadChildren)&&at.outlet&&at.outlet!==ln&&(at.component=Fs),at}function Ut(ue){return ue.outlet||ln}function Xe(ue){if(!ue)return null;if(ue.routeConfig?._injector)return ue.routeConfig._injector;for(let Ne=ue.parent;Ne;Ne=Ne.parent){const at=Ne.routeConfig;if(at?._loadedInjector)return at._loadedInjector;if(at?._injector)return at._injector}return null}class zn{constructor(Ne,at,Be,lt,pn){this.routeReuseStrategy=Ne,this.futureState=at,this.currState=Be,this.forwardEvent=lt,this.inputBindingEnabled=pn}activate(Ne){const at=this.futureState._root,Be=this.currState?this.currState._root:null;this.deactivateChildRoutes(at,Be,Ne),Ni(this.futureState.root),this.activateChildRoutes(at,Be,Ne)}deactivateChildRoutes(Ne,at,Be){const lt=Cs(at);Ne.children.forEach(pn=>{const In=pn.value.outlet;this.deactivateRoutes(pn,lt[In],Be),delete lt[In]}),Object.values(lt).forEach(pn=>{this.deactivateRouteAndItsChildren(pn,Be)})}deactivateRoutes(Ne,at,Be){const lt=Ne.value,pn=at?at.value:null;if(lt===pn)if(lt.component){const In=Be.getContext(lt.outlet);In&&this.deactivateChildRoutes(Ne,at,In.children)}else this.deactivateChildRoutes(Ne,at,Be);else pn&&this.deactivateRouteAndItsChildren(at,Be)}deactivateRouteAndItsChildren(Ne,at){Ne.value.component&&this.routeReuseStrategy.shouldDetach(Ne.value.snapshot)?this.detachAndStoreRouteSubtree(Ne,at):this.deactivateRouteAndOutlet(Ne,at)}detachAndStoreRouteSubtree(Ne,at){const Be=at.getContext(Ne.value.outlet),lt=Be&&Ne.value.component?Be.children:at,pn=Cs(Ne);for(const In of Object.values(pn))this.deactivateRouteAndItsChildren(In,lt);if(Be&&Be.outlet){const In=Be.outlet.detach(),Kr=Be.children.onOutletDeactivated();this.routeReuseStrategy.store(Ne.value.snapshot,{componentRef:In,route:Ne,contexts:Kr})}}deactivateRouteAndOutlet(Ne,at){const Be=at.getContext(Ne.value.outlet),lt=Be&&Ne.value.component?Be.children:at,pn=Cs(Ne);for(const In of Object.values(pn))this.deactivateRouteAndItsChildren(In,lt);Be&&(Be.outlet&&(Be.outlet.deactivate(),Be.children.onOutletDeactivated()),Be.attachRef=null,Be.route=null)}activateChildRoutes(Ne,at,Be){const lt=Cs(at);Ne.children.forEach(pn=>{this.activateRoutes(pn,lt[pn.value.outlet],Be),this.forwardEvent(new Xn(pn.value.snapshot))}),Ne.children.length&&this.forwardEvent(new Yt(Ne.value.snapshot))}activateRoutes(Ne,at,Be){const lt=Ne.value,pn=at?at.value:null;if(Ni(lt),lt===pn)if(lt.component){const In=Be.getOrCreateContext(lt.outlet);this.activateChildRoutes(Ne,at,In.children)}else this.activateChildRoutes(Ne,at,Be);else if(lt.component){const In=Be.getOrCreateContext(lt.outlet);if(this.routeReuseStrategy.shouldAttach(lt.snapshot)){const Kr=this.routeReuseStrategy.retrieve(lt.snapshot);this.routeReuseStrategy.store(lt.snapshot,null),In.children.onOutletReAttached(Kr.contexts),In.attachRef=Kr.componentRef,In.route=Kr.route.value,In.outlet&&In.outlet.attach(Kr.componentRef,Kr.route.value),Ni(Kr.route.value),this.activateChildRoutes(Ne,null,In.children)}else{const Kr=Xe(lt.snapshot);In.attachRef=null,In.route=lt,In.injector=Kr,In.outlet&&In.outlet.activateWith(lt,In.injector),this.activateChildRoutes(Ne,null,In.children)}}else this.activateChildRoutes(Ne,null,Be)}}class fr{constructor(Ne){this.path=Ne,this.route=this.path[this.path.length-1]}}class mr{constructor(Ne,at){this.component=Ne,this.route=at}}function $r(ue,Ne,at){const Be=ue._root;return Wr(Be,Ne?Ne._root:null,at,[Be.value])}function li(ue,Ne){const at=Symbol(),Be=Ne.get(ue,at);return Be===at?"function"!=typeof ue||(0,r.LfX)(ue)?Ne.get(ue):ue:Be}function Wr(ue,Ne,at,Be,lt={canDeactivateChecks:[],canActivateChecks:[]}){const pn=Cs(Ne);return ue.children.forEach(In=>{(function eo(ue,Ne,at,Be,lt={canDeactivateChecks:[],canActivateChecks:[]}){const pn=ue.value,In=Ne?Ne.value:null,Kr=at?at.getContext(ue.value.outlet):null;if(In&&pn.routeConfig===In.routeConfig){const to=function yo(ue,Ne,at){if("function"==typeof at)return at(ue,Ne);switch(at){case"pathParamsChange":return!dt(ue.url,Ne.url);case"pathParamsOrQueryParamsChange":return!dt(ue.url,Ne.url)||!P(ue.queryParams,Ne.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(ue,Ne)||!P(ue.queryParams,Ne.queryParams);default:return!ji(ue,Ne)}}(In,pn,pn.routeConfig.runGuardsAndResolvers);to?lt.canActivateChecks.push(new fr(Be)):(pn.data=In.data,pn._resolvedData=In._resolvedData),Wr(ue,Ne,pn.component?Kr?Kr.children:null:at,Be,lt),to&&Kr&&Kr.outlet&&Kr.outlet.isActivated&&lt.canDeactivateChecks.push(new mr(Kr.outlet.component,In))}else In&&Mo(Ne,Kr,lt),lt.canActivateChecks.push(new fr(Be)),Wr(ue,null,pn.component?Kr?Kr.children:null:at,Be,lt)})(In,pn[In.value.outlet],at,Be.concat([In.value]),lt),delete pn[In.value.outlet]}),Object.entries(pn).forEach(([In,Kr])=>Mo(Kr,at.getContext(In),lt)),lt}function Mo(ue,Ne,at){const Be=Cs(ue),lt=ue.value;Object.entries(Be).forEach(([pn,In])=>{Mo(In,lt.component?Ne?Ne.children.getContext(pn):null:Ne,at)}),at.canDeactivateChecks.push(new mr(lt.component&&Ne&&Ne.outlet&&Ne.outlet.isActivated?Ne.outlet.component:null,lt))}function tt(ue){return"function"==typeof ue}function ti(ue){return ue instanceof u.G||"EmptyError"===ue?.name}const _o=Symbol("INITIAL_VALUE");function rn(){return(0,ie.n)(ue=>(0,C.z)(ue.map(Ne=>Ne.pipe((0,ae.s)(1),(0,le.Z)(_o)))).pipe((0,L.T)(Ne=>{for(const at of Ne)if(!0!==at){if(at===_o)return _o;if(!1===at||at instanceof ft)return at}return!0}),(0,fe.p)(Ne=>Ne!==_o),(0,ae.s)(1)))}function ni(ue){return(0,U.F)((0,Q.M)(Ne=>{if(Er(Ne))throw Go(0,Ne)}),(0,L.T)(Ne=>!0===Ne))}class mi{constructor(Ne){this.segmentGroup=Ne||null}}class Wi extends Error{constructor(Ne){super(),this.urlTree=Ne}}function Pi(ue){return(0,O.$)(new mi(ue))}class wt{constructor(Ne,at){this.urlSerializer=Ne,this.urlTree=at}lineralizeSegments(Ne,at){let Be=[],lt=at.root;for(;;){if(Be=Be.concat(lt.segments),0===lt.numberOfChildren)return(0,b.of)(Be);if(lt.numberOfChildren>1||!lt.children[ln])return(0,O.$)(new r.wOt(4e3,!1));lt=lt.children[ln]}}applyRedirectCommands(Ne,at,Be){const lt=this.applyRedirectCreateUrlTree(at,this.urlSerializer.parse(at),Ne,Be);if(at.startsWith("/"))throw new Wi(lt);return lt}applyRedirectCreateUrlTree(Ne,at,Be,lt){const pn=this.createSegmentGroup(Ne,at.root,Be,lt);return new ft(pn,this.createQueryParams(at.queryParams,this.urlTree.queryParams),at.fragment)}createQueryParams(Ne,at){const Be={};return Object.entries(Ne).forEach(([lt,pn])=>{if("string"==typeof pn&&pn.startsWith(":")){const Kr=pn.substring(1);Be[lt]=at[Kr]}else Be[lt]=pn}),Be}createSegmentGroup(Ne,at,Be,lt){const pn=this.createSegments(Ne,at.segments,Be,lt);let In={};return Object.entries(at.children).forEach(([Kr,to])=>{In[Kr]=this.createSegmentGroup(Ne,to,Be,lt)}),new It(pn,In)}createSegments(Ne,at,Be,lt){return at.map(pn=>pn.path.startsWith(":")?this.findPosParam(Ne,pn,lt):this.findOrReturn(pn,Be))}findPosParam(Ne,at,Be){const lt=Be[at.path.substring(1)];if(!lt)throw new r.wOt(4001,!1);return lt}findOrReturn(Ne,at){let Be=0;for(const lt of at){if(lt.path===Ne.path)return at.splice(Be),lt;Be++}return Ne}}const Pt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cn(ue,Ne,at,Be,lt){const pn=xn(ue,Ne,at);return pn.matched?(Be=function Vs(ue,Ne){return ue.providers&&!ue._injector&&(ue._injector=(0,r.Ol2)(ue.providers,Ne,`Route: ${ue.path}`)),ue._injector??Ne}(Ne,Be),function Pr(ue,Ne,at,Be){const lt=Ne.canMatch;if(!lt||0===lt.length)return(0,b.of)(!0);const pn=lt.map(In=>{const Kr=li(In,ue);return Y(function yr(ue){return ue&&tt(ue.canMatch)}(Kr)?Kr.canMatch(Ne,at):(0,r.N4e)(ue,()=>Kr(Ne,at)))});return(0,b.of)(pn).pipe(rn(),ni())}(Be,Ne,at).pipe((0,L.T)(In=>!0===In?pn:{...Pt}))):(0,b.of)(pn)}function xn(ue,Ne,at){if("**"===Ne.path)return function nr(ue){return{matched:!0,parameters:ue.length>0?N(ue).parameters:{},consumedSegments:ue,remainingSegments:[],positionalParamSegments:{}}}(at);if(""===Ne.path)return"full"===Ne.pathMatch&&(ue.hasChildren()||at.length>0)?{...Pt}:{matched:!0,consumedSegments:[],remainingSegments:at,parameters:{},positionalParamSegments:{}};const lt=(Ne.matcher||Ot)(at,ue,Ne);if(!lt)return{...Pt};const pn={};Object.entries(lt.posParams??{}).forEach(([Kr,to])=>{pn[Kr]=to.path});const In=lt.consumed.length>0?{...pn,...lt.consumed[lt.consumed.length-1].parameters}:pn;return{matched:!0,consumedSegments:lt.consumed,remainingSegments:at.slice(lt.consumed.length),parameters:In,positionalParamSegments:lt.posParams??{}}}function Yn(ue,Ne,at,Be){return at.length>0&&function Lr(ue,Ne,at){return at.some(Be=>vi(ue,Ne,Be)&&Ut(Be)!==ln)}(ue,at,Be)?{segmentGroup:new It(Ne,wr(Be,new It(at,ue.children))),slicedSegments:[]}:0===at.length&&function Fr(ue,Ne,at){return at.some(Be=>vi(ue,Ne,Be))}(ue,at,Be)?{segmentGroup:new It(ue.segments,kr(ue,at,Be,ue.children)),slicedSegments:at}:{segmentGroup:new It(ue.segments,ue.children),slicedSegments:at}}function kr(ue,Ne,at,Be){const lt={};for(const pn of at)if(vi(ue,Ne,pn)&&!Be[Ut(pn)]){const In=new It([],{});lt[Ut(pn)]=In}return{...Be,...lt}}function wr(ue,Ne){const at={};at[ln]=Ne;for(const Be of ue)if(""===Be.path&&Ut(Be)!==ln){const lt=new It([],{});at[Ut(Be)]=lt}return at}function vi(ue,Ne,at){return(!(ue.hasChildren()||Ne.length>0)||"full"!==at.pathMatch)&&""===at.path}class lr{}class Ur{constructor(Ne,at,Be,lt,pn,In,Kr){this.injector=Ne,this.configLoader=at,this.rootComponentType=Be,this.config=lt,this.urlTree=pn,this.paramsInheritanceStrategy=In,this.urlSerializer=Kr,this.applyRedirects=new wt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ne){return new r.wOt(4002,`'${Ne.segmentGroup}'`)}recognize(){const Ne=Yn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ne).pipe((0,L.T)(at=>{const Be=new Vr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,{}),lt=new as(Be,at),pn=new Ti("",lt),In=function _r(ue,Ne,at=null,Be=null){return _n(sr(ue),Ne,at,Be)}(Be,[],this.urlTree.queryParams,this.urlTree.fragment);return In.queryParams=this.urlTree.queryParams,pn.url=this.urlSerializer.serialize(In),this.inheritParamsAndData(pn._root,null),{state:pn,tree:In}}))}match(Ne){return this.processSegmentGroup(this.injector,this.config,Ne,ln).pipe((0,ee.W)(Be=>{if(Be instanceof Wi)return this.urlTree=Be.urlTree,this.match(Be.urlTree.root);throw Be instanceof mi?this.noMatchError(Be):Be}))}inheritParamsAndData(Ne,at){const Be=Ne.value,lt=Zn(Be,at,this.paramsInheritanceStrategy);Be.params=Object.freeze(lt.params),Be.data=Object.freeze(lt.data),Ne.children.forEach(pn=>this.inheritParamsAndData(pn,Be))}processSegmentGroup(Ne,at,Be,lt){return 0===Be.segments.length&&Be.hasChildren()?this.processChildren(Ne,at,Be):this.processSegment(Ne,at,Be,Be.segments,lt,!0).pipe((0,L.T)(pn=>pn instanceof as?[pn]:[]))}processChildren(Ne,at,Be){const lt=[];for(const pn of Object.keys(Be.children))"primary"===pn?lt.unshift(pn):lt.push(pn);return(0,f.H)(lt).pipe((0,j.H)(pn=>{const In=Be.children[pn],Kr=function dn(ue,Ne){const at=ue.filter(Be=>Ut(Be)===Ne);return at.push(...ue.filter(Be=>Ut(Be)!==Ne)),at}(at,pn);return this.processSegmentGroup(Ne,Kr,In,pn)}),function Qe(ue,Ne){return(0,be.N)((0,Se.S)(ue,Ne,arguments.length>=2,!0))}((pn,In)=>(pn.push(...In),pn)),(0,nt.U)(null),function I(ue,Ne){const at=arguments.length>=2;return Be=>Be.pipe(ue?(0,fe.p)((lt,pn)=>ue(lt,pn,Be)):ve.D,ut(1),at?(0,nt.U)(Ne):(0,Ft.v)(()=>new u.G))}(),(0,q.Z)(pn=>{if(null===pn)return Pi(Be);const In=Si(pn);return function gi(ue){ue.sort((Ne,at)=>Ne.value.outlet===ln?-1:at.value.outlet===ln?1:Ne.value.outlet.localeCompare(at.value.outlet))}(In),(0,b.of)(In)}))}processSegment(Ne,at,Be,lt,pn,In){return(0,f.H)(at).pipe((0,j.H)(Kr=>this.processSegmentAgainstRoute(Kr._injector??Ne,at,Kr,Be,lt,pn,In).pipe((0,ee.W)(to=>{if(to instanceof mi)return(0,b.of)(null);throw to}))),(0,$.$)(Kr=>!!Kr),(0,ee.W)(Kr=>{if(ti(Kr))return function Fn(ue,Ne,at){return 0===Ne.length&&!ue.children[at]}(Be,lt,pn)?(0,b.of)(new lr):Pi(Be);throw Kr}))}processSegmentAgainstRoute(Ne,at,Be,lt,pn,In,Kr){return function Hi(ue,Ne,at,Be){return!!(Ut(ue)===Be||Be!==ln&&vi(Ne,at,ue))&&xn(Ne,ue,at).matched}(Be,lt,pn,In)?void 0===Be.redirectTo?this.matchSegmentAgainstRoute(Ne,lt,Be,pn,In):this.allowRedirects&&Kr?this.expandSegmentAgainstRouteUsingRedirect(Ne,lt,at,Be,pn,In):Pi(lt):Pi(lt)}expandSegmentAgainstRouteUsingRedirect(Ne,at,Be,lt,pn,In){const{matched:Kr,consumedSegments:to,positionalParamSegments:xi,remainingSegments:jo}=xn(at,lt,pn);if(!Kr)return Pi(at);lt.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ls=this.applyRedirects.applyRedirectCommands(to,lt.redirectTo,xi);return this.applyRedirects.lineralizeSegments(lt,Ls).pipe((0,q.Z)(Ds=>this.processSegment(Ne,Be,at,Ds.concat(jo),In,!1)))}matchSegmentAgainstRoute(Ne,at,Be,lt,pn){const In=cn(at,Be,lt,Ne);return"**"===Be.path&&(at.children={}),In.pipe((0,ie.n)(Kr=>Kr.matched?this.getChildConfig(Ne=Be._injector??Ne,Be,lt).pipe((0,ie.n)(({routes:to})=>{const xi=Be._loadedInjector??Ne,{consumedSegments:jo,remainingSegments:Ls,parameters:Ds}=Kr,ga=new Vr(jo,Ds,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function zo(ue){return ue.data||{}}(Be),Ut(Be),Be.component??Be._loadedComponent??null,Be,function ki(ue){return ue.resolve||{}}(Be)),{segmentGroup:Na,slicedSegments:_a}=Yn(at,jo,Ls,to);if(0===_a.length&&Na.hasChildren())return this.processChildren(xi,to,Na).pipe((0,L.T)(xl=>null===xl?null:new as(ga,xl)));if(0===to.length&&0===_a.length)return(0,b.of)(new as(ga,[]));const xa=Ut(Be)===pn;return this.processSegment(xi,to,Na,_a,xa?ln:pn,!0).pipe((0,L.T)(xl=>new as(ga,xl instanceof as?[xl]:[])))})):Pi(at)))}getChildConfig(Ne,at,Be){return at.children?(0,b.of)({routes:at.children,injector:Ne}):at.loadChildren?void 0!==at._loadedRoutes?(0,b.of)({routes:at._loadedRoutes,injector:at._loadedInjector}):function si(ue,Ne,at,Be){const lt=Ne.canLoad;if(void 0===lt||0===lt.length)return(0,b.of)(!0);const pn=lt.map(In=>{const Kr=li(In,ue);return Y(function ce(ue){return ue&&tt(ue.canLoad)}(Kr)?Kr.canLoad(Ne,at):(0,r.N4e)(ue,()=>Kr(Ne,at)))});return(0,b.of)(pn).pipe(rn(),ni())}(Ne,at,Be).pipe((0,q.Z)(lt=>lt?this.configLoader.loadChildren(Ne,at).pipe((0,Q.M)(pn=>{at._loadedRoutes=pn.routes,at._loadedInjector=pn.injector})):function qe(ue){return(0,O.$)(Aa(!1,pi.GuardRejected))}())):(0,b.of)({routes:[],injector:Ne})}}function Fi(ue){const Ne=ue.value.routeConfig;return Ne&&""===Ne.path}function Si(ue){const Ne=[],at=new Set;for(const Be of ue){if(!Fi(Be)){Ne.push(Be);continue}const lt=Ne.find(pn=>Be.value.routeConfig===pn.value.routeConfig);void 0!==lt?(lt.children.push(...Be.children),at.add(lt)):Ne.push(Be)}for(const Be of at){const lt=Si(Be.children);Ne.push(new as(Be.value,lt))}return Ne.filter(Be=>!at.has(Be))}function qo(ue){const Ne=ue.children.map(at=>qo(at)).flat();return[ue,...Ne]}function ht(ue){return(0,ie.n)(Ne=>{const at=ue(Ne);return at?(0,f.H)(at).pipe((0,L.T)(()=>Ne)):(0,b.of)(Ne)})}let Vt=(()=>{var ue;class Ne{buildTitle(Be){let lt,pn=Be.root;for(;void 0!==pn;)lt=this.getResolvedTitleForRoute(pn)??lt,pn=pn.children.find(In=>In.outlet===ln);return lt}getResolvedTitleForRoute(Be){return Be.data[Bt]}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:()=>(0,r.WQX)(yn),providedIn:"root"}),Ne})(),yn=(()=>{var ue;class Ne extends Vt{constructor(Be){super(),this.title=Be}updateTitle(Be){const lt=this.buildTitle(Be);void 0!==lt&&this.title.setTitle(lt)}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)(r.KVO(Ht.hE))},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();const Wn=new r.nKC("",{providedIn:"root",factory:()=>({})}),ir=new r.nKC("");let Ci=(()=>{var ue;class Ne{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.WQX)(r.Ql9)}loadComponent(Be){if(this.componentLoaders.get(Be))return this.componentLoaders.get(Be);if(Be._loadedComponent)return(0,b.of)(Be._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Be);const lt=Y(Be.loadComponent()).pipe((0,L.T)(vo),(0,Q.M)(In=>{this.onLoadEndListener&&this.onLoadEndListener(Be),Be._loadedComponent=In}),(0,ge.j)(()=>{this.componentLoaders.delete(Be)})),pn=new _.G(lt,()=>new D.B).pipe((0,Pe.B)());return this.componentLoaders.set(Be,pn),pn}loadChildren(Be,lt){if(this.childrenLoaders.get(lt))return this.childrenLoaders.get(lt);if(lt._loadedRoutes)return(0,b.of)({routes:lt._loadedRoutes,injector:lt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(lt);const In=function Li(ue,Ne,at,Be){return Y(ue.loadChildren()).pipe((0,L.T)(vo),(0,q.Z)(lt=>lt instanceof r.Co$||Array.isArray(lt)?(0,b.of)(lt):(0,f.H)(Ne.compileModuleAsync(lt))),(0,L.T)(lt=>{Be&&Be(ue);let pn,In,Kr=!1;return Array.isArray(lt)?(In=lt,!0):(pn=lt.create(at).injector,In=pn.get(ir,[],{optional:!0,self:!0}).flat()),{routes:In.map(mn),injector:pn}}))}(lt,this.compiler,Be,this.onLoadEndListener).pipe((0,ge.j)(()=>{this.childrenLoaders.delete(lt)})),Kr=new _.G(In,()=>new D.B).pipe((0,Pe.B)());return this.childrenLoaders.set(lt,Kr),Kr}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();function vo(ue){return function io(ue){return ue&&"object"==typeof ue&&"default"in ue}(ue)?ue.default:ue}let Xo=(()=>{var ue;class Ne{}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:()=>(0,r.WQX)(gs),providedIn:"root"}),Ne})(),gs=(()=>{var ue;class Ne{shouldProcessUrl(Be){return!0}extract(Be){return Be}merge(Be,lt){return Be}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();const Ms=new r.nKC(""),ca=new r.nKC("");function ya(ue,Ne,at){const Be=ue.get(ca),lt=ue.get(K.qQ);return ue.get(r.SKi).runOutsideAngular(()=>{if(!lt.startViewTransition||Be.skipNextTransition)return Be.skipNextTransition=!1,Promise.resolve();let pn;const In=new Promise(xi=>{pn=xi}),Kr=lt.startViewTransition(()=>(pn(),function Ee(ue){return new Promise(Ne=>{(0,r.mal)(Ne,{injector:ue})})}(ue))),{onViewTransitionCreated:to}=Be;return to&&(0,r.N4e)(ue,()=>to({transition:Kr,from:Ne,to:at})),In})}let yt=(()=>{var ue;class Ne{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new D.B,this.transitionAbortSubject=new D.B,this.configLoader=(0,r.WQX)(Ci),this.environmentInjector=(0,r.WQX)(r.uvJ),this.urlSerializer=(0,r.WQX)(Qt),this.rootContexts=(0,r.WQX)(ko),this.location=(0,r.WQX)(K.aZ),this.inputBindingEnabled=null!==(0,r.WQX)(Qo,{optional:!0}),this.titleStrategy=(0,r.WQX)(Vt),this.options=(0,r.WQX)(Wn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,r.WQX)(Xo),this.createViewTransition=(0,r.WQX)(Ms,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,b.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=pn=>this.events.next(new Ro(pn)),this.configLoader.onLoadStartListener=pn=>this.events.next(new po(pn))}complete(){this.transitions?.complete()}handleNavigationRequest(Be){const lt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Be,id:lt})}setupNavigations(Be,lt,pn){return this.transitions=new E.t({id:0,currentUrlTree:lt,currentRawUrl:lt,extractedUrl:this.urlHandlingStrategy.extract(lt),urlAfterRedirects:this.urlHandlingStrategy.extract(lt),rawUrl:lt,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Un,restoredState:null,currentSnapshot:pn.snapshot,targetSnapshot:null,currentRouterState:pn,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,fe.p)(In=>0!==In.id),(0,L.T)(In=>({...In,extractedUrl:this.urlHandlingStrategy.extract(In.rawUrl)})),(0,ie.n)(In=>{let Kr=!1,to=!1;return(0,b.of)(In).pipe((0,ie.n)(xi=>{if(this.navigationId>In.id)return this.cancelNavigationTransition(In,"",pi.SupersededByNewNavigation),y.w;this.currentTransition=In,this.currentNavigation={id:xi.id,initialUrl:xi.rawUrl,extractedUrl:xi.extractedUrl,trigger:xi.source,extras:xi.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const jo=!Be.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!jo&&"reload"!==(xi.extras.onSameUrlNavigation??Be.onSameUrlNavigation)){const Ds="";return this.events.next(new Tn(xi.id,this.urlSerializer.serialize(xi.rawUrl),Ds,di.IgnoredSameUrlNavigation)),xi.resolve(null),y.w}if(this.urlHandlingStrategy.shouldProcessUrl(xi.rawUrl))return(0,b.of)(xi).pipe((0,ie.n)(Ds=>{const ga=this.transitions?.getValue();return this.events.next(new Ai(Ds.id,this.urlSerializer.serialize(Ds.extractedUrl),Ds.source,Ds.restoredState)),ga!==this.transitions?.getValue()?y.w:Promise.resolve(Ds)}),function As(ue,Ne,at,Be,lt,pn){return(0,q.Z)(In=>function wn(ue,Ne,at,Be,lt,pn,In="emptyOnly"){return new Ur(ue,Ne,at,Be,lt,In,pn).recognize()}(ue,Ne,at,Be,In.extractedUrl,lt,pn).pipe((0,L.T)(({state:Kr,tree:to})=>({...In,targetSnapshot:Kr,urlAfterRedirects:to}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Be.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Q.M)(Ds=>{In.targetSnapshot=Ds.targetSnapshot,In.urlAfterRedirects=Ds.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ds.urlAfterRedirects};const ga=new hr(Ds.id,this.urlSerializer.serialize(Ds.extractedUrl),this.urlSerializer.serialize(Ds.urlAfterRedirects),Ds.targetSnapshot);this.events.next(ga)}));if(jo&&this.urlHandlingStrategy.shouldProcessUrl(xi.currentRawUrl)){const{id:Ds,extractedUrl:ga,source:Na,restoredState:_a,extras:xa}=xi,xl=new Ai(Ds,this.urlSerializer.serialize(ga),Na,_a);this.events.next(xl);const Oc=Jo(this.rootComponentType).snapshot;return this.currentTransition=In={...xi,targetSnapshot:Oc,urlAfterRedirects:ga,extras:{...xa,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ga,(0,b.of)(In)}{const Ds="";return this.events.next(new Tn(xi.id,this.urlSerializer.serialize(xi.extractedUrl),Ds,di.IgnoredByUrlHandlingStrategy)),xi.resolve(null),y.w}}),(0,Q.M)(xi=>{const jo=new Dr(xi.id,this.urlSerializer.serialize(xi.extractedUrl),this.urlSerializer.serialize(xi.urlAfterRedirects),xi.targetSnapshot);this.events.next(jo)}),(0,L.T)(xi=>(this.currentTransition=In={...xi,guards:$r(xi.targetSnapshot,xi.currentSnapshot,this.rootContexts)},In)),function pe(ue,Ne){return(0,q.Z)(at=>{const{targetSnapshot:Be,currentSnapshot:lt,guards:{canActivateChecks:pn,canDeactivateChecks:In}}=at;return 0===In.length&&0===pn.length?(0,b.of)({...at,guardsResult:!0}):function Re(ue,Ne,at,Be){return(0,f.H)(ue).pipe((0,q.Z)(lt=>function Zr(ue,Ne,at,Be,lt){const pn=Ne&&Ne.routeConfig?Ne.routeConfig.canDeactivate:null;if(!pn||0===pn.length)return(0,b.of)(!0);const In=pn.map(Kr=>{const to=Xe(Ne)??lt,xi=li(Kr,to);return Y(function Wt(ue){return ue&&tt(ue.canDeactivate)}(xi)?xi.canDeactivate(ue,Ne,at,Be):(0,r.N4e)(to,()=>xi(ue,Ne,at,Be))).pipe((0,$.$)())});return(0,b.of)(In).pipe(rn())}(lt.component,lt.route,at,Ne,Be)),(0,$.$)(lt=>!0!==lt,!0))}(In,Be,lt,ue).pipe((0,q.Z)(Kr=>Kr&&function re(ue){return"boolean"==typeof ue}(Kr)?function bt(ue,Ne,at,Be){return(0,f.H)(Ne).pipe((0,j.H)(lt=>(0,F.x)(function An(ue,Ne){return null!==ue&&Ne&&Ne(new Ji(ue)),(0,b.of)(!0)}(lt.route.parent,Be),function tn(ue,Ne){return null!==ue&&Ne&&Ne(new un(ue)),(0,b.of)(!0)}(lt.route,Be),function ar(ue,Ne,at){const Be=Ne[Ne.length-1],pn=Ne.slice(0,Ne.length-1).reverse().map(In=>function jr(ue){const Ne=ue.routeConfig?ue.routeConfig.canActivateChild:null;return Ne&&0!==Ne.length?{node:ue,guards:Ne}:null}(In)).filter(In=>null!==In).map(In=>(0,S.v)(()=>{const Kr=In.guards.map(to=>{const xi=Xe(In.node)??at,jo=li(to,xi);return Y(function Le(ue){return ue&&tt(ue.canActivateChild)}(jo)?jo.canActivateChild(Be,ue):(0,r.N4e)(xi,()=>jo(Be,ue))).pipe((0,$.$)())});return(0,b.of)(Kr).pipe(rn())}));return(0,b.of)(pn).pipe(rn())}(ue,lt.path,at),function Kn(ue,Ne,at){const Be=Ne.routeConfig?Ne.routeConfig.canActivate:null;if(!Be||0===Be.length)return(0,b.of)(!0);const lt=Be.map(pn=>(0,S.v)(()=>{const In=Xe(Ne)??at,Kr=li(pn,In);return Y(function Je(ue){return ue&&tt(ue.canActivate)}(Kr)?Kr.canActivate(Ne,ue):(0,r.N4e)(In,()=>Kr(Ne,ue))).pipe((0,$.$)())}));return(0,b.of)(lt).pipe(rn())}(ue,lt.route,at))),(0,$.$)(lt=>!0!==lt,!0))}(Be,pn,ue,Ne):(0,b.of)(Kr)),(0,L.T)(Kr=>({...at,guardsResult:Kr})))})}(this.environmentInjector,xi=>this.events.next(xi)),(0,Q.M)(xi=>{if(In.guardsResult=xi.guardsResult,Er(xi.guardsResult))throw Go(0,xi.guardsResult);const jo=new qr(xi.id,this.urlSerializer.serialize(xi.extractedUrl),this.urlSerializer.serialize(xi.urlAfterRedirects),xi.targetSnapshot,!!xi.guardsResult);this.events.next(jo)}),(0,fe.p)(xi=>!!xi.guardsResult||(this.cancelNavigationTransition(xi,"",pi.GuardRejected),!1)),ht(xi=>{if(xi.guards.canActivateChecks.length)return(0,b.of)(xi).pipe((0,Q.M)(jo=>{const Ls=new Bi(jo.id,this.urlSerializer.serialize(jo.extractedUrl),this.urlSerializer.serialize(jo.urlAfterRedirects),jo.targetSnapshot);this.events.next(Ls)}),(0,ie.n)(jo=>{let Ls=!1;return(0,b.of)(jo).pipe(function bs(ue,Ne){return(0,q.Z)(at=>{const{targetSnapshot:Be,guards:{canActivateChecks:lt}}=at;if(!lt.length)return(0,b.of)(at);const pn=new Set(lt.map(to=>to.route)),In=new Set;for(const to of pn)if(!In.has(to))for(const xi of qo(to))In.add(xi);let Kr=0;return(0,f.H)(In).pipe((0,j.H)(to=>pn.has(to)?function js(ue,Ne,at,Be){const lt=ue.routeConfig,pn=ue._resolve;return void 0!==lt?.title&&!co(lt)&&(pn[Bt]=lt.title),function Te(ue,Ne,at,Be){const lt=B(ue);if(0===lt.length)return(0,b.of)({});const pn={};return(0,f.H)(lt).pipe((0,q.Z)(In=>function et(ue,Ne,at,Be){const lt=Xe(Ne)??Be,pn=li(ue,lt);return Y(pn.resolve?pn.resolve(Ne,at):(0,r.N4e)(lt,()=>pn(Ne,at)))}(ue[In],Ne,at,Be).pipe((0,$.$)(),(0,Q.M)(Kr=>{pn[In]=Kr}))),ut(1),(0,V.u)(pn),(0,ee.W)(In=>ti(In)?y.w:(0,O.$)(In)))}(pn,ue,Ne,Be).pipe((0,L.T)(In=>(ue._resolvedData=In,ue.data=Zn(ue,ue.parent,at).resolve,null)))}(to,Be,ue,Ne):(to.data=Zn(to,to.parent,ue).resolve,(0,b.of)(void 0))),(0,Q.M)(()=>Kr++),ut(1),(0,q.Z)(to=>Kr===In.size?(0,b.of)(at):y.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Q.M)({next:()=>Ls=!0,complete:()=>{Ls||this.cancelNavigationTransition(jo,"",pi.NoDataFromResolver)}}))}),(0,Q.M)(jo=>{const Ls=new hi(jo.id,this.urlSerializer.serialize(jo.extractedUrl),this.urlSerializer.serialize(jo.urlAfterRedirects),jo.targetSnapshot);this.events.next(Ls)}))}),ht(xi=>{const jo=Ls=>{const Ds=[];Ls.routeConfig?.loadComponent&&!Ls.routeConfig._loadedComponent&&Ds.push(this.configLoader.loadComponent(Ls.routeConfig).pipe((0,Q.M)(ga=>{Ls.component=ga}),(0,L.T)(()=>{})));for(const ga of Ls.children)Ds.push(...jo(ga));return Ds};return(0,C.z)(jo(xi.targetSnapshot.root)).pipe((0,nt.U)(null),(0,ae.s)(1))}),ht(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:xi,targetSnapshot:jo}=In,Ls=this.createViewTransition?.(this.environmentInjector,xi.root,jo.root);return Ls?(0,f.H)(Ls).pipe((0,L.T)(()=>In)):(0,b.of)(In)}),(0,L.T)(xi=>{const jo=function Ws(ue,Ne,at){const Be=cs(ue,Ne._root,at?at._root:void 0);return new ts(Be,Ne)}(Be.routeReuseStrategy,xi.targetSnapshot,xi.currentRouterState);return this.currentTransition=In={...xi,targetRouterState:jo},this.currentNavigation.targetRouterState=jo,In}),(0,Q.M)(()=>{this.events.next(new ci)}),((ue,Ne,at,Be)=>(0,L.T)(lt=>(new zn(Ne,lt.targetRouterState,lt.currentRouterState,at,Be).activate(ue),lt)))(this.rootContexts,Be.routeReuseStrategy,xi=>this.events.next(xi),this.inputBindingEnabled),(0,ae.s)(1),(0,Q.M)({next:xi=>{Kr=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(xi.id,this.urlSerializer.serialize(xi.extractedUrl),this.urlSerializer.serialize(xi.urlAfterRedirects))),this.titleStrategy?.updateTitle(xi.targetRouterState.snapshot),xi.resolve(!0)},complete:()=>{Kr=!0}}),(0,ke.Q)(this.transitionAbortSubject.pipe((0,Q.M)(xi=>{throw xi}))),(0,ge.j)(()=>{!Kr&&!to&&this.cancelNavigationTransition(In,"",pi.SupersededByNewNavigation),this.currentTransition?.id===In.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,ee.W)(xi=>{if(to=!0,Ko(xi))this.events.next(new Zt(In.id,this.urlSerializer.serialize(In.extractedUrl),xi.message,xi.cancellationCode)),function oa(ue){return Ko(ue)&&Er(ue.url)}(xi)?this.events.next(new $i(xi.url)):In.resolve(!1);else{this.events.next(new Hn(In.id,this.urlSerializer.serialize(In.extractedUrl),xi,In.targetSnapshot??void 0));try{In.resolve(Be.errorHandler(xi))}catch(jo){this.options.resolveNavigationPromiseOnError?In.resolve(!1):In.reject(jo)}}return y.w}))}))}cancelNavigationTransition(Be,lt,pn){const In=new Zt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),lt,pn);this.events.next(In),Be.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();function Sn(ue){return ue!==Un}let st=(()=>{var ue;class Ne{}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:()=>(0,r.WQX)(cr),providedIn:"root"}),Ne})();class vn{shouldDetach(Ne){return!1}store(Ne,at){}shouldAttach(Ne){return!1}retrieve(Ne){return null}shouldReuseRoute(Ne,at){return Ne.routeConfig===at.routeConfig}}let cr=(()=>{var ue;class Ne extends vn{}return(ue=Ne).\u0275fac=(()=>{let at;return function(lt){return(at||(at=r.xGo(ue)))(lt||ue)}})(),ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})(),bi=(()=>{var ue;class Ne{}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:()=>(0,r.WQX)(ao),providedIn:"root"}),Ne})(),ao=(()=>{var ue;class Ne extends bi{constructor(){super(...arguments),this.location=(0,r.WQX)(K.aZ),this.urlSerializer=(0,r.WQX)(Qt),this.options=(0,r.WQX)(Wn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,r.WQX)(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ft,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Jo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Be){return this.location.subscribe(lt=>{"popstate"===lt.type&&Be(lt.url,lt.state)})}handleRouterEvent(Be,lt){if(Be instanceof Ai)this.stateMemento=this.createStateMemento();else if(Be instanceof Tn)this.rawUrlTree=lt.initialUrl;else if(Be instanceof hr){if("eager"===this.urlUpdateStrategy&&!lt.extras.skipLocationChange){const pn=this.urlHandlingStrategy.merge(lt.finalUrl,lt.initialUrl);this.setBrowserUrl(pn,lt)}}else Be instanceof ci?(this.currentUrlTree=lt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(lt.finalUrl,lt.initialUrl),this.routerState=lt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(lt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,lt))):Be instanceof Zt&&(Be.code===pi.GuardRejected||Be.code===pi.NoDataFromResolver)?this.restoreHistory(lt):Be instanceof Hn?this.restoreHistory(lt,!0):Be instanceof Mi&&(this.lastSuccessfulId=Be.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Be,lt){const pn=this.urlSerializer.serialize(Be);if(this.location.isCurrentPathEqualTo(pn)||lt.extras.replaceUrl){const Kr={...lt.extras.state,...this.generateNgRouterState(lt.id,this.browserPageId)};this.location.replaceState(pn,"",Kr)}else{const In={...lt.extras.state,...this.generateNgRouterState(lt.id,this.browserPageId+1)};this.location.go(pn,"",In)}}restoreHistory(Be,lt=!1){if("computed"===this.canceledNavigationResolution){const In=this.currentPageId-this.browserPageId;0!==In?this.location.historyGo(In):this.currentUrlTree===Be.finalUrl&&0===In&&(this.resetState(Be),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(lt&&this.resetState(Be),this.resetUrlToCurrentUrlTree())}resetState(Be){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Be.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Be,lt){return"computed"===this.canceledNavigationResolution?{navigationId:Be,\u0275routerPageId:lt}:{navigationId:Be}}}return(ue=Ne).\u0275fac=(()=>{let at;return function(lt){return(at||(at=r.xGo(ue)))(lt||ue)}})(),ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();var ls=function(ue){return ue[ue.COMPLETE=0]="COMPLETE",ue[ue.FAILED=1]="FAILED",ue[ue.REDIRECTING=2]="REDIRECTING",ue}(ls||{});function Rs(ue,Ne){ue.events.pipe((0,fe.p)(at=>at instanceof Mi||at instanceof Zt||at instanceof Hn||at instanceof Tn),(0,L.T)(at=>at instanceof Mi||at instanceof Tn?ls.COMPLETE:at instanceof Zt&&(at.code===pi.Redirect||at.code===pi.SupersededByNewNavigation)?ls.REDIRECTING:ls.FAILED),(0,fe.p)(at=>at!==ls.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{Ne()})}function qs(ue){throw ue}const us={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hs=(()=>{var ue;class Ne{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,r.WQX)(r.H3F),this.stateManager=(0,r.WQX)(bi),this.options=(0,r.WQX)(Wn,{optional:!0})||{},this.pendingTasks=(0,r.WQX)(r.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,r.WQX)(yt),this.urlSerializer=(0,r.WQX)(Qt),this.location=(0,r.WQX)(K.aZ),this.urlHandlingStrategy=(0,r.WQX)(Xo),this._events=new D.B,this.errorHandler=this.options.errorHandler||qs,this.navigated=!1,this.routeReuseStrategy=(0,r.WQX)(st),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,r.WQX)(ir,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,r.WQX)(Qo,{optional:!0}),this.eventsSubscription=new W.yU,this.isNgZoneEnabled=(0,r.WQX)(r.SKi)instanceof r.SKi&&r.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Be=>{this.console.warn(Be)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Be=this.navigationTransitions.events.subscribe(lt=>{try{const pn=this.navigationTransitions.currentTransition,In=this.navigationTransitions.currentNavigation;if(null!==pn&&null!==In)if(this.stateManager.handleRouterEvent(lt,In),lt instanceof Zt&&lt.code!==pi.Redirect&&lt.code!==pi.SupersededByNewNavigation)this.navigated=!0;else if(lt instanceof Mi)this.navigated=!0;else if(lt instanceof $i){const Kr=this.urlHandlingStrategy.merge(lt.url,pn.currentRawUrl),to={info:pn.extras.info,skipLocationChange:pn.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sn(pn.source)};this.scheduleNavigation(Kr,Un,null,to,{resolve:pn.resolve,reject:pn.reject,promise:pn.promise})}(function Fo(ue){return!(ue instanceof ci||ue instanceof $i)})(lt)&&this._events.next(lt)}catch(pn){this.navigationTransitions.transitionAbortSubject.next(pn)}});this.eventsSubscription.add(Be)}resetRootComponentType(Be){this.routerState.root.component=Be,this.navigationTransitions.rootComponentType=Be}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Be,lt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Be,"popstate",lt)},0)})}navigateToSyncWithBrowser(Be,lt,pn){const In={replaceUrl:!0},Kr=pn?.navigationId?pn:null;if(pn){const xi={...pn};delete xi.navigationId,delete xi.\u0275routerPageId,0!==Object.keys(xi).length&&(In.state=xi)}const to=this.parseUrl(Be);this.scheduleNavigation(to,lt,Kr,In)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Be){this.config=Be.map(mn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Be,lt={}){const{relativeTo:pn,queryParams:In,fragment:Kr,queryParamsHandling:to,preserveFragment:xi}=lt,jo=xi?this.currentUrlTree.fragment:Kr;let Ds,Ls=null;switch(to){case"merge":Ls={...this.currentUrlTree.queryParams,...In};break;case"preserve":Ls=this.currentUrlTree.queryParams;break;default:Ls=In||null}null!==Ls&&(Ls=this.removeEmptyProps(Ls));try{Ds=sr(pn?pn.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Be[0]||!Be[0].startsWith("/"))&&(Be=[]),Ds=this.currentUrlTree.root}return _n(Ds,Be,Ls,jo??null)}navigateByUrl(Be,lt={skipLocationChange:!1}){const pn=Er(Be)?Be:this.parseUrl(Be),In=this.urlHandlingStrategy.merge(pn,this.rawUrlTree);return this.scheduleNavigation(In,Un,null,lt)}navigate(Be,lt={skipLocationChange:!1}){return function fs(ue){for(let Ne=0;Ne<ue.length;Ne++)if(null==ue[Ne])throw new r.wOt(4008,!1)}(Be),this.navigateByUrl(this.createUrlTree(Be,lt),lt)}serializeUrl(Be){return this.urlSerializer.serialize(Be)}parseUrl(Be){try{return this.urlSerializer.parse(Be)}catch{return this.urlSerializer.parse("/")}}isActive(Be,lt){let pn;if(pn=!0===lt?{...us}:!1===lt?{...fa}:lt,Er(Be))return Z(this.currentUrlTree,Be,pn);const In=this.parseUrl(Be);return Z(this.currentUrlTree,In,pn)}removeEmptyProps(Be){return Object.entries(Be).reduce((lt,[pn,In])=>(null!=In&&(lt[pn]=In),lt),{})}scheduleNavigation(Be,lt,pn,In,Kr){if(this.disposed)return Promise.resolve(!1);let to,xi,jo;Kr?(to=Kr.resolve,xi=Kr.reject,jo=Kr.promise):jo=new Promise((Ds,ga)=>{to=Ds,xi=ga});const Ls=this.pendingTasks.add();return Rs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ls))}),this.navigationTransitions.handleNavigationRequest({source:lt,restoredState:pn,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Be,extras:In,resolve:to,reject:xi,promise:jo,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jo.catch(Ds=>Promise.reject(Ds))}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();class pa{}let Sa=(()=>{var ue;class Ne{constructor(Be,lt,pn,In,Kr){this.router=Be,this.injector=pn,this.preloadingStrategy=In,this.loader=Kr}setUpPreloading(){this.subscription=this.router.events.pipe((0,fe.p)(Be=>Be instanceof Mi),(0,j.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Be,lt){const pn=[];for(const In of lt){In.providers&&!In._injector&&(In._injector=(0,r.Ol2)(In.providers,Be,`Route: ${In.path}`));const Kr=In._injector??Be,to=In._loadedInjector??Kr;(In.loadChildren&&!In._loadedRoutes&&void 0===In.canLoad||In.loadComponent&&!In._loadedComponent)&&pn.push(this.preloadConfig(Kr,In)),(In.children||In._loadedRoutes)&&pn.push(this.processRoutes(to,In.children??In._loadedRoutes))}return(0,f.H)(pn).pipe((0,xt.U)())}preloadConfig(Be,lt){return this.preloadingStrategy.preload(lt,()=>{let pn;pn=lt.loadChildren&&void 0===lt.canLoad?this.loader.loadChildren(Be,lt):(0,b.of)(null);const In=pn.pipe((0,q.Z)(Kr=>null===Kr?(0,b.of)(void 0):(lt._loadedRoutes=Kr.routes,lt._loadedInjector=Kr.injector,this.processRoutes(Kr.injector??Be,Kr.routes))));if(lt.loadComponent&&!lt._loadedComponent){const Kr=this.loader.loadComponent(lt);return(0,f.H)([In,Kr]).pipe((0,xt.U)())}return In})}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)(r.KVO(hs),r.KVO(r.Ql9),r.KVO(r.uvJ),r.KVO(pa),r.KVO(Ci))},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})();const _s=new r.nKC("");let ra=(()=>{var ue;class Ne{constructor(Be,lt,pn,In,Kr={}){this.urlSerializer=Be,this.transitions=lt,this.viewportScroller=pn,this.zone=In,this.options=Kr,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Kr.scrollPositionRestoration||="disabled",Kr.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Be=>{Be instanceof Ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Be.navigationTrigger,this.restoredId=Be.restoredState?Be.restoredState.navigationId:0):Be instanceof Mi?(this.lastId=Be.id,this.scheduleScrollEvent(Be,this.urlSerializer.parse(Be.urlAfterRedirects).fragment)):Be instanceof Tn&&Be.code===di.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Be,this.urlSerializer.parse(Be.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Be=>{Be instanceof Rr&&(Be.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Be.position):Be.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Be.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Be,lt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rr(Be,"popstate"===this.lastSource?this.store[this.restoredId]:null,lt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(ue=Ne).\u0275fac=function(Be){r.QTQ()},ue.\u0275prov=r.jDH({token:ue,factory:ue.\u0275fac}),Ne})();function ma(ue,Ne){return{\u0275kind:ue,\u0275providers:Ne}}function Ql(){const ue=(0,r.WQX)(r.zZn);return Ne=>{const at=ue.get(r.o8S);if(Ne!==at.components[0])return;const Be=ue.get(hs),lt=ue.get($a);1===ue.get(hl)&&Be.initialNavigation(),ue.get(Za,null,r.$GK.Optional)?.setUpPreloading(),ue.get(_s,null,r.$GK.Optional)?.init(),Be.resetRootComponentType(at.componentTypes[0]),lt.closed||(lt.next(),lt.complete(),lt.unsubscribe())}}const $a=new r.nKC("",{factory:()=>new D.B}),hl=new r.nKC("",{providedIn:"root",factory:()=>1}),Za=new r.nKC("");function Vo(ue){return ma(0,[{provide:Za,useExisting:Sa},{provide:pa,useExisting:ue}])}function sl(ue){return ma(9,[{provide:Ms,useValue:ya},{provide:ca,useValue:{skipNextTransition:!!ue?.skipInitialTransition,...ue}}])}const Zl=new r.nKC("ROUTER_FORROOT_GUARD"),ka=[K.aZ,{provide:Qt,useClass:Ke},hs,ko,{provide:jn,useFactory:function Bo(ue){return ue.routerState.root},deps:[hs]},Ci,[]];let Fa=(()=>{var ue;class Ne{constructor(Be){}static forRoot(Be,lt){return{ngModule:Ne,providers:[ka,[],{provide:ir,multi:!0,useValue:Be},{provide:Zl,useFactory:bl,deps:[[hs,new r.Xx1,new r.kdw]]},{provide:Wn,useValue:lt||{}},lt?.useHash?{provide:K.hb,useClass:K.fw}:{provide:K.hb,useClass:K.Sm},{provide:_s,useFactory:()=>{const ue=(0,r.WQX)(K.Xr),Ne=(0,r.WQX)(r.SKi),at=(0,r.WQX)(Wn),Be=(0,r.WQX)(yt),lt=(0,r.WQX)(Qt);return at.scrollOffset&&ue.setOffset(at.scrollOffset),new ra(lt,Be,ue,Ne,at)}},lt?.preloadingStrategy?Vo(lt.preloadingStrategy).\u0275providers:[],lt?.initialNavigation?Rc(lt):[],lt?.bindToComponentInputs?ma(8,[ta,{provide:Qo,useExisting:ta}]).\u0275providers:[],lt?.enableViewTransitions?sl().\u0275providers:[],[{provide:Jl,useFactory:Ql},{provide:r.iLQ,multi:!0,useExisting:Jl}]]}}static forChild(Be){return{ngModule:Ne,providers:[{provide:ir,multi:!0,useValue:Be}]}}}return(ue=Ne).\u0275fac=function(Be){return new(Be||ue)(r.KVO(Zl,8))},ue.\u0275mod=r.$C({type:ue}),ue.\u0275inj=r.G2t({}),Ne})();function bl(ue){return"guarded"}function Rc(ue){return["disabled"===ue.initialNavigation?ma(3,[{provide:r.hnV,multi:!0,useFactory:()=>{const Ne=(0,r.WQX)(hs);return()=>{Ne.setUpLocationChangeListener()}}},{provide:hl,useValue:2}]).\u0275providers:[],"enabledBlocking"===ue.initialNavigation?ma(2,[{provide:hl,useValue:0},{provide:r.hnV,multi:!0,deps:[r.zZn],useFactory:Ne=>{const at=Ne.get(K.hj,Promise.resolve());return()=>at.then(()=>new Promise(Be=>{const lt=Ne.get(hs),pn=Ne.get($a);Rs(lt,()=>{Be(!0)}),Ne.get(yt).afterPreactivation=()=>(Be(!0),pn.closed?(0,b.of)(void 0):pn),lt.initialNavigation()}))}}]).\u0275providers:[]]}const Jl=new r.nKC("")},9989:(en,ot,w)=>{"use strict";w.d(ot,{Ay:()=>Kn});const r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x=Object.keys,f=Array.isArray;function b(xe,he){return"object"!=typeof he||x(he).forEach(function(qe){xe[qe]=he[qe]}),xe}typeof Promise>"u"||r.Promise||(r.Promise=Promise);const E=Object.getPrototypeOf,C={}.hasOwnProperty;function u(xe,he){return C.call(xe,he)}function F(xe,he){"function"==typeof he&&(he=he(E(xe))),(typeof Reflect>"u"?x:Reflect.ownKeys)(he).forEach(qe=>{U(xe,qe,he[qe])})}const S=Object.defineProperty;function U(xe,he,qe,wt){S(xe,he,b(qe&&u(qe,"get")&&"function"==typeof qe.get?{get:qe.get,set:qe.set,configurable:!0}:{value:qe,configurable:!0,writable:!0},wt))}function O(xe){return{from:function(he){return xe.prototype=Object.create(he.prototype),U(xe.prototype,"constructor",xe),{extend:F.bind(null,xe.prototype)}}}}const y=Object.getOwnPropertyDescriptor;function _(xe,he){let qe;return y(xe,he)||(qe=E(xe))&&_(qe,he)}const D=[].slice;function W(xe,he,qe){return D.call(xe,he,qe)}function K(xe,he){return he(xe)}function L(xe){if(!xe)throw new Error("Assertion Failed")}function ie(xe){r.setImmediate?setImmediate(xe):setTimeout(xe,0)}function ae(xe,he){return xe.reduce((qe,wt,Pt)=>{var cn=he(wt,Pt);return cn&&(qe[cn[0]]=cn[1]),qe},{})}function le(xe,he){if("string"==typeof he&&u(xe,he))return xe[he];if(!he)return xe;if("string"!=typeof he){for(var qe=[],wt=0,Pt=he.length;wt<Pt;++wt){var cn=le(xe,he[wt]);qe.push(cn)}return qe}var xn=he.indexOf(".");if(-1!==xn){var nr=xe[he.substr(0,xn)];return null==nr?void 0:le(nr,he.substr(xn+1))}}function fe(xe,he,qe){if(xe&&void 0!==he&&(!("isFrozen"in Object)||!Object.isFrozen(xe)))if("string"!=typeof he&&"length"in he){L("string"!=typeof qe&&"length"in qe);for(var wt=0,Pt=he.length;wt<Pt;++wt)fe(xe,he[wt],qe[wt])}else{var cn=he.indexOf(".");if(-1!==cn){var xn=he.substr(0,cn),nr=he.substr(cn+1);if(""===nr)void 0===qe?f(xe)&&!isNaN(parseInt(xn))?xe.splice(xn,1):delete xe[xn]:xe[xn]=qe;else{var Yn=xe[xn];Yn&&u(xe,xn)||(Yn=xe[xn]={}),fe(Yn,nr,qe)}}else void 0===qe?f(xe)&&!isNaN(parseInt(he))?xe.splice(he,1):delete xe[he]:xe[he]=qe}}function q(xe){var he={};for(var qe in xe)u(xe,qe)&&(he[qe]=xe[qe]);return he}const $=[].concat;function j(xe){return $.apply([],xe)}const Q="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(j([8,16,32,64].map(xe=>["Int","Uint","Float"].map(he=>he+xe+"Array")))).filter(xe=>r[xe]),ee=Q.map(xe=>r[xe]);ae(Q,xe=>[xe,!0]);let be=null;function Se(xe){be=typeof WeakMap<"u"&&new WeakMap;const he=Qe(xe);return be=null,he}function Qe(xe){if(!xe||"object"!=typeof xe)return xe;let he=be&&be.get(xe);if(he)return he;if(f(xe)){he=[],be&&be.set(xe,he);for(var qe=0,wt=xe.length;qe<wt;++qe)he.push(Qe(xe[qe]))}else if(ee.indexOf(xe.constructor)>=0)he=xe;else{const cn=E(xe);for(var Pt in he=cn===Object.prototype?{}:Object.create(cn),be&&be.set(xe,he),xe)u(xe,Pt)&&(he[Pt]=Qe(xe[Pt]))}return he}const{toString:nt}={};function De(xe){return nt.call(xe).slice(8,-1)}const ut=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ft="symbol"==typeof ut?function(xe){var he;return null!=xe&&(he=xe[ut])&&he.apply(xe)}:function(){return null},ve={};function I(xe){var he,qe,wt,Pt;if(1===arguments.length){if(f(xe))return xe.slice();if(this===ve&&"string"==typeof xe)return[xe];if(Pt=Ft(xe)){for(qe=[];!(wt=Pt.next()).done;)qe.push(wt.value);return qe}if(null==xe)return[xe];if("number"==typeof(he=xe.length)){for(qe=new Array(he);he--;)qe[he]=xe[he];return qe}return[xe]}for(he=arguments.length,qe=new Array(he);he--;)qe[he]=arguments[he];return qe}const V=typeof Symbol<"u"?xe=>"AsyncFunction"===xe[Symbol.toStringTag]:()=>!1;var ge=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pe(xe,he){ge=xe,ke=he}var ke=()=>!0;const xt=!new Error("").stack;function Ht(){if(xt)try{throw new Error}catch(xe){return xe}return new Error}function ln(xe,he){var qe=xe.stack;return qe?(he=he||0,0===qe.indexOf(xe.name)&&(he+=(xe.name+xe.message).split("\n").length),qe.split("\n").slice(he).filter(ke).map(wt=>"\n"+wt).join("")):""}var Bt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ye=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Bt),Ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ot(xe,he){this._e=Ht(),this.name=xe,this.message=he}function ye(xe,he){return xe+". Errors: "+Object.keys(he).map(qe=>he[qe].toString()).filter((qe,wt,Pt)=>Pt.indexOf(qe)===wt).join("\n")}function P(xe,he,qe,wt){this._e=Ht(),this.failures=he,this.failedKeys=wt,this.successCount=qe,this.message=ye(xe,he)}function B(xe,he){this._e=Ht(),this.name="BulkError",this.failures=Object.keys(he).map(qe=>he[qe]),this.failuresByPos=he,this.message=ye(xe,he)}O(Ot).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ln(this._e,2))}},toString:function(){return this.name+": "+this.message}}),O(P).from(Ot),O(B).from(Ot);var R=Ye.reduce((xe,he)=>(xe[he]=he+"Error",xe),{});const N=Ot;var Y=Ye.reduce((xe,he)=>{var qe=he+"Error";function wt(Pt,cn){this._e=Ht(),this.name=qe,Pt?"string"==typeof Pt?(this.message=`${Pt}${cn?"\n "+cn:""}`,this.inner=cn||null):"object"==typeof Pt&&(this.message=`${Pt.name} ${Pt.message}`,this.inner=Pt):(this.message=Ze[he]||qe,this.inner=null)}return O(wt).from(N),xe[he]=wt,xe},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var h=Bt.reduce((xe,he)=>(xe[he+"Error"]=Y[he],xe),{}),M=Ye.reduce((xe,he)=>(-1===["Syntax","Type","Range"].indexOf(he)&&(xe[he+"Error"]=Y[he]),xe),{});function Z(){}function z(xe){return xe}function H(xe,he){return null==xe||xe===z?he:function(qe){return he(xe(qe))}}function X(xe,he){return function(){xe.apply(this,arguments),he.apply(this,arguments)}}function oe(xe,he){return xe===Z?he:function(){var qe=xe.apply(this,arguments);void 0!==qe&&(arguments[0]=qe);var wt=this.onsuccess,Pt=this.onerror;this.onsuccess=null,this.onerror=null;var cn=he.apply(this,arguments);return wt&&(this.onsuccess=this.onsuccess?X(wt,this.onsuccess):wt),Pt&&(this.onerror=this.onerror?X(Pt,this.onerror):Pt),void 0!==cn?cn:qe}}function He(xe,he){return xe===Z?he:function(){xe.apply(this,arguments);var qe=this.onsuccess,wt=this.onerror;this.onsuccess=this.onerror=null,he.apply(this,arguments),qe&&(this.onsuccess=this.onsuccess?X(qe,this.onsuccess):qe),wt&&(this.onerror=this.onerror?X(wt,this.onerror):wt)}}function rt(xe,he){return xe===Z?he:function(qe){var wt=xe.apply(this,arguments);b(qe,wt);var Pt=this.onsuccess,cn=this.onerror;this.onsuccess=null,this.onerror=null;var xn=he.apply(this,arguments);return Pt&&(this.onsuccess=this.onsuccess?X(Pt,this.onsuccess):Pt),cn&&(this.onerror=this.onerror?X(cn,this.onerror):cn),void 0===wt?void 0===xn?void 0:xn:b(wt,xn)}}function ft(xe,he){return xe===Z?he:function(){return!1!==he.apply(this,arguments)&&xe.apply(this,arguments)}}function It(xe,he){return xe===Z?he:function(){var qe=xe.apply(this,arguments);if(qe&&"function"==typeof qe.then){for(var wt=this,Pt=arguments.length,cn=new Array(Pt);Pt--;)cn[Pt]=arguments[Pt];return qe.then(function(){return he.apply(wt,cn)})}return he.apply(this,arguments)}}M.ModifyError=P,M.DexieError=Ot,M.BulkError=B;var Ge={};const Ct=100,[dt,At,Qt]=typeof Promise>"u"?[]:(()=>{let xe=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[xe,E(xe),xe];const he=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[he,E(he),xe]})(),Ke=At&&At.then,pt=dt&&dt.constructor,Tt=!!Qt;var $e=!1,Lt=Qt?()=>{Qt.then(sr)}:r.setImmediate?setImmediate.bind(null,sr):r.MutationObserver?()=>{var xe=document.createElement("div");new MutationObserver(()=>{sr(),xe=null}).observe(xe,{attributes:!0}),xe.setAttribute("i","1")}:()=>{setTimeout(sr,0)},Xt=function(xe,he){Ce.push([xe,he]),Ln&&(Lt(),Ln=!1)},gn=!0,Ln=!0,$n=[],gr=[],sn=null,St=z,Fe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:di,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(xe=>{try{di(xe[0],xe[1])}catch{}})}},Ue=Fe,Ce=[],me=0,it=[];function Me(xe){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Z,this._lib=!1;var he=this._PSD=Ue;if(ge&&(this._stackHolder=Ht(),this._prev=null,this._numPrev=0),"function"!=typeof xe){if(xe!==Ge)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&On(this,this._value))}this._state=null,this._value=null,++he.ref,Kt(this,xe)}const We={get:function(){var xe=Ue,he=ho;function qe(wt,Pt){var cn=!xe.global&&(xe!==Ue||he!==ho);const xn=cn&&!_t();var nr=new Me((Yn,kr)=>{Cn(this,new Gt(Ai(wt,xe,cn,xn),Ai(Pt,xe,cn,xn),Yn,kr,xe))});return ge&&_r(nr,this),nr}return qe.prototype=Ge,qe},set:function(xe){U(this,"then",xe&&xe.prototype===Ge?We:{get:function(){return xe},set:We.set})}};function Gt(xe,he,qe,wt,Pt){this.onFulfilled="function"==typeof xe?xe:null,this.onRejected="function"==typeof he?he:null,this.resolve=qe,this.reject=wt,this.psd=Pt}function Kt(xe,he){try{he(qe=>{if(null===xe._state){if(qe===xe)throw new TypeError("A promise cannot be resolved with itself.");var wt=xe._lib&&_n();qe&&"function"==typeof qe.then?Kt(xe,(Pt,cn)=>{qe instanceof Me?qe._then(Pt,cn):qe.then(Pt,cn)}):(xe._state=!0,xe._value=qe,vr(xe)),wt&&_i()}},On.bind(null,xe))}catch(qe){On(xe,qe)}}function On(xe,he){if(gr.push(he),null===xe._state){var qe=xe._lib&&_n();he=St(he),xe._state=!1,xe._value=he,ge&&null!==he&&"object"==typeof he&&!he._promise&&function(wt,Pt,cn){try{(()=>{var wt=_(he,"stack");he._promise=xe,U(he,"stack",{get:()=>$e?wt&&(wt.get?wt.get.apply(he):wt.value):xe.stack})}).apply(null,void 0)}catch(xn){}}(),wt=xe,$n.some(Pt=>Pt._value===wt._value)||$n.push(wt),vr(xe),qe&&_i()}var wt}function vr(xe){var he=xe._listeners;xe._listeners=[];for(var qe=0,wt=he.length;qe<wt;++qe)Cn(xe,he[qe]);var Pt=xe._PSD;--Pt.ref||Pt.finalize(),0===me&&(++me,Xt(()=>{0==--me&&Ii()},[]))}function Cn(xe,he){if(null!==xe._state){var qe=xe._state?he.onFulfilled:he.onRejected;if(null===qe)return(xe._state?he.resolve:he.reject)(xe._value);++he.psd.ref,++me,Xt(tr,[qe,xe,he])}else xe._listeners.push(he)}function tr(xe,he,qe){try{sn=he;var wt,Pt=he._value;he._state?wt=xe(Pt):(gr.length&&(gr=[]),wt=xe(Pt),-1===gr.indexOf(Pt)&&function(cn){for(var xn=$n.length;xn;)if($n[--xn]._value===cn._value)return void $n.splice(xn,1)}(he)),qe.resolve(wt)}catch(cn){qe.reject(cn)}finally{sn=null,0==--me&&Ii(),--qe.psd.ref||qe.psd.finalize()}}function Er(xe,he,qe){if(he.length===qe)return he;var wt="";if(!1===xe._state){var Pt,cn,xn=xe._value;null!=xn?(Pt=xn.name||"Error",cn=xn.message||xn,wt=ln(xn,0)):(Pt=xn,cn=""),he.push(Pt+(cn?": "+cn:"")+wt)}return ge&&((wt=ln(xe._stackHolder,2))&&-1===he.indexOf(wt)&&he.push(wt),xe._prev&&Er(xe._prev,he,qe)),he}function _r(xe,he){var qe=he?he._numPrev+1:0;qe<100&&(xe._prev=he,xe._numPrev=qe)}function sr(){_n()&&_i()}function _n(){var xe=gn;return gn=!1,Ln=!1,xe}function _i(){var xe,he,qe;do{for(;Ce.length>0;)for(xe=Ce,Ce=[],qe=xe.length,he=0;he<qe;++he){var wt=xe[he];wt[0].apply(null,wt[1])}}while(Ce.length>0);gn=!0,Ln=!0}function Ii(){var xe=$n;$n=[],xe.forEach(wt=>{wt._PSD.onunhandled.call(null,wt._value,wt)});for(var he=it.slice(0),qe=he.length;qe;)he[--qe]()}function so(xe){return new Me(Ge,!1,xe)}function Cr(xe,he){var qe=Ue;return function(){var wt=_n(),Pt=Ue;try{return on(qe,!0),xe.apply(this,arguments)}catch(cn){he&&he(cn)}finally{on(Pt,!1),wt&&_i()}}}F(Me.prototype,{then:We,_then:function(xe,he){Cn(this,new Gt(null,null,xe,he,Ue))},catch:function(xe){if(1===arguments.length)return this.then(null,xe);var he=arguments[0],qe=arguments[1];return this.then(null,"function"==typeof he?wt=>wt instanceof he?qe(wt):so(wt):wt=>wt&&wt.name===he?qe(wt):so(wt))},finally:function(xe){return this.then(he=>(xe(),he),he=>(xe(),so(he)))},stack:{get:function(){if(this._stack)return this._stack;try{$e=!0;var xe=Er(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=xe),xe}finally{$e=!1}}},timeout:function(xe,he){return xe<1/0?new Me((qe,wt)=>{var Pt=setTimeout(()=>wt(new Y.Timeout(he)),xe);this.then(qe,wt).finally(clearTimeout.bind(null,Pt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(Me.prototype,Symbol.toStringTag,"Dexie.Promise"),Fe.env=Un(),F(Me,{all:function(){var xe=I.apply(null,arguments).map(an);return new Me(function(he,qe){0===xe.length&&he([]);var wt=xe.length;xe.forEach((Pt,cn)=>Me.resolve(Pt).then(xn=>{xe[cn]=xn,--wt||he(xe)},qe))})},resolve:xe=>{if(xe instanceof Me)return xe;if(xe&&"function"==typeof xe.then)return new Me((qe,wt)=>{xe.then(qe,wt)});var he=new Me(Ge,!0,xe);return _r(he,sn),he},reject:so,race:function(){var xe=I.apply(null,arguments).map(an);return new Me((he,qe)=>{xe.map(wt=>Me.resolve(wt).then(he,qe))})},PSD:{get:()=>Ue,set:xe=>Ue=xe},totalEchoes:{get:()=>ho},newPSD:Qi,usePSD:qn,scheduler:{get:()=>Xt,set:xe=>{Xt=xe}},rejectionMapper:{get:()=>St,set:xe=>{St=xe}},follow:(xe,he)=>new Me((qe,wt)=>Qi((Pt,cn)=>{var xn=Ue;xn.unhandleds=[],xn.onunhandled=cn,xn.finalize=X(function(){var nr;nr=()=>{0===this.unhandleds.length?Pt():cn(this.unhandleds[0])},it.push(function Yn(){nr(),it.splice(it.indexOf(Yn),1)}),++me,Xt(()=>{0==--me&&Ii()},[])},xn.finalize),xe()},he,qe,wt))}),pt&&(pt.allSettled&&U(Me,"allSettled",function(){const xe=I.apply(null,arguments).map(an);return new Me(he=>{0===xe.length&&he([]);let qe=xe.length;const wt=new Array(qe);xe.forEach((Pt,cn)=>Me.resolve(Pt).then(xn=>wt[cn]={status:"fulfilled",value:xn},xn=>wt[cn]={status:"rejected",reason:xn}).then(()=>--qe||he(wt)))})}),pt.any&&typeof AggregateError<"u"&&U(Me,"any",function(){const xe=I.apply(null,arguments).map(an);return new Me((he,qe)=>{0===xe.length&&qe(new AggregateError([]));let wt=xe.length;const Pt=new Array(wt);xe.forEach((cn,xn)=>Me.resolve(cn).then(nr=>he(nr),nr=>{Pt[xn]=nr,--wt||qe(new AggregateError(Pt))}))})}));const ii={awaits:0,echoes:0,id:0};var Or=0,fi=[],Yi=0,ho=0,Vi=0;function Qi(xe,he,qe,wt){var Pt=Ue,cn=Object.create(Pt);cn.parent=Pt,cn.ref=0,cn.global=!1,cn.id=++Vi;var xn=Fe.env;cn.env=Tt?{Promise:Me,PromiseProp:{value:Me,configurable:!0,writable:!0},all:Me.all,race:Me.race,allSettled:Me.allSettled,any:Me.any,resolve:Me.resolve,reject:Me.reject,nthen:Mi(xn.nthen,cn),gthen:Mi(xn.gthen,cn)}:{},he&&b(cn,he),++Pt.ref,cn.finalize=function(){--this.parent.ref||this.parent.finalize()};var nr=qn(cn,xe,qe,wt);return 0===cn.ref&&cn.finalize(),nr}function Ve(){return ii.id||(ii.id=++Or),++ii.awaits,ii.echoes+=Ct,ii.id}function _t(){return!!ii.awaits&&(0==--ii.awaits&&(ii.id=0),ii.echoes=ii.awaits*Ct,!0)}function an(xe){return ii.echoes&&xe&&xe.constructor===pt?(Ve(),xe.then(he=>(_t(),he),he=>(_t(),Zt(he)))):xe}function _e(xe){++ho,ii.echoes&&0!=--ii.echoes||(ii.echoes=ii.id=0),fi.push(Ue),on(xe,!0)}function Dt(){var xe=fi[fi.length-1];fi.pop(),on(xe,!1)}function on(xe,he){var qe=Ue;if((he?!ii.echoes||Yi++&&xe===Ue:!Yi||--Yi&&xe===Ue)||Gr(he?_e.bind(null,xe):Dt),xe!==Ue&&(Ue=xe,qe===Fe&&(Fe.env=Un()),Tt)){var wt=Fe.env.Promise,Pt=xe.env;At.then=Pt.nthen,wt.prototype.then=Pt.gthen,(qe.global||xe.global)&&(Object.defineProperty(r,"Promise",Pt.PromiseProp),wt.all=Pt.all,wt.race=Pt.race,wt.resolve=Pt.resolve,wt.reject=Pt.reject,Pt.allSettled&&(wt.allSettled=Pt.allSettled),Pt.any&&(wt.any=Pt.any))}}function Un(){var xe=r.Promise;return Tt?{Promise:xe,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject,nthen:At.then,gthen:xe.prototype.then}:{}}function qn(xe,he,qe,wt,Pt){var cn=Ue;try{return on(xe,!0),he(qe,wt,Pt)}finally{on(cn,!1)}}function Gr(xe){Ke.call(dt,xe)}function Ai(xe,he,qe,wt){return"function"!=typeof xe?xe:function(){var Pt=Ue;qe&&Ve(),on(he,!0);try{return xe.apply(this,arguments)}finally{on(Pt,!1),wt&&Gr(_t)}}}function Mi(xe,he){return function(qe,wt){return xe.call(this,Ai(qe,he),Ai(wt,he))}}-1===(""+Ke).indexOf("[native code]")&&(Ve=_t=Z);const pi="unhandledrejection";function di(xe,he){var qe;try{qe=he.onuncatched(xe)}catch{}if(!1!==qe)try{var wt,Pt={promise:he,reason:xe};if(r.document&&document.createEvent?((wt=document.createEvent("Event")).initEvent(pi,!0,!0),b(wt,Pt)):r.CustomEvent&&b(wt=new CustomEvent(pi,{detail:Pt}),Pt),wt&&r.dispatchEvent&&(dispatchEvent(wt),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(wt)}catch{}ge&&wt&&!wt.defaultPrevented&&console.warn(`Unhandled rejection: ${xe.stack||xe}`)}catch{}}var Zt=Me.reject;function Tn(xe,he,qe,wt){if(xe.idbdb&&(xe._state.openComplete||Ue.letThrough||xe._vip)){var Pt=xe._createTransaction(he,qe,xe._dbSchema);try{Pt.create(),xe._state.PR1398_maxLoop=3}catch(cn){return cn.name===R.InvalidState&&xe.isOpen()&&--xe._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),xe._close(),xe.open().then(()=>Tn(xe,he,qe,wt))):Zt(cn)}return Pt._promise(he,(cn,xn)=>Qi(()=>(Ue.trans=Pt,wt(cn,xn,Pt)))).then(cn=>Pt._completion.then(()=>cn))}if(xe._state.openComplete)return Zt(new Y.DatabaseClosed(xe._state.dbOpenError));if(!xe._state.isBeingOpened){if(!xe._options.autoOpen)return Zt(new Y.DatabaseClosed);xe.open().catch(Z)}return xe._state.dbReadyPromise.then(()=>Tn(xe,he,qe,wt))}const Dr=-1/0,qr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bi="String expected.",hi=[],po=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ro=po,Ji=po,Yt=xe=>!/(dexie\.js|dexie\.min\.js)/.test(xe),un="__dbnames",Xn="readonly",Rr="readwrite";function ci(xe,he){return xe?he?function(){return xe.apply(this,arguments)&&he.apply(this,arguments)}:xe:he}const $i={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ao(xe){return"string"!=typeof xe||/\./.test(xe)?he=>he:he=>(void 0===he[xe]&&xe in he&&delete(he=Se(he))[xe],he)}class go{_trans(he,qe,wt){const Pt=this._tx||Ue.trans,cn=this.name;function xn(Yn,kr,wr){if(!wr.schema[cn])throw new Y.NotFound("Table "+cn+" not part of transaction");return qe(wr.idbtrans,wr)}const nr=_n();try{return Pt&&Pt.db===this.db?Pt===Ue.trans?Pt._promise(he,xn,wt):Qi(()=>Pt._promise(he,xn,wt),{trans:Pt,transless:Ue.transless||Ue}):Tn(this.db,he,[this.name],xn)}finally{nr&&_i()}}get(he,qe){return he&&he.constructor===Object?this.where(he).first(qe):this._trans("readonly",wt=>this.core.get({trans:wt,key:he}).then(Pt=>this.hook.reading.fire(Pt))).then(qe)}where(he){if("string"==typeof he)return new this.db.WhereClause(this,he);if(f(he))return new this.db.WhereClause(this,`[${he.join("+")}]`);const qe=x(he);if(1===qe.length)return this.where(qe[0]).equals(he[qe[0]]);const wt=this.schema.indexes.concat(this.schema.primKey).filter(kr=>{if(kr.compound&&qe.every(wr=>kr.keyPath.indexOf(wr)>=0)){for(let wr=0;wr<qe.length;++wr)if(-1===qe.indexOf(kr.keyPath[wr]))return!1;return!0}return!1}).sort((kr,wr)=>kr.keyPath.length-wr.keyPath.length)[0];if(wt&&"\uffff"!==this.db._maxKey){const kr=wt.keyPath.slice(0,qe.length);return this.where(kr).equals(kr.map(wr=>he[wr]))}!wt&&ge&&console.warn(`The query ${JSON.stringify(he)} on ${this.name} would benefit of a compound index [${qe.join("+")}]`);const{idxByName:Pt}=this.schema,cn=this.db._deps.indexedDB;function xn(kr,wr){try{return 0===cn.cmp(kr,wr)}catch{return!1}}const[nr,Yn]=qe.reduce(([kr,wr],Lr)=>{const Fr=Pt[Lr],vi=he[Lr];return[kr||Fr,kr||!Fr?ci(wr,Fr&&Fr.multi?Hi=>{const Fn=le(Hi,Lr);return f(Fn)&&Fn.some(lr=>xn(vi,lr))}:Hi=>xn(vi,le(Hi,Lr))):wr]},[null,null]);return nr?this.where(nr.name).equals(he[nr.keyPath]).filter(Yn):wt?this.filter(Yn):this.where(qe).equals("")}filter(he){return this.toCollection().and(he)}count(he){return this.toCollection().count(he)}offset(he){return this.toCollection().offset(he)}limit(he){return this.toCollection().limit(he)}each(he){return this.toCollection().each(he)}toArray(he){return this.toCollection().toArray(he)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(he){return new this.db.Collection(new this.db.WhereClause(this,f(he)?`[${he.join("+")}]`:he))}reverse(){return this.toCollection().reverse()}mapToClass(he){this.schema.mappedClass=he;const qe=wt=>{if(!wt)return wt;const Pt=Object.create(he.prototype);for(var cn in wt)if(u(wt,cn))try{Pt[cn]=wt[cn]}catch{}return Pt};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=qe,this.hook("reading",qe),he}defineClass(){return this.mapToClass(function(he){b(this,he)})}add(he,qe){const{auto:wt,keyPath:Pt}=this.schema.primKey;let cn=he;return Pt&&wt&&(cn=Ao(Pt)(he)),this._trans("readwrite",xn=>this.core.mutate({trans:xn,type:"add",keys:null!=qe?[qe]:null,values:[cn]})).then(xn=>xn.numFailures?Me.reject(xn.failures[0]):xn.lastResult).then(xn=>{if(Pt)try{fe(he,Pt,xn)}catch{}return xn})}update(he,qe){if("object"!=typeof he||f(he))return this.where(":id").equals(he).modify(qe);{const wt=le(he,this.schema.primKey.keyPath);if(void 0===wt)return Zt(new Y.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof qe?x(qe).forEach(Pt=>{fe(he,Pt,qe[Pt])}):qe(he,{value:he,primKey:wt})}catch{}return this.where(":id").equals(wt).modify(qe)}}put(he,qe){const{auto:wt,keyPath:Pt}=this.schema.primKey;let cn=he;return Pt&&wt&&(cn=Ao(Pt)(he)),this._trans("readwrite",xn=>this.core.mutate({trans:xn,type:"put",values:[cn],keys:null!=qe?[qe]:null})).then(xn=>xn.numFailures?Me.reject(xn.failures[0]):xn.lastResult).then(xn=>{if(Pt)try{fe(he,Pt,xn)}catch{}return xn})}delete(he){return this._trans("readwrite",qe=>this.core.mutate({trans:qe,type:"delete",keys:[he]})).then(qe=>qe.numFailures?Me.reject(qe.failures[0]):void 0)}clear(){return this._trans("readwrite",he=>this.core.mutate({trans:he,type:"deleteRange",range:$i})).then(he=>he.numFailures?Me.reject(he.failures[0]):void 0)}bulkGet(he){return this._trans("readonly",qe=>this.core.getMany({keys:he,trans:qe}).then(wt=>wt.map(Pt=>this.hook.reading.fire(Pt))))}bulkAdd(he,qe,wt){const Pt=Array.isArray(qe)?qe:void 0,cn=(wt=wt||(Pt?void 0:qe))?wt.allKeys:void 0;return this._trans("readwrite",xn=>{const{auto:nr,keyPath:Yn}=this.schema.primKey;if(Yn&&Pt)throw new Y.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Pt&&Pt.length!==he.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");const kr=he.length;let wr=Yn&&nr?he.map(Ao(Yn)):he;return this.core.mutate({trans:xn,type:"add",keys:Pt,values:wr,wantResults:cn}).then(({numFailures:Lr,results:Fr,lastResult:vi,failures:Hi})=>{if(0===Lr)return cn?Fr:vi;throw new B(`${this.name}.bulkAdd(): ${Lr} of ${kr} operations failed`,Hi)})})}bulkPut(he,qe,wt){const Pt=Array.isArray(qe)?qe:void 0,cn=(wt=wt||(Pt?void 0:qe))?wt.allKeys:void 0;return this._trans("readwrite",xn=>{const{auto:nr,keyPath:Yn}=this.schema.primKey;if(Yn&&Pt)throw new Y.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Pt&&Pt.length!==he.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");const kr=he.length;let wr=Yn&&nr?he.map(Ao(Yn)):he;return this.core.mutate({trans:xn,type:"put",keys:Pt,values:wr,wantResults:cn}).then(({numFailures:Lr,results:Fr,lastResult:vi,failures:Hi})=>{if(0===Lr)return cn?Fr:vi;throw new B(`${this.name}.bulkPut(): ${Lr} of ${kr} operations failed`,Hi)})})}bulkDelete(he){const qe=he.length;return this._trans("readwrite",wt=>this.core.mutate({trans:wt,type:"delete",keys:he})).then(({numFailures:wt,lastResult:Pt,failures:cn})=>{if(0===wt)return Pt;throw new B(`${this.name}.bulkDelete(): ${wt} of ${qe} operations failed`,cn)})}}function ko(xe){var he={},qe=function(xn,nr){if(nr){for(var Yn=arguments.length,kr=new Array(Yn-1);--Yn;)kr[Yn-1]=arguments[Yn];return he[xn].subscribe.apply(null,kr),xe}if("string"==typeof xn)return he[xn]};qe.addEventType=cn;for(var wt=1,Pt=arguments.length;wt<Pt;++wt)cn(arguments[wt]);return qe;function cn(xn,nr,Yn){if("object"!=typeof xn){var kr;nr||(nr=ft),Yn||(Yn=Z);var wr={subscribers:[],fire:Yn,subscribe:function(Lr){-1===wr.subscribers.indexOf(Lr)&&(wr.subscribers.push(Lr),wr.fire=nr(wr.fire,Lr))},unsubscribe:function(Lr){wr.subscribers=wr.subscribers.filter(function(Fr){return Fr!==Lr}),wr.fire=wr.subscribers.reduce(nr,Yn)}};return he[xn]=qe[xn]=wr,wr}x(kr=xn).forEach(function(Lr){var Fr=kr[Lr];if(f(Fr))cn(Lr,kr[Lr][0],kr[Lr][1]);else{if("asap"!==Fr)throw new Y.InvalidArgument("Invalid event config");var vi=cn(Lr,z,function(){for(var Hi=arguments.length,Fn=new Array(Hi);Hi--;)Fn[Hi]=arguments[Hi];vi.subscribers.forEach(function(lr){ie(function(){lr.apply(null,Fn)})})})}})}}function Yo(xe,he){return O(he).from({prototype:xe}),he}function Po(xe,he){return!(xe.filter||xe.algorithm||xe.or)&&(he?xe.justLimit:!xe.replayFilter)}function ss(xe,he){xe.filter=ci(xe.filter,he)}function as(xe,he,qe){var wt=xe.replayFilter;xe.replayFilter=wt?()=>ci(wt(),he()):he,xe.justLimit=qe&&!wt}function Cs(xe,he){if(xe.isPrimKey)return he.primaryKey;const qe=he.getIndexByKeyPath(xe.index);if(!qe)throw new Y.Schema("KeyPath "+xe.index+" on object store "+he.name+" is not indexed");return qe}function ts(xe,he,qe){const wt=Cs(xe,he.schema);return he.openCursor({trans:qe,values:!xe.keysOnly,reverse:"prev"===xe.dir,unique:!!xe.unique,query:{index:wt,range:xe.range}})}function Jo(xe,he,qe,wt){const Pt=xe.replayFilter?ci(xe.filter,xe.replayFilter()):xe.filter;if(xe.or){const cn={},xn=(nr,Yn,kr)=>{if(!Pt||Pt(Yn,kr,Fr=>Yn.stop(Fr),Fr=>Yn.fail(Fr))){var wr=Yn.primaryKey,Lr=""+wr;"[object ArrayBuffer]"===Lr&&(Lr=""+new Uint8Array(wr)),u(cn,Lr)||(cn[Lr]=!0,he(nr,Yn,kr))}};return Promise.all([xe.or._iterate(xn,qe),Us(ts(xe,wt,qe),xe.algorithm,xn,!xe.keysOnly&&xe.valueMapper)])}return Us(ts(xe,wt,qe),ci(xe.algorithm,Pt),he,!xe.keysOnly&&xe.valueMapper)}function Us(xe,he,qe,wt){var Pt=Cr(wt?(cn,xn,nr)=>qe(wt(cn),xn,nr):qe);return xe.then(cn=>{if(cn)return cn.start(()=>{var xn=()=>cn.continue();he&&!he(cn,nr=>xn=nr,nr=>{cn.stop(nr),xn=Z},nr=>{cn.fail(nr),xn=Z})||Pt(cn.value,cn,nr=>xn=nr),xn()})})}function jn(xe,he){try{const qe=Zn(xe),wt=Zn(he);if(qe!==wt)return"Array"===qe?1:"Array"===wt?-1:"binary"===qe?1:"binary"===wt?-1:"string"===qe?1:"string"===wt?-1:"Date"===qe?1:"Date"!==wt?NaN:-1;switch(qe){case"number":case"Date":case"string":return xe>he?1:xe<he?-1:0;case"binary":return function(Pt,cn){const xn=Pt.length,nr=cn.length,Yn=xn<nr?xn:nr;for(let kr=0;kr<Yn;++kr)if(Pt[kr]!==cn[kr])return Pt[kr]<cn[kr]?-1:1;return xn===nr?0:xn<nr?-1:1}(Vr(xe),Vr(he));case"Array":return function(Pt,cn){const xn=Pt.length,nr=cn.length,Yn=xn<nr?xn:nr;for(let kr=0;kr<Yn;++kr){const wr=jn(Pt[kr],cn[kr]);if(0!==wr)return wr}return xn===nr?0:xn<nr?-1:1}(xe,he)}}catch{}return NaN}function Zn(xe){const he=typeof xe;if("object"!==he)return he;if(ArrayBuffer.isView(xe))return"binary";const qe=De(xe);return"ArrayBuffer"===qe?"binary":qe}function Vr(xe){return xe instanceof Uint8Array?xe:ArrayBuffer.isView(xe)?new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength):new Uint8Array(xe)}class Ti{_read(he,qe){var wt=this._ctx;return wt.error?wt.table._trans(null,Zt.bind(null,wt.error)):wt.table._trans("readonly",he).then(qe)}_write(he){var qe=this._ctx;return qe.error?qe.table._trans(null,Zt.bind(null,qe.error)):qe.table._trans("readwrite",he,"locked")}_addAlgorithm(he){var qe=this._ctx;qe.algorithm=ci(qe.algorithm,he)}_iterate(he,qe){return Jo(this._ctx,he,qe,this._ctx.table.core)}clone(he){var qe=Object.create(this.constructor.prototype),wt=Object.create(this._ctx);return he&&b(wt,he),qe._ctx=wt,qe}raw(){return this._ctx.valueMapper=null,this}each(he){var qe=this._ctx;return this._read(wt=>Jo(qe,he,wt,qe.table.core))}count(he){return this._read(qe=>{const wt=this._ctx,Pt=wt.table.core;if(Po(wt,!0))return Pt.count({trans:qe,query:{index:Cs(wt,Pt.schema),range:wt.range}}).then(xn=>Math.min(xn,wt.limit));var cn=0;return Jo(wt,()=>(++cn,!1),qe,Pt).then(()=>cn)}).then(he)}sortBy(he,qe){const wt=he.split(".").reverse(),Pt=wt[0],cn=wt.length-1;function xn(kr,wr){return wr?xn(kr[wt[wr]],wr-1):kr[Pt]}var nr="next"===this._ctx.dir?1:-1;function Yn(kr,wr){var Lr=xn(kr,cn),Fr=xn(wr,cn);return Lr<Fr?-nr:Lr>Fr?nr:0}return this.toArray(function(kr){return kr.sort(Yn)}).then(qe)}toArray(he){return this._read(qe=>{var wt=this._ctx;if("next"===wt.dir&&Po(wt,!0)&&wt.limit>0){const{valueMapper:Pt}=wt,cn=Cs(wt,wt.table.core.schema);return wt.table.core.query({trans:qe,limit:wt.limit,values:!0,query:{index:cn,range:wt.range}}).then(({result:xn})=>Pt?xn.map(Pt):xn)}{const Pt=[];return Jo(wt,cn=>Pt.push(cn),qe,wt.table.core).then(()=>Pt)}},he)}offset(he){var qe=this._ctx;return he<=0||(qe.offset+=he,Po(qe)?as(qe,()=>{var wt=he;return(Pt,cn)=>0===wt||(1===wt?(--wt,!1):(cn(()=>{Pt.advance(wt),wt=0}),!1))}):as(qe,()=>{var wt=he;return()=>--wt<0})),this}limit(he){return this._ctx.limit=Math.min(this._ctx.limit,he),as(this._ctx,()=>{var qe=he;return function(wt,Pt,cn){return--qe<=0&&Pt(cn),qe>=0}},!0),this}until(he,qe){return ss(this._ctx,function(wt,Pt,cn){return!he(wt.value)||(Pt(cn),qe)}),this}first(he){return this.limit(1).toArray(function(qe){return qe[0]}).then(he)}last(he){return this.reverse().first(he)}filter(he){var qe;return ss(this._ctx,function(Pt){return he(Pt.value)}),(qe=this._ctx).isMatch=ci(qe.isMatch,he),this}and(he){return this.filter(he)}or(he){return new this.db.WhereClause(this._ctx.table,he,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(he){var qe=this._ctx;return qe.keysOnly=!qe.isMatch,this.each(function(wt,Pt){he(Pt.key,Pt)})}eachUniqueKey(he){return this._ctx.unique="unique",this.eachKey(he)}eachPrimaryKey(he){var qe=this._ctx;return qe.keysOnly=!qe.isMatch,this.each(function(wt,Pt){he(Pt.primaryKey,Pt)})}keys(he){var qe=this._ctx;qe.keysOnly=!qe.isMatch;var wt=[];return this.each(function(Pt,cn){wt.push(cn.key)}).then(function(){return wt}).then(he)}primaryKeys(he){var qe=this._ctx;if("next"===qe.dir&&Po(qe,!0)&&qe.limit>0)return this._read(Pt=>{var cn=Cs(qe,qe.table.core.schema);return qe.table.core.query({trans:Pt,values:!1,limit:qe.limit,query:{index:cn,range:qe.range}})}).then(({result:Pt})=>Pt).then(he);qe.keysOnly=!qe.isMatch;var wt=[];return this.each(function(Pt,cn){wt.push(cn.primaryKey)}).then(function(){return wt}).then(he)}uniqueKeys(he){return this._ctx.unique="unique",this.keys(he)}firstKey(he){return this.limit(1).keys(function(qe){return qe[0]}).then(he)}lastKey(he){return this.reverse().firstKey(he)}distinct(){var he=this._ctx,qe=he.index&&he.table.schema.idxByName[he.index];if(!qe||!qe.multi)return this;var wt={};return ss(this._ctx,function(Pt){var cn=Pt.primaryKey.toString(),xn=u(wt,cn);return wt[cn]=!0,!xn}),this}modify(he){var qe=this._ctx;return this._write(wt=>{var Pt;if("function"==typeof he)Pt=he;else{var cn=x(he),xn=cn.length;Pt=function(Fn){for(var lr=!1,wn=0;wn<xn;++wn){var er=cn[wn],Ur=he[er];le(Fn,er)!==Ur&&(fe(Fn,er,Ur),lr=!0)}return lr}}const nr=qe.table.core,{outbound:Yn,extractKey:kr}=nr.schema.primaryKey,wr=this.db._options.modifyChunkSize||200,Lr=[];let Fr=0;const vi=[],Hi=(Fn,lr)=>{const{failures:wn,numFailures:er}=lr;Fr+=Fn-er;for(let Ur of x(wn))Lr.push(wn[Ur])};return this.clone().primaryKeys().then(Fn=>{const lr=wn=>{const er=Math.min(wr,Fn.length-wn);return nr.getMany({trans:wt,keys:Fn.slice(wn,wn+er),cache:"immutable"}).then(Ur=>{const gi=[],Fi=[],Si=Yn?[]:null,Xi=[];for(let ki=0;ki<er;++ki){const As=Ur[ki],bs={value:Se(As),primKey:Fn[wn+ki]};!1!==Pt.call(bs,bs.value,bs)&&(null==bs.value?Xi.push(Fn[wn+ki]):Yn||0===jn(kr(As),kr(bs.value))?(Fi.push(bs.value),Yn&&Si.push(Fn[wn+ki])):(Xi.push(Fn[wn+ki]),gi.push(bs.value)))}const zo=Po(qe)&&qe.limit===1/0&&("function"!=typeof he||he===qi)&&{index:qe.index,range:qe.range};return Promise.resolve(gi.length>0&&nr.mutate({trans:wt,type:"add",values:gi}).then(ki=>{for(let As in ki.failures)Xi.splice(parseInt(As),1);Hi(gi.length,ki)})).then(()=>(Fi.length>0||zo&&"object"==typeof he)&&nr.mutate({trans:wt,type:"put",keys:Si,values:Fi,criteria:zo,changeSpec:"function"!=typeof he&&he}).then(ki=>Hi(Fi.length,ki))).then(()=>(Xi.length>0||zo&&he===qi)&&nr.mutate({trans:wt,type:"delete",keys:Xi,criteria:zo}).then(ki=>Hi(Xi.length,ki))).then(()=>Fn.length>wn+er&&lr(wn+wr))})};return lr(0).then(()=>{if(Lr.length>0)throw new P("Error modifying one or more objects",Lr,Fr,vi);return Fn.length})})})}delete(){var he=this._ctx,qe=he.range;return Po(he)&&(he.isPrimKey&&!Ji||3===qe.type)?this._write(wt=>{const{primaryKey:Pt}=he.table.core.schema,cn=qe;return he.table.core.count({trans:wt,query:{index:Pt,range:cn}}).then(xn=>he.table.core.mutate({trans:wt,type:"deleteRange",range:cn}).then(({failures:nr,numFailures:wr})=>{if(wr)throw new P("Could not delete some values",Object.keys(nr).map(Lr=>nr[Lr]),xn-wr);return xn-wr}))}):this.modify(qi)}}const qi=(xe,he)=>he.value=null;function Co(xe,he){return xe<he?-1:xe===he?0:1}function Ni(xe,he){return xe>he?-1:xe===he?0:1}function ji(xe,he,qe){var wt=xe instanceof Ws?new xe.Collection(xe):xe;return wt._ctx.error=qe?new qe(he):new TypeError(he),wt}function co(xe){return new xe.Collection(xe,()=>ta("")).limit(0)}function Lo(xe,he,qe,wt,Pt,cn){for(var xn=Math.min(xe.length,wt.length),nr=-1,Yn=0;Yn<xn;++Yn){var kr=he[Yn];if(kr!==wt[Yn])return Pt(xe[Yn],qe[Yn])<0?xe.substr(0,Yn)+qe[Yn]+qe.substr(Yn+1):Pt(xe[Yn],wt[Yn])<0?xe.substr(0,Yn)+wt[Yn]+qe.substr(Yn+1):nr>=0?xe.substr(0,nr)+he[nr]+qe.substr(nr+1):null;Pt(xe[Yn],kr)<0&&(nr=Yn)}return xn<wt.length&&"next"===cn?xe+qe.substr(xe.length):xn<xe.length&&"prev"===cn?xe.substr(0,qe.length):nr<0?null:xe.substr(0,nr)+wt[nr]+qe.substr(nr+1)}function lo(xe,he,qe,wt){var Pt,cn,xn,nr,Yn,kr,wr,Lr=qe.length;if(!qe.every(Fn=>"string"==typeof Fn))return ji(xe,Bi);function Fr(Fn){Pt=function(wn){return"next"===wn?er=>er.toUpperCase():er=>er.toLowerCase()}(Fn),cn=function(wn){return"next"===wn?er=>er.toLowerCase():er=>er.toUpperCase()}(Fn),xn="next"===Fn?Co:Ni;var lr=qe.map(function(wn){return{lower:cn(wn),upper:Pt(wn)}}).sort(function(wn,er){return xn(wn.lower,er.lower)});nr=lr.map(function(wn){return wn.upper}),Yn=lr.map(function(wn){return wn.lower}),kr=Fn,wr="next"===Fn?"":wt}Fr("next");var vi=new xe.Collection(xe,()=>Qo(nr[0],Yn[Lr-1]+wt));vi._ondirectionchange=function(Fn){Fr(Fn)};var Hi=0;return vi._addAlgorithm(function(Fn,lr,wn){var er=Fn.key;if("string"!=typeof er)return!1;var Ur=cn(er);if(he(Ur,Yn,Hi))return!0;for(var gi=null,Fi=Hi;Fi<Lr;++Fi){var Si=Lo(er,Ur,nr[Fi],Yn[Fi],xn,kr);null===Si&&null===gi?Hi=Fi+1:(null===gi||xn(gi,Si)>0)&&(gi=Si)}return lr(null!==gi?function(){Fn.continue(gi+wr)}:wn),!1}),vi}function Qo(xe,he,qe,wt){return{type:2,lower:xe,upper:he,lowerOpen:qe,upperOpen:wt}}function ta(xe){return{type:1,lower:xe,upper:xe}}class Ws{get Collection(){return this._ctx.table.db.Collection}between(he,qe,wt,Pt){wt=!1!==wt,Pt=!0===Pt;try{return this._cmp(he,qe)>0||0===this._cmp(he,qe)&&(wt||Pt)&&(!wt||!Pt)?co(this):new this.Collection(this,()=>Qo(he,qe,!wt,!Pt))}catch{return ji(this,qr)}}equals(he){return null==he?ji(this,qr):new this.Collection(this,()=>ta(he))}above(he){return null==he?ji(this,qr):new this.Collection(this,()=>Qo(he,void 0,!0))}aboveOrEqual(he){return null==he?ji(this,qr):new this.Collection(this,()=>Qo(he,void 0,!1))}below(he){return null==he?ji(this,qr):new this.Collection(this,()=>Qo(void 0,he,!1,!0))}belowOrEqual(he){return null==he?ji(this,qr):new this.Collection(this,()=>Qo(void 0,he))}startsWith(he){return"string"!=typeof he?ji(this,Bi):this.between(he,he+"\uffff",!0,!0)}startsWithIgnoreCase(he){return""===he?this.startsWith(he):lo(this,(qe,wt)=>0===qe.indexOf(wt[0]),[he],"\uffff")}equalsIgnoreCase(he){return lo(this,(qe,wt)=>qe===wt[0],[he],"")}anyOfIgnoreCase(){var he=I.apply(ve,arguments);return 0===he.length?co(this):lo(this,(qe,wt)=>-1!==wt.indexOf(qe),he,"")}startsWithAnyOfIgnoreCase(){var he=I.apply(ve,arguments);return 0===he.length?co(this):lo(this,(qe,wt)=>wt.some(Pt=>0===qe.indexOf(Pt)),he,"\uffff")}anyOf(){const he=I.apply(ve,arguments);let qe=this._cmp;try{he.sort(qe)}catch{return ji(this,qr)}if(0===he.length)return co(this);const wt=new this.Collection(this,()=>Qo(he[0],he[he.length-1]));wt._ondirectionchange=cn=>{qe="next"===cn?this._ascending:this._descending,he.sort(qe)};let Pt=0;return wt._addAlgorithm((cn,xn,nr)=>{const Yn=cn.key;for(;qe(Yn,he[Pt])>0;)if(++Pt,Pt===he.length)return xn(nr),!1;return 0===qe(Yn,he[Pt])||(xn(()=>{cn.continue(he[Pt])}),!1)}),wt}notEqual(he){return this.inAnyRange([[Dr,he],[he,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const he=I.apply(ve,arguments);if(0===he.length)return new this.Collection(this);try{he.sort(this._ascending)}catch{return ji(this,qr)}const qe=he.reduce((wt,Pt)=>wt?wt.concat([[wt[wt.length-1][1],Pt]]):[[Dr,Pt]],null);return qe.push([he[he.length-1],this.db._maxKey]),this.inAnyRange(qe,{includeLowers:!1,includeUppers:!1})}inAnyRange(he,qe){const wt=this._cmp,Pt=this._ascending,cn=this._descending,xn=this._min,nr=this._max;if(0===he.length)return co(this);if(!he.every(er=>void 0!==er[0]&&void 0!==er[1]&&Pt(er[0],er[1])<=0))return ji(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Y.InvalidArgument);const Yn=!qe||!1!==qe.includeLowers,kr=qe&&!0===qe.includeUppers;let wr,Lr=Pt;function Fr(er,Ur){return Lr(er[0],Ur[0])}try{wr=he.reduce(function(er,Ur){let gi=0,Fi=er.length;for(;gi<Fi;++gi){const Si=er[gi];if(wt(Ur[0],Si[1])<0&&wt(Ur[1],Si[0])>0){Si[0]=xn(Si[0],Ur[0]),Si[1]=nr(Si[1],Ur[1]);break}}return gi===Fi&&er.push(Ur),er},[]),wr.sort(Fr)}catch{return ji(this,qr)}let vi=0;const Hi=kr?er=>Pt(er,wr[vi][1])>0:er=>Pt(er,wr[vi][1])>=0,Fn=Yn?er=>cn(er,wr[vi][0])>0:er=>cn(er,wr[vi][0])>=0;let lr=Hi;const wn=new this.Collection(this,()=>Qo(wr[0][0],wr[wr.length-1][1],!Yn,!kr));return wn._ondirectionchange=er=>{"next"===er?(lr=Hi,Lr=Pt):(lr=Fn,Lr=cn),wr.sort(Fr)},wn._addAlgorithm((er,Ur,gi)=>{for(var Fi=er.key;lr(Fi);)if(++vi,vi===wr.length)return Ur(gi),!1;return!((Hi(Si=Fi)||Fn(Si))&&(0===this._cmp(Fi,wr[vi][1])||0===this._cmp(Fi,wr[vi][0])||Ur(()=>{er.continue(Lr===Pt?wr[vi][0]:wr[vi][1])}),1));var Si}),wn}startsWithAnyOf(){const he=I.apply(ve,arguments);return he.every(qe=>"string"==typeof qe)?0===he.length?co(this):this.inAnyRange(he.map(qe=>[qe,qe+"\uffff"])):ji(this,"startsWithAnyOf() only works with strings")}}function cs(xe){return Cr(function(he){return Ns(he),xe(he.target.error),!1})}function Ns(xe){xe.stopPropagation&&xe.stopPropagation(),xe.preventDefault&&xe.preventDefault()}const ns="storagemutated",Ks="x-storagemutated-1",Go=ko(null,ns);class Aa{_lock(){return L(!Ue.global),++this._reculock,1!==this._reculock||Ue.global||(Ue.lockOwnerFor=this),this}_unlock(){if(L(!Ue.global),0==--this._reculock)for(Ue.global||(Ue.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var he=this._blockedFuncs.shift();try{qn(he[1],he[0])}catch{}}return this}_locked(){return this._reculock&&Ue.lockOwnerFor!==this}create(he){if(!this.mode)return this;const qe=this.db.idbdb,wt=this.db._state.dbOpenError;if(L(!this.idbtrans),!he&&!qe)switch(wt&&wt.name){case"DatabaseClosedError":throw new Y.DatabaseClosed(wt);case"MissingAPIError":throw new Y.MissingAPI(wt.message,wt);default:throw new Y.OpenFailed(wt)}if(!this.active)throw new Y.TransactionInactive;return L(null===this._completion._state),(he=this.idbtrans=he||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):qe.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Cr(Pt=>{Ns(Pt),this._reject(he.error)}),he.onabort=Cr(Pt=>{Ns(Pt),this.active&&this._reject(new Y.Abort(he.error)),this.active=!1,this.on("abort").fire(Pt)}),he.oncomplete=Cr(()=>{this.active=!1,this._resolve(),"mutatedParts"in he&&Go.storagemutated.fire(he.mutatedParts)}),this}_promise(he,qe,wt){if("readwrite"===he&&"readwrite"!==this.mode)return Zt(new Y.ReadOnly("Transaction is readonly"));if(!this.active)return Zt(new Y.TransactionInactive);if(this._locked())return new Me((cn,xn)=>{this._blockedFuncs.push([()=>{this._promise(he,qe,wt).then(cn,xn)},Ue])});if(wt)return Qi(()=>{var cn=new Me((xn,nr)=>{this._lock();const Yn=qe(xn,nr,this);Yn&&Yn.then&&Yn.then(xn,nr)});return cn.finally(()=>this._unlock()),cn._lib=!0,cn});var Pt=new Me((cn,xn)=>{var nr=qe(cn,xn,this);nr&&nr.then&&nr.then(cn,xn)});return Pt._lib=!0,Pt}_root(){return this.parent?this.parent._root():this}waitFor(he){var qe=this._root();const wt=Me.resolve(he);if(qe._waitingFor)qe._waitingFor=qe._waitingFor.then(()=>wt);else{qe._waitingFor=wt,qe._waitingQueue=[];var Pt=qe.idbtrans.objectStore(qe.storeNames[0]);!function xn(){for(++qe._spinCount;qe._waitingQueue.length;)qe._waitingQueue.shift()();qe._waitingFor&&(Pt.get(-1/0).onsuccess=xn)}()}var cn=qe._waitingFor;return new Me((xn,nr)=>{wt.then(Yn=>qe._waitingQueue.push(Cr(xn.bind(null,Yn))),Yn=>qe._waitingQueue.push(Cr(nr.bind(null,Yn)))).finally(()=>{qe._waitingFor===cn&&(qe._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Y.Abort))}table(he){const qe=this._memoizedTables||(this._memoizedTables={});if(u(qe,he))return qe[he];const wt=this.schema[he];if(!wt)throw new Y.NotFound("Table "+he+" not part of transaction");const Pt=new this.db.Table(he,wt,this);return Pt.core=this.db.core.table(he),qe[he]=Pt,Pt}}function oa(xe,he,qe,wt,Pt,cn,xn){return{name:xe,keyPath:he,unique:qe,multi:wt,auto:Pt,compound:cn,src:(qe&&!xn?"&":"")+(wt?"*":"")+(Pt?"++":"")+Ko(he)}}function Ko(xe){return"string"==typeof xe?xe:xe?"["+[].join.call(xe,"+")+"]":""}function Fs(xe,he,qe){return{name:xe,primKey:he,indexes:qe,mappedClass:null,idxByName:ae(qe,wt=>[wt.name,wt])}}let Vs=xe=>{try{return xe.only([[]]),Vs=()=>[[]],[[]]}catch{return Vs=()=>"\uffff","\uffff"}};function ds(xe){return null==xe?()=>{}:"string"==typeof xe?1===(he=xe).split(".").length?wt=>wt[he]:wt=>le(wt,he):he=>le(he,xe);var he}function Xs(xe){return[].slice.call(xe)}let Jn=0;function rr(xe){return null==xe?":id":"string"==typeof xe?xe:`[${xe.join("+")}]`}function ur(xe,he,qe){function wt(Yn){if(3===Yn.type)return null;if(4===Yn.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:kr,upper:wr,lowerOpen:Lr,upperOpen:Fr}=Yn;return void 0===kr?void 0===wr?null:he.upperBound(wr,!!Fr):void 0===wr?he.lowerBound(kr,!!Lr):he.bound(kr,wr,!!Lr,!!Fr)}const{schema:Pt,hasGetAll:cn}=function(Yn,kr){const wr=Xs(Yn.objectStoreNames);return{schema:{name:Yn.name,tables:wr.map(Lr=>kr.objectStore(Lr)).map(Lr=>{const{keyPath:Fr,autoIncrement:vi}=Lr,Hi=f(Fr),lr={},wn={name:Lr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Fr,compound:Hi,keyPath:Fr,autoIncrement:vi,unique:!0,extractKey:ds(Fr)},indexes:Xs(Lr.indexNames).map(er=>Lr.index(er)).map(er=>{const{name:Ur,unique:gi,multiEntry:Fi,keyPath:Si}=er,Xi={name:Ur,compound:f(Si),keyPath:Si,unique:gi,multiEntry:Fi,extractKey:ds(Si)};return lr[rr(Si)]=Xi,Xi}),getIndexByKeyPath:er=>lr[rr(er)]};return lr[":id"]=wn.primaryKey,null!=Fr&&(lr[rr(Fr)]=wn.primaryKey),wn})},hasGetAll:wr.length>0&&"getAll"in kr.objectStore(wr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(xe,qe),xn=Pt.tables.map(Yn=>function(kr){const wr=kr.name;return{name:wr,schema:kr,mutate:function({trans:Lr,type:Fr,keys:vi,values:Hi,range:Fn}){return new Promise((lr,wn)=>{lr=Cr(lr);const er=Lr.objectStore(wr),Ur=null==er.keyPath,gi="put"===Fr||"add"===Fr;if(!gi&&"delete"!==Fr&&"deleteRange"!==Fr)throw new Error("Invalid operation type: "+Fr);const{length:Fi}=vi||Hi||{length:1};if(vi&&Hi&&vi.length!==Hi.length)throw new Error("Given keys array must have same length as given values array.");if(0===Fi)return lr({numFailures:0,failures:{},results:[],lastResult:void 0});let Si;const Xi=[],zo=[];let ki=0;const As=qo=>{++ki,Ns(qo)};if("deleteRange"===Fr){if(4===Fn.type)return lr({numFailures:ki,failures:zo,results:[],lastResult:void 0});Xi.push(Si=3===Fn.type?er.clear():er.delete(wt(Fn)))}else{const[qo,js]=gi?Ur?[Hi,vi]:[Hi,null]:[vi,null];if(gi)for(let Te=0;Te<Fi;++Te)Xi.push(Si=js&&void 0!==js[Te]?er[Fr](qo[Te],js[Te]):er[Fr](qo[Te])),Si.onerror=As;else for(let Te=0;Te<Fi;++Te)Xi.push(Si=er[Fr](qo[Te])),Si.onerror=As}const bs=qo=>{const js=qo.target.result;Xi.forEach((Te,et)=>null!=Te.error&&(zo[et]=Te.error)),lr({numFailures:ki,failures:zo,results:"delete"===Fr?vi:Xi.map(Te=>Te.result),lastResult:js})};Si.onerror=qo=>{As(qo),bs(qo)},Si.onsuccess=bs})},getMany:({trans:Lr,keys:Fr})=>new Promise((vi,Hi)=>{vi=Cr(vi);const Fn=Lr.objectStore(wr),lr=Fr.length,wn=new Array(lr);let er,Ur=0,gi=0;const Fi=Xi=>{const zo=Xi.target;wn[zo._pos]=zo.result,++gi===Ur&&vi(wn)},Si=cs(Hi);for(let Xi=0;Xi<lr;++Xi)null!=Fr[Xi]&&(er=Fn.get(Fr[Xi]),er._pos=Xi,er.onsuccess=Fi,er.onerror=Si,++Ur);0===Ur&&vi(wn)}),get:({trans:Lr,key:Fr})=>new Promise((vi,Hi)=>{vi=Cr(vi);const Fn=Lr.objectStore(wr).get(Fr);Fn.onsuccess=lr=>vi(lr.target.result),Fn.onerror=cs(Hi)}),query:function(Lr){return Fr=>new Promise((vi,Hi)=>{vi=Cr(vi);const{trans:Fn,values:lr,limit:wn,query:er}=Fr,Ur=wn===1/0?void 0:wn,{index:gi,range:Fi}=er,Si=Fn.objectStore(wr),Xi=gi.isPrimaryKey?Si:Si.index(gi.name),zo=wt(Fi);if(0===wn)return vi({result:[]});if(Lr){const ki=lr?Xi.getAll(zo,Ur):Xi.getAllKeys(zo,Ur);ki.onsuccess=As=>vi({result:As.target.result}),ki.onerror=cs(Hi)}else{let ki=0;const As=lr||!("openKeyCursor"in Xi)?Xi.openCursor(zo):Xi.openKeyCursor(zo),bs=[];As.onsuccess=qo=>{const js=As.result;return js?(bs.push(lr?js.value:js.primaryKey),++ki===wn?vi({result:bs}):void js.continue()):vi({result:bs})},As.onerror=cs(Hi)}})}(cn),openCursor:function({trans:Lr,values:Fr,query:vi,reverse:Hi,unique:Fn}){return new Promise((lr,wn)=>{lr=Cr(lr);const{index:er,range:Ur}=vi,gi=Lr.objectStore(wr),Fi=er.isPrimaryKey?gi:gi.index(er.name),Si=Hi?Fn?"prevunique":"prev":Fn?"nextunique":"next",Xi=Fr||!("openKeyCursor"in Fi)?Fi.openCursor(wt(Ur),Si):Fi.openKeyCursor(wt(Ur),Si);Xi.onerror=cs(wn),Xi.onsuccess=Cr(zo=>{const ki=Xi.result;if(!ki)return void lr(null);ki.___id=++Jn,ki.done=!1;const As=ki.continue.bind(ki);let bs=ki.continuePrimaryKey;bs&&(bs=bs.bind(ki));const qo=ki.advance.bind(ki),js=()=>{throw new Error("Cursor not stopped")};ki.trans=Lr,ki.stop=ki.continue=ki.continuePrimaryKey=ki.advance=()=>{throw new Error("Cursor not started")},ki.fail=Cr(wn),ki.next=function(){let Te=1;return this.start(()=>Te--?this.continue():this.stop()).then(()=>this)},ki.start=Te=>{const et=new Promise((Vt,yn)=>{Vt=Cr(Vt),Xi.onerror=cs(yn),ki.fail=yn,ki.stop=Wn=>{ki.stop=ki.continue=ki.continuePrimaryKey=ki.advance=js,Vt(Wn)}}),ht=()=>{if(Xi.result)try{Te()}catch(Vt){ki.fail(Vt)}else ki.done=!0,ki.start=()=>{throw new Error("Cursor behind last entry")},ki.stop()};return Xi.onsuccess=Cr(Vt=>{Xi.onsuccess=ht,ht()}),ki.continue=As,ki.continuePrimaryKey=bs,ki.advance=qo,ht(),et},lr(ki)},wn)})},count({query:Lr,trans:Fr}){const{index:vi,range:Hi}=Lr;return new Promise((Fn,lr)=>{const wn=Fr.objectStore(wr),er=vi.isPrimaryKey?wn:wn.index(vi.name),Ur=wt(Hi),gi=Ur?er.count(Ur):er.count();gi.onsuccess=Cr(Fi=>Fn(Fi.target.result)),gi.onerror=cs(lr)})}}}(Yn)),nr={};return xn.forEach(Yn=>nr[Yn.name]=Yn),{stack:"dbcore",transaction:xe.transaction.bind(xe),table(Yn){if(!nr[Yn])throw new Error(`Table '${Yn}' not found`);return nr[Yn]},MIN_KEY:-1/0,MAX_KEY:Vs(he),schema:Pt}}function Ar({_novip:xe},he){const wt=function(Pt,cn,{IDBKeyRange:xn},Yn){return{dbcore:(wr=ur(cn,xn,Yn),Lr=Pt.dbcore,Lr.reduce((Fr,{create:vi})=>({...Fr,...vi(Fr)}),wr))};var wr,Lr}(xe._middlewares,he.db,xe._deps,he);xe.core=wt.dbcore,xe.tables.forEach(Pt=>{const cn=Pt.name;xe.core.schema.tables.some(xn=>xn.name===cn)&&(Pt.core=xe.core.table(cn),xe[cn]instanceof xe.Table&&(xe[cn].core=Pt.core))})}function Di({_novip:xe},he,qe,wt){qe.forEach(Pt=>{const cn=wt[Pt];he.forEach(xn=>{const nr=_(xn,Pt);(!nr||"value"in nr&&void 0===nr.value)&&(xn===xe.Transaction.prototype||xn instanceof xe.Transaction?U(xn,Pt,{get(){return this.table(Pt)},set(Yn){S(this,Pt,{value:Yn,writable:!0,configurable:!0,enumerable:!0})}}):xn[Pt]=new xe.Table(Pt,cn))})})}function mt({_novip:xe},he){he.forEach(qe=>{for(let wt in qe)qe[wt]instanceof xe.Table&&delete qe[wt]})}function mn(xe,he){return xe._cfg.version-he._cfg.version}function dn(xe,he){const qe={del:[],add:[],change:[]};let wt;for(wt in xe)he[wt]||qe.del.push(wt);for(wt in he){const Pt=xe[wt],cn=he[wt];if(Pt){const xn={name:wt,def:cn,recreate:!1,del:[],add:[],change:[]};if(""+(Pt.primKey.keyPath||"")!=""+(cn.primKey.keyPath||"")||Pt.primKey.auto!==cn.primKey.auto&&!po)xn.recreate=!0,qe.change.push(xn);else{const nr=Pt.idxByName,Yn=cn.idxByName;let kr;for(kr in nr)Yn[kr]||xn.del.push(kr);for(kr in Yn){const wr=nr[kr],Lr=Yn[kr];wr?wr.src!==Lr.src&&xn.change.push(Lr):xn.add.push(Lr)}(xn.del.length>0||xn.add.length>0||xn.change.length>0)&&qe.change.push(xn)}}else qe.add.push([wt,cn])}return qe}function Xe(xe,he,qe,wt){const Pt=xe.db.createObjectStore(he,qe.keyPath?{keyPath:qe.keyPath,autoIncrement:qe.auto}:{autoIncrement:qe.auto});return wt.forEach(cn=>Rt(Pt,cn)),Pt}function Rt(xe,he){xe.createIndex(he.name,he.keyPath,{unique:he.unique,multiEntry:he.multi})}function qt(xe,he,qe){const wt={};return W(he.objectStoreNames,0).forEach(Pt=>{const cn=qe.objectStore(Pt);let xn=cn.keyPath;const nr=oa(Ko(xn),xn||"",!1,!1,!!cn.autoIncrement,xn&&"string"!=typeof xn,!0),Yn=[];for(let wr=0;wr<cn.indexNames.length;++wr){const Lr=cn.index(cn.indexNames[wr]);xn=Lr.keyPath;var kr=oa(Lr.name,xn,!!Lr.unique,!!Lr.multiEntry,!1,xn&&"string"!=typeof xn,!1);Yn.push(kr)}wt[Pt]=Fs(Pt,nr,Yn)}),wt}function zn({_novip:xe},he,qe){const wt=qe.db.objectStoreNames;for(let Pt=0;Pt<wt.length;++Pt){const cn=wt[Pt],xn=qe.objectStore(cn);xe._hasGetAll="getAll"in xn;for(let nr=0;nr<xn.indexNames.length;++nr){const Yn=xn.indexNames[nr],kr=xn.index(Yn).keyPath,wr="string"==typeof kr?kr:"["+W(kr).join("+")+"]";if(he[cn]){const Lr=he[cn].idxByName[wr];Lr&&(Lr.name=Yn,delete he[cn].idxByName[wr],he[cn].idxByName[Yn]=Lr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(xe._hasGetAll=!1)}class fr{_parseStoresSpec(he,qe){x(he).forEach(wt=>{if(null!==he[wt]){var Pt=he[wt].split(",").map((xn,nr)=>{const Yn=(xn=xn.trim()).replace(/([&*]|\+\+)/g,""),kr=/^\[/.test(Yn)?Yn.match(/^\[(.*)\]$/)[1].split("+"):Yn;return oa(Yn,kr||null,/\&/.test(xn),/\*/.test(xn),/\+\+/.test(xn),f(kr),0===nr)}),cn=Pt.shift();if(cn.multi)throw new Y.Schema("Primary key cannot be multi-valued");Pt.forEach(xn=>{if(xn.auto)throw new Y.Schema("Only primary key can be marked as autoIncrement (++)");if(!xn.keyPath)throw new Y.Schema("Index must have a name and cannot be an empty string")}),qe[wt]=Fs(wt,cn,Pt)}})}stores(he){const qe=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,he):he;const Pt={};let cn={};return qe._versions.forEach(xn=>{b(Pt,xn._cfg.storesSource),cn=xn._cfg.dbschema={},xn._parseStoresSpec(Pt,cn)}),qe._dbSchema=cn,mt(qe,[qe._allTables,qe,qe.Transaction.prototype]),Di(qe,[qe._allTables,qe,qe.Transaction.prototype,this._cfg.tables],x(cn),cn),qe._storeNames=x(cn),this}upgrade(he){return this._cfg.contentUpgrade=It(this._cfg.contentUpgrade||Z,he),this}}function mr(xe,he){let qe=xe._dbNamesDB;return qe||(qe=xe._dbNamesDB=new Kn(un,{addons:[],indexedDB:xe,IDBKeyRange:he}),qe.version(1).stores({dbnames:"name"})),qe.table("dbnames")}function $r(xe){return xe&&"function"==typeof xe.databases}function jr(xe){return Qi(function(){return Ue.letThrough=!0,xe()})}function li(){var xe;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){var qe=function(){return indexedDB.databases().finally(he)};xe=setInterval(qe,100),qe()}).finally(function(){return clearInterval(xe)}):Promise.resolve()}function eo(xe){var he=cn=>xe.next(cn),qe=Pt(he),wt=Pt(cn=>xe.throw(cn));function Pt(cn){return xn=>{var nr=cn(xn),Yn=nr.value;return nr.done?Yn:Yn&&"function"==typeof Yn.then?Yn.then(qe,wt):f(Yn)?Promise.all(Yn).then(qe,wt):qe(Yn)}}return Pt(he)()}function yo(xe,he,qe){var wt=arguments.length;if(wt<2)throw new Y.InvalidArgument("Too few arguments");for(var Pt=new Array(wt-1);--wt;)Pt[wt-1]=arguments[wt];return qe=Pt.pop(),[xe,j(Pt),qe]}function Mo(xe,he,qe,wt,Pt){return Me.resolve().then(()=>{const cn=Ue.transless||Ue,xn=xe._createTransaction(he,qe,xe._dbSchema,wt),nr={trans:xn,transless:cn};if(wt)xn.idbtrans=wt.idbtrans;else try{xn.create(),xe._state.PR1398_maxLoop=3}catch(Lr){return Lr.name===R.InvalidState&&xe.isOpen()&&--xe._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),xe._close(),xe.open().then(()=>Mo(xe,he,qe,null,Pt))):Zt(Lr)}const Yn=V(Pt);let kr;Yn&&Ve();const wr=Me.follow(()=>{if(kr=Pt.call(xn,xn),kr)if(Yn){var Lr=_t.bind(null,null);kr.then(Lr,Lr)}else"function"==typeof kr.next&&"function"==typeof kr.throw&&(kr=eo(kr))},nr);return(kr&&"function"==typeof kr.then?Me.resolve(kr).then(Lr=>xn.active?Lr:Zt(new Y.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):wr.then(()=>kr)).then(Lr=>(wt&&xn._resolve(),xn._completion.then(()=>Lr))).catch(Lr=>(xn._reject(Lr),Zt(Lr)))})}function tt(xe,he,qe){const wt=f(xe)?xe.slice():[xe];for(let Pt=0;Pt<qe;++Pt)wt.push(he);return wt}const re={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(xe){return{...xe,table(he){const qe=xe.table(he),{schema:wt}=qe,Pt={},cn=[];function xn(wr,Lr,Fr){const vi=rr(wr),Hi=Pt[vi]=Pt[vi]||[],Fn=null==wr?0:"string"==typeof wr?1:wr.length,lr=Lr>0,wn={...Fr,isVirtual:lr,keyTail:Lr,keyLength:Fn,extractKey:ds(wr),unique:!lr&&Fr.unique};return Hi.push(wn),wn.isPrimaryKey||cn.push(wn),Fn>1&&xn(2===Fn?wr[0]:wr.slice(0,Fn-1),Lr+1,Fr),Hi.sort((er,Ur)=>er.keyTail-Ur.keyTail),wn}const nr=xn(wt.primaryKey.keyPath,0,wt.primaryKey);Pt[":id"]=[nr];for(const wr of wt.indexes)xn(wr.keyPath,0,wr);function Yn(wr){const Lr=wr.query.index;return Lr.isVirtual?{...wr,query:{index:Lr,range:(Fr=wr.query.range,vi=Lr.keyTail,{type:1===Fr.type?2:Fr.type,lower:tt(Fr.lower,Fr.lowerOpen?xe.MAX_KEY:xe.MIN_KEY,vi),lowerOpen:!0,upper:tt(Fr.upper,Fr.upperOpen?xe.MIN_KEY:xe.MAX_KEY,vi),upperOpen:!0})}}:wr;var Fr,vi}return{...qe,schema:{...wt,primaryKey:nr,indexes:cn,getIndexByKeyPath:function(wr){const Lr=Pt[rr(wr)];return Lr&&Lr[0]}},count:wr=>qe.count(Yn(wr)),query:wr=>qe.query(Yn(wr)),openCursor(wr){const{keyTail:Lr,isVirtual:Fr,keyLength:vi}=wr.query.index;return Fr?qe.openCursor(Yn(wr)).then(Hi=>{return Hi&&(Fn=Hi,Object.create(Fn,{continue:{value:function(wn){null!=wn?Fn.continue(tt(wn,wr.reverse?xe.MAX_KEY:xe.MIN_KEY,Lr)):wr.unique?Fn.continue(Fn.key.slice(0,vi).concat(wr.reverse?xe.MIN_KEY:xe.MAX_KEY,Lr)):Fn.continue()}},continuePrimaryKey:{value(wn,er){Fn.continuePrimaryKey(tt(wn,xe.MAX_KEY,Lr),er)}},primaryKey:{get:()=>Fn.primaryKey},key:{get(){const wn=Fn.key;return 1===vi?wn[0]:wn.slice(0,vi)}},value:{get:()=>Fn.value}}));var Fn}):qe.openCursor(wr)}}}}}};function ce(xe,he,qe,wt){return qe=qe||{},wt=wt||"",x(xe).forEach(Pt=>{if(u(he,Pt)){var cn=xe[Pt],xn=he[Pt];if("object"==typeof cn&&"object"==typeof xn&&cn&&xn){const nr=De(cn);nr!==De(xn)?qe[wt+Pt]=he[Pt]:"Object"===nr?ce(cn,xn,qe,wt+Pt+"."):cn!==xn&&(qe[wt+Pt]=he[Pt])}else cn!==xn&&(qe[wt+Pt]=he[Pt])}else qe[wt+Pt]=void 0}),x(he).forEach(Pt=>{u(xe,Pt)||(qe[wt+Pt]=he[Pt])}),qe}const Je={stack:"dbcore",name:"HooksMiddleware",level:2,create:xe=>({...xe,table(he){const qe=xe.table(he),{primaryKey:wt}=qe.schema;return{...qe,mutate(cn){const xn=Ue.trans,{deleting:nr,creating:Yn,updating:kr}=xn.table(he).hook;switch(cn.type){case"add":if(Yn.fire===Z)break;return xn._promise("readwrite",()=>wr(cn),!0);case"put":if(Yn.fire===Z&&kr.fire===Z)break;return xn._promise("readwrite",()=>wr(cn),!0);case"delete":if(nr.fire===Z)break;return xn._promise("readwrite",()=>wr(cn),!0);case"deleteRange":if(nr.fire===Z)break;return xn._promise("readwrite",()=>{return Lr((Fr=cn).trans,Fr.range,1e4);var Fr},!0)}return qe.mutate(cn);function wr(Fr){const vi=Ue.trans,Hi=Fr.keys||("delete"===(lr=Fr).type?lr.keys:lr.keys||lr.values.map(wt.extractKey));var lr;if(!Hi)throw new Error("Keys missing");return"delete"!==(Fr="add"===Fr.type||"put"===Fr.type?{...Fr,keys:Hi}:{...Fr}).type&&(Fr.values=[...Fr.values]),Fr.keys&&(Fr.keys=[...Fr.keys]),function(Fn,lr,wn){return"add"===lr.type?Promise.resolve([]):Fn.getMany({trans:lr.trans,keys:wn,cache:"immutable"})}(qe,Fr,Hi).then(Fn=>{const lr=Hi.map((wn,er)=>{const Ur=Fn[er],gi={onerror:null,onsuccess:null};if("delete"===Fr.type)nr.fire.call(gi,wn,Ur,vi);else if("add"===Fr.type||void 0===Ur){const Fi=Yn.fire.call(gi,wn,Fr.values[er],vi);null==wn&&null!=Fi&&(Fr.keys[er]=wn=Fi,wt.outbound||fe(Fr.values[er],wt.keyPath,wn))}else{const Fi=ce(Ur,Fr.values[er]),Si=kr.fire.call(gi,Fi,wn,Ur,vi);if(Si){const Xi=Fr.values[er];Object.keys(Si).forEach(zo=>{u(Xi,zo)?Xi[zo]=Si[zo]:fe(Xi,zo,Si[zo])})}}return gi});return qe.mutate(Fr).then(({failures:wn,results:er,numFailures:Ur,lastResult:gi})=>{for(let Fi=0;Fi<Hi.length;++Fi){const Si=er?er[Fi]:Hi[Fi],Xi=lr[Fi];null==Si?Xi.onerror&&Xi.onerror(wn[Fi]):Xi.onsuccess&&Xi.onsuccess("put"===Fr.type&&Fn[Fi]?Fr.values[Fi]:Si)}return{failures:wn,results:er,numFailures:Ur,lastResult:gi}}).catch(wn=>(lr.forEach(er=>er.onerror&&er.onerror(wn)),Promise.reject(wn)))})}function Lr(Fr,vi,Hi){return qe.query({trans:Fr,values:!1,query:{index:wt,range:vi},limit:Hi}).then(({result:Fn})=>wr({type:"delete",keys:Fn,trans:Fr}).then(lr=>lr.numFailures>0?Promise.reject(lr.failures[0]):Fn.length<Hi?{failures:[],numFailures:0,lastResult:void 0}:Lr(Fr,{...vi,lower:Fn[Fn.length-1],lowerOpen:!0},Hi)))}}}}})};function Le(xe,he,qe){try{if(!he||he.keys.length<xe.length)return null;const wt=[];for(let Pt=0,cn=0;Pt<he.keys.length&&cn<xe.length;++Pt)0===jn(he.keys[Pt],xe[cn])&&(wt.push(qe?Se(he.values[Pt]):he.values[Pt]),++cn);return wt.length===xe.length?wt:null}catch{return null}}const Wt={stack:"dbcore",level:-1,create:xe=>({table:he=>{const qe=xe.table(he);return{...qe,getMany:wt=>{if(!wt.cache)return qe.getMany(wt);const Pt=Le(wt.keys,wt.trans._cache,"clone"===wt.cache);return Pt?Me.resolve(Pt):qe.getMany(wt).then(cn=>(wt.trans._cache={keys:wt.keys,values:"clone"===wt.cache?Se(cn):cn},cn))},mutate:wt=>("add"!==wt.type&&(wt.trans._cache=null),qe.mutate(wt))}}})};function yr(xe){return!("from"in xe)}const ti=function(xe,he){if(!this){const qe=new ti;return xe&&"d"in xe&&b(qe,xe),qe}b(this,arguments.length?{d:1,from:xe,to:arguments.length>1?he:xe}:{d:0})};function _o(xe,he,qe){const wt=jn(he,qe);if(isNaN(wt))return;if(wt>0)throw RangeError();if(yr(xe))return b(xe,{from:he,to:qe,d:1});const Pt=xe.l,cn=xe.r;if(jn(qe,xe.from)<0)return Pt?_o(Pt,he,qe):xe.l={from:he,to:qe,d:1,l:null,r:null},bt(xe);if(jn(he,xe.to)>0)return cn?_o(cn,he,qe):xe.r={from:he,to:qe,d:1,l:null,r:null},bt(xe);jn(he,xe.from)<0&&(xe.from=he,xe.l=null,xe.d=cn?cn.d+1:1),jn(qe,xe.to)>0&&(xe.to=qe,xe.r=null,xe.d=xe.l?xe.l.d+1:1);const xn=!xe.r;Pt&&!xe.l&&rn(xe,Pt),cn&&xn&&rn(xe,cn)}function rn(xe,he){yr(he)||function qe(wt,{from:Pt,to:cn,l:xn,r:nr}){_o(wt,Pt,cn),xn&&qe(wt,xn),nr&&qe(wt,nr)}(xe,he)}function Re(xe){let he=yr(xe)?null:{s:0,n:xe};return{next(qe){const wt=arguments.length>0;for(;he;)switch(he.s){case 0:if(he.s=1,wt)for(;he.n.l&&jn(qe,he.n.from)<0;)he={up:he,n:he.n.l,s:1};else for(;he.n.l;)he={up:he,n:he.n.l,s:1};case 1:if(he.s=2,!wt||jn(qe,he.n.to)<=0)return{value:he.n,done:!1};case 2:if(he.n.r){he.s=3,he={up:he,n:he.n.r,s:0};continue}case 3:he=he.up}return{done:!0}}}}function bt(xe){var he,qe;const wt=((null===(he=xe.r)||void 0===he?void 0:he.d)||0)-((null===(qe=xe.l)||void 0===qe?void 0:qe.d)||0),Pt=wt>1?"r":wt<-1?"l":"";if(Pt){const cn="r"===Pt?"l":"r",xn={...xe},nr=xe[Pt];xe.from=nr.from,xe.to=nr.to,xe[Pt]=nr[Pt],xn[Pt]=nr[cn],xe[cn]=xn,xn.d=tn(xn)}xe.d=tn(xe)}function tn({r:xe,l:he}){return(xe?he?Math.max(xe.d,he.d):xe.d:he?he.d:0)+1}F(ti.prototype,{add(xe){return rn(this,xe),this},addKey(xe){return _o(this,xe,xe),this},addKeys(xe){return xe.forEach(he=>_o(this,he,he)),this},[ut](){return Re(this)}});const An={stack:"dbcore",level:0,create:xe=>{const he=xe.schema.name,qe=new ti(xe.MIN_KEY,xe.MAX_KEY);return{...xe,table:wt=>{const Pt=xe.table(wt),{schema:cn}=Pt,{primaryKey:xn}=cn,{extractKey:nr,outbound:Yn}=xn,kr={...Pt,mutate:Fr=>{const vi=Fr.trans,Hi=vi.mutatedParts||(vi.mutatedParts={}),Fn=Si=>{const Xi=`idb://${he}/${wt}/${Si}`;return Hi[Xi]||(Hi[Xi]=new ti)},lr=Fn(""),wn=Fn(":dels"),{type:er}=Fr;let[Ur,gi]="deleteRange"===Fr.type?[Fr.range]:"delete"===Fr.type?[Fr.keys]:Fr.values.length<50?[[],Fr.values]:[];const Fi=Fr.trans._cache;return Pt.mutate(Fr).then(Si=>{if(f(Ur)){"delete"!==er&&(Ur=Si.results),lr.addKeys(Ur);const Xi=Le(Ur,Fi);Xi||"add"===er||wn.addKeys(Ur),(Xi||gi)&&(zo=Fn,As=Xi,bs=gi,cn.indexes.forEach(function qo(js){const Te=zo(js.name||"");function et(Vt){return null!=Vt?js.extractKey(Vt):null}const ht=Vt=>js.multiEntry&&f(Vt)?Vt.forEach(yn=>Te.addKey(yn)):Te.addKey(Vt);(As||bs).forEach((Vt,yn)=>{const Wn=As&&et(As[yn]),ir=bs&&et(bs[yn]);0!==jn(Wn,ir)&&(null!=Wn&&ht(Wn),null!=ir&&ht(ir))})}))}else if(Ur){const Xi={from:Ur.lower,to:Ur.upper};wn.add(Xi),lr.add(Xi)}else lr.add(qe),wn.add(qe),cn.indexes.forEach(Xi=>Fn(Xi.name).add(qe));var zo,As,bs;return Si})}},wr=({query:{index:Fr,range:vi}})=>{var Hi,Fn;return[Fr,new ti(null!==(Hi=vi.lower)&&void 0!==Hi?Hi:xe.MIN_KEY,null!==(Fn=vi.upper)&&void 0!==Fn?Fn:xe.MAX_KEY)]},Lr={get:Fr=>[xn,new ti(Fr.key)],getMany:Fr=>[xn,(new ti).addKeys(Fr.keys)],count:wr,query:wr,openCursor:wr};return x(Lr).forEach(Fr=>{kr[Fr]=function(vi){const{subscr:Hi}=Ue;if(Hi){const Fn=gi=>{const Fi=`idb://${he}/${wt}/${gi}`;return Hi[Fi]||(Hi[Fi]=new ti)},lr=Fn(""),wn=Fn(":dels"),[er,Ur]=Lr[Fr](vi);if(Fn(er.name||"").add(Ur),!er.isPrimaryKey){if("count"!==Fr){const gi="query"===Fr&&Yn&&vi.values&&Pt.query({...vi,values:!1});return Pt[Fr].apply(this,arguments).then(Fi=>{if("query"===Fr){if(Yn&&vi.values)return gi.then(({result:Xi})=>(lr.addKeys(Xi),Fi));const Si=vi.values?Fi.result.map(nr):Fi.result;vi.values?lr.addKeys(Si):wn.addKeys(Si)}else if("openCursor"===Fr){const Si=Fi,Xi=vi.values;return Si&&Object.create(Si,{key:{get:()=>(wn.addKey(Si.primaryKey),Si.key)},primaryKey:{get(){const zo=Si.primaryKey;return wn.addKey(zo),zo}},value:{get:()=>(Xi&&lr.addKey(Si.primaryKey),Si.value)}})}return Fi})}wn.add(qe)}}return Pt[Fr].apply(this,arguments)}}),kr}}}};class Kn{constructor(he,qe){this._middlewares={},this.verno=0;const wt=Kn.dependencies;this._options=qe={addons:Kn.addons,autoOpen:!0,indexedDB:wt.indexedDB,IDBKeyRange:wt.IDBKeyRange,...qe},this._deps={indexedDB:qe.indexedDB,IDBKeyRange:qe.IDBKeyRange};const{addons:Pt}=qe;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const cn={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Z,dbReadyPromise:null,cancelOpen:Z,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var xn,nr;cn.dbReadyPromise=new Me(nr=>{cn.dbReadyResolve=nr}),cn.openCanceller=new Me((nr,Yn)=>{cn.cancelOpen=Yn}),this._state=cn,this.name=he,this.on=ko(this,"populate","blocked","versionchange","close",{ready:[It,Z]}),this.on.ready.subscribe=K(this.on.ready.subscribe,nr=>(Yn,kr)=>{Kn.vip(()=>{const wr=this._state;if(wr.openComplete)wr.dbOpenError||Me.resolve().then(Yn),kr&&nr(Yn);else if(wr.onReadyBeingFired)wr.onReadyBeingFired.push(Yn),kr&&nr(Yn);else{nr(Yn);const Lr=this;kr||nr(function Fr(){Lr.on.ready.unsubscribe(Yn),Lr.on.ready.unsubscribe(Fr)})}})}),this.Collection=(xn=this,Yo(Ti.prototype,function(nr,Yn){this.db=xn;let kr=$i,wr=null;if(Yn)try{kr=Yn()}catch(Hi){wr=Hi}const Lr=nr._ctx,Fr=Lr.table,vi=Fr.hook.reading.fire;this._ctx={table:Fr,index:Lr.index,isPrimKey:!Lr.index||Fr.schema.primKey.keyPath&&Lr.index===Fr.schema.primKey.name,range:kr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:wr,or:Lr.or,valueMapper:vi!==z?vi:null}})),this.Table=(nr=this,Yo(go.prototype,function(Yn,kr,wr){this.db=nr,this._tx=wr,this.name=Yn,this.schema=kr,this.hook=nr._allTables[Yn]?nr._allTables[Yn].hook:ko(null,{creating:[oe,Z],reading:[H,z],updating:[rt,Z],deleting:[He,Z]})})),this.Transaction=function(nr){return Yo(Aa.prototype,function(Yn,kr,wr,Lr,Fr){this.db=nr,this.mode=Yn,this.storeNames=kr,this.schema=wr,this.chromeTransactionDurability=Lr,this.idbtrans=null,this.on=ko(this,"complete","error","abort"),this.parent=Fr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Me((vi,Hi)=>{this._resolve=vi,this._reject=Hi}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},vi=>{var Hi=this.active;return this.active=!1,this.on.error.fire(vi),this.parent?this.parent._reject(vi):Hi&&this.idbtrans&&this.idbtrans.abort(),Zt(vi)})})}(this),this.Version=function(nr){return Yo(fr.prototype,function(Yn){this.db=nr,this._cfg={version:Yn,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(nr){return Yo(Ws.prototype,function(Yn,kr,wr){this.db=nr,this._ctx={table:Yn,index:":id"===kr?null:kr,or:wr};const Lr=nr._deps.indexedDB;if(!Lr)throw new Y.MissingAPI;this._cmp=this._ascending=Lr.cmp.bind(Lr),this._descending=(Fr,vi)=>Lr.cmp(vi,Fr),this._max=(Fr,vi)=>Lr.cmp(Fr,vi)>0?Fr:vi,this._min=(Fr,vi)=>Lr.cmp(Fr,vi)<0?Fr:vi,this._IDBKeyRange=nr._deps.IDBKeyRange})}(this),this.on("versionchange",nr=>{nr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",nr=>{!nr.newVersion||nr.newVersion<nr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${nr.oldVersion/10}`)}),this._maxKey=Vs(qe.IDBKeyRange),this._createTransaction=(nr,Yn,kr,wr)=>new this.Transaction(nr,Yn,kr,this._options.chromeTransactionDurability,wr),this._fireOnBlocked=nr=>{this.on("blocked").fire(nr),hi.filter(Yn=>Yn.name===this.name&&Yn!==this&&!Yn._state.vcFired).map(Yn=>Yn.on("versionchange").fire(nr))},this.use(re),this.use(Je),this.use(An),this.use(Wt),this.vip=Object.create(this,{_vip:{value:!0}}),Pt.forEach(nr=>nr(this))}version(he){if(isNaN(he)||he<.1)throw new Y.Type("Given version is not a positive number");if(he=Math.round(10*he)/10,this.idbdb||this._state.isBeingOpened)throw new Y.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,he);const qe=this._versions;var wt=qe.filter(Pt=>Pt._cfg.version===he)[0];return wt||(wt=new this.Version(he),qe.push(wt),qe.sort(mn),wt.stores({}),this._state.autoSchema=!1,wt)}_whenReady(he){return this.idbdb&&(this._state.openComplete||Ue.letThrough||this._vip)?he():new Me((qe,wt)=>{if(this._state.openComplete)return wt(new Y.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void wt(new Y.DatabaseClosed);this.open().catch(Z)}this._state.dbReadyPromise.then(qe,wt)}).then(he)}use({stack:he,create:qe,level:wt,name:Pt}){Pt&&this.unuse({stack:he,name:Pt});const cn=this._middlewares[he]||(this._middlewares[he]=[]);return cn.push({stack:he,create:qe,level:wt??10,name:Pt}),cn.sort((xn,nr)=>xn.level-nr.level),this}unuse({stack:he,name:qe,create:wt}){return he&&this._middlewares[he]&&(this._middlewares[he]=this._middlewares[he].filter(Pt=>wt?Pt.create!==wt:!!qe&&Pt.name!==qe)),this}open(){return function Wr(xe){const he=xe._state,{indexedDB:qe}=xe._deps;if(he.isBeingOpened||xe.idbdb)return he.dbReadyPromise.then(()=>he.dbOpenError?Zt(he.dbOpenError):xe);ge&&(he.openCanceller._stackHolder=Ht()),he.isBeingOpened=!0,he.dbOpenError=null,he.openComplete=!1;const wt=he.openCanceller;function Pt(){if(he.openCanceller!==wt)throw new Y.DatabaseClosed("db.open() was cancelled")}let cn=he.dbReadyResolve,xn=null,nr=!1;const Yn=()=>new Me((kr,wr)=>{if(Pt(),!qe)throw new Y.MissingAPI;const Lr=xe.name,Fr=he.autoSchema?qe.open(Lr):qe.open(Lr,Math.round(10*xe.verno));if(!Fr)throw new Y.MissingAPI;Fr.onerror=cs(wr),Fr.onblocked=Cr(xe._fireOnBlocked),Fr.onupgradeneeded=Cr(vi=>{if(xn=Fr.transaction,he.autoSchema&&!xe._options.allowEmptyDB){Fr.onerror=Ns,xn.abort(),Fr.result.close();const Fn=qe.deleteDatabase(Lr);Fn.onsuccess=Fn.onerror=Cr(()=>{wr(new Y.NoSuchDatabase(`Database ${Lr} doesnt exist`))})}else{xn.onerror=cs(wr);var Hi=vi.oldVersion>Math.pow(2,62)?0:vi.oldVersion;nr=Hi<1,xe._novip.idbdb=Fr.result,function Ut(xe,he,qe,wt){const Pt=xe._dbSchema,cn=xe._createTransaction("readwrite",xe._storeNames,Pt);cn.create(qe),cn._completion.catch(wt);const xn=cn._reject.bind(cn),nr=Ue.transless||Ue;Qi(()=>{Ue.trans=cn,Ue.transless=nr,0===he?(x(Pt).forEach(Yn=>{Xe(qe,Yn,Pt[Yn].primKey,Pt[Yn].indexes)}),Ar(xe,qe),Me.follow(()=>xe.on.populate.fire(cn)).catch(xn)):function({_novip:Yn},kr,wr,Lr){const Fr=[],vi=Yn._versions;let Hi=Yn._dbSchema=qt(0,Yn.idbdb,Lr),Fn=!1;return vi.filter(er=>er._cfg.version>=kr).forEach(er=>{Fr.push(()=>{const Ur=Hi,gi=er._cfg.dbschema;zn(Yn,Ur,Lr),zn(Yn,gi,Lr),Hi=Yn._dbSchema=gi;const Fi=dn(Ur,gi);Fi.add.forEach(Xi=>{Xe(Lr,Xi[0],Xi[1].primKey,Xi[1].indexes)}),Fi.change.forEach(Xi=>{if(Xi.recreate)throw new Y.Upgrade("Not yet support for changing primary key");{const zo=Lr.objectStore(Xi.name);Xi.add.forEach(ki=>Rt(zo,ki)),Xi.change.forEach(ki=>{zo.deleteIndex(ki.name),Rt(zo,ki)}),Xi.del.forEach(ki=>zo.deleteIndex(ki))}});const Si=er._cfg.contentUpgrade;if(Si&&er._cfg.version>kr){Ar(Yn,Lr),wr._memoizedTables={},Fn=!0;let Xi=q(gi);Fi.del.forEach(bs=>{Xi[bs]=Ur[bs]}),mt(Yn,[Yn.Transaction.prototype]),Di(Yn,[Yn.Transaction.prototype],x(Xi),Xi),wr.schema=Xi;const zo=V(Si);let ki;zo&&Ve();const As=Me.follow(()=>{if(ki=Si(wr),ki&&zo){var bs=_t.bind(null,null);ki.then(bs,bs)}});return ki&&"function"==typeof ki.then?Me.resolve(ki):As.then(()=>ki)}}),Fr.push(Ur=>{var gi,Fi;(!Fn||!Ro)&&(gi=er._cfg.dbschema,[].slice.call((Fi=Ur).db.objectStoreNames).forEach(Si=>null==gi[Si]&&Fi.db.deleteObjectStore(Si))),mt(Yn,[Yn.Transaction.prototype]),Di(Yn,[Yn.Transaction.prototype],Yn._storeNames,Yn._dbSchema),wr.schema=Yn._dbSchema})}),function wn(){return Fr.length?Me.resolve(Fr.shift()(wr.idbtrans)).then(wn):Me.resolve()}().then(()=>{var er,Ur;Ur=Lr,x(er=Hi).forEach(gi=>{Ur.db.objectStoreNames.contains(gi)||Xe(Ur,gi,er[gi].primKey,er[gi].indexes)})})}(xe,he,cn,qe).catch(xn)})}(xe,Hi/10,xn,wr)}},wr),Fr.onsuccess=Cr(()=>{xn=null;const vi=xe._novip.idbdb=Fr.result,Hi=W(vi.objectStoreNames);if(Hi.length>0)try{const lr=vi.transaction(1===(Fn=Hi).length?Fn[0]:Fn,"readonly");he.autoSchema?function({_novip:wn},er,Ur){wn.verno=er.version/10;const gi=wn._dbSchema=qt(0,er,Ur);wn._storeNames=W(er.objectStoreNames,0),Di(wn,[wn._allTables],x(gi),gi)}(xe,vi,lr):(zn(xe,xe._dbSchema,lr),function(wn,er){const Ur=dn(qt(0,wn.idbdb,er),wn._dbSchema);return!(Ur.add.length||Ur.change.some(gi=>gi.add.length||gi.change.length))}(xe,lr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ar(xe,lr)}catch{}var Fn;hi.push(xe),vi.onversionchange=Cr(lr=>{he.vcFired=!0,xe.on("versionchange").fire(lr)}),vi.onclose=Cr(lr=>{xe.on("close").fire(lr)}),nr&&function({indexedDB:lr,IDBKeyRange:wn},er){!$r(lr)&&er!==un&&mr(lr,wn).put({name:er}).catch(Z)}(xe._deps,Lr),kr()},wr)}).catch(kr=>kr&&"UnknownError"===kr.name&&he.PR1398_maxLoop>0?(he.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Yn()):Me.reject(kr));return Me.race([wt,(typeof navigator>"u"?Me.resolve():li()).then(Yn)]).then(()=>(Pt(),he.onReadyBeingFired=[],Me.resolve(jr(()=>xe.on.ready.fire(xe.vip))).then(function kr(){if(he.onReadyBeingFired.length>0){let wr=he.onReadyBeingFired.reduce(It,Z);return he.onReadyBeingFired=[],Me.resolve(jr(()=>wr(xe.vip))).then(kr)}}))).finally(()=>{he.onReadyBeingFired=null,he.isBeingOpened=!1}).then(()=>xe).catch(kr=>{he.dbOpenError=kr;try{xn&&xn.abort()}catch{}return wt===he.openCanceller&&xe._close(),Zt(kr)}).finally(()=>{he.openComplete=!0,cn()})}(this)}_close(){const he=this._state,qe=hi.indexOf(this);if(qe>=0&&hi.splice(qe,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}he.dbReadyPromise=new Me(wt=>{he.dbReadyResolve=wt}),he.openCanceller=new Me((wt,Pt)=>{he.cancelOpen=Pt})}close(){this._close();const he=this._state;this._options.autoOpen=!1,he.dbOpenError=new Y.DatabaseClosed,he.isBeingOpened&&he.cancelOpen(he.dbOpenError)}delete(){const he=arguments.length>0,qe=this._state;return new Me((wt,Pt)=>{const cn=()=>{this.close();var xn=this._deps.indexedDB.deleteDatabase(this.name);xn.onsuccess=Cr(()=>{(function({indexedDB:nr,IDBKeyRange:Yn},kr){!$r(nr)&&kr!==un&&mr(nr,Yn).delete(kr).catch(Z)})(this._deps,this.name),wt()}),xn.onerror=cs(Pt),xn.onblocked=this._fireOnBlocked};if(he)throw new Y.InvalidArgument("Arguments not allowed in db.delete()");qe.isBeingOpened?qe.dbReadyPromise.then(cn):cn()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const he=this._state.dbOpenError;return he&&"DatabaseClosed"===he.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return x(this._allTables).map(he=>this._allTables[he])}transaction(){const he=yo.apply(this,arguments);return this._transaction.apply(this,he)}_transaction(he,qe,wt){let Pt=Ue.trans;Pt&&Pt.db===this&&-1===he.indexOf("!")||(Pt=null);const cn=-1!==he.indexOf("?");let xn,nr;he=he.replace("!","").replace("?","");try{if(nr=qe.map(kr=>{var wr=kr instanceof this.Table?kr.name:kr;if("string"!=typeof wr)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return wr}),"r"==he||he===Xn)xn=Xn;else{if("rw"!=he&&he!=Rr)throw new Y.InvalidArgument("Invalid transaction mode: "+he);xn=Rr}if(Pt){if(Pt.mode===Xn&&xn===Rr){if(!cn)throw new Y.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Pt=null}Pt&&nr.forEach(kr=>{if(Pt&&-1===Pt.storeNames.indexOf(kr)){if(!cn)throw new Y.SubTransaction("Table "+kr+" not included in parent transaction.");Pt=null}}),cn&&Pt&&!Pt.active&&(Pt=null)}}catch(kr){return Pt?Pt._promise(null,(wr,Lr)=>{Lr(kr)}):Zt(kr)}const Yn=Mo.bind(null,this,xn,nr,Pt,wt);return Pt?Pt._promise(xn,Yn,"lock"):Ue.trans?qn(Ue.transless,()=>this._whenReady(Yn)):this._whenReady(Yn)}table(he){if(!u(this._allTables,he))throw new Y.InvalidTable(`Table ${he} does not exist`);return this._allTables[he]}}const ar=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zr{constructor(he){this._subscribe=he}subscribe(he,qe,wt){return this._subscribe(he&&"function"!=typeof he?he:{next:he,error:qe,complete:wt})}[ar](){return this}}function si(xe,he){return x(he).forEach(qe=>{rn(xe[qe]||(xe[qe]=new ti),he[qe])}),xe}let Pr;try{Pr={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{Pr={indexedDB:null,IDBKeyRange:null}}const mi=Kn;function Wi(xe){let he=Pi;try{Pi=!0,Go.storagemutated.fire(xe)}finally{Pi=he}}F(mi,{...M,delete:xe=>new mi(xe,{addons:[]}).delete(),exists:xe=>new mi(xe,{addons:[]}).open().then(he=>(he.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(xe){try{return function({indexedDB:he,IDBKeyRange:qe}){return $r(he)?Promise.resolve(he.databases()).then(wt=>wt.map(Pt=>Pt.name).filter(Pt=>Pt!==un)):mr(he,qe).toCollection().primaryKeys()}(mi.dependencies).then(xe)}catch{return Zt(new Y.MissingAPI)}},defineClass:()=>function(xe){b(this,xe)},ignoreTransaction:xe=>Ue.trans?qn(Ue.transless,xe):xe(),vip:jr,async:function(xe){return function(){try{var he=eo(xe.apply(this,arguments));return he&&"function"==typeof he.then?he:Me.resolve(he)}catch(qe){return Zt(qe)}}},spawn:function(xe,he,qe){try{var wt=eo(xe.apply(qe,he||[]));return wt&&"function"==typeof wt.then?wt:Me.resolve(wt)}catch(Pt){return Zt(Pt)}},currentTransaction:{get:()=>Ue.trans||null},waitFor:function(xe,he){const qe=Me.resolve("function"==typeof xe?mi.ignoreTransaction(xe):xe).timeout(he||6e4);return Ue.trans?Ue.trans.waitFor(qe):qe},Promise:Me,debug:{get:()=>ge,set:xe=>{Pe(xe,"dexie"===xe?()=>!0:Yt)}},derive:O,extend:b,props:F,override:K,Events:ko,on:Go,liveQuery:function ni(xe){let he,qe=!1;const wt=new Zr(Pt=>{const cn=V(xe);let xn=!1,nr={},Yn={};const kr={get closed(){return xn},unsubscribe:()=>{xn=!0,Go.storagemutated.unsubscribe(vi)}};Pt.start&&Pt.start(kr);let wr=!1,Lr=!1;function Fr(){return x(Yn).some(Fn=>nr[Fn]&&function pe(xe,he){const qe=Re(he);let wt=qe.next();if(wt.done)return!1;let Pt=wt.value;const cn=Re(xe);let xn=cn.next(Pt.from),nr=xn.value;for(;!wt.done&&!xn.done;){if(jn(nr.from,Pt.to)<=0&&jn(nr.to,Pt.from)>=0)return!0;jn(Pt.from,nr.from)<0?Pt=(wt=qe.next(nr.from)).value:nr=(xn=cn.next(Pt.from)).value}return!1}(nr[Fn],Yn[Fn]))}const vi=Fn=>{si(nr,Fn),Fr()&&Hi()},Hi=()=>{if(wr||xn)return;nr={};const Fn={},lr=function(wn){cn&&Ve();const er=()=>Qi(xe,{subscr:wn,trans:null}),Ur=Ue.trans?qn(Ue.transless,er):er();return cn&&Ur.then(_t,_t),Ur}(Fn);Lr||(Go(ns,vi),Lr=!0),wr=!0,Promise.resolve(lr).then(wn=>{qe=!0,he=wn,wr=!1,xn||(Fr()?Hi():(nr={},Yn=Fn,Pt.next&&Pt.next(wn)))},wn=>{wr=!1,qe=!1,Pt.error&&Pt.error(wn),kr.unsubscribe()})};return Hi(),kr});return wt.hasValue=()=>qe,wt.getValue=()=>he,wt},extendObservabilitySet:si,getByKeyPath:le,setByKeyPath:fe,delByKeyPath:function(xe,he){"string"==typeof he?fe(xe,he,void 0):"length"in he&&[].map.call(he,function(qe){fe(xe,qe,void 0)})},shallowClone:q,deepClone:Se,getObjectDiff:ce,cmp:jn,asap:ie,minKey:Dr,addons:[],connections:hi,errnames:R,dependencies:Pr,semVer:"3.2.7",version:"3.2.7".split(".").map(xe=>parseInt(xe)).reduce((xe,he,qe)=>xe+he/Math.pow(10,2*qe))}),mi.maxKey=Vs(mi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Go(ns,xe=>{if(!Pi){let he;po?(he=document.createEvent("CustomEvent"),he.initCustomEvent(Ks,!0,!0,xe)):he=new CustomEvent(Ks,{detail:xe}),Pi=!0,dispatchEvent(he),Pi=!1}}),addEventListener(Ks,({detail:xe})=>{Pi||Wi(xe)}));let Pi=!1;if(typeof BroadcastChannel<"u"){const xe=new BroadcastChannel(Ks);"function"==typeof xe.unref&&xe.unref(),Go(ns,he=>{Pi||xe.postMessage(he)}),xe.onmessage=he=>{he.data&&Wi(he.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Go(ns,he=>{try{Pi||(typeof localStorage<"u"&&localStorage.setItem(Ks,JSON.stringify({trig:Math.random(),changedParts:he})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(qe=>qe.postMessage({type:Ks,changedParts:he})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",he=>{if(he.key===Ks){const qe=JSON.parse(he.newValue);qe&&Wi(qe.changedParts)}});const xe=self.document&&navigator.serviceWorker;xe&&xe.addEventListener("message",function({data:he}){he&&he.type===Ks&&Wi(he.changedParts)})}Me.rejectionMapper=function(xe,he){if(!xe||xe instanceof Ot||xe instanceof TypeError||xe instanceof SyntaxError||!xe.name||!h[xe.name])return xe;var qe=new h[xe.name](he||xe.message,xe);return"stack"in xe&&U(qe,"stack",{get:function(){return this.inner.stack}}),qe},Pe(ge,Yt)},1025:(en,ot,w)=>{"use strict";w.d(ot,{$i:()=>oe,IP:()=>h,YT:()=>Y,ht:()=>H,jM:()=>Z,lE:()=>x,vI:()=>z});var r=Symbol.for("immer-nothing"),x=Symbol.for("immer-draftable"),f=Symbol.for("immer-state");function E(Ge,...Ct){throw new Error(`[Immer] minified error nr: ${Ge}. Full error at: https://bit.ly/3cXEKWf`)}var C=Object.getPrototypeOf;function u(Ge){return!!Ge&&!!Ge[f]}function F(Ge){return!!Ge&&(U(Ge)||Array.isArray(Ge)||!!Ge[x]||!!Ge.constructor?.[x]||ie(Ge)||ae(Ge))}var S=Object.prototype.constructor.toString();function U(Ge){if(!Ge||"object"!=typeof Ge)return!1;const Ct=C(Ge);if(null===Ct)return!0;const dt=Object.hasOwnProperty.call(Ct,"constructor")&&Ct.constructor;return dt===Object||"function"==typeof dt&&Function.toString.call(dt)===S}function y(Ge,Ct){0===_(Ge)?Reflect.ownKeys(Ge).forEach(dt=>{Ct(dt,Ge[dt],Ge)}):Ge.forEach((dt,At)=>Ct(At,dt,Ge))}function _(Ge){const Ct=Ge[f];return Ct?Ct.type_:Array.isArray(Ge)?1:ie(Ge)?2:ae(Ge)?3:0}function D(Ge,Ct){return 2===_(Ge)?Ge.has(Ct):Object.prototype.hasOwnProperty.call(Ge,Ct)}function W(Ge,Ct){return 2===_(Ge)?Ge.get(Ct):Ge[Ct]}function K(Ge,Ct,dt){const At=_(Ge);2===At?Ge.set(Ct,dt):3===At?Ge.add(dt):Ge[Ct]=dt}function ie(Ge){return Ge instanceof Map}function ae(Ge){return Ge instanceof Set}function le(Ge){return Ge.copy_||Ge.base_}function fe(Ge,Ct){if(ie(Ge))return new Map(Ge);if(ae(Ge))return new Set(Ge);if(Array.isArray(Ge))return Array.prototype.slice.call(Ge);const dt=U(Ge);if(!0===Ct||"class_only"===Ct&&!dt){const At=Object.getOwnPropertyDescriptors(Ge);delete At[f];let Qt=Reflect.ownKeys(At);for(let Ke=0;Ke<Qt.length;Ke++){const pt=Qt[Ke],Tt=At[pt];!1===Tt.writable&&(Tt.writable=!0,Tt.configurable=!0),(Tt.get||Tt.set)&&(At[pt]={configurable:!0,writable:!0,enumerable:Tt.enumerable,value:Ge[pt]})}return Object.create(C(Ge),At)}{const At=C(Ge);if(null!==At&&dt)return{...Ge};const Qt=Object.create(At);return Object.assign(Qt,Ge)}}function q(Ge,Ct=!1){return j(Ge)||u(Ge)||!F(Ge)||(_(Ge)>1&&(Ge.set=Ge.add=Ge.clear=Ge.delete=$),Object.freeze(Ge),Ct&&Object.entries(Ge).forEach(([dt,At])=>q(At,!0))),Ge}function $(){E(2)}function j(Ge){return Object.isFrozen(Ge)}var Se,Q={};function ee(Ge){const Ct=Q[Ge];return Ct||E(0),Ct}function be(Ge,Ct){Q[Ge]||(Q[Ge]=Ct)}function Qe(){return Se}function De(Ge,Ct){Ct&&(ee("Patches"),Ge.patches_=[],Ge.inversePatches_=[],Ge.patchListener_=Ct)}function ut(Ge){Ft(Ge),Ge.drafts_.forEach(I),Ge.drafts_=null}function Ft(Ge){Ge===Se&&(Se=Ge.parent_)}function ve(Ge){return Se=function nt(Ge,Ct){return{drafts_:[],parent_:Ge,immer_:Ct,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(Se,Ge)}function I(Ge){const Ct=Ge[f];0===Ct.type_||1===Ct.type_?Ct.revoke_():Ct.revoked_=!0}function V(Ge,Ct){Ct.unfinalizedDrafts_=Ct.drafts_.length;const dt=Ct.drafts_[0];return void 0!==Ge&&Ge!==dt?(dt[f].modified_&&(ut(Ct),E(4)),F(Ge)&&(Ge=ge(Ct,Ge),Ct.parent_||ke(Ct,Ge)),Ct.patches_&&ee("Patches").generateReplacementPatches_(dt[f].base_,Ge,Ct.patches_,Ct.inversePatches_)):Ge=ge(Ct,dt,[]),ut(Ct),Ct.patches_&&Ct.patchListener_(Ct.patches_,Ct.inversePatches_),Ge!==r?Ge:void 0}function ge(Ge,Ct,dt){if(j(Ct))return Ct;const At=Ct[f];if(!At)return y(Ct,(Qt,Ke)=>Pe(Ge,At,Ct,Qt,Ke,dt)),Ct;if(At.scope_!==Ge)return Ct;if(!At.modified_)return ke(Ge,At.base_,!0),At.base_;if(!At.finalized_){At.finalized_=!0,At.scope_.unfinalizedDrafts_--;const Qt=At.copy_;let Ke=Qt,pt=!1;3===At.type_&&(Ke=new Set(Qt),Qt.clear(),pt=!0),y(Ke,(Tt,$e)=>Pe(Ge,At,Qt,Tt,$e,dt,pt)),ke(Ge,Qt,!1),dt&&Ge.patches_&&ee("Patches").generatePatches_(At,dt,Ge.patches_,Ge.inversePatches_)}return At.copy_}function Pe(Ge,Ct,dt,At,Qt,Ke,pt){if(u(Qt)){const $e=ge(Ge,Qt,Ke&&Ct&&3!==Ct.type_&&!D(Ct.assigned_,At)?Ke.concat(At):void 0);if(K(dt,At,$e),!u($e))return;Ge.canAutoFreeze_=!1}else pt&&dt.add(Qt);if(F(Qt)&&!j(Qt)){if(!Ge.immer_.autoFreeze_&&Ge.unfinalizedDrafts_<1)return;ge(Ge,Qt),(!Ct||!Ct.scope_.parent_)&&"symbol"!=typeof At&&Object.prototype.propertyIsEnumerable.call(dt,At)&&ke(Ge,Qt)}}function ke(Ge,Ct,dt=!1){!Ge.parent_&&Ge.immer_.autoFreeze_&&Ge.canAutoFreeze_&&q(Ct,dt)}var Ht={get(Ge,Ct){if(Ct===f)return Ge;const dt=le(Ge);if(!D(dt,Ct))return function Ye(Ge,Ct,dt){const At=Ze(Ct,dt);return At?"value"in At?At.value:At.get?.call(Ge.draft_):void 0}(Ge,dt,Ct);const At=dt[Ct];return Ge.finalized_||!F(At)?At:At===Bt(Ge.base_,Ct)?(ye(Ge),Ge.copy_[Ct]=B(At,Ge)):At},has:(Ge,Ct)=>Ct in le(Ge),ownKeys:Ge=>Reflect.ownKeys(le(Ge)),set(Ge,Ct,dt){const At=Ze(le(Ge),Ct);if(At?.set)return At.set.call(Ge.draft_,dt),!0;if(!Ge.modified_){const Qt=Bt(le(Ge),Ct),Ke=Qt?.[f];if(Ke&&Ke.base_===dt)return Ge.copy_[Ct]=dt,Ge.assigned_[Ct]=!1,!0;if(function L(Ge,Ct){return Ge===Ct?0!==Ge||1/Ge==1/Ct:Ge!=Ge&&Ct!=Ct}(dt,Qt)&&(void 0!==dt||D(Ge.base_,Ct)))return!0;ye(Ge),Ot(Ge)}return Ge.copy_[Ct]===dt&&(void 0!==dt||Ct in Ge.copy_)||Number.isNaN(dt)&&Number.isNaN(Ge.copy_[Ct])||(Ge.copy_[Ct]=dt,Ge.assigned_[Ct]=!0),!0},deleteProperty:(Ge,Ct)=>(void 0!==Bt(Ge.base_,Ct)||Ct in Ge.base_?(Ge.assigned_[Ct]=!1,ye(Ge),Ot(Ge)):delete Ge.assigned_[Ct],Ge.copy_&&delete Ge.copy_[Ct],!0),getOwnPropertyDescriptor(Ge,Ct){const dt=le(Ge),At=Reflect.getOwnPropertyDescriptor(dt,Ct);return At&&{writable:!0,configurable:1!==Ge.type_||"length"!==Ct,enumerable:At.enumerable,value:dt[Ct]}},defineProperty(){E(11)},getPrototypeOf:Ge=>C(Ge.base_),setPrototypeOf(){E(12)}},ln={};function Bt(Ge,Ct){const dt=Ge[f];return(dt?le(dt):Ge)[Ct]}function Ze(Ge,Ct){if(!(Ct in Ge))return;let dt=C(Ge);for(;dt;){const At=Object.getOwnPropertyDescriptor(dt,Ct);if(At)return At;dt=C(dt)}}function Ot(Ge){Ge.modified_||(Ge.modified_=!0,Ge.parent_&&Ot(Ge.parent_))}function ye(Ge){Ge.copy_||(Ge.copy_=fe(Ge.base_,Ge.scope_.immer_.useStrictShallowCopy_))}function B(Ge,Ct){const dt=ie(Ge)?ee("MapSet").proxyMap_(Ge,Ct):ae(Ge)?ee("MapSet").proxySet_(Ge,Ct):function xt(Ge,Ct){const dt=Array.isArray(Ge),At={type_:dt?1:0,scope_:Ct?Ct.scope_:Qe(),modified_:!1,finalized_:!1,assigned_:{},parent_:Ct,base_:Ge,draft_:null,copy_:null,revoke_:null,isManual_:!1};let Qt=At,Ke=Ht;dt&&(Qt=[At],Ke=ln);const{revoke:pt,proxy:Tt}=Proxy.revocable(Qt,Ke);return At.draft_=Tt,At.revoke_=pt,Tt}(Ge,Ct);return(Ct?Ct.scope_:Qe()).drafts_.push(dt),dt}function N(Ge){if(!F(Ge)||j(Ge))return Ge;const Ct=Ge[f];let dt;if(Ct){if(!Ct.modified_)return Ct.base_;Ct.finalized_=!0,dt=fe(Ge,Ct.scope_.immer_.useStrictShallowCopy_)}else dt=fe(Ge,!0);return y(dt,(At,Qt)=>{K(dt,At,N(Qt))}),Ct&&(Ct.finalized_=!1),dt}function Y(){const Ct="replace",dt="add",At="remove";function Xt(Ln){if(!F(Ln))return Ln;if(Array.isArray(Ln))return Ln.map(Xt);if(ie(Ln))return new Map(Array.from(Ln.entries()).map(([gr,sn])=>[gr,Xt(sn)]));if(ae(Ln))return new Set(Array.from(Ln).map(Xt));const $n=Object.create(C(Ln));for(const gr in Ln)$n[gr]=Xt(Ln[gr]);return D(Ln,x)&&($n[x]=Ln[x]),$n}function gn(Ln){return u(Ln)?Xt(Ln):Ln}be("Patches",{applyPatches_:function Lt(Ln,$n){return $n.forEach(gr=>{const{path:sn,op:St}=gr;let Fe=Ln;for(let it=0;it<sn.length-1;it++){const Me=_(Fe);let We=sn[it];"string"!=typeof We&&"number"!=typeof We&&(We=""+We),(0===Me||1===Me)&&("__proto__"===We||"constructor"===We)&&E(19),"function"==typeof Fe&&"prototype"===We&&E(19),Fe=W(Fe,We),"object"!=typeof Fe&&E(18,sn.join("/"))}const Ue=_(Fe),Ce=Xt(gr.value),me=sn[sn.length-1];switch(St){case Ct:switch(Ue){case 2:return Fe.set(me,Ce);case 3:E(16);default:return Fe[me]=Ce}case dt:switch(Ue){case 1:return"-"===me?Fe.push(Ce):Fe.splice(me,0,Ce);case 2:return Fe.set(me,Ce);case 3:return Fe.add(Ce);default:return Fe[me]=Ce}case At:switch(Ue){case 1:return Fe.splice(me,1);case 2:return Fe.delete(me);case 3:return Fe.delete(gr.value);default:return delete Fe[me]}default:E(17)}}),Ln},generatePatches_:function Qt(Ln,$n,gr,sn){switch(Ln.type_){case 0:case 2:return function pt(Ln,$n,gr,sn){const{base_:St,copy_:Fe}=Ln;y(Ln.assigned_,(Ue,Ce)=>{const me=W(St,Ue),it=W(Fe,Ue),Me=Ce?D(St,Ue)?Ct:dt:At;if(me===it&&Me===Ct)return;const We=$n.concat(Ue);gr.push(Me===At?{op:Me,path:We}:{op:Me,path:We,value:it}),sn.push(Me===dt?{op:At,path:We}:Me===At?{op:dt,path:We,value:gn(me)}:{op:Ct,path:We,value:gn(me)})})}(Ln,$n,gr,sn);case 1:return function Ke(Ln,$n,gr,sn){let{base_:St,assigned_:Fe}=Ln,Ue=Ln.copy_;Ue.length<St.length&&([St,Ue]=[Ue,St],[gr,sn]=[sn,gr]);for(let Ce=0;Ce<St.length;Ce++)if(Fe[Ce]&&Ue[Ce]!==St[Ce]){const me=$n.concat([Ce]);gr.push({op:Ct,path:me,value:gn(Ue[Ce])}),sn.push({op:Ct,path:me,value:gn(St[Ce])})}for(let Ce=St.length;Ce<Ue.length;Ce++){const me=$n.concat([Ce]);gr.push({op:dt,path:me,value:gn(Ue[Ce])})}for(let Ce=Ue.length-1;St.length<=Ce;--Ce){const me=$n.concat([Ce]);sn.push({op:At,path:me})}}(Ln,$n,gr,sn);case 3:return function Tt(Ln,$n,gr,sn){let{base_:St,copy_:Fe}=Ln,Ue=0;St.forEach(Ce=>{if(!Fe.has(Ce)){const me=$n.concat([Ue]);gr.push({op:At,path:me,value:Ce}),sn.unshift({op:dt,path:me,value:Ce})}Ue++}),Ue=0,Fe.forEach(Ce=>{if(!St.has(Ce)){const me=$n.concat([Ue]);gr.push({op:dt,path:me,value:Ce}),sn.unshift({op:At,path:me,value:Ce})}Ue++})}(Ln,$n,gr,sn)}},generateReplacementPatches_:function $e(Ln,$n,gr,sn){gr.push({op:Ct,path:[],value:$n===r?void 0:$n}),sn.push({op:Ct,path:[],value:Ln})}})}function h(){class Ge extends Map{constructor($e,Lt){super(),this[f]={type_:2,parent_:Lt,scope_:Lt?Lt.scope_:Qe(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:$e,draft_:this,isManual_:!1,revoked_:!1}}get size(){return le(this[f]).size}has($e){return le(this[f]).has($e)}set($e,Lt){const Xt=this[f];return pt(Xt),(!le(Xt).has($e)||le(Xt).get($e)!==Lt)&&(dt(Xt),Ot(Xt),Xt.assigned_.set($e,!0),Xt.copy_.set($e,Lt),Xt.assigned_.set($e,!0)),this}delete($e){if(!this.has($e))return!1;const Lt=this[f];return pt(Lt),dt(Lt),Ot(Lt),Lt.base_.has($e)?Lt.assigned_.set($e,!1):Lt.assigned_.delete($e),Lt.copy_.delete($e),!0}clear(){const $e=this[f];pt($e),le($e).size&&(dt($e),Ot($e),$e.assigned_=new Map,y($e.base_,Lt=>{$e.assigned_.set(Lt,!1)}),$e.copy_.clear())}forEach($e,Lt){le(this[f]).forEach((gn,Ln,$n)=>{$e.call(Lt,this.get(Ln),Ln,this)})}get($e){const Lt=this[f];pt(Lt);const Xt=le(Lt).get($e);if(Lt.finalized_||!F(Xt)||Xt!==Lt.base_.get($e))return Xt;const gn=B(Xt,Lt);return dt(Lt),Lt.copy_.set($e,gn),gn}keys(){return le(this[f]).keys()}values(){const $e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const Lt=$e.next();return Lt.done?Lt:{done:!1,value:this.get(Lt.value)}}}}entries(){const $e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const Lt=$e.next();if(Lt.done)return Lt;const Xt=this.get(Lt.value);return{done:!1,value:[Lt.value,Xt]}}}}[Symbol.iterator](){return this.entries()}}function dt(Tt){Tt.copy_||(Tt.assigned_=new Map,Tt.copy_=new Map(Tt.base_))}class At extends Set{constructor($e,Lt){super(),this[f]={type_:3,parent_:Lt,scope_:Lt?Lt.scope_:Qe(),modified_:!1,finalized_:!1,copy_:void 0,base_:$e,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return le(this[f]).size}has($e){const Lt=this[f];return pt(Lt),Lt.copy_?!!(Lt.copy_.has($e)||Lt.drafts_.has($e)&&Lt.copy_.has(Lt.drafts_.get($e))):Lt.base_.has($e)}add($e){const Lt=this[f];return pt(Lt),this.has($e)||(Ke(Lt),Ot(Lt),Lt.copy_.add($e)),this}delete($e){if(!this.has($e))return!1;const Lt=this[f];return pt(Lt),Ke(Lt),Ot(Lt),Lt.copy_.delete($e)||!!Lt.drafts_.has($e)&&Lt.copy_.delete(Lt.drafts_.get($e))}clear(){const $e=this[f];pt($e),le($e).size&&(Ke($e),Ot($e),$e.copy_.clear())}values(){const $e=this[f];return pt($e),Ke($e),$e.copy_.values()}entries(){const $e=this[f];return pt($e),Ke($e),$e.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach($e,Lt){const Xt=this.values();let gn=Xt.next();for(;!gn.done;)$e.call(Lt,gn.value,gn.value,this),gn=Xt.next()}}function Ke(Tt){Tt.copy_||(Tt.copy_=new Set,Tt.base_.forEach($e=>{if(F($e)){const Lt=B($e,Tt);Tt.drafts_.set($e,Lt),Tt.copy_.add(Lt)}else Tt.copy_.add($e)}))}function pt(Tt){Tt.revoked_&&E(3,JSON.stringify(le(Tt)))}be("MapSet",{proxyMap_:function Ct(Tt,$e){return new Ge(Tt,$e)},proxySet_:function Qt(Tt,$e){return new At(Tt,$e)}})}y(Ht,(Ge,Ct)=>{ln[Ge]=function(){return arguments[0]=arguments[0][0],Ct.apply(this,arguments)}}),ln.deleteProperty=function(Ge,Ct){return ln.set.call(this,Ge,Ct,void 0)},ln.set=function(Ge,Ct,dt){return Ht.set.call(this,Ge[0],Ct,dt,Ge[0])};var M=new class{constructor(Ge){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(Ct,dt,At)=>{if("function"==typeof Ct&&"function"!=typeof dt){const Ke=dt;dt=Ct;const pt=this;return function($e=Ke,...Lt){return pt.produce($e,Xt=>dt.call(this,Xt,...Lt))}}let Qt;if("function"!=typeof dt&&E(6),void 0!==At&&"function"!=typeof At&&E(7),F(Ct)){const Ke=ve(this),pt=B(Ct,void 0);let Tt=!0;try{Qt=dt(pt),Tt=!1}finally{Tt?ut(Ke):Ft(Ke)}return De(Ke,At),V(Qt,Ke)}if(!Ct||"object"!=typeof Ct){if(Qt=dt(Ct),void 0===Qt&&(Qt=Ct),Qt===r&&(Qt=void 0),this.autoFreeze_&&q(Qt,!0),At){const Ke=[],pt=[];ee("Patches").generateReplacementPatches_(Ct,Qt,Ke,pt),At(Ke,pt)}return Qt}E(1)},this.produceWithPatches=(Ct,dt)=>{if("function"==typeof Ct)return(pt,...Tt)=>this.produceWithPatches(pt,$e=>Ct($e,...Tt));let At,Qt;return[this.produce(Ct,dt,(pt,Tt)=>{At=pt,Qt=Tt}),At,Qt]},"boolean"==typeof Ge?.autoFreeze&&this.setAutoFreeze(Ge.autoFreeze),"boolean"==typeof Ge?.useStrictShallowCopy&&this.setUseStrictShallowCopy(Ge.useStrictShallowCopy)}createDraft(Ge){F(Ge)||E(8),u(Ge)&&(Ge=function R(Ge){return u(Ge)||E(10),N(Ge)}(Ge));const Ct=ve(this),dt=B(Ge,void 0);return dt[f].isManual_=!0,Ft(Ct),dt}finishDraft(Ge,Ct){const dt=Ge&&Ge[f];(!dt||!dt.isManual_)&&E(9);const{scope_:At}=dt;return De(At,Ct),V(void 0,At)}setAutoFreeze(Ge){this.autoFreeze_=Ge}setUseStrictShallowCopy(Ge){this.useStrictShallowCopy_=Ge}applyPatches(Ge,Ct){let dt;for(dt=Ct.length-1;dt>=0;dt--){const Qt=Ct[dt];if(0===Qt.path.length&&"replace"===Qt.op){Ge=Qt.value;break}}dt>-1&&(Ct=Ct.slice(dt+1));const At=ee("Patches").applyPatches_;return u(Ge)?At(Ge,Ct):this.produce(Ge,Qt=>At(Qt,Ct))}},Z=M.produce,z=M.produceWithPatches.bind(M),H=M.setAutoFreeze.bind(M),oe=(M.setUseStrictShallowCopy.bind(M),M.applyPatches.bind(M));M.createDraft.bind(M),M.finishDraft.bind(M)},7225:(en,ot,w)=>{"use strict";function r(x){return{all:x=x||new Map,on:function(f,b){var E=x.get(f);E?E.push(b):x.set(f,[b])},off:function(f,b){var E=x.get(f);E&&(b?E.splice(E.indexOf(b)>>>0,1):x.set(f,[]))},emit:function(f,b){var E=x.get(f);E&&E.slice().map(function(C){C(b)}),(E=x.get("*"))&&E.slice().map(function(C){C(f,b)})}}}w.r(ot),w.d(ot,{default:()=>r})},3845:(en,ot,w)=>{"use strict";w.d(ot,{Je:()=>ye,Un:()=>P});var r=w(5052),x=w(5877),f=w(2573),b=w(391),E=w(9827);const C=new f.c(E.l);w(2515);var S=w(4264),U=w(9705),O=w(7365),y=w(1756),_=w(6110),D=w(8577),W=w(2914);w(5160),w(8360),w(5210),w(6196),w(6513),w(75);var j=w(177),Q=w(4438);function be(N){return!(!N.parentElement||"picture"!==N.parentElement.nodeName.toLowerCase())}function Se(N){return"img"===N.nodeName.toLowerCase()}function Qe(N,Y,h){return Se(N)?h&&"srcset"in N?N.srcset=Y:N.src=Y:N.style.backgroundImage=`url('${Y}')`,N}function nt(N){return Y=>{const h=Y.parentElement.getElementsByTagName("source");for(let M=0;M<h.length;M++){const Z=h[M].getAttribute(N);Z&&("srcset"in h[M]?h[M].srcset=Z:h[M].src=Z)}}}const De=nt("defaultImage"),ut=nt("lazyLoad"),Ft=nt("errorImage");function ve(N){return(Y,h,M)=>{Se(Y)&&be(Y)&&N(Y),h&&Qe(Y,h,M)}}const I=ve(De),V=ve(ut),ge=ve(Ft);class Pe{constructor(){this.navigator=function ee(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(Y){this.platformId=Y}onDestroy(Y){}onAttributeChange(Y){}}function xt(N,Y){N.className=N.className.replace(Y,"")}function Ht(N,Y){N.className.includes(Y)||(N.className+=` ${Y}`)}class Bt extends Pe{setup(Y){I(Y.element,Y.defaultImagePath,Y.useSrcset),Y.imagePath&&Ht(Y.element,"ng-lazyloading"),function ln(N,Y){return N.className&&N.className.includes(Y)}(Y.element,"ng-lazyloaded")&&xt(Y.element,"ng-lazyloaded")}finally(Y){Ht(Y.element,"ng-lazyloaded"),xt(Y.element,"ng-lazyloading")}loadImage(Y){if(this.skipLazyLoading(Y))return[Y.imagePath];const{element:h,useSrcset:M,imagePath:Z,decode:z}=Y;let H;return Se(h)&&be(h)?(H=h.parentNode.cloneNode(!0).getElementsByTagName("img")[0],ut(H),Qe(H,Z,M)):(H=new Image,Se(h)&&h.referrerPolicy&&(H.referrerPolicy=h.referrerPolicy),Se(h)&&h.sizes&&(H.sizes=h.sizes),M&&"srcset"in H?H.srcset=Z:H.src=Z),z&&H.decode?H.decode().then(()=>Z):new Promise((X,oe)=>{H.onload=()=>X(Z),H.onerror=()=>oe(null)})}setErrorImage(Y,h){const{element:M,useSrcset:Z,errorImagePath:z}=h;ge(M,z,Z),Ht(M,"ng-failed-lazyloaded")}setLoadedImage(Y,h){const{element:M,useSrcset:Z}=h;V(M,Y,Z)}isDisabled(){return(0,j.Vy)(this.platformId)&&!this.isBot()}skipLazyLoading(Y){return this.isBot(Y)}isBot(Y){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class Ye extends Bt{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new r.B,this.uniqKey={}}getObservable(Y){if(this.skipLazyLoading(Y))return(0,x.of)({isIntersecting:!0});if(Y.customObservable)return Y.customObservable;const h=Y.scrollContainer||this.uniqKey,M={root:Y.scrollContainer||null};Y.offset&&(M.rootMargin=`${Y.offset}px`);let Z=this.observers.get(h);return Z||(Z=new IntersectionObserver(z=>this.loadingCallback(z),M),this.observers.set(h,Z)),Z.observe(Y.element),f.c.create(z=>{const H=this.intersectionSubject.pipe((0,S.p)(X=>X.target===Y.element)).subscribe(z);return()=>{H.unsubscribe(),Z.unobserve(Y.element)}})}isVisible(Y){return Y.isIntersecting}loadingCallback(Y){Y.forEach(h=>this.intersectionSubject.next(h))}}const Ot=new Q.nKC("LazyLoadImageHooks");let ye=(()=>{class N{constructor(h,M,Z,z){this.onStateChange=new Q.bkB,this.elementRef=h,this.ngZone=M,this.propertyChanges$=new b.m,this.hooks=z,this.hooks.setPlatformId(Z),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(h=>console.log(h))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,U.M)(h=>this.hooks.onAttributeChange(h)),(0,U.M)(h=>h.onStateChange.emit({reason:"setup"})),(0,U.M)(h=>this.hooks.setup(h)),(0,W.n)(h=>h.imagePath?this.hooks.getObservable(h).pipe(function Ze(N,Y){return h=>h.pipe((0,U.M)(M=>Y.onStateChange.emit({reason:"observer-emit",data:M})),(0,S.p)(M=>N.isVisible(M,Y)),(0,O.s)(1),(0,U.M)(()=>Y.onStateChange.emit({reason:"start-loading"})),(0,y.Z)(()=>N.loadImage(Y)),(0,U.M)(()=>Y.onStateChange.emit({reason:"mount-image"})),(0,U.M)(M=>N.setLoadedImage(M,Y)),(0,U.M)(()=>Y.onStateChange.emit({reason:"loading-succeeded"})),(0,_.T)(()=>!0),(0,D.W)(M=>(Y.onStateChange.emit({reason:"loading-failed",data:M}),N.setErrorImage(M,Y),(0,x.of)(!1))),(0,U.M)(()=>{Y.onStateChange.emit({reason:"finally"}),N.finally(Y)}))}(this.hooks,h)):function u(){return C}())).subscribe({next:()=>null})})}ngOnDestroy(){this.propertyChanges$.pipe((0,O.s)(1)).subscribe({next:h=>this.hooks.onDestroy(h)}).unsubscribe(),this.loadSubscription?.unsubscribe(),this.debugSubscription?.unsubscribe()}}return N.\u0275fac=function(h){return new(h||N)(Q.rXU(Q.aKT),Q.rXU(Q.SKi),Q.rXU(Q.Agw),Q.rXU(Ot))},N.\u0275dir=Q.FsC({type:N,selectors:[["","lazyLoad",""]],inputs:{lazyImage:[Q.Mj6.None,"lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[Q.OA$]}),N})(),P=(()=>{class N{}return N.\u0275fac=function(h){return new(h||N)},N.\u0275mod=Q.$C({type:N}),N.\u0275inj=Q.G2t({providers:[{provide:Ot,useClass:Ye}]}),N})();class B{constructor(Y,h,M,Z){this.left=Y,this.top=h,this.right=M,this.bottom=Z}static fromElement(Y){const{left:h,top:M,right:Z,bottom:z}=Y.getBoundingClientRect();return 0===h&&0===M&&0===Z&&0===z?B.empty:new B(h,M,Z,z)}static fromWindow(Y){return new B(0,0,Y.innerWidth,Y.innerHeight)}inflate(Y){this.left-=Y,this.top-=Y,this.right+=Y,this.bottom+=Y}intersectsWith(Y){return Y.left<this.right&&this.left<Y.right&&Y.top<this.bottom&&this.top<Y.bottom}getIntersectionWith(Y){const h=Math.max(this.left,Y.left),M=Math.max(this.top,Y.top),Z=Math.min(this.right,Y.right),z=Math.min(this.bottom,Y.bottom);return Z>=h&&z>=M?new B(h,M,Z,z):B.empty}}B.empty=new B(0,0,0,0)},9242:(en,ot,w)=>{"use strict";w.d(ot,{gq:()=>O,ob:()=>q});var r=w(4438),x=w(177),f=w(5877),b=w(9160),E=w(5052),C=w(4264);const u=new r.nKC("recaptcha-language"),F=new r.nKC("recaptcha-base-url"),S=new r.nKC("recaptcha-nonce-tag"),O=(new r.nKC("recaptcha-settings"),new r.nKC("recaptcha-v3-site-key")),y=new r.nKC("recaptcha-loader-options"),W={loadScript:function _(ee,be,Se,{url:Qe,lang:nt,nonce:De}={}){window.ng2recaptchaloaded=()=>{Se(grecaptcha)};const ut=document.createElement("script");ut.innerHTML="";const{url:Ft,nonce:ve}=be(new URL(Qe||"https://www.google.com/recaptcha/api.js"));Ft.searchParams.set("render","explicit"===ee?ee:ee.key),Ft.searchParams.set("onload","ng2recaptchaloaded"),Ft.searchParams.set("trustedtypes","true"),nt&&Ft.searchParams.set("hl",nt),ut.src=Ft.href;const I=ve||De;I&&ut.setAttribute("nonce",I),ut.async=!0,ut.defer=!0,document.head.appendChild(ut)},newLoadScript:function D({v3SiteKey:ee,onBeforeLoad:be,onLoaded:Se}){W.loadScript(ee?{key:ee}:"explicit",be,Se)}};let L=(()=>{var ee;class be{constructor(Qe,nt,De,ut,Ft,ve){this.platformId=Qe,this.language=nt,this.baseUrl=De,this.nonce=ut,this.v3SiteKey=Ft,this.options=ve;const I=this.init();this.ready=I?function K(ee){return ee.asObservable().pipe((0,C.p)(be=>null!==be))}(I):(0,f.of)()}init(){if(be.ready)return be.ready;if(!(0,x.UE)(this.platformId))return;const Qe=new b.t(null);return be.ready=Qe,W.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:nt=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(nt);const De=new URL(this.baseUrl??nt);return this.language&&De.searchParams.set("hl",this.language),{url:De,nonce:this.nonce}},onLoaded:nt=>{let De=nt;this.options?.onLoaded&&(De=this.options.onLoaded(nt)),Qe.next(De)}}),Qe}}return(ee=be).ready=null,ee.\u0275fac=function(Qe){return new(Qe||ee)(r.KVO(r.Agw),r.KVO(u,8),r.KVO(F,8),r.KVO(S,8),r.KVO(O,8),r.KVO(y,8))},ee.\u0275prov=r.jDH({token:ee,factory:ee.\u0275fac}),be})(),q=(()=>{var ee;class be{constructor(Qe,nt,De){this.recaptchaLoader=nt,this.zone=Qe,this.siteKey=De,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new E.B,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new E.B,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(Qe){const nt=new E.B;return this.grecaptcha?this.executeActionWithSubject(Qe,nt):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([Qe,nt])),nt.asObservable()}executeActionWithSubject(Qe,nt){const De=ut=>{this.zone.run(()=>{nt.error(ut),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:Qe,error:ut})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:Qe}).then(ut=>{this.zone.run(()=>{nt.next(ut),nt.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:Qe,token:ut})})},De)}catch(ut){De(ut)}})}init(){this.recaptchaLoader.ready.subscribe(Qe=>{this.grecaptcha=Qe,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([nt,De])=>this.executeActionWithSubject(nt,De)),this.actionBacklog=void 0)})}}return(ee=be).\u0275fac=function(Qe){return new(Qe||ee)(r.KVO(r.SKi),r.KVO(L),r.KVO(O))},ee.\u0275prov=r.jDH({token:ee,factory:ee.\u0275fac}),be})()},1562:(en,ot,w)=>{"use strict";w.d(ot,{YG:()=>h});var r=w(9158),x=w(4438),f=w(177);typeof window<"u"&&window;let h=(()=>{var M;class Z{}return M=Z,(0,r.A)(Z,"\u0275fac",function(H){return new(H||M)}),(0,r.A)(Z,"\u0275mod",x.$C({type:M})),(0,r.A)(Z,"\u0275inj",x.G2t({imports:[f.MD]})),Z})()},5286:(en,ot,w)=>{"use strict";w.d(ot,{GY:()=>Se,Rl:()=>ge,i0:()=>ke,y2:()=>ln});var r=w(8407),x=w(177),f=w(4438),b=w(5052),E=w(6718),C=w(5877),u=w(3654),F=w(2914),S=w(9539),U=w(1082),O=w(9784),y=w(5160),_=w(6110),W=(w(7925),w(830)),K=w(7051),L=w(1626),ie=w(345);let q=(()=>{var Ye;class Ze{constructor(){this._buttonClick$=new b.B,this.copied$=this._buttonClick$.pipe((0,F.n)(()=>(0,E.h)((0,C.of)(!0),(0,u.O)(3e3).pipe((0,S.u)(!1)))),(0,U.F)(),(0,O.t)(1)),this.copiedText$=this.copied$.pipe((0,y.Z)(!1),(0,_.T)(ye=>ye?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(Ye=Ze).\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275cmp=f.VBU({type:Ye,selectors:[["markdown-clipboard"]],standalone:!0,features:[f.aNF],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(ye,P){1&ye&&(f.j41(0,"button",0),f.nI1(1,"async"),f.bIt("click",function(){return P.onCopyToClipboardClick()}),f.EFF(2),f.nI1(3,"async"),f.k0s()),2&ye&&(f.AVh("copied",f.bMT(1,3,P.copied$)),f.R7$(2),f.JRh(f.bMT(3,5,P.copiedText$)))},dependencies:[x.Jj],encapsulation:2,changeDetection:0}),Ze})();const $=new f.nKC("CLIPBOARD_OPTIONS"),be=new f.nKC("MARKED_EXTENSIONS"),Se=new f.nKC("MARKED_OPTIONS"),I=new f.nKC("SECURITY_CONTEXT");let ge=(()=>{var Ye;class Ze{get options(){return this._options}set options(ye){this._options={...this.DEFAULT_MARKED_OPTIONS,...ye}}get renderer(){return this.options.renderer}set renderer(ye){this.options.renderer=ye}constructor(ye,P,B,R,N,Y,h){this.clipboardOptions=ye,this.extensions=P,this.platform=R,this.securityContext=N,this.http=Y,this.sanitizer=h,this.DEFAULT_MARKED_OPTIONS={renderer:new K.A4},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new b.B,this.reload$=this._reload$.asObservable(),this.options=B}parse(ye,P=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:B,inline:R,emoji:N,mermaid:Y,disableSanitizer:h}=P,M={...this.options,...P.markedOptions},Z=M.renderer||this.renderer||new K.A4;this.extensions&&(this.renderer=this.extendsRendererForExtensions(Z)),Y&&(this.renderer=this.extendsRendererForMermaid(Z));const z=this.trimIndentation(ye),H=B?this.decodeHtml(z):z,X=N?this.parseEmoji(H):H,oe=this.parseMarked(X,M,R);return(h?oe:this.sanitizer.sanitize(this.securityContext,oe))||""}render(ye,P=this.DEFAULT_RENDER_OPTIONS,B){const{clipboard:R,clipboardOptions:N,katex:Y,katexOptions:h,mermaid:M,mermaidOptions:Z}=P;R&&this.renderClipboard(ye,B,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...N}),Y&&this.renderKatex(ye,{...this.DEFAULT_KATEX_OPTIONS,...h}),M&&this.renderMermaid(ye,{...this.DEFAULT_MERMAID_OPTIONS,...Z}),this.highlight(ye)}reload(){this._reload$.next()}getSource(ye){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(ye,{responseType:"text"}).pipe((0,_.T)(P=>this.handleExtension(ye,P)))}highlight(ye){if(!(0,x.UE)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;ye||(ye=document);const P=ye.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(P,B=>B.classList.add("language-none")),Prism.highlightAllUnder(ye)}decodeHtml(ye){if(!(0,x.UE)(this.platform))return ye;const P=document.createElement("textarea");return P.innerHTML=ye,P.value}extendsRendererForExtensions(ye){const P=ye;return!0===P.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&K.xI.use(...this.extensions),P.\u0275NgxMarkdownRendererExtendedForExtensions=!0),ye}extendsRendererForMermaid(ye){const P=ye;if(!0===P.\u0275NgxMarkdownRendererExtendedForMermaid)return ye;const B=ye.code;return ye.code=function(R,N,Y){return"mermaid"===N?`<div class="mermaid">${R}</div>`:B.call(this,R,N,Y)},P.\u0275NgxMarkdownRendererExtendedForMermaid=!0,ye}handleExtension(ye,P){const B=ye.lastIndexOf("://"),R=B>-1?ye.substring(B+4):ye,N=R.lastIndexOf("/"),Y=N>-1?R.substring(N+1).split("?")[0]:"",h=Y.lastIndexOf("."),M=h>-1?Y.substring(h+1):"";return M&&"md"!==M?"```"+M+"\n"+P+"\n```":P}parseMarked(ye,P,B=!1){if(P.renderer){const R={...P.renderer};delete R.\u0275NgxMarkdownRendererExtendedForExtensions,delete R.\u0275NgxMarkdownRendererExtendedForMermaid,delete P.renderer,K.xI.use({renderer:R})}return B?K.xI.parseInline(ye,P):K.xI.parse(ye,P)}parseEmoji(ye){if(!(0,x.UE)(this.platform))return ye;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(ye)}renderKatex(ye,P){if((0,x.UE)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(ye,P)}}renderClipboard(ye,P,B){if(!(0,x.UE)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!P)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:R,buttonTemplate:N}=B,Y=ye.querySelectorAll("pre");for(let h=0;h<Y.length;h++){const M=Y.item(h),Z=document.createElement("div");Z.style.position="relative",M.parentNode.insertBefore(Z,M),Z.appendChild(M);const z=document.createElement("div");let H,X;z.style.position="absolute",z.style.top=".5em",z.style.right=".5em",z.style.opacity="0",z.style.transition="opacity 250ms ease-out",Z.insertAdjacentElement("beforeend",z),M.onmouseover=()=>z.style.opacity="1",M.onmouseout=()=>z.style.opacity="0",H=R?P.createComponent(R).hostView:N?P.createEmbeddedView(N):P.createComponent(q).hostView,H.rootNodes.forEach(oe=>{oe.onmouseover=()=>z.style.opacity="1",z.appendChild(oe),X=new ClipboardJS(oe,{text:()=>M.innerText})}),H.onDestroy(()=>X.destroy())}}renderMermaid(ye,P=this.DEFAULT_MERMAID_OPTIONS){if(!(0,x.UE)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const B=ye.querySelectorAll(".mermaid");0!==B.length&&(mermaid.initialize(P),mermaid.run({nodes:B}))}trimIndentation(ye){if(!ye)return"";let P;return ye.split("\n").map(B=>{let R=P;return B.length>0&&(R=isNaN(R)?B.search(/\S|$/):Math.min(B.search(/\S|$/),R)),isNaN(P)&&(P=R),R?B.substring(R):B}).join("\n")}}return(Ye=Ze).\u0275fac=function(ye){return new(ye||Ye)(f.KVO($,8),f.KVO(be,8),f.KVO(Se,8),f.KVO(f.Agw),f.KVO(I),f.KVO(L.Qq,8),f.KVO(ie.up))},Ye.\u0275prov=f.jDH({token:Ye,factory:Ye.\u0275fac}),Ze})(),ke=(()=>{var Ye;class Ze{constructor(ye,P,B,R,N){this.domSanitizer=ye,this.elementRef=P,this.markdownService=B,this.viewContainerRef=R,this.zone=N}transform(ye,P){var B=this;return(0,r.A)(function*(){if(null==ye)return"";if("string"!=typeof ye)return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof ye}]`),ye;const R=yield B.markdownService.parse(ye,P);return B.zone.onStable.pipe((0,W.$)()).subscribe(()=>B.markdownService.render(B.elementRef.nativeElement,P,B.viewContainerRef)),B.domSanitizer.bypassSecurityTrustHtml(R)})()}}return(Ye=Ze).\u0275fac=function(ye){return new(ye||Ye)(f.rXU(ie.up,16),f.rXU(f.aKT,16),f.rXU(ge,16),f.rXU(f.c1b,16),f.rXU(f.SKi,16))},Ye.\u0275pipe=f.EJ8({name:"markdown",type:Ye,pure:!0,standalone:!0}),Ze})();function xt(Ye){return[ge,Ye?.loader??[],Ye?.clipboardOptions??[],Ye?.markedOptions??[],{provide:be,useValue:Ye?.markedExtensions??[]},{provide:I,useValue:Ye?.sanitize??f.WPN.HTML}]}let ln=(()=>{var Ye;class Ze{static forRoot(ye){return{ngModule:Ze,providers:[xt(ye)]}}static forChild(){return{ngModule:Ze}}}return(Ye=Ze).\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275mod=f.$C({type:Ye}),Ye.\u0275inj=f.G2t({imports:[x.MD]}),Ze})();var Bt;!function(Ye){let Ze;var P;let Ot,ye;(P=Ze=Ye.SecurityLevel||(Ye.SecurityLevel={})).Strict="strict",P.Loose="loose",P.Antiscript="antiscript",P.Sandbox="sandbox",function(P){P.Base="base",P.Forest="forest",P.Dark="dark",P.Default="default",P.Neutral="neutral"}(Ot=Ye.Theme||(Ye.Theme={})),function(P){P[P.Debug=1]="Debug",P[P.Info=2]="Info",P[P.Warn=3]="Warn",P[P.Error=4]="Error",P[P.Fatal=5]="Fatal"}(ye=Ye.LogLevel||(Ye.LogLevel={}))}(Bt||(Bt={}))},4902:(en,ot,w)=>{"use strict";var r;w.d(ot,{F:()=>b});var x=w(4438),f=w(5442);let b=(()=>{var E;class C{constructor(){this._papa=r||(r=w.t(f,2))}parse(F,S){return this._papa.parse(F,S)}unparse(F,S){return this._papa.unparse(F,S)}setLocalChunkSize(F){this._papa.LocalChunkSize=F}setRemoteChunkSize(F){this._papa.RemoteChunkSize=F}setDefaultDelimiter(F){this._papa.DefaultDelimiter=F}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}}return(E=C).\u0275fac=function(F){return new(F||E)},E.\u0275prov=x.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),C})()},7878:(en,ot,w)=>{"use strict";w.d(ot,{wR:()=>u});var r=w(4438);let u=(()=>{var F;class S{}return(F=S).\u0275fac=function(O){return new(O||F)},F.\u0275mod=r.$C({type:F}),F.\u0275inj=r.G2t({}),S})()},7051:(en,ot,w)=>{"use strict";function f(P,B,R){if("function"==typeof P?P===B:P.has(B))return arguments.length<3?B:R;throw new TypeError("Private element is not present on this object")}w.d(ot,{A4:()=>nt,xI:()=>ke});var b=w(9158);let C={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function u(P){C=P}const F=/[&<>"']/,S=new RegExp(F.source,"g"),U=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,O=new RegExp(U.source,"g"),y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_=P=>y[P];function D(P,B){if(B){if(F.test(P))return P.replace(S,_)}else if(U.test(P))return P.replace(O,_);return P}const W=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,L=/(^|[^\[])\^/g;function ie(P,B){P="string"==typeof P?P:P.source,B=B||"";const R={replace:(N,Y)=>(Y=(Y="object"==typeof Y&&"source"in Y?Y.source:Y).replace(L,"$1"),P=P.replace(N,Y),R),getRegex:()=>new RegExp(P,B)};return R}function ae(P){try{P=encodeURI(P).replace(/%25/g,"%")}catch{return null}return P}const le={exec:()=>null};function fe(P,B){const N=P.replace(/\|/g,(h,M,Z)=>{let z=!1,H=M;for(;--H>=0&&"\\"===Z[H];)z=!z;return z?"|":" |"}).split(/ \|/);let Y=0;if(N[0].trim()||N.shift(),N.length>0&&!N[N.length-1].trim()&&N.pop(),B)if(N.length>B)N.splice(B);else for(;N.length<B;)N.push("");for(;Y<N.length;Y++)N[Y]=N[Y].trim().replace(/\\\|/g,"|");return N}function q(P,B,R){const N=P.length;if(0===N)return"";let Y=0;for(;Y<N;){const h=P.charAt(N-Y-1);if(h!==B||R){if(h===B||!R)break;Y++}else Y++}return P.slice(0,N-Y)}function j(P,B,R,N){const Y=B.href,h=B.title?D(B.title):null,M=P[1].replace(/\\([\[\]])/g,"$1");if("!"!==P[0].charAt(0)){N.state.inLink=!0;const Z={type:"link",raw:R,href:Y,title:h,text:M,tokens:N.inlineTokens(M)};return N.state.inLink=!1,Z}return{type:"image",raw:R,href:Y,title:h,text:D(M)}}class ee{constructor(B){(0,b.A)(this,"options",void 0),(0,b.A)(this,"rules",void 0),(0,b.A)(this,"lexer",void 0),this.options=B||C}space(B){const R=this.rules.block.newline.exec(B);if(R&&R[0].length>0)return{type:"space",raw:R[0]}}code(B){const R=this.rules.block.code.exec(B);if(R){const N=R[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:R[0],codeBlockStyle:"indented",text:this.options.pedantic?N:q(N,"\n")}}}fences(B){const R=this.rules.block.fences.exec(B);if(R){const N=R[0],Y=function Q(P,B){const R=P.match(/^(\s+)(?:```)/);if(null===R)return B;const N=R[1];return B.split("\n").map(Y=>{const h=Y.match(/^\s+/);if(null===h)return Y;const[M]=h;return M.length>=N.length?Y.slice(N.length):Y}).join("\n")}(N,R[3]||"");return{type:"code",raw:N,lang:R[2]?R[2].trim().replace(this.rules.inline._escapes,"$1"):R[2],text:Y}}}heading(B){const R=this.rules.block.heading.exec(B);if(R){let N=R[2].trim();if(/#$/.test(N)){const Y=q(N,"#");(this.options.pedantic||!Y||/ $/.test(Y))&&(N=Y.trim())}return{type:"heading",raw:R[0],depth:R[1].length,text:N,tokens:this.lexer.inline(N)}}}hr(B){const R=this.rules.block.hr.exec(B);if(R)return{type:"hr",raw:R[0]}}blockquote(B){const R=this.rules.block.blockquote.exec(B);if(R){const N=q(R[0].replace(/^ *>[ \t]?/gm,""),"\n"),Y=this.lexer.state.top;this.lexer.state.top=!0;const h=this.lexer.blockTokens(N);return this.lexer.state.top=Y,{type:"blockquote",raw:R[0],tokens:h,text:N}}}list(B){let R=this.rules.block.list.exec(B);if(R){let N=R[1].trim();const Y=N.length>1,h={type:"list",raw:"",ordered:Y,start:Y?+N.slice(0,-1):"",loose:!1,items:[]};N=Y?`\\d{1,9}\\${N.slice(-1)}`:`\\${N}`,this.options.pedantic&&(N=Y?N:"[*+-]");const M=new RegExp(`^( {0,3}${N})((?:[\t ][^\\n]*)?(?:\\n|$))`);let Z="",z="",H=!1;for(;B;){let X=!1;if(!(R=M.exec(B))||this.rules.block.hr.test(B))break;Z=R[0],B=B.substring(Z.length);let oe=R[2].split("\n",1)[0].replace(/^\t+/,Ct=>" ".repeat(3*Ct.length)),He=B.split("\n",1)[0],rt=0;this.options.pedantic?(rt=2,z=oe.trimStart()):(rt=R[2].search(/[^ ]/),rt=rt>4?1:rt,z=oe.slice(rt),rt+=R[1].length);let ft=!1;if(!oe&&/^ *$/.test(He)&&(Z+=He+"\n",B=B.substring(He.length+1),X=!0),!X){const Ct=new RegExp(`^ {0,${Math.min(3,rt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),dt=new RegExp(`^ {0,${Math.min(3,rt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),At=new RegExp(`^ {0,${Math.min(3,rt-1)}}(?:\`\`\`|~~~)`),Qt=new RegExp(`^ {0,${Math.min(3,rt-1)}}#`);for(;B;){const Ke=B.split("\n",1)[0];if(He=Ke,this.options.pedantic&&(He=He.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),At.test(He)||Qt.test(He)||Ct.test(He)||dt.test(B))break;if(He.search(/[^ ]/)>=rt||!He.trim())z+="\n"+He.slice(rt);else{if(ft||oe.search(/[^ ]/)>=4||At.test(oe)||Qt.test(oe)||dt.test(oe))break;z+="\n"+He}!ft&&!He.trim()&&(ft=!0),Z+=Ke+"\n",B=B.substring(Ke.length+1),oe=He.slice(rt)}}h.loose||(H?h.loose=!0:/\n *\n *$/.test(Z)&&(H=!0));let Ge,It=null;this.options.gfm&&(It=/^\[[ xX]\] /.exec(z),It&&(Ge="[ ] "!==It[0],z=z.replace(/^\[[ xX]\] +/,""))),h.items.push({type:"list_item",raw:Z,task:!!It,checked:Ge,loose:!1,text:z,tokens:[]}),h.raw+=Z}h.items[h.items.length-1].raw=Z.trimEnd(),h.items[h.items.length-1].text=z.trimEnd(),h.raw=h.raw.trimEnd();for(let X=0;X<h.items.length;X++)if(this.lexer.state.top=!1,h.items[X].tokens=this.lexer.blockTokens(h.items[X].text,[]),!h.loose){const oe=h.items[X].tokens.filter(rt=>"space"===rt.type),He=oe.length>0&&oe.some(rt=>/\n.*\n/.test(rt.raw));h.loose=He}if(h.loose)for(let X=0;X<h.items.length;X++)h.items[X].loose=!0;return h}}html(B){const R=this.rules.block.html.exec(B);if(R)return{type:"html",block:!0,raw:R[0],pre:"pre"===R[1]||"script"===R[1]||"style"===R[1],text:R[0]}}def(B){const R=this.rules.block.def.exec(B);if(R){const N=R[1].toLowerCase().replace(/\s+/g," "),Y=R[2]?R[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",h=R[3]?R[3].substring(1,R[3].length-1).replace(this.rules.inline._escapes,"$1"):R[3];return{type:"def",tag:N,raw:R[0],href:Y,title:h}}}table(B){const R=this.rules.block.table.exec(B);if(R){if(!/[:|]/.test(R[2]))return;const N={type:"table",raw:R[0],header:fe(R[1]).map(Y=>({text:Y,tokens:[]})),align:R[2].replace(/^\||\| *$/g,"").split("|"),rows:R[3]&&R[3].trim()?R[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(N.header.length===N.align.length){let h,M,Z,z,Y=N.align.length;for(h=0;h<Y;h++){const H=N.align[h];H&&(N.align[h]=/^ *-+: *$/.test(H)?"right":/^ *:-+: *$/.test(H)?"center":/^ *:-+ *$/.test(H)?"left":null)}for(Y=N.rows.length,h=0;h<Y;h++)N.rows[h]=fe(N.rows[h],N.header.length).map(H=>({text:H,tokens:[]}));for(Y=N.header.length,M=0;M<Y;M++)N.header[M].tokens=this.lexer.inline(N.header[M].text);for(Y=N.rows.length,M=0;M<Y;M++)for(z=N.rows[M],Z=0;Z<z.length;Z++)z[Z].tokens=this.lexer.inline(z[Z].text);return N}}}lheading(B){const R=this.rules.block.lheading.exec(B);if(R)return{type:"heading",raw:R[0],depth:"="===R[2].charAt(0)?1:2,text:R[1],tokens:this.lexer.inline(R[1])}}paragraph(B){const R=this.rules.block.paragraph.exec(B);if(R){const N="\n"===R[1].charAt(R[1].length-1)?R[1].slice(0,-1):R[1];return{type:"paragraph",raw:R[0],text:N,tokens:this.lexer.inline(N)}}}text(B){const R=this.rules.block.text.exec(B);if(R)return{type:"text",raw:R[0],text:R[0],tokens:this.lexer.inline(R[0])}}escape(B){const R=this.rules.inline.escape.exec(B);if(R)return{type:"escape",raw:R[0],text:D(R[1])}}tag(B){const R=this.rules.inline.tag.exec(B);if(R)return!this.lexer.state.inLink&&/^<a /i.test(R[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(R[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(R[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(R[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:R[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:R[0]}}link(B){const R=this.rules.inline.link.exec(B);if(R){const N=R[2].trim();if(!this.options.pedantic&&/^</.test(N)){if(!/>$/.test(N))return;const M=q(N.slice(0,-1),"\\");if((N.length-M.length)%2==0)return}else{const M=function $(P,B){if(-1===P.indexOf(B[1]))return-1;let R=0;for(let N=0;N<P.length;N++)if("\\"===P[N])N++;else if(P[N]===B[0])R++;else if(P[N]===B[1]&&(R--,R<0))return N;return-1}(R[2],"()");if(M>-1){const z=(0===R[0].indexOf("!")?5:4)+R[1].length+M;R[2]=R[2].substring(0,M),R[0]=R[0].substring(0,z).trim(),R[3]=""}}let Y=R[2],h="";if(this.options.pedantic){const M=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Y);M&&(Y=M[1],h=M[3])}else h=R[3]?R[3].slice(1,-1):"";return Y=Y.trim(),/^</.test(Y)&&(Y=this.options.pedantic&&!/>$/.test(N)?Y.slice(1):Y.slice(1,-1)),j(R,{href:Y&&Y.replace(this.rules.inline._escapes,"$1"),title:h&&h.replace(this.rules.inline._escapes,"$1")},R[0],this.lexer)}}reflink(B,R){let N;if((N=this.rules.inline.reflink.exec(B))||(N=this.rules.inline.nolink.exec(B))){let Y=(N[2]||N[1]).replace(/\s+/g," ");if(Y=R[Y.toLowerCase()],!Y){const h=N[0].charAt(0);return{type:"text",raw:h,text:h}}return j(N,Y,N[0],this.lexer)}}emStrong(B,R,N=""){let Y=this.rules.inline.emStrong.lDelim.exec(B);if(!(!Y||Y[3]&&N.match(/[\p{L}\p{N}]/u))&&(!Y[1]&&!Y[2]||!N||this.rules.inline.punctuation.exec(N))){const M=[...Y[0]].length-1;let Z,z,H=M,X=0;const oe="*"===Y[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(oe.lastIndex=0,R=R.slice(-1*B.length+M);null!=(Y=oe.exec(R));){if(Z=Y[1]||Y[2]||Y[3]||Y[4]||Y[5]||Y[6],!Z)continue;if(z=[...Z].length,Y[3]||Y[4]){H+=z;continue}if((Y[5]||Y[6])&&M%3&&!((M+z)%3)){X+=z;continue}if(H-=z,H>0)continue;z=Math.min(z,z+H+X);const He=[...Y[0]][0].length,rt=B.slice(0,M+Y.index+He+z);if(Math.min(M,z)%2){const It=rt.slice(1,-1);return{type:"em",raw:rt,text:It,tokens:this.lexer.inlineTokens(It)}}const ft=rt.slice(2,-2);return{type:"strong",raw:rt,text:ft,tokens:this.lexer.inlineTokens(ft)}}}}codespan(B){const R=this.rules.inline.code.exec(B);if(R){let N=R[2].replace(/\n/g," ");const Y=/[^ ]/.test(N),h=/^ /.test(N)&&/ $/.test(N);return Y&&h&&(N=N.substring(1,N.length-1)),N=D(N,!0),{type:"codespan",raw:R[0],text:N}}}br(B){const R=this.rules.inline.br.exec(B);if(R)return{type:"br",raw:R[0]}}del(B){const R=this.rules.inline.del.exec(B);if(R)return{type:"del",raw:R[0],text:R[2],tokens:this.lexer.inlineTokens(R[2])}}autolink(B){const R=this.rules.inline.autolink.exec(B);if(R){let N,Y;return"@"===R[2]?(N=D(R[1]),Y="mailto:"+N):(N=D(R[1]),Y=N),{type:"link",raw:R[0],text:N,href:Y,tokens:[{type:"text",raw:N,text:N}]}}}url(B){let R;if(R=this.rules.inline.url.exec(B)){let N,Y;if("@"===R[2])N=D(R[0]),Y="mailto:"+N;else{let h;do{h=R[0],R[0]=this.rules.inline._backpedal.exec(R[0])[0]}while(h!==R[0]);N=D(R[0]),Y="www."===R[1]?"http://"+R[0]:R[0]}return{type:"link",raw:R[0],text:N,href:Y,tokens:[{type:"text",raw:N,text:N}]}}}inlineText(B){const R=this.rules.inline.text.exec(B);if(R){let N;return N=this.lexer.state.inRawBlock?R[0]:D(R[0]),{type:"text",raw:R[0],text:N}}}}const be={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:le,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};be.def=ie(be.def).replace("label",be._label).replace("title",be._title).getRegex(),be.bullet=/(?:[*+-]|\d{1,9}[.)])/,be.listItemStart=ie(/^( *)(bull) */).replace("bull",be.bullet).getRegex(),be.list=ie(be.list).replace(/bull/g,be.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+be.def.source+")").getRegex(),be._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",be._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,be.html=ie(be.html,"i").replace("comment",be._comment).replace("tag",be._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),be.lheading=ie(be.lheading).replace(/bull/g,be.bullet).getRegex(),be.paragraph=ie(be._paragraph).replace("hr",be.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",be._tag).getRegex(),be.blockquote=ie(be.blockquote).replace("paragraph",be.paragraph).getRegex(),be.normal={...be},be.gfm={...be.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},be.gfm.table=ie(be.gfm.table).replace("hr",be.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",be._tag).getRegex(),be.gfm.paragraph=ie(be._paragraph).replace("hr",be.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",be.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",be._tag).getRegex(),be.pedantic={...be.normal,html:ie("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",be._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:le,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ie(be.normal._paragraph).replace("hr",be.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",be.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:le,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:le,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Se.punctuation=ie(Se.punctuation,"u").replace(/punctuation/g,Se._punctuation).getRegex(),Se.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Se.anyPunctuation=/\\[punct]/g,Se._escapes=/\\([punct])/g,Se._comment=ie(be._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Se.emStrong.lDelim=ie(Se.emStrong.lDelim,"u").replace(/punct/g,Se._punctuation).getRegex(),Se.emStrong.rDelimAst=ie(Se.emStrong.rDelimAst,"gu").replace(/punct/g,Se._punctuation).getRegex(),Se.emStrong.rDelimUnd=ie(Se.emStrong.rDelimUnd,"gu").replace(/punct/g,Se._punctuation).getRegex(),Se.anyPunctuation=ie(Se.anyPunctuation,"gu").replace(/punct/g,Se._punctuation).getRegex(),Se._escapes=ie(Se._escapes,"gu").replace(/punct/g,Se._punctuation).getRegex(),Se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Se.autolink=ie(Se.autolink).replace("scheme",Se._scheme).replace("email",Se._email).getRegex(),Se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Se.tag=ie(Se.tag).replace("comment",Se._comment).replace("attribute",Se._attribute).getRegex(),Se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Se.link=ie(Se.link).replace("label",Se._label).replace("href",Se._href).replace("title",Se._title).getRegex(),Se.reflink=ie(Se.reflink).replace("label",Se._label).replace("ref",be._label).getRegex(),Se.nolink=ie(Se.nolink).replace("ref",be._label).getRegex(),Se.reflinkSearch=ie(Se.reflinkSearch,"g").replace("reflink",Se.reflink).replace("nolink",Se.nolink).getRegex(),Se.normal={...Se},Se.pedantic={...Se.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ie(/^!?\[(label)\]\((.*?)\)/).replace("label",Se._label).getRegex(),reflink:ie(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Se._label).getRegex()},Se.gfm={...Se.normal,escape:ie(Se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Se.gfm.url=ie(Se.gfm.url,"i").replace("email",Se.gfm._extended_email).getRegex(),Se.breaks={...Se.gfm,br:ie(Se.br).replace("{2,}","*").getRegex(),text:ie(Se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Qe{constructor(B){(0,b.A)(this,"tokens",void 0),(0,b.A)(this,"options",void 0),(0,b.A)(this,"state",void 0),(0,b.A)(this,"tokenizer",void 0),(0,b.A)(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=B||C,this.options.tokenizer=this.options.tokenizer||new ee,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const R={block:be.normal,inline:Se.normal};this.options.pedantic?(R.block=be.pedantic,R.inline=Se.pedantic):this.options.gfm&&(R.block=be.gfm,R.inline=this.options.breaks?Se.breaks:Se.gfm),this.tokenizer.rules=R}static get rules(){return{block:be,inline:Se}}static lex(B,R){return new Qe(R).lex(B)}static lexInline(B,R){return new Qe(R).inlineTokens(B)}lex(B){let R;for(B=B.replace(/\r\n|\r/g,"\n"),this.blockTokens(B,this.tokens);R=this.inlineQueue.shift();)this.inlineTokens(R.src,R.tokens);return this.tokens}blockTokens(B,R=[]){let N,Y,h,M;for(B=this.options.pedantic?B.replace(/\t/g,"    ").replace(/^ +$/gm,""):B.replace(/^( *)(\t+)/gm,(Z,z,H)=>z+"    ".repeat(H.length));B;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Z=>!!(N=Z.call({lexer:this},B,R))&&(B=B.substring(N.raw.length),R.push(N),!0)))){if(N=this.tokenizer.space(B)){B=B.substring(N.raw.length),1===N.raw.length&&R.length>0?R[R.length-1].raw+="\n":R.push(N);continue}if(N=this.tokenizer.code(B)){B=B.substring(N.raw.length),Y=R[R.length-1],!Y||"paragraph"!==Y.type&&"text"!==Y.type?R.push(N):(Y.raw+="\n"+N.raw,Y.text+="\n"+N.text,this.inlineQueue[this.inlineQueue.length-1].src=Y.text);continue}if(N=this.tokenizer.fences(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.heading(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.hr(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.blockquote(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.list(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.html(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.def(B)){B=B.substring(N.raw.length),Y=R[R.length-1],!Y||"paragraph"!==Y.type&&"text"!==Y.type?this.tokens.links[N.tag]||(this.tokens.links[N.tag]={href:N.href,title:N.title}):(Y.raw+="\n"+N.raw,Y.text+="\n"+N.raw,this.inlineQueue[this.inlineQueue.length-1].src=Y.text);continue}if(N=this.tokenizer.table(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.lheading(B)){B=B.substring(N.raw.length),R.push(N);continue}if(h=B,this.options.extensions&&this.options.extensions.startBlock){let Z=1/0;const z=B.slice(1);let H;this.options.extensions.startBlock.forEach(X=>{H=X.call({lexer:this},z),"number"==typeof H&&H>=0&&(Z=Math.min(Z,H))}),Z<1/0&&Z>=0&&(h=B.substring(0,Z+1))}if(this.state.top&&(N=this.tokenizer.paragraph(h))){Y=R[R.length-1],M&&"paragraph"===Y.type?(Y.raw+="\n"+N.raw,Y.text+="\n"+N.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Y.text):R.push(N),M=h.length!==B.length,B=B.substring(N.raw.length);continue}if(N=this.tokenizer.text(B)){B=B.substring(N.raw.length),Y=R[R.length-1],Y&&"text"===Y.type?(Y.raw+="\n"+N.raw,Y.text+="\n"+N.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Y.text):R.push(N);continue}if(B){const Z="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(Z);break}throw new Error(Z)}}return this.state.top=!0,R}inline(B,R=[]){return this.inlineQueue.push({src:B,tokens:R}),R}inlineTokens(B,R=[]){let N,Y,h,Z,z,H,M=B;if(this.tokens.links){const X=Object.keys(this.tokens.links);if(X.length>0)for(;null!=(Z=this.tokenizer.rules.inline.reflinkSearch.exec(M));)X.includes(Z[0].slice(Z[0].lastIndexOf("[")+1,-1))&&(M=M.slice(0,Z.index)+"["+"a".repeat(Z[0].length-2)+"]"+M.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Z=this.tokenizer.rules.inline.blockSkip.exec(M));)M=M.slice(0,Z.index)+"["+"a".repeat(Z[0].length-2)+"]"+M.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Z=this.tokenizer.rules.inline.anyPunctuation.exec(M));)M=M.slice(0,Z.index)+"++"+M.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;B;)if(z||(H=""),z=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(X=>!!(N=X.call({lexer:this},B,R))&&(B=B.substring(N.raw.length),R.push(N),!0)))){if(N=this.tokenizer.escape(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.tag(B)){B=B.substring(N.raw.length),Y=R[R.length-1],Y&&"text"===N.type&&"text"===Y.type?(Y.raw+=N.raw,Y.text+=N.text):R.push(N);continue}if(N=this.tokenizer.link(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.reflink(B,this.tokens.links)){B=B.substring(N.raw.length),Y=R[R.length-1],Y&&"text"===N.type&&"text"===Y.type?(Y.raw+=N.raw,Y.text+=N.text):R.push(N);continue}if(N=this.tokenizer.emStrong(B,M,H)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.codespan(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.br(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.del(B)){B=B.substring(N.raw.length),R.push(N);continue}if(N=this.tokenizer.autolink(B)){B=B.substring(N.raw.length),R.push(N);continue}if(!this.state.inLink&&(N=this.tokenizer.url(B))){B=B.substring(N.raw.length),R.push(N);continue}if(h=B,this.options.extensions&&this.options.extensions.startInline){let X=1/0;const oe=B.slice(1);let He;this.options.extensions.startInline.forEach(rt=>{He=rt.call({lexer:this},oe),"number"==typeof He&&He>=0&&(X=Math.min(X,He))}),X<1/0&&X>=0&&(h=B.substring(0,X+1))}if(N=this.tokenizer.inlineText(h)){B=B.substring(N.raw.length),"_"!==N.raw.slice(-1)&&(H=N.raw.slice(-1)),z=!0,Y=R[R.length-1],Y&&"text"===Y.type?(Y.raw+=N.raw,Y.text+=N.text):R.push(N);continue}if(B){const X="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(X);break}throw new Error(X)}}return R}}class nt{constructor(B){(0,b.A)(this,"options",void 0),this.options=B||C}code(B,R,N){const Y=(R||"").match(/^\S*/)?.[0];return B=B.replace(/\n$/,"")+"\n",Y?'<pre><code class="language-'+D(Y)+'">'+(N?B:D(B,!0))+"</code></pre>\n":"<pre><code>"+(N?B:D(B,!0))+"</code></pre>\n"}blockquote(B){return`<blockquote>\n${B}</blockquote>\n`}html(B,R){return B}heading(B,R,N){return`<h${R}>${B}</h${R}>\n`}hr(){return"<hr>\n"}list(B,R,N){const Y=R?"ol":"ul";return"<"+Y+(R&&1!==N?' start="'+N+'"':"")+">\n"+B+"</"+Y+">\n"}listitem(B,R,N){return`<li>${B}</li>\n`}checkbox(B){return"<input "+(B?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(B){return`<p>${B}</p>\n`}table(B,R){return R&&(R=`<tbody>${R}</tbody>`),"<table>\n<thead>\n"+B+"</thead>\n"+R+"</table>\n"}tablerow(B){return`<tr>\n${B}</tr>\n`}tablecell(B,R){const N=R.header?"th":"td";return(R.align?`<${N} align="${R.align}">`:`<${N}>`)+B+`</${N}>\n`}strong(B){return`<strong>${B}</strong>`}em(B){return`<em>${B}</em>`}codespan(B){return`<code>${B}</code>`}br(){return"<br>"}del(B){return`<del>${B}</del>`}link(B,R,N){const Y=ae(B);if(null===Y)return N;let h='<a href="'+(B=Y)+'"';return R&&(h+=' title="'+R+'"'),h+=">"+N+"</a>",h}image(B,R,N){const Y=ae(B);if(null===Y)return N;let h=`<img src="${B=Y}" alt="${N}"`;return R&&(h+=` title="${R}"`),h+=">",h}text(B){return B}}class De{strong(B){return B}em(B){return B}codespan(B){return B}del(B){return B}html(B){return B}text(B){return B}link(B,R,N){return""+N}image(B,R,N){return""+N}br(){return""}}class ut{constructor(B){(0,b.A)(this,"options",void 0),(0,b.A)(this,"renderer",void 0),(0,b.A)(this,"textRenderer",void 0),this.options=B||C,this.options.renderer=this.options.renderer||new nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new De}static parse(B,R){return new ut(R).parse(B)}static parseInline(B,R){return new ut(R).parseInline(B)}parse(B,R=!0){let N="";for(let Y=0;Y<B.length;Y++){const h=B[Y];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]){const M=h,Z=this.options.extensions.renderers[M.type].call({parser:this},M);if(!1!==Z||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)){N+=Z||"";continue}}switch(h.type){case"space":continue;case"hr":N+=this.renderer.hr();continue;case"heading":{const M=h;N+=this.renderer.heading(this.parseInline(M.tokens),M.depth,this.parseInline(M.tokens,this.textRenderer).replace(W,(B,R)=>"colon"===(R=R.toLowerCase())?":":"#"===R.charAt(0)?"x"===R.charAt(1)?String.fromCharCode(parseInt(R.substring(2),16)):String.fromCharCode(+R.substring(1)):""));continue}case"code":N+=this.renderer.code(h.text,h.lang,!!h.escaped);continue;case"table":{const M=h;let Z="",z="";for(let X=0;X<M.header.length;X++)z+=this.renderer.tablecell(this.parseInline(M.header[X].tokens),{header:!0,align:M.align[X]});Z+=this.renderer.tablerow(z);let H="";for(let X=0;X<M.rows.length;X++){const oe=M.rows[X];z="";for(let He=0;He<oe.length;He++)z+=this.renderer.tablecell(this.parseInline(oe[He].tokens),{header:!1,align:M.align[He]});H+=this.renderer.tablerow(z)}N+=this.renderer.table(Z,H);continue}case"blockquote":{const Z=this.parse(h.tokens);N+=this.renderer.blockquote(Z);continue}case"list":{const M=h,Z=M.ordered,z=M.start,H=M.loose;let X="";for(let oe=0;oe<M.items.length;oe++){const He=M.items[oe],rt=He.checked,ft=He.task;let It="";if(He.task){const Ge=this.renderer.checkbox(!!rt);H?He.tokens.length>0&&"paragraph"===He.tokens[0].type?(He.tokens[0].text=Ge+" "+He.tokens[0].text,He.tokens[0].tokens&&He.tokens[0].tokens.length>0&&"text"===He.tokens[0].tokens[0].type&&(He.tokens[0].tokens[0].text=Ge+" "+He.tokens[0].tokens[0].text)):He.tokens.unshift({type:"text",text:Ge+" "}):It+=Ge+" "}It+=this.parse(He.tokens,H),X+=this.renderer.listitem(It,ft,!!rt)}N+=this.renderer.list(X,Z,z);continue}case"html":N+=this.renderer.html(h.text,h.block);continue;case"paragraph":N+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":{let M=h,Z=M.tokens?this.parseInline(M.tokens):M.text;for(;Y+1<B.length&&"text"===B[Y+1].type;)M=B[++Y],Z+="\n"+(M.tokens?this.parseInline(M.tokens):M.text);N+=R?this.renderer.paragraph(Z):Z;continue}default:{const M='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(M),"";throw new Error(M)}}}return N}parseInline(B,R){R=R||this.renderer;let N="";for(let Y=0;Y<B.length;Y++){const h=B[Y];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]){const M=this.options.extensions.renderers[h.type].call({parser:this},h);if(!1!==M||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){N+=M||"";continue}}switch(h.type){case"escape":case"text":N+=R.text(h.text);break;case"html":N+=R.html(h.text);break;case"link":N+=R.link(h.href,h.title,this.parseInline(h.tokens,R));break;case"image":N+=R.image(h.href,h.title,h.text);break;case"strong":N+=R.strong(this.parseInline(h.tokens,R));break;case"em":N+=R.em(this.parseInline(h.tokens,R));break;case"codespan":N+=R.codespan(h.text);break;case"br":N+=R.br();break;case"del":N+=R.del(this.parseInline(h.tokens,R));break;default:{const M='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(M),"";throw new Error(M)}}}return N}}class Ft{constructor(B){(0,b.A)(this,"options",void 0),this.options=B||C}preprocess(B){return B}postprocess(B){return B}}(0,b.A)(Ft,"passThroughHooks",new Set(["preprocess","postprocess"]));var ve=new WeakSet;function V(P,B){return(R,N)=>{const Y={...N},h={...this.defaults,...Y};!0===this.defaults.async&&!1===Y.async&&(h.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),h.async=!0);const M=f(ve,this,ge).call(this,!!h.silent,!!h.async);if(typeof R>"u"||null===R)return M(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof R)return M(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(R)+", string expected"));if(h.hooks&&(h.hooks.options=h),h.async)return Promise.resolve(h.hooks?h.hooks.preprocess(R):R).then(Z=>P(Z,h)).then(Z=>h.walkTokens?Promise.all(this.walkTokens(Z,h.walkTokens)).then(()=>Z):Z).then(Z=>B(Z,h)).then(Z=>h.hooks?h.hooks.postprocess(Z):Z).catch(M);try{h.hooks&&(R=h.hooks.preprocess(R));const Z=P(R,h);h.walkTokens&&this.walkTokens(Z,h.walkTokens);let z=B(Z,h);return h.hooks&&(z=h.hooks.postprocess(z)),z}catch(Z){return M(Z)}}}function ge(P,B){return R=>{if(R.message+="\nPlease report this to https://github.com/markedjs/marked.",P){const N="<p>An error occurred:</p><pre>"+D(R.message+"",!0)+"</pre>";return B?Promise.resolve(N):N}if(B)return Promise.reject(R);throw R}}const Pe=new class I{constructor(...B){(function x(P,B){(function r(P,B){if(B.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")})(P,B),B.add(P)})(this,ve),(0,b.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,b.A)(this,"options",this.setOptions),(0,b.A)(this,"parse",f(ve,this,V).call(this,Qe.lex,ut.parse)),(0,b.A)(this,"parseInline",f(ve,this,V).call(this,Qe.lexInline,ut.parseInline)),(0,b.A)(this,"Parser",ut),(0,b.A)(this,"Renderer",nt),(0,b.A)(this,"TextRenderer",De),(0,b.A)(this,"Lexer",Qe),(0,b.A)(this,"Tokenizer",ee),(0,b.A)(this,"Hooks",Ft),this.use(...B)}walkTokens(B,R){let N=[];for(const Y of B)switch(N=N.concat(R.call(this,Y)),Y.type){case"table":{const h=Y;for(const M of h.header)N=N.concat(this.walkTokens(M.tokens,R));for(const M of h.rows)for(const Z of M)N=N.concat(this.walkTokens(Z.tokens,R));break}case"list":N=N.concat(this.walkTokens(Y.items,R));break;default:{const h=Y;this.defaults.extensions?.childTokens?.[h.type]?this.defaults.extensions.childTokens[h.type].forEach(M=>{N=N.concat(this.walkTokens(h[M],R))}):h.tokens&&(N=N.concat(this.walkTokens(h.tokens,R)))}}return N}use(...B){const R=this.defaults.extensions||{renderers:{},childTokens:{}};return B.forEach(N=>{const Y={...N};if(Y.async=this.defaults.async||Y.async||!1,N.extensions&&(N.extensions.forEach(h=>{if(!h.name)throw new Error("extension name required");if("renderer"in h){const M=R.renderers[h.name];R.renderers[h.name]=M?function(...Z){let z=h.renderer.apply(this,Z);return!1===z&&(z=M.apply(this,Z)),z}:h.renderer}if("tokenizer"in h){if(!h.level||"block"!==h.level&&"inline"!==h.level)throw new Error("extension level must be 'block' or 'inline'");const M=R[h.level];M?M.unshift(h.tokenizer):R[h.level]=[h.tokenizer],h.start&&("block"===h.level?R.startBlock?R.startBlock.push(h.start):R.startBlock=[h.start]:"inline"===h.level&&(R.startInline?R.startInline.push(h.start):R.startInline=[h.start]))}"childTokens"in h&&h.childTokens&&(R.childTokens[h.name]=h.childTokens)}),Y.extensions=R),N.renderer){const h=this.defaults.renderer||new nt(this.defaults);for(const M in N.renderer){const Z=N.renderer[M],H=h[M];h[M]=(...X)=>{let oe=Z.apply(h,X);return!1===oe&&(oe=H.apply(h,X)),oe||""}}Y.renderer=h}if(N.tokenizer){const h=this.defaults.tokenizer||new ee(this.defaults);for(const M in N.tokenizer){const Z=N.tokenizer[M],H=h[M];h[M]=(...X)=>{let oe=Z.apply(h,X);return!1===oe&&(oe=H.apply(h,X)),oe}}Y.tokenizer=h}if(N.hooks){const h=this.defaults.hooks||new Ft;for(const M in N.hooks){const Z=N.hooks[M],H=h[M];h[M]=Ft.passThroughHooks.has(M)?X=>{if(this.defaults.async)return Promise.resolve(Z.call(h,X)).then(He=>H.call(h,He));const oe=Z.call(h,X);return H.call(h,oe)}:(...X)=>{let oe=Z.apply(h,X);return!1===oe&&(oe=H.apply(h,X)),oe}}Y.hooks=h}if(N.walkTokens){const h=this.defaults.walkTokens,M=N.walkTokens;Y.walkTokens=function(Z){let z=[];return z.push(M.call(this,Z)),h&&(z=z.concat(h.call(this,Z))),z}}this.defaults={...this.defaults,...Y}}),this}setOptions(B){return this.defaults={...this.defaults,...B},this}lexer(B,R){return Qe.lex(B,R??this.defaults)}parser(B,R){return ut.parse(B,R??this.defaults)}};function ke(P,B){return Pe.parse(P,B)}ke.options=ke.setOptions=function(P){return Pe.setOptions(P),u(ke.defaults=Pe.defaults),ke},ke.getDefaults=function E(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ke.defaults=C,ke.use=function(...P){return Pe.use(...P),u(ke.defaults=Pe.defaults),ke},ke.walkTokens=function(P,B){return Pe.walkTokens(P,B)},ke.parseInline=Pe.parseInline,ke.Parser=ut,ke.parser=ut.parse,ke.Renderer=nt,ke.TextRenderer=De,ke.Lexer=Qe,ke.lexer=Qe.lex,ke.Tokenizer=ee,ke.Hooks=Ft,ke.parse=ke},8407:(en,ot,w)=>{"use strict";function r(f,b,E,C,u,F,S){try{var U=f[F](S),O=U.value}catch(y){return void E(y)}U.done?b(O):Promise.resolve(O).then(C,u)}function x(f){return function(){var b=this,E=arguments;return new Promise(function(C,u){var F=f.apply(b,E);function S(O){r(F,C,u,S,U,"next",O)}function U(O){r(F,C,u,S,U,"throw",O)}S(void 0)})}}w.d(ot,{A:()=>x})},9158:(en,ot,w)=>{"use strict";function r(E){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function b(E,C,u){return(C=function f(E){var C=function x(E,C){if("object"!=r(E)||!E)return E;var u=E[Symbol.toPrimitive];if(void 0!==u){var F=u.call(E,C||"default");if("object"!=r(F))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(E)}(E,"string");return"symbol"==r(C)?C:String(C)}(C))in E?Object.defineProperty(E,C,{value:u,enumerable:!0,configurable:!0,writable:!0}):E[C]=u,E}w.d(ot,{A:()=>b})},1635:(en,ot,w)=>{"use strict";function y(V,ge,Pe,ke){return new(Pe||(Pe=Promise))(function(Ht,ln){function Bt(Ot){try{Ze(ke.next(Ot))}catch(ye){ln(ye)}}function Ye(Ot){try{Ze(ke.throw(Ot))}catch(ye){ln(ye)}}function Ze(Ot){Ot.done?Ht(Ot.value):function xt(Ht){return Ht instanceof Pe?Ht:new Pe(function(ln){ln(Ht)})}(Ot.value).then(Bt,Ye)}Ze((ke=ke.apply(V,ge||[])).next())})}function fe(V){return this instanceof fe?(this.v=V,this):new fe(V)}function q(V,ge,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xt,ke=Pe.apply(V,ge||[]),Ht=[];return xt={},ln("next"),ln("throw"),ln("return"),xt[Symbol.asyncIterator]=function(){return this},xt;function ln(P){ke[P]&&(xt[P]=function(B){return new Promise(function(R,N){Ht.push([P,B,R,N])>1||Bt(P,B)})})}function Bt(P,B){try{!function Ye(P){P.value instanceof fe?Promise.resolve(P.value.v).then(Ze,Ot):ye(Ht[0][2],P)}(ke[P](B))}catch(R){ye(Ht[0][3],R)}}function Ze(P){Bt("next",P)}function Ot(P){Bt("throw",P)}function ye(P,B){P(B),Ht.shift(),Ht.length&&Bt(Ht[0][0],Ht[0][1])}}function j(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ge=V[Symbol.asyncIterator];return ge?ge.call(V):(V=function K(V){var ge="function"==typeof Symbol&&Symbol.iterator,Pe=ge&&V[ge],ke=0;if(Pe)return Pe.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&ke>=V.length&&(V=void 0),{value:V&&V[ke++],done:!V}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),Pe={},ke("next"),ke("throw"),ke("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function ke(Ht){Pe[Ht]=V[Ht]&&function(ln){return new Promise(function(Bt,Ye){!function xt(Ht,ln,Bt,Ye){Promise.resolve(Ye).then(function(Ze){Ht({value:Ze,done:Bt})},ln)}(Bt,Ye,(ln=V[Ht](ln)).done,ln.value)})}}}w.d(ot,{AQ:()=>q,N3:()=>fe,sH:()=>y,xN:()=>j}),"function"==typeof SuppressedError&&SuppressedError}}]);