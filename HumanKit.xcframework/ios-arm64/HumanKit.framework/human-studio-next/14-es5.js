!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e){return function(e){if(Array.isArray(e))return d(e)}(e)||p(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=i(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return r}(e,t)||h(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e){if(Array.isArray(e))return e}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1uty":function(e,t,n){"use strict";function i(e){return e._erd}e.exports={initState:function(e){return e._erd={},i(e)},getState:i,cleanState:function(e){delete e._erd}}},"7sSR":function(e,t,n){"use strict";var i=n("t3DW").forEach,o=n("W+U1"),r=n("Sa1T"),a=n("LO96"),c=n("UFhH"),s=n("q7TX"),l=n("GOnX"),p=n("wnTG"),u=n("1uty"),g=n("GNKm"),h=n("yUZ2");function d(e){return Array.isArray(e)||void 0!==e.length}function b(e){if(Array.isArray(e))return e;var t=[];return i(e,(function(e){t.push(e)})),t}function f(e){return e&&1===e.nodeType}function x(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),m=c({idGenerator:n,stateHandler:u});t=m}var v=e.reporter;v||(v=s(!1===v));var w=x(e,"batchProcessor",p({reporter:v})),y={};y.callOnAdd=!!x(e,"callOnAdd",!0),y.debug=!!x(e,"debug",!1);var _,C=r(t),O=o({stateHandler:u}),k=x(e,"strategy","object"),P=x(e,"important",!1),M={reporter:v,batchProcessor:w,stateHandler:u,idHandler:t,important:P};if("scroll"===k&&(l.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),k="object"):l.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),k="object")),"scroll"===k)_=h(M);else{if("object"!==k)throw new Error("Invalid strategy name: "+k);_=g(M)}var z={};return{listenTo:function(e,n,o){function r(e){var t=C.get(e);i(t,(function(t){t(e)}))}function a(e,t,n){C.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(f(n))n=[n];else{if(!d(n))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=b(n)}var c=0,s=x(e,"callOnAdd",y.callOnAdd),l=x(e,"onReady",(function(){})),p=x(e,"debug",y.debug);i(n,(function(e){u.getState(e)||(u.initState(e),t.set(e));var g=t.get(e);if(p&&v.log("Attaching listener to element",g,e),!O.isDetectable(e))return p&&v.log(g,"Not detectable."),O.isBusy(e)?(p&&v.log(g,"System busy making it detectable"),a(s,e,o),z[g]=z[g]||[],void z[g].push((function(){++c===n.length&&l()}))):(p&&v.log(g,"Making detectable..."),O.markBusy(e,!0),_.makeDetectable({debug:p,important:P},e,(function(e){if(p&&v.log(g,"onElementDetectable"),u.getState(e)){O.markAsDetectable(e),O.markBusy(e,!1),_.addListener(e,r),a(s,e,o);var t=u.getState(e);t&&t.startSize&&(t.startSize.width===e.offsetWidth&&t.startSize.height===e.offsetHeight||r(e)),z[g]&&i(z[g],(function(e){e()}))}else p&&v.log(g,"Element uninstalled before being detectable.");delete z[g],++c===n.length&&l()})));p&&v.log(g,"Already detecable, adding listener."),a(s,e,o),c++})),c===n.length&&l()},removeListener:C.removeListener,removeAllListeners:C.removeAllListeners,uninstall:function(e){if(!e)return v.error("At least one element is required.");if(f(e))e=[e];else{if(!d(e))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=b(e)}i(e,(function(e){C.removeAllListeners(e),_.uninstall(e),u.cleanState(e)}))},initDocument:function(e){_.initDocument&&_.initDocument(e)}}}},GNKm:function(e,t,n){"use strict";var i=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function r(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return o(e).object}return{makeDetectable:function(e,a,c){c||(c=a,a=e,e=null),e=e||{},i.isIE(8)?c(a):function(a,c){var s=r(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),l=!1,p=window.getComputedStyle(a),u=a.offsetWidth,g=a.offsetHeight;function h(){function n(){if("static"===p.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,i,o){var r=i[o];"auto"!==r&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(r)&&(t.warn("An element that is positioned static has style."+o+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",e.important?"important":""))};n(t,a,p,"top"),n(t,a,p,"right"),n(t,a,p,"bottom"),n(t,a,p,"left")}}""!==p.position&&(n(),l=!0);var r=document.createElement("object");r.style.cssText=s,r.tabIndex=-1,r.type="text/html",r.setAttribute("aria-hidden","true"),r.onload=function(){l||n(),function e(t,n){if(!t.contentDocument){var i=o(t);return i.checkForObjectDocumentTimeoutId&&window.clearTimeout(i.checkForObjectDocumentTimeoutId),void(i.checkForObjectDocumentTimeoutId=setTimeout((function(){i.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){c(a)}))},i.isIE()||(r.data="about:blank"),o(a)&&(a.appendChild(r),o(a).object=r,i.isIE()&&(r.data="about:blank"))}o(a).startSize={width:u,height:g},n?n.add(h):h()}(a,c)},addListener:function(e,t){function n(){t(e)}if(i.isIE(8))o(e).object={proxy:n},e.attachEvent("onresize",n);else{var r=a(e);if(!r)throw new Error("Element is not detectable by this strategy.");r.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(o(e)){var t=a(e);t&&(i.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},GOnX:function(e,t,n){"use strict";var i=e.exports={};i.isIE=function(e){return!(-1===(t=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===t.indexOf("trident")&&-1===t.indexOf(" edge/")||e&&e!==function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},i.isLegacyOpera=function(){return!!window.opera}},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var i=e.get(n);return void 0===i?[]:t[i]||[]}return{get:n,add:function(n,i){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(i)},removeListener:function(e,t){for(var i=n(e),o=0,r=i.length;o<r;++o)if(i[o]===t){i.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var i=n(e);if(!i)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return i.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},mn0Z:function(i,r,c){"use strict";var d;c.r(r),c.d(r,"ViewInternalModule",(function(){return Ku}));var f,v,w,y,_,C=c("ofXK"),O=c("u47x"),k=c("tyNb"),P=c("fXoL"),M=[],z=((f=function e(){m(this,e)}).\u0275mod=P.Nb({type:f}),f.\u0275inj=P.Mb({factory:function(e){return new(e||f)},imports:[[k.i.forChild(M)],k.i]}),f),S=c("vvyD"),D=c("EWj2"),j=c("6n0X"),U=c("AcyG"),I=c("WFQG"),T=c("9Xeq"),V=c("AIoM"),R=c("+pSP"),E=c("yGOH"),L=c("Ow1N"),N=c("aKmd"),$=c("wf0l"),A=c("Wgla"),Q=c("S6v9"),q=c("o0EK"),F=c("lR5k"),H=c("fP/T"),B=c("Wdmj"),W=((v=function e(){m(this,e)}).\u0275mod=P.Nb({type:v}),v.\u0275inj=P.Mb({factory:function(e){return new(e||v)},imports:[[C.c,R.a]]}),v),J=c("oH02"),G=c("PCNd"),K=c("Rc+H"),Y=c("3Pt+"),Z=c("e0tp"),X=((y=function e(){m(this,e)}).\u0275mod=P.Nb({type:y}),y.\u0275inj=P.Mb({factory:function(e){return new(e||y)},imports:[[C.c,S.a,D.a,E.a,R.a,J.a,Z.a,Y.z,K.a,L.a]]}),y),ee=((w=function e(){m(this,e)}).\u0275mod=P.Nb({type:w}),w.\u0275inj=P.Mb({factory:function(e){return new(e||w)},imports:[[U.d.forFeature([I.a]),F.a.forChild(),B.d,C.c,V.a,z,S.a,Y.z,Y.l,D.a,E.a,R.a,T.a,A.a,q.a,j.a,L.a,N.a,$.b,Q.a,H.a,J.a,G.a,W,K.a,X,O.a]]}),w),te=c("uZ1g"),ne=c("XNiG"),ie=c("xgIS"),oe=c("itXk"),re=c("HDdC"),ae=c("VRyK"),ce=c("H7eZ"),se=c("1a36"),le=c("11Ye"),pe=c("pLZG"),ue=c("IzEk"),ge=c("1G5W"),he=c("Kj3r"),de=c("Zy1z"),be=c("lJxs"),fe=c("/uUt"),xe=c("UEjg"),me=c("yCjD"),ve=c("sTHe"),we=c("Mh2x"),ye=c("zlNa"),_e=c("imBb"),Ce=c("7sSR"),Oe=c("Yl/Z"),ke=c("k93M"),Pe=c("q8pu"),Me=c("N0Zw"),ze=function(e){return e[e.Main=0]="Main",e[e.Media=1]="Media",e[e.Tools=2]="Tools",e[e.Whiteboard=3]="Whiteboard",e[e.VisibilityLayers=4]="VisibilityLayers",e[e.Empty=5]="Empty",e}({}),Se=c("LvDl"),De=c("snBo"),je=c("GyhO"),Ue=c("3E0/"),Ie=c("p345"),Te=c("AytR"),Ve=c("CpGW"),Re=c("mmXA"),Ee=c("FFWI"),Le=c("0kAG"),Ne=c("WwWM"),$e=c("zp9f"),Ae=c("WLCt"),Qe=c("XoCC"),qe=c("9AAO"),Fe=c("0njA"),He=c("7gUy"),Be=c("PmOP"),We=c("PlCH"),Je=c("ZULQ"),Ge=c("Vrox"),Ke=c("STbY"),Ye=((_=function(){function e(){m(this,e)}return x(e,[{key:"transform",value:function(e,t){return function(e){if(null==e)return"";var t=new RegExp(/[^a-zA-Z0-9_]/,"gi");return e.replace(t,"_")}(e)}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275pipe=P.Ob({name:"elementID",type:_,pure:!0}),_),Ze=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Xe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},et=["chapterMenu"];function tt(e,t){1&e&&P.kc(0)}function nt(e,t){1&e&&P.Rb(0)}function it(e,t){if(1&e){var n=P.Wb();P.Tb(0),P.Vb(1,"button",5),P.cc("menuOpened",(function(){return P.Cc(n),P.gc().handleMenuOpened()})),P.Nc(2,nt,1,0,"ng-container",6),P.Ub(),P.Sb()}if(2&e){var i=P.gc(),o=P.yc(5),r=P.yc(1);P.Db(1),P.mc("buttonShape",i.buttonShape)("fill",!0)("matMenuTriggerFor",o),P.Db(1),P.mc("ngTemplateOutlet",r)}}function ot(e,t){1&e&&(P.Vb(0,"span",12),P.Pc(1,"current"),P.Ub())}var rt=function(e,t){return{"view-chapters__item--viewed":e,"view-chapters__item--selected":t}};function at(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",7),P.cc("click",(function(){P.Cc(n);var e=t.$implicit;return P.gc().handleChapterClick(e)})),P.hc(1,"elementID"),P.hc(2,"async"),P.Vb(3,"div",8),P.Pc(4),P.Ub(),P.Vb(5,"div",9),P.Pc(6),P.Ub(),P.Nc(7,ot,2,0,"span",10),P.hc(8,"async"),P.Qb(9,"div",11),P.Ub()}if(2&e){var i=t.$implicit,o=t.index,r=P.gc();P.mc("ngClass",P.qc(13,rt,r.isViewed(i.id),i.id===P.ic(2,9,r.selectedChapterId$))),P.Eb("data-chapter-id",P.ic(1,7,i.id)),P.Db(4),P.Rc("",o+1,"."),P.Db(2),P.Qc(i.info.displayName),P.Db(1),P.mc("ngIf",i.id===P.ic(8,11,r.selectedChapterId$)),P.Db(2),P.mc("defaultImage",r.defaultImage)("lazyLoad",r.getChapterThumb(i.id))}}var ct,st=["*"],lt=((ct=function(){function e(t,n){m(this,e),this.store=t,this.viewService=n,this.defaultImage="/assets/images/view-chapter-thumbnail-placeholder.png",this.buttonShape="circle"}return x(e,[{key:"handleChapterClick",value:function(e){this.viewService.selectChapter(e)}},{key:"handleMenuOpened",value:function(){var e=this.store.selectSnapshot(we.a.getSelectedChapterIndex);this.chapterMenu._allItems.toArray()[e].focus()}},{key:"getChapterThumb",value:function(e){var t=this.store.selectSnapshot(Ge.a.getRegisteredThumbnails).get(e);return t?t.snapshot||t.urls.small:""}},{key:"isViewed",value:function(e){return this.store.selectSnapshot(we.a.getChaptersViewed).some((function(t){return t===e}))}}]),e}()).\u0275fac=function(e){return new(e||ct)(P.Pb(U.h),P.Pb(Ne.a))},ct.\u0275cmp=P.Jb({type:ct,selectors:[["app-view-chapters"]],viewQuery:function(e,t){var n;1&e&&P.Jc(et,!0),2&e&&P.xc(n=P.dc())&&(t.chapterMenu=n.first)},inputs:{defaultImage:"defaultImage",buttonShape:"buttonShape"},ngContentSelectors:st,decls:8,vars:7,consts:[["contentTmp",""],[4,"ngIf","ngIfElse"],[1,"view-chapters"],["chapterMenu","matMenu"],["mat-menu-item","","class","view-chapters__item",3,"ngClass","click",4,"ngFor","ngForOf"],["app-pin-button","","buttonAlign","left","buttonType","ghost","data-test","viewChaptersButton",1,"w-100","h-100",3,"buttonShape","fill","matMenuTriggerFor","menuOpened"],[4,"ngTemplateOutlet"],["mat-menu-item","",1,"view-chapters__item",3,"ngClass","click"],[1,"view-chapters__index"],[1,"view-chapters__title"],["class","visually-hidden",4,"ngIf"],[1,"view-chapters__thumb",3,"defaultImage","lazyLoad"],[1,"visually-hidden"]],template:function(e,t){if(1&e&&(P.lc(),P.Nc(0,tt,1,0,"ng-template",null,0,P.Oc),P.Nc(2,it,3,4,"ng-container",1),P.hc(3,"async"),P.Vb(4,"mat-menu",2,3),P.Nc(6,at,10,16,"button",4),P.hc(7,"async"),P.Ub()),2&e){var n,i=P.yc(1);P.Db(2),P.mc("ngIf",(null==(n=P.ic(3,3,t.chapters$))?null:n.length)>1)("ngIfElse",i),P.Db(4),P.mc("ngForOf",P.ic(7,5,t.chapters$))}},directives:[C.p,Ke.a,C.o,qe.a,Ke.d,C.u,Ke.b,C.m,$.a],pipes:[C.b,Ye],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-chapters{min-width:300px;max-height:320px;overflow:auto;padding:8px}.view-chapters button.mat-menu-item{height:auto;font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-chapters button.mat-button-toggle-focus-overlay{display:none}.view-chapters__item{height:auto;white-space:normal;display:flex!important;padding:8px!important;border-radius:4px;border:2px solid transparent;background-color:transparent;color:#131c2a;margin-bottom:4px;transition:background-color 125ms,color 125ms,border 125ms}.view-chapters__item:hover{cursor:pointer;background:#eaeff5}.view-chapters__item--selected{border-color:#2d72dc}.view-chapters__index{display:flex;flex:0 0 32px;justify-content:center}.view-chapters__thumb{background-color:#f9fafd;border-radius:4px;background-repeat:no-repeat;flex:0 0 56px;height:56px;width:56px;transition:border-color .1s}.view-chapters__title{word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;white-space:normal;display:flex;flex:1 1 auto;padding-right:4px}.view-chapters__thumb{background-size:cover}"],encapsulation:2,changeDetection:0}),Ze([Object(U.e)(we.a.getStoryChapters),Xe("design:type",re.a)],ct.prototype,"chapters$",void 0),Ze([Object(U.e)(we.a.getSelectedChapterId),Xe("design:type",re.a)],ct.prototype,"selectedChapterId$",void 0),Ze([Object(U.e)(we.a.getSelectedChapterIndex),Xe("design:type",re.a)],ct.prototype,"selectedChapterIndex$",void 0),Ze([Object(U.e)(Ge.a.getRegisteredThumbnails),Xe("design:type",re.a)],ct.prototype,"thumbnails$",void 0),Ze([Object(U.e)(we.a.getChaptersViewed),Xe("design:type",re.a)],ct.prototype,"chaptersViewed$",void 0),ct),pt=c("YpC8"),ut=c("nhKa"),gt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ht=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dt=function(e){return{"view-description__story-title--large":e}};function bt(e,t){if(1&e&&(P.Vb(0,"h1",7),P.Pc(1),P.Ub()),2&e){var n=P.gc();P.mc("ngClass",P.pc(2,dt,!n.chapterTitle)),P.Db(1),P.Rc(" ",n.storyTitle," ")}}function ft(e,t){if(1&e&&(P.Vb(0,"span"),P.Pc(1),P.hc(2,"async"),P.Ub()),2&e){var n=P.gc();P.Db(1),P.Rc("",P.ic(2,1,n.chapterIndex$)+1,".")}}function xt(e,t){1&e&&P.Qb(0,"app-icon",8)}var mt,vt=function(e,t){return{"view-title--clickable":e,"view-title--large":t}},wt=((mt=function(){function e(t,n){m(this,e),this.layoutService=t,this.changeDetectorRef=n,this._isPopulated=!1,this.isPopulatedChange=new P.p,this._menuEnabled=!0,this.viewLayout=De.a,this.ngUnsubscribe=new ne.a,this.storyTitle="",this.chapterTitle=""}return x(e,[{key:"isPopulated",get:function(){return this._isPopulated},set:function(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)}},{key:"menuEnabled",get:function(){return this._menuEnabled},set:function(e){this._menuEnabled=e}},{key:"ngOnInit",value:function(){this.initContentListener(),this.initLayoutListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"isEnabled",value:function(e){return this.layoutService.isUIEnabled(e)}},{key:"initContentListener",value:function(){var e=this;Object(oe.b)([this.story$,this.chapter$]).pipe(Object(pe.a)((function(e){var t=u(e,2),n=t[0];return null!=t[1]&&null!=n})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=n[0],o=n[1];e.storyTitle=Te.a.application!==Ie.a.Viewer?Je.a.normalize(i.displayName):"",e.chapterTitle=Je.a.normalize(o.info.displayName),e.isPopulated=!!e.chapterTitle||!!e.storyTitle}))}},{key:"initLayoutListener",value:function(){var e=this;this.layout$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.changeDetectorRef.markForCheck()}))}}]),e}()).\u0275fac=function(e){return new(e||mt)(P.Pb(Ae.a),P.Pb(P.i))},mt.\u0275cmp=P.Jb({type:mt,selectors:[["app-view-title"]],viewQuery:function(e,t){var n;1&e&&P.Vc(lt,!0),2&e&&P.xc(n=P.dc())&&(t.chapterListComponentMenu=n.first)},inputs:{size:"size",isPopulated:"isPopulated",menuEnabled:"menuEnabled"},outputs:{isPopulatedChange:"isPopulatedChange"},decls:12,vars:16,consts:[[1,"view-title",3,"ngClass"],["buttonShape","square"],[1,"p-2"],["id","view-title","class","view-title__story",3,"ngClass",4,"ngIf"],["id","view-title",1,"view-title__chapter"],[4,"ngIf"],["icon","caret-down",4,"ngIf"],["id","view-title",1,"view-title__story",3,"ngClass"],["icon","caret-down"]],template:function(e,t){1&e&&(P.Vb(0,"section",0),P.hc(1,"async"),P.Vb(2,"app-view-chapters",1),P.Vb(3,"div",2),P.Nc(4,bt,2,4,"h1",3),P.Vb(5,"h1",4),P.Nc(6,ft,3,3,"span",5),P.hc(7,"async"),P.Pc(8),P.hc(9,"textNormalize"),P.Nc(10,xt,1,0,"app-icon",6),P.hc(11,"async"),P.Ub(),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.mc("ngClass",P.qc(13,vt,P.ic(1,5,t.chapterCount$)>1&&t.menuEnabled,"large"===t.size)),P.Db(4),P.mc("ngIf",t.storyTitle&&t.storyTitle!=t.chapterTitle),P.Db(2),P.mc("ngIf",P.ic(7,7,t.chapterCount$)>1&&t.menuEnabled),P.Db(2),P.Rc(" ",P.ic(9,9,t.chapterTitle)," "),P.Db(2),P.mc("ngIf",P.ic(11,11,t.chapterCount$)>1&&t.menuEnabled))},directives:[C.m,lt,C.p,Fe.a],pipes:[C.b,ut.a],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-title{word-wrap:break-word;overflow-wrap:break-word;border-radius:4px;padding:4px;margin:0 -4px;transition:background-color 125ms}.view-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em}.view-title__story{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;word-wrap:break-word;overflow-wrap:break-word;text-align:left;font-weight:600;color:var(--view-description-secondary-color)}.view-title__chapter{font-size:14px;letter-spacing:.35px;line-height:1.4em;text-align:left;font-weight:600;color:#131c2a}"],encapsulation:2,changeDetection:0}),gt([Object(U.e)(pt.a.getStory),ht("design:type",re.a)],mt.prototype,"story$",void 0),gt([Object(U.e)(we.a.getSelectedChapter),ht("design:type",re.a)],mt.prototype,"chapter$",void 0),gt([Object(U.e)(we.a.getChapterCount),ht("design:type",re.a)],mt.prototype,"chapterCount$",void 0),gt([Object(U.e)(we.a.getSelectedChapterIndex),ht("design:type",re.a)],mt.prototype,"chapterIndex$",void 0),gt([Object(U.e)(I.a.getUI),ht("design:type",re.a)],mt.prototype,"layout$",void 0),mt),yt=c("uDDk"),_t=c("Y7Bv");function Ct(e,t){if(1&e&&(P.Vb(0,"div",2),P.Vb(1,"h2",3),P.Pc(2),P.Ub(),P.kc(3,1,["class","view-panel__actions","actions",""]),P.Ub()),2&e){var n=P.gc();P.Db(2),P.Rc(" ",n.label," ")}}var Ot,kt=["*",[["","actions",""]]],Pt=function(e,t){return{"view-panel--padding-none":e,"view-panel--padding-dense":t}},Mt=["*","[actions]"],zt=((Ot=function(){function e(){m(this,e),this.label="",this.showHeader=!0,this.padding="normal"}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ot)},Ot.\u0275cmp=P.Jb({type:Ot,selectors:[["app-view-panel"]],inputs:{label:"label",showHeader:"showHeader",padding:"padding"},ngContentSelectors:Mt,decls:3,vars:5,consts:[[1,"view-panel",3,"ngClass"],["class","view-panel__header",4,"ngIf"],[1,"view-panel__header"],[1,"view-panel__label"]],template:function(e,t){1&e&&(P.lc(kt),P.Vb(0,"div",0),P.Nc(1,Ct,4,1,"div",1),P.kc(2),P.Ub()),2&e&&(P.mc("ngClass",P.qc(2,Pt,"none"===t.padding,"dense"===t.padding)),P.Db(1),P.mc("ngIf",t.showHeader))},directives:[C.m,C.p],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-panel{border-bottom:1px solid #eaeff5;padding:0 0 32px;margin-bottom:16px}.view-panel--padding-none{padding:0;margin:0}.view-panel--padding-dense{padding:0 0 8px;margin:0 0 8px}.view-panel__label{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;color:#374a68;font-weight:600;display:flex;align-items:center;min-height:28px}.view-panel__header{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-bottom:16px}"],encapsulation:2,changeDetection:0}),Ot),St=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Dt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function jt(e,t){if(1&e&&(P.Vb(0,"div",3),P.Qb(1,"app-html",4),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("markdownText",n.chapterDescription)}}var Ut,It=function(e,t){return{"view-description--layout-column":e,"view-description--layout-drawer":t}},Tt=((Ut=function(){function e(t,n,i){m(this,e),this.viewService=t,this.layoutService=n,this.changeDetectorRef=i,this.viewLayout=De.a,this.ngUnsubscribe=new ne.a,this.storyTitle="",this.chapterTitle="",this.chapterDescription="",this.layout=_t.a.Drawer,this._isPopulated=!1,this.isPopulatedChange=new P.p}return x(e,[{key:"isPopulated",get:function(){return this._isPopulated},set:function(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)}},{key:"ngOnInit",value:function(){this.initContentListener(),this.initLayoutListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"isEnabled",value:function(e){return this.layoutService.isUIEnabled(e)}},{key:"initContentListener",value:function(){var e=this;Object(oe.b)(this.story$,this.chapter$).pipe(Object(pe.a)((function(e){var t=u(e,2),n=t[0],i=t[1];return null!=n&&null!=i})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=n[0],o=n[1];e.storyTitle=Te.a.application!==Ie.a.Viewer?Je.a.normalize(i.displayName):"",e.chapterTitle=Je.a.normalize(o.info.displayName),e.chapterDescription=Object(Se.trim)(o.info.description),e.isPopulated=""!==e.storyTitle||!!e.chapterTitle||!!e.chapterDescription}))}},{key:"initLayoutListener",value:function(){var e=this;this.layout$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.changeDetectorRef.markForCheck()}))}}]),e}()).\u0275fac=function(e){return new(e||Ut)(P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(P.i))},Ut.\u0275cmp=P.Jb({type:Ut,selectors:[["app-view-description"]],inputs:{layout:"layout",isPopulated:"isPopulated"},outputs:{isPopulatedChange:"isPopulatedChange"},decls:4,vars:5,consts:[[1,"view-description",3,"ngClass"],[1,"view-description__inner"],["class","view-description__body",4,"ngIf"],[1,"view-description__body"],[3,"markdownText"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"div",1),P.Vb(2,"section"),P.Nc(3,jt,2,1,"div",2),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.mc("ngClass",P.qc(2,It,"column"===t.layout,"drawer"===t.layout)),P.Db(3),P.mc("ngIf",t.chapterDescription))},directives:[C.m,C.p,He.a],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-description{color:#131c2a;display:flex;flex-direction:column;justify-content:left}.view-description--layout-column .view-description__chapter-title{font-size:18px;letter-spacing:.45px;line-height:1.4em}.view-description--layout-column .view-description__body{padding:4px 8px 12px}.view-description--layout-drawer .view-description__story-title{text-align:center}.view-description--layout-drawer .view-description__story-title--large{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-description--layout-drawer .view-description__body{padding-top:4px}.view-description__inner{flex:1 0 auto}.view-description__story-title{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;word-wrap:break-word;overflow-wrap:break-word;flex-grow:1;font-weight:600;color:#374a68}.view-description__story-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em;text-transform:none}.view-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;padding-top:8px;color:#374a68}"],encapsulation:2,changeDetection:0}),St([Object(U.e)(pt.a.getStory),Dt("design:type",re.a)],Ut.prototype,"story$",void 0),St([Object(U.e)(we.a.getSelectedChapter),Dt("design:type",re.a)],Ut.prototype,"chapter$",void 0),St([Object(U.e)(we.a.getSelectedChapterIndex),Dt("design:type",re.a)],Ut.prototype,"chapterIndex$",void 0),St([Object(U.e)(we.a.getChapterCount),Dt("design:type",re.a)],Ut.prototype,"chapterCount$",void 0),St([Object(U.e)(I.a.getUI),Dt("design:type",re.a)],Ut.prototype,"layout$",void 0),Ut),Vt=c("V7wM");function Rt(e,t){if(1&e&&(P.Vb(0,"div",6),P.Pc(1),P.Ub()),2&e){var n=P.gc().$implicit;P.Db(1),P.Qc(n.description)}}function Et(e,t){if(1&e&&(P.Vb(0,"li",2),P.Qb(1,"div",3),P.Vb(2,"div",4),P.Vb(3,"div"),P.Pc(4),P.Ub(),P.Nc(5,Rt,2,1,"div",5),P.Ub(),P.Ub()),2&e){var n=t.$implicit,i=P.gc();P.Db(1),P.Kc("background-color",i.getComputedColor(n.colors)),P.Db(3),P.Qc(n.label),P.Db(1),P.mc("ngIf",n.description)}}var Lt,Nt=((Lt=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}},{key:"getComputedColor",value:function(e){return Vt.a.rgbToHex(e,!0)}}]),e}()).\u0275fac=function(e){return new(e||Lt)},Lt.\u0275cmp=P.Jb({type:Lt,selectors:[["app-view-legend"]],inputs:{legend:"legend"},decls:2,vars:1,consts:[["aria-label","Legend","role","complementary",1,"view-legend"],["class","view-legend__item",4,"ngFor","ngForOf"],[1,"view-legend__item"],[1,"view-legend__color","mh-2"],[1,"view-legend__content","text-14"],["class","mv-2",4,"ngIf"],[1,"mv-2"]],template:function(e,t){1&e&&(P.Vb(0,"ul",0),P.Nc(1,Et,6,4,"li",1),P.Ub()),2&e&&(P.Db(1),P.mc("ngForOf",t.legend))},directives:[C.o,C.p],styles:['.view-legend{display:flex;flex-direction:column}.view-legend__item{padding:8px 0;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.view-legend__content{display:flex;flex-direction:column}.view-legend__color{content:" ";display:block;flex:0 0 16px;width:16px;height:16px;border-radius:50%}.view-legend__color:after{content:" "}'],encapsulation:2,changeDetection:0}),Lt),$t=c("2o60"),At=c("A+8E"),Qt=c("2he+"),qt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ft=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ht=function(e){return{"view-labels__item--selected":e}};function Bt(e,t){if(1&e){var n=P.Wb();P.Vb(0,"li"),P.Vb(1,"button",2),P.cc("click",(function(){P.Cc(n);var e=t.$implicit;return P.gc().handleLabelClick(e)}))("keyup.enter",(function(){P.Cc(n);var e=t.$implicit;return P.gc().handleLabelClick(e)})),P.hc(2,"async"),P.hc(3,"async"),P.Vb(4,"span",3),P.Pc(5,"Navigate to description for, "),P.Ub(),P.Vb(6,"div",4),P.Vb(7,"div",5),P.Qb(8,"app-label-pin",6),P.Ub(),P.Ub(),P.Vb(9,"div",7),P.Qb(10,"div",8),P.hc(11,"markdown"),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i,o,r=t.$implicit,a=P.gc();P.Db(1),P.mc("ngClass",P.pc(11,Ht,(null==(i=P.ic(2,5,a.selectedLabel$))?null:i.id)===r.id)),P.Eb("aria-current",(null==(o=P.ic(3,7,a.selectedLabel$))?null:o.id)===r.id),P.Db(7),P.mc("label",r)("sequence",a.getLabelSequence(r)),P.Db(2),P.mc("innerHTML",P.ic(11,9,r.title),P.Dc)}}var Wt,Jt=((Wt=function(){function e(t,n){m(this,e),this.viewService=t,this.store=n,this.labelPinType=$t.a,this.labelSequentialtype=At.a}return x(e,[{key:"ngOnInit",value:function(){}},{key:"getLabelSequence",value:function(e){return this.store.selectSnapshot(Me.a.getLabelSequence(e))}},{key:"handleLabelClick",value:function(e){this.viewService.selectLabel(e,!0)}}]),e}()).\u0275fac=function(e){return new(e||Wt)(P.Pb(Ne.a),P.Pb(U.h))},Wt.\u0275cmp=P.Jb({type:Wt,selectors:[["app-view-labels"]],decls:3,vars:3,consts:[[1,"view-labels"],[4,"ngFor","ngForOf"],[1,"view-labels__item",3,"ngClass","click","keyup.enter"],[1,"visually-hidden"],[1,"view-labels__pre"],[1,"view-labels__pin"],[3,"label","sequence"],[1,"view-labels__body"],[1,"view-labels__title","html",3,"innerHTML"]],template:function(e,t){1&e&&(P.Vb(0,"ul",0),P.Nc(1,Bt,12,13,"li",1),P.hc(2,"async"),P.Ub()),2&e&&(P.Db(1),P.mc("ngForOf",P.ic(2,1,t.labels$)))},directives:[C.o,C.m,Qt.a],pipes:[C.b,F.b],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-labels__item{background:none;border:0;border-left:4px solid transparent;border-radius:2px;display:flex;padding:12px 8px;margin-bottom:4px;cursor:pointer;transition:background-color 125ms,color 125ms,border 125ms;width:100%;text-align:left}.view-labels__item:focus{outline:2px solid #2d72dc!important}.view-labels__item:hover{background:#eaeff5}.view-labels__item--selected{background:#f0f8ff;border-left:4px solid #2d72dc}.view-labels__item--selected:hover{background:#f0f8ff}.view-labels__pre{flex:0 0 32px;display:flex;justify-content:center;position:relative}.view-labels__pin{display:flex;align-items:center;justify-content:center;position:absolute}.view-labels__title{color:#131c2a}.view-labels__description,.view-labels__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-labels__description{color:#374a68;padding-top:4px}.view-labels__label{position:absolute;font-size:10px;top:3px}"],encapsulation:2,changeDetection:0}),qt([Object(U.e)(Me.a.getChapterLabels),Ft("design:type",re.a)],Wt.prototype,"labels$",void 0),qt([Object(U.e)(Me.a.getSelectedLabel),Ft("design:type",re.a)],Wt.prototype,"selectedLabel$",void 0),Wt),Gt=c("Qu3c"),Kt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Yt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Zt(e,t){if(1&e&&(P.Vb(0,"div"),P.Qb(1,"app-content-blocks",7),P.hc(2,"async"),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("contentBlocks",P.ic(2,2,n.contentBlocks$))("include",n.contentBlockTypes.Ticker)}}function Xt(e,t){if(1&e&&(P.Vb(0,"div"),P.Qb(1,"app-content-blocks",8),P.hc(2,"async"),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("contentBlocks",P.ic(2,2,n.contentBlocks$))("exclude",n.contentBlockTypes.Ticker)}}function en(e,t){if(1&e){var n=P.Wb();P.Vb(0,"app-view-panel",4),P.Nc(1,Zt,3,4,"div",5),P.hc(2,"async"),P.Vb(3,"app-view-description",6),P.cc("isPopulatedChange",(function(e){return P.Cc(n),P.gc().isPopulated=e})),P.Ub(),P.Nc(4,Xt,3,4,"div",5),P.hc(5,"async"),P.Ub()}if(2&e){var i,o,r=P.gc();P.mc("showHeader",!1)("hidden",!r.isPopulated),P.Db(1),P.mc("ngIf",(null==(i=P.ic(2,6,r.contentBlocks$))?null:i.length)>0),P.Db(2),P.mc("isPopulated",r.isPopulated)("layout",r.layout),P.Db(1),P.mc("ngIf",(null==(o=P.ic(5,8,r.contentBlocks$))?null:o.length)>0)}}function tn(e,t){if(1&e&&(P.Vb(0,"app-view-panel",9),P.Qb(1,"app-view-legend",10),P.hc(2,"async"),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("legend",P.ic(2,1,n.chapter$).legend)}}function nn(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",13),P.Vb(1,"button",14),P.cc("click",(function(){return P.Cc(n),P.gc(2).handlePrevClick()})),P.Ub(),P.Vb(2,"button",15),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleNextClick()})),P.Ub(),P.Ub()}}function on(e,t){if(1&e&&(P.Vb(0,"app-view-panel",11),P.Nc(1,nn,3,0,"div",12),P.hc(2,"async"),P.Qb(3,"app-view-labels"),P.Ub()),2&e){var n,i=P.gc();P.Db(1),P.mc("ngIf",(null==(n=P.ic(2,1,i.labels$))?null:n.length)>1)}}var rn,an=((rn=function(){function e(t,n,i,o){m(this,e),this.store=t,this.viewService=n,this.layoutService=i,this.changeDetectorRef=o,this.ngUnsubscribe=new ne.a,this.layout=_t.a.Column,this.viewLayout=De.a,this.isPopulated=!0,this.descriptionVisible=!1,this.legendVisible=!1,this.labelListVisible=!1,this.contentBlockTypes=yt.a}return x(e,[{key:"ngOnInit",value:function(){var e=this;this.store.select(I.a.getUI).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.descriptionVisible=e.isVisible(De.a.Description),e.legendVisible=e.isVisible(De.a.Legend),e.labelListVisible=e.isVisible(De.a.LabelList),e.changeDetectorRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"isVisible",value:function(e){return this.layoutService.isUIVisible(e)}},{key:"isEnabled",value:function(e){return this.layoutService.isUIEnabled(e)}},{key:"handlePrevClick",value:function(){this.selectLabel(-1)}},{key:"handleNextClick",value:function(){this.selectLabel(1)}},{key:"selectLabel",value:function(e){var t=this.store.selectSnapshot(Me.a.getChapterLabels),n=t.length,i=this.store.selectSnapshot(Me.a.getSelectedLabelId),o=t.findIndex((function(e){return e.id===i})),r=t[((-1!==o?o+e:0)%n+n)%n];r&&this.viewService.selectLabel(r,!0)}}]),e}()).\u0275fac=function(e){return new(e||rn)(P.Pb(U.h),P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(P.i))},rn.\u0275cmp=P.Jb({type:rn,selectors:[["app-view-content-mode"]],inputs:{layout:"layout"},decls:7,vars:9,consts:[[1,"view-content-mode"],["role","complementary","aria-describedby","view-title",3,"showHeader","hidden",4,"ngIf"],["label","Legend",4,"ngIf"],["label","Labels","role","complementary","aria-label","Labels",4,"ngIf"],["role","complementary","aria-describedby","view-title",3,"showHeader","hidden"],[4,"ngIf"],[3,"isPopulated","layout","isPopulatedChange"],[3,"contentBlocks","include"],[3,"contentBlocks","exclude"],["label","Legend"],[3,"legend"],["label","Labels","role","complementary","aria-label","Labels"],["actions","","class","flex",4,"ngIf"],["actions","",1,"flex"],["app-pin-button","","icon","chevron-left","size","small","buttonType","ghost","aria-label","Previous Label","matTooltip","Previous Label","data-test","previousLabelButton",3,"click"],["app-pin-button","","icon","chevron-right","size","small","buttonType","ghost","aria-label","Next Label","matTooltip","Next Label","data-test","nextLabelButton",3,"click"]],template:function(e,t){if(1&e&&(P.Vb(0,"div",0),P.Nc(1,en,6,10,"app-view-panel",1),P.Nc(2,tn,3,3,"app-view-panel",2),P.hc(3,"async"),P.hc(4,"async"),P.Nc(5,on,4,3,"app-view-panel",3),P.hc(6,"async"),P.Ub()),2&e){var n,i=null;P.Db(1),P.mc("ngIf",t.descriptionVisible),P.Db(1),P.mc("ngIf",(null==(i=P.ic(3,3,t.chapter$))?null:i.legend)&&(null==(i=P.ic(4,5,t.chapter$))?null:i.legend.length)>0&&t.legendVisible),P.Db(3),P.mc("ngIf",(null==(n=P.ic(6,7,t.labels$))?null:n.length)&&t.labelListVisible)}},directives:[C.p,zt,Tt,We.a,Nt,Jt,qe.a,Gt.c],pipes:[C.b],styles:[".view-content-mode[_ngcontent-%COMP%]{padding-bottom:24px}"],changeDetection:0}),Kt([Object(U.e)(we.a.getStoryChapters),Yt("design:type",re.a)],rn.prototype,"chapters$",void 0),Kt([Object(U.e)(we.a.getSelectedChapter),Yt("design:type",re.a)],rn.prototype,"chapter$",void 0),Kt([Object(U.e)(we.a.getSelectedChapterContentBlocks),Yt("design:type",re.a)],rn.prototype,"contentBlocks$",void 0),Kt([Object(U.e)(Me.a.getChapterLabels),Yt("design:type",re.a)],rn.prototype,"labels$",void 0),rn),cn=c("5miH"),sn=c("TATr"),ln=c("WUhe"),pn=c("VJvM"),un=c("3fyd"),gn=c("PUI9"),hn=c("GMXD"),dn=c("gm/O"),bn=c("Xk3F"),fn=c("0UUK"),xn=c("eW6i"),mn=c("kTA6");function vn(e,t){if(1&e&&(P.Vb(0,"span"),P.Pc(1),P.Ub()),2&e){var n=P.gc();P.Db(1),P.Rc(" of ",n.total,"")}}var wn,yn=((wn=function(){function e(){m(this,e),this.index=0,this.total=0}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||wn)},wn.\u0275cmp=P.Jb({type:wn,selectors:[["app-view-quiz-progress"]],inputs:{index:"index",total:"total"},decls:4,vars:2,consts:[["data-test","quizProgress",1,"view-quiz-progress"],[1,"text-semibold"],[4,"ngIf"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"span",1),P.Pc(2),P.Ub(),P.Nc(3,vn,2,1,"span",2),P.Ub()),2&e&&(P.Db(2),P.Rc("Question ",t.index+1,""),P.Db(1),P.mc("ngIf",t.total>1))},directives:[C.p],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.view-quiz-progress[_ngcontent-%COMP%]{color:#374a68;font-size:12px;letter-spacing:.3px;line-height:1.4em}"],changeDetection:0}),wn),_n=c("QibW"),Cn=c("7u76"),On=c("yIGu"),kn=c("F+jD");function Pn(e,t){if(1&e&&(P.Vb(0,"app-list-item"),P.Vb(1,"div",1),P.Pc(2),P.Ub(),P.Ub()),2&e){var n=t.$implicit;P.Db(1),P.Eb("data-id",n.id),P.Db(1),P.Qc(n.label)}}var Mn,zn,Sn=((Mn=function(){function e(t,n,i){m(this,e),this.store=t,this.graphService=n,this.changeRef=i}return x(e,[{key:"objectIds",get:function(){return this._objectIds},set:function(e){this._objectIds=e;var t=this.store.selectSnapshot(gn.a.getViewGraph);this.nodes=this.graphService.getNodes(t,e),this.changeRef.markForCheck()}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Mn)(P.Pb(U.h),P.Pb(Cn.a),P.Pb(P.i))},Mn.\u0275cmp=P.Jb({type:Mn,selectors:[["app-view-quiz-object-tree"]],inputs:{objectIds:"objectIds"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-14","text-medium","mv-1"]],template:function(e,t){1&e&&(P.Vb(0,"app-list"),P.Nc(1,Pn,3,2,"app-list-item",0),P.Ub()),2&e&&(P.Db(1),P.mc("ngForOf",t.nodes))},directives:[On.a,C.o,kn.a],styles:[""],changeDetection:0}),Mn),Dn=c("GW3K"),jn=((zn=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||zn)},zn.\u0275cmp=P.Jb({type:zn,selectors:[["app-view-quiz-answer-number"]],inputs:{number:"number"},decls:3,vars:1,consts:[[1,"number","text-10","text-medium"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"div"),P.Pc(2),P.Ub(),P.Ub()),2&e&&(P.Db(2),P.Qc(t.number))},styles:[".number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;color:#131c2a;border:1px solid rgba(55,74,104,.5);border-radius:50%}"],changeDetection:0}),zn),Un=c("EFPM"),In=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Tn(e,t){if(1&e&&(P.Vb(0,"div",3),P.Vb(1,"div",4),P.Qb(2,"app-view-quiz-answer-number",5),P.Ub(),P.Vb(3,"div",6),P.Qb(4,"app-quiz-label-anatomy-select",7),P.Ub(),P.Ub()),2&e){var n=t.index,i=P.gc();P.Db(2),P.mc("number",n+1),P.Db(2),P.mc("options",i.options)("formControlName",n)}}var Vn,Rn=((Vn=function(){function e(t){m(this,e),this.formBuilder=t,this.valueChange=new P.p,this.ngUnsubscribe=new ne.a,this._options=[],this.form=this.formBuilder.group({options:this.formBuilder.array([])}),this.optionsArray=this.form.get("options")}return x(e,[{key:"options",get:function(){return this._options},set:function(e){Object(Se.isEqual)(e,this._options)||(this._options=e,this.buildFormOptions(e))}},{key:"ngOnInit",value:function(){this.initFormListeners(),this.init()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initFormListeners",value:function(){var e=this;this.form.valueChanges.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.options;e.valueChange.next(n)}))}},{key:"init",value:function(){var e=this;this.activeSubmission$.pipe(Object(pe.a)((function(e){return!Object(Se.isNil)(e)&&!Object(Se.isNil)(e.answer)})),Object(de.a)(),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=n[0],o=n[1],r=Object(Dn.b)(i.answer||[],o.answer||[],"");Object(Se.isEqual)(o,r)||e.form.patchValue({options:r||[]})})),this.activeSubmission$.pipe(Object(pe.a)((function(e){return!Object(Se.isNil)(e)&&!Object(Se.isNil)(e.answer)&&Array.isArray(e.answer)})),Object(fe.a)((function(e,t){return Object(Se.isEqual)(e,t)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.form.value.options,i=t.answer;Object(Se.isEqual)(n,i)||e.form.patchValue({options:i},{emitEvent:!1,onlySelf:!0})}))}},{key:"buildFormOptions",value:function(e){var t=this;this.optionsArray.clear(),e.forEach((function(){t.optionsArray.push(t.formBuilder.control(""))})),this.optionsArray.setValue(e.map((function(){return""})))}}]),e}()).\u0275fac=function(e){return new(e||Vn)(P.Pb(Y.f))},Vn.\u0275cmp=P.Jb({type:Vn,selectors:[["app-view-quiz-label-anatomy"]],inputs:{options:"options"},outputs:{valueChange:"valueChange"},decls:3,vars:2,consts:[[1,"options",3,"formGroup"],["formArrayName","options"],["class","options__item mb-4","data-test","questionAnswer",4,"ngFor","ngForOf"],["data-test","questionAnswer",1,"options__item","mb-4"],[1,"mr-2"],[3,"number"],[1,"options__item-select"],[3,"options","formControlName"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"div",1),P.Nc(2,Tn,5,3,"div",2),P.Ub(),P.Ub()),2&e&&(P.mc("formGroup",t.form),P.Db(2),P.mc("ngForOf",t.options))},directives:[Y.s,Y.j,Y.e,C.o,jn,Un.a,Y.r,Y.i],styles:[".options__item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.options__item-select[_ngcontent-%COMP%]{border:1px solid #96a8c0;border-radius:4px;flex:1 1 auto}"],changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(Ee.b.getActiveSubmission),In("design:type",re.a)],Vn.prototype,"activeSubmission$",void 0),Vn),En=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ln=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Nn(e,t){if(1&e&&(P.Vb(0,"mat-radio-button",8),P.Pc(1),P.Ub()),2&e){var n=t.$implicit;P.mc("value",n.value),P.Db(1),P.Rc(" ",n.label," ")}}function $n(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div"),P.Vb(1,"mat-radio-group",6),P.cc("change",(function(e){return P.Cc(n),P.gc(2).handleMultipleChoiceChange(e)})),P.Nc(2,Nn,2,2,"mat-radio-button",7),P.Ub(),P.Ub()}if(2&e){var i=P.gc(2);P.Db(2),P.mc("ngForOf",i.question.data.options)}}function An(e,t){if(1&e&&(P.Vb(0,"div",10),P.Qb(1,"app-view-quiz-object-tree",11),P.Ub()),2&e){var n=P.gc(3);P.Db(1),P.mc("objectIds",n.question.data.correctAnswer)}}function Qn(e,t){if(1&e&&(P.Vb(0,"div"),P.Nc(1,An,2,1,"div",9),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngIf",n.question.data.showAnswerList)}}function qn(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div"),P.Vb(1,"app-view-quiz-label-anatomy",12),P.cc("valueChange",(function(e){return P.Cc(n),P.gc(2).handleLabelAnatomyChanges(e)})),P.Ub(),P.Ub()}if(2&e){var i=P.gc(2);P.Db(1),P.mc("options",i.question.data.options)}}function Fn(e,t){if(1&e&&(P.Vb(0,"div",1),P.Vb(1,"div",2),P.Qb(2,"app-content-blocks",3),P.Ub(),P.Vb(3,"div",4),P.Nc(4,$n,3,1,"div",5),P.Nc(5,Qn,2,1,"div",5),P.Nc(6,qn,2,1,"div",5),P.Ub(),P.Ub()),2&e){var n=P.gc();P.Db(2),P.mc("contentBlocks",n.question.questionPrompt),P.Db(1),P.mc("ngSwitch",n.question.type),P.Db(1),P.mc("ngSwitchCase",n.QuestionType.MultipleChoice),P.Db(1),P.mc("ngSwitchCase",n.QuestionType.SelectAnatomy),P.Db(1),P.mc("ngSwitchCase",n.QuestionType.LabelAnatomy)}}var Hn,Bn=((Hn=function(){function e(t,n){m(this,e),this.changeRef=t,this.viewService=n,this.disabled=!1,this.QuestionType=un.a,this.ngUnsubscribe=new ne.a}return x(e,[{key:"question",get:function(){return this._question},set:function(e){this._question=e,this.initQuestionListeners()}},{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.onChange(e)}},{key:"handleMultipleChoiceChange",value:function(e){this.writeValue(e.value)}},{key:"handleLabelAnatomyChanges",value:function(e){this.writeValue(e)}},{key:"ngOnInit",value:function(){}},{key:"initQuestionListeners",value:function(){switch(this.question.type){case un.a.SelectAnatomy:this.initSelectAnatomyListeners(),this.viewService.toggleToolbar("tools");break;case un.a.Instructions:this.initInstructions(),this.viewService.toggleToolbar("none");break;default:this.viewService.toggleToolbar("none")}}},{key:"initSelectAnatomyListeners",value:function(){var e=this;this.checkedNodesIds$.pipe(Object(fe.a)((function(e,t){return Object(Se.isEqual)(e,t)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.writeValue(t),e.changeRef.markForCheck()}))}},{key:"initInstructions",value:function(){var e=this;setTimeout((function(){e.writeValue("-"),e.changeRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onChange",value:function(e){}},{key:"onTouched",value:function(){}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"writeValue",value:function(e){this.value=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),e}()).\u0275fac=function(e){return new(e||Hn)(P.Pb(P.i),P.Pb(Ne.a))},Hn.\u0275cmp=P.Jb({type:Hn,selectors:[["app-view-quiz-question"]],inputs:{question:"question",value:"value"},features:[P.Cb([{provide:Y.p,useExisting:Object(P.W)((function(){return Hn})),multi:!0}])],decls:1,vars:1,consts:[["class","view-quiz-question text-14 mb-8","data-test","question",4,"ngIf"],["data-test","question",1,"view-quiz-question","text-14","mb-8"],["data-test","questionPrompt",1,"view-quiz-question__prompt","mb-4"],[3,"contentBlocks"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-column",3,"change"],["data-test","questionAnswer","class","view-quiz-question__option",3,"value",4,"ngFor","ngForOf"],["data-test","questionAnswer",1,"view-quiz-question__option",3,"value"],["class","ml-3",4,"ngIf"],[1,"ml-3"],[3,"objectIds"],[3,"options","valueChange"]],template:function(e,t){1&e&&P.Nc(0,Fn,7,5,"div",0),2&e&&P.mc("ngIf",t.question)},directives:[C.p,We.a,C.r,C.s,_n.b,C.o,_n.a,Sn,Rn],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-quiz-question__option{font-size:14px;letter-spacing:.35px;line-height:1.4em;padding:12px 0 12px 12px}.view-quiz-question__option,.view-quiz-question__option>*{white-space:normal!important}.view-quiz-question__option .mat-radio-label{align-items:flex-start!important}.view-quiz-question__option .mat-radio-label-content{padding-left:12px!important}"],encapsulation:2,changeDetection:0}),En([Object(U.e)(hn.a.getCheckedNodeIds),Ln("design:type",re.a)],Hn.prototype,"checkedNodesIds$",void 0),En([Object(U.e)(Ee.b.getActiveSubmission),Ln("design:type",re.a)],Hn.prototype,"activeSubmission$",void 0),Hn),Wn=c("IlST");function Jn(e,t){1&e&&P.Qb(0,"app-icon",6)}function Gn(e,t){1&e&&P.Qb(0,"app-icon",7)}function Kn(e,t){1&e&&(P.Vb(0,"span",8),P.Qb(1,"span",9),P.Ub())}c("vCxQ");var Yn,Zn=["*"],Xn=((Yn=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Yn)},Yn.\u0275cmp=P.Jb({type:Yn,selectors:[["app-view-quiz-answer-option"]],inputs:{correct:"correct"},ngContentSelectors:Zn,decls:7,vars:7,consts:[["data-test","answerOptionContainer",1,"option"],[1,"flex","relative",3,"ngSwitch"],["class","option__icon option__icon--correct","style","font-size: 20px","icon","check-circle",4,"ngSwitchCase"],["class","option__icon option__icon--incorrect","style","font-size: 20px","icon","times-circle",4,"ngSwitchCase"],["class","option__icon",4,"ngSwitchDefault"],[1,"pl-2"],["icon","check-circle",1,"option__icon","option__icon--correct",2,"font-size","20px"],["icon","times-circle",1,"option__icon","option__icon--incorrect",2,"font-size","20px"],[1,"option__icon"],[1,"mat-radio-outer-circle"]],template:function(e,t){1&e&&(P.lc(),P.Vb(0,"div",0),P.Vb(1,"div",1),P.Nc(2,Jn,1,0,"app-icon",2),P.Nc(3,Gn,1,0,"app-icon",3),P.Nc(4,Kn,2,0,"span",4),P.Vb(5,"div",5),P.kc(6),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.Hb("option--correct",!0===t.correct)("option--incorrect",!1===t.correct),P.Db(1),P.mc("ngSwitch",t.correct),P.Db(1),P.mc("ngSwitchCase",!0),P.Db(1),P.mc("ngSwitchCase",!1))},directives:[C.r,C.s,C.t,Fe.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.option[_ngcontent-%COMP%]{padding:12px;border-radius:4px;margin-bottom:8px;color:#131c2a}.option--correct[_ngcontent-%COMP%]{border:1px solid #83e692;background-color:#f0fff0}.option--incorrect[_ngcontent-%COMP%]{border:1px solid #f44336;background-color:#ffe2db}.option__icon[_ngcontent-%COMP%]{position:relative;flex:0 0 20px;justify-content:center}.option__icon--correct[_ngcontent-%COMP%]{color:#83e692}.option__icon--incorrect[_ngcontent-%COMP%]{color:#f44336}"],changeDetection:0}),Yn);function ei(e,t){if(1&e&&(P.Vb(0,"div"),P.Vb(1,"app-view-quiz-answer-option",1),P.Vb(2,"div",2),P.Pc(3),P.Ub(),P.Ub(),P.Ub()),2&e){var n=t.$implicit,i=P.gc();P.Db(1),P.mc("correct",i.isOptionAnswerCorrect(i.question,n.value,i.answer)),P.Db(2),P.Rc(" ",n.label," ")}}var ti,ni=((ti=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}},{key:"isOptionAnswerCorrect",value:function(e,t,n){var i=Object(bn.h)(e,[t]);return t===n[0]||i?i:void 0}}]),e}()).\u0275fac=function(e){return new(e||ti)},ti.\u0275cmp=P.Jb({type:ti,selectors:[["app-view-quiz-multiple-choice-answer"]],inputs:{question:"question",answer:"answer",summary:"summary"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"correct"],[1,"text-semibold"]],template:function(e,t){1&e&&P.Nc(0,ei,4,2,"div",0),2&e&&P.mc("ngForOf",t.question.data.options)},directives:[C.o,Xn],styles:[""],changeDetection:0}),ti),ii=c("EF3F");function oi(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",6),P.Vb(1,"button",7),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleSelectedObjectsClick(e.answer)})),P.Pc(2," Highlight My Answer "),P.Ub(),P.Vb(3,"button",8),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleCorrectObjectsClick(e.question.data.correctAnswer)})),P.Pc(4," Highlight Correct Answer "),P.Ub(),P.Ub()}}var ri,ai=((ri=function(){function e(t,n,i){m(this,e),this.graphService=t,this.viewService=n,this.store=i}return x(e,[{key:"isCorrect",get:function(){return Object(bn.h)(this.question,this.answer)}},{key:"fadeNonselected",value:function(e){var t=this.store.selectSnapshot(gn.a.getViewGraph),n=this.graphService.getInverseSelection(t,e),i=this.graphService.getNodes(t,n);this.store.dispatch(new dn.a.UpdateNodesPaint(ii.b,i.map((function(e){return e.id}))))}},{key:"handleCorrectObjectsClick",value:function(e){this.highlightNodes(e)}},{key:"handleSelectedObjectsClick",value:function(e){this.highlightNodes(e)}},{key:"highlightNodes",value:function(e){var t=e.filter((function(e){return e&&""!==e}));this.resetSelectAndFade(),this.repositionCamera(t),this.fadeNonselected(t)}},{key:"repositionCamera",value:function(e){1===e.length?this.store.dispatch(new le.j(e[0])):this.viewService.resetCamera()}},{key:"resetSelectAndFade",value:function(){this.viewService.clearSelectedNodes(),this.viewService.clearFadedNodes()}}]),e}()).\u0275fac=function(e){return new(e||ri)(P.Pb(Cn.a),P.Pb(Ne.a),P.Pb(U.h))},ri.\u0275cmp=P.Jb({type:ri,selectors:[["app-view-quiz-select-anatomy-answer"]],inputs:{question:"question",answer:"answer",summary:"summary"},decls:9,vars:4,consts:[[3,"correct"],["selectAnatomyAnswer",""],[1,"flex","flex-column","text-semibold"],[1,"mt-2","ml-2"],[3,"objectIds"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["buttonType","outline","buttonTheme","light","app-button","","data-test","highlightUserAnswers",1,"w-100","mv-2",3,"click"],["buttonType","outline","buttonTheme","light","app-button","","data-test","highlightCorrectAnswers",1,"w-100","mv-2",3,"click"]],template:function(e,t){if(1&e&&(P.Vb(0,"div"),P.Vb(1,"app-view-quiz-answer-option",0,1),P.Vb(3,"div",2),P.Vb(4,"div"),P.Pc(5),P.Ub(),P.Vb(6,"div",3),P.Qb(7,"app-view-quiz-object-tree",4),P.Ub(),P.Ub(),P.Ub(),P.Nc(8,oi,5,0,"div",5),P.Ub()),2&e){var n=P.yc(2);P.Db(1),P.mc("correct",t.isCorrect),P.Db(4),P.Rc("",n.correct?"Correct":"Incorrect","! You selected:"),P.Db(2),P.mc("objectIds",t.answer),P.Db(1),P.mc("ngIf",!t.summary&&!t.isCorrect)}},directives:[Xn,Sn,C.p,Wn.a],styles:[""],changeDetection:0}),ri);function ci(e,t){if(1&e&&(P.Vb(0,"div",9),P.Pc(1),P.Ub()),2&e){var n=P.gc().$implicit;P.Db(1),P.Rc(" ",n.label.title," ")}}function si(e,t){if(1&e&&(P.Vb(0,"div"),P.Pc(1," You selected "),P.Vb(2,"em",9),P.Pc(3),P.Ub(),P.Pc(4,". "),P.Ub(),P.Vb(5,"div",10),P.Pc(6," This is the "),P.Vb(7,"em",9),P.Pc(8),P.Ub(),P.Pc(9,". "),P.Ub()),2&e){var n=P.gc(),i=n.index,o=n.$implicit,r=P.gc();P.Db(3),P.Qc(r.getSelectedUserOption(i).label.title.trim()),P.Db(5),P.Qc(o.label.title.trim())}}function li(e,t){if(1&e&&(P.Vb(0,"div",1),P.Vb(1,"div",2),P.Qb(2,"app-view-quiz-answer-number",3),P.Ub(),P.Vb(3,"div",4),P.Vb(4,"app-view-quiz-answer-option",5,6),P.Nc(6,ci,2,1,"div",7),P.Nc(7,si,10,2,"ng-template",null,8,P.Oc),P.Ub(),P.Ub(),P.Ub()),2&e){var n=t.index,i=P.yc(5),o=P.yc(8),r=P.gc();P.Db(2),P.mc("number",n+1),P.Db(2),P.mc("correct",r.isOptionAnswerCorrect(n)),P.Db(2),P.mc("ngIf",i.correct)("ngIfElse",o)}}var pi,ui=((pi=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}},{key:"isOptionAnswerCorrect",value:function(e){return this.answer[e]===this.question.data.correctAnswer[e]}},{key:"getSelectedUserOption",value:function(e){var t=this.answer[e];return this.question.data.options.find((function(e){return e.value===t}))}}]),e}()).\u0275fac=function(e){return new(e||pi)},pi.\u0275cmp=P.Jb({type:pi,selectors:[["app-view-quiz-label-anatomy-answer"]],inputs:{question:"question",answer:"answer",summary:"summary"},decls:1,vars:1,consts:[["class","answers",4,"ngFor","ngForOf"],[1,"answers"],[1,"mt-2","mr-2"],[3,"number"],[1,"answers__option"],[3,"correct"],["answerOption",""],["class","text-semibold",4,"ngIf","ngIfElse"],["falseBlock",""],[1,"text-semibold"],[1,"mt-1"]],template:function(e,t){1&e&&P.Nc(0,li,9,4,"div",0),2&e&&P.mc("ngForOf",t.question.data.options)},directives:[C.o,jn,Xn,C.p],styles:[".answers[_ngcontent-%COMP%]{display:flex;flex-direction:row}.answers__option[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0}),pi);function gi(e,t){if(1&e&&(P.Vb(0,"div",7),P.Pc(1),P.Ub()),2&e){var n=P.gc();P.Db(1),P.Rc("",n.questionNumber,".")}}function hi(e,t){if(1&e&&(P.Vb(0,"div"),P.Qb(1,"app-view-quiz-multiple-choice-answer",8),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("question",n.question)("answer",n.answer)("summary",n.summary)}}function di(e,t){if(1&e&&(P.Vb(0,"div"),P.Qb(1,"app-view-quiz-select-anatomy-answer",8),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("question",n.question)("answer",n.answer)("summary",n.summary)}}function bi(e,t){if(1&e&&(P.Vb(0,"div"),P.Qb(1,"app-view-quiz-label-anatomy-answer",8),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("question",n.question)("answer",n.answer)("summary",n.summary)}}var fi,xi,mi=((fi=function(){function e(t){m(this,e),this.store=t,this.QuestionType=un.a}return x(e,[{key:"ngOnInit",value:function(){this.initAnswerConfig()}},{key:"initAnswerConfig",value:function(){var e=this.question.type;this.store.dispatch(new ln.a.SetQuizPickMode(e===un.a.SelectAnatomy?"none":"single"))}}]),e}()).\u0275fac=function(e){return new(e||fi)(P.Pb(U.h))},fi.\u0275cmp=P.Jb({type:fi,selectors:[["app-view-quiz-answer"]],inputs:{question:"question",questionNumber:"questionNumber",answer:"answer",summary:"summary"},decls:11,vars:7,consts:[["data-test","answer",1,"answer"],[1,"answer__prompt"],["class","mr-1",4,"ngIf"],[3,"contentBlocks"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"answer__explanation"],[1,"mr-1"],[3,"question","answer","summary"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"div",1),P.Nc(2,gi,2,1,"div",2),P.Vb(3,"div"),P.Qb(4,"app-content-blocks",3),P.Ub(),P.Ub(),P.Vb(5,"div",4),P.Nc(6,hi,2,3,"div",5),P.Nc(7,di,2,3,"div",5),P.Nc(8,bi,2,3,"div",5),P.Ub(),P.Vb(9,"div",6),P.Qb(10,"app-content-blocks",3),P.Ub(),P.Ub()),2&e&&(P.Db(2),P.mc("ngIf",t.questionNumber),P.Db(2),P.mc("contentBlocks",t.question.questionPrompt),P.Db(1),P.mc("ngSwitch",t.question.type),P.Db(1),P.mc("ngSwitchCase",t.QuestionType.MultipleChoice),P.Db(1),P.mc("ngSwitchCase",t.QuestionType.SelectAnatomy),P.Db(1),P.mc("ngSwitchCase",t.QuestionType.LabelAnatomy),P.Db(2),P.mc("contentBlocks",t.question.explanation))},directives:[C.p,We.a,C.r,C.s,ni,ai,ui],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.answer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.answer__prompt[_ngcontent-%COMP%]{display:flex;padding-bottom:16px}.answer__explanation[_ngcontent-%COMP%]{padding-top:24px}"],changeDetection:0}),fi),vi=c("ECVi"),wi=c("Iab2"),yi=c("wOnQ"),_i=c.n(yi),Ci=c("f3gM"),Oi=c("nclC"),ki=["progressCircle"],Pi=((xi=function(){function e(t,n){m(this,e),this.renderer=t,this.changeRef=n,this._size="medium",this._progress=0,this.strokeWidth=8,this.diameter=120}return x(e,[{key:"size",get:function(){return this._size},set:function(e){this._size=e,this.updateCircle()}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this.updateCircle()}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.updateCircle()}},{key:"updateCircle",value:function(){switch(this.size){case"small":this.strokeWidth=4,this.diameter=60;break;case"medium":this.strokeWidth=8,this.diameter=120;break;case"large":this.strokeWidth=16,this.diameter=240}if(this.progressCircleRef){var e=2*this.progressCircleRef.nativeElement.r.baseVal.value*Math.PI,t=e-this.progress/100*e;this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray","".concat(e," ").concat(e)),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+t)}this.changeRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||xi)(P.Pb(P.H),P.Pb(P.i))},xi.\u0275cmp=P.Jb({type:xi,selectors:[["app-progress-circle"]],viewQuery:function(e,t){var n;1&e&&P.Jc(ki,!0),2&e&&P.xc(n=P.dc())&&(t.progressCircleRef=n.first)},inputs:{size:"size",progress:"progress"},decls:9,vars:18,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100","data-test","progress",1,"progress"],["stroke","#F9FAFD","fill","transparent",1,"progress__circle"],["stroke","#5BB96F","fill","transparent",1,"progress__circle"],["progressCircle",""],["data-test","progressPercentage",1,"progress__label","text-semibold"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.fc(),P.Vb(1,"svg"),P.Vb(2,"g"),P.Qb(3,"circle",1),P.Ub(),P.Vb(4,"g"),P.Qb(5,"circle",2,3),P.Ub(),P.Ub(),P.ec(),P.Vb(7,"div",4),P.Pc(8),P.Ub(),P.Ub()),2&e&&(P.Hb("progress--small","small"===t.size)("progress--medium","medium"===t.size)("progress--large","large"===t.size),P.Eb("aria-valuenow",t.progress),P.Db(1),P.Eb("width",t.diameter)("height",t.diameter),P.Db(2),P.Eb("stroke-width",t.strokeWidth)("r",t.diameter/2-2*t.strokeWidth)("cx",t.diameter/2)("cy",t.diameter/2),P.Db(2),P.Eb("stroke-width",t.strokeWidth)("r",t.diameter/2-2*t.strokeWidth)("cx",t.diameter/2)("cy",t.diameter/2),P.Db(3),P.Rc("",t.progress,"%"))},styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.progress[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.progress__ring[_ngcontent-%COMP%]{position:absolute;z-index:1}.progress__circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.progress__label[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.progress--small[_ngcontent-%COMP%]   .progress__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.progress--medium[_ngcontent-%COMP%]   .progress__label[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.progress--large[_ngcontent-%COMP%]   .progress__label[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}"],changeDetection:0}),xi),Mi=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},zi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Si=["summary"];function Di(e,t){if(1&e&&(P.Vb(0,"div",14),P.Vb(1,"div",15),P.Pc(2),P.hc(3,"async"),P.Ub(),P.Vb(4,"div",16),P.Pc(5),P.hc(6,"async"),P.Ub(),P.Ub()),2&e){var n=P.gc(3);P.Db(2),P.Qc(P.ic(3,2,n.userFullName$)),P.Db(3),P.Qc(P.ic(6,4,n.userEmail$))}}function ji(e,t){if(1&e&&(P.Vb(0,"div",11),P.Nc(1,Di,7,6,"div",12),P.hc(2,"async"),P.Vb(3,"div",13),P.Pc(4,"Quiz Complete"),P.Ub(),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngIf",P.ic(2,1,n.userProfile$))}}function Ui(e,t){if(1&e&&(P.Vb(0,"div",19),P.Qb(1,"app-view-quiz-answer",20),P.Ub()),2&e){var n=t.$implicit,i=t.index,o=P.gc(3);P.Db(1),P.mc("question",n)("questionNumber",i+1)("answer",null==o.quizScore?null:o.quizScore.questionAnswers[n.id])("summary",!0)}}function Ii(e,t){if(1&e&&(P.Vb(0,"div",17),P.Nc(1,Ui,2,4,"div",18),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngForOf",n.questions)}}function Ti(e,t){if(1&e&&(P.Tb(0),P.Vb(1,"div",3,4),P.Nc(3,ji,5,3,"div",5),P.Vb(4,"div",6),P.Qb(5,"app-progress-circle",7),P.Vb(6,"div",8),P.Pc(7,"Quiz Complete"),P.Ub(),P.Vb(8,"div",9),P.Pc(9),P.Ub(),P.Ub(),P.Nc(10,Ii,2,1,"div",10),P.Ub(),P.Sb()),2&e){var n=P.gc();P.Db(3),P.mc("ngIf",n.downloading),P.Db(2),P.mc("progress",null==n.quizScore?null:n.quizScore.score),P.Db(4),P.Sc(" You answered ",null==n.quizScore?null:n.quizScore.correctTotal," of ",null==n.quizScore?null:n.quizScore.scorableTotal," questions correctly. "),P.Db(1),P.mc("ngIf",n.showExplanationEnabled&&n.showExplanation)}}function Vi(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",26),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleToggleSummaryClick()})),P.Pc(1),P.Ub()}if(2&e){var i=P.gc(2);P.Db(1),P.Rc(" ",i.showExplanation?"Hide Summary":"Show Summary"," ")}}function Ri(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",27),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleDownloadSummaryClick()})),P.Qb(1,"app-icon",28),P.Pc(2," Download Results "),P.Ub()}}function Ei(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",29),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleRestartClick()})),P.Pc(1," Take Again "),P.Ub()}}function Li(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",30),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleExitClick()})),P.Pc(1," Back to View "),P.Ub()}}function Ni(e,t){if(1&e&&(P.Vb(0,"div",21),P.Nc(1,Vi,2,1,"button",22),P.Nc(2,Ri,3,0,"button",23),P.Nc(3,Ei,2,0,"button",24),P.hc(4,"async"),P.Nc(5,Li,2,0,"button",25),P.hc(6,"async"),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("ngIf",n.showSummaryEnabled&&n.showExplanationEnabled),P.Db(1),P.mc("ngIf",n.showSummaryEnabled&&n.showExplanationEnabled),P.Db(1),P.mc("ngIf",P.ic(4,4,n.enableQuizRetake$)),P.Db(2),P.mc("ngIf",!P.ic(6,6,n.quizLocked$))}}var $i,Ai=function(e){return{"review--downloading":e}},Qi=(($i=function(){function e(t,n,i,o){m(this,e),this.changeRef=t,this.quizService=n,this.store=i,this.clipboardService=o,this.userFullName="",this.userEmail="",this.questions=[],this.showSummaryEnabled=!1,this.showExplanationEnabled=!1,this.showExplanation=!1,this.downloading=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){this.initReviewListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initReviewListeners",value:function(){var e=this;Object(oe.b)([this.questions$,this.submissions$]).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=n[0],o=n[1];e.questions=i,e.quizScore=Object(bn.i)(i,o),e.changeRef.markForCheck()})),this.quizSettings$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.showSummary,i=t.showExplanation;e.showSummaryEnabled=!1!==n,e.showExplanationEnabled=!1!==i,e.changeRef.markForCheck()}))}},{key:"handleToggleSummaryClick",value:function(){this.showExplanation=!this.showExplanation,this.changeRef.markForCheck()}},{key:"handleDownloadSummaryClick",value:function(){this.downloadResults()}},{key:"downloadResults",value:function(){var e=this,t=this.showExplanation;this.store.dispatch(new xe.a.ShowScrim(!0,"Downloading")),this.showExplanation=!0,this.changeRef.detectChanges(),this.downloading=!0,this.changeRef.detectChanges(),_i()(this.summary.nativeElement,{onclone:function(e){e.querySelector(".review").classList.add("review--download")}}).then((function(n){var i=e.store.selectSnapshot(pt.a.getStory).displayName.replace(/\ /g,"_")||"anatomy",o=n.toDataURL("image/png");!0===Te.a.native||Te.a.platform===Ci.a.SDK?e.clipboardService.copyToClipboard(o,"image").toPromise():Object(wi.saveAs)(o,i+"_quiz_results.png"),e.showExplanation=t,e.downloading=!1,e.store.dispatch(new xe.a.HideScrim),e.changeRef.markForCheck()}))}},{key:"handleRestartClick",value:function(){this.quizService.resetQuiz(),this.quizService.startQuiz()}},{key:"handleExitClick",value:function(){this.quizService.exitQuiz()}}]),e}()).\u0275fac=function(e){return new(e||$i)(P.Pb(P.i),P.Pb($e.a),P.Pb(U.h),P.Pb(Oi.a))},$i.\u0275cmp=P.Jb({type:$i,selectors:[["app-view-quiz-review"]],viewQuery:function(e,t){var n;1&e&&P.Vc(Si,!0),2&e&&P.xc(n=P.dc())&&(t.summary=n.first)},decls:3,vars:5,consts:[["data-test","quizReview",1,"review",3,"ngClass"],[4,"ngIf"],["class","review__actions",4,"ngIf"],["data-test","quizDownload",1,"review__container"],["summary",""],["class","pv-4",4,"ngIf"],["data-test","quizSummary",1,"text-center"],["size","medium",3,"progress"],["data-html2canvas-ignore","true",1,"mt-8","text-18","text-semibold"],[1,"mv-4","text-14","text-medium"],["class","review__summary mb-4","data-test","quizExplanation",4,"ngIf"],[1,"pv-4"],["class","pb-4 pr-4",4,"ngIf"],[1,"text-18","text-semibold","text-center"],[1,"pb-4","pr-4"],[1,"text-right","text-semibold","text-14"],[1,"text-right","text-14"],["data-test","quizExplanation",1,"review__summary","mb-4"],["class","mv-6",4,"ngFor","ngForOf"],[1,"mv-6"],[3,"question","questionNumber","answer","summary"],[1,"review__actions"],["class","w-100","app-button","","buttonType","outline","buttonTheme","light","data-test","quizToggleSummaryButton",3,"click",4,"ngIf"],["class","w-100 mt-3","app-button","","buttonType","outline","buttonTheme","light","data-test","quizDownloadSummaryButton",3,"click",4,"ngIf"],["class","mt-8 w-100","app-button","","buttonType","info","buttonTheme","light","data-test","quizTakeAgainButton",3,"click",4,"ngIf"],["class","mt-3 w-100","app-button","","buttonType","info","buttonTheme","light","data-test","quizExitButton",3,"click",4,"ngIf"],["app-button","","buttonType","outline","buttonTheme","light","data-test","quizToggleSummaryButton",1,"w-100",3,"click"],["app-button","","buttonType","outline","buttonTheme","light","data-test","quizDownloadSummaryButton",1,"w-100","mt-3",3,"click"],["icon","download"],["app-button","","buttonType","info","buttonTheme","light","data-test","quizTakeAgainButton",1,"mt-8","w-100",3,"click"],["app-button","","buttonType","info","buttonTheme","light","data-test","quizExitButton",1,"mt-3","w-100",3,"click"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,Ti,11,5,"ng-container",1),P.Nc(2,Ni,7,8,"div",2),P.Ub()),2&e&&(P.mc("ngClass",P.pc(3,Ai,t.downloading)),P.Db(1),P.mc("ngIf",t.showSummaryEnabled),P.Db(1),P.mc("ngIf",!t.downloading))},directives:[C.m,C.p,Pi,C.o,mi,Wn.a,Fe.a],pipes:[C.b],styles:[".review[_ngcontent-%COMP%]{position:relative}.review--downloading[_ngcontent-%COMP%]   .review__download-scrim[_ngcontent-%COMP%]{display:flex}.review--download[_ngcontent-%COMP%]{width:595px}.review--download[_ngcontent-%COMP%], .review--download[_ngcontent-%COMP%]   .review__summary[_ngcontent-%COMP%]{background-color:#fff}.review__summary[_ngcontent-%COMP%]{background-color:#f9fafd;padding:4px 12px}"],changeDetection:0}),Mi([Object(U.e)(Ee.b.getAllQuestions),zi("design:type",re.a)],$i.prototype,"questions$",void 0),Mi([Object(U.e)(Ee.b.getAllSubmissions),zi("design:type",re.a)],$i.prototype,"submissions$",void 0),Mi([Object(U.e)(Ee.b.getQuizSettings),zi("design:type",re.a)],$i.prototype,"quizSettings$",void 0),Mi([Object(U.e)(Ee.b.getQuizModeLocked),zi("design:type",re.a)],$i.prototype,"quizLocked$",void 0),Mi([Object(U.e)(Ee.b.getEnableQuizRetake),zi("design:type",re.a)],$i.prototype,"enableQuizRetake$",void 0),Mi([Object(U.e)(vi.a.getUserProfile),zi("design:type",re.a)],$i.prototype,"userProfile$",void 0),Mi([Object(U.e)(vi.a.getUserFullName),zi("design:type",re.a)],$i.prototype,"userFullName$",void 0),Mi([Object(U.e)(vi.a.getUserEmail),zi("design:type",re.a)],$i.prototype,"userEmail$",void 0),$i),qi=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Fi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Hi(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",10),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleExitClick()})),P.Vb(1,"span",11),P.Pc(2,"Exit Quiz"),P.Ub(),P.Ub()}}function Bi(e,t){if(1&e&&(P.Qb(0,"app-view-quiz-progress",12),P.hc(1,"async"),P.hc(2,"async")),2&e){var n=P.gc(2);P.mc("index",P.ic(1,2,n.questionIndex$))("total",P.ic(2,4,n.questionTotal$))}}function Wi(e,t){if(1&e&&(P.Vb(0,"div",5),P.Vb(1,"div",6),P.Vb(2,"h1",7),P.Pc(3,"Quiz"),P.Ub(),P.Nc(4,Hi,3,0,"button",8),P.hc(5,"async"),P.Ub(),P.Nc(6,Bi,3,6,"app-view-quiz-progress",9),P.hc(7,"async"),P.hc(8,"async"),P.Ub()),2&e){var n,i=P.gc();P.Db(4),P.mc("ngIf",!P.ic(5,2,i.quizLocked$)),P.Db(2),P.mc("ngIf",(null==(n=P.ic(7,4,i.quizSettings$))?null:n.showProgress)&&P.ic(8,6,i.lifecycle$)!==i.Lifecycle.Review)}}function Ji(e,t){if(1&e&&(P.Qb(0,"app-view-quiz-question",16),P.hc(1,"async")),2&e){var n=P.gc(2);P.mc("question",P.ic(1,1,n.question$))}}function Gi(e,t){if(1&e&&(P.Vb(0,"div"),P.Pc(1),P.hc(2,"async"),P.Ub()),2&e){var n,i=P.gc(3);P.Db(1),P.Rc(" ",(null==(n=P.ic(2,1,i.question$))?null:n.nextLabel)||i.defaultNextButtonNext," ")}}function Ki(e,t){1&e&&(P.Vb(0,"div"),P.Pc(1,"Submit"),P.Ub())}function Yi(e,t){if(1&e&&(P.Vb(0,"button",17),P.Vb(1,"div",18),P.hc(2,"async"),P.Nc(3,Gi,3,3,"div",19),P.Nc(4,Ki,2,0,"div",20),P.Ub(),P.Ub()),2&e){var n,i=P.gc(2);P.mc("disabled",!i.form.valid),P.Db(1),P.mc("ngSwitch",null==(n=P.ic(2,3,i.question$))?null:n.type),P.Db(2),P.mc("ngSwitchCase",i.quizQuestionType.Instructions)}}function Zi(e,t){if(1&e){var n=P.Wb();P.Vb(0,"form",13),P.cc("submit",(function(){return P.Cc(n),P.gc().handleSubmit()})),P.Nc(1,Ji,2,3,"app-view-quiz-question",14),P.hc(2,"async"),P.Nc(3,Yi,5,5,"button",15),P.hc(4,"async"),P.hc(5,"async"),P.Ub()}if(2&e){var i,o=P.gc();P.mc("formGroup",o.form),P.Db(1),P.mc("ngIf",P.ic(2,3,o.question$)),P.Db(2),P.mc("ngIf",(null==(i=P.ic(4,5,o.quizSettings$))?null:i.showSubmit)&&P.ic(5,7,o.lifecycle$)===o.Lifecycle.Question)}}function Xi(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",24),P.cc("click",(function(){return P.Cc(n),P.gc(2).nextQuestion()})),P.Pc(1),P.hc(2,"async"),P.Ub()}if(2&e){var i,o=P.gc(2);P.Db(1),P.Rc(" ",(null==(i=P.ic(2,1,o.question$))?null:i.nextLabel)||o.defaultNextButtonNext," ")}}function eo(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",26),P.cc("click",(function(){return P.Cc(n),P.gc(3).handleViewSummaryClick()})),P.Pc(1," See Results "),P.Ub()}}function to(e,t){if(1&e&&(P.Tb(0),P.Nc(1,eo,2,0,"button",25),P.hc(2,"async"),P.Sb()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngIf",P.ic(2,1,n.quizReviewEnabled$))}}function no(e,t){if(1&e&&(P.Tb(0),P.Vb(1,"div",21),P.Qb(2,"app-view-quiz-answer",22),P.hc(3,"async"),P.hc(4,"async"),P.Ub(),P.Tb(5,18),P.hc(6,"async"),P.Nc(7,Xi,3,3,"button",23),P.Nc(8,to,3,3,"ng-container",20),P.Sb(),P.Sb()),2&e){var n=P.gc();P.Db(2),P.mc("question",P.ic(3,5,n.question$))("answer",P.ic(4,7,n.submission$).answer)("summary",!1),P.Db(3),P.mc("ngSwitch",P.ic(6,9,n.hasQuestionsRemaining$)),P.Db(2),P.mc("ngSwitchCase",!0)}}function io(e,t){1&e&&(P.Tb(0),P.Qb(1,"app-view-quiz-review"),P.Sb())}function oo(e,t){if(1&e&&(P.Vb(0,"div",27),P.Pc(1),P.hc(2,"async"),P.Ub()),2&e){var n,i=P.gc();P.Db(1),P.Rc(" ",1===(null==(n=P.ic(2,1,i.questions$))?null:n.length)?"Answer":"Answers"," submitted ")}}var ro,ao=((ro=function(){function e(t,n,i,o,r,a,c){m(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.viewService=o,this.engineService=r,this.quizService=a,this.pendoService=c,this.defaultNextButtonNext=bn.f,this.showHeader=!0,this.Lifecycle=fn.a,this.quizQuestionType=un.a,this.sceneConfigStash={},this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){if(!this.store.selectSnapshot(Ee.b.getActiveQuestionId)){var e=this.store.selectSnapshot(Ee.b).questions[0].id;this.store.dispatch(new ln.a.SetActiveQuestion(e))}this.store.dispatch(new ln.a.SetQuizLifecycle(fn.a.Question)),this.form=this.formBuilder.group({question:new Y.g("",this.getQuizValidation())}),this.initQuestionObserver(),this.initAnswerObserver(),this.initEngineInteractionObserver(),this.engineService.fireEvent(cn.a.QuizEntered,!0)}},{key:"ngOnDestroy",value:function(){var e=this;Object.entries(this.sceneConfigStash).forEach((function(t){var n=u(t,2),i=n[0],o=n[1];e.store.dispatch(new pn.s(i,o.background))})),this.engineService.fireEvent(cn.a.QuizExited,!0),this.viewService.selectTool(ve.a.Select),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"answer",get:function(){var e=this.form.get("question").value;return Array.isArray(e)?e:[e]}},{key:"initQuestionObserver",value:function(){var e=this;this.question$.pipe(Object(ge.a)(this.ngUnsubscribe),Object(pe.a)((function(e){return void 0!==e}))).subscribe((function(t){var n=e.store.selectSnapshot(we.a.getSelectedChapterId);t.chapterId!==n&&e.store.dispatch(new pn.q(t.chapterId)),e.form.reset(),e.setSceneConfig(t),e.store.dispatch(new ln.a.SetActiveSubmission(void 0)),t.type===un.a.Instructions&&e.form.get("question").setValue("-"),e.engineService.fireEvent(cn.a.QuizQuestionLoaded,t)}))}},{key:"initAnswerObserver",value:function(){var e=this;this.form.get("question").valueChanges.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.store.selectSnapshot(Ee.b.getActiveQuestion),i=e.store.selectSnapshot(Ee.b.getActiveSubmission);void 0!==n&&(e.store.selectSnapshot(Ee.b.getAllSubmissions).some((function(e){return e.questionId===n.id}))||(i&&Object(Se.isEqual)(i.answer,t)||e.store.dispatch(new ln.a.SetActiveSubmission({questionId:n.id,answer:t})),Object(Se.isNil)(t)||e.engineService.fireEvent(cn.a.QuizAnswerSelected,{questionId:n.id,answerId:t})))}))}},{key:"initEngineInteractionObserver",value:function(){var e=this;this.viewService.selectTool(ve.a.Quiz),this.store.dispatch(new ln.a.SetQuizPickMode("single")),this.actions.pipe(Object(U.l)(le.d),Object(pe.a)((function(t){var n=t.node,i=t.event;return!Object(Se.isNil)(n)&&e.store.selectSnapshot(gn.a.getActiveTool)===ve.a.Quiz&&!i.srcEvent.shiftKey}))).pipe(Object(pe.a)((function(){return"none"!==e.store.selectSnapshot(Ee.b.getPickMode)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){"single"===e.store.selectSnapshot(Ee.b.getPickMode)&&e.viewService.clearSelectedNodes();var n=Object(Se.get)(t,"hit.objectId");if(n){var i=e.store.selectSnapshot(hn.a.getCheckedNodeIds).includes(n);e.store.dispatch(new dn.a.UpdateNodesChecked(!i,[n]))}})),this.question$.pipe(Object(fe.a)((function(e,t){return Object(Se.get)(e,"id")===Object(Se.get)(t,"id")})),Object(pe.a)((function(e){return!Object(Se.isNil)(e)}))).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.type,i=t.data;e.store.dispatch(new ln.a.SetQuizPickMode(n===un.a.SelectAnatomy&&i.correctAnswer.length>1&&"any"!==i.selectType?"multi":"single"))}))}},{key:"handleSubmit",value:function(){var e=this.store.selectSnapshot(Ee.b.getActiveQuestion);(this.form.valid||e.type===un.a.Instructions)&&this.quizService.submitQuestion(e.id,this.answer)}},{key:"handleViewSummaryClick",value:function(){this.viewSummary()}},{key:"handleExitClick",value:function(){this.quizService.exitQuiz()}},{key:"nextQuestion",value:function(){this.quizService.nextQuestion()}},{key:"viewSummary",value:function(){this.store.dispatch(new ln.a.SetQuizLifecycle(fn.a.Review)),this.engineService.fireEvent(cn.a.QuizCompleted,!0)}},{key:"setSceneConfig",value:function(e){var t=this,n=(null==e?void 0:e.sceneConfig)||{},i=n.camera,o=n.background,r=this.store.selectSnapshot(we.a.getChapter(e.chapterId));i&&(this.setStash(e.chapterId,{camera:r.camera.location}),setTimeout((function(){t.store.dispatch(new sn.l(i.location,!0,1))}))),o&&(this.setStash(e.chapterId,{background:r.background}),this.store.dispatch(new pn.s(e.chapterId,o)))}},{key:"setStash",value:function(e,t){this.sceneConfigStash[e]=Object.assign(Object.assign({},this.sceneConfigStash[e]||{}),t)}},{key:"getQuizValidation",value:function(){var e=this;return function(t){var n=t.value,i=Array.isArray(n)?n:[n],o=e.store.selectSnapshot(Ee.b.getActiveQuestion),r=Object(bn.g)(o),a=i.some((function(e){return Object(Se.isNil)(e)||""===e}));return r&&a?{invalidValues:a}:null}}}]),e}()).\u0275fac=function(e){return new(e||ro)(P.Pb(U.h),P.Pb(U.b),P.Pb(Y.f),P.Pb(Ne.a),P.Pb(xn.a),P.Pb($e.a),P.Pb(mn.b))},ro.\u0275cmp=P.Jb({type:ro,selectors:[["app-view-quiz"]],inputs:{showHeader:"showHeader"},decls:13,vars:19,consts:[["data-test","quiz",1,"view-quiz"],["class","pb-2 mb-4 view-quiz__header",4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],[4,"ngIf"],["class","text-16 text-bold text-center",4,"ngIf"],[1,"pb-2","mb-4","view-quiz__header"],[1,"flex"],[1,"text-20","text-semibold","flex-grow"],["app-pin-button","","icon","times","size","small","data-test","quizHeaderExit",3,"click",4,"ngIf"],["class","mt-3",3,"index","total",4,"ngIf"],["app-pin-button","","icon","times","size","small","data-test","quizHeaderExit",3,"click"],[1,"visually-hidden"],[1,"mt-3",3,"index","total"],[3,"formGroup","submit"],["formControlName","question",3,"question",4,"ngIf"],["app-button","","class","w-100","buttonType","info","data-test","questionSubmit",3,"disabled",4,"ngIf"],["formControlName","question",3,"question"],["app-button","","buttonType","info","data-test","questionSubmit",1,"w-100",3,"disabled"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-8"],[3,"question","answer","summary"],["app-button","","buttonType","info","class","w-100","data-test","questionNextButton",3,"click",4,"ngSwitchCase"],["app-button","","buttonType","info","data-test","questionNextButton",1,"w-100",3,"click"],["data-test","quizViewSummaryButton","app-button","","buttonType","info","class","w-100",3,"click",4,"ngIf"],["data-test","quizViewSummaryButton","app-button","","buttonType","info",1,"w-100",3,"click"],[1,"text-16","text-bold","text-center"]],template:function(e,t){if(1&e&&(P.Vb(0,"div",0),P.Nc(1,Wi,9,8,"div",1),P.Nc(2,Zi,6,9,"form",2),P.hc(3,"async"),P.Nc(4,no,9,11,"ng-container",3),P.hc(5,"async"),P.Nc(6,io,2,0,"ng-container",3),P.hc(7,"async"),P.hc(8,"async"),P.Nc(9,oo,3,3,"div",4),P.hc(10,"async"),P.hc(11,"async"),P.hc(12,"async"),P.Ub()),2&e){var n=null;P.Db(1),P.mc("ngIf",t.showHeader),P.Db(1),P.mc("ngIf",P.ic(3,5,t.lifecycle$)===t.Lifecycle.Question),P.Db(2),P.mc("ngIf",P.ic(5,7,t.lifecycle$)===t.Lifecycle.Explanation),P.Db(2),P.mc("ngIf",P.ic(7,9,t.lifecycle$)===t.Lifecycle.Review&&P.ic(8,11,t.quizReviewEnabled$)),P.Db(3),P.mc("ngIf",!(P.ic(10,13,t.hasQuestionsRemaining$)||P.ic(11,15,t.quizReviewEnabled$)||null!=(n=P.ic(12,17,t.quizSettings$))&&n.showExplanation))}},directives:[C.p,qe.a,yn,Y.E,Y.s,Y.j,Bn,Y.r,Y.i,Wn.a,C.r,C.s,C.t,mi,Qi],pipes:[C.b],styles:[".view-quiz__header[_ngcontent-%COMP%]{border-bottom:1px solid #eaeff5}"],changeDetection:0}),qi([Object(U.e)(Ee.b.getQuizReviewEnabled),Fi("design:type",re.a)],ro.prototype,"quizReviewEnabled$",void 0),qi([Object(U.e)(Ee.b.getActiveQuestion),Fi("design:type",re.a)],ro.prototype,"question$",void 0),qi([Object(U.e)(Ee.b.getAllQuestions),Fi("design:type",re.a)],ro.prototype,"questions$",void 0),qi([Object(U.e)(Ee.b.getActiveQuestionIndex),Fi("design:type",re.a)],ro.prototype,"questionIndex$",void 0),qi([Object(U.e)(Ee.b.getQuestionTotal),Fi("design:type",re.a)],ro.prototype,"questionTotal$",void 0),qi([Object(U.e)(Ee.b.getCorrectAnswerTotal),Fi("design:type",re.a)],ro.prototype,"correctAnswerTotal$",void 0),qi([Object(U.e)(Ee.b.hasQuestionRemaining),Fi("design:type",re.a)],ro.prototype,"hasQuestionsRemaining$",void 0),qi([Object(U.e)(Ee.b.getQuizSettings),Fi("design:type",re.a)],ro.prototype,"quizSettings$",void 0),qi([Object(U.e)(Ee.b.getLifecycle),Fi("design:type",re.a)],ro.prototype,"lifecycle$",void 0),qi([Object(U.e)(Ee.b.getQuizModeLocked),Fi("design:type",re.a)],ro.prototype,"quizLocked$",void 0),qi([Object(U.e)(Ee.b.getActiveSubmission),Fi("design:type",re.a)],ro.prototype,"submission$",void 0),ro),co=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},so=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lo=["viewDrawer"],po=["viewDrawerOuter"];function uo(e,t){if(1&e&&(P.Vb(0,"div",7),P.Qb(1,"app-spinner",8),P.hc(2,"async"),P.Ub()),2&e){var n,i=P.gc();P.Db(1),P.mc("label",null==(n=P.ic(2,1,i.scrim$))?null:n.label)}}function go(e,t){1&e&&P.Qb(0,"app-icon",21)}function ho(e,t){1&e&&P.Qb(0,"app-icon",22)}function bo(e,t){if(1&e&&(P.Vb(0,"div",23),P.Qb(1,"app-content-blocks",24),P.hc(2,"async"),P.Ub()),2&e){var n,i=P.gc(2);P.Db(1),P.mc("contentBlocks",null==(n=P.ic(2,2,i.selectedLabel$))?null:n.contentBlocks)("layout","compact")}}function fo(e,t){if(1&e){var n=P.Wb();P.Tb(0),P.Vb(1,"div",9),P.Vb(2,"div",10),P.Vb(3,"button",11),P.cc("click",(function(){return P.Cc(n),P.gc().handleLabelBack()})),P.Qb(4,"app-icon",12),P.Ub(),P.Ub(),P.Vb(5,"div",13),P.Qb(6,"app-html",14),P.hc(7,"async"),P.Ub(),P.Vb(8,"div",15),P.Vb(9,"button",11),P.cc("click",(function(){return P.Cc(n),P.gc().handleToggleClick()})),P.Nc(10,go,1,0,"app-icon",16),P.Nc(11,ho,1,0,"app-icon",17),P.Ub(),P.Ub(),P.Ub(),P.Nc(12,bo,3,4,"div",18),P.hc(13,"async"),P.Vb(14,"div",19),P.Qb(15,"app-html",20),P.hc(16,"async"),P.Ub(),P.Sb()}if(2&e){var i,o,r,a=P.gc();P.Db(6),P.mc("markdownText",null==(i=P.ic(7,7,a.selectedLabel$))?null:i.title),P.Db(3),P.Eb("aria-expanded",a.open)("aria-label",a.open?"Close Info Panel":"Open Info Panel"),P.Db(1),P.mc("ngIf",!a.open),P.Db(1),P.mc("ngIf",a.open),P.Db(1),P.mc("ngIf",null==(o=P.ic(13,9,a.selectedLabel$))?null:o.contentBlocks),P.Db(3),P.mc("markdownText",null==(r=P.ic(16,11,a.selectedLabel$))?null:r.description)}}function xo(e,t){1&e&&(P.Tb(0),P.Qb(1,"app-view-title",29),P.Sb()),2&e&&(P.Db(1),P.mc("menuEnabled",!1))}function mo(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",35),P.cc("click",(function(){return P.Cc(n),P.gc(3).handleExitQuiz()})),P.Qb(1,"app-icon",36),P.Ub()}}function vo(e,t){if(1&e&&(P.Vb(0,"span",37),P.Vb(1,"span",38),P.Pc(2),P.hc(3,"async"),P.Ub(),P.Pc(4),P.hc(5,"async"),P.Ub()),2&e){var n=P.gc(3);P.Db(2),P.Rc("Question ",P.ic(3,2,n.activeQuestionIndex$)+1,""),P.Db(2),P.Rc(" of ",P.ic(5,4,n.questionTotal$)," ")}}function wo(e,t){if(1&e&&(P.Tb(0),P.Vb(1,"div",30),P.Nc(2,mo,2,0,"button",31),P.hc(3,"async"),P.Ub(),P.Vb(4,"div",13),P.Vb(5,"div",32),P.Vb(6,"span",33),P.Pc(7,"Quiz"),P.Ub(),P.Nc(8,vo,6,6,"span",34),P.hc(9,"async"),P.hc(10,"async"),P.Ub(),P.Ub(),P.Sb()),2&e){var n,i=P.gc(2);P.Db(2),P.mc("ngIf",!P.ic(3,2,i.quizLocked$)),P.Db(6),P.mc("ngIf",(null==(n=P.ic(9,4,i.quizSettings$))?null:n.showProgress)&&P.ic(10,6,i.questionRemaining$)>0)}}function yo(e,t){1&e&&P.Qb(0,"app-icon",21)}function _o(e,t){1&e&&P.Qb(0,"app-icon",22)}function Co(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",39),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleToggleClick()})),P.Nc(1,yo,1,0,"app-icon",16),P.Nc(2,_o,1,0,"app-icon",17),P.Ub()}if(2&e){var i=P.gc(2);P.Eb("aria-expanded",i.open)("aria-label",i.open?"Close Info Panel":"Open Info Panel"),P.Db(1),P.mc("ngIf",!i.open),P.Db(1),P.mc("ngIf",i.open)}}function Oo(e,t){1&e&&P.Qb(0,"app-view-content-mode",41)}function ko(e,t){if(1&e&&(P.Tb(0),P.Nc(1,Oo,1,0,"app-view-content-mode",40),P.Sb()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngIf",n.expandable)}}function Po(e,t){1&e&&P.Qb(0,"app-view-quiz",42),2&e&&P.mc("showHeader",!1)}function Mo(e,t){if(1&e&&(P.Tb(0),P.Vb(1,"article",9),P.Nc(2,xo,2,1,"ng-container",25),P.hc(3,"async"),P.Nc(4,wo,11,8,"ng-container",25),P.hc(5,"async"),P.Vb(6,"div",26),P.Nc(7,Co,3,4,"button",27),P.Ub(),P.Ub(),P.Vb(8,"div",19),P.Nc(9,ko,2,1,"ng-container",25),P.hc(10,"async"),P.Nc(11,Po,1,1,"app-view-quiz",28),P.hc(12,"async"),P.Ub(),P.Sb()),2&e){var n=P.gc();P.Db(2),P.mc("ngIf",!P.ic(3,5,n.quizModeActive$)),P.Db(2),P.mc("ngIf",P.ic(5,7,n.quizModeActive$)),P.Db(3),P.mc("ngIf",n.expandable),P.Db(2),P.mc("ngIf",!P.ic(10,9,n.quizModeActive$)),P.Db(2),P.mc("ngIf",P.ic(12,11,n.quizModeActive$))}}var zo,So=function(e,t,n,i){return{"view-drawer--closed":e,"view-drawer--active":t,"view-drawer--scrollable":n,"view-drawer--fixed":i}},Do=((zo=function(){function e(t,n,i,o,r,a){m(this,e),this.renderer=t,this.changeDetectorRef=n,this.viewService=i,this.quizService=o,this.store=r,this.layoutService=a,this.offsetYChange=new P.p,this.breakpoints={minimumDrawer:{velocity:1/0,point:0},halfDrawer:{velocity:1,point:0}},this.ngUnsubscribe=new ne.a,this.viewMode=ye.a,this.viewToolsMode=ze,this.mode=ye.a.Content,this.open=!1}return x(e,[{key:"expandable",get:function(){return"full"===this.layoutService.getVisibleContent()||this.mode===ye.a.LabelInfo||this.mode===ye.a.NodeInfo||this.open}},{key:"ngOnInit",value:function(){this.initWindowSizeObserver(),this.initLayoutObserver(),this.initQuizObserver()}},{key:"ngAfterViewInit",value:function(){this.refresh(this.store.selectSnapshot(I.a.getUI).drawer.isExpandedInitially)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initWindowSizeObserver",value:function(){var e=this;Object(je.a)(Object(ie.a)(window,"resize"),Object(ie.a)(window,"orientationchange")).pipe(Object(Ue.a)(0),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.refresh(!1)}))}},{key:"initLayoutObserver",value:function(){var e=this;this.layout$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateMode(t)}))}},{key:"initQuizObserver",value:function(){var e=this,t=this.selectedChapterReady$.pipe(Object(be.a)((function(e){return e&&e.model})),Object(pe.a)((function(e){return e})),Object(he.a)(300));Object(oe.b)([t,this.quizModeActive$]).pipe(Object(pe.a)((function(e){var t=u(e,2),n=t[0],i=t[1];return n&&i})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){setTimeout((function(){e.toggleDrawer(!0),e.changeDetectorRef.markForCheck()}))}))}},{key:"updateViewHeight",value:function(){var e=Te.a.application!==Ie.a.Viewer,t=this.store.selectSnapshot(Ve.a.getSiteHeader),n=Object(Le.a)(t,e);this.viewDrawer.nativeElement.style.setProperty("--vh",n+"px")}},{key:"updateStops",value:function(){var e=window.innerHeight,t=this.store.selectSnapshot(Ve.a.getSiteHeader)===Re.a.Hide?0:56;this.breakpoints.minimumDrawer.point=-64,this.breakpoints.halfDrawer.point=Math.floor(-.5*(e-t))}},{key:"updateMode",value:function(e){this.mode=this.viewService.inferDrawerMode(e),this.changeDetectorRef.markForCheck()}},{key:"resetDrawerPosition",value:function(e){var t=this;setTimeout((function(){t.slideDrawerToPoint(e?t.breakpoints.halfDrawer.point:t.breakpoints.minimumDrawer.point),t.open=e,t.changeDetectorRef.markForCheck()}))}},{key:"refresh",value:function(e){var t=this;setTimeout((function(){t.updateViewHeight(),t.updateStops(),t.resetDrawerPosition(e)}))}},{key:"handleToggleClick",value:function(){this.expandable&&this.toggleDrawer()}},{key:"handleDrawerKeydown",value:function(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.stopPropagation()}},{key:"handleLabelBack",value:function(){this.viewService.clearSelectedLabel()}},{key:"toggleDrawer",value:function(e){null==e&&(e=!this.open),this.slideDrawerToPoint((e?this.breakpoints.halfDrawer:this.breakpoints.minimumDrawer).point),this.open=e}},{key:"handleExitQuiz",value:function(){this.quizService.exitQuiz()}},{key:"slideDrawerToPoint",value:function(e){this.renderer.setStyle(this.viewDrawer.nativeElement,"transform","translate3d(0, ".concat(e,"px, 0)")),this.offsetYChange.emit(e)}},{key:"getDrawerY",value:function(){if(this.viewDrawer){var e=this.viewService.getComputedTransform(this.viewDrawer.nativeElement);return e?e.y:null}return null}}]),e}()).\u0275fac=function(e){return new(e||zo)(P.Pb(P.H),P.Pb(P.i),P.Pb(Ne.a),P.Pb($e.a),P.Pb(U.h),P.Pb(Ae.a))},zo.\u0275cmp=P.Jb({type:zo,selectors:[["app-view-drawer"]],viewQuery:function(e,t){var n;1&e&&(P.Vc(lo,!0),P.Vc(po,!0)),2&e&&(P.xc(n=P.dc())&&(t.viewDrawer=n.first),P.xc(n=P.dc())&&(t.viewDrawerOuter=n.first))},inputs:{expandable:"expandable"},outputs:{offsetYChange:"offsetYChange"},decls:9,vars:13,consts:[[1,"view-drawer",3,"ngClass"],["viewDrawer",""],["class","view-drawer__scrim",4,"ngIf"],["role","region","aria-label","Chapter Description",1,"view-drawer__outer",3,"keydown"],["viewDrawerOuter",""],[1,"view-drawer__inner",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"view-drawer__scrim"],["size","large",3,"label"],[1,"view-drawer__header",2,"height","64px"],[1,"view-drawer__button","view-drawer__button--left"],["app-pin-button","","buttonType","outline",3,"click"],["icon","arrow-left"],[1,"view-drawer__title"],[1,"text-semibold","text-14",3,"markdownText"],[1,"view-drawer__button","view-drawer__button--right"],["icon","caret-up",4,"ngIf"],["icon","caret-down",4,"ngIf"],["class","mv-1","appEventFence","",4,"ngIf"],[1,"view-drawer__content"],[1,"text-14",3,"markdownText"],["icon","caret-up"],["icon","caret-down"],["appEventFence","",1,"mv-1"],[3,"contentBlocks","layout"],[4,"ngIf"],["appEventFence","",1,"view-drawer__button","view-drawer__button--right"],["type","button","app-pin-button","","buttonType","outline",3,"click",4,"ngIf"],[3,"showHeader",4,"ngIf"],["alignTitle","center","size","medium",1,"view-drawer__title",3,"menuEnabled"],["appEventFence","",1,"view-drawer__button","view-drawer__button--left"],["app-pin-button","","buttonType","outline","type","button",3,"click",4,"ngIf"],[1,"flex","flex-column","text-center"],[1,"text-11","text-semibold","text-uppercase"],["class","text-14",4,"ngIf"],["app-pin-button","","buttonType","outline","type","button",3,"click"],["icon","times"],[1,"text-14"],[1,"text-semibold"],["type","button","app-pin-button","","buttonType","outline",3,"click"],["layout","drawer",4,"ngIf"],["layout","drawer"],[3,"showHeader"]],template:function(e,t){var n;(1&e&&(P.Vb(0,"div",0,1),P.Nc(2,uo,3,3,"div",2),P.hc(3,"async"),P.Vb(4,"div",3,4),P.cc("keydown",(function(e){return t.handleDrawerKeydown(e)})),P.Vb(6,"div",5),P.Nc(7,fo,17,13,"ng-container",6),P.Nc(8,Mo,13,13,"ng-container",6),P.Ub(),P.Ub(),P.Ub()),2&e)&&(P.mc("ngClass",P.sc(8,So,!t.open,t.open,t.open,!t.expandable)),P.Db(2),P.mc("ngIf",null==(n=P.ic(3,6,t.scrim$))?null:n.show),P.Db(2),P.Eb("tabindex",t.open?0:-1),P.Db(2),P.mc("ngSwitch",t.mode),P.Db(1),P.mc("ngSwitchCase",t.viewMode.LabelInfo),P.Db(1),P.mc("ngSwitchCase",t.viewMode.Content))},directives:[C.m,C.p,C.r,C.s,Qe.a,qe.a,Fe.a,He.a,Be.a,We.a,wt,an,ao],pipes:[C.b],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-drawer{border-top:rgba(234,239,245,.8);box-shadow:0 -1px 0 0 rgba(28,42,63,.16);background:hsla(0,0%,100%,.8);left:0;min-height:100vh;right:0;position:absolute;z-index:20;top:100vh;top:calc(var(--vh, 1vh) * 100);transform:translate3d(0,-56px,0);transition:transform .3s}.view-drawer--active,.view-drawer--closed{background-color:#fff}.view-drawer--scrollable{min-height:0}.view-drawer--scrollable .view-drawer__outer{height:50vh;height:calc(var(--vh, 1vh) * 50);overflow-y:scroll}.view-drawer--fixed{height:56px;overflow:hidden}.view-drawer--fixed .view-drawer__inner{height:56px;padding:0 16px}.view-drawer--fixed .view-drawer__content{justify-content:center;padding-top:0}.view-drawer__header{position:relative}.view-drawer__header,.view-drawer__title{height:64px;display:flex;justify-content:center;align-items:center}.view-drawer__title{flex-grow:1;margin:0 64px;padding:0 8px}.view-drawer__button{height:40px;width:40px;display:flex;align-items:center;justify-content:center;position:absolute}.view-drawer__button--left{left:16px}.view-drawer__button--right{right:16px}.view-drawer__inner{position:relative}.view-drawer__outer{outline:none}.view-drawer__content{display:flex;flex:1 1 100%;flex-direction:column;max-width:600px;min-height:56px;margin:0 auto;padding:8px 16px 48px}.view-drawer__scrim{background-color:#fff;position:absolute;display:flex;justify-content:center;align-items:center;z-index:50;left:0;right:0;top:0;bottom:0}"],encapsulation:2,changeDetection:0}),co([Object(U.e)(I.a.getUI),so("design:type",re.a)],zo.prototype,"layout$",void 0),co([Object(U.e)(I.a.getScrim),so("design:type",re.a)],zo.prototype,"scrim$",void 0),co([Object(U.e)(we.a.getSelectedChapterReadyState),so("design:type",re.a)],zo.prototype,"selectedChapterReady$",void 0),co([Object(U.e)(we.a.getSelectedChapterIndex),so("design:type",re.a)],zo.prototype,"chapterIndex$",void 0),co([Object(U.e)(we.a.getChapterCount),so("design:type",re.a)],zo.prototype,"chapterCount$",void 0),co([Object(U.e)(Me.a.getSelectedLabel),so("design:type",re.a)],zo.prototype,"selectedLabel$",void 0),co([Object(U.e)(Ee.b.getQuizModeActive),so("design:type",re.a)],zo.prototype,"quizModeActive$",void 0),co([Object(U.e)(Ee.b.getActiveQuestionIndex),so("design:type",re.a)],zo.prototype,"activeQuestionIndex$",void 0),co([Object(U.e)(Ee.b.getQuestionTotal),so("design:type",re.a)],zo.prototype,"questionTotal$",void 0),co([Object(U.e)(Ee.b.getQuestionsRemaining),so("design:type",re.a)],zo.prototype,"questionRemaining$",void 0),co([Object(U.e)(Ee.b.getQuizSettings),so("design:type",re.a)],zo.prototype,"quizSettings$",void 0),co([Object(U.e)(Ee.b.getQuizModeLocked),so("design:type",re.a)],zo.prototype,"quizLocked$",void 0),zo),jo=c("4LIl"),Uo=c("Dz/e"),Io=c("j8e5"),To=c("Ryms"),Vo=c("cAYK"),Ro=c("stSV"),Eo=c("ewuU"),Lo=c("fnuH"),No=c("Vv7R"),$o=c("8qIY"),Ao=c("jhN1"),Qo=c("R0Ic"),qo=c("ufUH"),Fo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ho=["viewColumn"];function Bo(e,t){if(1&e&&(P.Vb(0,"div",6),P.Qb(1,"app-spinner",7),P.hc(2,"async"),P.Ub()),2&e){var n,i=P.gc();P.Db(1),P.mc("label",null==(n=P.ic(2,1,i.scrim$))?null:n.label)}}var Wo,Jo,Go=[[["","view-column-header",""]],"*"],Ko=function(e,t,n){return{"view-column--unpadded":e,"view-column--left":t,"view-column--right":n}},Yo=["[view-column-header]","*"],Zo=((Wo=function(){function e(){m(this,e),this.unpadded=!1,this.placement="left"}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Wo)},Wo.\u0275cmp=P.Jb({type:Wo,selectors:[["app-view-column"]],viewQuery:function(e,t){var n;1&e&&P.Vc(Ho,!0),2&e&&P.xc(n=P.dc())&&(t.viewColumn=n.first)},inputs:{unpadded:"unpadded",placement:"placement"},ngContentSelectors:Yo,decls:9,vars:8,consts:[[1,"view-column",3,"ngClass"],["viewColumn",""],["class","view-column__scrim",4,"ngIf"],[1,"view-column__inner"],[1,"view-column__header"],[1,"view-column__body"],[1,"view-column__scrim"],["size","large",3,"label"]],template:function(e,t){var n;(1&e&&(P.lc(Go),P.Vb(0,"div",0,1),P.Nc(2,Bo,3,3,"div",2),P.hc(3,"async"),P.Vb(4,"article",3),P.Vb(5,"div",4),P.kc(6),P.Ub(),P.Vb(7,"div",5),P.kc(8,1),P.Ub(),P.Ub(),P.Ub()),2&e)&&(P.mc("ngClass",P.rc(4,Ko,t.unpadded,"left"===t.placement,"right"===t.placement)),P.Db(2),P.mc("ngIf",null==(n=P.ic(3,2,t.scrim$))?null:n.show))},directives:[C.m,C.p,Qe.a],pipes:[C.b],styles:[".view-column[_ngcontent-%COMP%]{pointer-events:auto;background:#fff;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;width:320px;height:100%;position:absolute;z-index:30}.view-column--left[_ngcontent-%COMP%]{left:0}.view-column--right[_ngcontent-%COMP%]{right:0;box-shadow:0 -1px 24px rgba(0,0,0,.4)}.view-column--unpadded[_ngcontent-%COMP%]   .view-column__body[_ngcontent-%COMP%]{padding:0}.view-column__inner[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #eaeff5;display:flex;flex-direction:column;height:100%;width:320px;position:absolute;left:0;z-index:10}.view-column__header[_ngcontent-%COMP%]{flex-shrink:1;background:#fff}.view-column__header[_ngcontent-%COMP%]:empty{display:none}.view-column__body[_ngcontent-%COMP%]{overflow-y:auto;flex-grow:1;height:100%;padding:16px 12px}.view-column__scrim[_ngcontent-%COMP%]{background-color:#fff;position:absolute;display:flex;justify-content:center;align-items:center;z-index:50;left:0;right:0;top:0;bottom:0}"],changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(I.a.getScrim),Fo("design:type",re.a)],Wo.prototype,"scrim$",void 0),Wo),Xo=["*"],er=((Jo=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Jo)},Jo.\u0275cmp=P.Jb({type:Jo,selectors:[["app-view-list-container"],["","app-view-list-container",""]],ngContentSelectors:Xo,decls:2,vars:0,consts:[[1,"view-list-container"]],template:function(e,t){1&e&&(P.lc(),P.Vb(0,"div",0),P.kc(1),P.Ub())},styles:[".view-list-container{display:flex;flex-direction:column}"],encapsulation:2,changeDetection:0}),Jo),tr=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},nr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ir=function(e,t,n,i){return{"view-logo--full-color":e,"view-logo--full-white":t,"view-logo--small-color":n,"view-logo--small-white":i}};function or(e,t){if(1&e&&(P.Tb(0),P.Qb(1,"a",1),P.Sb()),2&e){var n=P.gc();P.Db(1),P.mc("href","https://www.biodigital.com?utm_source="+(n.isNative?"human_mobile":"human_web")+"&utm_medium=PLG&utm_campaign=poweredby&ref=poweredby",P.Fc)("ngClass",P.sc(3,ir,"color"===n.logoColor&&"full"===n.logoSize,"white"===n.logoColor&&"full"===n.logoSize,"color"===n.logoColor&&"small"===n.logoSize,"white"===n.logoColor&&"small"===n.logoSize))("gaLabel",n.contentId)}}function rr(e,t){if(1&e&&(P.Tb(0),P.Qb(1,"span",2),P.Sb()),2&e){var n=P.gc();P.Db(1),P.mc("ngClass",P.sc(1,ir,"color"===n.logoColor&&"full"===n.logoSize,"white"===n.logoColor&&"full"===n.logoSize,"color"===n.logoColor&&"small"===n.logoSize,"white"===n.logoColor&&"small"===n.logoSize))}}var ar,cr,sr=((ar=function(){function e(){m(this,e),this.logoSize="full",this.logoColor="color",this.contentId="",this.source="",this.isNative=!1,this.isLight=!0,this.breakpoint=To.a,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){this.isNative=Te.a.native}}]),e}()).\u0275fac=function(e){return new(e||ar)},ar.\u0275cmp=P.Jb({type:ar,selectors:[["app-view-logo"]],inputs:{logoSize:"logoSize",logoColor:"logoColor",contentId:"contentId"},decls:4,vars:6,consts:[[4,"ngIf"],["target","_blank","title","Powered by BioDigital","aria-label","Powered by BioDigital (opens in a new tab)","data-test","viewLogo","gaCategory","Logo","gaEvent","clicked_powered_by",1,"view-logo",3,"href","ngClass","gaLabel"],["title","Powered by BioDigital",1,"view-logo",3,"ngClass"]],template:function(e,t){var n,i;(1&e&&(P.Nc(0,or,2,8,"ng-container",0),P.hc(1,"async"),P.Nc(2,rr,2,6,"ng-container",0),P.hc(3,"async")),2&e)&&(P.mc("ngIf",null==(n=P.ic(1,2,t.layout$))?null:n.logo.isHyperLink),P.Db(2),P.mc("ngIf",!(null!=(i=P.ic(3,4,t.layout$))&&i.logo.isHyperLink)))},directives:[C.p,B.a,B.b,C.m],pipes:[C.b],styles:["[_nghost-%COMP%]{display:flex;height:52px;align-items:center}.view-logo[_ngcontent-%COMP%]:focus{border-radius:4px;outline:2px solid #2d72dc!important}.view-logo--small-color[_ngcontent-%COMP%]{width:28px;height:44px;background:url(logo-color.svg) 50% no-repeat}.view-logo--full-color[_ngcontent-%COMP%]{width:120px;height:32px;background:url(powered-by-biodigital-color.svg) 50% no-repeat}.view-logo--small-white[_ngcontent-%COMP%]{width:28px;height:44px;background:url(logo-white.svg) 50% no-repeat}.view-logo--full-white[_ngcontent-%COMP%]{width:120px;height:32px;background:url(powered-by-biodigital-white.svg) 50% no-repeat}.view-logo[_ngcontent-%COMP%]:not([hidden]){display:flex}.view-logo[href][_ngcontent-%COMP%]:hover{cursor:pointer}"],changeDetection:0}),tr([Object(U.e)(I.a.getUI),nr("design:type",re.a)],ar.prototype,"layout$",void 0),tr([Object(U.e)(we.a.getSelectedChapterBackground),nr("design:type",re.a)],ar.prototype,"background$",void 0),tr([Object(U.e)(Io.a.getBreakpoint),nr("design:type",re.a)],ar.prototype,"breakpoint$",void 0),ar),lr=function(e){return{"view-list-item--selected":e}},pr=["*"],ur=((cr=function(){function e(){m(this,e),this.selected=!1}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||cr)},cr.\u0275cmp=P.Jb({type:cr,selectors:[["app-view-list-item"],["","app-view-list-item",""]],inputs:{selected:"selected"},ngContentSelectors:pr,decls:2,vars:3,consts:[[1,"view-list-item",3,"ngClass"]],template:function(e,t){1&e&&(P.lc(),P.Vb(0,"div",0),P.kc(1),P.Ub()),2&e&&P.mc("ngClass",P.pc(1,lr,t.selected))},directives:[C.m],styles:['.text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.button{font-size:12px;letter-spacing:.3px;line-height:1.4em;align-items:center;background:none;border-color:transparent;border-radius:4px;border-width:0;color:inherit;display:flex;font-family:Inter UI,sans-serif;justify-content:center;margin:0;outline:0 none;padding:0 16px;position:relative;text-align:center;text-decoration:none;transition:background-color .12s;width:100%}.button:not([disabled]):hover{cursor:pointer}.button:focus .button--themed{outline:2px solid #2d72dc!important}.button:after{content:" ";background-color:#283853;border-radius:4px;display:block;position:absolute;left:0;top:0;bottom:0;right:0;opacity:0;z-index:1;transition:opacity .06s}.button:not(.button--disabled):hover:after{opacity:.7}.button__container{position:relative;z-index:2;width:100%}.button--uppercase{text-transform:uppercase}.button--expanded{display:flex;flex:1}.button--xsmall{height:24px;min-width:24px;padding:0 8px;font-size:10px;letter-spacing:.25px;line-height:1.4em}.button--small{height:32px;min-width:32px;padding:0 12px}.button--medium,.button--small{font-size:12px;letter-spacing:.3px;line-height:1.4em}.button--medium{height:36px;min-width:36px;padding:0 16px}.button--large{height:48px;min-width:48px;padding:0 16px;font-size:14px;letter-spacing:.35px;line-height:1.4em}.button--no-border,.button--no-border:after{border-radius:0!important}.button--left{text-align:left}.button--themed{color:#374a68}.button--themed:hover{color:#1c2a3f}.button--themed:after{background-color:#d7e0ea}.button--dark{color:#d7e0ea}.button--dark:hover{color:#fff}.button--dark:after{background-color:#283853}.button--dark.button--flat{background:#374a68}.button--dark.button--default{background:transparent}.button--dark.button--outline{background:transparent;border:1px solid #374a68;transition:border-color .12s}.button--dark.button--outline:hover{border-color:#96a8c0}.button--dark.button--outline:hover:after{background-color:transparent;display:none}.button--dark.button--text{background:transparent;color:#d7e0ea}.button--dark.button--text:hover{color:#fff}.button--dark.button--text:hover:after{display:none}.button--dark.button--selected{background-color:#2d72dc;color:#fff}.button--dark.button--selected:hover:after{display:none}.button--light{color:#283853}.button--light:hover{color:#1c2a3f}.button--light:after{background-color:#96a8c0}.button--light:not(.button--disabled):hover:after{opacity:.6}.button--light.button--flat{background:#d7e0ea;font-weight:500}.button--light.button--flat.button--selected{background-color:#96a8c0}.button--light.button--default{background:transparent;color:#131c2a}.button--light.button--default:not(.button--disabled):hover:after{opacity:.2}.button--light.button--outline{background:transparent;border:1px solid #96a8c0;color:#283853;transition:border-color .12s}.button--light.button--outline:after{display:none}.button--light.button--outline:hover{background:rgba(55,74,104,.05);border-color:#374a68;color:#1c2a3f}.button--light.button--outline:hover:after{background-color:transparent}.button--light.button--selected{background-color:#eaeff5}.button--light.button--selected:hover:after{display:none}.button--light.button--text{color:#283853}.button--light.button--text:hover{color:#1c2a3f}.button--light.button--text:hover:after{display:none}.button--primary{background:#de3535;color:#fff}.button--primary:after{background:#f9fafd}.button--primary:not([disabled]):hover:after{opacity:.1}.button--info{background:#3892dc;color:#fff}.button--info:after{background:#f9fafd}.button--info:hover:after{opacity:.1}.button--selected{background-color:#2d72dc}.button--disabled{opacity:.5}.button--circle{border-radius:50%}.button--circle.button--xsmall{width:24px}.button--circle.button--small{width:32px;padding:0 6px}.button--circle.button--medium{width:36px;padding:0 8px}.button--circle.button--large{width:48px}.button--circle:after{border-radius:50%}.button--rounded,.button--rounded:after{border-radius:18px}[app-view-list-item]{border-color:transparent;background:none;border-width:0;padding:0;outline:none;margin:0;pointer-events:all;display:flex;width:100%}[app-view-list-item]::-moz-focus-inner{border:0}[app-view-list-item]:not([disabled]):hover{cursor:pointer}.view-list-item{font-size:14px;letter-spacing:.35px;line-height:1.4em;display:flex;flex-grow:1;flex-direction:row;padding:12px;border-radius:2px;border-left:4px solid transparent;background-color:transparent;color:#131c2a;transition:background-color 125ms,color 125ms,border 125ms}.view-list-item:hover{cursor:pointer;background:#eaeff5}.view-list-item:focus{outline:2px solid #2d72dc!important}.view-list-item--selected{border-left:4px solid #2d72dc;background-color:#f0f8ff}.view-list-item__index{display:flex;flex:0 0 32px;justify-content:center}.view-list-item__title{word-wrap:break-word;overflow-wrap:break-word;display:flex;flex:1 1 auto;padding-right:4px}.view-list-item__thumb{background-color:#f9fafd;background-size:cover;border-radius:4px;background-repeat:no-repeat;flex:0 0 56px;height:56px;width:56px;transition:border-color .1s}'],encapsulation:2,changeDetection:0}),cr),gr=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},hr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function dr(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",2),P.cc("click",(function(){return P.Cc(n),P.gc().handleCloseClick()})),P.Ub()}}function br(e,t){1&e&&(P.Vb(0,"span"),P.Pc(1,"Hide Labels"),P.Ub())}function fr(e,t){1&e&&(P.Vb(0,"span"),P.Pc(1,"Show Labels"),P.Ub())}function xr(e,t){if(1&e){var n=P.Wb();P.Vb(0,"app-view-column",3),P.Vb(1,"nav",4),P.Vb(2,"app-view-panel",5),P.Qb(3,"app-view-logo"),P.Ub(),P.Vb(4,"app-view-panel",5),P.Vb(5,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleCloseClick()})),P.Pc(6,"Close"),P.Ub(),P.Ub(),P.Vb(7,"app-view-panel",5),P.Vb(8,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleToggleToolbar("tools")})),P.Qb(9,"app-icon",7),P.Pc(10," Open Explore Tools "),P.Ub(),P.Vb(11,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleToggleToolbar("media")})),P.Qb(12,"app-icon",8),P.Pc(13," Open Media Controls "),P.Ub(),P.Vb(14,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleSearchClick()})),P.Qb(15,"app-icon",9),P.Pc(16," Search Anatomy "),P.Ub(),P.Ub(),P.Vb(17,"app-view-panel",5),P.Vb(18,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleFullscreenClick()})),P.Qb(19,"app-icon",10),P.Pc(20," Enter Fullscreen "),P.Ub(),P.Ub(),P.Vb(21,"app-view-panel",5),P.Vb(22,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleToggleLabelsClick()})),P.Qb(23,"app-icon",11),P.Nc(24,br,2,0,"span",12),P.hc(25,"async"),P.Nc(26,fr,2,0,"span",12),P.hc(27,"async"),P.Ub(),P.Ub(),P.Vb(28,"app-view-panel",5),P.Vb(29,"button",13),P.cc("click",(function(){return P.Cc(n),P.gc().handleTutorialClick()})),P.hc(30,"async"),P.Pc(31," Launch Tutorial "),P.Ub(),P.Vb(32,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleHelpBasicsClick()})),P.Pc(33,"3D Navigation Basics"),P.Ub(),P.Vb(34,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc().handleHelpShortcutsClick()})),P.Pc(35,"Keyboard Shortcuts"),P.Ub(),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i,o=P.gc();P.mc("@slideInOut",void 0),P.Db(2),P.mc("showHeader",!1),P.Db(2),P.mc("showHeader",!1),P.Db(3),P.mc("showHeader",!1),P.Db(10),P.mc("showHeader",!1),P.Db(4),P.mc("showHeader",!1),P.Db(3),P.mc("ngIf",P.ic(25,10,o.showLabels$)),P.Db(2),P.mc("ngIf",!P.ic(27,12,o.showLabels$)),P.Db(2),P.mc("showHeader",!1),P.Db(1),P.mc("disabled",!(null!=(i=P.ic(30,14,o.selectedChapterReady$))&&i.model))}}var mr,vr=((mr=function(){function e(t,n){m(this,e),this.store=t,this.viewService=n}return x(e,[{key:"ngOnInit",value:function(){}},{key:"handleCloseClick",value:function(){this.store.dispatch(new xe.a.ToggleMenu(!1))}},{key:"handleToggleLabelsClick",value:function(){this.viewService.toggleLabels()}},{key:"handleFullscreenClick",value:function(){this.handleCloseClick(),Oe.a.toggleFullscreen()}},{key:"handleNewTabClick",value:function(){this.handleCloseClick(),this.viewService.openInNewTab()}},{key:"handleSearchClick",value:function(){this.handleCloseClick(),this.viewService.toggleSearch()}},{key:"handleTutorialClick",value:function(){this.handleCloseClick(),this.viewService.toggleTutorial(!0)}},{key:"handleHelpBasicsClick",value:function(){this.handleCloseClick(),this.viewService.toggleHelp(qo.a.Basics)}},{key:"handleHelpShortcutsClick",value:function(){this.handleCloseClick(),this.viewService.toggleHelp(qo.a.Shortcuts)}},{key:"handleToggleToolbar",value:function(e){this.handleCloseClick();var t=this.store.selectSnapshot(I.a.getUI);t.media.status=me.a.Hide,t.tools.status=me.a.Hide,t.toolbar.status=me.a.Hide,t[e].status=me.a.Show,this.store.dispatch(new xe.a.SetUI(t))}}]),e}()).\u0275fac=function(e){return new(e||mr)(P.Pb(U.h),P.Pb(Ne.a))},mr.\u0275cmp=P.Jb({type:mr,selectors:[["app-view-menu-column"]],decls:4,vars:6,consts:[["class","view-menu-scrim",3,"click",4,"ngIf"],["placement","right","class","view-menu-column",4,"ngIf"],[1,"view-menu-scrim",3,"click"],["placement","right",1,"view-menu-column"],["app-view-list-container",""],["padding","dense",3,"showHeader"],["app-view-list-item","",3,"click"],["icon","pen",1,"mr-3"],["icon","play",1,"mr-3"],["icon","search",1,"mr-3"],["icon","expand",1,"mr-3"],["icon","tag",1,"mr-3"],[4,"ngIf"],["app-view-list-item","",3,"disabled","click"]],template:function(e,t){1&e&&(P.Nc(0,dr,1,0,"div",0),P.hc(1,"async"),P.Nc(2,xr,36,16,"app-view-column",1),P.hc(3,"async")),2&e&&(P.mc("ngIf",P.ic(1,2,t.menuOpen$)),P.Db(2),P.mc("ngIf",P.ic(3,4,t.menuOpen$)))},directives:[C.p,Zo,er,zt,sr,ur,Fe.a],pipes:[C.b],styles:[".view-menu-column[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:10000;height:100%}.view-menu-scrim[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);display:flex;position:fixed;justify-content:center;align-items:center;top:0;bottom:0;left:0;right:0;transition:background-color .25s,opacity .25s;z-index:10000}.view-menu-scrim[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:rgba(0,0,0,.2)}"],data:{animation:[Object(Qo.n)("slideInOut",[Object(Qo.m)(":enter",[Object(Qo.l)({transform:"translateX(320px)"}),Object(Qo.e)("200ms ease-out",Object(Qo.l)({transform:"*"}))]),Object(Qo.m)(":leave",[Object(Qo.e)("200ms",Object(Qo.l)({transform:"translateX(320px)"}))])])]},changeDetection:0}),gr([Object(U.e)(we.a.getSelectedChapterReadyState),hr("design:type",re.a)],mr.prototype,"selectedChapterReady$",void 0),gr([Object(U.e)(I.a.getMenuOpen),hr("design:type",re.a)],mr.prototype,"menuOpen$",void 0),gr([Object(U.e)(I.a.getCanTouch),hr("design:type",re.a)],mr.prototype,"canTouch$",void 0),gr([Object(U.e)(gn.a.getShowLabels),hr("design:type",re.a)],mr.prototype,"showLabels$",void 0),mr),wr=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},yr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function _r(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",1),P.cc("click",(function(){return P.Cc(n),P.gc().handleToggle()}))("keyup.enter",(function(){return P.Cc(n),P.gc().handleToggle()})),P.Qb(1,"app-icon",2),P.Ub()}if(2&e){var i=P.gc();P.mc("@show",void 0)("matTooltip",i.isIn?"Open Info Panel":"Close Info Panel"),P.Eb("aria-label",i.isIn?"Open Info Panel":"Close Info Panel")("aria-expanded",!i.isIn),P.Db(1),P.mc("icon",i.isIn?"caret-right":"caret-left")}}var Cr,Or=((Cr=function(){function e(t,n,i,o){m(this,e),this.viewService=t,this.layoutService=n,this.changeDetectorRef=i,this.store=o,this.ngUnsubscribe=new ne.a,this.isIn=!1,this.columnToggleVisible=!1}return x(e,[{key:"ngOnInit",value:function(){var e=this;Object(oe.b)(this.chapter$,this.layout$).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=(n[0],n[1]);e.isIn=i.column.status===me.a.Collapse,e.columnToggleVisible=e.layoutService.isVisible(De.a.ColumnToggle),e.changeDetectorRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"isVisible",value:function(){return this.layoutService.isVisible(De.a.ColumnToggle)}},{key:"handleToggle",value:function(){this.viewService.toggleColumn(),this.viewService.toggleSearch(null,!1),this.viewService.toggleNodeInfo(!1),this.viewService.toggleLabelInfo(!1),this.changeDetectorRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||Cr)(P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(P.i),P.Pb(U.h))},Cr.\u0275cmp=P.Jb({type:Cr,selectors:[["app-view-column-toggle"]],decls:1,vars:1,consts:[["class","view-column-toggle","data-test","viewInformationPanel","role","button","tabindex","0","matTooltipPosition","right",3,"matTooltip","click","keyup.enter",4,"ngIf"],["data-test","viewInformationPanel","role","button","tabindex","0","matTooltipPosition","right",1,"view-column-toggle",3,"matTooltip","click","keyup.enter"],[3,"icon"]],template:function(e,t){1&e&&P.Nc(0,_r,2,5,"div",0),2&e&&P.mc("ngIf",t.columnToggleVisible)},directives:[C.p,Gt.c,Fe.a],styles:[".view-column-toggle{color:#131c2a;background:hsla(0,0%,100%,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);border-radius:0 4px 4px 0;display:flex;justify-content:center;align-items:center;width:24px;height:48px}.view-column-toggle:hover{background-color:#eaeff5;cursor:pointer}"],encapsulation:2,data:{animation:[Object(Qo.n)("show",[Object(Qo.m)(":enter",[Object(Qo.l)({opacity:0,transform:"translateX(-32px)"}),Object(Qo.e)("300ms ease-in-out",Object(Qo.l)({opacity:1,transform:"*"}))]),Object(Qo.m)(":leave",[Object(Qo.e)("300ms ease-in-out",Object(Qo.l)({transform:"translateX(-32px)",opacity:0}))])])]},changeDetection:0}),wr([Object(U.e)(I.a.getUI),yr("design:type",re.a)],Cr.prototype,"layout$",void 0),wr([Object(U.e)(we.a.getSelectedChapter),yr("design:type",re.a)],Cr.prototype,"chapter$",void 0),Cr),kr=c("1w2z"),Pr=c("DTUA"),Mr=c("zP1m");function zr(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",1),P.Vb(1,"app-message-toggle",2),P.cc("handleDismiss",(function(){return P.Cc(n),P.gc().handleDismiss()})),P.Vb(2,"div"),P.Pc(3," This model appears to be performing slowly on your device. For an optimal experience, please switch to a different device or try another model. "),P.Ub(),P.Ub(),P.Ub()}2&e&&(P.Db(1),P.mc("dismiss",!0))}var Sr,Dr,jr,Ur,Ir=[],Tr=((jr=function(){function e(t,n){m(this,e),this.storageService=t,this.changeRef=n,this.shown=!1,this.sampling=!1}return x(e,[{key:"ngOnInit",value:function(){this.storageService.getLocalItem(Pr.b.Iphone12Warning)||this.testDevices()}},{key:"ngOnDestroy",value:function(){this.sampling=!1}},{key:"testDevices",value:function(){var e=window.matchMedia("only screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)"),t=window.matchMedia("only screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)"),n=window.matchMedia("only screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2)"),i=e.matches||t.matches||n.matches,o=/iPhone|iPad/.test(navigator.userAgent),r=/OS\s14/.test(navigator.userAgent);i&&o&&r&&this.startFrameSampling()}},{key:"startFrameSampling",value:function(){var e=this;this.sampling=!0,Sr=0,Dr=Date.now(),requestAnimationFrame((function t(){e.frame()?(e.shown=!0,e.changeRef.markForCheck()):e.sampling&&requestAnimationFrame(t)}))}},{key:"frame",value:function(){Sr++;var e=Date.now();if(e>=Dr+500){var t=Math.floor(500*Sr/(e-Dr)*2);if(Ir.push(t),Ir.length>3&&Ir.shift(),3===Ir.length&&(Ir[0]+Ir[1]+Ir[2])/3<10)return!0;Dr=e,Sr=0}}},{key:"handleDismiss",value:function(){this.shown=!1,this.changeRef.markForCheck(),this.storageService.setLocalItem(Pr.b.Iphone12Warning,!0)}}]),e}()).\u0275fac=function(e){return new(e||jr)(P.Pb(Pr.d),P.Pb(P.i))},jr.\u0275cmp=P.Jb({type:jr,selectors:[["app-view-iphone12-warning"]],decls:1,vars:1,consts:[["class","warning",4,"ngIf"],[1,"warning"],["type","warning","toggleStyle","flat","icon","info-circle",3,"dismiss","handleDismiss"]],template:function(e,t){1&e&&P.Nc(0,zr,4,1,"div",0),2&e&&P.mc("ngIf",t.shown)},directives:[C.p,Mr.a],styles:[".warning[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1002}"],changeDetection:0}),jr),Vr=c("N2iv"),Rr=c("HdmJ"),Er=c("IZUe"),Lr=((Ur=function(){function e(){m(this,e)}return x(e,[{key:"onClick",value:function(e,t){t.select()}}]),e}()).\u0275fac=function(e){return new(e||Ur)},Ur.\u0275dir=P.Kb({type:Ur,selectors:[["","appSelectOnFocus",""]],hostBindings:function(e,t){1&e&&P.cc("click",(function(e){return t.onClick(e,e.target)}))}}),Ur),Nr=c("2Vo4"),$r=c("C9yA"),Ar=c("nS47"),Qr=c("e0fF"),qr=c("NEgD"),Fr=c("vxfF"),Hr=c("rY+M");function Br(e,t){1&e&&(P.Vb(0,"div",4),P.Pc(1,"No results"),P.Ub())}function Wr(e,t){if(1&e&&(P.Vb(0,"div",5),P.Qb(1,"app-tree",6),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("theme",n.theme)("searchGraph",n.searchGraph)}}function Jr(e,t){if(1&e&&(P.Vb(0,"div"),P.Qb(1,"app-tree-nested-node",9),P.Ub()),2&e){var n=t.$implicit,i=P.gc(2);P.Db(1),P.mc("theme",i.theme)("nested",!1)("node",n)("graph",i.prunedViewGraph)}}function Gr(e,t){if(1&e&&(P.Vb(0,"cdk-virtual-scroll-viewport",7),P.Nc(1,Jr,2,4,"div",8),P.Ub()),2&e){var n=P.gc();P.Kc("height",n.searchHeight,"px"),P.mc("itemSize",64),P.Db(1),P.mc("cdkVirtualForOf",n.searchResults)("cdkVirtualForTrackBy",n.trackTreeNode)}}var Kr,Yr,Zr=((Kr=function(){function e(t,n,i,o,r,a){m(this,e),this.renderer=t,this.changeDetectorRef=n,this.elementRef=i,this.engineService=o,this.store=r,this.liveAnnouncer=a,this._query="",this._displayMode=Vr.a.List,this.displayModeChange=new P.p,this.theme=Rr.a.Dark,this.treeSearchDisplayMode=Vr.a,this.searchResults=[],this.searchHeight=0,this.ngUnsubscribe=new ne.a,this.numResults$=new Nr.a(0)}return x(e,[{key:"query",get:function(){return this._query},set:function(e){this._query=e||"",this.handleQueryChange(),void 0!==this.viewGraph&&this.numResults$.next(this.searchResults.length)}},{key:"displayMode",get:function(){return this._displayMode},set:function(e){null!=e&&(this._displayMode=e,this.handleQueryChange(),this.displayModeChange.emit(this.displayMode))}},{key:"viewGraph",get:function(){return this._viewGraph},set:function(e){this._viewGraph=e,this.leafNodes=this.engineService.getLeaves(),this.buildPrunedViewGraph(this.displayMode),this.handleQueryChange(),this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){}},{key:"buildPrunedViewGraph",value:function(e){var t=this.store.selectSnapshot(we.a.getSelectedChapter),n=this.engineService.createViewGraph(t.showObjects,!0);this.prunedViewGraph=n}},{key:"ngAfterViewInit",value:function(){var e=this;this.renderer.listen("window","resize",(function(t){e.resize()})),this.numResults$.pipe(Object(he.a)(600)).subscribe((function(t){e.liveAnnouncer.announce(e.searchResults.length+" structures found")}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleQueryChange",value:function(){var e=this.search(this._query,this.displayMode===Vr.a.List?this.prunedViewGraph:this.viewGraph);this.displayMode===Vr.a.Tree&&(this.searchGraph=function(e,t){var n=Object(Qr.a)();return t.reduce((function(t,n){return function e(t,n,i){Ar.a.addNode(t,n);var o=Ar.a.getAncestor(i,n.id);if(o){var r=t.successors[o]||[];return r.push(n.id),t.successors[o]=Object(Se.uniq)(r),t.predecessors[n.id]=o,e(t,Ar.a.getNode(i,o),i)}return Ar.a.addRootNode(t,n),t}(t,n,e)}),n)}(this.viewGraph,e)),this.searchResults=e,this.resize()}},{key:"resize",value:function(){var e=this;this.getSearchHeight().pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.searchHeight=t,e.changeDetectorRef.markForCheck()}))}},{key:"getSearchHeight",value:function(){var e=this;return new re.a((function(t){setTimeout((function(){var n=e.elementRef.nativeElement.offsetHeight;null!=n&&(t.next(n),t.complete())}))}))}},{key:"search",value:function(e,t){return void 0===t?[]:(e=Object($r.remove)(e.toLowerCase()),Object.values(t.nodes).filter((function(t){return 0===e.length||Object($r.remove)(t.label.toLowerCase()).indexOf(e)>=0})).sort((function(e,t){return e.label.localeCompare(t.label)})))}},{key:"trackTreeNode",value:function(e,t){return t.id}}]),e}()).\u0275fac=function(e){return new(e||Kr)(P.Pb(P.H),P.Pb(P.i),P.Pb(P.m),P.Pb(xn.a),P.Pb(U.h),P.Pb(O.i))},Kr.\u0275cmp=P.Jb({type:Kr,selectors:[["app-tree-search"]],inputs:{query:"query",displayMode:"displayMode",viewGraph:"viewGraph",theme:"theme"},outputs:{displayModeChange:"displayModeChange"},decls:4,vars:3,consts:[[1,"tree-search"],["class","tree-search__empty",4,"ngIf"],["class","pr-3 pv-3",4,"ngIf"],["class","pv-3",3,"itemSize","height",4,"ngIf"],[1,"tree-search__empty"],[1,"pr-3","pv-3"],[1,"tree-search__tree",3,"theme","searchGraph"],[1,"pv-3",3,"itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"mr-3",2,"height","64px",3,"theme","nested","node","graph"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,Br,2,0,"div",1),P.Nc(2,Wr,2,2,"div",2),P.Nc(3,Gr,2,5,"cdk-virtual-scroll-viewport",3),P.Ub()),2&e&&(P.Db(1),P.mc("ngIf",0===t.searchResults.length),P.Db(1),P.mc("ngIf",t.displayMode===t.treeSearchDisplayMode.Tree),P.Db(1),P.mc("ngIf",t.displayMode===t.treeSearchDisplayMode.List))},directives:[C.p,qr.a,Fr.e,Fr.a,Fr.d,Hr.a],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.tree-search{display:flex;flex-direction:column;flex:1 1 auto;height:100%}.tree-search__tree{flex-grow:1;width:100%}.tree-search__empty{font-size:14px;letter-spacing:.35px;line-height:1.4em;padding:12px;font-style:italic;margin-top:12px}.tree-search cdk-virtual-scroll-viewport{flex:1 1 auto}.tree-search cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{padding-right:12px}"],encapsulation:2,changeDetection:0}),Kr),Xr=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ea=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ta=["searchInput"],na=["tabButton"],ia=function(e){return{"view-search__action--selected":e}},oa=((Yr=function(){function e(t,n,i){m(this,e),this.viewService=t,this.engineService=n,this.store=i,this.ngUnsubscribe=new ne.a,this.query="",this.themeEnum=Rr.a,this.treeSearchDisplayMode=Vr.a}return x(e,[{key:"ngOnInit",value:function(){this.initViewGraphSubscription(),this.initDisplayModeSubscription()}},{key:"initViewGraphSubscription",value:function(){var e=this;this.store.select(we.a.getSelectedChapterId).pipe(Object(pe.a)((function(e){return null!=e})),Object(fe.a)(),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new le.E(e.engineService.createViewGraph({},!1)))}))}},{key:"initDisplayModeSubscription",value:function(){var e=this;this.searchDisplayMode$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){setTimeout((function(){e.searchInput.nativeElement.focus()}))}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleSearchKeyup",value:function(e,t){"Escape"===e.key&&(this.handleExitClick(),this.searchInput.nativeElement.blur()),this.query=t}},{key:"handleExitClick",value:function(){this.query="",this.viewService.toggleSearch(null,!1)}},{key:"toggleDisplayMode",value:function(){var e=this.store.selectSnapshot(I.a.getSearchDisplayMode);e=e===Vr.a.List?Vr.a.Tree:Vr.a.List,this.setDisplayMode(e)}},{key:"setDisplayMode",value:function(e){this.store.dispatch(new xe.a.SetSearchDisplayMode(e))}},{key:"handleTreeButtonClick",value:function(){this.setDisplayMode(Vr.a.Tree)}},{key:"handleListButtonClick",value:function(){this.setDisplayMode(Vr.a.List)}},{key:"getActiveTab",value:function(){switch(this.store.selectSnapshot(I.a.getSearchDisplayMode)){case Vr.a.List:return"searchTab";case Vr.a.Tree:return"treeTab";default:return null}}},{key:"shiftFocus",value:function(e,t){e.stopPropagation();var n=this._buttonRefs.toArray(),i=n.findIndex((function(e){return e.nativeElement==document.activeElement}));n[(i+t+n.length)%n.length].nativeElement.focus()}}]),e}()).\u0275fac=function(e){return new(e||Yr)(P.Pb(Ne.a),P.Pb(xn.a),P.Pb(U.h))},Yr.\u0275cmp=P.Jb({type:Yr,selectors:[["app-view-search"]],viewQuery:function(e,t){var n;1&e&&(P.Vc(ta,!0),P.Vc(na,!0)),2&e&&(P.xc(n=P.dc())&&(t.searchInput=n.first),P.xc(n=P.dc())&&(t._buttonRefs=n))},decls:29,vars:33,consts:[["role","dialog","cdkTrapFocus","",1,"view-search",3,"keyup.escape"],[1,"view-search__header"],[1,"view-search__actions-row"],["role","tablist",1,"view-search__actions",3,"keydown.arrowleft","keydown.arrowright"],["type","button","role","tab","id","treeTab",1,"view-search__action",3,"ngClass","click","keyup.space"],["tabButton",""],["aria-hidden","true",1,"view-search__action-icon",3,"icon"],["type","button","role","tab","id","searchTab",1,"view-search__action",3,"ngClass","click","keyup.space"],["aria-hidden","true","icon","search",1,"view-search__action-icon"],["type","button","matTooltip","Close Search","aria-label","Close Search",1,"view-search__exit",3,"click"],["icon","times"],[1,"view-search__input-row"],[1,"view-search__input-container"],["icon","search",1,"view-search__input-icon"],["appAutoFocus","","appSelectOnFocus","","role","search","type","text","aria-label","Start typing the search term, then use tab to navigate the results","placeholder","Search Anatomy",1,"view-search__input",3,"value","keyup"],["searchInput",""],["role","tabpanel",1,"view-search__body"],[3,"displayMode","theme","query","viewGraph"]],template:function(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",0),P.cc("keyup.escape",(function(){return t.handleExitClick()})),P.Vb(1,"div",1),P.Vb(2,"div",2),P.Vb(3,"div",3),P.cc("keydown.arrowleft",(function(e){return t.shiftFocus(e,-1)}))("keydown.arrowright",(function(e){return t.shiftFocus(e,1)})),P.Vb(4,"button",4,5),P.cc("click",(function(){return t.handleTreeButtonClick()}))("keyup.space",(function(){return t.handleTreeButtonClick()})),P.hc(6,"async"),P.hc(7,"async"),P.hc(8,"async"),P.Qb(9,"app-icon",6),P.Pc(10,"Tree "),P.Ub(),P.Vb(11,"button",7,5),P.cc("click",(function(){return t.handleListButtonClick()}))("keyup.space",(function(){return t.handleListButtonClick()})),P.hc(13,"async"),P.hc(14,"async"),P.hc(15,"async"),P.Qb(16,"app-icon",8),P.Pc(17,"Search "),P.Ub(),P.Ub(),P.Vb(18,"button",9),P.cc("click",(function(){return t.handleExitClick()})),P.Qb(19,"app-icon",10),P.Ub(),P.Ub(),P.Vb(20,"div",11),P.Vb(21,"div",12),P.Qb(22,"app-icon",13),P.Vb(23,"input",14,15),P.cc("keyup",(function(e){P.Cc(n);var i=P.yc(24);return t.handleSearchKeyup(e,i.value)})),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Vb(25,"div",16),P.Qb(26,"app-tree-search",17),P.hc(27,"async"),P.hc(28,"async"),P.Ub(),P.Ub()}2&e&&(P.Db(4),P.mc("ngClass",P.pc(29,ia,P.ic(6,13,t.searchDisplayMode$)===t.treeSearchDisplayMode.Tree)),P.Eb("aria-selected",P.ic(7,15,t.searchDisplayMode$)===t.treeSearchDisplayMode.Tree)("tabIndex",P.ic(8,17,t.searchDisplayMode$)===t.treeSearchDisplayMode.Tree?0:-1),P.Db(5),P.mc("icon","sitemap"),P.Db(2),P.mc("ngClass",P.pc(31,ia,P.ic(13,19,t.searchDisplayMode$)===t.treeSearchDisplayMode.List)),P.Eb("aria-selected",P.ic(14,21,t.searchDisplayMode$)===t.treeSearchDisplayMode.List)("tabIndex",P.ic(15,23,t.searchDisplayMode$)===t.treeSearchDisplayMode.List?0:-1),P.Db(12),P.mc("value",t.query),P.Db(2),P.Eb("aria-labelledby",t.getActiveTab()),P.Db(1),P.mc("displayMode",P.ic(27,25,t.searchDisplayMode$))("theme",t.themeEnum.Light)("query",t.query)("viewGraph",P.ic(28,27,t.viewGraph$)))},directives:[O.d,C.m,Fe.a,Gt.c,Er.a,Lr,Zr],pipes:[C.b],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-search{display:flex;flex-direction:column;height:100%}@-webkit-keyframes appear{0%{background-color:transparent}}@keyframes appear{0%{background-color:transparent}}.view-search__header{flex:0 0 auto;flex-direction:column;display:flex;-webkit-animation:appear .25s ease-out;animation:appear .25s ease-out}.view-search__actions-row{flex:0 0 auto;display:flex;padding:0 12px;justify-content:space-between;align-items:center;border-bottom:1px solid #d7e0ea}.view-search__actions{display:flex;height:56px;flex:1;justify-content:space-between}.view-search__action{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-weight:500;text-transform:uppercase;background:transparent;display:flex;align-items:center;justify-content:center;border:0;border-bottom:2px solid transparent;color:#374a68;cursor:pointer;width:49%;padding-top:4px}.view-search__action:hover:not(.view-search__action--selected){color:#131c2a;border-bottom-color:#d7e0ea}.view-search__action--selected{color:#131c2a;border-bottom-color:#2d72dc}.view-search__action-icon{margin-right:8px}.view-search__exit{display:flex;align-items:center;justify-content:center;border:0;border-radius:50%;color:#374a68;background-color:#d7e0ea;opacity:.8;cursor:pointer;width:28px;height:28px;margin-left:12px;outline:none}.view-search__input-row{flex:0 0 auto;display:flex;padding:12px}.view-search__input-container{background-color:#fff;border:1px solid #fff;display:flex;flex-grow:1;border-radius:4px}.view-search__input-container:hover{border-color:#61779e}.view-search__input-container:focus-within{outline:2px solid #2d72dc!important;outline-offset:-2px}.view-search__input-icon{background:0 0;display:flex;align-items:center;justify-content:center;color:#61779e;width:36px;height:36px;outline:0}.view-search__input{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:400;color:#131c2a;background:transparent;border:1px solid transparent;outline:none;flex:1 0 auto;padding:8px 12px 8px 0}.view-search__input::-ms-clear{display:none}.view-search__input::-moz-placeholder{color:#61779e;opacity:1}.view-search__input:-ms-input-placeholder{color:#61779e;opacity:1}.view-search__input::placeholder{color:#61779e;opacity:1}.view-search__body{flex:1 1 100%;overflow-y:scroll;padding-left:12px}.view-search__input{font-family:Inter UI,Font Awesome\\ 5 Pro!important}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.view-search__input{font-size:16px;padding:4px 8px;width:0}}}"],encapsulation:2,changeDetection:0}),Xr([Object(U.e)(gn.a.getViewGraph),ea("design:type",re.a)],Yr.prototype,"viewGraph$",void 0),Xr([Object(U.e)(I.a.getSearchDisplayMode),ea("design:type",re.a)],Yr.prototype,"searchDisplayMode$",void 0),Yr),ra=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function aa(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",7),P.cc("click",(function(){return P.Cc(n),P.gc().handleCloseClick()})),P.Ub()}2&e&&P.Eb("aria-label","Close")}function ca(e,t){if(1&e&&(P.Vb(0,"i",8),P.Pc(1),P.Ub()),2&e){var n=P.gc();P.Db(1),P.Rc(" ",n.node.info.latinLabel," ")}}function sa(e,t){if(1&e&&P.Qb(0,"p",9),2&e){var n=P.gc();P.Hb("text-italic",!(null!=n.node.info&&n.node.info.description)),P.mc("innerHTML",n.formatHTML((null==n.node.info?null:n.node.info.description)||"No description available"),P.Dc)}}function la(e,t){if(1&e&&(P.Vb(0,"a",10),P.Pc(1," View source "),P.Ub()),2&e){var n=P.gc();P.Eb("href",null==n.node.info?null:n.node.info.sourceLink,P.Fc)}}var pa,ua=function(e,t){return{"view-node-description--layout-column":e,"view-node-description--layout-drawer":t}},ga=((pa=function(){function e(t,n,i){m(this,e),this.store=t,this.actions=n,this.changeRef=i,this.layout=_t.a.Drawer,this.showClose=!0,this.isOpen=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){var e=this;this.initInfoListeners(),this.store.select(hn.a.getSelectedNode).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){void 0!==t&&(e.node=e.store.selectSnapshot(gn.a.getViewGraphNode)(t.objectId))}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleHideClick",value:function(e){this.store.dispatch(new dn.a.UpdateNodesShown(!1,[e.id]))}},{key:"handleCloseClick",value:function(){var e=this.store.selectSnapshot(I.a.getUI);e.nodeInfo.status=me.a.Hide,this.store.dispatch(new xe.a.SetUI(e))}},{key:"initInfoListeners",value:function(){var e=this;this.actions.pipe(Object(U.k)(le.s,le.r,le.G),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.isOpen=!0,e.changeRef.markForCheck()}))}},{key:"formatHTML",value:function(e){return e.trim().replace(new RegExp("\r?\n","g"),"<br><br>")}}]),e}()).\u0275fac=function(e){return new(e||pa)(P.Pb(U.h),P.Pb(U.b),P.Pb(P.i))},pa.\u0275cmp=P.Jb({type:pa,selectors:[["app-view-node-description"]],inputs:{layout:"layout",showClose:"showClose"},decls:9,vars:11,consts:[[1,"view-node-description",3,"ngClass"],[1,"view-node-description__header","mb-3"],["type","button","app-pin-button","","size","small","icon","arrow-left","class","mr-1 mt-1",3,"click",4,"ngIf"],[1,"view-node-description__title"],["class","mv-1 text-14 text-medium text-italic",4,"ngIf"],["class","view-node-description__body mv-2",3,"text-italic","innerHTML",4,"ngIf"],["class","view-node-description__attribution text-link text-underline mv-1","target","_blank","rel","noreferrer nofollow",4,"ngIf"],["type","button","app-pin-button","","size","small","icon","arrow-left",1,"mr-1","mt-1",3,"click"],[1,"mv-1","text-14","text-medium","text-italic"],[1,"view-node-description__body","mv-2",3,"innerHTML"],["target","_blank","rel","noreferrer nofollow",1,"view-node-description__attribution","text-link","text-underline","mv-1"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"div",1),P.Nc(2,aa,1,1,"button",2),P.Vb(3,"h2",3),P.Pc(4),P.Ub(),P.Ub(),P.Nc(5,ca,2,1,"i",4),P.Nc(6,sa,1,3,"p",5),P.hc(7,"async"),P.Nc(8,la,2,1,"a",6),P.Ub()),2&e&&(P.mc("ngClass",P.qc(8,ua,"column"===t.layout,"drawer"===t.layout)),P.Db(2),P.mc("ngIf",t.showClose),P.Db(2),P.Qc(null==t.node?null:t.node.label),P.Db(1),P.mc("ngIf",null==t.node.info?null:t.node.info.latinLabel),P.Db(1),P.mc("ngIf",!P.ic(7,6,t.querying$)),P.Db(2),P.mc("ngIf",null==t.node.info?null:t.node.info.sourceLink))},directives:[C.m,C.p,qe.a],pipes:[C.b],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-node-description{display:flex;flex-direction:column}.view-node-description--layout-drawer .view-node-description__body{margin-top:8px}.view-node-description--layout-column .view-node-description__body{margin-top:4px}.view-node-description__header{display:flex}.view-node-description__title{font-size:18px;letter-spacing:.45px;line-height:1.4em;flex:1 1 auto;font-weight:600;align-self:center}.view-node-description--layout-drawer .view-node-description__title,.view-node-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-node-description__body{color:#374a68}.view-node-description__attribution{font-size:12px;letter-spacing:.3px;line-height:1.4em;color:#374a68}.view-node-description__actions{cursor:pointer;outline:none;border:none;background:transparent;padding:4px 8px}"],encapsulation:2,changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(gn.a.getQuerying),ra("design:type",re.a)],pa.prototype,"querying$",void 0),pa),ha=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},da=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ba(e,t){1&e&&(P.Tb(0),P.Qb(1,"app-view-title"),P.Qb(2,"app-view-content-mode",6),P.Sb())}function fa(e,t){1&e&&P.Qb(0,"app-view-quiz")}function xa(e,t){if(1&e&&(P.Vb(0,"app-view-column",3),P.Tb(1,4),P.Nc(2,ba,3,0,"ng-container",5),P.hc(3,"async"),P.Nc(4,fa,1,0,"app-view-quiz",5),P.hc(5,"async"),P.Sb(),P.Ub()),2&e){var n=P.gc();P.mc("@slideInOut",void 0),P.Db(2),P.mc("ngIf",!P.ic(3,3,n.quizModeActive$)),P.Db(2),P.mc("ngIf",P.ic(5,5,n.quizModeActive$))}}function ma(e,t){1&e&&(P.Vb(0,"app-view-column",7),P.Qb(1,"app-view-search"),P.Ub()),2&e&&P.mc("unpadded",!0)("@slideInOut",void 0)}function va(e,t){1&e&&(P.Vb(0,"app-view-column",3),P.Qb(1,"app-view-node-description",6),P.Ub()),2&e&&P.mc("@slideInOut",void 0)}var wa,ya,_a=function(){return{"view-column-container--header-offset":!0}},Ca=((wa=function(){function e(t,n,i){m(this,e),this.viewService=t,this.layoutService=n,this.changeDetectorRef=i,this.ngUnsubscribe=new ne.a,this.viewLayout=De.a,this.application=Ie.a,this.columnVisible=!1,this.searchVisible=!1,this.nodeInfoVisible=!1}return x(e,[{key:"ngOnInit",value:function(){this.initLayoutObserver()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initLayoutObserver",value:function(){var e=this;Object(oe.b)(this.layout$,this.chapter$).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n;b(n=t)||p(n)||h(n)||g(),e.columnVisible=e.layoutService.isVisible(De.a.Column),e.searchVisible=e.layoutService.isVisible(De.a.Search),e.nodeInfoVisible=e.layoutService.isVisible(De.a.NodeInfo),e.changeDetectorRef.markForCheck()}))}},{key:"handleSearchClick",value:function(){this.viewService.toggleSearch(null,!0)}}]),e}()).\u0275fac=function(e){return new(e||wa)(P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(P.i))},wa.\u0275cmp=P.Jb({type:wa,selectors:[["app-view-column-container"]],decls:4,vars:5,consts:[[1,"view-column-container",3,"ngClass"],["class","view-column-container__inner",4,"ngIf"],["class","view-column-container__inner",3,"unpadded",4,"ngIf"],[1,"view-column-container__inner"],["view-column-body",""],[4,"ngIf"],["layout","column"],[1,"view-column-container__inner",3,"unpadded"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,xa,6,7,"app-view-column",1),P.Nc(2,ma,2,2,"app-view-column",2),P.Nc(3,va,2,1,"app-view-column",1),P.Ub()),2&e&&(P.mc("ngClass",P.oc(4,_a)),P.Db(1),P.mc("ngIf",t.columnVisible),P.Db(1),P.mc("ngIf",t.searchVisible),P.Db(1),P.mc("ngIf",t.nodeInfoVisible))},directives:[C.m,C.p,Zo,wt,an,ao,oa,ga],pipes:[C.b],styles:[".view-column-container{pointer-events:none;height:100%;width:320px;position:absolute;left:0;top:0;z-index:30}.view-column-container app-view-column{position:absolute;left:0;top:0;height:100%;z-index:40}"],encapsulation:2,data:{animation:[Object(Qo.n)("slideInOut",[Object(Qo.m)(":enter",[Object(Qo.l)({transform:"translateX(-320px)"}),Object(Qo.e)("300ms ease-in-out",Object(Qo.l)({transform:"*"}))]),Object(Qo.m)(":leave",[Object(Qo.e)("300ms ease-in-out",Object(Qo.l)({transform:"translateX(-320px)"}))])])]},changeDetection:0}),ha([Object(U.e)(we.a.getSelectedChapter),da("design:type",re.a)],wa.prototype,"chapter$",void 0),ha([Object(U.e)(I.a.getUI),da("design:type",re.a)],wa.prototype,"layout$",void 0),ha([Object(U.e)(Ee.b.getQuizModeActive),da("design:type",re.a)],wa.prototype,"quizModeActive$",void 0),wa),Oa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ka=((ya=function(){function e(t){m(this,e),this.store=t,this.audioVisible=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleAudioClick",value:function(){var e=this.store.selectSnapshot(gn.a.getPlayAudio);this.store.dispatch(new le.n(!e))}}]),e}()).\u0275fac=function(e){return new(e||ya)(P.Pb(U.h))},ya.\u0275cmp=P.Jb({type:ya,selectors:[["app-engine-audio"]],decls:7,vars:9,consts:[["type","button",1,"audio",3,"click"],[1,"audio__icon",3,"icon"],[1,"audio__label","text-10","text-uppercase","text-semibold"]],template:function(e,t){1&e&&(P.Vb(0,"button",0),P.cc("click",(function(){return t.handleAudioClick()})),P.hc(1,"async"),P.Qb(2,"app-icon",1),P.hc(3,"async"),P.Vb(4,"span",2),P.Pc(5),P.hc(6,"async"),P.Ub(),P.Ub()),2&e&&(P.Eb("aria-label",P.ic(1,3,t.playAudio$)?"Stop Audio":"Play Audio"),P.Db(2),P.mc("icon",P.ic(3,5,t.playAudio$)?"volume-up":"volume-slash"),P.Db(3),P.Rc(" ",P.ic(6,7,t.playAudio$)?"Stop Audio":"Play Audio"," "))},directives:[Fe.a],pipes:[C.b],styles:[".audio[_ngcontent-%COMP%]{border:none;background:#283853;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#fff;border-radius:4px;height:26px;width:26px;padding:0;display:flex;justify-content:flex-start;align-items:center;overflow:hidden;transition:width .3s ease-in-out;text-transform:uppercase}.audio[_ngcontent-%COMP%]:hover{background:#374a68;cursor:pointer;width:100px}.audio[_ngcontent-%COMP%]:hover   .audio__label[_ngcontent-%COMP%]{flex:1 0 auto;display:inline-block;padding:0 8px 0 0}.audio__icon[_ngcontent-%COMP%]{flex:0 0 26px}.audio__label[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(gn.a.getPlayAudio),Oa("design:type",re.a)],ya.prototype,"playAudio$",void 0),ya),Pa=c("/75k"),Ma=c("jHc0"),za=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Sa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Da(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",1),P.Vb(1,"app-pillbox",2),P.Vb(2,"button",3),P.cc("click",(function(){return P.Cc(n),P.gc().handleUndoClick()})),P.hc(3,"async"),P.hc(4,"async"),P.Ub(),P.Vb(5,"button",4),P.cc("click",(function(){return P.Cc(n),P.gc().handleRedoClick()})),P.hc(6,"async"),P.hc(7,"async"),P.Ub(),P.Vb(8,"button",5),P.cc("click",(function(){return P.Cc(n),P.gc().handleResetClick()})),P.hc(9,"async"),P.hc(10,"async"),P.Vb(11,"span",6),P.Pc(12,"Reset"),P.Ub(),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=P.gc();P.mc("@show",void 0),P.Db(2),P.mc("disabled",!P.ic(4,9,i.canUndo$)),P.Eb("aria-disabled",!P.ic(3,7,i.canUndo$)),P.Db(3),P.mc("disabled",!P.ic(7,13,i.canRedo$)),P.Eb("aria-disabled",!P.ic(6,11,i.canRedo$)),P.Db(3),P.mc("disabled",!P.ic(10,17,i.canUndo$)),P.Eb("aria-disabled",!P.ic(9,15,i.canUndo$))}}var ja,Ua,Ia=((ja=function(){function e(t){m(this,e),this.viewService=t}return x(e,[{key:"ngOnInit",value:function(){}},{key:"handleUndoClick",value:function(){this.viewService.undo()}},{key:"handleRedoClick",value:function(){this.viewService.redo()}},{key:"handleResetClick",value:function(){this.viewService.resetChapter()}}]),e}()).\u0275fac=function(e){return new(e||ja)(P.Pb(Ne.a))},ja.\u0275cmp=P.Jb({type:ja,selectors:[["app-view-undo"]],decls:2,vars:3,consts:[["class","view-undo",4,"ngIf"],[1,"view-undo"],["padding","dense"],["app-pin-button","","data-test","undo-btn","buttonType","ghost","icon","undo","aria-label","Undo","matTooltip","Undo",1,"mr-2",3,"disabled","click"],["buttonType","ghost","app-pin-button","","data-test","redo-btn","aria-label","Redo","matTooltip","Redo","icon","redo",1,"mr-2",3,"disabled","click"],["app-pin-button","","buttonShape","rounded","buttonType","ghost","data-test","reset-btn",3,"disabled","click"],[1,"ph-4","text-bold"]],template:function(e,t){1&e&&(P.Nc(0,Da,13,19,"div",0),P.hc(1,"async")),2&e&&P.mc("ngIf",P.ic(1,1,t.canUndo$))},directives:[C.p,Ma.a,qe.a,Gt.c],pipes:[C.b],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;width:100%;padding:8px 0;pointer-events:none}"],data:{animation:[Object(Qo.n)("show",[Object(Qo.m)(":enter",Object(Qo.j)([Object(Qo.l)({transform:"translateY(-100%)",opacity:0}),Object(Qo.e)("150ms ease-in-out",Object(Qo.l)({transform:"translateY(0%)",opacity:1}))]))])]},changeDetection:0}),za([Object(U.e)(Pa.a.canUndo),Sa("design:type",re.a)],ja.prototype,"canUndo$",void 0),za([Object(U.e)(Pa.a.canRedo),Sa("design:type",re.a)],ja.prototype,"canRedo$",void 0),za([Object(U.e)(Pa.a.getUndoCount),Sa("design:type",re.a)],ja.prototype,"undoCount$",void 0),ja),Ta=c("PqYM"),Va=c("JX91"),Ra=c("7o/Q"),Ea=function(){function e(t){m(this,e),this.predicate=t}return x(e,[{key:"call",value:function(e,t){return t.subscribe(new La(e,this.predicate))}}]),e}(),La=function(e){o(n,e);var t=a(n);function n(e,i){var o;return m(this,n),(o=t.call(this,e)).predicate=i,o.skipping=!0,o.index=0,o}return x(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(Ra.a),Na=c("eIep"),$a=c("mtgE"),Aa=c("qz+p"),Qa=c("gcYM"),qa=c("3UWI"),Fa=c("5+WD"),Ha=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ba=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wa=["scrubber"],Ja=["track"],Ga=["bar"],Ka=["handle"],Ya=function(e){return{"view-scrubber--draggable":e}},Za=function(e,t){return{"view-scrubber__handle--hide":e,"view-scrubber__handle-touch":t}},Xa=((Ua=function(){function e(t,n,i,o,r,a){m(this,e),this.engineService=t,this.animationService=n,this.renderer=i,this.viewService=o,this.changeDetectorRef=r,this.store=a,this.showHandle=!0,this.ngUnsubscribe=new ne.a,this.trackWidth=0,this.dragPosition={x:16,y:0},this.playing=!0}return x(e,[{key:"ngOnInit",value:function(){this.initChapterListener(),this.initTimelineListener()}},{key:"ngAfterViewInit",value:function(){this.initDragListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initChapterListener",value:function(){var e=this;this.selectedChapterId$.pipe(Object(pe.a)((function(e){return null!=e})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.timerange=e.animationService.getChapterLocalTimerange(t),e.tick(e.animationService.getTime())}))}},{key:"initTimelineListener",value:function(){var e=this;this.engineService.getEvent(cn.a.TimelinePlaying).pipe(Object(Qa.a)(20),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){return e.tick(t.time)})),this.engineService.getEvent(cn.a.TimelineScrubbed).pipe(Object(Qa.a)(20),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.getPercent(t.time);e.setScrubberBar(n)}))}},{key:"initDragListener",value:function(){var e=this;this.dragInstance.moved.pipe(Object(qa.a)(20),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.calculateHandlePercent();e.scrubToPercent(n)}))}},{key:"handleDragStart",value:function(){this.playing=this.store.selectSnapshot(gn.a.getAnimationPlaying),this.store.dispatch(new le.W(!1))}},{key:"handleDragEnd",value:function(){this.store.dispatch(new le.W(this.playing))}},{key:"handleTrackClick",value:function(e){if(this.showHandle){var t=e.offsetX/this.track.nativeElement.getBoundingClientRect().width*100;this.playing=this.store.selectSnapshot(gn.a.getAnimationPlaying),this.scrubToPercent(t),this.setScrubberBar(t),this.setScrubberHandle(t),this.store.dispatch(new le.W(this.playing))}}},{key:"tick",value:function(e){if(this.timerange){var t=this.getPercent(e);this.setScrubberBar(t),this.setScrubberHandle(t)}}},{key:"getPercent",value:function(e){return this.animationService.getLocalTime(e)/this.timerange.lastTime*100}},{key:"calculateHandlePercent",value:function(){var e=this.scrubber.nativeElement.getBoundingClientRect(),t=e.left,n=e.right-t-this.handle.nativeElement.offsetWidth,i=this.handle.nativeElement.getBoundingClientRect().left;return Math.min(Math.max((i-t)/n*100,0),100)}},{key:"scrubToPercent",value:function(e){var t=e/100*this.timerange.lastTime,n=0===e?"second":"first",i=this.store.selectSnapshot(we.a.getSelectedChapterId),o=this.animationService.mapLocalTimeToGlobal(i,t);this.animationService.scrub({time:o,which:n})}},{key:"handlePlayClick",value:function(){this.viewService.toggleAnimation()}},{key:"setScrubberBar",value:function(e){this.renderer.setStyle(this.bar.nativeElement,"width",e+"%")}},{key:"setScrubberHandle",value:function(e){0===this.trackWidth&&(this.trackWidth=this.track.nativeElement.offsetWidth-32),this.showHandle&&(this.dragPosition=Object.assign(Object.assign({},this.dragPosition),{x:16+this.trackWidth*(e/100)}),this.changeDetectorRef.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||Ua)(P.Pb(xn.a),P.Pb(Aa.a),P.Pb(P.H),P.Pb(Ne.a),P.Pb(P.i),P.Pb(U.h))},Ua.\u0275cmp=P.Jb({type:Ua,selectors:[["app-view-scrubber"]],viewQuery:function(e,t){var n;1&e&&(P.Jc(Wa,!0),P.Jc(Ja,!0),P.Jc(Ga,!0),P.Jc(Ka,!0),P.Vc(Fa.a,!0)),2&e&&(P.xc(n=P.dc())&&(t.scrubber=n.first),P.xc(n=P.dc())&&(t.track=n.first),P.xc(n=P.dc())&&(t.bar=n.first),P.xc(n=P.dc())&&(t.handle=n.first),P.xc(n=P.dc())&&(t.dragInstance=n.first))},inputs:{showHandle:"showHandle"},decls:9,vars:10,consts:[[1,"view-scrubber",3,"ngClass"],["scrubber",""],[1,"view-scrubber__track",3,"click"],["track",""],[1,"view-scrubber__bar"],["bar",""],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".view-scrubber",1,"view-scrubber__handle",3,"cdkDragFreeDragPosition","ngClass","cdkDragStarted","cdkDragEnded"],["handle",""]],template:function(e,t){1&e&&(P.Vb(0,"div",0,1),P.Vb(2,"div",2,3),P.cc("click",(function(e){return t.handleTrackClick(e)})),P.Qb(4,"div",4,5),P.Ub(),P.Vb(6,"div",6,7),P.cc("cdkDragStarted",(function(){return t.handleDragStart()}))("cdkDragEnded",(function(){return t.handleDragEnd()})),P.hc(8,"async"),P.Ub(),P.Ub()),2&e&&(P.mc("ngClass",P.pc(5,Ya,t.showHandle)),P.Db(6),P.mc("cdkDragFreeDragPosition",t.dragPosition)("ngClass",P.qc(7,Za,!t.showHandle,P.ic(8,3,t.canTouch$))))},directives:[C.m,Fa.a],pipes:[C.b],styles:['.view-scrubber{position:relative;display:flex;justify-content:center;align-items:center;height:40px;width:100%}.view-scrubber:hover .view-scrubber__handle:after{opacity:1}.view-scrubber--draggable .view-scrubber__track{left:16px;right:16px}.view-scrubber__track{background:rgba(150,168,192,.6);z-index:1;right:0}.view-scrubber__bar,.view-scrubber__track{border-radius:2px;position:absolute;height:4px;left:0}.view-scrubber__bar{background:#374a68;z-index:2;width:0}.view-scrubber__handle{width:40px;height:40px;margin-left:-16px;left:0;display:flex;align-items:center;justify-content:center;position:absolute;z-index:2}.view-scrubber__handle--hide{display:none}.view-scrubber__handle:after{opacity:1;transition:opacity .25s;content:"";width:8px;height:8px;border-radius:4px;background:#374a68;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3)}.view-scrubber__handle:hover:after{background:#2d72dc}.view-scrubber__handle:hover{cursor:pointer}.view-scrubber__handle-touch:after{opacity:1}'],encapsulation:2,changeDetection:0}),Ha([Object(U.e)(gn.a.getAnimationPlaying),Ba("design:type",re.a)],Ua.prototype,"animationPlaying$",void 0),Ha([Object(U.e)(we.a.getSelectedChapterId),Ba("design:type",re.a)],Ua.prototype,"selectedChapterId$",void 0),Ha([Object(U.e)(I.a.getCanTouch),Ba("design:type",re.a)],Ua.prototype,"canTouch$",void 0),Ua),ec=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},tc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function nc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",9),P.cc("click",(function(){return P.Cc(n),P.gc(2).handlePlayClick()})),P.hc(1,"async"),P.hc(2,"async"),P.Ub()}if(2&e){var i=P.gc(2);P.mc("matTooltip",P.ic(1,2,i.animationPlaying$)?"Pause":"Play")("icon",P.ic(2,4,i.animationPlaying$)?"pause":"play")}}function ic(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",10),P.cc("click",(function(){return P.Cc(n),P.gc(2).handlePlayChapterFromStartClick()})),P.Ub()}}function oc(e,t){1&e&&P.Qb(0,"app-view-scrubber",11)}function rc(e,t){if(1&e&&(P.Vb(0,"div",3),P.Nc(1,nc,3,6,"button",4),P.Nc(2,ic,1,0,"button",5),P.Nc(3,oc,1,0,"app-view-scrubber",6),P.Vb(4,"button",7),P.Vb(5,"span",8),P.Pc(6),P.hc(7,"async"),P.Ub(),P.Ub(),P.Ub()),2&e){var n=P.gc(),i=P.yc(2);P.Db(1),P.mc("ngIf",n.showPlayPause),P.Db(1),P.mc("ngIf",n.showPlayPause),P.Db(1),P.mc("ngIf",n.showScrubber),P.Db(1),P.mc("matMenuTriggerFor",i),P.Db(2),P.Rc("",P.ic(7,5,n.playbackSpeed$),"x")}}var ac,cc,sc=((ac=function(){function e(t,n,i,o,r){m(this,e),this.animationService=t,this.viewService=n,this.layoutService=i,this.store=o,this.changeDetectorRef=r,this.viewLayout=De.a,this.size="small",this.showPlayPause=!0,this.showScrubber=!0,this.showBar=!0,this.ngUnsubscribe=new ne.a}return x(e,[{key:"template",get:function(){return this._template},set:function(e){this._template=e,this.updateLayoutProperties(this.template)}},{key:"ngOnInit",value:function(){this.initChapterListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initChapterListener",value:function(){var e=this;this.selectedChapterId$.pipe(Object(pe.a)((function(e){return null!=e})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.timerange=e.animationService.getChapterLocalTimerange(t)}))}},{key:"updateLayoutProperties",value:function(e){this.showBar=e!==$a.a.None,this.showScrubber=e===$a.a.Full,this.showPlayPause=e!==$a.a.None}},{key:"handlePlayClick",value:function(){this.viewService.toggleAnimation()}},{key:"handlePlayChapterFromStartClick",value:function(){this.viewService.playChapterFromStart()}},{key:"setPlaybackSpeed",value:function(e){this.store.dispatch(new le.J(e))}}]),e}()).\u0275fac=function(e){return new(e||ac)(P.Pb(Aa.a),P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(U.h),P.Pb(P.i))},ac.\u0275cmp=P.Jb({type:ac,selectors:[["app-view-media-bar"]],inputs:{template:"template",size:"size"},decls:11,vars:1,consts:[["class","view-media-bar",4,"ngIf"],["playbackMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"view-media-bar"],["app-pin-button","","buttonType","ghost","data-test","Play/Pause__small","matTooltipPosition","above",3,"matTooltip","icon","click",4,"ngIf"],["app-pin-button","","buttonType","ghost","matTooltipPosition","above","matTooltip","Play Chapter from Start","icon","step-backward",3,"click",4,"ngIf"],["class","view-media-bar__scrubber","data-test","Scrub__small",4,"ngIf"],["app-pin-button","","buttonType","ghost","matTooltipPosition","above","matTooltip","Playback Speed",3,"matMenuTriggerFor"],[1,"text-semibold"],["app-pin-button","","buttonType","ghost","data-test","Play/Pause__small","matTooltipPosition","above",3,"matTooltip","icon","click"],["app-pin-button","","buttonType","ghost","matTooltipPosition","above","matTooltip","Play Chapter from Start","icon","step-backward",3,"click"],["data-test","Scrub__small",1,"view-media-bar__scrubber"]],template:function(e,t){1&e&&(P.Nc(0,rc,8,7,"div",0),P.Vb(1,"mat-menu",null,1),P.Vb(3,"button",2),P.cc("click",(function(){return t.setPlaybackSpeed(1)})),P.Pc(4,"Normal"),P.Ub(),P.Vb(5,"button",2),P.cc("click",(function(){return t.setPlaybackSpeed(.5)})),P.Pc(6,"0.5"),P.Ub(),P.Vb(7,"button",2),P.cc("click",(function(){return t.setPlaybackSpeed(.25)})),P.Pc(8,"0.25"),P.Ub(),P.Vb(9,"button",2),P.cc("click",(function(){return t.setPlaybackSpeed(.1)})),P.Pc(10,"0.1"),P.Ub(),P.Ub()),2&e&&P.mc("ngIf",t.showBar)},directives:[C.p,Ke.a,Ke.b,qe.a,Gt.c,Ke.d,Xa],pipes:[C.b],styles:[".view-media-bar{display:flex}.view-media-bar__scrubber{width:120px;display:flex;justify-content:center;align-items:center}"],encapsulation:2,changeDetection:0}),ec([Object(U.e)(gn.a.getAnimationPlaying),tc("design:type",re.a)],ac.prototype,"animationPlaying$",void 0),ec([Object(U.e)(we.a.getSelectedChapterId),tc("design:type",re.a)],ac.prototype,"selectedChapterId$",void 0),ec([Object(U.e)(gn.a.getPlaybackSpeed),tc("design:type",re.a)],ac.prototype,"playbackSpeed$",void 0),ac),lc=c("JnPr"),pc=((cc=function(){function e(t,n){m(this,e),this.el=t,this.renderer=n}return x(e,[{key:"ngOnInit",value:function(){window.navigator.userAgent.includes("Trident")&&this.renderer.setStyle(this.el.nativeElement,"display","none")}}]),e}()).\u0275fac=function(e){return new(e||cc)(P.Pb(P.m),P.Pb(P.H))},cc.\u0275dir=P.Kb({type:cc,selectors:[["","appHideIE11",""]]}),cc),uc=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},gc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hc=["chapterCount"],dc=["mediaToggle"];function bc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",4),P.Vb(1,"button",5),P.cc("click",(function(){return P.Cc(n),P.gc(2).handlePreviousClick()})),P.hc(2,"async"),P.hc(3,"async"),P.hc(4,"async"),P.hc(5,"async"),P.Ub(),P.Vb(6,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleNextClick()})),P.hc(7,"async"),P.hc(8,"async"),P.hc(9,"async"),P.hc(10,"async"),P.hc(11,"async"),P.hc(12,"async"),P.Ub(),P.Ub()}if(2&e){var i=P.gc(2),o=null,r=null;P.Db(1),P.mc("disabled",0===P.ic(2,6,i.chapterIndex$))("matTooltip",P.ic(4,10,i.previousChapter$)?"Previous: "+(null==(o=P.ic(5,12,i.previousChapter$))?null:o.info.displayName):""),P.Eb("aria-disabled",0===P.ic(3,8,i.chapterIndex$)),P.Db(5),P.mc("disabled",P.ic(9,18,i.chapterIndex$)===P.ic(10,20,i.chapterCount$)-1)("matTooltip",P.ic(11,22,i.nextChapter$)?"Next: "+(null==(r=P.ic(12,24,i.nextChapter$))?null:r.info.displayName):""),P.Eb("aria-disabled",P.ic(7,14,i.chapterIndex$)===P.ic(8,16,i.chapterCount$)-1)}}function fc(e,t){if(1&e&&(P.Vb(0,"div",7),P.Vb(1,"app-view-chapters",8),P.Vb(2,"div",9),P.Pc(3),P.hc(4,"async"),P.hc(5,"async"),P.Qb(6,"app-icon",10),P.Ub(),P.Vb(7,"span",11),P.Pc(8),P.hc(9,"async"),P.hc(10,"async"),P.Ub(),P.Ub(),P.Ub()),2&e){var n=P.gc(2);P.Db(3),P.Sc(" ",P.ic(4,4,n.chapterIndex$)+1," of ",P.ic(5,6,n.chapterCount$)," "),P.Db(5),P.Sc(" Toggle Chapter List, Chapter ",P.ic(9,8,n.chapterIndex$)+1," of ",P.ic(10,10,n.chapterCount$)," ")}}function xc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",14),P.cc("click",(function(){return P.Cc(n),P.gc(3).handlePlayClick()})),P.hc(1,"async"),P.hc(2,"async"),P.hc(3,"async"),P.Ub()}if(2&e){var i=P.gc(3);P.mc("icon",P.ic(1,3,i.animationPlaying$)?"pause":"play")("matTooltip",P.ic(3,7,i.animationPlaying$)?"Pause Animation":"Play Animation"),P.Eb("aria-label",P.ic(2,5,i.animationPlaying$)?"Pause Animation":"Play Animation")}}function mc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",15),P.cc("click",(function(){return P.Cc(n),P.gc(3).toggleToolbar("media")})),P.Qb(1,"app-view-scrubber",16),P.Ub()}2&e&&(P.Db(1),P.mc("showHandle",!1))}function vc(e,t){if(1&e&&(P.Vb(0,"div",7),P.Nc(1,xc,4,9,"button",12),P.Nc(2,mc,2,1,"button",13),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngIf",n.isVisible(n.viewUI.Media)),P.Db(1),P.mc("ngIf",n.isVisible(n.viewUI.ScrubberButton))}}function wc(e,t){if(1&e&&(P.Tb(0),P.Nc(1,bc,13,26,"div",2),P.Nc(2,fc,11,12,"div",3),P.Nc(3,vc,3,2,"div",3),P.Sb()),2&e){var n=P.gc();P.Db(1),P.mc("ngIf",n.paginationVisible),P.Db(1),P.mc("ngIf",n.paginationVisible&&!n.collapsePagination),P.Db(1),P.mc("ngIf",n.mediaVisible)}}function yc(e,t){if(1&e){var n=P.Wb();P.Tb(0),P.Vb(1,"div",7),P.Vb(2,"div",17),P.Vb(3,"button",18),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleSelectTool(e.toolEnum.Select)})),P.hc(4,"async"),P.hc(5,"async"),P.Ub(),P.Vb(6,"button",19),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleSelectTool(e.toolEnum.Hide)})),P.hc(7,"async"),P.hc(8,"async"),P.Ub(),P.Vb(9,"button",20),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleSelectTool(e.toolEnum.Fade)})),P.hc(10,"async"),P.hc(11,"async"),P.Ub(),P.Ub(),P.Ub(),P.Sb()}if(2&e){var i=P.gc();P.Db(3),P.mc("selected",P.ic(4,6,i.activeTool$)===i.toolEnum.Select),P.Eb("aria-pressed",P.ic(5,8,i.activeTool$)===i.toolEnum.Select),P.Db(3),P.mc("selected",P.ic(7,10,i.activeTool$)===i.toolEnum.Hide),P.Eb("aria-pressed",P.ic(8,12,i.activeTool$)===i.toolEnum.Hide),P.Db(3),P.mc("selected",P.ic(10,14,i.activeTool$)===i.toolEnum.Fade),P.Eb("aria-pressed",P.ic(11,16,i.activeTool$)===i.toolEnum.Fade)}}var _c,Cc,Oc,kc=((_c=function(){function e(t,n,i,o,r,a){m(this,e),this.viewService=t,this.viewUIService=n,this.store=i,this.changeDetectorRef=o,this.popupService=r,this.ga=a,this.viewToolsMode=ze,this.viewUI=De.a,this.breakpointEnum=To.a,this.canFullscreen=!0,this.isFullscreen=!1,this.toolEnum=ve.a,this.mediaControlsEnum=$a.a,this.paginationVisible=!1,this.mediaVisible=!1,this.ngUnsubscribe=new ne.a,this.animate=!0,this._mode=ze.Main,this.collapsePagination=!1,this.collapseScrubber=!1,this.modeChange=new P.p}return x(e,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e}},{key:"ngOnInit",value:function(){this.canFullscreen=Oe.a.canFullscreen(),this.initLayoutListener(),this.initBreakpointListener(),this.initFullscreenListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initLayoutListener",value:function(){var e=this;this.store.select(I.a.getUI).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.mediaTemplate=t.media.template,e.paginationVisible=e.viewUIService.isVisible(De.a.Pagination),e.mediaVisible=e.viewUIService.isVisible(De.a.Media),e.changeDetectorRef.markForCheck()}))}},{key:"initBreakpointListener",value:function(){var e=this;this.store.select(Io.a.getBreakpoint).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.breakpoint=t,e.changeDetectorRef.markForCheck()}))}},{key:"initFullscreenListener",value:function(){var e=this;this.fullscreen$=Oe.a.onFullscreenChange(),this.fullscreen$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.isFullscreen=Oe.a.isFullscreen(),e.changeDetectorRef.markForCheck()}))}},{key:"handleSelectTool",value:function(e){var t=this.store.selectSnapshot(gn.a.getActiveTool);this.viewService.selectTool(e===t?ve.a.Select:e)}},{key:"handlePlayClick",value:function(){this.viewService.toggleAnimation()}},{key:"handleMenuClick",value:function(){this.store.dispatch(new xe.a.ToggleMenu(!0))}},{key:"handlePreviousClick",value:function(){this.viewService.previousChapter("Toolbar")}},{key:"handleNextClick",value:function(){this.viewService.nextChapter("Toolbar")}},{key:"handleMediaClick",value:function(){this.toggleMediaPopup()}},{key:"toggleMediaPopup",value:function(){var e=this;this.mediaPopup?this.mediaPopup.close():(this.mediaPopup=this.popupService.open({origin:this.mediaToggle.nativeElement,content:sc,width:"300px"}),this.mediaPopup.afterClosed$.pipe(Object(ge.a)(this.ngUnsubscribe),Object(ue.a)(1)).subscribe((function(t){e.mediaPopup=null})))}},{key:"toggleToolbar",value:function(e){this.viewService.toggleToolbar(e)}},{key:"isEnabled",value:function(e){return this.viewUIService.isUIEnabled(e)}},{key:"isVisible",value:function(e){return this.viewUIService.isVisible(e)}}]),e}()).\u0275fac=function(e){return new(e||_c)(P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(U.h),P.Pb(P.i),P.Pb(lc.a),P.Pb(B.c))},_c.\u0275cmp=P.Jb({type:_c,selectors:[["app-view-tools"]],viewQuery:function(e,t){var n;1&e&&(P.Vc(hc,!0),P.Vc(dc,!0)),2&e&&(P.xc(n=P.dc())&&(t.chapterCount=n.first),P.xc(n=P.dc())&&(t.mediaToggle=n.first))},inputs:{animate:"animate",mode:"mode",collapsePagination:"collapsePagination",collapseScrubber:"collapseScrubber"},outputs:{modeChange:"modeChange"},features:[P.Cb([lc.a])],decls:3,vars:2,consts:[["role","toolbar","aria-label","Tools","data-test","viewTools",1,"view-tools"],[4,"ngIf"],["class","view-tools__group","role","navigation","aria-label","Chapters",4,"ngIf"],["class","view-tools__group",4,"ngIf"],["role","navigation","aria-label","Chapters",1,"view-tools__group"],["data-test","viewToolsPreviousChapter","aria-label","Previous Chapter","app-pin-button","","buttonType","ghost","icon","chevron-left",1,"view-tools__item",3,"disabled","matTooltip","click"],["data-test","viewToolsNextChapter","aria-label","Next Chapter","app-pin-button","","buttonType","ghost","icon","chevron-right",1,"view-tools__item",3,"disabled","matTooltip","click"],[1,"view-tools__group"],["buttonShape","rounded"],["aria-hidden","true",1,"ph-2","text-13","text-semibold",2,"white-space","nowrap"],["icon","caret-up",1,"ml-2"],[1,"visually-hidden"],["data-test","viewToolsPlay","app-pin-button","","buttonType","ghost","class","view-tools__item",3,"icon","matTooltip","click",4,"ngIf"],["data-test","viewToolsMedia","app-pin-button","","buttonType","ghost","class","view-tools__item","aria-label","Open Media Bar","matTooltip","Open Media Bar",3,"click",4,"ngIf"],["data-test","viewToolsPlay","app-pin-button","","buttonType","ghost",1,"view-tools__item",3,"icon","matTooltip","click"],["data-test","viewToolsMedia","app-pin-button","","buttonType","ghost","aria-label","Open Media Bar","matTooltip","Open Media Bar",1,"view-tools__item",3,"click"],[2,"width","32px","margin","0 8px",3,"showHandle"],["role","radiogroup",1,"flex"],["app-pin-button","","buttonType","ghost","icon","mouse-pointer","aria-label","Select","matTooltip","Select","data-test","viewToolsSelect",1,"view-tools__item",3,"selected","click"],["app-pin-button","","buttonType","ghost","icon","eye-slash","aria-label","Hide","matTooltip","Hide","data-test","viewToolsHide",1,"view-tools__item",3,"selected","click"],["app-pin-button","","appHideIE11","","buttonType","ghost","aria-label","Fade","matTooltip","Fade","icon","adjust","data-test","viewToolsFade",1,"view-tools__item",3,"selected","click"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,wc,4,3,"ng-container",1),P.Nc(2,yc,12,18,"ng-container",1),P.Ub()),2&e&&(P.Db(1),P.mc("ngIf",t.mode===t.viewToolsMode.Main),P.Db(1),P.mc("ngIf",t.mode===t.viewToolsMode.Tools))},directives:[C.p,qe.a,Gt.c,lt,Fe.a,Xa,pc],pipes:[C.b],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-tools{display:flex;justify-content:center;overflow:hidden}@-webkit-keyframes viewToolsToggle{0%{opacity:1}50%{opacity:0}to{opacity:1}}@keyframes viewToolsToggle{0%{opacity:1}50%{opacity:0}to{opacity:1}}.view-tools--swap{-webkit-animation:viewToolsToggle .3s ease-in-out;animation:viewToolsToggle .3s ease-in-out}.view-tools--dense .view-tools__divider{margin:4px}.view-tools__inner{display:flex;justify-content:center}.view-tools__group{border-right:1px solid rgba(0,0,0,.1);padding:0 8px;display:flex}.view-tools__group:empty{display:none}.view-tools__group:empty:first-of-type+.view-tools__group:not(:empty),.view-tools__group:first-of-type{padding-left:0}.view-tools__group:last-of-type{border-right:none;padding-right:0}.view-tools__item{display:flex;align-items:center}.view-tools__item:not(:last-child){margin-right:4px}.view-tools__divider{border-right:1px solid rgba(0,0,0,.1);margin:4px 8px}.view-tools__count{font-size:12px;letter-spacing:.3px;line-height:1.4em;white-space:nowrap}"],encapsulation:2,changeDetection:0}),uc([Object(U.e)(we.a.getSelectedChapterReadyState),gc("design:type",re.a)],_c.prototype,"selectedChapterReady$",void 0),uc([Object(U.e)(gn.a.getActiveTool),gc("design:type",re.a)],_c.prototype,"activeTool$",void 0),uc([Object(U.e)(I.a.getPresentationActive),gc("design:type",re.a)],_c.prototype,"presentationActive$",void 0),uc([Object(U.e)(we.a.getIsChapterAnimated),gc("design:type",re.a)],_c.prototype,"isChapterAnimated$",void 0),uc([Object(U.e)(gn.a.getShowLabels),gc("design:type",re.a)],_c.prototype,"showLabels$",void 0),uc([Object(U.e)(gn.a.getAnimationPlaying),gc("design:type",re.a)],_c.prototype,"animationPlaying$",void 0),uc([Object(U.e)(Me.a.getChapterLabels),gc("design:type",re.a)],_c.prototype,"labels$",void 0),uc([Object(U.e)(we.a.getSelectedChapterTitle),gc("design:type",re.a)],_c.prototype,"chapterTitle$",void 0),uc([Object(U.e)(we.a.getSelectedChapterIndex),gc("design:type",re.a)],_c.prototype,"chapterIndex$",void 0),uc([Object(U.e)(we.a.getNextChapter),gc("design:type",re.a)],_c.prototype,"nextChapter$",void 0),uc([Object(U.e)(we.a.getPreviousChapter),gc("design:type",re.a)],_c.prototype,"previousChapter$",void 0),uc([Object(U.e)(we.a.getChapterCount),gc("design:type",re.a)],_c.prototype,"chapterCount$",void 0),uc([Object(U.e)(I.a.getCanTouch),gc("design:type",re.a)],_c.prototype,"canTouch$",void 0),_c),Pc=c("bjoO"),Mc=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},zc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Sc=["slider"],Dc=["track"],jc=["bar"],Uc=["handle"],Ic=function(e){return{"view-layers-slider__handle-touch":e}},Tc=((Cc=function(){function e(t,n,i){m(this,e),this.renderer=t,this.visibilityLayersService=n,this.changeDetectorRef=i,this.ngUnsubscribe=new ne.a,this.currentLayers=[],this.fullOffset=0,this.dragMove=new ne.a,this.dragPosition={x:0,y:0},this.currentLayerName="",this.currentOffset=0}return x(e,[{key:"ngOnInit",value:function(){this.initLayersObserver(),this.initIndexPositionObserver(),this.initDragMoveObserver()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){e.handle.nativeElement.focus()}),200),this.fullOffset=this.track.nativeElement.offsetWidth}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initLayersObserver",value:function(){var e=this;this.selectedChapterCurrentLayers$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.currentLayers=t}))}},{key:"initIndexPositionObserver",value:function(){var e=this;Object(oe.b)([this.selectedChapterCurrentLayersIndex$,this.selectedChapterCurrentLayersPosition$,this.selectedChapterCurrentLayers$]).pipe(Object(pe.a)((function(e){var t=u(e,3),n=t[0],i=t[1],o=t[2];return!Object(Se.isNil)(n)&&!Object(Se.isNil)(i)&&!Object(Se.isNil)(o)})),Object(he.a)(0),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,3),i=n[0],o=n[1],r=n[2];e.currentLayerName=r[i].name;var a=e.visibilityLayersService.indexPositionToFraction(i,o);e.currentOffset=Math.round(100*a),e.setSliderBar(a),e.setSliderHandle(a)}))}},{key:"initDragMoveObserver",value:function(){var e=this;this.dragMove.pipe(Object(qa.a)(20),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleAuditedDrag()}))}},{key:"handleDragEnded",value:function(){var e=this.calculateHandleFraction(),t=this.visibilityLayersService.fractionToIndex(e),n=this.visibilityLayersService.fractionToPosition(e,t);this.visibilityLayersService.recordLayerIndexPosition(t,n)}},{key:"handleDragMoved",value:function(e){this.dragMove.next(e)}},{key:"handleAuditedDrag",value:function(){var e=this.calculateHandleFraction(),t=this.visibilityLayersService.fractionToIndex(e),n=this.visibilityLayersService.fractionToPosition(e,t);this.currentLayerName=this.currentLayers[t].name,this.visibilityLayersService.synchronizeScene(t,n,!1),this.setSliderBar(e)}},{key:"handleTrackClick",value:function(e){var t=e.offsetX/this.fullOffset,n=this.visibilityLayersService.fractionToIndex(t),i=this.visibilityLayersService.fractionToPosition(t,n);this.visibilityLayersService.recordLayerIndexPosition(n,i)}},{key:"handleKeyDown",value:function(e){switch(e.key){case"Home":this.handleIncriment(-1),e.stopPropagation();break;case"End":this.handleIncriment(1),e.stopPropagation();break;case"PageDown":this.handleIncriment(-.1),e.stopPropagation();break;case"PageUp":this.handleIncriment(.1),e.stopPropagation();break;case"ArrowLeft":case"ArrowDown":this.handleIncriment(-.01),e.stopPropagation();break;case"ArrowRight":case"ArrowUp":this.handleIncriment(.01),e.stopPropagation()}}},{key:"handleIncriment",value:function(e){var t=Object(Se.clamp)(this.calculateHandleFraction()+e,0,1),n=this.visibilityLayersService.fractionToIndex(t),i=this.visibilityLayersService.fractionToPosition(t,n);this.visibilityLayersService.recordLayerIndexPosition(n,i)}},{key:"calculateHandleFraction",value:function(){var e=this.slider.nativeElement.getBoundingClientRect();return(this.handle.nativeElement.getBoundingClientRect().left-e.left)/this.fullOffset}},{key:"setSliderBar",value:function(e){this.renderer.setStyle(this.bar.nativeElement,"width",100*e+"%")}},{key:"setSliderHandle",value:function(e){this.dragPosition={x:e*this.fullOffset,y:this.dragPosition.y},this.changeDetectorRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||Cc)(P.Pb(P.H),P.Pb(Pc.a),P.Pb(P.i))},Cc.\u0275cmp=P.Jb({type:Cc,selectors:[["app-view-layers-slider"]],viewQuery:function(e,t){var n;1&e&&(P.Jc(Sc,!0),P.Jc(Dc,!0),P.Jc(jc,!0),P.Jc(Uc,!0)),2&e&&(P.xc(n=P.dc())&&(t.slider=n.first),P.xc(n=P.dc())&&(t.track=n.first),P.xc(n=P.dc())&&(t.bar=n.first),P.xc(n=P.dc())&&(t.handle=n.first))},decls:9,vars:8,consts:[[1,"view-layers-slider"],["slider",""],[1,"view-layers-slider__track",3,"click"],["track",""],[1,"view-layers-slider__bar"],["bar",""],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".view-layers-slider","role","slider","tabindex","0","aria-valuemin","0","aria-valuemax","100",1,"view-layers-slider__handle",3,"cdkDragFreeDragPosition","ngClass","matTooltip","cdkDragEnded","cdkDragMoved","keydown"],["handle",""]],template:function(e,t){1&e&&(P.Vb(0,"div",0,1),P.Vb(2,"div",2,3),P.cc("click",(function(e){return t.handleTrackClick(e)})),P.Qb(4,"div",4,5),P.Ub(),P.Vb(6,"div",6,7),P.cc("cdkDragEnded",(function(){return t.handleDragEnded()}))("cdkDragMoved",(function(e){return t.handleDragMoved(e)}))("keydown",(function(e){return t.handleKeyDown(e)})),P.hc(8,"async"),P.Ub(),P.Ub()),2&e&&(P.Db(6),P.mc("cdkDragFreeDragPosition",t.dragPosition)("ngClass",P.pc(6,Ic,P.ic(8,4,t.canTouch$)))("matTooltip",t.currentLayerName),P.Eb("aria-valuenow",t.currentOffset))},directives:[Fa.a,C.m,Gt.c],pipes:[C.b],styles:['.view-layers-slider[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:28px;width:100%}.view-layers-slider__track[_ngcontent-%COMP%]{position:absolute;background:rgba(150,168,192,.6);z-index:1;height:5px;border-radius:5px;left:14px;right:14px}.view-layers-slider__bar[_ngcontent-%COMP%]{position:absolute;background:#374a68;height:5px;border-radius:5px;z-index:2;width:0;left:0;pointer-events:none}.view-layers-slider__handle[_ngcontent-%COMP%]{width:28px;height:28px;margin-left:-14px;left:14px;display:flex;align-items:center;justify-content:center;position:absolute;z-index:2}.view-layers-slider__handle--hide[_ngcontent-%COMP%]{display:none}.view-layers-slider__handle[_ngcontent-%COMP%]:after{content:"";width:12px;height:12px;border-radius:6px;background:#374a68;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3)}.view-layers-slider__handle[_ngcontent-%COMP%]:hover:after{background:#2d72dc}'],changeDetection:0}),Mc([Object(U.e)(we.a.getSelectedChapterCurrentLayers),zc("design:type",re.a)],Cc.prototype,"selectedChapterCurrentLayers$",void 0),Mc([Object(U.e)(we.a.getSelectedChapterCurrentLayersIndex),zc("design:type",re.a)],Cc.prototype,"selectedChapterCurrentLayersIndex$",void 0),Mc([Object(U.e)(we.a.getSelectedChapterCurrentLayersPosition),zc("design:type",re.a)],Cc.prototype,"selectedChapterCurrentLayersPosition$",void 0),Mc([Object(U.e)(I.a.getCanTouch),zc("design:type",re.a)],Cc.prototype,"canTouch$",void 0),Cc),Vc=function(e,t,n){return{"view-layers-bar__slider--large":e,"view-layers-bar__slider--small":t,"view-layers-bar__slider--disabled":n}},Rc=((Oc=function(){function e(t,n,i){m(this,e),this.store=t,this.engineService=n,this.changeDetectorRef=i,this.ngUnsubscribe=new ne.a,this.assetsLoading=!1}return x(e,[{key:"ngOnInit",value:function(){var e=this;this.engineService.getEvent(cn.a.AssetsLoadProgress).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.assetsLoading=t.requestedAssets!==t.receivedAssets,e.changeDetectorRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"isLarge",value:function(){return this.store.selectSnapshot(Io.a.getBreakpoint)>=To.a.Medium}}]),e}()).\u0275fac=function(e){return new(e||Oc)(P.Pb(U.h),P.Pb(xn.a),P.Pb(P.i))},Oc.\u0275cmp=P.Jb({type:Oc,selectors:[["app-view-layers-bar"]],decls:2,vars:5,consts:[[1,"view-layers-bar"],[1,"view-layers-bar__slider",3,"ngClass"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Qb(1,"app-view-layers-slider",1),P.Ub()),2&e&&(P.Db(1),P.mc("ngClass",P.rc(1,Vc,t.isLarge(),!t.isLarge(),t.assetsLoading)))},directives:[Tc,C.m],styles:[".view-layers-bar[_ngcontent-%COMP%]{display:flex}.view-layers-bar__slider[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:4px}.view-layers-bar__slider--large[_ngcontent-%COMP%]{width:300px}.view-layers-bar__slider--small[_ngcontent-%COMP%]{width:180px}.view-layers-bar__slider--disabled[_ngcontent-%COMP%]{opacity:.25;pointer-events:none}"],changeDetection:0}),Oc),Ec=["viewToolbar"],Lc=["exploreTrigger"];function Nc(e,t){if(1&e&&(P.Vb(0,"app-pillbox",6),P.Qb(1,"app-view-tools",7),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.mc("collapsePagination",n.collapsePagination)("collapseScrubber",n.collapseScrubber)("mode",n.viewToolsMode.Main)}}function $c(e,t){if(1&e){var n=P.Wb();P.Vb(0,"app-pillbox",8),P.Vb(1,"button",9,10),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleExploreToolsClick()})),P.Ub(),P.Ub()}2&e&&(P.Db(1),P.mc("matTooltip","Explore"),P.Eb("aria-label","Explore"))}function Ac(e,t){if(1&e&&(P.Vb(0,"div",3),P.Nc(1,Nc,2,3,"app-pillbox",4),P.Nc(2,$c,3,2,"app-pillbox",5),P.Ub()),2&e){var n=P.gc();P.mc("@inOutAnimation",void 0),P.Db(1),P.mc("ngIf",n.isVisible(n.viewUI.Pagination)||n.isVisible(n.viewUI.Mediabar)),P.Db(1),P.mc("ngIf",n.isEnabled(n.viewUI.Tools))}}function Qc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",3),P.Vb(1,"app-pillbox",11),P.cc("exit",(function(){return P.Cc(n),P.gc().handleExitClick()})),P.Qb(2,"app-view-media-bar",12),P.Ub(),P.Ub()}if(2&e){var i=P.gc();P.mc("@inOutAnimation",void 0),P.Db(1),P.mc("canExit",i.canExit),P.Db(1),P.mc("template",i.mediaTemplate)}}function qc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",3),P.Vb(1,"app-pillbox",13),P.cc("exit",(function(){return P.Cc(n),P.gc().handleExitClick()})),P.Qb(2,"app-view-tools",14),P.Ub(),P.Ub()}if(2&e){var i=P.gc();P.mc("@inOutAnimation",void 0),P.Db(1),P.mc("canExit",i.canExit),P.Db(1),P.mc("mode",i.viewToolsMode.Tools)}}function Fc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",3),P.Vb(1,"app-pillbox",15),P.cc("exit",(function(){return P.Cc(n),P.gc().handleExitClick()})),P.Qb(2,"app-view-layers-bar"),P.Ub(),P.Ub()}if(2&e){var i=P.gc();P.mc("@inOutAnimation",void 0),P.Db(1),P.mc("canExit",i.canExit)}}var Hc,Bc=((Hc=function(){function e(t,n,i,o,r){m(this,e),this.store=t,this.changeDetectorRef=n,this.viewService=i,this.viewUIService=o,this.elementRef=r,this.viewUI=De.a,this.canExit=!0,this.mode=ze.Main,this.lockMode=!1,this.position="center",this.ngUnsubscribe=new ne.a,this.breakpoint=To.a,this.viewToolsMode=ze,this.viewLayout=De.a,this.collapsePagination=!1,this.collapseScrubber=!1,this.modeSubject=new Nr.a(ze.Main)}return x(e,[{key:"ngOnInit",value:function(){this.initLayoutListener(),this.initBreakpointListener(),this.initFocusListeners()}},{key:"initLayoutListener",value:function(){var e=this;this.store.select(I.a.getUI).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.lockMode||(e.mode=ze.Main,e.viewUIService.isUIVisible(De.a.Media)&&(e.mediaTemplate=t.media.template,e.mode=ze.Media),e.viewUIService.isToolsVisible()&&(e.mode=ze.Tools),e.viewUIService.isVisibilityLayersVisible()&&e.viewUIService.isUIVisible(De.a.VisibilityLayers)&&(e.mode=ze.VisibilityLayers),e.modeSubject.next(e.mode),e.changeDetectorRef.markForCheck())}))}},{key:"initBreakpointListener",value:function(){var e=this;this.store.select(Io.a.getBreakpoint).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t<=To.a.Small;e.collapseScrubber=n,e.collapsePagination=n,e.changeDetectorRef.markForCheck()}))}},{key:"initFocusListeners",value:function(){var e,t=this,n=this.modeSubject.asObservable().pipe(Object(Va.a)(this.mode),Object(de.a)(),Object(pe.a)((function(e){var t=u(e,2),n=t[0],i=t[1];return n===ze.Tools&&i===ze.Main})),Object(fe.a)(),Object(ge.a)(this.ngUnsubscribe));Object(ie.a)(this.elementRef.nativeElement,"keypress").pipe((e=function(){return t.mode===ze.Tools},function(t){return t.lift(new Ea(e))}),Object(Na.a)((function(){return n.pipe(Object(ge.a)(Object(Ta.a)(125)))})),Object(he.a)(301),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){t.exploreTrigger&&t.exploreTrigger.focus()}))}},{key:"isVisible",value:function(e){return this.viewUIService.isVisible(e)}},{key:"isEnabled",value:function(e){return this.viewUIService.isUIEnabled(e)}},{key:"handleExitClick",value:function(){var e=this.store.selectSnapshot(I.a.getUI);e.media.status=me.a.Hide,e.tools.status=me.a.Hide,e.visibilityLayers.status=me.a.Hide,this.viewService.selectTool(ve.a.Select),this.store.dispatch(new xe.a.SetUI(e))}},{key:"handleExploreToolsClick",value:function(){this.viewService.toggleToolbar("tools")}}]),e}()).\u0275fac=function(e){return new(e||Hc)(P.Pb(U.h),P.Pb(P.i),P.Pb(Ne.a),P.Pb(Ae.a),P.Pb(P.m))},Hc.\u0275cmp=P.Jb({type:Hc,selectors:[["app-view-toolbar"]],viewQuery:function(e,t){var n;1&e&&(P.Vc(Ec,!0),P.Vc(Lc,!0)),2&e&&(P.xc(n=P.dc())&&(t.viewToolbar=n.first),P.xc(n=P.dc())&&(t.exploreTrigger=n.first))},inputs:{canExit:"canExit",mode:"mode",lockMode:"lockMode",position:"position"},decls:5,vars:4,consts:[[3,"ngSwitch"],["data-test","viewToolbar","class","view-toolbar",4,"ngSwitchDefault"],["data-test","viewToolbar","class","view-toolbar",4,"ngSwitchCase"],["data-test","viewToolbar",1,"view-toolbar"],["eventCategory","View Primary Toolbar","name","Primary Toolbar",4,"ngIf"],["name","Explore Toolbar","class","ml-3",4,"ngIf"],["eventCategory","View Primary Toolbar","name","Primary Toolbar"],[3,"collapsePagination","collapseScrubber","mode"],["name","Explore Toolbar",1,"ml-3"],["data-test","viewExploreToolbar","icon","mouse-pointer","app-pin-button","","buttonType","ghost",3,"matTooltip","click"],["exploreTrigger",""],["eventCategory","View Media Bar","name","Media Bar",3,"canExit","exit"],[3,"template"],["eventCategory","View Explore Tools","name","Explore Tools",3,"canExit","exit"],[3,"mode"],["name","Visibility Layers",3,"canExit","exit"]],template:function(e,t){1&e&&(P.Tb(0,0),P.Nc(1,Ac,3,3,"div",1),P.Nc(2,Qc,3,3,"div",2),P.Nc(3,qc,3,3,"div",2),P.Nc(4,Fc,3,2,"div",2),P.Sb()),2&e&&(P.mc("ngSwitch",t.mode),P.Db(2),P.mc("ngSwitchCase",t.viewToolsMode.Media),P.Db(1),P.mc("ngSwitchCase",t.viewToolsMode.Tools),P.Db(1),P.mc("ngSwitchCase",t.viewToolsMode.VisibilityLayers))},directives:[C.r,C.t,C.s,C.p,Ma.a,kc,qe.a,Gt.c,sc,Rc],styles:[".view-toolbar{position:absolute;display:flex;z-index:20;bottom:0;right:0}"],encapsulation:2,data:{animation:[Object(Qo.n)("inOutAnimation",[Object(Qo.m)(":enter",[Object(Qo.l)({opacity:0,transform:"translateY(200px)"}),Object(Qo.e)("300ms ease-in-out",Object(Qo.l)({opacity:1,transform:"*"}))]),Object(Qo.m)(":leave",[Object(Qo.e)("300ms ease-in-out",Object(Qo.l)({transform:"translateY(200px)",opacity:0}))])])]},changeDetection:0}),Hc),Wc=c("QtmD"),Jc=c("cQmI"),Gc=c("f0Cb"),Kc=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Yc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Zc(e,t){if(1&e){var n=P.Wb();P.Tb(0),P.Vb(1,"button",15),P.cc("click",(function(){return P.Cc(n),P.gc().handleTreeClick()})),P.Qb(2,"app-icon",16),P.Vb(3,"span",17),P.Pc(4,"Anatomy Tree"),P.Ub(),P.Ub(),P.Vb(5,"button",18),P.cc("click",(function(){return P.Cc(n),P.gc().handleSearchClick()})),P.Qb(6,"app-icon",19),P.Vb(7,"span",17),P.Pc(8,"Search"),P.Ub(),P.Ub(),P.Qb(9,"mat-divider"),P.Sb()}}function Xc(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",20),P.cc("click",(function(){return P.Cc(n),P.gc().toggleToolbar("visibilityLayers")})),P.Qb(1,"app-icon",21),P.Vb(2,"span",17),P.Pc(3,"Layers"),P.Ub(),P.Ub()}}function es(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",22),P.cc("click",(function(){return P.Cc(n),P.gc().handleDrawClick()})),P.hc(1,"async"),P.Qb(2,"app-icon",23),P.Vb(3,"span",17),P.Pc(4,"Draw"),P.Ub(),P.Ub()}if(2&e){var i,o=P.gc();P.mc("disabled",!(null!=(i=P.ic(1,1,o.selectedChapterReady$))&&i.model))}}function ts(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",24),P.cc("click",(function(){return P.Cc(n),P.gc().handleTakeQuizClick()})),P.hc(1,"async"),P.hc(2,"async"),P.Qb(3,"app-icon",25),P.Vb(4,"span",17),P.Pc(5,"Take Quiz"),P.Ub(),P.Ub()}if(2&e){var i,o=P.gc();P.mc("disabled",!(null!=(i=P.ic(1,1,o.selectedChapterReady$))&&i.model)||P.ic(2,3,o.quizActive$))}}function ns(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",26),P.cc("click",(function(){return P.Cc(n),P.gc().toggleToolbar("media")})),P.Qb(1,"app-icon",27),P.Pc(2," Open Media Bar "),P.Ub()}}function is(e,t){if(1&e&&(P.Vb(0,"button",28),P.Pc(1," Settings "),P.Ub()),2&e){P.gc();var n=P.yc(16);P.mc("matMenuTriggerFor",n)}}function os(e,t){if(1&e&&(P.Vb(0,"button",28),P.Pc(1,"Help"),P.Ub()),2&e){P.gc();var n=P.yc(20);P.mc("matMenuTriggerFor",n)}}function rs(e,t){1&e&&(P.Tb(0),P.Pc(1,"Exit Fullscreen"),P.Sb())}function as(e,t){1&e&&(P.Tb(0),P.Pc(1,"Enter Fullscreen"),P.Sb())}function cs(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",31),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleFullscreenClick()})),P.Nc(1,rs,2,0,"ng-container",3),P.Nc(2,as,2,0,"ng-container",3),P.Ub()}if(2&e){var i=P.gc(2);P.Db(1),P.mc("ngIf",i.isFullscreen),P.Db(1),P.mc("ngIf",!i.isFullscreen)}}function ss(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",33),P.cc("click",(function(){return P.Cc(n),P.gc(3).handleNewTabClick()})),P.Pc(1," Open in New Tab "),P.Ub()}}function ls(e,t){if(1&e&&(P.Tb(0),P.Nc(1,ss,2,0,"button",32),P.Sb()),2&e){var n=P.gc(2);P.Db(1),P.mc("ngIf",!n.canFullscreen)}}function ps(e,t){if(1&e&&(P.Tb(0),P.Nc(1,cs,3,2,"button",29),P.Nc(2,ls,2,1,"ng-container",30),P.Sb()),2&e){var n=P.gc();P.Db(1),P.mc("ngIf",n.canFullscreen),P.Db(1),P.mc("appFlagApplication",n.application.All)("appFlagApplicationMode","exclude")("appFlagApplicationNative",n.nativePlatform.All)}}function us(e,t){1&e&&(P.Tb(0),P.Pc(1,"Hide Labels"),P.Sb())}function gs(e,t){1&e&&(P.Tb(0),P.Pc(1,"Show Labels"),P.Sb())}function hs(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",34),P.cc("click",(function(){return P.Cc(n),P.gc().handleToggleLabelsClick()})),P.Nc(1,us,2,0,"ng-container",3),P.hc(2,"async"),P.Nc(3,gs,2,0,"ng-container",3),P.hc(4,"async"),P.Ub()}if(2&e){var i=P.gc();P.Db(1),P.mc("ngIf",P.ic(2,2,i.showLabels$)),P.Db(2),P.mc("ngIf",!P.ic(4,4,i.showLabels$))}}var ds,bs,fs,xs=((ds=function(){function e(t,n,i,o,r){m(this,e),this.viewUIService=t,this.viewService=n,this.quizService=i,this.changeDetectorRef=o,this.store=r,this.application=Ie.a,this.nativePlatform=$o.a,this.bookmarkViewMode=Jc.a,this.viewUI=De.a,this.isFullscreen=!1,this.canFullscreen=!1,this.ngUnsubscribe=new ne.a,this.visibilityLayersVisible=!1,this.showTakeQuiz=!1}return x(e,[{key:"ngOnInit",value:function(){this.canFullscreen=Oe.a.canFullscreen(),this.initFullscreenListener(),this.initLayoutListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initFullscreenListener",value:function(){var e=this;this.fullscreen$=Oe.a.onFullscreenChange(),this.fullscreen$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.isFullscreen=Oe.a.isFullscreen(),e.changeDetectorRef.markForCheck()}))}},{key:"initLayoutListener",value:function(){var e=this;this.store.select(I.a.getUI).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.visibilityLayersVisible=e.viewUIService.isVisible(De.a.VisibilityLayers),e.changeDetectorRef.markForCheck()}))}},{key:"initTakeQuizButton",value:function(){var e=this;Object(oe.b)([this.hasQuiz$,this.quizEnabled$,this.quizLocked$,this.selectedBookmarkViewMode$]).pipe(Object(be.a)((function(e){var t=u(e,4),n=t[0],i=t[1],o=t[2],r=t[3];return!!n&&!!i&&(!(!o||r===Jc.a.Content)||void 0)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.showTakeQuiz=t}))}},{key:"handleToggleLabelsClick",value:function(){this.viewService.showLabels()}},{key:"handleFullscreenClick",value:function(){Oe.a.toggleFullscreen()}},{key:"handleTutorialClick",value:function(){this.viewService.toggleTutorial(!0)}},{key:"handleTakeQuizClick",value:function(){this.quizService.startQuiz()}},{key:"handleHelpBasicsClick",value:function(){this.viewService.toggleHelp(qo.a.Basics)}},{key:"handleHelpShortcutsClick",value:function(){this.viewService.toggleHelp(qo.a.Shortcuts)}},{key:"handlePresentClick",value:function(){this.viewService.togglePresentation()}},{key:"handleNewTabClick",value:function(){this.viewService.openInNewTab()}},{key:"handleSearchClick",value:function(){this.viewService.toggleSearch(Vr.a.List,!0)}},{key:"handleTreeClick",value:function(){this.viewService.toggleSearch(Vr.a.Tree,!0)}},{key:"handleDrawClick",value:function(){this.viewService.toggleWhiteboard(!0)}},{key:"toggleToolbar",value:function(e){this.viewService.toggleToolbar(e)}},{key:"isEnabled",value:function(e){return this.viewUIService.isUIEnabled(e)}},{key:"isVisible",value:function(e){return this.viewUIService.isVisible(e)}}]),e}()).\u0275fac=function(e){return new(e||ds)(P.Pb(Ae.a),P.Pb(Ne.a),P.Pb($e.a),P.Pb(P.i),P.Pb(U.h))},ds.\u0275cmp=P.Jb({type:ds,selectors:[["app-view-menu"]],decls:28,vars:22,consts:[["type","button","data-test","viewMenu","matTooltip","Menu","app-pin-button","","buttonType","secondary","icon","bars","aria-label","View Menu",2,"width","52px","height","52px",3,"matMenuTriggerFor","fill"],[1,"view-menu"],["viewMenu","matMenu"],[4,"ngIf"],["mat-menu-item","","data-test","viewLayersButton",3,"click",4,"ngIf"],["mat-menu-item","","data-test","viewDrawButton",3,"disabled","click",4,"ngIf"],["mat-menu-item","","data-test","viewQuizButton",3,"disabled","click",4,"ngIf"],["mat-menu-item","","data-test","viewMediaBarButton",3,"click",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["settingsMenu","matMenu"],["mat-menu-item","","data-test","viewToggleLabels",3,"click",4,"ngIf"],["helpMenu","matMenu"],["mat-menu-item","","data-test","viewLaunchTutorial",3,"disabled","click"],["mat-menu-item","","data-test","view3DNavigationBasics",3,"click"],["mat-menu-item","","data-test","viewKeyboardShortcuts",3,"click"],["mat-menu-item","","data-test","viewTreeButton",3,"click"],["icon","sitemap",1,"view-menu__icon"],[1,"ml-2"],["mat-menu-item","","data-test","viewSearchButton",3,"click"],["icon","search",1,"view-menu__icon"],["mat-menu-item","","data-test","viewLayersButton",3,"click"],["icon","layer-group",1,"view-menu__icon"],["mat-menu-item","","data-test","viewDrawButton",3,"disabled","click"],["icon","signature",1,"view-menu__icon"],["mat-menu-item","","data-test","viewQuizButton",3,"disabled","click"],["icon","check",1,"view-menu__icon"],["mat-menu-item","","data-test","viewMediaBarButton",3,"click"],["icon","play",1,"view-menu__icon"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","","data-test","viewHandleFullscreen",3,"click",4,"ngIf"],[4,"appFlagApplication","appFlagApplicationMode","appFlagApplicationNative"],["mat-menu-item","","data-test","viewHandleFullscreen",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","","data-test","viewToggleLabels",3,"click"]],template:function(e,t){if(1&e&&(P.Qb(0,"button",0),P.Vb(1,"mat-menu",1,2),P.Nc(3,Zc,10,0,"ng-container",3),P.Nc(4,Xc,4,0,"button",4),P.Nc(5,es,5,3,"button",5),P.Nc(6,ts,6,5,"button",6),P.hc(7,"async"),P.hc(8,"async"),P.hc(9,"async"),P.hc(10,"async"),P.Nc(11,ns,3,0,"button",7),P.Qb(12,"mat-divider"),P.Nc(13,is,2,1,"button",8),P.Nc(14,os,2,1,"button",8),P.Ub(),P.Vb(15,"mat-menu",null,9),P.Nc(17,ps,3,4,"ng-container",3),P.Nc(18,hs,5,6,"button",10),P.Ub(),P.Vb(19,"mat-menu",null,11),P.Vb(21,"button",12),P.cc("click",(function(){return t.handleTutorialClick()})),P.hc(22,"async"),P.Pc(23," Launch Tutorial "),P.Ub(),P.Vb(24,"button",13),P.cc("click",(function(){return t.handleHelpBasicsClick()})),P.Pc(25," 3D Navigation Basics "),P.Ub(),P.Vb(26,"button",14),P.cc("click",(function(){return t.handleHelpShortcutsClick()})),P.Pc(27," Keyboard Shortcuts "),P.Ub(),P.Ub()),2&e){var n,i=P.yc(2);P.mc("matMenuTriggerFor",i)("fill",!0),P.Db(3),P.mc("ngIf",t.isEnabled(t.viewUI.Search)),P.Db(1),P.mc("ngIf",t.visibilityLayersVisible),P.Db(1),P.mc("ngIf",t.isEnabled(t.viewUI.Whiteboard)),P.Db(1),P.mc("ngIf",P.ic(7,12,t.hasQuiz$)&&P.ic(8,14,t.quizEnabled$)&&!P.ic(9,16,t.quizLocked$)&&P.ic(10,18,t.selectedBookmarkViewMode$)!==t.bookmarkViewMode.Content),P.Db(5),P.mc("ngIf",t.isVisible(t.viewUI.ScrubberItem)),P.Db(2),P.mc("ngIf",t.isEnabled(t.viewUI.Fullscreen)||t.isEnabled(t.viewUI.ToggleLabels)),P.Db(1),P.mc("ngIf",t.isEnabled(t.viewUI.Help)),P.Db(3),P.mc("ngIf",t.isEnabled(t.viewUI.Fullscreen)),P.Db(1),P.mc("ngIf",t.isEnabled(t.viewUI.ToggleLabels)),P.Db(3),P.mc("disabled",!(null!=(n=P.ic(22,20,t.selectedChapterReady$))&&n.model))}},directives:[qe.a,Gt.c,Ke.d,Ke.a,C.p,Gc.a,Ke.b,Fe.a,kr.a],pipes:[C.b],styles:[".view-menu__icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;width:16px}"],changeDetection:0}),Kc([Object(U.e)(Wc.a.getSelectedBookmarkViewMode),Yc("design:type",re.a)],ds.prototype,"selectedBookmarkViewMode$",void 0),Kc([Object(U.e)(we.a.getSelectedChapterReadyState),Yc("design:type",re.a)],ds.prototype,"selectedChapterReady$",void 0),Kc([Object(U.e)(Ee.b.hasQuiz),Yc("design:type",re.a)],ds.prototype,"hasQuiz$",void 0),Kc([Object(U.e)(Ee.b.getQuizEnabled),Yc("design:type",re.a)],ds.prototype,"quizEnabled$",void 0),Kc([Object(U.e)(Ee.b.getQuizModeLocked),Yc("design:type",re.a)],ds.prototype,"quizLocked$",void 0),Kc([Object(U.e)(Ee.b.getQuizModeActive),Yc("design:type",re.a)],ds.prototype,"quizActive$",void 0),Kc([Object(U.e)(gn.a.getShowLabels),Yc("design:type",re.a)],ds.prototype,"showLabels$",void 0),ds),ms=c("XiU4"),vs=c("XqAe"),ws=c("vm16"),ys=c("ZR5G"),_s=((fs=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||fs)},fs.\u0275cmp=P.Jb({type:fs,selectors:[["app-button-loader"]],decls:5,vars:0,consts:[["tabindex","0","type","button","aria-label","Interact in 3D","type","button",1,"button-loader"],[1,"button-loader__button"],["src","assets/images/widget/loading_experience/interact-in-3d-arrow.svg","alt","Interact in 3D",1,"button-loader__3d-arrow"],[1,"button-loader__label"]],template:function(e,t){1&e&&(P.Vb(0,"button",0),P.Vb(1,"div",1),P.Qb(2,"img",2),P.Vb(3,"div",3),P.Pc(4,"Interact in 3D"),P.Ub(),P.Ub(),P.Ub())},styles:[".m-1[_ngcontent-%COMP%]{margin:4px!important}.mv-1[_ngcontent-%COMP%]{margin-top:4px!important;margin-bottom:4px!important}.mh-1[_ngcontent-%COMP%]{margin-left:4px!important;margin-right:4px!important}.mt-1[_ngcontent-%COMP%]{margin-top:4px!important}.mr-1[_ngcontent-%COMP%]{margin-right:4px!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px!important}.ml-1[_ngcontent-%COMP%]{margin-left:4px!important}.p-1[_ngcontent-%COMP%]{padding:4px!important}.pv-1[_ngcontent-%COMP%]{padding-top:4px!important;padding-bottom:4px!important}.ph-1[_ngcontent-%COMP%]{padding-left:4px!important;padding-right:4px!important}.pt-1[_ngcontent-%COMP%]{padding-top:4px!important}.pr-1[_ngcontent-%COMP%]{padding-right:4px!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px!important}.pl-1[_ngcontent-%COMP%]{padding-left:4px!important}.m-2[_ngcontent-%COMP%]{margin:8px!important}.mv-2[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.mh-2[_ngcontent-%COMP%]{margin-left:8px!important;margin-right:8px!important}.mt-2[_ngcontent-%COMP%]{margin-top:8px!important}.mr-2[_ngcontent-%COMP%]{margin-right:8px!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px!important}.ml-2[_ngcontent-%COMP%]{margin-left:8px!important}.p-2[_ngcontent-%COMP%]{padding:8px!important}.pv-2[_ngcontent-%COMP%]{padding-top:8px!important;padding-bottom:8px!important}.ph-2[_ngcontent-%COMP%]{padding-left:8px!important;padding-right:8px!important}.pt-2[_ngcontent-%COMP%]{padding-top:8px!important}.pr-2[_ngcontent-%COMP%]{padding-right:8px!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px!important}.pl-2[_ngcontent-%COMP%]{padding-left:8px!important}.m-3[_ngcontent-%COMP%]{margin:12px!important}.mv-3[_ngcontent-%COMP%]{margin-top:12px!important;margin-bottom:12px!important}.mh-3[_ngcontent-%COMP%]{margin-left:12px!important;margin-right:12px!important}.mt-3[_ngcontent-%COMP%]{margin-top:12px!important}.mr-3[_ngcontent-%COMP%]{margin-right:12px!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.ml-3[_ngcontent-%COMP%]{margin-left:12px!important}.p-3[_ngcontent-%COMP%]{padding:12px!important}.pv-3[_ngcontent-%COMP%]{padding-top:12px!important;padding-bottom:12px!important}.ph-3[_ngcontent-%COMP%]{padding-left:12px!important;padding-right:12px!important}.pt-3[_ngcontent-%COMP%]{padding-top:12px!important}.pr-3[_ngcontent-%COMP%]{padding-right:12px!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px!important}.pl-3[_ngcontent-%COMP%]{padding-left:12px!important}.m-4[_ngcontent-%COMP%]{margin:16px!important}.mv-4[_ngcontent-%COMP%]{margin-top:16px!important;margin-bottom:16px!important}.mh-4[_ngcontent-%COMP%]{margin-left:16px!important;margin-right:16px!important}.mt-4[_ngcontent-%COMP%]{margin-top:16px!important}.mr-4[_ngcontent-%COMP%]{margin-right:16px!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px!important}.ml-4[_ngcontent-%COMP%]{margin-left:16px!important}.p-4[_ngcontent-%COMP%]{padding:16px!important}.pv-4[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important}.ph-4[_ngcontent-%COMP%]{padding-left:16px!important;padding-right:16px!important}.pt-4[_ngcontent-%COMP%]{padding-top:16px!important}.pr-4[_ngcontent-%COMP%]{padding-right:16px!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px!important}.pl-4[_ngcontent-%COMP%]{padding-left:16px!important}.m-5[_ngcontent-%COMP%]{margin:20px!important}.mv-5[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important}.mh-5[_ngcontent-%COMP%]{margin-left:20px!important;margin-right:20px!important}.mt-5[_ngcontent-%COMP%]{margin-top:20px!important}.mr-5[_ngcontent-%COMP%]{margin-right:20px!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px!important}.ml-5[_ngcontent-%COMP%]{margin-left:20px!important}.p-5[_ngcontent-%COMP%]{padding:20px!important}.pv-5[_ngcontent-%COMP%]{padding-top:20px!important;padding-bottom:20px!important}.ph-5[_ngcontent-%COMP%]{padding-left:20px!important;padding-right:20px!important}.pt-5[_ngcontent-%COMP%]{padding-top:20px!important}.pr-5[_ngcontent-%COMP%]{padding-right:20px!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px!important}.pl-5[_ngcontent-%COMP%]{padding-left:20px!important}.m-6[_ngcontent-%COMP%]{margin:24px!important}.mv-6[_ngcontent-%COMP%]{margin-top:24px!important;margin-bottom:24px!important}.mh-6[_ngcontent-%COMP%]{margin-left:24px!important;margin-right:24px!important}.mt-6[_ngcontent-%COMP%]{margin-top:24px!important}.mr-6[_ngcontent-%COMP%]{margin-right:24px!important}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px!important}.ml-6[_ngcontent-%COMP%]{margin-left:24px!important}.p-6[_ngcontent-%COMP%]{padding:24px!important}.pv-6[_ngcontent-%COMP%]{padding-top:24px!important;padding-bottom:24px!important}.ph-6[_ngcontent-%COMP%]{padding-left:24px!important;padding-right:24px!important}.pt-6[_ngcontent-%COMP%]{padding-top:24px!important}.pr-6[_ngcontent-%COMP%]{padding-right:24px!important}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px!important}.pl-6[_ngcontent-%COMP%]{padding-left:24px!important}.m-7[_ngcontent-%COMP%]{margin:28px!important}.mv-7[_ngcontent-%COMP%]{margin-top:28px!important;margin-bottom:28px!important}.mh-7[_ngcontent-%COMP%]{margin-left:28px!important;margin-right:28px!important}.mt-7[_ngcontent-%COMP%]{margin-top:28px!important}.mr-7[_ngcontent-%COMP%]{margin-right:28px!important}.mb-7[_ngcontent-%COMP%]{margin-bottom:28px!important}.ml-7[_ngcontent-%COMP%]{margin-left:28px!important}.p-7[_ngcontent-%COMP%]{padding:28px!important}.pv-7[_ngcontent-%COMP%]{padding-top:28px!important;padding-bottom:28px!important}.ph-7[_ngcontent-%COMP%]{padding-left:28px!important;padding-right:28px!important}.pt-7[_ngcontent-%COMP%]{padding-top:28px!important}.pr-7[_ngcontent-%COMP%]{padding-right:28px!important}.pb-7[_ngcontent-%COMP%]{padding-bottom:28px!important}.pl-7[_ngcontent-%COMP%]{padding-left:28px!important}.m-8[_ngcontent-%COMP%]{margin:32px!important}.mv-8[_ngcontent-%COMP%]{margin-top:32px!important;margin-bottom:32px!important}.mh-8[_ngcontent-%COMP%]{margin-left:32px!important;margin-right:32px!important}.mt-8[_ngcontent-%COMP%]{margin-top:32px!important}.mr-8[_ngcontent-%COMP%]{margin-right:32px!important}.mb-8[_ngcontent-%COMP%]{margin-bottom:32px!important}.ml-8[_ngcontent-%COMP%]{margin-left:32px!important}.p-8[_ngcontent-%COMP%]{padding:32px!important}.pv-8[_ngcontent-%COMP%]{padding-top:32px!important;padding-bottom:32px!important}.ph-8[_ngcontent-%COMP%]{padding-left:32px!important;padding-right:32px!important}.pt-8[_ngcontent-%COMP%]{padding-top:32px!important}.pr-8[_ngcontent-%COMP%]{padding-right:32px!important}.pb-8[_ngcontent-%COMP%]{padding-bottom:32px!important}.pl-8[_ngcontent-%COMP%]{padding-left:32px!important}.m-9[_ngcontent-%COMP%]{margin:36px!important}.mv-9[_ngcontent-%COMP%]{margin-top:36px!important;margin-bottom:36px!important}.mh-9[_ngcontent-%COMP%]{margin-left:36px!important;margin-right:36px!important}.mt-9[_ngcontent-%COMP%]{margin-top:36px!important}.mr-9[_ngcontent-%COMP%]{margin-right:36px!important}.mb-9[_ngcontent-%COMP%]{margin-bottom:36px!important}.ml-9[_ngcontent-%COMP%]{margin-left:36px!important}.p-9[_ngcontent-%COMP%]{padding:36px!important}.pv-9[_ngcontent-%COMP%]{padding-top:36px!important;padding-bottom:36px!important}.ph-9[_ngcontent-%COMP%]{padding-left:36px!important;padding-right:36px!important}.pt-9[_ngcontent-%COMP%]{padding-top:36px!important}.pr-9[_ngcontent-%COMP%]{padding-right:36px!important}.pb-9[_ngcontent-%COMP%]{padding-bottom:36px!important}.pl-9[_ngcontent-%COMP%]{padding-left:36px!important}.m-10[_ngcontent-%COMP%]{margin:40px!important}.mv-10[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:40px!important}.mh-10[_ngcontent-%COMP%]{margin-left:40px!important;margin-right:40px!important}.mt-10[_ngcontent-%COMP%]{margin-top:40px!important}.mr-10[_ngcontent-%COMP%]{margin-right:40px!important}.mb-10[_ngcontent-%COMP%]{margin-bottom:40px!important}.ml-10[_ngcontent-%COMP%]{margin-left:40px!important}.p-10[_ngcontent-%COMP%]{padding:40px!important}.pv-10[_ngcontent-%COMP%]{padding-top:40px!important;padding-bottom:40px!important}.ph-10[_ngcontent-%COMP%]{padding-left:40px!important;padding-right:40px!important}.pt-10[_ngcontent-%COMP%]{padding-top:40px!important}.pr-10[_ngcontent-%COMP%]{padding-right:40px!important}.pb-10[_ngcontent-%COMP%]{padding-bottom:40px!important}.pl-10[_ngcontent-%COMP%]{padding-left:40px!important}.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.button-loader[_ngcontent-%COMP%]{border:0;width:100%;background:rgba(0,0,0,.2);display:flex;position:fixed;justify-content:center;align-items:center;top:0;bottom:0;left:0;right:0;transition:background-color .25s,opacity .25s;z-index:10000}.button-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:rgba(0,0,0,.2)}@media print{.button-loader[_ngcontent-%COMP%]{display:none}}.button-loader[_ngcontent-%COMP%]:focus   .button-loader__button[_ngcontent-%COMP%], .button-loader[_ngcontent-%COMP%]:hover   .button-loader__button[_ngcontent-%COMP%]{background-color:#2d72dc;transform:scale(1.1)}.button-loader[_ngcontent-%COMP%]:focus   .button-loader__3d-arrow[_ngcontent-%COMP%], .button-loader[_ngcontent-%COMP%]:hover   .button-loader__3d-arrow[_ngcontent-%COMP%]{transform:scale(1.2)}.button-loader__button[_ngcontent-%COMP%]{display:flex;padding:12px 28px;border-radius:32px;align-items:center;transition:transform .25s,background-color .25s;background-color:rgba(16,24,35,.8)}.button-loader__3d-arrow[_ngcontent-%COMP%]{transition:transform .25s;margin-right:4px}.button-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;margin-left:4px}"],changeDetection:0}),fs),Cs=((bs=function(){function e(t,n,i,o){m(this,e),this.changeRef=t,this.viewService=n,this.bookmarksService=i,this.imagesService=o,this.thumbnailURL=""}return x(e,[{key:"ngOnInit",value:function(){this.setThumbnailUrl()}},{key:"handleClick",value:function(){this.viewService.toggleOnDemand(!1)}},{key:"setThumbnailUrl",value:function(){var e=this;this.contentType===ys.a.Bookmark?this.bookmarksService.getBookmarkModel(this.contentId).subscribe((function(t){e.thumbnailURL=t.thumbnail_url,e.changeRef.markForCheck()})):(this.thumbnailURL=this.imagesService.getIndexThumbnail(this.contentId),this.changeRef.markForCheck())}},{key:"getPoweredByUrl",value:function(){return("undefined"==typeof localBaseDirectory?"":localBaseDirectory)+"assets/images/powered-by-biodigital-logo.svg"}}]),e}()).\u0275fac=function(e){return new(e||bs)(P.Pb(P.i),P.Pb(Ne.a),P.Pb(vs.a),P.Pb(ws.a))},bs.\u0275cmp=P.Jb({type:bs,selectors:[["app-view-ondemand"]],inputs:{contentId:"contentId",contentType:"contentType"},decls:5,vars:2,consts:[[1,"ondemand",3,"click"],[1,"ondemand__image",3,"lazyLoad"],[1,"ondemand__logo"],[3,"src"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.cc("click",(function(){return t.handleClick()})),P.Qb(1,"div",1),P.Qb(2,"app-button-loader"),P.Vb(3,"div",2),P.Qb(4,"img",3),P.Ub(),P.Ub()),2&e&&(P.Db(1),P.mc("lazyLoad",t.thumbnailURL),P.Db(3),P.mc("src",t.getPoweredByUrl(),P.Fc))},directives:[$.a,_s],styles:[".ondemand__image[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-size:cover;background-repeat:no-repeat;background-position:50%;filter:blur(6px)}.ondemand__logo[_ngcontent-%COMP%]{position:absolute;bottom:40px;justify-content:center;width:100%;z-index:20000;display:flex}"],changeDetection:0}),bs),Os=["circle"],ks=["progressCircle"],Ps=["progressContainer"];function Ms(e,t){if(1&e&&(P.fc(),P.ec(),P.Vb(0,"div",9),P.Pc(1),P.Ub()),2&e){var n=P.gc();P.Db(1),P.Rc("",n.percent,"%")}}var zs,Ss,Ds,js,Us=function(e){return{"view-progress--active":e}},Is=function(e){return{"view-progress__ring--pulse":e}},Ts=((zs=function(){function e(t,n){m(this,e),this.renderer=t,this.changeDetectorRef=n,this.ngUnsubscribe=new ne.a,this.label="Loading...",this._show=!1,this._percent=new Nr.a(0)}return x(e,[{key:"show",get:function(){return this._show},set:function(e){var t=this;setTimeout((function(){t._show=e,t.changeDetectorRef.markForCheck()}))}},{key:"percent",get:function(){return Math.floor(this._percent.value)},set:function(e){null!=e&&this._percent.next(e)}},{key:"ngOnInit",value:function(){this.initSizeObserver()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"ngAfterViewInit",value:function(){this.updateDimensions(),this.initPercentObserver()}},{key:"initPercentObserver",value:function(){var e=this;this._percent.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.label=e.getLoadingLabel(e.percent),e.renderProgress(0===e.percent?100:e.percent),e.changeDetectorRef.markForCheck()}))}},{key:"initSizeObserver",value:function(){var e=this;Object(ie.a)(window,"resize").pipe(Object(he.a)(10),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.updateDimensions()}))}},{key:"calculateRadius",value:function(){return this.getCircleWidth()/2}},{key:"getCircleWidth",value:function(){return this.circleRef.nativeElement.offsetWidth}},{key:"getRadius",value:function(){return this.progressCircleRef.nativeElement.r.baseVal.value}},{key:"getCircumference",value:function(){return 2*this.getRadius()*Math.PI}},{key:"getOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=this.getCircumference();return t-e/100*t}},{key:"renderProgress",value:function(e){e>=100&&(e=100);var t=this.getCircumference(),n=this.getOffset(e);this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray","".concat(t," ").concat(t)),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n)}},{key:"getLoadingLabel",value:function(e){return 100===e?"Launching...":"Loading..."}},{key:"updateDimensions",value:function(){var e=this.calculateRadius();this.renderer.setAttribute(this.progressContainerRef.nativeElement,"width",""+2*e),this.renderer.setAttribute(this.progressContainerRef.nativeElement,"height",""+2*e),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"r",""+(e-6)),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cx",""+e),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cy",""+e);var t=this.getCircumference();this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray","".concat(t," ").concat(t)),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+t)}}]),e}()).\u0275fac=function(e){return new(e||zs)(P.Pb(P.H),P.Pb(P.i))},zs.\u0275cmp=P.Jb({type:zs,selectors:[["app-view-progress"]],viewQuery:function(e,t){var n;1&e&&(P.Jc(Os,!0),P.Jc(ks,!0),P.Jc(Ps,!0)),2&e&&(P.xc(n=P.dc())&&(t.circleRef=n.first),P.xc(n=P.dc())&&(t.progressCircleRef=n.first),P.xc(n=P.dc())&&(t.progressContainerRef=n.first))},inputs:{show:"show",percent:"percent"},decls:10,vars:10,consts:[["data-test","viewProgress","role","alert",1,"view-progress",3,"ngClass"],["aria-hidden","true",1,"view-progress__circle"],["circle",""],[1,"view-progress__ring",3,"ngClass"],["progressContainer",""],[1,"view-progress__ring-inner"],["progressCircle",""],["class","view-progress__count",4,"ngIf"],[1,"view-progress__label"],[1,"view-progress__count"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Vb(1,"div",1,2),P.fc(),P.Vb(3,"svg",3,4),P.Qb(5,"circle",5,6),P.Ub(),P.Nc(7,Ms,2,1,"div",7),P.ec(),P.Vb(8,"div",8),P.Pc(9),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.mc("ngClass",P.pc(6,Us,t.show)),P.Eb("aria-busy",t.show),P.Db(1),P.mc("@isOpen",t.show?"open":"closed"),P.Db(2),P.mc("ngClass",P.pc(8,Is,0===t.percent||100===t.percent)),P.Db(4),P.mc("ngIf",t.percent>0&&t.percent<100),P.Db(2),P.Rc(" ",t.label," "))},directives:[C.m,C.p],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.view-progress[_ngcontent-%COMP%]{--circleSize:35vw;pointer-events:none;position:absolute;display:flex;justify-content:center;align-items:center;left:0;right:0;top:0;bottom:0;z-index:1000;transition:background-color .15s}@-webkit-keyframes progressPulse{0%{stroke-width:4}50%{stroke-width:1}to{stroke-width:4}}@keyframes progressPulse{0%{stroke-width:4}50%{stroke-width:1}to{stroke-width:4}}.view-progress--active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}.view-progress__circle[_ngcontent-%COMP%]{transform:scale(0);width:var(--circleSize);height:var(--circleSize);border-radius:50%;background-color:rgba(16,24,35,.8);display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.view-progress__count[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em;color:#fff;font-weight:700}.view-progress__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em;color:hsla(0,0%,100%,.8)}.view-progress__ring[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;opacity:1;stroke-dashoffset:0;stroke-width:4;stroke:hsla(0,0%,100%,.8);fill:transparent;transform:rotate(-90deg)}.view-progress__ring--pulse[_ngcontent-%COMP%]{-webkit-animation:progressPulse 2s ease-in-out infinite;animation:progressPulse 2s ease-in-out infinite}@media (min-width:600px){.view-progress__circle[_ngcontent-%COMP%]{width:160px;height:160px}}"],data:{animation:[Object(Qo.n)("isOpen",[Object(Qo.k)("open",Object(Qo.l)({transform:"scale(1)"})),Object(Qo.k)("closed",Object(Qo.l)({transform:"scale(0)"})),Object(Qo.m)("closed => open",[Object(Qo.e)("300ms ease-out")]),Object(Qo.m)("open => closed",[Object(Qo.e)("150ms ease-in")])])]},changeDetection:0}),zs),Vs=["viewLoader"],Rs=["*"],Es=((Ss=function(){function e(t,n,i){m(this,e),this.renderer=t,this.viewService=n,this.actions=i,this.ngUnsubscribe=new ne.a}return x(e,[{key:"handleClick",value:function(){var e=this;this.renderer.addClass(this.viewLoaderRef.nativeElement,"view-loader--disappear"),setTimeout((function(){e.viewService.toggleInteract(!1),e.viewService.playChapterFromStart()}),250)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ss)(P.Pb(P.H),P.Pb(Ne.a),P.Pb(U.b))},Ss.\u0275cmp=P.Jb({type:Ss,selectors:[["app-view-loader"]],viewQuery:function(e,t){var n;1&e&&P.Jc(Vs,!0),2&e&&P.xc(n=P.dc())&&(t.viewLoaderRef=n.first)},ngContentSelectors:Rs,decls:4,vars:0,consts:[["role","dialog",1,"view-loader"],["viewLoader",""],["role","button",3,"click"]],template:function(e,t){1&e&&(P.lc(),P.Vb(0,"div",0,1),P.Vb(2,"div",2),P.cc("click",(function(){return t.handleClick()})),P.kc(3),P.Ub(),P.Ub())},styles:[""],encapsulation:2,changeDetection:0}),Ss),Ls=["circle"],Ns=["progressCircle"],$s=["progressContainer"],As=((js=function(){function e(t){m(this,e),this.renderer=t,this.ngUnsubscribe=new ne.a,this._percent=0}return x(e,[{key:"percent",get:function(){return this._percent},set:function(e){null!=e&&(this._percent=e,this.setProgress(this.percent))}},{key:"ngOnInit",value:function(){this.initSizeObserver()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"ngAfterViewInit",value:function(){this.updateDimensions()}},{key:"initSizeObserver",value:function(){var e=this;Object(ie.a)(window,"resize").pipe(Object(he.a)(10),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.updateDimensions()}))}},{key:"calculateRadius",value:function(){return this.getCircleWidth()/2}},{key:"getCircleWidth",value:function(){return this.circleRef.nativeElement.offsetWidth}},{key:"getRadius",value:function(){return this.progressCircleRef.nativeElement.r.baseVal.value}},{key:"getCircumference",value:function(){return 2*this.getRadius()*Math.PI}},{key:"getOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=this.getCircumference();return t-e/100*t}},{key:"setProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e>=100&&(e=100);var t=this.getCircumference(),n=this.getOffset(e);this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray","".concat(t," ").concat(t)),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n)}},{key:"updateDimensions",value:function(){var e=this,t=this.calculateRadius();this.renderer.setAttribute(this.progressContainerRef.nativeElement,"width",""+2*t),this.renderer.setAttribute(this.progressContainerRef.nativeElement,"height",""+2*t),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"r",""+(t-6)),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cx",""+t),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cy",""+t);var n=this.getCircumference();this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray","".concat(n," ").concat(n)),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n),setTimeout((function(){e.renderer.setStyle(e.progressCircleRef.nativeElement,"transition","stroke-dashoffset 300ms")}))}}]),e}()).\u0275fac=function(e){return new(e||js)(P.Pb(P.H))},js.\u0275cmp=P.Jb({type:js,selectors:[["app-play-loader"]],viewQuery:function(e,t){var n;1&e&&(P.Jc(Ls,!0),P.Jc(Ns,!0),P.Jc($s,!0)),2&e&&(P.xc(n=P.dc())&&(t.circleRef=n.first),P.xc(n=P.dc())&&(t.progressCircleRef=n.first),P.xc(n=P.dc())&&(t.progressContainerRef=n.first))},inputs:{percent:"percent"},decls:10,vars:0,consts:[["tabindex","0","type","button","aria-label","Interact in 3D",1,"play-loader"],[1,"play-loader__circle"],["circle",""],[1,"play-loader__ring"],["progressContainer",""],[1,"play-loader__ring-inner"],["progressCircle",""],["icon","play",1,"play-loader__icon"],[1,"play-loader__label"]],template:function(e,t){1&e&&(P.Vb(0,"button",0),P.Vb(1,"div",1,2),P.fc(),P.Vb(3,"svg",3,4),P.Qb(5,"circle",5,6),P.Ub(),P.ec(),P.Qb(7,"app-icon",7),P.Vb(8,"div",8),P.Pc(9,"3D"),P.Ub(),P.Ub(),P.Ub())},directives:[Fe.a],styles:[".play-loader[_ngcontent-%COMP%]{--buttonSize:35vw;border:0;width:100%;background:rgba(0,0,0,.2);display:flex;position:fixed;justify-content:center;align-items:center;top:0;bottom:0;left:0;right:0;transition:background-color .25s,opacity .25s;z-index:10000}.play-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:rgba(0,0,0,.2)}.play-loader[_ngcontent-%COMP%]:focus   .play-loader__circle[_ngcontent-%COMP%], .play-loader[_ngcontent-%COMP%]:hover   .play-loader__circle[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.8);transform:scale(1.1)}.play-loader[_ngcontent-%COMP%]:focus   .play-loader__icon[_ngcontent-%COMP%], .play-loader[_ngcontent-%COMP%]:hover   .play-loader__icon[_ngcontent-%COMP%]{color:#2d72dc;transform:scale(1.2)}.play-loader[_ngcontent-%COMP%]:focus   .play-loader__label[_ngcontent-%COMP%], .play-loader[_ngcontent-%COMP%]:hover   .play-loader__label[_ngcontent-%COMP%]{color:#fff}.play-loader[_ngcontent-%COMP%]:focus   .play-loader__ring[_ngcontent-%COMP%], .play-loader[_ngcontent-%COMP%]:hover   .play-loader__ring[_ngcontent-%COMP%]{stroke:#2d72dc}.play-loader__circle[_ngcontent-%COMP%]{width:var(--buttonSize);height:var(--buttonSize);border-radius:50%;background-color:rgba(16,24,35,.8);display:flex;align-items:center;justify-content:center;position:relative;transition:background-color .25s,color .25s,transform .25s}.play-loader__icon[_ngcontent-%COMP%]{font-size:calc(var(--buttonSize) / 2);color:hsla(0,0%,100%,.9);transition:color .25s,transform .25s;margin-right:-10%}.play-loader__label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:2;font-weight:600}.play-loader__ring[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;stroke-width:4;stroke:#fff;fill:transparent;transform:rotate(-90deg)}@media (min-width:600px){.play-loader__circle[_ngcontent-%COMP%]{width:160px;height:160px}.play-loader__icon[_ngcontent-%COMP%]{font-size:80px}}"],changeDetection:0}),js),Qs=((Ds=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ds)},Ds.\u0275cmp=P.Jb({type:Ds,selectors:[["app-hand-loader"]],decls:6,vars:0,consts:[["tabindex","0","type","button","aria-label","Interact in 3D",1,"hand-loader"],[1,"hand-loader__container"],[1,"hand-loader__circle"],["src","assets/images/widget/loading_experience/interact-in-3d-hand.svg","alt","Interact in 3D",1,"hand-loader__3d-hand"],[1,"hand-loader__label"]],template:function(e,t){1&e&&(P.Vb(0,"button",0),P.Vb(1,"div",1),P.Qb(2,"div",2),P.Qb(3,"img",3),P.Vb(4,"div",4),P.Pc(5,"Interact in 3D"),P.Ub(),P.Ub(),P.Ub())},styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.hand-loader[_ngcontent-%COMP%]{border:0;width:100%;background:rgba(0,0,0,.2);display:flex;position:fixed;justify-content:center;align-items:center;top:0;bottom:0;left:0;right:0;transition:background-color .25s,opacity .25s;z-index:10000}.hand-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:rgba(0,0,0,.2)}@-webkit-keyframes handKeyframes{0%{transform:scale(1.2)}25%{transform:scale(1)}40%{transform:scale(1)}60%{transform:scale(1.2)}to{transform:scale(1.2)}}@keyframes handKeyframes{0%{transform:scale(1.2)}25%{transform:scale(1)}40%{transform:scale(1)}60%{transform:scale(1.2)}to{transform:scale(1.2)}}@-webkit-keyframes circleKeyframes{0%{transform:scale(0)}20%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}@keyframes circleKeyframes{0%{transform:scale(0)}20%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}.hand-loader[_ngcontent-%COMP%]:focus   .hand-loader__3d-hand[_ngcontent-%COMP%], .hand-loader[_ngcontent-%COMP%]:hover   .hand-loader__3d-hand[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px #2d72dc)}.hand-loader__container[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.hand-loader__circle[_ngcontent-%COMP%]{background-color:#fff;position:absolute;left:50%;margin-left:-40.5px;margin-top:-1.5px;width:70px;height:70px;border-radius:50%;-webkit-animation:circleKeyframes 2s infinite;animation:circleKeyframes 2s infinite}.hand-loader__3d-hand[_ngcontent-%COMP%]{-webkit-animation:handKeyframes 2s ease-in-out infinite;animation:handKeyframes 2s ease-in-out infinite;position:absolute;height:96px;width:86px;left:50%;margin-left:-43px;margin-top:27px;transition:filter .3s ease-out}.hand-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:600;color:#fff;text-shadow:0 1px 5px #000;bottom:40px;position:absolute;text-align:center;width:100%}"],changeDetection:0}),Ds),qs=c("5nh7"),Fs=["app-view-rounded-button",""];function Hs(e,t){if(1&e&&P.Qb(0,"app-icon",3),2&e){var n=P.gc();P.mc("icon",n.icon)}}var Bs,Ws=((Bs=function(){function e(){m(this,e),this.iconPlacement="left",this.compact=!1,this.buttonType="outline"}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Bs)},Bs.\u0275cmp=P.Jb({type:Bs,selectors:[["button","app-view-rounded-button",""]],inputs:{icon:"icon",iconPlacement:"iconPlacement",label:"label",compact:"compact",buttonType:"buttonType",shadow:"shadow"},attrs:Fs,decls:4,vars:12,consts:[[1,"view-rounded-button"],["class","view-rounded-button__icon mh-1",3,"icon",4,"ngIf"],[1,"view-rounded-button__label","mh-1"],[1,"view-rounded-button__icon","mh-1",3,"icon"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,Hs,1,1,"app-icon",1),P.Vb(2,"div",2),P.Pc(3),P.Ub(),P.Ub()),2&e&&(P.Hb("view-rounded-button--outline","outline"===t.buttonType)("view-rounded-button--solid","solid"===t.buttonType)("view-rounded-button--shadow",t.shadow)("view-rounded-button--compact",t.compact)("view-rounded-button--reverse","right"===t.iconPlacement),P.Db(1),P.mc("ngIf",t.icon),P.Db(2),P.Qc(t.label))},directives:[C.p,Fe.a],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}button[app-view-rounded-button]{border-color:transparent;background:none;border-width:0;padding:0;outline:none;margin:0;pointer-events:all}button[app-view-rounded-button]:focus .view-rounded-button,button[app-view-rounded-button]:hover .view-rounded-button{color:#f9fafd;border-color:#f9fafd;background:rgba(249,250,253,.25)}button[app-view-rounded-button]:focus .view-rounded-button--solid,button[app-view-rounded-button]:hover .view-rounded-button--solid{border-color:rgba(249,250,253,.25)}.view-rounded-button{cursor:pointer;display:flex;flex-direction:row;align-items:center;justify-content:center;padding:12px 16px;border-radius:24px;color:#f9fafd;border:1px solid #f9fafd}.view-rounded-button__label{font-size:16px;letter-spacing:.4px;line-height:1.4em}.view-rounded-button--solid{color:#060502;border-color:#060502;background:#f9fafd}.view-rounded-button--shadow{box-shadow:0 0 8px rgba(0,0,0,.32)}.view-rounded-button--reverse{flex-direction:row-reverse}.view-rounded-button--compact{padding:4px 8px}"],encapsulation:2,changeDetection:0}),Bs),Js=function(e){return e.CameraZoom="camera-zoom",e.CameraRotate="camera-rotate",e.CameraPan="camera-pan",e.NodeSelection="node-selection",e}({}),Gs=c("937/"),Ks=c("5+tZ"),Ys=c("IOcx"),Zs=c("YLgZ");function Xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return nl(e).pipe(Object(Va.a)(t.getCameraZoom()),Object(be.a)((function(){return t.getCameraZoom()})),Object(de.a)(),Object(be.a)((function(e){var t=u(e,2),n=t[0];return t[1]-n})),Object(pe.a)((function(e){return Math.abs(e)>i})),Object(he.a)(n))}function el(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:125;return nl(e).pipe(Object(Va.a)(t.getLookDirection()),Object(be.a)((function(){return t.getLookDirection()})),Object(de.a)(),Object(be.a)((function(e){var t=u(e,2);return function(e,t){return Ys.a.angle(e,t)>.001}(t[0],t[1])})),Object(pe.a)((function(e){return e})),Object(he.a)(n))}function tl(e){return{camera:e.getCamera(),zoom:e.getCameraZoom()}}function nl(e){return e.getEvent(cn.a.CameraRested)}function il(e){var t=e.eye,n=e.look,i=Ys.a.fromValues(t.x,t.y,t.z),o=Ys.a.fromValues(n.x,n.y,n.z),r=Ys.a.create();return Ys.a.sub(r,i,o),r}var ol=c("zx2A"),rl=function(){function e(t){m(this,e),this.notifier=t}return x(e,[{key:"call",value:function(e,t){return t.subscribe(new al(e,this.notifier))}}]),e}(),al=function(e){o(i,e);var t=a(i);function i(e,n){var o;m(this,i),(o=t.call(this,e)).hasValue=!1;var r=new ol.a(s(o));o.add(r),o.innerSubscription=r;var a=Object(ol.c)(n,r);return a!==r&&(o.add(a),o.innerSubscription=a),o}return x(i,[{key:"_next",value:function(e){this.hasValue&&n(l(i.prototype),"_next",this).call(this,e)}},{key:"notifyNext",value:function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}},{key:"notifyComplete",value:function(){}}]),i}(ol.b);function cl(e,t){if(1&e&&(P.Vb(0,"h2",6),P.Pc(1),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.Rc(" ",n.title," ")}}function sl(e,t){if(1&e&&P.Qb(0,"img",7),2&e){var n=P.gc(2);P.mc("src",n.image,P.Fc)("alt",n.alt)}}function ll(e,t){if(1&e&&(P.Vb(0,"div",1),P.Nc(1,cl,2,1,"h2",2),P.Vb(2,"article",3),P.kc(3),P.Ub(),P.Nc(4,sl,1,2,"img",4),P.Vb(5,"div",5),P.kc(6,1),P.Ub(),P.Ub()),2&e){var n=P.gc();P.Hb("slide--expanded","expanded"===n.spacing),P.mc("@refresh",void 0),P.Db(1),P.mc("ngIf",n.title),P.Db(3),P.mc("ngIf",n.image)}}var pl,ul=["*",[["","slide-footer",""]]],gl=["*","[slide-footer]"],hl=((pl=function(){function e(t,n,i,o,r){m(this,e),this.store=t,this.actions=n,this.engineService=i,this.cameraService=o,this.changeRef=r,this.alt="",this.spacing="compact",this.exitEnabled=!0,this.triggerDelay=300,this.triggerComplete=new P.p,this._shown=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"shown",get:function(){return this._shown},set:function(e){this._shown=e,this.initTrigger(),this.changeRef.markForCheck()}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.initTrigger()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initTrigger",value:function(){var e,t=this;if(this.ngUnsubscribe.next(),this.shown&&this.trigger){var n=this.resetCamera(),i=this.store.selectSnapshot(I.a.getCanTouch);(function(e,t,n,i,o){switch(e){case Js.CameraZoom:return o?Xs(n,i):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,o=e.getCanvas(),r=Object(ie.a)(o,"wheel"),a=Object(ie.a)(o,"touchmove").pipe(Object(pe.a)((function(e){return 2===e.touches.length}))),c=Xs(e,t,n,i);return Object(ae.a)(r,a).pipe(Object(Ks.a)((function(){return c})))}(n,i);case Js.CameraPan:return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:125,i=e.getCanvas(),o=Object(ie.a)(i,"mousemove").pipe(Object(pe.a)((function(e){return 1===e.buttons&&e.shiftKey||2===e.buttons||4===e.buttons}))),r=Object(ie.a)(i,"touchmove").pipe(Object(pe.a)((function(e){return 2===e.touches.length}))),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:125;return nl(e).pipe(Object(Va.a)(tl(t)),Object(be.a)((function(){return tl(t)})),Object(he.a)(n),Object(de.a)(),Object(be.a)((function(e){var t=u(e,2);return function(e,t){var n=il(e.camera),i=il(t.camera),o=Ys.a.create();Ys.a.sub(o,n,i);var r=o.reduce((function(e,t){return e+t})),a=t.zoom-e.zoom;return(0!==a||0!==r)&&Math.abs(r)<1&&Math.abs(a)<.001}(t[0],t[1])})),Object(pe.a)((function(e){return e})))}(e,t,n);return Object(ae.a)(o,r).pipe(Object(Ks.a)((function(){return a})))}(n,i);case Js.CameraRotate:return o?el(n,i):function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,o=t.getCanvas(),r=Object(ie.a)(o,"mousemove").pipe(Object(pe.a)((function(e){return 1===e.buttons}))),a=Object(ie.a)(o,"touchmove").pipe(Object(pe.a)((function(e){return 1===e.touches.length}))),c=el(t,n,i);return Object(ae.a)(r,a).pipe(Object(Ks.a)((function(){return c})),Object(pe.a)((function(){return"rotate"===e.selectSnapshot(Zs.a.getPanMode)})),Object(he.a)(125))}(t,n,i);case Js.NodeSelection:return function(e){return e.select(hn.a.getCheckedNodes).pipe(Object(de.a)(),Object(pe.a)((function(e){var t=u(e,2);return t[0],t[1].length>0})))}(t)}})(this.trigger,this.store,this.engineService,this.cameraService,i).pipe((e=n,function(t){return t.lift(new rl(e))}),Object(Ue.a)(this.triggerDelay),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){t.triggerComplete.next()}))}}},{key:"resetCamera",value:function(){var e=this,t=this.store.selectSnapshot(we.a.getSelectedChapter);return this.store.dispatch(new sn.l(t.camera.location,!0)).pipe(Object(Ks.a)((function(){return e.actions.pipe(Object(U.l)(sn.o))})),Object(ue.a)(1))}}]),e}()).\u0275fac=function(e){return new(e||pl)(P.Pb(U.h),P.Pb(U.b),P.Pb(xn.a),P.Pb(Gs.a),P.Pb(P.i))},pl.\u0275cmp=P.Jb({type:pl,selectors:[["app-view-tour-slide"]],inputs:{title:"title",image:"image",alt:"alt",spacing:"spacing",shown:"shown",exitEnabled:"exitEnabled",trigger:"trigger",triggerDelay:"triggerDelay"},outputs:{triggerComplete:"triggerComplete"},ngContentSelectors:gl,decls:1,vars:1,consts:[["class","slide",3,"slide--expanded",4,"ngIf"],[1,"slide"],["class","slide__title",4,"ngIf"],[1,"slide__content"],["class","slide__image",3,"src","alt",4,"ngIf"],[1,"slide__footer"],[1,"slide__title"],[1,"slide__image",3,"src","alt"]],template:function(e,t){1&e&&(P.lc(ul),P.Nc(0,ll,7,5,"div",0)),2&e&&P.mc("ngIf",t.shown)},directives:[C.p],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;max-width:500px}.slide__title[_ngcontent-%COMP%]{font-weight:600;font-size:18px;letter-spacing:.45px}.slide__content[_ngcontent-%COMP%], .slide__title[_ngcontent-%COMP%]{margin-bottom:16px;line-height:1.4em}.slide__content[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.5em;max-width:100%}.slide__image[_ngcontent-%COMP%]{margin:24px auto;max-width:100%;min-height:1px}.slide__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-weight:500;display:flex;flex-direction:row;align-items:center;justify-content:center;max-width:100%}.slide--expanded[_ngcontent-%COMP%]   .slide__title[_ngcontent-%COMP%]{margin:16px}.slide--expanded[_ngcontent-%COMP%]   .slide__content[_ngcontent-%COMP%]{margin:48px}.slide--expanded[_ngcontent-%COMP%]   .slide__image[_ngcontent-%COMP%]{margin:48px auto}@media (max-width:768px){.slide[_ngcontent-%COMP%]{max-width:400px}.slide__image[_ngcontent-%COMP%]{margin:16px}.slide__title[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em;margin-bottom:12px}.slide__content[_ngcontent-%COMP%]{margin-bottom:12px}.slide__content[_ngcontent-%COMP%], .slide__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}}@media (max-width:640px){.slide[_ngcontent-%COMP%]{max-width:320px}}@media (max-width:480px){.slide[_ngcontent-%COMP%]{max-width:240px}.slide__title[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px}.slide__content[_ngcontent-%COMP%], .slide__title[_ngcontent-%COMP%]{line-height:1.4em;margin-bottom:8px}.slide__content[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px}.slide__image[_ngcontent-%COMP%]{margin:4px auto}.slide__footer[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}}@media (max-width:320px){.slide[_ngcontent-%COMP%]{max-width:160px}}"],data:{animation:[Object(Qo.n)("refresh",[Object(Qo.m)(":enter",[Object(Qo.o)(qs.a.slideTransition,{params:{duration:500,from:100,to:0}})])])]},changeDetection:0}),pl);function dl(e,t){1&e&&(P.Vb(0,"div",1),P.Vb(1,"div",2),P.kc(2),P.Ub(),P.Ub())}var bl,fl=["*"],xl=((bl=function(){function e(t){m(this,e),this.changeRef=t,this.selectedSlideIndex=0,this._shown=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"shown",get:function(){return this._shown},set:function(e){this._shown=e,this.setSelectedSlide(0)}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;this.initListeners(),setTimeout((function(){e.setSlideShown(e.selectedSlideIndex)}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"goToPrevSlide",value:function(){this.setSelectedSlide(this.selectedSlideIndex-1)}},{key:"goToNextSlide",value:function(){this.setSelectedSlide(this.selectedSlideIndex+1)}},{key:"setSelectedSlide",value:function(e){if(this.selectedSlideIndex=e,this.slides){var t=Math.max(0,Math.min(this.slides.length-1,e));this.selectedSlideIndex=t}this.setSlideShown(this.selectedSlideIndex)}},{key:"initListeners",value:function(){var e=this;Object(ae.a).apply(void 0,t(this.slides.map((function(e){return e.triggerComplete.asObservable()})))).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.goToNextSlide()}))}},{key:"setSlideShown",value:function(e){this.slides&&this.slides.forEach((function(t,n){t.shown=n===e})),this.changeRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||bl)(P.Pb(P.i))},bl.\u0275cmp=P.Jb({type:bl,selectors:[["app-view-tour-page"]],contentQueries:function(e,t,n){var i;1&e&&P.Ib(n,hl,!1),2&e&&P.xc(i=P.dc())&&(t.slides=i)},inputs:{shown:"shown"},ngContentSelectors:fl,decls:1,vars:1,consts:[["class","page",4,"ngIf"],[1,"page"],[1,"page__contents"]],template:function(e,t){1&e&&(P.lc(),P.Nc(0,dl,3,0,"div",0)),2&e&&P.mc("ngIf",t.shown)},directives:[C.p],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.page__contents[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}@media (max-width:768px){.page__contents[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}}@media (max-width:480px){.page__contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"],changeDetection:0}),bl),ml=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function vl(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",5),P.Vb(1,"button",6),P.cc("click",(function(){return P.Cc(n),P.gc(2).handlePrevClick()})),P.Ub(),P.Vb(2,"div",7),P.Pc(3),P.Ub(),P.Vb(4,"button",8),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleNextClick()})),P.Ub(),P.Ub()}if(2&e){var i=P.gc().$implicit;P.Db(1),P.mc("disabled",i.pageIndex<1),P.Eb("aria-disabled",i.pageIndex<1)("tabindex",i.pageIndex<1?-1:0),P.Db(2),P.Sc("",i.pageIndex+1," / ",i.pageSize,""),P.Db(1),P.mc("disabled",i.pageIndex===i.pageSize-1),P.Eb("aria-disabled",i.pageIndex===i.pageSize-1)("tabindex",i.pageIndex===i.pageSize-1?-1:0)}}var wl=function(e){return{"pages--opaquer":e}};function yl(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",1),P.Vb(1,"button",2),P.cc("click",(function(){return P.Cc(n),P.gc().handleExitClick()})),P.Ub(),P.Vb(2,"div",3),P.kc(3),P.Ub(),P.Nc(4,vl,5,8,"div",4),P.Ub()}if(2&e){var i=t.$implicit;P.mc("ngClass",P.pc(2,wl,i.pageIndex==i.pageSize-1)),P.Db(4),P.mc("ngIf",i.pageIndex<i.pageSize-1)}}var _l,Cl,Ol,kl=["*"],Pl=((Ol=function(){function e(t,n){m(this,e),this.store=t,this.changeRef=n,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;this.tutorial$.pipe(Object(ge.a)(this.ngUnsubscribe),Object(pe.a)((function(e){return null!=e&&e.pageSize>0}))).subscribe((function(t){e.handleTutorialPages(t)})),this.store.dispatch(new xe.a.SetTutorial({pageSize:this.pages.length,pageIndex:0}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handlePrevClick",value:function(){this.store.dispatch(new xe.a.TutorialPrevious)}},{key:"handleNextClick",value:function(){this.store.dispatch(new xe.a.TutorialNext)}},{key:"handleExitClick",value:function(){this.store.dispatch(new xe.a.ToggleWindow(Vo.a.Tutorial,!1))}},{key:"handleTutorialPages",value:function(e){this.pages.forEach((function(t,n){t.shown=n===e.pageIndex})),this.changeRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||Ol)(P.Pb(U.h),P.Pb(P.i))},Ol.\u0275cmp=P.Jb({type:Ol,selectors:[["app-view-tour-pages"]],contentQueries:function(e,t,n){var i;1&e&&P.Ib(n,xl,!1),2&e&&P.xc(i=P.dc())&&(t.pages=i)},ngContentSelectors:kl,decls:2,vars:3,consts:[["class","pages",3,"ngClass",4,"ngIf"],[1,"pages",3,"ngClass"],["app-pin-button","","buttonType","dark","size","medium","icon","times","aria-label","Exit Tutorial","matTooltip","Exit Tutorial","matTooltipPosition","right","data-test","tutorialExitButton",1,"pages__close",3,"click"],[1,"pages__contents"],["class","pages__footer",4,"ngIf"],[1,"pages__footer"],["app-pin-button","","buttonType","dark","size","large","icon","angle-left","aria-label","Previous Tutorial Step","matTooltip","Previous Tutorial Step","matTooltipPosition","left","data-test","tutorialPreviousButton",1,"pages__nav",3,"disabled","click"],[1,"mh-8"],["app-pin-button","","buttonType","dark","size","large","icon","angle-right","aria-label","Next Tutorial Step","matTooltip"," Next Tutorial Step","matTooltipPosition","right","data-test","tutorialNextButton",1,"pages__nav",3,"disabled","click"]],template:function(e,t){1&e&&(P.lc(),P.Nc(0,yl,5,4,"div",0),P.hc(1,"async")),2&e&&P.mc("ngIf",P.ic(1,1,t.tutorial$))},directives:[C.p,C.m,qe.a,Gt.c],pipes:[C.b],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.pages[_ngcontent-%COMP%]{pointer-events:none;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px auto 48px;max-width:600px;position:relative;background:rgba(16,24,35,.8);border-radius:16px;padding:24px 28px 20px}.pages--opaquer[_ngcontent-%COMP%]{background:rgba(16,24,35,.9)}.pages__footer[_ngcontent-%COMP%]{flex-direction:row;font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:500}.pages__close[_ngcontent-%COMP%], .pages__footer[_ngcontent-%COMP%]{display:flex;align-items:center}.pages__close[_ngcontent-%COMP%]{z-index:1;position:absolute;top:8px;right:8px;align-self:flex-end;justify-content:center}.pages__contents[_ngcontent-%COMP%]{padding:16px 0}@media (max-width:768px){.pages[_ngcontent-%COMP%]{margin:16px 12% 48px;border-radius:10px;padding:18px 22px 14px}.pages__contents[_ngcontent-%COMP%]{padding:24px 0}.pages__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.pages__nav[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}}@media (max-width:480px){.pages[_ngcontent-%COMP%]{margin:12px 10% 48px;border-radius:8px;padding:24px 20px 12px}.pages__footer[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.pages__nav[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}}"],changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(I.a.getTutorial),ml("design:type",re.a)],Ol.prototype,"tutorial$",void 0),Ol),Ml=((Cl=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Cl)},Cl.\u0275cmp=P.Jb({type:Cl,selectors:[["app-view-tour-success"]],inputs:{inline:"inline"},decls:2,vars:2,consts:[[1,"view-tour-success"],["icon","check",1,"view-tour-success__icon"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Qb(1,"app-icon",1),P.Ub()),2&e&&P.Hb("view-tour-success--inline",t.inline)},directives:[Fe.a],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}.view-tour-success{width:52px;height:52px;display:flex;background-color:#1bbc66;border-radius:50%;justify-content:center;align-items:center}.view-tour-success__icon{font-size:36px;letter-spacing:.9px;line-height:1.4em;color:#fff}.view-tour-success--inline{display:inline-flex;width:32px;height:32px}.view-tour-success--inline .view-tour-success__icon{font-size:18px;letter-spacing:.45px;line-height:1.4em}@media (max-width:768px){.view-tour-success{width:36px;height:36px}.view-tour-success__icon{font-size:20px;letter-spacing:.5px;line-height:1.4em}.view-tour-success--inline{display:inline-flex;width:24px;height:24px}.view-tour-success--inline .view-tour-success__icon{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"],encapsulation:2,changeDetection:0}),Cl),zl=((_l=function(){function e(t){m(this,e),this.viewService=t,this.triggers=Js}return x(e,[{key:"handleStartClick",value:function(){this.viewService.toggleTutorial(!1)}}]),e}()).\u0275fac=function(e){return new(e||_l)(P.Pb(Ne.a))},_l.\u0275cmp=P.Jb({type:_l,selectors:[["app-view-tour-mobile"]],decls:31,vars:5,consts:[["title","Rotate",3,"trigger"],["title","Zoom",3,"trigger"],["title","Pan",3,"trigger"],["title","Explore the Anatomy",3,"trigger"],[1,"flex","justify-start","items-center"],[1,"mr-2",3,"inline"],[1,"text-semibold"],["title","Toolbar","image","assets/images/tutorial/tutorial-toolbar@3x.png","alt","Toolbars used for navigating content"],["slide-footer","",1,"flex","flex-column","items-center","justify-center"],["app-view-rounded-button","","buttonType","solid","label","Start Exploring!","aria-label","Start Exploring",1,"mt-4",3,"click"]],template:function(e,t){1&e&&(P.Vb(0,"app-view-tour-pages"),P.Vb(1,"app-view-tour-page"),P.Vb(2,"app-view-tour-slide",0),P.Pc(3," Tap and drag with one finger to change the viewing angle. "),P.Ub(),P.Vb(4,"app-view-tour-slide"),P.Qb(5,"app-view-tour-success"),P.Ub(),P.Ub(),P.Vb(6,"app-view-tour-page"),P.Vb(7,"app-view-tour-slide",1),P.Pc(8," Pinch with two fingers to zoom in or out. "),P.Ub(),P.Vb(9,"app-view-tour-slide"),P.Qb(10,"app-view-tour-success"),P.Ub(),P.Ub(),P.Vb(11,"app-view-tour-page"),P.Vb(12,"app-view-tour-slide",2),P.Pc(13," Use two fingers to adjust the model's position. "),P.Ub(),P.Vb(14,"app-view-tour-slide"),P.Qb(15,"app-view-tour-success"),P.Ub(),P.Ub(),P.Vb(16,"app-view-tour-page"),P.Vb(17,"app-view-tour-slide",3),P.Pc(18," Tap on an individual part of the model to highlight anatomy. "),P.Ub(),P.Vb(19,"app-view-tour-slide"),P.Vb(20,"div",4),P.Vb(21,"div"),P.Qb(22,"app-view-tour-success",5),P.Vb(23,"strong",6),P.Pc(24,"Tip:"),P.Ub(),P.Pc(25," Double-tap to zoom in on specific structures. "),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Vb(26,"app-view-tour-page"),P.Vb(27,"app-view-tour-slide",7),P.Pc(28," Use the toolbar to navigate through the 3D experience, launch deeper exploration tools, and relaunch this tutorial. "),P.Vb(29,"div",8),P.Vb(30,"button",9),P.cc("click",(function(){return t.handleStartClick()})),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.Db(2),P.mc("trigger","camera-rotate"),P.Db(5),P.mc("trigger",t.triggers.CameraZoom),P.Db(5),P.mc("trigger",t.triggers.CameraPan),P.Db(5),P.mc("trigger",t.triggers.NodeSelection),P.Db(5),P.mc("inline",!0))},directives:[Pl,xl,hl,Ml,Ws],styles:[""],changeDetection:0}),_l),Sl=c("jDQD");function Dl(e,t){if(1&e&&P.Qb(0,"app-icon",5),2&e){var n=P.gc(2);P.mc("icon",n.icon)}}function jl(e,t){if(1&e&&(P.Vb(0,"span",6),P.Pc(1),P.Ub()),2&e){var n=P.gc(2);P.Db(1),P.Qc(n.label)}}function Ul(e,t){if(1&e&&(P.Tb(0),P.Nc(1,Dl,1,1,"app-icon",3),P.Nc(2,jl,2,1,"span",4),P.Sb()),2&e){var n=P.gc();P.Db(1),P.mc("ngIf",n.icon),P.Db(1),P.mc("ngIf",n.icon)}}function Il(e,t){if(1&e&&(P.Vb(0,"span"),P.Pc(1),P.Ub()),2&e){var n=P.gc();P.Db(1),P.Rc(" ",n.label," ")}}var Tl,Vl=((Tl=function(){function e(){m(this,e)}return x(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Tl)},Tl.\u0275cmp=P.Jb({type:Tl,selectors:[["app-view-tour-tip-button"]],inputs:{label:"label",icon:"icon"},decls:3,vars:2,consts:[[1,"view-tour-tip-button","mv-1","mh-1",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"icon",4,"ngIf"],["class","visually-hidden",4,"ngIf"],[3,"icon"],[1,"visually-hidden"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,Ul,3,2,"ng-container",1),P.Nc(2,Il,2,1,"span",2),P.Ub()),2&e&&(P.mc("ngSwitch",!!t.icon),P.Db(1),P.mc("ngSwitchCase",!0))},directives:[C.r,C.s,C.t,C.p,Fe.a],styles:[".view-tour-tip-button{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;color:#131c2a;background-color:#fff;border-radius:2px;font-weight:700;padding:4px;width:24px;height:24px}@media (max-width:768px){.view-tour-tip-button{width:20px;height:20px}}"],encapsulation:2,changeDetection:0}),Tl),Rl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function El(e,t){1&e&&(P.Tb(0),P.Pc(1," Hold the control key and scroll up and down to zoom in or out. "),P.Sb())}function Ll(e,t){1&e&&(P.Tb(0),P.Pc(1," Scroll up and down to zoom in or out. "),P.Sb())}var Nl,$l=((Nl=function(){function e(t){m(this,e),this.viewService=t,this.triggers=Js}return x(e,[{key:"ngOnInit",value:function(){this.captureScroll$=this.scrollMode$.pipe(Object(be.a)((function(e){return e===Sl.a.Capture})))}},{key:"handleStartClick",value:function(){this.viewService.toggleTutorial(!1)}}]),e}()).\u0275fac=function(e){return new(e||Nl)(P.Pb(Ne.a))},Nl.\u0275cmp=P.Jb({type:Nl,selectors:[["app-view-tour-desktop"]],decls:62,vars:12,consts:[["title","Rotate",3,"trigger"],[1,"flex","justify-start","items-center"],[1,"mr-2",3,"inline"],[1,"text-semibold"],["icon","caret-up","label","up"],["icon","caret-down","label","down"],["icon","caret-left","label","left"],["icon","caret-right","label","right"],["title","Zoom",3,"trigger","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["label","+"],["label","-"],["title","Pan",3,"trigger"],["label","W"],["label","A"],["label","S"],["label","D"],["title","Explore the Anatomy",3,"trigger"],["image","assets/images/tutorial/tutorial-toolbar@3x.png","alt","Toolbars used for navigating content"],["slide-footer","",1,"flex","flex-column","items-center","justify-center"],["app-view-rounded-button","","buttonType","solid","label","Start Exploring!","aria-label","Start Exploring",1,"mt-4",3,"click"]],template:function(e,t){1&e&&(P.Vb(0,"app-view-tour-pages"),P.Vb(1,"app-view-tour-page"),P.Vb(2,"app-view-tour-slide",0),P.Pc(3," Click and drag the model to change the viewing angle. "),P.Ub(),P.Vb(4,"app-view-tour-slide"),P.Vb(5,"div",1),P.Vb(6,"div"),P.Qb(7,"app-view-tour-success",2),P.Vb(8,"strong",3),P.Pc(9,"Tip:"),P.Ub(),P.Pc(10," You can also use the arrow keys "),P.Qb(11,"app-view-tour-tip-button",4),P.Qb(12,"app-view-tour-tip-button",5),P.Qb(13,"app-view-tour-tip-button",6),P.Qb(14,"app-view-tour-tip-button",7),P.Pc(15," to rotate. "),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Vb(16,"app-view-tour-page"),P.Vb(17,"app-view-tour-slide",8),P.hc(18,"async"),P.Nc(19,El,2,0,"ng-container",9),P.Nc(20,Ll,2,0,"ng-container",10),P.Ub(),P.Vb(21,"app-view-tour-slide"),P.Vb(22,"div",1),P.Vb(23,"div"),P.Qb(24,"app-view-tour-success",2),P.Vb(25,"strong",3),P.Pc(26,"Tip:"),P.Ub(),P.Pc(27," You can also use "),P.Qb(28,"app-view-tour-tip-button",11),P.Pc(29," to zoom in and "),P.Qb(30,"app-view-tour-tip-button",12),P.Pc(31," to zoom out. "),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Vb(32,"app-view-tour-page"),P.Vb(33,"app-view-tour-slide",13),P.Pc(34," Hold the shift key and drag to move the model's position. "),P.Ub(),P.Vb(35,"app-view-tour-slide"),P.Vb(36,"div",1),P.Vb(37,"div"),P.Qb(38,"app-view-tour-success",2),P.Vb(39,"strong",3),P.Pc(40,"Tip:"),P.Ub(),P.Pc(41," You can also use the "),P.Qb(42,"app-view-tour-tip-button",14),P.Qb(43,"app-view-tour-tip-button",15),P.Qb(44,"app-view-tour-tip-button",16),P.Qb(45,"app-view-tour-tip-button",17),P.Pc(46," keys to pan. "),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Vb(47,"app-view-tour-page"),P.Vb(48,"app-view-tour-slide",18),P.Pc(49," Click on an individual part of the model to highlight anatomy. "),P.Ub(),P.Vb(50,"app-view-tour-slide"),P.Vb(51,"div",1),P.Vb(52,"div"),P.Qb(53,"app-view-tour-success",2),P.Vb(54,"strong",3),P.Pc(55,"Tip:"),P.Ub(),P.Pc(56," Double-click to zoom in on specific structures. "),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Vb(57,"app-view-tour-page"),P.Vb(58,"app-view-tour-slide",19),P.Pc(59," Use the toolbar to navigate through the 3D experience, launch deeper exploration tools, and relaunch this tutorial. "),P.Vb(60,"div",20),P.Vb(61,"button",21),P.cc("click",(function(){return t.handleStartClick()})),P.Ub(),P.Ub(),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.Db(2),P.mc("trigger",t.triggers.CameraRotate),P.Db(5),P.mc("inline",!0),P.Db(10),P.mc("trigger",t.triggers.CameraZoom)("ngSwitch",P.ic(18,10,t.captureScroll$)),P.Db(2),P.mc("ngSwitchCase",!1),P.Db(5),P.mc("inline",!0),P.Db(9),P.mc("trigger",t.triggers.CameraPan),P.Db(5),P.mc("inline",!0),P.Db(10),P.mc("trigger",t.triggers.NodeSelection),P.Db(5),P.mc("inline",!0))},directives:[Pl,xl,hl,Ml,Vl,C.r,C.s,C.t,Ws],pipes:[C.b],styles:[""],changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(gn.a.getScrollMode),Rl("design:type",re.a)],Nl.prototype,"scrollMode$",void 0),Nl),Al=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ql=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ql(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",3),P.Vb(1,"h2",4),P.Pc(2,"Getting Started"),P.Ub(),P.Vb(3,"p",5),P.Pc(4," Welcome! This tutorial will teach you how to navigate and explore in 3D using your "),P.Qb(5,"button",6),P.hc(6,"async"),P.hc(7,"async"),P.Vb(8,"mat-menu",null,7),P.Vb(10,"button",8),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleSelectInputModeClick(e.inputModes.Mouse)})),P.Pc(11),P.Ub(),P.Vb(12,"button",8),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleSelectInputModeClick(e.inputModes.Touch)})),P.Pc(13),P.Ub(),P.Ub(),P.Ub(),P.Vb(14,"div",9),P.Vb(15,"button",10),P.cc("click",(function(){return P.Cc(n),P.gc().handleExitClick()})),P.Ub(),P.Vb(16,"button",11),P.cc("click",(function(){return P.Cc(n),P.gc().handleStartClick()})),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=P.yc(9),o=P.gc();P.Db(5),P.mc("compact",!0)("label",o.inputModesText[P.ic(6,6,o.inputMode$)])("matMenuTriggerFor",i),P.Eb("aria-label",o.inputModesText[P.ic(7,8,o.inputMode$)]),P.Db(6),P.Rc(" ",o.inputModesText[o.inputModes.Mouse]," "),P.Db(2),P.Rc(" ",o.inputModesText[o.inputModes.Touch]," ")}}function Fl(e,t){1&e&&P.Qb(0,"app-view-tour-mobile")}function Hl(e,t){1&e&&P.Qb(0,"app-view-tour-desktop")}function Bl(e,t){if(1&e&&(P.Vb(0,"div",12),P.hc(1,"async"),P.Nc(2,Fl,1,0,"app-view-tour-mobile",13),P.Nc(3,Hl,1,0,"app-view-tour-desktop",14),P.Ub()),2&e){var n=P.gc();P.mc("ngSwitch",P.ic(1,2,n.inputMode$)),P.Db(2),P.mc("ngSwitchCase",n.inputModes.Touch)}}var Wl,Jl=(e(d={},Lo.a.Mouse,"mouse, trackpad, or keyboard"),e(d,Lo.a.Touch,"touchscreen"),d),Gl=((Wl=function(){function e(t,n,i){m(this,e),this.store=t,this.viewService=n,this.storageService=i,this.inputModes=Lo.a,this.inputModesText=Jl,this.tourStarted=!1,this.tourEnded=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){this.initListeners(),this.store.dispatch(new xe.a.TutorialSeen(!0))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initListeners",value:function(){var e=this;this.tutorial$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.pageIndex,i=t.pageSize;e.tourStarted=n>-1,e.tourEnded=n===i-1})),Object(ie.a)(window,"keyup").pipe(Object(pe.a)((function(e){return"Escape"===e.key})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.exit()}))}},{key:"handleExitClick",value:function(){this.exit()}},{key:"handleStartClick",value:function(){this.store.dispatch(new xe.a.StartTutorial(!1))}},{key:"handleSelectInputModeClick",value:function(e){this.store.dispatch(new xe.a.SetInputMode(e))}},{key:"exit",value:function(){this.viewService.toggleTutorial(!1)}}]),e}()).\u0275fac=function(e){return new(e||Wl)(P.Pb(U.h),P.Pb(Ne.a),P.Pb(Pr.d))},Wl.\u0275cmp=P.Jb({type:Wl,selectors:[["app-view-tour"]],decls:3,vars:7,consts:[["role","dialog","aria-label","Getting Started Tutorial","cdkTrapFocus","",1,"tour"],["class","tour__intro",4,"ngIf"],["class","tour__contents",3,"ngSwitch",4,"ngIf"],[1,"tour__intro"],[1,"tour__title"],[1,"tour__welcome"],["app-view-rounded-button","","buttonType","outline","icon","chevron-down","iconPlacement","right",1,"tour__input-selection","text-small",3,"compact","label","matMenuTriggerFor"],["inputSelectionMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"tour__footer"],["app-view-rounded-button","","buttonType","outline","label","No, Thanks.","data-test","tutorialExitButton",1,"mr-3","text-medium",3,"click"],["app-view-rounded-button","","buttonType","solid","label","Start Tutorial","aria-label","Start Tutorial","data-test","tutorialStartButton",1,"ml-3","text-medium",3,"click"],[1,"tour__contents",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,ql,17,10,"div",1),P.Nc(2,Bl,4,4,"div",2),P.Ub()),2&e&&(P.Hb("tour--started",t.tourStarted)("tour--ended",t.tourEnded),P.mc("@refresh",void 0),P.Db(1),P.mc("ngIf",!t.tourStarted),P.Db(1),P.mc("ngIf",t.tourStarted))},directives:[O.d,C.p,Ws,Ke.d,Ke.a,Ke.b,C.r,C.s,C.t,zl,$l],pipes:[C.b],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.tour[_ngcontent-%COMP%]{color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;z-index:100;pointer-events:none;display:flex;flex-direction:column;align-items:center;overflow:auto}.tour__title[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.tour__welcome[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;margin:16px auto 32px}.tour__intro[_ngcontent-%COMP%]{background:rgba(16,24,35,.9);border-radius:16px;margin:auto;padding:28px 32px;text-align:center;max-width:560px}.tour__input-selection[_ngcontent-%COMP%]{vertical-align:middle}.tour__header[_ngcontent-%COMP%]{flex:none;align-self:flex-end;justify-self:flex-start;margin:24px}.tour__contents[_ngcontent-%COMP%]{flex:auto;display:flex;flex-direction:column;justify-content:flex-end;width:100%}.tour__footer[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;display:flex;flex-direction:row;align-items:center;justify-content:center}.tour__nav-arrow[_ngcontent-%COMP%]{font-size:32px;letter-spacing:.8px;line-height:1.4em;cursor:pointer}.tour--ended[_ngcontent-%COMP%]   .tour__contents[_ngcontent-%COMP%]{justify-content:center}@media (max-width:768px){.tour__intro[_ngcontent-%COMP%]{border-radius:12px;padding:20px 24px;margin:auto 12%;max-width:100%}.tour__intro__title[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.tour__intro__content[_ngcontent-%COMP%]{max-width:80%}.tour__header[_ngcontent-%COMP%], .tour__intro__content[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.tour__header[_ngcontent-%COMP%]{margin:12px}.tour__footer[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.tour__nav-arrow[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}}@media (max-width:480px){.tour__intro[_ngcontent-%COMP%]{border-radius:8px;padding:16px 20px;margin:auto 10%}.tour__intro__title[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.tour__intro__content[_ngcontent-%COMP%]{margin:12px auto 16px}.tour__header[_ngcontent-%COMP%], .tour__intro__content[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.tour__header[_ngcontent-%COMP%]{margin:12px}.tour__footer[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.tour__nav-arrow[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}}"],data:{animation:[Object(Qo.n)("refresh",[Object(Qo.m)(":enter",[Object(Qo.o)(qs.a.slideTransition,{params:{duration:500,from:100,to:0}})])])]},changeDetection:0}),Al([Object(U.e)(I.a.getTutorial),Ql("design:type",re.a)],Wl.prototype,"tutorial$",void 0),Al([Object(U.e)(I.a.getInputMode),Ql("design:type",re.a)],Wl.prototype,"inputMode$",void 0),Wl),Kl=c("nYR2"),Yl=c("zKvh"),Zl=c("ZDoJ"),Xl=c("nj9G"),ep=c("gw9s"),tp=c("h8op"),np=c("pZol"),ip=c("1CwK"),op=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},rp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ap=["colorBtn"];function cp(e,t){1&e&&(P.Vb(0,"div"),P.Qb(1,"app-icon",19),P.Vb(2,"span",20),P.Pc(3,"current"),P.Ub(),P.Ub())}function sp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",14),P.cc("click",(function(){P.Cc(n);var e=t.$implicit;return P.gc().setTextSize(e.size)})),P.Vb(1,"div",15),P.Vb(2,"div",16),P.Nc(3,cp,4,0,"div",17),P.hc(4,"async"),P.Ub(),P.Vb(5,"div",18),P.Vb(6,"span"),P.Pc(7),P.Ub(),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=t.$implicit,o=P.gc();P.Db(3),P.mc("ngIf",i.size===P.ic(4,2,o.textSize$)),P.Db(4),P.Rc("",i.label,"px")}}function lp(e,t){1&e&&(P.Vb(0,"div"),P.Qb(1,"app-icon",19),P.Vb(2,"span",20),P.Pc(3,"current"),P.Ub(),P.Ub())}function pp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",14),P.cc("click",(function(){P.Cc(n);var e=t.$implicit;return P.gc().setBrushSize(e.size)})),P.Vb(1,"div",15),P.Vb(2,"div",16),P.Nc(3,lp,4,0,"div",17),P.hc(4,"async"),P.Ub(),P.Vb(5,"div",18),P.Qb(6,"app-icon",21),P.Vb(7,"span"),P.Pc(8),P.Ub(),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=t.$implicit,o=P.gc();P.Db(3),P.mc("ngIf",i.size===P.ic(4,4,o.brushSize$)),P.Db(3),P.Kc("font-size",i.size,"px"),P.Db(2),P.Qc(i.label)}}function up(e,t){1&e&&(P.Vb(0,"div"),P.Qb(1,"app-icon",19),P.Vb(2,"span",20),P.Pc(3,"current"),P.Ub(),P.Ub())}function gp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",14),P.cc("click",(function(){P.Cc(n);var e=t.$implicit;return P.gc().setEraserSize(e.size)})),P.Vb(1,"div",15),P.Vb(2,"div",16),P.Nc(3,up,4,0,"div",17),P.hc(4,"async"),P.Ub(),P.Vb(5,"div",18),P.Qb(6,"app-icon",21),P.Vb(7,"span"),P.Pc(8),P.Ub(),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=t.$implicit,o=P.gc();P.Db(3),P.mc("ngIf",i.size===P.ic(4,4,o.eraserSize$)),P.Db(3),P.Kc("font-size",i.size,"px"),P.Db(2),P.Qc(i.label)}}function hp(e,t){1&e&&(P.Vb(0,"div"),P.Qb(1,"app-icon",19),P.Vb(2,"span",20),P.Pc(3,"current"),P.Ub(),P.Ub())}function dp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",14),P.cc("click",(function(){P.Cc(n);var e=t.$implicit;return P.gc().setBrushColor(e.color)})),P.Vb(1,"div",15),P.Vb(2,"div",16),P.Nc(3,hp,4,0,"div",17),P.hc(4,"async"),P.Ub(),P.Vb(5,"div",18),P.Qb(6,"span",22),P.Vb(7,"span"),P.Pc(8),P.Ub(),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=t.$implicit,o=P.gc();P.Db(3),P.mc("ngIf",i.color===P.ic(4,4,o.brushColor$)),P.Db(3),P.Kc("background-color",i.color),P.Db(2),P.Qc(i.label)}}var bp,fp=((bp=function(){function e(t){m(this,e),this.store=t,this.textSizes=np.j,this.brushSizes=np.g,this.brushColors=np.h,this.eraserSizes=np.i,this.modeEnum=Xl.a,this.downloadClick=new P.p,this.clearClick=new P.p,this.exitClick=new P.p,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;this.brushColor$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.colorBtn.nativeElement.style.setProperty("--pin-button-pin-color",t)})),this.hasPaint$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){t||e.store.selectSnapshot(I.a.getWhiteboardAnnotateMode)!==Xl.a.Erase||e.handleModeSelect(Xl.a.Paint)}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"setBrushSize",value:function(e){this.store.dispatch(new xe.a.SetWhiteboardBrushSize(e))}},{key:"setBrushColor",value:function(e){this.store.dispatch(new xe.a.SetWhiteboardBrushColor(e))}},{key:"setTextSize",value:function(e){this.store.dispatch(new xe.a.SetWhiteboardTextSize(e))}},{key:"handleModeSelect",value:function(e){this.store.dispatch(new xe.a.SetWhiteboardAnnotateMode(e))}},{key:"setEraserSize",value:function(e){this.store.dispatch(new xe.a.SetWhiteboardEraserSize(e))}},{key:"handleDownloadClick",value:function(){this.downloadClick.next()}},{key:"handleClearClick",value:function(){this.clearClick.next()}},{key:"handleExitClick",value:function(){this.exitClick.next()}}]),e}()).\u0275fac=function(e){return new(e||bp)(P.Pb(U.h))},bp.\u0275cmp=P.Jb({type:bp,selectors:[["app-view-whiteboard-tools"]],viewQuery:function(e,t){var n;1&e&&P.Jc(ap,!0,P.m),2&e&&P.xc(n=P.dc())&&(t.colorBtn=n.first)},outputs:{downloadClick:"downloadClick",clearClick:"clearClick",exitClick:"exitClick"},decls:39,vars:52,consts:[[1,"view-whiteboard-tools"],["eventCategory","View Whiteboard Tools","name","Whiteboard","padding","dense",3,"canExit","exit"],["app-pin-button","","buttonType","ghost","icon","text-size","aria-label","Text","matTooltip","Text",1,"mr-1",3,"matMenuTriggerFor","selected","click"],["app-pin-button","","buttonType","ghost","icon","paint-brush","aria-label","Brush","matTooltip","Brush",1,"mr-1",3,"matMenuTriggerFor","selected","click"],["app-pin-button","","buttonType","ghost","icon","eraser","aria-label","Eraser","matTooltip","Eraser",3,"matMenuTriggerFor","selected","disabled","click"],["app-pin-button","","buttonType","ghost","icon","tint","aria-label","Color","matTooltip","Color",3,"matMenuTriggerFor","selected"],["colorBtn","matMenuTrigger"],["app-pin-button","","buttonType","ghost","icon","download","aria-label","Download","matTooltip","Download",3,"click"],["app-pin-button","","buttonType","ghost","aria-label","Clear","matTooltip","Clear",3,"disabled","click"],["textSizeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["brushSizeMenu","matMenu"],["eraserSizeMenu","matMenu"],["brushColorMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","flex-row","items-center","justify-end"],[1,"view-whiteboard-tools__check"],[4,"ngIf"],[1,"view-whiteboard-tools__label"],["icon","check","aria-hidden","true",1,"mr-2"],[1,"visually-hidden"],["icon","circle","aria-hidden","true",1,"mr-2"],[1,"view-whiteboard-tools__swatch"]],template:function(e,t){if(1&e&&(P.Vb(0,"div",0),P.Vb(1,"app-pillbox",1),P.cc("exit",(function(){return t.handleExitClick()})),P.Vb(2,"button",2),P.cc("click",(function(){return t.handleModeSelect(t.modeEnum.Text)})),P.hc(3,"async"),P.hc(4,"async"),P.Ub(),P.Vb(5,"button",3),P.cc("click",(function(){return t.handleModeSelect(t.modeEnum.Paint)})),P.hc(6,"async"),P.hc(7,"async"),P.hc(8,"async"),P.Ub(),P.Vb(9,"button",4),P.cc("click",(function(){return t.handleModeSelect(t.modeEnum.Erase)})),P.hc(10,"async"),P.hc(11,"async"),P.hc(12,"async"),P.hc(13,"async"),P.hc(14,"async"),P.Ub(),P.Qb(15,"app-pillbox-divider"),P.Qb(16,"button",5,6),P.Qb(18,"app-pillbox-divider"),P.Vb(19,"button",7),P.cc("click",(function(){return t.handleDownloadClick()})),P.Ub(),P.Qb(20,"app-pillbox-divider"),P.Vb(21,"button",8),P.cc("click",(function(){return t.handleClearClick()})),P.hc(22,"async"),P.hc(23,"async"),P.hc(24,"async"),P.hc(25,"async"),P.Pc(26," Clear "),P.Ub(),P.Vb(27,"mat-menu",null,9),P.Nc(29,sp,8,4,"button",10),P.Ub(),P.Vb(30,"mat-menu",null,11),P.Nc(32,pp,9,6,"button",10),P.Ub(),P.Vb(33,"mat-menu",null,12),P.Nc(35,gp,9,6,"button",10),P.Ub(),P.Vb(36,"mat-menu",null,13),P.Nc(38,dp,9,6,"button",10),P.Ub(),P.Ub(),P.Ub()),2&e){var n=P.yc(17),i=P.yc(28),o=P.yc(31),r=P.yc(34),a=P.yc(37);P.Db(1),P.mc("canExit",!0),P.Db(1),P.mc("matMenuTriggerFor",i)("selected",P.ic(3,24,t.mode$)===t.modeEnum.Text),P.Eb("aria-pressed",P.ic(4,26,t.mode$)===t.modeEnum.Text),P.Db(3),P.mc("matMenuTriggerFor",o)("selected",P.ic(6,28,t.mode$)===t.modeEnum.Paint),P.Eb("aria-selected",P.ic(7,30,t.mode$)===t.modeEnum.Paint)("aria-pressed",P.ic(8,32,t.mode$)===t.modeEnum.Paint),P.Db(4),P.mc("matMenuTriggerFor",r)("selected",P.ic(10,34,t.mode$)===t.modeEnum.Erase)("disabled",!1===P.ic(13,40,t.hasPaint$)),P.Eb("aria-selected",P.ic(11,36,t.mode$)===t.modeEnum.Erase)("aria-pressed",P.ic(12,38,t.mode$)===t.modeEnum.Erase)("aria-disabled",!1===P.ic(14,42,t.hasPaint$)),P.Db(7),P.mc("matMenuTriggerFor",a)("selected",n.menuOpen),P.Eb("aria-selected",n.menuOpen)("aria-pressed",n.menuOpen),P.Db(5),P.mc("disabled",!1===P.ic(22,44,t.hasPaint$)&&!1===P.ic(23,46,t.hasText$)),P.Eb("aria-disabled",!1===P.ic(24,48,t.hasPaint$)&&!1===P.ic(25,50,t.hasText$)),P.Db(8),P.mc("ngForOf",t.textSizes),P.Db(3),P.mc("ngForOf",t.brushSizes),P.Db(3),P.mc("ngForOf",t.eraserSizes),P.Db(3),P.mc("ngForOf",t.brushColors)}},directives:[Ma.a,qe.a,Gt.c,Ke.d,ip.a,Ke.a,C.o,Ke.b,C.p,Fe.a],pipes:[C.b],styles:[".view-whiteboard-tools__check{flex:2 1 0;color:#2d72dc}.view-whiteboard-tools__label{display:flex;flex:6 1 0;align-items:center}.view-whiteboard-tools__swatch{display:inline-block;width:14px;height:14px;border-radius:50%;margin-right:8px;box-shadow:0 0 0 1px #96a8c0}"],encapsulation:2,changeDetection:0}),op([Object(U.e)(I.a.getWhiteboardAnnotateMode),rp("design:type",re.a)],bp.prototype,"mode$",void 0),op([Object(U.e)(I.a.getWhiteboardBrushSize),rp("design:type",re.a)],bp.prototype,"brushSize$",void 0),op([Object(U.e)(I.a.getWhiteboardTextSize),rp("design:type",re.a)],bp.prototype,"textSize$",void 0),op([Object(U.e)(I.a.getWhiteboardBrushColor),rp("design:type",re.a)],bp.prototype,"brushColor$",void 0),op([Object(U.e)(I.a.getWhiteboardEraserSize),rp("design:type",re.a)],bp.prototype,"eraserSize$",void 0),op([Object(U.e)(I.a.getWhiteboardHasPaint),rp("design:type",re.a)],bp.prototype,"hasPaint$",void 0),op([Object(U.e)(I.a.getWhiteboardHasText),rp("design:type",re.a)],bp.prototype,"hasText$",void 0),bp),xp=["textRef"];function mp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div"),P.Vb(1,"div",4),P.cc("cdkDragMoved",(function(e){return P.Cc(n),P.gc().dragMoved(e,"corner1")})),P.Ub(),P.Vb(2,"div",5),P.cc("cdkDragMoved",(function(e){return P.Cc(n),P.gc().dragMoved(e,"corner2")})),P.Ub(),P.Vb(3,"div",6),P.cc("cdkDragMoved",(function(e){return P.Cc(n),P.gc().dragMoved(e,"corner3")})),P.Ub(),P.Vb(4,"div",7),P.cc("cdkDragMoved",(function(e){return P.Cc(n),P.gc().dragMoved(e,"corner4")})),P.Ub(),P.Vb(5,"div",8),P.cc("cdkDragMoved",(function(e){return P.Cc(n),P.gc().translateHandleMoved(e)})),P.Ub(),P.Ub()}if(2&e){var i=P.gc();P.Db(1),P.mc("cdkDragFreeDragPosition",i.dragHandles.corner1),P.Db(1),P.mc("cdkDragFreeDragPosition",i.dragHandles.corner2),P.Db(1),P.mc("cdkDragFreeDragPosition",i.dragHandles.corner3),P.Db(1),P.mc("cdkDragFreeDragPosition",i.dragHandles.corner4),P.Db(1),P.mc("cdkDragFreeDragPosition",i.dragHandles.translate)}}var vp,wp=function(e){return{"whiteboard-label__label--active":e}},yp=((vp=function(){function t(e,n){var i=this;m(this,t),this.changeDetectorRef=e,this.renderer=n,this.active=!0,this.initialized=!1,this.labelActive=new P.p,this.labelEmpty=new P.p,this.dragHandles={translate:{x:0,y:0},corner1:{x:0,y:0},corner2:{x:0,y:0},corner3:{x:0,y:0},corner4:{x:0,y:0}},this.handleCoords={translate:{x:0,y:0},corner1:{x:0,y:0},corner2:{x:0,y:0},corner3:{x:0,y:0},corner4:{x:0,y:0}},this.textareaTransform={x:0,y:0,width:110,height:40},this.handleDocumentBackspace=function(e){var t=i.textRef.nativeElement.activeElement;"Backspace"===e.key&&i.active&&!t&&i.deleteLabel()},this.handleTextboxMouseDown=function(e){i.active=!0,i.labelActive.next(i.id),i.refreshHandles()},this.handleDocumentMouseDown=function(e){var t=e.target.className.includes("view-whiteboard__canvas"),n=e.target.className.includes("whiteboard-label__label"),o=e.target.dataset.id===i.id;i.isLabelEmpty()&&!o&&i.initialized?i.deleteLabel():(t||n&&!o)&&(i.active=!1,i.changeDetectorRef.markForCheck())},this.handleTextKeyDown=function(e){if(e.stopPropagation(),i.isLabelEmpty()&&"Backspace"===e.key)i.deleteLabel();else{var t=i.textRef.nativeElement.scrollHeight,n=i.handleCoords,o=n.corner1,r=n.corner3,a=n.corner4,c=o.y+t;i.handleCoords.corner3=Object.assign(Object.assign({},r),{y:c}),i.handleCoords.corner4=Object.assign(Object.assign({},a),{y:c}),i.dragHandles.corner3=Object.assign({},i.handleCoords.corner3),i.dragHandles.corner4=Object.assign({},i.handleCoords.corner4),i.updateTextarea(),i.changeDetectorRef.markForCheck()}}}return x(t,[{key:"id",get:function(){return this._id},set:function(e){this._id=e,this.initialized=!1}},{key:"color",set:function(e){this.renderer.setStyle(this.textRef.nativeElement,"color",e)}},{key:"exporting",set:function(e){e&&(this.active=!1,this.labelActive.next(void 0))}},{key:"size",set:function(e){this.renderer.setStyle(this.textRef.nativeElement,"font-size",e+"px")}},{key:"ngOnInit",value:function(){var e=this;this.initHandles(),this.initInteractionListeners(),setTimeout((function(){e.textRef.nativeElement.focus(),e.initialized=!0}))}},{key:"ngOnDestroy",value:function(){this.textRef.nativeElement.removeEventListener("keydown",this.handleTextKeyDown),this.textRef.nativeElement.removeEventListener("mousedown",this.handleTextboxMouseDown),this.mouseDownListener(),this.backspaceListener()}},{key:"initHandles",value:function(){this.textareaTransform.x=this.initialPos.x,this.textareaTransform.y=this.initialPos.y;var e=this.textareaTransform,t=e.x,n=e.y,i=e.width,o=e.height;this.dragHandles.corner1={x:t,y:n},this.dragHandles.corner2={x:t+i,y:n},this.dragHandles.corner3={x:t+i,y:n+o},this.dragHandles.corner4={x:t,y:n+o},this.dragHandles.translate={x:t+i/2,y:n+-10},this.handleCoords.corner1=Object.assign({},this.dragHandles.corner1),this.handleCoords.corner2=Object.assign({},this.dragHandles.corner2),this.handleCoords.corner3=Object.assign({},this.dragHandles.corner3),this.handleCoords.corner4=Object.assign({},this.dragHandles.corner4),this.handleCoords.translate=Object.assign({},this.dragHandles.translate),this.updateTextarea()}},{key:"initInteractionListeners",value:function(){this.mouseDownListener=this.renderer.listen("document","mousedown",this.handleDocumentMouseDown),this.backspaceListener=this.renderer.listen("document","keydown",this.handleDocumentBackspace),this.textRef.nativeElement.addEventListener("mousedown",this.handleTextboxMouseDown),this.textRef.nativeElement.addEventListener("keydown",this.handleTextKeyDown)}},{key:"refreshHandles",value:function(){this.dragHandles.corner1=Object.assign({},this.handleCoords.corner1),this.dragHandles.corner2=Object.assign({},this.handleCoords.corner2),this.dragHandles.corner3=Object.assign({},this.handleCoords.corner3),this.dragHandles.corner4=Object.assign({},this.handleCoords.corner4),this.dragHandles.translate=Object.assign({},this.handleCoords.translate),this.changeDetectorRef.markForCheck()}},{key:"isLabelEmpty",value:function(){return""===this.textRef.nativeElement.innerText||"\n"===this.textRef.nativeElement.innerText}},{key:"deleteLabel",value:function(){this.labelEmpty.next(this.id)}},{key:"updateTextarea",value:function(){var e=this.handleCoords,t=e.corner1,n=e.corner2,i=e.corner3;this.textareaTransform.x=t.x,this.textareaTransform.y=t.y,this.textareaTransform.width=n.x-t.x,this.textareaTransform.height=i.y-n.y,this.renderer.setStyle(this.textRef.nativeElement,"transform","translate(".concat(this.textareaTransform.x,"px, ").concat(this.textareaTransform.y,"px)")),this.renderer.setStyle(this.textRef.nativeElement,"width",this.textareaTransform.width+"px"),this.renderer.setStyle(this.textRef.nativeElement,"height",this.textareaTransform.height+"px")}},{key:"updateTranslateHandle",value:function(){var e=this.handleCoords,t=e.corner1,n=e.corner2;this.handleCoords.translate={x:(n.x-t.x)/2+t.x,y:t.y+-10},this.dragHandles.translate=Object.assign({},this.handleCoords.translate)}},{key:"setHandle",value:function(t,n,i){this.handleCoords[t]=Object.assign(Object.assign({},this.handleCoords[t]),e({},n,i[n])),this.dragHandles[t]=Object.assign({},this.handleCoords[t])}},{key:"addDiffToHandle",value:function(e,t){this.handleCoords[e]={x:this.handleCoords[e].x+t.x,y:this.handleCoords[e].y+t.y},this.dragHandles[e]=Object.assign({},this.handleCoords[e])}},{key:"translateHandleMoved",value:function(e){var t=e.source._dragRef.getFreeDragPosition(),n={x:t.x-this.handleCoords.translate.x,y:t.y-this.handleCoords.translate.y};this.handleCoords.translate=Object.assign({},t),this.addDiffToHandle("corner1",n),this.addDiffToHandle("corner2",n),this.addDiffToHandle("corner3",n),this.addDiffToHandle("corner4",n),this.updateTextarea()}},{key:"dragMoved",value:function(e,t){var n=e.source._dragRef.getFreeDragPosition();this.handleCoords[t]=Object.assign({},n),"corner1"===t&&(this.setHandle("corner2","y",n),this.setHandle("corner4","x",n)),"corner2"===t&&(this.setHandle("corner1","y",n),this.setHandle("corner3","x",n)),"corner3"===t&&(this.setHandle("corner2","x",n),this.setHandle("corner4","y",n)),"corner4"===t&&(this.setHandle("corner1","x",n),this.setHandle("corner3","y",n)),this.updateTranslateHandle(),this.updateTextarea()}}]),t}()).\u0275fac=function(e){return new(e||vp)(P.Pb(P.i),P.Pb(P.H))},vp.\u0275cmp=P.Jb({type:vp,selectors:[["app-view-whiteboard-label"]],viewQuery:function(e,t){var n;1&e&&P.Jc(xp,!0),2&e&&P.xc(n=P.dc())&&(t.textRef=n.first)},inputs:{id:"id",initialPos:"initialPos",color:"color",exporting:"exporting",size:"size"},outputs:{labelActive:"labelActive",labelEmpty:"labelEmpty"},decls:4,vars:5,consts:[[1,"whiteboard-label"],[4,"ngIf"],["contenteditable","true","data-placeholder","Type..",1,"whiteboard-label__label",3,"ngClass"],["textRef",""],["cdkDrag","",1,"whiteboard-label__handle","whiteboard-label__handle--top-left",3,"cdkDragFreeDragPosition","cdkDragMoved"],["cdkDrag","",1,"whiteboard-label__handle","whiteboard-label__handle--top-right",3,"cdkDragFreeDragPosition","cdkDragMoved"],["cdkDrag","",1,"whiteboard-label__handle","whiteboard-label__handle--bottom-right",3,"cdkDragFreeDragPosition","cdkDragMoved"],["cdkDrag","",1,"whiteboard-label__handle","whiteboard-label__handle--bottom-left",3,"cdkDragFreeDragPosition","cdkDragMoved"],["cdkDrag","",1,"whiteboard-label__handle","whiteboard-label__handle--move",3,"cdkDragFreeDragPosition","cdkDragMoved"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Nc(1,mp,6,5,"div",1),P.Qb(2,"div",2,3),P.Ub()),2&e&&(P.Db(1),P.mc("ngIf",!0===t.active),P.Db(1),P.mc("ngClass",P.pc(3,wp,!0===t.active)),P.Eb("data-id",t.id))},directives:[C.p,C.m,Fa.a],styles:['.whiteboard-label[_ngcontent-%COMP%]{position:relative;z-index:1000}.whiteboard-label__handle[_ngcontent-%COMP%]{position:fixed;z-index:10;width:32px;height:32px;left:-16px;top:-16px}.whiteboard-label__handle[_ngcontent-%COMP%]:after{content:"";position:absolute;width:12px;height:12px;left:10px;top:10px;border-radius:50%;background-color:#2d72dc}.whiteboard-label__handle[_ngcontent-%COMP%]:hover{cursor:pointer}.whiteboard-label__handle--top-left[_ngcontent-%COMP%]:hover{cursor:nw-resize}.whiteboard-label__handle--top-right[_ngcontent-%COMP%]:hover{cursor:ne-resize}.whiteboard-label__handle--bottom-right[_ngcontent-%COMP%]:hover{cursor:se-resize}.whiteboard-label__handle--bottom-left[_ngcontent-%COMP%]:hover{cursor:sw-resize}.whiteboard-label__handle--move[_ngcontent-%COMP%]:hover{cursor:move}.whiteboard-label__label[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;border:none;padding:5px;overflow-y:hidden}.whiteboard-label__label--active[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px #2d72dc}.whiteboard-label__label[_ngcontent-%COMP%]:focus{outline:none}.whiteboard-label__label[_ngcontent-%COMP%]:empty:before{content:attr(data-placeholder);color:rgba(55,74,104,.5)}'],changeDetection:0}),vp),_p=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Cp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Op=["drawCanvas"],kp=["annotateWrapper"];function Pp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"app-view-whiteboard-label",7),P.cc("labelActive",(function(e){return P.Cc(n),P.gc().handleLabelActive(e)}))("labelEmpty",(function(e){return P.Cc(n),P.gc().handleLabelEmpty(e)})),P.hc(1,"async"),P.Ub()}if(2&e){var i=t.$implicit,o=P.gc();P.Hb("view-whiteboard__label--clickthrough",P.ic(1,7,o.annotateMode$)!==o.whiteboardAnnotateMode.Text),P.mc("exporting",o.exporting)("id",i.id)("initialPos",i.pos)("color",i.color)("size",i.size)}}var Mp,zp,Sp=Yl.a.PNG,Dp=((Mp=function(){function e(t,n,i,o,r){m(this,e),this.store=t,this.actions=n,this.viewService=i,this.clipboardService=o,this.changeRef=r,this.whiteboardAnnotateMode=Xl.a,this.labels=[],this.exporting=!1,this.brushSize=0,this.eraserSize=0,this.lineWidth=0,this.ngUnsubscribe=new ne.a}return x(e,[{key:"initTextModeListener",value:function(){var e=this;this.inputManager=new Hammer.Manager(this.drawCanvas.nativeElement),this.inputManager.add(new Hammer.Tap({event:"tap"})),this.inputManager.on("tap",(function(t){if(e.activeLabelId)e.activeLabelId=void 0;else{var n=Object(Se.uniqueId)(),i=t.center.x,o=t.center.y;void 0!==t.pointers[0].x&&(i=t.pointers[0].x,o=t.pointers[0].y);var r=e.store.selectSnapshot(I.a.getWhiteboardBrushColor),a=e.store.selectSnapshot(I.a.getWhiteboardTextSize);e.labels.push({id:n,pos:{x:i,y:o},color:r,size:a}),e.activeLabelId=n,e.changeRef.markForCheck(),e.dispatchHasText()}}))}},{key:"handleLabelActive",value:function(e){this.activeLabelId=e;var t=this.labels.find((function(t){return t.id===e}));t&&this.store.dispatch([new xe.a.SetWhiteboardTextSize(t.size),new xe.a.SetWhiteboardBrushColor(t.color)])}},{key:"handleLabelEmpty",value:function(e){this.labels=this.labels.filter((function(t){return t.id!==e})),this.changeRef.markForCheck(),this.dispatchHasText()}},{key:"dispatchHasText",value:function(){this.store.dispatch(new xe.a.SetWhiteboardHasText(this.labels.length>0))}},{key:"ngOnInit",value:function(){var e=this;this.canvasElement=this.drawCanvas.nativeElement,this.canvasContext=this.canvasElement.getContext("2d"),this.siteHeader=this.store.selectSnapshot(Ve.a.getSiteHeader),this.store.dispatch(new Zl.a.SetHeader(Re.a.Hide)),this.brushColor$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.labels.find((function(t){return t.id===e.activeLabelId}));n&&(n.color=t,e.changeRef.markForCheck())})),this.textSize$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.labels.find((function(t){return t.id===e.activeLabelId}));n&&(n.size=t,e.changeRef.markForCheck())})),this.annotateMode$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.inputManager&&e.inputManager.destroy(),t===Xl.a.Paint?(e.canvasContext.globalCompositeOperation="source-over",e.setLineWidth(e.brushSize),e.initInputListeners()):t===Xl.a.Text?e.initTextModeListener():t===Xl.a.Erase&&(e.canvasContext.globalCompositeOperation="destination-out",e.setLineWidth(e.eraserSize),e.initInputListeners())})),this.background$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Eo.a.isLight(t)?np.a:np.b;e.store.dispatch(new xe.a.SetWhiteboardBrushColor(n.color))}))}},{key:"ngAfterViewInit",value:function(){this.initCanvasListeners()}},{key:"ngOnDestroy",value:function(){this.inputManager.destroy(),this.reset(),this.store.dispatch(new Zl.a.SetHeader(this.siteHeader)),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initCanvasListeners",value:function(){var e=this;this.brushSize$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.setBrushSize(t)})),this.brushColor$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.setBrushColor(t)})),this.eraserSize$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.setEraserSize(t)})),this.syncCanvas()}},{key:"initInputListeners",value:function(){var e=this;this.inputManager=new Hammer.Manager(this.drawCanvas.nativeElement),this.inputManager.add(new Hammer.Pan({event:"pan",pointers:0})),this.inputManager.add(new Hammer.Tap({event:"tap"}));var t=new Map;this.inputManager.on("tap",(function(t){t.pointers.forEach((function(n){if(void 0!==n.x){var i=n.x,o=n.y;e.drawPoint(i,o)}else{var r=t.center,a=r.x,c=r.y;e.drawPoint(a,c)}e.checkCanvasPaint()}))})),this.inputManager.on("panstart",(function(e){e.pointers.forEach((function(n){if(void 0===n.x)t.set(1,e.center);else{var i=n.x,o=n.y;t.set(n.pointerId,{x:i,y:o})}}))})),this.inputManager.on("pan",(function(n){n.pointers.forEach((function(i){var o=n.center.x,r=n.center.y,a=1;void 0!==i.pointerId&&(o=i.x,r=i.y,a=i.pointerId);var c=t.get(a),s=c.x,l=c.y;e.drawLine(s,l,o,r),e.drawPoint(o,r),t.set(a,{x:o,y:r})}))})),this.inputManager.on("panend",(function(){t.clear(),e.checkCanvasPaint()}))}},{key:"handleResetClick",value:function(){this.reset()}},{key:"handleDownloadClick",value:function(){var e=this;this.exporting=!0,this.changeRef.detectChanges();var t=this.canvasElement,n=t.width,i=t.height,o=this.store.selectSnapshot(we.a.getSelectedChapterId),r=this.store.selectSnapshot(we.a.getSelectedChapterBackground),a=this.store.selectSnapshot(gn.a.getWatermarkEnabled),c=document.querySelector(".engine__watermark"),s=[this.annotateElement.nativeElement];a&&!Object(Se.isNil)(c)&&s.push(c),this.store.dispatch(new tp.b(o,r,Sp,100,{width:n,height:i},"original",!0,!0,s)).pipe(Object(Ks.a)((function(){return e.actions.pipe(Object(U.l)(tp.c),Object(ue.a)(1))})),Object(ge.a)(this.ngUnsubscribe),Object(Kl.a)((function(){e.exporting=!1,e.changeRef.markForCheck()}))).subscribe((function(t){e.downloadSnapshot(t.blob)}))}},{key:"handleExitClick",value:function(){this.resetCanvas(),this.viewService.toggleWhiteboard(!1)}},{key:"checkCanvasPaint",value:function(){var e=this.canvasContext.getImageData(0,0,this.canvasElement.width,this.canvasElement.height),t=new Uint32Array(e.data.buffer).some((function(e){return 0!==e}));this.store.dispatch(new xe.a.SetWhiteboardHasPaint(t))}},{key:"drawPoint",value:function(e,t){var n=this.lineWidth/2,i=2*Math.PI;this.canvasContext.beginPath(),this.canvasContext.arc(e,t,n,0,i),this.canvasContext.fill()}},{key:"drawLine",value:function(e,t,n,i){this.canvasContext.beginPath(),this.canvasContext.moveTo(e,t),this.canvasContext.lineTo(n,i),this.canvasContext.stroke(),this.canvasContext.closePath()}},{key:"reset",value:function(){this.resetCanvas(),this.labels=[],this.changeRef.markForCheck(),this.dispatchHasText()}},{key:"setBrushSize",value:function(e){this.brushSize=e,this.setLineWidth(e)}},{key:"setBrushColor",value:function(e){this.canvasContext.fillStyle=e,this.canvasContext.strokeStyle=e}},{key:"setEraserSize",value:function(e){this.eraserSize=e,this.setLineWidth(e)}},{key:"setLineWidth",value:function(e){this.canvasContext.lineWidth=e,this.lineWidth=e}},{key:"syncCanvas",value:function(){var e=this.store.selectSnapshot(I.a.getWhiteboardBrushSize),t=this.store.selectSnapshot(I.a.getWhiteboardBrushColor),n=this.store.selectSnapshot(I.a.getWhiteboardEraserSize),i=this.getScreenDimensions(),o=i.width,r=i.height;this.canvasElement.width=o,this.canvasElement.height=r,this.setBrushSize(e),this.setBrushColor(t),this.setEraserSize(n),this.canvasContext.lineJoin="round"}},{key:"resetCanvas",value:function(){var e=this.canvasElement,t=e.width,n=e.height;this.canvasContext.clearRect(0,0,t,n),this.store.dispatch(new xe.a.SetWhiteboardHasPaint(!1))}},{key:"downloadSnapshot",value:function(e){var t=this,n=this.store.selectSnapshot(pt.a.getStory).displayName,i="".concat((n||"").replace(/ /g,"_").replace(/\W/g,"").toLowerCase(),"_drawing.").concat(Sp===Yl.a.PNG?"png":"jpg");!0===Te.a.native||Te.a.platform===Ci.a.SDK?ep.a.blobToBase64(e).pipe(Object(Ks.a)((function(e){return t.clipboardService.copyToClipboard(e,"image")})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(e){})):ep.a.exportImage(e,Sp,i)}},{key:"getScreenDimensions",value:function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}}]),e}()).\u0275fac=function(e){return new(e||Mp)(P.Pb(U.h),P.Pb(U.b),P.Pb(Ne.a),P.Pb(Oi.a),P.Pb(P.i))},Mp.\u0275cmp=P.Jb({type:Mp,selectors:[["app-view-whiteboard"]],viewQuery:function(e,t){var n;1&e&&(P.Jc(Op,!0),P.Jc(kp,!0)),2&e&&(P.xc(n=P.dc())&&(t.drawCanvas=n.first),P.xc(n=P.dc())&&(t.annotateElement=n.first))},decls:10,vars:15,consts:[[1,"view-whiteboard"],["annotateWrapper",""],["class","view-whiteboard__label",3,"view-whiteboard__label--clickthrough","exporting","id","initialPos","color","size","labelActive","labelEmpty",4,"ngFor","ngForOf"],["data-test","drawCanvas",1,"view-whiteboard__canvas"],["drawCanvas",""],[1,"view-whiteboard__tools"],[3,"clearClick","downloadClick","exitClick"],[1,"view-whiteboard__label",3,"exporting","id","initialPos","color","size","labelActive","labelEmpty"]],template:function(e,t){1&e&&(P.Vb(0,"div",0,1),P.hc(2,"async"),P.hc(3,"async"),P.hc(4,"async"),P.Nc(5,Pp,2,9,"app-view-whiteboard-label",2),P.Qb(6,"canvas",3,4),P.Vb(8,"div",5),P.Vb(9,"app-view-whiteboard-tools",6),P.cc("clearClick",(function(){return t.handleResetClick()}))("downloadClick",(function(){return t.handleDownloadClick()}))("exitClick",(function(){return t.handleExitClick()})),P.Ub(),P.Ub(),P.Ub()),2&e&&(P.Hb("view-whiteboard--exporting",t.exporting)("view-whiteboard--cursor-paint",P.ic(2,9,t.annotateMode$)===t.whiteboardAnnotateMode.Paint)("view-whiteboard--cursor-erase",P.ic(3,11,t.annotateMode$)===t.whiteboardAnnotateMode.Erase)("view-whiteboard--cursor-text",P.ic(4,13,t.annotateMode$)===t.whiteboardAnnotateMode.Text),P.Db(5),P.mc("ngForOf",t.labels))},directives:[C.o,fp,yp],pipes:[C.b],styles:[".view-whiteboard{position:fixed;top:0;left:0;right:0;bottom:0;z-index:20;display:flex;flex-direction:column;align-items:center;justify-content:space-between;box-shadow:inset 0 0 0 4px #38de38;padding:8px;transition:border .3s linear}.view-whiteboard--exporting{box-shadow:none}.view-whiteboard--exporting .view-whiteboard__tools{display:none}.view-whiteboard--cursor-paint:hover{cursor:url(/assets/images/cursor-whiteboard-paint.svg) 7 20,pointer}.view-whiteboard--cursor-erase:hover{cursor:url(/assets/images/cursor-whiteboard-erase.svg) 7 20,pointer}.view-whiteboard--cursor-text:hover{cursor:url(/assets/images/cursor-whiteboard-text.svg) 7 20,pointer}.view-whiteboard__label{position:absolute;top:0;left:0;z-index:10}.view-whiteboard__label--clickthrough{pointer-events:none}.view-whiteboard__canvas{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1}.view-whiteboard__tools{z-index:1;right:8px;bottom:8px;position:absolute}"],encapsulation:2,changeDetection:0}),_p([Object(U.e)(I.a.getWhiteboardAnnotateMode),Cp("design:type",re.a)],Mp.prototype,"annotateMode$",void 0),_p([Object(U.e)(I.a.getWhiteboardBrushSize),Cp("design:type",re.a)],Mp.prototype,"brushSize$",void 0),_p([Object(U.e)(I.a.getWhiteboardBrushColor),Cp("design:type",re.a)],Mp.prototype,"brushColor$",void 0),_p([Object(U.e)(I.a.getWhiteboardTextSize),Cp("design:type",re.a)],Mp.prototype,"textSize$",void 0),_p([Object(U.e)(I.a.getWhiteboardEraserSize),Cp("design:type",re.a)],Mp.prototype,"eraserSize$",void 0),_p([Object(U.e)(we.a.getSelectedChapterBackground),Cp("design:type",re.a)],Mp.prototype,"background$",void 0),Mp),jp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Up=((zp=function(){function e(t,n){m(this,e),this.store=t,this.changeDetectorRef=n,this.ngUnsubscribe=new ne.a,this.visible=!1}return x(e,[{key:"beforePrint",value:function(e){this.visible=!0,this.changeDetectorRef.markForCheck()}},{key:"afterPrint",value:function(e){this.visible=!1,this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){this.initImageUrlListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initImageUrlListener",value:function(){var e=this;Object(oe.b)(this.storyChapters$,this.store.select(Ge.a.getRegisteredThumbnails)).pipe(Object(pe.a)((function(e){var t=u(e,2),n=t[0],i=t[1];return n.length>0&&i.size>0})),Object(be.a)((function(e){var t=u(e,2),n=t[0];return t[1].get(n[0].id).urls.large})),Object(fe.a)(),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.imageUrl=t,e.changeDetectorRef.markForCheck()}))}}]),e}()).\u0275fac=function(e){return new(e||zp)(P.Pb(U.h),P.Pb(P.i))},zp.\u0275cmp=P.Jb({type:zp,selectors:[["app-view-print"]],hostBindings:function(e,t){1&e&&P.cc("beforeprint",(function(){return t.beforePrint()}),!1,P.Bc)("afterprint",(function(){return t.afterPrint()}),!1,P.Bc)},decls:3,vars:1,consts:[[1,"view-print"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",1,"view-print__scrim"],[1,"view-print__image",3,"src"]],template:function(e,t){1&e&&(P.Vb(0,"div",0),P.Qb(1,"img",1),P.Qb(2,"img",2),P.Ub()),2&e&&(P.Db(2),P.mc("src",t.imageUrl,P.Fc))},styles:[".view-print[_ngcontent-%COMP%]{background-color:#fff;display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10000;justify-content:space-around;margin:auto;margin-top:0!important}@media print{.view-print[_ngcontent-%COMP%]{display:flex}}.view-print__scrim[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.view-print__image[_ngcontent-%COMP%]{display:block;flex:1 1 auto;-o-object-fit:contain;object-fit:contain;margin:0 auto;z-index:1}"],changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(we.a.getStoryChapters),jp("design:type",re.a)],zp.prototype,"storyChapters$",void 0),zp),Ip=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Tp(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",1),P.Vb(1,"app-message-toggle",2),P.cc("handleDismiss",(function(){return P.Cc(n),P.gc().handleDismiss()})),P.Vb(2,"div"),P.Pc(3," This model is not optimized for use on mobile devices. For an optimal experience, please switch to a desktop device or try our Anatomy by Regions. "),P.Ub(),P.Ub(),P.Ub()}2&e&&(P.Db(1),P.mc("dismiss",!0))}var Vp,Rp=((Vp=function(){function e(t){m(this,e),this.changeRef=t,this.shown=!1,this.ngUnsubscribe=new ne.a}return x(e,[{key:"ngOnInit",value:function(){var e=this;this.bookmark$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Object(Se.get)(t,"tags",[]);e.shown=n.includes("complete anatomy"),e.changeRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleDismiss",value:function(){this.shown=!1,this.changeRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||Vp)(P.Pb(P.i))},Vp.\u0275cmp=P.Jb({type:Vp,selectors:[["app-view-content-warning"]],decls:2,vars:3,consts:[["class","warning",4,"ngIf"],[1,"warning"],["type","warning","toggleStyle","flat","icon","info-circle",3,"dismiss","handleDismiss"]],template:function(e,t){1&e&&(P.Nc(0,Tp,4,1,"div",0),P.hc(1,"async")),2&e&&P.mc("ngIf",P.ic(1,1,t.bookmark$)&&t.shown)},directives:[C.p,Mr.a],pipes:[C.b],styles:[".warning{position:fixed;top:0;left:0;right:0;z-index:1001}"],encapsulation:2,changeDetection:0}),function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);r>3&&a&&Object.defineProperty(t,n,a)}([Object(U.e)(Wc.a.getSelectedBookmark),Ip("design:type",re.a)],Vp.prototype,"bookmark$",void 0),Vp),Ep=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Lp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Np=["engineContainer"],$p=["viewContainer"],Ap=["view"],Qp=["viewCameraBar"],qp=["viewLogo"],Fp=["viewSceneBase"],Hp=["viewToolbar"],Bp=["drawer"];function Wp(e,t){1&e&&P.Qb(0,"app-view-column-container")}function Jp(e,t){1&e&&(P.Vb(0,"div",25),P.Qb(1,"app-view-title",26),P.Ub())}function Gp(e,t){1&e&&(P.Vb(0,"div",27),P.Qb(1,"app-engine-audio"),P.Ub())}function Kp(e,t){1&e&&(P.Vb(0,"div",28),P.Qb(1,"app-view-undo"),P.Ub())}function Yp(e,t){1&e&&P.Qb(0,"app-view-toolbar",29)}function Zp(e,t){1&e&&(P.Vb(0,"div",30),P.Qb(1,"app-view-menu",31),P.Ub())}function Xp(e,t){if(1&e&&P.Qb(0,"app-engine-camera-bar",32),2&e){var n=P.gc();P.mc("showNav",n.cameraVisible)}}function eu(e,t){if(1&e&&(P.Vb(0,"div",33),P.Qb(1,"app-view-logo",34),P.hc(2,"async"),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("logoColor",n.isBackgroundLight?"color":"white")("logoSize",P.ic(2,3,n.breakpoint$)>n.breakpoint.Small?"full":"small")("contentId",n.contentId)}}function tu(e,t){if(1&e){var n=P.Wb();P.Tb(0),P.Vb(1,"app-view-drawer",35,36),P.cc("offsetYChange",(function(e){return P.Cc(n),P.gc().handleDrawerOffsetChange(e)})),P.Ub(),P.Sb()}}function nu(e,t){1&e&&P.Qb(0,"div",37)}function iu(e,t){if(1&e&&P.Qb(0,"app-view-ondemand",38),2&e){var n=P.gc();P.mc("contentId",n.contentId)("contentType",n.contentType)}}function ou(e,t){if(1&e&&(P.Qb(0,"app-view-progress",39),P.hc(1,"async")),2&e){var n=P.gc();P.mc("show",P.ic(1,2,n.viewWindow$)===n.viewWindow.Loader)("percent",n.chunkLoadProgress)}}function ru(e,t){if(1&e&&P.Qb(0,"app-play-loader",41),2&e){var n=P.gc(2);P.mc("percent",n.chunkLoadProgress)}}function au(e,t){1&e&&P.Qb(0,"app-button-loader")}function cu(e,t){1&e&&P.Qb(0,"app-hand-loader")}function su(e,t){if(1&e&&(P.Vb(0,"app-view-loader"),P.Nc(1,ru,1,1,"app-play-loader",40),P.hc(2,"async"),P.Nc(3,au,1,0,"app-button-loader",4),P.hc(4,"async"),P.Nc(5,cu,1,0,"app-hand-loader",4),P.hc(6,"async"),P.Ub()),2&e){var n=P.gc();P.Db(1),P.mc("ngIf","play"===P.ic(2,3,n.interactType$)),P.Db(2),P.mc("ngIf","button"===P.ic(4,5,n.interactType$)),P.Db(2),P.mc("ngIf","hand"===P.ic(6,7,n.interactType$))}}function lu(e,t){1&e&&P.Qb(0,"app-view-tour")}function pu(e,t){1&e&&P.Qb(0,"app-view-whiteboard")}function uu(e,t){1&e&&P.Qb(0,"app-view-print")}function gu(e,t){1&e&&P.Qb(0,"app-view-content-warning")}var hu,du,bu=function(e,t,n){return{"view-page--column-in":e,"view-page--column-out":t,"view-page--drawer-push":n}},fu=((hu=function(){function e(t,n,i,o,r,a,c,s,l,p,u,g){m(this,e),this.activatedRoute=t,this.renderer=n,this.changeDetectorRef=i,this.store=o,this.actions=r,this.liveAnnouncer=a,this.viewService=c,this.quizService=s,this.layoutService=l,this.engineService=p,this.pendoService=u,this.title=g,this.application=Ie.a,this.nativePlatform=$o.a,this.breakpoint=To.a,this.viewLayoutStatus=me.a,this.viewMode=ye.a,this.viewUI=De.a,this.viewWindow=Vo.a,this.columnLayoutStatus=me.a.Hide,this.drawerExpandable=!0,this.drawerOpen=!1,this.drawerY=0,this.loadLabel="",this.chunkLoadProgress=0,this.chaptersLoaded=0,this.isBackgroundLight=!0,this.selectedChapterLoading=!1,this.viewToolsMode=ze,this.audioVisible=!1,this.cameraVisible=!1,this.columnVisible=!1,this.drawerVisible=!1,this.logoVisible=!1,this.menuVisible=!1,this.nodeInfoVisible=!1,this.searchVisible=!1,this.titleOnlyVisible=!1,this.toolbarVisible=!1,this.undoVisible=!1,this.ngUnsubscribe=new ne.a,this.audioListening=new ne.a}return x(e,[{key:"onClick",value:function(e){this.handleFirstClickTracking(e)}},{key:"ngOnInit",value:function(){this.resetScene();var e=this.viewService.normalizeQueryParams(this.activatedRoute.snapshot.queryParams);this.contentId=e.id,this.contentType=e.type,this.contentLang=e.lang}},{key:"ngAfterViewInit",value:function(){var e=this;this.viewService.setViewLanguage(this.contentLang),this.loadStory(),this.store.dispatch(new Pe.s({tag:!0,pin:!1})),this.store.dispatch(new le.y(!0));var t=this.store.selectSnapshot(I.a.getUI).loader.template;this.store.dispatch(new le.Z(t===Ro.a.Bar)),t!==Ro.a.None&&this.store.dispatch(new xe.a.ToggleWindow(Vo.a.Loader,!0)),this.checkCapabilities(),this.initSizeObservers(),this.initHeaderObserver(),this.initLayoutObserver(),this.initBreakpointObservers(),this.initKeyboardObserver(),this.initLoadProgressObserver(),this.initWindowObserver(),this.initBackgroundColorObserver(),this.initResponsiveLabels(),this.initNodeObserver(),this.initChapterObserver(),this.initAudioObserver(),this.initAccessibility(),this.positionRelativeElements(this.drawerY),this.storyId$.pipe(Object(pe.a)((function(e){return!Object(Se.isNil)(e)&&"preview"!==e})),Object(ue.a)(1),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){return e.initPendoEvents()}))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new le.A(!1)),this.store.dispatch(new Uo.a),this.store.dispatch(new Pe.h),Oe.a.isFullscreen()&&Oe.a.exitFullscreen(),this.quizService.exitQuiz(),this.unbindKeyboard(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"loadStory",value:function(){var e=this;this.onDemand$.pipe(Object(pe.a)((function(e){return!e})),Object(ue.a)(1),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.viewService.initStory(e.contentId,e.contentType,e.contentLang)}))}},{key:"checkCapabilities",value:function(){var e=this,t=this.renderer.listen("window","mouseover",(function(){t(),e.store.dispatch(new xe.a.SetCanHover(!0))})),n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.store.dispatch(new xe.a.SetCanTouch(n)),this.store.dispatch(new xe.a.SetCanFullscreen(Oe.a.canFullscreen())),this.store.dispatch(new xe.a.SetInputMode(n?Lo.a.Touch:Lo.a.Mouse))}},{key:"initBreakpointObservers",value:function(){var e=this;this.breakpoint$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.handleResize()}))}},{key:"initResponsiveLabels",value:function(){var e=this,t=Object(ie.a)(window,"resize").pipe(Object(he.a)(100)),n=this.store.select(I.a.getLabelsBreakpoint),i=this.store.select(Me.a.getSelectedLabel),o=this.store.select(Me.a.getLabelsCollapsed);i.pipe(Object(pe.a)((function(){return e.store.selectSnapshot(Me.a.getLabelsCollapsed)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.toggleLabelInfo(!!t)})),o.pipe(Object(pe.a)((function(){return!!e.store.selectSnapshot(Me.a.getSelectedLabel)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.toggleLabelInfo(t)})),Object(oe.b)(t,n).pipe(Object(pe.a)((function(e){var t=u(e,2)[1];return!Object(Se.isNil)(t)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.checkLabelsCollapsed()})),this.checkLabelsCollapsed()}},{key:"initSizeObservers",value:function(){var e=this,t=Ce({strategy:"scroll"});Object(ie.a)(window,"resize").pipe(Object(he.a)(10),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.updateViewHeight(),e.refreshLayout()})),new re.a((function(n){t.listenTo(e.engineContainer.nativeElement,(function(){n.next()}))})).pipe(Object(he.a)(10)).subscribe((function(){e.resizeEngineContainer()}))}},{key:"initHeaderObserver",value:function(){var e=this;this.store.select(Ve.a.getSiteHeader).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateViewHeight()}))}},{key:"initLayoutObserver",value:function(){var e=this;this.layout$.pipe(Object(pe.a)((function(e){return null!=e})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.refreshLayout()}))}},{key:"initKeyboardObserver",value:function(){var e=this;this.inputEnabled$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){t?e.bindKeyboard():e.unbindKeyboard()}))}},{key:"initNodeObserver",value:function(){var e=this;this.actions.pipe(Object(U.l)(le.d),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.delegateNodeClick(t.node,t.event)})),this.store.select(hn.a.getSelectedNode).pipe(Object(de.a)(),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=n[0],o=n[1],r=Object(Se.get)(i,"objectId",void 0),a=Object(Se.get)(o,"objectId",void 0);void 0!==o&&r===a||e.viewService.toggleNodeInfo(!1)}))}},{key:"initChapterObserver",value:function(){var e=this;this.store.select(we.a.getSelectedChapterId).pipe(Object(pe.a)((function(e){return null!=e})),Object(be.a)((function(){return e.store.selectSnapshot(we.a.getSelectedChapter)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.initChapter(t),e.store.dispatch(new Pe.h),e.setPageTitle(t),e.refreshLayout()}))}},{key:"initLoadProgressObserver",value:function(){var e=this;this.storyLoadProgress$.pipe(Object(ge.a)(this.ngUnsubscribe),Object(pe.a)((function(e){return 1===e}))).subscribe((function(){e.viewService.resetLayout()})),this.store.select(ke.a.getChunkLoadProgress).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.chunkLoadProgress=100*t,e.engineService.fireEvent(cn.a.HumanProgress,{progress:e.chunkLoadProgress}),e.changeDetectorRef.markForCheck(),e.checkShowLoader()})),this.store.select(pt.a.getLoadingChunk).pipe(Object(pe.a)((function(){return null!=e.store.selectSnapshot(we.a.getSelectedChapterId)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){null!==t&&t.chapterId===e.store.selectSnapshot(we.a.getSelectedChapterId)||Te.a.offline?e.store.dispatch(new xe.a.ToggleWindow(Vo.a.Loader,!0)):(e.engineService.enableRender(),e.store.dispatch(new xe.a.ToggleWindow(Vo.a.Loader,!1)),e.refreshLayout(),setTimeout((function(){e.engineService.enableAnimation()}),500))})),this.actions.pipe(Object(U.k)(No.g),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){0===e.store.selectSnapshot(pt.a.getLoadChunksRemaining).length&&(e.engineService.fireEvent(cn.a.SceneLoaded,null),e.store.dispatch(new xe.a.ToggleWindow(Vo.a.Loader,!1)),Te.a.offline)&&setTimeout((function(){e.engineService.enableAnimation()}),1750)}))}},{key:"checkShowLoader",value:function(){if(this.store.selectSnapshot(we.a.getSelectedChapterIndex)>0){var e=this.store.selectSnapshot(we.a.getSelectedChapterId),t=this.store.selectSnapshot(pt.a.getLoadingChunk);null!==t&&e===t.chapterId&&this.store.dispatch(new xe.a.ToggleWindow(Vo.a.Loader,!0))}}},{key:"initWindowObserver",value:function(){var e=this;this.viewWindow$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.resetLayout(),t===Vo.a.Tutorial?(e.viewService.resetChapter(),e.viewService.toggleLabels(!1)):e.viewService.toggleLabels(!0)}))}},{key:"initBackgroundColorObserver",value:function(){var e=this;this.background$.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.isBackgroundLight=Eo.a.isLight(t),e.changeDetectorRef.markForCheck()}))}},{key:"initAudioObserver",value:function(){var e=this,t=Object(ae.a)(this.ngUnsubscribe,this.audioListening),n=this.viewWindow$.pipe(Object(be.a)((function(e){return e===Vo.a.Tutorial||e===Vo.a.Interact})),Object(pe.a)((function(e){return e})),Object(ue.a)(1));Object(oe.b)(this.viewWindow$,n,this.audio$).pipe(Object(pe.a)((function(e){var t=u(e,1)[0];return Object(Se.isNil)(t)})),Object(ge.a)(t)).subscribe((function(t){var n=u(t,3),i=n[1],o=n[2];i?Object(Se.isNil)(o)||e.playAudio():e.stopAudioListening()}))}},{key:"initPendoEvents",value:function(){var e=this,t={totalQuestions:0};this.store.select(Ee.b.getQuestionTotal).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(e){t.totalQuestions=e})),this.store.select(Ee.b.getQuizModeActive).pipe(Object(pe.a)((function(){return e.store.selectSnapshot(Ee.b.getQuestionTotal)>0})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(n){n&&e.pendoService.track("Quiz - Entered",t)})),this.actions.pipe(Object(U.l)(ln.a.SubmitQuestionAnswer),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){var n=e.store.selectSnapshot(Ee.b.getActiveQuestionIndex),i=e.store.selectSnapshot(Ee.b.getQuestionsRemaining);0===n&&e.pendoService.track("Quiz - First Question Answered",t),0===i&&e.pendoService.track("Quiz - Completed",t)})),this.store.select(we.a.getSelectedChapterModelReady).pipe(Object(pe.a)((function(e){return e})),Object(ue.a)(1),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){var t=e.store.selectSnapshot(pt.a.getStoryId),n=e.store.selectSnapshot(pt.a.getStory);e.pendoService.trackOncePerPage("View - Loaded",{id:t,chapters:n.chapters.length,tour:n.tags.includes("tour"),animated:n.tags.includes("animated"),quiz:e.store.selectSnapshot(Ee.b.hasQuiz),edit:!1})}))}},{key:"initAccessibility",value:function(){var e=this;this.chapter$.pipe(Object(pe.a)((function(e){return null!==e})),Object(fe.a)((function(e,t){return e.id===t.id})),Object(be.a)((function(e){return Object(Se.get)(e,"info.displayName","")}))).subscribe((function(t){e.liveAnnouncer.announce("Opened chapter "+t)}))}},{key:"handleFirstClickTracking",value:function(e){e.composedPath().some((function(e){return"APP-SITE-HEADER"===e.nodeName}))||1===this.store.selectSnapshot(ke.a.getStoryLoadProgress)&&this.pendoService.trackOncePerPage("First Click")}},{key:"stopAudioListening",value:function(){this.audioListening.next(),this.audioListening.complete()}},{key:"playAudio",value:function(){this.store.dispatch(new le.n(!0)),this.stopAudioListening()}},{key:"handleColumnToggle",value:function(){this.viewService.toggleColumn(),this.changeDetectorRef.markForCheck()}},{key:"handleDrawerOffsetChange",value:function(e){this.drawerY=e,this.drawerOpen=-64!==e,this.positionRelativeElements(this.drawerY)}},{key:"checkLabelsCollapsed",value:function(){var e=this.store.selectSnapshot(Io.a.getBreakpoint),t=this.store.selectSnapshot(I.a.getLabelsBreakpoint),n=this.isLabelBreaking(t);this.store.dispatch(new Pe.r(n,e>=To.a.Large?jo.a.Toggle:jo.a.None))}},{key:"isLabelBreaking",value:function(e){return window.innerWidth<e}},{key:"bindKeyboard",value:function(){var e=this;_e.bind("1",(function(){return e.viewService.selectTool(ve.a.Select)})),_e.bind("2",(function(){return e.viewService.selectTool(ve.a.Hide)})),_e.bind("3",(function(){return e.viewService.selectTool(ve.a.Fade)})),_e.bind(["command+,","ctrl+,"],(function(t){t.preventDefault(),e.store.selectSnapshot(Io.a.getBreakpoint)>To.a.Medium?e.viewService.toggleColumn():e.drawer.toggleDrawer(),e.changeDetectorRef.markForCheck()})),_e.bind(["command+enter","ctrl+enter","command+p"],(function(e){e.preventDefault(),Oe.a.toggleFullscreen()})),_e.bind("meta+z",(function(t){t.preventDefault(),e.viewService.undo()})),_e.bind(["meta+y","meta+shift+z"],(function(t){t.preventDefault(),e.viewService.redo()})),_e.bind([".","pagedown"],(function(){return e.viewService.nextChapter("Keyboard")})),_e.bind([",","pageup"],(function(){return e.viewService.previousChapter("Keyboard")})),_e.bind(["del","backspace"],(function(t){t.preventDefault(),e.viewService.hideSelectedStructures()})),_e.bind("R",(function(t){t.preventDefault(),e.viewService.resetChapter()})),_e.bind("/",(function(){return e.viewService.toggleSearch()})),_e.bind("?",(function(){return e.viewService.toggleHelp()})),_e.bind("space",(function(t){t.preventDefault(),e.viewService.toggleAnimation()}))}},{key:"unbindKeyboard",value:function(){_e.reset()}},{key:"resizeEngineContainer",value:function(){var e=this.engineContainer.nativeElement.getBoundingClientRect(),t=e.top,n=e.left,i=e.width,o=e.height,r=new ce.a(n,t,i,o,se.a.Shown);this.store.dispatch(new le.D(r))}},{key:"updateViewHeight",value:function(){var e=Te.a.application!==Ie.a.Viewer,t=this.store.selectSnapshot(Ve.a.getSiteHeader),n=Object(Le.a)(t,e);this.view.nativeElement.style.setProperty("--vh",n+"px")}},{key:"handleResize",value:function(){this.viewService.resetLayout()}},{key:"resetScene",value:function(){var e=this;this.store.dispatch(new le.A(!0)),this.store.dispatch(new le.P(!1)),this.store.dispatch(new le.w(ve.a.Select)),this.store.dispatch(new Uo.a),this.store.dispatch(new sn.c(!1)),this.engineService.getEvent(cn.a.AssetsLoadProgress).pipe(Object(ue.a)(1),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new le.P(!0))}))}},{key:"refreshLayout",value:function(){var e=this,t=this.store.selectSnapshot(I.a.getUI);this.columnLayoutStatus=t.column.status,this.audioVisible=this.layoutService.isVisible(De.a.Audio),this.cameraVisible=this.layoutService.isVisible(De.a.Camera),this.columnVisible=this.layoutService.isVisible(De.a.Column),this.drawerVisible=this.layoutService.isVisible(De.a.Drawer),this.logoVisible=this.layoutService.isVisible(De.a.Logo),this.menuVisible=this.layoutService.isVisible(De.a.Menu),this.nodeInfoVisible=this.layoutService.isVisible(De.a.NodeInfo),this.searchVisible=this.layoutService.isVisible(De.a.Search),this.titleOnlyVisible=this.layoutService.isVisible(De.a.TitleOnly),this.toolbarVisible=this.layoutService.isVisible(De.a.Toolbar),this.undoVisible=this.layoutService.isVisible(De.a.Undo),this.updateViewHeight(),this.resizeEngineContainer(),this.store.dispatch(new Pe.e(!1!==t.anatomyLabels.enable,!1!==t.nodeInfo.enable,!0)),this.store.dispatch(new le.Y(!1!==t.labels.enable&&!1!==t.labels.shown)),setTimeout((function(){e.drawer?e.positionRelativeElements(e.drawerY):e.positionRelativeElements(),e.changeDetectorRef.markForCheck()}))}},{key:"positionRelativeElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.store.selectSnapshot(Io.a.getBreakpoint),null!=this.viewCameraBar&&this.cameraVisible&&this.renderer.setStyle(this.viewCameraBar.nativeElement,"transform","translate3d(-4px, ".concat(this.menuVisible?-64:0,"px, 0)")),this.renderer.setStyle(this.viewToolbar.nativeElement,"transform","translate3d(-8px, 0, 0)"),this.renderer.setStyle(this.viewSceneBase.nativeElement,"transform","translate3d(0, -8px, 0)"),this.renderer.setStyle(this.view.nativeElement,"padding-bottom",-e+"px")}},{key:"setPageTitle",value:function(e){var t=Object(Se.get)(e,"info.displayName");this.title.setTitle((t?t+" | ":"")+"BioDigital Human Platform")}},{key:"isVisible",value:function(e){return this.layoutService.isVisible(e)}},{key:"isEnabled",value:function(e){return this.layoutService.isUIEnabled(e)}}]),e}()).\u0275fac=function(e){return new(e||hu)(P.Pb(k.a),P.Pb(P.H),P.Pb(P.i),P.Pb(U.h),P.Pb(U.b),P.Pb(O.i),P.Pb(Ne.a),P.Pb($e.a),P.Pb(Ae.a),P.Pb(xn.a),P.Pb(mn.b),P.Pb(Ao.c))},hu.\u0275cmp=P.Jb({type:hu,selectors:[["app-view-page"]],viewQuery:function(e,t){var n;1&e&&(P.Jc(Np,!0),P.Jc($p,!0),P.Jc(Ap,!0),P.Vc(Qp,!0),P.Vc(qp,!0),P.Jc(Fp,!0),P.Vc(Hp,!0),P.Vc(Bp,!0,Do)),2&e&&(P.xc(n=P.dc())&&(t.engineContainer=n.first),P.xc(n=P.dc())&&(t.viewContainer=n.first),P.xc(n=P.dc())&&(t.view=n.first),P.xc(n=P.dc())&&(t.viewCameraBar=n.first),P.xc(n=P.dc())&&(t.viewLogo=n.first),P.xc(n=P.dc())&&(t.viewSceneBase=n.first),P.xc(n=P.dc())&&(t.viewToolbar=n.first),P.xc(n=P.dc())&&(t.drawer=n.first))},hostBindings:function(e,t){1&e&&P.cc("click",(function(e){return t.onClick(e)}),!1,P.Ac)},decls:41,vars:40,consts:[["role","main"],["viewContainer",""],[1,"view-page",3,"ngClass"],["view",""],[4,"ngIf"],["class","view-page__title-only",4,"ngIf"],[1,"view-page__engine"],["engineContainer",""],["class","view-page__audio",4,"ngIf"],["class","view-page__undo",4,"ngIf"],[1,"view-page__column-toggle"],[1,"view-page__scene-base"],["viewSceneBase",""],[1,"view-page__toolbar"],["viewToolbar",""],["position","right",4,"ngIf"],["class","view-page__menu",4,"ngIf"],[1,"view-page__camera-bar"],["viewCameraBar",""],[3,"showNav",4,"ngIf"],["class","view-page__logo",4,"ngIf"],["class","view-block-input",4,"ngIf"],[3,"contentId","contentType",4,"ngIf"],[3,"show","percent",4,"ngIf"],[4,"appFlagApplication","appFlagApplicationMode","appFlagApplicationNative"],[1,"view-page__title-only"],["layout","column"],[1,"view-page__audio"],[1,"view-page__undo"],["position","right"],[1,"view-page__menu"],[1,"ml-4"],[3,"showNav"],[1,"view-page__logo"],[3,"logoColor","logoSize","contentId"],[3,"offsetYChange"],["drawer",""],[1,"view-block-input"],[3,"contentId","contentType"],[3,"show","percent"],[3,"percent",4,"ngIf"],[3,"percent"]],template:function(e,t){if(1&e&&(P.Vb(0,"div",0,1),P.Vb(2,"div",2,3),P.Nc(4,Wp,1,0,"app-view-column-container",4),P.Qb(5,"app-view-menu-column"),P.Nc(6,Jp,2,0,"div",5),P.hc(7,"async"),P.Vb(8,"div",6,7),P.Nc(10,Gp,2,0,"div",8),P.Nc(11,Kp,2,0,"div",9),P.Vb(12,"div",10),P.Qb(13,"app-view-column-toggle"),P.Ub(),P.Vb(14,"div",11,12),P.Vb(16,"div",13,14),P.Nc(18,Yp,1,0,"app-view-toolbar",15),P.Ub(),P.Nc(19,Zp,2,0,"div",16),P.Vb(20,"div",17,18),P.Nc(22,Xp,1,1,"app-engine-camera-bar",19),P.Ub(),P.Nc(23,eu,3,5,"div",20),P.Ub(),P.Nc(24,tu,3,0,"ng-container",4),P.Ub(),P.Ub(),P.Ub(),P.Nc(25,nu,1,0,"div",21),P.hc(26,"async"),P.Nc(27,iu,1,2,"app-view-ondemand",22),P.hc(28,"async"),P.Nc(29,ou,2,4,"app-view-progress",23),P.hc(30,"async"),P.Nc(31,su,7,9,"app-view-loader",4),P.hc(32,"async"),P.Nc(33,lu,1,0,"app-view-tour",4),P.hc(34,"async"),P.Nc(35,pu,1,0,"app-view-whiteboard",4),P.hc(36,"async"),P.Nc(37,uu,1,0,"app-view-print",4),P.hc(38,"async"),P.Nc(39,gu,1,0,"app-view-content-warning",24),P.Qb(40,"app-view-iphone12-warning")),2&e){var n,i=null;P.Db(2),P.mc("ngClass",P.rc(36,bu,t.columnVisible,!t.columnVisible,t.drawerVisible)),P.Db(2),P.mc("ngIf",t.columnVisible||t.searchVisible||t.nodeInfoVisible),P.Db(2),P.mc("ngIf",t.titleOnlyVisible&&(null==(i=P.ic(7,20,t.chapter$))?null:i.info.displayName)),P.Db(4),P.mc("ngIf",t.audioVisible),P.Db(1),P.mc("ngIf",t.undoVisible),P.Db(7),P.mc("ngIf",t.toolbarVisible),P.Db(1),P.mc("ngIf",t.menuVisible),P.Db(3),P.mc("ngIf",t.cameraVisible),P.Db(1),P.mc("ngIf",t.logoVisible),P.Db(1),P.mc("ngIf",t.drawerVisible),P.Db(1),P.mc("ngIf",!P.ic(26,22,t.inputEnabled$)),P.Db(2),P.mc("ngIf",P.ic(28,24,t.viewWindow$)===t.viewWindow.OnDemand),P.Db(2),P.mc("ngIf","circle"===(null==(n=P.ic(30,26,t.layout$))?null:n.loader.template)),P.Db(2),P.mc("ngIf",P.ic(32,28,t.viewWindow$)===t.viewWindow.Interact),P.Db(2),P.mc("ngIf",P.ic(34,30,t.viewWindow$)===t.viewWindow.Tutorial),P.Db(2),P.mc("ngIf",P.ic(36,32,t.viewWindow$)===t.viewWindow.Whiteboard),P.Db(2),P.mc("ngIf",P.ic(38,34,t.usePrintImage$)),P.Db(2),P.mc("appFlagApplication",t.application.All)("appFlagApplicationMode","include")("appFlagApplicationNative",t.nativePlatform.All)}},directives:[C.m,C.p,vr,Or,kr.a,Tr,Ca,wt,ka,Ia,Bc,xs,ms.a,sr,Do,Cs,Ts,Es,As,_s,Qs,Gl,Dp,Up,Rp],pipes:[C.b],styles:[".view-page{border:none;width:100vw;height:100vh;height:calc(var(--vh, 1vh) * 100);max-height:100vh;overflow:hidden;transition:padding-left .25s,padding-bottom .3s}.view-page--column-in{padding-left:320px}.view-page--column-out{padding-left:0}.view-page--drawer-push{padding-bottom:64px}.view-page__audio{position:absolute;z-index:10;top:12px;left:12px}.view-page__column{height:100%}.view-page__column-toggle{position:absolute;top:50%;margin-top:-18px;left:0;z-index:10}.view-page__engine{width:100%;height:100%;position:relative}.view-page__menu{position:absolute;right:8px;bottom:0;z-index:30}.view-page__camera-bar{position:absolute;bottom:0;right:4px;z-index:20}.view-page__logo{display:inline-block;position:absolute;left:16px;bottom:0;z-index:10}.view-page__media-bar{position:absolute;left:50%;margin-left:-100px;width:200px;bottom:0;z-index:10;justify-content:center}.view-page__media-bar:not([hidden]){display:flex}.view-page__notifications{position:absolute;top:12px;right:12px;z-index:20}.view-page__title-only{position:absolute;top:8px;left:8px;max-width:304px;z-index:10;padding:12px;border-radius:4px;background:hsla(0,0%,100%,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a}.view-page__scene-base{position:absolute;left:0;bottom:0;right:0;z-index:10;transition:transform .3s}.view-page__toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:64px;transition:transform .25s}.view-page__undo{position:absolute;display:flex;justify-content:center;pointer-events:none;left:0;z-index:10;width:100%}.view-block-input{position:fixed;top:0;bottom:0;left:0;right:0;z-index:10000}"],encapsulation:2,changeDetection:0}),Ep([Object(U.e)(pt.a.getStoryId),Lp("design:type",re.a)],hu.prototype,"storyId$",void 0),Ep([Object(U.e)(I.a.getUI),Lp("design:type",re.a)],hu.prototype,"layout$",void 0),Ep([Object(U.e)(I.a.getInputEnabled),Lp("design:type",re.a)],hu.prototype,"inputEnabled$",void 0),Ep([Object(U.e)(I.a.getFullscreenActive),Lp("design:type",re.a)],hu.prototype,"fullscreenActive$",void 0),Ep([Object(U.e)(I.a.getDrawerCoversContent),Lp("design:type",re.a)],hu.prototype,"drawerCoversContent$",void 0),Ep([Object(U.e)(I.a.getInteractType),Lp("design:type",re.a)],hu.prototype,"interactType$",void 0),Ep([Object(U.e)(I.a.getOnDemand),Lp("design:type",re.a)],hu.prototype,"onDemand$",void 0),Ep([Object(U.e)(I.a.getShowHelpTab),Lp("design:type",re.a)],hu.prototype,"showHelpTab$",void 0),Ep([Object(U.e)(I.a.getUsePrintImage),Lp("design:type",re.a)],hu.prototype,"usePrintImage$",void 0),Ep([Object(U.e)(I.a.getOpenWindow),Lp("design:type",re.a)],hu.prototype,"viewWindow$",void 0),Ep([Object(U.e)(I.a.getTutorialSeen),Lp("design:type",re.a)],hu.prototype,"tutorialSeen$",void 0),Ep([Object(U.e)(ke.a.getStoryLoadProgress),Lp("design:type",re.a)],hu.prototype,"storyLoadProgress$",void 0),Ep([Object(U.e)(Io.a.getBreakpoint),Lp("design:type",re.a)],hu.prototype,"breakpoint$",void 0),Ep([Object(U.e)(we.a.getSelectedChapter),Lp("design:type",re.a)],hu.prototype,"chapter$",void 0),Ep([Object(U.e)(we.a.getSelectedChapterReadyState),Lp("design:type",re.a)],hu.prototype,"selectedChapterReady$",void 0),Ep([Object(U.e)(we.a.getChaptersLoaded),Lp("design:type",re.a)],hu.prototype,"chaptersLoaded$",void 0),Ep([Object(U.e)(we.a.getSelectedChapterBackground),Lp("design:type",re.a)],hu.prototype,"background$",void 0),Ep([Object(U.e)(we.a.getSelectedChapterAudio),Lp("design:type",re.a)],hu.prototype,"audio$",void 0),Ep([Object(U.e)(Me.a.getSelectedLabel),Lp("design:type",re.a)],hu.prototype,"selectedLabel$",void 0),hu),xu=c("+1W3"),mu=c("eKhQ"),vu=c("Kn5L"),wu=c("6/b0"),yu=c("7PKw"),_u=c("J5ja"),Cu=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ou=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ku=((du=function(){function e(t,n,i,o,r,a,c,s,l){m(this,e),this.store=t,this.router=n,this.actions=i,this.cleanupService=o,this.viewService=r,this.quizService=a,this.organizationsService=c,this.activatedRoute=s,this.userAccessService=l,this.ngUnsubscribe=new ne.a,this.viewGateSubject=new ne.a}return x(e,[{key:"ngOnInit",value:function(){this.initDynamicLayout(),this.initNavigateAwayListener(),this.initOrganizationViewConfig(),this.initQuizAutoStart(),Te.a.application===Ie.a.Studio&&(this.initContentViews(),this.initPublicViewGate())}},{key:"ngOnDestroy",value:function(){this.chapterLayout&&this.store.dispatch(new xe.a.SetUI(this.chapterLayout)),this.store.dispatch(new xe.a.SetWindows([])),this.viewGateSubject.next(),this.viewGateSubject.complete(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initOrganizationViewConfig",value:function(){var e=this;this.store.select(mu.a.getOrganization).pipe(Object(pe.a)((function(e){return!Object(Se.isNil)(e)})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.organizationsService.getOrganizationAttribute(t.group_attributes,"app_settings","anatomy_description_fallback");Object(Se.isNil)(n)||e.viewService.setAnatomyDescriptionFallback(n.value)}))}},{key:"initNavigateAwayListener",value:function(){var e=this;this.router.events.pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){t instanceof k.d&&(t.url.startsWith("/edit")||e.cleanupService.resetScene())}))}},{key:"initDynamicLayout",value:function(){var e=this;Object(oe.b)([this.store.select(we.a.getSelectedChapter),this.store.select(Ee.b.getQuizModeActive),this.store.select(Ee.b.getActiveQuestion)]).pipe(Object(pe.a)((function(e){return null!=u(e,1)[0]})),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,2),i=n[0],o=n[1],r=Object(xu.f)(!0),a=Object(xu.b)(i.ui),c=Object(xu.e)();e.viewService.setUI({baseUIConfig:r,chapterUIConfig:a,quizUIConfig:o?c:null})}))}},{key:"initQuizAutoStart",value:function(){var e=this,t=this.activatedRoute.snapshot.queryParams,n=this.store.select(Wc.a.getSelectedBookmark),i=this.store.select(we.a.getSelectedChapterReadyState),o=this.store.select(Ee.b.hasQuiz);Object(oe.b)([n,i,o]).pipe(Object(pe.a)((function(e){var n=u(e,3),i=n[0],o=n[1],r=n[2];if(!i)return!1;var a=Object(Se.get)(o,"model",!1),c=Object(Se.get)(t,"quiz",!1);return a&&r&&(c||i.viewMode===Jc.a.Quiz)})),Object(ue.a)(1),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){var n=u(t,1)[0];e.quizService.startQuiz(),n.viewMode===Jc.a.Quiz&&e.store.dispatch(new ln.a.SetQuizLocked(!0))}))}},{key:"initContentViews",value:function(){var e=this,t=this.viewService.normalizeQueryParams(this.activatedRoute.snapshot.queryParams),n=t.id,i=t.type;Object(oe.b)([this.store.select(vi.a.getLoggedIn),this.store.select(vi.a.isPremiumUser),this.store.select(we.a.getSelectedChapterModelReady),this.store.select(vi.a.getContentViews)]).pipe(Object(pe.a)((function(e){var t=u(e,4),n=t[0],i=t[1],o=t[2],r=t[3];return n&&!i&&o&&!r.limit_reached})),Object(ue.a)(1),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new vu.V(n,i))}))}},{key:"initPublicViewGate",value:function(){var e=this;this.actions.pipe(Object(U.l)(vu.fb),Object(be.a)((function(e){return e.active})),Object(Va.a)(!1),Object(fe.a)(),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){t?e.createPublicViewGate():e.destroyPublicViewGate()})),this.store.select(vi.a.getLoggedIn).pipe(Object(ge.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new le.Q(!t)),e.store.dispatch(new vu.fb(!t))}))}},{key:"createPublicViewGate",value:function(){var e=this;this.destroyPublicViewGate(),this.store.select(vi.a.getLoggedIn).pipe(Object(pe.a)((function(e){return!e})),Object(Na.a)((function(){return e.userAccessService.createViewinteractionGate(1e4,5,15)})),Object(fe.a)(),Object(pe.a)((function(e){return e})),Object(Ks.b)((function(){return e.userAccessService.openPublicViewGate()})),Object(ge.a)(this.viewGateSubject),Object(ge.a)(this.ngUnsubscribe)).subscribe((function(){e.createPublicViewGate()}))}},{key:"destroyPublicViewGate",value:function(){this.userAccessService.closePublicViewGate(),this.viewGateSubject.next()}}]),e}()).\u0275fac=function(e){return new(e||du)(P.Pb(U.h),P.Pb(k.e),P.Pb(U.b),P.Pb(wu.a),P.Pb(Ne.a),P.Pb($e.a),P.Pb(yu.a),P.Pb(k.a),P.Pb(_u.a))},du.\u0275cmp=P.Jb({type:du,selectors:[["app-view-internal-page"]],decls:1,vars:0,template:function(e,t){1&e&&P.Qb(0,"router-outlet")},directives:[k.j],styles:[""],changeDetection:0}),Cu([Object(U.e)(pt.a.getStory),Ou("design:type",re.a)],du.prototype,"story$",void 0),Cu([Object(U.e)(vi.a.getUserProfile),Ou("design:type",re.a)],du.prototype,"userProfile$",void 0),du),Pu=function(e){return e.Content="content",e.SceneJS="scenejs",e}({}),Mu={title:"We're unable to find the model you're looking for.",description:'Please check your URL or visit the <a href="/" target="_blank">BioDigital Human</a> to see what\'s available in our 3D model library.'},zu=c("aWUR"),Su={title:"Your BioDigital Human embed requires proper authentication.",description:""},Du=e({},zu.a.InvalidUAID,{title:"Authentication Issues",description:"Your Human Widget has invalid user credentials.",url:"https://support.biodigital.com"}),ju=c("dNgK");function Uu(e,t){if(1&e){var n=P.Wb();P.Vb(0,"button",13),P.cc("click",(function(){return P.Cc(n),P.gc(2).handleSeeDetailsClick()})),P.Pc(1," See Details "),P.Ub()}}function Iu(e,t){if(1&e&&(P.Vb(0,"textarea",14),P.Pc(1,"        "),P.Ub()),2&e){var n=P.gc(2);P.mc("value",n.sceneJSErrorReport)}}function Tu(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div"),P.Vb(1,"h1",3),P.Pc(2,"The BioDigital Human encountered an error."),P.Ub(),P.Vb(3,"h2",4),P.Pc(4," Error: "),P.Vb(5,"span",5),P.Pc(6),P.Ub(),P.Ub(),P.Vb(7,"div",6),P.Pc(8," To receive assistance with this error, please follow these steps: "),P.Ub(),P.Vb(9,"ol",7),P.Vb(10,"li",8),P.Vb(11,"button",9),P.cc("click",(function(){return P.Cc(n),P.gc().handleDownloadClick()})),P.Pc(12," Download "),P.Ub(),P.Pc(13," the error report. "),P.Ub(),P.Vb(14,"li",8),P.Vb(15,"button",9),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleActionClick(e.supportURL)})),P.Pc(16," Share the report "),P.Ub(),P.Pc(17," with the customer support team. "),P.Ub(),P.Ub(),P.Vb(18,"div",10),P.Nc(19,Uu,2,0,"button",11),P.Vb(20,"div"),P.Nc(21,Iu,2,1,"textarea",12),P.Ub(),P.Ub(),P.Ub()}if(2&e){var i=P.gc();P.Db(6),P.Qc(i.sceneJSErrorTeaser),P.Db(13),P.mc("ngIf",!i.viewSceneJSErrorDetails),P.Db(2),P.mc("ngIf",i.viewSceneJSErrorDetails)}}function Vu(e,t){if(1&e){var n=P.Wb();P.Vb(0,"div",3),P.Pc(1),P.Ub(),P.Vb(2,"div",15),P.Tb(3),P.Vb(4,"button",9),P.cc("click",(function(){P.Cc(n);var e=P.gc();return e.handleActionClick(e.supportURL)})),P.Pc(5," Contact Support "),P.Ub(),P.Sb(),P.Ub(),P.Qb(6,"div",16)}if(2&e){var i=P.gc();P.Db(1),P.Rc(" ",i.title," "),P.Db(5),P.mc("innerHTML",i.description,P.Dc)}}var Ru,Eu,Lu,Nu,$u,Au,Qu=((Ru=function(){function e(t,n){m(this,e),this.route=t,this.snackBar=n,this.supportURL="https://support.biodigital.com",this.isSceneJSError=!1,this.viewSceneJSErrorDetails=!1}return x(e,[{key:"handleSeeDetailsClick",value:function(){this.viewSceneJSErrorDetails=!0}},{key:"buildSceneJSErrorReport",value:function(e,t){return{contentId:e,error:JSON.parse(atob(t)),webglInfo:window.SceneJS.WEBGL_INFO}}},{key:"title",get:function(){return this.errorConfig.title}},{key:"description",get:function(){return this.errorConfig.description}},{key:"ngOnInit",value:function(){var e=this.route.snapshot.queryParams,t=e.errorType,n=e.errorCode,i=e.errorBlob,o=e.errorUrl;if(t===Pu.SceneJS){this.isSceneJSError=!0;var r=this.buildSceneJSErrorReport(o,i);this.sceneJSErrorTeaser=r.error.errorName,this.sceneJSErrorReport=JSON.stringify(r,null,2)}else this.errorConfig=t===Pu.Content?Mu:Du[n]||Su}},{key:"handleDownloadClick",value:function(){Object(wi.saveAs)(new Blob([this.sceneJSErrorReport],{type:"text/plain"}),"BioDigital_Error_Report.txt")}},{key:"handleActionClick",value:function(e){window.open(e)||this.snackBar.open("Unable to open link in new window, please check your pop-up settings.")}}]),e}()).\u0275fac=function(e){return new(e||Ru)(P.Pb(k.a),P.Pb(ju.b))},Ru.\u0275cmp=P.Jb({type:Ru,selectors:[["app-error-page"]],decls:4,vars:2,consts:[[1,"error"],[4,"ngIf","ngIfElse"],["notSceneJSError",""],[1,"text-24","text-bold"],[1,"text-16","mt-4","mb-8"],[1,"text-semibold"],[1,"text-16","mb-4"],[1,"text-16"],[1,"mv-4"],["app-button","","buttonType","outline","buttonTheme","light",3,"click"],[1,"mt-8"],["app-button","","buttonType","outline","buttonTheme","light","buttonSize","xsmall",3,"click",4,"ngIf"],["class","error__details mt-2",3,"value",4,"ngIf"],["app-button","","buttonType","outline","buttonTheme","light","buttonSize","xsmall",3,"click"],[1,"error__details","mt-2",3,"value"],[1,"flex","items-start","mt-10"],[1,"error__description","text-16","mt-8",3,"innerHTML"]],template:function(e,t){if(1&e&&(P.Vb(0,"div",0),P.Nc(1,Tu,22,3,"div",1),P.Nc(2,Vu,7,2,"ng-template",null,2,P.Oc),P.Ub()),2&e){var n=P.yc(3);P.Db(1),P.mc("ngIf",t.isSceneJSError)("ngIfElse",n)}},directives:[C.p,Wn.a],styles:[".error[_ngcontent-%COMP%]{margin:0 auto;max-width:640px;display:flex;flex-direction:column;padding:40px;color:#283853}.error[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{list-style:decimal}.error__details[_ngcontent-%COMP%]{width:100%;height:200px}.error__description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .error__description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#283853}"],changeDetection:0}),Ru),qu=c("LRne"),Fu=c("qXBG"),Hu=((Eu=function(){function e(t,n){m(this,e),this.authService=t,this.store=n}return x(e,[{key:"canActivate",value:function(e,t){var n=this.store.selectSnapshot(vi.a.getLoggedIn);return n?Object(qu.a)(n):this.authService.isLoggedIn().pipe(Object(be.a)((function(e){return e.signed_in})))}}]),e}()).\u0275fac=function(e){return new(e||Eu)(P.Zb(Fu.a),P.Zb(U.h))},Eu.\u0275prov=P.Lb({token:Eu,factory:Eu.\u0275fac,providedIn:"root"}),Eu),Bu=c("ThaW"),Wu=[{path:"",component:te.a,canActivate:[(Nu=function(e){o(i,e);var t=a(i);function i(e,n,o){var r;return m(this,i),(r=t.call(this,e,n)).authService=e,r.store=n,r.router=o,r}return x(i,[{key:"canActivate",value:function(e,t){var o=e.queryParams,r=o.id,a=o.be,c=o.m,s=r||a||c,p=Object(Bu.a)(s);return n(l(i.prototype),"canActivate",this).call(this,e,t).pipe(Object(Ks.b)((function(e){var t=e||p===ys.a.Module;return t?Object(qu.a)(t):Object(qu.a)(e)})))}}]),i}(Hu),Nu.\u0275fac=function(e){return new(e||Nu)(P.Zb(Fu.a),P.Zb(U.h),P.Zb(k.e))},Nu.\u0275prov=P.Lb({token:Nu,factory:Nu.\u0275fac,providedIn:"root"}),Nu)],data:{fixedHeight:!0},resolve:{siteHeaderType:(Lu=function(){function e(t,n){m(this,e),this.store=t,this.authService=n}return x(e,[{key:"resolve",value:function(e,t){return new Hu(this.authService,this.store).canActivate(e,t).pipe(Object(be.a)((function(e){return e?Re.a.View:Re.a.Share})))}}]),e}(),Lu.\u0275fac=function(e){return new(e||Lu)(P.Zb(U.h),P.Zb(Fu.a))},Lu.\u0275prov=P.Lb({token:Lu,factory:Lu.\u0275fac,providedIn:"root"}),Lu)},children:[{path:"",component:ku,children:[{path:"",component:fu}]},{path:"error",component:Qu}]}],Ju=(($u=function e(){m(this,e)}).\u0275mod=P.Nb({type:$u}),$u.\u0275inj=P.Mb({factory:function(e){return new(e||$u)},imports:[[k.i.forChild(Wu)],k.i]}),$u),Gu=c("Tx//"),Ku=((Au=function e(){m(this,e)}).\u0275mod=P.Nb({type:Au}),Au.\u0275inj=P.Mb({factory:function(e){return new(e||Au)},imports:[[Gu.a,ee,Ju,C.c]]}),Au)},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}}},wnTG:function(e,t,n){"use strict";var i=n("UL9e");function o(){var e={},t=0,n=0,i=0;return{add:function(o,r){r||(r=o,o=0),o>n?n=o:o<i&&(i=o),e[o]||(e[o]=[]),e[o].push(r),t++},process:function(){for(var t=i;t<=n;t++)for(var o=e[t],r=0;r<o.length;r++)(0,o[r])()},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=i.getOption(e,"async",!0),r=i.getOption(e,"auto",!0);r&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,c=o(),s=!1;function l(){for(s=!0;c.size();){var e=c;c=o(),e.process()}s=!1}function p(){a=setTimeout(l,0)}return{add:function(e,t){!s&&r&&n&&0===c.size()&&p(),c.add(e,t)},force:function(e){s||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?p():l())}}}},yUZ2:function(e,t,n){"use strict";var i=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,r=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=document.createElement("div");e.style.cssText=s(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=s(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,i=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:i}}();function c(e){!function(e,t,n){if(!e.getElementById(t)){var i="erd_scroll_detection_container_animation",o="/* Created by the element-resize-detector library. */\n";o+=".erd_scroll_detection_container > div::-webkit-scrollbar { "+s(["display: none"])+" }\n\n",o+=".erd_scroll_detection_container_animation_active { "+s(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+i,"animation-name: "+i])+" }\n",o+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,i){i=i||function(t){e.head.appendChild(t)};var o=e.createElement("style");o.innerHTML=n,o.id=t,i(o)}(o+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style")}function s(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function l(e,n,i){if(e.addEventListener)e.addEventListener(n,i);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,i)}}function p(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,i)}}function u(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function g(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return c(window.document),{makeDetectable:function(e,c,p){function h(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(r.get(c),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var i=0;i<n.length;i++)t.log(n[i])}}function d(e){var t=o(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function b(){var e=window.getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function f(){if(h("storeStyle invoked."),o(c)){var e=b();o(c).style=e}else h("Aborting because element has been uninstalled")}function x(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function m(){return 2*a.width+1}function v(){return 2*a.height+1}function w(e){return e+10+m()}function y(e){return e+10+v()}function _(e,t,n){var i=u(e),o=g(e),r=w(t),a=y(n),c=function(e){return 2*e+m()}(t),s=function(e){return 2*e+v()}(n);i.scrollLeft=r,i.scrollTop=a,o.scrollLeft=c,o.scrollTop=s}function C(){var e=o(c).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=s(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(c).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),c.appendChild(e);var t=function(){o(c).onRendered&&o(c).onRendered()};l(e,"animationstart",t),o(c).onAnimationStart=t}return e}function O(){if(h("Injecting elements"),o(c)){!function(){var n=o(c).style;if("static"===n.position){c.style.setProperty("position","relative",e.important?"important":"");var i=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};i(t,c,n,"top"),i(t,c,n,"right"),i(t,c,n,"bottom"),i(t,c,n,"left")}}();var n=o(c).container;n||(n=C());var i,r,p,u,g=a.width,d=a.height,b=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),f=s(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(i=(i=-(1+g))?i+"px":"0"),"top: "+(r=(r=-(1+d))?r+"px":"0"),"right: "+(u=(u=-g)?u+"px":"0"),"bottom: "+(p=(p=-d)?p+"px":"0")])),x=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),m=s(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=s(["position: absolute","left: 0","top: 0"]),w=s(["position: absolute","width: 200%","height: 200%"]),y=document.createElement("div"),_=document.createElement("div"),O=document.createElement("div"),k=document.createElement("div"),P=document.createElement("div"),M=document.createElement("div");y.dir="ltr",y.style.cssText=b,y.className="erd_scroll_detection_container",_.className="erd_scroll_detection_container",_.style.cssText=f,O.style.cssText=x,k.style.cssText=v,P.style.cssText=m,M.style.cssText=w,O.appendChild(k),P.appendChild(M),_.appendChild(O),_.appendChild(P),y.appendChild(_),n.appendChild(y),l(O,"scroll",z),l(P,"scroll",S),o(c).onExpandScroll=z,o(c).onShrinkScroll=S}else h("Aborting because element has been uninstalled");function z(){o(c).onExpand&&o(c).onExpand()}function S(){o(c).onShrink&&o(c).onShrink()}}function k(){function a(t,n,i){var o=function(e){return u(e).childNodes[0]}(t),r=w(n),a=y(i);o.style.setProperty("width",r+"px",e.important?"important":""),o.style.setProperty("height",a+"px",e.important?"important":"")}function s(i){var s=c.offsetWidth,p=c.offsetHeight,u=s!==o(c).lastWidth||p!==o(c).lastHeight;h("Storing current size",s,p),x(c,s,p),n.add(0,(function(){u&&(o(c)?l()?(e.debug&&(c.offsetWidth===s&&c.offsetHeight===p||t.warn(r.get(c),"Scroll: Size changed before updating detector elements.")),a(c,s,p)):h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled"))})),n.add(1,(function(){o(c)?l()?_(c,s,p):h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")})),u&&i&&n.add(2,(function(){o(c)?l()?i():h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")}))}function l(){return!!o(c).container}function p(){h("notifyListenersIfNeeded invoked");var e=o(c);return void 0===o(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?h("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?h("Not notifying: Size already notified"):(h("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(o(c).listeners,(function(e){e(c)})))}function b(){h("Scroll detected."),d(c)?h("Scroll event fired while unrendered. Ignoring..."):s(p)}if(h("registerListenersAndPositionElements invoked."),o(c)){o(c).onRendered=function(){if(h("startanimation triggered."),d(c))h("Ignoring since element is still unrendered...");else{h("Element rendered.");var e=u(c),t=g(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(h("Scrollbars out of sync. Updating detector elements..."),s(p))}},o(c).onExpand=b,o(c).onShrink=b;var f=o(c).style;a(c,f.width,f.height)}else h("Aborting because element has been uninstalled")}function P(){if(h("finalizeDomMutation invoked."),o(c)){var e=o(c).style;x(c,e.width,e.height),_(c,e.width,e.height)}else h("Aborting because element has been uninstalled")}function M(){p(c)}function z(){var e;h("Installing..."),o(c).listeners=[],e=b(),o(c).startSize={width:e.width,height:e.height},h("Element start size",o(c).startSize),n.add(0,f),n.add(1,O),n.add(2,k),n.add(3,P),n.add(4,M)}p||(p=c,c=e,e=null),e=e||{},h("Making detectable..."),function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(c)?(h("Element is detached"),C(),h("Waiting until element is attached..."),o(c).onRendered=function(){h("Element is now attached"),z()}):z()},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&p(u(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&p(g(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&p(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:c}}}}])}();