(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BbIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),c=n("ofXK"),o=n("STbY"),s=n("IlST"),a=n("0njA");function r(e,t){if(1&e&&(i.Vb(0,"button",3),i.Vb(1,"span",4),i.Vb(2,"span",5),i.Vb(3,"span",6),i.Pc(4,"Sort: "),i.Ub(),i.Pc(5),i.Ub(),i.Qb(6,"app-icon",7),i.Ub(),i.Ub()),2&e){const e=i.gc(),t=i.yc(2);i.mc("uppercase",!1)("matMenuTriggerFor",t),i.Eb("aria-label",e.sortLabel),i.Db(5),i.Qc(e.sort.label)}}function l(e,t){if(1&e){const e=i.Wb();i.Vb(0,"button",8),i.cc("click",(function(){i.Cc(e);const n=t.$implicit;return i.gc().handleSort(n)})),i.Pc(1),i.Ub()}if(2&e){const e=t.$implicit;i.Eb("data-test-value",e.dataTest)("aria-label","Sort by "+e.label),i.Db(1),i.Rc(" ",e.label," ")}}let p=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.sortOptions=[],this.sortChange=new i.p}get sort(){return this._sort}set sort(e){this._sort=e,this.changeDetectorRef.markForCheck()}ngOnInit(){}handleSort(e){this.sortChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.i))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-sort"]],inputs:{sort:"sort",sortOptions:"sortOptions",sortLabel:"sortLabel"},outputs:{sortChange:"sortChange"},decls:4,vars:2,consts:[["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor",4,"ngIf"],["sortActions","matMenu"],["mat-menu-item","","data-test","gallerySortByItem",3,"click",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor"],[2,"white-space","nowrap"],[1,"text-medium"],[1,"hide-sm"],["icon","caret-down",1,"ml-1"],["mat-menu-item","","data-test","gallerySortByItem",3,"click"]],template:function(e,t){1&e&&(i.Nc(0,r,7,4,"button",0),i.Vb(1,"mat-menu",null,1),i.Nc(3,l,2,3,"button",2),i.Ub()),2&e&&(i.mc("ngIf",t.sort),i.Db(3),i.mc("ngForOf",t.sortOptions))},directives:[c.p,o.a,c.o,s.a,o.d,a.a,o.b],styles:[""],changeDetection:0}),e})()},FO49:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),c=n("AcyG"),o=n("HDdC"),s=n("Kn5L"),a=n("ECVi"),r=n("INTG"),l=n("HdmJ"),p=n("IlST"),u=n("ofXK"),b=n("STbY"),g=n("0njA"),d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function h(e,t){if(1&e&&(i.Qb(0,"img",8),i.hc(1,"async"),i.hc(2,"async")),2&e){const e=i.gc(2);let t=null;i.mc("src",e.getLocaleFlag(i.ic(1,2,e.userLocale$)),i.Fc),i.Eb("alt",null==(t=i.ic(2,4,e.userLocale$))?null:t.title)}}function m(e,t){if(1&e&&(i.Vb(0,"button",3),i.Vb(1,"div",4),i.Nc(2,h,3,6,"img",5),i.Vb(3,"span",6),i.Pc(4),i.hc(5,"async"),i.Ub(),i.Qb(6,"app-icon",7),i.Ub(),i.Ub()),2&e){const e=i.gc(),t=i.yc(3);i.mc("buttonTheme",e.buttonTheme)("buttonType",e.buttonType)("matMenuTriggerFor",t),i.Eb("aria-label","Select your locale"),i.Db(2),i.mc("ngIf",e.showFlag),i.Db(2),i.Qc(e.displayLocale(i.ic(5,6,e.userLocale$)))}}function f(e,t){if(1&e){const e=i.Wb();i.Vb(0,"button",9),i.cc("click",(function(){i.Cc(e);const n=t.$implicit;return i.gc().handleLocaleSelection(n)})),i.Vb(1,"span",10),i.Qb(2,"img",8),i.Pc(3),i.hc(4,"uppercase"),i.Ub(),i.Ub()}if(2&e){const e=t.$implicit,n=i.gc();i.Eb("aria-label",e.title)("data-test",n.localesDataTestMap[e.lang]),i.Db(2),i.mc("src",n.getLocaleFlag(e),i.Fc),i.Eb("alt",e.title),i.Db(1),i.Sc(" ",e.title," (",i.ic(4,6,e.lang),") ")}}var x=function(e){return e.Full="full",e.Title="title",e.Lang="lang",e}({});let v=(()=>{class e{constructor(e){this.store=e,this.locales=r.d,this.localesDataTestMap=r.e,this.buttonType=p.b.Default,this.buttonTheme=l.a.Dark,this.localeFormat=x.Full,this.showFlag=!0,this.localeChange=new i.p}handleLocaleSelection(e){this.store.selectSnapshot(a.a.getUserLocale)!==e&&(this.store.dispatch(new s.ab(e)),this.localeChange.emit(e))}getLocaleFlag(e){return`/assets/images/flags/${e.country}.svg`}displayLocale(e){switch(this.localeFormat){case x.Full:return`${e.title} (${e.lang})`;case x.Title:return e.title;case x.Lang:return e.lang}}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(c.h))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-locales"]],inputs:{buttonType:"buttonType",buttonTheme:"buttonTheme",localeFormat:"localeFormat",showFlag:"showFlag"},outputs:{localeChange:"localeChange"},decls:5,vars:4,consts:[["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor",4,"ngIf"],["localeOptions","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor"],[1,"flex","items-center"],["class","mr-2",3,"src",4,"ngIf"],[1,"text-medium"],["icon","caret-down",1,"ml-1"],[1,"mr-2",3,"src"],["mat-menu-item","",3,"click"],[1,"flex"]],template:function(e,t){1&e&&(i.Nc(0,m,7,8,"button",0),i.hc(1,"async"),i.Vb(2,"mat-menu",null,1),i.Nc(4,f,5,8,"button",2),i.Ub()),2&e&&(i.mc("ngIf",i.ic(1,2,t.userLocale$)),i.Db(4),i.mc("ngForOf",t.locales))},directives:[u.p,b.a,u.o,p.a,b.d,g.a,b.b],pipes:[u.b,u.y],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(c.e)(a.a.getUserLocale),d("design:type",o.a)],e.prototype,"userLocale$",void 0),e})()},jcJX:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountModule",(function(){return Qs}));var i=n("ofXK"),c=n("tyNb"),o=n("P+IX"),s=n("uZ1g"),a=n("AcyG"),r=n("LvDl"),l=n("XNiG"),p=n("HDdC"),u=n("pLZG"),b=n("IzEk"),g=n("5+tZ"),d=n("1G5W"),h=n("ECVi"),m=n("Ryms"),f=n("j8e5"),x=n("fXoL"),v=n("L2KA"),P=n("04gt"),_=n("UhED"),C=n("7aEW"),y=n("0njA");const O=function(){return["/account/profile"]},U=function(){return["/account/team"]},M=function(){return["/account/settings"]};let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-nav"]],decls:12,vars:6,consts:[[1,"nav"],["app-navigation-list-item","","routerLinkActive","nav__link--active",1,"nav__link",3,"routerLink"],["icon","user-circle",1,"nav__link-icon"],["icon","user-friends",1,"nav__link-icon"],["icon","cog",1,"nav__link-icon"]],template:function(e,t){1&e&&(x.Vb(0,"app-navigation-list-container"),x.Vb(1,"nav"),x.Vb(2,"div",0),x.Vb(3,"a",1),x.Qb(4,"app-icon",2),x.Pc(5," Account "),x.Ub(),x.Vb(6,"a",1),x.Qb(7,"app-icon",3),x.Pc(8," Team "),x.Ub(),x.Vb(9,"a",1),x.Qb(10,"app-icon",4),x.Pc(11," Settings "),x.Ub(),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(3),x.mc("routerLink",x.oc(3,O)),x.Db(3),x.mc("routerLink",x.oc(4,U)),x.Db(3),x.mc("routerLink",x.oc(5,M)))},directives:[_.a,c.h,C.a,c.g,y.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.nav__link[_ngcontent-%COMP%]{color:#374a68;text-decoration:none;display:flex}.nav__link-icon[_ngcontent-%COMP%]{padding-right:20px;font-size:16px;letter-spacing:.4px;line-height:1.4em}.nav__link--active[_ngcontent-%COMP%]{background-color:#eaeff5;border-radius:4px}"],changeDetection:0}),e})();var k=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let V=(()=>{class e{constructor(e,t,n,i){this.store=e,this.dialogService=t,this.authRoutingService=n,this.router=i,this.breakPoints=m.a,this.ngUnsubscribe=new l.a}ngOnInit(){this.initProfileCheck()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initProfileCheck(){this.userProfile$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)&&this.isVerificationRequired(e)),Object(b.a)(1),Object(g.b)(()=>this.openVerifyConfirmDialog()),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=this.store.selectSnapshot(h.a.getUserProfile),{email:n}=t,{verification_jwt:i}=t.account_verification;e?this.authRoutingService.navigateToVerifyAccount(n,i):this.router.navigate(["/"])})}isVerificationRequired(e){return!0===Object(r.get)(e,"account_verification.verification_required")}openVerifyConfirmDialog(){return this.dialogService.openConfirmDialog({maxWidth:"480px",data:{titleText:"Verify your email",bodyText:"Before you can make changes to your account, we need to verify your email address. Please log out and log back in to complete the verification process.",confirmText:"Log Out",confirmColor:"warn"}}).afterClosed()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(v.a),x.Pb(P.a),x.Pb(c.e))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-master"]],decls:7,vars:4,consts:[[1,"account"],[1,"account__container"],[1,"account__col"],[1,"account__body"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.hc(1,"async"),x.Vb(2,"div",1),x.Vb(3,"div",2),x.Qb(4,"app-account-nav"),x.Ub(),x.Vb(5,"div",3),x.Qb(6,"router-outlet"),x.Ub(),x.Ub(),x.Ub()),2&e&&x.Hb("account--fullscreen",x.ic(1,2,t.breakpoint$)<t.breakPoints.Large)},directives:[w,c.j],pipes:[i.b],styles:[".account[_ngcontent-%COMP%]{background:#fff;display:flex;justify-content:center;padding-top:24px}.account__container[_ngcontent-%COMP%]{flex:0 1 900px;display:flex}.account__col[_ngcontent-%COMP%]{flex:0 0 160px;padding-right:20px}.account__body[_ngcontent-%COMP%]{border-left:1px solid #d7e0ea;padding-left:20px;flex:1 1 100%}.account--fullscreen[_ngcontent-%COMP%]   .account__container[_ngcontent-%COMP%]{flex:0 1 100%}.account--fullscreen[_ngcontent-%COMP%]   .account__col[_ngcontent-%COMP%]{display:none}.account--fullscreen[_ngcontent-%COMP%]   .account__body[_ngcontent-%COMP%]{padding:0 20px;border:none}"],changeDetection:0}),k([Object(a.e)(h.a.getUserProfile),D("design:type",p.a)],e.prototype,"userProfile$",void 0),k([Object(a.e)(f.a.getBreakpoint),D("design:type",p.a)],e.prototype,"breakpoint$",void 0),e})();var S=n("VRyK"),R=n("lJxs"),T=n("VKIe"),j=n("Kn5L"),I=n("eKhQ"),z=n("3Pt+"),N=n("itXk"),A=n("/uUt"),F=n("bKUj"),L=function(e){return e.MedicalDevice="Medical Device",e.Pharma="Pharma",e.ConsumerHealth="Consumer Health",e.EdTraining="Education & Training",e.DigitalHealth="Digital Health",e.ProviderHospitalPractice="Provider (Hospital & Practice)",e}({}),E=function(e){return e.K12="K12",e.MedicalSchool="Medical School",e.NursingSchool="Nursing School",e.UndergraduateSchool="Undergraduate School",e.GraduateSchool="Graduate School",e.HealthScienceAlliedHealth="Health Sciences or Allied Health Program",e}({}),$=n("2CE2"),Q=function(e){return e.Student="Student",e.Faculty="Faculty",e.Administrator="Administrator",e.TeacherFaculty="Teacher / Faculty",e.PatientCaregiver="Patient / Caregiver",e.IndustryProfessional="Industry Professional",e.InstructionalDesigner="Instructional Designer",e.Marketing="Marketing",e.TrainingManager="Training Manager",e.ManagerOfMedicalEducation="Manager of Medical Education",e.Developer="Developer",e.BrandProductManager="Brand / Product Manager",e.ScientificCommunications="Scientific Communications",e.ProductManager="Product Manager",e.Editor="Editor",e.ContentManager="Content Manager",e.DesignUserExperience="Design / User Experience",e.Executive="Executive",e.TechnologyIT="Technology / IT",e.Clinician="Clinician",e.PatientEducation="Patient Education",e.Innovation="Innovation",e.PhysicalTherapist="Physical Therapist",e.OccupationalTherapist="Occupational Therapist",e.PersonalTrainer="Personal Trainer",e.Librarian="Librarian",e.SalesTraining="Sales Training",e.ProfessionalEducation="Professional Education",e}({}),B=function(e){return e.Individual="individual",e.Team="team",e}({});Object.values($.a);const q=Object.values(E),G=Object.values(L),W=[Q.Student,Q.TeacherFaculty,Q.PatientCaregiver,Q.Clinician,Q.IndustryProfessional],J=[Q.Student,Q.Faculty,Q.Administrator,Q.Librarian],H={[$.a.PersonalUse]:[],[$.a.Education]:q,[$.a.Business]:G},K={[L.MedicalDevice]:[Q.SalesTraining,Q.ProfessionalEducation,Q.InstructionalDesigner,Q.ProductManager,Q.Marketing],[L.Pharma]:[Q.SalesTraining,Q.ProfessionalEducation,Q.ScientificCommunications,Q.InstructionalDesigner,Q.ProductManager,Q.Marketing],[L.ConsumerHealth]:[Q.ProductManager,Q.Editor,Q.ContentManager,Q.DesignUserExperience,Q.Developer,Q.Executive],[L.EdTraining]:[Q.ProductManager,Q.Editor,Q.ContentManager,Q.DesignUserExperience,Q.Developer,Q.Executive],[L.DigitalHealth]:[Q.ProductManager,Q.DesignUserExperience,Q.Developer,Q.TechnologyIT,Q.Executive],[L.ProviderHospitalPractice]:[Q.Clinician,Q.Administrator,Q.TechnologyIT,Q.PatientEducation,Q.Innovation]},Y={[$.a.PersonalUse]:[],[$.a.Education]:["<100","101-499","500+"],[$.a.Business]:["1-25","26-100","101-500","500+"]},Z={[$.a.PersonalUse]:{title:"",content:[]},[$.a.Education]:{title:"",content:[]},[$.a.Business]:{title:"",content:[]}};function X(e){return e.map(e=>({value:e}))}function ee(e,t,n){const i=t?"":"Try for free";return{account_setting:"account_purpose",label:ie(e,t)+"How are you planning to use the BioDigital Human?",hint:t?"Help us personalize your experience.":"We'll set up your experience accordingly.",responses:[{value:$.a.PersonalUse,label:"For myself",tag:t?"":"Free for 1 Person",icon:"user",content:Z[$.a.PersonalUse]},{value:$.a.Education,label:"With my students",tag:i,icon:"user-friends",content:Z[$.a.Education]},{value:$.a.Business,label:"With my business team",tag:i,icon:"user-friends",content:Z[$.a.Business]}].filter(e=>n===B.Individual?e.value===$.a.PersonalUse:n!==B.Team||e.value!==$.a.PersonalUse),other:!1}}function te(e){const t=function(e){return e===$.a.Education?q:e===$.a.Business?G:[]}(e);return e===$.a.Education?{account_setting:"account_field",label:"What level of education?",hint:"Help us personalize your experience.",responses:X(t),other:!0}:e===$.a.Business?{account_setting:"account_field",label:"What field do you work in?",hint:"Help us personalize your experience.",responses:X(t),other:!0}:void 0}function ne(e,t,n,i,c=!1){return{account_setting:"account_role",label:(c?ie(e,i):"")+"What role best describes you?",hint:"Help us personalize your experience.",responses:X(function(e,t){switch(e){case $.a.Education:return J;case $.a.Business:return K[t]||[];case $.a.PersonalUse:default:return W}}(t,n)),other:!0}}function ie(e,t){const{first_name:n}=e;return t?`Welcome back, ${n}! `:""}const ce=[[["","content-panel-tags",""]],[["","content-panel-actions",""]],"*"],oe=["[content-panel-tags]","[content-panel-actions]","*"];let se=(()=>{class e{constructor(){this.label=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-content-panel"]],inputs:{label:"label"},ngContentSelectors:oe,decls:11,vars:1,consts:[[1,"content-panel"],[1,"content-panel__header"],[1,"content-panel__label"],[1,"text-18","text-semibold","mr-2"],[1,"content-panel__actions"],[1,"content-panel__body"]],template:function(e,t){1&e&&(x.lc(ce),x.Vb(0,"div",0),x.Vb(1,"div",1),x.Vb(2,"div",2),x.Vb(3,"span",3),x.Pc(4),x.Ub(),x.Vb(5,"div"),x.kc(6),x.Ub(),x.Ub(),x.Vb(7,"div",4),x.kc(8,1),x.Ub(),x.Ub(),x.Vb(9,"div",5),x.kc(10,2),x.Ub(),x.Ub()),2&e&&(x.Db(4),x.Qc(t.label))},styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.content-panel__header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-flow:wrap;margin-bottom:20px;min-height:36px}.content-panel__label[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap}.content-panel__actions[_ngcontent-%COMP%]{flex-grow:0}"]}),e})();function ae(e,t){1&e&&x.kc(0,2,["*ngIf","mode === 'view'"])}function re(e,t){1&e&&x.kc(0,3,["*ngIf","mode === 'edit'"])}function le(e,t){1&e&&x.kc(0,4,["*ngIf","mode === 'view'"])}function pe(e,t){1&e&&(x.Tb(0),x.kc(1,5),x.Sb())}const ue=[[["","panel-view-tags",""]],"*",[["","panel-view-actions",""]],[["","panel-edit-actions",""]],[["","panel-view",""]],[["","panel-edit",""]]],be=["[panel-view-tags]","*","[panel-view-actions]","[panel-edit-actions]","[panel-view]","[panel-edit]"];let ge=(()=>{class e{constructor(e){this.changeDetectorRef=e,this._mode="view"}get mode(){return this._mode}set mode(e){e!==this.mode&&(this._mode=e,this.changeDetectorRef.markForCheck())}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-panel"]],inputs:{label:"label",mode:"mode"},ngContentSelectors:be,decls:9,vars:5,consts:[[3,"label"],["content-panel-tags",""],["content-panel-actions",""],[4,"ngIf"]],template:function(e,t){1&e&&(x.lc(ue),x.Vb(0,"app-content-panel",0),x.Tb(1,1),x.kc(2),x.Sb(),x.Vb(3,"div",2),x.Nc(4,ae,1,0,"ng-content",3),x.Nc(5,re,1,0,"ng-content",3),x.Ub(),x.kc(6,1),x.Nc(7,le,1,0,"ng-content",3),x.Nc(8,pe,2,0,"ng-container",3),x.Ub()),2&e&&(x.mc("label",t.label),x.Db(4),x.mc("ngIf","view"===t.mode),x.Db(1),x.mc("ngIf","edit"===t.mode),x.Db(2),x.mc("ngIf","view"===t.mode),x.Db(1),x.mc("ngIf","edit"===t.mode))},directives:[se,i.p],styles:[""],changeDetection:0}),e})();var de=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua And Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas The",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bonaire, Sint Eustatius and Saba",code:"BQ"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo The Democratic Republic Of The",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire (Ivory Coast)",code:"CI"},{name:"Croatia (Hrvatska)",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cura\xe7ao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"East Timor",code:"TL"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji Islands",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia The",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey and Alderney",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Honduras",code:"HN"},{name:"Hong Kong S.A.R.",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea North",code:"KP"},{name:"Korea South",code:"KR"},{name:"Kosovo",code:"XK"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Laos",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macau S.A.R.",code:"MO"},{name:"Macedonia",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Man (Isle of)",code:"IM"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia",code:"FM"},{name:"Moldova",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands The",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua new Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn Island",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russia",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts And Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent And The Grenadines",code:"VC"},{name:"Saint-Barthelemy",code:"BL"},{name:"Saint-Martin (French part)",code:"MF"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard And Jan Mayen Islands",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syria",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad And Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks And Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Vatican City State (Holy See)",code:"VA"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands (British)",code:"VG"},{name:"Virgin Islands (US)",code:"VI"},{name:"Wallis And Futuna Islands",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],he=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],me=n("dNgK"),fe=n("IlST");const xe=[[["","card-header",""]],[["","card-content",""]]],ve=["[card-header]","[card-content]"];let Pe=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-summary-card"]],ngContentSelectors:ve,decls:6,vars:2,consts:[[1,"card"],[1,"text-semibold","text-14"],["cardHeader",""],[1,"text-12"]],template:function(e,t){if(1&e&&(x.lc(xe),x.Vb(0,"div",0),x.Vb(1,"div",1,2),x.kc(3),x.Ub(),x.Vb(4,"div",3),x.kc(5,1),x.Ub(),x.Ub()),2&e){const e=x.yc(2);x.Db(1),x.Hb("mb-3",e.children.length)}},styles:[".card[_ngcontent-%COMP%]{border:1px solid #d7e0ea;border-radius:4px;padding:16px 20px}.card__header[_ngcontent-%COMP%]{color:#1c2a3f}.card__content[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),e})();var _e=n("Y8QC"),Ce=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ye=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Oe(e,t){if(1&e&&(x.Vb(0,"div",35),x.Pc(1),x.Ub()),2&e){const e=x.gc();x.Db(1),x.Rc(" ",e.name," ")}}function Ue(e,t){if(1&e&&(x.Vb(0,"option",42),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.value),x.Db(1),x.Rc(" ",e.value," ")}}function Me(e,t){if(1&e&&x.Qb(0,"input",43),2&e){const e=x.gc(3);x.mc("placeholder",null==e.accountFieldQuestion?null:e.accountFieldQuestion.hint)}}function we(e,t){if(1&e&&(x.Vb(0,"app-form-field",37),x.Vb(1,"select",38),x.Vb(2,"optgroup",39),x.Nc(3,Ue,2,2,"option",29),x.Vb(4,"option",40),x.Pc(5,"Other"),x.Ub(),x.Ub(),x.Ub(),x.Nc(6,Me,1,1,"input",41),x.Ub()),2&e){const e=x.gc(2);x.mc("label",e.selectedPurpose===e.accountPurposeEnum.Education?"Education":"Field"),x.Db(2),x.mc("label",e.accountFieldQuestion.label),x.Db(1),x.mc("ngForOf",e.accountFieldQuestion.responses),x.Db(3),x.mc("ngIf",e.otherFieldEnabled)}}function ke(e,t){if(1&e&&x.Nc(0,we,7,4,"app-form-field",36),2&e){const e=x.gc();x.mc("ngIf",e.accountFieldQuestion)}}function De(e,t){if(1&e&&(x.Vb(0,"option",42),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.value),x.Db(1),x.Rc(" ",e.value," ")}}function Ve(e,t){if(1&e&&x.Qb(0,"input",43),2&e){const e=x.gc(3);x.mc("placeholder",null==e.accountRoleQuestion?null:e.accountRoleQuestion.hint)}}function Se(e,t){if(1&e&&(x.Vb(0,"app-form-field",45),x.Vb(1,"select",46),x.Vb(2,"optgroup",39),x.Nc(3,De,2,2,"option",29),x.Vb(4,"option",40),x.Pc(5,"Other"),x.Ub(),x.Ub(),x.Ub(),x.Nc(6,Ve,1,1,"input",41),x.Ub()),2&e){const e=x.gc(2);x.Db(2),x.mc("label",e.accountRoleQuestion.label),x.Db(1),x.mc("ngForOf",e.accountRoleQuestion.responses),x.Db(3),x.mc("ngIf",e.otherRoleEnabled)}}function Re(e,t){if(1&e&&x.Nc(0,Se,7,3,"app-form-field",44),2&e){const e=x.gc();x.mc("ngIf",e.accountRoleQuestion)}}function Te(e,t){1&e&&x.Rb(0)}function je(e,t){if(1&e&&(x.Tb(0),x.Nc(1,Te,1,0,"ng-container",47),x.Sb()),2&e){x.gc();const e=x.yc(37);x.Db(1),x.mc("ngTemplateOutlet",e)}}function Ie(e,t){if(1&e&&(x.Vb(0,"option",42),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.value),x.Db(1),x.Rc(" ",e.value," ")}}function ze(e,t){if(1&e&&(x.Vb(0,"app-form-field",51),x.Vb(1,"select",52),x.Vb(2,"optgroup",39),x.Nc(3,Ie,2,2,"option",29),x.Ub(),x.Ub(),x.Ub()),2&e){const e=x.gc(2);x.Db(2),x.mc("label",e.accountPurposeQuestion.label),x.Db(1),x.mc("ngForOf",e.accountPurposeQuestion.responses)}}function Ne(e,t){1&e&&x.Rb(0)}function Ae(e,t){if(1&e&&(x.Tb(0),x.Nc(1,Ne,1,0,"ng-container",47),x.Sb()),2&e){x.gc(2);const e=x.yc(37);x.Db(1),x.mc("ngTemplateOutlet",e)}}function Fe(e,t){1&e&&x.Rb(0)}function Le(e,t){1&e&&x.Rb(0)}function Ee(e,t){if(1&e&&(x.Tb(0),x.Nc(1,Fe,1,0,"ng-container",47),x.Nc(2,Le,1,0,"ng-container",47),x.Sb()),2&e){x.gc(2);const e=x.yc(37),t=x.yc(35);x.Db(1),x.mc("ngTemplateOutlet",e),x.Db(1),x.mc("ngTemplateOutlet",t)}}function $e(e,t){1&e&&x.Rb(0)}function Qe(e,t){1&e&&x.Rb(0)}function Be(e,t){if(1&e&&(x.Tb(0),x.Nc(1,$e,1,0,"ng-container",47),x.Nc(2,Qe,1,0,"ng-container",47),x.Sb()),2&e){x.gc(2);const e=x.yc(35),t=x.yc(37);x.Db(1),x.mc("ngTemplateOutlet",e),x.Db(1),x.mc("ngTemplateOutlet",t)}}function qe(e,t){if(1&e&&(x.Nc(0,ze,4,2,"app-form-field",48),x.Tb(1,49),x.Nc(2,Ae,2,1,"ng-container",50),x.Nc(3,Ee,3,2,"ng-container",50),x.Nc(4,Be,3,2,"ng-container",50),x.Sb()),2&e){const e=x.gc();x.mc("ngIf",e.accountPurposeQuestion),x.Db(1),x.mc("ngSwitch",e.selectedPurpose),x.Db(1),x.mc("ngSwitchCase",e.accountPurposeEnum.PersonalUse),x.Db(1),x.mc("ngSwitchCase",e.accountPurposeEnum.Education),x.Db(1),x.mc("ngSwitchCase",e.accountPurposeEnum.Business)}}function Ge(e,t){if(1&e&&(x.Vb(0,"option",42),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.name),x.Db(1),x.Rc(" ",e.name," ")}}function We(e,t){if(1&e&&(x.Vb(0,"option",42),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.code),x.Db(1),x.Rc(" ",e.name," ")}}let Je=(()=>{class e{constructor(e,t,n,i,c){this.store=e,this.actions=t,this.formBuilder=n,this.changeDetectorRef=i,this.snackBar=c,this.countries=de,this.states=he,this.accountPurposeEnum=$.a,this.name="",this.address="",this.demographic="",this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initAccountSettingsListeners(),this.initProfileListeners(),this.formatProfileFields()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({first_name:["",z.C.required],last_name:["",z.C.required],city:[""],state:[""],country:[""],account_settings:this.formBuilder.group({account_purpose:this.formBuilder.group({value:[""],description:[""]}),account_role:this.formBuilder.group({value:[""],description:[""]}),account_field:this.formBuilder.group({value:[""],description:[""]})})})}initAccountSettingsListeners(){const e=this.form.get("account_settings"),t=e.get("account_purpose"),n=e.get("account_field"),i=e.get("account_role"),c=(e,t)=>Object(r.isEqual)(e,t);t.valueChanges.pipe(Object(A.a)(c),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=e.value,c=this.store.selectSnapshot(h.a.getUserProfile);this.setQuestions(c,t),n.patchValue({value:"",description:""}),i.patchValue({value:"",description:""}),this.changeDetectorRef.markForCheck()}),n.valueChanges.pipe(Object(A.a)(c),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=e.value,n=ne(this.store.selectSnapshot(h.a.getUserProfile),this.selectedPurpose,t,!0);n.responses.length>0&&(this.accountRoleQuestion=n),this.changeDetectorRef.markForCheck()}),Object(N.b)(t.valueChanges,n.valueChanges,i.valueChanges).pipe(Object(A.a)(c),Object(d.a)(this.ngUnsubscribe)).subscribe(([e,t,c])=>{const o=e.value,s=t.value,a=c.value;n.enable(),i.enable(),o!==$.a.Business||s?o!==$.a.Education||a||n.disable():i.disable(),this.selectedPurpose=o,this.selectedField=s,this.selectedRole=a,this.otherFieldEnabled="Other"===s,this.otherRoleEnabled="Other"===a,this.changeDetectorRef.markForCheck()})}initProfileListeners(){this.userProfile$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{Object(r.isNil)(this.accountPurposeQuestion)&&this.setQuestions(e,$.a.PersonalUse);const t=this.getUserAccountSettings();this.setFormValues(e,t),this.changeDetectorRef.markForCheck()}),this.actions.pipe(Object(a.l)(j.rb),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new j.u(!0)),this.form.markAsPristine(),this.panel.mode="view"}),this.actions.pipe(Object(a.l)(j.qb),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("There was an error updating your user profile.")})}formatProfileFields(){this.userProfile$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.formatProfile(e),this.changeDetectorRef.markForCheck()})}handleEditClick(){this.panel.mode="edit"}handleCancelClick(){this.setFormValues(this.store.selectSnapshot(h.a.getUserProfile),this.getUserAccountSettings()),this.form.markAsPristine(),this.panel.mode="view"}handleSaveClick(){this.saveProfile()}getUserAccountSettings(){const e=this.store.selectSnapshot(h.a.getUserAccountSettings),t=this.store.selectSnapshot(I.a.getOrganizationAccountSettings);return Object(F.b)([...e,...t])}saveProfile(){const e=this.getUserProfileFromValues(this.form.value);this.store.dispatch(new j.pb(e)),this.changeDetectorRef.markForCheck()}setQuestions(e,t){this.accountPurposeQuestion=ee(e,!1),this.accountFieldQuestion=te(t),this.accountRoleQuestion=ne(e,t,"",!1)}setFormValues(e,t){this.form.patchValue(Object.assign(Object.assign({},e),{account_settings:t}))}getUserProfileFromValues(e){const{account_settings:t}=e,n=Object(F.a)(t||{},!0);return Object.assign(Object.assign({},e),{account_settings:n})}formatProfile(e){const{first_name:t,last_name:n,city:i,state:c,country:o}=e;this.name=this.formatValues([t,n]," "),this.address=this.formatValues([i,c,o],", ");const s=this.getUserAccountSettings();this.demographic=this.formatDemographic(s)}formatDemographic(e){const t=e.account_field||{value:"",description:""},n=e.account_role||{value:"",description:""};return this.formatValues(["Other"===t.value?t.description:t.value,"Other"===n.value?n.description:n.value]," ")}formatValues(e,t=""){return e.filter(Boolean).join(t)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(x.i),x.Pb(me.b))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-profile"]],viewQuery:function(e,t){if(1&e&&x.Jc(ge,!0),2&e){let e;x.xc(e=x.dc())&&(t.panel=e.first)}},decls:62,vars:23,consts:[["label","Profile"],["panel",""],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["panel-view",""],["card-header","",4,"ngIf"],["card-content",""],["panel-edit","",1,"profile"],[1,"profile__notice","mb-7","text-12"],["href","https://www.biodigital.com/privacy","target","_blank",1,"text-link","text-underline"],["href","https://support.biodigital.com/hc/en-us/articles/360054841794-What-information-does-BioDigital-collect-about-me-","target","_blank",1,"text-link","text-underline"],[3,"formGroup"],["label","Email","theme","light",1,"mb-2"],["type","email",1,"input",3,"value","disabled"],[1,"flex","mb-2"],["label","First Name","theme","light",1,"flex-grow","flex-50","pr-2"],["type","email","formControlName","first_name",1,"input"],["label","Last Name","theme","light",1,"flex-grow","flex-50","pl-2"],["type","email","formControlName","last_name",1,"input"],["formGroupName","account_settings"],["fieldTemplate",""],["roleTemplate",""],[4,"ngIf","ngIfElse"],["standardUserTemplate",""],["label","City","theme","light",1,"flex-grow","flex-50","pr-2"],["type","text","formControlName","city",1,"input"],["label","State","theme","light",1,"flex-grow","flex-50","pl-2"],["formControlName","state",1,"input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["label","Country","theme","light",1,"pb-2"],["placeholder","Select Country","formControlName","country",1,"input"],[1,"flex","justify-end","mt-4"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"disabled","click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"],["card-header",""],["theme","light","class","pb-2","formGroupName","account_field",3,"label",4,"ngIf"],["theme","light","formGroupName","account_field",1,"pb-2",3,"label"],["placeholder","Select Field","formControlName","value",1,"input"],[3,"label"],["value","Other"],["type","text","class","input mt-2","formControlName","description",3,"placeholder",4,"ngIf"],[3,"value"],["type","text","formControlName","description",1,"input","mt-2",3,"placeholder"],["label","Role","theme","light","class","pb-2","formGroupName","account_role",4,"ngIf"],["label","Role","theme","light","formGroupName","account_role",1,"pb-2"],["placeholder","Select Role","formControlName","value",1,"input"],[4,"ngTemplateOutlet"],["label","Purpose","theme","light","class","pb-2","formGroupName","account_purpose",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["label","Purpose","theme","light","formGroupName","account_purpose",1,"pb-2"],["placeholder","Select Purpose","formControlName","value",1,"input"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0,1),x.Vb(2,"span",2),x.Vb(3,"button",3),x.cc("click",(function(){return t.handleEditClick()})),x.Pc(4," Edit "),x.Ub(),x.Ub(),x.Vb(5,"div",4),x.Vb(6,"app-account-summary-card"),x.Nc(7,Oe,2,1,"div",5),x.Vb(8,"div",6),x.Vb(9,"div"),x.Pc(10),x.hc(11,"async"),x.Ub(),x.Vb(12,"div"),x.Pc(13),x.Ub(),x.Vb(14,"div"),x.Pc(15),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Vb(16,"div",7),x.Vb(17,"div",8),x.Pc(18," This information is optional, but by entering it we can provide a more personal experience, and we will always keep it secure. See our "),x.Vb(19,"a",9),x.Pc(20,"privacy policy"),x.Ub(),x.Pc(21," for details. "),x.Vb(22,"a",10),x.Pc(23,"What other personal information does BioDigital store?"),x.Ub(),x.Ub(),x.Vb(24,"form",11),x.Vb(25,"app-form-field",12),x.Qb(26,"input",13),x.hc(27,"async"),x.Ub(),x.Vb(28,"div",14),x.Vb(29,"app-form-field",15),x.Qb(30,"input",16),x.Ub(),x.Vb(31,"app-form-field",17),x.Qb(32,"input",18),x.Ub(),x.Ub(),x.Tb(33,19),x.Nc(34,ke,1,1,"ng-template",null,20,x.Oc),x.Nc(36,Re,1,1,"ng-template",null,21,x.Oc),x.Nc(38,je,2,1,"ng-container",22),x.hc(39,"async"),x.Nc(40,qe,5,5,"ng-template",null,23,x.Oc),x.Sb(),x.Vb(42,"div",14),x.Vb(43,"app-form-field",24),x.Qb(44,"input",25),x.Ub(),x.Vb(45,"app-form-field",26),x.Vb(46,"select",27),x.Vb(47,"option",28),x.Pc(48,"-- Select a State --"),x.Ub(),x.Nc(49,Ge,2,2,"option",29),x.Ub(),x.Ub(),x.Ub(),x.Vb(50,"app-form-field",30),x.Vb(51,"select",31),x.Vb(52,"option",28),x.Pc(53,"-- Select a Country --"),x.Ub(),x.Nc(54,We,2,2,"option",29),x.Ub(),x.Ub(),x.Vb(55,"div",32),x.Vb(56,"button",33),x.cc("click",(function(){return t.handleCancelClick()})),x.hc(57,"async"),x.Pc(58," Cancel "),x.Ub(),x.Vb(59,"button",34),x.cc("click",(function(){return t.handleSaveClick()})),x.hc(60,"async"),x.Pc(61," Save Changes "),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Ub()),2&e){const e=x.yc(41);let n=null,i=null;x.Db(7),x.mc("ngIf",t.name),x.Db(3),x.Qc(null==(n=x.ic(11,13,t.userProfile$))?null:n.email),x.Db(3),x.Qc(t.demographic),x.Db(2),x.Qc(t.address),x.Db(9),x.mc("formGroup",t.form),x.Db(2),x.mc("value",null==(i=x.ic(27,15,t.userProfile$))?null:i.email)("disabled",!0),x.Db(12),x.mc("ngIf",x.ic(39,17,t.hasOrganization$))("ngIfElse",e),x.Db(11),x.mc("ngForOf",t.states),x.Db(5),x.mc("ngForOf",t.countries),x.Db(2),x.mc("disabled",x.ic(57,19,t.profileUpdating$)),x.Db(3),x.mc("disabled",!t.form.dirty||t.form.invalid||x.ic(60,21,t.profileUpdating$))}},directives:[ge,fe.a,Pe,i.p,z.E,z.s,z.j,_e.a,z.c,z.r,z.i,z.k,z.B,z.v,z.D,i.o,i.u,i.r,i.s],pipes:[i.b],styles:[".profile__notice[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),Ce([Object(a.e)(h.a.getUserProfile),ye("design:type",p.a)],e.prototype,"userProfile$",void 0),Ce([Object(a.e)(I.a.hasOrganization),ye("design:type",p.a)],e.prototype,"hasOrganization$",void 0),Ce([Object(a.e)(h.a.getProfileUpdating),ye("design:type",p.a)],e.prototype,"profileUpdating$",void 0),e})();var He=n("f0Cb"),Ke=n("Es8U"),Ye=n("AytR"),Ze=n("zP1m"),Xe=n("kmnG"),et=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function tt(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",10),x.cc("click",(function(){return x.Cc(e),x.gc().handleEditClick()})),x.Pc(1," Edit "),x.Ub()}}function nt(e,t){1&e&&(x.Tb(0),x.Pc(1," You've signed in with with your Google Account. Please visit your Google Account to manage your password. "),x.Sb())}function it(e,t){1&e&&(x.Tb(0),x.Pc(1," Change the password for your account. "),x.Sb())}function ct(e,t){if(1&e&&(x.Vb(0,"div"),x.Vb(1,"div",11),x.Vb(2,"app-message-toggle",12),x.Pc(3),x.Ub(),x.Ub(),x.Ub()),2&e){const e=x.gc();x.Db(2),x.mc("shown",e.successMessage),x.Db(1),x.Rc(" ",e.successMessage," ")}}function ot(e,t){if(1&e&&(x.Vb(0,"div",27),x.Vb(1,"mat-error"),x.Pc(2),x.Ub(),x.Ub()),2&e){const e=x.gc(3);x.Db(2),x.Rc(" New password must be ",e.minPasswordLength," characters or longer. ")}}function st(e,t){1&e&&(x.Vb(0,"div",27),x.Vb(1,"mat-error"),x.Pc(2," Passwords must match. "),x.Ub(),x.Ub())}function at(e,t){if(1&e){const e=x.Wb();x.Vb(0,"form",15),x.Vb(1,"div",11),x.Vb(2,"app-message-toggle",16),x.Pc(3),x.Ub(),x.Ub(),x.Vb(4,"app-form-field",17),x.Qb(5,"input",18),x.Ub(),x.Vb(6,"app-form-field",19),x.Qb(7,"input",20),x.Nc(8,ot,3,1,"div",21),x.Ub(),x.Vb(9,"app-form-field",22),x.Qb(10,"input",23),x.Nc(11,st,3,0,"div",21),x.Ub(),x.Vb(12,"div",24),x.Vb(13,"button",25),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleCancelClick()})),x.Pc(14," Cancel "),x.Ub(),x.Vb(15,"button",26),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleSaveClick()})),x.Pc(16," Save Password "),x.Ub(),x.Ub(),x.Ub()}if(2&e){const e=x.gc(2);x.mc("formGroup",e.form),x.Db(2),x.mc("shown",!e.form.touched&&e.errorMessage),x.Db(1),x.Rc(" ",e.errorMessage," "),x.Db(5),x.mc("ngIf",null==e.form.errors?null:e.form.errors.invalidLength),x.Db(3),x.mc("ngIf",null==e.form.errors?null:e.form.errors.passwordsMismatch),x.Db(2),x.mc("disabled",e.updating),x.Db(2),x.mc("disabled",e.form.invalid||e.updating)}}function rt(e,t){if(1&e&&(x.Vb(0,"div",13),x.Pc(1),x.Ub(),x.Nc(2,at,17,7,"form",14)),2&e){const e=x.gc();x.Db(1),x.Rc(" Your password must be ",e.minPasswordLength," characters or longer. "),x.Db(1),x.mc("ngIf",!e.updated)}}let lt=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions=t,this.formBuilder=n,this.changeDetectorRef=i,this.minPasswordLength=Ye.a.minPasswordLength,this.updating=!1,this.updated=!1,this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initUpdateListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({current_password:["",z.C.required],new_password:["",z.C.required],confirm_new_password:["",z.C.required]},{validators:this.passwordValidator})}initUpdateListeners(){this.actions.pipe(Object(a.l)(j.mb),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.updating=!0,this.changeDetectorRef.markForCheck()}),this.actions.pipe(Object(a.l)(j.ob),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.form.markAsUntouched(),this.updating=!1,this.updated=!0,this.errorMessage="",this.successMessage="Your password was successfully updated.",this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.resetForm(),this.resetState(),this.panel.mode="view"},5e3)}),this.actions.pipe(Object(a.l)(j.nb),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.form.markAsUntouched(),this.updating=!1,this.updated=!1,this.errorMessage=Object(Ke.a)(e.error)||"Your password could not be updated. Please try again.",this.successMessage="",this.changeDetectorRef.markForCheck()})}handleEditClick(){this.panel.mode="edit"}handleCancelClick(){this.resetForm(),this.resetState(),this.panel.mode="view"}handleSaveClick(){this.updatePassword()}resetForm(){this.form.reset()}resetState(){this.updating=!1,this.updated=!1,this.errorMessage="",this.successMessage=""}updatePassword(){const{current_password:e,new_password:t,confirm_new_password:n}=this.form.value;this.store.dispatch(new j.mb(e,t,n))}passwordValidator(e){const{new_password:t,confirm_new_password:n}=e.value,i=t&&n&&t!==n,c=t&&t.length<Ye.a.minPasswordLength;return i||c?{passwordsMismatch:i,invalidLength:c}:null}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-password"]],viewQuery:function(e,t){if(1&e&&x.Jc(ge,!0),2&e){let e;x.xc(e=x.dc())&&(t.panel=e.first)}},decls:13,vars:9,consts:[["label","Password"],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click",4,"ngIf"],["panel-view",""],[1,"text-14",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["panel-edit",""],[4,"ngIf","ngIfElse"],["changePasswordTemplate",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],[1,"mv-6"],["type","message",3,"shown"],[1,"text-14","mb-7"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","error","icon","exclamation-circle",3,"shown"],["label","Current Password","theme","light",1,"mb-2"],["type","password","formControlName","current_password",1,"input"],["label","New Password","theme","light",1,"mb-2"],["type","password","formControlName","new_password",1,"input"],["class","mt-1",4,"ngIf"],["label","Confirm New Password","theme","light",1,"mb-2"],["type","password","formControlName","confirm_new_password",1,"input"],[1,"flex","justify-end","mt-4"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"disabled","click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"],[1,"mt-1"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0),x.Vb(1,"div",1),x.Nc(2,tt,2,0,"button",2),x.hc(3,"async"),x.Ub(),x.Vb(4,"div",3),x.Vb(5,"div",4),x.hc(6,"async"),x.Nc(7,nt,2,0,"ng-container",5),x.Nc(8,it,2,0,"ng-container",6),x.Ub(),x.Ub(),x.Vb(9,"div",7),x.Nc(10,ct,4,2,"div",8),x.Nc(11,rt,3,2,"ng-template",null,9,x.Oc),x.Ub(),x.Ub()),2&e){const e=x.yc(12);let n=null,i=null;x.Db(2),x.mc("ngIf",!(null!=(n=x.ic(3,5,t.userProfile$))&&n.is_third_party)),x.Db(3),x.mc("ngSwitch",null==(i=x.ic(6,7,t.userProfile$))?null:i.third_party_provider_name),x.Db(2),x.mc("ngSwitchCase","Google"),x.Db(3),x.mc("ngIf",t.updated)("ngIfElse",e)}},directives:[ge,i.p,i.r,i.s,i.t,fe.a,Ze.a,z.E,z.s,z.j,_e.a,z.c,z.r,z.i,Xe.b],pipes:[i.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(h.a.getUserProfile),et("design:type",p.a)],e.prototype,"userProfile$",void 0),e})();var pt=n("L6yT"),ut=n("3E0/"),bt=n("aTd2"),gt=n("odcc"),dt=n("TEF2"),ht=n("lR5k"),mt=n("PmOP");function ft(e,t){1&e&&x.Rb(0)}function xt(e,t){if(1&e&&(x.Vb(0,"div",7),x.Pc(1," This subscription has been purchased through iTunes. "),x.Nc(2,ft,1,0,"ng-container",8),x.Ub()),2&e){x.gc(2);const e=x.yc(7);x.Db(2),x.mc("ngTemplateOutlet",e)}}function vt(e,t){1&e&&x.Rb(0)}function Pt(e,t){if(1&e&&(x.Vb(0,"div",7),x.Pc(1," This subscription has been purchased through Google Play. "),x.Nc(2,vt,1,0,"ng-container",8),x.Ub()),2&e){x.gc(2);const e=x.yc(7);x.Db(2),x.mc("ngTemplateOutlet",e)}}function _t(e,t){if(1&e&&(x.Vb(0,"div",6),x.Nc(1,xt,3,1,"div",4),x.Nc(2,Pt,3,1,"div",4),x.Ub()),2&e){const e=x.gc(2);x.mc("ngSwitch",e.subscription.subscription_provider),x.Db(1),x.mc("ngSwitchCase","apple"),x.Db(1),x.mc("ngSwitchCase","google")}}function Ct(e,t){1&e&&(x.Vb(0,"div",7),x.Pc(1," Premium access will remain active until your renewal date passes. "),x.Ub())}function yt(e,t){1&e&&(x.Vb(0,"div",7),x.Pc(1," Please visit your iTunes account to manage or cancel your subscription. "),x.Ub())}function Ot(e,t){1&e&&(x.Vb(0,"div",7),x.Pc(1," Please visit your Google Play account to manage your subscription. "),x.Ub())}function Ut(e,t){if(1&e&&(x.Vb(0,"div",7),x.Pc(1," Your subscription has been canceled. "),x.Tb(2,2),x.Nc(3,Ct,2,0,"div",4),x.Nc(4,yt,2,0,"div",4),x.Nc(5,Ot,2,0,"div",4),x.Sb(),x.Ub()),2&e){const e=x.gc(2);x.Db(2),x.mc("ngSwitch",e.subscription.subscription_provider),x.Db(1),x.mc("ngSwitchCase","braintree"),x.Db(1),x.mc("ngSwitchCase","apple"),x.Db(1),x.mc("ngSwitchCase","google")}}function Mt(e,t){1&e&&x.Rb(0)}function wt(e,t){if(1&e&&(x.Vb(0,"div",7),x.Pc(1," Your payment is past due. "),x.Nc(2,Mt,1,0,"ng-container",8),x.Ub()),2&e){x.gc();const e=x.yc(7);x.Db(2),x.mc("ngTemplateOutlet",e)}}function kt(e,t){1&e&&x.Rb(0)}function Dt(e,t){if(1&e&&(x.Vb(0,"div",7),x.Pc(1," Your subscription has been canceled or expired. "),x.Nc(2,kt,1,0,"ng-container",8),x.Ub()),2&e){x.gc();const e=x.yc(7);x.Db(2),x.mc("ngTemplateOutlet",e)}}function Vt(e,t){1&e&&(x.Vb(0,"div",7),x.Pc(1," Please update your payment info for premium access. "),x.Ub())}function St(e,t){1&e&&(x.Vb(0,"div",7),x.Pc(1," Please visit your iTunes account to manage or cancel your subscription. "),x.Ub())}function Rt(e,t){1&e&&(x.Vb(0,"div",7),x.Pc(1," Please visit your Google Play account to manage your subscription. "),x.Ub())}function Tt(e,t){if(1&e&&(x.Tb(0,2),x.Nc(1,Vt,2,0,"div",4),x.Nc(2,St,2,0,"div",4),x.Nc(3,Rt,2,0,"div",4),x.Sb()),2&e){const e=x.gc(2);x.mc("ngSwitch",e.subscription.subscription_provider),x.Db(1),x.mc("ngSwitchCase","braintree"),x.Db(1),x.mc("ngSwitchCase","apple"),x.Db(1),x.mc("ngSwitchCase","google")}}function jt(e,t){if(1&e&&(x.Vb(0,"div",1),x.Tb(1,2),x.Nc(2,_t,3,3,"div",3),x.Nc(3,Ut,6,4,"div",4),x.Nc(4,wt,3,1,"div",4),x.Nc(5,Dt,3,1,"div",4),x.Sb(),x.Nc(6,Tt,4,4,"ng-template",null,5,x.Oc),x.Ub()),2&e){const e=x.gc();x.Db(1),x.mc("ngSwitch",e.subscription.subscription_status),x.Db(1),x.mc("ngSwitchCase","active"),x.Db(1),x.mc("ngSwitchCase","canceled"),x.Db(1),x.mc("ngSwitchCase","past due"),x.Db(1),x.mc("ngSwitchCase","expired")}}let It=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-status-message"]],inputs:{subscription:"subscription"},decls:1,vars:1,consts:[["class","text-14",4,"ngIf"],[1,"text-14"],[3,"ngSwitch"],["class","mb-1",3,"ngSwitch",4,"ngSwitchCase"],["class","mb-1",4,"ngSwitchCase"],["providerTpl",""],[1,"mb-1",3,"ngSwitch"],[1,"mb-1"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&x.Nc(0,jt,8,5,"div",0),2&e&&x.mc("ngIf",t.subscription)},directives:[i.p,i.r,i.s,i.u],styles:[""],changeDetection:0}),e})();function zt(e,t){if(1&e&&(x.Vb(0,"div",8),x.Vb(1,"div",9),x.Pc(2),x.Ub(),x.Vb(3,"div",10),x.Pc(4),x.Ub(),x.Ub()),2&e){const e=x.gc();x.Db(2),x.Rc(" $",e.subscription.billing_details.next_billing_period_amount," "),x.Db(2),x.Rc(" ",e.calcPaymentFrequency(e.subscription.plan_id)," ")}}function Nt(e,t){if(1&e&&(x.Tb(0),x.Vb(1,"div",11),x.Pc(2,"Renewal Date"),x.Ub(),x.Vb(3,"div",12),x.Tb(4),x.Pc(5),x.hc(6,"date"),x.Sb(),x.Ub(),x.Sb()),2&e){const e=t.$implicit,n=x.gc();x.Db(5),x.Sc(" ",x.jc(6,2,e,"longDate")," (in ",n.calcDaysRemaining(e)," days) ")}}let At=(()=>{class e{constructor(){this.calcDaysRemaining=bt.a,this.calcPaymentFrequency=bt.b}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-subscription-summary"]],inputs:{subscription:"subscription"},decls:10,vars:4,consts:[["card-header","",1,"summary","flex","flex-row","justify-between"],[1,"summary__title","flex-auto"],[1,"text-16","text-semibold","text-uppercase"],["class","flex flex-column items-center",4,"ngIf"],["card-content",""],[4,"ngIf"],[1,"mv-1"],[3,"subscription"],[1,"flex","flex-column","items-center"],[1,"text-18","text-semibold"],[1,"summary__pricing","text-11"],[1,"text-12","text-dim"],[1,"text-14"]],template:function(e,t){1&e&&(x.Vb(0,"app-account-summary-card"),x.Vb(1,"div",0),x.Vb(2,"div",1),x.Vb(3,"div",2),x.Pc(4),x.Ub(),x.Ub(),x.Nc(5,zt,5,2,"div",3),x.Ub(),x.Vb(6,"div",4),x.Nc(7,Nt,7,5,"ng-container",5),x.Vb(8,"div",6),x.Qb(9,"app-account-status-message",7),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(4),x.Rc(" ",null==t.subscription?null:t.subscription.subscription_type_display," "),x.Db(1),x.mc("ngIf",null==t.subscription?null:t.subscription.billing_details),x.Db(2),x.mc("ngIf",null==t.subscription||null==t.subscription.billing_details?null:t.subscription.billing_details.next_billing_date_time),x.Db(2),x.mc("subscription",t.subscription))},directives:[Pe,i.p,It],pipes:[i.e],styles:[".summary__pricing[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),e})();var Ft,Lt=n("cp0P"),Et=n("Cfvw"),$t=n("lz5t");!function(e){e.lazyLoadScript=function(e){return new Promise((t,n)=>{const{src:i}=e;if(document.querySelector(`script[src="${i}"]`))t();else{const c=document.createElement("script");e&&Object.entries(e).forEach(([e,t])=>{"src"!==e&&(c.attributes[e]=t)}),c.src=i,c.onload=()=>t(),c.onerror=()=>n(),document.body.appendChild(c)}})}}(Ft||(Ft={}));const Qt=["cartElRef"],Bt=[[["","cart-header",""]],[["","cart-footer",""]]],qt=["[cart-header]","[cart-footer]"],Gt=[{src:"https://www.paypalobjects.com/api/checkout.js","data-version-4":"","log-level":"warn"},{src:"https://js.braintreegateway.com/web/dropin/1.24.0/js/dropin.min.js"},{src:"https://js.braintreegateway.com/web/3.73.1/js/client.min.js"},{src:"https://js.braintreegateway.com/web/3.73.1/js/data-collector.min.js"}];let Wt=(()=>{class e{constructor(e,t){this.subscriptionService=e,this.changeRef=t,this.loading=!0,this.cartError=new x.p,this.paymentMethodRequestable=!1,this.paymentOptionSelected=!1,this.ngUnsubscribe=new l.a}ngOnInit(){}ngAfterViewInit(){this.initCheckout()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}requestPayment(){return new p.a(e=>{this.braintreeInstance||e.error(),this.braintreeInstance.requestPaymentMethod((t,n)=>{if(t)e.error(t);else{const t=Object(r.get)(n,"nonce"),i=Object(r.get)(this.dataCollectorInstance,"deviceData");t&&i?(e.next({nonce:t,device_data:i}),e.complete()):e.error()}})})}initCheckout(){this.loading=!0,Object(Lt.a)(Gt.map(e=>Object(Et.a)(Ft.lazyLoadScript(e)))).pipe(Object(g.a)(()=>this.subscriptionService.getBraintreeClientToken()),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.initBraintee(e)})}initBraintee(e){const t=window.braintree,n={authorization:e,container:this.cartElRef.nativeElement,displayName:"BioDigital Inc.",paypal:{flow:"vault",buttonStyle:{color:"gold",shape:"rect",size:"responsive",label:"checkout"}}},i=this;t.client.create({authorization:e},(e,c)=>{if(e)return i.cartError.emit("An error occurred initializing checkout"),void i.changeRef.markForCheck();t.dataCollector.create({client:c,paypal:!0},(e,t)=>{if(e)return i.cartError.emit("An error occurred initializing your payment options"),void i.changeRef.markForCheck();this.dataCollectorInstance=t}),t.dropin.create(n,(e,t)=>{if(i.braintreeInstance=t,i.loading=!1,e)return i.cartError.emit("An error occurred initializing your payment options:  "+e.message),void i.changeRef.markForCheck();t.isPaymentMethodRequestable()&&(i.paymentMethodRequestable=!0),t.on("paymentMethodRequestable",()=>{i.paymentMethodRequestable=!0,i.changeRef.markForCheck()}),t.on("noPaymentMethodRequestable",()=>{i.paymentMethodRequestable=!1,i.changeRef.markForCheck()}),t.on("paymentOptionSelected",(function(){i.paymentOptionSelected=!0,i.changeRef.markForCheck()})),i.changeRef.markForCheck()})})}}return e.\u0275fac=function(t){return new(t||e)(x.Pb($t.a),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-subscription-cart"]],viewQuery:function(e,t){if(1&e&&x.Jc(Qt,!0),2&e){let e;x.xc(e=x.dc())&&(t.cartElRef=e.first)}},outputs:{cartError:"cartError"},ngContentSelectors:qt,decls:8,vars:0,consts:[[1,"checkout"],[1,"checkout__header"],[1,"checkout__container"],["cartElRef",""],[1,"checkout__footer","mv-4"]],template:function(e,t){1&e&&(x.lc(Bt),x.Vb(0,"div",0),x.Vb(1,"div",1),x.kc(2),x.Ub(),x.Vb(3,"div",2),x.Qb(4,"div",null,3),x.Ub(),x.Vb(6,"div",4),x.kc(7,1),x.Ub(),x.Ub())},styles:[""],changeDetection:0}),e})();var Jt=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ht=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Kt(e,t){if(1&e){const e=x.Wb();x.Vb(0,"a",3),x.cc("click",(function(){return x.Cc(e),x.gc().handleEnterCodeClick()})),x.Pc(1," Have a promo code? "),x.Ub()}}function Yt(e,t){if(1&e){const e=x.Wb();x.Tb(0),x.Vb(1,"div",6),x.Vb(2,"em",7),x.Pc(3),x.hc(4,"async"),x.Ub(),x.Pc(5," Promo Code applied. "),x.Vb(6,"span",8),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleRemoveClick()})),x.Pc(7,"Remove"),x.Ub(),x.Ub(),x.Sb()}if(2&e){const e=x.gc(2);let t=null;x.Db(3),x.Rc('"',null==(t=x.ic(4,1,e.selectedPlan$))||null==t.discount?null:t.discount.id,'"')}}function Zt(e,t){if(1&e){const e=x.Wb();x.Tb(0),x.Vb(1,"div"),x.Vb(2,"app-form-field",9),x.Qb(3,"input",10),x.Ub(),x.Vb(4,"div",11),x.Vb(5,"button",12),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleCancelPromoClick()})),x.Pc(6," Cancel "),x.Ub(),x.Vb(7,"button",13),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleApplyPromoClick()})),x.hc(8,"async"),x.Pc(9," Apply Promo Code "),x.Ub(),x.Ub(),x.Ub(),x.Sb()}if(2&e){const e=x.gc(2);x.Db(7),x.mc("disabled",e.form.invalid||x.ic(8,1,e.checking$))}}function Xt(e,t){if(1&e&&(x.Tb(0,4),x.Nc(1,Yt,8,3,"ng-container",5),x.hc(2,"async"),x.Nc(3,Zt,10,3,"ng-container",5),x.hc(4,"async"),x.Sb()),2&e){const e=x.gc();x.mc("formGroup",e.form),x.Db(1),x.mc("ngIf",x.ic(2,3,e.discountApplied$)),x.Db(2),x.mc("ngIf",!x.ic(4,5,e.discountApplied$))}}let en=(()=>{class e{constructor(e,t,n,i,c){this.store=e,this.actions=t,this.formBuilder=n,this.snackBar=i,this.changeRef=c,this.ngUnsubscribe=new l.a}get discountApplied$(){return this.selectedPlan$.pipe(Object(R.a)(e=>e&&e.discount))}ngOnInit(){this.initForm(),this.initCodeListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({code:["",z.C.required]})}initCodeListeners(){this.actions.pipe(Object(a.l)(gt.i),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const{plan:t}=e;!Object(r.isNil)(t.discount)||this.snackBar.open("Invalid promo code entered, please try again.")}),this.actions.pipe(Object(a.l)(gt.h),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("There was an error applying the promo code, please try again.")})}handleEnterCodeClick(){this.applyingCode=!0}handleCancelPromoClick(){this.applyingCode=!1,this.changeRef.markForCheck()}handleApplyPromoClick(){const e=this.store.selectSnapshot(dt.a.getSelectedPlan),{code:t}=this.form.value;this.store.dispatch(new gt.g(e.plan_id,t))}handleRemoveClick(){this.clearPromoCode(),this.store.dispatch(new gt.m),this.applyingCode=!1,this.changeRef.markForCheck()}clearPromoCode(){this.form.patchValue({code:""})}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(me.b),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-subscription-promo"]],decls:5,vars:6,consts:[[1,"promo"],["appEventFence","","class","text-link text-underline text-14",3,"click",4,"ngIf"],[3,"formGroup",4,"ngIf"],["appEventFence","",1,"text-link","text-underline","text-14",3,"click"],[3,"formGroup"],[4,"ngIf"],[1,"text-14"],[1,"text-medium"],[1,"text-link","text-underline",3,"click"],["label","Promo Code"],["type","text","formControlName","code",1,"input"],[1,"flex","justify-end","mt-4"],["type","reset","app-button","","buttonTheme","light","buttonType","default",1,"mr-2",3,"click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Nc(1,Kt,2,0,"a",1),x.hc(2,"async"),x.Nc(3,Xt,5,7,"ng-container",2),x.hc(4,"async"),x.Ub()),2&e&&(x.Db(1),x.mc("ngIf",!t.applyingCode&&!x.ic(2,2,t.discountApplied$)),x.Db(2),x.mc("ngIf",t.applyingCode||x.ic(4,4,t.discountApplied$)))},directives:[i.p,mt.a,z.s,z.j,_e.a,z.c,z.r,z.i,fe.a],pipes:[i.b],styles:[""],changeDetection:0}),Jt([Object(a.e)(dt.a.getCheckingCode),Ht("design:type",p.a)],e.prototype,"checking$",void 0),Jt([Object(a.e)(dt.a.getSelectedPlan),Ht("design:type",p.a)],e.prototype,"selectedPlan$",void 0),e})();var tn=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},nn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const cn=["cart"];function on(e,t){if(1&e&&(x.Qb(0,"div",12),x.hc(1,"markdown")),2&e){const e=x.gc().$implicit;x.mc("innerHTML",x.ic(1,1,e.order_summary_text),x.Dc)}}function sn(e,t){if(1&e&&(x.Vb(0,"div"),x.Qb(1,"app-account-subscription-summary",10),x.Nc(2,on,2,3,"div",11),x.Ub()),2&e){const e=t.$implicit,n=x.gc();x.Db(1),x.mc("subscription",n.convertPlanToSubscription(e)),x.Db(1),x.mc("ngIf",e.order_summary_text)}}function an(e,t){if(1&e){const e=x.Wb();x.Vb(0,"app-account-subscription-cart",null,13),x.Vb(2,"div",14),x.Qb(3,"app-account-subscription-promo"),x.Ub(),x.Vb(4,"div",15),x.Vb(5,"button",16),x.cc("click",(function(){return x.Cc(e),x.gc().handleCancelClick()})),x.Pc(6," Cancel "),x.Ub(),x.Vb(7,"button",17),x.cc("click",(function(){return x.Cc(e),x.gc().handlePurchaseClick()})),x.hc(8,"async"),x.Pc(9," Purchase "),x.Ub(),x.Ub(),x.Ub()}if(2&e){const e=x.yc(1),t=x.gc();x.Db(7),x.mc("disabled",!e.paymentMethodRequestable||x.ic(8,1,t.buying$))}}let rn=(()=>{class e{constructor(e,t,n,i,c,o,s){this.router=e,this.activatedRoute=t,this.store=n,this.actions=i,this.snackBar=c,this.markdownService=o,this.dialogService=s,this.convertPlanToSubscription=bt.c,this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initSubscriptionListeners(),this.store.dispatch(new gt.j)}ngAfterViewInit(){this.initNavigation()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.plans$.pipe(Object(u.a)(e=>e.length>0),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new gt.o(e[0]))})}initSubscriptionListeners(){this.actions.pipe(Object(a.l)(gt.c),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleCheckoutSuccess(e)}),this.actions.pipe(Object(a.l)(gt.b),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleCheckoutFailure(e.error)}),this.actions.pipe(Object(a.k)(j.sb),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.router.navigate(["/login/verify"])})}initNavigation(){this.activatedRoute.queryParams.pipe(Object(ut.a)(0),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleNavigation(e)})}handleNavigation(e){const{section:t,mode:n}=e;"subscription"===t&&"edit"===n&&(this.panel.mode="edit")}handleLearnMoreClick(){this.dialogService.openUpgradeDialog()}handleCancelClick(){this.panel.mode="view"}handleUpgradeClick(){Ye.a.native?this.dialogService.openUpgradeDialog():this.panel.mode="edit"}handlePurchaseClick(){this.cart.requestPayment().pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.purchaseSubscription(e)},e=>{this.snackBar.open("There was an error requesting your purchase.")})}purchaseSubscription(e){const{nonce:t,device_data:n}=e,{plan_id:i,discount:c}=this.store.selectSnapshot(dt.a.getSelectedPlan);this.store.dispatch(new gt.a({payment_method_nonce:t,device_data:n,plan_id:i,agree_with_tos:!0,discountcode:c?c.id:""}))}handleCheckoutSuccess(e){this.snackBar.open("You've Successfully upgraded to a premium account");const{discountcode:t}=e.request;t&&this.store.dispatch(new j.S({type:"promocode",id:t})),window.location.href="/account/profile"}handleCheckoutFailure(e){const t=Object(Ke.a)(e)||"Sorry, but an issue has occurred purchasing your subscription. Please try again or contact us.";this.snackBar.open(t)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(c.e),x.Pb(c.a),x.Pb(a.h),x.Pb(a.b),x.Pb(me.b),x.Pb(ht.c),x.Pb(v.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-free-user-subscription"]],viewQuery:function(e,t){if(1&e&&(x.Jc(ge,!0),x.Vc(cn,!0)),2&e){let e;x.xc(e=x.dc())&&(t.panel=e.first),x.xc(e=x.dc())&&(t.cart=e.first)}},decls:22,vars:4,consts:[["label","Subscription"],["panel",""],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["panel-view","",1,"text-14"],[1,"mb-4"],[1,"text-bold"],["appEventFence","",1,"text-link","text-underline",3,"click"],["panel-edit",""],[4,"ngIf"],[3,"subscription"],["class","mv-2 text-14 html",3,"innerHTML",4,"ngIf"],[1,"mv-2","text-14","html",3,"innerHTML"],["cart",""],["cart-header","",1,"mt-4","mb-8"],["cart-footer","",1,"flex","justify-end"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"click"],["type","submit","app-button","","buttonTheme","light","buttonType","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0,1),x.Vb(2,"span",2),x.Vb(3,"button",3),x.cc("click",(function(){return t.handleUpgradeClick()})),x.Pc(4," Upgrade "),x.Ub(),x.Ub(),x.Vb(5,"div",4),x.Vb(6,"div",5),x.Pc(7,"You have a free "),x.Vb(8,"em",6),x.Pc(9,"Personal"),x.Ub(),x.Pc(10," account."),x.Ub(),x.Vb(11,"div"),x.Pc(12," As a free user you currently have access to our basic features. Upgrade to a "),x.Vb(13,"em",6),x.Pc(14,"Personal Plus"),x.Ub(),x.Pc(15," plan to unlock full access. "),x.Vb(16,"a",7),x.cc("click",(function(){return t.handleLearnMoreClick()})),x.Pc(17,"Learn more"),x.Ub(),x.Ub(),x.Ub(),x.Vb(18,"div",8),x.Nc(19,sn,3,2,"div",9),x.hc(20,"async"),x.Nc(21,an,10,3,"app-account-subscription-cart",9),x.Ub(),x.Ub()),2&e){const e=x.yc(1);x.Db(19),x.mc("ngIf",x.ic(20,2,t.selectedPlan$)),x.Db(2),x.mc("ngIf","edit"===e.mode)}},directives:[ge,fe.a,mt.a,i.p,At,Wt,en],pipes:[i.b,ht.b],styles:[""],changeDetection:0}),tn([Object(a.e)(dt.a.getPlans),nn("design:type",p.a)],e.prototype,"plans$",void 0),tn([Object(a.e)(dt.a.getSelectedPlan),nn("design:type",p.a)],e.prototype,"selectedPlan$",void 0),tn([Object(a.e)(dt.a.getBuying),nn("design:type",p.a)],e.prototype,"buying$",void 0),e})();var ln=n("0IaG"),pn=n("bSwM"),un=n("XoCC"),bn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function gn(e,t){1&e&&(x.Vb(0,"div"),x.Vb(1,"div",12),x.Pc(2," Are you sure you want to "),x.Vb(3,"em",13),x.Pc(4,"cancel"),x.Ub(),x.Pc(5," your subscription? "),x.Ub(),x.Vb(6,"ul",14),x.Vb(7,"li",15),x.Pc(8," After cancelling your BioDigital Human subscription, your premium benefits will continue until the subscription end date. "),x.Ub(),x.Vb(9,"li",15),x.Pc(10,"You will not be billed after your subscription end date."),x.Ub(),x.Ub(),x.Vb(11,"div",16),x.Vb(12,"mat-checkbox",17),x.Vb(13,"span",18),x.Pc(14,"I confirm I want to cancel my subscription."),x.Ub(),x.Ub(),x.Ub(),x.Ub())}function dn(e,t){1&e&&(x.Vb(0,"div",19),x.Qb(1,"app-spinner",20),x.Vb(2,"div",21),x.Pc(3,"Cancelling your subscription..."),x.Ub(),x.Ub())}let hn=(()=>{class e{constructor(e,t,n,i,c){this.store=e,this.actions=t,this.formBuilder=n,this.dialogRef=i,this.snackbar=c,this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({confirm:[!1,z.C.requiredTrue]})}initListeners(){this.actions.pipe(Object(a.l)(gt.f),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackbar.open("Subscription successfully cancelled."),this.store.dispatch(new j.u(!0)),this.dialogRef.close()}),this.actions.pipe(Object(a.l)(gt.e),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=Object(Ke.a)(e.error)||"There was an error cancelling your subscription.";this.snackbar.open(t)})}handleCancelClick(){this.dialogRef.close()}handleCancelSubscriptionClick(){this.store.dispatch(new gt.d)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(ln.g),x.Pb(me.b))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-cancel-subscription-dialog"]],decls:21,vars:11,consts:[[1,"dialog",3,"formGroup"],["mat-dialog-title",""],[1,"flex","flex-row","justify-between"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",3,"click"],["icon","times","size","lg"],[1,"text-14","mv-4","mb-9"],[4,"ngIf"],["class","dialog__cancel flex flex-column items-center",4,"ngIf"],["mat-dialog-actions",""],[1,"flex","justify-end"],["app-button","","buttonTheme","light","buttonType","default",1,"mr-2",3,"click"],["app-button","","buttonType","primary",3,"disabled","click"],[1,"mb-6"],[1,"text-bold"],[1,"dialog__list"],[1,"mv-2"],[1,"mt-4"],["formControlName","confirm"],[2,"white-space","normal"],[1,"dialog__cancel","flex","flex-column","items-center"],["size","large"],[1,"mt-3","text-11"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"div"),x.Vb(2,"div",1),x.Vb(3,"div",2),x.Vb(4,"h1"),x.Pc(5,"Cancel Subscription"),x.Ub(),x.Vb(6,"button",3),x.cc("click",(function(){return t.handleCancelClick()})),x.Qb(7,"app-icon",4),x.Ub(),x.Ub(),x.Ub(),x.Qb(8,"mat-divider"),x.Vb(9,"div",5),x.Nc(10,gn,15,0,"div",6),x.hc(11,"async"),x.Nc(12,dn,4,0,"div",7),x.hc(13,"async"),x.Ub(),x.Vb(14,"div",8),x.Vb(15,"div",9),x.Vb(16,"button",10),x.cc("click",(function(){return t.handleCancelClick()})),x.Pc(17," Cancel "),x.Ub(),x.Vb(18,"button",11),x.cc("click",(function(){return t.handleCancelSubscriptionClick()})),x.hc(19,"async"),x.Pc(20," Yes, Cancel Subscription "),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.mc("formGroup",t.form),x.Db(6),x.Eb("aria-label","Close"),x.Db(4),x.mc("ngIf",!x.ic(11,5,t.cancelling$)),x.Db(2),x.mc("ngIf",x.ic(13,7,t.cancelling$)),x.Db(6),x.mc("disabled",t.form.invalid||x.ic(19,9,t.cancelling$)))},directives:[z.s,z.j,ln.h,fe.a,y.a,He.a,i.p,ln.c,pn.a,z.r,z.i,un.a],pipes:[i.b],styles:[".dialog[_ngcontent-%COMP%]{max-width:520px}.dialog__list[_ngcontent-%COMP%]{list-style-type:disc;margin:0;padding-left:40px}"],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(dt.a.getCancelling),bn("design:type",p.a)],e.prototype,"cancelling$",void 0),e})();var mn=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},fn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const xn=["cart"];function vn(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",9),x.cc("click",(function(){return x.Cc(e),x.gc().handleManageClick()})),x.Pc(1),x.hc(2,"async"),x.Ub()}if(2&e){const e=x.gc();x.Db(1),x.Rc(" ",x.ic(2,1,e.isFreeTrial$)?"Upgrade":"Update"," ")}}function Pn(e,t){1&e&&(x.Tb(0),x.Qb(1,"app-spinner",10),x.Sb())}function _n(e,t){if(1&e&&(x.Vb(0,"div",13),x.Vb(1,"div"),x.Pc(2," You have access to Premium features through a "),x.Vb(3,"em",14),x.Pc(4,"free trial"),x.Ub(),x.Pc(5,". "),x.Ub(),x.Vb(6,"div"),x.Pc(7),x.hc(8,"date"),x.hc(9,"async"),x.Ub(),x.Ub()),2&e){const e=x.gc(2);let t=null;x.Db(7),x.Rc(" Your trial ends on ",x.jc(8,1,null==(t=x.ic(9,4,e.subscription$))?null:t.paid_through_date_time,"longDate"),". ")}}function Cn(e,t){if(1&e){const e=x.Wb();x.Vb(0,"a",18),x.cc("click",(function(){return x.Cc(e),x.gc(3).handleCancelSubscriptionClick()})),x.Pc(1," Cancel Subscription? "),x.Ub()}}function yn(e,t){if(1&e&&(x.Qb(0,"app-account-subscription-summary",15),x.hc(1,"async"),x.Vb(2,"div",16),x.Nc(3,Cn,2,0,"a",17),x.hc(4,"async"),x.Ub()),2&e){const e=x.gc(2),t=x.yc(1);x.mc("subscription",x.ic(1,2,e.subscription$)),x.Db(3),x.mc("ngIf",!x.ic(4,4,e.isCanceled$)&&"edit"!==t.mode)}}function On(e,t){if(1&e&&(x.Nc(0,_n,10,6,"div",11),x.hc(1,"async"),x.Nc(2,yn,5,6,"ng-template",null,12,x.Oc)),2&e){const e=x.yc(3),t=x.gc();x.mc("ngIf",x.ic(1,2,t.isFreeTrial$))("ngIfElse",e)}}function Un(e,t){if(1&e){const e=x.Wb();x.Vb(0,"app-account-subscription-cart",null,19),x.Vb(2,"div",20),x.Vb(3,"button",21),x.cc("click",(function(){return x.Cc(e),x.gc().handleCancelClick()})),x.Pc(4," Cancel "),x.Ub(),x.Vb(5,"button",22),x.cc("click",(function(){return x.Cc(e),x.gc().handleUpdatePaymentClick()})),x.hc(6,"async"),x.Pc(7," Update Payment Method "),x.Ub(),x.Ub(),x.Ub()}if(2&e){const e=x.yc(1),t=x.gc();x.Db(5),x.mc("disabled",!e.paymentMethodRequestable||x.ic(6,1,t.updating$))}}let Mn=(()=>{class e{constructor(e,t,n,i){this.store=e,this.actions=t,this.snackBar=n,this.dialog=i,this.ngUnsubscribe=new l.a}ngOnInit(){this.initSubscriptionListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initSubscriptionListeners(){this.actions.pipe(Object(a.l)(gt.r),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("Your subscription has been successfully updated."),this.store.dispatch(new j.u(!0)),this.panel.mode="view"}),this.actions.pipe(Object(a.l)(gt.q),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=Object(Ke.a)(e.error)||"There was an error updating your payment method. Please try again.";this.snackBar.open(t)})}handleCancelClick(){this.panel.mode="view"}handleCancelSubscriptionClick(){this.dialog.open(hn)}handleManageClick(){this.panel.mode="edit"}handleUpdatePaymentClick(){this.cart.requestPayment().pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new gt.p(e))},e=>{this.snackBar.open("There was an error updating your payment method.")})}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(me.b),x.Pb(ln.b))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-premium-braintree"]],viewQuery:function(e,t){if(1&e&&(x.Jc(ge,!0),x.Vc(xn,!0)),2&e){let e;x.xc(e=x.dc())&&(t.panel=e.first),x.xc(e=x.dc())&&(t.cart=e.first)}},decls:12,vars:8,consts:[["label","Subscription"],["panel",""],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click",4,"ngIf"],[1,"account","mt-4","mb-8"],[4,"ngIf","ngIfElse"],["loadedSubscriptionTpl",""],["panel-edit",""],[4,"ngIf"],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["size","huge"],["class","text-14",4,"ngIf","ngIfElse"],["premiumSummaryTpl",""],[1,"text-14"],[1,"text-bold"],[3,"subscription"],[1,"mv-3"],["appEventFence","","class","text-link text-underline text-14",3,"click",4,"ngIf"],["appEventFence","",1,"text-link","text-underline","text-14",3,"click"],["cart",""],["cart-footer","",1,"flex","justify-end"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0,1),x.Vb(2,"span",2),x.Nc(3,vn,3,3,"button",3),x.hc(4,"async"),x.Ub(),x.Vb(5,"div",4),x.Nc(6,Pn,2,0,"ng-container",5),x.hc(7,"async"),x.Nc(8,On,4,4,"ng-template",null,6,x.Oc),x.Ub(),x.Vb(10,"div",7),x.Nc(11,Un,8,3,"app-account-subscription-cart",8),x.Ub(),x.Ub()),2&e){const e=x.yc(1),n=x.yc(9);x.Db(3),x.mc("ngIf",!x.ic(4,4,t.isCanceled$)),x.Db(3),x.mc("ngIf",x.ic(7,6,t.loading$))("ngIfElse",n),x.Db(5),x.mc("ngIf","edit"===e.mode)}},directives:[ge,i.p,fe.a,un.a,At,mt.a,Wt],pipes:[i.b,i.e],styles:[""],changeDetection:0}),mn([Object(a.e)(h.a.getUserProfile),fn("design:type",p.a)],e.prototype,"userProfile$",void 0),mn([Object(a.e)(dt.a.getSubscription),fn("design:type",p.a)],e.prototype,"subscription$",void 0),mn([Object(a.e)(h.a.getLoading),fn("design:type",p.a)],e.prototype,"loading$",void 0),mn([Object(a.e)(dt.a.getUpdating),fn("design:type",p.a)],e.prototype,"updating$",void 0),mn([Object(a.e)(dt.a.isFreeTrial),fn("design:type",p.a)],e.prototype,"isFreeTrial$",void 0),mn([Object(a.e)(dt.a.isCanceled),fn("design:type",p.a)],e.prototype,"isCanceled$",void 0),e})();var wn=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},kn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Dn=(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new l.a}get isBraintreeSubscription$(){return this.subscriptionProvider$.pipe(Object(R.a)(e=>"braintree"===e))}get subscriptionProvider$(){return this.subscription$.pipe(Object(R.a)(e=>e?e.subscription_provider:""))}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-premium-user-subscription"]],viewQuery:function(e,t){if(1&e&&x.Jc(ge,!0),2&e){let e;x.xc(e=x.dc())&&(t.panel=e.first)}},decls:5,vars:3,consts:[["label","Subscription"],["panel",""],[1,"account","mt-4"],[3,"subscription"]],template:function(e,t){1&e&&(x.Vb(0,"app-account-panel",0,1),x.Vb(2,"div",2),x.Qb(3,"app-account-subscription-summary",3),x.hc(4,"async"),x.Ub(),x.Ub()),2&e&&(x.Db(3),x.mc("subscription",x.ic(4,1,t.subscription$)))},directives:[ge,At],pipes:[i.b],styles:[""],changeDetection:0}),wn([Object(a.e)(h.a.getUserProfile),kn("design:type",p.a)],e.prototype,"userProfile$",void 0),wn([Object(a.e)(dt.a.getSubscription),kn("design:type",p.a)],e.prototype,"subscription$",void 0),wn([Object(a.e)(dt.a.isFreeTrial),kn("design:type",p.a)],e.prototype,"isFreeTrial$",void 0),e})();var Vn=n("/EfZ"),Sn=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Rn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Tn(e,t){if(1&e&&(x.Vb(0,"div",6),x.Vb(1,"app-message-toggle",7),x.hc(2,"async"),x.hc(3,"async"),x.Pc(4),x.hc(5,"async"),x.hc(6,"async"),x.hc(7,"date"),x.hc(8,"async"),x.Ub(),x.Ub()),2&e){const e=x.gc();x.Db(1),x.mc("type",x.ic(2,6,e.isTrialExpired$)?"warning":"notification")("icon",x.ic(3,8,e.isTrialExpired$)?"exclamation-triangle":"info-circle")("shown",!0),x.Db(3),x.Tc(" Your ",x.ic(5,10,e.isTrial$)?"free trial":"subscription"," ",x.ic(6,12,e.isTrialExpired$)?"expired":"expires"," on ",x.jc(7,14,x.ic(8,17,e.subscriptionEndDate$),"longDate"),". ")}}let jn=(()=>{class e{constructor(e){this.zendeskService=e}ngOnInit(){}handleContactClick(){this.zendeskService.showWidget()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(Vn.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-premium-team-subscription"]],decls:16,vars:8,consts:[["label","Subscription"],[1,"text-14"],["class","mb-4",4,"ngIf"],[1,"text-bold"],[1,"mt-2"],[1,"text-link","text-underline",3,"click"],[1,"mb-4"],[3,"type","icon","shown"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0),x.Vb(1,"div",1),x.Nc(2,Tn,9,19,"div",2),x.hc(3,"async"),x.hc(4,"async"),x.Vb(5,"div"),x.Pc(6," You have a "),x.Vb(7,"em",3),x.Pc(8),x.hc(9,"async"),x.Ub(),x.Pc(10," plan. "),x.Ub(),x.Vb(11,"div",4),x.Pc(12," For more information or questions regarding your subscription, please contact our "),x.Vb(13,"a",5),x.cc("click",(function(){return t.handleContactClick()})),x.Pc(14,"Customer Experience"),x.Ub(),x.Pc(15," team. "),x.Ub(),x.Ub(),x.Ub()),2&e){let e=null;x.Db(2),x.mc("ngIf",x.ic(3,2,t.isTrial$)||x.ic(4,4,t.isTrialExpired$)),x.Db(6),x.Qc(null==(e=x.ic(9,6,t.organization$))?null:e.subscription.type)}},directives:[ge,i.p,Ze.a],pipes:[i.b,i.e],styles:[""],changeDetection:0}),Sn([Object(a.e)(I.a.isTrial),Rn("design:type",p.a)],e.prototype,"isTrial$",void 0),Sn([Object(a.e)(I.a.isTrialExpired),Rn("design:type",p.a)],e.prototype,"isTrialExpired$",void 0),Sn([Object(a.e)(I.a.getSubscriptionEndDate),Rn("design:type",p.a)],e.prototype,"subscriptionEndDate$",void 0),Sn([Object(a.e)(I.a.getOrganization),Rn("design:type",p.a)],e.prototype,"organization$",void 0),e})();var In=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},zn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Nn(e,t){1&e&&x.Qb(0,"app-account-free-user-subscription")}function An(e,t){1&e&&(x.Tb(0),x.Qb(1,"app-account-premium-braintree"),x.Sb())}function Fn(e,t){1&e&&x.Qb(0,"app-account-premium-user-subscription")}function Ln(e,t){if(1&e&&(x.Tb(0),x.Nc(1,An,2,0,"ng-container",2),x.Nc(2,Fn,1,0,"ng-template",null,3,x.Oc),x.Sb()),2&e){const e=x.yc(3),t=x.gc();x.Db(1),x.mc("ngIf",t.isBraintreeSubscription)("ngIfElse",e)}}function En(e,t){1&e&&x.Qb(0,"app-account-premium-team-subscription")}let $n=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.userType=pt.a,this.isBraintreeSubscription=!1,this.ngUnsubscribe=new l.a}ngOnInit(){this.initProfileCheck()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initProfileCheck(){this.userProfile$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)),Object(A.a)((e,t)=>Object(r.isEqual)(e,t)),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.isBraintreeSubscription=e.subscription&&"braintree"===e.subscription.subscription_provider,this.changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-subscription"]],decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],["manageExternalTmp",""]],template:function(e,t){1&e&&(x.Tb(0,0),x.hc(1,"async"),x.Nc(2,Nn,1,0,"app-account-free-user-subscription",1),x.Nc(3,Ln,4,2,"ng-container",1),x.Nc(4,En,1,0,"app-account-premium-team-subscription",1),x.Sb()),2&e&&(x.mc("ngSwitch",x.ic(1,4,t.userType$)),x.Db(2),x.mc("ngSwitchCase",t.userType.Free),x.Db(1),x.mc("ngSwitchCase",t.userType.Premium),x.Db(1),x.mc("ngSwitchCase",t.userType.Team))},directives:[i.r,i.s,rn,i.p,Mn,Dn,jn],pipes:[i.b],styles:[""],changeDetection:0}),In([Object(a.e)(h.a.getUserProfile),zn("design:type",p.a)],e.prototype,"userProfile$",void 0),In([Object(a.e)(h.a.getUserType),zn("design:type",p.a)],e.prototype,"userType$",void 0),e})();var Qn=n("rKJn"),Bn=n("kqJf"),qn=n("JkaL"),Gn=n("wSC8"),Wn=n("Y+XQ"),Jn=n("BbIy");function Hn(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div",7),x.cc("click",(function(t){x.Cc(e);const n=x.gc();return n.handleAppToggleClick(n.app,t)})),x.Vb(1,"div",8),x.Qb(2,"app-icon",9),x.Ub(),x.Vb(3,"div",10),x.Pc(4,"Default"),x.Ub(),x.Ub()}}let Kn=(()=>{class e{constructor(){this.compact=!1,this.appSelected=new x.p,this.appToggleSelected=new x.p}ngOnInit(){}handleSelectAppClick(e,t){t.stopPropagation(),this.appSelected.emit(e)}handleAppToggleClick(e,t){t.stopPropagation(),this.appToggleSelected.emit(e)}formatPlatforms(e){return e.map(e=>e.display_name).join(", ")}formatPlatformTypes(e){return e.map(e=>e.type===Qn.a.Mobile?"API Bundle IDs":"Domains").join(", ")}formatDomains(e){return e.map(e=>e.value).join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-app"]],inputs:{app:"app",selected:"selected",compact:"compact"},outputs:{appSelected:"appSelected",appToggleSelected:"appToggleSelected"},decls:16,vars:10,consts:[[1,"app",3,"click"],[1,"app__header","flex","flex-row","justify-between"],[1,"text-14","text-semibold"],["class","app__badge flex flex-row items-center",3,"click",4,"ngIf"],[1,"text-12","text-hint"],[1,"app__settings","mt-4","text-12"],[1,"text-semibold"],[1,"app__badge","flex","flex-row","items-center",3,"click"],[1,"app__badge-icon","mr-2","text-11"],["icon","check"],[1,"text-13","text-bold","text-uppercase"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.cc("click",(function(e){return t.handleSelectAppClick(t.app,e)})),x.Vb(1,"div",1),x.Vb(2,"div",2),x.Pc(3),x.Ub(),x.Nc(4,Hn,5,0,"div",3),x.Ub(),x.Vb(5,"div",4),x.Pc(6),x.Ub(),x.Vb(7,"div",5),x.Vb(8,"div",6),x.Pc(9,"API Key"),x.Ub(),x.Vb(10,"div"),x.Pc(11),x.Ub(),x.Vb(12,"div",6),x.Pc(13),x.Ub(),x.Vb(14,"div"),x.Pc(15),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Hb("app--selected",t.selected)("app--compact",t.compact),x.Db(3),x.Rc(" ",t.app.app_name," "),x.Db(1),x.mc("ngIf",t.selected),x.Db(2),x.Rc(" ",t.formatPlatforms(t.app.app_platform)," "),x.Db(5),x.Qc(t.app.app_apikey),x.Db(2),x.Qc(t.formatPlatformTypes(t.app.app_platform)),x.Db(2),x.Qc(t.formatDomains(t.app.app_domains)))},directives:[i.p,y.a],styles:[".app[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d7e0ea;border-radius:4px;padding:20px}.app__settings[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 80%;gap:8px 0}.app__badge[_ngcontent-%COMP%]{color:#2d72dc}.app__badge-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff;background-color:#2d72dc}.app--selected[_ngcontent-%COMP%]{border:2px solid #2d72dc}.app--compact[_ngcontent-%COMP%]{padding:12px}.app--compact[_ngcontent-%COMP%]   .app__settings[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0}),e})();var Yn=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Zn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Xn(e,t){if(1&e&&x.Qb(0,"app-tag",9),2&e){const e=x.gc(2);x.mc("label",e.premiumOnlyTag)}}function ei(e,t){if(1&e&&(x.Tb(0,7),x.Nc(1,Xn,1,1,"app-tag",8),x.hc(2,"async"),x.Sb()),2&e){const e=x.gc();let t=null;x.Db(1),x.mc("ngIf",!(null!=(t=x.ic(2,1,e.userProfile$))&&t.developer_account_valid_plan))}}function ti(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",10),x.cc("click",(function(){return x.Cc(e),x.gc().handleManageAppsClick()})),x.Qb(1,"app-icon",11),x.Pc(2," Manage "),x.Ub()}}function ni(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div",20),x.Vb(1,"app-account-app",21),x.cc("appSelected",(function(t){return x.Cc(e),x.gc(3).handleSelectAppSelected(t,!1)}))("appToggleSelected",(function(t){return x.Cc(e),x.gc(3).handleSelectAppSelected(t,!0)})),x.hc(2,"async"),x.hc(3,"async"),x.Ub(),x.Ub()}if(2&e){const e=t.$implicit,n=x.gc(3);let i=null;x.Db(1),x.mc("app",e)("compact",x.ic(2,3,n.breakpoint$)<n.breakPoints.Medium)("selected",e.id===(null==(i=x.ic(3,5,n.selectedUserApp$))?null:i.id))}}function ii(e,t){if(1&e){const e=x.Wb();x.Tb(0),x.Vb(1,"div",13),x.Pc(2,"Select a default application:"),x.Ub(),x.Vb(3,"div",14),x.Vb(4,"div",15),x.Pc(5),x.Ub(),x.Vb(6,"div"),x.Vb(7,"app-sort",16),x.cc("sortChange",(function(t){return x.Cc(e),x.gc(2).handleSort(t)})),x.Ub(),x.Ub(),x.Ub(),x.Nc(8,ni,4,7,"div",17),x.Vb(9,"div",18),x.Pc(10," All models will be published with the developer key associated with your default application. Learn more about how to register an applicaiton "),x.Vb(11,"a",19),x.Pc(12,"here"),x.Ub(),x.Pc(13,". "),x.Ub(),x.Sb()}if(2&e){const e=x.gc(2);x.Db(5),x.Sc(" ",e.userApps.length," ",1===e.userApps.length?"app":"apps"," "),x.Db(2),x.mc("sortLabel","Sort Apps")("sortOptions",e.sortOptions)("sort",e.sort),x.Db(1),x.mc("ngForOf",e.userApps)}}function ci(e,t){1&e&&(x.Vb(0,"div",22),x.Vb(1,"div",23),x.Pc(2,"You don't have any apps."),x.Ub(),x.Vb(3,"a",24),x.Pc(4,"What's an app?"),x.Ub(),x.Ub())}function oi(e,t){if(1&e&&(x.Vb(0,"div"),x.Nc(1,ii,14,6,"ng-container",5),x.Nc(2,ci,5,0,"ng-template",null,12,x.Oc),x.Ub()),2&e){const e=x.yc(3),t=x.gc();x.Db(1),x.mc("ngIf",t.userApps.length>0)("ngIfElse",e)}}function si(e,t){if(1&e){const e=x.Wb();x.Tb(0),x.Pc(1," You must sign in on the developer site to activate access. Click "),x.Vb(2,"a",27),x.cc("click",(function(t){return x.Cc(e),x.gc(2).handleDeveloperActivateClick(t)})),x.Pc(3,"here"),x.Ub(),x.Pc(4," to activate. "),x.Sb()}}function ai(e,t){if(1&e){const e=x.Wb();x.Pc(0," Interested in leveraging the BioDigital Human's powerful toolkit to create your own custom applications? Visit our Developer Site to "),x.Vb(1,"a",28),x.cc("click",(function(t){return x.Cc(e),x.gc(2).handleDeveloperTrialClick(t)})),x.Pc(2,"learn more"),x.Ub(),x.Pc(3,". ")}}function ri(e,t){if(1&e&&(x.Vb(0,"p",25),x.Nc(1,si,5,0,"ng-container",5),x.hc(2,"async"),x.Nc(3,ai,4,0,"ng-template",null,26,x.Oc),x.Ub()),2&e){const e=x.yc(4),t=x.gc();let n=null;x.Db(1),x.mc("ngIf",null==(n=x.ic(2,2,t.userProfile$))?null:n.developer_account_valid_plan)("ngIfElse",e)}}const li=[Gn.a.QA,Gn.a.Local].includes(Ye.a.deploy)?"https://developer-qa.biodigital.com/":"https://developer.biodigital.com/",pi=[{label:"Last Updated",fields:["timestamp"],ascending:!1},{label:"Name (A-Z)",fields:["app_name"],ascending:!0},{label:"Name (Z-A)",fields:["app_name"],ascending:!1}];let ui=(()=>{class e{constructor(e,t,n,i){this.store=e,this.snackBar=t,this.router=n,this.changeDetectorRef=i,this.breakPoints=m.a,this.authUserTypes=pt.a,this.premiumOnlyTag=qn.a,this.ngUnsubscribe=new l.a,this.userApps=[],this.sortOptions=pi,this._sort=pi[0]}get sort(){return this._sort}set sort(e){this._sort=e,this.userApps=this.sortApps(this.userApps,this.sort),this.changeDetectorRef.markForCheck()}ngOnInit(){this.userApps$.pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.userApps=this.sortApps(e,this.sort),this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSort(e){this.sort=e}handleSelectAppSelected(e,t=!1){if(e.app_platform.some(e=>e.type===Qn.a.Web)){const n=this.store.selectSnapshot(h.a.getSelectedUserApp);n&&n.id===e.id?t&&this.store.dispatch(new j.Y(void 0)):this.store.dispatch(new j.Y(e.id))}else this.snackBar.open("Cannot assign default app. Please select a Web Widget to continue.")}handleManageAppsClick(){this.navigateToDeveloperPortal()}handleDeveloperActivateClick(e){e.preventDefault(),this.navigateToDeveloperPortal()}handleDeveloperTrialClick(e){e.preventDefault(),this.navigateToDeveloperPortal()}sortApps(e,t){const{ascending:n,fields:i}=t;return Object(Bn.a)(e,i,n)}navigateToDeveloperPortal(){var e;const t=null!==(e=this.store.selectSnapshot(h.a.getUserProfile).developer_portal_signin_url)&&void 0!==e?e:li;window.open(t,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(me.b),x.Pb(c.e),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-apps"]],decls:11,vars:10,consts:[["label","Developer Apps"],["panel-view-tags","",4,"ngIf"],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click",4,"ngIf"],["panel-view","",1,"developer"],[4,"ngIf","ngIfElse"],["nonDeveloper",""],["panel-view-tags",""],["icon","lock",3,"label",4,"ngIf"],["icon","lock",3,"label"],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["icon","external-link-alt",1,"mr-2"],["noApps",""],[1,"mv-5","text-14"],[1,"flex","flex-row","justify-between","items-center"],[1,"text-12"],[3,"sortLabel","sortOptions","sort","sortChange"],["class","developer__app mv-3",4,"ngFor","ngForOf"],[1,"developer__notice","text-12","mv-4"],["href","https://devsupport.biodigital.com/hc/en-us/articles/234450188-How-to-register-an-app","target","_blank",1,"text-link"],[1,"developer__app","mv-3"],[3,"app","compact","selected","appSelected","appToggleSelected"],[1,"flex","flex-column","items-center","mv-10"],[1,"text-14","text-medium","mb-1"],["href","https://devsupport.biodigital.com/hc/en-us/articles/234450188","target","_blank",1,"text-12","text-dim"],[1,"text-14"],["nonValidPlan",""],[1,"text-link","text-underline",3,"click"],["appEventFence","",1,"text-link","text-underline",3,"click"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0),x.Nc(1,ei,3,3,"ng-container",1),x.hc(2,"async"),x.Vb(3,"div",2),x.Nc(4,ti,3,0,"button",3),x.hc(5,"async"),x.Ub(),x.Vb(6,"div",4),x.Nc(7,oi,4,2,"div",5),x.hc(8,"async"),x.Nc(9,ri,5,4,"ng-template",null,6,x.Oc),x.Ub(),x.Ub()),2&e){const e=x.yc(10);let n=null,i=null;x.Db(1),x.mc("ngIf",x.ic(2,4,t.userType$)!==t.authUserTypes.Team),x.Db(3),x.mc("ngIf",null==(n=x.ic(5,6,t.userProfile$))?null:n.developer_account),x.Db(3),x.mc("ngIf",null==(i=x.ic(8,8,t.userProfile$))?null:i.developer_account)("ngIfElse",e)}},directives:[ge,i.p,Wn.b,fe.a,y.a,Jn.a,i.o,Kn,mt.a],pipes:[i.b],styles:[".developer__app[_ngcontent-%COMP%]{cursor:pointer}.developer__notice[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),Yn([Object(a.e)(f.a.getBreakpoint),Zn("design:type",p.a)],e.prototype,"breakpoint$",void 0),Yn([Object(a.e)(h.a.getUserProfile),Zn("design:type",p.a)],e.prototype,"userProfile$",void 0),Yn([Object(a.e)(h.a.getUserType),Zn("design:type",p.a)],e.prototype,"userType$",void 0),Yn([Object(a.e)(h.a.getUserApps),Zn("design:type",p.a)],e.prototype,"userApps$",void 0),Yn([Object(a.e)(h.a.getSelectedUserApp),Zn("design:type",p.a)],e.prototype,"selectedUserApp$",void 0),e})();var bi=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},gi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function di(e,t){1&e&&(x.Vb(0,"div",3),x.Qb(1,"app-spinner",4),x.Vb(2,"div",5),x.Pc(3,"Deleting your account..."),x.Ub(),x.Ub())}function hi(e,t){if(1&e&&(x.Vb(0,"div",23),x.Vb(1,"app-message-toggle",24),x.Vb(2,"em",12),x.Pc(3,"Server Error."),x.Ub(),x.Pc(4),x.Ub(),x.Ub()),2&e){const e=x.gc(2);x.Db(4),x.Rc(" ",e.error," ")}}function mi(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div"),x.Vb(1,"div",6),x.Vb(2,"div",7),x.Vb(3,"h1"),x.Pc(4,"Delete Account"),x.Ub(),x.Vb(5,"button",8),x.cc("click",(function(){return x.Cc(e),x.gc().handleCancelClick()})),x.Qb(6,"app-icon",9),x.Ub(),x.Ub(),x.Ub(),x.Qb(7,"mat-divider"),x.Vb(8,"div",10),x.Vb(9,"div"),x.Vb(10,"div",11),x.Pc(11," Are you sure you want to "),x.Vb(12,"em",12),x.Pc(13,"permanently delete"),x.Ub(),x.Pc(14," your account? "),x.Ub(),x.Vb(15,"ul",13),x.Vb(16,"li",14),x.Pc(17," Deleting your BioDigital Human account is a permanent action and "),x.Vb(18,"em",12),x.Pc(19,"cannot be undone"),x.Ub(),x.Pc(20,". "),x.Ub(),x.Vb(21,"li",14),x.Pc(22," After you delete your account, you will not be able to log back in to the app, and any 3D models you created and saved to your Library will be removed from our database permanently and cannot be restored. "),x.Ub(),x.Ub(),x.Vb(23,"div",15),x.Vb(24,"mat-checkbox",16),x.Vb(25,"span",17),x.Pc(26,"I confirm I want to permanently delete my account."),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Nc(27,hi,5,1,"div",18),x.Ub(),x.Vb(28,"div",19),x.Vb(29,"div",20),x.Vb(30,"button",21),x.cc("click",(function(){return x.Cc(e),x.gc().handleCancelClick()})),x.Pc(31," Cancel "),x.Ub(),x.Vb(32,"button",22),x.cc("click",(function(){return x.Cc(e),x.gc().handleDeleteClick()})),x.Pc(33),x.Ub(),x.Ub(),x.Ub(),x.Ub()}if(2&e){const e=x.gc();x.Db(5),x.Eb("aria-label","Close"),x.Db(22),x.mc("ngIf",e.error),x.Db(5),x.mc("disabled",e.form.invalid),x.Db(1),x.Rc(" ",e.attempts>0?"Try Again":"Yes, Delete Account"," ")}}let fi=(()=>{class e{constructor(e,t,n,i,c){this.store=e,this.actions=t,this.formBuilder=n,this.dialogRef=i,this.changeRef=c,this.error="",this.attempts=0,this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.setDialogTransparent(!1)}initForm(){this.form=this.formBuilder.group({confirm:[!1,z.C.requiredTrue]})}initListeners(){this.deleting$.pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{e&&(this.error="",this.attempts++),this.setDialogTransparent(e),this.changeRef.markForCheck()}),this.actions.pipe(Object(a.l)(j.m),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new j.H)}),this.actions.pipe(Object(a.l)(j.J,j.I),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.redirectOnLogout(),this.dialogRef.close()}),this.actions.pipe(Object(a.l)(j.l),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.error=Object(Ke.a)(e.error)||"There was an error deleting your account.",this.changeRef.markForCheck()})}handleCancelClick(){this.dialogRef.close()}handleDeleteClick(){this.store.dispatch(new j.k)}redirectOnLogout(){window.location.href=Ye.a.native?"/#/login?returnUrl=/explore":"/login"}setDialogTransparent(e){this.dialogRef.removePanelClass("transparent"),e&&this.dialogRef.addPanelClass("transparent")}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(ln.g),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-delete-account-dialog"]],decls:5,vars:7,consts:[[1,"dialog",3,"formGroup"],["class","flex flex-column items-center",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-column","items-center"],["size","large"],[1,"mt-3","text-11"],["mat-dialog-title",""],[1,"flex","flex-row","justify-between"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",3,"click"],["icon","times","size","lg"],[1,"text-14","mv-4","mb-9"],[1,"mb-6"],[1,"text-bold"],[1,"dialog__list"],[1,"mv-2"],[1,"mt-4"],["formControlName","confirm"],[2,"white-space","normal"],["class","mt-1",4,"ngIf"],["mat-dialog-actions",""],[1,"flex","justify-end"],["app-button","","buttonTheme","light","buttonType","default",1,"mr-2",3,"click"],["app-button","","buttonType","primary",3,"disabled","click"],[1,"mt-1"],["type","error","icon","info"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Nc(1,di,4,0,"div",1),x.hc(2,"async"),x.Nc(3,mi,34,4,"div",2),x.hc(4,"async"),x.Ub()),2&e&&(x.mc("formGroup",t.form),x.Db(1),x.mc("ngIf",x.ic(2,3,t.deleting$)),x.Db(2),x.mc("ngIf",!x.ic(4,5,t.deleting$)))},directives:[z.s,z.j,i.p,un.a,ln.h,fe.a,y.a,He.a,pn.a,z.r,z.i,ln.c,Ze.a],pipes:[i.b],styles:[".dialog[_ngcontent-%COMP%]{max-width:520px}.dialog__list[_ngcontent-%COMP%]{list-style-type:disc;margin:0;padding-left:40px}"],changeDetection:0}),bi([Object(a.e)(h.a.getUserProfile),gi("design:type",p.a)],e.prototype,"userProfile$",void 0),bi([Object(a.e)(h.a.getProfileDeleting),gi("design:type",p.a)],e.prototype,"deleting$",void 0),e})();const xi=function(){return["./"]};let vi=(()=>{class e{constructor(e){this.dialog=e}ngOnInit(){}handleDeleteAccountClick(){this.dialog.open(fi)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(ln.b))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-delete"]],decls:10,vars:2,consts:[["label","Delete Account"],[1,"delete-account","text-14"],[1,"text-bold"],[1,"mt-4"],[1,"text-link","text-underline",3,"routerLink","click"]],template:function(e,t){1&e&&(x.Vb(0,"app-account-panel",0),x.Vb(1,"div",1),x.Vb(2,"div"),x.Pc(3," Deleting your BioDigital Human account is a permanent action and "),x.Vb(4,"em",2),x.Pc(5,"cannot be undone"),x.Ub(),x.Pc(6,". "),x.Ub(),x.Vb(7,"div",3),x.Vb(8,"a",4),x.cc("click",(function(){return t.handleDeleteAccountClick()})),x.Pc(9," Delete account "),x.Ub(),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(8),x.mc("routerLink",x.oc(1,xi)))},directives:[ge,c.h],styles:[""],changeDetection:0}),e})();var Pi=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},_i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Ci(e,t){1&e&&(x.Tb(0),x.Qb(1,"mat-divider"),x.Vb(2,"div",4),x.Qb(3,"app-account-apps"),x.Ub(),x.Sb())}function yi(e,t){1&e&&(x.Tb(0),x.Qb(1,"mat-divider"),x.Vb(2,"div",5),x.Qb(3,"app-account-delete"),x.Ub(),x.Sb())}let Oi=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.ngUnsubscribe=new l.a,this.userRoleEnum=T.a}ngOnInit(){this.store.dispatch(new j.u(!0))}ngAfterViewInit(){this.initRoutingListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initRoutingListeners(){Object(S.a)(this.activatedRoute.url,this.activatedRoute.queryParams).pipe(Object(R.a)(()=>this.activatedRoute.snapshot.queryParams),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const{section:t}=e;this.scrollToSection(t)})}scrollToSection(e){const t=document.getElementById("account-"+e);t&&t.scrollIntoView()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(c.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-profile-page"]],decls:13,vars:8,consts:[["id","account-profile",1,"mb-10"],["id","account-password",1,"mv-10"],["id","account-subscription",1,"mv-10"],[4,"ngIf"],["id","account-developer",1,"mv-10"],["id","account-delete",1,"mv-10"]],template:function(e,t){if(1&e&&(x.Vb(0,"div",0),x.Qb(1,"app-account-profile"),x.Ub(),x.Qb(2,"mat-divider"),x.Vb(3,"div",1),x.Qb(4,"app-account-password"),x.Ub(),x.Qb(5,"mat-divider"),x.Vb(6,"div",2),x.Qb(7,"app-account-subscription"),x.Ub(),x.Nc(8,Ci,4,0,"ng-container",3),x.hc(9,"async"),x.hc(10,"async"),x.Nc(11,yi,4,0,"ng-container",3),x.hc(12,"async")),2&e){let e=null;x.Db(8),x.mc("ngIf",(null==(e=x.ic(9,2,t.userRole$))?null:e.role_name)===t.userRoleEnum.Creator||(null==(e=x.ic(10,4,t.userRole$))?null:e.role_name)===t.userRoleEnum.Admin),x.Db(3),x.mc("ngIf",!x.ic(12,6,t.organization$))}},directives:[Je,He.a,lt,$n,i.p,ui,vi],pipes:[i.b],styles:[""],changeDetection:0}),Pi([Object(a.e)(h.a.getUserRole),_i("design:type",p.a)],e.prototype,"userRole$",void 0),Pi([Object(a.e)(I.a.getOrganization),_i("design:type",p.a)],e.prototype,"organization$",void 0),e})();var Ui=n("FO49"),Mi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const wi=["message"];function ki(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div",11),x.Vb(1,"app-account-panel",16),x.Vb(2,"div",17),x.Pc(3,"This will clear your downloaded content from this device."),x.Ub(),x.Vb(4,"button",18),x.cc("click",(function(){return x.Cc(e),x.gc().handleDeleteDataClick()})),x.Pc(5," Delete Data "),x.Ub(),x.Ub(),x.Ub()}}let Di=(()=>{class e{constructor(e,t,n){this.actions=e,this.changeRef=t,this.store=n,this.environment=Ye.a,this.ngUnsubscribe=new l.a}ngOnInit(){this.actions.pipe(Object(a.l)(j.bb),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.message.shown=!0,this.changeRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleDeleteDataClick(){this.store.dispatch(new j.j)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.b),x.Pb(x.i),x.Pb(a.h))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-settings-page"]],viewQuery:function(e,t){if(1&e&&x.Jc(wi,!0),2&e){let e;x.xc(e=x.dc())&&(t.message=e.first)}},decls:21,vars:3,consts:[[1,"settings","flex","flex-column"],[1,"mb-6"],["label","Language"],[1,"text-14","mv-5"],[1,"mv-2"],["type","message",3,"shown"],["message",""],[1,"flex","flex-row"],["buttonType","outline","buttonTheme","light","localeFormat","full",3,"showFlag"],[1,"settings__notice","text-12","mv-2"],["class","mv-6",4,"ngIf"],[1,"mv-6"],["label","Legal"],[1,"flex","flex-column","text-14"],["href","https://www.biodigital.com/terms","target","_blank",1,"text-link","text-underline"],["href","https://www.biodigital.com/privacy","target","_blank",1,"text-link","text-underline","mt-2"],["label","Delete Stored Data"],[1,"text-14","mb-5"],["type","submit","buttonTheme","light","app-button","","buttonType","primary",3,"click"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"div",1),x.Vb(2,"app-account-panel",2),x.Vb(3,"div",3),x.Pc(4,"Select the language you'd like to use for our 3D models:"),x.Ub(),x.Vb(5,"div",4),x.Vb(6,"app-message-toggle",5,6),x.Pc(8," Your language was successfully updated. "),x.Ub(),x.Ub(),x.Vb(9,"div",7),x.Qb(10,"app-locales",8),x.Ub(),x.Vb(11,"div",9),x.Pc(12," This setting translates the contents of the 3D models (i.e., titles, descriptions, and anatomical structures) found in Explore. The models stored in your Library will not be translated. "),x.Ub(),x.Ub(),x.Ub(),x.Nc(13,ki,6,0,"div",10),x.Vb(14,"div",11),x.Vb(15,"app-account-panel",12),x.Vb(16,"div",13),x.Vb(17,"a",14),x.Pc(18,"Terms of Service"),x.Ub(),x.Vb(19,"a",15),x.Pc(20,"Privacy Policy"),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(6),x.mc("shown",!1),x.Db(4),x.mc("showFlag",!1),x.Db(3),x.mc("ngIf",t.environment.native))},directives:[ge,Ze.a,Ui.a,i.p,fe.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.settings__select[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.settings__notice[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(h.a.getUserLocale),Mi("design:type",p.a)],e.prototype,"userLocale$",void 0),e})();var Vi=n("Kj3r"),Si=n("8pBO"),Ri=n("QkH1"),Ti=n("WoAB"),ji=n("5sb6"),Ii=n("yCtX"),zi=n("DH7j"),Ni=n("7o/Q"),Ai=n("Lhse"),Fi=n("zx2A");class Li{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ei(e,this.resultSelector))}}class Ei extends Ni.a{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;Object(zi.a)(e)?t.push(new Qi(e)):t.push("function"==typeof e[Ai.a]?new $i(e[Ai.a]()):new Bi(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let o=0;o<t;o++){let t=e[o];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const c=[];for(let o=0;o<t;o++){let t=e[o],s=t.next();if(t.hasCompleted()&&(i=!0),s.done)return void n.complete();c.push(s.value)}this.resultSelector?this._tryresultSelector(c):n.next(c),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class $i{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class Qi{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[Ai.a](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Bi extends Fi.b{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ai.a](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return Object(Fi.c)(this.observable,new Fi.a(this))}}var qi=n("LRne"),Gi=n("JX91"),Wi=n("a0wz"),Ji=n("gw9s"),Hi=n("gzgB"),Ki=n("7PKw"),Yi=n("Fh29"),Zi=n("QibW"),Xi=n("4qFM"),ec=n("awCs"),tc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const nc=["upload"];function ic(e,t){if(1&e&&(x.Vb(0,"div"),x.hc(1,"async"),x.Vb(2,"app-form-field",20),x.Qb(3,"app-content-upload-input",21,22),x.Ub(),x.Ub()),2&e){const e=x.gc(2);x.Hb("w-50",x.ic(1,2,e.breakpoint$)>e.breakPoint.Small)}}function cc(e,t){if(1&e&&(x.Vb(0,"div",23),x.Vb(1,"mat-error"),x.Pc(2),x.Ub(),x.Ub()),2&e){const e=x.gc(2);x.Db(2),x.Rc(" ",e.teamNamePlaceholder," ")}}function oc(e,t){if(1&e&&(x.Vb(0,"option",24),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e),x.Db(1),x.Rc(" ",e," ")}}function sc(e,t){1&e&&(x.Vb(0,"div",23),x.Vb(1,"mat-error"),x.Pc(2," Please enter a valid website (e.g. www.website.com or website.com). "),x.Ub(),x.Ub())}function ac(e,t){if(1&e&&(x.Vb(0,"option",24),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e),x.Db(1),x.Rc(" ",e," ")}}function rc(e,t){1&e&&(x.Vb(0,"div",25),x.Qb(1,"input",26),x.Ub())}function lc(e,t){if(1&e&&(x.Vb(0,"div",8),x.Nc(1,ic,5,4,"div",9),x.Vb(2,"app-form-field",10),x.Qb(3,"input",11),x.Nc(4,cc,3,1,"div",12),x.Ub(),x.Vb(5,"app-form-field",10),x.Vb(6,"select",13),x.Qb(7,"option",14),x.Nc(8,oc,2,2,"option",15),x.Ub(),x.Ub(),x.Vb(9,"app-form-field",10),x.Qb(10,"input",16),x.Nc(11,sc,3,0,"div",12),x.Ub(),x.Vb(12,"app-form-field",10),x.Vb(13,"select",17),x.Qb(14,"option",14),x.Nc(15,ac,2,2,"option",15),x.Qb(16,"option",18),x.Ub(),x.Nc(17,rc,2,0,"div",19),x.Ub(),x.Ub()),2&e){const e=x.gc();x.Db(1),x.mc("ngIf",!e.environment.native),x.Db(1),x.mc("label",e.teamNameLabel),x.Db(1),x.mc("minlength",e.minNameLength)("maxlength",e.maxNameLength),x.Db(1),x.mc("ngIf",e.nameField.touched&&e.nameField.invalid),x.Db(1),x.mc("label",e.teamSizeLabel),x.Db(3),x.mc("ngForOf",e.teamSizes),x.Db(1),x.mc("label",e.teamWebsiteLabel),x.Db(2),x.mc("ngIf",e.websiteField.touched&&e.websiteField.invalid),x.Db(1),x.mc("label",e.teamIndustryLabel),x.Db(3),x.mc("ngForOf",e.teamIndustries),x.Db(1),x.mc("label","Other")("value","Other"),x.Db(1),x.mc("ngIf","Other"===e.form.get("industry").value)}}function pc(e,t){1&e&&(x.Vb(0,"div",8),x.Vb(1,"app-form-field",27),x.Vb(2,"mat-radio-group",28),x.Vb(3,"mat-radio-button",29),x.Pc(4,"Wikipedia"),x.Ub(),x.Vb(5,"mat-radio-button",30),x.Pc(6,"NCIT"),x.Ub(),x.Ub(),x.Vb(7,"p",31),x.Pc(8," The description source to use when no official BioDigital description is available. "),x.Ub(),x.Ub(),x.Ub())}function uc(e,t){1&e&&x.Rb(0)}function bc(e,t){if(1&e&&(x.Tb(0),x.Vb(1,"legend",32),x.Pc(2,"Create your team"),x.Ub(),x.Vb(3,"p",33),x.Pc(4,"Tell us about your team to set up your account."),x.Ub(),x.Vb(5,"div",34),x.Nc(6,uc,1,0,"ng-container",35),x.Ub(),x.Sb()),2&e){x.gc();const e=x.yc(3);x.Db(6),x.mc("ngTemplateOutlet",e)}}function gc(e,t){1&e&&x.Rb(0)}function dc(e,t){1&e&&x.Rb(0)}function hc(e,t){if(1&e&&(x.Tb(0),x.Vb(1,"legend",36),x.Pc(2,"Team Management"),x.Ub(),x.Vb(3,"app-tabs",37),x.Vb(4,"app-tab",38),x.Nc(5,gc,1,0,"ng-container",35),x.Ub(),x.Vb(6,"app-tab",39),x.Nc(7,dc,1,0,"ng-container",35),x.Ub(),x.Ub(),x.Sb()),2&e){x.gc();const e=x.yc(3),t=x.yc(5);x.Db(5),x.mc("ngTemplateOutlet",e),x.Db(2),x.mc("ngTemplateOutlet",t)}}function mc(e,t){1&e&&x.Qb(0,"app-spinner",40)}const fc=new RegExp("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?","i");new RegExp("^[1-9]\\d*$");let xc=(()=>{class e{constructor(e,t,n,i,c,o){this.organizationsService=e,this.formBuilder=t,this.store=n,this.actions=i,this.snackBar=c,this.changeRef=o,this.environment=Ye.a,this.accountPurposeEnum=$.a,this.breakPoint=m.a,this.minNameLength=3,this.maxNameLength=45,this.organizationCreated=new x.p,this.organizationUpdated=new x.p,this.teamIndustries=[],this.ngUnsubscribe=new l.a;const s=this.store.selectSnapshot(h.a.isDeveloperReferral)?"developer":"";this.form=this.formBuilder.group({account_name:["",[z.C.required,z.C.minLength(this.minNameLength),z.C.maxLength(this.maxNameLength)]],website:["",[z.C.required,z.C.pattern(fc)]],account_logo_url:[this.createImageURLs()],account_logo:[this.createAccountLogo()],size:["",[z.C.required]],industry:["",z.C.required],industryDescription:[""],purposeDescription:[s],anatomyDescriptionFallback:[null]},{validators:this.getFormValidator()})}get formAccountLogoURL(){return Object(r.get)(this.form,"value.account_logo_url.default","")}get mode(){return Object(r.isNil)(this.organization)?"create":"manage"}get nameField(){return this.form.get("account_name")}get websiteField(){return this.form.get("website")}get sizeField(){return this.form.get("size")}ngOnInit(){if(this.setTeamFields(this.purpose),this.initLoadingState(),this.initFormListeners(),this.initActionListeners(),this.store.dispatch(new j.u),this.organization)this.setExistingOrganizationFormValues(this.organization);else{const e=this.store.selectSnapshot(h.a.isDeveloperReferral);this.setNewOrganizationFormValues(e)}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initLoadingState(){Object(N.b)([this.store.select(h.a.getLoading),this.store.select(I.a.getCreating),this.store.select(I.a.getUpdating)]).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(([e,t,n])=>{this.actionState=e||t||n,"create"===this.mode?this.actionLabel=(t?"Creating":"Create")+" Team":"manage"===this.mode&&(this.actionLabel=(n?"Saving":"Save")+" Changes"),this.changeRef.markForCheck()})}setTeamFields(e){this.purpose=e===$.a.Education?$.a.Education:$.a.Business,this.teamIndustries=H[this.purpose]||[],this.teamSizes=Y[this.purpose]||[],this.teamNameLabel=this.purpose===$.a.Education?"School Name":"Company Name",this.teamNamePlaceholder=`Your ${this.teamNameLabel.toLowerCase()} must be ${this.minNameLength} or more characters.`,this.teamWebsiteLabel=this.purpose===$.a.Education?"School Website":"Company Website",this.teamSizeLabel=this.purpose===$.a.Education?"# of Students":"Company Size",this.teamIndustryLabel=this.purpose===$.a.Education?"Education Level":"Company Industry"}initFormListeners(){this.form.valueChanges.pipe(Object(Gi.a)(this.formAccountLogoURL),Object(R.a)(()=>!!this.formAccountLogoURL),Object(A.a)(),Object(g.b)(()=>this.getOrganizationLogoModel()),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.form.patchValue({account_logo:e})})}initActionListeners(){(function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),Object(Ii.a)(e,void 0).lift(new Li(t))})(this.actions.pipe(Object(a.l)(j.pb)),this.actions.pipe(Object(a.l)(Wi.g))).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new j.u),this.organizationCreated.next(),this.snackBar.open("Your team has been successfully created.")}),this.actions.pipe(Object(a.l)(Wi.f),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=Object(r.get)(e.error,"status",400),n=Object(Ke.a)(e.error);let i="There was an error creating your team.";n?i=n:413===t&&(i="The file size of your logo is too large. Please upload a new logo and try again."),this.snackBar.open(i)}),this.actions.pipe(Object(a.l)(Wi.C),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new j.u),this.organizationUpdated.next(),this.snackBar.open("Your team has been successfully updated.")}),this.actions.pipe(Object(a.l)(Wi.B),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{const t=Object(Ke.a)(e.error);this.snackBar.open(t||"There was an error updating your team.")})}handleDeleteLogoClick(){this.form.patchValue({account_logo_url:this.createImageURLs(),account_logo:this.createAccountLogo()}),this.changeRef.markForCheck()}onSubmit(){if(this.form.valid){const e=this.form.value;"create"===this.mode?this.createTeam(e):"manage"===this.mode&&this.updateTeam(this.organization.id,e)}}setNewOrganizationFormValues(e){this.form.patchValue({purposeDescription:e?"developer":""})}setExistingOrganizationFormValues(e){const t=e.group_attributes,n=this.getTeamAccountSetting(t,"account_purpose"),i=this.getTeamAccountSetting(t,"account_field"),c=this.getTeamAccountSetting(t,"account_company_size"),o=this.getTeamAccountSetting(t,"account_company_website"),s=this.getTeamAppSetting(t,"anatomy_description_fallback"),a=e.group_logos.default||"",l=a.split(".").pop(),p=this.createImageURLs(a),u=this.createAccountLogo(a,l);this.setTeamFields(n?n.value:$.a.Business);let b=Object(r.get)(n,"description","");b="developer"===b?"developer":"";const g=Object(r.get)(s,"value",Hi.a.Wikipedia);this.form.patchValue({account_name:e.name,website:o?o.value:"",account_logo_url:p,account_logo:u,size:c?c.value:"",industry:i?i.value:"",industryDescription:i?i.value_desc:"",purposeDescription:b,anatomyDescriptionFallback:g})}getTeamAccountSetting(e,t){return this.organizationsService.getOrganizationAttribute(e,"account_settings",t)}getTeamAppSetting(e,t){return this.organizationsService.getOrganizationAttribute(e,"app_settings",t)}createTeam(e){const t=this.createTeamFromValues(e);this.store.dispatch(new j.pb({account_settings:t.account_settings})),this.store.dispatch(new Wi.e(t))}updateTeam(e,t){const n=this.createTeamFromValues(t),{account_logo:i}=n,c=!this.formAccountLogoURL,o=Object.assign(Object.assign({},n),{group_id:e,account_logo:c?this.createAccountLogo("","",!0):i});this.store.dispatch(new Wi.A(o))}createTeamFromValues(e){const{account_name:t,account_logo:n}=e;return{account_name:t,account_settings:this.createTeamAccountSettings(this.purpose,e),account_logo:n.default.image_src?n:void 0}}createTeamAccountSettings(e,t){const{size:n,industry:i,industryDescription:c,website:o,purposeDescription:s,anatomyDescriptionFallback:a}=t;return Object(F.a)({account_purpose:{value:e,description:s},account_field:{value:i,description:"Other"===i?c:""},account_company_size:n,account_company_website:o,anatomy_description_fallback:a})}getFormValidator(){return e=>{const{industry:t,industryDescription:n}=e.value,i="Other"===t&&""===n;return i?{invalidIndustry:i}:null}}getOrganizationLogoModel(){const e=this.upload?this.upload.getBlob():void 0;if(this.formAccountLogoURL&&!Object(r.isNil)(e)){const t=e.type.split("/")[1];return Object(qi.a)(e).pipe(Object(g.b)(e=>Ji.a.blobToBase64(e)),Object(R.a)(e=>this.createAccountLogo(e,t)))}return Object(qi.a)(this.createAccountLogo("",""))}createAccountLogo(e="",t="",n=!1){return{default:{delete:n?"1":"0",image_type:t,image_src:e}}}createImageURLs(e=""){return e?{default:e,small:e,large:e}:void 0}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(Ki.a),x.Pb(z.f),x.Pb(a.h),x.Pb(a.b),x.Pb(me.b),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-create"]],viewQuery:function(e,t){if(1&e&&x.Vc(nc,!0),2&e){let e;x.xc(e=x.dc())&&(t.upload=e.first)}},inputs:{organization:"organization",purpose:"purpose"},outputs:{organizationCreated:"organizationCreated",organizationUpdated:"organizationUpdated"},decls:13,vars:9,consts:[[1,"create","theme-light",3,"formGroup","ngSwitch","ngSubmit"],["profileTmpl",""],["settingsTmpl",""],["type","hidden","formControlName","purposeDescription","data-test","purposeDescription"],[4,"ngSwitchCase"],[1,"flex","flex-row","justify-end"],["type","submit","app-button","","buttonSize","medium","buttonTheme","light","buttonType","primary","data-test","teamActionButton",3,"disabled"],["size","medium","class","ml-2","render","inline",4,"ngIf"],[1,"create__fields","mv-5"],[3,"w-50",4,"ngIf"],["theme","light",3,"label"],["type","text","formControlName","account_name","data-test","account_name",1,"input",3,"minlength","maxlength"],["class","mt-1",4,"ngIf"],["formControlName","size","data-test","size",1,"input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","url","formControlName","website","data-test","website",1,"input"],["formControlName","industry","data-test","industry",1,"input"],[3,"label","value"],["class","mt-2",4,"ngIf"],["theme","light","label",""],["type","image","layout","compact","theme","simple","label","Add optional logo","tooltip","Recommended image size: 238x40 pixels","formControlName","account_logo_url"],["upload",""],[1,"mt-1"],[3,"value"],[1,"mt-2"],["type","text","formControlName","industryDescription",1,"input"],["theme","light","label","Anatomy Description Fallback"],["formControlName","anatomyDescriptionFallback",1,"flex","flex-column"],["value","wikipedia",1,"mv-1","text-12"],["value","ncit",1,"mv-1","text-12"],[1,"text-12","mt-3"],[1,"text-28","text-semibold"],[1,"text-16","mt-3","mb-5"],[1,"mt-10"],[4,"ngTemplateOutlet"],[1,"mb-5","text-20","text-semibold"],["tabSize","medium","tabTheme","light"],["label","Profile"],["label","Settings"],["size","medium","render","inline",1,"ml-2"]],template:function(e,t){1&e&&(x.Vb(0,"form",0),x.cc("ngSubmit",(function(){return t.onSubmit()})),x.Vb(1,"fieldset"),x.Nc(2,lc,18,14,"ng-template",null,1,x.Oc),x.Nc(4,pc,9,0,"ng-template",null,2,x.Oc),x.Qb(6,"input",3),x.Nc(7,bc,7,1,"ng-container",4),x.Nc(8,hc,8,2,"ng-container",4),x.Ub(),x.Vb(9,"div",5),x.Vb(10,"button",6),x.Pc(11),x.Nc(12,mc,1,0,"app-spinner",7),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.mc("formGroup",t.form)("ngSwitch",t.mode),x.Db(7),x.mc("ngSwitchCase","create"),x.Db(1),x.mc("ngSwitchCase","manage"),x.Db(2),x.Hb("w-100","create"===t.mode),x.mc("disabled",t.form.invalid||t.actionState),x.Db(1),x.Rc(" ",t.actionLabel," "),x.Db(1),x.mc("ngIf",t.actionState))},directives:[z.E,z.s,z.j,i.r,z.c,z.r,z.i,i.s,fe.a,i.p,_e.a,z.n,z.m,z.B,z.v,z.D,i.o,Yi.a,Xe.b,Zi.b,Zi.a,i.u,Xi.a,ec.a,un.a],pipes:[i.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(f.a.getBreakpoint),tc("design:type",p.a)],e.prototype,"breakpoint$",void 0),e})(),vc=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.ngUnsubscribe=new l.a,this.organization=t.organization}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleCancelClick(){this.closeDialog()}handleOrganizationUpdated(){this.closeDialog()}closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(ln.g),x.Pb(ln.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-manage-dialog"]],decls:4,vars:3,consts:[["role","dialog","aria-modal","true",1,"dialog"],[3,"organization","organizationUpdated"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",1,"dialog__close",3,"click"],["icon","times","size","lg"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"app-team-create",1),x.cc("organizationUpdated",(function(){return t.handleOrganizationUpdated()})),x.Ub(),x.Vb(2,"button",2),x.cc("click",(function(){return t.handleCancelClick()})),x.Qb(3,"app-icon",3),x.Ub(),x.Ub()),2&e&&(x.Eb("aria-label","Team Management"),x.Db(1),x.mc("organization",t.organization),x.Db(1),x.Eb("aria-label","Close"))},directives:[xc,fe.a,y.a],styles:[".dialog[_ngcontent-%COMP%]{position:relative;width:480px;min-height:320px;max-height:100%;padding:20px}.dialog__close[_ngcontent-%COMP%]{position:absolute;top:18px;right:12px}@media (max-width:480px){.dialog[_ngcontent-%COMP%]{width:100vw}}"],changeDetection:0}),e})();var Pc=n("lMGN"),_c=n("kR+W"),Cc=n("PWQe"),yc=n("Iab2"),Oc=n("FnMX"),Uc=n("JIr8");function Mc(e,t){if(1&e&&x.Qb(0,"app-icon",2),2&e){const e=x.gc();x.mc("icon",e.icon)}}let wc=(()=>{class e{constructor(){this.size="medium",this.type="outline",this.color="#CCCCCC"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-profile-badge"]],inputs:{size:"size",type:"type",color:"color",icon:"icon",label:"label"},decls:3,vars:12,consts:[[1,"badge","text-uppercase","text-medium"],[3,"icon",4,"ngIf"],[3,"icon"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Nc(1,Mc,1,1,"app-icon",1),x.Pc(2),x.Ub()),2&e&&(x.Hb("badge--outline","outline"===t.type)("badge--solid","solid"===t.type)("badge--small","small"===t.size)("badge--medium","medium"===t.size)("badge--large","large"===t.size),x.Db(1),x.mc("ngIf",t.icon),x.Db(1),x.Rc(" ",t.label,"\n"))},directives:[i.p,y.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:50%;color:#101823}.badge--outline[_ngcontent-%COMP%]{border:1px solid #fff;background-color:rgba(150,168,192,.6);color:#fff}.badge--small[_ngcontent-%COMP%]{width:32px;height:32px;font-size:11px;letter-spacing:.275px;line-height:1.4em}.badge--medium[_ngcontent-%COMP%]{width:40px;height:40px;font-size:13px;letter-spacing:.325px;line-height:1.4em}.badge--large[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.375px}.badge--large[_ngcontent-%COMP%], .badge--x-large[_ngcontent-%COMP%]{width:48px;height:48px;line-height:1.4em}.badge--x-large[_ngcontent-%COMP%]{font-size:17px;letter-spacing:.425px}"],changeDetection:0}),e})(),kc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-user"]],inputs:{user:"user"},decls:10,vars:7,consts:[[1,"team-user","flex","flex-row","flex-grow","align-center","items-center"],[1,"team-user__badge","mr-3"],["type","outline","size","small",3,"label","icon"],[1,"team-user__text"],["data-test","teamMemberName",1,"team-user__name","text-13","text-medium"],["data-test","teamMemberEmail",1,"team-user__email","text-11"],["data-test","teamMemberInfo",1,"team-user__role","flex","flex-row","items-center","justify-end","mh-2","text-10"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"div",1),x.Qb(2,"app-profile-badge",2),x.Ub(),x.Vb(3,"div",3),x.Vb(4,"div",4),x.Pc(5),x.Ub(),x.Vb(6,"div",5),x.Pc(7),x.Ub(),x.Ub(),x.Vb(8,"div",6),x.Pc(9),x.Ub(),x.Ub()),2&e&&(x.Db(2),x.mc("label",t.user.initials)("icon",t.user.initials?"":"user"),x.Db(3),x.Rc(" ",t.user.name," "),x.Db(2),x.Rc(" ",t.user.email," "),x.Db(1),x.Hb("team-user__role--expired","expired"===t.user.invitationStatus),x.Db(1),x.Rc(" ",t.user.invitationStatus?t.user.invitationStatus:t.user.role.role_display_name," "))},directives:[wc],styles:[".team-user__badge[_ngcontent-%COMP%]{align-self:center}.team-user__text[_ngcontent-%COMP%]{width:0;flex-grow:1;flex-shrink:1;overflow:hidden}.team-user__name[_ngcontent-%COMP%]{color:#1c2a3f}.team-user__email[_ngcontent-%COMP%], .team-user__name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.team-user__email[_ngcontent-%COMP%]{color:#374a68}.team-user__role[_ngcontent-%COMP%]{text-transform:uppercase;color:#96a8c0}.team-user__role--expired[_ngcontent-%COMP%]{color:#ed4758}"],changeDetection:0}),e})();function Dc(e,t){if(1&e&&(x.Vb(0,"div",14),x.Vb(1,"p"),x.Pc(2),x.Ub(),x.Ub()),2&e){const e=x.gc(2);x.Db(2),x.Qc(e.message)}}function Vc(e,t){1&e&&x.Qb(0,"app-team-user",15),2&e&&x.mc("user",t.$implicit)}function Sc(e,t){if(1&e&&(x.Vb(0,"option",16),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.id),x.Db(1),x.Sc(" ",e.name,"(",e.email,") ")}}function Rc(e,t){if(1&e&&(x.Vb(0,"div",6),x.Nc(1,Dc,3,1,"div",7),x.Vb(2,"app-form-field",8),x.Nc(3,Vc,1,1,"app-team-user",9),x.Ub(),x.Vb(4,"app-form-field",10),x.Vb(5,"select",11),x.Vb(6,"option",12),x.Pc(7,"-- Select User --"),x.Ub(),x.Nc(8,Sc,2,3,"option",13),x.Ub(),x.Ub(),x.Ub()),2&e){const e=x.gc();x.mc("formGroup",e.form),x.Db(1),x.mc("ngIf",e.message),x.Db(2),x.mc("ngForOf",e.sourceUsers),x.Db(1),x.mc("label","To User ("+e.availableRoles.join(" OR ")+")"),x.Db(4),x.mc("ngForOf",e.availableUsers)}}const Tc=[T.a.Creator,T.a.Admin];let jc=(()=>{class e{constructor(e,t,n,i,c,o,s,a){this.data=e,this.dialogRef=t,this.formBuilder=n,this.store=i,this.actions=c,this.changeRef=o,this.snackBar=s,this.usersService=a,this.availableRoles=Tc,this.availableUsers=[],this.sourceUsers=[],this.transferring=!1,this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initOrganization(),this.initMessaging()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({targetUserId:[""+(this.data.targetUserId||""),z.C.required]})}initOrganization(){const e=this.store.selectSnapshot(Pc.a.getUsers);this.sourceUsers=this.data.sourceUsers;const t=new Set(this.sourceUsers.map(e=>e.id));this.availableUsers=e.filter(e=>{const n=Tc.includes(e.user_role.role_name),i=t.has(e.user_id);return n&&!i}).sort((e,t)=>{var n,i;return Object(r.trim)((null!==(n=e.user_first_name)&&void 0!==n?n:"").toLocaleUpperCase())>Object(r.trim)((null!==(i=t.user_first_name)&&void 0!==i?i:"").toLocaleUpperCase())?1:-1}).map(e=>this.usersService.createUserDisplayModel(e)),this.message="Transfer the original save location and management permissions of the user(s)' content to a new owner",this.data.action===Ti.a.RemoveUser&&(this.message+=" before removing the user(s).")}initMessaging(){this.actions.pipe(Object(a.l)(_c.t),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.transferring=!0,this.changeRef.markForCheck()}),this.actions.pipe(Object(a.l)(_c.v),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.transferring=!1,this.dialogRef.close(e.users),this.changeRef.markForCheck()}),this.actions.pipe(Object(a.l)(_c.u),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.transferring=!1,this.snackBar.open("There was an error transferring user content, please try again."),this.changeRef.markForCheck()})}handleTransferClick(){const{organization:e,sourceUsers:t}=this.data,n=parseInt(this.form.value.targetUserId,10),i=t.map(e=>({sourceUserId:e.id,targetUserId:n}));this.store.dispatch(new _c.t(e.id,i))}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(ln.a),x.Pb(ln.g),x.Pb(z.f),x.Pb(a.h),x.Pb(a.b),x.Pb(x.i),x.Pb(me.b),x.Pb(Oc.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-transfer-dialog"]],decls:9,vars:2,consts:[["data-test","teamTransferDialog",1,"dialog"],["mat-dialog-title","",1,"text-18"],["mat-dialog-content","",3,"formGroup",4,"ngIf"],["mat-dialog-actions",""],["app-button","","buttonTheme","light","mat-dialog-close","",1,"mr-4"],["app-button","","buttonType","primary",3,"disabled","click"],["mat-dialog-content","",3,"formGroup"],["class","mv-3 text-14",4,"ngIf"],["label","From User"],["class","flex flex-grow mv-1 pv-2",3,"user",4,"ngFor","ngForOf"],[3,"label"],["formControlName","targetUserId",1,"input"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"mv-3","text-14"],[1,"flex","flex-grow","mv-1","pv-2",3,"user"],[3,"value"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"h1",1),x.Pc(2,"Transfer Content"),x.Ub(),x.Nc(3,Rc,9,5,"div",2),x.Vb(4,"div",3),x.Vb(5,"button",4),x.Pc(6,"Cancel"),x.Ub(),x.Vb(7,"button",5),x.cc("click",(function(){return t.handleTransferClick()})),x.Pc(8," Transfer Content "),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(3),x.mc("ngIf",t.sourceUsers),x.Db(4),x.mc("disabled",t.form.invalid||t.transferring))},directives:[ln.h,i.p,ln.c,fe.a,ln.d,ln.e,z.s,z.j,_e.a,i.o,z.B,z.r,z.i,z.v,z.D,kc],styles:[".dialog__user-role[_ngcontent-%COMP%]{text-transform:uppercase;color:#96a8c0}"],changeDetection:0}),e})();function Ic(e,t){1&e&&x.Qb(0,"app-team-user",12),2&e&&x.mc("user",t.$implicit)}function zc(e,t){if(1&e&&(x.Vb(0,"option",13),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.mc("value",e.value),x.Db(1),x.Rc(" ",e.label," ")}}var Nc=function(e){return e.Transfer="transfer",e.Remove="remove",e}({});let Ac=(()=>{class e{constructor(e,t,n){this.data=e,this.dialogRef=t,this.formBuilder=n,this.contentOptions=[{value:Nc.Transfer,label:"Transfer ownership to a different team member"},{value:Nc.Remove,label:"Make private and remove from team"}]}ngOnInit(){this.form=this.formBuilder.group({contentOptions:[Nc.Transfer,z.C.required]})}handleRemoveClick(){this.dialogRef.close(this.form.value.contentOptions)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(ln.a),x.Pb(ln.g),x.Pb(z.f))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-remove-users-dialog"]],decls:18,vars:5,consts:[["data-test","teamRemoveUserDialog",1,"dialog"],["mat-dialog-title","",1,"text-18"],["mat-dialog-content","",3,"formGroup"],[1,"mv-3","text-14"],[1,"text-bold"],["class","flex flex-grow mv-1 pv-2",3,"user",4,"ngFor","ngForOf"],["label","What would you like to do with their 3D models?"],["formControlName","contentOptions",1,"input"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["app-button","","buttonTheme","light","mat-dialog-close","",1,"mr-4"],["app-button","","buttonType","primary",3,"click"],[1,"flex","flex-grow","mv-1","pv-2",3,"user"],[3,"value"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"h1",1),x.Pc(2),x.Ub(),x.Vb(3,"div",2),x.Vb(4,"div",3),x.Pc(5," Are you sure you want to remove the following user(s)? They will no longer have access to "),x.Vb(6,"span",4),x.Pc(7),x.Ub(),x.Ub(),x.Vb(8,"app-form-field"),x.Nc(9,Ic,1,1,"app-team-user",5),x.Ub(),x.Vb(10,"app-form-field",6),x.Vb(11,"select",7),x.Nc(12,zc,2,2,"option",8),x.Ub(),x.Ub(),x.Ub(),x.Vb(13,"div",9),x.Vb(14,"button",10),x.Pc(15,"Cancel"),x.Ub(),x.Vb(16,"button",11),x.cc("click",(function(){return t.handleRemoveClick()})),x.Pc(17,"Remove"),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(2),x.Rc("Remove ",t.data.users.length," User(s)"),x.Db(1),x.mc("formGroup",t.form),x.Db(4),x.Qc(t.data.organization.name),x.Db(2),x.mc("ngForOf",t.data.users),x.Db(3),x.mc("ngForOf",t.contentOptions))},directives:[ln.h,ln.e,z.s,z.j,_e.a,i.o,z.B,z.r,z.i,ln.c,fe.a,ln.d,kc,z.v,z.D],styles:[".dialog__user-role[_ngcontent-%COMP%]{text-transform:uppercase;color:#96a8c0}"],changeDetection:0}),e})();function Fc(e,t){1&e&&x.Qb(0,"app-team-user",9),2&e&&x.mc("user",t.$implicit)}let Lc=(()=>{class e{constructor(e,t){this.data=e,this.dialogRef=t}ngOnInit(){this.newRoleName=this.data.role.role_display_name}handleConfirmClick(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(ln.a),x.Pb(ln.g))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-confirm-role-dialog"]],decls:16,vars:2,consts:[["data-test","teamConfirmRoleDialog",1,"dialog"],["mat-dialog-title","",1,"text-18"],["mat-dialog-content",""],[1,"mv-3","text-14"],[1,"text-bold"],["class","flex flex-grow mv-1 pv-2",3,"user",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["app-button","","buttonTheme","light","mat-dialog-close","",1,"mr-4"],["app-button","","buttonType","primary",3,"click"],[1,"flex","flex-grow","mv-1","pv-2",3,"user"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"h1",1),x.Pc(2,"Confirm Role Change"),x.Ub(),x.Vb(3,"div",2),x.Vb(4,"div",3),x.Vb(5,"p"),x.Pc(6," Are you sure you want to change the role of the following user(s) to "),x.Vb(7,"span",4),x.Pc(8),x.Ub(),x.Pc(9,"? "),x.Ub(),x.Ub(),x.Nc(10,Fc,1,1,"app-team-user",5),x.Ub(),x.Vb(11,"div",6),x.Vb(12,"button",7),x.Pc(13,"Cancel"),x.Ub(),x.Vb(14,"button",8),x.cc("click",(function(){return t.handleConfirmClick()})),x.Pc(15," Confirm Role Change "),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(8),x.Qc(t.newRoleName),x.Db(2),x.mc("ngForOf",t.data.users))},directives:[ln.h,ln.e,i.o,ln.c,fe.a,ln.d,kc],styles:[""],changeDetection:0}),e})(),Ec=(()=>{class e{constructor(e,t){this.dialog=e,this.usersService=t}removeUser(e,t){return this.confirmRemoveUser(e,t).pipe(Object(g.b)(n=>{if(n===Nc.Transfer)return this.transferUserContent(e,t,Ti.a.RemoveUser);if(n===Nc.Remove){const e=t.map(e=>({sourceUserId:e.id}));return Object(qi.a)(e)}return Object(qi.a)(!1)}),Object(g.b)(t=>t?this.usersService.removeUsers(e.id,t).pipe(Object(Uc.a)(()=>Object(qi.a)(!1)),Object(R.a)(e=>({success:e,targetUserId:t[0].targetUserId}))):Object(qi.a)({success:!1})))}setUserRole(e,t,n){const i=n.role_id,c=n.role_name,o=t.map(e=>({userId:e.id,roleId:i}));let s=[];return c===T.a.Viewer&&(s=t.filter(e=>e.role.role_name!==T.a.Viewer)),(o.length>1?this.confirmRoleChange(t,n):Object(qi.a)(!0)).pipe(Object(g.b)(t=>t&&s.length>0?this.transferUserContent(e,s,Ti.a.AssignRole):Object(qi.a)(t)),Object(g.b)(t=>t?this.usersService.updateUserRoles(e.id,o):Object(qi.a)(!1)),Object(Uc.a)(()=>Object(qi.a)(!1)),Object(R.a)(e=>({success:e,targetRoleId:n.role_id})))}confirmRoleChange(e,t){return this.dialog.open(Lc,{id:ji.a.ConfirmRoleDialog,disableClose:!1,maxWidth:"420px",data:{users:e,role:t}}).afterClosed()}confirmRemoveUser(e,t){return this.dialog.open(Ac,{id:ji.a.RemoveUserDialog,disableClose:!1,maxWidth:"420px",data:{organization:e,users:t}}).afterClosed()}transferUserContent(e,t,n){return this.dialog.open(jc,{id:ji.a.TransferUserContentDialog,disableClose:!0,maxWidth:"420px",data:{organization:e,sourceUsers:t,action:n}}).afterClosed()}}return e.\u0275fac=function(t){return new(t||e)(x.Zb(ln.b),x.Zb(Oc.a))},e.\u0275prov=x.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $c(e,t){if(1&e&&x.Qb(0,"app-icon",4),2&e){const e=x.gc();x.mc("icon",e.icon)}}const Qc=["*",[["","input-after",""]]],Bc=function(e){return{"input-group--has-icon":e}},qc=["*","[input-after]"];let Gc=(()=>{class e{constructor(){this.icon=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-input-group"]],inputs:{icon:"icon"},ngContentSelectors:qc,decls:6,vars:4,consts:[[1,"input-group",3,"ngClass"],["class","input-group__icon",3,"icon",4,"ngIf"],[1,"input-group__main"],[1,"input-group__after"],[1,"input-group__icon",3,"icon"]],template:function(e,t){1&e&&(x.lc(Qc),x.Vb(0,"div",0),x.Nc(1,$c,1,1,"app-icon",1),x.Vb(2,"div",2),x.kc(3),x.Ub(),x.Vb(4,"div",3),x.kc(5,1),x.Ub(),x.Ub()),2&e&&(x.mc("ngClass",x.pc(2,Bc,t.icon)),x.Db(1),x.mc("ngIf",t.icon))},directives:[i.m,i.p,y.a],styles:[".input-group{display:flex;position:relative}.input-group__icon{display:flex;align-items:center;justify-content:center;position:absolute;z-index:1;top:0;left:0;height:100%;width:36px}.input-group__main{flex:1 1 100%}.input-group__after{position:absolute;top:0;bottom:0;right:0;display:flex;z-index:1}.input-group--has-icon input{padding-left:36px!important}"],encapsulation:2,changeDetection:0}),e})();var Wc=n("STbY"),Jc=n("vxfF"),Hc=n("MKnA"),Kc=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Yc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Zc(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",37),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleManageTeamAccountClick()})),x.hc(1,"async"),x.Vb(2,"div",38),x.Qb(3,"app-icon",39),x.Vb(4,"div",40),x.Pc(5,"Manage"),x.Ub(),x.Ub(),x.Ub()}if(2&e){const e=x.gc(2);x.mc("disabled",x.ic(1,1,e.isTrialExpired$))}}function Xc(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",41),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleAddMemberClick()})),x.hc(1,"async"),x.Qb(2,"app-icon",42),x.Ub()}if(2&e){const e=x.gc(2);x.mc("disabled",x.ic(1,1,e.isTrialExpired$))}}function eo(e,t){if(1&e&&(x.Vb(0,"div",34),x.Nc(1,Zc,6,3,"button",35),x.Nc(2,Xc,3,3,"button",36),x.Ub()),2&e){const e=x.gc();x.Db(1),x.mc("ngIf",e.canManageTeam),x.Db(1),x.mc("ngIf",e.canInviteUsers)}}function to(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",43),x.cc("click",(function(){return x.Cc(e),x.gc().handleClearQuery()})),x.Pc(1," Clear "),x.Ub()}}function no(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",44),x.cc("click",(function(){return x.Cc(e),x.gc().switchTab("pending")})),x.Pc(1),x.Ub()}if(2&e){const e=x.gc();x.Hb("team__tab--active","pending"===e.activeTab),x.Db(1),x.Rc(" ",e.invitees.length," Pending Invites ")}}function io(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",45),x.cc("click",(function(){return x.Cc(e),x.gc().switchTab("pending")})),x.Pc(1),x.Ub()}if(2&e){const e=x.gc();x.Hb("team__tab--active","pending"===e.activeTab),x.Db(1),x.Rc(" ",e.invitees.length," Pending Invites ")}}function co(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",46),x.cc("click",(function(){return x.Cc(e),x.gc().selectAllFilteredUsers()})),x.Pc(1," Select All "),x.Ub()}2&e&&x.mc("uppercase",!1)}function oo(e,t){1&e&&x.Qb(0,"app-divider",47)}function so(e,t){if(1&e&&(x.Vb(0,"button",48),x.Vb(1,"span"),x.Pc(2),x.Qb(3,"app-icon",49),x.Ub(),x.Ub()),2&e){const e=x.gc(),t=x.yc(36),n=x.yc(49);x.mc("uppercase",!1)("matMenuTriggerFor","members"===e.activeTab?t:n),x.Db(2),x.Rc(" ",e.selectedUsers.size," selected ")}}function ao(e,t){1&e&&x.Qb(0,"app-divider",47)}function ro(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",58),x.cc("click",(function(){x.Cc(e);const t=x.gc().$implicit;return x.gc().handleUserActionsClick(t)})),x.Qb(1,"app-icon",59),x.Ub()}if(2&e){const e=x.gc().$implicit,t=x.yc(5),n=x.yc(14),i=x.gc();x.mc("matMenuTriggerFor","members"===i.activeTab?t:n)("disabled",i.isCurrentUser(e))}}function lo(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div",50),x.cc("click",(function(n){x.Cc(e);const i=t.$implicit;return x.gc().handleUserClick(n,i)})),x.Qb(1,"app-team-user",51),x.Nc(2,ro,2,2,"button",52),x.hc(3,"async"),x.Vb(4,"mat-menu",null,53),x.Vb(6,"button",21),x.cc("click",(function(){return x.Cc(e),x.gc().transferSelectedUsersContent()})),x.Pc(7," Transfer Content "),x.Ub(),x.Vb(8,"button",54),x.Pc(9," Change Role "),x.Ub(),x.Qb(10,"mat-divider"),x.Vb(11,"button",55),x.cc("click",(function(){return x.Cc(e),x.gc().removeSelectedUsers()})),x.Pc(12," Remove From Team "),x.Ub(),x.Ub(),x.Vb(13,"mat-menu",null,56),x.Vb(15,"button",57),x.cc("click",(function(){return x.Cc(e),x.gc().resendSelectedUsersInvites()})),x.Pc(16," Resend Invite "),x.Ub(),x.Ub(),x.Ub()}if(2&e){const e=t.$implicit,n=x.gc(),i=x.yc(64);x.Hb("team__user--selected",e.selected)("team__user--current",n.isCurrentUser(e)),x.Db(1),x.mc("user",e),x.Db(1),x.mc("ngIf",x.ic(3,7,n.isAdmin$)||n.canInviteUsers&&"pending"===n.activeTab),x.Db(6),x.mc("matMenuTriggerFor",i)}}function po(e,t){1&e&&x.Qb(0,"app-spinner",60)}function uo(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",61),x.cc("click",(function(){x.Cc(e);const n=t.$implicit;return x.gc().setSelectedUsersRole(n)})),x.Vb(1,"div",62),x.Pc(2),x.Ub(),x.Vb(3,"div",63),x.Pc(4),x.Ub(),x.Ub()}if(2&e){const e=t.$implicit;x.Db(2),x.Rc(" ",e.role_display_name," "),x.Db(2),x.Rc(" ",e.role_description," ")}}const bo=function(e,t){return{"team__tab--active":e,"team__tab--pointer":t}},go={label:"Role",fields:["role"],dataTest:"roleDescending",ascending:!1},ho={label:"Status",fields:["invitationStatus"],dataTest:"invitationStatusAscending",ascending:!0},mo={label:"Name (A-Z)",fields:["name"],dataTest:"nameAscending",ascending:!0},fo=[go,mo,{label:"Name (Z-A)",fields:["name"],dataTest:"nameDescending",ascending:!1},{label:"Email (A-Z)",fields:["email"],dataTest:"emailAscending",ascending:!0},{label:"Email (Z-A)",fields:["email"],dataTest:"emailDescending",ascending:!1}],xo=[ho,mo,{label:"Name (Z-A)",fields:["name"],dataTest:"nameDescending",ascending:!1},{label:"Email (A-Z)",fields:["email"],dataTest:"emailAscending",ascending:!0},{label:"Email (Z-A)",fields:["email"],dataTest:"emailDescending",ascending:!1}];let vo=(()=>{class e{constructor(e,t,n,i,c,o,s,a,r){this.store=e,this.actions=t,this.formBuilder=n,this.dialog=i,this.dialogs=c,this.usersService=o,this.organizationActionsService=s,this.changeDetectorRef=a,this.snackBar=r,this.breakpoint=m.a,this.sortOptions=fo,this.sort=mo,this.ngUnsubscribe=new l.a,this.users=[],this.selectedUsers=new Set,this.invitees=[],this.usersToDisplay=[],this.filteredUsersToDisplay=[],this.userLimitMsg="",this.canManageTeam=!1,this.canAssignRoles=!1,this.canRemoveUsers=!1,this.canInviteUsers=!1,this.activeTab="members"}get filtering(){return""!==this.form.value.search}ngOnInit(){this.initForm(),this.initEventListers(),this.initPermissions(),this.initInviteListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({search:[""]}),this.form.valueChanges.pipe(Object(Vi.a)(125),Object(d.a)(this.ngUnsubscribe)).subscribe(({search:e})=>{this.filteredUsersToDisplay=e?this.filterUsers(this.usersToDisplay,e,this.sort):this.usersToDisplay,this.changeDetectorRef.markForCheck()})}initEventListers(){this.organization$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)),Object(A.a)((e,t)=>Object(r.isEqual)(e,t)),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.userLimitMsg="Unlimited"!==e.user_limit?`The maximum number of members in your team is ${e.user_limit}.`:"This team has unlimited members.",this.refreshUsers()});const e=this.users$.pipe(Object(R.a)(e=>e.map(e=>this.usersService.createUserDisplayModel(e))),Object(d.a)(this.ngUnsubscribe)),t=this.invites$.pipe(Object(R.a)(e=>e.map(e=>this.usersService.createUserDisplayModel(e.invitee_user,e.invite_status))),Object(d.a)(this.ngUnsubscribe));Object(N.b)([e,t]).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.users=e,this.invitees=t,this.synchSelectedUsers();const n=this.form.value.search;this.usersToDisplay="members"===this.activeTab?this.users:this.invitees,this.filteredUsersToDisplay=this.filterUsers(this.usersToDisplay,n,this.sort),this.changeDetectorRef.markForCheck()})}initPermissions(){Object(N.b)([this.users$,this.userRole$]).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(([,e])=>{this.canManageTeam=Ri.k(e,Ti.a.EditTeamAccount),this.canAssignRoles=Ri.k(e,Ti.a.AssignRole),this.canRemoveUsers=Ri.k(e,Ti.a.RemoveUser),this.canInviteUsers=Ri.k(e,Ti.a.InviteUsers),this.changeDetectorRef.markForCheck()}),this.store.dispatch(new j.x)}initInviteListener(){this.actions.pipe(Object(a.l)(_c.s),Object(d.a)(this.ngUnsubscribe)).subscribe(({responses:e})=>{const t=e.filter(e=>"success"===e.status);0===e.filter(e=>"error"===e.status).length&&(this.snackBar.open(t.length+" invite(s) have been sent"),this.refreshUsers()),this.changeDetectorRef.markForCheck()}),this.actions.pipe(Object(a.l)(_c.r),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("There was an error sending the invites, please try again."),this.changeDetectorRef.markForCheck()})}handleUserClick(e,t){this.store.selectSnapshot(h.a.isAdmin)&&(e.shiftKey?t.selected?this.deselectUser(t):this.selectUser(t):(this.deselectAllUsers(),this.selectUser(t)))}handleUserActionsClick(e){this.store.selectSnapshot(h.a.isAdmin)&&this.selectUser(e)}handleManageTeamAccountClick(){const e=this.store.selectSnapshot(I.a.getOrganization);this.manageTeam(e)}handleAddMemberClick(){this.dialogs.openAddUserDialog()}handleClearQuery(){this.form.patchValue({search:""})}handleSort(e){this.sort=e,this.filteredUsersToDisplay=this.sortUsers(this.filteredUsersToDisplay,e),this.changeDetectorRef.markForCheck()}trackByUser(e,t){return t.id}filterUsers(e,t,n){const i=this.searchUsers(e,t);return[...this.sortUsers(i,n)]}searchUsers(e,t){if(!t)return e;const n=t.toLocaleLowerCase();return[...e.filter(e=>{const{name:t,email:i}=e;return[t,i].some(e=>(e||"").toLocaleLowerCase().includes(n))})]}sortUsers(e,t){const{ascending:n,fields:i}=t;return t.label===go.label?this.sortUsers(e,mo).sort((e,t)=>{const i=e.role.role_name,c=t.role.role_name;return Object(Si.a)(i,c)*(n?1:-1)}):[...Object(Bn.a)(e,i,n)]}switchTab(e){this.activeTab=e,"members"===e?(this.usersToDisplay=this.users,this.sortOptions=fo,this.sort=mo):"pending"===e&&(this.usersToDisplay=this.users,this.sortOptions=xo,this.sort=ho),this.deselectAllUsers(),this.usersToDisplay="members"===e?this.users:this.invitees,this.filteredUsersToDisplay=this.filterUsers(this.usersToDisplay,this.form.value.search,this.sort)}resendSelectedUsersInvites(){const{eid:e}=this.store.selectSnapshot(I.a.getOrganization),t=Array.from(this.selectedUsers).map(e=>({user_email:e.email,role_id:e.role.role_id}));this.store.dispatch(new _c.q(e,t))}transferSelectedUsersContent(){const e=this.store.selectSnapshot(I.a.getOrganization),t=Array.from(this.selectedUsers);this.organizationActionsService.transferUserContent(e,t).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleUserTransferResponse(e),e&&(this.deselectAllUsers(),this.changeDetectorRef.markForCheck())})}setSelectedUsersRole(e){const t=this.store.selectSnapshot(I.a.getOrganization),n=Array.from(this.selectedUsers);this.organizationActionsService.setUserRole(t,n,e).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleRoleChangeResponse(e),e.success&&this.refreshUsers()})}removeSelectedUsers(){const e=this.store.selectSnapshot(I.a.getOrganization),t=Array.from(this.selectedUsers);this.organizationActionsService.removeUser(e,t).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleUserRemoveResponse(e),e.success&&this.refreshUsers()})}trackTeamNode(e,t){return t.id}selectAllFilteredUsers(){this.filteredUsersToDisplay.forEach(this.selectUser,this)}deselectAllUsers(){this.selectedUsers.forEach(this.deselectUser,this)}isCurrentUser(e){const t=this.store.selectSnapshot(h.a.getUserProfile).id;return e.id===t}exportUsersToCSV(e="members"){const t=Array.from(this.selectedUsers).map(e=>({email:e.email,name:e.name,role:e.role.role_display_name,invitationStatus:e.invitationStatus})),n=[{field:"name",label:"Name"},{field:"email",label:"Email"},{field:"role",label:"Role"}];"invitations"===e&&n.push({field:"invitationStatus",label:"Invitation Status"}),Object(Cc.a)(t,n).subscribe(t=>{const n=(new Date).toISOString().split("T")[0],i="members"===e?`biodigital-members-${n}.csv`:`biodigital-invitations-${n}.csv`,c=new Blob([t],{type:"text/csv;charset=utf-8"});Object(yc.saveAs)(c,i)})}selectUser(e){this.isCurrentUser(e)||(e.selected=!0,this.selectedUsers.add(e))}deselectUser(e){e.selected=!1,this.selectedUsers.delete(e)}synchSelectedUsers(){const e=new Set(this.users.map(e=>e.id)),t=Array.from(this.selectedUsers).filter(t=>e.has(t.id)).map(e=>e.id);this.deselectAllUsers(),t.forEach(e=>{const t=this.getDisplayUser(e);this.selectUser(t)})}refreshUsers(){const e=this.store.selectSnapshot(I.a.getOrganization);this.store.dispatch(new _c.a(e.id)),this.store.dispatch(new _c.d(e.id))}manageTeam(e){this.dialog.open(vc,{id:ji.a.AddTeamModelDialog,panelClass:"bg-dialog-responsive",disableClose:!1,data:{organization:e}})}handleRoleChangeResponse(e){if(e.success){const t=this.getRole(e.targetRoleId);this.snackBar.open(`The role of ${this.selectedUsers.size} user(s) has been updated to ${t.role_display_name}.`)}else this.snackBar.open(`The role of ${this.selectedUsers.size} user(s) was not updated.`)}handleUserRemoveResponse(e){if(e.success)if("number"==typeof e.targetUserId){const t=this.getDisplayUser(e.targetUserId);this.snackBar.open(`${this.selectedUsers.size} user(s) have been removed from the team and their content transferred to ${t.name||t.email}.`)}else this.snackBar.open(this.selectedUsers.size+" user(s) have been removed from the team and their content deleted.");else this.snackBar.open("The selected user(s) was not removed.")}handleUserTransferResponse(e){if(e){const t=this.getDisplayUser(e[0].targetUserId);this.snackBar.open(`The content of ${this.selectedUsers.size} user(s) has been transferred to ${t.name||t.email}.`)}else this.snackBar.open(`The content of ${this.selectedUsers.size} user(s) was not transferred`)}getDisplayUser(e){return this.users.find(t=>t.id===e)}getRole(e){return this.store.selectSnapshot(h.a.getUserRoles).find(t=>t.role_id===e)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(ln.b),x.Pb(v.a),x.Pb(Oc.a),x.Pb(Ec),x.Pb(x.i),x.Pb(me.b))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-manage"]],decls:67,vars:50,consts:[["label","Team"],["panel-view-actions","",4,"ngIf"],[1,"team",3,"formGroup"],[1,"text-14","mb-8"],[1,"text-bold"],[1,"mb-3"],["icon","search"],["type","text","placeholder","Search...","formControlName","search",1,"input"],["type","button","buttonSize","xsmall","buttonType","default","app-button","","input-after","","buttonTheme","light","class","mr-2",3,"click",4,"ngIf"],[2,"display","block"],[1,"team__tab","team__tab--mobile","text-12","text-semibold",3,"ngClass","click"],["class","team__tab team__tab--mobile text-12 text-semibold",3,"team__tab--active","click",4,"ngIf"],[1,"team__header"],[1,"team__tab","team__tab--desktop","text-12","text-semibold",3,"ngClass","click"],["class","team__tab team__tab--desktop text-12 text-semibold","data-test","desktopPendingInvites",3,"team__tab--active","click",4,"ngIf"],[1,"team__selection"],[1,"flex","items-center"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectAllUsersButton",3,"uppercase","click",4,"ngIf"],["class","mh-1",4,"ngIf"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectedUsersActionsButton",3,"uppercase","matMenuTriggerFor",4,"ngIf"],["selectedUsersActions","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",1,"text-danger",3,"click"],["selectedInviteeActions","matMenu"],["mat-menu-item","","data-test","resendSelectedUserInvites",3,"click"],["data-test","teamSort"],[3,"sortLabel","sortOptions","sort","sortChange"],[1,"pv-2","pl-2"],[1,"team__users",3,"itemSize"],["class","team__user flex flex-row align-center items-center","data-test","teamMember",3,"team__user--selected","team__user--current","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["size","huge",4,"ngIf"],["userRolesMenu","matMenu"],["class","flex flex-column team__role-option pv-2","mat-menu-item","","data-test","userRoleMenuItem",3,"click",4,"ngFor","ngForOf"],["panel-view-actions",""],["type","button","class","mr-2","app-button","","buttonType","outline","buttonTheme","light","data-test","teamManageButton",3,"disabled","click",4,"ngIf"],["type","button","app-button","","buttonType","outline","buttonTheme","light","buttonShape","square","data-test","teamInviteMembersButton",3,"disabled","click",4,"ngIf"],["type","button","app-button","","buttonType","outline","buttonTheme","light","data-test","teamManageButton",1,"mr-2",3,"disabled","click"],[1,"flex","flex-row"],["icon","cog"],[1,"ml-2"],["type","button","app-button","","buttonType","outline","buttonTheme","light","buttonShape","square","data-test","teamInviteMembersButton",3,"disabled","click"],["icon","user-plus"],["type","button","buttonSize","xsmall","buttonType","default","app-button","","input-after","","buttonTheme","light",1,"mr-2",3,"click"],[1,"team__tab","team__tab--mobile","text-12","text-semibold",3,"click"],["data-test","desktopPendingInvites",1,"team__tab","team__tab--desktop","text-12","text-semibold",3,"click"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectAllUsersButton",3,"uppercase","click"],[1,"mh-1"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectedUsersActionsButton",3,"uppercase","matMenuTriggerFor"],["icon","caret-down",1,"ml-1"],["data-test","teamMember",1,"team__user","flex","flex-row","align-center","items-center",3,"click"],[1,"flex","flex-grow","mr-2",3,"user"],["app-button","","appEventFence","","buttonTheme","light","data-test","userActionsMenuButon",3,"matMenuTriggerFor","disabled","click",4,"ngIf"],["selectedUsersListActions","matMenu"],["mat-menu-item","","data-test","userRoleMenuButon",3,"matMenuTriggerFor"],["mat-menu-item","","data-test","userLeaveTeamButon",1,"text-danger",3,"click"],["selectedInviteeListActions","matMenu"],["mat-menu-item","","data-test","resendUserInvite",3,"click"],["app-button","","appEventFence","","buttonTheme","light","data-test","userActionsMenuButon",3,"matMenuTriggerFor","disabled","click"],["icon","ellipsis-v"],["size","huge"],["mat-menu-item","","data-test","userRoleMenuItem",1,"flex","flex-column","team__role-option","pv-2",3,"click"],["data-test","userRoleName",1,"team__role-option-name","text-12"],["data-test","userRoleDescription",1,"team__role-option-description","text-11","mt-1"]],template:function(e,t){if(1&e&&(x.Vb(0,"app-account-panel",0),x.Nc(1,eo,3,2,"div",1),x.Vb(2,"div",2),x.hc(3,"async"),x.Vb(4,"div",3),x.Pc(5," You are in the "),x.Vb(6,"em",4),x.Pc(7),x.hc(8,"async"),x.Ub(),x.Pc(9),x.Ub(),x.Vb(10,"div",5),x.Vb(11,"app-input-group",6),x.Qb(12,"input",7),x.Nc(13,to,2,0,"button",8),x.Ub(),x.Ub(),x.Vb(14,"div",9),x.Vb(15,"button",10),x.cc("click",(function(){return t.canInviteUsers&&t.switchTab("members")})),x.Pc(16),x.Ub(),x.Nc(17,no,2,3,"button",11),x.Ub(),x.Vb(18,"div"),x.Vb(19,"div",12),x.Vb(20,"div"),x.Vb(21,"button",13),x.cc("click",(function(){return t.canInviteUsers&&t.switchTab("members")})),x.Pc(22),x.Ub(),x.Nc(23,io,2,3,"button",14),x.Ub(),x.Vb(24,"div",15),x.Vb(25,"div",16),x.Nc(26,co,2,1,"button",17),x.hc(27,"async"),x.Nc(28,oo,1,0,"app-divider",18),x.hc(29,"async"),x.Nc(30,so,4,3,"button",19),x.hc(31,"async"),x.Nc(32,ao,1,0,"app-divider",18),x.hc(33,"async"),x.hc(34,"async"),x.Vb(35,"mat-menu",null,20),x.Vb(37,"button",21),x.cc("click",(function(){return t.deselectAllUsers()})),x.Pc(38,"Clear Selection"),x.Ub(),x.Vb(39,"button",21),x.cc("click",(function(){return t.transferSelectedUsersContent()})),x.Pc(40," Transfer Content "),x.Ub(),x.Vb(41,"button",22),x.Pc(42,"Change Role"),x.Ub(),x.Vb(43,"button",21),x.cc("click",(function(){return t.exportUsersToCSV("members")})),x.Pc(44,"Export to CSV"),x.Ub(),x.Qb(45,"mat-divider"),x.Vb(46,"button",23),x.cc("click",(function(){return t.removeSelectedUsers()})),x.Pc(47," Remove From Team "),x.Ub(),x.Ub(),x.Vb(48,"mat-menu",null,24),x.Vb(50,"button",21),x.cc("click",(function(){return t.deselectAllUsers()})),x.Pc(51,"Clear Selection"),x.Ub(),x.Vb(52,"button",25),x.cc("click",(function(){return t.resendSelectedUsersInvites()})),x.Pc(53," Resend Invite "),x.Ub(),x.Vb(54,"button",21),x.cc("click",(function(){return t.exportUsersToCSV("invitations")})),x.Pc(55,"Export to CSV"),x.Ub(),x.Ub(),x.Ub(),x.Vb(56,"div",26),x.Vb(57,"app-sort",27),x.cc("sortChange",(function(e){return t.handleSort(e)})),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Vb(58,"div",28),x.Vb(59,"cdk-virtual-scroll-viewport",29),x.Nc(60,lo,17,9,"div",30),x.Ub(),x.Ub(),x.Ub(),x.Nc(61,po,1,0,"app-spinner",31),x.hc(62,"async"),x.Vb(63,"mat-menu",null,32),x.Nc(65,uo,5,2,"button",33),x.hc(66,"async"),x.Ub(),x.Ub(),x.Ub()),2&e){const e=x.yc(64);let n=null;x.Db(1),x.mc("ngIf",t.canManageTeam||t.canInviteUsers),x.Db(1),x.Hb("team--admin",x.ic(3,26,t.isAdmin$)),x.mc("formGroup",t.form),x.Db(5),x.Qc(null==(n=x.ic(8,28,t.organization$))?null:n.name),x.Db(2),x.Rc(" team. ",t.userLimitMsg," "),x.Db(4),x.mc("ngIf",t.filtering),x.Db(2),x.mc("ngClass",x.qc(44,bo,"members"===t.activeTab&&t.canInviteUsers,!t.canInviteUsers)),x.Db(1),x.Rc(" ",t.users.length," Active Members "),x.Db(1),x.mc("ngIf",t.canInviteUsers),x.Db(4),x.mc("ngClass",x.qc(47,bo,"members"===t.activeTab&&t.canInviteUsers,!t.canInviteUsers)),x.Db(1),x.Rc(" ",t.users.length," Active Members "),x.Db(1),x.mc("ngIf",t.canInviteUsers),x.Db(3),x.mc("ngIf",x.ic(27,30,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab),x.Db(2),x.mc("ngIf",(x.ic(29,32,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab)&&t.selectedUsers.size>0),x.Db(2),x.mc("ngIf",(x.ic(31,34,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab)&&t.selectedUsers.size>0),x.Db(2),x.mc("ngIf",(x.ic(33,36,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab)&&x.ic(34,38,t.breakpoint$)>=t.breakpoint.Large),x.Db(9),x.mc("matMenuTriggerFor",e),x.Db(16),x.mc("sortLabel","Sort Team Members")("sortOptions",t.sortOptions)("sort",t.sort),x.Db(2),x.mc("itemSize",48),x.Db(1),x.mc("cdkVirtualForOf",t.filteredUsersToDisplay)("cdkVirtualForTrackBy",t.trackTeamNode),x.Db(1),x.mc("ngIf",x.ic(62,40,t.loadingUsers$)),x.Db(4),x.mc("ngForOf",x.ic(66,42,t.roles$))}},directives:[ge,i.p,z.s,z.j,Gc,z.c,z.r,z.i,i.m,Wc.a,Wc.b,Wc.d,He.a,Jn.a,Jc.e,Jc.a,Jc.d,i.o,fe.a,y.a,Hc.a,kc,mt.a,un.a],pipes:[i.b],styles:[".team__users[_ngcontent-%COMP%]{height:calc(100vh - 380px)}.team__user[_ngcontent-%COMP%]{margin:4px 0;padding:8px;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.team__user[_ngcontent-%COMP%]:focus, .team__user[_ngcontent-%COMP%]:hover{background-color:#eaeff5}.team__user--selected[_ngcontent-%COMP%]{background-color:#d6ecff}.team__user--selected[_ngcontent-%COMP%]:focus, .team__user--selected[_ngcontent-%COMP%]:hover{background-color:#add6ff}.team__user--current[_ngcontent-%COMP%]:focus, .team__user--current[_ngcontent-%COMP%]:hover{background-color:transparent}.team--admin[_ngcontent-%COMP%]   .team__user[_ngcontent-%COMP%]{cursor:pointer}.team--admin[_ngcontent-%COMP%]   .team__user--current[_ngcontent-%COMP%]{cursor:auto}.team__role-option[_ngcontent-%COMP%]{height:auto;line-height:normal;max-width:240px;white-space:normal}.team__role-option-name[_ngcontent-%COMP%]{color:#131c2a}.team__role-option-description[_ngcontent-%COMP%]{color:#374a68}.team__header[_ngcontent-%COMP%]{border-bottom:solid #eaeff5;border-width:1px}.team__header[_ngcontent-%COMP%], .team__selection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.team__selection[_ngcontent-%COMP%]{flex-direction:row}.team__tab[_ngcontent-%COMP%]{background:none;border:none;padding:10px 4px;cursor:pointer;color:#374a68}.team__tab[_ngcontent-%COMP%]:not(:last-child){margin-right:12px}.team__tab--active[_ngcontent-%COMP%]{border-bottom:solid #2d72dc;border-width:3px;color:#131c2a}.team__tab--pointer[_ngcontent-%COMP%]{cursor:default}.team__tab--desktop[_ngcontent-%COMP%]{display:inline}.team__tab--mobile[_ngcontent-%COMP%]{display:none}.team__selected-users--desktop[_ngcontent-%COMP%]{display:block}.team__selected-users--mobile[_ngcontent-%COMP%]{display:none}@media (max-width:959px){.team__header[_ngcontent-%COMP%]{padding-top:16px}.team__selection[_ngcontent-%COMP%]{width:100%}.team__selected-users--desktop[_ngcontent-%COMP%], .team__tab--desktop[_ngcontent-%COMP%]{display:none}.team__selected-users--mobile[_ngcontent-%COMP%], .team__tab--mobile[_ngcontent-%COMP%]{display:inline-block}}"],changeDetection:0}),Kc([Object(a.e)(I.a.getOrganization),Yc("design:type",p.a)],e.prototype,"organization$",void 0),Kc([Object(a.e)(I.a.isTrialExpired),Yc("design:type",p.a)],e.prototype,"isTrialExpired$",void 0),Kc([Object(a.e)(Pc.a.getUsers),Yc("design:type",p.a)],e.prototype,"users$",void 0),Kc([Object(a.e)(Pc.a.getInvites),Yc("design:type",p.a)],e.prototype,"invites$",void 0),Kc([Object(a.e)(Pc.a.getUsersLoading),Yc("design:type",p.a)],e.prototype,"loadingUsers$",void 0),Kc([Object(a.e)(h.a.getUserProfile),Yc("design:type",p.a)],e.prototype,"userProfile$",void 0),Kc([Object(a.e)(h.a.getUserRole),Yc("design:type",p.a)],e.prototype,"userRole$",void 0),Kc([Object(a.e)(h.a.getUserRoles),Yc("design:type",p.a)],e.prototype,"roles$",void 0),Kc([Object(a.e)(h.a.isAdmin),Yc("design:type",p.a)],e.prototype,"isAdmin$",void 0),Kc([Object(a.e)(f.a.getBreakpoint),Yc("design:type",p.a)],e.prototype,"breakpoint$",void 0),e})();var Po=n("Lnht"),_o=n("/LQR");let Co=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-premium-user"]],decls:6,vars:1,consts:[["label","Team",1,"team"],[1,"team__features"],[1,"mt-4","flex","flex-column","items-center"],["type","button","appSupportLink","","buttonTheme","light","app-button","","buttonType","primary",3,"uppercase"]],template:function(e,t){1&e&&(x.Vb(0,"app-account-panel",0),x.Vb(1,"div",1),x.Qb(2,"app-team-features"),x.Ub(),x.Vb(3,"div",2),x.Vb(4,"button",3),x.Pc(5," Contact Us "),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(4),x.mc("uppercase",!1))},directives:[ge,Po.a,fe.a,_o.a],styles:[".team__features[_ngcontent-%COMP%]{padding:32px}@media (max-width:480px){.team__features[_ngcontent-%COMP%]{padding:16px}}"],changeDetection:0}),e})();var yo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const Oo=["error"];function Uo(e,t){1&e&&(x.Tb(0),x.Qb(1,"app-spinner",9),x.Sb())}function Mo(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",19),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleCancelClick()})),x.Pc(1," Cancel "),x.Ub()}}function wo(e,t){if(1&e){const e=x.Wb();x.Tb(0),x.Vb(1,"div",10),x.Vb(2,"app-message-toggle",11,12),x.Pc(4),x.Ub(),x.Ub(),x.Vb(5,"div",13),x.Vb(6,"app-form-field",14),x.Qb(7,"input",15),x.Ub(),x.Vb(8,"div",16),x.Nc(9,Mo,2,0,"button",17),x.Vb(10,"button",18),x.cc("click",(function(){return x.Cc(e),x.gc().handleJoinClick()})),x.Pc(11," Join Team "),x.Ub(),x.Ub(),x.Ub(),x.Sb()}if(2&e){const e=x.gc();x.Db(2),x.mc("shown",!1),x.Db(2),x.Rc(" ",e.errorMessage," "),x.Db(1),x.mc("formGroup",e.form),x.Db(4),x.mc("ngIf",e.form.dirty),x.Db(1),x.mc("disabled",e.form.invalid)}}let ko=(()=>{class e{constructor(e,t,n,i,c){this.authRoutingService=e,this.store=t,this.actions=n,this.formBuilder=i,this.changeDetectorRef=c,this.joined=!1,this.errorMessage="",this.ngUnsubscribe=new l.a}ngOnInit(){this.initForm(),this.initEventListers()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.form=this.formBuilder.group({code:["",z.C.required]})}initEventListers(){this.actions.pipe(Object(a.l)(_c.l),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.joined=!0,this.errorMessage="",this.store.dispatch(new j.u),this.changeDetectorRef.markForCheck()}),this.actions.pipe(Object(a.l)(_c.k),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.errorMessage=Object(Ke.a)(e.error)||"There was an error joining the group",this.error.shown=!0,this.form.markAsUntouched(),this.changeDetectorRef.markForCheck()})}handleCancelClick(){this.form.reset(),this.errorMessage="",this.error.shown=!1,this.changeDetectorRef.markForCheck()}handleJoinClick(){const{code:e}=this.form.value;this.store.dispatch(new _c.j(e))}handleStartTrialClick(){this.authRoutingService.navigateToTeamCreation()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(P.a),x.Pb(a.h),x.Pb(a.b),x.Pb(z.f),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-join"]],viewQuery:function(e,t){if(1&e&&x.Vc(Oo,!0),2&e){let e;x.xc(e=x.dc())&&(t.error=e.first)}},decls:15,vars:4,consts:[[1,"team"],["label","Join a Team"],[1,"text-14","mv-4"],[4,"ngIf"],[1,"mv-8"],["label","Create a Team"],[1,"team__features"],[1,"mt-8","flex","flex-column","items-center"],["type","button","buttonTheme","light","app-button","","buttonType","primary",1,"mb-4",3,"click"],["size","huge"],[1,"mv-4"],["type","error","icon","exclamation-circle",3,"shown"],["error",""],[1,"mt-4",3,"formGroup"],["label","Invite Code","theme","light"],["type","text","formControlName","code",1,"input"],[1,"flex","justify-end","mt-1"],["type","reset","app-button","","buttonTheme","light","buttonType","default","class","mr-4",3,"click",4,"ngIf"],["type","submit","buttonTheme","light","app-button","","buttonType","primary",3,"disabled","click"],["type","reset","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"click"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"app-account-panel",1),x.Vb(2,"div",2),x.Pc(3,"Use your invite code to join an existing team account."),x.Ub(),x.Nc(4,Uo,2,0,"ng-container",3),x.hc(5,"async"),x.Nc(6,wo,12,5,"ng-container",3),x.Ub(),x.Vb(7,"div",4),x.Qb(8,"mat-divider"),x.Ub(),x.Vb(9,"app-account-panel",5),x.Vb(10,"div",6),x.Qb(11,"app-team-features"),x.Ub(),x.Vb(12,"div",7),x.Vb(13,"button",8),x.cc("click",(function(){return t.handleStartTrialClick()})),x.Pc(14," Start free trial "),x.Ub(),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(4),x.mc("ngIf",x.ic(5,2,t.joining$)||t.joined),x.Db(2),x.mc("ngIf",!t.joined))},directives:[ge,i.p,He.a,Po.a,fe.a,un.a,Ze.a,z.s,z.j,_e.a,z.c,z.r,z.i],pipes:[i.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(Pc.a.getJoining),yo("design:type",p.a)],e.prototype,"joining$",void 0),e})();var Do=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Vo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function So(e,t){1&e&&x.Qb(0,"app-team-manage")}function Ro(e,t){1&e&&x.Qb(0,"app-team-premium-user")}function To(e,t){1&e&&x.Qb(0,"app-team-join")}let jo=(()=>{class e{constructor(){this.userType=pt.a}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-page"]],decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(x.Tb(0,0),x.hc(1,"async"),x.Nc(2,So,1,0,"app-team-manage",1),x.Nc(3,Ro,1,0,"app-team-premium-user",1),x.Nc(4,To,1,0,"app-team-join",1),x.Sb()),2&e&&(x.mc("ngSwitch",x.ic(1,4,t.userType$)),x.Db(2),x.mc("ngSwitchCase",t.userType.Team),x.Db(1),x.mc("ngSwitchCase",t.userType.Premium),x.Db(1),x.mc("ngSwitchCase",t.userType.Free))},directives:[i.r,i.s,vo,Co,ko],pipes:[i.b],styles:[""],changeDetection:0}),Do([Object(a.e)(h.a.getUserType),Vo("design:type",p.a)],e.prototype,"userType$",void 0),Do([Object(a.e)(h.a.getUserProfile),Vo("design:type",p.a)],e.prototype,"profile$",void 0),Do([Object(a.e)(I.a.getOrganization),Vo("design:type",p.a)],e.prototype,"organization$",void 0),e})();var Io=n("8dAg"),zo=n("qXBG"),No=n("wn8Z"),Ao=n("mWjH");const Fo=["optionEl"];function Lo(e,t){if(1&e&&x.Qb(0,"app-icon",14),2&e){const e=x.gc();x.mc("icon",e.icon)}}function Eo(e,t){if(1&e&&(x.Vb(0,"div",15),x.Pc(1),x.Ub()),2&e){const e=x.gc();x.Db(1),x.Rc(" ",e.tag," ")}}function $o(e,t){if(1&e&&(x.Vb(0,"p",16),x.Pc(1),x.Ub()),2&e){const e=x.gc();x.Db(1),x.Rc(" ",e.description," ")}}function Qo(e,t){if(1&e&&(x.Vb(0,"div",17),x.Pc(1),x.Ub()),2&e){const e=x.gc();x.Db(1),x.Rc(" ",e.tag," ")}}function Bo(e,t){if(1&e&&(x.Vb(0,"li"),x.Pc(1),x.Ub()),2&e){const e=t.$implicit;x.Db(1),x.Rc(" ",e," ")}}function qo(e,t){if(1&e&&(x.Vb(0,"div",18),x.Vb(1,"p"),x.Pc(2),x.Ub(),x.Vb(3,"ul",19),x.Nc(4,Bo,2,1,"li",20),x.Ub(),x.Ub()),2&e){const e=x.gc();x.Db(2),x.Qc(e.content.title),x.Db(2),x.mc("ngForOf",e.content.content)}}const Go=["*"];let Wo=(()=>{class e extends Ao.b{constructor(){super(...arguments),this.compact=!0,this.responseSelected=new x.p}ngOnInit(){}handleResponseClicked(){this.responseSelected.emit()}focus(e){this.optionEl&&this.optionEl.nativeElement.focus()}}return e.\u0275fac=function(t){return Jo(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-question-response"]],viewQuery:function(e,t){if(1&e&&x.Jc(Fo,!0),2&e){let e;x.xc(e=x.dc())&&(t.optionEl=e.first)}},inputs:{title:"title",description:"description",tag:"tag",icon:"icon",content:"content",selected:"selected",compact:"compact",value:"value",responsive:"responsive"},outputs:{responseSelected:"responseSelected"},features:[x.Cb([{provide:z.p,useExisting:Object(x.W)(()=>e),multi:!0}]),x.Ab],ngContentSelectors:Go,decls:17,vars:16,consts:[["data-test","questionResponseLabel",1,"response","flex","flex-column",3,"pointerup"],["optionEl",""],["type","radio",1,"visually-hidden",3,"formControl","value"],[1,"flex","flex-row","justify-between","items-center"],["aria-hidden","true",1,"flex","flex-column","flex-auto"],[1,"response__title","flex","flex-row"],["class","response__title-icon mr-2",3,"icon",4,"ngIf"],[1,"flex-auto"],["class","response__tag mt-2",4,"ngIf"],["class","response__description mt-2",4,"ngIf"],["aria-hidden","true",1,"flex","flex-row","items-center"],["class","response__tag",4,"ngIf"],[1,"response__icon","ml-3",3,"icon"],["class","response__content ml-8 mt-1","aria-hidden","","data-test","questionResponseContent",4,"ngIf"],[1,"response__title-icon","mr-2",3,"icon"],[1,"response__tag","mt-2"],[1,"response__description","mt-2"],[1,"response__tag"],["aria-hidden","","data-test","questionResponseContent",1,"response__content","ml-8","mt-1"],[1,"response__content-list"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(x.lc(),x.Vb(0,"label",0,1),x.cc("pointerup",(function(){return t.handleResponseClicked()})),x.Qb(2,"input",2),x.Vb(3,"div",3),x.Vb(4,"div",4),x.Vb(5,"div",5),x.Nc(6,Lo,1,1,"app-icon",6),x.Vb(7,"span",7),x.Pc(8),x.Ub(),x.Ub(),x.Nc(9,Eo,2,1,"div",8),x.Nc(10,$o,2,1,"p",9),x.Vb(11,"div"),x.kc(12),x.Ub(),x.Ub(),x.Vb(13,"div",10),x.Nc(14,Qo,2,1,"div",11),x.Qb(15,"app-icon",12),x.Ub(),x.Ub(),x.Nc(16,qo,5,2,"div",13),x.Ub()),2&e&&(x.Hb("response--selected",t.selected)("response--compact",t.compact),x.Db(2),x.mc("formControl",t.control)("value",t.value),x.Eb("aria-label",t.title),x.Db(4),x.mc("ngIf",t.icon),x.Db(2),x.Qc(t.title),x.Db(1),x.mc("ngIf",t.tag&&t.responsive),x.Db(1),x.mc("ngIf",t.description),x.Db(4),x.mc("ngIf",t.tag&&!t.responsive),x.Db(1),x.Kc("visibility",t.selected?"visible":"hidden"),x.mc("icon",t.selected?"check-circle":"times-circle"),x.Db(1),x.mc("ngIf",t.selected&&t.content))},directives:[z.x,z.c,z.r,z.h,i.p,y.a,i.o],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.response[_ngcontent-%COMP%]{padding:20px 24px;border:1px solid #96a8c0;box-sizing:border-box;border-radius:4px;color:#374a68;cursor:pointer}.response__title[_ngcontent-%COMP%]{color:#1c2a3f;font-weight:600;font-size:16px;letter-spacing:.4px;line-height:1.4em}.response__title-icon[_ngcontent-%COMP%]{flex:0 0 24px}.response__description[_ngcontent-%COMP%]{color:#374a68;font-size:14px;letter-spacing:.35px;line-height:1.4em}.response__tag[_ngcontent-%COMP%]{color:#61779e;font-size:12px;letter-spacing:.3px;text-transform:uppercase;font-weight:600}.response__icon[_ngcontent-%COMP%], .response__tag[_ngcontent-%COMP%]{line-height:1.4em;white-space:nowrap}.response__icon[_ngcontent-%COMP%]{flex:0 0 48px;color:#2d72dc;font-size:20px;letter-spacing:.5px}.response__content[_ngcontent-%COMP%]{color:#283853;font-size:14px;letter-spacing:.35px;line-height:1.4em}.response__content-list[_ngcontent-%COMP%]{list-style-type:disc;margin-left:24px}.response[_ngcontent-%COMP%]:not(.response--selected):focus, .response[_ngcontent-%COMP%]:not(.response--selected):hover{border-color:#61779e;color:#1c2a3f;background-color:#f9fafd}.response--selected[_ngcontent-%COMP%]{border-color:#2d72dc;box-shadow:0 0 0 1px #2d72dc}.response--selected[_ngcontent-%COMP%]   .response__tag[_ngcontent-%COMP%]{color:#2d72dc}.response--compact[_ngcontent-%COMP%]   .response__title[_ngcontent-%COMP%]{font-weight:400;font-size:14px;letter-spacing:.35px;line-height:1.4em}.response[_ngcontent-%COMP%]:focus-within{outline:2px solid #2d72dc!important}"],changeDetection:0}),e})();const Jo=x.Xb(Wo);var Ho=n("u47x"),Ko=n("IZUe");function Yo(e,t){if(1&e&&(x.Vb(0,"p",9),x.Pc(1),x.Ub()),2&e){const e=x.gc(2);x.Db(1),x.Rc(" ",e.question.hint," ")}}function Zo(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div",10),x.Vb(1,"app-account-question-response",11),x.cc("responseSelected",(function(){x.Cc(e);const n=t.$implicit;return x.gc(2).handleResponseSelected(n)})),x.Ub(),x.Ub()}if(2&e){const e=t.$implicit,n=t.index,i=x.gc(2);x.Hb("question__item--first",0===n),x.Eb("aria-label",e.value)("data-test-value",e.value),x.Db(1),x.mc("title",e.label||e.value)("description",e.hint)("tag",e.tag)("icon",e.icon)("content",e.content)("compact",!e.content)("selected",i.isResponseSelected(e))("value",e)("responsive",i.responsive)}}function Xo(e,t){if(1&e&&x.Qb(0,"input",14),2&e){const e=x.gc(3);x.Eb("placeholder",e.question.label||"")}}function es(e,t){if(1&e){const e=x.Wb();x.Vb(0,"div",10),x.Vb(1,"app-account-question-response",12),x.cc("responseSelected",(function(){return x.Cc(e),x.gc(2).handleOtherResponseSelected()})),x.Nc(2,Xo,1,1,"input",13),x.Ub(),x.Ub()}if(2&e){const e=x.gc(2);x.Eb("aria-label","Other")("data-test-value","Other"),x.Db(1),x.mc("title","Other")("selected",e.isOtherSelected)("value",e.getOtherResponse())("responsive",e.responsive),x.Db(1),x.mc("ngIf",e.isOtherSelected)}}function ts(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",15),x.cc("click",(function(){return x.Cc(e),x.gc(2).handleContinueClick()})),x.Pc(1),x.Ub()}if(2&e){const e=x.gc(2);x.mc("buttonType",e.isAdvanceEnabled?"primary":"flat")("uppercase",!1)("disabled",!e.isAdvanceEnabled),x.Eb("aria-disabled",!e.isAdvanceEnabled),x.Db(1),x.Rc(" ",e.advanceLabel," ")}}function ns(e,t){if(1&e&&(x.Vb(0,"fieldset",1),x.Vb(1,"legend",2),x.Pc(2),x.Ub(),x.Nc(3,Yo,2,1,"p",3),x.Vb(4,"div",4),x.Nc(5,Zo,2,13,"div",5),x.Nc(6,es,3,7,"div",6),x.Ub(),x.Vb(7,"div",7),x.Nc(8,ts,2,5,"button",8),x.Ub(),x.Ub()),2&e){const e=x.gc();x.mc("formGroup",e.form),x.Eb("data-test-value",e.question.account_setting),x.Db(2),x.Rc(" ",e.question.label," "),x.Db(1),x.mc("ngIf",e.question.hint),x.Db(2),x.mc("ngForOf",e.question.responses),x.Db(1),x.mc("ngIf",e.other),x.Db(2),x.mc("ngIf",e.selectedResponse)}}let is=(()=>{class e{constructor(e,t){this.formBuilder=e,this.changeRef=t,this.responseSelected=new x.p,this.advanceSelected=new x.p,this.other=!0,this.advanceLabel="Continue",this.advanceEnabled=!0,this._shown=!1,this.isLast=!1,this.ngUnsubscribe=new l.a,this.initForm()}get selectedResponse(){return this._selectedResponse}set selectedResponse(e){this._selectedResponse=e,this.changeRef.markForCheck()}get isOtherSelected(){return 0===this.question.responses.length||this.isResponseSelected({value:"Other"})}get isOtherValid(){const{description:e}=this.form.value;return""!==e}get isAdvanceEnabled(){return!!this.advanceEnabled&&(this.isOtherSelected?this.isOtherValid:!Object(r.isNil)(this.selectedResponse))}get shown(){return this._shown}set shown(e){this._shown=e,e&&setTimeout(()=>this.focus()),this.changeRef.markForCheck()}get responseSize(){var e,t,n;return(null!==(n=null===(t=null===(e=this.question)||void 0===e?void 0:e.responses)||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(this.other?1:0)}ngOnInit(){this.initFormListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.keyManager=new Ho.e(this.responsesList)}focus(e){var t;if(this.keyManager){let e=0;this.isOtherSelected?e=this.responseSize-1:(null===(t=this.question)||void 0===t?void 0:t.responses)&&(e=this.question.responses.findIndex(e=>this.isResponseSelected(e)));const n=Math.max(e,0);this.keyManager.setActiveItem(n)}}initForm(){this.form=this.formBuilder.group({response:[null,z.C.required],description:[""]})}initFormListener(){this.form.valueChanges.pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.selectedResponse=e.response,this.changeRef.markForCheck()}),this.form.get("description").valueChanges.pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.selectedResponse=this.getOtherResponse()})}clearSelection(){this.selectedResponse=null}handleResponseSelected(e){this.selectedResponse=e,this.isLast||this.responseSelected.next(this.selectedResponse)}handleOtherResponseSelected(){this.selectedResponse=this.getOtherResponse()}handleContinueClick(){this.advanceSelected.next(this.selectedResponse)}isResponseSelected(e){return this.selectedResponse&&this.selectedResponse.value===e.value}getOtherResponse(){const{description:e}=this.form.value;return{value:"Other",description:e}}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(z.f),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-question"]],viewQuery:function(e,t){if(1&e&&x.Vc(Wo,!0),2&e){let e;x.xc(e=x.dc())&&(t.responsesList=e)}},inputs:{question:"question",other:"other",advanceLabel:"advanceLabel",advanceEnabled:"advanceEnabled",selectedResponse:"selectedResponse",shown:"shown",isLast:"isLast",responsive:"responsive"},outputs:{responseSelected:"responseSelected",advanceSelected:"advanceSelected"},decls:1,vars:1,consts:[["class","question flex flex-column","data-test","question",3,"formGroup",4,"ngIf"],["data-test","question",1,"question","flex","flex-column",3,"formGroup"],["data-test","questionLabel",1,"question__label","text-semibold"],["class","question__hint mt-3","data-test","questionHint",4,"ngIf"],[1,"flex","flex-column","mv-10"],["class","question__item","data-test","questionResponse",3,"question__item--first",4,"ngFor","ngForOf"],["class","question__item","data-test","questionResponse",4,"ngIf"],[1,"flex","flex-column","items-end"],["class","w-100","app-button","","buttonSize","large","buttonTheme","light","data-test","questionAdvanceButton",3,"buttonType","uppercase","disabled","click",4,"ngIf"],["data-test","questionHint",1,"question__hint","mt-3"],["data-test","questionResponse",1,"question__item"],["formControlName","response",3,"title","description","tag","icon","content","compact","selected","value","responsive","responseSelected"],["formControlName","response",3,"title","selected","value","responsive","responseSelected"],["type","text","class","input mv-2","formControlName","description","appAutoFocus","",4,"ngIf"],["type","text","formControlName","description","appAutoFocus","",1,"input","mv-2"],["app-button","","buttonSize","large","buttonTheme","light","data-test","questionAdvanceButton",1,"w-100",3,"buttonType","uppercase","disabled","click"]],template:function(e,t){1&e&&x.Nc(0,ns,9,7,"fieldset",0),2&e&&x.mc("ngIf",t.shown)},directives:[i.p,z.s,z.j,i.o,Wo,z.r,z.i,z.c,Ko.a,fe.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.question__label[_ngcontent-%COMP%]{color:#131c2a;font-size:28px;letter-spacing:.7px;line-height:1.4em}.question__hint[_ngcontent-%COMP%]{color:#283853;font-size:16px;letter-spacing:.4px;line-height:1.4em}.question__item[_ngcontent-%COMP%]{margin-top:20px}.question__item--first[_ngcontent-%COMP%]{margin-top:0}@media (max-width:959px){.question__label[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}}"],changeDetection:0}),e})();function cs(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",5),x.cc("click",(function(){return x.Cc(e),x.gc().handleBackClick()})),x.Qb(1,"app-button-icon",6),x.Ub()}}function os(e,t){if(1&e){const e=x.Wb();x.Vb(0,"app-account-question",7),x.cc("responseSelected",(function(n){x.Cc(e);const i=t.$implicit,c=t.index;return x.gc().handleResponseSelected(i,n,c)}))("advanceSelected",(function(n){x.Cc(e);const i=t.$implicit,c=t.index;return x.gc().handleAdvanceSelected(i,n,c)})),x.Ub()}if(2&e){const e=t.$implicit,n=t.index,i=x.gc();x.mc("shown",n===i.selectedIndex)("question",e)("other",e.other)("advanceLabel",i.advanceLabel)("isLast",n===i.questions.length-1)("responsive",i.responsive)}}let ss=(()=>{class e{constructor(){this.questions=[],this.advanceLabel="Continue",this.handleQuestionResponse=new x.p,this._selectedIndex=0}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e}ngOnInit(){}handleResponseSelected(e,t,n){n===this.questions.length-1||this.emitResponse(e,t)}handleAdvanceSelected(e,t,n){this.emitResponse(e,t)}handleNextClick(){this.nextQuestion()}handleBackClick(){this.prevQuestion()}nextQuestion(){const e=Math.max(0,this.questions.length-1);this.selectedIndex=Math.min(e,this.selectedIndex+1)}prevQuestion(){this.selectedIndex=Math.max(0,this.selectedIndex-1)}emitResponse(e,t){this.handleQuestionResponse.next({question:e,response:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-question-wizard"]],inputs:{questions:"questions",advanceLabel:"advanceLabel",responsive:"responsive"},outputs:{handleQuestionResponse:"handleQuestionResponse"},decls:5,vars:2,consts:[[1,"questions"],["app-button","","buttonTheme","light","class","questions__back",3,"click",4,"ngIf"],[1,"questions__content"],[1,"questions__list"],[3,"shown","question","other","advanceLabel","isLast","responsive","responseSelected","advanceSelected",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light",1,"questions__back",3,"click"],["icon","arrow-left","iconType","solid","iconPlacement","left","label","Go Back"],[3,"shown","question","other","advanceLabel","isLast","responsive","responseSelected","advanceSelected"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Nc(1,cs,2,0,"button",1),x.Vb(2,"div",2),x.Vb(3,"div",3),x.Nc(4,os,1,6,"app-account-question",4),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(1),x.mc("ngIf",t.selectedIndex>0),x.Db(3),x.mc("ngForOf",t.questions))},directives:[i.p,i.o,fe.a,No.a,is],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.questions__back[_ngcontent-%COMP%]{margin-left:-16px}.questions__step[_ngcontent-%COMP%]{color:#96a8c0;font-weight:500;font-size:14px;letter-spacing:.35px;line-height:1.4em}@media (max-width:959px){.questions__step[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"],changeDetection:0}),e})();var as=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},rs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const ls=["wizard"];let ps=(()=>{class e{constructor(e,t,n,i,c,o){this.authRoutingService=e,this.authService=t,this.store=n,this.router=i,this.activatedRoute=c,this.changeRef=o,this.breakPoints=m.a,this.selectedAccountSetting={},this.questionnaireStarted=!1,this.isReturningUser=!1,this.questions=[],this.ngUnsubscribe=new l.a}ngOnInit(){this.initQuestionnaire()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initQuestionnaire(){const e=this.authService.checkProfileIncomplete();Object(N.b)([this.userProfile$,e,this.organizationSettings$,this.accountSettings$]).pipe(Object(u.a)(([e])=>!Object(r.isNil)(e)),Object(d.a)(this.ngUnsubscribe)).subscribe(([e,t,n,i])=>{const{is_new_user:c,is_team_user:o}=t.messageData;this.completeProfileMessage=t,this.isReturningUser=!0!==c,this.intent=o?B.Team:B.Individual;const s=this.activatedRoute.snapshot.queryParams.question,a="true"===this.activatedRoute.snapshot.queryParams.welcome;this.selectedAccountSetting=Object(F.b)([...i,...n]);const l=Object(r.get)(this.selectedAccountSetting,"account_purpose.value",$.a.PersonalUse),p=Object(r.get)(this.selectedAccountSetting,"account_field.value");this.questions=this.getCustomQueryQuestions(e,s,l,p,this.isReturningUser,a),this.changeRef.markForCheck()})}handleQuestionResponse(e){const{question:t,response:n}=e,i=t.account_setting,c=this.activatedRoute.snapshot.queryParams.question,o="true"===this.activatedRoute.snapshot.queryParams.welcome,s=this.store.selectSnapshot(h.a.getUserProfile);this.questionnaireStarted=!0,"account_purpose"===t.account_setting&&(this.selectedAccountSetting={}),this.selectedAccountSetting[i]=n;const a=Object(r.get)(this.selectedAccountSetting,"account_purpose.value"),l=Object(r.get)(this.selectedAccountSetting,"account_field.value"),p=this.isReturningUser;if(this.questions.length>1)if(c)this.questions=this.getCustomQueryQuestions(s,c,a,l,this.isReturningUser,o);else if(this.questions.length>1)switch(a){case $.a.PersonalUse:this.questions=this.getPersonalUseQuestions(p);break;case $.a.Education:this.questions=this.getEducationQuestions(p);break;case $.a.Business:this.questions=this.getBusinessQuestions(p,l)}this.wizard.selectedIndex===this.questions.length-1?this.completeQuestionnaire():this.nextQuestion(),this.changeRef.markForCheck()}handleSkipClick(){this.completeQuestionnaire()}nextQuestion(){this.wizard.nextQuestion()}completeQuestionnaire(){const e=Object(F.a)(this.selectedAccountSetting,!0);if(this.store.selectSnapshot(h.a.isDeveloperReferral)){const t=e.find(e=>"account_purpose"in e);t&&"account_purpose"in t&&(t.account_purpose=Object.assign(Object.assign({},t.account_purpose),{description:"developer"}))}this.updateAccountSettings(...e);const t=Object(r.get)(this.completeProfileMessage,"messageSeenId");Object(r.isNil)(t)||this.store.dispatch(new j.cb(t));const n=this.store.selectSnapshot(I.a.hasOrganization),i=this.store.selectSnapshot(I.a.getOrganizationProfile),c=!Object(r.isNil)(i);this.intent!==B.Team||!n||c||this.isReturningUser?this.router.navigate(["/"]):this.authRoutingService.navigateToTeamInvite(!0)}getPersonalUseQuestions(e){const t=this.store.selectSnapshot(h.a.getUserProfile);return[this.createPurposeQuestion(e),ne(t,$.a.PersonalUse,"",this.isReturningUser)]}getEducationQuestions(e){const t=this.store.selectSnapshot(h.a.getUserProfile);return[this.createPurposeQuestion(e),ne(t,$.a.Education,"",this.isReturningUser),te($.a.Education)]}getBusinessQuestions(e,t){const n=this.store.selectSnapshot(h.a.getUserProfile);return[this.createPurposeQuestion(e),te($.a.Business),ne(n,$.a.Business,t,this.isReturningUser)]}updateAccountSettings(...e){this.store.dispatch(new j.pb({account_settings:e}))}createPurposeQuestion(e){return ee(this.store.selectSnapshot(h.a.getUserProfile),e)}getCustomQueryQuestions(e,t,n,i,c,o){switch(t){case Io.a.Role:return[ne(e,n,i,c,o)];case Io.a.Field:return[te(n),ne(e,n,i,c)];default:return[...this.getPersonalUseQuestions(c)]}}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(P.a),x.Pb(zo.a),x.Pb(a.h),x.Pb(c.e),x.Pb(c.a),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-questionnaire"]],viewQuery:function(e,t){if(1&e&&x.Jc(ls,!0),2&e){let e;x.xc(e=x.dc())&&(t.wizard=e.first)}},decls:4,vars:4,consts:[[1,"account","theme-light"],[3,"questions","responsive","handleQuestionResponse"],["wizard",""]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Vb(1,"app-account-question-wizard",1,2),x.cc("handleQuestionResponse",(function(e){return t.handleQuestionResponse(e)})),x.hc(3,"async"),x.Ub(),x.Ub()),2&e&&(x.Db(1),x.mc("questions",t.questions)("responsive",x.ic(3,2,t.breakpoint$)<t.breakPoints.Medium))},directives:[ss],pipes:[i.b],styles:[""],changeDetection:0}),as([Object(a.e)(f.a.getBreakpoint),rs("design:type",p.a)],e.prototype,"breakpoint$",void 0),as([Object(a.e)(h.a.getUserProfile),rs("design:type",p.a)],e.prototype,"userProfile$",void 0),as([Object(a.e)(h.a.getUserAccountSettings),rs("design:type",p.a)],e.prototype,"accountSettings$",void 0),as([Object(a.e)(I.a.getOrganizationAccountSettings),rs("design:type",p.a)],e.prototype,"organizationSettings$",void 0),e})();var us=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},bs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function gs(e,t){if(1&e){const e=x.Wb();x.Vb(0,"app-account-question",2),x.cc("advanceSelected",(function(t){return x.Cc(e),x.gc().handleResponseSelected(t)})),x.hc(1,"async"),x.hc(2,"async"),x.Ub()}if(2&e){const e=x.gc();x.mc("shown",!0)("question",e.question)("other",e.question.other)("selectedResponse",e.selectedResponse)("advanceLabel","Continue")("advanceEnabled",!x.ic(1,8,e.updating$))("isLast",!0)("responsive",x.ic(2,10,e.breakpoint$)<e.breakPoints.Medium)}}const ds=[$.a.Education,$.a.Business];let hs=(()=>{class e{constructor(e,t,n,i,c,o,s){this.actions=e,this.authService=t,this.authRoutingService=n,this.store=i,this.activatedRoute=c,this.changeRef=o,this.snackBar=s,this.breakPoints=m.a,this.ngUnsubscribe=new l.a}ngOnInit(){this.initQuestions(),this.initProfileUpdateRedirect()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleResponseSelected(e){this.updateAccountPurpose(e)}initQuestions(){const e=this.authService.checkProfileIncomplete();Object(N.b)([this.store.select(h.a.getUserProfile),e]).pipe(Object(u.a)(([e])=>!Object(r.isNil)(e)),Object(d.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{const{is_new_user:n}=t.messageData;this.setQuestion(e,!0!==n,e.premium_account,e.organizations.length>0),this.changeRef.markForCheck()})}initProfileUpdateRedirect(){this.actions.pipe(Object(a.l)(j.rb),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new j.u)}),this.actions.pipe(Object(a.l)(j.rb),Object(g.b)(()=>this.actions.pipe(Object(a.l)(j.w))),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleProfileUpdateSuccess(e.userProfile)}),this.actions.pipe(Object(a.l)(j.qb),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleProfileUpdateFailure(e)})}setQuestion(e,t,n,i){const{queryParams:c}=this.activatedRoute.snapshot,o=c.purpose,s=c.intent,a=this.store.selectSnapshot(h.a.isDeveloperReferral);let r;r=i||a?B.Team:n?B.Individual:s,this.question=ee(e,t,r),this.selectedResponse=this.question.responses.find(e=>e.value===o),this.changeRef.markForCheck()}handleProfileUpdateSuccess(e){const t=e.account_settings,n=Object(F.b)(t),i=Object(r.get)(n,"account_purpose.value",$.a.PersonalUse);ds.includes(i)?this.handleBusinessPurposeSelected(i):this.handlePersonalPurposeSelected()}handleProfileUpdateFailure(e){const t=Object(r.get)(e.error,"error.error.message","There was an error updating your profile.");this.snackBar.open(t)}handlePersonalPurposeSelected(){this.authRoutingService.navigateToQuestionnaire(!0,!0,$.a.PersonalUse)}handleBusinessPurposeSelected(e){this.authRoutingService.navigateToTeamCreation(e)}updateAccountPurpose(e){this.store.dispatch(new j.pb({account_settings:[{account_purpose:e}]}))}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.b),x.Pb(zo.a),x.Pb(P.a),x.Pb(a.h),x.Pb(c.a),x.Pb(x.i),x.Pb(me.b))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-creation"]],decls:2,vars:1,consts:[["role","status",1,"account","theme-light"],[3,"shown","question","other","selectedResponse","advanceLabel","advanceEnabled","isLast","responsive","advanceSelected",4,"ngIf"],[3,"shown","question","other","selectedResponse","advanceLabel","advanceEnabled","isLast","responsive","advanceSelected"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Nc(1,gs,3,12,"app-account-question",1),x.Ub()),2&e&&(x.Db(1),x.mc("ngIf",t.question))},directives:[i.p,is],pipes:[i.b],styles:[""],changeDetection:0}),us([Object(a.e)(h.a.getProfileUpdating),bs("design:type",p.a)],e.prototype,"updating$",void 0),us([Object(a.e)(f.a.getBreakpoint),bs("design:type",p.a)],e.prototype,"breakpoint$",void 0),e})();var ms=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let fs=(()=>{class e{constructor(e,t,n){this.authRoutingService=e,this.store=t,this.activatedRoute=n,this.ngUnsubscribe=new l.a,this.purpose=this.activatedRoute.snapshot.queryParams.purpose}ngOnInit(){this.initActionListeners(),this.store.dispatch(new j.u)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initActionListeners(){this.organization$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)),Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.handleOrganizationCreated()})}handleOrganizationCreated(){this.authRoutingService.navigateToQuestionnaire(!0,!1)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(P.a),x.Pb(a.h),x.Pb(c.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-create-page"]],decls:2,vars:1,consts:[[1,"team-create","theme-light"],[3,"purpose","organizationCreated"]],template:function(e,t){1&e&&(x.Vb(0,"form",0),x.Vb(1,"app-team-create",1),x.cc("organizationCreated",(function(){return t.handleOrganizationCreated()})),x.Ub(),x.Ub()),2&e&&(x.Db(1),x.mc("purpose",t.purpose))},directives:[z.E,z.s,z.t,xc],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.team-create__skip[_ngcontent-%COMP%]{color:#283853;font-size:14px;letter-spacing:.35px;line-height:1.4em}"],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(I.a.getOrganization),ms("design:type",p.a)],e.prototype,"organization$",void 0),e})();var xs=n("aJtT");function vs(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",5),x.cc("click",(function(){return x.Cc(e),x.gc().handleBackClick()})),x.Vb(1,"div",6),x.Qb(2,"app-icon",7),x.Vb(3,"div",8),x.Pc(4,"Back"),x.Ub(),x.Ub(),x.Ub()}}let Ps=(()=>{class e{constructor(e,t,n,i){this.store=e,this.router=t,this.activatedRoute=n,this.changeRef=i,this.ngUnsubscribe=new l.a,this.store.dispatch(new j.u)}ngOnInit(){this.initRouteHandling()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initRouteHandling(){Object(S.a)(this.activatedRoute.url,this.router.events.pipe(Object(u.a)(e=>e instanceof c.c))).pipe(Object(d.a)(this.ngUnsubscribe)).subscribe(()=>{this.returnTo=this.activatedRoute.snapshot.queryParams.returnTo,this.changeRef.markForCheck()})}handleBackClick(){this.router.navigateByUrl(this.returnTo)}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(c.e),x.Pb(c.a),x.Pb(x.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-account-workflow-master"]],decls:6,vars:1,consts:[[1,"master"],[1,"master__art"],[1,"master__content-wrapper","flex","flex-column","items-center","flex-auto"],["class","master__nav","app-button","","buttonTheme","light",3,"click",4,"ngIf"],[1,"master__content-container","flex","flex-column","justify-center","items-stretch","flex-auto"],["app-button","","buttonTheme","light",1,"master__nav",3,"click"],[1,"flex","flex-row"],["icon","arrow-left"],[1,"ml-2"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Qb(1,"app-login-art",1),x.Vb(2,"div",2),x.Nc(3,vs,5,0,"button",3),x.Vb(4,"div",4),x.Qb(5,"router-outlet"),x.Ub(),x.Ub(),x.Ub()),2&e&&(x.Db(3),x.mc("ngIf",t.returnTo))},directives:[xs.a,i.p,c.j,fe.a,y.a],styles:[".master[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:row;height:100vh;width:100%}.master__art[_ngcontent-%COMP%]{flex-basis:480px}.master__content-wrapper[_ngcontent-%COMP%]{overflow:auto;margin:auto;padding:40px;height:100%}.master__content-container[_ngcontent-%COMP%]{width:100%;max-width:560px;padding:12px}.master__nav[_ngcontent-%COMP%]{align-self:flex-start;margin:0 20px 24px 0}@media (max-width:959px){.master__art[_ngcontent-%COMP%]{display:none}}@media (max-width:480px){.master__content-wrapper[_ngcontent-%COMP%]{padding:20px}.master__content-container[_ngcontent-%COMP%]{padding:4px}}"],changeDetection:0}),e})();var _s=n("DuGl"),Cs=function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ys=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Os(e,t){if(1&e){const e=x.Wb();x.Vb(0,"app-team-invite",3),x.cc("inviteSent",(function(){return x.Cc(e),x.gc().handleInviteComplete()}))("inviteCancelled",(function(){return x.Cc(e),x.gc().handleInviteComplete()})),x.hc(1,"async"),x.Ub()}if(2&e){const e=x.gc();x.mc("organization",x.ic(1,2,e.organization$))("layout","block")}}let Us=(()=>{class e{constructor(e,t,n){this.store=e,this.router=t,this.authRoutingService=n,this.ngUnsubscribe=new l.a}ngOnInit(){this.userProfile$.pipe(Object(u.a)(e=>!Object(r.isNil)(e)),Object(b.a)(1),Object(d.a)(this.ngUnsubscribe)).subscribe(e=>{e.organizations&&e.organizations.length>0||this.handleInviteComplete()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleInviteComplete(){this.store.selectSnapshot(h.a.isDeveloperReferral)?this.authRoutingService.navigateToDeveloperWelcome():this.router.navigate(["/explore"])}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h),x.Pb(c.e),x.Pb(P.a))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-invite-page"]],decls:7,vars:3,consts:[[1,"text-28","text-semibold"],[1,"text-16","mt-3","mb-10"],["sentText","Send invites","cancelText","Skip this step",3,"organization","layout","inviteSent","inviteCancelled",4,"ngIf"],["sentText","Send invites","cancelText","Skip this step",3,"organization","layout","inviteSent","inviteCancelled"]],template:function(e,t){1&e&&(x.Vb(0,"div"),x.Vb(1,"h3",0),x.Pc(2,"Invite members to join your team"),x.Ub(),x.Vb(3,"p",1),x.Pc(4,"If you'd like, you can always send invites later."),x.Ub(),x.Nc(5,Os,2,4,"app-team-invite",2),x.hc(6,"async"),x.Ub()),2&e&&(x.Db(5),x.mc("ngIf",x.ic(6,1,t.organization$)))},directives:[i.p,_s.a],pipes:[i.b],styles:[""],changeDetection:0}),Cs([Object(a.e)(h.a.getUserProfile),ys("design:type",p.a)],e.prototype,"userProfile$",void 0),Cs([Object(a.e)(I.a.getOrganization),ys("design:type",p.a)],e.prototype,"organization$",void 0),e})();var Ms=n("2Vo4"),ws=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ks(e,t){if(1&e&&(x.Vb(0,"a",3),x.hc(1,"async"),x.Pc(2," Take me to the developer site "),x.Ub()),2&e){const e=x.gc();x.mc("href",x.ic(1,1,e.developerPortalSignInUrl$),x.Fc)}}const Ds=[{path:"questionnaire",redirectTo:"workflow/questionnaire"},{path:"workflow",component:Ps,canActivate:[o.a],data:{title:"Welcome"},children:[{path:"",component:hs,pathMatch:"full"},{path:"team",children:[{path:"create",component:fs,pathMatch:"full",data:{title:"Create Your Team"}},{path:"invite",component:Us,pathMatch:"full",data:{title:"Invite Members"}},{path:"developer",component:(()=>{class e{constructor(e){this.store=e,this.ngUnsubscribe=new l.a,this.developerPortalSignInUrl$=new Ms.a("")}ngOnInit(){this.store.dispatch(new j.u(!0)),this.userProfile$.pipe(Object(d.a)(this.ngUnsubscribe),Object(u.a)(e=>!Object(r.isNil)(e))).subscribe(e=>{this.developerPortalSignInUrl$.next(e.developer_portal_signin_url)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(a.h))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-team-developer"]],decls:8,vars:6,consts:[[1,"text-28","text-semibold"],[1,"text-16","mt-3","mb-10"],["class","button button--primary button--large mb-5",3,"href",4,"ngIf"],[1,"button","button--primary","button--large","mb-5",3,"href"]],template:function(e,t){if(1&e&&(x.Vb(0,"div"),x.Vb(1,"div",0),x.Pc(2),x.hc(3,"async"),x.Ub(),x.Vb(4,"div",1),x.Pc(5," Now that you've set up your account, navigate to the developer site to finish activating your developer access and begin building custom 3D experiences. "),x.Ub(),x.Nc(6,ks,3,3,"a",2),x.hc(7,"async"),x.Ub()),2&e){let e=null;x.Db(2),x.Rc("Welcome ",null==(e=x.ic(3,2,t.userProfile$))?null:e.first_name,"!"),x.Db(4),x.mc("ngIf",x.ic(7,4,t.developerPortalSignInUrl$))}},directives:[i.p],pipes:[i.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(s=(o<3?c(s):o>3?c(t,n,s):c(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([Object(a.e)(h.a.getUserProfile),ws("design:type",p.a)],e.prototype,"userProfile$",void 0),e})(),pathMatch:"full",data:{title:"App Configuration"}}]},{path:"questionnaire",component:ps,pathMatch:"full",data:{title:"Questionnaire"}}]},{path:"",component:s.a,canActivate:[o.a],data:{fixedHeight:!1},children:[{path:"",component:V,children:[{path:"",redirectTo:"/account/profile",pathMatch:"full"},{path:"profile",component:Oi,pathMatch:"full",data:{title:"Account"}},{path:"team",component:jo,pathMatch:"full",data:{title:"Team"}},{path:"settings",component:Di,pathMatch:"full",data:{title:"Settings"}}]}]}];let Vs=(()=>{class e{}return e.\u0275mod=x.Nb({type:e}),e.\u0275inj=x.Mb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(Ds)],c.i]}),e})();var Ss=n("Tx//"),Rs=n("+pSP"),Ts=n("izPL"),js=n("p3zp");let Is=(()=>{class e{}return e.\u0275mod=x.Nb({type:e}),e.\u0275inj=x.Mb({factory:function(t){return new(t||e)},imports:[[i.c,js.a,Rs.a]]}),e})();var zs=n("EWj2"),Ns=n("PXMH"),As=n("PCNd"),Fs=n("vvyD"),Ls=n("D8yp"),Es=n("vRHm"),$s=n("HuJV");let Qs=(()=>{class e{}return e.\u0275mod=x.Nb({type:e}),e.\u0275inj=x.Mb({factory:function(t){return new(t||e)},imports:[[i.c,Vs,z.l,z.z,Ss.a,As.a,zs.a,Rs.a,Ns.a,Ts.a,Is,Fs.a,ht.a.forChild(),Ls.a,Es.a,$s.a],Vs]}),e})()}}]);