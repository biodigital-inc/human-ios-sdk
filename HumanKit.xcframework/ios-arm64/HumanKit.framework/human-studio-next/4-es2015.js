(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"6eBy":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("zx2A");function o(e){return t=>t.lift(new a(e))}class a{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new c(e,this.durationSelector))}}class c extends i.b{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){try{const t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(i.c)(t,new i.a(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=void 0,t.unsubscribe(),this.remove(t)),this.value=void 0,this.hasValue=!1,super._next(e)}}}},NVq4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("LvDl"),o=n("fXoL");let a=(()=>{class e{transform(e,t){if(Object(i.isNil)(e)||Object(i.isNil)(t))return e;const n=""+e,o=n.substring(0,t);return o.length<n.length?o+"...":o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Ob({name:"ellipsis",type:e,pure:!0}),e})()},SZqb:function(e,t,n){"use strict";n.d(t,"a",(function(){return Se}));var i=n("fXoL"),o=(n("zrlG"),n("2Vo4")),a=n("XNiG"),c=n("1G5W"),r=n("pLZG"),s=n("LvDl"),l=n("+8WF"),p=n("PV7u"),g=n("1mir"),d=n("XqAe"),h=n("esev"),m=n("AytR"),b=n("VRyK"),u=n("xgIS"),x=n("PqYM"),k=n("lJxs"),f=n("/uUt"),_=n("6eBy");let y=(()=>{class e{constructor(e,t){this.componentFactoryResolver=e,this.appRef=t}appendComponentToBody(e,t){const n=this.componentFactoryResolver.resolveComponentFactory(e).create(t);return this.appRef.attachView(n.hostView),document.body.appendChild(n.hostView.rootNodes[0]),n}destroyComponent(e){e&&(this.appRef.detachView(e.hostView),e.destroy())}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(i.k),i.Zb(i.g))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=n("AcyG"),O=n("3UWI"),w=n("Kj3r"),M=n("zp1y"),P=n("ECVi"),v=n("eKhQ"),z=n("ZR5G"),V=n("u47x"),S=n("l5mm"),q=n("HDdC"),A=n("5+tZ"),D=n("w1tV"),R=n("vkgz"),I=n("eIep"),U=n("Wd1f"),E=n("MuXT"),j=n("ofXK"),T=n("NVq4");function B(e,t){if(1&e&&i.Qb(0,"img",4),2&e){const e=t.$implicit,n=t.index,o=i.gc(2);i.Hb("quick-view__image--hidden",n!==o.selectedIndex),i.mc("src",e.thumbnail_url,i.Fc)}}function F(e,t){if(1&e&&(i.Vb(0,"div",5),i.Pc(1),i.hc(2,"ellipsis"),i.Ub()),2&e){const e=i.gc(2);i.Db(1),i.Tc(" ",e.selectedIndex+1,"/",null==e.chapters?null:e.chapters.length," ",i.jc(2,3,null==e.chapters[e.selectedIndex]?null:e.chapters[e.selectedIndex].title,60)," ")}}function N(e,t){if(1&e&&(i.Vb(0,"div",1),i.Nc(1,B,1,3,"img",2),i.Nc(2,F,3,6,"div",3),i.Ub()),2&e){const e=i.gc();i.Db(1),i.mc("ngForOf",e.chapters),i.Db(1),i.mc("ngIf",(null==e.chapters?null:e.chapters.length)>1)}}let L=(()=>{class e{constructor(e,t){this.storyService=e,this.changeRef=t,this.selectedIndex=0,this.chapters=[],this._bookmark=new o.a(void 0),this.ngUnsubscribe=new a.a}get bookmark(){return this._bookmark.value}set bookmark(e){this._bookmark.next(e)}ngOnInit(){this.initStoryThumbnails()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initStoryThumbnails(){this.chapters=[this.bookmark];const e=this._bookmark.asObservable().pipe(Object(r.a)(e=>!Object(s.isNil)(e)&&e.tags&&e.tags.includes("tour")),Object(A.b)(()=>this.storyService.getStory(this.bookmark.id,this.bookmark.type)),Object(D.a)(),Object(k.a)(e=>this.getChapterPreviewModels(e)),Object(A.b)(e=>this.getChapterImageReady(e[0].thumbnail_url).pipe(Object(k.a)(()=>e))),Object(c.a)(this.ngUnsubscribe));e.pipe(Object(c.a)(this.ngUnsubscribe)).subscribe(e=>{this.chapters=e,this.changeRef.markForCheck()}),e.pipe(Object(R.a)(()=>this.selectedIndex=0),Object(I.a)(()=>Object(S.a)(2e3)),Object(k.a)(()=>(this.selectedIndex+1)%this.chapters.length),Object(c.a)(this.ngUnsubscribe)).subscribe(e=>{this.selectedIndex=e,this.changeRef.markForCheck()}),this.changeRef.markForCheck()}getChapterPreviewModels(e){return e.chapters.map(e=>{var t;const n=U.a.getChapterThumbnail(e,this.bookmark.id);return{title:null!==(t=null==e?void 0:e.displayName)&&void 0!==t?t:"",thumbnail_url:n.urls.small}})}getChapterImageReady(e){return new q.a(t=>{const n=new Image;n.onload=()=>{t.next(!0),t.complete()},n.onerror=()=>{t.next(!0),t.complete()},n.src=e})}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(E.a),i.Pb(i.i))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-quick-view"]],inputs:{bookmark:"bookmark"},decls:1,vars:1,consts:[["class","quick-view",4,"ngIf"],[1,"quick-view"],["class","quick-view__image",3,"quick-view__image--hidden","src",4,"ngFor","ngForOf"],["class","quick-view__tag",4,"ngIf"],[1,"quick-view__image",3,"src"],[1,"quick-view__tag"]],template:function(e,t){1&e&&i.Nc(0,N,3,2,"div",0),2&e&&i.mc("ngIf",t.chapters)},directives:[j.p,j.o],pipes:[T.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.quick-view[_ngcontent-%COMP%], .quick-view__image[_ngcontent-%COMP%]{width:100%;height:100%}.quick-view__image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:1}.quick-view__image--hidden[_ngcontent-%COMP%]{opacity:0;z-index:1;transition:opacity .5s ease-out}.quick-view__tag[_ngcontent-%COMP%]{position:absolute;bottom:12px;left:12px;max-width:calc(100% - 24px);z-index:2;background:hsla(0,0%,100%,.6);border:1px solid hsla(0,0%,100%,.8);border-radius:4px;color:#283853;font-size:12px;letter-spacing:.3px;line-height:1.4em;padding:4px 8px}"],changeDetection:0}),e})();var H=n("yIGu"),W=n("itXk"),Q=n("WkFQ"),G=n("IlST"),$=n("Qu3c"),J=n("0njA"),Z=n("STbY"),X=n("f0Cb");function K(e,t){if(1&e){const e=i.Wb();i.Vb(0,"button",3),i.cc("click",(function(t){i.Cc(e);const n=i.gc();return n.handleSelectBookmarkClick(n.bookmark,t)})),i.Pc(1),i.Ub()}if(2&e){const e=i.gc();i.Hb("mr-1",e.mainActions.length),i.Db(1),i.Rc(" ",e.primaryActionLabel," ")}}function Y(e,t){if(1&e){const e=i.Wb();i.Vb(0,"button",5),i.cc("click",(function(n){i.Cc(e);const o=t.$implicit,a=i.gc(2);return a.handleBookmarkActionClick(a.bookmark,o,n)})),i.Qb(1,"app-icon",6),i.Ub()}if(2&e){const e=t.$implicit,n=i.gc(2);i.mc("buttonType",n.buttonType)("matTooltip",n.bookmarkActionsLabels[e]),i.Eb("data-test",n.bookmarkActionsDataIds[e])("aria-label",n.bookmarkActionsLabels[e]),i.Db(1),i.mc("icon",n.bookmarkActionsIcons[e])}}function ee(e,t){1&e&&i.Qb(0,"mat-divider")}function te(e,t){if(1&e){const e=i.Wb();i.Vb(0,"button",12),i.cc("click",(function(t){i.Cc(e);const n=i.gc().$implicit,o=i.gc(3);return o.handleBookmarkActionClick(o.bookmark,n,t)})),i.Pc(1),i.Ub()}if(2&e){const e=i.gc().$implicit,t=i.gc(3);i.Hb("gallery-card-actions__action-warning",e===t.bookmarkActionEnum.Delete),i.Eb("aria-label",t.bookmarkActionsLabels[e])("data-test",t.bookmarkActionsDataIds[e]),i.Db(1),i.Rc(" ",e," ")}}function ne(e,t){if(1&e&&(i.Tb(0),i.Nc(1,ee,1,0,"mat-divider",2),i.Nc(2,te,2,5,"button",11),i.Sb()),2&e){const e=t.$implicit,n=i.gc(3);i.Db(1),i.mc("ngIf",e===n.bookmarkActionEnum.Divider),i.Db(1),i.mc("ngIf",e!==n.bookmarkActionEnum.Divider)}}function ie(e,t){if(1&e){const e=i.Wb();i.Tb(0),i.Vb(1,"button",7),i.cc("click",(function(t){return i.Cc(e),i.gc(2).handleOtherClick(t)}))("menuOpened",(function(){return i.Cc(e),i.gc(2).handleMenuOpened()}))("menuClosed",(function(){return i.Cc(e),i.gc(2).handleMenuClosed()})),i.Qb(2,"app-icon",8),i.Ub(),i.Vb(3,"mat-menu",null,9),i.Nc(5,ne,3,2,"ng-container",10),i.Ub(),i.Sb()}if(2&e){const e=i.yc(4),t=i.gc(2);i.Db(1),i.mc("buttonType",t.buttonType)("matMenuTriggerFor",e),i.Db(4),i.mc("ngForOf",t.moreActions)}}function oe(e,t){if(1&e&&(i.Tb(0),i.Nc(1,Y,2,5,"button",4),i.Nc(2,ie,6,3,"ng-container",2),i.Sb()),2&e){const e=i.gc();i.Db(1),i.mc("ngForOf",e.mainActions),i.Db(1),i.mc("ngIf",e.moreActions.length)}}const ae={[Q.a.View]:"galleryCardActionPrimary",[Q.a.AddToMyLibrary]:"galleryCardActionAddButton",[Q.a.Edit]:"galleryCardActionEditButton",[Q.a.Publish]:"galleryCardActionPublishButton",[Q.a.CopyURL]:"galleryCardActionCopyURLButton",[Q.a.Share]:"galleryCardActionShareButton",[Q.a.Duplicate]:"galleryCardActionDuplicateButton",[Q.a.Manage]:"galleryCardActionManageButton",[Q.a.Delete]:"galleryCardActionDeleteButton",[Q.a.Divider]:""},ce=Object(Q.d)(m.a.application);let re=(()=>{class e{constructor(e,t,n,c){this.store=e,this.changeDetectorRef=t,this.bookmarkActionsService=n,this.elementRef=c,this.bookmarkActionEnum=Q.a,this.bookmarkActionsIcons=Q.c,this.bookmarkActionsLabels=ce,this.bookmarkActionsDataIds=ae,this._bookmark=new o.a(void 0),this.actionsEnabled=!0,this._primaryActionEnabled=new o.a(!0),this._compact=new o.a(!1),this.selectBookmark=new i.p,this.menuOpen=new i.p,this.mainActions=[],this.moreActions=[],this.ngUnsubscribe=new a.a}get bookmark(){return this._bookmark.value}set bookmark(e){this._bookmark.next(e),this.changeDetectorRef.markForCheck()}get primaryActionEnabled(){return this._primaryActionEnabled.value}set primaryActionEnabled(e){this._primaryActionEnabled.next(e),this.changeDetectorRef.markForCheck()}get compact(){return this._compact.value}set compact(e){this._compact.next(e),this.changeDetectorRef.markForCheck()}get buttonType(){return this.primaryActionEnabled?G.b.Outline:G.b.Default}ngOnInit(){this.initBookmarkActions()}ngAfterViewInit(){this.changeDetectorRef.markForCheck()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initBookmarkActions(){Object(W.b)([this._bookmark,this.store.select(P.a.getUserRole),this.store.select(P.a.isPremiumUser),this.store.select(v.a.hasOrganization),this._primaryActionEnabled,this._compact.asObservable()]).pipe(Object(r.a)(([e,t,n,i])=>!(Object(s.isNil)(t)||Object(s.isNil)(e)||Object(s.isNil)(n)||Object(s.isNil)(i))),Object(c.a)(this.ngUnsubscribe)).subscribe(([e,t,n,i,o,a])=>{const c=a&&!o,r=this.bookmarkActionsService.getBookmarkActions(t,e,n,i,{excludeActions:[Q.a.View]}),{mainActions:s,moreActions:l}=this.bookmarkActionsService.getBookmarkActionsGrouping(r,c);this.mainActions=s,this.moreActions=l,this.changeDetectorRef.markForCheck()})}handleMenuOpened(){this.menuOpen.next(!0)}handleMenuClosed(){this.menuOpen.next(!1)}handleSelectBookmarkClick(e,t){this.selectBookmark.emit(e),t.stopImmediatePropagation()}handleBookmarkActionClick(e,t,n){this.handleBookmarkAction(e,t),n.stopImmediatePropagation()}handleOtherClick(e){e.stopImmediatePropagation()}handleBookmarkAction(e,t){this.bookmarkActionsService.handleBookmarkAction({name:t,id:e.id,bookmark:e})}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(C.h),i.Pb(i.i),i.Pb(p.a),i.Pb(i.m))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-gallery-card-actions"]],inputs:{primaryActionLabel:"primaryActionLabel",bookmark:"bookmark",actionsEnabled:"actionsEnabled",primaryActionEnabled:"primaryActionEnabled",compact:"compact"},outputs:{selectBookmark:"selectBookmark",menuOpen:"menuOpen"},features:[i.Cb([j.x])],decls:3,vars:4,consts:[[1,"gallery-card-actions","flex","flex-row"],["class","gallery-card-actions__action-primary flex-auto","type","button","app-button","","buttonType","primary","buttonTheme","light","buttonSize","medium","data-test","galleryCardActionPrimary",3,"mr-1","click",4,"ngIf"],[4,"ngIf"],["type","button","app-button","","buttonType","primary","buttonTheme","light","buttonSize","medium","data-test","galleryCardActionPrimary",1,"gallery-card-actions__action-primary","flex-auto",3,"click"],["type","button","app-button","","buttonTheme","light","buttonSize","medium","buttonShape","square","matTooltipPosition","above","class","gallery-card-actions__action",3,"buttonType","matTooltip","click",4,"ngFor","ngForOf"],["type","button","app-button","","buttonTheme","light","buttonSize","medium","buttonShape","square","matTooltipPosition","above",1,"gallery-card-actions__action",3,"buttonType","matTooltip","click"],[3,"icon"],["type","button","app-button","","buttonTheme","light","buttonSize","medium","buttonShape","square","matTooltip","More Options","matTooltipPosition","above","data-test","galleryCardActionOtherButton",1,"gallery-card-actions__action",3,"buttonType","matMenuTriggerFor","click","menuOpened","menuClosed"],["icon","ellipsis-v"],["otherMenu","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"gallery-card-actions__action-warning","click",4,"ngIf"],["mat-menu-item","",3,"click"]],template:function(e,t){1&e&&(i.Vb(0,"div",0),i.Nc(1,K,2,3,"button",1),i.Nc(2,oe,3,2,"ng-container",2),i.Ub()),2&e&&(i.Hb("gallery-card-actions--compact",!t.primaryActionEnabled),i.Db(1),i.mc("ngIf",t.primaryActionEnabled),i.Db(1),i.mc("ngIf",t.actionsEnabled))},directives:[j.p,G.a,j.o,$.c,J.a,Z.d,Z.a,X.a,Z.b],styles:[".gallery-card-actions__action[_ngcontent-%COMP%]{margin:auto 4px}.gallery-card-actions__action[_ngcontent-%COMP%]:first-of-type{margin-left:auto}.gallery-card-actions__action[_ngcontent-%COMP%]:last-of-type{margin-right:auto}.gallery-card-actions__action-warning[_ngcontent-%COMP%]{color:#ed4758}.gallery-card-actions--compact[_ngcontent-%COMP%]   .gallery-card-actions__action[_ngcontent-%COMP%]{margin:auto}"],changeDetection:0}),e})();var se=n("F+jD");const le=["image"],pe=["card"];function ge(e,t){if(1&e&&(i.Vb(0,"app-list-item"),i.Tb(1),i.Pc(2),i.Sb(),i.Ub()),2&e){const e=t.$implicit;i.Db(2),i.Qc(e)}}function de(e,t){if(1&e&&(i.Tb(0),i.Pc(1),i.hc(2,"date"),i.Sb()),2&e){const e=i.gc(2);i.Db(1),i.Rc(" on ",i.jc(2,1,e.bookmark.create_date_time,"shortDate"),"")}}function he(e,t){if(1&e&&(i.Vb(0,"div"),i.Pc(1),i.hc(2,"date"),i.Ub()),2&e){const e=i.gc(2);i.Db(1),i.Sc(" Updated by ",e.bookmark.last_editor_first_name||e.bookmark.last_editor," on ",i.jc(2,2,e.bookmark.update_date_time,"shortDate")," ")}}function me(e,t){if(1&e&&(i.Vb(0,"div",12),i.Vb(1,"div"),i.Pc(2),i.Nc(3,de,3,4,"ng-container",13),i.Ub(),i.Nc(4,he,3,5,"div",13),i.Ub()),2&e){const e=i.gc();i.Db(2),i.Rc(" Created by ",e.bookmark.author_first_name||e.bookmark.author," "),i.Db(1),i.mc("ngIf",!e.bookmark.update_date_time),i.Db(1),i.mc("ngIf",e.bookmark.update_date_time)}}const be=new i.s(null);let ue=(()=>{class e{constructor(e,t,n,c,r,s,l,p){this.context=e,this._renderer=t,this._elementRef=n,this._bookmarksService=c,this._bookmarkActionsService=r,this._store=s,this._focusMonitor=l,this._ngZone=p,this.actionMode=g.a.Explore,this.contentType=z.a,this.galleryTags=[],this.bookmarkActions=[],this.primaryActionLabel="Select",this.menuOpened=new o.a(!1),this.focused=new o.a(!0),this.hovered=new o.a(!0),this._ngUnsubscribe=new a.a,this.destroy=new i.p,this.selectBookmark=new i.p,this.actionMode=e.actionMode,this.dimensions=e.dimensions,this.position=e.position,this.bookmark=e.bookmark}get bookmark(){return this._bookmark}set bookmark(e){this._bookmark=e,this.updateTags(),this.updateActions(),this.updatePrimaryActionLabel()}get dimensions(){return this._dimensions}set dimensions(e){this._dimensions=e,this.updateSize()}get position(){return this._position}set position(e){this._position=e,this.updatePosition()}handleEscape(){this.hide()}ngOnInit(){this._renderer.addClass(this._elementRef.nativeElement,"app-gallery-quickview-show"),this.updateImage(),this.initFocusMonitor(),this.bindEvents()}ngOnDestroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}updateSize(){this.dimensions.width&&this._renderer.setStyle(this._elementRef.nativeElement,"width",""+this.dimensions.width),this.dimensions.height&&this._renderer.setStyle(this._elementRef.nativeElement,"height",""+this.dimensions.height),this.dimensions.minHeight&&this._renderer.setStyle(this._elementRef.nativeElement,"minHeight",""+this.dimensions.minHeight),this._renderer.setStyle(this._elementRef.nativeElement,"height","auto")}updatePosition(){this._renderer.setStyle(this._elementRef.nativeElement,"left",""+this.position.left),this._renderer.setStyle(this._elementRef.nativeElement,"top",""+this.position.top)}updateTags(){this.galleryTags=this._bookmarksService.getGalleryTags(this.bookmark)}updatePrimaryActionLabel(){this.primaryActionLabel=this._bookmarkActionsService.getBookmarkPrimaryActionLabel(this.bookmark,this.actionMode)}updateImage(){this._renderer.setStyle(this.image.nativeElement,"background-image",`url(${this._bookmark.thumbnail_url})`)}bindEvents(){Object(b.a)(Object(u.a)(window,"mousemove"),Object(u.a)(window,"scroll"),Object(u.a)(this._elementRef.nativeElement,"mouseout")).pipe(Object(O.a)(50),Object(c.a)(this._ngUnsubscribe)).subscribe(()=>{const e=this._elementRef.nativeElement.matches(":hover");this.hovered.next(e)}),this.hovered.pipe(Object(c.a)(this._ngUnsubscribe)).subscribe(e=>{e||this.menuOpened.getValue()||this.hide()})}hide(){this._renderer.removeClass(this._elementRef.nativeElement,"app-gallery-quickview-show"),this._renderer.addClass(this._elementRef.nativeElement,"app-gallery-quickview-hide"),setTimeout(()=>{this.destroy.emit()},150)}updateActions(){if(this.actionMode===g.a.Explore){const e=this._bookmark,t=this._store.selectSnapshot(P.a.getUserRole),n=this._store.selectSnapshot(P.a.isPremiumUser),i=this._store.selectSnapshot(v.a.hasOrganization);this.bookmarkActions=this._bookmarkActionsService.getBookmarkActions(t,e,n,i)}else this.bookmarkActions=[]}handleSelect(e,t){this.selectBookmark.emit(e),t&&t.stopPropagation()}handleMenuOpened(e){this.menuOpened.next(e)}initFocusMonitor(){this._focusMonitor.monitor(this._elementRef.nativeElement,!0).pipe(Object(w.a)(0),Object(M.a)(this.menuOpened.asObservable()),Object(r.a)(([e,t])=>!t),Object(c.a)(this._ngUnsubscribe)).subscribe(([e])=>this._ngZone.run(()=>{switch(e){case"keyboard":break;case null:this.hide()}}))}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(be),i.Pb(i.H),i.Pb(i.m),i.Pb(d.a),i.Pb(p.a),i.Pb(C.h),i.Pb(V.f),i.Pb(i.B))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-gallery-quick-view"]],viewQuery:function(e,t){if(1&e&&(i.Jc(le,!0),i.Jc(pe,!0)),2&e){let e;i.xc(e=i.dc())&&(t.image=e.first),i.xc(e=i.dc())&&(t.card=e.first)}},hostBindings:function(e,t){1&e&&i.cc("keyup.escape",(function(){return t.handleEscape()}),!1,i.Bc)},outputs:{destroy:"destroy",selectBookmark:"selectBookmark"},decls:13,vars:9,consts:[["data-test","galleryQuickViewCard",1,"gallery-quickview",3,"click"],[1,"gallery-quickview__image"],["image",""],[3,"bookmark"],[1,"gallery-quickview__text"],[1,"gallery-quickview__label"],[1,"gallery-quickview__tags"],["listType","commafied"],[4,"ngFor","ngForOf"],["class","gallery-quickview__metadata",4,"ngIf"],[1,"gallery-quickview__actions"],[3,"actionsEnabled","primaryActionLabel","bookmark","selectBookmark","menuOpen"],[1,"gallery-quickview__metadata"],[4,"ngIf"]],template:function(e,t){1&e&&(i.Vb(0,"div",0),i.cc("click",(function(e){return t.handleSelect(t.bookmark,e)})),i.Vb(1,"div",1,2),i.Qb(3,"app-quick-view",3),i.Ub(),i.Vb(4,"div",4),i.Vb(5,"div",5),i.Pc(6),i.Ub(),i.Vb(7,"div",6),i.Vb(8,"app-list",7),i.Nc(9,ge,3,1,"app-list-item",8),i.Ub(),i.Ub(),i.Nc(10,me,5,3,"div",9),i.Vb(11,"div",10),i.Vb(12,"app-gallery-card-actions",11),i.cc("selectBookmark",(function(e){return t.handleSelect(e)}))("menuOpen",(function(e){return t.handleMenuOpened(e)})),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&e&&(i.Db(3),i.mc("bookmark",t.bookmark),i.Db(3),i.Rc(" ",t.bookmark.title," "),i.Db(1),i.Hb("hidden",!t.galleryTags.length),i.Db(2),i.mc("ngForOf",t.galleryTags),i.Db(1),i.mc("ngIf",t.bookmark.type===t.contentType.Bookmark),i.Db(2),i.mc("actionsEnabled",t.bookmarkActions.length>0)("primaryActionLabel",t.primaryActionLabel)("bookmark",t.bookmark))},directives:[L,H.a,j.o,j.p,re,se.a],pipes:[j.e],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}[_nghost-%COMP%]{width:280px;height:400px;background:#fff;cursor:pointer;position:absolute;z-index:2;box-shadow:0 4px 15px 4px rgba(0,0,0,.1);border-radius:12px}.app-gallery-quickview-show[_nghost-%COMP%]{-webkit-animation:app-gallery-quickview-show .2s cubic-bezier(0,0,.2,1) forwards;animation:app-gallery-quickview-show .2s cubic-bezier(0,0,.2,1) forwards}.app-gallery-quickview-hide[_nghost-%COMP%]{-webkit-animation:app-gallery-quickview-hide .15s cubic-bezier(0,0,.2,1) forwards;animation:app-gallery-quickview-hide .15s cubic-bezier(0,0,.2,1) forwards}.gallery-quickview__image[_ngcontent-%COMP%]{background:#eaeff5 url(/assets/images/logo-dark-transparent.svg) 50% no-repeat;background-size:100%;border-radius:8px 8px 0 0;overflow:hidden;padding-bottom:100%;position:relative}.gallery-quickview__text[_ngcontent-%COMP%]{padding:12px 16px 16px}.gallery-quickview__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:600;color:#1c2a3f;word-break:break-word}.gallery-quickview__actions[_ngcontent-%COMP%]{padding-top:12px}.gallery-quickview__metadata[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em;color:#61779e;font-weight:400;padding-top:8px}.gallery-quickview__tags[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;padding-top:4px;font-weight:600;color:#96a8c0}@-webkit-keyframes app-gallery-quickview-show{0%{opacity:1;transform:scale(.7)}50%{opacity:1;transform:scale(.99)}to{opacity:1;transform:scale(1)}}@keyframes app-gallery-quickview-show{0%{opacity:1;transform:scale(.7)}50%{opacity:1;transform:scale(.99)}to{opacity:1;transform:scale(1)}}@-webkit-keyframes app-gallery-quickview-hide{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.95)}to{opacity:0;transform:scale(.95)}}@keyframes app-gallery-quickview-hide{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.95)}to{opacity:0;transform:scale(.95)}}"],changeDetection:0}),e})();var xe=n("nLfN");let ke=(()=>{class e{constructor(e,t,n,o,c,r){this._viewContainerRef=e,this._componentFactoryResolver=t,this._elementRef=n,this._changeDetectorRef=o,this._domService=c,this._platform=r,this._ngUnsubscribe=new a.a,this.quickviewRenderMode="relative",this.quickViewDisabled=!1,this.quickViewActionMode=g.a.Explore,this.quickViewShowDelay=500,this.quickViewHideDelay=125,this.quickViewScaleCardSize=!0,this.quickViewCardMinWidth=280,this.quickViewCardMinHeight=400,this.quickViewCardTop=-16,this.quickViewCardScaleFactor=1.025,this.quickViewCardPositionStrategy="center",this.selectBookmark=new i.p}ngOnInit(){this.bindEvents()}ngOnDestroy(){this.destroy(),this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}create(){if(!this._componentRef&&!this.quickViewDisabled){const e=this.getCardDimensions(),t="relative"===this.quickviewRenderMode?this.getRelativeCardPosition({width:e.width,height:e.minHeight}):this.getFixedCardPosition({width:e.width,height:e.minHeight}),n=i.t.create({providers:[{provide:be,useValue:{bookmark:this.bookmark,actionMode:this.quickViewActionMode,dimensions:{width:e.width+"px",minHeight:e.minHeight+"px"},position:{left:t.left+"px",top:t.top+"px"}}}]});if(!this._componentRef){switch(this.quickviewRenderMode){case"fixed":this._componentRef=this._domService.appendComponentToBody(ue,n);break;case"relative":this._componentRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(ue),null,n)}this._componentRef.instance.selectBookmark.pipe(Object(c.a)(this._componentRef.instance.destroy)).subscribe(e=>{this.selectBookmark.emit(e)}),this._componentRef.instance.destroy.pipe(Object(c.a)(this._ngUnsubscribe)).subscribe(()=>{this.destroy()}),this._changeDetectorRef.markForCheck()}}}destroy(){if(this._componentRef)switch(this.quickviewRenderMode){case"fixed":this._domService.destroyComponent(this._componentRef),this._componentRef=null;break;case"relative":this._componentRef.destroy(),this._componentRef=null,this._viewContainerRef&&this._viewContainerRef.clear()}}getCardDimensions(){if(this.quickViewScaleCardSize){const{offsetWidth:e,offsetHeight:t}=this._elementRef.nativeElement,n=Math.max(e*this.quickViewCardScaleFactor,this.quickViewCardMinWidth);return{width:n,minHeight:n/e*t}}return{width:this.quickViewCardMinWidth,minHeight:this.quickViewCardMinHeight}}getRelativeCardPosition(e){const{offsetWidth:t}=this._elementRef.nativeElement;return{left:-(e.width-t)/2,top:this.quickViewCardTop}}getFixedCardPosition(e){const{offsetWidth:t}=this._elementRef.nativeElement,n=this._elementRef.nativeElement.getBoundingClientRect();return{left:n.left-(e.width-t)/2,top:n.top+window.scrollY+this.quickViewCardTop}}bindEvents(){if(!this._platform.ANDROID&&!this._platform.IOS){const e=this._elementRef.nativeElement;Object(b.a)(Object(u.a)(e,"mouseover"),Object(u.a)(e,"mouseout")).pipe(Object(k.a)(({type:e})=>["mouseover"].includes(e)),Object(f.a)(),Object(c.a)(this._ngUnsubscribe)).pipe(Object(_.a)(e=>Object(x.a)(e?this.quickViewShowDelay:this.quickViewHideDelay)),Object(f.a)((e,t)=>e===t),Object(c.a)(this._ngUnsubscribe)).subscribe(e=>{e&&this.create()})}}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.S),i.Pb(i.k),i.Pb(i.m),i.Pb(i.i),i.Pb(y),i.Pb(xe.a))},e.\u0275dir=i.Kb({type:e,selectors:[["","appQuickView",""]],inputs:{bookmark:"bookmark",quickviewRenderMode:"quickviewRenderMode",quickViewDisabled:"quickViewDisabled",quickViewActionMode:"quickViewActionMode",quickViewShowDelay:"quickViewShowDelay",quickViewHideDelay:"quickViewHideDelay",quickViewScaleCardSize:"quickViewScaleCardSize",quickViewCardMinWidth:"quickViewCardMinWidth",quickViewCardMinHeight:"quickViewCardMinHeight",quickViewCardTop:"quickViewCardTop",quickViewCardScaleFactor:"quickViewCardScaleFactor",quickViewCardPositionStrategy:"quickViewCardPositionStrategy"},outputs:{selectBookmark:"selectBookmark"}}),e})();var fe=n("wf0l"),_e=n("PmOP"),ye=n("bSwM");function Ce(e,t){1&e&&(i.Vb(0,"div",13),i.Qb(1,"app-icon",14),i.Ub())}function Oe(e,t){if(1&e){const e=i.Wb();i.Vb(0,"mat-checkbox",15),i.cc("change",(function(t){return i.Cc(e),i.gc().handleCheckedChange(t)})),i.Ub()}if(2&e){const e=i.gc();i.mc("value",e.bookmark.id)("checked",e.checked)}}function we(e,t){if(1&e){const e=i.Wb();i.Vb(0,"mat-checkbox",16),i.cc("change",(function(t){return i.Cc(e),i.gc().handleCheckedChange(t)})),i.Ub()}if(2&e){const e=i.gc();i.mc("value",e.bookmark.id)("checked",e.checked)}}function Me(e,t){if(1&e){const e=i.Wb();i.Vb(0,"app-gallery-card-actions",17),i.cc("selectBookmark",(function(t){return i.Cc(e),i.gc().handleSelect(t)}))("menuOpen",(function(t){return i.Cc(e),i.gc().handleMenuOpened(t)})),i.Ub()}if(2&e){const e=i.gc();i.mc("bookmark",e.bookmark)("primaryActionLabel",e.labelPrimary)("primaryActionEnabled",!1)("actionsEnabled",e.actionsEnabled)}}function Pe(e,t){if(1&e&&(i.Vb(0,"app-list-item"),i.Tb(1),i.Pc(2),i.Sb(),i.Ub()),2&e){const e=t.$implicit;i.Db(2),i.Qc(e)}}function ve(e,t){if(1&e&&(i.Vb(0,"div",18),i.Vb(1,"app-list",19),i.Nc(2,Pe,3,1,"app-list-item",20),i.Ub(),i.Ub()),2&e){const e=i.gc();i.Db(2),i.mc("ngForOf",e.galleryTags)}}function ze(e,t){if(1&e&&(i.Vb(0,"div",21),i.Tb(1,22),i.Pc(2),i.hc(3,"date"),i.Sb(),i.Ub()),2&e){const e=i.gc();i.Db(2),i.Sc(" ",e.bookmark.last_editor_first_name||e.bookmark.last_editor||e.bookmark.author_first_name||e.bookmark.author,", ",i.jc(3,2,e.bookmark.update_date_time||e.bookmark.create_date_time,"shortDate")," ")}}const Ve=function(e,t,n,i){return{"gallery-card--checked":e,"gallery-card--list":t,"gallery-card--responsive":n,"gallery-card--loading":i}};let Se=(()=>{class e{constructor(e,t,n){this.changeDetectorRef=e,this.bookmarksService=t,this.bookmarkActionsService=n,this.galleryViewMode=l.a,this.selectLabel="Select",this.checkable=!1,this.checked=!1,this.quickviewRenderMode="relative",this.actionMode=g.a.Explore,this.actionsEnabled=!0,this.responsive=!1,this.loading=!1,this.viewMode=l.a.Card,this.availableOffline$=new o.a(!1),this._bookmark=new o.a(void 0),this.selectBookmark=new i.p,this.checkChange=new i.p,this.menuOpened=new i.p,this.galleryTags=[],this.defaultImage="/assets/images/card-thumbnail-placeholder.png",this.labelPrimary="",this.ngUnsubscribe=new a.a}get bookmark(){return this._bookmark.value}set bookmark(e){this._bookmark.next(e),this.changeDetectorRef.markForCheck()}ngOnInit(){this.checkLabel(),this.initGalleryTags(),m.a.native&&h.a.getOfflineModelIDs().pipe(Object(c.a)(this.ngUnsubscribe)).subscribe(e=>{const t=e.includes(this.bookmark.id);this.availableOffline$.next(t)})}ngAfterViewInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSelect(e,t){this.handleBookmarkSelected(e),t&&t.stopPropagation()}handleBookmarkSelected(e){this.checkable?this.checkChange.next(!this.checked):this.selectBookmark.emit(e)}handleCheckedChange(e){this.checkChange.next(e.checked)}handleMenuOpened(e){this.menuOpened.next(e)}initGalleryTags(){this._bookmark.asObservable().pipe(Object(r.a)(e=>!Object(s.isNil)(e)),Object(c.a)(this.ngUnsubscribe)).subscribe(e=>{this.galleryTags=this.bookmarksService.getGalleryTags(e),this.changeDetectorRef.markForCheck()})}checkLabel(){switch(this.actionMode){case g.a.Select:case g.a.Import:this.labelPrimary=this.selectLabel;break;case g.a.Explore:this._bookmark.pipe(Object(c.a)(this.ngUnsubscribe),Object(r.a)(e=>!Object(s.isNil)(e))).subscribe(e=>{this.labelPrimary=this.bookmarkActionsService.getBookmarkPrimaryActionLabel(e,this.actionMode),this.changeDetectorRef.markForCheck()})}}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.i),i.Pb(d.a),i.Pb(p.a))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-gallery-card"]],inputs:{selectLabel:"selectLabel",checkable:"checkable",checked:"checked",quickviewRenderMode:"quickviewRenderMode",actionMode:"actionMode",actionsEnabled:"actionsEnabled",responsive:"responsive",loading:"loading",viewMode:"viewMode",bookmark:"bookmark"},outputs:{selectBookmark:"selectBookmark",checkChange:"checkChange",menuOpened:"menuOpened"},decls:15,vars:25,consts:[["appQuickView","","data-test","galleryCard","role","button",1,"gallery-card",3,"bookmark","quickviewRenderMode","quickViewDisabled","quickViewActionMode","ngClass","tabindex","selectBookmark","click","keyup.enter"],[1,"gallery-card__image-container"],["role","img","card-image","",1,"gallery-card__image",3,"defaultImage","lazyLoad"],[1,"gallery-card__header"],[1,"flex","flex-grow","justify-start"],["class","gallery-card__offline",4,"ngIf"],["appEventFence","",3,"value","checked","change",4,"ngIf"],["appEventFence","",1,"gallery-card__actions"],["class","gallery-card__inline-check",3,"value","checked","change",4,"ngIf"],[3,"bookmark","primaryActionLabel","primaryActionEnabled","actionsEnabled","selectBookmark","menuOpen",4,"ngIf"],["data-test","galleryCardLabel",1,"gallery-card__label"],["class","gallery-card__tags",4,"ngIf"],["class","gallery-card__updated",4,"ngIf"],[1,"gallery-card__offline"],["icon","arrow-circle-down"],["appEventFence","",3,"value","checked","change"],[1,"gallery-card__inline-check",3,"value","checked","change"],[3,"bookmark","primaryActionLabel","primaryActionEnabled","actionsEnabled","selectBookmark","menuOpen"],[1,"gallery-card__tags"],["listType","commafied"],[4,"ngFor","ngForOf"],[1,"gallery-card__updated"],["card-updated",""]],template:function(e,t){1&e&&(i.Vb(0,"div",0),i.cc("selectBookmark",(function(e){return t.handleBookmarkSelected(e)}))("click",(function(e){return t.handleSelect(t.bookmark,e)}))("keyup.enter",(function(e){return t.handleSelect(t.bookmark,e)})),i.Vb(1,"div",1),i.Qb(2,"div",2),i.Vb(3,"div",3),i.Vb(4,"div",4),i.Nc(5,Ce,2,0,"div",5),i.hc(6,"async"),i.Nc(7,Oe,1,2,"mat-checkbox",6),i.Ub(),i.Ub(),i.Ub(),i.Vb(8,"div",7),i.Nc(9,we,1,2,"mat-checkbox",8),i.Nc(10,Me,1,4,"app-gallery-card-actions",9),i.Ub(),i.Vb(11,"div",10),i.Pc(12),i.Ub(),i.Nc(13,ve,3,1,"div",11),i.Nc(14,ze,4,5,"div",12),i.Ub()),2&e&&(i.mc("bookmark",t.bookmark)("quickviewRenderMode",t.quickviewRenderMode)("quickViewDisabled",t.loading||t.checkable||t.viewMode===t.galleryViewMode.List||t.responsive)("quickViewActionMode",t.actionMode)("ngClass",i.sc(20,Ve,t.checked,t.viewMode===t.galleryViewMode.List,t.responsive,t.loading))("tabindex",t.loading?-1:0),i.Eb("data-type",t.bookmark.type)("data-loading",!0===t.loading)("aria-label",t.bookmark.title),i.Db(2),i.mc("defaultImage",t.defaultImage)("lazyLoad",t.bookmark.thumbnail_url),i.Db(3),i.mc("ngIf",i.ic(6,18,t.availableOffline$)),i.Db(2),i.mc("ngIf",t.checkable),i.Db(2),i.mc("ngIf",t.checkable),i.Db(1),i.mc("ngIf",!t.checkable),i.Db(2),i.Qc(t.bookmark.title),i.Db(1),i.mc("ngIf",t.galleryTags.length>0),i.Db(1),i.mc("ngIf",t.viewMode===t.galleryViewMode.List))},directives:[ke,j.m,fe.a,j.p,_e.a,J.a,ye.a,re,H.a,j.o,se.a],pipes:[j.b,j.e],styles:['.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}@-webkit-keyframes loaderShimmer{0%{background-position:100% 0}to{background-position:-100% 0}}@keyframes loaderShimmer{0%{background-position:100% 0}to{background-position:-100% 0}}[_nghost-%COMP%]{display:block;position:relative}.gallery-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #eaeff5;border-radius:8px;cursor:pointer;width:100%;word-break:break-word;height:100%;position:relative;overflow:hidden;z-index:1;display:grid;grid-template:"image" 1fr "label" 36px "tags" 28px "updated"/1fr auto;transition:transform .25s ease-out,box-shadow .25s ease-in-out}.gallery-card--checked[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #2d72dc}.gallery-card--list[_ngcontent-%COMP%]{padding:8px 8px 40px;box-shadow:none!important;border:none;border-bottom:1px solid rgba(0,0,0,.12);border-radius:0;grid-template:"image label tags updated actions" 44px/44px 1fr 20% 20% 88px}.gallery-card--list[_ngcontent-%COMP%]   .gallery-card__image-container[_ngcontent-%COMP%]{border-radius:4px}.gallery-card--list[_ngcontent-%COMP%]   .gallery-card__actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.gallery-card--list[_ngcontent-%COMP%]   .gallery-card__updated[_ngcontent-%COMP%]{text-transform:uppercase;display:flex!important}.gallery-card--list[_ngcontent-%COMP%]   .gallery-card__header[_ngcontent-%COMP%]{display:none}.gallery-card--list[_ngcontent-%COMP%]   .gallery-card__inline-check[_ngcontent-%COMP%]{display:inline-block;margin-right:8px}.gallery-card--list[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]{display:flex;align-items:center}.gallery-card[_ngcontent-%COMP%]:focus-within{outline:2px solid #2d72dc!important}.gallery-card__image-container[_ngcontent-%COMP%]{grid-area:image;background:#eaeff5 url(/assets/images/logo-dark-transparent.svg) 50% no-repeat;background-size:30%;border-radius:4px 4px 0 0;padding-bottom:100%;position:relative}.gallery-card__label[_ngcontent-%COMP%]{grid-area:label;align-items:center;padding:12px 16px 0;overflow:hidden;text-overflow:ellipsis;max-width:100%;white-space:nowrap;font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:600;color:#1c2a3f}.gallery-card__actions[_ngcontent-%COMP%]{display:none;align-items:flex-start;justify-content:center;padding:4px;grid-area:actions;transition:opacity .25s}.gallery-card__tags[_ngcontent-%COMP%]{grid-area:tags;padding-left:16px;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase;font-weight:500;color:#96a8c0}.gallery-card__image[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;position:absolute;top:0;right:0;bottom:0;left:0;background-size:cover;background-position:top}.gallery-card__action-group[_ngcontent-%COMP%]{position:absolute;top:50%;left:25%;right:25%;transform:translateY(-50%);transition:transform .25s ease-out}.gallery-card__action[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border:1px solid #fff;border-radius:4px;text-align:center;padding:10px 12px;transition:background-color .3s ease-out}.gallery-card__action[_ngcontent-%COMP%]:hover{background-color:#131c2a}.gallery-card__action[_ngcontent-%COMP%]:focus{border-color:transparent;outline:2px solid #2d72dc!important}.gallery-card__updated[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em;display:flex;align-items:center;padding-left:16px;padding-right:16px;font-weight:400;color:#61779e;grid-area:updated}.gallery-card__header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px 8px 8px 16px;min-height:36px}.gallery-card__offline[_ngcontent-%COMP%]{color:#33cd54;background-image:linear-gradient(#fff,#fff);background-repeat:no-repeat;background-position:50%;border:1px solid #fff;border-radius:50%;margin-right:8px}.gallery-card__inline-check[_ngcontent-%COMP%]{display:none}.gallery-card--loading[_ngcontent-%COMP%]{pointer-events:none}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__image-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:100px;background:#eaeff5;background-image:linear-gradient(90deg,#eaeff5 0,#f9fafd 20%,#eaeff5 40%,#eaeff5);background-repeat:no-repeat;background-size:300% 100%;display:inline-block;position:relative;-webkit-animation:loaderShimmer 1.5s infinite forwards;animation:loaderShimmer 1.5s infinite forwards;border-radius:4px}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__image[_ngcontent-%COMP%]{background-image:none!important}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__label[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:16px;border-radius:100px;background:#eaeff5;background-image:linear-gradient(90deg,#eaeff5 0,#f9fafd 20%,#eaeff5 40%,#eaeff5);background-repeat:no-repeat;background-size:300% 100%;display:inline-block;position:relative;-webkit-animation:loaderShimmer 1.5s infinite forwards;animation:loaderShimmer 1.5s infinite forwards}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:none}.gallery-card--loading[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]:after{content:"";display:block;width:35%;height:16px;border-radius:100px;background:#eaeff5;background-image:linear-gradient(90deg,#eaeff5 0,#f9fafd 20%,#eaeff5 40%,#eaeff5);background-repeat:no-repeat;background-size:300% 100%;display:inline-block;position:relative;-webkit-animation:loaderShimmer 1.5s infinite forwards;animation:loaderShimmer 1.5s infinite forwards}.gallery-card--responsive[_ngcontent-%COMP%]{height:124px;grid-template:"image label actions" minmax(-webkit-min-content,48px) "image tags actions" auto/124px auto auto;grid-template:"image label actions" minmax(min-content,48px) "image tags actions" auto/124px auto auto}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__image[_ngcontent-%COMP%]{border-radius:0}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__label[_ngcontent-%COMP%]{white-space:normal;padding-bottom:12px}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__tags[_ngcontent-%COMP%]{padding-top:4px}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.gallery-card--responsive[_ngcontent-%COMP%]   .gallery-card__updated[_ngcontent-%COMP%]{display:none}.gallery-card--responsive[_ngcontent-%COMP%]:focus-within, .gallery-card--responsive[_ngcontent-%COMP%]:hover{box-shadow:0 1px 2px rgba(0,0,0,.04),0 4px 10px rgba(0,0,0,.12)!important}'],changeDetection:0}),e})()}}]);