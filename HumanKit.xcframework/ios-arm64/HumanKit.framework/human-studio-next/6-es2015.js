(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+dkL":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n("ofXK"),i=n("AcyG"),o=n("3phy"),a=n("fXoL");let l=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[c.c,i.d.forFeature([o.a])]]}),e})()},"3phy":function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var c,i=n("AcyG"),o=n("Dyer"),a=n("ZJ6O"),l=n("0FUJ"),s=n("MKYd"),r=n("SxJt"),p=n("Mh2x"),g=n("ZR5G"),h=n("LRne"),u=n("cp0P"),d=n("nYR2"),b=n("lJxs"),f=n("vkgz"),m=n("eIep"),y=n("IzEk"),C=n("YpC8"),x=n("LvDl"),O=n("g408"),_=n("0E12"),M=n("Vrox"),P=n("vm16"),v=n("yG3n"),k=n("h8op"),w=n("QtmD"),S=n("cQmI"),j=n("fXoL"),U=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};(new l.a).graph.hidden=!0;const D={primaryCategoryOptions:[],secondaryCategoryOptions:[],moduleExists:!1,saveModule:new class{},storyType:g.a.Module,saving:!1};let z=(()=>{let e=c=class{constructor(e,t,n,c){this.store=e,this.serializeModuleService=t,this.modulesService=n,this.imagesService=c}static getSaveModule(e){return e.saveModule}static getPrimaryCategoryOptions(e){return Object(i.i)([c],t=>"read"===e?t.primaryCategoryOptions:t.primaryCategoryOptions.filter(e=>"exports"!==e))}static getSecondaryCategoryOptions(e){return e.secondaryCategoryOptions}static getSaving(e){return e.saving}saveModule(e,t){return n=this,void 0,i=function*(){e.patchState({saving:!0});const n=t.saveConfig,c=t.trimConfig?t.trimConfig:new l.a,i=n.duplicate?t.saveConfig.namespaceMap:{},a=this.store.selectSnapshot(p.a.getStoryChapters),s=!1===n.replace,g=O.a.makeChapterIdMap(a,s);s&&(yield this.store.dispatch(new _.a.UpdateTweenParticleLookupChapters(g)).toPromise());const y=this.serializeModuleService.serialize(i,c,t.saveConfig.duplicate,this.store.selectSnapshot(C.a.getStory),this.store.selectSnapshot(p.a.getStoryChapters),g),P=this.store.selectSnapshot(w.a.getSelectedBookmarkViewMode),j=Object(x.without)(y.story.tags,S.a.Content,S.a.Quiz);P&&j.push(P),y.story.tags=j;let U=Object(h.a)([]);const T=this.store.selectSnapshot(M.a.getRegisteredThumbnails),D=this.imagesService.saveChapterThumbnails(y.story.chapters,T,Object(x.invert)(g));if(D.length&&(U=Object(u.a)(D)),U.pipe(Object(d.a)(()=>e.patchState({saving:!1})),Object(b.a)(e=>{const t=this.store.selectSnapshot(M.a.getRegisteredThumbnails);return e.forEach(e=>{const n=new v.a;n.storyId=y.story.moduleId,n.chapterId=e.chapterId,n.urls={small:e.uris.small,large:e.uris.large},t.set(e.chapterId,n);const c=y.story.chapters.findIndex(t=>t.id===e.chapterId);c>=0&&(y.story.chapters[c].thumbnails=Object.assign({},e.uris))}),t}),Object(f.a)(t=>{e.dispatch(new k.a(t))}),Object(m.a)(()=>this.modulesService.saveModule(y.story,t.id))).subscribe(n=>{e.dispatch(n===r.a.Success?new o.h(t.id,y.story,t.saveConfig.duplicate):new o.g(t.id))}),n.duplicate){const n=[];Object.entries(i).forEach(([e,t])=>{n.push(this.modulesService.copyState(e,t))}),Object(u.a)(n).subscribe(n=>{e.dispatch(new o.b(t.id))},n=>{e.dispatch(new o.a(t.id))})}},new((c=void 0)||(c=Promise))((function(e,t){function o(e){try{l(i.next(e))}catch(n){t(n)}}function a(e){try{l(i.throw(e))}catch(n){t(n)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(o,a)}l((i=i.apply(n,[])).next())}));var n,c,i}setSaveModule(e,t){e.patchState({saveModule:Object.assign({},t.module)})}getModulePrimaryCategories(e,t){this.modulesService.getPrimaryCategories().subscribe(t=>{e.patchState({primaryCategoryOptions:t})})}getModuleSecondaryCategories(e,t){this.modulesService.getSecondaryCategories(t.primaryCategory).subscribe(t=>{e.patchState({secondaryCategoryOptions:t})})}resetModules(e,t){Object(u.a)(this.modulesService.getPrimaryCategories(),this.modulesService.getSecondaryCategories("")).pipe(Object(y.a)(1)).subscribe(([t,n])=>{e.patchState({primaryCategoryOptions:t,secondaryCategoryOptions:n})})}};return e.\u0275fac=function(t){return new(t||e)(j.Zb(i.h),j.Zb(a.a),j.Zb(s.a),j.Zb(P.a))},e.\u0275prov=j.Lb({token:e,factory:e.\u0275fac}),U([Object(i.a)(o.f),T("design:type",Function),T("design:paramtypes",[Object,o.f]),T("design:returntype",Promise)],e.prototype,"saveModule",null),U([Object(i.a)(o.i),T("design:type",Function),T("design:paramtypes",[Object,o.i]),T("design:returntype",void 0)],e.prototype,"setSaveModule",null),U([Object(i.a)(o.c),T("design:type",Function),T("design:paramtypes",[Object,o.c]),T("design:returntype",void 0)],e.prototype,"getModulePrimaryCategories",null),U([Object(i.a)(o.d),T("design:type",Function),T("design:paramtypes",[Object,o.d]),T("design:returntype",void 0)],e.prototype,"getModuleSecondaryCategories",null),U([Object(i.a)(o.e),T("design:type",Function),T("design:paramtypes",[Object,o.e]),T("design:returntype",void 0)],e.prototype,"resetModules",null),U([Object(i.f)(),T("design:type",Function),T("design:paramtypes",[Object]),T("design:returntype",void 0)],e,"getSaveModule",null),U([Object(i.f)(),T("design:type",Function),T("design:paramtypes",[Object]),T("design:returntype",void 0)],e,"getSecondaryCategoryOptions",null),U([Object(i.f)(),T("design:type",Function),T("design:paramtypes",[Object]),T("design:returntype",void 0)],e,"getSaving",null),e=c=U([Object(i.g)({name:"modules",defaults:D})],e),e})()},BbIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var c=n("fXoL"),i=n("ofXK"),o=n("STbY"),a=n("IlST"),l=n("0njA");function s(e,t){if(1&e&&(c.Vb(0,"button",3),c.Vb(1,"span",4),c.Vb(2,"span",5),c.Vb(3,"span",6),c.Pc(4,"Sort: "),c.Ub(),c.Pc(5),c.Ub(),c.Qb(6,"app-icon",7),c.Ub(),c.Ub()),2&e){const e=c.gc(),t=c.yc(2);c.mc("uppercase",!1)("matMenuTriggerFor",t),c.Eb("aria-label",e.sortLabel),c.Db(5),c.Qc(e.sort.label)}}function r(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",8),c.cc("click",(function(){c.Cc(e);const n=t.$implicit;return c.gc().handleSort(n)})),c.Pc(1),c.Ub()}if(2&e){const e=t.$implicit;c.Eb("data-test-value",e.dataTest)("aria-label","Sort by "+e.label),c.Db(1),c.Rc(" ",e.label," ")}}let p=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.sortOptions=[],this.sortChange=new c.p}get sort(){return this._sort}set sort(e){this._sort=e,this.changeDetectorRef.markForCheck()}ngOnInit(){}handleSort(e){this.sortChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-sort"]],inputs:{sort:"sort",sortOptions:"sortOptions",sortLabel:"sortLabel"},outputs:{sortChange:"sortChange"},decls:4,vars:2,consts:[["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor",4,"ngIf"],["sortActions","matMenu"],["mat-menu-item","","data-test","gallerySortByItem",3,"click",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor"],[2,"white-space","nowrap"],[1,"text-medium"],[1,"hide-sm"],["icon","caret-down",1,"ml-1"],["mat-menu-item","","data-test","gallerySortByItem",3,"click"]],template:function(e,t){1&e&&(c.Nc(0,s,7,4,"button",0),c.Vb(1,"mat-menu",null,1),c.Nc(3,r,2,3,"button",2),c.Ub()),2&e&&(c.mc("ngIf",t.sort),c.Db(3),c.mc("ngForOf",t.sortOptions))},directives:[i.p,o.a,i.o,a.a,o.d,l.a,o.b],styles:[""],changeDetection:0}),e})()},Dyer:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));let c=(()=>{class e{constructor(e,t,n){this.id=e,this.saveConfig=t,this.trimConfig=n}}return e.type="[Modules] Save Module",e})(),i=(()=>{class e{constructor(e,t,n=!1){this.id=e,this.story=t,this.statesDuplicated=n}}return e.type="[Modules] Save Module Success",e})(),o=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Save Module Failure",e})(),a=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Duplicate Module Success",e})(),l=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Duplicate Module Failure",e})(),s=(()=>{class e{constructor(e){this.module=e}}return e.type="[Modules] Set Save Module",e})(),r=(()=>{class e{constructor(){}}return e.type="[Modules] Get Primary Categories",e})(),p=(()=>{class e{constructor(e){this.primaryCategory=e}}return e.type="[Modules] Get Secondary Categories",e})(),g=(()=>{class e{constructor(){}}return e.type="[Modules] Reset",e})()},FO49:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var c=n("fXoL"),i=n("AcyG"),o=n("HDdC"),a=n("Kn5L"),l=n("ECVi"),s=n("INTG"),r=n("HdmJ"),p=n("IlST"),g=n("ofXK"),h=n("STbY"),u=n("0njA"),d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function b(e,t){if(1&e&&(c.Qb(0,"img",8),c.hc(1,"async"),c.hc(2,"async")),2&e){const e=c.gc(2);let t=null;c.mc("src",e.getLocaleFlag(c.ic(1,2,e.userLocale$)),c.Fc),c.Eb("alt",null==(t=c.ic(2,4,e.userLocale$))?null:t.title)}}function f(e,t){if(1&e&&(c.Vb(0,"button",3),c.Vb(1,"div",4),c.Nc(2,b,3,6,"img",5),c.Vb(3,"span",6),c.Pc(4),c.hc(5,"async"),c.Ub(),c.Qb(6,"app-icon",7),c.Ub(),c.Ub()),2&e){const e=c.gc(),t=c.yc(3);c.mc("buttonTheme",e.buttonTheme)("buttonType",e.buttonType)("matMenuTriggerFor",t),c.Eb("aria-label","Select your locale"),c.Db(2),c.mc("ngIf",e.showFlag),c.Db(2),c.Qc(e.displayLocale(c.ic(5,6,e.userLocale$)))}}function m(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",9),c.cc("click",(function(){c.Cc(e);const n=t.$implicit;return c.gc().handleLocaleSelection(n)})),c.Vb(1,"span",10),c.Qb(2,"img",8),c.Pc(3),c.hc(4,"uppercase"),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit,n=c.gc();c.Eb("aria-label",e.title)("data-test",n.localesDataTestMap[e.lang]),c.Db(2),c.mc("src",n.getLocaleFlag(e),c.Fc),c.Eb("alt",e.title),c.Db(1),c.Sc(" ",e.title," (",c.ic(4,6,e.lang),") ")}}var y=function(e){return e.Full="full",e.Title="title",e.Lang="lang",e}({});let C=(()=>{class e{constructor(e){this.store=e,this.locales=s.d,this.localesDataTestMap=s.e,this.buttonType=p.b.Default,this.buttonTheme=r.a.Dark,this.localeFormat=y.Full,this.showFlag=!0,this.localeChange=new c.p}handleLocaleSelection(e){this.store.selectSnapshot(l.a.getUserLocale)!==e&&(this.store.dispatch(new a.ab(e)),this.localeChange.emit(e))}getLocaleFlag(e){return`/assets/images/flags/${e.country}.svg`}displayLocale(e){switch(this.localeFormat){case y.Full:return`${e.title} (${e.lang})`;case y.Title:return e.title;case y.Lang:return e.lang}}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-locales"]],inputs:{buttonType:"buttonType",buttonTheme:"buttonTheme",localeFormat:"localeFormat",showFlag:"showFlag"},outputs:{localeChange:"localeChange"},decls:5,vars:4,consts:[["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor",4,"ngIf"],["localeOptions","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor"],[1,"flex","items-center"],["class","mr-2",3,"src",4,"ngIf"],[1,"text-medium"],["icon","caret-down",1,"ml-1"],[1,"mr-2",3,"src"],["mat-menu-item","",3,"click"],[1,"flex"]],template:function(e,t){1&e&&(c.Nc(0,f,7,8,"button",0),c.hc(1,"async"),c.Vb(2,"mat-menu",null,1),c.Nc(4,m,5,8,"button",2),c.Ub()),2&e&&(c.mc("ngIf",c.ic(1,2,t.userLocale$)),c.Db(4),c.mc("ngForOf",t.locales))},directives:[g.p,h.a,g.o,p.a,h.d,u.a,h.b],pipes:[g.b,g.y],styles:[""],changeDetection:0}),function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(i.e)(l.a.getUserLocale),d("design:type",o.a)],e.prototype,"userLocale$",void 0),e})()},TRdv:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pn}));var c=n("fXoL"),i=n("AcyG"),o=n("+8WF"),a=n("GCmh"),l=n("XNiG"),s=n("xgIS"),r=n("HDdC"),p=n("p345"),g=n("ihWl"),h=n("J9/X"),u=n("AytR"),d=n("XhcP"),b=n("1G5W"),f=n("pLZG"),m=n("/uUt"),y=n("Kj3r"),C=n("lJxs"),x=n("o6VQ"),O=n("LvDl"),_=n("b36G"),M=n("ZR5G"),P=n("EETq"),v=n("R0Ic"),k=n("1mir"),w=n("CpGW"),S=n("r/EZ"),j=n("0MNC"),U=n("ofXK"),T=n("eqP/"),D=n("j8e5"),z=n("Ryms"),R=n("tyNb"),V=n("3Pt+"),I=n("QgkK"),F=n("itXk"),$=n("ft4l"),A=n("IlST"),N=n("0njA"),L=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function B(e,t){if(1&e&&c.Qb(0,"app-icon",10),2&e){const e=c.gc().$implicit,t=c.gc(3);c.mc("icon",t.bulkActionsIconMap[e])}}function Q(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",8),c.cc("click",(function(){c.Cc(e);const n=t.$implicit;return c.gc(3).handleActionClick(n)})),c.Nc(1,B,1,1,"app-icon",9),c.Pc(2),c.Ub()}if(2&e){const e=t.$implicit,n=c.gc(3);c.Eb("data-test",n.bulkActionsDataTestMap[e]),c.Db(1),c.mc("ngIf",n.bulkActionsIconMap[e]),c.Db(1),c.Rc("",e," ")}}function W(e,t){if(1&e&&(c.Tb(0),c.Nc(1,Q,3,3,"button",7),c.hc(2,"async"),c.Sb()),2&e){const e=c.gc(2);let t=null;c.Db(1),c.mc("ngForOf",null==(t=c.ic(2,1,e.bulkActions$))?null:t.items)}}function q(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",11),c.cc("click",(function(){return c.Cc(e),c.gc(2).handleSelectAllClick()})),c.Pc(1," Select All "),c.Ub()}}function G(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",12),c.cc("click",(function(){return c.Cc(e),c.gc(2).handleClearSelectionClick()})),c.Pc(1," Clear Selection "),c.Ub()}}function J(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",1),c.Vb(1,"div",2),c.Pc(2),c.Ub(),c.Vb(3,"div"),c.Nc(4,W,3,3,"ng-container",3),c.Nc(5,q,2,0,"button",4),c.Nc(6,G,2,0,"button",5),c.Vb(7,"button",6),c.cc("click",(function(){return c.Cc(e),c.gc().handleCancelClick()})),c.Pc(8," Cancel Select "),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(2),c.Rc("",e.checkedResults.length," Selected"),c.Db(2),c.mc("ngIf",e.checkedResults.length),c.Db(1),c.mc("ngIf",e.checkedResults.length!==e.results.total),c.Db(1),c.mc("ngIf",e.checkedResults.length)}}const X={[$.a.ExportCSV]:"file-csv",[$.a.AddToTeamLibrary]:"plus",[$.a.Delete]:"minus"};let H=(()=>{class e{constructor(e,t){this.store=e,this.changeDetectorRef=t,this.bulkActionsIconMap=X,this.bulkActionsDataTestMap=$.b,this.bulkAction=new c.p}ngOnInit(){Object(F.b)([this.results$,this.checkedResults$]).pipe(Object(f.a)(([e,t])=>!Object(O.isNil)(e)&&!Object(O.isNil)(t))).subscribe(([e,t])=>{this.results=e,this.checkedResults=t,this.changeDetectorRef.markForCheck()})}handleSelectAllClick(){this.store.dispatch(new h.a.CheckAll)}handleClearSelectionClick(){this.store.dispatch(new h.a.UncheckAll)}handleActionClick(e){this.bulkAction.emit({name:e,ids:this.store.selectSnapshot(a.a.getCheckedResults)})}handleCancelClick(){this.store.dispatch(new h.a.UncheckAll),this.store.dispatch(new h.a.SetBulkActions({active:!1}))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h),c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-bulk-actions"]],outputs:{bulkAction:"bulkAction"},decls:1,vars:1,consts:[["class","gallery-bulk-actions flex flex-row flex-wrap items-center justify-end",4,"ngIf"],[1,"gallery-bulk-actions","flex","flex-row","flex-wrap","items-center","justify-end"],[1,"gallery-bulk-actions__label","flex-auto"],[4,"ngIf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","class","mr-2 ml-1","data-test","selectAllButton","aria-label","Select All Models",3,"click",4,"ngIf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","class","mr-2 ml-1","data-test","clearSelectionButton",3,"click",4,"ngIf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","flat","data-test","cancelSelectButton",1,"ml-1",3,"click"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","class","mr-2 ml-1",3,"click",4,"ngFor","ngForOf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline",1,"mr-2","ml-1",3,"click"],["class","mr-2",3,"icon",4,"ngIf"],[1,"mr-2",3,"icon"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","data-test","selectAllButton","aria-label","Select All Models",1,"mr-2","ml-1",3,"click"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","data-test","clearSelectionButton",1,"mr-2","ml-1",3,"click"]],template:function(e,t){1&e&&c.Nc(0,J,9,4,"div",0),2&e&&c.mc("ngIf",t.results&&t.checkedResults)},directives:[U.p,A.a,U.o,N.a],pipes:[U.b],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-bulk-actions__label[_ngcontent-%COMP%]{color:#374a68;font-size:13px;letter-spacing:.325px;line-height:1.4em}"],changeDetection:0}),L([Object(i.e)(a.a.getBulkActions),E("design:type",r.a)],e.prototype,"bulkActions$",void 0),L([Object(i.e)(a.a.getFilteredResults),E("design:type",r.a)],e.prototype,"results$",void 0),L([Object(i.e)(a.a.getCheckedResults),E("design:type",r.a)],e.prototype,"checkedResults$",void 0),e})();var Z=n("BbIy"),K=n("PmOP"),Y=n("STbY"),ee=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},te=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ne(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",6),c.cc("click",(function(){return c.Cc(e),c.gc().handleSelectionModeClick()})),c.Pc(1," Select "),c.Ub()}}function ce(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",7),c.cc("click",(function(){c.Cc(e);const t=c.gc();return t.handleViewModeClick(t.galleryViewMode.Card)})),c.Pc(1," View as Grid "),c.Ub()}}function ie(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",8),c.cc("click",(function(){c.Cc(e);const t=c.gc();return t.handleViewModeClick(t.galleryViewMode.List)})),c.Pc(1," View as List "),c.Ub()}}let oe=(()=>{class e{constructor(e){this.store=e,this.galleryViewMode=o.a}ngOnInit(){}handleSelectionModeClick(){this.store.dispatch(new h.a.SetBulkActions({active:!0}))}handleViewModeClick(e){this.store.dispatch(new h.a.SetViewMode(e))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-view-mode"]],decls:11,vars:10,consts:[["app-button","","appEventFence","","buttonTheme","light","data-test","galleryModeMenuButton",3,"matMenuTriggerFor"],["icon","ellipsis-v"],["actionsMenu","matMenu"],["mat-menu-item","","data-test","gallerySelectMode",3,"click",4,"ngIf"],["mat-menu-item","","data-test","galleryViewModeCard",3,"click",4,"ngIf"],["mat-menu-item","","data-test","galleryViewModeList",3,"click",4,"ngIf"],["mat-menu-item","","data-test","gallerySelectMode",3,"click"],["mat-menu-item","","data-test","galleryViewModeCard",3,"click"],["mat-menu-item","","data-test","galleryViewModeList",3,"click"]],template:function(e,t){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"button",0),c.Qb(2,"app-icon",1),c.Ub(),c.Vb(3,"mat-menu",null,2),c.Nc(5,ne,2,0,"button",3),c.hc(6,"async"),c.Nc(7,ce,2,0,"button",4),c.hc(8,"async"),c.Nc(9,ie,2,0,"button",5),c.hc(10,"async"),c.Ub(),c.Ub()),2&e){const e=c.yc(4);c.Db(1),c.mc("matMenuTriggerFor",e),c.Db(4),c.mc("ngIf",c.ic(6,4,t.bulkActionsAvailable$)),c.Db(2),c.mc("ngIf",c.ic(8,6,t.viewMode$)!==t.galleryViewMode.Card),c.Db(2),c.mc("ngIf",c.ic(10,8,t.viewMode$)!==t.galleryViewMode.List)}},directives:[A.a,K.a,Y.d,N.a,Y.a,U.p,Y.b],pipes:[U.b],styles:[""],changeDetection:0}),ee([Object(i.e)(a.a.getViewMode),te("design:type",r.a)],e.prototype,"viewMode$",void 0),ee([Object(i.e)(a.a.getBulkActionsAvailable),te("design:type",r.a)],e.prototype,"bulkActionsAvailable$",void 0),e})();var ae=n("mWjH"),le=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function se(e,t){if(1&e){const e=c.Wb();c.Vb(0,"span",10),c.Vb(1,"button",11),c.cc("click",(function(){return c.Cc(e),c.gc().handleToggleFilters()})),c.Pc(2," Filter "),c.Qb(3,"app-icon",12),c.hc(4,"async"),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(1),c.Eb("aria-label","Toggle Filters"),c.Db(2),c.mc("icon",c.ic(4,2,e.showFilters$)?"caret-up":"caret-down")}}const re=function(e,t){return{"gallery-search--has-filters":e,"gallery-search--has-text":t}};let pe=(()=>{class e extends ae.b{constructor(){super(...arguments),this.mode="desktop",this.placeholder="",this.hasFilters=!0,this.clearClicked=new c.p,this.filtersClicked=new c.p}ngOnInit(){}handleClearQuery(){this.clearClicked.emit()}handleToggleFilters(){this.filtersClicked.emit()}}return e.\u0275fac=function(t){return ge(t||e)},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-search-field"]],inputs:{mode:"mode",placeholder:"placeholder",hasFilters:"hasFilters"},outputs:{clearClicked:"clearClicked",filtersClicked:"filtersClicked"},features:[c.Cb([{provide:V.p,useExisting:Object(c.W)(()=>e),multi:!0}]),c.Ab],decls:13,vars:16,consts:[[1,"gallery-search",3,"ngClass"],[1,"visually-hidden"],[1,"gallery-search__bar"],[1,"gallery-search__icon"],["icon","search"],["type","text","autocomplete","off",1,"gallery-search__input",3,"formControl"],[1,"gallery-search__clear"],["type","button","buttonType","text","buttonShape","square","app-button","","buttonTheme","light",3,"click"],["icon","times-circle"],["class","gallery-search__filters",4,"ngIf"],[1,"gallery-search__filters"],["type","button","buttonType","text","app-button","","buttonTheme","light","data-test","galleryFiltersToggle",3,"click"],[1,"pl-1",3,"icon"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.hc(1,"async"),c.Vb(2,"label",1),c.Pc(3),c.Ub(),c.Vb(4,"div",2),c.Vb(5,"span",3),c.Qb(6,"app-icon",4),c.Ub(),c.Qb(7,"input",5),c.hc(8,"titlecase"),c.Vb(9,"span",6),c.Vb(10,"button",7),c.cc("click",(function(){return t.handleClearQuery()})),c.Qb(11,"app-icon",8),c.Ub(),c.Ub(),c.Ub(),c.Nc(12,se,5,4,"span",9),c.Ub()),2&e&&(c.mc("ngClass",c.qc(13,re,t.hasFilters,c.ic(1,9,t.control.valueChanges))),c.Db(2),c.Eb("for","gallery-search-"+t.mode),c.Db(1),c.Qc(t.placeholder||""),c.Db(4),c.mc("formControl",t.control),c.Eb("id","gallery-search-"+t.mode)("placeholder",t.placeholder||"")("data-test","gallerySearch"+c.ic(8,11,t.mode)),c.Db(3),c.Eb("aria-label","Clear Search Results"),c.Db(2),c.mc("ngIf",t.hasFilters))},directives:[U.m,N.a,V.c,V.r,V.h,A.a,U.p],pipes:[U.b,U.x],styles:[".input[_ngcontent-%COMP%], [type=email].input[_ngcontent-%COMP%], [type=file].input[_ngcontent-%COMP%], [type=number].input[_ngcontent-%COMP%], [type=password].input[_ngcontent-%COMP%], [type=text].input[_ngcontent-%COMP%], [type=url].input[_ngcontent-%COMP%], select.input[_ngcontent-%COMP%], textarea.input[_ngcontent-%COMP%]{border:1px solid #1b283c;border-radius:4px;background-color:#101823;color:#fff;display:block;min-height:36px;width:100%;font-size:12px;padding:8px 12px;font-family:Inter UI,sans-serif}@supports (font-variation-settings:normal){.input[_ngcontent-%COMP%], [type=email].input[_ngcontent-%COMP%], [type=file].input[_ngcontent-%COMP%], [type=number].input[_ngcontent-%COMP%], [type=password].input[_ngcontent-%COMP%], [type=text].input[_ngcontent-%COMP%], [type=url].input[_ngcontent-%COMP%], select.input[_ngcontent-%COMP%], textarea.input[_ngcontent-%COMP%]{font-family:Inter UI var alt,sans-serif}}.input[_ngcontent-%COMP%]:focus, [type=email].input[_ngcontent-%COMP%]:focus, [type=file].input[_ngcontent-%COMP%]:focus, [type=number].input[_ngcontent-%COMP%]:focus, [type=password].input[_ngcontent-%COMP%]:focus, [type=text].input[_ngcontent-%COMP%]:focus, [type=url].input[_ngcontent-%COMP%]:focus, select.input[_ngcontent-%COMP%]:focus, textarea.input[_ngcontent-%COMP%]:focus{outline:2px solid #2d72dc!important}.input[_ngcontent-%COMP%]:focus.ng-invalid, [type=email].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=file].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=number].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=password].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=text].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=url].input[_ngcontent-%COMP%]:focus.ng-invalid, select.input[_ngcontent-%COMP%]:focus.ng-invalid, textarea.input[_ngcontent-%COMP%]:focus.ng-invalid{outline-color:#ed4758!important;outline-width:1px!important}.input--small[_ngcontent-%COMP%], [type=email].input--small[_ngcontent-%COMP%], [type=file].input--small[_ngcontent-%COMP%], [type=number].input--small[_ngcontent-%COMP%], [type=password].input--small[_ngcontent-%COMP%], [type=text].input--small[_ngcontent-%COMP%], [type=url].input--small[_ngcontent-%COMP%], select.input--small[_ngcontent-%COMP%], textarea.input--small[_ngcontent-%COMP%]{font-size:12px;padding:8px;min-height:auto}.input--large[_ngcontent-%COMP%], [type=email].input--large[_ngcontent-%COMP%], [type=file].input--large[_ngcontent-%COMP%], [type=number].input--large[_ngcontent-%COMP%], [type=password].input--large[_ngcontent-%COMP%], [type=text].input--large[_ngcontent-%COMP%], [type=url].input--large[_ngcontent-%COMP%], select.input--large[_ngcontent-%COMP%], textarea.input--large[_ngcontent-%COMP%]{font-size:16px;padding:12px}.input--success[_ngcontent-%COMP%], [type=email].input--success[_ngcontent-%COMP%], [type=file].input--success[_ngcontent-%COMP%], [type=number].input--success[_ngcontent-%COMP%], [type=password].input--success[_ngcontent-%COMP%], [type=text].input--success[_ngcontent-%COMP%], [type=url].input--success[_ngcontent-%COMP%], select.input--success[_ngcontent-%COMP%], textarea.input--success[_ngcontent-%COMP%]{border-color:#38de38!important}.input[_ngcontent-%COMP%]:disabled, [type=email].input[_ngcontent-%COMP%]:disabled, [type=file].input[_ngcontent-%COMP%]:disabled, [type=number].input[_ngcontent-%COMP%]:disabled, [type=password].input[_ngcontent-%COMP%]:disabled, [type=text].input[_ngcontent-%COMP%]:disabled, [type=url].input[_ngcontent-%COMP%]:disabled, select.input[_ngcontent-%COMP%]:disabled, textarea.input[_ngcontent-%COMP%]:disabled{opacity:.4}.input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=email].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=file].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=number].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=password].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=text].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=url].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], select.input.ng-dirty.ng-invalid[_ngcontent-%COMP%], textarea.input.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ed4758}textarea.input--nonresizable[_ngcontent-%COMP%]{resize:none}select.input[_ngcontent-%COMP%]{height:36px}.theme-dark[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%], input.theme-dark[_ngcontent-%COMP%], select.theme-dark[_ngcontent-%COMP%], textarea.theme-dark[_ngcontent-%COMP%]{background-color:#101823;border:1px solid #374a68;color:#fff}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%], input.theme-light[_ngcontent-%COMP%], select.theme-light[_ngcontent-%COMP%], textarea.theme-light[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #96a8c0;color:#283853}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]:focus, input.theme-light[_ngcontent-%COMP%]:focus, select.theme-light[_ngcontent-%COMP%]:focus, textarea.theme-light[_ngcontent-%COMP%]:focus{background-color:#fff}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]::-moz-placeholder, input.theme-light[_ngcontent-%COMP%]::-moz-placeholder, select.theme-light[_ngcontent-%COMP%]::-moz-placeholder, textarea.theme-light[_ngcontent-%COMP%]::-moz-placeholder{color:rgba(55,74,104,.5)}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]:-ms-input-placeholder, input.theme-light[_ngcontent-%COMP%]:-ms-input-placeholder, select.theme-light[_ngcontent-%COMP%]:-ms-input-placeholder, textarea.theme-light[_ngcontent-%COMP%]:-ms-input-placeholder{color:rgba(55,74,104,.5)}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]::placeholder, input.theme-light[_ngcontent-%COMP%]::placeholder, select.theme-light[_ngcontent-%COMP%]::placeholder, textarea.theme-light[_ngcontent-%COMP%]::placeholder{color:rgba(55,74,104,.5)}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.gallery-search__input[_ngcontent-%COMP%]{font-size:16px}}}.gallery-search[_ngcontent-%COMP%]{position:relative;height:44px;width:100%;display:flex}.gallery-search--has-filters[_ngcontent-%COMP%]   .gallery-search__filters[_ngcontent-%COMP%]{display:flex}.gallery-search--has-filters[_ngcontent-%COMP%]   .gallery-search__bar[_ngcontent-%COMP%]{margin-right:-1px;border-radius:4px 0 0 4px}.gallery-search--has-text[_ngcontent-%COMP%]   .gallery-search__clear[_ngcontent-%COMP%]{visibility:visible}.gallery-search__bar[_ngcontent-%COMP%]{flex:1 1 100%;height:100%;display:flex;border-radius:4px;background-color:#fff;border:1px solid #96a8c0;padding:0 2px}.gallery-search__bar[_ngcontent-%COMP%]:focus-within{outline:2px solid #2d72dc!important}.gallery-search__filters[_ngcontent-%COMP%]{border:1px solid #96a8c0;border-radius:0 4px 4px 0;display:none;align-items:center;height:100%;flex:0 0 auto;white-space:nowrap;padding:0 4px}.gallery-search__input[_ngcontent-%COMP%]{border:0;padding:0;margin:0;display:block;height:100%;flex:1 1 auto;width:100%}.gallery-search__input[_ngcontent-%COMP%]:focus{outline:0}.gallery-search__icon[_ngcontent-%COMP%]{color:#61779e;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gallery-search__clear[_ngcontent-%COMP%], .gallery-search__icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:0 0 36px;height:100%}.gallery-search__clear[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(i.e)(a.a.getShowFilters),le("design:type",r.a)],e.prototype,"showFilters$",void 0),e})();const ge=c.Xb(pe);var he=n("FO49"),ue=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},de=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function be(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",7),c.Vb(1,"app-gallery-bulk-actions",8),c.cc("bulkAction",(function(t){return c.Cc(e),c.gc(2).handleBulkAction(t)})),c.Ub(),c.Ub()}}function fe(e,t){if(1&e){const e=c.Wb();c.Vb(0,"app-gallery-search-field",15),c.cc("clearClicked",(function(){return c.Cc(e),c.gc(3).handleClearQuery()}))("filtersClicked",(function(){return c.Cc(e),c.gc(3).handleToggleFilters()})),c.hc(1,"async"),c.Ub()}if(2&e){const e=c.gc(3);c.mc("hasFilters",e.hasFilters)("placeholder","Search "+c.ic(1,2,e.searchTitle$))}}function me(e,t){if(1&e){const e=c.Wb();c.Tb(0),c.Vb(1,"app-locales",16),c.cc("localeChange",(function(){return c.Cc(e),c.gc(3).handleLocaleChange()})),c.Ub(),c.Sb()}2&e&&(c.Db(1),c.mc("showFlag",!0))}function ye(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",9),c.Vb(1,"form",10),c.Nc(2,fe,2,4,"app-gallery-search-field",11),c.hc(3,"async"),c.Ub(),c.Ub(),c.Vb(4,"div",12),c.Nc(5,me,2,1,"ng-container",13),c.Vb(6,"app-sort",14),c.cc("sortChange",(function(t){return c.Cc(e),c.gc(2).handleSortClick(t)})),c.hc(7,"async"),c.hc(8,"async"),c.Ub(),c.Qb(9,"app-gallery-view-mode"),c.Ub()}if(2&e){const e=c.gc(2);c.Db(1),c.mc("formGroup",e.form),c.Db(1),c.mc("ngIf",c.ic(3,6,e.searchTitle$)),c.Db(3),c.mc("ngIf",e.isExplore()),c.Db(1),c.mc("sortLabel","Sort Models")("sortOptions",c.ic(7,8,e.sortOptions$))("sort",c.ic(8,10,e.sort$))}}function Ce(e,t){if(1&e&&(c.Vb(0,"div",2),c.Vb(1,"div",3),c.Qb(2,"app-gallery-title"),c.Ub(),c.Vb(3,"div",4),c.Nc(4,be,2,0,"div",5),c.hc(5,"async"),c.hc(6,"async"),c.Nc(7,ye,10,12,"ng-template",null,6,c.Oc),c.Ub(),c.Ub()),2&e){const e=c.yc(8),t=c.gc();c.Db(4),c.mc("ngIf",c.ic(5,2,t.bulkActionsActive$)&&c.ic(6,4,t.bulkActionsAvailable$))("ngIfElse",e)}}function xe(e,t){if(1&e){const e=c.Wb();c.Vb(0,"app-gallery-search-field",22),c.cc("clearClicked",(function(){return c.Cc(e),c.gc(2).handleClearQuery()}))("filtersClicked",(function(){return c.Cc(e),c.gc(2).handleToggleFilters()})),c.hc(1,"async"),c.Ub()}if(2&e){const e=c.gc(2);c.mc("hasFilters",e.hasFilters)("placeholder","Search "+c.ic(1,2,e.searchTitle$))}}function Oe(e,t){if(1&e&&(c.Tb(0),c.Pc(1),c.hc(2,"async"),c.Sb()),2&e){const e=c.gc(2);let t=null;c.Db(1),c.Rc("",null==(t=c.ic(2,1,e.results$))?null:t.total," results")}}function _e(e,t){if(1&e){const e=c.Wb();c.Tb(0),c.Vb(1,"app-locales",16),c.cc("localeChange",(function(){return c.Cc(e),c.gc(2).handleLocaleChange()})),c.Ub(),c.Sb()}2&e&&(c.Db(1),c.mc("showFlag",!0))}function Me(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",17),c.Vb(1,"div",18),c.Vb(2,"div",9),c.Vb(3,"form",10),c.Nc(4,xe,2,4,"app-gallery-search-field",19),c.hc(5,"async"),c.Ub(),c.Ub(),c.Ub(),c.Vb(6,"div",20),c.Vb(7,"div",21),c.Nc(8,Oe,3,3,"ng-container",13),c.hc(9,"async"),c.Ub(),c.Vb(10,"div",12),c.Nc(11,_e,2,1,"ng-container",13),c.Vb(12,"app-sort",14),c.cc("sortChange",(function(t){return c.Cc(e),c.gc().handleSortClick(t)})),c.hc(13,"async"),c.hc(14,"async"),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.Db(3),c.mc("formGroup",e.form),c.Db(1),c.mc("ngIf",c.ic(5,7,e.searchTitle$)),c.Db(4),c.mc("ngIf",!c.ic(9,9,e.loading$)),c.Db(3),c.mc("ngIf",e.isExplore()),c.Db(1),c.mc("sortLabel","Sort Models")("sortOptions",c.ic(13,11,e.sortOptions$))("sort",c.ic(14,13,e.sort$))}}let Pe=(()=>{class e{constructor(e,t,n,i){this.store=e,this.router=t,this.changeDetectorRef=n,this.formBuilder=i,this.bulkAction=new c.p,this.sortChange=new c.p,this.searchTitle$=Object(T.a)(this.store),this.galleryViewMode=o.a,this.breakpoint=z.a,this.ngUnsubscribe=new l.a,this.hasFilters=!1,this.form=this.formBuilder.group({query:[""]})}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.observeSearchInput(),this.observeSearchQuery(),this.observeSearchConfig()}observeSearchInput(){this.form.valueChanges.pipe(Object(y.a)(600),Object(C.a)(e=>e.query),Object(m.a)(),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{const t=Object.assign({},this.store.selectSnapshot(a.a.getSearchConfig));t.query=e,this.store.dispatch(new h.a.SetSearchConfig(t))})}observeSearchQuery(){this.searchConfig$.pipe(Object(f.a)(e=>!Object(O.isNil)(e)&&e.query!==this.form.value.query),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.form.patchValue({query:e.query}),this.changeDetectorRef.markForCheck()})}observeSearchConfig(){this.searchConfig$.pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.hasFilters=(null==e?void 0:e.type)===P.a.Category||!0===u.a.native,this.changeDetectorRef.markForCheck()})}handleSortClick(e){this.sortChange.next(e)}handleToggleFilters(){const e=!this.store.selectSnapshot(a.a.getShowFilters),t=this.store.selectSnapshot(D.a.getBreakpoint)<=z.a.Small;this.store.dispatch(new h.a.ShowFilters(e,t))}handleBulkAction(e){this.bulkAction.next(e),this.store.dispatch(new h.a.UncheckAll)}handleClearQuery(){const e=this.store.selectSnapshot(a.a.getSearchConfig);this.store.dispatch(new h.a.SetSearchConfig(Object.assign(Object.assign({},e),{query:""})))}toggleView(e){this.store.dispatch(new h.a.SetViewMode(e))}handleLocaleChange(){this.forceRouteReload(this.router.url)}isExplore(){return this.router.url.startsWith("/results/modules")}forceRouteReload(e){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigateByUrl(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h),c.Pb(R.e),c.Pb(c.i),c.Pb(V.f))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-header"]],outputs:{bulkAction:"bulkAction",sortChange:"sortChange"},decls:4,vars:6,consts:[["class","gallery-header gallery-header--desktop","data-test","galleryHeaderDesktop",4,"ngIf"],["class","gallery-header gallery-header--mobile","data-test","galleryHeaderMobile",4,"ngIf"],["data-test","galleryHeaderDesktop",1,"gallery-header","gallery-header--desktop"],[1,"gallery-header__title"],[1,"gallery-header__controls"],["class","w-100",4,"ngIf","ngIfElse"],["standardActions",""],[1,"w-100"],[3,"bulkAction"],[1,"gallery-header__search"],[3,"formGroup"],["mode","desktop","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked",4,"ngIf"],[1,"flex","items-center"],[4,"ngIf"],[3,"sortLabel","sortOptions","sort","sortChange"],["mode","desktop","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked"],["buttonTheme","light","buttonType","default","localeFormat","lang",3,"showFlag","localeChange"],["data-test","galleryHeaderMobile",1,"gallery-header","gallery-header--mobile"],[1,"flex","ph-5","pt-5","pb-3"],["mode","mobile","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked",4,"ngIf"],[1,"flex","ph-5","justify-between","items-center"],["role","status",1,"text-13","text-nowrap","text-medium","flex","items-center"],["mode","mobile","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked"]],template:function(e,t){1&e&&(c.Nc(0,Ce,9,6,"div",0),c.hc(1,"async"),c.Nc(2,Me,15,15,"div",1),c.hc(3,"async")),2&e&&(c.mc("ngIf",c.ic(1,2,t.breakpoint$)>=t.breakpoint.Large),c.Db(2),c.mc("ngIf",c.ic(3,4,t.breakpoint$)<=t.breakpoint.Medium))},directives:[U.p,I.a,H,V.E,V.s,V.j,Z.a,oe,pe,V.r,V.i,he.a],pipes:[U.b],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-header[_ngcontent-%COMP%]{padding:12px 40px 0}.gallery-header--desktop[_ngcontent-%COMP%]{display:block}.gallery-header--mobile[_ngcontent-%COMP%]{display:none}.gallery-header__title[_ngcontent-%COMP%]{min-height:64px;display:flex;align-items:center}.gallery-header__controls[_ngcontent-%COMP%]{min-height:48px;display:flex;justify-content:space-between;align-items:center}.gallery-header__search[_ngcontent-%COMP%]{flex:0 1 400px;padding-right:8px}@media (max-width:959px){.gallery-header[_ngcontent-%COMP%]{padding:0}.gallery-header--desktop[_ngcontent-%COMP%]{display:none}.gallery-header--mobile[_ngcontent-%COMP%]{display:block}.gallery-header__title[_ngcontent-%COMP%]{display:flex;padding:12px 0}.gallery-header__search[_ngcontent-%COMP%]{flex:1 0 auto;padding:0 4px 0 0;max-width:100%}}"],changeDetection:0}),ue([Object(i.e)(a.a.getViewMode),de("design:type",r.a)],e.prototype,"viewMode$",void 0),ue([Object(i.e)(a.a.getSort),de("design:type",r.a)],e.prototype,"sort$",void 0),ue([Object(i.e)(a.a.getSortOptions),de("design:type",r.a)],e.prototype,"sortOptions$",void 0),ue([Object(i.e)(a.a.getSearchConfig),de("design:type",r.a)],e.prototype,"searchConfig$",void 0),ue([Object(i.e)(a.a.getSearchType),de("design:type",r.a)],e.prototype,"searchType$",void 0),ue([Object(i.e)(a.a.getFilteredResults),de("design:type",r.a)],e.prototype,"results$",void 0),ue([Object(i.e)(a.a.getBulkActions),de("design:type",r.a)],e.prototype,"bulkActions$",void 0),ue([Object(i.e)(a.a.getBulkActionsAvailable),de("design:type",r.a)],e.prototype,"bulkActionsAvailable$",void 0),ue([Object(i.e)(a.a.getLoading),de("design:type",r.a)],e.prototype,"loading$",void 0),ue([Object(i.e)(a.a.getShowFilters),de("design:type",r.a)],e.prototype,"showFilters$",void 0),ue([Object(i.e)(a.a.getBulkActionsActive),de("design:type",r.a)],e.prototype,"bulkActionsActive$",void 0),ue([Object(i.e)(D.a.getBreakpoint),de("design:type",r.a)],e.prototype,"breakpoint$",void 0),e})();var ve=n("Z48A"),ke=n("2Vo4"),we=n("vkgz"),Se=n("SZqb"),je=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ue=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Te(e,t){if(1&e){const e=c.Wb();c.Vb(0,"li",3),c.Vb(1,"app-gallery-card",4),c.cc("selectBookmark",(function(t){return c.Cc(e),c.gc().handleSelect(t)}))("checkChange",(function(n){c.Cc(e);const i=t.$implicit;return c.gc().handleCheckedChange(i,n)})),c.hc(2,"async"),c.hc(3,"async"),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit,n=c.gc();c.Db(1),c.mc("actionMode",n.actionMode)("actionsEnabled",n.actionsEnabled)("selectLabel",n.selectLabel)("bookmark",e)("viewMode",c.ic(2,9,n.viewMode$))("responsive",c.ic(3,11,n.breakpoint$)<=n.Breakpoint.Medium)("checkable",n.checkable)("checked",!0===n.checkedResultsMap[e.id]),c.Eb("data-id",e.id)}}const De=function(e){return{"gallery-cards--list":e}};let ze=(()=>{class e{constructor(e){this.changeRef=e,this.galleryViewMode=o.a,this.Breakpoint=z.a,this.selectLabel="Select",this.checkable=!1,this._checkedResults=[],this.selectBookmark=new c.p,this.checkChanged=new c.p,this.actionMode=k.a.Explore,this.actionsEnabled=!0,this.checkedResultsMap={}}get results(){return this._results}set results(e){this._results=e,this.checkedResultsMap=this.getCheckedResultsMap(e.items,this.checkedResults),this.changeRef.markForCheck()}get checkedResults(){return this._checkedResults}set checkedResults(e){this._checkedResults=e,this.checkedResultsMap=this.getCheckedResultsMap(this.results.items,e),this.changeRef.markForCheck()}ngOnInit(){}handleSelect(e){this.selectBookmark.emit(e)}handleCheckedChange(e,t){this.checkChanged.emit({id:e.id,checked:t})}trackCard(e,t){return t.id}getCheckedResultsMap(e,t){return e.reduce((e,n)=>(e[n.id]=t.includes(n.id),e),{})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-cards"]],inputs:{selectLabel:"selectLabel",checkable:"checkable",results:"results",checkedResults:"checkedResults",actionMode:"actionMode",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark",checkChanged:"checkChanged"},decls:4,vars:7,consts:[["data-test","galleryCards",1,"gallery-cards",3,"ngClass"],[1,"gallery-cards__content"],["class","gallery-cards__item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"gallery-cards__item"],[3,"actionMode","actionsEnabled","selectLabel","bookmark","viewMode","responsive","checkable","checked","selectBookmark","checkChange"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.hc(1,"async"),c.Vb(2,"ul",1),c.Nc(3,Te,4,13,"li",2),c.Ub(),c.Ub()),2&e&&(c.mc("ngClass",c.pc(5,De,c.ic(1,3,t.viewMode$)===t.galleryViewMode.List)),c.Db(3),c.mc("ngForOf",t.results.items)("ngForTrackBy",t.trackCard))},directives:[U.m,U.o,Se.a],pipes:[U.b],styles:[":host{height:100%}.gallery-cards,:host{display:block;width:100%}.gallery-cards--list .gallery-cards__content{grid-template-columns:100%;grid-gap:4px 0}.gallery-cards__loading{display:flex;justify-content:center;margin-top:20vh}.gallery-cards__content{display:block;padding:1px;height:100%;display:grid;grid-gap:24px 24px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-auto-rows:1fr;grid-auto-flow:row;justify-content:center}@media (max-width:959px){.gallery-cards__content{grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}}"],encapsulation:2,changeDetection:0}),je([Object(i.e)(a.a.getViewMode),Ue("design:type",r.a)],e.prototype,"viewMode$",void 0),je([Object(i.e)(D.a.getBreakpoint),Ue("design:type",r.a)],e.prototype,"breakpoint$",void 0),e})();var Re=n("XoCC"),Ve=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ie=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const Fe=["body"];function $e(e,t){if(1&e){const e=c.Wb();c.Vb(0,"app-gallery-cards",6),c.cc("selectBookmark",(function(t){return c.Cc(e),c.gc().handleSelect(t)}))("checkChanged",(function(t){return c.Cc(e),c.gc().handleCheckedChange(t)})),c.Ub()}if(2&e){const e=c.gc();c.mc("actionMode",e.actionMode)("actionsEnabled",e.actionsEnabled)("results",e.results)("selectLabel",e.selectLabel)("checkedResults",e.checkedResults)("checkable",e.checkable)}}function Ae(e,t){1&e&&(c.Vb(0,"div",7),c.Qb(1,"app-spinner",8),c.Ub())}const Ne=function(){return["/results/modules"]};function Le(e,t){1&e&&(c.Vb(0,"div",13),c.Vb(1,"div",14),c.Vb(2,"div",15),c.Pc(3,"Add your first 3D model"),c.Ub(),c.Pc(4," This is your library of saved anatomy models in the BioDigital Human. Customize, manage, and publish your models at any time. "),c.Ub(),c.Vb(5,"button",16),c.Pc(6," Start Exploring "),c.Ub(),c.Ub()),2&e&&(c.Db(5),c.mc("routerLink",c.oc(1,Ne)))}function Ee(e,t){1&e&&(c.Tb(0),c.Vb(1,"div",17),c.Qb(2,"app-icon",18),c.Ub(),c.Vb(3,"p",19),c.Pc(4,"No results found"),c.Ub(),c.Vb(5,"p",20),c.Pc(6,"Can't find what you're looking for?"),c.Ub(),c.Vb(7,"button",21),c.Pc(8," Submit A Request "),c.Ub(),c.Sb()),2&e&&(c.Db(7),c.mc("uppercase",!0))}function Be(e,t){if(1&e&&(c.Vb(0,"div",9),c.Tb(1,10),c.Nc(2,Le,7,2,"div",11),c.Nc(3,Ee,9,1,"ng-container",12),c.Sb(),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngSwitch",e.emptyMessage),c.Db(1),c.mc("ngSwitchCase","team"),c.Db(1),c.mc("ngSwitchCase","default")}}let Qe=(()=>{class e{constructor(e,t){this.changeDetectorRef=e,this.store=t,this.galleryViewMode=o.a,this.loading=!1,this.viewMode=o.a.Card,this.selectLabel="Select",this._results=new ke.a({total:0,items:[]}),this.checkable=!1,this.checkedResults=[],this.actionMode=k.a.Explore,this.actionsEnabled=!0,this.selectBookmark=new c.p,this.emptyMessage="default",this.ngUnsubscribe=new l.a}get results(){return this._results.value}set results(e){this._results.next(e),this.changeDetectorRef.markForCheck()}ngOnInit(){Object(F.b)([this.store.select(a.a.getSearchConfig),this._results]).pipe(Object(m.a)((e,t)=>Object(O.isEqual)(e,t)),Object(we.a)(()=>{this.emptyMessage="none",this.changeDetectorRef.markForCheck()}),Object(y.a)(100),Object(b.a)(this.ngUnsubscribe),Object(f.a)(([e,t])=>!Object(O.isNil)(e)&&0===t.total)).subscribe(([e,t])=>{this.updateEmptyMessage(e,t),this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSelect(e){this.selectBookmark.emit(e)}handleCheckedChange(e){this.store.dispatch(new h.a.CheckItem(e.id,e.checked))}handleSort(e){const t=this.store.selectSnapshot(a.a.getSearchOptions);t.sortBy=e,this.store.dispatch(new h.a.SetSearchOptions(t)),0===t.sortBy.fields.length&&this.store.dispatch(new h.a.SearchStudio)}updateEmptyMessage(e,t){this.emptyMessage="default",""!==e.query||e.type!==P.a.Collection&&e.type!==P.a.Organization&&e.type!==P.a.Private||0!==t.total||(this.emptyMessage="team")}scrollToTop(){this.body.nativeElement.scrollTo({top:0})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(c.i),c.Pb(i.h))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-results"]],viewQuery:function(e,t){if(1&e&&c.Jc(Fe,!0),2&e){let e;c.xc(e=c.dc())&&(t.body=e.first)}},inputs:{loading:"loading",viewMode:"viewMode",selectLabel:"selectLabel",results:"results",checkable:"checkable",checkedResults:"checkedResults",actionMode:"actionMode",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark"},decls:6,vars:3,consts:[["data-test","galleryResults",1,"gallery-results"],[1,"gallery-results__body"],["body",""],[3,"actionMode","actionsEnabled","results","selectLabel","checkedResults","checkable","selectBookmark","checkChanged",4,"ngIf"],["class","gallery-results__loading",4,"ngIf"],["class","gallery-results__empty",4,"ngIf"],[3,"actionMode","actionsEnabled","results","selectLabel","checkedResults","checkable","selectBookmark","checkChanged"],[1,"gallery-results__loading"],["size","huge","direction","vertical","label","Loading"],[1,"gallery-results__empty"],[3,"ngSwitch"],["class","gallery-results__explore",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"gallery-results__explore"],["role","status",1,"mb-5"],[1,"text-16","mb-2"],["app-button","","buttonSize","large","buttonType","primary",3,"routerLink"],[1,"gallery-results__magnifying-glass","mb-8"],["icon","search"],["role","status",1,"gallery-results__no-results-title","mb-3"],[1,"gallery-results__no-results-copy","mb-8"],["app-button","","buttonType","primary","data-test","noResultsButton",3,"uppercase"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1,2),c.Nc(3,$e,1,6,"app-gallery-cards",3),c.Nc(4,Ae,2,0,"div",4),c.Nc(5,Be,4,3,"div",5),c.Ub(),c.Ub()),2&e&&(c.Db(3),c.mc("ngIf",t.viewMode===t.galleryViewMode.Card&&!t.loading&&t.results),c.Db(1),c.mc("ngIf",t.loading),c.Db(1),c.mc("ngIf",!t.loading&&t.results&&0===t.results.total))},directives:[U.p,ze,Re.a,U.r,U.s,A.a,R.f,N.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:64px;position:relative}.gallery-results__loading[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.gallery-results__body[_ngcontent-%COMP%]{padding:12px 0 120px;flex:1 1 100%}.gallery-results__empty[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;color:#96a8c0;display:flex;flex-direction:column;height:100%;width:100%;min-height:64px;align-items:center;justify-content:center;text-align:center}.gallery-results__explore[_ngcontent-%COMP%]{max-width:530px}.gallery-results__no-results-title[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em;font-weight:600;color:#374a68}.gallery-results__no-results-body[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#374a68}.gallery-results__magnifying-glass[_ngcontent-%COMP%]{height:84px;width:84px;border-radius:50%;font-size:40px;line-height:84px;color:#61779e;background-color:#eaeff5}@media (max-width:959px){.gallery-results__body[_ngcontent-%COMP%]{padding-bottom:48px}.gallery-results__no-results-title[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.gallery-results__no-results-body[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}}"],changeDetection:0}),Ve([Object(i.e)(a.a.getSearchOptions),Ie("design:type",r.a)],e.prototype,"searchOptions$",void 0),Ve([Object(i.e)(a.a.getSortOptions),Ie("design:type",r.a)],e.prototype,"sortOptions$",void 0),Ve([Object(i.e)(a.a.getSort),Ie("design:type",r.a)],e.prototype,"sort$",void 0),e})();var We=n("4r9b"),qe=n("UhED"),Ge=n("7aEW"),Je=n("1w2z"),Xe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function He(e,t){if(1&e){const e=c.Wb();c.Vb(0,"a",1),c.cc("click",(function(){return c.Cc(e),c.gc().handleSelectSource("library")})),c.hc(1,"async"),c.hc(2,"async"),c.hc(3,"async"),c.Pc(4," My Library "),c.Ub()}if(2&e){const e=c.gc();c.mc("selected",c.ic(1,1,e.searchType$)===e.searchType.Private||c.ic(2,3,e.searchType$)===e.searchType.Organization||c.ic(3,5,e.searchType$)===e.searchType.Collection)}}function Ze(e,t){if(1&e){const e=c.Wb();c.Vb(0,"a",1),c.cc("click",(function(){return c.Cc(e),c.gc().handleSelectSource("loft")})),c.hc(1,"async"),c.Pc(2," Loft "),c.Ub()}if(2&e){const e=c.gc();c.mc("selected",c.ic(1,1,e.searchType$)===e.searchType.Loft)}}let Ke=(()=>{class e{constructor(e){this.store=e,this.searchType=P.a,this.environmentApplication=p.a}ngOnInit(){}handleSelectSource(e){let t;switch(e){case"module":t=new g.a("all");break;case"library":t=new g.g("");break;case"loft":t=new g.e("production","maleAdult")}this.store.dispatch(new h.a.SetSearchConfig(t))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-source"]],decls:7,vars:6,consts:[["label","Source",3,"collapsible"],["app-navigation-list-item","",3,"selected","click"],["app-navigation-list-item","",3,"selected","click",4,"appFlagApplication"]],template:function(e,t){1&e&&(c.Vb(0,"app-navigation-panel",0),c.Vb(1,"app-navigation-list-container"),c.Vb(2,"a",1),c.cc("click",(function(){return t.handleSelectSource("module")})),c.hc(3,"async"),c.Pc(4," BioDigital Library "),c.Ub(),c.Nc(5,He,5,7,"a",2),c.Nc(6,Ze,3,3,"a",2),c.Ub(),c.Ub()),2&e&&(c.mc("collapsible",!0),c.Db(2),c.mc("selected",c.ic(3,4,t.searchType$)===t.searchType.Category),c.Db(3),c.mc("appFlagApplication",t.environmentApplication.Studio),c.Db(1),c.mc("appFlagApplication",t.environmentApplication.Loft))},directives:[We.a,qe.a,Ge.a,Je.a],pipes:[U.b],styles:[""],changeDetection:0}),function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(i.e)(a.a.getSearchType),Xe("design:type",r.a)],e.prototype,"searchType$",void 0),e})();var Ye=n("eKhQ"),et=n("IzEk"),tt=n("a0wz"),nt=n("ECVi"),ct=n("0IaG"),it=n("Y8QC"),ot=n("oOZS");function at(e,t){1&e&&(c.Vb(0,"div"),c.Pc(1," A collection already exists with that name. "),c.Ub())}function lt(e,t){1&e&&(c.Vb(0,"div"),c.Pc(1,"Collection name is required."),c.Ub())}function st(e,t){if(1&e&&(c.Vb(0,"div",15),c.Nc(1,at,2,0,"div",16),c.Nc(2,lt,2,0,"div",16),c.Ub()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",null==e.collectionName.errors?null:e.collectionName.errors.duplicate),c.Db(1),c.mc("ngIf",null==e.collectionName.errors?null:e.collectionName.errors.required)}}let rt=(()=>{class e{constructor(e,t,n,c){this.dialogRef=e,this.data=t,this.store=n,this.formBuilder=c}get collectionName(){return this.form.get("collectionName")}ngOnInit(){this.title=this.data.collection?"Edit collection":"New collection",this.confirmText=this.data.collection?"Save changes":"Create collection",this.collectionNames=this.store.selectSnapshot(Ye.a.getCollections).map(e=>e.collection_name);const e=this.data.collection?this.data.collection.collection_name:this.getNewName();this.form=this.formBuilder.group({collectionName:[e,[V.C.required,V.C.maxLength(60),V.C.required,this.duplicateNameValidator.bind(this)]]})}handleCancelClick(){this.dialogRef.close()}handleConfirmClick(){this.submit()}submit(){if(this.collectionName.invalid)return;const e=this.collectionName.value.trim();this.store.dispatch(this.data.collection?new tt.p(this.data.collection,e):new tt.a(this.data.groupId,e)),this.dialogRef.close(e)}duplicateNameValidator(e){const t=e.value?e.value.trim():"",n=this.collectionNames.includes(t);return n?{duplicate:n}:null}getNewName(){let e="New Collection",t=1;for(;this.collectionNames.includes(e);)e="New Collection "+t,t++;return e}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(ct.g),c.Pb(ct.a),c.Pb(i.h),c.Pb(V.f))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-collection-name-dialog"]],decls:19,vars:7,consts:[[1,"dialog"],["mat-dialog-title",""],[1,"flex","flex-row","justify-between"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",3,"click"],["icon","times","size","lg"],["mat-dialog-content",""],[3,"formGroup","submit"],["label","Name"],["type","text","data-test","collectionNameInput","formControlName","collectionName","cdkFocusInitial","","maxlength","60",1,"input","w-100"],["collectionNameInput",""],[3,"field"],["class","text-error text-12 mb-2",4,"ngIf"],["mat-dialog-actions","",1,"flex","justify-end"],["app-button","","buttonTheme","light","buttonType","default","data-test","collectionNameCancel","type","button",1,"mr-4",3,"click"],["app-button","","buttonType","primary","data-test","collectionNameConfirm","type","button",3,"disabled","click"],[1,"text-error","text-12","mb-2"],[4,"ngIf"]],template:function(e,t){if(1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"h1"),c.Pc(4),c.Ub(),c.Vb(5,"button",3),c.cc("click",(function(){return t.handleCancelClick()})),c.Qb(6,"app-icon",4),c.Ub(),c.Ub(),c.Ub(),c.Vb(7,"div",5),c.Vb(8,"form",6),c.cc("submit",(function(){return t.submit()})),c.Vb(9,"app-form-field",7),c.Qb(10,"input",8,9),c.Qb(12,"app-character-counter",10),c.Nc(13,st,3,2,"div",11),c.Ub(),c.Ub(),c.Ub(),c.Vb(14,"div",12),c.Vb(15,"button",13),c.cc("click",(function(){return t.handleCancelClick()})),c.Pc(16," Cancel "),c.Ub(),c.Vb(17,"button",14),c.cc("click",(function(){return t.handleConfirmClick()})),c.Pc(18),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.yc(11);c.Db(4),c.Qc(t.title),c.Db(1),c.Eb("aria-label","Close"),c.Db(3),c.mc("formGroup",t.form),c.Db(4),c.mc("field",e),c.Db(1),c.mc("ngIf",t.collectionName.invalid&&t.collectionName.dirty),c.Db(4),c.mc("disabled",t.collectionName.invalid),c.Db(1),c.Rc(" ",t.confirmText," ")}},directives:[ct.h,A.a,N.a,ct.e,V.E,V.s,V.j,it.a,V.c,V.r,V.i,V.m,ot.a,U.p,ct.c],styles:["@media (max-width:480px){.dialog[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0}),e})();var pt=n("5sb6"),gt=n("5+WD"),ht=n("dNgK"),ut=n("lMGN"),dt=n("kR+W"),bt=n("L2KA"),ft=n("Qu3c"),mt=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Ct(e,t){if(1&e&&(c.Qb(0,"img",12),c.hc(1,"async")),2&e){const e=c.gc(2);c.mc("src",c.ic(1,1,e.organizationLogo$),c.Fc)}}function xt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",13),c.cc("click",(function(){return c.Cc(e),c.gc(2).handleInviteTeammatesClick()})),c.Pc(1," Invite Members "),c.Ub()}}function Ot(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",14),c.cc("click",(function(){return c.Cc(e),c.gc(2).handleInviteTeammatesClick()})),c.Qb(1,"app-icon",15),c.Ub()}}const _t=function(){return["/account/team"]};function Mt(e,t){if(1&e&&(c.Vb(0,"div",2),c.Vb(1,"div",3),c.Vb(2,"div"),c.Nc(3,Ct,2,3,"img",4),c.hc(4,"async"),c.Ub(),c.Vb(5,"button",5),c.Qb(6,"app-icon",6),c.Ub(),c.Vb(7,"mat-menu",null,7),c.Vb(9,"button",8),c.Pc(10,"Team Settings"),c.Ub(),c.Nc(11,xt,2,0,"button",9),c.hc(12,"async"),c.Ub(),c.Ub(),c.Vb(13,"div"),c.Vb(14,"span",10),c.Pc(15),c.Ub(),c.Nc(16,Ot,2,0,"button",11),c.hc(17,"async"),c.Ub(),c.Ub()),2&e){const e=c.yc(8),t=c.gc();c.Db(3),c.mc("ngIf",c.ic(4,6,t.organizationLogo$)),c.Db(2),c.mc("matMenuTriggerFor",e),c.Db(4),c.mc("routerLink",c.oc(12,_t)),c.Db(2),c.mc("ngIf",c.ic(12,8,t.canInviteUsers$)),c.Db(4),c.Rc("",t.numUsers," members"),c.Db(1),c.mc("ngIf",c.ic(17,10,t.canInviteUsers$))}}function Pt(e,t){if(1&e&&(c.Qb(0,"img",12),c.hc(1,"async")),2&e){const e=c.gc(2);c.mc("src",c.ic(1,1,e.organizationLogo$),c.Fc)}}function vt(e,t){if(1&e&&(c.Nc(0,Pt,2,3,"img",4),c.hc(1,"async")),2&e){const e=c.gc();c.mc("ngIf",c.ic(1,1,e.organizationLogo$))}}let kt=(()=>{class e{constructor(e,t,n){this.dialogService=e,this.store=t,this.changeDetectorRef=n,this.galleryActionMode=k.a,this.actionMode=k.a.Explore,this.numUsers=0,this.ngUnsubscribe=new l.a}ngOnInit(){this.organization$.pipe(Object(f.a)(e=>!Object(O.isNil)(e)),Object(m.a)((e,t)=>Object(O.isEqual)(e,t)),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>{this.refreshUsers()}),this.users$.pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.numUsers=e.length,this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}refreshUsers(){const e=this.store.selectSnapshot(Ye.a.getOrganization);this.store.dispatch(new dt.a(e.id))}handleInviteTeammatesClick(){this.dialogService.openAddUserDialog()}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(bt.a),c.Pb(i.h),c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-banner"]],inputs:{actionMode:"actionMode"},decls:3,vars:2,consts:[["class","gallery-banner",4,"ngIf","ngIfElse"],["importChapterBanner",""],[1,"gallery-banner"],[1,"gallery-banner__header","pb-2"],["class","gallery-banner__logo",3,"src",4,"ngIf"],["app-button","","buttonTheme","light","buttonShape","square","buttonSize","small","matTooltip","Team options","data-test","galleryBannerTeamOptions",3,"matMenuTriggerFor"],["icon","chevron-down"],["teamOptionsMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","","data-test","bannerMenuAddUserButton",3,"click",4,"ngIf"],[1,"gallery-banner__member-count","pr-2"],["app-button","","buttonTheme","light","buttonShape","square","matTooltip","Invite Members","data-test","bannerAddUserButton",3,"click",4,"ngIf"],[1,"gallery-banner__logo",3,"src"],["mat-menu-item","","data-test","bannerMenuAddUserButton",3,"click"],["app-button","","buttonTheme","light","buttonShape","square","matTooltip","Invite Members","data-test","bannerAddUserButton",3,"click"],["icon","user-plus","size","sm",1,"gallery-banner__add-member"]],template:function(e,t){if(1&e&&(c.Nc(0,Mt,18,13,"div",0),c.Nc(1,vt,2,3,"ng-template",null,1,c.Oc)),2&e){const e=c.yc(2);c.mc("ngIf",t.actionMode===t.galleryActionMode.Explore)("ngIfElse",e)}},directives:[U.p,A.a,ft.c,Y.d,N.a,Y.a,Y.b,R.f],pipes:[U.b],styles:["[_nghost-%COMP%]{display:block;width:100%}.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-banner[_ngcontent-%COMP%]{border:1px solid #d7e0ea;border-radius:4px;padding:16px 12px 8px 16px}.gallery-banner__header[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;justify-content:space-between}.gallery-banner__logo[_ngcontent-%COMP%]{display:block;width:100%;max-height:48px;padding-right:12px}.gallery-banner__member-count[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em;font-weight:500;color:#61779e}.gallery-banner__add-member[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),mt([Object(i.e)(Ye.a.getOrganizationLogo),yt("design:type",r.a)],e.prototype,"organizationLogo$",void 0),mt([Object(i.e)(Ye.a.getOrganization),yt("design:type",r.a)],e.prototype,"organization$",void 0),mt([Object(i.e)(ut.a.getUsers),yt("design:type",r.a)],e.prototype,"users$",void 0),mt([Object(i.e)(nt.a.getUserRole),yt("design:type",r.a)],e.prototype,"userRole$",void 0),mt([Object(i.e)(nt.a.canInviteUsers),yt("design:type",r.a)],e.prototype,"canInviteUsers$",void 0),e})();var wt=n("IZUe"),St=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},jt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Ut(e,t){if(1&e&&(c.Vb(0,"span",7),c.Pc(1),c.Ub()),2&e){const e=c.gc();c.Db(1),c.Rc(" ",e.collection.collection_name," ")}}function Tt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"input",8),c.cc("blur",(function(t){return c.Cc(e),c.gc().handleCollectionRename(t)}))("keyup.enter",(function(t){return c.Cc(e),c.gc().handleCollectionRename(t)}))("keyup.escape",(function(){return c.Cc(e),c.gc().setRenameMode(!1)})),c.Ub()}if(2&e){const e=c.gc();c.mc("value",e.collection.collection_name)}}function Dt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",9),c.cc("menuOpened",(function(){return c.Cc(e),c.gc().handleMenuOpened()}))("menuClosed",(function(){return c.Cc(e),c.gc().handleMenuClosed()})),c.Qb(1,"app-icon",10),c.Ub()}if(2&e){c.gc();const e=c.yc(9);c.mc("matMenuTriggerFor",e)}}let zt=(()=>{class e{constructor(e,t,n,c){this.store=e,this.dialog=t,this.dialogService=n,this.changeDetection=c,this.renameMode=!1,this.menuOpen=!1,this.ngUnsubscribe=new l.a}ngOnInit(){this.collectionRenaming$.pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.renameMode=this.collection===e,this.changeDetection.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleMenuOpened(){this.menuOpen=!0}handleMenuClosed(){this.menuOpen=!1}handleSelectCollection(){if(this.curCollectionId!==this.collection.collection_id){const e=new g.b(this.store.selectSnapshot(Ye.a.getOrganization).id,this.collection.collection_id);this.store.dispatch(new h.a.SetSearchConfig(e))}}handleDeleteCollection(){this.dialogService.openConfirmDialog({maxWidth:"480px",data:{titleText:`Delete "${this.collection.collection_name}"`,bodyText:"Are you sure you want to delete this collection? All 3D models in this collection will still be available in Team \u2192 All Models.",confirmText:"Delete",confirmColor:"warn"}}).afterClosed().subscribe(e=>{e&&this.store.dispatch(new tt.m(this.collection))})}openCollectionNameDialog(){this.dialog.open(rt,{id:pt.a.CollectionNameDialog,width:"480px",data:{groupId:this.collection.group_id,collection:this.collection}}).afterClosed().subscribe(e=>{e&&(this.collection.collection_name=e,this.changeDetection.markForCheck())})}handleCollectionRename(e){const t=e.target.value,n=this.store.selectSnapshot(Ye.a.getCollections).find(e=>e.collection_name===t);t&&!n&&(this.store.dispatch(new tt.p(this.collection,t)),this.collection.collection_name=t,this.changeDetection.markForCheck()),this.setRenameMode(!1)}setRenameMode(e){if(this.store.selectSnapshot(nt.a.isAdmin)){this.store.dispatch(new tt.y(e?this.collection:null));const t=this.store.selectSnapshot(a.a.getSidenav);this.store.dispatch(new h.a.SetSidenav(Object.assign(Object.assign({},t),{disableClose:e})))}}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h),c.Pb(ct.b),c.Pb(bt.a),c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-collection"]],inputs:{collection:"collection",curCollectionId:"curCollectionId"},decls:14,vars:19,consts:[["data-test","galleryCollectionItem","role","button","tabindex","0",1,"gallery-collection",3,"click","keyup.enter","dblclick"],["class","gallery-collection__title",4,"ngIf"],["type","text","appEventFence","","appAutoFocus","","class","input","data-test","galleryCollectionInput",3,"value","blur","keyup.enter","keyup.escape",4,"ngIf"],["class","gallery-collection__options","appEventFence","","app-button","","buttonSize","xsmall","buttonTheme","light","buttonShape","square","matTooltip","Options","data-test","galleryCollectionOptions",3,"matMenuTriggerFor","menuOpened","menuClosed",4,"ngIf"],["collectionsOptions","matMenu"],["mat-menu-item","","data-test","galleryCollectionRenameButton",3,"click"],["mat-menu-item","","data-test","galleryCollectionDeleteButton",1,"text-danger",3,"click"],[1,"gallery-collection__title"],["type","text","appEventFence","","appAutoFocus","","data-test","galleryCollectionInput",1,"input",3,"value","blur","keyup.enter","keyup.escape"],["appEventFence","","app-button","","buttonSize","xsmall","buttonTheme","light","buttonShape","square","matTooltip","Options","data-test","galleryCollectionOptions",1,"gallery-collection__options",3,"matMenuTriggerFor","menuOpened","menuClosed"],["icon","ellipsis-v"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.cc("click",(function(){return t.handleSelectCollection()}))("keyup.enter",(function(){return t.handleSelectCollection()}))("dblclick",(function(){return t.setRenameMode(!0)})),c.hc(1,"async"),c.hc(2,"async"),c.hc(3,"async"),c.Nc(4,Ut,2,1,"span",1),c.Nc(5,Tt,1,1,"input",2),c.Nc(6,Dt,2,1,"button",3),c.hc(7,"async"),c.Ub(),c.Vb(8,"mat-menu",null,4),c.Vb(10,"button",5),c.cc("click",(function(){return t.openCollectionNameDialog()})),c.Pc(11," Rename "),c.Ub(),c.Vb(12,"button",6),c.cc("click",(function(){return t.handleDeleteCollection()})),c.Pc(13," Delete "),c.Ub(),c.Ub()),2&e&&(c.Hb("gallery-collection--disabled",c.ic(1,11,t.collectionsLoading$)||c.ic(2,13,t.removingCollection$)||c.ic(3,15,t.updatingCollection$))("gallery-collection--menu-open",t.menuOpen)("gallery-collection--selected",t.collection.collection_id===t.curCollectionId)("gallery-collection--renaming",t.renameMode),c.Db(4),c.mc("ngIf",!t.renameMode),c.Db(1),c.mc("ngIf",t.renameMode),c.Db(1),c.mc("ngIf",c.ic(7,17,t.isAdmin$)&&!t.renameMode))},directives:[U.p,Y.a,Y.b,wt.a,K.a,A.a,ft.c,Y.d,N.a],pipes:[U.b],styles:['.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-collection[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;justify-content:space-between;position:relative;padding:8px 20px;min-height:48px;outline:none;font-size:13px;letter-spacing:.325px;line-height:1.4em;color:#1c2a3f;text-align:left}.gallery-collection[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#f2f5fb;z-index:-1;border-radius:4px;left:12px;right:12px;top:0;bottom:0;opacity:0}.gallery-collection--renaming[_ngcontent-%COMP%]:after{background:#f0f8ff}.gallery-collection[_ngcontent-%COMP%]:hover:not(.gallery-collection--selected){cursor:pointer}.gallery-collection[_ngcontent-%COMP%]:hover:not(.gallery-collection--selected):after{background:#f9fafd;opacity:1}.gallery-collection--menu-open[_ngcontent-%COMP%]   .gallery-collection__options[_ngcontent-%COMP%], .gallery-collection[_ngcontent-%COMP%]:focus-within   .gallery-collection__options[_ngcontent-%COMP%], .gallery-collection[_ngcontent-%COMP%]:hover   .gallery-collection__options[_ngcontent-%COMP%]{visibility:visible}.gallery-collection--menu-open[_ngcontent-%COMP%]:after, .gallery-collection[_ngcontent-%COMP%]:focus-within:not(.gallery-collection--renaming):after{outline:2px solid #2d72dc!important;opacity:1}.gallery-collection--disabled[_ngcontent-%COMP%]{pointer-events:none}.gallery-collection--selected[_ngcontent-%COMP%]{font-weight:600}.gallery-collection--selected[_ngcontent-%COMP%]:after{opacity:1}.gallery-collection__title[_ngcontent-%COMP%]{word-break:break-word}.gallery-collection__options[_ngcontent-%COMP%]{margin-left:8px;visibility:hidden}'],changeDetection:0}),St([Object(i.e)(nt.a.isAdmin),jt("design:type",r.a)],e.prototype,"isAdmin$",void 0),St([Object(i.e)(Ye.a.getCollectionsLoading),jt("design:type",r.a)],e.prototype,"collectionsLoading$",void 0),St([Object(i.e)(Ye.a.getRemovingCollection),jt("design:type",r.a)],e.prototype,"removingCollection$",void 0),St([Object(i.e)(Ye.a.getUpdatingCollection),jt("design:type",r.a)],e.prototype,"updatingCollection$",void 0),St([Object(i.e)(Ye.a.getCollectionRenaming),jt("design:type",r.a)],e.prototype,"collectionRenaming$",void 0),e})();var Rt=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const It=["teamCollections"];function Ft(e,t){if(1&e&&(c.Vb(0,"div",11),c.Vb(1,"div",12),c.Qb(2,"app-gallery-banner",13),c.Ub(),c.Ub()),2&e){const e=c.gc();c.Db(2),c.mc("actionMode",e.actionMode)}}function $t(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",14),c.cc("click",(function(){return c.Cc(e),c.gc().handleAddCollection()})),c.hc(1,"async"),c.hc(2,"async"),c.Qb(3,"app-icon",15),c.Ub()}if(2&e){const e=c.gc();c.mc("disabled",c.ic(1,1,e.collectionsLoading$)||c.ic(2,3,e.addingCollection$))}}function At(e,t){if(1&e&&(c.Vb(0,"li",16),c.Qb(1,"app-gallery-collection",17),c.Ub()),2&e){const e=t.$implicit,n=c.gc();c.Db(1),c.mc("collection",e)("curCollectionId",n.collectionId),c.Eb("data-id",e.collection_id)("aria-disabled",e.collection_id===n.collectionId)}}let Nt=(()=>{class e{constructor(e,t,n,c,i){this.dialog=e,this.store=t,this.actions=n,this.snackBar=c,this.changeDetectorRef=i,this.actionMode=k.a.Explore,this.showBanner=!0,this.searchType=P.a,this.ngUnsubscribe=new l.a}get collections(){return this._collections}set collections(e){this._collections=Array.isArray(e)?[...e]:[],this.changeDetectorRef.markForCheck()}ngOnInit(){this.observeCollections(),this.observeSearchConfig()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}observeCollections(){this.store.select(Ye.a.getCollections).pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>this.collections=e),this.organization$.pipe(Object(f.a)(e=>!Object(O.isNil)(e)),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{e&&this.store.dispatch(new tt.h(e.id))}),this.actions.pipe(Object(i.l)(tt.c),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>this.handleAddCollectionSuccess(e)),this.actions.pipe(Object(i.l)(tt.b),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>this.handleAddCollectionError()),this.actions.pipe(Object(i.l)(tt.o),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>this.handleRemoveCollectionSuccess(e)),this.actions.pipe(Object(i.l)(tt.n),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>this.handleRemoveCollectionError()),this.actions.pipe(Object(i.l)(tt.r),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>this.handleRenameCollectionSuccess(e)),this.actions.pipe(Object(i.l)(tt.q),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>this.handleRenameCollectionError()),this.actions.pipe(Object(i.l)(tt.t),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>this.handleReorderCollectionsError())}observeSearchConfig(){this.searchConfig$.pipe(Object(f.a)(e=>!Object(O.isNil)(e)),Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.collectionId=e.type===P.a.Collection?e.collectionId:null,this.showBanner=e.type===P.a.Collection||e.type===P.a.Organization||e.type===P.a.Private&&!this.store.selectSnapshot(nt.a.isPrivateUser),this.changeDetectorRef.markForCheck()})}handleAddCollection(){const e=this.store.selectSnapshot(Ye.a.getOrganization).id;this.dialog.open(rt,{id:pt.a.CollectionNameDialog,width:"480px",data:{groupId:e}})}handleSelectAll(){this.loadAllTeamModels()}handleSelectPrivate(){const e=new g.g;this.store.dispatch(new h.a.SetSearchConfig(e))}handleDrop(e){Object(gt.e)(this.collections,e.previousIndex,e.currentIndex),this.store.dispatch(new tt.s(this.store.selectSnapshot(Ye.a.getOrganization).id,this.collections))}loadAllTeamModels(){const e=new g.f(this.store.selectSnapshot(Ye.a.getOrganization).id);this.store.dispatch(new h.a.SetSearchConfig(e))}loadCollection(e){const t=new g.b(this.store.selectSnapshot(Ye.a.getOrganization).id,e);this.store.dispatch(new h.a.SetSearchConfig(t))}handleAddCollectionSuccess(e){this.actions.pipe(Object(i.l)(tt.i),Object(et.a)(1),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>{const t=this.store.selectSnapshot(Ye.a.getCollections).find(t=>t.collection_name===e.collectionName);this.loadCollection(t.collection_id),this.scrollToCollection(t.collection_id)}),this.store.dispatch(new tt.h(e.organizationId)),this.snackBar.open(`Successfully added "${e.collectionName}".`)}handleAddCollectionError(){this.snackBar.open("There was a problem adding the collection.")}handleRemoveCollectionSuccess(e){this.scrollToCollection(0),this.loadAllTeamModels(),this.store.dispatch(new tt.h(e.collection.group_id)),this.snackBar.open(`Successfully deleted "${e.collection.collection_name}".`)}handleRemoveCollectionError(){this.snackBar.open("There was a problem deleting the collection.")}handleReorderCollectionsError(){this.collections=this.store.selectSnapshot(Ye.a.getCollections),this.snackBar.open("There was a problem re-ordering the collections.")}handleRenameCollectionSuccess(e){this.collectionId===e.collection.collection_id&&this.loadCollection(e.collection.collection_id),this.actions.pipe(Object(i.l)(tt.i),Object(et.a)(1),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>{this.scrollToCollection(e.collection.collection_id)}),this.store.dispatch(new tt.h(e.collection.group_id))}handleRenameCollectionError(){this.snackBar.open("There was a problem renaming the collection.");const e=this.store.selectSnapshot(Ye.a.getOrganization).id;this.store.dispatch(new tt.h(e))}scrollToCollection(e){const t=this.teamCollections.nativeElement.querySelector(`[data-id="${e}"]`);t&&t.scrollIntoView({block:"center"})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(ct.b),c.Pb(i.h),c.Pb(i.b),c.Pb(ht.b),c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-collections"]],viewQuery:function(e,t){if(1&e&&c.Jc(It,!0),2&e){let e;c.xc(e=c.dc())&&(t.teamCollections=e.first)}},inputs:{actionMode:"actionMode"},decls:33,vars:28,consts:[[3,"collapsible","showHeader"],["app-navigation-panel-title","",4,"ngIf"],[1,"pl-6","pr-3","pv-2","flex","items-center","justify-between"],[1,"gallery-collections__section-title"],[1,"ml-4"],["type","button","app-navigation-list-item","","data-test","galleryMyLibrary",1,"gallery-collections__item",3,"selected","click"],["data-test","addCollectionButton","app-button","","buttonTheme","light","buttonShape","square","matTooltip","Add a New Collection...",3,"disabled","click",4,"ngIf"],["data-test","galleryCollections","cdkDropList","",1,"ml-4",3,"cdkDropListDisabled","cdkDropListDropped"],["teamCollections",""],["type","button","app-navigation-list-item","","data-test","galleryTeamLibrary","data-id","0",1,"gallery-collections__item",3,"selected","click"],["cdkDrag","",4,"ngFor","ngForOf"],["app-navigation-panel-title",""],[1,"gallery-collections__header"],[3,"actionMode"],["data-test","addCollectionButton","app-button","","buttonTheme","light","buttonShape","square","matTooltip","Add a New Collection...",3,"disabled","click"],["icon","plus"],["cdkDrag",""],["type","button",1,"gallery-collections__item","flex",3,"collection","curCollectionId"]],template:function(e,t){1&e&&(c.Vb(0,"app-navigation-panel",0),c.hc(1,"async"),c.Nc(2,Ft,3,1,"div",1),c.hc(3,"async"),c.Vb(4,"app-navigation-list-container"),c.Vb(5,"nav"),c.Vb(6,"ul"),c.Vb(7,"li"),c.Vb(8,"div",2),c.Vb(9,"p",3),c.Pc(10,"Private"),c.Ub(),c.Ub(),c.Vb(11,"ul",4),c.Vb(12,"li"),c.Vb(13,"button",5),c.cc("click",(function(){return t.handleSelectPrivate()})),c.hc(14,"async"),c.hc(15,"async"),c.Pc(16," All Models "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"li"),c.Vb(18,"div",2),c.Vb(19,"p",3),c.Pc(20,"Team"),c.Ub(),c.Nc(21,$t,4,5,"button",6),c.hc(22,"async"),c.Ub(),c.Vb(23,"ul",7,8),c.cc("cdkDropListDropped",(function(e){return t.handleDrop(e)})),c.hc(25,"async"),c.hc(26,"async"),c.Vb(27,"li"),c.Vb(28,"button",9),c.cc("click",(function(){return t.handleSelectAll()})),c.hc(29,"async"),c.hc(30,"async"),c.Pc(31," All Models "),c.Ub(),c.Ub(),c.Nc(32,At,2,4,"li",10),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.mc("collapsible",!1)("showHeader",""!=c.ic(1,10,t.organizationLogo$)&&t.showBanner),c.Db(2),c.mc("ngIf",""!=c.ic(3,12,t.organizationLogo$)&&t.showBanner),c.Db(11),c.mc("selected",c.ic(14,14,t.searchType$)===t.searchType.Private),c.Eb("aria-disabled",c.ic(15,16,t.searchType$)===t.searchType.Private),c.Db(8),c.mc("ngIf",c.ic(22,18,t.isAdmin$)),c.Db(2),c.mc("cdkDropListDisabled",!0!==c.ic(25,20,t.isAdmin$)||c.ic(26,22,t.reorderingCollections$)),c.Db(5),c.mc("selected",c.ic(29,24,t.searchType$)===t.searchType.Organization),c.Eb("aria-disabled",c.ic(30,26,t.searchType$)===t.searchType.Private),c.Db(4),c.mc("ngForOf",t.collections))},directives:[We.a,U.p,qe.a,Ge.a,gt.c,U.o,kt,A.a,ft.c,N.a,gt.a,zt],pipes:[U.b],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{list-style:none;background:hsla(0,0%,100%,.8)}.gallery-collections__header[_ngcontent-%COMP%]{display:flex;align-items:center}.gallery-collections__section-title[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;color:#61779e}.gallery-collections__item[_ngcontent-%COMP%]{width:100%;border:none;background:none;padding:4px 0}"],changeDetection:0}),Rt([Object(i.e)(Ye.a.getOrganization),Vt("design:type",r.a)],e.prototype,"organization$",void 0),Rt([Object(i.e)(Ye.a.getOrganizationLogo),Vt("design:type",r.a)],e.prototype,"organizationLogo$",void 0),Rt([Object(i.e)(Ye.a.getCollectionsLoading),Vt("design:type",r.a)],e.prototype,"collectionsLoading$",void 0),Rt([Object(i.e)(Ye.a.getAddingCollection),Vt("design:type",r.a)],e.prototype,"addingCollection$",void 0),Rt([Object(i.e)(Ye.a.getReorderingCollections),Vt("design:type",r.a)],e.prototype,"reorderingCollections$",void 0),Rt([Object(i.e)(a.a.getSearchConfig),Vt("design:type",r.a)],e.prototype,"searchConfig$",void 0),Rt([Object(i.e)(a.a.getSearchType),Vt("design:type",r.a)],e.prototype,"searchType$",void 0),Rt([Object(i.e)(nt.a.isAdmin),Vt("design:type",r.a)],e.prototype,"isAdmin$",void 0),e})();var Lt=n("MKYd");let Et=(()=>{class e{transform(e,t){return Object(O.lowerCase)(e).split(" ").map(e=>Object(O.upperFirst)(e)).join(" ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ob({name:"humanize",type:e,pure:!0}),e})();var Bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Qt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"a",2),c.cc("click",(function(){c.Cc(e);const n=t.$implicit;return c.gc().handleSelectClient(n)})),c.Pc(1),c.hc(2,"humanize"),c.Ub()}if(2&e){const e=t.$implicit,n=c.gc();c.mc("selected",e===n.selectedClient),c.Db(1),c.Rc(" ",c.ic(2,2,e)," ")}}let Wt=(()=>{class e{constructor(e,t){this.modulesService=e,this.changeDetectorRef=t,this.clients=[],this.selectedClient="",this.ngUnsubscribe=new l.a,this.clientSelected=new c.p}ngOnInit(){this.initClients(),this.observeClient()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initClients(){this.modulesService.getClients().pipe(Object(C.a)(e=>Object(O.compact)(e))).subscribe(e=>{this.clients=e,this.changeDetectorRef.markForCheck()})}handleSelectClient(e){this.clientSelected.emit(e)}observeClient(){this.searchConfig$.pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{if(e.type===P.a.Internal){const t=e.directory.split("/");this.selectedClient="","client"===t[0]&&2===t.length&&(this.selectedClient=t[1]),this.changeDetectorRef.markForCheck()}})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(Lt.a),c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-clients"]],outputs:{clientSelected:"clientSelected"},decls:4,vars:2,consts:[["label","Clients",3,"collapsible"],["app-navigation-list-item","",3,"selected","click",4,"ngFor","ngForOf"],["app-navigation-list-item","",3,"selected","click"]],template:function(e,t){1&e&&(c.Vb(0,"app-navigation-panel",0),c.Vb(1,"app-navigation-list-container"),c.Vb(2,"nav"),c.Nc(3,Qt,3,4,"a",1),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.mc("collapsible",!0),c.Db(3),c.mc("ngForOf",t.clients))},directives:[We.a,qe.a,U.o,Ge.a],pipes:[Et],styles:[""],changeDetection:0}),function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(i.e)(a.a.getSearchConfig),Bt("design:type",r.a)],e.prototype,"searchConfig$",void 0),e})();var qt=n("MBDF"),Gt=n("a+PV");function Jt(e,t){if(1&e&&(c.Vb(0,"div",3),c.Pc(1),c.Ub()),2&e){const e=c.gc().$implicit;c.Db(1),c.Rc(" ",e.key," ")}}function Xt(e,t){if(1&e){const e=c.Wb();c.Vb(0,"li"),c.Vb(1,"button",4),c.cc("click",(function(){c.Cc(e);const n=t.$implicit;return c.gc(2).handleSelectCategory(n.id)})),c.Vb(2,"div",5),c.Qb(3,"app-category-image",6),c.Vb(4,"div",7),c.Pc(5),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=t.$implicit,n=c.gc(2);c.Db(1),c.mc("selected",n.isSelected(e.id)),c.Eb("aria-disabled",n.isSelected(e.id)),c.Db(2),c.mc("color",n.isSelected(e.id)?"color":"mono")("category",e.id),c.Db(2),c.Qc(e.title)}}function Ht(e,t){if(1&e&&(c.Vb(0,"app-navigation-list-container"),c.Vb(1,"nav"),c.Nc(2,Jt,2,1,"div",2),c.Vb(3,"ul"),c.Nc(4,Xt,6,5,"li",1),c.Ub(),c.Ub(),c.Ub()),2&e){const e=t.$implicit;c.Db(2),c.mc("ngIf","all"!==e.key),c.Db(2),c.mc("ngForOf",e.value)}}let Zt=(()=>{class e extends qt.a{constructor(e){super(e)}originalOrder(){return 0}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(c.i))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-categories"]],features:[c.Ab],decls:3,vars:5,consts:[["label","Category",3,"collapsible"],[4,"ngFor","ngForOf"],["class","gallery-categories__header text-uppercase text-11 mt-5",4,"ngIf"],[1,"gallery-categories__header","text-uppercase","text-11","mt-5"],["type","button","app-navigation-list-item","",1,"gallery-categories__item",3,"selected","click"],[1,"flex","flex-row","items-center","w-100"],[1,"gallery-categories__image",3,"color","category"],[1,"gallery-categories__title","flex-auto"]],template:function(e,t){1&e&&(c.Vb(0,"app-navigation-panel",0),c.Nc(1,Ht,5,2,"app-navigation-list-container",1),c.hc(2,"keyvalue"),c.Ub()),2&e&&(c.mc("collapsible",!0),c.Db(1),c.mc("ngForOf",c.jc(2,2,t.groupedCategories,t.originalOrder)))},directives:[We.a,U.o,qe.a,U.p,Ge.a,Gt.a],pipes:[U.i],styles:[".gallery-categories__header[_ngcontent-%COMP%]{color:#61779e;padding:12px 20px 12px 24px}.gallery-categories__item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:4px 0;background:none;border:none;text-align:left}.gallery-categories__title[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto}.gallery-categories__image[_ngcontent-%COMP%]{margin:0 20px 0 0;flex:0 0 24px;height:24px}"],changeDetection:0}),e})();var Kt=n("3phy"),Yt=n("VRyK"),en=n("Dyer"),tn=n("uwj7"),nn=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},cn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function on(e,t){if(1&e&&(c.Vb(0,"option",8),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("value",e),c.Db(1),c.Rc(" ",e," ")}}function an(e,t){if(1&e&&(c.Vb(0,"option",8),c.Pc(1),c.Ub()),2&e){const e=t.$implicit;c.mc("value",e),c.Db(1),c.Rc(" ",e," ")}}function ln(e,t){if(1&e&&(c.Vb(0,"select",9),c.Nc(1,an,2,2,"option",5),c.hc(2,"async"),c.Ub()),2&e){const e=c.gc(2);c.Db(1),c.mc("ngForOf",c.ic(2,1,e.secondaryCategoryOptions$))}}function sn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",2),c.Vb(1,"div",3),c.Vb(2,"select",4),c.Nc(3,on,2,2,"option",5),c.hc(4,"async"),c.Ub(),c.Ub(),c.Vb(5,"div",3),c.Nc(6,ln,3,3,"select",6),c.hc(7,"async"),c.Ub(),c.Vb(8,"button",7),c.cc("click",(function(){c.Cc(e);const t=c.gc();return t.toggleSearchMode(t.gallerySearchMode.Path)})),c.Pc(9," ...or specify file path "),c.Ub(),c.Ub()}if(2&e){const e=c.gc();let t=null;c.mc("formGroup",e.queryForm),c.Db(3),c.mc("ngForOf",c.ic(4,3,e.primaryCategoryOptions$)),c.Db(3),c.mc("ngIf",null==(t=c.ic(7,5,e.secondaryCategoryOptions$))?null:t.length)}}function rn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",2),c.Vb(1,"div",3),c.Qb(2,"input",10),c.Ub(),c.Vb(3,"button",11),c.cc("click",(function(){c.Cc(e);const t=c.gc();return t.toggleSearchMode(t.gallerySearchMode.Query)})),c.Pc(4," Cancel "),c.Ub(),c.Ub()}if(2&e){const e=c.gc();c.mc("formGroup",e.pathForm)}}let pn=(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.gallerySearchMode=tn.a,this.configChange=new c.p,this.ngUnsubscribe=new l.a}get primaryCategoryControl(){return this.queryForm.get("primary")}get secondaryCategoryControl(){return this.queryForm.get("secondary")}get pathControl(){return this.pathForm.get("path")}ngOnInit(){this.initForms(),this.initFormListeners(),this.store.dispatch(new en.c),this.store.dispatch(new en.d(this.primaryCategoryControl.value))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForms(){const e=this.store.selectSnapshot(a.a.getSearchConfig);this.queryForm=this.formBuilder.group({primary:[e.type===P.a.Loft?e.primary:"production"],secondary:[e.type===P.a.Loft?e.secondary:"maleAdult"]}),this.pathForm=this.formBuilder.group({path:[]})}initFormListeners(){this.primaryCategoryControl.valueChanges.pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.handlePrimaryUpdate(e)}),Object(Yt.a)(this.queryForm.valueChanges,this.pathForm.valueChanges).pipe(Object(y.a)(300),Object(b.a)(this.ngUnsubscribe)).subscribe(()=>{const e=this.getQuery();e&&this.configChange.emit(e)})}toggleSearchMode(e){this.store.dispatch(new h.a.SetSearchMode(e))}handlePrimaryUpdate(e){this.secondaryCategoryControl.setValue(""),this.store.dispatch(new en.d(e))}getQuery(){switch(this.store.selectSnapshot(a.a.getSearchMode)){case tn.a.Query:if(this.primaryCategoryControl.value)return new g.e(this.primaryCategoryControl.value,this.secondaryCategoryControl.value);break;case tn.a.Path:const e=decodeURIComponent(this.pathControl.value||""),t=e.split("/"),n=e.match(/([A-Za-z_-\s0-9]*\/)/gi);if(null!=n)return new g.e((n[0]||"").replace("/",""),(n[1]||"").replace("/",""),t.pop())}return null}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(i.h),c.Pb(V.f))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-filters-loft"]],outputs:{configChange:"configChange"},decls:5,vars:7,consts:[["label","Path",3,"collapsible"],["class","gallery-filters theme-light p-5",3,"formGroup",4,"ngIf"],[1,"gallery-filters","theme-light","p-5",3,"formGroup"],[1,"pb-4"],["appAutoFocus","","formControlName","primary",1,"input"],[3,"value",4,"ngFor","ngForOf"],["class","input","formControlName","secondary",4,"ngIf"],["type","button","app-button","","buttonTheme","light","data-test","specifyFilePath",3,"click"],[3,"value"],["formControlName","secondary",1,"input"],["type","text","formControlName","path","placeholder","primary/secondary/name","data-test","moduleIdInput",1,"input"],["type","button","appAutoFocus","","app-button","","buttonTheme","light",3,"click"]],template:function(e,t){1&e&&(c.Vb(0,"app-navigation-panel",0),c.Nc(1,sn,10,7,"form",1),c.hc(2,"async"),c.Nc(3,rn,5,1,"form",1),c.hc(4,"async"),c.Ub()),2&e&&(c.mc("collapsible",!1),c.Db(1),c.mc("ngIf",c.ic(2,3,t.searchMode$)===t.gallerySearchMode.Query),c.Db(2),c.mc("ngIf",c.ic(4,5,t.searchMode$)===t.gallerySearchMode.Path))},directives:[We.a,U.p,V.E,V.s,V.j,V.B,V.r,V.i,U.o,A.a,V.v,V.D,V.c],pipes:[U.b],styles:[""],changeDetection:0}),nn([Object(i.e)(Kt.a.getPrimaryCategoryOptions("read")),cn("design:type",r.a)],e.prototype,"primaryCategoryOptions$",void 0),nn([Object(i.e)(Kt.a.getSecondaryCategoryOptions),cn("design:type",r.a)],e.prototype,"secondaryCategoryOptions$",void 0),nn([Object(i.e)(a.a.getSearchMode),cn("design:type",r.a)],e.prototype,"searchMode$",void 0),e})();var gn=function(e,t,n,c){var i,o=arguments.length,a=o<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,c);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},hn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const un=["sidenav"],dn=["content"];function bn(e,t){1&e&&c.Qb(0,"app-gallery-source")}function fn(e,t){if(1&e&&(c.Tb(0),c.Qb(1,"app-gallery-collections",15),c.Sb()),2&e){const e=c.gc();c.Db(1),c.mc("actionMode",e.actionMode)}}function mn(e,t){if(1&e){const e=c.Wb();c.Tb(0),c.Vb(1,"app-gallery-clients",16),c.cc("clientSelected",(function(t){return c.Cc(e),c.gc().handleClientSelected(t)})),c.Ub(),c.Sb()}}function yn(e,t){if(1&e){const e=c.Wb();c.Vb(0,"app-gallery-categories",18),c.cc("categorySelected",(function(t){return c.Cc(e),c.gc(2).handleCategorySelected(t)})),c.Ub()}}function Cn(e,t){if(1&e&&(c.Tb(0),c.Nc(1,yn,1,0,"app-gallery-categories",17),c.hc(2,"async"),c.hc(3,"async"),c.Sb()),2&e){const e=c.gc();c.Db(1),c.mc("ngIf",c.ic(2,1,e.searchType$)===e.searchTypeEnum.Category||c.ic(3,3,e.searchType$)===e.searchTypeEnum.Community)}}function xn(e,t){if(1&e){const e=c.Wb();c.Tb(0),c.Vb(1,"app-gallery-filters-loft",19),c.cc("configChange",(function(t){return c.Cc(e),c.gc().handleLoftConfigChange(t)})),c.Ub(),c.Sb()}}function On(e,t){if(1&e){const e=c.Wb();c.Vb(0,"div",20),c.Vb(1,"button",21),c.cc("click",(function(){return c.Cc(e),c.gc().scrollToTop()})),c.Qb(2,"app-icon",22),c.Pc(3," Back to Top "),c.Ub(),c.Ub()}}const _n=function(e){return{"gallery--small":e}},Mn=function(e){return{"gallery__filters--empty":e}};let Pn=(()=>{class e{constructor(e,t,n){this.changeDetectorRef=e,this.store=t,this.breakpointObserver=n,this.applicationEnum=p.a,this.contentTypeEnum=M.a,this.searchTypeEnum=P.a,this.siteFooterType=S.a,this.application=p.a.Studio,this.contentType=M.a.Bookmark,this.viewMode=o.a.Card,this.selectLabel="Select",this.showSourcePicker=!1,this.lazyLoadThreshold=480,this.lazyLoadCount=12,this.actionMode=k.a.Explore,this.actionsEnabled=!0,this.selectBookmark=new c.p,this.bulkAction=new c.p,this.ngUnsubscribe=new l.a,this.isSmall=!0,this.showScrollTo=!1,this.mobileCutoff=!1,this.tagGroups=[x.e,x.d,x.c]}ngOnInit(){this.initBreakpointObserver(),this.initSearchConfigObserver()}ngAfterViewInit(){this.store.select(a.a.getSidenav).pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.toggleSidenav(e.open&&e.enabled)}),this.initLazyLoadObserver(),this.initScrollObserver()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initSearchConfigObserver(){this.searchConfig$.pipe(Object(b.a)(this.ngUnsubscribe),Object(f.a)(e=>null!=e),Object(m.a)((e,t)=>Object(O.isEqual)(e,t)),Object(y.a)(100)).subscribe(e=>{this.contentType=this.store.selectSnapshot(a.a.getSearchGroup);const t=this.store.selectSnapshot(a.a.getSearchOptions);if(this.store.dispatch(new h.a.SetSearchOptions(Object.assign(Object.assign({},t),{offset:0}))),this.breakpointObserver.isMatched("(max-width: 959px)")){const e=this.store.selectSnapshot(a.a.getSidenav);this.store.dispatch(new h.a.SetSidenav(Object.assign(Object.assign({},e),{open:!1})))}this.changeDetectorRef.markForCheck(),this.search()})}initBreakpointObserver(){this.breakpointObserver.observe("(max-width: 959px)").pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.isSmall=e.matches;const t=this.store.selectSnapshot(a.a.getSidenav);this.store.dispatch(new h.a.SetSidenav(Object.assign(Object.assign({},t),{open:!this.isSmall}))),this.store.dispatch(new h.a.SetViewMode(o.b)),this.changeDetectorRef.markForCheck()}),this.breakpointObserver.observe("(max-width: 540px)").pipe(Object(b.a)(this.ngUnsubscribe)).subscribe(e=>{this.mobileCutoff=e.matches})}initLazyLoadObserver(){Object(s.a)(this.content.getElementRef().nativeElement,"scroll").pipe(Object(b.a)(this.ngUnsubscribe),Object(y.a)(50)).subscribe(()=>{const e=this.content.getElementRef().nativeElement;if(e.scrollHeight-(e.scrollTop+e.offsetHeight)<=this.lazyLoadThreshold){const e=this.store.selectSnapshot(a.a.getSearchOptions);e.pageSize+=this.lazyLoadCount,this.store.dispatch(new h.a.SetSearchOptions(e))}})}initScrollObserver(){this.sidenavContainer.scrollable.elementScrolled().pipe(Object(b.a)(this.ngUnsubscribe),Object(C.a)(e=>e.srcElement.scrollTop>window.innerHeight),Object(m.a)()).subscribe(e=>{this.showScrollTo=e,this.changeDetectorRef.markForCheck()})}handleSelect(e){this.selectBookmark.emit(e)}handleCategorySelected(e){this.store.dispatch(new h.a.SearchCategory(e))}handleClientSelected(e){if(u.a.application===p.a.Studio){const t=Object(_.plainToClass)(g.d,Object.assign(Object.assign({},this.store.selectSnapshot(a.a.getSearchConfig)),{directory:"client/"+e}));this.store.dispatch(new h.a.SetSearchConfig(t))}}handleFiltersChange(e){this.handleSelectedTagChange(e.group,e.tag)}handleSelectedTagChange(e,t){const n=this.store.selectSnapshot(a.a.getActiveTags);n[e]=t,this.store.dispatch(new h.a.SetActiveTags(n))}handleLoftConfigChange(e){this.store.dispatch(new h.a.SetSearchConfig(e))}handleBulkAction(e){this.bulkAction.emit(e)}handleSort(e){const t=this.store.selectSnapshot(a.a.getSearchOptions);t.sortBy=e,this.store.dispatch(new h.a.SetSearchOptions(t)),0===t.sortBy.fields.length&&this.store.dispatch(new h.a.SearchStudio)}toggleSidenav(e){this.sidenav.toggle(e)}getTagGroup(e){const t=x.a.find(t=>t.tags.some(t=>t===e));return Object(O.get)(t,"title","")}search(){this.store.dispatch(new h.a.SearchStudio)}scrollToTop(){this.content.scrollTo({top:0,behavior:"smooth"})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(c.i),c.Pb(i.h),c.Pb(j.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-gallery-container"]],viewQuery:function(e,t){if(1&e&&(c.Jc(d.b,!0,d.b),c.Jc(un,!0,d.a),c.Vc(dn,!0,d.c)),2&e){let e;c.xc(e=c.dc())&&(t.sidenavContainer=e.first),c.xc(e=c.dc())&&(t.sidenav=e.first),c.xc(e=c.dc())&&(t.content=e.first)}},inputs:{application:"application",contentType:"contentType",viewMode:"viewMode",selectLabel:"selectLabel",showSourcePicker:"showSourcePicker",lazyLoadThreshold:"lazyLoadThreshold",lazyLoadCount:"lazyLoadCount",actionMode:"actionMode",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark",bulkAction:"bulkAction"},decls:34,vars:57,consts:[["role","region",1,"gallery",3,"ngClass"],[1,"gallery__container"],["sidenavContainer",""],["fixedTopGap","56",1,"gallery__sidenav",3,"autoFocus","disableClose","fixedInViewport","fixedBottomGap","position","opened","mode"],["sidenav",""],[4,"ngIf"],["content",""],["class","gallery__to-top",4,"ngIf"],[1,"gallery__content","theme-light"],[1,"gallery__header"],[3,"bulkAction","sortChange"],[1,"gallery__filters",3,"ngClass"],[3,"viewMode","selectedTagChange"],[1,"gallery__results"],[3,"actionMode","actionsEnabled","viewMode","loading","selectLabel","results","checkable","checkedResults","selectBookmark"],[3,"actionMode"],[3,"clientSelected"],[3,"categorySelected",4,"ngIf"],[3,"categorySelected"],[3,"configChange"],[1,"gallery__to-top"],["type","button","app-button","","buttonTheme","light","buttonType","info","buttonShape","rounded",3,"click"],["icon","arrow-circle-up"]],template:function(e,t){if(1&e&&(c.Vb(0,"div",0),c.Vb(1,"mat-sidenav-container",1,2),c.Vb(3,"mat-sidenav",3,4),c.hc(5,"async"),c.hc(6,"async"),c.hc(7,"async"),c.hc(8,"async"),c.Nc(9,bn,1,0,"app-gallery-source",5),c.Nc(10,fn,2,1,"ng-container",5),c.Nc(11,mn,2,0,"ng-container",5),c.Nc(12,Cn,4,5,"ng-container",5),c.Nc(13,xn,2,0,"ng-container",5),c.hc(14,"async"),c.Ub(),c.Vb(15,"mat-sidenav-content",null,6),c.Nc(17,On,4,0,"div",7),c.Vb(18,"div",8),c.Vb(19,"div",9),c.Vb(20,"app-gallery-header",10),c.cc("bulkAction",(function(e){return t.handleBulkAction(e)}))("sortChange",(function(e){return t.handleSort(e)})),c.Ub(),c.Ub(),c.Vb(21,"div",11),c.hc(22,"async"),c.hc(23,"async"),c.Vb(24,"app-gallery-filters",12),c.cc("selectedTagChange",(function(e){return t.handleFiltersChange(e)})),c.hc(25,"async"),c.hc(26,"async"),c.Ub(),c.Ub(),c.Vb(27,"div",13),c.Vb(28,"app-gallery-results",14),c.cc("selectBookmark",(function(e){return t.handleSelect(e)})),c.hc(29,"async"),c.hc(30,"async"),c.hc(31,"async"),c.hc(32,"async"),c.hc(33,"async"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){let e=null;c.mc("ngClass",c.pc(53,_n,t.isSmall)),c.Eb("aria-label","Gallery"),c.Db(3),c.mc("autoFocus",!1)("disableClose",c.ic(5,25,t.sideNav$).disableClose)("fixedInViewport",t.isSmall)("fixedBottomGap",c.ic(6,27,t.siteFooter$)===t.siteFooterType.Mobile?56:0)("position","start")("opened",(null==(e=c.ic(7,29,t.sideNav$))?null:e.open)&&(null==(e=c.ic(8,31,t.sideNav$))?null:e.enabled))("mode",t.isSmall?"push":"side"),c.Db(6),c.mc("ngIf",t.showSourcePicker),c.Db(1),c.mc("ngIf",t.contentType===t.contentTypeEnum.Bookmark),c.Db(1),c.mc("ngIf",t.contentType===t.contentTypeEnum.Internal),c.Db(1),c.mc("ngIf",t.contentType===t.contentTypeEnum.Module),c.Db(1),c.mc("ngIf",c.ic(14,33,t.searchType$)===t.searchTypeEnum.Loft),c.Db(4),c.mc("ngIf",t.showScrollTo),c.Db(4),c.mc("ngClass",c.pc(55,Mn,!1===c.ic(22,35,t.showFilters$)&&0===c.ic(23,37,t.activeTagsCount$))),c.Db(3),c.mc("viewMode",c.ic(25,39,t.showFilters$)&&!0!==c.ic(26,41,t.bulkActionsActive$)&&!t.mobileCutoff?"expanded":"summary"),c.Db(4),c.mc("actionMode",t.actionMode)("actionsEnabled",t.actionsEnabled)("viewMode",t.viewMode)("loading",c.ic(29,43,t.loading$))("selectLabel",t.selectLabel)("results",c.ic(30,45,t.results$))("checkable",c.ic(31,47,t.bulkActionsActive$)&&c.ic(32,49,t.bulkActionsAvailable$))("checkedResults",c.ic(33,51,t.checkedResults$))}},directives:[U.m,d.b,d.a,U.p,d.c,Pe,ve.a,Qe,Ke,Nt,Wt,Zt,pn,A.a,N.a],pipes:[U.b],styles:['[_nghost-%COMP%]{width:100%}.gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.gallery[_ngcontent-%COMP%]   .mat-sidenav-content[_ngcontent-%COMP%]{background:#fff}.gallery--small[_ngcontent-%COMP%]   .gallery__container[_ngcontent-%COMP%], .gallery__container[_ngcontent-%COMP%]{flex:1}.gallery__sidenav[_ngcontent-%COMP%]{width:260px;padding-top:12px;color:#1c2a3f}.gallery__content[_ngcontent-%COMP%]{border-left:solid #d7e0ea;border-width:1px;width:100%;min-height:100%;display:grid;grid-template-areas:"header" "filters" "results";grid-template-columns:1fr;grid-template-rows:auto auto 1fr}.gallery__header[_ngcontent-%COMP%]{grid-area:header}.gallery__filters[_ngcontent-%COMP%]{grid-area:filters;padding:32px 40px 0}.gallery__filters--empty[_ngcontent-%COMP%]{padding:0}.gallery__results[_ngcontent-%COMP%]{grid-area:results;padding:36px 40px 12px;margin-top:-24px;overflow-y:hidden}.gallery__to-top[_ngcontent-%COMP%]{pointer-events:none;display:flex;justify-content:center;position:fixed;padding-bottom:12px;bottom:0;z-index:10;left:0;width:100%}.gallery__to-top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{pointer-events:auto}@media (max-width:959px){.gallery__content[_ngcontent-%COMP%]{grid-template-areas:"header" "filters" "results";grid-template-columns:1fr;grid-template-rows:auto auto 1fr}.gallery__results[_ngcontent-%COMP%]{padding:12px 20px}.gallery__sidenav[_ngcontent-%COMP%]{padding-top:0}.gallery__filters[_ngcontent-%COMP%]{padding:32px 20px 0}}'],data:{animation:[Object(v.n)("inFromBottom",[Object(v.m)(":enter",[Object(v.l)({transform:"translateY(100%)"}),Object(v.e)("250ms ease-out",Object(v.l)({transform:"*"}))]),Object(v.m)(":leave",[Object(v.e)("250ms ease-out",Object(v.l)({transform:"translateX(100%)"}))])])]},changeDetection:0}),gn([Object(i.e)(a.a.getFilteredResults),hn("design:type",r.a)],e.prototype,"results$",void 0),gn([Object(i.e)(a.a.getCheckedResults),hn("design:type",r.a)],e.prototype,"checkedResults$",void 0),gn([Object(i.e)(a.a.getLoading),hn("design:type",r.a)],e.prototype,"loading$",void 0),gn([Object(i.e)(a.a.getSearchConfig),hn("design:type",r.a)],e.prototype,"searchConfig$",void 0),gn([Object(i.e)(a.a.getSearchType),hn("design:type",r.a)],e.prototype,"searchType$",void 0),gn([Object(i.e)(a.a.getSearchOptions),hn("design:type",r.a)],e.prototype,"searchOptions$",void 0),gn([Object(i.e)(a.a.getActiveTags),hn("design:type",r.a)],e.prototype,"activeTags$",void 0),gn([Object(i.e)(a.a.getActiveTagsCount),hn("design:type",r.a)],e.prototype,"activeTagsCount$",void 0),gn([Object(i.e)(a.a.getSidenav),hn("design:type",r.a)],e.prototype,"sideNav$",void 0),gn([Object(i.e)(a.a.getShowFilters),hn("design:type",r.a)],e.prototype,"showFilters$",void 0),gn([Object(i.e)(w.a.getSiteFooter),hn("design:type",r.a)],e.prototype,"siteFooter$",void 0),gn([Object(i.e)(a.a.getBulkActionsAvailable),hn("design:type",r.a)],e.prototype,"bulkActionsAvailable$",void 0),gn([Object(i.e)(a.a.getBulkActionsActive),hn("design:type",r.a)],e.prototype,"bulkActionsActive$",void 0),e})()},ft4l:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var c=function(e){return e.ExportCSV="Export CSV",e.AddToTeamLibrary="Add to Team Library",e.Delete="Delete",e}({});const i={[c.ExportCSV]:"exportCSVButton",[c.AddToTeamLibrary]:"AddToTeamLibraryButton",[c.Delete]:"DeleteButton"}}}]);