!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,c,a=[],o=!0,r=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(s){r=!0,c=s}finally{try{o||null==n.return||n.return()}finally{if(r)throw c}}return a}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BbIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),c=n("ofXK"),a=n("STbY"),o=n("IlST"),r=n("0njA");function s(e,t){if(1&e&&(i.Vb(0,"button",3),i.Vb(1,"span",4),i.Vb(2,"span",5),i.Vb(3,"span",6),i.Pc(4,"Sort: "),i.Ub(),i.Pc(5),i.Ub(),i.Qb(6,"app-icon",7),i.Ub(),i.Ub()),2&e){var n=i.gc(),c=i.yc(2);i.mc("uppercase",!1)("matMenuTriggerFor",c),i.Eb("aria-label",n.sortLabel),i.Db(5),i.Qc(n.sort.label)}}function l(e,t){if(1&e){var n=i.Wb();i.Vb(0,"button",8),i.cc("click",(function(){i.Cc(n);var e=t.$implicit;return i.gc().handleSort(e)})),i.Pc(1),i.Ub()}if(2&e){var c=t.$implicit;i.Eb("data-test-value",c.dataTest)("aria-label","Sort by "+c.label),i.Db(1),i.Rc(" ",c.label," ")}}var p=function(){var e=function(){function e(t){u(this,e),this.changeDetectorRef=t,this.sortOptions=[],this.sortChange=new i.p}return b(e,[{key:"sort",get:function(){return this._sort},set:function(e){this._sort=e,this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){}},{key:"handleSort",value:function(e){this.sortChange.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.i))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-sort"]],inputs:{sort:"sort",sortOptions:"sortOptions",sortLabel:"sortLabel"},outputs:{sortChange:"sortChange"},decls:4,vars:2,consts:[["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor",4,"ngIf"],["sortActions","matMenu"],["mat-menu-item","","data-test","gallerySortByItem",3,"click",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor"],[2,"white-space","nowrap"],[1,"text-medium"],[1,"hide-sm"],["icon","caret-down",1,"ml-1"],["mat-menu-item","","data-test","gallerySortByItem",3,"click"]],template:function(e,t){1&e&&(i.Nc(0,s,7,4,"button",0),i.Vb(1,"mat-menu",null,1),i.Nc(3,l,2,3,"button",2),i.Ub()),2&e&&(i.mc("ngIf",t.sort),i.Db(3),i.mc("ngForOf",t.sortOptions))},directives:[c.p,a.a,c.o,o.a,a.d,r.a,a.b],styles:[""],changeDetection:0}),e}()},FO49:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("fXoL"),c=n("AcyG"),a=n("HDdC"),o=n("Kn5L"),r=n("ECVi"),s=n("INTG"),l=n("HdmJ"),p=n("IlST"),g=n("ofXK"),d=n("STbY"),f=n("0njA"),m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function h(e,t){if(1&e&&(i.Qb(0,"img",8),i.hc(1,"async"),i.hc(2,"async")),2&e){var n,c=i.gc(2);i.mc("src",c.getLocaleFlag(i.ic(1,2,c.userLocale$)),i.Fc),i.Eb("alt",null==(n=i.ic(2,4,c.userLocale$))?null:n.title)}}function v(e,t){if(1&e&&(i.Vb(0,"button",3),i.Vb(1,"div",4),i.Nc(2,h,3,6,"img",5),i.Vb(3,"span",6),i.Pc(4),i.hc(5,"async"),i.Ub(),i.Qb(6,"app-icon",7),i.Ub(),i.Ub()),2&e){var n=i.gc(),c=i.yc(3);i.mc("buttonTheme",n.buttonTheme)("buttonType",n.buttonType)("matMenuTriggerFor",c),i.Eb("aria-label","Select your locale"),i.Db(2),i.mc("ngIf",n.showFlag),i.Db(2),i.Qc(n.displayLocale(i.ic(5,6,n.userLocale$)))}}function x(e,t){if(1&e){var n=i.Wb();i.Vb(0,"button",9),i.cc("click",(function(){i.Cc(n);var e=t.$implicit;return i.gc().handleLocaleSelection(e)})),i.Vb(1,"span",10),i.Qb(2,"img",8),i.Pc(3),i.hc(4,"uppercase"),i.Ub(),i.Ub()}if(2&e){var c=t.$implicit,a=i.gc();i.Eb("aria-label",c.title)("data-test",a.localesDataTestMap[c.lang]),i.Db(2),i.mc("src",a.getLocaleFlag(c),i.Fc),i.Eb("alt",c.title),i.Db(1),i.Sc(" ",c.title," (",i.ic(4,6,c.lang),") ")}}var y=function(e){return e.Full="full",e.Title="title",e.Lang="lang",e}({}),P=function(){var e=function(){function e(t){u(this,e),this.store=t,this.locales=s.d,this.localesDataTestMap=s.e,this.buttonType=p.b.Default,this.buttonTheme=l.a.Dark,this.localeFormat=y.Full,this.showFlag=!0,this.localeChange=new i.p}return b(e,[{key:"handleLocaleSelection",value:function(e){this.store.selectSnapshot(r.a.getUserLocale)!==e&&(this.store.dispatch(new o.ab(e)),this.localeChange.emit(e))}},{key:"getLocaleFlag",value:function(e){return"/assets/images/flags/".concat(e.country,".svg")}},{key:"displayLocale",value:function(e){switch(this.localeFormat){case y.Full:return"".concat(e.title," (").concat(e.lang,")");case y.Title:return e.title;case y.Lang:return e.lang}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(c.h))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-locales"]],inputs:{buttonType:"buttonType",buttonTheme:"buttonTheme",localeFormat:"localeFormat",showFlag:"showFlag"},outputs:{localeChange:"localeChange"},decls:5,vars:4,consts:[["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor",4,"ngIf"],["localeOptions","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor"],[1,"flex","items-center"],["class","mr-2",3,"src",4,"ngIf"],[1,"text-medium"],["icon","caret-down",1,"ml-1"],[1,"mr-2",3,"src"],["mat-menu-item","",3,"click"],[1,"flex"]],template:function(e,t){1&e&&(i.Nc(0,v,7,8,"button",0),i.hc(1,"async"),i.Vb(2,"mat-menu",null,1),i.Nc(4,x,5,8,"button",2),i.Ub()),2&e&&(i.mc("ngIf",i.ic(1,2,t.userLocale$)),i.Db(4),i.mc("ngForOf",t.locales))},directives:[g.p,d.a,g.o,p.a,d.d,f.a,d.b],pipes:[g.b,g.y],styles:[""],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(c.e)(r.a.getUserLocale),m("design:type",a.a)],e.prototype,"userLocale$",void 0),e}()},jcJX:function(t,i,c){"use strict";var r,s,p,g;c.r(i),c.d(i,"AccountModule",(function(){return Jr}));var d,f,m=c("ofXK"),h=c("tyNb"),v=c("P+IX"),x=c("uZ1g"),y=c("AcyG"),P=c("LvDl"),_=c("XNiG"),O=c("HDdC"),C=c("pLZG"),k=c("IzEk"),U=c("5+tZ"),M=c("1G5W"),w=c("ECVi"),D=c("Ryms"),S=c("j8e5"),V=c("fXoL"),R=c("L2KA"),T=c("04gt"),j=c("UhED"),I=c("7aEW"),z=c("0njA"),N=function(){return["/account/profile"]},A=function(){return["/account/team"]},F=function(){return["/account/settings"]},L=((d=function(){function e(){u(this,e)}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||d)},d.\u0275cmp=V.Jb({type:d,selectors:[["app-account-nav"]],decls:12,vars:6,consts:[[1,"nav"],["app-navigation-list-item","","routerLinkActive","nav__link--active",1,"nav__link",3,"routerLink"],["icon","user-circle",1,"nav__link-icon"],["icon","user-friends",1,"nav__link-icon"],["icon","cog",1,"nav__link-icon"]],template:function(e,t){1&e&&(V.Vb(0,"app-navigation-list-container"),V.Vb(1,"nav"),V.Vb(2,"div",0),V.Vb(3,"a",1),V.Qb(4,"app-icon",2),V.Pc(5," Account "),V.Ub(),V.Vb(6,"a",1),V.Qb(7,"app-icon",3),V.Pc(8," Team "),V.Ub(),V.Vb(9,"a",1),V.Qb(10,"app-icon",4),V.Pc(11," Settings "),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.mc("routerLink",V.oc(3,N)),V.Db(3),V.mc("routerLink",V.oc(4,A)),V.Db(3),V.mc("routerLink",V.oc(5,F)))},directives:[j.a,h.h,I.a,h.g,z.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.nav__link[_ngcontent-%COMP%]{color:#374a68;text-decoration:none;display:flex}.nav__link-icon[_ngcontent-%COMP%]{padding-right:20px;font-size:16px;letter-spacing:.4px;line-height:1.4em}.nav__link--active[_ngcontent-%COMP%]{background-color:#eaeff5;border-radius:4px}"],changeDetection:0}),d),E=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},B=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Q=((f=function(){function e(t,n,i,c){u(this,e),this.store=t,this.dialogService=n,this.authRoutingService=i,this.router=c,this.breakPoints=D.a,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initProfileCheck()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initProfileCheck",value:function(){var e=this;this.userProfile$.pipe(Object(C.a)((function(t){return!Object(P.isNil)(t)&&e.isVerificationRequired(t)})),Object(k.a)(1),Object(U.b)((function(){return e.openVerifyConfirmDialog()})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.store.selectSnapshot(w.a.getUserProfile),i=n.email,c=n.account_verification.verification_jwt;t?e.authRoutingService.navigateToVerifyAccount(i,c):e.router.navigate(["/"])}))}},{key:"isVerificationRequired",value:function(e){return!0===Object(P.get)(e,"account_verification.verification_required")}},{key:"openVerifyConfirmDialog",value:function(){return this.dialogService.openConfirmDialog({maxWidth:"480px",data:{titleText:"Verify your email",bodyText:"Before you can make changes to your account, we need to verify your email address. Please log out and log back in to complete the verification process.",confirmText:"Log Out",confirmColor:"warn"}}).afterClosed()}}]),e}()).\u0275fac=function(e){return new(e||f)(V.Pb(y.h),V.Pb(R.a),V.Pb(T.a),V.Pb(h.e))},f.\u0275cmp=V.Jb({type:f,selectors:[["app-account-master"]],decls:7,vars:4,consts:[[1,"account"],[1,"account__container"],[1,"account__col"],[1,"account__body"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.hc(1,"async"),V.Vb(2,"div",1),V.Vb(3,"div",2),V.Qb(4,"app-account-nav"),V.Ub(),V.Vb(5,"div",3),V.Qb(6,"router-outlet"),V.Ub(),V.Ub(),V.Ub()),2&e&&V.Hb("account--fullscreen",V.ic(1,2,t.breakpoint$)<t.breakPoints.Large)},directives:[L,h.j],pipes:[m.b],styles:[".account[_ngcontent-%COMP%]{background:#fff;display:flex;justify-content:center;padding-top:24px}.account__container[_ngcontent-%COMP%]{flex:0 1 900px;display:flex}.account__col[_ngcontent-%COMP%]{flex:0 0 160px;padding-right:20px}.account__body[_ngcontent-%COMP%]{border-left:1px solid #d7e0ea;padding-left:20px;flex:1 1 100%}.account--fullscreen[_ngcontent-%COMP%]   .account__container[_ngcontent-%COMP%]{flex:0 1 100%}.account--fullscreen[_ngcontent-%COMP%]   .account__col[_ngcontent-%COMP%]{display:none}.account--fullscreen[_ngcontent-%COMP%]   .account__body[_ngcontent-%COMP%]{padding:0 20px;border:none}"],changeDetection:0}),E([Object(y.e)(w.a.getUserProfile),B("design:type",O.a)],f.prototype,"userProfile$",void 0),E([Object(y.e)(S.a.getBreakpoint),B("design:type",O.a)],f.prototype,"breakpoint$",void 0),f),$=c("VRyK"),q=c("lJxs"),G=c("VKIe"),W=c("Kn5L"),J=c("eKhQ"),H=c("3Pt+"),K=c("itXk"),Y=c("/uUt"),Z=c("bKUj"),X=function(e){return e.MedicalDevice="Medical Device",e.Pharma="Pharma",e.ConsumerHealth="Consumer Health",e.EdTraining="Education & Training",e.DigitalHealth="Digital Health",e.ProviderHospitalPractice="Provider (Hospital & Practice)",e}({}),ee=function(e){return e.K12="K12",e.MedicalSchool="Medical School",e.NursingSchool="Nursing School",e.UndergraduateSchool="Undergraduate School",e.GraduateSchool="Graduate School",e.HealthScienceAlliedHealth="Health Sciences or Allied Health Program",e}({}),te=c("2CE2"),ne=function(e){return e.Student="Student",e.Faculty="Faculty",e.Administrator="Administrator",e.TeacherFaculty="Teacher / Faculty",e.PatientCaregiver="Patient / Caregiver",e.IndustryProfessional="Industry Professional",e.InstructionalDesigner="Instructional Designer",e.Marketing="Marketing",e.TrainingManager="Training Manager",e.ManagerOfMedicalEducation="Manager of Medical Education",e.Developer="Developer",e.BrandProductManager="Brand / Product Manager",e.ScientificCommunications="Scientific Communications",e.ProductManager="Product Manager",e.Editor="Editor",e.ContentManager="Content Manager",e.DesignUserExperience="Design / User Experience",e.Executive="Executive",e.TechnologyIT="Technology / IT",e.Clinician="Clinician",e.PatientEducation="Patient Education",e.Innovation="Innovation",e.PhysicalTherapist="Physical Therapist",e.OccupationalTherapist="Occupational Therapist",e.PersonalTrainer="Personal Trainer",e.Librarian="Librarian",e.SalesTraining="Sales Training",e.ProfessionalEducation="Professional Education",e}({}),ie=function(e){return e.Individual="individual",e.Team="team",e}({});Object.values(te.a);var ce=Object.values(ee),ae=Object.values(X),oe=[ne.Student,ne.TeacherFaculty,ne.PatientCaregiver,ne.Clinician,ne.IndustryProfessional],re=[ne.Student,ne.Faculty,ne.Administrator,ne.Librarian],se=(l(r={},te.a.PersonalUse,[]),l(r,te.a.Education,ce),l(r,te.a.Business,ae),r),le=(l(s={},X.MedicalDevice,[ne.SalesTraining,ne.ProfessionalEducation,ne.InstructionalDesigner,ne.ProductManager,ne.Marketing]),l(s,X.Pharma,[ne.SalesTraining,ne.ProfessionalEducation,ne.ScientificCommunications,ne.InstructionalDesigner,ne.ProductManager,ne.Marketing]),l(s,X.ConsumerHealth,[ne.ProductManager,ne.Editor,ne.ContentManager,ne.DesignUserExperience,ne.Developer,ne.Executive]),l(s,X.EdTraining,[ne.ProductManager,ne.Editor,ne.ContentManager,ne.DesignUserExperience,ne.Developer,ne.Executive]),l(s,X.DigitalHealth,[ne.ProductManager,ne.DesignUserExperience,ne.Developer,ne.TechnologyIT,ne.Executive]),l(s,X.ProviderHospitalPractice,[ne.Clinician,ne.Administrator,ne.TechnologyIT,ne.PatientEducation,ne.Innovation]),s),ue=(l(p={},te.a.PersonalUse,[]),l(p,te.a.Education,["<100","101-499","500+"]),l(p,te.a.Business,["1-25","26-100","101-500","500+"]),p),pe=(l(g={},te.a.PersonalUse,{title:"",content:[]}),l(g,te.a.Education,{title:"",content:[]}),l(g,te.a.Business,{title:"",content:[]}),g);function be(e){return e.map((function(e){return{value:e}}))}function ge(e,t,n){var i=t?"":"Try for free";return{account_setting:"account_purpose",label:me(e,t)+"How are you planning to use the BioDigital Human?",hint:t?"Help us personalize your experience.":"We'll set up your experience accordingly.",responses:[{value:te.a.PersonalUse,label:"For myself",tag:t?"":"Free for 1 Person",icon:"user",content:pe[te.a.PersonalUse]},{value:te.a.Education,label:"With my students",tag:i,icon:"user-friends",content:pe[te.a.Education]},{value:te.a.Business,label:"With my business team",tag:i,icon:"user-friends",content:pe[te.a.Business]}].filter((function(e){return n===ie.Individual?e.value===te.a.PersonalUse:n!==ie.Team||e.value!==te.a.PersonalUse})),other:!1}}function de(e){var t=function(e){return e===te.a.Education?ce:e===te.a.Business?ae:[]}(e);return e===te.a.Education?{account_setting:"account_field",label:"What level of education?",hint:"Help us personalize your experience.",responses:be(t),other:!0}:e===te.a.Business?{account_setting:"account_field",label:"What field do you work in?",hint:"Help us personalize your experience.",responses:be(t),other:!0}:void 0}function fe(e,t,n,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{account_setting:"account_role",label:(c?me(e,i):"")+"What role best describes you?",hint:"Help us personalize your experience.",responses:be(function(e,t){switch(e){case te.a.Education:return re;case te.a.Business:return le[t]||[];case te.a.PersonalUse:default:return oe}}(t,n)),other:!0}}function me(e,t){var n=e.first_name;return t?"Welcome back, ".concat(n,"! "):""}var he,ve=[[["","content-panel-tags",""]],[["","content-panel-actions",""]],"*"],xe=["[content-panel-tags]","[content-panel-actions]","*"],ye=((he=function(){function e(){u(this,e),this.label=""}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||he)},he.\u0275cmp=V.Jb({type:he,selectors:[["app-content-panel"]],inputs:{label:"label"},ngContentSelectors:xe,decls:11,vars:1,consts:[[1,"content-panel"],[1,"content-panel__header"],[1,"content-panel__label"],[1,"text-18","text-semibold","mr-2"],[1,"content-panel__actions"],[1,"content-panel__body"]],template:function(e,t){1&e&&(V.lc(ve),V.Vb(0,"div",0),V.Vb(1,"div",1),V.Vb(2,"div",2),V.Vb(3,"span",3),V.Pc(4),V.Ub(),V.Vb(5,"div"),V.kc(6),V.Ub(),V.Ub(),V.Vb(7,"div",4),V.kc(8,1),V.Ub(),V.Ub(),V.Vb(9,"div",5),V.kc(10,2),V.Ub(),V.Ub()),2&e&&(V.Db(4),V.Qc(t.label))},styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.content-panel__header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-flow:wrap;margin-bottom:20px;min-height:36px}.content-panel__label[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap}.content-panel__actions[_ngcontent-%COMP%]{flex-grow:0}"]}),he);function Pe(e,t){1&e&&V.kc(0,2,["*ngIf","mode === 'view'"])}function _e(e,t){1&e&&V.kc(0,3,["*ngIf","mode === 'edit'"])}function Oe(e,t){1&e&&V.kc(0,4,["*ngIf","mode === 'view'"])}function Ce(e,t){1&e&&(V.Tb(0),V.kc(1,5),V.Sb())}var ke,Ue,Me=[[["","panel-view-tags",""]],"*",[["","panel-view-actions",""]],[["","panel-edit-actions",""]],[["","panel-view",""]],[["","panel-edit",""]]],we=["[panel-view-tags]","*","[panel-view-actions]","[panel-edit-actions]","[panel-view]","[panel-edit]"],De=((ke=function(){function e(t){u(this,e),this.changeDetectorRef=t,this._mode="view"}return b(e,[{key:"mode",get:function(){return this._mode},set:function(e){e!==this.mode&&(this._mode=e,this.changeDetectorRef.markForCheck())}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ke)(V.Pb(V.i))},ke.\u0275cmp=V.Jb({type:ke,selectors:[["app-account-panel"]],inputs:{label:"label",mode:"mode"},ngContentSelectors:we,decls:9,vars:5,consts:[[3,"label"],["content-panel-tags",""],["content-panel-actions",""],[4,"ngIf"]],template:function(e,t){1&e&&(V.lc(Me),V.Vb(0,"app-content-panel",0),V.Tb(1,1),V.kc(2),V.Sb(),V.Vb(3,"div",2),V.Nc(4,Pe,1,0,"ng-content",3),V.Nc(5,_e,1,0,"ng-content",3),V.Ub(),V.kc(6,1),V.Nc(7,Oe,1,0,"ng-content",3),V.Nc(8,Ce,2,0,"ng-container",3),V.Ub()),2&e&&(V.mc("label",t.label),V.Db(4),V.mc("ngIf","view"===t.mode),V.Db(1),V.mc("ngIf","edit"===t.mode),V.Db(2),V.mc("ngIf","view"===t.mode),V.Db(1),V.mc("ngIf","edit"===t.mode))},directives:[ye,m.p],styles:[""],changeDetection:0}),ke),Se=[{name:"Afghanistan",code:"AF"},{name:"Aland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua And Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas The",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bonaire, Sint Eustatius and Saba",code:"BQ"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo The Democratic Republic Of The",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire (Ivory Coast)",code:"CI"},{name:"Croatia (Hrvatska)",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cura\xe7ao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"East Timor",code:"TL"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji Islands",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia The",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey and Alderney",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Honduras",code:"HN"},{name:"Hong Kong S.A.R.",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea North",code:"KP"},{name:"Korea South",code:"KR"},{name:"Kosovo",code:"XK"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Laos",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macau S.A.R.",code:"MO"},{name:"Macedonia",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Man (Isle of)",code:"IM"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia",code:"FM"},{name:"Moldova",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands The",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua new Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn Island",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russia",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts And Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent And The Grenadines",code:"VC"},{name:"Saint-Barthelemy",code:"BL"},{name:"Saint-Martin (French part)",code:"MF"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard And Jan Mayen Islands",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syria",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad And Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks And Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Vatican City State (Holy See)",code:"VA"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands (British)",code:"VG"},{name:"Virgin Islands (US)",code:"VI"},{name:"Wallis And Futuna Islands",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],Ve=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],Re=c("dNgK"),Te=c("IlST"),je=[[["","card-header",""]],[["","card-content",""]]],Ie=["[card-header]","[card-content]"],ze=((Ue=function(){function e(){u(this,e)}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ue)},Ue.\u0275cmp=V.Jb({type:Ue,selectors:[["app-account-summary-card"]],ngContentSelectors:Ie,decls:6,vars:2,consts:[[1,"card"],[1,"text-semibold","text-14"],["cardHeader",""],[1,"text-12"]],template:function(e,t){if(1&e&&(V.lc(je),V.Vb(0,"div",0),V.Vb(1,"div",1,2),V.kc(3),V.Ub(),V.Vb(4,"div",3),V.kc(5,1),V.Ub(),V.Ub()),2&e){var n=V.yc(2);V.Db(1),V.Hb("mb-3",n.children.length)}},styles:[".card[_ngcontent-%COMP%]{border:1px solid #d7e0ea;border-radius:4px;padding:16px 20px}.card__header[_ngcontent-%COMP%]{color:#1c2a3f}.card__content[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),Ue),Ne=c("Y8QC"),Ae=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Fe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Le(e,t){if(1&e&&(V.Vb(0,"div",35),V.Pc(1),V.Ub()),2&e){var n=V.gc();V.Db(1),V.Rc(" ",n.name," ")}}function Ee(e,t){if(1&e&&(V.Vb(0,"option",42),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.value),V.Db(1),V.Rc(" ",n.value," ")}}function Be(e,t){if(1&e&&V.Qb(0,"input",43),2&e){var n=V.gc(3);V.mc("placeholder",null==n.accountFieldQuestion?null:n.accountFieldQuestion.hint)}}function Qe(e,t){if(1&e&&(V.Vb(0,"app-form-field",37),V.Vb(1,"select",38),V.Vb(2,"optgroup",39),V.Nc(3,Ee,2,2,"option",29),V.Vb(4,"option",40),V.Pc(5,"Other"),V.Ub(),V.Ub(),V.Ub(),V.Nc(6,Be,1,1,"input",41),V.Ub()),2&e){var n=V.gc(2);V.mc("label",n.selectedPurpose===n.accountPurposeEnum.Education?"Education":"Field"),V.Db(2),V.mc("label",n.accountFieldQuestion.label),V.Db(1),V.mc("ngForOf",n.accountFieldQuestion.responses),V.Db(3),V.mc("ngIf",n.otherFieldEnabled)}}function $e(e,t){if(1&e&&V.Nc(0,Qe,7,4,"app-form-field",36),2&e){var n=V.gc();V.mc("ngIf",n.accountFieldQuestion)}}function qe(e,t){if(1&e&&(V.Vb(0,"option",42),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.value),V.Db(1),V.Rc(" ",n.value," ")}}function Ge(e,t){if(1&e&&V.Qb(0,"input",43),2&e){var n=V.gc(3);V.mc("placeholder",null==n.accountRoleQuestion?null:n.accountRoleQuestion.hint)}}function We(e,t){if(1&e&&(V.Vb(0,"app-form-field",45),V.Vb(1,"select",46),V.Vb(2,"optgroup",39),V.Nc(3,qe,2,2,"option",29),V.Vb(4,"option",40),V.Pc(5,"Other"),V.Ub(),V.Ub(),V.Ub(),V.Nc(6,Ge,1,1,"input",41),V.Ub()),2&e){var n=V.gc(2);V.Db(2),V.mc("label",n.accountRoleQuestion.label),V.Db(1),V.mc("ngForOf",n.accountRoleQuestion.responses),V.Db(3),V.mc("ngIf",n.otherRoleEnabled)}}function Je(e,t){if(1&e&&V.Nc(0,We,7,3,"app-form-field",44),2&e){var n=V.gc();V.mc("ngIf",n.accountRoleQuestion)}}function He(e,t){1&e&&V.Rb(0)}function Ke(e,t){if(1&e&&(V.Tb(0),V.Nc(1,He,1,0,"ng-container",47),V.Sb()),2&e){V.gc();var n=V.yc(37);V.Db(1),V.mc("ngTemplateOutlet",n)}}function Ye(e,t){if(1&e&&(V.Vb(0,"option",42),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.value),V.Db(1),V.Rc(" ",n.value," ")}}function Ze(e,t){if(1&e&&(V.Vb(0,"app-form-field",51),V.Vb(1,"select",52),V.Vb(2,"optgroup",39),V.Nc(3,Ye,2,2,"option",29),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(2),V.mc("label",n.accountPurposeQuestion.label),V.Db(1),V.mc("ngForOf",n.accountPurposeQuestion.responses)}}function Xe(e,t){1&e&&V.Rb(0)}function et(e,t){if(1&e&&(V.Tb(0),V.Nc(1,Xe,1,0,"ng-container",47),V.Sb()),2&e){V.gc(2);var n=V.yc(37);V.Db(1),V.mc("ngTemplateOutlet",n)}}function tt(e,t){1&e&&V.Rb(0)}function nt(e,t){1&e&&V.Rb(0)}function it(e,t){if(1&e&&(V.Tb(0),V.Nc(1,tt,1,0,"ng-container",47),V.Nc(2,nt,1,0,"ng-container",47),V.Sb()),2&e){V.gc(2);var n=V.yc(37),i=V.yc(35);V.Db(1),V.mc("ngTemplateOutlet",n),V.Db(1),V.mc("ngTemplateOutlet",i)}}function ct(e,t){1&e&&V.Rb(0)}function at(e,t){1&e&&V.Rb(0)}function ot(e,t){if(1&e&&(V.Tb(0),V.Nc(1,ct,1,0,"ng-container",47),V.Nc(2,at,1,0,"ng-container",47),V.Sb()),2&e){V.gc(2);var n=V.yc(35),i=V.yc(37);V.Db(1),V.mc("ngTemplateOutlet",n),V.Db(1),V.mc("ngTemplateOutlet",i)}}function rt(e,t){if(1&e&&(V.Nc(0,Ze,4,2,"app-form-field",48),V.Tb(1,49),V.Nc(2,et,2,1,"ng-container",50),V.Nc(3,it,3,2,"ng-container",50),V.Nc(4,ot,3,2,"ng-container",50),V.Sb()),2&e){var n=V.gc();V.mc("ngIf",n.accountPurposeQuestion),V.Db(1),V.mc("ngSwitch",n.selectedPurpose),V.Db(1),V.mc("ngSwitchCase",n.accountPurposeEnum.PersonalUse),V.Db(1),V.mc("ngSwitchCase",n.accountPurposeEnum.Education),V.Db(1),V.mc("ngSwitchCase",n.accountPurposeEnum.Business)}}function st(e,t){if(1&e&&(V.Vb(0,"option",42),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.name),V.Db(1),V.Rc(" ",n.name," ")}}function lt(e,t){if(1&e&&(V.Vb(0,"option",42),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.code),V.Db(1),V.Rc(" ",n.name," ")}}var ut,pt=((ut=function(){function e(t,n,i,c,a){u(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.changeDetectorRef=c,this.snackBar=a,this.countries=Se,this.states=Ve,this.accountPurposeEnum=te.a,this.name="",this.address="",this.demographic="",this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initAccountSettingsListeners(),this.initProfileListeners(),this.formatProfileFields()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){this.form=this.formBuilder.group({first_name:["",H.C.required],last_name:["",H.C.required],city:[""],state:[""],country:[""],account_settings:this.formBuilder.group({account_purpose:this.formBuilder.group({value:[""],description:[""]}),account_role:this.formBuilder.group({value:[""],description:[""]}),account_field:this.formBuilder.group({value:[""],description:[""]})})})}},{key:"initAccountSettingsListeners",value:function(){var e=this,t=this.form.get("account_settings"),n=t.get("account_purpose"),i=t.get("account_field"),c=t.get("account_role"),a=function(e,t){return Object(P.isEqual)(e,t)};n.valueChanges.pipe(Object(Y.a)(a),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.value,a=e.store.selectSnapshot(w.a.getUserProfile);e.setQuestions(a,n),i.patchValue({value:"",description:""}),c.patchValue({value:"",description:""}),e.changeDetectorRef.markForCheck()})),i.valueChanges.pipe(Object(Y.a)(a),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.value,i=fe(e.store.selectSnapshot(w.a.getUserProfile),e.selectedPurpose,n,!0);i.responses.length>0&&(e.accountRoleQuestion=i),e.changeDetectorRef.markForCheck()})),Object(K.b)(n.valueChanges,i.valueChanges,c.valueChanges).pipe(Object(Y.a)(a),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=o(t,3),a=n[0],r=n[1],s=n[2],l=a.value,u=r.value,p=s.value;i.enable(),c.enable(),l!==te.a.Business||u?l!==te.a.Education||p||i.disable():c.disable(),e.selectedPurpose=l,e.selectedField=u,e.selectedRole=p,e.otherFieldEnabled="Other"===u,e.otherRoleEnabled="Other"===p,e.changeDetectorRef.markForCheck()}))}},{key:"initProfileListeners",value:function(){var e=this;this.userProfile$.pipe(Object(C.a)((function(e){return!Object(P.isNil)(e)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){Object(P.isNil)(e.accountPurposeQuestion)&&e.setQuestions(t,te.a.PersonalUse);var n=e.getUserAccountSettings();e.setFormValues(t,n),e.changeDetectorRef.markForCheck()})),this.actions.pipe(Object(y.l)(W.rb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new W.u(!0)),e.form.markAsPristine(),e.panel.mode="view"})),this.actions.pipe(Object(y.l)(W.qb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.snackBar.open("There was an error updating your user profile.")}))}},{key:"formatProfileFields",value:function(){var e=this;this.userProfile$.pipe(Object(C.a)((function(e){return!Object(P.isNil)(e)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.formatProfile(t),e.changeDetectorRef.markForCheck()}))}},{key:"handleEditClick",value:function(){this.panel.mode="edit"}},{key:"handleCancelClick",value:function(){this.setFormValues(this.store.selectSnapshot(w.a.getUserProfile),this.getUserAccountSettings()),this.form.markAsPristine(),this.panel.mode="view"}},{key:"handleSaveClick",value:function(){this.saveProfile()}},{key:"getUserAccountSettings",value:function(){var e=this.store.selectSnapshot(w.a.getUserAccountSettings),t=this.store.selectSnapshot(J.a.getOrganizationAccountSettings);return Object(Z.b)([].concat(a(e),a(t)))}},{key:"saveProfile",value:function(){var e=this.getUserProfileFromValues(this.form.value);this.store.dispatch(new W.pb(e)),this.changeDetectorRef.markForCheck()}},{key:"setQuestions",value:function(e,t){this.accountPurposeQuestion=ge(e,!1),this.accountFieldQuestion=de(t),this.accountRoleQuestion=fe(e,t,"",!1)}},{key:"setFormValues",value:function(e,t){this.form.patchValue(Object.assign(Object.assign({},e),{account_settings:t}))}},{key:"getUserProfileFromValues",value:function(e){var t=e.account_settings,n=Object(Z.a)(t||{},!0);return Object.assign(Object.assign({},e),{account_settings:n})}},{key:"formatProfile",value:function(e){var t=e.first_name,n=e.last_name,i=e.city,c=e.state,a=e.country;this.name=this.formatValues([t,n]," "),this.address=this.formatValues([i,c,a],", ");var o=this.getUserAccountSettings();this.demographic=this.formatDemographic(o)}},{key:"formatDemographic",value:function(e){var t=e.account_field||{value:"",description:""},n=e.account_role||{value:"",description:""};return this.formatValues(["Other"===t.value?t.description:t.value,"Other"===n.value?n.description:n.value]," ")}},{key:"formatValues",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter(Boolean).join(t)}}]),e}()).\u0275fac=function(e){return new(e||ut)(V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(V.i),V.Pb(Re.b))},ut.\u0275cmp=V.Jb({type:ut,selectors:[["app-account-profile"]],viewQuery:function(e,t){var n;1&e&&V.Jc(De,!0),2&e&&V.xc(n=V.dc())&&(t.panel=n.first)},decls:62,vars:23,consts:[["label","Profile"],["panel",""],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["panel-view",""],["card-header","",4,"ngIf"],["card-content",""],["panel-edit","",1,"profile"],[1,"profile__notice","mb-7","text-12"],["href","https://www.biodigital.com/privacy","target","_blank",1,"text-link","text-underline"],["href","https://support.biodigital.com/hc/en-us/articles/360054841794-What-information-does-BioDigital-collect-about-me-","target","_blank",1,"text-link","text-underline"],[3,"formGroup"],["label","Email","theme","light",1,"mb-2"],["type","email",1,"input",3,"value","disabled"],[1,"flex","mb-2"],["label","First Name","theme","light",1,"flex-grow","flex-50","pr-2"],["type","email","formControlName","first_name",1,"input"],["label","Last Name","theme","light",1,"flex-grow","flex-50","pl-2"],["type","email","formControlName","last_name",1,"input"],["formGroupName","account_settings"],["fieldTemplate",""],["roleTemplate",""],[4,"ngIf","ngIfElse"],["standardUserTemplate",""],["label","City","theme","light",1,"flex-grow","flex-50","pr-2"],["type","text","formControlName","city",1,"input"],["label","State","theme","light",1,"flex-grow","flex-50","pl-2"],["formControlName","state",1,"input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["label","Country","theme","light",1,"pb-2"],["placeholder","Select Country","formControlName","country",1,"input"],[1,"flex","justify-end","mt-4"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"disabled","click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"],["card-header",""],["theme","light","class","pb-2","formGroupName","account_field",3,"label",4,"ngIf"],["theme","light","formGroupName","account_field",1,"pb-2",3,"label"],["placeholder","Select Field","formControlName","value",1,"input"],[3,"label"],["value","Other"],["type","text","class","input mt-2","formControlName","description",3,"placeholder",4,"ngIf"],[3,"value"],["type","text","formControlName","description",1,"input","mt-2",3,"placeholder"],["label","Role","theme","light","class","pb-2","formGroupName","account_role",4,"ngIf"],["label","Role","theme","light","formGroupName","account_role",1,"pb-2"],["placeholder","Select Role","formControlName","value",1,"input"],[4,"ngTemplateOutlet"],["label","Purpose","theme","light","class","pb-2","formGroupName","account_purpose",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["label","Purpose","theme","light","formGroupName","account_purpose",1,"pb-2"],["placeholder","Select Purpose","formControlName","value",1,"input"]],template:function(e,t){if(1&e&&(V.Vb(0,"app-account-panel",0,1),V.Vb(2,"span",2),V.Vb(3,"button",3),V.cc("click",(function(){return t.handleEditClick()})),V.Pc(4," Edit "),V.Ub(),V.Ub(),V.Vb(5,"div",4),V.Vb(6,"app-account-summary-card"),V.Nc(7,Le,2,1,"div",5),V.Vb(8,"div",6),V.Vb(9,"div"),V.Pc(10),V.hc(11,"async"),V.Ub(),V.Vb(12,"div"),V.Pc(13),V.Ub(),V.Vb(14,"div"),V.Pc(15),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(16,"div",7),V.Vb(17,"div",8),V.Pc(18," This information is optional, but by entering it we can provide a more personal experience, and we will always keep it secure. See our "),V.Vb(19,"a",9),V.Pc(20,"privacy policy"),V.Ub(),V.Pc(21," for details. "),V.Vb(22,"a",10),V.Pc(23,"What other personal information does BioDigital store?"),V.Ub(),V.Ub(),V.Vb(24,"form",11),V.Vb(25,"app-form-field",12),V.Qb(26,"input",13),V.hc(27,"async"),V.Ub(),V.Vb(28,"div",14),V.Vb(29,"app-form-field",15),V.Qb(30,"input",16),V.Ub(),V.Vb(31,"app-form-field",17),V.Qb(32,"input",18),V.Ub(),V.Ub(),V.Tb(33,19),V.Nc(34,$e,1,1,"ng-template",null,20,V.Oc),V.Nc(36,Je,1,1,"ng-template",null,21,V.Oc),V.Nc(38,Ke,2,1,"ng-container",22),V.hc(39,"async"),V.Nc(40,rt,5,5,"ng-template",null,23,V.Oc),V.Sb(),V.Vb(42,"div",14),V.Vb(43,"app-form-field",24),V.Qb(44,"input",25),V.Ub(),V.Vb(45,"app-form-field",26),V.Vb(46,"select",27),V.Vb(47,"option",28),V.Pc(48,"-- Select a State --"),V.Ub(),V.Nc(49,st,2,2,"option",29),V.Ub(),V.Ub(),V.Ub(),V.Vb(50,"app-form-field",30),V.Vb(51,"select",31),V.Vb(52,"option",28),V.Pc(53,"-- Select a Country --"),V.Ub(),V.Nc(54,lt,2,2,"option",29),V.Ub(),V.Ub(),V.Vb(55,"div",32),V.Vb(56,"button",33),V.cc("click",(function(){return t.handleCancelClick()})),V.hc(57,"async"),V.Pc(58," Cancel "),V.Ub(),V.Vb(59,"button",34),V.cc("click",(function(){return t.handleSaveClick()})),V.hc(60,"async"),V.Pc(61," Save Changes "),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e){var n,i,c=V.yc(41);V.Db(7),V.mc("ngIf",t.name),V.Db(3),V.Qc(null==(n=V.ic(11,13,t.userProfile$))?null:n.email),V.Db(3),V.Qc(t.demographic),V.Db(2),V.Qc(t.address),V.Db(9),V.mc("formGroup",t.form),V.Db(2),V.mc("value",null==(i=V.ic(27,15,t.userProfile$))?null:i.email)("disabled",!0),V.Db(12),V.mc("ngIf",V.ic(39,17,t.hasOrganization$))("ngIfElse",c),V.Db(11),V.mc("ngForOf",t.states),V.Db(5),V.mc("ngForOf",t.countries),V.Db(2),V.mc("disabled",V.ic(57,19,t.profileUpdating$)),V.Db(3),V.mc("disabled",!t.form.dirty||t.form.invalid||V.ic(60,21,t.profileUpdating$))}},directives:[De,Te.a,ze,m.p,H.E,H.s,H.j,Ne.a,H.c,H.r,H.i,H.k,H.B,H.v,H.D,m.o,m.u,m.r,m.s],pipes:[m.b],styles:[".profile__notice[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),Ae([Object(y.e)(w.a.getUserProfile),Fe("design:type",O.a)],ut.prototype,"userProfile$",void 0),Ae([Object(y.e)(J.a.hasOrganization),Fe("design:type",O.a)],ut.prototype,"hasOrganization$",void 0),Ae([Object(y.e)(w.a.getProfileUpdating),Fe("design:type",O.a)],ut.prototype,"profileUpdating$",void 0),ut),bt=c("f0Cb"),gt=c("Es8U"),dt=c("AytR"),ft=c("zP1m"),mt=c("kmnG"),ht=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function vt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",10),V.cc("click",(function(){return V.Cc(n),V.gc().handleEditClick()})),V.Pc(1," Edit "),V.Ub()}}function xt(e,t){1&e&&(V.Tb(0),V.Pc(1," You've signed in with with your Google Account. Please visit your Google Account to manage your password. "),V.Sb())}function yt(e,t){1&e&&(V.Tb(0),V.Pc(1," Change the password for your account. "),V.Sb())}function Pt(e,t){if(1&e&&(V.Vb(0,"div"),V.Vb(1,"div",11),V.Vb(2,"app-message-toggle",12),V.Pc(3),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.mc("shown",n.successMessage),V.Db(1),V.Rc(" ",n.successMessage," ")}}function _t(e,t){if(1&e&&(V.Vb(0,"div",27),V.Vb(1,"mat-error"),V.Pc(2),V.Ub(),V.Ub()),2&e){var n=V.gc(3);V.Db(2),V.Rc(" New password must be ",n.minPasswordLength," characters or longer. ")}}function Ot(e,t){1&e&&(V.Vb(0,"div",27),V.Vb(1,"mat-error"),V.Pc(2," Passwords must match. "),V.Ub(),V.Ub())}function Ct(e,t){if(1&e){var n=V.Wb();V.Vb(0,"form",15),V.Vb(1,"div",11),V.Vb(2,"app-message-toggle",16),V.Pc(3),V.Ub(),V.Ub(),V.Vb(4,"app-form-field",17),V.Qb(5,"input",18),V.Ub(),V.Vb(6,"app-form-field",19),V.Qb(7,"input",20),V.Nc(8,_t,3,1,"div",21),V.Ub(),V.Vb(9,"app-form-field",22),V.Qb(10,"input",23),V.Nc(11,Ot,3,0,"div",21),V.Ub(),V.Vb(12,"div",24),V.Vb(13,"button",25),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleCancelClick()})),V.Pc(14," Cancel "),V.Ub(),V.Vb(15,"button",26),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleSaveClick()})),V.Pc(16," Save Password "),V.Ub(),V.Ub(),V.Ub()}if(2&e){var i=V.gc(2);V.mc("formGroup",i.form),V.Db(2),V.mc("shown",!i.form.touched&&i.errorMessage),V.Db(1),V.Rc(" ",i.errorMessage," "),V.Db(5),V.mc("ngIf",null==i.form.errors?null:i.form.errors.invalidLength),V.Db(3),V.mc("ngIf",null==i.form.errors?null:i.form.errors.passwordsMismatch),V.Db(2),V.mc("disabled",i.updating),V.Db(2),V.mc("disabled",i.form.invalid||i.updating)}}function kt(e,t){if(1&e&&(V.Vb(0,"div",13),V.Pc(1),V.Ub(),V.Nc(2,Ct,17,7,"form",14)),2&e){var n=V.gc();V.Db(1),V.Rc(" Your password must be ",n.minPasswordLength," characters or longer. "),V.Db(1),V.mc("ngIf",!n.updated)}}var Ut,Mt=((Ut=function(){function e(t,n,i,c){u(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.changeDetectorRef=c,this.minPasswordLength=dt.a.minPasswordLength,this.updating=!1,this.updated=!1,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initUpdateListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){this.form=this.formBuilder.group({current_password:["",H.C.required],new_password:["",H.C.required],confirm_new_password:["",H.C.required]},{validators:this.passwordValidator})}},{key:"initUpdateListeners",value:function(){var e=this;this.actions.pipe(Object(y.l)(W.mb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.updating=!0,e.changeDetectorRef.markForCheck()})),this.actions.pipe(Object(y.l)(W.ob),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.form.markAsUntouched(),e.updating=!1,e.updated=!0,e.errorMessage="",e.successMessage="Your password was successfully updated.",e.changeDetectorRef.markForCheck(),setTimeout((function(){e.resetForm(),e.resetState(),e.panel.mode="view"}),5e3)})),this.actions.pipe(Object(y.l)(W.nb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.form.markAsUntouched(),e.updating=!1,e.updated=!1,e.errorMessage=Object(gt.a)(t.error)||"Your password could not be updated. Please try again.",e.successMessage="",e.changeDetectorRef.markForCheck()}))}},{key:"handleEditClick",value:function(){this.panel.mode="edit"}},{key:"handleCancelClick",value:function(){this.resetForm(),this.resetState(),this.panel.mode="view"}},{key:"handleSaveClick",value:function(){this.updatePassword()}},{key:"resetForm",value:function(){this.form.reset()}},{key:"resetState",value:function(){this.updating=!1,this.updated=!1,this.errorMessage="",this.successMessage=""}},{key:"updatePassword",value:function(){var e=this.form.value,t=e.current_password,n=e.new_password,i=e.confirm_new_password;this.store.dispatch(new W.mb(t,n,i))}},{key:"passwordValidator",value:function(e){var t=e.value,n=t.new_password,i=t.confirm_new_password,c=n&&i&&n!==i,a=n&&n.length<dt.a.minPasswordLength;return c||a?{passwordsMismatch:c,invalidLength:a}:null}}]),e}()).\u0275fac=function(e){return new(e||Ut)(V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(V.i))},Ut.\u0275cmp=V.Jb({type:Ut,selectors:[["app-account-password"]],viewQuery:function(e,t){var n;1&e&&V.Jc(De,!0),2&e&&V.xc(n=V.dc())&&(t.panel=n.first)},decls:13,vars:9,consts:[["label","Password"],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click",4,"ngIf"],["panel-view",""],[1,"text-14",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["panel-edit",""],[4,"ngIf","ngIfElse"],["changePasswordTemplate",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],[1,"mv-6"],["type","message",3,"shown"],[1,"text-14","mb-7"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","error","icon","exclamation-circle",3,"shown"],["label","Current Password","theme","light",1,"mb-2"],["type","password","formControlName","current_password",1,"input"],["label","New Password","theme","light",1,"mb-2"],["type","password","formControlName","new_password",1,"input"],["class","mt-1",4,"ngIf"],["label","Confirm New Password","theme","light",1,"mb-2"],["type","password","formControlName","confirm_new_password",1,"input"],[1,"flex","justify-end","mt-4"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"disabled","click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"],[1,"mt-1"]],template:function(e,t){if(1&e&&(V.Vb(0,"app-account-panel",0),V.Vb(1,"div",1),V.Nc(2,vt,2,0,"button",2),V.hc(3,"async"),V.Ub(),V.Vb(4,"div",3),V.Vb(5,"div",4),V.hc(6,"async"),V.Nc(7,xt,2,0,"ng-container",5),V.Nc(8,yt,2,0,"ng-container",6),V.Ub(),V.Ub(),V.Vb(9,"div",7),V.Nc(10,Pt,4,2,"div",8),V.Nc(11,kt,3,2,"ng-template",null,9,V.Oc),V.Ub(),V.Ub()),2&e){var n,i,c=V.yc(12);V.Db(2),V.mc("ngIf",!(null!=(n=V.ic(3,5,t.userProfile$))&&n.is_third_party)),V.Db(3),V.mc("ngSwitch",null==(i=V.ic(6,7,t.userProfile$))?null:i.third_party_provider_name),V.Db(2),V.mc("ngSwitchCase","Google"),V.Db(3),V.mc("ngIf",t.updated)("ngIfElse",c)}},directives:[De,m.p,m.r,m.s,m.t,Te.a,ft.a,H.E,H.s,H.j,Ne.a,H.c,H.r,H.i,mt.b],pipes:[m.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(w.a.getUserProfile),ht("design:type",O.a)],Ut.prototype,"userProfile$",void 0),Ut),wt=c("L6yT"),Dt=c("3E0/"),St=c("aTd2"),Vt=c("odcc"),Rt=c("TEF2"),Tt=c("lR5k"),jt=c("PmOP");function It(e,t){1&e&&V.Rb(0)}function zt(e,t){if(1&e&&(V.Vb(0,"div",7),V.Pc(1," This subscription has been purchased through iTunes. "),V.Nc(2,It,1,0,"ng-container",8),V.Ub()),2&e){V.gc(2);var n=V.yc(7);V.Db(2),V.mc("ngTemplateOutlet",n)}}function Nt(e,t){1&e&&V.Rb(0)}function At(e,t){if(1&e&&(V.Vb(0,"div",7),V.Pc(1," This subscription has been purchased through Google Play. "),V.Nc(2,Nt,1,0,"ng-container",8),V.Ub()),2&e){V.gc(2);var n=V.yc(7);V.Db(2),V.mc("ngTemplateOutlet",n)}}function Ft(e,t){if(1&e&&(V.Vb(0,"div",6),V.Nc(1,zt,3,1,"div",4),V.Nc(2,At,3,1,"div",4),V.Ub()),2&e){var n=V.gc(2);V.mc("ngSwitch",n.subscription.subscription_provider),V.Db(1),V.mc("ngSwitchCase","apple"),V.Db(1),V.mc("ngSwitchCase","google")}}function Lt(e,t){1&e&&(V.Vb(0,"div",7),V.Pc(1," Premium access will remain active until your renewal date passes. "),V.Ub())}function Et(e,t){1&e&&(V.Vb(0,"div",7),V.Pc(1," Please visit your iTunes account to manage or cancel your subscription. "),V.Ub())}function Bt(e,t){1&e&&(V.Vb(0,"div",7),V.Pc(1," Please visit your Google Play account to manage your subscription. "),V.Ub())}function Qt(e,t){if(1&e&&(V.Vb(0,"div",7),V.Pc(1," Your subscription has been canceled. "),V.Tb(2,2),V.Nc(3,Lt,2,0,"div",4),V.Nc(4,Et,2,0,"div",4),V.Nc(5,Bt,2,0,"div",4),V.Sb(),V.Ub()),2&e){var n=V.gc(2);V.Db(2),V.mc("ngSwitch",n.subscription.subscription_provider),V.Db(1),V.mc("ngSwitchCase","braintree"),V.Db(1),V.mc("ngSwitchCase","apple"),V.Db(1),V.mc("ngSwitchCase","google")}}function $t(e,t){1&e&&V.Rb(0)}function qt(e,t){if(1&e&&(V.Vb(0,"div",7),V.Pc(1," Your payment is past due. "),V.Nc(2,$t,1,0,"ng-container",8),V.Ub()),2&e){V.gc();var n=V.yc(7);V.Db(2),V.mc("ngTemplateOutlet",n)}}function Gt(e,t){1&e&&V.Rb(0)}function Wt(e,t){if(1&e&&(V.Vb(0,"div",7),V.Pc(1," Your subscription has been canceled or expired. "),V.Nc(2,Gt,1,0,"ng-container",8),V.Ub()),2&e){V.gc();var n=V.yc(7);V.Db(2),V.mc("ngTemplateOutlet",n)}}function Jt(e,t){1&e&&(V.Vb(0,"div",7),V.Pc(1," Please update your payment info for premium access. "),V.Ub())}function Ht(e,t){1&e&&(V.Vb(0,"div",7),V.Pc(1," Please visit your iTunes account to manage or cancel your subscription. "),V.Ub())}function Kt(e,t){1&e&&(V.Vb(0,"div",7),V.Pc(1," Please visit your Google Play account to manage your subscription. "),V.Ub())}function Yt(e,t){if(1&e&&(V.Tb(0,2),V.Nc(1,Jt,2,0,"div",4),V.Nc(2,Ht,2,0,"div",4),V.Nc(3,Kt,2,0,"div",4),V.Sb()),2&e){var n=V.gc(2);V.mc("ngSwitch",n.subscription.subscription_provider),V.Db(1),V.mc("ngSwitchCase","braintree"),V.Db(1),V.mc("ngSwitchCase","apple"),V.Db(1),V.mc("ngSwitchCase","google")}}function Zt(e,t){if(1&e&&(V.Vb(0,"div",1),V.Tb(1,2),V.Nc(2,Ft,3,3,"div",3),V.Nc(3,Qt,6,4,"div",4),V.Nc(4,qt,3,1,"div",4),V.Nc(5,Wt,3,1,"div",4),V.Sb(),V.Nc(6,Yt,4,4,"ng-template",null,5,V.Oc),V.Ub()),2&e){var n=V.gc();V.Db(1),V.mc("ngSwitch",n.subscription.subscription_status),V.Db(1),V.mc("ngSwitchCase","active"),V.Db(1),V.mc("ngSwitchCase","canceled"),V.Db(1),V.mc("ngSwitchCase","past due"),V.Db(1),V.mc("ngSwitchCase","expired")}}var Xt,en=((Xt=function(){function e(){u(this,e)}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Xt)},Xt.\u0275cmp=V.Jb({type:Xt,selectors:[["app-account-status-message"]],inputs:{subscription:"subscription"},decls:1,vars:1,consts:[["class","text-14",4,"ngIf"],[1,"text-14"],[3,"ngSwitch"],["class","mb-1",3,"ngSwitch",4,"ngSwitchCase"],["class","mb-1",4,"ngSwitchCase"],["providerTpl",""],[1,"mb-1",3,"ngSwitch"],[1,"mb-1"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&V.Nc(0,Zt,8,5,"div",0),2&e&&V.mc("ngIf",t.subscription)},directives:[m.p,m.r,m.s,m.u],styles:[""],changeDetection:0}),Xt);function tn(e,t){if(1&e&&(V.Vb(0,"div",8),V.Vb(1,"div",9),V.Pc(2),V.Ub(),V.Vb(3,"div",10),V.Pc(4),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.Rc(" $",n.subscription.billing_details.next_billing_period_amount," "),V.Db(2),V.Rc(" ",n.calcPaymentFrequency(n.subscription.plan_id)," ")}}function nn(e,t){if(1&e&&(V.Tb(0),V.Vb(1,"div",11),V.Pc(2,"Renewal Date"),V.Ub(),V.Vb(3,"div",12),V.Tb(4),V.Pc(5),V.hc(6,"date"),V.Sb(),V.Ub(),V.Sb()),2&e){var n=t.$implicit,i=V.gc();V.Db(5),V.Sc(" ",V.jc(6,2,n,"longDate")," (in ",i.calcDaysRemaining(n)," days) ")}}var cn,an,on=((cn=function(){function e(){u(this,e),this.calcDaysRemaining=St.a,this.calcPaymentFrequency=St.b}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||cn)},cn.\u0275cmp=V.Jb({type:cn,selectors:[["app-account-subscription-summary"]],inputs:{subscription:"subscription"},decls:10,vars:4,consts:[["card-header","",1,"summary","flex","flex-row","justify-between"],[1,"summary__title","flex-auto"],[1,"text-16","text-semibold","text-uppercase"],["class","flex flex-column items-center",4,"ngIf"],["card-content",""],[4,"ngIf"],[1,"mv-1"],[3,"subscription"],[1,"flex","flex-column","items-center"],[1,"text-18","text-semibold"],[1,"summary__pricing","text-11"],[1,"text-12","text-dim"],[1,"text-14"]],template:function(e,t){1&e&&(V.Vb(0,"app-account-summary-card"),V.Vb(1,"div",0),V.Vb(2,"div",1),V.Vb(3,"div",2),V.Pc(4),V.Ub(),V.Ub(),V.Nc(5,tn,5,2,"div",3),V.Ub(),V.Vb(6,"div",4),V.Nc(7,nn,7,5,"ng-container",5),V.Vb(8,"div",6),V.Qb(9,"app-account-status-message",7),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(4),V.Rc(" ",null==t.subscription?null:t.subscription.subscription_type_display," "),V.Db(1),V.mc("ngIf",null==t.subscription?null:t.subscription.billing_details),V.Db(2),V.mc("ngIf",null==t.subscription||null==t.subscription.billing_details?null:t.subscription.billing_details.next_billing_date_time),V.Db(2),V.mc("subscription",t.subscription))},directives:[ze,m.p,en],pipes:[m.e],styles:[".summary__pricing[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),cn),rn=c("cp0P"),sn=c("Cfvw"),ln=c("lz5t");!function(e){e.lazyLoadScript=function(e){return new Promise((function(t,n){var i=e.src;if(document.querySelector('script[src="'.concat(i,'"]')))t();else{var c=document.createElement("script");e&&Object.entries(e).forEach((function(e){var t=o(e,2),n=t[0],i=t[1];"src"!==n&&(c.attributes[n]=i)})),c.src=i,c.onload=function(){return t()},c.onerror=function(){return n()},document.body.appendChild(c)}}))}}(an||(an={}));var un,pn=["cartElRef"],bn=[[["","cart-header",""]],[["","cart-footer",""]]],gn=["[cart-header]","[cart-footer]"],dn=[{src:"https://www.paypalobjects.com/api/checkout.js","data-version-4":"","log-level":"warn"},{src:"https://js.braintreegateway.com/web/dropin/1.24.0/js/dropin.min.js"},{src:"https://js.braintreegateway.com/web/3.73.1/js/client.min.js"},{src:"https://js.braintreegateway.com/web/3.73.1/js/data-collector.min.js"}],fn=((un=function(){function e(t,n){u(this,e),this.subscriptionService=t,this.changeRef=n,this.loading=!0,this.cartError=new V.p,this.paymentMethodRequestable=!1,this.paymentOptionSelected=!1,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.initCheckout()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"requestPayment",value:function(){var e=this;return new O.a((function(t){e.braintreeInstance||t.error(),e.braintreeInstance.requestPaymentMethod((function(n,i){if(n)t.error(n);else{var c=Object(P.get)(i,"nonce"),a=Object(P.get)(e.dataCollectorInstance,"deviceData");c&&a?(t.next({nonce:c,device_data:a}),t.complete()):t.error()}}))}))}},{key:"initCheckout",value:function(){var e=this;this.loading=!0,Object(rn.a)(dn.map((function(e){return Object(sn.a)(an.lazyLoadScript(e))}))).pipe(Object(U.a)((function(){return e.subscriptionService.getBraintreeClientToken()})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.initBraintee(t)}))}},{key:"initBraintee",value:function(e){var t=this,n=window.braintree,i={authorization:e,container:this.cartElRef.nativeElement,displayName:"BioDigital Inc.",paypal:{flow:"vault",buttonStyle:{color:"gold",shape:"rect",size:"responsive",label:"checkout"}}},c=this;n.client.create({authorization:e},(function(e,a){if(e)return c.cartError.emit("An error occurred initializing checkout"),void c.changeRef.markForCheck();n.dataCollector.create({client:a,paypal:!0},(function(e,n){if(e)return c.cartError.emit("An error occurred initializing your payment options"),void c.changeRef.markForCheck();t.dataCollectorInstance=n})),n.dropin.create(i,(function(e,t){if(c.braintreeInstance=t,c.loading=!1,e)return c.cartError.emit("An error occurred initializing your payment options:  "+e.message),void c.changeRef.markForCheck();t.isPaymentMethodRequestable()&&(c.paymentMethodRequestable=!0),t.on("paymentMethodRequestable",(function(){c.paymentMethodRequestable=!0,c.changeRef.markForCheck()})),t.on("noPaymentMethodRequestable",(function(){c.paymentMethodRequestable=!1,c.changeRef.markForCheck()})),t.on("paymentOptionSelected",(function(){c.paymentOptionSelected=!0,c.changeRef.markForCheck()})),c.changeRef.markForCheck()}))}))}}]),e}()).\u0275fac=function(e){return new(e||un)(V.Pb(ln.a),V.Pb(V.i))},un.\u0275cmp=V.Jb({type:un,selectors:[["app-account-subscription-cart"]],viewQuery:function(e,t){var n;1&e&&V.Jc(pn,!0),2&e&&V.xc(n=V.dc())&&(t.cartElRef=n.first)},outputs:{cartError:"cartError"},ngContentSelectors:gn,decls:8,vars:0,consts:[[1,"checkout"],[1,"checkout__header"],[1,"checkout__container"],["cartElRef",""],[1,"checkout__footer","mv-4"]],template:function(e,t){1&e&&(V.lc(bn),V.Vb(0,"div",0),V.Vb(1,"div",1),V.kc(2),V.Ub(),V.Vb(3,"div",2),V.Qb(4,"div",null,3),V.Ub(),V.Vb(6,"div",4),V.kc(7,1),V.Ub(),V.Ub())},styles:[""],changeDetection:0}),un),mn=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},hn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function vn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",3),V.cc("click",(function(){return V.Cc(n),V.gc().handleEnterCodeClick()})),V.Pc(1," Have a promo code? "),V.Ub()}}function xn(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"div",6),V.Vb(2,"em",7),V.Pc(3),V.hc(4,"async"),V.Ub(),V.Pc(5," Promo Code applied. "),V.Vb(6,"span",8),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleRemoveClick()})),V.Pc(7,"Remove"),V.Ub(),V.Ub(),V.Sb()}if(2&e){var i,c=V.gc(2);V.Db(3),V.Rc('"',null==(i=V.ic(4,1,c.selectedPlan$))||null==i.discount?null:i.discount.id,'"')}}function yn(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"div"),V.Vb(2,"app-form-field",9),V.Qb(3,"input",10),V.Ub(),V.Vb(4,"div",11),V.Vb(5,"button",12),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleCancelPromoClick()})),V.Pc(6," Cancel "),V.Ub(),V.Vb(7,"button",13),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleApplyPromoClick()})),V.hc(8,"async"),V.Pc(9," Apply Promo Code "),V.Ub(),V.Ub(),V.Ub(),V.Sb()}if(2&e){var i=V.gc(2);V.Db(7),V.mc("disabled",i.form.invalid||V.ic(8,1,i.checking$))}}function Pn(e,t){if(1&e&&(V.Tb(0,4),V.Nc(1,xn,8,3,"ng-container",5),V.hc(2,"async"),V.Nc(3,yn,10,3,"ng-container",5),V.hc(4,"async"),V.Sb()),2&e){var n=V.gc();V.mc("formGroup",n.form),V.Db(1),V.mc("ngIf",V.ic(2,3,n.discountApplied$)),V.Db(2),V.mc("ngIf",!V.ic(4,5,n.discountApplied$))}}var _n,On=((_n=function(){function e(t,n,i,c,a){u(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.snackBar=c,this.changeRef=a,this.ngUnsubscribe=new _.a}return b(e,[{key:"discountApplied$",get:function(){return this.selectedPlan$.pipe(Object(q.a)((function(e){return e&&e.discount})))}},{key:"ngOnInit",value:function(){this.initForm(),this.initCodeListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){this.form=this.formBuilder.group({code:["",H.C.required]})}},{key:"initCodeListeners",value:function(){var e=this;this.actions.pipe(Object(y.l)(Vt.i),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.plan;!Object(P.isNil)(n.discount)||e.snackBar.open("Invalid promo code entered, please try again.")})),this.actions.pipe(Object(y.l)(Vt.h),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.snackBar.open("There was an error applying the promo code, please try again.")}))}},{key:"handleEnterCodeClick",value:function(){this.applyingCode=!0}},{key:"handleCancelPromoClick",value:function(){this.applyingCode=!1,this.changeRef.markForCheck()}},{key:"handleApplyPromoClick",value:function(){var e=this.store.selectSnapshot(Rt.a.getSelectedPlan),t=this.form.value.code;this.store.dispatch(new Vt.g(e.plan_id,t))}},{key:"handleRemoveClick",value:function(){this.clearPromoCode(),this.store.dispatch(new Vt.m),this.applyingCode=!1,this.changeRef.markForCheck()}},{key:"clearPromoCode",value:function(){this.form.patchValue({code:""})}}]),e}()).\u0275fac=function(e){return new(e||_n)(V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(Re.b),V.Pb(V.i))},_n.\u0275cmp=V.Jb({type:_n,selectors:[["app-account-subscription-promo"]],decls:5,vars:6,consts:[[1,"promo"],["appEventFence","","class","text-link text-underline text-14",3,"click",4,"ngIf"],[3,"formGroup",4,"ngIf"],["appEventFence","",1,"text-link","text-underline","text-14",3,"click"],[3,"formGroup"],[4,"ngIf"],[1,"text-14"],[1,"text-medium"],[1,"text-link","text-underline",3,"click"],["label","Promo Code"],["type","text","formControlName","code",1,"input"],[1,"flex","justify-end","mt-4"],["type","reset","app-button","","buttonTheme","light","buttonType","default",1,"mr-2",3,"click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Nc(1,vn,2,0,"a",1),V.hc(2,"async"),V.Nc(3,Pn,5,7,"ng-container",2),V.hc(4,"async"),V.Ub()),2&e&&(V.Db(1),V.mc("ngIf",!t.applyingCode&&!V.ic(2,2,t.discountApplied$)),V.Db(2),V.mc("ngIf",t.applyingCode||V.ic(4,4,t.discountApplied$)))},directives:[m.p,jt.a,H.s,H.j,Ne.a,H.c,H.r,H.i,Te.a],pipes:[m.b],styles:[""],changeDetection:0}),mn([Object(y.e)(Rt.a.getCheckingCode),hn("design:type",O.a)],_n.prototype,"checking$",void 0),mn([Object(y.e)(Rt.a.getSelectedPlan),hn("design:type",O.a)],_n.prototype,"selectedPlan$",void 0),_n),Cn=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},kn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Un=["cart"];function Mn(e,t){if(1&e&&(V.Qb(0,"div",12),V.hc(1,"markdown")),2&e){var n=V.gc().$implicit;V.mc("innerHTML",V.ic(1,1,n.order_summary_text),V.Dc)}}function wn(e,t){if(1&e&&(V.Vb(0,"div"),V.Qb(1,"app-account-subscription-summary",10),V.Nc(2,Mn,2,3,"div",11),V.Ub()),2&e){var n=t.$implicit,i=V.gc();V.Db(1),V.mc("subscription",i.convertPlanToSubscription(n)),V.Db(1),V.mc("ngIf",n.order_summary_text)}}function Dn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-account-subscription-cart",null,13),V.Vb(2,"div",14),V.Qb(3,"app-account-subscription-promo"),V.Ub(),V.Vb(4,"div",15),V.Vb(5,"button",16),V.cc("click",(function(){return V.Cc(n),V.gc().handleCancelClick()})),V.Pc(6," Cancel "),V.Ub(),V.Vb(7,"button",17),V.cc("click",(function(){return V.Cc(n),V.gc().handlePurchaseClick()})),V.hc(8,"async"),V.Pc(9," Purchase "),V.Ub(),V.Ub(),V.Ub()}if(2&e){var i=V.yc(1),c=V.gc();V.Db(7),V.mc("disabled",!i.paymentMethodRequestable||V.ic(8,1,c.buying$))}}var Sn,Vn=((Sn=function(){function e(t,n,i,c,a,o,r){u(this,e),this.router=t,this.activatedRoute=n,this.store=i,this.actions=c,this.snackBar=a,this.markdownService=o,this.dialogService=r,this.convertPlanToSubscription=St.c,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initSubscriptionListeners(),this.store.dispatch(new Vt.j)}},{key:"ngAfterViewInit",value:function(){this.initNavigation()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){var e=this;this.plans$.pipe(Object(C.a)((function(e){return e.length>0})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new Vt.o(t[0]))}))}},{key:"initSubscriptionListeners",value:function(){var e=this;this.actions.pipe(Object(y.l)(Vt.c),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleCheckoutSuccess(t)})),this.actions.pipe(Object(y.l)(Vt.b),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleCheckoutFailure(t.error)})),this.actions.pipe(Object(y.k)(W.sb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.router.navigate(["/login/verify"])}))}},{key:"initNavigation",value:function(){var e=this;this.activatedRoute.queryParams.pipe(Object(Dt.a)(0),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleNavigation(t)}))}},{key:"handleNavigation",value:function(e){var t=e.section,n=e.mode;"subscription"===t&&"edit"===n&&(this.panel.mode="edit")}},{key:"handleLearnMoreClick",value:function(){this.dialogService.openUpgradeDialog()}},{key:"handleCancelClick",value:function(){this.panel.mode="view"}},{key:"handleUpgradeClick",value:function(){dt.a.native?this.dialogService.openUpgradeDialog():this.panel.mode="edit"}},{key:"handlePurchaseClick",value:function(){var e=this;this.cart.requestPayment().pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.purchaseSubscription(t)}),(function(t){e.snackBar.open("There was an error requesting your purchase.")}))}},{key:"purchaseSubscription",value:function(e){var t=e.nonce,n=e.device_data,i=this.store.selectSnapshot(Rt.a.getSelectedPlan),c=i.plan_id,a=i.discount;this.store.dispatch(new Vt.a({payment_method_nonce:t,device_data:n,plan_id:c,agree_with_tos:!0,discountcode:a?a.id:""}))}},{key:"handleCheckoutSuccess",value:function(e){this.snackBar.open("You've Successfully upgraded to a premium account");var t=e.request.discountcode;t&&this.store.dispatch(new W.S({type:"promocode",id:t})),window.location.href="/account/profile"}},{key:"handleCheckoutFailure",value:function(e){var t=Object(gt.a)(e)||"Sorry, but an issue has occurred purchasing your subscription. Please try again or contact us.";this.snackBar.open(t)}}]),e}()).\u0275fac=function(e){return new(e||Sn)(V.Pb(h.e),V.Pb(h.a),V.Pb(y.h),V.Pb(y.b),V.Pb(Re.b),V.Pb(Tt.c),V.Pb(R.a))},Sn.\u0275cmp=V.Jb({type:Sn,selectors:[["app-account-free-user-subscription"]],viewQuery:function(e,t){var n;1&e&&(V.Jc(De,!0),V.Vc(Un,!0)),2&e&&(V.xc(n=V.dc())&&(t.panel=n.first),V.xc(n=V.dc())&&(t.cart=n.first))},decls:22,vars:4,consts:[["label","Subscription"],["panel",""],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["panel-view","",1,"text-14"],[1,"mb-4"],[1,"text-bold"],["appEventFence","",1,"text-link","text-underline",3,"click"],["panel-edit",""],[4,"ngIf"],[3,"subscription"],["class","mv-2 text-14 html",3,"innerHTML",4,"ngIf"],[1,"mv-2","text-14","html",3,"innerHTML"],["cart",""],["cart-header","",1,"mt-4","mb-8"],["cart-footer","",1,"flex","justify-end"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"click"],["type","submit","app-button","","buttonTheme","light","buttonType","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(V.Vb(0,"app-account-panel",0,1),V.Vb(2,"span",2),V.Vb(3,"button",3),V.cc("click",(function(){return t.handleUpgradeClick()})),V.Pc(4," Upgrade "),V.Ub(),V.Ub(),V.Vb(5,"div",4),V.Vb(6,"div",5),V.Pc(7,"You have a free "),V.Vb(8,"em",6),V.Pc(9,"Personal"),V.Ub(),V.Pc(10," account."),V.Ub(),V.Vb(11,"div"),V.Pc(12," As a free user you currently have access to our basic features. Upgrade to a "),V.Vb(13,"em",6),V.Pc(14,"Personal Plus"),V.Ub(),V.Pc(15," plan to unlock full access. "),V.Vb(16,"a",7),V.cc("click",(function(){return t.handleLearnMoreClick()})),V.Pc(17,"Learn more"),V.Ub(),V.Ub(),V.Ub(),V.Vb(18,"div",8),V.Nc(19,wn,3,2,"div",9),V.hc(20,"async"),V.Nc(21,Dn,10,3,"app-account-subscription-cart",9),V.Ub(),V.Ub()),2&e){var n=V.yc(1);V.Db(19),V.mc("ngIf",V.ic(20,2,t.selectedPlan$)),V.Db(2),V.mc("ngIf","edit"===n.mode)}},directives:[De,Te.a,jt.a,m.p,on,fn,On],pipes:[m.b,Tt.b],styles:[""],changeDetection:0}),Cn([Object(y.e)(Rt.a.getPlans),kn("design:type",O.a)],Sn.prototype,"plans$",void 0),Cn([Object(y.e)(Rt.a.getSelectedPlan),kn("design:type",O.a)],Sn.prototype,"selectedPlan$",void 0),Cn([Object(y.e)(Rt.a.getBuying),kn("design:type",O.a)],Sn.prototype,"buying$",void 0),Sn),Rn=c("0IaG"),Tn=c("bSwM"),jn=c("XoCC"),In=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function zn(e,t){1&e&&(V.Vb(0,"div"),V.Vb(1,"div",12),V.Pc(2," Are you sure you want to "),V.Vb(3,"em",13),V.Pc(4,"cancel"),V.Ub(),V.Pc(5," your subscription? "),V.Ub(),V.Vb(6,"ul",14),V.Vb(7,"li",15),V.Pc(8," After cancelling your BioDigital Human subscription, your premium benefits will continue until the subscription end date. "),V.Ub(),V.Vb(9,"li",15),V.Pc(10,"You will not be billed after your subscription end date."),V.Ub(),V.Ub(),V.Vb(11,"div",16),V.Vb(12,"mat-checkbox",17),V.Vb(13,"span",18),V.Pc(14,"I confirm I want to cancel my subscription."),V.Ub(),V.Ub(),V.Ub(),V.Ub())}function Nn(e,t){1&e&&(V.Vb(0,"div",19),V.Qb(1,"app-spinner",20),V.Vb(2,"div",21),V.Pc(3,"Cancelling your subscription..."),V.Ub(),V.Ub())}var An,Fn=((An=function(){function e(t,n,i,c,a){u(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.dialogRef=c,this.snackbar=a,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){this.form=this.formBuilder.group({confirm:[!1,H.C.requiredTrue]})}},{key:"initListeners",value:function(){var e=this;this.actions.pipe(Object(y.l)(Vt.f),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.snackbar.open("Subscription successfully cancelled."),e.store.dispatch(new W.u(!0)),e.dialogRef.close()})),this.actions.pipe(Object(y.l)(Vt.e),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Object(gt.a)(t.error)||"There was an error cancelling your subscription.";e.snackbar.open(n)}))}},{key:"handleCancelClick",value:function(){this.dialogRef.close()}},{key:"handleCancelSubscriptionClick",value:function(){this.store.dispatch(new Vt.d)}}]),e}()).\u0275fac=function(e){return new(e||An)(V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(Rn.g),V.Pb(Re.b))},An.\u0275cmp=V.Jb({type:An,selectors:[["app-cancel-subscription-dialog"]],decls:21,vars:11,consts:[[1,"dialog",3,"formGroup"],["mat-dialog-title",""],[1,"flex","flex-row","justify-between"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",3,"click"],["icon","times","size","lg"],[1,"text-14","mv-4","mb-9"],[4,"ngIf"],["class","dialog__cancel flex flex-column items-center",4,"ngIf"],["mat-dialog-actions",""],[1,"flex","justify-end"],["app-button","","buttonTheme","light","buttonType","default",1,"mr-2",3,"click"],["app-button","","buttonType","primary",3,"disabled","click"],[1,"mb-6"],[1,"text-bold"],[1,"dialog__list"],[1,"mv-2"],[1,"mt-4"],["formControlName","confirm"],[2,"white-space","normal"],[1,"dialog__cancel","flex","flex-column","items-center"],["size","large"],[1,"mt-3","text-11"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"div"),V.Vb(2,"div",1),V.Vb(3,"div",2),V.Vb(4,"h1"),V.Pc(5,"Cancel Subscription"),V.Ub(),V.Vb(6,"button",3),V.cc("click",(function(){return t.handleCancelClick()})),V.Qb(7,"app-icon",4),V.Ub(),V.Ub(),V.Ub(),V.Qb(8,"mat-divider"),V.Vb(9,"div",5),V.Nc(10,zn,15,0,"div",6),V.hc(11,"async"),V.Nc(12,Nn,4,0,"div",7),V.hc(13,"async"),V.Ub(),V.Vb(14,"div",8),V.Vb(15,"div",9),V.Vb(16,"button",10),V.cc("click",(function(){return t.handleCancelClick()})),V.Pc(17," Cancel "),V.Ub(),V.Vb(18,"button",11),V.cc("click",(function(){return t.handleCancelSubscriptionClick()})),V.hc(19,"async"),V.Pc(20," Yes, Cancel Subscription "),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.mc("formGroup",t.form),V.Db(6),V.Eb("aria-label","Close"),V.Db(4),V.mc("ngIf",!V.ic(11,5,t.cancelling$)),V.Db(2),V.mc("ngIf",V.ic(13,7,t.cancelling$)),V.Db(6),V.mc("disabled",t.form.invalid||V.ic(19,9,t.cancelling$)))},directives:[H.s,H.j,Rn.h,Te.a,z.a,bt.a,m.p,Rn.c,Tn.a,H.r,H.i,jn.a],pipes:[m.b],styles:[".dialog[_ngcontent-%COMP%]{max-width:520px}.dialog__list[_ngcontent-%COMP%]{list-style-type:disc;margin:0;padding-left:40px}"],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(Rt.a.getCancelling),In("design:type",O.a)],An.prototype,"cancelling$",void 0),An),Ln=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},En=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bn=["cart"];function Qn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",9),V.cc("click",(function(){return V.Cc(n),V.gc().handleManageClick()})),V.Pc(1),V.hc(2,"async"),V.Ub()}if(2&e){var i=V.gc();V.Db(1),V.Rc(" ",V.ic(2,1,i.isFreeTrial$)?"Upgrade":"Update"," ")}}function $n(e,t){1&e&&(V.Tb(0),V.Qb(1,"app-spinner",10),V.Sb())}function qn(e,t){if(1&e&&(V.Vb(0,"div",13),V.Vb(1,"div"),V.Pc(2," You have access to Premium features through a "),V.Vb(3,"em",14),V.Pc(4,"free trial"),V.Ub(),V.Pc(5,". "),V.Ub(),V.Vb(6,"div"),V.Pc(7),V.hc(8,"date"),V.hc(9,"async"),V.Ub(),V.Ub()),2&e){var n,i=V.gc(2);V.Db(7),V.Rc(" Your trial ends on ",V.jc(8,1,null==(n=V.ic(9,4,i.subscription$))?null:n.paid_through_date_time,"longDate"),". ")}}function Gn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",18),V.cc("click",(function(){return V.Cc(n),V.gc(3).handleCancelSubscriptionClick()})),V.Pc(1," Cancel Subscription? "),V.Ub()}}function Wn(e,t){if(1&e&&(V.Qb(0,"app-account-subscription-summary",15),V.hc(1,"async"),V.Vb(2,"div",16),V.Nc(3,Gn,2,0,"a",17),V.hc(4,"async"),V.Ub()),2&e){var n=V.gc(2),i=V.yc(1);V.mc("subscription",V.ic(1,2,n.subscription$)),V.Db(3),V.mc("ngIf",!V.ic(4,4,n.isCanceled$)&&"edit"!==i.mode)}}function Jn(e,t){if(1&e&&(V.Nc(0,qn,10,6,"div",11),V.hc(1,"async"),V.Nc(2,Wn,5,6,"ng-template",null,12,V.Oc)),2&e){var n=V.yc(3),i=V.gc();V.mc("ngIf",V.ic(1,2,i.isFreeTrial$))("ngIfElse",n)}}function Hn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-account-subscription-cart",null,19),V.Vb(2,"div",20),V.Vb(3,"button",21),V.cc("click",(function(){return V.Cc(n),V.gc().handleCancelClick()})),V.Pc(4," Cancel "),V.Ub(),V.Vb(5,"button",22),V.cc("click",(function(){return V.Cc(n),V.gc().handleUpdatePaymentClick()})),V.hc(6,"async"),V.Pc(7," Update Payment Method "),V.Ub(),V.Ub(),V.Ub()}if(2&e){var i=V.yc(1),c=V.gc();V.Db(5),V.mc("disabled",!i.paymentMethodRequestable||V.ic(6,1,c.updating$))}}var Kn,Yn,Zn=((Kn=function(){function e(t,n,i,c){u(this,e),this.store=t,this.actions=n,this.snackBar=i,this.dialog=c,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initSubscriptionListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initSubscriptionListeners",value:function(){var e=this;this.actions.pipe(Object(y.l)(Vt.r),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.snackBar.open("Your subscription has been successfully updated."),e.store.dispatch(new W.u(!0)),e.panel.mode="view"})),this.actions.pipe(Object(y.l)(Vt.q),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Object(gt.a)(t.error)||"There was an error updating your payment method. Please try again.";e.snackBar.open(n)}))}},{key:"handleCancelClick",value:function(){this.panel.mode="view"}},{key:"handleCancelSubscriptionClick",value:function(){this.dialog.open(Fn)}},{key:"handleManageClick",value:function(){this.panel.mode="edit"}},{key:"handleUpdatePaymentClick",value:function(){var e=this;this.cart.requestPayment().pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new Vt.p(t))}),(function(t){e.snackBar.open("There was an error updating your payment method.")}))}}]),e}()).\u0275fac=function(e){return new(e||Kn)(V.Pb(y.h),V.Pb(y.b),V.Pb(Re.b),V.Pb(Rn.b))},Kn.\u0275cmp=V.Jb({type:Kn,selectors:[["app-account-premium-braintree"]],viewQuery:function(e,t){var n;1&e&&(V.Jc(De,!0),V.Vc(Bn,!0)),2&e&&(V.xc(n=V.dc())&&(t.panel=n.first),V.xc(n=V.dc())&&(t.cart=n.first))},decls:12,vars:8,consts:[["label","Subscription"],["panel",""],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click",4,"ngIf"],[1,"account","mt-4","mb-8"],[4,"ngIf","ngIfElse"],["loadedSubscriptionTpl",""],["panel-edit",""],[4,"ngIf"],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["size","huge"],["class","text-14",4,"ngIf","ngIfElse"],["premiumSummaryTpl",""],[1,"text-14"],[1,"text-bold"],[3,"subscription"],[1,"mv-3"],["appEventFence","","class","text-link text-underline text-14",3,"click",4,"ngIf"],["appEventFence","",1,"text-link","text-underline","text-14",3,"click"],["cart",""],["cart-footer","",1,"flex","justify-end"],["type","button","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"click"],["type","submit","app-button","","buttonType","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(V.Vb(0,"app-account-panel",0,1),V.Vb(2,"span",2),V.Nc(3,Qn,3,3,"button",3),V.hc(4,"async"),V.Ub(),V.Vb(5,"div",4),V.Nc(6,$n,2,0,"ng-container",5),V.hc(7,"async"),V.Nc(8,Jn,4,4,"ng-template",null,6,V.Oc),V.Ub(),V.Vb(10,"div",7),V.Nc(11,Hn,8,3,"app-account-subscription-cart",8),V.Ub(),V.Ub()),2&e){var n=V.yc(1),i=V.yc(9);V.Db(3),V.mc("ngIf",!V.ic(4,4,t.isCanceled$)),V.Db(3),V.mc("ngIf",V.ic(7,6,t.loading$))("ngIfElse",i),V.Db(5),V.mc("ngIf","edit"===n.mode)}},directives:[De,m.p,Te.a,jn.a,on,jt.a,fn],pipes:[m.b,m.e],styles:[""],changeDetection:0}),Ln([Object(y.e)(w.a.getUserProfile),En("design:type",O.a)],Kn.prototype,"userProfile$",void 0),Ln([Object(y.e)(Rt.a.getSubscription),En("design:type",O.a)],Kn.prototype,"subscription$",void 0),Ln([Object(y.e)(w.a.getLoading),En("design:type",O.a)],Kn.prototype,"loading$",void 0),Ln([Object(y.e)(Rt.a.getUpdating),En("design:type",O.a)],Kn.prototype,"updating$",void 0),Ln([Object(y.e)(Rt.a.isFreeTrial),En("design:type",O.a)],Kn.prototype,"isFreeTrial$",void 0),Ln([Object(y.e)(Rt.a.isCanceled),En("design:type",O.a)],Kn.prototype,"isCanceled$",void 0),Kn),Xn=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ei=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ti=((Yn=function(){function e(t){u(this,e),this.store=t,this.ngUnsubscribe=new _.a}return b(e,[{key:"isBraintreeSubscription$",get:function(){return this.subscriptionProvider$.pipe(Object(q.a)((function(e){return"braintree"===e})))}},{key:"subscriptionProvider$",get:function(){return this.subscription$.pipe(Object(q.a)((function(e){return e?e.subscription_provider:""})))}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}()).\u0275fac=function(e){return new(e||Yn)(V.Pb(y.h))},Yn.\u0275cmp=V.Jb({type:Yn,selectors:[["app-account-premium-user-subscription"]],viewQuery:function(e,t){var n;1&e&&V.Jc(De,!0),2&e&&V.xc(n=V.dc())&&(t.panel=n.first)},decls:5,vars:3,consts:[["label","Subscription"],["panel",""],[1,"account","mt-4"],[3,"subscription"]],template:function(e,t){1&e&&(V.Vb(0,"app-account-panel",0,1),V.Vb(2,"div",2),V.Qb(3,"app-account-subscription-summary",3),V.hc(4,"async"),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.mc("subscription",V.ic(4,1,t.subscription$)))},directives:[De,on],pipes:[m.b],styles:[""],changeDetection:0}),Xn([Object(y.e)(w.a.getUserProfile),ei("design:type",O.a)],Yn.prototype,"userProfile$",void 0),Xn([Object(y.e)(Rt.a.getSubscription),ei("design:type",O.a)],Yn.prototype,"subscription$",void 0),Xn([Object(y.e)(Rt.a.isFreeTrial),ei("design:type",O.a)],Yn.prototype,"isFreeTrial$",void 0),Yn),ni=c("/EfZ"),ii=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ci=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ai(e,t){if(1&e&&(V.Vb(0,"div",6),V.Vb(1,"app-message-toggle",7),V.hc(2,"async"),V.hc(3,"async"),V.Pc(4),V.hc(5,"async"),V.hc(6,"async"),V.hc(7,"date"),V.hc(8,"async"),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(1),V.mc("type",V.ic(2,6,n.isTrialExpired$)?"warning":"notification")("icon",V.ic(3,8,n.isTrialExpired$)?"exclamation-triangle":"info-circle")("shown",!0),V.Db(3),V.Tc(" Your ",V.ic(5,10,n.isTrial$)?"free trial":"subscription"," ",V.ic(6,12,n.isTrialExpired$)?"expired":"expires"," on ",V.jc(7,14,V.ic(8,17,n.subscriptionEndDate$),"longDate"),". ")}}var oi,ri=((oi=function(){function e(t){u(this,e),this.zendeskService=t}return b(e,[{key:"ngOnInit",value:function(){}},{key:"handleContactClick",value:function(){this.zendeskService.showWidget()}}]),e}()).\u0275fac=function(e){return new(e||oi)(V.Pb(ni.a))},oi.\u0275cmp=V.Jb({type:oi,selectors:[["app-account-premium-team-subscription"]],decls:16,vars:8,consts:[["label","Subscription"],[1,"text-14"],["class","mb-4",4,"ngIf"],[1,"text-bold"],[1,"mt-2"],[1,"text-link","text-underline",3,"click"],[1,"mb-4"],[3,"type","icon","shown"]],template:function(e,t){var n;(1&e&&(V.Vb(0,"app-account-panel",0),V.Vb(1,"div",1),V.Nc(2,ai,9,19,"div",2),V.hc(3,"async"),V.hc(4,"async"),V.Vb(5,"div"),V.Pc(6," You have a "),V.Vb(7,"em",3),V.Pc(8),V.hc(9,"async"),V.Ub(),V.Pc(10," plan. "),V.Ub(),V.Vb(11,"div",4),V.Pc(12," For more information or questions regarding your subscription, please contact our "),V.Vb(13,"a",5),V.cc("click",(function(){return t.handleContactClick()})),V.Pc(14,"Customer Experience"),V.Ub(),V.Pc(15," team. "),V.Ub(),V.Ub(),V.Ub()),2&e)&&(V.Db(2),V.mc("ngIf",V.ic(3,2,t.isTrial$)||V.ic(4,4,t.isTrialExpired$)),V.Db(6),V.Qc(null==(n=V.ic(9,6,t.organization$))?null:n.subscription.type))},directives:[De,m.p,ft.a],pipes:[m.b,m.e],styles:[""],changeDetection:0}),ii([Object(y.e)(J.a.isTrial),ci("design:type",O.a)],oi.prototype,"isTrial$",void 0),ii([Object(y.e)(J.a.isTrialExpired),ci("design:type",O.a)],oi.prototype,"isTrialExpired$",void 0),ii([Object(y.e)(J.a.getSubscriptionEndDate),ci("design:type",O.a)],oi.prototype,"subscriptionEndDate$",void 0),ii([Object(y.e)(J.a.getOrganization),ci("design:type",O.a)],oi.prototype,"organization$",void 0),oi),si=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},li=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ui(e,t){1&e&&V.Qb(0,"app-account-free-user-subscription")}function pi(e,t){1&e&&(V.Tb(0),V.Qb(1,"app-account-premium-braintree"),V.Sb())}function bi(e,t){1&e&&V.Qb(0,"app-account-premium-user-subscription")}function gi(e,t){if(1&e&&(V.Tb(0),V.Nc(1,pi,2,0,"ng-container",2),V.Nc(2,bi,1,0,"ng-template",null,3,V.Oc),V.Sb()),2&e){var n=V.yc(3),i=V.gc();V.Db(1),V.mc("ngIf",i.isBraintreeSubscription)("ngIfElse",n)}}function di(e,t){1&e&&V.Qb(0,"app-account-premium-team-subscription")}var fi,mi=((fi=function(){function e(t){u(this,e),this.changeDetectorRef=t,this.userType=wt.a,this.isBraintreeSubscription=!1,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initProfileCheck()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initProfileCheck",value:function(){var e=this;this.userProfile$.pipe(Object(C.a)((function(e){return!Object(P.isNil)(e)})),Object(Y.a)((function(e,t){return Object(P.isEqual)(e,t)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.isBraintreeSubscription=t.subscription&&"braintree"===t.subscription.subscription_provider,e.changeDetectorRef.markForCheck()}))}}]),e}()).\u0275fac=function(e){return new(e||fi)(V.Pb(V.i))},fi.\u0275cmp=V.Jb({type:fi,selectors:[["app-account-subscription"]],decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],["manageExternalTmp",""]],template:function(e,t){1&e&&(V.Tb(0,0),V.hc(1,"async"),V.Nc(2,ui,1,0,"app-account-free-user-subscription",1),V.Nc(3,gi,4,2,"ng-container",1),V.Nc(4,di,1,0,"app-account-premium-team-subscription",1),V.Sb()),2&e&&(V.mc("ngSwitch",V.ic(1,4,t.userType$)),V.Db(2),V.mc("ngSwitchCase",t.userType.Free),V.Db(1),V.mc("ngSwitchCase",t.userType.Premium),V.Db(1),V.mc("ngSwitchCase",t.userType.Team))},directives:[m.r,m.s,Vn,m.p,Zn,ti,ri],pipes:[m.b],styles:[""],changeDetection:0}),si([Object(y.e)(w.a.getUserProfile),li("design:type",O.a)],fi.prototype,"userProfile$",void 0),si([Object(y.e)(w.a.getUserType),li("design:type",O.a)],fi.prototype,"userType$",void 0),fi),hi=c("rKJn"),vi=c("kqJf"),xi=c("JkaL"),yi=c("wSC8"),Pi=c("Y+XQ"),_i=c("BbIy");function Oi(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",7),V.cc("click",(function(e){V.Cc(n);var t=V.gc();return t.handleAppToggleClick(t.app,e)})),V.Vb(1,"div",8),V.Qb(2,"app-icon",9),V.Ub(),V.Vb(3,"div",10),V.Pc(4,"Default"),V.Ub(),V.Ub()}}var Ci,ki=((Ci=function(){function e(){u(this,e),this.compact=!1,this.appSelected=new V.p,this.appToggleSelected=new V.p}return b(e,[{key:"ngOnInit",value:function(){}},{key:"handleSelectAppClick",value:function(e,t){t.stopPropagation(),this.appSelected.emit(e)}},{key:"handleAppToggleClick",value:function(e,t){t.stopPropagation(),this.appToggleSelected.emit(e)}},{key:"formatPlatforms",value:function(e){return e.map((function(e){return e.display_name})).join(", ")}},{key:"formatPlatformTypes",value:function(e){return e.map((function(e){return e.type===hi.a.Mobile?"API Bundle IDs":"Domains"})).join(", ")}},{key:"formatDomains",value:function(e){return e.map((function(e){return e.value})).join(", ")}}]),e}()).\u0275fac=function(e){return new(e||Ci)},Ci.\u0275cmp=V.Jb({type:Ci,selectors:[["app-account-app"]],inputs:{app:"app",selected:"selected",compact:"compact"},outputs:{appSelected:"appSelected",appToggleSelected:"appToggleSelected"},decls:16,vars:10,consts:[[1,"app",3,"click"],[1,"app__header","flex","flex-row","justify-between"],[1,"text-14","text-semibold"],["class","app__badge flex flex-row items-center",3,"click",4,"ngIf"],[1,"text-12","text-hint"],[1,"app__settings","mt-4","text-12"],[1,"text-semibold"],[1,"app__badge","flex","flex-row","items-center",3,"click"],[1,"app__badge-icon","mr-2","text-11"],["icon","check"],[1,"text-13","text-bold","text-uppercase"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.cc("click",(function(e){return t.handleSelectAppClick(t.app,e)})),V.Vb(1,"div",1),V.Vb(2,"div",2),V.Pc(3),V.Ub(),V.Nc(4,Oi,5,0,"div",3),V.Ub(),V.Vb(5,"div",4),V.Pc(6),V.Ub(),V.Vb(7,"div",5),V.Vb(8,"div",6),V.Pc(9,"API Key"),V.Ub(),V.Vb(10,"div"),V.Pc(11),V.Ub(),V.Vb(12,"div",6),V.Pc(13),V.Ub(),V.Vb(14,"div"),V.Pc(15),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Hb("app--selected",t.selected)("app--compact",t.compact),V.Db(3),V.Rc(" ",t.app.app_name," "),V.Db(1),V.mc("ngIf",t.selected),V.Db(2),V.Rc(" ",t.formatPlatforms(t.app.app_platform)," "),V.Db(5),V.Qc(t.app.app_apikey),V.Db(2),V.Qc(t.formatPlatformTypes(t.app.app_platform)),V.Db(2),V.Qc(t.formatDomains(t.app.app_domains)))},directives:[m.p,z.a],styles:[".app[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d7e0ea;border-radius:4px;padding:20px}.app__settings[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 80%;gap:8px 0}.app__badge[_ngcontent-%COMP%]{color:#2d72dc}.app__badge-icon[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff;background-color:#2d72dc}.app--selected[_ngcontent-%COMP%]{border:2px solid #2d72dc}.app--compact[_ngcontent-%COMP%]{padding:12px}.app--compact[_ngcontent-%COMP%]   .app__settings[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0}),Ci),Ui=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Mi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function wi(e,t){if(1&e&&V.Qb(0,"app-tag",9),2&e){var n=V.gc(2);V.mc("label",n.premiumOnlyTag)}}function Di(e,t){if(1&e&&(V.Tb(0,7),V.Nc(1,wi,1,1,"app-tag",8),V.hc(2,"async"),V.Sb()),2&e){var n,i=V.gc();V.Db(1),V.mc("ngIf",!(null!=(n=V.ic(2,1,i.userProfile$))&&n.developer_account_valid_plan))}}function Si(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",10),V.cc("click",(function(){return V.Cc(n),V.gc().handleManageAppsClick()})),V.Qb(1,"app-icon",11),V.Pc(2," Manage "),V.Ub()}}function Vi(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",20),V.Vb(1,"app-account-app",21),V.cc("appSelected",(function(e){return V.Cc(n),V.gc(3).handleSelectAppSelected(e,!1)}))("appToggleSelected",(function(e){return V.Cc(n),V.gc(3).handleSelectAppSelected(e,!0)})),V.hc(2,"async"),V.hc(3,"async"),V.Ub(),V.Ub()}if(2&e){var i,c=t.$implicit,a=V.gc(3);V.Db(1),V.mc("app",c)("compact",V.ic(2,3,a.breakpoint$)<a.breakPoints.Medium)("selected",c.id===(null==(i=V.ic(3,5,a.selectedUserApp$))?null:i.id))}}function Ri(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"div",13),V.Pc(2,"Select a default application:"),V.Ub(),V.Vb(3,"div",14),V.Vb(4,"div",15),V.Pc(5),V.Ub(),V.Vb(6,"div"),V.Vb(7,"app-sort",16),V.cc("sortChange",(function(e){return V.Cc(n),V.gc(2).handleSort(e)})),V.Ub(),V.Ub(),V.Ub(),V.Nc(8,Vi,4,7,"div",17),V.Vb(9,"div",18),V.Pc(10," All models will be published with the developer key associated with your default application. Learn more about how to register an applicaiton "),V.Vb(11,"a",19),V.Pc(12,"here"),V.Ub(),V.Pc(13,". "),V.Ub(),V.Sb()}if(2&e){var i=V.gc(2);V.Db(5),V.Sc(" ",i.userApps.length," ",1===i.userApps.length?"app":"apps"," "),V.Db(2),V.mc("sortLabel","Sort Apps")("sortOptions",i.sortOptions)("sort",i.sort),V.Db(1),V.mc("ngForOf",i.userApps)}}function Ti(e,t){1&e&&(V.Vb(0,"div",22),V.Vb(1,"div",23),V.Pc(2,"You don't have any apps."),V.Ub(),V.Vb(3,"a",24),V.Pc(4,"What's an app?"),V.Ub(),V.Ub())}function ji(e,t){if(1&e&&(V.Vb(0,"div"),V.Nc(1,Ri,14,6,"ng-container",5),V.Nc(2,Ti,5,0,"ng-template",null,12,V.Oc),V.Ub()),2&e){var n=V.yc(3),i=V.gc();V.Db(1),V.mc("ngIf",i.userApps.length>0)("ngIfElse",n)}}function Ii(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Pc(1," You must sign in on the developer site to activate access. Click "),V.Vb(2,"a",27),V.cc("click",(function(e){return V.Cc(n),V.gc(2).handleDeveloperActivateClick(e)})),V.Pc(3,"here"),V.Ub(),V.Pc(4," to activate. "),V.Sb()}}function zi(e,t){if(1&e){var n=V.Wb();V.Pc(0," Interested in leveraging the BioDigital Human's powerful toolkit to create your own custom applications? Visit our Developer Site to "),V.Vb(1,"a",28),V.cc("click",(function(e){return V.Cc(n),V.gc(2).handleDeveloperTrialClick(e)})),V.Pc(2,"learn more"),V.Ub(),V.Pc(3,". ")}}function Ni(e,t){if(1&e&&(V.Vb(0,"p",25),V.Nc(1,Ii,5,0,"ng-container",5),V.hc(2,"async"),V.Nc(3,zi,4,0,"ng-template",null,26,V.Oc),V.Ub()),2&e){var n,i=V.yc(4),c=V.gc();V.Db(1),V.mc("ngIf",null==(n=V.ic(2,2,c.userProfile$))?null:n.developer_account_valid_plan)("ngIfElse",i)}}var Ai,Fi=[yi.a.QA,yi.a.Local].includes(dt.a.deploy)?"https://developer-qa.biodigital.com/":"https://developer.biodigital.com/",Li=[{label:"Last Updated",fields:["timestamp"],ascending:!1},{label:"Name (A-Z)",fields:["app_name"],ascending:!0},{label:"Name (Z-A)",fields:["app_name"],ascending:!1}],Ei=((Ai=function(){function e(t,n,i,c){u(this,e),this.store=t,this.snackBar=n,this.router=i,this.changeDetectorRef=c,this.breakPoints=D.a,this.authUserTypes=wt.a,this.premiumOnlyTag=xi.a,this.ngUnsubscribe=new _.a,this.userApps=[],this.sortOptions=Li,this._sort=Li[0]}return b(e,[{key:"sort",get:function(){return this._sort},set:function(e){this._sort=e,this.userApps=this.sortApps(this.userApps,this.sort),this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){var e=this;this.userApps$.pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.userApps=e.sortApps(t,e.sort),e.changeDetectorRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleSort",value:function(e){this.sort=e}},{key:"handleSelectAppSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.app_platform.some((function(e){return e.type===hi.a.Web}))){var n=this.store.selectSnapshot(w.a.getSelectedUserApp);n&&n.id===e.id?t&&this.store.dispatch(new W.Y(void 0)):this.store.dispatch(new W.Y(e.id))}else this.snackBar.open("Cannot assign default app. Please select a Web Widget to continue.")}},{key:"handleManageAppsClick",value:function(){this.navigateToDeveloperPortal()}},{key:"handleDeveloperActivateClick",value:function(e){e.preventDefault(),this.navigateToDeveloperPortal()}},{key:"handleDeveloperTrialClick",value:function(e){e.preventDefault(),this.navigateToDeveloperPortal()}},{key:"sortApps",value:function(e,t){var n=t.ascending,i=t.fields;return Object(vi.a)(e,i,n)}},{key:"navigateToDeveloperPortal",value:function(){var e,t=null!==(e=this.store.selectSnapshot(w.a.getUserProfile).developer_portal_signin_url)&&void 0!==e?e:Fi;window.open(t,"_blank")}}]),e}()).\u0275fac=function(e){return new(e||Ai)(V.Pb(y.h),V.Pb(Re.b),V.Pb(h.e),V.Pb(V.i))},Ai.\u0275cmp=V.Jb({type:Ai,selectors:[["app-account-apps"]],decls:11,vars:10,consts:[["label","Developer Apps"],["panel-view-tags","",4,"ngIf"],["panel-view-actions",""],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click",4,"ngIf"],["panel-view","",1,"developer"],[4,"ngIf","ngIfElse"],["nonDeveloper",""],["panel-view-tags",""],["icon","lock",3,"label",4,"ngIf"],["icon","lock",3,"label"],["type","button","app-button","","buttonType","outline","buttonTheme","light",3,"click"],["icon","external-link-alt",1,"mr-2"],["noApps",""],[1,"mv-5","text-14"],[1,"flex","flex-row","justify-between","items-center"],[1,"text-12"],[3,"sortLabel","sortOptions","sort","sortChange"],["class","developer__app mv-3",4,"ngFor","ngForOf"],[1,"developer__notice","text-12","mv-4"],["href","https://devsupport.biodigital.com/hc/en-us/articles/234450188-How-to-register-an-app","target","_blank",1,"text-link"],[1,"developer__app","mv-3"],[3,"app","compact","selected","appSelected","appToggleSelected"],[1,"flex","flex-column","items-center","mv-10"],[1,"text-14","text-medium","mb-1"],["href","https://devsupport.biodigital.com/hc/en-us/articles/234450188","target","_blank",1,"text-12","text-dim"],[1,"text-14"],["nonValidPlan",""],[1,"text-link","text-underline",3,"click"],["appEventFence","",1,"text-link","text-underline",3,"click"]],template:function(e,t){if(1&e&&(V.Vb(0,"app-account-panel",0),V.Nc(1,Di,3,3,"ng-container",1),V.hc(2,"async"),V.Vb(3,"div",2),V.Nc(4,Si,3,0,"button",3),V.hc(5,"async"),V.Ub(),V.Vb(6,"div",4),V.Nc(7,ji,4,2,"div",5),V.hc(8,"async"),V.Nc(9,Ni,5,4,"ng-template",null,6,V.Oc),V.Ub(),V.Ub()),2&e){var n,i,c=V.yc(10);V.Db(1),V.mc("ngIf",V.ic(2,4,t.userType$)!==t.authUserTypes.Team),V.Db(3),V.mc("ngIf",null==(n=V.ic(5,6,t.userProfile$))?null:n.developer_account),V.Db(3),V.mc("ngIf",null==(i=V.ic(8,8,t.userProfile$))?null:i.developer_account)("ngIfElse",c)}},directives:[De,m.p,Pi.b,Te.a,z.a,_i.a,m.o,ki,jt.a],pipes:[m.b],styles:[".developer__app[_ngcontent-%COMP%]{cursor:pointer}.developer__notice[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),Ui([Object(y.e)(S.a.getBreakpoint),Mi("design:type",O.a)],Ai.prototype,"breakpoint$",void 0),Ui([Object(y.e)(w.a.getUserProfile),Mi("design:type",O.a)],Ai.prototype,"userProfile$",void 0),Ui([Object(y.e)(w.a.getUserType),Mi("design:type",O.a)],Ai.prototype,"userType$",void 0),Ui([Object(y.e)(w.a.getUserApps),Mi("design:type",O.a)],Ai.prototype,"userApps$",void 0),Ui([Object(y.e)(w.a.getSelectedUserApp),Mi("design:type",O.a)],Ai.prototype,"selectedUserApp$",void 0),Ai),Bi=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Qi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function $i(e,t){1&e&&(V.Vb(0,"div",3),V.Qb(1,"app-spinner",4),V.Vb(2,"div",5),V.Pc(3,"Deleting your account..."),V.Ub(),V.Ub())}function qi(e,t){if(1&e&&(V.Vb(0,"div",23),V.Vb(1,"app-message-toggle",24),V.Vb(2,"em",12),V.Pc(3,"Server Error."),V.Ub(),V.Pc(4),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(4),V.Rc(" ",n.error," ")}}function Gi(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"div",6),V.Vb(2,"div",7),V.Vb(3,"h1"),V.Pc(4,"Delete Account"),V.Ub(),V.Vb(5,"button",8),V.cc("click",(function(){return V.Cc(n),V.gc().handleCancelClick()})),V.Qb(6,"app-icon",9),V.Ub(),V.Ub(),V.Ub(),V.Qb(7,"mat-divider"),V.Vb(8,"div",10),V.Vb(9,"div"),V.Vb(10,"div",11),V.Pc(11," Are you sure you want to "),V.Vb(12,"em",12),V.Pc(13,"permanently delete"),V.Ub(),V.Pc(14," your account? "),V.Ub(),V.Vb(15,"ul",13),V.Vb(16,"li",14),V.Pc(17," Deleting your BioDigital Human account is a permanent action and "),V.Vb(18,"em",12),V.Pc(19,"cannot be undone"),V.Ub(),V.Pc(20,". "),V.Ub(),V.Vb(21,"li",14),V.Pc(22," After you delete your account, you will not be able to log back in to the app, and any 3D models you created and saved to your Library will be removed from our database permanently and cannot be restored. "),V.Ub(),V.Ub(),V.Vb(23,"div",15),V.Vb(24,"mat-checkbox",16),V.Vb(25,"span",17),V.Pc(26,"I confirm I want to permanently delete my account."),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Nc(27,qi,5,1,"div",18),V.Ub(),V.Vb(28,"div",19),V.Vb(29,"div",20),V.Vb(30,"button",21),V.cc("click",(function(){return V.Cc(n),V.gc().handleCancelClick()})),V.Pc(31," Cancel "),V.Ub(),V.Vb(32,"button",22),V.cc("click",(function(){return V.Cc(n),V.gc().handleDeleteClick()})),V.Pc(33),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var i=V.gc();V.Db(5),V.Eb("aria-label","Close"),V.Db(22),V.mc("ngIf",i.error),V.Db(5),V.mc("disabled",i.form.invalid),V.Db(1),V.Rc(" ",i.attempts>0?"Try Again":"Yes, Delete Account"," ")}}var Wi,Ji,Hi=((Wi=function(){function e(t,n,i,c,a){u(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.dialogRef=c,this.changeRef=a,this.error="",this.attempts=0,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.setDialogTransparent(!1)}},{key:"initForm",value:function(){this.form=this.formBuilder.group({confirm:[!1,H.C.requiredTrue]})}},{key:"initListeners",value:function(){var e=this;this.deleting$.pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){t&&(e.error="",e.attempts++),e.setDialogTransparent(t),e.changeRef.markForCheck()})),this.actions.pipe(Object(y.l)(W.m),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new W.H)})),this.actions.pipe(Object(y.l)(W.J,W.I),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.redirectOnLogout(),e.dialogRef.close()})),this.actions.pipe(Object(y.l)(W.l),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.error=Object(gt.a)(t.error)||"There was an error deleting your account.",e.changeRef.markForCheck()}))}},{key:"handleCancelClick",value:function(){this.dialogRef.close()}},{key:"handleDeleteClick",value:function(){this.store.dispatch(new W.k)}},{key:"redirectOnLogout",value:function(){window.location.href=dt.a.native?"/#/login?returnUrl=/explore":"/login"}},{key:"setDialogTransparent",value:function(e){this.dialogRef.removePanelClass("transparent"),e&&this.dialogRef.addPanelClass("transparent")}}]),e}()).\u0275fac=function(e){return new(e||Wi)(V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(Rn.g),V.Pb(V.i))},Wi.\u0275cmp=V.Jb({type:Wi,selectors:[["app-delete-account-dialog"]],decls:5,vars:7,consts:[[1,"dialog",3,"formGroup"],["class","flex flex-column items-center",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-column","items-center"],["size","large"],[1,"mt-3","text-11"],["mat-dialog-title",""],[1,"flex","flex-row","justify-between"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",3,"click"],["icon","times","size","lg"],[1,"text-14","mv-4","mb-9"],[1,"mb-6"],[1,"text-bold"],[1,"dialog__list"],[1,"mv-2"],[1,"mt-4"],["formControlName","confirm"],[2,"white-space","normal"],["class","mt-1",4,"ngIf"],["mat-dialog-actions",""],[1,"flex","justify-end"],["app-button","","buttonTheme","light","buttonType","default",1,"mr-2",3,"click"],["app-button","","buttonType","primary",3,"disabled","click"],[1,"mt-1"],["type","error","icon","info"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Nc(1,$i,4,0,"div",1),V.hc(2,"async"),V.Nc(3,Gi,34,4,"div",2),V.hc(4,"async"),V.Ub()),2&e&&(V.mc("formGroup",t.form),V.Db(1),V.mc("ngIf",V.ic(2,3,t.deleting$)),V.Db(2),V.mc("ngIf",!V.ic(4,5,t.deleting$)))},directives:[H.s,H.j,m.p,jn.a,Rn.h,Te.a,z.a,bt.a,Tn.a,H.r,H.i,Rn.c,ft.a],pipes:[m.b],styles:[".dialog[_ngcontent-%COMP%]{max-width:520px}.dialog__list[_ngcontent-%COMP%]{list-style-type:disc;margin:0;padding-left:40px}"],changeDetection:0}),Bi([Object(y.e)(w.a.getUserProfile),Qi("design:type",O.a)],Wi.prototype,"userProfile$",void 0),Bi([Object(y.e)(w.a.getProfileDeleting),Qi("design:type",O.a)],Wi.prototype,"deleting$",void 0),Wi),Ki=function(){return["./"]},Yi=((Ji=function(){function e(t){u(this,e),this.dialog=t}return b(e,[{key:"ngOnInit",value:function(){}},{key:"handleDeleteAccountClick",value:function(){this.dialog.open(Hi)}}]),e}()).\u0275fac=function(e){return new(e||Ji)(V.Pb(Rn.b))},Ji.\u0275cmp=V.Jb({type:Ji,selectors:[["app-account-delete"]],decls:10,vars:2,consts:[["label","Delete Account"],[1,"delete-account","text-14"],[1,"text-bold"],[1,"mt-4"],[1,"text-link","text-underline",3,"routerLink","click"]],template:function(e,t){1&e&&(V.Vb(0,"app-account-panel",0),V.Vb(1,"div",1),V.Vb(2,"div"),V.Pc(3," Deleting your BioDigital Human account is a permanent action and "),V.Vb(4,"em",2),V.Pc(5,"cannot be undone"),V.Ub(),V.Pc(6,". "),V.Ub(),V.Vb(7,"div",3),V.Vb(8,"a",4),V.cc("click",(function(){return t.handleDeleteAccountClick()})),V.Pc(9," Delete account "),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(8),V.mc("routerLink",V.oc(1,Ki)))},directives:[De,h.h],styles:[""],changeDetection:0}),Ji),Zi=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Xi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ec(e,t){1&e&&(V.Tb(0),V.Qb(1,"mat-divider"),V.Vb(2,"div",4),V.Qb(3,"app-account-apps"),V.Ub(),V.Sb())}function tc(e,t){1&e&&(V.Tb(0),V.Qb(1,"mat-divider"),V.Vb(2,"div",5),V.Qb(3,"app-account-delete"),V.Ub(),V.Sb())}var nc,ic=((nc=function(){function e(t,n){u(this,e),this.store=t,this.activatedRoute=n,this.ngUnsubscribe=new _.a,this.userRoleEnum=G.a}return b(e,[{key:"ngOnInit",value:function(){this.store.dispatch(new W.u(!0))}},{key:"ngAfterViewInit",value:function(){this.initRoutingListeners()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initRoutingListeners",value:function(){var e=this;Object($.a)(this.activatedRoute.url,this.activatedRoute.queryParams).pipe(Object(q.a)((function(){return e.activatedRoute.snapshot.queryParams})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.section;e.scrollToSection(n)}))}},{key:"scrollToSection",value:function(e){var t=document.getElementById("account-"+e);t&&t.scrollIntoView()}}]),e}()).\u0275fac=function(e){return new(e||nc)(V.Pb(y.h),V.Pb(h.a))},nc.\u0275cmp=V.Jb({type:nc,selectors:[["app-profile-page"]],decls:13,vars:8,consts:[["id","account-profile",1,"mb-10"],["id","account-password",1,"mv-10"],["id","account-subscription",1,"mv-10"],[4,"ngIf"],["id","account-developer",1,"mv-10"],["id","account-delete",1,"mv-10"]],template:function(e,t){if(1&e&&(V.Vb(0,"div",0),V.Qb(1,"app-account-profile"),V.Ub(),V.Qb(2,"mat-divider"),V.Vb(3,"div",1),V.Qb(4,"app-account-password"),V.Ub(),V.Qb(5,"mat-divider"),V.Vb(6,"div",2),V.Qb(7,"app-account-subscription"),V.Ub(),V.Nc(8,ec,4,0,"ng-container",3),V.hc(9,"async"),V.hc(10,"async"),V.Nc(11,tc,4,0,"ng-container",3),V.hc(12,"async")),2&e){var n=null;V.Db(8),V.mc("ngIf",(null==(n=V.ic(9,2,t.userRole$))?null:n.role_name)===t.userRoleEnum.Creator||(null==(n=V.ic(10,4,t.userRole$))?null:n.role_name)===t.userRoleEnum.Admin),V.Db(3),V.mc("ngIf",!V.ic(12,6,t.organization$))}},directives:[pt,bt.a,Mt,mi,m.p,Ei,Yi],pipes:[m.b],styles:[""],changeDetection:0}),Zi([Object(y.e)(w.a.getUserRole),Xi("design:type",O.a)],nc.prototype,"userRole$",void 0),Zi([Object(y.e)(J.a.getOrganization),Xi("design:type",O.a)],nc.prototype,"organization$",void 0),nc),cc=c("FO49"),ac=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oc=["message"];function rc(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",11),V.Vb(1,"app-account-panel",16),V.Vb(2,"div",17),V.Pc(3,"This will clear your downloaded content from this device."),V.Ub(),V.Vb(4,"button",18),V.cc("click",(function(){return V.Cc(n),V.gc().handleDeleteDataClick()})),V.Pc(5," Delete Data "),V.Ub(),V.Ub(),V.Ub()}}var sc,lc=((sc=function(){function e(t,n,i){u(this,e),this.actions=t,this.changeRef=n,this.store=i,this.environment=dt.a,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){var e=this;this.actions.pipe(Object(y.l)(W.bb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.message.shown=!0,e.changeRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleDeleteDataClick",value:function(){this.store.dispatch(new W.j)}}]),e}()).\u0275fac=function(e){return new(e||sc)(V.Pb(y.b),V.Pb(V.i),V.Pb(y.h))},sc.\u0275cmp=V.Jb({type:sc,selectors:[["app-settings-page"]],viewQuery:function(e,t){var n;1&e&&V.Jc(oc,!0),2&e&&V.xc(n=V.dc())&&(t.message=n.first)},decls:21,vars:3,consts:[[1,"settings","flex","flex-column"],[1,"mb-6"],["label","Language"],[1,"text-14","mv-5"],[1,"mv-2"],["type","message",3,"shown"],["message",""],[1,"flex","flex-row"],["buttonType","outline","buttonTheme","light","localeFormat","full",3,"showFlag"],[1,"settings__notice","text-12","mv-2"],["class","mv-6",4,"ngIf"],[1,"mv-6"],["label","Legal"],[1,"flex","flex-column","text-14"],["href","https://www.biodigital.com/terms","target","_blank",1,"text-link","text-underline"],["href","https://www.biodigital.com/privacy","target","_blank",1,"text-link","text-underline","mt-2"],["label","Delete Stored Data"],[1,"text-14","mb-5"],["type","submit","buttonTheme","light","app-button","","buttonType","primary",3,"click"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"div",1),V.Vb(2,"app-account-panel",2),V.Vb(3,"div",3),V.Pc(4,"Select the language you'd like to use for our 3D models:"),V.Ub(),V.Vb(5,"div",4),V.Vb(6,"app-message-toggle",5,6),V.Pc(8," Your language was successfully updated. "),V.Ub(),V.Ub(),V.Vb(9,"div",7),V.Qb(10,"app-locales",8),V.Ub(),V.Vb(11,"div",9),V.Pc(12," This setting translates the contents of the 3D models (i.e., titles, descriptions, and anatomical structures) found in Explore. The models stored in your Library will not be translated. "),V.Ub(),V.Ub(),V.Ub(),V.Nc(13,rc,6,0,"div",10),V.Vb(14,"div",11),V.Vb(15,"app-account-panel",12),V.Vb(16,"div",13),V.Vb(17,"a",14),V.Pc(18,"Terms of Service"),V.Ub(),V.Vb(19,"a",15),V.Pc(20,"Privacy Policy"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(6),V.mc("shown",!1),V.Db(4),V.mc("showFlag",!1),V.Db(3),V.mc("ngIf",t.environment.native))},directives:[De,ft.a,cc.a,m.p,Te.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.settings__select[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.settings__notice[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(w.a.getUserLocale),ac("design:type",O.a)],sc.prototype,"userLocale$",void 0),sc),uc=c("Kj3r"),pc=c("8pBO"),bc=c("QkH1"),gc=c("WoAB"),dc=c("5sb6"),fc=c("yCtX"),mc=c("DH7j"),hc=c("7o/Q"),vc=c("Lhse"),xc=c("zx2A"),yc=function(){function e(t){u(this,e),this.resultSelector=t}return b(e,[{key:"call",value:function(e,t){return t.subscribe(new Pc(e,this.resultSelector))}}]),e}(),Pc=function(t){e(c,t);var i=n(c);function c(e,t){var n;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return u(this,c),(n=i.call(this,e)).resultSelector=t,n.iterators=[],n.active=0,n.resultSelector="function"==typeof t?t:void 0,n}return b(c,[{key:"_next",value:function(e){var t=this.iterators;Object(mc.a)(e)?t.push(new Oc(e)):t.push("function"==typeof e[vc.a]?new _c(e[vc.a]()):new Cc(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){var c=e[i];if("function"==typeof c.hasValue&&!c.hasValue())return}for(var a=!1,o=[],r=0;r<t;r++){var s=e[r],l=s.next();if(s.hasCompleted()&&(a=!0),l.done)return void n.complete();o.push(l.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),a&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),c}(hc.a),_c=function(){function e(t){u(this,e),this.iterator=t,this.nextResult=t.next()}return b(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return Boolean(e&&e.done)}}]),e}(),Oc=function(e){function t(e){u(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return b(t,[{key:e,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(vc.a),Cc=function(t,i){e(a,t);var c=n(a);function a(e,t,n){var i;return u(this,a),(i=c.call(this,e)).parent=t,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return b(a,[{key:i,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e){this.buffer.push(e),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(xc.c)(this.observable,new xc.a(this))}}]),a}(xc.b,vc.a),kc=c("LRne"),Uc=c("JX91"),Mc=c("a0wz"),wc=c("gw9s"),Dc=c("gzgB"),Sc=c("7PKw"),Vc=c("Fh29"),Rc=c("QibW"),Tc=c("4qFM"),jc=c("awCs"),Ic=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zc=["upload"];function Nc(e,t){if(1&e&&(V.Vb(0,"div"),V.hc(1,"async"),V.Vb(2,"app-form-field",20),V.Qb(3,"app-content-upload-input",21,22),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Hb("w-50",V.ic(1,2,n.breakpoint$)>n.breakPoint.Small)}}function Ac(e,t){if(1&e&&(V.Vb(0,"div",23),V.Vb(1,"mat-error"),V.Pc(2),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(2),V.Rc(" ",n.teamNamePlaceholder," ")}}function Fc(e,t){if(1&e&&(V.Vb(0,"option",24),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n),V.Db(1),V.Rc(" ",n," ")}}function Lc(e,t){1&e&&(V.Vb(0,"div",23),V.Vb(1,"mat-error"),V.Pc(2," Please enter a valid website (e.g. www.website.com or website.com). "),V.Ub(),V.Ub())}function Ec(e,t){if(1&e&&(V.Vb(0,"option",24),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n),V.Db(1),V.Rc(" ",n," ")}}function Bc(e,t){1&e&&(V.Vb(0,"div",25),V.Qb(1,"input",26),V.Ub())}function Qc(e,t){if(1&e&&(V.Vb(0,"div",8),V.Nc(1,Nc,5,4,"div",9),V.Vb(2,"app-form-field",10),V.Qb(3,"input",11),V.Nc(4,Ac,3,1,"div",12),V.Ub(),V.Vb(5,"app-form-field",10),V.Vb(6,"select",13),V.Qb(7,"option",14),V.Nc(8,Fc,2,2,"option",15),V.Ub(),V.Ub(),V.Vb(9,"app-form-field",10),V.Qb(10,"input",16),V.Nc(11,Lc,3,0,"div",12),V.Ub(),V.Vb(12,"app-form-field",10),V.Vb(13,"select",17),V.Qb(14,"option",14),V.Nc(15,Ec,2,2,"option",15),V.Qb(16,"option",18),V.Ub(),V.Nc(17,Bc,2,0,"div",19),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(1),V.mc("ngIf",!n.environment.native),V.Db(1),V.mc("label",n.teamNameLabel),V.Db(1),V.mc("minlength",n.minNameLength)("maxlength",n.maxNameLength),V.Db(1),V.mc("ngIf",n.nameField.touched&&n.nameField.invalid),V.Db(1),V.mc("label",n.teamSizeLabel),V.Db(3),V.mc("ngForOf",n.teamSizes),V.Db(1),V.mc("label",n.teamWebsiteLabel),V.Db(2),V.mc("ngIf",n.websiteField.touched&&n.websiteField.invalid),V.Db(1),V.mc("label",n.teamIndustryLabel),V.Db(3),V.mc("ngForOf",n.teamIndustries),V.Db(1),V.mc("label","Other")("value","Other"),V.Db(1),V.mc("ngIf","Other"===n.form.get("industry").value)}}function $c(e,t){1&e&&(V.Vb(0,"div",8),V.Vb(1,"app-form-field",27),V.Vb(2,"mat-radio-group",28),V.Vb(3,"mat-radio-button",29),V.Pc(4,"Wikipedia"),V.Ub(),V.Vb(5,"mat-radio-button",30),V.Pc(6,"NCIT"),V.Ub(),V.Ub(),V.Vb(7,"p",31),V.Pc(8," The description source to use when no official BioDigital description is available. "),V.Ub(),V.Ub(),V.Ub())}function qc(e,t){1&e&&V.Rb(0)}function Gc(e,t){if(1&e&&(V.Tb(0),V.Vb(1,"legend",32),V.Pc(2,"Create your team"),V.Ub(),V.Vb(3,"p",33),V.Pc(4,"Tell us about your team to set up your account."),V.Ub(),V.Vb(5,"div",34),V.Nc(6,qc,1,0,"ng-container",35),V.Ub(),V.Sb()),2&e){V.gc();var n=V.yc(3);V.Db(6),V.mc("ngTemplateOutlet",n)}}function Wc(e,t){1&e&&V.Rb(0)}function Jc(e,t){1&e&&V.Rb(0)}function Hc(e,t){if(1&e&&(V.Tb(0),V.Vb(1,"legend",36),V.Pc(2,"Team Management"),V.Ub(),V.Vb(3,"app-tabs",37),V.Vb(4,"app-tab",38),V.Nc(5,Wc,1,0,"ng-container",35),V.Ub(),V.Vb(6,"app-tab",39),V.Nc(7,Jc,1,0,"ng-container",35),V.Ub(),V.Ub(),V.Sb()),2&e){V.gc();var n=V.yc(3),i=V.yc(5);V.Db(5),V.mc("ngTemplateOutlet",n),V.Db(2),V.mc("ngTemplateOutlet",i)}}function Kc(e,t){1&e&&V.Qb(0,"app-spinner",40)}var Yc=new RegExp("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?","i");new RegExp("^[1-9]\\d*$");var Zc,Xc,ea=((Xc=function(){function e(t,n,i,c,a,o){u(this,e),this.organizationsService=t,this.formBuilder=n,this.store=i,this.actions=c,this.snackBar=a,this.changeRef=o,this.environment=dt.a,this.accountPurposeEnum=te.a,this.breakPoint=D.a,this.minNameLength=3,this.maxNameLength=45,this.organizationCreated=new V.p,this.organizationUpdated=new V.p,this.teamIndustries=[],this.ngUnsubscribe=new _.a;var r=this.store.selectSnapshot(w.a.isDeveloperReferral)?"developer":"";this.form=this.formBuilder.group({account_name:["",[H.C.required,H.C.minLength(this.minNameLength),H.C.maxLength(this.maxNameLength)]],website:["",[H.C.required,H.C.pattern(Yc)]],account_logo_url:[this.createImageURLs()],account_logo:[this.createAccountLogo()],size:["",[H.C.required]],industry:["",H.C.required],industryDescription:[""],purposeDescription:[r],anatomyDescriptionFallback:[null]},{validators:this.getFormValidator()})}return b(e,[{key:"formAccountLogoURL",get:function(){return Object(P.get)(this.form,"value.account_logo_url.default","")}},{key:"mode",get:function(){return Object(P.isNil)(this.organization)?"create":"manage"}},{key:"nameField",get:function(){return this.form.get("account_name")}},{key:"websiteField",get:function(){return this.form.get("website")}},{key:"sizeField",get:function(){return this.form.get("size")}},{key:"ngOnInit",value:function(){if(this.setTeamFields(this.purpose),this.initLoadingState(),this.initFormListeners(),this.initActionListeners(),this.store.dispatch(new W.u),this.organization)this.setExistingOrganizationFormValues(this.organization);else{var e=this.store.selectSnapshot(w.a.isDeveloperReferral);this.setNewOrganizationFormValues(e)}}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initLoadingState",value:function(){var e=this;Object(K.b)([this.store.select(w.a.getLoading),this.store.select(J.a.getCreating),this.store.select(J.a.getUpdating)]).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=o(t,3),i=n[0],c=n[1],a=n[2];e.actionState=i||c||a,"create"===e.mode?e.actionLabel=(c?"Creating":"Create")+" Team":"manage"===e.mode&&(e.actionLabel=(a?"Saving":"Save")+" Changes"),e.changeRef.markForCheck()}))}},{key:"setTeamFields",value:function(e){this.purpose=e===te.a.Education?te.a.Education:te.a.Business,this.teamIndustries=se[this.purpose]||[],this.teamSizes=ue[this.purpose]||[],this.teamNameLabel=this.purpose===te.a.Education?"School Name":"Company Name",this.teamNamePlaceholder="Your ".concat(this.teamNameLabel.toLowerCase()," must be ").concat(this.minNameLength," or more characters."),this.teamWebsiteLabel=this.purpose===te.a.Education?"School Website":"Company Website",this.teamSizeLabel=this.purpose===te.a.Education?"# of Students":"Company Size",this.teamIndustryLabel=this.purpose===te.a.Education?"Education Level":"Company Industry"}},{key:"initFormListeners",value:function(){var e=this;this.form.valueChanges.pipe(Object(Uc.a)(this.formAccountLogoURL),Object(q.a)((function(){return!!e.formAccountLogoURL})),Object(Y.a)(),Object(U.b)((function(){return e.getOrganizationLogoModel()})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.form.patchValue({account_logo:t})}))}},{key:"initActionListeners",value:function(){var e=this;(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),Object(fc.a)(t,void 0).lift(new yc(i))})(this.actions.pipe(Object(y.l)(W.pb)),this.actions.pipe(Object(y.l)(Mc.g))).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new W.u),e.organizationCreated.next(),e.snackBar.open("Your team has been successfully created.")})),this.actions.pipe(Object(y.l)(Mc.f),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Object(P.get)(t.error,"status",400),i=Object(gt.a)(t.error),c="There was an error creating your team.";i?c=i:413===n&&(c="The file size of your logo is too large. Please upload a new logo and try again."),e.snackBar.open(c)})),this.actions.pipe(Object(y.l)(Mc.C),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new W.u),e.organizationUpdated.next(),e.snackBar.open("Your team has been successfully updated.")})),this.actions.pipe(Object(y.l)(Mc.B),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Object(gt.a)(t.error);e.snackBar.open(n||"There was an error updating your team.")}))}},{key:"handleDeleteLogoClick",value:function(){this.form.patchValue({account_logo_url:this.createImageURLs(),account_logo:this.createAccountLogo()}),this.changeRef.markForCheck()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.value;"create"===this.mode?this.createTeam(e):"manage"===this.mode&&this.updateTeam(this.organization.id,e)}}},{key:"setNewOrganizationFormValues",value:function(e){this.form.patchValue({purposeDescription:e?"developer":""})}},{key:"setExistingOrganizationFormValues",value:function(e){var t=e.group_attributes,n=this.getTeamAccountSetting(t,"account_purpose"),i=this.getTeamAccountSetting(t,"account_field"),c=this.getTeamAccountSetting(t,"account_company_size"),a=this.getTeamAccountSetting(t,"account_company_website"),o=this.getTeamAppSetting(t,"anatomy_description_fallback"),r=e.group_logos.default||"",s=r.split(".").pop(),l=this.createImageURLs(r),u=this.createAccountLogo(r,s);this.setTeamFields(n?n.value:te.a.Business);var p=Object(P.get)(n,"description","");p="developer"===p?"developer":"";var b=Object(P.get)(o,"value",Dc.a.Wikipedia);this.form.patchValue({account_name:e.name,website:a?a.value:"",account_logo_url:l,account_logo:u,size:c?c.value:"",industry:i?i.value:"",industryDescription:i?i.value_desc:"",purposeDescription:p,anatomyDescriptionFallback:b})}},{key:"getTeamAccountSetting",value:function(e,t){return this.organizationsService.getOrganizationAttribute(e,"account_settings",t)}},{key:"getTeamAppSetting",value:function(e,t){return this.organizationsService.getOrganizationAttribute(e,"app_settings",t)}},{key:"createTeam",value:function(e){var t=this.createTeamFromValues(e);this.store.dispatch(new W.pb({account_settings:t.account_settings})),this.store.dispatch(new Mc.e(t))}},{key:"updateTeam",value:function(e,t){var n=this.createTeamFromValues(t),i=n.account_logo,c=!this.formAccountLogoURL,a=Object.assign(Object.assign({},n),{group_id:e,account_logo:c?this.createAccountLogo("","",!0):i});this.store.dispatch(new Mc.A(a))}},{key:"createTeamFromValues",value:function(e){var t=e.account_name,n=e.account_logo;return{account_name:t,account_settings:this.createTeamAccountSettings(this.purpose,e),account_logo:n.default.image_src?n:void 0}}},{key:"createTeamAccountSettings",value:function(e,t){var n=t.size,i=t.industry,c=t.industryDescription,a=t.website,o=t.purposeDescription,r=t.anatomyDescriptionFallback;return Object(Z.a)({account_purpose:{value:e,description:o},account_field:{value:i,description:"Other"===i?c:""},account_company_size:n,account_company_website:a,anatomy_description_fallback:r})}},{key:"getFormValidator",value:function(){return function(e){var t=e.value,n=t.industry,i=t.industryDescription,c="Other"===n&&""===i;return c?{invalidIndustry:c}:null}}},{key:"getOrganizationLogoModel",value:function(){var e=this,t=this.upload?this.upload.getBlob():void 0;if(this.formAccountLogoURL&&!Object(P.isNil)(t)){var n=t.type.split("/")[1];return Object(kc.a)(t).pipe(Object(U.b)((function(e){return wc.a.blobToBase64(e)})),Object(q.a)((function(t){return e.createAccountLogo(t,n)})))}return Object(kc.a)(this.createAccountLogo("",""))}},{key:"createAccountLogo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{default:{delete:n?"1":"0",image_type:t,image_src:e}}}},{key:"createImageURLs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?{default:e,small:e,large:e}:void 0}}]),e}()).\u0275fac=function(e){return new(e||Xc)(V.Pb(Sc.a),V.Pb(H.f),V.Pb(y.h),V.Pb(y.b),V.Pb(Re.b),V.Pb(V.i))},Xc.\u0275cmp=V.Jb({type:Xc,selectors:[["app-team-create"]],viewQuery:function(e,t){var n;1&e&&V.Vc(zc,!0),2&e&&V.xc(n=V.dc())&&(t.upload=n.first)},inputs:{organization:"organization",purpose:"purpose"},outputs:{organizationCreated:"organizationCreated",organizationUpdated:"organizationUpdated"},decls:13,vars:9,consts:[[1,"create","theme-light",3,"formGroup","ngSwitch","ngSubmit"],["profileTmpl",""],["settingsTmpl",""],["type","hidden","formControlName","purposeDescription","data-test","purposeDescription"],[4,"ngSwitchCase"],[1,"flex","flex-row","justify-end"],["type","submit","app-button","","buttonSize","medium","buttonTheme","light","buttonType","primary","data-test","teamActionButton",3,"disabled"],["size","medium","class","ml-2","render","inline",4,"ngIf"],[1,"create__fields","mv-5"],[3,"w-50",4,"ngIf"],["theme","light",3,"label"],["type","text","formControlName","account_name","data-test","account_name",1,"input",3,"minlength","maxlength"],["class","mt-1",4,"ngIf"],["formControlName","size","data-test","size",1,"input"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","url","formControlName","website","data-test","website",1,"input"],["formControlName","industry","data-test","industry",1,"input"],[3,"label","value"],["class","mt-2",4,"ngIf"],["theme","light","label",""],["type","image","layout","compact","theme","simple","label","Add optional logo","tooltip","Recommended image size: 238x40 pixels","formControlName","account_logo_url"],["upload",""],[1,"mt-1"],[3,"value"],[1,"mt-2"],["type","text","formControlName","industryDescription",1,"input"],["theme","light","label","Anatomy Description Fallback"],["formControlName","anatomyDescriptionFallback",1,"flex","flex-column"],["value","wikipedia",1,"mv-1","text-12"],["value","ncit",1,"mv-1","text-12"],[1,"text-12","mt-3"],[1,"text-28","text-semibold"],[1,"text-16","mt-3","mb-5"],[1,"mt-10"],[4,"ngTemplateOutlet"],[1,"mb-5","text-20","text-semibold"],["tabSize","medium","tabTheme","light"],["label","Profile"],["label","Settings"],["size","medium","render","inline",1,"ml-2"]],template:function(e,t){1&e&&(V.Vb(0,"form",0),V.cc("ngSubmit",(function(){return t.onSubmit()})),V.Vb(1,"fieldset"),V.Nc(2,Qc,18,14,"ng-template",null,1,V.Oc),V.Nc(4,$c,9,0,"ng-template",null,2,V.Oc),V.Qb(6,"input",3),V.Nc(7,Gc,7,1,"ng-container",4),V.Nc(8,Hc,8,2,"ng-container",4),V.Ub(),V.Vb(9,"div",5),V.Vb(10,"button",6),V.Pc(11),V.Nc(12,Kc,1,0,"app-spinner",7),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.mc("formGroup",t.form)("ngSwitch",t.mode),V.Db(7),V.mc("ngSwitchCase","create"),V.Db(1),V.mc("ngSwitchCase","manage"),V.Db(2),V.Hb("w-100","create"===t.mode),V.mc("disabled",t.form.invalid||t.actionState),V.Db(1),V.Rc(" ",t.actionLabel," "),V.Db(1),V.mc("ngIf",t.actionState))},directives:[H.E,H.s,H.j,m.r,H.c,H.r,H.i,m.s,Te.a,m.p,Ne.a,H.n,H.m,H.B,H.v,H.D,m.o,Vc.a,mt.b,Rc.b,Rc.a,m.u,Tc.a,jc.a,jn.a],pipes:[m.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(S.a.getBreakpoint),Ic("design:type",O.a)],Xc.prototype,"breakpoint$",void 0),Xc),ta=((Zc=function(){function e(t,n){u(this,e),this.dialogRef=t,this.data=n,this.ngUnsubscribe=new _.a,this.organization=n.organization}return b(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleCancelClick",value:function(){this.closeDialog()}},{key:"handleOrganizationUpdated",value:function(){this.closeDialog()}},{key:"closeDialog",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Zc)(V.Pb(Rn.g),V.Pb(Rn.a))},Zc.\u0275cmp=V.Jb({type:Zc,selectors:[["app-team-manage-dialog"]],decls:4,vars:3,consts:[["role","dialog","aria-modal","true",1,"dialog"],[3,"organization","organizationUpdated"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",1,"dialog__close",3,"click"],["icon","times","size","lg"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"app-team-create",1),V.cc("organizationUpdated",(function(){return t.handleOrganizationUpdated()})),V.Ub(),V.Vb(2,"button",2),V.cc("click",(function(){return t.handleCancelClick()})),V.Qb(3,"app-icon",3),V.Ub(),V.Ub()),2&e&&(V.Eb("aria-label","Team Management"),V.Db(1),V.mc("organization",t.organization),V.Db(1),V.Eb("aria-label","Close"))},directives:[ea,Te.a,z.a],styles:[".dialog[_ngcontent-%COMP%]{position:relative;width:480px;min-height:320px;max-height:100%;padding:20px}.dialog__close[_ngcontent-%COMP%]{position:absolute;top:18px;right:12px}@media (max-width:480px){.dialog[_ngcontent-%COMP%]{width:100vw}}"],changeDetection:0}),Zc),na=c("lMGN"),ia=c("kR+W"),ca=c("PWQe"),aa=c("Iab2"),oa=c("FnMX"),ra=c("JIr8");function sa(e,t){if(1&e&&V.Qb(0,"app-icon",2),2&e){var n=V.gc();V.mc("icon",n.icon)}}var la,ua,pa=((ua=function(){function e(){u(this,e),this.size="medium",this.type="outline",this.color="#CCCCCC"}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ua)},ua.\u0275cmp=V.Jb({type:ua,selectors:[["app-profile-badge"]],inputs:{size:"size",type:"type",color:"color",icon:"icon",label:"label"},decls:3,vars:12,consts:[[1,"badge","text-uppercase","text-medium"],[3,"icon",4,"ngIf"],[3,"icon"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Nc(1,sa,1,1,"app-icon",1),V.Pc(2),V.Ub()),2&e&&(V.Hb("badge--outline","outline"===t.type)("badge--solid","solid"===t.type)("badge--small","small"===t.size)("badge--medium","medium"===t.size)("badge--large","large"===t.size),V.Db(1),V.mc("ngIf",t.icon),V.Db(1),V.Rc(" ",t.label,"\n"))},directives:[m.p,z.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:50%;color:#101823}.badge--outline[_ngcontent-%COMP%]{border:1px solid #fff;background-color:rgba(150,168,192,.6);color:#fff}.badge--small[_ngcontent-%COMP%]{width:32px;height:32px;font-size:11px;letter-spacing:.275px;line-height:1.4em}.badge--medium[_ngcontent-%COMP%]{width:40px;height:40px;font-size:13px;letter-spacing:.325px;line-height:1.4em}.badge--large[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.375px}.badge--large[_ngcontent-%COMP%], .badge--x-large[_ngcontent-%COMP%]{width:48px;height:48px;line-height:1.4em}.badge--x-large[_ngcontent-%COMP%]{font-size:17px;letter-spacing:.425px}"],changeDetection:0}),ua),ba=((la=function e(){u(this,e)}).\u0275fac=function(e){return new(e||la)},la.\u0275cmp=V.Jb({type:la,selectors:[["app-team-user"]],inputs:{user:"user"},decls:10,vars:7,consts:[[1,"team-user","flex","flex-row","flex-grow","align-center","items-center"],[1,"team-user__badge","mr-3"],["type","outline","size","small",3,"label","icon"],[1,"team-user__text"],["data-test","teamMemberName",1,"team-user__name","text-13","text-medium"],["data-test","teamMemberEmail",1,"team-user__email","text-11"],["data-test","teamMemberInfo",1,"team-user__role","flex","flex-row","items-center","justify-end","mh-2","text-10"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"div",1),V.Qb(2,"app-profile-badge",2),V.Ub(),V.Vb(3,"div",3),V.Vb(4,"div",4),V.Pc(5),V.Ub(),V.Vb(6,"div",5),V.Pc(7),V.Ub(),V.Ub(),V.Vb(8,"div",6),V.Pc(9),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.mc("label",t.user.initials)("icon",t.user.initials?"":"user"),V.Db(3),V.Rc(" ",t.user.name," "),V.Db(2),V.Rc(" ",t.user.email," "),V.Db(1),V.Hb("team-user__role--expired","expired"===t.user.invitationStatus),V.Db(1),V.Rc(" ",t.user.invitationStatus?t.user.invitationStatus:t.user.role.role_display_name," "))},directives:[pa],styles:[".team-user__badge[_ngcontent-%COMP%]{align-self:center}.team-user__text[_ngcontent-%COMP%]{width:0;flex-grow:1;flex-shrink:1;overflow:hidden}.team-user__name[_ngcontent-%COMP%]{color:#1c2a3f}.team-user__email[_ngcontent-%COMP%], .team-user__name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.team-user__email[_ngcontent-%COMP%]{color:#374a68}.team-user__role[_ngcontent-%COMP%]{text-transform:uppercase;color:#96a8c0}.team-user__role--expired[_ngcontent-%COMP%]{color:#ed4758}"],changeDetection:0}),la);function ga(e,t){if(1&e&&(V.Vb(0,"div",14),V.Vb(1,"p"),V.Pc(2),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(2),V.Qc(n.message)}}function da(e,t){1&e&&V.Qb(0,"app-team-user",15),2&e&&V.mc("user",t.$implicit)}function fa(e,t){if(1&e&&(V.Vb(0,"option",16),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.id),V.Db(1),V.Sc(" ",n.name,"(",n.email,") ")}}function ma(e,t){if(1&e&&(V.Vb(0,"div",6),V.Nc(1,ga,3,1,"div",7),V.Vb(2,"app-form-field",8),V.Nc(3,da,1,1,"app-team-user",9),V.Ub(),V.Vb(4,"app-form-field",10),V.Vb(5,"select",11),V.Vb(6,"option",12),V.Pc(7,"-- Select User --"),V.Ub(),V.Nc(8,fa,2,3,"option",13),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc();V.mc("formGroup",n.form),V.Db(1),V.mc("ngIf",n.message),V.Db(2),V.mc("ngForOf",n.sourceUsers),V.Db(1),V.mc("label","To User ("+n.availableRoles.join(" OR ")+")"),V.Db(4),V.mc("ngForOf",n.availableUsers)}}var ha,va=[G.a.Creator,G.a.Admin],xa=((ha=function(){function e(t,n,i,c,a,o,r,s){u(this,e),this.data=t,this.dialogRef=n,this.formBuilder=i,this.store=c,this.actions=a,this.changeRef=o,this.snackBar=r,this.usersService=s,this.availableRoles=va,this.availableUsers=[],this.sourceUsers=[],this.transferring=!1,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initOrganization(),this.initMessaging()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){this.form=this.formBuilder.group({targetUserId:[""+(this.data.targetUserId||""),H.C.required]})}},{key:"initOrganization",value:function(){var e=this,t=this.store.selectSnapshot(na.a.getUsers);this.sourceUsers=this.data.sourceUsers;var n=new Set(this.sourceUsers.map((function(e){return e.id})));this.availableUsers=t.filter((function(e){var t=va.includes(e.user_role.role_name),i=n.has(e.user_id);return t&&!i})).sort((function(e,t){var n,i;return Object(P.trim)((null!==(n=e.user_first_name)&&void 0!==n?n:"").toLocaleUpperCase())>Object(P.trim)((null!==(i=t.user_first_name)&&void 0!==i?i:"").toLocaleUpperCase())?1:-1})).map((function(t){return e.usersService.createUserDisplayModel(t)})),this.message="Transfer the original save location and management permissions of the user(s)' content to a new owner",this.data.action===gc.a.RemoveUser&&(this.message+=" before removing the user(s).")}},{key:"initMessaging",value:function(){var e=this;this.actions.pipe(Object(y.l)(ia.t),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.transferring=!0,e.changeRef.markForCheck()})),this.actions.pipe(Object(y.l)(ia.v),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.transferring=!1,e.dialogRef.close(t.users),e.changeRef.markForCheck()})),this.actions.pipe(Object(y.l)(ia.u),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.transferring=!1,e.snackBar.open("There was an error transferring user content, please try again."),e.changeRef.markForCheck()}))}},{key:"handleTransferClick",value:function(){var e=this.data,t=e.organization,n=e.sourceUsers,i=parseInt(this.form.value.targetUserId,10),c=n.map((function(e){return{sourceUserId:e.id,targetUserId:i}}));this.store.dispatch(new ia.t(t.id,c))}}]),e}()).\u0275fac=function(e){return new(e||ha)(V.Pb(Rn.a),V.Pb(Rn.g),V.Pb(H.f),V.Pb(y.h),V.Pb(y.b),V.Pb(V.i),V.Pb(Re.b),V.Pb(oa.a))},ha.\u0275cmp=V.Jb({type:ha,selectors:[["app-team-transfer-dialog"]],decls:9,vars:2,consts:[["data-test","teamTransferDialog",1,"dialog"],["mat-dialog-title","",1,"text-18"],["mat-dialog-content","",3,"formGroup",4,"ngIf"],["mat-dialog-actions",""],["app-button","","buttonTheme","light","mat-dialog-close","",1,"mr-4"],["app-button","","buttonType","primary",3,"disabled","click"],["mat-dialog-content","",3,"formGroup"],["class","mv-3 text-14",4,"ngIf"],["label","From User"],["class","flex flex-grow mv-1 pv-2",3,"user",4,"ngFor","ngForOf"],[3,"label"],["formControlName","targetUserId",1,"input"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"mv-3","text-14"],[1,"flex","flex-grow","mv-1","pv-2",3,"user"],[3,"value"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"h1",1),V.Pc(2,"Transfer Content"),V.Ub(),V.Nc(3,ma,9,5,"div",2),V.Vb(4,"div",3),V.Vb(5,"button",4),V.Pc(6,"Cancel"),V.Ub(),V.Vb(7,"button",5),V.cc("click",(function(){return t.handleTransferClick()})),V.Pc(8," Transfer Content "),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.mc("ngIf",t.sourceUsers),V.Db(4),V.mc("disabled",t.form.invalid||t.transferring))},directives:[Rn.h,m.p,Rn.c,Te.a,Rn.d,Rn.e,H.s,H.j,Ne.a,m.o,H.B,H.r,H.i,H.v,H.D,ba],styles:[".dialog__user-role[_ngcontent-%COMP%]{text-transform:uppercase;color:#96a8c0}"],changeDetection:0}),ha);function ya(e,t){1&e&&V.Qb(0,"app-team-user",12),2&e&&V.mc("user",t.$implicit)}function Pa(e,t){if(1&e&&(V.Vb(0,"option",13),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.mc("value",n.value),V.Db(1),V.Rc(" ",n.label," ")}}var _a,Oa=function(e){return e.Transfer="transfer",e.Remove="remove",e}({}),Ca=((_a=function(){function e(t,n,i){u(this,e),this.data=t,this.dialogRef=n,this.formBuilder=i,this.contentOptions=[{value:Oa.Transfer,label:"Transfer ownership to a different team member"},{value:Oa.Remove,label:"Make private and remove from team"}]}return b(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({contentOptions:[Oa.Transfer,H.C.required]})}},{key:"handleRemoveClick",value:function(){this.dialogRef.close(this.form.value.contentOptions)}}]),e}()).\u0275fac=function(e){return new(e||_a)(V.Pb(Rn.a),V.Pb(Rn.g),V.Pb(H.f))},_a.\u0275cmp=V.Jb({type:_a,selectors:[["app-team-remove-users-dialog"]],decls:18,vars:5,consts:[["data-test","teamRemoveUserDialog",1,"dialog"],["mat-dialog-title","",1,"text-18"],["mat-dialog-content","",3,"formGroup"],[1,"mv-3","text-14"],[1,"text-bold"],["class","flex flex-grow mv-1 pv-2",3,"user",4,"ngFor","ngForOf"],["label","What would you like to do with their 3D models?"],["formControlName","contentOptions",1,"input"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["app-button","","buttonTheme","light","mat-dialog-close","",1,"mr-4"],["app-button","","buttonType","primary",3,"click"],[1,"flex","flex-grow","mv-1","pv-2",3,"user"],[3,"value"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"h1",1),V.Pc(2),V.Ub(),V.Vb(3,"div",2),V.Vb(4,"div",3),V.Pc(5," Are you sure you want to remove the following user(s)? They will no longer have access to "),V.Vb(6,"span",4),V.Pc(7),V.Ub(),V.Ub(),V.Vb(8,"app-form-field"),V.Nc(9,ya,1,1,"app-team-user",5),V.Ub(),V.Vb(10,"app-form-field",6),V.Vb(11,"select",7),V.Nc(12,Pa,2,2,"option",8),V.Ub(),V.Ub(),V.Ub(),V.Vb(13,"div",9),V.Vb(14,"button",10),V.Pc(15,"Cancel"),V.Ub(),V.Vb(16,"button",11),V.cc("click",(function(){return t.handleRemoveClick()})),V.Pc(17,"Remove"),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.Rc("Remove ",t.data.users.length," User(s)"),V.Db(1),V.mc("formGroup",t.form),V.Db(4),V.Qc(t.data.organization.name),V.Db(2),V.mc("ngForOf",t.data.users),V.Db(3),V.mc("ngForOf",t.contentOptions))},directives:[Rn.h,Rn.e,H.s,H.j,Ne.a,m.o,H.B,H.r,H.i,Rn.c,Te.a,Rn.d,ba,H.v,H.D],styles:[".dialog__user-role[_ngcontent-%COMP%]{text-transform:uppercase;color:#96a8c0}"],changeDetection:0}),_a);function ka(e,t){1&e&&V.Qb(0,"app-team-user",9),2&e&&V.mc("user",t.$implicit)}var Ua,Ma,wa=((Ma=function(){function e(t,n){u(this,e),this.data=t,this.dialogRef=n}return b(e,[{key:"ngOnInit",value:function(){this.newRoleName=this.data.role.role_display_name}},{key:"handleConfirmClick",value:function(){this.dialogRef.close(!0)}}]),e}()).\u0275fac=function(e){return new(e||Ma)(V.Pb(Rn.a),V.Pb(Rn.g))},Ma.\u0275cmp=V.Jb({type:Ma,selectors:[["app-team-confirm-role-dialog"]],decls:16,vars:2,consts:[["data-test","teamConfirmRoleDialog",1,"dialog"],["mat-dialog-title","",1,"text-18"],["mat-dialog-content",""],[1,"mv-3","text-14"],[1,"text-bold"],["class","flex flex-grow mv-1 pv-2",3,"user",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["app-button","","buttonTheme","light","mat-dialog-close","",1,"mr-4"],["app-button","","buttonType","primary",3,"click"],[1,"flex","flex-grow","mv-1","pv-2",3,"user"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"h1",1),V.Pc(2,"Confirm Role Change"),V.Ub(),V.Vb(3,"div",2),V.Vb(4,"div",3),V.Vb(5,"p"),V.Pc(6," Are you sure you want to change the role of the following user(s) to "),V.Vb(7,"span",4),V.Pc(8),V.Ub(),V.Pc(9,"? "),V.Ub(),V.Ub(),V.Nc(10,ka,1,1,"app-team-user",5),V.Ub(),V.Vb(11,"div",6),V.Vb(12,"button",7),V.Pc(13,"Cancel"),V.Ub(),V.Vb(14,"button",8),V.cc("click",(function(){return t.handleConfirmClick()})),V.Pc(15," Confirm Role Change "),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(8),V.Qc(t.newRoleName),V.Db(2),V.mc("ngForOf",t.data.users))},directives:[Rn.h,Rn.e,m.o,Rn.c,Te.a,Rn.d,ba],styles:[""],changeDetection:0}),Ma),Da=((Ua=function(){function e(t,n){u(this,e),this.dialog=t,this.usersService=n}return b(e,[{key:"removeUser",value:function(e,t){var n=this;return this.confirmRemoveUser(e,t).pipe(Object(U.b)((function(i){if(i===Oa.Transfer)return n.transferUserContent(e,t,gc.a.RemoveUser);if(i===Oa.Remove){var c=t.map((function(e){return{sourceUserId:e.id}}));return Object(kc.a)(c)}return Object(kc.a)(!1)})),Object(U.b)((function(t){return t?n.usersService.removeUsers(e.id,t).pipe(Object(ra.a)((function(){return Object(kc.a)(!1)})),Object(q.a)((function(e){return{success:e,targetUserId:t[0].targetUserId}}))):Object(kc.a)({success:!1})})))}},{key:"setUserRole",value:function(e,t,n){var i=this,c=n.role_id,a=n.role_name,o=t.map((function(e){return{userId:e.id,roleId:c}})),r=[];return a===G.a.Viewer&&(r=t.filter((function(e){return e.role.role_name!==G.a.Viewer}))),(o.length>1?this.confirmRoleChange(t,n):Object(kc.a)(!0)).pipe(Object(U.b)((function(t){return t&&r.length>0?i.transferUserContent(e,r,gc.a.AssignRole):Object(kc.a)(t)})),Object(U.b)((function(t){return t?i.usersService.updateUserRoles(e.id,o):Object(kc.a)(!1)})),Object(ra.a)((function(){return Object(kc.a)(!1)})),Object(q.a)((function(e){return{success:e,targetRoleId:n.role_id}})))}},{key:"confirmRoleChange",value:function(e,t){return this.dialog.open(wa,{id:dc.a.ConfirmRoleDialog,disableClose:!1,maxWidth:"420px",data:{users:e,role:t}}).afterClosed()}},{key:"confirmRemoveUser",value:function(e,t){return this.dialog.open(Ca,{id:dc.a.RemoveUserDialog,disableClose:!1,maxWidth:"420px",data:{organization:e,users:t}}).afterClosed()}},{key:"transferUserContent",value:function(e,t,n){return this.dialog.open(xa,{id:dc.a.TransferUserContentDialog,disableClose:!0,maxWidth:"420px",data:{organization:e,sourceUsers:t,action:n}}).afterClosed()}}]),e}()).\u0275fac=function(e){return new(e||Ua)(V.Zb(Rn.b),V.Zb(oa.a))},Ua.\u0275prov=V.Lb({token:Ua,factory:Ua.\u0275fac,providedIn:"root"}),Ua);function Sa(e,t){if(1&e&&V.Qb(0,"app-icon",4),2&e){var n=V.gc();V.mc("icon",n.icon)}}var Va,Ra=["*",[["","input-after",""]]],Ta=function(e){return{"input-group--has-icon":e}},ja=["*","[input-after]"],Ia=((Va=function(){function e(){u(this,e),this.icon=""}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Va)},Va.\u0275cmp=V.Jb({type:Va,selectors:[["app-input-group"]],inputs:{icon:"icon"},ngContentSelectors:ja,decls:6,vars:4,consts:[[1,"input-group",3,"ngClass"],["class","input-group__icon",3,"icon",4,"ngIf"],[1,"input-group__main"],[1,"input-group__after"],[1,"input-group__icon",3,"icon"]],template:function(e,t){1&e&&(V.lc(Ra),V.Vb(0,"div",0),V.Nc(1,Sa,1,1,"app-icon",1),V.Vb(2,"div",2),V.kc(3),V.Ub(),V.Vb(4,"div",3),V.kc(5,1),V.Ub(),V.Ub()),2&e&&(V.mc("ngClass",V.pc(2,Ta,t.icon)),V.Db(1),V.mc("ngIf",t.icon))},directives:[m.m,m.p,z.a],styles:[".input-group{display:flex;position:relative}.input-group__icon{display:flex;align-items:center;justify-content:center;position:absolute;z-index:1;top:0;left:0;height:100%;width:36px}.input-group__main{flex:1 1 100%}.input-group__after{position:absolute;top:0;bottom:0;right:0;display:flex;z-index:1}.input-group--has-icon input{padding-left:36px!important}"],encapsulation:2,changeDetection:0}),Va),za=c("STbY"),Na=c("vxfF"),Aa=c("MKnA"),Fa=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},La=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Ea(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",37),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleManageTeamAccountClick()})),V.hc(1,"async"),V.Vb(2,"div",38),V.Qb(3,"app-icon",39),V.Vb(4,"div",40),V.Pc(5,"Manage"),V.Ub(),V.Ub(),V.Ub()}if(2&e){var i=V.gc(2);V.mc("disabled",V.ic(1,1,i.isTrialExpired$))}}function Ba(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",41),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleAddMemberClick()})),V.hc(1,"async"),V.Qb(2,"app-icon",42),V.Ub()}if(2&e){var i=V.gc(2);V.mc("disabled",V.ic(1,1,i.isTrialExpired$))}}function Qa(e,t){if(1&e&&(V.Vb(0,"div",34),V.Nc(1,Ea,6,3,"button",35),V.Nc(2,Ba,3,3,"button",36),V.Ub()),2&e){var n=V.gc();V.Db(1),V.mc("ngIf",n.canManageTeam),V.Db(1),V.mc("ngIf",n.canInviteUsers)}}function $a(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",43),V.cc("click",(function(){return V.Cc(n),V.gc().handleClearQuery()})),V.Pc(1," Clear "),V.Ub()}}function qa(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",44),V.cc("click",(function(){return V.Cc(n),V.gc().switchTab("pending")})),V.Pc(1),V.Ub()}if(2&e){var i=V.gc();V.Hb("team__tab--active","pending"===i.activeTab),V.Db(1),V.Rc(" ",i.invitees.length," Pending Invites ")}}function Ga(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",45),V.cc("click",(function(){return V.Cc(n),V.gc().switchTab("pending")})),V.Pc(1),V.Ub()}if(2&e){var i=V.gc();V.Hb("team__tab--active","pending"===i.activeTab),V.Db(1),V.Rc(" ",i.invitees.length," Pending Invites ")}}function Wa(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",46),V.cc("click",(function(){return V.Cc(n),V.gc().selectAllFilteredUsers()})),V.Pc(1," Select All "),V.Ub()}2&e&&V.mc("uppercase",!1)}function Ja(e,t){1&e&&V.Qb(0,"app-divider",47)}function Ha(e,t){if(1&e&&(V.Vb(0,"button",48),V.Vb(1,"span"),V.Pc(2),V.Qb(3,"app-icon",49),V.Ub(),V.Ub()),2&e){var n=V.gc(),i=V.yc(36),c=V.yc(49);V.mc("uppercase",!1)("matMenuTriggerFor","members"===n.activeTab?i:c),V.Db(2),V.Rc(" ",n.selectedUsers.size," selected ")}}function Ka(e,t){1&e&&V.Qb(0,"app-divider",47)}function Ya(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",58),V.cc("click",(function(){V.Cc(n);var e=V.gc().$implicit;return V.gc().handleUserActionsClick(e)})),V.Qb(1,"app-icon",59),V.Ub()}if(2&e){var i=V.gc().$implicit,c=V.yc(5),a=V.yc(14),o=V.gc();V.mc("matMenuTriggerFor","members"===o.activeTab?c:a)("disabled",o.isCurrentUser(i))}}function Za(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",50),V.cc("click",(function(e){V.Cc(n);var i=t.$implicit;return V.gc().handleUserClick(e,i)})),V.Qb(1,"app-team-user",51),V.Nc(2,Ya,2,2,"button",52),V.hc(3,"async"),V.Vb(4,"mat-menu",null,53),V.Vb(6,"button",21),V.cc("click",(function(){return V.Cc(n),V.gc().transferSelectedUsersContent()})),V.Pc(7," Transfer Content "),V.Ub(),V.Vb(8,"button",54),V.Pc(9," Change Role "),V.Ub(),V.Qb(10,"mat-divider"),V.Vb(11,"button",55),V.cc("click",(function(){return V.Cc(n),V.gc().removeSelectedUsers()})),V.Pc(12," Remove From Team "),V.Ub(),V.Ub(),V.Vb(13,"mat-menu",null,56),V.Vb(15,"button",57),V.cc("click",(function(){return V.Cc(n),V.gc().resendSelectedUsersInvites()})),V.Pc(16," Resend Invite "),V.Ub(),V.Ub(),V.Ub()}if(2&e){var i=t.$implicit,c=V.gc(),a=V.yc(64);V.Hb("team__user--selected",i.selected)("team__user--current",c.isCurrentUser(i)),V.Db(1),V.mc("user",i),V.Db(1),V.mc("ngIf",V.ic(3,7,c.isAdmin$)||c.canInviteUsers&&"pending"===c.activeTab),V.Db(6),V.mc("matMenuTriggerFor",a)}}function Xa(e,t){1&e&&V.Qb(0,"app-spinner",60)}function eo(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",61),V.cc("click",(function(){V.Cc(n);var e=t.$implicit;return V.gc().setSelectedUsersRole(e)})),V.Vb(1,"div",62),V.Pc(2),V.Ub(),V.Vb(3,"div",63),V.Pc(4),V.Ub(),V.Ub()}if(2&e){var i=t.$implicit;V.Db(2),V.Rc(" ",i.role_display_name," "),V.Db(2),V.Rc(" ",i.role_description," ")}}var to,no,io=function(e,t){return{"team__tab--active":e,"team__tab--pointer":t}},co={label:"Role",fields:["role"],dataTest:"roleDescending",ascending:!1},ao={label:"Status",fields:["invitationStatus"],dataTest:"invitationStatusAscending",ascending:!0},oo={label:"Name (A-Z)",fields:["name"],dataTest:"nameAscending",ascending:!0},ro=[co,oo,{label:"Name (Z-A)",fields:["name"],dataTest:"nameDescending",ascending:!1},{label:"Email (A-Z)",fields:["email"],dataTest:"emailAscending",ascending:!0},{label:"Email (Z-A)",fields:["email"],dataTest:"emailDescending",ascending:!1}],so=[ao,oo,{label:"Name (Z-A)",fields:["name"],dataTest:"nameDescending",ascending:!1},{label:"Email (A-Z)",fields:["email"],dataTest:"emailAscending",ascending:!0},{label:"Email (Z-A)",fields:["email"],dataTest:"emailDescending",ascending:!1}],lo=((to=function(){function e(t,n,i,c,a,o,r,s,l){u(this,e),this.store=t,this.actions=n,this.formBuilder=i,this.dialog=c,this.dialogs=a,this.usersService=o,this.organizationActionsService=r,this.changeDetectorRef=s,this.snackBar=l,this.breakpoint=D.a,this.sortOptions=ro,this.sort=oo,this.ngUnsubscribe=new _.a,this.users=[],this.selectedUsers=new Set,this.invitees=[],this.usersToDisplay=[],this.filteredUsersToDisplay=[],this.userLimitMsg="",this.canManageTeam=!1,this.canAssignRoles=!1,this.canRemoveUsers=!1,this.canInviteUsers=!1,this.activeTab="members"}return b(e,[{key:"filtering",get:function(){return""!==this.form.value.search}},{key:"ngOnInit",value:function(){this.initForm(),this.initEventListers(),this.initPermissions(),this.initInviteListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){var e=this;this.form=this.formBuilder.group({search:[""]}),this.form.valueChanges.pipe(Object(uc.a)(125),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.search;e.filteredUsersToDisplay=n?e.filterUsers(e.usersToDisplay,n,e.sort):e.usersToDisplay,e.changeDetectorRef.markForCheck()}))}},{key:"initEventListers",value:function(){var e=this;this.organization$.pipe(Object(C.a)((function(e){return!Object(P.isNil)(e)})),Object(Y.a)((function(e,t){return Object(P.isEqual)(e,t)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.userLimitMsg="Unlimited"!==t.user_limit?"The maximum number of members in your team is ".concat(t.user_limit,"."):"This team has unlimited members.",e.refreshUsers()}));var t=this.users$.pipe(Object(q.a)((function(t){return t.map((function(t){return e.usersService.createUserDisplayModel(t)}))})),Object(M.a)(this.ngUnsubscribe)),n=this.invites$.pipe(Object(q.a)((function(t){return t.map((function(t){return e.usersService.createUserDisplayModel(t.invitee_user,t.invite_status)}))})),Object(M.a)(this.ngUnsubscribe));Object(K.b)([t,n]).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=o(t,2),i=n[0],c=n[1];e.users=i,e.invitees=c,e.synchSelectedUsers();var a=e.form.value.search;e.usersToDisplay="members"===e.activeTab?e.users:e.invitees,e.filteredUsersToDisplay=e.filterUsers(e.usersToDisplay,a,e.sort),e.changeDetectorRef.markForCheck()}))}},{key:"initPermissions",value:function(){var e=this;Object(K.b)([this.users$,this.userRole$]).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=o(t,2)[1];e.canManageTeam=bc.k(n,gc.a.EditTeamAccount),e.canAssignRoles=bc.k(n,gc.a.AssignRole),e.canRemoveUsers=bc.k(n,gc.a.RemoveUser),e.canInviteUsers=bc.k(n,gc.a.InviteUsers),e.changeDetectorRef.markForCheck()})),this.store.dispatch(new W.x)}},{key:"initInviteListener",value:function(){var e=this;this.actions.pipe(Object(y.l)(ia.s),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.responses,i=n.filter((function(e){return"success"===e.status}));0===n.filter((function(e){return"error"===e.status})).length&&(e.snackBar.open(i.length+" invite(s) have been sent"),e.refreshUsers()),e.changeDetectorRef.markForCheck()})),this.actions.pipe(Object(y.l)(ia.r),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.snackBar.open("There was an error sending the invites, please try again."),e.changeDetectorRef.markForCheck()}))}},{key:"handleUserClick",value:function(e,t){this.store.selectSnapshot(w.a.isAdmin)&&(e.shiftKey?t.selected?this.deselectUser(t):this.selectUser(t):(this.deselectAllUsers(),this.selectUser(t)))}},{key:"handleUserActionsClick",value:function(e){this.store.selectSnapshot(w.a.isAdmin)&&this.selectUser(e)}},{key:"handleManageTeamAccountClick",value:function(){var e=this.store.selectSnapshot(J.a.getOrganization);this.manageTeam(e)}},{key:"handleAddMemberClick",value:function(){this.dialogs.openAddUserDialog()}},{key:"handleClearQuery",value:function(){this.form.patchValue({search:""})}},{key:"handleSort",value:function(e){this.sort=e,this.filteredUsersToDisplay=this.sortUsers(this.filteredUsersToDisplay,e),this.changeDetectorRef.markForCheck()}},{key:"trackByUser",value:function(e,t){return t.id}},{key:"filterUsers",value:function(e,t,n){var i=this.searchUsers(e,t);return a(this.sortUsers(i,n))}},{key:"searchUsers",value:function(e,t){if(!t)return e;var n=t.toLocaleLowerCase();return a(e.filter((function(e){return[e.name,e.email].some((function(e){return(e||"").toLocaleLowerCase().includes(n)}))})))}},{key:"sortUsers",value:function(e,t){var n=t.ascending,i=t.fields;return t.label===co.label?this.sortUsers(e,oo).sort((function(e,t){var i=e.role.role_name,c=t.role.role_name;return Object(pc.a)(i,c)*(n?1:-1)})):a(Object(vi.a)(e,i,n))}},{key:"switchTab",value:function(e){this.activeTab=e,"members"===e?(this.usersToDisplay=this.users,this.sortOptions=ro,this.sort=oo):"pending"===e&&(this.usersToDisplay=this.users,this.sortOptions=so,this.sort=ao),this.deselectAllUsers(),this.usersToDisplay="members"===e?this.users:this.invitees,this.filteredUsersToDisplay=this.filterUsers(this.usersToDisplay,this.form.value.search,this.sort)}},{key:"resendSelectedUsersInvites",value:function(){var e=this.store.selectSnapshot(J.a.getOrganization).eid,t=Array.from(this.selectedUsers).map((function(e){return{user_email:e.email,role_id:e.role.role_id}}));this.store.dispatch(new ia.q(e,t))}},{key:"transferSelectedUsersContent",value:function(){var e=this,t=this.store.selectSnapshot(J.a.getOrganization),n=Array.from(this.selectedUsers);this.organizationActionsService.transferUserContent(t,n).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleUserTransferResponse(t),t&&(e.deselectAllUsers(),e.changeDetectorRef.markForCheck())}))}},{key:"setSelectedUsersRole",value:function(e){var t=this,n=this.store.selectSnapshot(J.a.getOrganization),i=Array.from(this.selectedUsers);this.organizationActionsService.setUserRole(n,i,e).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(e){t.handleRoleChangeResponse(e),e.success&&t.refreshUsers()}))}},{key:"removeSelectedUsers",value:function(){var e=this,t=this.store.selectSnapshot(J.a.getOrganization),n=Array.from(this.selectedUsers);this.organizationActionsService.removeUser(t,n).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleUserRemoveResponse(t),t.success&&e.refreshUsers()}))}},{key:"trackTeamNode",value:function(e,t){return t.id}},{key:"selectAllFilteredUsers",value:function(){this.filteredUsersToDisplay.forEach(this.selectUser,this)}},{key:"deselectAllUsers",value:function(){this.selectedUsers.forEach(this.deselectUser,this)}},{key:"isCurrentUser",value:function(e){var t=this.store.selectSnapshot(w.a.getUserProfile).id;return e.id===t}},{key:"exportUsersToCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"members",t=Array.from(this.selectedUsers).map((function(e){return{email:e.email,name:e.name,role:e.role.role_display_name,invitationStatus:e.invitationStatus}})),n=[{field:"name",label:"Name"},{field:"email",label:"Email"},{field:"role",label:"Role"}];"invitations"===e&&n.push({field:"invitationStatus",label:"Invitation Status"}),Object(ca.a)(t,n).subscribe((function(t){var n=(new Date).toISOString().split("T")[0],i="members"===e?"biodigital-members-".concat(n,".csv"):"biodigital-invitations-".concat(n,".csv"),c=new Blob([t],{type:"text/csv;charset=utf-8"});Object(aa.saveAs)(c,i)}))}},{key:"selectUser",value:function(e){this.isCurrentUser(e)||(e.selected=!0,this.selectedUsers.add(e))}},{key:"deselectUser",value:function(e){e.selected=!1,this.selectedUsers.delete(e)}},{key:"synchSelectedUsers",value:function(){var e=this,t=new Set(this.users.map((function(e){return e.id}))),n=Array.from(this.selectedUsers).filter((function(e){return t.has(e.id)})).map((function(e){return e.id}));this.deselectAllUsers(),n.forEach((function(t){var n=e.getDisplayUser(t);e.selectUser(n)}))}},{key:"refreshUsers",value:function(){var e=this.store.selectSnapshot(J.a.getOrganization);this.store.dispatch(new ia.a(e.id)),this.store.dispatch(new ia.d(e.id))}},{key:"manageTeam",value:function(e){this.dialog.open(ta,{id:dc.a.AddTeamModelDialog,panelClass:"bg-dialog-responsive",disableClose:!1,data:{organization:e}})}},{key:"handleRoleChangeResponse",value:function(e){if(e.success){var t=this.getRole(e.targetRoleId);this.snackBar.open("The role of ".concat(this.selectedUsers.size," user(s) has been updated to ").concat(t.role_display_name,"."))}else this.snackBar.open("The role of ".concat(this.selectedUsers.size," user(s) was not updated."))}},{key:"handleUserRemoveResponse",value:function(e){if(e.success)if("number"==typeof e.targetUserId){var t=this.getDisplayUser(e.targetUserId);this.snackBar.open("".concat(this.selectedUsers.size," user(s) have been removed from the team and their content transferred to ").concat(t.name||t.email,"."))}else this.snackBar.open(this.selectedUsers.size+" user(s) have been removed from the team and their content deleted.");else this.snackBar.open("The selected user(s) was not removed.")}},{key:"handleUserTransferResponse",value:function(e){if(e){var t=this.getDisplayUser(e[0].targetUserId);this.snackBar.open("The content of ".concat(this.selectedUsers.size," user(s) has been transferred to ").concat(t.name||t.email,"."))}else this.snackBar.open("The content of ".concat(this.selectedUsers.size," user(s) was not transferred"))}},{key:"getDisplayUser",value:function(e){return this.users.find((function(t){return t.id===e}))}},{key:"getRole",value:function(e){return this.store.selectSnapshot(w.a.getUserRoles).find((function(t){return t.role_id===e}))}}]),e}()).\u0275fac=function(e){return new(e||to)(V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(Rn.b),V.Pb(R.a),V.Pb(oa.a),V.Pb(Da),V.Pb(V.i),V.Pb(Re.b))},to.\u0275cmp=V.Jb({type:to,selectors:[["app-team-manage"]],decls:67,vars:50,consts:[["label","Team"],["panel-view-actions","",4,"ngIf"],[1,"team",3,"formGroup"],[1,"text-14","mb-8"],[1,"text-bold"],[1,"mb-3"],["icon","search"],["type","text","placeholder","Search...","formControlName","search",1,"input"],["type","button","buttonSize","xsmall","buttonType","default","app-button","","input-after","","buttonTheme","light","class","mr-2",3,"click",4,"ngIf"],[2,"display","block"],[1,"team__tab","team__tab--mobile","text-12","text-semibold",3,"ngClass","click"],["class","team__tab team__tab--mobile text-12 text-semibold",3,"team__tab--active","click",4,"ngIf"],[1,"team__header"],[1,"team__tab","team__tab--desktop","text-12","text-semibold",3,"ngClass","click"],["class","team__tab team__tab--desktop text-12 text-semibold","data-test","desktopPendingInvites",3,"team__tab--active","click",4,"ngIf"],[1,"team__selection"],[1,"flex","items-center"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectAllUsersButton",3,"uppercase","click",4,"ngIf"],["class","mh-1",4,"ngIf"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectedUsersActionsButton",3,"uppercase","matMenuTriggerFor",4,"ngIf"],["selectedUsersActions","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",1,"text-danger",3,"click"],["selectedInviteeActions","matMenu"],["mat-menu-item","","data-test","resendSelectedUserInvites",3,"click"],["data-test","teamSort"],[3,"sortLabel","sortOptions","sort","sortChange"],[1,"pv-2","pl-2"],[1,"team__users",3,"itemSize"],["class","team__user flex flex-row align-center items-center","data-test","teamMember",3,"team__user--selected","team__user--current","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["size","huge",4,"ngIf"],["userRolesMenu","matMenu"],["class","flex flex-column team__role-option pv-2","mat-menu-item","","data-test","userRoleMenuItem",3,"click",4,"ngFor","ngForOf"],["panel-view-actions",""],["type","button","class","mr-2","app-button","","buttonType","outline","buttonTheme","light","data-test","teamManageButton",3,"disabled","click",4,"ngIf"],["type","button","app-button","","buttonType","outline","buttonTheme","light","buttonShape","square","data-test","teamInviteMembersButton",3,"disabled","click",4,"ngIf"],["type","button","app-button","","buttonType","outline","buttonTheme","light","data-test","teamManageButton",1,"mr-2",3,"disabled","click"],[1,"flex","flex-row"],["icon","cog"],[1,"ml-2"],["type","button","app-button","","buttonType","outline","buttonTheme","light","buttonShape","square","data-test","teamInviteMembersButton",3,"disabled","click"],["icon","user-plus"],["type","button","buttonSize","xsmall","buttonType","default","app-button","","input-after","","buttonTheme","light",1,"mr-2",3,"click"],[1,"team__tab","team__tab--mobile","text-12","text-semibold",3,"click"],["data-test","desktopPendingInvites",1,"team__tab","team__tab--desktop","text-12","text-semibold",3,"click"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectAllUsersButton",3,"uppercase","click"],[1,"mh-1"],["app-button","","buttonTheme","light","buttonSize","small","data-test","selectedUsersActionsButton",3,"uppercase","matMenuTriggerFor"],["icon","caret-down",1,"ml-1"],["data-test","teamMember",1,"team__user","flex","flex-row","align-center","items-center",3,"click"],[1,"flex","flex-grow","mr-2",3,"user"],["app-button","","appEventFence","","buttonTheme","light","data-test","userActionsMenuButon",3,"matMenuTriggerFor","disabled","click",4,"ngIf"],["selectedUsersListActions","matMenu"],["mat-menu-item","","data-test","userRoleMenuButon",3,"matMenuTriggerFor"],["mat-menu-item","","data-test","userLeaveTeamButon",1,"text-danger",3,"click"],["selectedInviteeListActions","matMenu"],["mat-menu-item","","data-test","resendUserInvite",3,"click"],["app-button","","appEventFence","","buttonTheme","light","data-test","userActionsMenuButon",3,"matMenuTriggerFor","disabled","click"],["icon","ellipsis-v"],["size","huge"],["mat-menu-item","","data-test","userRoleMenuItem",1,"flex","flex-column","team__role-option","pv-2",3,"click"],["data-test","userRoleName",1,"team__role-option-name","text-12"],["data-test","userRoleDescription",1,"team__role-option-description","text-11","mt-1"]],template:function(e,t){if(1&e&&(V.Vb(0,"app-account-panel",0),V.Nc(1,Qa,3,2,"div",1),V.Vb(2,"div",2),V.hc(3,"async"),V.Vb(4,"div",3),V.Pc(5," You are in the "),V.Vb(6,"em",4),V.Pc(7),V.hc(8,"async"),V.Ub(),V.Pc(9),V.Ub(),V.Vb(10,"div",5),V.Vb(11,"app-input-group",6),V.Qb(12,"input",7),V.Nc(13,$a,2,0,"button",8),V.Ub(),V.Ub(),V.Vb(14,"div",9),V.Vb(15,"button",10),V.cc("click",(function(){return t.canInviteUsers&&t.switchTab("members")})),V.Pc(16),V.Ub(),V.Nc(17,qa,2,3,"button",11),V.Ub(),V.Vb(18,"div"),V.Vb(19,"div",12),V.Vb(20,"div"),V.Vb(21,"button",13),V.cc("click",(function(){return t.canInviteUsers&&t.switchTab("members")})),V.Pc(22),V.Ub(),V.Nc(23,Ga,2,3,"button",14),V.Ub(),V.Vb(24,"div",15),V.Vb(25,"div",16),V.Nc(26,Wa,2,1,"button",17),V.hc(27,"async"),V.Nc(28,Ja,1,0,"app-divider",18),V.hc(29,"async"),V.Nc(30,Ha,4,3,"button",19),V.hc(31,"async"),V.Nc(32,Ka,1,0,"app-divider",18),V.hc(33,"async"),V.hc(34,"async"),V.Vb(35,"mat-menu",null,20),V.Vb(37,"button",21),V.cc("click",(function(){return t.deselectAllUsers()})),V.Pc(38,"Clear Selection"),V.Ub(),V.Vb(39,"button",21),V.cc("click",(function(){return t.transferSelectedUsersContent()})),V.Pc(40," Transfer Content "),V.Ub(),V.Vb(41,"button",22),V.Pc(42,"Change Role"),V.Ub(),V.Vb(43,"button",21),V.cc("click",(function(){return t.exportUsersToCSV("members")})),V.Pc(44,"Export to CSV"),V.Ub(),V.Qb(45,"mat-divider"),V.Vb(46,"button",23),V.cc("click",(function(){return t.removeSelectedUsers()})),V.Pc(47," Remove From Team "),V.Ub(),V.Ub(),V.Vb(48,"mat-menu",null,24),V.Vb(50,"button",21),V.cc("click",(function(){return t.deselectAllUsers()})),V.Pc(51,"Clear Selection"),V.Ub(),V.Vb(52,"button",25),V.cc("click",(function(){return t.resendSelectedUsersInvites()})),V.Pc(53," Resend Invite "),V.Ub(),V.Vb(54,"button",21),V.cc("click",(function(){return t.exportUsersToCSV("invitations")})),V.Pc(55,"Export to CSV"),V.Ub(),V.Ub(),V.Ub(),V.Vb(56,"div",26),V.Vb(57,"app-sort",27),V.cc("sortChange",(function(e){return t.handleSort(e)})),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(58,"div",28),V.Vb(59,"cdk-virtual-scroll-viewport",29),V.Nc(60,Za,17,9,"div",30),V.Ub(),V.Ub(),V.Ub(),V.Nc(61,Xa,1,0,"app-spinner",31),V.hc(62,"async"),V.Vb(63,"mat-menu",null,32),V.Nc(65,eo,5,2,"button",33),V.hc(66,"async"),V.Ub(),V.Ub(),V.Ub()),2&e){var n,i=V.yc(64);V.Db(1),V.mc("ngIf",t.canManageTeam||t.canInviteUsers),V.Db(1),V.Hb("team--admin",V.ic(3,26,t.isAdmin$)),V.mc("formGroup",t.form),V.Db(5),V.Qc(null==(n=V.ic(8,28,t.organization$))?null:n.name),V.Db(2),V.Rc(" team. ",t.userLimitMsg," "),V.Db(4),V.mc("ngIf",t.filtering),V.Db(2),V.mc("ngClass",V.qc(44,io,"members"===t.activeTab&&t.canInviteUsers,!t.canInviteUsers)),V.Db(1),V.Rc(" ",t.users.length," Active Members "),V.Db(1),V.mc("ngIf",t.canInviteUsers),V.Db(4),V.mc("ngClass",V.qc(47,io,"members"===t.activeTab&&t.canInviteUsers,!t.canInviteUsers)),V.Db(1),V.Rc(" ",t.users.length," Active Members "),V.Db(1),V.mc("ngIf",t.canInviteUsers),V.Db(3),V.mc("ngIf",V.ic(27,30,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab),V.Db(2),V.mc("ngIf",(V.ic(29,32,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab)&&t.selectedUsers.size>0),V.Db(2),V.mc("ngIf",(V.ic(31,34,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab)&&t.selectedUsers.size>0),V.Db(2),V.mc("ngIf",(V.ic(33,36,t.isAdmin$)||t.canInviteUsers&&"pending"===t.activeTab)&&V.ic(34,38,t.breakpoint$)>=t.breakpoint.Large),V.Db(9),V.mc("matMenuTriggerFor",i),V.Db(16),V.mc("sortLabel","Sort Team Members")("sortOptions",t.sortOptions)("sort",t.sort),V.Db(2),V.mc("itemSize",48),V.Db(1),V.mc("cdkVirtualForOf",t.filteredUsersToDisplay)("cdkVirtualForTrackBy",t.trackTeamNode),V.Db(1),V.mc("ngIf",V.ic(62,40,t.loadingUsers$)),V.Db(4),V.mc("ngForOf",V.ic(66,42,t.roles$))}},directives:[De,m.p,H.s,H.j,Ia,H.c,H.r,H.i,m.m,za.a,za.b,za.d,bt.a,_i.a,Na.e,Na.a,Na.d,m.o,Te.a,z.a,Aa.a,ba,jt.a,jn.a],pipes:[m.b],styles:[".team__users[_ngcontent-%COMP%]{height:calc(100vh - 380px)}.team__user[_ngcontent-%COMP%]{margin:4px 0;padding:8px;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.team__user[_ngcontent-%COMP%]:focus, .team__user[_ngcontent-%COMP%]:hover{background-color:#eaeff5}.team__user--selected[_ngcontent-%COMP%]{background-color:#d6ecff}.team__user--selected[_ngcontent-%COMP%]:focus, .team__user--selected[_ngcontent-%COMP%]:hover{background-color:#add6ff}.team__user--current[_ngcontent-%COMP%]:focus, .team__user--current[_ngcontent-%COMP%]:hover{background-color:transparent}.team--admin[_ngcontent-%COMP%]   .team__user[_ngcontent-%COMP%]{cursor:pointer}.team--admin[_ngcontent-%COMP%]   .team__user--current[_ngcontent-%COMP%]{cursor:auto}.team__role-option[_ngcontent-%COMP%]{height:auto;line-height:normal;max-width:240px;white-space:normal}.team__role-option-name[_ngcontent-%COMP%]{color:#131c2a}.team__role-option-description[_ngcontent-%COMP%]{color:#374a68}.team__header[_ngcontent-%COMP%]{border-bottom:solid #eaeff5;border-width:1px}.team__header[_ngcontent-%COMP%], .team__selection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.team__selection[_ngcontent-%COMP%]{flex-direction:row}.team__tab[_ngcontent-%COMP%]{background:none;border:none;padding:10px 4px;cursor:pointer;color:#374a68}.team__tab[_ngcontent-%COMP%]:not(:last-child){margin-right:12px}.team__tab--active[_ngcontent-%COMP%]{border-bottom:solid #2d72dc;border-width:3px;color:#131c2a}.team__tab--pointer[_ngcontent-%COMP%]{cursor:default}.team__tab--desktop[_ngcontent-%COMP%]{display:inline}.team__tab--mobile[_ngcontent-%COMP%]{display:none}.team__selected-users--desktop[_ngcontent-%COMP%]{display:block}.team__selected-users--mobile[_ngcontent-%COMP%]{display:none}@media (max-width:959px){.team__header[_ngcontent-%COMP%]{padding-top:16px}.team__selection[_ngcontent-%COMP%]{width:100%}.team__selected-users--desktop[_ngcontent-%COMP%], .team__tab--desktop[_ngcontent-%COMP%]{display:none}.team__selected-users--mobile[_ngcontent-%COMP%], .team__tab--mobile[_ngcontent-%COMP%]{display:inline-block}}"],changeDetection:0}),Fa([Object(y.e)(J.a.getOrganization),La("design:type",O.a)],to.prototype,"organization$",void 0),Fa([Object(y.e)(J.a.isTrialExpired),La("design:type",O.a)],to.prototype,"isTrialExpired$",void 0),Fa([Object(y.e)(na.a.getUsers),La("design:type",O.a)],to.prototype,"users$",void 0),Fa([Object(y.e)(na.a.getInvites),La("design:type",O.a)],to.prototype,"invites$",void 0),Fa([Object(y.e)(na.a.getUsersLoading),La("design:type",O.a)],to.prototype,"loadingUsers$",void 0),Fa([Object(y.e)(w.a.getUserProfile),La("design:type",O.a)],to.prototype,"userProfile$",void 0),Fa([Object(y.e)(w.a.getUserRole),La("design:type",O.a)],to.prototype,"userRole$",void 0),Fa([Object(y.e)(w.a.getUserRoles),La("design:type",O.a)],to.prototype,"roles$",void 0),Fa([Object(y.e)(w.a.isAdmin),La("design:type",O.a)],to.prototype,"isAdmin$",void 0),Fa([Object(y.e)(S.a.getBreakpoint),La("design:type",O.a)],to.prototype,"breakpoint$",void 0),to),uo=c("Lnht"),po=c("/LQR"),bo=((no=function(){function e(){u(this,e)}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||no)},no.\u0275cmp=V.Jb({type:no,selectors:[["app-team-premium-user"]],decls:6,vars:1,consts:[["label","Team",1,"team"],[1,"team__features"],[1,"mt-4","flex","flex-column","items-center"],["type","button","appSupportLink","","buttonTheme","light","app-button","","buttonType","primary",3,"uppercase"]],template:function(e,t){1&e&&(V.Vb(0,"app-account-panel",0),V.Vb(1,"div",1),V.Qb(2,"app-team-features"),V.Ub(),V.Vb(3,"div",2),V.Vb(4,"button",3),V.Pc(5," Contact Us "),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(4),V.mc("uppercase",!1))},directives:[De,uo.a,Te.a,po.a],styles:[".team__features[_ngcontent-%COMP%]{padding:32px}@media (max-width:480px){.team__features[_ngcontent-%COMP%]{padding:16px}}"],changeDetection:0}),no),go=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fo=["error"];function mo(e,t){1&e&&(V.Tb(0),V.Qb(1,"app-spinner",9),V.Sb())}function ho(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",19),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleCancelClick()})),V.Pc(1," Cancel "),V.Ub()}}function vo(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"div",10),V.Vb(2,"app-message-toggle",11,12),V.Pc(4),V.Ub(),V.Ub(),V.Vb(5,"div",13),V.Vb(6,"app-form-field",14),V.Qb(7,"input",15),V.Ub(),V.Vb(8,"div",16),V.Nc(9,ho,2,0,"button",17),V.Vb(10,"button",18),V.cc("click",(function(){return V.Cc(n),V.gc().handleJoinClick()})),V.Pc(11," Join Team "),V.Ub(),V.Ub(),V.Ub(),V.Sb()}if(2&e){var i=V.gc();V.Db(2),V.mc("shown",!1),V.Db(2),V.Rc(" ",i.errorMessage," "),V.Db(1),V.mc("formGroup",i.form),V.Db(4),V.mc("ngIf",i.form.dirty),V.Db(1),V.mc("disabled",i.form.invalid)}}var xo,yo=((xo=function(){function e(t,n,i,c,a){u(this,e),this.authRoutingService=t,this.store=n,this.actions=i,this.formBuilder=c,this.changeDetectorRef=a,this.joined=!1,this.errorMessage="",this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initForm(),this.initEventListers()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForm",value:function(){this.form=this.formBuilder.group({code:["",H.C.required]})}},{key:"initEventListers",value:function(){var e=this;this.actions.pipe(Object(y.l)(ia.l),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.joined=!0,e.errorMessage="",e.store.dispatch(new W.u),e.changeDetectorRef.markForCheck()})),this.actions.pipe(Object(y.l)(ia.k),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.errorMessage=Object(gt.a)(t.error)||"There was an error joining the group",e.error.shown=!0,e.form.markAsUntouched(),e.changeDetectorRef.markForCheck()}))}},{key:"handleCancelClick",value:function(){this.form.reset(),this.errorMessage="",this.error.shown=!1,this.changeDetectorRef.markForCheck()}},{key:"handleJoinClick",value:function(){var e=this.form.value.code;this.store.dispatch(new ia.j(e))}},{key:"handleStartTrialClick",value:function(){this.authRoutingService.navigateToTeamCreation()}}]),e}()).\u0275fac=function(e){return new(e||xo)(V.Pb(T.a),V.Pb(y.h),V.Pb(y.b),V.Pb(H.f),V.Pb(V.i))},xo.\u0275cmp=V.Jb({type:xo,selectors:[["app-team-join"]],viewQuery:function(e,t){var n;1&e&&V.Vc(fo,!0),2&e&&V.xc(n=V.dc())&&(t.error=n.first)},decls:15,vars:4,consts:[[1,"team"],["label","Join a Team"],[1,"text-14","mv-4"],[4,"ngIf"],[1,"mv-8"],["label","Create a Team"],[1,"team__features"],[1,"mt-8","flex","flex-column","items-center"],["type","button","buttonTheme","light","app-button","","buttonType","primary",1,"mb-4",3,"click"],["size","huge"],[1,"mv-4"],["type","error","icon","exclamation-circle",3,"shown"],["error",""],[1,"mt-4",3,"formGroup"],["label","Invite Code","theme","light"],["type","text","formControlName","code",1,"input"],[1,"flex","justify-end","mt-1"],["type","reset","app-button","","buttonTheme","light","buttonType","default","class","mr-4",3,"click",4,"ngIf"],["type","submit","buttonTheme","light","app-button","","buttonType","primary",3,"disabled","click"],["type","reset","app-button","","buttonTheme","light","buttonType","default",1,"mr-4",3,"click"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"app-account-panel",1),V.Vb(2,"div",2),V.Pc(3,"Use your invite code to join an existing team account."),V.Ub(),V.Nc(4,mo,2,0,"ng-container",3),V.hc(5,"async"),V.Nc(6,vo,12,5,"ng-container",3),V.Ub(),V.Vb(7,"div",4),V.Qb(8,"mat-divider"),V.Ub(),V.Vb(9,"app-account-panel",5),V.Vb(10,"div",6),V.Qb(11,"app-team-features"),V.Ub(),V.Vb(12,"div",7),V.Vb(13,"button",8),V.cc("click",(function(){return t.handleStartTrialClick()})),V.Pc(14," Start free trial "),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(4),V.mc("ngIf",V.ic(5,2,t.joining$)||t.joined),V.Db(2),V.mc("ngIf",!t.joined))},directives:[De,m.p,bt.a,uo.a,Te.a,jn.a,ft.a,H.s,H.j,Ne.a,H.c,H.r,H.i],pipes:[m.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(na.a.getJoining),go("design:type",O.a)],xo.prototype,"joining$",void 0),xo),Po=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},_o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Oo(e,t){1&e&&V.Qb(0,"app-team-manage")}function Co(e,t){1&e&&V.Qb(0,"app-team-premium-user")}function ko(e,t){1&e&&V.Qb(0,"app-team-join")}var Uo,Mo=((Uo=function(){function e(){u(this,e),this.userType=wt.a}return b(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Uo)},Uo.\u0275cmp=V.Jb({type:Uo,selectors:[["app-team-page"]],decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(V.Tb(0,0),V.hc(1,"async"),V.Nc(2,Oo,1,0,"app-team-manage",1),V.Nc(3,Co,1,0,"app-team-premium-user",1),V.Nc(4,ko,1,0,"app-team-join",1),V.Sb()),2&e&&(V.mc("ngSwitch",V.ic(1,4,t.userType$)),V.Db(2),V.mc("ngSwitchCase",t.userType.Team),V.Db(1),V.mc("ngSwitchCase",t.userType.Premium),V.Db(1),V.mc("ngSwitchCase",t.userType.Free))},directives:[m.r,m.s,lo,bo,yo],pipes:[m.b],styles:[""],changeDetection:0}),Po([Object(y.e)(w.a.getUserType),_o("design:type",O.a)],Uo.prototype,"userType$",void 0),Po([Object(y.e)(w.a.getUserProfile),_o("design:type",O.a)],Uo.prototype,"profile$",void 0),Po([Object(y.e)(J.a.getOrganization),_o("design:type",O.a)],Uo.prototype,"organization$",void 0),Uo),wo=c("8dAg"),Do=c("qXBG"),So=c("wn8Z"),Vo=c("mWjH"),Ro=["optionEl"];function To(e,t){if(1&e&&V.Qb(0,"app-icon",14),2&e){var n=V.gc();V.mc("icon",n.icon)}}function jo(e,t){if(1&e&&(V.Vb(0,"div",15),V.Pc(1),V.Ub()),2&e){var n=V.gc();V.Db(1),V.Rc(" ",n.tag," ")}}function Io(e,t){if(1&e&&(V.Vb(0,"p",16),V.Pc(1),V.Ub()),2&e){var n=V.gc();V.Db(1),V.Rc(" ",n.description," ")}}function zo(e,t){if(1&e&&(V.Vb(0,"div",17),V.Pc(1),V.Ub()),2&e){var n=V.gc();V.Db(1),V.Rc(" ",n.tag," ")}}function No(e,t){if(1&e&&(V.Vb(0,"li"),V.Pc(1),V.Ub()),2&e){var n=t.$implicit;V.Db(1),V.Rc(" ",n," ")}}function Ao(e,t){if(1&e&&(V.Vb(0,"div",18),V.Vb(1,"p"),V.Pc(2),V.Ub(),V.Vb(3,"ul",19),V.Nc(4,No,2,1,"li",20),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.Qc(n.content.title),V.Db(2),V.mc("ngForOf",n.content.content)}}var Fo,Lo=["*"],Eo=((Fo=function(t){e(c,t);var i=n(c);function c(){var e;return u(this,c),(e=i.apply(this,arguments)).compact=!0,e.responseSelected=new V.p,e}return b(c,[{key:"ngOnInit",value:function(){}},{key:"handleResponseClicked",value:function(){this.responseSelected.emit()}},{key:"focus",value:function(e){this.optionEl&&this.optionEl.nativeElement.focus()}}]),c}(Vo.b)).\u0275fac=function(e){return Bo(e||Fo)},Fo.\u0275cmp=V.Jb({type:Fo,selectors:[["app-account-question-response"]],viewQuery:function(e,t){var n;1&e&&V.Jc(Ro,!0),2&e&&V.xc(n=V.dc())&&(t.optionEl=n.first)},inputs:{title:"title",description:"description",tag:"tag",icon:"icon",content:"content",selected:"selected",compact:"compact",value:"value",responsive:"responsive"},outputs:{responseSelected:"responseSelected"},features:[V.Cb([{provide:H.p,useExisting:Object(V.W)((function(){return Fo})),multi:!0}]),V.Ab],ngContentSelectors:Lo,decls:17,vars:16,consts:[["data-test","questionResponseLabel",1,"response","flex","flex-column",3,"pointerup"],["optionEl",""],["type","radio",1,"visually-hidden",3,"formControl","value"],[1,"flex","flex-row","justify-between","items-center"],["aria-hidden","true",1,"flex","flex-column","flex-auto"],[1,"response__title","flex","flex-row"],["class","response__title-icon mr-2",3,"icon",4,"ngIf"],[1,"flex-auto"],["class","response__tag mt-2",4,"ngIf"],["class","response__description mt-2",4,"ngIf"],["aria-hidden","true",1,"flex","flex-row","items-center"],["class","response__tag",4,"ngIf"],[1,"response__icon","ml-3",3,"icon"],["class","response__content ml-8 mt-1","aria-hidden","","data-test","questionResponseContent",4,"ngIf"],[1,"response__title-icon","mr-2",3,"icon"],[1,"response__tag","mt-2"],[1,"response__description","mt-2"],[1,"response__tag"],["aria-hidden","","data-test","questionResponseContent",1,"response__content","ml-8","mt-1"],[1,"response__content-list"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(V.lc(),V.Vb(0,"label",0,1),V.cc("pointerup",(function(){return t.handleResponseClicked()})),V.Qb(2,"input",2),V.Vb(3,"div",3),V.Vb(4,"div",4),V.Vb(5,"div",5),V.Nc(6,To,1,1,"app-icon",6),V.Vb(7,"span",7),V.Pc(8),V.Ub(),V.Ub(),V.Nc(9,jo,2,1,"div",8),V.Nc(10,Io,2,1,"p",9),V.Vb(11,"div"),V.kc(12),V.Ub(),V.Ub(),V.Vb(13,"div",10),V.Nc(14,zo,2,1,"div",11),V.Qb(15,"app-icon",12),V.Ub(),V.Ub(),V.Nc(16,Ao,5,2,"div",13),V.Ub()),2&e&&(V.Hb("response--selected",t.selected)("response--compact",t.compact),V.Db(2),V.mc("formControl",t.control)("value",t.value),V.Eb("aria-label",t.title),V.Db(4),V.mc("ngIf",t.icon),V.Db(2),V.Qc(t.title),V.Db(1),V.mc("ngIf",t.tag&&t.responsive),V.Db(1),V.mc("ngIf",t.description),V.Db(4),V.mc("ngIf",t.tag&&!t.responsive),V.Db(1),V.Kc("visibility",t.selected?"visible":"hidden"),V.mc("icon",t.selected?"check-circle":"times-circle"),V.Db(1),V.mc("ngIf",t.selected&&t.content))},directives:[H.x,H.c,H.r,H.h,m.p,z.a,m.o],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.response[_ngcontent-%COMP%]{padding:20px 24px;border:1px solid #96a8c0;box-sizing:border-box;border-radius:4px;color:#374a68;cursor:pointer}.response__title[_ngcontent-%COMP%]{color:#1c2a3f;font-weight:600;font-size:16px;letter-spacing:.4px;line-height:1.4em}.response__title-icon[_ngcontent-%COMP%]{flex:0 0 24px}.response__description[_ngcontent-%COMP%]{color:#374a68;font-size:14px;letter-spacing:.35px;line-height:1.4em}.response__tag[_ngcontent-%COMP%]{color:#61779e;font-size:12px;letter-spacing:.3px;text-transform:uppercase;font-weight:600}.response__icon[_ngcontent-%COMP%], .response__tag[_ngcontent-%COMP%]{line-height:1.4em;white-space:nowrap}.response__icon[_ngcontent-%COMP%]{flex:0 0 48px;color:#2d72dc;font-size:20px;letter-spacing:.5px}.response__content[_ngcontent-%COMP%]{color:#283853;font-size:14px;letter-spacing:.35px;line-height:1.4em}.response__content-list[_ngcontent-%COMP%]{list-style-type:disc;margin-left:24px}.response[_ngcontent-%COMP%]:not(.response--selected):focus, .response[_ngcontent-%COMP%]:not(.response--selected):hover{border-color:#61779e;color:#1c2a3f;background-color:#f9fafd}.response--selected[_ngcontent-%COMP%]{border-color:#2d72dc;box-shadow:0 0 0 1px #2d72dc}.response--selected[_ngcontent-%COMP%]   .response__tag[_ngcontent-%COMP%]{color:#2d72dc}.response--compact[_ngcontent-%COMP%]   .response__title[_ngcontent-%COMP%]{font-weight:400;font-size:14px;letter-spacing:.35px;line-height:1.4em}.response[_ngcontent-%COMP%]:focus-within{outline:2px solid #2d72dc!important}"],changeDetection:0}),Fo),Bo=V.Xb(Eo),Qo=c("u47x"),$o=c("IZUe");function qo(e,t){if(1&e&&(V.Vb(0,"p",9),V.Pc(1),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.Rc(" ",n.question.hint," ")}}function Go(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",10),V.Vb(1,"app-account-question-response",11),V.cc("responseSelected",(function(){V.Cc(n);var e=t.$implicit;return V.gc(2).handleResponseSelected(e)})),V.Ub(),V.Ub()}if(2&e){var i=t.$implicit,c=t.index,a=V.gc(2);V.Hb("question__item--first",0===c),V.Eb("aria-label",i.value)("data-test-value",i.value),V.Db(1),V.mc("title",i.label||i.value)("description",i.hint)("tag",i.tag)("icon",i.icon)("content",i.content)("compact",!i.content)("selected",a.isResponseSelected(i))("value",i)("responsive",a.responsive)}}function Wo(e,t){if(1&e&&V.Qb(0,"input",14),2&e){var n=V.gc(3);V.Eb("placeholder",n.question.label||"")}}function Jo(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",10),V.Vb(1,"app-account-question-response",12),V.cc("responseSelected",(function(){return V.Cc(n),V.gc(2).handleOtherResponseSelected()})),V.Nc(2,Wo,1,1,"input",13),V.Ub(),V.Ub()}if(2&e){var i=V.gc(2);V.Eb("aria-label","Other")("data-test-value","Other"),V.Db(1),V.mc("title","Other")("selected",i.isOtherSelected)("value",i.getOtherResponse())("responsive",i.responsive),V.Db(1),V.mc("ngIf",i.isOtherSelected)}}function Ho(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",15),V.cc("click",(function(){return V.Cc(n),V.gc(2).handleContinueClick()})),V.Pc(1),V.Ub()}if(2&e){var i=V.gc(2);V.mc("buttonType",i.isAdvanceEnabled?"primary":"flat")("uppercase",!1)("disabled",!i.isAdvanceEnabled),V.Eb("aria-disabled",!i.isAdvanceEnabled),V.Db(1),V.Rc(" ",i.advanceLabel," ")}}function Ko(e,t){if(1&e&&(V.Vb(0,"fieldset",1),V.Vb(1,"legend",2),V.Pc(2),V.Ub(),V.Nc(3,qo,2,1,"p",3),V.Vb(4,"div",4),V.Nc(5,Go,2,13,"div",5),V.Nc(6,Jo,3,7,"div",6),V.Ub(),V.Vb(7,"div",7),V.Nc(8,Ho,2,5,"button",8),V.Ub(),V.Ub()),2&e){var n=V.gc();V.mc("formGroup",n.form),V.Eb("data-test-value",n.question.account_setting),V.Db(2),V.Rc(" ",n.question.label," "),V.Db(1),V.mc("ngIf",n.question.hint),V.Db(2),V.mc("ngForOf",n.question.responses),V.Db(1),V.mc("ngIf",n.other),V.Db(2),V.mc("ngIf",n.selectedResponse)}}var Yo,Zo=((Yo=function(){function e(t,n){u(this,e),this.formBuilder=t,this.changeRef=n,this.responseSelected=new V.p,this.advanceSelected=new V.p,this.other=!0,this.advanceLabel="Continue",this.advanceEnabled=!0,this._shown=!1,this.isLast=!1,this.ngUnsubscribe=new _.a,this.initForm()}return b(e,[{key:"selectedResponse",get:function(){return this._selectedResponse},set:function(e){this._selectedResponse=e,this.changeRef.markForCheck()}},{key:"isOtherSelected",get:function(){return 0===this.question.responses.length||this.isResponseSelected({value:"Other"})}},{key:"isOtherValid",get:function(){return""!==this.form.value.description}},{key:"isAdvanceEnabled",get:function(){return!!this.advanceEnabled&&(this.isOtherSelected?this.isOtherValid:!Object(P.isNil)(this.selectedResponse))}},{key:"shown",get:function(){return this._shown},set:function(e){var t=this;this._shown=e,e&&setTimeout((function(){return t.focus()})),this.changeRef.markForCheck()}},{key:"responseSize",get:function(){var e,t,n;return(null!==(n=null===(t=null===(e=this.question)||void 0===e?void 0:e.responses)||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(this.other?1:0)}},{key:"ngOnInit",value:function(){this.initFormListener()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"ngAfterViewInit",value:function(){this.keyManager=new Qo.e(this.responsesList)}},{key:"focus",value:function(e){var t,n=this;if(this.keyManager){var i=0;this.isOtherSelected?i=this.responseSize-1:(null===(t=this.question)||void 0===t?void 0:t.responses)&&(i=this.question.responses.findIndex((function(e){return n.isResponseSelected(e)})));var c=Math.max(i,0);this.keyManager.setActiveItem(c)}}},{key:"initForm",value:function(){this.form=this.formBuilder.group({response:[null,H.C.required],description:[""]})}},{key:"initFormListener",value:function(){var e=this;this.form.valueChanges.pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.selectedResponse=t.response,e.changeRef.markForCheck()})),this.form.get("description").valueChanges.pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.selectedResponse=e.getOtherResponse()}))}},{key:"clearSelection",value:function(){this.selectedResponse=null}},{key:"handleResponseSelected",value:function(e){this.selectedResponse=e,this.isLast||this.responseSelected.next(this.selectedResponse)}},{key:"handleOtherResponseSelected",value:function(){this.selectedResponse=this.getOtherResponse()}},{key:"handleContinueClick",value:function(){this.advanceSelected.next(this.selectedResponse)}},{key:"isResponseSelected",value:function(e){return this.selectedResponse&&this.selectedResponse.value===e.value}},{key:"getOtherResponse",value:function(){return{value:"Other",description:this.form.value.description}}}]),e}()).\u0275fac=function(e){return new(e||Yo)(V.Pb(H.f),V.Pb(V.i))},Yo.\u0275cmp=V.Jb({type:Yo,selectors:[["app-account-question"]],viewQuery:function(e,t){var n;1&e&&V.Vc(Eo,!0),2&e&&V.xc(n=V.dc())&&(t.responsesList=n)},inputs:{question:"question",other:"other",advanceLabel:"advanceLabel",advanceEnabled:"advanceEnabled",selectedResponse:"selectedResponse",shown:"shown",isLast:"isLast",responsive:"responsive"},outputs:{responseSelected:"responseSelected",advanceSelected:"advanceSelected"},decls:1,vars:1,consts:[["class","question flex flex-column","data-test","question",3,"formGroup",4,"ngIf"],["data-test","question",1,"question","flex","flex-column",3,"formGroup"],["data-test","questionLabel",1,"question__label","text-semibold"],["class","question__hint mt-3","data-test","questionHint",4,"ngIf"],[1,"flex","flex-column","mv-10"],["class","question__item","data-test","questionResponse",3,"question__item--first",4,"ngFor","ngForOf"],["class","question__item","data-test","questionResponse",4,"ngIf"],[1,"flex","flex-column","items-end"],["class","w-100","app-button","","buttonSize","large","buttonTheme","light","data-test","questionAdvanceButton",3,"buttonType","uppercase","disabled","click",4,"ngIf"],["data-test","questionHint",1,"question__hint","mt-3"],["data-test","questionResponse",1,"question__item"],["formControlName","response",3,"title","description","tag","icon","content","compact","selected","value","responsive","responseSelected"],["formControlName","response",3,"title","selected","value","responsive","responseSelected"],["type","text","class","input mv-2","formControlName","description","appAutoFocus","",4,"ngIf"],["type","text","formControlName","description","appAutoFocus","",1,"input","mv-2"],["app-button","","buttonSize","large","buttonTheme","light","data-test","questionAdvanceButton",1,"w-100",3,"buttonType","uppercase","disabled","click"]],template:function(e,t){1&e&&V.Nc(0,Ko,9,7,"fieldset",0),2&e&&V.mc("ngIf",t.shown)},directives:[m.p,H.s,H.j,m.o,Eo,H.r,H.i,H.c,$o.a,Te.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.question__label[_ngcontent-%COMP%]{color:#131c2a;font-size:28px;letter-spacing:.7px;line-height:1.4em}.question__hint[_ngcontent-%COMP%]{color:#283853;font-size:16px;letter-spacing:.4px;line-height:1.4em}.question__item[_ngcontent-%COMP%]{margin-top:20px}.question__item--first[_ngcontent-%COMP%]{margin-top:0}@media (max-width:959px){.question__label[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}}"],changeDetection:0}),Yo);function Xo(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",5),V.cc("click",(function(){return V.Cc(n),V.gc().handleBackClick()})),V.Qb(1,"app-button-icon",6),V.Ub()}}function er(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-account-question",7),V.cc("responseSelected",(function(e){V.Cc(n);var i=t.$implicit,c=t.index;return V.gc().handleResponseSelected(i,e,c)}))("advanceSelected",(function(e){V.Cc(n);var i=t.$implicit,c=t.index;return V.gc().handleAdvanceSelected(i,e,c)})),V.Ub()}if(2&e){var i=t.$implicit,c=t.index,a=V.gc();V.mc("shown",c===a.selectedIndex)("question",i)("other",i.other)("advanceLabel",a.advanceLabel)("isLast",c===a.questions.length-1)("responsive",a.responsive)}}var tr,nr,ir=((tr=function(){function e(){u(this,e),this.questions=[],this.advanceLabel="Continue",this.handleQuestionResponse=new V.p,this._selectedIndex=0}return b(e,[{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(e){this._selectedIndex=e}},{key:"ngOnInit",value:function(){}},{key:"handleResponseSelected",value:function(e,t,n){n===this.questions.length-1||this.emitResponse(e,t)}},{key:"handleAdvanceSelected",value:function(e,t,n){this.emitResponse(e,t)}},{key:"handleNextClick",value:function(){this.nextQuestion()}},{key:"handleBackClick",value:function(){this.prevQuestion()}},{key:"nextQuestion",value:function(){var e=Math.max(0,this.questions.length-1);this.selectedIndex=Math.min(e,this.selectedIndex+1)}},{key:"prevQuestion",value:function(){this.selectedIndex=Math.max(0,this.selectedIndex-1)}},{key:"emitResponse",value:function(e,t){this.handleQuestionResponse.next({question:e,response:t})}}]),e}()).\u0275fac=function(e){return new(e||tr)},tr.\u0275cmp=V.Jb({type:tr,selectors:[["app-account-question-wizard"]],inputs:{questions:"questions",advanceLabel:"advanceLabel",responsive:"responsive"},outputs:{handleQuestionResponse:"handleQuestionResponse"},decls:5,vars:2,consts:[[1,"questions"],["app-button","","buttonTheme","light","class","questions__back",3,"click",4,"ngIf"],[1,"questions__content"],[1,"questions__list"],[3,"shown","question","other","advanceLabel","isLast","responsive","responseSelected","advanceSelected",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light",1,"questions__back",3,"click"],["icon","arrow-left","iconType","solid","iconPlacement","left","label","Go Back"],[3,"shown","question","other","advanceLabel","isLast","responsive","responseSelected","advanceSelected"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Nc(1,Xo,2,0,"button",1),V.Vb(2,"div",2),V.Vb(3,"div",3),V.Nc(4,er,1,6,"app-account-question",4),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(1),V.mc("ngIf",t.selectedIndex>0),V.Db(3),V.mc("ngForOf",t.questions))},directives:[m.p,m.o,Te.a,So.a,Zo],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.questions__back[_ngcontent-%COMP%]{margin-left:-16px}.questions__step[_ngcontent-%COMP%]{color:#96a8c0;font-weight:500;font-size:14px;letter-spacing:.35px;line-height:1.4em}@media (max-width:959px){.questions__step[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}}"],changeDetection:0}),tr),cr=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ar=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},or=["wizard"],rr=((nr=function(){function e(t,n,i,c,a,o){u(this,e),this.authRoutingService=t,this.authService=n,this.store=i,this.router=c,this.activatedRoute=a,this.changeRef=o,this.breakPoints=D.a,this.selectedAccountSetting={},this.questionnaireStarted=!1,this.isReturningUser=!1,this.questions=[],this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initQuestionnaire()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initQuestionnaire",value:function(){var e=this,t=this.authService.checkProfileIncomplete();Object(K.b)([this.userProfile$,t,this.organizationSettings$,this.accountSettings$]).pipe(Object(C.a)((function(e){var t=o(e,1)[0];return!Object(P.isNil)(t)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=o(t,4),i=n[0],c=n[1],r=n[2],s=n[3],l=c.messageData,u=l.is_new_user,p=l.is_team_user;e.completeProfileMessage=c,e.isReturningUser=!0!==u,e.intent=p?ie.Team:ie.Individual;var b=e.activatedRoute.snapshot.queryParams.question,g="true"===e.activatedRoute.snapshot.queryParams.welcome;e.selectedAccountSetting=Object(Z.b)([].concat(a(s),a(r)));var d=Object(P.get)(e.selectedAccountSetting,"account_purpose.value",te.a.PersonalUse),f=Object(P.get)(e.selectedAccountSetting,"account_field.value");e.questions=e.getCustomQueryQuestions(i,b,d,f,e.isReturningUser,g),e.changeRef.markForCheck()}))}},{key:"handleQuestionResponse",value:function(e){var t=e.question,n=e.response,i=t.account_setting,c=this.activatedRoute.snapshot.queryParams.question,a="true"===this.activatedRoute.snapshot.queryParams.welcome,o=this.store.selectSnapshot(w.a.getUserProfile);this.questionnaireStarted=!0,"account_purpose"===t.account_setting&&(this.selectedAccountSetting={}),this.selectedAccountSetting[i]=n;var r=Object(P.get)(this.selectedAccountSetting,"account_purpose.value"),s=Object(P.get)(this.selectedAccountSetting,"account_field.value"),l=this.isReturningUser;if(this.questions.length>1)if(c)this.questions=this.getCustomQueryQuestions(o,c,r,s,this.isReturningUser,a);else if(this.questions.length>1)switch(r){case te.a.PersonalUse:this.questions=this.getPersonalUseQuestions(l);break;case te.a.Education:this.questions=this.getEducationQuestions(l);break;case te.a.Business:this.questions=this.getBusinessQuestions(l,s)}this.wizard.selectedIndex===this.questions.length-1?this.completeQuestionnaire():this.nextQuestion(),this.changeRef.markForCheck()}},{key:"handleSkipClick",value:function(){this.completeQuestionnaire()}},{key:"nextQuestion",value:function(){this.wizard.nextQuestion()}},{key:"completeQuestionnaire",value:function(){var e=Object(Z.a)(this.selectedAccountSetting,!0);if(this.store.selectSnapshot(w.a.isDeveloperReferral)){var t=e.find((function(e){return"account_purpose"in e}));t&&"account_purpose"in t&&(t.account_purpose=Object.assign(Object.assign({},t.account_purpose),{description:"developer"}))}this.updateAccountSettings.apply(this,a(e));var n=Object(P.get)(this.completeProfileMessage,"messageSeenId");Object(P.isNil)(n)||this.store.dispatch(new W.cb(n));var i=this.store.selectSnapshot(J.a.hasOrganization),c=this.store.selectSnapshot(J.a.getOrganizationProfile),o=!Object(P.isNil)(c);this.intent!==ie.Team||!i||o||this.isReturningUser?this.router.navigate(["/"]):this.authRoutingService.navigateToTeamInvite(!0)}},{key:"getPersonalUseQuestions",value:function(e){var t=this.store.selectSnapshot(w.a.getUserProfile);return[this.createPurposeQuestion(e),fe(t,te.a.PersonalUse,"",this.isReturningUser)]}},{key:"getEducationQuestions",value:function(e){var t=this.store.selectSnapshot(w.a.getUserProfile);return[this.createPurposeQuestion(e),fe(t,te.a.Education,"",this.isReturningUser),de(te.a.Education)]}},{key:"getBusinessQuestions",value:function(e,t){var n=this.store.selectSnapshot(w.a.getUserProfile);return[this.createPurposeQuestion(e),de(te.a.Business),fe(n,te.a.Business,t,this.isReturningUser)]}},{key:"updateAccountSettings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.store.dispatch(new W.pb({account_settings:t}))}},{key:"createPurposeQuestion",value:function(e){return ge(this.store.selectSnapshot(w.a.getUserProfile),e)}},{key:"getCustomQueryQuestions",value:function(e,t,n,i,c,o){switch(t){case wo.a.Role:return[fe(e,n,i,c,o)];case wo.a.Field:return[de(n),fe(e,n,i,c)];default:return a(this.getPersonalUseQuestions(c))}}}]),e}()).\u0275fac=function(e){return new(e||nr)(V.Pb(T.a),V.Pb(Do.a),V.Pb(y.h),V.Pb(h.e),V.Pb(h.a),V.Pb(V.i))},nr.\u0275cmp=V.Jb({type:nr,selectors:[["app-account-questionnaire"]],viewQuery:function(e,t){var n;1&e&&V.Jc(or,!0),2&e&&V.xc(n=V.dc())&&(t.wizard=n.first)},decls:4,vars:4,consts:[[1,"account","theme-light"],[3,"questions","responsive","handleQuestionResponse"],["wizard",""]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"app-account-question-wizard",1,2),V.cc("handleQuestionResponse",(function(e){return t.handleQuestionResponse(e)})),V.hc(3,"async"),V.Ub(),V.Ub()),2&e&&(V.Db(1),V.mc("questions",t.questions)("responsive",V.ic(3,2,t.breakpoint$)<t.breakPoints.Medium))},directives:[ir],pipes:[m.b],styles:[""],changeDetection:0}),cr([Object(y.e)(S.a.getBreakpoint),ar("design:type",O.a)],nr.prototype,"breakpoint$",void 0),cr([Object(y.e)(w.a.getUserProfile),ar("design:type",O.a)],nr.prototype,"userProfile$",void 0),cr([Object(y.e)(w.a.getUserAccountSettings),ar("design:type",O.a)],nr.prototype,"accountSettings$",void 0),cr([Object(y.e)(J.a.getOrganizationAccountSettings),ar("design:type",O.a)],nr.prototype,"organizationSettings$",void 0),nr),sr=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},lr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ur(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-account-question",2),V.cc("advanceSelected",(function(e){return V.Cc(n),V.gc().handleResponseSelected(e)})),V.hc(1,"async"),V.hc(2,"async"),V.Ub()}if(2&e){var i=V.gc();V.mc("shown",!0)("question",i.question)("other",i.question.other)("selectedResponse",i.selectedResponse)("advanceLabel","Continue")("advanceEnabled",!V.ic(1,8,i.updating$))("isLast",!0)("responsive",V.ic(2,10,i.breakpoint$)<i.breakPoints.Medium)}}var pr,br,gr=[te.a.Education,te.a.Business],dr=((pr=function(){function e(t,n,i,c,a,o,r){u(this,e),this.actions=t,this.authService=n,this.authRoutingService=i,this.store=c,this.activatedRoute=a,this.changeRef=o,this.snackBar=r,this.breakPoints=D.a,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){this.initQuestions(),this.initProfileUpdateRedirect()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleResponseSelected",value:function(e){this.updateAccountPurpose(e)}},{key:"initQuestions",value:function(){var e=this,t=this.authService.checkProfileIncomplete();Object(K.b)([this.store.select(w.a.getUserProfile),t]).pipe(Object(C.a)((function(e){var t=o(e,1)[0];return!Object(P.isNil)(t)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){var n=o(t,2),i=n[0],c=n[1].messageData.is_new_user;e.setQuestion(i,!0!==c,i.premium_account,i.organizations.length>0),e.changeRef.markForCheck()}))}},{key:"initProfileUpdateRedirect",value:function(){var e=this;this.actions.pipe(Object(y.l)(W.rb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new W.u)})),this.actions.pipe(Object(y.l)(W.rb),Object(U.b)((function(){return e.actions.pipe(Object(y.l)(W.w))})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleProfileUpdateSuccess(t.userProfile)})),this.actions.pipe(Object(y.l)(W.qb),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleProfileUpdateFailure(t)}))}},{key:"setQuestion",value:function(e,t,n,i){var c,a=this.activatedRoute.snapshot.queryParams,o=a.purpose,r=a.intent,s=this.store.selectSnapshot(w.a.isDeveloperReferral);c=i||s?ie.Team:n?ie.Individual:r,this.question=ge(e,t,c),this.selectedResponse=this.question.responses.find((function(e){return e.value===o})),this.changeRef.markForCheck()}},{key:"handleProfileUpdateSuccess",value:function(e){var t=e.account_settings,n=Object(Z.b)(t),i=Object(P.get)(n,"account_purpose.value",te.a.PersonalUse);gr.includes(i)?this.handleBusinessPurposeSelected(i):this.handlePersonalPurposeSelected()}},{key:"handleProfileUpdateFailure",value:function(e){var t=Object(P.get)(e.error,"error.error.message","There was an error updating your profile.");this.snackBar.open(t)}},{key:"handlePersonalPurposeSelected",value:function(){this.authRoutingService.navigateToQuestionnaire(!0,!0,te.a.PersonalUse)}},{key:"handleBusinessPurposeSelected",value:function(e){this.authRoutingService.navigateToTeamCreation(e)}},{key:"updateAccountPurpose",value:function(e){this.store.dispatch(new W.pb({account_settings:[{account_purpose:e}]}))}}]),e}()).\u0275fac=function(e){return new(e||pr)(V.Pb(y.b),V.Pb(Do.a),V.Pb(T.a),V.Pb(y.h),V.Pb(h.a),V.Pb(V.i),V.Pb(Re.b))},pr.\u0275cmp=V.Jb({type:pr,selectors:[["app-account-creation"]],decls:2,vars:1,consts:[["role","status",1,"account","theme-light"],[3,"shown","question","other","selectedResponse","advanceLabel","advanceEnabled","isLast","responsive","advanceSelected",4,"ngIf"],[3,"shown","question","other","selectedResponse","advanceLabel","advanceEnabled","isLast","responsive","advanceSelected"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Nc(1,ur,3,12,"app-account-question",1),V.Ub()),2&e&&(V.Db(1),V.mc("ngIf",t.question))},directives:[m.p,Zo],pipes:[m.b],styles:[""],changeDetection:0}),sr([Object(y.e)(w.a.getProfileUpdating),lr("design:type",O.a)],pr.prototype,"updating$",void 0),sr([Object(y.e)(S.a.getBreakpoint),lr("design:type",O.a)],pr.prototype,"breakpoint$",void 0),pr),fr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mr=((br=function(){function e(t,n,i){u(this,e),this.authRoutingService=t,this.store=n,this.activatedRoute=i,this.ngUnsubscribe=new _.a,this.purpose=this.activatedRoute.snapshot.queryParams.purpose}return b(e,[{key:"ngOnInit",value:function(){this.initActionListeners(),this.store.dispatch(new W.u)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initActionListeners",value:function(){var e=this;this.organization$.pipe(Object(C.a)((function(e){return!Object(P.isNil)(e)})),Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.handleOrganizationCreated()}))}},{key:"handleOrganizationCreated",value:function(){this.authRoutingService.navigateToQuestionnaire(!0,!1)}}]),e}()).\u0275fac=function(e){return new(e||br)(V.Pb(T.a),V.Pb(y.h),V.Pb(h.a))},br.\u0275cmp=V.Jb({type:br,selectors:[["app-team-create-page"]],decls:2,vars:1,consts:[[1,"team-create","theme-light"],[3,"purpose","organizationCreated"]],template:function(e,t){1&e&&(V.Vb(0,"form",0),V.Vb(1,"app-team-create",1),V.cc("organizationCreated",(function(){return t.handleOrganizationCreated()})),V.Ub(),V.Ub()),2&e&&(V.Db(1),V.mc("purpose",t.purpose))},directives:[H.E,H.s,H.t,ea],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.team-create__skip[_ngcontent-%COMP%]{color:#283853;font-size:14px;letter-spacing:.35px;line-height:1.4em}"],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(J.a.getOrganization),fr("design:type",O.a)],br.prototype,"organization$",void 0),br),hr=c("aJtT");function vr(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",5),V.cc("click",(function(){return V.Cc(n),V.gc().handleBackClick()})),V.Vb(1,"div",6),V.Qb(2,"app-icon",7),V.Vb(3,"div",8),V.Pc(4,"Back"),V.Ub(),V.Ub(),V.Ub()}}var xr,yr=((xr=function(){function e(t,n,i,c){u(this,e),this.store=t,this.router=n,this.activatedRoute=i,this.changeRef=c,this.ngUnsubscribe=new _.a,this.store.dispatch(new W.u)}return b(e,[{key:"ngOnInit",value:function(){this.initRouteHandling()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initRouteHandling",value:function(){var e=this;Object($.a)(this.activatedRoute.url,this.router.events.pipe(Object(C.a)((function(e){return e instanceof h.c})))).pipe(Object(M.a)(this.ngUnsubscribe)).subscribe((function(){e.returnTo=e.activatedRoute.snapshot.queryParams.returnTo,e.changeRef.markForCheck()}))}},{key:"handleBackClick",value:function(){this.router.navigateByUrl(this.returnTo)}}]),e}()).\u0275fac=function(e){return new(e||xr)(V.Pb(y.h),V.Pb(h.e),V.Pb(h.a),V.Pb(V.i))},xr.\u0275cmp=V.Jb({type:xr,selectors:[["app-account-workflow-master"]],decls:6,vars:1,consts:[[1,"master"],[1,"master__art"],[1,"master__content-wrapper","flex","flex-column","items-center","flex-auto"],["class","master__nav","app-button","","buttonTheme","light",3,"click",4,"ngIf"],[1,"master__content-container","flex","flex-column","justify-center","items-stretch","flex-auto"],["app-button","","buttonTheme","light",1,"master__nav",3,"click"],[1,"flex","flex-row"],["icon","arrow-left"],[1,"ml-2"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Qb(1,"app-login-art",1),V.Vb(2,"div",2),V.Nc(3,vr,5,0,"button",3),V.Vb(4,"div",4),V.Qb(5,"router-outlet"),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.mc("ngIf",t.returnTo))},directives:[hr.a,m.p,h.j,Te.a,z.a],styles:[".master[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:row;height:100vh;width:100%}.master__art[_ngcontent-%COMP%]{flex-basis:480px}.master__content-wrapper[_ngcontent-%COMP%]{overflow:auto;margin:auto;padding:40px;height:100%}.master__content-container[_ngcontent-%COMP%]{width:100%;max-width:560px;padding:12px}.master__nav[_ngcontent-%COMP%]{align-self:flex-start;margin:0 20px 24px 0}@media (max-width:959px){.master__art[_ngcontent-%COMP%]{display:none}}@media (max-width:480px){.master__content-wrapper[_ngcontent-%COMP%]{padding:20px}.master__content-container[_ngcontent-%COMP%]{padding:4px}}"],changeDetection:0}),xr),Pr=c("DuGl"),_r=function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Or=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Cr(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-team-invite",3),V.cc("inviteSent",(function(){return V.Cc(n),V.gc().handleInviteComplete()}))("inviteCancelled",(function(){return V.Cc(n),V.gc().handleInviteComplete()})),V.hc(1,"async"),V.Ub()}if(2&e){var i=V.gc();V.mc("organization",V.ic(1,2,i.organization$))("layout","block")}}var kr,Ur=((kr=function(){function e(t,n,i){u(this,e),this.store=t,this.router=n,this.authRoutingService=i,this.ngUnsubscribe=new _.a}return b(e,[{key:"ngOnInit",value:function(){var e=this;this.userProfile$.pipe(Object(C.a)((function(e){return!Object(P.isNil)(e)})),Object(k.a)(1),Object(M.a)(this.ngUnsubscribe)).subscribe((function(t){t.organizations&&t.organizations.length>0||e.handleInviteComplete()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleInviteComplete",value:function(){this.store.selectSnapshot(w.a.isDeveloperReferral)?this.authRoutingService.navigateToDeveloperWelcome():this.router.navigate(["/explore"])}}]),e}()).\u0275fac=function(e){return new(e||kr)(V.Pb(y.h),V.Pb(h.e),V.Pb(T.a))},kr.\u0275cmp=V.Jb({type:kr,selectors:[["app-team-invite-page"]],decls:7,vars:3,consts:[[1,"text-28","text-semibold"],[1,"text-16","mt-3","mb-10"],["sentText","Send invites","cancelText","Skip this step",3,"organization","layout","inviteSent","inviteCancelled",4,"ngIf"],["sentText","Send invites","cancelText","Skip this step",3,"organization","layout","inviteSent","inviteCancelled"]],template:function(e,t){1&e&&(V.Vb(0,"div"),V.Vb(1,"h3",0),V.Pc(2,"Invite members to join your team"),V.Ub(),V.Vb(3,"p",1),V.Pc(4,"If you'd like, you can always send invites later."),V.Ub(),V.Nc(5,Cr,2,4,"app-team-invite",2),V.hc(6,"async"),V.Ub()),2&e&&(V.Db(5),V.mc("ngIf",V.ic(6,1,t.organization$)))},directives:[m.p,Pr.a],pipes:[m.b],styles:[""],changeDetection:0}),_r([Object(y.e)(w.a.getUserProfile),Or("design:type",O.a)],kr.prototype,"userProfile$",void 0),_r([Object(y.e)(J.a.getOrganization),Or("design:type",O.a)],kr.prototype,"organization$",void 0),kr),Mr=c("2Vo4"),wr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Dr(e,t){if(1&e&&(V.Vb(0,"a",3),V.hc(1,"async"),V.Pc(2," Take me to the developer site "),V.Ub()),2&e){var n=V.gc();V.mc("href",V.ic(1,1,n.developerPortalSignInUrl$),V.Fc)}}var Sr,Vr,Rr,Tr,jr=[{path:"questionnaire",redirectTo:"workflow/questionnaire"},{path:"workflow",component:yr,canActivate:[v.a],data:{title:"Welcome"},children:[{path:"",component:dr,pathMatch:"full"},{path:"team",children:[{path:"create",component:mr,pathMatch:"full",data:{title:"Create Your Team"}},{path:"invite",component:Ur,pathMatch:"full",data:{title:"Invite Members"}},{path:"developer",component:(Sr=function(){function e(t){u(this,e),this.store=t,this.ngUnsubscribe=new _.a,this.developerPortalSignInUrl$=new Mr.a("")}return b(e,[{key:"ngOnInit",value:function(){var e=this;this.store.dispatch(new W.u(!0)),this.userProfile$.pipe(Object(M.a)(this.ngUnsubscribe),Object(C.a)((function(e){return!Object(P.isNil)(e)}))).subscribe((function(t){e.developerPortalSignInUrl$.next(t.developer_portal_signin_url)}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}(),Sr.\u0275fac=function(e){return new(e||Sr)(V.Pb(y.h))},Sr.\u0275cmp=V.Jb({type:Sr,selectors:[["app-team-developer"]],decls:8,vars:6,consts:[[1,"text-28","text-semibold"],[1,"text-16","mt-3","mb-10"],["class","button button--primary button--large mb-5",3,"href",4,"ngIf"],[1,"button","button--primary","button--large","mb-5",3,"href"]],template:function(e,t){var n;(1&e&&(V.Vb(0,"div"),V.Vb(1,"div",0),V.Pc(2),V.hc(3,"async"),V.Ub(),V.Vb(4,"div",1),V.Pc(5," Now that you've set up your account, navigate to the developer site to finish activating your developer access and begin building custom 3D experiences. "),V.Ub(),V.Nc(6,Dr,3,3,"a",2),V.hc(7,"async"),V.Ub()),2&e)&&(V.Db(2),V.Rc("Welcome ",null==(n=V.ic(3,2,t.userProfile$))?null:n.first_name,"!"),V.Db(4),V.mc("ngIf",V.ic(7,4,t.developerPortalSignInUrl$)))},directives:[m.p],pipes:[m.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(o=(a<3?c(o):a>3?c(t,n,o):c(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([Object(y.e)(w.a.getUserProfile),wr("design:type",O.a)],Sr.prototype,"userProfile$",void 0),Sr),pathMatch:"full",data:{title:"App Configuration"}}]},{path:"questionnaire",component:rr,pathMatch:"full",data:{title:"Questionnaire"}}]},{path:"",component:x.a,canActivate:[v.a],data:{fixedHeight:!1},children:[{path:"",component:Q,children:[{path:"",redirectTo:"/account/profile",pathMatch:"full"},{path:"profile",component:ic,pathMatch:"full",data:{title:"Account"}},{path:"team",component:Mo,pathMatch:"full",data:{title:"Team"}},{path:"settings",component:lc,pathMatch:"full",data:{title:"Settings"}}]}]}],Ir=((Vr=function e(){u(this,e)}).\u0275mod=V.Nb({type:Vr}),Vr.\u0275inj=V.Mb({factory:function(e){return new(e||Vr)},imports:[[h.i.forChild(jr)],h.i]}),Vr),zr=c("Tx//"),Nr=c("+pSP"),Ar=c("izPL"),Fr=c("p3zp"),Lr=((Rr=function e(){u(this,e)}).\u0275mod=V.Nb({type:Rr}),Rr.\u0275inj=V.Mb({factory:function(e){return new(e||Rr)},imports:[[m.c,Fr.a,Nr.a]]}),Rr),Er=c("EWj2"),Br=c("PXMH"),Qr=c("PCNd"),$r=c("vvyD"),qr=c("D8yp"),Gr=c("vRHm"),Wr=c("HuJV"),Jr=((Tr=function e(){u(this,e)}).\u0275mod=V.Nb({type:Tr}),Tr.\u0275inj=V.Mb({factory:function(e){return new(e||Tr)},imports:[[m.c,Ir,H.l,H.z,zr.a,Qr.a,Er.a,Nr.a,Br.a,Ar.a,Lr,$r.a,Tt.a.forChild(),qr.a,Gr.a,Wr.a],Ir]}),Tr)}}])}();