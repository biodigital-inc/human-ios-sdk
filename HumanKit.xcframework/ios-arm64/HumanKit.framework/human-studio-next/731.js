"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[731],{74731:(Oi,ae,r)=>{r.r(ae),r.d(ae,{LoginModule:()=>ji});var h=r(60177),d=r(38645),X=r(28407),c=r(89417),p=r(92014),_=r(85052),f=r(2573),R=r(14264),u=r(37925),Ie=r(90908),re=r(40470),j=r(17215),b=r(16823),g=r(38165),H=r(99972),Ge=r(68845),k=r(71263),E=r(38104),S=r(15623),O=r(27180),Q=r(90699),$=r(21424),P=r(53236),W=r(5690),e=r(54438),v=r(49204),le=r(90450),Me=r(43654),L=r(11756),Ue=r(40215),ce=r(49206),pe=r(74707);function je(o,i){if(1&o){const t=e.RV6();e.j41(0,"re-captcha",1),e.bIt("resolved",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.onRecaptchaResolved(s))})("errored",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onRecaptchaError())}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("siteKey",t.RECAPTCHA_V2_SITE_KEY)}}let B=(()=>{class o extends ce.n{get visible(){return this.enableV2RecaptchaFallback}constructor(t,n,s){super(),this.authService=t,this.changeRef=n,this.RECAPTCHA_V2_SITE_KEY=s,this.enableV2RecaptchaFallback=!1,this.ngUnsubscribe=new _.B}ngOnInit(){this.initV3RecaptchaListeners(this.emailAddress)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}reset(){this.clear(),this.reCaptchaRef?.reset()}clear(){this.enableV2RecaptchaFallback&&(this.value=null)}onRecaptchaResolved(t){this.executeV2Recaptcha(t)}onRecaptchaError(){this.clear()}setFormValues(t){(0,v.isNil)(t)&&this.reCaptchaRef?.reset(),this.changeRef.markForCheck()}initV3RecaptchaListeners(t){(0,Me.O)(0,12e4).pipe((0,L.Z)(()=>(this.reset(),this.authService.verifyIsHuman(this.action,t,!0))),(0,u.Q)(this.ngUnsubscribe)).subscribe(n=>{this._V3Verification=n,n.isHuman&&(this.value=n),this.enableV2RecaptchaFallback=!1===n.isHuman,this.changeRef.markForCheck()})}executeV2Recaptcha(t){t?(0,Ue._)(this.authService.verifyToken(t,"v2")).then(n=>{n.success?this.value={isHuman:!0,verification:this._V3Verification?.verification}:this.onRecaptchaError()}).catch(()=>{this.onRecaptchaError()}):this.onRecaptchaError()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(k.u),e.rXU(e.gRc),e.rXU(pe.V))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-recaptcha-form"]],viewQuery:function(n,s){if(1&n&&e.GBs(le.J,5),2&n){let a;e.mGM(a=e.lsd())&&(s.reCaptchaRef=a.first)}},inputs:{action:"action",emailAddress:"emailAddress"},features:[e.Jv_([{provide:c.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.Vt3],decls:1,vars:1,consts:[[3,"siteKey","resolved","errored",4,"ngIf"],[3,"resolved","errored","siteKey"]],template:function(n,s){1&n&&e.DNE(0,je,1,1,"re-captcha",0),2&n&&e.Y8G("ngIf",s.enableV2RecaptchaFallback)},dependencies:[h.bT,le.J],changeDetection:0})}return o})();var q=r(345),ge=r(35286),Oe=r(82765),J=r(93547),y=r(21007),me=r(37737),K=r(59369),z=r(87505),Z=r(26779),I=r(97352);const $e=["*"];let ue=(()=>{class o{get isPasswordField(){return"password"===this.element.getAttribute("type")}get title(){return(this.isPasswordField?"Show":"Hide")+" Password"}constructor(t,n){this.renderer=t,this.changeRef=n,this.autoHide=!1,this.autoHideDuration=5e3}ngOnInit(){}togglePasswordVisiblity(){const t=this.isPasswordField;this.setPasswordVisibility(this.element,t),this.element.focus(),this.autoHide&&t&&setTimeout(()=>{this.setPasswordVisibility(this.element,!1),this.changeRef.markForCheck()},this.autoHideDuration)}setPasswordVisibility(t,n){this.renderer.setAttribute(t,"type",n?"text":"password"),this.changeRef.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(e.sFG),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-toggle-password-input"]],inputs:{element:"element",autoHide:"autoHide",autoHideDuration:"autoHideDuration"},ngContentSelectors:$e,decls:5,vars:3,consts:[[1,"toggle-password"],[1,"toggle-password__content"],["app-button","","buttonType","text","buttonTheme","light","buttonSize","sm","type","button","data-test","togglePasswordButton",1,"toggle-password__button",3,"click","title"],["size","md",3,"icon"]],template:function(n,s){1&n&&(e.NAR(),e.j41(0,"div",0)(1,"div",1),e.SdG(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return s.togglePasswordVisiblity()}),e.nrm(4,"app-icon",3),e.k0s()()),2&n&&(e.R7$(3),e.Y8G("title",s.title),e.BMQ("aria-label",s.title),e.R7$(),e.Y8G("icon",s.isPasswordField?"eye":"eye-slash"))},dependencies:[y.Q,Z.R],styles:[".toggle-password[_ngcontent-%COMP%]{position:relative}.toggle-password__button[_ngcontent-%COMP%]{position:absolute;z-index:1;top:50%;right:0;transform:translateY(-50%);opacity:.5}"],changeDetection:0})}return o})();var Le=r(65294),de=r(6795),ee=r(24418);const Be=["googleButton"],ze=["*"];function Ne(o,i){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"button",2),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.nativeAuthenticate())}),e.j41(2,"div",3),e.nrm(3,"img",4),e.SdG(4),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("uppercase",!1)("disabled",t.disabled)}}function Ye(o,i){1&o&&(e.j41(0,"app-alert",14),e.EFF(1," Google services are unavailable through this domain. "),e.k0s())}function Ve(o,i){1&o&&(e.j41(0,"app-alert",14),e.EFF(1," Google services are currently down or unavailable in your region. Please try again later. "),e.k0s())}function De(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",5)(2,"div",6),e.qSk(),e.j41(3,"svg",7),e.nrm(4,"path",8)(5,"path",9)(6,"path",10)(7,"path",11)(8,"path",12),e.k0s(),e.EFF(9," Sign in with Google "),e.k0s(),e.joV(),e.nrm(10,"div",null,0),e.k0s(),e.DNE(12,Ye,2,0,"app-alert",13)(13,Ve,2,0,"app-alert",13),e.bVm()),2&o){const t=e.XpG();e.R7$(12),e.Y8G("ngIf",!t.validDomain),e.R7$(),e.Y8G("ngIf",t.unavailable)}}let he=(()=>{class o{constructor(t,n,s){this.authService=t,this.store=n,this.changeDetectorRef=s,this.prefillEmail="",this.context="signin",this.authenticated=new e.bkB,this.prompted=new e.bkB,this.ngUnsubscribe=new _.B,this.nativeEnvironmentPlatform=Q.I,this.application=O.c,this.unavailable=!1,this.validDomain=!0}ngOnInit(){this.validDomain=this.authService.isValidGoogleDomain()}ngAfterViewInit(){ee.c.native||(this.changeDetectorRef.markForCheck(),this.initWebClient())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initWebClient(){const n=this.store.selectSnapshot(E.V.getHorizontalBreakpoint)<=S.m.Small?"320px":"400px";if(this.validDomain)try{google.accounts.id.renderButton(this.googleButton.nativeElement,{text:"continue_with",theme:"outline",type:"standard",size:"large",width:n})}catch{this.unavailable=!0,this.changeDetectorRef.markForCheck()}}nativeAuthenticate(){window.HumanWindowAPI=de.s,de.s.fire(Le.F.NativeGoogleSignUp,{email:this.prefillEmail})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(k.u),e.rXU(p.il),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-google-button"]],viewQuery:function(n,s){if(1&n&&e.GBs(Be,5,e.aKT),2&n){let a;e.mGM(a=e.lsd())&&(s.googleButton=a.first)}},inputs:{disabled:"disabled",prefillEmail:"prefillEmail",context:"context"},outputs:{authenticated:"authenticated",prompted:"prompted"},ngContentSelectors:ze,decls:2,vars:6,consts:[["googleButton",""],[4,"appFlagApplication","appFlagApplicationMode","appFlagApplicationNative"],["app-button","","buttonType","outline","buttonTheme","light","type","button","data-test","googleAuthenticator",1,"w-full",3,"click","uppercase","disabled"],[1,"flex","items-center","justify-center"],["src","/assets/images/google-icon.svg",1,"mr-3",2,"width","20px"],[1,"relative"],[1,"absolute","top-0","left-0","z-10","flex","items-center","justify-center","w-full","h-full","gap-2","px-3","text-sm","font-semibold","text-gray-800","bg-white","border","border-gray-300","border-solid","rounded","cursor-pointer","pointer-events-none"],["xmlns","https://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"Bz112c","Bz112c-E3DyYd","Bz112c-uaxL4e"],["fill","#4285F4","d","M45.12 24.5c0-1.56-.14-3.06-.4-4.5H24v8.51h11.84c-.51 2.75-2.06 5.08-4.39 6.64v5.52h7.11c4.16-3.83 6.56-9.47 6.56-16.17z"],["fill","#34A853","d","M24 46c5.94 0 10.92-1.97 14.56-5.33l-7.11-5.52c-1.97 1.32-4.49 2.1-7.45 2.1-5.73 0-10.58-3.87-12.31-9.07H4.34v5.7C7.96 41.07 15.4 46 24 46z"],["fill","#FBBC05","d","M11.69 28.18C11.25 26.86 11 25.45 11 24s.25-2.86.69-4.18v-5.7H4.34C2.85 17.09 2 20.45 2 24c0 3.55.85 6.91 2.34 9.88l7.35-5.7z"],["fill","#EA4335","d","M24 10.75c3.23 0 6.13 1.11 8.41 3.29l6.31-6.31C34.91 4.18 29.93 2 24 2 15.4 2 7.96 6.93 4.34 14.12l7.35 5.7c1.73-5.2 6.58-9.07 12.31-9.07z"],["fill","none","d","M2 2h44v44H2z"],["class","w-full","theme","light","type","info","data-test","googleAuthUnavailable",4,"ngIf"],["theme","light","type","info","data-test","googleAuthUnavailable",1,"w-full"]],template:function(n,s){1&n&&(e.NAR(),e.DNE(0,Ne,5,2,"ng-container",1)(1,De,14,2,"ng-container",1)),2&n&&(e.Y8G("appFlagApplication",s.application.All)("appFlagApplicationMode","include")("appFlagApplicationNative",s.nativeEnvironmentPlatform.All),e.R7$(),e.Y8G("appFlagApplication",s.application.All)("appFlagApplicationMode","exclude")("appFlagApplicationNative",s.nativeEnvironmentPlatform.All))},dependencies:[h.bT,J.C,y.Q,K.Y],changeDetection:0})}return o})();function Ae(o,i){if(1&o&&e.nrm(0,"img",3),2&o){const t=e.XpG();e.Y8G("src",null==t.organizationProfile?null:t.organizationProfile.group_logo_default,e.B4B)}}function Xe(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" Access the ",t.organizationProfile.name," team ")}}function He(o,i){1&o&&(e.qex(0),e.EFF(1," Sign in to your account "),e.bVm())}function Qe(o,i){1&o&&(e.j41(0,"p",7),e.EFF(1," Sign in to your existing account to accept the invitation. "),e.k0s())}function We(o,i){if(1&o&&(e.j41(0,"div")(1,"h1",4),e.DNE(2,Xe,2,1,"ng-container",5)(3,He,2,0,"ng-container",5),e.k0s(),e.DNE(4,Qe,2,0,"p",6),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.organizationProfile),e.R7$(),e.Y8G("ngIf",!t.organizationProfile),e.R7$(),e.Y8G("ngIf",t.organizationProfile)}}function qe(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" Join the ",t.organizationProfile.name," team ")}}function Je(o,i){1&o&&(e.qex(0),e.EFF(1," Create a free account "),e.bVm())}function Ke(o,i){if(1&o&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" Choose your sign up method to create an account and join the ",t.organizationProfile.name," team. ")}}function Ze(o,i){if(1&o&&(e.j41(0,"div")(1,"h1",8),e.DNE(2,qe,2,1,"ng-container",5)(3,Je,2,0,"ng-container",5),e.k0s(),e.DNE(4,Ke,2,1,"p",6),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.organizationProfile),e.R7$(),e.Y8G("ngIf",!t.organizationProfile),e.R7$(),e.Y8G("ngIf",t.organizationProfile)}}function et(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" Access the ",t.organizationProfile.name," team ")}}function tt(o,i){1&o&&(e.qex(0),e.EFF(1," Welcome back! "),e.bVm())}function it(o,i){if(1&o&&(e.j41(0,"div")(1,"h1",9),e.DNE(2,et,2,1,"ng-container",5)(3,tt,2,0,"ng-container",5),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.organizationProfile),e.R7$(),e.Y8G("ngIf",!t.organizationProfile)}}let fe=(()=>{class o{constructor(){this.mode="signIn",this.ngUnsubscribe=new _.B}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-login-welcome"]],inputs:{organizationProfile:"organizationProfile",thirdPartyProvider:"thirdPartyProvider",isUser:"isUser",mode:"mode"},decls:5,vars:5,consts:[[1,"welcome",3,"ngSwitch"],["class","mb-5 welcome__team-logo",3,"src",4,"ngIf"],[4,"ngSwitchCase"],[1,"mb-5","welcome__team-logo",3,"src"],["data-test","signInInfoText",1,"font-semibold","welcome__title"],[4,"ngIf"],["class","welcome__hint",4,"ngIf"],[1,"welcome__hint"],["data-test","signUpInfoText",1,"font-semibold","welcome__title"],["data-test","welcomeBackInfoText",1,"font-semibold","welcome__title"]],template:function(n,s){1&n&&(e.j41(0,"div",0),e.DNE(1,Ae,1,1,"img",1)(2,We,5,3,"div",2)(3,Ze,5,3,"div",2)(4,it,4,2,"div",2),e.k0s()),2&n&&(e.Y8G("ngSwitch",s.mode),e.R7$(),e.Y8G("ngIf",null==s.organizationProfile?null:s.organizationProfile.group_logo_default),e.R7$(),e.Y8G("ngSwitchCase","signIn"),e.R7$(),e.Y8G("ngSwitchCase","signUp"),e.R7$(),e.Y8G("ngSwitchCase","welcome"))},dependencies:[h.bT,h.ux,h.e1],styles:[".welcome[_ngcontent-%COMP%]{color:#131c2a}.welcome__title[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;margin-bottom:12px}.welcome__hint[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}.welcome__team-logo[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:48px;min-height:32px}@media (max-width: 480px){.welcome__title[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.welcome__hint[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}}"],changeDetection:0})}return o})();var N=function(o,i,t,n){var l,s=arguments.length,a=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,i,t,n);else for(var m=o.length-1;m>=0;m--)(l=o[m])&&(a=(s<3?l(a):s>3?l(i,t,a):l(i,t))||a);return s>3&&a&&Object.defineProperty(i,t,a),a},Y=function(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,i)};const nt=["recaptchaEl"],ot=()=>["/login/create"],st=(o,i,t)=>({group_invite:o,code:i,group:t}),at=()=>["/login/reset"];function rt(o,i){1&o&&(e.j41(0,"app-alert",6)(1,"div",7),e.EFF(2,"Warning!"),e.k0s(),e.j41(3,"div",8),e.EFF(4," Your browser does not support WebGL, which is required to run our 3D models. "),e.j41(5,"a",9),e.EFF(6,"Learn more..."),e.k0s()()())}function lt(o,i){if(1&o&&(e.j41(0,"div",25)(1,"app-alert",6),e.nrm(2,"div",26),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("innerHTML",t.errorMessage,e.npT)}}function ct(o,i){1&o&&(e.j41(0,"div",27),e.EFF(1," Please enter a valid email. "),e.k0s())}function pt(o,i){1&o&&(e.j41(0,"div",28),e.EFF(1," Email is required. "),e.k0s())}function gt(o,i){1&o&&(e.j41(0,"span",29),e.EFF(1,"Next"),e.k0s())}function mt(o,i){1&o&&e.nrm(0,"app-spinner",30)}function ut(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",10)(1,"div",2),e.nrm(2,"app-login-welcome",11),e.nI1(3,"async"),e.nI1(4,"async"),e.nI1(5,"async"),e.k0s(),e.DNE(6,lt,3,1,"div",12),e.j41(7,"form",13),e.bIt("submit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleEmailSubmit())}),e.j41(8,"app-form-field",14),e.nrm(9,"input",15),e.DNE(10,ct,2,0,"div",16)(11,pt,2,0,"div",17),e.k0s(),e.j41(12,"app-form-field",18)(13,"button",19),e.DNE(14,gt,2,0,"span",20),e.nI1(15,"async"),e.DNE(16,mt,1,0,"app-spinner",21),e.nI1(17,"async"),e.k0s()()(),e.j41(18,"div",22)(19,"span",23),e.EFF(20,"Don't have an account?"),e.k0s(),e.j41(21,"a",24),e.EFF(22,"Sign up for free"),e.k0s()()()}if(2&o){let t,n;const s=e.XpG();e.R7$(2),e.Y8G("organizationProfile",e.bMT(3,13,s.organizationProfile$))("mode","signIn")("isUser",null==(t=e.bMT(4,15,s.profileCheck$))?null:t.isUser)("thirdPartyProvider",null==(n=e.bMT(5,17,s.profileCheck$))?null:n.thirdPartyProvider),e.R7$(4),e.Y8G("ngIf",s.errorMessage),e.R7$(),e.Y8G("formGroup",s.formEmail),e.R7$(3),e.Y8G("ngIf",s.email.dirty&&s.email.touched&&s.email.invalid&&((null==s.email.errors?null:s.email.errors.required)||(null==s.email.errors?null:s.email.errors.email))&&s.email.value),e.R7$(),e.Y8G("ngIf",s.submitAttempt&&!s.email.value),e.R7$(2),e.Y8G("uppercase",!1),e.R7$(),e.Y8G("ngIf",!e.bMT(15,19,s.loading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(17,21,s.loading$)),e.R7$(5),e.Y8G("routerLink",e.lJ4(23,ot))("queryParams",e.sMw(24,st,s.group_invite,s.code,s.group))}}function dt(o,i){1&o&&(e.j41(0,"div",34),e.nrm(1,"app-spinner",35),e.k0s())}function ht(o,i){if(1&o&&(e.j41(0,"div",25)(1,"app-alert",6),e.nrm(2,"div",26),e.k0s()()),2&o){const t=e.XpG(3);e.R7$(2),e.Y8G("innerHTML",t.errorMessage,e.npT)}}function ft(o,i){1&o&&(e.j41(0,"div",56),e.EFF(1," Password is required. "),e.k0s())}function _t(o,i){1&o&&(e.j41(0,"span",57),e.EFF(1," Please verify the reCAPTCHA to continue. "),e.k0s())}function vt(o,i){1&o&&(e.j41(0,"span",58),e.EFF(1,"Sign In"),e.k0s())}function bt(o,i){1&o&&e.nrm(0,"app-spinner",30)}function yt(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",39)(1,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.handleBackClick())}),e.nrm(2,"app-icon",41),e.EFF(3),e.nI1(4,"async"),e.k0s(),e.j41(5,"form",42),e.bIt("submit",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.handlePasswordSubmit())}),e.j41(6,"app-form-field",43)(7,"app-toggle-password-input",44),e.nrm(8,"input",45,0),e.k0s(),e.DNE(10,ft,2,0,"div",46),e.j41(11,"div",47)(12,"mat-checkbox",48)(13,"span",49),e.EFF(14,"Remember me"),e.k0s()(),e.j41(15,"a",50),e.EFF(16,"Forgot password?"),e.k0s()()(),e.j41(17,"app-form-field",51),e.nI1(18,"async"),e.nrm(19,"app-recaptcha-form",52,1),e.nI1(21,"async"),e.DNE(22,_t,2,0,"span",53),e.k0s(),e.j41(23,"app-form-field",18)(24,"button",54),e.DNE(25,vt,2,0,"span",55),e.nI1(26,"async"),e.DNE(27,bt,1,0,"app-spinner",21),e.nI1(28,"async"),e.k0s()()()()}if(2&o){const t=e.sdS(9),n=e.sdS(20),s=e.XpG(3);e.R7$(),e.Y8G("uppercase",!1),e.R7$(2),e.SpI(" ",e.bMT(4,12,s.profileCheck$).email," "),e.R7$(2),e.Y8G("formGroup",s.formPassword),e.R7$(2),e.Y8G("element",t),e.R7$(3),e.Y8G("ngIf",s.password.dirty&&s.password.touched&&s.password.invalid&&s.password.errors.required||s.submitAttempt&&!s.password.value),e.R7$(5),e.Y8G("routerLink",e.lJ4(22,at)),e.R7$(2),e.Y8G("hidden",!(null!=n&&n.visible)||e.bMT(18,14,s.loading$)),e.R7$(2),e.Y8G("emailAddress",e.bMT(21,16,s.profileCheck$).email),e.R7$(3),e.Y8G("ngIf",s.submitAttempt&&!n.value),e.R7$(2),e.Y8G("uppercase",!1),e.R7$(),e.Y8G("ngIf",!e.bMT(26,18,s.loading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(28,20,s.loading$))}}function Ct(o,i){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"app-form-field",18)(2,"app-google-button",61),e.nI1(3,"async"),e.EFF(4," Sign in with Google "),e.k0s()(),e.j41(5,"button",62),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.handleBackClick())}),e.nrm(6,"app-icon",63),e.EFF(7," Back "),e.k0s(),e.bVm()}if(2&o){let t;const n=e.XpG(4);e.R7$(2),e.Y8G("prefillEmail",null==(t=e.bMT(3,2,n.profileCheck$))?null:t.email),e.R7$(3),e.Y8G("uppercase",!1)}}function xt(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",59),e.DNE(2,Ct,8,4,"ng-container",60),e.k0s(),e.bVm()),2&o){const t=e.XpG(3);e.R7$(2),e.Y8G("appFlagApplication",t.application.All)("appFlagApplicationMode","exclude")("appFlagApplicationNative",t.nativePlatform.All)}}function kt(o,i){if(1&o&&(e.j41(0,"div")(1,"div",36)(2,"div",37),e.nrm(3,"app-login-welcome",11),e.nI1(4,"async"),e.nI1(5,"async"),e.nI1(6,"async"),e.k0s(),e.DNE(7,ht,3,1,"div",12),e.k0s(),e.DNE(8,yt,29,23,"div",38),e.nI1(9,"async"),e.DNE(10,xt,3,3,"ng-container",33),e.nI1(11,"async"),e.k0s()),2&o){let t,n,s,a;const l=e.XpG(2);e.R7$(3),e.Y8G("organizationProfile",e.bMT(4,7,l.organizationProfile$))("mode","welcome")("isUser",null==(t=e.bMT(5,9,l.profileCheck$))?null:t.isUser)("thirdPartyProvider",null==(n=e.bMT(6,11,l.profileCheck$))?null:n.thirdPartyProvider),e.R7$(4),e.Y8G("ngIf",l.errorMessage),e.R7$(),e.Y8G("ngIf",!(null!=(s=e.bMT(9,13,l.profileCheck$))&&s.isThirdParty)),e.R7$(2),e.Y8G("ngIf","Google"===(null==(a=e.bMT(11,15,l.profileCheck$))?null:a.thirdPartyProvider))}}function Rt(o,i){if(1&o&&(e.j41(0,"div",31),e.DNE(1,dt,2,0,"div",32),e.nI1(2,"async"),e.DNE(3,kt,12,17,"div",33),e.nI1(4,"async"),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,2,t.loading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(4,4,t.loading$))}}class C{get email(){return this.formEmail.controls.email}get password(){return this.formPassword.controls.password}get group(){return this.activatedRoute.snapshot.queryParams.group}get code(){return this.activatedRoute.snapshot.queryParams.code}get group_invite(){return this.activatedRoute.snapshot.queryParams.group_invite}constructor(i,t,n,s,a,l,m,U,ne,oe,se){this.store=i,this.formBuilder=t,this.authService=n,this.actions=s,this.sanitizer=a,this.route=l,this.storageService=m,this.activatedRoute=U,this.markdownService=ne,this.productService=oe,this.router=se,this.application=O.c,this.nativePlatform=Q.I,this.breakPoints=S.m,this.ngUnsubscribe=new _.B,this.supportsWegGl=!0,this.submitAttempt=!1,this.isValidGoogleDomain=!0,this.groupConfig=this.authService.getGroupConfigFromRoute(this.route.snapshot),this.platformLoginConfig=this.authService.getPlatformConfigFromRoute(this.route.snapshot);const Ee=this.getEmail(),Si=!!Ee;this.formEmail=this.formBuilder.group({email:[Ee,[c.k0.required,c.k0.email]],groupCode:[this.groupConfig.groupCode]}),this.formPassword=this.formBuilder.group({password:["",c.k0.required],rememberMe:[Si],reCaptcha:this.formBuilder.control(null,c.k0.required)})}ngOnInit(){this.isValidGoogleDomain=this.authService.isValidGoogleDomain(),this.store.dispatch(new g.vY(null)),this.profileCheck$.pipe((0,R.p)(i=>null!=i),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{i.isUser?"Facebook"===i?.thirdPartyProvider&&this.router.navigate(["/login/reset"],{queryParams:{resetType:"Facebook",email:i.email}}):this.handleUserNotFound(),this.isTeamMember=i.isTeamMember}),this.actions.pipe((0,p.xi)(g.kb),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.handleLoginFailure(i.error)}),this.actions.pipe((0,p.xi)(g.rK),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.loginWithGoogle(i.credential)}),this.supportsWegGl=(0,Ie.MN)(),this.formPassword.get("rememberMe").valueChanges.pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{i&&this.formEmail.valid?this.storageService.setLocalItem(j.UT.RememberMeEmail,this.formEmail.value.email):this.storageService.removeLocalItem(j.UT.RememberMeEmail)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleBackClick(){this.store.dispatch(new g.vY(null)),this.errorMessage=""}handleEmailSubmit(){this.submitEmail()}handlePasswordSubmit(){this.errorMessage="",this.submitPassword()}handleLogout(){this.store.dispatch(new g.fQ)}handleLoginFailure(i){var t=this;return(0,X.A)(function*(){const n=(0,P.u1)(i)||"There was an error signing in.",s=yield t.markdownService.parse(n);t.errorMessage=s?t.sanitizer.bypassSecurityTrustHtml(s):"",t.recaptchaEl?.reset()})()}handleUserNotFound(){this.errorMessage=this.sanitizer.bypassSecurityTrustHtml("Account not found")}submitEmail(){if(this.errorMessage="",this.submitAttempt=!0,this.formEmail.valid){this.submitAttempt=!1;const i=this.formEmail.get("email").value;this.store.dispatch(new g.YP(i))}}submitPassword(){if(this.submitAttempt=!0,this.formPassword.valid){let i=new Ge.z(this.formEmail.get("email").value,this.formPassword.get("password").value,this.formPassword.get("rememberMe").value);const t=this.isTeamMember?{}:this.groupConfig;i={...i,...t,...this.platformLoginConfig},i.app_productkey=this.productService.productKey,i.app_producttype=this.productService.productType,i.groupCode=this.formEmail.value.groupCode,this.store.dispatch(new g.Gu(i,this.formPassword.value.reCaptcha))}}loginWithGoogle(i){const t=this.isTeamMember?{}:this.groupConfig,n=(0,re.bj)(H.o,{...new H.o(i),...t,...this.platformLoginConfig});n.app_productkey=this.productService.productKey,n.app_producttype=this.productService.productType,this.store.dispatch(new g.Zc(n))}getEmail(){const i=this.activatedRoute.snapshot.queryParamMap.get("returnUrl");let n=this.router.parseUrl(i).queryParamMap.get("email");return n&&(n=n.trim().replaceAll(" ","+")),n||this.storageService.getLocalItem(j.UT.RememberMeEmail)||""}static#e=this.\u0275fac=function(t){return new(t||C)(e.rXU(p.il),e.rXU(c.ok),e.rXU(k.u),e.rXU(p.En),e.rXU(q.up),e.rXU(d.nX),e.rXU(j.n$),e.rXU(d.nX),e.rXU(ge.Rl),e.rXU(W.b),e.rXU(d.Ix))};static#t=this.\u0275cmp=e.VBU({type:C,selectors:[["app-login-page"]],viewQuery:function(t,n){if(1&t&&e.GBs(nt,5,B),2&t){let s;e.mGM(s=e.lsd())&&(n.recaptchaEl=s.first)}},decls:6,vars:7,consts:[["passwordEl",""],["recaptchaEl",""],[1,"mb-4"],["theme","light","type","danger",4,"ngIf"],["class","login__email",4,"ngIf"],["class","login__validate",4,"ngIf"],["theme","light","type","danger"],[1,"text-xs","font-bold"],[1,"text-xs"],["hef","https://support.biodigital.com/hc/en-us/articles/217800768--WebGL-Not-Supported-error","target","_blank"],[1,"login__email"],[3,"organizationProfile","mode","isUser","thirdPartyProvider"],["class","pb-2",4,"ngIf"],["autocomplete","off",1,"mt-4",3,"submit","formGroup"],["theme","light","label","Email","data-test","emailLabel"],["data-test","emailInput","name","email","type","email","formControlName","email","autocomplete","off","appAutoFocus","",1,"w-full","input"],["class","mt-2 text-xs text-red-700","data-test","emailValidationText",4,"ngIf"],["class","mt-2 text-xs text-red-700","data-test","emailRequiredText",4,"ngIf"],["theme","light"],["app-button","","buttonType","primary","buttonSize","lg","type","submit",1,"w-full",3,"uppercase"],["data-test","nextButton",4,"ngIf"],["size","medium",4,"ngIf"],[1,"mt-4","text-sm"],["data-test","memberText"],["queryParamsHandling","merge","data-test","signUpButton",1,"ml-1","underline","login__link","text-link",3,"routerLink","queryParams"],[1,"pb-2"],[3,"innerHTML"],["data-test","emailValidationText",1,"mt-2","text-xs","text-red-700"],["data-test","emailRequiredText",1,"mt-2","text-xs","text-red-700"],["data-test","nextButton"],["size","medium"],[1,"login__validate"],["class","login__loading",4,"ngIf"],[4,"ngIf"],[1,"login__loading"],["size","huge","data-test","loginSpinner"],[1,"mb-4","login__welcome"],[1,"mb-10"],["class","login__biodigital",4,"ngIf"],[1,"login__biodigital"],["app-button","","buttonType","outline","buttonTheme","light","buttonSize","lg","data-test","signInBackButton",1,"w-full","mb-4",3,"click","uppercase"],["icon","arrow-left",1,"mr-2"],["autocomplete","off",3,"submit","formGroup"],["theme","light","label","Password","data-test","passwordLabel"],[3,"element"],["data-test","passwordInput","name","password","type","password","formControlName","password","autocomplete","off","appAutoFocus","",1,"w-full","mb-2","input"],["class","mt-2 text-xs text-red-700","data-test","passwordValidationText",4,"ngIf"],[1,"flex","flex-row","items-center","justify-between"],["formControlName","rememberMe","value","true","data-test","rememberMeCheckbox"],["data-test","rememberMeText",1,"text-xs"],["data-test","forgotPassword","data-test","forgotPasswordButton",1,"text-xs","underline","login__link","text-link",3,"routerLink"],[3,"hidden"],["action","studio_login","formControlName","reCaptcha",3,"emailAddress"],["class","my-1 text-xs text-red-700",4,"ngIf"],["app-button","","buttonSize","lg","buttonType","primary","data-test","signIn","type","submit",1,"w-full","mt-2",3,"uppercase"],["data-test","signInButton",4,"ngIf"],["data-test","passwordValidationText",1,"mt-2","text-xs","text-red-700"],[1,"my-1","text-xs","text-red-700"],["data-test","signInButton"],[1,"login__social"],[4,"appFlagApplication","appFlagApplicationMode","appFlagApplicationNative"],[3,"prefillEmail"],["app-button","","buttonType","outline","buttonTheme","light","buttonSize","lg","data-test","signInBackButton",1,"login__back",3,"click","uppercase"],["icon","arrow-left mr-2"]],template:function(t,n){if(1&t&&(e.j41(0,"div",2),e.DNE(1,rt,7,0,"app-alert",3),e.k0s(),e.DNE(2,ut,23,28,"div",4),e.nI1(3,"async"),e.DNE(4,Rt,5,6,"div",5),e.nI1(5,"async")),2&t){let s,a;e.R7$(),e.Y8G("ngIf",!n.supportsWegGl),e.R7$(),e.Y8G("ngIf",!(null!=(s=e.bMT(3,3,n.profileCheck$))&&s.isUser)),e.R7$(2),e.Y8G("ngIf",null==(a=e.bMT(5,5,n.profileCheck$))?null:a.isUser)}},dependencies:[h.bT,d.Wk,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,Oe.So,J.C,y.Q,me.B,K.Y,z.K,Z.R,I.tI,ue,B,he,fe,h.Jj],styles:["[_nghost-%COMP%]{display:block;min-height:200px}.login__loading[_ngcontent-%COMP%]{display:flex;justify-content:center}.login__error[_ngcontent-%COMP%]{font-size:12px;color:#ed4758;text-align:center;padding:8px 0 20px}.login__link[_ngcontent-%COMP%]{color:#283853!important}.login__link[_ngcontent-%COMP%]:hover{color:#101823!important}.login__social[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login__back[_ngcontent-%COMP%]{width:100%;max-width:400px;margin-bottom:16px}@media (max-width: 768px){.input[_ngcontent-%COMP%]{font-size:16px}}"],changeDetection:0})}N([(0,p.l6)(b.k.getProfileCheck),Y("design:type",f.c)],C.prototype,"profileCheck$",void 0),N([(0,p.l6)($.q.getOrganizationProfile),Y("design:type",f.c)],C.prototype,"organizationProfile$",void 0),N([(0,p.l6)(b.k.getLoading),Y("design:type",f.c)],C.prototype,"loading$",void 0),N([(0,p.l6)(E.V.getHorizontalBreakpoint),Y("design:type",f.c)],C.prototype,"horizontalBreakpoint$",void 0);var te=r(76718),_e=r(35426),Pt=r(35892),wt=r(15877),ve=r(87996),be=r(36110),Ft=r(88825),w=r(18152),ye=r(81275),Tt=r(82124),Et=r(23609);let It=(()=>{class o{constructor(){this.signInClick=new e.bkB,this.signUpClick=new e.bkB,this.currentYear=(new Date).getFullYear()}ngOnInit(){}handleSignIn(){this.signInClick.emit()}handleSignUp(){this.signUpClick.emit()}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-login-overlay"]],outputs:{signInClick:"signInClick",signUpClick:"signUpClick"},decls:31,vars:2,consts:[[1,"art"],[1,"art__text"],[1,"art__ctas"],["app-button","","buttonType","primary","buttonSize","lg","type","button",3,"click"],["app-button","","buttonType","flat","buttonTheme","light","buttonSize","lg","type","button",1,"ml-4"],["href","https://www.biodigital.com/product","target","_blank",2,"text-decoration","none"],[1,"font-light"],["href","https://www.biodigital.com/customers","target","_blank",1,"art__link"],["app-button","","buttonSize","lg","type","button","buttonTheme","light",1,"mt-4",3,"click","uppercase"],[1,"underline"],["src","assets/images/signup-art.png",1,"art__image"],[1,"art__footer"],["data-test","privacyAndConditions",1,"mt-2","text-xs","text-center"],["href","https://www.biodigital.com/privacy","target","_blank"],["href","https://www.biodigital.com/terms","target","_blank"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Get started with a free account"),e.k0s(),e.j41(4,"h1"),e.EFF(5," Access the only 3D human body platform packed with hundreds of interactive models that visualize anatomical structures, conditions, and treatments. "),e.k0s(),e.j41(6,"div",2)(7,"button",3),e.bIt("click",function(){return s.handleSignUp()}),e.j41(8,"span"),e.EFF(9,"Sign Up"),e.k0s()(),e.j41(10,"button",4)(11,"a",5),e.EFF(12,"Learn More"),e.k0s()(),e.j41(13,"p",6),e.EFF(14," Business user? "),e.j41(15,"a",7),e.EFF(16," Learn more"),e.k0s(),e.EFF(17," about our plans for using within your digital solutions. "),e.k0s()(),e.j41(18,"button",8),e.bIt("click",function(){return s.handleSignIn()}),e.j41(19,"span",9),e.EFF(20,"Have an account? Sign in"),e.k0s()()(),e.nrm(21,"img",10),e.j41(22,"div",11)(23,"div",12),e.EFF(24),e.nrm(25,"br"),e.j41(26,"a",13),e.EFF(27,"Privacy"),e.k0s(),e.EFF(28," | "),e.j41(29,"a",14),e.EFF(30,"Terms"),e.k0s()()()()),2&n&&(e.R7$(18),e.Y8G("uppercase",!1),e.R7$(6),e.SpI(" \xa9 ",s.currentYear," BioDigital, Inc. All rights reserved. "))},dependencies:[y.Q],styles:["[_nghost-%COMP%]{display:block}.art[_ngcontent-%COMP%]{background:#f9fafd;color:#283853;height:100%;padding:40px 30px;text-align:center;display:flex;flex-direction:column}.art[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:#283853}.art[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.art[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;font-weight:200;margin-top:24px}.art[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;text-transform:uppercase}.art[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:.75rem;line-height:1rem;line-height:24px}.art__text[_ngcontent-%COMP%]{text-align:center;color:#101823;max-width:600px;margin:0 auto}.art__image[_ngcontent-%COMP%]{max-width:100%;align-self:center}.art__footer[_ngcontent-%COMP%]{padding:20px 0}.art__ctas[_ngcontent-%COMP%]{margin-top:20px}@media (max-height: 860px){.art[_ngcontent-%COMP%]{padding:40px 30px}.art__image[_ngcontent-%COMP%]{max-height:320px}h1[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;line-height:32px}p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;line-height:24px}}"]})}return o})();var V=function(o,i,t,n){var l,s=arguments.length,a=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,i,t,n);else for(var m=o.length-1;m>=0;m--)(l=o[m])&&(a=(s<3?l(a):s>3?l(i,t,a):l(i,t))||a);return s>3&&a&&Object.defineProperty(i,t,a),a},D=function(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,i)};const Gt=["login"],Mt=["formEl"],Ut=()=>["/login"];function jt(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"button",15),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleBackClick())}),e.j41(2,"div",16),e.nrm(3,"app-icon",17),e.j41(4,"div",18),e.EFF(5,"Back"),e.k0s()()()()}}function St(o,i){1&o&&(e.j41(0,"span"),e.EFF(1,"Loft"),e.k0s())}function Ot(o,i){1&o&&(e.j41(0,"div",19),e.nrm(1,"app-spinner",20),e.k0s())}function $t(o,i){if(1&o){const t=e.RV6();e.j41(0,"app-login-overlay",21),e.bIt("signInClick",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleOverlaySignIn())})("signUpClick",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleOverlaySignUp())}),e.k0s()}}const Lt=["www.google.com","www.bing.com","search.yahoo.com","duckduckgo.com","www.baidu.com"],Ce="/assets/images/biodigital-logo.svg";class x{constructor(i,t,n,s,a,l,m){this.authService=i,this.authRoutingService=t,this.router=n,this.activatedRoute=s,this.store=a,this.actions=l,this.changeRef=m,this.logoSrc=Ce,this.ngUnsubscribe=new _.B}ngOnInit(){this.initAutoLogout();const i=(0,te.h)(this.activatedRoute.url,this.router.events.pipe((0,R.p)(n=>n instanceof d.wF)));this.activatedRoute.queryParams.pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.initGroupConfig()}),i.pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(()=>this.setLoginArt()),(0,te.h)(i,(0,_e.R)(window,"resize")).pipe((0,ve.B)(50),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>this.setOverflow());const t=this.getReferringSite();this.showSearchOverlay=Lt.includes(t),this.initLogoListeners(),this.initGroupActions(),this.initDeveloperReferral(),this.initNavHandling()}ngAfterViewInit(){this.initResizeListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initAutoLogout(){this.actions.pipe((0,p.rM)(g.cO,g.je),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.initLoginListeners()}),this.store.dispatch(new g.fQ)}initNavHandling(){(0,te.h)(this.activatedRoute.url,this.router.events.pipe((0,R.p)(i=>i instanceof d.wF))).pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.returnTo=this.returnToEnabled?this.activatedRoute.snapshot.queryParams.returnTo:"",this.changeRef.markForCheck()})}handleBackClick(){this.router.navigateByUrl(this.returnTo)}initResizeListeners(){(0,Pt.x)((0,wt.of)(window.innerHeight),(0,_e.R)(window,"resize").pipe((0,be.T)(()=>window.innerHeight),(0,ve.B)(50))).pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.loginElRef.nativeElement.style.setProperty("--vh",`${i}px`)})}initLoginListeners(){this.loggedIn$.pipe((0,R.p)(i=>i),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.store.dispatch(new g.hs)}),this.userProfile$.pipe((0,R.p)(i=>!(0,v.isNil)(i)),(0,L.Z)(i=>{const{email:t}=i,{verification_required:n,verification_jwt:s}=i.account_verification;return this.authRoutingService.checkRedirectURL({signed_in:!0,user_email:t,verification_required:n,verification_jwt:s})}),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.isExternalRedirect(i)||this.redirect(i)}),this.actions.pipe((0,p.xi)(g.b9),(0,L.Z)(i=>this.authRoutingService.checkRedirectURL(i.response)),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{const t=this.isExternalRedirect(i);(t||void 0!==i&&!t)&&this.redirect(i)}),this.actions.pipe((0,p.xi)(g.kb),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{(0,P.K$)(i.error)===P.tG.ActiveSession&&(console.warn("A user session is already active, redirecting..."),this.redirect(void 0))})}initLogoListeners(){this.setLogo(this.store.selectSnapshot(E.V.getHorizontalBreakpoint)),this.horizontalBreakpoint$.pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.setLogo(i)})}initGroupConfig(){const i=this.authService.getGroupConfigFromRoute(this.activatedRoute.snapshot),{groupCode:t,groupInviteKey:n,groupOvidOsptok:s}=i;this.store.dispatch(t||n||s?new w.LJ({group_code:t,group_invite_key:n,group_ovid_osptok:s}):new w.Ot)}initGroupActions(){this.actions.pipe((0,p.xi)(w.F),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.store.dispatch(new w.Ot)})}initDeveloperReferral(){this.store.dispatch(new g.kK("developer_portal"===this.activatedRoute.snapshot.queryParams.ref))}setLogo(i){this.logoSrc=i<=S.m.Small?"/assets/images/logo-color.svg":Ce,this.changeRef.markForCheck()}redirect(i){const t=this.activatedRoute.snapshot.queryParamMap.get("returnUrl");(0,v.isNil)(i)?t?this.router.navigateByUrl(t):this.router.navigate(["/"]):this.authRoutingService.navigateByRedirectURL(i)}handleOverlaySignIn(){window.location.href="/login"}handleOverlaySignUp(){window.location.href="/login/create"}getReferringSite(){const i=document.referrer;if(i){const t=i.match(/:\/\/(.[^/]+)/);return t&&t[1]?t[1]:null}return null}setLoginArt(){this.loginArt=(0,v.get)(this.activatedRoute,"snapshot.firstChild.data.loginArt",Ft.z.login),this.loginThemed=(0,v.get)(this.activatedRoute,"snapshot.firstChild.data.loginThemed",!1),this.returnToEnabled=(0,v.get)(this.activatedRoute,"snapshot.firstChild.data.returnToEnabled",!1)}setOverflow(){const i=window.innerHeight;this.overflow=i-this.formEl.nativeElement.offsetHeight<0,this.changeRef.markForCheck()}isExternalRedirect(i){return!(0,v.isNil)(i)&&"external"===i.type}static#e=this.\u0275fac=function(t){return new(t||x)(e.rXU(k.u),e.rXU(ye.y),e.rXU(d.Ix),e.rXU(d.nX),e.rXU(p.il),e.rXU(p.En),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["app-login-master"]],viewQuery:function(t,n){if(1&t&&(e.GBs(Gt,7),e.GBs(Mt,7)),2&t){let s;e.mGM(s=e.lsd())&&(n.loginElRef=s.first),e.mGM(s=e.lsd())&&(n.formEl=s.first)}},decls:17,vars:19,consts:[["login",""],["formEl",""],[1,"login","theme-light"],["data-test","loginArt",1,"login__art",3,"art"],[1,"login__form"],["class","login__form-nav",4,"ngIf"],[1,"login__header"],["queryParamsHandling","merge",3,"routerLink"],["data-test","biodigitalLogo",1,"login__logo",3,"src"],[4,"appFlagInternal"],[1,"login__card"],["class","login__card-loader",4,"ngIf"],[1,"login__body"],["class","login__overlay",3,"signInClick","signUpClick",4,"ngIf"],[1,"login__form-nav"],["type","button","app-button","","buttonTheme","light","buttonSize","lg",3,"click"],[1,"flex","flex-row"],["icon","arrow-left"],[1,"ml-2"],[1,"login__card-loader"],["size","huge"],[1,"login__overlay",3,"signInClick","signUpClick"]],template:function(t,n){1&t&&(e.j41(0,"div",2,0),e.nrm(2,"app-login-art",3),e.j41(3,"div",4,1),e.DNE(5,jt,6,0,"div",5),e.j41(6,"div",6)(7,"a",7),e.nrm(8,"img",8),e.DNE(9,St,2,0,"span",9),e.k0s()(),e.j41(10,"div",10),e.nI1(11,"async"),e.DNE(12,Ot,2,0,"div",11),e.nI1(13,"async"),e.j41(14,"div",12),e.nrm(15,"router-outlet"),e.k0s()()(),e.DNE(16,$t,1,0,"app-login-overlay",13),e.k0s()),2&t&&(e.AVh("login__overlay-enabled",n.showSearchOverlay)("login--themed",n.loginThemed)("login--overflow",n.overflow),e.R7$(2),e.Y8G("art",n.loginArt),e.R7$(3),e.Y8G("ngIf",n.returnToEnabled&&n.returnTo),e.R7$(2),e.Y8G("routerLink",e.lJ4(18,Ut)),e.R7$(),e.Y8G("src",n.logoSrc,e.B4B),e.R7$(2),e.AVh("login__card--loading",e.bMT(11,14,n.organizationLoading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(13,16,n.organizationLoading$)),e.R7$(4),e.Y8G("ngIf",n.showSearchOverlay))},dependencies:[h.bT,d.n3,d.Wk,y.Q,Tt.n,Z.R,I.tI,Et.Y,It,h.Jj],styles:[".login[_ngcontent-%COMP%]{display:flex;flex-direction:row;--form-width: 424px}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#283853}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login__form[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:var(--vh);padding:20px 0;background:#fff;color:#283853;margin:0 auto;flex:1 0 50%}.login__form-nav[_ngcontent-%COMP%]{align-self:flex-start;margin-bottom:8px}.login__art[_ngcontent-%COMP%]{flex-basis:50%}.login__overlay[_ngcontent-%COMP%]{display:none}.login__header[_ngcontent-%COMP%]{padding:0 12px;width:var(--form-width);text-align:center}.login__logo[_ngcontent-%COMP%]{width:auto;height:30px}.login__card[_ngcontent-%COMP%]{width:var(--form-width);top:10vh;z-index:2;padding:0 12px}.login__card--loading[_ngcontent-%COMP%]{position:relative}.login__card-loader[_ngcontent-%COMP%]{background-color:#fff;position:absolute;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.login__body[_ngcontent-%COMP%]{padding-top:32px}.login__footer[_ngcontent-%COMP%]{margin-top:12px}.login--themed[_ngcontent-%COMP%]   .login__card[_ngcontent-%COMP%]{border-radius:4px}.login[_ngcontent-%COMP%]:not(.login--overflow)   .login__footer[_ngcontent-%COMP%]{position:fixed;bottom:20px;margin:0}@media (min-width: 601px){.login__form[_ngcontent-%COMP%]{justify-content:center;padding-bottom:10vh;max-width:var(--form-width);width:100%}.login__form-nav[_ngcontent-%COMP%]{position:absolute;top:16px}.login__header[_ngcontent-%COMP%]{padding:32px 16px;margin-bottom:32px}.login__body[_ngcontent-%COMP%]{padding:8px 0}.login--themed[_ngcontent-%COMP%]   .login__card[_ngcontent-%COMP%]{box-shadow:0 -1px 12px #10182326,0 1px 6px #10182333}.login--themed[_ngcontent-%COMP%]   .login__body[_ngcontent-%COMP%]{padding:24px 32px}}@media (max-width: 959px){.login__art[_ngcontent-%COMP%]{display:none}.login__form[_ngcontent-%COMP%]{flex-basis:100%}.login__form-nav[_ngcontent-%COMP%]{position:absolute;top:32px}.login__overlay-enabled[_ngcontent-%COMP%]   .login__overlay[_ngcontent-%COMP%]{z-index:2;display:block;position:fixed;inset:0;overflow-y:scroll}.login__overlay-enabled[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]{display:none}}@media (min-width: 960px){.login__header[_ngcontent-%COMP%]{display:none}.login__form-nav[_ngcontent-%COMP%]{position:absolute;top:32px}}@media (max-width: 600px){.login[_ngcontent-%COMP%]{--form-width: 344px}.login__form-nav[_ngcontent-%COMP%]{position:absolute;top:16px}}@media (max-height: 600px){.login--overflow[_ngcontent-%COMP%]   .login__form-nav[_ngcontent-%COMP%]{position:relative;top:0;left:0;align-self:flex-start}}"],changeDetection:0})}V([(0,p.l6)(E.V.getHorizontalBreakpoint),D("design:type",f.c)],x.prototype,"horizontalBreakpoint$",void 0),V([(0,p.l6)(b.k.getLoggedIn),D("design:type",f.c)],x.prototype,"loggedIn$",void 0),V([(0,p.l6)(b.k.getUserProfile),D("design:type",f.c)],x.prototype,"userProfile$",void 0),V([(0,p.l6)($.q.getLoading),D("design:type",f.c)],x.prototype,"organizationLoading$",void 0);var ie=r(95416);const xe=()=>["/login"];function Yt(o,i){1&o&&(e.j41(0,"span",13),e.EFF(1,"Send reset instructions"),e.k0s())}function Vt(o,i){1&o&&e.nrm(0,"app-spinner",14)}function Dt(o,i){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",2),e.EFF(2,"Forgot your password?"),e.k0s(),e.j41(3,"p",3),e.EFF(4," Don't worry - we'll help you reset it and get back on track. "),e.k0s(),e.j41(5,"form",4),e.bIt("submit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleSubmit())}),e.j41(6,"app-form-field",5),e.nrm(7,"input",6),e.k0s(),e.j41(8,"app-form-field",7)(9,"button",8),e.nI1(10,"async"),e.DNE(11,Yt,2,0,"span",9),e.nI1(12,"async"),e.DNE(13,Vt,1,0,"app-spinner",10),e.nI1(14,"async"),e.k0s()()(),e.j41(15,"div",11)(16,"a",12),e.EFF(17,"Back to sign in"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(5),e.Y8G("formGroup",t.form),e.R7$(4),e.Y8G("uppercase",!1)("disabled",e.bMT(10,6,t.loading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(12,8,t.loading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(14,10,t.loading$)),e.R7$(3),e.Y8G("routerLink",e.lJ4(12,xe))}}function At(o,i){1&o&&(e.j41(0,"span",13),e.EFF(1,"Acknowledge"),e.k0s())}function Xt(o,i){1&o&&e.nrm(0,"app-spinner",14)}function Ht(o,i){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",2),e.EFF(2,"Changes to your account login"),e.k0s(),e.j41(3,"p",15),e.EFF(4," We've deprecated support for Facebook login, but you can still access your account using the email address associated with your Facebook account."),e.nrm(5,"br"),e.EFF(6,"Click "),e.j41(7,"strong",16),e.EFF(8,"Acknowledge"),e.k0s(),e.EFF(9," to set up your new BioDigital account login. "),e.k0s(),e.j41(10,"button",17),e.nI1(11,"async"),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleAcknowledgeClick())}),e.DNE(12,At,2,0,"span",9),e.nI1(13,"async"),e.DNE(14,Xt,1,0,"app-spinner",10),e.nI1(15,"async"),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(10),e.Y8G("uppercase",!1)("disabled",e.bMT(11,4,t.loading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(13,6,t.loading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(15,8,t.loading$))}}function Qt(o,i){if(1&o&&(e.j41(0,"div")(1,"div",18),e.EFF(2,"Check your email"),e.k0s(),e.j41(3,"p",19),e.EFF(4," We just sent you an email to "),e.j41(5,"span",20),e.EFF(6),e.k0s(),e.EFF(7," with instructions to reset your password. "),e.k0s(),e.j41(8,"div",11)(9,"button",21),e.EFF(10," Back to sign in "),e.k0s()()()),2&o){const t=e.XpG();e.R7$(6),e.JRh(t.email),e.R7$(3),e.Y8G("uppercase",!1)("routerLink",e.lJ4(3,xe))}}class G{constructor(i,t,n,s,a){this.formBuilder=i,this.store=t,this.actions=n,this.snackbar=s,this.activatedRoute=a,this.view="reset",this.ngUnsubscribe=new _.B;const l=this.store.selectSnapshot(b.k.getProfileCheck),m=this.activatedRoute.snapshot.queryParams;"Facebook"===m.resetType?(this.view="authorize",this.email=m.email):this.form=this.formBuilder.group({email:[l?l.email:"",c.k0.email]})}ngOnInit(){this.actions.pipe((0,p.xi)(g.ct,g.o7),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.handleResetSuccess(i.email)}),this.actions.pipe((0,p.xi)(g.Fm,g.z3),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.handleResetFailure()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSubmit(){if(this.form.valid){const i=this.form.get("email").value;this.store.dispatch(new g.RO(i))}}handleAcknowledgeClick(){this.email&&this.store.dispatch(new g.JY(this.email))}handleResetSuccess(i){this.email=i,this.view="success"}handleResetFailure(){this.snackbar.open("There was an error resetting your password.")}static#e=this.\u0275fac=function(t){return new(t||G)(e.rXU(c.ze),e.rXU(p.il),e.rXU(p.En),e.rXU(ie.UG),e.rXU(d.nX))};static#t=this.\u0275cmp=e.VBU({type:G,selectors:[["app-reset-page"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["data-test","infoText",1,"text-lg","font-semibold","mt-2"],["data-test","infoText1",1,"text-xs","font-semibold","mt-4","mb-6"],[3,"submit","formGroup"],["theme","light","label","Email","data-test","emailLabel"],["data-test","emailInput","name","email","type","email","formControlName","email","placeholder","Email",1,"input","w-full","mb-1"],["theme","light"],["app-button","","buttonType","primary","buttonSize","lg","type","submit",1,"w-full",3,"uppercase","disabled"],["data-test","resetPasswordButton",4,"ngIf"],["size","medium",4,"ngIf"],[1,"mt-4"],["queryParamsHandling","merge","data-test","backToSignInButton",1,"text-xs","text-link","underline",3,"routerLink"],["data-test","resetPasswordButton"],["size","medium"],["data-test","infoText1",1,"text-xs","font-light","mt-4","mb-6"],[1,"font-semibold"],["app-button","","buttonType","primary","buttonSize","lg","data-test","acknowledgeFacebookTransfer",1,"w-full",3,"click","uppercase","disabled"],[1,"text-lg","font-semibold"],["data-test","successText",1,"text-xs","my-8"],[1,"font-bold"],["app-button","","buttonType","primary","buttonSize","lg","queryParamsHandling","merge","data-test","backToSignInButton",1,"w-full",3,"uppercase","routerLink"]],template:function(t,n){1&t&&(e.qex(0,0),e.DNE(1,Dt,18,13,"div",1)(2,Ht,16,10,"div",1)(3,Qt,11,4,"div",1),e.bVm()),2&t&&(e.Y8G("ngSwitch",n.view),e.R7$(),e.Y8G("ngSwitchCase","reset"),e.R7$(),e.Y8G("ngSwitchCase","authorize"),e.R7$(),e.Y8G("ngSwitchCase","success"))},dependencies:[h.bT,h.ux,h.e1,d.Wk,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,y.Q,z.K,I.tI,h.Jj],changeDetection:0})}!function(o,i,t,n){var l,s=arguments.length,a=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,i,t,n);else for(var m=o.length-1;m>=0;m--)(l=o[m])&&(a=(s<3?l(a):s>3?l(i,t,a):l(i,t))||a);s>3&&a&&Object.defineProperty(i,t,a)}([(0,p.l6)(b.k.getLoading),function(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",i)}(0,f.c)],G.prototype,"loading$",void 0);var Wt=r(24684),qt=r(83889),ke=function(o,i,t,n){var l,s=arguments.length,a=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,i,t,n);else for(var m=o.length-1;m>=0;m--)(l=o[m])&&(a=(s<3?l(a):s>3?l(i,t,a):l(i,t))||a);return s>3&&a&&Object.defineProperty(i,t,a),a},Re=function(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,i)};const Jt=["recaptchaEl"],Kt=()=>["/login"];function Zt(o,i){if(1&o&&(e.j41(0,"div",29)(1,"app-alert",30),e.nrm(2,"div",31),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.Y8G("innerHTML",t.errorMessage,e.npT)}}function ei(o,i){1&o&&(e.qex(0),e.j41(1,"app-google-button"),e.EFF(2," Sign up with Google "),e.k0s(),e.j41(3,"div",33),e.nrm(4,"div",34),e.j41(5,"div",35),e.EFF(6,"OR"),e.k0s(),e.nrm(7,"div",34),e.k0s(),e.bVm())}function ti(o,i){if(1&o&&(e.qex(0),e.DNE(1,ei,8,0,"ng-container",32),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.Y8G("appFlagApplication",t.application.All)("appFlagApplicationMode","exclude")("appFlagApplicationNative",t.nativePlatform.iOS)}}function ii(o,i){1&o&&(e.j41(0,"div",36),e.EFF(1," First name is required. "),e.k0s())}function ni(o,i){1&o&&(e.j41(0,"div",36),e.EFF(1," Last name is required. "),e.k0s())}function oi(o,i){1&o&&(e.j41(0,"div",36),e.EFF(1," Please enter a valid email. "),e.k0s())}function si(o,i){1&o&&(e.j41(0,"div",36),e.EFF(1," Email is required. "),e.k0s())}function ai(o,i){if(1&o&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" Password must be at least ",t.minPasswordLength," characters. ")}}function ri(o,i){1&o&&(e.j41(0,"div",36),e.EFF(1," Password is required. "),e.k0s())}function li(o,i){if(1&o&&(e.j41(0,"app-form-field",37),e.nrm(1,"input",38),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("value",t.groupConfig.groupCode)}}function ci(o,i){1&o&&(e.j41(0,"span",42),e.EFF(1," Please verify the reCAPTCHA to continue. "),e.k0s())}function pi(o,i){if(1&o&&(e.j41(0,"app-form-field",39),e.nI1(1,"async"),e.nrm(2,"app-recaptcha-form",40,1),e.DNE(4,ci,2,0,"span",41),e.k0s()),2&o){const t=e.sdS(3),n=e.XpG();e.Y8G("hidden",!(null!=t&&t.visible)||e.bMT(1,2,n.loading$)),e.R7$(4),e.Y8G("ngIf",n.submitAttempt&&!t.value)}}function gi(o,i){1&o&&(e.j41(0,"span"),e.EFF(1,"Sign up with email"),e.k0s())}function mi(o,i){1&o&&e.nrm(0,"app-spinner",43)}const ui=ee.c.application===O.c.Studio;class F{get firstName(){return this.form.controls.firstName}get lastName(){return this.form.controls.lastName}get email(){return this.form.controls.email}get password(){return this.form.controls.password}constructor(i,t,n,s,a,l,m,U,ne,oe,se){this.formBuilder=i,this.store=t,this.actions=n,this.authService=s,this.authRoutingService=a,this.sanitizer=l,this.activatedRoute=m,this.linkedinInsights=U,this.markdownService=ne,this.productService=oe,this.changeRef=se,this.reCaptchaRequired=!1,this.application=O.c,this.nativePlatform=Q.I,this.minPasswordLength=ee.c.minPasswordLength,this.submitAttempt=!1,this.isValidGoogleDomain=!1,this.ngUnsubscribe=new _.B,this.groupConfig=this.authService.getGroupConfigFromRoute(this.activatedRoute.snapshot),this.platformLoginConfig=this.authService.getPlatformConfigFromRoute(this.activatedRoute.snapshot),this.form=this.formBuilder.group({firstName:["",c.k0.required],lastName:["",c.k0.required],email:["",[c.k0.required,c.k0.email]],password:["",[c.k0.required,c.k0.minLength(this.minPasswordLength),c.k0.maxLength(255)]],groupCode:[this.groupConfig.groupCode],reCaptcha:this.formBuilder.control(null)})}ngOnInit(){this.isValidGoogleDomain=this.authService.isValidGoogleDomain(),this.actions.pipe((0,p.xi)(g.mK),(0,L.Z)(i=>this.authRoutingService.checkRedirectURL(i.response)),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.handleSignUpSuccess(i)}),this.actions.pipe((0,p.xi)(g.HP),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.handleSignUpFailure(i.error)}),this.actions.pipe((0,p.xi)(w.F),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.handleGroupCodeFailure(i.error)}),this.actions.pipe((0,p.xi)(g.rK),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.loginWithGoogle(i.credential)}),this.actions.pipe((0,p.rM)(g.sz),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.reCaptchaRequired=!0,this.form.controls.reCaptcha.setValidators([c.k0.required]),this.changeRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}loginWithGoogle(i){const t={...new H.o(i),...this.groupConfig,...this.platformLoginConfig};t.app_productkey=this.productService.productKey,t.app_producttype=this.productService.productType,t.groupCode=this.form.controls.groupCode.value,this.store.dispatch(new g.Zc(t))}handleFormSubmit(){this.errorMessage="",this.submitAttempt=!0,this.form.valid&&this.signup()}handleSignUpSuccess(i){ui&&this.linkedinInsights.track("Sign up"),(0,v.isNil)(i)?this.store.dispatch(new g.lC):this.authRoutingService.navigateByRedirectURL(i)}handleSignUpFailure(i){this.setErrorMessage(i),this.recaptchaEl?.reset()}handleGroupCodeFailure(i){this.setErrorMessage(i),1===this.groupConfig.groupOvidMode&&this.form.disable()}signup(){const i=(0,re.bj)(Wt.g,{...this.form.value,...this.groupConfig,...this.platformLoginConfig});i.app_productkey=this.productService.productKey,i.app_producttype=this.productService.productType,i.groupCode=this.form.value.groupCode,this.store.dispatch(new g.Hx(i,this.form.value.reCaptcha))}setErrorMessage(i){var t=this;return(0,X.A)(function*(){const n=(0,P.u1)(i),s=yield t.markdownService.parse(n);t.errorMessage=s?t.sanitizer.bypassSecurityTrustHtml(s):""})()}static#e=this.\u0275fac=function(t){return new(t||F)(e.rXU(c.ok),e.rXU(p.il),e.rXU(p.En),e.rXU(k.u),e.rXU(ye.y),e.rXU(q.up),e.rXU(d.nX),e.rXU(qt.n),e.rXU(ge.Rl),e.rXU(W.b),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:F,selectors:[["app-sign-up-page"]],viewQuery:function(t,n){if(1&t&&e.GBs(Jt,5,B),2&t){let s;e.mGM(s=e.lsd())&&(n.recaptchaEl=s.first)}},decls:46,vars:29,consts:[["passwordEl",""],["recaptchaEl",""],[1,"sign-up"],[1,"mt-2","mb-4"],[3,"organizationProfile","mode"],["class","pb-2",4,"ngIf"],[4,"ngIf"],["autofill","false","autocomplete","off",3,"submit","formGroup"],[1,"fieldrow-50"],["theme","light","label","First Name",1,"mr-2"],["name","firstName","type","text","formControlName","firstName","autocomplete","off","appAutoFocus","","data-test","firstNameInput",1,"w-full","input"],["class","mt-2 text-xs text-red-700",4,"ngIf"],["theme","light","label","Last Name",1,"ml-2"],["name","lastName","type","text","formControlName","lastName","autocomplete","off","data-test","lastNameInput",1,"w-full","input"],["theme","light","label","Email"],["name","email","type","email","formControlName","email","autocomplete","off","data-test","emailInput",1,"w-full","input"],["theme","light","label","Password"],[3,"element"],["name","password","type","password","formControlName","password","autocomplete","off","data-test","passwordInput",1,"w-full","input"],["theme","light","label","Team Code",4,"ngIf"],[3,"hidden",4,"ngIf"],["theme","light"],["app-button","","buttonType","primary","buttonSize","lg","type","submit","data-test","signUpSubmitButton",1,"w-full","mt-2",3,"uppercase","disabled"],["size","medium",4,"ngIf"],[1,"mt-2","text-xs"],["href","https://www.biodigital.com/terms","target","_blank",1,"underline","sign-up__link","text-link"],["href","https://www.biodigital.com/privacy","target","_blank",1,"underline","sign-up__link","text-link"],[1,"mt-8","text-sm"],["queryParamsHandling","merge",1,"ml-1","underline","sign-up__link","text-link",3,"routerLink"],[1,"pb-2"],["theme","light","type","danger"],[3,"innerHTML"],[4,"appFlagApplication","appFlagApplicationMode","appFlagApplicationNative"],[1,"my-6","divider-or"],[1,"line"],[1,"my-2","text-xs","text-center","or"],[1,"mt-2","text-xs","text-red-700"],["theme","light","label","Team Code"],["name","groupCode","type","text","disabled","",1,"w-full","input",3,"value"],[3,"hidden"],["action","studio_signup","formControlName","reCaptcha"],["class","my-1 text-xs text-red-700",4,"ngIf"],[1,"my-1","text-xs","text-red-700"],["size","medium"]],template:function(t,n){if(1&t){const s=e.RV6();e.j41(0,"div",2)(1,"div",3),e.nrm(2,"app-login-welcome",4),e.nI1(3,"async"),e.k0s(),e.DNE(4,Zt,3,1,"div",5)(5,ti,2,3,"ng-container",6),e.j41(6,"form",7),e.bIt("submit",function(){return e.eBV(s),e.Njj(n.handleFormSubmit())}),e.j41(7,"div",8)(8,"app-form-field",9),e.nrm(9,"input",10),e.DNE(10,ii,2,0,"div",11),e.k0s(),e.j41(11,"app-form-field",12),e.nrm(12,"input",13),e.DNE(13,ni,2,0,"div",11),e.k0s()(),e.j41(14,"app-form-field",14),e.nrm(15,"input",15),e.DNE(16,oi,2,0,"div",11)(17,si,2,0,"div",11),e.k0s(),e.j41(18,"app-form-field",16)(19,"app-toggle-password-input",17),e.nrm(20,"input",18,0),e.k0s(),e.DNE(22,ai,2,1,"div",11)(23,ri,2,0,"div",11),e.k0s(),e.DNE(24,li,2,1,"app-form-field",19),e.nI1(25,"async"),e.DNE(26,pi,5,4,"app-form-field",20),e.j41(27,"app-form-field",21)(28,"button",22),e.DNE(29,gi,2,0,"span",6),e.nI1(30,"async"),e.DNE(31,mi,1,0,"app-spinner",23),e.nI1(32,"async"),e.k0s()()(),e.j41(33,"div",24),e.EFF(34," By signing up, you agree to our "),e.j41(35,"a",25),e.EFF(36,"Terms of Service"),e.k0s(),e.EFF(37," and "),e.j41(38,"a",26),e.EFF(39,"Privacy Policy"),e.k0s(),e.EFF(40,". "),e.k0s(),e.j41(41,"div",27)(42,"span"),e.EFF(43,"Already have an account?"),e.k0s(),e.j41(44,"a",28),e.EFF(45,"Sign in"),e.k0s()()()}if(2&t){const s=e.sdS(21);e.R7$(2),e.Y8G("organizationProfile",e.bMT(3,20,n.organizationProfile$))("mode","signUp"),e.R7$(2),e.Y8G("ngIf",n.errorMessage),e.R7$(),e.Y8G("ngIf",n.isValidGoogleDomain),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(4),e.Y8G("ngIf",n.firstName.dirty&&n.firstName.touched&&n.firstName.invalid&&(null==n.firstName.errors?null:n.firstName.errors.required)||n.submitAttempt&&!n.firstName.value),e.R7$(3),e.Y8G("ngIf",n.lastName.dirty&&n.lastName.touched&&n.lastName.invalid&&(null==n.lastName.errors?null:n.lastName.errors.required)||n.submitAttempt&&!n.lastName.value),e.R7$(3),e.Y8G("ngIf",n.email.dirty&&n.email.touched&&n.email.invalid&&((null==n.email.errors?null:n.email.errors.required)||(null==n.email.errors?null:n.email.errors.email))&&n.email.value),e.R7$(),e.Y8G("ngIf",n.submitAttempt&&!n.email.value),e.R7$(2),e.Y8G("element",s),e.R7$(),e.BMQ("placeholder","At least "+n.minPasswordLength+" characters"),e.R7$(2),e.Y8G("ngIf",n.password.dirty&&n.password.touched&&n.password.invalid&&(null==n.password.errors?null:n.password.errors.minlength)),e.R7$(),e.Y8G("ngIf",n.submitAttempt&&!n.password.value),e.R7$(),e.Y8G("ngIf",e.bMT(25,22,n.organizationProfile$)&&n.groupConfig.groupCode),e.R7$(2),e.Y8G("ngIf",n.reCaptchaRequired),e.R7$(2),e.Y8G("uppercase",!1)("disabled",n.form.disabled),e.R7$(),e.Y8G("ngIf",!e.bMT(30,24,n.loading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(32,26,n.loading$)),e.R7$(13),e.Y8G("routerLink",e.lJ4(28,Kt))}},dependencies:[h.bT,d.Wk,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,J.C,y.Q,me.B,K.Y,z.K,I.tI,ue,B,he,fe,h.Jj],styles:[".sign-up__group[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;padding:0 0 24px;text-align:center}.sign-up__link[_ngcontent-%COMP%]{color:#283853!important}.sign-up__link[_ngcontent-%COMP%]:hover{color:#101823!important}.button-google[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:500;align-items:center;border-radius:4px;display:flex;justify-content:center;padding:0 8px;border:0;outline:0;height:36px;background:#f9fafd;border:1px solid rgba(150,168,192,.8);color:#374a68}.button-google[_ngcontent-%COMP%]:hover{cursor:pointer;background:#eaeff5;border-color:#61779e}.divider-or[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#61779e}.line[_ngcontent-%COMP%]{height:1px;background:#d7e0ea;width:50%}.or[_ngcontent-%COMP%]{background:#fff;color:#374a68;padding:0 10px}.fieldrow-50[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fieldrow-50[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}@media (max-width: 768px){.input[_ngcontent-%COMP%]{font-size:16px}}"],changeDetection:0})}ke([(0,p.l6)(b.k.getLoading),Re("design:type",f.c)],F.prototype,"loading$",void 0),ke([(0,p.l6)($.q.getOrganizationProfile),Re("design:type",f.c)],F.prototype,"organizationProfile$",void 0);let di=(()=>{class o{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-verify-page"]],decls:12,vars:0,consts:[[1,"text-lg","font-semibold","text-center","mt-2","mb-6"],[1,"text-sm","text-center"],["href","/login",1,"text-link","font-semibold"],[1,"text-sm","text-center","mt-4"],["href","mailto: support@biodigital.com",1,"text-link","underline"]],template:function(n,s){1&n&&(e.j41(0,"div",0),e.EFF(1," Your account has been blocked from accessing this form.\n"),e.k0s(),e.j41(2,"p",1),e.EFF(3," Your login failed due to a reCAPTCHA issue. This might be caused by the use of a VPN, browser plugin, or security firewall. "),e.j41(4,"a",2),e.EFF(5,"Please try again"),e.k0s(),e.EFF(6,".\n"),e.k0s(),e.j41(7,"p",3),e.EFF(8," If this continues, please contact "),e.j41(9,"a",4),e.EFF(10,"support@biodigital.com"),e.k0s(),e.EFF(11," for any questions or concerns.\n"),e.k0s())},changeDetection:0})}return o})();var Pe=r(21082),hi=r(87145);const fi=["input"];let _i=(()=>{class o extends ce.n{constructor(t,n){super(),this.formBuilder=t,this.changeRef=n,this.size="medium",this.ngUnsubscribe=new _.B,this.initForm()}ngOnInit(){this.initFormListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){this.valueField=this.formBuilder.control(["",[c.k0.required]]),this.form=this.formBuilder.group({value:this.valueField})}initFormListeners(){this.valueField.valueChanges.pipe((0,Pe.F)(),(0,u.Q)(this.ngUnsubscribe)).subscribe(t=>{this.writeValue(t)})}focus(){const t=this.input?.nativeElement;t&&t.focus()}setFormValues(t){this.form.patchValue({value:t}),this.changeRef.markForCheck()}setDisabledState(t){t?this.form.disable():this.form.enable(),super.setDisabledState(t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(c.ze),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-verify-code-input"]],viewQuery:function(n,s){if(1&n&&e.GBs(fi,7),2&n){let a;e.mGM(a=e.lsd())&&(s.input=a.first)}},inputs:{length:"length",size:"size"},features:[e.Jv_([{provide:c.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.Vt3],decls:4,vars:8,consts:[["input",""],[1,"verify","flex","flex-row","items-center",3,"formGroup"],["label","Enter code","theme","light"],["type","text","formControlName","value","aria-label","Enter code","autocomplete","off",1,"verify__field",3,"maxlength"]],template:function(n,s){1&n&&(e.j41(0,"div",1)(1,"app-form-field",2),e.nrm(2,"input",3,0),e.k0s()()),2&n&&(e.AVh("verify--small","small"===s.size)("verify--medium","medium"===s.size)("verify--large","large"===s.size),e.Y8G("formGroup",s.form),e.R7$(2),e.Y8G("maxlength",s.length))},dependencies:[z.K,c.me,c.BC,c.cb,c.tU,c.j4,c.JD],styles:[".verify__field[_ngcontent-%COMP%]{width:140px;height:64px;border:1px solid #96a8c0!important;border-radius:4px;text-transform:uppercase;text-align:left;margin:auto 6px;padding:0 16px}.verify__field[_ngcontent-%COMP%]:active, .verify__field[_ngcontent-%COMP%]:focus{outline:#2d72dc solid 2px!important}.verify__field[_ngcontent-%COMP%]:first-child{margin-left:0!important}.verify__field[_ngcontent-%COMP%]:last-child{margin-right:0!important}.verify--small[_ngcontent-%COMP%]   .verify__field[_ngcontent-%COMP%]{margin:0 4px;height:60px;font-size:24px}.verify--medium[_ngcontent-%COMP%]   .verify__field[_ngcontent-%COMP%]{font-size:24px}.verify--large[_ngcontent-%COMP%]   .verify__field[_ngcontent-%COMP%]{font-size:32px}"],changeDetection:0})}return o})();var vi=r(8961),we=function(o,i,t,n){var l,s=arguments.length,a=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,i,t,n);else for(var m=o.length-1;m>=0;m--)(l=o[m])&&(a=(s<3?l(a):s>3?l(i,t,a):l(i,t))||a);return s>3&&a&&Object.defineProperty(i,t,a),a},Fe=function(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,i)};const bi=["verifyInput"];class T{constructor(i,t,n,s,a,l){this.store=i,this.actions=t,this.formBuilder=n,this.changeRef=s,this.snackbar=a,this.sanitizer=l,this.inputLength=6,this.breakPoints=S.m,this.requestSuccess=new e.bkB,this.requestFailure=new e.bkB,this.verifySuccess=new e.bkB,this.verifyFailure=new e.bkB,this.ngUnsubscribe=new _.B,this.form=this.formBuilder.group({code:["",c.k0.required]})}ngOnInit(){this.initFormListeners(),this.initVerifyListeners()}ngAfterViewInit(){this.verifyInput.focus()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initFormListeners(){this.form.valueChanges.pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{const t=i.code.trim();t.length===this.inputLength&&this.verifyAccount(t)}),this.form.valueChanges.pipe((0,be.T)(i=>""===i.code.trim()),(0,Pe.F)(),(0,R.p)(i=>!i),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.hideError(),this.changeRef.markForCheck()})}initVerifyListeners(){this.actions.pipe((0,p.xi)(g.bY),(0,hi.i)(1),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.hideError(),this.handleRequestSuccess(i.response),this.reset(),this.changeRef.markForCheck()}),this.actions.pipe((0,p.xi)(g.Ml),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.hideError(),this.handleRequestFailure(i.error),this.changeRef.markForCheck()}),this.actions.pipe((0,p.xi)(g.iM),(0,u.Q)(this.ngUnsubscribe)).subscribe(i=>{this.hideError(),this.changeRef.markForCheck()}),this.actions.pipe((0,p.xi)(g.RW),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.reset(),this.showError("The code wasn't valid. Please try again or request a new code."),this.changeRef.markForCheck()})}handleRequestCodeClick(i){this.requestVerificationCode(),this.form.setValue({code:""}),i.stopPropagation(),i.preventDefault()}requestVerificationCode(){this.store.dispatch(new g.wj(this.email,this.token))}verifyAccount(i){this.store.dispatch(new g.XZ(this.email,this.token,i))}handleRequestSuccess(i){i.verification_code_email_sent?this.snackbar.open(`We just sent a code to ${this.email}.`):this.showError("There was an error requesting a code. Please request a new code.")}handleRequestFailure(i){const t=(0,v.get)(i,"error.error.message","There was an error requesting a code. Please request a new code.");this.showError(t)}showError(i=""){this.errorVisible=!0,this.errorMessage=this.sanitizer.bypassSecurityTrustHtml(i),this.changeRef.markForCheck()}hideError(){this.errorVisible=!1}reset(){this.form.patchValue({code:""}),this.verifyInput.focus()}static#e=this.\u0275fac=function(t){return new(t||T)(e.rXU(p.il),e.rXU(p.En),e.rXU(c.ze),e.rXU(e.gRc),e.rXU(ie.UG),e.rXU(q.up))};static#t=this.\u0275cmp=e.VBU({type:T,selectors:[["app-verify-email"]],viewQuery:function(t,n){if(1&t&&e.GBs(bi,7),2&t){let s;e.mGM(s=e.lsd())&&(n.verifyInput=s.first)}},inputs:{email:"email",token:"token"},outputs:{requestSuccess:"requestSuccess",requestFailure:"requestFailure",verifySuccess:"verifySuccess",verifyFailure:"verifyFailure"},decls:19,vars:10,consts:[["verifyInput",""],[1,"verify-email","flex","flex-col"],[1,"verify-email__title","mt-4","text-3xl","font-semibold"],[1,"my-8"],[1,"text-sm","mb-3"],[1,"text-lg","font-semibold"],[3,"formGroup"],[1,"mb-6"],["formControlName","code",3,"length","size"],["type","error",3,"shown","dismiss","hideDelay"],["role","status",3,"innerHTML"],[1,"mt-5","text-sm"],["href","#",1,"verify-email__link","text-link","underline",3,"click"]],template:function(t,n){if(1&t){const s=e.RV6();e.j41(0,"div",1)(1,"h1",2),e.EFF(2,"Verify your email address"),e.k0s(),e.j41(3,"div",3)(4,"p",4),e.EFF(5,"In order to verify your identity, please enter the code we sent to:"),e.k0s(),e.j41(6,"em",5),e.EFF(7),e.k0s()(),e.j41(8,"form",6)(9,"div",7),e.nrm(10,"app-verify-code-input",8,0),e.nI1(12,"async"),e.k0s(),e.j41(13,"app-message-toggle",9),e.nrm(14,"p",10),e.k0s(),e.j41(15,"p",11),e.EFF(16," Don't see it? "),e.j41(17,"a",12),e.bIt("click",function(l){return e.eBV(s),e.Njj(n.handleRequestCodeClick(l))}),e.EFF(18,"Resend code"),e.k0s()()()()}2&t&&(e.R7$(7),e.JRh(n.email),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("length",n.inputLength)("size",e.bMT(12,8,n.horizontalBreakpoint$)<=n.breakPoints.Small?"small":"medium"),e.R7$(3),e.Y8G("shown",n.errorVisible)("dismiss",!1)("hideDelay",0),e.R7$(),e.Y8G("innerHTML",n.errorMessage,e.npT))},dependencies:[c.qT,c.BC,c.cb,c.j4,c.JD,vi.X,_i,h.Jj],styles:[".verify-email__title[_ngcontent-%COMP%]{color:#131c2a}.verify-email__link[_ngcontent-%COMP%]:focus{outline:#2d72dc solid 2px!important}"],changeDetection:0})}we([(0,p.l6)(E.V.getHorizontalBreakpoint),Fe("design:type",f.c)],T.prototype,"horizontalBreakpoint$",void 0),we([(0,p.l6)(b.k.getVerifyingProfile),Fe("design:type",f.c)],T.prototype,"verifying$",void 0);let yi=(()=>{class o{constructor(t,n,s,a){this.store=t,this.router=n,this.activatedRoute=s,this.snackBar=a,this.email="",this.token="",this.ngUnsubscribe=new _.B;const l=this.activatedRoute.snapshot.queryParams;(0,v.isNil)(l)||(this.email=l.email,this.token=l.token),!this.email&&!this.token&&this.router.navigateByUrl("/")}ngOnInit(){this.store.dispatch(new g.wj(this.email,this.token))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(p.il),e.rXU(d.Ix),e.rXU(d.nX),e.rXU(ie.UG))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-verify-email-page"]],decls:1,vars:2,consts:[[3,"email","token"]],template:function(n,s){1&n&&e.nrm(0,"app-verify-email",0),2&n&&e.Y8G("email",s.email)("token",s.token)},dependencies:[T],changeDetection:0})}return o})();var Ci=r(82656),A=r(27153),xi=r(29302),Te=r(30234);function Pi(o,i){1&o&&e.nrm(0,"app-spinner",3)}function wi(o,i){if(1&o){const t=e.RV6();e.qex(0),e.nrm(1,"img",4),e.j41(2,"h2",5),e.EFF(3),e.k0s(),e.j41(4,"p",6),e.EFF(5),e.j41(6,"a",7),e.EFF(7),e.k0s(),e.EFF(8," for assistance. "),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleContactClick())}),e.EFF(10," Contact Support "),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(3),e.SpI(" ",t.errorMessage," "),e.R7$(2),e.SpI(" Please contact the ",t.providerName," support team at "),e.R7$(),e.BMQ("href",t.errorEmailLink,e.B4B),e.R7$(),e.JRh(t.providerEmailAddress)}}class M{constructor(i,t,n,s,a,l){this.route=i,this.store=t,this.actions=n,this.productService=s,this.authService=a,this.changeRef=l,this.providerName=A.n3[Te.a.WoltersKluwer],this.providerEmailAddress=A.mY[Te.a.WoltersKluwer],this.loading=!1,this.errorMessage="",this.ngUnsubscribe=new _.B,this.initAuthListeners()}ngOnInit(){this.loginGroupUser()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleContactClick(){window.open(this.errorEmailLink,"_blank")}loginGroupUser(){const{groupOvidOsptok:i}=this.authService.getGroupConfigFromRoute(this.route.snapshot),{productType:t,productKey:n}=this.productService,s=new xi.G(t,n,1,i);this.store.dispatch([new g.bl(s),new w.LJ({group_ovid_osptok:i})])}initAuthListeners(){this.actions.pipe((0,p.xi)(g.bl),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{this.loading=!0,this.changeRef.markForCheck()}),this.actions.pipe((0,p.rM)(g.b9),(0,u.Q)(this.ngUnsubscribe)).subscribe(()=>{window.location.href="/"}),(0,Ci.z)([this.actions.pipe((0,p.xi)(g.kb)),this.groupProfile$]).pipe((0,u.Q)(this.ngUnsubscribe)).subscribe(([i,t])=>{const n=i?.error,s=(0,P.K$)(n),a=(0,P.u1)(n),l="OSIH01.00035"===s;this.loading=!1,this.errorMessage=this.getFormattedErrorMessage(s,a,l,t),this.errorEmailLink=this.getFormattedMailToLink(s,a,l,t),this.changeRef.markForCheck()})}getFormattedErrorMessage(i,t,n,s){return n&&s?.name?`Your team subscription for ${s.name} has expired.`:`${t} [Error Code: ${i}].`}getFormattedMailToLink(i,t,n,s){return n?(0,A.NP)(this.providerEmailAddress,"Request for Restored Access to the BioDigital Human",`\nHello, \n\nI received a notification that my team's subscription to the BioDigital Human has expired. \n\nI find the BioDigital Human to be an invaluable resource, so I want my institution, ${s?.name||"[Insert Team Name Here]"}, to know that I am interested in having our access restored. I would appreciate it if you could notify them on my behalf.\n\nThanks!\n[Insert Name Here]\n`.trim()):(0,A.NP)(this.providerEmailAddress,`Troubleshooting Request: Invalid Ovid Token [${i}]`,`\nHello,\n\nI encountered an error while attempting to access the BioDigital Human platform through my institution, [Insert Your Team Name Here]. The error code is [${i}] and the accompanying message is [${t}].\n\nPlease advise me on how to proceed so that I can use the BioDigital Human platform.\n\nThanks!\n[Insert Name Here]`.trim())}static#e=this.\u0275fac=function(t){return new(t||M)(e.rXU(d.nX),e.rXU(p.il),e.rXU(p.En),e.rXU(W.b),e.rXU(k.u),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:M,selectors:[["app-login-group"]],decls:3,vars:4,consts:[[1,"login-group"],["size","huge",4,"ngIf"],[4,"ngIf"],["size","huge"],["src","assets/images/biodigital-logo.svg","width","240","data-test","groupLoginLogo",1,"login-group__logo","mb-8"],["data-test","groupLoginHeader",1,"login-group__header"],["data-test","groupLoginText",1,"login-group__text"],[1,"link","text-link","underline"],["app-button","","buttonType","flat","buttonTheme","light","buttonSize","xl","data-test","groupLoginAction",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.DNE(1,Pi,1,0,"app-spinner",1)(2,wi,11,4,"ng-container",2),e.k0s()),2&t&&(e.AVh("login-group--loading",n.loading),e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",!n.loading))},dependencies:[h.bT,y.Q,I.tI],styles:[".login-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;min-height:100vh;max-width:600px;margin:auto 160px}.login-group__header[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:48px;color:#283853}.login-group__text[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;color:#374a68;margin:32px auto 64px}.login-group--loading[_ngcontent-%COMP%]{margin:auto;align-items:center}@media (max-width: 768px){.login-group[_ngcontent-%COMP%]{margin:40px;min-height:calc(100vh - 80px);max-width:100%}}@media (max-width: 480px){.login-group[_ngcontent-%COMP%]{margin:24px;min-height:calc(100vh - 48px)}.login-group__header[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.login-group__text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}"]})}!function(o,i,t,n){var l,s=arguments.length,a=s<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,i,t,n);else for(var m=o.length-1;m>=0;m--)(l=o[m])&&(a=(s<3?l(a):s>3?l(i,t,a):l(i,t))||a);s>3&&a&&Object.defineProperty(i,t,a)}([(0,p.l6)($.q.getOrganizationProfile),function(o,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",i)}(0,f.c)],M.prototype,"groupProfile$",void 0);var Fi=r(85446);const Ti=[{path:"",component:x,children:[{path:"",component:C,data:{}},{path:"reset",component:G,data:{}},{path:"create",component:F,data:{}},{path:"verify",component:di},{path:"verify-email",component:yi,data:{returnToEnabled:!0}}]},{path:"group",component:M,canActivate:[(()=>{class o extends Fi.q{constructor(t,n,s){super(t,n,s),this.router=t,this.authService=n,this.store=s}canActivate(t){var n=()=>super.getIsLoggedIn,s=()=>super.redirectToLogin,a=this;return(0,X.A)(function*(){const{groupOvidOsptok:l}=a.authService.getGroupConfigFromRoute(t);return n().call(a).then(m=>m.signed_in?(a.router.navigate(["/"]),!1):!!l||(s().call(a),!1))})()}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(d.Ix),e.KVO(k.u),e.KVO(p.il))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()]}];let Ei=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#i=this.\u0275inj=e.G2t({imports:[d.iI.forChild(Ti),d.iI]})}return o})();var Ii=r(45189),Gi=r(21604),Mi=r(56400),Ui=r(29644);let ji=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#i=this.\u0275inj=e.G2t({imports:[h.MD,Ei,c.X1,Ii.G,h.MD,Gi.G,Mi.P,Ui.R,pe.k]})}return o})()}}]);