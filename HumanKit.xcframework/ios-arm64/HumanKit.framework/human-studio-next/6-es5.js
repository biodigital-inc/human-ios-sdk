!function(){function e(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,c,o=[],a=!0,r=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){r=!0,c=l}finally{try{a||null==n.return||n.return()}finally{if(r)throw c}}return o}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+dkL":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),c=n("AcyG"),o=n("3phy"),a=n("fXoL"),r=function(){var e=function e(){u(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[i.c,c.d.forFeature([o.a])]]}),e}()},"3phy":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i,c=n("AcyG"),o=n("Dyer"),a=n("ZJ6O"),l=n("0FUJ"),s=n("MKYd"),p=n("SxJt"),h=n("Mh2x"),d=n("ZR5G"),f=n("LRne"),b=n("cp0P"),m=n("nYR2"),y=n("lJxs"),C=n("vkgz"),x=n("eIep"),O=n("IzEk"),v=n("YpC8"),_=n("LvDl"),M=n("g408"),P=n("0E12"),k=n("Vrox"),w=n("vm16"),S=n("yG3n"),j=n("h8op"),U=n("QtmD"),T=n("cQmI"),D=n("fXoL"),z=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},R=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};(new l.a).graph.hidden=!0;var V,I={primaryCategoryOptions:[],secondaryCategoryOptions:[],moduleExists:!1,saveModule:new(function(){return function e(){u(this,e)}}()),storyType:d.a.Module,saving:!1},F=((V=i=function(){function e(t,n,i,c){u(this,e),this.store=t,this.serializeModuleService=n,this.modulesService=i,this.imagesService=c}return g(e,[{key:"saveModule",value:function(e,t){return n=this,c=regeneratorRuntime.mark((function n(){var i,c,a,s,g,u,d,O,w,D,z,R,V,I=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.patchState({saving:!0}),i=t.saveConfig,c=t.trimConfig?t.trimConfig:new l.a,a=i.duplicate?t.saveConfig.namespaceMap:{},s=this.store.selectSnapshot(h.a.getStoryChapters),g=!1===i.replace,u=M.a.makeChapterIdMap(s,g),n.t0=g,!n.t0){n.next=6;break}return n.next=6,this.store.dispatch(new P.a.UpdateTweenParticleLookupChapters(u)).toPromise();case 6:d=this.serializeModuleService.serialize(a,c,t.saveConfig.duplicate,this.store.selectSnapshot(v.a.getStory),this.store.selectSnapshot(h.a.getStoryChapters),u),O=this.store.selectSnapshot(U.a.getSelectedBookmarkViewMode),w=Object(_.without)(d.story.tags,T.a.Content,T.a.Quiz),O&&w.push(O),d.story.tags=w,D=Object(f.a)([]),z=this.store.selectSnapshot(k.a.getRegisteredThumbnails),(R=this.imagesService.saveChapterThumbnails(d.story.chapters,z,Object(_.invert)(u))).length&&(D=Object(b.a)(R)),D.pipe(Object(m.a)((function(){return e.patchState({saving:!1})})),Object(y.a)((function(e){var t=I.store.selectSnapshot(k.a.getRegisteredThumbnails);return e.forEach((function(e){var n=new S.a;n.storyId=d.story.moduleId,n.chapterId=e.chapterId,n.urls={small:e.uris.small,large:e.uris.large},t.set(e.chapterId,n);var i=d.story.chapters.findIndex((function(t){return t.id===e.chapterId}));i>=0&&(d.story.chapters[i].thumbnails=Object.assign({},e.uris))})),t})),Object(C.a)((function(t){e.dispatch(new j.a(t))})),Object(x.a)((function(){return I.modulesService.saveModule(d.story,t.id)}))).subscribe((function(n){e.dispatch(n===p.a.Success?new o.h(t.id,d.story,t.saveConfig.duplicate):new o.g(t.id))})),i.duplicate&&(V=[],Object.entries(a).forEach((function(e){var t=r(e,2),n=t[0],i=t[1];V.push(I.modulesService.copyState(n,i))})),Object(b.a)(V).subscribe((function(n){e.dispatch(new o.b(t.id))}),(function(n){e.dispatch(new o.a(t.id))})));case 11:case"end":return n.stop()}}),n,this)})),new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{r(c.next(e))}catch(n){t(n)}}function a(e){try{r(c.throw(e))}catch(n){t(n)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,a)}r((c=c.apply(n,[])).next())}));var n,i,c}},{key:"setSaveModule",value:function(e,t){e.patchState({saveModule:Object.assign({},t.module)})}},{key:"getModulePrimaryCategories",value:function(e,t){this.modulesService.getPrimaryCategories().subscribe((function(t){e.patchState({primaryCategoryOptions:t})}))}},{key:"getModuleSecondaryCategories",value:function(e,t){this.modulesService.getSecondaryCategories(t.primaryCategory).subscribe((function(t){e.patchState({secondaryCategoryOptions:t})}))}},{key:"resetModules",value:function(e,t){Object(b.a)(this.modulesService.getPrimaryCategories(),this.modulesService.getSecondaryCategories("")).pipe(Object(O.a)(1)).subscribe((function(t){var n=r(t,2),i=n[0],c=n[1];e.patchState({primaryCategoryOptions:i,secondaryCategoryOptions:c})}))}}],[{key:"getSaveModule",value:function(e){return e.saveModule}},{key:"getPrimaryCategoryOptions",value:function(e){return Object(c.i)([i],(function(t){return"read"===e?t.primaryCategoryOptions:t.primaryCategoryOptions.filter((function(e){return"exports"!==e}))}))}},{key:"getSecondaryCategoryOptions",value:function(e){return e.secondaryCategoryOptions}},{key:"getSaving",value:function(e){return e.saving}}]),e}()).\u0275fac=function(e){return new(e||V)(D.Zb(c.h),D.Zb(a.a),D.Zb(s.a),D.Zb(w.a))},V.\u0275prov=D.Lb({token:V,factory:V.\u0275fac}),z([Object(c.a)(o.f),R("design:type",Function),R("design:paramtypes",[Object,o.f]),R("design:returntype",Promise)],V.prototype,"saveModule",null),z([Object(c.a)(o.i),R("design:type",Function),R("design:paramtypes",[Object,o.i]),R("design:returntype",void 0)],V.prototype,"setSaveModule",null),z([Object(c.a)(o.c),R("design:type",Function),R("design:paramtypes",[Object,o.c]),R("design:returntype",void 0)],V.prototype,"getModulePrimaryCategories",null),z([Object(c.a)(o.d),R("design:type",Function),R("design:paramtypes",[Object,o.d]),R("design:returntype",void 0)],V.prototype,"getModuleSecondaryCategories",null),z([Object(c.a)(o.e),R("design:type",Function),R("design:paramtypes",[Object,o.e]),R("design:returntype",void 0)],V.prototype,"resetModules",null),z([Object(c.f)(),R("design:type",Function),R("design:paramtypes",[Object]),R("design:returntype",void 0)],V,"getSaveModule",null),z([Object(c.f)(),R("design:type",Function),R("design:paramtypes",[Object]),R("design:returntype",void 0)],V,"getSecondaryCategoryOptions",null),z([Object(c.f)(),R("design:type",Function),R("design:paramtypes",[Object]),R("design:returntype",void 0)],V,"getSaving",null),V=i=z([Object(c.g)({name:"modules",defaults:I})],V))},BbIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),c=n("ofXK"),o=n("STbY"),a=n("IlST"),r=n("0njA");function l(e,t){if(1&e&&(i.Vb(0,"button",3),i.Vb(1,"span",4),i.Vb(2,"span",5),i.Vb(3,"span",6),i.Pc(4,"Sort: "),i.Ub(),i.Pc(5),i.Ub(),i.Qb(6,"app-icon",7),i.Ub(),i.Ub()),2&e){var n=i.gc(),c=i.yc(2);i.mc("uppercase",!1)("matMenuTriggerFor",c),i.Eb("aria-label",n.sortLabel),i.Db(5),i.Qc(n.sort.label)}}function s(e,t){if(1&e){var n=i.Wb();i.Vb(0,"button",8),i.cc("click",(function(){i.Cc(n);var e=t.$implicit;return i.gc().handleSort(e)})),i.Pc(1),i.Ub()}if(2&e){var c=t.$implicit;i.Eb("data-test-value",c.dataTest)("aria-label","Sort by "+c.label),i.Db(1),i.Rc(" ",c.label," ")}}var p=function(){var e=function(){function e(t){u(this,e),this.changeDetectorRef=t,this.sortOptions=[],this.sortChange=new i.p}return g(e,[{key:"sort",get:function(){return this._sort},set:function(e){this._sort=e,this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){}},{key:"handleSort",value:function(e){this.sortChange.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.i))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-sort"]],inputs:{sort:"sort",sortOptions:"sortOptions",sortLabel:"sortLabel"},outputs:{sortChange:"sortChange"},decls:4,vars:2,consts:[["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor",4,"ngIf"],["sortActions","matMenu"],["mat-menu-item","","data-test","gallerySortByItem",3,"click",4,"ngFor","ngForOf"],["app-button","","buttonTheme","light","data-test","gallerySortBy",3,"uppercase","matMenuTriggerFor"],[2,"white-space","nowrap"],[1,"text-medium"],[1,"hide-sm"],["icon","caret-down",1,"ml-1"],["mat-menu-item","","data-test","gallerySortByItem",3,"click"]],template:function(e,t){1&e&&(i.Nc(0,l,7,4,"button",0),i.Vb(1,"mat-menu",null,1),i.Nc(3,s,2,3,"button",2),i.Ub()),2&e&&(i.mc("ngIf",t.sort),i.Db(3),i.mc("ngForOf",t.sortOptions))},directives:[c.p,o.a,c.o,a.a,o.d,r.a,o.b],styles:[""],changeDetection:0}),e}()},Dyer:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var i=function(){var e=function e(t,n,i){u(this,e),this.id=t,this.saveConfig=n,this.trimConfig=i};return e.type="[Modules] Save Module",e}(),c=function(){var e=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u(this,e),this.id=t,this.story=n,this.statesDuplicated=i};return e.type="[Modules] Save Module Success",e}(),o=function(){var e=function e(t){u(this,e),this.id=t};return e.type="[Modules] Save Module Failure",e}(),a=function(){var e=function e(t){u(this,e),this.id=t};return e.type="[Modules] Duplicate Module Success",e}(),r=function(){var e=function e(t){u(this,e),this.id=t};return e.type="[Modules] Duplicate Module Failure",e}(),l=function(){var e=function e(t){u(this,e),this.module=t};return e.type="[Modules] Set Save Module",e}(),s=function(){var e=function e(){u(this,e)};return e.type="[Modules] Get Primary Categories",e}(),p=function(){var e=function e(t){u(this,e),this.primaryCategory=t};return e.type="[Modules] Get Secondary Categories",e}(),g=function(){var e=function e(){u(this,e)};return e.type="[Modules] Reset",e}()},FO49:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("fXoL"),c=n("AcyG"),o=n("HDdC"),a=n("Kn5L"),r=n("ECVi"),l=n("INTG"),s=n("HdmJ"),p=n("IlST"),h=n("ofXK"),d=n("STbY"),f=n("0njA"),b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function m(e,t){if(1&e&&(i.Qb(0,"img",8),i.hc(1,"async"),i.hc(2,"async")),2&e){var n,c=i.gc(2);i.mc("src",c.getLocaleFlag(i.ic(1,2,c.userLocale$)),i.Fc),i.Eb("alt",null==(n=i.ic(2,4,c.userLocale$))?null:n.title)}}function y(e,t){if(1&e&&(i.Vb(0,"button",3),i.Vb(1,"div",4),i.Nc(2,m,3,6,"img",5),i.Vb(3,"span",6),i.Pc(4),i.hc(5,"async"),i.Ub(),i.Qb(6,"app-icon",7),i.Ub(),i.Ub()),2&e){var n=i.gc(),c=i.yc(3);i.mc("buttonTheme",n.buttonTheme)("buttonType",n.buttonType)("matMenuTriggerFor",c),i.Eb("aria-label","Select your locale"),i.Db(2),i.mc("ngIf",n.showFlag),i.Db(2),i.Qc(n.displayLocale(i.ic(5,6,n.userLocale$)))}}function C(e,t){if(1&e){var n=i.Wb();i.Vb(0,"button",9),i.cc("click",(function(){i.Cc(n);var e=t.$implicit;return i.gc().handleLocaleSelection(e)})),i.Vb(1,"span",10),i.Qb(2,"img",8),i.Pc(3),i.hc(4,"uppercase"),i.Ub(),i.Ub()}if(2&e){var c=t.$implicit,o=i.gc();i.Eb("aria-label",c.title)("data-test",o.localesDataTestMap[c.lang]),i.Db(2),i.mc("src",o.getLocaleFlag(c),i.Fc),i.Eb("alt",c.title),i.Db(1),i.Sc(" ",c.title," (",i.ic(4,6,c.lang),") ")}}var x=function(e){return e.Full="full",e.Title="title",e.Lang="lang",e}({}),O=function(){var e=function(){function e(t){u(this,e),this.store=t,this.locales=l.d,this.localesDataTestMap=l.e,this.buttonType=p.b.Default,this.buttonTheme=s.a.Dark,this.localeFormat=x.Full,this.showFlag=!0,this.localeChange=new i.p}return g(e,[{key:"handleLocaleSelection",value:function(e){this.store.selectSnapshot(r.a.getUserLocale)!==e&&(this.store.dispatch(new a.ab(e)),this.localeChange.emit(e))}},{key:"getLocaleFlag",value:function(e){return"/assets/images/flags/".concat(e.country,".svg")}},{key:"displayLocale",value:function(e){switch(this.localeFormat){case x.Full:return"".concat(e.title," (").concat(e.lang,")");case x.Title:return e.title;case x.Lang:return e.lang}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(c.h))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-locales"]],inputs:{buttonType:"buttonType",buttonTheme:"buttonTheme",localeFormat:"localeFormat",showFlag:"showFlag"},outputs:{localeChange:"localeChange"},decls:5,vars:4,consts:[["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor",4,"ngIf"],["localeOptions","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["app-button","",3,"buttonTheme","buttonType","matMenuTriggerFor"],[1,"flex","items-center"],["class","mr-2",3,"src",4,"ngIf"],[1,"text-medium"],["icon","caret-down",1,"ml-1"],[1,"mr-2",3,"src"],["mat-menu-item","",3,"click"],[1,"flex"]],template:function(e,t){1&e&&(i.Nc(0,y,7,8,"button",0),i.hc(1,"async"),i.Vb(2,"mat-menu",null,1),i.Nc(4,C,5,8,"button",2),i.Ub()),2&e&&(i.mc("ngIf",i.ic(1,2,t.userLocale$)),i.Db(4),i.mc("ngForOf",t.locales))},directives:[h.p,d.a,h.o,p.a,d.d,f.a,d.b],pipes:[h.b,h.y],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(c.e)(r.a.getUserLocale),b("design:type",o.a)],e.prototype,"userLocale$",void 0),e}()},TRdv:function(n,c,o){"use strict";var l;o.d(c,"a",(function(){return Jn}));var s=o("fXoL"),p=o("AcyG"),h=o("+8WF"),d=o("GCmh"),f=o("XNiG"),b=o("xgIS"),m=o("HDdC"),y=o("p345"),C=o("ihWl"),x=o("J9/X"),O=o("AytR"),v=o("XhcP"),_=o("1G5W"),M=o("pLZG"),P=o("/uUt"),k=o("Kj3r"),w=o("lJxs"),S=o("o6VQ"),j=o("LvDl"),U=o("b36G"),T=o("ZR5G"),D=o("EETq"),z=o("R0Ic"),R=o("1mir"),V=o("CpGW"),I=o("r/EZ"),F=o("0MNC"),$=o("ofXK"),A=o("eqP/"),N=o("j8e5"),L=o("Ryms"),E=o("tyNb"),B=o("3Pt+"),Q=o("QgkK"),W=o("itXk"),q=o("ft4l"),G=o("IlST"),J=o("0njA"),X=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},H=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Z(e,t){if(1&e&&s.Qb(0,"app-icon",10),2&e){var n=s.gc().$implicit,i=s.gc(3);s.mc("icon",i.bulkActionsIconMap[n])}}function K(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",8),s.cc("click",(function(){s.Cc(n);var e=t.$implicit;return s.gc(3).handleActionClick(e)})),s.Nc(1,Z,1,1,"app-icon",9),s.Pc(2),s.Ub()}if(2&e){var i=t.$implicit,c=s.gc(3);s.Eb("data-test",c.bulkActionsDataTestMap[i]),s.Db(1),s.mc("ngIf",c.bulkActionsIconMap[i]),s.Db(1),s.Rc("",i," ")}}function Y(e,t){if(1&e&&(s.Tb(0),s.Nc(1,K,3,3,"button",7),s.hc(2,"async"),s.Sb()),2&e){var n,i=s.gc(2);s.Db(1),s.mc("ngForOf",null==(n=s.ic(2,1,i.bulkActions$))?null:n.items)}}function ee(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",11),s.cc("click",(function(){return s.Cc(n),s.gc(2).handleSelectAllClick()})),s.Pc(1," Select All "),s.Ub()}}function te(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",12),s.cc("click",(function(){return s.Cc(n),s.gc(2).handleClearSelectionClick()})),s.Pc(1," Clear Selection "),s.Ub()}}function ne(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",1),s.Vb(1,"div",2),s.Pc(2),s.Ub(),s.Vb(3,"div"),s.Nc(4,Y,3,3,"ng-container",3),s.Nc(5,ee,2,0,"button",4),s.Nc(6,te,2,0,"button",5),s.Vb(7,"button",6),s.cc("click",(function(){return s.Cc(n),s.gc().handleCancelClick()})),s.Pc(8," Cancel Select "),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc();s.Db(2),s.Rc("",i.checkedResults.length," Selected"),s.Db(2),s.mc("ngIf",i.checkedResults.length),s.Db(1),s.mc("ngIf",i.checkedResults.length!==i.results.total),s.Db(1),s.mc("ngIf",i.checkedResults.length)}}var ie,ce=(a(l={},q.a.ExportCSV,"file-csv"),a(l,q.a.AddToTeamLibrary,"plus"),a(l,q.a.Delete,"minus"),l),oe=((ie=function(){function e(t,n){u(this,e),this.store=t,this.changeDetectorRef=n,this.bulkActionsIconMap=ce,this.bulkActionsDataTestMap=q.b,this.bulkAction=new s.p}return g(e,[{key:"ngOnInit",value:function(){var e=this;Object(W.b)([this.results$,this.checkedResults$]).pipe(Object(M.a)((function(e){var t=r(e,2),n=t[0],i=t[1];return!Object(j.isNil)(n)&&!Object(j.isNil)(i)}))).subscribe((function(t){var n=r(t,2),i=n[0],c=n[1];e.results=i,e.checkedResults=c,e.changeDetectorRef.markForCheck()}))}},{key:"handleSelectAllClick",value:function(){this.store.dispatch(new x.a.CheckAll)}},{key:"handleClearSelectionClick",value:function(){this.store.dispatch(new x.a.UncheckAll)}},{key:"handleActionClick",value:function(e){this.bulkAction.emit({name:e,ids:this.store.selectSnapshot(d.a.getCheckedResults)})}},{key:"handleCancelClick",value:function(){this.store.dispatch(new x.a.UncheckAll),this.store.dispatch(new x.a.SetBulkActions({active:!1}))}}]),e}()).\u0275fac=function(e){return new(e||ie)(s.Pb(p.h),s.Pb(s.i))},ie.\u0275cmp=s.Jb({type:ie,selectors:[["app-gallery-bulk-actions"]],outputs:{bulkAction:"bulkAction"},decls:1,vars:1,consts:[["class","gallery-bulk-actions flex flex-row flex-wrap items-center justify-end",4,"ngIf"],[1,"gallery-bulk-actions","flex","flex-row","flex-wrap","items-center","justify-end"],[1,"gallery-bulk-actions__label","flex-auto"],[4,"ngIf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","class","mr-2 ml-1","data-test","selectAllButton","aria-label","Select All Models",3,"click",4,"ngIf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","class","mr-2 ml-1","data-test","clearSelectionButton",3,"click",4,"ngIf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","flat","data-test","cancelSelectButton",1,"ml-1",3,"click"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","class","mr-2 ml-1",3,"click",4,"ngFor","ngForOf"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline",1,"mr-2","ml-1",3,"click"],["class","mr-2",3,"icon",4,"ngIf"],[1,"mr-2",3,"icon"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","data-test","selectAllButton","aria-label","Select All Models",1,"mr-2","ml-1",3,"click"],["type","button","app-button","","buttonSize","medium","buttonTheme","light","buttonType","outline","data-test","clearSelectionButton",1,"mr-2","ml-1",3,"click"]],template:function(e,t){1&e&&s.Nc(0,ne,9,4,"div",0),2&e&&s.mc("ngIf",t.results&&t.checkedResults)},directives:[$.p,G.a,$.o,J.a],pipes:[$.b],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-bulk-actions__label[_ngcontent-%COMP%]{color:#374a68;font-size:13px;letter-spacing:.325px;line-height:1.4em}"],changeDetection:0}),X([Object(p.e)(d.a.getBulkActions),H("design:type",m.a)],ie.prototype,"bulkActions$",void 0),X([Object(p.e)(d.a.getFilteredResults),H("design:type",m.a)],ie.prototype,"results$",void 0),X([Object(p.e)(d.a.getCheckedResults),H("design:type",m.a)],ie.prototype,"checkedResults$",void 0),ie),ae=o("BbIy"),re=o("PmOP"),le=o("STbY"),se=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},pe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ge(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",6),s.cc("click",(function(){return s.Cc(n),s.gc().handleSelectionModeClick()})),s.Pc(1," Select "),s.Ub()}}function ue(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",7),s.cc("click",(function(){s.Cc(n);var e=s.gc();return e.handleViewModeClick(e.galleryViewMode.Card)})),s.Pc(1," View as Grid "),s.Ub()}}function he(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",8),s.cc("click",(function(){s.Cc(n);var e=s.gc();return e.handleViewModeClick(e.galleryViewMode.List)})),s.Pc(1," View as List "),s.Ub()}}var de,fe=((de=function(){function e(t){u(this,e),this.store=t,this.galleryViewMode=h.a}return g(e,[{key:"ngOnInit",value:function(){}},{key:"handleSelectionModeClick",value:function(){this.store.dispatch(new x.a.SetBulkActions({active:!0}))}},{key:"handleViewModeClick",value:function(e){this.store.dispatch(new x.a.SetViewMode(e))}}]),e}()).\u0275fac=function(e){return new(e||de)(s.Pb(p.h))},de.\u0275cmp=s.Jb({type:de,selectors:[["app-gallery-view-mode"]],decls:11,vars:10,consts:[["app-button","","appEventFence","","buttonTheme","light","data-test","galleryModeMenuButton",3,"matMenuTriggerFor"],["icon","ellipsis-v"],["actionsMenu","matMenu"],["mat-menu-item","","data-test","gallerySelectMode",3,"click",4,"ngIf"],["mat-menu-item","","data-test","galleryViewModeCard",3,"click",4,"ngIf"],["mat-menu-item","","data-test","galleryViewModeList",3,"click",4,"ngIf"],["mat-menu-item","","data-test","gallerySelectMode",3,"click"],["mat-menu-item","","data-test","galleryViewModeCard",3,"click"],["mat-menu-item","","data-test","galleryViewModeList",3,"click"]],template:function(e,t){if(1&e&&(s.Vb(0,"div"),s.Vb(1,"button",0),s.Qb(2,"app-icon",1),s.Ub(),s.Vb(3,"mat-menu",null,2),s.Nc(5,ge,2,0,"button",3),s.hc(6,"async"),s.Nc(7,ue,2,0,"button",4),s.hc(8,"async"),s.Nc(9,he,2,0,"button",5),s.hc(10,"async"),s.Ub(),s.Ub()),2&e){var n=s.yc(4);s.Db(1),s.mc("matMenuTriggerFor",n),s.Db(4),s.mc("ngIf",s.ic(6,4,t.bulkActionsAvailable$)),s.Db(2),s.mc("ngIf",s.ic(8,6,t.viewMode$)!==t.galleryViewMode.Card),s.Db(2),s.mc("ngIf",s.ic(10,8,t.viewMode$)!==t.galleryViewMode.List)}},directives:[G.a,re.a,le.d,J.a,le.a,$.p,le.b],pipes:[$.b],styles:[""],changeDetection:0}),se([Object(p.e)(d.a.getViewMode),pe("design:type",m.a)],de.prototype,"viewMode$",void 0),se([Object(p.e)(d.a.getBulkActionsAvailable),pe("design:type",m.a)],de.prototype,"bulkActionsAvailable$",void 0),de),be=o("mWjH"),me=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ye(e,t){if(1&e){var n=s.Wb();s.Vb(0,"span",10),s.Vb(1,"button",11),s.cc("click",(function(){return s.Cc(n),s.gc().handleToggleFilters()})),s.Pc(2," Filter "),s.Qb(3,"app-icon",12),s.hc(4,"async"),s.Ub(),s.Ub()}if(2&e){var i=s.gc();s.Db(1),s.Eb("aria-label","Toggle Filters"),s.Db(2),s.mc("icon",s.ic(4,2,i.showFilters$)?"caret-up":"caret-down")}}var Ce,xe=function(e,t){return{"gallery-search--has-filters":e,"gallery-search--has-text":t}},Oe=((Ce=function(e){t(c,e);var n=i(c);function c(){var e;return u(this,c),(e=n.apply(this,arguments)).mode="desktop",e.placeholder="",e.hasFilters=!0,e.clearClicked=new s.p,e.filtersClicked=new s.p,e}return g(c,[{key:"ngOnInit",value:function(){}},{key:"handleClearQuery",value:function(){this.clearClicked.emit()}},{key:"handleToggleFilters",value:function(){this.filtersClicked.emit()}}]),c}(be.b)).\u0275fac=function(e){return ve(e||Ce)},Ce.\u0275cmp=s.Jb({type:Ce,selectors:[["app-gallery-search-field"]],inputs:{mode:"mode",placeholder:"placeholder",hasFilters:"hasFilters"},outputs:{clearClicked:"clearClicked",filtersClicked:"filtersClicked"},features:[s.Cb([{provide:B.p,useExisting:Object(s.W)((function(){return Ce})),multi:!0}]),s.Ab],decls:13,vars:16,consts:[[1,"gallery-search",3,"ngClass"],[1,"visually-hidden"],[1,"gallery-search__bar"],[1,"gallery-search__icon"],["icon","search"],["type","text","autocomplete","off",1,"gallery-search__input",3,"formControl"],[1,"gallery-search__clear"],["type","button","buttonType","text","buttonShape","square","app-button","","buttonTheme","light",3,"click"],["icon","times-circle"],["class","gallery-search__filters",4,"ngIf"],[1,"gallery-search__filters"],["type","button","buttonType","text","app-button","","buttonTheme","light","data-test","galleryFiltersToggle",3,"click"],[1,"pl-1",3,"icon"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.hc(1,"async"),s.Vb(2,"label",1),s.Pc(3),s.Ub(),s.Vb(4,"div",2),s.Vb(5,"span",3),s.Qb(6,"app-icon",4),s.Ub(),s.Qb(7,"input",5),s.hc(8,"titlecase"),s.Vb(9,"span",6),s.Vb(10,"button",7),s.cc("click",(function(){return t.handleClearQuery()})),s.Qb(11,"app-icon",8),s.Ub(),s.Ub(),s.Ub(),s.Nc(12,ye,5,4,"span",9),s.Ub()),2&e&&(s.mc("ngClass",s.qc(13,xe,t.hasFilters,s.ic(1,9,t.control.valueChanges))),s.Db(2),s.Eb("for","gallery-search-"+t.mode),s.Db(1),s.Qc(t.placeholder||""),s.Db(4),s.mc("formControl",t.control),s.Eb("id","gallery-search-"+t.mode)("placeholder",t.placeholder||"")("data-test","gallerySearch"+s.ic(8,11,t.mode)),s.Db(3),s.Eb("aria-label","Clear Search Results"),s.Db(2),s.mc("ngIf",t.hasFilters))},directives:[$.m,J.a,B.c,B.r,B.h,G.a,$.p],pipes:[$.b,$.x],styles:[".input[_ngcontent-%COMP%], [type=email].input[_ngcontent-%COMP%], [type=file].input[_ngcontent-%COMP%], [type=number].input[_ngcontent-%COMP%], [type=password].input[_ngcontent-%COMP%], [type=text].input[_ngcontent-%COMP%], [type=url].input[_ngcontent-%COMP%], select.input[_ngcontent-%COMP%], textarea.input[_ngcontent-%COMP%]{border:1px solid #1b283c;border-radius:4px;background-color:#101823;color:#fff;display:block;min-height:36px;width:100%;font-size:12px;padding:8px 12px;font-family:Inter UI,sans-serif}@supports (font-variation-settings:normal){.input[_ngcontent-%COMP%], [type=email].input[_ngcontent-%COMP%], [type=file].input[_ngcontent-%COMP%], [type=number].input[_ngcontent-%COMP%], [type=password].input[_ngcontent-%COMP%], [type=text].input[_ngcontent-%COMP%], [type=url].input[_ngcontent-%COMP%], select.input[_ngcontent-%COMP%], textarea.input[_ngcontent-%COMP%]{font-family:Inter UI var alt,sans-serif}}.input[_ngcontent-%COMP%]:focus, [type=email].input[_ngcontent-%COMP%]:focus, [type=file].input[_ngcontent-%COMP%]:focus, [type=number].input[_ngcontent-%COMP%]:focus, [type=password].input[_ngcontent-%COMP%]:focus, [type=text].input[_ngcontent-%COMP%]:focus, [type=url].input[_ngcontent-%COMP%]:focus, select.input[_ngcontent-%COMP%]:focus, textarea.input[_ngcontent-%COMP%]:focus{outline:2px solid #2d72dc!important}.input[_ngcontent-%COMP%]:focus.ng-invalid, [type=email].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=file].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=number].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=password].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=text].input[_ngcontent-%COMP%]:focus.ng-invalid, [type=url].input[_ngcontent-%COMP%]:focus.ng-invalid, select.input[_ngcontent-%COMP%]:focus.ng-invalid, textarea.input[_ngcontent-%COMP%]:focus.ng-invalid{outline-color:#ed4758!important;outline-width:1px!important}.input--small[_ngcontent-%COMP%], [type=email].input--small[_ngcontent-%COMP%], [type=file].input--small[_ngcontent-%COMP%], [type=number].input--small[_ngcontent-%COMP%], [type=password].input--small[_ngcontent-%COMP%], [type=text].input--small[_ngcontent-%COMP%], [type=url].input--small[_ngcontent-%COMP%], select.input--small[_ngcontent-%COMP%], textarea.input--small[_ngcontent-%COMP%]{font-size:12px;padding:8px;min-height:auto}.input--large[_ngcontent-%COMP%], [type=email].input--large[_ngcontent-%COMP%], [type=file].input--large[_ngcontent-%COMP%], [type=number].input--large[_ngcontent-%COMP%], [type=password].input--large[_ngcontent-%COMP%], [type=text].input--large[_ngcontent-%COMP%], [type=url].input--large[_ngcontent-%COMP%], select.input--large[_ngcontent-%COMP%], textarea.input--large[_ngcontent-%COMP%]{font-size:16px;padding:12px}.input--success[_ngcontent-%COMP%], [type=email].input--success[_ngcontent-%COMP%], [type=file].input--success[_ngcontent-%COMP%], [type=number].input--success[_ngcontent-%COMP%], [type=password].input--success[_ngcontent-%COMP%], [type=text].input--success[_ngcontent-%COMP%], [type=url].input--success[_ngcontent-%COMP%], select.input--success[_ngcontent-%COMP%], textarea.input--success[_ngcontent-%COMP%]{border-color:#38de38!important}.input[_ngcontent-%COMP%]:disabled, [type=email].input[_ngcontent-%COMP%]:disabled, [type=file].input[_ngcontent-%COMP%]:disabled, [type=number].input[_ngcontent-%COMP%]:disabled, [type=password].input[_ngcontent-%COMP%]:disabled, [type=text].input[_ngcontent-%COMP%]:disabled, [type=url].input[_ngcontent-%COMP%]:disabled, select.input[_ngcontent-%COMP%]:disabled, textarea.input[_ngcontent-%COMP%]:disabled{opacity:.4}.input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=email].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=file].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=number].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=password].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=text].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], [type=url].input.ng-dirty.ng-invalid[_ngcontent-%COMP%], select.input.ng-dirty.ng-invalid[_ngcontent-%COMP%], textarea.input.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ed4758}textarea.input--nonresizable[_ngcontent-%COMP%]{resize:none}select.input[_ngcontent-%COMP%]{height:36px}.theme-dark[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%], input.theme-dark[_ngcontent-%COMP%], select.theme-dark[_ngcontent-%COMP%], textarea.theme-dark[_ngcontent-%COMP%]{background-color:#101823;border:1px solid #374a68;color:#fff}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%], .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%], input.theme-light[_ngcontent-%COMP%], select.theme-light[_ngcontent-%COMP%], textarea.theme-light[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #96a8c0;color:#283853}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]:focus, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]:focus, input.theme-light[_ngcontent-%COMP%]:focus, select.theme-light[_ngcontent-%COMP%]:focus, textarea.theme-light[_ngcontent-%COMP%]:focus{background-color:#fff}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]::-moz-placeholder, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]::-moz-placeholder, input.theme-light[_ngcontent-%COMP%]::-moz-placeholder, select.theme-light[_ngcontent-%COMP%]::-moz-placeholder, textarea.theme-light[_ngcontent-%COMP%]::-moz-placeholder{color:rgba(55,74,104,.5)}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]:-ms-input-placeholder, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]:-ms-input-placeholder, input.theme-light[_ngcontent-%COMP%]:-ms-input-placeholder, select.theme-light[_ngcontent-%COMP%]:-ms-input-placeholder, textarea.theme-light[_ngcontent-%COMP%]:-ms-input-placeholder{color:rgba(55,74,104,.5)}.theme-light[_ngcontent-%COMP%]   .input[type=email][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=file][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=number][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=password][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=text][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   .input[type=url][_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   select.input[_ngcontent-%COMP%]::placeholder, .theme-light[_ngcontent-%COMP%]   textarea.input[_ngcontent-%COMP%]::placeholder, input.theme-light[_ngcontent-%COMP%]::placeholder, select.theme-light[_ngcontent-%COMP%]::placeholder, textarea.theme-light[_ngcontent-%COMP%]::placeholder{color:rgba(55,74,104,.5)}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.gallery-search__input[_ngcontent-%COMP%]{font-size:16px}}}.gallery-search[_ngcontent-%COMP%]{position:relative;height:44px;width:100%;display:flex}.gallery-search--has-filters[_ngcontent-%COMP%]   .gallery-search__filters[_ngcontent-%COMP%]{display:flex}.gallery-search--has-filters[_ngcontent-%COMP%]   .gallery-search__bar[_ngcontent-%COMP%]{margin-right:-1px;border-radius:4px 0 0 4px}.gallery-search--has-text[_ngcontent-%COMP%]   .gallery-search__clear[_ngcontent-%COMP%]{visibility:visible}.gallery-search__bar[_ngcontent-%COMP%]{flex:1 1 100%;height:100%;display:flex;border-radius:4px;background-color:#fff;border:1px solid #96a8c0;padding:0 2px}.gallery-search__bar[_ngcontent-%COMP%]:focus-within{outline:2px solid #2d72dc!important}.gallery-search__filters[_ngcontent-%COMP%]{border:1px solid #96a8c0;border-radius:0 4px 4px 0;display:none;align-items:center;height:100%;flex:0 0 auto;white-space:nowrap;padding:0 4px}.gallery-search__input[_ngcontent-%COMP%]{border:0;padding:0;margin:0;display:block;height:100%;flex:1 1 auto;width:100%}.gallery-search__input[_ngcontent-%COMP%]:focus{outline:0}.gallery-search__icon[_ngcontent-%COMP%]{color:#61779e;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gallery-search__clear[_ngcontent-%COMP%], .gallery-search__icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:0 0 36px;height:100%}.gallery-search__clear[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(p.e)(d.a.getShowFilters),me("design:type",m.a)],Ce.prototype,"showFilters$",void 0),Ce),ve=s.Xb(Oe),_e=o("FO49"),Me=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Pe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function ke(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",7),s.Vb(1,"app-gallery-bulk-actions",8),s.cc("bulkAction",(function(e){return s.Cc(n),s.gc(2).handleBulkAction(e)})),s.Ub(),s.Ub()}}function we(e,t){if(1&e){var n=s.Wb();s.Vb(0,"app-gallery-search-field",15),s.cc("clearClicked",(function(){return s.Cc(n),s.gc(3).handleClearQuery()}))("filtersClicked",(function(){return s.Cc(n),s.gc(3).handleToggleFilters()})),s.hc(1,"async"),s.Ub()}if(2&e){var i=s.gc(3);s.mc("hasFilters",i.hasFilters)("placeholder","Search "+s.ic(1,2,i.searchTitle$))}}function Se(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"app-locales",16),s.cc("localeChange",(function(){return s.Cc(n),s.gc(3).handleLocaleChange()})),s.Ub(),s.Sb()}2&e&&(s.Db(1),s.mc("showFlag",!0))}function je(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",9),s.Vb(1,"form",10),s.Nc(2,we,2,4,"app-gallery-search-field",11),s.hc(3,"async"),s.Ub(),s.Ub(),s.Vb(4,"div",12),s.Nc(5,Se,2,1,"ng-container",13),s.Vb(6,"app-sort",14),s.cc("sortChange",(function(e){return s.Cc(n),s.gc(2).handleSortClick(e)})),s.hc(7,"async"),s.hc(8,"async"),s.Ub(),s.Qb(9,"app-gallery-view-mode"),s.Ub()}if(2&e){var i=s.gc(2);s.Db(1),s.mc("formGroup",i.form),s.Db(1),s.mc("ngIf",s.ic(3,6,i.searchTitle$)),s.Db(3),s.mc("ngIf",i.isExplore()),s.Db(1),s.mc("sortLabel","Sort Models")("sortOptions",s.ic(7,8,i.sortOptions$))("sort",s.ic(8,10,i.sort$))}}function Ue(e,t){if(1&e&&(s.Vb(0,"div",2),s.Vb(1,"div",3),s.Qb(2,"app-gallery-title"),s.Ub(),s.Vb(3,"div",4),s.Nc(4,ke,2,0,"div",5),s.hc(5,"async"),s.hc(6,"async"),s.Nc(7,je,10,12,"ng-template",null,6,s.Oc),s.Ub(),s.Ub()),2&e){var n=s.yc(8),i=s.gc();s.Db(4),s.mc("ngIf",s.ic(5,2,i.bulkActionsActive$)&&s.ic(6,4,i.bulkActionsAvailable$))("ngIfElse",n)}}function Te(e,t){if(1&e){var n=s.Wb();s.Vb(0,"app-gallery-search-field",22),s.cc("clearClicked",(function(){return s.Cc(n),s.gc(2).handleClearQuery()}))("filtersClicked",(function(){return s.Cc(n),s.gc(2).handleToggleFilters()})),s.hc(1,"async"),s.Ub()}if(2&e){var i=s.gc(2);s.mc("hasFilters",i.hasFilters)("placeholder","Search "+s.ic(1,2,i.searchTitle$))}}function De(e,t){if(1&e&&(s.Tb(0),s.Pc(1),s.hc(2,"async"),s.Sb()),2&e){var n,i=s.gc(2);s.Db(1),s.Rc("",null==(n=s.ic(2,1,i.results$))?null:n.total," results")}}function ze(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"app-locales",16),s.cc("localeChange",(function(){return s.Cc(n),s.gc(2).handleLocaleChange()})),s.Ub(),s.Sb()}2&e&&(s.Db(1),s.mc("showFlag",!0))}function Re(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",17),s.Vb(1,"div",18),s.Vb(2,"div",9),s.Vb(3,"form",10),s.Nc(4,Te,2,4,"app-gallery-search-field",19),s.hc(5,"async"),s.Ub(),s.Ub(),s.Ub(),s.Vb(6,"div",20),s.Vb(7,"div",21),s.Nc(8,De,3,3,"ng-container",13),s.hc(9,"async"),s.Ub(),s.Vb(10,"div",12),s.Nc(11,ze,2,1,"ng-container",13),s.Vb(12,"app-sort",14),s.cc("sortChange",(function(e){return s.Cc(n),s.gc().handleSortClick(e)})),s.hc(13,"async"),s.hc(14,"async"),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc();s.Db(3),s.mc("formGroup",i.form),s.Db(1),s.mc("ngIf",s.ic(5,7,i.searchTitle$)),s.Db(4),s.mc("ngIf",!s.ic(9,9,i.loading$)),s.Db(3),s.mc("ngIf",i.isExplore()),s.Db(1),s.mc("sortLabel","Sort Models")("sortOptions",s.ic(13,11,i.sortOptions$))("sort",s.ic(14,13,i.sort$))}}var Ve,Ie=((Ve=function(){function e(t,n,i,c){u(this,e),this.store=t,this.router=n,this.changeDetectorRef=i,this.formBuilder=c,this.bulkAction=new s.p,this.sortChange=new s.p,this.searchTitle$=Object(A.a)(this.store),this.galleryViewMode=h.a,this.breakpoint=L.a,this.ngUnsubscribe=new f.a,this.hasFilters=!1,this.form=this.formBuilder.group({query:[""]})}return g(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"ngAfterViewInit",value:function(){this.observeSearchInput(),this.observeSearchQuery(),this.observeSearchConfig()}},{key:"observeSearchInput",value:function(){var e=this;this.form.valueChanges.pipe(Object(k.a)(600),Object(w.a)((function(e){return e.query})),Object(P.a)(),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Object.assign({},e.store.selectSnapshot(d.a.getSearchConfig));n.query=t,e.store.dispatch(new x.a.SetSearchConfig(n))}))}},{key:"observeSearchQuery",value:function(){var e=this;this.searchConfig$.pipe(Object(M.a)((function(t){return!Object(j.isNil)(t)&&t.query!==e.form.value.query})),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.form.patchValue({query:t.query}),e.changeDetectorRef.markForCheck()}))}},{key:"observeSearchConfig",value:function(){var e=this;this.searchConfig$.pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.hasFilters=(null==t?void 0:t.type)===D.a.Category||!0===O.a.native,e.changeDetectorRef.markForCheck()}))}},{key:"handleSortClick",value:function(e){this.sortChange.next(e)}},{key:"handleToggleFilters",value:function(){var e=!this.store.selectSnapshot(d.a.getShowFilters),t=this.store.selectSnapshot(N.a.getBreakpoint)<=L.a.Small;this.store.dispatch(new x.a.ShowFilters(e,t))}},{key:"handleBulkAction",value:function(e){this.bulkAction.next(e),this.store.dispatch(new x.a.UncheckAll)}},{key:"handleClearQuery",value:function(){var e=this.store.selectSnapshot(d.a.getSearchConfig);this.store.dispatch(new x.a.SetSearchConfig(Object.assign(Object.assign({},e),{query:""})))}},{key:"toggleView",value:function(e){this.store.dispatch(new x.a.SetViewMode(e))}},{key:"handleLocaleChange",value:function(){this.forceRouteReload(this.router.url)}},{key:"isExplore",value:function(){return this.router.url.startsWith("/results/modules")}},{key:"forceRouteReload",value:function(e){var t=this;this.router.navigateByUrl("/",{skipLocationChange:!0}).then((function(){t.router.navigateByUrl(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Ve)(s.Pb(p.h),s.Pb(E.e),s.Pb(s.i),s.Pb(B.f))},Ve.\u0275cmp=s.Jb({type:Ve,selectors:[["app-gallery-header"]],outputs:{bulkAction:"bulkAction",sortChange:"sortChange"},decls:4,vars:6,consts:[["class","gallery-header gallery-header--desktop","data-test","galleryHeaderDesktop",4,"ngIf"],["class","gallery-header gallery-header--mobile","data-test","galleryHeaderMobile",4,"ngIf"],["data-test","galleryHeaderDesktop",1,"gallery-header","gallery-header--desktop"],[1,"gallery-header__title"],[1,"gallery-header__controls"],["class","w-100",4,"ngIf","ngIfElse"],["standardActions",""],[1,"w-100"],[3,"bulkAction"],[1,"gallery-header__search"],[3,"formGroup"],["mode","desktop","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked",4,"ngIf"],[1,"flex","items-center"],[4,"ngIf"],[3,"sortLabel","sortOptions","sort","sortChange"],["mode","desktop","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked"],["buttonTheme","light","buttonType","default","localeFormat","lang",3,"showFlag","localeChange"],["data-test","galleryHeaderMobile",1,"gallery-header","gallery-header--mobile"],[1,"flex","ph-5","pt-5","pb-3"],["mode","mobile","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked",4,"ngIf"],[1,"flex","ph-5","justify-between","items-center"],["role","status",1,"text-13","text-nowrap","text-medium","flex","items-center"],["mode","mobile","formControlName","query",3,"hasFilters","placeholder","clearClicked","filtersClicked"]],template:function(e,t){1&e&&(s.Nc(0,Ue,9,6,"div",0),s.hc(1,"async"),s.Nc(2,Re,15,15,"div",1),s.hc(3,"async")),2&e&&(s.mc("ngIf",s.ic(1,2,t.breakpoint$)>=t.breakpoint.Large),s.Db(2),s.mc("ngIf",s.ic(3,4,t.breakpoint$)<=t.breakpoint.Medium))},directives:[$.p,Q.a,oe,B.E,B.s,B.j,ae.a,fe,Oe,B.r,B.i,_e.a],pipes:[$.b],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-header[_ngcontent-%COMP%]{padding:12px 40px 0}.gallery-header--desktop[_ngcontent-%COMP%]{display:block}.gallery-header--mobile[_ngcontent-%COMP%]{display:none}.gallery-header__title[_ngcontent-%COMP%]{min-height:64px;display:flex;align-items:center}.gallery-header__controls[_ngcontent-%COMP%]{min-height:48px;display:flex;justify-content:space-between;align-items:center}.gallery-header__search[_ngcontent-%COMP%]{flex:0 1 400px;padding-right:8px}@media (max-width:959px){.gallery-header[_ngcontent-%COMP%]{padding:0}.gallery-header--desktop[_ngcontent-%COMP%]{display:none}.gallery-header--mobile[_ngcontent-%COMP%]{display:block}.gallery-header__title[_ngcontent-%COMP%]{display:flex;padding:12px 0}.gallery-header__search[_ngcontent-%COMP%]{flex:1 0 auto;padding:0 4px 0 0;max-width:100%}}"],changeDetection:0}),Me([Object(p.e)(d.a.getViewMode),Pe("design:type",m.a)],Ve.prototype,"viewMode$",void 0),Me([Object(p.e)(d.a.getSort),Pe("design:type",m.a)],Ve.prototype,"sort$",void 0),Me([Object(p.e)(d.a.getSortOptions),Pe("design:type",m.a)],Ve.prototype,"sortOptions$",void 0),Me([Object(p.e)(d.a.getSearchConfig),Pe("design:type",m.a)],Ve.prototype,"searchConfig$",void 0),Me([Object(p.e)(d.a.getSearchType),Pe("design:type",m.a)],Ve.prototype,"searchType$",void 0),Me([Object(p.e)(d.a.getFilteredResults),Pe("design:type",m.a)],Ve.prototype,"results$",void 0),Me([Object(p.e)(d.a.getBulkActions),Pe("design:type",m.a)],Ve.prototype,"bulkActions$",void 0),Me([Object(p.e)(d.a.getBulkActionsAvailable),Pe("design:type",m.a)],Ve.prototype,"bulkActionsAvailable$",void 0),Me([Object(p.e)(d.a.getLoading),Pe("design:type",m.a)],Ve.prototype,"loading$",void 0),Me([Object(p.e)(d.a.getShowFilters),Pe("design:type",m.a)],Ve.prototype,"showFilters$",void 0),Me([Object(p.e)(d.a.getBulkActionsActive),Pe("design:type",m.a)],Ve.prototype,"bulkActionsActive$",void 0),Me([Object(p.e)(N.a.getBreakpoint),Pe("design:type",m.a)],Ve.prototype,"breakpoint$",void 0),Ve),Fe=o("Z48A"),$e=o("2Vo4"),Ae=o("vkgz"),Ne=o("SZqb"),Le=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ee=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Be(e,t){if(1&e){var n=s.Wb();s.Vb(0,"li",3),s.Vb(1,"app-gallery-card",4),s.cc("selectBookmark",(function(e){return s.Cc(n),s.gc().handleSelect(e)}))("checkChange",(function(e){s.Cc(n);var i=t.$implicit;return s.gc().handleCheckedChange(i,e)})),s.hc(2,"async"),s.hc(3,"async"),s.Ub(),s.Ub()}if(2&e){var i=t.$implicit,c=s.gc();s.Db(1),s.mc("actionMode",c.actionMode)("actionsEnabled",c.actionsEnabled)("selectLabel",c.selectLabel)("bookmark",i)("viewMode",s.ic(2,9,c.viewMode$))("responsive",s.ic(3,11,c.breakpoint$)<=c.Breakpoint.Medium)("checkable",c.checkable)("checked",!0===c.checkedResultsMap[i.id]),s.Eb("data-id",i.id)}}var Qe,We=function(e){return{"gallery-cards--list":e}},qe=((Qe=function(){function e(t){u(this,e),this.changeRef=t,this.galleryViewMode=h.a,this.Breakpoint=L.a,this.selectLabel="Select",this.checkable=!1,this._checkedResults=[],this.selectBookmark=new s.p,this.checkChanged=new s.p,this.actionMode=R.a.Explore,this.actionsEnabled=!0,this.checkedResultsMap={}}return g(e,[{key:"results",get:function(){return this._results},set:function(e){this._results=e,this.checkedResultsMap=this.getCheckedResultsMap(e.items,this.checkedResults),this.changeRef.markForCheck()}},{key:"checkedResults",get:function(){return this._checkedResults},set:function(e){this._checkedResults=e,this.checkedResultsMap=this.getCheckedResultsMap(this.results.items,e),this.changeRef.markForCheck()}},{key:"ngOnInit",value:function(){}},{key:"handleSelect",value:function(e){this.selectBookmark.emit(e)}},{key:"handleCheckedChange",value:function(e,t){this.checkChanged.emit({id:e.id,checked:t})}},{key:"trackCard",value:function(e,t){return t.id}},{key:"getCheckedResultsMap",value:function(e,t){return e.reduce((function(e,n){return e[n.id]=t.includes(n.id),e}),{})}}]),e}()).\u0275fac=function(e){return new(e||Qe)(s.Pb(s.i))},Qe.\u0275cmp=s.Jb({type:Qe,selectors:[["app-gallery-cards"]],inputs:{selectLabel:"selectLabel",checkable:"checkable",results:"results",checkedResults:"checkedResults",actionMode:"actionMode",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark",checkChanged:"checkChanged"},decls:4,vars:7,consts:[["data-test","galleryCards",1,"gallery-cards",3,"ngClass"],[1,"gallery-cards__content"],["class","gallery-cards__item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"gallery-cards__item"],[3,"actionMode","actionsEnabled","selectLabel","bookmark","viewMode","responsive","checkable","checked","selectBookmark","checkChange"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.hc(1,"async"),s.Vb(2,"ul",1),s.Nc(3,Be,4,13,"li",2),s.Ub(),s.Ub()),2&e&&(s.mc("ngClass",s.pc(5,We,s.ic(1,3,t.viewMode$)===t.galleryViewMode.List)),s.Db(3),s.mc("ngForOf",t.results.items)("ngForTrackBy",t.trackCard))},directives:[$.m,$.o,Ne.a],pipes:[$.b],styles:[":host{height:100%}.gallery-cards,:host{display:block;width:100%}.gallery-cards--list .gallery-cards__content{grid-template-columns:100%;grid-gap:4px 0}.gallery-cards__loading{display:flex;justify-content:center;margin-top:20vh}.gallery-cards__content{display:block;padding:1px;height:100%;display:grid;grid-gap:24px 24px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-auto-rows:1fr;grid-auto-flow:row;justify-content:center}@media (max-width:959px){.gallery-cards__content{grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}}"],encapsulation:2,changeDetection:0}),Le([Object(p.e)(d.a.getViewMode),Ee("design:type",m.a)],Qe.prototype,"viewMode$",void 0),Le([Object(p.e)(N.a.getBreakpoint),Ee("design:type",m.a)],Qe.prototype,"breakpoint$",void 0),Qe),Ge=o("XoCC"),Je=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Xe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},He=["body"];function Ze(e,t){if(1&e){var n=s.Wb();s.Vb(0,"app-gallery-cards",6),s.cc("selectBookmark",(function(e){return s.Cc(n),s.gc().handleSelect(e)}))("checkChanged",(function(e){return s.Cc(n),s.gc().handleCheckedChange(e)})),s.Ub()}if(2&e){var i=s.gc();s.mc("actionMode",i.actionMode)("actionsEnabled",i.actionsEnabled)("results",i.results)("selectLabel",i.selectLabel)("checkedResults",i.checkedResults)("checkable",i.checkable)}}function Ke(e,t){1&e&&(s.Vb(0,"div",7),s.Qb(1,"app-spinner",8),s.Ub())}var Ye=function(){return["/results/modules"]};function et(e,t){1&e&&(s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"div",15),s.Pc(3,"Add your first 3D model"),s.Ub(),s.Pc(4," This is your library of saved anatomy models in the BioDigital Human. Customize, manage, and publish your models at any time. "),s.Ub(),s.Vb(5,"button",16),s.Pc(6," Start Exploring "),s.Ub(),s.Ub()),2&e&&(s.Db(5),s.mc("routerLink",s.oc(1,Ye)))}function tt(e,t){1&e&&(s.Tb(0),s.Vb(1,"div",17),s.Qb(2,"app-icon",18),s.Ub(),s.Vb(3,"p",19),s.Pc(4,"No results found"),s.Ub(),s.Vb(5,"p",20),s.Pc(6,"Can't find what you're looking for?"),s.Ub(),s.Vb(7,"button",21),s.Pc(8," Submit A Request "),s.Ub(),s.Sb()),2&e&&(s.Db(7),s.mc("uppercase",!0))}function nt(e,t){if(1&e&&(s.Vb(0,"div",9),s.Tb(1,10),s.Nc(2,et,7,2,"div",11),s.Nc(3,tt,9,1,"ng-container",12),s.Sb(),s.Ub()),2&e){var n=s.gc();s.Db(1),s.mc("ngSwitch",n.emptyMessage),s.Db(1),s.mc("ngSwitchCase","team"),s.Db(1),s.mc("ngSwitchCase","default")}}var it,ct=((it=function(){function e(t,n){u(this,e),this.changeDetectorRef=t,this.store=n,this.galleryViewMode=h.a,this.loading=!1,this.viewMode=h.a.Card,this.selectLabel="Select",this._results=new $e.a({total:0,items:[]}),this.checkable=!1,this.checkedResults=[],this.actionMode=R.a.Explore,this.actionsEnabled=!0,this.selectBookmark=new s.p,this.emptyMessage="default",this.ngUnsubscribe=new f.a}return g(e,[{key:"results",get:function(){return this._results.value},set:function(e){this._results.next(e),this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){var e=this;Object(W.b)([this.store.select(d.a.getSearchConfig),this._results]).pipe(Object(P.a)((function(e,t){return Object(j.isEqual)(e,t)})),Object(Ae.a)((function(){e.emptyMessage="none",e.changeDetectorRef.markForCheck()})),Object(k.a)(100),Object(_.a)(this.ngUnsubscribe),Object(M.a)((function(e){var t=r(e,2),n=t[0],i=t[1];return!Object(j.isNil)(n)&&0===i.total}))).subscribe((function(t){var n=r(t,2),i=n[0],c=n[1];e.updateEmptyMessage(i,c),e.changeDetectorRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleSelect",value:function(e){this.selectBookmark.emit(e)}},{key:"handleCheckedChange",value:function(e){this.store.dispatch(new x.a.CheckItem(e.id,e.checked))}},{key:"handleSort",value:function(e){var t=this.store.selectSnapshot(d.a.getSearchOptions);t.sortBy=e,this.store.dispatch(new x.a.SetSearchOptions(t)),0===t.sortBy.fields.length&&this.store.dispatch(new x.a.SearchStudio)}},{key:"updateEmptyMessage",value:function(e,t){this.emptyMessage="default",""!==e.query||e.type!==D.a.Collection&&e.type!==D.a.Organization&&e.type!==D.a.Private||0!==t.total||(this.emptyMessage="team")}},{key:"scrollToTop",value:function(){this.body.nativeElement.scrollTo({top:0})}}]),e}()).\u0275fac=function(e){return new(e||it)(s.Pb(s.i),s.Pb(p.h))},it.\u0275cmp=s.Jb({type:it,selectors:[["app-gallery-results"]],viewQuery:function(e,t){var n;1&e&&s.Jc(He,!0),2&e&&s.xc(n=s.dc())&&(t.body=n.first)},inputs:{loading:"loading",viewMode:"viewMode",selectLabel:"selectLabel",results:"results",checkable:"checkable",checkedResults:"checkedResults",actionMode:"actionMode",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark"},decls:6,vars:3,consts:[["data-test","galleryResults",1,"gallery-results"],[1,"gallery-results__body"],["body",""],[3,"actionMode","actionsEnabled","results","selectLabel","checkedResults","checkable","selectBookmark","checkChanged",4,"ngIf"],["class","gallery-results__loading",4,"ngIf"],["class","gallery-results__empty",4,"ngIf"],[3,"actionMode","actionsEnabled","results","selectLabel","checkedResults","checkable","selectBookmark","checkChanged"],[1,"gallery-results__loading"],["size","huge","direction","vertical","label","Loading"],[1,"gallery-results__empty"],[3,"ngSwitch"],["class","gallery-results__explore",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"gallery-results__explore"],["role","status",1,"mb-5"],[1,"text-16","mb-2"],["app-button","","buttonSize","large","buttonType","primary",3,"routerLink"],[1,"gallery-results__magnifying-glass","mb-8"],["icon","search"],["role","status",1,"gallery-results__no-results-title","mb-3"],[1,"gallery-results__no-results-copy","mb-8"],["app-button","","buttonType","primary","data-test","noResultsButton",3,"uppercase"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1,2),s.Nc(3,Ze,1,6,"app-gallery-cards",3),s.Nc(4,Ke,2,0,"div",4),s.Nc(5,nt,4,3,"div",5),s.Ub(),s.Ub()),2&e&&(s.Db(3),s.mc("ngIf",t.viewMode===t.galleryViewMode.Card&&!t.loading&&t.results),s.Db(1),s.mc("ngIf",t.loading),s.Db(1),s.mc("ngIf",!t.loading&&t.results&&0===t.results.total))},directives:[$.p,qe,Ge.a,$.r,$.s,G.a,E.f,J.a],styles:[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:64px;position:relative}.gallery-results__loading[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.gallery-results__body[_ngcontent-%COMP%]{padding:12px 0 120px;flex:1 1 100%}.gallery-results__empty[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em;color:#96a8c0;display:flex;flex-direction:column;height:100%;width:100%;min-height:64px;align-items:center;justify-content:center;text-align:center}.gallery-results__explore[_ngcontent-%COMP%]{max-width:530px}.gallery-results__no-results-title[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em;font-weight:600;color:#374a68}.gallery-results__no-results-body[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#374a68}.gallery-results__magnifying-glass[_ngcontent-%COMP%]{height:84px;width:84px;border-radius:50%;font-size:40px;line-height:84px;color:#61779e;background-color:#eaeff5}@media (max-width:959px){.gallery-results__body[_ngcontent-%COMP%]{padding-bottom:48px}.gallery-results__no-results-title[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.gallery-results__no-results-body[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}}"],changeDetection:0}),Je([Object(p.e)(d.a.getSearchOptions),Xe("design:type",m.a)],it.prototype,"searchOptions$",void 0),Je([Object(p.e)(d.a.getSortOptions),Xe("design:type",m.a)],it.prototype,"sortOptions$",void 0),Je([Object(p.e)(d.a.getSort),Xe("design:type",m.a)],it.prototype,"sort$",void 0),it),ot=o("4r9b"),at=o("UhED"),rt=o("7aEW"),lt=o("1w2z"),st=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function pt(e,t){if(1&e){var n=s.Wb();s.Vb(0,"a",1),s.cc("click",(function(){return s.Cc(n),s.gc().handleSelectSource("library")})),s.hc(1,"async"),s.hc(2,"async"),s.hc(3,"async"),s.Pc(4," My Library "),s.Ub()}if(2&e){var i=s.gc();s.mc("selected",s.ic(1,1,i.searchType$)===i.searchType.Private||s.ic(2,3,i.searchType$)===i.searchType.Organization||s.ic(3,5,i.searchType$)===i.searchType.Collection)}}function gt(e,t){if(1&e){var n=s.Wb();s.Vb(0,"a",1),s.cc("click",(function(){return s.Cc(n),s.gc().handleSelectSource("loft")})),s.hc(1,"async"),s.Pc(2," Loft "),s.Ub()}if(2&e){var i=s.gc();s.mc("selected",s.ic(1,1,i.searchType$)===i.searchType.Loft)}}var ut,ht=((ut=function(){function e(t){u(this,e),this.store=t,this.searchType=D.a,this.environmentApplication=y.a}return g(e,[{key:"ngOnInit",value:function(){}},{key:"handleSelectSource",value:function(e){var t;switch(e){case"module":t=new C.a("all");break;case"library":t=new C.g("");break;case"loft":t=new C.e("production","maleAdult")}this.store.dispatch(new x.a.SetSearchConfig(t))}}]),e}()).\u0275fac=function(e){return new(e||ut)(s.Pb(p.h))},ut.\u0275cmp=s.Jb({type:ut,selectors:[["app-gallery-source"]],decls:7,vars:6,consts:[["label","Source",3,"collapsible"],["app-navigation-list-item","",3,"selected","click"],["app-navigation-list-item","",3,"selected","click",4,"appFlagApplication"]],template:function(e,t){1&e&&(s.Vb(0,"app-navigation-panel",0),s.Vb(1,"app-navigation-list-container"),s.Vb(2,"a",1),s.cc("click",(function(){return t.handleSelectSource("module")})),s.hc(3,"async"),s.Pc(4," BioDigital Library "),s.Ub(),s.Nc(5,pt,5,7,"a",2),s.Nc(6,gt,3,3,"a",2),s.Ub(),s.Ub()),2&e&&(s.mc("collapsible",!0),s.Db(2),s.mc("selected",s.ic(3,4,t.searchType$)===t.searchType.Category),s.Db(3),s.mc("appFlagApplication",t.environmentApplication.Studio),s.Db(1),s.mc("appFlagApplication",t.environmentApplication.Loft))},directives:[ot.a,at.a,rt.a,lt.a],pipes:[$.b],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(p.e)(d.a.getSearchType),st("design:type",m.a)],ut.prototype,"searchType$",void 0),ut),dt=o("eKhQ"),ft=o("IzEk"),bt=o("a0wz"),mt=o("ECVi"),yt=o("0IaG"),Ct=o("Y8QC"),xt=o("oOZS");function Ot(e,t){1&e&&(s.Vb(0,"div"),s.Pc(1," A collection already exists with that name. "),s.Ub())}function vt(e,t){1&e&&(s.Vb(0,"div"),s.Pc(1,"Collection name is required."),s.Ub())}function _t(e,t){if(1&e&&(s.Vb(0,"div",15),s.Nc(1,Ot,2,0,"div",16),s.Nc(2,vt,2,0,"div",16),s.Ub()),2&e){var n=s.gc();s.Db(1),s.mc("ngIf",null==n.collectionName.errors?null:n.collectionName.errors.duplicate),s.Db(1),s.mc("ngIf",null==n.collectionName.errors?null:n.collectionName.errors.required)}}var Mt,Pt=((Mt=function(){function e(t,n,i,c){u(this,e),this.dialogRef=t,this.data=n,this.store=i,this.formBuilder=c}return g(e,[{key:"collectionName",get:function(){return this.form.get("collectionName")}},{key:"ngOnInit",value:function(){this.title=this.data.collection?"Edit collection":"New collection",this.confirmText=this.data.collection?"Save changes":"Create collection",this.collectionNames=this.store.selectSnapshot(dt.a.getCollections).map((function(e){return e.collection_name}));var e=this.data.collection?this.data.collection.collection_name:this.getNewName();this.form=this.formBuilder.group({collectionName:[e,[B.C.required,B.C.maxLength(60),B.C.required,this.duplicateNameValidator.bind(this)]]})}},{key:"handleCancelClick",value:function(){this.dialogRef.close()}},{key:"handleConfirmClick",value:function(){this.submit()}},{key:"submit",value:function(){if(!this.collectionName.invalid){var e=this.collectionName.value.trim();this.store.dispatch(this.data.collection?new bt.p(this.data.collection,e):new bt.a(this.data.groupId,e)),this.dialogRef.close(e)}}},{key:"duplicateNameValidator",value:function(e){var t=e.value?e.value.trim():"",n=this.collectionNames.includes(t);return n?{duplicate:n}:null}},{key:"getNewName",value:function(){for(var e="New Collection",t=1;this.collectionNames.includes(e);)e="New Collection "+t,t++;return e}}]),e}()).\u0275fac=function(e){return new(e||Mt)(s.Pb(yt.g),s.Pb(yt.a),s.Pb(p.h),s.Pb(B.f))},Mt.\u0275cmp=s.Jb({type:Mt,selectors:[["app-collection-name-dialog"]],decls:19,vars:7,consts:[[1,"dialog"],["mat-dialog-title",""],[1,"flex","flex-row","justify-between"],["app-button","","buttonType","text","buttonTheme","light","type","button","title","Close",3,"click"],["icon","times","size","lg"],["mat-dialog-content",""],[3,"formGroup","submit"],["label","Name"],["type","text","data-test","collectionNameInput","formControlName","collectionName","cdkFocusInitial","","maxlength","60",1,"input","w-100"],["collectionNameInput",""],[3,"field"],["class","text-error text-12 mb-2",4,"ngIf"],["mat-dialog-actions","",1,"flex","justify-end"],["app-button","","buttonTheme","light","buttonType","default","data-test","collectionNameCancel","type","button",1,"mr-4",3,"click"],["app-button","","buttonType","primary","data-test","collectionNameConfirm","type","button",3,"disabled","click"],[1,"text-error","text-12","mb-2"],[4,"ngIf"]],template:function(e,t){if(1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"h1"),s.Pc(4),s.Ub(),s.Vb(5,"button",3),s.cc("click",(function(){return t.handleCancelClick()})),s.Qb(6,"app-icon",4),s.Ub(),s.Ub(),s.Ub(),s.Vb(7,"div",5),s.Vb(8,"form",6),s.cc("submit",(function(){return t.submit()})),s.Vb(9,"app-form-field",7),s.Qb(10,"input",8,9),s.Qb(12,"app-character-counter",10),s.Nc(13,_t,3,2,"div",11),s.Ub(),s.Ub(),s.Ub(),s.Vb(14,"div",12),s.Vb(15,"button",13),s.cc("click",(function(){return t.handleCancelClick()})),s.Pc(16," Cancel "),s.Ub(),s.Vb(17,"button",14),s.cc("click",(function(){return t.handleConfirmClick()})),s.Pc(18),s.Ub(),s.Ub(),s.Ub()),2&e){var n=s.yc(11);s.Db(4),s.Qc(t.title),s.Db(1),s.Eb("aria-label","Close"),s.Db(3),s.mc("formGroup",t.form),s.Db(4),s.mc("field",n),s.Db(1),s.mc("ngIf",t.collectionName.invalid&&t.collectionName.dirty),s.Db(4),s.mc("disabled",t.collectionName.invalid),s.Db(1),s.Rc(" ",t.confirmText," ")}},directives:[yt.h,G.a,J.a,yt.e,B.E,B.s,B.j,Ct.a,B.c,B.r,B.i,B.m,xt.a,$.p,yt.c],styles:["@media (max-width:480px){.dialog[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0}),Mt),kt=o("5sb6"),wt=o("5+WD"),St=o("dNgK"),jt=o("lMGN"),Ut=o("kR+W"),Tt=o("L2KA"),Dt=o("Qu3c"),zt=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Rt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Vt(e,t){if(1&e&&(s.Qb(0,"img",12),s.hc(1,"async")),2&e){var n=s.gc(2);s.mc("src",s.ic(1,1,n.organizationLogo$),s.Fc)}}function It(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",13),s.cc("click",(function(){return s.Cc(n),s.gc(2).handleInviteTeammatesClick()})),s.Pc(1," Invite Members "),s.Ub()}}function Ft(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",14),s.cc("click",(function(){return s.Cc(n),s.gc(2).handleInviteTeammatesClick()})),s.Qb(1,"app-icon",15),s.Ub()}}var $t=function(){return["/account/team"]};function At(e,t){if(1&e&&(s.Vb(0,"div",2),s.Vb(1,"div",3),s.Vb(2,"div"),s.Nc(3,Vt,2,3,"img",4),s.hc(4,"async"),s.Ub(),s.Vb(5,"button",5),s.Qb(6,"app-icon",6),s.Ub(),s.Vb(7,"mat-menu",null,7),s.Vb(9,"button",8),s.Pc(10,"Team Settings"),s.Ub(),s.Nc(11,It,2,0,"button",9),s.hc(12,"async"),s.Ub(),s.Ub(),s.Vb(13,"div"),s.Vb(14,"span",10),s.Pc(15),s.Ub(),s.Nc(16,Ft,2,0,"button",11),s.hc(17,"async"),s.Ub(),s.Ub()),2&e){var n=s.yc(8),i=s.gc();s.Db(3),s.mc("ngIf",s.ic(4,6,i.organizationLogo$)),s.Db(2),s.mc("matMenuTriggerFor",n),s.Db(4),s.mc("routerLink",s.oc(12,$t)),s.Db(2),s.mc("ngIf",s.ic(12,8,i.canInviteUsers$)),s.Db(4),s.Rc("",i.numUsers," members"),s.Db(1),s.mc("ngIf",s.ic(17,10,i.canInviteUsers$))}}function Nt(e,t){if(1&e&&(s.Qb(0,"img",12),s.hc(1,"async")),2&e){var n=s.gc(2);s.mc("src",s.ic(1,1,n.organizationLogo$),s.Fc)}}function Lt(e,t){if(1&e&&(s.Nc(0,Nt,2,3,"img",4),s.hc(1,"async")),2&e){var n=s.gc();s.mc("ngIf",s.ic(1,1,n.organizationLogo$))}}var Et,Bt=((Et=function(){function e(t,n,i){u(this,e),this.dialogService=t,this.store=n,this.changeDetectorRef=i,this.galleryActionMode=R.a,this.actionMode=R.a.Explore,this.numUsers=0,this.ngUnsubscribe=new f.a}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.organization$.pipe(Object(M.a)((function(e){return!Object(j.isNil)(e)})),Object(P.a)((function(e,t){return Object(j.isEqual)(e,t)})),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){e.refreshUsers()})),this.users$.pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.numUsers=t.length,e.changeDetectorRef.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"refreshUsers",value:function(){var e=this.store.selectSnapshot(dt.a.getOrganization);this.store.dispatch(new Ut.a(e.id))}},{key:"handleInviteTeammatesClick",value:function(){this.dialogService.openAddUserDialog()}}]),e}()).\u0275fac=function(e){return new(e||Et)(s.Pb(Tt.a),s.Pb(p.h),s.Pb(s.i))},Et.\u0275cmp=s.Jb({type:Et,selectors:[["app-gallery-banner"]],inputs:{actionMode:"actionMode"},decls:3,vars:2,consts:[["class","gallery-banner",4,"ngIf","ngIfElse"],["importChapterBanner",""],[1,"gallery-banner"],[1,"gallery-banner__header","pb-2"],["class","gallery-banner__logo",3,"src",4,"ngIf"],["app-button","","buttonTheme","light","buttonShape","square","buttonSize","small","matTooltip","Team options","data-test","galleryBannerTeamOptions",3,"matMenuTriggerFor"],["icon","chevron-down"],["teamOptionsMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","","data-test","bannerMenuAddUserButton",3,"click",4,"ngIf"],[1,"gallery-banner__member-count","pr-2"],["app-button","","buttonTheme","light","buttonShape","square","matTooltip","Invite Members","data-test","bannerAddUserButton",3,"click",4,"ngIf"],[1,"gallery-banner__logo",3,"src"],["mat-menu-item","","data-test","bannerMenuAddUserButton",3,"click"],["app-button","","buttonTheme","light","buttonShape","square","matTooltip","Invite Members","data-test","bannerAddUserButton",3,"click"],["icon","user-plus","size","sm",1,"gallery-banner__add-member"]],template:function(e,t){if(1&e&&(s.Nc(0,At,18,13,"div",0),s.Nc(1,Lt,2,3,"ng-template",null,1,s.Oc)),2&e){var n=s.yc(2);s.mc("ngIf",t.actionMode===t.galleryActionMode.Explore)("ngIfElse",n)}},directives:[$.p,G.a,Dt.c,le.d,J.a,le.a,le.b,E.f],pipes:[$.b],styles:["[_nghost-%COMP%]{display:block;width:100%}.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-banner[_ngcontent-%COMP%]{border:1px solid #d7e0ea;border-radius:4px;padding:16px 12px 8px 16px}.gallery-banner__header[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;justify-content:space-between}.gallery-banner__logo[_ngcontent-%COMP%]{display:block;width:100%;max-height:48px;padding-right:12px}.gallery-banner__member-count[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em;font-weight:500;color:#61779e}.gallery-banner__add-member[_ngcontent-%COMP%]{color:#374a68}"],changeDetection:0}),zt([Object(p.e)(dt.a.getOrganizationLogo),Rt("design:type",m.a)],Et.prototype,"organizationLogo$",void 0),zt([Object(p.e)(dt.a.getOrganization),Rt("design:type",m.a)],Et.prototype,"organization$",void 0),zt([Object(p.e)(jt.a.getUsers),Rt("design:type",m.a)],Et.prototype,"users$",void 0),zt([Object(p.e)(mt.a.getUserRole),Rt("design:type",m.a)],Et.prototype,"userRole$",void 0),zt([Object(p.e)(mt.a.canInviteUsers),Rt("design:type",m.a)],Et.prototype,"canInviteUsers$",void 0),Et),Qt=o("IZUe"),Wt=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},qt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Gt(e,t){if(1&e&&(s.Vb(0,"span",7),s.Pc(1),s.Ub()),2&e){var n=s.gc();s.Db(1),s.Rc(" ",n.collection.collection_name," ")}}function Jt(e,t){if(1&e){var n=s.Wb();s.Vb(0,"input",8),s.cc("blur",(function(e){return s.Cc(n),s.gc().handleCollectionRename(e)}))("keyup.enter",(function(e){return s.Cc(n),s.gc().handleCollectionRename(e)}))("keyup.escape",(function(){return s.Cc(n),s.gc().setRenameMode(!1)})),s.Ub()}if(2&e){var i=s.gc();s.mc("value",i.collection.collection_name)}}function Xt(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",9),s.cc("menuOpened",(function(){return s.Cc(n),s.gc().handleMenuOpened()}))("menuClosed",(function(){return s.Cc(n),s.gc().handleMenuClosed()})),s.Qb(1,"app-icon",10),s.Ub()}if(2&e){s.gc();var i=s.yc(9);s.mc("matMenuTriggerFor",i)}}var Ht,Zt=((Ht=function(){function e(t,n,i,c){u(this,e),this.store=t,this.dialog=n,this.dialogService=i,this.changeDetection=c,this.renameMode=!1,this.menuOpen=!1,this.ngUnsubscribe=new f.a}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.collectionRenaming$.pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.renameMode=e.collection===t,e.changeDetection.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"handleMenuOpened",value:function(){this.menuOpen=!0}},{key:"handleMenuClosed",value:function(){this.menuOpen=!1}},{key:"handleSelectCollection",value:function(){if(this.curCollectionId!==this.collection.collection_id){var e=new C.b(this.store.selectSnapshot(dt.a.getOrganization).id,this.collection.collection_id);this.store.dispatch(new x.a.SetSearchConfig(e))}}},{key:"handleDeleteCollection",value:function(){var e=this;this.dialogService.openConfirmDialog({maxWidth:"480px",data:{titleText:'Delete "'.concat(this.collection.collection_name,'"'),bodyText:"Are you sure you want to delete this collection? All 3D models in this collection will still be available in Team \u2192 All Models.",confirmText:"Delete",confirmColor:"warn"}}).afterClosed().subscribe((function(t){t&&e.store.dispatch(new bt.m(e.collection))}))}},{key:"openCollectionNameDialog",value:function(){var e=this;this.dialog.open(Pt,{id:kt.a.CollectionNameDialog,width:"480px",data:{groupId:this.collection.group_id,collection:this.collection}}).afterClosed().subscribe((function(t){t&&(e.collection.collection_name=t,e.changeDetection.markForCheck())}))}},{key:"handleCollectionRename",value:function(e){var t=e.target.value,n=this.store.selectSnapshot(dt.a.getCollections).find((function(e){return e.collection_name===t}));t&&!n&&(this.store.dispatch(new bt.p(this.collection,t)),this.collection.collection_name=t,this.changeDetection.markForCheck()),this.setRenameMode(!1)}},{key:"setRenameMode",value:function(e){if(this.store.selectSnapshot(mt.a.isAdmin)){this.store.dispatch(new bt.y(e?this.collection:null));var t=this.store.selectSnapshot(d.a.getSidenav);this.store.dispatch(new x.a.SetSidenav(Object.assign(Object.assign({},t),{disableClose:e})))}}}]),e}()).\u0275fac=function(e){return new(e||Ht)(s.Pb(p.h),s.Pb(yt.b),s.Pb(Tt.a),s.Pb(s.i))},Ht.\u0275cmp=s.Jb({type:Ht,selectors:[["app-gallery-collection"]],inputs:{collection:"collection",curCollectionId:"curCollectionId"},decls:14,vars:19,consts:[["data-test","galleryCollectionItem","role","button","tabindex","0",1,"gallery-collection",3,"click","keyup.enter","dblclick"],["class","gallery-collection__title",4,"ngIf"],["type","text","appEventFence","","appAutoFocus","","class","input","data-test","galleryCollectionInput",3,"value","blur","keyup.enter","keyup.escape",4,"ngIf"],["class","gallery-collection__options","appEventFence","","app-button","","buttonSize","xsmall","buttonTheme","light","buttonShape","square","matTooltip","Options","data-test","galleryCollectionOptions",3,"matMenuTriggerFor","menuOpened","menuClosed",4,"ngIf"],["collectionsOptions","matMenu"],["mat-menu-item","","data-test","galleryCollectionRenameButton",3,"click"],["mat-menu-item","","data-test","galleryCollectionDeleteButton",1,"text-danger",3,"click"],[1,"gallery-collection__title"],["type","text","appEventFence","","appAutoFocus","","data-test","galleryCollectionInput",1,"input",3,"value","blur","keyup.enter","keyup.escape"],["appEventFence","","app-button","","buttonSize","xsmall","buttonTheme","light","buttonShape","square","matTooltip","Options","data-test","galleryCollectionOptions",1,"gallery-collection__options",3,"matMenuTriggerFor","menuOpened","menuClosed"],["icon","ellipsis-v"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.cc("click",(function(){return t.handleSelectCollection()}))("keyup.enter",(function(){return t.handleSelectCollection()}))("dblclick",(function(){return t.setRenameMode(!0)})),s.hc(1,"async"),s.hc(2,"async"),s.hc(3,"async"),s.Nc(4,Gt,2,1,"span",1),s.Nc(5,Jt,1,1,"input",2),s.Nc(6,Xt,2,1,"button",3),s.hc(7,"async"),s.Ub(),s.Vb(8,"mat-menu",null,4),s.Vb(10,"button",5),s.cc("click",(function(){return t.openCollectionNameDialog()})),s.Pc(11," Rename "),s.Ub(),s.Vb(12,"button",6),s.cc("click",(function(){return t.handleDeleteCollection()})),s.Pc(13," Delete "),s.Ub(),s.Ub()),2&e&&(s.Hb("gallery-collection--disabled",s.ic(1,11,t.collectionsLoading$)||s.ic(2,13,t.removingCollection$)||s.ic(3,15,t.updatingCollection$))("gallery-collection--menu-open",t.menuOpen)("gallery-collection--selected",t.collection.collection_id===t.curCollectionId)("gallery-collection--renaming",t.renameMode),s.Db(4),s.mc("ngIf",!t.renameMode),s.Db(1),s.mc("ngIf",t.renameMode),s.Db(1),s.mc("ngIf",s.ic(7,17,t.isAdmin$)&&!t.renameMode))},directives:[$.p,le.a,le.b,Qt.a,re.a,G.a,Dt.c,le.d,J.a],pipes:[$.b],styles:['.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.gallery-collection[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;justify-content:space-between;position:relative;padding:8px 20px;min-height:48px;outline:none;font-size:13px;letter-spacing:.325px;line-height:1.4em;color:#1c2a3f;text-align:left}.gallery-collection[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#f2f5fb;z-index:-1;border-radius:4px;left:12px;right:12px;top:0;bottom:0;opacity:0}.gallery-collection--renaming[_ngcontent-%COMP%]:after{background:#f0f8ff}.gallery-collection[_ngcontent-%COMP%]:hover:not(.gallery-collection--selected){cursor:pointer}.gallery-collection[_ngcontent-%COMP%]:hover:not(.gallery-collection--selected):after{background:#f9fafd;opacity:1}.gallery-collection--menu-open[_ngcontent-%COMP%]   .gallery-collection__options[_ngcontent-%COMP%], .gallery-collection[_ngcontent-%COMP%]:focus-within   .gallery-collection__options[_ngcontent-%COMP%], .gallery-collection[_ngcontent-%COMP%]:hover   .gallery-collection__options[_ngcontent-%COMP%]{visibility:visible}.gallery-collection--menu-open[_ngcontent-%COMP%]:after, .gallery-collection[_ngcontent-%COMP%]:focus-within:not(.gallery-collection--renaming):after{outline:2px solid #2d72dc!important;opacity:1}.gallery-collection--disabled[_ngcontent-%COMP%]{pointer-events:none}.gallery-collection--selected[_ngcontent-%COMP%]{font-weight:600}.gallery-collection--selected[_ngcontent-%COMP%]:after{opacity:1}.gallery-collection__title[_ngcontent-%COMP%]{word-break:break-word}.gallery-collection__options[_ngcontent-%COMP%]{margin-left:8px;visibility:hidden}'],changeDetection:0}),Wt([Object(p.e)(mt.a.isAdmin),qt("design:type",m.a)],Ht.prototype,"isAdmin$",void 0),Wt([Object(p.e)(dt.a.getCollectionsLoading),qt("design:type",m.a)],Ht.prototype,"collectionsLoading$",void 0),Wt([Object(p.e)(dt.a.getRemovingCollection),qt("design:type",m.a)],Ht.prototype,"removingCollection$",void 0),Wt([Object(p.e)(dt.a.getUpdatingCollection),qt("design:type",m.a)],Ht.prototype,"updatingCollection$",void 0),Wt([Object(p.e)(dt.a.getCollectionRenaming),qt("design:type",m.a)],Ht.prototype,"collectionRenaming$",void 0),Ht),Kt=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Yt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},en=["teamCollections"];function tn(e,t){if(1&e&&(s.Vb(0,"div",11),s.Vb(1,"div",12),s.Qb(2,"app-gallery-banner",13),s.Ub(),s.Ub()),2&e){var n=s.gc();s.Db(2),s.mc("actionMode",n.actionMode)}}function nn(e,t){if(1&e){var n=s.Wb();s.Vb(0,"button",14),s.cc("click",(function(){return s.Cc(n),s.gc().handleAddCollection()})),s.hc(1,"async"),s.hc(2,"async"),s.Qb(3,"app-icon",15),s.Ub()}if(2&e){var i=s.gc();s.mc("disabled",s.ic(1,1,i.collectionsLoading$)||s.ic(2,3,i.addingCollection$))}}function cn(e,t){if(1&e&&(s.Vb(0,"li",16),s.Qb(1,"app-gallery-collection",17),s.Ub()),2&e){var n=t.$implicit,i=s.gc();s.Db(1),s.mc("collection",n)("curCollectionId",i.collectionId),s.Eb("data-id",n.collection_id)("aria-disabled",n.collection_id===i.collectionId)}}var on,an,rn=((on=function(){function t(e,n,i,c,o){u(this,t),this.dialog=e,this.store=n,this.actions=i,this.snackBar=c,this.changeDetectorRef=o,this.actionMode=R.a.Explore,this.showBanner=!0,this.searchType=D.a,this.ngUnsubscribe=new f.a}return g(t,[{key:"collections",get:function(){return this._collections},set:function(t){this._collections=Array.isArray(t)?e(t):[],this.changeDetectorRef.markForCheck()}},{key:"ngOnInit",value:function(){this.observeCollections(),this.observeSearchConfig()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"observeCollections",value:function(){var e=this;this.store.select(dt.a.getCollections).pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){return e.collections=t})),this.organization$.pipe(Object(M.a)((function(e){return!Object(j.isNil)(e)})),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){t&&e.store.dispatch(new bt.h(t.id))})),this.actions.pipe(Object(p.l)(bt.c),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleAddCollectionSuccess(t)})),this.actions.pipe(Object(p.l)(bt.b),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleAddCollectionError()})),this.actions.pipe(Object(p.l)(bt.o),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleRemoveCollectionSuccess(t)})),this.actions.pipe(Object(p.l)(bt.n),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleRemoveCollectionError()})),this.actions.pipe(Object(p.l)(bt.r),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleRenameCollectionSuccess(t)})),this.actions.pipe(Object(p.l)(bt.q),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleRenameCollectionError()})),this.actions.pipe(Object(p.l)(bt.t),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleReorderCollectionsError()}))}},{key:"observeSearchConfig",value:function(){var e=this;this.searchConfig$.pipe(Object(M.a)((function(e){return!Object(j.isNil)(e)})),Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.collectionId=t.type===D.a.Collection?t.collectionId:null,e.showBanner=t.type===D.a.Collection||t.type===D.a.Organization||t.type===D.a.Private&&!e.store.selectSnapshot(mt.a.isPrivateUser),e.changeDetectorRef.markForCheck()}))}},{key:"handleAddCollection",value:function(){var e=this.store.selectSnapshot(dt.a.getOrganization).id;this.dialog.open(Pt,{id:kt.a.CollectionNameDialog,width:"480px",data:{groupId:e}})}},{key:"handleSelectAll",value:function(){this.loadAllTeamModels()}},{key:"handleSelectPrivate",value:function(){var e=new C.g;this.store.dispatch(new x.a.SetSearchConfig(e))}},{key:"handleDrop",value:function(e){Object(wt.e)(this.collections,e.previousIndex,e.currentIndex),this.store.dispatch(new bt.s(this.store.selectSnapshot(dt.a.getOrganization).id,this.collections))}},{key:"loadAllTeamModels",value:function(){var e=new C.f(this.store.selectSnapshot(dt.a.getOrganization).id);this.store.dispatch(new x.a.SetSearchConfig(e))}},{key:"loadCollection",value:function(e){var t=new C.b(this.store.selectSnapshot(dt.a.getOrganization).id,e);this.store.dispatch(new x.a.SetSearchConfig(t))}},{key:"handleAddCollectionSuccess",value:function(e){var t=this;this.actions.pipe(Object(p.l)(bt.i),Object(ft.a)(1),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){var n=t.store.selectSnapshot(dt.a.getCollections).find((function(t){return t.collection_name===e.collectionName}));t.loadCollection(n.collection_id),t.scrollToCollection(n.collection_id)})),this.store.dispatch(new bt.h(e.organizationId)),this.snackBar.open('Successfully added "'.concat(e.collectionName,'".'))}},{key:"handleAddCollectionError",value:function(){this.snackBar.open("There was a problem adding the collection.")}},{key:"handleRemoveCollectionSuccess",value:function(e){this.scrollToCollection(0),this.loadAllTeamModels(),this.store.dispatch(new bt.h(e.collection.group_id)),this.snackBar.open('Successfully deleted "'.concat(e.collection.collection_name,'".'))}},{key:"handleRemoveCollectionError",value:function(){this.snackBar.open("There was a problem deleting the collection.")}},{key:"handleReorderCollectionsError",value:function(){this.collections=this.store.selectSnapshot(dt.a.getCollections),this.snackBar.open("There was a problem re-ordering the collections.")}},{key:"handleRenameCollectionSuccess",value:function(e){var t=this;this.collectionId===e.collection.collection_id&&this.loadCollection(e.collection.collection_id),this.actions.pipe(Object(p.l)(bt.i),Object(ft.a)(1),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){t.scrollToCollection(e.collection.collection_id)})),this.store.dispatch(new bt.h(e.collection.group_id))}},{key:"handleRenameCollectionError",value:function(){this.snackBar.open("There was a problem renaming the collection.");var e=this.store.selectSnapshot(dt.a.getOrganization).id;this.store.dispatch(new bt.h(e))}},{key:"scrollToCollection",value:function(e){var t=this.teamCollections.nativeElement.querySelector('[data-id="'.concat(e,'"]'));t&&t.scrollIntoView({block:"center"})}}]),t}()).\u0275fac=function(e){return new(e||on)(s.Pb(yt.b),s.Pb(p.h),s.Pb(p.b),s.Pb(St.b),s.Pb(s.i))},on.\u0275cmp=s.Jb({type:on,selectors:[["app-gallery-collections"]],viewQuery:function(e,t){var n;1&e&&s.Jc(en,!0),2&e&&s.xc(n=s.dc())&&(t.teamCollections=n.first)},inputs:{actionMode:"actionMode"},decls:33,vars:28,consts:[[3,"collapsible","showHeader"],["app-navigation-panel-title","",4,"ngIf"],[1,"pl-6","pr-3","pv-2","flex","items-center","justify-between"],[1,"gallery-collections__section-title"],[1,"ml-4"],["type","button","app-navigation-list-item","","data-test","galleryMyLibrary",1,"gallery-collections__item",3,"selected","click"],["data-test","addCollectionButton","app-button","","buttonTheme","light","buttonShape","square","matTooltip","Add a New Collection...",3,"disabled","click",4,"ngIf"],["data-test","galleryCollections","cdkDropList","",1,"ml-4",3,"cdkDropListDisabled","cdkDropListDropped"],["teamCollections",""],["type","button","app-navigation-list-item","","data-test","galleryTeamLibrary","data-id","0",1,"gallery-collections__item",3,"selected","click"],["cdkDrag","",4,"ngFor","ngForOf"],["app-navigation-panel-title",""],[1,"gallery-collections__header"],[3,"actionMode"],["data-test","addCollectionButton","app-button","","buttonTheme","light","buttonShape","square","matTooltip","Add a New Collection...",3,"disabled","click"],["icon","plus"],["cdkDrag",""],["type","button",1,"gallery-collections__item","flex",3,"collection","curCollectionId"]],template:function(e,t){1&e&&(s.Vb(0,"app-navigation-panel",0),s.hc(1,"async"),s.Nc(2,tn,3,1,"div",1),s.hc(3,"async"),s.Vb(4,"app-navigation-list-container"),s.Vb(5,"nav"),s.Vb(6,"ul"),s.Vb(7,"li"),s.Vb(8,"div",2),s.Vb(9,"p",3),s.Pc(10,"Private"),s.Ub(),s.Ub(),s.Vb(11,"ul",4),s.Vb(12,"li"),s.Vb(13,"button",5),s.cc("click",(function(){return t.handleSelectPrivate()})),s.hc(14,"async"),s.hc(15,"async"),s.Pc(16," All Models "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(17,"li"),s.Vb(18,"div",2),s.Vb(19,"p",3),s.Pc(20,"Team"),s.Ub(),s.Nc(21,nn,4,5,"button",6),s.hc(22,"async"),s.Ub(),s.Vb(23,"ul",7,8),s.cc("cdkDropListDropped",(function(e){return t.handleDrop(e)})),s.hc(25,"async"),s.hc(26,"async"),s.Vb(27,"li"),s.Vb(28,"button",9),s.cc("click",(function(){return t.handleSelectAll()})),s.hc(29,"async"),s.hc(30,"async"),s.Pc(31," All Models "),s.Ub(),s.Ub(),s.Nc(32,cn,2,4,"li",10),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.mc("collapsible",!1)("showHeader",""!=s.ic(1,10,t.organizationLogo$)&&t.showBanner),s.Db(2),s.mc("ngIf",""!=s.ic(3,12,t.organizationLogo$)&&t.showBanner),s.Db(11),s.mc("selected",s.ic(14,14,t.searchType$)===t.searchType.Private),s.Eb("aria-disabled",s.ic(15,16,t.searchType$)===t.searchType.Private),s.Db(8),s.mc("ngIf",s.ic(22,18,t.isAdmin$)),s.Db(2),s.mc("cdkDropListDisabled",!0!==s.ic(25,20,t.isAdmin$)||s.ic(26,22,t.reorderingCollections$)),s.Db(5),s.mc("selected",s.ic(29,24,t.searchType$)===t.searchType.Organization),s.Eb("aria-disabled",s.ic(30,26,t.searchType$)===t.searchType.Private),s.Db(4),s.mc("ngForOf",t.collections))},directives:[ot.a,$.p,at.a,rt.a,wt.c,$.o,Bt,G.a,Dt.c,J.a,wt.a,Zt],pipes:[$.b],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{list-style:none;background:hsla(0,0%,100%,.8)}.gallery-collections__header[_ngcontent-%COMP%]{display:flex;align-items:center}.gallery-collections__section-title[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;color:#61779e}.gallery-collections__item[_ngcontent-%COMP%]{width:100%;border:none;background:none;padding:4px 0}"],changeDetection:0}),Kt([Object(p.e)(dt.a.getOrganization),Yt("design:type",m.a)],on.prototype,"organization$",void 0),Kt([Object(p.e)(dt.a.getOrganizationLogo),Yt("design:type",m.a)],on.prototype,"organizationLogo$",void 0),Kt([Object(p.e)(dt.a.getCollectionsLoading),Yt("design:type",m.a)],on.prototype,"collectionsLoading$",void 0),Kt([Object(p.e)(dt.a.getAddingCollection),Yt("design:type",m.a)],on.prototype,"addingCollection$",void 0),Kt([Object(p.e)(dt.a.getReorderingCollections),Yt("design:type",m.a)],on.prototype,"reorderingCollections$",void 0),Kt([Object(p.e)(d.a.getSearchConfig),Yt("design:type",m.a)],on.prototype,"searchConfig$",void 0),Kt([Object(p.e)(d.a.getSearchType),Yt("design:type",m.a)],on.prototype,"searchType$",void 0),Kt([Object(p.e)(mt.a.isAdmin),Yt("design:type",m.a)],on.prototype,"isAdmin$",void 0),on),ln=o("MKYd"),sn=((an=function(){function e(){u(this,e)}return g(e,[{key:"transform",value:function(e,t){return Object(j.lowerCase)(e).split(" ").map((function(e){return Object(j.upperFirst)(e)})).join(" ")}}]),e}()).\u0275fac=function(e){return new(e||an)},an.\u0275pipe=s.Ob({name:"humanize",type:an,pure:!0}),an),pn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function gn(e,t){if(1&e){var n=s.Wb();s.Vb(0,"a",2),s.cc("click",(function(){s.Cc(n);var e=t.$implicit;return s.gc().handleSelectClient(e)})),s.Pc(1),s.hc(2,"humanize"),s.Ub()}if(2&e){var i=t.$implicit,c=s.gc();s.mc("selected",i===c.selectedClient),s.Db(1),s.Rc(" ",s.ic(2,2,i)," ")}}var un,hn=((un=function(){function e(t,n){u(this,e),this.modulesService=t,this.changeDetectorRef=n,this.clients=[],this.selectedClient="",this.ngUnsubscribe=new f.a,this.clientSelected=new s.p}return g(e,[{key:"ngOnInit",value:function(){this.initClients(),this.observeClient()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initClients",value:function(){var e=this;this.modulesService.getClients().pipe(Object(w.a)((function(e){return Object(j.compact)(e)}))).subscribe((function(t){e.clients=t,e.changeDetectorRef.markForCheck()}))}},{key:"handleSelectClient",value:function(e){this.clientSelected.emit(e)}},{key:"observeClient",value:function(){var e=this;this.searchConfig$.pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){if(t.type===D.a.Internal){var n=t.directory.split("/");e.selectedClient="","client"===n[0]&&2===n.length&&(e.selectedClient=n[1]),e.changeDetectorRef.markForCheck()}}))}}]),e}()).\u0275fac=function(e){return new(e||un)(s.Pb(ln.a),s.Pb(s.i))},un.\u0275cmp=s.Jb({type:un,selectors:[["app-gallery-clients"]],outputs:{clientSelected:"clientSelected"},decls:4,vars:2,consts:[["label","Clients",3,"collapsible"],["app-navigation-list-item","",3,"selected","click",4,"ngFor","ngForOf"],["app-navigation-list-item","",3,"selected","click"]],template:function(e,t){1&e&&(s.Vb(0,"app-navigation-panel",0),s.Vb(1,"app-navigation-list-container"),s.Vb(2,"nav"),s.Nc(3,gn,3,4,"a",1),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.mc("collapsible",!0),s.Db(3),s.mc("ngForOf",t.clients))},directives:[ot.a,at.a,$.o,rt.a],pipes:[sn],styles:[""],changeDetection:0}),function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([Object(p.e)(d.a.getSearchConfig),pn("design:type",m.a)],un.prototype,"searchConfig$",void 0),un),dn=o("MBDF"),fn=o("a+PV");function bn(e,t){if(1&e&&(s.Vb(0,"div",3),s.Pc(1),s.Ub()),2&e){var n=s.gc().$implicit;s.Db(1),s.Rc(" ",n.key," ")}}function mn(e,t){if(1&e){var n=s.Wb();s.Vb(0,"li"),s.Vb(1,"button",4),s.cc("click",(function(){s.Cc(n);var e=t.$implicit;return s.gc(2).handleSelectCategory(e.id)})),s.Vb(2,"div",5),s.Qb(3,"app-category-image",6),s.Vb(4,"div",7),s.Pc(5),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=t.$implicit,c=s.gc(2);s.Db(1),s.mc("selected",c.isSelected(i.id)),s.Eb("aria-disabled",c.isSelected(i.id)),s.Db(2),s.mc("color",c.isSelected(i.id)?"color":"mono")("category",i.id),s.Db(2),s.Qc(i.title)}}function yn(e,t){if(1&e&&(s.Vb(0,"app-navigation-list-container"),s.Vb(1,"nav"),s.Nc(2,bn,2,1,"div",2),s.Vb(3,"ul"),s.Nc(4,mn,6,5,"li",1),s.Ub(),s.Ub(),s.Ub()),2&e){var n=t.$implicit;s.Db(2),s.mc("ngIf","all"!==n.key),s.Db(2),s.mc("ngForOf",n.value)}}var Cn,xn=((Cn=function(e){t(c,e);var n=i(c);function c(e){return u(this,c),n.call(this,e)}return g(c,[{key:"originalOrder",value:function(){return 0}}]),c}(dn.a)).\u0275fac=function(e){return new(e||Cn)(s.Pb(s.i))},Cn.\u0275cmp=s.Jb({type:Cn,selectors:[["app-gallery-categories"]],features:[s.Ab],decls:3,vars:5,consts:[["label","Category",3,"collapsible"],[4,"ngFor","ngForOf"],["class","gallery-categories__header text-uppercase text-11 mt-5",4,"ngIf"],[1,"gallery-categories__header","text-uppercase","text-11","mt-5"],["type","button","app-navigation-list-item","",1,"gallery-categories__item",3,"selected","click"],[1,"flex","flex-row","items-center","w-100"],[1,"gallery-categories__image",3,"color","category"],[1,"gallery-categories__title","flex-auto"]],template:function(e,t){1&e&&(s.Vb(0,"app-navigation-panel",0),s.Nc(1,yn,5,2,"app-navigation-list-container",1),s.hc(2,"keyvalue"),s.Ub()),2&e&&(s.mc("collapsible",!0),s.Db(1),s.mc("ngForOf",s.jc(2,2,t.groupedCategories,t.originalOrder)))},directives:[ot.a,$.o,at.a,$.p,rt.a,fn.a],pipes:[$.i],styles:[".gallery-categories__header[_ngcontent-%COMP%]{color:#61779e;padding:12px 20px 12px 24px}.gallery-categories__item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:4px 0;background:none;border:none;text-align:left}.gallery-categories__title[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto}.gallery-categories__image[_ngcontent-%COMP%]{margin:0 20px 0 0;flex:0 0 24px;height:24px}"],changeDetection:0}),Cn),On=o("3phy"),vn=o("VRyK"),_n=o("Dyer"),Mn=o("uwj7"),Pn=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},kn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function wn(e,t){if(1&e&&(s.Vb(0,"option",8),s.Pc(1),s.Ub()),2&e){var n=t.$implicit;s.mc("value",n),s.Db(1),s.Rc(" ",n," ")}}function Sn(e,t){if(1&e&&(s.Vb(0,"option",8),s.Pc(1),s.Ub()),2&e){var n=t.$implicit;s.mc("value",n),s.Db(1),s.Rc(" ",n," ")}}function jn(e,t){if(1&e&&(s.Vb(0,"select",9),s.Nc(1,Sn,2,2,"option",5),s.hc(2,"async"),s.Ub()),2&e){var n=s.gc(2);s.Db(1),s.mc("ngForOf",s.ic(2,1,n.secondaryCategoryOptions$))}}function Un(e,t){if(1&e){var n=s.Wb();s.Vb(0,"form",2),s.Vb(1,"div",3),s.Vb(2,"select",4),s.Nc(3,wn,2,2,"option",5),s.hc(4,"async"),s.Ub(),s.Ub(),s.Vb(5,"div",3),s.Nc(6,jn,3,3,"select",6),s.hc(7,"async"),s.Ub(),s.Vb(8,"button",7),s.cc("click",(function(){s.Cc(n);var e=s.gc();return e.toggleSearchMode(e.gallerySearchMode.Path)})),s.Pc(9," ...or specify file path "),s.Ub(),s.Ub()}if(2&e){var i,c=s.gc();s.mc("formGroup",c.queryForm),s.Db(3),s.mc("ngForOf",s.ic(4,3,c.primaryCategoryOptions$)),s.Db(3),s.mc("ngIf",null==(i=s.ic(7,5,c.secondaryCategoryOptions$))?null:i.length)}}function Tn(e,t){if(1&e){var n=s.Wb();s.Vb(0,"form",2),s.Vb(1,"div",3),s.Qb(2,"input",10),s.Ub(),s.Vb(3,"button",11),s.cc("click",(function(){s.Cc(n);var e=s.gc();return e.toggleSearchMode(e.gallerySearchMode.Query)})),s.Pc(4," Cancel "),s.Ub(),s.Ub()}if(2&e){var i=s.gc();s.mc("formGroup",i.pathForm)}}var Dn,zn=((Dn=function(){function e(t,n){u(this,e),this.store=t,this.formBuilder=n,this.gallerySearchMode=Mn.a,this.configChange=new s.p,this.ngUnsubscribe=new f.a}return g(e,[{key:"primaryCategoryControl",get:function(){return this.queryForm.get("primary")}},{key:"secondaryCategoryControl",get:function(){return this.queryForm.get("secondary")}},{key:"pathControl",get:function(){return this.pathForm.get("path")}},{key:"ngOnInit",value:function(){this.initForms(),this.initFormListeners(),this.store.dispatch(new _n.c),this.store.dispatch(new _n.d(this.primaryCategoryControl.value))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initForms",value:function(){var e=this.store.selectSnapshot(d.a.getSearchConfig);this.queryForm=this.formBuilder.group({primary:[e.type===D.a.Loft?e.primary:"production"],secondary:[e.type===D.a.Loft?e.secondary:"maleAdult"]}),this.pathForm=this.formBuilder.group({path:[]})}},{key:"initFormListeners",value:function(){var e=this;this.primaryCategoryControl.valueChanges.pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.handlePrimaryUpdate(t)})),Object(vn.a)(this.queryForm.valueChanges,this.pathForm.valueChanges).pipe(Object(k.a)(300),Object(_.a)(this.ngUnsubscribe)).subscribe((function(){var t=e.getQuery();t&&e.configChange.emit(t)}))}},{key:"toggleSearchMode",value:function(e){this.store.dispatch(new x.a.SetSearchMode(e))}},{key:"handlePrimaryUpdate",value:function(e){this.secondaryCategoryControl.setValue(""),this.store.dispatch(new _n.d(e))}},{key:"getQuery",value:function(){switch(this.store.selectSnapshot(d.a.getSearchMode)){case Mn.a.Query:if(this.primaryCategoryControl.value)return new C.e(this.primaryCategoryControl.value,this.secondaryCategoryControl.value);break;case Mn.a.Path:var e=decodeURIComponent(this.pathControl.value||""),t=e.split("/"),n=e.match(/([A-Za-z_-\s0-9]*\/)/gi);if(null!=n)return new C.e((n[0]||"").replace("/",""),(n[1]||"").replace("/",""),t.pop())}return null}}]),e}()).\u0275fac=function(e){return new(e||Dn)(s.Pb(p.h),s.Pb(B.f))},Dn.\u0275cmp=s.Jb({type:Dn,selectors:[["app-gallery-filters-loft"]],outputs:{configChange:"configChange"},decls:5,vars:7,consts:[["label","Path",3,"collapsible"],["class","gallery-filters theme-light p-5",3,"formGroup",4,"ngIf"],[1,"gallery-filters","theme-light","p-5",3,"formGroup"],[1,"pb-4"],["appAutoFocus","","formControlName","primary",1,"input"],[3,"value",4,"ngFor","ngForOf"],["class","input","formControlName","secondary",4,"ngIf"],["type","button","app-button","","buttonTheme","light","data-test","specifyFilePath",3,"click"],[3,"value"],["formControlName","secondary",1,"input"],["type","text","formControlName","path","placeholder","primary/secondary/name","data-test","moduleIdInput",1,"input"],["type","button","appAutoFocus","","app-button","","buttonTheme","light",3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"app-navigation-panel",0),s.Nc(1,Un,10,7,"form",1),s.hc(2,"async"),s.Nc(3,Tn,5,1,"form",1),s.hc(4,"async"),s.Ub()),2&e&&(s.mc("collapsible",!1),s.Db(1),s.mc("ngIf",s.ic(2,3,t.searchMode$)===t.gallerySearchMode.Query),s.Db(2),s.mc("ngIf",s.ic(4,5,t.searchMode$)===t.gallerySearchMode.Path))},directives:[ot.a,$.p,B.E,B.s,B.j,B.B,B.r,B.i,$.o,G.a,B.v,B.D,B.c],pipes:[$.b],styles:[""],changeDetection:0}),Pn([Object(p.e)(On.a.getPrimaryCategoryOptions("read")),kn("design:type",m.a)],Dn.prototype,"primaryCategoryOptions$",void 0),Pn([Object(p.e)(On.a.getSecondaryCategoryOptions),kn("design:type",m.a)],Dn.prototype,"secondaryCategoryOptions$",void 0),Pn([Object(p.e)(d.a.getSearchMode),kn("design:type",m.a)],Dn.prototype,"searchMode$",void 0),Dn),Rn=function(e,t,n,i){var c,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},In=["sidenav"],Fn=["content"];function $n(e,t){1&e&&s.Qb(0,"app-gallery-source")}function An(e,t){if(1&e&&(s.Tb(0),s.Qb(1,"app-gallery-collections",15),s.Sb()),2&e){var n=s.gc();s.Db(1),s.mc("actionMode",n.actionMode)}}function Nn(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"app-gallery-clients",16),s.cc("clientSelected",(function(e){return s.Cc(n),s.gc().handleClientSelected(e)})),s.Ub(),s.Sb()}}function Ln(e,t){if(1&e){var n=s.Wb();s.Vb(0,"app-gallery-categories",18),s.cc("categorySelected",(function(e){return s.Cc(n),s.gc(2).handleCategorySelected(e)})),s.Ub()}}function En(e,t){if(1&e&&(s.Tb(0),s.Nc(1,Ln,1,0,"app-gallery-categories",17),s.hc(2,"async"),s.hc(3,"async"),s.Sb()),2&e){var n=s.gc();s.Db(1),s.mc("ngIf",s.ic(2,1,n.searchType$)===n.searchTypeEnum.Category||s.ic(3,3,n.searchType$)===n.searchTypeEnum.Community)}}function Bn(e,t){if(1&e){var n=s.Wb();s.Tb(0),s.Vb(1,"app-gallery-filters-loft",19),s.cc("configChange",(function(e){return s.Cc(n),s.gc().handleLoftConfigChange(e)})),s.Ub(),s.Sb()}}function Qn(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",20),s.Vb(1,"button",21),s.cc("click",(function(){return s.Cc(n),s.gc().scrollToTop()})),s.Qb(2,"app-icon",22),s.Pc(3," Back to Top "),s.Ub(),s.Ub()}}var Wn,qn=function(e){return{"gallery--small":e}},Gn=function(e){return{"gallery__filters--empty":e}},Jn=((Wn=function(){function e(t,n,i){u(this,e),this.changeDetectorRef=t,this.store=n,this.breakpointObserver=i,this.applicationEnum=y.a,this.contentTypeEnum=T.a,this.searchTypeEnum=D.a,this.siteFooterType=I.a,this.application=y.a.Studio,this.contentType=T.a.Bookmark,this.viewMode=h.a.Card,this.selectLabel="Select",this.showSourcePicker=!1,this.lazyLoadThreshold=480,this.lazyLoadCount=12,this.actionMode=R.a.Explore,this.actionsEnabled=!0,this.selectBookmark=new s.p,this.bulkAction=new s.p,this.ngUnsubscribe=new f.a,this.isSmall=!0,this.showScrollTo=!1,this.mobileCutoff=!1,this.tagGroups=[S.e,S.d,S.c]}return g(e,[{key:"ngOnInit",value:function(){this.initBreakpointObserver(),this.initSearchConfigObserver()}},{key:"ngAfterViewInit",value:function(){var e=this;this.store.select(d.a.getSidenav).pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.toggleSidenav(t.open&&t.enabled)})),this.initLazyLoadObserver(),this.initScrollObserver()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"initSearchConfigObserver",value:function(){var e=this;this.searchConfig$.pipe(Object(_.a)(this.ngUnsubscribe),Object(M.a)((function(e){return null!=e})),Object(P.a)((function(e,t){return Object(j.isEqual)(e,t)})),Object(k.a)(100)).subscribe((function(t){e.contentType=e.store.selectSnapshot(d.a.getSearchGroup);var n=e.store.selectSnapshot(d.a.getSearchOptions);if(e.store.dispatch(new x.a.SetSearchOptions(Object.assign(Object.assign({},n),{offset:0}))),e.breakpointObserver.isMatched("(max-width: 959px)")){var i=e.store.selectSnapshot(d.a.getSidenav);e.store.dispatch(new x.a.SetSidenav(Object.assign(Object.assign({},i),{open:!1})))}e.changeDetectorRef.markForCheck(),e.search()}))}},{key:"initBreakpointObserver",value:function(){var e=this;this.breakpointObserver.observe("(max-width: 959px)").pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.isSmall=t.matches;var n=e.store.selectSnapshot(d.a.getSidenav);e.store.dispatch(new x.a.SetSidenav(Object.assign(Object.assign({},n),{open:!e.isSmall}))),e.store.dispatch(new x.a.SetViewMode(h.b)),e.changeDetectorRef.markForCheck()})),this.breakpointObserver.observe("(max-width: 540px)").pipe(Object(_.a)(this.ngUnsubscribe)).subscribe((function(t){e.mobileCutoff=t.matches}))}},{key:"initLazyLoadObserver",value:function(){var e=this;Object(b.a)(this.content.getElementRef().nativeElement,"scroll").pipe(Object(_.a)(this.ngUnsubscribe),Object(k.a)(50)).subscribe((function(){var t=e.content.getElementRef().nativeElement;if(t.scrollHeight-(t.scrollTop+t.offsetHeight)<=e.lazyLoadThreshold){var n=e.store.selectSnapshot(d.a.getSearchOptions);n.pageSize+=e.lazyLoadCount,e.store.dispatch(new x.a.SetSearchOptions(n))}}))}},{key:"initScrollObserver",value:function(){var e=this;this.sidenavContainer.scrollable.elementScrolled().pipe(Object(_.a)(this.ngUnsubscribe),Object(w.a)((function(e){return e.srcElement.scrollTop>window.innerHeight})),Object(P.a)()).subscribe((function(t){e.showScrollTo=t,e.changeDetectorRef.markForCheck()}))}},{key:"handleSelect",value:function(e){this.selectBookmark.emit(e)}},{key:"handleCategorySelected",value:function(e){this.store.dispatch(new x.a.SearchCategory(e))}},{key:"handleClientSelected",value:function(e){if(O.a.application===y.a.Studio){var t=Object(U.plainToClass)(C.d,Object.assign(Object.assign({},this.store.selectSnapshot(d.a.getSearchConfig)),{directory:"client/"+e}));this.store.dispatch(new x.a.SetSearchConfig(t))}}},{key:"handleFiltersChange",value:function(e){this.handleSelectedTagChange(e.group,e.tag)}},{key:"handleSelectedTagChange",value:function(e,t){var n=this.store.selectSnapshot(d.a.getActiveTags);n[e]=t,this.store.dispatch(new x.a.SetActiveTags(n))}},{key:"handleLoftConfigChange",value:function(e){this.store.dispatch(new x.a.SetSearchConfig(e))}},{key:"handleBulkAction",value:function(e){this.bulkAction.emit(e)}},{key:"handleSort",value:function(e){var t=this.store.selectSnapshot(d.a.getSearchOptions);t.sortBy=e,this.store.dispatch(new x.a.SetSearchOptions(t)),0===t.sortBy.fields.length&&this.store.dispatch(new x.a.SearchStudio)}},{key:"toggleSidenav",value:function(e){this.sidenav.toggle(e)}},{key:"getTagGroup",value:function(e){var t=S.a.find((function(t){return t.tags.some((function(t){return t===e}))}));return Object(j.get)(t,"title","")}},{key:"search",value:function(){this.store.dispatch(new x.a.SearchStudio)}},{key:"scrollToTop",value:function(){this.content.scrollTo({top:0,behavior:"smooth"})}}]),e}()).\u0275fac=function(e){return new(e||Wn)(s.Pb(s.i),s.Pb(p.h),s.Pb(F.a))},Wn.\u0275cmp=s.Jb({type:Wn,selectors:[["app-gallery-container"]],viewQuery:function(e,t){var n;1&e&&(s.Jc(v.b,!0,v.b),s.Jc(In,!0,v.a),s.Vc(Fn,!0,v.c)),2&e&&(s.xc(n=s.dc())&&(t.sidenavContainer=n.first),s.xc(n=s.dc())&&(t.sidenav=n.first),s.xc(n=s.dc())&&(t.content=n.first))},inputs:{application:"application",contentType:"contentType",viewMode:"viewMode",selectLabel:"selectLabel",showSourcePicker:"showSourcePicker",lazyLoadThreshold:"lazyLoadThreshold",lazyLoadCount:"lazyLoadCount",actionMode:"actionMode",actionsEnabled:"actionsEnabled"},outputs:{selectBookmark:"selectBookmark",bulkAction:"bulkAction"},decls:34,vars:57,consts:[["role","region",1,"gallery",3,"ngClass"],[1,"gallery__container"],["sidenavContainer",""],["fixedTopGap","56",1,"gallery__sidenav",3,"autoFocus","disableClose","fixedInViewport","fixedBottomGap","position","opened","mode"],["sidenav",""],[4,"ngIf"],["content",""],["class","gallery__to-top",4,"ngIf"],[1,"gallery__content","theme-light"],[1,"gallery__header"],[3,"bulkAction","sortChange"],[1,"gallery__filters",3,"ngClass"],[3,"viewMode","selectedTagChange"],[1,"gallery__results"],[3,"actionMode","actionsEnabled","viewMode","loading","selectLabel","results","checkable","checkedResults","selectBookmark"],[3,"actionMode"],[3,"clientSelected"],[3,"categorySelected",4,"ngIf"],[3,"categorySelected"],[3,"configChange"],[1,"gallery__to-top"],["type","button","app-button","","buttonTheme","light","buttonType","info","buttonShape","rounded",3,"click"],["icon","arrow-circle-up"]],template:function(e,t){if(1&e&&(s.Vb(0,"div",0),s.Vb(1,"mat-sidenav-container",1,2),s.Vb(3,"mat-sidenav",3,4),s.hc(5,"async"),s.hc(6,"async"),s.hc(7,"async"),s.hc(8,"async"),s.Nc(9,$n,1,0,"app-gallery-source",5),s.Nc(10,An,2,1,"ng-container",5),s.Nc(11,Nn,2,0,"ng-container",5),s.Nc(12,En,4,5,"ng-container",5),s.Nc(13,Bn,2,0,"ng-container",5),s.hc(14,"async"),s.Ub(),s.Vb(15,"mat-sidenav-content",null,6),s.Nc(17,Qn,4,0,"div",7),s.Vb(18,"div",8),s.Vb(19,"div",9),s.Vb(20,"app-gallery-header",10),s.cc("bulkAction",(function(e){return t.handleBulkAction(e)}))("sortChange",(function(e){return t.handleSort(e)})),s.Ub(),s.Ub(),s.Vb(21,"div",11),s.hc(22,"async"),s.hc(23,"async"),s.Vb(24,"app-gallery-filters",12),s.cc("selectedTagChange",(function(e){return t.handleFiltersChange(e)})),s.hc(25,"async"),s.hc(26,"async"),s.Ub(),s.Ub(),s.Vb(27,"div",13),s.Vb(28,"app-gallery-results",14),s.cc("selectBookmark",(function(e){return t.handleSelect(e)})),s.hc(29,"async"),s.hc(30,"async"),s.hc(31,"async"),s.hc(32,"async"),s.hc(33,"async"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){var n=null;s.mc("ngClass",s.pc(53,qn,t.isSmall)),s.Eb("aria-label","Gallery"),s.Db(3),s.mc("autoFocus",!1)("disableClose",s.ic(5,25,t.sideNav$).disableClose)("fixedInViewport",t.isSmall)("fixedBottomGap",s.ic(6,27,t.siteFooter$)===t.siteFooterType.Mobile?56:0)("position","start")("opened",(null==(n=s.ic(7,29,t.sideNav$))?null:n.open)&&(null==(n=s.ic(8,31,t.sideNav$))?null:n.enabled))("mode",t.isSmall?"push":"side"),s.Db(6),s.mc("ngIf",t.showSourcePicker),s.Db(1),s.mc("ngIf",t.contentType===t.contentTypeEnum.Bookmark),s.Db(1),s.mc("ngIf",t.contentType===t.contentTypeEnum.Internal),s.Db(1),s.mc("ngIf",t.contentType===t.contentTypeEnum.Module),s.Db(1),s.mc("ngIf",s.ic(14,33,t.searchType$)===t.searchTypeEnum.Loft),s.Db(4),s.mc("ngIf",t.showScrollTo),s.Db(4),s.mc("ngClass",s.pc(55,Gn,!1===s.ic(22,35,t.showFilters$)&&0===s.ic(23,37,t.activeTagsCount$))),s.Db(3),s.mc("viewMode",s.ic(25,39,t.showFilters$)&&!0!==s.ic(26,41,t.bulkActionsActive$)&&!t.mobileCutoff?"expanded":"summary"),s.Db(4),s.mc("actionMode",t.actionMode)("actionsEnabled",t.actionsEnabled)("viewMode",t.viewMode)("loading",s.ic(29,43,t.loading$))("selectLabel",t.selectLabel)("results",s.ic(30,45,t.results$))("checkable",s.ic(31,47,t.bulkActionsActive$)&&s.ic(32,49,t.bulkActionsAvailable$))("checkedResults",s.ic(33,51,t.checkedResults$))}},directives:[$.m,v.b,v.a,$.p,v.c,Ie,Fe.a,ct,ht,rn,hn,xn,zn,G.a,J.a],pipes:[$.b],styles:['[_nghost-%COMP%]{width:100%}.gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.gallery[_ngcontent-%COMP%]   .mat-sidenav-content[_ngcontent-%COMP%]{background:#fff}.gallery--small[_ngcontent-%COMP%]   .gallery__container[_ngcontent-%COMP%], .gallery__container[_ngcontent-%COMP%]{flex:1}.gallery__sidenav[_ngcontent-%COMP%]{width:260px;padding-top:12px;color:#1c2a3f}.gallery__content[_ngcontent-%COMP%]{border-left:solid #d7e0ea;border-width:1px;width:100%;min-height:100%;display:grid;grid-template-areas:"header" "filters" "results";grid-template-columns:1fr;grid-template-rows:auto auto 1fr}.gallery__header[_ngcontent-%COMP%]{grid-area:header}.gallery__filters[_ngcontent-%COMP%]{grid-area:filters;padding:32px 40px 0}.gallery__filters--empty[_ngcontent-%COMP%]{padding:0}.gallery__results[_ngcontent-%COMP%]{grid-area:results;padding:36px 40px 12px;margin-top:-24px;overflow-y:hidden}.gallery__to-top[_ngcontent-%COMP%]{pointer-events:none;display:flex;justify-content:center;position:fixed;padding-bottom:12px;bottom:0;z-index:10;left:0;width:100%}.gallery__to-top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{pointer-events:auto}@media (max-width:959px){.gallery__content[_ngcontent-%COMP%]{grid-template-areas:"header" "filters" "results";grid-template-columns:1fr;grid-template-rows:auto auto 1fr}.gallery__results[_ngcontent-%COMP%]{padding:12px 20px}.gallery__sidenav[_ngcontent-%COMP%]{padding-top:0}.gallery__filters[_ngcontent-%COMP%]{padding:32px 20px 0}}'],data:{animation:[Object(z.n)("inFromBottom",[Object(z.m)(":enter",[Object(z.l)({transform:"translateY(100%)"}),Object(z.e)("250ms ease-out",Object(z.l)({transform:"*"}))]),Object(z.m)(":leave",[Object(z.e)("250ms ease-out",Object(z.l)({transform:"translateX(100%)"}))])])]},changeDetection:0}),Rn([Object(p.e)(d.a.getFilteredResults),Vn("design:type",m.a)],Wn.prototype,"results$",void 0),Rn([Object(p.e)(d.a.getCheckedResults),Vn("design:type",m.a)],Wn.prototype,"checkedResults$",void 0),Rn([Object(p.e)(d.a.getLoading),Vn("design:type",m.a)],Wn.prototype,"loading$",void 0),Rn([Object(p.e)(d.a.getSearchConfig),Vn("design:type",m.a)],Wn.prototype,"searchConfig$",void 0),Rn([Object(p.e)(d.a.getSearchType),Vn("design:type",m.a)],Wn.prototype,"searchType$",void 0),Rn([Object(p.e)(d.a.getSearchOptions),Vn("design:type",m.a)],Wn.prototype,"searchOptions$",void 0),Rn([Object(p.e)(d.a.getActiveTags),Vn("design:type",m.a)],Wn.prototype,"activeTags$",void 0),Rn([Object(p.e)(d.a.getActiveTagsCount),Vn("design:type",m.a)],Wn.prototype,"activeTagsCount$",void 0),Rn([Object(p.e)(d.a.getSidenav),Vn("design:type",m.a)],Wn.prototype,"sideNav$",void 0),Rn([Object(p.e)(d.a.getShowFilters),Vn("design:type",m.a)],Wn.prototype,"showFilters$",void 0),Rn([Object(p.e)(V.a.getSiteFooter),Vn("design:type",m.a)],Wn.prototype,"siteFooter$",void 0),Rn([Object(p.e)(d.a.getBulkActionsAvailable),Vn("design:type",m.a)],Wn.prototype,"bulkActionsAvailable$",void 0),Rn([Object(p.e)(d.a.getBulkActionsActive),Vn("design:type",m.a)],Wn.prototype,"bulkActionsActive$",void 0),Wn)},ft4l:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var c=function(e){return e.ExportCSV="Export CSV",e.AddToTeamLibrary="Add to Team Library",e.Delete="Delete",e}({}),o=(a(i={},c.ExportCSV,"exportCSVButton"),a(i,c.AddToTeamLibrary,"AddToTeamLibraryButton"),a(i,c.Delete,"DeleteButton"),i)}}])}();