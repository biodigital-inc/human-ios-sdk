(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1CwK":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Jb({type:e,selectors:[["app-pillbox-divider"]],decls:1,vars:0,consts:[[1,"pillbox-divider"]],template:function(e,t){1&e&&i.Qb(0,"div",0)},styles:[".pillbox-divider{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-right:1px solid rgba(0,0,0,.1);height:18px;margin:0 8px}"],encapsulation:2,changeDetection:0}),e})()},"6/b0":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("AcyG"),o=n("11Ye"),s=n("Lyqc"),r=n("VJvM"),a=n("q8pu"),c=n("Vv7R"),p=n("MuXT"),l=n("gm/O"),d=n("JaAu"),h=n("fXoL");let u=(()=>{class e{constructor(e,t){this.store=e,this.storyService=t}resetScene(){this.store.dispatch(new o.u),this.store.dispatch(new l.a.Reset),this.store.dispatch(new d.a.Reset),this.store.dispatch(new s.D(null)),this.store.dispatch(new r.o),this.store.dispatch(new o.B("")),this.store.dispatch(new a.j),this.store.dispatch(new o.c),this.store.dispatch(new o.t),this.store.dispatch(new c.l)}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(i.h),h.Zb(p.a))},e.\u0275prov=h.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},C9yA:function(e,t){t.remove=function(e){return e.replace(/[^\u0000-\u007e]/g,(function(e){return i[e]||e}))};for(var n=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],i={},o=0;o<n.length;o+=1)for(var s=n[o].chars,r=0;r<s.length;r+=1)i[s[r]]=n[o].base;t.replacementList=n,t.diacriticsMap=i},GW3K:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("LvDl");function o(e,t,n){const i=[...e],o=i.splice(t,1);return i.splice(n,0,...o),i}function s(e,t,n){const o=t.findIndex((t,n)=>{const o=e[n];return!Object(i.isEqual)(o,t)}),s=t[o];return t.map((e,t)=>Object(i.isEqual)(s,e)&&t!==o?n:e)}},JnPr:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n("rDax"),o=n("XNiG"),s=n("VRyK"),r=n("xgIS"),a=n("lJxs"),c=n("1G5W");class p{constructor(e,t,n){this.overlay=e,this.content=t,this.data=n,this.afterClosed=new o.a,this.afterClosed$=this.afterClosed.asObservable(),e.backdropClick().subscribe(()=>this._close("backdropClick",n)),this.entered$=Object(s.a)(Object(r.a)(e.overlayElement,"mouseenter"),Object(r.a)(e.overlayElement,"mouseleave")).pipe(Object(a.a)(e=>"mouseenter"===e.type),Object(c.a)(this.afterClosed$))}close(e){this._close("close",e)}_close(e,t){this.overlay.dispose(),this.afterClosed.next({type:e,data:t}),this.afterClosed.complete()}}var l=n("+rOU"),d=n("fXoL"),h=n("ofXK");function u(e,t){if(1&e&&d.Qb(0,"div",4),2&e){const e=d.gc();d.mc("innerHTML",e.content,d.Dc)}}function g(e,t){1&e&&d.Rb(0)}function b(e,t){if(1&e&&(d.Tb(0),d.Nc(1,g,1,0,"ng-container",5),d.Sb()),2&e){const e=d.gc();d.Db(1),d.mc("ngTemplateOutlet",e.content)("ngTemplateOutletContext",e.context)}}function f(e,t){1&e&&d.Rb(0)}function m(e,t){if(1&e&&(d.Tb(0),d.Nc(1,f,1,0,"ng-container",6),d.Sb()),2&e){const e=d.gc();d.Db(1),d.mc("ngComponentOutlet",e.content)}}let x=(()=>{class e{constructor(e){this.popupRef=e,this.renderMethod="component"}ngOnInit(){this.content=this.popupRef.content,"string"==typeof this.content?this.renderMethod="text":this.content instanceof d.O&&(this.renderMethod="template",this.context={close:this.popupRef.close.bind(this.popupRef)})}}return e.\u0275fac=function(t){return new(t||e)(d.Pb(p))},e.\u0275cmp=d.Jb({type:e,selectors:[["app-popup"]],decls:5,vars:4,consts:[[1,"popup"],[3,"ngSwitch"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngComponentOutlet"]],template:function(e,t){1&e&&(d.Vb(0,"div",0),d.Tb(1,1),d.Nc(2,u,1,1,"div",2),d.Nc(3,b,2,2,"ng-container",3),d.Nc(4,m,2,1,"ng-container",3),d.Sb(),d.Ub()),2&e&&(d.Db(1),d.mc("ngSwitch",t.renderMethod),d.Db(1),d.mc("ngSwitchCase","text"),d.Db(1),d.mc("ngSwitchCase","template"),d.Db(1),d.mc("ngSwitchCase","component"))},directives:[h.r,h.s,h.u,h.n],styles:["[_nghost-%COMP%]{width:100%;height:100%}.popup[_ngcontent-%COMP%]{background:#fff;border-radius:4px;padding:8px;overflow-y:auto;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3)}"],changeDetection:0}),e})();var y=function(e){return e.Above="above",e.Below="below",e.Left="left",e.Right="right",e}({});const v={[y.Above]:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-12},[y.Below]:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:12},[y.Left]:{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-12},[y.Right]:{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:12}};let w=(()=>{class e{constructor(e,t){this.overlay=e,this.injector=t}open(e){const{origin:t,content:n,data:i,width:o,height:s,hasBackdrop:r}=e,a=this.overlay.create(this.getOverlayConfig({origin:t,width:o,height:s,hasBackdrop:r})),c=new p(a,n,i),d=this.createInjector(c,this.injector);return a.attach(new l.c(x,null,d)),c}createInjector(e,t){const n=new WeakMap([[p,e]]);return new l.e(t,n)}getPositionStrategy(e,t){return this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t))}getOverlayConfig({origin:e,width:t,height:n,hasBackdrop:o}){return new i.d({width:t,height:n,hasBackdrop:null==o||o,backdropClass:"popup-scrim",positionStrategy:this.getOverlayPosition(e),scrollStrategy:this.overlay.scrollStrategies.reposition()})}getOverlayPosition(e,t){return t=t||[y.Above,y.Below,y.Left,y.Right],this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t)).withPush(!0)}getPositions(e){return e.map(e=>v[e])}}return e.\u0275fac=function(t){return new(t||e)(d.Zb(i.c),d.Zb(d.t))},e.\u0275prov=d.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},NEgD:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("AcyG"),o=n("XNiG"),s=n("HDdC"),r=n("pLZG"),a=n("1G5W"),c=n("GMXD"),p=n("PUI9"),l=n("HdmJ"),d=n("fXoL"),h=n("7u76"),u=n("2Vo4"),g=n("nS47"),b=n("11Ye"),f=n("ofXK"),m=n("rY+M");function x(e,t){if(1&e){const e=d.Wb();d.Vb(0,"div",6),d.cc("click",(function(){d.Cc(e);const t=d.gc(2).$implicit;return d.gc().handleExpandClick(t,!0)})),d.Ub()}if(2&e){const e=d.gc(2).$implicit;d.mc("title",e.label)}}function y(e,t){if(1&e&&(d.Vb(0,"div",4),d.Nc(1,x,1,1,"div",5),d.Qb(2,"app-tree-group",2),d.Ub()),2&e){const e=d.gc().$implicit,t=d.gc();d.Db(1),d.mc("ngIf",t.hasChildren(e)),d.Db(1),d.mc("graph",t.graph)("node",e)("theme",t.theme)}}const v=function(e){return{"tree-group--light":e}};function w(e,t){if(1&e&&(d.Vb(0,"div",1),d.Qb(1,"app-tree-nested-node",2),d.Nc(2,y,3,4,"div",3),d.Ub()),2&e){const e=t.$implicit,n=d.gc();d.mc("ngClass",d.pc(5,v,n.theme===n.themeEnum.Light)),d.Db(1),d.mc("graph",n.graph)("node",e)("theme",n.theme),d.Db(1),d.mc("ngIf",e.boolState.expanded)}}let O=(()=>{class e{constructor(e,t){this.graphService=e,this.store=t,this.themeEnum=l.a,this.graphSubject=new u.a(null),this.theme=l.a.Dark,this.nodes=[],this.ngUnsubscribe=new o.a}get graph(){return this._graph}set graph(e){e&&(this._graph=e,this.graphSubject.next(e))}ngOnInit(){this.graphSubject.pipe(Object(a.a)(this.ngUnsubscribe)).subscribe(e=>{e&&this.getNodes()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getNodes(){const e=this.node?g.a.getSuccessors(this.graph,this.node.id):g.a.getRoots(this.graph);this.nodes=this.graphService.getNodes(this.graph,e)}countChildren(e){return g.a.getSuccessors(this.graph,e.id).length}hasChildren(e){return this.countChildren(e)>0}trackTreeNode(e,t){return t.id}handleExpandClick(e,t){this.store.dispatch(t?new b.f(e):new b.g(e))}}return e.\u0275fac=function(t){return new(t||e)(d.Pb(h.a),d.Pb(i.h))},e.\u0275cmp=d.Jb({type:e,selectors:[["app-tree-group"]],inputs:{graph:"graph",theme:"theme",node:"node"},decls:1,vars:2,consts:[["class","tree-group",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tree-group",3,"ngClass"],[3,"graph","node","theme"],["class","tree-group__children",4,"ngIf"],[1,"tree-group__children"],["class","tree-group__collapse",3,"title","click",4,"ngIf"],[1,"tree-group__collapse",3,"title","click"]],template:function(e,t){1&e&&d.Nc(0,w,3,7,"div",0),2&e&&d.mc("ngForOf",t.nodes)("ngForTrackBy",t.trackTreeNode)},directives:[f.o,f.m,m.a,f.p,e],styles:['.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28[_ngcontent-%COMP%]{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase[_ngcontent-%COMP%]{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#ed4758}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%], .text-link[_ngcontent-%COMP%]:visited{color:inherit;cursor:pointer}.text-link[_ngcontent-%COMP%]:not(.text-underline), .text-link[_ngcontent-%COMP%]:visited:not(.text-underline){text-decoration:none}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3535}.text-info[_ngcontent-%COMP%]{color:#2d72dc}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.text-pre-line[_ngcontent-%COMP%]{white-space:pre-line}.tree-group[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:#eaeff5}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:transparent}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#d7e0ea}.tree-group__children[_ngcontent-%COMP%]{padding-left:20px;position:relative}.tree-group__collapse[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:20px;z-index:1}.tree-group__collapse[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:1px;left:10px;top:0;bottom:0;background:#1c2a3f}.tree-group__collapse[_ngcontent-%COMP%]:hover{cursor:pointer}.tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#283853}'],changeDetection:0}),e})();var C=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let _=(()=>{class e{constructor(e,t){this.store=e,this.graphService=t,this.theme=l.a.Dark,this.ngUnsubscribe=new o.a}ngOnInit(){this.store.select(c.a.getCheckedNodes).pipe(Object(r.a)(e=>1===e.length),Object(a.a)(this.ngUnsubscribe)).subscribe(e=>{setTimeout(()=>{this.scrollNodeIntoView(e[0])})})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}scrollNodeIntoView(e){const t=this.graphService.sanitizeNodeID(e.objectId),n=document.querySelector(`[data-id="${t}"]`);n&&"scrollBehavior"in document.documentElement.style&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}}return e.\u0275fac=function(t){return new(t||e)(d.Pb(i.h),d.Pb(h.a))},e.\u0275cmp=d.Jb({type:e,selectors:[["app-tree"]],inputs:{theme:"theme",searchGraph:"searchGraph"},decls:2,vars:4,consts:[[3,"theme","graph"]],template:function(e,t){1&e&&(d.Qb(0,"app-tree-group",0),d.hc(1,"async")),2&e&&d.mc("theme",t.theme)("graph",t.searchGraph?t.searchGraph:d.ic(1,2,t.viewGraph$))},directives:[O],pipes:[f.b],styles:[""]}),function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);s>3&&r&&Object.defineProperty(t,n,r)}([Object(i.e)(p.a.getViewGraph),C("design:type",s.a)],e.prototype,"viewGraph$",void 0),e})()},RhC1:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("AcyG");class o{}var s,r=n("82LM"),a=n("EF3F"),c=n("xcvO"),p=n("GUwF"),l=n("DTUA"),d=n("LvDl"),h=n("0Yvn"),u=n("Mh2x"),g=n("CAXj"),b=n("7b4e"),f=n("fXoL"),m=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const y={currentRecipe:a.d,brushMode:c.a.Replace,storyRecipes:{},recentRecipes:[],uniqueStoryRecipes:[],palettes:[]};let v=(()=>{let e=s=class{constructor(e){this.storageService=e}static getCurrentRecipe(e){return e.currentRecipe}static getCurrentRecipeForEngine(e){return h.a.toEngine(e.currentRecipe)}static getPaintBrushMode(e){return e.brushMode}static getRecentRecipes(e){return e.recentRecipes}static getStoryRecipes(e){return e.storyRecipes}static getUniqueStoryRecipes(e){return e.uniqueStoryRecipes}static getPalettes(e){return e.palettes}static getCurrentChapterRecipes(e,t){return e.storyRecipes[t.selectedChapter]}static getChapterRecipes(e){return Object(i.i)([s],t=>t.storyRecipes[e])}setCurrentRecipe(e,{colorRecipe:t}){e.patchState({currentRecipe:t})}setBrushMode(e,t){e.patchState({brushMode:t.brushMode})}clearCurrentRecipe(e,t){e.patchState({currentRecipe:null})}resetPaint(e,t){e.setState(y)}addRecentRecipe(e,t){let n=e.getState().recentRecipes;n.some(e=>p.a.isEqual(e,t.recipe))||(n.splice(0,0,t.recipe),n.length>14&&(n=n.slice(0,14)),this.storageService.setLocalItem(l.b.RecentRecipes,n),e.patchState({recentRecipes:[...n]}))}setRecentRecipes(e,t){const n=Object(d.isNil)(t.recipes)?[]:[...t.recipes];e.patchState({recentRecipes:n}),this.storageService.setLocalItem(l.b.RecentRecipes,n)}setStoryRecipesForChapter(e,t){const n=p.a.generateUniqueRecipes([...t.recipes]),i=e.getState().storyRecipes;i[t.chapterId]=Object(d.isNil)(n)?[]:[...n],e.patchState({storyRecipes:i});let o=Object.values(i).reduce((e,t)=>[...e,...t],[]);o=p.a.generateUniqueRecipes(o),o.sort(p.a.compare),e.patchState({uniqueStoryRecipes:o})}resetStoryRecipes(e,t){e.patchState({storyRecipes:{}})}addPalette(e,t){t.palette.id=b.a.idWithPrefix("palette");const n=[...e.getState().palettes,t.palette];e.dispatch(new r.j(n))}updatePalette(e,t){const n=e.getState().palettes,i=n.findIndex(e=>e.id===t.palette.id);i>=0&&(n[i]=Object.assign({},t.palette)),e.dispatch(new r.j(n))}removePalette(e,t){const n=[...e.getState().palettes.filter(e=>e.id!==t.paletteId)];e.dispatch(new r.j(n))}setPalettes(e,t){const n=Object(d.cloneDeep)(t.palettes?[...t.palettes]:[]);e.patchState({palettes:n}),localStorage.setItem(l.b.PaintPalettes,JSON.stringify(n))}addRecipeToPalette(e,t){const n=e.getState().palettes,i=n.findIndex(e=>e.id===t.paletteId);i>=0&&n[i].recipes.push(t.recipe),e.dispatch(new r.j(n))}togglePalette(e,t){const n=e.getState().palettes,i=n.findIndex(e=>e.id===t.paletteId);i>=0&&(n[i].open=Object(d.isNil)(t.open)?!n[i].open:t.open,e.dispatch(new r.j(n)))}ngxsOnInit(e){}};return e.\u0275fac=function(t){return new(t||e)(f.Zb(l.d))},e.\u0275prov=f.Lb({token:e,factory:e.\u0275fac}),m([Object(i.a)(r.h),x("design:type",Function),x("design:paramtypes",[Object,r.h]),x("design:returntype",void 0)],e.prototype,"setCurrentRecipe",null),m([Object(i.a)(r.i),x("design:type",Function),x("design:paramtypes",[Object,r.i]),x("design:returntype",void 0)],e.prototype,"setBrushMode",null),m([Object(i.a)(r.d),x("design:type",Function),x("design:paramtypes",[Object,r.d]),x("design:returntype",void 0)],e.prototype,"clearCurrentRecipe",null),m([Object(i.a)(r.f),x("design:type",Function),x("design:paramtypes",[Object,r.f]),x("design:returntype",void 0)],e.prototype,"resetPaint",null),m([Object(i.a)(r.b),x("design:type",Function),x("design:paramtypes",[Object,r.b]),x("design:returntype",void 0)],e.prototype,"addRecentRecipe",null),m([Object(i.a)(r.k),x("design:type",Function),x("design:paramtypes",[Object,r.k]),x("design:returntype",void 0)],e.prototype,"setRecentRecipes",null),m([Object(i.a)(r.l),x("design:type",Function),x("design:paramtypes",[Object,r.l]),x("design:returntype",void 0)],e.prototype,"setStoryRecipesForChapter",null),m([Object(i.a)(r.g),x("design:type",Function),x("design:paramtypes",[Object,r.g]),x("design:returntype",void 0)],e.prototype,"resetStoryRecipes",null),m([Object(i.a)(r.a),x("design:type",Function),x("design:paramtypes",[Object,r.a]),x("design:returntype",void 0)],e.prototype,"addPalette",null),m([Object(i.a)(r.n),x("design:type",Function),x("design:paramtypes",[Object,r.n]),x("design:returntype",void 0)],e.prototype,"updatePalette",null),m([Object(i.a)(r.e),x("design:type",Function),x("design:paramtypes",[Object,r.e]),x("design:returntype",void 0)],e.prototype,"removePalette",null),m([Object(i.a)(r.j),x("design:type",Function),x("design:paramtypes",[Object,r.j]),x("design:returntype",void 0)],e.prototype,"setPalettes",null),m([Object(i.a)(r.c),x("design:type",Function),x("design:paramtypes",[Object,r.c]),x("design:returntype",void 0)],e.prototype,"addRecipeToPalette",null),m([Object(i.a)(r.m),x("design:type",Function),x("design:paramtypes",[Object,r.m]),x("design:returntype",void 0)],e.prototype,"togglePalette",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getCurrentRecipe",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getCurrentRecipeForEngine",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getPaintBrushMode",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getRecentRecipes",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getStoryRecipes",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getUniqueStoryRecipes",null),m([Object(i.f)(),x("design:type",Function),x("design:paramtypes",[o]),x("design:returntype",void 0)],e,"getPalettes",null),m([Object(i.f)([u.a]),x("design:type",Function),x("design:paramtypes",[o,g.a]),x("design:returntype",void 0)],e,"getCurrentChapterRecipes",null),e=s=m([Object(i.g)({name:"editPaint",defaults:y})],e),e})()},XiU4:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("sTHe"),o=n("AcyG"),s=n("YLgZ"),r=n("XNiG"),a=n("HDdC"),c=n("TATr"),p=n("Mh2x"),l=n("11Ye"),d=n("snBo"),h=n("q8pu"),u=n("R0Ic"),g=n("j8e5"),b=n("Ryms"),f=n("gm/O"),m=n("JaAu"),x=n("fXoL"),y=n("937/"),v=n("u47x"),w=n("ofXK"),O=n("jHc0"),C=n("9AAO"),_=n("Qu3c"),j=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},k=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function P(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",8),x.cc("touchend",(function(){return x.Cc(e),x.gc(2).setZoomFixed("out")}))("mouseup",(function(){return x.Cc(e),x.gc(2).setZoomFixed("out")}))("keyup.enter",(function(){return x.Cc(e),x.gc(2).setZoomFixed("out")})),x.Ub()}}function S(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",9),x.cc("touchend",(function(){return x.Cc(e),x.gc(2).setZoomFixed("in")}))("mouseup",(function(){return x.Cc(e),x.gc(2).setZoomFixed("in")}))("keyup.enter",(function(){return x.Cc(e),x.gc(2).setZoomFixed("in")})),x.Ub()}}function M(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",10),x.cc("click",(function(){return x.Cc(e),x.gc(2).returnToChapterCamera()})),x.Vb(1,"span",11),x.Pc(2,"Clicking this button will reset the camera viewing the 3D model"),x.Ub(),x.Ub()}}function R(e,t){if(1&e){const e=x.Wb();x.Vb(0,"button",12),x.cc("click",(function(){return x.Cc(e),x.gc(2).togglePan()})),x.hc(1,"async"),x.hc(2,"async"),x.hc(3,"async"),x.Vb(4,"span",11),x.Pc(5,"Clicking this button changes whether the mouse movement rotates or pans the camera"),x.Ub(),x.Ub()}if(2&e){const e=x.gc(2);x.mc("selected","pan"===x.ic(1,3,e.panMode$))("matTooltip","pan"===x.ic(2,5,e.panMode$)?"Switch to Rotate Mode":"Switch to Pan Mode"),x.Eb("aria-pressed","pan"===x.ic(3,7,e.panMode$))}}function N(e,t){if(1&e&&(x.Vb(0,"app-pillbox",2),x.Vb(1,"ul",3),x.Vb(2,"li"),x.Nc(3,P,1,0,"button",4),x.Ub(),x.Vb(4,"li"),x.Nc(5,S,1,0,"button",5),x.Ub(),x.Vb(6,"li"),x.Nc(7,M,3,0,"button",6),x.Ub(),x.Vb(8,"li"),x.Nc(9,R,6,9,"button",7),x.Ub(),x.Ub(),x.Ub()),2&e){const e=x.gc();x.Db(3),x.mc("ngIf",e.showZoom),x.Db(2),x.mc("ngIf",e.showZoom),x.Db(2),x.mc("ngIf",e.showResetPosition),x.Db(2),x.mc("ngIf",e.showPan)}}let I=(()=>{class e{constructor(e,t,n){this.store=e,this.cameraService=t,this.liveAnnouncer=n,this.showNav=!0,this.showZoom=!0,this.showPan=!0,this.showResetPosition=!0,this.viewLayout=d.a,this.toolEnum=i.a,this.expandNav=!1,this.breakpointEnum=b.a,this.padding="none",this.ngUnsubscribe=new r.a}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setZoomFixed(e){this.cameraService.setCameraZoomWithVelocity("in"===e?-8:8),this.liveAnnouncer.announce(`zoom ${e} complete`)}returnToChapterCamera(){const e=this.store.selectSnapshot(p.a.getSelectedChapter);this.store.dispatch(new c.l(e.camera.location)).subscribe(()=>{this.liveAnnouncer.announce("recenter complete")})}resetChapter(){this.returnToChapterCamera();const e=this.store.selectSnapshot(p.a.getSelectedChapterId);this.store.dispatch(new m.a.UndoAll(e)),this.store.dispatch(new f.a.UpdateNodesChecked(!1)),this.store.dispatch(new h.h)}centerCamera(){this.store.dispatch(new l.b)}togglePan(){const e="pan"===this.store.selectSnapshot(s.a.getPanMode)?"rotate":"pan";this.store.dispatch(new c.n(e))}toggleNav(){this.expandNav=!this.expandNav}}return e.\u0275fac=function(t){return new(t||e)(x.Pb(o.h),x.Pb(y.a),x.Pb(v.i))},e.\u0275cmp=x.Jb({type:e,selectors:[["app-engine-camera-bar"]],inputs:{showNav:"showNav",showZoom:"showZoom",showPan:"showPan",showResetPosition:"showResetPosition"},decls:2,vars:1,consts:[["data-test","cameraBar",1,"camera-bar"],["eventCategory","Engine 3D Controls","orientation","vertical",4,"ngIf"],["eventCategory","Engine 3D Controls","orientation","vertical"],["aria-label","Camera Control Buttons",1,"camera-bar__nav"],["app-pin-button","","buttonType","ghost","icon","minus","tabIndex","0","data-test","cameraZoomOut","matTooltip","Zoom Out","matTooltipPosition","left",3,"touchend","mouseup","keyup.enter",4,"ngIf"],["app-pin-button","","buttonType","ghost","icon","plus","tabIndex","0","data-test","cameraZoomIn","matTooltip","Zoom In","matTooltipPosition","left",3,"touchend","mouseup","keyup.enter",4,"ngIf"],["app-pin-button","","icon","location","buttonType","ghost","tabIndex","0","matTooltip","Recenter 3D Model","matTooltipPosition","left","data-test","cameraReset",3,"click",4,"ngIf"],["app-pin-button","","tabIndex","0","icon","arrows-alt","buttonType","ghost","matTooltipPosition","left","data-test","cameraPan",3,"selected","matTooltip","click",4,"ngIf"],["app-pin-button","","buttonType","ghost","icon","minus","tabIndex","0","data-test","cameraZoomOut","matTooltip","Zoom Out","matTooltipPosition","left",3,"touchend","mouseup","keyup.enter"],["app-pin-button","","buttonType","ghost","icon","plus","tabIndex","0","data-test","cameraZoomIn","matTooltip","Zoom In","matTooltipPosition","left",3,"touchend","mouseup","keyup.enter"],["app-pin-button","","icon","location","buttonType","ghost","tabIndex","0","matTooltip","Recenter 3D Model","matTooltipPosition","left","data-test","cameraReset",3,"click"],[1,"visually-hidden"],["app-pin-button","","tabIndex","0","icon","arrows-alt","buttonType","ghost","matTooltipPosition","left","data-test","cameraPan",3,"selected","matTooltip","click"]],template:function(e,t){1&e&&(x.Vb(0,"div",0),x.Nc(1,N,10,4,"app-pillbox",1),x.Ub()),2&e&&(x.Db(1),x.mc("ngIf",t.showNav))},directives:[w.p,O.a,C.a,_.c],pipes:[w.b],styles:[":host{position:relative}.camera-bar{display:flex;flex-direction:column;align-items:center}.camera-bar button:not(:first-child){margin-top:4px}.camera-bar__nav{display:flex;flex-direction:column-reverse;overflow:hidden;transition:height .15s ease-in-out;justify-content:space-between}"],encapsulation:2,data:{animation:[Object(u.n)("expand",[Object(u.m)(":enter",[Object(u.j)([Object(u.l)({height:0}),Object(u.e)("150ms ease-in-out",Object(u.l)({height:"*"}))])]),Object(u.m)(":leave",[Object(u.j)([Object(u.e)("150ms ease-in-out",Object(u.l)({height:"0"}))])])]),Object(u.n)("show",[Object(u.m)(":enter",[Object(u.j)([Object(u.l)({height:"0"}),Object(u.e)("125ms ease-in-out",Object(u.l)({height:"*"}))])]),Object(u.m)(":leave",[Object(u.j)([Object(u.e)("125ms 125ms ease-in-out",Object(u.l)({height:"0"}))])])])]},changeDetection:0}),j([Object(o.e)(s.a.getPanMode),k("design:type",a.a)],e.prototype,"panMode$",void 0),j([Object(o.e)(g.a.getBreakpoint),k("design:type",a.a)],e.prototype,"breakpoint$",void 0),e})()},gcYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("7o/Q"),o=n("D0XW");n("zx2A");const s={leading:!0,trailing:!1};function r(e,t=o.a,n=s){return i=>i.lift(new a(e,t,n.leading,n.trailing))}class a{constructor(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}call(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))}}class c extends i.a{constructor(e,t,n,i,o){super(e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(p,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function p(e){const{subscriber:t}=e;t.clearThrottle()}},iTtc:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("AcyG");class o{}var s=n("jjCP"),r=n("x/dY"),a=n("RhC1"),c=n("82LM"),p=n("mdY/"),l=n("AytR"),d=n("p345"),h=n("DTUA"),u=n("fXoL"),g=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const f={view:r.a.Chapter,showColumns:!0,showLeftColumn:!0,showRightColumn:!0,showHeader:!0,showFooter:!0,showTimelineEditor:!1,autoCapture:l.a.application!==d.a.Loft,record:!0,layerOrderMode:!1,showTreeNodeIds:!1,showRootNodes:!1,canvasSize:p.a,canvasSettings:{emulateDrawer:!0,emulateColumn:!0}};let m=(()=>{let e=class{constructor(e){this.storageService=e}static getView(e){return e.view}static getShowColumns(e){return e.showColumns}static getShowLeftColumn(e){return e.showLeftColumn}static getShowRightColumn(e){return e.showRightColumn}static getShowHeader(e){return e.showHeader}static getShowFooter(e){return e.showFooter}static getShowTimelineEditor(e){return e.showTimelineEditor}static getRecord(e){return e.record}static getLayerOrderMode(e){return e.layerOrderMode}static getShowTreeNodeIds(e){return e.showTreeNodeIds}static getCanvasSize(e){return e.canvasSize}static getCanvasSettings(e){return e.canvasSettings}static getAutoCapture(e){return e.autoCapture}static getShowRootNodes(e){return e.showRootNodes}SetLayerOrderMode(e,t){e.patchState({layerOrderMode:t.layerOrderMode})}ShowTreeNodeIds(e,t){const n=null!=t.show?t.show:!e.getState().showTreeNodeIds;e.patchState({showTreeNodeIds:n})}showRootNodes(e,t){e.patchState({showRootNodes:t.show})}setView(e,t){e.patchState({view:t.view})}nextView(e,t){const{view:n}=e.getState(),i=Object.values(r.a),o=i[i.indexOf(n)+1]||i[0];e.patchState({view:o})}previousView(e,t){const{view:n}=e.getState(),i=Object.values(r.a),o=i[i.indexOf(n)-1]||i[i.length-1];e.patchState({view:o})}showColumns(e,t){e.patchState({showColumns:t.show})}showColumn(e,t){switch(t.column){case"left":e.patchState({showLeftColumn:t.show});break;case"right":e.patchState({showRightColumn:t.show});break;case"header":e.patchState({showHeader:t.show});break;case"footer":e.patchState({showFooter:t.show})}}showTimelineEditor(e,t){e.patchState({showTimelineEditor:t.show})}resetEditPage(e,t){e.setState(f),e.dispatch(new c.f)}setCanvasSize(e,t){e.patchState({canvasSize:t.size})}autoCapture(e,t){e.patchState({autoCapture:t.enable}),l.a.application===d.a.Studio&&this.storageService.setLocalItem(h.b.AutoCapture,t.enable)}ngxsOnInit(e){setTimeout(()=>{this.initAutoCapture(e)})}initAutoCapture(e){if(l.a.application===d.a.Studio){const t=this.storageService.getLocalJSON(h.b.AutoCapture);"boolean"==typeof t&&e.patchState({autoCapture:t})}}};return e.\u0275fac=function(t){return new(t||e)(u.Zb(h.d))},e.\u0275prov=u.Lb({token:e,factory:e.\u0275fac}),g([Object(i.a)(s.g),b("design:type",Function),b("design:paramtypes",[Object,s.g]),b("design:returntype",void 0)],e.prototype,"SetLayerOrderMode",null),g([Object(i.a)(s.m),b("design:type",Function),b("design:paramtypes",[Object,s.m]),b("design:returntype",void 0)],e.prototype,"ShowTreeNodeIds",null),g([Object(i.a)(s.k),b("design:type",Function),b("design:paramtypes",[Object,s.k]),b("design:returntype",void 0)],e.prototype,"showRootNodes",null),g([Object(i.a)(s.h),b("design:type",Function),b("design:paramtypes",[Object,s.h]),b("design:returntype",void 0)],e.prototype,"setView",null),g([Object(i.a)(s.b),b("design:type",Function),b("design:paramtypes",[Object,s.b]),b("design:returntype",void 0)],e.prototype,"nextView",null),g([Object(i.a)(s.d),b("design:type",Function),b("design:paramtypes",[Object,s.b]),b("design:returntype",void 0)],e.prototype,"previousView",null),g([Object(i.a)(s.j),b("design:type",Function),b("design:paramtypes",[Object,s.j]),b("design:returntype",void 0)],e.prototype,"showColumns",null),g([Object(i.a)(s.i),b("design:type",Function),b("design:paramtypes",[Object,s.i]),b("design:returntype",void 0)],e.prototype,"showColumn",null),g([Object(i.a)(s.l),b("design:type",Function),b("design:paramtypes",[Object,s.l]),b("design:returntype",void 0)],e.prototype,"showTimelineEditor",null),g([Object(i.a)(s.e),b("design:type",Function),b("design:paramtypes",[Object,s.e]),b("design:returntype",void 0)],e.prototype,"resetEditPage",null),g([Object(i.a)(s.f),b("design:type",Function),b("design:paramtypes",[Object,s.f]),b("design:returntype",void 0)],e.prototype,"setCanvasSize",null),g([Object(i.a)(s.a),b("design:type",Function),b("design:paramtypes",[Object,s.a]),b("design:returntype",void 0)],e.prototype,"autoCapture",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getView",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowColumns",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowLeftColumn",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowRightColumn",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowHeader",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowFooter",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowTimelineEditor",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getRecord",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getLayerOrderMode",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowTreeNodeIds",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getCanvasSize",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getCanvasSettings",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getAutoCapture",null),g([Object(i.f)(),b("design:type",Function),b("design:paramtypes",[o]),b("design:returntype",void 0)],e,"getShowRootNodes",null),e=g([Object(i.g)({name:"edit",defaults:f,children:[a.a]})],e),e})()},imBb:function(e,t,n){var i;!function(o,s,r){if(o){for(var a,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},p={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)c[111+h]="f"+h;for(h=0;h<=9;++h)c[h+96]=h.toString();x.prototype.bind=function(e,t,n){return this._bindMultiple.call(this,e=e instanceof Array?e:[e],t,n),this},x.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},x.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},x.prototype.reset=function(){return this._callbacks={},this._directMap={},this},x.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==s&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},x.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},x.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);a=null},x.init=function(){var e=x(s);for(var t in e)"_"!==t.charAt(0)&&(x[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},x.init(),o.Mousetrap=x,e.exports&&(e.exports=x),void 0===(i=(function(){return x}).call(t,n,t,e))||(e.exports=i)}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function g(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:p[e.which]?p[e.which]:String.fromCharCode(e.which).toLowerCase()}function b(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(e,t,n){return n||(n=function(){if(!a)for(var e in a={},c)e>95&&e<112||c.hasOwnProperty(e)&&(a[c[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,i,o,s=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)d[i=n[o]]&&(i=d[i]),t&&"keypress"!=t&&l[i]&&(i=l[i],s.push("shift")),b(i)&&s.push(i);return{key:i,modifiers:s,action:t=f(i,s,t)}}function x(e){var t=this;if(e=e||s,!(t instanceof x))return new x(e);t.target=e,t._callbacks={},t._directMap={};var n,i={},o=!1,r=!1,a=!1;function c(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(a=!1)}function p(e,n,o,s,r,a){var c,p,l,d=[],h=o.type;if(!t._callbacks[e])return[];for("keyup"==h&&b(e)&&(n=[e]),c=0;c<t._callbacks[e].length;++c)p=t._callbacks[e][c],(s||!p.seq||i[p.seq]==p.level)&&h==p.action&&(("keypress"!=h||o.metaKey||o.ctrlKey)&&(l=p.modifiers,n.sort().join(",")!==l.sort().join(","))||((!s&&p.combo==r||s&&p.seq==s&&p.level==a)&&t._callbacks[e].splice(c,1),d.push(p)));return d}function l(e,n,i,o){t.stopCallback(n,n.target||n.srcElement,i,o)||!1===e(n,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=g(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function h(e,s,r,d,u){t._directMap[e+":"+r]=s;var b,f=(e=e.replace(/\s+/g," ")).split(" ");f.length>1?function(e,t,s,r){function p(t){return function(){a=t,++i[e],clearTimeout(n),n=setTimeout(c,1e3)}}function d(t){l(s,t,e),"keyup"!==r&&(o=g(t)),setTimeout(c,10)}i[e]=0;for(var u=0;u<t.length;++u){var b=u+1===t.length?d:p(r||m(t[u+1]).action);h(t[u],b,r,e,u)}}(e,f,s,r):(b=m(e,r),t._callbacks[b.key]=t._callbacks[b.key]||[],p(b.key,b.modifiers,{type:b.action},d,e,u),t._callbacks[b.key][d?"unshift":"push"]({callback:s,modifiers:b.modifiers,action:b.action,seq:d,level:u,combo:e}))}t._handleKey=function(e,t,n){var i,o=p(e,t,n),s={},d=0,h=!1;for(i=0;i<o.length;++i)o[i].seq&&(d=Math.max(d,o[i].level));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!=d)continue;h=!0,s[o[i].seq]=1,l(o[i].callback,n,o[i].combo,o[i].seq)}else h||l(o[i].callback,n,o[i].combo);var u="keypress"==n.type&&r;n.type!=a||b(e)||u||c(s),r=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)h(e[i],t,n)},u(e,"keypress",d),u(e,"keydown",d),u(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},jHc0:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("fXoL"),o=n("ofXK"),s=n("1CwK"),r=n("9AAO"),a=n("Qu3c");function c(e,t){if(1&e){const e=i.Wb();i.Tb(0),i.Qb(1,"app-pillbox-divider"),i.Vb(2,"button",2),i.cc("click",(function(){return i.Cc(e),i.gc().handleExitClick()})),i.Ub(),i.Sb()}if(2&e){const e=i.gc();i.Db(2),i.mc("matTooltip","Close "+e.name),i.Eb("aria-label","Close "+e.name)}}const p=function(e,t,n){return{"pillbox--padding-dense":e,"pillbox--padding-none":t,"pillbox--vertical":n}},l=["*"];let d=(()=>{class e{constructor(){this.canExit=!1,this.padding="normal",this.orientation="horizontal",this.name="",this.eventCategory="",this.exit=new i.p}ngOnInit(){}handleExitClick(){this.exit.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Jb({type:e,selectors:[["app-pillbox"]],inputs:{canExit:"canExit",padding:"padding",orientation:"orientation",name:"name",eventCategory:"eventCategory"},outputs:{exit:"exit"},ngContentSelectors:l,decls:3,vars:6,consts:[[1,"pillbox",3,"ngClass"],[4,"ngIf"],["data-test","closePillboxButton","app-pin-button","","buttonType","ghost","icon","times",3,"matTooltip","click"]],template:function(e,t){1&e&&(i.lc(),i.Vb(0,"div",0),i.kc(1),i.Nc(2,c,3,2,"ng-container",1),i.Ub()),2&e&&(i.mc("ngClass",i.rc(2,p,"dense"===t.padding,"none"===t.padding,"vertical"===t.orientation)),i.Db(2),i.mc("ngIf",t.canExit))},directives:[o.m,o.p,s.a,r.a,a.c],styles:[".pillbox{border-radius:32px;background-color:hsla(0,0%,100%,.9);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;padding:6px;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;transition:padding .15s}.pillbox--padding-dense{padding:4px}.pillbox--padding-none{padding:0}.pillbox--vertical{flex-direction:column;padding:6px}"],encapsulation:2,changeDetection:0}),e})()},"mdY/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));class i{constructor(e,t,n){this.label=e,this.width=t,this.height=n}}const o=new i("Don't Resize",-1,-1),s=new i("Common (Mobile)",360,640),r=new i("Common (Minimum)",300,300),a=new i("Common (Publish Default)",700,550),c=new i("iPhone X",375,812),p=new i("iPad (Portrait)",768,1024),l=new i("iPad (Landscape)",1024,768),d=[o,s,a,r,c,p,l]},nhKa:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ZULQ"),o=n("fXoL");let s=(()=>{class e{transform(e,t){return i.a.normalize(""+(e||""))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Ob({name:"textNormalize",type:e,pure:!0}),e})()},o0EK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),o=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=o.Nb({type:e}),e.\u0275inj=o.Mb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})()},"rY+M":function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var i=n("AcyG"),o=n("11Ye"),s=n("iTtc"),r=n("XNiG"),a=n("HDdC"),c=n("1G5W"),p=n("GMXD"),l=n("AytR"),d=n("nS47"),h=n("p345"),u=n("gm/O"),g=n("PUI9"),b=n("HdmJ"),f=n("fXoL"),m=n("7u76"),x=n("eW6i"),y=n("tyNb"),v=n("ofXK"),w=n("IlST"),O=n("PmOP"),C=n("0njA"),_=n("51ZA"),j=n("IZUe"),k=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function S(e,t){if(1&e){const e=f.Wb();f.Vb(0,"button",9),f.cc("click",(function(){f.Cc(e);const t=f.gc();return t.handleExpandClick(t.node,t.node.boolState.expanded)})),f.Qb(1,"app-icon",10),f.Ub()}if(2&e){const e=f.gc();f.mc("buttonTheme",e.theme),f.Eb("aria-label",e.node.boolState.expanded?"Collapse "+e.node.label:"Expand "+e.node.label)("aria-expanded",e.node.boolState.expanded),f.Db(1),f.Hb("rotate-45",e.node.boolState.expanded)}}function M(e,t){if(1&e&&(f.Vb(0,"div",16),f.Pc(1),f.Ub()),2&e){const e=f.gc(2);f.Db(1),f.Rc(" ",e.shortId," ")}}const R=function(e){return{"tree-node__label--padded":e}};function N(e,t){if(1&e){const e=f.Wb();f.Vb(0,"div",11),f.cc("dblclick",(function(){return f.Cc(e),f.gc().setEditLabelMode(!0)})),f.Vb(1,"div",12),f.Nc(2,M,2,1,"div",13),f.hc(3,"async"),f.Vb(4,"div",14),f.Vb(5,"span",15),f.Pc(6,"Select"),f.Ub(),f.Pc(7),f.Ub(),f.Ub(),f.Ub()}if(2&e){const e=f.gc();f.mc("ngClass",f.pc(6,R,!e.hasChildren&&e.nested)),f.Eb("aria-current",e.checked),f.Db(2),f.mc("ngIf",f.ic(3,4,e.showTreeNodeIds$)),f.Db(5),f.Rc(" ",e.node.label," ")}}function I(e,t){if(1&e){const e=f.Wb();f.Vb(0,"input",17),f.cc("blur",(function(t){return f.Cc(e),f.gc().handleObjectLabel(t)}))("keyup",(function(t){return f.Cc(e),f.gc().handleObjectLabel(t)})),f.Ub()}if(2&e){const e=f.gc();f.mc("value",e.node.label)}}function T(e,t){if(1&e){const e=f.Wb();f.Vb(0,"input",18),f.cc("change",(function(t){f.Cc(e);const n=f.gc();return n.handleLayerOrder(t,n.node)})),f.Ub()}if(2&e){const e=f.gc();f.mc("value",e.node.numState.layer)}}const F=function(e,t,n,i){return{"tree-node--light":e,"tree-node--hidden":t,"tree-node--selected":n,"tree-node--unpickable":i}};let z=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.graphService=t,this.engineService=n,this.router=i,this.changeDetection=o,this.themeEnum=b.a,this.isLoft="module"===l.a.exportType,this.nested=!0,this._theme=b.a.Dark,this.checked=!1,this.hasChildren=!1,this.editLabelMode=!1,this.sanitizedID="",this.parentId="",this.shortId="",this.ngUnsubscribe=new r.a}get node(){return this._node}set node(e){this._node=e,this.sanitizedID=this.graphService.sanitizeNodeID(this.node.id),this.checked=this.isNodeChecked(this.node.id);const t=this.node.id.split("-");2===t.length?(this.parentId=t[0],this.shortId=t[1]):(this.shortId=t[0],this.parentId=""),this.shortId=this.shortId.replace(/_/g," "),this.nested&&(this.hasChildren=d.a.getSuccessors(this.graph,this.node.id).length>0),this.changeDetection.markForCheck()}get theme(){return this._theme}set theme(e){this._theme=e}isNodeChecked(e){return this.store.selectSnapshot(p.a.getNodes)[e].checked}isNodeShown(e){return this.store.selectSnapshot(p.a.getNodes)[e].shown}ngOnInit(){this.checkedNodesIds$.pipe(Object(c.a)(this.ngUnsubscribe)).subscribe(e=>{this.checked=e.some(e=>e===this.node.id),this.changeDetection.markForCheck()}),this.labelEditNode$.pipe(Object(c.a)(this.ngUnsubscribe)).subscribe(e=>{this.editLabelMode=e===this.node}),this.isEditMode=this.router.url.indexOf("/edit")>=0}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleExpandClick(e,t){this.store.dispatch(t?new o.f(e):new o.g(e))}handleNodeClick(e,t){e.shiftKey?this.checkNode(t):(this.setCheckedNodes(t),this.isFlyToNodeEnabled(t)&&this.store.dispatch(new o.j(t.id)),this.handleExpandClick(t,!t.boolState.expanded))}toggleVisible(e,t){const n=void 0===t?!this.isNodeShown(e.id):t;this.store.dispatch(new u.a.UpdateNodesShown(n,[e.id])),this.changeDetection.markForCheck()}handleLayerOrder(e,t){const n=parseInt(e.target.value,10);this.setLayerOrder(t,n)}checkNode(e,t){const n=void 0===t?!this.isNodeChecked(e.id):t;this.store.dispatch(new u.a.UpdateNodesChecked(n,[e.id]))}setCheckedNodes(e,t){this.store.dispatch(new u.a.UpdateNodesChecked(!1));const n=void 0===t?!this.isNodeChecked(e.id):t;this.store.dispatch(new u.a.UpdateNodesChecked(n,[e.id]))}setLayerOrder(e,t){this.store.dispatch(new o.I([e],t)),this.changeDetection.markForCheck()}handleObjectLabel(e){const t=e.target;e instanceof KeyboardEvent?("enter"===e.key.toLowerCase()&&(this.setLabel(t.value),this.setEditLabelMode(!1)),"escape"===e.key.toLowerCase()&&this.setEditLabelMode(!1)):e instanceof FocusEvent&&"blur"===e.type&&(this.setLabel(t.value),this.setEditLabelMode(!1))}setLabel(e){this.node.label=e,this.store.dispatch(new o.H(this.node.id,e))}setEditLabelMode(e){l.a.application===h.a.Loft&&this.isEditMode&&this.store.dispatch(new o.F(e?this.node:null))}isFlyToNodeEnabled(e){return!this.isEditMode&&(e.boolState.shown||this.engineService.getObjectLoaded(e.id))}}return e.\u0275fac=function(t){return new(t||e)(f.Pb(i.h),f.Pb(m.a),f.Pb(x.a),f.Pb(y.e),f.Pb(f.i))},e.\u0275cmp=f.Jb({type:e,selectors:[["app-tree-nested-node"]],inputs:{graph:"graph",node:"node",nested:"nested",theme:"theme"},decls:10,vars:16,consts:[["data-test","treeNode",1,"tree-node",3,"ngClass","keyup.enter","click"],["app-button","","appEventFence","","buttonSize","xsmall","class","tree-node__button","data-test","treeNodeExpand",3,"buttonTheme","click",4,"ngIf"],["class","tree-node__label","tabindex","0","role","button",3,"ngClass","dblclick",4,"ngIf"],["type","text","appEventFence","","appAutoFocus","","data-test","treeNodeEditLabel","class","input",3,"value","blur","keyup",4,"ngIf"],["appEventFence","","type","text","data-test","treeNodeLayerOrder","class","input input--small tree-node__layer-order",3,"value","change",4,"ngIf"],["app-button","","buttonSize","xsmall","data-test","treeNodeVisible","tabindex","-1","aria-hidden","true","appEventFence","",1,"tree-node__visible",3,"buttonTheme","click"],["icon","eye","data-test","treeNodeVisibleTrue","size","xs",1,"text-14","tree-node__eye"],["icon","eye-slash","data-test","treeNodeVisibleFalse","size","xs",1,"text-14","tree-node__eye-slash"],["eventCategory","Search Node","appEventFence","",3,"theme","node"],["app-button","","appEventFence","","buttonSize","xsmall","data-test","treeNodeExpand",1,"tree-node__button",3,"buttonTheme","click"],["icon","caret-right",1,"inline-block","text-14"],["tabindex","0","role","button",1,"tree-node__label",3,"ngClass","dblclick"],[1,"flex","flex-column"],["data-test","treeNodeId","class","text-10 text-uppercase","style","opacity: 0.7",4,"ngIf"],["data-test","treeNodeLabel"],[1,"visually-hidden"],["data-test","treeNodeId",1,"text-10","text-uppercase",2,"opacity","0.7"],["type","text","appEventFence","","appAutoFocus","","data-test","treeNodeEditLabel",1,"input",3,"value","blur","keyup"],["appEventFence","","type","text","data-test","treeNodeLayerOrder",1,"input","input--small","tree-node__layer-order",3,"value","change"]],template:function(e,t){1&e&&(f.Vb(0,"div",0),f.cc("keyup.enter",(function(e){return t.handleNodeClick(e,t.node)}))("click",(function(e){return t.handleNodeClick(e,t.node)})),f.Nc(1,S,2,5,"button",1),f.Nc(2,N,8,8,"div",2),f.Nc(3,I,1,1,"input",3),f.Nc(4,T,1,1,"input",4),f.hc(5,"async"),f.Vb(6,"button",5),f.cc("click",(function(){return t.toggleVisible(t.node)})),f.Qb(7,"app-icon",6),f.Qb(8,"app-icon",7),f.Ub(),f.Qb(9,"app-node-actions",8),f.Ub()),2&e&&(f.mc("ngClass",f.sc(11,F,t.theme===t.themeEnum.Light,!t.node.boolState.shown,t.checked,!t.node.boolState.pickable)),f.Eb("data-id",t.sanitizedID),f.Db(1),f.mc("ngIf",t.nested&&t.hasChildren),f.Db(1),f.mc("ngIf",!t.editLabelMode),f.Db(1),f.mc("ngIf",t.editLabelMode),f.Db(1),f.mc("ngIf",f.ic(5,9,t.layerOrderMode$)),f.Db(2),f.mc("buttonTheme",t.theme),f.Db(3),f.mc("theme",t.theme)("node",t.node))},directives:[v.m,v.p,w.a,O.a,C.a,_.a,j.a],pipes:[v.b],styles:[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-13{font-size:13px;letter-spacing:.325px;line-height:1.4em}.text-13.text-uppercase{font-size:13px;letter-spacing:.78px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-28{font-size:28px;letter-spacing:.7px;line-height:1.4em}.text-28.text-uppercase{font-size:28px;letter-spacing:1.68px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:Courier New,Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#ed4758}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link,.text-link:visited{color:inherit;cursor:pointer}.text-link:not(.text-underline),.text-link:visited:not(.text-underline){text-decoration:none}.text-success{color:#38de38}.text-danger{color:#de3535}.text-info{color:#2d72dc}.text-nowrap{white-space:nowrap}.text-pre-line{white-space:pre-line}:host{display:block}.tree-node{border-radius:4px;padding:4px;margin-bottom:4px;display:flex;align-items:center;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:200px;transition:background-color .12s}.tree-node--light{padding-right:12px}.tree-node--light:focus{outline:2px solid #2d72dc!important;outline-offset:-2px;border-radius:4px}.tree-node--light .tree-node__label{color:#101823;font-size:13px;letter-spacing:.325px;line-height:1.4em}.tree-node--light.tree-node--selected{background:transparent;border-left-color:transparent}.tree-node--light.tree-node--selected .tree-node__label{color:#101823!important}.tree-node--light.tree-node--selected .tree-node__expand,.tree-node--light.tree-node--selected .tree-node__visible{color:#101823}.tree-node--light.tree-node--unpickable{border:none}.tree-node--light.tree-node--hidden .tree-node__label{color:#61779e}.tree-node--light .tree-node__expand,.tree-node--light .tree-node__visible{background-color:transparent;color:#96a8c0;border-radius:4px}.tree-node--selected{background-color:#2d72dc}.tree-node--selected .tree-node__label{color:#fff}.tree-node--unpickable{border:1px dashed #61779e}.tree-node--hidden .tree-node__expand,.tree-node--hidden .tree-node__label,.tree-node--hidden .tree-node__visible{color:#96a8c0}.tree-node--hidden .tree-node__visible{visibility:visible}.tree-node.tree-node--hidden.tree-node--selected .tree-node__expand,.tree-node.tree-node--hidden.tree-node--selected .tree-node__label,.tree-node.tree-node--hidden.tree-node--selected .tree-node__visible{color:#fff}.tree-node__label{font-size:12px;letter-spacing:.3px;line-height:1.4em;letter-spacing:.5px;font-weight:400;line-height:1.3em;color:#d7e0ea;padding:8px 4px 8px 12px;display:flex;align-items:center;flex:1 1 100%;min-height:28px}.tree-node__label--padded{padding-left:36px}.tree-node__button{display:flex;flex:0 0 24px;height:24px;justify-content:center;align-items:center;border:none}.tree-node__expand i{transition:transform .12s}.tree-node__expand--open app-icon{transform:rotate(45deg)}.tree-node .tree-node__expand+.tree-node__label{margin-left:-8px}.tree-node__expand,.tree-node__visible{border-radius:4px;color:#d7e0ea;display:flex;flex:0 0 24px;height:24px;justify-content:center;align-items:center;border:none}.tree-node__layer-order{font-size:10px;flex:0 0 56px;min-height:28px;height:28px;padding:4px;margin:2px;text-align:center}.tree-node .tree-node__eye,.tree-node .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__eye-slash,.tree-node:not(.tree-node--hidden) .tree-node__eye{display:inline}@media (hover:hover){.tree-node__visible{visibility:hidden}.tree-node:hover{cursor:pointer}.tree-node:hover .tree-node__visible{visibility:visible}.tree-node:hover .tree-node__label{color:#fff}.tree-node--light:hover{background-color:#d6ecff}.tree-node--light:hover .tree-node__label{color:#101823}.tree-node--light.tree-node--selected{background-color:#d6ecff}.tree-node--light.tree-node--selected:hover{background-color:#bde0ff}.tree-node--light.tree-node--selected .tree-node__label{color:#101823}.tree-node--light.tree-node--selected .tree-node__expand:hover,.tree-node--light.tree-node--selected .tree-node__visible:hover,.tree-node--light .tree-node__expand:hover,.tree-node--light .tree-node__visible:hover{background-color:transparent;color:inherit}.tree-node__expand:hover,.tree-node__visible:hover{background-color:#1c2a3f;color:#fff;cursor:pointer}.tree-node--selected .tree-node__expand:hover,.tree-node--selected .tree-node__visible:hover{background-color:#2d72dc}.tree-node .tree-node__eye,.tree-node .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__eye-slash,.tree-node:hover:not(.tree-node--hidden) .tree-node__eye{display:inline}}"],encapsulation:2,changeDetection:0}),k([Object(i.e)(p.a.getCheckedNodeIds),P("design:type",a.a)],e.prototype,"checkedNodesIds$",void 0),k([Object(i.e)(s.a.getLayerOrderMode),P("design:type",a.a)],e.prototype,"layerOrderMode$",void 0),k([Object(i.e)(g.a.getLabelEditNode),P("design:type",a.a)],e.prototype,"labelEditNode$",void 0),k([Object(i.e)(s.a.getShowTreeNodeIds),P("design:type",a.a)],e.prototype,"showTreeNodeIds$",void 0),e})()},xcvO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.Modify=0]="Modify",e[e.Replace=1]="Replace",e}({})}}]);